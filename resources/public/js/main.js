var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function($b,Rb,Ic,Nb){var n=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable;Ic.exports=function(){try{if(!Object.assign)return!1;var Sa=new String("abc");Sa[5]="de";if("5"===Object.getOwnPropertyNames(Sa)[0])return!1;var Wb={};for(Sa=0;10>Sa;Sa++)Wb["_"+String.fromCharCode(Sa)]=Sa;if("0123456789"!==Object.getOwnPropertyNames(Wb).map(function(ub){return Wb[ub]}).join(""))return!1;var fb={};"abcdefghijklmnopqrst".split("").forEach(function(ub){fb[ub]=
ub});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},fb)).join("")?!1:!0}catch(ub){return!1}}()?Object.assign:function(Sa,Wb){if(null===Sa||void 0===Sa)throw new TypeError("Object.assign cannot be called with null or undefined");var fb=Object(Sa);for(var ub,Ob=1;Ob<arguments.length;Ob++){var zb=Object(arguments[Ob]);for(var cb in zb)x.call(zb,cb)&&(fb[cb]=zb[cb]);if(n){ub=n(zb);for(var ob=0;ob<ub.length;ob++)ea.call(zb,ub[ob])&&(fb[ub[ob]]=zb[ub[ob]])}}return fb}};
shadow$provide[1]=function($b,Rb,Ic,Nb){function n(W){for(var Y="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+W,ma=1;ma<arguments.length;ma++)Y+="\x26args[]\x3d"+encodeURIComponent(arguments[ma]);return"Minified React error #"+W+"; visit "+Y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(W,Y,ma){this.props=W;this.context=Y;this.refs=nb;this.updater=ma||db}function ea(){}function Sa(W,Y,ma){this.props=W;this.context=
Y;this.refs=nb;this.updater=ma||db}function Wb(W,Y,ma){var Qa,Ua={},U=null,sa=null;if(null!=Y)for(Qa in void 0!==Y.ref&&(sa=Y.ref),void 0!==Y.key&&(U=""+Y.key),Y)S.call(Y,Qa)&&!z.hasOwnProperty(Qa)&&(Ua[Qa]=Y[Qa]);var ua=arguments.length-2;if(1===ua)Ua.children=ma;else if(1<ua){for(var la=Array(ua),T=0;T<ua;T++)la[T]=arguments[T+2];Ua.children=la}if(W&&W.defaultProps)for(Qa in ua=W.defaultProps,ua)void 0===Ua[Qa]&&(Ua[Qa]=ua[Qa]);return{$$typeof:hb,type:W,key:U,ref:sa,props:Ua,_owner:$a.current}}
function fb(W,Y){return{$$typeof:hb,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function ub(W){return"object"===typeof W&&null!==W&&W.$$typeof===hb}function Ob(W){var Y={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+W).replace(/[=:]/g,function(ma){return Y[ma]})}function zb(W,Y,ma,Qa){if(Q.length){var Ua=Q.pop();Ua.result=W;Ua.keyPrefix=Y;Ua.func=ma;Ua.context=Qa;Ua.count=0;return Ua}return{result:W,keyPrefix:Y,func:ma,context:Qa,count:0}}function cb(W){W.result=null;W.keyPrefix=null;W.func=
null;W.context=null;W.count=0;10>Q.length&&Q.push(W)}function ob(W,Y,ma,Qa){var Ua=typeof W;if("undefined"===Ua||"boolean"===Ua)W=null;var U=!1;if(null===W)U=!0;else switch(Ua){case "string":case "number":U=!0;break;case "object":switch(W.$$typeof){case hb:case Ca:U=!0}}if(U)return ma(Qa,W,""===Y?"."+Xa(W,0):Y),1;U=0;Y=""===Y?".":Y+":";if(Array.isArray(W))for(var sa=0;sa<W.length;sa++){Ua=W[sa];var ua=Y+Xa(Ua,sa);U+=ob(Ua,ua,ma,Qa)}else if(null===W||"object"!==typeof W?ua=null:(ua=ib&&W[ib]||W["@@iterator"],
ua="function"===typeof ua?ua:null),"function"===typeof ua)for(W=ua.call(W),sa=0;!(Ua=W.next()).done;)Ua=Ua.value,ua=Y+Xa(Ua,sa++),U+=ob(Ua,ua,ma,Qa);else if("object"===Ua)throw ma=""+W,Error(n(31,"[object Object]"===ma?"object with keys {"+Object.keys(W).join(", ")+"}":ma,""));return U}function rb(W,Y,ma){return null==W?0:ob(W,"",Y,ma)}function Xa(W,Y){return"object"===typeof W&&null!==W&&null!=W.key?Ob(W.key):Y.toString(36)}function Ha(W,Y){W.func.call(W.context,Y,W.count++)}function Ia(W,Y,ma){var Qa=
W.result,Ua=W.keyPrefix;W=W.func.call(W.context,Y,W.count++);Array.isArray(W)?Za(W,Qa,ma,function(U){return U}):null!=W&&(ub(W)&&(W=fb(W,Ua+(!W.key||Y&&Y.key===W.key?"":(""+W.key).replace(I,"$\x26/")+"/")+ma)),Qa.push(W))}function Za(W,Y,ma,Qa,Ua){var U="";null!=ma&&(U=(""+ma).replace(I,"$\x26/")+"/");Y=zb(Y,U,Qa,Ua);rb(W,Ia,Y);cb(Y)}function mb(){var W=J.current;if(null===W)throw Error(n(321));return W}var Da=Rb(0),Fa="function"===typeof Symbol&&Symbol.for,hb=Fa?Symbol.for("react.element"):60103,
Ca=Fa?Symbol.for("react.portal"):60106;$b=Fa?Symbol.for("react.fragment"):60107;Rb=Fa?Symbol.for("react.strict_mode"):60108;Ic=Fa?Symbol.for("react.profiler"):60114;var bb=Fa?Symbol.for("react.provider"):60109,La=Fa?Symbol.for("react.context"):60110,ka=Fa?Symbol.for("react.forward_ref"):60112,Aa=Fa?Symbol.for("react.suspense"):60113,Ra=Fa?Symbol.for("react.memo"):60115,Ya=Fa?Symbol.for("react.lazy"):60116,ib="function"===typeof Symbol&&Symbol.iterator,db={isMounted:function(){return!1},enqueueForceUpdate:function(){},
enqueueReplaceState:function(){},enqueueSetState:function(){}},nb={};x.prototype.isReactComponent={};x.prototype.setState=function(W,Y){if("object"!==typeof W&&"function"!==typeof W&&null!=W)throw Error(n(85));this.updater.enqueueSetState(this,W,Y,"setState")};x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};ea.prototype=x.prototype;Fa=Sa.prototype=new ea;Fa.constructor=Sa;Da(Fa,x.prototype);Fa.isPureReactComponent=!0;var $a={current:null},S=Object.prototype.hasOwnProperty,
z={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,Q=[],J={current:null};Fa={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:$a,IsSomeRendererActing:{current:!1},assign:Da};Nb.Children={map:function(W,Y,ma){if(null==W)return W;var Qa=[];Za(W,Qa,null,Y,ma);return Qa},forEach:function(W,Y,ma){if(null==W)return W;Y=zb(null,null,Y,ma);rb(W,Ha,Y);cb(Y)},count:function(W){return rb(W,function(){return null},null)},toArray:function(W){var Y=[];Za(W,Y,null,function(ma){return ma});
return Y},only:function(W){if(!ub(W))throw Error(n(143));return W}};Nb.Component=x;Nb.Fragment=$b;Nb.Profiler=Ic;Nb.PureComponent=Sa;Nb.StrictMode=Rb;Nb.Suspense=Aa;Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fa;Nb.cloneElement=function(W,Y,ma){if(null===W||void 0===W)throw Error(n(267,W));var Qa=Da({},W.props),Ua=W.key,U=W.ref,sa=W._owner;if(null!=Y){void 0!==Y.ref&&(U=Y.ref,sa=$a.current);void 0!==Y.key&&(Ua=""+Y.key);if(W.type&&W.type.defaultProps)var ua=W.type.defaultProps;for(la in Y)S.call(Y,
la)&&!z.hasOwnProperty(la)&&(Qa[la]=void 0===Y[la]&&void 0!==ua?ua[la]:Y[la])}var la=arguments.length-2;if(1===la)Qa.children=ma;else if(1<la){ua=Array(la);for(var T=0;T<la;T++)ua[T]=arguments[T+2];Qa.children=ua}return{$$typeof:hb,type:W.type,key:Ua,ref:U,props:Qa,_owner:sa}};Nb.createContext=function(W,Y){void 0===Y&&(Y=null);W={$$typeof:La,_calculateChangedBits:Y,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null};W.Provider={$$typeof:bb,_context:W};return W.Consumer=W};
Nb.createElement=Wb;Nb.createFactory=function(W){var Y=Wb.bind(null,W);Y.type=W;return Y};Nb.createRef=function(){return{current:null}};Nb.forwardRef=function(W){return{$$typeof:ka,render:W}};Nb.isValidElement=ub;Nb.lazy=function(W){return{$$typeof:Ya,_ctor:W,_status:-1,_result:null}};Nb.memo=function(W,Y){return{$$typeof:Ra,type:W,compare:void 0===Y?null:Y}};Nb.useCallback=function(W,Y){return mb().useCallback(W,Y)};Nb.useContext=function(W,Y){return mb().useContext(W,Y)};Nb.useDebugValue=function(){};
Nb.useEffect=function(W,Y){return mb().useEffect(W,Y)};Nb.useImperativeHandle=function(W,Y,ma){return mb().useImperativeHandle(W,Y,ma)};Nb.useLayoutEffect=function(W,Y){return mb().useLayoutEffect(W,Y)};Nb.useMemo=function(W,Y){return mb().useMemo(W,Y)};Nb.useReducer=function(W,Y,ma){return mb().useReducer(W,Y,ma)};Nb.useRef=function(W){return mb().useRef(W)};Nb.useState=function(W){return mb().useState(W)};Nb.version="16.13.1"};
shadow$provide[5]=function($b,Rb,Ic,Nb){Ic.exports=Rb(1)};
shadow$provide[6]=function($b,Rb,Ic,Nb){function n(J,W){var Y=J.length;J.push(W);a:for(;;){var ma=Y-1>>>1,Qa=J[ma];if(void 0!==Qa&&0<Sa(Qa,W))J[ma]=W,J[Y]=Qa,Y=ma;else break a}}function x(J){J=J[0];return void 0===J?null:J}function ea(J){var W=J[0];if(void 0!==W){var Y=J.pop();if(Y!==W){J[0]=Y;var ma=0,Qa=J.length;a:for(;ma<Qa;){var Ua=2*(ma+1)-1,U=J[Ua],sa=Ua+1,ua=J[sa];if(void 0!==U&&0>Sa(U,Y))void 0!==ua&&0>Sa(ua,U)?(J[ma]=ua,J[sa]=Y,ma=sa):(J[ma]=U,J[Ua]=Y,ma=Ua);else if(void 0!==ua&&0>Sa(ua,
Y))J[ma]=ua,J[sa]=Y,ma=sa;else break a}}return W}return null}function Sa(J,W){var Y=J.sortIndex-W.sortIndex;return 0!==Y?Y:J.id-W.id}function Wb(J){for(var W=x(db);null!==W;){if(null===W.callback)ea(db);else if(W.startTime<=J)ea(db),W.sortIndex=W.expirationTime,n(ib,W);else break;W=x(db)}}function fb(J){Q=!1;Wb(J);if(!I)if(null!==x(ib))I=!0,Xa(ub);else{var W=x(db);null!==W&&Ha(fb,W.startTime-J)}}function ub(J,W){I=!1;Q&&(Q=!1,Ia());z=!0;var Y=S;try{Wb(W);for($a=x(ib);null!==$a&&(!($a.expirationTime>
W)||J&&!Za());){var ma=$a.callback;if(null!==ma){$a.callback=null;S=$a.priorityLevel;var Qa=ma($a.expirationTime<=W);W=Nb.unstable_now();"function"===typeof Qa?$a.callback=Qa:$a===x(ib)&&ea(ib);Wb(W)}else ea(ib);$a=x(ib)}if(null!==$a)var Ua=!0;else{var U=x(db);null!==U&&Ha(fb,U.startTime-W);Ua=!1}return Ua}finally{$a=null,S=Y,z=!1}}function Ob(J){switch(J){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==
typeof MessageChannel){var zb=null,cb=null,ob=function(){if(null!==zb)try{var J=Nb.unstable_now();zb(!0,J);zb=null}catch(W){throw setTimeout(ob,0),W;}},rb=Date.now();Nb.unstable_now=function(){return Date.now()-rb};var Xa=function(J){null!==zb?setTimeout(Xa,0,J):(zb=J,setTimeout(ob,0))};var Ha=function(J,W){cb=setTimeout(J,W)};var Ia=function(){clearTimeout(cb)};var Za=function(){return!1};$b=Nb.unstable_forceFrameRate=function(){}}else{var mb=window.performance,Da=window.Date,Fa=window.setTimeout,
hb=window.clearTimeout;"undefined"!==typeof console&&($b=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof $b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof mb&&"function"===
typeof mb.now)Nb.unstable_now=function(){return mb.now()};else{var Ca=Da.now();Nb.unstable_now=function(){return Da.now()-Ca}}var bb=!1,La=null,ka=-1,Aa=5,Ra=0;Za=function(){return Nb.unstable_now()>=Ra};$b=function(){};Nb.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Aa=0<J?Math.floor(1E3/J):5};Rb=new MessageChannel;var Ya=Rb.port2;Rb.port1.onmessage=function(){if(null!==
La){var J=Nb.unstable_now();Ra=J+Aa;try{La(!0,J)?Ya.postMessage(null):(bb=!1,La=null)}catch(W){throw Ya.postMessage(null),W;}}else bb=!1};Xa=function(J){La=J;bb||(bb=!0,Ya.postMessage(null))};Ha=function(J,W){ka=Fa(function(){J(Nb.unstable_now())},W)};Ia=function(){hb(ka);ka=-1}}var ib=[],db=[],nb=1,$a=null,S=3,z=!1,I=!1,Q=!1;Nb.unstable_IdlePriority=5;Nb.unstable_ImmediatePriority=1;Nb.unstable_LowPriority=4;Nb.unstable_NormalPriority=3;Nb.unstable_Profiling=null;Nb.unstable_UserBlockingPriority=
2;Nb.unstable_cancelCallback=function(J){J.callback=null};Nb.unstable_continueExecution=function(){I||z||(I=!0,Xa(ub))};Nb.unstable_getCurrentPriorityLevel=function(){return S};Nb.unstable_getFirstCallbackNode=function(){return x(ib)};Nb.unstable_next=function(J){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var Y=S;S=W;try{return J()}finally{S=Y}};Nb.unstable_pauseExecution=function(){};Nb.unstable_requestPaint=$b;Nb.unstable_runWithPriority=function(J,W){switch(J){case 1:case 2:case 3:case 4:case 5:break;
default:J=3}var Y=S;S=J;try{return W()}finally{S=Y}};Nb.unstable_scheduleCallback=function(J,W,Y){var ma=Nb.unstable_now();if("object"===typeof Y&&null!==Y){var Qa=Y.delay;Qa="number"===typeof Qa&&0<Qa?ma+Qa:ma;Y="number"===typeof Y.timeout?Y.timeout:Ob(J)}else Y=Ob(J),Qa=ma;Y=Qa+Y;J={id:nb++,callback:W,priorityLevel:J,startTime:Qa,expirationTime:Y,sortIndex:-1};Qa>ma?(J.sortIndex=Qa,n(db,J),null===x(ib)&&J===x(db)&&(Q?Ia():Q=!0,Ha(fb,Qa-ma))):(J.sortIndex=Y,n(ib,J),I||z||(I=!0,Xa(ub)));return J};
Nb.unstable_shouldYield=function(){var J=Nb.unstable_now();Wb(J);var W=x(ib);return W!==$a&&null!==$a&&null!==W&&null!==W.callback&&W.startTime<=J&&W.expirationTime<$a.expirationTime||Za()};Nb.unstable_wrapCallback=function(J){var W=S;return function(){var Y=S;S=W;try{return J.apply(this,arguments)}finally{S=Y}}}};
shadow$provide[8]=function($b,Rb,Ic,Nb){Ic.exports=Rb(6)};
shadow$provide[9]=function($b,Rb,Ic,Nb){function n(e){for(var h="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,A=1;A<arguments.length;A++)h+="\x26args[]\x3d"+encodeURIComponent(arguments[A]);return"Minified React error #"+e+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e,h,A,da,Ba,yb,Jb,ic,dd){var Zc=Array.prototype.slice.call(arguments,3);try{h.apply(A,Zc)}catch(Qd){this.onError(Qd)}}function ea(e,
h,A,da,Ba,yb,Jb,ic,dd){Pf=!1;Mi=null;x.apply(Sj,arguments)}function Sa(e,h,A,da,Ba,yb,Jb,ic,dd){ea.apply(this,arguments);if(Pf){if(Pf){var Zc=Mi;Pf=!1;Mi=null}else throw Error(n(198));vh||(vh=!0,gj=Zc)}}function Wb(e,h,A){var da=e.type||"unknown-event";e.currentTarget=ci(A);Sa(da,h,void 0,e);e.currentTarget=null}function fb(){if(hj)for(var e in di){var h=di[e],A=hj.indexOf(e);if(!(-1<A))throw Error(n(96,e));if(!ij[A]){if(!h.extractEvents)throw Error(n(97,e));ij[A]=h;A=h.eventTypes;for(var da in A){var Ba=
void 0,yb=A[da],Jb=h,ic=da;if(Bj.hasOwnProperty(ic))throw Error(n(99,ic));Bj[ic]=yb;var dd=yb.phasedRegistrationNames;if(dd){for(Ba in dd)dd.hasOwnProperty(Ba)&&ub(dd[Ba],Jb,ic);Ba=!0}else yb.registrationName?(ub(yb.registrationName,Jb,ic),Ba=!0):Ba=!1;if(!Ba)throw Error(n(98,da,e));}}}}function ub(e,h,A){if(qi[e])throw Error(n(100,e));qi[e]=h;ei[e]=h.eventTypes[A].dependencies}function Ob(e){var h=!1,A;for(A in e)if(e.hasOwnProperty(A)){var da=e[A];if(!di.hasOwnProperty(A)||di[A]!==da){if(di[A])throw Error(n(102,
A));di[A]=da;h=!0}}h&&fb()}function zb(e){if(e=Ni(e)){if("function"!==typeof Oi)throw Error(n(280));var h=e.stateNode;h&&(h=jj(h),Oi(e.stateNode,e.type,h))}}function cb(e){ri?pg?pg.push(e):pg=[e]:ri=e}function ob(){if(ri){var e=ri,h=pg;pg=ri=null;zb(e);if(h)for(e=0;e<h.length;e++)zb(h[e])}}function rb(e,h){return e(h)}function Xa(e,h,A,da,Ba){return e(h,A,da,Ba)}function Ha(){}function Ia(){if(null!==ri||null!==pg)Ha(),ob()}function Za(e,h,A){if(Pi)return e(h,A);Pi=!0;try{return Nh(e,h,A)}finally{Pi=
!1,Ia()}}function mb(e){if(kj.call(sf,e))return!0;if(kj.call(nf,e))return!1;if($g.test(e))return sf[e]=!0;nf[e]=!0;return!1}function Da(e,h,A,da){if(null!==A&&0===A.type)return!1;switch(typeof h){case "function":case "symbol":return!0;case "boolean":if(da)return!1;if(null!==A)return!A.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Fa(e,h,A,da){if(null===h||"undefined"===typeof h||Da(e,h,A,da))return!0;if(da)return!1;if(null!==A)switch(A.type){case 3:return!h;
case 4:return!1===h;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function hb(e,h,A,da,Ba,yb){this.acceptsBooleans=2===h||3===h||4===h;this.attributeName=da;this.attributeNamespace=Ba;this.mustUseProperty=A;this.propertyName=e;this.type=h;this.sanitizeURL=yb}function Ca(e){return e[1].toUpperCase()}function bb(e,h,A,da){var Ba=yf.hasOwnProperty(h)?yf[h]:null;(null!==Ba?0===Ba.type:da?0:2<h.length&&("o"===h[0]||"O"===h[0])&&("n"===h[1]||"N"===h[1]))||(Fa(h,A,Ba,da)&&(A=null),da||null===
Ba?mb(h)&&(null===A?e.removeAttribute(h):e.setAttribute(h,""+A)):Ba.mustUseProperty?e[Ba.propertyName]=null===A?3===Ba.type?!1:"":A:(h=Ba.attributeName,da=Ba.attributeNamespace,null===A?e.removeAttribute(h):(Ba=Ba.type,A=3===Ba||4===Ba&&!0===A?"":""+A,da?e.setAttributeNS(da,h,A):e.setAttribute(h,A))))}function La(e){if(null===e||"object"!==typeof e)return null;e=lf&&e[lf]||e["@@iterator"];return"function"===typeof e?e:null}function ka(e){if(-1===e._status){e._status=0;var h=e._ctor;h=h();e._result=
h;h.then(function(A){0===e._status&&(A=A.default,e._status=1,e._result=A)},function(A){0===e._status&&(e._status=2,e._result=A)})}}function Aa(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ah:return"Fragment";case fi:return"Portal";case Oh:return"Profiler";case si:return"StrictMode";case Qi:return"Suspense";case ti:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Tj:return"Context.Consumer";case Wg:return"Context.Provider";
case wh:var h=e.render;h=h.displayName||h.name||"";return e.displayName||(""!==h?"ForwardRef("+h+")":"ForwardRef");case Xg:return Aa(e.type);case ui:return Aa(e.render);case vi:if(e=1===e._status?e._result:null)return Aa(e)}return null}function Ra(e){var h="";do{a:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var A="";break a;default:var da=e._debugOwner,Ba=e._debugSource,yb=Aa(e.type);A=null;da&&(A=Aa(da.type));da=yb;yb="";Ba?yb=" (at "+Ba.fileName.replace(Kg,"")+":"+Ba.lineNumber+")":
A&&(yb=" (created by "+A+")");A="\n    in "+(da||"Unknown")+yb}h+=A;e=e.return}while(e);return h}function Ya(e){switch(typeof e){case "boolean":case "number":case "object":case "string":case "undefined":return e;default:return""}}function ib(e){var h=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===h||"radio"===h)}function db(e){var h=ib(e)?"checked":"value",A=Object.getOwnPropertyDescriptor(e.constructor.prototype,h),da=""+e[h];if(!e.hasOwnProperty(h)&&"undefined"!==typeof A&&
"function"===typeof A.get&&"function"===typeof A.set){var Ba=A.get,yb=A.set;Object.defineProperty(e,h,{configurable:!0,get:function(){return Ba.call(this)},set:function(Jb){da=""+Jb;yb.call(this,Jb)}});Object.defineProperty(e,h,{enumerable:A.enumerable});return{getValue:function(){return da},setValue:function(Jb){da=""+Jb},stopTracking:function(){e._valueTracker=null;delete e[h]}}}}function nb(e){e._valueTracker||(e._valueTracker=db(e))}function $a(e){if(!e)return!1;var h=e._valueTracker;if(!h)return!0;
var A=h.getValue(),da="";e&&(da=ib(e)?e.checked?"true":"false":e.value);e=da;return e!==A?(h.setValue(e),!0):!1}function S(e,h){var A=h.checked;return Ag({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=A?A:e._wrapperState.initialChecked})}function z(e,h){var A=null==h.defaultValue?"":h.defaultValue,da=null!=h.checked?h.checked:h.defaultChecked;A=Ya(null!=h.value?h.value:A);e._wrapperState={initialChecked:da,initialValue:A,controlled:"checkbox"===h.type||"radio"===h.type?
null!=h.checked:null!=h.value}}function I(e,h){h=h.checked;null!=h&&bb(e,"checked",h,!1)}function Q(e,h){I(e,h);var A=Ya(h.value),da=h.type;if(null!=A)if("number"===da){if(0===A&&""===e.value||e.value!=A)e.value=""+A}else e.value!==""+A&&(e.value=""+A);else if("submit"===da||"reset"===da){e.removeAttribute("value");return}h.hasOwnProperty("value")?W(e,h.type,A):h.hasOwnProperty("defaultValue")&&W(e,h.type,Ya(h.defaultValue));null==h.checked&&null!=h.defaultChecked&&(e.defaultChecked=!!h.defaultChecked)}
function J(e,h,A){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var da=h.type;if(!("submit"!==da&&"reset"!==da||void 0!==h.value&&null!==h.value))return;h=""+e._wrapperState.initialValue;A||h===e.value||(e.value=h);e.defaultValue=h}A=e.name;""!==A&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==A&&(e.name=A)}function W(e,h,A){if("number"!==h||e.ownerDocument.activeElement!==e)null==A?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+A&&(e.defaultValue=
""+A)}function Y(e){var h="";lj.Children.forEach(e,function(A){null!=A&&(h+=A)});return h}function ma(e,h){e=Ag({children:void 0},h);if(h=Y(h.children))e.children=h;return e}function Qa(e,h,A,da){e=e.options;if(h){h={};for(var Ba=0;Ba<A.length;Ba++)h["$"+A[Ba]]=!0;for(A=0;A<e.length;A++)Ba=h.hasOwnProperty("$"+e[A].value),e[A].selected!==Ba&&(e[A].selected=Ba),Ba&&da&&(e[A].defaultSelected=!0)}else{A=""+Ya(A);h=null;for(Ba=0;Ba<e.length;Ba++){if(e[Ba].value===A){e[Ba].selected=!0;da&&(e[Ba].defaultSelected=
!0);return}null!==h||e[Ba].disabled||(h=e[Ba])}null!==h&&(h.selected=!0)}}function Ua(e,h){if(null!=h.dangerouslySetInnerHTML)throw Error(n(91));return Ag({},h,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U(e,h){var A=h.value;if(null==A){A=h.children;h=h.defaultValue;if(null!=A){if(null!=h)throw Error(n(92));if(Array.isArray(A)){if(!(1>=A.length))throw Error(n(93));A=A[0]}h=A}null==h&&(h="");A=h}e._wrapperState={initialValue:Ya(A)}}function sa(e,h){var A=Ya(h.value),
da=Ya(h.defaultValue);null!=A&&(A=""+A,A!==e.value&&(e.value=A),null==h.defaultValue&&e.defaultValue!==A&&(e.defaultValue=A));null!=da&&(e.defaultValue=""+da)}function ua(e){var h=e.textContent;h===e._wrapperState.initialValue&&""!==h&&null!==h&&(e.value=h)}function la(e){switch(e){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T(e,h){return null==e||"http://www.w3.org/1999/xhtml"===e?la(h):
"http://www.w3.org/2000/svg"===e&&"foreignObject"===h?"http://www.w3.org/1999/xhtml":e}function v(e,h){if(h){var A=e.firstChild;if(A&&A===e.lastChild&&3===A.nodeType){A.nodeValue=h;return}}e.textContent=h}function w(e,h){var A={};A[e.toLowerCase()]=h.toLowerCase();A["Webkit"+e]="webkit"+h;A["Moz"+e]="moz"+h;return A}function p(e){if(gi[e])return gi[e];if(!Gf[e])return e;var h=Gf[e],A;for(A in h)if(h.hasOwnProperty(A)&&A in mj)return gi[e]=h[A];return e}function r(e){var h=Ge.get(e);void 0===h&&(h=
new Map,Ge.set(e,h));return h}function D(e){var h=e,A=e;if(e.alternate)for(;h.return;)h=h.return;else{e=h;do h=e,0!==(h.effectTag&1026)&&(A=h.return),e=h.return;while(e)}return 3===h.tag?A:null}function E(e){if(13===e.tag){var h=e.memoizedState;null===h&&(e=e.alternate,null!==e&&(h=e.memoizedState));if(null!==h)return h.dehydrated}return null}function H(e){if(D(e)!==e)throw Error(n(188));}function C(e){var h=e.alternate;if(!h){h=D(e);if(null===h)throw Error(n(188));return h!==e?null:e}for(var A=e,
da=h;;){var Ba=A.return;if(null===Ba)break;var yb=Ba.alternate;if(null===yb){da=Ba.return;if(null!==da){A=da;continue}break}if(Ba.child===yb.child){for(yb=Ba.child;yb;){if(yb===A)return H(Ba),e;if(yb===da)return H(Ba),h;yb=yb.sibling}throw Error(n(188));}if(A.return!==da.return)A=Ba,da=yb;else{for(var Jb=!1,ic=Ba.child;ic;){if(ic===A){Jb=!0;A=Ba;da=yb;break}if(ic===da){Jb=!0;da=Ba;A=yb;break}ic=ic.sibling}if(!Jb){for(ic=yb.child;ic;){if(ic===A){Jb=!0;A=yb;da=Ba;break}if(ic===da){Jb=!0;da=yb;A=Ba;
break}ic=ic.sibling}if(!Jb)throw Error(n(189));}}if(A.alternate!==da)throw Error(n(190));}if(3!==A.tag)throw Error(n(188));return A.stateNode.current===A?e:h}function ha(e){e=C(e);if(!e)return null;for(var h=e;;){if(5===h.tag||6===h.tag)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===e)break;for(;!h.sibling;){if(!h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}}return null}function xa(e,h){if(null==h)throw Error(n(30));if(null==e)return h;if(Array.isArray(e)){if(Array.isArray(h))return e.push.apply(e,
h),e;e.push(h);return e}return Array.isArray(h)?[e].concat(h):[e,h]}function oa(e,h,A){Array.isArray(e)?e.forEach(h,A):e&&h.call(A,e)}function Va(e){if(e){var h=e._dispatchListeners,A=e._dispatchInstances;if(Array.isArray(h))for(var da=0;da<h.length&&!e.isPropagationStopped();da++)Wb(e,h[da],A[da]);else h&&Wb(e,h,A);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function Ja(e){null!==e&&(wi=xa(wi,e));e=wi;wi=null;if(e){oa(e,Va);if(wi)throw Error(n(95));
if(vh)throw e=gj,vh=!1,gj=null,e;}}function ba(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function ta(e){if(!xh)return!1;e="on"+e;var h=e in document;h||(h=document.createElement("div"),h.setAttribute(e,"return;"),h="function"===typeof h[e]);return h}function eb(e){e.topLevelType=null;e.nativeEvent=null;e.targetInst=null;e.ancestors.length=0;10>xi.length&&xi.push(e)}function xb(e,h,A,da){if(xi.length){var Ba=xi.pop();
Ba.topLevelType=e;Ba.eventSystemFlags=da;Ba.nativeEvent=h;Ba.targetInst=A;return Ba}return{topLevelType:e,eventSystemFlags:da,nativeEvent:h,targetInst:A,ancestors:[]}}function Kb(e){var h=e.targetInst,A=h;do{if(!A){e.ancestors.push(A);break}var da=A;if(3===da.tag)da=da.stateNode.containerInfo;else{for(;da.return;)da=da.return;da=3!==da.tag?null:da.stateNode.containerInfo}if(!da)break;h=A.tag;5!==h&&6!==h||e.ancestors.push(A);A=sb(da)}while(A);for(A=0;A<e.ancestors.length;A++){h=e.ancestors[A];var Ba=
ba(e.nativeEvent);da=e.topLevelType;var yb=e.nativeEvent,Jb=e.eventSystemFlags;0===A&&(Jb|=64);for(var ic=null,dd=0;dd<ij.length;dd++){var Zc=ij[dd];Zc&&(Zc=Zc.extractEvents(da,h,yb,Ba,Jb))&&(ic=xa(ic,Zc))}Ja(ic)}}function fc(e,h,A){if(!A.has(e)){switch(e){case "scroll":Dd(h,"scroll",!0);break;case "focus":case "blur":Dd(h,"focus",!0);Dd(h,"blur",!0);A.set("blur",null);A.set("focus",null);break;case "cancel":case "close":ta(e)&&Dd(h,e,!0);break;case "invalid":case "submit":case "reset":break;default:-1===
yh.indexOf(e)&&Nc(e,h)}A.set(e,null)}}function Ec(e,h){var A=r(h);Xf.forEach(function(da){fc(da,h,A)});nj.forEach(function(da){fc(da,h,A)})}function gd(e,h,A,da,Ba){return{blockedOn:e,topLevelType:h,eventSystemFlags:A|32,nativeEvent:Ba,container:da}}function Dc(e,h){switch(e){case "focus":case "blur":Ph=null;break;case "dragenter":case "dragleave":Qh=null;break;case "mouseover":case "mouseout":zh=null;break;case "pointerover":case "pointerout":Ah.delete(h.pointerId);break;case "gotpointercapture":case "lostpointercapture":Bh.delete(h.pointerId)}}
function Sc(e,h,A,da,Ba,yb){if(null===e||e.nativeEvent!==yb)return e=gd(h,A,da,Ba,yb),null!==h&&(h=Lb(h),null!==h&&bl(h)),e;e.eventSystemFlags|=da;return e}function Ta(e,h,A,da,Ba){switch(h){case "focus":return Ph=Sc(Ph,e,h,A,da,Ba),!0;case "dragenter":return Qh=Sc(Qh,e,h,A,da,Ba),!0;case "mouseover":return zh=Sc(zh,e,h,A,da,Ba),!0;case "pointerover":var yb=Ba.pointerId;Ah.set(yb,Sc(Ah.get(yb)||null,e,h,A,da,Ba));return!0;case "gotpointercapture":return yb=Ba.pointerId,Bh.set(yb,Sc(Bh.get(yb)||null,
e,h,A,da,Ba)),!0}return!1}function nc(e){var h=sb(e.target);if(null!==h){var A=D(h);if(null!==A)if(h=A.tag,13===h){if(h=E(A),null!==h){e.blockedOn=h;Bg.unstable_runWithPriority(e.priority,function(){yl(A)});return}}else if(3===h&&A.stateNode.hydrate){e.blockedOn=3===A.tag?A.stateNode.containerInfo:null;return}}e.blockedOn=null}function lc(e){if(null!==e.blockedOn)return!1;var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==h){var A=Lb(h);null!==A&&bl(A);e.blockedOn=h;return!1}return!0}
function wc(e,h,A){lc(e)&&A.delete(h)}function Pc(){for(Ri=!1;0<bh.length;){var e=bh[0];if(null!==e.blockedOn){e=Lb(e.blockedOn);null!==e&&Lk(e);break}var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==h?e.blockedOn=h:bh.shift()}null!==Ph&&lc(Ph)&&(Ph=null);null!==Qh&&lc(Qh)&&(Qh=null);null!==zh&&lc(zh)&&(zh=null);Ah.forEach(wc);Bh.forEach(wc)}function rc(e,h){e.blockedOn===h&&(e.blockedOn=null,Ri||(Ri=!0,Bg.unstable_scheduleCallback(Bg.unstable_NormalPriority,Pc)))}function Xc(e){function h(Ba){return rc(Ba,
e)}if(0<bh.length){rc(bh[0],e);for(var A=1;A<bh.length;A++){var da=bh[A];da.blockedOn===e&&(da.blockedOn=null)}}null!==Ph&&rc(Ph,e);null!==Qh&&rc(Qh,e);null!==zh&&rc(zh,e);Ah.forEach(h);Bh.forEach(h);for(A=0;A<ch.length;A++)da=ch[A],da.blockedOn===e&&(da.blockedOn=null);for(;0<ch.length&&(A=ch[0],null===A.blockedOn);)nc(A),null===A.blockedOn&&ch.shift()}function $c(e,h){for(var A=0;A<e.length;A+=2){var da=e[A],Ba=e[A+1],yb="on"+(Ba[0].toUpperCase()+Ba.slice(1));yb={phasedRegistrationNames:{bubbled:yb,
captured:yb+"Capture"},dependencies:[da],eventPriority:h};Cj.set(da,h);Dj.set(da,yb);kh[Ba]=yb}}function Nc(e,h){Dd(h,e,!1)}function Dd(e,h,A){var da=Cj.get(h);switch(void 0===da?2:da){case 0:da=we.bind(null,h,1,e);break;case 1:da=ld.bind(null,h,1,e);break;default:da=sd.bind(null,h,1,e)}A?e.addEventListener(h,da,!0):e.addEventListener(h,da,!1)}function we(e,h,A,da){jg||Ha();var Ba=sd,yb=jg;jg=!0;try{Xa(Ba,e,h,A,da)}finally{(jg=yb)||Ia()}}function ld(e,h,A,da){yi(Uj,sd.bind(null,e,h,A,da))}function sd(e,
h,A,da){if(Rh)if(0<bh.length&&-1<Xf.indexOf(e))e=gd(null,e,h,A,da),bh.push(e);else{var Ba=ge(e,h,A,da);if(null===Ba)Dc(e,da);else if(-1<Xf.indexOf(e))e=gd(Ba,e,h,A,da),bh.push(e);else if(!Ta(Ba,e,h,A,da)){Dc(e,da);e=xb(e,da,null,h);try{Za(Kb,e)}finally{eb(e)}}}}function ge(e,h,A,da){A=ba(da);A=sb(A);if(null!==A){var Ba=D(A);if(null===Ba)A=null;else{var yb=Ba.tag;if(13===yb){A=E(Ba);if(null!==A)return A;A=null}else if(3===yb){if(Ba.stateNode.hydrate)return 3===Ba.tag?Ba.stateNode.containerInfo:null;
A=null}else Ba!==A&&(A=null)}}e=xb(e,da,A,h);try{Za(Kb,e)}finally{eb(e)}return null}function Ma(e,h,A){return null==h||"boolean"===typeof h||""===h?"":A||"number"!==typeof h||0===h||zi.hasOwnProperty(e)&&zi[e]?(""+h).trim():h+"px"}function vb(e,h){e=e.style;for(var A in h)if(h.hasOwnProperty(A)){var da=0===A.indexOf("--"),Ba=Ma(A,h[A],da);"float"===A&&(A="cssFloat");da?e.setProperty(A,Ba):e[A]=Ba}}function ac(e,h){if(h){if(Ch[e]&&(null!=h.children||null!=h.dangerouslySetInnerHTML))throw Error(n(137,
e,""));if(null!=h.dangerouslySetInnerHTML){if(null!=h.children)throw Error(n(60));if(!("object"===typeof h.dangerouslySetInnerHTML&&"__html"in h.dangerouslySetInnerHTML))throw Error(n(61));}if(null!=h.style&&"object"!==typeof h.style)throw Error(n(62,""));}}function rd(e,h){if(-1===e.indexOf("-"))return"string"===typeof h.is;switch(e){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function vd(e,h){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var A=r(e);h=ei[h];for(var da=0;da<h.length;da++)fc(h[da],e,A)}function de(){}function oe(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(h){return e.body}}function Z(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function za(e,h){var A=Z(e);e=0;for(var da;A;){if(3===A.nodeType){da=e+A.textContent.length;if(e<=h&&da>=h)return{node:A,
offset:h-e};e=da}a:{for(;A;){if(A.nextSibling){A=A.nextSibling;break a}A=A.parentNode}A=void 0}A=Z(A)}}function gb(e,h){return e&&h?e===h?!0:e&&3===e.nodeType?!1:h&&3===h.nodeType?gb(e,h.parentNode):"contains"in e?e.contains(h):e.compareDocumentPosition?!!(e.compareDocumentPosition(h)&16):!1:!1}function Db(){for(var e=window,h=oe();h instanceof e.HTMLIFrameElement;){try{var A="string"===typeof h.contentWindow.location.href}catch(da){A=!1}if(A)e=h.contentWindow;else break;h=oe(e.document)}return h}
function Zb(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return h&&("input"===h&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===h||"true"===e.contentEditable)}function Gb(e,h){switch(e){case "button":case "input":case "select":case "textarea":return!!h.autoFocus}return!1}function sc(e,h){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof h.children||"number"===typeof h.children||"object"===typeof h.dangerouslySetInnerHTML&&
null!==h.dangerouslySetInnerHTML&&null!=h.dangerouslySetInnerHTML.__html}function kc(e){for(;null!=e;e=e.nextSibling){var h=e.nodeType;if(1===h||3===h)break}return e}function Oa(e){e=e.previousSibling;for(var h=0;e;){if(8===e.nodeType){var A=e.data;if(A===lh||A===Ai||A===Vj){if(0===h)return e;h--}else A===Si&&h++}e=e.previousSibling}return null}function sb(e){var h=e[mh];if(h)return h;for(var A=e.parentNode;A;){if(h=A[Dh]||A[mh]){A=h.alternate;if(null!==h.child||null!==A&&null!==A.child)for(e=Oa(e);null!==
e;){if(A=e[mh])return A;e=Oa(e)}return h}e=A;A=e.parentNode}return null}function Lb(e){e=e[mh]||e[Dh];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function hc(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33));}function tc(e){return e[Qg]||null}function Bc(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function Mc(e,h){var A=e.stateNode;if(!A)return null;var da=jj(A);if(!da)return null;A=da[h];a:switch(h){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(da=
!da.disabled)||(e=e.type,da=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!da;break a;default:e=!1}if(e)return null;if(A&&"function"!==typeof A)throw Error(n(231,h,typeof A));return A}function Hb(e,h,A){if(h=Mc(e,A.dispatchConfig.phasedRegistrationNames[h]))A._dispatchListeners=xa(A._dispatchListeners,h),A._dispatchInstances=xa(A._dispatchInstances,e)}function yc(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var h=e._targetInst,A=[];h;)A.push(h),h=Bc(h);for(h=A.length;0<h--;)Hb(A[h],
"captured",e);for(h=0;h<A.length;h++)Hb(A[h],"bubbled",e)}}function Cc(e,h,A){e&&A&&A.dispatchConfig.registrationName&&(h=Mc(e,A.dispatchConfig.registrationName))&&(A._dispatchListeners=xa(A._dispatchListeners,h),A._dispatchInstances=xa(A._dispatchInstances,e))}function xc(e){e&&e.dispatchConfig.registrationName&&Cc(e._targetInst,null,e)}function Jc(e){oa(e,yc)}function Yc(){if(Bi)return Bi;var e,h=ug,A=h.length,da,Ba="value"in Sh?Sh.value:Sh.textContent,yb=Ba.length;for(e=0;e<A&&h[e]===Ba[e];e++);
var Jb=A-e;for(da=1;da<=Jb&&h[A-da]===Ba[yb-da];da++);return Bi=Ba.slice(e,1<da?1-da:void 0)}function Uc(){return!0}function od(){return!1}function qd(e,h,A,da){this.dispatchConfig=e;this._targetInst=h;this.nativeEvent=A;e=this.constructor.Interface;for(var Ba in e)e.hasOwnProperty(Ba)&&((h=e[Ba])?this[Ba]=h(A):"target"===Ba?this.target=da:this[Ba]=A[Ba]);this.isDefaultPrevented=(null!=A.defaultPrevented?A.defaultPrevented:!1===A.returnValue)?Uc:od;this.isPropagationStopped=od;return this}function Id(e,
h,A,da){if(this.eventPool.length){var Ba=this.eventPool.pop();this.call(Ba,e,h,A,da);return Ba}return new this(e,h,A,da)}function Ed(e){if(!(e instanceof this))throw Error(n(279));e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function Wd(e){e.eventPool=[];e.getPooled=Id;e.release=Ed}function me(e,h){switch(e){case "keyup":return-1!==Ti.indexOf(h.keyCode);case "keydown":return 229!==h.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ye(e){e=
e.detail;return"object"===typeof e&&"data"in e?e.data:null}function Ye(e,h){switch(e){case "compositionend":return ye(h);case "keypress":if(32!==h.which)return null;oj=!0;return Wj;case "textInput":return e=h.data,e===Wj&&oj?null:e;default:return null}}function Qe(e,h){if(nh)return"compositionend"===e||!Ci&&me(e,h)?(e=Yc(),Bi=ug=Sh=null,nh=!1,e):null;switch(e){case "paste":return null;case "keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;
if(h.which)return String.fromCharCode(h.which)}return null;case "compositionend":return Di&&"ko"!==h.locale?null:h.data;default:return null}}function Re(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===h?!!Ui[e.type]:"textarea"===h?!0:!1}function Fd(e,h,A){e=qd.getPooled(Xj.change,e,h,A);e.type="change";cb(A);Jc(e);return e}function ee(e){Ja(e)}function ff(e){var h=hc(e);if($a(h))return e}function Oe(e,h){if("change"===e)return h}function Bf(){Th&&(Th.detachEvent("onpropertychange",
Yd),Uh=Th=null)}function Yd(e){if("value"===e.propertyName&&ff(Uh))if(e=Fd(Uh,e,ba(e)),jg)Ja(e);else{jg=!0;try{rb(ee,e)}finally{jg=!1,Ia()}}}function Ae(e,h,A){"focus"===e?(Bf(),Th=h,Uh=A,Th.attachEvent("onpropertychange",Yd)):"blur"===e&&Bf()}function cf(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ff(Uh)}function re(e,h){if("click"===e)return ff(h)}function Ad(e,h){if("input"===e||"change"===e)return ff(h)}function Ld(e){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(e):
(e=Mk[e])?!!h[e]:!1}function ae(){return Ld}function Jf(e,h){return e===h&&(0!==e||1/e===1/h)||e!==e&&h!==h}function De(e,h){if(ra(e,h))return!0;if("object"!==typeof e||null===e||"object"!==typeof h||null===h)return!1;var A=Object.keys(e),da=Object.keys(h);if(A.length!==da.length)return!1;for(da=0;da<A.length;da++)if(!jb.call(h,A[da])||!ra(e[A[da]],h[A[da]]))return!1;return!0}function Jd(e,h){var A=h.window===h?h.document:9===h.nodeType?h:h.ownerDocument;if(ed||null==Hc||Hc!==oe(A))return null;A=
Hc;"selectionStart"in A&&Zb(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset});return oc&&De(oc,A)?null:(oc=A,e=qd.getPooled(Xb.select,qc,e,h),e.type="select",e.target=Hc,Jc(e),e)}function Se(e){var h=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===h&&(e=13)):e=h;10===e&&(e=13);return 32<=e||13===e?e:0}function Ee(e){0>vg||
(e.current=Cg[vg],Cg[vg]=null,vg--)}function Ac(e,h){vg++;Cg[vg]=e.current;e.current=h}function Be(e,h){var A=e.type.contextTypes;if(!A)return Lg;var da=e.stateNode;if(da&&da.__reactInternalMemoizedUnmaskedChildContext===h)return da.__reactInternalMemoizedMaskedChildContext;var Ba={},yb;for(yb in A)Ba[yb]=h[yb];da&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=Ba);return Ba}function Xd(e){e=e.childContextTypes;return null!==e&&void 0!==
e}function cc(){Ee(Dg);Ee(mg)}function Je(e,h,A){if(mg.current!==Lg)throw Error(n(168));Ac(mg,h);Ac(Dg,A)}function pe(e,h,A){var da=e.stateNode;e=h.childContextTypes;if("function"!==typeof da.getChildContext)return A;da=da.getChildContext();for(var Ba in da)if(!(Ba in e))throw Error(n(108,Aa(h)||"Unknown",Ba));return Ag({},A,{},da)}function Ke(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lg;Vi=mg.current;Ac(mg,e);Ac(Dg,Dg.current);return!0}function Cf(e,h,A){var da=e.stateNode;
if(!da)throw Error(n(169));A?(e=pe(e,h,Vi),da.__reactInternalMemoizedMergedChildContext=e,Ee(Dg),Ee(mg),Ac(mg,e)):Ee(Dg);Ac(Dg,A)}function kf(){switch(zl()){case eg:return 99;case Eh:return 98;case tk:return 97;case pj:return 96;case Nk:return 95;default:throw Error(n(332));}}function tf(e){switch(e){case 99:return eg;case 98:return Eh;case 97:return tk;case 96:return pj;case 95:return Nk;default:throw Error(n(332));}}function Pe(e,h){e=tf(e);return cl(e,h)}function N(e,h,A){e=tf(e);return uk(e,h,
A)}function V(e){null===hi?(hi=[e],Ej=uk(eg,Ka)):hi.push(e);return dl}function wa(){if(null!==Ej){var e=Ej;Ej=null;el(e)}Ka()}function Ka(){if(!Fj&&null!==hi){Fj=!0;var e=0;try{var h=hi;Pe(99,function(){for(;e<h.length;e++){var A=h[e];do A=A(!0);while(null!==A)}});hi=null}catch(A){throw null!==hi&&(hi=hi.slice(e+1)),uk(eg,wa),A;}finally{Fj=!1}}}function Wa(e,h,A){A/=10;return 1073741821-(((1073741821-e+h/10)/A|0)+1)*A}function Vb(e,h){if(e&&e.defaultProps){h=Ag({},h);e=e.defaultProps;for(var A in e)void 0===
h[A]&&(h[A]=e[A])}return h}function mc(e){var h=Yj.current;Ee(Yj);e.type._context._currentValue=h}function Gc(e,h){for(;null!==e;){var A=e.alternate;if(e.childExpirationTime<h)e.childExpirationTime=h,null!==A&&A.childExpirationTime<h&&(A.childExpirationTime=h);else if(null!==A&&A.childExpirationTime<h)A.childExpirationTime=h;else break;e=e.return}}function uc(e,h){Gj=e;Hj=Vh=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(e.expirationTime>=h&&(dh=!0),e.firstContext=null)}function Fc(e,h){if(Hj!==
e&&!1!==h&&0!==h){if("number"!==typeof h||1073741823===h)Hj=e,h=1073741823;h={context:e,observedBits:h,next:null};if(null===Vh){if(null===Gj)throw Error(n(308));Vh=h;Gj.dependencies={expirationTime:0,firstContext:h,responders:null}}else Vh=Vh.next=h}return e._currentValue}function id(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fd(e,h){e=e.updateQueue;h.updateQueue===e&&(h.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,
effects:e.effects})}function se(e,h){e={expirationTime:e,suspenseConfig:h,tag:0,payload:null,callback:null,next:null};return e.next=e}function xd(e,h){e=e.updateQueue;if(null!==e){e=e.shared;var A=e.pending;null===A?h.next=h:(h.next=A.next,A.next=h);e.pending=h}}function zd(e,h){var A=e.alternate;null!==A&&fd(A,e);e=e.updateQueue;A=e.baseQueue;null===A?(e.baseQueue=h.next=h,h.next=h):(h.next=A.next,A.next=h)}function le(e,h,A,da){var Ba=e.updateQueue;Wi=!1;var yb=Ba.baseQueue,Jb=Ba.shared.pending;
if(null!==Jb){if(null!==yb){var ic=yb.next;yb.next=Jb.next;Jb.next=ic}yb=Jb;Ba.shared.pending=null;ic=e.alternate;null!==ic&&(ic=ic.updateQueue,null!==ic&&(ic.baseQueue=Jb))}if(null!==yb){ic=yb.next;var dd=Ba.baseState,Zc=0,Qd=null,Zd=null,Df=null;if(null!==ic){var Rf=ic;do{Jb=Rf.expirationTime;if(Jb<da){var fg={expirationTime:Rf.expirationTime,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null};null===Df?(Zd=Df=fg,Qd=dd):Df=Df.next=fg;Jb>Zc&&(Zc=Jb)}else{null!==
Df&&(Df=Df.next={expirationTime:1073741823,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null});kg(Jb,Rf.suspenseConfig);a:{var Gg=e,Vc=Rf;Jb=h;fg=A;switch(Vc.tag){case 1:Gg=Vc.payload;if("function"===typeof Gg){dd=Gg.call(fg,dd,Jb);break a}dd=Gg;break a;case 3:Gg.effectTag=Gg.effectTag&-4097|64;case 0:Gg=Vc.payload;Jb="function"===typeof Gg?Gg.call(fg,dd,Jb):Gg;if(null===Jb||void 0===Jb)break a;dd=Ag({},dd,Jb);break a;case 2:Wi=!0}}null!==Rf.callback&&(e.effectTag|=
32,Jb=Ba.effects,null===Jb?Ba.effects=[Rf]:Jb.push(Rf))}Rf=Rf.next;if(null===Rf||Rf===ic)if(Jb=Ba.shared.pending,null===Jb)break;else Rf=yb.next=Jb.next,Jb.next=ic,Ba.baseQueue=yb=Jb,Ba.shared.pending=null}while(1)}null===Df?Qd=dd:Df.next=Zd;Ba.baseState=Qd;Ba.baseQueue=Df;Yf(Zc);e.expirationTime=Zc;e.memoizedState=dd}}function Te(e,h,A){e=h.effects;h.effects=null;if(null!==e)for(h=0;h<e.length;h++){var da=e[h],Ba=da.callback;if(null!==Ba){da.callback=null;da=Ba;Ba=A;if("function"!==typeof da)throw Error(n(191,
da));da.call(Ba)}}}function Me(e,h,A,da){h=e.memoizedState;A=A(da,h);A=null===A||void 0===A?h:Ag({},h,A);e.memoizedState=A;0===e.expirationTime&&(e.updateQueue.baseState=A)}function uf(e,h,A,da,Ba,yb,Jb){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(da,yb,Jb):h.prototype&&h.prototype.isPureReactComponent?!De(A,da)||!De(Ba,yb):!0}function Zf(e,h,A){var da=!1,Ba=Lg,yb=h.contextType;"object"===typeof yb&&null!==yb?yb=Fc(yb):(Ba=Xd(h)?Vi:mg.current,da=h.contextTypes,
yb=(da=null!==da&&void 0!==da)?Be(e,Ba):Lg);h=new h(A,yb);e.memoizedState=null!==h.state&&void 0!==h.state?h.state:null;h.updater=vk;e.stateNode=h;h._reactInternalFiber=e;da&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=Ba,e.__reactInternalMemoizedMaskedChildContext=yb);return h}function pd(e,h,A,da){e=h.state;"function"===typeof h.componentWillReceiveProps&&h.componentWillReceiveProps(A,da);"function"===typeof h.UNSAFE_componentWillReceiveProps&&h.UNSAFE_componentWillReceiveProps(A,
da);h.state!==e&&vk.enqueueReplaceState(h,h.state,null)}function Ue(e,h,A,da){var Ba=e.stateNode;Ba.props=A;Ba.state=e.memoizedState;Ba.refs=fl;id(e);var yb=h.contextType;"object"===typeof yb&&null!==yb?Ba.context=Fc(yb):(yb=Xd(h)?Vi:mg.current,Ba.context=Be(e,yb));le(e,A,Ba,da);Ba.state=e.memoizedState;yb=h.getDerivedStateFromProps;"function"===typeof yb&&(Me(e,h,yb,A),Ba.state=e.memoizedState);"function"===typeof h.getDerivedStateFromProps||"function"===typeof Ba.getSnapshotBeforeUpdate||"function"!==
typeof Ba.UNSAFE_componentWillMount&&"function"!==typeof Ba.componentWillMount||(h=Ba.state,"function"===typeof Ba.componentWillMount&&Ba.componentWillMount(),"function"===typeof Ba.UNSAFE_componentWillMount&&Ba.UNSAFE_componentWillMount(),h!==Ba.state&&vk.enqueueReplaceState(Ba,Ba.state,null),le(e,A,Ba,da),Ba.state=e.memoizedState);"function"===typeof Ba.componentDidMount&&(e.effectTag|=4)}function Le(e,h,A){e=A.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(A._owner){if(A=A._owner){if(1!==
A.tag)throw Error(n(309));var da=A.stateNode}if(!da)throw Error(n(147,e));var Ba=""+e;if(null!==h&&null!==h.ref&&"function"===typeof h.ref&&h.ref._stringRef===Ba)return h.ref;h=function(yb){var Jb=da.refs;Jb===fl&&(Jb=da.refs={});null===yb?delete Jb[Ba]:Jb[Ba]=yb};h._stringRef=Ba;return h}if("string"!==typeof e)throw Error(n(284));if(!A._owner)throw Error(n(290,e));}return e}function Ze(e,h){if("textarea"!==e.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(h)?"object with keys {"+
Object.keys(h).join(", ")+"}":h,""));}function $f(e){function h(Vc,Lc){if(e){var jd=Vc.lastEffect;null!==jd?(jd.nextEffect=Lc,Vc.lastEffect=Lc):Vc.firstEffect=Vc.lastEffect=Lc;Lc.nextEffect=null;Lc.effectTag=8}}function A(Vc,Lc){if(!e)return null;for(;null!==Lc;)h(Vc,Lc),Lc=Lc.sibling;return null}function da(Vc,Lc){for(Vc=new Map;null!==Lc;)null!==Lc.key?Vc.set(Lc.key,Lc):Vc.set(Lc.index,Lc),Lc=Lc.sibling;return Vc}function Ba(Vc,Lc){Vc=Wh(Vc,Lc);Vc.index=0;Vc.sibling=null;return Vc}function yb(Vc,
Lc,jd){Vc.index=jd;if(!e)return Lc;jd=Vc.alternate;if(null!==jd)return jd=jd.index,jd<Lc?(Vc.effectTag=2,Lc):jd;Vc.effectTag=2;return Lc}function Jb(Vc){e&&null===Vc.alternate&&(Vc.effectTag=2);return Vc}function ic(Vc,Lc,jd,Gd){if(null===Lc||6!==Lc.tag)return Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function dd(Vc,Lc,jd,Gd){if(null!==Lc&&Lc.elementType===jd.type)return Gd=Ba(Lc,jd.props),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Gd;Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,
Gd);Gd.ref=Le(Vc,Lc,jd);Gd.return=Vc;return Gd}function Zc(Vc,Lc,jd,Gd){if(null===Lc||4!==Lc.tag||Lc.stateNode.containerInfo!==jd.containerInfo||Lc.stateNode.implementation!==jd.implementation)return Lc=qg(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;return Lc}function Qd(Vc,Lc,jd,Gd,Ud){if(null===Lc||7!==Lc.tag)return Lc=eh(jd,Vc.mode,Gd,Ud),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function Zd(Vc,Lc,jd){if("string"===typeof Lc||"number"===typeof Lc)return Lc=Ij(""+
Lc,Vc.mode,jd),Lc.return=Vc,Lc;if("object"===typeof Lc&&null!==Lc){switch(Lc.$$typeof){case qj:return jd=Ei(Lc.type,Lc.key,Lc.props,null,Vc.mode,jd),jd.ref=Le(Vc,null,Lc),jd.return=Vc,jd;case fi:return Lc=qg(Lc,Vc.mode,jd),Lc.return=Vc,Lc}if(wk(Lc)||La(Lc))return Lc=eh(Lc,Vc.mode,jd,null),Lc.return=Vc,Lc;Ze(Vc,Lc)}return null}function Df(Vc,Lc,jd,Gd){var Ud=null!==Lc?Lc.key:null;if("string"===typeof jd||"number"===typeof jd)return null!==Ud?null:ic(Vc,Lc,""+jd,Gd);if("object"===typeof jd&&null!==
jd){switch(jd.$$typeof){case qj:return jd.key===Ud?jd.type===ah?Qd(Vc,Lc,jd.props.children,Gd,Ud):dd(Vc,Lc,jd,Gd):null;case fi:return jd.key===Ud?Zc(Vc,Lc,jd,Gd):null}if(wk(jd)||La(jd))return null!==Ud?null:Qd(Vc,Lc,jd,Gd,null);Ze(Vc,jd)}return null}function Rf(Vc,Lc,jd,Gd,Ud){if("string"===typeof Gd||"number"===typeof Gd)return Vc=Vc.get(jd)||null,ic(Lc,Vc,""+Gd,Ud);if("object"===typeof Gd&&null!==Gd){switch(Gd.$$typeof){case qj:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Gd.type===ah?Qd(Lc,
Vc,Gd.props.children,Ud,Gd.key):dd(Lc,Vc,Gd,Ud);case fi:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Zc(Lc,Vc,Gd,Ud)}if(wk(Gd)||La(Gd))return Vc=Vc.get(jd)||null,Qd(Lc,Vc,Gd,Ud,null);Ze(Lc,Gd)}return null}function fg(Vc,Lc,jd,Gd){for(var Ud=null,qe=null,Ne=Lc,Hf=Lc=0,lg=null;null!==Ne&&Hf<jd.length;Hf++){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var pf=Df(Vc,Ne,jd[Hf],Gd);if(null===pf){null===Ne&&(Ne=lg);break}e&&Ne&&null===pf.alternate&&h(Vc,Ne);Lc=yb(pf,Lc,Hf);null===qe?Ud=pf:qe.sibling=pf;qe=
pf;Ne=lg}if(Hf===jd.length)return A(Vc,Ne),Ud;if(null===Ne){for(;Hf<jd.length;Hf++)Ne=Zd(Vc,jd[Hf],Gd),null!==Ne&&(Lc=yb(Ne,Lc,Hf),null===qe?Ud=Ne:qe.sibling=Ne,qe=Ne);return Ud}for(Ne=da(Vc,Ne);Hf<jd.length;Hf++)lg=Rf(Ne,Vc,Hf,jd[Hf],Gd),null!==lg&&(e&&null!==lg.alternate&&Ne.delete(null===lg.key?Hf:lg.key),Lc=yb(lg,Lc,Hf),null===qe?Ud=lg:qe.sibling=lg,qe=lg);e&&Ne.forEach(function(ii){return h(Vc,ii)});return Ud}function Gg(Vc,Lc,jd,Gd){var Ud=La(jd);if("function"!==typeof Ud)throw Error(n(150));
jd=Ud.call(jd);if(null==jd)throw Error(n(151));for(var qe=Ud=null,Ne=Lc,Hf=Lc=0,lg=null,pf=jd.next();null!==Ne&&!pf.done;Hf++,pf=jd.next()){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var ii=Df(Vc,Ne,pf.value,Gd);if(null===ii){null===Ne&&(Ne=lg);break}e&&Ne&&null===ii.alternate&&h(Vc,Ne);Lc=yb(ii,Lc,Hf);null===qe?Ud=ii:qe.sibling=ii;qe=ii;Ne=lg}if(pf.done)return A(Vc,Ne),Ud;if(null===Ne){for(;!pf.done;Hf++,pf=jd.next())pf=Zd(Vc,pf.value,Gd),null!==pf&&(Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,
qe=pf);return Ud}for(Ne=da(Vc,Ne);!pf.done;Hf++,pf=jd.next())pf=Rf(Ne,Vc,Hf,pf.value,Gd),null!==pf&&(e&&null!==pf.alternate&&Ne.delete(null===pf.key?Hf:pf.key),Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,qe=pf);e&&Ne.forEach(function(Ok){return h(Vc,Ok)});return Ud}return function(Vc,Lc,jd,Gd){var Ud="object"===typeof jd&&null!==jd&&jd.type===ah&&null===jd.key;Ud&&(jd=jd.props.children);var qe="object"===typeof jd&&null!==jd;if(qe)switch(jd.$$typeof){case qj:a:{qe=jd.key;for(Ud=Lc;null!==Ud;){if(Ud.key===
qe){switch(Ud.tag){case 7:if(jd.type===ah){A(Vc,Ud.sibling);Lc=Ba(Ud,jd.props.children);Lc.return=Vc;Vc=Lc;break a}break;default:if(Ud.elementType===jd.type){A(Vc,Ud.sibling);Lc=Ba(Ud,jd.props);Lc.ref=Le(Vc,Ud,jd);Lc.return=Vc;Vc=Lc;break a}}A(Vc,Ud);break}else h(Vc,Ud);Ud=Ud.sibling}jd.type===ah?(Lc=eh(jd.props.children,Vc.mode,Gd,jd.key),Lc.return=Vc,Vc=Lc):(Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,Gd),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Vc=Gd)}return Jb(Vc);case fi:a:{for(Ud=jd.key;null!==Lc;){if(Lc.key===
Ud)if(4===Lc.tag&&Lc.stateNode.containerInfo===jd.containerInfo&&Lc.stateNode.implementation===jd.implementation){A(Vc,Lc.sibling);Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;Vc=Lc;break a}else{A(Vc,Lc);break}else h(Vc,Lc);Lc=Lc.sibling}Lc=qg(jd,Vc.mode,Gd);Lc.return=Vc;Vc=Lc}return Jb(Vc)}if("string"===typeof jd||"number"===typeof jd)return jd=""+jd,null!==Lc&&6===Lc.tag?(A(Vc,Lc.sibling),Lc=Ba(Lc,jd),Lc.return=Vc,Vc=Lc):(A(Vc,Lc),Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Vc=Lc),Jb(Vc);if(wk(jd))return fg(Vc,
Lc,jd,Gd);if(La(jd))return Gg(Vc,Lc,jd,Gd);qe&&Ze(Vc,jd);if("undefined"===typeof jd&&!Ud)switch(Vc.tag){case 1:case 0:throw Vc=Vc.type,Error(n(152,Vc.displayName||Vc.name||"Component"));}return A(Vc,Lc)}}function vf(e){if(e===Zj)throw Error(n(174));return e}function ag(e,h){Ac(ak,h);Ac(bk,e);Ac(ji,Zj);e=h.nodeType;switch(e){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:T(null,"");break;default:e=8===e?h.parentNode:h,h=e.namespaceURI||null,e=e.tagName,h=T(h,e)}Ee(ji);Ac(ji,h)}function df(){Ee(ji);
Ee(bk);Ee(ak)}function M(e){vf(ak.current);var h=vf(ji.current),A=T(h,e.type);h!==A&&(Ac(bk,e),Ac(ji,A))}function fa(e){bk.current===e&&(Ee(ji),Ee(bk))}function kb(e){for(var h=e;null!==h;){if(13===h.tag){var A=h.memoizedState;if(null!==A&&(A=A.dehydrated,null===A||A.data===Vj||A.data===Ai))return h}else if(19===h.tag&&void 0!==h.memoizedProps.revealOrder){if(0!==(h.effectTag&64))return h}else if(null!==h.child){h.child.return=h;h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===
h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}return null}function Qb(e,h){return{responder:e,props:h}}function Mb(){throw Error(n(321));}function bc(e,h){if(null===h)return!1;for(var A=0;A<h.length&&A<e.length;A++)if(!ra(e[A],h[A]))return!1;return!0}function jc(e,h,A,da,Ba,yb){ki=yb;tg=h;h.memoizedState=null;h.updateQueue=null;h.expirationTime=0;xk.current=null===e||null===e.memoizedState?Jj:ck;e=A(da,Ba);if(h.expirationTime===ki){yb=0;do{h.expirationTime=0;
if(!(25>yb))throw Error(n(301));yb+=1;Rg=Sg=null;h.updateQueue=null;xk.current=Kj;e=A(da,Ba)}while(h.expirationTime===ki)}xk.current=te;h=null!==Sg&&null!==Sg.next;ki=0;Rg=Sg=tg=null;yk=!1;if(h)throw Error(n(300));return e}function Qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e;return Rg}function Kc(){if(null===Sg){var e=tg.alternate;e=null!==e?e.memoizedState:null}else e=Sg.next;var h=null===Rg?tg.memoizedState:Rg.next;
if(null!==h)Rg=h,Sg=e;else{if(null===e)throw Error(n(310));Sg=e;e={memoizedState:Sg.memoizedState,baseState:Sg.baseState,baseQueue:Sg.baseQueue,queue:Sg.queue,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e}return Rg}function ad(e,h){return"function"===typeof h?h(e):h}function ud(e){var h=Kc(),A=h.queue;if(null===A)throw Error(n(311));A.lastRenderedReducer=e;var da=Sg,Ba=da.baseQueue,yb=A.pending;if(null!==yb){if(null!==Ba){var Jb=Ba.next;Ba.next=yb.next;yb.next=Jb}da.baseQueue=Ba=yb;A.pending=
null}if(null!==Ba){Ba=Ba.next;da=da.baseState;var ic=Jb=yb=null,dd=Ba;do{var Zc=dd.expirationTime;if(Zc<ki){var Qd={expirationTime:dd.expirationTime,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,next:null};null===ic?(Jb=ic=Qd,yb=da):ic=ic.next=Qd;Zc>tg.expirationTime&&(tg.expirationTime=Zc,Yf(Zc))}else null!==ic&&(ic=ic.next={expirationTime:1073741823,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,
next:null}),kg(Zc,dd.suspenseConfig),da=dd.eagerReducer===e?dd.eagerState:e(da,dd.action);dd=dd.next}while(null!==dd&&dd!==Ba);null===ic?yb=da:ic.next=Jb;ra(da,h.memoizedState)||(dh=!0);h.memoizedState=da;h.baseState=yb;h.baseQueue=ic;A.lastRenderedState=da}return[h.memoizedState,A.dispatch]}function Nd(e){var h=Kc(),A=h.queue;if(null===A)throw Error(n(311));A.lastRenderedReducer=e;var da=A.dispatch,Ba=A.pending,yb=h.memoizedState;if(null!==Ba){A.pending=null;var Jb=Ba=Ba.next;do yb=e(yb,Jb.action),
Jb=Jb.next;while(Jb!==Ba);ra(yb,h.memoizedState)||(dh=!0);h.memoizedState=yb;null===h.baseQueue&&(h.baseState=yb);A.lastRenderedState=yb}return[yb,da]}function Td(e){var h=Qc();"function"===typeof e&&(e=e());h.memoizedState=h.baseState=e;e=h.queue={pending:null,dispatch:null,lastRenderedReducer:ad,lastRenderedState:e};e=e.dispatch=P.bind(null,tg,e);return[h.memoizedState,e]}function Bd(e,h,A,da){e={tag:e,create:h,destroy:A,deps:da,next:null};h=tg.updateQueue;null===h?(h={lastEffect:null},tg.updateQueue=
h,h.lastEffect=e.next=e):(A=h.lastEffect,null===A?h.lastEffect=e.next=e:(da=A.next,A.next=e,e.next=da,h.lastEffect=e));return e}function af(){return Kc().memoizedState}function Pd(e,h,A,da){var Ba=Qc();tg.effectTag|=e;Ba.memoizedState=Bd(1|h,A,void 0,void 0===da?null:da)}function Fe(e,h,A,da){var Ba=Kc();da=void 0===da?null:da;var yb=void 0;if(null!==Sg){var Jb=Sg.memoizedState;yb=Jb.destroy;if(null!==da&&bc(da,Jb.deps)){Bd(h,A,yb,da);return}}tg.effectTag|=e;Ba.memoizedState=Bd(1|h,A,yb,da)}function he(e,
h){return Pd(516,4,e,h)}function ze(e,h){return Fe(516,4,e,h)}function Sf(e,h){return Fe(4,2,e,h)}function be(e,h){if("function"===typeof h)return e=e(),h(e),function(){h(null)};if(null!==h&&void 0!==h)return e=e(),h.current=e,function(){h.current=null}}function wf(e,h,A){A=null!==A&&void 0!==A?A.concat([e]):null;return Fe(4,2,be.bind(null,h,e),A)}function Ce(){}function Kf(e,h){Qc().memoizedState=[e,void 0===h?null:h];return e}function ef(e,h){var A=Kc();h=void 0===h?null:h;var da=A.memoizedState;
if(null!==da&&null!==h&&bc(h,da[1]))return da[0];A.memoizedState=[e,h];return e}function gg(e,h){var A=Kc();h=void 0===h?null:h;var da=A.memoizedState;if(null!==da&&null!==h&&bc(h,da[1]))return da[0];e=e();A.memoizedState=[e,h];return e}function O(e,h,A){var da=kf();Pe(98>da?98:da,function(){e(!0)});Pe(97<da?97:da,function(){var Ba=fh.suspense;fh.suspense=void 0===h?null:h;try{e(!1),A()}finally{fh.suspense=Ba}})}function P(e,h,A){var da=vc(),Ba=dk.suspense;da=hd(da,e,Ba);Ba={expirationTime:da,suspenseConfig:Ba,
action:A,eagerReducer:null,eagerState:null,next:null};var yb=h.pending;null===yb?Ba.next=Ba:(Ba.next=yb.next,yb.next=Ba);h.pending=Ba;yb=e.alternate;if(e===tg||null!==yb&&yb===tg)yk=!0,Ba.expirationTime=ki,tg.expirationTime=ki;else{if(0===e.expirationTime&&(null===yb||0===yb.expirationTime)&&(yb=h.lastRenderedReducer,null!==yb))try{var Jb=h.lastRenderedState,ic=yb(Jb,A);Ba.eagerReducer=yb;Ba.eagerState=ic;if(ra(ic,Jb))return}catch(dd){}finally{}nd(e,da)}}function aa(e,h){var A=Mg(5,null,null,0);A.elementType=
"DELETED";A.type="DELETED";A.stateNode=h;A.return=e;A.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=A,e.lastEffect=A):e.firstEffect=e.lastEffect=A}function ja(e,h){switch(e.tag){case 5:var A=e.type;h=1!==h.nodeType||A.toLowerCase()!==h.nodeName.toLowerCase()?null:h;return null!==h?(e.stateNode=h,!0):!1;case 6:return h=""===e.pendingProps||3!==h.nodeType?null:h,null!==h?(e.stateNode=h,!0):!1;case 13:return!1;default:return!1}}function ya(e){if(td){var h=If;if(h){var A=h;if(!ja(e,h)){h=kc(A.nextSibling);
if(!h||!ja(e,h)){e.effectTag=e.effectTag&-1025|2;td=!1;Ve=e;return}aa(Ve,A)}Ve=e;If=kc(h.firstChild)}else e.effectTag=e.effectTag&-1025|2,td=!1,Ve=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ve=e}function ab(e){if(e!==Ve)return!1;if(!td)return Ea(e),td=!0,!1;var h=e.type;if(5!==e.tag||"head"!==h&&"body"!==h&&!sc(h,e.memoizedProps))for(h=If;h;)aa(e,h),h=kc(h.nextSibling);Ea(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(n(317));
a:{e=e.nextSibling;for(h=0;e;){if(8===e.nodeType){var A=e.data;if(A===Si){if(0===h){If=kc(e.nextSibling);break a}h--}else A!==lh&&A!==Ai&&A!==Vj||h++}e=e.nextSibling}If=null}}else If=Ve?kc(e.stateNode.nextSibling):null;return!0}function tb(e,h,A,da){h.child=null===e?Pk(h,null,A,da):Xi(h,e.child,A,da)}function pb(e,h,A,da,Ba){A=A.render;var yb=h.ref;uc(h,Ba);da=jc(e,h,A,da,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),gc(e,h,
Ba);h.effectTag|=1;tb(e,h,da,Ba);return h.child}function Ab(e,h,A,da,Ba,yb){if(null===e){var Jb=A.type;if("function"===typeof Jb&&!Lj(Jb)&&void 0===Jb.defaultProps&&null===A.compare&&void 0===A.defaultProps)return h.tag=15,h.type=Jb,Eb(e,h,Jb,da,Ba,yb);e=Ei(A.type,null,da,null,h.mode,yb);e.ref=h.ref;e.return=h;return h.child=e}Jb=e.child;if(Ba<yb&&(Ba=Jb.memoizedProps,A=A.compare,A=null!==A?A:De,A(Ba,da)&&e.ref===h.ref))return gc(e,h,yb);h.effectTag|=1;e=Wh(Jb,da);e.ref=h.ref;e.return=h;return h.child=
e}function Eb(e,h,A,da,Ba,yb){return null!==e&&De(e.memoizedProps,da)&&e.ref===h.ref&&(dh=!1,Ba<yb)?(h.expirationTime=e.expirationTime,gc(e,h,yb)):pc(e,h,A,da,yb)}function Yb(e,h){var A=h.ref;if(null===e&&null!==A||null!==e&&e.ref!==A)h.effectTag|=128}function pc(e,h,A,da,Ba){var yb=Xd(A)?Vi:mg.current;yb=Be(h,yb);uc(h,Ba);A=jc(e,h,A,da,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),gc(e,h,Ba);h.effectTag|=1;tb(e,h,A,Ba);return h.child}
function u(e,h,A,da,Ba){if(Xd(A)){var yb=!0;Ke(h)}else yb=!1;uc(h,Ba);if(null===h.stateNode)null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),Zf(h,A,da),Ue(h,A,da,Ba),da=!0;else if(null===e){var Jb=h.stateNode,ic=h.memoizedProps;Jb.props=ic;var dd=Jb.context,Zc=A.contextType;"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(A)?Vi:mg.current,Zc=Be(h,Zc));var Qd=A.getDerivedStateFromProps,Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate;Zd||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Jb.componentWillReceiveProps||(ic!==da||dd!==Zc)&&pd(h,Jb,da,Zc);Wi=!1;var Df=h.memoizedState;Jb.state=Df;le(h,da,Jb,Ba);dd=h.memoizedState;ic!==da||Df!==dd||Dg.current||Wi?("function"===typeof Qd&&(Me(h,A,Qd,da),dd=h.memoizedState),(ic=Wi||uf(h,A,ic,da,Df,dd,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillMount&&"function"!==typeof Jb.componentWillMount||("function"===typeof Jb.componentWillMount&&Jb.componentWillMount(),"function"===typeof Jb.UNSAFE_componentWillMount&&
Jb.UNSAFE_componentWillMount()),"function"===typeof Jb.componentDidMount&&(h.effectTag|=4)):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),h.memoizedProps=da,h.memoizedState=dd),Jb.props=da,Jb.state=dd,Jb.context=Zc,da=ic):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),da=!1)}else Jb=h.stateNode,fd(e,h),ic=h.memoizedProps,Jb.props=h.type===h.elementType?ic:Vb(h.type,ic),dd=Jb.context,Zc=A.contextType,"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(A)?Vi:mg.current,Zc=Be(h,
Zc)),Qd=A.getDerivedStateFromProps,(Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate)||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Jb.componentWillReceiveProps||(ic!==da||dd!==Zc)&&pd(h,Jb,da,Zc),Wi=!1,dd=h.memoizedState,Jb.state=dd,le(h,da,Jb,Ba),Df=h.memoizedState,ic!==da||dd!==Df||Dg.current||Wi?("function"===typeof Qd&&(Me(h,A,Qd,da),Df=h.memoizedState),(Qd=Wi||uf(h,A,ic,da,dd,Df,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillUpdate&&
"function"!==typeof Jb.componentWillUpdate||("function"===typeof Jb.componentWillUpdate&&Jb.componentWillUpdate(da,Df,Zc),"function"===typeof Jb.UNSAFE_componentWillUpdate&&Jb.UNSAFE_componentWillUpdate(da,Df,Zc)),"function"===typeof Jb.componentDidUpdate&&(h.effectTag|=4),"function"===typeof Jb.getSnapshotBeforeUpdate&&(h.effectTag|=256)):("function"!==typeof Jb.componentDidUpdate||ic===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||ic===e.memoizedProps&&
dd===e.memoizedState||(h.effectTag|=256),h.memoizedProps=da,h.memoizedState=Df),Jb.props=da,Jb.state=Df,Jb.context=Zc,da=Qd):("function"!==typeof Jb.componentDidUpdate||ic===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||ic===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=256),da=!1);return F(e,h,A,da,yb,Ba)}function F(e,h,A,da,Ba,yb){Yb(e,h);var Jb=0!==(h.effectTag&64);if(!da&&!Jb)return Ba&&Cf(h,A,!1),gc(e,h,yb);da=h.stateNode;Fi.current=
h;var ic=Jb&&"function"!==typeof A.getDerivedStateFromError?null:da.render();h.effectTag|=1;null!==e&&Jb?(h.child=Xi(h,e.child,null,yb),h.child=Xi(h,null,ic,yb)):tb(e,h,ic,yb);h.memoizedState=da.state;Ba&&Cf(h,A,!0);return h.child}function ca(e){var h=e.stateNode;h.pendingContext?Je(e,h.pendingContext,h.pendingContext!==h.context):h.context&&Je(e,h.context,!1);ag(e,h.containerInfo)}function na(e,h,A){var da=h.mode,Ba=h.pendingProps,yb=rg.current,Jb=!1,ic;(ic=0!==(h.effectTag&64))||(ic=0!==(yb&2)&&
(null===e||null!==e.memoizedState));ic?(Jb=!0,h.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===Ba.fallback||!0===Ba.unstable_avoidThisFallback||(yb|=1);Ac(rg,yb&1);if(null===e){void 0!==Ba.fallback&&ya(h);if(Jb){Jb=Ba.fallback;Ba=eh(null,da,0,null);Ba.return=h;if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;A=eh(Jb,da,A,null);A.return=h;Ba.sibling=A;h.memoizedState=zk;h.child=Ba;return A}da=Ba.children;h.memoizedState=null;
return h.child=Pk(h,null,da,A)}if(null!==e.memoizedState){e=e.child;da=e.sibling;if(Jb){Ba=Ba.fallback;A=Wh(e,e.pendingProps);A.return=h;if(0===(h.mode&2)&&(Jb=null!==h.memoizedState?h.child.child:h.child,Jb!==e.child))for(A.child=Jb;null!==Jb;)Jb.return=A,Jb=Jb.sibling;da=Wh(da,Ba);da.return=h;A.sibling=da;A.childExpirationTime=0;h.memoizedState=zk;h.child=A;return da}A=Xi(h,e.child,Ba.children,A);h.memoizedState=null;return h.child=A}e=e.child;if(Jb){Jb=Ba.fallback;Ba=eh(null,da,0,null);Ba.return=
h;Ba.child=e;null!==e&&(e.return=Ba);if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;A=eh(Jb,da,A,null);A.return=h;Ba.sibling=A;A.effectTag|=2;Ba.childExpirationTime=0;h.memoizedState=zk;h.child=Ba;return A}h.memoizedState=null;return h.child=Xi(h,e,Ba.children,A)}function lb(e,h){e.expirationTime<h&&(e.expirationTime=h);var A=e.alternate;null!==A&&A.expirationTime<h&&(A.expirationTime=h);Gc(e.return,h)}function Ib(e,h,A,da,Ba,yb){var Jb=
e.memoizedState;null===Jb?e.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:da,tail:A,tailExpiration:0,tailMode:Ba,lastEffect:yb}:(Jb.isBackwards=h,Jb.rendering=null,Jb.renderingStartTime=0,Jb.last=da,Jb.tail=A,Jb.tailExpiration=0,Jb.tailMode=Ba,Jb.lastEffect=yb)}function Sb(e,h,A){var da=h.pendingProps,Ba=da.revealOrder,yb=da.tail;tb(e,h,da.children,A);da=rg.current;if(0!==(da&2))da=da&1|2,h.effectTag|=64;else{if(null!==e&&0!==(e.effectTag&64))a:for(e=h.child;null!==e;){if(13===
e.tag)null!==e.memoizedState&&lb(e,A);else if(19===e.tag)lb(e,A);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===h)break a;for(;null===e.sibling;){if(null===e.return||e.return===h)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}da&=1}Ac(rg,da);if(0===(h.mode&2))h.memoizedState=null;else switch(Ba){case "forwards":A=h.child;for(Ba=null;null!==A;)e=A.alternate,null!==e&&null===kb(e)&&(Ba=A),A=A.sibling;A=Ba;null===A?(Ba=h.child,h.child=null):(Ba=A.sibling,A.sibling=null);
Ib(h,!1,Ba,A,yb,h.lastEffect);break;case "backwards":A=null;Ba=h.child;for(h.child=null;null!==Ba;){e=Ba.alternate;if(null!==e&&null===kb(e)){h.child=Ba;break}e=Ba.sibling;Ba.sibling=A;A=Ba;Ba=e}Ib(h,!0,A,null,yb,h.lastEffect);break;case "together":Ib(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function gc(e,h,A){null!==e&&(h.dependencies=e.dependencies);var da=h.expirationTime;0!==da&&Yf(da);if(h.childExpirationTime<A)return null;if(null!==e&&h.child!==e.child)throw Error(n(153));
if(null!==h.child){e=h.child;A=Wh(e,e.pendingProps);h.child=A;for(A.return=h;null!==e.sibling;)e=e.sibling,A=A.sibling=Wh(e,e.pendingProps),A.return=h;A.sibling=null}return h.child}function zc(e,h){switch(e.tailMode){case "hidden":h=e.tail;for(var A=null;null!==h;)null!==h.alternate&&(A=h),h=h.sibling;null===A?e.tail=null:A.sibling=null;break;case "collapsed":A=e.tail;for(var da=null;null!==A;)null!==A.alternate&&(da=A),A=A.sibling;null===da?h||null===e.tail?e.tail=null:e.tail.sibling=null:da.sibling=
null}}function Tc(e,h,A){var da=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Xd(h.type)&&cc(),null;case 3:return df(),Ee(Dg),Ee(mg),A=h.stateNode,A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),null!==e&&null!==e.child||!ab(h)||(h.effectTag|=4),Qk(h),null;case 5:fa(h);A=vf(ak.current);var Ba=h.type;if(null!==e&&null!=h.stateNode)Al(e,h,Ba,da,A),e.ref!==h.ref&&(h.effectTag|=128);else{if(!da){if(null===
h.stateNode)throw Error(n(166));return null}e=vf(ji.current);if(ab(h)){da=h.stateNode;Ba=h.type;var yb=h.memoizedProps;da[mh]=h;da[Qg]=yb;switch(Ba){case "iframe":case "object":case "embed":Nc("load",da);break;case "video":case "audio":for(e=0;e<yh.length;e++)Nc(yh[e],da);break;case "source":Nc("error",da);break;case "img":case "image":case "link":Nc("error",da);Nc("load",da);break;case "form":Nc("reset",da);Nc("submit",da);break;case "details":Nc("toggle",da);break;case "input":z(da,yb);Nc("invalid",
da);vd(A,"onChange");break;case "select":da._wrapperState={wasMultiple:!!yb.multiple};Nc("invalid",da);vd(A,"onChange");break;case "textarea":U(da,yb),Nc("invalid",da),vd(A,"onChange")}ac(Ba,yb);e=null;for(var Jb in yb)if(yb.hasOwnProperty(Jb)){var ic=yb[Jb];"children"===Jb?"string"===typeof ic?da.textContent!==ic&&(e=["children",ic]):"number"===typeof ic&&da.textContent!==""+ic&&(e=["children",""+ic]):qi.hasOwnProperty(Jb)&&null!=ic&&vd(A,Jb)}switch(Ba){case "input":nb(da);J(da,yb,!0);break;case "textarea":nb(da);
ua(da);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(da.onclick=de)}A=e;h.updateQueue=A;null!==A&&(h.effectTag|=4)}else{Jb=9===A.nodeType?A:A.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=la(Ba));"http://www.w3.org/1999/xhtml"===e?"script"===Ba?(e=Jb.createElement("div"),e.innerHTML="\x3cscript\x3e\x3c/script\x3e",e=e.removeChild(e.firstChild)):"string"===typeof da.is?e=Jb.createElement(Ba,{is:da.is}):(e=Jb.createElement(Ba),"select"===Ba&&(Jb=e,da.multiple?
Jb.multiple=!0:da.size&&(Jb.size=da.size))):e=Jb.createElementNS(e,Ba);e[mh]=h;e[Qg]=da;gl(e,h,!1,!1);h.stateNode=e;Jb=rd(Ba,da);switch(Ba){case "iframe":case "object":case "embed":Nc("load",e);ic=da;break;case "video":case "audio":for(ic=0;ic<yh.length;ic++)Nc(yh[ic],e);ic=da;break;case "source":Nc("error",e);ic=da;break;case "img":case "image":case "link":Nc("error",e);Nc("load",e);ic=da;break;case "form":Nc("reset",e);Nc("submit",e);ic=da;break;case "details":Nc("toggle",e);ic=da;break;case "input":z(e,
da);ic=S(e,da);Nc("invalid",e);vd(A,"onChange");break;case "option":ic=ma(e,da);break;case "select":e._wrapperState={wasMultiple:!!da.multiple};ic=Ag({},da,{value:void 0});Nc("invalid",e);vd(A,"onChange");break;case "textarea":U(e,da);ic=Ua(e,da);Nc("invalid",e);vd(A,"onChange");break;default:ic=da}ac(Ba,ic);var dd=ic;for(yb in dd)if(dd.hasOwnProperty(yb)){var Zc=dd[yb];"style"===yb?vb(e,Zc):"dangerouslySetInnerHTML"===yb?(Zc=Zc?Zc.__html:void 0,null!=Zc&&bg(e,Zc)):"children"===yb?"string"===typeof Zc?
("textarea"!==Ba||""!==Zc)&&v(e,Zc):"number"===typeof Zc&&v(e,""+Zc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(qi.hasOwnProperty(yb)?null!=Zc&&vd(A,yb):null!=Zc&&bb(e,yb,Zc,Jb))}switch(Ba){case "input":nb(e);J(e,da,!1);break;case "textarea":nb(e);ua(e);break;case "option":null!=da.value&&e.setAttribute("value",""+Ya(da.value));break;case "select":e.multiple=!!da.multiple;A=da.value;null!=A?Qa(e,!!da.multiple,A,!1):null!=da.defaultValue&&Qa(e,!!da.multiple,
da.defaultValue,!0);break;default:"function"===typeof ic.onClick&&(e.onclick=de)}Gb(Ba,da)&&(h.effectTag|=4)}null!==h.ref&&(h.effectTag|=128)}return null;case 6:if(e&&null!=h.stateNode)hl(e,h,e.memoizedProps,da);else{if("string"!==typeof da&&null===h.stateNode)throw Error(n(166));A=vf(ak.current);vf(ji.current);ab(h)?(A=h.stateNode,da=h.memoizedProps,A[mh]=h,A.nodeValue!==da&&(h.effectTag|=4)):(A=(9===A.nodeType?A:A.ownerDocument).createTextNode(da),A[mh]=h,h.stateNode=A)}return null;case 13:Ee(rg);
da=h.memoizedState;if(0!==(h.effectTag&64))return h.expirationTime=A,h;A=null!==da;da=!1;null===e?void 0!==h.memoizedProps.fallback&&ab(h):(Ba=e.memoizedState,da=null!==Ba,A||null===Ba||(Ba=e.child.sibling,null!==Ba&&(yb=h.firstEffect,null!==yb?(h.firstEffect=Ba,Ba.nextEffect=yb):(h.firstEffect=h.lastEffect=Ba,Ba.nextEffect=null),Ba.effectTag=8)));if(A&&!da&&0!==(h.mode&2))if(null===e&&!0!==h.memoizedProps.unstable_avoidThisFallback||0!==(rg.current&1))Hg===rj&&(Hg=Yg);else{if(Hg===rj||Hg===Yg)Hg=
sj;0!==Tg&&null!==oh&&(ph(oh,gh),wg(oh,Tg))}if(A||da)h.effectTag|=4;return null;case 4:return df(),Qk(h),null;case 10:return mc(h),null;case 17:return Xd(h.type)&&cc(),null;case 19:Ee(rg);da=h.memoizedState;if(null===da)return null;Ba=0!==(h.effectTag&64);yb=da.rendering;if(null===yb)if(Ba)zc(da,!1);else{if(Hg!==rj||null!==e&&0!==(e.effectTag&64))for(yb=h.child;null!==yb;){e=kb(yb);if(null!==e){h.effectTag|=64;zc(da,!1);Ba=e.updateQueue;null!==Ba&&(h.updateQueue=Ba,h.effectTag|=4);null===da.lastEffect&&
(h.firstEffect=null);h.lastEffect=da.lastEffect;for(da=h.child;null!==da;)Ba=da,yb=A,Ba.effectTag&=2,Ba.nextEffect=null,Ba.firstEffect=null,Ba.lastEffect=null,e=Ba.alternate,null===e?(Ba.childExpirationTime=0,Ba.expirationTime=yb,Ba.child=null,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null):(Ba.childExpirationTime=e.childExpirationTime,Ba.expirationTime=e.expirationTime,Ba.child=e.child,Ba.memoizedProps=e.memoizedProps,Ba.memoizedState=e.memoizedState,Ba.updateQueue=
e.updateQueue,yb=e.dependencies,Ba.dependencies=null===yb?null:{expirationTime:yb.expirationTime,firstContext:yb.firstContext,responders:yb.responders}),da=da.sibling;Ac(rg,rg.current&1|2);return h.child}yb=yb.sibling}}else{if(!Ba)if(e=kb(yb),null!==e){if(h.effectTag|=64,Ba=!0,A=e.updateQueue,null!==A&&(h.updateQueue=A,h.effectTag|=4),zc(da,!0),null===da.tail&&"hidden"===da.tailMode&&!yb.alternate)return h=h.lastEffect=da.lastEffect,null!==h&&(h.nextEffect=null),null}else 2*hh()-da.renderingStartTime>
da.tailExpiration&&1<A&&(h.effectTag|=64,Ba=!0,zc(da,!1),h.expirationTime=h.childExpirationTime=A-1);da.isBackwards?(yb.sibling=h.child,h.child=yb):(A=da.last,null!==A?A.sibling=yb:h.child=yb,da.last=yb)}return null!==da.tail?(0===da.tailExpiration&&(da.tailExpiration=hh()+500),A=da.tail,da.rendering=A,da.tail=A.sibling,da.lastEffect=h.lastEffect,da.renderingStartTime=hh(),A.sibling=null,h=rg.current,Ac(rg,Ba?h&1|2:h&1),A):null}throw Error(n(156,h.tag));}function Rc(e){switch(e.tag){case 1:Xd(e.type)&&
cc();var h=e.effectTag;return h&4096?(e.effectTag=h&-4097|64,e):null;case 3:df();Ee(Dg);Ee(mg);h=e.effectTag;if(0!==(h&64))throw Error(n(285));e.effectTag=h&-4097|64;return e;case 5:return fa(e),null;case 13:return Ee(rg),h=e.effectTag,h&4096?(e.effectTag=h&-4097|64,e):null;case 19:return Ee(rg),null;case 4:return df(),null;case 10:return mc(e),null;default:return null}}function yd(e,h){return{value:e,source:h,stack:Ra(h)}}function Md(e,h){var A=h.source,da=h.stack;null===da&&null!==A&&(da=Ra(A));
null!==A&&Aa(A.type);h=h.value;null!==e&&1===e.tag&&Aa(e.type);try{console.error(h)}catch(Ba){setTimeout(function(){throw Ba;})}}function bd(e,h){try{h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(A){Xh(e,A)}}function Sd(e){var h=e.ref;if(null!==h)if("function"===typeof h)try{h(null)}catch(A){Xh(e,A)}else h.current=null}function je(e,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(h.effectTag&256&&null!==e){var A=e.memoizedProps,da=e.memoizedState;
e=h.stateNode;h=e.getSnapshotBeforeUpdate(h.elementType===h.type?A:Vb(h.type,A),da);e.__reactInternalSnapshotBeforeUpdate=h}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163));}function We(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var A=h=h.next;do{if((A.tag&e)===e){var da=A.destroy;A.destroy=void 0;void 0!==da&&da()}A=A.next}while(A!==h)}}function pa(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var A=h=h.next;do{if((A.tag&e)===e){var da=A.create;
A.destroy=da()}A=A.next}while(A!==h)}}function Pa(e,h,A){switch(A.tag){case 0:case 11:case 15:case 22:pa(3,A);return;case 1:e=A.stateNode;if(A.effectTag&4)if(null===h)e.componentDidMount();else{var da=A.elementType===A.type?h.memoizedProps:Vb(A.type,h.memoizedProps);e.componentDidUpdate(da,h.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}h=A.updateQueue;null!==h&&Te(A,h,e);return;case 3:h=A.updateQueue;if(null!==h){e=null;if(null!==A.child)switch(A.child.tag){case 5:e=A.child.stateNode;break;
case 1:e=A.child.stateNode}Te(A,h,e)}return;case 5:e=A.stateNode;null===h&&A.effectTag&4&&Gb(A.type,A.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===A.memoizedState&&(A=A.alternate,null!==A&&(A=A.memoizedState,null!==A&&(A=A.dehydrated,null!==A&&Xc(A))));return;case 19:case 17:case 20:case 21:return}throw Error(n(163));}function qb(e,h,A){"function"===typeof Ak&&Ak(h);switch(h.tag){case 0:case 11:case 14:case 15:case 22:e=h.updateQueue;if(null!==e&&(e=e.lastEffect,
null!==e)){var da=e.next;Pe(97<A?97:A,function(){var Ba=da;do{var yb=Ba.destroy;if(void 0!==yb){var Jb=h;try{yb()}catch(ic){Xh(Jb,ic)}}Ba=Ba.next}while(Ba!==da)})}break;case 1:Sd(h);A=h.stateNode;"function"===typeof A.componentWillUnmount&&bd(h,A);break;case 5:Sd(h);break;case 4:ia(e,h,A)}}function Cb(e){var h=e.alternate;e.return=null;e.child=null;e.memoizedState=null;e.updateQueue=null;e.dependencies=null;e.alternate=null;e.firstEffect=null;e.lastEffect=null;e.pendingProps=null;e.memoizedProps=
null;e.stateNode=null;null!==h&&Cb(h)}function Ub(e){return 5===e.tag||3===e.tag||4===e.tag}function c(e){a:{for(var h=e.return;null!==h;){if(Ub(h)){var A=h;break a}h=h.return}throw Error(n(160));}h=A.stateNode;switch(A.tag){case 5:var da=!1;break;case 3:h=h.containerInfo;da=!0;break;case 4:h=h.containerInfo;da=!0;break;default:throw Error(n(161));}A.effectTag&16&&(v(h,""),A.effectTag&=-17);A=e;a:b:for(;;){for(;null===A.sibling;){if(null===A.return||Ub(A.return)){A=null;break a}A=A.return}A.sibling.return=
A.return;for(A=A.sibling;5!==A.tag&&6!==A.tag&&18!==A.tag;){if(A.effectTag&2)continue b;if(null===A.child||4===A.tag)continue b;else A.child.return=A,A=A.child}if(!(A.effectTag&2)){A=A.stateNode;break a}}da?m(e,A,h):G(e,A,h)}function m(e,h,A){var da=e.tag,Ba=5===da||6===da;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?8===A.nodeType?A.parentNode.insertBefore(e,h):A.insertBefore(e,h):(8===A.nodeType?(h=A.parentNode,h.insertBefore(e,A)):(h=A,h.appendChild(e)),A=A._reactRootContainer,null!==A&&void 0!==
A||null!==h.onclick||(h.onclick=de));else if(4!==da&&(e=e.child,null!==e))for(m(e,h,A),e=e.sibling;null!==e;)m(e,h,A),e=e.sibling}function G(e,h,A){var da=e.tag,Ba=5===da||6===da;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?A.insertBefore(e,h):A.appendChild(e);else if(4!==da&&(e=e.child,null!==e))for(G(e,h,A),e=e.sibling;null!==e;)G(e,h,A),e=e.sibling}function ia(e,h,A){for(var da=h,Ba=!1,yb,Jb;;){if(!Ba){Ba=da.return;a:for(;;){if(null===Ba)throw Error(n(160));yb=Ba.stateNode;switch(Ba.tag){case 5:Jb=
!1;break a;case 3:yb=yb.containerInfo;Jb=!0;break a;case 4:yb=yb.containerInfo;Jb=!0;break a}Ba=Ba.return}Ba=!0}if(5===da.tag||6===da.tag){var ic=e,dd=da,Zc=A,Qd=dd;a:for(;;)if(qb(ic,Qd,Zc),null!==Qd.child&&4!==Qd.tag)Qd.child.return=Qd,Qd=Qd.child;else{if(Qd===dd)break a;for(;null===Qd.sibling;){if(null===Qd.return||Qd.return===dd)break a;Qd=Qd.return}Qd.sibling.return=Qd.return;Qd=Qd.sibling}Jb?(ic=yb,dd=da.stateNode,8===ic.nodeType?ic.parentNode.removeChild(dd):ic.removeChild(dd)):yb.removeChild(da.stateNode)}else if(4===
da.tag){if(null!==da.child){yb=da.stateNode.containerInfo;Jb=!0;da.child.return=da;da=da.child;continue}}else if(qb(e,da,A),null!==da.child){da.child.return=da;da=da.child;continue}if(da===h)break;for(;null===da.sibling;){if(null===da.return||da.return===h)return;da=da.return;4===da.tag&&(Ba=!1)}da.sibling.return=da.return;da=da.sibling}}function Ga(e,h){switch(h.tag){case 0:case 11:case 14:case 15:case 22:We(3,h);return;case 1:return;case 5:var A=h.stateNode;if(null!=A){var da=h.memoizedProps,Ba=
null!==e?e.memoizedProps:da;e=h.type;var yb=h.updateQueue;h.updateQueue=null;if(null!==yb){A[Qg]=da;"input"===e&&"radio"===da.type&&null!=da.name&&I(A,da);rd(e,Ba);h=rd(e,da);for(Ba=0;Ba<yb.length;Ba+=2){var Jb=yb[Ba],ic=yb[Ba+1];"style"===Jb?vb(A,ic):"dangerouslySetInnerHTML"===Jb?bg(A,ic):"children"===Jb?v(A,ic):bb(A,Jb,ic,h)}switch(e){case "input":Q(A,da);break;case "textarea":sa(A,da);break;case "select":h=A._wrapperState.wasMultiple,A._wrapperState.wasMultiple=!!da.multiple,e=da.value,null!=
e?Qa(A,!!da.multiple,e,!1):h!==!!da.multiple&&(null!=da.defaultValue?Qa(A,!!da.multiple,da.defaultValue,!0):Qa(A,!!da.multiple,da.multiple?[]:"",!1))}}}return;case 6:if(null===h.stateNode)throw Error(n(162));h.stateNode.nodeValue=h.memoizedProps;return;case 3:h=h.stateNode;h.hydrate&&(h.hydrate=!1,Xc(h.containerInfo));return;case 12:return;case 13:A=h;null===h.memoizedState?da=!1:(da=!0,A=h.child,Rk=hh());if(null!==A)a:for(e=A;;){if(5===e.tag)yb=e.stateNode,da?(yb=yb.style,"function"===typeof yb.setProperty?
yb.setProperty("display","none","important"):yb.display="none"):(yb=e.stateNode,Ba=e.memoizedProps.style,Ba=void 0!==Ba&&null!==Ba&&Ba.hasOwnProperty("display")?Ba.display:null,yb.style.display=Ma("display",Ba));else if(6===e.tag)e.stateNode.nodeValue=da?"":e.memoizedProps;else if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){yb=e.child.sibling;yb.return=e;e=yb;continue}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===A)break;for(;null===e.sibling;){if(null===
e.return||e.return===A)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}Pb(h);return;case 19:Pb(h);return;case 17:return}throw Error(n(163));}function Pb(e){var h=e.updateQueue;if(null!==h){e.updateQueue=null;var A=e.stateNode;null===A&&(A=e.stateNode=new il);h.forEach(function(da){var Ba=Yi.bind(null,e,da);A.has(da)||(A.add(da),da.then(Ba,Ba))})}}function Tb(e,h,A){A=se(A,null);A.tag=3;A.payload={element:null};var da=h.value;A.callback=function(){Bk||(Bk=!0,Yh=da);Md(e,h)};return A}function dc(e,
h,A){A=se(A,null);A.tag=3;var da=e.type.getDerivedStateFromError;if("function"===typeof da){var Ba=h.value;A.payload=function(){Md(e,h);return da(Ba)}}var yb=e.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(A.callback=function(){"function"!==typeof da&&(null===Zh?Zh=new Set([this]):Zh.add(this),Md(e,h));var Jb=h.stack;this.componentDidCatch(h.value,{componentStack:null!==Jb?Jb:""})});return A}function vc(){return($e&(qh|Fh))!==Ig?1073741821-(hh()/10|0):0!==Ck?Ck:Ck=1073741821-(hh()/
10|0)}function hd(e,h,A){h=h.mode;if(0===(h&2))return 1073741823;var da=kf();if(0===(h&4))return 99===da?1073741823:1073741822;if(($e&qh)!==Ig)return gh;if(null!==A)e=Wa(e,A.timeoutMs|0||5E3,250);else switch(da){case 99:e=1073741823;break;case 98:e=Wa(e,150,100);break;case 97:case 96:e=Wa(e,5E3,250);break;case 95:e=2;break;default:throw Error(n(326));}null!==oh&&e===gh&&--e;return e}function nd(e,h){if(50<Zi)throw Zi=0,Dk=null,Error(n(185));e=ie(e,h);if(null!==e){var A=kf();1073741823===h?($e&Sk)!==
Ig&&($e&(qh|Fh))===Ig?md(e):(Vd(e),$e===Ig&&wa()):Vd(e);($e&4)===Ig||98!==A&&99!==A||(null===$i?$i=new Map([[e,h]]):(A=$i.get(e),(void 0===A||A>h)&&$i.set(e,h)))}}function ie(e,h){e.expirationTime<h&&(e.expirationTime=h);var A=e.alternate;null!==A&&A.expirationTime<h&&(A.expirationTime=h);var da=e.return,Ba=null;if(null===da&&3===e.tag)Ba=e.stateNode;else for(;null!==da;){A=da.alternate;da.childExpirationTime<h&&(da.childExpirationTime=h);null!==A&&A.childExpirationTime<h&&(A.childExpirationTime=
h);if(null===da.return&&3===da.tag){Ba=da.stateNode;break}da=da.return}null!==Ba&&(oh===Ba&&(Yf(h),Hg===sj&&ph(Ba,gh)),wg(Ba,h));return Ba}function $d(e){var h=e.lastExpiredTime;if(0!==h)return h;h=e.firstPendingTime;if(!ek(e,h))return h;var A=e.lastPingedTime;e=e.nextKnownPendingLevel;e=A>e?A:e;return 2>=e&&h!==e?0:e}function Vd(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=V(md.bind(null,e));else{var h=$d(e),A=e.callbackNode;if(0===h)null!==
A&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var da=vc();1073741823===h?da=99:1===h||2===h?da=95:(da=10*(1073741821-h)-10*(1073741821-da),da=0>=da?99:250>=da?98:5250>=da?97:95);if(null!==A){var Ba=e.callbackPriority;if(e.callbackExpirationTime===h&&Ba>=da)return;A!==dl&&el(A)}e.callbackExpirationTime=h;e.callbackPriority=da;h=1073741823===h?V(md.bind(null,e)):N(da,Hd.bind(null,e),{timeout:10*(1073741821-h)-hh()});e.callbackNode=h}}}function Hd(e,h){Ck=0;if(h)return h=
vc(),aj(e,h),Vd(e),null;var A=$d(e);if(0!==A){h=e.callbackNode;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&A===gh||ke(e,A);if(null!==gf){var da=$e;$e|=qh;var Ba=hf();do try{for(;null!==gf&&!Bl();)gf=Lf(gf);break}catch(ic){Xe(e,ic)}while(1);Hj=Vh=Gj=null;$e=da;Ek.current=Ba;if(Hg===fk)throw h=Ug,ke(e,A),ph(e,A),Vd(e),h;if(null===gf)switch(Ba=e.finishedWork=e.current.alternate,e.finishedExpirationTime=A,da=Hg,oh=null,da){case rj:case fk:throw Error(n(345));case Tk:aj(e,2<A?2:A);break;case Yg:ph(e,
A);da=e.lastSuspendedTime;A===da&&(e.nextKnownPendingLevel=Rd(Ba));if(1073741823===$h&&(Ba=Rk+li-hh(),10<Ba)){if(Mj){var yb=e.lastPingedTime;if(0===yb||yb>=A){e.lastPingedTime=A;ke(e,A);break}}yb=$d(e);if(0!==yb&&yb!==A)break;if(0!==da&&da!==A){e.lastPingedTime=da;break}e.timeoutHandle=Ng(Ef.bind(null,e),Ba);break}Ef(e);break;case sj:ph(e,A);da=e.lastSuspendedTime;A===da&&(e.nextKnownPendingLevel=Rd(Ba));if(Mj&&(Ba=e.lastPingedTime,0===Ba||Ba>=A)){e.lastPingedTime=A;ke(e,A);break}Ba=$d(e);if(0!==
Ba&&Ba!==A)break;if(0!==da&&da!==A){e.lastPingedTime=da;break}1073741823!==gk?da=10*(1073741821-gk)-hh():1073741823===$h?da=0:(da=10*(1073741821-$h)-5E3,Ba=hh(),A=10*(1073741821-A)-Ba,da=Ba-da,0>da&&(da=0),da=(120>da?120:480>da?480:1080>da?1080:1920>da?1920:3E3>da?3E3:4320>da?4320:1960*Cl(da/1960))-da,A<da&&(da=A));if(10<da){e.timeoutHandle=Ng(Ef.bind(null,e),da);break}Ef(e);break;case Uk:if(1073741823!==$h&&null!==xg){yb=$h;var Jb=xg;da=Jb.busyMinDurationMs|0;0>=da?da=0:(Ba=Jb.busyDelayMs|0,yb=hh()-
(10*(1073741821-yb)-(Jb.timeoutMs|0||5E3)),da=yb<=Ba?0:Ba+da-yb);if(10<da){ph(e,A);e.timeoutHandle=Ng(Ef.bind(null,e),da);break}}Ef(e);break;default:throw Error(n(329));}Vd(e);if(e.callbackNode===h)return Hd.bind(null,e)}}return null}function md(e){var h=e.lastExpiredTime;h=0!==h?h:1073741823;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&h===gh||ke(e,h);if(null!==gf){var A=$e;$e|=qh;var da=hf();do try{for(;null!==gf;)gf=Lf(gf);break}catch(Ba){Xe(e,Ba)}while(1);Hj=Vh=Gj=null;$e=A;Ek.current=
da;if(Hg===fk)throw A=Ug,ke(e,h),ph(e,h),Vd(e),A;if(null!==gf)throw Error(n(261));e.finishedWork=e.current.alternate;e.finishedExpirationTime=h;oh=null;Ef(e);Vd(e)}return null}function ce(){if(null!==$i){var e=$i;$i=null;e.forEach(function(h,A){aj(A,h);Vd(A)});wa()}}function bf(e,h){var A=$e;$e|=1;try{return e(h)}finally{$e=A,$e===Ig&&wa()}}function qf(e,h){var A=$e;$e&=-2;$e|=Sk;try{return e(h)}finally{$e=A,$e===Ig&&wa()}}function ke(e,h){e.finishedWork=null;e.finishedExpirationTime=0;var A=e.timeoutHandle;
-1!==A&&(e.timeoutHandle=-1,zf(A));if(null!==gf)for(A=gf.return;null!==A;){var da=A;switch(da.tag){case 1:da=da.type.childContextTypes;null!==da&&void 0!==da&&cc();break;case 3:df();Ee(Dg);Ee(mg);break;case 5:fa(da);break;case 4:df();break;case 13:Ee(rg);break;case 19:Ee(rg);break;case 10:mc(da)}A=A.return}oh=e;gf=Wh(e.current,null);gh=h;Hg=rj;Ug=null;gk=$h=1073741823;xg=null;Tg=0;Mj=!1}function Xe(e,h){do{try{Hj=Vh=Gj=null;xk.current=te;if(yk)for(var A=tg.memoizedState;null!==A;){var da=A.queue;
null!==da&&(da.pending=null);A=A.next}ki=0;Rg=Sg=tg=null;yk=!1;if(null===gf||null===gf.return)return Hg=fk,Ug=h,gf=null;a:{var Ba=e,yb=gf.return,Jb=gf,ic=h;h=gh;Jb.effectTag|=2048;Jb.firstEffect=Jb.lastEffect=null;if(null!==ic&&"object"===typeof ic&&"function"===typeof ic.then){var dd=ic;if(0===(Jb.mode&2)){var Zc=Jb.alternate;Zc?(Jb.updateQueue=Zc.updateQueue,Jb.memoizedState=Zc.memoizedState,Jb.expirationTime=Zc.expirationTime):(Jb.updateQueue=null,Jb.memoizedState=null)}var Qd=0!==(rg.current&
1),Zd=yb;do{var Df;if(Df=13===Zd.tag){var Rf=Zd.memoizedState;if(null!==Rf)Df=null!==Rf.dehydrated?!0:!1;else{var fg=Zd.memoizedProps;Df=void 0===fg.fallback?!1:!0!==fg.unstable_avoidThisFallback?!0:Qd?!1:!0}}if(Df){var Gg=Zd.updateQueue;if(null===Gg){var Vc=new Set;Vc.add(dd);Zd.updateQueue=Vc}else Gg.add(dd);if(0===(Zd.mode&2)){Zd.effectTag|=64;Jb.effectTag&=-2981;if(1===Jb.tag)if(null===Jb.alternate)Jb.tag=17;else{var Lc=se(1073741823,null);Lc.tag=2;xd(Jb,Lc)}Jb.expirationTime=1073741823;break a}ic=
void 0;Jb=h;var jd=Ba.pingCache;null===jd?(jd=Ba.pingCache=new jl,ic=new Set,jd.set(dd,ic)):(ic=jd.get(dd),void 0===ic&&(ic=new Set,jd.set(dd,ic)));if(!ic.has(Jb)){ic.add(Jb);var Gd=bj.bind(null,Ba,dd,Jb);dd.then(Gd,Gd)}Zd.effectTag|=4096;Zd.expirationTime=h;break a}Zd=Zd.return}while(null!==Zd);ic=Error((Aa(Jb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+
Ra(Jb))}Hg!==Uk&&(Hg=Tk);ic=yd(ic,Jb);Zd=yb;do{switch(Zd.tag){case 3:dd=ic;Zd.effectTag|=4096;Zd.expirationTime=h;var Ud=Tb(Zd,dd,h);zd(Zd,Ud);break a;case 1:dd=ic;var qe=Zd.type,Ne=Zd.stateNode;if(0===(Zd.effectTag&64)&&("function"===typeof qe.getDerivedStateFromError||null!==Ne&&"function"===typeof Ne.componentDidCatch&&(null===Zh||!Zh.has(Ne)))){Zd.effectTag|=4096;Zd.expirationTime=h;var Hf=dc(Zd,dd,h);zd(Zd,Hf);break a}}Zd=Zd.return}while(null!==Zd)}gf=Gh(gf)}catch(lg){h=lg;continue}break}while(1)}
function hf(){var e=Ek.current;Ek.current=te;return null===e?te:e}function kg(e,h){e<$h&&2<e&&($h=e);null!==h&&e<gk&&2<e&&(gk=e,xg=h)}function Yf(e){e>Tg&&(Tg=e)}function Lf(e){var h=kl(e.alternate,e,gh);e.memoizedProps=e.pendingProps;null===h&&(h=Gh(e));ll.current=null;return h}function Gh(e){gf=e;do{var h=gf.alternate;e=gf.return;if(0===(gf.effectTag&2048)){h=Tc(h,gf,gh);if(1===gh||1!==gf.childExpirationTime){for(var A=0,da=gf.child;null!==da;){var Ba=da.expirationTime,yb=da.childExpirationTime;
Ba>A&&(A=Ba);yb>A&&(A=yb);da=da.sibling}gf.childExpirationTime=A}if(null!==h)return h;null!==e&&0===(e.effectTag&2048)&&(null===e.firstEffect&&(e.firstEffect=gf.firstEffect),null!==gf.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=gf.firstEffect),e.lastEffect=gf.lastEffect),1<gf.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=gf:e.firstEffect=gf,e.lastEffect=gf))}else{h=Rc(gf);if(null!==h)return h.effectTag&=2047,h;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}h=
gf.sibling;if(null!==h)return h;gf=e}while(null!==gf);Hg===rj&&(Hg=Uk);return null}function Rd(e){var h=e.expirationTime;e=e.childExpirationTime;return h>e?h:e}function Ef(e){var h=kf();Pe(99,Hh.bind(null,e,h));return null}function Hh(e,h){do rh();while(null!==Nj);if(($e&(qh|Fh))!==Ig)throw Error(n(327));var A=e.finishedWork,da=e.finishedExpirationTime;if(null===A)return null;e.finishedWork=null;e.finishedExpirationTime=0;if(A===e.current)throw Error(n(177));e.callbackNode=null;e.callbackExpirationTime=
0;e.callbackPriority=90;e.nextKnownPendingLevel=0;var Ba=Rd(A);e.firstPendingTime=Ba;da<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:da<=e.firstSuspendedTime&&(e.firstSuspendedTime=da-1);da<=e.lastPingedTime&&(e.lastPingedTime=0);da<=e.lastExpiredTime&&(e.lastExpiredTime=0);e===oh&&(gf=oh=null,gh=0);1<A.effectTag?null!==A.lastEffect?(A.lastEffect.nextEffect=A,Ba=A.firstEffect):Ba=A:Ba=A.firstEffect;if(null!==Ba){var yb=$e;$e|=Fh;ll.current=null;Gi=Rh;var Jb=
Db();if(Zb(Jb)){if("selectionStart"in Jb)var ic={start:Jb.selectionStart,end:Jb.selectionEnd};else a:{ic=(ic=Jb.ownerDocument)&&ic.defaultView||window;var dd=ic.getSelection&&ic.getSelection();if(dd&&0!==dd.rangeCount){ic=dd.anchorNode;var Zc=dd.anchorOffset,Qd=dd.focusNode;dd=dd.focusOffset;try{ic.nodeType,Qd.nodeType}catch(pf){ic=null;break a}var Zd=0,Df=-1,Rf=-1,fg=0,Gg=0,Vc=Jb,Lc=null;b:for(;;){for(var jd;;){Vc!==ic||0!==Zc&&3!==Vc.nodeType||(Df=Zd+Zc);Vc!==Qd||0!==dd&&3!==Vc.nodeType||(Rf=Zd+
dd);3===Vc.nodeType&&(Zd+=Vc.nodeValue.length);if(null===(jd=Vc.firstChild))break;Lc=Vc;Vc=jd}for(;;){if(Vc===Jb)break b;Lc===ic&&++fg===Zc&&(Df=Zd);Lc===Qd&&++Gg===dd&&(Rf=Zd);if(null!==(jd=Vc.nextSibling))break;Vc=Lc;Lc=Vc.parentNode}Vc=jd}ic=-1===Df||-1===Rf?null:{start:Df,end:Rf}}else ic=null}ic=ic||{start:0,end:0}}else ic=null;Og={activeElementDetached:null,focusedElem:Jb,selectionRange:ic};Rh=!1;ue=Ba;do try{Zg()}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=Ba;do try{for(Jb=e,ic=h;null!==ue;){var Gd=ue.effectTag;Gd&16&&v(ue.stateNode,"");if(Gd&128){var Ud=ue.alternate;if(null!==Ud){var qe=Ud.ref;null!==qe&&("function"===typeof qe?qe(null):qe.current=null)}}switch(Gd&1038){case 2:c(ue);ue.effectTag&=-3;break;case 6:c(ue);ue.effectTag&=-3;Ga(ue.alternate,ue);break;case 1024:ue.effectTag&=-1025;break;case 1028:ue.effectTag&=-1025;Ga(ue.alternate,ue);break;case 4:Ga(ue.alternate,ue);break;case 8:Zc=ue,ia(Jb,Zc,ic),Cb(Zc)}ue=ue.nextEffect}}catch(pf){if(null===
ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==ue);qe=Og;Ud=Db();Gd=qe.focusedElem;ic=qe.selectionRange;if(Ud!==Gd&&Gd&&Gd.ownerDocument&&gb(Gd.ownerDocument.documentElement,Gd)){null!==ic&&Zb(Gd)&&(Ud=ic.start,qe=ic.end,void 0===qe&&(qe=Ud),"selectionStart"in Gd?(Gd.selectionStart=Ud,Gd.selectionEnd=Math.min(qe,Gd.value.length)):(qe=(Ud=Gd.ownerDocument||document)&&Ud.defaultView||window,qe.getSelection&&(qe=qe.getSelection(),Zc=Gd.textContent.length,Jb=Math.min(ic.start,Zc),ic=void 0===
ic.end?Jb:Math.min(ic.end,Zc),!qe.extend&&Jb>ic&&(Zc=ic,ic=Jb,Jb=Zc),Zc=za(Gd,Jb),Qd=za(Gd,ic),Zc&&Qd&&(1!==qe.rangeCount||qe.anchorNode!==Zc.node||qe.anchorOffset!==Zc.offset||qe.focusNode!==Qd.node||qe.focusOffset!==Qd.offset)&&(Ud=Ud.createRange(),Ud.setStart(Zc.node,Zc.offset),qe.removeAllRanges(),Jb>ic?(qe.addRange(Ud),qe.extend(Qd.node,Qd.offset)):(Ud.setEnd(Qd.node,Qd.offset),qe.addRange(Ud))))));Ud=[];for(qe=Gd;qe=qe.parentNode;)1===qe.nodeType&&Ud.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});
"function"===typeof Gd.focus&&Gd.focus();for(Gd=0;Gd<Ud.length;Gd++)qe=Ud[Gd],qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}Rh=!!Gi;Og=Gi=null;e.current=A;ue=Ba;do try{for(Gd=e;null!==ue;){var Ne=ue.effectTag;Ne&36&&Pa(Gd,ue.alternate,ue);if(Ne&128){Ud=void 0;var Hf=ue.ref;if(null!==Hf){var lg=ue.stateNode;switch(ue.tag){case 5:Ud=lg;break;default:Ud=lg}"function"===typeof Hf?Hf(Ud):Hf.current=Ud}}ue=ue.nextEffect}}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=null;ml();$e=yb}else e.current=A;if(hk)hk=!1,Nj=e,ik=h;else for(ue=Ba;null!==ue;)h=ue.nextEffect,ue.nextEffect=null,ue=h;h=e.firstPendingTime;0===h&&(Zh=null);1073741823===h?e===Dk?Zi++:(Zi=0,Dk=e):Zi=0;"function"===typeof Vk&&Vk(A.stateNode,da);Vd(e);if(Bk)throw Bk=!1,e=Yh,Yh=null,e;if(($e&Sk)!==Ig)return null;wa();return null}function Zg(){for(;null!==ue;){var e=ue.effectTag;0!==(e&256)&&je(ue.alternate,ue);0===(e&512)||hk||(hk=!0,N(97,function(){rh();return null}));ue=ue.nextEffect}}function rh(){if(90!==
ik){var e=97<ik?97:ik;ik=90;return Pe(e,Hi)}}function Hi(){if(null===Nj)return!1;var e=Nj;Nj=null;if(($e&(qh|Fh))!==Ig)throw Error(n(331));var h=$e;$e|=Fh;for(e=e.current.firstEffect;null!==e;){try{var A=e;if(0!==(A.effectTag&512))switch(A.tag){case 0:case 11:case 15:case 22:We(5,A),pa(5,A)}}catch(da){if(null===e)throw Error(n(330));Xh(e,da)}A=e.nextEffect;e.nextEffect=null;e=A}$e=h;wa();return!0}function Ii(e,h,A){h=yd(A,h);h=Tb(e,h,1073741823);xd(e,h);e=ie(e,1073741823);null!==e&&Vd(e)}function Xh(e,
h){if(3===e.tag)Ii(e,e,h);else for(var A=e.return;null!==A;){if(3===A.tag){Ii(A,e,h);break}else if(1===A.tag){var da=A.stateNode;if("function"===typeof A.type.getDerivedStateFromError||"function"===typeof da.componentDidCatch&&(null===Zh||!Zh.has(da))){e=yd(h,e);e=dc(A,e,1073741823);xd(A,e);A=ie(A,1073741823);null!==A&&Vd(A);break}}A=A.return}}function bj(e,h,A){var da=e.pingCache;null!==da&&da.delete(h);oh===e&&gh===A?Hg===sj||Hg===Yg&&1073741823===$h&&hh()-Rk<li?ke(e,gh):Mj=!0:ek(e,A)&&(h=e.lastPingedTime,
0!==h&&h<A||(e.lastPingedTime=A,Vd(e)))}function Yi(e,h){var A=e.stateNode;null!==A&&A.delete(h);h=0;0===h&&(h=vc(),h=hd(h,e,null));e=ie(e,h);null!==e&&Vd(e)}function mi(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)return!0;try{var A=h.inject(e);Vk=function(da){try{h.onCommitFiberRoot(A,da,void 0,64===(da.current.effectTag&64))}catch(Ba){}};Ak=function(da){try{h.onCommitFiberUnmount(A,da)}catch(Ba){}}}catch(da){}return!0}
function tj(e,h,A,da){this.tag=e;this.key=A;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=h;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=da;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Mg(e,h,A,da){return new tj(e,h,A,da)}function Lj(e){e=e.prototype;return!(!e||!e.isReactComponent)}
function jk(e){if("function"===typeof e)return Lj(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===wh)return 11;if(e===Xg)return 14}return 2}function Wh(e,h){var A=e.alternate;null===A?(A=Mg(e.tag,h,e.key,e.mode),A.elementType=e.elementType,A.type=e.type,A.stateNode=e.stateNode,A.alternate=e,e.alternate=A):(A.pendingProps=h,A.effectTag=0,A.nextEffect=null,A.firstEffect=null,A.lastEffect=null);A.childExpirationTime=e.childExpirationTime;A.expirationTime=e.expirationTime;A.child=e.child;A.memoizedProps=
e.memoizedProps;A.memoizedState=e.memoizedState;A.updateQueue=e.updateQueue;h=e.dependencies;A.dependencies=null===h?null:{expirationTime:h.expirationTime,firstContext:h.firstContext,responders:h.responders};A.sibling=e.sibling;A.index=e.index;A.ref=e.ref;return A}function Ei(e,h,A,da,Ba,yb){var Jb=2;da=e;if("function"===typeof e)Lj(e)&&(Jb=1);else if("string"===typeof e)Jb=5;else a:switch(e){case ah:return eh(A.children,Ba,yb,h);case Vg:Jb=8;Ba|=7;break;case si:Jb=8;Ba|=1;break;case Oh:return e=
Mg(12,A,h,Ba|8),e.elementType=Oh,e.type=Oh,e.expirationTime=yb,e;case Qi:return e=Mg(13,A,h,Ba),e.type=Qi,e.elementType=Qi,e.expirationTime=yb,e;case ti:return e=Mg(19,A,h,Ba),e.elementType=ti,e.expirationTime=yb,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Wg:Jb=10;break a;case Tj:Jb=9;break a;case wh:Jb=11;break a;case Xg:Jb=14;break a;case vi:Jb=16;da=null;break a;case ui:Jb=22;break a}throw Error(n(130,null==e?e:typeof e,""));}h=Mg(Jb,A,h,Ba);h.elementType=e;h.type=da;h.expirationTime=
yb;return h}function eh(e,h,A,da){e=Mg(7,e,da,h);e.expirationTime=A;return e}function Ij(e,h,A){e=Mg(6,e,null,h);e.expirationTime=A;return e}function qg(e,h,A){h=Mg(4,null!==e.children?e.children:[],e.key,h);h.expirationTime=A;h.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return h}function Fk(e,h,A){this.tag=h;this.current=null;this.containerInfo=e;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=A;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ek(e,h){var A=e.firstSuspendedTime;e=e.lastSuspendedTime;return 0!==A&&A>=h&&e<=h}function ph(e,h){var A=e.firstSuspendedTime,da=e.lastSuspendedTime;A<h&&(e.firstSuspendedTime=h);if(da>h||0===A)e.lastSuspendedTime=h;h<=e.lastPingedTime&&(e.lastPingedTime=
0);h<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function wg(e,h){h>e.firstPendingTime&&(e.firstPendingTime=h);var A=e.firstSuspendedTime;0!==A&&(h>=A?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:h>=e.lastSuspendedTime&&(e.lastSuspendedTime=h+1),h>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=h))}function aj(e,h){var A=e.lastExpiredTime;if(0===A||A>h)e.lastExpiredTime=h}function uj(e,h,A,da){var Ba=h.current,yb=vc(),Jb=dk.suspense;yb=hd(yb,Ba,Jb);a:if(A){A=A._reactInternalFiber;
b:{if(D(A)!==A||1!==A.tag)throw Error(n(170));var ic=A;do{switch(ic.tag){case 3:ic=ic.stateNode.context;break b;case 1:if(Xd(ic.type)){ic=ic.stateNode.__reactInternalMemoizedMergedChildContext;break b}}ic=ic.return}while(null!==ic);throw Error(n(171));}if(1===A.tag){var dd=A.type;if(Xd(dd)){A=pe(A,dd,ic);break a}}A=ic}else A=Lg;null===h.context?h.context=A:h.pendingContext=A;h=se(yb,Jb);h.payload={element:e};da=void 0===da?null:da;null!==da&&(h.callback=da);xd(Ba,h);nd(Ba,yb);return yb}function Ji(e){e=
e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kk(e,h){e=e.memoizedState;null!==e&&null!==e.dehydrated&&e.retryTime<h&&(e.retryTime=h)}function cj(e,h){kk(e,h);(e=e.alternate)&&kk(e,h)}function Ih(e,h,A){A=null!=A&&!0===A.hydrate;var da=new Fk(e,h,A),Ba=Mg(3,null,null,2===h?7:1===h?3:0);da.current=Ba;Ba.stateNode=da;id(Ba);e[Dh]=da.current;A&&0!==h&&Ec(e,9===e.nodeType?e:e.ownerDocument);this._internalRoot=da}function Jh(e){return!(!e||
1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gk(e,h){h||(h=e?9===e.nodeType?e.documentElement:e.firstChild:null,h=!(!h||1!==h.nodeType||!h.hasAttribute("data-reactroot")));if(!h)for(var A;A=e.lastChild;)e.removeChild(A);return new Ih(e,0,h?{hydrate:!0}:void 0)}function Pg(e,h,A,da,Ba){var yb=A._reactRootContainer;if(yb){var Jb=yb._internalRoot;if("function"===typeof Ba){var ic=Ba;Ba=function(){var Zc=Ji(Jb);ic.call(Zc)}}uj(h,
Jb,e,Ba)}else{yb=A._reactRootContainer=Gk(A,da);Jb=yb._internalRoot;if("function"===typeof Ba){var dd=Ba;Ba=function(){var Zc=Ji(Jb);dd.call(Zc)}}qf(function(){uj(h,Jb,e,Ba)})}return Ji(Jb)}function vj(e,h,A){var da=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:fi,key:null==da?null:""+da,children:e,containerInfo:h,implementation:A}}function lk(e,h){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jh(h))throw Error(n(200));return vj(e,h,null,A)}var lj=
Rb(5),Ag=Rb(0),Bg=Rb(8);if(!lj)throw Error(n(227));var Pf=!1,Mi=null,vh=!1,gj=null,Sj={onError:function(e){Pf=!0;Mi=e}},jj=null,Ni=null,ci=null,hj=null,di={},ij=[],Bj={},qi={},ei={},xh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Oi=null,ri=null,pg=null,Nh=rb,jg=!1,Pi=!1,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
kj=Object.prototype.hasOwnProperty,nf={},sf={},yf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yf[e]=new hb(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var h=e[0];yf[h]=new hb(h,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yf[e]=
new hb(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yf[e]=new hb(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yf[e]=new hb(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){yf[e]=
new hb(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){yf[e]=new hb(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){yf[e]=new hb(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){yf[e]=new hb(e,5,!1,e.toLowerCase(),null,!1)});var Ki=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var h=
e.replace(Ki,Ca);yf[h]=new hb(h,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new hb(h,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new hb(h,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){yf[e]=new hb(e,1,!1,e.toLowerCase(),null,!1)});yf.xlinkHref=new hb("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){yf[e]=new hb(e,1,!1,e.toLowerCase(),null,!0)});var yg=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;yg.hasOwnProperty("ReactCurrentDispatcher")||(yg.ReactCurrentDispatcher={current:null});yg.hasOwnProperty("ReactCurrentBatchConfig")||(yg.ReactCurrentBatchConfig={suspense:null});var Kg=/^(.*)[\\\/]/,sg="function"===typeof Symbol&&Symbol.for,qj=sg?Symbol.for("react.element"):60103,fi=
sg?Symbol.for("react.portal"):60106,ah=sg?Symbol.for("react.fragment"):60107,si=sg?Symbol.for("react.strict_mode"):60108,Oh=sg?Symbol.for("react.profiler"):60114,Wg=sg?Symbol.for("react.provider"):60109,Tj=sg?Symbol.for("react.context"):60110,Vg=sg?Symbol.for("react.concurrent_mode"):60111,wh=sg?Symbol.for("react.forward_ref"):60112,Qi=sg?Symbol.for("react.suspense"):60113,ti=sg?Symbol.for("react.suspense_list"):60120,Xg=sg?Symbol.for("react.memo"):60115,vi=sg?Symbol.for("react.lazy"):60116,ui=sg?
Symbol.for("react.block"):60121,lf="function"===typeof Symbol&&Symbol.iterator,Kh,bg=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(h,A,da,Ba){MSApp.execUnsafeLocalFunction(function(){return e(h,A,da,Ba)})}:e}(function(e,h){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=h;else{Kh=Kh||document.createElement("div");Kh.innerHTML="\x3csvg\x3e"+h.valueOf().toString()+"\x3c/svg\x3e";for(h=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);
for(;h.firstChild;)e.appendChild(h.firstChild)}}),Gf={animationend:w("Animation","AnimationEnd"),animationiteration:w("Animation","AnimationIteration"),animationstart:w("Animation","AnimationStart"),transitionend:w("Transition","TransitionEnd")},gi={},mj={};xh&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);
var mk=p("animationend"),wj=p("animationiteration"),Li=p("animationstart"),ni=p("transitionend"),yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ge=new ("function"===typeof WeakMap?WeakMap:Map),wi=null,xi=[],Ri=!1,bh=[],Ph=null,Qh=null,zh=null,Ah=new Map,Bh=new Map,ch=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
nj="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),kh={},Dj=new Map,Cj=new Map,ai=["abort","abort",mk,"animationEnd",wj,"animationIteration",Li,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ni,"transitionEnd","waiting","waiting"];$c("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);$c("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$c(ai,2);for(var bi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nk=0;nk<bi.length;nk++)Cj.set(bi[nk],0);var Uj=Bg.unstable_UserBlockingPriority,yi=Bg.unstable_runWithPriority,
Rh=!0,zi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ih=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(e){ih.forEach(function(h){h=h+e.charAt(0).toUpperCase()+e.substring(1);zi[h]=zi[e]})});var Ch=Ag({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),lh="$",Si="/$",Vj="$?",Ai="$!",Gi=null,Og=null,Ng="function"===typeof setTimeout?
setTimeout:void 0,zf="function"===typeof clearTimeout?clearTimeout:void 0,oi=Math.random().toString(36).slice(2),mh="__reactInternalInstance$"+oi,Qg="__reactEventHandlers$"+oi,Dh="__reactContainere$"+oi,Sh=null,ug=null,Bi=null;Ag(qd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?
e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){this.isPersistent=Uc},isPersistent:od,destructor:function(){var e=this.constructor.Interface,h;for(h in e)this[h]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=od;this._dispatchInstances=this._dispatchListeners=null}});qd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};qd.extend=function(e){function h(){}function A(){return da.apply(this,arguments)}var da=this;h.prototype=da.prototype;var Ba=new h;Ag(Ba,A.prototype);A.prototype=Ba;A.prototype.constructor=A;A.Interface=Ag({},da.Interface,e);A.extend=da.extend;Wd(A);return A};Wd(qd);var ok=qd.extend({data:null}),Lh=qd.extend({data:null}),Ti=[9,13,27,32],Ci=xh&&"CompositionEvent"in window,Mh=null;
xh&&"documentMode"in document&&(Mh=document.documentMode);var dj=xh&&"TextEvent"in window&&!Mh,Di=xh&&(!Ci||Mh&&8<Mh&&11>=Mh),Wj=String.fromCharCode(32),sh={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oj=!1,nh=!1,xj={eventTypes:sh,extractEvents:function(e,h,A,da){var Ba;if(Ci)a:{switch(e){case "compositionstart":var yb=sh.compositionStart;break a;case "compositionend":yb=sh.compositionEnd;
break a;case "compositionupdate":yb=sh.compositionUpdate;break a}yb=void 0}else nh?me(e,A)&&(yb=sh.compositionEnd):"keydown"===e&&229===A.keyCode&&(yb=sh.compositionStart);yb?(Di&&"ko"!==A.locale&&(nh||yb!==sh.compositionStart?yb===sh.compositionEnd&&nh&&(Ba=Yc()):(Sh=da,ug="value"in Sh?Sh.value:Sh.textContent,nh=!0)),yb=ok.getPooled(yb,h,A,da),Ba?yb.data=Ba:(Ba=ye(A),null!==Ba&&(yb.data=Ba)),Jc(yb),Ba=yb):Ba=null;(e=dj?Ye(e,A):Qe(e,A))?(h=Lh.getPooled(sh.beforeInput,h,A,da),h.data=e,Jc(h)):h=null;
return null===Ba?h:null===h?Ba:[Ba,h]}},Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xj={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Th=null,Uh=null,Eg=!1;xh&&(Eg=ta("input")&&(!document.documentMode||9<document.documentMode));var Mf={eventTypes:Xj,_isInputEventSupported:Eg,
extractEvents:function(e,h,A,da){var Ba=h?hc(h):window,yb=Ba.nodeName&&Ba.nodeName.toLowerCase();if("select"===yb||"input"===yb&&"file"===Ba.type)var Jb=Oe;else if(Re(Ba))if(Eg)Jb=Ad;else{Jb=cf;var ic=Ae}else(yb=Ba.nodeName)&&"input"===yb.toLowerCase()&&("checkbox"===Ba.type||"radio"===Ba.type)&&(Jb=re);if(Jb&&(Jb=Jb(e,h)))return Fd(Jb,A,da);ic&&ic(e,Ba,h);"blur"===e&&(e=Ba._wrapperState)&&e.controlled&&"number"===Ba.type&&W(Ba,"number",Ba.value)}},cg=qd.extend({view:null,detail:null}),Mk={Alt:"altKey",
Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ej=0,a=0,f=!1,t=!1,q=cg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var h=ej;ej=e.screenX;return f?"mousemove"===e.type?e.screenX-h:0:(f=!0,0)},movementY:function(e){if("movementY"in
e)return e.movementY;var h=a;a=e.screenY;return t?"mousemove"===e.type?e.screenY-h:0:(t=!0,0)}}),y=q.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),X={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},
pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},qa={eventTypes:X,extractEvents:function(e,h,A,da,Ba){var yb="mouseover"===e||"pointerover"===e,Jb="mouseout"===e||"pointerout"===e;if(yb&&0===(Ba&32)&&(A.relatedTarget||A.fromElement)||!Jb&&!yb)return null;yb=da.window===da?da:(yb=da.ownerDocument)?yb.defaultView||yb.parentWindow:window;if(Jb){if(Jb=h,h=(h=A.relatedTarget||A.toElement)?sb(h):null,null!==h){var ic=D(h);if(h!==ic||5!==h.tag&&6!==h.tag)h=null}}else Jb=
null;if(Jb===h)return null;if("mouseout"===e||"mouseover"===e)var dd=q,Zc=X.mouseLeave,Qd=X.mouseEnter,Zd="mouse";else if("pointerout"===e||"pointerover"===e)dd=y,Zc=X.pointerLeave,Qd=X.pointerEnter,Zd="pointer";e=null==Jb?yb:hc(Jb);yb=null==h?yb:hc(h);Zc=dd.getPooled(Zc,Jb,A,da);Zc.type=Zd+"leave";Zc.target=e;Zc.relatedTarget=yb;A=dd.getPooled(Qd,h,A,da);A.type=Zd+"enter";A.target=yb;A.relatedTarget=e;da=Jb;Zd=h;if(da&&Zd)a:{dd=da;Qd=Zd;Jb=0;for(e=dd;e;e=Bc(e))Jb++;e=0;for(h=Qd;h;h=Bc(h))e++;for(;0<
Jb-e;)dd=Bc(dd),Jb--;for(;0<e-Jb;)Qd=Bc(Qd),e--;for(;Jb--;){if(dd===Qd||dd===Qd.alternate)break a;dd=Bc(dd);Qd=Bc(Qd)}dd=null}else dd=null;Qd=dd;for(dd=[];da&&da!==Qd;){Jb=da.alternate;if(null!==Jb&&Jb===Qd)break;dd.push(da);da=Bc(da)}for(da=[];Zd&&Zd!==Qd;){Jb=Zd.alternate;if(null!==Jb&&Jb===Qd)break;da.push(Zd);Zd=Bc(Zd)}for(Zd=0;Zd<dd.length;Zd++)Cc(dd[Zd],"bubbled",Zc);for(Zd=da.length;0<Zd--;)Cc(da[Zd],"captured",A);return 0===(Ba&64)?[Zc]:[Zc,A]}},ra="function"===typeof Object.is?Object.is:
Jf,jb=Object.prototype.hasOwnProperty,Bb=xh&&"documentMode"in document&&11>=document.documentMode,Xb={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hc=null,qc=null,oc=null,ed=!1,Od={eventTypes:Xb,extractEvents:function(e,h,A,da,Ba,yb){Ba=yb||(da.window===da?da.document:9===da.nodeType?da:da.ownerDocument);if(!(yb=!Ba)){a:{Ba=r(Ba);yb=ei.onSelect;for(var Jb=0;Jb<
yb.length;Jb++)if(!Ba.has(yb[Jb])){Ba=!1;break a}Ba=!0}yb=!Ba}if(yb)return null;Ba=h?hc(h):window;switch(e){case "focus":if(Re(Ba)||"true"===Ba.contentEditable)Hc=Ba,qc=h,oc=null;break;case "blur":oc=qc=Hc=null;break;case "mousedown":ed=!0;break;case "contextmenu":case "mouseup":case "dragend":return ed=!1,Jd(A,da);case "selectionchange":if(Bb)break;case "keydown":case "keyup":return Jd(A,da)}return null}},He=qd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),xf=qd.extend({clipboardData:function(e){return"clipboardData"in
e?e.clipboardData:window.clipboardData}}),ve=cg.extend({relatedTarget:null}),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf=cg.extend({key:function(e){if(e.key){var h=Nf[e.key]||e.key;if("Unidentified"!==h)return h}return"keypress"===e.type?(e=Se(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Af[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:ae,charCode:function(e){return"keypress"===e.type?Se(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Se(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wf=q.extend({dataTransfer:null}),jf=cg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ae}),Uf=qd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ff=q.extend({deltaX:function(e){return"deltaX"in
e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Of={eventTypes:kh,extractEvents:function(e,h,A,da){var Ba=Dj.get(e);if(!Ba)return null;switch(e){case "keypress":if(0===Se(A))return null;case "keydown":case "keyup":e=Tf;break;case "blur":case "focus":e=ve;break;case "click":if(2===A.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":e=
q;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":e=Wf;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":e=jf;break;case mk:case wj:case Li:e=He;break;case ni:e=Uf;break;case "scroll":e=cg;break;case "wheel":e=Ff;break;case "copy":case "cut":case "paste":e=xf;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":e=
y;break;default:e=qd}h=e.getPooled(Ba,h,A,da);Jc(h);return h}};if(hj)throw Error(n(101));hj=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));fb();var Jg=Lb;jj=tc;Ni=Jg;ci=hc;Ob({SimpleEventPlugin:Of,EnterLeaveEventPlugin:qa,ChangeEventPlugin:Mf,SelectEventPlugin:Od,BeforeInputEventPlugin:xj});var Cg=[],vg=-1,Lg={},mg={current:Lg},Dg={current:!1},Vi=Lg,cl=Bg.unstable_runWithPriority,uk=Bg.unstable_scheduleCallback,
el=Bg.unstable_cancelCallback,nl=Bg.unstable_requestPaint,Hk=Bg.unstable_now,zl=Bg.unstable_getCurrentPriorityLevel,eg=Bg.unstable_ImmediatePriority,Eh=Bg.unstable_UserBlockingPriority,tk=Bg.unstable_NormalPriority,pj=Bg.unstable_LowPriority,Nk=Bg.unstable_IdlePriority,dl={},Bl=Bg.unstable_shouldYield,ml=void 0!==nl?nl:function(){},hi=null,Ej=null,Fj=!1,ol=Hk(),hh=1E4>ol?Hk:function(){return Hk()-ol},Yj={current:null},Gj=null,Vh=null,Hj=null,Wi=!1,dk=yg.ReactCurrentBatchConfig,fl=(new lj.Component).refs,
vk={isMounted:function(e){return(e=e._reactInternalFiber)?D(e)===e:!1},enqueueSetState:function(e,h,A){e=e._reactInternalFiber;var da=vc(),Ba=dk.suspense;da=hd(da,e,Ba);Ba=se(da,Ba);Ba.payload=h;void 0!==A&&null!==A&&(Ba.callback=A);xd(e,Ba);nd(e,da)},enqueueReplaceState:function(e,h,A){e=e._reactInternalFiber;var da=vc(),Ba=dk.suspense;da=hd(da,e,Ba);Ba=se(da,Ba);Ba.tag=1;Ba.payload=h;void 0!==A&&null!==A&&(Ba.callback=A);xd(e,Ba);nd(e,da)},enqueueForceUpdate:function(e,h){e=e._reactInternalFiber;
var A=vc(),da=dk.suspense;A=hd(A,e,da);da=se(A,da);da.tag=2;void 0!==h&&null!==h&&(da.callback=h);xd(e,da);nd(e,A)}},wk=Array.isArray,Xi=$f(!0),Pk=$f(!1),Zj={},ji={current:Zj},bk={current:Zj},ak={current:Zj},rg={current:0},xk=yg.ReactCurrentDispatcher,fh=yg.ReactCurrentBatchConfig,ki=0,tg=null,Sg=null,Rg=null,yk=!1,te={readContext:Fc,useCallback:Mb,useContext:Mb,useEffect:Mb,useImperativeHandle:Mb,useLayoutEffect:Mb,useMemo:Mb,useReducer:Mb,useRef:Mb,useState:Mb,useDebugValue:Mb,useResponder:Mb,useDeferredValue:Mb,
useTransition:Mb},Jj={readContext:Fc,useCallback:Kf,useContext:Fc,useEffect:he,useImperativeHandle:function(e,h,A){A=null!==A&&void 0!==A?A.concat([e]):null;return Pd(4,2,be.bind(null,h,e),A)},useLayoutEffect:function(e,h){return Pd(4,2,e,h)},useMemo:function(e,h){var A=Qc();h=void 0===h?null:h;e=e();A.memoizedState=[e,h];return e},useReducer:function(e,h,A){var da=Qc();h=void 0!==A?A(h):h;da.memoizedState=da.baseState=h;e=da.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:h};
e=e.dispatch=P.bind(null,tg,e);return[da.memoizedState,e]},useRef:function(e){var h=Qc();e={current:e};return h.memoizedState=e},useState:Td,useDebugValue:Ce,useResponder:Qb,useDeferredValue:function(e,h){var A=Td(e),da=A[0],Ba=A[1];he(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return da},useTransition:function(e){var h=Td(!1),A=h[0];h=h[1];return[Kf(O.bind(null,h,e),[h,e]),A]}},ck={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,
useImperativeHandle:wf,useLayoutEffect:Sf,useMemo:gg,useReducer:ud,useRef:af,useState:function(){return ud(ad)},useDebugValue:Ce,useResponder:Qb,useDeferredValue:function(e,h){var A=ud(ad),da=A[0],Ba=A[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return da},useTransition:function(e){var h=ud(ad),A=h[0];h=h[1];return[ef(O.bind(null,h,e),[h,e]),A]}},Kj={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,useImperativeHandle:wf,useLayoutEffect:Sf,
useMemo:gg,useReducer:Nd,useRef:af,useState:function(){return Nd(ad)},useDebugValue:Ce,useResponder:Qb,useDeferredValue:function(e,h){var A=Nd(ad),da=A[0],Ba=A[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return da},useTransition:function(e){var h=Nd(ad),A=h[0];h=h[1];return[ef(O.bind(null,h,e),[h,e]),A]}},Ve=null,If=null,td=!1,Fi=yg.ReactCurrentOwner,dh=!1,zk={dehydrated:null,retryTime:0};var gl=function(e,h){for(var A=h.child;null!==
A;){if(5===A.tag||6===A.tag)e.appendChild(A.stateNode);else if(4!==A.tag&&null!==A.child){A.child.return=A;A=A.child;continue}if(A===h)break;for(;null===A.sibling;){if(null===A.return||A.return===h)return;A=A.return}A.sibling.return=A.return;A=A.sibling}};var Qk=function(){};var Al=function(e,h,A,da,Ba){var yb=e.memoizedProps;if(yb!==da){var Jb=h.stateNode;vf(ji.current);e=null;switch(A){case "input":yb=S(Jb,yb);da=S(Jb,da);e=[];break;case "option":yb=ma(Jb,yb);da=ma(Jb,da);e=[];break;case "select":yb=
Ag({},yb,{value:void 0});da=Ag({},da,{value:void 0});e=[];break;case "textarea":yb=Ua(Jb,yb);da=Ua(Jb,da);e=[];break;default:"function"!==typeof yb.onClick&&"function"===typeof da.onClick&&(Jb.onclick=de)}ac(A,da);var ic,dd;A=null;for(ic in yb)if(!da.hasOwnProperty(ic)&&yb.hasOwnProperty(ic)&&null!=yb[ic])if("style"===ic)for(dd in Jb=yb[ic],Jb)Jb.hasOwnProperty(dd)&&(A||(A={}),A[dd]="");else"dangerouslySetInnerHTML"!==ic&&"children"!==ic&&"suppressContentEditableWarning"!==ic&&"suppressHydrationWarning"!==
ic&&"autoFocus"!==ic&&(qi.hasOwnProperty(ic)?e||(e=[]):(e=e||[]).push(ic,null));for(ic in da){var Zc=da[ic];Jb=null!=yb?yb[ic]:void 0;if(da.hasOwnProperty(ic)&&Zc!==Jb&&(null!=Zc||null!=Jb))if("style"===ic)if(Jb){for(dd in Jb)!Jb.hasOwnProperty(dd)||Zc&&Zc.hasOwnProperty(dd)||(A||(A={}),A[dd]="");for(dd in Zc)Zc.hasOwnProperty(dd)&&Jb[dd]!==Zc[dd]&&(A||(A={}),A[dd]=Zc[dd])}else A||(e||(e=[]),e.push(ic,A)),A=Zc;else"dangerouslySetInnerHTML"===ic?(Zc=Zc?Zc.__html:void 0,Jb=Jb?Jb.__html:void 0,null!=
Zc&&Jb!==Zc&&(e=e||[]).push(ic,Zc)):"children"===ic?Jb===Zc||"string"!==typeof Zc&&"number"!==typeof Zc||(e=e||[]).push(ic,""+Zc):"suppressContentEditableWarning"!==ic&&"suppressHydrationWarning"!==ic&&(qi.hasOwnProperty(ic)?(null!=Zc&&vd(Ba,ic),e||Jb===Zc||(e=[])):(e=e||[]).push(ic,Zc))}A&&(e=e||[]).push("style",A);if(h.updateQueue=e)h.effectTag|=4}};var hl=function(e,h,A,da){A!==da&&(h.effectTag|=4)};var il="function"===typeof WeakSet?WeakSet:Set,jl="function"===typeof WeakMap?WeakMap:Map,Cl=Math.ceil,
Ek=yg.ReactCurrentDispatcher,ll=yg.ReactCurrentOwner,Ig=0,Sk=8,qh=16,Fh=32,rj=0,fk=1,Tk=2,Yg=3,sj=4,Uk=5,$e=Ig,oh=null,gf=null,gh=0,Hg=rj,Ug=null,$h=1073741823,gk=1073741823,xg=null,Tg=0,Mj=!1,Rk=0,li=500,ue=null,Bk=!1,Yh=null,Zh=null,hk=!1,Nj=null,ik=90,$i=null,Zi=0,Dk=null,Ck=0;var kl=function(e,h,A){var da=h.expirationTime;if(null!==e){var Ba=h.pendingProps;if(e.memoizedProps!==Ba||Dg.current)dh=!0;else{if(da<A){dh=!1;switch(h.tag){case 3:ca(h);If=Ve=null;td=!1;break;case 5:M(h);if(h.mode&4&&1!==
A&&Ba.hidden)return h.expirationTime=h.childExpirationTime=1,null;break;case 1:Xd(h.type)&&Ke(h);break;case 4:ag(h,h.stateNode.containerInfo);break;case 10:da=h.memoizedProps.value;Ba=h.type._context;Ac(Yj,Ba._currentValue);Ba._currentValue=da;break;case 13:if(null!==h.memoizedState){da=h.child.childExpirationTime;if(0!==da&&da>=A)return na(e,h,A);Ac(rg,rg.current&1);h=gc(e,h,A);return null!==h?h.sibling:null}Ac(rg,rg.current&1);break;case 19:da=h.childExpirationTime>=A;if(0!==(e.effectTag&64)){if(da)return Sb(e,
h,A);h.effectTag|=64}Ba=h.memoizedState;null!==Ba&&(Ba.rendering=null,Ba.tail=null);Ac(rg,rg.current);if(!da)return null}return gc(e,h,A)}dh=!1}}else dh=!1;h.expirationTime=0;switch(h.tag){case 2:da=h.type;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;Ba=Be(h,mg.current);uc(h,A);Ba=jc(null,h,da,e,Ba,A);h.effectTag|=1;if("object"===typeof Ba&&null!==Ba&&"function"===typeof Ba.render&&void 0===Ba.$$typeof){h.tag=1;h.memoizedState=null;h.updateQueue=null;if(Xd(da)){var yb=
!0;Ke(h)}else yb=!1;h.memoizedState=null!==Ba.state&&void 0!==Ba.state?Ba.state:null;id(h);var Jb=da.getDerivedStateFromProps;"function"===typeof Jb&&Me(h,da,Jb,e);Ba.updater=vk;h.stateNode=Ba;Ba._reactInternalFiber=h;Ue(h,da,e,A);h=F(null,h,da,!0,yb,A)}else h.tag=0,tb(null,h,Ba,A),h=h.child;return h;case 16:a:{Ba=h.elementType;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;ka(Ba);if(1!==Ba._status)throw Ba._result;Ba=Ba._result;h.type=Ba;yb=h.tag=jk(Ba);e=Vb(Ba,e);
switch(yb){case 0:h=pc(null,h,Ba,e,A);break a;case 1:h=u(null,h,Ba,e,A);break a;case 11:h=pb(null,h,Ba,e,A);break a;case 14:h=Ab(null,h,Ba,Vb(Ba.type,e),da,A);break a}throw Error(n(306,Ba,""));}return h;case 0:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),pc(e,h,da,Ba,A);case 1:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),u(e,h,da,Ba,A);case 3:ca(h);da=h.updateQueue;if(null===e||null===da)throw Error(n(282));da=h.pendingProps;Ba=h.memoizedState;Ba=
null!==Ba?Ba.element:null;fd(e,h);le(h,da,null,A);da=h.memoizedState.element;if(da===Ba)If=Ve=null,td=!1,h=gc(e,h,A);else{if(Ba=h.stateNode.hydrate)If=kc(h.stateNode.containerInfo.firstChild),Ve=h,Ba=td=!0;if(Ba)for(A=Pk(h,null,da,A),h.child=A;A;)A.effectTag=A.effectTag&-3|1024,A=A.sibling;else tb(e,h,da,A),If=Ve=null,td=!1;h=h.child}return h;case 5:return M(h),null===e&&ya(h),da=h.type,Ba=h.pendingProps,yb=null!==e?e.memoizedProps:null,Jb=Ba.children,sc(da,Ba)?Jb=null:null!==yb&&sc(da,yb)&&(h.effectTag|=
16),Yb(e,h),h.mode&4&&1!==A&&Ba.hidden?(h.expirationTime=h.childExpirationTime=1,h=null):(tb(e,h,Jb,A),h=h.child),h;case 6:return null===e&&ya(h),null;case 13:return na(e,h,A);case 4:return ag(h,h.stateNode.containerInfo),da=h.pendingProps,null===e?h.child=Xi(h,null,da,A):tb(e,h,da,A),h.child;case 11:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),pb(e,h,da,Ba,A);case 7:return tb(e,h,h.pendingProps,A),h.child;case 8:return tb(e,h,h.pendingProps.children,A),h.child;case 12:return tb(e,
h,h.pendingProps.children,A),h.child;case 10:a:{da=h.type._context;Ba=h.pendingProps;Jb=h.memoizedProps;yb=Ba.value;var ic=h.type._context;Ac(Yj,ic._currentValue);ic._currentValue=yb;if(null!==Jb)if(ic=Jb.value,yb=ra(ic,yb)?0:("function"===typeof da._calculateChangedBits?da._calculateChangedBits(ic,yb):1073741823)|0,0===yb){if(Jb.children===Ba.children&&!Dg.current){h=gc(e,h,A);break a}}else for(ic=h.child,null!==ic&&(ic.return=h);null!==ic;){var dd=ic.dependencies;if(null!==dd){Jb=ic.child;for(var Zc=
dd.firstContext;null!==Zc;){if(Zc.context===da&&0!==(Zc.observedBits&yb)){1===ic.tag&&(Zc=se(A,null),Zc.tag=2,xd(ic,Zc));ic.expirationTime<A&&(ic.expirationTime=A);Zc=ic.alternate;null!==Zc&&Zc.expirationTime<A&&(Zc.expirationTime=A);Gc(ic.return,A);dd.expirationTime<A&&(dd.expirationTime=A);break}Zc=Zc.next}}else Jb=10===ic.tag?ic.type===h.type?null:ic.child:ic.child;if(null!==Jb)Jb.return=ic;else for(Jb=ic;null!==Jb;){if(Jb===h){Jb=null;break}ic=Jb.sibling;if(null!==ic){ic.return=Jb.return;Jb=ic;
break}Jb=Jb.return}ic=Jb}tb(e,h,Ba.children,A);h=h.child}return h;case 9:return Ba=h.type,yb=h.pendingProps,da=yb.children,uc(h,A),Ba=Fc(Ba,yb.unstable_observedBits),da=da(Ba),h.effectTag|=1,tb(e,h,da,A),h.child;case 14:return Ba=h.type,yb=Vb(Ba,h.pendingProps),yb=Vb(Ba.type,yb),Ab(e,h,Ba,yb,da,A);case 15:return Eb(e,h,h.type,h.pendingProps,da,A);case 17:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),h.tag=1,Xd(da)?
(e=!0,Ke(h)):e=!1,uc(h,A),Zf(h,da,Ba),Ue(h,da,Ba,A),F(null,h,da,!0,e,A);case 19:return Sb(e,h,A)}throw Error(n(156,h.tag));};var Vk=null,Ak=null;Ih.prototype.render=function(e){uj(e,this._internalRoot,null,null)};Ih.prototype.unmount=function(){var e=this._internalRoot,h=e.containerInfo;uj(null,e,null,function(){h[Dh]=null})};var Lk=function(e){if(13===e.tag){var h=Wa(vc(),150,100);nd(e,h);cj(e,h)}};var bl=function(e){13===e.tag&&(nd(e,3),cj(e,3))};var yl=function(e){if(13===e.tag){var h=vc();h=hd(h,
e,null);nd(e,h);cj(e,h)}};Oi=function(e,h,A){switch(h){case "input":Q(e,A);h=A.name;if("radio"===A.type&&null!=h){for(A=e;A.parentNode;)A=A.parentNode;A=A.querySelectorAll("input[name\x3d"+JSON.stringify(""+h)+'][type\x3d"radio"]');for(h=0;h<A.length;h++){var da=A[h];if(da!==e&&da.form===e.form){var Ba=tc(da);if(!Ba)throw Error(n(90));$a(da);Q(da,Ba)}}}break;case "textarea":sa(e,A);break;case "select":h=A.value,null!=h&&Qa(e,!!A.multiple,h,!1)}};rb=bf;Xa=function(e,h,A,da,Ba){var yb=$e;$e|=4;try{return Pe(98,
e.bind(null,h,A,da,Ba))}finally{$e=yb,$e===Ig&&wa()}};Ha=function(){($e&(1|qh|Fh))===Ig&&(ce(),rh())};Nh=function(e,h){var A=$e;$e|=2;try{return e(h)}finally{$e=A,$e===Ig&&wa()}};var Dl={Events:[Lb,hc,tc,Ob,Bj,Jc,function(e){oa(e,xc)},cb,ob,sd,Ja,rh,{current:!1}]};(function(e){var h=e.findFiberByHostInstance;return mi(Ag({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yg.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){A=ha(A);
return null===A?null:A.stateNode},findFiberByHostInstance:function(A){return h?h(A):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:sb,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dl;Nb.createPortal=lk;Nb.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var h=e._reactInternalFiber;if(void 0===h){if("function"===
typeof e.render)throw Error(n(188));throw Error(n(268,Object.keys(e)));}e=ha(h);return e=null===e?null:e.stateNode};Nb.flushSync=function(e,h){if(($e&(qh|Fh))!==Ig)throw Error(n(187));var A=$e;$e|=1;try{return Pe(99,e.bind(null,h))}finally{$e=A,wa()}};Nb.hydrate=function(e,h,A){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!0,A)};Nb.render=function(e,h,A){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!1,A)};Nb.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(n(40));return e._reactRootContainer?
(qf(function(){Pg(null,null,e,!1,function(){e._reactRootContainer=null;e[Dh]=null})}),!0):!1};Nb.unstable_batchedUpdates=bf;Nb.unstable_createPortal=function(e,h){return lk(e,h,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};Nb.unstable_renderSubtreeIntoContainer=function(e,h,A,da){if(!Jh(A))throw Error(n(200));if(null==e||void 0===e._reactInternalFiber)throw Error(n(38));return Pg(e,h,A,!1,da)};Nb.version="16.13.1"};
shadow$provide[14]=function($b,Rb,Ic,Nb){function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(x){console.error(x)}}n();Ic.exports=Rb(9)};
shadow$provide[15]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?ob.exports=l():"function"===typeof define&&define.amd?define(l):(m="undefined"!==typeof globalThis?globalThis:m||self,m.marked=l())})(this,function(){function m(ea,oa){for(var ba=0;ba<oa.length;ba++){var Fa=oa[ba];Fa.enumerable=Fa.enumerable||!1;Fa.configurable=!0;"value"in Fa&&(Fa.writable=!0);Object.defineProperty(ea,Fa.key,Fa)}}function l(ea,oa,ba){oa&&m(ea.prototype,oa);ba&&m(ea,ba);return ea}function w(ea,
oa){if(ea){if("string"===typeof ea)return G(ea,oa);var ba=Object.prototype.toString.call(ea).slice(8,-1);"Object"===ba&&ea.constructor&&(ba=ea.constructor.name);if("Map"===ba||"Set"===ba)return Array.from(ea);if("Arguments"===ba||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ba))return G(ea,oa)}}function G(ea,oa){if(null==oa||oa>ea.length)oa=ea.length;for(var ba=0,Fa=Array(oa);ba<oa;ba++)Fa[ba]=ea[ba];return Fa}function L(ea,oa){var ba;if("undefined"===typeof Symbol||null==ea[Symbol.iterator]){if(Array.isArray(ea)||
(ba=w(ea))||oa&&ea&&"number"===typeof ea.length){ba&&(ea=ba);var Fa=0;return function(){return Fa>=ea.length?{done:!0}:{done:!1,value:ea[Fa++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}ba=ea[Symbol.iterator]();return ba.next.bind(ba)}function v(ea){return ea.replace(K,function(oa,ba){ba=ba.toLowerCase();return"colon"===ba?":":"#"===ba.charAt(0)?"x"===ba.charAt(1)?String.fromCharCode(parseInt(ba.substring(2),
16)):String.fromCharCode(+ba.substring(1)):""})}function u(ea,oa,ba){var Fa=ea.length;if(0===Fa)return"";for(var Ra=0;Ra<Fa;){var Ma=ea.charAt(Fa-Ra-1);if(Ma!==oa||ba)if(Ma!==oa&&ba)Ra++;else break;else Ra++}return ea.substr(0,Fa-Ra)}function t(ea,oa,ba){var Fa=oa.href;oa=oa.title?O(oa.title):null;var Ra=ea[1].replace(/\\([\[\]])/g,"$1");return"!"!==ea[0].charAt(0)?{type:"link",raw:ba,href:Fa,title:oa,text:Ra}:{type:"image",raw:ba,href:Fa,title:oa,text:O(Ra)}}function k(ea,oa){ea=ea.match(/^(\s+)(?:```)/);
if(null===ea)return oa;var ba=ea[1];return oa.split("\n").map(function(Fa){var Ra=Fa.match(/^\s+/);return null===Ra?Fa:Ra[0].length>=ba.length?Fa.slice(ba.length):Fa}).join("\n")}function f(ea){return ea.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function d(ea){var oa="",ba,Fa=ea.length;for(ba=0;ba<Fa;ba++){var Ra=ea.charCodeAt(ba);.5<Math.random()&&(Ra="x"+
Ra.toString(16));oa+="\x26#"+Ra+";"}return oa}function g(ea,oa,ba){if("undefined"===typeof ea||null===ea)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof ea)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(ea)+", string expected");"function"===typeof oa&&(ba=oa,oa=null);oa=W({},g.defaults,oa||{});M(oa);if(ba){var Fa=oa.highlight;try{var Ra=Wa.lex(ea,oa)}catch(Ba){return ba(Ba)}var Ma=function(Ba){if(!Ba)try{var Sa=T.parse(Ra,oa)}catch(lb){Ba=
lb}oa.highlight=Fa;return Ba?ba(Ba):ba(null,Sa)};if(!Fa||3>Fa.length)return Ma();delete oa.highlight;if(!Ra.length)return Ma();var db=0;g.walkTokens(Ra,function(Ba){"code"===Ba.type&&(db++,setTimeout(function(){Fa(Ba.text,Ba.lang,function(Sa,lb){if(Sa)return Ma(Sa);null!=lb&&lb!==Ba.text&&(Ba.text=lb,Ba.escaped=!0);db--;0===db&&Ma()})},0))});0===db&&Ma()}else try{var ab=Wa.lex(ea,oa);oa.walkTokens&&g.walkTokens(ab,oa.walkTokens);return T.parse(ab,oa)}catch(Ba){Ba.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(oa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+P(Ba.message+"",!0)+"\x3c/pre\x3e";throw Ba;}}var a=function(ea,oa){return oa={exports:{}},ea(oa,oa.exports),oa.exports}(function(ea){function oa(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}ea.exports={defaults:oa(),getDefaults:oa,
changeDefaults:function(ba){ea.exports.defaults=ba}}}),e=/[&<>"']/,n=/[&<>"']/g,y=/[<>"']|&(?!#?\w+;)/,A=/[<>"']|&(?!#?\w+;)/g,C={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},N=function(ea){return C[ea]},K=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,E=/(^|[^\[])\^/g,x=/[^\w:]/g,D=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,H={},S=/^[^:]+:\/*[^/]*$/,U=/^([^:]+:)[\s\S]*$/,ia=/^([^:]+:\/*[^/]*)[\s\S]*$/,fa=function(ea,oa){if(oa){if(e.test(ea))return ea.replace(n,N)}else if(y.test(ea))return ea.replace(A,
N);return ea},ja=function(ea){for(var oa=1,ba,Fa;oa<arguments.length;oa++)for(Fa in ba=arguments[oa],ba)Object.prototype.hasOwnProperty.call(ba,Fa)&&(ea[Fa]=ba[Fa]);return ea},la=a.defaults,da=function(ea,oa){ea=ea.replace(/\|/g,function(Fa,Ra,Ma){for(Fa=!1;0<=--Ra&&"\\"===Ma[Ra];)Fa=!Fa;return Fa?"|":" |"}).split(/ \|/);var ba=0;if(ea.length>oa)ea.splice(oa);else for(;ea.length<oa;)ea.push("");for(;ba<ea.length;ba++)ea[ba]=ea[ba].trim().replace(/\\\|/g,"|");return ea},O=fa,B=function(){function ea(ba){this.options=
ba||la}var oa=ea.prototype;oa.space=function(ba){if(ba=this.rules.block.newline.exec(ba))return 1<ba[0].length?{type:"space",raw:ba[0]}:{raw:"\n"}};oa.code=function(ba,Fa){if(ba=this.rules.block.code.exec(ba)){if((Fa=Fa[Fa.length-1])&&"paragraph"===Fa.type)return{raw:ba[0],text:ba[0].trimRight()};Fa=ba[0].replace(/^ {4}/gm,"");return{type:"code",raw:ba[0],codeBlockStyle:"indented",text:this.options.pedantic?Fa:u(Fa,"\n")}}};oa.fences=function(ba){if(ba=this.rules.block.fences.exec(ba)){var Fa=ba[0],
Ra=k(Fa,ba[3]||"");return{type:"code",raw:Fa,lang:ba[2]?ba[2].trim():ba[2],text:Ra}}};oa.heading=function(ba){if(ba=this.rules.block.heading.exec(ba)){var Fa=ba[2].trim();if(/#$/.test(Fa)){var Ra=u(Fa,"#");if(this.options.pedantic)Fa=Ra.trim();else if(!Ra||/ $/.test(Ra))Fa=Ra.trim()}return{type:"heading",raw:ba[0],depth:ba[1].length,text:Fa}}};oa.nptable=function(ba){if(ba=this.rules.block.nptable.exec(ba))if(ba={type:"table",header:da(ba[1].replace(/^ *| *\| *$/g,"")),align:ba[2].replace(/^ *|\| *$/g,
"").split(/ *\| */),cells:ba[3]?ba[3].replace(/\n$/,"").split("\n"):[],raw:ba[0]},ba.header.length===ba.align.length){var Fa=ba.align.length,Ra;for(Ra=0;Ra<Fa;Ra++)/^ *-+: *$/.test(ba.align[Ra])?ba.align[Ra]="right":/^ *:-+: *$/.test(ba.align[Ra])?ba.align[Ra]="center":/^ *:-+ *$/.test(ba.align[Ra])?ba.align[Ra]="left":ba.align[Ra]=null;Fa=ba.cells.length;for(Ra=0;Ra<Fa;Ra++)ba.cells[Ra]=da(ba.cells[Ra],ba.header.length);return ba}};oa.hr=function(ba){if(ba=this.rules.block.hr.exec(ba))return{type:"hr",
raw:ba[0]}};oa.blockquote=function(ba){if(ba=this.rules.block.blockquote.exec(ba)){var Fa=ba[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ba[0],text:Fa}}};oa.list=function(ba){var Fa=this.rules.block.list.exec(ba);if(Fa){ba=Fa[0];var Ra=Fa[2],Ma=1<Ra.length,db={type:"list",raw:ba,ordered:Ma,start:Ma?+Ra.slice(0,-1):"",loose:!1,items:[]};Fa=Fa[0].match(this.rules.block.item);var ab=!1,Ba,Sa=Fa.length;var lb=this.rules.block.listItemStart.exec(Fa[0]);for(var ub=0;ub<Sa;ub++){ba=Ba=Fa[ub];
if(ub!==Sa-1){var Jb=this.rules.block.listItemStart.exec(Fa[ub+1]);if(Jb[1].length>lb[0].length||3<Jb[1].length){Fa.splice(ub,2,Fa[ub]+"\n"+Fa[ub+1]);ub--;Sa--;continue}else if(!this.options.pedantic||this.options.smartLists?Jb[2][Jb[2].length-1]!==Ra[Ra.length-1]:Ma===(1===Jb[2].length))lb=Fa.slice(ub+1).join("\n"),db.raw=db.raw.substring(0,db.raw.length-lb.length),ub=Sa-1;lb=Jb}Jb=Ba.length;Ba=Ba.replace(/^ *([*+-]|\d+[.)]) ?/,"");~Ba.indexOf("\n ")&&(Jb-=Ba.length,Ba=this.options.pedantic?Ba.replace(/^ {1,4}/gm,
""):Ba.replace(new RegExp("^ {1,"+Jb+"}","gm"),""));Jb=ab||/\n\n(?!\s*$)/.test(Ba);ub!==Sa-1&&(ab="\n"===Ba.charAt(Ba.length-1),Jb||(Jb=ab));Jb&&(db.loose=!0);if(this.options.gfm){var bc=/^\[[ xX]\] /.test(Ba);var wc=void 0;bc&&(wc=" "!==Ba[1],Ba=Ba.replace(/^\[[ xX]\] +/,""))}db.items.push({type:"list_item",raw:ba,task:bc,checked:wc,loose:Jb,text:Ba})}return db}};oa.html=function(ba){if(ba=this.rules.block.html.exec(ba))return{type:this.options.sanitize?"paragraph":"html",raw:ba[0],pre:!this.options.sanitizer&&
("pre"===ba[1]||"script"===ba[1]||"style"===ba[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ba[0]):O(ba[0]):ba[0]}};oa.def=function(ba){if(ba=this.rules.block.def.exec(ba))return ba[3]&&(ba[3]=ba[3].substring(1,ba[3].length-1)),{tag:ba[1].toLowerCase().replace(/\s+/g," "),raw:ba[0],href:ba[2],title:ba[3]}};oa.table=function(ba){var Fa=this.rules.block.table.exec(ba);if(Fa&&(ba={type:"table",header:da(Fa[1].replace(/^ *| *\| *$/g,"")),align:Fa[2].replace(/^ *|\| *$/g,
"").split(/ *\| */),cells:Fa[3]?Fa[3].replace(/\n$/,"").split("\n"):[]},ba.header.length===ba.align.length)){ba.raw=Fa[0];Fa=ba.align.length;var Ra;for(Ra=0;Ra<Fa;Ra++)/^ *-+: *$/.test(ba.align[Ra])?ba.align[Ra]="right":/^ *:-+: *$/.test(ba.align[Ra])?ba.align[Ra]="center":/^ *:-+ *$/.test(ba.align[Ra])?ba.align[Ra]="left":ba.align[Ra]=null;Fa=ba.cells.length;for(Ra=0;Ra<Fa;Ra++)ba.cells[Ra]=da(ba.cells[Ra].replace(/^ *\| *| *\| *$/g,""),ba.header.length);return ba}};oa.lheading=function(ba){if(ba=
this.rules.block.lheading.exec(ba))return{type:"heading",raw:ba[0],depth:"\x3d"===ba[2].charAt(0)?1:2,text:ba[1]}};oa.paragraph=function(ba){if(ba=this.rules.block.paragraph.exec(ba))return{type:"paragraph",raw:ba[0],text:"\n"===ba[1].charAt(ba[1].length-1)?ba[1].slice(0,-1):ba[1]}};oa.text=function(ba,Fa){if(ba=this.rules.block.text.exec(ba))return(Fa=Fa[Fa.length-1])&&"text"===Fa.type?{raw:ba[0],text:ba[0]}:{type:"text",raw:ba[0],text:ba[0]}};oa.escape=function(ba){if(ba=this.rules.inline.escape.exec(ba))return{type:"escape",
raw:ba[0],text:O(ba[1])}};oa.tag=function(ba,Fa,Ra){if(ba=this.rules.inline.tag.exec(ba))return!Fa&&/^<a /i.test(ba[0])?Fa=!0:Fa&&/^<\/a>/i.test(ba[0])&&(Fa=!1),!Ra&&/^<(pre|code|kbd|script)(\s|>)/i.test(ba[0])?Ra=!0:Ra&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ba[0])&&(Ra=!1),{type:this.options.sanitize?"text":"html",raw:ba[0],inLink:Fa,inRawBlock:Ra,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ba[0]):O(ba[0]):ba[0]}};oa.link=function(ba){if(ba=this.rules.inline.link.exec(ba)){var Fa=
ba[2].trim();if(!this.options.pedantic&&/^</.test(Fa)){if(!/>$/.test(Fa))return;var Ra=u(Fa.slice(0,-1),"\\");if(0===(Fa.length-Ra.length)%2)return}else{a:{Ra=ba[2];if(-1!==Ra.indexOf(")"))for(var Ma=Ra.length,db=0,ab=0;ab<Ma;ab++)if("\\"===Ra[ab])ab++;else if("("===Ra[ab])db++;else if(")"===Ra[ab]&&(db--,0>db)){Ra=ab;break a}Ra=-1}-1<Ra&&(Ma=(0===ba[0].indexOf("!")?5:4)+ba[1].length+Ra,ba[2]=ba[2].substring(0,Ra),ba[0]=ba[0].substring(0,Ma).trim(),ba[3]="")}Ra=ba[2];Ma="";if(this.options.pedantic){if(db=
/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ra))Ra=db[1],Ma=db[3]}else Ma=ba[3]?ba[3].slice(1,-1):"";Ra=Ra.trim();/^</.test(Ra)&&(Ra=this.options.pedantic&&!/>$/.test(Fa)?Ra.slice(1):Ra.slice(1,-1));return t(ba,{href:Ra?Ra.replace(this.rules.inline._escapes,"$1"):Ra,title:Ma?Ma.replace(this.rules.inline._escapes,"$1"):Ma},ba[0])}};oa.reflink=function(ba,Fa){var Ra;if((Ra=this.rules.inline.reflink.exec(ba))||(Ra=this.rules.inline.nolink.exec(ba)))return ba=(Ra[2]||Ra[1]).replace(/\s+/g," "),ba=Fa[ba.toLowerCase()],
ba&&ba.href?t(Ra,ba,Ra[0]):(Fa=Ra[0].charAt(0),{type:"text",raw:Fa,text:Fa})};oa.strong=function(ba,Fa,Ra){void 0===Ra&&(Ra="");var Ma=this.rules.inline.strong.start.exec(ba);if(Ma&&(!Ma[1]||Ma[1]&&(""===Ra||this.rules.inline.punctuation.exec(Ra))))for(Fa=Fa.slice(-1*ba.length),Ra="**"===Ma[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd,Ra.lastIndex=0;null!=(Ma=Ra.exec(Fa));)if(Ma=this.rules.inline.strong.middle.exec(Fa.slice(0,Ma.index+3)))return{type:"strong",raw:ba.slice(0,
Ma[0].length),text:ba.slice(2,Ma[0].length-2)}};oa.em=function(ba,Fa,Ra){void 0===Ra&&(Ra="");var Ma=this.rules.inline.em.start.exec(ba);if(Ma&&(!Ma[1]||Ma[1]&&(""===Ra||this.rules.inline.punctuation.exec(Ra))))for(Fa=Fa.slice(-1*ba.length),Ra="*"===Ma[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,Ra.lastIndex=0;null!=(Ma=Ra.exec(Fa));)if(Ma=this.rules.inline.em.middle.exec(Fa.slice(0,Ma.index+2)))return{type:"em",raw:ba.slice(0,Ma[0].length),text:ba.slice(1,Ma[0].length-1)}};oa.codespan=
function(ba){if(ba=this.rules.inline.code.exec(ba)){var Fa=ba[2].replace(/\n/g," "),Ra=/[^ ]/.test(Fa),Ma=/^ /.test(Fa)&&/ $/.test(Fa);Ra&&Ma&&(Fa=Fa.substring(1,Fa.length-1));Fa=O(Fa,!0);return{type:"codespan",raw:ba[0],text:Fa}}};oa.br=function(ba){if(ba=this.rules.inline.br.exec(ba))return{type:"br",raw:ba[0]}};oa.del=function(ba){if(ba=this.rules.inline.del.exec(ba))return{type:"del",raw:ba[0],text:ba[2]}};oa.autolink=function(ba,Fa){if(ba=this.rules.inline.autolink.exec(ba)){if("@"===ba[2]){Fa=
O(this.options.mangle?Fa(ba[1]):ba[1]);var Ra="mailto:"+Fa}else Ra=Fa=O(ba[1]);return{type:"link",raw:ba[0],text:Fa,href:Ra,tokens:[{type:"text",raw:Fa,text:Fa}]}}};oa.url=function(ba,Fa){if(ba=this.rules.inline.url.exec(ba)){if("@"===ba[2]){Fa=O(this.options.mangle?Fa(ba[0]):ba[0]);var Ra="mailto:"+Fa}else{do Fa=ba[0],ba[0]=this.rules.inline._backpedal.exec(ba[0])[0];while(Fa!==ba[0]);Fa=O(ba[0]);Ra="www."===ba[1]?"http://"+Fa:Fa}return{type:"link",raw:ba[0],text:Fa,href:Ra,tokens:[{type:"text",
raw:Fa,text:Fa}]}}};oa.inlineText=function(ba,Fa,Ra){if(ba=this.rules.inline.text.exec(ba))return Fa=Fa?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ba[0]):O(ba[0]):ba[0]:O(this.options.smartypants?Ra(ba[0]):ba[0]),{type:"text",raw:ba[0],text:Fa}};return ea}(),Y={exec:function(){}},ka=function(ea,oa){ea=ea.source||ea;oa=oa||"";var ba={replace:function(Fa,Ra){Ra=Ra.source||Ra;Ra=Ra.replace(E,"$1");ea=ea.replace(Fa,Ra);return ba},getRegex:function(){return new RegExp(ea,oa)}};
return ba},Z={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Y,table:Y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Z.def=ka(Z.def).replace("label",Z._label).replace("title",Z._title).getRegex();Z.bullet=/(?:[*+-]|\d{1,9}[.)])/;Z.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
Z.item=ka(Z.item,"gm").replace(/bull/g,Z.bullet).getRegex();Z.listItemStart=ka(/^( *)(bull)/).replace("bull",Z.bullet).getRegex();Z.list=ka(Z.list).replace(/bull/g,Z.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+Z.def.source+")").getRegex();Z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
Z._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;Z.html=ka(Z.html,"i").replace("comment",Z._comment).replace("tag",Z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Z.paragraph=ka(Z._paragraph).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",
Z._tag).getRegex();Z.blockquote=ka(Z.blockquote).replace("paragraph",Z.paragraph).getRegex();Z.normal=ja({},Z);Z.gfm=ja({},Z.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Z.gfm.nptable=ka(Z.gfm.nptable).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",Z._tag).getRegex();Z.gfm.table=ka(Z.gfm.table).replace("hr",Z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",Z._tag).getRegex();Z.pedantic=ja({},Z.normal,{html:ka("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",Z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Y,paragraph:ka(Z.normal._paragraph).replace("hr",Z.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Z.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var wa={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Y,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};wa.punctuation=ka(wa.punctuation).replace(/punctuation/g,wa._punctuation).getRegex();wa._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|\x3c[^\x3e]*?\x3e";wa._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*";wa._comment=ka(Z._comment).replace("(?:--\x3e|$)",
"--\x3e").getRegex();wa.em.start=ka(wa.em.start).replace(/punctuation/g,wa._punctuation).getRegex();wa.em.middle=ka(wa.em.middle).replace(/punctuation/g,wa._punctuation).replace(/overlapSkip/g,wa._overlapSkip).getRegex();wa.em.endAst=ka(wa.em.endAst,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.em.endUnd=ka(wa.em.endUnd,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.strong.start=ka(wa.strong.start).replace(/punctuation/g,wa._punctuation).getRegex();wa.strong.middle=ka(wa.strong.middle).replace(/punctuation/g,
wa._punctuation).replace(/overlapSkip/g,wa._overlapSkip).getRegex();wa.strong.endAst=ka(wa.strong.endAst,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.strong.endUnd=ka(wa.strong.endUnd,"g").replace(/punctuation/g,wa._punctuation).getRegex();wa.blockSkip=ka(wa._blockSkip,"g").getRegex();wa.overlapSkip=ka(wa._overlapSkip,"g").getRegex();wa._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;wa._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;wa._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
wa.autolink=ka(wa.autolink).replace("scheme",wa._scheme).replace("email",wa._email).getRegex();wa._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;wa.tag=ka(wa.tag).replace("comment",wa._comment).replace("attribute",wa._attribute).getRegex();wa._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;wa._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;wa._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;wa.link=ka(wa.link).replace("label",
wa._label).replace("href",wa._href).replace("title",wa._title).getRegex();wa.reflink=ka(wa.reflink).replace("label",wa._label).getRegex();wa.reflinkSearch=ka(wa.reflinkSearch,"g").replace("reflink",wa.reflink).replace("nolink",wa.nolink).getRegex();wa.normal=ja({},wa);wa.pedantic=ja({},wa.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ka(/^!?\[(label)\]\((.*?)\)/).replace("label",wa._label).getRegex(),reflink:ka(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wa._label).getRegex()});wa.gfm=ja({},wa.normal,{escape:ka(wa.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});wa.gfm.url=ka(wa.gfm.url,"i").replace("email",wa.gfm._extended_email).getRegex();wa.breaks=ja({},wa.gfm,{br:ka(wa.br).replace("{2,}","*").getRegex(),text:ka(wa.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var xa=a.defaults,Da=function(ea,oa){if(1>oa)return"";for(var ba="";1<oa;)oa&1&&(ba+=ea),oa>>=1,ea+=ea;return ba+ea},Wa=function(){function ea(ba){this.tokens=[];this.tokens.links=Object.create(null);this.options=ba||xa;this.options.tokenizer=this.options.tokenizer||new B;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;ba={block:Z.normal,inline:wa.normal};this.options.pedantic?(ba.block=Z.pedantic,ba.inline=wa.pedantic):this.options.gfm&&(ba.block=Z.gfm,ba.inline=this.options.breaks?
wa.breaks:wa.gfm);this.tokenizer.rules=ba}ea.lex=function(ba,Fa){return(new ea(Fa)).lex(ba)};ea.lexInline=function(ba,Fa){return(new ea(Fa)).inlineTokens(ba)};var oa=ea.prototype;oa.lex=function(ba){ba=ba.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(ba,this.tokens,!0);this.inline(this.tokens);return this.tokens};oa.blockTokens=function(ba,Fa,Ra){void 0===Fa&&(Fa=[]);void 0===Ra&&(Ra=!0);ba=ba.replace(/^ +$/gm,"");for(var Ma,db,ab;ba;)if(Ma=this.tokenizer.space(ba))ba=ba.substring(Ma.raw.length),
Ma.type&&Fa.push(Ma);else if(Ma=this.tokenizer.code(ba,Fa))ba=ba.substring(Ma.raw.length),Ma.type?Fa.push(Ma):(db=Fa[Fa.length-1],db.raw+="\n"+Ma.raw,db.text+="\n"+Ma.text);else if(Ma=this.tokenizer.fences(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ma=this.tokenizer.heading(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ma=this.tokenizer.nptable(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ma=this.tokenizer.hr(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ma=
this.tokenizer.blockquote(ba))ba=ba.substring(Ma.raw.length),Ma.tokens=this.blockTokens(Ma.text,[],Ra),Fa.push(Ma);else if(Ma=this.tokenizer.list(ba)){ba=ba.substring(Ma.raw.length);ab=Ma.items.length;for(db=0;db<ab;db++)Ma.items[db].tokens=this.blockTokens(Ma.items[db].text,[],!1);Fa.push(Ma)}else if(Ma=this.tokenizer.html(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ra&&(Ma=this.tokenizer.def(ba)))ba=ba.substring(Ma.raw.length),this.tokens.links[Ma.tag]||(this.tokens.links[Ma.tag]={href:Ma.href,
title:Ma.title});else if(Ma=this.tokenizer.table(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ma=this.tokenizer.lheading(ba))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ra&&(Ma=this.tokenizer.paragraph(ba)))ba=ba.substring(Ma.raw.length),Fa.push(Ma);else if(Ma=this.tokenizer.text(ba,Fa))ba=ba.substring(Ma.raw.length),Ma.type?Fa.push(Ma):(db=Fa[Fa.length-1],db.raw+="\n"+Ma.raw,db.text+="\n"+Ma.text);else if(ba)if(ba="Infinite loop on byte: "+ba.charCodeAt(0),this.options.silent){console.error(ba);
break}else throw Error(ba);return Fa};oa.inline=function(ba){var Fa,Ra,Ma,db=ba.length;for(Fa=0;Fa<db;Fa++){var ab=ba[Fa];switch(ab.type){case "paragraph":case "text":case "heading":ab.tokens=[];this.inlineTokens(ab.text,ab.tokens);break;case "table":ab.tokens={header:[],cells:[]};var Ba=ab.header.length;for(Ra=0;Ra<Ba;Ra++)ab.tokens.header[Ra]=[],this.inlineTokens(ab.header[Ra],ab.tokens.header[Ra]);Ba=ab.cells.length;for(Ra=0;Ra<Ba;Ra++){var Sa=ab.cells[Ra];ab.tokens.cells[Ra]=[];for(Ma=0;Ma<Sa.length;Ma++)ab.tokens.cells[Ra][Ma]=
[],this.inlineTokens(Sa[Ma],ab.tokens.cells[Ra][Ma])}break;case "blockquote":this.inline(ab.tokens);break;case "list":for(Ba=ab.items.length,Ra=0;Ra<Ba;Ra++)this.inline(ab.items[Ra].tokens)}}return ba};oa.inlineTokens=function(ba,Fa,Ra,Ma){void 0===Fa&&(Fa=[]);void 0===Ra&&(Ra=!1);void 0===Ma&&(Ma=!1);var db,ab=ba,Ba;if(this.tokens.links){var Sa=Object.keys(this.tokens.links);if(0<Sa.length)for(;null!=(db=this.tokenizer.rules.inline.reflinkSearch.exec(ab));)Sa.includes(db[0].slice(db[0].lastIndexOf("[")+
1,-1))&&(ab=ab.slice(0,db.index)+"["+Da("a",db[0].length-2)+"]"+ab.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(db=this.tokenizer.rules.inline.blockSkip.exec(ab));)ab=ab.slice(0,db.index)+"["+Da("a",db[0].length-2)+"]"+ab.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;ba;){lb||(Ba="");var lb=!1;if(db=this.tokenizer.escape(ba))ba=ba.substring(db.raw.length),Fa.push(db);else if(db=this.tokenizer.tag(ba,Ra,Ma))ba=ba.substring(db.raw.length),Ra=db.inLink,Ma=db.inRawBlock,
Fa.push(db);else if(db=this.tokenizer.link(ba))ba=ba.substring(db.raw.length),"link"===db.type&&(db.tokens=this.inlineTokens(db.text,[],!0,Ma)),Fa.push(db);else if(db=this.tokenizer.reflink(ba,this.tokens.links))ba=ba.substring(db.raw.length),"link"===db.type&&(db.tokens=this.inlineTokens(db.text,[],!0,Ma)),Fa.push(db);else if(db=this.tokenizer.strong(ba,ab,Ba))ba=ba.substring(db.raw.length),db.tokens=this.inlineTokens(db.text,[],Ra,Ma),Fa.push(db);else if(db=this.tokenizer.em(ba,ab,Ba))ba=ba.substring(db.raw.length),
db.tokens=this.inlineTokens(db.text,[],Ra,Ma),Fa.push(db);else if(db=this.tokenizer.codespan(ba))ba=ba.substring(db.raw.length),Fa.push(db);else if(db=this.tokenizer.br(ba))ba=ba.substring(db.raw.length),Fa.push(db);else if(db=this.tokenizer.del(ba))ba=ba.substring(db.raw.length),db.tokens=this.inlineTokens(db.text,[],Ra,Ma),Fa.push(db);else if(db=this.tokenizer.autolink(ba,d))ba=ba.substring(db.raw.length),Fa.push(db);else if(!Ra&&(db=this.tokenizer.url(ba,d)))ba=ba.substring(db.raw.length),Fa.push(db);
else if(db=this.tokenizer.inlineText(ba,Ma,f))ba=ba.substring(db.raw.length),Ba=db.raw.slice(-1),lb=!0,Fa.push(db);else if(ba)if(ba="Infinite loop on byte: "+ba.charCodeAt(0),this.options.silent){console.error(ba);break}else throw Error(ba);}return Fa};l(ea,null,[{key:"rules",get:function(){return{block:Z,inline:wa}}}]);return ea}(),gb=a.defaults,ra=function(ea,oa,ba){if(ea){try{var Fa=decodeURIComponent(v(ba)).replace(x,"").toLowerCase()}catch(Ra){return null}if(0===Fa.indexOf("javascript:")||0===
Fa.indexOf("vbscript:")||0===Fa.indexOf("data:"))return null}oa&&!D.test(ba)&&(ea=oa,H[" "+ea]||(S.test(ea)?H[" "+ea]=ea+"/":H[" "+ea]=u(ea,"/",!0)),ea=H[" "+ea],oa=-1===ea.indexOf(":"),ba="//"===ba.substring(0,2)?oa?ba:ea.replace(U,"$1")+ba:"/"===ba.charAt(0)?oa?ba:ea.replace(ia,"$1")+ba:ea+ba);try{ba=encodeURI(ba).replace(/%25/g,"%")}catch(Ra){return null}return ba},Na=function(){function ea(ba){this.options=ba||gb}var oa=ea.prototype;oa.code=function(ba,Fa,Ra){Fa=(Fa||"").match(/\S*/)[0];if(this.options.highlight){var Ma=
this.options.highlight(ba,Fa);null!=Ma&&Ma!==ba&&(Ra=!0,ba=Ma)}return Fa?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+fa(Fa,!0)+'"\x3e'+(Ra?ba:fa(ba,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(Ra?ba:fa(ba,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};oa.blockquote=function(ba){return"\x3cblockquote\x3e\n"+ba+"\x3c/blockquote\x3e\n"};oa.html=function(ba){return ba};oa.heading=function(ba,Fa,Ra,Ma){return this.options.headerIds?"\x3ch"+Fa+' id\x3d"'+this.options.headerPrefix+Ma.slug(Ra)+
'"\x3e'+ba+"\x3c/h"+Fa+"\x3e\n":"\x3ch"+Fa+"\x3e"+ba+"\x3c/h"+Fa+"\x3e\n"};oa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};oa.list=function(ba,Fa,Ra){var Ma=Fa?"ol":"ul";return"\x3c"+Ma+(Fa&&1!==Ra?' start\x3d"'+Ra+'"':"")+"\x3e\n"+ba+"\x3c/"+Ma+"\x3e\n"};oa.listitem=function(ba){return"\x3cli\x3e"+ba+"\x3c/li\x3e\n"};oa.checkbox=function(ba){return"\x3cinput "+(ba?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};oa.paragraph=
function(ba){return"\x3cp\x3e"+ba+"\x3c/p\x3e\n"};oa.table=function(ba,Fa){Fa&&(Fa="\x3ctbody\x3e"+Fa+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+ba+"\x3c/thead\x3e\n"+Fa+"\x3c/table\x3e\n"};oa.tablerow=function(ba){return"\x3ctr\x3e\n"+ba+"\x3c/tr\x3e\n"};oa.tablecell=function(ba,Fa){var Ra=Fa.header?"th":"td";return(Fa.align?"\x3c"+Ra+' align\x3d"'+Fa.align+'"\x3e':"\x3c"+Ra+"\x3e")+ba+"\x3c/"+Ra+"\x3e\n"};oa.strong=function(ba){return"\x3cstrong\x3e"+ba+"\x3c/strong\x3e"};oa.em=function(ba){return"\x3cem\x3e"+
ba+"\x3c/em\x3e"};oa.codespan=function(ba){return"\x3ccode\x3e"+ba+"\x3c/code\x3e"};oa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};oa.del=function(ba){return"\x3cdel\x3e"+ba+"\x3c/del\x3e"};oa.link=function(ba,Fa,Ra){ba=ra(this.options.sanitize,this.options.baseUrl,ba);if(null===ba)return Ra;ba='\x3ca href\x3d"'+fa(ba)+'"';Fa&&(ba+=' title\x3d"'+Fa+'"');return ba+("\x3e"+Ra+"\x3c/a\x3e")};oa.image=function(ba,Fa,Ra){ba=ra(this.options.sanitize,this.options.baseUrl,ba);if(null===
ba)return Ra;ba='\x3cimg src\x3d"'+ba+'" alt\x3d"'+Ra+'"';Fa&&(ba+=' title\x3d"'+Fa+'"');return ba+=this.options.xhtml?"/\x3e":"\x3e"};oa.text=function(ba){return ba};return ea}(),Ta=function(){function ea(){}var oa=ea.prototype;oa.strong=function(ba){return ba};oa.em=function(ba){return ba};oa.codespan=function(ba){return ba};oa.del=function(ba){return ba};oa.html=function(ba){return ba};oa.text=function(ba){return ba};oa.link=function(ba,Fa,Ra){return""+Ra};oa.image=function(ba,Fa,Ra){return""+
Ra};oa.br=function(){return""};return ea}(),za=function(){function ea(){this.seen={}}var oa=ea.prototype;oa.serialize=function(ba){return ba.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};oa.getNextSafeSlug=function(ba,Fa){var Ra=ba,Ma=0;if(this.seen.hasOwnProperty(Ra)){Ma=this.seen[ba];do Ma++,Ra=ba+"-"+Ma;while(this.seen.hasOwnProperty(Ra))}Fa||(this.seen[ba]=Ma,this.seen[Ra]=0);return Ra};oa.slug=
function(ba,Fa){void 0===Fa&&(Fa={});ba=this.serialize(ba);return this.getNextSafeSlug(ba,Fa.dryrun)};return ea}(),pa=a.defaults,T=function(){function ea(ba){this.options=ba||pa;this.options.renderer=this.options.renderer||new Na;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Ta;this.slugger=new za}ea.parse=function(ba,Fa){return(new ea(Fa)).parse(ba)};ea.parseInline=function(ba,Fa){return(new ea(Fa)).parseInline(ba)};var oa=ea.prototype;oa.parse=function(ba,
Fa){void 0===Fa&&(Fa=!0);var Ra="",Ma,db,ab,Ba,Sa=ba.length;for(Ma=0;Ma<Sa;Ma++){var lb=ba[Ma];switch(lb.type){case "space":continue;case "hr":Ra+=this.renderer.hr();continue;case "heading":Ra+=this.renderer.heading(this.parseInline(lb.tokens),lb.depth,v(this.parseInline(lb.tokens,this.textRenderer)),this.slugger);continue;case "code":Ra+=this.renderer.code(lb.text,lb.lang,lb.escaped);continue;case "table":var ub=Ba="";var Jb=lb.header.length;for(db=0;db<Jb;db++)ub+=this.renderer.tablecell(this.parseInline(lb.tokens.header[db]),
{header:!0,align:lb.align[db]});Ba+=this.renderer.tablerow(ub);var bc="";Jb=lb.cells.length;for(db=0;db<Jb;db++){var wc=lb.tokens.cells[db];ub="";var $c=wc.length;for(ab=0;ab<$c;ab++)ub+=this.renderer.tablecell(this.parseInline(wc[ab]),{header:!1,align:lb.align[ab]});bc+=this.renderer.tablerow(ub)}Ra+=this.renderer.table(Ba,bc);continue;case "blockquote":bc=this.parse(lb.tokens);Ra+=this.renderer.blockquote(bc);continue;case "list":ab=lb.ordered;$c=lb.start;wc=lb.loose;Jb=lb.items.length;bc="";for(db=
0;db<Jb;db++){Ba=lb.items[db];var kc=Ba.checked;var vc=Ba.task;ub="";if(Ba.task){var jb=this.renderer.checkbox(kc);wc?0<Ba.tokens.length&&"text"===Ba.tokens[0].type?(Ba.tokens[0].text=jb+" "+Ba.tokens[0].text,Ba.tokens[0].tokens&&0<Ba.tokens[0].tokens.length&&"text"===Ba.tokens[0].tokens[0].type&&(Ba.tokens[0].tokens[0].text=jb+" "+Ba.tokens[0].tokens[0].text)):Ba.tokens.unshift({type:"text",text:jb}):ub+=jb}ub+=this.parse(Ba.tokens,wc);bc+=this.renderer.listitem(ub,vc,kc)}Ra+=this.renderer.list(bc,
ab,$c);continue;case "html":Ra+=this.renderer.html(lb.text);continue;case "paragraph":Ra+=this.renderer.paragraph(this.parseInline(lb.tokens));continue;case "text":for(bc=lb.tokens?this.parseInline(lb.tokens):lb.text;Ma+1<Sa&&"text"===ba[Ma+1].type;)lb=ba[++Ma],bc+="\n"+(lb.tokens?this.parseInline(lb.tokens):lb.text);Ra+=Fa?this.renderer.paragraph(bc):bc;continue;default:ba='Token with "'+lb.type+'" type was not found.';if(this.options.silent){console.error(ba);return}throw Error(ba);}}return Ra};
oa.parseInline=function(ba,Fa){Fa=Fa||this.renderer;var Ra="",Ma,db=ba.length;for(Ma=0;Ma<db;Ma++){var ab=ba[Ma];switch(ab.type){case "escape":Ra+=Fa.text(ab.text);break;case "html":Ra+=Fa.html(ab.text);break;case "link":Ra+=Fa.link(ab.href,ab.title,this.parseInline(ab.tokens,Fa));break;case "image":Ra+=Fa.image(ab.href,ab.title,ab.text);break;case "strong":Ra+=Fa.strong(this.parseInline(ab.tokens,Fa));break;case "em":Ra+=Fa.em(this.parseInline(ab.tokens,Fa));break;case "codespan":Ra+=Fa.codespan(ab.text);
break;case "br":Ra+=Fa.br();break;case "del":Ra+=Fa.del(this.parseInline(ab.tokens,Fa));break;case "text":Ra+=Fa.text(ab.text);break;default:ba='Token with "'+ab.type+'" type was not found.';if(this.options.silent){console.error(ba);return}throw Error(ba);}}return Ra};return ea}(),W=ja,M=function(ea){ea&&ea.sanitize&&!ea.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
P=fa;ja=a.getDefaults;var ca=a.changeDefaults;a=a.defaults;g.options=g.setOptions=function(ea){W(g.defaults,ea);ca(g.defaults);return g};g.getDefaults=ja;g.defaults=a;g.use=function(ea){var oa=W({},ea);ea.renderer&&function(){var Fa=g.defaults.renderer||new Na,Ra=function(db){var ab=Fa[db];Fa[db]=function(){for(var Ba=arguments.length,Sa=Array(Ba),lb=0;lb<Ba;lb++)Sa[lb]=arguments[lb];Ba=ea.renderer[db].apply(Fa,Sa);!1===Ba&&(Ba=ab.apply(Fa,Sa));return Ba}},Ma;for(Ma in ea.renderer)Ra(Ma);oa.renderer=
Fa}();ea.tokenizer&&function(){var Fa=g.defaults.tokenizer||new B,Ra=function(db){var ab=Fa[db];Fa[db]=function(){for(var Ba=arguments.length,Sa=Array(Ba),lb=0;lb<Ba;lb++)Sa[lb]=arguments[lb];Ba=ea.tokenizer[db].apply(Fa,Sa);!1===Ba&&(Ba=ab.apply(Fa,Sa));return Ba}},Ma;for(Ma in ea.tokenizer)Ra(Ma);oa.tokenizer=Fa}();if(ea.walkTokens){var ba=g.defaults.walkTokens;oa.walkTokens=function(Fa){ea.walkTokens(Fa);ba&&ba(Fa)}}g.setOptions(oa)};g.walkTokens=function(ea,oa){ea=L(ea);for(var ba;!(ba=ea()).done;)switch(ba=
ba.value,oa(ba),ba.type){case "table":for(var Fa=L(ba.tokens.header),Ra;!(Ra=Fa()).done;)g.walkTokens(Ra.value,oa);for(ba=L(ba.tokens.cells);!(Fa=ba()).done;)for(Fa=L(Fa.value);!(Ra=Fa()).done;)g.walkTokens(Ra.value,oa);break;case "list":g.walkTokens(ba.items,oa);break;default:ba.tokens&&g.walkTokens(ba.tokens,oa)}};g.parseInline=function(ea,oa){if("undefined"===typeof ea||null===ea)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof ea)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(ea)+", string expected");oa=W({},g.defaults,oa||{});M(oa);try{var ba=Wa.lexInline(ea,oa);oa.walkTokens&&g.walkTokens(ba,oa.walkTokens);return T.parseInline(ba,oa)}catch(Fa){Fa.message+="\nPlease report this to https://github.com/markedjs/marked.";if(oa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+P(Fa.message+"",!0)+"\x3c/pre\x3e";throw Fa;}};g.Parser=T;g.parser=T.parse;g.Renderer=Na;g.TextRenderer=Ta;g.Lexer=Wa;g.lexer=Wa.lex;g.Tokenizer=B;g.Slugger=
za;return g.parse=g})};
shadow$provide[16]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={}))})(this,function(m){function l(pa,T,W){pa.fields=T||[];pa.fname=W;return pa}function w(pa){return null==pa?null:pa.fields}function G(pa){return 1===pa.length?S(pa[0]):U(pa)}function L(pa){throw Error(pa);}function v(pa){function T(){W.push(ea+pa.substring(oa,ba));ea="";
oa=ba+1}const W=[],M=pa.length;let P=null,ca=0,ea="",oa,ba,Fa;pa+="";for(oa=ba=0;ba<M;++ba)(Fa=pa[ba],"\\"===Fa)?(ea+=pa.substring(oa,ba),ea+=pa.substring(++ba,++ba),oa=ba):Fa===P?(T(),P=null,ca=-1):P||(oa===ca&&'"'===Fa?(oa=ba+1,P=Fa):oa===ca&&"'"===Fa?(oa=ba+1,P=Fa):"."!==Fa||ca?"["===Fa?(ba>oa&&T(),ca=oa=ba+1):"]"===Fa&&(ca||L("Access path missing open bracket: "+pa),0<ca&&T(),ca=0,oa=ba+1):ba>oa?T():oa=ba+1);ca&&L("Access path missing closing bracket: "+pa);P&&L("Access path missing closing quote: "+
pa);ba>oa&&(ba++,T());return W}function u(pa,T,W){const M=v(pa);pa=1===M.length?M[0]:pa;return l((W&&W.get||G)(M),[pa],T||pa)}function t(pa,T,W){T=[T].concat([].slice.call(W));console[pa].apply(console,T)}function k(pa){return pa===Object(pa)}function f(pa,T,W,M){if("__proto__"!==T){var P;if(k(W)&&!B(W))for(P in pa=k(pa[T])?pa[T]:pa[T]={},W)M&&(!0===M||M[P])?f(pa,P,W[P]):"__proto__"!==P&&(pa[P]=W[P]);else pa[T]=W}}function d(pa,T){function W(ca){M[ca.name]||(M[ca.name]=1,P.push(ca))}if(null==pa)return T;
const M={},P=[];T.forEach(W);pa.forEach(W);return P}function g(pa){return pa[pa.length-1]}function a(pa){return null==pa||""===pa?null:+pa}function e(pa,T,W,M){const P=W(pa[0]);pa=W(g(pa));T*=pa-P;return[M(P-T),M(pa-T)]}function n(pa,T,W,M,P){const ca=M(pa[0]);pa=M(g(pa));T=null!=T?M(T):(ca+pa)/2;return[P(T+(ca-T)*W),P(T+(pa-T)*W)]}function y(pa){return null!=pa?B(pa)?pa:[pa]:[]}function A(pa){return"function"===typeof pa}function C(pa){for(let T,W,M=1,P=arguments.length;M<P;++M)for(W in T=arguments[M],
T)pa[W]=T[W];return pa}function N(pa,T){return Na.call(pa,T)}function K(pa){return"[object Date]"===Object.prototype.toString.call(pa)}function E(pa){return"number"===typeof pa}function x(pa){return"string"===typeof pa}function D(pa,T){let W="";for(;0<=--T;)W+=pa;return W}function H(pa){return B(pa)?"["+pa.map(H)+"]":k(pa)||x(pa)?JSON.stringify(pa).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):pa}const S=pa=>function(T){return T[pa]},U=pa=>{const T=pa.length;return function(W){for(let M=
0;M<T;++M)W=W[pa[M]];return W}},ia=u("id"),fa=l(pa=>pa,[],"identity"),ja=l(()=>0,[],"zero"),la=l(()=>1,[],"one"),da=l(()=>!0,[],"true"),O=l(()=>!1,[],"false");var B=Array.isArray;const Y=pa=>T=>pa*Math.exp(T),ka=pa=>T=>Math.log(pa*T),Z=pa=>T=>Math.sign(T)*Math.log1p(Math.abs(T/pa)),wa=pa=>T=>Math.sign(T)*Math.expm1(Math.abs(T))*pa,xa=pa=>T=>0>T?-Math.pow(-T,pa):Math.pow(T,pa),Da=(pa,T)=>(pa<T||null==pa)&&null!=T?-1:(pa>T||null==T)&&null!=pa?1:(T=T instanceof Date?+T:T,pa=pa instanceof Date?+pa:pa)!==
pa&&T===T?-1:T!==T&&pa===pa?1:0,Wa=(pa,T)=>1===pa.length?gb(pa[0],T[0]):ra(pa,T,pa.length),gb=(pa,T)=>function(W,M){return Da(pa(W),pa(M))*T},ra=(pa,T,W)=>{T.push(0);return function(M,P){var ca=0;let ea=-1;for(;0===ca&&++ea<W;)ca=pa[ea],ca=Da(ca(M),ca(P));return ca*T[ea]}},Na=Object.prototype.hasOwnProperty,Ta={},za=pa=>E(pa)?pa:K(pa)?pa:Date.parse(pa);m.Debug=4;m.Error=1;m.Info=3;m.None=0;m.Warn=2;m.accessor=l;m.accessorFields=w;m.accessorName=function(pa){return null==pa?null:pa.fname};m.array=
y;m.ascending=Da;m.clampRange=function(pa,T,W){let M=pa[0];pa=pa[1];let P;pa<M&&(P=pa,pa=M,M=P);P=pa-M;return P>=W-T?[T,W]:[M=Math.min(Math.max(M,T),W-P),M+P]};m.compare=function(pa,T,W){W=W||{};T=y(T)||[];const M=[],P=[],ca={},ea=W.comparator||Wa;y(pa).forEach((oa,ba)=>{null!=oa&&(M.push("descending"===T[ba]?-1:1),P.push(oa=A(oa)?oa:u(oa,null,W)),(w(oa)||[]).forEach(Fa=>ca[Fa]=1))});return 0===P.length?null:l(ea(P,M),Object.keys(ca))};m.constant=function(pa){return A(pa)?pa:()=>pa};m.debounce=function(pa,
T){let W;return M=>{W&&clearTimeout(W);W=setTimeout(()=>(T(M),W=null),pa)}};m.error=L;m.extend=C;m.extent=function(pa,T){let W=0,M,P,ca,ea;if(pa&&(M=pa.length))if(null==T){for(P=pa[W];W<M&&(null==P||P!==P);P=pa[++W]);for(ca=ea=P;W<M;++W)P=pa[W],null!=P&&(P<ca&&(ca=P),P>ea&&(ea=P))}else{for(P=T(pa[W]);W<M&&(null==P||P!==P);P=T(pa[++W]));for(ca=ea=P;W<M;++W)P=T(pa[W]),null!=P&&(P<ca&&(ca=P),P>ea&&(ea=P))}return[ca,ea]};m.extentIndex=function(pa,T){const W=pa.length;let M=-1,P,ca,ea,oa,ba;if(null==T){for(;++M<
W;)if(ca=pa[M],null!=ca&&ca>=ca){P=ea=ca;break}if(M===W)return[-1,-1];for(oa=ba=M;++M<W;)ca=pa[M],null!=ca&&(P>ca&&(P=ca,oa=M),ea<ca&&(ea=ca,ba=M))}else{for(;++M<W;)if(ca=T(pa[M],M,pa),null!=ca&&ca>=ca){P=ea=ca;break}if(M===W)return[-1,-1];for(oa=ba=M;++M<W;)ca=T(pa[M],M,pa),null!=ca&&(P>ca&&(P=ca,oa=M),ea<ca&&(ea=ca,ba=M))}return[oa,ba]};m.falsy=O;m.fastmap=function(pa){function T(ca){return N(W,ca)&&W[ca]!==Ta}let W={},M;const P={size:0,empty:0,object:W,has:T,get(ca){return T(ca)?W[ca]:void 0},
set(ca,ea){T(ca)||(++P.size,W[ca]===Ta&&--P.empty);W[ca]=ea;return this},delete(ca){T(ca)&&(--P.size,++P.empty,W[ca]=Ta);return this},clear(){P.size=P.empty=0;P.object=W={}},test(ca){return arguments.length?(M=ca,P):M},clean(){const ca={};let ea=0;for(const oa in W){const ba=W[oa];ba===Ta||M&&M(ba)||(ca[oa]=ba,++ea)}P.size=ea;P.empty=0;P.object=W=ca}};pa&&Object.keys(pa).forEach(ca=>{P.set(ca,pa[ca])});return P};m.field=u;m.flush=function(pa,T,W,M,P,ca){if(!W&&0!==W)return ca;W=+W;let ea=pa[0],oa=
g(pa);oa<ea&&(pa=ea,ea=oa,oa=pa);pa=Math.abs(T-ea);T=Math.abs(oa-T);return pa<T&&pa<=W?M:T<=W?P:ca};m.hasOwnProperty=N;m.id=ia;m.identity=fa;m.inherits=function(pa,T,W){T=pa.prototype=Object.create(T.prototype);T.constructor=pa;return C(T,W)};m.inrange=function(pa,T,W,M){let P=T[0];T=T[T.length-1];let ca;P>T&&(ca=P,P=T,T=ca);return(void 0===W||W?P<=pa:P<pa)&&(void 0===M||M?pa<=T:pa<T)};m.isArray=B;m.isBoolean=function(pa){return"boolean"===typeof pa};m.isDate=K;m.isFunction=A;m.isIterable=function(pa){return pa&&
A(pa[Symbol.iterator])};m.isNumber=E;m.isObject=k;m.isRegExp=function(pa){return"[object RegExp]"===Object.prototype.toString.call(pa)};m.isString=x;m.key=function(pa,T,W){pa&&(pa=T?y(pa).map(ca=>ca.replace(/\\(.)/g,"$1")):y(pa));const M=pa&&pa.length,P=W&&W.get||G;W=ca=>P(T?[ca]:v(ca));if(M)if(1===M){const ca=W(pa[0]);W=function(ea){return""+ca(ea)}}else{const ca=pa.map(W);W=function(ea){let oa=""+ca[0](ea),ba=0;for(;++ba<M;)oa+="|"+ca[ba](ea);return oa}}else W=function(){return""};return l(W,pa,
"key")};m.lerp=function(pa,T){const W=pa[0];pa=g(pa);return(T=+T)?1===T?pa:W+T*(pa-W):W};m.logger=function(pa,T){let W=pa||0;return{level(M){return arguments.length?(W=+M,this):W},error(){1<=W&&t(T||"error","ERROR",arguments);return this},warn(){2<=W&&t(T||"warn","WARN",arguments);return this},info(){3<=W&&t(T||"log","INFO",arguments);return this},debug(){4<=W&&t(T||"log","DEBUG",arguments);return this}}};m.lruCache=function(pa){pa=+pa||1E4;let T,W,M;const P=()=>{T={};W={};M=0},ca=(ea,oa)=>{++M>pa&&
(W=T,T={},M=1);return T[ea]=oa};P();return{clear:P,has:ea=>N(T,ea)||N(W,ea),get:ea=>N(T,ea)?T[ea]:N(W,ea)?ca(ea,W[ea]):void 0,set:(ea,oa)=>N(T,ea)?T[ea]=oa:ca(ea,oa)}};m.merge=function(pa,T,W,M){const P=T.length,ca=W.length;if(!ca)return T;if(!P)return W;M=M||new T.constructor(P+ca);let ea=0,oa=0,ba=0;for(;ea<P&&oa<ca;++ba)M[ba]=0<pa(T[ea],W[oa])?W[oa++]:T[ea++];for(;ea<P;++ea,++ba)M[ba]=T[ea];for(;oa<ca;++oa,++ba)M[ba]=W[oa];return M};m.mergeConfig=function(...pa){return pa.reduce((T,W)=>{for(const M in W)"signals"===
M?T.signals=d(T.signals,W.signals):f(T,M,W[M],"legend"===M?{layout:1}:"style"===M?!0:null);return T},{})};m.one=la;m.pad=function(pa,T,W,M){W=W||" ";pa+="";T-=pa.length;return 0>=T?pa:"left"===M?D(W,T)+pa:"center"===M?D(W,~~(T/2))+pa+D(W,Math.ceil(T/2)):pa+D(W,T)};m.panLinear=function(pa,T){return e(pa,T,a,fa)};m.panLog=function(pa,T){var W=Math.sign(pa[0]);return e(pa,T,ka(W),Y(W))};m.panPow=function(pa,T,W){return e(pa,T,xa(W),xa(1/W))};m.panSymlog=function(pa,T,W){return e(pa,T,Z(W),wa(W))};m.peek=
g;m.quarter=function(pa){return 1+~~((new Date(pa)).getMonth()/3)};m.repeat=D;m.span=function(pa){return pa&&g(pa)-pa[0]||0};m.splitAccessPath=v;m.stringValue=H;m.toBoolean=function(pa){return null==pa||""===pa?null:pa&&"false"!==pa&&"0"!==pa?!!pa:!1};m.toDate=function(pa,T){T=T||za;return null==pa||""===pa?null:T(pa)};m.toNumber=a;m.toSet=function(pa){const T={},W=pa.length;for(let M=0;M<W;++M)T[pa[M]]=!0;return T};m.toString=function(pa){return null==pa||""===pa?null:pa+""};m.truncate=function(pa,
T,W,M){M=null!=M?M:"";pa+="";const P=pa.length,ca=Math.max(0,T-M.length);return P<=T?pa:"left"===W?M+pa.slice(P-ca):"center"===W?pa.slice(0,Math.ceil(ca/2))+M+pa.slice(P-~~(ca/2)):pa.slice(0,ca)+M};m.truthy=da;m.utcquarter=function(pa){return 1+~~((new Date(pa)).getUTCMonth()/3)};m.visitArray=function(pa,T,W){if(pa)if(T){const M=pa.length;for(let P=0;P<M;++P){const ca=T(pa[P]);ca&&W(ca,P,pa)}}else pa.forEach(W)};m.writeConfig=f;m.zero=ja;m.zoomLinear=function(pa,T,W){return n(pa,T,W,a,fa)};m.zoomLog=
function(pa,T,W){const M=Math.sign(pa[0]);return n(pa,T,W,ka(M),Y(M))};m.zoomPow=function(pa,T,W,M){return n(pa,T,W,xa(M),xa(1/M))};m.zoomSymlog=function(pa,T,W,M){return n(pa,T,W,Z(M),wa(M))};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(M,P){return M<P?-1:M>P?1:M>=P?0:NaN}function w(M){function P(oa,ba,Fa,Ra){null==Fa&&(Fa=0);null==Ra&&(Ra=oa.length);for(;Fa<Ra;){const Ma=Fa+Ra>>>1;0>ea(oa[Ma],ba)?Fa=Ma+1:Ra=Ma}return Fa}let ca=M,ea=M;1===M.length&&(ca=(oa,ba)=>M(oa)-
ba,ea=G(M));return{left:P,center:function(oa,ba,Fa,Ra){null==Fa&&(Fa=0);null==Ra&&(Ra=oa.length);Ra=P(oa,ba,Fa,Ra-1);return Ra>Fa&&ca(oa[Ra-1],ba)>-ca(oa[Ra],ba)?Ra-1:Ra},right:function(oa,ba,Fa,Ra){null==Fa&&(Fa=0);null==Ra&&(Ra=oa.length);for(;Fa<Ra;){const Ma=Fa+Ra>>>1;0<ea(oa[Ma],ba)?Ra=Ma:Fa=Ma+1}return Fa}}}function G(M){return(P,ca)=>l(M(P),ca)}function L(M){return null===M?NaN:+M}function*v(M,P){if(void 0===P)for(var ca of M)null!=ca&&(ca=+ca)>=ca&&(yield ca);else{ca=-1;for(let ea of M)null!=
(ea=P(ea,++ca,M))&&(ea=+ea)>=ea&&(yield ea)}}function u(M,P){let ca=0;if(void 0===P)for(var ea of M)null!=ea&&(ea=+ea)>=ea&&++ca;else{ea=-1;for(let oa of M)null!=(oa=P(oa,++ea,M))&&(oa=+oa)>=oa&&++ca}return ca}function t(M){return M.length|0}function k(M){return!(0<M)}function f(M){return"object"!==typeof M||"length"in M?M:Array.from(M)}function d(M){return P=>M(...P)}function g(M,P){let ca=0,ea,oa=0,ba=0;if(void 0===P)for(var Fa of M)null!=Fa&&(Fa=+Fa)>=Fa&&(ea=Fa-oa,oa+=ea/++ca,ba+=ea*(Fa-oa));
else{Fa=-1;for(let Ra of M)null!=(Ra=P(Ra,++Fa,M))&&(Ra=+Ra)>=Ra&&(ea=Ra-oa,oa+=ea/++ca,ba+=ea*(Ra-oa))}if(1<ca)return ba/(ca-1)}function a(M,P){return(M=g(M,P))?Math.sqrt(M):M}function e(M,P){let ca,ea;if(void 0===P)for(var oa of M)null!=oa&&(void 0===ca?oa>=oa&&(ca=ea=oa):(ca>oa&&(ca=oa),ea<oa&&(ea=oa)));else{oa=-1;for(let ba of M)null!=(ba=P(ba,++oa,M))&&(void 0===ca?ba>=ba&&(ca=ea=ba):(ca>ba&&(ca=ba),ea<ba&&(ea=ba)))}return[ca,ea]}function n(M){return M}function y(M){if(1!==M.length)throw Error("duplicate key");
return M[0]}function A(M,P,ca,ea){return function Ra(ba,Fa){if(Fa>=ea.length)return ca(ba);const Ma=new Map,db=ea[Fa++];let ab=-1;for(const Ba of ba){const Sa=db(Ba,++ab,ba),lb=Ma.get(Sa);lb?lb.push(Ba):Ma.set(Sa,[Ba])}for(const [Ba,Sa]of Ma)Ma.set(Ba,Ra(Sa,Fa));return P(Ma)}(M,0)}function C(M){return function(){return M}}function N(M,P,ca){var ea,oa=-1,ba;P=+P;M=+M;ca=+ca;if(M===P&&0<ca)return[M];if(ea=P<M){var Fa=M;M=P;P=Fa}if(0===(ba=K(M,P,ca))||!isFinite(ba))return[];if(0<ba)for(M=Math.ceil(M/
ba),P=Math.floor(P/ba),P=Array(Fa=Math.ceil(P-M+1));++oa<Fa;)P[oa]=(M+oa)*ba;else for(ba=-ba,M=Math.ceil(M*ba),P=Math.floor(P*ba),P=Array(Fa=Math.ceil(P-M+1));++oa<Fa;)P[oa]=(M+oa)/ba;ea&&P.reverse();return P}function K(M,P,ca){P=(P-M)/Math.max(0,ca);M=Math.floor(Math.log(P)/Math.LN10);P/=Math.pow(10,M);return 0<=M?(P>=za?10:P>=pa?5:P>=T?2:1)*Math.pow(10,M):-Math.pow(10,-M)/(P>=za?10:P>=pa?5:P>=T?2:1)}function E(M,P,ca){let ea;for(;;){const oa=K(M,P,ca);if(oa===ea||0===oa||!isFinite(oa))return[M,
P];0<oa?(M=Math.floor(M/oa)*oa,P=Math.ceil(P/oa)*oa):0>oa&&(M=Math.ceil(M*oa)/oa,P=Math.floor(P*oa)/oa);ea=oa}}function x(M){return Math.ceil(Math.log(u(M))/Math.LN2)+1}function D(){function M(oa){Array.isArray(oa)||(oa=Array.from(oa));var ba,Fa=oa.length,Ra=Array(Fa);for(ba=0;ba<Fa;++ba)Ra[ba]=P(oa[ba],ba,oa);var Ma=ca(Ra),db=Ma[0];Ma=Ma[1];var ab=ea(Ra,db,Ma);if(!Array.isArray(ab)){ba=Ma;var Ba=+ab;ca===e&&([db,Ma]=E(db,Ma,Ba));ab=N(db,Ma,Ba);ab[ab.length-1]>=Ma&&(ba>=Ma&&ca===e?(ba=K(db,Ma,Ba),
isFinite(ba)&&(0<ba?Ma=(Math.floor(Ma/ba)+1)*ba:0>ba&&(Ma=(Math.ceil(Ma*-ba)+1)/-ba))):ab.pop())}for(Ba=ab.length;ab[0]<=db;)ab.shift(),--Ba;for(;ab[Ba-1]>Ma;)ab.pop(),--Ba;var Sa=Array(Ba+1);for(ba=0;ba<=Ba;++ba){var lb=Sa[ba]=[];lb.x0=0<ba?ab[ba-1]:db;lb.x1=ba<Ba?ab[ba]:Ma}for(ba=0;ba<Fa;++ba)lb=Ra[ba],db<=lb&&lb<=Ma&&Sa[gb(ab,lb,0,Ba)].push(oa[ba]);return Sa}var P=n,ca=e,ea=x;M.value=function(oa){return arguments.length?(P="function"===typeof oa?oa:C(oa),M):P};M.domain=function(oa){return arguments.length?
(ca="function"===typeof oa?oa:C([oa[0],oa[1]]),M):ca};M.thresholds=function(oa){return arguments.length?(ea="function"===typeof oa?oa:Array.isArray(oa)?C(Ta.call(oa)):C(oa),M):ea};return M}function H(M,P){let ca;if(void 0===P)for(var ea of M)null!=ea&&(ca<ea||void 0===ca&&ea>=ea)&&(ca=ea);else{ea=-1;for(let oa of M)null!=(oa=P(oa,++ea,M))&&(ca<oa||void 0===ca&&oa>=oa)&&(ca=oa)}return ca}function S(M,P){let ca;if(void 0===P)for(var ea of M)null!=ea&&(ca>ea||void 0===ca&&ea>=ea)&&(ca=ea);else{ea=-1;
for(let oa of M)null!=(oa=P(oa,++ea,M))&&(ca>oa||void 0===ca&&oa>=oa)&&(ca=oa)}return ca}function U(M,P,ca=0,ea=M.length-1,oa=l){for(;ea>ca;){if(600<ea-ca){var ba=ea-ca+1,Fa=P-ca+1,Ra=Math.log(ba),Ma=.5*Math.exp(2*Ra/3);Ra=.5*Math.sqrt(Ra*Ma*(ba-Ma)/ba)*(0>Fa-ba/2?-1:1);U(M,P,Math.max(ca,Math.floor(P-Fa*Ma/ba+Ra)),Math.min(ea,Math.floor(P+(ba-Fa)*Ma/ba+Ra)),oa)}ba=M[P];Fa=ca;Ma=ea;ia(M,ca,P);for(0<oa(M[ea],ba)&&ia(M,ca,ea);Fa<Ma;){ia(M,Fa,Ma);++Fa;for(--Ma;0>oa(M[Fa],ba);)++Fa;for(;0<oa(M[Ma],ba);)--Ma}0===
oa(M[ca],ba)?ia(M,ca,Ma):(++Ma,ia(M,Ma,ea));Ma<=P&&(ca=Ma+1);P<=Ma&&(ea=Ma-1)}return M}function ia(M,P,ca){const ea=M[P];M[P]=M[ca];M[ca]=ea}function fa(M,P,ca){M=Float64Array.from(v(M,ca));if(ca=M.length){if(0>=(P=+P)||2>ca)return S(M);if(1<=P)return H(M);P*=ca-1;ca=Math.floor(P);var ea=H(U(M,ca).subarray(0,ca+1));M=S(M.subarray(ca+1));return ea+(M-ea)*(P-ca)}}function ja(M,P){let ca,ea=-1,oa=-1;if(void 0===P)for(const ba of M)++oa,null!=ba&&(ca<ba||void 0===ca&&ba>=ba)&&(ca=ba,ea=oa);else for(let ba of M)null!=
(ba=P(ba,++oa,M))&&(ca<ba||void 0===ca&&ba>=ba)&&(ca=ba,ea=oa);return ea}function*la(M){for(const P of M)yield*P}function da(M,P){let ca,ea=-1,oa=-1;if(void 0===P)for(const ba of M)++oa,null!=ba&&(ca>ba||void 0===ca&&ba>=ba)&&(ca=ba,ea=oa);else for(let ba of M)null!=(ba=P(ba,++oa,M))&&(ca>ba||void 0===ca&&ba>=ba)&&(ca=ba,ea=oa);return ea}function O(M,P){return[M,P]}function B(M,P){return Array.from(P,ca=>M[ca])}function Y(M,P=l){if(1===P.length)return da(M,P);let ca,ea=-1,oa=-1;for(const ba of M)if(++oa,
0>ea?0===P(ba,ba):0>P(ba,ca))ca=ba,ea=oa;return ea}function ka(M){return function(P,ca=0,ea=P.length){for(ea-=ca=+ca;ea;){const oa=M()*ea--|0,ba=P[ea+ca];P[ea+ca]=P[oa+ca];P[oa+ca]=ba}return P}}function Z(M){if(!(ba=M.length))return[];for(var P=-1,ca=S(M,wa),ea=Array(ca);++P<ca;)for(var oa=-1,ba,Fa=ea[P]=Array(ba);++oa<ba;)Fa[oa]=M[oa][P];return ea}function wa(M){return M.length}function xa(M){return M instanceof Set?M:new Set(M)}function Da(M,P){M=M[Symbol.iterator]();const ca=new Set;for(const ea of P){if(ca.has(ea))continue;
let oa;for(;{value:P,done:oa}=M.next();){if(oa)return!1;ca.add(P);if(Object.is(ea,P))break}}return!0}var Wa=w(l);const gb=Wa.right;Wa=Wa.left;const ra=w(L).center;class Na{constructor(){this._partials=new Float64Array(32);this._n=0}add(M){const P=this._partials;let ca=0;for(let ea=0;ea<this._n&&32>ea;ea++){const oa=P[ea],ba=M+oa;(M=Math.abs(M)<Math.abs(oa)?M-(ba-oa):oa-(ba-M))&&(P[ca++]=M);M=ba}P[ca]=M;this._n=ca+1;return this}valueOf(){const M=this._partials;let P=this._n;let ca,ea=0;if(0<P){for(ea=
M[--P];0<P;){var oa=ea;ca=M[--P];ea=oa+ca;if(oa=ca-(ea-oa))break}0<P&&(0>oa&&0>M[P-1]||0<oa&&0<M[P-1])&&(ca=2*oa,oa=ea+ca,ca==oa-ea&&(ea=oa))}return ea}}var Ta=Array.prototype.slice,za=Math.sqrt(50),pa=Math.sqrt(10),T=Math.sqrt(2),W=ka(Math.random);m.Adder=Na;m.ascending=l;m.bin=D;m.bisect=gb;m.bisectCenter=ra;m.bisectLeft=Wa;m.bisectRight=gb;m.bisector=w;m.count=u;m.cross=function(...M){const P="function"===typeof M[M.length-1]&&d(M.pop());M=M.map(f);const ca=M.map(t),ea=M.length-1,oa=Array(ea+1).fill(0),
ba=[];if(0>ea||ca.some(k))return ba;for(;;){ba.push(oa.map((Ra,Ma)=>M[Ma][Ra]));let Fa=ea;for(;++oa[Fa]===ca[Fa];){if(0===Fa)return P?ba.map(P):ba;oa[Fa--]=0}}};m.cumsum=function(M,P){var ca=0,ea=0;return Float64Array.from(M,void 0===P?oa=>ca+=+oa||0:oa=>ca+=+P(oa,ea++,M)||0)};m.descending=function(M,P){return P<M?-1:P>M?1:P>=M?0:NaN};m.deviation=a;m.difference=function(M,...P){M=new Set(M);for(const ca of P)for(const ea of ca)M.delete(ea);return M};m.disjoint=function(M,P){P=P[Symbol.iterator]();
const ca=new Set;for(const ea of M){if(ca.has(ea))return!1;let oa;for(;({value:M,done:oa}=P.next())&&!oa;){if(Object.is(ea,M))return!1;ca.add(M)}}return!0};m.every=function(M,P){if("function"!==typeof P)throw new TypeError("test is not a function");let ca=-1;for(const ea of M)if(!P(ea,++ca,M))return!1;return!0};m.extent=e;m.filter=function(M,P){if("function"!==typeof P)throw new TypeError("test is not a function");const ca=[];let ea=-1;for(const oa of M)P(oa,++ea,M)&&ca.push(oa);return ca};m.fsum=
function(M,P){const ca=new Na;if(void 0===P)for(var ea of M)(ea=+ea)&&ca.add(ea);else{ea=-1;for(let oa of M)(oa=+P(oa,++ea,M))&&ca.add(oa)}return+ca};m.greatest=function(M,P=l){let ca,ea=!1;if(1===P.length){let oa;for(const ba of M)if(M=P(ba),ea?0<l(M,oa):0===l(M,M))ca=ba,oa=M,ea=!0}else for(const oa of M)if(ea?0<P(oa,ca):0===P(oa,oa))ca=oa,ea=!0;return ca};m.greatestIndex=function(M,P=l){if(1===P.length)return ja(M,P);let ca,ea=-1,oa=-1;for(const ba of M)if(++oa,0>ea?0===P(ba,ba):0<P(ba,ca))ca=ba,
ea=oa;return ea};m.group=function(M,...P){return A(M,n,n,P)};m.groups=function(M,...P){return A(M,Array.from,n,P)};m.histogram=D;m.index=function(M,...P){return A(M,n,y,P)};m.indexes=function(M,...P){return A(M,Array.from,y,P)};m.intersection=function(M,...P){M=new Set(M);P=P.map(xa);a:for(const ca of M)for(const ea of P)if(!ea.has(ca)){M.delete(ca);continue a}return M};m.least=function(M,P=l){let ca,ea=!1;if(1===P.length){let oa;for(const ba of M)if(M=P(ba),ea?0>l(M,oa):0===l(M,M))ca=ba,oa=M,ea=
!0}else for(const oa of M)if(ea?0>P(oa,ca):0===P(oa,oa))ca=oa,ea=!0;return ca};m.leastIndex=Y;m.map=function(M,P){if("function"!==typeof M[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof P)throw new TypeError("mapper is not a function");return Array.from(M,(ca,ea)=>P(ca,ea,M))};m.max=H;m.maxIndex=ja;m.mean=function(M,P){let ca=0,ea=0;if(void 0===P)for(var oa of M)null!=oa&&(oa=+oa)>=oa&&(++ca,ea+=oa);else{oa=-1;for(let ba of M)null!=(ba=P(ba,++oa,M))&&(ba=+ba)>=
ba&&(++ca,ea+=ba)}if(ca)return ea/ca};m.median=function(M,P){return fa(M,.5,P)};m.merge=function(M){return Array.from(la(M))};m.min=S;m.minIndex=da;m.nice=E;m.pairs=function(M,P=O){const ca=[];let ea,oa=!1;for(const ba of M)oa&&ca.push(P(ea,ba)),ea=ba,oa=!0;return ca};m.permute=B;m.quantile=fa;m.quantileSorted=function(M,P,ca=L){if(ea=M.length){if(0>=(P=+P)||2>ea)return+ca(M[0],0,M);if(1<=P)return+ca(M[ea-1],ea-1,M);var ea;P*=ea-1;ea=Math.floor(P);var oa=+ca(M[ea],ea,M);M=+ca(M[ea+1],ea+1,M);return oa+
(M-oa)*(P-ea)}};m.quickselect=U;m.range=function(M,P,ca){M=+M;P=+P;ca=2>(oa=arguments.length)?(P=M,M=0,1):3>oa?1:+ca;for(var ea=-1,oa=Math.max(0,Math.ceil((P-M)/ca))|0,ba=Array(oa);++ea<oa;)ba[ea]=M+ea*ca;return ba};m.reduce=function(M,P,ca){if("function"!==typeof P)throw new TypeError("reducer is not a function");const ea=M[Symbol.iterator]();let oa,ba,Fa=-1;if(3>arguments.length){({done:oa,value:ca}=ea.next());if(oa)return;++Fa}for(;{done:oa,value:ba}=ea.next(),!oa;)ca=P(ca,ba,++Fa,M);return ca};
m.reverse=function(M){if("function"!==typeof M[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(M).reverse()};m.rollup=function(M,P,...ca){return A(M,n,P,ca)};m.rollups=function(M,P,...ca){return A(M,Array.from,P,ca)};m.scan=function(M,P){M=Y(M,P);return 0>M?void 0:M};m.shuffle=W;m.shuffler=ka;m.some=function(M,P){if("function"!==typeof P)throw new TypeError("test is not a function");let ca=-1;for(const ea of M)if(P(ea,++ca,M))return!0;return!1};m.sort=function(M,P=
l){if("function"!==typeof M[Symbol.iterator])throw new TypeError("values is not iterable");M=Array.from(M);return 1===P.length?(P=M.map(P),B(M,M.map((ca,ea)=>ea).sort((ca,ea)=>l(P[ca],P[ea])))):M.sort(P)};m.subset=function(M,P){return Da(P,M)};m.sum=function(M,P){let ca=0;if(void 0===P)for(var ea of M){if(ea=+ea)ca+=ea}else{ea=-1;for(let oa of M)if(oa=+P(oa,++ea,M))ca+=oa}return ca};m.superset=Da;m.thresholdFreedmanDiaconis=function(M,P,ca){return Math.ceil((ca-P)/(2*(fa(M,.75)-fa(M,.25))*Math.pow(u(M),
-1/3)))};m.thresholdScott=function(M,P,ca){return Math.ceil((ca-P)/(3.5*a(M)*Math.pow(u(M),-1/3)))};m.thresholdSturges=x;m.tickIncrement=K;m.tickStep=function(M,P,ca){var ea=Math.abs(P-M)/Math.max(0,ca);ca=Math.pow(10,Math.floor(Math.log(ea)/Math.LN10));ea/=ca;ea>=za?ca*=10:ea>=pa?ca*=5:ea>=T&&(ca*=2);return P<M?-ca:ca};m.ticks=N;m.transpose=Z;m.union=function(...M){const P=new Set;for(const ca of M)for(const ea of ca)P.add(ea);return P};m.variance=g;m.zip=function(){return Z(arguments)};Object.defineProperty(m,
"__esModule",{value:!0})})};
shadow$provide[18]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(C,N){if(0>(N=(C=N?C.toExponential(N-1):C.toExponential()).indexOf("e")))return null;var K=C.slice(0,N);return[1<K.length?K[0]+K.slice(2):K,+C.slice(N+1)]}function w(C){return C=l(Math.abs(C)),C?C[1]:NaN}function G(C,N){return function(K,
E){for(var x=K.length,D=[],H=0,S=C[0],U=0;0<x&&0<S;){U+S+1>E&&(S=Math.max(1,E-U));D.push(K.substring(x-=S,x+S));if((U+=S+1)>E)break;S=C[H=(H+1)%C.length]}return D.reverse().join(N)}}function L(C){return function(N){return N.replace(/[0-9]/g,function(K){return C[+K]})}}function v(C){if(!(N=g.exec(C)))throw Error("invalid format: "+C);var N;return new u({fill:N[1],align:N[2],sign:N[3],symbol:N[4],zero:N[5],width:N[6],comma:N[7],precision:N[8]&&N[8].slice(1),trim:N[9],type:N[10]})}function u(C){this.fill=
void 0===C.fill?" ":C.fill+"";this.align=void 0===C.align?"\x3e":C.align+"";this.sign=void 0===C.sign?"-":C.sign+"";this.symbol=void 0===C.symbol?"":C.symbol+"";this.zero=!!C.zero;this.width=void 0===C.width?void 0:+C.width;this.comma=!!C.comma;this.precision=void 0===C.precision?void 0:+C.precision;this.trim=!!C.trim;this.type=void 0===C.type?"":C.type+""}function t(C,N){N=l(C,N);if(!N)return C+"";C=N[0];N=N[1];return 0>N?"0."+Array(-N).join("0")+C:C.length>N+1?C.slice(0,N+1)+"."+C.slice(N+1):C+
Array(N-C.length+2).join("0")}function k(C){return C}function f(C){function N(fa){function ja(Ta){var za=Wa,pa=gb,T,W;if("c"===Da)pa=ra(Ta)+pa,Ta="";else{Ta=+Ta;var M=0>Ta||0>1/Ta;Ta=isNaN(Ta)?ia:ra(Math.abs(Ta),wa);if(xa){var P=Ta.length,ca=1,ea=-1;a:for(;ca<P;++ca)switch(Ta[ca]){case ".":ea=T=ca;break;case "0":0===ea&&(ea=ca);T=ca;break;default:if(!+Ta[ca])break a;0<ea&&(ea=0)}Ta=0<ea?Ta.slice(0,ea)+Ta.slice(T+1):Ta}M&&0===+Ta&&"+"!==O&&(M=!1);za=(M?"("===O?O:U:"-"===O||"("===O?"":O)+za;pa=("s"===
Da?y[8+a/3]:"")+pa+(M&&"("===O?")":"");if(Na)for(M=-1,T=Ta.length;++M<T;)if(W=Ta.charCodeAt(M),48>W||57<W){pa=(46===W?D+Ta.slice(M+1):Ta.slice(M))+pa;Ta=Ta.slice(0,M);break}}Z&&!Y&&(Ta=K(Ta,Infinity));W=za.length+Ta.length+pa.length;M=W<ka?Array(ka-W+1).join(la):"";Z&&Y&&(Ta=K(M+Ta,M.length?ka-pa.length:Infinity),M="");switch(da){case "\x3c":Ta=za+Ta+pa+M;break;case "\x3d":Ta=za+M+Ta+pa;break;case "^":Ta=M.slice(0,W=M.length>>1)+za+Ta+pa+M.slice(W);break;default:Ta=M+za+Ta+pa}return H(Ta)}fa=v(fa);
var la=fa.fill,da=fa.align,O=fa.sign,B=fa.symbol,Y=fa.zero,ka=fa.width,Z=fa.comma,wa=fa.precision,xa=fa.trim,Da=fa.type;"n"===Da?(Z=!0,Da="g"):e[Da]||(void 0===wa&&(wa=12),xa=!0,Da="g");if(Y||"0"===la&&"\x3d"===da)Y=!0,la="0",da="\x3d";var Wa="$"===B?E:"#"===B&&/[boxX]/.test(Da)?"0"+Da.toLowerCase():"",gb="$"===B?x:/[%p]/.test(Da)?S:"",ra=e[Da],Na=/[defgprs%]/.test(Da);wa=void 0===wa?6:/[gprs]/.test(Da)?Math.max(1,Math.min(21,wa)):Math.max(0,Math.min(20,wa));ja.toString=function(){return fa+""};return ja}
var K=void 0===C.grouping||void 0===C.thousands?k:G(n.call(C.grouping,Number),C.thousands+""),E=void 0===C.currency?"":C.currency[0]+"",x=void 0===C.currency?"":C.currency[1]+"",D=void 0===C.decimal?".":C.decimal+"",H=void 0===C.numerals?k:L(n.call(C.numerals,String)),S=void 0===C.percent?"%":C.percent+"",U=void 0===C.minus?"":C.minus+"",ia=void 0===C.nan?"NaN":C.nan+"";return{format:N,formatPrefix:function(fa,ja){var la=N((fa=v(fa),fa.type="f",fa));fa=3*Math.max(-8,Math.min(8,Math.floor(w(ja)/3)));
var da=Math.pow(10,-fa),O=y[8+fa/3];return function(B){return la(da*B)+O}}}}function d(C){A=f(C);m.format=A.format;m.formatPrefix=A.formatPrefix;return A}var g=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;v.prototype=u.prototype;u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,e={"%":(C,N)=>(100*C).toFixed(N),b:C=>Math.round(C).toString(2),c:C=>C+"",d:function(C){return 1E21<=Math.abs(C=Math.round(C))?C.toLocaleString("en").replace(/,/g,""):C.toString(10)},e:(C,N)=>C.toExponential(N),f:(C,N)=>C.toFixed(N),g:(C,N)=>C.toPrecision(N),o:C=>Math.round(C).toString(8),p:(C,N)=>t(100*C,N),r:t,s:function(C,N){var K=l(C,N);if(!K)return C+"";var E=K[0];K=K[1];K=K-(a=3*Math.max(-8,Math.min(8,Math.floor(K/3))))+1;var x=E.length;return K===x?E:K>x?E+Array(K-
x+1).join("0"):0<K?E.slice(0,K)+"."+E.slice(K):"0."+Array(1-K).join("0")+l(C,Math.max(0,N+K-1))[0]},X:C=>Math.round(C).toString(16).toUpperCase(),x:C=>Math.round(C).toString(16)},n=Array.prototype.map,y="y z a f p n  m  k M G T P E Z Y".split(" "),A;d({thousands:",",grouping:[3],currency:["$",""]});m.FormatSpecifier=u;m.formatDefaultLocale=d;m.formatLocale=f;m.formatSpecifier=v;m.precisionFixed=function(C){return Math.max(0,-w(Math.abs(C)))};m.precisionPrefix=function(C,N){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(w(N)/3)))-w(Math.abs(C)))};m.precisionRound=function(C,N){C=Math.abs(C);N=Math.abs(N)-C;return Math.max(0,w(N)-w(C))+1};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(ab,Ba,Sa,lb){function ub(Jb){return ab(Jb=0===arguments.length?new Date:new Date(+Jb)),Jb}ub.floor=function(Jb){return ab(Jb=new Date(+Jb)),Jb};ub.ceil=function(Jb){return ab(Jb=new Date(Jb-1)),Ba(Jb,1),ab(Jb),Jb};ub.round=function(Jb){var bc=ub(Jb),wc=ub.ceil(Jb);return Jb-bc<
wc-Jb?bc:wc};ub.offset=function(Jb,bc){return Ba(Jb=new Date(+Jb),null==bc?1:Math.floor(bc)),Jb};ub.range=function(Jb,bc,wc){var $c=[],kc;Jb=ub.ceil(Jb);wc=null==wc?1:Math.floor(wc);if(!(Jb<bc&&0<wc))return $c;do $c.push(kc=new Date(+Jb)),Ba(Jb,wc),ab(Jb);while(kc<Jb&&Jb<bc);return $c};ub.filter=function(Jb){return l(function(bc){if(bc>=bc)for(;ab(bc),!Jb(bc);)bc.setTime(bc-1)},function(bc,wc){if(bc>=bc)if(0>wc)for(;0>=++wc;)for(;Ba(bc,-1),!Jb(bc););else for(;0<=--wc;)for(;Ba(bc,1),!Jb(bc););})};
Sa&&(ub.count=function(Jb,bc){L.setTime(+Jb);v.setTime(+bc);ab(L);ab(v);return Math.floor(Sa(L,v))},ub.every=function(Jb){Jb=Math.floor(Jb);return isFinite(Jb)&&0<Jb?1<Jb?ub.filter(lb?function(bc){return 0===lb(bc)%Jb}:function(bc){return 0===ub.count(0,bc)%Jb}):ub:null});return ub}function w(ab){return l(function(Ba){Ba.setDate(Ba.getDate()-(Ba.getDay()+7-ab)%7);Ba.setHours(0,0,0,0)},function(Ba,Sa){Ba.setDate(Ba.getDate()+7*Sa)},function(Ba,Sa){return(Sa-Ba-6E4*(Sa.getTimezoneOffset()-Ba.getTimezoneOffset()))/
6048E5})}function G(ab){return l(function(Ba){Ba.setUTCDate(Ba.getUTCDate()-(Ba.getUTCDay()+7-ab)%7);Ba.setUTCHours(0,0,0,0)},function(Ba,Sa){Ba.setUTCDate(Ba.getUTCDate()+7*Sa)},function(Ba,Sa){return(Sa-Ba)/6048E5})}var L=new Date,v=new Date,u=l(function(){},function(ab,Ba){ab.setTime(+ab+Ba)},function(ab,Ba){return Ba-ab});u.every=function(ab){ab=Math.floor(ab);return isFinite(ab)&&0<ab?1<ab?l(function(Ba){Ba.setTime(Math.floor(Ba/ab)*ab)},function(Ba,Sa){Ba.setTime(+Ba+Sa*ab)},function(Ba,Sa){return(Sa-
Ba)/ab}):u:null};var t=u.range,k=l(function(ab){ab.setTime(ab-ab.getMilliseconds())},function(ab,Ba){ab.setTime(+ab+1E3*Ba)},function(ab,Ba){return(Ba-ab)/1E3},function(ab){return ab.getUTCSeconds()}),f=k.range,d=l(function(ab){ab.setTime(ab-ab.getMilliseconds()-1E3*ab.getSeconds())},function(ab,Ba){ab.setTime(+ab+6E4*Ba)},function(ab,Ba){return(Ba-ab)/6E4},function(ab){return ab.getMinutes()}),g=d.range,a=l(function(ab){ab.setTime(ab-ab.getMilliseconds()-1E3*ab.getSeconds()-6E4*ab.getMinutes())},
function(ab,Ba){ab.setTime(+ab+36E5*Ba)},function(ab,Ba){return(Ba-ab)/36E5},function(ab){return ab.getHours()}),e=a.range,n=l(ab=>ab.setHours(0,0,0,0),(ab,Ba)=>ab.setDate(ab.getDate()+Ba),(ab,Ba)=>(Ba-ab-6E4*(Ba.getTimezoneOffset()-ab.getTimezoneOffset()))/864E5,ab=>ab.getDate()-1),y=n.range,A=w(0),C=w(1),N=w(2),K=w(3),E=w(4),x=w(5),D=w(6),H=A.range,S=C.range,U=N.range,ia=K.range,fa=E.range,ja=x.range,la=D.range,da=l(function(ab){ab.setDate(1);ab.setHours(0,0,0,0)},function(ab,Ba){ab.setMonth(ab.getMonth()+
Ba)},function(ab,Ba){return Ba.getMonth()-ab.getMonth()+12*(Ba.getFullYear()-ab.getFullYear())},function(ab){return ab.getMonth()}),O=da.range,B=l(function(ab){ab.setMonth(0,1);ab.setHours(0,0,0,0)},function(ab,Ba){ab.setFullYear(ab.getFullYear()+Ba)},function(ab,Ba){return Ba.getFullYear()-ab.getFullYear()},function(ab){return ab.getFullYear()});B.every=function(ab){return isFinite(ab=Math.floor(ab))&&0<ab?l(function(Ba){Ba.setFullYear(Math.floor(Ba.getFullYear()/ab)*ab);Ba.setMonth(0,1);Ba.setHours(0,
0,0,0)},function(Ba,Sa){Ba.setFullYear(Ba.getFullYear()+Sa*ab)}):null};var Y=B.range,ka=l(function(ab){ab.setUTCSeconds(0,0)},function(ab,Ba){ab.setTime(+ab+6E4*Ba)},function(ab,Ba){return(Ba-ab)/6E4},function(ab){return ab.getUTCMinutes()}),Z=ka.range,wa=l(function(ab){ab.setUTCMinutes(0,0,0)},function(ab,Ba){ab.setTime(+ab+36E5*Ba)},function(ab,Ba){return(Ba-ab)/36E5},function(ab){return ab.getUTCHours()}),xa=wa.range,Da=l(function(ab){ab.setUTCHours(0,0,0,0)},function(ab,Ba){ab.setUTCDate(ab.getUTCDate()+
Ba)},function(ab,Ba){return(Ba-ab)/864E5},function(ab){return ab.getUTCDate()-1}),Wa=Da.range,gb=G(0),ra=G(1),Na=G(2),Ta=G(3),za=G(4),pa=G(5),T=G(6),W=gb.range,M=ra.range,P=Na.range,ca=Ta.range,ea=za.range,oa=pa.range,ba=T.range,Fa=l(function(ab){ab.setUTCDate(1);ab.setUTCHours(0,0,0,0)},function(ab,Ba){ab.setUTCMonth(ab.getUTCMonth()+Ba)},function(ab,Ba){return Ba.getUTCMonth()-ab.getUTCMonth()+12*(Ba.getUTCFullYear()-ab.getUTCFullYear())},function(ab){return ab.getUTCMonth()}),Ra=Fa.range,Ma=l(function(ab){ab.setUTCMonth(0,
1);ab.setUTCHours(0,0,0,0)},function(ab,Ba){ab.setUTCFullYear(ab.getUTCFullYear()+Ba)},function(ab,Ba){return Ba.getUTCFullYear()-ab.getUTCFullYear()},function(ab){return ab.getUTCFullYear()});Ma.every=function(ab){return isFinite(ab=Math.floor(ab))&&0<ab?l(function(Ba){Ba.setUTCFullYear(Math.floor(Ba.getUTCFullYear()/ab)*ab);Ba.setUTCMonth(0,1);Ba.setUTCHours(0,0,0,0)},function(Ba,Sa){Ba.setUTCFullYear(Ba.getUTCFullYear()+Sa*ab)}):null};var db=Ma.range;m.timeDay=n;m.timeDays=y;m.timeFriday=x;m.timeFridays=
ja;m.timeHour=a;m.timeHours=e;m.timeInterval=l;m.timeMillisecond=u;m.timeMilliseconds=t;m.timeMinute=d;m.timeMinutes=g;m.timeMonday=C;m.timeMondays=S;m.timeMonth=da;m.timeMonths=O;m.timeSaturday=D;m.timeSaturdays=la;m.timeSecond=k;m.timeSeconds=f;m.timeSunday=A;m.timeSundays=H;m.timeThursday=E;m.timeThursdays=fa;m.timeTuesday=N;m.timeTuesdays=U;m.timeWednesday=K;m.timeWednesdays=ia;m.timeWeek=A;m.timeWeeks=H;m.timeYear=B;m.timeYears=Y;m.utcDay=Da;m.utcDays=Wa;m.utcFriday=pa;m.utcFridays=oa;m.utcHour=
wa;m.utcHours=xa;m.utcMillisecond=u;m.utcMilliseconds=t;m.utcMinute=ka;m.utcMinutes=Z;m.utcMonday=ra;m.utcMondays=M;m.utcMonth=Fa;m.utcMonths=Ra;m.utcSaturday=T;m.utcSaturdays=ba;m.utcSecond=k;m.utcSeconds=f;m.utcSunday=gb;m.utcSundays=W;m.utcThursday=za;m.utcThursdays=ea;m.utcTuesday=Na;m.utcTuesdays=P;m.utcWednesday=Ta;m.utcWednesdays=ca;m.utcWeek=gb;m.utcWeeks=W;m.utcYear=Ma;m.utcYears=db;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(19),z(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.d3,m.d3))})(this,function(m,l,w,G){function L(xa){const Da=l.array(xa).slice(),Wa={};Da.length||l.error("Missing time unit.");Da.forEach(gb=>{l.hasOwnProperty(C,gb)?Wa[gb]=1:l.error(`Invalid time unit: ${gb}.`)});
1<(Wa.week||Wa.day?1:0)+(Wa.quarter||Wa.month||Wa.date?1:0)+(Wa.dayofyear?1:0)&&l.error(`Incompatible time units: ${xa}`);Da.sort((gb,ra)=>C[gb]-C[ra]);return Da}function v(xa){K.setFullYear(xa);K.setMonth(0);K.setDate(1);K.setHours(0,0,0,0);return K}function u(xa){return w.timeDay.count(v(xa.getFullYear())-1,xa)}function t(xa){return w.timeWeek.count(v(xa.getFullYear())-1,xa)}function k(xa,Da,Wa,gb,ra,Na,Ta){return 0<=xa&&100>xa?(Da=new Date(-1,Da,Wa,gb,ra,Na,Ta),Da.setFullYear(xa),Da):new Date(xa,
Da,Wa,gb,ra,Na,Ta)}function f(xa){const Da=Date.UTC(xa.getUTCFullYear(),0,1);return w.utcDay.count(Da-1,xa)}function d(xa){const Da=Date.UTC(xa.getUTCFullYear(),0,1);return w.utcWeek.count(Da-1,xa)}function g(xa){K.setTime(Date.UTC(xa,0,1));return K.getUTCDay()}function a(xa,Da,Wa,gb,ra,Na,Ta){return 0<=xa&&100>xa?(xa=new Date(Date.UTC(-1,Da,Wa,gb,ra,Na,Ta)),xa.setUTCFullYear(Wa.y),xa):new Date(Date.UTC(xa,Da,Wa,gb,ra,Na,Ta))}function e(xa,Da,Wa,gb,ra){const Na=Da||1,Ta=l.peek(xa);Da=(oa,ba,Fa)=>
{Fa=Fa||oa;return n(Wa[Fa],gb[Fa],oa===Ta&&Na,ba)};const za=new Date;xa=l.toSet(xa);const pa=xa.year?Da("year"):l.constant(2012),T=xa.month?Da("month"):xa.quarter?Da("quarter"):l.zero,W=xa.week&&xa.day?Da("day",1,"weekday"):xa.week?Da("week",1):xa.day?Da("day",1):xa.date?Da("date",1):xa.dayofyear?Da("dayofyear",1):l.one,M=xa.hours?Da("hours"):l.zero,P=xa.minutes?Da("minutes"):l.zero,ca=xa.seconds?Da("seconds"):l.zero,ea=xa.milliseconds?Da("milliseconds"):l.zero;return function(oa){za.setTime(+oa);
oa=pa(za);return ra(oa,T(za),W(za,oa),M(za),P(za),ca(za),ea(za))}}function n(xa,Da,Wa,gb){const ra=1>=Wa?xa:gb?(Na,Ta)=>gb+Wa*Math.floor((xa(Na,Ta)-gb)/Wa):(Na,Ta)=>Wa*Math.floor(xa(Na,Ta)/Wa);return Da?(Na,Ta)=>Da(ra(Na,Ta),Ta):ra}function y(xa,Da,Wa){return Da+7*xa-(Wa+6)%7}const A="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),C=A.reduce((xa,Da,Wa)=>(xa[Da]=1+Wa,xa),{}),N={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},K=new Date,E={["year"]:xa=>xa.getFullYear(),["quarter"]:xa=>Math.floor(xa.getMonth()/3),["month"]:xa=>xa.getMonth(),["date"]:xa=>xa.getDate(),["hours"]:xa=>xa.getHours(),["minutes"]:xa=>xa.getMinutes(),["seconds"]:xa=>xa.getSeconds(),["milliseconds"]:xa=>xa.getMilliseconds(),["dayofyear"]:xa=>u(xa),["week"]:xa=>
t(xa),["weekday"]:(xa,Da)=>y(t(xa),xa.getDay(),v(Da).getDay()),["day"]:(xa,Da)=>y(1,xa.getDay(),v(Da).getDay())},x={["quarter"]:xa=>3*xa,["week"]:(xa,Da)=>y(xa,0,v(Da).getDay())},D={["year"]:xa=>xa.getUTCFullYear(),["quarter"]:xa=>Math.floor(xa.getUTCMonth()/3),["month"]:xa=>xa.getUTCMonth(),["date"]:xa=>xa.getUTCDate(),["hours"]:xa=>xa.getUTCHours(),["minutes"]:xa=>xa.getUTCMinutes(),["seconds"]:xa=>xa.getUTCSeconds(),["milliseconds"]:xa=>xa.getUTCMilliseconds(),["dayofyear"]:xa=>f(xa),["week"]:xa=>
d(xa),["day"]:(xa,Da)=>y(1,xa.getUTCDay(),g(Da)),["weekday"]:(xa,Da)=>y(d(xa),xa.getUTCDay(),g(Da))},H={["quarter"]:xa=>3*xa,["week"]:(xa,Da)=>y(xa,0,g(Da))},S={["year"]:w.timeYear,["quarter"]:w.timeMonth.every(3),["month"]:w.timeMonth,["week"]:w.timeWeek,["date"]:w.timeDay,["day"]:w.timeDay,["dayofyear"]:w.timeDay,["hours"]:w.timeHour,["minutes"]:w.timeMinute,["seconds"]:w.timeSecond,["milliseconds"]:w.timeMillisecond},U={["year"]:w.utcYear,["quarter"]:w.utcMonth.every(3),["month"]:w.utcMonth,["week"]:w.utcWeek,
["date"]:w.utcDay,["day"]:w.utcDay,["dayofyear"]:w.utcDay,["hours"]:w.utcHour,["minutes"]:w.utcMinute,["seconds"]:w.utcSecond,["milliseconds"]:w.utcMillisecond},ia=6048E5,fa=2592E6,ja=31536E6,la="year month date hours minutes seconds milliseconds".split(" "),da=la.slice(0,-1),O=da.slice(0,-1),B=O.slice(0,-1),Y=B.slice(0,-1),ka=["year","month"],Z=["year"],wa=[[da,1,1E3],[da,5,5E3],[da,15,15E3],[da,30,3E4],[O,1,6E4],[O,5,3E5],[O,15,9E5],[O,30,18E5],[B,1,36E5],[B,3,108E5],[B,6,216E5],[B,12,432E5],[Y,
1,864E5],[["year","week"],1,ia],[ka,1,fa],[ka,3,3*fa],[Z,1,ja]];m.DATE="date";m.DAY="day";m.DAYOFYEAR="dayofyear";m.HOURS="hours";m.MILLISECONDS="milliseconds";m.MINUTES="minutes";m.MONTH="month";m.QUARTER="quarter";m.SECONDS="seconds";m.TIME_UNITS=A;m.WEEK="week";m.YEAR="year";m.dayofyear=function(xa){return u(new Date(xa))};m.timeBin=function(xa){var Da=xa.extent;xa=xa.maxbins||40;var Wa=Math.abs(l.span(Da))/xa;let gb=G.bisector(ra=>ra[2]).right(wa,Wa);gb===wa.length?(Wa=Z,Da=G.tickStep(Da[0]/ja,
Da[1]/ja,xa)):gb?(gb=wa[Wa/wa[gb-1][2]<wa[gb][2]/Wa?gb-1:gb],Wa=gb[0],Da=gb[1]):(Wa=la,Da=Math.max(G.tickStep(Da[0],Da[1],xa),1));return{units:Wa,step:Da}};m.timeFloor=function(xa,Da){return e(xa,Da||1,E,x,k)};m.timeInterval=function(xa){return S[xa]};m.timeOffset=function(xa,Da,Wa){return(xa=S[xa])?xa.offset(Da,Wa):void 0};m.timeSequence=function(xa,Da,Wa,gb){return(xa=S[xa])?xa.range(Da,Wa,gb):void 0};m.timeUnitSpecifier=function(xa,Da){Da=l.extend({},N,Da);xa=L(xa);const Wa=xa.length;let gb="",
ra,Na,Ta;for(ra=0;ra<Wa;)for(Na=xa.length;Na>ra;--Na)if(Ta=xa.slice(ra,Na).join("-"),null!=Da[Ta]){gb+=Da[Ta];ra=Na;break}return gb.trim()};m.timeUnits=L;m.utcFloor=function(xa,Da){return e(xa,Da||1,D,H,a)};m.utcInterval=function(xa){return U[xa]};m.utcOffset=function(xa,Da,Wa){return(xa=U[xa])?xa.offset(Da,Wa):void 0};m.utcSequence=function(xa,Da,Wa,gb){return(xa=U[xa])?xa.range(Da,Wa,gb):void 0};m.utcdayofyear=function(xa){return f(new Date(xa))};m.utcweek=function(xa){return d(new Date(xa))};m.week=
function(xa){return t(new Date(xa))};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(19)):"function"===typeof define&&define.amd?define(["exports","d3-time"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function w(cb){if(0<=cb.y&&100>cb.y){var yb=new Date(-1,cb.m,cb.d,cb.H,cb.M,cb.S,cb.L);yb.setFullYear(cb.y);return yb}return new Date(cb.y,cb.m,cb.d,cb.H,cb.M,cb.S,cb.L)}function G(cb){if(0<=cb.y&&100>cb.y){var yb=new Date(Date.UTC(-1,cb.m,cb.d,cb.H,cb.M,cb.S,cb.L));
yb.setUTCFullYear(cb.y);return yb}return new Date(Date.UTC(cb.y,cb.m,cb.d,cb.H,cb.M,cb.S,cb.L))}function L(cb,yb,Sb){return{y:cb,m:yb,d:Sb,H:0,M:0,S:0,L:0}}function v(cb){function yb(rc,Jc){return function(Mc){var Nc=[],md=-1,wd=0,Cd=rc.length,Gd,Sd;for(Mc instanceof Date||(Mc=new Date(+Mc));++md<Cd;)if(37===rc.charCodeAt(md)){Nc.push(rc.slice(wd,md));null!=(wd=Sc[Gd=rc.charAt(++md)])?Gd=rc.charAt(++md):wd="e"===Gd?" ":"0";if(Sd=Jc[Gd])Gd=Sd(Mc,wd);Nc.push(Gd);wd=md+1}Nc.push(rc.slice(wd,md));return Nc.join("")}}
function Sb(rc,Jc){return function(Mc){var Nc=L(1900,void 0,1);if(ld(Nc,rc,Mc+="",0)!=Mc.length)return null;if("Q"in Nc)return new Date(Nc.Q);if("s"in Nc)return new Date(1E3*Nc.s+("L"in Nc?Nc.L:0));!Jc||"Z"in Nc||(Nc.Z=0);"p"in Nc&&(Nc.H=Nc.H%12+12*Nc.p);void 0===Nc.m&&(Nc.m="q"in Nc?Nc.q:0);if("V"in Nc){if(1>Nc.V||53<Nc.V)return null;"w"in Nc||(Nc.w=1);if("Z"in Nc){Mc=G(L(Nc.y,0,1));var md=Mc.getUTCDay();Mc=4<md||0===md?l.utcMonday.ceil(Mc):l.utcMonday(Mc);Mc=l.utcDay.offset(Mc,7*(Nc.V-1));Nc.y=
Mc.getUTCFullYear();Nc.m=Mc.getUTCMonth();Nc.d=Mc.getUTCDate()+(Nc.w+6)%7}else Mc=w(L(Nc.y,0,1)),md=Mc.getDay(),Mc=4<md||0===md?l.timeMonday.ceil(Mc):l.timeMonday(Mc),Mc=l.timeDay.offset(Mc,7*(Nc.V-1)),Nc.y=Mc.getFullYear(),Nc.m=Mc.getMonth(),Nc.d=Mc.getDate()+(Nc.w+6)%7}else if("W"in Nc||"U"in Nc)"w"in Nc||(Nc.w="u"in Nc?Nc.u%7:"W"in Nc?1:0),md="Z"in Nc?G(L(Nc.y,0,1)).getUTCDay():w(L(Nc.y,0,1)).getDay(),Nc.m=0,Nc.d="W"in Nc?(Nc.w+6)%7+7*Nc.W-(md+5)%7:Nc.w+7*Nc.U-(md+6)%7;return"Z"in Nc?(Nc.H+=Nc.Z/
100|0,Nc.M+=Nc.Z%100,G(Nc)):w(Nc)}}function ld(rc,Jc,Mc,Nc){for(var md=0,wd=Jc.length,Cd=Mc.length,Gd;md<wd;){if(Nc>=Cd)return-1;Gd=Jc.charCodeAt(md++);if(37===Gd){if(Gd=Jc.charAt(md++),Gd=zc[Gd in Sc?Jc.charAt(md++):Gd],!Gd||0>(Nc=Gd(rc,Mc,Nc)))return-1}else if(Gd!=Mc.charCodeAt(Nc++))return-1}return Nc}var xd=cb.dateTime,Pd=cb.date,me=cb.time,Ha=cb.periods,Ya=cb.days,pb=cb.shortDays,Db=cb.months,Xb=cb.shortMonths,Gb=k(Ha),pc=f(Ha),ic=k(Ya),ib=f(Ya),xb=k(pb),Nb=f(pb),cc=k(Db),qc=f(Db),oc=k(Xb),Kc=
f(Xb),Ib={a:function(rc){return pb[rc.getDay()]},A:function(rc){return Ya[rc.getDay()]},b:function(rc){return Xb[rc.getMonth()]},B:function(rc){return Db[rc.getMonth()]},c:null,d:da,e:da,f:Z,g:T,G:M,H:O,I:B,j:Y,L:ka,m:wa,M:xa,p:function(rc){return Ha[+(12<=rc.getHours())]},q:function(rc){return 1+~~(rc.getMonth()/3)},Q:dc,s:hc,S:Da,u:Wa,U:gb,V:Na,w:Ta,W:za,x:null,X:null,y:pa,Y:W,Z:P,"%":fc},sc={a:function(rc){return pb[rc.getUTCDay()]},A:function(rc){return Ya[rc.getUTCDay()]},b:function(rc){return Xb[rc.getUTCMonth()]},
B:function(rc){return Db[rc.getUTCMonth()]},c:null,d:ca,e:ca,f:Ra,g:$c,G:vc,H:ea,I:oa,j:ba,L:Fa,m:Ma,M:db,p:function(rc){return Ha[+(12<=rc.getUTCHours())]},q:function(rc){return 1+~~(rc.getUTCMonth()/3)},Q:dc,s:hc,S:ab,u:Ba,U:Sa,V:ub,w:Jb,W:bc,x:null,X:null,y:wc,Y:kc,Z:jb,"%":fc},zc={a:function(rc,Jc,Mc){return(Jc=xb.exec(Jc.slice(Mc)))?(rc.w=Nb.get(Jc[0].toLowerCase()),Mc+Jc[0].length):-1},A:function(rc,Jc,Mc){return(Jc=ic.exec(Jc.slice(Mc)))?(rc.w=ib.get(Jc[0].toLowerCase()),Mc+Jc[0].length):-1},
b:function(rc,Jc,Mc){return(Jc=oc.exec(Jc.slice(Mc)))?(rc.m=Kc.get(Jc[0].toLowerCase()),Mc+Jc[0].length):-1},B:function(rc,Jc,Mc){return(Jc=cc.exec(Jc.slice(Mc)))?(rc.m=qc.get(Jc[0].toLowerCase()),Mc+Jc[0].length):-1},c:function(rc,Jc,Mc){return ld(rc,xd,Jc,Mc)},d:E,e:E,f:ia,g:A,G:y,H:D,I:D,j:x,L:U,m:K,M:H,p:function(rc,Jc,Mc){return(Jc=Gb.exec(Jc.slice(Mc)))?(rc.p=pc.get(Jc[0].toLowerCase()),Mc+Jc[0].length):-1},q:N,Q:ja,s:la,S,u:g,U:a,V:e,w:d,W:n,x:function(rc,Jc,Mc){return ld(rc,Pd,Jc,Mc)},X:function(rc,
Jc,Mc){return ld(rc,me,Jc,Mc)},y:A,Y:y,Z:C,"%":fa};Ib.x=yb(Pd,Ib);Ib.X=yb(me,Ib);Ib.c=yb(xd,Ib);sc.x=yb(Pd,sc);sc.X=yb(me,sc);sc.c=yb(xd,sc);return{format:function(rc){var Jc=yb(rc+="",Ib);Jc.toString=function(){return rc};return Jc},parse:function(rc){var Jc=Sb(rc+="",!1);Jc.toString=function(){return rc};return Jc},utcFormat:function(rc){var Jc=yb(rc+="",sc);Jc.toString=function(){return rc};return Jc},utcParse:function(rc){var Jc=Sb(rc+="",!0);Jc.toString=function(){return rc};return Jc}}}function u(cb,
yb,Sb){var ld=0>cb?"-":"";cb=(ld?-cb:cb)+"";var xd=cb.length;return ld+(xd<Sb?Array(Sb-xd+1).join(yb)+cb:cb)}function t(cb){return cb.replace(Rd,"\\$\x26")}function k(cb){return new RegExp("^(?:"+cb.map(t).join("|")+")","i")}function f(cb){return new Map(cb.map((yb,Sb)=>[yb.toLowerCase(),Sb]))}function d(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+1)))?(cb.w=+yb[0],Sb+yb[0].length):-1}function g(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+1)))?(cb.u=+yb[0],Sb+yb[0].length):-1}function a(cb,yb,Sb){return(yb=
Bc.exec(yb.slice(Sb,Sb+2)))?(cb.U=+yb[0],Sb+yb[0].length):-1}function e(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.V=+yb[0],Sb+yb[0].length):-1}function n(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.W=+yb[0],Sb+yb[0].length):-1}function y(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+4)))?(cb.y=+yb[0],Sb+yb[0].length):-1}function A(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.y=+yb[0]+(68<+yb[0]?1900:2E3),Sb+yb[0].length):-1}function C(cb,yb,Sb){return(yb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(yb.slice(Sb,
Sb+6)))?(cb.Z=yb[1]?0:-(yb[2]+(yb[3]||"00")),Sb+yb[0].length):-1}function N(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+1)))?(cb.q=3*yb[0]-3,Sb+yb[0].length):-1}function K(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.m=yb[0]-1,Sb+yb[0].length):-1}function E(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.d=+yb[0],Sb+yb[0].length):-1}function x(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+3)))?(cb.m=0,cb.d=+yb[0],Sb+yb[0].length):-1}function D(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?
(cb.H=+yb[0],Sb+yb[0].length):-1}function H(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.M=+yb[0],Sb+yb[0].length):-1}function S(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+2)))?(cb.S=+yb[0],Sb+yb[0].length):-1}function U(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+3)))?(cb.L=+yb[0],Sb+yb[0].length):-1}function ia(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb,Sb+6)))?(cb.L=Math.floor(yb[0]/1E3),Sb+yb[0].length):-1}function fa(cb,yb,Sb){return(cb=pd.exec(yb.slice(Sb,Sb+1)))?Sb+cb[0].length:-1}function ja(cb,
yb,Sb){return(yb=Bc.exec(yb.slice(Sb)))?(cb.Q=+yb[0],Sb+yb[0].length):-1}function la(cb,yb,Sb){return(yb=Bc.exec(yb.slice(Sb)))?(cb.s=+yb[0],Sb+yb[0].length):-1}function da(cb,yb){return u(cb.getDate(),yb,2)}function O(cb,yb){return u(cb.getHours(),yb,2)}function B(cb,yb){return u(cb.getHours()%12||12,yb,2)}function Y(cb,yb){return u(1+l.timeDay.count(l.timeYear(cb),cb),yb,3)}function ka(cb,yb){return u(cb.getMilliseconds(),yb,3)}function Z(cb,yb){return ka(cb,yb)+"000"}function wa(cb,yb){return u(cb.getMonth()+
1,yb,2)}function xa(cb,yb){return u(cb.getMinutes(),yb,2)}function Da(cb,yb){return u(cb.getSeconds(),yb,2)}function Wa(cb){cb=cb.getDay();return 0===cb?7:cb}function gb(cb,yb){return u(l.timeSunday.count(l.timeYear(cb)-1,cb),yb,2)}function ra(cb){var yb=cb.getDay();return 4<=yb||0===yb?l.timeThursday(cb):l.timeThursday.ceil(cb)}function Na(cb,yb){cb=ra(cb);return u(l.timeThursday.count(l.timeYear(cb),cb)+(4===l.timeYear(cb).getDay()),yb,2)}function Ta(cb){return cb.getDay()}function za(cb,yb){return u(l.timeMonday.count(l.timeYear(cb)-
1,cb),yb,2)}function pa(cb,yb){return u(cb.getFullYear()%100,yb,2)}function T(cb,yb){cb=ra(cb);return u(cb.getFullYear()%100,yb,2)}function W(cb,yb){return u(cb.getFullYear()%1E4,yb,4)}function M(cb,yb){var Sb=cb.getDay();cb=4<=Sb||0===Sb?l.timeThursday(cb):l.timeThursday.ceil(cb);return u(cb.getFullYear()%1E4,yb,4)}function P(cb){cb=cb.getTimezoneOffset();return(0<cb?"-":(cb*=-1,"+"))+u(cb/60|0,"0",2)+u(cb%60,"0",2)}function ca(cb,yb){return u(cb.getUTCDate(),yb,2)}function ea(cb,yb){return u(cb.getUTCHours(),
yb,2)}function oa(cb,yb){return u(cb.getUTCHours()%12||12,yb,2)}function ba(cb,yb){return u(1+l.utcDay.count(l.utcYear(cb),cb),yb,3)}function Fa(cb,yb){return u(cb.getUTCMilliseconds(),yb,3)}function Ra(cb,yb){return Fa(cb,yb)+"000"}function Ma(cb,yb){return u(cb.getUTCMonth()+1,yb,2)}function db(cb,yb){return u(cb.getUTCMinutes(),yb,2)}function ab(cb,yb){return u(cb.getUTCSeconds(),yb,2)}function Ba(cb){cb=cb.getUTCDay();return 0===cb?7:cb}function Sa(cb,yb){return u(l.utcSunday.count(l.utcYear(cb)-
1,cb),yb,2)}function lb(cb){var yb=cb.getUTCDay();return 4<=yb||0===yb?l.utcThursday(cb):l.utcThursday.ceil(cb)}function ub(cb,yb){cb=lb(cb);return u(l.utcThursday.count(l.utcYear(cb),cb)+(4===l.utcYear(cb).getUTCDay()),yb,2)}function Jb(cb){return cb.getUTCDay()}function bc(cb,yb){return u(l.utcMonday.count(l.utcYear(cb)-1,cb),yb,2)}function wc(cb,yb){return u(cb.getUTCFullYear()%100,yb,2)}function $c(cb,yb){cb=lb(cb);return u(cb.getUTCFullYear()%100,yb,2)}function kc(cb,yb){return u(cb.getUTCFullYear()%
1E4,yb,4)}function vc(cb,yb){var Sb=cb.getUTCDay();cb=4<=Sb||0===Sb?l.utcThursday(cb):l.utcThursday.ceil(cb);return u(cb.getUTCFullYear()%1E4,yb,4)}function jb(){return"+0000"}function fc(){return"%"}function dc(cb){return+cb}function hc(cb){return Math.floor(+cb/1E3)}function Ac(cb){hd=v(cb);m.timeFormat=hd.format;m.timeParse=hd.parse;m.utcFormat=hd.utcFormat;m.utcParse=hd.utcParse;return hd}function ac(cb){return cb.toISOString()}function Oc(cb){cb=new Date(cb);return isNaN(cb)?null:cb}var Sc={"-":"",
_:" ",0:"0"},Bc=/^\s*\d+/,pd=/^%/,Rd=/[\\^$*+?|[\]().{}]/g,hd;Ac({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var cd=Date.prototype.toISOString?ac:m.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Dd=+new Date("2000-01-01T00:00:00.000Z")?Oc:m.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");m.isoFormat=cd;m.isoParse=Dd;m.timeFormatDefaultLocale=Ac;m.timeFormatLocale=v;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[22]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(17),z(18),z(20),z(16),z(21)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.d3,m.d3,m.vega,m.vega,m.d3))})(this,function(m,l,w,G,L,v){function u(E){const x={};return D=>x[D]||(x[D]=E(D))}function t(E,x){return D=>{D=E(D);const H=D.indexOf(x);if(0>H)return D;
a:{var S=D.lastIndexOf("e");if(!(0<S)){for(S=D.length;--S>H;){var U=D.charCodeAt(S);if(48<=U&&57>=U){S+=1;break a}}S=void 0}}for(U=S<D.length?D.slice(S):"";--S>H;)if("0"!==D[S]){++S;break}return D.slice(0,S)+U}}function k(E){const x=u(E.format),D=E.formatPrefix;return{format:x,formatPrefix:D,formatFloat(H){H=w.formatSpecifier(H||",");if(null==H.precision){H.precision=12;switch(H.type){case "%":H.precision-=2;break;case "e":--H.precision}return t(x(H),x(".1f")(1)[1])}return x(H)},formatSpan(H,S,U,
ia){ia=w.formatSpecifier(null==ia?",f":ia);U=l.tickStep(H,S,U);H=Math.max(Math.abs(H),Math.abs(S));if(null==ia.precision)switch(ia.type){case "s":return isNaN(S=w.precisionPrefix(U,H))||(ia.precision=S),D(ia,H);case "":case "e":case "g":case "p":case "r":isNaN(S=w.precisionRound(U,H))||(ia.precision=S-("e"===ia.type));break;case "f":case "%":isNaN(S=w.precisionFixed(U))||(ia.precision=S-2*("%"===ia.type))}return x(ia)}}}function f(){return N=k({format:w.format,formatPrefix:w.formatPrefix})}function d(E){return k(w.formatLocale(E))}
function g(E){return arguments.length?N=d(E):N}function a(E,x,D){D=D||{};L.isObject(D)||L.error(`Invalid time multi-format specifier: ${D}`);const H=x(G.SECONDS),S=x(G.MINUTES),U=x(G.HOURS),ia=x(G.DATE),fa=x(G.WEEK),ja=x(G.MONTH),la=x(G.QUARTER),da=x(G.YEAR),O=E(D[G.MILLISECONDS]||".%L"),B=E(D[G.SECONDS]||":%S"),Y=E(D[G.MINUTES]||"%I:%M"),ka=E(D[G.HOURS]||"%I %p"),Z=E(D[G.DATE]||D[G.DAY]||"%a %d"),wa=E(D[G.WEEK]||"%b %d"),xa=E(D[G.MONTH]||"%B"),Da=E(D[G.QUARTER]||"%B"),Wa=E(D[G.YEAR]||"%Y");return gb=>
(H(gb)<gb?O:S(gb)<gb?B:U(gb)<gb?Y:ia(gb)<gb?ka:ja(gb)<gb?fa(gb)<gb?Z:wa:da(gb)<gb?la(gb)<gb?xa:Da:Wa)(gb)}function e(E){const x=u(E.format),D=u(E.utcFormat);return{timeFormat:H=>L.isString(H)?x(H):a(x,G.timeInterval,H),utcFormat:H=>L.isString(H)?D(H):a(D,G.utcInterval,H),timeParse:u(E.parse),utcParse:u(E.utcParse)}}function n(){return K=e({format:v.timeFormat,parse:v.timeParse,utcFormat:v.utcFormat,utcParse:v.utcParse})}function y(E){return e(v.timeFormatLocale(E))}function A(E){return arguments.length?
K=y(E):K}function C(E,x){var D=arguments.length;D&&2!==D&&L.error("defaultLocale expects either zero or two arguments.");if(D){D=g(E);var H=A(x);D=L.extend({},D,H)}else D=g(),H=A(),D=L.extend({},D,H);return D}let N;f();let K;n();m.defaultLocale=C;m.locale=function(E,x){E=E?d(E):g();x=x?y(x):A();return L.extend({},E,x)};m.numberFormatDefaultLocale=g;m.numberFormatLocale=d;m.resetDefaultLocale=function(){f();n();return C()};m.resetNumberFormatDefaultLocale=f;m.resetTimeFormatDefaultLocale=n;m.timeFormatDefaultLocale=
A;m.timeFormatLocale=y;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[23]=function(Ea,z,ob,J){function m(v){var u=v.length;if(0<u%4)throw Error("Invalid string. Length must be a multiple of 4");v=v.indexOf("\x3d");-1===v&&(v=u);return[v,v===u?0:4-v%4]}function l(v,u,t){for(var k=[],f=u;f<t;f+=3)u=(v[f]<<16&16711680)+(v[f+1]<<8&65280)+(v[f+2]&255),k.push(w[u>>18&63]+w[u>>12&63]+w[u>>6&63]+w[u&63]);return k.join("")}J.byteLength=function(v){v=m(v);var u=v[1];return 3*(v[0]+u)/4-u};J.toByteArray=function(v){var u=m(v);var t=u[0];u=u[1];var k=new L(3*(t+
u)/4-u),f=0,d=0<u?t-4:t,g;for(g=0;g<d;g+=4)t=G[v.charCodeAt(g)]<<18|G[v.charCodeAt(g+1)]<<12|G[v.charCodeAt(g+2)]<<6|G[v.charCodeAt(g+3)],k[f++]=t>>16&255,k[f++]=t>>8&255,k[f++]=t&255;2===u&&(t=G[v.charCodeAt(g)]<<2|G[v.charCodeAt(g+1)]>>4,k[f++]=t&255);1===u&&(t=G[v.charCodeAt(g)]<<10|G[v.charCodeAt(g+1)]<<4|G[v.charCodeAt(g+2)]>>2,k[f++]=t>>8&255,k[f++]=t&255);return k};J.fromByteArray=function(v){for(var u=v.length,t=u%3,k=[],f=0,d=u-t;f<d;f+=16383)k.push(l(v,f,f+16383>d?d:f+16383));1===t?(v=v[u-
1],k.push(w[v>>2]+w[v<<4&63]+"\x3d\x3d")):2===t&&(v=(v[u-2]<<8)+v[u-1],k.push(w[v>>10]+w[v>>4&63]+w[v<<2&63]+"\x3d"));return k.join("")};var w=[],G=[],L="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ea=0;64>Ea;++Ea)w[Ea]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ea],G["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ea)]=Ea;G[45]=62;G[95]=63};
shadow$provide[24]=function(Ea,z,ob,J){J.read=function(m,l,w,G,L){var v=8*L-G-1;var u=(1<<v)-1,t=u>>1,k=-7;L=w?L-1:0;var f=w?-1:1,d=m[l+L];L+=f;w=d&(1<<-k)-1;d>>=-k;for(k+=v;0<k;w=256*w+m[l+L],L+=f,k-=8);v=w&(1<<-k)-1;w>>=-k;for(k+=G;0<k;v=256*v+m[l+L],L+=f,k-=8);if(0===w)w=1-t;else{if(w===u)return v?NaN:Infinity*(d?-1:1);v+=Math.pow(2,G);w-=t}return(d?-1:1)*v*Math.pow(2,w-G)};J.write=function(m,l,w,G,L,v){var u,t=8*v-L-1,k=(1<<t)-1,f=k>>1,d=23===L?Math.pow(2,-24)-Math.pow(2,-77):0;v=G?0:v-1;var g=
G?1:-1,a=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,G=k):(G=Math.floor(Math.log(l)/Math.LN2),1>l*(u=Math.pow(2,-G))&&(G--,u*=2),l=1<=G+f?l+d/u:l+d*Math.pow(2,1-f),2<=l*u&&(G++,u/=2),G+f>=k?(l=0,G=k):1<=G+f?(l=(l*u-1)*Math.pow(2,L),G+=f):(l=l*Math.pow(2,f-1)*Math.pow(2,L),G=0));for(;8<=L;m[w+v]=l&255,v+=g,l/=256,L-=8);G=G<<L|l;for(t+=L;0<t;m[w+v]=G&255,v+=g,G/=256,t-=8);m[w+v-g]|=128*a}};
shadow$provide[25]=function(Ea,z,ob,J){var m={}.toString;ob.exports=Array.isArray||function(l){return"[object Array]"==m.call(l)}};
shadow$provide[26]=function(Ea,z,ob,J){function m(){try{var O=new Uint8Array(1);O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===O.foo()&&"function"===typeof O.subarray&&0===O.subarray(1,1).byteLength}catch(B){return!1}}function l(O,B){if((w.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<B)throw new RangeError("Invalid typed array length");w.TYPED_ARRAY_SUPPORT?(O=new Uint8Array(B),O.__proto__=w.prototype):(null===O&&(O=new w(B)),O.length=B);return O}function w(O,B,Y){if(!(w.TYPED_ARRAY_SUPPORT||
this instanceof w))return new w(O,B,Y);if("number"===typeof O){if("string"===typeof B)throw Error("If encoding is specified then the first argument must be a string");return v(this,O)}return G(this,O,B,Y)}function G(O,B,Y,ka){if("number"===typeof B)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&B instanceof ArrayBuffer){B.byteLength;if(0>Y||B.byteLength<Y)throw new RangeError("'offset' is out of bounds");if(B.byteLength<Y+(ka||0))throw new RangeError("'length' is out of bounds");
B=void 0===Y&&void 0===ka?new Uint8Array(B):void 0===ka?new Uint8Array(B,Y):new Uint8Array(B,Y,ka);w.TYPED_ARRAY_SUPPORT?(O=B,O.__proto__=w.prototype):O=u(O,B);return O}if("string"===typeof B){ka=O;O=Y;if("string"!==typeof O||""===O)O="utf8";if(!w.isEncoding(O))throw new TypeError('"encoding" must be a valid string encoding');Y=f(B,O)|0;ka=l(ka,Y);B=ka.write(B,O);B!==Y&&(ka=ka.slice(0,B));return ka}return t(O,B)}function L(O){if("number"!==typeof O)throw new TypeError('"size" argument must be a number');
if(0>O)throw new RangeError('"size" argument must not be negative');}function v(O,B){L(B);O=l(O,0>B?0:k(B)|0);if(!w.TYPED_ARRAY_SUPPORT)for(var Y=0;Y<B;++Y)O[Y]=0;return O}function u(O,B){var Y=0>B.length?0:k(B.length)|0;O=l(O,Y);for(var ka=0;ka<Y;ka+=1)O[ka]=B[ka]&255;return O}function t(O,B){if(w.isBuffer(B)){var Y=k(B.length)|0;O=l(O,Y);if(0===O.length)return O;B.copy(O,0,0,Y);return O}if(B){if("undefined"!==typeof ArrayBuffer&&B.buffer instanceof ArrayBuffer||"length"in B)return(Y="number"!==
typeof B.length)||(Y=B.length,Y=Y!==Y),Y?l(O,0):u(O,B);if("Buffer"===B.type&&ja(B.data))return u(O,B.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function k(O){if(O>=(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return O|0}function f(O,B){if(w.isBuffer(O))return O.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(O)||O instanceof ArrayBuffer))return O.byteLength;"string"!==typeof O&&(O=""+O);var Y=O.length;if(0===Y)return 0;for(var ka=!1;;)switch(B){case "ascii":case "latin1":case "binary":return Y;case "utf8":case "utf-8":case void 0:return H(O).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*Y;case "hex":return Y>>>1;case "base64":return ia.toByteArray(D(O)).length;default:if(ka)return H(O).length;B=(""+
B).toLowerCase();ka=!0}}function d(O,B,Y){var ka=!1;if(void 0===B||0>B)B=0;if(B>this.length)return"";if(void 0===Y||Y>this.length)Y=this.length;if(0>=Y)return"";Y>>>=0;B>>>=0;if(Y<=B)return"";for(O||(O="utf8");;)switch(O){case "hex":O=B;B=Y;Y=this.length;if(!O||0>O)O=0;if(!B||0>B||B>Y)B=Y;ka="";for(Y=O;Y<B;++Y)O=ka,ka=this[Y],ka=16>ka?"0"+ka.toString(16):ka.toString(16),ka=O+ka;return ka;case "utf8":case "utf-8":return n(this,B,Y);case "ascii":O="";for(Y=Math.min(this.length,Y);B<Y;++B)O+=String.fromCharCode(this[B]&
127);return O;case "latin1":case "binary":O="";for(Y=Math.min(this.length,Y);B<Y;++B)O+=String.fromCharCode(this[B]);return O;case "base64":return B=0===B&&Y===this.length?ia.fromByteArray(this):ia.fromByteArray(this.slice(B,Y)),B;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":B=this.slice(B,Y);Y="";for(O=0;O<B.length;O+=2)Y+=String.fromCharCode(B[O]+256*B[O+1]);return Y;default:if(ka)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase();ka=!0}}function g(O,B,Y){var ka=O[B];
O[B]=O[Y];O[Y]=ka}function a(O,B,Y,ka,Z){if(0===O.length)return-1;"string"===typeof Y?(ka=Y,Y=0):2147483647<Y?Y=2147483647:-2147483648>Y&&(Y=-2147483648);Y=+Y;isNaN(Y)&&(Y=Z?0:O.length-1);0>Y&&(Y=O.length+Y);if(Y>=O.length){if(Z)return-1;Y=O.length-1}else if(0>Y)if(Z)Y=0;else return-1;"string"===typeof B&&(B=w.from(B,ka));if(w.isBuffer(B))return 0===B.length?-1:e(O,B,Y,ka,Z);if("number"===typeof B)return B&=255,w.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?Z?Uint8Array.prototype.indexOf.call(O,
B,Y):Uint8Array.prototype.lastIndexOf.call(O,B,Y):e(O,[B],Y,ka,Z);throw new TypeError("val must be string, number or Buffer");}function e(O,B,Y,ka,Z){function wa(gb,ra){return 1===xa?gb[ra]:gb.readUInt16BE(ra*xa)}var xa=1,Da=O.length,Wa=B.length;if(void 0!==ka&&(ka=String(ka).toLowerCase(),"ucs2"===ka||"ucs-2"===ka||"utf16le"===ka||"utf-16le"===ka)){if(2>O.length||2>B.length)return-1;xa=2;Da/=2;Wa/=2;Y/=2}if(Z)for(ka=-1;Y<Da;Y++)if(wa(O,Y)===wa(B,-1===ka?0:Y-ka)){if(-1===ka&&(ka=Y),Y-ka+1===Wa)return ka*
xa}else-1!==ka&&(Y-=Y-ka),ka=-1;else for(Y+Wa>Da&&(Y=Da-Wa);0<=Y;Y--){Da=!0;for(ka=0;ka<Wa;ka++)if(wa(O,Y+ka)!==wa(B,ka)){Da=!1;break}if(Da)return Y}return-1}function n(O,B,Y){Y=Math.min(O.length,Y);for(var ka=[];B<Y;){var Z=O[B],wa=null,xa=239<Z?4:223<Z?3:191<Z?2:1;if(B+xa<=Y)switch(xa){case 1:128>Z&&(wa=Z);break;case 2:var Da=O[B+1];128===(Da&192)&&(Z=(Z&31)<<6|Da&63,127<Z&&(wa=Z));break;case 3:Da=O[B+1];var Wa=O[B+2];128===(Da&192)&&128===(Wa&192)&&(Z=(Z&15)<<12|(Da&63)<<6|Wa&63,2047<Z&&(55296>
Z||57343<Z)&&(wa=Z));break;case 4:Da=O[B+1];Wa=O[B+2];var gb=O[B+3];128===(Da&192)&&128===(Wa&192)&&128===(gb&192)&&(Z=(Z&15)<<18|(Da&63)<<12|(Wa&63)<<6|gb&63,65535<Z&&1114112>Z&&(wa=Z))}null===wa?(wa=65533,xa=1):65535<wa&&(wa-=65536,ka.push(wa>>>10&1023|55296),wa=56320|wa&1023);ka.push(wa);B+=xa}O=ka.length;if(O<=la)ka=String.fromCharCode.apply(String,ka);else{Y="";for(B=0;B<O;)Y+=String.fromCharCode.apply(String,ka.slice(B,B+=la));ka=Y}return ka}function y(O,B,Y){if(0!==O%1||0>O)throw new RangeError("offset is not uint");
if(O+B>Y)throw new RangeError("Trying to access beyond buffer length");}function A(O,B,Y,ka,Z,wa){if(!w.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>Z||B<wa)throw new RangeError('"value" argument is out of bounds');if(Y+ka>O.length)throw new RangeError("Index out of range");}function C(O,B,Y,ka){0>B&&(B=65535+B+1);for(var Z=0,wa=Math.min(O.length-Y,2);Z<wa;++Z)O[Y+Z]=(B&255<<8*(ka?Z:1-Z))>>>8*(ka?Z:1-Z)}function N(O,B,Y,ka){0>B&&(B=4294967295+B+1);for(var Z=
0,wa=Math.min(O.length-Y,4);Z<wa;++Z)O[Y+Z]=B>>>8*(ka?Z:3-Z)&255}function K(O,B,Y,ka,Z,wa){if(Y+ka>O.length)throw new RangeError("Index out of range");if(0>Y)throw new RangeError("Index out of range");}function E(O,B,Y,ka,Z){Z||K(O,B,Y,4,3.4028234663852886E38,-3.4028234663852886E38);fa.write(O,B,Y,ka,23,4);return Y+4}function x(O,B,Y,ka,Z){Z||K(O,B,Y,8,1.7976931348623157E308,-1.7976931348623157E308);fa.write(O,B,Y,ka,52,8);return Y+8}function D(O){O=O.trim?O.trim():O.replace(/^\s+|\s+$/g,"");O=O.replace(da,
"");if(2>O.length)return"";for(;0!==O.length%4;)O+="\x3d";return O}function H(O,B){B=B||Infinity;for(var Y,ka=O.length,Z=null,wa=[],xa=0;xa<ka;++xa){Y=O.charCodeAt(xa);if(55295<Y&&57344>Y){if(!Z){if(56319<Y){-1<(B-=3)&&wa.push(239,191,189);continue}else if(xa+1===ka){-1<(B-=3)&&wa.push(239,191,189);continue}Z=Y;continue}if(56320>Y){-1<(B-=3)&&wa.push(239,191,189);Z=Y;continue}Y=(Z-55296<<10|Y-56320)+65536}else Z&&-1<(B-=3)&&wa.push(239,191,189);Z=null;if(128>Y){if(0>--B)break;wa.push(Y)}else if(2048>
Y){if(0>(B-=2))break;wa.push(Y>>6|192,Y&63|128)}else if(65536>Y){if(0>(B-=3))break;wa.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(1114112>Y){if(0>(B-=4))break;wa.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw Error("Invalid code point");}return wa}function S(O){for(var B=[],Y=0;Y<O.length;++Y)B.push(O.charCodeAt(Y)&255);return B}function U(O,B,Y,ka){for(var Z=0;Z<ka&&!(Z+Y>=B.length||Z>=O.length);++Z)B[Z+Y]=O[Z];return Z}var ia=z(23),fa=z(24),ja=z(25);J.Buffer=w;J.SlowBuffer=function(O){+O!=
O&&(O=0);return w.alloc(+O)};J.INSPECT_MAX_BYTES=50;w.TYPED_ARRAY_SUPPORT=void 0!==Ea.TYPED_ARRAY_SUPPORT?Ea.TYPED_ARRAY_SUPPORT:m();J.kMaxLength=w.TYPED_ARRAY_SUPPORT?2147483647:1073741823;w.poolSize=8192;w._augment=function(O){O.__proto__=w.prototype;return O};w.from=function(O,B,Y){return G(null,O,B,Y)};w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,
{value:null,configurable:!0}));w.alloc=function(O,B,Y){L(O);O=0>=O?l(null,O):void 0!==B?"string"===typeof Y?l(null,O).fill(B,Y):l(null,O).fill(B):l(null,O);return O};w.allocUnsafe=function(O){return v(null,O)};w.allocUnsafeSlow=function(O){return v(null,O)};w.isBuffer=function(O){return!(null==O||!O._isBuffer)};w.compare=function(O,B){if(!w.isBuffer(O)||!w.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(O===B)return 0;for(var Y=O.length,ka=B.length,Z=0,wa=Math.min(Y,ka);Z<wa;++Z)if(O[Z]!==
B[Z]){Y=O[Z];ka=B[Z];break}return Y<ka?-1:ka<Y?1:0};w.isEncoding=function(O){switch(String(O).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};w.concat=function(O,B){if(!ja(O))throw new TypeError('"list" argument must be an Array of Buffers');if(0===O.length)return w.alloc(0);var Y;if(void 0===B)for(Y=B=0;Y<O.length;++Y)B+=O[Y].length;B=w.allocUnsafe(B);var ka=
0;for(Y=0;Y<O.length;++Y){var Z=O[Y];if(!w.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(B,ka);ka+=Z.length}return B};w.byteLength=f;w.prototype._isBuffer=!0;w.prototype.swap16=function(){var O=this.length;if(0!==O%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<O;B+=2)g(this,B,B+1);return this};w.prototype.swap32=function(){var O=this.length;if(0!==O%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=
0;B<O;B+=4)g(this,B,B+3),g(this,B+1,B+2);return this};w.prototype.swap64=function(){var O=this.length;if(0!==O%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<O;B+=8)g(this,B,B+7),g(this,B+1,B+6),g(this,B+2,B+5),g(this,B+3,B+4);return this};w.prototype.toString=function(){var O=this.length|0;return 0===O?"":0===arguments.length?n(this,0,O):d.apply(this,arguments)};w.prototype.equals=function(O){if(!w.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===
O?!0:0===w.compare(this,O)};w.prototype.inspect=function(){var O="",B=J.INSPECT_MAX_BYTES;0<this.length&&(O=this.toString("hex",0,B).match(/.{2}/g).join(" "),this.length>B&&(O+=" ... "));return"\x3cBuffer "+O+"\x3e"};w.prototype.compare=function(O,B,Y,ka,Z){if(!w.isBuffer(O))throw new TypeError("Argument must be a Buffer");void 0===B&&(B=0);void 0===Y&&(Y=O?O.length:0);void 0===ka&&(ka=0);void 0===Z&&(Z=this.length);if(0>B||Y>O.length||0>ka||Z>this.length)throw new RangeError("out of range index");
if(ka>=Z&&B>=Y)return 0;if(ka>=Z)return-1;if(B>=Y)return 1;B>>>=0;Y>>>=0;ka>>>=0;Z>>>=0;if(this===O)return 0;var wa=Z-ka,xa=Y-B,Da=Math.min(wa,xa);ka=this.slice(ka,Z);O=O.slice(B,Y);for(B=0;B<Da;++B)if(ka[B]!==O[B]){wa=ka[B];xa=O[B];break}return wa<xa?-1:xa<wa?1:0};w.prototype.includes=function(O,B,Y){return-1!==this.indexOf(O,B,Y)};w.prototype.indexOf=function(O,B,Y){return a(this,O,B,Y,!0)};w.prototype.lastIndexOf=function(O,B,Y){return a(this,O,B,Y,!1)};w.prototype.write=function(O,B,Y,ka){if(void 0===
B)ka="utf8",Y=this.length,B=0;else if(void 0===Y&&"string"===typeof B)ka=B,Y=this.length,B=0;else if(isFinite(B))B|=0,isFinite(Y)?(Y|=0,void 0===ka&&(ka="utf8")):(ka=Y,Y=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Z=this.length-B;if(void 0===Y||Y>Z)Y=Z;if(0<O.length&&(0>Y||0>B)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ka||(ka="utf8");for(Z=!1;;)switch(ka){case "hex":a:{B=Number(B)||0;ka=this.length-B;
Y?(Y=Number(Y),Y>ka&&(Y=ka)):Y=ka;ka=O.length;if(0!==ka%2)throw new TypeError("Invalid hex string");Y>ka/2&&(Y=ka/2);for(ka=0;ka<Y;++ka){Z=parseInt(O.substr(2*ka,2),16);if(isNaN(Z)){O=ka;break a}this[B+ka]=Z}O=ka}return O;case "utf8":case "utf-8":return U(H(O,this.length-B),this,B,Y);case "ascii":return U(S(O),this,B,Y);case "latin1":case "binary":return U(S(O),this,B,Y);case "base64":return U(ia.toByteArray(D(O)),this,B,Y);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ka=O;Z=this.length-
B;for(var wa=[],xa=0;xa<ka.length&&!(0>(Z-=2));++xa){var Da=ka.charCodeAt(xa);O=Da>>8;Da%=256;wa.push(Da);wa.push(O)}return U(wa,this,B,Y);default:if(Z)throw new TypeError("Unknown encoding: "+ka);ka=(""+ka).toLowerCase();Z=!0}};w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var la=4096;w.prototype.slice=function(O,B){var Y=this.length;O=~~O;B=void 0===B?Y:~~B;0>O?(O+=Y,0>O&&(O=0)):O>Y&&(O=Y);0>B?(B+=Y,0>B&&(B=0)):B>Y&&(B=Y);B<O&&(B=O);if(w.TYPED_ARRAY_SUPPORT)B=
this.subarray(O,B),B.__proto__=w.prototype;else{Y=B-O;B=new w(Y,void 0);for(var ka=0;ka<Y;++ka)B[ka]=this[ka+O]}return B};w.prototype.readUIntLE=function(O,B,Y){O|=0;B|=0;Y||y(O,B,this.length);Y=this[O];for(var ka=1,Z=0;++Z<B&&(ka*=256);)Y+=this[O+Z]*ka;return Y};w.prototype.readUIntBE=function(O,B,Y){O|=0;B|=0;Y||y(O,B,this.length);Y=this[O+--B];for(var ka=1;0<B&&(ka*=256);)Y+=this[O+--B]*ka;return Y};w.prototype.readUInt8=function(O,B){B||y(O,1,this.length);return this[O]};w.prototype.readUInt16LE=
function(O,B){B||y(O,2,this.length);return this[O]|this[O+1]<<8};w.prototype.readUInt16BE=function(O,B){B||y(O,2,this.length);return this[O]<<8|this[O+1]};w.prototype.readUInt32LE=function(O,B){B||y(O,4,this.length);return(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]};w.prototype.readUInt32BE=function(O,B){B||y(O,4,this.length);return 16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])};w.prototype.readIntLE=function(O,B,Y){O|=0;B|=0;Y||y(O,B,this.length);Y=this[O];for(var ka=1,Z=0;++Z<
B&&(ka*=256);)Y+=this[O+Z]*ka;Y>=128*ka&&(Y-=Math.pow(2,8*B));return Y};w.prototype.readIntBE=function(O,B,Y){O|=0;B|=0;Y||y(O,B,this.length);Y=B;for(var ka=1,Z=this[O+--Y];0<Y&&(ka*=256);)Z+=this[O+--Y]*ka;Z>=128*ka&&(Z-=Math.pow(2,8*B));return Z};w.prototype.readInt8=function(O,B){B||y(O,1,this.length);return this[O]&128?-1*(255-this[O]+1):this[O]};w.prototype.readInt16LE=function(O,B){B||y(O,2,this.length);O=this[O]|this[O+1]<<8;return O&32768?O|4294901760:O};w.prototype.readInt16BE=function(O,
B){B||y(O,2,this.length);O=this[O+1]|this[O]<<8;return O&32768?O|4294901760:O};w.prototype.readInt32LE=function(O,B){B||y(O,4,this.length);return this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24};w.prototype.readInt32BE=function(O,B){B||y(O,4,this.length);return this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]};w.prototype.readFloatLE=function(O,B){B||y(O,4,this.length);return fa.read(this,O,!0,23,4)};w.prototype.readFloatBE=function(O,B){B||y(O,4,this.length);return fa.read(this,O,!1,23,4)};w.prototype.readDoubleLE=
function(O,B){B||y(O,8,this.length);return fa.read(this,O,!0,52,8)};w.prototype.readDoubleBE=function(O,B){B||y(O,8,this.length);return fa.read(this,O,!1,52,8)};w.prototype.writeUIntLE=function(O,B,Y,ka){O=+O;B|=0;Y|=0;ka||A(this,O,B,Y,Math.pow(2,8*Y)-1,0);ka=1;var Z=0;for(this[B]=O&255;++Z<Y&&(ka*=256);)this[B+Z]=O/ka&255;return B+Y};w.prototype.writeUIntBE=function(O,B,Y,ka){O=+O;B|=0;Y|=0;ka||A(this,O,B,Y,Math.pow(2,8*Y)-1,0);ka=Y-1;var Z=1;for(this[B+ka]=O&255;0<=--ka&&(Z*=256);)this[B+ka]=O/
Z&255;return B+Y};w.prototype.writeUInt8=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,1,255,0);w.TYPED_ARRAY_SUPPORT||(O=Math.floor(O));this[B]=O&255;return B+1};w.prototype.writeUInt16LE=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[B]=O&255,this[B+1]=O>>>8):C(this,O,B,!0);return B+2};w.prototype.writeUInt16BE=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[B]=O>>>8,this[B+1]=O&255):C(this,O,B,!1);return B+2};w.prototype.writeUInt32LE=function(O,
B,Y){O=+O;B|=0;Y||A(this,O,B,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[B+3]=O>>>24,this[B+2]=O>>>16,this[B+1]=O>>>8,this[B]=O&255):N(this,O,B,!0);return B+4};w.prototype.writeUInt32BE=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[B]=O>>>24,this[B+1]=O>>>16,this[B+2]=O>>>8,this[B+3]=O&255):N(this,O,B,!1);return B+4};w.prototype.writeIntLE=function(O,B,Y,ka){O=+O;B|=0;ka||(ka=Math.pow(2,8*Y-1),A(this,O,B,Y,ka-1,-ka));ka=0;var Z=1,wa=0;for(this[B]=O&255;++ka<Y&&
(Z*=256);)0>O&&0===wa&&0!==this[B+ka-1]&&(wa=1),this[B+ka]=(O/Z>>0)-wa&255;return B+Y};w.prototype.writeIntBE=function(O,B,Y,ka){O=+O;B|=0;ka||(ka=Math.pow(2,8*Y-1),A(this,O,B,Y,ka-1,-ka));ka=Y-1;var Z=1,wa=0;for(this[B+ka]=O&255;0<=--ka&&(Z*=256);)0>O&&0===wa&&0!==this[B+ka+1]&&(wa=1),this[B+ka]=(O/Z>>0)-wa&255;return B+Y};w.prototype.writeInt8=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,1,127,-128);w.TYPED_ARRAY_SUPPORT||(O=Math.floor(O));0>O&&(O=255+O+1);this[B]=O&255;return B+1};w.prototype.writeInt16LE=
function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[B]=O&255,this[B+1]=O>>>8):C(this,O,B,!0);return B+2};w.prototype.writeInt16BE=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[B]=O>>>8,this[B+1]=O&255):C(this,O,B,!1);return B+2};w.prototype.writeInt32LE=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,4,2147483647,-2147483648);w.TYPED_ARRAY_SUPPORT?(this[B]=O&255,this[B+1]=O>>>8,this[B+2]=O>>>16,this[B+3]=O>>>24):N(this,O,B,!0);return B+
4};w.prototype.writeInt32BE=function(O,B,Y){O=+O;B|=0;Y||A(this,O,B,4,2147483647,-2147483648);0>O&&(O=4294967295+O+1);w.TYPED_ARRAY_SUPPORT?(this[B]=O>>>24,this[B+1]=O>>>16,this[B+2]=O>>>8,this[B+3]=O&255):N(this,O,B,!1);return B+4};w.prototype.writeFloatLE=function(O,B,Y){return E(this,O,B,!0,Y)};w.prototype.writeFloatBE=function(O,B,Y){return E(this,O,B,!1,Y)};w.prototype.writeDoubleLE=function(O,B,Y){return x(this,O,B,!0,Y)};w.prototype.writeDoubleBE=function(O,B,Y){return x(this,O,B,!1,Y)};w.prototype.copy=
function(O,B,Y,ka){Y||(Y=0);ka||0===ka||(ka=this.length);B>=O.length&&(B=O.length);B||(B=0);0<ka&&ka<Y&&(ka=Y);if(ka===Y||0===O.length||0===this.length)return 0;if(0>B)throw new RangeError("targetStart out of bounds");if(0>Y||Y>=this.length)throw new RangeError("sourceStart out of bounds");if(0>ka)throw new RangeError("sourceEnd out of bounds");ka>this.length&&(ka=this.length);O.length-B<ka-Y&&(ka=O.length-B+Y);var Z=ka-Y;if(this===O&&Y<B&&B<ka)for(ka=Z-1;0<=ka;--ka)O[ka+B]=this[ka+Y];else if(1E3>
Z||!w.TYPED_ARRAY_SUPPORT)for(ka=0;ka<Z;++ka)O[ka+B]=this[ka+Y];else Uint8Array.prototype.set.call(O,this.subarray(Y,Y+Z),B);return Z};w.prototype.fill=function(O,B,Y,ka){if("string"===typeof O){"string"===typeof B?(ka=B,B=0,Y=this.length):"string"===typeof Y&&(ka=Y,Y=this.length);if(1===O.length){var Z=O.charCodeAt(0);256>Z&&(O=Z)}if(void 0!==ka&&"string"!==typeof ka)throw new TypeError("encoding must be a string");if("string"===typeof ka&&!w.isEncoding(ka))throw new TypeError("Unknown encoding: "+
ka);}else"number"===typeof O&&(O&=255);if(0>B||this.length<B||this.length<Y)throw new RangeError("Out of range index");if(Y<=B)return this;B>>>=0;Y=void 0===Y?this.length:Y>>>0;O||(O=0);if("number"===typeof O)for(ka=B;ka<Y;++ka)this[ka]=O;else for(O=w.isBuffer(O)?O:H((new w(O,ka)).toString()),Z=O.length,ka=0;ka<Y-B;++ka)this[ka+B]=O[ka%Z];return this};var da=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[27]=function(Ea,z,ob,J){var m=z(26).Buffer;!function(l,w){"object"==typeof J&&"undefined"!=typeof ob?w(J,z(16),z(22)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],w):w((l="undefined"!=typeof globalThis?globalThis:l||self).vega={},l.vega,l.vega)}(this,function(l,w,G){function L(ra,Na){const Ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const za=yield Ta.sanitize(ra,Na),pa=za.href;return za.localFile?Ta.file(pa):Ta.http(pa,
Na)})}function v(ra,Na){const Ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Na=w.extend({},Ta.options,Na);const za=Ta.fileAccess,pa={href:null};let T,W,M;var P=da.test(ra.replace(O,""));null!=ra&&"string"==typeof ra&&P||w.error("Sanitize failure, invalid URI: "+w.stringValue(ra));P=la.test(ra);return(M=Na.baseURL)&&!P&&(ra.startsWith("/")||"/"===M[M.length-1]||(ra="/"+ra),ra=M+ra),W=(T=ra.startsWith("file://"))||"file"===Na.mode||"http"!==Na.mode&&!P&&za,T?ra=ra.slice(7):
ra.startsWith("//")&&("file"===Na.defaultProtocol?(ra=ra.slice(2),W=!0):ra=(Na.defaultProtocol||"http")+":"+ra),Object.defineProperty(pa,"localFile",{value:!!W}),pa.href=ra,Na.target&&(pa.target=Na.target+""),Na.rel&&(pa.rel=Na.rel+""),"image"===Na.context&&Na.crossOrigin&&(pa.crossOrigin=Na.crossOrigin+""),pa})}function u(ra){return ra?Na=>new Promise((Ta,za)=>{ra.readFile(Na,(pa,T)=>{pa?za(pa):Ta(T)})}):t}function t(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No file system access.")})}
function k(ra){return ra?function(Na,Ta){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var pa=w.extend({},za.options.http,Ta);const T=Ta&&Ta.response;pa=yield ra(Na,pa);return pa.ok?w.isFunction(pa[T])?pa[T]():pa.text():w.error(pa.status+""+pa.statusText)})}:f}function f(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No HTTP fetch method available.")})}function d(ra,Na){if(!ra||!ra.length)return"unknown";const Ta=ra.length,za=ka.length,pa=
ka.map((W,M)=>M+1);for(let W,M,P=0,ca=0;P<Ta;++P)for(M=Na?ra[P][Na]:ra[P],W=0;W<za;++W)if(pa[W]&&null!=(T=M)&&T==T&&!ka[W](M)&&(pa[W]=0,++ca,ca===ka.length))return"string";var T;return Z[pa.reduce((W,M)=>0===W?M:W,0)-1]}function g(ra,Na){return Na.reduce((Ta,za)=>(Ta[za]=d(ra,za),Ta),{})}function a(ra){return new Function("d","return {"+ra.map(function(Na,Ta){return JSON.stringify(Na)+": d["+Ta+'] || ""'}).join(",")+"}")}function e(ra){var Na=Object.create(null),Ta=[];return ra.forEach(function(za){for(var pa in za)pa in
Na||Ta.push(Na[pa]=pa)}),Ta}function n(ra,Na){ra+="";var Ta=ra.length;return Ta<Na?Array(Na-Ta+1).join(0)+ra:ra}function y(ra){function Na(M,P){function ca(){if(Ma)return xa;if(db)return db=!1,wa;var Ba,Sa,lb=Fa;if(34===M.charCodeAt(lb)){for(;Fa++<ba&&34!==M.charCodeAt(Fa)||34===M.charCodeAt(++Fa););return(Ba=Fa)>=ba?Ma=!0:10===(Sa=M.charCodeAt(Fa++))?db=!0:13===Sa&&(db=!0,10===M.charCodeAt(Fa)&&++Fa),M.slice(lb+1,Ba-1).replace(/""/g,'"')}for(;Fa<ba;){if(10===(Sa=M.charCodeAt(Ba=Fa++)))db=!0;else if(13===
Sa)db=!0,10===M.charCodeAt(Fa)&&++Fa;else if(Sa!==W)continue;return M.slice(lb,Ba)}return Ma=!0,M.slice(lb,ba)}var ea,oa=[],ba=M.length,Fa=0,Ra=0,Ma=0>=ba,db=!1;10===M.charCodeAt(ba-1)&&--ba;for(13===M.charCodeAt(ba-1)&&--ba;(ea=ca())!==xa;){for(var ab=[];ea!==wa&&ea!==xa;)ab.push(ea),ea=ca();P&&null==(ab=P(ab,Ra++))||oa.push(ab)}return oa}function Ta(M,P){return M.map(function(ca){return P.map(function(ea){return pa(ca[ea])}).join(ra)})}function za(M){return M.map(pa).join(ra)}function pa(M){if(null==
M)var P="";else{if(M instanceof Date){var ca=M.getUTCHours();var ea=M.getUTCMinutes(),oa=M.getUTCSeconds(),ba=M.getUTCMilliseconds();ca=isNaN(M)?"Invalid Date":(0>(P=M.getUTCFullYear())?"-"+n(-P,6):9999<P?"+"+n(P,6):n(P,4))+"-"+n(M.getUTCMonth()+1,2)+"-"+n(M.getUTCDate(),2)+(ba?"T"+n(ca,2)+":"+n(ea,2)+":"+n(oa,2)+"."+n(ba,3)+"Z":oa?"T"+n(ca,2)+":"+n(ea,2)+":"+n(oa,2)+"Z":ea||ca?"T"+n(ca,2)+":"+n(ea,2)+"Z":"")}else ca=T.test(M+="")?'"'+M.replace(/"/g,'""')+'"':M;P=ca}return P}var T=new RegExp('["'+
ra+"\n\r]"),W=ra.charCodeAt(0);return{parse:function(M,P){var ca,ea;M=Na(M,function(oa,ba){if(ca)return ca(oa,ba-1);ea=oa;ca=P?function(Fa,Ra){var Ma=a(Fa);return function(db,ab){return Ra(Ma(db),ab,Fa)}}(oa,P):a(oa)});return M.columns=ea||[],M},parseRows:Na,format:function(M,P){return null==P&&(P=e(M)),[P.map(pa).join(ra)].concat(Ta(M,P)).join("\n")},formatBody:function(M,P){return null==P&&(P=e(M)),Ta(M,P).join("\n")},formatRows:function(M){return M.map(za).join("\n")},formatRow:za,formatValue:pa}}
function A(ra){const Na=function(Ta,za){const pa={delimiter:ra};return C(Ta,za?w.extend(za,pa):pa)};return Na.responseType="text",Na}function C(ra,Na){return Na.header&&(ra=Na.header.map(w.stringValue).join(Na.delimiter)+"\n"+ra),y(Na.delimiter).parse(ra+"")}function N(ra,Na){const Ta=Na&&Na.property?w.field(Na.property):w.identity;!w.isObject(ra)||(za=ra,"function"==typeof m&&w.isFunction(m.isBuffer)&&m.isBuffer(za))?Na=Ta(JSON.parse(ra)):(ra=Ta(ra),!w.isArray(ra)&&w.isIterable(ra)&&(ra=[...ra]),
Na=Na&&Na.copy?JSON.parse(JSON.stringify(ra)):ra);return Na;var za}function K(ra){return ra}function E(ra,Na){return"string"==typeof Na&&(Na=ra.objects[Na]),"GeometryCollection"===Na.type?{type:"FeatureCollection",features:Na.geometries.map(function(Ta){return x(ra,Ta)})}:x(ra,Na)}function x(ra,Na){var Ta=Na.id,za=Na.bbox,pa=null==Na.properties?{}:Na.properties;ra=D(ra,Na);return null==Ta&&null==za?{type:"Feature",properties:pa,geometry:ra}:null==za?{type:"Feature",id:Ta,properties:pa,geometry:ra}:
{type:"Feature",id:Ta,bbox:za,properties:pa,geometry:ra}}function D(ra,Na){function Ta(P){return W(P)}function za(P){for(var ca=[],ea=0,oa=P.length;ea<oa;++ea){var ba,Fa=P[ea],Ra=ca;Ra.length&&Ra.pop();var Ma=M[0>Fa?~Fa:Fa],db=0;for(ba=Ma.length;db<ba;++db)Ra.push(W(Ma[db],db));if(0>Fa)for(Fa=Ra.length,Ma=Fa-ba;Ma<--Fa;)ba=Ra[Ma],Ra[Ma++]=Ra[Fa],Ra[Fa]=ba}return 2>ca.length&&ca.push(ca[0]),ca}function pa(P){for(P=za(P);4>P.length;)P.push(P[0]);return P}function T(P){return P.map(pa)}var W=function(P){if(null==
P)return K;var ca,ea,oa=P.scale[0],ba=P.scale[1],Fa=P.translate[0],Ra=P.translate[1];return function(Ma,db){db||(ca=ea=0);db=2;var ab=Ma.length,Ba=Array(ab);Ba[0]=(ca+=Ma[0])*oa+Fa;for(Ba[1]=(ea+=Ma[1])*ba+Ra;db<ab;)Ba[db]=Ma[db],++db;return Ba}}(ra.transform),M=ra.arcs;return function ea(ca){var oa=ca.type;switch(oa){case "GeometryCollection":return{type:oa,geometries:ca.geometries.map(ea)};case "Point":ca=W(ca.coordinates);break;case "MultiPoint":ca=ca.coordinates.map(Ta);break;case "LineString":ca=
za(ca.arcs);break;case "MultiLineString":ca=ca.arcs.map(za);break;case "Polygon":ca=T(ca.arcs);break;case "MultiPolygon":ca=ca.arcs.map(T);break;default:return null}return{type:oa,coordinates:ca}}(Na)}function H(ra,Na){function Ta(P,ca){for(var ea in P){var oa=P[ea];delete ca[oa.start];delete oa.start;delete oa.end;oa.forEach(function(ba){za[0>ba?~ba:ba]=1});W.push(oa)}}var za={},pa={},T={},W=[],M=-1;return Na.forEach(function(P,ca){var ea,oa=ra.arcs[0>P?~P:P];3>oa.length&&!oa[1][0]&&!oa[1][1]&&(ea=
Na[++M],Na[M]=P,Na[ca]=ea)}),Na.forEach(function(P){var ca=function(ba){var Fa,Ra=ra.arcs[0>ba?~ba:ba],Ma=Ra[0];ra.transform?(Fa=[0,0],Ra.forEach(function(db){Fa[0]+=db[0];Fa[1]+=db[1]})):Fa=Ra[Ra.length-1];return 0>ba?[Fa,Ma]:[Ma,Fa]}(P);var ea=ca[0],oa=ca[1];(ca=T[ea])?(delete T[ca.end],ca.push(P),ca.end=oa,P=pa[oa])?(delete pa[P.start],ea=P===ca?ca:ca.concat(P),pa[ea.start=ca.start]=T[ea.end=P.end]=ea):pa[ca.start]=T[ca.end]=ca:(ca=pa[oa])?(delete pa[ca.start],ca.unshift(P),ca.start=ea,P=T[ea])?
(delete T[P.end],ea=P===ca?ca:P.concat(ca),pa[ea.start=P.start]=T[ea.end=ca.end]=ea):pa[ca.start]=T[ca.end]=ca:pa[(ca=[P]).start=ea]=T[ca.end=oa]=ca}),Ta(T,pa),Ta(pa,T),Na.forEach(function(P){za[0>P?~P:P]||W.push([P])}),W}function S(ra){return D(ra,U.apply(this,arguments))}function U(ra,Na,Ta){var za;if(1<arguments.length)var pa=ia(ra,Na,Ta);else{var T=0;for(pa=Array(za=ra.arcs.length);T<za;++T)pa[T]=T}return{type:"MultiLineString",arcs:H(ra,pa)}}function ia(ra,Na,Ta){function za(ca){var ea=0>ca?
~ca:ca;(P[ea]||(P[ea]=[])).push({i:ca,g:W})}function pa(ca){ca.forEach(za)}function T(ca){ca.forEach(pa)}var W,M=[],P=[];return function oa(ea){switch(W=ea,ea.type){case "GeometryCollection":ea.geometries.forEach(oa);break;case "LineString":pa(ea.arcs);break;case "MultiLineString":case "Polygon":T(ea.arcs);break;case "MultiPolygon":ea.arcs.forEach(T),!0}}(Na),P.forEach(null==Ta?function(ea){M.push(ea[0].i)}:function(ea){Ta(ea[0].g,ea[ea.length-1].g)&&M.push(ea[0].i)}),M}function fa(ra,Na){let Ta,
za,pa,T;return ra=N(ra,Na),Na&&Na.feature?(Ta=E,pa=Na.feature):Na&&Na.mesh?(Ta=S,pa=Na.mesh,T=Da[Na.filter]):w.error("Missing TopoJSON feature or mesh parameter."),za=(za=ra.objects[pa])?Ta(ra,za,T):w.error("Invalid TopoJSON object: "+pa),za&&za.features||[za]}function ja(ra,Na){return 1<arguments.length?(Wa[ra]=Na,this):w.hasOwnProperty(Wa,ra)?Wa[ra]:null}const la=/^([A-Za-z]+:)?\/\//,da=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,O=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,
B=ra=>!(Number.isNaN(+ra)||ra instanceof Date),Y={boolean:w.toBoolean,integer:w.toNumber,number:w.toNumber,date:w.toDate,string:w.toString,unknown:w.identity},ka=[ra=>"true"===ra||"false"===ra||!0===ra||!1===ra,ra=>B(ra)&&Number.isInteger(+ra),B,ra=>!Number.isNaN(Date.parse(ra))],Z=["boolean","integer","number","date"];var wa={},xa={};C.responseType="text";N.responseType="json";const Da={interior:(ra,Na)=>ra!==Na,exterior:(ra,Na)=>ra===Na};fa.responseType="json";const Wa={dsv:C,csv:A(","),tsv:A("\t"),
json:N,topojson:fa},gb=function(ra,Na){return Ta=>({options:Ta||{},sanitize:v,load:L,fileAccess:!!Na,file:u(Na),http:k(ra)})}("undefined"!=typeof fetch&&fetch,null);l.format=Wa;l.formats=ja;l.inferType=d;l.inferTypes=g;l.loader=gb;l.read=function(ra,Na,Ta,za){const pa=ja((Na=Na||{}).type||"json");return pa||w.error("Unknown data format type: "+Na.type),ra=pa(ra,Na),Na.parse&&function(T,W,M,P){if(T.length){var ca=G.timeFormatDefaultLocale();M=M||ca.timeParse;P=P||ca.utcParse;var ea,oa,ba=T.columns||
Object.keys(T[0]);"auto"===W&&(W=g(T,ba));ba=Object.keys(W);var Fa=ba.map(ab=>{var Ba=W[ab];if(Ba&&(Ba.startsWith("date:")||Ba.startsWith("utc:")))return ab=Ba.split(/:(.+)?/,2),Ba=ab[1],("'"===Ba[0]&&"'"===Ba[Ba.length-1]||'"'===Ba[0]&&'"'===Ba[Ba.length-1])&&(Ba=Ba.slice(1,-1)),("utc"===ab[0]?P:M)(Ba);if(!Y[Ba])throw Error("Illegal format pattern: "+ab+":"+Ba);return Y[Ba]});var Ra=0;var Ma=T.length;for(oa=ba.length;Ra<Ma;++Ra)for(ca=T[Ra],ea=0;ea<oa;++ea){var db=ba[ea];ca[db]=Fa[ea](ca[db])}}}(ra,
Na.parse,Ta,za),w.hasOwnProperty(ra,"columns")&&delete ra.columns,ra};l.responseType=function(ra){return(ra=ja(ra))&&ra.responseType||"text"};l.typeParsers=Y;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(27),z(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega))})(this,function(m,l,w,G){function L(ra){const Na=ra||l.identity,Ta=[],za={};Ta.add=pa=>{const T=Na(pa);za[T]||(za[T]=1,Ta.push(pa));return Ta};Ta.remove=pa=>{const T=Na(pa);za[T]&&(za[T]=0,
pa=Ta.indexOf(pa),0<=pa&&Ta.splice(pa,1));return Ta};return Ta}function v(ra,Na){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Na(ra)}catch(Ta){ra.error(Ta)}})}function u(ra){ra=ra===Object(ra)?ra:{data:ra};if(!ra[B]){var Na=Y++;ra[B]=Na}return ra}function t(ra,Na){for(const Ta in ra)Na[Ta]=ra[Ta];return Na}function k(ra){return ra&&ra.constructor===f}function f(){const ra=[],Na=[],Ta=[],za=[],pa=[];let T=null,W=!1;return{constructor:f,insert(M){M=l.array(M);const P=M.length;
for(let ca=0;ca<P;++ca)ra.push(M[ca]);return this},remove(M){const P=l.isFunction(M)?za:Na;M=l.array(M);const ca=M.length;for(let ea=0;ea<ca;++ea)P.push(M[ea]);return this},modify(M,P,ca){P={field:P,value:l.constant(ca)};l.isFunction(M)?(P.filter=M,pa.push(P)):(P.tuple=M,Ta.push(P));return this},encode(M,P){l.isFunction(M)?pa.push({filter:M,field:P}):Ta.push({tuple:M,field:P});return this},clean(M){T=M;return this},reflow(){W=!0;return this},pulse(M,P){function ca(Ba,Sa,lb){lb?Ba[Sa]=lb(Ba):M.encode=
Sa;W||(oa[Ba[B]]=Ba)}const ea={},oa={};let ba,Fa,Ra,Ma,db,ab;ba=0;for(Fa=P.length;ba<Fa;++ba)ea[P[ba][B]]=1;ba=0;for(Fa=Na.length;ba<Fa;++ba)db=Na[ba],ea[db[B]]=-1;ba=0;for(Fa=za.length;ba<Fa;++ba)Ma=za[ba],P.forEach(Ba=>{Ma(Ba)&&(ea[Ba[B]]=-1)});ba=0;for(Fa=ra.length;ba<Fa;++ba)db=ra[ba],ab=db[B],ea[ab]?ea[ab]=1:M.add.push(u(ra[ba]));ba=0;for(Fa=P.length;ba<Fa;++ba)db=P[ba],0>ea[db[B]]&&M.rem.push(db);ba=0;for(Fa=Ta.length;ba<Fa;++ba)Ra=Ta[ba],db=Ra.tuple,Ma=Ra.field,ab=ea[db[B]],0<ab&&(ca(db,Ma,
Ra.value),M.modifies(Ma));ba=0;for(Fa=pa.length;ba<Fa;++ba)Ra=pa[ba],Ma=Ra.filter,P.forEach(Ba=>{Ma(Ba)&&0<ea[Ba[B]]&&ca(Ba,Ra.field,Ra.value)}),M.modifies(Ra.field);if(W)M.mod=Na.length||za.length?P.filter(Ba=>0<ea[Ba[B]]):P.slice();else for(ab in oa)M.mod.push(oa[ab]);(T||null==T&&(Na.length||za.length))&&M.clean(!0);return M}}}function d(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function g(ra,Na,Ta,za){this.id=++ka;this.value=ra;this.qrank=this.rank=this.stamp=-1;this.flags=
0;Na&&(this._update=Na);Ta&&this.parameters(Ta,za)}function a(ra){return function(Na){const Ta=this.flags;if(0===arguments.length)return!!(Ta&ra);this.flags=Na?Ta|ra:Ta&~ra;return this}}function e(ra,Na,Ta){this.id=++wa;this.value=null;Ta&&(this.receive=Ta);ra&&(this._filter=ra);Na&&(this._apply=Na)}function n(ra,Na,Ta){return new e(ra,Na,Ta)}function y(ra){let Na;const Ta=new Promise(za=>Na=za);Ta.requests=0;Ta.done=()=>{0===--Ta.requests&&(ra._pending=null,Na(ra))};return ra._pending=Ta}function A(ra,
Na,Ta,za,pa,T){const W=l.extend({},T,xa);let M;l.isFunction(Ta)||(Ta=l.constant(Ta));void 0===za?pa=P=>ra.touch(Ta(P)):l.isFunction(za)?(M=new g(null,za,pa,!1),pa=P=>{M.evaluate(P);P=Ta(P);const ca=M.value;k(ca)?ra.pulse(P,ca,T):ra.update(P,ca,W)}):pa=P=>ra.update(Ta(P),za,W);Na.apply(pa)}function C(ra,Na,Ta,za,pa,T){void 0===za?Na.targets().add(Ta):(T=T||{},za=new g(null,N(Ta,za),pa,!1),za.modified(T.force),za.rank=Na.rank,Na.targets().add(za),Ta&&(za.skip(!0),za.value=Ta.value,za.targets().add(Ta),
ra.connect(Ta,[za])))}function N(ra,Na){Na=l.isFunction(Na)?Na:l.constant(Na);return ra?function(Ta,za){Ta=Na(Ta,za);ra.skip()||(ra.skip(Ta!==this.value).value=Ta);return Ta}:Na}function K(ra,Na,Ta){this.dataflow=ra;this.stamp=null==Na?-1:Na;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Ta||null}function E(ra,Na){const Ta=[];l.visitArray(ra,Na,za=>Ta.push(za));return Ta}function x(ra,Na){const Ta={};ra.visit(Na,za=>{Ta[za[B]]=1});return za=>Ta[za[B]]?null:za}function D(ra,Na){return ra?
(Ta,za)=>ra(Ta,za)&&Na(Ta,za):Na}function H(ra,Na,Ta,za){const pa=Ta.length;let T=0;this.dataflow=ra;this.stamp=Na;this.fields=null;this.encode=za||null;this.pulses=Ta;for(ra=0;ra<pa;++ra)if(za=Ta[ra],za.stamp===Na){if(za.fields){const W=this.fields||(this.fields={});for(const M in za.fields)W[M]=1}za.changed(this.ADD)&&(T|=this.ADD);za.changed(this.REM)&&(T|=this.REM);za.changed(this.MOD)&&(T|=this.MOD)}this.changes=T}function S(ra){ra.error("Dataflow already running. Use runAsync() to chain invocations.");
return ra}function U(ra,Na){if(Na&&Na.stamp===ra.stamp)return Na;ra=ra.fork();Na&&Na!==Da&&(ra.source=Na.source);return ra}function ia(ra){let Na=[];return{clear:()=>Na=[],size:()=>Na.length,peek:()=>Na[0],push:Ta=>{Na.push(Ta);return fa(Na,0,Na.length-1,ra)},pop:()=>{var Ta=Na.pop();let za;if(Na.length){za=Na[0];Na[0]=Ta;{Ta=Na;var pa=0;const T=pa,W=Ta.length,M=Ta[pa];let P=(pa<<1)+1,ca;for(;P<W;)ca=P+1,ca<W&&0<=ra(Ta[P],Ta[ca])&&(P=ca),Ta[pa]=Ta[P],pa=P,P=(pa<<1)+1;Ta[pa]=M;fa(Ta,T,pa,ra)}}else za=
Ta;return za}}}function fa(ra,Na,Ta,za){let pa,T;const W=ra[Ta];for(;Ta>Na;)if(T=Ta-1>>1,pa=ra[T],0>za(W,pa))ra[Ta]=pa,Ta=T;else break;return ra[Ta]=W}function ja(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=G.defaultLocale();try{this._loader=w.loader()}catch(ra){}this._touched=L(l.id);this._input={};this._pulse=null;this._heap=ia((ra,Na)=>ra.qrank-Na.qrank);this._postrun=[]}function la(ra){return function(){return this._log[ra].apply(this,arguments)}}function da(ra,
Na){g.call(this,ra,null,Na)}function O(ra){ra=ra&&ra.toLowerCase();return l.hasOwnProperty(gb,ra)?gb[ra]:null}const B=Symbol("vega_id");let Y=1;d.prototype={set(ra,Na,Ta,za){const pa=this[ra],T=this["_:mod:_"];if(null!=Na&&0<=Na){if(pa[Na]!==Ta||za)pa[Na]=Ta,T[Na+":"+ra]=-1,T[ra]=-1}else if(pa!==Ta||za)this[ra]=Ta,T[ra]=l.isArray(Ta)?1+Ta.length:-1;return this},modified(ra,Na){const Ta=this["_:mod:_"];if(!arguments.length){for(var za in Ta)if(Ta[za])return!0;return!1}if(l.isArray(ra)){for(za=0;za<
ra.length;++za)if(Ta[ra[za]])return!0;return!1}return null!=Na&&0<=Na?Na+1<Ta[ra]||!!Ta[Na+":"+ra]:!!Ta[ra]},clear(){this["_:mod:_"]={};return this}};let ka=0;const Z=new d;g.prototype={targets(){return this._targets||(this._targets=L(l.id))},set(ra){return this.value!==ra?(this.value=ra,1):0},skip:a(1),modified:a(2),parameters(ra,Na,Ta){Na=!1!==Na;const za=this._argval=this._argval||new d,pa=this._argops=this._argops||[],T=[];let W,M,P,ca;const ea=(oa,ba,Fa)=>{Fa instanceof g?(Fa!==this&&(Na&&Fa.targets().add(this),
T.push(Fa)),pa.push({op:Fa,name:oa,index:ba})):za.set(oa,ba,Fa)};for(W in ra)if(M=ra[W],"pulse"===W)l.array(M).forEach(oa=>{oa instanceof g?oa!==this&&(oa.targets().add(this),T.push(oa)):l.error("Pulse parameters must be operator instances.")}),this.source=M;else if(l.isArray(M))for(za.set(W,-1,Array(P=M.length)),ca=0;ca<P;++ca)ea(W,ca,M[ca]);else ea(W,-1,M);this.marshall().clear();Ta&&(pa.initonly=!0);return T},marshall(ra){const Na=this._argval||Z,Ta=this._argops;let za,pa,T,W;if(Ta){const M=Ta.length;
for(pa=0;pa<M;++pa)za=Ta[pa],T=za.op,W=T.modified()&&T.stamp===ra,Na.set(za.name,za.index,T.value,W);if(Ta.initonly){for(pa=0;pa<M;++pa)za=Ta[pa],za.op.targets().remove(this);this._update=this._argops=null}}return Na},detach(){const ra=this._argops;let Na,Ta;if(ra)for(Na=0,Ta=ra.length;Na<Ta;++Na){var za=ra[Na];za=za.op;za._targets&&za._targets.remove(this)}},evaluate(ra){var Na=this._update;if(Na){const Ta=this.marshall(ra.stamp);Na=Na.call(this,Ta,ra);Ta.clear();if(Na!==this.value)this.value=Na;
else if(!this.modified())return ra.StopPropagation}},run(ra){if(ra.stamp<this.stamp)return ra.StopPropagation;let Na;this.skip()?(this.skip(!1),Na=0):Na=this.evaluate(ra);return this.pulse=Na||ra}};let wa=0;e.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=L(l.id))},consume(ra){if(!arguments.length)return!!this._consume;this._consume=!!ra;return this},receive(ra){if(this._filter(ra)){const Na=this.value=this._apply(ra),Ta=this._targets,za=Ta?Ta.length:
0;for(let pa=0;pa<za;++pa)Ta[pa].receive(Na);this._consume&&(ra.preventDefault(),ra.stopPropagation())}},filter(ra){ra=n(ra);this.targets().add(ra);return ra},apply(ra){ra=n(null,ra);this.targets().add(ra);return ra},merge(){const ra=n();this.targets().add(ra);for(let Na=0,Ta=arguments.length;Na<Ta;++Na)arguments[Na].targets().add(ra);return ra},throttle(ra){let Na=-1;return this.filter(()=>{const Ta=Date.now();return Ta-Na>ra?(Na=Ta,1):0})},debounce(ra){const Na=n();this.targets().add(n(null,null,
l.debounce(ra,Ta=>{const za=Ta.dataflow;Na.receive(Ta);za&&za.run&&za.run()})));return Na},between(ra,Na){let Ta=!1;ra.targets().add(n(null,null,()=>Ta=!0));Na.targets().add(n(null,null,()=>Ta=!1));return this.filter(()=>Ta)},detach(){}};const xa={skip:!0},Da={};K.prototype={StopPropagation:Da,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(ra){return(new K(this.dataflow)).init(this,ra)},clone(){const ra=this.fork(7);ra.add=ra.add.slice();ra.rem=ra.rem.slice();
ra.mod=ra.mod.slice();ra.source&&(ra.source=ra.source.slice());return ra.materialize(23)},addAll(){let ra=this;ra.source&&ra.add!==ra.rem&&(ra.rem.length||ra.source.length!==ra.add.length)&&(ra=(new K(this.dataflow)).init(this),ra.add=ra.source,ra.rem=[]);return ra},init(ra,Na){this.stamp=ra.stamp;this.encode=ra.encode;!ra.fields||Na&64||(this.fields=ra.fields);Na&1?(this.addF=ra.addF,this.add=ra.add):(this.addF=null,this.add=[]);Na&2?(this.remF=ra.remF,this.rem=ra.rem):(this.remF=null,this.rem=[]);
Na&4?(this.modF=ra.modF,this.mod=ra.mod):(this.modF=null,this.mod=[]);Na&32?this.source=this.srcF=null:(this.srcF=ra.srcF,this.source=ra.source,ra.cleans&&(this.cleans=ra.cleans));return this},runAfter(ra){this.dataflow.runAfter(ra)},changed(ra){ra=ra||7;return ra&1&&this.add.length||ra&2&&this.rem.length||ra&4&&this.mod.length},reflow(ra){if(ra)return this.fork(7).reflow();ra=this.add.length;const Na=this.source&&this.source.length;Na&&Na!==ra&&(this.mod=this.source,ra&&this.filter(4,x(this,1)));
return this},clean(ra){return arguments.length?(this.cleans=!!ra,this):this.cleans},modifies(ra){const Na=this.fields||(this.fields={});l.isArray(ra)?ra.forEach(Ta=>Na[Ta]=!0):Na[ra]=!0;return this},modified(ra,Na){const Ta=this.fields;return(Na||this.mod.length)&&Ta?arguments.length?l.isArray(ra)?ra.some(za=>Ta[za]):Ta[ra]:!!Ta:!1},filter(ra,Na){ra&1&&(this.addF=D(this.addF,Na));ra&2&&(this.remF=D(this.remF,Na));ra&4&&(this.modF=D(this.modF,Na));ra&16&&(this.srcF=D(this.srcF,Na));return this},materialize(ra){ra=
ra||7;ra&1&&this.addF&&(this.add=E(this.add,this.addF),this.addF=null);ra&2&&this.remF&&(this.rem=E(this.rem,this.remF),this.remF=null);ra&4&&this.modF&&(this.mod=E(this.mod,this.modF),this.modF=null);ra&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(ra,Na){if(ra&16)return l.visitArray(this.source,this.srcF,Na),this;ra&1&&l.visitArray(this.add,this.addF,Na);ra&2&&l.visitArray(this.rem,this.remF,Na);ra&4&&l.visitArray(this.mod,this.modF,Na);const Ta=this.source;
ra&8&&Ta&&(ra=this.add.length+this.mod.length,ra!==Ta.length&&(ra?l.visitArray(Ta,x(this,5),Na):l.visitArray(Ta,this.srcF,Na)));return this}};l.inherits(H,K,{fork(ra){const Na=(new K(this.dataflow)).init(this,ra&this.NO_FIELDS);void 0!==ra&&(ra&Na.ADD&&this.visit(Na.ADD,Ta=>Na.add.push(Ta)),ra&Na.REM&&this.visit(Na.REM,Ta=>Na.rem.push(Ta)),ra&Na.MOD&&this.visit(Na.MOD,Ta=>Na.mod.push(Ta)));return Na},changed(ra){return this.changes&ra},modified(ra){const Na=this.fields;return Na&&this.changes&this.MOD?
l.isArray(ra)?ra.some(Ta=>Na[Ta]):Na[ra]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},visit(ra,Na){const Ta=this.pulses,za=Ta.length;let pa=0;if(ra&this.SOURCE)for(;pa<za;++pa)Ta[pa].visit(ra,Na);else for(;pa<za;++pa)Ta[pa].stamp===this.stamp&&Ta[pa].visit(ra,Na);return this}});const Wa={skip:!1,force:!1};ja.prototype={stamp(){return this._clock},loader(ra){return arguments.length?(this._loader=ra,this):this._loader},
locale(ra){return arguments.length?(this._locale=ra,this):this._locale},logger(ra){return arguments.length?(this._log=ra,this):this._log},error:la("error"),warn:la("warn"),info:la("info"),debug:la("debug"),logLevel:la("level"),cleanThreshold:1E4,add:function(ra,Na,Ta,za){let pa=1;ra instanceof g||(ra&&ra.prototype instanceof g?ra=new ra:l.isFunction(ra)?ra=new g(null,ra):(pa=0,ra=new g(ra,Na)));this.rank(ra);pa&&(za=Ta,Ta=Na);Ta&&this.connect(ra,ra.parameters(Ta,za));this.touch(ra);return ra},connect:function(ra,
Na){const Ta=ra.rank,za=Na.length;for(let pa=0;pa<za;++pa)if(Ta<Na[pa].rank){this.rerank(ra);break}},rank:function(ra){ra.rank=++this._rank},rerank:function(ra){const Na=[ra];let Ta,za,pa;for(;Na.length;)if(this.rank(Ta=Na.pop()),za=Ta._targets)for(pa=za.length;0<=--pa;)Na.push(Ta=za[pa]),Ta===ra&&l.error("Cycle detected in dataflow graph.")},pulse:function(ra,Na,Ta){this.touch(ra,Ta||Wa);Ta=new K(this,this._clock+(this._pulse?0:1));const za=ra.pulse&&ra.pulse.source||[];Ta.target=ra;this._input[ra.id]=
Na.pulse(Ta,za);return this},touch:function(ra,Na){Na=Na||Wa;this._pulse?this._enqueue(ra):this._touched.add(ra);Na.skip&&ra.skip(!0);return this},update:function(ra,Na,Ta){Ta=Ta||Wa;(ra.set(Na)||Ta.force)&&this.touch(ra,Ta);return this},changeset:f,ingest:function(ra,Na,Ta){Na=this.parse(Na,Ta);return this.pulse(ra,this.changeset().insert(Na))},parse:function(ra,Na){const Ta=this.locale();return w.read(ra,Na,Ta.timeParse,Ta.utcParse)},preload:function(ra,Na,Ta){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const pa=
za._pending||y(za);pa.requests+=1;const T=yield za.request(Na,Ta);za.pulse(ra,za.changeset().remove(l.truthy).insert(T.data||[]));pa.done();return T})},request:function(ra,Na){const Ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let za=0,pa;try{pa=yield Ta.loader().load(ra,{context:"dataflow",response:w.responseType(Na&&Na.type)});try{pa=Ta.parse(pa,Na)}catch(T){za=-2,Ta.warn("Data ingestion failed",ra,T)}}catch(T){za=-1,Ta.warn("Loading failed",ra,T)}return{data:pa,status:za}})},
events:function(ra,Na,Ta,za){const pa=this,T=n(Ta,za);Ta=function(W){W.dataflow=pa;try{T.receive(W)}catch(M){pa.error(M)}finally{pa.run()}};ra="string"===typeof ra&&"undefined"!==typeof document?document.querySelectorAll(ra):l.array(ra);za=ra.length;for(let W=0;W<za;++W)ra[W].addEventListener(Na,Ta);return T},on:function(ra,Na,Ta,za,pa){(ra instanceof g?C:A)(this,ra,Na,Ta,za,pa);return this},evaluate:function(ra,Na,Ta){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const pa=
[];if(za._pulse)return S(za);za._pending&&(yield za._pending);Na&&(yield v(za,Na));if(!za._touched.length)return za.debug("Dataflow invoked, but nothing to do."),za;var T=++za._clock;za._pulse=new K(za,T,ra);za._touched.forEach(ea=>za._enqueue(ea,!0));za._touched=L(l.id);var W=0;let M,P,ca;try{for(;0<za._heap.size();)M=za._heap.pop(),M.rank!==M.qrank?za._enqueue(M,!0):(P=M.run(za._getPulse(M,ra)),P.then?P=yield P:P.async&&(pa.push(P.async),P=Da),P!==Da&&M._targets&&M._targets.forEach(ea=>za._enqueue(ea)),
++W)}catch(ea){za._heap.clear(),ca=ea}za._input={};za._pulse=null;za.debug(`Pulse ${T}: ${W} operators`);ca&&(za._postrun=[],za.error(ca));if(za._postrun.length)for(T=za._postrun.sort((ea,oa)=>oa.priority-ea.priority),za._postrun=[],W=0;W<T.length;++W)yield v(za,T[W].callback);Ta&&(yield v(za,Ta));pa.length&&Promise.all(pa).then(ea=>za.runAsync(null,()=>{ea.forEach(oa=>{try{oa(za)}catch(ba){za.error(ba)}})}));return za})},run:function(ra,Na,Ta){return this._pulse?S(this):(this.evaluate(ra,Na,Ta),
this)},runAsync:function(ra,Na,Ta){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;za._running;)yield za._running;const pa=()=>za._running=null;(za._running=za.evaluate(ra,Na,Ta)).then(pa,pa);return za._running})},runAfter:function(ra,Na,Ta){if(this._pulse||Na)this._postrun.push({priority:Ta||0,callback:ra});else try{ra(this)}catch(za){this.error(za)}},_enqueue:function(ra,Na){const Ta=ra.stamp<this._clock;Ta&&(ra.stamp=this._clock);if(Ta||Na)ra.qrank=ra.rank,this._heap.push(ra)},
_getPulse:function(ra,Na){const Ta=ra.source,za=this._clock;return Ta&&l.isArray(Ta)?new H(this,za,Ta.map(pa=>pa.pulse),Na):this._input[ra.id]||U(this._pulse,Ta&&Ta.pulse)}};l.inherits(da,g,{run(ra){if(ra.stamp<this.stamp)return ra.StopPropagation;let Na;this.skip()?this.skip(!1):Na=this.evaluate(ra);Na=Na||ra;Na.then?Na=Na.then(Ta=>this.pulse=Ta):Na!==ra.StopPropagation&&(this.pulse=Na);return Na},evaluate(ra){const Na=this.marshall(ra.stamp);ra=this.transform(Na,ra);Na.clear();return ra},transform(){}});
const gb={};m.Dataflow=ja;m.EventStream=e;m.MultiPulse=H;m.Operator=g;m.Parameters=d;m.Pulse=K;m.Transform=da;m.UniqueList=L;m.asyncCallback=v;m.changeset=f;m.definition=function(ra){return(ra=O(ra))&&ra.Definition||null};m.derive=function(ra){return t(ra,u({}))};m.ingest=u;m.isChangeSet=k;m.isTuple=function(ra){return!(!ra||!ra[B])};m.rederive=t;m.replace=function(ra,Na){Na[B]=ra[B];return Na};m.stableCompare=function(ra,Na){return ra?Na?(Ta,za)=>ra(Ta,za)||Na(Ta)[B]-Na(za)[B]:(Ta,za)=>ra(Ta,za)||
Ta[B]-za[B]:null};m.transform=O;m.transforms=gb;m.tupleid=function(ra){return ra[B]};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.d3))})(this,function(m,l){function*w(B,Y){if(null==Y)for(var ka of B)null!=ka&&""!==ka&&(ka=+ka)>=ka&&(yield ka);else{ka=-1;for(let Z of B)Z=Y(Z,++ka,B),null!=Z&&""!==Z&&(Z=+Z)>=Z&&(yield Z)}}function G(B,Y,ka){const Z=Float64Array.from(w(B,ka));Z.sort(l.ascending);
return Y.map(wa=>l.quantileSorted(Z,wa))}function L(B,Y){return G(B,[.25,.5,.75],Y)}function v(B,Y){const ka=B.length,Z=l.deviation(B,Y);B=L(B,Y);return 1.06*(Math.min(Z,(B[2]-B[0])/1.34)||Z||Math.abs(B[0])||1)*Math.pow(ka,-.2)}function u(B,Y){const ka=B.length;let Z=0,wa=1,xa,Da;for(;B[Z]===B[wa];)++wa;for(;wa<ka;){for(xa=wa+1;B[wa]===B[xa];)++xa;if(B[wa]-B[wa-1]<Y){for(Da=wa+(Z+xa-wa-wa>>1);Da<wa;)B[Da++]=B[wa];for(;Da>wa;)B[Da--]=B[Z]}Z=wa;wa=xa}return B}function t(B,Y){B=B||0;Y=null==Y?1:Y;let ka,
Z;if(da===da)ka=da,da=NaN;else{do{ka=2*m.random()-1;Z=2*m.random()-1;var wa=ka*ka+Z*Z}while(0===wa||1<wa);wa=Math.sqrt(-2*Math.log(wa)/wa);ka*=wa;da=Z*wa}return B+ka*Y}function k(B,Y,ka){ka=null==ka?1:ka;B=(B-(Y||0))/ka;return Math.exp(-.5*B*B)/(ka*ja)}function f(B,Y,ka){B=(B-(Y||0))/(null==ka?1:ka);Y=Math.abs(B);37<Y?ka=0:(ka=Math.exp(-Y*Y/2),7.07106781186547>Y?(ka*=(((((.0352624965998911*Y+.700383064443688)*Y+6.37396220353165)*Y+33.912866078383)*Y+112.079291497871)*Y+221.213596169931)*Y+220.206867912376,
ka/=((((((.0883883476483184*Y+1.75566716318264)*Y+16.064177579207)*Y+86.7807322029461)*Y+296.564248779674)*Y+637.333633378831)*Y+793.826512519948)*Y+440.413735824752):ka=ka/(Y+1/(Y+2/(Y+3/(Y+4/(Y+.65)))))/2.506628274631);return 0<B?1-ka:ka}function d(B,Y,ka){if(0>B||1<B)return NaN;B=2*B-1;var Z=-Math.log((1-B)*(1+B));6.25>Z?(Z-=3.125,Z=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z):16>Z?(Z=Math.sqrt(Z)-3.25,Z=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z):Number.isFinite(Z)?(Z=Math.sqrt(Z)-5,Z=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z)*Z):Z=Infinity;B*=Z;return(Y||0)+(null==ka?1:ka)*la*B}function g(B,Y){let ka,Z;const wa={mean(xa){return arguments.length?(ka=xa||0,wa):ka},
stdev(xa){return arguments.length?(Z=null==xa?1:xa,wa):Z},sample:()=>t(ka,Z),pdf:xa=>k(xa,ka,Z),cdf:xa=>f(xa,ka,Z),icdf:xa=>d(xa,ka,Z)};return wa.mean(B).stdev(Y)}function a(B,Y){Y=null==Y?1:Y;return Math.exp((B||0)+t()*Y)}function e(B,Y,ka){if(0>=B)return 0;ka=null==ka?1:ka;Y=(Math.log(B)-(Y||0))/ka;return Math.exp(-.5*Y*Y)/(ka*ja*B)}function n(B,Y,ka){return f(Math.log(B),Y,ka)}function y(B,Y,ka){return Math.exp(d(B,Y,ka))}function A(B,Y){null==Y&&(Y=null==B?1:B,B=0);return B+(Y-B)*m.random()}function C(B,
Y,ka){null==ka&&(ka=null==Y?1:Y,Y=0);return B>=Y&&B<=ka?1/(ka-Y):0}function N(B,Y,ka){null==ka&&(ka=null==Y?1:Y,Y=0);return B<Y?0:B>ka?1:(B-Y)/(ka-Y)}function K(B,Y,ka){null==ka&&(ka=null==Y?1:Y,Y=0);return 0<=B&&1>=B?Y+B*(ka-Y):NaN}function E(B,Y,ka,Z){Z-=B*B;ka=1E-24>Math.abs(Z)?0:(ka-B*Y)/Z;return[Y-ka*B,ka]}function x(B,Y,ka,Z){B=B.filter(Ta=>{let za=Y(Ta);Ta=ka(Ta);return null!=za&&(za=+za)>=za&&null!=Ta&&(Ta=+Ta)>=Ta});Z&&B.sort((Ta,za)=>Y(Ta)-Y(za));Z=B.length;const wa=new Float64Array(Z),
xa=new Float64Array(Z);let Da=0,Wa=0,gb=0,ra,Na;for(Na of B)wa[Da]=B=+Y(Na),xa[Da]=ra=+ka(Na),++Da,Wa+=(B-Wa)/Da,gb+=(ra-gb)/Da;for(Da=0;Da<Z;++Da)wa[Da]-=Wa,xa[Da]-=gb;return[wa,xa,Wa,gb]}function D(B,Y,ka,Z){let wa=-1,xa;for(const Da of B)B=Y(Da),xa=ka(Da),null!=B&&(B=+B)>=B&&null!=xa&&(xa=+xa)>=xa&&Z(B,xa,++wa)}function H(B,Y,ka,Z,wa){let xa=0,Da=0;D(B,Y,ka,(Wa,gb)=>{Wa=gb-wa(Wa);gb-=Z;xa+=Wa*Wa;Da+=gb*gb});return 1-xa/Da}function S(B,Y,ka){let Z=0,wa=0,xa=0,Da=0,Wa=0;D(B,Y,ka,(Na,Ta)=>{++Wa;Z+=
(Na-Z)/Wa;wa+=(Ta-wa)/Wa;xa+=(Na*Ta-xa)/Wa;Da+=(Na*Na-Da)/Wa});const gb=E(Z,wa,xa,Da),ra=Na=>gb[0]+gb[1]*Na;return{coef:gb,predict:ra,rSquared:H(B,Y,ka,wa,ra)}}function U(B,Y,ka){const [Z,wa,xa,Da]=x(B,Y,ka);var Wa=Z.length,gb=0;let ra=0;var Na=0;let Ta=0,za=0,pa,T,W,M;for(pa=0;pa<Wa;)T=Z[pa],W=wa[pa++],M=T*T,gb+=(M-gb)/pa,ra+=(M*T-ra)/pa,Na+=(M*M-Na)/pa,Ta+=(T*W-Ta)/pa,za+=(M*W-za)/pa;Wa=Na-gb*gb;Na=gb*Wa-ra*ra;const P=(za*gb-Ta*ra)/Na,ca=(Ta*Wa-za*ra)/Na,ea=-P*gb;gb=oa=>{oa-=xa;return P*oa*oa+ca*
oa+ea+Da};return{coef:[ea-ca*xa+P*xa*xa+Da,ca-2*P*xa,P],predict:gb,rSquared:H(B,Y,ka,Da,gb)}}function ia(B,Y,ka,Z){const wa=Array(B);let xa,Da,Wa;for(xa=0;xa<B;++xa)wa[xa]=0;for(xa=B-1;0<=xa;--xa)for(Da=Y[xa],Wa=1,wa[xa]+=Da,B=1;B<=xa;++B)Wa*=(xa+1-B)/B,wa[xa-B]+=Da*Math.pow(ka,B)*Wa;wa[0]+=Z;return wa}function fa(B){const Y=B.length-1,ka=[];let Z,wa,xa,Da,Wa;for(Z=0;Z<Y;++Z){Da=Z;for(wa=Z+1;wa<Y;++wa)Math.abs(B[Z][wa])>Math.abs(B[Z][Da])&&(Da=wa);for(xa=Z;xa<Y+1;++xa)Wa=B[xa][Z],B[xa][Z]=B[xa][Da],
B[xa][Da]=Wa;for(wa=Z+1;wa<Y;++wa)for(xa=Y;xa>=Z;xa--)B[xa][wa]-=B[xa][Z]*B[Z][wa]/B[Z][Z]}for(wa=Y-1;0<=wa;--wa){Wa=0;for(xa=wa+1;xa<Y;++xa)Wa+=B[xa][wa]*ka[xa];ka[wa]=(B[Y][wa]-Wa)/B[wa][wa]}return ka}m.random=Math.random;const ja=Math.sqrt(2*Math.PI),la=Math.SQRT2;let da=NaN;const O=.1*Math.PI/180;m.bandwidthNRD=v;m.bin=function(B){var Y=B.maxbins||20;const ka=B.base||10,Z=Math.log(ka),wa=B.divide||[5,2];let xa=B.extent[0],Da=B.extent[1];let Wa,gb,ra,Na;const Ta=B.span||Da-xa||Math.abs(xa)||1;
if(B.step)var za=B.step;else if(B.steps){gb=Ta/Y;ra=0;for(Na=B.steps.length;ra<Na&&B.steps[ra]<gb;++ra);za=B.steps[Math.max(0,ra-1)]}else{za=Math.ceil(Math.log(Y)/Z);Wa=B.minstep||0;for(za=Math.max(Wa,Math.pow(ka,Math.round(Math.log(Ta)/Z)-za));Math.ceil(Ta/za)>Y;)za*=ka;ra=0;for(Na=wa.length;ra<Na;++ra)gb=za/wa[ra],gb>=Wa&&Ta/gb<=Y&&(za=gb)}gb=Math.log(za);Y=Math.pow(ka,-(0<=gb?0:~~(-gb/Z)+1)-1);if(B.nice||void 0===B.nice)gb=Math.floor(xa/za+Y)*za,xa=xa<gb?gb-za:gb,Da=Math.ceil(Da/za)*za;return{start:xa,
stop:Da===xa?xa+za:Da,step:za}};m.bootstrapCI=function(B,Y,ka,Z){if(!B.length)return[void 0,void 0];B=Float64Array.from(w(B,Z));Z=B.length;let wa,xa,Da,Wa;Da=0;for(Wa=Array(Y);Da<Y;++Da){for(xa=wa=0;xa<Z;++xa)wa+=B[~~(m.random()*Z)];Wa[Da]=wa/Z}Wa.sort(l.ascending);return[l.quantile(Wa,ka/2),l.quantile(Wa,1-ka/2)]};m.cumulativeLogNormal=n;m.cumulativeNormal=f;m.cumulativeUniform=N;m.densityLogNormal=e;m.densityNormal=k;m.densityUniform=C;m.dotbin=function(B,Y,ka,Z){Z=Z||(za=>za);const wa=B.length,
xa=new Float64Array(wa);let Da=0,Wa=1,gb=Z(B[0]),ra=gb,Na=gb+Y,Ta;for(;Wa<wa;++Wa){Ta=Z(B[Wa]);if(Ta>=Na){for(ra=(gb+ra)/2;Da<Wa;++Da)xa[Da]=ra;Na=Ta+Y;gb=Ta}ra=Ta}for(ra=(gb+ra)/2;Da<Wa;++Da)xa[Da]=ra;return ka?u(xa,Y+Y/4):xa};m.quantileLogNormal=y;m.quantileNormal=d;m.quantileUniform=K;m.quantiles=G;m.quartiles=L;m.randomInteger=function(B,Y){null==Y&&(Y=B,B=0);let ka,Z,wa;const xa={min(Da){return arguments.length?(ka=Da||0,wa=Z-ka,xa):ka},max(Da){return arguments.length?(Z=Da||0,wa=Z-ka,xa):Z},
sample(){return ka+Math.floor(wa*m.random())},pdf(Da){return Da===Math.floor(Da)&&Da>=ka&&Da<Z?1/wa:0},cdf(Da){Da=Math.floor(Da);return Da<ka?0:Da>=Z?1:(Da-ka+1)/wa},icdf(Da){return 0<=Da&&1>=Da?ka-1+Math.floor(Da*wa):NaN}};return xa.min(B).max(Y)};m.randomKDE=function(B,Y){const ka=g();let Z=0;const wa={data(xa){return arguments.length?(Z=(B=xa)?xa.length:0,wa.bandwidth(Y)):B},bandwidth(xa){if(!arguments.length)return Y;Y=xa;!Y&&B&&(Y=v(B));return wa},sample(){return B[~~(m.random()*Z)]+Y*ka.sample()},
pdf(xa){let Da=0,Wa=0;for(;Wa<Z;++Wa)Da+=ka.pdf((xa-B[Wa])/Y);return Da/Y/Z},cdf(xa){let Da=0,Wa=0;for(;Wa<Z;++Wa)Da+=ka.cdf((xa-B[Wa])/Y);return Da/Z},icdf(){throw Error("KDE icdf not supported.");}};return wa.data(B)};m.randomLCG=function(B){return function(){B=(1103515245*B+12345)%2147483647;return B/2147483647}};m.randomLogNormal=function(B,Y){let ka,Z;const wa={mean(xa){return arguments.length?(ka=xa||0,wa):ka},stdev(xa){return arguments.length?(Z=null==xa?1:xa,wa):Z},sample:()=>a(ka,Z),pdf:xa=>
e(xa,ka,Z),cdf:xa=>n(xa,ka,Z),icdf:xa=>y(xa,ka,Z)};return wa.mean(B).stdev(Y)};m.randomMixture=function(B,Y){let ka=0,Z;const wa={weights(xa){if(arguments.length){{var Da=Y=xa||[];const Wa=[];let gb=0,ra;for(ra=0;ra<ka;++ra)gb+=Wa[ra]=null==Da[ra]?1:+Da[ra];for(ra=0;ra<ka;++ra)Wa[ra]/=gb;Z=Wa}return wa}return Y},distributions(xa){return arguments.length?(xa?(ka=xa.length,B=xa):(ka=0,B=[]),wa.weights(Y)):B},sample(){const xa=m.random();let Da=B[ka-1],Wa=Z[0],gb=0;for(;gb<ka-1;Wa+=Z[++gb])if(xa<Wa){Da=
B[gb];break}return Da.sample()},pdf(xa){let Da=0,Wa=0;for(;Wa<ka;++Wa)Da+=Z[Wa]*B[Wa].pdf(xa);return Da},cdf(xa){let Da=0,Wa=0;for(;Wa<ka;++Wa)Da+=Z[Wa]*B[Wa].cdf(xa);return Da},icdf(){throw Error("Mixture icdf not supported.");}};return wa.distributions(B).weights(Y)};m.randomNormal=g;m.randomUniform=function(B,Y){let ka,Z;const wa={min(xa){return arguments.length?(ka=xa||0,wa):ka},max(xa){return arguments.length?(Z=null==xa?1:xa,wa):Z},sample:()=>A(ka,Z),pdf:xa=>C(xa,ka,Z),cdf:xa=>N(xa,ka,Z),icdf:xa=>
K(xa,ka,Z)};null==Y&&(Y=null==B?1:B,B=0);return wa.min(B).max(Y)};m.regressionExp=function(B,Y,ka){const [Z,,wa,xa]=x(B,Y,ka);let Da=0,Wa=0,gb=0,ra=0,Na=0,Ta,za,pa;D(B,Y,ka,(P,ca)=>{Ta=Z[Na++];za=Math.log(ca);pa=Ta*ca;Da+=(ca*za-Da)/Na;Wa+=(pa-Wa)/Na;gb+=(pa*za-gb)/Na;ra+=(Ta*pa-ra)/Na});const [T,W]=E(Wa/xa,Da/xa,gb/xa,ra/xa),M=P=>Math.exp(T+W*(P-wa));return{coef:[Math.exp(T-W*wa),W],predict:M,rSquared:H(B,Y,ka,xa,M)}};m.regressionLinear=S;m.regressionLoess=function(B,Y,ka,Z){const [wa,xa,Da,Wa]=
x(B,Y,ka,!0);B=wa.length;Y=Math.max(2,~~(Z*B));Z=new Float64Array(B);ka=new Float64Array(B);var gb=(new Float64Array(B)).fill(1);for(var ra=-1;2>=++ra;){var Na=[0,Y-1];for(let ea=0;ea<B;++ea){var Ta=wa[ea],za=Na[0],pa=Na[1],T=0,W=0,M=0,P=0;let oa=0;const ba=1/Math.abs(wa[Ta-wa[za]>wa[pa]-Ta?za:pa]-Ta||1);for(;za<=pa;++za){const Ma=wa[za],db=xa[za];var ca=Math.abs(Ta-Ma)*ba;const ab=(ca=1-ca*ca*ca)*ca*ca*gb[za];ca=Ma*ab;T+=ab;W+=ca;M+=db*ab;P+=db*ca;oa+=Ma*ca}const [Fa,Ra]=E(W/T,M/T,P/T,oa/T);Z[ea]=
Fa+Ra*Ta;ka[ea]=Math.abs(xa[ea]-Z[ea]);Ta=wa;pa=ea+1;T=Na;W=Ta[pa];M=T[0];P=T[1]+1;if(!(P>=Ta.length))for(;pa>M&&Ta[P]-W<=W-Ta[M];)T[0]=++M,T[1]=P,++P}if(2===ra)break;Na=l.median(ka);if(1E-12>Math.abs(Na))break;for(let ea=0,oa,ba;ea<B;++ea)oa=ka[ea]/(6*Na),gb[ea]=1<=oa?1E-12:(ba=1-oa*oa)*ba}B=wa.length;Y=[];gb=ka=0;for(ra=[];ka<B;++ka)Na=wa[ka]+Da,ra[0]===Na?ra[1]+=(Z[ka]-ra[1])/++gb:(gb=0,ra[1]+=Wa,ra=[Na,Z[ka]],Y.push(ra));ra[1]+=Wa;return Z=Y};m.regressionLog=function(B,Y,ka){let Z=0,wa=0,xa=0,
Da=0,Wa=0;D(B,Y,ka,(Na,Ta)=>{++Wa;Na=Math.log(Na);Z+=(Na-Z)/Wa;wa+=(Ta-wa)/Wa;xa+=(Na*Ta-xa)/Wa;Da+=(Na*Na-Da)/Wa});const gb=E(Z,wa,xa,Da),ra=Na=>gb[0]+gb[1]*Math.log(Na);return{coef:gb,predict:ra,rSquared:H(B,Y,ka,wa,ra)}};m.regressionPoly=function(B,Y,ka,Z){if(1===Z)return S(B,Y,ka);if(2===Z)return U(B,Y,ka);const [wa,xa,Da,Wa]=x(B,Y,ka);var gb=wa.length;const ra=[],Na=[],Ta=Z+1;let za,pa,T,W;for(za=0;za<Ta;++za){for(T=pa=0;pa<gb;++pa)T+=Math.pow(wa[pa],za)*xa[pa];ra.push(T);W=new Float64Array(Ta);
for(Z=0;Z<Ta;++Z){for(T=pa=0;pa<gb;++pa)T+=Math.pow(wa[pa],za+Z);W[Z]=T}Na.push(W)}Na.push(ra);const M=fa(Na);gb=P=>{P-=Da;let ca=Wa+M[0]+M[1]*P+M[2]*P*P;for(za=3;za<Ta;++za)ca+=M[za]*Math.pow(P,za);return ca};return{coef:ia(Ta,M,-Da,Wa),predict:gb,rSquared:H(B,Y,ka,Wa,gb)}};m.regressionPow=function(B,Y,ka){let Z=0,wa=0,xa=0,Da=0,Wa=0,gb=0;D(B,Y,ka,(Ta,za)=>{Ta=Math.log(Ta);const pa=Math.log(za);++gb;Z+=(Ta-Z)/gb;wa+=(pa-wa)/gb;xa+=(Ta*pa-xa)/gb;Da+=(Ta*Ta-Da)/gb;Wa+=(za-Wa)/gb});const ra=E(Z,wa,
xa,Da),Na=Ta=>ra[0]*Math.pow(Ta,ra[1]);ra[0]=Math.exp(ra[0]);return{coef:ra,predict:Na,rSquared:H(B,Y,ka,Wa,Na)}};m.regressionQuad=U;m.sampleCurve=function(B,Y,ka,Z){ka=ka||25;Z=Math.max(ka,Z||200);var wa=Na=>[Na,B(Na)],xa=Y[0];const Da=Y[1],Wa=Da-xa;var gb=Wa/Z;Y=[[xa,B(xa)]];const ra=[];if(ka===Z){for(gb=1;gb<Z;++gb)Y.push(wa(xa+gb/ka*Wa));Y.push([Da,B(Da)]);return Y}ra.push([Da,B(Da)]);for(Z=ka;0<--Z;)ra.push(wa(xa+Z/ka*Wa));ka=Y[0];for(wa=ra[ra.length-1];wa;)xa=(ka[0]+wa[0])/2,xa=[xa,B(xa)],xa[0]-
ka[0]>=gb&&Math.abs(Math.atan2(wa[1]-ka[1],wa[0]-ka[0])-Math.atan2(xa[1]-ka[1],xa[0]-ka[0]))>O?ra.push(xa):(ka=wa,Y.push(wa),ra.pop()),wa=ra[ra.length-1];return Y};m.sampleLogNormal=a;m.sampleNormal=t;m.sampleUniform=A;m.setRandom=function(B){m.random=B};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(28),z(29),z(17),z(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.d3,m.vega))})(this,function(m,l,w,G,L,v){function u(Ha){return Ya=>{const pb=Ha.length;let Db=1,Xb=String(Ha[0](Ya));for(;Db<pb;++Db)Xb+="|"+Ha[Db](Ya);
return Xb}}function t(Ha){return Ha&&Ha.length?1===Ha.length?Ha[0]:u(Ha):function(){return""}}function k(Ha,Ya){return pb=>l.extend({name:Ha,out:pb||Ha},cd,Ya)}function f(Ha,Ya){return Ha.idx-Ya.idx}function d(Ha){const Ya={};Ha.forEach(Db=>Ya[Db.name]=Db);const pb=Db=>{Db.req&&Db.req.forEach(Xb=>{Ya[Xb]||pb(Ya[Xb]=Dd[Xb]())})};Ha.forEach(pb);return Object.values(Ya).sort(f)}function g(){this.missing=this.valid=0;this._ops.forEach(Ha=>Ha.init(this))}function a(Ha,Ya){null==Ha||""===Ha?++this.missing:
Ha===Ha&&(++this.valid,this._ops.forEach(pb=>pb.add(this,Ha,Ya)))}function e(Ha,Ya){null==Ha||""===Ha?--this.missing:Ha===Ha&&(--this.valid,this._ops.forEach(pb=>pb.rem(this,Ha,Ya)))}function n(Ha){this._out.forEach(Ya=>Ha[Ya.out]=Ya.value(this));return Ha}function y(Ha,Ya){function pb(Gb){this._ops=Db;this._out=Xb;this.cell=Gb;this.init()}Ya=Ya||l.identity;const Db=d(Ha),Xb=Ha.slice().sort(f);pb.prototype.init=g;pb.prototype.add=a;pb.prototype.rem=e;pb.prototype.set=n;pb.prototype.get=Ya;pb.fields=
Ha.map(Gb=>Gb.out);return pb}function A(Ha){this._key=Ha?l.field(Ha):w.tupleid;this.reset()}function C(Ha){w.Transform.call(this,null,Ha);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function N(Ha){w.Transform.call(this,null,Ha)}function K(Ha,Ya,pb){let Db=Ya||[],Xb=pb||[],Gb={},pc=0;return{add:ic=>Xb.push(ic),remove:ic=>Gb[Ha(ic)]=++pc,size:()=>
Db.length,data:(ic,ib)=>{pc&&(Db=Db.filter(xb=>!Gb[Ha(xb)]),Gb={},pc=0);ib&&ic&&Db.sort(ic);Xb.length&&(Db=ic?l.merge(ic,Db,Xb.sort(ic)):Db.concat(Xb),Xb=[]);return Db}}}function E(Ha){w.Transform.call(this,[],Ha)}function x(Ha){w.Operator.call(this,null,D,Ha)}function D(Ha){return this.value&&!Ha.modified()?this.value:l.compare(Ha.fields,Ha.orders)}function H(Ha){w.Transform.call(this,null,Ha)}function S(Ha){w.Transform.call(this,null,Ha)}function U(Ha,Ya){var pb=Ha["function"];l.hasOwnProperty(yb,
pb)||l.error("Unknown distribution function: "+pb);pb=yb[pb]();for(const Db in Ha)if("field"===Db)pb.data((Ha.from||Ya()).map(Ha[Db]));else if("distributions"===Db)pb[Db](Ha[Db].map(Xb=>U(Xb,Ya)));else if("function"===typeof pb[Db])pb[Db](Ha[Db]);return pb}function ia(Ha){w.Transform.call(this,null,Ha)}function fa(Ha){return()=>Ha.materialize(Ha.SOURCE).source}function ja(Ha,Ya){return Ha?Ha.map((pb,Db)=>Ya[Db]||l.accessorName(pb)):null}function la(Ha,Ya,pb){const Db=[],Xb=cc=>cc(ib);let Gb,pc,ic,
ib,xb,Nb;if(null==Ya)Db.push(Ha.map(pb));else for(Gb={},pc=0,ic=Ha.length;pc<ic;++pc)ib=Ha[pc],xb=Ya.map(Xb),Nb=Gb[xb],Nb||(Gb[xb]=Nb=[],Nb.dims=xb,Db.push(Nb)),Nb.push(pb(ib));return Db}function da(Ha){w.Transform.call(this,null,Ha)}function O(Ha){w.Operator.call(this,null,B,Ha);this.modified(!0)}function B(Ha){const Ya=Ha.expr;return this.value&&!Ha.modified("expr")?this.value:l.accessor(pb=>Ya(pb,Ha),l.accessorFields(Ya),l.accessorName(Ya))}function Y(Ha){w.Transform.call(this,[void 0,void 0],
Ha)}function ka(Ha,Ya){w.Operator.call(this,Ha);this.parent=Ya;this.count=0}function Z(Ha){w.Transform.call(this,{},Ha);this._keys=l.fastmap();const Ya=this._targets=[];Ya.active=0;Ya.forEach=pb=>{for(let Db=0,Xb=Ya.active;Db<Xb;++Db)pb(Ya[Db],Db,Ya)}}function wa(Ha){w.Operator.call(this,null,xa,Ha)}function xa(Ha){return this.value&&!Ha.modified()?this.value:l.isArray(Ha.name)?l.array(Ha.name).map(Ya=>l.field(Ya)):l.field(Ha.name,Ha.as)}function Da(Ha){w.Transform.call(this,l.fastmap(),Ha)}function Wa(Ha){w.Transform.call(this,
[],Ha)}function gb(Ha){w.Transform.call(this,[],Ha)}function ra(Ha){w.Transform.call(this,null,Ha)}function Na(Ha){w.Transform.call(this,[],Ha)}function Ta(Ha){w.Transform.call(this,[],Ha)}function za(Ha){var Ya=Ha.method||Sb.value;if(null==Sb[Ya])l.error("Unrecognized imputation method: "+Ya);else{if(Ya===Sb.value){var pb=void 0!==Ha.value?Ha.value:0;return()=>pb}return Sb[Ya]}}function pa(Ha){const Ya=Ha.field;return pb=>pb?Ya(pb):NaN}function T(Ha,Ya,pb,Db){var Xb=Ib=>Ib(cc),Gb=[];Db=Db?Db.slice():
[];var pc={},ic={},ib,xb;Db.forEach((Ib,sc)=>pc[Ib]=sc+1);var Nb=0;for(xb=Ha.length;Nb<xb;++Nb){var cc=Ha[Nb];var qc=pb(cc);var oc=pc[qc]||(pc[qc]=Db.push(qc));var Kc=(qc=Ya?Ya.map(Xb):ld)+"";(ib=ic[Kc])||(ib=ic[Kc]=[],Gb.push(ib),ib.values=qc);ib[oc-1]=cc}Gb.domain=Db;return Gb}function W(Ha){C.call(this,Ha)}function M(Ha){w.Transform.call(this,null,Ha)}function P(Ha){w.Operator.call(this,null,ca,Ha)}function ca(Ha){return this.value&&!Ha.modified()?this.value:l.key(Ha.fields,Ha.flat)}function ea(Ha){w.Transform.call(this,
[],Ha);this._pending=null}function oa(Ha){return Ha.modified("async")&&!(Ha.modified("values")||Ha.modified("url")||Ha.modified("format"))}function ba(Ha,Ya,pb){pb.forEach(w.ingest);Ya=Ya.fork(Ya.NO_FIELDS&Ya.NO_SOURCE);Ya.rem=Ha.value;Ha.value=Ya.source=Ya.add=pb;Ha._pending=null;Ya.rem.length&&Ya.clean(!0);return Ya}function Fa(Ha){w.Transform.call(this,{},Ha)}function Ra(Ha){w.Operator.call(this,null,Ma,Ha)}function Ma(Ha){if(this.value&&!Ha.modified())return this.value;Ha=Ha.extents;const Ya=
Ha.length;let pb=Infinity,Db=-Infinity,Xb,Gb;for(Xb=0;Xb<Ya;++Xb)Gb=Ha[Xb],Gb[0]<pb&&(pb=Gb[0]),Gb[1]>Db&&(Db=Gb[1]);return[pb,Db]}function db(Ha){w.Operator.call(this,null,ab,Ha)}function ab(Ha){return this.value&&!Ha.modified()?this.value:Ha.values.reduce((Ya,pb)=>Ya.concat(pb),[])}function Ba(Ha){w.Transform.call(this,null,Ha)}function Sa(Ha){C.call(this,Ha)}function lb(Ha,Ya){const pb=Ha.field,Db=Ha.value,Xb=("count"===Ha.op?"__count__":Ha.op)||"sum",Gb=l.accessorFields(pb).concat(l.accessorFields(Db)),
pc=Jb(pb,Ha.limit||0,Ya);Ya.changed()&&Ha.set("__pivot__",null,null,!0);return{key:Ha.key,groupby:Ha.groupby,ops:pc.map(()=>Xb),fields:pc.map(ic=>ub(ic,pb,Db,Gb)),as:pc.map(ic=>ic+""),modified:Ha.modified.bind(Ha)}}function ub(Ha,Ya,pb,Db){return l.accessor(Xb=>Ya(Xb)===Ha?pb(Xb):NaN,Db,Ha+"")}function Jb(Ha,Ya,pb){const Db={},Xb=[];pb.visit(pb.SOURCE,Gb=>{Gb=Ha(Gb);Db[Gb]||(Db[Gb]=1,Xb.push(Gb))});Xb.sort(l.ascending);return Ya?Xb.slice(0,Ya):Xb}function bc(Ha){Z.call(this,Ha)}function wc(Ha){w.Transform.call(this,
null,Ha)}function $c(Ha){w.Transform.call(this,null,Ha)}function kc(Ha){w.Transform.call(this,null,Ha)}function vc(Ha){w.Transform.call(this,null,Ha)}function jb(Ha){w.Transform.call(this,[],Ha);this.count=0}function fc(Ha){w.Transform.call(this,null,Ha)}function dc(Ha){w.Transform.call(this,null,Ha);this.modified(!0)}function hc(Ha){w.Transform.call(this,null,Ha)}function Ac(Ha){w.Transform.call(this,l.fastmap(),Ha)}function ac(Ha){w.Transform.call(this,null,Ha)}function Oc(Ha,Ya,pb,Db){const Xb=
Pd[Ha](Ya,pb);return{init:Xb.init||l.zero,update:function(Gb,pc){pc[Db]=Xb.next(Gb)}}}function Sc(Ha){function Ya(oc){l.array(l.accessorFields(oc)).forEach(Kc=>ib[Kc]=1)}const pb=l.array(Ha.ops),Db=l.array(Ha.fields),Xb=l.array(Ha.params),Gb=l.array(Ha.as),pc=this.outputs=[],ic=this.windows=[],ib={},xb={},Nb=[],cc=[];let qc=!0;Ya(Ha.sort);pb.forEach((oc,Kc)=>{const Ib=Db[Kc],sc=l.accessorName(Ib),zc=Gb[Kc]||oc+(sc?"_"+sc:"");Ya(Ib);pc.push(zc);l.hasOwnProperty(Pd,oc)?ic.push(Oc(oc,Db[Kc],Xb[Kc],zc)):
(null==Ib&&"count"!==oc&&l.error("Null aggregate field specified."),"count"===oc?Nb.push(zc):(qc=!1,Kc=xb[sc],Kc||(Kc=xb[sc]=[],Kc.field=Ib,cc.push(Kc)),Kc.push(Dd[oc](zc))))});if(Nb.length||cc.length)this.cell=Bc(cc,Nb,qc);this.inputs=Object.keys(ib)}function Bc(Ha,Ya,pb){Ha=Ha.map(ib=>y(ib,ib.field));const Db={num:0,agg:null,store:!1,count:Ya};if(!pb)for(var Xb=Ha.length,Gb=Db.agg=Array(Xb),pc=0;pc<Xb;++pc)Gb[pc]=new Ha[pc](Db);if(Db.store)var ic=Db.data=new A;Db.add=function(ib){Db.num+=1;if(!pb){ic&&
ic.add(ib);for(let xb=0;xb<Xb;++xb)Gb[xb].add(Gb[xb].get(ib),ib)}};Db.rem=function(ib){--Db.num;if(!pb){ic&&ic.rem(ib);for(let xb=0;xb<Xb;++xb)Gb[xb].rem(Gb[xb].get(ib),ib)}};Db.set=function(ib){let xb,Nb;ic&&ic.values();xb=0;for(Nb=Ya.length;xb<Nb;++xb)ib[Ya[xb]]=Db.num;if(!pb)for(xb=0,Nb=Gb.length;xb<Nb;++xb)Gb[xb].set(ib)};Db.init=function(){Db.num=0;ic&&ic.reset();for(let ib=0;ib<Xb;++ib)Gb[ib].init()};return Db}function pd(Ha){w.Transform.call(this,{},Ha);this._mlen=0;this._mods=[]}function Rd(Ha,
Ya,pb,Db){var Xb=Db.sort;const Gb=Xb&&!Db.ignorePeers;Db=Db.frame||[null,0];Ha=Ha.data(pb);pb=Ha.length;const pc=Gb?L.bisector(Xb):null;Xb={i0:0,i1:0,p0:0,p1:0,index:0,data:Ha,compare:Xb||l.constant(-1)};Ya.init();for(let cc=0;cc<pb;++cc){var ic=Xb,ib=Db,xb=cc,Nb=pb;ic.p0=ic.i0;ic.p1=ic.i1;ic.i0=null==ib[0]?0:Math.max(0,xb-Math.abs(ib[0]));ic.i1=null==ib[1]?Nb:Math.min(Nb,xb+Math.abs(ib[1])+1);ic.index=xb;if(Gb){{ic=Xb;ib=pc;xb=ic.i0;Nb=ic.i1-1;const qc=ic.compare,oc=ic.data,Kc=oc.length-1;0<xb&&
!qc(oc[xb],oc[xb-1])&&(ic.i0=ib.left(oc,oc[xb]));Nb<Kc&&!qc(oc[Nb],oc[Nb+1])&&(ic.i1=ib.right(oc,oc[Nb]))}}Ya.update(Xb,Ha[cc])}}var hd=()=>{};const cd={init:hd,add:hd,rem:hd,idx:0},Dd={values:{init:Ha=>Ha.cell.store=!0,value:Ha=>Ha.cell.data.values(),idx:-1},count:{value:Ha=>Ha.cell.num},__count__:{value:Ha=>Ha.missing+Ha.valid},missing:{value:Ha=>Ha.missing},valid:{value:Ha=>Ha.valid},sum:{init:Ha=>Ha.sum=0,value:Ha=>Ha.sum,add:(Ha,Ya)=>Ha.sum+=+Ya,rem:(Ha,Ya)=>Ha.sum-=Ya},product:{init:Ha=>Ha.product=
1,value:Ha=>Ha.valid?Ha.product:void 0,add:(Ha,Ya)=>Ha.product*=Ya,rem:(Ha,Ya)=>Ha.product/=Ya},mean:{init:Ha=>Ha.mean=0,value:Ha=>Ha.valid?Ha.mean:void 0,add:(Ha,Ya)=>(Ha.mean_d=Ya-Ha.mean,Ha.mean+=Ha.mean_d/Ha.valid),rem:(Ha,Ya)=>(Ha.mean_d=Ya-Ha.mean,Ha.mean-=Ha.valid?Ha.mean_d/Ha.valid:Ha.mean)},average:{value:Ha=>Ha.valid?Ha.mean:void 0,req:["mean"],idx:1},variance:{init:Ha=>Ha.dev=0,value:Ha=>1<Ha.valid?Ha.dev/(Ha.valid-1):void 0,add:(Ha,Ya)=>Ha.dev+=Ha.mean_d*(Ya-Ha.mean),rem:(Ha,Ya)=>Ha.dev-=
Ha.mean_d*(Ya-Ha.mean),req:["mean"],idx:1},variancep:{value:Ha=>1<Ha.valid?Ha.dev/Ha.valid:void 0,req:["variance"],idx:2},stdev:{value:Ha=>1<Ha.valid?Math.sqrt(Ha.dev/(Ha.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ha=>1<Ha.valid?Math.sqrt(Ha.dev/Ha.valid):void 0,req:["variance"],idx:2},stderr:{value:Ha=>1<Ha.valid?Math.sqrt(Ha.dev/(Ha.valid*(Ha.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ha=>Ha.cell.data.distinct(Ha.get),req:["values"],idx:3},ci0:{value:Ha=>Ha.cell.data.ci0(Ha.get),
req:["values"],idx:3},ci1:{value:Ha=>Ha.cell.data.ci1(Ha.get),req:["values"],idx:3},median:{value:Ha=>Ha.cell.data.q2(Ha.get),req:["values"],idx:3},q1:{value:Ha=>Ha.cell.data.q1(Ha.get),req:["values"],idx:3},q3:{value:Ha=>Ha.cell.data.q3(Ha.get),req:["values"],idx:3},min:{init:Ha=>Ha.min=void 0,value:Ha=>Ha.min=Number.isNaN(Ha.min)?Ha.cell.data.min(Ha.get):Ha.min,add:(Ha,Ya)=>{if(Ya<Ha.min||void 0===Ha.min)Ha.min=Ya},rem:(Ha,Ya)=>{Ya<=Ha.min&&(Ha.min=NaN)},req:["values"],idx:4},max:{init:Ha=>Ha.max=
void 0,value:Ha=>Ha.max=Number.isNaN(Ha.max)?Ha.cell.data.max(Ha.get):Ha.max,add:(Ha,Ya)=>{if(Ya>Ha.max||void 0===Ha.max)Ha.max=Ya},rem:(Ha,Ya)=>{Ya>=Ha.max&&(Ha.max=NaN)},req:["values"],idx:4},argmin:{init:Ha=>Ha.argmin=void 0,value:Ha=>Ha.argmin||Ha.cell.data.argmin(Ha.get),add:(Ha,Ya,pb)=>{Ya<Ha.min&&(Ha.argmin=pb)},rem:(Ha,Ya)=>{Ya<=Ha.min&&(Ha.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ha=>Ha.argmax=void 0,value:Ha=>Ha.argmax||Ha.cell.data.argmax(Ha.get),add:(Ha,Ya,pb)=>{Ya>Ha.max&&
(Ha.argmax=pb)},rem:(Ha,Ya)=>{Ya>=Ha.max&&(Ha.argmax=void 0)},req:["max","values"],idx:3}};hd=Object.keys(Dd);hd.forEach(Ha=>{Dd[Ha]=k(Ha,Dd[Ha])});var cb=A.prototype;cb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};cb.add=function(Ha){this._add.push(Ha)};cb.rem=function(Ha){this._rem.push(Ha)};cb.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ha=this._add;var Ya=this._rem;const pb=this._key,Db=Ha.length,Xb=Ya.length,Gb=Array(Db-Xb),
pc={};let ic,ib;for(ic=0;ic<Xb;++ic)pc[pb(Ya[ic])]=1;for(Ya=ic=0;ic<Db;++ic)pc[pb(ib=Ha[ic])]?pc[pb(ib)]=0:Gb[Ya++]=ib;this._rem=[];return this._add=Gb};cb.distinct=function(Ha){const Ya=this.values(),pb={};let Db=Ya.length,Xb=0,Gb;for(;0<=--Db;)Gb=Ha(Ya[Db])+"",l.hasOwnProperty(pb,Gb)||(pb[Gb]=1,++Xb);return Xb};cb.extent=function(Ha){if(this._get!==Ha||!this._ext){const Ya=this.values(),pb=l.extentIndex(Ya,Ha);this._ext=[Ya[pb[0]],Ya[pb[1]]];this._get=Ha}return this._ext};cb.argmin=function(Ha){return this.extent(Ha)[0]||
{}};cb.argmax=function(Ha){return this.extent(Ha)[1]||{}};cb.min=function(Ha){const Ya=this.extent(Ha)[0];return null!=Ya?Ha(Ya):void 0};cb.max=function(Ha){const Ya=this.extent(Ha)[1];return null!=Ya?Ha(Ya):void 0};cb.quartile=function(Ha){this._get===Ha&&this._q||(this._q=G.quartiles(this.values(),Ha),this._get=Ha);return this._q};cb.q1=function(Ha){return this.quartile(Ha)[0]};cb.q2=function(Ha){return this.quartile(Ha)[1]};cb.q3=function(Ha){return this.quartile(Ha)[2]};cb.ci=function(Ha){this._get===
Ha&&this._ci||(this._ci=G.bootstrapCI(this.values(),1E3,.05,Ha),this._get=Ha);return this._ci};cb.ci0=function(Ha){return this.ci(Ha)[0]};cb.ci1=function(Ha){return this.ci(Ha)[1]};C.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:hd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};l.inherits(C,w.Transform,{transform(Ha,Ya){const pb=this,Db=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS),Xb=Ha.modified();pb.stamp=Db.stamp;pb.value&&(Xb||Ya.modified(pb._inputs,!0))?(pb._prev=pb.value,pb.value=Xb?pb.init(Ha):{},Ya.visit(Ya.SOURCE,Gb=>pb.add(Gb))):(pb.value=pb.value||pb.init(Ha),Ya.visit(Ya.REM,Gb=>pb.rem(Gb)),Ya.visit(Ya.ADD,Gb=>pb.add(Gb)));Db.modifies(pb._outputs);pb._drop=!1!==Ha.drop;Ha.cross&&1<pb._dims.length&&(pb._drop=!1,pb.cross());Ya.clean()&&
pb._drop&&Db.clean(!0).runAfter(()=>this.clean());return pb.changes(Db)},cross(){function Ha(ic){let ib,xb,Nb,cc;for(ib in ic)for(Nb=ic[ib].tuple,xb=0;xb<pc;++xb)Gb[xb][cc=Nb[Xb[xb]]]=cc}function Ya(ic,ib,xb){const Nb=Xb[xb],cc=Gb[xb++];for(const qc in cc){const oc=ic?ic+"|"+qc:qc;ib[Nb]=cc[qc];xb<pc?Ya(oc,ib,xb):Db[oc]||pb.cell(oc,ib)}}const pb=this,Db=pb.value,Xb=pb._dnames,Gb=Xb.map(()=>({})),pc=Xb.length;Ha(pb._prev);Ha(Db);Ya("",{},0)},init(Ha){function Ya(Ib){Ib=l.array(l.accessorFields(Ib));
const sc=Ib.length;let zc=0,rc;for(;zc<sc;++zc)Xb[rc=Ib[zc]]||(Xb[rc]=1,pb.push(rc))}const pb=this._inputs=[],Db=this._outputs=[],Xb={};this._dims=l.array(Ha.groupby);this._dnames=this._dims.map(Ib=>{const sc=l.accessorName(Ib);Ya(Ib);Db.push(sc);return sc});this.cellkey=Ha.key?Ha.key:t(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Gb=Ha.fields||[null],pc=Ha.ops||["count"];Ha=Ha.as||[];const ic=Gb.length,ib={};let xb,Nb,cc,qc,oc,Kc;ic!==pc.length&&l.error("Unmatched number of fields and aggregate ops.");
for(Kc=0;Kc<ic;++Kc)xb=Gb[Kc],Nb=pc[Kc],null==xb&&"count"!==Nb&&l.error("Null aggregate field specified."),qc=l.accessorName(xb),oc=Ha[Kc]||Nb+(qc?"_"+qc:""),Db.push(oc),"count"===Nb?this._counts.push(oc):(cc=ib[qc],cc||(Ya(xb),cc=ib[qc]=[],cc.field=xb,this._measures.push(cc)),"count"!==Nb&&(this._countOnly=!1),cc.push(Dd[Nb](oc)));this._measures=this._measures.map(Ib=>y(Ib,Ib.field));return{}},cellkey:t(),cell(Ha,Ya){let pb=this.value[Ha];pb?0===pb.num&&this._drop&&pb.stamp<this.stamp?(pb.stamp=
this.stamp,this._adds[this._alen++]=pb):pb.stamp<this.stamp&&(pb.stamp=this.stamp,this._mods[this._mlen++]=pb):(pb=this.value[Ha]=this.newcell(Ha,Ya),this._adds[this._alen++]=pb);return pb},newcell(Ha,Ya){Ha={key:Ha,num:0,agg:null,tuple:this.newtuple(Ya,this._prev&&this._prev[Ha]),stamp:this.stamp,store:!1};if(!this._countOnly){Ya=this._measures;const pb=Ya.length;Ha.agg=Array(pb);for(let Db=0;Db<pb;++Db)Ha.agg[Db]=new Ya[Db](Ha)}Ha.store&&(Ha.data=new A);return Ha},newtuple(Ha,Ya){const pb=this._dnames,
Db=this._dims,Xb=Db.length,Gb={};for(let pc=0;pc<Xb;++pc)Gb[pb[pc]]=Db[pc](Ha);return Ya?w.replace(Ya.tuple,Gb):w.ingest(Gb)},clean(){const Ha=this.value;for(const Ya in Ha)0===Ha[Ya].num&&delete Ha[Ya]},add(Ha){var Ya=this.cellkey(Ha);Ya=this.cell(Ya,Ha);Ya.num+=1;if(!this._countOnly){Ya.store&&Ya.data.add(Ha);Ya=Ya.agg;for(let pb=0,Db=Ya.length;pb<Db;++pb)Ya[pb].add(Ya[pb].get(Ha),Ha)}},rem(Ha){var Ya=this.cellkey(Ha);Ya=this.cell(Ya,Ha);--Ya.num;if(!this._countOnly){Ya.store&&Ya.data.rem(Ha);Ya=
Ya.agg;for(let pb=0,Db=Ya.length;pb<Db;++pb)Ya[pb].rem(Ya[pb].get(Ha),Ha)}},celltuple(Ha){const Ya=Ha.tuple,pb=this._counts;Ha.store&&Ha.data.values();for(let Db=0,Xb=pb.length;Db<Xb;++Db)Ya[pb[Db]]=Ha.num;if(!this._countOnly){Ha=Ha.agg;for(let Db=0,Xb=Ha.length;Db<Xb;++Db)Ha[Db].set(Ya)}return Ya},changes(Ha){const Ya=this._adds,pb=this._mods;var Db=this._prev;const Xb=this._drop,Gb=Ha.add,pc=Ha.rem,ic=Ha.mod;let ib;var xb;if(Db)for(xb in Db)ib=Db[xb],Xb&&!ib.num||pc.push(ib.tuple);Db=0;for(xb=this._alen;Db<
xb;++Db)Gb.push(this.celltuple(Ya[Db])),Ya[Db]=null;Db=0;for(xb=this._mlen;Db<xb;++Db)ib=pb[Db],(0===ib.num&&Xb?pc:ic).push(this.celltuple(ib)),pb[Db]=null;this._alen=this._mlen=0;this._prev=null;return Ha}});N.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(N,w.Transform,{transform(Ha,Ya){const pb=!1!==Ha.interval,Db=this._bins(Ha),Xb=Db.start,Gb=Db.step,pc=Ha.as||["bin0","bin1"],ic=pc[0],
ib=pc[1];Ha.modified()?(Ya=Ya.reflow(!0),Ha=Ya.SOURCE):Ha=Ya.modified(l.accessorFields(Ha.field))?Ya.ADD_MOD:Ya.ADD;Ya.visit(Ha,pb?xb=>{const Nb=Db(xb);xb[ic]=Nb;xb[ib]=null==Nb?null:Xb+Gb*(1+(Nb-Xb)/Gb)}:xb=>xb[ic]=Db(xb));return Ya.modifies(pb?pc:ic)},_bins(Ha){if(this.value&&!Ha.modified())return this.value;const Ya=Ha.field,pb=G.bin(Ha),Db=pb.step;let Xb=pb.start,Gb=Xb+Math.ceil((pb.stop-Xb)/Db)*Db;var pc;null!=(pc=Ha.anchor)&&(pc-=Xb+Db*Math.floor((pc-Xb)/Db),Xb+=pc,Gb+=pc);pc=function(ic){ic=
l.toNumber(Ya(ic));return null==ic?null:ic<Xb?-Infinity:ic>Gb?Infinity:(ic=Math.max(Xb,Math.min(ic,Gb-Db)),Xb+Db*Math.floor(1E-14+(ic-Xb)/Db))};pc.start=Xb;pc.stop=pb.stop;pc.step=Db;return this.value=l.accessor(pc,l.accessorFields(Ya),Ha.name||"bin_"+l.accessorName(Ya))}});E.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(E,w.Transform,{transform(Ha,Ya){const pb=Ya.fork(Ya.ALL),Db=K(w.tupleid,this.value,pb.materialize(pb.ADD).add),Xb=Ha.sort;Ha=Ya.changed()||
Xb&&(Ha.modified("sort")||Ya.modified(Xb.fields));pb.visit(pb.REM,Db.remove);this.modified(Ha);this.value=pb.source=Db.data(w.stableCompare(Xb),Ha);Ya.source&&Ya.source.root&&(this.value.root=Ya.source.root);return pb}});l.inherits(x,w.Operator);H.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(H,w.Transform,{transform(Ha,Ya){var pb=Nb=>cc=>{cc=ic(cc);var qc=Gb;switch(Ha.case){case "upper":cc=cc.toUpperCase();break;case "lower":cc=cc.toLowerCase()}cc=cc.match(qc)||[];var oc;qc=0;for(var Kc=cc.length;qc<Kc;++qc)pc.test(oc=cc[qc])||Nb(oc)};const Db=this._parameterCheck(Ha,Ya),Xb=this._counts,Gb=this._match,pc=this._stop,ic=Ha.field,ib=Ha.as||["text","count"],xb=pb(Nb=>Xb[Nb]=1+(Xb[Nb]||
0));pb=pb(Nb=>--Xb[Nb]);Db?Ya.visit(Ya.SOURCE,xb):(Ya.visit(Ya.ADD,xb),Ya.visit(Ya.REM,pb));return this._finish(Ya,ib)},_parameterCheck(Ha,Ya){let pb=!1;if(Ha.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ha.stopwords||"")+"$","i"),pb=!0;if(Ha.modified("pattern")||!this._match)this._match=new RegExp(Ha.pattern||"[\\w']+","g"),pb=!0;if(Ha.modified("field")||Ya.modified(Ha.field.fields))pb=!0;pb&&(this._counts={});return pb},_finish(Ha,Ya){const pb=this._counts,Db=this._tuples||(this._tuples=
{}),Xb=Ya[0],Gb=Ya[1];Ha=Ha.fork(Ha.NO_SOURCE|Ha.NO_FIELDS);let pc,ic,ib;for(pc in pb)ic=Db[pc],ib=pb[pc]||0,!ic&&ib?(Db[pc]=ic=w.ingest({}),ic[Xb]=pc,ic[Gb]=ib,Ha.add.push(ic)):0===ib?(ic&&Ha.rem.push(ic),pb[pc]=null,Db[pc]=null):ic[Gb]!==ib&&(ic[Gb]=ib,Ha.mod.push(ic));return Ha.modifies(Ya)}});S.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(S,w.Transform,{transform(Ha,Ya){const pb=
Ya.fork(Ya.NO_SOURCE),Db=Ha.as||["a","b"],Xb=Db[0],Gb=Db[1];var pc=!this.value||Ya.changed(Ya.ADD_REM)||Ha.modified("as")||Ha.modified("filter"),ic=this.value;if(pc){ic&&(pb.rem=ic);Ya=ic=Ya.materialize(Ya.SOURCE).source;Ha=Ha.filter||l.truthy;pc=[];ic={};for(var ib=Ya.length,xb=0,Nb,cc;xb<ib;++xb)for(ic[Xb]=cc=Ya[xb],Nb=0;Nb<ib;++Nb)ic[Gb]=Ya[Nb],Ha(ic)&&(pc.push(w.ingest(ic)),ic={},ic[Xb]=cc);pb.add=this.value=pc}else pb.mod=ic;pb.source=this.value;return pb.modifies(Db)}});const yb={kde:G.randomKDE,
mixture:G.randomMixture,normal:G.randomNormal,lognormal:G.randomLogNormal,uniform:G.randomUniform};cb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ia.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:cb.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:cb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ia,w.Transform,{transform(Ha,Ya){const pb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS);if(!this.value||Ya.changed()||Ha.modified()){const Db=U(Ha.distribution,fa(Ya));Ya=Ha.steps||Ha.minsteps||25;const Xb=Ha.steps||Ha.maxsteps||200;let Gb=Ha.method||"pdf";"pdf"!==Gb&&"cdf"!==Gb&&l.error("Invalid density method: "+Gb);Ha.extent||Db.data||l.error("Missing density extent parameter.");
Gb=Db[Gb];const pc=Ha.as||["value","density"];Ha=Ha.extent||l.extent(Db.data());Ha=G.sampleCurve(Gb,Ha,Ya,Xb).map(ic=>{const ib={};ib[pc[0]]=ic[0];ib[pc[1]]=ic[1];return w.ingest(ib)});this.value&&(pb.rem=this.value);this.value=pb.add=pb.source=Ha}return pb}});da.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(da,w.Transform,{transform(Ha,Ya){if(this.value&&!Ha.modified()&&!Ya.changed())return Ya;var pb=Ya.materialize(Ya.SOURCE).source;const Db=la(Ya.source,Ha.groupby,l.identity),Xb=Ha.smooth||!1,Gb=Ha.field;pb=Ha.step||l.span(l.extent(pb,Gb))/30;const pc=w.stableCompare((qc,oc)=>Gb(qc)-Gb(oc));Ha=Ha.as||"bin";const ic=Db.length;let ib=Infinity,xb=-Infinity,Nb=0,cc;for(;Nb<ic;++Nb){const qc=Db[Nb].sort(pc);cc=-1;for(const oc of G.dotbin(qc,pb,Xb,Gb))oc<ib&&(ib=oc),oc>xb&&(xb=oc),qc[++cc][Ha]=
oc}this.value={start:ib,stop:xb,step:pb};return Ya.reflow(!0).modifies(Ha)}});l.inherits(O,w.Operator);Y.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(Y,w.Transform,{transform(Ha,Ya){var pb=this.value;const Db=Ha.field;Ha=Ya.changed()||Ya.modified(Db.fields)||Ha.modified("field");let Xb=pb[0],Gb=pb[1];if(Ha||null==Xb)Xb=Infinity,Gb=-Infinity;Ya.visit(Ha?Ya.SOURCE:Ya.ADD,pc=>{pc=l.toNumber(Db(pc));null!=pc&&(pc<Xb&&(Xb=pc),pc>Gb&&(Gb=pc))});Number.isFinite(Xb)&&
Number.isFinite(Gb)||((pb=l.accessorName(Db))&&(pb=` for field "${pb}"`),Ya.dataflow.warn(`Infinite extent${pb}: [${Xb}, ${Gb}]`),Xb=Gb=void 0);this.value=[Xb,Gb]}});l.inherits(ka,w.Operator,{connect(Ha){this.detachSubflow=Ha.detachSubflow;this.targets().add(Ha);return Ha.source=this},add(Ha){this.count+=1;this.value.add.push(Ha)},rem(Ha){--this.count;this.value.rem.push(Ha)},mod(Ha){this.value.mod.push(Ha)},init(Ha){this.value.init(Ha,Ha.NO_SOURCE)},evaluate(){return this.value}});l.inherits(Z,w.Transform,
{activate(Ha){this._targets[this._targets.active++]=Ha},subflow(Ha,Ya,pb,Db){const Xb=this.value;let Gb=l.hasOwnProperty(Xb,Ha)&&Xb[Ha],pc;Gb?Gb.value.stamp<pb.stamp&&(Gb.init(pb),this.activate(Gb)):(pc=Db||(pc=this._group[Ha])&&pc.tuple,Db=pb.dataflow,Gb=new ka(pb.fork(pb.NO_SOURCE),this),Db.add(Gb).connect(Ya(Db,Ha,pc)),Xb[Ha]=Gb,this.activate(Gb));return Gb},clean(){const Ha=this.value;for(const Ya in Ha)if(0===Ha[Ya].count){const pb=Ha[Ya].detachSubflow;pb&&pb();delete Ha[Ya]}},initTargets(){const Ha=
this._targets,Ya=Ha.length;for(let pb=0;pb<Ya&&null!=Ha[pb];++pb)Ha[pb]=null;Ha.active=0},transform(Ha,Ya){const pb=Ya.dataflow,Db=Ha.key,Xb=Ha.subflow,Gb=this._keys,pc=Ha.modified("key"),ic=ib=>this.subflow(ib,Xb,Ya);this._group=Ha.group||{};this.initTargets();Ya.visit(Ya.REM,ib=>{const xb=w.tupleid(ib),Nb=Gb.get(xb);void 0!==Nb&&(Gb.delete(xb),ic(Nb).rem(ib))});Ya.visit(Ya.ADD,ib=>{const xb=Db(ib);Gb.set(w.tupleid(ib),xb);ic(xb).add(ib)});pc||Ya.modified(Db.fields)?Ya.visit(Ya.MOD,ib=>{const xb=
w.tupleid(ib),Nb=Gb.get(xb),cc=Db(ib);Nb===cc?ic(cc).mod(ib):(Gb.set(xb,cc),ic(Nb).rem(ib),ic(cc).add(ib))}):Ya.changed(Ya.MOD)&&Ya.visit(Ya.MOD,ib=>{ic(Gb.get(w.tupleid(ib))).mod(ib)});pc&&Ya.visit(Ya.REFLOW,ib=>{const xb=w.tupleid(ib),Nb=Gb.get(xb),cc=Db(ib);Nb!==cc&&(Gb.set(xb,cc),ic(Nb).rem(ib),ic(cc).add(ib))});Ya.clean()?pb.runAfter(()=>{this.clean();Gb.clean()}):Gb.empty>pb.cleanThreshold&&pb.runAfter(Gb.clean);return Ya}});l.inherits(wa,w.Operator);Da.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(Da,w.Transform,{transform(Ha,Ya){function pb(cc){const qc=w.tupleid(cc),oc=xb(cc,Ha),Kc=Xb.get(qc);oc&&Kc?(Xb.delete(qc),pc.push(cc)):oc||Kc?Nb&&oc&&!Kc&&ib.push(cc):(Xb.set(qc,1),ic.push(cc))}const Db=Ya.dataflow,Xb=this.value,Gb=Ya.fork(),pc=Gb.add,ic=Gb.rem,ib=Gb.mod,xb=Ha.expr;let Nb=!0;Ya.visit(Ya.REM,cc=>{const qc=w.tupleid(cc);Xb.has(qc)?Xb.delete(qc):ic.push(cc)});Ya.visit(Ya.ADD,cc=>{xb(cc,Ha)?pc.push(cc):Xb.set(w.tupleid(cc),1)});
Ya.visit(Ya.MOD,pb);Ha.modified()&&(Nb=!1,Ya.visit(Ya.REFLOW,pb));Xb.empty>Db.cleanThreshold&&Db.runAfter(Xb.clean);return Gb}});Wa.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(Wa,w.Transform,{transform(Ha,Ya){const pb=Ya.fork(Ya.NO_SOURCE),Db=Ha.fields,Xb=ja(Db,Ha.as||[]),Gb=Ha.index||null,pc=Xb.length;pb.rem=this.value;Ya.visit(Ya.SOURCE,ic=>{const ib=Db.map(Kc=>
Kc(ic)),xb=ib.reduce((Kc,Ib)=>Math.max(Kc,Ib.length),0);let Nb=0,cc,qc,oc;for(;Nb<xb;++Nb){qc=w.derive(ic);for(cc=0;cc<pc;++cc)qc[Xb[cc]]=null==(oc=ib[cc][Nb])?null:oc;Gb&&(qc[Gb]=Nb);pb.add.push(qc)}});this.value=pb.source=pb.add;Gb&&pb.modifies(Gb);return pb.modifies(Xb)}});gb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(gb,w.Transform,{transform(Ha,Ya){const pb=
Ya.fork(Ya.NO_SOURCE),Db=Ha.fields,Xb=Db.map(l.accessorName);Ha=Ha.as||["key","value"];const Gb=Ha[0],pc=Ha[1],ic=Db.length;pb.rem=this.value;Ya.visit(Ya.SOURCE,ib=>{for(let xb=0,Nb;xb<ic;++xb)Nb=w.derive(ib),Nb[Gb]=Xb[xb],Nb[pc]=Db[xb](ib),pb.add.push(Nb)});this.value=pb.source=pb.add;return pb.modifies(Ha)}});ra.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(ra,w.Transform,
{transform(Ha,Ya){const pb=Ha.expr,Db=Ha.as,Xb=Ha.modified(),Gb=Ha.initonly?Ya.ADD:Xb?Ya.SOURCE:Ya.modified(pb.fields)||Ya.modified(Db)?Ya.ADD_MOD:Ya.ADD;Xb&&(Ya=Ya.materialize().reflow(!0));Ha.initonly||Ya.modifies(Db);return Ya.visit(Gb,pc=>pc[Db]=pb(pc,Ha))}});l.inherits(Na,w.Transform,{transform(Ha,Ya){Ya=Ya.fork(Ya.ALL);const pb=Ha.generator;let Db=this.value,Xb=Ha.size-Db.length,Gb,pc;if(0<Xb){for(Gb=[];0<=--Xb;)Gb.push(pc=w.ingest(pb(Ha))),Db.push(pc);Ya.add=Ya.add.length?Ya.materialize(Ya.ADD).add.concat(Gb):
Gb}else Ha=Db.slice(0,-Xb),Ya.rem=Ya.rem.length?Ya.materialize(Ya.REM).rem.concat(Ha):Ha,Db=Db.slice(-Xb);Ya.source=this.value=Db;return Ya}});const Sb={value:"value",median:L.median,mean:L.mean,min:L.min,max:L.max},ld=[];Ta.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};l.inherits(Ta,w.Transform,{transform(Ha,Ya){var pb=Ya.fork(Ya.ALL),Db=za(Ha),Xb=pa(Ha),Gb=l.accessorName(Ha.field),pc=l.accessorName(Ha.key),ic=(Ha.groupby||[]).map(l.accessorName);Ha=T(Ya.source,Ha.groupby,Ha.key,Ha.keyvals);Ya=[];var ib=this.value,xb=Ha.domain.length,Nb,cc,qc;var oc=0;for(cc=Ha.length;oc<cc;++oc){var Kc=Ha[oc];var Ib=Kc.values;var sc=NaN;for(Nb=0;Nb<xb;++Nb)if(null==Kc[Nb]){var zc=Ha.domain[Nb];var rc={_impute:!0};var Jc=0;for(qc=Ib.length;Jc<
qc;++Jc)rc[ic[Jc]]=Ib[Jc];rc[pc]=zc;rc[Gb]=Number.isNaN(sc)?sc=Db(Kc,Xb):sc;Ya.push(w.ingest(rc))}}Ya.length&&(pb.add=pb.materialize(pb.ADD).add.concat(Ya));ib.length&&(pb.rem=pb.materialize(pb.REM).rem.concat(ib));this.value=Ya;return pb}});W.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:hd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
l.inherits(W,C,{transform(Ha,Ya){const pb=this,Db=Ha.modified();let Xb;pb.value&&(Db||Ya.modified(pb._inputs,!0))?(Xb=pb.value=Db?pb.init(Ha):{},Ya.visit(Ya.SOURCE,Gb=>pb.add(Gb))):(Xb=pb.value=pb.value||this.init(Ha),Ya.visit(Ya.REM,Gb=>pb.rem(Gb)),Ya.visit(Ya.ADD,Gb=>pb.add(Gb)));pb.changes();Ya.visit(Ya.SOURCE,Gb=>{l.extend(Gb,Xb[pb.cellkey(Gb)].tuple)});return Ya.reflow(Db).modifies(this._outputs)},changes(){const Ha=this._adds,Ya=this._mods;let pb,Db;pb=0;for(Db=this._alen;pb<Db;++pb)this.celltuple(Ha[pb]),
Ha[pb]=null;pb=0;for(Db=this._mlen;pb<Db;++pb)this.celltuple(Ya[pb]),Ya[pb]=null;this._alen=this._mlen=0}});M.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(M,w.Transform,{transform(Ha,Ya){const pb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS);if(!this.value||Ya.changed()||Ha.modified()){Ya=Ya.materialize(Ya.SOURCE).source;const Db=la(Ya,Ha.groupby,Ha.field),Xb=(Ha.groupby||[]).map(l.accessorName),Gb=Ha.bandwidth,pc=Ha.cumulative?"cdf":"pdf",ic=Ha.as||["value","density"],
ib=[];let xb=Ha.extent,Nb=Ha.steps||Ha.minsteps||25,cc=Ha.steps||Ha.maxsteps||200;"pdf"!==pc&&"cdf"!==pc&&l.error("Invalid density method: "+pc);"shared"===Ha.resolve&&(xb||(xb=l.extent(Ya,Ha.field)),Nb=cc=Ha.steps||cc);Db.forEach(qc=>{const oc=G.randomKDE(qc,Gb)[pc],Kc=Ha.counts?qc.length:1,Ib=xb||l.extent(qc);G.sampleCurve(oc,Ib,Nb,cc).forEach(sc=>{const zc={};for(let rc=0;rc<Xb.length;++rc)zc[Xb[rc]]=qc.dims[rc];zc[ic[0]]=sc[0];zc[ic[1]]=sc[1]*Kc;ib.push(w.ingest(zc))})});this.value&&(pb.rem=this.value);
this.value=pb.add=pb.source=ib}return pb}});l.inherits(P,w.Operator);l.inherits(ea,w.Transform,{transform(Ha,Ya){const pb=Ya.dataflow;return this._pending?ba(this,Ya,this._pending):oa(Ha)?Ya.StopPropagation:Ha.values?ba(this,Ya,pb.parse(Ha.values,Ha.format)):Ha.async?{async:pb.request(Ha.url,Ha.format).then(Db=>{this._pending=l.array(Db.data);return Xb=>Xb.touch(this)})}:pb.request(Ha.url,Ha.format).then(Db=>ba(this,Ya,l.array(Db.data)))}});Fa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Fa,w.Transform,{transform(Ha,Ya){const pb=Ha.fields,Db=Ha.index,Xb=Ha.values,Gb=null==Ha.default?null:Ha.default;var pc=Ha.modified();const ic=pb.length;let ib=pc?Ya.SOURCE:Ya.ADD,xb=Ya,Nb=Ha.as,cc;Xb?(cc=Xb.length,1<ic&&!Nb&&l.error('Multi-field lookup requires explicit "as" parameter.'),
Nb&&Nb.length!==ic*cc&&l.error('The "as" parameter has too few output field names.'),Nb=Nb||Xb.map(l.accessorName),Ha=function(qc){for(var oc=0,Kc=0,Ib,sc;oc<ic;++oc)if(sc=Db.get(pb[oc](qc)),null==sc)for(Ib=0;Ib<cc;++Ib,++Kc)qc[Nb[Kc]]=Gb;else for(Ib=0;Ib<cc;++Ib,++Kc)qc[Nb[Kc]]=Xb[Ib](sc)}):(Nb||l.error("Missing output field names."),Ha=function(qc){for(var oc=0,Kc;oc<ic;++oc)Kc=Db.get(pb[oc](qc)),qc[Nb[oc]]=null==Kc?Gb:Kc});pc?xb=Ya.reflow(!0):(pc=pb.some(qc=>Ya.modified(qc.fields)),ib|=pc?Ya.MOD:
0);Ya.visit(ib,Ha);return xb.modifies(Nb)}});l.inherits(Ra,w.Operator);l.inherits(db,w.Operator);l.inherits(Ba,w.Transform,{transform(Ha,Ya){this.modified(Ha.modified());this.value=Ha;return Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS)}});Sa.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:hd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};l.inherits(Sa,C,{_transform:C.prototype.transform,transform(Ha,Ya){return this._transform(lb(Ha,Ya),Ya)}});l.inherits(bc,Z,{transform(Ha,Ya){const pb=Ha.subflow,Db=Ha.field,Xb=Gb=>this.subflow(w.tupleid(Gb),pb,Ya,Gb);(Ha.modified("field")||Db&&Ya.modified(l.accessorFields(Db)))&&l.error("PreFacet does not support field modification.");this.initTargets();Db?(Ya.visit(Ya.MOD,Gb=>{const pc=Xb(Gb);Db(Gb).forEach(ic=>pc.mod(ic))}),Ya.visit(Ya.ADD,Gb=>{const pc=Xb(Gb);Db(Gb).forEach(ic=>
pc.add(w.ingest(ic)))}),Ya.visit(Ya.REM,Gb=>{const pc=Xb(Gb);Db(Gb).forEach(ic=>pc.rem(ic))})):(Ya.visit(Ya.MOD,Gb=>Xb(Gb).mod(Gb)),Ya.visit(Ya.ADD,Gb=>Xb(Gb).add(Gb)),Ya.visit(Ya.REM,Gb=>Xb(Gb).rem(Gb)));Ya.clean()&&Ya.runAfter(()=>this.clean());return Ya}});wc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(wc,w.Transform,{transform(Ha,Ya){const pb=Ya.fork(Ya.NO_SOURCE),Db=Ha.fields,
Xb=ja(Ha.fields,Ha.as||[]),Gb=Db?(ic,ib)=>{for(let xb=0,Nb=Db.length;xb<Nb;++xb)ib[Xb[xb]]=Db[xb](ic);return ib}:w.rederive;let pc;this.value?pc=this.value:(Ya=Ya.addAll(),pc=this.value={});Ya.visit(Ya.REM,ic=>{ic=w.tupleid(ic);pb.rem.push(pc[ic]);pc[ic]=null});Ya.visit(Ya.ADD,ic=>{const ib=Gb(ic,w.ingest({}));pc[w.tupleid(ic)]=ib;pb.add.push(ib)});Ya.visit(Ya.MOD,ic=>{pb.mod.push(Gb(ic,pc[w.tupleid(ic)]))});return pb}});l.inherits($c,w.Transform,{transform(Ha,Ya){this.value=Ha.value;return Ha.modified("value")?
Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS):Ya.StopPropagation}});kc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(kc,w.Transform,{transform(Ha,Ya){const pb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS),Db=Ha.as||["prob","value"];if(this.value&&!Ha.modified()&&!Ya.changed())return pb.source=
this.value,pb;Ya=Ya.materialize(Ya.SOURCE).source;Ya=la(Ya,Ha.groupby,Ha.field);const Xb=(Ha.groupby||[]).map(l.accessorName),Gb=[],pc=Ha.step||.01,ic=Ha.probs||L.range(pc/2,1-1E-14,pc),ib=ic.length;Ya.forEach(xb=>{const Nb=G.quantiles(xb,ic);for(let cc=0;cc<ib;++cc){const qc={};for(let oc=0;oc<Xb.length;++oc)qc[Xb[oc]]=xb.dims[oc];qc[Db[0]]=ic[cc];qc[Db[1]]=Nb[cc];Gb.push(w.ingest(qc))}});this.value&&(pb.rem=this.value);this.value=pb.add=pb.source=Gb;return pb}});l.inherits(vc,w.Transform,{transform(Ha,
Ya){let pb,Db;this.value?Db=this.value:(pb=Ya=Ya.addAll(),Db=this.value={});Ha.derive&&(pb=Ya.fork(Ya.NO_SOURCE),Ya.visit(Ya.REM,Xb=>{Xb=w.tupleid(Xb);pb.rem.push(Db[Xb]);Db[Xb]=null}),Ya.visit(Ya.ADD,Xb=>{const Gb=w.derive(Xb);Db[w.tupleid(Xb)]=Gb;pb.add.push(Gb)}),Ya.visit(Ya.MOD,Xb=>{const Gb=Db[w.tupleid(Xb)];for(const pc in Xb)Gb[pc]=Xb[pc],pb.modifies(pc);pb.mod.push(Gb)}));return pb}});jb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(jb,
w.Transform,{transform(Ha,Ya){function pb(Nb){let cc,qc;ic.length<Gb?ic.push(Nb):(qc=~~((ib+1)*G.random()),qc<ic.length&&qc>=xb&&(cc=ic[qc],pc[w.tupleid(cc)]&&Db.rem.push(cc),ic[qc]=Nb));++ib}const Db=Ya.fork(Ya.NO_SOURCE);var Xb=Ha.modified("size");const Gb=Ha.size,pc=this.value.reduce((Nb,cc)=>(Nb[w.tupleid(cc)]=1,Nb),{});let ic=this.value,ib=this.count,xb=0;Ya.rem.length&&(Ya.visit(Ya.REM,Nb=>{const cc=w.tupleid(Nb);pc[cc]&&(pc[cc]=-1,Db.rem.push(Nb));--ib}),ic=ic.filter(Nb=>-1!==pc[w.tupleid(Nb)]));
(Ya.rem.length||Xb)&&ic.length<Gb&&Ya.source&&(xb=ib=ic.length,Ya.visit(Ya.SOURCE,Nb=>{pc[w.tupleid(Nb)]||pb(Nb)}),xb=-1);if(Xb&&ic.length>Gb){Ha=ic.length-Gb;for(Xb=0;Xb<Ha;++Xb)pc[w.tupleid(ic[Xb])]=-1,Db.rem.push(ic[Xb]);ic=ic.slice(Ha)}Ya.mod.length&&Ya.visit(Ya.MOD,Nb=>{pc[w.tupleid(Nb)]&&Db.mod.push(Nb)});Ya.add.length&&Ya.visit(Ya.ADD,pb);if(Ya.add.length||0>xb)Db.add=ic.filter(Nb=>!pc[w.tupleid(Nb)]);this.count=ib;this.value=Db.source=ic;return Db}});fc.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(fc,w.Transform,{transform(Ha,Ya){if(!this.value||Ha.modified()){var pb=Ya.materialize().fork(Ya.MOD),Db=Ha.as||"data";pb.rem=this.value?Ya.rem.concat(this.value):Ya.rem;this.value=L.range(Ha.start,Ha.stop,Ha.step||1).map(Xb=>{const Gb={};Gb[Db]=Xb;return w.ingest(Gb)});pb.add=Ya.add.concat(this.value);return pb}}});
l.inherits(dc,w.Transform,{transform(Ha,Ya){this.value=Ya.source;return Ya.changed()?Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS):Ya.StopPropagation}});const xd=["unit0","unit1"];hc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:v.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":xd}]};l.inherits(hc,w.Transform,{transform(Ha,Ya){const pb=Ha.field,Db=!1!==Ha.interval;var Xb="utc"===Ha.timezone;const Gb=this._floor(Ha,Ya),pc=(Xb?v.utcInterval:v.timeInterval)(Gb.unit).offset;Xb=Ha.as||xd;const ic=Xb[0],ib=Xb[1],xb=Gb.step;let Nb=Gb.start||Infinity,cc=Gb.stop||-Infinity,qc=Ya.ADD;if(Ha.modified()||Ya.modified(l.accessorFields(pb)))Ya=Ya.reflow(!0),qc=Ya.SOURCE,Nb=Infinity,
cc=-Infinity;Ya.visit(qc,oc=>{var Kc=pb(oc);let Ib;null==Kc?(oc[ic]=null,Db&&(oc[ib]=null)):(oc[ic]=Kc=Ib=Gb(Kc),Db&&(oc[ib]=Ib=pc(Kc,xb)),Kc<Nb&&(Nb=Kc),Ib>cc&&(cc=Ib))});Gb.start=Nb;Gb.stop=cc;return Ya.modifies(Db?Xb:ic)},_floor(Ha,Ya){var pb="utc"===Ha.timezone;const {units:Db,step:Xb}=Ha.units?{units:Ha.units,step:Ha.step||1}:v.timeBin({extent:Ha.extent||l.extent(Ya.materialize(Ya.SOURCE).source,Ha.field),maxbins:Ha.maxbins});Ha=v.timeUnits(Db);Ya=this.value||{};pb=(pb?v.utcFloor:v.timeFloor)(Ha,
Xb);pb.unit=l.peek(Ha);pb.units=Ha;pb.step=Xb;pb.start=Ya.start;pb.stop=Ya.stop;return this.value=pb}});l.inherits(Ac,w.Transform,{transform(Ha,Ya){const pb=Ya.dataflow,Db=Ha.field,Xb=this.value,Gb=ic=>Xb.set(Db(ic),ic);let pc=!0;Ha.modified("field")||Ya.modified(Db.fields)?(Xb.clear(),Ya.visit(Ya.SOURCE,Gb)):Ya.changed()?(Ya.visit(Ya.REM,ic=>Xb.delete(Db(ic))),Ya.visit(Ya.ADD,Gb)):pc=!1;this.modified(pc);Xb.empty>pb.cleanThreshold&&pb.runAfter(Xb.clean);return Ya.fork()}});l.inherits(ac,w.Transform,
{transform(Ha,Ya){if(!this.value||Ha.modified("field")||Ha.modified("sort")||Ya.changed()||Ha.sort&&Ya.modified(Ha.sort.fields))this.value=(Ha.sort?Ya.source.slice().sort(w.stableCompare(Ha.sort)):Ya.source).map(Ha.field)}});const Pd={row_number:function(){return{next:Ha=>Ha.index+1}},rank:function(){let Ha;return{init:()=>Ha=1,next:Ya=>{const pb=Ya.index,Db=Ya.data;return pb&&Ya.compare(Db[pb-1],Db[pb])?Ha=pb+1:Ha}}},dense_rank:function(){let Ha;return{init:()=>Ha=1,next:Ya=>{const pb=Ya.index,Db=
Ya.data;return pb&&Ya.compare(Db[pb-1],Db[pb])?++Ha:Ha}}},percent_rank:function(){const Ha=Pd.rank(),Ya=Ha.next;return{init:Ha.init,next:pb=>(Ya(pb)-1)/(pb.data.length-1)}},cume_dist:function(){let Ha;return{init:()=>Ha=0,next:Ya=>{const pb=Ya.data,Db=Ya.compare;Ya=Ya.index;if(Ha<Ya){for(;Ya+1<pb.length&&!Db(pb[Ya],pb[Ya+1]);)++Ya;Ha=Ya}return(1+Ha)/pb.length}}},ntile:function(Ha,Ya){Ya=+Ya;0<Ya||l.error("ntile num must be greater than zero.");Ha=Pd.cume_dist();const pb=Ha.next;return{init:Ha.init,
next:Db=>Math.ceil(Ya*pb(Db))}},lag:function(Ha,Ya){Ya=+Ya||1;return{next:pb=>{const Db=pb.index-Ya;return 0<=Db?Ha(pb.data[Db]):null}}},lead:function(Ha,Ya){Ya=+Ya||1;return{next:pb=>{const Db=pb.index+Ya;pb=pb.data;return Db<pb.length?Ha(pb[Db]):null}}},first_value:function(Ha){return{next:Ya=>Ha(Ya.data[Ya.i0])}},last_value:function(Ha){return{next:Ya=>Ha(Ya.data[Ya.i1-1])}},nth_value:function(Ha,Ya){Ya=+Ya;0<Ya||l.error("nth_value nth must be greater than zero.");return{next:pb=>{const Db=pb.i0+
(Ya-1);return Db<pb.i1?Ha(pb.data[Db]):null}}},prev_value:function(Ha){let Ya;return{init:()=>Ya=null,next:pb=>{pb=Ha(pb.data[pb.index]);return null!=pb?Ya=pb:Ya}}},next_value:function(Ha){let Ya,pb;return{init:()=>(Ya=null,pb=-1),next:Db=>{var Xb=Db.data;if(Db.index<=pb)Xb=Ya;else{a:{Db=Db.index;for(let Gb=Xb.length;Db<Gb;++Db)if(null!=Ha(Xb[Db]))break a;Db=-1}Xb=0>(pb=Db)?(pb=Xb.length,Ya=null):Ya=Ha(Xb[pb])}return Xb}}}};cb=Object.keys(Pd);const me=Sc.prototype;me.init=function(){this.windows.forEach(Ha=>
Ha.init());this.cell&&this.cell.init()};me.update=function(Ha,Ya){const pb=this.cell,Db=this.windows,Xb=Ha.data,Gb=Db&&Db.length;let pc;if(pb){for(pc=Ha.p0;pc<Ha.i0;++pc)pb.rem(Xb[pc]);for(pc=Ha.p1;pc<Ha.i1;++pc)pb.add(Xb[pc]);pb.set(Ya)}for(pc=0;pc<Gb;++pc)Db[pc].update(Ha,Ya)};pd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:cb.concat(hd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(pd,w.Transform,{transform(Ha,Ya){this.stamp=Ya.stamp;const pb=Ha.modified(),Db=w.stableCompare(Ha.sort),Xb=t(Ha.groupby),Gb=ic=>this.group(Xb(ic));let pc=this.state;if(!pc||pb)pc=this.state=new Sc(Ha);pb||Ya.modified(pc.inputs)?(this.value={},Ya.visit(Ya.SOURCE,
ic=>Gb(ic).add(ic))):(Ya.visit(Ya.REM,ic=>Gb(ic).remove(ic)),Ya.visit(Ya.ADD,ic=>Gb(ic).add(ic)));for(let ic=0,ib=this._mlen;ic<ib;++ic)Rd(this._mods[ic],pc,Db,Ha);this._mlen=0;this._mods=[];return Ya.reflow(pb).modifies(pc.outputs)},group(Ha){let Ya=this.value[Ha];Ya||(Ya=this.value[Ha]=K(w.tupleid),Ya.stamp=-1);Ya.stamp<this.stamp&&(Ya.stamp=this.stamp,this._mods[this._mlen++]=Ya);return Ya}});m.aggregate=C;m.bin=N;m.collect=E;m.compare=x;m.countpattern=H;m.cross=S;m.density=ia;m.dotbin=da;m.expression=
O;m.extent=Y;m.facet=Z;m.field=wa;m.filter=Da;m.flatten=Wa;m.fold=gb;m.formula=ra;m.generate=Na;m.impute=Ta;m.joinaggregate=W;m.kde=M;m.key=P;m.load=ea;m.lookup=Fa;m.multiextent=Ra;m.multivalues=db;m.params=Ba;m.pivot=Sa;m.prefacet=bc;m.project=wc;m.proxy=$c;m.quantile=kc;m.relay=vc;m.sample=jb;m.sequence=fc;m.sieve=dc;m.subflow=ka;m.timeunit=hc;m.tupleindex=Ac;m.values=ac;m.window=pd;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function w(){return new l}const G=Math.PI,L=2*G,v=L-1E-6;l.prototype=w.prototype={constructor:l,moveTo:function(u,t){this._+="M"+(this._x0=this._x1=+u)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(u,t){this._+="L"+(this._x1=+u)+","+(this._y1=+t)},quadraticCurveTo:function(u,t,k,f){this._+="Q"+ +u+","+ +t+","+(this._x1=+k)+","+(this._y1=+f)},bezierCurveTo:function(u,t,k,f,d,g){this._+="C"+ +u+","+ +t+","+ +k+","+ +f+","+(this._x1=+d)+","+(this._y1=+g)},arcTo:function(u,t,k,f,d){u=+u;t=+t;k=+k;f=+f;d=+d;var g=this._x1,a=this._y1,e=k-u,n=f-t,y=g-u,A=a-t,C=y*y+A*A;if(0>d)throw Error("negative radius: "+d);if(null===this._x1)this._+="M"+(this._x1=
u)+","+(this._y1=t);else if(1E-6<C)if(1E-6<Math.abs(A*e-n*y)&&d){k-=g;f-=a;var N=e*e+n*n;a=Math.sqrt(N);g=Math.sqrt(C);C=d*Math.tan((G-Math.acos((N+C-(k*k+f*f))/(2*a*g)))/2);g=C/g;C/=a;1E-6<Math.abs(g-1)&&(this._+="L"+(u+g*y)+","+(t+g*A));this._+="A"+d+","+d+",0,0,"+ +(A*k>y*f)+","+(this._x1=u+C*e)+","+(this._y1=t+C*n)}else this._+="L"+(this._x1=u)+","+(this._y1=t)},arc:function(u,t,k,f,d,g){u=+u;t=+t;k=+k;g=!!g;var a=k*Math.cos(f),e=k*Math.sin(f),n=u+a,y=t+e,A=1^g;f=g?f-d:d-f;if(0>k)throw Error("negative radius: "+
k);if(null===this._x1)this._+="M"+n+","+y;else if(1E-6<Math.abs(this._x1-n)||1E-6<Math.abs(this._y1-y))this._+="L"+n+","+y;k&&(0>f&&(f=f%L+L),f>v?this._+="A"+k+","+k+",0,1,"+A+","+(u-a)+","+(t-e)+"A"+k+","+k+",0,1,"+A+","+(this._x1=n)+","+(this._y1=y):1E-6<f&&(this._+="A"+k+","+k+",0,"+ +(f>=G)+","+A+","+(this._x1=u+k*Math.cos(d))+","+(this._y1=t+k*Math.sin(d))))},rect:function(u,t,k,f){this._+="M"+(this._x0=this._x1=+u)+","+(this._y0=this._y1=+t)+"h"+ +k+"v"+ +f+"h"+-k+"Z"},toString:function(){return this._}};
m.path=w;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[32]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(31)):"function"===typeof define&&define.amd?define(["exports","d3-path"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function w(ib){return function(){return ib}}function G(ib){return 1<=ib?dc:-1>=ib?-dc:Math.asin(ib)}function L(ib){return ib.innerRadius}function v(ib){return ib.outerRadius}function u(ib){return ib.startAngle}function t(ib){return ib.endAngle}function k(ib){return ib&&
ib.padAngle}function f(ib,xb,Nb,cc,qc,oc,Kc){var Ib=ib-Nb,sc=xb-cc;Kc=(Kc?oc:-oc)/jb(Ib*Ib+sc*sc);sc*=Kc;Ib*=-Kc;var zc=ib+sc,rc=xb+Ib,Jc=Nb+sc,Mc=cc+Ib;Nb=(zc+Jc)/2;cc=(rc+Mc)/2;xb=Jc-zc;ib=Mc-rc;Kc=xb*xb+ib*ib;oc=qc-oc;Mc=zc*Mc-Jc*rc;var Nc=(0>ib?-1:1)*jb($c(0,oc*oc*Kc-Mc*Mc));zc=(Mc*ib-xb*Nc)/Kc;rc=(-Mc*xb-ib*Nc)/Kc;Jc=(Mc*ib+xb*Nc)/Kc;xb=(-Mc*xb+ib*Nc)/Kc;ib=zc-Nb;Kc=rc-cc;Nb=Jc-Nb;cc=xb-cc;ib*ib+Kc*Kc>Nb*Nb+cc*cc&&(zc=Jc,rc=xb);return{cx:zc,cy:rc,x01:-sc,y01:-Ib,x11:zc*(qc/oc-1),y11:rc*(qc/oc-
1)}}function d(ib){return"object"===typeof ib&&"length"in ib?ib:Array.from(ib)}function g(ib){this._context=ib}function a(ib){return new g(ib)}function e(ib){return ib[0]}function n(ib){return ib[1]}function y(ib,xb){function Nb(Ib){var sc,zc=(Ib=d(Ib)).length,rc,Jc=!1,Mc;null==qc&&(Kc=oc(Mc=l.path()));for(sc=0;sc<=zc;++sc)!(sc<zc&&cc(rc=Ib[sc],sc,Ib))===Jc&&((Jc=!Jc)?Kc.lineStart():Kc.lineEnd()),Jc&&Kc.point(+ib(rc,sc,Ib),+xb(rc,sc,Ib));if(Mc)return Kc=null,Mc+""||null}var cc=w(!0),qc=null,oc=a,
Kc=null;ib="function"===typeof ib?ib:void 0===ib?e:w(ib);xb="function"===typeof xb?xb:void 0===xb?n:w(xb);Nb.x=function(Ib){return arguments.length?(ib="function"===typeof Ib?Ib:w(+Ib),Nb):ib};Nb.y=function(Ib){return arguments.length?(xb="function"===typeof Ib?Ib:w(+Ib),Nb):xb};Nb.defined=function(Ib){return arguments.length?(cc="function"===typeof Ib?Ib:w(!!Ib),Nb):cc};Nb.curve=function(Ib){return arguments.length?(oc=Ib,null!=qc&&(Kc=oc(qc)),Nb):oc};Nb.context=function(Ib){return arguments.length?
(null==Ib?qc=Kc=null:Kc=oc(qc=Ib),Nb):qc};return Nb}function A(ib,xb,Nb){function cc(rc){var Jc,Mc,Nc=(rc=d(rc)).length,md,wd=!1,Cd,Gd=Array(Nc),Sd=Array(Nc);null==Ib&&(zc=sc(Cd=l.path()));for(Jc=0;Jc<=Nc;++Jc){if(!(Jc<Nc&&Kc(md=rc[Jc],Jc,rc))===wd)if(wd=!wd){var fe=Jc;zc.areaStart();zc.lineStart()}else{zc.lineEnd();zc.lineStart();for(Mc=Jc-1;Mc>=fe;--Mc)zc.point(Gd[Mc],Sd[Mc]);zc.lineEnd();zc.areaEnd()}wd&&(Gd[Jc]=+ib(md,Jc,rc),Sd[Jc]=+xb(md,Jc,rc),zc.point(oc?+oc(md,Jc,rc):Gd[Jc],Nb?+Nb(md,Jc,rc):
Sd[Jc]))}if(Cd)return zc=null,Cd+""||null}function qc(){return y().defined(Kc).curve(sc).context(Ib)}var oc=null,Kc=w(!0),Ib=null,sc=a,zc=null;ib="function"===typeof ib?ib:void 0===ib?e:w(+ib);xb="function"===typeof xb?xb:void 0===xb?w(0):w(+xb);Nb="function"===typeof Nb?Nb:void 0===Nb?n:w(+Nb);cc.x=function(rc){return arguments.length?(ib="function"===typeof rc?rc:w(+rc),oc=null,cc):ib};cc.x0=function(rc){return arguments.length?(ib="function"===typeof rc?rc:w(+rc),cc):ib};cc.x1=function(rc){return arguments.length?
(oc=null==rc?null:"function"===typeof rc?rc:w(+rc),cc):oc};cc.y=function(rc){return arguments.length?(xb="function"===typeof rc?rc:w(+rc),Nb=null,cc):xb};cc.y0=function(rc){return arguments.length?(xb="function"===typeof rc?rc:w(+rc),cc):xb};cc.y1=function(rc){return arguments.length?(Nb=null==rc?null:"function"===typeof rc?rc:w(+rc),cc):Nb};cc.lineX0=cc.lineY0=function(){return qc().x(ib).y(xb)};cc.lineY1=function(){return qc().x(ib).y(Nb)};cc.lineX1=function(){return qc().x(oc).y(xb)};cc.defined=
function(rc){return arguments.length?(Kc="function"===typeof rc?rc:w(!!rc),cc):Kc};cc.curve=function(rc){return arguments.length?(sc=rc,null!=Ib&&(zc=sc(Ib)),cc):sc};cc.context=function(rc){return arguments.length?(null==rc?Ib=zc=null:zc=sc(Ib=rc),cc):Ib};return cc}function C(ib,xb){return xb<ib?-1:xb>ib?1:xb>=ib?0:NaN}function N(ib){return ib}function K(ib){this._curve=ib}function E(ib){function xb(Nb){return new K(ib(Nb))}xb._curve=ib;return xb}function x(ib){var xb=ib.curve;ib.angle=ib.x;delete ib.x;
ib.radius=ib.y;delete ib.y;ib.curve=function(Nb){return arguments.length?xb(E(Nb)):xb()._curve};return ib}function D(){return x(y().curve(ac))}function H(){var ib=A().curve(ac),xb=ib.curve,Nb=ib.lineX0,cc=ib.lineX1,qc=ib.lineY0,oc=ib.lineY1;ib.angle=ib.x;delete ib.x;ib.startAngle=ib.x0;delete ib.x0;ib.endAngle=ib.x1;delete ib.x1;ib.radius=ib.y;delete ib.y;ib.innerRadius=ib.y0;delete ib.y0;ib.outerRadius=ib.y1;delete ib.y1;ib.lineStartAngle=function(){return x(Nb())};delete ib.lineX0;ib.lineEndAngle=
function(){return x(cc())};delete ib.lineX1;ib.lineInnerRadius=function(){return x(qc())};delete ib.lineY0;ib.lineOuterRadius=function(){return x(oc())};delete ib.lineY1;ib.curve=function(Kc){return arguments.length?xb(E(Kc)):xb()._curve};return ib}function S(ib,xb){return[(xb=+xb)*Math.cos(ib-=Math.PI/2),xb*Math.sin(ib)]}function U(ib){return ib.source}function ia(ib){return ib.target}function fa(ib){function xb(){var Ib,sc=Ac.call(arguments),zc=Nb.apply(this,sc),rc=cc.apply(this,sc);Kc||(Kc=Ib=
l.path());ib(Kc,+qc.apply(this,(sc[0]=zc,sc)),+oc.apply(this,sc),+qc.apply(this,(sc[0]=rc,sc)),+oc.apply(this,sc));if(Ib)return Kc=null,Ib+""||null}var Nb=U,cc=ia,qc=e,oc=n,Kc=null;xb.source=function(Ib){return arguments.length?(Nb=Ib,xb):Nb};xb.target=function(Ib){return arguments.length?(cc=Ib,xb):cc};xb.x=function(Ib){return arguments.length?(qc="function"===typeof Ib?Ib:w(+Ib),xb):qc};xb.y=function(Ib){return arguments.length?(oc="function"===typeof Ib?Ib:w(+Ib),xb):oc};xb.context=function(Ib){return arguments.length?
(Kc=null==Ib?null:Ib,xb):Kc};return xb}function ja(ib,xb,Nb,cc,qc){ib.moveTo(xb,Nb);ib.bezierCurveTo(xb=(xb+cc)/2,Nb,xb,qc,cc,qc)}function la(ib,xb,Nb,cc,qc){ib.moveTo(xb,Nb);ib.bezierCurveTo(xb,Nb=(Nb+qc)/2,cc,Nb,cc,qc)}function da(ib,xb,Nb,cc,qc){var oc=S(xb,Nb);xb=S(xb,Nb=(Nb+qc)/2);Nb=S(cc,Nb);cc=S(cc,qc);ib.moveTo(oc[0],oc[1]);ib.bezierCurveTo(xb[0],xb[1],Nb[0],Nb[1],cc[0],cc[1])}function O(){}function B(ib,xb,Nb){ib._context.bezierCurveTo((2*ib._x0+ib._x1)/3,(2*ib._y0+ib._y1)/3,(ib._x0+2*ib._x1)/
3,(ib._y0+2*ib._y1)/3,(ib._x0+4*ib._x1+xb)/6,(ib._y0+4*ib._y1+Nb)/6)}function Y(ib){this._context=ib}function ka(ib){this._context=ib}function Z(ib){this._context=ib}function wa(ib,xb){this._basis=new Y(ib);this._beta=xb}function xa(ib,xb,Nb){ib._context.bezierCurveTo(ib._x1+ib._k*(ib._x2-ib._x0),ib._y1+ib._k*(ib._y2-ib._y0),ib._x2+ib._k*(ib._x1-xb),ib._y2+ib._k*(ib._y1-Nb),ib._x2,ib._y2)}function Da(ib,xb){this._context=ib;this._k=(1-xb)/6}function Wa(ib,xb){this._context=ib;this._k=(1-xb)/6}function gb(ib,
xb){this._context=ib;this._k=(1-xb)/6}function ra(ib,xb,Nb){var cc=ib._x1,qc=ib._y1,oc=ib._x2,Kc=ib._y2;if(1E-12<ib._l01_a){var Ib=2*ib._l01_2a+3*ib._l01_a*ib._l12_a+ib._l12_2a,sc=3*ib._l01_a*(ib._l01_a+ib._l12_a);cc=(cc*Ib-ib._x0*ib._l12_2a+ib._x2*ib._l01_2a)/sc;qc=(qc*Ib-ib._y0*ib._l12_2a+ib._y2*ib._l01_2a)/sc}1E-12<ib._l23_a&&(Ib=2*ib._l23_2a+3*ib._l23_a*ib._l12_a+ib._l12_2a,sc=3*ib._l23_a*(ib._l23_a+ib._l12_a),oc=(oc*Ib+ib._x1*ib._l23_2a-xb*ib._l12_2a)/sc,Kc=(Kc*Ib+ib._y1*ib._l23_2a-Nb*ib._l12_2a)/
sc);ib._context.bezierCurveTo(cc,qc,oc,Kc,ib._x2,ib._y2)}function Na(ib,xb){this._context=ib;this._alpha=xb}function Ta(ib,xb){this._context=ib;this._alpha=xb}function za(ib,xb){this._context=ib;this._alpha=xb}function pa(ib){this._context=ib}function T(ib,xb,Nb){var cc=ib._x1-ib._x0;xb-=ib._x1;var qc=(ib._y1-ib._y0)/(cc||0>xb&&-0);ib=(Nb-ib._y1)/(xb||0>cc&&-0);return((0>qc?-1:1)+(0>ib?-1:1))*Math.min(Math.abs(qc),Math.abs(ib),.5*Math.abs((qc*xb+ib*cc)/(cc+xb)))||0}function W(ib,xb){var Nb=ib._x1-
ib._x0;return Nb?(3*(ib._y1-ib._y0)/Nb-xb)/2:xb}function M(ib,xb,Nb){var cc=ib._x0,qc=ib._x1,oc=ib._y1,Kc=(qc-cc)/3;ib._context.bezierCurveTo(cc+Kc,ib._y0+Kc*xb,qc-Kc,oc-Kc*Nb,qc,oc)}function P(ib){this._context=ib}function ca(ib){this._context=new ea(ib)}function ea(ib){this._context=ib}function oa(ib){this._context=ib}function ba(ib){var xb,Nb=ib.length-1,cc=Array(Nb),qc=Array(Nb),oc=Array(Nb);cc[0]=0;qc[0]=2;oc[0]=ib[0]+2*ib[1];for(xb=1;xb<Nb-1;++xb)cc[xb]=1,qc[xb]=4,oc[xb]=4*ib[xb]+2*ib[xb+1];
cc[Nb-1]=2;qc[Nb-1]=7;oc[Nb-1]=8*ib[Nb-1]+ib[Nb];for(xb=1;xb<Nb;++xb){var Kc=cc[xb]/qc[xb-1];qc[xb]-=Kc;oc[xb]-=Kc*oc[xb-1]}cc[Nb-1]=oc[Nb-1]/qc[Nb-1];for(xb=Nb-2;0<=xb;--xb)cc[xb]=(oc[xb]-cc[xb+1])/qc[xb];qc[Nb-1]=(ib[Nb]+cc[Nb-1])/2;for(xb=0;xb<Nb-1;++xb)qc[xb]=2*ib[xb+1]-cc[xb+1];return[cc,qc]}function Fa(ib,xb){this._context=ib;this._t=xb}function Ra(ib,xb){if(1<(Kc=ib.length))for(var Nb=1,cc,qc,oc=ib[xb[0]],Kc,Ib=oc.length;Nb<Kc;++Nb)for(qc=oc,oc=ib[xb[Nb]],cc=0;cc<Ib;++cc)oc[cc][1]+=oc[cc][0]=
isNaN(qc[cc][1])?qc[cc][0]:qc[cc][1]}function Ma(ib){ib=ib.length;for(var xb=Array(ib);0<=--ib;)xb[ib]=ib;return xb}function db(ib,xb){return ib[xb]}function ab(ib){const xb=[];xb.key=ib;return xb}function Ba(ib){var xb=ib.map(Sa);return Ma(ib).sort(function(Nb,cc){return xb[Nb]-xb[cc]})}function Sa(ib){for(var xb=-1,Nb=0,cc=ib.length,qc,oc=-Infinity;++xb<cc;)(qc=+ib[xb][1])>oc&&(oc=qc,Nb=xb);return Nb}function lb(ib){var xb=ib.map(ub);return Ma(ib).sort(function(Nb,cc){return xb[Nb]-xb[cc]})}function ub(ib){for(var xb=
0,Nb=-1,cc=ib.length,qc;++Nb<cc;)if(qc=+ib[Nb][1])xb+=qc;return xb}var Jb=Math.abs,bc=Math.atan2,wc=Math.cos,$c=Math.max,kc=Math.min,vc=Math.sin,jb=Math.sqrt,fc=Math.PI,dc=fc/2,hc=2*fc,Ac=Array.prototype.slice;g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ib,xb){ib=+ib;xb=+xb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(ib,xb):this._context.moveTo(ib,xb);break;case 1:this._point=2;default:this._context.lineTo(ib,xb)}}};var ac=E(a);K.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(ib,xb){this._curve.point(xb*Math.sin(ib),xb*-Math.cos(ib))}};var Oc={draw:function(ib,xb){xb=Math.sqrt(xb/fc);ib.moveTo(xb,0);ib.arc(0,0,xb,0,hc)}},Sc=
{draw:function(ib,xb){xb=Math.sqrt(xb/5)/2;ib.moveTo(-3*xb,-xb);ib.lineTo(-xb,-xb);ib.lineTo(-xb,-3*xb);ib.lineTo(xb,-3*xb);ib.lineTo(xb,-xb);ib.lineTo(3*xb,-xb);ib.lineTo(3*xb,xb);ib.lineTo(xb,xb);ib.lineTo(xb,3*xb);ib.lineTo(-xb,3*xb);ib.lineTo(-xb,xb);ib.lineTo(-3*xb,xb);ib.closePath()}},Bc=Math.sqrt(1/3),pd=2*Bc,Rd={draw:function(ib,xb){xb=Math.sqrt(xb/pd);var Nb=xb*Bc;ib.moveTo(0,-xb);ib.lineTo(Nb,0);ib.lineTo(0,xb);ib.lineTo(-Nb,0);ib.closePath()}},hd=Math.sin(fc/10)/Math.sin(7*fc/10),cd=Math.sin(hc/
10)*hd,Dd=-Math.cos(hc/10)*hd;hd={draw:function(ib,xb){xb=Math.sqrt(.8908130915292852*xb);var Nb=cd*xb,cc=Dd*xb;ib.moveTo(0,-xb);ib.lineTo(Nb,cc);for(var qc=1;5>qc;++qc){var oc=hc*qc/5,Kc=Math.cos(oc);oc=Math.sin(oc);ib.lineTo(oc*xb,-Kc*xb);ib.lineTo(Kc*Nb-oc*cc,oc*Nb+Kc*cc)}ib.closePath()}};var cb={draw:function(ib,xb){xb=Math.sqrt(xb);var Nb=-xb/2;ib.rect(Nb,Nb,xb,xb)}},yb=Math.sqrt(3),Sb={draw:function(ib,xb){xb=-Math.sqrt(xb/(3*yb));ib.moveTo(0,2*xb);ib.lineTo(-yb*xb,-xb);ib.lineTo(yb*xb,-xb);
ib.closePath()}},ld=Math.sqrt(3)/2,xd=1/Math.sqrt(12),Pd=3*(xd/2+1),me={draw:function(ib,xb){var Nb=Math.sqrt(xb/Pd);xb=Nb/2;var cc=Nb*xd;Nb=Nb*xd+Nb;var qc=-xb;ib.moveTo(xb,cc);ib.lineTo(xb,Nb);ib.lineTo(qc,Nb);ib.lineTo(-.5*xb-ld*cc,ld*xb+-.5*cc);ib.lineTo(-.5*xb-ld*Nb,ld*xb+-.5*Nb);ib.lineTo(-.5*qc-ld*Nb,ld*qc+-.5*Nb);ib.lineTo(-.5*xb+ld*cc,-.5*cc-ld*xb);ib.lineTo(-.5*xb+ld*Nb,-.5*Nb-ld*xb);ib.lineTo(-.5*qc+ld*Nb,-.5*Nb-ld*qc);ib.closePath()}},Ha=[Oc,Sc,Rd,cb,hd,Sb,me];Y.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:B(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ib,xb){ib=+ib;xb=+xb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ib,xb):this._context.moveTo(ib,xb);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:B(this,ib,xb)}this._x0=this._x1;this._x1=ib;this._y0=this._y1;this._y1=xb}};ka.prototype={areaStart:O,areaEnd:O,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(ib,xb){ib=+ib;xb=+xb;switch(this._point){case 0:this._point=1;this._x2=ib;this._y2=xb;break;case 1:this._point=2;this._x3=ib;this._y3=xb;break;case 2:this._point=3;this._x4=ib;this._y4=xb;this._context.moveTo((this._x0+4*this._x1+ib)/6,(this._y0+
4*this._y1+xb)/6);break;default:B(this,ib,xb)}this._x0=this._x1;this._x1=ib;this._y0=this._y1;this._y1=xb}};Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ib,xb){ib=+ib;xb=+xb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Nb=(this._x0+4*this._x1+ib)/6,cc=(this._y0+4*this._y1+xb)/6;this._line?this._context.lineTo(Nb,cc):this._context.moveTo(Nb,cc);break;case 3:this._point=4;default:B(this,ib,xb)}this._x0=this._x1;this._x1=ib;this._y0=this._y1;this._y1=xb}};wa.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var ib=this._x,xb=this._y,Nb=ib.length-1;if(0<Nb)for(var cc=ib[0],qc=xb[0],oc=ib[Nb]-cc,Kc=xb[Nb]-qc,Ib=-1,sc;++Ib<=Nb;)sc=Ib/Nb,this._basis.point(this._beta*
ib[Ib]+(1-this._beta)*(cc+sc*oc),this._beta*xb[Ib]+(1-this._beta)*(qc+sc*Kc));this._x=this._y=null;this._basis.lineEnd()},point:function(ib,xb){this._x.push(+ib);this._y.push(+xb)}};var Ya=function Nb(xb){function cc(qc){return 1===xb?new Y(qc):new wa(qc,xb)}cc.beta=function(qc){return Nb(+qc)};return cc}(.85);Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:xa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xb,Nb){xb=+xb;Nb=+Nb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xb,Nb):this._context.moveTo(xb,Nb);break;case 1:this._point=2;this._x1=xb;this._y1=Nb;break;case 2:this._point=3;default:xa(this,xb,Nb)}this._x0=this._x1;this._x1=this._x2;this._x2=xb;this._y0=this._y1;this._y1=this._y2;this._y2=Nb}};var pb=function cc(Nb){function qc(oc){return new Da(oc,
Nb)}qc.tension=function(oc){return cc(+oc)};return qc}(0);Wa.prototype={areaStart:O,areaEnd:O,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Nb,cc){Nb=+Nb;cc=+cc;switch(this._point){case 0:this._point=1;this._x3=Nb;this._y3=cc;break;case 1:this._point=2;this._context.moveTo(this._x4=Nb,this._y4=cc);break;case 2:this._point=3;this._x5=Nb;this._y5=cc;break;default:xa(this,Nb,cc)}this._x0=this._x1;this._x1=this._x2;this._x2=Nb;this._y0=this._y1;this._y1=this._y2;this._y2=cc}};var Db=function qc(cc){function oc(Kc){return new Wa(Kc,cc)}oc.tension=function(Kc){return qc(+Kc)};return oc}(0);gb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(cc,qc){cc=+cc;qc=+qc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:xa(this,cc,qc)}this._x0=this._x1;this._x1=this._x2;this._x2=cc;this._y0=this._y1;this._y1=this._y2;this._y2=qc}};var Xb=function oc(qc){function Kc(Ib){return new gb(Ib,qc)}Kc.tension=function(Ib){return oc(+Ib)};return Kc}(0);Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(qc,oc){qc=+qc;oc=+oc;if(this._point){var Kc=this._x2-qc,Ib=this._y2-oc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Kc*Kc+Ib*Ib,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(qc,oc):this._context.moveTo(qc,oc);break;case 1:this._point=
2;break;case 2:this._point=3;default:ra(this,qc,oc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=qc;this._y0=this._y1;this._y1=this._y2;this._y2=oc}};var Gb=function Kc(oc){function Ib(sc){return oc?new Na(sc,oc):new Da(sc,0)}Ib.alpha=function(sc){return Kc(+sc)};return Ib}(.5);Ta.prototype={areaStart:O,areaEnd:O,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(oc,Kc){oc=+oc;Kc=+Kc;if(this._point){var Ib=this._x2-oc,sc=this._y2-
Kc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ib*Ib+sc*sc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=oc;this._y3=Kc;break;case 1:this._point=2;this._context.moveTo(this._x4=oc,this._y4=Kc);break;case 2:this._point=3;this._x5=oc;this._y5=Kc;break;default:ra(this,oc,Kc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=oc;this._y0=this._y1;this._y1=this._y2;this._y2=Kc}};var pc=function Ib(Kc){function sc(zc){return Kc?
new Ta(zc,Kc):new Wa(zc,0)}sc.alpha=function(zc){return Ib(+zc)};return sc}(.5);za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Kc,Ib){Kc=+Kc;Ib=+Ib;if(this._point){var sc=
this._x2-Kc,zc=this._y2-Ib;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(sc*sc+zc*zc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ra(this,Kc,Ib)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Kc;this._y0=this._y1;this._y1=
this._y2;this._y2=Ib}};var ic=function sc(Ib){function zc(rc){return Ib?new za(rc,Ib):new gb(rc,0)}zc.alpha=function(rc){return sc(+rc)};return zc}(.5);pa.prototype={areaStart:O,areaEnd:O,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Ib,sc){Ib=+Ib;sc=+sc;this._point?this._context.lineTo(Ib,sc):(this._point=1,this._context.moveTo(Ib,sc))}};P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ib,sc){var zc=NaN;Ib=+Ib;sc=+sc;if(Ib!==this._x1||sc!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ib,sc):this._context.moveTo(Ib,sc);break;case 1:this._point=2;
break;case 2:this._point=3;M(this,W(this,zc=T(this,Ib,sc)),zc);break;default:M(this,this._t0,zc=T(this,Ib,sc))}this._x0=this._x1;this._x1=Ib;this._y0=this._y1;this._y1=sc;this._t0=zc}}};(ca.prototype=Object.create(P.prototype)).point=function(Ib,sc){P.prototype.point.call(this,sc,Ib)};ea.prototype={moveTo:function(Ib,sc){this._context.moveTo(sc,Ib)},closePath:function(){this._context.closePath()},lineTo:function(Ib,sc){this._context.lineTo(sc,Ib)},bezierCurveTo:function(Ib,sc,zc,rc,Jc,Mc){this._context.bezierCurveTo(sc,
Ib,rc,zc,Mc,Jc)}};oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Ib=this._x,sc=this._y,zc=Ib.length;if(zc)if(this._line?this._context.lineTo(Ib[0],sc[0]):this._context.moveTo(Ib[0],sc[0]),2===zc)this._context.lineTo(Ib[1],sc[1]);else for(var rc=ba(Ib),Jc=ba(sc),Mc=0,Nc=1;Nc<zc;++Mc,++Nc)this._context.bezierCurveTo(rc[0][Mc],Jc[0][Mc],rc[1][Mc],Jc[1][Mc],Ib[Nc],sc[Nc]);(this._line||0!==this._line&&
1===zc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Ib,sc){this._x.push(+Ib);this._y.push(+sc)}};Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Ib,sc){Ib=+Ib;sc=+sc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ib,sc):this._context.moveTo(Ib,sc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,sc),this._context.lineTo(Ib,sc);else{var zc=this._x*(1-this._t)+Ib*this._t;this._context.lineTo(zc,this._y);this._context.lineTo(zc,sc)}}this._x=Ib;this._y=sc}};m.arc=function(){function Ib(){var Cd,Gd=+sc.apply(this,arguments),Sd=+zc.apply(this,arguments),fe=Mc.apply(this,arguments)-
dc,ne=Nc.apply(this,arguments)-dc,ze=Jb(ne-fe),Ae=ne>fe;wd||(wd=Cd=l.path());if(Sd<Gd){var De=Sd;Sd=Gd;Gd=De}if(1E-12<Sd)if(ze>hc-1E-12)wd.moveTo(Sd*wc(fe),Sd*vc(fe)),wd.arc(0,0,Sd,fe,ne,!Ae),1E-12<Gd&&(wd.moveTo(Gd*wc(ne),Gd*vc(ne)),wd.arc(0,0,Gd,ne,fe,Ae));else{var Fd=fe,Zd=ne;De=fe;var Ke=ne,Be=ze,tf=ze,Td=md.apply(this,arguments)/2,be=1E-12<Td&&(Jc?+Jc.apply(this,arguments):jb(Gd*Gd+Sd*Sd)),Le=kc(Jb(Sd-Gd)/2,+rc.apply(this,arguments)),ce=Le,yd=Le;if(1E-12<be){var Ad=G(be/Gd*vc(Td));Td=G(be/Sd*
vc(Td));1E-12<(Be-=2*Ad)?(Ad*=Ae?1:-1,De+=Ad,Ke-=Ad):(Be=0,De=Ke=(fe+ne)/2);1E-12<(tf-=2*Td)?(Td*=Ae?1:-1,Fd+=Td,Zd-=Td):(tf=0,Fd=Zd=(fe+ne)/2)}fe=Sd*wc(Fd);ne=Sd*vc(Fd);Ad=Gd*wc(Ke);Td=Gd*vc(Ke);if(1E-12<Le){var Yd=Sd*wc(Zd),ef=Sd*vc(Zd),qe=Gd*wc(De),Ed=Gd*vc(De);if(ze=ze<fc){var Ie=qe-fe;ze=Ed-ne;be=Ad-Yd;var nf=Td-ef,xc=nf*Ie-be*ze;1E-12>xc*xc?Ie=void 0:(xc=(be*(ne-ef)-nf*(fe-Yd))/xc,Ie=[fe+xc*Ie,ne+xc*ze]);ze=Ie}ze&&(ce=fe-Ie[0],yd=ne-Ie[1],ze=Yd-Ie[0],be=ef-Ie[1],ce=(ce*ze+yd*be)/(jb(ce*ce+yd*
yd)*jb(ze*ze+be*be)),yd=1/vc((1<ce?0:-1>ce?fc:Math.acos(ce))/2),Ie=jb(Ie[0]*Ie[0]+Ie[1]*Ie[1]),ce=kc(Le,(Gd-Ie)/(yd-1)),yd=kc(Le,(Sd-Ie)/(yd+1)))}1E-12<tf?1E-12<yd?(Fd=f(qe,Ed,fe,ne,Sd,yd,Ae),Zd=f(Yd,ef,Ad,Td,Sd,yd,Ae),wd.moveTo(Fd.cx+Fd.x01,Fd.cy+Fd.y01),yd<Le?wd.arc(Fd.cx,Fd.cy,yd,bc(Fd.y01,Fd.x01),bc(Zd.y01,Zd.x01),!Ae):(wd.arc(Fd.cx,Fd.cy,yd,bc(Fd.y01,Fd.x01),bc(Fd.y11,Fd.x11),!Ae),wd.arc(0,0,Sd,bc(Fd.cy+Fd.y11,Fd.cx+Fd.x11),bc(Zd.cy+Zd.y11,Zd.cx+Zd.x11),!Ae),wd.arc(Zd.cx,Zd.cy,yd,bc(Zd.y11,Zd.x11),
bc(Zd.y01,Zd.x01),!Ae))):(wd.moveTo(fe,ne),wd.arc(0,0,Sd,Fd,Zd,!Ae)):wd.moveTo(fe,ne);1E-12<Gd&&1E-12<Be?1E-12<ce?(Fd=f(Ad,Td,Yd,ef,Gd,-ce,Ae),Zd=f(fe,ne,qe,Ed,Gd,-ce,Ae),wd.lineTo(Fd.cx+Fd.x01,Fd.cy+Fd.y01),ce<Le?wd.arc(Fd.cx,Fd.cy,ce,bc(Fd.y01,Fd.x01),bc(Zd.y01,Zd.x01),!Ae):(wd.arc(Fd.cx,Fd.cy,ce,bc(Fd.y01,Fd.x01),bc(Fd.y11,Fd.x11),!Ae),wd.arc(0,0,Gd,bc(Fd.cy+Fd.y11,Fd.cx+Fd.x11),bc(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Ae),wd.arc(Zd.cx,Zd.cy,ce,bc(Zd.y11,Zd.x11),bc(Zd.y01,Zd.x01),!Ae))):wd.arc(0,0,Gd,Ke,
De,Ae):wd.lineTo(Ad,Td)}else wd.moveTo(0,0);wd.closePath();if(Cd)return wd=null,Cd+""||null}var sc=L,zc=v,rc=w(0),Jc=null,Mc=u,Nc=t,md=k,wd=null;Ib.centroid=function(){var Cd=(+sc.apply(this,arguments)+ +zc.apply(this,arguments))/2,Gd=(+Mc.apply(this,arguments)+ +Nc.apply(this,arguments))/2-fc/2;return[wc(Gd)*Cd,vc(Gd)*Cd]};Ib.innerRadius=function(Cd){return arguments.length?(sc="function"===typeof Cd?Cd:w(+Cd),Ib):sc};Ib.outerRadius=function(Cd){return arguments.length?(zc="function"===typeof Cd?
Cd:w(+Cd),Ib):zc};Ib.cornerRadius=function(Cd){return arguments.length?(rc="function"===typeof Cd?Cd:w(+Cd),Ib):rc};Ib.padRadius=function(Cd){return arguments.length?(Jc=null==Cd?null:"function"===typeof Cd?Cd:w(+Cd),Ib):Jc};Ib.startAngle=function(Cd){return arguments.length?(Mc="function"===typeof Cd?Cd:w(+Cd),Ib):Mc};Ib.endAngle=function(Cd){return arguments.length?(Nc="function"===typeof Cd?Cd:w(+Cd),Ib):Nc};Ib.padAngle=function(Cd){return arguments.length?(md="function"===typeof Cd?Cd:w(+Cd),
Ib):md};Ib.context=function(Cd){return arguments.length?(wd=null==Cd?null:Cd,Ib):wd};return Ib};m.area=A;m.areaRadial=H;m.curveBasis=function(Ib){return new Y(Ib)};m.curveBasisClosed=function(Ib){return new ka(Ib)};m.curveBasisOpen=function(Ib){return new Z(Ib)};m.curveBundle=Ya;m.curveCardinal=pb;m.curveCardinalClosed=Db;m.curveCardinalOpen=Xb;m.curveCatmullRom=Gb;m.curveCatmullRomClosed=pc;m.curveCatmullRomOpen=ic;m.curveLinear=a;m.curveLinearClosed=function(Ib){return new pa(Ib)};m.curveMonotoneX=
function(Ib){return new P(Ib)};m.curveMonotoneY=function(Ib){return new ca(Ib)};m.curveNatural=function(Ib){return new oa(Ib)};m.curveStep=function(Ib){return new Fa(Ib,.5)};m.curveStepAfter=function(Ib){return new Fa(Ib,1)};m.curveStepBefore=function(Ib){return new Fa(Ib,0)};m.line=y;m.lineRadial=D;m.linkHorizontal=function(){return fa(ja)};m.linkRadial=function(){var Ib=fa(da);Ib.angle=Ib.x;delete Ib.x;Ib.radius=Ib.y;delete Ib.y;return Ib};m.linkVertical=function(){return fa(la)};m.pie=function(){function Ib(md){var wd,
Cd=(md=d(md)).length;var Gd=0;var Sd=Array(Cd),fe=Array(Cd),ne=+Jc.apply(this,arguments);var ze=Math.min(hc,Math.max(-hc,Mc.apply(this,arguments)-ne));var Ae=Math.min(Math.abs(ze)/Cd,Nc.apply(this,arguments)),De=Ae*(0>ze?-1:1),Fd;for(wd=0;wd<Cd;++wd)0<(Fd=fe[Sd[wd]=wd]=+sc(md[wd],wd,md))&&(Gd+=Fd);null!=zc?Sd.sort(function(Ke,Be){return zc(fe[Ke],fe[Be])}):null!=rc&&Sd.sort(function(Ke,Be){return rc(md[Ke],md[Be])});wd=0;for(ze=Gd?(ze-Cd*De)/Gd:0;wd<Cd;++wd,ne=Zd){Gd=Sd[wd];Fd=fe[Gd];var Zd=ne+(0<
Fd?Fd*ze:0)+De;fe[Gd]={data:md[Gd],index:wd,value:Fd,startAngle:ne,endAngle:Zd,padAngle:Ae}}return fe}var sc=N,zc=C,rc=null,Jc=w(0),Mc=w(hc),Nc=w(0);Ib.value=function(md){return arguments.length?(sc="function"===typeof md?md:w(+md),Ib):sc};Ib.sortValues=function(md){return arguments.length?(zc=md,rc=null,Ib):zc};Ib.sort=function(md){return arguments.length?(rc=md,zc=null,Ib):rc};Ib.startAngle=function(md){return arguments.length?(Jc="function"===typeof md?md:w(+md),Ib):Jc};Ib.endAngle=function(md){return arguments.length?
(Mc="function"===typeof md?md:w(+md),Ib):Mc};Ib.padAngle=function(md){return arguments.length?(Nc="function"===typeof md?md:w(+md),Ib):Nc};return Ib};m.pointRadial=S;m.radialArea=H;m.radialLine=D;m.stack=function(){function Ib(Mc){var Nc=Array.from(sc.apply(this,arguments),ab),md=Nc.length,wd=-1;for(const Gd of Mc){var Cd=0;for(++wd;Cd<md;++Cd)(Nc[Cd][wd]=[0,+Jc(Gd,Nc[Cd].key,wd,Mc)]).data=Gd}Cd=0;for(wd=d(zc(Nc));Cd<md;++Cd)Nc[wd[Cd]].index=Cd;rc(Nc,wd);return Nc}var sc=w([]),zc=Ma,rc=Ra,Jc=db;Ib.keys=
function(Mc){return arguments.length?(sc="function"===typeof Mc?Mc:w(Array.from(Mc)),Ib):sc};Ib.value=function(Mc){return arguments.length?(Jc="function"===typeof Mc?Mc:w(+Mc),Ib):Jc};Ib.order=function(Mc){return arguments.length?(zc=null==Mc?Ma:"function"===typeof Mc?Mc:w(Array.from(Mc)),Ib):zc};Ib.offset=function(Mc){return arguments.length?(rc=null==Mc?Ra:Mc,Ib):rc};return Ib};m.stackOffsetDiverging=function(Ib,sc){if(0<(wd=Ib.length))for(var zc,rc=0,Jc,Mc,Nc,md,wd,Cd=Ib[sc[0]].length;rc<Cd;++rc)for(zc=
Nc=md=0;zc<wd;++zc)0<(Mc=(Jc=Ib[sc[zc]][rc])[1]-Jc[0])?(Jc[0]=Nc,Jc[1]=Nc+=Mc):0>Mc?(Jc[1]=md,Jc[0]=md+=Mc):(Jc[0]=0,Jc[1]=Mc)};m.stackOffsetExpand=function(Ib,sc){if(0<(rc=Ib.length)){for(var zc,rc,Jc=0,Mc=Ib[0].length,Nc;Jc<Mc;++Jc){for(Nc=zc=0;zc<rc;++zc)Nc+=Ib[zc][Jc][1]||0;if(Nc)for(zc=0;zc<rc;++zc)Ib[zc][Jc][1]/=Nc}Ra(Ib,sc)}};m.stackOffsetNone=Ra;m.stackOffsetSilhouette=function(Ib,sc){if(0<(Jc=Ib.length)){for(var zc=0,rc=Ib[sc[0]],Jc,Mc=rc.length;zc<Mc;++zc){for(var Nc=0,md=0;Nc<Jc;++Nc)md+=
Ib[Nc][zc][1]||0;rc[zc][1]+=rc[zc][0]=-md/2}Ra(Ib,sc)}};m.stackOffsetWiggle=function(Ib,sc){if(0<(Nc=Ib.length)&&0<(Mc=(Jc=Ib[sc[0]]).length)){for(var zc=0,rc=1,Jc,Mc,Nc;rc<Mc;++rc){for(var md=0,wd=0,Cd=0;md<Nc;++md){var Gd=Ib[sc[md]],Sd=Gd[rc][1]||0;Gd=(Sd-(Gd[rc-1][1]||0))/2;for(var fe=0;fe<md;++fe){var ne=Ib[sc[fe]];Gd+=(ne[rc][1]||0)-(ne[rc-1][1]||0)}wd+=Sd;Cd+=Gd*Sd}Jc[rc-1][1]+=Jc[rc-1][0]=zc;wd&&(zc-=Cd/wd)}Jc[rc-1][1]+=Jc[rc-1][0]=zc;Ra(Ib,sc)}};m.stackOrderAppearance=Ba;m.stackOrderAscending=
lb;m.stackOrderDescending=function(Ib){return lb(Ib).reverse()};m.stackOrderInsideOut=function(Ib){var sc=Ib.length,zc=Ib.map(ub),rc=Ba(Ib),Jc=0,Mc=0,Nc=[],md=[];for(Ib=0;Ib<sc;++Ib){var wd=rc[Ib];Jc<Mc?(Jc+=zc[wd],Nc.push(wd)):(Mc+=zc[wd],md.push(wd))}return md.reverse().concat(Nc)};m.stackOrderNone=Ma;m.stackOrderReverse=function(Ib){return Ma(Ib).reverse()};m.symbol=function(Ib,sc){function zc(){var Jc;rc||(rc=Jc=l.path());Ib.apply(this,arguments).draw(rc,+sc.apply(this,arguments));if(Jc)return rc=
null,Jc+""||null}var rc=null;Ib="function"===typeof Ib?Ib:w(Ib||Oc);sc="function"===typeof sc?sc:w(void 0===sc?64:+sc);zc.type=function(Jc){return arguments.length?(Ib="function"===typeof Jc?Jc:w(Jc),zc):Ib};zc.size=function(Jc){return arguments.length?(sc="function"===typeof Jc?Jc:w(+Jc),zc):sc};zc.context=function(Jc){return arguments.length?(rc=null==Jc?null:Jc,zc):rc};return zc};m.symbolCircle=Oc;m.symbolCross=Sc;m.symbolDiamond=Rd;m.symbolSquare=cb;m.symbolStar=hd;m.symbolTriangle=Sb;m.symbolWye=
me;m.symbols=Ha;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ea,z,ob,J){!function(m,l){"object"==typeof J&&"undefined"!=typeof ob?l(J):"function"==typeof define&&define.amd?define(["exports"],l):l((m="undefined"!=typeof globalThis?globalThis:m||self).vega={})}(this,function(m){function l(w,G){if("undefined"!=typeof document&&document.createElement){const L=document.createElement("canvas");if(L&&L.getContext)return L.width=w,L.height=G,L}return null}m.canvas=l;m.domCanvas=l;m.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(m,
"__esModule",{value:!0})})};
shadow$provide[34]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(P,ca,ea){P.prototype=ca.prototype=ea;ea.constructor=P}function w(P,ca){P=Object.create(P.prototype);for(var ea in ca)P[ea]=ca[ea];return P}function G(){}function L(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function u(P){var ca,ea;P=(P+"").trim().toLowerCase();
return(ca=ka.exec(P))?(ea=ca[1].length,ca=parseInt(ca[1],16),6===ea?t(ca):3===ea?new g(ca>>8&15|ca>>4&240,ca>>4&15|ca&240,(ca&15)<<4|ca&15,1):8===ea?k(ca>>24&255,ca>>16&255,ca>>8&255,(ca&255)/255):4===ea?k(ca>>12&15|ca>>8&240,ca>>8&15|ca>>4&240,ca>>4&15|ca&240,((ca&15)<<4|ca&15)/255):null):(ca=Z.exec(P))?new g(ca[1],ca[2],ca[3],1):(ca=wa.exec(P))?new g(255*ca[1]/100,255*ca[2]/100,255*ca[3]/100,1):(ca=xa.exec(P))?k(ca[1],ca[2],ca[3],ca[4]):(ca=Da.exec(P))?k(255*ca[1]/100,255*ca[2]/100,255*ca[3]/100,
ca[4]):(ca=Wa.exec(P))?y(ca[1],ca[2]/100,ca[3]/100,1):(ca=gb.exec(P))?y(ca[1],ca[2]/100,ca[3]/100,ca[4]):ra.hasOwnProperty(P)?t(ra[P]):"transparent"===P?new g(NaN,NaN,NaN,0):null}function t(P){return new g(P>>16&255,P>>8&255,P&255,1)}function k(P,ca,ea,oa){0>=oa&&(P=ca=ea=NaN);return new g(P,ca,ea,oa)}function f(P){P instanceof G||(P=u(P));if(!P)return new g;P=P.rgb();return new g(P.r,P.g,P.b,P.opacity)}function d(P,ca,ea,oa){return 1===arguments.length?f(P):new g(P,ca,ea,null==oa?1:oa)}function g(P,
ca,ea,oa){this.r=+P;this.g=+ca;this.b=+ea;this.opacity=+oa}function a(){return"#"+n(this.r)+n(this.g)+n(this.b)}function e(){var P=this.opacity;P=isNaN(P)?1:Math.max(0,Math.min(1,P));return(1===P?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===P?")":", "+P+")")}function n(P){P=Math.max(0,Math.min(255,Math.round(P)||0));return(16>P?"0":"")+P.toString(16)}function y(P,ca,ea,
oa){0>=oa?P=ca=ea=NaN:0>=ea||1<=ea?P=ca=NaN:0>=ca&&(P=NaN);return new N(P,ca,ea,oa)}function A(P){if(P instanceof N)return new N(P.h,P.s,P.l,P.opacity);P instanceof G||(P=u(P));if(!P)return new N;if(P instanceof N)return P;P=P.rgb();var ca=P.r/255,ea=P.g/255,oa=P.b/255,ba=Math.min(ca,ea,oa),Fa=Math.max(ca,ea,oa),Ra=NaN,Ma=Fa-ba,db=(Fa+ba)/2;Ma?(Ra=ca===Fa?(ea-oa)/Ma+6*(ea<oa):ea===Fa?(oa-ca)/Ma+2:(ca-ea)/Ma+4,Ma/=.5>db?Fa+ba:2-Fa-ba,Ra*=60):Ma=0<db&&1>db?0:Ra;return new N(Ra,Ma,db,P.opacity)}function C(P,
ca,ea,oa){return 1===arguments.length?A(P):new N(P,ca,ea,null==oa?1:oa)}function N(P,ca,ea,oa){this.h=+P;this.s=+ca;this.l=+ea;this.opacity=+oa}function K(P,ca,ea){return 255*(60>P?ca+(ea-ca)*P/60:180>P?ea:240>P?ca+(ea-ca)*(240-P)/60:ca)}function E(P){if(P instanceof D)return new D(P.l,P.a,P.b,P.opacity);if(P instanceof la)return da(P);P instanceof g||(P=f(P));var ca=ia(P.r),ea=ia(P.g),oa=ia(P.b),ba=H(.2225045*ca+.7168786*ea+.0606169*oa);if(ca===ea&&ea===oa)var Fa=ca=ba;else Fa=H((.4360747*ca+.3850649*
ea+.1430804*oa)/.96422),ca=H((.0139322*ca+.0971045*ea+.7141733*oa)/.82521);return new D(116*ba-16,500*(Fa-ba),200*(ba-ca),P.opacity)}function x(P,ca,ea,oa){return 1===arguments.length?E(P):new D(P,ca,ea,null==oa?1:oa)}function D(P,ca,ea,oa){this.l=+P;this.a=+ca;this.b=+ea;this.opacity=+oa}function H(P){return P>W?Math.pow(P,1/3):P/T+za}function S(P){return P>pa?P*P*P:T*(P-za)}function U(P){return 255*(.0031308>=P?12.92*P:1.055*Math.pow(P,1/2.4)-.055)}function ia(P){return.04045>=(P/=255)?P/12.92:
Math.pow((P+.055)/1.055,2.4)}function fa(P){if(P instanceof la)return new la(P.h,P.c,P.l,P.opacity);P instanceof D||(P=E(P));if(0===P.a&&0===P.b)return new la(NaN,0<P.l&&100>P.l?0:NaN,P.l,P.opacity);var ca=Math.atan2(P.b,P.a)*Ta;return new la(0>ca?ca+360:ca,Math.sqrt(P.a*P.a+P.b*P.b),P.l,P.opacity)}function ja(P,ca,ea,oa){return 1===arguments.length?fa(P):new la(P,ca,ea,null==oa?1:oa)}function la(P,ca,ea,oa){this.h=+P;this.c=+ca;this.l=+ea;this.opacity=+oa}function da(P){if(isNaN(P.h))return new D(P.l,
0,0,P.opacity);var ca=P.h*Na;return new D(P.l,Math.cos(ca)*P.c,Math.sin(ca)*P.c,P.opacity)}function O(P,ca,ea,oa){if(1===arguments.length){var ba=P;if(ba instanceof B)ba=new B(ba.h,ba.s,ba.l,ba.opacity);else{ba instanceof g||(ba=f(ba));var Fa=ba.g/255,Ra=ba.b/255,Ma=(M*Ra+ba.r/255*-1.7884503806-3.5172982438*Fa)/(M+-1.7884503806-3.5172982438);Ra-=Ma;var db=(1.97294*(Fa-Ma)- -.29227*Ra)/-.90649;Ra=(Fa=Math.sqrt(db*db+Ra*Ra)/(1.97294*Ma*(1-Ma)))?Math.atan2(db,Ra)*Ta-120:NaN;ba=new B(0>Ra?Ra+360:Ra,Fa,
Ma,ba.opacity)}}else ba=new B(P,ca,ea,null==oa?1:oa);return ba}function B(P,ca,ea,oa){this.h=+P;this.s=+ca;this.l=+ea;this.opacity=+oa}var Y=1/.7,ka=/^#([0-9a-f]{3,8})$/,Z=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,wa=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,xa=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Da=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Wa=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,gb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,
burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,
darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,
lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,
mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l(G,u,{copy:function(P){return Object.assign(new this.constructor,
this,P)},displayable:function(){return this.rgb().displayable()},hex:L,formatHex:L,formatHsl:function(){return A(this).formatHsl()},formatRgb:v,toString:v});l(g,d,w(G,{brighter:function(P){P=null==P?Y:Math.pow(Y,P);return new g(this.r*P,this.g*P,this.b*P,this.opacity)},darker:function(P){P=null==P?.7:Math.pow(.7,P);return new g(this.r*P,this.g*P,this.b*P,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>
this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:e,toString:e}));l(N,C,w(G,{brighter:function(P){P=null==P?Y:Math.pow(Y,P);return new N(this.h,this.s,this.l*P,this.opacity)},darker:function(P){P=null==P?.7:Math.pow(.7,P);return new N(this.h,this.s,this.l*P,this.opacity)},rgb:function(){var P=this.h%360+360*(0>this.h),ca=isNaN(P)||isNaN(this.s)?0:this.s,ea=this.l;ca=ea+(.5>ea?ea:1-ea)*ca;ea=2*ea-ca;return new g(K(240<=P?P-240:P+120,ea,ca),K(P,ea,ca),K(120>P?P+240:P-120,ea,ca),
this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var P=this.opacity;P=isNaN(P)?1:Math.max(0,Math.min(1,P));return(1===P?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===P?")":", "+P+")")}}));const Na=Math.PI/180,Ta=180/Math.PI,za=4/29,pa=6/29,T=3*pa*pa,W=pa*pa*pa;l(D,x,w(G,{brighter:function(P){return new D(this.l+18*(null==P?1:P),this.a,this.b,this.opacity)},
darker:function(P){return new D(this.l-18*(null==P?1:P),this.a,this.b,this.opacity)},rgb:function(){var P=(this.l+16)/116,ca=isNaN(this.a)?P:P+this.a/500,ea=isNaN(this.b)?P:P-this.b/200;ca=.96422*S(ca);P=1*S(P);ea=.82521*S(ea);return new g(U(3.1338561*ca-1.6168667*P-.4906146*ea),U(-.9787684*ca+1.9161415*P+.033454*ea),U(.0719453*ca-.2289914*P+1.4052427*ea),this.opacity)}}));l(la,ja,w(G,{brighter:function(P){return new la(this.h,this.c,this.l+18*(null==P?1:P),this.opacity)},darker:function(P){return new la(this.h,
this.c,this.l-18*(null==P?1:P),this.opacity)},rgb:function(){return da(this).rgb()}}));var M=1.78277*-.29227-.1347134789;l(B,O,w(G,{brighter:function(P){P=null==P?Y:Math.pow(Y,P);return new B(this.h,this.s,this.l*P,this.opacity)},darker:function(P){P=null==P?.7:Math.pow(.7,P);return new B(this.h,this.s,this.l*P,this.opacity)},rgb:function(){var P=isNaN(this.h)?0:(this.h+120)*Na,ca=+this.l,ea=isNaN(this.s)?0:this.s*ca*(1-ca),oa=Math.cos(P);P=Math.sin(P);return new g(255*(ca+ea*(-.14861*oa+1.78277*
P)),255*(ca+ea*(-.29227*oa+-.90649*P)),255*(ca+1.97294*ea*oa),this.opacity)}}));m.color=u;m.cubehelix=O;m.gray=function(P,ca){return new D(P,0,0,null==ca?1:ca)};m.hcl=ja;m.hsl=C;m.lab=x;m.lch=function(P,ca,ea,oa){return 1===arguments.length?fa(P):new la(ea,ca,P,null==oa?1:oa)};m.rgb=d;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(34)):"function"===typeof define&&define.amd?define(["exports","d3-color"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function w(pa,T,W,M,P){var ca=pa*pa,ea=ca*pa;return((1-3*pa+3*ca-ea)*T+(4-6*ca+3*ea)*W+(1+3*pa+3*ca-3*ea)*M+ea*P)/6}function G(pa){var T=pa.length-1;return function(W){var M=0>=W?W=0:1<=W?(W=1,T-1):Math.floor(W*T),P=pa[M],ca=pa[M+1];return w((W-M/T)*T,0<M?pa[M-1]:
2*P-ca,P,ca,M<T-1?pa[M+2]:2*ca-P)}}function L(pa){var T=pa.length;return function(W){var M=Math.floor((0>(W%=1)?++W:W)*T);return w((W-M/T)*T,pa[(M+T-1)%T],pa[M%T],pa[(M+1)%T],pa[(M+2)%T])}}function v(pa,T){return function(W){return pa+W*T}}function u(pa,T,W){return pa=Math.pow(pa,W),T=Math.pow(T,W)-pa,W=1/W,function(M){return Math.pow(pa+M*T,W)}}function t(pa,T){var W=T-pa;return W?v(pa,180<W||-180>W?W-360*Math.round(W/360):W):fa(isNaN(pa)?T:pa)}function k(pa){return 1===(pa=+pa)?f:function(T,W){return W-
T?u(T,W,pa):fa(isNaN(T)?W:T)}}function f(pa,T){var W=T-pa;return W?v(pa,W):fa(isNaN(pa)?T:pa)}function d(pa){return function(T){var W=T.length,M=Array(W),P=Array(W),ca=Array(W),ea;for(ea=0;ea<W;++ea){var oa=l.rgb(T[ea]);M[ea]=oa.r||0;P[ea]=oa.g||0;ca[ea]=oa.b||0}M=pa(M);P=pa(P);ca=pa(ca);oa.opacity=1;return function(ba){oa.r=M(ba);oa.g=P(ba);oa.b=ca(ba);return oa+""}}}function g(pa,T){T||(T=[]);var W=pa?Math.min(T.length,pa.length):0,M=T.slice(),P;return function(ca){for(P=0;P<W;++P)M[P]=pa[P]*(1-
ca)+T[P]*ca;return M}}function a(pa){return ArrayBuffer.isView(pa)&&!(pa instanceof DataView)}function e(pa,T){var W=T?T.length:0,M=pa?Math.min(W,pa.length):0,P=Array(M),ca=Array(W),ea;for(ea=0;ea<M;++ea)P[ea]=E(pa[ea],T[ea]);for(;ea<W;++ea)ca[ea]=T[ea];return function(oa){for(ea=0;ea<M;++ea)ca[ea]=P[ea](oa);return ca}}function n(pa,T){var W=new Date;return pa=+pa,T=+T,function(M){return W.setTime(pa*(1-M)+T*M),W}}function y(pa,T){return pa=+pa,T=+T,function(W){return pa*(1-W)+T*W}}function A(pa,
T){var W={},M={},P;if(null===pa||"object"!==typeof pa)pa={};if(null===T||"object"!==typeof T)T={};for(P in T)P in pa?W[P]=E(pa[P],T[P]):M[P]=T[P];return function(ca){for(P in W)M[P]=W[P](ca);return M}}function C(pa){return function(){return pa}}function N(pa){return function(T){return pa(T)+""}}function K(pa,T){var W=O.lastIndex=B.lastIndex=0,M,P,ca,ea=-1,oa=[],ba=[];pa+="";for(T+="";(M=O.exec(pa))&&(P=B.exec(T));)(ca=P.index)>W&&(ca=T.slice(W,ca),oa[ea]?oa[ea]+=ca:oa[++ea]=ca),(M=M[0])===(P=P[0])?
oa[ea]?oa[ea]+=P:oa[++ea]=P:(oa[++ea]=null,ba.push({i:ea,x:y(M,P)})),W=B.lastIndex;W<T.length&&(ca=T.slice(W),oa[ea]?oa[ea]+=ca:oa[++ea]=ca);return 2>oa.length?ba[0]?N(ba[0].x):C(T):(T=ba.length,function(Fa){for(var Ra=0,Ma;Ra<T;++Ra)oa[(Ma=ba[Ra]).i]=Ma.x(Fa);return oa.join("")})}function E(pa,T){var W=typeof T,M;return null==T||"boolean"===W?fa(T):("number"===W?y:"string"===W?(M=l.color(T))?(T=M,ja):K:T instanceof l.color?ja:T instanceof Date?n:a(T)?g:Array.isArray(T)?e:"function"!==typeof T.valueOf&&
"function"!==typeof T.toString||isNaN(T)?A:y)(pa,T)}function x(pa,T,W,M,P,ca){var ea,oa,ba;if(ea=Math.sqrt(pa*pa+T*T))pa/=ea,T/=ea;if(ba=pa*W+T*M)W-=pa*ba,M-=T*ba;if(oa=Math.sqrt(W*W+M*M))W/=oa,M/=oa,ba/=oa;pa*M<T*W&&(pa=-pa,T=-T,ba=-ba,ea=-ea);return{translateX:P,translateY:ca,rotate:Math.atan2(T,pa)*Y,skewX:Math.atan(ba)*Y,scaleX:ea,scaleY:oa}}function D(pa,T,W,M){function P(Fa){return Fa.length?Fa.pop()+" ":""}function ca(Fa,Ra,Ma,db,ab,Ba){Fa!==Ma||Ra!==db?(ab=ab.push("translate(",null,T,null,
W),Ba.push({i:ab-4,x:y(Fa,Ma)},{i:ab-2,x:y(Ra,db)})):(Ma||db)&&ab.push("translate("+Ma+T+db+W)}function ea(Fa,Ra,Ma,db){Fa!==Ra?(180<Fa-Ra?Ra+=360:180<Ra-Fa&&(Fa+=360),db.push({i:Ma.push(P(Ma)+"rotate(",null,M)-2,x:y(Fa,Ra)})):Ra&&Ma.push(P(Ma)+"rotate("+Ra+M)}function oa(Fa,Ra,Ma,db){Fa!==Ra?db.push({i:Ma.push(P(Ma)+"skewX(",null,M)-2,x:y(Fa,Ra)}):Ra&&Ma.push(P(Ma)+"skewX("+Ra+M)}function ba(Fa,Ra,Ma,db,ab,Ba){Fa!==Ma||Ra!==db?(ab=ab.push(P(ab)+"scale(",null,",",null,")"),Ba.push({i:ab-4,x:y(Fa,
Ma)},{i:ab-2,x:y(Ra,db)})):1===Ma&&1===db||ab.push(P(ab)+"scale("+Ma+","+db+")")}return function(Fa,Ra){var Ma=[],db=[];Fa=pa(Fa);Ra=pa(Ra);ca(Fa.translateX,Fa.translateY,Ra.translateX,Ra.translateY,Ma,db);ea(Fa.rotate,Ra.rotate,Ma,db);oa(Fa.skewX,Ra.skewX,Ma,db);ba(Fa.scaleX,Fa.scaleY,Ra.scaleX,Ra.scaleY,Ma,db);Fa=Ra=null;return function(ab){for(var Ba=-1,Sa=db.length,lb;++Ba<Sa;)Ma[(lb=db[Ba]).i]=lb.x(ab);return Ma.join("")}}}function H(pa){return((pa=Math.exp(pa))+1/pa)/2}function S(pa){return function(T,
W){var M=pa((T=l.hsl(T)).h,(W=l.hsl(W)).h),P=f(T.s,W.s),ca=f(T.l,W.l),ea=f(T.opacity,W.opacity);return function(oa){T.h=M(oa);T.s=P(oa);T.l=ca(oa);T.opacity=ea(oa);return T+""}}}function U(pa){return function(T,W){var M=pa((T=l.hcl(T)).h,(W=l.hcl(W)).h),P=f(T.c,W.c),ca=f(T.l,W.l),ea=f(T.opacity,W.opacity);return function(oa){T.h=M(oa);T.c=P(oa);T.l=ca(oa);T.opacity=ea(oa);return T+""}}}function ia(pa){return function M(W){function P(ca,ea){var oa=pa((ca=l.cubehelix(ca)).h,(ea=l.cubehelix(ea)).h),
ba=f(ca.s,ea.s),Fa=f(ca.l,ea.l),Ra=f(ca.opacity,ea.opacity);return function(Ma){ca.h=oa(Ma);ca.s=ba(Ma);ca.l=Fa(Math.pow(Ma,W));ca.opacity=Ra(Ma);return ca+""}}W=+W;P.gamma=M;return P}(1)}var fa=pa=>()=>pa,ja=function W(T){function M(ca,ea){var oa=P((ca=l.rgb(ca)).r,(ea=l.rgb(ea)).r),ba=P(ca.g,ea.g),Fa=P(ca.b,ea.b),Ra=f(ca.opacity,ea.opacity);return function(Ma){ca.r=oa(Ma);ca.g=ba(Ma);ca.b=Fa(Ma);ca.opacity=Ra(Ma);return ca+""}}var P=k(T);M.gamma=W;return M}(1),la=d(G),da=d(L),O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
B=new RegExp(O.source,"g"),Y=180/Math.PI,ka={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Z,wa=D(function(T){T=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(T+"");return T.isIdentity?ka:x(T.a,T.b,T.c,T.d,T.e,T.f)},"px, ","px)","deg)"),xa=D(function(T){if(null==T)return ka;Z||(Z=document.createElementNS("http://www.w3.org/2000/svg","g"));Z.setAttribute("transform",T);if(!(T=Z.transform.baseVal.consolidate()))return ka;T=T.matrix;return x(T.a,T.b,T.c,T.d,T.e,T.f)},", ",
")",")"),Da=function ca(W,M,P){function ea(oa,ba){var Fa=oa[0],Ra=oa[1],Ma=oa[2];oa=ba[2];var db=ba[0]-Fa,ab=ba[1]-Ra,Ba=db*db+ab*ab;if(1E-12>Ba){var Sa=Math.log(oa/Ma)/W;oa=function(Jb){return[Fa+Jb*db,Ra+Jb*ab,Ma*Math.exp(W*Jb*Sa)]}}else{var lb=Math.sqrt(Ba);ba=(oa*oa-Ma*Ma+P*Ba)/(2*Ma*M*lb);oa=(oa*oa-Ma*Ma-P*Ba)/(2*oa*M*lb);var ub=Math.log(Math.sqrt(ba*ba+1)-ba);Sa=(Math.log(Math.sqrt(oa*oa+1)-oa)-ub)/W;oa=function(Jb){Jb*=Sa;var bc=H(ub),wc=W*Jb+ub;var $c=((wc=Math.exp(2*wc))-1)/(wc+1);var kc=
ub;wc=((kc=Math.exp(kc))-1/kc)/2;$c=Ma/(M*lb)*(bc*$c-wc);return[Fa+$c*db,Ra+$c*ab,Ma*bc/H(W*Jb+ub)]}}oa.duration=1E3*Sa*W/Math.SQRT2;return oa}ea.rho=function(oa){oa=Math.max(.001,+oa);var ba=oa*oa;return ca(oa,ba,ba*ba)};return ea}(Math.SQRT2,2,4),Wa=S(t),gb=S(f),ra=U(t),Na=U(f),Ta=ia(t),za=ia(f);m.interpolate=E;m.interpolateArray=function(W,M){return(a(M)?g:e)(W,M)};m.interpolateBasis=G;m.interpolateBasisClosed=L;m.interpolateCubehelix=Ta;m.interpolateCubehelixLong=za;m.interpolateDate=n;m.interpolateDiscrete=
function(W){var M=W.length;return function(P){return W[Math.max(0,Math.min(M-1,Math.floor(P*M)))]}};m.interpolateHcl=ra;m.interpolateHclLong=Na;m.interpolateHsl=Wa;m.interpolateHslLong=gb;m.interpolateHue=function(W,M){var P=t(+W,+M);return function(ca){ca=P(ca);return ca-360*Math.floor(ca/360)}};m.interpolateLab=function(W,M){var P=f((W=l.lab(W)).l,(M=l.lab(M)).l),ca=f(W.a,M.a),ea=f(W.b,M.b),oa=f(W.opacity,M.opacity);return function(ba){W.l=P(ba);W.a=ca(ba);W.b=ea(ba);W.opacity=oa(ba);return W+""}};
m.interpolateNumber=y;m.interpolateNumberArray=g;m.interpolateObject=A;m.interpolateRgb=ja;m.interpolateRgbBasis=la;m.interpolateRgbBasisClosed=da;m.interpolateRound=function(W,M){return W=+W,M=+M,function(P){return Math.round(W*(1-P)+M*P)}};m.interpolateString=K;m.interpolateTransformCss=wa;m.interpolateTransformSvg=xa;m.interpolateZoom=Da;m.piecewise=function(W,M){void 0===M&&(M=W,W=E);for(var P=0,ca=M.length-1,ea=M[0],oa=Array(0>ca?0:ca);P<ca;)oa[P]=W(ea,ea=M[++P]);return function(ba){var Fa=Math.max(0,
Math.min(ca-1,Math.floor(ba*=ca)));return oa[Fa](ba-Fa)}};m.quantize=function(W,M){for(var P=Array(M),ca=0;ca<M;++ca)P[ca]=W(ca/(M-1));return P};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(17),z(35),z(18),z(19),z(21)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),l):(m=m||self,l(m.d3=m.d3||{},m.d3,m.d3,m.d3,m.d3,m.d3))})(this,function(m,l,w,G,L,v){function u(jb,fc){switch(arguments.length){case 0:break;case 1:this.range(jb);break;default:this.range(fc).domain(jb)}return this}function t(jb,fc){switch(arguments.length){case 0:break;
case 1:"function"===typeof jb?this.interpolator(jb):this.range(jb);break;default:this.domain(jb),"function"===typeof fc?this.interpolator(fc):this.range(fc)}return this}function k(){function jb(ac){var Oc=ac+"",Sc=fc.get(Oc);if(!Sc){if(Ac!==bc)return Ac;fc.set(Oc,Sc=dc.push(ac))}return hc[(Sc-1)%hc.length]}var fc=new Map,dc=[],hc=[],Ac=bc;jb.domain=function(ac){if(!arguments.length)return dc.slice();dc=[];fc=new Map;for(const Oc of ac){const Sc=Oc+"";fc.has(Sc)||fc.set(Sc,dc.push(Oc))}return jb};
jb.range=function(ac){return arguments.length?(hc=Array.from(ac),jb):hc.slice()};jb.unknown=function(ac){return arguments.length?(Ac=ac,jb):Ac};jb.copy=function(){return k(dc,hc).unknown(Ac)};u.apply(jb,arguments);return jb}function f(){function jb(){var cd=dc().length,Dd=ac<Ac,cb=Dd?ac:Ac,yb=Dd?Ac:ac;Oc=(yb-cb)/Math.max(1,cd-pd+2*Rd);Bc&&(Oc=Math.floor(Oc));cb+=(yb-cb-Oc*(cd-pd))*hd;Sc=Oc*(1-pd);Bc&&(cb=Math.round(cb),Sc=Math.round(Sc));cd=l.range(cd).map(function(Sb){return cb+Oc*Sb});return hc(Dd?
cd.reverse():cd)}var fc=k().unknown(void 0),dc=fc.domain,hc=fc.range,Ac=0,ac=1,Oc,Sc,Bc=!1,pd=0,Rd=0,hd=.5;delete fc.unknown;fc.domain=function(cd){return arguments.length?(dc(cd),jb()):dc()};fc.range=function(cd){return arguments.length?([Ac,ac]=cd,Ac=+Ac,ac=+ac,jb()):[Ac,ac]};fc.rangeRound=function(cd){return[Ac,ac]=cd,Ac=+Ac,ac=+ac,Bc=!0,jb()};fc.bandwidth=function(){return Sc};fc.step=function(){return Oc};fc.round=function(cd){return arguments.length?(Bc=!!cd,jb()):Bc};fc.padding=function(cd){return arguments.length?
(pd=Math.min(1,Rd=+cd),jb()):pd};fc.paddingInner=function(cd){return arguments.length?(pd=Math.min(1,cd),jb()):pd};fc.paddingOuter=function(cd){return arguments.length?(Rd=+cd,jb()):Rd};fc.align=function(cd){return arguments.length?(hd=Math.max(0,Math.min(1,cd)),jb()):hd};fc.copy=function(){return f(dc(),[Ac,ac]).round(Bc).paddingInner(pd).paddingOuter(Rd).align(hd)};return u.apply(jb(),arguments)}function d(jb){var fc=jb.copy;jb.padding=jb.paddingOuter;delete jb.paddingInner;delete jb.paddingOuter;
jb.copy=function(){return d(fc())};return jb}function g(jb){return function(){return jb}}function a(jb){return+jb}function e(jb){return jb}function n(jb,fc){return(fc-=jb=+jb)?function(dc){return(dc-jb)/fc}:g(isNaN(fc)?NaN:.5)}function y(jb,fc){if(jb>fc){var dc=jb;jb=fc;fc=dc}return function(hc){return Math.max(jb,Math.min(fc,hc))}}function A(jb,fc,dc){var hc=jb[0];jb=jb[1];var Ac=fc[0];fc=fc[1];jb<hc?(hc=n(jb,hc),Ac=dc(fc,Ac)):(hc=n(hc,jb),Ac=dc(Ac,fc));return function(ac){return Ac(hc(ac))}}function C(jb,
fc,dc){var hc=Math.min(jb.length,fc.length)-1,Ac=Array(hc),ac=Array(hc),Oc=-1;jb[hc]<jb[0]&&(jb=jb.slice().reverse(),fc=fc.slice().reverse());for(;++Oc<hc;)Ac[Oc]=n(jb[Oc],jb[Oc+1]),ac[Oc]=dc(fc[Oc],fc[Oc+1]);return function(Sc){var Bc=l.bisect(jb,Sc,1,hc)-1;return ac[Bc](Ac[Bc](Sc))}}function N(jb,fc){return fc.domain(jb.domain()).range(jb.range()).interpolate(jb.interpolate()).clamp(jb.clamp()).unknown(jb.unknown())}function K(){function jb(){var cd=Math.min(dc.length,hc.length);Bc!==e&&(Bc=y(dc[0],
dc[cd-1]));pd=2<cd?C:A;Rd=hd=null;return fc}function fc(cd){return isNaN(cd=+cd)?Sc:(Rd||(Rd=pd(dc.map(ac),hc,Ac)))(ac(Bc(cd)))}var dc=wc,hc=wc,Ac=w.interpolate,ac,Oc,Sc,Bc=e,pd,Rd,hd;fc.invert=function(cd){return Bc(Oc((hd||(hd=pd(hc,dc.map(ac),w.interpolateNumber)))(cd)))};fc.domain=function(cd){return arguments.length?(dc=Array.from(cd,a),jb()):dc.slice()};fc.range=function(cd){return arguments.length?(hc=Array.from(cd),jb()):hc.slice()};fc.rangeRound=function(cd){return hc=Array.from(cd),Ac=w.interpolateRound,
jb()};fc.clamp=function(cd){return arguments.length?(Bc=cd?!0:e,jb()):Bc!==e};fc.interpolate=function(cd){return arguments.length?(Ac=cd,jb()):Ac};fc.unknown=function(cd){return arguments.length?(Sc=cd,fc):Sc};return function(cd,Dd){ac=cd;Oc=Dd;return jb()}}function E(jb,fc,dc,hc){dc=l.tickStep(jb,fc,dc);var Ac;hc=G.formatSpecifier(null==hc?",f":hc);switch(hc.type){case "s":return jb=Math.max(Math.abs(jb),Math.abs(fc)),null!=hc.precision||isNaN(Ac=G.precisionPrefix(dc,jb))||(hc.precision=Ac),G.formatPrefix(hc,
jb);case "":case "e":case "g":case "p":case "r":null!=hc.precision||isNaN(Ac=G.precisionRound(dc,Math.max(Math.abs(jb),Math.abs(fc))))||(hc.precision=Ac-("e"===hc.type));break;case "f":case "%":null!=hc.precision||isNaN(Ac=G.precisionFixed(dc))||(hc.precision=Ac-2*("%"===hc.type))}return G.format(hc)}function x(jb){var fc=jb.domain;jb.ticks=function(dc){var hc=fc();return l.ticks(hc[0],hc[hc.length-1],null==dc?10:dc)};jb.tickFormat=function(dc,hc){var Ac=fc();return E(Ac[0],Ac[Ac.length-1],null==
dc?10:dc,hc)};jb.nice=function(dc){null==dc&&(dc=10);var hc=fc(),Ac=0,ac=hc.length-1,Oc=hc[Ac],Sc=hc[ac],Bc=10;if(Sc<Oc){var pd=Oc;Oc=Sc;Sc=pd;pd=Ac;Ac=ac;ac=pd}for(;0<Bc--;){pd=l.tickIncrement(Oc,Sc,dc);if(pd===Rd)return hc[Ac]=Oc,hc[ac]=Sc,fc(hc);if(0<pd)Oc=Math.floor(Oc/pd)*pd,Sc=Math.ceil(Sc/pd)*pd;else if(0>pd)Oc=Math.ceil(Oc*pd)/pd,Sc=Math.floor(Sc*pd)/pd;else break;var Rd=pd}return jb};return jb}function D(){var jb=K()(e,e);jb.copy=function(){return N(jb,D())};u.apply(jb,arguments);return x(jb)}
function H(jb){function fc(hc){return isNaN(hc=+hc)?dc:hc}var dc;fc.invert=fc;fc.domain=fc.range=function(hc){return arguments.length?(jb=Array.from(hc,a),fc):jb.slice()};fc.unknown=function(hc){return arguments.length?(dc=hc,fc):dc};fc.copy=function(){return H(jb).unknown(dc)};jb=arguments.length?Array.from(jb,a):[0,1];return x(fc)}function S(jb,fc){jb=jb.slice();var dc=0,hc=jb.length-1,Ac=jb[dc],ac=jb[hc];if(ac<Ac){var Oc=dc;dc=hc;hc=Oc;Oc=Ac;Ac=ac;ac=Oc}jb[dc]=fc.floor(Ac);jb[hc]=fc.ceil(ac);return jb}
function U(jb){return Math.log(jb)}function ia(jb){return Math.exp(jb)}function fa(jb){return-Math.log(-jb)}function ja(jb){return-Math.exp(-jb)}function la(jb){return isFinite(jb)?+("1e"+jb):0>jb?0:jb}function da(jb){return 10===jb?la:jb===Math.E?Math.exp:function(fc){return Math.pow(jb,fc)}}function O(jb){return jb===Math.E?Math.log:10===jb&&Math.log10||2===jb&&Math.log2||(jb=Math.log(jb),function(fc){return Math.log(fc)/jb})}function B(jb){return function(fc){return-jb(-fc)}}function Y(jb){function fc(){ac=
O(Ac);Oc=da(Ac);0>hc()[0]?(ac=B(ac),Oc=B(Oc),jb(fa,ja)):jb(U,ia);return dc}var dc=jb(U,ia),hc=dc.domain,Ac=10,ac,Oc;dc.base=function(Sc){return arguments.length?(Ac=+Sc,fc()):Ac};dc.domain=function(Sc){return arguments.length?(hc(Sc),fc()):hc()};dc.ticks=function(Sc){var Bc=hc(),pd=Bc[0];Bc=Bc[Bc.length-1];var Rd;if(Rd=Bc<pd)hd=pd,pd=Bc,Bc=hd;var hd=ac(pd),cd=ac(Bc),Dd=null==Sc?10:+Sc,cb=[];if(!(Ac%1)&&cd-hd<Dd){hd=Math.floor(hd);cd=Math.ceil(cd);if(0<pd)for(;hd<=cd;++hd){var yb=1;for(Sc=Oc(hd);yb<
Ac;++yb){var Sb=Sc*yb;if(!(Sb<pd)){if(Sb>Bc)break;cb.push(Sb)}}}else for(;hd<=cd;++hd)for(yb=Ac-1,Sc=Oc(hd);1<=yb;--yb)if(Sb=Sc*yb,!(Sb<pd)){if(Sb>Bc)break;cb.push(Sb)}2*cb.length<Dd&&(cb=l.ticks(pd,Bc,Dd))}else cb=l.ticks(hd,cd,Math.min(cd-hd,Dd)).map(Oc);return Rd?cb.reverse():cb};dc.tickFormat=function(Sc,Bc){null==Bc&&(Bc=10===Ac?".0e":",");"function"!==typeof Bc&&(Bc=G.format(Bc));if(Infinity===Sc)return Bc;null==Sc&&(Sc=10);var pd=Math.max(1,Ac*Sc/dc.ticks().length);return function(Rd){var hd=
Rd/Oc(Math.round(ac(Rd)));hd*Ac<Ac-.5&&(hd*=Ac);return hd<=pd?Bc(Rd):""}};dc.nice=function(){return hc(S(hc(),{floor:function(Sc){return Oc(Math.floor(ac(Sc)))},ceil:function(Sc){return Oc(Math.ceil(ac(Sc)))}}))};return dc}function ka(){var jb=Y(K()).domain([1,10]);jb.copy=function(){return N(jb,ka()).base(jb.base())};u.apply(jb,arguments);return jb}function Z(jb){return function(fc){return Math.sign(fc)*Math.log1p(Math.abs(fc/jb))}}function wa(jb){return function(fc){return Math.sign(fc)*Math.expm1(Math.abs(fc))*
jb}}function xa(jb){var fc=1,dc=jb(Z(fc),wa(fc));dc.constant=function(hc){return arguments.length?jb(Z(fc=+hc),wa(fc)):fc};return x(dc)}function Da(){var jb=xa(K());jb.copy=function(){return N(jb,Da()).constant(jb.constant())};return u.apply(jb,arguments)}function Wa(jb){return function(fc){return 0>fc?-Math.pow(-fc,jb):Math.pow(fc,jb)}}function gb(jb){return 0>jb?-Math.sqrt(-jb):Math.sqrt(jb)}function ra(jb){return 0>jb?-jb*jb:jb*jb}function Na(jb){var fc=jb(e,e),dc=1;fc.exponent=function(hc){return arguments.length?
(dc=+hc,1===dc?jb(e,e):.5===dc?jb(gb,ra):jb(Wa(dc),Wa(1/dc))):dc};return x(fc)}function Ta(){var jb=Na(K());jb.copy=function(){return N(jb,Ta()).exponent(jb.exponent())};u.apply(jb,arguments);return jb}function za(jb){return Math.sign(jb)*jb*jb}function pa(){function jb(ac){ac=fc(ac);ac=Math.sign(ac)*Math.sqrt(Math.abs(ac));return isNaN(ac)?Ac:hc?Math.round(ac):ac}var fc=K()(e,e),dc=[0,1],hc=!1,Ac;jb.invert=function(ac){return fc.invert(za(ac))};jb.domain=function(ac){return arguments.length?(fc.domain(ac),
jb):fc.domain()};jb.range=function(ac){return arguments.length?(fc.range((dc=Array.from(ac,a)).map(za)),jb):dc.slice()};jb.rangeRound=function(ac){return jb.range(ac).round(!0)};jb.round=function(ac){return arguments.length?(hc=!!ac,jb):hc};jb.clamp=function(ac){return arguments.length?(fc.clamp(ac),jb):fc.clamp()};jb.unknown=function(ac){return arguments.length?(Ac=ac,jb):Ac};jb.copy=function(){return pa(fc.domain(),dc).round(hc).clamp(fc.clamp()).unknown(Ac)};u.apply(jb,arguments);return x(jb)}
function T(){function jb(){var Oc=0,Sc=Math.max(1,hc.length);for(Ac=Array(Sc-1);++Oc<Sc;)Ac[Oc-1]=l.quantileSorted(dc,Oc/Sc);return fc}function fc(Oc){return isNaN(Oc=+Oc)?ac:hc[l.bisect(Ac,Oc)]}var dc=[],hc=[],Ac=[],ac;fc.invertExtent=function(Oc){Oc=hc.indexOf(Oc);return 0>Oc?[NaN,NaN]:[0<Oc?Ac[Oc-1]:dc[0],Oc<Ac.length?Ac[Oc]:dc[dc.length-1]]};fc.domain=function(Oc){if(!arguments.length)return dc.slice();dc=[];for(let Sc of Oc)null==Sc||isNaN(Sc=+Sc)||dc.push(Sc);dc.sort(l.ascending);return jb()};
fc.range=function(Oc){return arguments.length?(hc=Array.from(Oc),jb()):hc.slice()};fc.unknown=function(Oc){return arguments.length?(ac=Oc,fc):ac};fc.quantiles=function(){return Ac.slice()};fc.copy=function(){return T().domain(dc).range(hc).unknown(ac)};return u.apply(fc,arguments)}function W(){function jb(Bc){return Bc<=Bc?Oc[l.bisect(ac,Bc,0,Ac)]:Sc}function fc(){var Bc=-1;for(ac=Array(Ac);++Bc<Ac;)ac[Bc]=((Bc+1)*hc-(Bc-Ac)*dc)/(Ac+1);return jb}var dc=0,hc=1,Ac=1,ac=[.5],Oc=[0,1],Sc;jb.domain=function(Bc){return arguments.length?
([dc,hc]=Bc,dc=+dc,hc=+hc,fc()):[dc,hc]};jb.range=function(Bc){return arguments.length?(Ac=(Oc=Array.from(Bc)).length-1,fc()):Oc.slice()};jb.invertExtent=function(Bc){Bc=Oc.indexOf(Bc);return 0>Bc?[NaN,NaN]:1>Bc?[dc,ac[0]]:Bc>=Ac?[ac[Ac-1],hc]:[ac[Bc-1],ac[Bc]]};jb.unknown=function(Bc){return arguments.length?(Sc=Bc,jb):jb};jb.thresholds=function(){return ac.slice()};jb.copy=function(){return W().domain([dc,hc]).range(Oc).unknown(Sc)};return u.apply(x(jb),arguments)}function M(){function jb(ac){return ac<=
ac?dc[l.bisect(fc,ac,0,Ac)]:hc}var fc=[.5],dc=[0,1],hc,Ac=1;jb.domain=function(ac){return arguments.length?(fc=Array.from(ac),Ac=Math.min(fc.length,dc.length-1),jb):fc.slice()};jb.range=function(ac){return arguments.length?(dc=Array.from(ac),Ac=Math.min(fc.length,dc.length-1),jb):dc.slice()};jb.invertExtent=function(ac){ac=dc.indexOf(ac);return[fc[ac-1],fc[ac]]};jb.unknown=function(ac){return arguments.length?(hc=ac,jb):hc};jb.copy=function(){return M().domain(fc).range(dc).unknown(hc)};return u.apply(jb,
arguments)}function P(jb){return new Date(jb)}function ca(jb){return jb instanceof Date?+jb:+new Date(+jb)}function ea(jb,fc,dc,hc,Ac,ac,Oc,Sc,Bc){function pd(pb){return(Oc(pb)<pb?cb:ac(pb)<pb?yb:Ac(pb)<pb?Sb:hc(pb)<pb?ld:fc(pb)<pb?dc(pb)<pb?xd:Pd:jb(pb)<pb?me:Ha)(pb)}function Rd(pb,Db,Xb){null==pb&&(pb=10);if("number"===typeof pb){var Gb=Math.abs(Xb-Db)/pb,pc=l.bisector(function(ic){return ic[2]}).right(Ya,Gb);pc===Ya.length?(Db=l.tickStep(Db/vc,Xb/vc,pb),pb=jb):pc?(pc=Ya[Gb/Ya[pc-1][2]<Ya[pc][2]/
Gb?pc-1:pc],Db=pc[1],pb=pc[0]):(Db=Math.max(l.tickStep(Db,Xb,pb),1),pb=Sc);return pb.every(Db)}return pb}var hd=K()(e,e),cd=hd.invert,Dd=hd.domain,cb=Bc(".%L"),yb=Bc(":%S"),Sb=Bc("%I:%M"),ld=Bc("%I %p"),xd=Bc("%a %d"),Pd=Bc("%b %d"),me=Bc("%B"),Ha=Bc("%Y"),Ya=[[Oc,1,1E3],[Oc,5,5E3],[Oc,15,15E3],[Oc,30,3E4],[ac,1,6E4],[ac,5,3E5],[ac,15,9E5],[ac,30,18E5],[Ac,1,36E5],[Ac,3,108E5],[Ac,6,216E5],[Ac,12,432E5],[hc,1,864E5],[hc,2,1728E5],[dc,1,$c],[fc,1,kc],[fc,3,3*kc],[jb,1,vc]];hd.invert=function(pb){return new Date(cd(pb))};
hd.domain=function(pb){return arguments.length?Dd(Array.from(pb,ca)):Dd().map(P)};hd.ticks=function(pb){var Db=Dd(),Xb=Db[0];Db=Db[Db.length-1];var Gb=Db<Xb;if(Gb){var pc=Xb;Xb=Db;Db=pc}pc=(pc=Rd(pb,Xb,Db))?pc.range(Xb,Db+1):[];return Gb?pc.reverse():pc};hd.tickFormat=function(pb,Db){return null==Db?pd:Bc(Db)};hd.nice=function(pb){var Db=Dd();return(pb=Rd(pb,Db[0],Db[Db.length-1]))?Dd(S(Db,pb)):hd};hd.copy=function(){return N(hd,ea(jb,fc,dc,hc,Ac,ac,Oc,Sc,Bc))};return hd}function oa(){function jb(hd){return isNaN(hd=
+hd)?Rd:Bc(0===Oc?.5:(hd=(Sc(hd)-Ac)*Oc,pd?Math.max(0,Math.min(1,hd)):hd))}function fc(hd){return function(cd){var Dd,cb;return arguments.length?([Dd,cb]=cd,Bc=hd(Dd,cb),jb):[Bc(0),Bc(1)]}}var dc=0,hc=1,Ac,ac,Oc,Sc,Bc=e,pd=!1,Rd;jb.domain=function(hd){return arguments.length?([dc,hc]=hd,Ac=Sc(dc=+dc),ac=Sc(hc=+hc),Oc=Ac===ac?0:1/(ac-Ac),jb):[dc,hc]};jb.clamp=function(hd){return arguments.length?(pd=!!hd,jb):pd};jb.interpolator=function(hd){return arguments.length?(Bc=hd,jb):Bc};jb.range=fc(w.interpolate);
jb.rangeRound=fc(w.interpolateRound);jb.unknown=function(hd){return arguments.length?(Rd=hd,jb):Rd};return function(hd){Sc=hd;Ac=hd(dc);ac=hd(hc);Oc=Ac===ac?0:1/(ac-Ac);return jb}}function ba(jb,fc){return fc.domain(jb.domain()).interpolator(jb.interpolator()).clamp(jb.clamp()).unknown(jb.unknown())}function Fa(){var jb=x(oa()(e));jb.copy=function(){return ba(jb,Fa())};return t.apply(jb,arguments)}function Ra(){var jb=Y(oa()).domain([1,10]);jb.copy=function(){return ba(jb,Ra()).base(jb.base())};return t.apply(jb,
arguments)}function Ma(){var jb=xa(oa());jb.copy=function(){return ba(jb,Ma()).constant(jb.constant())};return t.apply(jb,arguments)}function db(){var jb=Na(oa());jb.copy=function(){return ba(jb,db()).exponent(jb.exponent())};return t.apply(jb,arguments)}function ab(){function jb(hc){if(!isNaN(hc=+hc))return dc((l.bisect(fc,hc,1)-1)/(fc.length-1))}var fc=[],dc=e;jb.domain=function(hc){if(!arguments.length)return fc.slice();fc=[];for(let Ac of hc)null==Ac||isNaN(Ac=+Ac)||fc.push(Ac);fc.sort(l.ascending);
return jb};jb.interpolator=function(hc){return arguments.length?(dc=hc,jb):dc};jb.range=function(){return fc.map((hc,Ac)=>dc(Ac/(fc.length-1)))};jb.quantiles=function(hc){return Array.from({length:hc+1},(Ac,ac)=>l.quantile(fc,ac/hc))};jb.copy=function(){return ab(dc).domain(fc)};return t.apply(jb,arguments)}function Ba(){function jb(yb){return isNaN(yb=+yb)?cb:(yb=.5+((yb=+cd(yb))-Sc)*(ac*yb<ac*Sc?pd:Rd),hd(Dd?Math.max(0,Math.min(1,yb)):yb))}function fc(yb){return function(Sb){var ld,xd,Pd;return arguments.length?
([ld,xd,Pd]=Sb,hd=w.piecewise(yb,[ld,xd,Pd]),jb):[hd(0),hd(.5),hd(1)]}}var dc=0,hc=.5,Ac=1,ac=1,Oc,Sc,Bc,pd,Rd,hd=e,cd,Dd=!1,cb;jb.domain=function(yb){return arguments.length?([dc,hc,Ac]=yb,Oc=cd(dc=+dc),Sc=cd(hc=+hc),Bc=cd(Ac=+Ac),pd=Oc===Sc?0:.5/(Sc-Oc),Rd=Sc===Bc?0:.5/(Bc-Sc),ac=Sc<Oc?-1:1,jb):[dc,hc,Ac]};jb.clamp=function(yb){return arguments.length?(Dd=!!yb,jb):Dd};jb.interpolator=function(yb){return arguments.length?(hd=yb,jb):hd};jb.range=fc(w.interpolate);jb.rangeRound=fc(w.interpolateRound);
jb.unknown=function(yb){return arguments.length?(cb=yb,jb):cb};return function(yb){cd=yb;Oc=yb(dc);Sc=yb(hc);Bc=yb(Ac);pd=Oc===Sc?0:.5/(Sc-Oc);Rd=Sc===Bc?0:.5/(Bc-Sc);ac=Sc<Oc?-1:1;return jb}}function Sa(){var jb=x(Ba()(e));jb.copy=function(){return ba(jb,Sa())};return t.apply(jb,arguments)}function lb(){var jb=Y(Ba()).domain([.1,1,10]);jb.copy=function(){return ba(jb,lb()).base(jb.base())};return t.apply(jb,arguments)}function ub(){var jb=xa(Ba());jb.copy=function(){return ba(jb,ub()).constant(jb.constant())};
return t.apply(jb,arguments)}function Jb(){var jb=Na(Ba());jb.copy=function(){return ba(jb,Jb()).exponent(jb.exponent())};return t.apply(jb,arguments)}const bc=Symbol("implicit");var wc=[0,1],$c=6048E5,kc=2592E6,vc=31536E6;m.scaleBand=f;m.scaleDiverging=Sa;m.scaleDivergingLog=lb;m.scaleDivergingPow=Jb;m.scaleDivergingSqrt=function(){return Jb.apply(null,arguments).exponent(.5)};m.scaleDivergingSymlog=ub;m.scaleIdentity=H;m.scaleImplicit=bc;m.scaleLinear=D;m.scaleLog=ka;m.scaleOrdinal=k;m.scalePoint=
function(){return d(f.apply(null,arguments).paddingInner(1))};m.scalePow=Ta;m.scaleQuantile=T;m.scaleQuantize=W;m.scaleRadial=pa;m.scaleSequential=Fa;m.scaleSequentialLog=Ra;m.scaleSequentialPow=db;m.scaleSequentialQuantile=ab;m.scaleSequentialSqrt=function(){return db.apply(null,arguments).exponent(.5)};m.scaleSequentialSymlog=Ma;m.scaleSqrt=function(){return Ta.apply(null,arguments).exponent(.5)};m.scaleSymlog=Da;m.scaleThreshold=M;m.scaleTime=function(){return u.apply(ea(L.timeYear,L.timeMonth,
L.timeWeek,L.timeDay,L.timeHour,L.timeMinute,L.timeSecond,L.timeMillisecond,v.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};m.scaleUtc=function(){return u.apply(ea(L.utcYear,L.utcMonth,L.utcWeek,L.utcDay,L.utcHour,L.utcMinute,L.utcSecond,L.utcMillisecond,v.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};m.tickFormat=E;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(17),z(36),z(35),z(20)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.d3,m.d3,m.d3,m.vega))})(this,function(m,l,w,G,L,v){function u(T,W,M){W=T-W+2*M;return T?0<W?W:1:0}function t(T){return function(W){let M=W[0];W=W[1];let P;W<M&&(P=M,M=W,
W=P);return[T.invert(M),T.invert(W)]}}function k(T){return function(W){const M=T.range();let P=W[0];W=W[1];let ca=-1,ea;let oa;if(W<P){var ba=P;P=W;W=ba}ba=0;for(oa=M.length;ba<oa;++ba)M[ba]>=P&&M[ba]<=W&&(0>ca&&(ca=ba),ea=ba);if(!(0>ca))return P=T.invertExtent(M[ca]),W=T.invertExtent(M[ea]),[void 0===P[0]?P[1]:P[0],void 0===W[1]?W[0]:W[1]]}}function f(){function T(){var db=M().length;const ab=ca[1]<ca[0],Ba=ca[1-ab],Sa=u(db,Fa,Ra);let lb=ca[ab-0];ea=(Ba-lb)/(Sa||1);ba&&(ea=Math.floor(ea));lb+=(Ba-
lb-ea*(db-Fa))*Ma;oa=ea*(1-Fa);ba&&(lb=Math.round(lb),oa=Math.round(oa));db=w.range(db).map(ub=>lb+ea*ub);return P(ab?db.reverse():db)}const W=G.scaleOrdinal().unknown(void 0),M=W.domain,P=W.range;let ca=[0,1],ea,oa,ba=!1,Fa=0,Ra=0,Ma=.5;delete W.unknown;W.domain=function(db){return arguments.length?(M(db),T()):M()};W.range=function(db){return arguments.length?(ca=[+db[0],+db[1]],T()):ca.slice()};W.rangeRound=function(db){ca=[+db[0],+db[1]];ba=!0;return T()};W.bandwidth=function(){return oa};W.step=
function(){return ea};W.round=function(db){return arguments.length?(ba=!!db,T()):ba};W.padding=function(db){return arguments.length?(Fa=Ra=Math.max(0,Math.min(1,db)),T()):Fa};W.paddingInner=function(db){return arguments.length?(Fa=Math.max(0,Math.min(1,db)),T()):Fa};W.paddingOuter=function(db){return arguments.length?(Ra=Math.max(0,Math.min(1,db)),T()):Ra};W.align=function(db){return arguments.length?(Ma=Math.max(0,Math.min(1,db)),T()):Ma};W.invertRange=function(db){if(null!=db[0]&&null!=db[1]){var ab=
ca[1]<ca[0],Ba=ab?P().reverse():P(),Sa=Ba.length-1,lb=+db[0],ub=+db[1];if(lb===lb&&ub===ub){if(ub<lb){var Jb=lb;lb=ub;ub=Jb}if(!(ub<Ba[0]||lb>ca[1-ab]))return db=Math.max(0,w.bisectRight(Ba,lb)-1),ub=lb===ub?db:w.bisectRight(Ba,ub)-1,lb-Ba[db]>oa+1E-10&&++db,ab&&(Jb=db,db=Sa-ub,ub=Sa-Jb),db>ub?void 0:M().slice(db,ub+1)}}};W.invert=function(db){return(db=W.invertRange([db,db]))?db[0]:db};W.copy=function(){return f().domain(M()).range(ca).round(ba).paddingInner(Fa).paddingOuter(Ra).align(Ma)};return T()}
function d(T){const W=T.copy;T.padding=T.paddingOuter;delete T.paddingInner;T.copy=function(){return d(W())};return T}function g(){function T(P){return null==P||P!==P?void 0:M[(w.bisect(W,P)-1)%M.length]}let W=[],M=[];T.domain=function(P){return arguments.length?(W=Y.call(P,l.toNumber),T):W.slice()};T.range=function(P){return arguments.length?(M=ka.call(P),T):M.slice()};T.tickFormat=function(P,ca){return G.tickFormat(W[0],l.peek(W),null==P?10:P,ca)};T.copy=function(){return g().domain(T.domain()).range(T.range())};
return T}function a(T,W,M){const P=function(){const ca=W();ca.invertRange||(ca.invertRange=ca.invert?t(ca):ca.invertExtent?k(ca):void 0);ca.type=T;return ca};P.metadata=l.toSet(l.array(M));return P}function e(T,W,M){return 1<arguments.length?(Z[T]=a(T,W,M),this):n(T)?Z[T]:void 0}function n(T){return l.hasOwnProperty(Z,T)}function y(T,W){return(T=Z[T])&&T.metadata[W]}function A(T){return y(T,"discrete")}function C(T){return y(T,"discretizing")}function N(T){return y(T,"log")}function K(T){return y(T,
"temporal")}function E(T,W,M){return L.piecewise(x(W||"rgb",M),T)}function x(T,W){T=B[D(T)];return null!=W&&T&&T.gamma?T.gamma(W):T}function D(T){return"interpolate"+T.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function H(T){const W=T.length/6|0,M=Array(W);for(let P=0;P<W;)M[P]="#"+T.slice(6*P,6*++P);return M}function S(T,W){for(const M in T)U(M,W(T[M]))}function U(T,W){T=T&&T.toLowerCase();return 1<arguments.length?(xa[T]=W,this):xa[T]}function ia(T,W,M){var P=T.range();
let ca=P[0],ea=l.peek(P);P=Wa;ca>ea&&(P=ea,ea=ca,ca=P,P=gb);ca=Math.floor(ca);ea=Math.ceil(ea);W=W.map(oa=>[oa,T(oa)]).filter(oa=>ca<=oa[1]&&oa[1]<=ea).sort(P).map(oa=>oa[0]);if(0<M&&1<W.length){for(P=[W[0],l.peek(W)];W.length>M&&3<=W.length;)W=W.filter((oa,ba)=>!(ba%2));3>W.length&&(W=P)}return W}function fa(T,W){return T.bins?ia(T,T.bins):T.ticks?T.ticks(W):T.domain()}function ja(T,W,M,P,ca,ea){const oa=W.type;let ba=Da;if("time"===oa||"time"===ca)ba=T.timeFormat(P);else if("utc"===oa||"utc"===
ca)ba=T.utcFormat(P);else if(N(oa)){const Fa=T.formatFloat(P);if(ea||W.bins)ba=Fa;else{const Ra=la(W,M,!1);ba=Ma=>Ra(Ma)?Fa(Ma):""}}else W.tickFormat?(W=W.domain(),ba=T.formatSpan(W[0],W[W.length-1],M,P)):P&&(ba=T.format(P));return ba}function la(T,W,M){const P=fa(T,W),ca=T.base(),ea=Math.log(ca),oa=Math.max(1,ca*W/P.length);T=ba=>{ba/=Math.pow(ca,Math.round(Math.log(ba)/ea));ba*ca<ca-.5&&(ba*=ca);return ba<=oa};return M?P.filter(T):T}function da(T,W){T.bins?(T=T.bins,W=T.slice(0,-1),W.max=l.peek(T),
T=W):"log"===T.type?T=la(T,W,!0):ra[T.type]?(T=T[ra[T.type]](),T=[-Infinity].concat(T),T.max=Infinity):T=fa(T,W);return T}function O(T,W,M,P,ca,ea,oa){if(Na[W.type]&&"time"!==ea&&"utc"!==ea){{M=W[Na[W.type]]();ea=M.length;oa=1<ea?M[1]-M[0]:M[0];let ba;for(ba=1;ba<ea;++ba)oa=Math.min(oa,M[ba]-M[ba-1]);T=T.formatSpan(0,oa,30,ca)}}else T=ja(T,W,M,ca,ea,oa);return"symbol"===P&&(ra[W.type]||W.bins)?Ta(T):"discrete"===P?za(T):pa(T)}var B=function(T){if(T&&T.__esModule)return T;var W=Object.create(null);
T&&Object.keys(T).forEach(function(M){if("default"!==M){var P=Object.getOwnPropertyDescriptor(T,M);Object.defineProperty(W,M,P.get?P:{enumerable:!0,get:function(){return T[M]}})}});W["default"]=T;return Object.freeze(W)}(L),Y=Array.prototype.map;const ka=Array.prototype.slice,Z={};e("identity",G.scaleIdentity);e("linear",G.scaleLinear,"continuous");e("log",G.scaleLog,["continuous","log"]);e("pow",G.scalePow,"continuous");e("sqrt",G.scaleSqrt,"continuous");e("symlog",G.scaleSymlog,"continuous");e("time",
G.scaleTime,["continuous","temporal"]);e("utc",G.scaleUtc,["continuous","temporal"]);e("sequential",G.scaleSequential,["continuous","interpolating"]);e("sequential-linear",G.scaleSequential,["continuous","interpolating"]);e("sequential-log",G.scaleSequentialLog,["continuous","interpolating","log"]);e("sequential-pow",G.scaleSequentialPow,["continuous","interpolating"]);e("sequential-sqrt",G.scaleSequentialSqrt,["continuous","interpolating"]);e("sequential-symlog",G.scaleSequentialSymlog,["continuous",
"interpolating"]);e("diverging-linear",G.scaleDiverging,["continuous","interpolating"]);e("diverging-log",G.scaleDivergingLog,["continuous","interpolating","log"]);e("diverging-pow",G.scaleDivergingPow,["continuous","interpolating"]);e("diverging-sqrt",G.scaleDivergingSqrt,["continuous","interpolating"]);e("diverging-symlog",G.scaleDivergingSymlog,["continuous","interpolating"]);e("quantile",G.scaleQuantile,["discretizing","quantile"]);e("quantize",G.scaleQuantize,"discretizing");e("threshold",G.scaleThreshold,
"discretizing");e("bin-ordinal",g,["discrete","discretizing"]);e("ordinal",G.scaleOrdinal,"discrete");e("band",f,"discrete");e("point",function(){return d(f().paddingInner(1))},"discrete");const wa=["clamp","base","constant","exponent"],xa={};S({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},H);S({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},T=>E(H(T)));const Da=T=>l.isArray(T)?T.map(W=>String(W)):String(T),Wa=(T,W)=>T[1]-W[1],gb=(T,W)=>W[1]-T[1],ra={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Na={["quantile"]:"quantiles",["quantize"]:"domain"},Ta=T=>(W,M,P)=>{M=P[M+1];P=P.max;P=null!=P?P:Infinity;M=null!=M?M:P;W=
Number.isFinite(W)?T(W):null;M=Number.isFinite(M)?T(M):null;return W&&M?W+"  "+M:M?"\x3c "+M:" "+W},za=T=>(W,M)=>M?T(W):null,pa=T=>W=>T(W);Object.defineProperty(m,"scaleImplicit",{enumerable:!0,get:function(){return G.scaleImplicit}});m.Band="band";m.BinOrdinal="bin-ordinal";m.DiscreteLegend="discrete";m.Diverging="diverging";m.GradientLegend="gradient";m.Identity="identity";m.Linear="linear";m.Log="log";m.Ordinal="ordinal";m.Point="point";m.Pow="pow";m.Quantile="quantile";m.Quantize="quantize";
m.Sequential="sequential";m.Sqrt="sqrt";m.SymbolLegend="symbol";m.Symlog="symlog";m.Threshold="threshold";m.Time="time";m.UTC="utc";m.bandSpace=u;m.domainCaption=function(T,W,M){M=M||{};var P=Math.max(3,M.maxlen||7);{var ca=M.format;const ea=(M=M.formatType)||W.type;l.isString(ca)&&K(ea)&&(ca=ca.replace(/%a/g,"%A").replace(/%b/g,"%B"));T=ca||"time"!==ea?ca||"utc"!==ea?O(T,W,5,null,ca,M,!0):T.utcFormat("%A, %d %B %Y, %X UTC"):T.timeFormat("%A, %d %B %Y, %X")}if(C(W.type))return P=da(W).slice(1).map(T),
W=P.length,`${W} boundar${1===W?"y":"ies"}: ${P.join(", ")}`;if(A(W.type))return ca=W.domain(),W=ca.length,P=W>P?ca.slice(0,P-2).map(T).join(", ")+", ending with "+ca.slice(-1).map(T):ca.map(T).join(", "),`${W} value${1===W?"":"s"}: ${P}`;P=W.domain();return`values from ${T(P[0])} to ${T(l.peek(P))}`};m.interpolate=x;m.interpolateColors=E;m.interpolateRange=function(T,W){const M=W[0],P=l.peek(W)-M;return function(ca){return T(M+ca*P)}};m.isContinuous=function(T){return y(T,"continuous")};m.isDiscrete=
A;m.isDiscretizing=C;m.isInterpolating=function(T){return y(T,"interpolating")};m.isLogarithmic=N;m.isQuantile=function(T){return y(T,"quantile")};m.isTemporal=K;m.isValidScaleType=n;m.labelFormat=O;m.labelFraction=function(T){var W=T.domain();const M=W.length-1;let P=+W[0];W=+l.peek(W);let ca=W-P;"threshold"===T.type&&(T=M?ca/M:.1,P-=T,W+=T,ca=W-P);return ea=>(ea-P)/ca};m.labelValues=da;m.quantizeInterpolator=function(T,W){const M=Array(W),P=W+1;for(let ca=0;ca<W;)M[ca]=T(++ca/P);return M};m.scale=
e;m.scaleCopy=function(T){const W=T.type;T=T.copy();T.type=W;return T};m.scaleFraction=function(T,W,M){var P=M-W;let ca,ea;return P&&Number.isFinite(P)?(P=(ca=T.type).indexOf("-"),ca=0>P?ca:ca.slice(P+1),ea=e(ca)().domain([W,M]).range([0,1]),wa.forEach(oa=>T[oa]?ea[oa](T[oa]()):0),ea):l.constant(.5)};m.scheme=U;m.tickCount=function(T,W,M){let P;l.isNumber(W)&&(T.bins&&(W=Math.max(W,T.bins.length)),null!=M&&(W=Math.min(W,Math.floor(l.span(T.domain())/M||1))));l.isObject(W)&&(P=W.step,W=W.interval);
l.isString(W)&&(W="time"===T.type?v.timeInterval(W):"utc"==T.type?v.utcInterval(W):l.error("Only time and utc scales accept interval strings."),P&&(W=W.every(P)));return W};m.tickFormat=ja;m.tickValues=fa;m.validTicks=ia;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(32),z(31),z(33),z(27),z(37)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.d3,m.d3,m.vega,m.vega,m.vega))})(this,function(m,l,w,G,L,v,u){function t(X,na,Ja){const Oa=X.gradient;let tb=X.id,Lb="radial"===Oa?"p_":"";tb||(tb=X.id="gradient_"+
Yd++,"radial"===Oa?(X.x1=k(X.x1,.5),X.y1=k(X.y1,.5),X.r1=k(X.r1,0),X.x2=k(X.x2,.5),X.y2=k(X.y2,.5),X.r2=k(X.r2,.5),Lb="p_"):(X.x1=k(X.x1,0),X.y1=k(X.y1,0),X.x2=k(X.x2,1),X.y2=k(X.y2,0)));na[tb]=X;return"url("+(Ja||"")+"#"+Lb+tb+")"}function k(X,na){return null!=X?X:na}function f(X,na,Ja){X=l.hasOwnProperty(ef,X)&&ef[X];var Oa=null;X&&(Oa=X.curve||X[na||"vertical"],X.tension&&null!=Ja&&(Oa=Oa[X.tension](Ja)));return Oa}function d(X){const na=[];let Ja,Oa,tb,Lb;var Qb;const gc=X.slice().replace(Ed[0],
"###$1").split(Ed[1]).slice(1);X=0;for(Lb=gc.length;X<Lb;++X){var uc=gc[X];var Qc=uc.slice(1).trim().replace(Ed[2],"$1###$2").replace(Ed[3],"$1###$2").split(Ed[4]);Oa=uc.charAt(0);uc=[Oa];tb=0;for(Qb=Qc.length;tb<Qb;++tb)(Ja=+Qc[tb])===Ja&&uc.push(Ja);Qc=qe[Oa.toLowerCase()];if(uc.length-1>Qc)for(Qb=uc.length,tb=1,na.push([Oa].concat(uc.slice(tb,tb+=Qc))),Oa="M"===Oa?"L":"m"===Oa?"l":Oa;tb<Qb;tb+=Qc)na.push([Oa].concat(uc.slice(tb,tb+Qc)));else na.push(uc)}return na}function g(X,na,Ja,Oa,tb,Lb,Qb,
gc,uc){const Qc=Je.call(arguments);if(ge[Qc])return ge[Qc];var Lc=Qb*Ie;const td=Math.sin(Lc);Lc=Math.cos(Lc);Ja=Math.abs(Ja);Oa=Math.abs(Oa);var Ld=Lc*(gc-X)*.5+td*(uc-na)*.5,Yc=Lc*(uc-na)*.5-td*(gc-X)*.5;Ld=Ld*Ld/(Ja*Ja)+Yc*Yc/(Oa*Oa);1<Ld&&(Ld=Math.sqrt(Ld),Ja*=Ld,Oa*=Ld);var nd=Lc/Ja,Vc=td/Ja,Ce=-td/Oa,Pa=Lc/Oa;Ld=nd*gc+Vc*uc;Yc=Ce*gc+Pa*uc;nd=nd*X+Vc*na;Vc=Ce*X+Pa*na;Ce=1/((nd-Ld)*(nd-Ld)+(Vc-Yc)*(Vc-Yc))-.25;0>Ce&&(Ce=0);Pa=Math.sqrt(Ce);Lb==tb&&(Pa=-Pa);Ce=.5*(Ld+nd)-Pa*(Vc-Yc);Pa=.5*(Yc+Vc)+
Pa*(nd-Ld);Ld=Math.atan2(Yc-Pa,Ld-Ce);Yc=Math.atan2(Vc-Pa,nd-Ce)-Ld;0>Yc&&1===Lb?Yc+=xc:0<Yc&&0===Lb&&(Yc-=xc);nd=Math.ceil(Math.abs(Yc/(nf+.001)));Vc=[];for(let kb=0;kb<nd;++kb)Vc[kb]=[Ce,Pa,Ld+kb*Yc/nd,Ld+(kb+1)*Yc/nd,Ja,Oa,td,Lc];return ge[Qc]=Vc}function a(X,na,Ja,Oa,tb,Lb){var Qb=null,gc=0,uc=0,Qc=0,Lc=0;null==Ja&&(Ja=0);null==Oa&&(Oa=0);null==tb&&(tb=1);null==Lb&&(Lb=tb);X.beginPath&&X.beginPath();for(var td=0,Ld=na.length;td<Ld;++td){var Yc=na[td];if(1!==tb||1!==Lb){var nd=tb;var Vc=Lb;var Ce=
he[0]=Yc[0];if("a"===Ce||"A"===Ce)he[1]=nd*Yc[1],he[2]=Vc*Yc[2],he[3]=Yc[3],he[4]=Yc[4],he[5]=Yc[5],he[6]=nd*Yc[6],he[7]=Vc*Yc[7];else if("h"===Ce||"H"===Ce)he[1]=nd*Yc[1];else if("v"===Ce||"V"===Ce)he[1]=Vc*Yc[1];else{Ce=1;for(var Pa=Yc.length;Ce<Pa;++Ce)he[Ce]=(1==Ce%2?nd:Vc)*Yc[Ce]}Yc=he}switch(Yc[0]){case "l":gc+=Yc[1];uc+=Yc[2];X.lineTo(gc+Ja,uc+Oa);break;case "L":gc=Yc[1];uc=Yc[2];X.lineTo(gc+Ja,uc+Oa);break;case "h":gc+=Yc[1];X.lineTo(gc+Ja,uc+Oa);break;case "H":gc=Yc[1];X.lineTo(gc+Ja,uc+
Oa);break;case "v":uc+=Yc[1];X.lineTo(gc+Ja,uc+Oa);break;case "V":uc=Yc[1];X.lineTo(gc+Ja,uc+Oa);break;case "m":gc+=Yc[1];uc+=Yc[2];X.moveTo(gc+Ja,uc+Oa);break;case "M":gc=Yc[1];uc=Yc[2];X.moveTo(gc+Ja,uc+Oa);break;case "c":nd=gc+Yc[5];Vc=uc+Yc[6];Qc=gc+Yc[3];Lc=uc+Yc[4];X.bezierCurveTo(gc+Yc[1]+Ja,uc+Yc[2]+Oa,Qc+Ja,Lc+Oa,nd+Ja,Vc+Oa);gc=nd;uc=Vc;break;case "C":gc=Yc[5];uc=Yc[6];Qc=Yc[3];Lc=Yc[4];X.bezierCurveTo(Yc[1]+Ja,Yc[2]+Oa,Qc+Ja,Lc+Oa,gc+Ja,uc+Oa);break;case "s":nd=gc+Yc[3];Vc=uc+Yc[4];Qc=
2*gc-Qc;Lc=2*uc-Lc;X.bezierCurveTo(Qc+Ja,Lc+Oa,gc+Yc[1]+Ja,uc+Yc[2]+Oa,nd+Ja,Vc+Oa);Qc=gc+Yc[1];Lc=uc+Yc[2];gc=nd;uc=Vc;break;case "S":nd=Yc[3];Vc=Yc[4];Qc=2*gc-Qc;Lc=2*uc-Lc;X.bezierCurveTo(Qc+Ja,Lc+Oa,Yc[1]+Ja,Yc[2]+Oa,nd+Ja,Vc+Oa);gc=nd;uc=Vc;Qc=Yc[1];Lc=Yc[2];break;case "q":nd=gc+Yc[3];Vc=uc+Yc[4];Qc=gc+Yc[1];Lc=uc+Yc[2];X.quadraticCurveTo(Qc+Ja,Lc+Oa,nd+Ja,Vc+Oa);gc=nd;uc=Vc;break;case "Q":nd=Yc[3];Vc=Yc[4];X.quadraticCurveTo(Yc[1]+Ja,Yc[2]+Oa,nd+Ja,Vc+Oa);gc=nd;uc=Vc;Qc=Yc[1];Lc=Yc[2];break;
case "t":nd=gc+Yc[1];Vc=uc+Yc[2];null===Qb[0].match(/[QqTt]/)?(Qc=gc,Lc=uc):"t"===Qb[0]?(Qc=2*gc-kb,Lc=2*uc-vb):"q"===Qb[0]&&(Qc=2*gc-Qc,Lc=2*uc-Lc);var kb=Qc;var vb=Lc;X.quadraticCurveTo(Qc+Ja,Lc+Oa,nd+Ja,Vc+Oa);gc=nd;uc=Vc;Qc=gc+Yc[1];Lc=uc+Yc[2];break;case "T":nd=Yc[1];Vc=Yc[2];Qc=2*gc-Qc;Lc=2*uc-Lc;X.quadraticCurveTo(Qc+Ja,Lc+Oa,nd+Ja,Vc+Oa);gc=nd;uc=Vc;break;case "a":e(X,gc+Ja,uc+Oa,[Yc[1],Yc[2],Yc[3],Yc[4],Yc[5],Yc[6]+gc+Ja,Yc[7]+uc+Oa]);gc+=Yc[6];uc+=Yc[7];break;case "A":e(X,gc+Ja,uc+Oa,[Yc[1],
Yc[2],Yc[3],Yc[4],Yc[5],Yc[6]+Ja,Yc[7]+Oa]);gc=Yc[6];uc=Yc[7];break;case "z":case "Z":X.closePath()}Qb=Yc}}function e(X,na,Ja,Oa){na=g(Oa[5],Oa[6],Oa[0],Oa[1],Oa[3],Oa[4],Oa[2],na,Ja);for(Ja=0;Ja<na.length;++Ja){a:{var tb=na[Ja];Oa=Je.call(tb);if(Zb[Oa]){Oa=Zb[Oa];break a}var Lb=tb[0],Qb=tb[1],gc=tb[2],uc=tb[3],Qc=tb[4],Lc=tb[5],td=tb[6],Ld=tb[7];tb=Ld*Qc;const nd=-td*Lc;Qc*=td;Lc*=Ld;var Yc=Math.cos(gc);const Vc=Math.sin(gc);td=Math.cos(uc);Ld=Math.sin(uc);gc=.5*(uc-gc);uc=Math.sin(.5*gc);uc=8/3*
uc*uc/Math.sin(gc);gc=Lb+Yc-uc*Vc;Yc=Qb+Vc+uc*Yc;Lb+=td;Qb+=Ld;Ld=Lb+uc*Ld;td=Qb-uc*td;Oa=Zb[Oa]=[tb*gc+nd*Yc,Qc*gc+Lc*Yc,tb*Ld+nd*td,Qc*Ld+Lc*td,tb*Lb+nd*Qb,Qc*Lb+Lc*Qb]}X.bezierCurveTo(Oa[0],Oa[1],Oa[2],Oa[3],Oa[4],Oa[5])}}function n(X){return l.hasOwnProperty(Pe,X)?Pe[X]:y(X)}function y(X){if(!l.hasOwnProperty(cf,X)){const na=d(X);cf[X]={draw:function(Ja,Oa){a(Ja,na,0,0,Math.sqrt(Oa)/2)}}}return cf[X]}function A(X){return X.x}function C(X){return X.y}function N(X){return X.width}function K(X){return X.height}
function E(X){return"function"===typeof X?X:()=>+X}function x(X,na,Ja){return Math.max(na,Math.min(X,Ja))}function D(){function X(Lc,td,Ld){var Yc;td=null!=td?td:+na.call(this,Lc);Ld=null!=Ld?Ld:+Ja.call(this,Lc);var nd=+Oa.call(this,Lc),Vc=+tb.call(this,Lc),Ce=Math.min(nd,Vc)/2,Pa=x(+Lb.call(this,Lc),0,Ce),kb=x(+Qb.call(this,Lc),0,Ce),vb=x(+gc.call(this,Lc),0,Ce);Lc=x(+uc.call(this,Lc),0,Ce);Qc||(Qc=Yc=G.path());0>=Pa&&0>=kb&&0>=vb&&0>=Lc?Qc.rect(td,Ld,nd,Vc):(nd=td+nd,Vc=Ld+Vc,Qc.moveTo(td+Pa,Ld),
Qc.lineTo(nd-kb,Ld),Qc.bezierCurveTo(nd-.448084975506*kb,Ld,nd,Ld+.448084975506*kb,nd,Ld+kb),Qc.lineTo(nd,Vc-Lc),Qc.bezierCurveTo(nd,Vc-.448084975506*Lc,nd-.448084975506*Lc,Vc,nd-Lc,Vc),Qc.lineTo(td+vb,Vc),Qc.bezierCurveTo(td+.448084975506*vb,Vc,td,Vc-.448084975506*vb,td,Vc-vb),Qc.lineTo(td,Ld+Pa),Qc.bezierCurveTo(td,Ld+.448084975506*Pa,td+.448084975506*Pa,Ld,td+Pa,Ld),Qc.closePath());if(Yc)return Qc=null,Yc+""||null}var na=A,Ja=C,Oa=N,tb=K,Lb=E(0),Qb=Lb,gc=Lb,uc=Lb,Qc=null;X.x=function(Lc){return arguments.length?
(na=E(Lc),X):na};X.y=function(Lc){return arguments.length?(Ja=E(Lc),X):Ja};X.width=function(Lc){return arguments.length?(Oa=E(Lc),X):Oa};X.height=function(Lc){return arguments.length?(tb=E(Lc),X):tb};X.cornerRadius=function(Lc,td,Ld,Yc){return arguments.length?(Lb=E(Lc),Qb=null!=td?E(td):Lb,uc=null!=Ld?E(Ld):Lb,gc=null!=Yc?E(Yc):Qb,X):Lb};X.context=function(Lc){return arguments.length?(Qc=null==Lc?null:Lc,X):Qc};return X}function H(){function X(Lc){var td,Ld=Lc.length,Yc,nd=!1,Vc;null==Lb&&(Lb=Vc=
G.path());for(td=0;td<=Ld;++td)if(!(td<Ld&&tb(Yc=Lc[td],td,Lc))===nd&&(nd=!nd)&&(Qb=0),nd){{var Ce=+na(Yc,td,Lc),Pa=+Ja(Yc,td,Lc);const q=+Oa(Yc,td,Lc)/2;if(Qb){var kb=uc-Pa,vb=Ce-gc;if(kb||vb){var Eb=Math.sqrt(kb*kb+vb*vb),Rb=(kb/=Eb)*Qc;Eb=(vb/=Eb)*Qc;var yc=Math.atan2(vb,kb);Lb.moveTo(gc-Rb,uc-Eb);Lb.lineTo(Ce-kb*q,Pa-vb*q);Lb.arc(Ce,Pa,q,yc-Math.PI,yc);Lb.lineTo(gc+Rb,uc+Eb);Lb.arc(gc,uc,Qc,yc,yc+Math.PI)}else Lb.arc(Ce,Pa,q,0,xc);Lb.closePath()}else Qb=1;gc=Ce;uc=Pa;Qc=q}}if(Vc)return Lb=null,
Vc+""||null}var na,Ja,Oa,tb,Lb=null,Qb,gc,uc,Qc;X.x=function(Lc){return arguments.length?(na=Lc,X):na};X.y=function(Lc){return arguments.length?(Ja=Lc,X):Ja};X.size=function(Lc){return arguments.length?(Oa=Lc,X):Oa};X.defined=function(Lc){return arguments.length?(tb=Lc,X):tb};X.context=function(Lc){return arguments.length?(Lb=null==Lc?null:Lc,X):Lb};return X}function S(X,na){return null!=X?X:na}function U(X){return X.cornerRadius||X.cornerRadiusTopLeft||X.cornerRadiusTopRight||X.cornerRadiusBottomRight||
X.cornerRadiusBottomLeft}function ia(X,na,Ja,Oa){return mb.context(X)(na,Ja,Oa)}function fa(X,na,Ja){var Oa=na.clip;X=X._defs;na=na.clip_id||(na.clip_id="clip"+Ec++);X=X.clipping[na]||(X.clipping[na]={id:na});l.isFunction(Oa)?X.path=Oa(null):U(Ja)?X.path=ia(null,Ja,0,0):(X.width=Ja.width||0,X.height=Ja.height||0);return"url(#"+na+")"}function ja(X){this.clear();X&&this.union(X)}function la(X){this.mark=X;this.bounds=this.bounds||new ja}function da(X){la.call(this,X);this.items=this.items||[]}function O(X){this._pending=
0;this._loader=X||v.loader()}function B(X,na,Ja){if(na.stroke&&0!==na.opacity&&0!==na.strokeOpacity){const Oa=null!=na.strokeWidth?+na.strokeWidth:1;X.expand(Oa+(Ja?na.strokeJoin&&"miter"!==na.strokeJoin?0:Oa:0))}return X}function Y(X,na){Fc=X;na?(ie=na*Ie,zd=Md=Math.cos(ie),sd=Math.sin(ie),Zc=-sd):(zd=Md=1,ie=sd=Zc=0);return Me}function ka(X,na,Ja,Oa){Ja=(X-na)/(X+Ja-2*na);0<Ja&&1>Ja&&Oa(X+(na-X)*Ja)}function Z(X,na,Ja,Oa,tb){const Lb=Oa-X+3*na-3*Ja,Qb=X+Ja-2*na;var gc=X-na;let uc=0,Qc=0;1E-14<Math.abs(Lb)?
(gc=Qb*Qb+gc*Lb,0<=gc&&(gc=Math.sqrt(gc),uc=(-Qb+gc)/Lb,Qc=(-Qb-gc)/Lb)):uc=.5*gc/Qb;0<uc&&1>uc&&tb(wa(uc,X,na,Ja,Oa));0<Qc&&1>Qc&&tb(wa(Qc,X,na,Ja,Oa))}function wa(X,na,Ja,Oa,tb){const Lb=1-X,Qb=Lb*Lb,gc=X*X;return Qb*Lb*na+3*Qb*X*Ja+3*Lb*gc*Oa+gc*X*tb}function xa(X){return function(na,Ja){if(!Ee)return!0;X(Ee,na);Ef.clear().union(na.bounds).intersect(Ja).round();const {x1:Oa,y1:tb,x2:Lb,y2:Qb}=Ef;for(na=tb;na<=Qb;++na)for(Ja=Oa;Ja<=Lb;++Ja)if(Ee.isPointInPath(Ja,na))return!0;return!1}}function Da(X,
na){return na.contains(X.x||0,X.y||0)}function Wa(X,na){const Ja=X.x||0,Oa=X.y||0;return na.intersects(Ef.set(Ja,Oa,Ja+(X.width||0),Oa+(X.height||0)))}function gb(X,na){const Ja=X.x||0,Oa=X.y||0;return ra(na,Ja,Oa,null!=X.x2?X.x2:Ja,null!=X.y2?X.y2:Oa)}function ra(X,na,Ja,Oa,tb){const {x1:Lb,y1:Qb,x2:gc,y2:uc}=X;X=Oa-na;tb-=Ja;Oa=0;let Qc=1,Lc,td,Ld,Yc;for(Yc=0;4>Yc;++Yc){0===Yc&&(Lc=-X,td=-(Lb-na));1===Yc&&(Lc=X,td=gc-na);2===Yc&&(Lc=-tb,td=-(Qb-Ja));3===Yc&&(Lc=tb,td=uc-Ja);if(1E-10>Math.abs(Lc)&&
0>td)return!1;Ld=td/Lc;if(0>Lc){if(Ld>Qc)return!1;Ld>Oa&&(Oa=Ld)}else if(0<Lc){if(Ld<Oa)return!1;Ld<Qc&&(Qc=Ld)}}return!0}function Na(X,na){X.globalCompositeOperation=na.blend||"source-over"}function Ta(X,na){return null==X?na:X}function za(X,na){const Ja=na.length;for(let Oa=0;Oa<Ja;++Oa)X.addColorStop(na[Oa].offset,na[Oa].color);return X}function pa(X,na,Ja){const Oa=Ja.width(),tb=Ja.height();if("radial"===na.gradient)X=X.createRadialGradient(Ja.x1+Ta(na.x1,.5)*Oa,Ja.y1+Ta(na.y1,.5)*tb,Math.max(Oa,
tb)*Ta(na.r1,0),Ja.x1+Ta(na.x2,.5)*Oa,Ja.y1+Ta(na.y2,.5)*tb,Math.max(Oa,tb)*Ta(na.r2,.5));else{const Lb=Ta(na.x1,0),Qb=Ta(na.y1,0),gc=Ta(na.x2,1),uc=Ta(na.y2,0);if(Lb===gc||Qb===uc||Oa===tb)X=X.createLinearGradient(Ja.x1+Lb*Oa,Ja.y1+Qb*tb,Ja.x1+gc*Oa,Ja.y1+uc*tb);else{Ja=L.canvas(Math.ceil(Oa),Math.ceil(tb));const Qc=Ja.getContext("2d");Qc.scale(Oa,tb);Qc.fillStyle=za(Qc.createLinearGradient(Lb,Qb,gc,uc),na.stops);Qc.fillRect(0,0,Oa,tb);return X.createPattern(Ja,"no-repeat")}}return za(X,na.stops)}
function T(X,na,Ja){Ja*=null==na.fillOpacity?1:na.fillOpacity;return 0<Ja?(X.globalAlpha=Ja,na=(Ja=na.fill)&&Ja.gradient?pa(X,Ja,na.bounds):Ja,X.fillStyle=na,!0):!1}function W(X,na,Ja){var Oa=null!=(Oa=na.strokeWidth)?Oa:1;if(0>=Oa)return!1;Ja*=null==na.strokeOpacity?1:na.strokeOpacity;return 0<Ja?(X.globalAlpha=Ja,Ja=(Ja=na.stroke)&&Ja.gradient?pa(X,Ja,na.bounds):Ja,X.strokeStyle=Ja,X.lineWidth=Oa,X.lineCap=na.strokeCap||"butt",X.lineJoin=na.strokeJoin||"miter",X.miterLimit=na.strokeMiterLimit||
10,X.setLineDash&&(X.setLineDash(na.strokeDash||yf),X.lineDashOffset=na.strokeDashOffset||0),!0):!1}function M(X,na){return X.zindex-na.zindex||X.index-na.index}function P(X){if(!X.zdirty)return X.zitems;var na=X.items,Ja=[],Oa;var tb=0;for(Oa=na.length;tb<Oa;++tb){var Lb=na[tb];Lb.index=tb;Lb.zindex&&Ja.push(Lb)}X.zdirty=!1;return X.zitems=Ja.sort(M)}function ca(X,na){var Ja=X.items,Oa;if(Ja&&Ja.length){var tb=P(X);if(tb&&tb.length){X=0;for(Oa=Ja.length;X<Oa;++X)Ja[X].zindex||na(Ja[X]);Ja=tb}X=0;
for(Oa=Ja.length;X<Oa;++X)na(Ja[X])}}function ea(X,na){var Ja=X.items,Oa,tb;if(!Ja||!Ja.length)return null;const Lb=P(X);Lb&&Lb.length&&(Ja=Lb);for(tb=Ja.length;0<=--tb;)if(Oa=na(Ja[tb]))return Oa;if(Ja===Lb)for(Ja=X.items,tb=Ja.length;0<=--tb;)if(!Ja[tb].zindex&&(Oa=na(Ja[tb])))return Oa;return null}function oa(X){return function(na,Ja,Oa){ca(Ja,tb=>{Oa&&!Oa.intersects(tb.bounds)||Fa(X,na,tb,tb)})}}function ba(X){return function(na,Ja,Oa){!Ja.items.length||Oa&&!Oa.intersects(Ja.bounds)||Fa(X,na,
Ja.items[0],Ja.items)}}function Fa(X,na,Ja,Oa){var tb=null==Ja.opacity?1:Ja.opacity;0===tb||X(na,Oa)||(Na(na,Ja),Ja.fill&&T(na,Ja,tb)&&na.fill(),Ja.stroke&&W(na,Ja,tb)&&na.stroke())}function Ra(X){X=X||l.truthy;return function(na,Ja,Oa,tb,Lb,Qb){Oa*=na.pixelRatio;tb*=na.pixelRatio;return ea(Ja,gc=>{const uc=gc.bounds;if((!uc||uc.contains(Lb,Qb))&&uc&&X(na,gc,Oa,tb,Lb,Qb))return gc})}}function Ma(X,na){return function(Ja,Oa,tb,Lb){var Qb=Array.isArray(Oa)?Oa[0]:Oa,gc=null==na?Qb.fill:na,uc=Qb.stroke&&
Ja.isPointInStroke;if(uc){var Qc=Qb.strokeWidth;Qb=Qb.strokeCap;Ja.lineWidth=null!=Qc?Qc:1;Ja.lineCap=null!=Qb?Qb:"butt"}return X(Ja,Oa)?!1:gc&&Ja.isPointInPath(tb,Lb)||uc&&Ja.isPointInStroke(tb,Lb)}}function db(X,na){return"translate("+X+","+na+")"}function ab(X,na,Ja){function Oa(tb,Lb){var Qb=Lb.x||0,gc=Lb.y||0,uc=Lb.angle||0;tb.translate(Qb,gc);uc&&tb.rotate(uc*=Ie);tb.beginPath();na(tb,Lb);uc&&tb.rotate(-uc);tb.translate(-Qb,-gc)}return{type:X,tag:"path",nested:!1,attr:function(tb,Lb){var Qb=
db(Lb.x||0,Lb.y||0)+(Lb.angle?" rotate("+(Lb.angle+")"):"");tb("transform",Qb);tb("d",na(null,Lb))},bound:function(tb,Lb){na(Y(tb,Lb.angle),Lb);return B(tb,Lb).translate(Lb.x||0,Lb.y||0)},draw:oa(Oa),pick:Ra(Ma(Oa)),isect:Ja||xa(Oa)}}function Ba(X,na,Ja){function Oa(Lb,Qb){Lb.beginPath();na(Lb,Qb)}const tb=Ma(Oa);return{type:X,tag:"path",nested:!0,attr:function(Lb,Qb){Qb=Qb.mark.items;Qb.length&&Lb("d",na(null,Qb))},bound:function(Lb,Qb){Qb=Qb.items;if(0===Qb.length)return Lb;na(Y(Lb),Qb);return B(Lb,
Qb[0])},draw:ba(Oa),pick:function(Lb,Qb,gc,uc,Qc,Lc){var td=Qb.items;Qb=Qb.bounds;if(!td||!td.length||Qb&&!Qb.contains(Qc,Lc))return null;gc*=Lb.pixelRatio;uc*=Lb.pixelRatio;return tb(Lb,td,gc,uc)?td[0]:null},isect:Da,tip:Ja}}function Sa(X,na){X.beginPath();U(na)?ia(X,na,0,0):X.rect(0,0,na.width||0,na.height||0);X.clip()}function lb(X){const na=Ta(X.strokeWidth,1);return null!=X.strokeOffset?X.strokeOffset:X.stroke&&.5<na&&1.5>na?.5-Math.abs(na-1):0}function ub(X,na,Ja,Oa){const tb=lb(na);X.beginPath();
ia(X,na,(Ja||0)+tb,(Oa||0)+tb)}function Jb(X,na){var Ja=X.image;if(!Ja||X.url&&X.url!==Ja.url)Ja={complete:!1,width:0,height:0},na.loadImage(X.url).then(Oa=>{X.image=Oa;X.image.url=X.url});return Ja}function bc(X,na){return null!=X.width?X.width:na&&na.width?!1!==X.aspect&&X.height?X.height*na.width/na.height:na.width:0}function wc(X,na){return null!=X.height?X.height:na&&na.height?!1!==X.aspect&&X.width?X.width*na.height/na.width:na.height:0}function $c(X,na){return"center"===X?na/2:"right"===X?
na:0}function kc(X,na){return"middle"===X?na/2:"bottom"===X?na:0}function vc(X,na){var Ja=na.path;if(null==Ja)return!0;var Oa=na.x||0,tb=na.y||0,Lb=na.scaleX||1,Qb=na.scaleY||1,gc=(na.angle||0)*Ie,uc=na.pathCache;uc&&uc.path===Ja||((na.pathCache=uc=d(Ja)).path=Ja);gc&&X.rotate&&X.translate?(X.translate(Oa,tb),X.rotate(gc),a(X,uc,0,0,Lb,Qb),X.rotate(-gc),X.translate(-Oa,-tb)):a(X,uc,Oa,tb,Lb,Qb)}function jb(X,na){X.beginPath();ia(X,na)}function fc(X,na,Ja){if(na.stroke&&W(X,na,Ja)){Ja=na.x||0;var Oa=
na.y||0;var tb=null!=na.x2?na.x2:Ja;na=null!=na.y2?na.y2:Oa;X.beginPath();X.moveTo(Ja,Oa);X.lineTo(tb,na);return!0}return!1}function dc(X){rd.width=X&&Ee?Ac:hc}function hc(X,na){na=pd(X,na);X=Oc(X);return~~(.8*na.length*X)}function Ac(X,na){return 0>=Oc(X)||!(na=pd(X,na))?0:ac(na,cd(X))}function ac(X,na){const Ja=`(${na}) ${X}`;let Oa=Wd.get(Ja);void 0===Oa&&(Ee.font=na,Oa=Ee.measureText(X).width,Wd.set(Ja,Oa));return Oa}function Oc(X){return null!=X.fontSize?+X.fontSize||0:11}function Sc(X){return null!=
X.lineHeight?X.lineHeight:Oc(X)+2}function Bc(X){X=X.lineBreak&&X.text&&!l.isArray(X.text)?X.text.split(X.lineBreak):X.text;return l.isArray(X)?1<X.length?X:X[0]:X}function pd(X,na){na=null==na?"":(na+"").trim();if(0<X.limit&&na.length){var Ja=+X.limit,Oa=Rd(X);if(!(Oa(na)<Ja)){var tb=X.ellipsis||"",Lb="rtl"===X.dir;X=0;var Qb=na.length;Ja-=Oa(tb);if(Lb){for(;X<Qb;)Lb=X+Qb>>>1,Oa(na.slice(Lb))>Ja?X=Lb+1:Qb=Lb;na=tb+na.slice(X)}else{for(;X<Qb;)Lb=1+(X+Qb>>>1),Oa(na.slice(0,Lb))<Ja?X=Lb:Qb=Lb-1;na=
na.slice(0,X)+tb}}}return na}function Rd(X){if(rd.width===Ac){const na=cd(X);return Ja=>ac(Ja,na)}{const na=Oc(X);return Ja=>~~(.8*Ja.length*na)}}function hd(X,na){X=X.font;return(na&&X?String(X).replace(/"/g,"'"):X)||"sans-serif"}function cd(X,na){return(X.fontStyle?X.fontStyle+" ":"")+(X.fontVariant?X.fontVariant+" ":"")+(X.fontWeight?X.fontWeight+" ":"")+Oc(X)+"px "+hd(X,na)}function Dd(X){var na=X.baseline,Ja=Oc(X);return Math.round("top"===na?.79*Ja:"middle"===na?.3*Ja:"bottom"===na?-.21*Ja:
"line-top"===na?.29*Ja+.5*Sc(X):"line-bottom"===na?.29*Ja-.5*Sc(X):0)}function cb(X){var na=X.x||0,Ja=X.y||0,Oa=X.radius||0;Oa&&(X=(X.theta||0)-nf,na+=Oa*Math.cos(X),Ja+=Oa*Math.sin(X));Hd.x1=na;Hd.y1=Ja;return Hd}function yb(X,na,Ja){var Oa=rd.height(na),tb=na.align,Lb=cb(na),Qb=Lb.x1;Lb=Lb.y1;var gc=na.dx||0,uc=(na.dy||0)+Dd(na)-Math.round(.8*Oa),Qc=Bc(na);l.isArray(Qc)?(Oa+=Sc(na)*(Qc.length-1),Qc=Qc.reduce((Lc,td)=>Math.max(Lc,rd.width(na,td)),0)):Qc=rd.width(na,Qc);"center"===tb?gc-=Qc/2:"right"===
tb&&(gc-=Qc);X.set(gc+=Qb,uc+=Lb,gc+Qc,uc+Oa);if(na.angle&&!Ja)X.rotate(na.angle*Ie,Qb,Lb);else if(2===Ja)return X.rotatedPoints(na.angle*Ie,Qb,Lb);return X}function Sb(X,na,Ja){var Oa=oe[X.mark.marktype];na=na||Oa.bound;Oa.nested&&(X=X.mark);return na(X.bounds||(X.bounds=new ja),X,Ja)}function ld(X,na,Ja){var Oa=oe[X.marktype],tb=Oa.bound,Lb=X.items,Qb=Lb&&Lb.length;if(Oa.nested)return Qb?X=Lb[0]:(uf.mark=X,X=uf),Ja=Sb(X,tb,Ja),na=na&&na.union(Ja)||Ja;na=na||X.bounds&&X.bounds.clear()||new ja;if(Qb)for(Oa=
0,Qb=Lb.length;Oa<Qb;++Oa)na.union(Sb(Lb[Oa],tb,Ja));return X.bounds=na}function xd(X,na){return JSON.stringify(X,Xd,na)}function Pd(X){X="string"===typeof X?JSON.parse(X):X;return me(X)}function me(X){var na=X.marktype,Ja=X.items,Oa;if(Ja){var tb=0;for(Oa=Ja.length;tb<Oa;++tb){var Lb=na?"mark":"group";Ja[tb][Lb]=X;Ja[tb].zindex&&(Ja[tb][Lb].zdirty=!0);"group"===(na||Lb)&&me(Ja[tb])}}na&&ld(X);return X}function Ha(X){arguments.length?this.root=Pd(X):(this.root=Ya({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new da(this.root)])}function Ya(X,na){na={bounds:new ja,clip:!!X.clip,group:na,interactive:!1===X.interactive?!1:!0,items:[],marktype:X.marktype,name:X.name||void 0,role:X.role||void 0,zindex:X.zindex||0};null!=X.aria&&(na.aria=X.aria);X.description&&(na.description=X.description);return na}function pb(X,na,Ja){!X&&"undefined"!==typeof document&&document.createElement&&(X=document);return X?Ja?X.createElementNS(Ja,na):X.createElement(na):null}function Db(X,na){na=na.toLowerCase();
X=X.childNodes;for(var Ja=0,Oa=X.length;Ja<Oa;++Ja)if(X[Ja].tagName.toLowerCase()===na)return X[Ja]}function Xb(X,na,Ja,Oa){na=X.childNodes[na];if(!na||na.tagName.toLowerCase()!==Ja.toLowerCase()){var tb=na||null;na=pb(X.ownerDocument,Ja,Oa);X.insertBefore(na,tb)}return na}function Gb(X,na){for(var Ja=X.childNodes,Oa=Ja.length;Oa>na;)X.removeChild(Ja[--Oa]);return X}function pc(X){return"mark-"+X.marktype+(X.role?" role-"+X.role:"")+(X.name?" "+X.name:"")}function ic(X,na){const Ja=na.getBoundingClientRect();
return[X.clientX-Ja.left-(na.clientLeft||0),X.clientY-Ja.top-(na.clientTop||0)]}function ib(X,na){this._active=null;this._handlers={};this._loader=X||v.loader();this._tooltip=na||xb}function xb(X,na,Ja,Oa){X.element().setAttribute("title",Oa||"")}function Nb(X){this._bgcolor=this._el=null;this._loader=new O(X)}function cc(X,na){ib.call(this,X,na);this._touch=this._down=null;this._first=!0;this._events={}}function qc(X,na){("touchstart"===na||"touchmove"===na||"touchend"===na?["touchstart","touchmove",
"touchend"]:[na]).forEach(Ja=>oc(X,Ja))}function oc(X,na){const Ja=X.canvas();Ja&&!X._events[na]&&(X._events[na]=1,Ja.addEventListener(na,X[na]?Oa=>X[na](Oa):Oa=>X.fire(na,Oa)))}function Kc(X,na,Ja){return function(Oa){const tb=this._active,Lb=this.pickEvent(Oa);Lb!==tb&&(tb&&tb.exit||this.fire(Ja,Oa),this._active=Lb,this.fire(na,Oa));this.fire(X,Oa)}}function Ib(X){return function(na){this.fire(X,na);this._active=null}}function sc(X){Nb.call(this,X);this._options={};this._redraw=!1;this._dirty=new ja;
this._tempb=new ja}function zc(X,na){ib.call(this,X,na);const Ja=this;Ja._hrefHandler=Jf(Ja,(Oa,tb)=>{tb&&tb.href&&Ja.handleHref(Oa,tb,tb.href)});Ja._tooltipHandler=Jf(Ja,(Oa,tb)=>{Ja.handleTooltip(Oa,tb,"mouseout"!==Oa.type)})}function rc(X,na){var Ja=!1===na.aria;X("aria-hidden",Ja||void 0);if(Ja||null==na.description)for(const Oa in ua)X(ua[Oa],void 0);else Ja=na.mark.marktype,X("aria-label",na.description),X("role",na.ariaRole||("group"===Ja?"graphics-object":"graphics-symbol")),X("aria-roledescription",
na.ariaRoleDescription||`${Ja} mark`)}function Jc(X){return!1===X.aria?{["aria-hidden"]:!0}:Uf[X.role]?null:ta[X.role]?Nc(X,ta[X.role]):Mc(X)}function Mc(X){const na=X.marktype,Ja="group"===na||"text"===na||X.items.some(Oa=>null!=Oa.description&&!1!==Oa.aria);return bf(Ja?"graphics-object":"graphics-symbol",`${na} mark container`,X.description)}function Nc(X,na){try{const Ja=X.items[0],Oa=na.caption||(()=>"");return bf(na.role||"graphics-symbol",na.desc,Ja.description||Oa(Ja))}catch(Ja){return null}}
function md(X){try{return l.array(l.peek(X.items).items[0].text).join(" ")}catch(na){return null}}function wd(X){X=X.map(na=>na+("fill"===na||"stroke"===na?" color":""));return 2>X.length?X[0]:X.slice(0,-1).join(", ")+" and "+l.peek(X)}function Cd(){let X="",na="",Ja="";const Oa=[],tb=(Qb,gc)=>{null!=gc&&(na+=` ${Qb}="${Ia(gc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Lb},Lb={open(Qb,...gc){na&&(X+=`${na}>${Ja}`,na=Ja="");Oa.push(Qb);
na="\x3c"+Qb;for(const uc of gc)for(const Qc in uc)tb(Qc,uc[Qc]);return Lb},close(){const Qb=Oa.pop();X=na?X+(na+(Ja?`>${Ja}</${Qb}>`:"/\x3e")):X+`</${Qb}>`;na=Ja="";return Lb},attr:tb,text:Qb=>(Ja+=Ia(Qb),Lb),toString:()=>X};return Lb}function Gd(X,na){X.open(na.tagName);if(na.hasAttributes()){var Ja=na.attributes,Oa=Ja.length;for(var tb=0;tb<Oa;++tb)X.attr(Ja[tb].name,Ja[tb].value)}if(na.hasChildNodes())for(na=na.childNodes,Ja=na.length,Oa=0;Oa<Ja;Oa++)tb=na[Oa],3===tb.nodeType?X.text(tb.nodeValue):
Gd(X,tb);return X.close()}function Sd(X){Nb.call(this,X);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function fe(X,na){for(;X&&X.dirty!==na;X=X.mark.group)if(X.dirty=na,X.mark&&X.mark.dirty!==na)X.mark.dirty=na;else break}function ne(X,na,Ja){na=na.lastChild.previousSibling;let Oa,tb=0;ca(Ja,Lb=>{Oa=X.mark(na,Lb,Oa);++tb});Gb(na,1+tb)}function ze(X,na,Ja,Oa,tb){let Lb=X._svg;if(!Lb){var Qb=na.ownerDocument;Lb=pb(Qb,Oa,nb);X._svg=Lb;X.mark&&(Lb.__data__=X,Lb.__values__={fill:"default"},
"g"===Oa&&(Oa=pb(Qb,"path",nb),Lb.appendChild(Oa),Oa.__data__=X,Oa=pb(Qb,"g",nb),Lb.appendChild(Oa),Oa.__data__=X,Qb=pb(Qb,"path",nb),Lb.appendChild(Qb),Qb.__data__=X,Qb.__values__={fill:"default"}))}(Lb.ownerSVGElement!==tb||Lb.parentNode&&1<Lb.parentNode.childNodes.length&&Lb.previousSibling!=Ja)&&na.insertBefore(Lb,Ja?Ja.nextSibling:na.firstChild);return Lb}function Ae(X,na,Ja){if(na!==Bb[X]){if(Ja){var Oa=wb;null!=na?Oa.setAttributeNS(Ja,X,na):Oa.removeAttributeNS(Ja,X)}else Zd(wb,X,na);Bb[X]=
na}}function De(X,na,Ja){Ja!==Bb[na]&&(null==Ja?X.style.removeProperty(na):X.style.setProperty(na,Ja+""),Bb[na]=Ja)}function Fd(X,na){for(const Ja in na)Zd(X,Ja,na[Ja])}function Zd(X,na,Ja){null!=Ja?X.setAttribute(na,Ja):X.removeAttribute(na)}function Ke(){let X;return"undefined"===typeof window?"":(X=window.location).hash?X.href.slice(0,-X.hash.length):X.href}function Be(X){Nb.call(this,X);this._text=null;this._defs={gradient:{},clipping:{}}}function tf(X,na,Ja,Oa,tb){if(null==na)return X;"bgrect"===
Oa&&!1===Ja.interactive&&(X["pointer-events"]="none");if("bgfore"===Oa&&(!1===Ja.interactive&&(X["pointer-events"]="none"),X.display="none",null!==na.fill))return X;"image"===Oa&&!1===na.smooth&&(X.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Oa&&(X["font-family"]=hd(na),X["font-size"]=Oc(na)+"px",X["font-style"]=na.fontStyle,X["font-variant"]=na.fontVariant,X["font-weight"]=na.fontWeight);for(const Lb in Za)Ja=na[Lb],Oa=Za[Lb],("transparent"!==Ja||"fill"!==Oa&&"stroke"!==
Oa)&&null!=Ja&&(Ja&&Ja.gradient&&(Ja=t(Ja,tb.gradient,"")),X[Oa]=Ja);return X}function Td(X,na,Ja,Oa){if(X.bounds&&na.intersects(X.bounds)&&("group"===X.marktype||!1!==X.interactive&&(!Ja||Ja(X)))){const Lb=X.items;var tb=X.marktype;X=Lb.length;let Qb=0;if("group"===tb)for(;Qb<X;++Qb)be(Lb[Qb],na,Ja,Oa);else for(Ja=oe[tb].isect;Qb<X;++Qb)tb=Lb[Qb],Le(tb,na,Ja)&&Oa.push(tb)}return Oa}function be(X,na,Ja,Oa){Ja&&Ja(X.mark)&&Le(X,na,oe.group.isect)&&Oa.push(X);const tb=X.items,Lb=tb&&tb.length;if(Lb){const Qb=
X.x||0;X=X.y||0;na.translate(-Qb,-X);for(let gc=0;gc<Lb;++gc)Td(tb[gc],na,Ja,Oa);na.translate(Qb,X)}return Oa}function Le(X,na,Ja){const Oa=X.bounds;return na.encloses(Oa)||na.intersects(Oa)&&Ja(X,na)}function ce(X,na,Ja){return X===na?!0:"path"===Ja?yd(X,na):X instanceof Date&&na instanceof Date?+X===+na:l.isNumber(X)&&l.isNumber(na)?1E-9>=Math.abs(X-na):X&&na&&(l.isObject(X)||l.isObject(na))?Ad(X,na):X==na}function yd(X,na){return ce(d(X),d(na))}function Ad(X,na){var Ja=Object.keys(X),Oa=Object.keys(na),
tb;if(Ja.length!==Oa.length)return!1;Ja.sort();Oa.sort();for(tb=Ja.length-1;0<=tb;tb--)if(Ja[tb]!=Oa[tb])return!1;for(tb=Ja.length-1;0<=tb;tb--)if(Oa=Ja[tb],!ce(X[Oa],na[Oa],Oa))return!1;return typeof X===typeof na}let Yd=0;const ef={basis:{curve:w.curveBasis},"basis-closed":{curve:w.curveBasisClosed},"basis-open":{curve:w.curveBasisOpen},bundle:{curve:w.curveBundle,tension:"beta",value:.85},cardinal:{curve:w.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:w.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:w.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:w.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:w.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:w.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:w.curveLinear},"linear-closed":{curve:w.curveLinearClosed},monotone:{horizontal:w.curveMonotoneY,vertical:w.curveMonotoneX},natural:{curve:w.curveNatural},step:{curve:w.curveStep},"step-after":{curve:w.curveStepAfter},
"step-before":{curve:w.curveStepBefore}},qe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Ed=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Ie=Math.PI/180,nf=Math.PI/2,xc=2*Math.PI,Fe=Math.sqrt(3)/2;var ge={},Zb={},Je=[].join;const he=["l",0,0,0,0,0,0,0],Pe={circle:{draw:function(X,na){na=Math.sqrt(na)/2;X.moveTo(na,0);X.arc(0,0,na,0,xc)}},cross:{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=na/2.5;X.moveTo(-na,-Ja);X.lineTo(-na,Ja);X.lineTo(-Ja,Ja);X.lineTo(-Ja,na);X.lineTo(Ja,
na);X.lineTo(Ja,Ja);X.lineTo(na,Ja);X.lineTo(na,-Ja);X.lineTo(Ja,-Ja);X.lineTo(Ja,-na);X.lineTo(-Ja,-na);X.lineTo(-Ja,-Ja);X.closePath()}},diamond:{draw:function(X,na){na=Math.sqrt(na)/2;X.moveTo(-na,0);X.lineTo(0,-na);X.lineTo(na,0);X.lineTo(0,na);X.closePath()}},square:{draw:function(X,na){na=Math.sqrt(na);var Ja=-na/2;X.rect(Ja,Ja,na,na)}},arrow:{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=na/7,Oa=na/2.5,tb=na/8;X.moveTo(-Ja,na);X.lineTo(Ja,na);X.lineTo(Ja,-tb);X.lineTo(Oa,-tb);X.lineTo(0,-na);
X.lineTo(-Oa,-tb);X.lineTo(-Ja,-tb);X.closePath()}},wedge:{draw:function(X,na){var Ja=Math.sqrt(na)/2;na=Fe*Ja;var Oa=na-.5773502691896257*Ja;Ja/=4;X.moveTo(0,-na-Oa);X.lineTo(-Ja,na-Oa);X.lineTo(Ja,na-Oa);X.closePath()}},triangle:{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=Fe*na,Oa=Ja-.5773502691896257*na;X.moveTo(0,-Ja-Oa);X.lineTo(-na,Ja-Oa);X.lineTo(na,Ja-Oa);X.closePath()}},"triangle-up":{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=Fe*na;X.moveTo(0,-Ja);X.lineTo(-na,Ja);X.lineTo(na,Ja);
X.closePath()}},"triangle-down":{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=Fe*na;X.moveTo(0,Ja);X.lineTo(-na,-Ja);X.lineTo(na,-Ja);X.closePath()}},"triangle-right":{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=Fe*na;X.moveTo(Ja,0);X.lineTo(-Ja,-na);X.lineTo(-Ja,na);X.closePath()}},"triangle-left":{draw:function(X,na){na=Math.sqrt(na)/2;var Ja=Fe*na;X.moveTo(-Ja,0);X.lineTo(Ja,-na);X.lineTo(Ja,na);X.closePath()}},stroke:{draw:function(X,na){na=Math.sqrt(na)/2;X.moveTo(-na,0);X.lineTo(na,0)}}};
var cf={};const Ze=X=>X.x||0,vf=X=>X.y||0,Te=X=>!1!==X.defined,sa=w.arc().startAngle(X=>X.startAngle||0).endAngle(X=>X.endAngle||0).padAngle(X=>X.padAngle||0).innerRadius(X=>X.innerRadius||0).outerRadius(X=>X.outerRadius||0).cornerRadius(X=>X.cornerRadius||0),Aa=w.area().x(Ze).y1(vf).y0(X=>(X.y||0)+(X.height||0)).defined(Te),Xa=w.area().y(vf).x1(Ze).x0(X=>(X.x||0)+(X.width||0)).defined(Te),fb=w.line().x(Ze).y(vf).defined(Te),mb=D().x(Ze).y(vf).width(X=>X.width||0).height(X=>X.height||0).cornerRadius(X=>
S(X.cornerRadiusTopLeft,X.cornerRadius)||0,X=>S(X.cornerRadiusTopRight,X.cornerRadius)||0,X=>S(X.cornerRadiusBottomRight,X.cornerRadius)||0,X=>S(X.cornerRadiusBottomLeft,X.cornerRadius)||0),Wb=w.symbol().type(X=>n(X.shape||"circle")).size(X=>S(X.size,64)),jc=H().x(Ze).y(vf).defined(Te).size(X=>X.size||1);var Ec=1;ja.prototype={clone(){return new ja(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(X){return this.x1===X.x1&&this.y1===X.y1&&this.x2===X.x2&&this.y2===X.y2},set(X,na,Ja,Oa){Ja<X?(this.x2=X,this.x1=Ja):(this.x1=X,this.x2=Ja);Oa<na?(this.y2=na,this.y1=Oa):(this.y1=na,this.y2=Oa);return this},add(X,na){X<this.x1&&(this.x1=X);na<this.y1&&(this.y1=na);X>this.x2&&(this.x2=X);na>this.y2&&(this.y2=na);return this},expand(X){this.x1-=X;this.y1-=X;this.x2+=X;this.y2+=X;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(X){this.x1*=X;this.y1*=X;this.x2*=X;this.y2*=X;return this},translate(X,na){this.x1+=X;this.x2+=X;this.y1+=na;this.y2+=na;return this},rotate(X,na,Ja){X=this.rotatedPoints(X,na,Ja);return this.clear().add(X[0],X[1]).add(X[2],X[3]).add(X[4],X[5]).add(X[6],X[7])},rotatedPoints(X,na,Ja){var {x1:Oa,y1:tb,x2:Lb,y2:Qb}=this,gc=Math.cos(X);X=Math.sin(X);var uc=na-na*gc+
Ja*X;na=Ja-na*X-Ja*gc;return[gc*Oa-X*tb+uc,X*Oa+gc*tb+na,gc*Oa-X*Qb+uc,X*Oa+gc*Qb+na,gc*Lb-X*tb+uc,X*Lb+gc*tb+na,gc*Lb-X*Qb+uc,X*Lb+gc*Qb+na]},union(X){X.x1<this.x1&&(this.x1=X.x1);X.y1<this.y1&&(this.y1=X.y1);X.x2>this.x2&&(this.x2=X.x2);X.y2>this.y2&&(this.y2=X.y2);return this},intersect(X){X.x1>this.x1&&(this.x1=X.x1);X.y1>this.y1&&(this.y1=X.y1);X.x2<this.x2&&(this.x2=X.x2);X.y2<this.y2&&(this.y2=X.y2);return this},encloses(X){return X&&this.x1<=X.x1&&this.x2>=X.x2&&this.y1<=X.y1&&this.y2>=X.y2},
alignsWith(X){return X&&(this.x1==X.x1||this.x2==X.x2||this.y1==X.y1||this.y2==X.y2)},intersects(X){return X&&!(this.x2<X.x1||this.x1>X.x2||this.y2<X.y1||this.y1>X.y2)},contains(X,na){return!(X<this.x1||X>this.x2||na<this.y1||na>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(da,la);O.prototype={pending(){return this._pending},sanitizeURL(X){const na=this;na._pending+=1;return na._loader.sanitize(X,{context:"href"}).then(Ja=>{--na._pending;return Ja}).catch(()=>
{--na._pending;return null})},loadImage(X){const na=this,Ja=L.image();na._pending+=1;return na._loader.sanitize(X,{context:"image"}).then(Oa=>{const tb=Oa.href;if(!tb||!Ja)throw{url:tb};const Lb=new Ja;Oa=l.hasOwnProperty(Oa,"crossOrigin")?Oa.crossOrigin:"anonymous";null!=Oa&&(Lb.crossOrigin=Oa);Lb.onload=()=>{--na._pending};Lb.onerror=()=>{--na._pending};Lb.src=tb;return Lb}).catch(Oa=>{--na._pending;return{complete:!1,width:0,height:0,src:Oa&&Oa.url||""}})},ready(){const X=this;return new Promise(na=>
{function Ja(Oa){X.pending()?setTimeout(()=>{Ja(!0)},10):na(Oa)}Ja(!1)})}};const tc=xc-1E-8;let Fc,ed,fd,ie,zd,sd,Zc,Md;const Id=(X,na)=>{X=ed=X;na=fd=na;return Fc.add(X,na)},Ue=X=>Fc.add(X,Fc.y1),zf=X=>Fc.add(Fc.x1,X),Wc=(X,na)=>Fc.add(zd*X+Zc*na,sd*X+Md*na),xe=(X,na)=>Id(zd*X+Zc*na,sd*X+Md*na),Me={beginPath(){},closePath(){},moveTo:xe,lineTo:xe,rect(X,na,Ja,Oa){ie?(Wc(X+Ja,na),Wc(X+Ja,na+Oa),Wc(X,na+Oa),xe(X,na)):(Fc.add(X+Ja,na+Oa),Id(X,na))},quadraticCurveTo(X,na,Ja,Oa){const tb=sd*X+Md*na,Lb=
zd*Ja+Zc*Oa;Ja=sd*Ja+Md*Oa;ka(ed,zd*X+Zc*na,Lb,Ue);ka(fd,tb,Ja,zf);Id(Lb,Ja)},bezierCurveTo(X,na,Ja,Oa,tb,Lb){const Qb=sd*X+Md*na,gc=sd*Ja+Md*Oa,uc=zd*tb+Zc*Lb;tb=sd*tb+Md*Lb;Z(ed,zd*X+Zc*na,zd*Ja+Zc*Oa,uc,Ue);Z(fd,Qb,gc,tb,zf);Id(uc,tb)},arc(X,na,Ja,Oa,tb,Lb){Oa+=ie;tb+=ie;ed=Ja*Math.cos(tb)+X;fd=Ja*Math.sin(tb)+na;if(Math.abs(tb-Oa)>tc)Fc.add(X-Ja,na-Ja),Fc.add(X+Ja,na+Ja);else{const Qb=uc=>Fc.add(Ja*Math.cos(uc)+X,Ja*Math.sin(uc)+na);let gc;Qb(Oa);Qb(tb);if(tb!==Oa)if(Oa%=xc,0>Oa&&(Oa+=xc),tb%=
xc,0>tb&&(tb+=xc),tb<Oa&&(Lb=!Lb,gc=Oa,Oa=tb,tb=gc),Lb)for(tb-=xc,gc=Oa-Oa%nf,Oa=0;4>Oa&&gc>tb;++Oa,gc-=nf)Qb(gc);else for(gc=Oa-Oa%nf+nf,Oa=0;4>Oa&&gc<tb;++Oa,gc+=nf)Qb(gc)}}};var Ee=(Ee=L.canvas(1,1))?Ee.getContext("2d"):null;const Ef=new ja;var yf=[],re=ab("arc",function(X,na){return sa.context(X)(na)}),Qe=Ba("area",function(X,na){const Ja=na[0];return("horizontal"===Ja.orient?Xa:Aa).curve(f(Ja.interpolate||"linear",Ja.orient,Ja.tension)).context(X)(na)},function(X,na){na="horizontal"===X[0].orient?
na[1]:na[0];for(var Ja="horizontal"===X[0].orient?"y":"x",Oa=X.length,tb=Infinity,Lb,Qb;0<=--Oa;)!1!==X[Oa].defined&&(Qb=Math.abs(X[Oa][Ja]-na),Qb<tb&&(tb=Qb,Lb=X[Oa]));return Lb});const va=Ma(ub),Ka=Ma(ub,!1),sb=Ma(ub,!0);var Pb={type:"group",tag:"g",nested:!1,attr:function(X,na){X("transform",db(na.x||0,na.y||0))},bound:function(X,na){if(!na.clip&&na.items){const Ja=na.items,Oa=Ja.length;for(let tb=0;tb<Oa;++tb)X.union(Ja[tb].bounds)}(na.clip||na.width||na.height)&&!na.noBound&&X.add(0,0).add(na.width||
0,na.height||0);B(X,na);return X.translate(na.x||0,na.y||0)},draw:function(X,na,Ja){ca(na,Oa=>{const tb=Oa.x||0,Lb=Oa.y||0,Qb=Oa.strokeForeground,gc=null==Oa.opacity?1:Oa.opacity;(Oa.stroke||Oa.fill)&&gc&&(ub(X,Oa,tb,Lb),Na(X,Oa),Oa.fill&&T(X,Oa,gc)&&X.fill(),Oa.stroke&&!Qb&&W(X,Oa,gc)&&X.stroke());X.save();X.translate(tb,Lb);Oa.clip&&Sa(X,Oa);Ja&&Ja.translate(-tb,-Lb);ca(Oa,uc=>{this.draw(X,uc,Ja)});Ja&&Ja.translate(tb,Lb);X.restore();Qb&&Oa.stroke&&gc&&(ub(X,Oa,tb,Lb),Na(X,Oa),W(X,Oa,gc)&&X.stroke())})},
pick:function(X,na,Ja,Oa,tb,Lb){if(na.bounds&&!na.bounds.contains(tb,Lb)||!na.items)return null;const Qb=Ja*X.pixelRatio,gc=Oa*X.pixelRatio;return ea(na,uc=>{let Qc,Lc;var td=uc.bounds;if(!td||td.contains(tb,Lb)){Qc=uc.x||0;Lc=uc.y||0;td=Qc+(uc.width||0);var Ld=Lc+(uc.height||0),Yc=uc.clip;if(!Yc||!(tb<Qc||tb>td||Lb<Lc||Lb>Ld)){X.save();X.translate(Qc,Lc);Qc=tb-Qc;Lc=Lb-Lc;if(Yc&&U(uc)&&!sb(X,uc,Qb,gc))return X.restore(),null;Ld=uc.strokeForeground;if((Yc=!1!==na.interactive)&&Ld&&uc.stroke&&Ka(X,
uc,Qb,gc))return X.restore(),uc;td=ea(uc,nd=>(!1!==nd.interactive||"group"===nd.marktype)&&nd.bounds&&nd.bounds.contains(Qc,Lc)?this.pick(nd,Ja,Oa,Qc,Lc):null);!td&&Yc&&(uc.fill||!Ld&&uc.stroke)&&va(X,uc,Qb,gc)&&(td=uc);X.restore();return td||null}}})},isect:Wa,content:function(X,na,Ja){na=na.clip?fa(Ja,na,na):null;X("clip-path",na)},background:function(X,na){X("class","background");X("aria-hidden",!0);{const Ja=lb(na);X("d",ia(null,na,Ja,Ja))}},foreground:function(X,na){X("class","foreground");X("aria-hidden",
!0);if(na.strokeForeground){{const Ja=lb(na);X("d",ia(null,na,Ja,Ja))}}else X("d","")}},Mb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Yb={type:"image",tag:"image",nested:!1,attr:function(X,na,Ja){var Oa=Jb(na,Ja);Ja=bc(na,Oa);const tb=wc(na,Oa),Lb=(na.x||0)-$c(na.align,Ja),Qb=(na.y||0)-kc(na.baseline,tb);Oa=!Oa.src&&Oa.toDataURL?Oa.toDataURL():Oa.src||"";X("href",Oa,Mb["xmlns:xlink"],"xlink:href");X("transform",db(Lb,Qb));X("width",Ja);X("height",
tb);X("preserveAspectRatio",!1===na.aspect?"none":"xMidYMid")},bound:function(X,na){var Ja=na.image;const Oa=bc(na,Ja);Ja=wc(na,Ja);const tb=(na.x||0)-$c(na.align,Oa);na=(na.y||0)-kc(na.baseline,Ja);return X.set(tb,na,tb+Oa,na+Ja)},draw:function(X,na,Ja){ca(na,Oa=>{if(!Ja||Ja.intersects(Oa.bounds)){var tb=Jb(Oa,this),Lb=bc(Oa,tb),Qb=wc(Oa,tb),gc=(Oa.x||0)-$c(Oa.align,Lb),uc=(Oa.y||0)-kc(Oa.baseline,Qb),Qc;if(!1!==Oa.aspect){var Lc=tb.width/tb.height;var td=Oa.width/Oa.height;Lc===Lc&&td===td&&Lc!==
td&&(td<Lc?(Lc=Lb/Lc,uc+=(Qb-Lc)/2,Qb=Lc):(Lc*=Qb,gc+=(Lb-Lc)/2,Lb=Lc))}if(tb.complete||tb.toDataURL)Na(X,Oa),X.globalAlpha=null!=(Qc=Oa.opacity)?Qc:1,X.imageSmoothingEnabled=!1!==Oa.smooth,X.drawImage(tb,gc,uc,Lb,Qb)}})},pick:Ra(),isect:l.truthy,get:Jb,xOffset:$c,yOffset:kc},ec=Ba("line",function(X,na){const Ja=na[0];return fb.curve(f(Ja.interpolate||"linear",Ja.orient,Ja.tension)).context(X)(na)},function(X,na){for(var Ja=Math.pow(X[0].strokeWidth||1,2),Oa=X.length,tb,Lb;0<=--Oa;)if(!1!==X[Oa].defined&&
(tb=X[Oa].x-na[0],Lb=X[Oa].y-na[1],tb=tb*tb+Lb*Lb,tb<Ja))return X[Oa];return null}),Tc={type:"path",tag:"path",nested:!1,attr:function(X,na){var Ja=na.scaleY||1;1===(na.scaleX||1)&&1===Ja||X("vector-effect","non-scaling-stroke");Ja=db(na.x||0,na.y||0)+(na.angle?" rotate("+(na.angle+")"):"")+(na.scaleX||na.scaleY?" scale("+((na.scaleX||1)+","+(na.scaleY||1)+")"):"");X("transform",Ja);X("d",na.path)},bound:function(X,na){return vc(Y(X,na.angle),na)?X.set(0,0,0,0):B(X,na,!0)},draw:oa(vc),pick:Ra(Ma(vc)),
isect:xa(vc)},Ic={type:"rect",tag:"path",nested:!1,attr:function(X,na){X("d",ia(null,na))},bound:function(X,na){var Ja,Oa;return B(X.set(Ja=na.x||0,Oa=na.y||0,Ja+na.width||0,Oa+na.height||0),na)},draw:oa(jb),pick:Ra(Ma(jb)),isect:Wa},bd={type:"rule",tag:"line",nested:!1,attr:function(X,na){X("transform",db(na.x||0,na.y||0));X("x2",null!=na.x2?na.x2-(na.x||0):0);X("y2",null!=na.y2?na.y2-(na.y||0):0)},bound:function(X,na){var Ja,Oa;return B(X.set(Ja=na.x||0,Oa=na.y||0,null!=na.x2?na.x2:Ja,null!=na.y2?
na.y2:Oa),na)},draw:function(X,na,Ja){ca(na,Oa=>{if(!Ja||Ja.intersects(Oa.bounds)){var tb=null==Oa.opacity?1:Oa.opacity;tb&&fc(X,Oa,tb)&&(Na(X,Oa),X.stroke())}})},pick:Ra(function(X,na,Ja,Oa){return X.isPointInStroke?fc(X,na,1)&&X.isPointInStroke(Ja,Oa):!1}),isect:gb},od=ab("shape",function(X,na){return(na.mark.shape||na.shape).context(X)(na)}),Nd=ab("symbol",function(X,na){return Wb.context(X)(na)},Da);const Wd=l.lruCache();var rd={height:Oc,measureWidth:Ac,estimateWidth:hc,width:hc,canvas:dc};dc(!0);
const Ge={left:"start",center:"middle",right:"end"},Hd=new ja;var se={type:"text",tag:"text",nested:!1,attr:function(X,na){var Ja=na.dx||0,Oa=(na.dy||0)+Dd(na),tb=cb(na),Lb=tb.x1;tb=tb.y1;var Qb=na.angle||0;X("text-anchor",Ge[na.align]||"start");if(Qb){if(na=db(Lb,tb)+" rotate("+(Qb+")"),Ja||Oa)na+=" "+db(Ja,Oa)}else na=db(Lb+Ja,tb+Oa);X("transform",na)},bound:yb,draw:function(X,na,Ja){ca(na,Oa=>{var tb=null==Oa.opacity?1:Oa.opacity,Lb;if(!(Ja&&!Ja.intersects(Oa.bounds)||0===tb||0>=Oa.fontSize||null==
Oa.text||0===Oa.text.length)){X.font=cd(Oa);X.textAlign=Oa.align||"left";var Qb=cb(Oa);var gc=Qb.x1;Qb=Qb.y1;Oa.angle&&(X.save(),X.translate(gc,Qb),X.rotate(Oa.angle*Ie),gc=Qb=0);gc+=Oa.dx||0;Qb+=(Oa.dy||0)+Dd(Oa);var uc=Bc(Oa);Na(X,Oa);if(l.isArray(uc)){var Qc=Sc(Oa);for(Lb=0;Lb<uc.length;++Lb){var Lc=pd(Oa,uc[Lb]);Oa.fill&&T(X,Oa,tb)&&X.fillText(Lc,gc,Qb);Oa.stroke&&W(X,Oa,tb)&&X.strokeText(Lc,gc,Qb);Qb+=Qc}}else Lc=pd(Oa,uc),Oa.fill&&T(X,Oa,tb)&&X.fillText(Lc,gc,Qb),Oa.stroke&&W(X,Oa,tb)&&X.strokeText(Lc,
gc,Qb);Oa.angle&&X.restore()}})},pick:Ra(function(X,na,Ja,Oa,tb,Lb){if(0>=na.fontSize)return!1;if(!na.angle)return!0;Ja=cb(na);X=Ja.x1;Ja=Ja.y1;Oa=yb(Hd,na,1);var Qb=-na.angle*Ie;na=Math.cos(Qb);Qb=Math.sin(Qb);return Oa.contains(na*tb-Qb*Lb+(X-na*X+Qb*Ja),Qb*tb+na*Lb+(Ja-Qb*X-na*Ja))}),isect:function(X,na){X=yb(Hd,X,2);return ra(na,X[0],X[1],X[2],X[3])||ra(na,X[0],X[1],X[4],X[5])||ra(na,X[4],X[5],X[6],X[7])||ra(na,X[2],X[3],X[6],X[7])}},$d=Ba("trail",function(X,na){return jc.context(X)(na)},function(X,
na){for(var Ja=X.length,Oa,tb;0<=--Ja;)if(!1!==X[Ja].defined&&(Oa=X[Ja].x-na[0],tb=X[Ja].y-na[1],tb=Oa*Oa+tb*tb,Oa=X[Ja].size||1,tb<Oa*Oa))return X[Ja];return null}),oe={arc:re,area:Qe,group:Pb,image:Yb,line:ec,path:Tc,rect:Ic,rule:bd,shape:od,symbol:Nd,text:se,trail:$d},uf={mark:null};const Xd="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ha.prototype={toJSON(X){return xd(this.root,X||0)},mark(X,na,Ja){na=na||this.root.items[0];X=Ya(X,na);na.items[Ja]=X;X.zindex&&(X.group.zdirty=!0);return X}};ib.prototype={initialize(X,na,Ja){this._el=X;this._obj=Ja||null;return this.origin(na)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(X){return arguments.length?(this._origin=X||[0,0],this):this._origin.slice()},scene(X){if(!arguments.length)return this._scene;this._scene=X;return this},on(){},off(){},_handlerIndex(X,
na,Ja){for(let Oa=X?X.length:0;0<=--Oa;)if(X[Oa].type===na&&(!Ja||X[Oa].handler===Ja))return Oa;return-1},handlers(X){const na=this._handlers,Ja=[];if(X)Ja.push(...na[this.eventName(X)]);else for(const Oa in na)Ja.push(...na[Oa]);return Ja},eventName(X){const na=X.indexOf(".");return 0>na?X:X.slice(0,na)},handleHref(X,na,Ja){this._loader.sanitize(Ja,{context:"href"}).then(Oa=>{const tb=new MouseEvent(X.type,X),Lb=pb(null,"a");for(const Qb in Oa)Lb.setAttribute(Qb,Oa[Qb]);Lb.dispatchEvent(tb)}).catch(()=>
{})},handleTooltip(X,na,Ja){if(na&&null!=na.tooltip){var Oa=this.canvas(),tb=this._origin,Lb=na&&na.mark,Qb;if(Lb&&(Qb=oe[Lb.marktype]).tip){Oa=ic(X,Oa);Oa[0]-=tb[0];for(Oa[1]-=tb[1];na=na.mark.group;)Oa[0]-=na.x||0,Oa[1]-=na.y||0;na=Qb.tip(Lb.items,Oa)}this._tooltip.call(this._obj,this,X,na,Ja&&na&&na.tooltip||null)}},getItemBoundingClientRect(X){var na=this.canvas();if(na){var Ja=na.getBoundingClientRect(),Oa=this._origin,tb=X.bounds;na=tb.width();var Lb=tb.height(),Qb=tb.x1+Oa[0]+Ja.left;for(Ja=
tb.y1+Oa[1]+Ja.top;X.mark&&(X=X.mark.group);)Qb+=X.x||0,Ja+=X.y||0;return{x:Qb,y:Ja,width:na,height:Lb,left:Qb,top:Ja,right:Qb+na,bottom:Ja+Lb}}}};Nb.prototype={initialize(X,na,Ja,Oa,tb){this._el=X;return this.resize(na,Ja,Oa,tb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(X){if(0===arguments.length)return this._bgcolor;this._bgcolor=X;return this},resize(X,na,Ja,Oa){this._width=X;this._height=na;this._origin=Ja||[0,0];this._scale=Oa||1;return this},dirty(){},
render(X){const na=this;na._call=function(){na._render(X)};na._call();na._call=null;return na},_render(){},renderAsync(X){const na=this.render(X);return this._ready?this._ready.then(()=>na):Promise.resolve(na)},_load(X,na){var Ja=this;X=Ja._loader[X](na);if(!Ja._ready){const Oa=Ja._call;Ja._ready=Ja._loader.ready().then(tb=>{tb&&Oa();Ja._ready=null})}return X},sanitizeURL(X){return this._load("sanitizeURL",X)},loadImage(X){return this._load("loadImage",X)}};l.inherits(cc,ib,{initialize(X,na,Ja){this._canvas=
X&&Db(X,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Oa=>qc(this,Oa));return ib.prototype.initialize.call(this,X,na,Ja)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(X){this.fire("mousewheel",X)},mousemove:Kc("mousemove","mouseover","mouseout"),
dragover:Kc("dragover","dragenter","dragleave"),mouseout:Ib("mouseout"),dragleave:Ib("dragleave"),mousedown(X){this._down=this._active;this.fire("mousedown",X)},click(X){this._down===this._active&&(this.fire("click",X),this._down=null)},touchstart(X){this._touch=this.pickEvent(X.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",X,!0)},touchmove(X){this.fire("touchmove",X,!0)},touchend(X){this.fire("touchend",X,!0);this._touch=null},fire(X,na,Ja){Ja=Ja?
this._touch:this._active;const Oa=this._handlers[X];na.vegaType=X;"click"===X&&Ja&&Ja.href?this.handleHref(na,Ja,Ja.href):("mousemove"===X||"mouseout"===X)&&this.handleTooltip(na,Ja,"mouseout"!==X);if(Oa)for(let tb=0,Lb=Oa.length;tb<Lb;++tb)Oa[tb].handler.call(this._obj,na,Ja)},on(X,na){const Ja=this.eventName(X),Oa=this._handlers;0>this._handlerIndex(Oa[Ja],X,na)&&(qc(this,X),(Oa[Ja]||(Oa[Ja]=[])).push({type:X,handler:na}));return this},off(X,na){var Ja=this.eventName(X);Ja=this._handlers[Ja];X=
this._handlerIndex(Ja,X,na);0<=X&&Ja.splice(X,1);return this},pickEvent(X){X=ic(X,this._canvas);const na=this._origin;return this.pick(this._scene,X[0],X[1],X[0]-na[0],X[1]-na[1])},pick(X,na,Ja,Oa,tb){const Lb=this.context();return oe[X.marktype].pick.call(this,Lb,X,na,Ja,Oa,tb)}});var Se="undefined"!==typeof window?window.devicePixelRatio||1:1;const He=Nb.prototype;l.inherits(sc,Nb,{initialize(X,na,Ja,Oa,tb,Lb){this._options=Lb||{};this._canvas=this._options.externalContext?null:L.canvas(1,1,this._options.type);
X&&this._canvas&&(Gb(X,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return He.initialize.call(this,X,na,Ja,Oa,tb)},resize(X,na,Ja,Oa){He.resize.call(this,X,na,Ja,Oa);if(this._canvas){{X=this._canvas;na=this._width;Ja=this._height;Oa=this._origin;var tb=this._scale,Lb=this._options.context;const gc="undefined"!==typeof HTMLElement&&X instanceof HTMLElement&&null!=X.parentNode,uc=X.getContext("2d");tb=gc?Se:tb;X.width=na*tb;X.height=Ja*tb;for(var Qb in Lb)uc[Qb]=Lb[Qb];gc&&
1!==tb&&(X.style.width=na+"px",X.style.height=Ja+"px");uc.pixelRatio=tb;uc.setTransform(tb,0,0,tb,tb*Oa[0],tb*Oa[1])}}else(Qb=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),Qb.scale(this._scale,this._scale),Qb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(X){const na=this._tempb.clear().union(X.bounds);
for(X=X.mark.group;X;)na.translate(X.x||0,X.y||0),X=X.mark.group;this._dirty.union(na)},_render(X){const na=this.context(),Ja=this._origin,Oa=this._width,tb=this._height,Lb=this._dirty;var Qb=(new ja).set(0,0,Oa,tb).translate(-Ja[0],-Ja[1]);na.save();this._redraw||Lb.empty()?Qb=(this._redraw=!1,Qb.expand(1)):(Qb=Qb.intersect(Lb),Qb.expand(1).round(),na.pixelRatio%1&&Qb.scale(na.pixelRatio).round().scale(1/na.pixelRatio),Qb.translate(-(Ja[0]%1),-(Ja[1]%1)),na.beginPath(),na.rect(Qb.x1,Qb.y1,Qb.width(),
Qb.height()),na.clip());this.clear(-Ja[0],-Ja[1],Oa,tb);this.draw(na,X,Qb);na.restore();Lb.clear();return this},draw(X,na,Ja){const Oa=oe[na.marktype];if(na.clip){var tb=na.clip;X.save();l.isFunction(tb)?(X.beginPath(),tb(X),X.clip()):Sa(X,na.group)}Oa.draw.call(this,X,na,Ja);na.clip&&X.restore()},clear(X,na,Ja,Oa){const tb=this._options,Lb=this.context();"pdf"===tb.type||tb.externalContext||Lb.clearRect(X,na,Ja,Oa);null!=this._bgcolor&&(Lb.fillStyle=this._bgcolor,Lb.fillRect(X,na,Ja,Oa))}});const Jf=
(X,na)=>Ja=>{let Oa=Ja.target.__data__;Oa=Array.isArray(Oa)?Oa[0]:Oa;Ja.vegaType=Ja.type;na.call(X._obj,Ja,Oa)};l.inherits(zc,ib,{initialize(X,na,Ja){let Oa=this._svg;Oa&&(Oa.removeEventListener("click",this._hrefHandler),Oa.removeEventListener("mousemove",this._tooltipHandler),Oa.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Oa=X&&Db(X,"svg"))Oa.addEventListener("click",this._hrefHandler),Oa.addEventListener("mousemove",this._tooltipHandler),Oa.addEventListener("mouseout",this._tooltipHandler);
return ib.prototype.initialize.call(this,X,na,Ja)},canvas(){return this._svg},on(X,na){const Ja=this.eventName(X),Oa=this._handlers;0>this._handlerIndex(Oa[Ja],X,na)&&(X={type:X,handler:na,listener:Jf(this,na)},(Oa[Ja]||(Oa[Ja]=[])).push(X),this._svg&&this._svg.addEventListener(Ja,X.listener));return this},off(X,na){const Ja=this.eventName(X),Oa=this._handlers[Ja];X=this._handlerIndex(Oa,X,na);0<=X&&(this._svg&&this._svg.removeEventListener(Ja,Oa[X].listener),Oa.splice(X,1));return this}});const bf=
(X,na,Ja)=>({["role"]:X,["aria-roledescription"]:na,["aria-label"]:Ja||void 0}),Uf=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),ta={axis:{desc:"axis",caption:function(X){var na=X.datum;const Ja=X.orient,Oa=na.title?md(X):null;var tb=X.context;na=tb.scales[na.scale].value;tb=tb.dataflow.locale();const Lb=na.type;return`${"left"===Ja||"right"===Ja?"Y":"X"}-axis`+(Oa?` titled '${Oa}'`:
"")+` for a ${u.isDiscrete(Lb)?"discrete":Lb} scale`+` with ${u.domainCaption(tb,na,X)}`}},legend:{desc:"legend",caption:function(X){var na=X.datum;const Ja=na.title?md(X):null,Oa=`${na.type||""} legend`.trim();var tb=na.scales;na=Object.keys(tb);var Lb=X.context;tb=Lb.scales[tb[na[0]]].value;Lb=Lb.dataflow.locale();return(Oa.length?Oa[0].toUpperCase()+Oa.slice(1):Oa)+(Ja?` titled '${Ja}'`:"")+` for ${wd(na)}`+` with ${u.domainCaption(Lb,tb,X)}`}},"title-text":{desc:"title",caption:X=>`Title text '${l.array(X.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:X=>`Subtitle text '${l.array(X.text).join(" ")}'`}},ua={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Ia=X=>(X+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),La=X=>Gd(Cd(),X)+"",Za={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},bb={fill:"none","stroke-miterlimit":10},nb=Mb.xmlns,zb=Nb.prototype;l.inherits(Sd,Nb,{initialize(X,na,Ja,Oa,tb){this._defs={};this._clearDefs();X&&(this._svg=Xb(X,0,"svg",nb),Fd(this._svg,Mb),this._svg.setAttribute("class","marks"),Gb(X,1),this._root=Xb(this._svg,0,"g",nb),Fd(this._root,bb),Gb(this._svg,1));this.background(this._bgcolor);return zb.initialize.call(this,X,na,Ja,Oa,tb)},background(X){arguments.length&&this._svg&&
this._svg.style.setProperty("background-color",X);return zb.background.apply(this,arguments)},resize(X,na,Ja,Oa){zb.resize.call(this,X,na,Ja,Oa);this._svg&&(Fd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const X=this._svg,na=this._bgcolor;if(!X)return null;let Ja;na&&(X.removeAttribute("style"),Ja=
Xb(X,0,"rect",nb),Fd(Ja,{width:this._width,height:this._height,fill:na}));const Oa=La(X);na&&(X.removeChild(Ja),this._svg.style.setProperty("background-color",na));return Oa},_render(X){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,X),Gb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(X){X.dirty!==this._dirtyID&&(X.dirty=this._dirtyID,this._dirty.push(X))},isDirty(X){return this._dirtyAll||!X._svg||X.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=
!0;const X=this._dirty;if(!X.length||!this._dirtyID)return!0;const na=++this._dirtyID;let Ja;let Oa,tb,Lb,Qb;Lb=0;for(Qb=X.length;Lb<Qb;++Lb){Ja=X[Lb];var gc=Ja.mark;gc.marktype!==Oa&&(Oa=gc.marktype,tb=oe[Oa]);gc.zdirty&&gc.dirty!==na&&(this._dirtyAll=!1,fe(Ja,na),gc.items.forEach(uc=>{uc.dirty=na}));gc.zdirty||(Ja.exit?(tb.nested&&gc.items.length?(gc=gc.items[0],gc._svg&&this._update(tb,gc._svg,gc)):Ja._svg&&(gc=Ja._svg.parentNode)&&gc.removeChild(Ja._svg),Ja._svg=null):(Ja=tb.nested?gc.items[0]:
Ja,Ja._update!==na&&(Ja._svg&&Ja._svg.ownerSVGElement?this._update(tb,Ja._svg,Ja):(this._dirtyAll=!1,fe(Ja,na)),Ja._update=na)))}return!this._dirtyAll},mark(X,na,Ja){if(!this.isDirty(na))return na._svg;const Oa=this._svg,tb=oe[na.marktype];var Lb=!1===na.interactive?"none":null;const Qb="g"===tb.tag;let gc=null,uc=0;const Qc=ze(na,X,Ja,"g",Oa);Qc.setAttribute("class",pc(na));X=Jc(na);for(const Lc in X)Zd(Qc,Lc,X[Lc]);Qb||Zd(Qc,"pointer-events",Lb);Zd(Qc,"clip-path",na.clip?fa(this,na,na.group):null);
Lb=Lc=>{const td=this.isDirty(Lc),Ld=ze(Lc,Qc,gc,tb.tag,Oa);td&&(this._update(tb,Ld,Lc),Qb&&ne(this,Ld,Lc));gc=Ld;++uc};tb.nested?na.items.length&&Lb(na.items[0]):ca(na,Lb);Gb(Qc,uc);return Qc},_update(X,na,Ja){wb=na;Bb=na.__values__;rc(Ae,Ja);X.attr(Ae,Ja,this);const Oa=Hb[X.type];Oa&&Oa.call(this,X,na,Ja);wb&&this.style(wb,Ja)},style(X,na){if(null!=na)for(const Ja in Za){let Oa="font"===Ja?hd(na):na[Ja];if(Oa===Bb[Ja])continue;const tb=Za[Ja];null==Oa?X.removeAttribute(tb):(Oa&&Oa.gradient&&(Oa=
t(Oa,this._defs.gradient,Ke())),X.setAttribute(tb,Oa+""));Bb[Ja]=Oa}},defs(){const X=this._svg,na=this._defs;let Ja=na.el;var Oa=0;for(var tb in na.gradient){Ja||(na.el=Ja=Xb(X,1,"defs",nb));{var Lb=void 0;let uc,Qc;var Qb=Ja,gc=na.gradient[tb];"radial"===gc.gradient?(Lb=Xb(Qb,Oa++,"pattern",nb),Fd(Lb,{id:"p_"+gc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Lb=Xb(Lb,0,"rect",nb),Fd(Lb,{width:1,height:1,fill:`url(${Ke()}#${gc.id})`}),Qb=Xb(Qb,Oa++,"radialGradient",
nb),Fd(Qb,{id:gc.id,fx:gc.x1,fy:gc.y1,fr:gc.r1,cx:gc.x2,cy:gc.y2,r:gc.r2})):(Qb=Xb(Qb,Oa++,"linearGradient",nb),Fd(Qb,{id:gc.id,x1:gc.x1,x2:gc.x2,y1:gc.y1,y2:gc.y2}));Qc=0;for(uc=gc.stops.length;Qc<uc;++Qc)Lb=Xb(Qb,Qc,"stop",nb),Lb.setAttribute("offset",gc.stops[Qc].offset),Lb.setAttribute("stop-color",gc.stops[Qc].color);Gb(Qb,Qc)}}for(const uc in na.clipping)Ja||(na.el=Ja=Xb(X,1,"defs",nb)),Qb=Ja,gc=na.clipping[uc],tb=Oa,Qb=Xb(Qb,tb,"clipPath",nb),Qb.setAttribute("id",gc.id),gc.path?(Oa=Xb(Qb,0,
"path",nb),Oa.setAttribute("d",gc.path)):(Oa=Xb(Qb,0,"rect",nb),Fd(Oa,{x:0,y:0,width:gc.width,height:gc.height})),Gb(Qb,1),Oa=tb+1;Ja&&(0===Oa?(X.removeChild(Ja),na.el=null):Gb(Ja,Oa))},_clearDefs(){const X=this._defs;X.gradient={};X.clipping={}}});let wb=null,Bb=null;const Hb={group(X,na,Ja){const Oa=wb=na.childNodes[2];Bb=Oa.__values__;X.foreground(Ae,Ja,this);Bb=na.__values__;wb=na.childNodes[1];X.content(Ae,Ja,this);na=wb=na.childNodes[0];X.background(Ae,Ja,this);X=!1===Ja.mark.interactive?"none":
null;X!==Bb.events&&(Zd(Oa,"pointer-events",X),Zd(na,"pointer-events",X),Bb.events=X);Ja.strokeForeground&&Ja.stroke?(X=Ja.fill,Zd(Oa,"display",null),this.style(na,Ja),Zd(na,"stroke",null),X&&(Ja.fill=null),Bb=Oa.__values__,this.style(Oa,Ja),X&&(Ja.fill=X),wb=null):Zd(Oa,"display","none")},image(X,na,Ja){!1===Ja.smooth?(De(na,"image-rendering","optimizeSpeed"),De(na,"image-rendering","pixelated")):De(na,"image-rendering",null)},text(X,na,Ja){X=Bc(Ja);let Oa,tb,Lb;l.isArray(X)?(Oa=X.map(Qb=>pd(Ja,
Qb)),X=Oa.join("\n"),X!==Bb.text&&(Gb(na,0),tb=na.ownerDocument,Lb=Sc(Ja),Oa.forEach((Qb,gc)=>{const uc=pb(tb,"tspan",nb);uc.__data__=Ja;uc.textContent=Qb;gc&&(uc.setAttribute("x",0),uc.setAttribute("dy",Lb));na.appendChild(uc)}),Bb.text=X)):(Oa=pd(Ja,X),Oa!==Bb.text&&(na.textContent=Oa,Bb.text=Oa));Zd(na,"font-family",hd(Ja));Zd(na,"font-size",Oc(Ja)+"px");Zd(na,"font-style",Ja.fontStyle);Zd(na,"font-variant",Ja.fontVariant);Zd(na,"font-weight",Ja.fontWeight)}};l.inherits(Be,Nb,{svg(){return this._text},
_render(X){const na=Cd();na.open("svg",l.extend({},Mb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const Ja=this._bgcolor;Ja&&"transparent"!==Ja&&"none"!==Ja&&na.open("rect",{width:this._width,height:this._height,fill:Ja}).close();na.open("g",bb,{transform:"translate("+this._origin+")"});this.mark(na,X);na.close();this.defs(na);this._text=na.close()+"";return this},mark(X,na){const Ja=oe[na.marktype],Oa=Ja.tag,tb=[rc,
Ja.attr];X.open("g",{"class":pc(na),"clip-path":na.clip?fa(this,na,na.group):null},Jc(na),{"pointer-events":"g"!==Oa&&!1===na.interactive?"none":null});const Lb=Qb=>{const gc=this.href(Qb);gc&&X.open("a",gc);X.open(Oa,this.attr(na,Qb,tb,"g"!==Oa?Oa:null));if("text"===Oa){var uc=Bc(Qb);if(l.isArray(uc)){var Qc={x:0,dy:Sc(Qb)};for(var Lc=0;Lc<uc.length;++Lc)X.open("tspan",Lc?Qc:null).text(pd(Qb,uc[Lc])).close()}else X.text(pd(Qb,uc))}else"g"===Oa&&(uc=Qb.strokeForeground,Qc=Qb.fill,Lc=Qb.stroke,uc&&
Lc&&(Qb.stroke=null),X.open("path",this.attr(na,Qb,Ja.background,"bgrect")).close(),X.open("g",this.attr(na,Qb,Ja.content)),ca(Qb,td=>this.mark(X,td)),X.close(),uc&&Lc?(Qc&&(Qb.fill=null),Qb.stroke=Lc,X.open("path",this.attr(na,Qb,Ja.foreground,"bgrect")).close(),Qc&&(Qb.fill=Qc)):X.open("path",this.attr(na,Qb,Ja.foreground,"bgfore")).close());X.close();gc&&X.close()};Ja.nested?na.items&&na.items.length&&Lb(na.items[0]):ca(na,Lb);return X.close()},href(X){const na=X.href;if(na){if(X=this._hrefs&&
this._hrefs[na])return X;this.sanitizeURL(na).then(Ja=>{Ja["xlink:href"]=Ja.href;Ja.href=null;(this._hrefs||(this._hrefs={}))[na]=Ja})}return null},attr(X,na,Ja,Oa){const tb={},Lb=(Qb,gc,uc,Qc)=>{tb[Qc||Qb]=gc};Array.isArray(Ja)?Ja.forEach(Qb=>Qb(Lb,na,this)):Ja(Lb,na,this);Oa&&tf(tb,na,X,Oa,this._defs);return tb},defs(X){var na=this._defs.gradient;const Ja=this._defs.clipping;if(0!==Object.keys(na).length+Object.keys(Ja).length){X.open("defs");for(const tb in na){var Oa=na[tb];const Lb=Oa.stops;
"radial"===Oa.gradient?(X.open("pattern",{id:"p_"+tb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),X.open("rect",{width:"1",height:"1",fill:"url(#"+tb+")"}).close(),X.close(),X.open("radialGradient",{id:tb,fx:Oa.x1,fy:Oa.y1,fr:Oa.r1,cx:Oa.x2,cy:Oa.y2,r:Oa.r2})):X.open("linearGradient",{id:tb,x1:Oa.x1,x2:Oa.x2,y1:Oa.y1,y2:Oa.y2});for(Oa=0;Oa<Lb.length;++Oa)X.open("stop",{offset:Lb[Oa].offset,"stop-color":Lb[Oa].color}).close();X.close()}for(const tb in Ja)na=Ja[tb],
X.open("clipPath",{id:tb}),na.path?X.open("path",{d:na.path}).close():X.open("rect",{x:0,y:0,width:na.width,height:na.height}).close(),X.close();X.close()}}});const Tb={};Tb.canvas=Tb.png={renderer:sc,headless:sc,handler:cc};Tb.svg={renderer:Sd,headless:Be,handler:zc};Tb.none={};const mc=new ja;m.Bounds=ja;m.CanvasHandler=cc;m.CanvasRenderer=sc;m.Gradient=function(X,na){var Ja=[],Oa;return Oa={gradient:"linear",x1:X?X[0]:0,y1:X?X[1]:0,x2:na?na[0]:1,y2:na?na[1]:0,stops:Ja,stop:function(tb,Lb){Ja.push({offset:tb,
color:Lb});return Oa}}};m.GroupItem=da;m.Handler=ib;m.Item=la;m.Marks=oe;m.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};m.Renderer=Nb;m.ResourceLoader=O;m.SVGHandler=zc;m.SVGRenderer=Sd;m.SVGStringRenderer=Be;m.Scenegraph=Ha;m.boundClip=function(X){const na=X.clip;if(l.isFunction(na))na(Y(mc.clear()));else if(na)mc.set(0,0,X.group.width,X.group.height);else return;X.bounds.intersect(mc)};m.boundContext=Y;m.boundItem=Sb;m.boundMark=ld;m.boundStroke=B;m.domChild=Xb;m.domClear=Gb;m.domCreate=
pb;m.domFind=Db;m.font=cd;m.fontFamily=hd;m.fontSize=Oc;m.intersect=function(X,na,Ja){const Oa=[];na=(new ja).union(na);const tb=X.marktype;return tb?Td(X,na,Ja,Oa):"group"===tb?be(X,na,Ja,Oa):l.error("Intersect scene must be mark node or group item.")};m.intersectBoxLine=ra;m.intersectPath=xa;m.intersectPoint=Da;m.intersectRule=gb;m.lineHeight=Sc;m.markup=Cd;m.multiLineOffset=function(X){const na=Bc(X);return(l.isArray(na)?na.length-1:0)*Sc(X)};m.pathCurves=f;m.pathEqual=yd;m.pathParse=d;m.pathRectangle=
D;m.pathRender=a;m.pathSymbols=n;m.pathTrail=H;m.point=ic;m.renderModule=function(X,na){X=String(X||"").toLowerCase();return 1<arguments.length?(Tb[X]=na,this):Tb[X]};m.resetSVGClipId=function(){Ec=1};m.resetSVGDefIds=function(){Ec=1;Yd=0};m.sceneEqual=ce;m.sceneFromJSON=Pd;m.scenePickVisit=ea;m.sceneToJSON=xd;m.sceneVisit=ca;m.sceneZOrder=P;m.serializeXML=La;m.textMetrics=rd;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(28),z(38),z(16)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.vega))})(this,function(m,l,w,G){function L(W){l.Transform.call(this,null,W)}function v(W,M,P){return M(W.bounds.clear(),W,P)}function u(W){l.Transform.call(this,
0,W)}function t(W){return W._signals[":vega_identifier:"]||(W._signals[":vega_identifier:"]=W.add(0))}function k(W){l.Transform.call(this,null,W)}function f(W){const M=W.groups;W=W.parent;return M&&1===M.size?M.get(Object.keys(M.object)[0]):M&&W?M.lookup(W):null}function d(W){l.Transform.call(this,null,W)}function g(W){l.Transform.call(this,null,W)}function a(W,M,P){return W[M]===P?0:(W[M]=P,1)}function e(W){W=W.items[0].orient;return"left"===W||"right"===W}function n(W,M,P,ca){M=M.items[0];var ea=
M.datum,oa=null!=M.translate?M.translate:.5,ba=M.orient,Fa=+ea.grid;var Ra=[ea.ticks?Fa++:-1,ea.labels?Fa++:-1,Fa+ +ea.domain];Fa=M.range;var Ma=M.offset,db=M.position,ab=M.minExtent,Ba=M.maxExtent;ea=ea.title&&M.items[Ra[2]].items[0];var Sa=M.titlePadding,lb=M.bounds,ub=ea&&w.multiLineOffset(ea),Jb;za.clear().union(lb);lb.clear();-1<(Jb=Ra[0])&&lb.union(M.items[Jb].bounds);-1<(Jb=Ra[1])&&lb.union(M.items[Jb].bounds);switch(ba){case "top":P=db||0;ca=-Ma;ab=Math.max(ab,Math.min(Ba,-lb.y1));lb.add(0,
-ab).add(Fa,0);ea&&y(W,ea,ab,Sa,ub,0,-1,lb);break;case "left":P=-Ma;ca=db||0;ab=Math.max(ab,Math.min(Ba,-lb.x1));lb.add(-ab,0).add(0,Fa);ea&&y(W,ea,ab,Sa,ub,1,-1,lb);break;case "right":P+=Ma;ca=db||0;ab=Math.max(ab,Math.min(Ba,lb.x2));lb.add(0,0).add(ab,Fa);ea&&y(W,ea,ab,Sa,ub,1,1,lb);break;case "bottom":P=db||0;ca+=Ma;ab=Math.max(ab,Math.min(Ba,lb.y2));lb.add(0,0).add(Fa,ab);ea&&y(W,ea,ab,Sa,0,0,1,lb);break;default:P=M.x,ca=M.y}w.boundStroke(lb.translate(P,ca),M);a(M,"x",P+oa)|a(M,"y",ca+oa)&&(M.bounds=
za,W.dirty(M),M.bounds=lb,W.dirty(M));return M.mark.bounds.clear().union(lb)}function y(W,M,P,ca,ea,oa,ba,Fa){const Ra=M.bounds;M.auto&&(P=ba*(P+ea+ca),ea=ca=0,W.dirty(M),oa?ca=(M.x||0)-(M.x=P):ea=(M.y||0)-(M.y=P),M.mark.bounds.clear().union(Ra.translate(-ca,-ea)),W.dirty(M));Fa.union(Ra)}function A(W){return(new w.Bounds).set(0,0,W.width||0,W.height||0)}function C(W){const M=W.bounds.clone();return M.empty()?M.set(0,0,0,0):M.translate(-(W.x||0),-(W.y||0))}function N(W,M,P){W=G.isObject(W)?W[M]:W;
return null!=W?W:void 0!==P?P:0}function K(W){return 0>W?Math.ceil(-W):0}function E(W,M,P){var ca=!P.nodirty,ea="flush"===P.bounds?A:C,oa=za.set(0,0,0,0),ba=N(P.align,"column"),Fa=N(P.align,"row"),Ra=N(P.padding,"column"),Ma=N(P.padding,"row"),db=P.columns||M.length,ab=0>=db?1:Math.ceil(M.length/db),Ba=M.length,Sa=Array(Ba),lb=Array(db),ub=0,Jb=Array(Ba),bc=Array(ab),wc=0,$c=Array(Ba),kc=Array(Ba),vc=Array(Ba),jb,fc,dc;for(jb=0;jb<db;++jb)lb[jb]=0;for(jb=0;jb<ab;++jb)bc[jb]=0;for(jb=0;jb<Ba;++jb){var hc=
M[jb];var Ac=vc[jb]=ea(hc);hc.x=hc.x||0;$c[jb]=0;hc.y=hc.y||0;kc[jb]=0;hc=jb%db;var ac=~~(jb/db);ub=Math.max(ub,fc=Math.ceil(Ac.x2));wc=Math.max(wc,dc=Math.ceil(Ac.y2));lb[hc]=Math.max(lb[hc],fc);bc[ac]=Math.max(bc[ac],dc);Sa[jb]=Ra+K(Ac.x1);Jb[jb]=Ma+K(Ac.y1);ca&&W.dirty(M[jb])}for(jb=0;jb<Ba;++jb)0===jb%db&&(Sa[jb]=0),jb<db&&(Jb[jb]=0);if("each"===ba)for(hc=1;hc<db;++hc){ea=0;for(jb=hc;jb<Ba;jb+=db)ea<Sa[jb]&&(ea=Sa[jb]);for(jb=hc;jb<Ba;jb+=db)Sa[jb]=ea+lb[hc-1]}else if("all"===ba){for(jb=ea=0;jb<
Ba;++jb)jb%db&&ea<Sa[jb]&&(ea=Sa[jb]);for(jb=0;jb<Ba;++jb)jb%db&&(Sa[jb]=ea+ub)}else for(ba=!1,hc=1;hc<db;++hc)for(jb=hc;jb<Ba;jb+=db)Sa[jb]+=lb[hc-1];if("each"===Fa)for(ac=1;ac<ab;++ac){ea=0;jb=ac*db;for(hc=jb+db;jb<hc;++jb)ea<Jb[jb]&&(ea=Jb[jb]);for(jb=ac*db;jb<hc;++jb)Jb[jb]=ea+bc[ac-1]}else if("all"===Fa){ea=0;for(jb=db;jb<Ba;++jb)ea<Jb[jb]&&(ea=Jb[jb]);for(jb=db;jb<Ba;++jb)Jb[jb]=ea+wc}else for(Fa=!1,ac=1;ac<ab;++ac)for(jb=ac*db,hc=jb+db;jb<hc;++jb)Jb[jb]+=bc[ac-1];for(jb=ac=0;jb<Ba;++jb)ac=
Sa[jb]+(jb%db?ac:0),$c[jb]+=ac-M[jb].x;for(hc=0;hc<db;++hc)for(Sa=0,jb=hc;jb<Ba;jb+=db)Sa+=Jb[jb],kc[jb]+=Sa-M[jb].y;if(ba&&N(P.center,"column")&&1<ab)for(jb=0;jb<Ba;++jb)Ac="all"===ba?ub:lb[jb%db],ac=Ac-vc[jb].x2-M[jb].x-$c[jb],0<ac&&($c[jb]+=ac/2);if(Fa&&N(P.center,"row")&&1!==db)for(jb=0;jb<Ba;++jb)Ac="all"===Fa?wc:bc[~~(jb/db)],Sa=Ac-vc[jb].y2-M[jb].y-kc[jb],0<Sa&&(kc[jb]+=Sa/2);for(jb=0;jb<Ba;++jb)oa.union(vc[jb].translate($c[jb],kc[jb]));ac=N(P.anchor,"x");Sa=N(P.anchor,"y");switch(N(P.anchor,
"column")){case "end":ac-=oa.width();break;case "middle":ac-=oa.width()/2}switch(N(P.anchor,"row")){case "end":Sa-=oa.height();break;case "middle":Sa-=oa.height()/2}ac=Math.round(ac);Sa=Math.round(Sa);oa.clear();for(jb=0;jb<Ba;++jb)M[jb].mark.bounds.clear();for(jb=0;jb<Ba;++jb)hc=M[jb],hc.x+=$c[jb]+=ac,hc.y+=kc[jb]+=Sa,oa.union(hc.mark.bounds.union(hc.bounds.translate($c[jb],kc[jb]))),ca&&W.dirty(hc);return oa}function x(W,M){return"x1"===M?W.x||0:"y1"===M?W.y||0:"x2"===M?(W.x||0)+(W.width||0):"y2"===
M?(W.y||0)+(W.height||0):void 0}function D(W,M){return W.bounds[M]}function H(W,M,P,ca,ea,oa,ba,Fa,Ra,Ma,db,ab,Ba,Sa){var lb=P.length,ub=ca=0,Jb,bc;if(!lb)return ca;for(Jb=db;Jb<lb;Jb+=ab)P[Jb]&&(ca=ba(ca,Ra(P[Jb],Ma)));if(!M.length)return ca;M.length>ea&&(W.warn("Grid headers exceed limit: "+ea),M=M.slice(0,ea));ca+=oa;ea=0;for(oa=M.length;ea<oa;++ea)W.dirty(M[ea]),M[ea].mark.bounds.clear();Jb=db;ea=0;for(oa=M.length;ea<oa;++ea,Jb+=ab){Ra=M[ea];db=Ra.mark.bounds;for(lb=Jb;0<=lb&&null==(bc=P[lb]);lb-=
Ba);if(Fa){lb=null==Sa?bc.x:Math.round(bc.bounds.x1+Sa*bc.bounds.width());var wc=ca}else lb=ca,wc=null==Sa?bc.y:Math.round(bc.bounds.y1+Sa*bc.bounds.height());db.union(Ra.bounds.translate(lb-(Ra.x||0),wc-(Ra.y||0)));Ra.x=lb;Ra.y=wc;W.dirty(Ra);ub=ba(ub,db[Ma])}return ub}function S(W,M,P,ca,ea,oa){if(M){W.dirty(M);var ba=P;ca?ba=Math.round(ea.x1+oa*ea.width()):P=Math.round(ea.y1+oa*ea.height());M.bounds.translate(ba-(M.x||0),P-(M.y||0));M.mark.bounds.clear().union(M.bounds);M.x=ba;M.y=P;W.dirty(M)}}
function U(W,M){const P=W[M]||{};return(ca,ea)=>null!=P[ca]?P[ca]:null!=W[ca]?W[ca]:ea}function ia(W,M){let P=-Infinity;W.forEach(ca=>{null!=ca.offset&&(P=Math.max(P,ca.offset))});return-Infinity<P?P:M}function fa(W,M,P,ca,ea,oa,ba){const Fa=U(P,M);P=ia(W,Fa("offset",0));const Ra=Fa("anchor","start"),Ma="end"===Ra?1:"middle"===Ra?.5:0;W={align:"each",bounds:Fa("bounds","flush"),columns:"vertical"===Fa("direction")?1:W.length,padding:Fa("margin",8),center:Fa("center"),nodirty:!0};switch(M){case "left":W.anchor=
{x:Math.floor(ca.x1)-P,column:"end",y:Ma*(ba||ca.height()+2*ca.y1),row:Ra};break;case "right":W.anchor={x:Math.ceil(ca.x2)+P,y:Ma*(ba||ca.height()+2*ca.y1),row:Ra};break;case "top":W.anchor={y:Math.floor(ea.y1)-P,row:"end",x:Ma*(oa||ea.width()+2*ea.x1),column:Ra};break;case "bottom":W.anchor={y:Math.ceil(ea.y2)+P,x:Ma*(oa||ea.width()+2*ea.x1),column:Ra};break;case "top-left":W.anchor={x:P,y:P};break;case "top-right":W.anchor={x:oa-P,y:P,column:"end"};break;case "bottom-left":W.anchor={x:P,y:ba-P,
row:"end"};break;case "bottom-right":W.anchor={x:oa-P,y:ba-P,column:"end",row:"end"}}return W}function ja(W,M){M=M.items[0];var P=M.datum,ca=M.orient,ea=M.bounds,oa=M.x,ba=M.y;M._bounds?M._bounds.clear().union(ea):M._bounds=ea.clone();ea.clear();var Fa=M.items[0].items[0];var Ra=M.padding,Ma=Ra-Fa.x,db=Ra-Fa.y;if(M.datum.title){var ab=M.items[1].items[0],Ba=ab.anchor,Sa=M.titlePadding||0,lb=Ra-ab.x,ub=Ra-ab.y;switch(ab.orient){case "left":Ma+=Math.ceil(ab.bounds.width())+Sa;break;case "right":case "bottom":break;
default:db+=ab.bounds.height()+Sa}(Ma||db)&&O(W,Fa,Ma,db);switch(ab.orient){case "left":ub+=da(M,Fa,ab,Ba,1,1);break;case "right":lb+=da(M,Fa,ab,"end",0,0)+Sa;ub+=da(M,Fa,ab,Ba,1,1);break;case "bottom":lb+=da(M,Fa,ab,Ba,0,0);ub+=da(M,Fa,ab,"end",-1,0,1)+Sa;break;default:lb+=da(M,Fa,ab,Ba,0,0)}(lb||ub)&&O(W,ab,lb,ub);0>(lb=Math.round(ab.bounds.x1-Ra))&&(O(W,Fa,-lb,0),O(W,ab,-lb,0))}else(Ma||db)&&O(W,Fa,Ma,db);ea=la(M,ea);W=2*M.padding;Fa=2*M.padding;ea.empty()||(W=Math.ceil(ea.width()+W),Fa=Math.ceil(ea.height()+
Fa));"symbol"===P.type&&B(M.items[0].items[0].items[0].items);"none"!==ca&&(M.x=oa=0,M.y=ba=0);M.width=W;M.height=Fa;w.boundStroke(ea.set(oa,ba,oa+W,ba+Fa),M);M.mark.bounds.clear().union(ea);return M}function la(W,M){W.items.forEach(P=>M.union(P.bounds));M.x1=W.padding;M.y1=W.padding;return M}function da(W,M,P,ca,ea,oa,ba){const Fa=P.datum.vgrad;W=("symbol"===W.datum.type||!oa&&Fa||ba?M:M.items[0]).bounds[ea?"y2":"x2"]-W.padding;M=Fa&&oa?W:0;oa=Fa&&oa?0:W;P=0>=ea?0:w.multiLineOffset(P);return Math.round("start"===
ca?M:"end"===ca?oa-P:.5*(W-P))}function O(W,M,P,ca){M.x+=P;M.y+=ca;M.bounds.translate(P,ca);M.mark.bounds.translate(P,ca);W.dirty(M)}function B(W){const M=W.reduce((P,ca)=>{P[ca.column]=Math.max(ca.bounds.x2-ca.x,P[ca.column]||0);return P},{});W.forEach(P=>{P.width=M[P.column];P.height=P.bounds.y2-P.y})}function Y(W,M,P,ca,ea){var oa=M.items[0],ba=oa.orient,Fa=oa.anchor,Ra=oa.offset,Ma=oa.padding,db=oa.items[0].items[0],ab=oa.items[1]&&oa.items[1].items[0],Ba="left"===ba||"right"===ba?ca:P,Sa=0,lb=
P=0;"group"!==oa.frame?"left"===ba?(Sa=ea.y2,Ba=ea.y1):"right"===ba?(Sa=ea.y1,Ba=ea.y2):(Sa=ea.x1,Ba=ea.x2):"left"===ba&&(Sa=ca,Ba=0);ca="start"===Fa?Sa:"end"===Fa?Ba:(Sa+Ba)/2;if(ab&&ab.text){switch(ba){case "top":case "bottom":lb=db.bounds.height()+Ma;break;case "left":P=db.bounds.width()+Ma;break;case "right":P=-db.bounds.width()-Ma}za.clear().union(ab.bounds);za.translate(P-(ab.x||0),lb-(ab.y||0));a(ab,"x",P)|a(ab,"y",lb)&&(W.dirty(ab),ab.bounds.clear().union(za),ab.mark.bounds.clear().union(za),
W.dirty(ab));za.clear().union(ab.bounds)}else za.clear();za.union(db.bounds);switch(ba){case "top":ba=ca;ea=ea.y1-za.height()-Ra;break;case "left":ba=ea.x1-za.width()-Ra;ea=ca;break;case "right":ba=ea.x2+za.width()+Ra;ea=ca;break;case "bottom":ba=ca;ea=ea.y2+Ra;break;default:ba=oa.x,ea=oa.y}a(oa,"x",ba)|a(oa,"y",ea)&&(za.translate(ba,ea),W.dirty(oa),oa.bounds.clear().union(za),M.bounds.clear().union(za),W.dirty(oa));return oa.bounds}function ka(W){l.Transform.call(this,null,W)}function Z(W){return W&&
"legend-entry"!==W.mark.role}function wa(W,M,P){var ca=M.items,ea=Math.max(0,M.width||0),oa=Math.max(0,M.height||0),ba=(new w.Bounds).set(0,0,ea,oa),Fa=ba.clone(),Ra=ba.clone(),Ma=[],db,ab;var Ba=0;for(ab=ca.length;Ba<ab;++Ba){var Sa=ca[Ba];switch(Sa.role){case "axis":var lb=e(Sa)?Fa:Ra;lb.union(n(W,Sa,ea,oa));break;case "title":var ub=Sa;break;case "legend":Ma.push(ja(W,Sa));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Fa.union(Sa.bounds);
Ra.union(Sa.bounds);break;default:ba.union(Sa.bounds)}}if(Ma.length){const Jb={};Ma.forEach(bc=>{db=bc.orient||"right";"none"!==db&&(Jb[db]||(Jb[db]=[])).push(bc)});for(const bc in Jb)ca=Jb[bc],E(W,ca,fa(ca,bc,P.legends,Fa,Ra,ea,oa));Ma.forEach(bc=>{const wc=bc.bounds;wc.equals(bc._bounds)||(bc.bounds=bc._bounds,W.dirty(bc),bc.bounds=wc,W.dirty(bc));if(P.autosize&&"fit"===P.autosize.type)switch(bc.orient){case "left":case "right":ba.add(wc.x1,0).add(wc.x2,0);break;case "top":case "bottom":ba.add(0,
wc.y1).add(0,wc.y2)}else ba.union(wc)})}ba.union(Fa).union(Ra);ub&&ba.union(Y(W,ub,ea,oa,ba));M.clip&&ba.set(0,0,M.width||0,M.height||0);xa(W,M,ba,P)}function xa(W,M,P,ca){ca=ca.autosize||{};const ea=ca.type;if(!(1>W._autosize)&&ea){var oa=W._width,ba=W._height,Fa=Math.max(0,M.width||0),Ra=Math.max(0,Math.ceil(-P.x1));M=Math.max(0,M.height||0);var Ma=Math.max(0,Math.ceil(-P.y1)),db=Math.max(0,Math.ceil(P.x2-Fa));P=Math.max(0,Math.ceil(P.y2-M));if("padding"===ca.contains){const ab=W.padding();oa-=
ab.left+ab.right;ba-=ab.top+ab.bottom}"none"===ea?(Ma=Ra=0,Fa=oa,M=ba):"fit"===ea?(Fa=Math.max(0,oa-Ra-db),M=Math.max(0,ba-Ma-P)):"fit-x"===ea?(Fa=Math.max(0,oa-Ra-db),ba=M+Ma+P):"fit-y"===ea?(oa=Fa+Ra+db,M=Math.max(0,ba-Ma-P)):"pad"===ea&&(oa=Fa+Ra+db,ba=M+Ma+P);W._resizeView(oa,ba,Fa,M,[Ra,Ma],ca.resize)}}G.inherits(L,l.Transform,{transform(W,M){const P=M.dataflow,ca=W.mark,ea=ca.marktype,oa=w.Marks[ea],ba=oa.bound;let Fa=ca.bounds,Ra;if(oa.nested)ca.items.length&&P.dirty(ca.items[0]),Fa=v(ca,ba),
ca.items.forEach(Ma=>{Ma.bounds.clear().union(Fa)});else if("group"===ea||W.modified())switch(M.visit(M.MOD,Ma=>P.dirty(Ma)),Fa.clear(),ca.items.forEach(Ma=>Fa.union(v(Ma,ba))),ca.role){case "axis":case "legend":case "title":M.reflow()}else Ra=M.changed(M.REM),M.visit(M.ADD,Ma=>{Fa.union(v(Ma,ba))}),M.visit(M.MOD,Ma=>{Ra=Ra||Fa.alignsWith(Ma.bounds);P.dirty(Ma);Fa.union(v(Ma,ba))}),Ra&&(Fa.clear(),ca.items.forEach(Ma=>Fa.union(Ma.bounds)));w.boundClip(ca);return M.modifies("bounds")}});u.Definition=
{type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};G.inherits(u,l.Transform,{transform(W,M){const P=t(M.dataflow),ca=W.as;let ea=P.value;M.visit(M.ADD,oa=>oa[ca]=oa[ca]||++ea);P.set(this.value=ea);return M}});G.inherits(k,l.Transform,{transform(W,M){let P=this.value;P||(P=M.dataflow.scenegraph().mark(W.markdef,f(W),W.index),P.group.context=W.context,W.context.group||(W.context.group=P.group),P.source=this.source,P.clip=W.clip,P.interactive=W.interactive,this.value=
P);const ca="group"===P.marktype?w.GroupItem:w.Item;M.visit(M.ADD,ea=>ca.call(ea,P));if(W.modified("clip")||W.modified("interactive"))P.clip=W.clip,P.interactive=!!W.interactive,P.zdirty=!0,M.reflow();P.items=M.source;return M}});const Da={parity:W=>W.filter((M,P)=>P%2?M.opacity=0:1),greedy:(W,M)=>{let P;return W.filter((ca,ea)=>ea&&Wa(P.bounds,ca.bounds,M)?ca.opacity=0:(P=ca,1))}},Wa=(W,M,P)=>P>Math.max(M.x1-W.x2,W.x1-M.x2,M.y1-W.y2,W.y1-M.y2),gb=(W,M)=>{for(var P=1,ca=W.length,ea=W[0].bounds;P<
ca;++P)if(Wa(ea,ea=W[P].bounds,M))return!0},ra=W=>{W=W.bounds;return 1<W.width()&&1<W.height()},Na=(W,M,P)=>{W=W.range();var ca=new w.Bounds;"top"===M||"bottom"===M?ca.set(W[0],-Infinity,W[1],Infinity):ca.set(-Infinity,W[0],Infinity,W[1]);ca.expand(P||1);return ea=>ca.encloses(ea.bounds)},Ta=W=>{W.forEach(M=>M.opacity=1);return W};G.inherits(d,l.Transform,{transform(W,M){const P=Da[W.method]||Da.parity,ca=W.separation||0;let ea=M.materialize(M.SOURCE).source,oa,ba;if(ea&&ea.length){if(!W.method)return W.modified("method")&&
(Ta(ea),M=M.reflow(W.modified()).modifies("opacity")),M;ea=ea.filter(ra);if(ea.length){W.sort&&(ea=ea.slice().sort(W.sort));oa=Ta(ea);M=M.reflow(W.modified()).modifies("opacity");if(3<=oa.length&&gb(oa,ca)){do oa=P(oa,ca);while(3<=oa.length&&gb(oa,ca));3>oa.length&&!G.peek(ea).opacity&&(1<oa.length&&(G.peek(oa).opacity=0),G.peek(ea).opacity=1)}W.boundScale&&0<=W.boundTolerance&&(ba=Na(W.boundScale,W.boundOrient,+W.boundTolerance),ea.forEach(Ra=>{ba(Ra)||(Ra.opacity=0)}));var Fa=oa[0].mark.bounds.clear();
ea.forEach(Ra=>{Ra.opacity&&Fa.union(Ra.bounds)});return M}}}});G.inherits(g,l.Transform,{transform(W,M){const P=M.dataflow;M.visit(M.ALL,ca=>P.dirty(ca));M.fields&&M.fields.zindex&&(W=M.source&&M.source[0])&&(W.mark.zdirty=!0)}});const za=new w.Bounds,pa=(W,M)=>Math.floor(Math.min(W,M)),T=(W,M)=>Math.ceil(Math.max(W,M));G.inherits(ka,l.Transform,{transform(W,M){const P=M.dataflow;W.mark.items.forEach(ca=>{if(W.layout){var ea=W.layout;var oa=ca.items;for(var ba=oa.length,Fa=0,Ra,Ma,db={marks:[],rowheaders:[],
rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Fa<ba;++Fa)if(Ra=oa[Fa],Ma=Ra.items,"group"===Ra.marktype)switch(Ra.role){case "axis":case "legend":case "title":break;case "row-header":db.rowheaders.push(...Ma);break;case "row-footer":db.rowfooters.push(...Ma);break;case "column-header":db.colheaders.push(...Ma);break;case "column-footer":db.colfooters.push(...Ma);break;case "row-title":db.rowtitle=Ma[0];break;case "column-title":db.coltitle=Ma[0];break;default:db.marks.push(...Ma)}oa=
db;Ma=oa.marks;db="flush"===ea.bounds?x:D;ba=ea.offset;var ab=ea.columns||Ma.length,Ba=0>=ab?1:Math.ceil(Ma.length/ab),Sa=Ba*ab;Fa=E(P,Ma,ea);Fa.empty()&&Fa.set(0,0,0,0);if(oa.rowheaders){Ra=N(ea.headerBand,"row",null);var lb=H(P,oa.rowheaders,Ma,ab,Ba,-N(ba,"rowHeader"),pa,0,db,"x1",0,ab,1,Ra)}if(oa.colheaders){Ra=N(ea.headerBand,"column",null);var ub=H(P,oa.colheaders,Ma,ab,ab,-N(ba,"columnHeader"),pa,1,db,"y1",0,1,ab,Ra)}if(oa.rowfooters){Ra=N(ea.footerBand,"row",null);var Jb=H(P,oa.rowfooters,
Ma,ab,Ba,N(ba,"rowFooter"),T,0,db,"x2",ab-1,ab,1,Ra)}if(oa.colfooters){Ra=N(ea.footerBand,"column",null);var bc=H(P,oa.colfooters,Ma,ab,ab,N(ba,"columnFooter"),T,1,db,"y2",Sa-ab,1,ab,Ra)}oa.rowtitle&&(Ra=N(ea.titleAnchor,"row"),Ma=N(ba,"rowTitle"),Ma="end"===Ra?Jb+Ma:lb-Ma,Ra=N(ea.titleBand,"row",.5),S(P,oa.rowtitle,Ma,0,Fa,Ra));oa.coltitle&&(Ra=N(ea.titleAnchor,"column"),Ma=N(ba,"columnTitle"),Ma="end"===Ra?bc+Ma:ub-Ma,Ra=N(ea.titleBand,"column",.5),S(P,oa.coltitle,Ma,1,Fa,Ra))}wa(P,ca,W)});return Z(W.mark.group)?
M.reflow():M}});m.bound=L;m.identifier=u;m.mark=k;m.overlap=d;m.render=g;m.viewlayout=ka;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(28),z(37),z(16),z(17),z(35)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.d3,m.d3))})(this,function(m,l,w,G,L,v){function u(Z){l.Transform.call(this,null,Z)}function t(Z){l.Transform.call(this,null,Z)}function k(){return l.ingest({})}
function f(Z){const wa=G.fastmap().test(xa=>xa.exit);wa.lookup=xa=>wa.get(Z(xa));return wa}function d(Z){l.Transform.call(this,null,Z)}function g(Z){l.Transform.call(this,[],Z)}function a(Z){l.Transform.call(this,{},Z)}function e(Z){l.Transform.call(this,null,Z)}function n(Z){return w.isContinuous(Z)&&Z!==w.Sequential}function y(Z){l.Transform.call(this,null,Z);this.modified(!0)}function A(Z,wa,xa){w.isLogarithmic(Z)&&Math.abs(wa.reduce((Da,Wa)=>Da+(0>Wa?-1:0<Wa?1:0),0))!==wa.length&&xa.warn("Log scale domain includes zero: "+
G.stringValue(wa));return wa}function C(Z,wa,xa){return G.isFunction(Z)&&(wa||xa)?w.interpolateRange(Z,N(wa||[0,1],xa)):Z}function N(Z,wa){return wa?Z.slice().reverse():Z}function K(Z){l.Transform.call(this,null,Z)}function E(Z){l.Transform.call(this,null,Z)}function x(Z,wa,xa,Da,Wa){wa=(wa-Z.sum)/2;for(var gb=Z.length,ra=0,Na;ra<gb;++ra)Na=Z[ra],Na[Da]=wa,Na[Wa]=wa+=Math.abs(xa(Na))}function D(Z,wa,xa,Da,Wa){wa=1/Z.sum;for(var gb=0,ra=Z.length,Na=0,Ta=0,za;Na<ra;++Na)za=Z[Na],za[Da]=gb,za[Wa]=gb=
wa*(Ta+=Math.abs(xa(za)))}function H(Z,wa,xa,Da,Wa){for(var gb=wa=0,ra=Z.length,Na=0,Ta,za;Na<ra;++Na)za=Z[Na],Ta=+xa(za),0>Ta?(za[Da]=gb,za[Wa]=gb+=Ta):(za[Da]=wa,za[Wa]=wa+=Ta)}function S(Z,wa,xa,Da){var Wa=[],gb=W=>W(za),ra;if(null==wa)Wa.push(Z.slice());else{var Na={};var Ta=0;for(ra=Z.length;Ta<ra;++Ta){var za=Z[Ta];var pa=wa.map(gb);var T=Na[pa];T||(Na[pa]=T=[],Wa.push(T));T.push(za)}}gb=pa=0;for(Z=Wa.length;pa<Z;++pa){T=Wa[pa];wa=Ta=0;for(ra=T.length;Ta<ra;++Ta)wa+=Math.abs(Da(T[Ta]));T.sum=
wa;wa>gb&&(gb=wa);xa&&T.sort(xa)}Wa.max=gb;return Wa}G.inherits(u,l.Transform,{transform(Z,wa){if(this.value&&!Z.modified())return wa.StopPropagation;var xa=wa.dataflow.locale();wa=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS);var Da=this.value,Wa=Z.scale,gb=w.tickCount(Wa,null==Z.count?Z.values?Z.values.length:10:Z.count,Z.minstep),ra=Z.format||w.tickFormat(xa,Wa,gb,Z.formatSpecifier,Z.formatType,!!Z.values),Na=Z.values?w.validTicks(Wa,Z.values,gb):w.tickValues(Wa,gb);Da&&(wa.rem=Da);Da=Na.map((Ta,za)=>l.ingest({index:za/
(Na.length-1||1),value:Ta,label:ra(Ta)}));Z.extra&&Da.length&&Da.push(l.ingest({index:-1,extra:{value:Da[0].value},label:""}));wa.source=Da;this.value=wa.add=Da;return wa}});G.inherits(t,l.Transform,{transform(Z,wa){var xa=wa.dataflow,Da=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS),Wa=Z.item||k,gb=Z.key||l.tupleid,ra=this.value;G.isArray(Da.encode)&&(Da.encode=null);ra&&(Z.modified("key")||wa.modified(gb))&&G.error("DataJoin does not support modified key function or fields.");ra||(wa=wa.addAll(),this.value=
ra=f(gb));wa.visit(wa.ADD,Na=>{const Ta=gb(Na);let za=ra.get(Ta);za?za.exit?(ra.empty--,Da.add.push(za)):Da.mod.push(za):(za=Wa(Na),ra.set(Ta,za),Da.add.push(za));za.datum=Na;za.exit=!1});wa.visit(wa.MOD,Na=>{var Ta=gb(Na);if(Ta=ra.get(Ta))Ta.datum=Na,Da.mod.push(Ta)});wa.visit(wa.REM,Na=>{var Ta=gb(Na);Ta=ra.get(Ta);Na!==Ta.datum||Ta.exit||(Da.rem.push(Ta),Ta.exit=!0,++ra.empty)});wa.changed(wa.ADD_MOD)&&Da.modifies("datum");(wa.clean()||Z.clean&&ra.empty>xa.cleanThreshold)&&xa.runAfter(ra.clean);
return Da}});G.inherits(d,l.Transform,{transform(Z,wa){var xa=wa.fork(wa.ADD_REM),Da=Z.mod||!1,Wa=Z.encoders,gb=wa.encode;if(G.isArray(gb))if(xa.changed()||gb.every(T=>Wa[T]))gb=gb[0],xa.encode=null;else return wa.StopPropagation;var ra="enter"===gb,Na=Wa.update||G.falsy,Ta=Wa.enter||G.falsy,za=Wa.exit||G.falsy,pa=(gb&&!ra?Wa[gb]:Na)||G.falsy;wa.changed(wa.ADD)&&(wa.visit(wa.ADD,T=>{Ta(T,Z);Na(T,Z)}),xa.modifies(Ta.output),xa.modifies(Na.output),pa!==G.falsy&&pa!==Na&&(wa.visit(wa.ADD,T=>{pa(T,Z)}),
xa.modifies(pa.output)));wa.changed(wa.REM)&&za!==G.falsy&&(wa.visit(wa.REM,T=>{za(T,Z)}),xa.modifies(za.output));if(ra||pa!==G.falsy)gb=wa.MOD|(Z.modified()?wa.REFLOW:0),ra?(wa.visit(gb,T=>{const W=Ta(T,Z)||Da;(pa(T,Z)||W)&&xa.mod.push(T)}),xa.mod.length&&xa.modifies(Ta.output)):wa.visit(gb,T=>{(pa(T,Z)||Da)&&xa.mod.push(T)}),xa.mod.length&&xa.modifies(pa.output);return xa.changed()?xa:wa.StopPropagation}});G.inherits(g,l.Transform,{transform(Z,wa){if(null!=this.value&&!Z.modified())return wa.StopPropagation;
var xa=wa.dataflow.locale(),Da=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS),Wa=this.value,gb=Z.type||w.SymbolLegend,ra=Z.scale,Na=+Z.limit,Ta=w.tickCount(ra,null==Z.count?5:Z.count,Z.minstep),za=!!Z.values||gb===w.SymbolLegend,pa=Z.format||w.labelFormat(xa,ra,Ta,gb,Z.formatSpecifier,Z.formatType,za),T=Z.values||w.labelValues(ra,Ta),W;Wa&&(Da.rem=Wa);if(gb===w.SymbolLegend){if(Na&&T.length>Na){wa.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Wa=T.slice(0,Na-1);var M=!0}else Wa=T;if(G.isFunction(W=
Z.size)){Z.values||0!==ra(Wa[0])||(Wa=Wa.slice(1));var P=Wa.reduce((ea,oa)=>Math.max(ea,W(oa,Z)),0)}else W=G.constant(P=W||8);Wa=Wa.map((ea,oa)=>l.ingest({index:oa,label:pa(ea,oa,Wa),value:ea,offset:P,size:W(ea,Z)}));M&&(M=T[Wa.length],Wa.push(l.ingest({index:Wa.length,label:`\u2026${T.length-Wa.length} entries`,value:M,offset:P,size:W(M,Z)})))}else if(gb===w.GradientLegend){wa=ra.domain();var ca=w.scaleFraction(ra,wa[0],G.peek(wa));3>T.length&&!Z.values&&wa[0]!==G.peek(wa)&&(T=[wa[0],G.peek(wa)]);
Wa=T.map((ea,oa)=>l.ingest({index:oa,label:pa(ea,oa,T),value:ea,perc:ca(ea)}))}else W=T.length-1,ca=w.labelFraction(ra),Wa=T.map((ea,oa)=>l.ingest({index:oa,label:pa(ea,oa,T),value:ea,perc:oa?ca(ea):0,perc2:oa===W?1:ca(T[oa+1])}));Da.source=Wa;this.value=Da.add=Wa;return Da}});const U=Z=>Z.source.x,ia=Z=>Z.source.y,fa=Z=>Z.target.x,ja=Z=>Z.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},
{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};G.inherits(a,l.Transform,{transform(Z,wa){var xa=Z.sourceX||U,Da=Z.sourceY||ia,Wa=Z.targetX||fa,gb=Z.targetY||ja,ra=Z.as||"path",Na=Z.shape||
"line",Ta=B.get(Na+"-"+(Z.orient||"vertical"))||B.get(Na);Ta||G.error("LinkPath unsupported type: "+Z.shape+(Z.orient?"-"+Z.orient:""));wa.visit(wa.SOURCE,za=>{za[ra]=Ta(xa(za),Da(za),Wa(za),gb(za))});return wa.reflow(Z.modified()).modifies(ra)}});const la=(Z,wa,xa,Da)=>"M"+Z+","+wa+"L"+xa+","+Da,da=(Z,wa,xa,Da)=>{var Wa=xa-Z,gb=Da-wa,ra=Math.sqrt(Wa*Wa+gb*gb)/2;return"M"+Z+","+wa+"A"+ra+","+ra+" "+180*Math.atan2(gb,Wa)/Math.PI+" 0 1 "+xa+","+Da},O=(Z,wa,xa,Da)=>{var Wa=xa-Z;const gb=Da-wa,ra=.2*
(Wa+gb);Wa=.2*(gb-Wa);return"M"+Z+","+wa+"C"+(Z+ra)+","+(wa+Wa)+" "+(xa+Wa)+","+(Da-ra)+" "+xa+","+Da},B=G.fastmap({line:la,"line-radial":(Z,wa,xa,Da)=>la(wa*Math.cos(Z),wa*Math.sin(Z),Da*Math.cos(xa),Da*Math.sin(xa)),arc:da,"arc-radial":(Z,wa,xa,Da)=>da(wa*Math.cos(Z),wa*Math.sin(Z),Da*Math.cos(xa),Da*Math.sin(xa)),curve:O,"curve-radial":(Z,wa,xa,Da)=>O(wa*Math.cos(Z),wa*Math.sin(Z),Da*Math.cos(xa),Da*Math.sin(xa)),"orthogonal-horizontal":(Z,wa,xa,Da)=>"M"+Z+","+wa+"V"+Da+"H"+xa,"orthogonal-vertical":(Z,
wa,xa,Da)=>"M"+Z+","+wa+"H"+xa+"V"+Da,"orthogonal-radial":(Z,wa,xa,Da)=>{const Wa=Math.cos(xa),gb=Math.sin(xa);return"M"+wa*Math.cos(Z)+","+wa*Math.sin(Z)+"A"+wa+","+wa+" 0 0,"+((Math.abs(xa-Z)>Math.PI?xa<=Z:xa>Z)?1:0)+" "+wa*Wa+","+wa*gb+"L"+Da*Wa+","+Da*gb},"diagonal-horizontal":(Z,wa,xa,Da)=>{const Wa=(Z+xa)/2;return"M"+Z+","+wa+"C"+Wa+","+wa+" "+Wa+","+Da+" "+xa+","+Da},"diagonal-vertical":(Z,wa,xa,Da)=>{const Wa=(wa+Da)/2;return"M"+Z+","+wa+"C"+Z+","+Wa+" "+xa+","+Wa+" "+xa+","+Da},"diagonal-radial":(Z,
wa,xa,Da)=>{const Wa=Math.cos(Z);Z=Math.sin(Z);const gb=Math.cos(xa);xa=Math.sin(xa);const ra=(wa+Da)/2;return"M"+wa*Wa+","+wa*Z+"C"+ra*Wa+","+ra*Z+" "+ra*gb+","+ra*xa+" "+Da*gb+","+Da*xa}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};
G.inherits(e,l.Transform,{transform(Z,wa){var xa=Z.as||["startAngle","endAngle"],Da=xa[0],Wa=xa[1],gb=Z.startAngle||0,ra=null!=Z.endAngle?Z.endAngle:2*Math.PI,Na=wa.source,Ta=Na.map(Z.field||G.one),za=Ta.length,pa=gb;gb=(ra-gb)/L.sum(Ta);ra=L.range(za);var T;Z.sort&&ra.sort((P,ca)=>Ta[P]-Ta[ca]);for(T=0;T<za;++T){var W=Ta[ra[T]];var M=Na[ra[T]];M[Da]=pa;M[Wa]=pa+=W*gb}this.value=Ta;return wa.reflow(Z.modified()).modifies(xa)}});const Y=G.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
G.inherits(y,l.Transform,{transform(Z,wa){var xa=wa.dataflow,Da=this.value;var Wa=Z.type;var gb="";if(Wa===w.Sequential)Wa=w.Sequential+"-"+w.Linear;else{var ra=Z.type;if(ra=w.isContinuous(ra)&&ra!==w.Time&&ra!==w.UTC&&(Z.scheme||Z.range&&Z.range.length&&Z.range.every(G.isString)))gb=Z.rawDomain?Z.rawDomain.length:Z.domain?Z.domain.length+ +(null!=Z.domainMid):0,gb=2===gb?w.Sequential+"-":3===gb?w.Diverging+"-":"";Wa=(gb+Wa||w.Linear).toLowerCase()}Da&&Wa===Da.type||(this.value=Da=w.scale(Wa)());
for(Wa in Z)Y[Wa]||"padding"===Wa&&n(Da.type)||(G.isFunction(Da[Wa])?Da[Wa](Z[Wa]):xa.warn("Unsupported scale property: "+Wa));gb=Wa=Da;(ra=Z.domainRaw)?(Da.domain(A(Da.type,ra,xa)),ra=ra.length):ra=-1;if(-1<ra)xa=ra;else{var Na=Z.domain;ra=Da.type;var Ta;!(Ta=Z.zero)&&(Ta=void 0===Z.zero)&&(Ta=Da.type,Ta=!Da.bins&&(Ta===w.Linear||Ta===w.Pow||Ta===w.Sqrt));if(Na){if(n(ra)&&Z.padding&&Na[0]!==G.peek(Na)){var za=Z.range,pa=Z.padding;var T=Z.exponent;var W=Z.constant;za=Math.abs(G.peek(za)-za[0]);pa=
za/(za-2*pa);T=ra===w.Log?G.zoomLog(Na,null,pa):ra===w.Sqrt?G.zoomPow(Na,null,pa,.5):ra===w.Pow?G.zoomPow(Na,null,pa,T||1):ra===w.Symlog?G.zoomSymlog(Na,null,pa,W||1):G.zoomLinear(Na,null,pa);Na=Na.slice();Na[0]=T[0];Na[Na.length-1]=T[1]}if(Ta||null!=Z.domainMin||null!=Z.domainMax||null!=Z.domainMid)T=(Na=Na.slice()).length-1||1,Ta&&(0<Na[0]&&(Na[0]=0),0>Na[T]&&(Na[T]=0)),null!=Z.domainMin&&(Na[0]=Z.domainMin),null!=Z.domainMax&&(Na[T]=Z.domainMax),null!=Z.domainMid&&(Ta=Z.domainMid,W=Ta>Na[T]?T+
1:Ta<Na[0]?0:T,W!==T&&xa.warn("Scale domainMid exceeds domain min or max.",Ta),Na.splice(W,0,Ta));Da.domain(A(ra,Na,xa));ra===w.Ordinal&&Da.unknown(Z.domainImplicit?w.scaleImplicit:void 0);Z.nice&&Da.nice&&Da.nice(!0!==Z.nice&&w.tickCount(Da,Z.nice)||null);xa=Na.length}else xa=0}(ra=Z.bins)&&!G.isArray(ra)&&(Ta=gb.domain(),Da=Ta[0],Ta=G.peek(Ta),Na=ra.step,T=null==ra.start?Da:ra.start,ra=null==ra.stop?Ta:ra.stop,Na||G.error("Scale bins parameter missing step property."),T<Da&&(T=Na*Math.ceil(Da/Na)),
ra>Ta&&(ra=Na*Math.floor(Ta/Na)),ra=L.range(T,ra+Na/2,Na));ra?gb.bins=ra:gb.bins&&delete gb.bins;gb.type===w.BinOrdinal&&(ra?Z.domain||Z.domainRaw||(gb.domain(ra),xa=ra.length):gb.bins=gb.domain());Da=xa;a:{gb=Wa.type;xa=Z.round||!1;ra=Z.range;if(null!=Z.rangeStep)gb!==w.Band&&gb!==w.Point&&G.error("Only band and point scales support rangeStep."),ra=[0,Z.rangeStep*w.bandSpace(Da,gb===w.Point?1:(null!=Z.paddingInner?Z.paddingInner:Z.padding)||0,(null!=Z.paddingOuter?Z.paddingOuter:Z.padding)||0)];
else if(Z.scheme&&(ra=Z.schemeExtent,G.isArray(Z.scheme)?Ta=w.interpolateColors(Z.scheme,Z.interpolate,Z.interpolateGamma):(Ta=Z.scheme.toLowerCase(),(Ta=w.scheme(Ta))||G.error(`Unrecognized scheme name: ${Z.scheme}`)),Da=gb===w.Threshold?Da+1:gb===w.BinOrdinal?Da-1:gb===w.Quantile||gb===w.Quantize?+Z.schemeCount||5:Da,ra=w.isInterpolating(gb)?C(Ta,ra,Z.reverse):G.isFunction(Ta)?w.quantizeInterpolator(C(Ta,ra),Da):gb===w.Ordinal?Ta:Ta.slice(0,Da),G.isFunction(ra)))if(Wa.interpolator){Wa.interpolator(ra);
break a}else G.error(`Scale type ${gb} does not support interpolating color schemes.`);ra&&w.isInterpolating(gb)?Wa.interpolator(w.interpolateColors(N(ra,Z.reverse),Z.interpolate,Z.interpolateGamma)):(ra&&Z.interpolate&&Wa.interpolate?Wa.interpolate(w.interpolate(Z.interpolate,Z.interpolateGamma)):G.isFunction(Wa.round)?Wa.round(xa):G.isFunction(Wa.rangeRound)&&Wa.interpolate(xa?v.interpolateRound:v.interpolate),ra&&Wa.range(N(ra,Z.reverse)))}return wa.fork(wa.NO_SOURCE|wa.NO_FIELDS)}});G.inherits(K,
l.Transform,{transform(Z,wa){const xa=Z.modified("sort")||wa.changed(wa.ADD)||wa.modified(Z.sort.fields)||wa.modified("datum");xa&&wa.source.sort(l.stableCompare(Z.sort));this.modified(xa);return wa}});const ka=["y0","y1"];E.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,
"default":ka}]};G.inherits(E,l.Transform,{transform(Z,wa){var xa=Z.as||ka,Da=xa[0],Wa=xa[1],gb=l.stableCompare(Z.sort),ra=Z.field||G.one,Na="center"===Z.offset?x:"normalize"===Z.offset?D:H,Ta;gb=S(wa.source,Z.groupby,gb,ra);var za=0;var pa=gb.length;for(Ta=gb.max;za<pa;++za)Na(gb[za],Ta,ra,Da,Wa);return wa.reflow(Z.modified()).modifies(xa)}});m.axisticks=u;m.datajoin=t;m.encode=d;m.legendentries=g;m.linkpath=a;m.pie=e;m.scale=y;m.sortitems=K;m.stack=E;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(17)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(m=m||self,l(m.d3=m.d3||{},m.d3))})(this,function(m,l){function w(Pa){return 1<Pa?0:-1>Pa?Td:Math.acos(Pa)}function G(Pa){return 1<Pa?be:-1>Pa?-be:Math.asin(Pa)}function L(Pa){return(Pa=Zb(Pa/2))*Pa}function v(){}function u(Pa,kb){if(Pa&&Ze.hasOwnProperty(Pa.type))Ze[Pa.type](Pa,kb)}function t(Pa,kb,vb){var Eb=-1;vb=Pa.length-
vb;for(kb.lineStart();++Eb<vb;){var Rb=Pa[Eb];kb.point(Rb[0],Rb[1],Rb[2])}kb.lineEnd()}function k(Pa,kb){var vb=-1,Eb=Pa.length;for(kb.polygonStart();++vb<Eb;)t(Pa[vb],kb,1);kb.polygonEnd()}function f(Pa,kb){if(Pa&&cf.hasOwnProperty(Pa.type))cf[Pa.type](Pa,kb);else u(Pa,kb)}function d(){Wb.point=a}function g(){e(sa,Aa)}function a(Pa,kb){Wb.point=e;sa=Pa;Aa=kb;Pa*=Ad;kb*=Ad;Xa=Pa;fb=Ed(kb=kb/2+Le);mb=Zb(kb)}function e(Pa,kb){Pa*=Ad;kb*=Ad;kb=kb/2+Le;var vb=Pa-Xa,Eb=0<=vb?1:-1,Rb=Eb*vb;vb=Ed(kb);kb=
Zb(kb);var yc=mb*kb,q=fb*vb+yc*Ed(Rb);Eb=yc*Eb*Zb(Rb);vf.add(qe(Eb,q));Xa=Pa;fb=vb;mb=kb}function n(Pa){return[qe(Pa[1],Pa[0]),G(Pa[2])]}function y(Pa){var kb=Pa[0];Pa=Pa[1];var vb=Ed(Pa);return[vb*Ed(kb),vb*Zb(kb),Zb(Pa)]}function A(Pa,kb){return Pa[0]*kb[0]+Pa[1]*kb[1]+Pa[2]*kb[2]}function C(Pa,kb){return[Pa[1]*kb[2]-Pa[2]*kb[1],Pa[2]*kb[0]-Pa[0]*kb[2],Pa[0]*kb[1]-Pa[1]*kb[0]]}function N(Pa,kb){Pa[0]+=kb[0];Pa[1]+=kb[1];Pa[2]+=kb[2]}function K(Pa,kb){return[Pa[0]*kb,Pa[1]*kb,Pa[2]*kb]}function E(Pa){var kb=
he(Pa[0]*Pa[0]+Pa[1]*Pa[1]+Pa[2]*Pa[2]);Pa[0]/=kb;Pa[1]/=kb;Pa[2]/=kb}function x(Pa,kb){Zc.push(Md=[jc=Pa,tc=Pa]);kb<Ec&&(Ec=kb);kb>Fc&&(Fc=kb)}function D(Pa,kb){var vb=y([Pa*Ad,kb*Ad]);if(zd){var Eb=C(zd,vb);Eb=C([Eb[1],-Eb[0],0],Eb);E(Eb);Eb=n(Eb);var Rb=Pa-ed,yc=0<Rb?1:-1,q=Eb[0]*yd*yc;Rb=180<Yd(Rb);Rb^(yc*ed<q&&q<yc*Pa)?(Eb=Eb[1]*yd,Eb>Fc&&(Fc=Eb)):(q=(q+360)%360-180,Rb^(yc*ed<q&&q<yc*Pa))?(Eb=-Eb[1]*yd,Eb<Ec&&(Ec=Eb)):(kb<Ec&&(Ec=kb),kb>Fc&&(Fc=kb));Rb?Pa<ed?ja(jc,Pa)>ja(jc,tc)&&(tc=Pa):ja(Pa,
tc)>ja(jc,tc)&&(jc=Pa):tc>=jc?(Pa<jc&&(jc=Pa),Pa>tc&&(tc=Pa)):Pa>ed?ja(jc,Pa)>ja(jc,tc)&&(tc=Pa):ja(Pa,tc)>ja(jc,tc)&&(jc=Pa)}else Zc.push(Md=[jc=Pa,tc=Pa]);kb<Ec&&(Ec=kb);kb>Fc&&(Fc=kb);zd=vb;ed=Pa}function H(){Id.point=D}function S(){Md[0]=jc;Md[1]=tc;Id.point=x;zd=null}function U(Pa,kb){if(zd){var vb=Pa-ed;sd.add(180<Yd(vb)?vb+(0<vb?360:-360):vb)}else fd=Pa,ie=kb;Wb.point(Pa,kb);D(Pa,kb)}function ia(){Wb.lineStart()}function fa(){U(fd,ie);Wb.lineEnd();1E-6<Yd(sd)&&(jc=-(tc=180));Md[0]=jc;Md[1]=
tc;zd=null}function ja(Pa,kb){return 0>(kb-=Pa)?kb+360:kb}function la(Pa,kb){return Pa[0]-kb[0]}function da(Pa,kb){return Pa[0]<=Pa[1]?Pa[0]<=kb&&kb<=Pa[1]:kb<Pa[0]||Pa[1]<kb}function O(Pa,kb){Pa*=Ad;kb*=Ad;var vb=Ed(kb);B(vb*Ed(Pa),vb*Zb(Pa),Zb(kb))}function B(Pa,kb,vb){++Ue;Wc+=(Pa-Wc)/Ue;xe+=(kb-xe)/Ue;Me+=(vb-Me)/Ue}function Y(){ec.point=ka}function ka(Pa,kb){Pa*=Ad;kb*=Ad;var vb=Ed(kb);Pb=vb*Ed(Pa);Mb=vb*Zb(Pa);Yb=Zb(kb);ec.point=Z;B(Pb,Mb,Yb)}function Z(Pa,kb){Pa*=Ad;kb*=Ad;var vb=Ed(kb),Eb=
vb*Ed(Pa);Pa=vb*Zb(Pa);kb=Zb(kb);var Rb=qe(he((Rb=Mb*kb-Yb*Pa)*Rb+(Rb=Yb*Eb-Pb*kb)*Rb+(Rb=Pb*Pa-Mb*Eb)*Rb),Pb*Eb+Mb*Pa+Yb*kb);zf+=Rb;Ee+=Rb*(Pb+(Pb=Eb));Ef+=Rb*(Mb+(Mb=Pa));yf+=Rb*(Yb+(Yb=kb));B(Pb,Mb,Yb)}function wa(){ec.point=O}function xa(){ec.point=Wa}function Da(){gb(Ka,sb);ec.point=O}function Wa(Pa,kb){Ka=Pa;sb=kb;Pa*=Ad;kb*=Ad;ec.point=gb;var vb=Ed(kb);Pb=vb*Ed(Pa);Mb=vb*Zb(Pa);Yb=Zb(kb);B(Pb,Mb,Yb)}function gb(Pa,kb){Pa*=Ad;kb*=Ad;var vb=Ed(kb),Eb=vb*Ed(Pa);Pa=vb*Zb(Pa);kb=Zb(kb);vb=Mb*kb-
Yb*Pa;var Rb=Yb*Eb-Pb*kb,yc=Pb*Pa-Mb*Eb,q=xc(vb,Rb,yc),Q=G(q);q=q&&-Q/q;re.add(q*vb);Qe.add(q*Rb);va.add(q*yc);zf+=Q;Ee+=Q*(Pb+(Pb=Eb));Ef+=Q*(Mb+(Mb=Pa));yf+=Q*(Yb+(Yb=kb));B(Pb,Mb,Yb)}function ra(Pa){return function(){return Pa}}function Na(Pa,kb){function vb(Eb,Rb){return Eb=Pa(Eb,Rb),kb(Eb[0],Eb[1])}Pa.invert&&kb.invert&&(vb.invert=function(Eb,Rb){return Eb=kb.invert(Eb,Rb),Eb&&Pa.invert(Eb[0],Eb[1])});return vb}function Ta(Pa,kb){return[Yd(Pa)>Td?Pa+Math.round(-Pa/ce)*ce:Pa,kb]}function za(Pa,
kb,vb){return(Pa%=ce)?kb||vb?Na(T(Pa),W(kb,vb)):T(Pa):kb||vb?W(kb,vb):Ta}function pa(Pa){return function(kb,vb){return kb+=Pa,[kb>Td?kb-ce:kb<-Td?kb+ce:kb,vb]}}function T(Pa){var kb=pa(Pa);kb.invert=pa(-Pa);return kb}function W(Pa,kb){function vb(Q,ma){var Ga=Ed(ma),$a=Ed(Q)*Ga;Q=Zb(Q)*Ga;ma=Zb(ma);Ga=ma*Eb+$a*Rb;return[qe(Q*yc-Ga*q,$a*Eb-ma*Rb),G(Ga*yc+Q*q)]}var Eb=Ed(Pa),Rb=Zb(Pa),yc=Ed(kb),q=Zb(kb);vb.invert=function(Q,ma){var Ga=Ed(ma),$a=Ed(Q)*Ga;Q=Zb(Q)*Ga;ma=Zb(ma);Ga=ma*yc-Q*q;return[qe(Q*
yc+ma*q,$a*Eb+Ga*Rb),G(Ga*Eb-$a*Rb)]};return vb}function M(Pa){function kb(vb){vb=Pa(vb[0]*Ad,vb[1]*Ad);return vb[0]*=yd,vb[1]*=yd,vb}Pa=za(Pa[0]*Ad,Pa[1]*Ad,2<Pa.length?Pa[2]*Ad:0);kb.invert=function(vb){vb=Pa.invert(vb[0]*Ad,vb[1]*Ad);return vb[0]*=yd,vb[1]*=yd,vb};return kb}function P(Pa,kb,vb,Eb,Rb,yc){if(vb){var q=Ed(kb),Q=Zb(kb);vb*=Eb;if(null==Rb)Rb=kb+Eb*ce,yc=kb-vb/2;else if(Rb=ca(q,Rb),yc=ca(q,yc),0<Eb?Rb<yc:Rb>yc)Rb+=Eb*ce;for(;0<Eb?Rb>yc:Rb<yc;Rb-=vb)kb=n([q,-Q*Ed(Rb),-Q*Zb(Rb)]),Pa.point(kb[0],
kb[1])}}function ca(Pa,kb){kb=y(kb);kb[0]-=Pa;E(kb);Pa=w(-kb[1]);return((0>-kb[2]?-Pa:Pa)+ce-1E-6)%ce}function ea(){var Pa=[],kb;return{point:function(vb,Eb,Rb){kb.push([vb,Eb,Rb])},lineStart:function(){Pa.push(kb=[])},lineEnd:v,rejoin:function(){1<Pa.length&&Pa.push(Pa.pop().concat(Pa.shift()))},result:function(){var vb=Pa;Pa=[];kb=null;return vb}}}function oa(Pa,kb){return 1E-6>Yd(Pa[0]-kb[0])&&1E-6>Yd(Pa[1]-kb[1])}function ba(Pa,kb,vb,Eb){this.x=Pa;this.z=kb;this.o=vb;this.e=Eb;this.v=!1;this.n=
this.p=null}function Fa(Pa,kb,vb,Eb,Rb){var yc=[],q=[];Pa.forEach(function(eb){if(!(0>=(qb=eb.length-1))){var qb,Kb=eb[0],Vb=eb[qb];if(oa(Kb,Vb)){if(!Kb[2]&&!Vb[2]){Rb.lineStart();for(Q=0;Q<qb;++Q)Rb.point((Kb=eb[Q])[0],Kb[1]);Rb.lineEnd();return}Vb[0]+=2E-6}yc.push(qb=new ba(Kb,eb,null,!0));q.push(qb.o=new ba(Kb,null,qb,!1));yc.push(qb=new ba(Vb,eb,null,!1));q.push(qb.o=new ba(Vb,null,qb,!0))}});if(yc.length){q.sort(kb);Ra(yc);Ra(q);var Q=0;for(Pa=q.length;Q<Pa;++Q)q[Q].e=vb=!vb;vb=yc[0];for(var ma;;){for(var Ga=
vb,$a=!0;Ga.v;)if((Ga=Ga.n)===vb)return;kb=Ga.z;Rb.lineStart();do{Ga.v=Ga.o.v=!0;if(Ga.e){if($a)for(Q=0,Pa=kb.length;Q<Pa;++Q)Rb.point((ma=kb[Q])[0],ma[1]);else Eb(Ga.x,Ga.n.x,1,Rb);Ga=Ga.n}else{if($a)for(kb=Ga.p.z,Q=kb.length-1;0<=Q;--Q)Rb.point((ma=kb[Q])[0],ma[1]);else Eb(Ga.x,Ga.p.x,-1,Rb);Ga=Ga.p}Ga=Ga.o;kb=Ga.z;$a=!$a}while(!Ga.v);Rb.lineEnd()}}}function Ra(Pa){if(kb=Pa.length){for(var kb,vb=0,Eb=Pa[0],Rb;++vb<kb;)Eb.n=Rb=Pa[vb],Rb.p=Eb,Eb=Rb;Eb.n=Rb=Pa[0];Rb.p=Eb}}function Ma(Pa){return Yd(Pa[0])<=
Td?Pa[0]:Je(Pa[0])*((Yd(Pa[0])+Td)%ce-Td)}function db(Pa,kb){var vb=Ma(kb);kb=kb[1];var Eb=Zb(kb),Rb=[Zb(vb),-Ed(vb),0],yc=0,q=0,Q=new l.Adder;1===Eb?kb=be+1E-6:-1===Eb&&(kb=-be-1E-6);Eb=0;for(var ma=Pa.length;Eb<ma;++Eb)if($a=(Ga=Pa[Eb]).length){var Ga,$a,eb=Ga[$a-1],qb=Ma(eb),Kb=eb[1]/2+Le,Vb=Zb(Kb),Ob=Ed(Kb);for(Kb=0;Kb<$a;++Kb,qb=Pc,Vb=kd,Ob=ad,eb=Dc){var Dc=Ga[Kb],Pc=Ma(Dc);ad=Dc[1]/2+Le;var kd=Zb(ad),ad=Ed(ad),Uc=Pc-qb,Cc=0<=Uc?1:-1,jd=Cc*Uc,Od=jd>Td;Vb*=kd;Q.add(qe(Vb*Cc*Zb(jd),Ob*ad+Vb*Ed(jd)));
yc+=Od?Uc+Cc*ce:Uc;Od^qb>=vb^Pc>=vb&&(eb=C(y(eb),y(Dc)),E(eb),qb=C(Rb,eb),E(qb),qb=(Od^0<=Uc?-1:1)*G(qb[2]),kb>qb||kb===qb&&(eb[0]||eb[1]))&&(q+=Od^0<=Uc?1:-1)}}return(-1E-6>yc||1E-6>yc&&-1E-12>Q)^q&1}function ab(Pa,kb,vb,Eb){return function(Rb){function yc(Uc,Cc){Pa(Uc,Cc)&&Rb.point(Uc,Cc)}function q(Uc,Cc){qb.point(Uc,Cc)}function Q(){ad.point=q;qb.lineStart()}function ma(){ad.point=yc;qb.lineEnd()}function Ga(Uc,Cc){kd.push([Uc,Cc]);Vb.point(Uc,Cc)}function $a(){Vb.lineStart();kd=[]}function eb(){Ga(kd[0][0],
kd[0][1]);Vb.lineEnd();var Uc=Vb.clean(),Cc=Kb.result(),jd=Cc.length,Od;kd.pop();Dc.push(kd);kd=null;if(jd)if(Uc&1){if(jd=Cc[0],0<(Cc=jd.length-1)){Ob||(Rb.polygonStart(),Ob=!0);Rb.lineStart();for(Uc=0;Uc<Cc;++Uc)Rb.point((Od=jd[Uc])[0],Od[1]);Rb.lineEnd()}}else 1<jd&&Uc&2&&Cc.push(Cc.pop().concat(Cc.shift())),Pc.push(Cc.filter(Ba))}var qb=kb(Rb),Kb=ea(),Vb=kb(Kb),Ob=!1,Dc,Pc,kd,ad={point:yc,lineStart:Q,lineEnd:ma,polygonStart:function(){ad.point=Ga;ad.lineStart=$a;ad.lineEnd=eb;Pc=[];Dc=[]},polygonEnd:function(){ad.point=
yc;ad.lineStart=Q;ad.lineEnd=ma;Pc=l.merge(Pc);var Uc=db(Dc,Eb);Pc.length?(Ob||(Rb.polygonStart(),Ob=!0),Fa(Pc,Sa,Uc,vb,Rb)):Uc&&(Ob||(Rb.polygonStart(),Ob=!0),Rb.lineStart(),vb(null,null,1,Rb),Rb.lineEnd());Ob&&(Rb.polygonEnd(),Ob=!1);Pc=Dc=null},sphere:function(){Rb.polygonStart();Rb.lineStart();vb(null,null,1,Rb);Rb.lineEnd();Rb.polygonEnd()}};return ad}}function Ba(Pa){return 1<Pa.length}function Sa(Pa,kb){return(0>(Pa=Pa.x)[0]?Pa[1]-be-1E-6:be-Pa[1])-(0>(kb=kb.x)[0]?kb[1]-be-1E-6:be-kb[1])}function lb(Pa){function kb(ma,
Ga){return Ed(ma)*Ed(Ga)>Rb}function vb(ma,Ga,$a){var eb=y(ma),qb=y(Ga),Kb=[1,0,0];qb=C(eb,qb);var Vb=A(qb,qb);eb=qb[0];var Ob=Vb-eb*eb;if(!Ob)return!$a&&ma;Vb=Rb*Vb/Ob;Ob=-Rb*eb/Ob;eb=C(Kb,qb);Kb=K(Kb,Vb);qb=K(qb,Ob);N(Kb,qb);qb=A(Kb,eb);Vb=A(eb,eb);Ob=qb*qb-Vb*(A(Kb,Kb)-1);if(!(0>Ob)){var Dc=he(Ob);Ob=K(eb,(-qb-Dc)/Vb);N(Ob,Kb);Ob=n(Ob);if(!$a)return Ob;$a=ma[0];var Pc=Ga[0];ma=ma[1];Ga=Ga[1];if(Pc<$a){var kd=$a;$a=Pc;Pc=kd}var ad=Pc-$a,Uc=1E-6>Yd(ad-Td);!Uc&&Ga<ma&&(kd=ma,ma=Ga,Ga=kd);if(Uc||1E-6>
ad?Uc?0<ma+Ga^Ob[1]<(1E-6>Yd(Ob[0]-$a)?ma:Ga):ma<=Ob[1]&&Ob[1]<=Ga:ad>Td^($a<=Ob[0]&&Ob[0]<=Pc))return Ga=K(eb,(-qb+Dc)/Vb),N(Ga,Kb),[Ob,n(Ga)]}}function Eb(ma,Ga){var $a=q?Pa:Td-Pa,eb=0;ma<-$a?eb|=1:ma>$a&&(eb|=2);Ga<-$a?eb|=4:Ga>$a&&(eb|=8);return eb}var Rb=Ed(Pa),yc=6*Ad,q=0<Rb,Q=1E-6<Yd(Rb);return ab(kb,function(ma){var Ga,$a,eb,qb,Kb;return{lineStart:function(){qb=eb=!1;Kb=1},point:function(Vb,Ob){var Dc=[Vb,Ob],Pc=kb(Vb,Ob);Ob=q?Pc?0:Eb(Vb,Ob):Pc?Eb(Vb+(0>Vb?Td:-Td),Ob):0;!Ga&&(qb=eb=Pc)&&ma.lineStart();
Pc!==eb&&(Vb=vb(Ga,Dc),!Vb||oa(Ga,Vb)||oa(Dc,Vb))&&(Dc[2]=1);if(Pc!==eb)Kb=0,Pc?(ma.lineStart(),Vb=vb(Dc,Ga),ma.point(Vb[0],Vb[1])):(Vb=vb(Ga,Dc),ma.point(Vb[0],Vb[1],2),ma.lineEnd()),Ga=Vb;else if(Q&&Ga&&q^Pc){var kd;Ob&$a||!(kd=vb(Dc,Ga,!0))||(Kb=0,q?(ma.lineStart(),ma.point(kd[0][0],kd[0][1]),ma.point(kd[1][0],kd[1][1]),ma.lineEnd()):(ma.point(kd[1][0],kd[1][1]),ma.lineEnd(),ma.lineStart(),ma.point(kd[0][0],kd[0][1],3)))}!Pc||Ga&&oa(Ga,Dc)||ma.point(Dc[0],Dc[1]);Ga=Dc;eb=Pc;$a=Ob},lineEnd:function(){eb&&
ma.lineEnd();Ga=null},clean:function(){return Kb|(qb&&eb)<<1}}},function(ma,Ga,$a,eb){P(eb,Pa,yc,$a,ma,Ga)},q?[0,-Pa]:[-Td,Pa-Td])}function ub(Pa,kb,vb,Eb,Rb,yc){var q=Pa[0],Q=Pa[1],ma=0,Ga=1,$a=kb[0]-q,eb=kb[1]-Q;vb-=q;if($a||!(0<vb)){vb/=$a;if(0>$a){if(vb<ma)return;vb<Ga&&(Ga=vb)}else if(0<$a){if(vb>Ga)return;vb>ma&&(ma=vb)}vb=Rb-q;if($a||!(0>vb)){vb/=$a;if(0>$a){if(vb>Ga)return;vb>ma&&(ma=vb)}else if(0<$a){if(vb<ma)return;vb<Ga&&(Ga=vb)}vb=Eb-Q;if(eb||!(0<vb)){vb/=eb;if(0>eb){if(vb<ma)return;vb<
Ga&&(Ga=vb)}else if(0<eb){if(vb>Ga)return;vb>ma&&(ma=vb)}vb=yc-Q;if(eb||!(0>vb)){vb/=eb;if(0>eb){if(vb>Ga)return;vb>ma&&(ma=vb)}else if(0<eb){if(vb<ma)return;vb<Ga&&(Ga=vb)}0<ma&&(Pa[0]=q+ma*$a,Pa[1]=Q+ma*eb);1>Ga&&(kb[0]=q+Ga*$a,kb[1]=Q+Ga*eb);return!0}}}}}function Jb(Pa,kb,vb,Eb){function Rb(ma,Ga,$a,eb){var qb=0,Kb=0;if(null==ma||(qb=yc(ma,$a))!==(Kb=yc(Ga,$a))||0>Q(ma,Ga)^0<$a){do eb.point(0===qb||3===qb?Pa:vb,1<qb?Eb:kb);while((qb=(qb+$a+4)%4)!==Kb)}else eb.point(Ga[0],Ga[1])}function yc(ma,
Ga){return 1E-6>Yd(ma[0]-Pa)?0<Ga?0:3:1E-6>Yd(ma[0]-vb)?0<Ga?2:1:1E-6>Yd(ma[1]-kb)?0<Ga?1:0:0<Ga?3:2}function q(ma,Ga){return Q(ma.x,Ga.x)}function Q(ma,Ga){var $a=yc(ma,1),eb=yc(Ga,1);return $a!==eb?$a-eb:0===$a?Ga[1]-ma[1]:1===$a?ma[0]-Ga[0]:2===$a?ma[1]-Ga[1]:Ga[0]-ma[0]}return function(ma){function Ga(de,ae){Pa<=de&&de<=vb&&kb<=ae&&ae<=Eb&&eb.point(de,ae)}function $a(de,ae){var kf=Pa<=de&&de<=vb&&kb<=ae&&ae<=Eb;Vb&&Ob.push([de,ae]);if(jd)Dc=de,Pc=ae,kd=kf,jd=!1,kf&&(eb.lineStart(),eb.point(de,
ae));else if(kf&&Cc)eb.point(de,ae);else{var Qd=[ad=Math.max(-1E9,Math.min(1E9,ad)),Uc=Math.max(-1E9,Math.min(1E9,Uc))],Ud=[de=Math.max(-1E9,Math.min(1E9,de)),ae=Math.max(-1E9,Math.min(1E9,ae))];ub(Qd,Ud,Pa,kb,vb,Eb)?(Cc||(eb.lineStart(),eb.point(Qd[0],Qd[1])),eb.point(Ud[0],Ud[1]),kf||eb.lineEnd(),Od=!1):kf&&(eb.lineStart(),eb.point(de,ae),Od=!1)}ad=de;Uc=ae;Cc=kf}var eb=ma,qb=ea(),Kb,Vb,Ob,Dc,Pc,kd,ad,Uc,Cc,jd,Od,Jd={point:Ga,lineStart:function(){Jd.point=$a;Vb&&Vb.push(Ob=[]);jd=!0;Cc=!1;ad=Uc=
NaN},lineEnd:function(){Kb&&($a(Dc,Pc),kd&&Cc&&qb.rejoin(),Kb.push(qb.result()));Jd.point=Ga;Cc&&eb.lineEnd()},polygonStart:function(){eb=qb;Kb=[];Vb=[];Od=!0},polygonEnd:function(){for(var de,ae=de=0,kf=Vb.length;ae<kf;++ae){var Qd=Vb[ae],Ud=1,te=Qd.length,id=Qd[0],ue=id[0];for(id=id[1];Ud<te;++Ud){var Ff=ue;var ye=id;id=Qd[Ud];ue=id[0];id=id[1];ye<=Eb?id>Eb&&(ue-Ff)*(Eb-ye)>(id-ye)*(Pa-Ff)&&++de:id<=Eb&&(ue-Ff)*(Eb-ye)<(id-ye)*(Pa-Ff)&&--de}}ae=Od&&de;kf=(Kb=l.merge(Kb)).length;if(ae||kf)ma.polygonStart(),
ae&&(ma.lineStart(),Rb(null,null,1,ma),ma.lineEnd()),kf&&Fa(Kb,q,de,Rb,ma),ma.polygonEnd();eb=ma;Kb=Vb=Ob=null}};return Jd}}function bc(){Wd.point=Wd.lineEnd=v}function wc(Pa,kb){Pa*=Ad;kb*=Ad;bd=Pa;od=Zb(kb);Nd=Ed(kb);Wd.point=$c}function $c(Pa,kb){Pa*=Ad;kb*=Ad;var vb=Zb(kb);kb=Ed(kb);var Eb=Yd(Pa-bd),Rb=Ed(Eb);Eb=Zb(Eb);Eb*=kb;var yc=Nd*vb-od*kb*Rb;Rb=od*vb+Nd*kb*Rb;Ic.add(qe(he(Eb*Eb+yc*yc),Rb));bd=Pa;od=vb;Nd=kb}function kc(Pa){Ic=new l.Adder;f(Pa,Wd);return+Ic}function vc(Pa,kb){rd[0]=Pa;rd[1]=
kb;return kc(Ge)}function jb(Pa,kb){return Pa&&se.hasOwnProperty(Pa.type)?se[Pa.type](Pa,kb):!1}function fc(Pa,kb){for(var vb,Eb,Rb,yc=0,q=Pa.length;yc<q;yc++){Eb=vc(Pa[yc],kb);if(0===Eb||0<yc&&(Rb=vc(Pa[yc],Pa[yc-1]),0<Rb&&vb<=Rb&&Eb<=Rb&&(vb+Eb-Rb)*(1-Math.pow((vb-Eb)/Rb,2))<1E-12*Rb))return!0;vb=Eb}return!1}function dc(Pa,kb){return!!db(Pa.map(hc),Ac(kb))}function hc(Pa){return Pa=Pa.map(Ac),Pa.pop(),Pa}function Ac(Pa){return[Pa[0]*Ad,Pa[1]*Ad]}function ac(Pa,kb,vb){var Eb=l.range(Pa,kb-1E-6,vb).concat(kb);
return function(Rb){return Eb.map(function(yc){return[Rb,yc]})}}function Oc(Pa,kb,vb){var Eb=l.range(Pa,kb-1E-6,vb).concat(kb);return function(Rb){return Eb.map(function(yc){return[yc,Rb]})}}function Sc(){function Pa(){return{type:"MultiLineString",coordinates:kb()}}function kb(){return l.range(Ie(yc/qb)*qb,Rb,qb).map(Dc).concat(l.range(Ie(Ga/Kb)*Kb,ma,Kb).map(Pc)).concat(l.range(Ie(Eb/$a)*$a,vb,$a).filter(function(ad){return 1E-6<Yd(ad%qb)}).map(Vb)).concat(l.range(Ie(Q/eb)*eb,q,eb).filter(function(ad){return 1E-6<
Yd(ad%Kb)}).map(Ob))}var vb,Eb,Rb,yc,q,Q,ma,Ga,$a=10,eb=$a,qb=90,Kb=360,Vb,Ob,Dc,Pc,kd=2.5;Pa.lines=function(){return kb().map(function(ad){return{type:"LineString",coordinates:ad}})};Pa.outline=function(){return{type:"Polygon",coordinates:[Dc(yc).concat(Pc(ma).slice(1),Dc(Rb).reverse().slice(1),Pc(Ga).reverse().slice(1))]}};Pa.extent=function(ad){return arguments.length?Pa.extentMajor(ad).extentMinor(ad):Pa.extentMinor()};Pa.extentMajor=function(ad){if(!arguments.length)return[[yc,Ga],[Rb,ma]];yc=
+ad[0][0];Rb=+ad[1][0];Ga=+ad[0][1];ma=+ad[1][1];yc>Rb&&(ad=yc,yc=Rb,Rb=ad);Ga>ma&&(ad=Ga,Ga=ma,ma=ad);return Pa.precision(kd)};Pa.extentMinor=function(ad){if(!arguments.length)return[[Eb,Q],[vb,q]];Eb=+ad[0][0];vb=+ad[1][0];Q=+ad[0][1];q=+ad[1][1];Eb>vb&&(ad=Eb,Eb=vb,vb=ad);Q>q&&(ad=Q,Q=q,q=ad);return Pa.precision(kd)};Pa.step=function(ad){return arguments.length?Pa.stepMajor(ad).stepMinor(ad):Pa.stepMinor()};Pa.stepMajor=function(ad){if(!arguments.length)return[qb,Kb];qb=+ad[0];Kb=+ad[1];return Pa};
Pa.stepMinor=function(ad){if(!arguments.length)return[$a,eb];$a=+ad[0];eb=+ad[1];return Pa};Pa.precision=function(ad){if(!arguments.length)return kd;kd=+ad;Vb=ac(Q,q,90);Ob=Oc(Eb,vb,kd);Dc=ac(Ga,ma,90);Pc=Oc(yc,Rb,kd);return Pa};return Pa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Bc(){bf.point=pd}function pd(Pa,kb){bf.point=Rd;Xd=He=Pa;Se=Jf=kb}function Rd(Pa,kb){uf.add(Jf*Pa-He*kb);He=Pa;Jf=kb}function hd(){Rd(Xd,Se)}function cd(Pa,
kb){Za+=Pa;bb+=kb;++nb}function Dd(){tb.point=cb}function cb(Pa,kb){tb.point=yb;cd(Ja=Pa,Oa=kb)}function yb(Pa,kb){var vb=Pa-Ja,Eb=kb-Oa;vb=he(vb*vb+Eb*Eb);zb+=vb*(Ja+Pa)/2;wb+=vb*(Oa+kb)/2;Bb+=vb;cd(Ja=Pa,Oa=kb)}function Sb(){tb.point=cd}function ld(){tb.point=Pd}function xd(){me(X,na)}function Pd(Pa,kb){tb.point=me;cd(X=Ja=Pa,na=Oa=kb)}function me(Pa,kb){var vb=Pa-Ja,Eb=kb-Oa;vb=he(vb*vb+Eb*Eb);zb+=vb*(Ja+Pa)/2;wb+=vb*(Oa+kb)/2;Bb+=vb;vb=Oa*Pa-Ja*kb;Hb+=vb*(Ja+Pa);Tb+=vb*(Oa+kb);mc+=3*vb;cd(Ja=
Pa,Oa=kb)}function Ha(Pa){this._context=Pa}function Ya(Pa,kb){td.point=pb;gc=Qc=Pa;uc=Lc=kb}function pb(Pa,kb){Qc-=Pa;Lc-=kb;Lb.add(he(Qc*Qc+Lc*Lc));Qc=Pa;Lc=kb}function Db(){this._string=[]}function Xb(Pa){return"m0,"+Pa+"a"+Pa+","+Pa+" 0 1,1 0,"+-2*Pa+"a"+Pa+","+Pa+" 0 1,1 0,"+2*Pa+"z"}function Gb(Pa){return function(kb){var vb=new pc,Eb;for(Eb in Pa)vb[Eb]=Pa[Eb];vb.stream=kb;return vb}}function pc(){}function ic(Pa,kb,vb){var Eb=Pa.clipExtent&&Pa.clipExtent();Pa.scale(150).translate([0,0]);null!=
Eb&&Pa.clipExtent(null);f(vb,Pa.stream(La));kb(La.result());null!=Eb&&Pa.clipExtent(Eb);return Pa}function ib(Pa,kb,vb){return ic(Pa,function(Eb){var Rb=kb[1][0]-kb[0][0],yc=kb[1][1]-kb[0][1],q=Math.min(Rb/(Eb[1][0]-Eb[0][0]),yc/(Eb[1][1]-Eb[0][1]));Rb=+kb[0][0]+(Rb-q*(Eb[1][0]+Eb[0][0]))/2;Eb=+kb[0][1]+(yc-q*(Eb[1][1]+Eb[0][1]))/2;Pa.scale(150*q).translate([Rb,Eb])},vb)}function xb(Pa,kb,vb){return ic(Pa,function(Eb){var Rb=+kb,yc=Rb/(Eb[1][0]-Eb[0][0]);Rb=(Rb-yc*(Eb[1][0]+Eb[0][0]))/2;Eb=-yc*Eb[0][1];
Pa.scale(150*yc).translate([Rb,Eb])},vb)}function Nb(Pa,kb,vb){return ic(Pa,function(Eb){var Rb=+kb,yc=Rb/(Eb[1][1]-Eb[0][1]),q=-yc*Eb[0][0];Eb=(Rb-yc*(Eb[1][1]+Eb[0][1]))/2;Pa.scale(150*yc).translate([q,Eb])},vb)}function cc(Pa){return Gb({point:function(kb,vb){kb=Pa(kb,vb);this.stream.point(kb[0],kb[1])}})}function qc(Pa,kb){function vb(Eb,Rb,yc,q,Q,ma,Ga,$a,eb,qb,Kb,Vb,Ob,Dc){var Pc=Ga-Eb,kd=$a-Rb,ad=Pc*Pc+kd*kd;if(ad>4*kb&&Ob--){var Uc=q+qb,Cc=Q+Kb,jd=ma+Vb,Od=he(Uc*Uc+Cc*Cc+jd*jd),Jd=G(jd/=Od),
de=1E-6>Yd(Yd(jd)-1)||1E-6>Yd(yc-eb)?(yc+eb)/2:qe(Cc,Uc),ae=Pa(de,Jd);Jd=ae[0];ae=ae[1];var kf=Jd-Eb,Qd=ae-Rb,Ud=kd*kf-Pc*Qd;if(Ud*Ud/ad>kb||.3<Yd((Pc*kf+kd*Qd)/ad-.5)||q*qb+Q*Kb+ma*Vb<Ld)vb(Eb,Rb,yc,q,Q,ma,Jd,ae,de,Uc/=Od,Cc/=Od,jd,Ob,Dc),Dc.point(Jd,ae),vb(Jd,ae,de,Uc,Cc,jd,Ga,$a,eb,qb,Kb,Vb,Ob,Dc)}}return function(Eb){function Rb(Jd,de){Jd=Pa(Jd,de);Eb.point(Jd[0],Jd[1])}function yc(){kd=NaN;Od.point=q;Eb.lineStart()}function q(Jd,de){var ae=y([Jd,de]);de=Pa(Jd,de);vb(kd,ad,Pc,Uc,Cc,jd,kd=de[0],
ad=de[1],Pc=Jd,Uc=ae[0],Cc=ae[1],jd=ae[2],16,Eb);Eb.point(kd,ad)}function Q(){Od.point=Rb;Eb.lineEnd()}function ma(){yc();Od.point=Ga;Od.lineEnd=$a}function Ga(Jd,de){q(eb=Jd,de);qb=kd;Kb=ad;Vb=Uc;Ob=Cc;Dc=jd;Od.point=q}function $a(){vb(kd,ad,Pc,Uc,Cc,jd,qb,Kb,eb,Vb,Ob,Dc,16,Eb);Od.lineEnd=Q;Q()}var eb,qb,Kb,Vb,Ob,Dc,Pc,kd,ad,Uc,Cc,jd,Od={point:Rb,lineStart:yc,lineEnd:Q,polygonStart:function(){Eb.polygonStart();Od.lineStart=ma},polygonEnd:function(){Eb.polygonEnd();Od.lineStart=yc}};return Od}}function oc(Pa){return Gb({point:function(kb,
vb){kb=Pa(kb,vb);return this.stream.point(kb[0],kb[1])}})}function Kc(Pa,kb,vb,Eb,Rb){function yc(q,Q){q*=Eb;Q*=Rb;return[kb+Pa*q,vb-Pa*Q]}yc.invert=function(q,Q){return[(q-kb)/Pa*Eb,(vb-Q)/Pa*Rb]};return yc}function Ib(Pa,kb,vb,Eb,Rb,yc){function q(Vb,Ob){Vb*=Eb;Ob*=Rb;return[ma*Vb-Ga*Ob+kb,vb-Ga*Vb-ma*Ob]}if(!yc)return Kc(Pa,kb,vb,Eb,Rb);var Q=Ed(yc);yc=Zb(yc);var ma=Q*Pa,Ga=yc*Pa,$a=Q/Pa,eb=yc/Pa,qb=(yc*vb-Q*kb)/Pa,Kb=(yc*kb+Q*vb)/Pa;q.invert=function(Vb,Ob){return[Eb*($a*Vb-eb*Ob+qb),Rb*(Kb-eb*
Vb-$a*Ob)]};return q}function sc(Pa){return zc(function(){return Pa})()}function zc(Pa){function kb(id){return Qd(id[0]*Ad,id[1]*Ad)}function vb(id){return(id=Qd.invert(id[0],id[1]))&&[id[0]*yd,id[1]*yd]}function Eb(){var id=Ib(q,0,0,Dc,Pc,Ob).apply(null,yc(Ga,$a));id=Ib(q,Q-id[0],ma-id[1],Dc,Pc,Ob);Vb=za(eb,qb,Kb);kf=Na(yc,id);Qd=Na(Vb,kf);id=kf;ae=+de?qc(id,de):cc(id);return Rb()}function Rb(){Ud=te=null;return kb}var yc,q=150,Q=480,ma=250,Ga=0,$a=0,eb=0,qb=0,Kb=0,Vb,Ob=0,Dc=1,Pc=1,kd=null,ad=Tc,
Uc=null,Cc,jd,Od,Jd=$d,de=.5,ae,kf,Qd,Ud,te;kb.stream=function(id){return Ud&&te===id?Ud:Ud=Yc(oc(Vb)(ad(ae(Jd(te=id)))))};kb.preclip=function(id){return arguments.length?(ad=id,kd=void 0,Rb()):ad};kb.postclip=function(id){return arguments.length?(Jd=id,Uc=Cc=jd=Od=null,Rb()):Jd};kb.clipAngle=function(id){return arguments.length?(ad=+id?lb(kd=id*Ad):(kd=null,Tc),Rb()):kd*yd};kb.clipExtent=function(id){return arguments.length?(Jd=null==id?(Uc=Cc=jd=Od=null,$d):Jb(Uc=+id[0][0],Cc=+id[0][1],jd=+id[1][0],
Od=+id[1][1]),Rb()):null==Uc?null:[[Uc,Cc],[jd,Od]]};kb.scale=function(id){return arguments.length?(q=+id,Eb()):q};kb.translate=function(id){return arguments.length?(Q=+id[0],ma=+id[1],Eb()):[Q,ma]};kb.center=function(id){return arguments.length?(Ga=id[0]%360*Ad,$a=id[1]%360*Ad,Eb()):[Ga*yd,$a*yd]};kb.rotate=function(id){return arguments.length?(eb=id[0]%360*Ad,qb=id[1]%360*Ad,Kb=2<id.length?id[2]%360*Ad:0,Eb()):[eb*yd,qb*yd,Kb*yd]};kb.angle=function(id){return arguments.length?(Ob=id%360*Ad,Eb()):
Ob*yd};kb.reflectX=function(id){return arguments.length?(Dc=id?-1:1,Eb()):0>Dc};kb.reflectY=function(id){return arguments.length?(Pc=id?-1:1,Eb()):0>Pc};kb.precision=function(id){if(arguments.length){var ue=kf;var Ff=de=id*id;ue=(ae=+Ff?qc(ue,Ff):cc(ue),Rb())}else ue=he(de);return ue};kb.fitExtent=function(id,ue){return ib(kb,id,ue)};kb.fitSize=function(id,ue){return ib(kb,[[0,0],id],ue)};kb.fitWidth=function(id,ue){return xb(kb,id,ue)};kb.fitHeight=function(id,ue){return Nb(kb,id,ue)};return function(){yc=
Pa.apply(this,arguments);kb.invert=yc.invert&&vb;return Eb()}}function rc(Pa){var kb=0,vb=Td/3,Eb=zc(Pa);Pa=Eb(kb,vb);Pa.parallels=function(Rb){return arguments.length?Eb(kb=Rb[0]*Ad,vb=Rb[1]*Ad):[kb*yd,vb*yd]};return Pa}function Jc(Pa){function kb(Eb,Rb){return[Eb*vb,Zb(Rb)/vb]}var vb=Ed(Pa);kb.invert=function(Eb,Rb){return[Eb/vb,G(Rb*vb)]};return kb}function Mc(Pa,kb){function vb(Q,ma){ma=he(yc-2*Rb*Zb(ma))/Rb;return[ma*Zb(Q*=Rb),q-ma*Ed(Q)]}var Eb=Zb(Pa),Rb=(Eb+Zb(kb))/2;if(1E-6>Yd(Rb))return Jc(Pa);
var yc=1+Eb*(2*Rb-Eb),q=he(yc)/Rb;vb.invert=function(Q,ma){ma=q-ma;var Ga=qe(Q,Yd(ma))*Je(ma);0>ma*Rb&&(Ga-=Td*Je(Q)*Je(ma));return[Ga/Rb,G((yc-(Q*Q+ma*ma)*Rb*Rb)/(2*Rb))]};return vb}function Nc(){return rc(Mc).scale(155.424).center([0,33.6442])}function md(){return Nc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wd(Pa){var kb=Pa.length;return{point:function(vb,Eb){for(var Rb=-1;++Rb<kb;)Pa[Rb].point(vb,Eb)},sphere:function(){for(var vb=-1;++vb<
kb;)Pa[vb].sphere()},lineStart:function(){for(var vb=-1;++vb<kb;)Pa[vb].lineStart()},lineEnd:function(){for(var vb=-1;++vb<kb;)Pa[vb].lineEnd()},polygonStart:function(){for(var vb=-1;++vb<kb;)Pa[vb].polygonStart()},polygonEnd:function(){for(var vb=-1;++vb<kb;)Pa[vb].polygonEnd()}}}function Cd(Pa){return function(kb,vb){var Eb=Ed(kb),Rb=Ed(vb);Eb=Pa(Eb*Rb);return Infinity===Eb?[2,0]:[Eb*Rb*Zb(kb),Eb*Zb(vb)]}}function Gd(Pa){return function(kb,vb){var Eb=he(kb*kb+vb*vb),Rb=Pa(Eb),yc=Zb(Rb);Rb=Ed(Rb);
return[qe(kb*yc,Eb*Rb),G(Eb&&vb*yc/Eb)]}}function Sd(Pa,kb){return[Pa,Fe(Pe((be+kb)/2))]}function fe(Pa){function kb(){var eb=Td*Rb(),qb=vb(M(vb.rotate()).invert([0,0]));return q(null==Q?[[qb[0]-eb,qb[1]-eb],[qb[0]+eb,qb[1]+eb]]:Pa===Sd?[[Math.max(qb[0]-eb,Q),ma],[Math.min(qb[0]+eb,Ga),$a]]:[[Q,Math.max(qb[1]-eb,ma)],[Ga,Math.min(qb[1]+eb,$a)]])}var vb=sc(Pa),Eb=vb.center,Rb=vb.scale,yc=vb.translate,q=vb.clipExtent,Q=null,ma,Ga,$a;vb.scale=function(eb){return arguments.length?(Rb(eb),kb()):Rb()};
vb.translate=function(eb){return arguments.length?(yc(eb),kb()):yc()};vb.center=function(eb){return arguments.length?(Eb(eb),kb()):Eb()};vb.clipExtent=function(eb){return arguments.length?(null==eb?Q=ma=Ga=$a=null:(Q=+eb[0][0],ma=+eb[0][1],Ga=+eb[1][0],$a=+eb[1][1]),kb()):null==Q?null:[[Q,ma],[Ga,$a]]};return kb()}function ne(Pa,kb){function vb(q,Q){0<yc?Q<-be+1E-6&&(Q=-be+1E-6):Q>be-1E-6&&(Q=be-1E-6);Q=yc/ge(Pe((be+Q)/2),Rb);return[Q*Zb(Rb*q),yc-Q*Ed(Rb*q)]}var Eb=Ed(Pa),Rb=Pa===kb?Zb(Pa):Fe(Eb/
Ed(kb))/Fe(Pe((be+kb)/2)/Pe((be+Pa)/2)),yc=Eb*ge(Pe((be+Pa)/2),Rb)/Rb;if(!Rb)return Sd;vb.invert=function(q,Q){Q=yc-Q;var ma=Je(Rb)*he(q*q+Q*Q),Ga=qe(q,Yd(Q))*Je(Q);0>Q*Rb&&(Ga-=Td*Je(q)*Je(Q));return[Ga/Rb,2*ef(ge(yc/ma,1/Rb))-be]};return vb}function ze(Pa,kb){return[Pa,kb]}function Ae(Pa,kb){function vb(q,Q){Q=yc-Q;q*=Rb;return[Q*Zb(q),yc-Q*Ed(q)]}var Eb=Ed(Pa),Rb=Pa===kb?Zb(Pa):(Eb-Ed(kb))/(kb-Pa),yc=Eb/Rb+Pa;if(1E-6>Yd(Rb))return ze;vb.invert=function(q,Q){Q=yc-Q;var ma=qe(q,Yd(Q))*Je(Q);0>Q*
Rb&&(ma-=Td*Je(q)*Je(Q));return[ma/Rb,yc-Je(Rb)*he(q*q+Q*Q)]};return vb}function De(Pa,kb){kb=G(Ce*Zb(kb));var vb=kb*kb,Eb=vb*vb*vb;return[Pa*Ed(kb)/(Ce*(1.340264+3*-.081106*vb+Eb*(7*8.93E-4+.034164*vb))),kb*(1.340264+-.081106*vb+Eb*(8.93E-4+.003796*vb))]}function Fd(Pa,kb){var vb=Ed(kb),Eb=Ed(Pa)*vb;return[vb*Zb(Pa)/Eb,Zb(kb)/Eb]}function Zd(Pa,kb){var vb=kb*kb,Eb=vb*vb;return[Pa*(.8707-.131979*vb+Eb*(-.013791+Eb*(.003971*vb-.001529*Eb))),kb*(1.007226+vb*(.015085+Eb*(-.044475+.028874*vb-.005916*
Eb)))]}function Ke(Pa,kb){return[Ed(kb)*Zb(Pa),Zb(kb)]}function Be(Pa,kb){var vb=Ed(kb),Eb=1+Ed(Pa)*vb;return[vb*Zb(Pa)/Eb,Zb(kb)/Eb]}function tf(Pa,kb){return[Fe(Pe((be+kb)/2)),-Pa]}var Td=Math.PI,be=Td/2,Le=Td/4,ce=2*Td,yd=180/Td,Ad=Td/180,Yd=Math.abs,ef=Math.atan,qe=Math.atan2,Ed=Math.cos,Ie=Math.ceil,nf=Math.exp,xc=Math.hypot,Fe=Math.log,ge=Math.pow,Zb=Math.sin,Je=Math.sign||function(Pa){return 0<Pa?1:0>Pa?-1:0},he=Math.sqrt,Pe=Math.tan,cf={Feature:function(Pa,kb){u(Pa.geometry,kb)},FeatureCollection:function(Pa,
kb){Pa=Pa.features;for(var vb=-1,Eb=Pa.length;++vb<Eb;)u(Pa[vb].geometry,kb)}},Ze={Sphere:function(Pa,kb){kb.sphere()},Point:function(Pa,kb){Pa=Pa.coordinates;kb.point(Pa[0],Pa[1],Pa[2])},MultiPoint:function(Pa,kb){for(var vb=Pa.coordinates,Eb=-1,Rb=vb.length;++Eb<Rb;)Pa=vb[Eb],kb.point(Pa[0],Pa[1],Pa[2])},LineString:function(Pa,kb){t(Pa.coordinates,kb,0)},MultiLineString:function(Pa,kb){Pa=Pa.coordinates;for(var vb=-1,Eb=Pa.length;++vb<Eb;)t(Pa[vb],kb,0)},Polygon:function(Pa,kb){k(Pa.coordinates,
kb)},MultiPolygon:function(Pa,kb){Pa=Pa.coordinates;for(var vb=-1,Eb=Pa.length;++vb<Eb;)k(Pa[vb],kb)},GeometryCollection:function(Pa,kb){Pa=Pa.geometries;for(var vb=-1,Eb=Pa.length;++vb<Eb;)u(Pa[vb],kb)}},vf=new l.Adder,Te=new l.Adder,sa,Aa,Xa,fb,mb,Wb={point:v,lineStart:v,lineEnd:v,polygonStart:function(){vf=new l.Adder;Wb.lineStart=d;Wb.lineEnd=g},polygonEnd:function(){var Pa=+vf;Te.add(0>Pa?ce+Pa:Pa);this.lineStart=this.lineEnd=this.point=v},sphere:function(){Te.add(ce)}},jc,Ec,tc,Fc,ed,fd,ie,
zd,sd,Zc,Md,Id={point:x,lineStart:H,lineEnd:S,polygonStart:function(){Id.point=U;Id.lineStart=ia;Id.lineEnd=fa;sd=new l.Adder;Wb.polygonStart()},polygonEnd:function(){Wb.polygonEnd();Id.point=x;Id.lineStart=H;Id.lineEnd=S;0>vf?(jc=-(tc=180),Ec=-(Fc=90)):1E-6<sd?Fc=90:-1E-6>sd&&(Ec=-90);Md[0]=jc;Md[1]=tc},sphere:function(){jc=-(tc=180);Ec=-(Fc=90)}},Ue,zf,Wc,xe,Me,Ee,Ef,yf,re,Qe,va,Ka,sb,Pb,Mb,Yb,ec={sphere:v,point:O,lineStart:Y,lineEnd:wa,polygonStart:function(){ec.lineStart=xa;ec.lineEnd=Da},polygonEnd:function(){ec.lineStart=
Y;ec.lineEnd=wa}};Ta.invert=Ta;var Tc=ab(function(){return!0},function(Pa){var kb=NaN,vb=NaN,Eb=NaN,Rb;return{lineStart:function(){Pa.lineStart();Rb=1},point:function(yc,q){var Q=0<yc?Td:-Td,ma=Yd(yc-kb);if(1E-6>Yd(ma-Td))Pa.point(kb,vb=0<(vb+q)/2?be:-be),Pa.point(Eb,vb),Pa.lineEnd(),Pa.lineStart(),Pa.point(Q,vb),Pa.point(yc,vb),Rb=0;else if(Eb!==Q&&ma>=Td){1E-6>Yd(kb-Eb)&&(kb-=1E-6*Eb);1E-6>Yd(yc-Q)&&(yc-=1E-6*Q);ma=kb;var Ga=vb,$a=yc,eb,qb,Kb=Zb(ma-$a);vb=1E-6<Yd(Kb)?ef((Zb(Ga)*(qb=Ed(q))*Zb($a)-
Zb(q)*(eb=Ed(Ga))*Zb(ma))/(eb*qb*Kb)):(Ga+q)/2;Pa.point(Eb,vb);Pa.lineEnd();Pa.lineStart();Pa.point(Q,vb);Rb=0}Pa.point(kb=yc,vb=q);Eb=Q},lineEnd:function(){Pa.lineEnd();kb=vb=NaN},clean:function(){return 2-Rb}}},function(Pa,kb,vb,Eb){null==Pa?(vb*=be,Eb.point(-Td,vb),Eb.point(0,vb),Eb.point(Td,vb),Eb.point(Td,0),Eb.point(Td,-vb),Eb.point(0,-vb),Eb.point(-Td,-vb),Eb.point(-Td,0),Eb.point(-Td,vb)):1E-6<Yd(Pa[0]-kb[0])?(Pa=Pa[0]<kb[0]?Td:-Td,vb=vb*Pa/2,Eb.point(-Pa,vb),Eb.point(0,vb),Eb.point(Pa,vb)):
Eb.point(kb[0],kb[1])},[-Td,-be]),Ic,bd,od,Nd,Wd={sphere:v,point:v,lineStart:function(){Wd.point=wc;Wd.lineEnd=bc},lineEnd:v,polygonStart:v,polygonEnd:v},rd=[null,null],Ge={type:"LineString",coordinates:rd},Hd={Feature:function(Pa,kb){return jb(Pa.geometry,kb)},FeatureCollection:function(Pa,kb){Pa=Pa.features;for(var vb=-1,Eb=Pa.length;++vb<Eb;)if(jb(Pa[vb].geometry,kb))return!0;return!1}},se={Sphere:function(){return!0},Point:function(Pa,kb){return 0===vc(Pa.coordinates,kb)},MultiPoint:function(Pa,
kb){Pa=Pa.coordinates;for(var vb=-1,Eb=Pa.length;++vb<Eb;)if(0===vc(Pa[vb],kb))return!0;return!1},LineString:function(Pa,kb){return fc(Pa.coordinates,kb)},MultiLineString:function(Pa,kb){Pa=Pa.coordinates;for(var vb=-1,Eb=Pa.length;++vb<Eb;)if(fc(Pa[vb],kb))return!0;return!1},Polygon:function(Pa,kb){return dc(Pa.coordinates,kb)},MultiPolygon:function(Pa,kb){Pa=Pa.coordinates;for(var vb=-1,Eb=Pa.length;++vb<Eb;)if(dc(Pa[vb],kb))return!0;return!1},GeometryCollection:function(Pa,kb){Pa=Pa.geometries;
for(var vb=-1,Eb=Pa.length;++vb<Eb;)if(jb(Pa[vb],kb))return!0;return!1}},$d=Pa=>Pa,oe=new l.Adder,uf=new l.Adder,Xd,Se,He,Jf,bf={point:v,lineStart:v,lineEnd:v,polygonStart:function(){bf.lineStart=Bc;bf.lineEnd=hd},polygonEnd:function(){bf.lineStart=bf.lineEnd=bf.point=v;oe.add(Yd(uf));uf=new l.Adder},result:function(){var Pa=oe/2;oe=new l.Adder;return Pa}},Uf=Infinity,ta=Uf,ua=-Uf,Ia=ua,La={point:function(Pa,kb){Pa<Uf&&(Uf=Pa);Pa>ua&&(ua=Pa);kb<ta&&(ta=kb);kb>Ia&&(Ia=kb)},lineStart:v,lineEnd:v,polygonStart:v,
polygonEnd:v,result:function(){var Pa=[[Uf,ta],[ua,Ia]];ua=Ia=-(ta=Uf=Infinity);return Pa}},Za=0,bb=0,nb=0,zb=0,wb=0,Bb=0,Hb=0,Tb=0,mc=0,X,na,Ja,Oa,tb={point:cd,lineStart:Dd,lineEnd:Sb,polygonStart:function(){tb.lineStart=ld;tb.lineEnd=xd},polygonEnd:function(){tb.point=cd;tb.lineStart=Dd;tb.lineEnd=Sb},result:function(){var Pa=mc?[Hb/mc,Tb/mc]:Bb?[zb/Bb,wb/Bb]:nb?[Za/nb,bb/nb]:[NaN,NaN];Za=bb=nb=zb=wb=Bb=Hb=Tb=mc=0;return Pa}};Ha.prototype={_radius:4.5,pointRadius:function(Pa){return this._radius=
Pa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Pa,kb){switch(this._point){case 0:this._context.moveTo(Pa,kb);this._point=1;break;case 1:this._context.lineTo(Pa,kb);break;default:this._context.moveTo(Pa+this._radius,kb),this._context.arc(Pa,kb,this._radius,0,ce)}},result:v};var Lb=new l.Adder,Qb,gc,uc,Qc,Lc,td={point:v,lineStart:function(){td.point=
Ya},lineEnd:function(){Qb&&pb(gc,uc);td.point=v},polygonStart:function(){Qb=!0},polygonEnd:function(){Qb=null},result:function(){var Pa=+Lb;Lb=new l.Adder;return Pa}};Db.prototype={_radius:4.5,_circle:Xb(4.5),pointRadius:function(Pa){(Pa=+Pa)!==this._radius&&(this._radius=Pa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Pa,
kb){switch(this._point){case 0:this._string.push("M",Pa,",",kb);this._point=1;break;case 1:this._string.push("L",Pa,",",kb);break;default:null==this._circle&&(this._circle=Xb(this._radius)),this._string.push("M",Pa,",",kb,this._circle)}},result:function(){if(this._string.length){var Pa=this._string.join("");this._string=[];return Pa}return null}};pc.prototype={constructor:pc,point:function(Pa,kb){this.stream.point(Pa,kb)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ld=Ed(30*Ad),Yc=Gb({point:function(Pa,kb){this.stream.point(Pa*Ad,kb*Ad)}}),nd=Cd(function(Pa){return he(2/(1+Pa))});nd.invert=Gd(function(Pa){return 2*G(Pa/2)});var Vc=Cd(function(Pa){return(Pa=w(Pa))&&Pa/Zb(Pa)});Vc.invert=Gd(function(Pa){return Pa});Sd.invert=function(Pa,kb){return[Pa,2*ef(nf(kb))-be]};ze.invert=ze;var Ce=he(3)/2;De.invert=function(Pa,
kb){for(var vb=kb,Eb=vb*vb,Rb=Eb*Eb*Eb,yc=0,q;12>yc&&!(q=vb*(1.340264+-.081106*Eb+Rb*(8.93E-4+.003796*Eb))-kb,Eb=1.340264+3*-.081106*Eb+Rb*(7*8.93E-4+.034164*Eb),vb-=q/=Eb,Eb=vb*vb,Rb=Eb*Eb*Eb,1E-12>Yd(q));++yc);return[Ce*Pa*(1.340264+3*-.081106*Eb+Rb*(7*8.93E-4+.034164*Eb))/Ed(vb),G(Zb(vb)/Ce)]};Fd.invert=Gd(ef);Zd.invert=function(Pa,kb){var vb=kb,Eb=25;do{var Rb=vb*vb;var yc=Rb*Rb;vb-=yc=(vb*(1.007226+Rb*(.015085+yc*(-.044475+.028874*Rb-.005916*yc)))-kb)/(1.007226+Rb*(.045255+yc*(-.311325+.259866*
Rb-.005916*11*yc)))}while(1E-6<Yd(yc)&&0<--Eb);return[Pa/(.8707+(Rb=vb*vb)*(-.131979+Rb*(-.013791+Rb*Rb*Rb*(.003971-.001529*Rb)))),vb]};Ke.invert=Gd(G);Be.invert=Gd(function(Pa){return 2*ef(Pa)});tf.invert=function(Pa,kb){return[-kb,2*ef(nf(Pa))-be]};m.geoAlbers=md;m.geoAlbersUsa=function(){function Pa(qb){var Kb=qb[0];qb=qb[1];return $a=null,(yc.point(Kb,qb),$a)||(Q.point(Kb,qb),$a)||(Ga.point(Kb,qb),$a)}function kb(){vb=Eb=null;return Pa}var vb,Eb,Rb=md(),yc,q=Nc().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),Q,ma=Nc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ga,$a,eb={point:function(qb,Kb){$a=[qb,Kb]}};Pa.invert=function(qb){var Kb=Rb.scale(),Vb=Rb.translate(),Ob=(qb[0]-Vb[0])/Kb;Kb=(qb[1]-Vb[1])/Kb;return(.12<=Kb&&.234>Kb&&-.425<=Ob&&-.214>Ob?q:.166<=Kb&&.234>Kb&&-.214<=Ob&&-.115>Ob?ma:Rb).invert(qb)};Pa.stream=function(qb){return vb&&Eb===qb?vb:vb=wd([Rb.stream(Eb=qb),q.stream(qb),ma.stream(qb)])};Pa.precision=function(qb){if(!arguments.length)return Rb.precision();Rb.precision(qb);
q.precision(qb);ma.precision(qb);return kb()};Pa.scale=function(qb){if(!arguments.length)return Rb.scale();Rb.scale(qb);q.scale(.35*qb);ma.scale(qb);return Pa.translate(Rb.translate())};Pa.translate=function(qb){if(!arguments.length)return Rb.translate();var Kb=Rb.scale(),Vb=+qb[0],Ob=+qb[1];yc=Rb.translate(qb).clipExtent([[Vb-.455*Kb,Ob-.238*Kb],[Vb+.455*Kb,Ob+.238*Kb]]).stream(eb);Q=q.translate([Vb-.307*Kb,Ob+.201*Kb]).clipExtent([[Vb-.425*Kb+1E-6,Ob+.12*Kb+1E-6],[Vb-.214*Kb-1E-6,Ob+.234*Kb-1E-6]]).stream(eb);
Ga=ma.translate([Vb-.205*Kb,Ob+.212*Kb]).clipExtent([[Vb-.214*Kb+1E-6,Ob+.166*Kb+1E-6],[Vb-.115*Kb-1E-6,Ob+.234*Kb-1E-6]]).stream(eb);return kb()};Pa.fitExtent=function(qb,Kb){return ib(Pa,qb,Kb)};Pa.fitSize=function(qb,Kb){return ib(Pa,[[0,0],qb],Kb)};Pa.fitWidth=function(qb,Kb){return xb(Pa,qb,Kb)};Pa.fitHeight=function(qb,Kb){return Nb(Pa,qb,Kb)};return Pa.scale(1070)};m.geoArea=function(Pa){Te=new l.Adder;f(Pa,Wb);return 2*Te};m.geoAzimuthalEqualArea=function(){return sc(nd).scale(124.75).clipAngle(179.999)};
m.geoAzimuthalEqualAreaRaw=nd;m.geoAzimuthalEquidistant=function(){return sc(Vc).scale(79.4188).clipAngle(179.999)};m.geoAzimuthalEquidistantRaw=Vc;m.geoBounds=function(Pa){var kb,vb,Eb;Fc=tc=-(jc=Ec=Infinity);Zc=[];f(Pa,Id);if(kb=Zc.length){Zc.sort(la);Pa=1;var Rb=Zc[0];for(vb=[Rb];Pa<kb;++Pa){var yc=Zc[Pa];da(Rb,yc[0])||da(Rb,yc[1])?(ja(Rb[0],yc[1])>ja(Rb[0],Rb[1])&&(Rb[1]=yc[1]),ja(yc[0],Rb[1])>ja(Rb[0],Rb[1])&&(Rb[0]=yc[0])):vb.push(Rb=yc)}var q=-Infinity;kb=vb.length-1;Pa=0;for(Rb=vb[kb];Pa<=
kb;Rb=yc,++Pa)yc=vb[Pa],(Eb=ja(Rb[1],yc[0]))>q&&(q=Eb,jc=yc[0],tc=Rb[1])}Zc=Md=null;return Infinity===jc||Infinity===Ec?[[NaN,NaN],[NaN,NaN]]:[[jc,Ec],[tc,Fc]]};m.geoCentroid=function(Pa){Ue=zf=Wc=xe=Me=Ee=Ef=yf=0;re=new l.Adder;Qe=new l.Adder;va=new l.Adder;f(Pa,ec);Pa=+re;var kb=+Qe,vb=+va,Eb=xc(Pa,kb,vb);return 1E-12>Eb&&(Pa=Ee,kb=Ef,vb=yf,1E-6>zf&&(Pa=Wc,kb=xe,vb=Me),Eb=xc(Pa,kb,vb),1E-12>Eb)?[NaN,NaN]:[qe(kb,Pa)*yd,G(vb/Eb)*yd]};m.geoCircle=function(){function Pa(){var Q=kb.apply(this,arguments),
ma=vb.apply(this,arguments)*Ad,Ga=Eb.apply(this,arguments)*Ad;Rb=[];yc=za(-Q[0]*Ad,-Q[1]*Ad,0).invert;P(q,ma,Ga,1);Q={type:"Polygon",coordinates:[Rb]};Rb=yc=null;return Q}var kb=ra([0,0]),vb=ra(90),Eb=ra(6),Rb,yc,q={point:function(Q,ma){Rb.push(Q=yc(Q,ma));Q[0]*=yd;Q[1]*=yd}};Pa.center=function(Q){return arguments.length?(kb="function"===typeof Q?Q:ra([+Q[0],+Q[1]]),Pa):kb};Pa.radius=function(Q){return arguments.length?(vb="function"===typeof Q?Q:ra(+Q),Pa):vb};Pa.precision=function(Q){return arguments.length?
(Eb="function"===typeof Q?Q:ra(+Q),Pa):Eb};return Pa};m.geoClipAntimeridian=Tc;m.geoClipCircle=lb;m.geoClipExtent=function(){var Pa=0,kb=0,vb=960,Eb=500,Rb,yc,q;return q={stream:function(Q){return Rb&&yc===Q?Rb:Rb=Jb(Pa,kb,vb,Eb)(yc=Q)},extent:function(Q){return arguments.length?(Pa=+Q[0][0],kb=+Q[0][1],vb=+Q[1][0],Eb=+Q[1][1],Rb=yc=null,q):[[Pa,kb],[vb,Eb]]}}};m.geoClipRectangle=Jb;m.geoConicConformal=function(){return rc(ne).scale(109.5).parallels([30,30])};m.geoConicConformalRaw=ne;m.geoConicEqualArea=
Nc;m.geoConicEqualAreaRaw=Mc;m.geoConicEquidistant=function(){return rc(Ae).scale(131.154).center([0,13.9389])};m.geoConicEquidistantRaw=Ae;m.geoContains=function(Pa,kb){return(Pa&&Hd.hasOwnProperty(Pa.type)?Hd[Pa.type]:jb)(Pa,kb)};m.geoDistance=vc;m.geoEqualEarth=function(){return sc(De).scale(177.158)};m.geoEqualEarthRaw=De;m.geoEquirectangular=function(){return sc(ze).scale(152.63)};m.geoEquirectangularRaw=ze;m.geoGnomonic=function(){return sc(Fd).scale(144.049).clipAngle(60)};m.geoGnomonicRaw=
Fd;m.geoGraticule=Sc;m.geoGraticule10=function(){return Sc()()};m.geoIdentity=function(){function Pa(){Vb=vb*yc;Ob=vb*q;kd=ad=null;return kb}function kb(Uc){var Cc=Uc[0]*Vb;Uc=Uc[1]*Ob;if(Q){var jd=Uc*ma-Cc*Ga;Cc=Cc*ma+Uc*Ga;Uc=jd}return[Cc+Eb,Uc+Rb]}var vb=1,Eb=0,Rb=0,yc=1,q=1,Q=0,ma,Ga,$a=null,eb,qb,Kb,Vb=1,Ob=1,Dc=Gb({point:function(Uc,Cc){Uc=kb([Uc,Cc]);this.stream.point(Uc[0],Uc[1])}}),Pc=$d,kd,ad;kb.invert=function(Uc){var Cc=Uc[0]-Eb;Uc=Uc[1]-Rb;if(Q){var jd=Uc*ma+Cc*Ga;Cc=Cc*ma-Uc*Ga;Uc=jd}return[Cc/
Vb,Uc/Ob]};kb.stream=function(Uc){return kd&&ad===Uc?kd:kd=Dc(Pc(ad=Uc))};kb.postclip=function(Uc){return arguments.length?(Pc=Uc,$a=eb=qb=Kb=null,Pa()):Pc};kb.clipExtent=function(Uc){return arguments.length?(Pc=null==Uc?($a=eb=qb=Kb=null,$d):Jb($a=+Uc[0][0],eb=+Uc[0][1],qb=+Uc[1][0],Kb=+Uc[1][1]),Pa()):null==$a?null:[[$a,eb],[qb,Kb]]};kb.scale=function(Uc){return arguments.length?(vb=+Uc,Pa()):vb};kb.translate=function(Uc){return arguments.length?(Eb=+Uc[0],Rb=+Uc[1],Pa()):[Eb,Rb]};kb.angle=function(Uc){return arguments.length?
(Q=Uc%360*Ad,Ga=Zb(Q),ma=Ed(Q),Pa()):Q*yd};kb.reflectX=function(Uc){return arguments.length?(yc=Uc?-1:1,Pa()):0>yc};kb.reflectY=function(Uc){return arguments.length?(q=Uc?-1:1,Pa()):0>q};kb.fitExtent=function(Uc,Cc){return ib(kb,Uc,Cc)};kb.fitSize=function(Uc,Cc){return ib(kb,[[0,0],Uc],Cc)};kb.fitWidth=function(Uc,Cc){return xb(kb,Uc,Cc)};kb.fitHeight=function(Uc,Cc){return Nb(kb,Uc,Cc)};return kb};m.geoInterpolate=function(Pa,kb){var vb=Pa[0]*Ad,Eb=Pa[1]*Ad;Pa=kb[0]*Ad;kb=kb[1]*Ad;var Rb=Ed(Eb),
yc=Zb(Eb),q=Ed(kb),Q=Zb(kb),ma=Rb*Ed(vb),Ga=Rb*Zb(vb),$a=q*Ed(Pa),eb=q*Zb(Pa),qb=2*G(he(L(kb-Eb)+Rb*q*L(Pa-vb))),Kb=Zb(qb);Pa=qb?function(Vb){var Ob=Zb(Vb*=qb)/Kb,Dc=Zb(qb-Vb)/Kb;Vb=Dc*ma+Ob*$a;var Pc=Dc*Ga+Ob*eb;Ob=Dc*yc+Ob*Q;return[qe(Pc,Vb)*yd,qe(Ob,he(Vb*Vb+Pc*Pc))*yd]}:function(){return[vb*yd,Eb*yd]};Pa.distance=qb;return Pa};m.geoLength=kc;m.geoMercator=function(){return fe(Sd).scale(961/ce)};m.geoMercatorRaw=Sd;m.geoNaturalEarth1=function(){return sc(Zd).scale(175.295)};m.geoNaturalEarth1Raw=
Zd;m.geoOrthographic=function(){return sc(Ke).scale(249.5).clipAngle(90.000001)};m.geoOrthographicRaw=Ke;m.geoPath=function(Pa,kb){function vb(q){q&&("function"===typeof Eb&&yc.pointRadius(+Eb.apply(this,arguments)),f(q,Rb(yc)));return yc.result()}var Eb=4.5,Rb,yc;vb.area=function(q){f(q,Rb(bf));return bf.result()};vb.measure=function(q){f(q,Rb(td));return td.result()};vb.bounds=function(q){f(q,Rb(La));return La.result()};vb.centroid=function(q){f(q,Rb(tb));return tb.result()};vb.projection=function(q){return arguments.length?
(Rb=null==q?(Pa=null,$d):(Pa=q).stream,vb):Pa};vb.context=function(q){if(!arguments.length)return kb;yc=null==q?(kb=null,new Db):new Ha(kb=q);"function"!==typeof Eb&&yc.pointRadius(Eb);return vb};vb.pointRadius=function(q){if(!arguments.length)return Eb;Eb="function"===typeof q?q:(yc.pointRadius(+q),+q);return vb};return vb.projection(Pa).context(kb)};m.geoProjection=sc;m.geoProjectionMutator=zc;m.geoRotation=M;m.geoStereographic=function(){return sc(Be).scale(250).clipAngle(142)};m.geoStereographicRaw=
Be;m.geoStream=f;m.geoTransform=function(Pa){return{stream:Gb(Pa)}};m.geoTransverseMercator=function(){var Pa=fe(tf),kb=Pa.center,vb=Pa.rotate;Pa.center=function(Eb){return arguments.length?kb([-Eb[1],Eb[0]]):(Eb=kb(),[Eb[1],-Eb[0]])};Pa.rotate=function(Eb){return arguments.length?vb([Eb[0],Eb[1],2<Eb.length?Eb[2]+90:90]):(Eb=vb(),[Eb[0],Eb[1],Eb[2]-90])};return vb([0,0,90]).scale(159.155)};m.geoTransverseMercatorRaw=tf;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(41),z(17)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],l):l(m.d3=m.d3||{},m.d3,m.d3)})(this,function(m,l,w){function G(ta){return 1<ta?mb:-1>ta?-mb:Math.asin(ta)}function L(ta){return 1<ta?0:-1>ta?fb:Math.acos(ta)}function v(ta){return 0<ta?Math.sqrt(ta):0}function u(ta){return(Je(ta)-Je(-ta))/2}function t(ta){return(Je(ta)+Je(-ta))/2}function k(ta){function ua(Za,
bb){var nb=Zb(Za),zb=Zb(bb);bb=Aa(bb);nb*=zb;nb=-((1-nb?Pe((1+nb)/2)/(1-nb):-.5)+La/(1+nb));return[nb*zb*Aa(Za),nb*bb]}var Ia=Xa(ta/2),La=2*Pe(Zb(ta/2))/(Ia*Ia);ua.invert=function(Za,bb){var nb=v(Za*Za+bb*bb),zb=-ta/2,wb=50;if(!nb)return[0,0];do{var Bb=zb/2;var Hb=Zb(Bb);Bb=Aa(Bb);var Tb=Bb/Hb,mc=-Pe(xc(Hb));zb-=Hb=(2/Tb*mc-La*Tb-nb)/(-mc/(Bb*Bb)+1-La/(2*Hb*Hb))*(0>Hb?.7:1)}while(1E-6<xc(Hb)&&0<--wb);wb=Aa(zb);return[ge(Za*wb,nb*Zb(zb)),G(bb*wb/nb)]};return ua}function f(ta,ua){var Ia=Zb(ua);var La=
(La=L(Ia*Zb(ta/=2)))?La/Math.sin(La):1;return[2*Ia*Aa(ta)*La,Aa(ua)*La]}function d(ta){function ua(zb,wb){var Bb=Zb(wb),Hb=Zb(zb/=2);return[(1+Bb)*Aa(zb),(Za*wb>-ge(Hb,bb)-.001?0:10*-Za)+nb+Aa(wb)*La-(1+Bb)*Ia*Hb]}var Ia=Aa(ta),La=Zb(ta),Za=0<=ta?1:-1,bb=Xa(Za*ta),nb=(1+Ia-La)/2;ua.invert=function(zb,wb){var Bb=0,Hb=0,Tb=50;do{var mc=Zb(Bb),X=Aa(Bb),na=Zb(Hb),Ja=Aa(Hb),Oa=1+na,tb=Oa*X-zb,Lb=nb+Ja*La-Oa*Ia*mc-wb,Qb=Oa*mc/2,gc=-X*Ja;X=Ia*Oa*X/2;na=La*na+Ia*mc*Ja;mc=gc*X-na*Qb;gc=(Lb*gc-tb*na)/mc/2;
tb=(tb*X-Lb*Qb)/mc;2<xc(tb)&&(tb/=2);Bb-=gc;Hb-=tb}while((1E-6<xc(gc)||1E-6<xc(tb))&&0<--Tb);return Za*Hb>-ge(Zb(Bb),bb)-.001?[2*Bb,Hb]:null};return ua}function g(ta,ua){ua=Xa(ua/2);var Ia=v(1-ua*ua),La=1+Ia*Zb(ta/=2);ta=Aa(ta)*Ia/La;ua/=La;La=ta*ta;Ia=ua*ua;return[4/3*ta*(3+La-3*Ia),4/3*ua*(3+3*La-Ia)]}function a(ta,ua){var Ia=xc(ua);return Ia<Wb?[ta,Pe(Xa(Wb+ua/2))]:[ta*Zb(Ia)*(2*Ec-1/Aa(Ia)),sa(ua)*(2*Ec*(Ia-Wb)-Pe(Xa(Ia/2)))]}function e(ta){function ua(La,Za){Za=l.geoAzimuthalEquidistantRaw(La,
Za);if(xc(La)>mb){La=ge(Za[1],Za[0]);var bb=v(Za[0]*Za[0]+Za[1]*Za[1]),nb=Ia*Te((La-mb)/Ia)+mb,zb=ge(Aa(La-=nb),2-Zb(La));La=nb+G(fb/bb*Aa(zb))-zb;Za[0]=bb*Zb(La);Za[1]=bb*Aa(La)}return Za}var Ia=2*fb/ta;ua.invert=function(La,Za){var bb=v(La*La+Za*Za);if(bb>mb){var nb=ge(Za,La);La=Ia*Te((nb-mb)/Ia)+mb;Za=nb>La?-1:1;nb=bb*Zb(La-nb);nb=1/Xa(Za*L((nb-fb)/v(fb*(fb-2*nb)+bb*bb)));nb=La+2*Fe((nb+Za*v(nb*nb-3))/3);La=bb*Zb(nb);Za=bb*Aa(nb)}return l.geoAzimuthalEquidistantRaw.invert(La,Za)};return ua}function n(ta,
ua){function Ia(La,Za){La=l.geoAzimuthalEqualAreaRaw(La/ua,Za);La[0]*=ta;return La}2>arguments.length&&(ua=ta);if(1===ua)return l.geoAzimuthalEqualAreaRaw;if(Infinity===ua)return y;Ia.invert=function(La,Za){La=l.geoAzimuthalEqualAreaRaw.invert(La/ta,Za);La[0]*=ua;return La};return Ia}function y(ta,ua){return[ta*Zb(ua)/Zb(ua/=2),2*Aa(ua)]}function A(ta,ua,Ia){var La=100;Ia=void 0===Ia?0:+Ia;ua=+ua;do{var Za=ta(Ia);var bb=ta(Ia+1E-6);Za===bb&&(bb=Za+1E-6);Ia-=Za=-1E-6*(Za-ua)/(Za-bb)}while(0<La--&&
1E-6<xc(Za));return 0>La?NaN:Ia}function C(ta,ua,Ia){void 0===ua&&(ua=40);void 0===Ia&&(Ia=1E-12);return function(La,Za,bb,nb){bb=void 0===bb?0:+bb;nb=void 0===nb?0:+nb;for(var zb=0;zb<ua;zb++){var wb=ta(bb,nb),Bb=wb[0]-La,Hb=wb[1]-Za;if(xc(Bb)<Ia&&xc(Hb)<Ia)break;var Tb=Bb*Bb+Hb*Hb;if(Tb>mc)bb-=na/=2,nb-=Oa/=2;else{var mc=Tb;Tb=(0<bb?-1:1)*Ia;var X=(0<nb?-1:1)*Ia;var na=ta(bb+Tb,nb);var Ja=ta(bb,nb+X);var Oa=(na[0]-wb[0])/Tb;Tb=(na[1]-wb[1])/Tb;na=(Ja[0]-wb[0])/X;wb=(Ja[1]-wb[1])/X;X=wb*Oa-Tb*na;
X=(.5>xc(X)?.5:1)/X;na=(Hb*na-Bb*wb)*X;Oa=(Bb*Tb-Hb*Oa)*X;bb+=na;nb+=Oa;if(xc(na)<Ia&&xc(Oa)<Ia)break}}return[bb,nb]}}function N(){function ta(Ia,La){if(-1.4>Ia+La){var Za=(Ia-La+1.6)*(Ia+La+1.4)/8;Ia+=Za;La-=.8*Za*Aa(La+fb/2)}Za=ua(Ia,La);Ia=(1-Zb(Ia*La))/12;0>Za[1]&&(Za[0]*=1+Ia);0<Za[1]&&(Za[1]*=1+Ia/1.5*Za[0]*Za[0]);return Za}var ua=n(1.68,2);ta.invert=C(ta);return ta}function K(ta,ua){ta*=Aa(ua);var Ia=30,La;do ua-=La=(ua+Aa(ua)-ta)/(1+Zb(ua));while(1E-6<xc(La)&&0<--Ia);return ua/2}function E(ta,
ua,Ia){function La(Za,bb){return[ta*Za*Zb(bb=K(Ia,bb)),ua*Aa(bb)]}La.invert=function(Za,bb){return bb=G(bb/ua),[Za/(ta*Zb(bb)),G((2*bb+Aa(2*bb))/Ia)]};return La}function x(ta,ua){var Ia=K(fb,ua);return[2.00276*ta/(1/Zb(ua)+1.11072/Zb(Ia)),(ua+Ec*Aa(Ia))/2.00276]}function D(ta){var ua=0,Ia=l.geoProjectionMutator(ta);ta=Ia(ua);ta.parallel=function(La){return arguments.length?Ia(ua=La*fd):ua*ed};return ta}function H(ta,ua){return[ta*Zb(ua),ua]}function S(ta){function ua(La,Za){var bb=Ia+ta-Za;La=bb?
La*Zb(Za)/bb:bb;return[bb*Aa(La),Ia-bb*Zb(La)]}if(!ta)return H;var Ia=1/Xa(ta);ua.invert=function(La,Za){var bb=v(La*La+(Za=Ia-Za)*Za),nb=Ia+ta-bb;return[bb/Zb(nb)*ge(La,Za),nb]};return ua}function U(ta){function ua(Ia,La){Ia=(La=mb-La)?Ia*ta*Aa(La)/La:La;return[La*Aa(Ia)/ta,mb-La*Zb(Ia)]}ua.invert=function(Ia,La){Ia*=ta;var Za=mb-La;La=v(Ia*Ia+Za*Za);Ia=ge(Ia,Za);return[(La?La/Aa(La):1)*Ia/ta,mb-La]};return ua}function ia(ta,ua,Ia,La,Za,bb){var nb=Zb(bb);if(1<xc(ta)||1<xc(bb))ta=L(Ia*Za+ua*La*nb);
else{ta=Aa(ta/2);var zb=Aa(bb/2);ta=2*G(v(ta*ta+ua*La*zb*zb))}return 1E-6<xc(ta)?[ta,ge(La*Aa(bb),ua*Za-Ia*La*nb)]:[0,0]}function fa(ta,ua,Ia){return L((ta*ta+ua*ua-Ia*Ia)/(2*ta*ua))}function ja(ta,ua,Ia){var La=[[ta[0],ta[1],Aa(ta[1]),Zb(ta[1])],[ua[0],ua[1],Aa(ua[1]),Zb(ua[1])],[Ia[0],Ia[1],Aa(Ia[1]),Zb(Ia[1])]];ta=La[2];for(Ia=0;3>Ia;++Ia,ta=ua)ua=La[Ia],ta.v=ia(ua[1]-ta[1],ta[3],ta[2],ua[3],ua[2],ua[0]-ta[0]),ta.point=[0,0];ta=fa(La[0].v[0],La[2].v[0],La[1].v[0]);var Za=fa(La[0].v[0],La[1].v[0],
La[2].v[0]),bb=fb-ta;La[2].point[1]=0;La[0].point[0]=-(La[1].point[0]=La[0].v[0]/2);var nb=[La[2].point[0]=La[0].point[0]+La[2].v[0]*Zb(ta),2*(La[0].point[1]=La[1].point[1]=La[2].v[0]*Aa(ta))];return function(zb,wb){var Bb=Aa(wb),Hb=Zb(wb),Tb=Array(3),mc;for(mc=0;3>mc;++mc){var X=La[mc];Tb[mc]=ia(wb-X[1],X[3],X[2],Hb,Bb,zb-X[0]);if(!Tb[mc][0])return X.point;var na=Tb[mc];X=Tb[mc][1]-X.v[1];X-=2*fb*he((X+fb)/(2*fb));na[1]=X}zb=nb.slice();for(mc=0;3>mc;++mc)wb=fa(La[mc].v[0],Tb[mc][0],Tb[2==mc?0:mc+
1][0]),0>Tb[mc][1]&&(wb=-wb),mc?1==mc?(wb=Za-wb,zb[0]-=Tb[mc][0]*Zb(wb),zb[1]-=Tb[mc][0]*Aa(wb)):(wb=bb-wb,zb[0]+=Tb[mc][0]*Zb(wb),zb[1]+=Tb[mc][0]*Aa(wb)):(zb[0]+=Tb[mc][0]*Zb(wb),zb[1]-=Tb[mc][0]*Aa(wb));zb[0]/=3;zb[1]/=3;return zb}}function la(ta){return ta[0]*=fd,ta[1]*=fd,ta}function da(ta,ua,Ia){var La=l.geoCentroid({type:"MultiPoint",coordinates:[ta,ua,Ia]});La=[-La[0],-La[1]];var Za=l.geoRotation(La);ta=ja(la(Za(ta)),la(Za(ua)),la(Za(Ia)));ta.invert=C(ta);ta=l.geoProjection(ta).rotate(La);
var bb=ta.center;delete ta.rotate;ta.center=function(nb){return arguments.length?bb(Za(nb)):Za.invert(bb())};return ta.clipAngle(90)}function O(ta,ua){ua=v(1-Aa(ua));return[2/tc*ta*ua,tc*(1-ua)]}function B(ta){function ua(La,Za){return[La,(La?La/Aa(La):1)*(Aa(Za)*Zb(La)-Ia*Zb(Za))]}var Ia=Xa(ta);ua.invert=Ia?function(La,Za){La&&(Za*=Aa(La)/La);var bb=Zb(La);return[La,2*ge(v(bb*bb+Ia*Ia-Za*Za)-bb,Ia-Za)]}:function(La,Za){return[La,G(La?Za*Xa(La)/La:Za)]};return ua}function Y(ta,ua){return[Md*ta*(2*
Zb(2*ua/3)-1)/tc,Md*tc*Aa(ua/3)]}function ka(ta){function ua(La,Za){return[La*Ia,Aa(Za)/Ia]}var Ia=Zb(ta);ua.invert=function(La,Za){return[La/Ia,G(Za*Ia)]};return ua}function Z(ta){function ua(La,Za){return[La*Ia,(1+Ia)*Xa(Za/2)]}var Ia=Zb(ta);ua.invert=function(La,Za){return[La/Ia,2*Fe(Za/(1+Ia))]};return ua}function wa(ta,ua){var Ia=v(8/(3*fb));return[Ia*ta*(1-xc(ua)/fb),Ia*ua]}function xa(ta,ua){var Ia=v(4-3*Aa(xc(ua)));return[2/v(6*fb)*ta*Ia,sa(ua)*v(2*fb/3)*(2-Ia)]}function Da(ta,ua){var Ia=
v(fb*(4+fb));return[2/Ia*ta*(1+v(1-4*ua*ua/(fb*fb))),4/Ia*ua]}function Wa(ta,ua){var Ia=(2+mb)*Aa(ua);ua/=2;for(var La=0,Za=Infinity;10>La&&1E-6<xc(Za);La++)Za=Zb(ua),ua-=Za=(ua+Aa(ua)*(Za+2)-Ia)/(2*Za*(1+Za));return[2/v(fb*(4+fb))*ta*(1+Zb(ua)),2*v(fb/(4+fb))*Aa(ua)]}function gb(ta,ua){return[ta*(1+Zb(ua))/v(2+fb),2*ua/v(2+fb)]}function ra(ta,ua){for(var Ia=(1+mb)*Aa(ua),La=0,Za=Infinity;10>La&&1E-6<xc(Za);La++)ua-=Za=(ua+Aa(ua)-Ia)/(1+Zb(ua));Ia=v(2+fb);return[ta*(1+Zb(ua))/Ia,2*ua/Ia]}function Na(ta,
ua){var Ia=Aa(ta/=2);ta=Zb(ta);var La=v(Zb(ua)),Za=Zb(ua/=2);ua=Aa(ua)/(Za+Ec*ta*La);var bb=v(2/(1+ua*ua));Ia=v((Ec*Za+(ta+Ia)*La)/(Ec*Za+(ta-Ia)*La));return[Id*(bb*(Ia-1/Ia)-2*Pe(Ia)),Id*(bb*ua*(Ia+1/Ia)-2*Fe(ua))]}function Ta(ta,ua){ua=Xa(ua/2);return[ta*Ue*v(1-ua*ua),(1+Ue)*ua]}function za(ta,ua){var Ia=ua/2,La=Zb(Ia);return[2*ta/tc*Zb(ua)*La*La,tc*Xa(Ia)]}function pa(ta){function ua(wb,Bb){var Hb=Zb(Bb),Tb=Aa(Bb);return[Hb/(Za+ta*Hb)*wb,Za*Bb+ta*Tb]}function Ia(wb,Bb){wb=ua(wb,Bb);return[wb[0]*
zb,wb[1]/zb]}function La(wb){return Ia(0,wb)[1]}var Za=1-ta,bb=ua(fb,0)[0]-ua(-fb,0)[0],nb=ua(0,mb)[1]-ua(0,-mb)[1],zb=v(2*nb/bb);Ia.invert=function(wb,Bb){Bb=A(La,Bb);return[wb/zb*(ta+Za/Zb(Bb)),Bb]};return Ia}function T(ta){return[2*ta[0],2*Fe(Aa(ta[1]*fd))*ed]}function W(ta,ua){function Ia(bb,nb){bb=l.geoAzimuthalEquidistantRaw(bb,nb);nb=bb[0];var zb=bb[1],wb=nb*nb+zb*zb;if(wb>Za){var Bb=v(wb);nb=ge(zb,nb);wb=La*Te(nb/La);zb=nb-wb;var Hb=ta*Zb(zb),Tb=(ta*Aa(zb)-zb*Aa(Hb))/(mb-Hb),mc=M(zb,Tb),X=
(fb-ta)/P(mc,Hb,fb);nb=Bb;var na=50,Ja;do nb-=Ja=(ta+P(mc,Hb,nb)*X-Bb)/(mc(nb)*X);while(1E-6<xc(Ja)&&0<--na);zb*=Aa(nb);nb<mb&&(zb-=Tb*(nb-mb));Bb=Aa(wb);wb=Zb(wb);bb[0]=nb*wb-zb*Bb;bb[1]=nb*Bb+zb*wb}return bb}var La=2*fb/ua,Za=ta*ta;Ia.invert=function(bb,nb){var zb=bb*bb+nb*nb;if(zb>Za){var wb=v(zb);nb=ge(nb,bb);zb=La*Te(nb/La);nb-=zb;bb=wb*Zb(nb);nb=wb*Aa(nb);wb=bb-mb;for(var Bb=Aa(bb),Hb=nb/Bb,Tb=bb<mb?Infinity:0,mc=10;;){var X=ta*Aa(Hb),na=ta*Zb(Hb),Ja=Aa(na),Oa=mb-na,tb=(X-Hb*Ja)/Oa,Lb=M(Hb,
tb);if(1E-12>xc(Tb)||!--mc)break;Hb-=Tb=(Hb*Bb-tb*wb-nb)/(Bb-2*wb*(Oa*(na+Hb*X*Zb(na)-Ja)-X*(X-Hb*Ja))/(Oa*Oa))}wb=ta+P(Lb,na,bb)*(fb-ta)/P(Lb,na,fb);nb=zb+Hb;bb=wb*Zb(nb);nb=wb*Aa(nb)}return l.geoAzimuthalEquidistantRaw.invert(bb,nb)};return Ia}function M(ta,ua){return function(Ia){var La=ta*Zb(Ia);Ia<mb&&(La-=ua);return v(1+La*La)}}function P(ta,ua,Ia){var La=(Ia-ua)/50;Ia=ta(ua)+ta(Ia);for(var Za=1;50>Za;++Za)Ia+=2*ta(ua+=La);return.5*Ia*La}function ca(ta,ua,Ia,La,Za,bb,nb,zb){function wb(Bb,Hb){if(!Hb)return[ta*
Bb/fb,0];var Tb=Hb*Hb,mc=ta+Tb*(ua+Tb*(Ia+Tb*La)),X=Hb*(Za-1+Tb*(bb-zb+Tb*nb));X=(mc*mc+X*X)/(2*X);Bb=Bb*G(mc/X)/fb;return[X*Aa(Bb),Hb*(1+Tb*zb)+X*(1-Zb(Bb))]}8>arguments.length&&(zb=0);wb.invert=function(Bb,Hb){var Tb=fb*Bb/ta,mc=Hb,X=50;do{var na=mc*mc,Ja=ta+na*(ua+na*(Ia+na*La)),Oa=mc*(Za-1+na*(bb-zb+na*nb)),tb=Ja*Ja+Oa*Oa,Lb=2*Oa;var Qb=tb/Lb;var gc=Qb*Qb;var uc=G(Ja/Qb)/fb;var Qc=Tb*uc,Lc=Ja*Ja,td=(2*ua+na*(4*Ia+6*na*La))*mc,Ld=Za+na*(3*bb+5*na*nb);Oa=(2*(Ja*td+Oa*(Ld-1))*Lb-2*tb*(Ld-1))/(Lb*
Lb);tb=Zb(Qc);Ld=Aa(Qc);Lb=Qb*tb;Qc=Qb*Ld;gc=Tb/fb*(1/v(1-Lc/gc))*(td*Qb-Ja*Oa)/gc;Ja=Qc-Bb;na=mc*(1+na*zb)+Qb-Lb-Hb;Qb=Oa*Ld+Lb*gc;Lc=Lb*uc;Oa=1+Oa-(Oa*tb-Qc*gc);uc*=Qc;tb=Qb*uc-Oa*Lc;if(!tb)break;Tb-=Qb=(na*Qb-Ja*Oa)/tb;mc-=uc=(Ja*uc-na*Lc)/tb}while((1E-6<xc(Qb)||1E-6<xc(uc))&&0<--X);return[Tb,mc]};return wb}function ea(ta,ua){var Ia=ta*ta,La=ua*ua;return[ta*(1-.162388*La)*(.87-9.52426E-4*Ia*Ia),ua*(1+La/12)]}function oa(ta){function ua(La,Za){var bb=0<La?-.5:.5;La=ta(La+bb*fb,Za);La[0]-=bb*Ia;
return La}var Ia=ta(mb,0)[0]-ta(-mb,0)[0];ta.invert&&(ua.invert=function(La,Za){var bb=0<La?-.5:.5;La=ta.invert(La+bb*Ia,Za);bb=La[0]-bb*fb;bb<-fb?bb+=2*fb:bb>fb&&(bb-=2*fb);La[0]=bb;return La});return ua}function ba(ta,ua){var Ia=sa(ta),La=sa(ua),Za=Zb(ua),bb=Zb(ta)*Za;ta=Aa(ta)*Za;ua=Aa(La*ua);ta=xc(ge(ta,ua));ua=G(bb);1E-6<xc(ta-mb)&&(ta%=mb);bb=Fa(ta>fb/4?mb-ta:ta,ua);ta>fb/4&&(ua=bb[0],bb[0]=-bb[1],bb[1]=-ua);return bb[0]*=Ia,bb[1]*=-La,bb}function Fa(ta,ua){if(ua===mb)return[0,0];var Ia=Aa(ua),
La=Ia*Ia,Za=La*La,bb=1+Za,nb=1+3*Za,zb=1-Za,wb=G(1/v(bb)),Bb=zb+La*bb*wb,Hb=(1-Ia)/Bb,Tb=v(Hb),mc=Hb*bb,X=v(mc),na=Tb*zb;if(0===ta)return[0,-(na+La*X)];var Ja=Zb(ua),Oa=1/Ja,tb=2*Ia*Ja;wb=(-Bb*Ja-(1-Ia)*(-3*La+wb*nb)*tb)/(Bb*Bb);Ia=-Oa*tb;bb=-Oa*(La*bb*wb+Hb*nb*tb);zb=-2*Oa*(.5*wb/Tb*zb-2*La*Tb*tb);Tb=4*ta/fb;if(ta>.222*fb||ua<fb/4&&ta>.175*fb){ua=(na+La*v(mc*(1+Za)-na*na))/(1+Za);if(ta>fb/4)return[ua,ua];Za=ua;Oa=.5*ua;ua=.5*(Oa+Za);ta=50;do{tb=v(mc-ua*ua);tb=ua*(zb+Ia*tb)+bb*G(ua/X)-Tb;if(!tb)break;
0>tb?Oa=ua:Za=ua;ua=.5*(Oa+Za)}while(1E-6<xc(Za-Oa)&&0<--ta)}else{ua=1E-6;ta=25;do tb=ua*ua,Za=v(mc-tb),nb=zb+Ia*Za,Oa=ua*nb+bb*G(ua/X)-Tb,tb=nb+(bb-Ia*tb)/Za,ua-=Za=Za?Oa/tb:0;while(1E-6<xc(Za)&&0<--ta)}return[ua,-na-La*v(mc-ua*ua)]}function Ra(ta,ua){if(1E-6>ua){var Ia=Aa(ta);var La=Zb(ta);var Za=ua*(ta-Ia*La)/4;return[Ia-Za*La,La+Za*Ia,1-ua*Ia*Ia/2,ta-Za]}if(.999999<=ua){Za=(1-ua)/4;La=t(ta);Ia=Je(2*ta);Ia=(Ia-1)/(Ia+1);ua=1/La;var bb=La*u(ta);return[Ia+Za*(bb-ta)/(La*La),ua-Za*Ia*ua*(bb-ta),ua+
Za*Ia*ua*(bb+ta),2*Fe(Je(ta))-mb+Za*(bb-ta)/La]}var nb=[1,0,0,0,0,0,0,0,0],zb=[v(ua),0,0,0,0,0,0,0,0],wb=0;La=v(1-ua);for(bb=1;1E-6<xc(zb[wb]/nb[wb])&&8>wb;)Za=nb[wb++],zb[wb]=(Za-La)/2,nb[wb]=(Za+La)/2,La=v(Za*La),bb*=2;ua=bb*nb[wb]*ta;do Ia=zb[wb]*Aa(La=ua)/nb[wb],ua=(G(Ia)+ua)/2;while(--wb);return[Aa(ua),Ia=Zb(ua),Ia/Zb(ua-La),ua]}function Ma(ta,ua){if(!ua)return ta;if(1===ua)return Pe(Xa(ta/2+Wb));var Ia=1,La=v(1-ua),Za=v(ua);for(ua=0;1E-6<xc(Za);ua++)ta%fb?(Za=Fe(La*Xa(ta)/Ia),0>Za&&(Za+=fb),
ta+=Za+~~(ta/fb)*fb):ta+=ta,Za=(Ia+La)/2,La=v(Ia*La),Za=((Ia=Za)-La)/2;return ta/(vf(2,ua)*Ia)}function db(ta,ua){var Ia=(Ec-1)/(Ec+1),La=v(1-Ia*Ia),Za=Ma(mb,La*La),bb=Pe(Xa(fb/4+xc(ua)/2));bb=Je(-1*bb)/v(Ia);Ia=bb*Zb(-1*ta);var nb=bb*Aa(-1*ta);ta=Ia*Ia;bb=nb+1;nb=1-ta-nb*nb;ta=[.5*((0<=Ia?mb:-mb)-ge(nb,2*Ia)),-.25*Pe(nb*nb+4*ta)+.5*Pe(bb*bb+ta)];Ia=ta[0];ta=ta[1];La*=La;bb=xc(Ia);nb=xc(ta);nb=u(nb);if(bb){var zb=1/Aa(bb);bb=1/(Xa(bb)*Xa(bb));nb=-(bb+La*nb*nb*zb*zb-1+La);nb=(-nb+v(nb*nb-4*(La-1)*
bb))/2;La=[Ma(Fe(1/v(nb)),La)*sa(Ia),Ma(Fe(v((nb/bb-1)/La)),1-La)*sa(ta)]}else La=[0,Ma(Fe(nb),1-La)*sa(ta)];return[-La[1],(0<=ua?1:-1)*(.5*Za-La[0])]}function ab(ta){function ua(bb,nb){var zb=Za(bb,nb);bb=zb[0];nb=zb[1];zb=Aa(nb);nb=Zb(nb);var wb=Zb(bb),Bb=L(Ia*zb+La*nb*wb),Hb=Aa(Bb);Bb=1E-6<xc(Hb)?Bb/Hb:1;return[Bb*La*Aa(bb),(xc(bb)>mb?Bb:-Bb)*(Ia*nb-La*zb*wb)]}var Ia=Aa(ta),La=Zb(ta),Za=Ba(ta);Za.invert=Ba(-ta);ua.invert=function(bb,nb){var zb=v(bb*bb+nb*nb),wb=-Aa(zb),Bb=Zb(zb),Hb=zb*Bb,Tb=-nb*
wb,mc=zb*Ia,X=v(Hb*Hb+Tb*Tb-mc*mc);Hb=ge(Hb*mc+Tb*X,Tb*mc-Hb*X);bb=(zb>mb?-1:1)*ge(bb*wb,zb*Zb(Hb)*Bb+nb*Aa(Hb)*wb);return Za.invert(bb,Hb)};return ua}function Ba(ta){var ua=Aa(ta),Ia=Zb(ta);return function(La,Za){var bb=Zb(Za),nb=Zb(La)*bb;La=Aa(La)*bb;Za=Aa(Za);return[ge(La,nb*Ia-Za*ua),G(Za*Ia+nb*ua)]}}function Sa(ta){function ua(Hb,Tb){var mc=xc(Tb);if(mc>Ia){var X=Ze(ta-1,cf(0,he((Hb+fb)/zb)));Hb+=fb*(ta-1)/ta-X*zb;Hb=O(Hb,mc);Hb[0]=Hb[0]*Fc/La-Fc*(ta-1)/(2*ta)+X*Fc/ta;Hb[1]=Za+4*(Hb[1]-bb)*
nb/Fc;0>Tb&&(Hb[1]=-Hb[1])}else Hb=Ef(Hb,Tb);Hb[0]*=wb;Hb[1]/=Bb;return Hb}var Ia=Ee*fd,La=O(fb,Ia)[0]-O(-fb,Ia)[0],Za=Ef(0,Ia)[1],bb=O(0,Ia)[1],nb=tc-bb,zb=Fc/ta,wb=4/Fc,Bb=Za+nb*nb*4/Fc;ua.invert=function(Hb,Tb){Hb/=wb;Tb*=Bb;var mc=xc(Tb);if(mc>Za){var X=Ze(ta-1,cf(0,he((Hb+fb)/zb)));Hb=(Hb+fb*(ta-1)/ta-X*zb)*La/Fc;Hb=O.invert(Hb,.25*(mc-Za)*Fc/nb+bb);Hb[0]-=fb*(ta-1)/ta-X*zb;0>Tb&&(Hb[1]=-Hb[1]);return Hb}return Ef.invert(Hb,Tb)};return ua}function lb(ta,ua){return[ta,ua&1?89.999999:Ee]}function ub(ta,
ua){return[ta,ua&1?-89.999999:-Ee]}function Jb(ta){return[.999999*ta[0],ta[1]]}function bc(ta){var ua=[].concat(w.range(-180,180+ta/2,ta).map(lb),w.range(180,-180-ta/2,-ta).map(ub));return{type:"Polygon",coordinates:[180===ta?ua.map(Jb):ua]}}function wc(ta){function ua(Hb,Tb){var mc=1-Aa(Tb);if(mc&&2>mc){var X=mb-Tb,na=25;do{var Ja=Aa(X);var Oa=Zb(X);Tb=Za+ge(Ja,Ia-Oa);Oa=1+Bb-2*Ia*Oa;X-=Ja=(X-wb*Za-Ia*Ja+Oa*Tb-.5*mc*nb)/(2*Ia*Ja*Tb)}while(1E-12<xc(Ja)&&0<--na);mc=bb*v(Oa);Hb=Hb*Tb/fb}else mc=bb*
(ta+mc),Hb=Hb*Za/fb;return[mc*Aa(Hb),zb-mc*Zb(Hb)]}var Ia=1+ta,La=Aa(1/Ia),Za=G(La),bb=2*v(fb/(nb=fb+4*Za*Ia)),nb,zb=.5*bb*(Ia+v(ta*(2+ta))),wb=ta*ta,Bb=Ia*Ia;ua.invert=function(Hb,Tb){var mc=Hb*Hb+(Tb-=zb)*Tb;Tb=(1+Bb-mc/(bb*bb))/(2*Ia);var X=L(Tb),na=Aa(X),Ja=Za+ge(na,Ia-Tb);return[G(Hb/v(mc))*fb/Ja,G(1-2*(X-wb*Za-Ia*na+(1+Bb-2*Ia*Tb)*Ja)/nb)]};return ua}function $c(ta,ua){return-.7109889596207567<ua?(ta=sd(ta,ua),ta[1]+=.0528035274542,ta):H(ta,ua)}function kc(ta,ua){return.7109889596207567<xc(ua)?
(ta=sd(ta,ua),ta[1]-=0<ua?.0528035274542:-.0528035274542,ta):H(ta,ua)}function vc(ta,ua,Ia,La){function Za(Tb){return v(1+ta*Zb(2*Tb)+ua*Zb(4*Tb))}function bb(Tb){Tb*=Ia;return(2*Tb+(1+ta-ua/2)*Aa(2*Tb)+(ta+ua)/2*Aa(4*Tb)+ua/2*Aa(6*Tb))/Ia}function nb(Tb){return Za(Tb)*Aa(Tb)}var zb=v(4*fb/(2*Ia+(1+ta-ua/2)*Aa(2*Ia)+(ta+ua)/2*Aa(4*Ia)+ua/2*Aa(6*Ia))),wb=v(La*Aa(Ia)*v((1+ta*Zb(2*Ia)+ua*Zb(4*Ia))/(1+ta+ua))),Bb=Ia*bb(1),Hb=function(Tb,mc){var X=Ia*A(bb,Bb*Aa(mc)/Ia,mc/fb);isNaN(X)&&(X=Ia*sa(mc));mc=
zb*Za(X);return[mc*wb*Tb/fb*Zb(X),mc/wb*Aa(X)]};Hb.invert=function(Tb,mc){mc=A(nb,mc*wb/zb);return[Tb*fb/(Zb(mc)*zb*wb*Za(mc)),G(Ia*bb(mc/Ia)/Bb)]};0===Ia&&(zb=v(La/fb),Hb=function(Tb,mc){return[Tb*zb,Aa(mc)/zb]},Hb.invert=function(Tb,mc){return[Tb/zb,G(mc*zb)]});return Hb}function jb(ta,ua,Ia,La,Za,bb,nb,zb,wb,Bb,Hb){if(Hb.nanEncountered)return NaN;var Tb=Ia-ua;var mc=ta(ua+.25*Tb);var X=ta(Ia-.25*Tb);if(isNaN(mc))Hb.nanEncountered=!0;else if(isNaN(X))Hb.nanEncountered=!0;else{var na=Tb*(La+4*mc+
Za)/12;var Ja=Tb*(Za+4*X+bb)/12;var Oa=na+Ja;nb=(Oa-nb)/15;if(Bb>wb)return Hb.maxDepthCount++,Oa+nb;if(Math.abs(nb)<zb)return Oa+nb;Tb=ua+.5*Tb;ua=jb(ta,ua,Tb,La,mc,Za,na,.5*zb,wb,Bb+1,Hb);if(isNaN(ua))return Hb.nanEncountered=!0,NaN;ta=jb(ta,Tb,Ia,Za,X,bb,Ja,.5*zb,wb,Bb+1,Hb);return isNaN(ta)?(Hb.nanEncountered=!0,NaN):ua+ta}}function fc(ta,ua,Ia,La,Za){void 0===La&&(La=1E-8);void 0===Za&&(Za=20);var bb=ta(ua),nb=ta(.5*(ua+Ia)),zb=ta(Ia);return jb(ta,ua,Ia,bb,nb,zb,(bb+4*nb+zb)*(Ia-ua)/6,La,Za,1,
{maxDepthCount:0,nanEncountered:!1})}function dc(ta,ua,Ia){function La(Hb){return ta+(1-ta)*vf(1-vf(Hb,ua),1/ua)}function Za(Hb){var Tb=0,mc=1E3,X=500;do zb[X]>Hb?mc=X:Tb=X,X=Tb+mc>>1;while(X>Tb);(Tb=zb[X+1]-zb[X])&&(Tb=(Hb-zb[X+1])/Tb);return(X+1+Tb)/1E3}for(var bb=1/fc(La,0,1,1E-4),nb=1.00000001*bb,zb=[],wb=0;1E3>=wb;wb++)zb.push(fc(La,0,wb/1E3,1E-4)*nb);var Bb=2*Za(1)/fb*bb/Ia;Ia=function(Hb,Tb){var mc=Za(xc(Aa(Tb)));Hb*=La(mc);mc/=Bb;return[Hb,0<=Tb?mc:-mc]};Ia.invert=function(Hb,Tb){var mc;Tb*=
Bb;1>xc(Tb)&&(mc=sa(Tb)*G(fc(La,0,xc(Tb),1E-4)*bb));return[Hb/La(xc(Tb)),mc]};return Ia}function hc(ta,ua){for(var Ia=-1,La=ta.length,Za=ta[0],bb,nb,zb,wb=[];++Ia<La;){bb=ta[Ia];nb=(bb[0]-Za[0])/ua;zb=(bb[1]-Za[1])/ua;for(var Bb=0;Bb<ua;++Bb)wb.push([Za[0]+Bb*nb,Za[1]+Bb*zb]);Za=bb}wb.push(bb);return wb}function Ac(ta){var ua=[],Ia,La=ta[0].length;for(Ia=0;Ia<La;++Ia){var Za=ta[0][Ia];var bb=Za[0][0];var nb=Za[0][1];var zb=Za[1][1];var wb=Za[2][0];Za=Za[2][1];ua.push(hc([[bb+1E-6,nb+1E-6],[bb+1E-6,
zb-1E-6],[wb-1E-6,zb-1E-6],[wb-1E-6,Za+1E-6]],30))}for(Ia=ta[1].length-1;0<=Ia;--Ia)Za=ta[1][Ia],bb=Za[0][0],nb=Za[0][1],zb=Za[1][1],wb=Za[2][0],Za=Za[2][1],ua.push(hc([[wb-1E-6,Za-1E-6],[wb-1E-6,zb+1E-6],[bb+1E-6,zb+1E-6],[bb+1E-6,nb-1E-6]],30));return{type:"Polygon",coordinates:[w.merge(ua)]}}function ac(ta,ua,Ia){function La(wb,Bb){for(var Hb=0>Bb?-1:1,Tb=ua[+(0>Bb)],mc=0,X=Tb.length-1;mc<X&&wb>Tb[mc][2][0];++mc);wb=ta(wb-Tb[mc][1][0],Bb);wb[0]+=ta(Tb[mc][1][0],Hb*Bb>Hb*Tb[mc][0][1]?Tb[mc][0][1]:
Bb)[0];return wb}var Za,bb;Ia?La.invert=Ia(La):ta.invert&&(La.invert=function(wb,Bb){for(var Hb=bb[+(0>Bb)],Tb=ua[+(0>Bb)],mc=0,X=Hb.length;mc<X;++mc){var na=Hb[mc];if(na[0][0]<=wb&&wb<na[1][0]&&na[0][1]<=Bb&&Bb<na[1][1])return Hb=ta.invert(wb-ta(Tb[mc][1][0],0)[0],Bb),Hb[0]+=Tb[mc][1][0],Tb=La(Hb[0],Hb[1]),wb=[wb,Bb],1E-6>xc(Tb[0]-wb[0])&&1E-6>xc(Tb[1]-wb[1])?Hb:null}});var nb=l.geoProjection(La),zb=nb.stream;nb.stream=function(wb){var Bb=nb.rotate(),Hb=zb(wb),Tb=(nb.rotate([0,0]),zb(wb));nb.rotate(Bb);
Hb.sphere=function(){l.geoStream(Za,Tb)};return Hb};nb.lobes=function(wb){if(!arguments.length)return ua.map(function(Bb){return Bb.map(function(Hb){return[[Hb[0][0]*ed,Hb[0][1]*ed],[Hb[1][0]*ed,Hb[1][1]*ed],[Hb[2][0]*ed,Hb[2][1]*ed]]})});Za=Ac(wb);ua=wb.map(function(Bb){return Bb.map(function(Hb){return[[Hb[0][0]*fd,Hb[0][1]*fd],[Hb[1][0]*fd,Hb[1][1]*fd],[Hb[2][0]*fd,Hb[2][1]*fd]]})});bb=ua.map(function(Bb){return Bb.map(function(Hb){var Tb=ta(Hb[0][0],Hb[0][1])[0],mc=ta(Hb[2][0],Hb[2][1])[0],X=
ta(Hb[1][0],Hb[0][1])[1];Hb=ta(Hb[1][0],Hb[1][1])[1];if(X>Hb){var na=X;X=Hb;Hb=na}return[[Tb,X],[mc,Hb]]})});return nb};null!=ua&&nb.lobes(ua);return nb}function Oc(ta,ua){return[3/Fc*ta*v(fb*fb/3-ua*ua),ua]}function Sc(ta){function ua(Ia,La){if(1E-6>xc(xc(La)-mb))return[0,0>La?-2:2];La=Aa(La);La=vf((1+La)/(1-La),ta/2);var Za=.5*(La+1/La)+Zb(Ia*=ta);return[2*Aa(Ia)/Za,(La-1/La)/Za]}ua.invert=function(Ia,La){var Za=xc(La);if(1E-6>xc(Za-2))return Ia?null:[0,sa(La)*mb];if(2<Za)return null;Ia/=2;La/=
2;Za=Ia*Ia;var bb=La*La;La=2*La/(1+Za+bb);La=vf((1+La)/(1-La),1/ta);return[ge(2*Ia,1-Za-bb)/ta,G((La-1)/(La+1))]};return ua}function Bc(ta,ua){return[ta*(1+v(Zb(ua)))/2,ua/(Zb(ua/2)*Zb(ta/6))]}function pd(ta,ua){var Ia=ta*ta,La=ua*ua;return[ta*(.975534+La*(-.119161+-.0143059*Ia+-.0547009*La)),ua*(1.00384+Ia*(.0802894+-.02855*La+1.99025E-4*Ia)+La*(.0998909+-.0491032*La))]}function Rd(ta,ua){return[Aa(ta)/Zb(ua),Xa(ua)*Zb(ta)]}function hd(ta){function ua(Za,bb){var nb=bb-ta,zb=1E-6>xc(nb)?Za*Ia:1E-6>
xc(zb=Wb+bb/2)||1E-6>xc(xc(zb)-mb)?0:Za*nb/Pe(Xa(zb)/La);return[zb,nb]}var Ia=Zb(ta),La=Xa(Wb+ta/2);ua.invert=function(Za,bb){var nb,zb=bb+ta;return[1E-6>xc(bb)?Za/Ia:1E-6>xc(nb=Wb+zb/2)||1E-6>xc(xc(nb)-mb)?0:Za*Pe(Xa(nb)/La)/bb,zb]};return ua}function cd(ta,ua){return[ta,1.25*Pe(Xa(Wb+.4*ua))]}function Dd(ta){function ua(La,Za){var bb=Zb(Za),nb=2/(1+bb*Zb(La));La=nb*bb*Aa(La);Za=nb*Aa(Za);nb=Ia;bb=ta[nb];for(var zb=bb[0],wb=bb[1],Bb;0<=--nb;)bb=ta[nb],zb=bb[0]+La*(Bb=zb)-Za*wb,wb=bb[1]+La*wb+Za*
Bb;zb=La*(Bb=zb)-Za*wb;return[zb,La*wb+Za*Bb]}var Ia=ta.length-1;ua.invert=function(La,Za){var bb=20,nb=La,zb=Za;do{for(var wb=Ia,Bb=ta[wb],Hb=Bb[0],Tb=Bb[1],mc=0,X=0,na;0<=--wb;)Bb=ta[wb],mc=Hb+nb*(na=mc)-zb*X,X=Tb+nb*X+zb*na,Hb=Bb[0]+nb*(na=Hb)-zb*Tb,Tb=Bb[1]+nb*Tb+zb*na;mc=Hb+nb*(na=mc)-zb*X;X=Tb+nb*X+zb*na;Hb=nb*(na=Hb)-zb*Tb-La;Tb=nb*Tb+zb*na-Za;Bb=mc*mc+X*X;nb-=wb=(Hb*mc+Tb*X)/Bb;zb-=Hb=(Tb*mc-Hb*X)/Bb}while(1E-12<xc(wb)+xc(Hb)&&0<--bb);if(bb)return La=v(nb*nb+zb*zb),Za=2*Fe(.5*La),bb=Aa(Za),
[ge(nb*bb,La*Zb(Za)),La?G(zb*bb/La):0]};return ua}function cb(ta,ua){ta=l.geoProjection(Dd(ta)).rotate(ua).clipAngle(90);var Ia=l.geoRotation(ua),La=ta.center;delete ta.rotate;ta.center=function(Za){return arguments.length?La(Ia(Za)):Ia.invert(La())};return ta}function yb(ta,ua){ua=G(7*Aa(ua)/(3*bd));return[bd*ta*(2*Zb(2*ua/3)-1)/od,9*Aa(ua/3)/od]}function Sb(ta,ua){for(var Ia=(1+jc)*Aa(ua),La=0,Za;25>La&&!(ua-=Za=(Aa(ua/2)+Aa(ua)-Ia)/(.5*Zb(ua/2)+Zb(ua)),1E-6>xc(Za));La++);return[ta*(1+2*Zb(ua)/
Zb(ua/2))/(3*Ec),2*v(3)*Aa(ua/2)/v(2+Ec)]}function ld(ta,ua){var Ia=v(6/(4+fb)),La=(1+fb/4)*Aa(ua);ua/=2;for(var Za=0,bb;25>Za&&!(ua-=bb=(ua/2+Aa(ua)-La)/(.5+Zb(ua)),1E-6>xc(bb));Za++);return[Ia*(.5+Zb(ua))*ta/1.5,Ia*ua]}function xd(ta,ua){var Ia=ua*ua,La=Ia*Ia,Za=Ia*La;return[ta*(.84719-.13063*Ia+Za*Za*(-.04515+.05494*Ia-.02326*La+.00331*Za)),ua*(1.01183+La*La*(-.02625+.01926*Ia-.00396*La))]}function Pd(ta,ua){return[ta*(1+Zb(ua))/2,2*(ua-Xa(ua/2))]}function me(ta,ua){var Ia=Aa(ua),La=Zb(ua),Za=
sa(ta);if(0===ta||xc(ua)===mb)return[0,ua];if(0===ua)return[ta,0];if(xc(ta)===mb)return[ta*La,mb*Ia];ta=fb/(2*ta)-2*ta/fb;var bb=2*ua/fb,nb=(1-bb*bb)/(Ia-bb),zb=ta*ta,wb=nb*nb;bb=1+zb/wb;var Bb=1+wb/zb,Hb=(ta*Ia/nb-ta/2)/bb,Tb=(wb*Ia/zb+nb/2)/Bb;Ia=Tb*Tb-(wb*Ia*Ia/zb+nb*Ia-1)/Bb;return[mb*(Hb+v(Hb*Hb+La*La/bb)*Za),mb*(Tb+v(0>Ia?0:Ia)*sa(-ua*ta)*Za)]}function Ha(ta,ua){var Ia=ua*ua;return[ta,ua*(1.0148+Ia*Ia*(.23185+Ia*(-.14499+.02406*Ia)))]}function Ya(ta,ua){if(1E-6>xc(ua))return[ta,0];var Ia=Xa(ua);
ta*=Aa(ua);return[Aa(ta)/Ia,ua+(1-Zb(ta))/Ia]}function pb(ta,ua){var Ia=Xb(ta[1],ta[0]),La=Xb(ua[1],ua[0]),Za=ge(Ia[0]*La[1]-Ia[1]*La[0],Ia[0]*La[0]+Ia[1]*La[1]);Ia=v(Ia[0]*Ia[0]+Ia[1]*Ia[1])/v(La[0]*La[0]+La[1]*La[1]);return Db([1,0,ta[0][0],0,1,ta[0][1]],Db([Ia,0,0,0,Ia,0],Db([Zb(Za),Aa(Za),0,-Aa(Za),Zb(Za),0],[1,0,-ua[0][0],0,1,-ua[0][1]])))}function Db(ta,ua){return[ta[0]*ua[0]+ta[1]*ua[3],ta[0]*ua[1]+ta[1]*ua[4],ta[0]*ua[2]+ta[1]*ua[5]+ta[2],ta[3]*ua[0]+ta[4]*ua[3],ta[3]*ua[1]+ta[4]*ua[4],ta[3]*
ua[2]+ta[4]*ua[5]+ta[5]]}function Xb(ta,ua){return[ta[0]-ua[0],ta[1]-ua[1]]}function Gb(ta,ua){function Ia(zb,wb){zb.edges=xb(zb.face);if(wb.face){var Bb=zb.shared=ib(zb.face,wb.face),Hb=pb(Bb.map(wb.project),Bb.map(zb.project));zb.transform=wb.transform?Db(wb.transform,Hb):Hb;Hb=wb.edges;for(var Tb=0,mc=Hb.length;Tb<mc;++Tb)ic(Bb[0],Hb[Tb][1])&&ic(Bb[1],Hb[Tb][0])&&(Hb[Tb]=zb),ic(Bb[0],Hb[Tb][0])&&ic(Bb[1],Hb[Tb][1])&&(Hb[Tb]=zb);Hb=zb.edges;Tb=0;for(mc=Hb.length;Tb<mc;++Tb)ic(Bb[0],Hb[Tb][0])&&
ic(Bb[1],Hb[Tb][1])&&(Hb[Tb]=wb),ic(Bb[0],Hb[Tb][1])&&ic(Bb[1],Hb[Tb][0])&&(Hb[Tb]=wb)}else zb.transform=wb.transform;zb.children&&zb.children.forEach(function(X){Ia(X,zb)});return zb}function La(zb,wb){var Bb=ua(zb,wb);zb=Bb.project([zb*ed,wb*ed]);if(Bb=Bb.transform)return[Bb[0]*zb[0]+Bb[1]*zb[1]+Bb[2],-(Bb[3]*zb[0]+Bb[4]*zb[1]+Bb[5])];zb[1]=-zb[1];return zb}function Za(zb,wb){var Bb=zb.project.invert,Hb=zb.transform,Tb=wb;if(Hb){var mc=1/(Hb[0]*Hb[4]-Hb[1]*Hb[3]);Hb=[mc*Hb[4],-mc*Hb[1],mc*(Hb[1]*
Hb[5]-Hb[2]*Hb[4]),-mc*Hb[3],mc*Hb[0],mc*(Hb[2]*Hb[3]-Hb[0]*Hb[5])];Tb=[Hb[0]*Tb[0]+Hb[1]*Tb[1]+Hb[2],Hb[3]*Tb[0]+Hb[4]*Tb[1]+Hb[5]]}if(Hb=Bb)Bb=X=Bb(Tb),Bb=ua(Bb[0]*fd,Bb[1]*fd),Hb=zb===Bb;if(Hb)return X;var X;zb=zb.children;Bb=0;for(Tb=zb&&zb.length;Bb<Tb;++Bb)if(X=Za(zb[Bb],wb))return X}Ia(ta,{transform:null});Nb(ta)&&(La.invert=function(zb,wb){return(zb=Za(ta,[zb,-wb]))&&(zb[0]*=fd,zb[1]*=fd,zb)});var bb=l.geoProjection(La),nb=bb.stream;bb.stream=function(zb){var wb=bb.rotate(),Bb=nb(zb),Hb=(bb.rotate([0,
0]),nb(zb));bb.rotate(wb);Bb.sphere=function(){Hb.polygonStart();Hb.lineStart();pc(Hb,ta);Hb.lineEnd();Hb.polygonEnd()};return Bb};return bb.angle(-30)}function pc(ta,ua,Ia){var La,Za=ua.edges,bb=Za.length;var nb={type:"MultiPoint",coordinates:ua.face};var zb=ua.face.filter(function(Tb){return 90!==xc(Tb[1])}),wb=l.geoBounds({type:"MultiPoint",coordinates:zb});zb=!1;var Bb=-1,Hb=wb[1][0]-wb[0][0];wb=180===Hb||360===Hb?[(wb[0][0]+wb[1][0])/2,(wb[0][1]+wb[1][1])/2]:l.geoCentroid(nb);if(Ia)for(;++Bb<
bb&&Za[Bb]!==Ia;);++Bb;for(Hb=0;Hb<bb;++Hb)nb=Za[(Hb+Bb)%bb],Array.isArray(nb)?(zb||(ta.point((La=l.geoInterpolate(nb[0],wb)(1E-6))[0],La[1]),zb=!0),ta.point((La=l.geoInterpolate(nb[1],wb)(1E-6))[0],La[1])):(zb=!1,nb!==Ia&&pc(ta,nb,ua))}function ic(ta,ua){return ta&&ua&&ta[0]===ua[0]&&ta[1]===ua[1]}function ib(ta,ua){for(var Ia,La,Za=ta.length,bb=null,nb=0;nb<Za;++nb){Ia=ta[nb];for(var zb=ua.length;0<=--zb;)if(La=ua[zb],Ia[0]===La[0]&&Ia[1]===La[1]){if(bb)return[bb,Ia];bb=Ia}}}function xb(ta){for(var ua=
ta.length,Ia=[],La=ta[ua-1],Za=0;Za<ua;++Za)Ia.push([La,La=ta[Za]]);return Ia}function Nb(ta){return ta.project.invert||ta.children&&ta.children.some(Nb)}function cc(ta,ua){ta=O(ta,ua);return[ta[0]*Hd,ta[1]]}function qc(ta,ua){for(var Ia=0,La=ta.length,Za=0;Ia<La;++Ia)Za+=ta[Ia]*ua[Ia];return Za}function oc(ta,ua){return[ta[1]*ua[2]-ta[2]*ua[1],ta[2]*ua[0]-ta[0]*ua[2],ta[0]*ua[1]-ta[1]*ua[0]]}function Kc(ta){return[ge(ta[1],ta[0])*ed,G(cf(-1,Ze(1,ta[2])))*ed]}function Ib(ta){var ua=ta[0]*fd;ta=ta[1]*
fd;var Ia=Zb(ta);return[Ia*Zb(ua),Ia*Aa(ua),Aa(ta)]}function sc(ta,ua){return{type:"FeatureCollection",features:ta.features.map(function(Ia){return zc(Ia,ua)})}}function zc(ta,ua){return{type:"Feature",id:ta.id,properties:ta.properties,geometry:Jc(ta.geometry,ua)}}function rc(ta,ua){return{type:"GeometryCollection",geometries:ta.geometries.map(function(Ia){return Jc(Ia,ua)})}}function Jc(ta,ua){if(!ta)return null;if("GeometryCollection"===ta.type)return rc(ta,ua);switch(ta.type){case "Point":var Ia=
uf;break;case "MultiPoint":Ia=uf;break;case "LineString":Ia=Xd;break;case "MultiLineString":Ia=Xd;break;case "Polygon":Ia=Se;break;case "MultiPolygon":Ia=Se;break;case "Sphere":Ia=Se;break;default:return null}l.geoStream(ta,ua(Ia));return Ia.result()}function Mc(ta){function ua(La,Za){var bb=xc(La)<mb;Za=ta(bb?La:0<La?La-fb:La+fb,Za);La=(Za[0]-Za[1])*jc;Za=(Za[0]+Za[1])*jc;if(bb)return[La,Za];bb=Ia*jc;var nb=0<La^0<Za?-1:1;return[nb*La-sa(Za)*bb,nb*Za-sa(La)*bb]}var Ia=ta(mb,0)[0]-ta(-mb,0)[0];ta.invert&&
(ua.invert=function(La,Za){var bb=(La+Za)*jc,nb=(Za-La)*jc,zb=xc(bb)<.5*Ia&&xc(nb)<.5*Ia;if(!zb){var wb=Ia*jc,Bb=0<bb^0<nb?-1:1;La=-Bb*La+(0<nb?1:-1)*wb;Za=-Bb*Za+(0<bb?1:-1)*wb;bb=(-La-Za)*jc;nb=(La-Za)*jc}Za=ta.invert(bb,nb);zb||(Za[0]+=0<bb?fb:-fb);return Za});return l.geoProjection(ua).rotate([-90,-90,45]).clipAngle(179.999)}function Nc(ta){function ua(La,Za){La=Ia?Xa(La*Ia/2)/Ia:La/2;if(!Za)return[2*La,-ta];La=2*Fe(La*Aa(Za));var bb=1/Xa(Za);return[Aa(La)*bb,Za+(1-Zb(La))*bb-ta]}var Ia=Aa(ta);
ua.invert=function(La,Za){if(1E-6>xc(Za+=ta))return[Ia?2*Fe(Ia*La/2)/Ia:La,0];var bb=La*La+Za*Za,nb=0,zb=10;do{var wb=Xa(nb);var Bb=1/Zb(nb),Hb=bb-2*Za*nb+nb*nb;nb-=wb=(wb*Hb+2*(nb-Za))/(2+Hb*Bb*Bb+2*(nb-Za)*wb)}while(1E-6<xc(wb)&&0<--zb);La*=wb=Xa(nb);Za=Xa(xc(Za)<xc(nb+1/wb)?.5*G(La):.5*L(La)+fb/4)/Aa(nb);return[Ia?2*Fe(Ia*Za)/Ia:2*Za,nb]};return ua}function md(ta,ua){var Ia=Ze(18,36*xc(ua)/fb),La=he(Ia);Ia-=La;var Za=(wb=He[La])[0],bb=wb[1],nb=(wb=He[++La])[0],zb=wb[1];La=(wb=He[Ze(19,++La)])[0];
wb=wb[1];var wb;return[ta*(nb+Ia*(La-Za)/2+Ia*Ia*(La-2*nb+Za)/2),(0<ua?mb:-mb)*(zb+Ia*(wb-bb)/2+Ia*Ia*(wb-2*zb+bb)/2)]}function wd(ta){function ua(Ia,La){var Za=Zb(La),bb=(ta-1)/(ta-Za*Zb(Ia));return[bb*Za*Aa(Ia),bb*Aa(La)]}ua.invert=function(Ia,La){var Za=Ia*Ia+La*La,bb=v(Za);Za=(ta-v(1-Za*(ta+1)/(ta-1)))/((ta-1)/bb+bb/(ta-1));return[ge(Ia*Za,bb*v(1-Za*Za)),bb?G(La*Za/bb):0]};return ua}function Cd(ta,ua){function Ia(nb,zb){nb=La(nb,zb);zb=nb[1];var wb=zb*bb/(ta-1)+Za;return[nb[0]*Za/wb,zb/wb]}var La=
wd(ta);if(!ua)return La;var Za=Zb(ua),bb=Aa(ua);Ia.invert=function(nb,zb){var wb=(ta-1)/(ta-1-zb*bb);return La.invert(wb*nb,wb*zb*Za)};return Ia}function Gd(ta){return 0<ta.length}function Sd(ta){return-90===ta||90===ta?[0,ta]:[-180,Math.floor(1E4*ta)/1E4]}function fe(ta){var ua=ta[0],Ia=ta[1],La=!1;-179.9999>=ua?(ua=-180,La=!0):179.9999<=ua&&(ua=180,La=!0);-89.9999>=Ia?(Ia=-90,La=!0):89.9999<=Ia&&(Ia=90,La=!0);return La?[ua,Ia]:ta}function ne(ta){return ta.map(fe)}function ze(ta,ua,Ia){for(var La=
0,Za=ta.length;La<Za;++La){var bb=ta[La].slice();Ia.push({index:-1,polygon:ua,ring:bb});for(var nb=0,zb=bb.length;nb<zb;++nb){var wb=bb[nb],Bb=wb[0],Hb=wb[1];if(-179.9999>=Bb||179.9999<=Bb||-89.9999>=Hb||89.9999<=Hb){bb[nb]=fe(wb);for(wb=nb+1;wb<zb;++wb){var Tb=bb[wb];Bb=Tb[0];Tb=Tb[1];if(-179.9999<Bb&&179.9999>Bb&&-89.9999<Tb&&89.9999>Tb)break}if(wb!==nb+1){nb?(nb={index:-1,polygon:ua,ring:bb.slice(0,nb+1)},nb.ring[nb.ring.length-1]=Sd(Hb),Ia[Ia.length-1]=nb):Ia.pop();if(wb>=zb)break;Ia.push({index:-1,
polygon:ua,ring:bb=bb.slice(wb-1)});bb[0]=Sd(bb[0][1]);nb=-1;zb=bb.length}}}}}function Ae(ta){var ua,Ia=ta.length,La={},Za={};for(ua=0;ua<Ia;++ua){var bb=ta[ua];var nb=bb.ring[0];var zb=bb.ring[bb.ring.length-1];nb[0]===zb[0]&&nb[1]===zb[1]?(bb.polygon.push(bb.ring),ta[ua]=null):(bb.index=ua,La[nb]=Za[zb]=bb)}for(ua=0;ua<Ia;++ua)if(bb=ta[ua]){nb=bb.ring[0];zb=bb.ring[bb.ring.length-1];var wb=Za[nb];var Bb=La[zb];delete La[nb];delete Za[zb];nb[0]===zb[0]&&nb[1]===zb[1]?bb.polygon.push(bb.ring):wb?
(delete Za[nb],delete La[wb.ring[0]],wb.ring.pop(),ta[wb.index]=null,bb={index:-1,polygon:wb.polygon,ring:wb.ring.concat(bb.ring)},wb===Bb?bb.polygon.push(bb.ring):(bb.index=Ia++,ta.push(La[bb.ring[0]]=Za[bb.ring[bb.ring.length-1]]=bb))):Bb?(delete La[zb],delete Za[Bb.ring[Bb.ring.length-1]],bb.ring.pop(),bb={index:Ia++,polygon:Bb.polygon,ring:bb.ring.concat(Bb.ring)},ta[Bb.index]=null,ta.push(La[bb.ring[0]]=Za[bb.ring[bb.ring.length-1]]=bb)):(bb.ring.push(bb.ring[0]),bb.polygon.push(bb.ring))}}function De(ta){var ua=
{type:"Feature",geometry:Fd(ta.geometry)};null!=ta.id&&(ua.id=ta.id);null!=ta.bbox&&(ua.bbox=ta.bbox);null!=ta.properties&&(ua.properties=ta.properties);return ua}function Fd(ta){if(null==ta)return ta;switch(ta.type){case "GeometryCollection":var ua={type:"GeometryCollection",geometries:ta.geometries.map(Fd)};break;case "Point":ua={type:"Point",coordinates:fe(ta.coordinates)};break;case "MultiPoint":case "LineString":ua={type:ta.type,coordinates:ne(ta.coordinates)};break;case "MultiLineString":ua=
{type:"MultiLineString",coordinates:ta.coordinates.map(ne)};break;case "Polygon":var Ia=[];ze(ta.coordinates,Ia,ua=[]);Ae(ua);ua={type:"Polygon",coordinates:Ia};break;case "MultiPolygon":ua=[];Ia=-1;var La=ta.coordinates.length;for(var Za=Array(La);++Ia<La;)ze(ta.coordinates[Ia],Za[Ia]=[],ua);Ae(ua);ua={type:"MultiPolygon",coordinates:Za.filter(Gd)};break;default:return ta}null!=ta.bbox&&(ua.bbox=ta.bbox);return ua}function Zd(ta,ua){ua=Xa(ua/2);var Ia=Aa(Wb*ua);return[ta*(.74482-.34588*Ia*Ia),1.70711*
ua]}function Ke(ta,ua,Ia){var La=l.geoInterpolate(ua,Ia);Ia=La(.5);ua=l.geoRotation([-Ia[0],-Ia[1]])(ua);La=La.distance/2;var Za=-G(Aa(ua[1]*fd)/Aa(La));Ia=[-Ia[0],-Ia[1],-(0<ua[0]?fb-Za:Za)*ed];ta=l.geoProjection(ta(La)).rotate(Ia);var bb=l.geoRotation(Ia),nb=ta.center;delete ta.rotate;ta.center=function(zb){return arguments.length?nb(bb(zb)):bb.invert(nb())};return ta.clipAngle(90)}function Be(ta){function ua(La,Za){La=l.geoGnomonicRaw(La,Za);La[0]*=Ia;return La}var Ia=Zb(ta);ua.invert=function(La,
Za){return l.geoGnomonicRaw.invert(La/Ia,Za)};return ua}function tf(ta,ua){return Ke(Be,ta,ua)}function Td(ta){function ua(zb,wb){var Bb=L(Zb(wb)*Zb(zb-Ia));zb=L(Zb(wb)*Zb(zb-La));Bb*=Bb;zb*=zb;return[(Bb-zb)/(2*ta),(0>wb?-1:1)*v(4*Za*zb-(Za-Bb+zb)*(Za-Bb+zb))/(2*ta)]}if(!(ta*=2))return l.geoAzimuthalEquidistantRaw;var Ia=-ta/2,La=-Ia,Za=ta*ta,bb=Xa(La),nb=.5/Aa(La);ua.invert=function(zb,wb){var Bb=wb*wb,Hb=Zb(v(Bb+(Tb=zb+Ia)*Tb));zb=Zb(v(Bb+(Tb=zb+La)*Tb));var Tb,mc;return[ge(mc=Hb-zb,Tb=(Hb+zb)*
bb),(0>wb?-1:1)*L(v(Tb*Tb+mc*mc)*nb)]};return ua}function be(ta,ua){return Ke(Td,ta,ua)}function Le(ta,ua){if(1E-6>xc(ua))return[ta,0];var Ia=xc(ua/mb),La=G(Ia);if(1E-6>xc(ta)||1E-6>xc(xc(ua)-mb))return[0,sa(ua)*fb*Xa(La/2)];var Za=Zb(La);La=xc(fb/ta-ta/fb)/2;var bb=La*La;Za/=Ia+Za-1;Ia=Za*(2/Ia-1);var nb=Ia*Ia,zb=nb+bb,wb=Za-nb,Bb=bb+Za;return[sa(ta)*fb*(La*wb+v(bb*wb*wb-zb*(Za*Za-nb)))/zb,sa(ua)*fb*(Ia*Bb-La*v((bb+1)*zb-Bb*Bb))/zb]}function ce(ta,ua){if(1E-6>xc(ua))return[ta,0];var Ia=xc(ua/mb),
La=G(Ia);if(1E-6>xc(ta)||1E-6>xc(xc(ua)-mb))return[0,sa(ua)*fb*Xa(La/2)];var Za=Zb(La);La=xc(fb/ta-ta/fb)/2;var bb=La*La;Ia=Za*(v(1+bb)-La*Za)/(1+bb*Ia*Ia);return[sa(ta)*fb*Ia,sa(ua)*fb*v(1-Ia*(2*La+Ia))]}function yd(ta,ua){if(1E-6>xc(ua))return[ta,0];var Ia=ua/mb,La=G(Ia);if(1E-6>xc(ta)||1E-6>xc(xc(ua)-mb))return[0,fb*Xa(La/2)];ua=(fb/ta-ta/fb)/2;Ia/=1+Zb(La);return[fb*(sa(ta)*v(ua*ua+1-Ia*Ia)-ua),fb*Ia]}function Ad(ta,ua){if(!ua)return[ta,0];var Ia=xc(ua);if(!ta||Ia===mb)return[0,ua];var La=Ia/
mb;Ia=La*La;var Za=(8*La-Ia*(Ia+2)-5)/(2*Ia*(La-1)),bb=Za*Za,nb=La*Za,zb=Ia+bb+2*nb;La+=3*Za;Za=ta/mb;Za+=1/Za;Za=sa(xc(ta)-mb)*v(Za*Za-4);var wb=Za*Za;Ia=(Za*(zb+bb-1)+2*v(zb*(Ia+bb*wb-1)+(1-Ia)*(Ia*(La*La+4*bb)+12*nb*bb+4*bb*bb)))/(4*zb+wb);return[sa(ta)*mb*Ia,sa(ua)*mb*v(1+Za*xc(Ia)-Ia*Ia)]}function Yd(ta,ua,Ia,La,Za){function bb(nb,zb){zb=Ia*Aa(La*zb);var wb=v(1-zb*zb),Bb=v(2/(1+wb*Zb(nb*=Za)));return[ta*wb*Bb*Aa(nb),ua*zb*Bb]}bb.invert=function(nb,zb){var wb=nb/ta,Bb=zb/ua;wb=v(wb*wb+Bb*Bb);
Bb=2*G(wb/2);return[ge(nb*Xa(Bb),ta*wb)/Za,wb&&G(zb*Aa(Bb)/(ua*Ia*wb))/La]};return bb}function ef(ta,ua,Ia,La){var Za=fb/3;ta=cf(ta,1E-6);ua=cf(ua,1E-6);ta=Ze(ta,mb);ua=Ze(ua,fb-1E-6);Ia=cf(Ia,0);Ia=Ze(Ia,99.999999);La=cf(La,1E-6);var bb=La/100;Ia=L((Ia/100+1)*Zb(Za))/Za;Za=Aa(ta)/Aa(Ia*mb);La=ua/fb;ua=v(bb*Aa(ta/2)/Aa(ua/2));ta=ua/v(La*Za*Ia);ua=1/(ua*v(La*Za*Ia));return Yd(ta,ua,Za,Ia,La)}function qe(){var ta=65*fd,ua=60*fd,Ia=20,La=200,Za=l.geoProjectionMutator(ef),bb=Za(ta,ua,Ia,La);bb.poleline=
function(nb){return arguments.length?Za(ta=+nb*fd,ua,Ia,La):ta*ed};bb.parallels=function(nb){return arguments.length?Za(ta,ua=+nb*fd,Ia,La):ua*ed};bb.inflation=function(nb){return arguments.length?Za(ta,ua,Ia=+nb,La):Ia};bb.ratio=function(nb){return arguments.length?Za(ta,ua,Ia,La=+nb):La};return bb.scale(163.775)}function Ed(ta,ua){return[ta*v(1-3*ua*ua/(fb*fb)),ua]}function Ie(ta,ua){var Ia=Zb(ua),La=Zb(ta)*Ia,Za=1-La;ua=Zb(ta=ge(Aa(ta)*Ia,-Aa(ua)));ta=Aa(ta);Ia=v(1-La*La);return[ta*Ia-ua*Za,-ua*
Ia-ta*Za]}function nf(ta,ua){var Ia=f(ta,ua);return[(Ia[0]+ta/mb)/2,(Ia[1]+ua)/2]}var xc=Math.abs,Fe=Math.atan,ge=Math.atan2,Zb=Math.cos,Je=Math.exp,he=Math.floor,Pe=Math.log,cf=Math.max,Ze=Math.min,vf=Math.pow,Te=Math.round,sa=Math.sign||function(ta){return 0<ta?1:0>ta?-1:0},Aa=Math.sin,Xa=Math.tan,fb=Math.PI,mb=fb/2,Wb=fb/4,jc=Math.SQRT1_2,Ec=v(2),tc=v(fb),Fc=2*fb,ed=180/fb,fd=fb/180;f.invert=function(ta,ua){if(!(ta*ta+4*ua*ua>fb*fb+1E-6)){var Ia=ta,La=ua,Za=25;do{var bb=Aa(Ia),nb=Aa(Ia/2),zb=Zb(Ia/
2),wb=Aa(La),Bb=Zb(La),Hb=Aa(2*La),Tb=wb*wb,mc=Bb*Bb,X=nb*nb,na=1-mc*zb*zb,Ja=na?L(Bb*zb)*v(Oa=1/na):Oa=0,Oa;na=2*Ja*Bb*nb-ta;var tb=Ja*wb-ua,Lb=Oa*(mc*X+Ja*Bb*zb*Tb),Qb=Oa*(.5*bb*Hb-2*Ja*wb*nb);bb=.25*Oa*(Hb*nb-Ja*wb*mc*bb);Bb=Oa*(Tb*zb+Ja*X*Bb);zb=Qb*bb-Bb*Lb;if(!zb)break;Qb=(tb*Qb-na*Bb)/zb;na=(na*bb-tb*Lb)/zb;Ia-=Qb;La-=na}while((1E-6<xc(Qb)||1E-6<xc(na))&&0<--Za);return[Ia,La]}};g.invert=function(ta,ua){ta*=.375;ua*=.375;if(!ta&&1<xc(ua))return null;var Ia=1+ta*ta+ua*ua,La=v((Ia-v(Ia*Ia-4*ua*
ua))/2);Ia=G(La)/3;La?(La=xc(ua/La),La=Pe(La+v(La*La-1))/3):(La=xc(ta),La=Pe(La+v(La*La+1))/3);var Za=Zb(Ia),bb=t(La),nb=bb*bb-Za*Za;return[2*sa(ta)*ge(u(La)*Za,.25-nb),2*sa(ua)*ge(bb*Aa(Ia),.25+nb)]};var ie=v(8),zd=Pe(1+Ec);a.invert=function(ta,ua){if((Za=xc(ua))<zd)return[ta,2*Fe(Je(ua))-mb];var Ia=Wb,La=25,Za;do{var bb=Zb(Ia/2);var nb=Xa(Ia/2);Ia-=bb=(ie*(Ia-Wb)-Pe(nb)-Za)/(ie-bb*bb/(2*nb))}while(1E-12<xc(bb)&&0<--La);return[ta/(Zb(Ia)*(ie-1/Aa(Ia))),sa(ua)*Ia]};y.invert=function(ta,ua){ua=2*G(ua/
2);return[ta*Zb(ua/2)/Zb(ua),ua]};var sd=E(Ec/mb,Ec,fb);x.invert=function(ta,ua){var Ia=2.00276*ua;ua=0>ua?-Wb:Wb;var La=25;do{var Za=Ia-Ec*Aa(ua);ua-=Za=(Aa(2*ua)+2*ua-fb*Aa(Za))/(2*Zb(2*ua)+2+fb*Zb(Za)*Ec*Zb(ua))}while(1E-6<xc(Za)&&0<--La);Za=Ia-Ec*Aa(ua);return[ta*(1/Zb(Za)+1.11072/Zb(ua))/2.00276,Za]};H.invert=function(ta,ua){return[ta/Zb(ua),ua]};var Zc=E(1,4/fb,fb);O.invert=function(ta,ua){var Ia=(Ia=ua/tc-1)*Ia;return[0<Ia?ta*v(fb/Ia)/2:0,G(1-Ia)]};var Md=v(3);Y.invert=function(ta,ua){ua=3*
G(ua/(Md*tc));return[tc*ta/(Md*(2*Zb(2*ua/3)-1)),ua]};wa.invert=function(ta,ua){var Ia=v(8/(3*fb));ua/=Ia;return[ta/(Ia*(1-xc(ua)/fb)),ua]};xa.invert=function(ta,ua){var Ia=2-xc(ua)/v(2*fb/3);return[ta*v(6*fb)/(2*Ia),sa(ua)*G((4-Ia*Ia)/3)]};Da.invert=function(ta,ua){var Ia=v(fb*(4+fb))/2;return[ta*Ia/(1+v(1-ua*ua*(4+fb)/(4*fb))),ua*Ia/2]};Wa.invert=function(ta,ua){ua=ua*v((4+fb)/fb)/2;var Ia=G(ua),La=Zb(Ia);return[ta/(2/v(fb*(4+fb))*(1+La)),G((Ia+ua*(La+2))/(2+mb))]};gb.invert=function(ta,ua){var Ia=
v(2+fb);ua=ua*Ia/2;return[Ia*ta/(1+Zb(ua)),ua]};ra.invert=function(ta,ua){var Ia=1+mb,La=v(Ia/2);return[2*ta*La/(1+Zb(ua*=La)),G((ua+Aa(ua))/Ia)]};var Id=3+2*Ec;Na.invert=function(ta,ua){if(!(Za=g.invert(ta/1.2,1.065*ua)))return null;var Ia=Za[0];Za=Za[1];var La=20,Za;ta/=Id;ua/=Id;do{var bb=Ia/2,nb=Za/2,zb=Aa(bb),wb=Zb(bb),Bb=Aa(nb),Hb=Zb(nb),Tb=Zb(Za),mc=v(Tb),X=Bb/(Hb+Ec*wb*mc),na=X*X,Ja=v(2/(1+na)),Oa=(Ec*Hb+(wb+zb)*mc)/(Ec*Hb+(wb-zb)*mc),tb=v(Oa),Lb=tb-1/tb,Qb=tb+1/tb;nb=Ja*Lb-2*Pe(tb)-ta;bb=
Ja*X*Qb-2*Fe(X)-ua;var gc=Bb&&jc*mc*zb*na/Bb,uc=(Ec*wb*Hb+mc)/(2*(Hb+Ec*wb*mc)*(Hb+Ec*wb*mc)*mc),Qc=-.5*X*Ja*Ja*Ja,Lc=Qc*gc;Qc*=uc;var td=(td=2*Hb+Ec*mc*(wb-zb))*td*tb;wb=(Ec*wb*Hb*mc+Tb)/td;Bb=-(Ec*zb*Bb)/(mc*td);zb=Lb*Lc-2*wb/tb+Ja*(wb+wb/Oa);tb=Lb*Qc-2*Bb/tb+Ja*(Bb+Bb/Oa);gc=X*Qb*Lc-2*gc/(1+na)+Ja*Qb*gc+Ja*X*(wb-wb/Oa);na=X*Qb*Qc-2*uc/(1+na)+Ja*Qb*uc+Ja*X*(Bb-Bb/Oa);X=tb*gc-na*zb;if(!X)break;na=(bb*tb-nb*na)/X;nb=(nb*gc-bb*zb)/X;Ia-=na;Za=cf(-mb,Ze(mb,Za-nb))}while((1E-6<xc(na)||1E-6<xc(nb))&&
0<--La);return 1E-6>xc(xc(Za)-mb)?[0,Za]:La&&[Ia,Za]};var Ue=Zb(35*fd);Ta.invert=function(ta,ua){ua/=1+Ue;return[ta&&ta/(Ue*v(1-ua*ua)),2*Fe(ua)]};za.invert=function(ta,ua){var Ia=Fe(ua/tc);ua=Zb(Ia);Ia*=2;return[ta*tc/2/(Zb(Ia)*ua*ua),Ia]};var zf=ca(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),Wc=ca(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),xe=ca(5/6*fb,-.62636,-.0344,0,1.3493,-.05524,0,.045);ea.invert=function(ta,ua){var Ia=ta,La=ua,Za=50,bb;do{var nb=La*La;La-=bb=
(La*(1+nb/12)-ua)/(1+nb/4)}while(1E-6<xc(bb)&&0<--Za);Za=50;ta/=1-.162388*nb;do{var zb=(zb=Ia*Ia)*zb;Ia-=bb=(Ia*(.87-9.52426E-4*zb)-ta)/(.87-.00476213*zb)}while(1E-6<xc(bb)&&0<--Za);return[Ia,La]};var Me=ca(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);ba.invert=function(ta,ua){1<xc(ta)&&(ta=2*sa(ta)-ta);1<xc(ua)&&(ua=2*sa(ua)-ua);var Ia=sa(ta),La=sa(ua),Za=-Ia*ta,bb=-La*ua;ua=1>bb/Za;ta=ua?bb:Za;var nb=ua?Za:bb,zb=0,wb=1;Za=.5;for(var Bb=50;;){bb=Za*Za;var Hb=v(Za),Tb=G(1/v(1+bb)),mc=1-
bb+Za*(1+bb)*Tb,X=(1-Hb)/mc,na=v(X),Ja=X*(1+bb),Oa=na*(1-bb),tb=v(Ja-ta*ta);Oa=nb+Oa+Za*tb;if(1E-12>xc(wb-zb)||0===--Bb||0===Oa)break;0<Oa?zb=Za:wb=Za;Za=.5*(zb+wb)}Bb?(nb=G(Hb),Bb=Zb(nb),zb=1/Bb,wb=2*Hb*Bb,Hb=(-mc*Bb-(1-Hb)*(-3*Za+Tb*(1+3*bb))*wb)/(mc*mc),Za=[fb/4*(ta*(-2*zb*(.5*Hb/na*(1-bb)-2*Za*na*wb)+-zb*wb*tb)+-zb*(Za*(1+bb)*Hb+X*(1+3*bb)*wb)*G(ta/v(Ja))),nb]):Za=null;ta=Za[0];Za=Za[1];bb=Zb(Za);ua&&(ta=-mb-ta);return[Ia*(ge(Aa(ta)*bb,-Aa(Za))+fb),La*G(Zb(ta)*bb)]};db.invert=function(ta,ua){var Ia=
(Ec-1)/(Ec+1),La=v(1-Ia*Ia);ua=.5*Ma(mb,La*La)-ua;ta=-ta;La*=La;if(ua)if(ua=Ra(ua,La),ta){ta=Ra(ta,1-La);var Za=ta[1]*ta[1]+La*ua[0]*ua[0]*ta[0]*ta[0];ua=[[ua[0]*ta[2]/Za,ua[1]*ua[2]*ta[0]*ta[1]/Za],[ua[1]*ta[1]/Za,-ua[0]*ua[2]*ta[0]*ta[2]/Za],[ua[2]*ta[1]*ta[2]/Za,-La*ua[0]*ua[1]*ta[0]/Za]]}else ua=[[ua[0],0],[ua[1],0],[ua[2],0]];else ta=Ra(ta,1-La),ua=[[0,ta[0]/ta[1]],[1/ta[1],0],[ta[2]/ta[1],0]];La=ua[0];ua=ua[1];ta=ua[0]*ua[0]+ua[1]*ua[1];La=[(La[0]*ua[0]+La[1]*ua[1])/ta,(La[1]*ua[0]-La[0]*ua[1])/
ta];return[ge(La[1],La[0])/-1,2*Fe(Je(-.5*Pe(Ia*La[0]*La[0]+Ia*La[1]*La[1])))-mb]};var Ee=G(1-1/3)*ed,Ef=ka(0);$c.invert=function(ta,ua){return-.7109889596207567<ua?sd.invert(ta,ua-.0528035274542):H.invert(ta,ua)};kc.invert=function(ta,ua){return.7109889596207567<xc(ua)?sd.invert(ta,ua+(0<ua?.0528035274542:-.0528035274542)):H.invert(ta,ua)};var yf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],re=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Qe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],va=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ka=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],sb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Oc.invert=function(ta,ua){return[Fc/3*ta/v(fb*fb/3-ua*ua),ua]};var Pb=fb/Ec;Bc.invert=function(ta,ua){var Ia=xc(ta),La=xc(ua),Za=1E-6,bb=mb;La<Pb?bb*=La/Pb:Za+=6*L(Pb/La);for(var nb=0;25>nb;nb++){var zb=
Aa(bb),wb=v(Zb(bb)),Bb=Aa(bb/2),Hb=Zb(bb/2),Tb=Aa(Za/6),mc=Zb(Za/6),X=.5*Za*(1+wb)-Ia,na=bb/(Hb*mc)-La;zb=wb?-.25*Za*zb/wb:0;wb=.5*(1+wb);Bb=(1+.5*bb*Bb/Hb)/(Hb*mc);Tb=bb/Hb*(Tb/6)/(mc*mc);Hb=zb*Tb-Bb*wb;Tb=(X*Tb-na*wb)/Hb;X=(na*zb-X*Bb)/Hb;bb-=Tb;Za-=X;if(1E-6>xc(Tb)&&1E-6>xc(X))break}return[0>ta?-Za:Za,0>ua?-bb:bb]};pd.invert=function(ta,ua){var Ia=sa(ta)*fb,La=ua/2,Za=50;do{var bb=Ia*Ia,nb=La*La,zb=Ia*La,wb=Ia*(.975534+nb*(-.119161+-.0143059*bb+-.0547009*nb))-ta,Bb=La*(1.00384+bb*(.0802894+-.02855*
nb+1.99025E-4*bb)+nb*(.0998909+-.0491032*nb))-ua,Hb=.975534-nb*(.119161+.0429177*bb+.0547009*nb),Tb=-zb*(.238322+.2188036*nb+.0286118*bb);zb*=.1605788+7.961E-4*bb+-.0571*nb;nb=1.00384+bb*(.0802894+1.99025E-4*bb)+nb*(3*(.0998909-.02855*bb)-.245516*nb);bb=Tb*zb-nb*Hb;Tb=(Bb*Tb-wb*nb)/bb;wb=(wb*zb-Bb*Hb)/bb;Ia-=Tb;La-=wb}while((1E-6<xc(Tb)||1E-6<xc(wb))&&0<--Za);return Za&&[Ia,La]};Rd.invert=function(ta,ua){var Ia=ta*ta,La=ua*ua+1,Za=Ia+La;Ia=ta?jc*v((Za-v(Za*Za-4*Ia))/Ia):1/v(La);return[G(ta*Ia),sa(ua)*
L(Ia)]};cd.invert=function(ta,ua){return[ta,2.5*Fe(Je(.8*ua))-.625*fb]};var Mb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Yb=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],ec=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Tc=[[.9245,0],[0,0],[.01943,0]],Ic=[[.721316,
0],[0,0],[-.00881625,-.00617325]],bd=v(6),od=v(7);yb.invert=function(ta,ua){ua=3*G(ua*od/9);return[ta*od/(bd*(2*Zb(2*ua/3)-1)),G(3*Aa(ua)*bd/7)]};Sb.invert=function(ta,ua){ua=ua*v(2+Ec)/(2*v(3));var Ia=2*G(ua);return[3*Ec*ta/(1+2*Zb(Ia)/Zb(Ia/2)),G((ua+Aa(Ia))/(1+jc))]};ld.invert=function(ta,ua){var Ia=v(6/(4+fb));ua/=Ia;1E-6>xc(xc(ua)-mb)&&(ua=0>ua?-mb:mb);return[1.5*ta/(Ia*(.5+Zb(ua))),G((ua/2+Aa(ua))/(1+fb/4))]};xd.invert=function(ta,ua){var Ia=ua,La=25;do{var Za=Ia*Ia;var bb=Za*Za;Ia-=Za=(Ia*
(1.01183+bb*bb*(-.02625+.01926*Za-.00396*bb))-ua)/(1.01183+bb*bb*(-.23625+.21186*Za+-.05148*bb))}while(1E-12<xc(Za)&&0<--La);Za=Ia*Ia;bb=Za*Za;ua=Za*bb;return[ta/(.84719-.13063*Za+ua*ua*(-.04515+.05494*Za-.02326*bb+.00331*ua)),Ia]};Pd.invert=function(ta,ua){for(var Ia=ua/2,La=0,Za=Infinity;10>La&&1E-6<xc(Za);++La)Za=Zb(ua/2),ua-=Za=(ua-Xa(ua/2)-Ia)/(1-.5/(Za*Za));return[2*ta/(1+Zb(ua)),ua]};var Nd=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];me.invert=function(ta,ua){ta/=mb;ua/=mb;var Ia=ta*ta,La=Ia+ua*ua,Za=fb*fb;return[ta?(La-1+v((1-La)*(1-La)+4*Ia))/(2*ta)*mb:0,A(function(bb){return La*(fb*Aa(bb)-2*bb)*fb+4*bb*bb*(ua-Aa(bb))+2*fb*bb-Za*ua},0)]};var Wd=5*.23185;Ha.invert=function(ta,ua){1.790857183<ua?ua=1.790857183:-1.790857183>ua&&(ua=-1.790857183);var Ia=ua;do{var La=Ia*Ia;Ia-=La=(Ia*(1.0148+La*La*(.23185+La*(-.14499+.02406*La)))-ua)/(1.0148+La*La*(Wd+La*(-1.01493+.21654*La)))}while(1E-6<xc(La));return[ta,Ia]};Ya.invert=function(ta,
ua){if(1E-6>xc(ua))return[ta,0];var Ia=ta*ta+ua*ua,La=.5*ua,Za=10;do{var bb=Xa(La);var nb=1/Zb(La),zb=Ia-2*ua*La+La*La;La-=bb=(bb*zb+2*(La-ua))/(2+zb*nb*nb+2*(La-ua)*bb)}while(1E-6<xc(bb)&&0<--Za);bb=Xa(La);return[(xc(ua)<xc(La+1/bb)?G(ta*bb):sa(ua)*sa(ta)*(L(xc(ta*bb))+mb))/Aa(La),La]};var rd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ge=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(ta){return ta.map(function(ua){return rd[ua]})}),Hd=2/v(3);cc.invert=function(ta,
ua){return O.invert(ta/Hd,ua)};var se=()=>{},$d=[],oe=[],uf={point:function(ta,ua){$d.push([ta,ua])},result:function(){var ta=$d.length?2>$d.length?{type:"Point",coordinates:$d[0]}:{type:"MultiPoint",coordinates:$d}:null;$d=[];return ta}},Xd={lineStart:se,point:function(ta,ua){$d.push([ta,ua])},lineEnd:function(){$d.length&&(oe.push($d),$d=[])},result:function(){var ta=oe.length?2>oe.length?{type:"LineString",coordinates:oe[0]}:{type:"MultiLineString",coordinates:oe}:null;oe=[];return ta}},Se={polygonStart:se,
lineStart:se,point:function(ta,ua){$d.push([ta,ua])},lineEnd:function(){var ta=$d.length;if(ta){do $d.push($d[0].slice());while(4>++ta);oe.push($d);$d=[]}},polygonEnd:se,result:function(){if(!oe.length)return null;var ta=[],ua=[];oe.forEach(function(Ia){if(4>(Za=Ia.length))var La=!1;else{La=0;for(var Za,bb=Ia[Za-1][1]*Ia[0][0]-Ia[Za-1][0]*Ia[0][1];++La<Za;)bb+=Ia[La-1][1]*Ia[La][0]-Ia[La-1][0]*Ia[La][1];La=0>=bb}La?ta.push([Ia]):ua.push(Ia)});ua.forEach(function(Ia){var La=Ia[0];ta.some(function(Za){for(var bb=
Za[0],nb=La[0],zb=La[1],wb=!1,Bb=0,Hb=bb.length,Tb=Hb-1;Bb<Hb;Tb=Bb++){var mc=bb[Bb],X=mc[0];mc=mc[1];var na=bb[Tb];Tb=na[0];na=na[1];mc>zb^na>zb&&nb<(Tb-X)*(zb-mc)/(na-mc)+X&&(wb=!wb)}if(wb)return Za.push(Ia),!0})||ta.push([Ia])});oe=[];return ta.length?1<ta.length?{type:"MultiPolygon",coordinates:ta}:{type:"Polygon",coordinates:ta[0]}:null}},He=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];He.forEach(function(ta){ta[1]*=1.0144});md.invert=function(ta,ua){var Ia=ua/mb,La=90*Ia,Za=Ze(18,xc(La/5)),bb=cf(0,he(Za));do{var nb=He[bb][1],zb=He[bb+1][1],wb=He[Ze(19,bb+2)][1],Bb=wb-nb;nb=wb-2*zb+nb;zb=2*(xc(Ia)-zb)/Bb;Bb=nb/Bb;Bb=zb*(1-Bb*zb*(1-2*Bb*zb));if(0<=Bb||1===bb){La=(0<=ua?5:-5)*(Bb+Za);Ia=50;do Za=Ze(18,xc(La)/5),bb=he(Za),Bb=Za-bb,nb=He[bb][1],zb=He[bb+1][1],wb=He[Ze(19,bb+2)][1],
La-=(Za=(0<=ua?mb:-mb)*(zb+Bb*(wb-nb)/2+Bb*Bb*(wb-2*zb+nb)/2)-ua)*ed;while(1E-12<xc(Za)&&0<--Ia);break}}while(0<=--bb);ua=He[bb][0];Za=He[bb+1][0];bb=He[Ze(19,bb+2)][0];return[ta/(Za+Bb*(bb-ua)/2+Bb*Bb*(bb-2*Za+ua)/2),La*fd]};Zd.invert=function(ta,ua){ua/=1.70711;var Ia=Aa(Wb*ua);return[ta/(.74482-.34588*Ia*Ia),2*Fe(ua)]};Le.invert=function(ta,ua){if(1E-6>xc(ua))return[ta,0];if(1E-6>xc(ta))return[0,mb*Aa(2*Fe(ua/fb))];var Ia=(ta/=fb)*ta,La=(ua/=fb)*ua,Za=Ia+La,bb=Za*Za,nb=-xc(ua)*(1+Za),zb=nb-2*La+
Ia,wb=-2*nb+1+2*La+bb,Bb=La/wb+(2*zb*zb*zb/(wb*wb*wb)-9*nb*zb/(wb*wb))/27,Hb=(nb-zb*zb/(3*wb))/wb;nb=2*v(-Hb/3);Bb=L(3*Bb/(Hb*nb))/3;return[fb*(Za-1+v(1+2*(Ia-La)+bb))/(2*ta),sa(ua)*fb*(-nb*Zb(Bb+fb/3)-zb/(3*wb))]};ce.invert=function(ta,ua){if(!ta)return[0,mb*Aa(2*Fe(ua/fb))];var Ia=xc(ta/fb),La=(1-Ia*Ia-(ua/=fb)*ua)/(2*Ia),Za=v(La*La+1);return[sa(ta)*fb*(Za-La),sa(ua)*mb*Aa(2*ge(v((1-2*La*Ia)*(La+Za)-Ia),v(Za+La+Ia)))]};yd.invert=function(ta,ua){if(!ua)return[ta,0];ua/=fb;var Ia=(fb*fb*(1-ua*ua)-
ta*ta)/(2*fb*ta);return[ta?fb*(sa(ta)*v(Ia*Ia+1)-Ia):0,mb*Aa(2*Fe(ua))]};Ad.invert=function(ta,ua){if(!ta||!ua)return[ta,ua];var Ia=sa(ua);ua=xc(ua)/fb;var La=sa(ta)*ta/mb,Za=(La*La-1+4*ua*ua)/xc(La),bb=Za*Za,nb=ua*(2-(.5<ua?Ze(ua,xc(ta)):0));ua=ta*ta+ua*ua;var zb=50;do{var wb=nb*nb;var Bb=(8*nb-wb*(wb+2)-5)/(2*wb*(nb-1));var Hb=(3*nb-wb*nb-10)/(2*wb*nb),Tb=Bb*Bb,mc=nb*Bb,X=nb+Bb,na=X*X,Ja=nb+3*Bb,Oa=-2*X*(4*mc*Tb+(1-4*wb+3*wb*wb)*(1+Hb)+Tb*(-6+14*wb-bb+(-8+8*wb-2*bb)*Hb)+mc*(-8+12*wb+(-10+10*wb-
bb)*Hb));wb=v(na*(wb+Tb*bb-1)+(1-wb)*(wb*(Ja*Ja+4*Tb)+Tb*(12*mc+4*Tb)));nb-=Bb=(Za*(na+Tb-1)+2*wb-La*(4*na+bb))/(Za*(2*Bb*Hb+2*X*(1+Hb))+Oa/wb-8*X*(Za*(-1+Tb+na)+2*wb)*(1+Hb)/(bb+4*na))}while(1E-6<Bb*ua*ua&&0<--zb);return[sa(ta)*(v(Za*Za+4)+Za)*fb/4,Ia*mb*nb]};var Jf=4*fb+3*v(3),bf=2*v(2*fb*v(3)/Jf),Uf=E(bf*v(3)/fb,bf,Jf/6);Ed.invert=function(ta,ua){return[ta/v(1-3*ua*ua/(fb*fb)),ua]};Ie.invert=function(ta,ua){var Ia=(ta*ta+ua*ua)/-2,La=v(-Ia*(2+Ia)),Za=ua*Ia+ta*La;ta=ta*Ia-ua*La;ua=v(ta*ta+Za*Za);
return[ge(La*Za,ua*(1+Ia)),ua?-G(La*ta/ua):0]};nf.invert=function(ta,ua){var Ia=ta,La=ua,Za=25;do{var bb=Zb(La),nb=Aa(La),zb=Aa(2*La),wb=nb*nb,Bb=bb*bb,Hb=Aa(Ia),Tb=Zb(Ia/2),mc=Aa(Ia/2),X=mc*mc,na=1-Bb*Tb*Tb,Ja=na?L(bb*Tb)*v(Oa=1/na):Oa=0,Oa;na=.5*(2*Ja*bb*mc+Ia/mb)-ta;var tb=.5*(Ja*nb+La)-ua,Lb=.5*Oa*(Bb*X+Ja*bb*Tb*wb)+.5/mb,Qb=Oa*(Hb*zb/4-Ja*nb*mc);nb=.125*Oa*(zb*mc-Ja*nb*Bb*Hb);wb=.5*Oa*(wb*Tb+Ja*X*bb)+.5;bb=Qb*nb-wb*Lb;Qb=(tb*Qb-na*wb)/bb;na=(na*nb-tb*Lb)/bb;Ia-=Qb;La-=na}while((1E-6<xc(Qb)||
1E-6<xc(na))&&0<--Za);return[Ia,La]};m.geoAiry=function(){var ta=mb,ua=l.geoProjectionMutator(k),Ia=ua(ta);Ia.radius=function(La){return arguments.length?ua(ta=La*fd):ta*ed};return Ia.scale(179.976).clipAngle(147)};m.geoAiryRaw=k;m.geoAitoff=function(){return l.geoProjection(f).scale(152.63)};m.geoAitoffRaw=f;m.geoArmadillo=function(){var ta=20*fd,ua=0<=ta?1:-1,Ia=Xa(ua*ta),La=l.geoProjectionMutator(d),Za=La(ta),bb=Za.stream;Za.parallel=function(nb){if(!arguments.length)return ta*ed;Ia=Xa((ua=0<=
(ta=nb*fd)?1:-1)*ta);return La(ta)};Za.stream=function(nb){var zb=Za.rotate(),wb=bb(nb),Bb=(Za.rotate([0,0]),bb(nb)),Hb=Za.precision();Za.rotate(zb);wb.sphere=function(){Bb.polygonStart();Bb.lineStart();for(var Tb=-180*ua;180>ua*Tb;Tb+=90*ua)Bb.point(Tb,90*ua);if(ta)for(;-180<=ua*(Tb-=3*ua*Hb);)Bb.point(Tb,ua*-ge(Zb(Tb*fd/2),Ia)*ed);Bb.lineEnd();Bb.polygonEnd()};return wb};return Za.scale(218.695).center([0,28.0974])};m.geoArmadilloRaw=d;m.geoAugust=function(){return l.geoProjection(g).scale(66.1603)};
m.geoAugustRaw=g;m.geoBaker=function(){return l.geoProjection(a).scale(112.314)};m.geoBakerRaw=a;m.geoBerghaus=function(){var ta=5,ua=l.geoProjectionMutator(e),Ia=ua(ta),La=Ia.stream,Za=-Zb(.01*fd),bb=Aa(.01*fd);Ia.lobes=function(nb){return arguments.length?ua(ta=+nb):ta};Ia.stream=function(nb){var zb=Ia.rotate(),wb=La(nb),Bb=(Ia.rotate([0,0]),La(nb));Ia.rotate(zb);wb.sphere=function(){Bb.polygonStart();Bb.lineStart();for(var Hb=0,Tb=360/ta,mc=2*fb/ta,X=90-180/ta,na=mb;Hb<ta;++Hb,X-=Tb,na-=mc)Bb.point(ge(bb*
Zb(na),Za)*ed,G(bb*Aa(na))*ed),-90>X?(Bb.point(-90,-180-X-.01),Bb.point(-90,-180-X+.01)):(Bb.point(90,X+.01),Bb.point(90,X-.01));Bb.lineEnd();Bb.polygonEnd()};return wb};return Ia.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};m.geoBerghausRaw=e;m.geoBertin1953=function(){return l.geoProjection(N()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};m.geoBertin1953Raw=N;m.geoBoggs=function(){return l.geoProjection(x).scale(160.857)};m.geoBoggsRaw=x;m.geoBonne=function(){return D(S).scale(123.082).center([0,
26.1441]).parallel(45)};m.geoBonneRaw=S;m.geoBottomley=function(){var ta=.5,ua=l.geoProjectionMutator(U),Ia=ua(ta);Ia.fraction=function(La){return arguments.length?ua(ta=+La):ta};return Ia.scale(158.837)};m.geoBottomleyRaw=U;m.geoBromley=function(){return l.geoProjection(Zc).scale(152.63)};m.geoBromleyRaw=Zc;m.geoChamberlin=da;m.geoChamberlinRaw=ja;m.geoChamberlinAfrica=function(){return da([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};m.geoCollignon=function(){return l.geoProjection(O).scale(95.6464).center([0,
30])};m.geoCollignonRaw=O;m.geoCraig=function(){return D(B).scale(249.828).clipAngle(90)};m.geoCraigRaw=B;m.geoCraster=function(){return l.geoProjection(Y).scale(156.19)};m.geoCrasterRaw=Y;m.geoCylindricalEqualArea=function(){return D(ka).parallel(38.58).scale(195.044)};m.geoCylindricalEqualAreaRaw=ka;m.geoCylindricalStereographic=function(){return D(Z).scale(124.75)};m.geoCylindricalStereographicRaw=Z;m.geoEckert1=function(){return l.geoProjection(wa).scale(165.664)};m.geoEckert1Raw=wa;m.geoEckert2=
function(){return l.geoProjection(xa).scale(165.664)};m.geoEckert2Raw=xa;m.geoEckert3=function(){return l.geoProjection(Da).scale(180.739)};m.geoEckert3Raw=Da;m.geoEckert4=function(){return l.geoProjection(Wa).scale(180.739)};m.geoEckert4Raw=Wa;m.geoEckert5=function(){return l.geoProjection(gb).scale(173.044)};m.geoEckert5Raw=gb;m.geoEckert6=function(){return l.geoProjection(ra).scale(173.044)};m.geoEckert6Raw=ra;m.geoEisenlohr=function(){return l.geoProjection(Na).scale(62.5271)};m.geoEisenlohrRaw=
Na;m.geoFahey=function(){return l.geoProjection(Ta).scale(137.152)};m.geoFaheyRaw=Ta;m.geoFoucaut=function(){return l.geoProjection(za).scale(135.264)};m.geoFoucautRaw=za;m.geoFoucautSinusoidal=function(){var ta=.5,ua=l.geoProjectionMutator(pa),Ia=ua(ta);Ia.alpha=function(La){return arguments.length?ua(ta=+La):ta};return Ia.scale(168.725)};m.geoFoucautSinusoidalRaw=pa;m.geoGilbert=function(ta){function ua(bb){return La([bb[0]/2,G(Xa(bb[1]/2*fd))*ed])}function Ia(bb){ua[bb]=function(){return arguments.length?
(La[bb].apply(La,arguments),ua):La[bb]()}}null==ta&&(ta=l.geoOrthographic);var La=ta(),Za=l.geoEquirectangular().scale(ed).precision(0).clipAngle(null).translate([0,0]);La.invert&&(ua.invert=function(bb){return T(La.invert(bb))});ua.stream=function(bb){var nb=La.stream(bb);bb=Za.stream({point:function(zb,wb){nb.point(zb/2,G(Xa(-wb/2*fd))*ed)},lineStart:function(){nb.lineStart()},lineEnd:function(){nb.lineEnd()},polygonStart:function(){nb.polygonStart()},polygonEnd:function(){nb.polygonEnd()}});bb.sphere=
nb.sphere;return bb};ua.rotate=function(bb){return arguments.length?(Za.rotate(bb),ua):Za.rotate()};ua.center=function(bb){return arguments.length?(La.center([bb[0]/2,G(Xa(bb[1]/2*fd))*ed]),ua):T(La.center())};Ia("angle");Ia("clipAngle");Ia("clipExtent");Ia("fitExtent");Ia("fitHeight");Ia("fitSize");Ia("fitWidth");Ia("scale");Ia("translate");Ia("precision");return ua.scale(249.5)};m.geoGingery=function(){var ta=6,ua=30*fd,Ia=Zb(ua),La=Aa(ua),Za=l.geoProjectionMutator(W),bb=Za(ua,ta),nb=bb.stream,
zb=-Zb(.01*fd),wb=Aa(.01*fd);bb.radius=function(Bb){if(!arguments.length)return ua*ed;Ia=Zb(ua=Bb*fd);La=Aa(ua);return Za(ua,ta)};bb.lobes=function(Bb){return arguments.length?Za(ua,ta=+Bb):ta};bb.stream=function(Bb){var Hb=bb.rotate(),Tb=nb(Bb),mc=(bb.rotate([0,0]),nb(Bb));bb.rotate(Hb);Tb.sphere=function(){mc.polygonStart();mc.lineStart();for(var X=0,na=2*fb/ta,Ja=0;X<ta;++X,Ja-=na)mc.point(ge(wb*Zb(Ja),zb)*ed,G(wb*Aa(Ja))*ed),mc.point(ge(La*Zb(Ja-na/2),Ia)*ed,G(La*Aa(Ja-na/2))*ed);mc.lineEnd();
mc.polygonEnd()};return Tb};return bb.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};m.geoGingeryRaw=W;m.geoGinzburg4=function(){return l.geoProjection(zf).scale(149.995)};m.geoGinzburg4Raw=zf;m.geoGinzburg5=function(){return l.geoProjection(Wc).scale(153.93)};m.geoGinzburg5Raw=Wc;m.geoGinzburg6=function(){return l.geoProjection(xe).scale(130.945)};m.geoGinzburg6Raw=xe;m.geoGinzburg8=function(){return l.geoProjection(ea).scale(131.747)};m.geoGinzburg8Raw=ea;m.geoGinzburg9=function(){return l.geoProjection(Me).scale(131.087)};
m.geoGinzburg9Raw=Me;m.geoGringorten=function(){return l.geoProjection(oa(ba)).scale(239.75)};m.geoGringortenRaw=ba;m.geoGuyou=function(){return l.geoProjection(oa(db)).scale(151.496)};m.geoGuyouRaw=db;m.geoHammer=function(){var ta=2,ua=l.geoProjectionMutator(n),Ia=ua(ta);Ia.coefficient=function(La){return arguments.length?ua(ta=+La):ta};return Ia.scale(169.529)};m.geoHammerRaw=n;m.geoHammerRetroazimuthal=function(){var ta=0,ua=l.geoProjectionMutator(ab),Ia=ua(ta),La=Ia.rotate,Za=Ia.stream,bb=l.geoCircle();
Ia.parallel=function(nb){if(!arguments.length)return ta*ed;var zb=Ia.rotate();return ua(ta=nb*fd).rotate(zb)};Ia.rotate=function(nb){if(!arguments.length)return nb=La.call(Ia),nb[1]+=ta*ed,nb;La.call(Ia,[nb[0],nb[1]-ta*ed]);bb.center([-nb[0],-nb[1]]);return Ia};Ia.stream=function(nb){nb=Za(nb);nb.sphere=function(){nb.polygonStart();var zb=bb.radius(89.99)().coordinates[0],wb=zb.length-1,Bb=-1,Hb;for(nb.lineStart();++Bb<wb;)nb.point((Hb=zb[Bb])[0],Hb[1]);nb.lineEnd();zb=bb.radius(90.01)().coordinates[0];
for(nb.lineStart();0<=--Bb;)nb.point((Hb=zb[Bb])[0],Hb[1]);nb.lineEnd();nb.polygonEnd()};return nb};return Ia.scale(79.4187).parallel(45).clipAngle(179.999)};m.geoHammerRetroazimuthalRaw=ab;m.geoHealpix=function(){var ta=4,ua=l.geoProjectionMutator(Sa),Ia=ua(ta),La=Ia.stream;Ia.lobes=function(Za){return arguments.length?ua(ta=+Za):ta};Ia.stream=function(Za){var bb=Ia.rotate(),nb=La(Za),zb=(Ia.rotate([0,0]),La(Za));Ia.rotate(bb);nb.sphere=function(){l.geoStream(bc(180/ta),zb)};return nb};return Ia.scale(239.75)};
m.geoHealpixRaw=Sa;m.geoHill=function(){var ta=1,ua=l.geoProjectionMutator(wc),Ia=ua(ta);Ia.ratio=function(La){return arguments.length?ua(ta=+La):ta};return Ia.scale(167.774).center([0,18.67])};m.geoHillRaw=wc;m.geoHomolosine=function(){return l.geoProjection(kc).scale(152.63)};m.geoHomolosineRaw=kc;m.geoHufnagel=function(){var ta=1,ua=0,Ia=45*fd,La=2,Za=l.geoProjectionMutator(vc),bb=Za(ta,ua,Ia,La);bb.a=function(nb){return arguments.length?Za(ta=+nb,ua,Ia,La):ta};bb.b=function(nb){return arguments.length?
Za(ta,ua=+nb,Ia,La):ua};bb.psiMax=function(nb){return arguments.length?Za(ta,ua,Ia=+nb*fd,La):Ia*ed};bb.ratio=function(nb){return arguments.length?Za(ta,ua,Ia,La=+nb):La};return bb.scale(180.739)};m.geoHufnagelRaw=vc;m.geoHyperelliptical=function(){var ta=0,ua=2.5,Ia=1.183136,La=l.geoProjectionMutator(dc),Za=La(ta,ua,Ia);Za.alpha=function(bb){return arguments.length?La(ta=+bb,ua,Ia):ta};Za.k=function(bb){return arguments.length?La(ta,ua=+bb,Ia):ua};Za.gamma=function(bb){return arguments.length?La(ta,
ua,Ia=+bb):Ia};return Za.scale(152.63)};m.geoHyperellipticalRaw=dc;m.geoInterrupt=ac;m.geoInterruptedBoggs=function(){return ac(x,yf).scale(160.857)};m.geoInterruptedHomolosine=function(){return ac(kc,re).scale(152.63)};m.geoInterruptedMollweide=function(){return ac(sd,Qe).scale(169.529)};m.geoInterruptedMollweideHemispheres=function(){return ac(sd,va).scale(169.529).rotate([20,0])};m.geoInterruptedSinuMollweide=function(){return ac($c,Ka,C).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};m.geoInterruptedSinusoidal=
function(){return ac(H,sb).scale(152.63).rotate([-20,0])};m.geoKavrayskiy7=function(){return l.geoProjection(Oc).scale(158.837)};m.geoKavrayskiy7Raw=Oc;m.geoLagrange=function(){var ta=.5,ua=l.geoProjectionMutator(Sc),Ia=ua(ta);Ia.spacing=function(La){return arguments.length?ua(ta=+La):ta};return Ia.scale(124.75)};m.geoLagrangeRaw=Sc;m.geoLarrivee=function(){return l.geoProjection(Bc).scale(97.2672)};m.geoLarriveeRaw=Bc;m.geoLaskowski=function(){return l.geoProjection(pd).scale(139.98)};m.geoLaskowskiRaw=
pd;m.geoLittrow=function(){return l.geoProjection(Rd).scale(144.049).clipAngle(89.999)};m.geoLittrowRaw=Rd;m.geoLoximuthal=function(){return D(hd).parallel(40).scale(158.837)};m.geoLoximuthalRaw=hd;m.geoMiller=function(){return l.geoProjection(cd).scale(108.318)};m.geoMillerRaw=cd;m.geoModifiedStereographic=cb;m.geoModifiedStereographicRaw=Dd;m.geoModifiedStereographicAlaska=function(){return cb(Mb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};m.geoModifiedStereographicGs48=
function(){return cb(Yb,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};m.geoModifiedStereographicGs50=function(){return cb(ec,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};m.geoModifiedStereographicMiller=function(){return cb(Tc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};m.geoModifiedStereographicLee=function(){return cb(Ic,[165,10]).scale(250).clipAngle(130).center([-165,-10])};m.geoMollweide=function(){return l.geoProjection(sd).scale(169.529)};
m.geoMollweideRaw=sd;m.geoMtFlatPolarParabolic=function(){return l.geoProjection(yb).scale(164.859)};m.geoMtFlatPolarParabolicRaw=yb;m.geoMtFlatPolarQuartic=function(){return l.geoProjection(Sb).scale(188.209)};m.geoMtFlatPolarQuarticRaw=Sb;m.geoMtFlatPolarSinusoidal=function(){return l.geoProjection(ld).scale(166.518)};m.geoMtFlatPolarSinusoidalRaw=ld;m.geoNaturalEarth2=function(){return l.geoProjection(xd).scale(175.295)};m.geoNaturalEarth2Raw=xd;m.geoNellHammer=function(){return l.geoProjection(Pd).scale(152.63)};
m.geoNellHammerRaw=Pd;m.geoInterruptedQuarticAuthalic=function(){return ac(n(Infinity),Nd).rotate([20,0]).scale(152.63)};m.geoNicolosi=function(){return l.geoProjection(me).scale(127.267)};m.geoNicolosiRaw=me;m.geoPatterson=function(){return l.geoProjection(Ha).scale(139.319)};m.geoPattersonRaw=Ha;m.geoPolyconic=function(){return l.geoProjection(Ya).scale(103.74)};m.geoPolyconicRaw=Ya;m.geoPolyhedral=Gb;m.geoPolyhedralButterfly=function(ta){ta=ta||function(Ia){Ia=l.geoCentroid({type:"MultiPoint",
coordinates:Ia});return l.geoGnomonic().scale(1).translate([0,0]).rotate([-Ia[0],-Ia[1]])};var ua=Ge.map(function(Ia){return{face:Ia,project:ta(Ia)}});[-1,0,0,1,0,1,4,5].forEach(function(Ia,La){(Ia=ua[Ia])&&(Ia.children||(Ia.children=[])).push(ua[La])});return Gb(ua[0],function(Ia,La){return ua[Ia<-fb/2?0>La?6:4:0>Ia?0>La?2:0:Ia<fb/2?0>La?3:1:0>La?7:5]}).angle(-30).scale(101.858).center([0,45])};m.geoPolyhedralCollignon=function(ta){ta=ta||function(Ia){Ia=l.geoCentroid({type:"MultiPoint",coordinates:Ia});
return l.geoProjection(cc).translate([0,0]).scale(1).rotate(0<Ia[1]?[-Ia[0],0]:[180-Ia[0],180])};var ua=Ge.map(function(Ia){return{face:Ia,project:ta(Ia)}});[-1,0,0,1,0,1,4,5].forEach(function(Ia,La){(Ia=ua[Ia])&&(Ia.children||(Ia.children=[])).push(ua[La])});return Gb(ua[0],function(Ia,La){return ua[Ia<-fb/2?0>La?6:4:0>Ia?0>La?2:0:Ia<fb/2?0>La?3:1:0>La?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};m.geoPolyhedralWaterman=function(ta){ta=ta||function(bb){bb=6===bb.length?l.geoCentroid({type:"MultiPoint",
coordinates:bb}):bb[0];return l.geoGnomonic().scale(1).translate([0,0]).rotate([-bb[0],-bb[1]])};var ua=Ge.map(function(bb){bb=bb.map(Ib);for(var nb=bb.length,zb=bb[nb-1],wb,Bb=[],Hb=0;Hb<nb;++Hb)wb=bb[Hb],Bb.push(Kc([.9486832980505138*zb[0]+.31622776601683794*wb[0],.9486832980505138*zb[1]+.31622776601683794*wb[1],.9486832980505138*zb[2]+.31622776601683794*wb[2]]),Kc([.9486832980505138*wb[0]+.31622776601683794*zb[0],.9486832980505138*wb[1]+.31622776601683794*zb[1],.9486832980505138*wb[2]+.31622776601683794*
zb[2]])),zb=wb;return Bb}),Ia=[],La=[-1,0,0,1,0,1,4,5];ua.forEach(function(bb,nb){for(var zb=Ge[nb],wb=zb.length,Bb=Ia[nb]=[],Hb=0;Hb<wb;++Hb)ua.push([zb[Hb],bb[(2*Hb+2)%(2*wb)],bb[(2*Hb+1)%(2*wb)]]),La.push(nb),Bb.push(oc(Ib(bb[(2*Hb+2)%(2*wb)]),Ib(bb[(2*Hb+1)%(2*wb)])))});var Za=ua.map(function(bb){return{project:ta(bb),face:bb}});La.forEach(function(bb,nb){(bb=Za[bb])&&(bb.children||(bb.children=[])).push(Za[nb])});return Gb(Za[0],function(bb,nb){var zb=Zb(nb);zb=[zb*Zb(bb),zb*Aa(bb),Aa(nb)];bb=
bb<-fb/2?0>nb?6:4:0>bb?0>nb?2:0:bb<fb/2?0>nb?3:1:0>nb?7:5;nb=Ia[bb];return Za[0>qc(nb[0],zb)?8+3*bb:0>qc(nb[1],zb)?3*bb+9:0>qc(nb[2],zb)?3*bb+10:bb]}).angle(-30).scale(110.625).center([0,45])};m.geoProject=function(ta,ua){ua=ua.stream;if(!ua)throw Error("invalid projection");switch(ta&&ta.type){case "Feature":var Ia=zc;break;case "FeatureCollection":Ia=sc;break;default:Ia=Jc}return Ia(ta,ua)};m.geoGringortenQuincuncial=function(){return Mc(ba).scale(176.423)};m.geoPeirceQuincuncial=function(){return Mc(db).scale(111.48)};
m.geoQuantize=function(ta,ua){function Ia(wb){var Bb=wb.length,Hb=2,Tb=Array(Bb);Tb[0]=+wb[0].toFixed(ua);for(Tb[1]=+wb[1].toFixed(ua);Hb<Bb;)Tb[Hb]=wb[Hb],++Hb;return Tb}function La(wb){for(var Bb=Ia(wb[0]),Hb=[Bb],Tb=1;Tb<wb.length;Tb++){var mc=Ia(wb[Tb]);if(2<mc.length||mc[0]!=Bb[0]||mc[1]!=Bb[1])Hb.push(mc),Bb=mc}1===Hb.length&&1<wb.length&&Hb.push(Ia(wb[wb.length-1]));return Hb}function Za(wb){return wb.map(La)}function bb(wb){if(null==wb)return wb;switch(wb.type){case "GeometryCollection":var Bb=
{type:"GeometryCollection",geometries:wb.geometries.map(bb)};break;case "Point":Bb={type:"Point",coordinates:Ia(wb.coordinates)};break;case "MultiPoint":Bb={type:wb.type,coordinates:wb.coordinates.map(Ia)};break;case "LineString":Bb={type:wb.type,coordinates:La(wb.coordinates)};break;case "MultiLineString":case "Polygon":Bb={type:wb.type,coordinates:Za(wb.coordinates)};break;case "MultiPolygon":Bb={type:"MultiPolygon",coordinates:wb.coordinates.map(Za)};break;default:return wb}null!=wb.bbox&&(Bb.bbox=
wb.bbox);return Bb}function nb(wb){var Bb={type:"Feature",properties:wb.properties,geometry:bb(wb.geometry)};null!=wb.id&&(Bb.id=wb.id);null!=wb.bbox&&(Bb.bbox=wb.bbox);return Bb}if(!(0<=(ua=+ua)&&20>=ua))throw Error("invalid digits");if(null!=ta)switch(ta.type){case "Feature":return nb(ta);case "FeatureCollection":var zb={type:"FeatureCollection",features:ta.features.map(nb)};null!=ta.bbox&&(zb.bbox=ta.bbox);return zb;default:return bb(ta)}return ta};m.geoQuincuncial=Mc;m.geoRectangularPolyconic=
function(){return D(Nc).scale(131.215)};m.geoRectangularPolyconicRaw=Nc;m.geoRobinson=function(){return l.geoProjection(md).scale(152.63)};m.geoRobinsonRaw=md;m.geoSatellite=function(){var ta=2,ua=0,Ia=l.geoProjectionMutator(Cd),La=Ia(ta,ua);La.distance=function(Za){return arguments.length?Ia(ta=+Za,ua):ta};La.tilt=function(Za){return arguments.length?Ia(ta,ua=Za*fd):ua*ed};return La.scale(432.147).clipAngle(L(1/ta)*ed-1E-6)};m.geoSatelliteRaw=Cd;m.geoSinuMollweide=function(){return l.geoProjection($c).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};m.geoSinuMollweideRaw=$c;m.geoSinusoidal=function(){return l.geoProjection(H).scale(152.63)};m.geoSinusoidalRaw=H;m.geoStitch=function(ta){if(null==ta)return ta;switch(ta.type){case "Feature":return De(ta);case "FeatureCollection":var ua={type:"FeatureCollection",features:ta.features.map(De)};null!=ta.bbox&&(ua.bbox=ta.bbox);return ua;default:return Fd(ta)}};m.geoTimes=function(){return l.geoProjection(Zd).scale(146.153)};m.geoTimesRaw=Zd;m.geoTwoPointAzimuthal=
tf;m.geoTwoPointAzimuthalRaw=Be;m.geoTwoPointAzimuthalUsa=function(){return tf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};m.geoTwoPointEquidistant=be;m.geoTwoPointEquidistantRaw=Td;m.geoTwoPointEquidistantUsa=function(){return be([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};m.geoVanDerGrinten=function(){return l.geoProjection(Le).scale(79.4183)};m.geoVanDerGrintenRaw=Le;m.geoVanDerGrinten2=function(){return l.geoProjection(ce).scale(79.4183)};m.geoVanDerGrinten2Raw=ce;m.geoVanDerGrinten3=
function(){return l.geoProjection(yd).scale(79.4183)};m.geoVanDerGrinten3Raw=yd;m.geoVanDerGrinten4=function(){return l.geoProjection(Ad).scale(127.16)};m.geoVanDerGrinten4Raw=Ad;m.geoWagner=qe;m.geoWagner7=function(){return qe().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};m.geoWagnerRaw=ef;m.geoWagner4=function(){return l.geoProjection(Uf).scale(176.84)};m.geoWagner4Raw=Uf;m.geoWagner6=function(){return l.geoProjection(Ed).scale(152.63)};m.geoWagner6Raw=Ed;m.geoWiechel=function(){return l.geoProjection(Ie).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};m.geoWiechelRaw=Ie;m.geoWinkel3=function(){return l.geoProjection(nf).scale(158.837)};m.geoWinkel3Raw=nf;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(41),z(42)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.d3,m.d3))})(this,function(m,l,w){function G(k,f){return function g(){const a=f();a.type=k;a.path=l.geoPath().projection(a);a.copy=a.copy||function(){const e=g();u.forEach(n=>{if(a[n])e[n](a[n]())});e.path.pointRadius(a.path.pointRadius());
return e};return a}}function L(k,f){if(!k||"string"!==typeof k)throw Error("Projection type must be a name string.");k=k.toLowerCase();return 1<arguments.length?(t[k]=G(k,f),this):t[k]||null}const v=l.geoPath(),u="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),t={albers:l.geoAlbers,albersusa:l.geoAlbersUsa,azimuthalequalarea:l.geoAzimuthalEqualArea,azimuthalequidistant:l.geoAzimuthalEquidistant,
conicconformal:l.geoConicConformal,conicequalarea:l.geoConicEqualArea,conicequidistant:l.geoConicEquidistant,equalEarth:l.geoEqualEarth,equirectangular:l.geoEquirectangular,gnomonic:l.geoGnomonic,identity:l.geoIdentity,mercator:l.geoMercator,mollweide:w.geoMollweide,naturalEarth1:l.geoNaturalEarth1,orthographic:l.geoOrthographic,stereographic:l.geoStereographic,transversemercator:l.geoTransverseMercator};for(const k in t)L(k,t[k]);m.getProjectionPath=function(k){return k&&k.path||v};m.projection=
L;m.projectionProperties=u;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(28),z(16),z(17),z(29),z(43),z(41),z(34),z(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.d3,m.vega,m.vega,m.d3,m.d3,m.vega))})(this,function(m,l,w,G,L,v,u,t,k){function f(){}
function d(){function za(ea,oa){return oa.map(ba=>pa(ea,ba))}function pa(ea,oa){var ba=[],Fa=[];T(ea,oa,Ra=>{ca(Ra,ea,oa);for(var Ma=0,db=Ra.length,ab=Ra[db-1][1]*Ra[0][0]-Ra[db-1][0]*Ra[0][1];++Ma<db;)ab+=Ra[Ma-1][1]*Ra[Ma][0]-Ra[Ma-1][0]*Ra[Ma][1];0<ab?ba.push([Ra]):Fa.push(Ra)});Fa.forEach(Ra=>{for(var Ma=0,db=ba.length,ab;Ma<db;++Ma){a:{var Ba=(ab=ba[Ma])[0];for(var Sa=Ra,lb=-1,ub=Sa.length;++lb<ub;){b:{var Jb=Ba;for(var bc=Sa[lb],wc=bc[0],$c=bc[1],kc=-1,vc=0,jb=Jb.length,fc=jb-1;vc<jb;fc=vc++){var dc=
Jb[vc],hc=dc[0],Ac=dc[1],ac=Jb[fc];fc=ac[0];var Oc=ac[1],Sc,Bc=dc;dc=ac;ac=bc;if(Sc=(dc[0]-Bc[0])*(ac[1]-Bc[1])===(ac[0]-Bc[0])*(dc[1]-Bc[1]))Bc=Bc[Sc=+(Bc[0]===dc[0])],ac=ac[Sc],dc=dc[Sc],Sc=Bc<=ac&&ac<=dc||dc<=ac&&ac<=Bc;if(Sc){Jb=0;break b}Ac>$c!==Oc>$c&&wc<(fc-hc)*($c-Ac)/(Oc-Ac)+hc&&(kc=-kc)}Jb=kc}if(Jb){Ba=Jb;break a}}Ba=0}if(-1!==Ba){ab.push(Ra);break}}});return{type:"MultiPolygon",value:oa,coordinates:ba}}function T(ea,oa,ba){function Fa(Jb){var bc=[Jb[0][0]+ab,Jb[0][1]+db];Jb=[Jb[1][0]+ab,
Jb[1][1]+db];var wc=2*bc[0]+bc[1]*(M+1)*4,$c=2*Jb[0]+Jb[1]*(M+1)*4,kc,vc;(kc=Ma[wc])?(vc=Ra[$c])?(delete Ma[kc.end],delete Ra[vc.start],kc===vc?(kc.ring.push(Jb),ba(kc.ring)):Ra[kc.start]=Ma[vc.end]={start:kc.start,end:vc.end,ring:kc.ring.concat(vc.ring)}):(delete Ma[kc.end],kc.ring.push(Jb),Ma[kc.end=$c]=kc):(kc=Ra[$c])?(vc=Ma[wc])?(delete Ra[kc.start],delete Ma[vc.end],kc===vc?(kc.ring.push(Jb),ba(kc.ring)):Ra[vc.start]=Ma[kc.end]={start:vc.start,end:kc.end,ring:vc.ring.concat(kc.ring)}):(delete Ra[kc.start],
kc.ring.unshift(bc),Ra[kc.start=wc]=kc):Ra[wc]=Ma[$c]={start:wc,end:$c,ring:[bc,Jb]}}var Ra=[],Ma=[],db;var ab=db=-1;var Ba=ea[0]>=oa;for(Na[Ba<<1].forEach(Fa);++ab<M-1;){var Sa=Ba;Ba=ea[ab+1]>=oa;Na[Sa|Ba<<1].forEach(Fa)}for(Na[Ba<<0].forEach(Fa);++db<P-1;){ab=-1;Ba=ea[db*M+M]>=oa;var lb=ea[db*M]>=oa;for(Na[Ba<<1|lb<<2].forEach(Fa);++ab<M-1;){Sa=Ba;Ba=ea[db*M+M+ab+1]>=oa;var ub=lb;lb=ea[db*M+ab+1]>=oa;Na[Sa|Ba<<1|lb<<2|ub<<3].forEach(Fa)}Na[Ba|lb<<3].forEach(Fa)}ab=-1;lb=ea[db*M]>=oa;for(Na[lb<<
2].forEach(Fa);++ab<M-1;)ub=lb,lb=ea[db*M+ab+1]>=oa,Na[lb<<2|ub<<3].forEach(Fa);Na[lb<<3].forEach(Fa)}function W(ea,oa,ba){ea.forEach(Fa=>{var Ra=Fa[0],Ma=Fa[1],db=Ra|0,ab=Ma|0,Ba=oa[ab*M+db];if(0<Ra&&Ra<M&&db===Ra){var Sa=oa[ab*M+db-1];Fa[0]=Ra+(ba-Sa)/(Ba-Sa)-.5}0<Ma&&Ma<P&&ab===Ma&&(Sa=oa[(ab-1)*M+db],Fa[1]=Ma+(ba-Sa)/(Ba-Sa)-.5)})}var M=1,P=1,ca=W;za.contour=pa;za.size=function(ea){if(!arguments.length)return[M,P];var oa=Math.floor(ea[0]),ba=Math.floor(ea[1]);0<=oa&&0<=ba||w.error("invalid size");
return M=oa,P=ba,za};za.smooth=function(ea){return arguments.length?(ca=ea?W:f,za):ca===W};return za}function g(za,pa,T){return function(W){var M=w.extent(W);W=T?Math.min(M[0],0):M[0];M=M[1];var P=M-W;P=pa?G.tickStep(W,M,za):P/(za+1);return G.range(W+P,M,P)}}function a(za){l.Transform.call(this,null,za)}function e(za,pa,T){const W=g(T.levels||10,T.nice,!1!==T.zero);return"shared"!==T.resolve?W:W(za.map(M=>G.max(pa(M).values)))}function n(za,pa,T,W){var M=W.scale||pa.scale;let P=W.translate||pa.translate;
w.isFunction(M)&&(M=M(T,W));w.isFunction(P)&&(P=P(T,W));if(1!==M&&null!=M||P)T=(w.isNumber(M)?M:M[0])||1,M=(w.isNumber(M)?M:M[1])||1,za.forEach(y(pa,T,M,P&&P[0]||0,P&&P[1]||0))}function y(za,pa,T,W,M){function P(Ra){Ra.forEach(ca)}function ca(Ra){Fa&&Ra.reverse();Ra.forEach(ea)}function ea(Ra){Ra[0]=(Ra[0]-oa)*pa+W;Ra[1]=(Ra[1]-ba)*T+M}const oa=za.x1||0,ba=za.y1||0,Fa=0>pa*T;return function(Ra){Ra.coordinates.forEach(P);return Ra}}function A(za,pa,T){za=0<=za?za:L.bandwidthNRD(pa,T);return Math.round((Math.sqrt(4*
za*za+1)-1)/2)}function C(za){return w.isFunction(za)?za:w.constant(+za)}function N(){function za(oa,ba){const Fa=A(M[0],oa,pa)>>ea,Ra=A(M[1],oa,T)>>ea,Ma=Fa?Fa+2:0,db=Ra?Ra+2:0,ab=2*Ma+(P>>ea),Ba=2*db+(ca>>ea),Sa=new Float32Array(ab*Ba),lb=new Float32Array(ab*Ba);let ub=Sa;oa.forEach(Jb=>{const bc=Ma+(+pa(Jb)>>ea),wc=db+(+T(Jb)>>ea);0<=bc&&bc<ab&&0<=wc&&wc<Ba&&(Sa[bc+wc*ab]+=+W(Jb))});0<Fa&&0<Ra?(K(ab,Ba,Sa,lb,Fa),E(ab,Ba,lb,Sa,Ra),K(ab,Ba,Sa,lb,Fa),E(ab,Ba,lb,Sa,Ra),K(ab,Ba,Sa,lb,Fa),E(ab,Ba,lb,
Sa,Ra)):0<Fa?(K(ab,Ba,Sa,lb,Fa),K(ab,Ba,lb,Sa,Fa),K(ab,Ba,Sa,lb,Fa),ub=lb):0<Ra&&(E(ab,Ba,Sa,lb,Ra),E(ab,Ba,lb,Sa,Ra),E(ab,Ba,Sa,lb,Ra),ub=lb);oa=ba?Math.pow(2,-2*ea):1/G.sum(ub);for(let Jb=0,bc=ab*Ba;Jb<bc;++Jb)ub[Jb]*=oa;return{values:ub,scale:1<<ea,width:ab,height:Ba,x1:Ma,y1:db,x2:Ma+(P>>ea),y2:db+(ca>>ea)}}var pa=oa=>oa[0],T=oa=>oa[1],W=w.one,M=[-1,-1],P=960,ca=500,ea=2;za.x=function(oa){return arguments.length?(pa=C(oa),za):pa};za.y=function(oa){return arguments.length?(T=C(oa),za):T};za.weight=
function(oa){return arguments.length?(W=C(oa),za):W};za.size=function(oa){if(!arguments.length)return[P,ca];var ba=+oa[0],Fa=+oa[1];0<=ba&&0<=Fa||w.error("invalid size");return P=ba,ca=Fa,za};za.cellSize=function(oa){if(!arguments.length)return 1<<ea;1<=(oa=+oa)||w.error("invalid cell size");ea=Math.floor(Math.log(oa)/Math.LN2);return za};za.bandwidth=function(oa){if(!arguments.length)return M;oa=w.array(oa);1===oa.length&&(oa=[+oa[0],+oa[0]]);2!==oa.length&&w.error("invalid bandwidth");return M=
oa,za};return za}function K(za,pa,T,W,M){const P=(M<<1)+1;for(let ca=0;ca<pa;++ca)for(let ea=0,oa=0;ea<za+M;++ea)ea<za&&(oa+=T[ea+ca*za]),ea>=M&&(ea>=P&&(oa-=T[ea-P+ca*za]),W[ea-M+ca*za]=oa/Math.min(ea+1,za-1+P-ea,P))}function E(za,pa,T,W,M){const P=(M<<1)+1;for(let ca=0;ca<za;++ca)for(let ea=0,oa=0;ea<pa+M;++ea)ea<pa&&(oa+=T[ca+ea*za]),ea>=M&&(ea>=P&&(oa-=T[ca+(ea-P)*za]),W[ca+(ea-M)*za]=oa/Math.min(ea+1,pa-1+P-ea,P))}function x(za){l.Transform.call(this,null,za)}function D(za,pa){Ta.forEach(T=>
null!=pa[T]?za[T](pa[T]):0);return za}function H(za,pa){var T=[],W=Fa=>Fa(ea),M;if(null==pa)T.push(za);else{var P={};var ca=0;for(M=za.length;ca<M;++ca){var ea=za[ca];var oa=pa.map(W);var ba=P[oa];ba||(P[oa]=ba=[],ba.dims=oa,T.push(ba));ba.push(ea)}}return T}function S(za){l.Transform.call(this,null,za)}function U(za){l.Transform.call(this,null,za)}function ia(za){l.Transform.call(this,null,za)}function fa(za,pa){const T=za.pointRadius();za.context(null);null!=pa&&za.pointRadius(pa);return T}function ja(za){l.Transform.call(this,
null,za)}function la(za){l.Transform.call(this,null,za)}function da(za,pa,T){const W=null==T?M=>za(pa(M)):M=>{var P=za.pointRadius();M=za.pointRadius(T)(pa(M));za.pointRadius(P);return M};W.context=M=>{za.context(M);return W};return W}function O(za){l.Transform.call(this,[],za);this.generator=u.geoGraticule()}function B(za){l.Transform.call(this,null,za)}function Y(za,pa){let T;w.isFunction(za)?(T=W=>t.rgb(za(W,pa)),T.dep=Z(za)):T=w.constant(t.rgb(za||"#888"));return T}function ka(za,pa){let T;w.isFunction(za)?
(T=W=>za(W,pa),T.dep=Z(za)):za?T=w.constant(za):(T=W=>W.$value/W.$max||0,T.dep=!0);return T}function Z(za){if(!w.isFunction(za))return!1;za=w.toSet(w.accessorFields(za));return za.$x||za.$y||za.$value||za.$max}function wa(za,pa,T,W){const M=za.width;var P=za.height;const ca=za.x1||0,ea=za.y1||0,oa=za.x2||M;P=za.y2||P;const ba=za.values;za=ba?ab=>ba[ab]:w.zero;const Fa=k.canvas(oa-ca,P-ea),Ra=Fa.getContext("2d"),Ma=Ra.getImageData(0,0,oa-ca,P-ea),db=Ma.data;for(let ab=ea,Ba=0;ab<P;++ab){pa.$y=ab-ea;
for(let Sa=ca,lb=ab*M;Sa<oa;++Sa,Ba+=4){pa.$x=Sa-ca;pa.$value=za(Sa+lb);const ub=T(pa);db[Ba+0]=ub.r;db[Ba+1]=ub.g;db[Ba+2]=ub.b;db[Ba+3]=~~(255*W(pa))}}Ra.putImageData(Ma,0,0);return Fa}function xa(za){l.Transform.call(this,null,za);this.modified(!0)}function Da(za,pa){const T=gb(pa.fit);pa.extent?za.fitExtent(pa.extent,T):pa.size?za.fitSize(pa.size,T):0}function Wa(za){const pa=v.projection((za||"mercator").toLowerCase());pa||w.error("Unrecognized projection type: "+za);return pa()}function gb(za){za=
w.array(za);return 1===za.length?za[0]:{type:"FeatureCollection",features:za.reduce((pa,T)=>pa.concat(ra(T)),[])}}function ra(za){return"FeatureCollection"===za.type?za.features:w.array(za).filter(pa=>null!=pa).map(pa=>"Feature"===pa.type?pa:{type:"Feature",geometry:pa})}const Na=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,
1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},
{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};w.inherits(a,l.Transform,{transform(za,pa){if(this.value&&!pa.changed()&&!za.modified())return pa.StopPropagation;var T=pa.fork(pa.NO_SOURCE|pa.NO_FIELDS);pa=pa.materialize(pa.SOURCE).source;var W=za.field||w.identity,M=d().smooth(!1!==za.smooth),P=za.thresholds||e(pa,W,za),ca=null===za.as?null:za.as||"contour",ea=[];pa.forEach(oa=>{const ba=W(oa),Fa=M.size([ba.width,ba.height])(ba.values,w.isArray(P)?
P:P(ba.values));n(Fa,ba,oa,za);Fa.forEach(Ra=>{ea.push(l.rederive(oa,l.ingest(null!=ca?{[ca]:Ra}:Ra)))})});this.value&&(T.rem=this.value);this.value=T.source=T.add=ea;return T}});x.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,
length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ta="x y weight size cellSize bandwidth".split(" ");w.inherits(x,l.Transform,{transform(za,pa){function T(oa,ba){for(let Fa=0;Fa<M.length;++Fa)oa[M[Fa]]=ba[Fa];return oa}if(this.value&&!pa.changed()&&!za.modified())return pa.StopPropagation;var W=pa.fork(pa.NO_SOURCE|pa.NO_FIELDS);pa=pa.materialize(pa.SOURCE).source;pa=H(pa,za.groupby);var M=(za.groupby||[]).map(w.accessorName),P=D(N(),za),ca=za.as||
"grid",ea=[];ea=pa.map(oa=>l.ingest(T({[ca]:P(oa,za.counts)},oa.dims)));this.value&&(W.rem=this.value);this.value=W.source=W.add=ea;return W}});S.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",
"default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};w.inherits(S,l.Transform,{transform(za,pa){if(this.value&&!pa.changed()&&!za.modified())return pa.StopPropagation;var T=pa.fork(pa.NO_SOURCE|pa.NO_FIELDS),W=d().smooth(!1!==za.smooth),M=za.values,P=za.thresholds||g(za.count||10,za.nice,!!M),ca=za.size;if(!M){M=pa.materialize(pa.SOURCE).source;za=D(N(),za)(M,!0);var ea=y(za,za.scale||1,za.scale||1,0,0);ca=[za.width,za.height];M=za.values}P=w.isArray(P)?
P:P(M);M=W.size(ca)(M,P);ea&&M.forEach(ea);this.value&&(T.rem=this.value);this.value=T.source=T.add=(M||[]).map(l.ingest);return T}});U.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};w.inherits(U,l.Transform,{transform(za,pa){var T=this._features,W=this._points,M=za.fields,P=M&&M[0],ca=M&&M[1],ea=za.geojson||!M&&w.identity;M=pa.ADD;za=za.modified()||pa.changed(pa.REM)||pa.modified(w.accessorFields(ea))||P&&pa.modified(w.accessorFields(P))||
ca&&pa.modified(w.accessorFields(ca));if(!this.value||za)M=pa.SOURCE,this._features=T=[],this._points=W=[];ea&&pa.visit(M,oa=>T.push(ea(oa)));P&&ca&&(pa.visit(M,oa=>{var ba=P(oa);oa=ca(oa);null!=ba&&null!=oa&&(ba=+ba)===ba&&(oa=+oa)===oa&&W.push([ba,oa])}),T=T.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:W}}));this.value={type:"FeatureCollection",features:T}}});ia.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},
{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};w.inherits(ia,l.Transform,{transform(za,pa){var T=pa.fork(pa.ALL),W=this.value,M=za.field||w.identity,P=za.as||"path",ca=T.SOURCE;!W||za.modified()?(this.value=W=v.getProjectionPath(za.projection),T.materialize().reflow()):ca=M===w.identity||pa.modified(M.fields)?T.ADD_MOD:T.ADD;za=fa(W,za.pointRadius);T.visit(ca,ea=>ea[P]=W(M(ea)));W.pointRadius(za);return T.modifies(P)}});ja.Definition={type:"GeoPoint",metadata:{modifies:!0},
params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};w.inherits(ja,l.Transform,{transform(za,pa){function T(ba){const Fa=W([M(ba),P(ba)]);Fa?(ba[ea]=Fa[0],ba[oa]=Fa[1]):(ba[ea]=void 0,ba[oa]=void 0)}var W=za.projection,M=za.fields[0],P=za.fields[1],ca=za.as||["x","y"],ea=ca[0],oa=ca[1];za.modified()?pa=pa.materialize().reflow(!0).visit(pa.SOURCE,T):(za=pa.modified(M.fields)||
pa.modified(P.fields),pa.visit(za?pa.ADD_MOD:pa.ADD,T));return pa.modifies(ca)}});la.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};w.inherits(la,l.Transform,{transform(za,pa){pa=pa.fork(pa.ALL);var T=this.value,W=za.as||"shape",M=pa.ADD;if(!T||za.modified())this.value=T=da(v.getProjectionPath(za.projection),
za.field||w.field("datum"),za.pointRadius),pa.materialize().reflow(),M=pa.SOURCE;pa.visit(M,P=>P[W]=T);return pa.modifies(W)}});O.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",
array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};w.inherits(O,l.Transform,{transform(za,pa){var T=this.value,W=this.generator;if(!T.length||za.modified())for(const M in za)if(w.isFunction(W[M]))W[M](za[M]);za=W();T.length?pa.mod.push(l.replace(T[0],za)):pa.add.push(l.ingest(za));T[0]=za;return pa}});B.Definition={type:"heatmap",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};w.inherits(B,l.Transform,{transform(za,pa){if(!pa.changed()&&!za.modified())return pa.StopPropagation;var T=pa.materialize(pa.SOURCE).source,W="shared"===za.resolve,M=za.field||w.identity,P=ka(za.opacity,za),ca=Y(za.color,za),ea=za.as||"image",oa={$x:0,$y:0,
$value:0,$max:W?G.max(T.map(ba=>G.max(M(ba).values))):0};T.forEach(ba=>{const Fa=M(ba),Ra=w.extend({},ba,oa);W||(Ra.$max=G.max(Fa.values||[]));ba[ea]=wa(Fa,Ra,ca.dep?ca:w.constant(ca(Ra)),P.dep?P:w.constant(P(Ra)))});return pa.reflow(!0).modifies(ea)}});w.inherits(xa,l.Transform,{transform(za,pa){let T=this.value;!T||za.modified("type")?(this.value=T=Wa(za.type),v.projectionProperties.forEach(W=>{if(null!=za[W]){var M=T,P=za[W];if(w.isFunction(M[W]))M[W](P)}})):v.projectionProperties.forEach(W=>{if(za.modified(W)){var M=
T,P=za[W];if(w.isFunction(M[W]))M[W](P)}});null!=za.pointRadius&&T.path.pointRadius(za.pointRadius);za.fit&&Da(T,za);return pa.fork(pa.NO_SOURCE|pa.NO_FIELDS)}});m.contour=S;m.geojson=U;m.geopath=ia;m.geopoint=ja;m.geoshape=la;m.graticule=O;m.heatmap=B;m.isocontour=a;m.kde2d=x;m.projection=xa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(f,d,g,a){if(isNaN(d)||isNaN(g))return f;var e,n=f._root;a={data:a};var y=f._x0,A=f._y0,C=f._x1,N=f._y1,K,E,x,D;if(!n)return f._root=a,f;for(;n.length;)if((x=d>=(K=(y+C)/2))?y=K:C=K,(D=g>=(E=(A+N)/2))?A=E:N=E,e=n,!(n=n[x|=D<<1]))return e[x]=a,f;var H=+f._x.call(null,n.data);var S=
+f._y.call(null,n.data);if(d===H&&g===S)return a.next=n,e?e[x]=a:f._root=a,f;do e=e?e[x]=Array(4):f._root=Array(4),(x=d>=(K=(y+C)/2))?y=K:C=K,(D=g>=(E=(A+N)/2))?A=E:N=E;while((x|=D<<1)===(D=(S>=E)<<1|H>=K));return e[D]=n,e[x]=a,f}function w(f,d,g,a,e){this.node=f;this.x0=d;this.y0=g;this.x1=a;this.y1=e}function G(f){return f[0]}function L(f){return f[1]}function v(f,d,g){d=new u(null==d?G:d,null==g?L:g,NaN,NaN,NaN,NaN);return null==f?d:d.addAll(f)}function u(f,d,g,a,e,n){this._x=f;this._y=d;this._x0=
g;this._y0=a;this._x1=e;this._y1=n;this._root=void 0}function t(f){for(var d={data:f.data},g=d;f=f.next;)g=g.next={data:f.data};return d}var k=v.prototype=u.prototype;k.copy=function(){var f=new u(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,g,a;if(!d)return f;if(!d.length)return f._root=t(d),f;for(g=[{source:d,target:f._root=Array(4)}];d=g.pop();)for(var e=0;4>e;++e)if(a=d.source[e])a.length?g.push({source:a,target:d.target[e]=Array(4)}):d.target[e]=t(a);return f};k.add=function(f){const d=
+this._x.call(null,f),g=+this._y.call(null,f);return l(this.cover(d,g),d,g,f)};k.addAll=function(f){var d,g,a=f.length,e,n,y=Array(a),A=Array(a),C=Infinity,N=Infinity,K=-Infinity,E=-Infinity;for(g=0;g<a;++g)isNaN(e=+this._x.call(null,d=f[g]))||isNaN(n=+this._y.call(null,d))||(y[g]=e,A[g]=n,e<C&&(C=e),e>K&&(K=e),n<N&&(N=n),n>E&&(E=n));if(C>K||N>E)return this;this.cover(C,N).cover(K,E);for(g=0;g<a;++g)l(this,y[g],A[g],f[g]);return this};k.cover=function(f,d){if(isNaN(f=+f)||isNaN(d=+d))return this;
var g=this._x0,a=this._y0,e=this._x1,n=this._y1;if(isNaN(g))e=(g=Math.floor(f))+1,n=(a=Math.floor(d))+1;else{for(var y=e-g||1,A=this._root,C,N;g>f||f>=e||a>d||d>=n;)switch(N=(d<a)<<1|f<g,C=Array(4),C[N]=A,A=C,y*=2,N){case 0:e=g+y;n=a+y;break;case 1:g=e-y;n=a+y;break;case 2:e=g+y;a=n-y;break;case 3:g=e-y,a=n-y}this._root&&this._root.length&&(this._root=A)}this._x0=g;this._y0=a;this._x1=e;this._y1=n;return this};k.data=function(){var f=[];this.visit(function(d){if(!d.length){do f.push(d.data);while(d=
d.next)}});return f};k.extent=function(f){return arguments.length?this.cover(+f[0][0],+f[0][1]).cover(+f[1][0],+f[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};k.find=function(f,d,g){var a=this._x0,e=this._y0,n,y,A,C,N=this._x1,K=this._y1,E=[],x=this._root,D;x&&E.push(new w(x,a,e,N,K));null==g?g=Infinity:(a=f-g,e=d-g,N=f+g,K=d+g,g*=g);for(;D=E.pop();)if(!(!(x=D.node)||(n=D.x0)>N||(y=D.y0)>K||(A=D.x1)<a||(C=D.y1)<e))if(x.length){D=(n+A)/2;var H=(y+C)/2;E.push(new w(x[3],
D,H,A,C),new w(x[2],n,H,D,C),new w(x[1],D,y,A,H),new w(x[0],n,y,D,H));if(x=(d>=H)<<1|f>=D)D=E[E.length-1],E[E.length-1]=E[E.length-1-x],E[E.length-1-x]=D}else if(D=f-+this._x.call(null,x.data),H=d-+this._y.call(null,x.data),D=D*D+H*H,D<g){var S=Math.sqrt(g=D);a=f-S;e=d-S;N=f+S;K=d+S;S=x.data}return S};k.remove=function(f){if(isNaN(C=+this._x.call(null,f))||isNaN(N=+this._y.call(null,f)))return this;var d,g=this._root,a,e=this._x0,n=this._y0,y=this._x1,A=this._y1,C,N,K,E,x,D;if(!g)return this;if(g.length)for(;;){(x=
C>=(K=(e+y)/2))?e=K:y=K;(D=N>=(E=(n+A)/2))?n=E:A=E;if(!(d=g,g=g[x|=D<<1]))return this;if(!g.length)break;if(d[x+1&3]||d[x+2&3]||d[x+3&3]){var H=d;var S=x}}for(;g.data!==f;)if(!(a=g,g=g.next))return this;(f=g.next)&&delete g.next;if(a)return f?a.next=f:delete a.next,this;if(!d)return this._root=f,this;f?d[x]=f:delete d[x];(g=d[0]||d[1]||d[2]||d[3])&&g===(d[3]||d[2]||d[1]||d[0])&&!g.length&&(H?H[S]=g:this._root=g);return this};k.removeAll=function(f){for(var d=0,g=f.length;d<g;++d)this.remove(f[d]);
return this};k.root=function(){return this._root};k.size=function(){var f=0;this.visit(function(d){if(!d.length){do++f;while(d=d.next)}});return f};k.visit=function(f){var d=[],g,a=this._root,e,n,y,A;for(a&&d.push(new w(a,this._x0,this._y0,this._x1,this._y1));g=d.pop();)if(!f(a=g.node,n=g.x0,y=g.y0,A=g.x1,g=g.y1)&&a.length){var C=(n+A)/2,N=(y+g)/2;(e=a[3])&&d.push(new w(e,C,N,A,g));(e=a[2])&&d.push(new w(e,n,N,C,g));(e=a[1])&&d.push(new w(e,C,y,A,N));(e=a[0])&&d.push(new w(e,n,y,C,N))}return this};
k.visitAfter=function(f){var d=[],g=[],a;for(this._root&&d.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));a=d.pop();){var e=a.node;if(e.length){var n,y=a.x0,A=a.y0,C=a.x1,N=a.y1,K=(y+C)/2,E=(A+N)/2;(n=e[0])&&d.push(new w(n,y,A,K,E));(n=e[1])&&d.push(new w(n,K,A,C,E));(n=e[2])&&d.push(new w(n,y,E,K,N));(n=e[3])&&d.push(new w(n,K,E,C,N))}g.push(a)}for(;a=g.pop();)f(a.node,a.x0,a.y0,a.x1,a.y1);return this};k.x=function(f){return arguments.length?(this._x=f,this):this._x};k.y=function(f){return arguments.length?
(this._y=f,this):this._y};m.quadtree=v;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(){for(var u=0,t=arguments.length,k={},f;u<t;++u){if(!(f=arguments[u]+"")||f in k||/[\s.]/.test(f))throw Error("illegal type: "+f);k[f]=[]}return new w(k)}function w(u){this._=u}function G(u,t){return u.trim().split(/^|\s+/).map(function(k){var f="",d=k.indexOf(".");0<=d&&(f=k.slice(d+
1),k=k.slice(0,d));if(k&&!t.hasOwnProperty(k))throw Error("unknown type: "+k);return{type:k,name:f}})}function L(u,t,k){for(var f=0,d=u.length;f<d;++f)if(u[f].name===t){u[f]=v;u=u.slice(0,f).concat(u.slice(f+1));break}null!=k&&u.push({name:t,value:k});return u}var v={value:()=>{}};w.prototype=l.prototype={constructor:w,on:function(u,t){var k=this._,f=G(u+"",k),d,g=-1,a=f.length;if(2>arguments.length)for(;++g<a;){var e;if(e=d=(u=f[g]).type){a:{e=k[d];for(var n=0,y=e.length;n<y;++n)if((d=e[n]).name===
u.name){d=d.value;break a}d=void 0}e=d}if(e)return d}else{if(null!=t&&"function"!==typeof t)throw Error("invalid callback: "+t);for(;++g<a;)if(d=(u=f[g]).type)k[d]=L(k[d],u.name,t);else if(null==t)for(d in k)k[d]=L(k[d],u.name,null);return this}},copy:function(){var u={},t=this._,k;for(k in t)u[k]=t[k].slice();return new w(u)},call:function(u,t){if(0<(d=arguments.length-2))for(var k=Array(d),f=0,d,g;f<d;++f)k[f]=arguments[f+2];if(!this._.hasOwnProperty(u))throw Error("unknown type: "+u);g=this._[u];
f=0;for(d=g.length;f<d;++f)g[f].value.apply(t,k)},apply:function(u,t,k){if(!this._.hasOwnProperty(u))throw Error("unknown type: "+u);u=this._[u];for(var f=0,d=u.length;f<d;++f)u[f].value.apply(t,k)}};m.dispatch=l;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(){return y||(N(w),y=C.now()+A)}function w(){y=0}function G(){this._call=this._time=this._next=null}function L(K,E,x){var D=new G;D.restart(K,E,x);return D}function v(){l();++f;for(var K=a,E;K;)0<=(E=y-K._time)&&K._call.call(null,E),K=K._next;--f}function u(){y=(n=C.now())+A;f=
d=0;try{v()}finally{f=0;for(var K,E=a,x,D=Infinity;E;)E._call?(D>E._time&&(D=E._time),K=E,E=E._next):(x=E._next,E._next=null,E=K?K._next=x:a=x);e=K;k(D);y=0}}function t(){var K=C.now(),E=K-n;1E3<E&&(A-=E,n=K)}function k(K){f||(d&&(d=clearTimeout(d)),24<K-y?(Infinity>K&&(d=setTimeout(u,K-C.now()-A)),g&&(g=clearInterval(g))):(g||(n=C.now(),g=setInterval(t,1E3)),f=1,N(u)))}var f=0,d=0,g=0,a,e,n=0,y=0,A=0,C="object"===typeof performance&&performance.now?performance:Date,N="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};G.prototype=L.prototype={constructor:G,restart:function(K,E,x){if("function"!==typeof K)throw new TypeError("callback is not a function");x=(null==x?l():+x)+(null==E?0:+E);this._next||e===this||(e?e._next=this:a=this,e=this);this._call=K;this._time=x;k()},stop:function(){this._call&&(this._call=null,this._time=Infinity,k())}};m.interval=function(K,E,x){var D=new G,H=E;if(null==E)return D.restart(K,E,x),D;D._restart=D.restart;
D.restart=function(S,U,ia){U=+U;ia=null==ia?l():+ia;D._restart(function la(ja){ja+=H;D._restart(la,H+=U,ia);S(ja)},U,ia)};D.restart(K,E,x);return D};m.now=l;m.timeout=function(K,E,x){var D=new G;E=null==E?0:+E;D.restart(H=>{D.stop();K(H+E)},E,x);return D};m.timer=L;m.timerFlush=v;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(45),z(46),z(47)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],l):(m=m||self,l(m.d3=m.d3||{},m.d3,m.d3,m.d3))})(this,function(m,l,w,G){function L(e){return function(){return e}}function v(e){return e.x+e.vx}function u(e){return e.y+e.vy}function t(e){return e.index}function k(e,n){e=e.get(n);if(!e)throw Error("node not found: "+n);return e}function f(){let e=
1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function d(e){return e.x}function g(e){return e.y}var a=Math.PI*(3-Math.sqrt(5));m.forceCenter=function(e,n){function y(){var N,K=A.length,E=0,x=0;for(N=0;N<K;++N){var D=A[N];E+=D.x;x+=D.y}E=(E/K-e)*C;x=(x/K-n)*C;for(N=0;N<K;++N)D=A[N],D.x-=E,D.y-=x}var A,C=1;null==e&&(e=0);null==n&&(n=0);y.initialize=function(N){A=N};y.x=function(N){return arguments.length?(e=+N,y):e};y.y=function(N){return arguments.length?(n=+N,y):n};y.strength=function(N){return arguments.length?
(C=+N,y):C};return y};m.forceCollide=function(e){function n(){function D(B,Y,ka,Z,wa){var xa=B.data;B=B.r;var Da=la+B;if(xa)xa.index>ia.index&&(Y=fa-xa.x-xa.vx,ka=ja-xa.y-xa.vy,Z=Y*Y+ka*ka,Z<Da*Da&&(0===Y&&(Y=1E-6*(K()-.5),Z+=Y*Y),0===ka&&(ka=1E-6*(K()-.5),Z+=ka*ka),Z=(Da-(Z=Math.sqrt(Z)))/Z*E,ia.vx+=(Y*=Z)*(Da=(B*=B)/(da+B)),ia.vy+=(ka*=Z)*Da,xa.vx-=Y*(Da=1-Da),xa.vy-=ka*Da));else return Y>fa+Da||Z<fa-Da||ka>ja+Da||wa<ja-Da}for(var H,S=C.length,U,ia,fa,ja,la,da,O=0;O<x;++O)for(U=l.quadtree(C,v,u).visitAfter(y),
H=0;H<S;++H)ia=C[H],la=N[ia.index],da=la*la,fa=ia.x+ia.vx,ja=ia.y+ia.vy,U.visit(D)}function y(D){if(D.data)return D.r=N[D.data.index];for(var H=D.r=0;4>H;++H)D[H]&&D[H].r>D.r&&(D.r=D[H].r)}function A(){if(C){var D,H=C.length;N=Array(H);for(D=0;D<H;++D){var S=C[D];N[S.index]=+e(S,D,C)}}}var C,N,K,E=1,x=1;"function"!==typeof e&&(e=L(null==e?1:+e));n.initialize=function(D,H){C=D;K=H;A()};n.iterations=function(D){return arguments.length?(x=+D,n):x};n.strength=function(D){return arguments.length?(E=+D,
n):E};n.radius=function(D){return arguments.length?(e="function"===typeof D?D:L(+D),A(),n):e};return n};m.forceLink=function(e){function n(ja){for(var la=0,da=e.length;la<fa;++la)for(var O=0,B,Y,ka,Z,wa;O<da;++O)B=e[O],Y=B.source,B=B.target,ka=B.x+B.vx-Y.x-Y.vx||1E-6*(ia()-.5),Z=B.y+B.vy-Y.y-Y.vy||1E-6*(ia()-.5),wa=Math.sqrt(ka*ka+Z*Z),wa=(wa-D[O])/wa*ja*E[O],ka*=wa,Z*=wa,B.vx-=ka*(wa=U[O]),B.vy-=Z*wa,Y.vx+=ka*(wa=1-wa),Y.vy+=Z*wa}function y(){if(H){var ja=H.length,la=e.length,da=new Map(H.map((B,
Y)=>[N(B,Y,H),B]));var O=0;for(S=Array(ja);O<la;++O)ja=e[O],ja.index=O,"object"!==typeof ja.source&&(ja.source=k(da,ja.source)),"object"!==typeof ja.target&&(ja.target=k(da,ja.target)),S[ja.source.index]=(S[ja.source.index]||0)+1,S[ja.target.index]=(S[ja.target.index]||0)+1;O=0;for(U=Array(la);O<la;++O)ja=e[O],U[O]=S[ja.source.index]/(S[ja.source.index]+S[ja.target.index]);E=Array(la);A();D=Array(la);C()}}function A(){if(H)for(var ja=0,la=e.length;ja<la;++ja)E[ja]=+K(e[ja],ja,e)}function C(){if(H)for(var ja=
0,la=e.length;ja<la;++ja)D[ja]=+x(e[ja],ja,e)}var N=t,K=function(ja){return 1/Math.min(S[ja.source.index],S[ja.target.index])},E,x=L(30),D,H,S,U,ia,fa=1;null==e&&(e=[]);n.initialize=function(ja,la){H=ja;ia=la;y()};n.links=function(ja){return arguments.length?(e=ja,y(),n):e};n.id=function(ja){return arguments.length?(N=ja,n):N};n.iterations=function(ja){return arguments.length?(fa=+ja,n):fa};n.strength=function(ja){return arguments.length?(K="function"===typeof ja?ja:L(+ja),A(),n):K};n.distance=function(ja){return arguments.length?
(x="function"===typeof ja?ja:L(+ja),C(),n):x};return n};m.forceManyBody=function(){function e(ia){var fa=C.length,ja=l.quadtree(C,d,g).visitAfter(y);E=ia;for(ia=0;ia<fa;++ia)N=C[ia],ja.visit(A)}function n(){if(C){var ia,fa=C.length;D=Array(fa);for(ia=0;ia<fa;++ia){var ja=C[ia];D[ja.index]=+x(ja,ia,C)}}}function y(ia){var fa=0,ja,la,da=0,O,B,Y;if(ia.length){for(O=B=Y=0;4>Y;++Y)(ja=ia[Y])&&(la=Math.abs(ja.value))&&(fa+=ja.value,da+=la,O+=la*ja.x,B+=la*ja.y);ia.x=O/da;ia.y=B/da}else{ja=ia;ja.x=ja.data.x;
ja.y=ja.data.y;do fa+=D[ja.data.index];while(ja=ja.next)}ia.value=fa}function A(ia,fa,ja,la){if(!ia.value)return!0;ja=ia.x-N.x;var da=ia.y-N.y;fa=la-fa;la=ja*ja+da*da;if(fa*fa/U<la)return la<S&&(0===ja&&(ja=1E-6*(K()-.5),la+=ja*ja),0===da&&(da=1E-6*(K()-.5),la+=da*da),la<H&&(la=Math.sqrt(H*la)),N.vx+=ja*ia.value*E/la,N.vy+=da*ia.value*E/la),!0;if(!(ia.length||la>=S)){if(ia.data!==N||ia.next)0===ja&&(ja=1E-6*(K()-.5),la+=ja*ja),0===da&&(da=1E-6*(K()-.5),la+=da*da),la<H&&(la=Math.sqrt(H*la));do ia.data!==
N&&(fa=D[ia.data.index]*E/la,N.vx+=ja*fa,N.vy+=da*fa);while(ia=ia.next)}}var C,N,K,E,x=L(-30),D,H=1,S=Infinity,U=.81;e.initialize=function(ia,fa){C=ia;K=fa;n()};e.strength=function(ia){return arguments.length?(x="function"===typeof ia?ia:L(+ia),n(),e):x};e.distanceMin=function(ia){return arguments.length?(H=ia*ia,e):Math.sqrt(H)};e.distanceMax=function(ia){return arguments.length?(S=ia*ia,e):Math.sqrt(S)};e.theta=function(ia){return arguments.length?(U=ia*ia,e):Math.sqrt(U)};return e};m.forceRadial=
function(e,n,y){function A(D){for(var H=0,S=N.length;H<S;++H){var U=N[H],ia=U.x-n||1E-6,fa=U.y-y||1E-6,ja=Math.sqrt(ia*ia+fa*fa);ja=(x[H]-ja)*E[H]*D/ja;U.vx+=ia*ja;U.vy+=fa*ja}}function C(){if(N){var D,H=N.length;E=Array(H);x=Array(H);for(D=0;D<H;++D)x[D]=+e(N[D],D,N),E[D]=isNaN(x[D])?0:+K(N[D],D,N)}}var N,K=L(.1),E,x;"function"!==typeof e&&(e=L(+e));null==n&&(n=0);null==y&&(y=0);A.initialize=function(D){N=D;C()};A.strength=function(D){return arguments.length?(K="function"===typeof D?D:L(+D),C(),
A):K};A.radius=function(D){return arguments.length?(e="function"===typeof D?D:L(+D),C(),A):e};A.x=function(D){return arguments.length?(n=+D,A):n};A.y=function(D){return arguments.length?(y=+D,A):y};return A};m.forceSimulation=function(e){function n(){y();ia.call("tick",N);K<E&&(U.stop(),ia.call("end",N))}function y(ja){var la,da=e.length;void 0===ja&&(ja=1);for(var O=0;O<ja;++O)for(K+=(D-K)*x,S.forEach(function(Y){Y(K)}),la=0;la<da;++la){var B=e[la];null==B.fx?B.x+=B.vx*=H:(B.x=B.fx,B.vx=0);null==
B.fy?B.y+=B.vy*=H:(B.y=B.fy,B.vy=0)}return N}function A(){for(var ja=0,la=e.length,da;ja<la;++ja){da=e[ja];da.index=ja;null!=da.fx&&(da.x=da.fx);null!=da.fy&&(da.y=da.fy);if(isNaN(da.x)||isNaN(da.y)){var O=10*Math.sqrt(.5+ja),B=ja*a;da.x=O*Math.cos(B);da.y=O*Math.sin(B)}if(isNaN(da.vx)||isNaN(da.vy))da.vx=da.vy=0}}function C(ja){ja.initialize&&ja.initialize(e,fa);return ja}var N,K=1,E=.001,x=1-Math.pow(E,1/300),D=0,H=.6,S=new Map,U=G.timer(n),ia=w.dispatch("tick","end"),fa=f();null==e&&(e=[]);A();
return N={tick:y,restart:function(){return U.restart(n),N},stop:function(){return U.stop(),N},nodes:function(ja){return arguments.length?(e=ja,A(),S.forEach(C),N):e},alpha:function(ja){return arguments.length?(K=+ja,N):K},alphaMin:function(ja){return arguments.length?(E=+ja,N):E},alphaDecay:function(ja){return arguments.length?(x=+ja,N):+x},alphaTarget:function(ja){return arguments.length?(D=+ja,N):D},velocityDecay:function(ja){return arguments.length?(H=1-ja,N):1-H},randomSource:function(ja){return arguments.length?
(fa=ja,S.forEach(C),N):fa},force:function(ja,la){return 1<arguments.length?(null==la?S.delete(ja):S.set(ja,C(la)),N):S.get(ja)},find:function(ja,la,da){var O,B=e.length;da=null==da?Infinity:da*da;for(O=0;O<B;++O){var Y=e[O];var ka=ja-Y.x;var Z=la-Y.y;ka=ka*ka+Z*Z;if(ka<da){var wa=Y;da=ka}}return wa},on:function(ja,la){return 1<arguments.length?(ia.on(ja,la),N):ia.on(ja)}}};m.forceX=function(e){function n(E){for(var x=0,D=C.length,H;x<D;++x)H=C[x],H.vx+=(K[x]-H.x)*N[x]*E}function y(){if(C){var E,x=
C.length;N=Array(x);K=Array(x);for(E=0;E<x;++E)N[E]=isNaN(K[E]=+e(C[E],E,C))?0:+A(C[E],E,C)}}var A=L(.1),C,N,K;"function"!==typeof e&&(e=L(null==e?0:+e));n.initialize=function(E){C=E;y()};n.strength=function(E){return arguments.length?(A="function"===typeof E?E:L(+E),y(),n):A};n.x=function(E){return arguments.length?(e="function"===typeof E?E:L(+E),y(),n):e};return n};m.forceY=function(e){function n(E){for(var x=0,D=C.length,H;x<D;++x)H=C[x],H.vy+=(K[x]-H.y)*N[x]*E}function y(){if(C){var E,x=C.length;
N=Array(x);K=Array(x);for(E=0;E<x;++E)N[E]=isNaN(K[E]=+e(C[E],E,C))?0:+A(C[E],E,C)}}var A=L(.1),C,N,K;"function"!==typeof e&&(e=L(null==e?0:+e));n.initialize=function(E){C=E;y()};n.strength=function(E){return arguments.length?(A="function"===typeof E?E:L(+E),y(),n):A};n.y=function(E){return arguments.length?(e="function"===typeof E?E:L(+E),y(),n):e};return n};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(28),z(16),z(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.d3))})(this,function(m,l,w,G){function L(e){l.Transform.call(this,null,e)}function v(e,n){return()=>e.touch(n).run()}function u(e,n){e=G.forceSimulation(e);const y=e.stop,
A=e.restart;let C=!1;e.stopped=()=>C;e.restart=()=>(C=!1,A());e.stop=()=>(C=!0,y());return t(e,n,!0).on("end",()=>C=!0)}function t(e,n,y,A){var C=w.array(n.forces),N;var K=0;for(N=d.length;K<N;++K){var E=d[K];if("forces"!==E&&n.modified(E))e[E](n[E])}K=0;for(N=C.length;K<N;++K){var x="forces"+K;if(y||n.modified("forces",K)){E=void 0;var D=C[K];w.hasOwnProperty(f,D.force)||w.error("Unrecognized force: "+D.force);var H=f[D.force]();for(E in D)w.isFunction(H[E])&&k(H[E],D[E],D);E=H}else{if(E=A)a:{H=
E=void 0;D=C[K];var S=A;for(H in D)if(w.isFunction(E=D[H])&&S.modified(w.accessorFields(E))){E=1;break a}E=0}E=E?e.force(x):null}E&&e.force(x,E)}for(N=e.numForces||0;K<N;++K)e.force("forces"+K,null);e.numForces=C.length;return e}function k(e,n,y){e(w.isFunction(n)?A=>n(A,y):n)}const f={center:G.forceCenter,collide:G.forceCollide,nbody:G.forceManyBody,link:G.forceLink,x:G.forceX,y:G.forceY},d=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],g=["static","iterations"],a=["x","y","vx","vy"];
L.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};w.inherits(L,l.Transform,{transform(e,n){var y=this.value,A=n.changed(n.ADD_REM),C=e.modified(d),N=e.iterations||300;y?(A&&(n.modifies("index"),
y.nodes(n.source)),(C||n.changed(n.MOD))&&t(y,e,0,n)):(this.value=y=u(n.source,e),y.on("tick",v(n.dataflow,this)),e.static||(A=!0,y.tick()),n.modifies("index"));if(C||A||e.modified(g)||n.changed()&&e.restart)if(y.alpha(Math.max(y.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(y.alphaMin(),1/N)),e.static)for(y.stop();0<=--N;)y.tick();else if(y.stopped()&&y.restart(),!A)return n.StopPropagation;return this.finish(e,n)},finish(e,n){const y=n.dataflow;for(let E=this._argops,x=0,D=E.length,H;x<D;++x)if(H=
E[x],"forces"===H.name&&"link"===H.op._argval.force)for(var A=H.op._argops,C=0,N=A.length,K;C<N;++C)if("links"===A[C].name&&(K=A[C].op.source)){y.pulse(K,y.changeset().reflow());break}return n.reflow(e.modified()).modifies(a)}});m.force=L;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(T,W){return T.parent===W.parent?1:2}function w(T,W){return T+W.x}function G(T,W){return Math.max(T,W.y)}function L(T){for(var W;W=T.children;)T=W[0];return T}function v(T){for(var W;W=T.children;)T=W[W.length-1];return T}function u(T){var W=0,M=T.children,P=M&&M.length;if(P)for(;0<=
--P;)W+=M[P].value;else W=1;T.value=W}function t(T,W){T instanceof Map?(T=[void 0,T],void 0===W&&(W=f)):void 0===W&&(W=k);T=new a(T);for(var M,P=[T],ca,ea,oa,ba;M=P.pop();)if((ea=W(M.data))&&(ba=(ea=Array.from(ea)).length))for(M.children=ea,oa=ba-1;0<=oa;--oa)P.push(ca=ea[oa]=new a(ea[oa])),ca.parent=M,ca.depth=M.depth+1;return T.eachBefore(g)}function k(T){return T.children}function f(T){return Array.isArray(T)?T[1]:null}function d(T){void 0!==T.data.value&&(T.value=T.data.value);T.data=T.data.data}
function g(T){var W=0;do T.height=W;while((T=T.parent)&&T.height<++W)}function a(T){this.data=T;this.depth=this.height=0;this.parent=null}function e(T){var W=0;T=Array.from(T);for(var M=T.length,P,ca;M;)ca=Math.random()*M--|0,P=T[M],T[M]=T[ca],T[ca]=P;M=T.length;P=[];for(var ea;W<M;)if(ca=T[W],ea&&y(ea,ca))++W;else{a:if(W=P,A(ca,W))W=[ca];else{for(P=0;P<W.length;++P)if(n(ca,W[P])&&A(C(W[P],ca),W)){W=[W[P],ca];break a}for(P=0;P<W.length-1;++P)for(ea=P+1;ea<W.length;++ea)if(n(C(W[P],W[ea]),ca)&&n(C(W[P],
ca),W[ea])&&n(C(W[ea],ca),W[P])&&A(N(W[P],W[ea],ca),W)){W=[W[P],W[ea],ca];break a}throw Error();}a:{W=P=W;switch(W.length){case 1:W=W[0];W={x:W.x,y:W.y,r:W.r};break a;case 2:W=C(W[0],W[1]);break a;case 3:W=N(W[0],W[1],W[2]);break a}W=void 0}ea=W;W=0}return ea}function n(T,W){var M=T.r-W.r,P=W.x-T.x;T=W.y-T.y;return 0>M||M*M<P*P+T*T}function y(T,W){var M=T.r-W.r+1E-9*Math.max(T.r,W.r,1),P=W.x-T.x;T=W.y-T.y;return 0<M&&M*M>P*P+T*T}function A(T,W){for(var M=0;M<W.length;++M)if(!y(T,W[M]))return!1;return!0}
function C(T,W){var M=T.x,P=T.y;T=T.r;var ca=W.x,ea=W.y;W=W.r;var oa=ca-M,ba=ea-P,Fa=W-T,Ra=Math.sqrt(oa*oa+ba*ba);return{x:(M+ca+oa/Ra*Fa)/2,y:(P+ea+ba/Ra*Fa)/2,r:(Ra+T+W)/2}}function N(T,W,M){var P=T.x,ca=T.y;T=T.r;var ea=W.x,oa=W.y,ba=W.r,Fa=M.x,Ra=M.y,Ma=M.r;M=P-ea;W=P-Fa;var db=ca-oa,ab=ca-Ra,Ba=ba-T,Sa=Ma-T,lb=P*P+ca*ca-T*T;oa=lb-ea*ea-oa*oa+ba*ba;Ra=lb-Fa*Fa-Ra*Ra+Ma*Ma;Fa=W*db-M*ab;ea=(db*Ra-ab*oa)/(2*Fa)-P;db=(ab*Ba-db*Sa)/Fa;ab=(W*oa-M*Ra)/(2*Fa)-ca;M=(M*Sa-W*Ba)/Fa;W=db*db+M*M-1;Ba=2*(T+
ea*db+ab*M);T=ea*ea+ab*ab-T*T;T=-(W?(Ba+Math.sqrt(Ba*Ba-4*W*T))/(2*W):T/Ba);return{x:P+ea+db*T,y:ca+ab+M*T,r:T}}function K(T,W,M){var P=T.x-W.x,ca=T.y-W.y,ea=P*P+ca*ca;if(ea){var oa=W.r+M.r;oa*=oa;var ba=T.r+M.r;ba*=ba;if(oa>ba){var Fa=(ea+ba-oa)/(2*ea);oa=Math.sqrt(Math.max(0,ba/ea-Fa*Fa));M.x=T.x-Fa*P-oa*ca;M.y=T.y-Fa*ca+oa*P}else Fa=(ea+oa-ba)/(2*ea),oa=Math.sqrt(Math.max(0,oa/ea-Fa*Fa)),M.x=W.x+Fa*P-oa*ca,M.y=W.y+Fa*ca+oa*P}else M.x=W.x+M.r,M.y=W.y}function E(T,W){var M=T.r+W.r-1E-6,P=W.x-T.x;
T=W.y-T.y;return 0<M&&M*M>P*P+T*T}function x(T){var W=T._,M=T.next._,P=W.r+M.r;T=(W.x*M.r+M.x*W.r)/P;W=(W.y*M.r+M.y*W.r)/P;return T*T+W*W}function D(T){this._=T;this.previous=this.next=null}function H(T){if(!(M=(T="object"===typeof T&&"length"in T?T:Array.from(T)).length))return 0;var W,M;var P=T[0];P.x=0;P.y=0;if(!(1<M))return P.r;var ca=T[1];P.x=-ca.r;ca.x=P.r;ca.y=0;if(!(2<M))return P.r+ca.r;K(ca,P,W=T[2]);P=new D(P);ca=new D(ca);W=new D(W);P.next=W.previous=ca;ca.next=P.previous=W;W.next=ca.previous=
P;var ea=3;a:for(;ea<M;++ea){K(P._,ca._,W=T[ea]);W=new D(W);var oa=ca.next;var ba=P.previous;var Fa=ca._.r;var Ra=P._.r;do if(Fa<=Ra){if(E(oa._,W._)){ca=oa;P.next=ca;ca.previous=P;--ea;continue a}Fa+=oa._.r;oa=oa.next}else{if(E(ba._,W._)){P=ba;P.next=ca;ca.previous=P;--ea;continue a}Ra+=ba._.r;ba=ba.previous}while(oa!==ba.next);W.previous=P;W.next=ca;P.next=ca.previous=ca=W;for(oa=x(P);(W=W.next)!==ca;)(ba=x(W))<oa&&(P=W,oa=ba);ca=P.next}P=[ca._];for(W=ca;(W=W.next)!==ca;)P.push(W._);W=e(P);for(ea=
0;ea<M;++ea)P=T[ea],P.x-=W.x,P.y-=W.y;return W.r}function S(T){if("function"!==typeof T)throw Error();return T}function U(){return 0}function ia(T){return function(){return T}}function fa(T){return Math.sqrt(T.value)}function ja(T){return function(W){W.children||(W.r=Math.max(0,+T(W)||0))}}function la(T,W){return function(M){if(P=M.children){var P,ca,ea=P.length,oa=T(M)*W||0;if(oa)for(ca=0;ca<ea;++ca)P[ca].r+=oa;var ba=H(P);if(oa)for(ca=0;ca<ea;++ca)P[ca].r-=oa;M.r=ba+oa}}}function da(T){return function(W){var M=
W.parent;W.r*=T;M&&(W.x=M.x+T*W.x,W.y=M.y+T*W.y)}}function O(T){T.x0=Math.round(T.x0);T.y0=Math.round(T.y0);T.x1=Math.round(T.x1);T.y1=Math.round(T.y1)}function B(T,W,M,P,ca){var ea=T.children,oa=-1,ba=ea.length;for(P=T.value&&(P-W)/T.value;++oa<ba;)T=ea[oa],T.y0=M,T.y1=ca,T.x0=W,T.x1=W+=T.value*P}function Y(T){return T.id}function ka(T){return T.parentId}function Z(T,W){return T.parent===W.parent?1:2}function wa(T){var W=T.children;return W?W[0]:T.t}function xa(T){var W=T.children;return W?W[W.length-
1]:T.t}function Da(T,W){this._=T;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=W}function Wa(T){T=new Da(T,0);for(var W,M=[T],P,ca,ea;W=M.pop();)if(ca=W._.children)for(W.children=Array(P=ca.length),ea=P-1;0<=ea;--ea)M.push(P=W.children[ea]=new Da(ca[ea],ea)),P.parent=W;(T.parent=new Da(null,0)).children=[T];return T}function gb(T,W,M,P,ca){var ea=T.children,oa=-1,ba=ea.length;for(ca=T.value&&(ca-M)/T.value;++oa<ba;)T=ea[oa],T.x0=W,T.x1=P,T.y0=M,
T.y1=M+=T.value*ca}function ra(T,W,M,P,ca,ea){for(var oa=[],ba=W.children,Fa,Ra,Ma=Fa=0,db=ba.length,ab,Ba=W.value,Sa,lb,ub,Jb,bc,wc;Fa<db;){W=ca-M;ab=ea-P;do Sa=ba[Ma++].value;while(!Sa&&Ma<db);lb=ub=Sa;wc=Math.max(ab/W,W/ab)/(Ba*T);Jb=Sa*Sa*wc;for(bc=Math.max(ub/Jb,Jb/lb);Ma<db;++Ma){Sa+=Ra=ba[Ma].value;Ra<lb&&(lb=Ra);Ra>ub&&(ub=Ra);Jb=Sa*Sa*wc;Jb=Math.max(ub/Jb,Jb/lb);if(Jb>bc){Sa-=Ra;break}bc=Jb}oa.push(Fa={value:Sa,dice:W<ab,children:ba.slice(Fa,Ma)});Fa.dice?B(Fa,M,P,ca,Ba?P+=ab*Sa/Ba:ea):gb(Fa,
M,P,Ba?M+=W*Sa/Ba:ca,ea);Ba-=Sa;Fa=Ma}return oa}a.prototype=t.prototype={constructor:a,count:function(){return this.eachAfter(u)},each:function(T,W){let M=-1;for(const P of this)T.call(W,P,++M,this);return this},eachAfter:function(T,W){for(var M,P=[this],ca=[],ea,oa,ba=-1;M=P.pop();)if(ca.push(M),M=M.children)for(ea=0,oa=M.length;ea<oa;++ea)P.push(M[ea]);for(;M=ca.pop();)T.call(W,M,++ba,this);return this},eachBefore:function(T,W){for(var M,P=[this],ca,ea=-1;M=P.pop();)if(T.call(W,M,++ea,this),M=M.children)for(ca=
M.length-1;0<=ca;--ca)P.push(M[ca]);return this},find:function(T,W){let M=-1;for(const P of this)if(T.call(W,P,++M,this))return P},sum:function(T){return this.eachAfter(function(W){for(var M=+T(W.data)||0,P=W.children,ca=P&&P.length;0<=--ca;)M+=P[ca].value;W.value=M})},sort:function(T){return this.eachBefore(function(W){W.children&&W.children.sort(T)})},path:function(T){var W=this;var M=W;var P=T;if(M!==P){var ca=M.ancestors(),ea=P.ancestors(),oa=null;M=ca.pop();for(P=ea.pop();M===P;)oa=M,M=ca.pop(),
P=ea.pop();M=oa}for(P=[W];W!==M;)W=W.parent,P.push(W);for(W=P.length;T!==M;)P.splice(W,0,T),T=T.parent;return P},ancestors:function(){for(var T=this,W=[T];T=T.parent;)W.push(T);return W},descendants:function(){return Array.from(this)},leaves:function(){var T=[];this.eachBefore(function(W){W.children||T.push(W)});return T},links:function(){var T=this,W=[];T.each(function(M){M!==T&&W.push({source:M.parent,target:M})});return W},copy:function(){return t(this).eachBefore(d)},[Symbol.iterator]:function*(){var T,
W=[this],M;do{var P=W.reverse();for(W=[];T=P.pop();)if(yield T,T=T.children){var ca=0;for(M=T.length;ca<M;++ca)W.push(T[ca])}}while(W.length)}};var Na={depth:-1},Ta={};Da.prototype=Object.create(a.prototype);var za=(1+Math.sqrt(5))/2,pa=function M(W){function P(ca,ea,oa,ba,Fa){ra(W,ca,ea,oa,ba,Fa)}P.ratio=function(ca){return M(1<(ca=+ca)?ca:1)};return P}(za);za=function P(M){function ca(ea,oa,ba,Fa,Ra){if((Ma=ea._squarify)&&Ma.ratio===M)for(var Ma,db,ab,Ba=-1,Sa,lb=Ma.length,ub=ea.value;++Ba<lb;){ea=
Ma[Ba];db=ea.children;ab=ea.value=0;for(Sa=db.length;ab<Sa;++ab)ea.value+=db[ab].value;ea.dice?B(ea,oa,ba,Fa,ub?ba+=(Ra-ba)*ea.value/ub:Ra):gb(ea,oa,ba,ub?oa+=(Fa-oa)*ea.value/ub:Fa,Ra);ub-=ea.value}else ea._squarify=Ma=ra(M,ea,oa,ba,Fa,Ra),Ma.ratio=M}ca.ratio=function(ea){return P(1<(ea=+ea)?ea:1)};return ca}(za);m.cluster=function(){function M(ba){var Fa,Ra=0;ba.eachAfter(function(Sa){var lb=Sa.children;if(lb){var ub=lb.reduce(w,0)/lb.length;Sa.x=ub;Sa.y=1+lb.reduce(G,0)}else Sa.x=Fa?Ra+=P(Sa,Fa):
0,Sa.y=0,Fa=Sa});var Ma=L(ba),db=v(ba),ab=Ma.x-P(Ma,db)/2,Ba=db.x+P(db,Ma)/2;return ba.eachAfter(oa?function(Sa){Sa.x=(Sa.x-ba.x)*ca;Sa.y=(ba.y-Sa.y)*ea}:function(Sa){Sa.x=(Sa.x-ab)/(Ba-ab)*ca;Sa.y=(1-(ba.y?Sa.y/ba.y:1))*ea})}var P=l,ca=1,ea=1,oa=!1;M.separation=function(ba){return arguments.length?(P=ba,M):P};M.size=function(ba){return arguments.length?(oa=!1,ca=+ba[0],ea=+ba[1],M):oa?null:[ca,ea]};M.nodeSize=function(ba){return arguments.length?(oa=!0,ca=+ba[0],ea=+ba[1],M):oa?[ca,ea]:null};return M};
m.hierarchy=t;m.pack=function(){function M(ba){ba.x=ca/2;ba.y=ea/2;P?ba.eachBefore(ja(P)).eachAfter(la(oa,.5)).eachBefore(da(1)):ba.eachBefore(ja(fa)).eachAfter(la(U,1)).eachAfter(la(oa,ba.r/Math.min(ca,ea))).eachBefore(da(Math.min(ca,ea)/(2*ba.r)));return ba}var P=null,ca=1,ea=1,oa=U;M.radius=function(ba){return arguments.length?(P=null==ba?null:S(ba),M):P};M.size=function(ba){return arguments.length?(ca=+ba[0],ea=+ba[1],M):[ca,ea]};M.padding=function(ba){return arguments.length?(oa="function"===
typeof ba?ba:ia(+ba),M):oa};return M};m.packEnclose=e;m.packSiblings=function(M){H(M);return M};m.partition=function(){function M(Fa){var Ra=Fa.height+1;Fa.x0=Fa.y0=oa;Fa.x1=ca;Fa.y1=ea/Ra;Fa.eachBefore(P(ea,Ra));ba&&Fa.eachBefore(O);return Fa}function P(Fa,Ra){return function(Ma){Ma.children&&B(Ma,Ma.x0,Fa*(Ma.depth+1)/Ra,Ma.x1,Fa*(Ma.depth+2)/Ra);var db=Ma.x0,ab=Ma.y0,Ba=Ma.x1-oa,Sa=Ma.y1-oa;Ba<db&&(db=Ba=(db+Ba)/2);Sa<ab&&(ab=Sa=(ab+Sa)/2);Ma.x0=db;Ma.y0=ab;Ma.x1=Ba;Ma.y1=Sa}}var ca=1,ea=1,oa=
0,ba=!1;M.round=function(Fa){return arguments.length?(ba=!!Fa,M):ba};M.size=function(Fa){return arguments.length?(ca=+Fa[0],ea=+Fa[1],M):[ca,ea]};M.padding=function(Fa){return arguments.length?(oa=+Fa,M):oa};return M};m.stratify=function(){function M(ea){var oa=Array.from(ea),ba=oa.length,Fa,Ra,Ma=new Map;for(Fa=0;Fa<ba;++Fa){var db=oa[Fa];var ab=oa[Fa]=new a(db);if(null!=(Ra=P(db,Fa,ea))&&(Ra+="")){var Ba=ab.id=Ra;Ma.set(Ba,Ma.has(Ba)?Ta:ab)}null!=(Ra=ca(db,Fa,ea))&&(Ra+="")&&(ab.parent=Ra)}for(Fa=
0;Fa<ba;++Fa)if(ab=oa[Fa],Ra=ab.parent){ea=Ma.get(Ra);if(!ea)throw Error("missing: "+Ra);if(ea===Ta)throw Error("ambiguous: "+Ra);ea.children?ea.children.push(ab):ea.children=[ab];ab.parent=ea}else{if(Sa)throw Error("multiple roots");var Sa=ab}if(!Sa)throw Error("no root");Sa.parent=Na;Sa.eachBefore(function(lb){lb.depth=lb.parent.depth+1;--ba}).eachBefore(g);Sa.parent=null;if(0<ba)throw Error("cycle");return Sa}var P=Y,ca=ka;M.id=function(ea){return arguments.length?(P=S(ea),M):P};M.parentId=function(ea){return arguments.length?
(ca=S(ea),M):ca};return M};m.tree=function(){function M(Ma){var db=Wa(Ma);db.eachAfter(P);db.parent.m=-db.z;db.eachBefore(ca);if(Ra)Ma.eachBefore(ea);else{var ab=Ma,Ba=Ma,Sa=Ma;Ma.eachBefore(function(bc){bc.x<ab.x&&(ab=bc);bc.x>Ba.x&&(Ba=bc);bc.depth>Sa.depth&&(Sa=bc)});db=ab===Ba?1:oa(ab,Ba)/2;var lb=db-ab.x,ub=ba/(Ba.x+db+lb),Jb=Fa/(Sa.depth||1);Ma.eachBefore(function(bc){bc.x=(bc.x+lb)*ub;bc.y=bc.depth*Jb})}return Ma}function P(Ma){var db=Ma.children,ab=Ma.parent.children,Ba=Ma.i?ab[Ma.i-1]:null;
if(db){for(var Sa=0,lb=0,ub=Ma.children,Jb=ub.length,bc;0<=--Jb;)bc=ub[Jb],bc.z+=Sa,bc.m+=Sa,Sa+=bc.s+(lb+=bc.c);db=(db[0].z+db[db.length-1].z)/2;Ba?(Ma.z=Ba.z+oa(Ma._,Ba._),Ma.m=Ma.z-db):Ma.z=db}else Ba&&(Ma.z=Ba.z+oa(Ma._,Ba._));db=Ma.parent;ab=Ma.parent.A||ab[0];if(Ba){lb=Sa=Ma;ub=Sa.parent.children[0];Jb=Sa.m;bc=lb.m;for(var wc=Ba.m,$c=ub.m,kc;Ba=xa(Ba),Sa=wa(Sa),Ba&&Sa;){ub=wa(ub);lb=xa(lb);lb.a=Ma;kc=Ba.z+wc-Sa.z-Jb+oa(Ba._,Sa._);if(0<kc){var vc=Ba.a.parent===Ma.parent?Ba.a:ab,jb=Ma,fc=kc,dc=
fc/(jb.i-vc.i);jb.c-=dc;jb.s+=fc;vc.c+=dc;jb.z+=fc;jb.m+=fc;Jb+=kc;bc+=kc}wc+=Ba.m;Jb+=Sa.m;$c+=ub.m;bc+=lb.m}Ba&&!xa(lb)&&(lb.t=Ba,lb.m+=wc-bc);Sa&&!wa(ub)&&(ub.t=Sa,ub.m+=Jb-$c,ab=Ma)}db.A=ab}function ca(Ma){Ma._.x=Ma.z+Ma.parent.m;Ma.m+=Ma.parent.m}function ea(Ma){Ma.x*=ba;Ma.y=Ma.depth*Fa}var oa=Z,ba=1,Fa=1,Ra=null;M.separation=function(Ma){return arguments.length?(oa=Ma,M):oa};M.size=function(Ma){return arguments.length?(Ra=!1,ba=+Ma[0],Fa=+Ma[1],M):Ra?null:[ba,Fa]};M.nodeSize=function(Ma){return arguments.length?
(Ra=!0,ba=+Ma[0],Fa=+Ma[1],M):Ra?[ba,Fa]:null};return M};m.treemap=function(){function M(Sa){Sa.x0=Sa.y0=0;Sa.x1=oa;Sa.y1=ba;Sa.eachBefore(P);Fa=[0];ea&&Sa.eachBefore(O);return Sa}function P(Sa){var lb=Fa[Sa.depth],ub=Sa.x0+lb,Jb=Sa.y0+lb,bc=Sa.x1-lb,wc=Sa.y1-lb;bc<ub&&(ub=bc=(ub+bc)/2);wc<Jb&&(Jb=wc=(Jb+wc)/2);Sa.x0=ub;Sa.y0=Jb;Sa.x1=bc;Sa.y1=wc;Sa.children&&(lb=Fa[Sa.depth+1]=Ra(Sa)/2,ub+=Ba(Sa)-lb,Jb+=Ma(Sa)-lb,bc-=db(Sa)-lb,wc-=ab(Sa)-lb,bc<ub&&(ub=bc=(ub+bc)/2),wc<Jb&&(Jb=wc=(Jb+wc)/2),ca(Sa,
ub,Jb,bc,wc))}var ca=pa,ea=!1,oa=1,ba=1,Fa=[0],Ra=U,Ma=U,db=U,ab=U,Ba=U;M.round=function(Sa){return arguments.length?(ea=!!Sa,M):ea};M.size=function(Sa){return arguments.length?(oa=+Sa[0],ba=+Sa[1],M):[oa,ba]};M.tile=function(Sa){return arguments.length?(ca=S(Sa),M):ca};M.padding=function(Sa){return arguments.length?M.paddingInner(Sa).paddingOuter(Sa):M.paddingInner()};M.paddingInner=function(Sa){return arguments.length?(Ra="function"===typeof Sa?Sa:ia(+Sa),M):Ra};M.paddingOuter=function(Sa){return arguments.length?
M.paddingTop(Sa).paddingRight(Sa).paddingBottom(Sa).paddingLeft(Sa):M.paddingTop()};M.paddingTop=function(Sa){return arguments.length?(Ma="function"===typeof Sa?Sa:ia(+Sa),M):Ma};M.paddingRight=function(Sa){return arguments.length?(db="function"===typeof Sa?Sa:ia(+Sa),M):db};M.paddingBottom=function(Sa){return arguments.length?(ab="function"===typeof Sa?Sa:ia(+Sa),M):ab};M.paddingLeft=function(Sa){return arguments.length?(Ba="function"===typeof Sa?Sa:ia(+Sa),M):Ba};return M};m.treemapBinary=function(M,
P,ca,ea,oa){function ba(Ba,Sa,lb,ub,Jb,bc,wc){if(Ba>=Sa-1)Ba=Fa[Ba],Ba.x0=ub,Ba.y0=Jb,Ba.x1=bc,Ba.y1=wc;else{for(var $c=ab[Ba],kc=lb/2+$c,vc=Ba+1,jb=Sa-1;vc<jb;){var fc=vc+jb>>>1;ab[fc]<kc?vc=fc+1:jb=fc}kc-ab[vc-1]<ab[vc]-kc&&Ba+1<vc&&--vc;$c=ab[vc]-$c;kc=lb-$c;bc-ub>wc-Jb?(lb=lb?(ub*kc+bc*$c)/lb:bc,ba(Ba,vc,$c,ub,Jb,lb,wc),ba(vc,Sa,kc,lb,Jb,bc,wc)):(lb=lb?(Jb*kc+wc*$c)/lb:wc,ba(Ba,vc,$c,ub,Jb,bc,lb),ba(vc,Sa,kc,ub,lb,bc,wc))}}var Fa=M.children,Ra,Ma=Fa.length,db,ab=Array(Ma+1);for(ab[0]=db=Ra=0;Ra<
Ma;++Ra)ab[Ra+1]=db+=Fa[Ra].value;ba(0,Ma,M.value,P,ca,ea,oa)};m.treemapDice=B;m.treemapResquarify=za;m.treemapSlice=gb;m.treemapSliceDice=function(M,P,ca,ea,oa){(M.depth&1?gb:B)(M,P,ca,ea,oa)};m.treemapSquarify=pa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(28),z(16),z(50)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.d3))})(this,function(m,l,w,G){function L(E,x,D){const H={};E.each(S=>{const U=S.data;D(U)&&(H[x(U)]=S)});E.lookup=H;return E}function v(E){l.Transform.call(this,null,E)}function u(){function E(S,
U){if(U>=D.length)return S;const ia=S.length,fa=D[U++],ja={},la={};let da=-1,O,B,Y;for(;++da<ia;)O=fa(B=S[da])+"",(Y=ja[O])?Y.push(B):ja[O]=[B];for(O in ja)la[O]=E(ja[O],U);return la}function x(S,U){if(++U>D.length)return S;const ia=[];for(const fa in S)ia.push({key:fa,values:x(S[fa],U)});return ia}const D=[],H={entries:S=>x(E(S,0),0),key:S=>(D.push(S),H)};return H}function t(E){l.Transform.call(this,null,E)}function k(E,x,D){for(let H,S=0,U=x.length;S<U;++S)if(H=x[S],H in D)E[H](D[H])}function f(E){t.call(this,
E)}function d(E){t.call(this,E)}function g(E){l.Transform.call(this,null,E)}function a(E){t.call(this,E)}function e(E){l.Transform.call(this,[],E)}function n(E){t.call(this,E)}v.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const y=E=>E.values;w.inherits(v,l.Transform,{transform(E,x){x.source||w.error("Nest transform requires an upstream data source.");var D=E.generate,H=E.modified(),S=x.clone(),U=this.value;
if(!U||H||x.changed())U&&U.each(ia=>{ia.children&&l.isTuple(ia.data)&&S.rem.push(ia.data)}),this.value=U=G.hierarchy({values:w.array(E.keys).reduce((ia,fa)=>{ia.key(fa);return ia},u()).entries(S.source)},y),D&&U.each(ia=>{ia.children&&(ia=l.ingest(ia.data),S.add.push(ia),S.source.push(ia))}),L(U,l.tupleid,l.tupleid);S.source.root=U;return S}});const A=(E,x)=>E.parent===x.parent?1:2;w.inherits(t,l.Transform,{transform(E,x){x.source&&x.source.root||w.error(this.constructor.name+" transform requires a backing tree data source.");
const D=this.layout(E.method),H=this.fields,S=x.source.root,U=E.as||H;E.field?S.sum(E.field):S.count();E.sort&&S.sort(l.stableCompare(E.sort,ia=>ia.data));k(D,this.params,E);D.separation&&D.separation(!1!==E.separation?A:w.one);try{this.value=D(S)}catch(ia){w.error(ia)}S.each(ia=>{{const fa=ia.data,ja=H.length-1;for(let la=0;la<ja;++la)fa[U[la]]=ia[H[la]];fa[U[ja]]=ia.children?ia.children.length:0}});return x.reflow(E.modified()).modifies(U).modifies("leaf")}});var C=["x","y","r","depth","children"];
f.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:C.length,"default":C}]};w.inherits(f,t,{layout:G.pack,params:["radius","size","padding"],fields:C});C="x0 y0 x1 y1 depth children".split(" ");d.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:C.length,"default":C}]};w.inherits(d,t,{layout:G.partition,params:["size","round","padding"],fields:C});g.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};w.inherits(g,l.Transform,{transform(E,
x){x.source||w.error("Stratify transform requires an upstream data source.");let D=this.value;const H=E.modified(),S=x.fork(x.ALL).materialize(x.SOURCE);x=!D||H||x.changed(x.ADD_REM)||x.modified(E.key.fields)||x.modified(E.parentKey.fields);S.source=S.source.slice();x&&(D=S.source.length?L(G.stratify().id(E.key).parentId(E.parentKey)(S.source),E.key,w.truthy):L(G.stratify()([{}]),E.key,E.key));S.source.root=this.value=D;return S}});const N={tidy:G.tree,cluster:G.cluster};C=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:C.length,"default":C}]};w.inherits(a,t,{layout(E){E=E||"tidy";if(w.hasOwnProperty(N,E))return N[E]();w.error("Unrecognized Tree layout method: "+
E)},params:["size","nodeSize"],fields:C});e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};w.inherits(e,l.Transform,{transform(E,x){E=this.value;const D=x.source&&x.source.root,H=x.fork(x.NO_SOURCE),S={};D||w.error("TreeLinks transform requires a tree data source.");x.changed(x.ADD_REM)?(H.rem=E,x.visit(x.SOURCE,U=>S[l.tupleid(U)]=1),D.each(U=>{const ia=U.data;(U=U.parent&&U.parent.data)&&S[l.tupleid(ia)]&&S[l.tupleid(U)]&&H.add.push(l.ingest({source:U,target:ia}))}),
this.value=H.add):x.changed(x.MOD)&&(x.visit(x.MOD,U=>S[l.tupleid(U)]=1),E.forEach(U=>{(S[l.tupleid(U.source)]||S[l.tupleid(U.target)])&&H.mod.push(U)}));return H}});const K={binary:G.treemapBinary,dice:G.treemapDice,slice:G.treemapSlice,slicedice:G.treemapSliceDice,squarify:G.treemapSquarify,resquarify:G.treemapResquarify};C="x0 y0 x1 y1 depth children".split(" ");n.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:C.length,"default":C}]};w.inherits(n,t,{layout(){const E=G.treemap();E.ratio=x=>{const D=E.tile();D.ratio&&E.tile(D.ratio(x))};E.method=x=>{w.hasOwnProperty(K,x)?E.tile(K[x]):w.error("Unrecognized Treemap layout method: "+x)};return E},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:C});m.nest=v;m.pack=
f;m.partition=d;m.stratify=g;m.tree=a;m.treelinks=e;m.treemap=n;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(33),z(28),z(38),z(16)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.vega,m.vega))})(this,function(m,l,w,G,L){function v(da,O){const B=da.bitmap();(O||[]).forEach(Y=>B.set(da(Y.boundary[0]),da(Y.boundary[3])));
return[B,void 0]}function u(da,O,B,Y){const ka=da.width,Z=da.height,wa=B||Y,xa=l.canvas(ka,Z).getContext("2d");O.forEach(za=>t(xa,za,wa));O=new Uint32Array(xa.getImageData(0,0,ka,Z).data.buffer);B=da.bitmap();const Da=wa&&da.bitmap();let Wa,gb,ra,Na,Ta;for(gb=0;gb<Z;++gb)for(Wa=0;Wa<ka;++Wa)if(Ta=O[gb*ka+Wa]&4278190080)ra=da(Wa),Na=da(gb),Y||B.set(ra,Na),wa&&Ta^268435456&&Da.set(ra,Na);return[B,Da]}function t(da,O,B){if(O.length){var Y=O[0].mark.marktype;"group"===Y?O.forEach(ka=>{ka.items.forEach(Z=>
t(da,Z.items,B))}):G.Marks[Y].draw(da,{items:B?O.map(k):O})}}function k(da){da=w.rederive(da,{});da.stroke&&(da.strokeOpacity=1);da.fill&&(da.fillOpacity=.0625,da.stroke="#000",da.strokeOpacity=1,da.strokeWidth=2);return da}function f(da,O){const B=new Uint32Array(~~((da*O+32)/32));return{array:B,get:(Y,ka)=>{Y=ka*da+Y;return B[Y>>>5]&1<<(Y&31)},set:(Y,ka)=>{Y=ka*da+Y;B[Y>>>5]|=1<<(Y&31)},clear:(Y,ka)=>{Y=ka*da+Y;B[Y>>>5]&=~(1<<(Y&31))},getRange:(Y,ka,Z,wa)=>{let xa,Da,Wa;for(;wa>=ka;--wa){var gb=
wa*da+Y;xa=wa*da+Z;Da=gb>>>5;Wa=xa>>>5;if(Da===Wa){if(B[Da]&E[gb&31]&x[(xa&31)+1])return!0}else{if(B[Da]&E[gb&31]||B[Wa]&x[(xa&31)+1])return!0;for(gb=Da+1;gb<Wa;++gb)if(B[gb])return!0}}return!1},setRange:(Y,ka,Z,wa)=>{let xa,Da,Wa;for(;ka<=wa;++ka){var gb=ka*da+Y;xa=ka*da+Z;Da=gb>>>5;Wa=xa>>>5;if(Da===Wa)B[Da]|=E[gb&31]&x[(xa&31)+1];else for(B[Da]|=E[gb&31],B[Wa]|=x[(xa&31)+1],gb=Da+1;gb<Wa;++gb)B[gb]|=4294967295}},clearRange:(Y,ka,Z,wa)=>{let xa,Da,Wa;for(;ka<=wa;++ka){var gb=ka*da+Y;xa=ka*da+Z;
Da=gb>>>5;Wa=xa>>>5;if(Da===Wa)B[Da]&=x[gb&31]|E[(xa&31)+1];else for(B[Da]&=x[gb&31],B[Wa]&=E[(xa&31)+1],gb=Da+1;gb<Wa;++gb)B[gb]&=0}},outOfBounds:(Y,ka,Z,wa)=>0>Y||0>ka||wa>=O||Z>=da}}function d(da,O,B){const Y=Math.max(1,Math.sqrt(da*O/1E6)),ka=~~((da+2*B+Y)/Y),Z=~~((O+2*B+Y)/Y),wa=xa=>~~((xa+B)/Y);wa.invert=xa=>xa*Y-B;wa.bitmap=()=>f(ka,Z);wa.ratio=Y;wa.padding=B;wa.width=da;wa.height=O;return wa}function g(da,O,B,Y,ka,Z){B/=2;return 0>da-B||da+B>ka||0>O-(B=Y/2)||O+B>Z}function a(da,O,B,Y,ka,Z,
wa,xa){ka=ka*Z/(2*Y);Y=da(O-ka);O=da(O+ka);ka=da(B-(Z/=2));da=da(B+Z);return wa.outOfBounds(Y,ka,O,da)||wa.getRange(Y,ka,O,da)||xa&&xa.getRange(Y,ka,O,da)}function e(da,O,B,Y){const ka=da.width,Z=da.height,wa=O[0],xa=O[1],Da=Y.length;return function(Wa){const gb=Wa.boundary,ra=Wa.datum.fontSize;if(0>gb[2]||0>gb[5]||gb[0]>ka||gb[3]>Z)return!1;let Na=0,Ta,za;let pa,T;let W;let M;let P,ca;for(let vc=0;vc<Da;++vc){Ta=(B[vc]&3)-1;za=(B[vc]>>>2&3)-1;var ea=0===Ta&&0===za||0>Y[vc];var oa=Ta&&za?Math.SQRT1_2:
1;pa=0>Y[vc]?-1:1;T=gb[1+Ta]+Y[vc]*Ta*oa;M=gb[4+za]+pa*ra*za/2+Y[vc]*za*oa;oa=M-ra/2;W=M+ra/2;var ba=da(T);P=da(oa);ca=da(W);if(!Na){var Fa=ba;var Ra=P;var Ma=ca;var db=wa,ab=xa,Ba=T,Sa=T,lb=oa,ub=W,Jb=gb,bc=ea;if(!db.outOfBounds(Fa,Ra,ba,Ma)&&(bc&&ab?!ab.getRange(Fa,Ra,ba,Ma)&&Jb[0]<=Ba&&Sa<=Jb[2]&&Jb[3]<=lb&&ub<=Jb[5]:!db.getRange(Fa,Ra,ba,Ma)))Na=G.textMetrics.width(Wa.datum,Wa.datum.text);else continue}Ra=T+pa*Na*Ta/2;T=Ra-Na/2;Fa=Ra+Na/2;ba=da(T);Ma=da(Fa);db=ba;ab=Ma;Ba=P;Sa=ca;lb=wa;ub=xa;
Jb=T;bc=Fa;var wc=oa,$c=W,kc=gb;if(!lb.outOfBounds(db,Ba,ab,Sa)&&(ea&&ub?!ub.getRange(db,Ba,ab,Sa)&&kc[0]<=Jb&&bc<=kc[2]&&kc[3]<=wc&&$c<=kc[5]:!lb.getRange(db,Ba,ab,Sa)))return Wa.x=Ta?0>Ta*pa?Fa:T:Ra,Wa.y=za?0>za*pa?W:oa:M,Wa.align=S[Ta*pa+1],Wa.baseline=U[za*pa+1],wa.setRange(ba,P,Ma,ca),!0}return!1}}function n(da,O,B,Y,ka,Z,wa,xa,Da,Wa,gb){if(!da.length)return da;var ra=Math.max(Y.length,ka.length);Y=y(Y,ra);ka=A(ka,ra);ra=C(da[0].datum);const Na="group"===ra&&da[0].datum.items[Da].marktype,Ta=
"area"===Na,za=N(ra,Na,xa,Da);O=d(O[0],O[1],Wa);Wa=Ta&&"naive"===gb;xa=da.map(W=>({datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:za(W)}));if(!Wa){B&&xa.sort((W,M)=>B(W.datum,M.datum));var pa=!1;for(Wa=0;Wa<ka.length&&!pa;++Wa)pa=5===ka[Wa]||0>Y[Wa];ra&&(wa||Ta)&&(Z=[da.map(W=>W.datum)].concat(Z));pa=Z.length?u(O,Z,pa,Ta):v(O,wa&&xa)}const T=Ta?fa[gb](O,pa,wa,Da):e(O,pa,ka,Y);xa.forEach(W=>W.opacity=+T(W));return xa}function y(da,O){const B=new Float64Array(O),Y=da.length;
for(let ka=0;ka<Y;++ka)B[ka]=da[ka]||0;for(da=Y;da<O;++da)B[da]=B[Y-1];return B}function A(da,O){const B=new Int8Array(O),Y=da.length;for(let ka=0;ka<Y;++ka)B[ka]|=ia[da[ka]];for(da=Y;da<O;++da)B[da]=B[Y-1];return B}function C(da){return da&&da.mark&&da.mark.marktype}function N(da,O,B,Y){const ka=Z=>[Z.x,Z.x,Z.x,Z.y,Z.y,Z.y];return da?"line"===da||"area"===da?Z=>ka(Z.datum):"line"===O?Z=>{Z=Z.datum.items[Y].items;return ka(Z.length?Z["start"===B?0:Z.length-1]:{x:NaN,y:NaN})}:Z=>{Z=Z.datum.bounds;
return[Z.x1,(Z.x1+Z.x2)/2,Z.x2,Z.y1,(Z.y1+Z.y2)/2,Z.y2]}:ka}function K(da){w.Transform.call(this,null,da)}const E=new Uint32Array(33),x=new Uint32Array(33);x[0]=0;E[0]=~x[0];for(let da=1;32>=da;++da)x[da]=x[da-1]<<1|1,E[da]=~x[da];const D=[-1,-1,1,1],H=[-1,1,-1,1],S=["right","center","left"],U=["bottom","middle","top"],ia={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},fa={naive:function(da,O,B,Y){const ka=da.width,Z=da.height;return function(wa){const xa=
wa.datum.datum.items[Y].items,Da=xa.length,Wa=wa.datum.fontSize,gb=G.textMetrics.width(wa.datum,wa.datum.text);let ra=0;let Na,Ta,za,pa,T;for(let M=0;M<Da;++M){var W=xa[M].x;Ta=xa[M].y;Na=void 0===xa[M].x2?W:xa[M].x2;za=void 0===xa[M].y2?Ta:xa[M].y2;pa=(W+Na)/2;T=(Ta+za)/2;W=Math.abs(Na-W+za-Ta);W>=ra&&(ra=W,wa.x=pa,wa.y=T)}pa=gb/2;T=Wa/2;W=wa.x-pa;Na=wa.x+pa;Ta=wa.y-T;za=wa.y+T;wa.align="center";0>W&&Na<=ka?wa.align="left":0<=W&&ka<Na&&(wa.align="right");wa.baseline="middle";0>Ta&&za<=Z?wa.baseline=
"top":0<=Ta&&Z<za&&(wa.baseline="bottom");return!0}},"reduced-search":function(da,O,B,Y){function ka(Wa,gb,ra,Na,Ta){Wa=da.invert(Wa);gb=da.invert(gb);let za=ra,pa=wa,T;if(!g(Wa,gb,Na,Ta,Z,wa)&&!a(da,Wa,gb,Ta,Na,za,xa,Da)&&!a(da,Wa,gb,Ta,Na,Ta,xa,null)){for(;1<=pa-za;)T=(za+pa)/2,a(da,Wa,gb,Ta,Na,T,xa,Da)?pa=T:za=T;if(za>ra)return[Wa,gb,za,!0]}}const Z=da.width,wa=da.height,xa=O[0],Da=O[1];return function(Wa){const gb=Wa.datum.datum.items[Y].items,ra=gb.length,Na=Wa.datum.fontSize,Ta=G.textMetrics.width(Wa.datum,
Wa.datum.text);let za=B?Na:0,pa=!1,T=!1,W=0;let M;let P;let ca,ea,oa,ba,Fa,Ra,Ma,db;for(let lb=0;lb<ra;++lb){var ab=gb[lb].x;var Ba=gb[lb].y;M=void 0===gb[lb].x2?ab:gb[lb].x2;P=void 0===gb[lb].y2?Ba:gb[lb].y2;if(ab>M){var Sa=ab;ab=M;M=Sa}Ba>P&&(Sa=Ba,Ba=P,P=Sa);ea=da(ab);ba=da(M);oa=~~((ea+ba)/2);Fa=da(Ba);Ma=da(P);Ra=~~((Fa+Ma)/2);for(Sa=oa;Sa>=ea;--Sa)for(ca=Ra;ca>=Fa;--ca)(db=ka(Sa,ca,za,Ta,Na))&&([Wa.x,Wa.y,za,pa]=db);for(Sa=oa;Sa<=ba;++Sa)for(ca=Ra;ca<=Ma;++ca)(db=ka(Sa,ca,za,Ta,Na))&&([Wa.x,
Wa.y,za,pa]=db);pa||B||(Sa=Math.abs(M-ab+P-Ba),ab=(ab+M)/2,Ba=(Ba+P)/2,Sa>=W&&!g(ab,Ba,Ta,Na,Z,wa)&&!a(da,ab,Ba,Na,Ta,Na,xa,null)&&(W=Sa,Wa.x=ab,Wa.y=Ba,T=!0))}return pa||T?(ab=Ta/2,Ba=Na/2,xa.setRange(da(Wa.x-ab),da(Wa.y-Ba),da(Wa.x+ab),da(Wa.y+Ba)),Wa.align="center",Wa.baseline="middle",!0):!1}},floodfill:function(da,O,B,Y){const ka=da.width,Z=da.height,wa=O[0],xa=O[1],Da=da.bitmap();return function(Wa){const gb=Wa.datum.datum.items[Y].items,ra=gb.length,Na=Wa.datum.fontSize,Ta=G.textMetrics.width(Wa.datum,
Wa.datum.text),za=[];let pa=B?Na:0,T=!1,W=!1,M=0,P,ca,ea,oa,ba,Fa;var Ra;for(let ab=0;ab<ra;++ab){P=gb[ab].x;ea=gb[ab].y;ca=void 0===gb[ab].x2?P:gb[ab].x2;oa=void 0===gb[ab].y2?ea:gb[ab].y2;for(za.push([da((P+ca)/2),da((ea+oa)/2)]);za.length;)if([Ma,db]=za.pop(),!(wa.get(Ma,db)||xa.get(Ma,db)||Da.get(Ma,db))){Da.set(Ma,db);for(Ra=0;4>Ra;++Ra)ba=Ma+D[Ra],Fa=db+H[Ra],Da.outOfBounds(ba,Fa,ba,Fa)||za.push([ba,Fa]);ba=da.invert(Ma);Fa=da.invert(db);var Ma=pa;var db=Z;if(!g(ba,Fa,Ta,Na,ka,Z)&&!a(da,ba,
Fa,Na,Ta,Ma,wa,xa)&&!a(da,ba,Fa,Na,Ta,Na,wa,null)){for(;1<=db-Ma;)Ra=(Ma+db)/2,a(da,ba,Fa,Na,Ta,Ra,wa,xa)?db=Ra:Ma=Ra;Ma>pa&&(Wa.x=ba,Wa.y=Fa,pa=Ma,T=!0)}}T||B||(Ma=Math.abs(ca-P+oa-ea),ba=(P+ca)/2,Fa=(ea+oa)/2,Ma>=M&&!g(ba,Fa,Ta,Na,ka,Z)&&!a(da,ba,Fa,Na,Ta,Na,wa,null)&&(M=Ma,Wa.x=ba,Wa.y=Fa,W=!0))}return T||W?(ba=Ta/2,Fa=Na/2,wa.setRange(da(Wa.x-ba),da(Wa.y-Fa),da(Wa.x+ba),da(Wa.y+Fa)),Wa.align="center",Wa.baseline="middle",!0):!1}}},ja=["x","y","opacity","align","baseline"],la="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
K.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:la},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:ja.length,default:ja}]};L.inherits(K,w.Transform,{transform(da,O){function B(Z){Z=da[Z];return L.isFunction(Z)&&O.modified(Z.fields)}const Y=da.modified();if(Y||O.changed(O.ADD_REM)||B("sort")){da.size&&2===da.size.length||L.error("Size parameter should be specified as a [width, height] array.");var ka=da.as||ja;n(O.materialize(O.SOURCE).source,da.size,da.sort,L.array(da.offset||1),L.array(da.anchor||la),da.avoidMarks||[],!1===
da.avoidBaseMark?!1:!0,da.lineAnchor||"end",da.markIndex||0,da.padding||0,da.method||"naive").forEach(Z=>{const wa=Z.datum;wa[ka[0]]=Z.x;wa[ka[1]]=Z.y;wa[ka[2]]=Z.opacity;wa[ka[3]]=Z.align;wa[ka[4]]=Z.baseline});return O.reflow(Y).modifies(ka)}}});m.label=K;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(29),z(28),z(16)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega))})(this,function(m,l,w,G){function L(k,f){var d=[],g=function(N){return N(y)},a;if(null==f)d.push(k);else{var e={};var n=0;for(a=k.length;n<a;++n){var y=k[n];var A=f.map(g);var C=e[A];
C||(e[A]=C=[],C.dims=A,d.push(C));C.push(y)}}return d}function v(k){w.Transform.call(this,null,k)}function u(k){w.Transform.call(this,null,k)}v.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};G.inherits(v,w.Transform,{transform(k,f){const d=f.fork(f.NO_SOURCE|f.NO_FIELDS);if(!this.value||f.changed()||
k.modified()){f=f.materialize(f.SOURCE).source;f=L(f,k.groupby);const g=(k.groupby||[]).map(G.accessorName),a=g.length,e=k.as||[G.accessorName(k.x),G.accessorName(k.y)],n=[];f.forEach(y=>{l.regressionLoess(y,k.x,k.y,k.bandwidth||.3).forEach(A=>{const C={};for(let N=0;N<a;++N)C[g[N]]=y.dims[N];C[e[0]]=A[0];C[e[1]]=A[1];n.push(w.ingest(C))})});this.value&&(d.rem=this.value);this.value=d.add=d.source=n}return d}});const t={linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,
quad:l.regressionQuad,poly:l.regressionPoly};u.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(t)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};G.inherits(u,w.Transform,{transform(k,f){const d=
f.fork(f.NO_SOURCE|f.NO_FIELDS);if(!this.value||f.changed()||k.modified()){var g=f.materialize(f.SOURCE).source;g=L(g,k.groupby);const a=(k.groupby||[]).map(G.accessorName),e=k.method||"linear",n=k.order||3,y="poly"===e?n:"quad"===e?2:1,A=k.as||[G.accessorName(k.x),G.accessorName(k.y)],C=t[e],N=[];let K=k.extent;G.hasOwnProperty(t,e)||G.error("Invalid regression method: "+e);null!=K&&"log"===e&&0>=K[0]&&(f.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),K=null);g.forEach(E=>
{if(E.length<=y)f.dataflow.warn("Skipping regression with more parameters than data points.");else{var x=C(E,k.x,k.y,n);if(k.params)N.push(w.ingest({keys:E.dims,coef:x.coef,rSquared:x.rSquared}));else{var D=K||G.extent(E,k.x),H=S=>{const U={};for(let ia=0;ia<a.length;++ia)U[a[ia]]=E.dims[ia];U[A[0]]=S[0];U[A[1]]=S[1];N.push(w.ingest(U))};"linear"===e?D.forEach(S=>H([S,x.predict(S)])):l.sampleCurve(x.predict,D,25,200).forEach(H)}}});this.value&&(d.rem=this.value);this.value=d.add=d.source=N}return d}});
m.loess=v;m.regression=u;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m=m||self,l(m.d3=m.d3||{}))})(this,function(m){function l(H,S){H/=Math.abs(H)+Math.abs(S);return(0<S?3-H:1+H)/4}function w(H,S,U,ia){H-=U;S-=ia;return H*H+S*S}function G(H,S,U,ia,fa,ja){ia=(ia-S)*(fa-H);H=(U-H)*(ja-S);return Math.abs(ia-H)>=3.3306690738754716E-16*Math.abs(ia+H)?ia-H:0}function L(H,S,U,ia,fa,ja){return 0>(G(fa,ja,H,S,
U,ia)||G(H,S,U,ia,fa,ja)||G(U,ia,fa,ja,H,S))}function v(H,S,U,ia){if(20>=ia-U)for(var fa=U+1;fa<=ia;fa++){for(var ja=H[fa],la=S[ja],da=fa-1;da>=U&&S[H[da]]>la;)H[da+1]=H[da--];H[da+1]=ja}else{fa=U+1;ja=ia;u(H,U+ia>>1,fa);S[H[U]]>S[H[ia]]&&u(H,U,ia);S[H[fa]]>S[H[ia]]&&u(H,fa,ia);S[H[U]]>S[H[fa]]&&u(H,U,fa);la=H[fa];for(da=S[la];;){do fa++;while(S[H[fa]]<da);do ja--;while(S[H[ja]]>da);if(ja<fa)break;u(H,fa,ja)}H[U+1]=H[ja];H[ja]=la;ia-fa+1>=ja-U?(v(H,S,fa,ia),v(H,S,U,ja-1)):(v(H,S,U,ja-1),v(H,S,fa,
ia))}}function u(H,S,U){const ia=H[S];H[S]=H[U];H[U]=ia}function t(H){return H[0]}function k(H){return H[1]}function f(H){return H[0]}function d(H){return H[1]}function g(H){const {triangles:S,coords:U}=H;for(H=0;H<S.length;H+=3){const ia=2*S[H],fa=2*S[H+1],ja=2*S[H+2];if(1E-10<(U[ja]-U[ia])*(U[fa+1]-U[ia+1])-(U[fa]-U[ia])*(U[ja+1]-U[ia+1]))return!1}return!0}function a(H,S,U){return[H+Math.sin(H+S)*U,S+Math.cos(H-S)*U]}function*e(H,S,U,ia){let fa=0;for(const ja of H)yield S.call(ia,ja,fa,H),yield U.call(ia,
ja,fa,H),++fa}const n=Math.pow(2,-52),y=new Uint32Array(512);class A{static from(H,S=t,U=k){const ia=H.length,fa=new Float64Array(2*ia);for(let ja=0;ja<ia;ja++){const la=H[ja];fa[2*ja]=S(la);fa[2*ja+1]=U(la)}return new A(fa)}constructor(H){const S=H.length>>1;if(0<S&&"number"!==typeof H[0])throw Error("Expected coords to contain numbers.");this.coords=H;H=Math.max(2*S-5,0);this._triangles=new Uint32Array(3*H);this._halfedges=new Int32Array(3*H);this._hashSize=Math.ceil(Math.sqrt(S));this._hullPrev=
new Uint32Array(S);this._hullNext=new Uint32Array(S);this._hullTri=new Uint32Array(S);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(S);this._dists=new Float64Array(S);this.update()}update(){const {coords:H,_hullPrev:S,_hullNext:U,_hullTri:ia,_hullHash:fa}=this;var ja=H.length>>1,la=Infinity,da=Infinity,O=-Infinity,B=-Infinity;for(var Y=0;Y<ja;Y++){var ka=H[2*Y];var Z=H[2*Y+1];ka<la&&(la=ka);Z<da&&(da=Z);ka>O&&(O=ka);Z>B&&(B=Z);this._ids[Y]=Y}O=(la+O)/2;da=(da+
B)/2;la=Infinity;for(B=0;B<ja;B++)if(Y=w(O,da,H[2*B],H[2*B+1]),Y<la){var wa=B;la=Y}da=H[2*wa];B=H[2*wa+1];la=Infinity;for(O=0;O<ja;O++)if(O!==wa&&(Y=w(da,B,H[2*O],H[2*O+1]),Y<la&&0<Y)){var xa=O;la=Y}la=H[2*xa];O=H[2*xa+1];Z=Infinity;for(Y=0;Y<ja;Y++)if(Y!==wa&&Y!==xa){ka=la-da;var Da=O-B;var Wa=H[2*Y]-da;var gb=H[2*Y+1]-B,ra=ka*ka+Da*Da,Na=Wa*Wa+gb*gb,Ta=.5/(ka*gb-Da*Wa);Da=(gb*ra-Da*Na)*Ta;ka=(ka*Na-Wa*ra)*Ta;ka=Da*Da+ka*ka;if(ka<Z){var za=Y;Z=ka}}Y=H[2*za];ka=H[2*za+1];if(Infinity===Z){for(wa=0;wa<
ja;wa++)this._dists[wa]=H[2*wa]-H[0]||H[2*wa+1]-H[1];v(this._ids,this._dists,0,ja-1);wa=new Uint32Array(ja);xa=0;for(let pa=0,T=-Infinity;pa<ja;pa++)za=this._ids[pa],this._dists[za]>T&&(wa[xa++]=za,T=this._dists[za]);this.hull=wa.subarray(0,xa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{L(da,B,la,O,Y,ka)&&(Z=xa,Wa=la,ra=O,xa=za,la=Y,O=ka,za=Z,Y=Wa,ka=ra);Wa=la-da;Z=O-B;ra=Y-da;gb=ka-B;Na=Wa*Wa+Z*Z;Ta=ra*ra+gb*gb;Da=.5/(Wa*gb-Z*ra);Z=da+(gb*Na-Z*Ta)*Da;Wa=B+(Wa*Ta-ra*
Na)*Da;this._cx=Z;this._cy=Wa;for(ra=0;ra<ja;ra++)this._dists[ra]=w(H[2*ra],H[2*ra+1],Z,Wa);v(this._ids,this._dists,0,ja-1);this._hullStart=wa;ja=3;U[wa]=S[za]=xa;U[xa]=S[wa]=za;U[za]=S[xa]=wa;ia[wa]=0;ia[xa]=1;ia[za]=2;fa.fill(-1);fa[this._hashKey(da,B)]=wa;fa[this._hashKey(la,O)]=xa;fa[this._hashKey(Y,ka)]=za;this.trianglesLen=0;this._addTriangle(wa,xa,za,-1,-1,-1);for(let pa=0,T,W;pa<this._ids.length;pa++){da=this._ids[pa];B=H[2*da];la=H[2*da+1];if(0<pa&&Math.abs(B-T)<=n&&Math.abs(la-W)<=n)continue;
T=B;W=la;if(da===wa||da===xa||da===za)continue;O=0;for(let P=0,ca=this._hashKey(B,la);P<this._hashSize&&(O=fa[(ca+P)%this._hashSize],-1===O||O===U[O]);P++);Y=O=S[O];let M;for(;M=U[Y],!L(B,la,H[2*Y],H[2*Y+1],H[2*M],H[2*M+1]);)if(Y=M,Y===O){Y=-1;break}if(-1!==Y){ka=this._addTriangle(Y,da,U[Y],-1,-1,ia[Y]);ia[da]=this._legalize(ka+2);ia[Y]=ka;ja++;for(Z=U[Y];M=U[Z],L(B,la,H[2*Z],H[2*Z+1],H[2*M],H[2*M+1]);)ka=this._addTriangle(Z,da,M,ia[da],-1,ia[Z]),ia[da]=this._legalize(ka+2),U[Z]=Z,ja--,Z=M;if(Y===
O)for(;M=S[Y],L(B,la,H[2*M],H[2*M+1],H[2*Y],H[2*Y+1]);)ka=this._addTriangle(M,da,Y,-1,ia[Y],ia[M]),this._legalize(ka+2),ia[M]=ka,U[Y]=Y,ja--,Y=M;this._hullStart=S[da]=Y;U[Y]=S[Z]=da;U[da]=Z;fa[this._hashKey(B,la)]=da;fa[this._hashKey(H[2*Y],H[2*Y+1])]=Y}}this.hull=new Uint32Array(ja);for(let pa=0,T=this._hullStart;pa<ja;pa++)this.hull[pa]=T,T=U[T];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(H,S){return Math.floor(l(H-
this._cx,S-this._cy)*this._hashSize)%this._hashSize}_legalize(H){const {_triangles:S,_halfedges:U,coords:ia}=this;let fa=0;for(var ja;;){const wa=U[H];var la=H-H%3;ja=la+(H+2)%3;if(-1===wa){if(0===fa)break;H=y[--fa];continue}const xa=wa-wa%3,Da=xa+(wa+2)%3;var da=S[ja],O=S[H],B=S[la+(H+1)%3];la=S[Da];{var Y=ia[2*la],ka=ia[2*la+1];var Z=ia[2*da]-Y;const Wa=ia[2*da+1]-ka,gb=ia[2*O]-Y;O=ia[2*O+1]-ka;Y=ia[2*B]-Y;ka=ia[2*B+1]-ka;B=gb*gb+O*O;const ra=Y*Y+ka*ka;Z=0>Z*(O*ra-B*ka)-Wa*(gb*ra-B*Y)+(Z*Z+Wa*Wa)*
(gb*ka-O*Y)}if(Z){S[H]=la;S[wa]=da;da=U[Da];if(-1===da){la=this._hullStart;do{if(this._hullTri[la]===Da){this._hullTri[la]=H;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(H,da);this._link(wa,U[ja]);this._link(ja,Da);ja=xa+(wa+1)%3;fa<y.length&&(y[fa++]=ja)}else{if(0===fa)break;H=y[--fa]}}return ja}_link(H,S){this._halfedges[H]=S;-1!==S&&(this._halfedges[S]=H)}_addTriangle(H,S,U,ia,fa,ja){const la=this.trianglesLen;this._triangles[la]=H;this._triangles[la+1]=S;this._triangles[la+
2]=U;this._link(la,ia);this._link(la+1,fa);this._link(la+2,ja);this.trianglesLen+=3;return la}}class C{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(H,S){this._+=`M${this._x0=this._x1=+H},${this._y0=this._y1=+S}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(H,S){this._+=`L${this._x1=+H},${this._y1=+S}`}arc(H,S,U){H=+H;S=+S;U=+U;const ia=H+U,fa=S;if(0>U)throw Error("negative radius");if(null===this._x1)this._+=`M${ia},${fa}`;else if(1E-6<
Math.abs(this._x1-ia)||1E-6<Math.abs(this._y1-fa))this._+="L"+ia+","+fa;U&&(this._+=`A${U},${U},0,1,1,${H-U},${S}A${U},${U},0,1,1,${this._x1=ia},${this._y1=fa}`)}rect(H,S,U,ia){this._+=`M${this._x0=this._x1=+H},${this._y0=this._y1=+S}h${+U}v${+ia}h${-U}Z`}value(){return this._||null}}class N{constructor(){this._=[]}moveTo(H,S){this._.push([H,S])}closePath(){this._.push(this._[0].slice())}lineTo(H,S){this._.push([H,S])}value(){return this._.length?this._:null}}class K{constructor(H,[S,U,ia,fa]=[0,
0,960,500]){if(!((ia=+ia)>=(S=+S)&&(fa=+fa)>=(U=+U)))throw Error("invalid bounds");this.delaunay=H;this._circumcenters=new Float64Array(2*H.points.length);this.vectors=new Float64Array(2*H.points.length);this.xmax=ia;this.xmin=S;this.ymax=fa;this.ymin=U;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:H,hull:S,triangles:U},vectors:ia}=this;var fa=this.circumcenters=this._circumcenters.subarray(0,U.length/3*2);for(let Z=0,wa=0,xa=U.length,Da,Wa;Z<
xa;Z+=3,wa+=2){var ja=2*U[Z],la=2*U[Z+1],da=2*U[Z+2],O=H[ja];ja=H[ja+1];var B=H[da],Y=H[da+1];da=H[la]-O;la=H[la+1]-ja;var ka=B-O;const gb=Y-ja,ra=da*da+la*la,Na=ka*ka+gb*gb,Ta=2*(da*gb-la*ka);Ta?1E-8>Math.abs(Ta)?(Da=(O+B)/2,Wa=(ja+Y)/2):(B=1/Ta,Da=O+(gb*ra-la*Na)*B,Wa=ja+(da*Na-ka*ra)*B):(Da=(O+B)/2-1E8*gb,Wa=(ja+Y)/2+1E8*ka);fa[wa]=Da;fa[wa+1]=Wa}fa=S[S.length-1];ja=4*fa;da=H[2*fa];la=H[2*fa+1];ia.fill(0);for(ka=0;ka<S.length;++ka)fa=S[ka],O=ja,B=da,Y=la,ja=4*fa,da=H[2*fa],la=H[2*fa+1],ia[O+2]=
ia[ja]=Y-la,ia[O+3]=ia[ja+1]=da-B}render(H){const S=null==H?H=new C:void 0,{delaunay:{halfedges:U,inedges:ia,hull:fa},circumcenters:ja,vectors:la}=this;if(1>=fa.length)return null;for(let ka=0,Z=U.length;ka<Z;++ka){var da=U[ka];if(!(da<ka)){var O=2*Math.floor(ka/3);da=2*Math.floor(da/3);this._renderSegment(ja[O],ja[O+1],ja[da],ja[da+1],H)}}O=fa[fa.length-1];for(da=0;da<fa.length;++da){var B=O;O=fa[da];var Y=2*Math.floor(ia[O]/3);const ka=ja[Y];Y=ja[Y+1];B*=4;(B=this._project(ka,Y,la[B+2],la[B+3]))&&
this._renderSegment(ka,Y,B[0],B[1],H)}return S&&S.value()}renderBounds(H){const S=null==H?H=new C:void 0;H.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return S&&S.value()}renderCell(H,S){const U=null==S?S=new C:void 0;H=this._clip(H);if(null!==H&&H.length){S.moveTo(H[0],H[1]);for(var ia=H.length;H[0]===H[ia-2]&&H[1]===H[ia-1]&&1<ia;)ia-=2;for(let fa=2;fa<ia;fa+=2)H[fa]===H[fa-2]&&H[fa+1]===H[fa-1]||S.lineTo(H[fa],H[fa+1]);S.closePath();return U&&U.value()}}*cellPolygons(){var {delaunay:{points:H}}=
this;for(let S=0,U=H.length/2;S<U;++S)if(H=this.cellPolygon(S))H.index=S,yield H}cellPolygon(H){const S=new N;this.renderCell(H,S);return S.value()}_renderSegment(H,S,U,ia,fa){const ja=this._regioncode(H,S),la=this._regioncode(U,ia);if(0===ja&&0===la)fa.moveTo(H,S),fa.lineTo(U,ia);else if(H=this._clipSegment(H,S,U,ia,ja,la))fa.moveTo(H[0],H[1]),fa.lineTo(H[2],H[3])}contains(H,S,U){return(S=+S,S!==S)||(U=+U,U!==U)?!1:this.delaunay._step(H,S,U)===H}*neighbors(H){const S=this._clip(H);if(S)for(const U of this.delaunay.neighbors(H))if(H=
this._clip(U))a:for(let ia=0,fa=S.length;ia<fa;ia+=2)for(let ja=0,la=H.length;ja<la;ja+=2)if(S[ia]==H[ja]&&S[ia+1]==H[ja+1]&&S[(ia+2)%fa]==H[(ja+la-2)%la]&&S[(ia+3)%fa]==H[(ja+la-1)%la]){yield U;break a}}_cell(H){const {circumcenters:S,delaunay:{inedges:U,halfedges:ia,triangles:fa}}=this,ja=U[H];if(-1===ja)return null;const la=[];let da=ja;do{const O=Math.floor(da/3);la.push(S[2*O],S[2*O+1]);da=2===da%3?da-2:da+1;if(fa[da]!==H)break;da=ia[da]}while(da!==ja&&-1!==da);return la}_clip(H){if(0===H&&1===
this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const S=this._cell(H);if(null===S)return null;const {vectors:U}=this,ia=4*H;return U[ia]||U[ia+1]?this._clipInfinite(H,S,U[ia],U[ia+1],U[ia+2],U[ia+3]):this._clipFinite(H,S)}_clipFinite(H,S){const U=S.length;let ia=null;let fa=S[U-2],ja=S[U-1];let la=this._regioncode(fa,ja),da;for(let ka=0;ka<U;ka+=2){var O=fa;var B=ja;fa=S[ka];ja=S[ka+1];var Y=la;la=this._regioncode(fa,ja);if(0===Y&&
0===la)da=0,ia?ia.push(fa,ja):ia=[fa,ja];else{let Z,wa;if(0===Y){if(null===(O=this._clipSegment(O,B,fa,ja,Y,la)))continue;[B,Y,Z,wa]=O}else{if(null===(O=this._clipSegment(fa,ja,O,B,la,Y)))continue;[Z,wa,B,Y]=O;O=da;da=this._edgecode(B,Y);O&&da&&this._edge(H,O,da,ia,ia.length);ia?ia.push(B,Y):ia=[B,Y]}O=da;da=this._edgecode(Z,wa);O&&da&&this._edge(H,O,da,ia,ia.length);ia?ia.push(Z,wa):ia=[Z,wa]}}if(ia)O=da,da=this._edgecode(ia[0],ia[1]),O&&da&&this._edge(H,O,da,ia,ia.length);else if(this.contains(H,
(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ia}_clipSegment(H,S,U,ia,fa,ja){for(;;){if(0===fa&&0===ja)return[H,S,U,ia];if(fa&ja)return null;var la=void 0;let da;la=fa||ja;la&8?(la=H+(U-H)*(this.ymax-S)/(ia-S),da=this.ymax):la&4?(la=H+(U-H)*(this.ymin-S)/(ia-S),da=this.ymin):la&2?(da=S+(ia-S)*(this.xmax-H)/(U-H),la=this.xmax):(da=S+(ia-S)*(this.xmin-H)/(U-H),la=this.xmin);fa?(H=la,S=da,fa=this._regioncode(H,
S)):(U=la,ia=da,ja=this._regioncode(U,ia))}}_clipInfinite(H,S,U,ia,fa,ja){S=Array.from(S);let la;(la=this._project(S[0],S[1],U,ia))&&S.unshift(la[0],la[1]);(la=this._project(S[S.length-2],S[S.length-1],fa,ja))&&S.push(la[0],la[1]);if(S=this._clipFinite(H,S))for(let da=0,O=S.length,B,Y=this._edgecode(S[O-2],S[O-1]);da<O;da+=2)B=Y,Y=this._edgecode(S[da],S[da+1]),B&&Y&&(da=this._edge(H,B,Y,S,da),O=S.length);else this.contains(H,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(S=[this.xmin,this.ymin,
this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return S}_edge(H,S,U,ia,fa){for(;S!==U;){let ja,la;switch(S){case 5:S=4;continue;case 4:S=6;ja=this.xmax;la=this.ymin;break;case 6:S=2;continue;case 2:S=10;ja=this.xmax;la=this.ymax;break;case 10:S=8;continue;case 8:S=9;ja=this.xmin;la=this.ymax;break;case 9:S=1;continue;case 1:S=5,ja=this.xmin,la=this.ymin}ia[fa]===ja&&ia[fa+1]===la||!this.contains(H,ja,la)||(ia.splice(fa,0,ja,la),fa+=2)}if(4<ia.length)for(H=0;H<ia.length;H+=2)if(S=(H+
2)%ia.length,U=(H+4)%ia.length,ia[H]===ia[S]&&ia[S]===ia[U]||ia[H+1]===ia[S+1]&&ia[S+1]===ia[U+1])ia.splice(S,2),H-=2;return fa}_project(H,S,U,ia){let fa=Infinity,ja,la,da;if(0>ia){if(S<=this.ymin)return null;(ja=(this.ymin-S)/ia)<fa&&(da=this.ymin,la=H+(fa=ja)*U)}else if(0<ia){if(S>=this.ymax)return null;(ja=(this.ymax-S)/ia)<fa&&(da=this.ymax,la=H+(fa=ja)*U)}if(0<U){if(H>=this.xmax)return null;(ja=(this.xmax-H)/U)<fa&&(la=this.xmax,da=S+ja*ia)}else if(0>U){if(H<=this.xmin)return null;(ja=(this.xmin-
H)/U)<fa&&(la=this.xmin,da=S+ja*ia)}return[la,da]}_edgecode(H,S){return(H===this.xmin?1:H===this.xmax?2:0)|(S===this.ymin?4:S===this.ymax?8:0)}_regioncode(H,S){return(H<this.xmin?1:H>this.xmax?2:0)|(S<this.ymin?4:S>this.ymax?8:0)}}const E=2*Math.PI,x=Math.pow;class D{static from(H,S=f,U=d,ia){if("length"in H){{const fa=H.length,ja=new Float64Array(2*fa);for(let la=0;la<fa;++la){const da=H[la];ja[2*la]=S.call(ia,da,la,H);ja[2*la+1]=U.call(ia,da,la,H)}H=ja}}else H=Float64Array.from(e(H,S,U,ia));return new D(H)}constructor(H){this._delaunator=
new A(H);this.inedges=new Int32Array(H.length/2);this._hullIndex=new Int32Array(H.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var H=this._delaunator;const S=this.points;if(H.hull&&2<H.hull.length&&g(H)){this.collinear=Int32Array.from({length:S.length/2},(la,da)=>da).sort((la,da)=>S[2*la]-S[2*da]||S[2*la+1]-S[2*da+1]);H=this.collinear[0];var U=this.collinear[this.collinear.length-1];H=[S[2*H],S[2*H+1],S[2*U],S[2*U+1]];
H=1E-8*Math.hypot(H[3]-H[1],H[2]-H[0]);for(let la=0,da=S.length/2;la<da;++la)U=a(S[2*la],S[2*la+1],H),S[2*la]=U[0],S[2*la+1]=U[1];this._delaunator=new A(S)}else delete this.collinear;H=this.halfedges=this._delaunator.halfedges;U=this.hull=this._delaunator.hull;const ia=this.triangles=this._delaunator.triangles,fa=this.inedges.fill(-1),ja=this._hullIndex.fill(-1);for(let la=0,da=H.length;la<da;++la){const O=ia[2===la%3?la-2:la+1];if(-1===H[la]||-1===fa[O])fa[O]=la}for(let la=0,da=U.length;la<da;++la)ja[U[la]]=
la;2>=U.length&&0<U.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=U[0],this.triangles[1]=U[1],this.triangles[2]=U[1],fa[U[0]]=1,2===U.length&&(fa[U[1]]=0))}voronoi(H){return new K(this,H)}*neighbors(H){const {inedges:S,hull:U,_hullIndex:ia,halfedges:fa,triangles:ja,collinear:la}=this;if(la){var da=la.indexOf(H);0<da&&(yield la[da-1]);da<la.length-1&&(yield la[da+1])}else{var O=S[H];if(-1!==O){var B=O;do{yield(da=ja[B]);B=2===B%3?
B-2:B+1;if(ja[B]!==H)break;B=fa[B];if(-1===B){H=U[(ia[H]+1)%U.length];H!==da&&(yield H);break}}while(B!==O)}}}find(H,S,U=0){if((H=+H,H!==H)||(S=+S,S!==S))return-1;const ia=U;let fa;for(;0<=(fa=this._step(U,H,S))&&fa!==U&&fa!==ia;)U=fa;return fa}_step(H,S,U){const {inedges:ia,hull:fa,_hullIndex:ja,halfedges:la,triangles:da,points:O}=this;if(-1===ia[H]||!O.length)return(H+1)%(O.length>>1);let B=H,Y=x(S-O[2*H],2)+x(U-O[2*H+1],2);const ka=ia[H];let Z=ka;do{let wa=da[Z];const xa=x(S-O[2*wa],2)+x(U-O[2*
wa+1],2);xa<Y&&(Y=xa,B=wa);Z=2===Z%3?Z-2:Z+1;if(da[Z]!==H)break;Z=la[Z];if(-1===Z){Z=fa[(ja[H]+1)%fa.length];if(Z!==wa&&x(S-O[2*Z],2)+x(U-O[2*Z+1],2)<Y)return Z;break}}while(Z!==ka);return B}render(H){const S=null==H?H=new C:void 0,{points:U,halfedges:ia,triangles:fa}=this;for(let la=0,da=ia.length;la<da;++la){var ja=ia[la];if(ja<la)continue;const O=2*fa[la];ja=2*fa[ja];H.moveTo(U[O],U[O+1]);H.lineTo(U[ja],U[ja+1])}this.renderHull(H);return S&&S.value()}renderPoints(H,S=2){const U=null==H?H=new C:
void 0,{points:ia}=this;for(let fa=0,ja=ia.length;fa<ja;fa+=2){const la=ia[fa],da=ia[fa+1];H.moveTo(la+S,da);H.arc(la,da,S,0,E)}return U&&U.value()}renderHull(H){const S=null==H?H=new C:void 0,{hull:U,points:ia}=this;var fa=2*U[0];const ja=U.length;H.moveTo(ia[fa],ia[fa+1]);for(fa=1;fa<ja;++fa){const la=2*U[fa];H.lineTo(ia[la],ia[la+1])}H.closePath();return S&&S.value()}hullPolygon(){const H=new N;this.renderHull(H);return H.value()}renderTriangle(H,S){const U=null==S?S=new C:void 0,{points:ia,triangles:fa}=
this,ja=2*fa[H*=3],la=2*fa[H+1];H=2*fa[H+2];S.moveTo(ia[ja],ia[ja+1]);S.lineTo(ia[la],ia[la+1]);S.lineTo(ia[H],ia[H+1]);S.closePath();return U&&U.value()}*trianglePolygons(){const {triangles:H}=this;for(let S=0,U=H.length/3;S<U;++S)yield this.trianglePolygon(S)}trianglePolygon(H){const S=new N;this.renderTriangle(H,S);return S.value()}}m.Delaunay=D;m.Voronoi=K;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(28),z(16),z(54)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.d3))})(this,function(m,l,w,G){function L(u){l.Transform.call(this,null,u)}L.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const v=[-1E5,-1E5,1E5,1E5];w.inherits(L,l.Transform,{transform(u,t){const k=u.as||"path",f=t.source;if(!f||!f.length)return t;var d=u.size;d=d?[0,0,d[0],d[1]]:(d=u.extent)?[d[0][0],d[0][1],d[1][0],d[1][1]]:v;d=this.value=G.Delaunay.from(f,u.x,u.y).voronoi(d);
for(let e=0,n=f.length;e<n;++e){var g=d.cellPolygon(e),a=f[e];if(g){{const y=g[0][0],A=g[0][1];let C=g.length-1;for(;g[C][0]===y&&g[C][1]===A;--C);g="M"+g.slice(0,C+1).join("L")+"Z"}}else g=null;a[k]=g}return t.reflow(u.modified()).modifies(k)}});m.voronoi=L;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(33),z(28),z(16),z(37),z(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.vega,m.vega,m.vega,m.vega,m.vega))})(this,function(m,l,w,G,L,v){function u(){function C(O){O.width=O.height=1;var B=Math.sqrt(O.getContext("2d").getImageData(0,
0,1,1).data.length>>2);O.width=2048/B;O.height=2048/B;O=O.getContext("2d");O.fillStyle=O.strokeStyle="red";O.textAlign="center";return{context:O,ratio:B}}function N(O,B,Y){for(var ka=B.x,Z=B.y,wa=Math.sqrt(K[0]*K[0]+K[1]*K[1]),xa=fa(K),Da=.5>la()?1:-1,Wa=-Da,gb,ra;gb=xa(Wa+=Da);){ra=~~gb[0];gb=~~gb[1];if(Math.min(Math.abs(ra),Math.abs(gb))>=wa)break;B.x=ka+ra;B.y=Z+gb;if(!(0>B.x+B.x0||0>B.y+B.y0||B.x+B.x1>K[0]||B.y+B.y1>K[1])){if(!(ra=!Y)){a:{ra=K[0];ra>>=5;gb=B.sprite;var Na=B.width>>5;var Ta=B.x-
(Na<<4);for(var za=Ta&127,pa=32-za,T=B.y1-B.y0,W=(B.y+B.y0)*ra+(Ta>>5),M=0;M<T;M++){for(var P=Ta=0;P<=Na;P++)if((Ta<<pa|(P<Na?(Ta=gb[M*Na+P])>>>za:0))&O[W+P]){ra=!0;break a}W+=ra}ra=!1}ra=!ra}if(ra&&(!Y||B.x+B.x1>Y[0].x&&B.x+B.x0<Y[1].x&&B.y+B.y1>Y[0].y&&B.y+B.y0<Y[1].y)){Y=B.sprite;ka=B.width>>5;Z=K[0]>>5;Wa=B.x-(ka<<4);wa=Wa&127;xa=32-wa;Da=B.y1-B.y0;Wa=(B.y+B.y0)*Z+(Wa>>5);for(gb=0;gb<Da;gb++){for(Na=ra=0;Na<=ka;Na++)O[Wa+Na]=O[Wa+Na]|ra<<xa|(Na<ka?(ra=Y[gb*ka+Na])>>>wa:0);Wa+=Z}B.sprite=null;
return!0}}}return!1}var K=[256,256],E,x,D,H,S,U,ia,fa=f,ja=[],la=Math.random,da={layout:function(){for(var O=C(l.canvas()),B=d((K[0]>>5)*K[1]),Y=null,ka=ja.length,Z=-1,wa=[],xa=ja.map(Wa=>({text:E(Wa),font:x(Wa),style:H(Wa),weight:S(Wa),rotate:U(Wa),size:~~(D(Wa)+1E-14),padding:ia(Wa),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Wa})).sort((Wa,gb)=>gb.size-Wa.size);++Z<ka;){var Da=xa[Z];Da.x=K[0]*(la()+.5)>>1;Da.y=K[1]*(la()+.5)>>1;t(O,Da,xa,Z);Da.hasText&&N(B,Da,Y)&&(wa.push(Da),
Y?k(Y,Da):Y=[{x:Da.x+Da.x0,y:Da.y+Da.y0},{x:Da.x+Da.x1,y:Da.y+Da.y1}],Da.x-=K[0]>>1,Da.y-=K[1]>>1)}return wa},words:function(O){return arguments.length?(ja=O,da):ja},size:function(O){return arguments.length?(K=[+O[0],+O[1]],da):K},font:function(O){return arguments.length?(x=g(O),da):x},fontStyle:function(O){return arguments.length?(H=g(O),da):H},fontWeight:function(O){return arguments.length?(S=g(O),da):S},rotate:function(O){return arguments.length?(U=g(O),da):U},text:function(O){return arguments.length?
(E=g(O),da):E},spiral:function(O){return arguments.length?(fa=n[O]||O,da):fa},fontSize:function(O){return arguments.length?(D=g(O),da):D},padding:function(O){return arguments.length?(ia=g(O),da):ia},random:function(O){return arguments.length?(la=O,da):la}};return da}function t(C,N,K,E){if(!N.sprite){var x=C.context,D=C.ratio;x.clearRect(0,0,2048/D,2048/D);var H=C=0,S=0,U=K.length;for(--E;++E<U;){N=K[E];x.save();x.font=N.style+" "+N.weight+" "+~~((N.size+1)/D)+"px "+N.font;var ia=x.measureText(N.text+
"m").width*D;var fa=N.size<<1;if(N.rotate){var ja=Math.sin(N.rotate*e),la=Math.cos(N.rotate*e),da=ia*la,O=ia*ja;la*=fa;ia=fa*ja;ia=Math.max(Math.abs(da+ia),Math.abs(da-ia))+31>>5<<5;fa=~~Math.max(Math.abs(O+la),Math.abs(O-la))}else ia=ia+31>>5<<5;fa>S&&(S=fa);2048<=C+ia&&(C=0,H+=S,S=0);if(2048<=H+fa)break;x.translate((C+(ia>>1))/D,(H+(fa>>1))/D);N.rotate&&x.rotate(N.rotate*e);x.fillText(N.text,0,0);N.padding&&(x.lineWidth=2*N.padding,x.strokeText(N.text,0,0));x.restore();N.width=ia;N.height=fa;N.xoff=
C;N.yoff=H;N.x1=ia>>1;N.y1=fa>>1;N.x0=-N.x1;N.y0=-N.y1;N.hasText=!0;C+=ia}U=x.getImageData(0,0,2048/D,2048/D).data;for(da=[];0<=--E;)if(N=K[E],N.hasText){ia=N.width;x=ia>>5;fa=N.y1-N.y0;for(D=0;D<fa*x;D++)da[D]=0;C=N.xoff;if(null==C)break;H=N.yoff;O=0;ja=-1;for(S=0;S<fa;S++){for(D=0;D<ia;D++)la=U[2048*(H+S)+(C+D)<<2]?1<<31-D%32:0,da[x*S+(D>>5)]|=la,O|=la;O?ja=S:(N.y0++,fa--,S--,H++)}N.y1=N.y0+ja;N.sprite=da.slice(0,(N.y1-N.y0)*x)}}}function k(C,N){var K=C[0];C=C[1];N.x+N.x0<K.x&&(K.x=N.x+N.x0);N.y+
N.y0<K.y&&(K.y=N.y+N.y0);N.x+N.x1>C.x&&(C.x=N.x+N.x1);N.y+N.y1>C.y&&(C.y=N.y+N.y1)}function f(C){var N=C[0]/C[1];return function(K){return[N*(K*=.1)*Math.cos(K),K*Math.sin(K)]}}function d(C){for(var N=[],K=-1;++K<C;)N[K]=0;return N}function g(C){return"function"===typeof C?C:function(){return C}}function a(C){w.Transform.call(this,u(),C)}var e=Math.PI/180,n={archimedean:f,rectangular:function(C){var N=4*C[0]/C[1],K=0,E=0;return function(x){var D=0>x?-1:1;switch(Math.sqrt(1+4*D*x)-D&3){case 0:K+=N;
break;case 1:E+=4;break;case 2:K-=N;break;default:E-=4}return[K,E]}}};const y="x y font fontSize fontStyle fontWeight angle".split(" "),A="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",
type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":y}]};G.inherits(a,w.Transform,{transform(C,N){function K(ia){ia=C[ia];return G.isFunction(ia)&&N.modified(ia.fields)}!C.size||C.size[0]&&C.size[1]||G.error("Wordcloud size dimensions must be non-zero.");
const E=C.modified();if(E||N.changed(N.ADD_REM)||A.some(K)){var x=N.materialize(N.SOURCE).source,D=this.value,H=C.as||y,S=C.fontSize||14,U;G.isFunction(S)?U=C.fontSizeRange:S=G.constant(S);if(U){const ia=S,fa=L.scale("sqrt")().domain(G.extent(x,ia)).range(U);S=ja=>fa(ia(ja))}x.forEach(ia=>{ia[H[0]]=NaN;ia[H[1]]=NaN;ia[H[3]]=0});x=D.words(x).text(C.text).size(C.size||[500,500]).padding(C.padding||1).spiral(C.spiral||"archimedean").rotate(C.rotate||0).font(C.font||"sans-serif").fontStyle(C.fontStyle||
"normal").fontWeight(C.fontWeight||"normal").fontSize(S).random(v.random).layout();S=D.size();D=S[0]>>1;S=S[1]>>1;U=x.length;for(let ia=0,fa,ja;ia<U;++ia)fa=x[ia],ja=fa.datum,ja[H[0]]=fa.x+D,ja[H[1]]=fa.y+S,ja[H[2]]=fa.font,ja[H[3]]=fa.size,ja[H[4]]=fa.style,ja[H[5]]=fa.weight,ja[H[6]]=fa.rotate;return N.reflow(E).modifies(H)}}});m.wordcloud=a;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[57]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(17),z(28),z(16)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l((m.vega=m.vega||{},m.vega.transforms={}),m.d3,m.vega,m.vega))})(this,function(m,l,w,G){function L(){let n=8,y=[],A=new Uint32Array(0),C=v(0,n),N=v(0,n);return{data:()=>y,seen:()=>{var K=A;var E=y.length;K.length>=E||(E=new K.constructor(E),
E.set(K),K=E);return A=K},add(K){for(let E=0,x=y.length,D=K.length,H;E<D;++E)H=K[E],H._index=x++,y.push(H)},remove(K,E){const x=y.length;K=Array(x-K);const D=y;let H,S,U;for(S=0;!E[S]&&S<x;++S)K[S]=y[S],D[S]=S;for(U=S;S<x;++S)H=y[S],E[S]?D[S]=-1:(D[S]=U,C[U]=C[S],N[U]=N[S],K[U]=H,H._index=U++),C[S]=0;y=K;return D},size:()=>y.length,curr:()=>C,prev:()=>N,reset:K=>N[K]=C[K],all:()=>257>n?255:65537>n?65535:4294967295,set(K,E){C[K]|=E},clear(K,E){C[K]&=~E},resize(K,E){if(K>C.length||E>n)n=Math.max(E,
n),C=v(K,n,C),N=v(K,n)}}}function v(n,y,A){n=(257>y?g:65537>y?a:e)(n);A&&n.set(A);return n}function u(n,y,A){const C=1<<y;return{one:C,zero:~C,range:A.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd(N,K){var E=this.bisect(this.range,N.value);N=N.index;const x=E[0];E=E[1];const D=N.length;let H;for(H=0;H<x;++H)K[N[H]]|=C;for(H=E;H<D;++H)K[N[H]]|=C;return this}}}function t(){let n=new Uint32Array(0),y=[],A=0;return{insert:function(C,N,K){if(!N.length)return[];const E=A,x=N.length,D=new Uint32Array(x);
let H=Array(x);var S;for(S=0;S<x;++S)H[S]=C(N[S]),D[S]=S;H=k(H,D);if(E){C=y;N=n;y=Array(E+x);n=new Uint32Array(E+x);{S=H;var U=y,ia=n;let fa=0,ja=0,la;for(la=0;fa<E&&ja<x;++la)C[fa]<S[ja]?(U[la]=C[fa],ia[la]=N[fa++]):(U[la]=S[ja],ia[la]=D[ja++]+K);for(;fa<E;++fa,++la)U[la]=C[fa],ia[la]=N[fa];for(;ja<x;++ja,++la)U[la]=S[ja],ia[la]=D[ja]+K}}else{if(0<K)for(S=0;S<x;++S)D[S]+=K;y=H;n=D}A=E+x;return{index:D,value:H}},remove:function(C,N){const K=A;let E,x,D;for(x=0;!N[n[x]]&&x<K;++x);for(D=x;x<K;++x)N[E=
n[x]]||(n[D]=E,y[D]=y[x],++D);A=K-C},bisect:function(C,N){let K;N?K=N.length:(N=y,K=A);return[l.bisectLeft(N,C[0],0,K),l.bisectRight(N,C[1],0,K)]},reindex:function(C){for(let N=0,K=A;N<K;++N)n[N]=C[n[N]]},index:()=>n,size:()=>A}}function k(n,y){n.sort.call(y,(A,C)=>{A=n[A];C=n[C];return A<C?-1:A>C?1:0});return l.permute(n,y)}function f(n){w.Transform.call(this,L(),n);this._dims=this._indices=null}function d(n){w.Transform.call(this,null,n)}const g=n=>new Uint8Array(n),a=n=>new Uint16Array(n),e=n=>
new Uint32Array(n);f.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};G.inherits(f,w.Transform,{transform(n,y){return this._dims?n.modified("fields")||n.fields.some(A=>y.modified(A.fields))?this.reinit(n,y):this.eval(n,y):this.init(n,y)},init(n,y){const A=n.fields,C=n.query,N=this._indices={},K=this._dims=[],E=C.length;let x=0;for(var D;x<E;++x)D=A[x].fname,
D=N[D]||(N[D]=t()),K.push(u(D,x,C[x]));return this.eval(n,y)},reinit(n,y){const A=y.materialize().fork(),C=n.fields,N=n.query,K=this._indices,E=this._dims,x=this.value,D=x.curr(),H=x.prev(),S=x.all(),U=A.rem=A.add,ia=A.mod,fa=N.length,ja={};let la;var da;let O,B,Y,ka;H.set(D);y.rem.length&&(O=this.remove(n,y,A));y.add.length&&x.add(y.add);if(y.mod.length){B={};var Z=y.mod;Y=0;for(da=Z.length;Y<da;++Y)B[Z[Y]._index]=1}for(Y=0;Y<fa;++Y)if(ka=C[Y],!E[Y]||n.modified("fields",Y)||y.modified(ka.fields))da=
ka.fname,(Z=ja[da])||(K[da]=la=t(),ja[da]=Z=la.insert(ka,y.source,0)),E[Y]=u(la,Y,N[Y]).onAdd(Z,D);Y=0;for(da=x.data().length;Y<da;++Y)O[Y]||(H[Y]!==D[Y]?U.push(Y):B[Y]&&D[Y]!==S&&ia.push(Y));x.mask=(1<<fa)-1;return A},eval(n,y){const A=y.materialize().fork(),C=this._dims.length;let N=0;y.rem.length&&(this.remove(n,y,A),N|=(1<<C)-1);n.modified("query")&&!n.modified("fields")&&(N|=this.update(n,y,A));y.add.length&&(this.insert(n,y,A),N|=(1<<C)-1);y.mod.length&&(this.modify(y,A),N|=(1<<C)-1);this.value.mask=
N;return A},insert(n,y,A){y=y.add;var C=this.value;const N=this._dims,K=this._indices;n=n.fields;const E={};A=A.add;const x=C.size()+y.length,D=N.length;let H=C.size();C.resize(x,D);C.add(y);const S=C.curr(),U=C.prev(),ia=C.all();for(C=0;C<D;++C){var fa=n[C].fname;fa=E[fa]||(E[fa]=K[fa].insert(n[C],y,H));N[C].onAdd(fa,S)}for(;H<x;++H)U[H]=ia,S[H]!==ia&&A.push(H)},modify(n,y){y=y.mod;var A=this.value;const C=A.curr();A=A.all();n=n.mod;let N,K,E;N=0;for(K=n.length;N<K;++N)E=n[N]._index,C[E]!==A&&y.push(E)},
remove(n,y,A){n=this._indices;var C=this.value;const N=C.curr(),K=C.prev();C=C.all();const E={};A=A.rem;const x=y.rem;let D,H,S,U;D=0;for(H=x.length;D<H;++D)S=x[D]._index,E[S]=1,K[S]=U=N[S],N[S]=C,U!==C&&A.push(S);for(S in n)n[S].remove(H,E);this.reindex(y,H,E);return E},reindex(n,y,A){const C=this._indices,N=this.value;n.runAfter(()=>{const K=N.remove(y,A);for(const E in C)C[E].reindex(K)})},update(n,y,A){const C=this._dims,N=n.query;y=y.stamp;const K=C.length;let E=0,x,D;for(D=A.filters=0;D<K;++D)n.modified("query",
D)&&(x=D,++E);if(1===E)E=C[x].one,this.incrementOne(C[x],N[x],A.add,A.rem);else for(E=D=0;D<K;++D)n.modified("query",D)&&(E|=C[D].one,this.incrementAll(C[D],N[D],y,A.add),A.rem=A.add);return E},incrementAll(n,y,A,C){var N=this.value;const K=N.seen(),E=N.curr();N=N.prev();const x=n.index();var D=n.bisect(n.range),H=n.bisect(y);const S=H[0];H=H[1];const U=D[0];D=D[1];const ia=n.one;let fa,ja,la;if(S<U)for(fa=S,ja=Math.min(U,H);fa<ja;++fa)la=x[fa],K[la]!==A&&(N[la]=E[la],K[la]=A,C.push(la)),E[la]^=ia;
else if(S>U)for(fa=U,ja=Math.min(S,D);fa<ja;++fa)la=x[fa],K[la]!==A&&(N[la]=E[la],K[la]=A,C.push(la)),E[la]^=ia;if(H>D)for(fa=Math.max(S,D),ja=H;fa<ja;++fa)la=x[fa],K[la]!==A&&(N[la]=E[la],K[la]=A,C.push(la)),E[la]^=ia;else if(H<D)for(fa=Math.max(U,H),ja=D;fa<ja;++fa)la=x[fa],K[la]!==A&&(N[la]=E[la],K[la]=A,C.push(la)),E[la]^=ia;n.range=y.slice()},incrementOne(n,y,A,C){const N=this.value.curr(),K=n.index();var E=n.bisect(n.range),x=n.bisect(y);const D=x[0];x=x[1];const H=E[0];E=E[1];const S=n.one;
let U,ia,fa;if(D<H)for(U=D,ia=Math.min(H,x);U<ia;++U)fa=K[U],N[fa]^=S,A.push(fa);else if(D>H)for(U=H,ia=Math.min(D,E);U<ia;++U)fa=K[U],N[fa]^=S,C.push(fa);if(x>E)for(U=Math.max(D,E),ia=x;U<ia;++U)fa=K[U],N[fa]^=S,A.push(fa);else if(x<E)for(U=Math.max(H,x),ia=E;U<ia;++U)fa=K[U],N[fa]^=S,C.push(fa);n.range=y.slice()}});d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};G.inherits(d,w.Transform,{transform(n,y){const A=~(n.ignore||0);n=n.filter;const C=n.mask;if(0===(C&A))return y.StopPropagation;y=y.fork(y.ALL);const N=n.data(),K=n.curr(),E=n.prev(),x=D=>K[D]&A?null:N[D];y.filter(y.MOD,x);C&C-1?(y.filter(y.ADD,D=>{const H=K[D]&A;return!H&&H^E[D]&A?N[D]:null}),y.filter(y.REM,D=>{const H=K[D]&A;return!H||H^H^E[D]&A?null:N[D]})):(y.filter(y.ADD,x),y.filter(y.REM,D=>(K[D]&A)===C?N[D]:
null));return y.filter(y.SOURCE,D=>x(D._index))}});m.crossfilter=f;m.resolvefilter=d;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega))})(this,function(m,l){function w(T){this.type=T}function G(T){switch(T.type){case "ArrayExpression":return T.elements;case "BinaryExpression":case "LogicalExpression":return[T.left,T.right];case "CallExpression":return[T.callee].concat(T.arguments);
case "ConditionalExpression":return[T.test,T.consequent,T.alternate];case "MemberExpression":return[T.object,T.property];case "ObjectExpression":return T.properties;case "Property":return[T.key,T.value];case "UnaryExpression":return[T.argument];default:return[]}}function L(T,W){if(!T)throw Error("ASSERT: "+W);}function v(T){return 48<=T&&57>=T}function u(T){return 0<="0123456789abcdefABCDEF".indexOf(T)}function t(T){return 0<="01234567".indexOf(T)}function k(T){return 10===T||13===T||8232===T||8233===
T}function f(T){return 36===T||95===T||65<=T&&90>=T||97<=T&&122>=T||92===T||128<=T&&ra.test(String.fromCharCode(T))}function d(T){return 36===T||95===T||65<=T&&90>=T||97<=T&&122>=T||48<=T&&57>=T||92===T||128<=T&&Na.test(String.fromCharCode(T))}function g(){for(;Da<Wa;){const T=xa.charCodeAt(Da);if(32===T||9===T||11===T||12===T||160===T||5760<=T&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(T)||k(T))++Da;else break}}function a(T){var W=0;var M=
"u"===T?4:2;for(T=0;T<M;++T)if(Da<Wa&&u(xa[Da])){var P=xa[Da++];W=16*W+"0123456789abcdef".indexOf(P.toLowerCase())}else U({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(W)}function e(){var T=xa.charCodeAt(Da++);var W=String.fromCharCode(T);92===T&&(117!==xa.charCodeAt(Da)&&U({},"Unexpected token %0","ILLEGAL"),++Da,(T=a("u"))&&"\\"!==T&&f(T.charCodeAt(0))||U({},"Unexpected token %0","ILLEGAL"),W=T);for(;Da<Wa;){T=xa.charCodeAt(Da);if(!d(T))break;++Da;W+=String.fromCharCode(T);92===
T&&(W=W.substr(0,W.length-1),117!==xa.charCodeAt(Da)&&U({},"Unexpected token %0","ILLEGAL"),++Da,(T=a("u"))&&"\\"!==T&&d(T.charCodeAt(0))||U({},"Unexpected token %0","ILLEGAL"),W+=T)}return W}function n(){var T=Da,W=xa.charCodeAt(Da),M=xa[Da];switch(W){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Da,{type:7,value:String.fromCharCode(W),start:T,end:Da};default:var P=xa.charCodeAt(Da+1);if(61===P)switch(W){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Da+=
2,{type:7,value:String.fromCharCode(W)+String.fromCharCode(P),start:T,end:Da};case 33:case 61:return Da+=2,61===xa.charCodeAt(Da)&&++Da,{type:7,value:xa.slice(T,Da),start:T,end:Da}}}W=xa.substr(Da,4);if("\x3e\x3e\x3e\x3d"===W)return Da+=4,{type:7,value:W,start:T,end:Da};W=W.substr(0,3);if("\x3e\x3e\x3e"===W||"\x3c\x3c\x3d"===W||"\x3e\x3e\x3d"===W)return Da+=3,{type:7,value:W,start:T,end:Da};W=W.substr(0,2);if(M===W[1]&&0<="+-\x3c\x3e\x26|".indexOf(M)||"\x3d\x3e"===W)return Da+=2,{type:7,value:W,start:T,
end:Da};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(M))return++Da,{type:7,value:M,start:T,end:Da};U({},"Unexpected token %0","ILLEGAL")}function y(){var T=xa[Da];L(v(T.charCodeAt(0))||"."===T,"Numeric literal must start with a decimal digit or a decimal point");var W=Da;var M="";if("."!==T){M=xa[Da++];T=xa[Da];if("0"===M){if("x"===T||"X"===T){++Da;for(M="";Da<Wa&&u(xa[Da]);)M+=xa[Da++];0===M.length&&U({},"Unexpected token %0","ILLEGAL");f(xa.charCodeAt(Da))&&U({},"Unexpected token %0","ILLEGAL");return W=
{type:6,value:parseInt("0x"+M,16),start:W,end:Da}}if(t(T)){for(M="0"+xa[Da++];Da<Wa&&t(xa[Da]);)M+=xa[Da++];(f(xa.charCodeAt(Da))||v(xa.charCodeAt(Da)))&&U({},"Unexpected token %0","ILLEGAL");return W={type:6,value:parseInt(M,8),octal:!0,start:W,end:Da}}T&&v(T.charCodeAt(0))&&U({},"Unexpected token %0","ILLEGAL")}for(;v(xa.charCodeAt(Da));)M+=xa[Da++];T=xa[Da]}if("."===T){for(M+=xa[Da++];v(xa.charCodeAt(Da));)M+=xa[Da++];T=xa[Da]}if("e"===T||"E"===T){M+=xa[Da++];T=xa[Da];if("+"===T||"-"===T)M+=xa[Da++];
if(v(xa.charCodeAt(Da)))for(;v(xa.charCodeAt(Da));)M+=xa[Da++];else U({},"Unexpected token %0","ILLEGAL")}f(xa.charCodeAt(Da))&&U({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(M),start:W,end:Da}}function A(T,W){let M=T;0<=W.indexOf("u")&&(M=M.replace(/\\u\{([0-9a-fA-F]+)\}/g,(P,ca)=>{if(1114111>=parseInt(ca,16))return"x";U({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(M)}catch(P){U({},"Invalid regular expression")}try{return new RegExp(T,
W)}catch(P){return null}}function C(){g();if(Da>=Wa)return{type:2,start:Da,end:Da};var T=xa.charCodeAt(Da);if(f(T)){T=Da;if(92===xa.charCodeAt(Da))var W=e();else a:{for(W=Da++;Da<Wa;){var M=xa.charCodeAt(Da);if(92===M){Da=W;W=e();break a}if(d(M))++Da;else break}W=xa.slice(W,Da)}return{type:1===W.length?3:Ta.hasOwnProperty(W)?4:"null"===W?5:"true"===W||"false"===W?1:3,value:W,start:T,end:Da}}if(40===T||41===T||59===T)return n();if(39===T||34===T){var P="";M=!1;T=xa[Da];L("'"===T||'"'===T,"String literal must starts with a quote");
W=Da;for(++Da;Da<Wa;){var ca=xa[Da++];if(ca===T){T="";break}else if("\\"===ca)if((ca=xa[Da++])&&k(ca.charCodeAt(0)))"\r"===ca&&"\n"===xa[Da]&&++Da;else switch(ca){case "u":case "x":if("{"===xa[Da]){++Da;var ea=xa[Da];ca=0;for("}"===ea&&U({},"Unexpected token %0","ILLEGAL");Da<Wa;){ea=xa[Da++];if(!u(ea))break;ca=16*ca+"0123456789abcdef".indexOf(ea.toLowerCase())}(1114111<ca||"}"!==ea)&&U({},"Unexpected token %0","ILLEGAL");ca=65535>=ca?String.fromCharCode(ca):String.fromCharCode((ca-65536>>10)+55296,
(ca-65536&1023)+56320);P+=ca}else P+=a(ca);break;case "n":P+="\n";break;case "r":P+="\r";break;case "t":P+="\t";break;case "b":P+="\b";break;case "f":P+="\f";break;case "v":P+="\x0B";break;default:t(ca)?(ea="01234567".indexOf(ca),0!==ea&&(M=!0),Da<Wa&&t(xa[Da])&&(M=!0,ea=8*ea+"01234567".indexOf(xa[Da++]),0<="0123".indexOf(ca)&&Da<Wa&&t(xa[Da])&&(ea=8*ea+"01234567".indexOf(xa[Da++]))),P+=String.fromCharCode(ea)):P+=ca}else if(k(ca.charCodeAt(0)))break;else P+=ca}""!==T&&U({},"Unexpected token %0",
"ILLEGAL");return{type:8,value:P,octal:M,start:W,end:Da}}return 46===T?v(xa.charCodeAt(Da+1))?y():n():v(T)?y():n()}function N(){const T=gb;Da=T.end;gb=C();Da=T.end;return T}function K(){const T=Da;gb=C();Da=T}function E(T,W,M){const P=new w("||"===T||"\x26\x26"===T?"LogicalExpression":"BinaryExpression");P.operator=T;P.left=W;P.right=M;return P}function x(T){const W=new w("Identifier");W.name=T;return W}function D(T){const W=new w("Literal");W.value=T.value;W.raw=xa.slice(T.start,T.end);T.regex&&
("//"===W.raw&&(W.raw="/(?:)/"),W.regex=T.regex);return W}function H(T,W,M){const P=new w("MemberExpression");P.computed="["===T;P.object=W;P.property=M;P.computed||(M.member=!0);return P}function S(T,W,M){const P=new w("Property");P.key=W;P.value=M;P.kind=T;return P}function U(T,W){var M=Array.prototype.slice.call(arguments,2),P=W.replace(/%(\d)/g,(ea,oa)=>{L(oa<M.length,"Message reference must be in range");return M[oa]});var ca=Error(P);ca.index=Da;ca.description=P;throw ca;}function ia(T){2===
T.type&&U(T,"Unexpected end of input");6===T.type&&U(T,"Unexpected number");8===T.type&&U(T,"Unexpected string");3===T.type&&U(T,"Unexpected identifier");4===T.type&&U(T,"Unexpected reserved word");U(T,"Unexpected token %0",T.value)}function fa(T){const W=N();7===W.type&&W.value===T||ia(W)}function ja(T){return 7===gb.type&&gb.value===T}function la(){Da=gb.start;const T=N();return 8===T.type||6===T.type?(T.octal&&U(T,"Octal literals are not allowed in strict mode."),D(T)):x(T.value)}function da(){if(ja("(")){fa("(");
var T=Z();fa(")");return T}if(ja("[")){T=[];Da=gb.start;for(fa("[");!ja("]");)ja(",")?(N(),T.push(null)):(T.push(ka()),ja("]")||fa(","));N();var W=new w("ArrayExpression");W.elements=T;return T=W}if(ja("{")){T=[];W={};var M=String;Da=gb.start;for(fa("{");!ja("}");){Da=gb.start;var P=gb;if(3===P.type){var ca=la();fa(":");P=ka();P=S("init",ca,P)}else 2===P.type||7===P.type?(ia(P),P=void 0):(ca=la(),fa(":"),P=ka(),P=S("init",ca,P));ca="Identifier"===P.key.type?P.key.name:M(P.key.value);ca="$"+ca;Object.prototype.hasOwnProperty.call(W,
ca)?U({},"Duplicate data property in object literal not allowed in strict mode"):W[ca]=!0;T.push(P);ja("}")||fa(",")}fa("}");W=new w("ObjectExpression");W.properties=T;return T=W}T=gb.type;Da=gb.start;if(3===T||za[gb.value])W=x(N().value);else if(8===T||6===T)gb.octal&&U(gb,"Octal literals are not allowed in strict mode."),W=D(N());else{if(4===T)throw Error("Disabled.");if(1===T)T=N(),T.value="true"===T.value,W=D(T);else if(5===T)T=N(),T.value=null,W=D(T);else if(ja("/")||ja("/\x3d")){var ea;gb=null;
g();T=Da;W=xa[Da];L("/"===W,"Regular expression literal must start with a slash");M=xa[Da++];for(ca=P=!1;Da<Wa;)if(W=xa[Da++],M+=W,"\\"===W)W=xa[Da++],k(W.charCodeAt(0))&&U({},"Invalid regular expression: missing /"),M+=W;else if(k(W.charCodeAt(0)))U({},"Invalid regular expression: missing /");else if(P)"]"===W&&(P=!1);else if("/"===W){ca=!0;break}else"["===W&&(P=!0);ca||U({},"Invalid regular expression: missing /");W=M.substr(1,M.length-2);for(ea=ca="";Da<Wa;){P=xa[Da];if(!d(P.charCodeAt(0)))break;
++Da;"\\"===P&&Da<Wa?U({},"Unexpected token %0","ILLEGAL"):(ea+=P,ca+=P)}0<=ea.search(/[^gimuy]/g)&&U({},"Invalid regular expression",ea);P=ea;ea=A(W,P);W=D({literal:M+ca,value:ea,regex:{pattern:W,flags:P},start:T,end:Da});K()}else ia(N())}return W}function O(){var T;for(T=da();;)if(ja(".")){fa(".");Da=gb.start;var W=N();3===W.type||4===W.type||1===W.type||5===W.type||ia(W);W=x(W.value);T=H(".",T,W)}else if(ja("(")){W=[];fa("(");if(!ja(")"))for(;Da<Wa;){W.push(ka());if(ja(")"))break;fa(",")}fa(")");
{const M=new w("CallExpression");M.callee=T;M.arguments=W;T=M}}else if(ja("["))fa("["),W=Z(),fa("]"),T=H("[",T,W);else break;if(7===gb.type&&(ja("++")||ja("--")))throw Error("Disabled.");return T}function B(){if(7!==gb.type&&4!==gb.type)var T=O();else{if(ja("++")||ja("--"))throw Error("Disabled.");if(ja("+")||ja("-")||ja("~")||ja("!")){var W=N();T=B();{W=W.value;const M=new w("UnaryExpression");M.operator=W;M.argument=T;M.prefix=!0;T=M}}else{if(4===gb.type&&"delete"===gb.value||4===gb.type&&"void"===
gb.value||4===gb.type&&"typeof"===gb.value)throw Error("Disabled.");T=O()}}return T}function Y(T){let W=0;if(7!==T.type&&4!==T.type)return 0;switch(T.value){case "||":W=1;break;case "\x26\x26":W=2;break;case "|":W=3;break;case "^":W=4;break;case "\x26":W=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":W=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":W=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":W=8;break;case "+":case "-":W=
9;break;case "*":case "/":case "%":W=11}return W}function ka(){var T=gb;var W=B();var M=gb;var P=Y(M);if(0===P)var ca=W;else{M.prec=P;N();T=[T,gb];var ea=B();for(ca=[W,M,ea];0<(P=Y(gb));){for(;2<ca.length&&P<=ca[ca.length-2].prec;)ea=ca.pop(),M=ca.pop().value,W=ca.pop(),T.pop(),W=E(M,W,ea),ca.push(W);M=N();M.prec=P;ca.push(M);T.push(gb);W=B();ca.push(W)}P=ca.length-1;W=ca[P];for(T.pop();1<P;)T.pop(),W=E(ca[P-1].value,ca[P-2],W),P-=2;ca=W}ja("?")&&(N(),T=ka(),fa(":"),P=ka(),W=new w("ConditionalExpression"),
W.test=ca,W.consequent=T,W.alternate=P,ca=W);return ca}function Z(){const T=ka();if(ja(","))throw Error("Disabled.");return T}function wa(T){function W(M,P,ca){return ea=>{{let oa=T(ea[0]);P&&(oa=P+"("+oa+")",0===P.lastIndexOf("new ",0)&&(oa="("+oa+")"));ea=oa+"."+M+(0>ca?"":0===ca?"()":"("+ea.slice(1).map(T).join(",")+")")}return ea}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",
exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(M){3>M.length&&l.error("Missing arguments to clamp function.");3<M.length&&l.error("Too many arguments to clamp function.");M=M.map(T);return"Math.max("+M[1]+", Math.min("+M[2]+","+M[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:W("getDate","new Date",0),day:W("getDay","new Date",0),year:W("getFullYear",
"new Date",0),month:W("getMonth","new Date",0),hours:W("getHours","new Date",0),minutes:W("getMinutes","new Date",0),seconds:W("getSeconds","new Date",0),milliseconds:W("getMilliseconds","new Date",0),time:W("getTime","new Date",0),timezoneoffset:W("getTimezoneOffset","new Date",0),utcdate:W("getUTCDate","new Date",0),utcday:W("getUTCDay","new Date",0),utcyear:W("getUTCFullYear","new Date",0),utcmonth:W("getUTCMonth","new Date",0),utchours:W("getUTCHours","new Date",0),utcminutes:W("getUTCMinutes",
"new Date",0),utcseconds:W("getUTCSeconds","new Date",0),utcmilliseconds:W("getUTCMilliseconds","new Date",0),length:W("length",null,-1),join:W("join",null),indexof:W("indexOf",null),lastindexof:W("lastIndexOf",null),slice:W("slice",null),reverse:function(M){return"("+T(M[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:W("toUpperCase","String",0),lower:W("toLowerCase","String",0),substring:W("substring","String"),split:W("split","String"),replace:W("replace","String"),
trim:W("trim","String",0),regexp:"RegExp",test:W("test","RegExp"),if:function(M){3>M.length&&l.error("Missing arguments to if function.");3<M.length&&l.error("Too many arguments to if function.");M=M.map(T);return"("+M[0]+"?"+M[1]+":"+M[2]+")"}}}w.prototype.visit=function(T){let W,M,P;if(T(this))return 1;W=G(this);M=0;for(P=W.length;M<P;++M)if(W[M].visit(T))return 1};var xa,Da,Wa,gb,ra=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Na=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Ta={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},za={"if":1};var pa={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};m.ASTNode=w;m.ArrayExpression="ArrayExpression";m.BinaryExpression="BinaryExpression";m.CallExpression="CallExpression";m.ConditionalExpression="ConditionalExpression";m.Identifier="Identifier";m.Literal="Literal";m.LogicalExpression="LogicalExpression";m.MemberExpression="MemberExpression";m.ObjectExpression="ObjectExpression";
m.Property="Property";m.RawCode="RawCode";m.UnaryExpression="UnaryExpression";m.codegen=function(T){function W(Sa){if(l.isString(Sa))return Sa;const lb=Ba[Sa.type];null==lb&&l.error("Unsupported type: "+Sa.type);return lb(Sa)}function M(Sa){Sa={code:W(Sa),globals:Object.keys(Ma),fields:Object.keys(db)};Ma={};db={};return Sa}T=T||{};const P=T.allowed?l.toSet(T.allowed):{},ca=T.forbidden?l.toSet(T.forbidden):{},ea=T.constants||pa,oa=(T.functions||wa)(W),ba=T.globalvar,Fa=T.fieldvar,Ra=l.isFunction(ba)?
ba:Sa=>`${ba}["${Sa}"]`;let Ma={},db={},ab=0;const Ba={Literal:Sa=>Sa.raw,Identifier:Sa=>{Sa=Sa.name;if(0<ab)return Sa;if(l.hasOwnProperty(ca,Sa))return l.error("Illegal identifier: "+Sa);if(l.hasOwnProperty(ea,Sa))return ea[Sa];if(l.hasOwnProperty(P,Sa))return Sa;Ma[Sa]=1;return Ra(Sa)},MemberExpression:Sa=>{const lb=!Sa.computed,ub=W(Sa.object);lb&&(ab+=1);Sa=W(Sa.property);if(ub===Fa){var Jb=db;var bc=(bc=Sa&&Sa.length-1)&&('"'===Sa[0]&&'"'===Sa[bc]||"'"===Sa[0]&&"'"===Sa[bc])?Sa.slice(1,-1):Sa;
Jb[bc]=1}lb&&--ab;return ub+(lb?"."+Sa:"["+Sa+"]")},CallExpression:Sa=>{"Identifier"!==Sa.callee.type&&l.error("Illegal callee type: "+Sa.callee.type);const lb=Sa.callee.name;Sa=Sa.arguments;const ub=l.hasOwnProperty(oa,lb)&&oa[lb];ub||l.error("Unrecognized function: "+lb);return l.isFunction(ub)?ub(Sa):ub+"("+Sa.map(W).join(",")+")"},ArrayExpression:Sa=>"["+Sa.elements.map(W).join(",")+"]",BinaryExpression:Sa=>"("+W(Sa.left)+Sa.operator+W(Sa.right)+")",UnaryExpression:Sa=>"("+Sa.operator+W(Sa.argument)+
")",ConditionalExpression:Sa=>"("+W(Sa.test)+"?"+W(Sa.consequent)+":"+W(Sa.alternate)+")",LogicalExpression:Sa=>"("+W(Sa.left)+Sa.operator+W(Sa.right)+")",ObjectExpression:Sa=>"{"+Sa.properties.map(W).join(",")+"}",Property:Sa=>{ab+=1;const lb=W(Sa.key);--ab;return lb+":"+W(Sa.value)}};M.functions=oa;M.constants=ea;return M};m.constants=pa;m.functions=wa;m.parse=function(T){xa=T;Da=0;Wa=xa.length;gb=null;K();T=Z();if(2!==gb.type)throw Error("Unexpect token after expression.");return T};Object.defineProperty(m,
"__esModule",{value:!0})})};
shadow$provide[59]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(58)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega))})(this,function(m,l,w){function G(v,u){var t=u.fields;u=u.values;for(var k=t.length,f=0,d,g;f<k;++f)if(g=t[f],g.getter=l.field.getter||l.field(g.field),d=g.getter(v),l.isDate(d)&&(d=l.toNumber(d)),l.isDate(u[f])&&
(u[f]=l.toNumber(u[f])),l.isDate(u[f][0])&&(u[f]=u[f].map(l.toNumber)),"E"===g.type){if(l.isArray(u[f])?0>u[f].indexOf(d):d!==u[f])return!1}else if("R"===g.type){if(!l.inrange(d,u[f]))return!1}else if("R-RE"===g.type){if(!l.inrange(d,u[f],!0,!1))return!1}else if("R-E"===g.type){if(!l.inrange(d,u[f],!1,!1))return!1}else if("R-LE"===g.type&&!l.inrange(d,u[f],!1,!0))return!1;return!0}var L={E_union:function(v,u){if(!v.length)return u;for(var t=0,k=u.length;t<k;++t)0>v.indexOf(u[t])&&v.push(u[t]);return v},
E_intersect:function(v,u){return v.length?v.filter(t=>0<=u.indexOf(t)):u},R_union:function(v,u){var t=l.toNumber(u[0]),k=l.toNumber(u[1]);t>k&&(t=u[1],k=u[0]);if(!v.length)return[t,k];v[0]>t&&(v[0]=t);v[1]<k&&(v[1]=k);return v},R_intersect:function(v,u){var t=l.toNumber(u[0]),k=l.toNumber(u[1]);t>k&&(t=u[1],k=u[0]);if(!v.length)return[t,k];if(k<v[0]||v[1]<t)return[];v[0]<t&&(v[0]=t);v[1]>k&&(v[1]=k);return v}};m.selectionResolve=function(v,u,t,k){v=(v=this.context.data[v])?v.values.value:[];for(var f=
{},d={},g={},a,e,n,y,A,C,N=v.length,K=0,E,x;K<N;++K){a=v[K];n=a.unit;e=a.fields;a=a.values;E=0;for(x=e.length;E<x;++E)y=e[E],A=f[y.field]||(f[y.field]={}),C=A[n]||(A[n]=[]),g[y.field]=y=y.type.charAt(0),y=L[y+"_union"],A[n]=y(C,l.array(a[E]));t&&(C=d[n]||(d[n]=[]),C.push(l.array(a).reduce((D,H,S)=>(D[e[S].field]=H,D),{})))}u=u||"union";Object.keys(f).forEach(D=>{f[D]=Object.keys(f[D]).map(H=>f[D][H]).reduce((H,S)=>void 0===H?S:L[g[D]+"_"+u](H,S))});v=Object.keys(d);t&&v.length&&(f[k?"vlPoint":"vlMulti"]=
"union"===u?{["or"]:v.reduce((D,H)=>(D.push(...d[H]),D),[])}:{["and"]:v.map(D=>({["or"]:d[D]}))});return f};m.selectionTest=function(v,u,t){var k=this.context.data[v];v=k?k.values.value:[];k=k?k["index:unit"]&&k["index:unit"].value:void 0;t="intersect"===t;for(var f=v.length,d=0,g,a,e,n;d<f;++d)if(g=v[d],k&&t){if(a=a||{},e=a[n=g.unit]||0,-1!==e){g=G(u,g);a[n]=g?-1:++e;if(g&&1===k.size)return!0;if(!g&&e===k.get(n).count)return!1}}else if(g=G(u,g),t^g)return g;return f&&t};m.selectionVisitor=function(v,
u,t,k){u[0].type!==w.Literal&&l.error("First argument to selection functions must be a string literal.");v=u[0].value;u=2<=u.length&&l.peek(u).value;const f=":"+v;"intersect"!==u||l.hasOwnProperty(k,"@unit")||(k["@unit"]=t.getData(v).indataRef(t,"unit"));l.hasOwnProperty(k,f)||(k[f]=t.getData(v).tuplesRef())};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(58),z(41),z(34),z(28),z(37),z(38),z(59),z(29),z(20),z(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.d3,m.d3,m.vega,m.vega,m.vega,m.vega,m.vega,m.vega,
m.d3))})(this,function(m,l,w,G,L,v,u,t,k,f,d,g){function a(cb){return(cb=this.context.data[cb])?cb.values.value:[]}function e(cb,yb,Sb){return(Sb=(cb=this.context.data[cb]["index:"+yb])?cb.value.get(Sb):void 0)?Sb.count:Sb}function n(cb,yb){const Sb=this.context.dataflow;Sb.pulse(this.context.data[cb].input,Sb.changeset().remove(l.truthy).insert(yb));return 1}function y(cb,yb,Sb){if(cb){const ld=this.context.dataflow;ld.pulse(cb.mark.source,ld.changeset().encode(cb,yb))}return void 0!==Sb?Sb:cb}function A(cb,
yb,Sb){if(!Number.isInteger(cb)||!Number.isInteger(yb))return"";ac.setYear(2E3);ac.setMonth(cb);ac.setDate(yb);return dc.call(this,ac,Sb)}function C(cb){return A.call(this,cb,1,"%B")}function N(cb){return A.call(this,cb,1,"%b")}function K(cb){return A.call(this,0,2+cb,"%A")}function E(cb){return A.call(this,0,2+cb,"%a")}function x(cb,yb,Sb,ld){yb[0].type!==w.Literal&&l.error("First argument to data functions must be a string literal.");cb=yb[0].value;yb=":"+cb;if(!l.hasOwnProperty(yb,ld))try{ld[yb]=
Sb.getData(cb).tuplesRef()}catch(xd){}}function D(cb,yb,Sb,ld){yb[0].type!==w.Literal&&l.error("First argument to indata must be a string literal.");yb[1].type!==w.Literal&&l.error("Second argument to indata must be a string literal.");cb=yb[0].value;yb=yb[1].value;const xd="@"+yb;l.hasOwnProperty(xd,ld)||(ld[xd]=Sb.getData(cb).indataRef(Sb,yb))}function H(cb,yb,Sb,ld){if(yb[0].type===w.Literal)S(Sb,ld,yb[0].value);else for(cb in Sb.scales)S(Sb,ld,cb)}function S(cb,yb,Sb){const ld="%"+Sb;if(!l.hasOwnProperty(yb,
ld))try{yb[ld]=cb.scaleRef(Sb)}catch(xd){}}function U(cb,yb){let Sb;return l.isFunction(cb)?cb:l.isString(cb)?(Sb=yb.scales[cb])&&Sb.value:void 0}function ia(cb,yb,Sb){yb.__bandwidth=xd=>xd&&xd.bandwidth?xd.bandwidth():0;Sb._bandwidth=H;Sb._range=H;Sb._scale=H;const ld=xd=>"_["+(xd.type===w.Literal?l.stringValue("%"+xd.value):l.stringValue("%")+"+"+cb(xd))+"]";return{_bandwidth:xd=>`this.__bandwidth(${ld(xd[0])})`,_range:xd=>`${ld(xd[0])}.range()`,_scale:xd=>`${ld(xd[0])}(${cb(xd[1])})`}}function fa(cb,
yb){return function(Sb,ld,xd){return Sb?(Sb=U(Sb,(xd||this).context))&&Sb.path[cb](ld):yb(ld)}}function ja(cb){const yb=this.context.group;let Sb=!1;if(yb)for(;cb;){if(cb===yb){Sb=!0;break}cb=cb.mark.group}return Sb}function la(cb,yb,Sb){try{cb[yb].apply(cb,["EXPRESSION"].concat([].slice.call(Sb)))}catch(ld){cb.warn(ld)}return Sb[Sb.length-1]}function da(){return la(this.context.dataflow,"warn",arguments)}function O(){return la(this.context.dataflow,"info",arguments)}function B(){return la(this.context.dataflow,
"debug",arguments)}function Y(cb){cb/=255;return.03928>=cb?cb/12.92:Math.pow((cb+.055)/1.055,2.4)}function ka(cb){var yb=L.rgb(cb);cb=Y(yb.r);const Sb=Y(yb.g);yb=Y(yb.b);return.2126*cb+.7152*Sb+.0722*yb}function Z(cb,yb){cb=ka(cb);yb=ka(yb);return(Math.max(cb,yb)+.05)/(Math.min(cb,yb)+.05)}function wa(){const cb=[].slice.call(arguments);cb.unshift({});return l.extend(...cb)}function xa(cb,yb){if(cb===yb||cb!==cb&&yb!==yb)cb=!0;else if(l.isArray(cb))if(l.isArray(yb)&&cb.length===yb.length)a:{for(let Sb=
0,ld=cb.length;Sb<ld;++Sb)if(!xa(cb[Sb],yb[Sb])){cb=!1;break a}cb=!0}else cb=!1;else cb=l.isObject(cb)&&l.isObject(yb)?Da(cb,yb):!1;return cb}function Da(cb,yb){for(const Sb in cb)if(!xa(cb[Sb],yb[Sb]))return!1;return!0}function Wa(cb){return yb=>Da(cb,yb)}function gb(cb,yb,Sb,ld,xd,Pd){const me=this.context.dataflow,Ha=this.context.data[cb],Ya=Ha.input;cb=me.stamp();let pb=Ha.changes,Db;if(!1===me._trigger||!(Ya.value.length||yb||ld))return 0;if(!pb||pb.stamp<cb)Ha.changes=pb=me.changeset(),pb.stamp=
cb,me.runAfter(()=>{Ha.modified=!0;me.pulse(Ya,pb).run()},!0,1);Sb&&(Sb=!0===Sb?l.truthy:l.isArray(Sb)||v.isTuple(Sb)?Sb:Wa(Sb),pb.remove(Sb));yb&&pb.insert(yb);ld&&(Sb=Wa(ld),Ya.value.some(Sb)?pb.remove(Sb):pb.insert(ld));if(xd)for(Db in Pd)pb.modify(xd,Db,Pd[Db]);return 1}function ra(cb){var yb=cb.touches;cb=yb[0].clientX-yb[1].clientX;yb=yb[0].clientY-yb[1].clientY;return Math.sqrt(cb*cb+yb*yb)}function Na(cb){cb=cb.touches;return Math.atan2(cb[0].clientY-cb[1].clientY,cb[0].clientX-cb[1].clientX)}
function Ta(cb){return l.isArray(cb)||ArrayBuffer.isView(cb)?cb:null}function za(cb){return Ta(cb)||(l.isString(cb)?cb:null)}function pa(cb,...yb){return Ta(cb).join(...yb)}function T(cb,...yb){return za(cb).indexOf(...yb)}function W(cb,...yb){return za(cb).lastIndexOf(...yb)}function M(cb,...yb){return za(cb).slice(...yb)}function P(cb,yb,Sb){l.isFunction(Sb)&&l.error("Function argument passed to replace.");return String(cb).replace(yb,Sb)}function ca(cb){return Ta(cb).slice().reverse()}function ea(cb,
yb,Sb){return u.bandSpace(cb||0,yb||0,Sb||0)}function oa(cb,yb){return(cb=U(cb,(yb||this).context))&&cb.bandwidth?cb.bandwidth():0}function ba(cb,yb){return(cb=U(cb,(yb||this).context))?cb.copy():void 0}function Fa(cb,yb){return(cb=U(cb,(yb||this).context))?cb.domain():[]}function Ra(cb,yb,Sb){return(cb=U(cb,(Sb||this).context))?l.isArray(yb)?(cb.invertRange||cb.invert)(yb):(cb.invert||cb.invertExtent)(yb):void 0}function Ma(cb,yb){return(cb=U(cb,(yb||this).context))&&cb.range?cb.range():[]}function db(cb,
yb,Sb){return(cb=U(cb,(Sb||this).context))?cb(yb):void 0}function ab(cb,yb,Sb,ld,xd){cb=U(cb,(xd||this).context);const Pd=t.Gradient(yb,Sb);yb=cb.domain();Sb=yb[0];xd=l.peek(yb);let me=l.identity;xd-Sb?me=u.scaleFraction(cb,Sb,xd):cb=(cb.interpolator?u.scale("sequential")().interpolator(cb.interpolator()):u.scale("linear")().interpolate(cb.interpolate()).range(cb.range())).domain([Sb=0,xd=1]);cb.ticks&&(yb=cb.ticks(+ld||15),Sb!==yb[0]&&yb.unshift(Sb),xd!==l.peek(yb)&&yb.push(xd));yb.forEach(Ha=>Pd.stop(me(Ha),
cb(Ha)));return Pd}function Ba(cb,yb,Sb){const ld=U(cb,(Sb||this).context);return function(xd){return ld?ld.path.context(xd)(yb):""}}function Sa(cb){let yb=null;return function(Sb){return Sb?t.pathRender(Sb,yb=yb||t.pathParse(cb)):cb}}function lb(cb,yb){cb=a.call(yb,cb);return cb.root&&cb.root.lookup||{}}function ub(cb,yb,Sb){cb=lb(cb,this);yb=cb[yb];Sb=cb[Sb];return yb&&Sb?yb.path(Sb).map(Bc):void 0}function Jb(cb,yb){return(cb=lb(cb,this)[yb])?cb.ancestors().map(Bc):void 0}function bc(){const cb=
"undefined"!==typeof window&&window||null;return cb?cb.screen:{}}function wc(){const cb="undefined"!==typeof window&&window||null;return cb?[cb.innerWidth,cb.innerHeight]:[void 0,void 0]}function $c(){var cb=this.context.dataflow;return(cb=cb.container&&cb.container())?[cb.clientWidth,cb.clientHeight]:[void 0,void 0]}function kc(cb){let yb=null;if(cb){const Sb=l.array(cb.marktype),ld=l.array(cb.markname);yb=xd=>(!Sb.length||Sb.some(Pd=>xd.marktype===Pd))&&(!ld.length||ld.some(Pd=>xd.name===Pd))}return yb}
function vc(cb,yb,Sb){if(1===arguments.length)return pd[cb];pd[cb]=yb;Sb&&(hd[cb]=Sb);Dd&&(Dd.functions[cb]="this."+cb);return this}var jb=cb=>function(yb,Sb){return this.context.dataflow.locale()[cb](Sb)(yb)};const fc=jb("format"),dc=jb("timeFormat"),hc=jb("utcFormat"),Ac=jb("timeParse");jb=jb("utcParse");const ac=new Date(2E3,0,1),Oc=fa("area",G.geoArea),Sc=fa("bounds",G.geoBounds);G=fa("centroid",G.geoCentroid);const Bc=cb=>cb.data,pd={random(){return f.random()},cumulativeNormal:f.cumulativeNormal,
cumulativeLogNormal:f.cumulativeLogNormal,cumulativeUniform:f.cumulativeUniform,densityNormal:f.densityNormal,densityLogNormal:f.densityLogNormal,densityUniform:f.densityUniform,quantileNormal:f.quantileNormal,quantileLogNormal:f.quantileLogNormal,quantileUniform:f.quantileUniform,sampleNormal:f.sampleNormal,sampleLogNormal:f.sampleLogNormal,sampleUniform:f.sampleUniform,isArray:l.isArray,isBoolean:l.isBoolean,isDate:l.isDate,isDefined(cb){return void 0!==cb},isNumber:l.isNumber,isObject:l.isObject,
isRegExp:l.isRegExp,isString:l.isString,isTuple:v.isTuple,isValid(cb){return null!=cb&&cb===cb},toBoolean:l.toBoolean,toDate:l.toDate,toNumber:l.toNumber,toString:l.toString,indexof:T,join:pa,lastindexof:W,replace:P,reverse:ca,slice:M,flush:l.flush,lerp:l.lerp,merge:wa,pad:l.pad,peek:l.peek,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:L.rgb,lab:L.lab,hcl:L.hcl,hsl:L.hsl,luminance:ka,contrast:Z,sequence:g.range,format:fc,utcFormat:hc,utcParse:jb,utcOffset:d.utcOffset,utcSequence:d.utcSequence,
timeFormat:dc,timeParse:Ac,timeOffset:d.timeOffset,timeSequence:d.timeSequence,timeUnitSpecifier:d.timeUnitSpecifier,monthFormat:C,monthAbbrevFormat:N,dayFormat:K,dayAbbrevFormat:E,quarter:l.quarter,utcquarter:l.utcquarter,week:d.week,utcweek:d.utcweek,dayofyear:d.dayofyear,utcdayofyear:d.utcdayofyear,warn:da,info:O,debug:B,extent:l.extent,inScope:ja,intersect:function(cb,yb,Sb){if(!cb)return[];const [ld,xd]=cb;cb=(new t.Bounds).set(ld[0],ld[1],xd[0],xd[1]);Sb=Sb||this.context.dataflow.scenegraph().root;
return t.intersect(Sb,cb,kc(yb))},clampRange:l.clampRange,pinchDistance:ra,pinchAngle:Na,screen:bc,containerSize:$c,windowSize:wc,bandspace:ea,setdata:n,pathShape:Sa,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:y,modify:gb},Rd="view item group xy x y".split(" "),hd={},cd={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:cb=>`_[${l.stringValue("$"+cb)}]`,
functions:function(cb){const yb=w.functions(cb);Rd.forEach(Sb=>yb[Sb]="event.vega."+Sb);for(const Sb in pd)yb[Sb]="this."+Sb;l.extend(yb,ia(cb,pd,hd));return yb},constants:w.constants,visitors:hd},Dd=w.codegen(cd);vc("bandwidth",oa,H);vc("copy",ba,H);vc("domain",Fa,H);vc("range",Ma,H);vc("invert",Ra,H);vc("scale",db,H);vc("gradient",ab,H);vc("geoArea",Oc,H);vc("geoBounds",Sc,H);vc("geoCentroid",G,H);vc("geoShape",Ba,H);vc("indata",e,D);vc("data",a,x);vc("treePath",ub,x);vc("treeAncestors",Jb,x);vc("vlSelectionTest",
k.selectionTest,k.selectionVisitor);vc("vlSelectionResolve",k.selectionResolve,k.selectionVisitor);m.DataPrefix=":";m.IndexPrefix="@";m.ScalePrefix="%";m.SignalPrefix="$";m.bandspace=ea;m.bandwidth=oa;m.codeGenerator=Dd;m.codegenParams=cd;m.containerSize=$c;m.contrast=Z;m.copy=ba;m.data=a;m.dataVisitor=x;m.dayAbbrevFormat=E;m.dayFormat=K;m.debug=B;m.domain=Fa;m.encode=y;m.expressionFunction=vc;m.format=fc;m.functionContext=pd;m.geoArea=Oc;m.geoBounds=Sc;m.geoCentroid=G;m.geoShape=Ba;m.inScope=ja;
m.indata=e;m.indataVisitor=D;m.indexof=T;m.info=O;m.invert=Ra;m.join=pa;m.lastindexof=W;m.luminance=ka;m.merge=wa;m.modify=gb;m.monthAbbrevFormat=N;m.monthFormat=C;m.parseExpression=function(cb,yb){const Sb={};let ld;try{cb=l.isString(cb)?cb:l.stringValue(cb)+"",ld=w.parse(cb)}catch(xd){l.error("Expression parse error: "+cb)}ld.visit(xd=>{if(xd.type===w.CallExpression){var Pd=xd.callee.name,me=cd.visitors[Pd];me&&me(Pd,xd.arguments,yb,Sb)}});cb=Dd(ld);cb.globals.forEach(xd=>{const Pd="$"+xd;!l.hasOwnProperty(Sb,
Pd)&&yb.getSignal(xd)&&(Sb[Pd]=yb.signalRef(xd))});return{$expr:l.extend({code:cb.code},yb.options.ast?{ast:ld}:null),$fields:cb.fields,$params:Sb}};m.pathShape=Sa;m.pinchAngle=Na;m.pinchDistance=ra;m.range=Ma;m.replace=P;m.reverse=ca;m.scale=db;m.scaleGradient=ab;m.scaleVisitor=H;m.screen=bc;m.setdata=n;m.slice=M;m.timeFormat=dc;m.timeParse=Ac;m.treeAncestors=Jb;m.treePath=ub;m.utcFormat=hc;m.utcParse=jb;m.warn=da;m.windowSize=wc;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega))})(this,function(m,l,w){function G(a,e,n){";"!==n[n.length-1]&&(n="return("+n+");");e=Function(...e.concat(n));return a&&a.functions?e.bind(a.functions):e}function L(a,e,n){if(!a||!l.isObject(a))return a;for(let y=0,
A=d.length,C;y<A;++y)if(C=d[y],l.hasOwnProperty(a,C.key))return C.parse(a,e,n);return a}function v(a,e,n,y){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=y||f;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};n&&(this.functions=Object.create(n),this.functions.context=this)}function u(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const t=l.toSet(["rule"]),k=l.toSet(["group","image","rect"]);var f={operator:(a,e)=>G(a,["_"],e.code),parameter:(a,e)=>G(a,["datum","_"],e.code),event:(a,e)=>G(a,["event"],e.code),handler:(a,e)=>G(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:n,channels:y}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var A in y){const C="o["+l.stringValue(A)+"]";e+=`$=${y[A].code};if(${C}!==$)${C}=$,m=1;`}A="";t[n]||(y.x2&&(y.x?(k[n]&&(A+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),A+="o.width\x3do.x2-o.x;"):A+="o.x\x3do.x2-(o.width||0);"),y.xc&&(A+="o.x\x3do.xc-(o.width||0)/2;"),y.y2&&(y.y?(k[n]&&(A+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),A+="o.height\x3do.y2-o.y;"):A+="o.y\x3do.y2-(o.height||0);"),y.yc&&(A+="o.y\x3do.yc-(o.height||0)/2;"));e+=A;return G(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(l.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let n;a=Function("a","b","var u, v; return "+a.map((y,A)=>{const C=e[A];let N;y.path?(N=`a${y.path}`,y=`b${y.path}`):((n=n||{})["f"+A]=y,N=`this.f${A}(a)`,y=`this.f${A}(b)`);A=-C;return`((u = ${N}) < (v = ${y}) || u == null) && v != null ? ${A}
  : (u > v || v == null) && u != null ? ${C}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${A}
  : v !== v && u === u ? ${C} : `}).join("")+"0;");return n?a.bind(n):a}}},d=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||l.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const n="k:"+a.$key+"_"+!!a.$flat;return e.fn[n]||(e.fn[n]=l.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,n){a.$params&&e.parseParameters(a.$params,n);n="e:"+a.$expr.code+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const n="f:"+a.$field+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const n={};for(const y in a){const A=a[y];n[y]=l.accessor(e.encodeExpression(A.$expr),A.$fields);n[y].output=A.$output}return n}},{key:"$compare",parse:function(a,e){const n="c:"+a.$compare+"_"+a.$order,y=l.array(a.$compare).map(A=>A&&A.$tupleid?w.tupleid:A);return e.fn[n]||(e.fn[n]=l.compare(y,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const n=a.$subflow;return function(y,A,C){const N=e.fork().parse(n);y=N.get(n.operators[0].id);(A=N.signals.parent)&&A.set(C);y.detachSubflow=()=>e.detach(N);return y}}},{key:"$tupleid",parse:function(){return w.tupleid}}];const g={skip:!0};v.prototype=u.prototype={fork(){const a=new u(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(n=>
n!==a);const e=Object.keys(a.nodes);for(const n of e)a.nodes[n]._targets=null;for(const n of e)a.nodes[n].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const n=this,y=n.dataflow,A=a.value;n.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&A&&(A.$ingest?y.ingest(e,A.$ingest,A.$format):A.$request?y.preload(e,A.$request,A.$format):y.pulse(e,y.changeset().insert(A)));a.root&&(n.root=e);if(a.parent){let C=n.get(a.parent.$ref);C?(y.connect(C,[e]),e.targets().add(C)):
(n.unresolved=n.unresolved||[]).push(()=>{C=n.get(a.parent.$ref);y.connect(C,[e]);e.targets().add(C)})}a.signal&&(n.signals[a.signal]=e);a.scale&&(n.scales[a.scale]=e);if(a.data)for(const C in a.data){const N=n.data[C]||(n.data[C]={});a.data[C].forEach(K=>N[K]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,n,y,A){this.dataflow.on(e,n,y,A,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,n=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);n.forEach(y=>
e.parseOperator(y));n.forEach(y=>e.parseOperatorParameters(y));(a.streams||[]).forEach(y=>e.parseStream(y));(a.updates||[]).forEach(y=>e.parseUpdate(y));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||l.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const n=this;for(const y in a){const A=a[y];e[y]=l.isArray(A)?A.map(C=>L(C,n,e)):L(A,n,e)}return e},parseStream:function(a){var e=this,n=null!=a.filter?e.eventExpression(a.filter):void 0,y=null!=a.stream?e.get(a.stream):void 0;if(a.source)y=e.events(a.source,a.type,n);else if(a.merge){var A=a.merge.map(C=>e.get(C));y=A[0].merge.apply(A[0],A.slice(1))}a.between&&(A=a.between.map(C=>e.get(C)),y=y.between(A[0],A[1]));a.filter&&(y=y.filter(n));
null!=a.throttle&&(y=y.throttle(+a.throttle));null!=a.debounce&&(y=y.debounce(+a.debounce));null==y&&l.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&y.consume(!0);e.stream(a,y)},parseUpdate:function(a){var e=l.isObject(e=a.source)?e.$ref:e;e=this.get(e);var n=a.update,y=void 0;e||l.error("Source not defined: "+a.source);var A=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);n&&n.$expr&&(n.$params&&(y=this.parseParameters(n.$params)),n=this.handlerExpression(n.$expr));
this.update(a,e,A,n,y)},getState:function(a){var e=this,n={};if(a.signals){var y=n.signals={};Object.keys(e.signals).forEach(C=>{const N=e.signals[C];a.signals(C,N)&&(y[C]=N.value)})}if(a.data){var A=n.data={};Object.keys(e.data).forEach(C=>{const N=e.data[C];a.data(C,N)&&(A[C]=N.input.value)})}e.subcontext&&!1!==a.recurse&&(n.subcontext=e.subcontext.map(C=>C.getState(a)));return n},setState:function(a){var e=this,n=e.dataflow,y=a.data,A=a.signals;Object.keys(A||{}).forEach(C=>{n.update(e.signals[C],
A[C],g)});Object.keys(y||{}).forEach(C=>{n.pulse(e.data[C].input,n.changeset().remove(l.truthy).insert(y[C]))});(a.subcontext||[]).forEach((C,N)=>{(N=e.subcontext[N])&&N.setState(C)})}};m.context=function(a,e,n,y){return new v(a,e,n,y)};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(28),z(38),z(17),z(60),z(61),z(47),z(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.d3,m.vega,m.vega,m.d3,m.vega))})(this,function(m,l,w,G,L,v,u,t,k){function f(Ba){const Sa=Ba.container();
Sa&&(Sa.setAttribute("role","graphics-document"),Sa.setAttribute("aria-roleDescription","visualization"),d(Sa,Ba.description()))}function d(Ba,Sa){Ba&&(null==Sa?Ba.removeAttribute("aria-label"):Ba.setAttribute("aria-label",Sa))}function g(Ba){Ba.add(null,Sa=>{Ba._background=Sa.bg;Ba._resize=1;return Sa.bg},{bg:Ba._signals.background})}function a(Ba){const Sa=Ba._signals.cursor||(Ba._signals.cursor=Ba.add({user:"default",item:null}));Ba.on(Ba.events("view","mousemove"),Sa,(lb,ub)=>{const Jb=(lb=Sa.value)?
l.isString(lb)?lb:lb.user:"default";ub=ub.item&&ub.item.cursor||null;return lb&&Jb===lb.user&&ub==lb.item?lb:{user:Jb,item:ub}});Ba.add(null,function(lb){lb=lb.cursor;let ub=this.value;l.isString(lb)||(ub=lb.item,lb=lb.user);e(Ba,lb&&"default"!==lb?lb:ub||lb);return ub},{cursor:Sa})}function e(Ba,Sa){if(Ba=Ba.globalCursor()?"undefined"!==typeof document&&document.body:Ba.container())return null==Sa?Ba.style.removeProperty("cursor"):Ba.style.cursor=Sa}function n(Ba,Sa){Ba=Ba._runtime.data;l.hasOwnProperty(Ba,
Sa)||l.error("Unrecognized data set: "+Sa);return Ba[Sa]}function y(Ba,Sa){w.isChangeSet(Sa)||l.error("Second argument to changes must be a changeset.");Ba=n(this,Ba);Ba.modified=!0;return this.pulse(Ba.input,Sa)}function A(Ba){var Sa=Ba.padding();return Math.max(0,Ba._viewWidth+Sa.left+Sa.right)}function C(Ba){var Sa=Ba.padding();return Math.max(0,Ba._viewHeight+Sa.top+Sa.bottom)}function N(Ba){var Sa=Ba.padding();Ba=Ba._origin;return[Sa.left+Ba[0],Sa.top+Ba[1]]}function K(Ba){var Sa=N(Ba),lb=A(Ba),
ub=C(Ba);Ba._renderer.background(Ba.background());Ba._renderer.resize(lb,ub,Sa);Ba._handler.origin(Sa);Ba._resizeListeners.forEach(Jb=>{try{Jb(lb,ub)}catch(bc){Ba.error(bc)}})}function E(Ba,Sa,lb){var ub=Ba._renderer;ub=ub&&ub.canvas();if(ub){var Jb=N(Ba);var bc=Sa.changedTouches?Sa.changedTouches[0]:Sa;bc=G.point(bc,ub);bc[0]-=Jb[0];bc[1]-=Jb[1]}Sa.dataflow=Ba;Sa.item=lb;Sa.vega=x(Ba,lb,bc);return Sa}function x(Ba,Sa,lb){function ub(wc){var $c=bc,kc;if(wc)for(kc=Sa;kc;kc=kc.mark.group)if(kc.mark.name===
wc){$c=kc;break}return $c&&$c.mark&&$c.mark.interactive?$c:{}}function Jb(wc){if(!wc)return lb;l.isString(wc)&&(wc=ub(wc));const $c=lb.slice();for(;wc;)$c[0]-=wc.x||0,$c[1]-=wc.y||0,wc=wc.mark&&wc.mark.group;return $c}const bc=Sa?"group"===Sa.mark.marktype?Sa:Sa.mark.group:null;return{view:l.constant(Ba),item:l.constant(Sa||{}),group:ub,xy:Jb,x:wc=>Jb(wc)[0],y:wc=>Jb(wc)[1]}}function D(Ba){Ba=l.extend({defaults:{}},Ba);const Sa=(lb,ub)=>{ub.forEach(Jb=>{l.isArray(lb[Jb])&&(lb[Jb]=l.toSet(lb[Jb]))})};
Sa(Ba.defaults,["prevent","allow"]);Sa(Ba,["view","window","selector"]);return Ba}function H(Ba,Sa,lb){const ub=Ba._eventConfig&&Ba._eventConfig[Sa];return!1===ub||l.isObject(ub)&&!ub[lb]?(Ba.warn(`Blocked ${Sa} ${lb} event listener.`),!1):!0}function S(Ba){return Ba.item}function U(Ba){return Ba.item.mark.source}function ia(Ba){return function(Sa,lb){return lb.vega.view().changeset().encode(lb.item,Ba)}}function fa(Ba,Sa,lb){Ba=document.createElement(Ba);for(const ub in Sa)Ba.setAttribute(ub,Sa[ub]);
null!=lb&&(Ba.textContent=lb);return Ba}function ja(Ba,Sa,lb){if(Sa){var ub=lb.param,Jb=lb.state;Jb||(Jb=lb.state={elements:null,active:!1,set:null,update:bc=>{bc!==Ba.signal(ub.signal)&&Ba.runAsync(null,()=>{Jb.source=!0;Ba.signal(ub.signal,bc)})}},ub.debounce&&(Jb.update=l.debounce(ub.debounce,Jb.update)));la(Jb,Sa,ub,Ba.signal(ub.signal));Jb.active||(Ba.on(Ba._signals[ub.signal],null,()=>{Jb.source?Jb.source=!1:Jb.set(Ba.signal(ub.signal))}),Jb.active=!0);return Jb}}function la(Ba,Sa,lb,ub){const Jb=
fa("div",{"class":"vega-bind"}),bc="radio"===lb.input?Jb:Jb.appendChild(fa("label"));bc.appendChild(fa("span",{"class":"vega-bind-name"},lb.name||lb.signal));Sa.appendChild(Jb);Sa=da;switch(lb.input){case "checkbox":Sa=O;break;case "select":Sa=B;break;case "radio":Sa=Y;break;case "range":Sa=ka}Sa(Ba,bc,lb,ub)}function da(Ba,Sa,lb,ub){const Jb=fa("input");for(const bc in lb)"signal"!==bc&&"element"!==bc&&Jb.setAttribute("input"===bc?"type":bc,lb[bc]);Jb.setAttribute("name",lb.signal);Jb.value=ub;Sa.appendChild(Jb);
Jb.addEventListener("input",()=>Ba.update(Jb.value));Ba.elements=[Jb];Ba.set=bc=>Jb.value=bc}function O(Ba,Sa,lb,ub){lb={type:"checkbox",name:lb.signal};ub&&(lb.checked=!0);const Jb=fa("input",lb);Sa.appendChild(Jb);Jb.addEventListener("change",()=>Ba.update(Jb.checked));Ba.elements=[Jb];Ba.set=bc=>Jb.checked=!!bc||null}function B(Ba,Sa,lb,ub){const Jb=fa("select",{name:lb.signal}),bc=lb.labels||[];lb.options.forEach((wc,$c)=>{const kc={value:wc};Z(wc,ub)&&(kc.selected=!0);Jb.appendChild(fa("option",
kc,(bc[$c]||wc)+""))});Sa.appendChild(Jb);Jb.addEventListener("change",()=>{Ba.update(lb.options[Jb.selectedIndex])});Ba.elements=[Jb];Ba.set=wc=>{for(let $c=0,kc=lb.options.length;$c<kc;++$c)if(Z(lb.options[$c],wc)){Jb.selectedIndex=$c;break}}}function Y(Ba,Sa,lb,ub){const Jb=fa("span",{"class":"vega-bind-radio"}),bc=lb.labels||[];Sa.appendChild(Jb);Ba.elements=lb.options.map((wc,$c)=>{var kc={type:"radio",name:lb.signal,value:wc};Z(wc,ub)&&(kc.checked=!0);kc=fa("input",kc);kc.addEventListener("change",
()=>Ba.update(wc));$c=fa("label",{},(bc[$c]||wc)+"");$c.prepend(kc);Jb.appendChild($c);return kc});Ba.set=wc=>{const $c=Ba.elements,kc=$c.length;for(let vc=0;vc<kc;++vc)Z($c[vc].value,wc)&&($c[vc].checked=!0)}}function ka(Ba,Sa,lb,ub){ub=void 0!==ub?ub:(+lb.max+ +lb.min)/2;const Jb=null!=lb.max?lb.max:Math.max(100,+ub)||100,bc=lb.min||Math.min(0,Jb,+ub)||0,wc=lb.step||L.tickStep(bc,Jb,100),$c=fa("input",{type:"range",name:lb.signal,min:bc,max:Jb,step:wc});$c.value=ub;const kc=fa("span",{},+ub);Sa.appendChild($c);
Sa.appendChild(kc);Sa=()=>{kc.textContent=$c.value;Ba.update(+$c.value)};$c.addEventListener("input",Sa);$c.addEventListener("change",Sa);Ba.elements=[$c];Ba.set=vc=>{$c.value=vc;kc.textContent=vc}}function Z(Ba,Sa){return Ba===Sa||Ba+""===Sa+""}function wa(Ba,Sa,lb,ub,Jb,bc){Sa=Sa||new ub(Ba.loader());return Sa.initialize(lb,A(Ba),C(Ba),N(Ba),Jb,bc).background(Ba.background())}function xa(Ba,Sa){return Sa?function(){try{Sa.apply(this,arguments)}catch(lb){Ba.error(lb)}}:null}function Da(Ba,Sa,lb,
ub){const Jb=(new ub(Ba.loader(),xa(Ba,Ba.tooltip()))).scene(Ba.scenegraph().root).initialize(lb,N(Ba),Ba);Sa&&Sa.handlers().forEach(bc=>{Jb.on(bc.type,bc.handler)});return Jb}function Wa(Ba,Sa){if("string"===typeof Sa)if("undefined"!==typeof document){if(Sa=document.querySelector(Sa),!Sa)return Ba.error("Signal bind element not found: "+Sa),null}else return Ba.error("DOM document instance not found."),null;if(Sa)try{Sa.innerHTML=""}catch(lb){Sa=null,Ba.error(lb)}return Sa}function gb(Ba){l.isObject(Ba)?
Ba={top:+Ba.top||0,bottom:+Ba.bottom||0,left:+Ba.left||0,right:+Ba.right||0}:(Ba=+Ba||0,Ba={top:Ba,bottom:Ba,left:Ba,right:Ba});return Ba}function ra(Ba,Sa,lb,ub){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Jb=G.renderModule(Sa);(Jb=Jb&&Jb.headless)||l.error("Unrecognized renderer type: "+Sa);yield Ba.runAsync();return wa(Ba,null,null,Jb,lb,ub).renderAsync(Ba._scenegraph.root)})}function Na(Ba,Sa,lb){return u.context(Ba,w.transforms,v.functionContext,lb).parse(Sa)}function Ta(Ba,
Sa){var lb=Ba.autosize();Ba=Ba.padding();return Sa-(lb&&"padding"===lb.contains?Ba.left+Ba.right:0)}function za(Ba,Sa){var lb=Ba.autosize();Ba=Ba.padding();return Sa-(lb&&"padding"===lb.contains?Ba.top+Ba.bottom:0)}function pa(Ba){function Sa(){Ba._autosize=Ba._resize=1}var lb=Ba._signals,ub=lb.width,Jb=lb.height;lb=lb.padding;Ba._resizeWidth=Ba.add(null,wc=>{Ba._width=wc.size;Ba._viewWidth=Ta(Ba,wc.size);Sa()},{size:ub});Ba._resizeHeight=Ba.add(null,wc=>{Ba._height=wc.size;Ba._viewHeight=za(Ba,wc.size);
Sa()},{size:Jb});const bc=Ba.add(null,Sa,{pad:lb});Ba._resizeWidth.rank=ub.rank+1;Ba._resizeHeight.rank=Jb.rank+1;bc.rank=lb.rank+1}function T(Ba,Sa){return Sa.modified&&l.isArray(Sa.input.value)&&Ba.indexOf("_:vega:_")}function W(Ba,Sa){return!("parent"===Ba||Sa instanceof w.transforms.proxy)}function M(Ba,Sa,lb,ub){(Ba=Ba.element())&&Ba.setAttribute("title",P(ub))}function P(Ba){return null==Ba?"":l.isArray(Ba)?"["+Ba.map(ea).join(", ")+"]":l.isObject(Ba)&&!l.isDate(Ba)?ca(Ba):Ba+""}function ca(Ba){return Object.keys(Ba).map(Sa=>
{const lb=Ba[Sa];return Sa+": "+(l.isArray(lb)?"["+lb.map(ea).join(", ")+"]":ea(lb))}).join("\n")}function ea(Ba){return l.isArray(Ba)?"[]":l.isObject(Ba)&&!l.isDate(Ba)?"{}":Ba}function oa(Ba,Sa){Sa=Sa||{};w.Dataflow.call(this);Sa.loader&&this.loader(Sa.loader);Sa.logger&&this.logger(Sa.logger);null!=Sa.logLevel&&this.logLevel(Sa.logLevel);if(Sa.locale||Ba.locale){var lb=l.extend({},Ba.locale,Sa.locale);this.locale(k.locale(lb.number,lb.time))}this._elBind=this._el=null;this._renderType=Sa.renderer||
G.RenderType.Canvas;this._scenegraph=new G.Scenegraph;lb=this._scenegraph.root;this._renderer=null;this._tooltip=Sa.tooltip||M;this._redraw=!0;this._handler=(new G.CanvasHandler).scene(lb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=D(Ba.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const ub=Na(this,Ba,Sa.expr);this._runtime=ub;this._signals=ub.signals;this._bind=(Ba.bindings||[]).map(Jb=>({state:null,
param:l.extend({},Jb)}));ub.root&&ub.root.set(lb);lb.source=ub.data.root.input;this.pulse(ub.data.root.input,this.changeset().insert(lb.items));this._width=this.width();this._height=this.height();this._viewWidth=Ta(this,this._width);this._viewHeight=za(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;pa(this);g(this);a(this);this.description(Ba.description);Sa.hover&&this.hover();Sa.container&&this.initialize(Sa.container,Sa.bind)}function ba(Ba,Sa){return l.hasOwnProperty(Ba._signals,
Sa)?Ba._signals[Sa]:l.error("Unrecognized signal name: "+l.stringValue(Sa))}function Fa(Ba,Sa){Ba=(Ba._targets||[]).filter(lb=>lb._update&&lb._update.handler===Sa);return Ba.length?Ba[0]:null}function Ra(Ba,Sa,lb,ub){let Jb=Fa(lb,ub);Jb||(Jb=xa(Ba,()=>ub(Sa,lb.value)),Jb.handler=ub,Ba.on(lb,null,Jb));return Ba}function Ma(Ba,Sa,lb){(lb=Fa(Sa,lb))&&Sa._targets.remove(lb);return Ba}const db={trap:!1};var ab={skip:!0};l.inherits(oa,w.Dataflow,{evaluate(Ba,Sa,lb){const ub=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield w.Dataflow.prototype.evaluate.call(ub,
Ba,Sa);if(ub._redraw||ub._resize)try{ub._renderer&&(ub._resize&&(ub._resize=0,K(ub)),yield ub._renderer.renderAsync(ub._scenegraph.root)),ub._redraw=!1}catch(Jb){ub.error(Jb)}lb&&w.asyncCallback(ub,lb);return ub})},dirty(Ba){this._redraw=!0;this._renderer&&this._renderer.dirty(Ba)},description(Ba){if(arguments.length){const Sa=null!=Ba?Ba+"":null;Sa!==this._desc&&d(this._el,this._desc=Sa);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(Ba,Sa,lb){const ub=ba(this,Ba);return 1===arguments.length?ub.value:this.update(ub,Sa,lb)},width(Ba){return arguments.length?this.signal("width",Ba):this.signal("width")},height(Ba){return arguments.length?this.signal("height",Ba):this.signal("height")},padding(Ba){return arguments.length?this.signal("padding",gb(Ba)):gb(this.signal("padding"))},autosize(Ba){return arguments.length?this.signal("autosize",Ba):this.signal("autosize")},background(Ba){return arguments.length?this.signal("background",
Ba):this.signal("background")},renderer(Ba){if(!arguments.length)return this._renderType;G.renderModule(Ba)||l.error("Unrecognized renderer type: "+Ba);Ba!==this._renderType&&(this._renderType=Ba,this._resetRenderer());return this},tooltip(Ba){if(!arguments.length)return this._tooltip;Ba!==this._tooltip&&(this._tooltip=Ba,this._resetRenderer());return this},loader(Ba){if(!arguments.length)return this._loader;Ba!==this._loader&&(w.Dataflow.prototype.loader.call(this,Ba),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(ba(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ba,Sa,lb,ub,Jb,bc){this.runAfter(wc=>{let $c=0;wc._autosize=0;wc.width()!==lb&&($c=1,wc.signal("width",lb,ab),wc._resizeWidth.skip(!0));wc.height()!==ub&&($c=1,wc.signal("height",ub,ab),wc._resizeHeight.skip(!0));wc._viewWidth!==Ba&&(wc._resize=1,wc._viewWidth=Ba);wc._viewHeight!==Sa&&(wc._resize=1,wc._viewHeight=Sa);
if(wc._origin[0]!==Jb[0]||wc._origin[1]!==Jb[1])wc._resize=1,wc._origin=Jb;$c&&wc.run("enter");bc&&wc.runAfter(kc=>kc.resize())},!1,1)},addEventListener(Ba,Sa,lb){let ub=Sa;lb&&!1===lb.trap||(ub=xa(this,Sa),ub.raw=Sa);this._handler.on(Ba,ub);return this},removeEventListener(Ba,Sa){for(var lb=this._handler.handlers(Ba),ub=lb.length,Jb,bc;0<=--ub;)if(bc=lb[ub].type,Jb=lb[ub].handler,Ba===bc&&(Sa===Jb||Sa===Jb.raw)){this._handler.off(bc,Jb);break}return this},addResizeListener(Ba){const Sa=this._resizeListeners;
0>Sa.indexOf(Ba)&&Sa.push(Ba);return this},removeResizeListener(Ba){var Sa=this._resizeListeners;Ba=Sa.indexOf(Ba);0<=Ba&&Sa.splice(Ba,1);return this},addSignalListener(Ba,Sa){return Ra(this,Ba,ba(this,Ba),Sa)},removeSignalListener(Ba,Sa){return Ma(this,ba(this,Ba),Sa)},addDataListener(Ba,Sa){return Ra(this,Ba,n(this,Ba).values,Sa)},removeDataListener(Ba,Sa){return Ma(this,n(this,Ba).values,Sa)},globalCursor(Ba){if(arguments.length){if(this._globalCursor!==!!Ba){const Sa=e(this,null);this._globalCursor=
!!Ba;Sa&&e(this,Sa)}return this}return this._globalCursor},preventDefault(Ba){return arguments.length?(this._preventDefault=Ba,this):this._preventDefault},timer:function(Ba,Sa){this._timers.push(t.interval(function(lb){Ba({timestamp:Date.now(),elapsed:lb})},Sa))},events:function(Ba,Sa,lb){var ub=this,Jb=new w.EventStream(lb);lb=function(kc,vc){ub.runAsync(null,()=>{var jb;if(jb="view"===Ba){var fc=ub._eventConfig.defaults;jb=fc.prevent;fc=fc.allow;jb=!1===jb||!0===fc?!1:!0===jb||!1===fc?!0:jb?jb[Sa]:
fc?!fc[Sa]:ub.preventDefault()}jb&&kc.preventDefault();Jb.receive(E(ub,kc,vc))})};var bc;if("timer"===Ba)H(ub,"timer",Sa)&&ub.timer(lb,Sa);else if("view"===Ba)H(ub,"view",Sa)&&ub.addEventListener(Sa,lb,db);else if("window"===Ba?H(ub,"window",Sa)&&"undefined"!==typeof window&&(bc=[window]):"undefined"!==typeof document&&H(ub,"selector",Sa)&&(bc=document.querySelectorAll(Ba)),bc){for(var wc=0,$c=bc.length;wc<$c;++wc)bc[wc].addEventListener(Sa,lb);ub._eventListeners.push({type:Sa,sources:bc,handler:lb})}else ub.warn("Can not resolve event source: "+
Ba);return Jb},finalize:function(){var Ba=this._tooltip,Sa=this._timers,lb=this._eventListeners,ub;for(ub=Sa.length;0<=--ub;)Sa[ub].stop();for(ub=lb.length;0<=--ub;){var Jb=lb[ub];for(Sa=Jb.sources.length;0<=--Sa;)Jb.sources[Sa].removeEventListener(Jb.type,Jb.handler)}Ba&&Ba.call(this,this._handler,null,null,null);return this},hover:function(Ba,Sa){Ba=[Ba||"hover"];Sa=[Sa||"update",Ba[0]];this.on(this.events("view","mouseover",S),U,ia(Ba));this.on(this.events("view","mouseout",S),U,ia(Sa));return this},
data:function(Ba,Sa){return 2>arguments.length?n(this,Ba).values.value:y.call(this,Ba,w.changeset().remove(l.truthy).insert(Sa))},change:y,insert:function(Ba,Sa){return y.call(this,Ba,w.changeset().insert(Sa))},remove:function(Ba,Sa){return y.call(this,Ba,w.changeset().remove(Sa))},scale:function(Ba){var Sa=this._runtime.scales;l.hasOwnProperty(Sa,Ba)||l.error("Unrecognized scale or projection: "+Ba);return Sa[Ba].value},initialize:function(Ba,Sa){const lb=this;var ub=lb._renderType;const Jb=lb._eventConfig.bind;
var bc=G.renderModule(ub);Ba=lb._el=Ba?Wa(lb,Ba):null;f(lb);bc||lb.error("Unrecognized renderer type: "+ub);ub=bc.handler||G.CanvasHandler;bc=Ba?bc.renderer:bc.headless;lb._renderer=bc?wa(lb,lb._renderer,Ba,bc):null;lb._handler=Da(lb,lb._handler,Ba,ub);lb._redraw=!0;Ba&&"none"!==Jb&&(Sa=Sa?lb._elBind=Wa(lb,Sa):Ba.appendChild(fa("form",{"class":"vega-bindings"})),lb._bind.forEach(wc=>{wc.param.element&&"container"!==Jb&&(wc.element=Wa(lb,wc.param.element))}),lb._bind.forEach(wc=>{ja(lb,wc.element||
Sa,wc)}));return lb},toImageURL:function(Ba,Sa){const lb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ba!==G.RenderType.Canvas&&Ba!==G.RenderType.SVG&&Ba!==G.RenderType.PNG&&l.error("Unrecognized image type: "+Ba);var ub=yield ra(lb,Ba,Sa);Ba===G.RenderType.SVG?(ub=ub.svg(),ub=new Blob([ub],{type:"image/svg+xml"}),ub=window.URL.createObjectURL(ub)):ub=ub.canvas().toDataURL("image/png");return ub})},toCanvas:function(Ba,Sa){const lb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ra(lb,
G.RenderType.Canvas,Ba,Sa)).canvas()})},toSVG:function(Ba){const Sa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ra(Sa,G.RenderType.SVG,Ba)).svg()})},getState:function(Ba){return this._runtime.getState(Ba||{data:T,signals:W,recurse:!0})},setState:function(Ba){this.runAsync(null,Sa=>{Sa._trigger=!1;Sa._runtime.setState(Ba)},Sa=>{Sa._trigger=!0});return this}});m.View=oa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J):"function"===typeof define&&define.amd?define(["exports"],l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={}))})(this,function(m){function l(f,d,g,a,e){const n=f.length;let y=0,A;for(;d<n;++d)if(A=f[d],y||A!==g)e&&0<=e.indexOf(A)?--y:a&&0<=a.indexOf(A)&&++y;else break;return d}function w(f){const d=[],g=f.length;let a=0,e=0;for(;e<g;)e=l(f,e,",","[{","]}"),d.push(f.substring(a,
e).trim()),a=++e;if(0===d.length)throw"Empty event selector: "+f;return d}function G(f){if("["===f[0]){var d=f;var g=d.length;f=l(d,1,"]","[","]");if(f===g)throw"Empty between selector: "+d;g=w(d.substring(1,f));if(2!==g.length)throw"Between selector must have two elements: "+d;d=d.slice(f+1).trim();if("\x3e"!==d[0])throw"Expected '\x3e' after between selector: "+d;g=g.map(G);d=G(d.slice(1).trim());d.between?d={between:g,stream:d}:d.between=g}else{{g={source:t};const a=[];let e=[0,0],n=0,y=0,A=f.length,
C=0,N;if("}"===f[A-1]){C=f.lastIndexOf("{");if(0<=C){try{e=L(f.substring(C+1,A-1))}catch(K){throw"Invalid throttle specification: "+f;}f=f.slice(0,C).trim();A=f.length}else throw"Unmatched right brace: "+f;C=0}if(!A)throw f;"@"===f[0]&&(n=++C);N=l(f,C,":");N<A&&(a.push(f.substring(y,N).trim()),y=C=++N);C=l(f,C,"[");if(C===A)a.push(f.substring(y,A).trim());else if(a.push(f.substring(y,C).trim()),d=[],y=++C,y===A)throw"Unmatched left bracket: "+f;for(;C<A;){C=l(f,C,"]");if(C===A)throw"Unmatched left bracket: "+
f;d.push(f.substring(y,C).trim());if(C<A-1&&"["!==f[++C])throw"Expected left bracket: "+f;y=++C}if(!(A=a.length)||v.test(a[A-1]))throw"Invalid event selector: "+f;1<A?(g.type=a[1],n?g.markname=a[0].slice(1):k[a[0]]?g.marktype=a[0]:g.source=a[0]):g.type=a[0];"!"===g.type.slice(-1)&&(g.consume=!0,g.type=g.type.slice(0,-1));null!=d&&(g.filter=d);e[0]&&(g.throttle=e[0]);e[1]&&(g.debounce=e[1]);d=g}}return d}function L(f){const d=f.split(",");if(!f.length||2<d.length)throw f;return d.map(g=>{g=+g;if(g!==
g)throw f;return g})}const v=/[[\]{}]/,u={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let t,k;m.selector=function(f,d,g){t=d||"view";k=g||u;return w(f.trim()).map(G)};Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[64]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?l(J,z(16),z(60),z(63),z(37),z(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(m="undefined"!==typeof globalThis?globalThis:m||self,l(m.vega={},m.vega,m.vega,m.vega,m.vega,m.vega))})(this,function(m,l,w,G,L,v){function u(va){return l.isObject(va)?va:{type:va||"pad"}}function t(va){l.isObject(va)?va=va.signal?
va:{top:+va.top||0,bottom:+va.bottom||0,left:+va.left||0,right:+va.right||0}:(va=+va||0,va={top:va,bottom:va,left:va,right:va});return va}function k(va,Ka,sb,Pb){return null!=sb?(l.isObject(sb)&&!l.isArray(sb)||l.isArray(sb)&&sb.length&&l.isObject(sb[0])?va.update[Ka]=sb:va[Pb||"enter"][Ka]={value:sb},1):0}function f(va,Ka,sb){for(const Pb in Ka)k(va,Pb,Ka[Pb]);for(const Pb in sb)k(va,Pb,sb[Pb],"update")}function d(va,Ka,sb){for(const Pb in Ka)sb&&l.hasOwnProperty(sb,Pb)||(va[Pb]=l.extend(va[Pb]||
{},Ka[Pb]));return va}function g(va,Ka){return Ka&&(Ka.enter&&Ka.enter[va]||Ka.update&&Ka.update[va])}function a(va,Ka,sb,Pb,Mb){const Yb={},ec={};let Tc,Ic;Ic="lineBreak";"text"!==Ka||null==Mb[Ic]||g(Ic,va)||e(Yb,Ic,Mb[Ic]);if("legend"==sb||String(sb).startsWith("axis"))sb=null;sb="frame"===sb?Mb.group:"mark"===sb?l.extend({},Mb.mark,Mb[Ka]):null;for(Ic in sb)(Ka=g(Ic,va)||("fill"===Ic||"stroke"===Ic)&&(g("fill",va)||g("stroke",va)))||e(Yb,Ic,sb[Ic]);l.array(Pb).forEach(bd=>{bd=Mb.style&&Mb.style[bd];
for(const od in bd)g(od,va)||e(Yb,od,bd[od])});va=l.extend({},va);for(Ic in Yb)sb=Yb[Ic],sb.signal?(Tc=Tc||{})[Ic]=sb:ec[Ic]=sb;va.enter=l.extend(ec,va.enter);Tc&&(va.update=l.extend(Tc,va.update));return va}function e(va,Ka,sb){va[Ka]=sb&&sb.signal?{signal:sb.signal}:{value:sb}}function n(va){if(null!=va.gradient)return y(va);if(va.signal)var Ka=`(${va.signal})`;else va.color?(Ka=va.color,Ka=Ka.c?Td("hcl",Ka.h,Ka.c,Ka.l):Ka.h||Ka.s?Td("hsl",Ka.h,Ka.s,Ka.l):Ka.l||Ka.a?Td("lab",Ka.l,Ka.a,Ka.b):Ka.r||
Ka.g||Ka.b?Td("rgb",Ka.r,Ka.g,Ka.b):null):Ka=null!=va.field?C(va.field):void 0!==va.value?l.stringValue(va.value):void 0;if(null!=va.scale){{const sb=tf(va.scale);null!=va.range?Ka=`lerp(_range(${sb}), ${+va.range})`:(void 0!==Ka&&(Ka=`_scale(${sb}, ${Ka})`),va.band&&(Ka=(Ka?Ka+"+":"")+`_bandwidth(${sb})`+(1===+va.band?"":"*"+A(va.band)),va.extra&&(Ka=`(datum.extra ? _scale(${sb}, datum.extra.value) : ${Ka})`)),null==Ka&&(Ka="0"))}}void 0===Ka&&(Ka=null);null!=va.exponent&&(Ka=`pow(${Ka},${A(va.exponent)})`);
null!=va.mult&&(Ka+=`*${A(va.mult)}`);null!=va.offset&&(Ka+=`+${A(va.offset)}`);va.round&&(Ka=`round(${Ka})`);return Ka}function y(va){const Ka=[va.start,va.stop,va.count].map(sb=>null==sb?null:l.stringValue(sb));for(;Ka.length&&null==l.peek(Ka);)Ka.pop();Ka.unshift(tf(va.gradient));return`gradient(${Ka.join(",")})`}function A(va){return l.isObject(va)?"("+n(va)+")":va}function C(va){return N(l.isObject(va)?va:{datum:va})}function N(va){let Ka;if(va.signal){Ka="datum";var sb=va.signal}else if(va.group||
va.parent){sb=Math.max(1,va.level||1);for(Ka="item";0<sb--;)Ka+=".mark.group";va.parent?(sb=va.parent,Ka+=".datum"):sb=va.group}else va.datum?(Ka="datum",sb=va.datum):l.error("Invalid field reference: "+l.stringValue(va));va.signal||(sb=l.isString(sb)?l.splitAccessPath(sb).map(l.stringValue).join("]["):N(sb));return Ka+"["+sb+"]"}function K(va){let Ka="";va.forEach(sb=>{const Pb=n(sb);Ka+=sb.test?`(${sb.test})?${Pb}:`:Pb});":"===l.peek(Ka)&&(Ka+="null");return Ka}function E(va,Ka,sb,Pb,Mb,Yb){const ec=
{};Yb=Yb||{};Yb.encoders={$encode:ec};va=a(va,Ka,sb,Pb,Mb.config);for(const od in va){{sb=va[od];Pb=Ka;var Tc=Yb,Ic=Mb;const Nd={},Wd={};for(const rd in sb)if(null!=sb[rd]){var bd=sb[rd];bd=l.isArray(bd)?K(bd):n(bd);Nd[rd]=x(bd,Ic,Tc,Wd)}sb={$expr:{marktype:Pb,channels:Nd},$fields:Object.keys(Wd),$output:Object.keys(sb)}}ec[od]=sb}return Yb}function x(va,Ka,sb,Pb){va=w.parseExpression(va,Ka);va.$fields.forEach(Mb=>Pb[Mb]=1);l.extend(sb,va.$params);return va.$expr}function D(va,Ka){l.error(va+' for "outer" push: '+
l.stringValue(Ka))}function H(va,Ka){const sb=va.name;if("outer"===va.push)Ka.signals[sb]||D("No prior signal definition",sb),be.forEach(Pb=>{void 0!==va[Pb]&&D("Invalid property ",Pb)});else{const Pb=Ka.addSignal(sb,va.value);!1===va.react&&(Pb.react=!1);va.bind&&Ka.addBinding(sb,va.bind)}}function S(va,Ka,sb,Pb){this.id=-1;this.type=va;this.value=Ka;this.params=sb;Pb&&(this.parent=Pb)}function U(va){const Ka={$ref:va.id};0>va.id&&(va.refs=va.refs||[]).push(Ka);return Ka}function ia(va,Ka){return Ka?
{$field:va,$name:Ka}:{$field:va}}function fa(va,Ka){va={$key:va};Ka&&(va.$flat=!0);return va}function ja(va,Ka){return(va&&va.signal?"$"+va.signal:va||"")+(va&&Ka?"_":"")+(Ka&&Ka.signal?"$"+Ka.signal:Ka||"")}function la(va){return va&&va.signal}function da(va){if(la(va))return!0;if(l.isObject(va))for(const Ka in va)if(da(va[Ka]))return!0;return!1}function O(va,Ka){return null!=va?va:Ka}function B(va){return va&&va.signal||va}function Y(va,Ka){return(va.merge?Z:va.stream?wa:va.type?xa:l.error("Invalid stream specification: "+
l.stringValue(va)))(va,Ka)}function ka(va){return"scope"===va?"view":va||"view"}function Z(va,Ka){const sb=va.merge.map(Pb=>Y(Pb,Ka));va=Da({merge:sb},va,Ka);return Ka.addStream(va).id}function wa(va,Ka){const sb=Y(va.stream,Ka);va=Da({stream:sb},va,Ka);return Ka.addStream(va).id}function xa(va,Ka){let sb;"timer"===va.type?(sb=Ka.event("timer",va.throttle),va={between:va.between,filter:va.filter}):sb=Ka.event(ka(va.source),va.type);va=Da({stream:sb},va,Ka);return 1===Object.keys(va).length?sb:Ka.addStream(va).id}
function Da(va,Ka,sb){let Pb=Ka.between;Pb&&(2!==Pb.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(Ka)),va.between=[Y(Pb[0],sb),Y(Pb[1],sb)]);Pb=Ka.filter?[].concat(Ka.filter):[];(Ka.marktype||Ka.markname||Ka.markrole)&&Pb.push(Wa(Ka.marktype,Ka.markname,Ka.markrole));"scope"===Ka.source&&Pb.push("inScope(event.item)");Pb.length&&(va.filter=w.parseExpression("("+Pb.join(")\x26\x26(")+")",sb).$expr);null!=(Pb=Ka.throttle)&&(va.throttle=+Pb);null!=(Pb=Ka.debounce)&&
(va.debounce=+Pb);Ka.consume&&(va.consume=!0);return va}function Wa(va,Ka,sb){return"event.item"+(va&&"*"!==va?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+va+"'":"")+(sb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+sb+"'":"")+(Ka?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ka+"'":"")}function gb(va,Ka,sb){const Pb=va.encode,Mb={target:sb};sb=va.events;let Yb=va.update,ec=[];sb||l.error("Signal update missing events specification.");l.isString(sb)&&(sb=G.selector(sb,Ka.isSubscope()?"scope":"view"));
sb=l.array(sb).filter(Tc=>Tc.signal||Tc.scale?(ec.push(Tc),0):1);1<ec.length&&(ec=[Na(ec)]);sb.length&&ec.push(1<sb.length?{merge:sb}:sb[0]);null!=Pb&&(Yb&&l.error("Signal encode and update are mutually exclusive."),Yb="encode(item(),"+l.stringValue(Pb)+")");Mb.update=l.isString(Yb)?w.parseExpression(Yb,Ka):null!=Yb.expr?w.parseExpression(Yb.expr,Ka):null!=Yb.value?Yb.value:null!=Yb.signal?{$expr:ce,$params:{$value:Ka.signalRef(Yb.signal)}}:l.error("Invalid signal update specification.");va.force&&
(Mb.options={force:!0});ec.forEach(Tc=>Ka.addUpdate(l.extend(ra(Tc,Ka),Mb)))}function ra(va,Ka){return{source:va.signal?Ka.signalRef(va.signal):va.scale?Ka.scaleRef(va.scale):Y(va,Ka)}}function Na(va){return{signal:"["+va.map(Ka=>Ka.scale?'scale("'+Ka.scale+'")':Ka.signal)+"]"}}function Ta(va,Ka){const sb=Ka.getSignal(va.name);let Pb=va.update;va.init&&(Pb?l.error("Signals can not include both init and update expressions."):(Pb=va.init,sb.initonly=!0));Pb&&(Pb=w.parseExpression(Pb,Ka),sb.update=Pb.$expr,
sb.params=Pb.$params);va.on&&va.on.forEach(Mb=>gb(Mb,Ka,sb.id))}function za(va,Ka){return l.isObject(va)?va.signal?Ka.signalRef(va.signal):l.error("Unsupported object: "+l.stringValue(va)):va}function pa(va,Ka){return va.signal?Ka.signalRef(va.signal):va.map(sb=>za(sb,Ka))}function T(va){l.error("Can not find data set: "+l.stringValue(va))}function W(va,Ka,sb){if(va)return va.signal?sb.signalRef(va.signal):(l.isArray(va)?M:va.fields?ca:P)(va,Ka,sb);null==Ka.domainMin&&null==Ka.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}
function M(va,Ka,sb){return va.map(Pb=>za(Pb,sb))}function P(va,Ka,sb){const Pb=sb.getData(va.data);Pb||T(va.data);return L.isDiscrete(Ka.type)?Pb.valuesRef(sb,va.field,oa(va.sort,!1)):L.isQuantile(Ka.type)?Pb.domainRef(sb,va.field):Pb.extentRef(sb,va.field)}function ca(va,Ka,sb){const Pb=va.data,Mb=va.fields.reduce((Yb,ec)=>{if(l.isString(ec))ec={data:Pb,field:ec};else if(l.isArray(ec)||ec.signal){{var Tc=ec;ec="_:vega:_"+ed++;const Ic=qe({});l.isArray(Tc)?Ic.value={$ingest:Tc}:Tc.signal&&(Tc="setdata("+
l.stringValue(ec)+","+Tc.signal+")",Ic.params.input=sb.signalRef(Tc));sb.addDataPipeline(ec,[Ic,jc({})]);ec={data:ec,field:"data"}}}Yb.push(ec);return Yb},[]);return(L.isDiscrete(Ka.type)?ea:L.isQuantile(Ka.type)?ba:Fa)(va,sb,Mb)}function ea(va,Ka,sb){const Pb=oa(va.sort,!0);va=sb.map(Yb=>{const ec=Ka.getData(Yb.data);ec||T(Yb.data);return ec.countsRef(Ka,Yb.field,Pb)});const Mb={groupby:Le,pulse:va};Pb&&(va=Pb.op||"count",sb=Pb.field?ja(va,Pb.field):"count",Mb.ops=[fd[va]],Mb.fields=[Ka.fieldRef(sb)],
Mb.as=[sb]);va=Ka.add(Ad(Mb));va=Ka.add(qe({pulse:U(va)}));sb=Ka.add(Fc({field:Le,sort:Ka.sortRef(Pb),pulse:U(va)}));return U(sb)}function oa(va,Ka){va&&(va.field||va.op?va.field||"count"===va.op?Ka&&va.field&&va.op&&!fd[va.op]&&l.error("Multiple domain scales can not be sorted using "+va.op):l.error("No field provided for sort aggregate op: "+va.op):l.isObject(va)?va.field="key":va={field:"key"});return va}function ba(va,Ka,sb){va=sb.map(Pb=>{const Mb=Ka.getData(Pb.data);Mb||T(Pb.data);return Mb.domainRef(Ka,
Pb.field)});return U(Ka.add(Ze({values:va})))}function Fa(va,Ka,sb){va=sb.map(Pb=>{const Mb=Ka.getData(Pb.data);Mb||T(Pb.data);return Mb.extentRef(Ka,Pb.field)});return U(Ka.add(cf({extents:va})))}function Ra(va,Ka,sb){const Pb=Ka.config.range;let Mb=va.range;if(Mb.signal)return Ka.signalRef(Mb.signal);if(l.isString(Mb)){if(Pb&&l.hasOwnProperty(Pb,Mb))return va=l.extend({},va,{range:Pb[Mb]}),Ra(va,Ka,sb);"width"===Mb?Mb=[0,{signal:"width"}]:"height"===Mb?Mb=L.isDiscrete(va.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Mb))}else{if(Mb.scheme){sb.scheme=l.isArray(Mb.scheme)?pa(Mb.scheme,Ka):za(Mb.scheme,Ka);Mb.extent&&(sb.schemeExtent=pa(Mb.extent,Ka));Mb.count&&(sb.schemeCount=za(Mb.count,Ka));return}if(Mb.step){sb.rangeStep=za(Mb.step,Ka);return}if(L.isDiscrete(va.type)&&!l.isArray(Mb))return W(Mb,va,Ka);l.isArray(Mb)||l.error("Unsupported range type: "+l.stringValue(Mb))}return Mb.map(Yb=>(l.isArray(Yb)?pa:za)(Yb,Ka))}function Ma(va,
Ka,sb){return l.isArray(va)?va.map(Pb=>Ma(Pb,Ka,sb)):l.isObject(va)?va.signal?sb.signalRef(va.signal):"fit"===Ka?va:l.error("Unsupported parameter object: "+l.stringValue(va)):va}function db(va){va.type="group";va.interactive=va.interactive||!1;return va}function ab(va,Ka){const sb=(Pb,Mb)=>O(va[Pb],O(Ka[Pb],Mb));sb.isVertical=Pb=>"vertical"===O(va.direction,Ka.direction||(Pb?Ka.symbolDirection:Ka.gradientDirection));sb.gradientLength=()=>O(va.gradientLength,Ka.gradientLength||Ka.gradientWidth);sb.gradientThickness=
()=>O(va.gradientThickness,Ka.gradientThickness||Ka.gradientHeight);sb.entryColumns=()=>O(va.columns,O(Ka.columns,+sb.isVertical(!0)));return sb}function Ba(va,Ka){return(va=Ka&&(Ka.update&&Ka.update[va]||Ka.enter&&Ka.enter[va]))&&va.signal?va:va?va.value:null}function Sa(va,Ka,sb){return`item.anchor === '${"start"}' ? ${va} : item.anchor === '${"end"}' ? ${Ka} : ${sb}`}function lb(va,Ka){return Ka?va?l.isObject(va)?Object.assign({},va,{offset:lb(va.offset,Ka)}):{value:va,offset:Ka}:Ka:va}function ub(va,
Ka){Ka?(va.name=Ka.name,va.style=Ka.style||va.style,va.interactive=!!Ka.interactive,va.encode=d(va.encode,Ka,zd)):va.interactive=!1;return va}function Jb(va,Ka,sb,Pb){va=ab(va,sb);var Mb=va.isVertical();sb=va.gradientThickness();const Yb=va.gradientLength();let ec,Tc,Ic;Mb?(Mb=[0,1],Tc=[0,0],Ic=sb,sb=Yb):(Mb=[0,0],Tc=[1,0],Ic=Yb);Ka={enter:ec={opacity:sd,x:sd,y:sd,width:Be(Ic),height:Be(sb)},update:l.extend({},ec,{opacity:Zc,fill:{gradient:Ka,start:Mb,stop:Tc}}),exit:{opacity:sd}};f(Ka,{stroke:va("gradientStrokeColor"),
strokeWidth:va("gradientStrokeWidth")},{opacity:va("gradientOpacity")});return ub({type:"rect",role:"legend-gradient",encode:Ka},Pb)}function bc(va,Ka,sb,Pb,Mb){va=ab(va,sb);const Yb=va.isVertical();sb=va.gradientThickness();const ec=va.gradientLength();var Tc;let Ic,bd,od,Nd="";Yb?(Tc="y",bd="y2",Ic="x",od="width",Nd="1-"):(Tc="x",bd="x2",Ic="y",od="height");Ka={opacity:sd,fill:{scale:Ka,field:"value"}};Ka[Tc]={signal:Nd+"datum.perc",mult:ec};Ka[Ic]=sd;Ka[bd]={signal:Nd+"datum.perc2",mult:ec};Ka[od]=
Be(sb);Tc={enter:Ka,update:l.extend({},Ka,{opacity:Zc}),exit:{opacity:sd}};f(Tc,{stroke:va("gradientStrokeColor"),strokeWidth:va("gradientStrokeWidth")},{opacity:va("gradientOpacity")});return ub({type:"rect",role:"legend-band",key:"value",from:Mb,encode:Tc},Pb)}function wc(va,Ka,sb,Pb){const Mb=ab(va,Ka);var Yb=Mb.isVertical();const ec=Be(Mb.gradientThickness()),Tc=Mb.gradientLength();let Ic=Mb("labelOverlap"),bd,od,Nd,Wd="";const rd={enter:bd={opacity:sd},update:od={opacity:Zc,text:{field:"label"}},
exit:{opacity:sd}};f(rd,{fill:Mb("labelColor"),fillOpacity:Mb("labelOpacity"),font:Mb("labelFont"),fontSize:Mb("labelFontSize"),fontStyle:Mb("labelFontStyle"),fontWeight:Mb("labelFontWeight"),limit:O(va.labelLimit,Ka.gradientLabelLimit)});Yb?(bd.align={value:"left"},bd.baseline=od.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Yb="y",Nd="x",Wd="1-"):(bd.align=od.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},bd.baseline={value:"top"},
Yb="x",Nd="y");bd[Yb]=od[Yb]={signal:Wd+"datum.perc",mult:Tc};bd[Nd]=od[Nd]=ec;ec.offset=O(va.labelOffset,Ka.gradientLabelOffset)||0;Ic=Ic?{separation:Mb("labelSeparation"),method:Ic,order:"datum.index"}:void 0;return ub({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Pb,encode:rd,overlap:Ic},sb)}function $c(va,Ka,sb,Pb,Mb){var Yb=ab(va,Ka);const ec=sb.entries,Tc=!(!ec||!ec.interactive),Ic=ec?ec.name:void 0,bd=Yb("clipHeight"),od=Yb("symbolOffset"),Nd={data:"value"},Wd=`(${Mb}) ? datum.${"offset"} : datum.${"size"}`,
rd=bd?Be(bd):{field:"size"},Ge=`max(1, ${Mb})`;let Hd,se;rd.mult=.5;var $d={enter:Hd={opacity:sd,x:{signal:Wd,mult:.5,offset:od},y:rd},update:se={opacity:Zc,x:Hd.x,y:Hd.y},exit:{opacity:sd}};let oe=null,uf=null;va.fill||(oe=Ka.symbolBaseFillColor,uf=Ka.symbolBaseStrokeColor);f($d,{fill:Yb("symbolFillColor",oe),shape:Yb("symbolType"),size:Yb("symbolSize"),stroke:Yb("symbolStrokeColor",uf),strokeDash:Yb("symbolDash"),strokeDashOffset:Yb("symbolDashOffset"),strokeWidth:Yb("symbolStrokeWidth")},{opacity:Yb("symbolOpacity")});
ie.forEach(Xd=>{va[Xd]&&(se[Xd]=Hd[Xd]={scale:va[Xd],field:"value"})});Ka=ub({type:"symbol",role:"legend-symbol",key:"value",from:Nd,clip:bd?!0:void 0,encode:$d},sb.symbols);$d=Be(od);$d.offset=Yb("labelOffset");$d={enter:Hd={opacity:sd,x:{signal:Wd,offset:$d},y:rd},update:se={opacity:Zc,text:{field:"label"},x:Hd.x,y:Hd.y},exit:{opacity:sd}};f($d,{align:Yb("labelAlign"),baseline:Yb("labelBaseline"),fill:Yb("labelColor"),fillOpacity:Yb("labelOpacity"),font:Yb("labelFont"),fontSize:Yb("labelFontSize"),
fontStyle:Yb("labelFontStyle"),fontWeight:Yb("labelFontWeight"),limit:Yb("labelLimit")});sb=ub({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Nd,encode:$d},sb.labels);$d={enter:{noBound:{value:!bd},width:sd,height:bd?Be(bd):sd,opacity:sd},exit:{opacity:sd},update:se={opacity:Zc,row:{signal:null},column:{signal:null}}};Yb.isVertical(!0)?(Yb=`ceil(item.mark.items.length / ${Ge})`,se.row.signal=`${"datum.index"}%${Yb}`,se.column.signal=`floor(${"datum.index"} / ${Yb})`,Yb={field:["row",
"datum.index"]}):(se.row.signal=`floor(${"datum.index"} / ${Ge})`,se.column.signal=`${"datum.index"} % ${Ge}`,Yb={field:"datum.index"});se.column.signal=`(${Mb})?${se.column.signal}:${"datum.index"}`;Pb={facet:{data:Pb,name:"value",groupby:"index"}};return db({role:"scope",from:Pb,encode:d($d,ec,zd),marks:[Ka,sb],name:Ic,interactive:Tc,sort:Yb})}function kc(va,Ka){va=ab(va,Ka);return{align:va("gridAlign"),columns:va.entryColumns(),center:{row:!0,column:!1},padding:{row:va("rowPadding"),column:va("columnPadding")}}}
function vc(va,Ka,sb,Pb){Ka=ab(va,Ka);const Mb={enter:{opacity:sd},update:{opacity:Zc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:sd}};f(Mb,{orient:Ka("titleOrient"),_anchor:Ka("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Ue},baseline:{signal:zf},text:va.title,fill:Ka("titleColor"),fillOpacity:Ka("titleOpacity"),font:Ka("titleFont"),fontSize:Ka("titleFontSize"),fontStyle:Ka("titleFontStyle"),fontWeight:Ka("titleFontWeight"),limit:Ka("titleLimit"),lineHeight:Ka("titleLineHeight")},{align:Ka("titleAlign"),baseline:Ka("titleBaseline")});return ub({type:"text",role:"legend-title",style:"guide-title",from:Pb,encode:Mb},sb)}function jb(va,Ka){let sb;l.isObject(va)&&(va.signal?sb=va.signal:va.path?sb="pathShape("+
fc(va.path)+")":va.sphere&&(sb="geoShape("+fc(va.sphere)+', {type: "Sphere"})'));return sb?Ka.signalRef(sb):!!va}function fc(va){return l.isObject(va)&&va.signal?va.signal:l.stringValue(va)}function dc(va){const Ka=va.role||"";return Ka.indexOf("axis")&&Ka.indexOf("legend")&&Ka.indexOf("title")?"group"===va.type?"scope":Ka||"mark":Ka}function hc(va){return{marktype:va.type,name:va.name||void 0,role:va.role||dc(va),zindex:+va.zindex||void 0,aria:va.aria,description:va.description}}function Ac(va,Ka){return va&&
va.signal?Ka.signalRef(va.signal):!1===va?!1:!0}function ac(va,Ka){const sb=v.definition(va.type);sb||l.error("Unrecognized transform type: "+l.stringValue(va.type));var Pb=sb.type.toLowerCase();var Mb=Oc(sb,va,Ka);Pb=new S(Pb,null,Mb,void 0);va.signal&&Ka.addSignal(va.signal,Ka.proxy(Pb));Pb.metadata=sb.metadata||{};return Pb}function Oc(va,Ka,sb){const Pb={},Mb=va.params.length;for(let Yb=0;Yb<Mb;++Yb){const ec=va.params[Yb];Pb[ec.name]=Sc(ec,Ka,sb)}return Pb}function Sc(va,Ka,sb){const Pb=va.type,
Mb=Ka[va.name];if("index"===Pb)return pd(va,Ka,sb);if(void 0===Mb)va.required&&l.error("Missing required "+l.stringValue(Ka.type)+" parameter: "+l.stringValue(va.name));else return"param"===Pb?Rd(va,Ka,sb):"projection"===Pb?sb.projectionRef(Ka[va.name]):va.array&&!la(Mb)?Mb.map(Yb=>Bc(va,Yb,sb)):Bc(va,Mb,sb)}function Bc(va,Ka,sb){const Pb=va.type;return la(Ka)?"expr"===Pb?l.error("Expression references can not be signals."):"field"===Pb?sb.fieldRef(Ka):"compare"===Pb?sb.compareRef(Ka):sb.signalRef(Ka.signal):
(va=va.expr||"field"===Pb)&&Ka&&Ka.expr?sb.exprRef(Ka.expr,Ka.as):va&&Ka&&Ka.field?ia(Ka.field,Ka.as):"expr"===Pb?w.parseExpression(Ka,sb):"data"===Pb?U(sb.getData(Ka).values):"field"===Pb?ia(Ka):"compare"===Pb?sb.compareRef(Ka):Ka}function pd(va,Ka,sb){l.isString(Ka.from)||l.error('Lookup "from" parameter must be a string literal.');return sb.getData(Ka.from).lookupRef(sb,Ka.key)}function Rd(va,Ka,sb){Ka=Ka[va.name];return va.array?(l.isArray(Ka)||l.error("Expected an array of sub-parameters. Instead: "+
l.stringValue(Ka)),Ka.map(Pb=>hd(va,Pb,sb))):hd(va,Ka,sb)}function hd(va,Ka,sb){const Pb=va.params.length;let Mb;for(let Yb=0;Yb<Pb;++Yb){Mb=va.params[Yb];for(const ec in Mb.key)if(Mb.key[ec]!==Ka[ec]){Mb=null;break}if(Mb)break}Mb||l.error("Unsupported parameter: "+l.stringValue(Ka));va=l.extend(Oc(Mb,Ka,sb),Mb.key);return U(sb.add(Te(va)))}function cd(va,Ka,sb){let Pb,Mb,Yb,ec;if(!va)Yb=U(sb.add(qe(null,[{}])));else if(Pb=va.facet)Ka||l.error("Only group marks can be faceted."),null!=Pb.field?Yb=
ec=Dd(Pb,sb):(va.data?ec=U(sb.getData(va.data).aggregate):(Ka=ac(l.extend({type:"aggregate",groupby:l.array(Pb.groupby)},Pb.aggregate),sb),Ka.params.key=sb.keyRef(Pb.groupby),Ka.params.pulse=Dd(Pb,sb),Yb=ec=U(sb.add(Ka))),Mb=sb.keyRef(Pb.groupby,!0));Yb||(Yb=Dd(va,sb));return{key:Mb,pulse:Yb,parent:ec}}function Dd(va,Ka){return va.$ref?va:va.data&&va.data.$ref?va.data:U(Ka.getData(va.data).output)}function cb(va,Ka,sb,Pb,Mb){this.scope=va;this.input=Ka;this.output=sb;this.values=Pb;this.aggregate=
Mb;this.index={}}function yb(va){return l.isString(va)?va:null}function Sb(va,Ka,sb){const Pb=ja(sb.op,sb.field);let Mb;if(Ka.ops)for(let Yb=0,ec=Ka.as.length;Yb<ec;++Yb){if(Ka.as[Yb]===Pb)return}else Ka.ops=["count"],Ka.fields=[null],Ka.as=["count"];sb.op&&(Ka.ops.push((Mb=sb.op.signal)?va.signalRef(Mb):sb.op),Ka.fields.push(va.fieldRef(sb.field)),Ka.as.push(Pb))}function ld(va,Ka,sb,Pb,Mb,Yb,ec){sb=Ka[sb]||(Ka[sb]={});var Tc=l.isObject(Yb)?("descending"===Yb.order?"-":"+")+ja(Yb.op,Yb.field):"";
let Ic=yb(Mb);if(null!=Ic){va=Ka.scope;Ic+=Tc?"|"+Tc:"";var bd=sb[Ic]}bd||(bd=Yb?{field:Le,pulse:Ka.countsRef(va,Mb,Yb)}:{field:va.fieldRef(Mb),pulse:U(Ka.output)},Tc&&(bd.sort=va.sortRef(Yb)),va=va.add(new S(Pb,void 0,bd,void 0)),ec&&(Ka.index[Mb]=va),bd=U(va),null!=Ic&&(sb[Ic]=bd));return bd}function xd(va,Ka,sb){var Pb=va.from.facet;const Mb=Pb.name,Yb=Dd(Pb,Ka);let ec;Pb.name||l.error("Facet must have a name: "+l.stringValue(Pb));Pb.data||l.error("Facet must reference a data set: "+l.stringValue(Pb));
Pb.field?ec=Ka.add(sa({field:Ka.fieldRef(Pb.field),pulse:Yb})):Pb.groupby?ec=Ka.add(Fe({key:Ka.keyRef(Pb.groupby),group:U(Ka.proxy(sb.parent)),pulse:Yb})):l.error("Facet must specify groupby or field: "+l.stringValue(Pb));Ka=Ka.fork();sb=Ka.add(qe());Pb=Ka.add(jc({pulse:U(sb)}));Ka.addData(Mb,new cb(Ka,sb,sb,Pb));Ka.addSignal("parent",null);ec.params.subflow={$subflow:Ka.parse(va).toRuntime()}}function Pd(va,Ka,sb){sb=Ka.add(sa({pulse:sb.pulse}));Ka=Ka.fork();Ka.add(jc());Ka.addSignal("parent",null);
sb.params.subflow={$subflow:Ka.parse(va).toRuntime()}}function me(va,Ka,sb){const Pb=va.remove,Mb=va.insert,Yb=va.toggle,ec=va.modify,Tc=va.values,Ic=Ka.add(new S("operator",void 0,void 0,void 0));va="if("+va.trigger+',modify("'+sb+'",'+[Mb,Pb,Yb,ec,Tc].map(bd=>null==bd?"null":bd).join(",")+"),0)";Ka=w.parseExpression(va,Ka);Ic.update=Ka.$expr;Ic.params=Ka.$params}function Ha(va,Ka){var sb=dc(va),Pb="group"===va.type,Mb=va.from&&va.from.facet;const Yb=va.overlap;let ec=va.layout||"scope"===sb||"frame"===
sb,Tc,Ic,bd,od,Nd,Wd;const rd="mark"===sb||ec||Mb,Ge=cd(va.from,Pb,Ka);Ic=Ka.add(Ie({key:Ge.key||(va.key?ia(va.key):void 0),pulse:Ge.pulse,clean:!Pb}));const Hd=U(Ic);Ic=bd=Ka.add(qe({pulse:Hd}));Ic=Ka.add(Pe({markdef:hc(va),interactive:Ac(va.interactive,Ka),clip:jb(va.clip,Ka),context:{$context:!0},groups:Ka.lookup(),parent:Ka.signals.parent?Ka.signalRef("parent"):null,index:Ka.markpath(),pulse:U(Ic)}));var se=U(Ic);Ic=od=Ka.add(nf(E(va.encode,va.type,sb,va.style,Ka,{mod:!1,pulse:se})));Ic.params.parent=
Ka.encode();va.transform&&va.transform.forEach(oe=>{oe=ac(oe,Ka);const uf=oe.metadata;(uf.generates||uf.changes)&&l.error("Mark transforms should not generate new data.");uf.nomod||(od.params.mod=!0);oe.params.pulse=U(Ic);Ka.add(Ic=oe)});va.sort&&(Ic=Ka.add(Ec({sort:Ka.compareRef(va.sort),pulse:U(Ic)})));sb=U(Ic);if(Mb||ec)ec=Ka.add(tc({layout:Ka.objectProperty(va.layout),legends:Ka.legends,mark:se,pulse:sb})),Wd=U(ec);const $d=Ka.add(ef({mark:se,pulse:Wd||sb}));se=U($d);Pb&&(rd&&(Tc=Ka.operators,
Tc.pop(),ec&&Tc.pop()),Ka.pushState(sb,Wd||se,Hd),Mb?xd(va,Ka,Ge):rd?Pd(va,Ka,Ge):Ka.parse(va),Ka.popState(),rd&&(ec&&Tc.push(ec),Tc.push($d)));Yb&&(se=Ya(Yb,se,Ka));Pb=Ka.add(mb({pulse:se}));Mb=Ka.add(jc({pulse:U(Pb)},void 0,Ka.parent()));null!=va.name&&(Nd=va.name,Ka.addData(Nd,new cb(Ka,bd,Pb,Mb)),va.on&&va.on.forEach(oe=>{(oe.insert||oe.remove||oe.toggle)&&l.error("Marks only support modify triggers.");me(oe,Ka,Nd)}))}function Ya(va,Ka,sb){const Pb=va.method,Mb=va.bound,Yb=va.separation;Ka={separation:la(Yb)?
sb.signalRef(Yb.signal):Yb,method:la(Pb)?sb.signalRef(Pb.signal):Pb,pulse:Ka};va.order&&(Ka.sort=sb.compareRef({field:va.order}));Mb&&(va=Mb.tolerance,Ka.boundTolerance=la(va)?sb.signalRef(va.signal):+va,Ka.boundScale=sb.scaleRef(Mb.scale),Ka.boundOrient=Mb.orient);return U(sb.add(vf(Ka)))}function pb(va,Ka){const sb=Ka.config.legend,Pb=va.encode||{},Mb=ab(va,sb),Yb=Pb.legend||{},ec=Yb.name||void 0,Tc=Yb.interactive,Ic=Yb.style,bd={};let od=0,Nd,Wd;ie.forEach($d=>va[$d]?(bd[$d]=va[$d],od=od||va[$d]):
0);od||l.error("Missing valid scale for legend.");var rd=Db(va,Ka.scaleType(od));const Ge={title:null!=va.title,scales:bd,type:rd,vgrad:"symbol"!==rd&&Mb.isVertical()},Hd=U(Ka.add(qe(null,[Ge]))),se=U(Ka.add(Je(Wd={type:rd,scale:Ka.scaleRef(od),count:Ka.objectProperty(Mb("tickCount")),limit:Ka.property(Mb("symbolLimit")),values:Ka.objectProperty(va.values),minstep:Ka.property(va.tickMinStep),formatType:Ka.property(va.formatType),formatSpecifier:Ka.property(va.format)})));"gradient"===rd?(rd=[Jb(va,
od,sb,Pb.gradient),wc(va,sb,Pb.labels,se)],Wd.count=Wd.count||Ka.signalRef(`max(2,2*floor((${B(Mb.gradientLength())})/100))`)):"discrete"===rd?rd=[bc(va,od,sb,Pb.gradient,se),wc(va,sb,Pb.labels,se)]:(Nd=kc(va,sb),rd=[$c(va,sb,Pb,se,B(Nd.columns))],Wd.size=pc(va,Ka,rd[0].marks));rd=[db({role:"legend-entry",from:Hd,encode:{enter:{x:{value:0},y:{value:0}}},marks:rd,layout:Nd,interactive:Tc})];Ge.title&&rd.push(vc(va,sb,Pb.title,Hd));return Ha(db({role:"legend",from:Hd,encode:d(Gb(Mb,va,sb),Yb,zd),marks:rd,
aria:Mb("aria"),description:Mb("description"),zindex:Mb("zindex"),name:ec,interactive:Tc,style:Ic}),Ka)}function Db(va,Ka){let sb=va.type||"symbol";va.type||1!==Xb(va)||!va.fill&&!va.stroke||(sb=L.isContinuous(Ka)?"gradient":L.isDiscretizing(Ka)?"discrete":"symbol");return"gradient"!==sb?sb:L.isDiscretizing(Ka)?"discrete":"gradient"}function Xb(va){return ie.reduce((Ka,sb)=>Ka+(va[sb]?1:0),0)}function Gb(va,Ka,sb){const Pb={enter:{},update:{}};f(Pb,{orient:va("orient"),offset:va("offset"),padding:va("padding"),
titlePadding:va("titlePadding"),cornerRadius:va("cornerRadius"),fill:va("fillColor"),stroke:va("strokeColor"),strokeWidth:sb.strokeWidth,strokeDash:sb.strokeDash,x:va("legendX"),y:va("legendY"),format:Ka.format,formatType:Ka.formatType});return Pb}function pc(va,Ka,sb){const Pb=B(ic("size",va,sb));va=B(ic("strokeWidth",va,sb));(sb=Ba("fontSize",sb[1].encode))||(sb=(sb=Ka.config.style["guide-label"])&&sb.fontSize);sb=B(sb);return w.parseExpression(`max(ceil(sqrt(${Pb})+${va}),${sb})`,Ka)}function ic(va,
Ka,sb){return Ka[va]?`scale("${Ka[va]}",datum)`:Ba(va,sb[0].encode)}function ib(va,Ka){va=l.isString(va)?{text:va}:va;const sb=ab(va,Ka.config.title),Pb=va.encode||{};var Mb=Pb.group||{};const Yb=Mb.name||void 0,ec=Mb.interactive,Tc=Mb.style,Ic=[],bd=U(Ka.add(qe(null,[{}])));Ic.push(Nb(va,sb,xb(va),bd));va.subtitle&&Ic.push(cc(va,sb,Pb.subtitle,bd));va={enter:{},update:{}};f(va,{orient:sb("orient"),anchor:sb("anchor"),align:{signal:Md},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:sb("limit"),frame:sb("frame"),offset:sb("offset")||0,padding:sb("subtitlePadding")});Mb=d(va,Mb,zd);return Ha(db({role:"title",from:bd,encode:Mb,marks:Ic,aria:sb("aria"),description:sb("description"),zindex:sb("zindex"),name:Yb,interactive:ec,style:Tc}),Ka)}function xb(va){const Ka=va.encode;return Ka&&Ka.title||l.extend({name:va.name,interactive:va.interactive,style:va.style},Ka)}function Nb(va,Ka,sb,Pb){var Mb={value:0};Mb={enter:{opacity:Mb},update:{opacity:{value:1}},exit:{opacity:Mb}};
f(Mb,{text:va.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ka("dx"),dy:Ka("dy"),fill:Ka("color"),font:Ka("font"),fontSize:Ka("fontSize"),fontStyle:Ka("fontStyle"),fontWeight:Ka("fontWeight"),lineHeight:Ka("lineHeight")},{align:Ka("align"),angle:Ka("angle"),baseline:Ka("baseline")});return ub({type:"text",role:"title-text",style:"group-title",from:Pb,encode:Mb},sb)}function cc(va,Ka,sb,Pb){var Mb={value:0};
Mb={enter:{opacity:Mb},update:{opacity:{value:1}},exit:{opacity:Mb}};f(Mb,{text:va.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ka("dx"),dy:Ka("dy"),fill:Ka("subtitleColor"),font:Ka("subtitleFont"),fontSize:Ka("subtitleFontSize"),fontStyle:Ka("subtitleFontStyle"),fontWeight:Ka("subtitleFontWeight"),lineHeight:Ka("subtitleLineHeight")},{align:Ka("align"),angle:Ka("angle"),baseline:Ka("baseline")});return ub({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Pb,encode:Mb},sb)}function qc(va,Ka){const sb=[];va.transform&&va.transform.forEach(Pb=>{sb.push(ac(Pb,Ka))});va.on&&va.on.forEach(Pb=>{me(Pb,Ka,va.name)});Ka.addDataPipeline(va.name,oc(va,Ka,sb))}function oc(va,Ka,sb){const Pb=[];let Mb=null,Yb=!1,ec=!1,Tc,Ic,bd,od;va.values?da(va.values)||da(va.format)?(Pb.push(Ib(Ka,va)),Pb.push(Mb=Kc())):Pb.push(Mb=Kc({$ingest:va.values,$format:va.format})):va.url?da(va.url)||da(va.format)?(Pb.push(Ib(Ka,va)),
Pb.push(Mb=Kc())):Pb.push(Mb=Kc({$request:va.url,$format:va.format})):va.source&&(Mb=Tc=l.array(va.source).map(Nd=>U(Ka.getData(Nd).output)),Pb.push(null));va=0;for(Ic=sb.length;va<Ic;++va)bd=sb[va],od=bd.metadata,Mb||od.source||Pb.push(Mb=Kc()),Pb.push(bd),od.generates&&(ec=!0),od.modifies&&!ec&&(Yb=!0),od.source?Mb=bd:od.changes&&(Mb=null);Tc&&(Ic=Tc.length-1,Pb[0]=fb({derive:Yb,pulse:Ic?Tc:Tc[0]}),(Yb||Ic)&&Pb.splice(1,0,Kc()));Mb||Pb.push(Kc());Pb.push(jc({}));return Pb}function Kc(va){va=qe({},
va);va.metadata={source:!0};return va}function Ib(va,Ka){return he({url:Ka.url?va.property(Ka.url):void 0,async:Ka.async?va.property(Ka.async):void 0,values:Ka.values?va.property(Ka.values):void 0,format:va.objectProperty(Ka.format)})}function sc(va,Ka,sb,Pb){let Mb;if(Ka&&l.hasOwnProperty(Ka,va))return Ka[va];if(l.hasOwnProperty(sb,va))return sb[va];if(va.startsWith("title")){switch(va){case "titleColor":Mb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Mb=va[5].toLowerCase()+
va.slice(6)}return Pb["guide-title"][Mb]}if(va.startsWith("label")){switch(va){case "labelColor":Mb="fill";break;case "labelFont":case "labelFontSize":Mb=va[5].toLowerCase()+va.slice(6)}return Pb["guide-label"][Mb]}return null}function zc(va){const Ka={};for(const sb of va)if(sb)for(const Pb in sb)Ka[Pb]=1;return Object.keys(Ka)}function rc(va,Ka,sb,Pb){var Mb=ab(va,Ka);Ka=va.orient;let Yb,ec;const Tc={enter:Yb={opacity:sd},update:ec={opacity:Zc},exit:{opacity:sd}};f(Tc,{stroke:Mb("domainColor"),
strokeCap:Mb("domainCap"),strokeDash:Mb("domainDash"),strokeDashOffset:Mb("domainDashOffset"),strokeWidth:Mb("domainWidth"),strokeOpacity:Mb("domainOpacity")});Mb={scale:va.scale,range:0};va={scale:va.scale,range:1};Yb.x=ec.x=xe(Ka,Mb,sd);Yb.x2=ec.x2=xe(Ka,va);Yb.y=ec.y=Me(Ka,Mb,sd);Yb.y2=ec.y2=Me(Ka,va);return ub({type:"rule",role:"axis-domain",from:Pb,encode:Tc},sb)}function Jc(va,Ka,sb,Pb,Mb){var Yb=ab(va,Ka);Ka=va.orient;var ec=va.gridScale;const Tc=Wc(Ka,1,-1);a:{var Ic=va.offset;if(1!==Tc)if(l.isObject(Ic)){for(var bd=
Ic=l.extend({},Ic);null!=bd.mult;)if(l.isObject(bd.mult))bd=bd.mult=l.extend({},bd.mult);else{bd.mult=la(Tc)?{signal:`(${bd.mult}) * (${Tc.signal})`}:bd.mult*Tc;break a}bd.mult=Tc}else Ic=la(Tc)?{signal:`(${Tc.signal}) * (${Ic||0})`}:Tc*(Ic||0)}const od=Ic;let Nd;const Wd={enter:Ic={opacity:sd},update:Nd={opacity:Zc},exit:bd={opacity:sd}};f(Wd,{stroke:Yb("gridColor"),strokeCap:Yb("gridCap"),strokeDash:Yb("gridDash"),strokeDashOffset:Yb("gridDashOffset"),strokeOpacity:Yb("gridOpacity"),strokeWidth:Yb("gridWidth")});
va={scale:va.scale,field:"value",band:Mb.band,extra:Mb.extra,offset:Mb.offset,round:Yb("tickRound")};Yb=xe(Ka,{signal:"height"},{signal:"width"});Mb=ec?{scale:ec,range:0,mult:Tc,offset:od}:{value:0,offset:od};ec=ec?{scale:ec,range:1,mult:Tc,offset:od}:l.extend(Yb,{mult:Tc,offset:od});Ic.x=Nd.x=xe(Ka,va,Mb);Ic.y=Nd.y=Me(Ka,va,Mb);Ic.x2=Nd.x2=Me(Ka,ec);Ic.y2=Nd.y2=xe(Ka,ec);bd.x=xe(Ka,va);bd.y=Me(Ka,va);return ub({type:"rule",role:"axis-grid",key:"value",from:Pb,encode:Wd},sb)}function Mc(va,Ka,sb,
Pb,Mb,Yb){const ec=ab(va,Ka);Ka=va.orient;const Tc=Wc(Ka,-1,1);let Ic,bd,od;const Nd={enter:Ic={opacity:sd},update:od={opacity:Zc},exit:bd={opacity:sd}};f(Nd,{stroke:ec("tickColor"),strokeCap:ec("tickCap"),strokeDash:ec("tickDash"),strokeDashOffset:ec("tickDashOffset"),strokeOpacity:ec("tickOpacity"),strokeWidth:ec("tickWidth")});Mb=Be(Mb);Mb.mult=Tc;va={scale:va.scale,field:"value",band:Yb.band,extra:Yb.extra,offset:Yb.offset,round:ec("tickRound")};od.y=Ic.y=xe(Ka,sd,va);od.y2=Ic.y2=xe(Ka,Mb);bd.x=
xe(Ka,va);od.x=Ic.x=Me(Ka,sd,va);od.x2=Ic.x2=Me(Ka,Mb);bd.y=Me(Ka,va);return ub({type:"rule",role:"axis-tick",key:"value",from:Pb,encode:Nd},sb)}function Nc(va,Ka,sb,Pb,Mb){return{signal:'flush(range("'+va+'"), scale("'+va+'", datum.value), '+Ka+","+sb+","+Pb+","+Mb+")"}}function md(va,Ka,sb,Pb,Mb,Yb){Ka=ab(va,Ka);const ec=va.orient;va=va.scale;var Tc=Wc(ec,-1,1),Ic=B(Ka("labelFlush")),bd=B(Ka("labelFlushOffset")),od=Ka("labelAlign"),Nd=Ka("labelBaseline");let Wd=0===Ic||!!Ic;var rd=Be(Mb);rd.mult=
Tc;rd.offset=Be(Ka("labelPadding")||0);rd.offset.mult=Tc;Tc={scale:va,field:"value",band:.5,offset:lb(Yb.offset,Ka("labelOffset"))};Yb=Wd?Nc(va,Ic,'"left"','"right"','"center"'):{value:"center"};Mb=la(ec)?yf(`${ec.signal} === '${"right"}'`,"left","right"):"right"===ec?{value:"left"}:{value:"right"};Yb=xe(ec,Yb,Mb);Mb=xe(ec,Ee(ec,"bottom","top"),Wd?Nc(va,Ic,'"top"','"bottom"','"middle"'):{value:"middle"});Ic=Nc(va,Ic,`-(${bd})`,bd,0);Wd=Wd&&bd;rd={opacity:sd,x:xe(ec,Tc,rd),y:Me(ec,Tc,rd)};rd={enter:rd,
update:bd={opacity:Zc,text:{field:"label"},x:rd.x,y:rd.y,align:Yb,baseline:Mb},exit:{opacity:sd,x:rd.x,y:rd.y}};f(rd,{dx:!od&&Wd?xe(ec,Ic):null,dy:!Nd&&Wd?Me(ec,Ic):null});f(rd,{angle:Ka("labelAngle"),fill:Ka("labelColor"),fillOpacity:Ka("labelOpacity"),font:Ka("labelFont"),fontSize:Ka("labelFontSize"),fontWeight:Ka("labelFontWeight"),fontStyle:Ka("labelFontStyle"),limit:Ka("labelLimit"),lineHeight:Ka("labelLineHeight")},{align:od,baseline:Nd});od=Ka("labelBound");Nd=(Nd=Ka("labelOverlap"))||od?{separation:Ka("labelSeparation"),
method:Nd,order:"datum.index",bound:od?{scale:va,orient:ec,tolerance:od}:null}:void 0;bd.align!==Yb&&(bd.align=Qe(bd.align,Yb));bd.baseline!==Mb&&(bd.baseline=Qe(bd.baseline,Mb));return ub({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Pb,encode:rd,overlap:Nd},sb)}function wd(va,Ka,sb,Pb){Ka=ab(va,Ka);const Mb=va.orient,Yb=Wc(Mb,-1,1);let ec,Tc;const Ic={enter:ec={opacity:sd,anchor:Be(Ka("titleAnchor",null)),align:{signal:Md}},update:Tc=l.extend({},ec,{opacity:Zc,text:Be(va.title)}),
exit:{opacity:sd}};va={signal:`lerp(range("${va.scale}"), ${Sa(0,1,.5)})`};Tc.x=xe(Mb,va);Tc.y=Me(Mb,va);va=la(Yb)?{signal:`(${Yb.signal}) * ${90}`}:{value:90*Yb};ec.angle=xe(Mb,sd,va);ec.baseline=xe(Mb,Ee(Mb,"bottom","top"),{value:"bottom"});Tc.angle=ec.angle;Tc.baseline=ec.baseline;f(Ic,{fill:Ka("titleColor"),fillOpacity:Ka("titleOpacity"),font:Ka("titleFont"),fontSize:Ka("titleFontSize"),fontStyle:Ka("titleFontStyle"),fontWeight:Ka("titleFontWeight"),limit:Ka("titleLimit"),lineHeight:Ka("titleLineHeight")},
{align:Ka("titleAlign"),angle:Ka("titleAngle"),baseline:Ka("titleBaseline")});Cd(Ka,Mb,Ic,sb);Ic.update.align=Qe(Ic.update.align,ec.align);Ic.update.angle=Qe(Ic.update.angle,ec.angle);Ic.update.baseline=Qe(Ic.update.baseline,ec.baseline);return ub({type:"text",role:"axis-title",style:"guide-title",from:Pb,encode:Ic},sb)}function Cd(va,Ka,sb,Pb){const Mb=(ec,Tc)=>null!=ec?(sb.update[Tc]=Qe(Be(ec),sb.update[Tc]),!1):g(Tc,Pb)?!1:!0,Yb=Mb(va("titleX"),"x");va=Mb(va("titleY"),"y");sb.enter.auto=va===Yb?
Be(va):xe(Ka,Be(va),Be(Yb))}function Gd(va,Ka,sb){const Pb=l.array(va.signals),Mb=l.array(va.scales);sb||Pb.forEach(Yb=>H(Yb,Ka));l.array(va.projections).forEach(Yb=>{{const ec=Ka.config.projection||{},Tc={};for(const Ic in Yb)"name"!==Ic&&(Tc[Ic]=Ma(Yb[Ic],Ic,Ka));for(const Ic in ec)null==Tc[Ic]&&(Tc[Ic]=Ma(ec[Ic],Ic,Ka));Ka.addProjection(Yb.name,Tc)}});Mb.forEach(Yb=>{{const ec=Yb.type||"linear";L.isValidScaleType(ec)||l.error("Unrecognized scale type: "+l.stringValue(ec));Ka.addScale(Yb.name,{type:ec,
domain:void 0})}});l.array(va.data).forEach(Yb=>qc(Yb,Ka));Mb.forEach(Yb=>{{const Ic=Ka.getScale(Yb.name).params;let bd;Ic.domain=W(Yb.domain,Yb,Ka);null!=Yb.range&&(Ic.range=Ra(Yb,Ka,Ic));if(null!=Yb.interpolate){var ec=Yb.interpolate,Tc=Ic;Tc.interpolate=za(ec.type||ec);null!=ec.gamma&&(Tc.interpolateGamma=za(ec.gamma))}null!=Yb.nice&&(ec=Yb.nice,ec=l.isObject(ec)?{interval:za(ec.interval),step:za(ec.step)}:za(ec),Ic.nice=ec);null!=Yb.bins&&(ec=Yb.bins,ec=ec.signal||l.isArray(ec)?pa(ec,Ka):Ka.objectProperty(ec),
Ic.bins=ec);for(bd in Yb)l.hasOwnProperty(Ic,bd)||"name"===bd||(Ic[bd]=za(Yb[bd],Ka))}});(sb||Pb).forEach(Yb=>Ta(Yb,Ka));l.array(va.axes).forEach(Yb=>{var ec=Ka.config,Tc=ec.style,Ic=ec.axis,bd="band"===Ka.scaleType(Yb.scale)&&ec.axisBand,od=Yb.orient;if(la(od)){var Nd=zc([ec.axisX,ec.axisY]);var Wd=zc([ec.axisTop,ec.axisBottom,ec.axisLeft,ec.axisRight]);var rd={};for(Xd of Nd)rd[Xd]=xe(od,sc(Xd,ec.axisX,Ic,Tc),sc(Xd,ec.axisY,Ic,Tc));Nd={};for(Xd of Wd){Wd=Nd;var Ge=Xd;var Hd=od.signal;var se=sc(Xd,
ec.axisTop,Ic,Tc),$d=sc(Xd,ec.axisBottom,Ic,Tc),oe=sc(Xd,ec.axisLeft,Ic,Tc),uf=sc(Xd,ec.axisRight,Ic,Tc);Hd={signal:(null!=oe?`${Hd} === '${"left"}' ? (${re(oe)}) : `:"")+(null!=$d?`${Hd} === '${"bottom"}' ? (${re($d)}) : `:"")+(null!=uf?`${Hd} === '${"right"}' ? (${re(uf)}) : `:"")+(null!=se?`${Hd} === '${"top"}' ? (${re(se)}) : `:"")+"(null)"};Wd[Ge]=Hd}}else rd="top"===od||"bottom"===od?ec.axisX:ec.axisY,Nd=ec["axis"+od[0].toUpperCase()+od.slice(1)];rd=rd||Nd||bd?l.extend({},Ic,rd,Nd,bd):Ic;var Xd=
Yb.encode||{};ec=Xd.axis||{};Tc=ec.name||void 0;Ic=ec.interactive;bd=ec.style;Hd=od=ab(Yb,rd);Nd=Hd("tickBand");Wd=Hd("tickOffset");Nd?Nd.signal?(Ge={signal:`(${Nd.signal}) === 'extent' ? 1 : 0.5`},Hd={signal:`(${Nd.signal}) === 'extent'`},l.isObject(Wd)||(Wd={signal:`(${Nd.signal}) === 'extent' ? 0 : ${Wd}`})):"extent"===Nd?(Ge=1,Hd=!0,Wd=0):(Ge=.5,Hd=!1):(Ge=Hd("bandPosition"),Hd=Hd("tickExtra"));Ge={extra:Hd,band:Ge,offset:Wd};Hd={scale:Yb.scale,ticks:!!od("ticks"),labels:!!od("labels"),grid:!!od("grid"),
domain:!!od("domain"),title:null!=Yb.title};Nd=U(Ka.add(qe({},[Hd])));se=U(Ka.add(Yd({scale:Ka.scaleRef(Yb.scale),extra:Ka.property(Ge.extra),count:Ka.objectProperty(Yb.tickCount),values:Ka.objectProperty(Yb.values),minstep:Ka.property(Yb.tickMinStep),formatType:Ka.property(Yb.formatType),formatSpecifier:Ka.property(Yb.format)})));Wd=[];Hd.grid&&Wd.push(Jc(Yb,rd,Xd.grid,se,Ge));if(Hd.ticks){var Se=od("tickSize");Wd.push(Mc(Yb,rd,Xd.ticks,se,Se,Ge))}Hd.labels&&(Se=Hd.ticks?Se:0,Wd.push(md(Yb,rd,Xd.labels,
se,Se,Ge)));Hd.domain&&Wd.push(rc(Yb,rd,Xd.domain,Nd));Hd.title&&Wd.push(wd(Yb,rd,Xd.title,Nd));Se=od;rd={enter:{},update:{}};f(rd,{orient:Se("orient"),offset:Se("offset")||0,position:O(Yb.position,0),titlePadding:Se("titlePadding"),minExtent:Se("minExtent"),maxExtent:Se("maxExtent"),range:{signal:`abs(span(range("${Yb.scale}")))`},translate:Se("translate"),format:Yb.format,formatType:Yb.formatType});Yb=rd;return Yb=Ha(db({role:"axis",from:Nd,encode:d(Yb,ec,zd),marks:Wd,aria:od("aria"),description:od("description"),
zindex:od("zindex"),name:Tc,interactive:Ic,style:bd}),Ka)});l.array(va.marks).forEach(Yb=>Ha(Yb,Ka));l.array(va.legends).forEach(Yb=>pb(Yb,Ka));va.title&&ib(va.title,Ka);Ka.parseLambdas();return Ka}function Sd(va,Ka){var sb=Ka.config;const Pb=U(Ka.root=Ka.add(new S("operator",void 0,void 0,void 0))),Mb=ne(va,sb);Mb.forEach(Tc=>H(Tc,Ka));Ka.description=va.description||sb.description;Ka.eventConfig=sb.events;Ka.legends=Ka.objectProperty(sb.legend&&sb.legend.layout);Ka.locale=sb.locale;sb=Ka.add(qe());
const Yb=Ka.add(nf(E(d({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},va.encode),"group","frame",va.style,Ka,{pulse:U(sb)}))),ec=Ka.add(tc({layout:Ka.objectProperty(va.layout),legends:Ka.legends,autosize:Ka.signalRef("autosize"),mark:Pb,pulse:U(Yb)}));Ka.operators.pop();Ka.pushState(U(Yb),U(ec),null);Gd(va,Ka,Mb);Ka.operators.push(ec);va=Ka.add(ef({mark:Pb,pulse:U(ec)}));va=Ka.add(mb({pulse:U(va)}));va=Ka.add(jc({pulse:U(va)}));Ka.addData("root",new cb(Ka,
sb,sb,va));return Ka}function fe(va,Ka){return Ka&&Ka.signal?{name:va,update:Ka.signal}:{name:va,value:Ka}}function ne(va,Ka){const sb=ec=>O(va[ec],Ka[ec]),Pb=[fe("background",sb("background")),fe("autosize",u(sb("autosize"))),fe("padding",t(sb("padding"))),fe("width",sb("width")||0),fe("height",sb("height")||0)],Mb=Pb.reduce((ec,Tc)=>(ec[Tc.name]=Tc,ec),{}),Yb={};l.array(va.signals).forEach(ec=>{l.hasOwnProperty(Mb,ec.name)?ec=l.extend(Mb[ec.name],ec):Pb.push(ec);Yb[ec.name]=ec});l.array(Ka.signals).forEach(ec=>
{l.hasOwnProperty(Yb,ec.name)||l.hasOwnProperty(Mb,ec.name)||Pb.push(ec)});return Pb}function ze(va,Ka){this.config=va||{};this.options=Ka||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ae(va){this.config=va.config;this.options=va.options;
this.legends=va.legends;this.field=Object.create(va.field);this.signals=Object.create(va.signals);this.lambdas=Object.create(va.lambdas);this.scales=Object.create(va.scales);this.events=Object.create(va.events);this.data=Object.create(va.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++va._nextsub[0];this._nextsub=va._nextsub;this._parent=va._parent.slice();this._encode=va._encode.slice();this._lookup=va._lookup.slice();this._markpath=va._markpath}function De(va){return(l.isArray(va)?
Fd:Zd)(va)}function Fd(va){const Ka=va.length;let sb="[";for(let Pb=0;Pb<Ka;++Pb){const Mb=va[Pb];sb+=(0<Pb?",":"")+(l.isObject(Mb)?Mb.signal||De(Mb):l.stringValue(Mb))}return sb+"]"}function Zd(va){let Ka="{",sb=0,Pb,Mb;for(Pb in va)Mb=va[Pb],Ka+=(1<++sb?",":"")+l.stringValue(Pb)+":"+(l.isObject(Mb)?Mb.signal||De(Mb):l.stringValue(Mb));return Ka+"}"}function Ke(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,
arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},
"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Be=va=>l.isObject(va)&&!l.isArray(va)?l.extend({},va):{value:va},tf=va=>l.isString(va)?l.stringValue(va):va.signal?`(${va.signal})`:C(va),Td=(va,Ka,sb,Pb)=>`(${va}(${[Ka,sb,Pb].map(n).join(",")})+'')`,be=["value","update","init","react","bind"],Le=ia("key"),ce={code:"_.$value",ast:{type:"Identifier",value:"value"}},yd=va=>(Ka,sb,Pb)=>new S(va,sb,Ka||void 0,Pb),Ad=yd("aggregate"),Yd=yd("axisticks"),ef=yd("bound"),qe=yd("collect"),Ed=yd("compare"),Ie=yd("datajoin"),nf=yd("encode"),xc=yd("expression"),
Fe=yd("facet"),ge=yd("field"),Zb=yd("key"),Je=yd("legendentries"),he=yd("load"),Pe=yd("mark"),cf=yd("multiextent"),Ze=yd("multivalues"),vf=yd("overlap"),Te=yd("params"),sa=yd("prefacet"),Aa=yd("projection"),Xa=yd("proxy"),fb=yd("relay"),mb=yd("render"),Wb=yd("scale"),jc=yd("sieve"),Ec=yd("sortitems"),tc=yd("viewlayout"),Fc=yd("values");let ed=0;const fd={min:"min",max:"max",count:"sum"},ie="size shape fill stroke strokeWidth strokeDash opacity".split(" "),zd={name:1,style:1,interactive:1},sd={value:0},
Zc={value:1},Md=Sa(l.stringValue("left"),l.stringValue("right"),l.stringValue("center")),Id=Sa('"top"','"bottom"','"middle"'),Ue=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Sa('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Md}`,zf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Id}) : "top"`;
cb.fromEntries=function(va,Ka){const sb=Ka.length,Pb=Ka[sb-1],Mb=Ka[sb-2];let Yb=Ka[0],ec=null,Tc=1;Yb&&"load"===Yb.type&&(Yb=Ka[1]);for(va.add(Ka[0]);Tc<sb;++Tc)Ka[Tc].params.pulse=U(Ka[Tc-1]),va.add(Ka[Tc]),"aggregate"===Ka[Tc].type&&(ec=Ka[Tc]);return new cb(va,Yb,Mb,Pb,ec)};cb.prototype={countsRef(va,Ka,sb){const Pb=this.counts||(this.counts={}),Mb=yb(Ka);if(null!=Mb){va=this.scope;var Yb=Pb[Mb]}Yb?sb&&sb.field&&Sb(va,Yb.agg.params,sb):(Yb={groupby:va.fieldRef(Ka,"key"),pulse:U(this.output)},
sb&&sb.field&&Sb(va,Yb,sb),sb=va.add(Ad(Yb)),Yb=va.add(qe({pulse:U(sb)})),Yb={agg:sb,ref:U(Yb)},null!=Mb&&(Pb[Mb]=Yb));return Yb.ref},tuplesRef(){return U(this.values)},extentRef(va,Ka){return ld(va,this,"extent","extent",Ka,!1)},domainRef(va,Ka){return ld(va,this,"domain","values",Ka,!1)},valuesRef(va,Ka,sb){return ld(va,this,"vals","values",Ka,sb||!0)},lookupRef(va,Ka){return ld(va,this,"lookup","tupleindex",Ka,!1)},indataRef(va,Ka){return ld(va,this,"indata","tupleindex",Ka,!0,!0)}};const Wc=(va,
Ka,sb)=>{la(va)?(va=va.signal,Ka=yf(`${va} === '${"left"}' || ${va} === '${"top"}'`,Ka,sb)):Ka="left"===va||"top"===va?Ka:sb;return Ka},xe=(va,Ka,sb)=>{la(va)?(va=va.signal,Ka=Ef(`${va} === '${"top"}' || ${va} === '${"bottom"}'`,Ka,sb)):Ka="bottom"===va||"top"===va?Ka:sb;return Ka},Me=(va,Ka,sb)=>{la(va)?(va=va.signal,Ka=Ef(`${va} !== '${"top"}' && ${va} !== '${"bottom"}'`,Ka,sb)):Ka="bottom"===va||"top"===va?sb:Ka;return Ka},Ee=(va,Ka,sb)=>la(va)?yf(`${va.signal} === '${"top"}'`,Ka,sb):"top"===va?
{value:Ka}:{value:sb},Ef=(va,Ka,sb)=>{Ka=null!=Ka?Be(Ka):Ka;sb=null!=sb?Be(sb):sb;if(null!=Ka&&1!==Object.keys(Ka).length||null!=sb&&1!==Object.keys(sb).length)return[l.extend({test:va},Ka)].concat(sb||[]);Ka=Ka?Ka.signal||l.stringValue(Ka.value):null;sb=sb?sb.signal||l.stringValue(sb.value):null;return{signal:`${va} ? (${Ka}) : (${sb})`}},yf=(va,Ka,sb)=>({signal:`${va} ? (${re(Ka)}) : (${re(sb)})`}),re=va=>la(va)?va.signal:null==va?null:l.stringValue(va),Qe=(va,Ka)=>{const sb=va.signal;return sb&&
sb.endsWith("(null)")?{signal:sb.slice(0,-6)+Ka.signal}:va};ze.prototype=Ae.prototype={parse(va){return Gd(va,this)},fork(){return new Ae(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(va){this.operators.push(va);va.id=this.id();va.refs&&(va.refs.forEach(Ka=>
{Ka.$ref=va.id}),va.refs=null);return va},proxy(va){va=va instanceof S?U(va):va;return this.add(Xa({value:va}))},addStream(va){this.streams.push(va);va.id=this.id();return va},addUpdate(va){this.updates.push(va);return va},finish(){function va(Pb,Mb,Yb){Pb&&(Pb=Pb.data||(Pb.data={}),Mb=Pb[Mb]||(Pb[Mb]=[]),Mb.push(Yb))}let Ka,sb;this.root&&(this.root.root=!0);for(Ka in this.signals)this.signals[Ka].signal=Ka;for(Ka in this.scales)this.scales[Ka].scale=Ka;for(Ka in this.data){sb=this.data[Ka];va(sb.input,
Ka,"input");va(sb.output,Ka,"output");va(sb.values,Ka,"values");for(const Pb in sb.index)va(sb.index[Pb],Ka,"index:"+Pb)}return this},pushState(va,Ka,sb){this._encode.push(U(this.add(jc({pulse:va}))));this._parent.push(Ka);this._lookup.push(sb?U(this.proxy(sb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const va=
this._markpath;return++va[va.length-1]},fieldRef(va,Ka){if(l.isString(va))return ia(va,Ka);va.signal||l.error("Unsupported field reference: "+l.stringValue(va));va=va.signal;var sb=this.field[va];sb||(sb={name:this.signalRef(va)},Ka&&(sb.as=Ka),this.field[va]=sb=U(this.add(ge(sb))));return sb},compareRef(va){let Ka=!1;const sb=Mb=>la(Mb)?(Ka=!0,this.signalRef(Mb.signal)):Mb&&Mb.expr?(Ka=!0,this.exprRef(Mb.expr)):Mb,Pb=l.array(va.field).map(sb);va=l.array(va.order).map(sb);return Ka?U(this.add(Ed({fields:Pb,
orders:va}))):{$compare:Pb,$order:va}},keyRef(va,Ka){let sb=!1;const Pb=this.signals;va=l.array(va).map(Mb=>la(Mb)?(sb=!0,U(Pb[Mb.signal])):Mb);return sb?U(this.add(Zb({fields:va,flat:Ka}))):fa(va,Ka)},sortRef(va){if(!va)return va;const Ka=ja(va.op,va.field);va=va.order||"ascending";return va.signal?U(this.add(Ed({fields:Ka,orders:this.signalRef(va.signal)}))):{$compare:Ka,$order:va}},event(va,Ka){const sb=va+":"+Ka;if(!this.events[sb]){const Pb=this.id();this.streams.push({id:Pb,source:va,type:Ka});
this.events[sb]=Pb}return this.events[sb]},hasOwnSignal(va){return l.hasOwnProperty(this.signals,va)},addSignal(va,Ka){this.hasOwnSignal(va)&&l.error("Duplicate signal name: "+l.stringValue(va));Ka=Ka instanceof S?Ka:this.add(new S("operator",Ka,void 0,void 0));return this.signals[va]=Ka},getSignal(va){this.signals[va]||l.error("Unrecognized signal name: "+l.stringValue(va));return this.signals[va]},signalRef(va){if(this.signals[va])return U(this.signals[va]);l.hasOwnProperty(this.lambdas,va)||(this.lambdas[va]=
this.add(new S("operator",null,void 0,void 0)));return U(this.lambdas[va])},parseLambdas(){const va=Object.keys(this.lambdas);for(let sb=0,Pb=va.length;sb<Pb;++sb){var Ka=va[sb];const Mb=w.parseExpression(Ka,this);Ka=this.lambdas[Ka];Ka.params=Mb.$params;Ka.update=Mb.$expr}},property(va){return va&&va.signal?this.signalRef(va.signal):va},objectProperty(va){return va&&l.isObject(va)?this.signalRef(va.signal||De(va)):va},exprRef(va,Ka){va={expr:w.parseExpression(va,this)};Ka&&(va.expr.$name=Ka);return U(this.add(xc(va)))},
addBinding(va,Ka){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(va));this.bindings.push(l.extend({signal:va},Ka))},addScaleProj(va,Ka){l.hasOwnProperty(this.scales,va)&&l.error("Duplicate scale or projection name: "+l.stringValue(va));this.scales[va]=this.add(Ka)},addScale(va,Ka){this.addScaleProj(va,Wb(Ka))},addProjection(va,Ka){this.addScaleProj(va,Aa(Ka))},getScale(va){this.scales[va]||l.error("Unrecognized scale name: "+l.stringValue(va));return this.scales[va]},
scaleRef(va){return U(this.getScale(va))},scaleType(va){return this.getScale(va).params.type},projectionRef(va){return this.scaleRef(va)},projectionType(va){return this.scaleType(va)},addData(va,Ka){l.hasOwnProperty(this.data,va)&&l.error("Duplicate data set name: "+l.stringValue(va));return this.data[va]=Ka},getData(va){this.data[va]||l.error("Undefined data set name: "+l.stringValue(va));return this.data[va]},addDataPipeline(va,Ka){l.hasOwnProperty(this.data,va)&&l.error("Duplicate data set name: "+
l.stringValue(va));return this.addData(va,cb.fromEntries(this,Ka))}};m.AxisDomainRole="axis-domain";m.AxisGridRole="axis-grid";m.AxisLabelRole="axis-label";m.AxisRole="axis";m.AxisTickRole="axis-tick";m.AxisTitleRole="axis-title";m.DataScope=cb;m.FrameRole="frame";m.LegendEntryRole="legend-entry";m.LegendLabelRole="legend-label";m.LegendRole="legend";m.LegendSymbolRole="legend-symbol";m.LegendTitleRole="legend-title";m.MarkRole="mark";m.Scope=ze;m.ScopeRole="scope";m.config=Ke;m.parse=function(va,
Ka,sb){l.isObject(va)||l.error("Input Vega specification must be an object.");Ka=l.mergeConfig(Ke(),Ka,va.config);return Sd(va,new ze(Ka,sb)).toRuntime()};m.signal=H;m.signalUpdates=Ta;m.stream=Y;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ea,z,ob,J){function m(H){if(H&&H.__esModule)return H;var S=Object.create(null);H&&Object.keys(H).forEach(function(U){if("default"!==U){var ia=Object.getOwnPropertyDescriptor(H,U);Object.defineProperty(S,U,ia.get?ia:{enumerable:!0,get:function(){return H[U]}})}});S["default"]=H;return Object.freeze(S)}Object.defineProperty(J,"__esModule",{value:!0});var l=z(16),w=z(28),G=z(30),L=z(39),v=z(40),u=z(44),t=z(49),k=z(51),f=z(52),d=z(53),g=z(55);ob=z(56);Ea=z(57);var a=z(29),
e=z(20),n=z(27),y=z(38),A=z(37),C=z(43),N=z(62),K=z(22),E=z(60),x=z(64),D=z(61);z=m(G);L=m(L);v=m(v);u=m(u);t=m(t);k=m(k);f=m(f);d=m(d);g=m(g);ob=m(ob);Ea=m(Ea);l.extend(w.transforms,z,L,v,u,t,f,k,d,g,ob,Ea);Object.keys(l).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return l[H]}})});Object.keys(a).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return a[H]}})});Object.keys(e).forEach(function(H){"default"!==
H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return e[H]}})});Object.keys(n).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return n[H]}})});Object.keys(y).forEach(function(H){"default"!==H&&Object.defineProperty(J,H,{enumerable:!0,get:function(){return y[H]}})});Object.defineProperty(J,"Dataflow",{enumerable:!0,get:function(){return w.Dataflow}});Object.defineProperty(J,"EventStream",{enumerable:!0,get:function(){return w.EventStream}});Object.defineProperty(J,
"MultiPulse",{enumerable:!0,get:function(){return w.MultiPulse}});Object.defineProperty(J,"Operator",{enumerable:!0,get:function(){return w.Operator}});Object.defineProperty(J,"Parameters",{enumerable:!0,get:function(){return w.Parameters}});Object.defineProperty(J,"Pulse",{enumerable:!0,get:function(){return w.Pulse}});Object.defineProperty(J,"Transform",{enumerable:!0,get:function(){return w.Transform}});Object.defineProperty(J,"changeset",{enumerable:!0,get:function(){return w.changeset}});Object.defineProperty(J,
"definition",{enumerable:!0,get:function(){return w.definition}});Object.defineProperty(J,"ingest",{enumerable:!0,get:function(){return w.ingest}});Object.defineProperty(J,"isTuple",{enumerable:!0,get:function(){return w.isTuple}});Object.defineProperty(J,"transform",{enumerable:!0,get:function(){return w.transform}});Object.defineProperty(J,"transforms",{enumerable:!0,get:function(){return w.transforms}});Object.defineProperty(J,"tupleid",{enumerable:!0,get:function(){return w.tupleid}});Object.defineProperty(J,
"interpolate",{enumerable:!0,get:function(){return A.interpolate}});Object.defineProperty(J,"interpolateColors",{enumerable:!0,get:function(){return A.interpolateColors}});Object.defineProperty(J,"interpolateRange",{enumerable:!0,get:function(){return A.interpolateRange}});Object.defineProperty(J,"quantizeInterpolator",{enumerable:!0,get:function(){return A.quantizeInterpolator}});Object.defineProperty(J,"scale",{enumerable:!0,get:function(){return A.scale}});Object.defineProperty(J,"scheme",{enumerable:!0,
get:function(){return A.scheme}});Object.defineProperty(J,"projection",{enumerable:!0,get:function(){return C.projection}});Object.defineProperty(J,"View",{enumerable:!0,get:function(){return N.View}});Object.defineProperty(J,"defaultLocale",{enumerable:!0,get:function(){return K.defaultLocale}});Object.defineProperty(J,"formatLocale",{enumerable:!0,get:function(){return K.numberFormatDefaultLocale}});Object.defineProperty(J,"locale",{enumerable:!0,get:function(){return K.locale}});Object.defineProperty(J,
"resetDefaultLocale",{enumerable:!0,get:function(){return K.resetDefaultLocale}});Object.defineProperty(J,"timeFormatLocale",{enumerable:!0,get:function(){return K.timeFormatDefaultLocale}});Object.defineProperty(J,"expressionFunction",{enumerable:!0,get:function(){return E.expressionFunction}});Object.defineProperty(J,"parse",{enumerable:!0,get:function(){return x.parse}});Object.defineProperty(J,"runtimeContext",{enumerable:!0,get:function(){return D.context}});J.version="5.18.0"};
shadow$provide[66]=function(Ea,z,ob,J){var m=z(26).Buffer;(function(l,w){"object"===typeof J&&"undefined"!==typeof ob?w(J):"function"===typeof define&&define.amd?define(["exports"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,w(l.vegaLite={}))})(this,function(l){function w(h,F,c){h.fields=F||[];h.fname=c;return h}function G(h){return 1===h.length?Al(h[0]):Bl(h)}function L(h){function F(){c.push(qa+h.substring(ya,Va));qa="";ya=Va+1}const c=[],r=h.length;let I=null,ha=0,qa="",ya,Va,hb;h+=
"";for(ya=Va=0;Va<r;++Va)if(hb=h[Va],"\\"===hb)qa+=h.substring(ya,Va),qa+=h.substring(++Va,++Va),ya=Va;else if(hb===I)F(),I=null,ha=-1;else if(!I)if(ya===ha&&'"'===hb)ya=Va+1,I=hb;else if(ya===ha&&"'"===hb)ya=Va+1,I=hb;else if("."===hb&&!ha)Va>ya?F():ya=Va+1;else if("["===hb)Va>ya&&F(),ha=ya=Va+1;else if("]"===hb){if(!ha)throw Error("Access path missing open bracket: "+h);0<ha&&F();ha=0;ya=Va+1}if(ha)throw Error("Access path missing closing bracket: "+h);if(I)throw Error("Access path missing closing quote: "+
h);Va>ya&&(Va++,F());return c}function v(h,F,c){F=[F].concat([].slice.call(c));console[h].apply(console,F)}function u(h){return h===Object(h)}function t(...h){return h.reduce((F,c)=>{for(const r in c)"signals"===r?F.signals=f(F.signals,c.signals):k(F,r,c[r],"legend"===r?{layout:1}:"style"===r?!0:null);return F},{})}function k(h,F,c,r){if("__proto__"!==F){var I;if(u(c)&&!le(c))for(I in h=u(h[F])?h[F]:h[F]={},c)r&&(!0===r||r[I])?k(h,I,c[I]):"__proto__"!==I&&(h[I]=c[I]);else h[F]=c}}function f(h,F){function c(ha){r[ha.name]||
(r[ha.name]=1,I.push(ha))}if(null==h)return F;const r={},I=[];F.forEach(c);h.forEach(c);return I}function d(h){return null!=h?le(h)?h:[h]:[]}function g(h){return"boolean"===typeof h}function a(h){return"number"===typeof h}function e(h){return"string"===typeof h}function n(h){return le(h)?"["+h.map(n)+"]":u(h)||e(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}function y(h){const F={},c=h.length;for(let r=0;r<c;++r)F[h[r]]=!0;return F}function A(h,F){if(h.not)A(h.not,
F);else if(h.and)for(const c of h.and)A(c,F);else if(h.or)for(const c of h.or)A(c,F);else F(h)}function C(h,F){return h.not?{not:C(h.not,F)}:h.and?{and:h.and.map(c=>C(c,F))}:h.or?{or:h.or.map(c=>C(c,F))}:F(h)}function N(h,F){const c={};for(const r of F)Yh.call(h,r)&&(c[r]=h[r]);return c}function K(h,F){h=Object.assign({},h);for(const c of F)delete h[c];return h}function E(h){if(a(h))return h;h=e(h)?h:ri(h);if(250>h.length)return h;let F=0;for(let c=0;c<h.length;c++){const r=h.charCodeAt(c);F=(F<<
5)-F+r;F&=F}return F}function x(h){return!1===h||null===h}function D(h,F){return-1<h.indexOf(F)}function H(h,F){let c=0;for(const r of h.entries()){const [I,ha]=r;if(F(ha,I,c++))return!0}return!1}function S(h,F){let c=0;for(const r of h.entries()){const [I,ha]=r;if(!F(ha,I,c++))return!1}return!0}function U(h,...F){for(const r of F){F=h;var c=null!==r&&void 0!==r?r:{};for(const I of ud(c))k(F,I,c[I],!0)}return h}function ia(h,F){const c=[],r={};for(const I of h)h=F(I),h in r||(r[h]=1,c.push(I));return c}
function fa(h,F){if(h.size!==F.size)return!1;for(const c of h)if(!F.has(c))return!1;return!0}function ja(h,F){for(const c of h)if(F.has(c))return!0;return!1}function la(h){const F=new Set;for(const c of h){const r=L(c).map((I,ha)=>0===ha?I:"[".concat(I,"]"));h=r.map((I,ha)=>r.slice(0,ha+1).join(""));for(const I of h)F.add(I)}return F}function da(h,F){return void 0===h||void 0===F?!0:ja(la(h),la(F))}function O(h){return 0===ud(h).length}function B(h){return!0===h||!1===h}function Y(h){const F=h.replace(/\W/g,
"_");return(h.match(/^\d+/)?"_":"")+F}function ka(h,F){return h.not?"!("+ka(h.not,F)+")":h.and?"("+h.and.map(c=>ka(c,F)).join(") \x26\x26 (")+")":h.or?"("+h.or.map(c=>ka(c,F)).join(") || (")+")":F(h)}function Z(h,F){if(0===F.length)return!0;const c=F.shift();c in h&&Z(h[c],F)&&delete h[c];return O(h)}function wa(h){return h.charAt(0).toUpperCase()+h.substr(1)}function xa(h,F){F=void 0===F?"datum":F;h=L(h);const c=[];for(let r=1;r<=h.length;r++){const I="[".concat(h.slice(0,r).map(n).join("]["),"]");
c.push("".concat(F).concat(I))}return c.join(" \x26\x26 ")}function Da(h,F){return"".concat(void 0===F?"datum":F,"[").concat(n(L(h).join(".")),"]")}function Wa(h){return h.replace(/(\[|\]|\.|'|")/g,"\\$1")}function gb(h){return"".concat(L(h).map(Wa).join("\\."))}function ra(h,F,c){return h.replace(new RegExp(F.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),c)}function Na(h){return"".concat(L(h).join("."))}function Ta(h){return h?L(h).length:0}function za(...h){for(const F of h)if(void 0!==F)return F}
function pa(h){const F=++tk;return h?String(h)+F:F}function T(h){return W(h)?h:"__".concat(h)}function W(h){return 0===h.indexOf("__")}function M(h){if(void 0!==h)return(h%360+360)%360}function P(h){return a(h)?!0:!isNaN(h)&&!isNaN(parseFloat(h))}function ca(h){return h&&h.condition}function ea(h){return!!h&&!!h.argmin}function oa(h){return!!h&&!!h.argmax}function ba(h){return e(h)&&!!Cl[h]}function Fa(h){return e(h)&&D(Dl,h)}function Ra(h){switch(h){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function Ma(h){return"color"===h||"fill"===h||"stroke"===h}function db(h){return ab(h)!==h}function ab(h){switch(h){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return h}function Ba(h){if(h in Kj)switch(h){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return h}
function Sa(h){switch(h){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function lb(h){switch(h){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function ub(h){switch(h){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Jb(h){return"width"===h?"x":"y"}function bc(h){switch(h){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return uk;case "x":case "y":case "latitude":case "longitude":return El;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function wc(h){switch(h){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function $c(h){g(h)&&
(h=Mb(h,void 0));return"bin"+ud(h).map(F=>jb(h[F])?Y("_".concat(F,"_").concat(si(h[F]))):Y("_".concat(F,"_").concat(h[F]))).join("")}function kc(h){return!0===h||u(h)&&!h.binned}function vc(h){return"binned"===h||u(h)&&!0===h.binned}function jb(h){return null===h||void 0===h?void 0:h.selection}function fc(h){switch(h){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function dc(h,F,c){F in h?Object.defineProperty(h,F,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[F]=c;return h}function hc(h,F,c){F=F.get(h);if(!F)throw new TypeError("attempted to set private field on non-instance");if(F.set)F.set.call(h,c);else{if(!F.writable)throw new TypeError("attempted to set read only private field");F.value=c}return c}function Ac(h){return"Invalid specification ".concat(JSON.stringify(h),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function ac(h){return"".concat("width"==h?"Width":"Height",' "container" only works for single views and layered views.')}function Oc(h){const F="width"==h?"x":"y";return"".concat("width"==h?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(F,'".')}function Sc(h){return h?'Dropping "fit-'.concat(h,'" because spec has discrete ').concat(lb(h),"."):'Dropping "fit" because spec has discrete size.'}function Bc(h){return"Unknown field for ".concat(h,". Cannot calculate view size.")}
function pd(h){return'Cannot project a selection on encoding channel "'.concat(h,'", which has no field.')}function Rd(h,F){return'Cannot project a selection on encoding channel "'.concat(h,'" as it uses an aggregate function ("').concat(F,'").')}function hd(h){return"Selection not supported for ".concat(h," yet.")}function cd(h){return'The "columns" property cannot be used when "'.concat(h,'" has nested row/column.')}function Dd(h,F,c){return'An ancestor parsed field "'.concat(h,'" as ').concat(c,
" but a child wants to parse the field as ").concat(F,".")}function cb(h){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(h," are dropped.")}function yb(h,F){const {fill:c,stroke:r}=F;return"Dropping color ".concat(h," as the plot also has ").concat(c&&r?"fill and stroke":c?"fill":"stroke",".")}function Sb(h,F){return"Dropping ".concat(Of(h),' from channel "').concat(F,'" since it does not contain any data field, datum, value, or signal.')}function ld(h,
F,c){return"".concat(h,' dropped as it is incompatible with "').concat(F,'"').concat(c?" when ".concat(c):"",".")}function xd(h){return"".concat(h,"-encoding is dropped as ").concat(h," is not a valid encoding channel.")}function Pd(h,F){return'Using discrete channel "'.concat(h,'" to encode "').concat(F,'" field can be misleading as it does not encode ').concat("ordinal"===F?"order":"magnitude",".")}function me(h,F,c){return"".concat(c,"-scale's \"").concat(F,'" is dropped as it does not work with ').concat(h,
" scale.")}function Ha(h){return'The step for "'.concat(h,'" is dropped because the ').concat("width"===h?"x":"y"," is continuous.")}function Ya(h){return'Cannot stack "'.concat(h,'" if there is already "').concat(h,'2".')}function pb(h,F){return"Invalid ".concat(h,": ").concat(Of(F),".")}function Db(h){return"1D error band does not support ".concat(h,".")}function Xb(h){return"Channel ".concat(h,' is required for "binned" bin.')}function Gb(...h){Si.warn(...h)}function pc(h){if(h&&u(h))for(const F of Lj)if(F in
h)return!0;return!1}function ic(h){P(h)&&(h=+h);if(a(h))return h-1;{var F=h.toLowerCase();const c=vk.indexOf(F);if(-1!==c)return c;F=F.substr(0,3);F=Fl.indexOf(F);if(-1!==F)return F;throw Error(pb("month",h));}}function ib(h){P(h)&&(h=+h);if(a(h))return h%7;{var F=h.toLowerCase();const c=wk.indexOf(F);if(-1!==c)return c;F=F.substr(0,3);F=Gl.indexOf(F);if(-1!==F)return F;throw Error(pb("day",h));}}function xb(h,F){const c=[];F&&void 0!==h.day&&1<ud(h).length&&(Gb("Dropping day from datetime ".concat(Of(h),
" as day cannot be combined with other units.")),h=Ve(h),delete h.day);void 0!==h.year?c.push(h.year):c.push(2012);if(void 0!==h.month){var r=F?ic(h.month):h.month;c.push(r)}else if(void 0!==h.quarter){if(F)if(r=h.quarter,P(r)&&(r=+r),a(r))4<r&&Gb(pb("quarter",r)),--r;else throw Error(pb("quarter",r));else r=h.quarter;c.push(a(r)?3*r:r+"*3")}else c.push(0);void 0!==h.date?c.push(h.date):void 0!==h.day?(F=F?ib(h.day):h.day,c.push(a(F)?F+1:F+"+1")):c.push(1);for(const I of["hours","minutes","seconds",
"milliseconds"])F=h[I],c.push("undefined"===typeof F?0:F);return c}function Nb(h){const F=xb(h,!0).join(", ");return h.utc?"utc(".concat(F,")"):"datetime(".concat(F,")")}function cc(h){const F=xb(h,!0);return h.utc?+new Date(Date.UTC(...F)):+new Date(...F)}function qc(h){const F=[];for(const c of Lj)oc(h,c)&&F.push(c);return F}function oc(h,F){const c=h.indexOf(F);return 0>c||0<c&&"seconds"===F&&"i"===h.charAt(c-1)||h.length>c+3&&"day"===F&&"o"===h.charAt(c+3)||0<c&&"year"===F&&"f"===h.charAt(c-1)?
!1:!0}function Kc(h){if(h)return h=qc(h),"timeUnitSpecifier(".concat(ri(h),", ").concat(ri(Hl),")")}function Ib(h){if(h){var F;e(h)?F={unit:h}:u(h)&&(F=Object.assign({},h,h.unit?{unit:h.unit}:{}));F.unit.startsWith("utc")&&(F.utc=!0,F.unit=F.unit.substr(3));return F}}function sc(h){var F=Ib(h);h=Object.assign({},F);F=F.utc;const c=(delete h.utc,h);return c.unit?(F?"utc":"")+ud(c).map(r=>Y("".concat("unit"===r?"":"_".concat(r,"_")).concat(c[r]))).join(""):(F?"utc":"")+"timeunit"+ud(c).map(r=>Y("_".concat(r,
"_").concat(c[r]))).join("")}function zc(h){return h&&!!h.signal}function rc(h){return!!h.step}function Jc(h){return le(h)?!1:"field"in h&&"data"in h}function Mc(h){return h&&!!h.field&&void 0!==h.equal}function Nc(h){return h&&!!h.field&&void 0!==h.lt}function md(h){return h&&!!h.field&&void 0!==h.lte}function wd(h){return h&&!!h.field&&void 0!==h.gt}function Cd(h){return h&&!!h.field&&void 0!==h.gte}function Gd(h){return h&&h.field&&(le(h.range)&&2===h.range.length||zc(h.range))?!0:!1}function Sd(h){return h&&
!!h.field&&(le(h.oneOf)||le(h.in))}function fe(h){return Sd(h)||Mc(h)||Gd(h)||Nc(h)||wd(h)||md(h)||Cd(h)}function ne(h,F){return Tc(h,{timeUnit:F,wrapTime:!0})}function ze(h,F){return h.map(c=>ne(c,F))}function Ae(h,F){F=void 0===F?!0:F;var c,{field:r}=h;const I=null===(c=Ib(h.timeUnit))||void 0===c?void 0:c.unit;if(I){{({end:c}={end:!1});r=xa(r);const ya=I.startsWith("utc")?"utc":"";const Va={};for(qa of Lj)if(oc(I,qa)){var ha=qa;ha="quarter"===ha?"(".concat(ya,"quarter(").concat(r,")-1)"):"".concat(ya).concat(ha,
"(").concat(r,")");Va[qa]=ha;ha=qa}c&&(Va[ha]+="+1");var qa=Va;c=xb(qa,!1).join(", ");qa=qa.utc?"utc(".concat(c,")"):"datetime(".concat(c,")")}qa="time("+qa+")"}else qa=Wc(h,{expr:"datum"});if(Mc(h))return qa+"\x3d\x3d\x3d"+ne(h.equal,I);if(Nc(h))return F=h.lt,"".concat(qa,"\x3c").concat(ne(F,I));if(wd(h))return F=h.gt,"".concat(qa,"\x3e").concat(ne(F,I));if(md(h))return F=h.lte,"".concat(qa,"\x3c\x3d").concat(ne(F,I));if(Cd(h))return F=h.gte,"".concat(qa,"\x3e\x3d").concat(ne(F,I));if(Sd(h))return"indexof([".concat(ze(h.oneOf,
I).join(","),"], ").concat(qa,") !\x3d\x3d -1");if(h&&h.field&&void 0!==h.valid)return De(qa,h.valid);if(Gd(h)){({range:c}=h);h=zc(c)?{signal:"".concat(c.signal,"[0]")}:c[0];c=zc(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==h&&null!==c&&F)return"inrange("+qa+", ["+ne(h,I)+", "+ne(c,I)+"])";F=[];null!==h&&F.push("".concat(qa," \x3e\x3d ").concat(ne(h,I)));null!==c&&F.push("".concat(qa," \x3c\x3d ").concat(ne(c,I)));return 0<F.length?F.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(h)));
}function De(h,F){return void 0===F||F?"isValid(".concat(h,") \x26\x26 isFinite(+").concat(h,")"):"!isValid(".concat(h,") || !isFinite(+").concat(h,")")}function Fd(h){if(fe(h)&&h.timeUnit){var F;return Object.assign({},h,{timeUnit:null===(F=Ib(h.timeUnit))||void 0===F?void 0:F.unit})}return h}function Zd(h){if(h)switch(h=h.toLowerCase(),h){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function Ke(h){return null===h||void 0===h?void 0:h.selection}function Be(h,F){switch(F){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!D(["point","band","identity"],h);case "bins":return!D(["point","band","identity","ordinal"],h);case "round":return h in Fg||"band"===h||"point"===h;case "padding":case "rangeMin":case "rangeMax":return h in Fg||D(["point","band"],h);case "paddingOuter":case "align":return D(["point",
"band"],h);case "paddingInner":return"band"===h;case "domainMax":case "domainMid":case "domainMin":case "clamp":return h in Fg;case "nice":return h in Fg||"quantize"===h||"threshold"===h;case "exponent":return"pow"===h;case "base":return"log"===h;case "constant":return"symlog"===h;case "zero":return h in xg&&!D(["log","time","utc","threshold","quantile"],h)}}function tf(h,F){switch(F){case "interpolate":case "scheme":case "domainMid":if(!Ma(h))return'Cannot use the scale property "'.concat(h,'" with non-color channel.')}}
function Td(h,F){if(!Qg[h])return!1;switch(h){case "x":case "y":case "theta":case "radius":return F in Fg||D(["band","point"],F);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return F in Fg||F in Ti||D(["band","point","ordinal"],F);case "color":case "fill":case "stroke":return"band"!==F;case "strokeDash":return"ordinal"===F||F in Ti;case "shape":return"ordinal"===F}}function be(h){return h&&!!h.expr}function Le(h){const F=ud(h||{}),c={};for(const r of F)c[r]=
rd(h[r]);return c}function ce(h){return D(["line","area","trail"],h)}function yd(h){return h.type}function Ad(h){const {channel:F,channelDef:c,markDef:r,scale:I,config:ha}=h;h=Ie(h);return tc(c)&&!Fa(c.aggregate)&&I&&I.get("type")in Fg&&!1===I.get("zero")?Yd({fieldDef:c,channel:F,markDef:r,ref:h,config:ha}):h}function Yd(h){var {fieldDef:F,channel:c,markDef:r,ref:I,config:ha}=h;if(ce(r.type)||null===Xd("invalid",r,ha))return I;{h=ef(F,!0);const qa="y"===ab(c)?{field:{group:"height"}}:{value:0};h=
Object.assign({},{test:h},qa)}return[h,I]}function ef(h,F){F=void 0===F?!0:F;return De(e(h)?h:Wc(h,{expr:"datum"}),!F)}function qe(h,F,c,r){const I={};F&&(I.scale=F);ed(h)?({datum:h}=h,pc(h)?I.signal=Nb(h):zc(h)?I.signal=h.signal:be(h)?I.signal=h.expr:I.value=h):I.field=Wc(h,c);if(r){const {offset:ha,band:qa}=r;ha&&(I.offset=ha);qa&&(I.band=qa)}return I}function Ed(h){var {scaleName:F,fieldOrDatumDef:c,fieldOrDatumDef2:r,offset:I,startSuffix:ha,band:qa=.5}=h,ya=0<qa&&1>qa?"datum":void 0;h=Wc(c,{expr:ya,
suffix:ha});const Va=void 0!==r?Wc(r,{expr:ya}):Wc(c,{suffix:"end",expr:ya});ya={};0===qa||1===qa?(ya.scale=F,ya.field=0===qa?h:Va):(h="".concat(qa," * ").concat(h," + ").concat(1-qa," * ").concat(Va),ya.signal='scale("'.concat(F,'", ').concat(h,")"));I&&(ya.offset=I);return ya}function Ie(h){var {channel:F,channelDef:c,channel2Def:r,markDef:I,config:ha,scaleName:qa,scale:ya,stack:Va,offset:hb,defaultRef:Ab,band:Fb}=h;if(c){if(zd(c)){var $b,Hc;if(sd(c)){var Rc;Fb=null!==(Rc=Fb)&&void 0!==Rc?Rc:mb({channel:F,
fieldDef:c,fieldDef2:r,markDef:I,stack:Va,config:ha,isMidPoint:!0});const {bin:Xc,timeUnit:qd,type:vd}=c;if(kc(Xc)||Fb&&qd&&"temporal"===vd)return Va&&Va.impute?qe(c,qa,{binSuffix:"mid"},{offset:hb}):Fb?Ed({scaleName:qa,fieldOrDatumDef:c,band:Fb,offset:hb}):qe(c,qa,bd(c,F)?{binSuffix:"range"}:{},{offset:hb});if(vc(Xc)){if(tc(r))return Ed({scaleName:qa,fieldOrDatumDef:c,fieldOrDatumDef2:r,band:Fb,offset:hb});Gb(Xb("x"===F?"x2":"y2"))}}h=null===ya||void 0===ya?void 0:ya.get("type");return qe(c,qa,h in
og?{binSuffix:"range"}:{},{offset:hb,band:"band"===h?null!==($b=null!==(Hc=Fb)&&void 0!==Hc?Hc:c.band)&&void 0!==$b?$b:.5:void 0})}if(Zc(c))return $b=hb?{offset:hb}:{},Object.assign({},nf(F,c.value),$b)}"function"===typeof Ab&&(Ab=Ab());return Ab?Object.assign({},Ab,hb?{offset:hb}:{}):Ab}function nf(h,F){return D(["x","x2"],h)&&"width"===F?{field:{group:"width"}}:D(["y","y2"],h)&&"height"===F?{field:{group:"height"}}:Hd(F)}function xc(h){return h&&"number"!==h&&"time"!==h}function Fe(h,F,c){return"".concat(h,
"(").concat(F).concat(c?", ".concat(JSON.stringify(c)):"",")")}function ge(h){var {fieldOrDatumDef:F,format:c,formatType:r,expr:I,normalizeStack:ha,config:qa}=h;if(xc(r))return Je({fieldOrDatumDef:F,format:c,formatType:r,expr:I,config:qa});h=Zb(F,I,ha);if(ec(F)){var ya,Va;var hb=tc(F)?null===(ya=Ib(F.timeUnit))||void 0===ya?void 0:ya.unit:void 0,Ab=c,Fb=qa.timeFormat;ya=Md(F)&&(null===(Va=F.scale)||void 0===Va?void 0:Va.type)===Vf.UTC;!hb||Ab?(Ab=e(Ab)?Ab:Fb,h="".concat(ya?"utc":"time","Format(").concat(h,
", '").concat(Ab,"')")):hb?(Va=Kc(hb),hb=ya||hb.startsWith("utc"),h="".concat(hb?"utc":"time","Format(").concat(h,", ").concat(Va,")")):h=void 0;return h?{signal:h}:void 0}c=cf(Fc(F),c,qa);return tc(F)&&kc(F.bin)?(Va=Wc(F,{expr:I,binSuffix:"end"}),{signal:Te(h,Va,c,r,qa)}):c||"quantitative"===Fc(F)?{signal:"".concat(Ze(h,c))}:{signal:"isValid(".concat(h,") ? ").concat(h,' : ""+').concat(h)}}function Zb(h,F,c){if(tc(h))return c?"".concat(Wc(h,{expr:F,suffix:"end"}),"-").concat(Wc(h,{expr:F,suffix:"start"})):
Wc(h,{expr:F});({datum:h}=h);h=pc(h)?Nb(h):"".concat(JSON.stringify(h));return h}function Je(h){var {fieldOrDatumDef:F,format:c,formatType:r,expr:I,normalizeStack:ha,config:qa,field:ya}=h,Va;ya=null!==(Va=ya)&&void 0!==Va?Va:Zb(F,I,ha);return tc(F)&&kc(F.bin)?(h=Wc(F,{expr:I,binSuffix:"end"}),{signal:Te(ya,h,c,r,qa)}):{signal:Fe(r,ya,c)}}function he(h,F,c,r,I,ha){if(!xc(r)){if(ec(h)){var qa;h=tc(h)?null===(qa=Ib(h.timeUnit))||void 0===qa?void 0:qa.unit:void 0;c=c?c:h?{signal:Kc(h)}:ha?void 0:I.timeFormat;
return c}return cf(F,c,I)}}function Pe(h,F,c){if(h&&(zc(h)||"number"===h||"time"===h))return h;if(ec(F)&&"time"!==c&&"utc"!==c)return"time"}function cf(h,F,c){if(e(F))return F;if("quantitative"===h)return c.numberFormat}function Ze(h,F){return"format(".concat(h,', "').concat(F||"",'")')}function vf(h,F,c,r){var I;return xc(c)?Fe(c,h,F):Ze(h,null!==(I=e(F)?F:void 0)&&void 0!==I?I:r.numberFormat)}function Te(h,F,c,r,I){const ha=vf(h,c,r,I);F=vf(F,c,r,I);return"".concat(De(h,!1),' ? "null" : ').concat(ha,
' + "').concat("  ",'" + ').concat(F)}function sa(h){return!!h&&("count"===h.op||!!h.field)}function Aa(h){return!!h&&le(h)}function Xa(h){return"row"in h||"column"in h}function fb(h){const {field:F,timeUnit:c,bin:r,aggregate:I}=h;return Object.assign({},c?{timeUnit:c}:{},r?{bin:r}:{},I?{aggregate:I}:{},{field:F})}function mb(h){var {channel:F,fieldDef:c,fieldDef2:r,markDef:I,stack:ha,config:qa,isMidPoint:ya}=h;if(zd(c)&&void 0!==c.band)return c.band;if(tc(c)){const {timeUnit:Va,bin:hb}=c;if(Va&&
!r)return ya?Se("timeUnitBandPosition",I,qa):D(["rect","bar","image","arc"],I.type)?Se("timeUnitBand",I,qa):0;if(kc(hb))return D(["rect","bar","image","arc"],I.type)&&!ya?1:.5}if((null===ha||void 0===ha?void 0:ha.fieldChannel)===F&&ya)return.5}function Wb(h,F,c,r,I,ha){return kc(F.bin)||F.timeUnit&&sd(F)&&"temporal"===F.type?!!mb({channel:h,fieldDef:F,fieldDef2:c,stack:r,markDef:I,config:ha}):!1}function jc(h){h=h&&h.condition;return!!h&&!le(h)&&tc(h)}function Ec(h){h=h&&h.condition;return!!h&&!le(h)&&
zd(h)}function tc(h){return!!h&&(!!h.field||"count"===h.aggregate)}function Fc(h){return h&&h.type}function ed(h){return!!h&&"datum"in h}function fd(h){return sd(h)&&!xe(h)||ie(h)}function ie(h){return ed(h)&&a(h.datum)}function zd(h){return tc(h)||ed(h)}function sd(h){return!!h&&("field"in h||"count"===h.aggregate)&&"type"in h}function Zc(h){return h&&"value"in h&&"value"in h}function Md(h){return!!h&&("scale"in h||"sort"in h)}function Id(h){return h&&("axis"in h||"stack"in h||"impute"in h)}function Ue(h){return!!h&&
("format"in h||"formatType"in h)}function zf(h){return K(h,["legend","axis","header","scale"])}function Wc(h,F){F=void 0===F?{}:F;let c=h.field;const r=F.prefix;let I=F.suffix,ha="";if("count"===h.aggregate)c=T("count");else{let hb;if(!F.nofn)if("op"in h)hb=h.op;else{const {bin:Ab,aggregate:Fb,timeUnit:$b}=h;if(kc(Ab)){var qa,ya;hb=$c(Ab);I=(null!==(qa=F.binSuffix)&&void 0!==qa?qa:"")+(null!==(ya=F.suffix)&&void 0!==ya?ya:"")}else if(Fb)oa(Fb)?(ha='["'.concat(c,'"]'),c="argmax_".concat(Fb.argmax)):
ea(Fb)?(ha='["'.concat(c,'"]'),c="argmin_".concat(Fb.argmin)):hb=String(Fb);else if($b){var Va;hb=sc($b);I=(!D(["range","mid"],F.binSuffix)&&F.binSuffix||"")+(null!==(Va=F.suffix)&&void 0!==Va?Va:"")}}hb&&(c=c?"".concat(hb,"_").concat(c):hb)}I&&(c="".concat(c,"_").concat(I));r&&(c="".concat(r,"_").concat(c));return F.forAs?Na(c):F.expr?Da(c,F.expr)+ha:gb(c)+ha}function xe(h){switch(h.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return tc(h)&&!!h.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(h.type,
'".'));}function Me(h,F){const {field:c,bin:r,timeUnit:I,aggregate:ha}=h;if("count"===ha)return F.countTitle;if(kc(r))return"".concat(c," (binned)");if(I){var qa;if(h=null===(qa=Ib(I))||void 0===qa?void 0:qa.unit)return"".concat(c," (").concat(qc(h).join("-"),")")}else if(ha)return oa(ha)?"".concat(c," for max ").concat(ha.argmax):ea(ha)?"".concat(c," for min ").concat(ha.argmin):"".concat(wa(ha)," of ").concat(c);return c}function Ee(h,F,c){var {allowDisabling:r,includeDefault:I=!0}=c,ha;c=null===
(ha=Ef(h))||void 0===ha?void 0:ha.title;if(!tc(h))return c;F=I?ti(h,F):void 0;if(r)return za(c,h.title,F);var qa;return null!==(qa=null!==c&&void 0!==c?c:h.title)&&void 0!==qa?qa:F}function Ef(h){if(Id(h)&&h.axis)return h.axis;if(h&&"legend"in h&&h.legend)return h.legend;if(h&&"header"in h&&h.header)return h.header}function yf(h){if(Ue(h)){const {format:c,formatType:r}=h;return{format:c,formatType:r}}{var F;h=null!==(F=Ef(h))&&void 0!==F?F:{};const {format:c,formatType:r}=h;return{format:c,formatType:r}}}
function re(h,F){var c;switch(F){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in h&&le(h.sort))return"ordinal";const {aggregate:r,bin:I,timeUnit:ha}=h;if(ha)return"temporal";if(I||r&&!oa(r)&&!ea(r))return"quantitative";if(Md(h)&&(null===(c=h.scale)||void 0===c?0:c.type))switch(Mj[h.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}
function Qe(h){if(tc(h))return h;if(jc(h))return h.condition}function va(h){if(zd(h))return h;if(Ec(h))return h.condition}function Ka(h,F,c,r){r=void 0===r?{}:r;return e(h)||a(h)||g(h)?(c=e(h)?"string":a(h)?"number":"boolean",F="Channel ".concat(F," is a ").concat(c,". Converted to {value: ").concat(Of(h),"}."),Gb(F),{value:h}):zd(h)?sb(h,F,c,r):Ec(h)?Object.assign({},h,{condition:sb(h.condition,F,c,r)}):h}function sb(h,F,c,r){if(Ue(h)){var I=Object.assign({},h),ha=h.formatType;I=(delete I.format,
delete I.formatType,I);if(xc(ha)&&!c.customFormatTypes)return Gb(cb(F)),sb(I,F,c,r)}else if((ha=Id(h)?"axis":h&&"legend"in h?"legend":h&&"header"in h?"header":null)&&h[ha]){var qa=h[ha];I=Object.assign({},qa);qa=qa.formatType;I=(delete I.format,delete I.formatType,I);if(xc(qa)&&!c.customFormatTypes)return Gb(cb(F)),sb(Object.assign({},h,{[ha]:I}),F,c,r)}if(tc(h))return Pb(h,F,r);F=h.type;F||({datum:F}=h,F=a(F)?"quantitative":e(F)?"nominal":pc(F)?"temporal":void 0,h=Object.assign({},h,{type:F}));return h}
function Pb(h,F,c){({compositeMark:c=!1}=void 0===c?{}:c);const {aggregate:r,timeUnit:I,bin:ha,field:qa}=h;h=Object.assign({},h);c||!r||ba(r)||oa(r)||ea(r)||(Gb('Invalid aggregation operator "'.concat(r,'".')),delete h.aggregate);I&&(h.timeUnit=Ib(I));qa&&(h.field="".concat(qa));kc(ha)&&(h.bin=Mb(ha,F));!vc(ha)||F in cg||Gb("Channel ".concat(F,' should not be used with "binned" bin.'));if(sd(h)){({type:c}=h);var ya=Zd(c);c!==ya&&(h.type=ya);"quantitative"!==c&&Fa(r)&&(c='Invalid field type "'.concat(c,
'" for aggregate: "').concat(r,'", using "quantitative" instead.'),Gb(c),h.type="quantitative")}else db(F)||(c=re(h,F),h.type=c);if(sd(h)){const {compatible:Va,warning:hb}=Yb(h,F)||{};!1===Va&&Gb(hb)}if("sort"in h&&e(h.sort)){({sort:F}=h);if(F in xk)return Object.assign({},h,{sort:{encoding:F}});c=F.substr(1);if("-"===F.charAt(0)&&c in xk)return Object.assign({},h,{sort:{encoding:c,order:"descending"}})}return h&&"header"in h&&({header:F}=h,ya=F,c=Object.assign({},ya),ya=ya.orient,c=(delete c.orient,
c),ya)?Object.assign({},h,{header:Object.assign({},c,{labelOrient:F.labelOrient||ya,titleOrient:F.titleOrient||ya})}):h}function Mb(h,F){return g(h)?{maxbins:fc(F)}:"binned"===h?{binned:!0}:h.maxbins||h.step?h:Object.assign({},h,{maxbins:fc(F)})}function Yb(h,F){const c=h.type;if("geojson"===c&&"shape"!==F)return{compatible:!1,warning:"Channel ".concat(F," should not be used with a geojson data.")};switch(F){case "row":case "column":case "facet":return xe(h)?Ch:{compatible:!1,warning:"".concat(F,
" encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ch;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:"Channel ".concat(F," should be used with a quantitative field only, not ").concat(h.type," field.")}:Ch;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
c||h.sort?Ch:{compatible:!1,warning:"Channel ".concat(F," should not be used with an unsorted discrete field.")};case "strokeDash":return D(["ordinal","nominal"],h.type)?Ch:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return D(["ordinal","nominal","geojson"],h.type)?Ch:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==h.type||"sort"in h?Ch:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function ec(h){var {formatType:F}=yf(h),c;if(!(c="time"===F)){if(F=!F)F=h&&("temporal"===h.type||tc(h)&&!!h.timeUnit);c=F}return c}function Tc(h,F){var {timeUnit:c,type:r,wrapTime:I,undefinedIfExprNotRequired:ha}=F;var qa=(F=c&&(null===(qa=Ib(c))||void 0===qa?void 0:qa.unit))||"temporal"===r;let ya;be(h)?ya=h.expr:zc(h)?ya=h.signal:pc(h)?(qa=!0,ya=Nb(h)):(e(h)||a(h))&&qa&&(ya="datetime(".concat(JSON.stringify(h),")"),yk[F]&&(a(h)&&1E4>h||e(h)&&isNaN(Date.parse(h)))&&(ya=Nb({[F]:h})));return ya?I&&
qa?"time(".concat(ya,")"):ya:ha?void 0:JSON.stringify(h)}function Ic(h,F){const {type:c}=h;return F.map(r=>{const I=Tc(r,{timeUnit:tc(h)?h.timeUnit:void 0,type:c,undefinedIfExprNotRequired:!0});return void 0!==I?{signal:I}:r})}function bd(h,F){return kc(h.bin)?!!Qg[F]&&D(["ordinal","nominal"],h.type):(console.warn("Only call this method for binned field defs."),!1)}function od(h){var F=Object.assign({},h),c=h.anchor;const r=h.frame,I=h.offset,ha=h.orient;var qa=h.color,ya=h.subtitleColor,Va=h.subtitleFont;
const hb=h.subtitleFontSize,Ab=h.subtitleFontStyle,Fb=h.subtitleFontWeight,$b=h.subtitleLineHeight;h=h.subtitlePadding;F=(delete F.anchor,delete F.frame,delete F.offset,delete F.orient,delete F.color,delete F.subtitleColor,delete F.subtitleFont,delete F.subtitleFontSize,delete F.subtitleFontStyle,delete F.subtitleFontWeight,delete F.subtitleLineHeight,delete F.subtitlePadding,F);qa=Object.assign({},F,qa?{fill:qa}:{});c=Object.assign({},c?{anchor:c}:{},r?{frame:r}:{},I?{offset:I}:{},ha?{orient:ha}:
{});ya=Object.assign({},ya?{subtitleColor:ya}:{},Va?{subtitleFont:Va}:{},hb?{subtitleFontSize:hb}:{},Ab?{subtitleFontStyle:Ab}:{},Fb?{subtitleFontWeight:Fb}:{},$b?{subtitleLineHeight:$b}:{},h?{subtitlePadding:h}:{});Va=N(qa,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:qa,subtitleMarkConfig:Va,nonMark:c,subtitle:ya}}function Nd(h){return e(h)||le(h)&&e(h[0])}function Wd(h){const F=le(h.condition)?h.condition.map(Ge):Ge(h.condition);return Object.assign({},rd(h),{condition:F})}function rd(h){if(be(h)){var F=
Object.assign({},h);h=h.expr;F=(delete F.expr,F);return Object.assign({},{signal:h},F)}return h}function Ge(h){if(be(h)){var F=Object.assign({},h);h=h.expr;F=(delete F.expr,F);return Object.assign({},{signal:h},F)}return h}function Hd(h){if(be(h)){var F=Object.assign({},h);h=h.expr;F=(delete F.expr,F);return Object.assign({},{signal:h},F)}return zc(h)?h:void 0!==h?{value:h}:void 0}function se(h){return zc(h)?h.signal:n(h.value)}function $d(h){return zc(h)?h.signal:null==h?null:n(h)}function oe(h,
F,c){for(const r of c)c=Se(r,F.markDef,F.config),void 0!==c&&(h[r]=Hd(c));return h}function uf(h){var F;return[].concat(h.type,null!==(F=h.style)&&void 0!==F?F:[])}function Xd(h,F,c,r){r=void 0===r?{}:r;const {vgChannel:I,ignoreVgConfig:ha}=r;if(I&&void 0!==F[I])return F[I];if(void 0!==F[h])return F[h];if(!ha||I&&I!==h)return Se(h,F,c,r)}function Se(h,F,c,r){({vgChannel:r}=void 0===r?{}:r);return za(r?He(h,F,c.style):void 0,He(h,F,c.style),r?c[F.type][r]:void 0,c[F.type][h],r?c.mark[r]:c.mark[h])}
function He(h,F,c){return Jf(h,uf(F),c)}function Jf(h,F,c){F=d(F);let r;for(const I of F)(F=c[I])&&void 0!==F[h]&&(r=F[h]);return r}function bf(h,F){return d(h).reduce((c,r)=>{var I;c.field.push(Wc(r,F));c.order.push(null!==(I=r.sort)&&void 0!==I?I:"ascending");return c},{field:[],order:[]})}function Uf(h,F){const c=[...h];F.forEach(r=>{for(const I of c)if(Zh(I,r))return;c.push(r)});return c}function ta(h,F){return Zh(h,F)||!F?h:h?[...d(h),...d(F)].join(", "):F}function ua(h,F){const c=h.value;F=
F.value;if(null==c||null===F)return{explicit:h.explicit,value:null};if((Nd(c)||zc(c))&&(Nd(F)||zc(F)))return{explicit:h.explicit,value:ta(c,F)};if(Nd(c)||zc(c))return{explicit:h.explicit,value:c};if(Nd(F)||zc(F))return{explicit:h.explicit,value:F};if(!(Nd(c)||zc(c)||Nd(F)||zc(F)))return{explicit:h.explicit,value:Uf(c,F)};throw Error("It should never reach here");}function Ia(h){return"mark"in h}function La(h,F){return(h=h&&h[F])?le(h)?H(h,c=>!!c.field):tc(h)||jc(h):!1}function Za(h){return H(Il,F=>
La(h,F)?(F=h[F],le(F)?H(F,c=>!!c.aggregate):(F=Qe(F))&&!!F.aggregate):!1)}function bb(h,F){const c=[],r=[],I=[],ha=[],qa={};Hb(h,(ya,Va)=>{if(tc(ya)){var hb=Object.assign({},ya),Ab=ya.field;const $b=ya.aggregate,Hc=ya.bin,Rc=ya.timeUnit;hb=(delete hb.field,delete hb.aggregate,delete hb.bin,delete hb.timeUnit,hb);if($b||Rc||Hc){var Fb=Ef(ya);const Xc=Fb&&Fb.title;Fb=Wc(ya,{forAs:!0});hb=Object.assign({},Xc?[]:{title:Ee(ya,F,{allowDisabling:!0})},hb,{field:Fb});if($b){let qd;oa($b)?(qd="argmax",Fb=
Wc({op:"argmax",field:$b.argmax},{forAs:!0}),hb.field="".concat(Fb,".").concat(Ab)):ea($b)?(qd="argmin",Fb=Wc({op:"argmin",field:$b.argmin},{forAs:!0}),hb.field="".concat(Fb,".").concat(Ab)):"boxplot"!==$b&&"errorbar"!==$b&&"errorband"!==$b&&(qd=$b);qd&&(ya={op:qd,as:Fb},Ab&&(ya.field=Ab),ha.push(ya))}else c.push(Fb),sd(ya)&&kc(Hc)?(r.push({bin:Hc,field:Ab,as:Fb}),c.push(Wc(ya,{binSuffix:"end"})),bd(ya,Va)&&c.push(Wc(ya,{binSuffix:"range"})),Va in cg&&(qa[Va+"2"]={field:Fb+"_end"}),hb.bin="binned",
db(Va)||(hb.type="quantitative")):Rc&&(I.push({timeUnit:Rc,field:Ab,as:Fb}),(Ab=sd(ya)&&"temporal"!==ya.type&&"time")&&("text"===Va||"tooltip"===Va?hb.formatType=Ab:Nj[Va]?hb.legend=Object.assign({},{formatType:Ab},hb.legend):Va in cg&&(hb.axis=Object.assign({},{formatType:Ab},hb.axis))));qa[Va]=hb}else c.push(Ab),qa[Va]=h[Va]}else qa[Va]=h[Va]});return{bins:r,timeUnits:I,aggregate:ha,groupby:c,encoding:qa}}function nb(h,F,c){c=bc(F)[c];return c&&("binned"!==c||(c=h["x2"===F?"x":"y"],tc(c)&&tc(h[F])&&
vc(c.bin)))?!0:!1}function zb(h,F,c,r){return ud(h).reduce((I,ha)=>{if(!Ui[ha])return Gb(xd(ha)),I;const qa=h[ha];"angle"!==ha||"arc"!==F||h.theta||(Gb("Arc marks uses theta channel rather than angle, replacing angle with theta."),ha="theta");if(!nb(h,ha,F))return Gb(ld(ha,F)),I;if("size"===ha&&"line"===F){const ya=Qe(h[ha]);if(null===ya||void 0===ya?0:ya.aggregate)return Gb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),I}if("color"===ha&&(c?"fill"in
h:"stroke"in h))return Gb(yb("encoding",{fill:"fill"in h,stroke:"stroke"in h})),I;if("detail"===ha||"order"===ha&&!le(qa)&&!Zc(qa)||"tooltip"===ha&&le(qa))qa&&(I[ha]=d(qa).reduce((ya,Va)=>{tc(Va)?ya.push(Pb(Va,ha)):Gb(Sb(Va,ha));return ya},[]));else{if("tooltip"===ha&&null===qa)I[ha]=null;else if(!(tc(qa)||ed(qa)||Zc(qa)||qa&&"condition"in qa||zc(qa)))return Gb(Sb(qa,ha)),I;I[ha]=Ka(qa,ha,r)}return I},{})}function wb(h,F){const c={};for(const r of ud(h)){const I=Ka(h[r],r,F,{compositeMark:!0});c[r]=
I}return c}function Bb(h){const F=[];for(const c of ud(h))if(La(h,c)){const r=d(h[c]);for(const I of r)tc(I)?F.push(I):jc(I)&&F.push(I.condition)}return F}function Hb(h,F,c){if(h)for(const r of ud(h)){const I=h[r];if(le(I))for(const ha of I)F.call(c,ha,r);else F.call(c,I,r)}}function Tb(h,F,c,r){return h?ud(h).reduce((I,ha)=>{const qa=h[ha];return le(qa)?qa.reduce((ya,Va)=>F.call(r,ya,Va,ha),I):F.call(r,I,qa,ha)},c):c}function mc(h,F){return ud(F).reduce((c,r)=>{switch(r){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return c;
case "order":if("line"===h||"trail"===h)return c;case "detail":case "key":r=F[r];if(le(r)||tc(r))for(var I of d(r))I.aggregate||c.push(Wc(I,{}));return c;case "size":if("trail"===h)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(I=Qe(F[r]))&&!I.aggregate&&c.push(Wc(I,{})),c}},[])}function X(h,F,c,r){r=void 0===r?!0:r;if("tooltip"in c)return{tooltip:c.tooltip};h=h.map(I=>{var {fieldPrefix:ha,titlePrefix:qa}=
I;I=r?" of ".concat(na(F)):"";return{field:ha+F.field,type:F.type,title:zc(qa)?{signal:qa+'"'.concat(escape(I),'"')}:qa+I}});c=Bb(c).map(zf);return{tooltip:[...h,...ia(c,E)]}}function na(h){const {title:F,field:c}=h;return za(F,c)}function Ja(h,F,c,r,I){const {scale:ha,axis:qa}=c;return ya=>{var {partName:Va,mark:hb,positionPrefix:Ab,endPositionPrefix:Fb,extraEncoding:$b={}}=ya;ya=na(c);return Oa(h,Va,I,{mark:hb,encoding:Object.assign({},{[F]:Object.assign({},{field:Ab+"_"+c.field,type:c.type},void 0!==
ya?{title:ya}:{},void 0!==ha?{scale:ha}:{},void 0!==qa?{axis:qa}:{})},e(Fb)?{[F+"2"]:{field:Fb+"_"+c.field}}:{},r,$b)})}}function Oa(h,F,c,r){const {clip:I,color:ha,opacity:qa}=h,ya=h.type;return h[F]||void 0===h[F]&&c[F]?[Object.assign({},r,{mark:Object.assign({},c[F],I?{clip:I}:{},ha?{color:ha}:{},qa?{opacity:qa}:{},yd(r.mark)?r.mark:{type:r.mark},{style:"".concat(ya,"-").concat(F)},g(h[F])?{}:h[F])})]:[]}function tb(h,F,c){({encoding:h}=h);F="vertical"===F?"y":"x";const r=h[F+"2"],I=h[F+"Error"],
ha=h[F+"Error2"];return{continuousAxisChannelDef:Lb(h[F],c),continuousAxisChannelDef2:Lb(r,c),continuousAxisChannelDefError:Lb(I,c),continuousAxisChannelDefError2:Lb(ha,c),continuousAxis:F}}function Lb(h,F){if(h&&h.aggregate){var c=Object.assign({},h);h=h.aggregate;c=(delete c.aggregate,c);h!==F&&(F="Continuous axis should not have customized aggregation function ".concat(h,"; ").concat(F," already agregates the axis."),Gb(F));return c}return h}function Qb(h,F){const {mark:c,encoding:r}=h,{x:I,y:ha}=
r;if(yd(c)&&c.orient)return c.orient;if(fd(I)){if(fd(ha)){h=tc(I)&&I.aggregate;const qa=tc(ha)&&ha.aggregate;if(!h&&qa===F)return"vertical";if(qa||h!==F){if(h===F&&qa===F)throw Error("Both x and y cannot have aggregate");return ec(ha)&&!ec(I)?"horizontal":"vertical"}}return"horizontal"}if(fd(ha))return"vertical";throw Error("Need a valid continuous axis for ".concat(F,"s"));}function gc(h){return a(h)?"tukey":h}function uc(h,F){var {config:c}=F,r,I=h=Object.assign({},h,{encoding:wb(h.encoding,c)});
F=Object.assign({},I);var ha=I.mark;I=I.selection;F=(delete F.mark,delete F.encoding,delete F.selection,delete F.projection,F);ha=yd(ha)?ha:{type:ha};I&&Gb(hd("boxplot"));I=null!==(r=ha.extent)&&void 0!==r?r:c.boxplot.extent;var qa=Xd("size",ha,c);r=gc(I);var ya;{var Va=h;h=Qb(Va,"boxplot");const {continuousAxisChannelDef:mf,continuousAxis:Sf}=tb(Va,h,"boxplot");var hb=mf.field,Ab=gc(I),Fb=[...Qc(hb),{op:"median",field:hb,as:"mid_box_"+hb},{op:"min",field:hb,as:("min-max"===Ab?"lower_whisker_":"min_")+
hb},{op:"max",field:hb,as:("min-max"===Ab?"upper_whisker_":"max_")+hb}];hb="min-max"===Ab||"tukey"===Ab?[]:[{calculate:'datum["upper_box_'.concat(hb,'"] - datum["lower_box_').concat(hb,'"]'),as:"iqr_"+hb},{calculate:'min(datum["upper_box_'.concat(hb,'"] + datum["iqr_').concat(hb,'"] * ').concat(I,', datum["max_').concat(hb,'"])'),as:"upper_whisker_"+hb},{calculate:'max(datum["lower_box_'.concat(hb,'"] - datum["iqr_').concat(hb,'"] * ').concat(I,', datum["min_').concat(hb,'"])'),as:"lower_whisker_"+
hb}];Va=Object.assign({},Va.encoding);Ab=(delete Va[Sf],Va);Va=Object.assign({},Ab);Ab=Ab.tooltip;Va=(delete Va.tooltip,Va);if(Ab){var $b;if(le(Ab)){for(var Hc of Ab)Hc.aggregate?(ya||(ya=[]),ya.push(Hc)):($b||($b=[]),$b.push(Hc));ya&&(Va.tooltip=ya)}else Ab.aggregate?Va.tooltip=Ab:$b=Ab;le($b)&&1===$b.length&&($b=$b[0]);ya={customTooltipWithoutAggregatedField:$b,filteredEncoding:Va}}else ya={filteredEncoding:Va};const {customTooltipWithoutAggregatedField:Mf,filteredEncoding:Oj}=ya,{bins:ch,timeUnits:ui,
aggregate:zk,groupby:Ak,encoding:Jl}=bb(Oj,c);ya=[...ch,...ui,{aggregate:[...zk,...Fb],groupby:Ak},...hb];ya={bins:ch,timeUnits:ui,transform:ya,groupby:Ak,aggregate:zk,continuousAxisChannelDef:mf,continuousAxis:Sf,encodingWithoutContinuousAxis:Jl,ticksOrient:"vertical"===h?"horizontal":"vertical",boxOrient:h,customTooltipWithoutAggregatedField:Mf}}const {bins:Rc,timeUnits:Xc,transform:qd,continuousAxisChannelDef:vd,continuousAxis:ee,groupby:Re,aggregate:Vd,encodingWithoutContinuousAxis:Ne,ticksOrient:Bd,
boxOrient:Gf,customTooltipWithoutAggregatedField:We}=ya;$b=Object.assign({},Ne);ya=Ne.color;Fb=Ne.size;$b=(delete $b.color,delete $b.size,$b);Hc=Ja(ha,ee,vd,$b,c.boxplot);h=Ja(ha,ee,vd,Ne,c.boxplot);Fb=Ja(ha,ee,vd,Object.assign({},$b,Fb?{size:Fb}:{}),c.boxplot);hb=X([{fieldPrefix:"min-max"===r?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===r?"lower_whisker_":
"min_",titlePrefix:"Min"}],vd,Ne);Va={type:"tick",color:"black",opacity:1,orient:Bd,invalid:null,aria:!1};Ab="min-max"===r?hb:X([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],vd,Ne);Hc=[...Hc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Ab}),...Hc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
extraEncoding:Ab}),...Hc({partName:"ticks",mark:Va,positionPrefix:"lower_whisker",extraEncoding:Ab}),...Hc({partName:"ticks",mark:Va,positionPrefix:"upper_whisker",extraEncoding:Ab})];qa=[..."tukey"!==r?Hc:[],...h({partName:"box",mark:Object.assign({},{type:"bar"},qa?{size:qa}:{},{orient:Gf,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:hb}),...Fb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},u(c.boxplot.median)&&
c.boxplot.median.color?{color:c.boxplot.median.color}:{},qa?{size:qa}:{},{orient:Bd,aria:!1}),positionPrefix:"mid_box",extraEncoding:hb})];if("min-max"===r){var pe;return Object.assign({},F,{transform:(null!==(pe=F.transform)&&void 0!==pe?pe:[]).concat(qd),layer:qa})}pe='datum["lower_box_'.concat(vd.field,'"]');r='datum["upper_box_'.concat(vd.field,'"]');h="(".concat(r," - ").concat(pe,")");pe="".concat(pe," - ").concat(I," * ").concat(h);h="".concat(r," + ").concat(I," * ").concat(h);Fb='datum["'.concat(vd.field,
'"]');I={joinaggregate:Qc(vd.field),groupby:Re};r={transform:[{filter:"(".concat(pe," \x3c\x3d ").concat(Fb,") \x26\x26 (").concat(Fb," \x3c\x3d ").concat(h,")")},{aggregate:[{op:"min",field:vd.field,as:"lower_whisker_"+vd.field},{op:"max",field:vd.field,as:"upper_whisker_"+vd.field},{op:"min",field:"lower_box_"+vd.field,as:"lower_box_"+vd.field},{op:"max",field:"upper_box_"+vd.field,as:"upper_box_"+vd.field},...Vd],groupby:Re}],layer:Hc};$b=Object.assign({},$b);$b=(delete $b.tooltip,$b);const {scale:Af,
axis:Rf}=vd;Hc=na(vd);hb=K(Rf,["title"]);c=Oa(ha,"outliers",c.boxplot,{transform:[{filter:"(".concat(Fb," \x3c ").concat(pe,") || (").concat(Fb," \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},{[ee]:Object.assign({},{field:vd.field,type:vd.type},void 0!==Hc?{title:Hc}:{},void 0!==Af?{scale:Af}:{},O(hb)?{}:{axis:hb})},$b,ya?{color:ya}:{},We?{tooltip:We}:{})})[0];ha=[...Rc,...Xc,I];c?c={transform:ha,layer:[c,r]}:(c=r,c.transform.unshift(...ha));return Object.assign({},F,{layer:[c,{transform:qd,
layer:qa}]})}function Qc(h){return[{op:"q1",field:h,as:"lower_box_"+h},{op:"q3",field:h,as:"upper_box_"+h}]}function Lc(h,F){({config:F}=F);h=Object.assign({},h,{encoding:wb(h.encoding,F)});const {transform:c,continuousAxisChannelDef:r,continuousAxis:I,encodingWithoutContinuousAxis:ha,ticksOrient:qa,markDef:ya,outerSpec:Va,tooltipEncoding:hb}=Ld(h,"errorbar",F);delete ha.size;h=Ja(ya,I,r,ha,F.errorbar);F=ya.thickness;var Ab=ya.size;Ab=Object.assign({},{type:"tick",orient:qa,aria:!1},void 0!==F?{thickness:F}:
{},void 0!==Ab?{size:Ab}:{});h=[...h({partName:"ticks",mark:Ab,positionPrefix:"lower",extraEncoding:hb}),...h({partName:"ticks",mark:Ab,positionPrefix:"upper",extraEncoding:hb}),...h({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==F?{size:F}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:hb})];return Object.assign({},Va,{transform:c},1<h.length?{layer:h}:Object.assign({},h[0]))}function td(h,F){var {encoding:c}=h;if(!(!zd(c.x)&&!zd(c.y)||
zd(c.x2)||zd(c.y2)||zd(c.xError)||zd(c.xError2)||zd(c.yError)||zd(c.yError2)))return{orient:Qb(h,F),inputType:"raw"};var r=zd(c.x2)||zd(c.y2);var I=zd(c.xError)||zd(c.xError2)||zd(c.yError)||zd(c.yError2);h=c.x;const ha=c.y;if(r){if(I)throw Error("".concat(F," cannot be both type aggregated-upper-lower and aggregated-error"));r=c.x2;c=c.y2;if(zd(r)&&zd(c))throw Error("".concat(F," cannot have both x2 and y2"));if(zd(r)){if(fd(h))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(F));
}if(zd(c)){if(fd(ha))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(F));}}else{r=c.xError;I=c.yError;const qa=c.yError2;if(zd(c.xError2)&&!zd(r))throw Error("".concat(F," cannot have xError2 without xError"));if(zd(qa)&&!zd(I))throw Error("".concat(F," cannot have yError2 without yError"));if(zd(r)&&zd(I))throw Error("".concat(F," cannot have both xError and yError with both are quantiative"));if(zd(r)){if(fd(h))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(zd(I)){if(fd(ha))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Ld(h,F,c){var r,I=Object.assign({},h),ha=h.mark,qa=h.encoding,ya=h.selection;I=(delete I.mark,delete I.encoding,delete I.selection,delete I.projection,I);ha=yd(ha)?ha:{type:ha};ya&&Gb(hd(F));const {orient:Va,
inputType:hb}=td(h,F),{continuousAxisChannelDef:Ab,continuousAxisChannelDef2:Fb,continuousAxisChannelDefError:$b,continuousAxisChannelDefError2:Hc,continuousAxis:Rc}=tb(h,Va,F);ya=[];h=[];var Xc=Ab.field,qd=!1;if("raw"===hb){var vd=ha.center?ha.center:ha.extent?"iqr"===ha.extent?"median":"mean":c.errorbar.center;var ee=ha.extent?ha.extent:"mean"===vd?"stderr":"iqr";"median"===vd!==("iqr"===ee)&&(ya=ee,ya="".concat(vd," is not usually used with ").concat(ya," for ").concat(F,"."),Gb(ya));"stderr"===
ee||"stdev"===ee?(ya=[{op:ee,field:Xc,as:"extent_"+Xc},{op:vd,field:Xc,as:"center_"+Xc}],h=[{calculate:'datum["center_'.concat(Xc,'"] + datum["extent_').concat(Xc,'"]'),as:"upper_"+Xc},{calculate:'datum["center_'.concat(Xc,'"] - datum["extent_').concat(Xc,'"]'),as:"lower_"+Xc}],Xc={fieldPrefix:"center_",titlePrefix:wa(vd)},qd=ee,qd={fieldPrefix:"upper_",titlePrefix:wa(vd)+" + "+qd},F=ee,F=wa(vd)+" - "+F,vd=[Xc,qd,{fieldPrefix:"lower_",titlePrefix:F}],qd=!0):("ci"===ee?(F="mean",vd="ci0",ee="ci1"):
(F="median",vd="q1",ee="q3"),ya=[{op:vd,field:Xc,as:"lower_"+Xc},{op:ee,field:Xc,as:"upper_"+Xc},{op:F,field:Xc,as:"center_"+Xc}],vd=[{fieldPrefix:"upper_",titlePrefix:Ee({field:Xc,aggregate:ee,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ee({field:Xc,aggregate:vd,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ee({field:Xc,aggregate:F,type:"quantitative"},c,{allowDisabling:!1})}])}else{if(ha.center||ha.extent){F=ha.center;var Re=ha.extent;
F="".concat(Re?"extent ":"").concat(Re&&F?"and ":"").concat(F?"center ":"").concat(Re&&F?"are ":"is ","not needed when data are aggregated.");Gb(F)}"aggregated-upper-lower"===hb?(vd=[],h=[{calculate:'datum["'.concat(Fb.field,'"]'),as:"upper_"+Xc},{calculate:'datum["'.concat(Xc,'"]'),as:"lower_"+Xc}]):"aggregated-error"===hb&&(vd=[{fieldPrefix:"",titlePrefix:Xc}],h=[{calculate:'datum["'.concat(Xc,'"] + datum["').concat($b.field,'"]'),as:"upper_"+Xc}],Hc?h.push({calculate:'datum["'.concat(Xc,'"] + datum["').concat(Hc.field,
'"]'),as:"lower_"+Xc}):h.push({calculate:'datum["'.concat(Xc,'"] - datum["').concat($b.field,'"]'),as:"lower_"+Xc}));for(ee of h)vd.push({fieldPrefix:ee.as.substring(0,6),titlePrefix:ra(ra(ee.calculate,'datum["',""),'"]',"")})}h={postAggregateCalculates:h,errorBarSpecificAggregate:ya,tooltipSummary:vd,tooltipTitleWithFieldName:qd};const {errorBarSpecificAggregate:Vd,postAggregateCalculates:Ne,tooltipSummary:Bd,tooltipTitleWithFieldName:Gf}=h;qa=Object.assign({},qa);h="x"===Rc?"x2":"y2";ya="x"===Rc?
"xError":"yError";Xc="x"===Rc?"xError2":"yError2";qa=(delete qa[Rc],delete qa[h],delete qa[ya],delete qa[Xc],qa);const {bins:We,timeUnits:pe,aggregate:Af,groupby:Rf,encoding:mf}=bb(qa,c);c=[...Af,...Vd];qa="raw"!==hb?[]:Rf;h=X(Bd,Ab,mf,Gf);return{transform:[...null!==(r=I.transform)&&void 0!==r?r:[],...We,...pe,...0===c.length?[]:[{aggregate:c,groupby:qa}],...Ne],groupby:qa,continuousAxisChannelDef:Ab,continuousAxis:Rc,encodingWithoutContinuousAxis:mf,ticksOrient:"vertical"===Va?"horizontal":"vertical",
markDef:ha,outerSpec:I,tooltipEncoding:h}}function Yc(h,F){({config:F}=F);h=Object.assign({},h,{encoding:wb(h.encoding,F)});const {transform:c,continuousAxisChannelDef:r,continuousAxis:I,encodingWithoutContinuousAxis:ha,markDef:qa,outerSpec:ya,tooltipEncoding:Va}=Ld(h,"errorband",F);F=Ja(qa,I,r,ha,F.errorband);h=void 0!==h.encoding.x&&void 0!==h.encoding.y;let hb={type:h?"area":"rect"},Ab={type:h?"line":"rule"};const Fb=Object.assign({},qa.interpolate?{interpolate:qa.interpolate}:{},qa.tension&&qa.interpolate?
{tension:qa.tension}:{});h?(hb=Object.assign({},hb,Fb,{ariaRoleDescription:"errorband"}),Ab=Object.assign({},Ab,Fb,{aria:!1})):qa.interpolate?Gb(Db("interpolate")):qa.tension&&Gb(Db("tension"));return Object.assign({},ya,{transform:c,layer:[...F({partName:"band",mark:hb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Va}),...F({partName:"borders",mark:Ab,positionPrefix:"lower",extraEncoding:Va}),...F({partName:"borders",mark:Ab,positionPrefix:"upper",extraEncoding:Va})]})}function nd(h,
F,c){F=new Vi(h,F);Bk[h]={normalizer:F,parts:c}}function Vc(h){const F=[];for(const I of h||[]){var c=I,r=Object.assign({},c);h=c.expr;c=c.bind;r=(delete r.expr,delete r.bind,r);c&&h?(h=Object.assign({},r,{bind:c,init:h}),F.push(h)):(h=Object.assign({},r,h?{update:h}:{},c?{bind:c}:{}),F.push(h))}return F}function Ce(h){return!!h&&("legend"===h||!!h.legend)}function Pa(h){return Ce(h)&&u(h)}function kb(h,F){const c={};for(const r of Kl)h&&void 0!==h[r]&&(c[r]=rd(h[r]));F&&(c.params=h.params);return c}
function vb(h){return u(h)&&void 0!==h.step}function Eb(h){return h.view||h.width||h.height}function Rb(h,F,c){const r={},{spacing:I,columns:ha}=c[F];void 0!==I&&(r.spacing=I);void 0!==ha&&("facet"in h&&!Xa(h.facet)||"concat"in h)&&(r.columns=ha);"vconcat"in h&&(r.columns=1);for(const Va of Ll)if(void 0!==h[Va])if("spacing"===Va){var qa,ya;F=h[Va];r[Va]=a(F)?F:{row:null!==(qa=F.row)&&void 0!==qa?qa:I,column:null!==(ya=F.column)&&void 0!==ya?ya:I}}else r[Va]=h[Va];return r}function yc(h,F){var c;return null!==
(c=h[F])&&void 0!==c?c:h["width"===F?"continuousWidth":"continuousHeight"]}function q(h,F){h=Q(h,F);return vb(h)?h.step:20}function Q(h,F){var c;F=null!==(c=h[F])&&void 0!==c?c:h["width"===F?"discreteWidth":"discreteHeight"];return za(F,{step:h.step})}function ma(h){var F=ud(h||{});const c={};for(const r of F)F=h[r],c[r]=ca(F)?Wd(F):rd(F);return c}function Ga(h){h=void 0===h?{}:h;var F=Object.assign({},h),c=h.color,r=h.font;h=h.fontSize;F=(delete F.color,delete F.font,delete F.fontSize,F);r=r?{text:{font:r},
style:{"guide-label":{font:r},"guide-title":{font:r},"group-title":{font:r},"group-subtitle":{font:r}}}:{};c?(c=void 0===c?{}:c,c={signals:[{name:"color",value:u(c)?Object.assign({},Ck,c):Ck}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},
axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):c={};h=h?{signals:[{name:"fontSize",value:u(h)?Object.assign({},Dk,h):Dk}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=t({},Ml,r,c,h,F||{});F=K(h,Nl);for(var I of["background","lineBreak","padding"])h[I]&&(F[I]=rd(h[I]));for(var ha of Ek)h[ha]&&(F[ha]=Le(h[ha]));for(var qa of Fk)h[qa]&&(F[qa]=ma(h[qa]));for(const Va of Gk)h[Va]&&(F[Va]=Le(h[Va]));h.legend&&(F.legend=Le(h.legend));h.scale&&(F.scale=Le(h.scale));if(h.style){I=h.style;ha=
ud(I);qa={};for(ya of ha)qa[ya]=ma(I[ya]);var ya=qa;F.style=ya}h.title&&(F.title=Le(h.title));h.view&&(F.view=Le(h.view));return F}function $a(h){h=Ve(h);for(var F of Ol)delete h[F];if(h.axis)for(var c in h.axis)ca(h.axis[c])&&delete h.axis[c];if(h.legend)for(var r of Pl)delete h.legend[r];if(h.mark){for(var I of Hk)delete h.mark[I];h.mark.tooltip&&u(h.mark.tooltip)&&delete h.mark.tooltip}h.params&&(h.signals=(h.signals||[]).concat(Vc(h.params)),delete h.params);for(var ha of Ql){for(const Va of Hk)delete h[ha][Va];
if(F=Rl[ha])for(const Va of F)delete h[ha][Va];c=F=void 0;r=h;I=ha;var qa=void 0,ya=r[I];"view"===I&&(qa="cell");ya=Object.assign({},ya,r.style[null!==(c=qa)&&void 0!==c?c:I]);O(ya)||(r.style[null!==(F=qa)&&void 0!==F?F:I]=ya);delete r[I]}for(const Va of ud(Bk))delete h[Va];{ha=h;const {titleMarkConfig:Va,subtitleMarkConfig:hb,subtitle:Ab}=od(ha.title);O(Va)||(ha.style["group-title"]=Object.assign({},ha.style["group-title"],Va));O(hb)||(ha.style["group-subtitle"]=Object.assign({},ha.style["group-subtitle"],
hb));O(Ab)?delete ha.title:ha.title=Ab}for(const Va in h)u(h[Va])&&O(h[Va])&&delete h[Va];return O(h)?void 0:h}function eb(h,F){const c="x"===F?"y":"radius";var r=h[F];h=h[c];if(tc(r)&&tc(h))if("quantitative"===Fc(r)&&"quantitative"===Fc(h)){if(r.stack)return F;if(h.stack)return c;const qa=tc(r)&&!!r.aggregate,ya=tc(h)&&!!h.aggregate;if(qa!==ya)return qa?F:c;var I,ha;r=null===(I=r.scale)||void 0===I?void 0:I.type;I=null===(ha=h.scale)||void 0===ha?void 0:ha.type;if(r&&"linear"!==r)return c;if(I&&
"linear"!==I)return F}else{if("quantitative"===Fc(r))return F;if("quantitative"===Fc(h))return c}else{if("quantitative"===Fc(r))return F;if("quantitative"===Fc(h))return c}}function qb(h){switch(h){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Kb(h,F,c){c=void 0===c?{}:c;h=yd(h)?h.type:h;if(!Sl.has(h))return null;const r=eb(F,"x")||eb(F,"theta");if(!r)return null;const I=F[r];var ha=tc(I)?Wc(I,{}):void 0;let qa=qb(r),ya=F[qa],Va=tc(ya)?Wc(ya,
{}):void 0;Va===ha&&(qa=ya=Va=void 0);ha=Tl.reduce((Ab,Fb)=>{if("tooltip"!==Fb&&La(F,Fb)){var $b=F[Fb];for(const Hc of d($b)){$b=Qe(Hc);if($b.aggregate)continue;const Rc=Wc($b,{});Rc&&Rc===Va||Ab.push({channel:Fb,fieldDef:$b})}}return Ab},[]);let hb;void 0!==I.stack?hb=g(I.stack)?I.stack?"zero":null:I.stack:0<ha.length&&Ul.has(h)&&(hb="zero");if(!(hb&&hb in Vl)||Za(F)&&0===ha.length)return null;if(I.scale&&I.scale.type&&I.scale.type!==Vf.LINEAR){if(c.disallowNonLinearStack)return null;Gb("Cannot stack non-linear scale (".concat(I.scale.type,
")."))}if(zd(F[Sa(r)]))return void 0!==I.stack&&Gb(Ya(r)),null;tc(I)&&I.aggregate&&!D(Wl,I.aggregate)&&Gb('Stacking is applied even though the aggregate function is non-summative ("'.concat(I.aggregate,'").'));return{groupbyChannel:ya?qa:void 0,groupbyField:Va,fieldChannel:r,impute:null===I.impute?!1:ce(h),stackBy:ha,offset:hb}}function Vb(h){h=Object.assign({},h);h=(delete h.point,delete h.line,h);return 1<ud(h).length?h:h.type}function Ob(h){for(const F of["line","area","rule","trail"])h[F]&&(h=
Object.assign({},h,{[F]:K(h[F],["point","line"])}));return h}function Dc(h,F,c){F=void 0===F?{}:F;if("transparent"===h.point)return{opacity:0};if(h.point)return u(h.point)?h.point:{};if(void 0!==h.point)return null;if(F.point||c.shape)return u(F.point)?F.point:{}}function Pc(h,F){F=void 0===F?{}:F;if(h.line)return!0===h.line?{}:h.line;if(void 0!==h.line)return null;if(F.line)return!0===F.line?{}:F.line}function kd(h,F){return F?Od(h,F):h}function ad(h,F,c){const r=F[h];if(r&&!e(r)&&"repeat"in r){if(r.repeat in
c)return Object.assign({},F,{[h]:c[r.repeat]});Gb('Unknown repeated value "'.concat(r.repeat,'".'))}else return F}function Uc(h,F){h=ad("field",h,F);if(void 0!==h){if(null===h)return null;"sort"in h&&sa(h.sort)&&(F=ad("field",h.sort,F),h=Object.assign({},h,F?{sort:F}:{}));return h}}function Cc(h,F){if(tc(h))return Uc(h,F);F=ad("datum",h,F);F===h||F.type||(F.type="nominal");return F}function jd(h,F){if(zd(h)){if(F=Cc(h,F))return F;if(h&&"condition"in h)return{condition:h.condition}}else{if(Ec(h)){if(F=
Cc(h.condition,F))return Object.assign({},h,{condition:F});h=Object.assign({},h);return delete h.condition,h}return h}}function Od(h,F){const c={};for(const I in h)if(Yh.call(h,I)){var r=h[I];le(r)?c[I]=r.map(ha=>jd(ha,F)).filter(ha=>ha):(r=jd(r,F),void 0!==r&&(c[I]=r))}return c}function Jd(h){var {parentEncoding:F,encoding:c={},layer:r}=h;h={};if(F){var I=new Set([...ud(F),...ud(c)]);for(const ha of I){I=c[ha];const qa=F[ha];if(zd(I))I=Object.assign({},qa,I),h[ha]=I;else if(Ec(I))h[ha]=Object.assign({},
I,{condition:Object.assign({},qa,I.condition)});else if(I||null===I)h[ha]=I;else if(r||Zc(qa)||zc(qa)||zd(qa)||le(qa))h[ha]=qa}}else h=c;return!h||O(h)?void 0:h}function de(h){const {parentProjection:F,projection:c}=h;if(F&&c){{const {parentProjection:r,projection:I}={parentProjection:F,projection:c};h="Layer's shared projection ".concat(Of(r)," is overridden by a child projection ").concat(Of(I),".")}Gb(h)}return null!==c&&void 0!==c?c:F}function ae(h,F){void 0===F&&(F=Ga(h.config));var c=F;c=void 0===
c?{}:c;c=Xl.map(h,{config:c});const {width:r,height:I}=h;{let {width:ha,height:qa}={width:r,height:I,autosize:h.autosize};h=Ia(c)||"layer"in c;const ya={};h?"container"==ha&&"container"==qa?(ya.type="fit",ya.contains="padding"):"container"==ha?(ya.type="fit-x",ya.contains="padding"):"container"==qa&&(ya.type="fit-y",ya.contains="padding"):("container"==ha&&(Gb(ac("width")),ha=void 0),"container"==qa&&(Gb(ac("height")),qa=void 0));F=Object.assign({},{type:"pad"},ya,F?kf(F.autosize):{},kf(c.autosize));
"fit"!==F.type||h||(Gb('Autosize "fit" only works for single views and layered views.'),F.type="pad");"container"==ha&&"fit"!=F.type&&"fit-x"!=F.type&&Gb(Oc("width"));"container"==qa&&"fit"!=F.type&&"fit-y"!=F.type&&Gb(Oc("height"));h=Zh(F,{type:"pad"})?void 0:F}return Object.assign({},c,h?{autosize:h}:{})}function kf(h){return e(h)?{type:h}:null!==h&&void 0!==h?h:{}}function Qd(h){return{explicit:!0,value:h}}function Ud(h){return{explicit:!1,value:h}}function te(h){return(F,c,r,I)=>{const ha=h(F.value,
c.value);return 0<ha?F:0>ha?c:id(F,c,r,I)}}function id(h,F,c,r){if(h.explicit&&F.explicit){var I=h.value;F=F.value;c="Conflicting ".concat(r.toString(),' property "').concat(c.toString(),'" (').concat(Of(I)," and ").concat(Of(F),"). Using ").concat(Of(I),".");Gb(c)}return h}function ue(h,F,c,r,I){I=void 0===I?id:I;return void 0===h||void 0===h.value?F:h.explicit&&!F.explicit?h:F.explicit&&!h.explicit?F:Zh(h.value,F.value)?h:I(h,F,c,r)}function Ff(h){return"name"in h&&!("url"in h)&&!("values"in h)&&
!ye(h)}function ye(h){return h&&("sequence"in h||"sphere"in h||"graticule"in h)}function of(h){return h.map(F=>"filter"in F?{filter:C(F.filter,Fd)}:F)}function $e(h,F,c){Ik=F||"view";Jk=c||Yl;return ff(h.trim()).map(Cf)}function Xe(h,F,c,r,I){const ha=h.length;let qa=0,ya;for(;F<ha;++F)if(ya=h[F],qa||ya!==c)I&&0<=I.indexOf(ya)?--qa:r&&0<=r.indexOf(ya)&&++qa;else break;return F}function ff(h){const F=[],c=h.length;let r=0,I=0;for(;I<c;)I=Xe(h,I,",","[{","]}"),F.push(h.substring(r,I).trim()),r=++I;
if(0===F.length)throw"Empty event selector: "+h;return F}function Cf(h){if("["===h[0]){var F=h;var c=F.length;h=Xe(F,1,"]","[","]");if(h===c)throw"Empty between selector: "+F;c=ff(F.substring(1,h));if(2!==c.length)throw"Between selector must have two elements: "+F;F=F.slice(h+1).trim();if("\x3e"!==F[0])throw"Expected '\x3e' after between selector: "+F;c=c.map(Cf);F=Cf(F.slice(1).trim());F.between?F={between:c,stream:F}:F.between=c}else{{c={source:Ik};const r=[];let I=[0,0],ha=0,qa=0,ya=h.length,Va=
0,hb;if("}"===h[ya-1]){Va=h.lastIndexOf("{");if(0<=Va){try{I=Zf(h.substring(Va+1,ya-1))}catch(Ab){throw"Invalid throttle specification: "+h;}h=h.slice(0,Va).trim();ya=h.length}else throw"Unmatched right brace: "+h;Va=0}if(!ya)throw h;"@"===h[0]&&(ha=++Va);hb=Xe(h,Va,":");hb<ya&&(r.push(h.substring(qa,hb).trim()),qa=Va=++hb);Va=Xe(h,Va,"[");if(Va===ya)r.push(h.substring(qa,ya).trim());else if(r.push(h.substring(qa,Va).trim()),F=[],qa=++Va,qa===ya)throw"Unmatched left bracket: "+h;for(;Va<ya;){Va=Xe(h,
Va,"]");if(Va===ya)throw"Unmatched left bracket: "+h;F.push(h.substring(qa,Va).trim());if(Va<ya-1&&"["!==h[++Va])throw"Expected left bracket: "+h;qa=++Va}if(!(ya=r.length)||Zl.test(r[ya-1]))throw"Invalid event selector: "+h;1<ya?(c.type=r[1],ha?c.markname=r[0].slice(1):Jk[r[0]]?c.marktype=r[0]:c.source=r[0]):c.type=r[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=F&&(c.filter=F);I[0]&&(c.throttle=I[0]);I[1]&&(c.debounce=I[1]);F=c}}return F}function Zf(h){const F=h.split(",");
if(!h.length||2<F.length)throw h;return F.map(c=>{c=+c;if(c!==c)throw h;return c})}function tg(h,F,c,r){var I=!!F&&"condition"in F&&F.condition;F=r(F);return I?(I=d(I).map(ha=>{const qa=r(ha);ha=ha.selection?Wi(h,ha.selection):dh(h,ha.test);return Object.assign({},{test:ha},qa)}),{[c]:[...I,...void 0!==F?[F]:[]]}):void 0!==F?{[c]:F}:{}}function Dh(h,F){F=void 0===F?"text":F;return tg(h,h.encoding[F],F,c=>eh(c,h.config))}function eh(h,F,c){c=void 0===c?"datum":c;if(h){if(Zc(h))return Hd(h.value);if(zd(h)){const {format:r,
formatType:I}=yf(h);return ge({fieldOrDatumDef:h,format:r,formatType:I,expr:c,config:F})}}}function Xi(h,F){F=void 0===F?{}:F;const {encoding:c,markDef:r,config:I,stack:ha}=h,qa=c.tooltip;if(le(qa))return{tooltip:vi({tooltip:qa},ha,I,F)};{const ya=F.reactiveGeom?"datum.datum":"datum";return tg(h,qa,"tooltip",Va=>{const hb=eh(Va,I,ya);if(hb)return hb;if(null!==Va){Va=Xd("tooltip",r,I);!0===Va&&(Va={content:"encoding"});if(e(Va))return{value:Va};if(u(Va))return zc(Va)?Va:"encoding"===Va.content?vi(c,
ha,I,F):{signal:ya}}})}}function wi(h,F,c,r){function I(Va,hb){var Ab,Fb=ab(hb);Va=sd(Va)?Va:Object.assign({},Va,{type:h[Fb].type});Fb=Va.title||ti(Va,c);Fb=d(Fb).join(", ");if(hb in cg){const Rc="x"===hb?"x2":"y2";var $b=Qe(h[Rc]);if(vc(Va.bin)&&$b){var Hc=Wc(Va,{expr:qa});$b=Wc($b,{expr:qa});const {format:Xc,formatType:qd}=yf(Va);Hc=Te(Hc,$b,Xc,qd,c);ha[Rc]=!0}else if(F&&F.fieldChannel===hb&&"normalize"===F.offset){const {format:Xc,formatType:qd}=yf(Va);Hc=ge({fieldOrDatumDef:Va,format:Xc,formatType:qd,
expr:qa,config:c,normalizeStack:!0}).signal}}Hc=null!==(Ab=Hc)&&void 0!==Ab?Ab:eh(Va,c,qa).signal;ya.push({channel:hb,key:Fb,value:Hc})}({reactiveGeom:r}=void 0===r?{}:r);const ha={},qa=r?"datum.datum":"datum",ya=[];Hb(h,(Va,hb)=>{tc(Va)?I(Va,hb):jc(Va)&&I(Va.condition,hb)});r={};for(const Va of ya){const {channel:hb,key:Ab,value:Fb}=Va;ha[hb]||r[Ab]||(r[Ab]=Fb)}return r}function vi(h,F,c,r){({reactiveGeom:r}=void 0===r?{}:r);h=wi(h,F,c,{reactiveGeom:r});h=si(h).map(I=>{var [ha,qa]=I;return'"'.concat(ha,
'": ').concat(qa)});return 0<h.length?{signal:"{".concat(h.join(", "),"}")}:void 0}function $h(h){const {markDef:F,config:c}=h,r=Xd("aria",F,c);return!1===r?{}:Object.assign({},r?{aria:r}:{},Eh(h),Yi(h))}function Eh(h){const {mark:F,markDef:c,config:r}=h;if(!1===r.aria)return{};h=Xd("ariaRoleDescription",c,r);return null!=h?{ariaRoleDescription:{value:h}}:F in $l?{}:{ariaRoleDescription:{value:F}}}function Yi(h){const {encoding:F,markDef:c,config:r,stack:I}=h;var ha=F.description;if(ha)return tg(h,
ha,"description",qa=>eh(qa,h.config));ha=Xd("description",c,r);if(null!=ha)return{description:Hd(ha)};if(!1===r.aria)return{};ha=wi(F,I,r);if(!O(ha))return{description:{signal:si(ha).map((qa,ya)=>{var [Va,hb]=qa;return'"'.concat(0<ya?"; ":"").concat(Va,': " + (').concat(hb,")")}).join(" + ")}}}function Tf(h,F,c){c=void 0===c?{}:c;const {markDef:r,encoding:I,config:ha}=F,{vgChannel:qa}=c;let {defaultRef:ya,defaultValue:Va}=c;if(void 0===ya){var hb;Va=null!==(hb=Va)&&void 0!==hb?hb:Xd(h,r,ha,{vgChannel:qa,
ignoreVgConfig:!0});void 0!==Va&&(ya=Hd(Va))}return tg(F,I[h],null!==qa&&void 0!==qa?qa:h,Ab=>Ie({channel:h,channelDef:Ab,markDef:r,config:ha,scaleName:F.scaleName(h),scale:F.getScaleComponent(h),stack:null,defaultRef:ya}))}function Zi(h,F){F=void 0===F?{filled:void 0}:F;var c,r,I,ha;const {markDef:qa,encoding:ya,config:Va}=h,{type:hb}=qa;F=null!==(c=F.filled)&&void 0!==c?c:Xd("filled",qa,Va);c=D(["bar","point","circle","square","geoshape"],hb)?"transparent":void 0;c=null!==(r=null!==(I=Xd(!0===F?
"color":void 0,qa,Va,{vgChannel:"fill"}))&&void 0!==I?I:Va.mark[!0===F&&"color"])&&void 0!==r?r:c;r=null!==(ha=Xd(!1===F?"color":void 0,qa,Va,{vgChannel:"stroke"}))&&void 0!==ha?ha:Va.mark[!1===F&&"color"];ha=F?"fill":"stroke";I=Object.assign({},c?{fill:Hd(c)}:{},r?{stroke:Hd(r)}:{});qa.color&&(F?qa.fill:qa.stroke)&&Gb(yb("property",{fill:"fill"in qa,stroke:"stroke"in qa}));return Object.assign({},I,Tf("color",h,{vgChannel:ha,defaultValue:F?c:r}),Tf("fill",h,{defaultValue:ya.fill?c:void 0}),Tf("stroke",
h,{defaultValue:ya.stroke?r:void 0}))}function $i(h){const {encoding:F,mark:c}=h,r=F.order;return!ce(c)&&Zc(r)?tg(h,r,"zindex",I=>Hd(I.value)):{}}function Fh(h,F){h=ub(h);if(F=F[h])return F}function Xf(h,F,c){var {defaultPos:r,vgChannel:I,isMidPoint:ha}=c;const {encoding:qa,markDef:ya,config:Va,stack:hb}=F;c=qa[h];const Ab=qa[Sa(h)],Fb=F.scaleName(h),$b=F.getScaleComponent(h),Hc=Fh(h,ya),Rc=ai({model:F,defaultPos:r,channel:h,scaleName:Fb,scale:$b});if(!c&&h in cg&&(qa.latitude||qa.longitude))F={field:F.getName(h)};
else a:{F={channel:h,channelDef:c,channel2Def:Ab,markDef:ya,config:Va,isMidPoint:ha,scaleName:Fb,scale:$b,stack:hb,offset:Hc,defaultRef:Rc};const {channel:Xc,channelDef:qd,isMidPoint:vd,scaleName:ee,stack:Re,offset:Vd,markDef:Ne,config:Bd}=F;if(zd(qd)&&Re&&Xc===Re.fieldChannel){if(tc(qd)&&(F=mb({channel:Xc,fieldDef:qd,isMidPoint:vd,markDef:Ne,stack:Re,config:Bd}),void 0!==F)){F=Ed({scaleName:ee,fieldOrDatumDef:qd,startSuffix:"start",band:F,offset:Vd});break a}F=qe(qd,ee,{suffix:"end"},{offset:Vd})}else F=
Ad(F)}return F?{[I||h]:F}:void 0}function ai(h){var {model:F,defaultPos:c,channel:r,scaleName:I,scale:ha}=h;const {markDef:qa,config:ya}=F;return()=>{var Va=ab(r),hb=Ba(r);hb=Xd(r,qa,ya,{vgChannel:hb});if(void 0!==hb)return nf(r,hb);switch(c){case "zeroOrMin":case "zeroOrMax":if(I&&(hb=ha.get("type"),!D([Vf.LOG,Vf.TIME,Vf.UTC],hb)&&ha.domainDefinitelyIncludesZero()))return{scale:I,value:0};if("zeroOrMin"===c)return"y"===Va?{field:{group:"height"}}:{value:0};switch(Va){case "radius":return{signal:"min(".concat(F.width.signal,
",").concat(F.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return Va=F[lb(r)],Object.assign({},Va,{mult:.5})}}}function aj(h,F,c,r){r=void 0===r?"middle":r;if("radius"===h||"theta"===h)return Ba(h);var I="x"===h?"align":"baseline";F=Xd(I,F,c);zc(F)?(Gb("The ".concat(I," for range marks cannot be an expression")),I=void 0):I=F;return"x"===h?am[I||("top"===r?"left":"center")]:bm[I||r]}function Gh(h,F,c){var {defaultPos:r,
defaultPos2:I,range:ha}=c;return ha?bj(h,F,{defaultPos:r,defaultPos2:I}):Xf(h,F,{defaultPos:r})}function bj(h,F,c){var {defaultPos:r,defaultPos2:I}=c;const {markDef:ha,config:qa}=F;var ya=Sa(h);c=lb(h);{const {encoding:Vd,mark:Ne,markDef:Bd,stack:Gf,config:We}=F;var Va=ab(ya);const pe=lb(ya),Af=Ba(ya);var hb=Vd[Va];const Rf=F.scaleName(Va),mf=F.getScaleComponent(Va);Va=ya in Vd||ya in Bd?Fh(ya,F.markDef):Fh(Va,F.markDef);if(hb||"x2"!==ya&&"y2"!==ya||!Vd.latitude&&!Vd.longitude){var {channel:Ab,channelDef:Fb,
channel2Def:$b,markDef:Hc,config:Rc,scaleName:Xc,scale:qd,stack:vd,offset:ee,defaultRef:Re}={channel:ya,channelDef:hb,channel2Def:Vd[ya],markDef:Bd,config:We,scaleName:Rf,scale:mf,stack:Gf,offset:Va,defaultRef:void 0};hb=zd(Fb)&&vd&&Ab.charAt(0)===vd.fieldChannel.charAt(0)?qe(Fb,Xc,{suffix:"start"},{offset:ee}):Ad({channel:Ab,channelDef:$b,scaleName:Xc,scale:qd,stack:vd,markDef:Hc,config:Rc,offset:ee,defaultRef:Re});ya=void 0!==hb?{[Af]:hb}:bi(ya,Bd)||bi(ya,{[ya]:He(ya,Bd,We.style),[pe]:He(pe,Bd,
We.style)})||bi(ya,We[Ne])||bi(ya,We.mark)||{[Af]:ai({model:F,defaultPos:I,channel:ya,scaleName:Rf,scale:mf})()}}else ya={[Af]:{field:F.getName(ya)}}}c=ya[c]?aj(h,ha,qa):Ba(h);return Object.assign({},Xf(h,F,{defaultPos:r,vgChannel:c}),ya)}function bi(h,F){const c=lb(h),r=Ba(h);if(void 0!==F[r])return{[r]:nf(h,F[r])};if(void 0!==F[h])return{[r]:nf(h,F[h])};if(F[c])return{[c]:nf(h,F[c])}}function Ig(h,F,c){var r,I;const {config:ha,encoding:qa,markDef:ya,stack:Va}=h;var hb=Sa(F),Ab=lb(F),Fb=qa[F];hb=
qa[hb];var $b=h.getScaleComponent(F),Hc=$b?$b.get("type"):void 0,Rc=h.scaleName(F);const Xc=ya.orient;Ab=null!==(r=null!==(I=qa[Ab])&&void 0!==I?I:qa.size)&&void 0!==r?r:Xd("size",ya,ha,{vgChannel:Ab});r="bar"===c&&("x"===F?"vertical"===Xc:"horizontal"===Xc);if(tc(Fb)&&(kc(Fb.bin)||vc(Fb.bin)||Fb.timeUnit&&!hb)&&!Ab&&!(Hc in og)){var qd,vd;c=mb({channel:F,fieldDef:Fb,stack:Va,markDef:ya,config:ha});h=null===(qd=h.component.axes[F])||void 0===qd?void 0:qd[0];h=null!==(vd=null===h||void 0===h?void 0:
h.get("translate"))&&void 0!==vd?vd:.5;a:{F={fieldDef:Fb,fieldDef2:hb,channel:F,markDef:ya,scaleName:Rc,band:c,axisTranslate:h,spacing:F in cg?Xd("binSpacing",ya,ha):void 0,reverse:$b.get("reverse"),config:ha};var {fieldDef:ee,fieldDef2:Re,channel:Vd,band:Ne,scaleName:Bd,markDef:Gf,spacing:We=0,axisTranslate:pe,reverse:Af,config:Rf}=F;F=Sa(Vd);Fb=Ba(Vd);h=Ba(F);c=Fh(Vd,Gf);if(kc(ee.bin)||ee.timeUnit)F={[h]:cj({channel:Vd,fieldDef:ee,scaleName:Bd,markDef:Gf,band:(1-Ne)/2,offset:fh(F,We,Af,pe,c),config:Rf}),
[Fb]:cj({channel:Vd,fieldDef:ee,scaleName:Bd,markDef:Gf,band:1-(1-Ne)/2,offset:fh(Vd,We,Af,pe,c),config:Rf})};else{if(vc(ee.bin)){var mf=qe(ee,Bd,{},{offset:fh(F,We,Af,pe,c)});if(tc(Re)){F={[h]:mf,[Fb]:qe(Re,Bd,{},{offset:fh(Vd,We,Af,pe,c)})};break a}if(u(ee.bin)&&ee.bin.step){F={[h]:mf,[Fb]:{signal:'scale("'.concat(Bd,'", ').concat(Wc(ee,{expr:"datum"})," + ").concat(ee.bin.step,")"),offset:fh(Vd,We,Af,pe,c)}};break a}}Gb(Xb(F));F=void 0}}return F}if((zd(Fb)&&Hc in og||r)&&!hb){{var Sf;const {markDef:Mf,
encoding:Oj,config:ch,stack:ui}=h;qd=Mf.orient;$b=h.scaleName(F);Rc=h.getScaleComponent(F);vd=lb(F);hb=Sa(F);qd="horizontal"===qd&&"y"===F||"vertical"===qd&&"x"===F;r=Xd(qd?"size":vd,Mf,ch,{vgChannel:vd});if(Oj.size||void 0!==r)qd?mf=Tf("size",h,{vgChannel:vd,defaultValue:r}):Gb('Cannot apply size to non-oriented mark "'.concat(Mf.type,'".'));qd=null!==(Sf=zd(Fb)?mb({channel:F,fieldDef:Fb,markDef:Mf,stack:ui,config:ch}):void 0)&&void 0!==Sf?Sf:1;mf||(Hc=vd,Sf=$b,r=Rc,mf=ch,I=qd,r?(Hc=r.get("type"),
"point"===Hc||"band"===Hc?void 0!==mf[c].discreteBandSize?c={value:mf[c].discreteBandSize}:Hc===Vf.POINT?(c=r.get("range"),c=rc(c)&&a(c.step)?{value:c.step-2}:{value:18}):c={scale:Sf,band:I}:c={value:mf[c].continuousBandSize}):(Sf=q(mf.view,Hc),c=za(mf[c].discreteBandSize,Sf-2),c=void 0!==c?{value:c}:void 0),mf={[vd]:c});r="band"!==(null===Rc||void 0===Rc?void 0:Rc.get("type"))||!("band"in mf[vd]);c=aj(F,Mf,ch,r?"middle":"top");Sf=Fh(F,Mf);F=Ad({channel:F,channelDef:Fb,markDef:Mf,config:ch,scaleName:$b,
scale:Rc,stack:ui,offset:Sf,defaultRef:ai({model:h,defaultPos:"mid",channel:F,scaleName:$b,scale:Rc}),band:r?.5:(1-qd)/2});vd?F=Object.assign({},{[c]:F},mf):(Fb=Ba(hb),h=mf[vd],h=Sf?Object.assign({},h,{offset:Sf}):h,F={[c]:F,[Fb]:le(F)?[F[0],Object.assign({},F[1],{offset:h})]:Object.assign({},F,{offset:h})})}return F}return bj(F,h,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function fh(h,F,c,r,I){if(h in Kj)return 0;h="x"===h||"y2"===h?-F/2:F/2;if(zc(c)||zc(I)||zc(r))return c=$d(c),I=$d(I),
r=(r=$d(r))?"".concat(r," + "):"",c=c?"(".concat(c," ? -1 : 1) * "):"",h=I?"(".concat(I," + ").concat(h,")"):h,{signal:r+c+h};I=I||0;return r+(c?-I-h:+I+h)}function cj(h){var {channel:F,fieldDef:c,scaleName:r,markDef:I,band:ha,offset:qa,config:ya}=h;h=Ed({scaleName:r,fieldOrDatumDef:c,band:ha,offset:qa});return Yd({fieldDef:c,channel:F,markDef:I,ref:h,config:ya})}function pg(h,F){const {fill:c,stroke:r}="include"===F.color?Zi(h):{};return Object.assign({},dj(h.markDef,F),Hh(h,"fill",c),Hh(h,"stroke",
r),Tf("opacity",h),Tf("fillOpacity",h),Tf("strokeOpacity",h),Tf("strokeWidth",h),Tf("strokeDash",h),$i(h),Xi(h),Dh(h,"href"),$h(h))}function Hh(h,F,c){const {config:r,mark:I,markDef:ha}=h;return"hide"===Xd("invalid",ha,r)&&c&&!ce(I)&&(h=ej(h,{invalid:!0,channels:fj}))?{[F]:[{test:h,value:null},...d(c)]}:c?{[F]:c}:{}}function dj(h,F){return cm.reduce((c,r)=>{dm.has(r)||void 0===h[r]||"ignore"===F[r]||(c[r]=Hd(h[r]));return c},{})}function ej(h,F){var {invalid:c=!1,channels:r}=F;F=r.reduce((I,ha)=>
{var qa=h.getScaleComponent(ha);qa&&(qa=qa.get("type"),(ha=h.vgField(ha,{expr:"datum"}))&&qa in xg&&(I[ha]=!0));return I},{});F=ud(F);if(0<F.length){const I=c?"||":"\x26\x26";return F.map(ha=>ef(ha,c)).join(" ".concat(I," "))}}function xi(h){const {config:F,markDef:c}=h;return Xd("invalid",c,F)&&(h=Pj(h,{channels:yg}))?{defined:{signal:h}}:{}}function Pj(h,F){var {invalid:c=!1,channels:r}=F;F=r.reduce((I,ha)=>{var qa=h.getScaleComponent(ha);qa&&(qa=qa.get("type"),(ha=h.vgField(ha,{expr:"datum"}))&&
qa in xg&&(I[ha]=!0));return I},{});F=ud(F);if(0<F.length){const I=c?"||":"\x26\x26";return F.map(ha=>ef(ha,c)).join(" ".concat(I," "))}}function Hf(h,F){if(void 0!==F)return{[h]:Hd(F)}}function yi(h,F){h=n(h.scaleName(F));return"domain(".concat(h,")")}function Rg(h){var F;return h.parent&&ci(h.parent)&&(null!==(F=!h.parent.parent)&&void 0!==F?F:Rg(h.parent.parent))}function zi(h,F,c){var r;const I=null===(r=h.fieldDef(F))||void 0===r?void 0:r.field;Jg(h,ha=>{var qa;const ya=null!==(qa=ha.project.hasField[I])&&
void 0!==qa?qa:ha.project.hasChannel[F];if(ya&&Kk.has(ha)){var Va;qa=null!==(Va=c.get("selections"))&&void 0!==Va?Va:[];qa.push(ha.name);c.set("selections",qa,!1);ya.hasLegend=!0}})}function Ai(h,F,c,r,I){var ha,qa=F.name,ya=qa+"_translate_anchor";qa+="_translate_delta";var Va=c.channel;const hb=gh.has(F);F=I.filter(Fb=>Fb.name===c.signals[hb?"data":"visual"])[0];r=h.getSizeSignalRef(r).signal;h=h.getScaleComponent(Va);I=h.get("type");const Ab=hb&&"x"===Va?"-":"";ya="".concat(ya,".extent_").concat(Va);
Va="".concat(Ab).concat(qa,".").concat(Va," / ")+(hb?"".concat(r):"span(".concat(ya,")"));ya="".concat(hb?"log"===I?"panLog":"pow"===I?"panPow":"panLinear":"panLinear","(").concat(ya,", ").concat(Va)+(hb&&"pow"===I?", ".concat(null!==(ha=h.get("exponent"))&&void 0!==ha?ha:1):"")+")";F.on.push({events:{signal:qa},update:hb?ya:"clampRange(".concat(ya,", 0, ").concat(r,")")})}function Bi(h,F,c,r,I){var ha,qa=F.name;const ya=c.channel,Va=gh.has(F);F=I.filter(Fb=>Fb.name===c.signals[Va?"data":"visual"])[0];
r=h.getSizeSignalRef(r).signal;I=h.getScaleComponent(ya);const hb=I.get("type"),Ab=Va?yi(h,ya):F.name;h=qa+"_zoom_delta";qa="".concat(qa).concat("_zoom_anchor",".").concat(ya);qa="".concat(Va?"log"===hb?"zoomLog":"pow"===hb?"zoomPow":"zoomLinear":"zoomLinear","(").concat(Ab,", ").concat(qa,", ").concat(h)+(Va&&"pow"===hb?", ".concat(null!==(ha=I.get("exponent"))&&void 0!==ha?ha:1):"")+")";F.on.push({events:{signal:h},update:Va?qa:"clampRange(".concat(qa,", 0, ").concat(r,")")})}function Ih(h,F){for(const c of em)c.has(h)&&
F(c)}function Sg(h,F,c){F=void 0===F?!0:F;c=void 0===c?fm:c;return le(h)?(h=h.map(r=>Sg(r,F,c)),F?"[".concat(h.join(", "),"]"):h):pc(h)?F?c(Nb(h)):c(cc(h)):F?c(JSON.stringify(h)):h}function gj(h,F){Jg(h,(c,r)=>{const I=c.name;let ha=r.modifyExpr(h,c);F.push(...r.signals(h,c));Ih(c,qa=>{qa.signals&&(F=qa.signals(h,c,F));qa.modifyExpr&&(ha=qa.modifyExpr(h,c,ha))});F.push({name:I+"_modify",on:[{events:{signal:c.name+"_tuple"},update:"modify(".concat(n(c.name+"_store"),", ").concat(ha,")")}]})});return Ci(F)}
function Di(h,F){h.component.selection&&ud(h.component.selection).length&&(h=n(h.getName("cell")),F.unshift({name:"facet",value:{},on:[{events:$e("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(h,").datum")}]}));return Ci(F)}function hj(h,F){let c=!1;Jg(h,(r,I)=>{const ha=r.name,qa=n(ha+"_store");if(0===F.filter(ya=>ya.name===ha).length){const ya="global"===r.resolve?"union":r.resolve,Va="multi"===r.type?", true)":")";F.push({name:r.name,update:"".concat("vlSelectionResolve",
"(").concat(qa,", ").concat(n(ya)).concat(Va)})}c=!0;I.topLevelSignals&&(F=I.topLevelSignals(h,r,F));Ih(r,ya=>{ya.topLevelSignals&&(F=ya.topLevelSignals(h,r,F))})});c&&0===F.filter(r=>"unit"===r.name).length&&F.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Ci(F)}function ij(h,F){const c=[...F];Jg(h,r=>{const I={name:r.name+"_store"};if(r.init){const ha=r.project.items.map(ya=>{ya=Object.assign({},ya);return delete ya.signals,ya}),qa=r.init.map(ya=>
Sg(ya,!1));I.values="interval"===r.type?[{unit:Yf(h,{escape:!1}),fields:ha,values:qa}]:qa.map(ya=>({unit:Yf(h,{escape:!1}),fields:ha,values:ya}))}c.filter(ha=>ha.name===r.name+"_store").length||c.push(I)});return c}function jj(h,F){Jg(h,(c,r)=>{F=r.marks?r.marks(h,c,F):F;Ih(c,I=>{I.marks&&(F=I.marks(h,c,F))})});return F}function hh(h,F){for(const c of h.children)Qf(c)&&(F=jj(c,F));return F}function Ci(h){return h.map(F=>{F.on&&!F.on.length&&delete F.on;return F})}function di(h,F,c,r){const I=c.channel,
ha=c.signals.visual;c=c.signals.data;const qa=gh.has(F),ya=n(h.scaleName(I));var Va=h.getScaleComponent(I);Va=Va?Va.get("type"):void 0;const hb=$b=>"scale(".concat(ya,", ").concat($b,")"),Ab=h.getSizeSignalRef("x"===I?"width":"height").signal,Fb="".concat(I,"(unit)");h=kj(F,($b,Hc)=>[...$b,{events:Hc.between[0],update:"[".concat(Fb,", ").concat(Fb,"]")},{events:Hc,update:"[".concat(ha,"[0], clamp(").concat(Fb,", 0, ").concat(Ab,")]")}]);h.push({events:{signal:F.name+"_scale_trigger"},update:Va in
xg?"[".concat(hb("".concat(c,"[0]")),", ").concat(hb("".concat(c,"[1]")),"]"):"[0, 0]"});return qa?[{name:c,on:[]}]:[Object.assign({},{name:ha},r?{init:Sg(r,!0,hb)}:{value:[]},{on:h}),Object.assign({},{name:c},r?{init:Sg(r)}:{},{on:[{events:{signal:ha},update:"".concat(ha,"[0] \x3d\x3d\x3d ").concat(ha,"[1] ? null : invert(").concat(ya,", ").concat(ha,")")}]})]}function kj(h,F){return h.events.reduce((c,r)=>r.between?F(c,r):(Gb("".concat(r," is not an ordered event stream for interval selections.")),
c),[])}function $f(h,F){const c=F.name;var r=c+"_tuple_fields";const I=F.project.items.map(ha=>{const qa=h.fieldDef(ha.channel);return qa&&qa.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ha.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ha.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(ha.field),"]")}).join(", ");r="unit: ".concat(Yf(h),", fields: ").concat(r,
", values");F=F.events;return[{name:c+"_tuple",on:F?[{events:F,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(r,": [").concat(I,"]} : null"),force:!0}]:[]}]}function Jg(h,F){if(h=h.component.selection)for(const c of Tg(h))if(!0===F(c,gm[c.type]))break}function Yf(h,F){({escape:F}=void 0===F?{escape:!0}:F);F=F?n(h.name):h.name;for(h=h.parent;h&&!Gg(h);)h=h.parent;if(h){const {facet:c}=h;for(const r of zg)c[r]&&(F+=" + '__facet_".concat(r,"_' + (facet[").concat(n(h.vgField(r)),
"])"))}return F}function ei(h){let F=!1;Jg(h,c=>{F=F||c.project.items.some(r=>"_vgsid_"===r.field)});return F}function qg(h){this.type=h}function fi(h){switch(h.type){case "ArrayExpression":return h.elements;case "BinaryExpression":case "LogicalExpression":return[h.left,h.right];case "CallExpression":return[h.callee].concat(h.arguments);case "ConditionalExpression":return[h.test,h.consequent,h.alternate];case "MemberExpression":return[h.object,h.property];case "ObjectExpression":return h.properties;
case "Property":return[h.key,h.value];case "UnaryExpression":return[h.argument];default:return[]}}function af(h,F){if(!h)throw Error("ASSERT: "+F);}function gf(h){return 48<=h&&57>=h}function Wf(h){return 0<="0123456789abcdefABCDEF".indexOf(h)}function Jh(h){return 0<="01234567".indexOf(h)}function Kg(h){return 10===h||13===h||8232===h||8233===h}function dg(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||128<=h&&hm.test(String.fromCharCode(h))}function Ug(h){return 36===h||95===h||
65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&im.test(String.fromCharCode(h))}function lj(){for(;gd<gg;){const h=je.charCodeAt(gd);if(32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)||Kg(h))++gd;else break}}function Ei(h){var F=0;var c="u"===h?4:2;for(h=0;h<c;++h)if(gd<gg&&Wf(je[gd])){var r=je[gd++];F=16*F+"0123456789abcdef".indexOf(r.toLowerCase())}else Ye({},"Unexpected token %0",
"ILLEGAL");return String.fromCharCode(F)}function ih(){var h=je.charCodeAt(gd++);var F=String.fromCharCode(h);92===h&&(117!==je.charCodeAt(gd)&&Ye({},"Unexpected token %0","ILLEGAL"),++gd,(h=Ei("u"))&&"\\"!==h&&dg(h.charCodeAt(0))||Ye({},"Unexpected token %0","ILLEGAL"),F=h);for(;gd<gg;){h=je.charCodeAt(gd);if(!Ug(h))break;++gd;F+=String.fromCharCode(h);92===h&&(F=F.substr(0,F.length-1),117!==je.charCodeAt(gd)&&Ye({},"Unexpected token %0","ILLEGAL"),++gd,(h=Ei("u"))&&"\\"!==h&&Ug(h.charCodeAt(0))||
Ye({},"Unexpected token %0","ILLEGAL"),F+=h)}return F}function jh(){var h=gd,F=je.charCodeAt(gd),c=je[gd];switch(F){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++gd,{type:7,value:String.fromCharCode(F),start:h,end:gd};default:var r=je.charCodeAt(gd+1);if(61===r)switch(F){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return gd+=2,{type:7,value:String.fromCharCode(F)+String.fromCharCode(r),start:h,end:gd};
case 33:case 61:return gd+=2,61===je.charCodeAt(gd)&&++gd,{type:7,value:je.slice(h,gd),start:h,end:gd}}}F=je.substr(gd,4);if("\x3e\x3e\x3e\x3d"===F)return gd+=4,{type:7,value:F,start:h,end:gd};F=F.substr(0,3);if("\x3e\x3e\x3e"===F||"\x3c\x3c\x3d"===F||"\x3e\x3e\x3d"===F)return gd+=3,{type:7,value:F,start:h,end:gd};F=F.substr(0,2);if(c===F[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===F)return gd+=2,{type:7,value:F,start:h,end:gd};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++gd,{type:7,
value:c,start:h,end:gd};Ye({},"Unexpected token %0","ILLEGAL")}function kh(){var h=je[gd];af(gf(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");var F=gd;var c="";if("."!==h){c=je[gd++];h=je[gd];if("0"===c){if("x"===h||"X"===h){++gd;for(c="";gd<gg&&Wf(je[gd]);)c+=je[gd++];0===c.length&&Ye({},"Unexpected token %0","ILLEGAL");dg(je.charCodeAt(gd))&&Ye({},"Unexpected token %0","ILLEGAL");return F={type:6,value:parseInt("0x"+c,16),start:F,end:gd}}if(Jh(h)){for(c=
"0"+je[gd++];gd<gg&&Jh(je[gd]);)c+=je[gd++];(dg(je.charCodeAt(gd))||gf(je.charCodeAt(gd)))&&Ye({},"Unexpected token %0","ILLEGAL");return F={type:6,value:parseInt(c,8),octal:!0,start:F,end:gd}}h&&gf(h.charCodeAt(0))&&Ye({},"Unexpected token %0","ILLEGAL")}for(;gf(je.charCodeAt(gd));)c+=je[gd++];h=je[gd]}if("."===h){for(c+=je[gd++];gf(je.charCodeAt(gd));)c+=je[gd++];h=je[gd]}if("e"===h||"E"===h){c+=je[gd++];h=je[gd];if("+"===h||"-"===h)c+=je[gd++];if(gf(je.charCodeAt(gd)))for(;gf(je.charCodeAt(gd));)c+=
je[gd++];else Ye({},"Unexpected token %0","ILLEGAL")}dg(je.charCodeAt(gd))&&Ye({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:F,end:gd}}function rg(h,F){let c=h;0<=F.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,I)=>{if(1114111>=parseInt(I,16))return"x";Ye({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(r){Ye({},"Invalid regular expression")}try{return new RegExp(h,F)}catch(r){return null}}function mj(){lj();
if(gd>=gg)return{type:2,start:gd,end:gd};var h=je.charCodeAt(gd);if(dg(h)){h=gd;if(92===je.charCodeAt(gd))var F=ih();else a:{for(F=gd++;gd<gg;){var c=je.charCodeAt(gd);if(92===c){gd=F;F=ih();break a}if(Ug(c))++gd;else break}F=je.slice(F,gd)}return{type:1===F.length?3:jm.hasOwnProperty(F)?4:"null"===F?5:"true"===F||"false"===F?1:3,value:F,start:h,end:gd}}if(40===h||41===h||59===h)return jh();if(39===h||34===h){var r="";c=!1;h=je[gd];af("'"===h||'"'===h,"String literal must starts with a quote");F=
gd;for(++gd;gd<gg;){var I=je[gd++];if(I===h){h="";break}else if("\\"===I)if((I=je[gd++])&&Kg(I.charCodeAt(0)))"\r"===I&&"\n"===je[gd]&&++gd;else switch(I){case "u":case "x":if("{"===je[gd]){++gd;var ha=je[gd];I=0;for("}"===ha&&Ye({},"Unexpected token %0","ILLEGAL");gd<gg;){ha=je[gd++];if(!Wf(ha))break;I=16*I+"0123456789abcdef".indexOf(ha.toLowerCase())}(1114111<I||"}"!==ha)&&Ye({},"Unexpected token %0","ILLEGAL");I=65535>=I?String.fromCharCode(I):String.fromCharCode((I-65536>>10)+55296,(I-65536&1023)+
56320);r+=I}else r+=Ei(I);break;case "n":r+="\n";break;case "r":r+="\r";break;case "t":r+="\t";break;case "b":r+="\b";break;case "f":r+="\f";break;case "v":r+="\x0B";break;default:Jh(I)?(ha="01234567".indexOf(I),0!==ha&&(c=!0),gd<gg&&Jh(je[gd])&&(c=!0,ha=8*ha+"01234567".indexOf(je[gd++]),0<="0123".indexOf(I)&&gd<gg&&Jh(je[gd])&&(ha=8*ha+"01234567".indexOf(je[gd++]))),r+=String.fromCharCode(ha)):r+=I}else if(Kg(I.charCodeAt(0)))break;else r+=I}""!==h&&Ye({},"Unexpected token %0","ILLEGAL");return{type:8,
value:r,octal:c,start:F,end:gd}}return 46===h?gf(je.charCodeAt(gd+1))?kh():jh():gf(h)?kh():jh()}function hg(){const h=pf;gd=h.end;pf=mj();gd=h.end;return h}function Lg(){const h=gd;pf=mj();gd=h}function Fi(h,F,c){const r=new qg("||"===h||"\x26\x26"===h?"LogicalExpression":"BinaryExpression");r.operator=h;r.left=F;r.right=c;return r}function Kh(h){const F=new qg("Identifier");F.name=h;return F}function ug(h){const F=new qg("Literal");F.value=h.value;F.raw=je.slice(h.start,h.end);h.regex&&("//"===F.raw&&
(F.raw="/(?:)/"),F.regex=h.regex);return F}function lh(h,F,c){const r=new qg("MemberExpression");r.computed="["===h;r.object=F;r.property=c;r.computed||(c.member=!0);return r}function mh(h,F,c){const r=new qg("Property");r.key=F;r.value=c;r.kind=h;return r}function Ye(h,F){var c=Array.prototype.slice.call(arguments,2),r=F.replace(/%(\d)/g,(ha,qa)=>{af(qa<c.length,"Message reference must be in range");return c[qa]});var I=Error(r);I.index=gd;I.description=r;throw I;}function Vg(h){2===h.type&&Ye(h,
"Unexpected end of input");6===h.type&&Ye(h,"Unexpected number");8===h.type&&Ye(h,"Unexpected string");3===h.type&&Ye(h,"Unexpected identifier");4===h.type&&Ye(h,"Unexpected reserved word");Ye(h,"Unexpected token %0",h.value)}function Kf(h){const F=hg();7===F.type&&F.value===h||Vg(F)}function Df(h){return 7===pf.type&&pf.value===h}function nh(){gd=pf.start;const h=hg();return 8===h.type||6===h.type?(h.octal&&Ye(h,"Octal literals are not allowed in strict mode."),ug(h)):Kh(h.value)}function gi(){if(Df("(")){Kf("(");
var h=oh();Kf(")");return h}if(Df("[")){h=[];gd=pf.start;for(Kf("[");!Df("]");)Df(",")?(hg(),h.push(null)):(h.push(Wg()),Df("]")||Kf(","));hg();var F=new qg("ArrayExpression");F.elements=h;return h=F}if(Df("{")){h=[];F={};var c=String;gd=pf.start;for(Kf("{");!Df("}");){gd=pf.start;var r=pf;if(3===r.type){var I=nh();Kf(":");r=Wg();r=mh("init",I,r)}else 2===r.type||7===r.type?(Vg(r),r=void 0):(I=nh(),Kf(":"),r=Wg(),r=mh("init",I,r));I="Identifier"===r.key.type?r.key.name:c(r.key.value);I="$"+I;Object.prototype.hasOwnProperty.call(F,
I)?Ye({},"Duplicate data property in object literal not allowed in strict mode"):F[I]=!0;h.push(r);Df("}")||Kf(",")}Kf("}");F=new qg("ObjectExpression");F.properties=h;return h=F}h=pf.type;gd=pf.start;if(3===h||km[pf.value])F=Kh(hg().value);else if(8===h||6===h)pf.octal&&Ye(pf,"Octal literals are not allowed in strict mode."),F=ug(hg());else{if(4===h)throw Error("Disabled.");if(1===h)h=hg(),h.value="true"===h.value,F=ug(h);else if(5===h)h=hg(),h.value=null,F=ug(h);else if(Df("/")||Df("/\x3d")){var ha;
pf=null;lj();h=gd;F=je[gd];af("/"===F,"Regular expression literal must start with a slash");c=je[gd++];for(I=r=!1;gd<gg;)if(F=je[gd++],c+=F,"\\"===F)F=je[gd++],Kg(F.charCodeAt(0))&&Ye({},"Invalid regular expression: missing /"),c+=F;else if(Kg(F.charCodeAt(0)))Ye({},"Invalid regular expression: missing /");else if(r)"]"===F&&(r=!1);else if("/"===F){I=!0;break}else"["===F&&(r=!0);I||Ye({},"Invalid regular expression: missing /");F=c.substr(1,c.length-2);for(ha=I="";gd<gg;){r=je[gd];if(!Ug(r.charCodeAt(0)))break;
++gd;"\\"===r&&gd<gg?Ye({},"Unexpected token %0","ILLEGAL"):(ha+=r,I+=r)}0<=ha.search(/[^gimuy]/g)&&Ye({},"Invalid regular expression",ha);r=ha;ha=rg(F,r);F=ug({literal:c+I,value:ha,regex:{pattern:F,flags:r},start:h,end:gd});Lg()}else Vg(hg())}return F}function nj(){var h;for(h=gi();;)if(Df(".")){Kf(".");gd=pf.start;var F=hg();3===F.type||4===F.type||1===F.type||5===F.type||Vg(F);F=Kh(F.value);h=lh(".",h,F)}else if(Df("(")){F=[];Kf("(");if(!Df(")"))for(;gd<gg;){F.push(Wg());if(Df(")"))break;Kf(",")}Kf(")");
{const c=new qg("CallExpression");c.callee=h;c.arguments=F;h=c}}else if(Df("["))Kf("["),F=oh(),Kf("]"),h=lh("[",h,F);else break;if(7===pf.type&&(Df("++")||Df("--")))throw Error("Disabled.");return h}function hi(){if(7!==pf.type&&4!==pf.type)var h=nj();else{if(Df("++")||Df("--"))throw Error("Disabled.");if(Df("+")||Df("-")||Df("~")||Df("!")){var F=hg();h=hi();{F=F.value;const c=new qg("UnaryExpression");c.operator=F;c.argument=h;c.prefix=!0;h=c}}else{if(4===pf.type&&"delete"===pf.value||4===pf.type&&
"void"===pf.value||4===pf.type&&"typeof"===pf.value)throw Error("Disabled.");h=nj()}}return h}function ph(h){let F=0;if(7!==h.type&&4!==h.type)return 0;switch(h.value){case "||":F=1;break;case "\x26\x26":F=2;break;case "|":F=3;break;case "^":F=4;break;case "\x26":F=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":F=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":F=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":F=8;break;
case "+":case "-":F=9;break;case "*":case "/":case "%":F=11}return F}function Wg(){var h=pf;var F=hi();var c=pf;var r=ph(c);if(0===r)var I=F;else{c.prec=r;hg();h=[h,pf];var ha=hi();for(I=[F,c,ha];0<(r=ph(pf));){for(;2<I.length&&r<=I[I.length-2].prec;)ha=I.pop(),c=I.pop().value,F=I.pop(),h.pop(),F=Fi(c,F,ha),I.push(F);c=hg();c.prec=r;I.push(c);h.push(pf);F=hi();I.push(F)}r=I.length-1;F=I[r];for(h.pop();1<r;)h.pop(),F=Fi(I[r-1].value,I[r-2],F),r-=2;I=F}Df("?")&&(hg(),h=Wg(),Kf(":"),r=Wg(),F=new qg("ConditionalExpression"),
F.test=I,F.consequent=h,F.alternate=r,I=F);return I}function oh(){const h=Wg();if(Df(","))throw Error("Disabled.");return h}function ve(h){je=h;gd=0;gg=je.length;pf=null;Lg();h=oh();if(2!==pf.type)throw Error("Unexpect token after expression.");return h}function Gi(h){const F=[];if("Identifier"===h.type)return[h.name];if("Literal"===h.type)return[h.value];"MemberExpression"===h.type&&(F.push(...Gi(h.object)),F.push(...Gi(h.property)));return F}function ii(h){return"MemberExpression"===h.object.type?
ii(h.object):"datum"===h.object.name}function ji(h){h=ve(h);const F=new Set;h.visit(c=>{"MemberExpression"===c.type&&ii(c)&&F.add(Gi(c).slice(1).join("."))});return F}function Hi(h,F){const c={},r=h.config.selection;for(const qa of ud(null!==F&&void 0!==F?F:{})){const ya=Ve(F[qa]);var I=Object.assign({},r[ya.type]);I=(delete I.fields,delete I.encodings,I);for(const hb in I)if(!("encodings"===hb&&ya.fields||"fields"===hb&&ya.encodings)&&("mark"===hb&&(ya[hb]=Object.assign({},I[hb],ya[hb])),void 0===
ya[hb]||!0===ya[hb])){var ha;ya[hb]=null!==(ha=I[hb])&&void 0!==ha?ha:ya[hb]}I=Y(qa);const Va=c[I]=Object.assign({},ya,{name:I,events:e(ya.on)?$e(ya.on,"scope"):Ve(ya.on)});Ih(Va,hb=>{hb.has(Va)&&hb.parse&&hb.parse(h,Va,ya,F[qa])})}return c}function Wi(h,F,c,r){r=void 0===r?"datum":r;const I=[];F=ka(F,function(ha){var qa=Y(ha);ha=h.getSelectionComponent(qa,ha);qa=n(qa+"_store");if(ha.project.timeUnit){const ya=null!==c&&void 0!==c?c:h.component.data.raw,Va=ha.project.timeUnit.clone();ya.parent?Va.insertAsParentOf(ya):
ya.parent=Va}"none"!==ha.empty&&I.push(qa);return"vlSelectionTest(".concat(qa,", ").concat(r)+("global"===ha.resolve?")":", ".concat(n(ha.resolve),")"))});return(I.length?"!("+I.map(ha=>"length(data(".concat(ha,"))")).join(" || ")+") || ":"")+"(".concat(F,")")}function oj(h,F){const c=F.encoding;let r=F.field;if(!c&&!r)r=h.project.items[0].field,1<h.project.items.length&&Gb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n(r),"."));else if(c&&
!r){const I=h.project.items.filter(ha=>ha.channel===c);!I.length||1<I.length?(r=h.project.items[0].field,Gb((I.length?"Multiple ":"No ")+"matching ".concat(n(c)," encoding found for selection ").concat(n(F.selection),". ")+'Using "field": '.concat(n(r),"."))):r=I[0].field}return"".concat(h.name,"[").concat(n(r),"]")}function Ii(h,F){Jg(h,c=>{const r=c.name,I=h.getName("lookup_".concat(r));h.component.data.outputNodes[I]=c.materialized=new ig(new Ji(F,h,{selection:r}),I,Nf.Lookup,h.component.data.outputNodeRefCounts)})}
function dh(h,F,c){return ka(F,r=>e(r)?r:(null===r||void 0===r?0:r.selection)?Wi(h,r.selection,c):Ae(r))}function qh(h,F){if(h)return le(h)&&!Nd(h)?h.map(c=>ti(c,F)).join(", "):h}function Mg(h,F,c,r){var I,ha,qa;h.encode=null!==(I=h.encode)&&void 0!==I?I:{};h.encode[F]=null!==(ha=h.encode[F])&&void 0!==ha?ha:{};h.encode[F].update=null!==(qa=h.encode[F].update)&&void 0!==qa?qa:{};h.encode[F].update[c]=r}function Lf(h,F,c,r){r=void 0===r?{header:!1}:r;var I=h.combine(),ha=Object.assign({},I),qa=I.disable;
const ya=I.orient,Va=I.scale,hb=I.labelExpr,Ab=I.title;I=I.zindex;ha=(delete ha.disable,delete ha.orient,delete ha.scale,delete ha.labelExpr,delete ha.title,delete ha.zindex,ha);if(!qa){for(const Rc in ha){var Fb=lm[Rc];qa=ha[Rc];if(Fb&&Fb!==F&&"both"!==Fb)delete ha[Rc];else if(ca(qa)){Fb=qa;qa=Object.assign({},Fb);Fb=Fb.condition;qa=(delete qa.condition,qa);Fb=d(Fb);const Xc=Lk[Rc];if(Xc){const {vgProp:qd,part:vd}=Xc;qa=[...Fb.map(ee=>{var Re=Object.assign({},ee);ee=ee.test;Re=(delete Re.test,Re);
return Object.assign({},{test:dh(null,ee)},Re)}),qa];Mg(ha,vd,qd,qa);delete ha[Rc]}else null===Xc&&(qa={signal:Fb.map(qd=>{var vd=Object.assign({},qd);qd=qd.test;vd=(delete vd.test,vd);return"".concat(dh(null,qd)," ? ").concat(se(vd)," : ")}).join("")+se(qa)},ha[Rc]=qa)}else if(zc(qa)&&(Fb=Lk[Rc])){const {vgProp:Xc,part:qd}=Fb;Mg(ha,qd,Xc,qa);delete ha[Rc]}}if("grid"===F){if(ha.grid)return ha.encode&&({grid:c}=ha.encode,ha.encode=Object.assign({},c?{grid:c}:{}),O(ha.encode)&&delete ha.encode),Object.assign({},
{scale:Va,orient:ya},ha,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:za(I,0)})}else if(r.header||!h.mainExtracted){if(void 0!==hb){var $b,Hc;F=hb;(null===($b=ha.encode)||void 0===$b?0:null===(Hc=$b.labels)||void 0===Hc?0:Hc.update)&&zc(ha.encode.labels.update.text)&&(F=ra(hb,"datum.label",ha.encode.labels.update.text.signal));Mg(ha,"labels","text",{signal:F})}null===ha.labelAlign&&delete ha.labelAlign;if(ha.encode){for(const Rc of Mk)h.hasAxisPart(Rc)||delete ha.encode[Rc];
O(ha.encode)&&delete ha.encode}h=qh(Ab,c);return Object.assign({},{scale:Va,orient:ya,grid:!1},h?{title:h}:{},ha,!1===c.aria?{aria:!1}:{},{zindex:za(I,0)})}}}function Lh(h){const {axes:F}=h.component,c=[];for(const r of yg)if(F[r])for(const I of F[r])if(!I.get("disable")&&!I.get("gridScale")){const ha="x"===r?"height":"width",qa=h.getSizeSignalRef(ha).signal;ha!==qa&&c.push({name:ha,update:qa})}return c}function Ag(h,F){const {x:c=[],y:r=[]}=h;return[...c.map(I=>Lf(I,"grid",F)),...r.map(I=>Lf(I,"grid",
F)),...c.map(I=>Lf(I,"main",F)),...r.map(I=>Lf(I,"main",F))].filter(I=>I)}function Ki(h,F,c,r){return Object.assign.apply(null,[{},...h.map(I=>{if("axisOrient"===I){I="x"===c?"bottom":"left";const ha=F["x"===c?"axisBottom":"axisLeft"]||{},qa=F["x"===c?"axisTop":"axisRight"]||{},ya=new Set([...ud(ha),...ud(qa)]),Va={};for(const hb of ya.values())Va[hb]={signal:"".concat(r.signal,' \x3d\x3d\x3d "').concat(I,'" ? ').concat($d(ha[hb])," : ").concat($d(qa[hb]))};return Va}return F[I]})])}function pj(h,
F,c,r){var I="band"===F?["axisDiscrete","axisBand"]:"point"===F?["axisDiscrete","axisPoint"]:F in mm?["axisQuantitative"]:"time"===F||"utc"===F?["axisTemporal"]:[];const ha="x"===h?"axisX":"axisY";F=zc(c)?"axisOrient":"axis"+wa(c);I=[...I,...I.map(qa=>ha+qa.substr(4))];F=["axis",F,ha];return{vlOnlyAxisConfig:Ki(I,r,h,c),vgAxisConfig:Ki(F,r,h,c),axisConfigStyle:Hg([...F,...I],r)}}function Hg(h,F){const c=[{}];for(const I of h){var r;if(h=null===(r=F[I])||void 0===r?void 0:r.style){h=d(h);for(const ha of h)c.push(F.style[ha])}}return Object.assign.apply(null,
c)}function Ng(h,F,c,r){r=void 0===r?{}:r;F=Jf(h,c,F);if(void 0!==F)return{configFrom:"style",configValue:F};for(const ha of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var I;if(void 0!==(null===(I=r[ha])||void 0===I?void 0:I[h]))return{configFrom:ha,configValue:r[ha][h]}}return{}}function Qj(h,F,c,r,I){const ha=null===F||void 0===F?void 0:F.labelAngle;if(void 0!==ha)return zc(ha)?ha:M(ha);({configValue:F}=Ng("labelAngle",r,null===F||void 0===F?void 0:F.style,I));if(void 0!==F)return M(F);
if("x"===c&&D(["nominal","ordinal"],h.type)&&(!tc(h)||!h.timeUnit))return 270}function Li(h){return"(((".concat(h.signal," % 360) + 360) % 360)")}function Xg(h,F,c,r){if(void 0!==h)return"x"===c?zc(h)?(r=Li(h),F=zc(F)?"(".concat(F.signal,' \x3d\x3d\x3d "top")'):"top"===F,{signal:"(45 \x3c ".concat(r," \x26\x26 ").concat(r," \x3c 135) || (225 \x3c ").concat(r," \x26\x26 ").concat(r,' \x3c 315) ? "middle" :')+"(".concat(r," \x3c\x3d 45 || 315 \x3c\x3d ").concat(r,") \x3d\x3d\x3d ").concat(F,' ? "bottom" : "top"')}):
45<h&&135>h||225<h&&315>h?"middle":zc(F)?(r=45>=h||315<=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(F.signal," ").concat(r,' "top" ? "bottom" : "top"')}):(45>=h||315<=h)===("top"===F)?"bottom":"top":zc(h)?(h=Li(h),F=zc(F)?"(".concat(F.signal,' \x3d\x3d\x3d "left")'):"left"===F,r=r?'"middle"':"null",{signal:"".concat(h," \x3c\x3d 45 || 315 \x3c\x3d ").concat(h," || (135 \x3c\x3d ").concat(h," \x26\x26 ").concat(h," \x3c\x3d 225) ? ").concat(r," : (45 \x3c\x3d ").concat(h," \x26\x26 ").concat(h,
" \x3c\x3d 135) \x3d\x3d\x3d ").concat(F,' ? "top" : "bottom"')}):45>=h||315<=h||135<=h&&225>=h?r?"middle":null:zc(F)?(r=45<=h&&135>=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(F.signal," ").concat(r,' "left" ? "top" : "bottom"')}):(45<=h&&135>=h)===("left"===F)?"top":"bottom"}function rh(h,F,c){if(void 0!==h){var r=(c="x"===c)?0:90,I=c?"bottom":"left";return zc(h)?(h=Li(h),F=zc(F)?"(".concat(F.signal,' \x3d\x3d\x3d "').concat(I,'")'):F===I,{signal:"(".concat(r?"("+h+" + 90)":h," % 180 \x3d\x3d\x3d 0) ? ").concat(c?
null:'"center"'," :")+"(".concat(r," \x3c ").concat(h," \x26\x26 ").concat(h," \x3c ").concat(180+r,") \x3d\x3d\x3d ").concat(F,' ? "left" : "right"')}):0===(h+r)%180?c?null:"center":zc(F)?(c=r<h&&h<180+r?"\x3d\x3d\x3d":"!\x3d\x3d",F="".concat(F.signal," ").concat(c,' "').concat(I,'"'),{signal:"".concat(F,' ? "left" : "right"')}):(r<h&&h<180+r)===(F===I)?"left":"right"}}function Mi(h,F){var c="x"===F?"x2":"y2";F=h.fieldDef(F);h=h.fieldDef(c);c=F?F.title:void 0;h=h?h.title:void 0;if(c&&h)return ta(c,
h);if(c)return c;if(h)return h;if(void 0!==c)return c;if(void 0!==h)return h}function sg(h,F,c){return Wc(h,Object.assign({},{prefix:F,suffix:"sort_index"},null!==c&&void 0!==c?c:{}))}function Bg(h,F){return D(["top","bottom"],F)?"column":D(["left","right"],F)?"row":"row"===h?"row":"column"}function Cg(h,F,c,r){return za((F||{})[h],("row"===r?c.headerRow:"column"===r?c.headerColumn:c.headerFacet)[h],c.header[h])}function Mh(h,F,c,r){const I={};for(const ha of h)h=Cg(ha,F||{},c,r),void 0!==h&&(I[ha]=
h);return I}function Rj(h,F){const c=h.component.layoutHeaders[F].title,r=h.config?h.config:void 0;h=h.component.layoutHeaders[F].facetFieldDef?h.component.layoutHeaders[F].facetFieldDef:void 0;const {titleAnchor:I,titleAngle:ha,titleOrient:qa}=Mh(["titleAnchor","titleAngle","titleOrient"],h.header,r,F),ya=Bg(F,qa),Va=M(ha);return{name:"".concat(F,"-title"),type:"group",role:"".concat(ya,"-title"),title:Object.assign({},{text:c},"row"===F?{orient:"left"}:{},{style:"guide-title"},Nh(Va,ya),Oh(ya,Va,
I),sh(r,h,F,nm,Nk))}}function Oh(h,F,c){switch(void 0===c?"middle":c){case "start":return{align:"left"};case "end":return{align:"right"}}return(h=rh(F,"row"===h?"left":"top","row"===h?"y":"x"))?{align:h}:{}}function Nh(h,F){return(h=Xg(h,"row"===F?"left":"top","row"===F?"y":"x",!0))?{baseline:h}:{}}function jg(h,F){const c=h.component.layoutHeaders[F],r=[];for(const Fb of Sj)if(c[Fb])for(const $b of c[Fb]){a:{var I=h;var ha=F,qa=Fb,ya=c,Va=$b;if(Va){let Hc=null;const {facetFieldDef:Rc}=ya;var hb=
I.config?I.config:void 0;if(Rc&&Va.labels){var {labelOrient:Ab}=Mh(["labelOrient"],Rc.header,hb,ha);if("row"===ha&&!D(["top","bottom"],Ab)||"column"===ha&&!D(["left","right"],Ab))Hc=hf(Rc,ha,hb)}hb=Gg(I)&&!Xa(I.facet);Ab=Va.axes;const Xc=0<(null===Ab||void 0===Ab?void 0:Ab.length);if(Hc||Xc){const qd="row"===ha?"height":"width";I=Object.assign({},{name:I.getName("".concat(ha,"_").concat(qa)),type:"group",role:"".concat(ha,"-").concat(qa)},ya.facetFieldDef?{from:{data:I.getName(ha+"_domain")},sort:kg(Rc,
ha)}:{},Xc&&hb?{from:{data:I.getName("facet_domain_".concat(ha))}}:{},Hc?{title:Hc}:{},Va.sizeSignal?{encode:{update:{[qd]:Va.sizeSignal}}}:{},Xc?{axes:Ab}:{});break a}}I=null}null!=I&&r.push(I)}return r}function kg(h,F){const {sort:c}=h;if(sa(c)){var r;return{field:Wc(c,{expr:"datum"}),order:null!==(r=c.order)&&void 0!==r?r:"ascending"}}return le(c)?{field:sg(h,F,{expr:"datum"}),order:"ascending"}:{field:Wc(h,{expr:"datum"}),order:null!==c&&void 0!==c?c:"ascending"}}function hf(h,F,c){const {format:r,
formatType:I,labelAngle:ha,labelAnchor:qa,labelOrient:ya,labelExpr:Va}=Mh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),h.header,c,F),hb=ge({fieldOrDatumDef:h,format:r,formatType:I,expr:"parent",config:c}).signal,Ab=Bg(F,ya);return Object.assign({},{text:{signal:Va?ra(ra(Va,"datum.label",hb),"datum.value",Wc(h,{expr:"parent"})):hb}},"row"===F?{orient:"left"}:{},{style:"guide-label",frame:"group"},Nh(ha,Ab),Oh(Ab,ha,qa),sh(c,h,F,om,Ok))}function sh(h,F,c,r,I){const ha=
{};for(const qa of r)I[qa]&&(r=Cg(qa,null===F||void 0===F?void 0:F.header,h,c),void 0!==r&&(ha[I[qa]]=r));return ha}function ki(h){return[...vg(h,"width"),...vg(h,"height"),...vg(h,"childWidth"),...vg(h,"childHeight")]}function vg(h,F){var c="width"===F?"x":"y",r=h.component.layoutSize.get(F);if(!r||"merged"===r)return[];F=h.getSizeSignalRef(F).signal;if("step"===r){if(r=h.getScaleComponent(c)){var I=r.get("type");const ha=r.get("range");if(I in og&&rc(ha))return I=h.scaleName(c),Gg(h.parent)&&"independent"===
h.parent.component.resolve.scale[c]?[{name:I+"_step",value:ha.step}]:[{name:I+"_step",value:ha.step},{name:F,update:th(I,r,"domain('".concat(I,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==r?(c=(r=F.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",h=yc(h.config.view,r?"width":"height"),h="isFinite(".concat(c,") ? ").concat(c," : ").concat(h),[{name:F,init:h,on:[{update:h,events:"window:resize"}]}]):[{name:F,value:r}]}function th(h,
F,c){const r=F.get("type"),I=F.get("padding"),ha=za(F.get("paddingOuter"),I);F=F.get("paddingInner");F="band"===r?void 0!==F?F:I:1;return"bandspace(".concat(c,", ").concat($d(F),", ").concat($d(ha),") * ").concat(h,"_step")}function qj(h){return"childWidth"===h?"width":"childHeight"===h?"height":h}function ag(h,F){return ud(h).reduce((c,r)=>Object.assign({},c,tg(F,h[r],r,I=>Hd(I.value))),{})}function li(h,F){const c=F in cg?"axis":"legend";return"independent"===h.scale[F]?("shared"===h[c][F]&&Gb('Setting the scale to be independent for "'.concat(F,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):h[c][F]||"shared"}function Ni(h){return uh(h,(F,c)=>Math.max(F,c.value))}function Dg(h){return uh(h,(F,c)=>za(F,c.value))}function uh(h,F){var c=h&&h.condition;if(c=!!c&&(le(c)||Zc(c)))return d(h.condition).reduce(F,h.value);if(Zc(h))return h.value}function Ph(h,F,c){h=F.get("selections");if(null!==h&&void 0!==h&&h.length){var r=n(c.field);return h.map(I=>{const ha=n(Y(I)+"_store");return"(!length(data(".concat(ha,
")) || (").concat(I,"[").concat(r,"] \x26\x26 indexof(").concat(I,"[").concat(r,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function vh(h,F,c,r){h=h.getSizeSignalRef(F).signal;return{signal:"clamp(".concat(h,", ").concat(c,", ").concat(r,")")}}function wh(h){var F;if(Qf(h)){var {encoding:c}=h,r={};for(const We of["color",...Pk]){var I=va(c[We]);if(I&&h.getScaleComponent(We)&&("shape"!==We||!tc(I)||"geojson"!==I.type)){a:{var ha=I=void 0,qa=void 0,ya=void 0,Va=void 0;var hb=void 0;var Ab=h,Fb=
We;let pe=Ab.legend(Fb);const {markDef:Af,encoding:Rf,config:mf}=Ab;var $b=mf.legend;b:{var Hc=Ab;var Rc=Fb,Xc=Hc.scaleName(Rc);if("trail"===Hc.mark){if("color"===Rc){Hc={stroke:Xc};break b}if("size"===Rc){Hc={strokeWidth:Xc};break b}}Hc="color"===Rc?Hc.markDef.filled?{fill:Xc}:{stroke:Xc}:{[Rc]:Xc}}Hc=new pm({},Hc);zi(Ab,Fb,Hc);Rc=void 0!==pe?!pe:$b.disable;Hc.set("disable",Rc,void 0!==pe);if(Rc){I=Hc;break a}pe=pe||{};Xc=Ab.getScaleComponent(Fb).get("type");Rc=va(Rf[Fb]);var qd=tc(Rc)?null===(hb=
Ib(Rc.timeUnit))||void 0===hb?void 0:hb.unit:void 0;const Sf=pe.orient||mf.legend.orient||"right";hb={legend:pe,channel:Fb,timeUnit:qd,scaleType:Xc};({legend:qd}=hb);qd=qd.type;b:{var {channel:vd,timeUnit:ee,scaleType:Re}=hb;if(Ma(vd)){if(D(["quarter","month","day"],ee)){hb="symbol";break b}if(Re in Fg){hb="gradient";break b}}hb="symbol"}hb=za(qd,hb);var {legendConfig:Vd,legendType:Ne,orient:Bd,legend:Gf}={legend:pe,legendType:hb,orient:Sf,legendConfig:$b};if(null!==(qa=null!==(ha=Gf.direction)&&
void 0!==ha?ha:Vd[Ne?"gradientDirection":"symbolDirection"])&&void 0!==qa)ha=qa;else b:{switch(Bd){case "top":case "bottom":ha="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ha="gradient"===Ne?"horizontal":void 0;break b}ha=void 0}$b={legend:pe,channel:Fb,model:Ab,markDef:Af,encoding:Rf,fieldOrDatumDef:Rc,legendConfig:$b,config:mf,scaleType:Xc,orient:Sf,legendType:hb,direction:ha};for(const Mf of Qk)if(!("gradient"===hb&&Mf.startsWith("symbol")||"symbol"===hb&&
Mf.startsWith("gradient"))&&(ha=Mf in Rk?Rk[Mf]($b):pe[Mf],void 0!==ha)){b:{qa=Ab.fieldDef(Fb);switch(Mf){case "disable":qa=void 0!==pe;break b;case "values":qa=!(null===pe||void 0===pe||!pe.values);break b;case "title":if("title"===Mf&&ha===(null===qa||void 0===qa?void 0:qa.title)){qa=!0;break b}}qa=ha===(pe||{})[Mf]}(qa||void 0===mf.legend[Mf])&&Hc.set(Mf,ha,qa)}$b=null!==(Va=null===(ya=pe)||void 0===ya?void 0:ya.encoding)&&void 0!==Va?Va:{};ya=Hc.get("selections");Va={};Fb={fieldOrDatumDef:Rc,
model:Ab,channel:Fb,legendCmpt:Hc,legendType:hb};for(const Mf of"labels legend title symbols gradient entries".split(" "))ha=ag(null!==(F=$b[Mf])&&void 0!==F?F:{},Ab),ha=Mf in Sk?Sk[Mf](ha,Fb):ha,void 0===ha||O(ha)||(Va[Mf]=Object.assign({},(null===ya||void 0===ya?0:ya.length)&&tc(Rc)?{name:"".concat(Y(Rc.field),"_legend_").concat(Mf)}:{},(null===ya||void 0===ya?0:ya.length)?{interactive:!!ya}:{},{update:ha}));O(Va)||Hc.set("encode",Va,!(null===(I=pe)||void 0===I||!I.encoding));I=Hc}r[We]=I}}F=r}else{{const {legends:We,
resolve:pe}=h.component;for(c of h.children){wh(c);for(r of ud(c.component.legends))pe.legend[r]=li(h.component.resolve,r),"shared"===pe.legend[r]&&(We[r]=xh(We[r],c.component.legends[r]),We[r]||(pe.legend[r]="independent",delete We[r]))}for(I of ud(We))for(Ab of h.children)Ab.component.legends[I]&&"shared"===pe.legend[I]&&delete Ab.component.legends[I];F=We}}return h.component.legends=F}function xh(h,F){if(!h)return F.clone();var c=h.getWithExplicit("orient");const r=F.getWithExplicit("orient");
if(!c.explicit||!r.explicit||c.value===r.value){var I=!1;for(const hb of Qk)c=ue(h.getWithExplicit(hb),F.getWithExplicit(hb),hb,"legend",(Ab,Fb)=>{switch(hb){case "symbolType":return Ab="circle"===Fb.value?Fb:Ab,Ab;case "title":return ua(Ab,Fb);case "type":return I=!0,Ud("symbol")}return id(Ab,Fb,hb,"legend")}),h.setWithExplicit(hb,c);if(I){var ha,qa,ya,Va;(null===(ha=h.implicit)||void 0===ha?0:null===(qa=ha.encode)||void 0===qa?0:qa.gradient)&&Z(h.implicit,["encode","gradient"]);(null===(ya=h.explicit)||
void 0===ya?0:null===(Va=ya.encode)||void 0===Va?0:Va.gradient)&&Z(h.explicit,["encode","gradient"])}return h}}function rj(h){const F=h.component.legends,c={};for(const I of ud(F)){var r=h.getScaleComponent(I);r=Of(r.get("domains"));if(c[r])for(const ha of c[r])xh(ha,F[I])||c[r].push(F[I]);else c[r]=[F[I].clone()]}return Tg(c).flat().map(I=>{{var ha=h.config,qa,ya=I.combine();I=Object.assign({},ya);const Rc=ya.disable;ya=ya.labelExpr;I=(delete I.disable,delete I.labelExpr,delete I.selections,I);if(Rc)var Va=
void 0;else{!1===ha.aria&&void 0==I.aria&&(I.aria=!1);if(null===(qa=I.encode)||void 0===qa?0:qa.symbols){ha=I.encode.symbols.update;!ha.fill||"transparent"===ha.fill.value||ha.stroke||I.stroke||(ha.stroke={value:"transparent"});for(var hb of Pk)I[hb]&&delete ha[hb]}I.title||delete I.title;if(void 0!==ya){var Ab,Fb;hb=ya;(null===(Ab=I.encode)||void 0===Ab?0:null===(Fb=Ab.labels)||void 0===Fb?0:Fb.update)&&zc(I.encode.labels.update.text)&&(hb=ra(ya,"datum.label",I.encode.labels.update.text.signal));
Ab=I;Fb={signal:hb};var $b,Hc;Ab.encode=null!==(Va=Ab.encode)&&void 0!==Va?Va:{};Ab.encode.labels=null!==($b=Ab.encode.labels)&&void 0!==$b?$b:{};Ab.encode.labels.update=null!==(Hc=Ab.encode.labels.update)&&void 0!==Hc?Hc:{};Ab.encode.labels.update.text=Fb}Va=I}}return Va}).filter(I=>void 0!==I)}function Oi(h){return h.children.reduce((F,c)=>F.concat(c.assembleProjections()),mi(h))}function mi(h){var F=h.component.projection;if(!F||F.merged)return[];const c=F.combine(),{name:r}=c;if(F.data){const I=
{signal:"[".concat(F.size.map(ha=>ha.signal).join(", "),"]")};F=F.data.reduce((ha,qa)=>{qa=zc(qa)?qa.signal:"data('".concat(h.lookupDataSource(qa),"')");D(ha,qa)||ha.push(qa);return ha},[]);if(0>=F.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:r,size:I,fit:{signal:1<F.length?"[".concat(F.join(", "),"]"):F[0]}},c)]}return[Object.assign({},{name:r},{translate:{signal:"[width / 2, height / 2]"}},c)]}function yh(h){var F=h.component;if(Qf(h))if(h.hasProjection){var c;
const ha=h.specifiedProjection;var r=!(ha&&(null!=ha.scale||null!=ha.translate));const qa=r?[h.getSizeSignalRef("width"),h.getSizeSignalRef("height")]:void 0;if(r){{r=[];const {encoding:ya}=h;for(I of[["longitude","latitude"],["longitude2","latitude2"]])(va(ya[I[0]])||va(ya[I[1]]))&&r.push({signal:h.getName("geojson_".concat(r.length))});h.channelHasField("shape")&&"geojson"===h.typedFieldDef("shape").type&&r.push({signal:h.getName("geojson_".concat(r.length))});0===r.length&&r.push(h.requestDataName(Nf.Main));
var I=r}}else I=void 0;h=new Tk(h.projectionName(!0),Object.assign({},null!==(c=h.config.projection)&&void 0!==c?c:{},null!==ha&&void 0!==ha?ha:{}),qa,I)}else h=void 0;else h=zh(h);F.projection=h}function Qh(h,F){const c=S(qm,r=>!Yh.call(h.explicit,r)&&!Yh.call(F.explicit,r)||Yh.call(h.explicit,r)&&Yh.call(F.explicit,r)&&Of(h.get(r))===Of(F.get(r))?!0:!1);if(Of(h.size)===Of(F.size)){if(c)return h;if(Of(h.explicit)===Of({}))return F;if(Of(F.explicit)===Of({}))return h}return null}function zh(h){if(0!==
h.children.length){var F;for(var c of h.children)yh(c);c=S(h.children,r=>{if(r=r.component.projection){if(F)return(r=Qh(F,r))&&(F=r),!!r;F=r}return!0});if(F&&c){c=h.projectionName(!0);const r=new Tk(c,F.specifiedProjection,F.size,Ve(F.data));for(const I of h.children)if(h=I.component.projection)h.isFit&&r.data.push(...I.component.projection.data),I.renameProjection(h.get("name"),c),h.merged=!0;return r}}}function sj(h,F,c,r){if(bd(F,c)){var I,ha;h=Qf(h)?null!==(I=null!==(ha=h.axis(c))&&void 0!==ha?
ha:h.legend(c))&&void 0!==I?I:{}:{};I=Wc(F,{expr:"datum"});ha=Wc(F,{expr:"datum",binSuffix:"end"});return{formulaAs:Wc(F,{binSuffix:"range",forAs:!0}),formula:Te(I,ha,h.format,h.formatType,r)}}return{}}function Rh(h,F){return"".concat($c(h),"_").concat(F)}function Sh(h,F,c){var r;c=null!==(r=Mb(c,void 0))&&void 0!==r?r:{};F=Rh(c,F);return h.getName("".concat(F,"_bins"))}function eg(h,F,c){let r;r="as"in h?e(h.as)?[h.as,"".concat(h.as,"_end")]:[h.as[0],h.as[1]]:[Wc(h,{forAs:!0}),Wc(h,{binSuffix:"end",
forAs:!0})];const I=Object.assign({},Mb(F,void 0));F=Rh(I,h.field);var ha={signal:c.getName("".concat(F,"_bins")),extentSignal:c.getName("".concat(F,"_extent"))};const {signal:qa,extentSignal:ya}=ha;if(jb(I.extent)){var Va=I.extent;ha=Va.selection;Va=oj(c.getSelectionComponent(Y(ha),ha),Va);delete I.extent}h=Object.assign({},{bin:I,field:h.field,as:[r]},qa?{signal:qa}:{},ya?{extentSignal:ya}:{},Va?{span:Va}:{});return{key:F,binComponent:h}}function qf(h){return"'"===h[0]&&"'"===h[h.length-1]||'"'===
h[0]&&'"'===h[h.length-1]?h.slice(1,-1):h}function Pf(h,F){h=xa(h);if("number"===F)return"toNumber(".concat(h,")");if("boolean"===F)return"toBoolean(".concat(h,")");if("string"===F)return"toString(".concat(h,")");if("date"===F)return"toDate(".concat(h,")");if("flatten"===F)return h;if(0===F.indexOf("date:"))return F=qf(F.slice(5,F.length)),"timeParse(".concat(h,",'").concat(F,"')");if(0===F.indexOf("utc:"))return F=qf(F.slice(4,F.length)),"utcParse(".concat(h,",'").concat(F,"')");Gb('Unrecognized parse "'.concat(F,
'".'));return null}function Tj(h){const F={};A(h.filter,c=>{if(fe(c)){let I=null;if(Mc(c))I=rd(c.equal);else if(md(c))I=rd(c.lte);else if(Nc(c))I=rd(c.lt);else if(wd(c))I=rd(c.gt);else if(Cd(c))I=rd(c.gte);else if(Gd(c))I=c.range[0];else if(Sd(c)){var r;I=(null!==(r=c.oneOf)&&void 0!==r?r:c["in"])[0]}I&&(pc(I)?F[c.field]="date":a(I)?F[c.field]="number":e(I)&&(F[c.field]="string"));c.timeUnit&&(F[c.field]="date")}});return F}function Th(h){function F(r){if(ec(r))c[r.field]="date";else{var I;if(I="quantitative"===
r.type)I=r.aggregate,I=e(I)&&D(["min","max"],I);I?c[r.field]="number":1<Ta(r.field)?r.field in c||(c[r.field]="flatten"):Md(r)&&sa(r.sort)&&1<Ta(r.sort.field)&&(r.sort.field in c||(c[r.sort.field]="flatten"))}}const c={};(Qf(h)||Gg(h))&&h.forEachFieldDef((r,I)=>{sd(r)?F(r):(I=ab(I),I=h.fieldDef(I),F(Object.assign({},r,{type:I.type})))});if(Qf(h)){const {mark:r,markDef:I,encoding:ha}=h;if(ce(r)&&!h.encoding.order){const qa=ha["horizontal"===I.orient?"y":"x"];!tc(qa)||"quantitative"!==qa.type||qa.field in
c||(c[qa.field]="number")}}return c}function b(h){return h instanceof Uh||h instanceof tj||h instanceof uj}function p(h){return h.stack.stackBy.reduce((F,c)=>{(c=Wc(c.fieldDef))&&F.push(c);return F},[])}function V(h){return le(h)&&h.every(F=>e(F))&&1<h.length}function R(h){function F(c){if(!(c instanceof ni)){const r=c.clone();if(r instanceof ig){const I="scale_"+r.getSource();r.setSource(I);h.model.component.data.outputNodes[I]=r}else(r instanceof Og||r instanceof Ah||r instanceof Pi||r instanceof
oi)&&r.addDimensions(h.fields);for(const I of c.children.flatMap(F))I.parent=r;return[r]}return c.children.flatMap(F)}return F}function aa(h){if(h instanceof ni)if(1!==h.numChildren()||h.children[0]instanceof ig){var F=h.model.component.data.main;Ca(F);const c=R(h);h=h.children.map(c).flat();for(const r of h)r.parent=F}else F=h.children[0],(F instanceof Og||F instanceof Ah||F instanceof Pi||F instanceof oi)&&F.addDimensions(h.fields),F.swapWithParent(),aa(h);else h.children.map(aa)}function Ca(h){if(h instanceof
ig&&h.type===Nf.Main&&1===h.numChildren()){const F=h.children[0];F instanceof ni||(F.swapWithParent(),Ca(h))}}function Qa(h){for(const F of h){for(const c of F.children)if(c.parent!==F)return!1;if(!Qa(F.children))return!1}return!0}function Ua(h,F){let c=!1;for(const r of F)c=h.optimize(r)||c;return c}function rb(h,F,c){let r=h.sources,I=!1;I=Ua(new rm,r)||I;I=Ua(new sm(F),r)||I;r=r.filter(ha=>0<ha.numChildren());I=Ua(new tm,r)||I;r=r.filter(ha=>0<ha.numChildren());c||(I=Ua(new um,r)||I,I=Ua(new vm(F),
r)||I,I=Ua(new wm,r)||I,I=Ua(new xm,r)||I,I=Ua(new ym,r)||I,I=Ua(new zm,r)||I,I=Ua(new Am,r)||I,I=Ua(new Bm,r)||I);h.sources=r;return I}function Cb(h){const F=h.component.scales;for(const hb of ud(F)){var c=h;var r=hb,I=c.getScaleComponent(r).get("type"),{encoding:ha}=c;var qa=c.scaleDomain(r);var ya=c.typedFieldDef(r),Va=c.config.scale;if("unaggregated"===qa){const {valid:Ab,reason:Fb}=we(ya,I);Ab||(Gb(Fb),qa=void 0)}else void 0===qa&&Va.useUnaggregatedDomain&&({valid:ya}=we(ya,I),ya&&(qa="unaggregated"));
qa!==c.scaleDomain(r)&&(c.specifiedScales[r]=Object.assign({},c.specifiedScales[r],{domain:qa}));c="x"===r&&va(ha.x2)?va(ha.x)?ue(lc(I,qa,c,"x"),lc(I,qa,c,"x2"),"domain","scale",df):lc(I,qa,c,"x2"):"y"===r&&va(ha.y2)?va(ha.y)?ue(lc(I,qa,c,"y"),lc(I,qa,c,"y2"),"domain","scale",df):lc(I,qa,c,"y2"):lc(I,qa,c,r);F[hb].setWithExplicit("domains",c);ha=void 0;r=h.component.scales[hb];qa=h.specifiedScales[hb].domain;I=null===(ha=h.fieldDef(hb))||void 0===ha?void 0:ha.bin;ha=Ke(qa)&&qa;I=u(I)&&jb(I.extent)&&
I.extent;(ha||I)&&r.set("selectionExtent",null!==ha&&void 0!==ha?ha:I,!0);if(h.component.data.isFaceted){for(r=h;!Gg(r)&&r.parent;)r=r.parent;if("shared"===r.component.resolve.scale[hb])for(const Ab of c.value)Jc(Ab)&&(Ab.data="scale_"+Ab.data.replace("scale_",""))}}}function Ub(h){for(var F of h.children){var c=F;Qf(c)?Cb(c):Ub(c)}c=h.component.scales;for(const I of ud(c)){let ha;F=null;for(const qa of h.children){var r=qa.component.scales[I];r&&(ha=void 0===ha?r.getWithExplicit("domains"):ue(ha,
r.getWithExplicit("domains"),"domains","scale",df),r=r.get("selectionExtent"),F&&r&&F.selection!==r.selection&&Gb("The same selection must be used to override scale domains in a layered view."),F=r)}c[I].setWithExplicit("domains",ha);F&&c[I].set("selectionExtent",F,!0)}}function Gc(h,F,c){return h.map(r=>{r=Tc(r,{timeUnit:c,type:F});return{signal:"{data: ".concat(r,"}")}})}function nc(h,F,c){var r;c=null===(r=Ib(c))||void 0===r?void 0:r.unit;return"temporal"===F||c?Gc(h,F,c):[h]}function lc(h,F,c,
r){var {encoding:I}=c;I=va(I[r]);const {type:ha}=I,qa=I.timeUnit;if(F&&F.unionWith)return r=lc(h,void 0,c,r),F=nc(F.unionWith,ha,qa),Qd([...r.value,...F]);if(zc(F))return Qd([F]);if(F&&"unaggregated"!==F&&!Ke(F))return Qd(nc(F,ha,qa));var ya=c.stack;if(ya&&r===ya.fieldChannel){if("normalize"===ya.offset)return Ud([[0,1]]);F=c.requestDataName(Nf.Main);return Ud([{data:F,field:c.vgField(r,{suffix:"start"})},{data:F,field:c.vgField(r,{suffix:"end"})}])}ya=Qg[r]&&tc(I)?Kd(c,r,h):void 0;if(ed(I))return r=
nc([I.datum],ha,qa),Ud(r);if("unaggregated"===F)return r=c.requestDataName(Nf.Main),{field:F}=I,Ud([{data:r,field:Wc({field:F,aggregate:"min"})},{data:r,field:Wc({field:F,aggregate:"max"})}]);if(kc(I.bin)){if(h in og)return"bin-ordinal"===h?Ud([]):Ud([{data:B(ya)?c.requestDataName(Nf.Main):c.requestDataName(Nf.Raw),field:c.vgField(r,bd(I,r)?{binSuffix:"range"}:{}),sort:!0!==ya&&u(ya)?ya:{field:c.vgField(r,{}),op:"min"}}]);({bin:F}=I);if(kc(F)){const Va=Sh(c,I.field,F);return Ud([new Eg(()=>{const hb=
c.getSignalName(Va);return"[".concat(hb,".start, ").concat(hb,".stop]")})])}return Ud([{data:c.requestDataName(Nf.Main),field:c.vgField(r,{})}])}return I.timeUnit&&D(["time","utc"],h)&&Wb(r,I,Qf(c)?c.encoding[Sa(r)]:void 0,c.stack,c.markDef,c.config)?(F=c.requestDataName(Nf.Main),Ud([{data:F,field:c.vgField(r)},{data:F,field:c.vgField(r,{suffix:"end"})}])):ya?Ud([{data:B(ya)?c.requestDataName(Nf.Main):c.requestDataName(Nf.Raw),field:c.vgField(r),sort:ya}]):Ud([{data:c.requestDataName(Nf.Main),field:c.vgField(r)}])}
function dd(h,F){const {op:c,field:r,order:I}=h;return Object.assign({},{op:null!==c&&void 0!==c?c:F?"sum":"min"},r?{field:gb(r)}:{},I?{order:I}:{})}function Kd(h,F,c){if(c in og){var r=h.fieldDef(F);c=r.sort;if(Aa(c))return{op:"min",field:sg(r,F),order:"ascending"};({stack:r}=h);var I=r?[...r.groupbyField?[r.groupbyField]:[],...r.stackBy.map(ha=>ha.fieldDef.field)]:void 0;if(sa(c))return h=r&&!D(I,c.field),dd(c,h);if(c&&c.encoding){const {encoding:ha,order:qa}=c;h=h.fieldDef(ha);const {aggregate:ya,
field:Va}=h;F=r&&!D(I,Va);if(ea(ya)||oa(ya))return dd({field:Wc(h),order:qa},F);if(ba(ya)||!ya)return dd({op:ya,field:Va,order:qa},F)}else{if("descending"===c)return{op:"min",field:h.vgField(F),order:"descending"};if(D(["ascending",void 0],c))return!0}}}function we(h,F){const {aggregate:c,type:r}=h;return c?e(c)&&!Cm[c]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(c,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===r&&"log"===F?{valid:!1,
reason:"Unaggregated domain is currently unsupported for log scale (".concat(Of(h),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Of(h),").")}}function df(h,F,c,r){if(h.explicit&&F.explicit){var I=h.value,ha=F.value;c="Conflicting ".concat(r.toString(),' property "').concat(c.toString(),'" (').concat(Of(I)," and ").concat(Of(ha),"). Using the union of the two domains.");Gb(c)}return{explicit:h.explicit,value:[...h.value,...F.value]}}function ke(h){var F=
ia(h.map(I=>Jc(I)?(I=Object.assign({},I),delete I.sort,I):I),E),c=ia(h.map(I=>{if(Jc(I))return I=I.sort,void 0===I||B(I)||("op"in I&&"count"===I.op&&delete I.field,"ascending"===I.order&&delete I.order),I}).filter(I=>void 0!==I),E);if(0!==F.length){if(1===F.length){F=h[0];if(Jc(F)&&0<c.length){var r=c[0];1<c.length?(Gb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),r=!0):u(r)&&"field"in r&&F.field===r.field&&(r=r.order?{order:r.order}:!0);return Object.assign({},
F,{sort:r})}return F}c=ia(c.map(I=>{if(B(I)||!("op"in I)||e(I.op)&&I.op in Dm)return I;Gb("Dropping sort property ".concat(Of(I),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),E);1===c.length?r=c[0]:1<c.length&&(Gb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),r=!0);c=ia(h.map(I=>Jc(I)?I.data:null),I=>I);return 1===c.length&&null!==c[0]?Object.assign({},{data:c[0],fields:F.map(I=>I.field)},r?{sort:r}:{}):Object.assign({},
{fields:F},r?{sort:r}:{})}}function rf(h){if(Jc(h)&&e(h.field))return h.field;var F=le(h)?!1:"fields"in h&&!("data"in h);if(F){let c;for(const r of h.fields)if(Jc(r)&&e(r.field))if(!c)c=r.field;else if(c!==r.field)return Gb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),c;Gb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return c}F=le(h)?!1:"fields"in h&&"data"in h;if(F)return Gb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),h=h.fields[0],e(h)?h:void 0}function jf(h,F){F=h.component.scales[F].get("domains").map(c=>{Jc(c)&&(c.data=h.lookupDataSource(c.data));return c});return ke(F)}function wf(h){return ci(h)||Uj(h)?h.children.reduce((F,c)=>F.concat(wf(c)),Bf(h)):Bf(h)}function Bf(h){return ud(h.component.scales).reduce((F,
c)=>{var r=h.component.scales[c];if(r.merged)return F;var I=r.combine(),ha=Object.assign({},I);r=I.name;const qa=I.type,ya=I.selectionExtent,Va=I.reverse;ha=(delete ha.name,delete ha.type,delete ha.selectionExtent,delete ha.domains,delete ha.range,delete ha.reverse,ha);I=I.range;c in cg?rc(I)&&(I={step:{signal:r+"_step"}}):u(I)&&Jc(I)&&(I=Object.assign({},I,{data:h.lookupDataSource(I.data)}));if(ya){var hb=ya.selection;hb=h.getSelectionComponent(hb,Y(hb));hb={signal:oj(hb,ya)}}c=jf(h,c);F.push(Object.assign({},
{name:r,type:qa},c?{domain:c}:{},hb?{domainRaw:hb}:{},{range:I},void 0!==Va?{reverse:Va}:{},ha));return F},[])}function Oe(h){return"x"===h?"width":"y"===h?"height":void 0}function xf(h,F){const c=h.fieldDef(F);if(c&&c.bin&&kc(c.bin)){const r=Sh(h,c.field,c.bin);F=Oe(F);const I=h.getName(F);return new Eg(()=>{var ha=h.getSignalName(r);ha="(".concat(ha,".stop - ").concat(ha,".start) / ").concat(ha,".step");return"".concat(h.getSignalName(I)," / (").concat(ha,")")})}}function lf(h,F){const c=F.specifiedScales[h];
var {size:r}=F,I=F.getScaleComponent(h).get("type");for(var ha of Em)if(void 0!==c[ha]){const Va=Be(I,ha),hb=tf(h,ha);if(Va)if(hb)Gb(hb);else switch(ha){case "range":I=c.range;if(le(I)){if(h in cg)return Qd(I.map(Ab=>{if("width"===Ab||"height"===Ab){Ab=F.getName(Ab);const Fb=F.getSignalName.bind(F);return Eg.fromName(Fb,Ab)}return Ab}))}else if(u(I))return Qd({data:F.requestDataName(Nf.Main),field:I.field,sort:{op:"min",field:F.vgField(h)}});return Qd(I);case "scheme":return Qd(sf(c[ha]))}else Gb(me(I,
ha,h))}if("x"===h||"y"===h)if(ha="x"===h?"width":"height",r=r[ha],vb(r)){if(I in og)return Qd({step:r.step});Gb(Ha(ha))}const {rangeMin:qa,rangeMax:ya}=c;h=bg(h,F);return(void 0!==qa||void 0!==ya)&&Be(I,"rangeMin")&&le(h)&&2===h.length?Qd([null!==qa&&void 0!==qa?qa:h[0],null!==ya&&void 0!==ya?ya:h[1]]):Ud(h)}function sf(h){return!e(h)&&h.name?Object.assign({},{scheme:h.name},K(h,["name"])):{scheme:h}}function bg(h,F){const {size:c,config:r,mark:I,encoding:ha}=F;var qa=F.getSignalName.bind(F),{type:ya}=
va(ha[h]);const Va=F.getScaleComponent(h).get("type"),{domain:hb,domainMid:Ab}=F.specifiedScales[h];switch(h){case "x":case "y":if(D(["point","band"],Va))if("x"===h&&!c.width){if(ya=Q(r.view,"width"),vb(ya))return ya}else if("y"===h&&!c.height&&(ya=Q(r.view,"height"),vb(ya)))return ya;ya=Oe(h);ya=F.getName(ya);return"y"===h&&Va in xg?[Eg.fromName(qa,ya),0]:[0,Eg.fromName(qa,ya)];case "size":return qa=F.component.scales[h].get("zero"),qa=Pg(I,qa,r),ya=Yg(I,c,F,r),Va in Ti?lg(qa,ya,fg(Va,r,hb,h)):[qa,
ya];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Eg(()=>{const Fb=F.getSignalName("width"),$b=F.getSignalName("height");return"min(".concat(Fb,",").concat($b,")/2")})];case "strokeWidth":return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===Va?"nominal"===ya?"category":"ordinal":void 0!==Ab?"diverging":"rect"===I||
"geoshape"===I?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[r.scale.minOpacity,r.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(h));}function fg(h,F,c,r){switch(h){case "quantile":return F.scale.quantileCount;case "quantize":return F.scale.quantizeCount;case "threshold":if(void 0!==c&&le(c))return c.length+1;Gb("Domain for ".concat(r," is required for threshold scale."));return 3}}function lg(h,F,c){const r=()=>{const I=$d(F),ha=$d(h),qa=
"(".concat(I," - ").concat(ha,") / (").concat(c," - 1)");return"sequence(".concat(ha,", ").concat(I," + ").concat(qa,", ").concat(qa,")")};return zc(F)?new Eg(r):{signal:r()}}function Pg(h,F,c){if(F)return zc(F)?{signal:"".concat(F.signal," ? 0 : ").concat(Pg(h,!1,c))}:0;switch(h){case "bar":case "tick":return c.scale.minBandSize;case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(ld("size",
h));}function Yg(h,F,c,r){c={x:xf(c,"x"),y:xf(c,"y")};switch(h){case "bar":case "tick":{if(void 0!==r.scale.maxBandSize)return r.scale.maxBandSize;const I=pi(F,c,r.view);return a(I)?I-1:new Eg(()=>"".concat(I.signal," - 1"))}case "line":case "trail":case "rule":return r.scale.maxStrokeWidth;case "text":return r.scale.maxFontSize;case "point":case "square":case "circle":{if(r.scale.maxSize)return r.scale.maxSize;const I=pi(F,c,r.view);return a(I)?Math.pow(.95*I,2):new Eg(()=>"pow(".concat(.95," * ").concat(I.signal,
", 2)"))}}throw Error(ld("size",h));}function pi(h,F,c){const r=vb(h.width)?h.width.step:q(c,"width"),I=vb(h.height)?h.height.step:q(c,"height");return F.x||F.y?new Eg(()=>"min(".concat([F.x?F.x.signal:r,F.y?F.y.signal:I].join(", "),")")):Math.min(r,I)}function Uk(h,F){if(Qf(h)){{const qa=h.component.scales,{config:ya,encoding:Va,markDef:hb,specifiedScales:Ab}=h;for(const Fb of ud(qa)){var c=Ab[Fb];const $b=qa[Fb];var r=h.getScaleComponent(Fb),I=va(Va[Fb]),ha=c[F];const Hc=r.get("type"),Rc=r.get("padding");
r=r.get("paddingInner");const Xc=Be(Hc,F),qd=tf(Fb,F);void 0!==ha&&(Xc?qd&&Gb(qd):Gb(me(Hc,F,Fb)));if(Xc&&void 0===qd)if(void 0!==ha)switch(ha=I.timeUnit,I=I.type,F){case "domainMax":case "domainMin":pc(c[F])||"temporal"===I||ha?$b.set(F,{signal:Tc(c[F],{type:I,timeUnit:ha})},!0):$b.set(F,c[F],!0);break;default:$b.copyKeyFromObject(F,c)}else c=F in Vk?Vk[F]({model:h,channel:Fb,fieldOrDatumDef:I,scaleType:Hc,scalePadding:Rc,scalePaddingInner:r,domain:c.domain,markDef:hb,config:ya}):ya.scale[F],void 0!==
c&&$b.set(F,c,!1)}}}else Wk(h,F)}function Xk(h){if(Qf(h)){{const F=h.component.scales;for(const c of fj){const r=F[c];if(!r)continue;const I=lf(c,h);r.setWithExplicit("range",I)}}}else Wk(h,"range")}function Wk(h,F){const c=h.component.scales;for(var r of h.children)"range"===F?Xk(r):Uk(r,F);for(const I of ud(c)){let ha;for(const qa of h.children)if(r=qa.component.scales[I])r=r.getWithExplicit(F),ha=ue(ha,r,F,"scale",te((ya,Va)=>{switch(F){case "range":if(ya.step&&Va.step)return ya.step-Va.step}return 0}));
c[I].setWithExplicit(F,ha)}}function Fm(h,F){const c=F.bin;if(kc(c)){const r=Sh(h,F.field,c);return new Eg(()=>h.getSignalName(r))}if(vc(c)&&u(c)&&void 0!==c.step)return{step:c.step}}function Gm(h,F,c){var r;switch(F.type){case "nominal":case "ordinal":if(Ma(h)||"discrete"===wc(h))return"shape"===h&&"ordinal"===F.type&&Gb(Pd(h,"ordinal")),"ordinal";if(h in cg){if(D(["rect","bar","image","rule"],c))return"band"}else if("arc"===c&&h in Vj)return"band";return void 0!==F.band||Id(F)&&(null===(r=F.axis)||
void 0===r?0:r.tickBand)?"band":"point";case "temporal":if(!Ma(h)){if("discrete"===wc(h))return Gb(Pd(h,"temporal")),"ordinal";if(tc(F)&&F.timeUnit&&Ib(F.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Ma(h)){if(tc(F)&&kc(F.bin))return"bin-ordinal"}else if("discrete"===wc(h))return Gb(Pd(h,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(F.type,'".'));}function Yk(h){if(Qf(h))h.component.scales=Hm(h);else{var F=h.component;{const ya=
h.component.scales={},Va={};var c=h.component.resolve;for(const hb of h.children){Yk(hb);for(const Ab of ud(hb.component.scales)){var r,I=c.scale;if(null!==(r=c.scale[Ab])&&void 0!==r)var ha=r;else{ha=Ab;var qa=h;if(ci(qa)||Gg(qa))ha="shared";else if(Uj(qa))ha=ha in cg?"independent":"shared";else throw Error("invalid model type for resolve");}I[Ab]=ha;if("shared"===c.scale[Ab])if(I=Va[Ab],ha=hb.component.scales[Ab].getWithExplicit("type"),I){{qa=Mj[I.value];const Fb=Mj[ha.value];qa=qa===Fb||"ordinal-position"===
qa&&"time"===Fb||"ordinal-position"===Fb&&"time"===qa}qa?Va[Ab]=ue(I,ha,"type","scale",Im):(c.scale[Ab]="independent",delete Va[Ab])}else Va[Ab]=ha}}for(const hb of ud(Va)){r=h.scaleName(hb,!0);ya[hb]=new Zk(r,Va[hb]);for(const Ab of h.children)if(c=Ab.component.scales[hb])Ab.renameScale(c.get("name"),r),c.merged=!0}h=ya}F.scales=h}}function Hm(h){const {encoding:F,mark:c}=h;return fj.reduce((r,I)=>{var ha=va(F[I]);if(ha&&c===$k&&"shape"===I&&"geojson"===ha.type)return r;let qa=ha&&ha.scale;if(ha&&
null!==qa&&!1!==qa){var ya;qa=null!==(ya=qa)&&void 0!==ya?ya:{};var Va=qa;ya=Gm(I,ha,c);({type:Va}=Va);if(Qg[I]){if(void 0!==Va)if(Td(I,Va)){var hb;if(hb=tc(ha))hb=Va,ha=ha.type,hb=!(D(["ordinal","nominal"],ha)?void 0===hb||hb in og:"temporal"===ha?D([Vf.TIME,Vf.UTC,void 0],hb):"quantitative"===ha?D([Vf.LOG,Vf.POW,Vf.SQRT,Vf.SYMLOG,Vf.QUANTILE,Vf.QUANTIZE,Vf.THRESHOLD,Vf.LINEAR,void 0],hb):1);hb?(ha=ya,ha='FieldDef does not work with "'.concat(Va,'" scale. We are using "').concat(ha,'" scale instead.'),
Gb(ha)):ya=Va}else ha=Va,Va=ya,ha='Channel "'.concat(I,'" does not work with "').concat(ha,'" scale. We are using "').concat(Va,'" scale instead.'),Gb(ha)}else ya=null;r[I]=new Zk(h.scaleName(I+"",!0),{value:ya,explicit:qa.type===ya})}return r},{})}function Qf(h){return"unit"===(null===h||void 0===h?void 0:h.type)}function Gg(h){return"facet"===(null===h||void 0===h?void 0:h.type)}function Uj(h){return"concat"===(null===h||void 0===h?void 0:h.type)}function ci(h){return"layer"===(null===h||void 0===
h?void 0:h.type)}function al(h){function F(r,I){r instanceof Uh&&!(r.isGenerator||"url"in r.data)&&(h.push(I),I={name:null,source:I.name,transform:[]});if(r instanceof mg)if(r.parent instanceof Uh&&!I.source){var ha;I.format=Object.assign({},null!==(ha=I.format)&&void 0!==ha?ha:{},{parse:r.assembleFormatParse()});I.transform.push(...r.assembleTransforms(!0))}else I.transform.push(...r.assembleTransforms());if(r instanceof ni){I.name||(I.name="data_".concat(c++));!I.source||0<I.transform.length?(h.push(I),
r.data=I.name):r.data=I.source;for(const qa of r.assemble())h.push(qa)}else switch((r instanceof tj||r instanceof uj||r instanceof vj||r instanceof Ji||r instanceof Qi||r instanceof wj||r instanceof Ri||r instanceof Og||r instanceof xj||r instanceof Pi||r instanceof oi||r instanceof Wj||r instanceof Xj||r instanceof Yj||r instanceof Zj||r instanceof ak||r instanceof bk||r instanceof Vh||r instanceof ck||r instanceof dk)&&I.transform.push(r.assemble()),(r instanceof Zg||r instanceof $g||r instanceof
qi||r instanceof Ah)&&I.transform.push(...r.assemble()),r instanceof ig&&(I.source&&0===I.transform.length?r.setSource(I.source):r.parent instanceof ig?r.setSource(I.name):(I.name||(I.name="data_".concat(c++)),r.setSource(I.name),1===r.numChildren()&&(h.push(I),I={name:null,source:I.name,transform:[]}))),r.numChildren()){case 0:r instanceof ig&&(!I.source||0<I.transform.length)&&h.push(I);break;case 1:F(r.children[0],I);break;default:I.name||(I.name="data_".concat(c++));ha=I.name;!I.source||0<I.transform.length?
h.push(I):ha=I.source;for(const qa of r.children)F(qa,{name:null,source:ha,transform:[]})}}let c=0;return F}function Jm(h){const F=[],c=al(F);for(const r of h.children)c(r,{source:h.name,name:null,transform:[]});return F}function Km(h,F){const c=[];var r=al(c);let I=0;for(const ya of h.sources){ya.hasName()||(ya.dataName="source_".concat(I++));const Va=ya.assemble();r(ya,Va)}for(const ya of c)0===ya.transform.length&&delete ya.transform;r=0;for(const ya of c.entries()){const [Va,hb]=ya;var ha;0!==
(null!==(ha=hb.transform)&&void 0!==ha?ha:[]).length||hb.source||c.splice(r++,0,c.splice(Va,1)[0])}for(const ya of c)for(const Va of null!==(qa=ya.transform)&&void 0!==qa?qa:[]){var qa;"lookup"===Va.type&&(Va.from=h.outputNodes[Va.from].getSource())}for(const ya of c)ya.name in F&&(ya.values=F[ya.name]);return c}function bl(h,F,c){F="row"===F?"height":"width";return{labels:c,sizeSignal:h.child.component.layoutSize.get(F)?h.child.getSizeSignalRef(F):void 0,axes:[]}}function cl(h,F){var {child:c}=h;
if(c.component.axes[F]){const {layoutHeaders:I,resolve:ha}=h.component;ha.axis[F]=li(ha,F);if("shared"===ha.axis[F]){const qa="x"===F?"column":"row",ya=I[qa];for(const Va of c.component.axes[F]){var r;F=Va.get("orient");F="top"===F||"left"===F||zc(F)?"header":"footer";ya[F]=null!==(r=ya[F])&&void 0!==r?r:[bl(h,qa,!1)];(c=Lf(Va,"main",h.config,{header:!0}))&&ya[F][0].axes.push(c);Va.mainExtracted=!0}}}}function ek(h){for(const F of h.children)F.parseLayoutSize()}function yj(h,F){const c=qj(F),r=Jb(c),
I=h.component.resolve,ha=h.component.layoutSize;let qa;for(const ya of h.children){const Va=ya.component.layoutSize.getWithExplicit(c),hb=I.scale[r];if("independent"===hb&&"step"===Va.value){qa=void 0;break}if(qa){if("independent"===hb&&qa.value!==Va.value){qa=void 0;break}qa=ue(qa,Va,c,"")}else qa=Va}if(qa){for(const ya of h.children)h.renameSignal(ya.getName(c),h.getName(F)),ya.component.layoutSize.set(c,"merged",!1);ha.setWithExplicit(F,qa)}else ha.setWithExplicit(F,{explicit:!1,value:void 0})}
function Lm(h,F){const c=h.config;var r=h.getScaleComponent("width"===F?"x":"y");if(r)return h=r.get("type"),r=r.get("range"),h in og?(F=Q(c.view,F),rc(r)||vb(F)?"step":F):yc(c.view,F);if(h.hasProjection||"arc"===h.mark)return yc(c.view,F);F=Q(c.view,F);return vb(F)?F.step:F}function fk(h,F,c){return Wc(F,Object.assign({},{suffix:"by_".concat(Wc(h))},null!==c&&void 0!==c?c:{}))}function dl(h,F){for(const ya of F){var c,r,I,ha;F=ya.data;if(h.name&&ya.hasName()&&h.name!==ya.dataName)continue;const Va=
null===(c=h.format)||void 0===c?void 0:c.mesh;var qa=null===(r=F.format)||void 0===r?void 0:r.feature;if(Va&&qa)continue;const hb=null===(I=h.format)||void 0===I?void 0:I.feature;if(!hb&&!qa||hb===qa)if(qa=null===(ha=F.format)||void 0===ha?void 0:ha.mesh,!Va&&!qa||Va===qa)if("values"in h&&"values"in F){if(Zh(h.values,F.values))return ya}else if("url"in h&&"url"in F){if(h.url===F.url)return ya}else if(Ff(h)&&h.name===ya.dataName)return ya}return null}function Mm(h,F){if(h.data||!h.parent){if(null===
h.data)return h=new Uh({values:[]}),F.push(h),h;const c=dl(h.data,F);if(c)return ye(h.data)||(c.data.format=U({},h.data.format,c.data.format)),!c.hasName()&&h.data.name&&(c.dataName=h.data.name),c;h=new Uh(h.data);F.push(h);return h}return h.parent.component.data.facetRoot?h.parent.component.data.facetRoot:h.parent.component.data.main}function zj(h){var F,c,r,I=Mm(h,h.component.data.sources);const {outputNodes:ha,outputNodeRefCounts:qa}=h.component.data,ya=h.parent?h.parent.component.data.ancestorParse.clone():
new Nm,Va=h.data;ye(Va)?("sequence"in Va?I=new uj(I,Va.sequence):"graticule"in Va&&(I=new tj(I,Va.graticule)),ya.parseNothing=!0):null===(null===Va||void 0===Va?void 0:null===(F=Va.format)||void 0===F?void 0:F.parse)&&(ya.parseNothing=!0);I=null!==(c=mg.makeExplicit(I,h,ya))&&void 0!==c?c:I;I=new Vh(I);F=h.parent&&ci(h.parent);if((Qf(h)||Gg(h))&&F){var hb;I=null!==(hb=Zg.makeFromEncoding(I,h))&&void 0!==hb?hb:I}if(0<h.transforms.length){hb=0;for(const Bd of h.transforms){var Ab=c=void 0;if("calculate"in
Bd)Ab=I=new Qi(I,Bd),c="derived";else if("filter"in Bd){var Fb;Ab=Tj(Bd);Ab=I=null!==(Fb=mg.makeWithAncestors(I,{},Ab,ya))&&void 0!==Fb?Fb:I;I=new Ji(I,h,Bd.filter)}else if("bin"in Bd)Ab=I=Zg.makeFromTransform(I,Bd,h),c="number";else if("timeUnit"in Bd)c="date",void 0===ya.getWithExplicit(Bd.field).value&&(I=new mg(I,{[Bd.field]:c}),ya.set(Bd.field,c,!1)),Ab=I=$g.makeFromTransform(I,Bd);else if("aggregate"in Bd)Ab=I=Og.makeFromTransform(I,Bd),c="number",ei(h)&&(I=new Vh(I));else if("lookup"in Bd)Ab=
I=xj.make(I,h,Bd,hb++),c="derived";else if("window"in Bd)Ab=I=new Pi(I,Bd),c="number";else if("joinaggregate"in Bd)Ab=I=new oi(I,Bd),c="number";else if("stack"in Bd)Ab=I=Ah.makeFromTransform(I,Bd),c="derived";else if("fold"in Bd)Ab=I=new Wj(I,Bd),c="derived";else if("flatten"in Bd)Ab=I=new Xj(I,Bd),c="derived";else if("pivot"in Bd)Ab=I=new dk(I,Bd),c="derived";else if("sample"in Bd)I=new ck(I,Bd);else if("impute"in Bd)Ab=I=qi.makeFromTransform(I,Bd),c="derived";else if("density"in Bd)Ab=I=new Yj(I,
Bd),c="derived";else if("quantile"in Bd)Ab=I=new ak(I,Bd),c="derived";else if("regression"in Bd)Ab=I=new bk(I,Bd),c="derived";else if("loess"in Bd)Ab=I=new Zj(I,Bd),c="derived";else{Gb("Ignoring an invalid transform: ".concat(Of(Bd),"."));continue}if(Ab&&void 0!==c)for(const Gf of null!==($b=Ab.producedFields())&&void 0!==$b?$b:[]){var $b;ya.set(Gf,c,!1)}}}Fb={};if(Qf(h)&&h.component.selection)for(Rc of ud(h.component.selection)){$b=h.component.selection[Rc];for(var Hc of $b.project.items)!Hc.channel&&
1<Ta(Hc.field)&&(Fb[Hc.field]="flatten")}var Rc=Fb;Hc=Th(h);I=null!==(r=mg.makeWithAncestors(I,{},Object.assign({},Rc,Hc),ya))&&void 0!==r?r:I;Qf(h)&&(I=Ri.parseAll(I,h),I=wj.parseAll(I,h));if(Qf(h)||Gg(h)){var Xc;if(!F){var qd;I=null!==(qd=Zg.makeFromEncoding(I,h))&&void 0!==qd?qd:I}I=null!==(Xc=$g.makeFromEncoding(I,h))&&void 0!==Xc?Xc:I;I=Qi.parseAllForSortIndex(I,h)}Xc=h.getDataName(Nf.Raw);r=new ig(I,Xc,Nf.Raw,qa);I=ha[Xc]=r;if(Qf(h)){var vd,ee;if(Xc=Og.makeFromEncoding(I,h))I=Xc,ei(h)&&(I=new Vh(I));
I=null!==(vd=qi.makeFromEncoding(I,h))&&void 0!==vd?vd:I;I=null!==(ee=Ah.makeFromEncoding(I,h))&&void 0!==ee?ee:I}if(Qf(h)){var Re;I=null!==(Re=vj.make(I,h))&&void 0!==Re?Re:I}ee=h.getDataName(Nf.Main);vd=new ig(I,ee,Nf.Main,qa);I=ha[ee]=vd;Qf(h)&&Ii(h,vd);Re=null;if(Gg(h)){var Vd;ee=h.getName("facet");{Re=I;const {row:Bd,column:Gf}=h.facet;if(Bd&&Gf){Xc=null;for(Ne of[Bd,Gf])if(sa(Ne.sort)){const {field:We,op:pe="min"}=Ne.sort;Re=Xc=new oi(Re,{joinaggregate:[{op:pe,field:We,as:fk(Ne,Ne.sort,{forAs:!0})}],
groupby:[Wc(Ne)]})}var Ne=Xc}else Ne=null}I=null!==(Vd=Ne)&&void 0!==Vd?Vd:I;Re=new ni(I,h,ee,vd.getSource());ha[ee]=Re}return Object.assign({},h.component.data,{outputNodes:ha,outputNodeRefCounts:qa,raw:r,main:vd,facetRoot:Re,ancestorParse:ya})}function Om(h){return yg.reduce((F,c)=>{h.component.scales[c]&&(F[c]=[Pm(c,h)]);return F},{})}function Qm(h,F){if(h){if(h.length!==F.length)return;const c=h.length;for(let r=0;r<c;r++){const I=h[r],ha=F[r];if(!!I!==!!ha)return;if(I&&ha){const qa=I.getWithExplicit("orient"),
ya=ha.getWithExplicit("orient");if(qa.explicit&&ya.explicit&&qa.value!==ya.value)return;h[r]=Rm(I,ha)}}}else return F.map(c=>c.clone());return h}function Rm(h,F){for(const c of el){const r=ue(h.getWithExplicit(c),F.getWithExplicit(c),c,"axis",(I,ha)=>{switch(c){case "title":return ua(I,ha);case "gridScale":return{explicit:I.explicit,value:za(I.value,ha.value)}}return id(I,ha,c,"axis")});h.setWithExplicit(c,r)}return h}function Sm(h,F,c,r,I){if("disable"===F)return void 0!==c;c=c||{};switch(F){case "titleAngle":case "labelAngle":return h===
(zc(c.labelAngle)?c.labelAngle:M(c.labelAngle));case "values":return!!c.values;case "encode":return!!c.encoding||!!c.labelAngle;case "title":if(h===Mi(r,I))return!0}return h===c[F]}function Pm(h,F){var c,r,I,ha,qa;let ya=F.axis(h);const Va=new fl;var hb=va(F.encoding[h]);const {mark:Ab,config:Fb}=F;var $b=(null===(c=ya)||void 0===c?void 0:c.orient)||(null===(r=Fb["x"===h?"axisX":"axisY"])||void 0===r?void 0:r.orient)||(null===(I=Fb.axis)||void 0===I?void 0:I.orient)||("x"===h?"bottom":"left");r=F.getScaleComponent(h).get("type");
c=pj(h,r,$b,F.config);I=void 0!==ya?!ya:Ng("disable",Fb.style,null===(ha=ya)||void 0===ha?void 0:ha.style,c).configValue;Va.set("disable",I,void 0!==ya);if(I)return Va;ya=ya||{};ha=Qj(hb,ya,h,Fb.style,c);hb={fieldOrDatumDef:hb,axis:ya,channel:h,model:F,scaleType:r,orient:$b,labelAngle:ha,mark:Ab,config:Fb};for(const Rc of el)if($b=Rc in gl?gl[Rc](hb):hl[Rc]?ya[Rc]:void 0,ha=void 0!==$b,r=Sm($b,Rc,ya,F,h),ha&&r)Va.set(Rc,$b,r);else{const {configValue:Xc,configFrom:qd}=hl[Rc]&&"values"!==Rc?Ng(Rc,Fb.style,
ya.style,c):{};I=void 0!==Xc;ha&&!I?Va.set(Rc,$b,r):("vgAxisConfig"!==qd||Tm.has(Rc)&&I||ca(Xc)||zc(Xc))&&Va.set(Rc,Xc,!1)}const Hc=null!==(qa=ya.encoding)&&void 0!==qa?qa:{};qa=Mk.reduce((Rc,Xc)=>{var qd;if(!Va.hasAxisPart(Xc))return Rc;var vd=ag(null!==(qd=Hc[Xc])&&void 0!==qd?qd:{},F);if("labels"===Xc){{var ee;const {encoding:Re,config:Vd}=F;qd=null!==(ee=va(Re[h]))&&void 0!==ee?ee:va(Re[Sa(h)]);ee=F.axis(h)||{};const {format:Ne,formatType:Bd}=ee;vd=xc(Bd)?Object.assign({},{text:Je({fieldOrDatumDef:qd,
field:"datum.value",format:Ne,formatType:Bd,config:Vd})},vd):vd}}void 0===vd||O(vd)||(Rc[Xc]={update:vd});return Rc},{});O(qa)||Va.set("encode",qa,!!ya.encoding||void 0!==ya.labelAngle);return Va}function Um(h,F,c){switch(h){case Aj:case gk:case hk:case il:case Vm:case Wm:return}const {x:r,y:I,x2:ha,y2:qa}=F;switch(h){case Bj:if(tc(r)&&(vc(r.bin)||tc(I)&&I.aggregate&&!r.aggregate))break;if(tc(I)&&(vc(I.bin)||tc(r)&&r.aggregate&&!I.aggregate))return"horizontal";if(qa||ha){if(c)return c;if(!ha&&(tc(r)&&
"quantitative"===r.type&&!kc(r.bin)||ie(r)))return"horizontal";if(!qa&&(tc(I)&&"quantitative"===I.type&&!kc(I.bin)||ie(I)))break}case Cj:if(!(!ha||tc(r)&&vc(r.bin)||!qa||tc(I)&&vc(I.bin)))return;case Dj:if(qa){if(tc(I)&&vc(I.bin))return"horizontal";break}else if(ha)if(tc(r)&&vc(r.bin))break;else return"horizontal";else if(h===Cj)if(r&&!I)break;else if(I&&!r)return"horizontal";case Ej:case ik:F=fd(r);var ya=fd(I);if(F&&!ya)return"tick"!==h?"horizontal":"vertical";if(!F&&ya)return"tick"!==h?"vertical":
"horizontal";if(F&&ya){F="temporal"===r.type;ya="temporal"===I.type;if(F&&!ya)return"tick"!==h?"vertical":"horizontal";if(!F&&ya)return"tick"!==h?"horizontal":"vertical";if(!r.aggregate&&I.aggregate)return"tick"!==h?"vertical":"horizontal";if(r.aggregate&&!I.aggregate)return"tick"!==h?"horizontal":"vertical";if(c)return c}else{if(c)return c;return}}return"vertical"}function jk(h,F){return Object.assign({},pg(h,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
Xf("x",h,{defaultPos:"mid"}),Xf("y",h,{defaultPos:"mid"}),Tf("size",h),Tf("angle",h),F?{shape:{value:F}}:Tf("shape",h))}function Xm(h,F,c){if(void 0===Xd("align",h,c))return"center"}function Ym(h,F,c){if(void 0===Xd("baseline",h,c))return"middle"}function Zm(h){var F;const {config:c,markDef:r}=h;var {orient:I}=r;const ha="horizontal"===I?"width":"height";h=h.getScaleComponent("horizontal"===I?"x":"y");I=null!==(F=Xd("size",r,c,{vgChannel:ha}))&&void 0!==F?F:c.tick.bandSize;return void 0!==I?I:(F=
h?h.get("range"):void 0)&&rc(F)&&a(F.step)?3*F.step/4:3*q(c.view,ha)/4}function $m(h){if(D([Ej,Dj,an],h.mark)){var F=mc(h.mark,h.encoding);if(0<F.length)return bn(h,F)}else if(D([Bj],h.mark)&&(F=kk.some(c=>Xd(c,h.markDef,h.config)),h.stack&&!h.fieldDef("size")&&F))return cn(h);return lk(h)}function bn(h,F){return[{name:h.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+h.requestDataName(Nf.Main),data:h.requestDataName(Nf.Main),groupby:F}},encode:{update:{width:{field:{group:"width"}},
height:{field:{group:"height"}}}},marks:lk(h,{fromPrefix:"faceted_path_"})}]}function cn(h){const [F]=lk(h,{fromPrefix:"stack_group_"}),c=h.scaleName(h.stack.fieldChannel),r=Va=>{Va=void 0===Va?{}:Va;return h.vgField(h.stack.fieldChannel,Va)};var I=(Va,hb)=>{hb=[r({prefix:"min",suffix:"start",expr:hb}),r({prefix:"max",suffix:"start",expr:hb}),r({prefix:"min",suffix:"end",expr:hb}),r({prefix:"max",suffix:"end",expr:hb})];return"".concat(Va,"(").concat(hb.map(Ab=>"scale('".concat(c,"',").concat(Ab,
")")).join(","),")")};let ha;"x"===h.stack.fieldChannel?(I=Object.assign({},N(F.encode.update,["y","yc","y2","height",...kk]),{x:{signal:I("min","datum")},x2:{signal:I("max","datum")},clip:{value:!0}}),ha={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},F.encode.update=Object.assign({},K(F.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(I=Object.assign({},N(F.encode.update,["x","xc","x2","width"]),{y:{signal:I("min","datum")},y2:{signal:I("max","datum")},clip:{value:!0}}),
ha={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},F.encode.update=Object.assign({},K(F.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var qa of kk){var ya=Se(qa,h.markDef,h.config);F.encode.update[qa]?(I[qa]=F.encode.update[qa],delete F.encode.update[qa]):ya&&(I[qa]=Hd(ya));ya&&(F.encode.update[qa]={value:0})}qa=h.fieldDef(h.stack.groupbyChannel);ya=Wc(qa)?[Wc(qa)]:[];((null===qa||void 0===qa?0:qa.bin)||(null===qa||void 0===qa?0:qa.timeUnit))&&ya.push(Wc(qa,{binSuffix:"end"}));
I="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Va,hb)=>{if(F.encode.update[hb])return Object.assign({},Va,{[hb]:F.encode.update[hb]});{const Ab=Se(hb,h.markDef,h.config);return void 0!==Ab?Object.assign({},Va,{[hb]:Hd(Ab)}):Va}},I);I.stroke&&(I.strokeForeground={value:!0},I.strokeOffset={value:0});return[{type:"group",from:{facet:{data:h.requestDataName(Nf.Main),name:"stack_group_"+h.requestDataName(Nf.Main),groupby:ya,aggregate:{fields:[r({suffix:"start"}),
r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:I},marks:[{type:"group",encode:{update:ha},marks:[F]}]}]}function dn(h){const {encoding:F,stack:c,mark:r,markDef:I,config:ha}=h;var qa=F.order;if(!(!le(qa)&&Zc(qa)&&x(qa.value)||!qa&&x(Xd("order",I,ha)))){if((le(qa)||tc(qa))&&!c)return bf(qa,{expr:"datum"});if(ce(r)){const ya="horizontal"===I.orient?"y":"x",Va=F[ya];if(tc(Va)){qa=Va.sort;if(le(qa))return{field:Wc(Va,{prefix:ya,suffix:"sort_index",
expr:"datum"})};if(sa(qa))return{field:Wc({aggregate:Za(h.encoding)?qa.op:void 0,field:qa.field},{expr:"datum"})};if(qa&&qa.encoding)return h=h.fieldDef(qa.encoding),{field:Wc(h,{expr:"datum"}),order:qa.order};if(null!==qa)return{field:Wc(Va,{binSuffix:h.stack&&h.stack.impute?"mid":void 0,expr:"datum"})}}}}}function lk(h,F){F=void 0===F?{fromPrefix:""}:F;const {mark:c,markDef:r,encoding:I,config:ha}=h;var qa=r.clip;var ya=h.getScaleComponent("x");var Va=h.getScaleComponent("y");ya=ya&&ya.get("selectionExtent")||
Va&&Va.get("selectionExtent")?!0:void 0;Va=(Va=h.component.projection)&&!Va.isFit?!0:void 0;qa=za(qa,ya,Va);ya=uf(r);Va=I.key;const hb=dn(h);var Ab;if(h.component.selection){for(var Fb=Ab=ud(h.component.selection).length,$b=h.parent;$b&&0===Fb;)Fb=ud($b.component.selection).length,$b=$b.parent;Ab=Fb?{interactive:0<Ab||!!h.encoding.tooltip}:null}else Ab=null;Fb=Xd("aria",r,ha);$b=Fj[c].postEncodingTransform?Fj[c].postEncodingTransform(h):null;return[Object.assign({},{name:h.getName("marks"),type:Fj[c].vgMark},
qa?{clip:!0}:{},ya?{style:ya}:{},Va?{key:Va.field}:{},hb?{sort:hb}:{},Ab?Ab:{},!1===Fb?{aria:Fb}:{},{from:{data:F.fromPrefix+h.requestDataName(Nf.Main)},encode:{update:Fj[c].encodeEntry(h)}},$b?{transform:$b}:{})]}function mk(h,F,c,r,I){if("facet"in h)return new Gj(h,F,c,I);if("layer"in h)return new jl(h,F,c,r,I);if(Ia(h))return new kl(h,F,c,r,I);if("vconcat"in h||"hconcat"in h||"concat"in h)return new en(h,F,c,I);throw Error(Ac(h));}function fn(h,F,c,r){c=void 0===c?{}:c;const I=h.config?$a(h.config):
void 0;c=[].concat(h.assembleSelectionData([]),Km(h.component.data,c));const ha=h.assembleProjections(),qa=h.assembleTitle(),ya=h.assembleGroupStyle(),Va=h.assembleGroupEncodeEntry(!0);let hb=h.assembleLayoutSignals();hb=hb.filter($b=>"width"!==$b.name&&"height"!==$b.name||void 0===$b.value?!0:(F[$b.name]=+$b.value,!1));var Ab=Object.assign({},F);const Fb=F.params;Ab=(delete Ab.params,Ab);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},h.description?{description:h.description}:
{},Ab,qa?{title:qa}:{},ya?{style:ya}:{},Va?{encode:{update:Va}}:{},{data:c},0<ha.length?{projections:ha}:{},h.assembleGroup([...hb,...h.assembleSelectionTopLevelSignals([]),...Vc(Fb)]),I?{config:I}:{},r?{usermeta:r}:{})}const Al=h=>function(F){return F[h]},Bl=h=>{const F=h.length;return function(c){for(let r=0;r<F;++r)c=c[h[r]];return c}};(function(h,F,c){const r=L(h);h=1===r.length?r[0]:h;return w((c&&c.get||G)(r),[h],F||h)})("id");const fm=w(h=>h,[],"identity");w(()=>0,[],"zero");w(()=>1,[],"one");
w(()=>!0,[],"true");w(()=>!1,[],"false");var le=Array.isArray;const Yh=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function c(F){var r=isNaN(F)?1:Number(F);return r?Array.prototype.reduce.call(this,function(I,ha){return Array.isArray(ha)?I.push.apply(I,c.call(ha,r-1)):I.push(ha),I},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,
value:function(F){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var ri=function(F,c){c||(c={});"function"===typeof c&&(c={cmp:c});var r="boolean"===typeof c.cycles?c.cycles:!1,I=c.cmp&&function(qa){return function(ya){return function(Va,hb){return qa({key:Va,value:ya[Va]},{key:hb,value:ya[hb]})}}}(c.cmp),ha=[];return function Va(ya){ya&&ya.toJSON&&"function"===typeof ya.toJSON&&(ya=ya.toJSON());if(void 0!==ya){if("number"==typeof ya)return isFinite(ya)?""+ya:"null";if("object"!==
typeof ya)return JSON.stringify(ya);var hb;if(Array.isArray(ya)){var Ab="[";for(hb=0;hb<ya.length;hb++)hb&&(Ab+=","),Ab+=Va(ya[hb])||"null";return Ab+"]"}if(null===ya)return"null";if(-1!==ha.indexOf(ya)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Fb=ha.push(ya)-1,$b=Object.keys(ya).sort(I&&I(ya));Ab="";for(hb=0;hb<$b.length;hb++){var Hc=$b[hb],Rc=Va(ya[Hc]);Rc&&(Ab&&(Ab+=","),Ab+=JSON.stringify(Hc)+":"+Rc)}ha.splice(Fb,1);return"{"+Ab+
"}"}}(F)};const Zh=function I(c,r){if(c===r)return!0;if(c&&r&&"object"==typeof c&&"object"==typeof r){if(c.constructor!==r.constructor)return!1;var ha;if(Array.isArray(c)){var qa=c.length;if(qa!=r.length)return!1;for(ha=qa;0!==ha--;)if(!I(c[ha],r[ha]))return!1;return!0}if(c.constructor===RegExp)return c.source===r.source&&c.flags===r.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===r.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===r.toString();var ya=Object.keys(c);
qa=ya.length;if(qa!==Object.keys(r).length)return!1;for(ha=qa;0!==ha--;)if(!Object.prototype.hasOwnProperty.call(r,ya[ha]))return!1;for(ha=qa;0!==ha--;)if(qa=ya[ha],!I(c[qa],r[qa]))return!1;return!0}return c!==c&&r!==r},Ve=function(c,r,I){return I={path:r,exports:{},require:function(ha,qa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},c(I,I.exports),I.exports}(function(c){var r=function(){function I(Fb,$b){return null!=$b&&Fb instanceof $b}function ha(Fb,
$b,Hc,Rc,Xc){function qd(Vd,Ne){if(null===Vd)return null;if(0===Ne||"object"!=typeof Vd)return Vd;if(I(Vd,Va))var Bd=new Va;else if(I(Vd,hb))Bd=new hb;else if(I(Vd,Ab))Bd=new Ab(function(Rf,mf){Vd.then(function(Sf){Rf(qd(Sf,Ne-1))},function(Sf){mf(qd(Sf,Ne-1))})});else if(ha.__isArray(Vd))Bd=[];else if(ha.__isRegExp(Vd))Bd=new RegExp(Vd.source,ya(Vd)),Vd.lastIndex&&(Bd.lastIndex=Vd.lastIndex);else if(ha.__isDate(Vd))Bd=new Date(Vd.getTime());else{if(Re&&m.isBuffer(Vd))return Bd=m.allocUnsafe?m.allocUnsafe(Vd.length):
new m(Vd.length),Vd.copy(Bd),Bd;if(I(Vd,Error))Bd=Object.create(Vd);else if("undefined"==typeof Rc){var Gf=Object.getPrototypeOf(Vd);Bd=Object.create(Gf)}else Bd=Object.create(Rc),Gf=Rc}if($b){var We=vd.indexOf(Vd);if(-1!=We)return ee[We];vd.push(Vd);ee.push(Bd)}I(Vd,Va)&&Vd.forEach(function(Rf,mf){mf=qd(mf,Ne-1);Rf=qd(Rf,Ne-1);Bd.set(mf,Rf)});I(Vd,hb)&&Vd.forEach(function(Rf){Rf=qd(Rf,Ne-1);Bd.add(Rf)});for(var pe in Vd){var Af;Gf&&(Af=Object.getOwnPropertyDescriptor(Gf,pe));Af&&null==Af.set||(Bd[pe]=
qd(Vd[pe],Ne-1))}if(Object.getOwnPropertySymbols)for(We=Object.getOwnPropertySymbols(Vd),pe=0;pe<We.length;pe++)if(Af=We[pe],Gf=Object.getOwnPropertyDescriptor(Vd,Af),!Gf||Gf.enumerable||Xc)Bd[Af]=qd(Vd[Af],Ne-1),Gf.enumerable||Object.defineProperty(Bd,Af,{enumerable:!1});if(Xc)for(We=Object.getOwnPropertyNames(Vd),pe=0;pe<We.length;pe++)Af=We[pe],Gf=Object.getOwnPropertyDescriptor(Vd,Af),Gf&&Gf.enumerable||(Bd[Af]=qd(Vd[Af],Ne-1),Object.defineProperty(Bd,Af,{enumerable:!1}));return Bd}"object"===
typeof $b&&(Hc=$b.depth,Rc=$b.prototype,Xc=$b.includeNonEnumerable,$b=$b.circular);var vd=[],ee=[],Re="undefined"!=typeof m;"undefined"==typeof $b&&($b=!0);"undefined"==typeof Hc&&(Hc=Infinity);return qd(Fb,Hc)}function qa(Fb){return Object.prototype.toString.call(Fb)}function ya(Fb){var $b="";Fb.global&&($b+="g");Fb.ignoreCase&&($b+="i");Fb.multiline&&($b+="m");return $b}try{var Va=Map}catch(Fb){Va=function(){}}try{var hb=Set}catch(Fb){hb=function(){}}try{var Ab=Promise}catch(Fb){Ab=function(){}}ha.clonePrototype=
function(Fb){if(null===Fb)return null;var $b=function(){};$b.prototype=Fb;return new $b};ha.__objToStr=qa;ha.__isDate=function(Fb){return"object"===typeof Fb&&"[object Date]"===qa(Fb)};ha.__isArray=function(Fb){return"object"===typeof Fb&&"[object Array]"===qa(Fb)};ha.__isRegExp=function(Fb){return"object"===typeof Fb&&"[object RegExp]"===qa(Fb)};ha.__getRegExpFlags=ya;return ha}();c.exports&&(c.exports=r)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(c=>ri(c)).join(","),")")};
const Of=ri,ud=Object.keys,Tg=Object.values,si=Object.entries;let tk=42;const Lk={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",
vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Mk=["domain","grid","labels","ticks","title"],lm={grid:"grid",
gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",
labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",
titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},ll={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,
domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,
tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},hl=Object.assign({},ll,{style:1,labelExpr:1,encoding:1}),Fk=ud({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,
axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Cl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Dm={count:1,min:1,max:1},Dl=["count","valid","missing","distinct"],Wl=["count",
"sum","distinct","valid","missing"],Cm=y("mean average median q1 q3 min max".split(" ")),Kj={theta:1,theta2:1,radius:1,radius2:1},nk={longitude:1,longitude2:1,latitude:1,latitude2:1},gn=ud(nk),ml=Object.assign({},{x:1,y:1,x2:1,y2:1},Kj,nk,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nl={row:1,column:1,facet:1},zg=ud(nl),Ui=Object.assign({},ml,nl),Il=ud(Ui);var Hj=
Object.assign({},Ui),hn=(delete Hj.order,delete Hj.detail,delete Hj.tooltip,Hj),Ij=Object.assign({},hn);const jn=(delete Ij.row,delete Ij.column,delete Ij.facet,Ij),kn="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var wg=Object.assign({},ml);const Nj=(delete wg.x,delete wg.y,delete wg.x2,delete wg.y2,delete wg.latitude,delete wg.longitude,delete wg.latitude2,delete wg.longitude2,delete wg.theta,delete wg.theta2,delete wg.radius,delete wg.radius2,wg),Tl=ud(Nj),cg={x:1,y:1},yg=ud(cg),Vj={theta:1,
radius:1},ln=ud(Vj);var ah=Object.assign({},Nj);const ol=(delete ah.text,delete ah.tooltip,delete ah.href,delete ah.url,delete ah.description,delete ah.detail,delete ah.key,delete ah.order,ah),mn=ud(ol),Qg=Object.assign({},cg,Vj,ol),fj=ud(Qg),uk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var pl=Object.assign({},uk);const El=(delete pl.geoshape,
pl),ql=function(c,r){let I=c||0;return{level(ha){return arguments.length?(I=+ha,this):I},error(){1<=I&&v(r||"error","ERROR",arguments);return this},warn(){2<=I&&v(r||"warn","WARN",arguments);return this},info(){3<=I&&v(r||"log","INFO",arguments);return this},debug(){4<=I&&v(r||"log","DEBUG",arguments);return this}}}(2);let Si=ql;const vk="january february march april may june july august september october november december".split(" "),Fl=vk.map(c=>c.substr(0,3)),wk="sunday monday tuesday wednesday thursday friday saturday".split(" "),
Gl=wk.map(c=>c.substr(0,3)),yk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Lj=ud(yk),Hl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},cm=ud({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,
shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),$l={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},kk=["cornerRadius","cornerRadiusTopLeft",
"cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Vf={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Mj={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal",
"bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},rl={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},sl="linear log pow sqrt symlog time utc".split(" "),Fg=y(sl),mm=y(["linear","log","pow","sqrt","symlog"]),Ti=y(["quantile","quantize","threshold"]),nn=sl.concat(["quantile","quantize","threshold",
"sequential","identity"]),xg=y(nn),og=y(["ordinal","bin-ordinal","point","band"]);var Wh=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const on=(delete Wh.type,delete Wh.domain,delete Wh.range,delete Wh.rangeMax,delete Wh.rangeMin,delete Wh.scheme,Wh),pn=ud(on),ng={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},tl=ng.arc,Dj=ng.area,Bj=ng.bar,Wm=ng.image,Ej=ng.line,Aj=ng.point,Vm=ng.rect,Cj=ng.rule,il=ng.text,ik=ng.tick,an=ng.trail,gk=ng.circle,hk=ng.square,$k=ng.geoshape,ul=ud(ng);y(ul);const qn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Hk=ud({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Ek=ud({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),rn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},xk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},vl=(c,r)=>{switch(r.fieldTitle){case "plain":return c.field;case "functional":{const {aggregate:I,
bin:ha,timeUnit:qa,field:ya}=c;oa(I)?c="".concat(ya," for argmax(").concat(I.argmax,")"):ea(I)?c="".concat(ya," for argmin(").concat(I.argmin,")"):(c=Ib(qa),c=(c=I||(null===c||void 0===c?void 0:c.unit)||(null===c||void 0===c?void 0:c.maxbins)&&"timeunit"||kc(ha)&&"bin")?c.toUpperCase()+"("+ya+")":ya)}return c;default:return Me(c,r)}};let ti=vl;const Ch={compatible:!0};class Vi{constructor(c,r){this.name=c;this.run=r}hasMatchingType(c){return Ia(c)?(c=c.mark,(yd(c)?c.type:c)===this.name):!1}}const sn=
new Vi("boxplot",uc),tn=new Vi("errorbar",Lc),un=new Vi("errorband",Yc),Bk={};nd("boxplot",uc,["box","median","outliers","rule","ticks"]);nd("errorbar",Lc,["ticks","rule"]);nd("errorband",Yc,["band","borders"]);const Pl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Nk={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",
titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Ok={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},nm=ud(Nk),om=ud(Ok),Gk=ud({header:1,headerRow:1,headerColumn:1,
headerFacet:1}),Pk="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Kl=["background","padding"],Ll=ud({align:1,bounds:1,center:1,columns:1,spacing:1}),Ml={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,
continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},
projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",
encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},bh="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Dk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Ck={blue:bh[0],orange:bh[1],red:bh[2],teal:bh[3],green:bh[4],yellow:bh[5],purple:bh[6],pink:bh[7],
brown:bh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Nl=[...Ek,...Fk,...Gk,"background","padding","legend","lineBreak","scale","style","title","view"],Ql=["view",...ul],Ol="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Rl=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class vn{map(c,r){return"facet"in c?this.mapFacet(c,r):"repeat"in c?this.mapRepeat(c,r):"hconcat"in c?this.mapHConcat(c,r):"vconcat"in c?this.mapVConcat(c,r):"concat"in c?this.mapConcat(c,r):this.mapLayerOrUnit(c,
r)}mapLayerOrUnit(c,r){if("layer"in c)return this.mapLayer(c,r);if(Ia(c))return this.mapUnit(c,r);throw Error(Ac(c));}mapLayer(c,r){return Object.assign({},c,{layer:c.layer.map(I=>this.mapLayerOrUnit(I,r))})}mapHConcat(c,r){return Object.assign({},c,{hconcat:c.hconcat.map(I=>this.map(I,r))})}mapVConcat(c,r){return Object.assign({},c,{vconcat:c.vconcat.map(I=>this.map(I,r))})}mapConcat(c,r){var I=Object.assign({},c);c=c.concat;I=(delete I.concat,I);return Object.assign({},I,{concat:c.map(ha=>this.map(ha,
r))})}mapFacet(c,r){return Object.assign({},c,{spec:this.map(c.spec,r)})}mapRepeat(c,r){return Object.assign({},c,{spec:this.map(c.spec,r)})}}const Vl={zero:1,center:1,normalize:1},Sl=new Set([tl,Bj,Dj,Cj,Aj,gk,hk,Ej,il,ik]),Ul=new Set([Bj,Dj,tl]);class wn{constructor(){dc(this,"name","path-overlay")}hasMatchingType(c,r){if(Ia(c)){const {mark:I,encoding:ha}=c;c=yd(I)?I:{type:I};switch(c.type){case "line":case "rule":case "trail":return!!Dc(c,r[c.type],ha);case "area":return!!Dc(c,r[c.type],ha)||!!Pc(c,
r[c.type])}}return!1}run(c,r,I){const {config:ha}=r;var qa=Object.assign({},c),ya=c.selection;const Va=c.projection;var hb=c.mark;c=c.encoding;qa=(delete qa.selection,delete qa.projection,delete qa.mark,delete qa.encoding,qa);c=wb(c,ha);hb=yd(hb)?hb:{type:hb};const Ab=Dc(hb,ha[hb.type],c),Fb="area"===hb.type&&Pc(hb,ha[hb.type]);ya=[Object.assign({},ya?{selection:ya}:{},{mark:Vb(Object.assign({},"area"===hb.type&&void 0===hb.opacity&&void 0===hb.fillOpacity?{opacity:.7}:{},hb)),encoding:K(c,["shape"])})];
const $b=Kb(hb,c);let Hc=c;if($b){const {fieldChannel:Rc,offset:Xc}=$b;Hc=Object.assign({},c,{[Rc]:Object.assign({},c[Rc],Xc?{stack:Xc}:{})})}Fb&&ya.push(Object.assign({},Va?{projection:Va}:{},{mark:Object.assign({},{type:"line"},N(hb,["clip","interpolate","tension","tooltip"]),Fb),encoding:Hc}));Ab&&ya.push(Object.assign({},Va?{projection:Va}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},N(hb,["clip","tooltip"]),Ab),encoding:Hc}));return I(Object.assign({},qa,{layer:ya}),Object.assign({},
r,{config:Ob(ha)}))}}class xn{constructor(){dc(this,"name","RangeStep")}hasMatchingType(c){if(Ia(c)&&c.encoding)for(const I of yg){const ha=c.encoding[I];if(ha&&zd(ha)){var r;if(null===ha||void 0===ha?0:null===(r=ha.scale)||void 0===r?0:r.rangeStep)return!0}}return!1}run(c){const r={};let I=Object.assign({},c.encoding);for(const hb of yg){const Ab=lb(hb);var ha=I[hb];if(ha&&zd(ha)){var qa;if(null===ha||void 0===ha?0:null===(qa=ha.scale)||void 0===qa?0:qa.rangeStep){var ya=Object.assign({},ha);ha=
ha.scale;ya=(delete ya.scale,ya);var Va=Object.assign({},ha);Va=(delete Va.rangeStep,Va);r[Ab]={step:ha.rangeStep};Gb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');I=Object.assign({},I,{[hb]:Object.assign({},ya,O(Va)?{}:{scale:Va})})}}}return Object.assign({},r,c,{encoding:I})}}class yn{constructor(){dc(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Ia(c)){const {encoding:r,
mark:I}=c;if("line"===I)for(const ha of kn)if(c=ab(ha),c=r[c],r[ha]&&(tc(c)&&!vc(c.bin)||ed(c)))return!0}return!1}run(c,r,I){var {encoding:ha}=c,qa=!!ha.x2;ha="Line mark is for continuous lines and thus cannot be used with ".concat(qa&&ha.y2?"x2 and y2":qa?"x2":"y2",". We will use the rule mark (line segments) instead.");Gb(ha);return I(Object.assign({},c,{mark:"rule"}),r)}}class zn extends vn{constructor(...c){super(...c);dc(this,"nonFacetUnitNormalizers",[sn,tn,un,new wn,new yn,new xn])}map(c,r){if(Ia(c)){const I=
La(c.encoding,"row"),ha=La(c.encoding,"column"),qa=La(c.encoding,"facet");if(I||ha||qa)return this.mapFacetedUnit(c,r)}return super.map(c,r)}mapUnit(c,r){const {parentEncoding:I,parentProjection:ha}=r;var qa=kd(c.encoding,r.repeater);c=Object.assign({},c,qa?{encoding:qa}:{});if(I||ha)return this.mapUnitWithParentEncodingOrProjection(c,r);qa=this.mapLayerOrUnit.bind(this);for(const ya of this.nonFacetUnitNormalizers)if(ya.hasMatchingType(c,r.config))return ya.run(c,r,qa);return c}mapRepeat(c,r){return!le(c.repeat)&&
c.repeat.layer?this.mapLayerRepeat(c,r):this.mapNonLayerRepeat(c,r)}mapLayerRepeat(c,r){var I=Object.assign({},c);const ha=c.repeat,qa=c.spec;I=(delete I.repeat,delete I.spec,I);const {row:ya,column:Va,layer:hb}=ha,{repeater:Ab={},repeaterPrefix:Fb=""}=r;return ya||Va?this.mapRepeat(Object.assign({},c,{repeat:Object.assign({},ya?{row:ya}:{},Va?{column:Va}:{}),spec:{repeat:{layer:hb},spec:qa}}),r):Object.assign({},I,{layer:hb.map($b=>{var Hc=Object.assign({},Ab,{layer:$b});$b=(qa.name||"")+Fb+"child__layer_".concat(Y($b));
Hc=this.mapLayerOrUnit(qa,Object.assign({},r,{repeater:Hc,repeaterPrefix:$b}));Hc.name=$b;return Hc})})}mapNonLayerRepeat(c,r){var I,ha=c,qa=Object.assign({},ha);const ya=ha.repeat,Va=ha.spec;ha=ha.data;qa=(delete qa.repeat,delete qa.spec,delete qa.data,qa);!le(ya)&&c.columns&&(c=K(c,["columns"]),Gb(cd("repeat")));const hb=[],{repeater:Ab={},repeaterPrefix:Fb=""}=r,$b=!le(ya)&&ya.row||[Ab?Ab.row:null],Hc=!le(ya)&&ya.column||[Ab?Ab.column:null];var Rc=le(ya)&&ya||[Ab?Ab.repeat:null];for(const qd of Rc)for(const vd of $b)for(const ee of Hc){var Xc=
{repeat:qd,row:vd,column:ee,layer:Ab.layer};Rc=(Va.name||"")+Fb+"child__"+(le(ya)?"".concat(Y(qd)):(ya.row?"row_".concat(Y(vd)):"")+(ya.column?"column_".concat(Y(ee)):""));Xc=this.map(Va,Object.assign({},r,{repeater:Xc,repeaterPrefix:Rc}));Xc.name=Rc;hb.push(K(Xc,["data"]))}c=le(ya)?c.columns:ya.column?ya.column.length:1;return Object.assign({},{data:null!==(I=Va.data)&&void 0!==I?I:ha,align:"all"},qa,{columns:c,concat:hb})}mapFacet(c,r){const {facet:I}=c;Xa(I)&&c.columns&&(c=K(c,["columns"]),Gb(cd("facet")));
return super.mapFacet(c,r)}mapUnitWithParentEncodingOrProjection(c,r){const {encoding:I,projection:ha}=c,{parentEncoding:qa,parentProjection:ya,config:Va}=r,hb=de({parentProjection:ya,projection:ha});r=Jd({parentEncoding:qa,encoding:kd(I,r.repeater)});return this.mapUnit(Object.assign({},c,hb?{projection:hb}:{},r?{encoding:r}:{}),{config:Va})}mapFacetedUnit(c,r){var I=c.encoding,ha=Object.assign({},I),qa=I.row;const ya=I.column;I=I.facet;const Va=(delete ha.row,delete ha.column,delete ha.facet,ha);
var hb=Object.assign({},c);ha=c.mark;const Ab=c.width,Fb=c.projection,$b=c.height,Hc=c.view;c=c.selection;hb=(delete hb.mark,delete hb.width,delete hb.projection,delete hb.height,delete hb.view,delete hb.selection,delete hb.encoding,hb);const {facetMapping:Rc,layout:Xc}=this.getFacetMappingAndLayout({row:qa,column:ya,facet:I},r);qa=kd(Va,r.repeater);return this.mapFacet(Object.assign({},hb,Xc,{facet:Rc,spec:Object.assign({},Ab?{width:Ab}:{},$b?{height:$b}:{},Hc?{view:Hc}:{},Fb?{projection:Fb}:{},
{mark:ha,encoding:qa},c?{selection:c}:{})}),r)}getFacetMappingAndLayout(c,r){const {row:I,column:ha,facet:qa}=c;if(I||ha){qa&&(r=[...I?["row"]:[],...ha?["column"]:[]],r="Facet encoding dropped as ".concat(r.join(" and ")," ").concat(1<r.length?"are":"is"," also specified."),Gb(r));r={};var ya={};for(var Va of["row","column"]){const $b=c[Va];if($b){var hb=Object.assign({},$b);hb=(delete hb.align,delete hb.center,delete hb.spacing,delete hb.columns,hb);r[Va]=hb;for(var Ab of["align","center","spacing"])if(void 0!==
$b[Ab]){var Fb;ya[Ab]=null!==(Fb=ya[Ab])&&void 0!==Fb?Fb:{};ya[Ab][Va]=$b[Ab]}}}return{facetMapping:r,layout:ya}}ya=Object.assign({},qa);c=qa.align;Fb=qa.center;Va=qa.spacing;Ab=qa.columns;ya=(delete ya.align,delete ya.center,delete ya.spacing,delete ya.columns,ya);r=(r=r.repeater)?Xa(ya)?Od(ya,r):Uc(ya,r):ya;return{facetMapping:r,layout:Object.assign({},c?{align:c}:{},Fb?{center:Fb}:{},Va?{spacing:Va}:{},Ab?{columns:Ab}:{})}}mapLayer(c,r){var I=Object.assign({},r),ha=r.parentEncoding;r=r.parentProjection;
I=(delete I.parentEncoding,delete I.parentProjection,I);var qa=Object.assign({},c);const ya=c.encoding;c=c.projection;qa=(delete qa.encoding,delete qa.projection,qa);ha=Object.assign({},I,{parentEncoding:Jd({parentEncoding:ha,encoding:ya,layer:!0}),parentProjection:de({parentProjection:r,projection:c})});return super.mapLayer(qa,ha)}}const Xl=new zn;class Bh{constructor(c,r){c=void 0===c?{}:c;r=void 0===r?{}:r;this.explicit=c;this.implicit=r}clone(){return new Bh(Ve(this.explicit),Ve(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(c){return za(this.explicit[c],this.implicit[c])}getWithExplicit(c){return void 0!==this.explicit[c]?{explicit:!0,value:this.explicit[c]}:void 0!==this.implicit[c]?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,r){void 0!==r.value&&this.set(c,r.value,r.explicit)}set(c,r,I){delete this[I?"implicit":"explicit"][c];this[I?"explicit":"implicit"][c]=r;return this}copyKeyFromSplit(c,r){void 0!==r.explicit[c]?this.set(c,r.explicit[c],!0):
void 0!==r.implicit[c]&&this.set(c,r.implicit[c],!1)}copyKeyFromObject(c,r){void 0!==r[c]&&this.set(c,r[c],!0)}copyAll(c){for(const r of ud(c.combine())){const I=c.getWithExplicit(r);this.setWithExplicit(r,I)}}}class Nm extends Bh{constructor(c,r,I){c=void 0===c?{}:c;r=void 0===r?{}:r;I=void 0===I?!1:I;super(c,r);this.explicit=c;this.implicit=r;this.parseNothing=I}clone(){const c=super.clone();c.parseNothing=this.parseNothing;return c}}let Nf;(function(c){c[c.Raw=0]="Raw";c[c.Main=1]="Main";c[c.Row=
2]="Row";c[c.Column=3]="Column";c[c.Lookup=4]="Lookup"})(Nf||(Nf={}));const Zl=/[[\]{}]/,Yl={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ik,Jk;const am={left:"x",center:"xc",right:"x2"},bm={top:"y",middle:"yc",bottom:"y2"},dm=new Set(["aria"]),wl={has:c=>"interval"!==c.type&&c.nearest,parse:(c,r)=>{if(r.events)for(const I of r.events)I.markname=c.getName("voronoi")},marks:(c,r,I)=>{const {x:ha,y:qa}=r.project.hasChannel;r=c.mark;if(ce(r))return Gb('The "nearest" transform is not supported for '.concat(r,
" marks.")),I;r={name:c.getName("voronoi"),type:"path",interactive:!0,from:{data:c.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Xi(c,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:ha||!qa?"datum.datum.x || 0":"0"},y:{expr:qa||!ha?"datum.datum.y || 0":"0"},size:[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]}]};let ya=0,Va=!1;I.forEach((hb,Ab)=>{var Fb;hb=null!==(Fb=hb.name)&&
void 0!==Fb?Fb:"";hb===c.component.mark[0].name?ya=Ab:0<=hb.indexOf("voronoi")&&(Va=!0)});Va||I.splice(ya+1,0,r);return I}};class If{constructor(c,r){this.debugName=r;dc(this,"_children",[]);dc(this,"_parent",null);dc(this,"_hash",void 0);c&&(this.parent=c)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(c){(this._parent=c)&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,r){-1<this._children.indexOf(c)?
Gb("Attempt to add the same child twice."):void 0!==r?this._children.splice(r,0,c):this._children.push(c)}removeChild(c){c=this._children.indexOf(c);this._children.splice(c,1);return c}remove(){let c=this._parent.removeChild(this);for(const r of this._children)r._parent=this._parent,this._parent.addChild(r,c++)}insertAsParentOf(c){const r=c.parent;r.removeChild(this);this.parent=r;c.parent=this}swapWithParent(){const c=this._parent,r=c.parent;for(const I of this._children)I.parent=c;this._children=
[];c.removeChild(this);c.parent.removeChild(c);this.parent=r;c.parent=this}}class ig extends If{clone(){const c=new this.constructor;c.debugName="clone_"+this.debugName;c._source=this._source;c._name="clone_"+this._name;c.type=this.type;c.refCounts=this.refCounts;c.refCounts[c._name]=0;return c}constructor(c,r,I,ha){super(c,r);this.type=I;this.refCounts=ha;dc(this,"_source",void 0);dc(this,"_name",void 0);this._source=this._name=r;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=
0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(pa()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class $g extends If{clone(){return new $g(null,Ve(this.formula))}constructor(c,r){super(c);this.formula=r}static makeFromEncoding(c,r){const I=r.reduceFieldDef((ha,qa,ya)=>{const {field:Va,timeUnit:hb}=qa,Ab=Qf(r)?
r.encoding[Sa(ya)]:void 0;ya=Qf(r)&&Wb(ya,qa,Ab,r.stack,r.markDef,r.config);hb&&(qa=Wc(qa,{forAs:!0}),ha[E({as:qa,field:Va,timeUnit:hb})]=Object.assign({},{as:qa,field:Va,timeUnit:hb},ya?{band:!0}:{}));return ha},{});return O(I)?null:new $g(c,I)}static makeFromTransform(c,r){var I=Object.assign({},r);r=Object.assign({},I);I=I.timeUnit;r=(delete r.timeUnit,r);I=Ib(I);r=Object.assign({},r,{timeUnit:I});return new $g(c,{[E(r)]:r})}merge(c){this.formula=Object.assign({},this.formula);for(const r in c.formula)if(!this.formula[r]||
c.formula[r].band)this.formula[r]=c.formula[r];for(const r of c.children)c.removeChild(r),r.parent=this;c.remove()}removeFormulas(c){const r={};for(const I of si(this.formula)){const [ha,qa]=I;c.has(qa.as)||(r[ha]=qa)}this.formula=r}producedFields(){return new Set(Tg(this.formula).map(c=>c.as))}dependentFields(){return new Set(Tg(this.formula).map(c=>c.field))}hash(){return"TimeUnit ".concat(E(this.formula))}assemble(){const c=[];for(const ha of Tg(this.formula)){const {field:qa,as:ya,timeUnit:Va}=
ha;var r=Ib(Va),I=Object.assign({},r);const hb=r.unit;r=r.utc;I=(delete I.unit,delete I.utc,I);c.push(Object.assign({},{field:gb(qa),type:"timeunit"},hb?{units:qc(hb)}:{},r?{timezone:"utc"}:{},I,{as:[ya,"".concat(ya,"_end")]}))}return c}}class An{constructor(...c){dc(this,"hasChannel",void 0);dc(this,"hasField",void 0);dc(this,"timeUnit",void 0);dc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}}}const xl={has:c=>"single"===c.type&&"global"===c.resolve&&c.bind&&"scales"!==c.bind&&
!Ce(c.bind),parse:(c,r,I,ha)=>{ha.on||delete r.events;ha.clear||delete r.clear},topLevelSignals:(c,r,I)=>{const ha=r.name;c=r.project;const qa=r.bind,ya=r.init&&r.init[0],Va=wl.has(r)?"(item().isVoronoi ? datum.datum : datum)":"datum";c.items.forEach((hb,Ab)=>{const Fb=Y("".concat(ha,"_").concat(hb.field));if(!I.filter(Rc=>Rc.name===Fb).length){var $b,Hc;I.unshift(Object.assign({},{name:Fb},ya?{init:Sg(ya[Ab])}:{value:null},{on:r.events?[{events:r.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(Va,
"[").concat(n(hb.field),"] : null")}]:[],bind:null!==($b=null!==(Hc=qa[hb.field])&&void 0!==Hc?Hc:qa[hb.channel])&&void 0!==$b?$b:qa}))}});return I},signals:(c,r,I)=>{const ha=r.name;var qa=r.project;c=I.filter(Va=>Va.name===ha+"_tuple")[0];r=ha+"_tuple_fields";qa=qa.items.map(Va=>Y("".concat(ha,"_").concat(Va.field)));const ya=qa.map(Va=>"".concat(Va," !\x3d\x3d null")).join(" \x26\x26 ");qa.length&&(c.update="".concat(ya," ? {fields: ").concat(r,", values: [").concat(qa.join(", "),"]} : null"));
delete c.value;delete c.on;return I}},yl={has:c=>"multi"===c.type&&!!c.toggle,signals:(c,r,I)=>I.concat({name:r.name+"_toggle",value:!1,on:[{events:r.events,update:r.toggle}]}),modifyExpr:(c,r)=>{const I=r.name+"_tuple",ha=r.name+"_toggle";return"".concat(ha," ? null : ").concat(I,", ")+("global"===r.resolve?"".concat(ha," ? null : true, "):"".concat(ha," ? null : {unit: ").concat(Yf(c),"}, "))+"".concat(ha," ? ").concat(I," : null")}},gh={has:c=>"interval"===c.type&&"global"===c.resolve&&c.bind&&
"scales"===c.bind,parse:(c,r)=>{const I=r.scales=[];for(const qa of r.project.items){var ha=qa.channel;if(!Qg[ha])continue;const ya=(ha=c.getScaleComponent(ha))?ha.get("type"):void 0;ha&&ya in xg?(ha.set("selectionExtent",{selection:r.name,field:qa.field},!0),I.push(qa)):Gb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(c,r,I)=>{const ha=r.scales.filter(ya=>0===I.filter(Va=>Va.name===ya.signals.data).length);if(!c.parent||Rg(c)||0===
ha.length)return I;c=I.filter(ya=>ya.name===r.name)[0];let qa=c.update;if(0<=qa.indexOf("vlSelectionResolve"))c.update="{".concat(ha.map(ya=>"".concat(n(ya.field),": ").concat(ya.signals.data)).join(", "),"}");else{for(const ya of ha){const Va="".concat(n(ya.field),": ").concat(ya.signals.data);0>qa.indexOf(Va)&&(qa="".concat(qa.substring(0,qa.length-1),", ").concat(Va,"}"))}c.update=qa}return I.concat(ha.map(ya=>({name:ya.signals.data})))},signals:(c,r,I)=>{if(c.parent&&!Rg(c))for(const ha of r.scales)c=
I.filter(qa=>qa.name===ha.signals.data)[0],c.push="outer",delete c.value,delete c.update;return I}},Kk={has:c=>{const r="global"===c.resolve&&c.bind&&Ce(c.bind);c=1===c.project.items.length&&"_vgsid_"!==c.project.items[0].field;r&&!c&&Gb("Legend bindings are only supported for selections over an individual field or encoding channel.");return r&&c},parse:(c,r,I,ha)=>{ha.on||delete r.events;ha.clear||delete r.clear;if(ha.on||ha.clear)for(const ya of r.events){var qa;ya.filter=d(null!==(qa=ya.filter)&&
void 0!==qa?qa:[]);0>ya.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&ya.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}c=Pa(r.bind)?r.bind.legend:"click";c=e(c)?$e(c,"view"):d(c);r.bind={legend:{merge:c}}},topLevelSignals:(c,r,I)=>{c=r.name;const ha=Pa(r.bind)&&r.bind.legend,qa=Va=>hb=>{hb=Ve(hb);hb.markname=Va;return hb};for(const Va of r.project.items){if(!Va.hasLegend)continue;var ya="".concat(Y(Va.field),"_legend");const hb=
"".concat(c,"_").concat(ya);0===I.filter(Ab=>Ab.name===hb).length&&(ya=ha.merge.map(qa("".concat(ya,"_symbols"))).concat(ha.merge.map(qa("".concat(ya,"_labels")))).concat(ha.merge.map(qa("".concat(ya,"_entries")))),I.unshift(Object.assign({},{name:hb},r.init?{}:{value:null},{on:[{events:ya,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:ha.merge,update:"!event.item || !datum ? null : ".concat(hb),force:!0}]})))}return I},signals:(c,r,I)=>{const ha=r.name;var qa=r.project;
c=I.find(hb=>hb.name===ha+"_tuple");var ya=ha+"_tuple_fields";qa=qa.items.filter(hb=>hb.hasLegend).map(hb=>Y("".concat(ha,"_").concat(Y(hb.field),"_legend")));const Va=qa.map(hb=>"".concat(hb," !\x3d\x3d null")).join(" \x26\x26 ");ya="".concat(Va," ? {fields: ").concat(ya,", values: [").concat(qa.join(", "),"]} : null");r.events&&0<qa.length?c.on.push({events:qa.map(hb=>({signal:hb})),update:ya}):0<qa.length&&(c.update=ya,delete c.value,delete c.on);c=I.find(hb=>hb.name===ha+"_toggle");ya=Pa(r.bind)&&
r.bind.legend;c&&(r.events?c.on.push(Object.assign({},c.on[0],{events:ya})):c.on[0].events=ya);return I}},em=[{has:()=>!0,parse:(c,r,I)=>{var ha;const qa=r.name,ya=null!==(ha=r.project)&&void 0!==ha?ha:r.project=new An,Va={};ha={};const hb=new Set,Ab=(Rc,Xc)=>{Rc="visual"===Xc?Rc.channel:Rc.field;let qd=Y("".concat(qa,"_").concat(Rc));for(let vd=1;hb.has(qd);vd++)qd=Y("".concat(qa,"_").concat(Rc,"_").concat(vd));hb.add(qd);return{[Xc]:qd}};if(!I.fields&&!I.encodings){const Rc=c.config.selection[I.type];
if(I.init)for(const Xc of d(I.init))for(const qd of ud(Xc))jn[qd]?(I.encodings||(I.encodings=[])).push(qd):"interval"===I.type?(Gb('Interval selections should be initialized using "x" and/or "y" keys.'),I.encodings=Rc.encodings):(I.fields||(I.fields=[])).push(qd);else I.encodings=Rc.encodings,I.fields=Rc.fields}for(var Fb of null!==($b=I.fields)&&void 0!==$b?$b:[]){var $b;$b={type:"E",field:Fb};$b.signals=Object.assign({},Ab($b,"data"));ya.items.push($b);ya.hasField[Fb]=$b}for(const Rc of null!==
(Hc=I.encodings)&&void 0!==Hc?Hc:[]){var Hc;(Fb=c.fieldDef(Rc))?(Hc=Fb.field,Fb.aggregate?Gb(Rd(Rc,Fb.aggregate)):Hc?(Fb.timeUnit&&(Hc=c.vgField(Rc),$b={timeUnit:Fb.timeUnit,as:Hc,field:Fb.field},ha[E($b)]=$b),Va[Hc]||($b="E","interval"===r.type?c.getScaleComponent(Rc).get("type")in xg&&($b="R"):Fb.bin&&($b="R-RE"),Fb={field:Hc,channel:Rc,type:$b},Fb.signals=Object.assign({},Ab(Fb,"data"),Ab(Fb,"visual")),ya.items.push(Va[Hc]=Fb),ya.hasField[Hc]=ya.hasChannel[Rc]=Va[Hc])):Gb(pd(Rc))):Gb(pd(Rc))}I.init&&
(c=Rc=>ya.items.map(Xc=>void 0!==Rc[Xc.channel]?Rc[Xc.channel]:Rc[Xc.field]),"interval"===I.type?r.init=c(I.init):(I=d(I.init),r.init=I.map(c)));O(ha)||(ya.timeUnit=new $g(null,ha))},signals:(c,r,I)=>{const ha=r.name+"_tuple_fields";return 0<I.filter(qa=>qa.name===ha).length?I:I.concat({name:ha,value:r.project.items.map(qa=>{qa=Object.assign({},qa);qa=(delete qa.signals,delete qa.hasLegend,qa);qa.field=gb(qa.field);return qa})})}},yl,gh,Kk,{has:c=>"interval"===c.type&&c.translate,signals:(c,r,I)=>
{const ha=r.name,qa=gh.has(r),ya=ha+"_translate_anchor",{x:Va,y:hb}=r.project.hasChannel;let Ab=$e(r.translate,"scope");qa||(Ab=Ab.map(Fb=>(Fb.between[0].markname=ha+"_brush",Fb)));I.push({name:ya,value:{},on:[{events:Ab.map(Fb=>Fb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==Va?", extent_x: "+(qa?yi(c,"x"):"slice(".concat(Va.signals.visual,")")):"")+(void 0!==hb?", extent_y: "+(qa?yi(c,"y"):"slice(".concat(hb.signals.visual,")")):"")+"}"}]},{name:ha+"_translate_delta",value:{},on:[{events:Ab,
update:"{x: ".concat(ya,".x - x(unit), y: ").concat(ya,".y - y(unit)}")}]});void 0!==Va&&Ai(c,r,Va,"width",I);void 0!==hb&&Ai(c,r,hb,"height",I);return I}},{has:c=>"interval"===c.type&&c.zoom,signals:(c,r,I)=>{const ha=r.name,qa=gh.has(r),ya=ha+"_zoom_delta",{x:Va,y:hb}=r.project.hasChannel,Ab=n(c.scaleName("x")),Fb=n(c.scaleName("y"));let $b=$e(r.zoom,"scope");qa||($b=$b.map(Hc=>(Hc.markname=ha+"_brush",Hc)));I.push({name:ha+"_zoom_anchor",on:[{events:$b,update:qa?"{"+[Ab?"x: invert(".concat(Ab,
", x(unit))"):"",Fb?"y: invert(".concat(Fb,", y(unit))"):""].filter(Hc=>!!Hc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:ya,on:[{events:$b,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==Va&&Bi(c,r,Va,"width",I);void 0!==hb&&Bi(c,r,hb,"height",I);return I}},xl,wl,{has:c=>void 0!==c.clear&&!1!==c.clear,parse:(c,r,I)=>{I.clear&&(r.clear=e(I.clear)?$e(I.clear,"scope"):I.clear)},topLevelSignals:(c,r,I)=>{if(xl.has(r))for(const ha of r.project.items)c=I.findIndex(qa=>
qa.name===Y("".concat(r.name,"_").concat(ha.field))),-1!==c&&I[c].on.push({events:r.clear,update:"null"});return I},signals:(c,r,I)=>{function ha(qa,ya){-1!==qa&&I[qa].on&&I[qa].on.push({events:r.clear,update:ya})}if("interval"===r.type)for(const qa of r.project.items)c=I.findIndex(ya=>ya.name===qa.signals.visual),ha(c,"[0, 0]"),-1===c&&(c=I.findIndex(ya=>ya.name===qa.signals.data),ha(c,"null"));else c=I.findIndex(qa=>qa.name===r.name+"_tuple"),ha(c,"null"),yl.has(r)&&(c=I.findIndex(qa=>qa.name===
r.name+"_toggle"),ha(c,"false"));return I}}],gm={single:{signals:$f,modifyExpr:(c,r)=>r.name+"_tuple, "+("global"===r.resolve?"true":"{unit: ".concat(Yf(c),"}"))},multi:{signals:$f,modifyExpr:(c,r)=>r.name+"_tuple, "+("global"===r.resolve?"null":"{unit: ".concat(Yf(c),"}"))},interval:{signals:(c,r)=>{const I=r.name;var ha=I+"_tuple_fields",qa=gh.has(r);const ya=[],Va=[],hb=[];if(r.translate&&!qa){const Ab="!event.item || event.item.mark.name !\x3d\x3d ".concat(n(I+"_brush"));kj(r,(Fb,$b)=>{var Hc;
$b=d(null!==(Hc=$b.between[0].filter)&&void 0!==Hc?Hc:$b.between[0].filter=[]);0>$b.indexOf(Ab)&&$b.push(Ab);return Fb})}r.project.items.forEach((Ab,Fb)=>{const $b=Ab.channel;if("x"!==$b&&"y"!==$b)Gb("Interval selections only support x and y encoding channels.");else{Fb=di(c,r,Ab,r.init?r.init[Fb]:null);var Hc=Ab.signals.data;Ab=Ab.signals.visual;var Rc=n(c.scaleName($b)),Xc=c.getScaleComponent($b).get("type")in xg?"+":"";ya.push(...Fb);Va.push(Hc);hb.push({scaleName:c.scaleName($b),expr:"(!isArray(".concat(Hc,
") || ")+"(".concat(Xc,"invert(").concat(Rc,", ").concat(Ab,")[0] \x3d\x3d\x3d ").concat(Xc).concat(Hc,"[0] \x26\x26 ")+"".concat(Xc,"invert(").concat(Rc,", ").concat(Ab,")[1] \x3d\x3d\x3d ").concat(Xc).concat(Hc,"[1]))")})}});qa||ya.push({name:I+"_scale_trigger",value:{},on:[{events:hb.map(Ab=>({scale:Ab.scaleName})),update:hb.map(Ab=>Ab.expr).join(" \x26\x26 ")+" ? ".concat(I+"_scale_trigger"," : {}")}]});qa=r.init;ha="unit: ".concat(Yf(c),", fields: ").concat(ha,", values");return ya.concat(Object.assign({},
{name:I+"_tuple"},qa?{init:"{".concat(ha,": ").concat(Sg(qa),"}")}:{},{on:[{events:[{signal:Va.join(" || ")}],update:Va.join(" \x26\x26 ")+" ? {".concat(ha,": [").concat(Va,"]} : null")}]}))},modifyExpr:(c,r)=>r.name+"_tuple, "+("global"===r.resolve?"true":"{unit: ".concat(Yf(c),"}")),marks:(c,r,I)=>{const ha=r.name,{x:qa,y:ya}=r.project.hasChannel,Va=qa&&qa.signals.visual,hb=ya&&ya.signals.visual;var Ab="data(".concat(n(r.name+"_store"),")");if(gh.has(r))return I;const Fb={x:void 0!==qa?{signal:"".concat(Va,
"[0]")}:{value:0},y:void 0!==ya?{signal:"".concat(hb,"[0]")}:{value:0},x2:void 0!==qa?{signal:"".concat(Va,"[1]")}:{field:{group:"width"}},y2:void 0!==ya?{signal:"".concat(hb,"[1]")}:{field:{group:"height"}}};if("global"===r.resolve)for(var $b of ud(Fb))Fb[$b]=[Object.assign({},{test:"".concat(Ab,".length \x26\x26 ").concat(Ab,"[0].unit \x3d\x3d\x3d ").concat(Yf(c))},Fb[$b]),{value:0}];$b=r.mark;Ab=Object.assign({},$b);c=$b.fill;r=$b.fillOpacity;$b=$b.cursor;const Hc=(delete Ab.fill,delete Ab.fillOpacity,
delete Ab.cursor,Ab);Ab=ud(Hc).reduce((Rc,Xc)=>{Rc[Xc]=[{test:[void 0!==qa&&"".concat(Va,"[0] !\x3d\x3d ").concat(Va,"[1]"),void 0!==ya&&"".concat(hb,"[0] !\x3d\x3d ").concat(hb,"[1]")].filter(qd=>qd).join(" \x26\x26 "),value:Hc[Xc]},{value:null}];return Rc},{});return[{name:ha+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:r}},update:Fb}},...I,{name:ha+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},$b?{cursor:{value:$b}}:{},{fill:{value:"transparent"}}),
update:Object.assign({},Fb,Ab)}}]}}};qg.prototype.visit=function(c){let r,I,ha;if(c(this))return 1;r=fi(this);I=0;for(ha=r.length;I<ha;++I)if(r[I].visit(c))return 1};var je,gd,gg,pf,hm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
im=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const jm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},km={"if":1};class Ji extends If{clone(){return new Ji(null,
this.model,Ve(this.filter))}constructor(c,r,I){super(c);this.model=r;this.filter=I;dc(this,"expr",void 0);dc(this,"_dependentFields",void 0);this.expr=dh(this.model,this.filter,this);this._dependentFields=ji(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const gl={scale:c=>{var {model:r,channel:I}=c;return r.scaleName(I)},format:c=>{var {fieldOrDatumDef:r,config:I,axis:ha}=
c;const {format:qa,formatType:ya}=ha;return he(r,r.type,qa,ya,I,!0)},formatType:c=>{var {axis:r,fieldOrDatumDef:I,scaleType:ha}=c;({formatType:c}=r);return Pe(c,I,ha)},grid:c=>{var {fieldOrDatumDef:r,axis:I,scaleType:ha}=c;if(tc(r)&&vc(r.bin))return!1;var qa;return null!==(qa=I.grid)&&void 0!==qa?qa:!(ha in og)&&tc(r)&&!kc(null===r||void 0===r?void 0:r.bin)},gridScale:c=>{var {model:r,channel:I}=c;c="x"===I?"y":"x";c=r.getScaleComponent(c)?r.scaleName(c):void 0;return c},labelAlign:c=>{var {axis:r,
labelAngle:I,orient:ha,channel:qa}=c;return r.labelAlign||rh(I,ha,qa)},labelAngle:c=>{({labelAngle:c}=c);return c},labelBaseline:c=>{var {axis:r,labelAngle:I,orient:ha,channel:qa}=c;return r.labelBaseline||Xg(I,ha,qa)},labelFlush:c=>{var {axis:r,fieldOrDatumDef:I,channel:ha}=c,qa;c=null!==(qa=r.labelFlush)&&void 0!==qa?qa:"x"===ha&&D(["quantitative","temporal"],I.type)?!0:void 0;return c},labelOverlap:c=>{var {axis:r,fieldOrDatumDef:I,scaleType:ha}=c,qa;if(null!==(qa=r.labelOverlap)&&void 0!==qa)c=
qa;else{c=I.type;qa=tc(I)&&!!I.timeUnit;var ya=tc(I)?I.sort:void 0;c=qa&&!u(ya)||"nominal"!==c&&"ordinal"!==c?"log"===ha||"symlog"===ha?"greedy":!0:void 0}return c},orient:c=>{({orient:c}=c);return c},tickCount:c=>{var {channel:r,model:I,axis:ha,fieldOrDatumDef:qa,scaleType:ya}=c,Va;c=(c="x"===r?"width":"y"===r?"height":void 0)?I.getSizeSignalRef(c):void 0;if(null===(Va=ha.tickCount)||void 0===Va)a:{var {fieldOrDatumDef:hb,scaleType:Ab,size:Fb,values:$b}={fieldOrDatumDef:qa,scaleType:ya,size:c,values:ha.values};
if($b||Ab in og||"log"===Ab)Va=void 0;else{if(tc(hb)){var Hc;if(kc(hb.bin)){Va={signal:"ceil(".concat(Fb.signal,"/10)")};break a}if(hb.timeUnit&&D(["month","hours","day","quarter"],null===(Hc=Ib(hb.timeUnit))||void 0===Hc?void 0:Hc.unit)){Va=void 0;break a}}Va={signal:"ceil(".concat(Fb.signal,"/40)")}}}return Va},title:c=>{var {axis:r,model:I,channel:ha}=c;if(void 0!==r.title)return r.title;c=Mi(I,ha);if(void 0!==c)return c;c=I.typedFieldDef(ha);const qa=I.fieldDef("x"===ha?"x2":"y2");return Uf(c?
[fb(c)]:[],tc(qa)?[fb(qa)]:[])},values:c=>{var {axis:r,fieldOrDatumDef:I}=c;c=r.values;c=le(c)?Ic(I,c):zc(c)?c:void 0;return c},zindex:c=>{var {axis:r,fieldOrDatumDef:I,mark:ha}=c,qa;c=null!==(qa=r.zindex)&&void 0!==qa?qa:"rect"===ha&&xe(I)?1:0;return c}};class Qi extends If{clone(){return new Qi(null,Ve(this.transform))}constructor(c,r){super(c);this.transform=r;dc(this,"_dependentFields",void 0);this._dependentFields=ji(this.transform.calculate)}static parseAllForSortIndex(c,r){r.forEachFieldDef((I,
ha)=>{if(Md(I)&&Aa(I.sort)){const {field:ya,timeUnit:Va}=I;var qa=I.sort;qa=qa.map((hb,Ab)=>"".concat(Ae({field:ya,timeUnit:Va,equal:hb})," ? ").concat(Ab," : ")).join("")+qa.length;c=new Qi(c,{calculate:qa,as:sg(I,ha,{forAs:!0})})}});return c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(E(this.transform))}}const ok=["row","column"],
Sj=["header","footer"],Bn={column:{start:0,end:1},row:{start:1,end:0}},Cn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},
{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Qk=ud(Cn);class pm extends Bh{}const Sk={symbols:function(c,r){var {fieldOrDatumDef:I,model:ha,channel:qa,legendCmpt:ya,legendType:Va}=r,hb,Ab,Fb,$b;if("symbol"===Va){var {markDef:Hc,encoding:Rc,config:Xc,mark:qd}=ha,vd=Hc.filled&&"trail"!==qd;r=Object.assign({},oe({},ha,qn),Zi(ha,{filled:vd}));var ee=null!==(hb=ya.get("symbolOpacity"))&&void 0!==hb?hb:Xc.legend.symbolOpacity;hb=null!==
(Ab=ya.get("symbolFillColor"))&&void 0!==Ab?Ab:Xc.legend.symbolFillColor;Ab=null!==(Fb=ya.get("symbolStrokeColor"))&&void 0!==Fb?Fb:Xc.legend.symbolStrokeColor;Fb=void 0===ee?null!==($b=Ni(Rc.opacity))&&void 0!==$b?$b:Hc.opacity:void 0;if(r.fill)if("fill"===qa||vd&&"color"===qa)delete r.fill;else if(r.fill.field)if(hb)delete r.fill;else{var Re;r.fill=Hd(null!==(Re=Xc.legend.symbolBaseFillColor)&&void 0!==Re?Re:"black");r.fillOpacity=Hd(null!==Fb&&void 0!==Fb?Fb:1)}else if(le(r.fill)){var Vd,Ne,Bd;
if($b=null!==(Vd=null!==(Ne=Dg(null!==(Bd=Rc.fill)&&void 0!==Bd?Bd:Rc.color))&&void 0!==Ne?Ne:Hc.fill)&&void 0!==Vd?Vd:vd&&Hc.color)r.fill=Hd($b)}r.stroke&&("stroke"===qa||!vd&&"color"===qa?delete r.stroke:r.stroke.field||Ab?delete r.stroke:le(r.stroke)&&(Vd=za(Dg(Rc.stroke||Rc.color),Hc.stroke,vd?Hc.color:void 0))&&(r.stroke={value:Vd}));"opacity"!==qa&&((Vd=tc(I)&&Ph(ha,ya,I))?r.opacity=[Object.assign({},{test:Vd},Hd(null!==Fb&&void 0!==Fb?Fb:1)),Hd(Xc.legend.unselectedOpacity)]:Fb&&(r.opacity=
Hd(Fb)));r=Object.assign({},r,c);return O(r)?void 0:r}},gradient:function(c,r){var {model:I,legendType:ha,legendCmpt:qa}=r,ya;if("gradient"===ha){var {config:Va,markDef:hb,encoding:Ab}=I;r={};var Fb=void 0===(null!==(ya=qa.get("gradientOpacity"))&&void 0!==ya?ya:Va.legend.gradientOpacity)?Ni(Ab.opacity)||hb.opacity:void 0;Fb&&(r.opacity=Hd(Fb));r=Object.assign({},r,c);return O(r)?void 0:r}},labels:function(c,r){var {fieldOrDatumDef:I,model:ha,channel:qa,legendCmpt:ya}=r;r=ha.legend(qa)||{};const Va=
ha.config;var hb=tc(I)?Ph(ha,ya,I):void 0;hb=hb?[{test:hb,value:1},{value:Va.legend.unselectedOpacity}]:void 0;const {format:Ab,formatType:Fb}=r;r=xc(Fb)?Je({fieldOrDatumDef:I,field:"datum.value",format:Ab,formatType:Fb,config:Va}):void 0;c=Object.assign({},hb?{opacity:hb}:{},r?{text:r}:{},c);return O(c)?void 0:c},entries:function(c,r){({legendCmpt:r}=r);r=r.get("selections");return(null===r||void 0===r?0:r.length)?Object.assign({},c,{fill:{value:"transparent"}}):c}},Rk={direction:c=>{({direction:c}=
c);return c},format:c=>{var {fieldOrDatumDef:r,legend:I,config:ha}=c;const {format:qa,formatType:ya}=I;return he(r,r.type,qa,ya,ha,!1)},formatType:c=>{var {legend:r,fieldOrDatumDef:I,scaleType:ha}=c;({formatType:c}=r);return Pe(c,I,ha)},gradientLength:c=>{var r,I;const {legend:ha,legendConfig:qa}=c;if(null!==(r=null!==(I=ha.gradientLength)&&void 0!==I?I:qa.gradientLength)&&void 0!==r)c=r;else{{var {legendConfig:ya,model:Va,direction:hb,orient:Ab,scaleType:Fb}=c;const {gradientHorizontalMaxLength:$b,
gradientHorizontalMinLength:Hc,gradientVerticalMaxLength:Rc,gradientVerticalMinLength:Xc}=ya;c=Fb in Fg?"horizontal"===hb?"top"===Ab||"bottom"===Ab?vh(Va,"width",Hc,$b):Hc:vh(Va,"height",Xc,Rc):void 0}}return c},labelOverlap:c=>{var {legend:r,legendConfig:I,scaleType:ha}=c,qa,ya;c=null!==(qa=null!==(ya=r.labelOverlap)&&void 0!==ya?ya:I.labelOverlap)&&void 0!==qa?qa:D(["quantile","threshold","log","symlog"],ha)?"greedy":void 0;return c},symbolType:c=>{var {legend:r,markDef:I,channel:ha,encoding:qa}=
c,ya;if(null!==(ya=r.symbolType)&&void 0!==ya)var Va=ya;else a:{c=I.type;ya=I.shape;if("shape"!==ha&&(ya=null!==(Va=Dg(qa.shape))&&void 0!==Va?Va:ya)){Va=ya;break a}switch(c){case "bar":case "rect":case "image":case "square":Va="square";break a;case "line":case "trail":case "rule":Va="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":Va="circle";break a}Va=void 0}return Va},title:c=>{var {fieldOrDatumDef:r,config:I}=c;return Ee(r,I,{allowDisabling:!0})},
type:c=>{var {legendType:r,scaleType:I,channel:ha}=c;if(Ma(ha)&&I in Fg){if("gradient"===r)return}else if("symbol"===r)return;return r},values:c=>{var {fieldOrDatumDef:r,legend:I}=c;c=I.values;c=le(c)?Ic(r,c):zc(c)?c:void 0;return c}},qm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Tk extends Bh{constructor(c,r,I,ha){super(Object.assign({},r),{name:c});this.specifiedProjection=r;this.size=
I;this.data=ha;dc(this,"merged",!1)}get isFit(){return!!this.data}}class Zg extends If{clone(){return new Zg(null,Ve(this.bins))}constructor(c,r){super(c);this.bins=r}static makeFromEncoding(c,r){const I=r.reduceFieldDef((ha,qa,ya)=>{if(sd(qa)&&kc(qa.bin)){const {key:Va,binComponent:hb}=eg(qa,qa.bin,r);ha[Va]=Object.assign({},hb,ha[Va],sj(r,qa,ya,r.config))}return ha},{});return O(I)?null:new Zg(c,I)}static makeFromTransform(c,r,I){const {key:ha,binComponent:qa}=eg(r,r.bin,I);return new Zg(c,{[ha]:qa})}merge(c,
r){for(const I of ud(c.bins))I in this.bins?(r(c.bins[I].signal,this.bins[I].signal),this.bins[I].as=ia([...this.bins[I].as,...c.bins[I].as],E)):this.bins[I]=c.bins[I];for(const I of c.children)c.removeChild(I),I.parent=this;c.remove()}producedFields(){return new Set(Tg(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Tg(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(E(this.bins))}assemble(){return Tg(this.bins).flatMap(c=>{const r=[],[I,...ha]=c.as;var qa=c.bin,ya=Object.assign({},
qa);qa=qa.extent;ya=(delete ya.extent,ya);ya=Object.assign({},{type:"bin",field:gb(c.field),as:I,signal:c.signal},jb(qa)?{extent:null}:{extent:qa},c.span?{span:{signal:"span(".concat(c.span,")")}}:{},ya);!qa&&c.extentSignal&&(r.push({type:"extent",field:gb(c.field),signal:c.extentSignal}),ya.extent={signal:c.extentSignal});r.push(ya);for(const Va of ha)for(qa=0;2>qa;qa++)r.push({type:"formula",expr:Wc({field:I[qa]},{expr:"datum"}),as:Va[qa]});c.formula&&r.push({type:"formula",expr:c.formula,as:c.formulaAs});
return r})}}class Og extends If{clone(){return new Og(null,new Set(this.dimensions),Ve(this.measures))}constructor(c,r,I){super(c);this.dimensions=r;this.measures=I}get groupBy(){return this.dimensions}static makeFromEncoding(c,r){let I=!1;r.forEachFieldDef(ya=>{ya.aggregate&&(I=!0)});const ha={},qa=new Set;if(!I)return null;r.forEachFieldDef((ya,Va)=>{const {aggregate:hb,field:Ab}=ya;if(hb)if("count"===hb){var Fb;ha["*"]=null!==(Fb=ha["*"])&&void 0!==Fb?Fb:{};ha["*"].count=new Set([Wc(ya,{forAs:!0})])}else{if(ea(hb)||
oa(hb)){var $b;ya=ea(hb)?"argmin":"argmax";Fb=hb[ya];ha[Fb]=null!==($b=ha[Fb])&&void 0!==$b?$b:{};ha[Fb][ya]=new Set([Wc({op:ya,field:Fb},{forAs:!0})])}else{var Hc;ha[Ab]=null!==(Hc=ha[Ab])&&void 0!==Hc?Hc:{};ha[Ab][hb]=new Set([Wc(ya,{forAs:!0})])}if(Qg[Va]&&"unaggregated"===r.scaleDomain(Va)){var Rc;ha[Ab]=null!==(Rc=ha[Ab])&&void 0!==Rc?Rc:{};ha[Ab].min=new Set([Wc({field:Ab,aggregate:"min"},{forAs:!0})]);ha[Ab].max=new Set([Wc({field:Ab,aggregate:"max"},{forAs:!0})])}}else $b=Qf(r)?r.encoding[Sa(Va)]:
void 0,sd(ya)&&Qf(r)&&Wb(Va,ya,$b,r.stack,r.markDef,r.config)?(qa.add(Wc(ya,{})),qa.add(Wc(ya,{suffix:"end"})),ya.bin&&bd(ya,Va)&&qa.add(Wc(ya,{binSuffix:"range"}))):Va in nk?(Va=Ra(Va),qa.add(r.getName(Va))):qa.add(Wc(ya))});return 0===qa.size+ud(ha).length?null:new Og(c,qa,ha)}static makeFromTransform(c,r){const I=new Set,ha={};for(const hb of r.aggregate){const {op:Ab,field:Fb,as:$b}=hb;if(Ab)if("count"===Ab){var qa;ha["*"]=null!==(qa=ha["*"])&&void 0!==qa?qa:{};ha["*"].count=new Set([$b?$b:Wc(hb,
{forAs:!0})])}else{var ya;ha[Fb]=null!==(ya=ha[Fb])&&void 0!==ya?ya:{};ha[Fb][Ab]=new Set([$b?$b:Wc(hb,{forAs:!0})])}}for(const hb of null!==(Va=r.groupby)&&void 0!==Va?Va:[]){var Va;I.add(hb)}return 0===I.size+ud(ha).length?null:new Og(c,I,ha)}merge(c){if(fa(this.dimensions,c.dimensions)){var r=this.measures;c=c.measures;for(const ha of ud(c)){const qa=c[ha];for(const ya of ud(qa))if(ha in r){var I;r[ha][ya]=new Set([...null!==(I=r[ha][ya])&&void 0!==I?I:[],...qa[ya]])}else r[ha]={[ya]:qa[ya]}}return!0}Si.debug(...["different dimensions, cannot merge"]);
return!1}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ud(this.measures)])}producedFields(){const c=new Set;for(const r of ud(this.measures))for(const I of ud(this.measures[r])){const ha=this.measures[r][I];0===ha.size?c.add("".concat(I,"_").concat(r)):ha.forEach(c.add,c)}return c}hash(){return"Aggregate ".concat(E({dimensions:this.dimensions,measures:this.measures}))}assemble(){const c=[],r=[],I=[];for(const ha of ud(this.measures))for(const qa of ud(this.measures[ha]))for(const ya of this.measures[ha][qa])I.push(ya),
c.push(qa),r.push("*"===ha?null:gb(ha));return{type:"aggregate",groupby:[...this.dimensions].map(gb),ops:c,fields:r,as:I}}}class ni extends If{constructor(c,r,I,ha){super(c);this.model=r;this.name=I;this.data=ha;dc(this,"column",void 0);dc(this,"row",void 0);dc(this,"facet",void 0);dc(this,"childModel",void 0);for(const qa of zg)if(c=r.facet[qa]){const {bin:ya,sort:Va}=c;this[qa]=Object.assign({},{name:r.getName("".concat(qa,"_domain")),fields:[Wc(c),...kc(ya)?[Wc(c,{binSuffix:"end"})]:[]]},sa(Va)?
{sortField:Va}:le(Va)?{sortIndexField:sg(c,qa)}:{})}this.childModel=r.child}hash(){let c="Facet";for(const r of zg)this[r]&&(c+=" ".concat(r.charAt(0),":").concat(E(this[r])));return c}get fields(){const c=[];for(const I of zg){var r;(null===(r=this[I])||void 0===r?0:r.fields)&&c.push(...this[I].fields)}return c}dependentFields(){const c=new Set(this.fields);for(const r of zg)this[r]&&(this[r].sortField&&c.add(this[r].sortField.field),this[r].sortIndexField&&c.add(this[r].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const c=
{};for(const ha of yg){var r=this.childModel.component.scales[ha];if(r&&!r.merged){var I=r.get("type");r=r.get("range");I in og&&rc(r)&&(I=jf(this.childModel,ha),(I=rf(I))?c[ha]=I:Gb(Bc(ha)))}}return c}assembleRowColumnHeaderData(c,r,I){const ha={row:"y",column:"x"}[c],qa=[],ya=[],Va=[];I&&I[ha]&&(r?(qa.push("distinct_".concat(I[ha])),ya.push("max")):(qa.push(I[ha]),ya.push("distinct")),Va.push("distinct_".concat(I[ha])));const {sortField:hb,sortIndexField:Ab}=this[c];if(hb){const {op:Fb="min",field:$b}=
hb;qa.push($b);ya.push(Fb);Va.push(Wc(hb,{forAs:!0}))}else Ab&&(qa.push(Ab),ya.push("max"),Va.push(Ab));return{name:this[c].name,source:null!==r&&void 0!==r?r:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[c].fields},qa.length?{fields:qa,ops:ya,as:Va}:{})]}}assembleFacetHeaderData(c){const {columns:r}=this.model.layout,{layoutHeaders:I}=this.model.component,ha=[],qa={};for(const $b of ok){for(const Hc of Sj){var ya,Va=null!==(ya=I[$b]&&I[$b][Hc])&&void 0!==ya?ya:[];for(const Rc of Va){var hb;
if(0<(null===(hb=Rc.axes)||void 0===hb?void 0:hb.length)){qa[$b]=!0;break}}}qa[$b]&&(Va='length(data("'.concat(this.facet.name,'"))'),Va="row"===$b?r?{signal:"ceil(".concat(Va," / ").concat(r,")")}:1:r?{signal:"min(".concat(Va,", ").concat(r,")")}:{signal:Va},ha.push({name:"".concat(this.facet.name,"_").concat($b),transform:[{type:"sequence",start:0,stop:Va}]}))}const {row:Ab,column:Fb}=qa;(Ab||Fb)&&ha.unshift(this.assembleRowColumnHeaderData("facet",null,c));return ha}assemble(){const c=[];var r=
null;const I=this.getChildIndependentFieldsWithStep(),{column:ha,row:qa,facet:ya}=this;if(ha&&qa&&(I.x||I.y)){var Va,hb;r="cross_".concat(this.column.name,"_").concat(this.row.name);const Ab=[].concat(null!==(Va=I.x)&&void 0!==Va?Va:[],null!==(hb=I.y)&&void 0!==hb?hb:[]);Va=Ab.map(()=>"distinct");c.push({name:r,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Ab,ops:Va}]})}for(const Ab of["column","row"])this[Ab]&&c.push(this.assembleRowColumnHeaderData(Ab,r,I));ya&&(r=this.assembleFacetHeaderData(I))&&
c.push(...r);return c}}class mg extends If{clone(){return new mg(null,Ve(this._parse))}constructor(c,r){super(c);dc(this,"_parse",void 0);this._parse=r}hash(){return"Parse ".concat(E(this._parse))}static makeExplicit(c,r,I){let ha={};r=r.data;!ye(r)&&r&&r.format&&r.format.parse&&(ha=r.format.parse);return this.makeWithAncestors(c,ha,{},I)}static makeWithAncestors(c,r,I,ha){for(var qa of ud(I)){const Va=ha.getWithExplicit(qa);void 0!==Va.value&&(Va.explicit||Va.value===I[qa]||"derived"===Va.value||
"flatten"===I[qa]?delete I[qa]:Gb(Dd(qa,I[qa],Va.value)))}for(var ya of ud(r))qa=ha.get(ya),void 0!==qa&&(qa===r[ya]?delete r[ya]:Gb(Dd(ya,r[ya],qa)));r=new Bh(r,I);ha.copyAll(r);I={};for(const Va of ud(r.combine()))ya=r.get(Va),null!==ya&&(I[Va]=ya);return 0===ud(I).length||ha.parseNothing?null:new mg(c,I)}get parse(){return this._parse}merge(c){this._parse=Object.assign({},this._parse,c.parse);c.remove()}assembleFormatParse(){const c={};for(const r of ud(this._parse)){const I=this._parse[r];1===
Ta(r)&&(c[r]=I)}return c}producedFields(){return new Set(ud(this._parse))}dependentFields(){return new Set(ud(this._parse))}assembleTransforms(c){c=void 0===c?!1:c;return ud(this._parse).filter(r=>c?1<Ta(r):!0).map(r=>{const I=Pf(r,this._parse[r]);return I?{type:"formula",expr:I,as:Na(r)}:null}).filter(r=>null!==r)}}class Vh extends If{clone(){return new Vh(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class tj extends If{clone(){return new tj(null,this.params)}constructor(c,r){super(c);this.params=r}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(E(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class uj extends If{clone(){return new uj(null,this.params)}constructor(c,r){super(c);this.params=r}dependentFields(){return new Set}producedFields(){var c;return new Set([null!==(c=this.params.as)&&
void 0!==c?c:"data"])}hash(){return"Hash ".concat(E(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class Uh extends If{constructor(c){var r;super(null);dc(this,"_data",void 0);dc(this,"_name",void 0);dc(this,"_generator",void 0);c=null!==(r=c)&&void 0!==r?r:{name:"source"};let I;ye(c)||(I=c.format?Object.assign({},K(c.format,["parse"])):{});if("values"in c)this._data={values:c.values};else if("url"in c)this._data={url:c.url},I.type||(r=/(?:\.([^.]+))?$/.exec(c.url)[1],
D(["json","csv","tsv","dsv","topojson"],r)||(r="json"),I.type=r);else if("sphere"in c)this._data={values:[{type:"Sphere"}]};else if(Ff(c)||ye(c))this._data={};this._generator=ye(c);c.name&&(this._name=c.name);I&&!O(I)&&(this._data.format=I)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Jj=new WeakMap;class pk{constructor(){Jj.set(this,{writable:!0,value:void 0});hc(this,Jj,!1)}setModified(){hc(this,Jj,!0)}get modifiedFlag(){var c=Jj.get(this);if(!c)throw new TypeError("attempted to get private field on non-instance");c=c.get?c.get.call(this):c.value;return c}}class Xh extends pk{getNodeDepths(c,
r,I){I.set(c,r);for(const ha of c.children)this.getNodeDepths(ha,r+1,I);return I}optimize(c){c=[...this.getNodeDepths(c,0,new Map).entries()].sort((r,I)=>I[1]-r[1]);for(const r of c)this.run(r[0]);return this.modifiedFlag}}class qk extends pk{optimize(c){this.run(c);for(const r of c.children)this.optimize(r);return this.modifiedFlag}}class Am extends qk{mergeNodes(c,r){const I=r.shift();for(const ha of r)c.removeChild(ha),ha.parent=I,ha.remove()}run(c){const r=c.children.map(ha=>ha.hash()),I={};for(let ha=
0;ha<r.length;ha++)void 0===I[r[ha]]?I[r[ha]]=[c.children[ha]]:I[r[ha]].push(c.children[ha]);for(const ha of ud(I))1<I[ha].length&&(this.setModified(),this.mergeNodes(c,I[ha]))}}class sm extends qk{constructor(c){super();dc(this,"requiresSelectionId",void 0);this.requiresSelectionId=c&&ei(c)}run(c){!(c instanceof Vh)||this.requiresSelectionId&&(b(c.parent)||c.parent instanceof Og||c.parent instanceof mg)||(this.setModified(),c.remove())}}class wm extends pk{optimize(c){this.run(c,new Set);return this.modifiedFlag}run(c,
r){let I=new Set;c instanceof $g&&(I=c.producedFields(),ja(I,r)&&(this.setModified(),c.removeFormulas(r),0===c.producedFields.length&&c.remove()));for(const ha of c.children)this.run(ha,new Set([...r,...I]))}}class rm extends qk{constructor(){super()}run(c){c instanceof ig&&!c.isRequired()&&(this.setModified(),c.remove())}}class um extends Xh{run(c){if(!(b(c)||1<c.numChildren()))for(const r of c.children)r instanceof mg&&(c instanceof mg?(this.setModified(),c.merge(r)):da(c.producedFields(),r.dependentFields())||
(this.setModified(),r.swapWithParent()))}}class xm extends Xh{run(c){const r=[...c.children];var I=c.children.filter(qa=>qa instanceof mg);if(1<c.numChildren()&&1<=I.length){const qa={};var ha=new Set;for(const ya of I){I=ya.parse;for(const Va of ud(I))Va in qa?qa[Va]!==I[Va]&&ha.add(Va):qa[Va]=I[Va]}for(const ya of ha)delete qa[ya];if(!O(qa)){this.setModified();ha=new mg(c,qa);for(const ya of r){if(ya instanceof mg)for(const Va of ud(qa))delete ya.parse[Va];c.removeChild(ya);ya.parent=ha;ya instanceof
mg&&0===ud(ya.parse).length&&ya.remove()}}}}}class tm extends Xh{run(c){c instanceof ig||0<c.numChildren()||c instanceof ni||c instanceof Uh||(this.setModified(),c.remove())}}class zm extends Xh{run(c){c=c.children.filter(I=>I instanceof $g);const r=c.pop();for(const I of c)this.setModified(),r.merge(I)}}class ym extends Xh{run(c){var r=c.children.filter(qa=>qa instanceof Og);const I={};for(var ha of r)r=E(ha.groupBy),r in I||(I[r]=[]),I[r].push(ha);for(const qa of ud(I))if(ha=I[qa],1<ha.length){r=
ha.pop();for(const ya of ha)r.merge(ya)&&(c.removeChild(ya),ya.parent=r,ya.remove(),this.setModified())}}}class vm extends Xh{constructor(c){super();this.model=c}run(c){var r=!(b(c)||c instanceof Ji||c instanceof mg||c instanceof Vh);const I=[],ha=[];for(const qa of c.children)qa instanceof Zg&&(r&&!da(c.producedFields(),qa.dependentFields())?I.push(qa):ha.push(qa));if(0<I.length){r=I.pop();for(const qa of I)r.merge(qa,this.model.renameSignal.bind(this.model));this.setModified();c instanceof Zg?c.merge(r,
this.model.renameSignal.bind(this.model)):r.swapWithParent()}if(1<ha.length){c=ha.pop();for(const qa of ha)c.merge(qa,this.model.renameSignal.bind(this.model));this.setModified()}}}class Bm extends Xh{run(c){var r=[...c.children];if(H(r,qa=>qa instanceof ig)&&!(1>=c.numChildren())){var I=[];for(const qa of r)if(qa instanceof ig){for(r=qa;1===r.numChildren();){const [ya]=r.children;if(ya instanceof ig)r=ya;else break}I.push(...r.children);if(ha)c.removeChild(qa),qa.parent=ha.parent,ha.parent.removeChild(ha),
ha.parent=r,this.setModified();else var ha=r}else I.push(qa);if(I.length){this.setModified();for(const qa of I)qa.parent.removeChild(qa),qa.parent=ha}}}}class oi extends If{clone(){return new oi(null,Ve(this.transform))}constructor(c,r){super(c);this.transform=r}addDimensions(c){this.transform.groupby=ia(this.transform.groupby.concat(c),r=>r)}dependentFields(){const c=new Set;this.transform.groupby&&this.transform.groupby.forEach(c.add,c);this.transform.joinaggregate.map(r=>r.field).filter(r=>void 0!==
r).forEach(c.add,c);return c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){var r;return null!==(r=c.as)&&void 0!==r?r:Wc(c)}hash(){return"JoinAggregateTransform ".concat(E(this.transform))}assemble(){const c=[],r=[],I=[];for(var ha of this.transform.joinaggregate)r.push(ha.op),I.push(this.getDefaultName(ha)),c.push(void 0===ha.field?null:ha.field);ha=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:I,ops:r,fields:c},
void 0!==ha?{groupby:ha}:{})}}class Ah extends If{clone(){return new Ah(null,Ve(this._stack))}constructor(c,r){super(c);dc(this,"_stack",void 0);this._stack=r}static makeFromTransform(c,r){const {stack:I,groupby:ha,as:qa,offset:ya="zero"}=r;var Va=[];const hb=[];if(void 0!==r.sort)for(const Ab of r.sort)Va.push(Ab.field),hb.push(za(Ab.order,"ascending"));Va={field:Va,order:hb};r=V(qa)?qa:e(qa)?[qa,qa+"_end"]:[r.stack+"_start",r.stack+"_end"];return new Ah(c,{stackField:I,groupby:ha,offset:ya,sort:Va,
facetby:[],as:r})}static makeFromEncoding(c,r){var I=r.stack,{encoding:ha}=r;if(!I)return null;const {groupbyChannel:qa,fieldChannel:ya,offset:Va,impute:hb}=I;let Ab;qa&&(Ab=Qe(ha[qa]));I=p(r);ha=r.encoding.order;ha=le(ha)||tc(ha)?bf(ha):I.reduce((Fb,$b)=>{Fb.field.push($b);Fb.order.push("y"===ya?"descending":"ascending");return Fb},{field:[],order:[]});return new Ah(c,{dimensionFieldDef:Ab,stackField:r.vgField(ya),facetby:[],stackby:I,sort:ha,offset:Va,impute:hb,as:[r.vgField(ya,{suffix:"start",
forAs:!0}),r.vgField(ya,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){const c=new Set;c.add(this._stack.stackField);this.getGroupbyFields().forEach(c.add,c);this._stack.facetby.forEach(c.add,c);this._stack.sort.field.forEach(c.add,c);return c}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(E(this._stack))}getGroupbyFields(){const {dimensionFieldDef:c,impute:r,groupby:I}=this._stack;return c?
c.bin?r?[Wc(c,{binSuffix:"mid"})]:[Wc(c,{}),Wc(c,{binSuffix:"end"})]:[Wc(c)]:null!==I&&void 0!==I?I:[]}assemble(){const c=[],{facetby:r,dimensionFieldDef:I,stackField:ha,stackby:qa,sort:ya,offset:Va,impute:hb,as:Ab}=this._stack;if(hb&&I){const {band:Fb=.5,bin:$b}=I;$b&&c.push({type:"formula",expr:"".concat(Fb,"*")+Wc(I,{expr:"datum"})+"+".concat(1-Fb,"*")+Wc(I,{expr:"datum",binSuffix:"end"}),as:Wc(I,{binSuffix:"mid",forAs:!0})});c.push({type:"impute",field:ha,groupby:[...qa,...r],key:Wc(I,{binSuffix:"mid"}),
method:"value",value:0})}c.push({type:"stack",groupby:[...this.getGroupbyFields(),...r],field:ha,sort:ya,as:Ab,offset:Va});return c}}class Pi extends If{clone(){return new Pi(null,Ve(this.transform))}constructor(c,r){super(c);this.transform=r}addDimensions(c){this.transform.groupby=ia(this.transform.groupby.concat(c),r=>r)}dependentFields(){var c,r;const I=new Set;(null!==(c=this.transform.groupby)&&void 0!==c?c:[]).forEach(I.add,I);(null!==(r=this.transform.sort)&&void 0!==r?r:[]).forEach(ha=>I.add(ha.field));
this.transform.window.map(ha=>ha.field).filter(ha=>void 0!==ha).forEach(I.add,I);return I}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){var r;return null!==(r=c.as)&&void 0!==r?r:Wc(c)}hash(){return"WindowTransform ".concat(E(this.transform))}assemble(){const c=[],r=[],I=[],ha=[];for(var qa of this.transform.window)r.push(qa.op),I.push(this.getDefaultName(qa)),ha.push(void 0===qa.param?null:qa.param),c.push(void 0===qa.field?null:qa.field);qa=this.transform.frame;
const ya=this.transform.groupby;if(qa&&null===qa[0]&&null===qa[1]&&r.every(Fb=>ba(Fb)))return Object.assign({},{type:"joinaggregate",as:I,ops:r,fields:c},void 0!==ya?{groupby:ya}:{});const Va=[],hb=[];if(void 0!==this.transform.sort)for(const Fb of this.transform.sort){var Ab;Va.push(Fb.field);hb.push(null!==(Ab=Fb.order)&&void 0!==Ab?Ab:"ascending")}Ab=this.transform.ignorePeers;return Object.assign({},{type:"window",params:ha,as:I,ops:r,fields:c,sort:{field:Va,order:hb}},void 0!==Ab?{ignorePeers:Ab}:
{},void 0!==ya?{groupby:ya}:{},void 0!==qa?{frame:qa}:{})}}class Eg{constructor(c){dc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,r){return new Eg(()=>c(r))}}class Zk extends Bh{constructor(c,r){super({},{name:c});dc(this,"merged",!1);this.setWithExplicit("type",r)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:H(this.get("domains"),c=>le(c)&&2===c.length&&0>=c[0]&&0<=c[1])}}const Em=["range","scheme"],Vk={bins:c=>{var {model:r,
fieldOrDatumDef:I}=c;return tc(I)?Fm(r,I):void 0},interpolate:c=>{var {channel:r,fieldOrDatumDef:I}=c;c=I.type;c=D(["color","fill","stroke"],r)&&"nominal"!==c?"hcl":void 0;return c},nice:c=>{var {scaleType:r,channel:I,fieldOrDatumDef:ha}=c;var qa;c=(null===(qa=Qe(ha))||void 0===qa?0:qa.bin)||D([Vf.TIME,Vf.UTC],r)?void 0:I in cg?!0:void 0;return c},padding:c=>{var {channel:r,scaleType:I,fieldOrDatumDef:ha,markDef:qa,config:ya}=c;a:{c=ya.scale;var Va=ya.bar;if(r in cg){if(I in Fg){if(void 0!==c.continuousPadding){c=
c.continuousPadding;break a}const {type:hb,orient:Ab}=qa;if("bar"===hb&&(!tc(ha)||!ha.bin&&!ha.timeUnit)&&("vertical"===Ab&&"x"===r||"horizontal"===Ab&&"y"===r)){c=Va.continuousBandSize;break a}}if(I===Vf.POINT){c=c.pointPadding;break a}}c=void 0}return c},paddingInner:c=>{var {scalePadding:r,channel:I,markDef:ha,config:qa}=c;if(void 0!==r)c=void 0;else if(I in cg){const {bandPaddingInner:ya,barBandPaddingInner:Va,rectBandPaddingInner:hb}=qa.scale;c=za(ya,"bar"===ha.type?Va:hb)}else c=void 0;return c},
paddingOuter:c=>{var {scalePadding:r,channel:I,scaleType:ha,scalePaddingInner:qa,config:ya}=c;void 0!==r?c=void 0:I in cg&&ha===Vf.BAND?({bandPaddingOuter:c}=ya.scale,c=za(c,zc(qa)?{signal:"".concat(qa.signal,"/2")}:qa/2)):c=void 0;return c},reverse:c=>{var {fieldOrDatumDef:r,scaleType:I,channel:ha,config:qa}=c;c=tc(r)?r.sort:void 0;var ya=qa.scale;c="x"===ha&&void 0!==ya.xReverse?I in xg&&"descending"===c?zc(ya.xReverse)?{signal:"!".concat(ya.xReverse.signal)}:!ya.xReverse:ya.xReverse:I in xg&&"descending"===
c?!0:void 0;return c},zero:c=>{var {channel:r,fieldOrDatumDef:I,domain:ha,markDef:qa,scaleType:ya}=c;a:if(ha&&"unaggregated"!==ha&&ya in xg){if(le(ha)&&(c=ha[ha.length-1],0>=ha[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==r||"quantitative"!==I.type||ya in Ti)if(tc(I)&&I.bin||!D([...yg,...ln],r))c=!1;else{const {orient:Va,type:hb}=qa;c=D(["bar","area","line","trail"],hb)&&("horizontal"===Va&&"y"===r||"vertical"===Va&&"x"===r)?!1:!0}else c=!0;return c}},Im=te((c,r)=>rl[c]-rl[r]);class rk{constructor(){dc(this,
"nameMap",void 0);this.nameMap={}}rename(c,r){this.nameMap[c]=r}has(c){return void 0!==this.nameMap[c]}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}class sk{constructor(c,r,I,ha,qa,ya,Va){var hb,Ab;this.type=r;this.parent=I;this.config=qa;dc(this,"name",void 0);dc(this,"size",void 0);dc(this,"title",void 0);dc(this,"description",void 0);dc(this,"data",void 0);dc(this,"transforms",void 0);dc(this,"layout",void 0);dc(this,"scaleNameMap",void 0);dc(this,"projectionNameMap",
void 0);dc(this,"signalNameMap",void 0);dc(this,"component",void 0);dc(this,"view",void 0);dc(this,"children",[]);dc(this,"correctDataNames",Fb=>{Fb.from&&Fb.from.data&&(Fb.from.data=this.lookupDataSource(Fb.from.data));Fb.from&&Fb.from.facet&&Fb.from.facet.data&&(Fb.from.facet.data=this.lookupDataSource(Fb.from.facet.data));return Fb});this.parent=I;this.config=qa;this.view=Le(Va);this.name=null!==(hb=c.name)&&void 0!==hb?hb:ha;this.title=Nd(c.title)?{text:c.title}:c.title?this.initTitle(c.title):
void 0;this.scaleNameMap=I?I.scaleNameMap:new rk;this.projectionNameMap=I?I.projectionNameMap:new rk;this.signalNameMap=I?I.signalNameMap:new rk;this.data=c.data;this.description=c.description;this.transforms=of(null!==(Ab=c.transform)&&void 0!==Ab?Ab:[]);this.layout="layer"===r||"unit"===r?{}:Rb(c,r,qa);this.component={data:{sources:I?I.component.data.sources:[],outputNodes:I?I.component.data.outputNodes:{},outputNodeRefCounts:I?I.component.data.outputNodeRefCounts:{},isFaceted:"facet"in c||I&&I.component.data.isFaceted&&
void 0===c.data},layoutSize:new Bh,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},ya?Ve(ya):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(c){const r=ud(c),I={text:rd(c.text)};for(const ha of r)I[ha]=rd(c[ha]);return I}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:c}={};Yk(this);Qf(this)?Cb(this):Ub(this);for(const r of pn)Uk(this,r);c||Xk(this)}parseProjection(){yh(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){wh(this)}assembleGroupStyle(){if("unit"===
this.type||"layer"===this.type){var c,r;return null!==(c=null===(r=this.view)||void 0===r?void 0:r.style)&&void 0!==c?c:"cell"}}assembleEncodeFromView(c){c=Object.assign({},c);c=(delete c.style,c);const r={};for(const I of ud(c)){const ha=c[I];void 0!==ha&&(r[I]=Hd(ha))}return r}assembleGroupEncodeEntry(c){let r={};this.view&&(r=this.assembleEncodeFromView(this.view));if(!c&&(this.description&&(r.description=Hd(this.description)),"unit"===this.type||"layer"===this.type)){var I;return Object.assign({},
{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(I=r)&&void 0!==I?I:{})}return O(r)?void 0:r}assembleLayout(){if(this.layout){var c=this.layout,r=Object.assign({},c);c=c.spacing;r=(delete r.spacing,r);var {component:I,config:ha}=this;{var qa=I.layoutHeaders;const hb={};for(Va of zg){var ya=qa[Va];if(null===ya||void 0===ya?0:ya.facetFieldDef){const {titleAnchor:Ab,titleOrient:Fb}=Mh(["titleAnchor","titleOrient"],ya.facetFieldDef.header,ha,Va);ya=Bg(Va,Fb);const $b=
Bn[ya][Ab];void 0!==$b&&(hb[ya]=$b)}}var Va=O(hb)?void 0:hb}return Object.assign({},{padding:c},this.assembleDefaultLayout(),r,Va?{titleBand:Va}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:c}=this.component;let r=[];for(const I of zg)c[I].title&&r.push(Rj(this,I));for(const I of ok)r=r.concat(jg(this,I));return r}assembleAxes(){return Ag(this.component.axes,this.config)}assembleLegends(){return rj(this)}assembleProjections(){var c=ci(this)||Uj(this)?Oi(this):mi(this);
return c}assembleTitle(){var c,r=null!==(c=this.title)&&void 0!==c?c:{};c=Object.assign({},r);r=r.encoding;c=(delete c.encoding,c);r=Object.assign({},od(this.config.title).nonMark,c,r?{encode:{update:r}}:{});if(r.text){if(D(["unit","layer"],this.type)){if(D(["middle",void 0],r.anchor)){var I;r.frame=null!==(I=r.frame)&&void 0!==I?I:"group"}}else{var ha;r.anchor=null!==(ha=r.anchor)&&void 0!==ha?ha:"start"}return O(r)?void 0:r}}assembleGroup(c){c=void 0===c?[]:c;const r={};c=c.concat(this.assembleSignals());
0<c.length&&(r.signals=c);if(c=this.assembleLayout())r.layout=c;r.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());c=!this.parent||Gg(this.parent)?wf(this):[];0<c.length&&(r.scales=c);c=this.assembleAxes();0<c.length&&(r.axes=c);c=this.assembleLegends();0<c.length&&(r.legends=c);return r}getName(c){return Y((this.name?this.name+"_":"")+c)}getDataName(c){return this.getName(Nf[c].toLowerCase())}requestDataName(c){c=this.getDataName(c);const r=this.component.data.outputNodeRefCounts;
r[c]=(r[c]||0)+1;return c}getSizeSignalRef(c){if(Gg(this.parent)){var r=qj(c),I=Jb(r);if((r=this.component.scales[I])&&!r.merged){var ha=r.get("type");const qa=r.get("range");if(ha in og&&rc(qa)){c=r.get("name");ha=jf(this,I);if(ha=rf(ha))return I=Wc({aggregate:"distinct",field:ha},{expr:"datum"}),{signal:th(c,r,I)};Gb(Bc(I));return null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){const r=this.component.data.outputNodes[c];return r?r.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,
r){this.signalNameMap.rename(c,r)}renameScale(c,r){this.scaleNameMap.rename(c,r)}renameProjection(c,r){this.projectionNameMap.rename(c,r)}scaleName(c,r){if(r)return this.getName(c);if(Ui[c]&&Qg[c]&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const r=this.component.scales[c];return r&&!r.merged?r:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,r){let I=this.component.selection[c];!I&&this.parent&&(I=this.parent.getSelectionComponent(c,r));if(!I)throw Error('Cannot find a selection named "'.concat(r,'".'));return I}hasAxisOrientSignalRef(){var c,r;return(null===(c=this.component.axes.x)||void 0===c?void 0:c.some(I=>I.hasOrientSignalRef()))||(null===(r=this.component.axes.y)||void 0===r?void 0:r.some(I=>I.hasOrientSignalRef()))}}
class zl extends sk{vgField(c,r){r=void 0===r?{}:r;if(c=this.fieldDef(c))return Wc(c,r)}reduceFieldDef(c,r){return Tb(this.getMapping(),(I,ha,qa)=>(ha=Qe(ha))?c(I,ha,qa):I,r)}forEachFieldDef(c,r){Hb(this.getMapping(),(I,ha)=>{(I=Qe(I))&&c(I,ha)},r)}}class Yj extends If{clone(){return new Yj(null,Ve(this.transform))}constructor(c,r){var I,ha,qa;super(c);this.transform=r;this.transform=Ve(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(ha=c[0])&&void 0!==ha?
ha:"value",null!==(qa=c[1])&&void 0!==qa?qa:"density"]}dependentFields(){var c;return new Set([this.transform.density,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(E(this.transform))}assemble(){var c=this.transform,r=Object.assign({},c);c=c.density;r=(delete r.density,r);return Object.assign({},{type:"kde",field:c},r)}}class vj extends If{clone(){return new vj(null,Object.assign({},this.filter))}constructor(c,
r){super(c);this.filter=r}static make(c,r){const {config:I,mark:ha,markDef:qa}=r;if("filter"!==Xd("invalid",qa,I))return null;const ya=r.reduceFieldDef((Va,hb,Ab)=>{(Ab=!!Qg[Ab]&&r.getScaleComponent(Ab))&&Ab.get("type")in xg&&"count"!==hb.aggregate&&!ce(ha)&&(Va[hb.field]=hb);return Va},{});return ud(ya).length?new vj(c,ya):null}dependentFields(){return new Set(ud(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(E(this.filter))}assemble(){const c=ud(this.filter).reduce((r,
I)=>{I=this.filter[I];const ha=Wc(I,{expr:"datum"});null!==I&&("temporal"===I.type?r.push("(isDate(".concat(ha,") || (isValid(").concat(ha,") \x26\x26 isFinite(+").concat(ha,")))")):"quantitative"===I.type&&(r.push("isValid(".concat(ha,")")),r.push("isFinite(+".concat(ha,")"))));return r},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null}}class Xj extends If{clone(){return new Xj(this.parent,Ve(this.transform))}constructor(c,r){super(c);this.transform=r;this.transform=Ve(r);const {flatten:I,
as:ha=[]}=this.transform;this.transform.as=I.map((qa,ya)=>{var Va;return null!==(Va=ha[ya])&&void 0!==Va?Va:qa})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(E(this.transform))}assemble(){const {flatten:c,as:r}=this.transform;return{type:"flatten",fields:c,as:r}}}class Wj extends If{clone(){return new Wj(null,Ve(this.transform))}constructor(c,r){var I,ha,qa;super(c);this.transform=r;this.transform=
Ve(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(ha=c[0])&&void 0!==ha?ha:"key",null!==(qa=c[1])&&void 0!==qa?qa:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(E(this.transform))}assemble(){const {fold:c,as:r}=this.transform;return{type:"fold",fields:c,as:r}}}class Ri extends If{clone(){return new Ri(null,Ve(this.fields),this.geojson,this.signal)}static parseAll(c,
r){if(r.component.projection&&!r.component.projection.isFit)return c;let I=0;for(var ha of[["longitude","latitude"],["longitude2","latitude2"]]){const qa=ha.map(ya=>{ya=va(r.encoding[ya]);return tc(ya)?ya.field:ed(ya)?{expr:"".concat(ya.datum)}:Zc(ya)?{expr:"".concat(ya.value)}:void 0});if(qa[0]||qa[1])c=new Ri(c,qa,null,r.getName("geojson_".concat(I++)))}r.channelHasField("shape")&&(ha=r.typedFieldDef("shape"),"geojson"===ha.type&&(c=new Ri(c,null,ha.field,r.getName("geojson_".concat(I++)))));return c}constructor(c,
r,I,ha){super(c);this.fields=r;this.geojson=I;this.signal=ha}dependentFields(){var c;const r=(null!==(c=this.fields)&&void 0!==c?c:[]).filter(e);return new Set([...this.geojson?[this.geojson]:[],...r])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(E(this.fields))}assemble(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class wj extends If{clone(){return new wj(null,
this.projection,Ve(this.fields),Ve(this.as))}constructor(c,r,I,ha){super(c);this.projection=r;this.fields=I;this.as=ha}static parseAll(c,r){if(!r.projectionName())return c;for(const I of[["longitude","latitude"],["longitude2","latitude2"]]){const ha=I.map(ya=>{ya=va(r.encoding[ya]);return tc(ya)?ya.field:ed(ya)?{expr:"".concat(ya.datum)}:Zc(ya)?{expr:"".concat(ya.value)}:void 0}),qa="longitude2"===I[0]?"2":"";if(ha[0]||ha[1])c=new wj(c,r.projectionName(),ha,[r.getName("x"+qa),r.getName("y"+qa)])}return c}dependentFields(){return new Set(this.fields.filter(e))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection,
" ").concat(E(this.fields)," ").concat(E(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class qi extends If{clone(){return new qi(null,Ve(this.transform))}constructor(c,r){super(c);this.transform=r}dependentFields(){var c;return new Set([this.transform.impute,this.transform.key,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){const {start:r=0,stop:I,step:ha}=c;
c=[r,I,...ha?[ha]:[]].join();return{signal:"sequence(".concat(c,")")}}static makeFromTransform(c,r){return new qi(c,r)}static makeFromEncoding(c,r){const I=r.encoding;var ha=I.x;const qa=I.y;if(tc(ha)&&tc(qa)){const ya=ha.impute?ha:qa.impute?qa:void 0;if(void 0===ya)return;ha=ha.impute?qa:qa.impute?ha:void 0;const {method:Va,value:hb,frame:Ab,keyvals:Fb}=ya.impute;r=mc(r.mark,I);return new qi(c,Object.assign({},{impute:ya.field,key:ha.field},Va?{method:Va}:{},void 0!==hb?{value:hb}:{},Ab?{frame:Ab}:
{},void 0!==Fb?{keyvals:Fb}:{},r.length?{groupby:r}:{}))}return null}hash(){return"Impute ".concat(E(this.transform))}assemble(){const {impute:c,key:r,keyvals:I,method:ha,groupby:qa,value:ya,frame:Va=[null,null]}=this.transform,hb=Object.assign({},{type:"impute",field:c,key:r},I?{keyvals:void 0!==(null===I||void 0===I?void 0:I.stop)?this.processSequence(I):I}:{},{method:"value"},qa?{groupby:qa}:{},{value:ha&&"value"!==ha?null:ya});if(ha&&"value"!==ha){const Ab=Object.assign({},{type:"window",as:["imputed_".concat(c,
"_value")],ops:[ha],fields:[c],frame:Va,ignorePeers:!1},qa?{groupby:qa}:{}),Fb={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c};return[hb,Ab,Fb]}return[hb]}}class Zj extends If{clone(){return new Zj(null,Ve(this.transform))}constructor(c,r){var I,ha,qa;super(c);this.transform=r;this.transform=Ve(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(ha=c[0])&&void 0!==ha?ha:r.on,null!==(qa=
c[1])&&void 0!==qa?qa:r.loess]}dependentFields(){var c;return new Set([this.transform.loess,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(E(this.transform))}assemble(){var c=this.transform,r=Object.assign({},c);const I=c.loess;c=c.on;r=(delete r.loess,delete r.on,r);return Object.assign({},{type:"loess",x:c,y:I},r)}}class xj extends If{clone(){return new xj(null,Ve(this.transform),
this.secondary)}constructor(c,r,I){super(c);this.transform=r;this.secondary=I}static make(c,r,I,ha){const qa=r.component.data.sources,{from:ya}=I;var Va=null;if("data"in ya)Va=dl(ya.data,qa),Va||(Va=new Uh(ya.data),qa.push(Va)),ha=r.getName("lookup_".concat(ha)),Va=new ig(Va,ha,Nf.Lookup,r.component.data.outputNodeRefCounts),r.component.data.outputNodes[ha]=Va;else if("selection"in ya&&(ha=ya.selection,I=Object.assign({},{as:ha},I),Va=r.getSelectionComponent(Y(ha),ha).materialized,!Va))throw Error('Cannot define and lookup the "'.concat(ha,
'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new xj(c,I,Va.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?d(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(E({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var c=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:d(this.transform.as)}:
{});else c=this.transform.as,e(c)||(Gb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),c="_lookup"),c={as:[c]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},c,this.transform.default?{default:this.transform.default}:{})}}class ak extends If{clone(){return new ak(null,Ve(this.transform))}constructor(c,r){var I,ha,qa;super(c);this.transform=
r;this.transform=Ve(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(ha=c[0])&&void 0!==ha?ha:"prob",null!==(qa=c[1])&&void 0!==qa?qa:"value"]}dependentFields(){var c;return new Set([this.transform.quantile,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(E(this.transform))}assemble(){var c=this.transform,r=Object.assign({},c);c=c.quantile;r=(delete r.quantile,
r);return Object.assign({},{type:"quantile",field:c},r)}}class bk extends If{clone(){return new bk(null,Ve(this.transform))}constructor(c,r){var I,ha,qa;super(c);this.transform=r;this.transform=Ve(r);c=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(ha=c[0])&&void 0!==ha?ha:r.on,null!==(qa=c[1])&&void 0!==qa?qa:r.regression]}dependentFields(){var c;return new Set([this.transform.regression,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(E(this.transform))}assemble(){var c=
this.transform,r=Object.assign({},c);const I=c.regression;c=c.on;r=(delete r.regression,delete r.on,r);return Object.assign({},{type:"regression",x:c,y:I},r)}}class dk extends If{clone(){return new dk(null,Ve(this.transform))}constructor(c,r){super(c);this.transform=r}addDimensions(c){var r;this.transform.groupby=ia((null!==(r=this.transform.groupby)&&void 0!==r?r:[]).concat(c),I=>I)}producedFields(){}dependentFields(){var c;return new Set([this.transform.pivot,this.transform.value,...null!==(c=this.transform.groupby)&&
void 0!==c?c:[]])}hash(){return"PivotTransform ".concat(E(this.transform))}assemble(){const {pivot:c,value:r,groupby:I,limit:ha,op:qa}=this.transform;return Object.assign({},{type:"pivot",field:c,value:r},void 0!==ha?{limit:ha}:{},void 0!==qa?{op:qa}:{},void 0!==I?{groupby:I}:{})}}class ck extends If{clone(){return new ck(null,Ve(this.transform))}constructor(c,r){super(c);this.transform=r}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(E(this.transform))}assemble(){return{type:"sample",
size:this.transform.sample}}}class Gj extends zl{constructor(c,r,I,ha){super(c,"facet",r,I,ha,c.resolve);dc(this,"facet",void 0);dc(this,"child",void 0);dc(this,"children",void 0);this.child=mk(c.spec,this,this.getName("child"),void 0,ha);this.children=[this.child];this.facet=this.initFacet(c.facet)}initFacet(c){if(!Xa(c))return{facet:this.initFacetFieldDef(c,"facet")};var r=ud(c);const I={};for(const ha of r){if(!D(["row","column"],ha)){Gb(ld(ha,"facet"));break}r=c[ha];if(void 0===r.field){Gb(Sb(r,
ha));break}I[ha]=this.initFacetFieldDef(r,ha)}return I}initFacetFieldDef(c,r){var I=Object.assign({},c);c=c.header;I=(delete I.header,I);r=Pb(I,r);c&&(r.header=Le(c));return r}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=zj(this);this.child.parseData()}parseLayoutSize(){ek(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();
for(const qa of zg){{var c=void 0,r=qa;const {facet:ya,config:Va,child:hb,component:Ab}=this;if(this.channelHasField(r)){const Fb=ya[r];var I=Cg("title",null,Va,r);I=Ee(Fb,Va,{allowDisabling:!0,includeDefault:void 0===I||!!I});hb.component.layoutHeaders[r].title&&(I=le(I)?I.join(", "):I,I+=" / "+hb.component.layoutHeaders[r].title,hb.component.layoutHeaders[r].title=null);var ha=Cg("labelOrient",Fb,Va,r);const $b=null!==(c=Fb.header)&&void 0!==c?c:{};c=za($b.labels,Va.header.labels,!0);ha=D(["bottom",
"right"],ha)?"footer":"header";Ab.layoutHeaders[r]={title:I,facetFieldDef:Fb,[ha]:"facet"===r?[]:[bl(this,r,c)]}}}}cl(this,"x");cl(this,"y")}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){const c={};for(const Va of zg)for(const hb of Sj){const Ab=this.component.layoutHeaders[Va];var r=Ab[hb],{facetFieldDef:I}=
Ab;if(I&&(I=Cg("titleOrient",I.header,this.config,Va),D(["right","bottom"],I))){var ha;I=Bg(Va,I);c.titleAnchor=null!==(ha=c.titleAnchor)&&void 0!==ha?ha:{};c.titleAnchor[I]="end"}if(null===r||void 0===r?0:r[0]){r="row"===Va?"height":"width";I="header"===hb?"headerBand":"footerBand";if("facet"!==Va&&!this.child.component.layoutSize.get(r)){var qa;c[I]=null!==(qa=c[I])&&void 0!==qa?qa:{};c[I][Va]=.5}if(Ab.title){var ya;c.offset=null!==(ya=c.offset)&&void 0!==ya?ya:{};c.offset["row"===Va?"rowTitle":
"columnTitle"]=10}}}return c}assembleDefaultLayout(){const {column:c,row:r}=this.facet,I=c?this.columnDistinctSignal():r?1:void 0;let ha="all";r||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(ha="none"):ha="none";return Object.assign({},this.getHeaderLayoutMixins(),I?{columns:I}:{},{bounds:"full",align:ha})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Gj)){const c=
this.getName("column_domain");return{signal:"length(data('".concat(c,"'))")}}}assembleGroup(c){return this.parent&&this.parent instanceof Gj?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Wc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(c)):super.assembleGroup(c)}getCardinalityAggregateForChild(){const c=[],r=[],I=[];if(this.child instanceof Gj){if(this.child.channelHasField("column")){var ha=Wc(this.child.facet.column);c.push(ha);r.push("distinct");
I.push("distinct_".concat(ha))}}else for(ha of yg){var qa=this.child.component.scales[ha];if(qa&&!qa.merged){var ya=qa.get("type");qa=qa.get("range");ya in og&&rc(qa)&&(ya=jf(this.child,ha),(ya=rf(ya))?(c.push(ya),r.push("distinct"),I.push("distinct_".concat(ya))):Gb(Bc(ha)))}}return{fields:c,ops:r,as:I}}assembleFacet(){const {name:c,data:r}=this.component.data.facetRoot,{row:I,column:ha}=this.facet,{fields:qa,ops:ya,as:Va}=this.getCardinalityAggregateForChild(),hb=[];for(var Ab of zg){var Fb=this.facet[Ab];
if(Fb){hb.push(Wc(Fb));const {bin:$b,sort:Hc}=Fb;kc($b)&&hb.push(Wc(Fb,{binSuffix:"end"}));if(sa(Hc)){const {field:Rc,op:Xc="min"}=Hc;Fb=fk(Fb,Hc);I&&ha?(qa.push(Fb),ya.push("max")):(qa.push(Rc),ya.push(Xc));Va.push(Fb)}else le(Hc)&&(Fb=sg(Fb,Ab),qa.push(Fb),ya.push("max"),Va.push(Fb))}}Ab=!!I&&!!ha;return Object.assign({},{name:c,data:r,groupby:hb},Ab||0<qa.length?{aggregate:Object.assign({},Ab?{cross:Ab}:{},qa.length?{fields:qa,ops:ya,as:Va}:{})}:{})}facetSortFields(c){var {facet:r}=this;return(r=
r[c])?sa(r.sort)?[fk(r,r.sort,{expr:"datum"})]:le(r.sort)?[sg(r,c,{expr:"datum"})]:[Wc(r,{expr:"datum"})]:[]}facetSortOrder(c){const {facet:r}=this;return(c=r[c])?({sort:c}=c,[(sa(c)?c.order:!le(c)&&c)||"ascending"]):[]}assembleLabelTitle(){const {facet:c,config:r}=this;if(c.facet)return hf(c.facet,"facet",r);const I={row:["top","bottom"],column:["left","right"]};for(const qa of ok)if(c[qa]){var ha;const ya=Cg("labelOrient",null===(ha=c[qa])||void 0===ha?void 0:ha.header,r,qa);if(D(I[qa],ya))return hf(c[qa],
qa,r)}}assembleMarks(){const {child:c}=this,r=Jm(this.component.data.facetRoot),I=c.assembleGroupEncodeEntry(!1),ha=this.assembleLabelTitle()||c.assembleTitle(),qa=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},ha?{title:ha}:{},qa?{style:qa}:{},{from:{facet:this.assembleFacet()},sort:{field:zg.map(ya=>this.facetSortFields(ya)).flat(),order:zg.map(ya=>this.facetSortOrder(ya)).flat()}},0<r.length?{data:r}:{},I?{encode:{update:I}}:{},c.assembleGroup(Di(this,[])))]}getMapping(){return this.facet}}
class en extends sk{constructor(c,r,I,ha){var qa,ya,Va,hb;super(c,"concat",r,I,ha,c.resolve);dc(this,"children",void 0);"shared"!==(null===(qa=c.resolve)||void 0===qa?void 0:null===(ya=qa.axis)||void 0===ya?void 0:ya.x)&&"shared"!==(null===(Va=c.resolve)||void 0===Va?void 0:null===(hb=Va.axis)||void 0===hb?void 0:hb.y)||Gb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(c).map((Ab,Fb)=>mk(Ab,this,this.getName("concat_"+
Fb),void 0,ha))}parseData(){this.component.data=zj(this);for(const c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const r of ud(c.component.selection))this.component.selection[r]=c.component.selection[r]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(const c of this.children)c.parseAxesAndHeaders()}getChildren(c){return"vconcat"in c?c.vconcat:"hconcat"in c?c.hconcat:c.concat}parseLayoutSize(){{ek(this);
const c=void 0===this.layout.columns?"height":"childHeight";yj(this,1===this.layout.columns?"width":"childWidth");yj(this,c)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((r,I)=>I.assembleSelectionTopLevelSignals(r),c)}assembleSignals(){this.children.forEach(c=>c.assembleSignals());return[]}assembleLayoutSignals(){const c=ki(this);for(const r of this.children)c.push(...r.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((r,
I)=>I.assembleSelectionData(r),c)}assembleMarks(){return this.children.map(c=>{const r=c.assembleTitle(),I=c.assembleGroupStyle(),ha=c.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:c.getName("group")},r?{title:r}:{},I?{style:I}:{},ha?{encode:{update:ha}}:{},c.assembleGroup())})}assembleDefaultLayout(){const c=this.layout.columns;return Object.assign({},null!=c?{columns:c}:{},{bounds:"full",align:"each"})}}const Dn=Object.assign({},{disable:1,gridScale:1,scale:1},ll,{labelExpr:1,
encode:1}),el=ud(Dn);class fl extends Bh{constructor(c,r,I){c=void 0===c?{}:c;r=void 0===r?{}:r;I=void 0===I?!1:I;super();this.explicit=c;this.implicit=r;this.mainExtracted=I}clone(){return new fl(Ve(this.explicit),Ve(this.implicit),this.mainExtracted)}hasAxisPart(c){if("axis"===c)return!0;if("grid"===c||"title"===c)return!!this.get(c);c=this.get(c);return!(!1===c||null===c)}hasOrientSignalRef(){return zc(this.explicit.orient)}}const En={bottom:"top",top:"bottom",left:"right",right:"left"},Tm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
Fj={arc:{vgMark:"arc",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Ig(c,"radius","arc"),Ig(c,"theta","arc"))},area:{vgMark:"area",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Gh("x",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===c.markDef.orient}),
Gh("y",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===c.markDef.orient}),xi(c))},bar:{vgMark:"rect",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(c,"x","bar"),Ig(c,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:c=>jk(c,"circle")},geoshape:{vgMark:"shape",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:c=>{var {encoding:r}=c;r=r.shape;return[Object.assign({},{type:"geoshape",projection:c.projectionName()},r&&tc(r)&&"geojson"===r.type?{field:Wc(r,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(c,"x","image"),Ig(c,"y","image"),Dh(c,"url"))},line:{vgMark:"line",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Tf("size",c,{vgChannel:"strokeWidth"}),xi(c))},point:{vgMark:"symbol",encodeEntry:c=>jk(c)},rect:{vgMark:"rect",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(c,"x","rect"),Ig(c,"y","rect"))},rule:{vgMark:"rule",encodeEntry:c=>{var {markDef:r}=c;r=r.orient;return c.encoding.x||c.encoding.y||c.encoding.latitude||
c.encoding.longitude?Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Gh("x",c,{defaultPos:"horizontal"===r?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==r}),Gh("y",c,{defaultPos:"vertical"===r?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==r}),Tf("size",c,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:c=>jk(c,"square")},text:{vgMark:"text",encodeEntry:c=>{const {config:r,encoding:I}=
c;return Object.assign({},pg(c,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Dh(c),Tf("size",c,{vgChannel:"fontSize"}),Tf("angle",c),Hf("align",Xm(c.markDef,I,r)),Hf("baseline",Ym(c.markDef,I,r)),Xf("radius",c,{defaultPos:null,isMidPoint:!0}),Xf("theta",c,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:c=>{const {config:r,markDef:I}=c;var ha=I.orient;const qa="horizontal"===
ha?"width":"height";ha="horizontal"===ha?"height":"width";return Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Xf("x",c,{defaultPos:"mid",vgChannel:"xc"}),Xf("y",c,{defaultPos:"mid",vgChannel:"yc"}),Tf("size",c,{defaultValue:Zm(c),vgChannel:qa}),{[ha]:Hd(Xd("thickness",I,r))})}},trail:{vgMark:"trail",encodeEntry:c=>Object.assign({},pg(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
Xf("x",c,{defaultPos:"mid"}),Xf("y",c,{defaultPos:"mid"}),Tf("size",c),xi(c))}};class kl extends zl{constructor(c,r,I,ha,qa){ha=void 0===ha?{}:ha;super(c,"unit",r,I,qa,void 0,Eb(c)?c.view:void 0);dc(this,"markDef",void 0);dc(this,"encoding",void 0);dc(this,"specifiedScales",{});dc(this,"stack",void 0);dc(this,"specifiedAxes",{});dc(this,"specifiedLegends",{});dc(this,"specifiedProjection",{});dc(this,"selection",{});dc(this,"children",[]);var ya=yd(c.mark)?Object.assign({},c.mark):{type:c.mark};r=
ya.type;if(void 0===ya.filled){({graticule:I}={graticule:c.data&&"graticule"in c.data});if(I)I=!1;else{I=Se("filled",ya,qa);var Va=ya.type;I=za(I,Va!==Aj&&Va!==Ej&&Va!==Cj)}ya.filled=I}I=this.encoding=zb(c.encoding||{},r,ya.filled,qa);ya=Le(ya);Va=Xd("orient",ya,qa);ya.orient=Um(ya.type,I,Va);void 0!==Va&&Va!==ya.orient&&(Va='Specified orient "'.concat(ya.orient,'" overridden with "').concat(Va,'".'),Gb(Va));if("bar"===ya.type&&ya.orient&&(Va=Xd("cornerRadiusEnd",ya,qa),void 0!==Va)){const $b="horizontal"===
ya.orient&&I.x2||"vertical"===ya.orient&&I.y2?["cornerRadius"]:rn[ya.orient];for(var hb of $b)ya[hb]=Va;void 0!==ya.cornerRadiusEnd&&delete ya.cornerRadiusEnd}void 0===Xd("opacity",ya,qa)&&(hb=D([Aj,ik,gk,hk],ya.type)&&!Za(I)?.7:void 0,ya.opacity=hb);void 0===Xd("cursor",ya,qa)&&(hb=ya,qa=I.href||hb.href||Xd("href",hb,qa)?"pointer":hb.cursor,ya.cursor=qa);this.markDef=qa=ya;ha={encoding:I,size:Eb(c)?Object.assign({},ha,c.width?{width:c.width}:{},c.height?{height:c.height}:{}):ha};var {encoding:Ab,
size:Fb}=ha;for(const $b of yg)ha=lb($b),vb(Fb[ha])&&fd(Ab[$b])&&(delete Fb[ha],Gb(Ha(ha)));this.size=Fb;this.stack=Kb(r,I);this.specifiedScales=this.initScales(r,I);this.specifiedAxes=this.initAxes(I);this.specifiedLegends=this.initLegends(I);this.specifiedProjection=c.projection;this.selection=c.selection}get hasProjection(){const {encoding:c}=this,r=this.mark===$k,I=c&&gn.some(ha=>zd(c[ha]));return r||I}scaleDomain(c){return(c=this.specifiedScales[c])?c.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,
r){return fj.reduce((I,ha)=>{const qa=va(r[ha]);if(qa){var ya;I[ha]=this.initScale(null!==(ya=qa.scale)&&void 0!==ya?ya:{})}return I},{})}initScale(c){const {domain:r,range:I}=c;c=Le(c);le(r)&&(c.domain=r.map(rd));le(I)&&(c.range=I.map(rd));return c}initAxes(c){return yg.reduce((r,I)=>{var ha=c[I];if(zd(ha)||"x"===I&&zd(c.x2)||"y"===I&&zd(c.y2))ha=zd(ha)?ha.axis:void 0,r[I]=ha?this.initAxis(Object.assign({},ha)):ha;return r},{})}initAxis(c){var r=ud(c);const I={};for(const ha of r)r=c[ha],I[ha]=ca(r)?
Wd(r):rd(r);return I}initLegends(c){return mn.reduce((r,I)=>{var ha=va(c[I]),qa;if(qa=ha)a:{switch(I){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":qa=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":qa=!1;break a}qa=void 0}qa&&(ha=ha.legend,r[I]=ha?Le(ha):ha);return r},{})}parseData(){this.component.data=zj(this)}parseLayoutSize(){{const {size:r,component:I}=this;for(const ha of yg){const qa=lb(ha);if(r[qa]){var c=
r[qa];I.layoutSize.set(qa,vb(c)?"step":c,!0)}else c=Lm(this,qa),I.layoutSize.set(qa,c,!1)}}}parseSelections(){this.component.selection=Hi(this,this.selection)}parseMarkGroup(){this.component.mark=$m(this)}parseAxesAndHeaders(){this.component.axes=Om(this)}assembleSelectionTopLevelSignals(c){return hj(this,c)}assembleSignals(){return[...Lh(this),...gj(this,[])]}assembleSelectionData(c){return ij(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return ki(this)}assembleMarks(){var c;let r=
null!==(c=this.component.mark)&&void 0!==c?c:[];this.parent&&ci(this.parent)||(r=jj(this,r));return r.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return La(this.encoding,c)}fieldDef(c){return Qe(this.encoding[c])}typedFieldDef(c){c=this.fieldDef(c);return sd(c)?c:null}}class jl extends sk{constructor(c,r,I,ha,qa){super(c,"layer",r,I,qa,c.resolve,c.view);dc(this,"children",void 0);const ya=Object.assign({},ha,c.width?{width:c.width}:
{},c.height?{height:c.height}:{});this.children=c.layer.map((Va,hb)=>{if("layer"in Va)return new jl(Va,this,this.getName("layer_"+hb),ya,qa);if(Ia(Va))return new kl(Va,this,this.getName("layer_"+hb),ya,qa);throw Error(Ac(Va));})}parseData(){this.component.data=zj(this);for(const c of this.children)c.parseData()}parseLayoutSize(){ek(this);yj(this,"width");yj(this,"height")}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const r of ud(c.component.selection))this.component.selection[r]=
c.component.selection[r]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:I,resolve:ha}=this.component,qa={top:0,bottom:0,right:0,left:0};for(var c of this.children){c.parseAxesAndHeaders();for(const ya of ud(c.component.axes))ha.axis[ya]=li(this.component.resolve,ya),"shared"===ha.axis[ya]&&(I[ya]=Qm(I[ya],c.component.axes[ya]),I[ya]||(ha.axis[ya]="independent",delete I[ya]))}for(const ya of yg){for(const Va of this.children)if(Va.component.axes[ya]){if("independent"===
ha.axis[ya]){var r;I[ya]=(null!==(r=I[ya])&&void 0!==r?r:[]).concat(Va.component.axes[ya]);for(const hb of Va.component.axes[ya]){const {value:Ab,explicit:Fb}=hb.getWithExplicit("orient");zc(Ab)||(0<qa[Ab]&&!Fb&&(c=En[Ab],qa[Ab]>qa[c]&&hb.set("orient",c,!1)),qa[Ab]++)}}delete Va.component.axes[ya]}if("independent"===ha.axis[ya]&&I[ya]&&1<I[ya].length)for(const Va of I[ya])Va.get("grid")&&!Va.explicit.grid&&(Va.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(c){return this.children.reduce((r,
I)=>I.assembleSelectionTopLevelSignals(r),c)}assembleSignals(){return this.children.reduce((c,r)=>c.concat(r.assembleSignals()),Lh(this))}assembleLayoutSignals(){return this.children.reduce((c,r)=>c.concat(r.assembleLayoutSignals()),ki(this))}assembleSelectionData(c){return this.children.reduce((r,I)=>I.assembleSelectionData(r),c)}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(const r of this.children)if(c=r.assembleTitle())return c}assembleLayout(){return null}assembleMarks(){return hh(this,
this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,r)=>c.concat(r.assembleLegends()),rj(this))}}l.accessPathDepth=Ta;l.accessPathWithDatum=xa;l.compile=function(c,r){r=void 0===r?{}:r;r.logger&&(Si=r.logger);r.fieldTitle&&(ti=r.fieldTitle);try{const $b=Ga(t(r.config,c.config)),Hc=ae(c,$b),Rc=mk(Hc,null,"",void 0,$b);Rc.parse();{var I=Rc.component.data,ha=Rc;Qa(I.sources);let Xc=0,qd=0;for(var qa=0;5>qa&&rb(I,ha,!0);qa++)Xc++;I.sources.map(aa);for(qa=0;5>
qa&&rb(I,ha,!1);qa++)qd++;Qa(I.sources);5===Math.max(Xc,qd)&&Gb("Maximum optimization runs(".concat(5,") reached."))}{var ya=Hc.autosize;I=$b;ha=Rc;const Xc=ha.component.layoutSize.get("width"),qd=ha.component.layoutSize.get("height");void 0===ya?(ya={type:"pad"},ha.hasAxisOrientSignalRef()&&(ya.resize=!0)):e(ya)&&(ya={type:ya});var Va;if(Va=Xc&&qd){var hb=ya.type;Va="fit"===hb||"fit-x"===hb||"fit-y"===hb}if(Va)if("step"===Xc&&"step"===qd)Gb(Sc()),ya.type="pad";else if("step"===Xc||"step"===qd){hb=
"step"===Xc?"width":"height";Gb(Sc(Jb(hb)));Va=ya;var Ab=(hb="width"===hb?"height":"width","fit-".concat(Jb(hb)));Va.type=Ab}var Fb=Object.assign({},1===ud(ya).length&&ya.type?"pad"===ya.type?{}:{autosize:ya.type}:{autosize:ya},kb(I,!1),kb(c,!0))}return{spec:fn(Rc,Fb,c.datasets,c.usermeta),normalized:Hc}}finally{r.logger&&(Si=ql),r.fieldTitle&&(ti=vl)}};l.contains=D;l.deepEqual=Zh;l.deleteNestedProperty=Z;l.duplicate=Ve;l.entries=si;l.every=S;l.fieldIntersection=da;l.flatAccessWithDatum=Da;l.getFirstDefined=
za;l.hasIntersection=ja;l.hash=E;l.internalField=T;l.isBoolean=B;l.isEmpty=O;l.isEqual=function(c,r){const I=ud(c),ha=ud(r);if(I.length!==ha.length)return!1;for(const qa of I)if(c[qa]!==r[qa])return!1;return!0};l.isInternalField=W;l.isNullOrFalse=x;l.isNumeric=P;l.keys=ud;l.logicalExpr=ka;l.mergeDeep=U;l.normalize=ae;l.normalizeAngle=M;l.omit=K;l.pick=N;l.prefixGenerator=la;l.removePathFromField=Na;l.replaceAll=ra;l.replacePathInField=gb;l.resetIdCounter=function(){tk=42};l.setEqual=fa;l.some=H;l.stringify=
Of;l.titleCase=wa;l.unique=ia;l.uniqueId=pa;l.vals=Tg;l.varName=Y;l.version="4.17.0";Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[67]=function(Ea,z,ob,J){function m(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function w(n){if(k===setTimeout)return setTimeout(n,0);if((k===m||!k)&&setTimeout)return k=setTimeout,setTimeout(n,0);try{return k(n,0)}catch(y){try{return k.call(null,n,0)}catch(A){return k.call(this,n,0)}}}function G(n){if(f===clearTimeout)return clearTimeout(n);if((f===l||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(n);try{return f(n)}catch(y){try{return f.call(null,
n)}catch(A){return f.call(this,n)}}}function L(){g&&a&&(g=!1,a.length?d=a.concat(d):e=-1,d.length&&v())}function v(){if(!g){var n=w(L);g=!0;for(var y=d.length;y;){a=d;for(d=[];++e<y;)a&&a[e].run();e=-1;y=d.length}a=null;g=!1;G(n)}}function u(n,y){this.fun=n;this.array=y}function t(){}Ea=ob.exports={};try{var k="function"===typeof setTimeout?setTimeout:m}catch(n){k=m}try{var f="function"===typeof clearTimeout?clearTimeout:l}catch(n){f=l}var d=[],g=!1,a,e=-1;Ea.nextTick=function(n){var y=Array(arguments.length-
1);if(1<arguments.length)for(var A=1;A<arguments.length;A++)y[A-1]=arguments[A];d.push(new u(n,y));1!==d.length||g||w(v)};u.prototype.run=function(){this.fun.apply(null,this.array)};Ea.title="browser";Ea.browser=!0;Ea.env={};Ea.argv=[];Ea.version="";Ea.versions={};Ea.on=t;Ea.addListener=t;Ea.once=t;Ea.off=t;Ea.removeListener=t;Ea.removeAllListeners=t;Ea.emit=t;Ea.prependListener=t;Ea.prependOnceListener=t;Ea.listeners=function(n){return[]};Ea.binding=function(n){throw Error("process.binding is not supported");
};Ea.cwd=function(){return"/"};Ea.chdir=function(n){throw Error("process.chdir is not supported");};Ea.umask=function(){return 0}};
shadow$provide[68]=function(Ea,z,ob,J){var m=z(67);(function(l,w){"object"===typeof J&&"undefined"!==typeof ob?ob.exports=w(z(65),z(66)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=w(l.vega,l.vegaLite))})(this,function(l,w){function G(sa){if(sa&&sa.__esModule)return sa;var Aa=Object.create(null);sa&&Object.keys(sa).forEach(function(Xa){if("default"!==Xa){var fb=Object.getOwnPropertyDescriptor(sa,Xa);Object.defineProperty(Aa,
Xa,fb.get?fb:{enumerable:!0,get:function(){return sa[Xa]}})}});Aa["default"]=sa;return Object.freeze(Aa)}function L(sa,Aa,Xa,fb){function mb(Wb){return Wb instanceof Xa?Wb:new Xa(function(jc){jc(Wb)})}return new (Xa||(Xa=Promise))(function(Wb,jc){function Ec(ed){try{Fc(fb.next(ed))}catch(fd){jc(fd)}}function tc(ed){try{Fc(fb["throw"](ed))}catch(fd){jc(fd)}}function Fc(ed){ed.done?Wb(ed.value):mb(ed.value).then(Ec,tc)}Fc((fb=fb.apply(sa,Aa||[])).next())})}function v(sa,Aa){function Xa(Fc){return function(ed){return fb([Fc,
ed])}}function fb(Fc){if(Wb)throw new TypeError("Generator is already executing.");for(;mb;)try{if(Wb=1,jc&&(Ec=Fc[0]&2?jc["return"]:Fc[0]?jc["throw"]||((Ec=jc["return"])&&Ec.call(jc),0):jc.next)&&!(Ec=Ec.call(jc,Fc[1])).done)return Ec;if(jc=0,Ec)Fc=[Fc[0]&2,Ec.value];switch(Fc[0]){case 0:case 1:Ec=Fc;break;case 4:return mb.label++,{value:Fc[1],done:!1};case 5:mb.label++;jc=Fc[1];Fc=[0];continue;case 7:Fc=mb.ops.pop();mb.trys.pop();continue;default:if(!(Ec=mb.trys,Ec=0<Ec.length&&Ec[Ec.length-1])&&
(6===Fc[0]||2===Fc[0])){mb=0;continue}if(3===Fc[0]&&(!Ec||Fc[1]>Ec[0]&&Fc[1]<Ec[3]))mb.label=Fc[1];else if(6===Fc[0]&&mb.label<Ec[1])mb.label=Ec[1],Ec=Fc;else if(Ec&&mb.label<Ec[2])mb.label=Ec[2],mb.ops.push(Fc);else{Ec[2]&&mb.ops.pop();mb.trys.pop();continue}}Fc=Aa.call(sa,mb)}catch(ed){Fc=[6,ed],jc=0}finally{Wb=Ec=0}if(Fc[0]&5)throw Fc[1];return{value:Fc[0]?Fc[1]:void 0,done:!0}}var mb={label:0,sent:function(){if(Ec[0]&1)throw Ec[1];return Ec[1]},trys:[],ops:[]},Wb,jc,Ec,tc;return tc={next:Xa(0),
"throw":Xa(1),"return":Xa(2)},"function"===typeof Symbol&&(tc[Symbol.iterator]=function(){return this}),tc}function u(sa){if(Array.isArray(sa)){var Aa=Array(sa.length);for(sa=0;sa<Aa.length;sa++)Aa[sa]=""+sa;return Aa}if(Object.keys)return Object.keys(sa);Aa=[];for(var Xa in sa)Ta.call(sa,Xa)&&Aa.push(Xa);return Aa}function t(sa){switch(typeof sa){case "object":return JSON.parse(JSON.stringify(sa));case "undefined":return null;default:return sa}}function k(sa){for(var Aa=0,Xa=sa.length,fb;Aa<Xa;)if(fb=
sa.charCodeAt(Aa),48<=fb&&57>=fb)Aa++;else return!1;return!0}function f(sa){return-1===sa.indexOf("/")&&-1===sa.indexOf("~")?sa:sa.replace(/~/g,"~0").replace(/\//g,"~1")}function d(sa){return sa.replace(/~1/g,"/").replace(/~0/g,"~")}function g(sa){if(void 0===sa)return!0;if(sa)if(Array.isArray(sa))for(var Aa=0,Xa=sa.length;Aa<Xa;Aa++){if(g(sa[Aa]))return!0}else if("object"===typeof sa){Xa=u(sa);var fb=Xa.length;for(Aa=0;Aa<fb;Aa++)if(g(sa[Xa[Aa]]))return!0}return!1}function a(sa,Aa){sa=[sa];for(var Xa in Aa){var fb=
"object"===typeof Aa[Xa]?JSON.stringify(Aa[Xa],null,2):Aa[Xa];"undefined"!==typeof fb&&sa.push(Xa+": "+fb)}return sa.join("\n")}function e(sa,Aa){if(""==Aa)return sa;Aa={op:"_get",path:Aa};n(sa,Aa);return Aa.value}function n(sa,Aa,Xa,fb,mb,Wb){void 0===Xa&&(Xa=!1);void 0===fb&&(fb=!0);void 0===mb&&(mb=!0);void 0===Wb&&(Wb=0);Xa&&("function"==typeof Xa?Xa(Aa,0,sa,Aa.path):A(Aa,0));if(""===Aa.path){mb={newDocument:sa};if("add"===Aa.op)return mb.newDocument=Aa.value,mb;if("replace"===Aa.op)return mb.newDocument=
Aa.value,mb.removed=sa,mb;if("move"===Aa.op||"copy"===Aa.op)return mb.newDocument=e(sa,Aa.from),"move"===Aa.op&&(mb.removed=sa),mb;if("test"===Aa.op){mb.test=N(sa,Aa.value);if(!1===mb.test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",Wb,Aa,sa);mb.newDocument=sa;return mb}if("remove"===Aa.op)return mb.removed=sa,mb.newDocument=null,mb;if("_get"===Aa.op)return Aa.value=sa,mb;if(Xa)throw new pa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Wb,Aa,sa);return mb}fb||(sa=t(sa));fb=(Aa.path||"").split("/");var jc=sa,Ec=1,tc=fb.length,Fc=void 0,ed;for(ed="function"==typeof Xa?Xa:A;;){var fd=fb[Ec];if(mb&&"__proto__"==fd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Xa&&void 0===Fc&&(void 0===jc[fd]?Fc=fb.slice(0,Ec).join("/"):Ec==tc-1&&(Fc=Aa.path),void 0!==
Fc&&ed(Aa,0,sa,Fc));Ec++;if(Array.isArray(jc)){if("-"===fd)fd=jc.length;else{if(Xa&&!k(fd))throw new pa("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Wb,Aa,sa);k(fd)&&(fd=~~fd)}if(Ec>=tc){if(Xa&&"add"===Aa.op&&fd>jc.length)throw new pa("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Wb,Aa,sa);mb=W[Aa.op].call(Aa,jc,fd,sa);
if(!1===mb.test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",Wb,Aa,sa);return mb}}else if(fd&&-1!=fd.indexOf("~")&&(fd=d(fd)),Ec>=tc){mb=T[Aa.op].call(Aa,jc,fd,sa);if(!1===mb.test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",Wb,Aa,sa);return mb}jc=jc[fd]}}function y(sa,Aa,Xa,fb,mb){void 0===fb&&(fb=!0);void 0===mb&&(mb=!0);if(Xa&&!Array.isArray(Aa))throw new pa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");fb||(sa=t(sa));fb=Array(Aa.length);for(var Wb=
0,jc=Aa.length;Wb<jc;Wb++)fb[Wb]=n(sa,Aa[Wb],Xa,!0,mb,Wb),sa=fb[Wb].newDocument;fb.newDocument=sa;return fb}function A(sa,Aa,Xa,fb){if("object"!==typeof sa||null===sa||Array.isArray(sa))throw new pa("Operation is not an object","OPERATION_NOT_AN_OBJECT",Aa,sa,Xa);if(T[sa.op]){if("string"!==typeof sa.path)throw new pa("Operation `path` property is not a string","OPERATION_PATH_INVALID",Aa,sa,Xa);if(0!==sa.path.indexOf("/")&&0<sa.path.length)throw new pa('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Aa,sa,Xa);if("move"!==sa.op&&"copy"!==sa.op||"string"===typeof sa.from)if("add"!==sa.op&&"replace"!==sa.op&&"test"!==sa.op||void 0!==sa.value){if(("add"===sa.op||"replace"===sa.op||"test"===sa.op)&&g(sa.value))throw new pa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Aa,sa,Xa);if(Xa)if("add"==sa.op){var mb=sa.path.split("/").length;fb=fb.split("/").length;if(mb!==fb+1&&mb!==fb)throw new pa("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Aa,sa,Xa);}else if("replace"===sa.op||"remove"===sa.op||"_get"===sa.op){if(sa.path!==fb)throw new pa("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Aa,sa,Xa);}else if(("move"===sa.op||"copy"===sa.op)&&(mb=C([{op:"_get",path:sa.from,value:void 0}],Xa))&&"OPERATION_PATH_UNRESOLVABLE"===mb.name)throw new pa("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Aa,sa,Xa);}else throw new pa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Aa,sa,Xa);else throw new pa("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Aa,sa,Xa);}else throw new pa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Aa,sa,Xa);}function C(sa,Aa,Xa){try{if(!Array.isArray(sa))throw new pa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Aa)y(t(Aa),t(sa),Xa||!0);else{Xa=Xa||A;for(var fb=0;fb<sa.length;fb++)Xa(sa[fb],
fb,Aa,void 0)}}catch(mb){if(mb instanceof pa)return mb;throw mb;}}function N(sa,Aa){if(sa===Aa)return!0;if(sa&&Aa&&"object"==typeof sa&&"object"==typeof Aa){var Xa=Array.isArray(sa),fb=Array.isArray(Aa);if(Xa&&fb){var mb=sa.length;if(mb!=Aa.length)return!1;for(Xa=mb;0!==Xa--;)if(!N(sa[Xa],Aa[Xa]))return!1;return!0}if(Xa!=fb)return!1;fb=Object.keys(sa);mb=fb.length;if(mb!==Object.keys(Aa).length)return!1;for(Xa=mb;0!==Xa--;)if(!Aa.hasOwnProperty(fb[Xa]))return!1;for(Xa=mb;0!==Xa--;)if(mb=fb[Xa],!N(sa[mb],
Aa[mb]))return!1;return!0}return sa!==sa&&Aa!==Aa}function K(sa,Aa){void 0===Aa&&(Aa=!1);var Xa=P.get(sa.object);E(Xa.value,sa.object,sa.patches,"",Aa);sa.patches.length&&y(Xa.value,sa.patches);Aa=sa.patches;0<Aa.length&&(sa.patches=[],sa.callback&&sa.callback(Aa));return Aa}function E(sa,Aa,Xa,fb,mb){if(Aa!==sa){"function"===typeof Aa.toJSON&&(Aa=Aa.toJSON());for(var Wb=u(Aa),jc=u(sa),Ec=!1,tc=jc.length-1;0<=tc;tc--){var Fc=jc[tc],ed=sa[Fc];if(!Ta.call(Aa,Fc)||void 0===Aa[Fc]&&void 0!==ed&&!1===
Array.isArray(Aa))Array.isArray(sa)===Array.isArray(Aa)?(mb&&Xa.push({op:"test",path:fb+"/"+f(Fc),value:t(ed)}),Xa.push({op:"remove",path:fb+"/"+f(Fc)}),Ec=!0):(mb&&Xa.push({op:"test",path:fb,value:sa}),Xa.push({op:"replace",path:fb,value:Aa}));else{var fd=Aa[Fc];"object"==typeof ed&&null!=ed&&"object"==typeof fd&&null!=fd?E(ed,fd,Xa,fb+"/"+f(Fc),mb):ed!==fd&&(mb&&Xa.push({op:"test",path:fb+"/"+f(Fc),value:t(ed)}),Xa.push({op:"replace",path:fb+"/"+f(Fc),value:t(fd)}))}}if(Ec||Wb.length!=jc.length)for(tc=
0;tc<Wb.length;tc++)Fc=Wb[tc],Ta.call(sa,Fc)||void 0===Aa[Fc]||Xa.push({op:"add",path:fb+"/"+f(Fc),value:t(Aa[Fc])})}}function x(sa){var Aa=this;Aa instanceof x||(Aa=new x);Aa.tail=null;Aa.head=null;Aa.length=0;if(sa&&"function"===typeof sa.forEach)sa.forEach(function(mb){Aa.push(mb)});else if(0<arguments.length)for(var Xa=0,fb=arguments.length;Xa<fb;Xa++)Aa.push(arguments[Xa]);return Aa}function D(sa,Aa,Xa,fb){if(!(this instanceof D))return new D(sa,Aa,Xa,fb);this.list=fb;this.value=sa;Aa?(Aa.next=
this,this.prev=Aa):this.prev=null;Xa?(Xa.prev=this,this.next=Xa):this.next=null}function H(sa){const [Aa,Xa]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(sa).slice(1,3);return{library:Aa,version:Xa}}function S(sa,Aa,Xa){sa.fields=Aa||[];sa.fname=Xa;return sa}function U(sa){return 1===sa.length?qe(sa[0]):Ed(sa)}function ia(sa){function Aa(){Xa.push(jc+sa.substring(Ec,tc));jc="";Ec=tc+1}const Xa=[],fb=sa.length;let mb=null,Wb=0,jc="",Ec,tc,Fc;sa+="";for(Ec=tc=0;tc<fb;++tc)if(Fc=sa[tc],"\\"===Fc)jc+=
sa.substring(Ec,tc),jc+=sa.substring(++tc,++tc),Ec=tc;else if(Fc===mb)Aa(),mb=null,Wb=-1;else if(!mb)if(Ec===Wb&&'"'===Fc)Ec=tc+1,mb=Fc;else if(Ec===Wb&&"'"===Fc)Ec=tc+1,mb=Fc;else if("."===Fc&&!Wb)tc>Ec?Aa():Ec=tc+1;else if("["===Fc)tc>Ec&&Aa(),Wb=Ec=tc+1;else if("]"===Fc){if(!Wb)throw Error("Access path missing open bracket: "+sa);0<Wb&&Aa();Wb=0;Ec=tc+1}if(Wb)throw Error("Access path missing closing bracket: "+sa);if(mb)throw Error("Access path missing closing quote: "+sa);tc>Ec&&(tc++,Aa());return Xa}
function fa(sa,Aa){var Xa={},fb;for(fb in sa)Object.prototype.hasOwnProperty.call(sa,fb)&&0>Aa.indexOf(fb)&&(Xa[fb]=sa[fb]);if(null!=sa&&"function"===typeof Object.getOwnPropertySymbols){var mb=0;for(fb=Object.getOwnPropertySymbols(sa);mb<fb.length;mb++)0>Aa.indexOf(fb[mb])&&Object.prototype.propertyIsEnumerable.call(sa,fb[mb])&&(Xa[fb[mb]]=sa[fb[mb]])}return Xa}function ja(sa,Aa,Xa){if(Ie(sa))return`[${sa.map(mb=>Aa("string"===typeof mb?mb:JSON.stringify(mb,la(Xa)))).join(", ")}]`;if(sa===Object(sa)){let mb=
"";const {title:Wb,image:jc}=sa;sa=fa(sa,["title","image"]);Wb&&(mb+=`<h2>${Aa(Wb)}</h2>`);jc&&(mb+=`<img src="${Aa(jc)}">`);var fb=Object.keys(sa);if(0<fb.length){mb+="\x3ctable\x3e";for(const Ec of fb)fb=sa[Ec],void 0!==fb&&(fb===Object(fb)&&(fb=JSON.stringify(fb,la(Xa))),mb+=`<tr><td class="key">${Aa(Ec)}:</td><td class="value">${Aa(fb)}</td></tr>`);mb+="\x3c/table\x3e"}return mb||"{}"}return Aa(sa)}function la(sa){const Aa=[];return function(Xa,fb){if("object"!==typeof fb||null===fb)return fb;
Xa=Aa.indexOf(this)+1;Aa.length=Xa;if(Aa.length>sa)return"[Object]";if(0<=Aa.indexOf(fb))return"[Circular]";Aa.push(fb);return fb}}function da(sa,Aa,Xa){function fb(tc){tc.source===Wb&&(Ec=0,sa.removeEventListener("message",fb,!1))}function mb(){0>=Ec||(Wb.postMessage(Xa,jc),setTimeout(mb,250),--Ec)}var Wb=sa.open(Aa),jc=(new URL(Aa)).origin,Ec=40;sa.addEventListener("message",fb,!1);setTimeout(mb,250)}function O(sa){for(var Aa=[],Xa=1;Xa<arguments.length;Xa++)Aa[Xa-1]=arguments[Xa];for(Xa=0;Xa<Aa.length;Xa++)for(var fb=
sa,mb=Aa[Xa],Wb=0,jc=Object.keys(mb);Wb<jc.length;Wb++){var Ec=jc[Wb];l.writeConfig(fb,Ec,mb[Ec],!0)}return sa}function B(sa,Aa,Xa,fb){Aa="\x3chtml\x3e\x3chead\x3e"+Aa+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Xa="\x3c/code\x3e\x3c/pre\x3e"+Xa+"\x3c/body\x3e\x3c/html\x3e";var mb=window.open("");mb.document.write(Aa+sa+Xa);mb.document.title=cf[fb]+" JSON Source"}function Y(sa,Aa){var Xa;return sa.$schema?(sa=H(sa.$schema),Aa&&Aa!==sa.library&&console.warn("The given visualization spec is written in "+
cf[sa.library]+", but mode argument sets "+(null!==(Xa=cf[Aa])&&void 0!==Xa?Xa:Aa)+"."),Aa=sa.library,yd.satisfies(Ze[Aa],"^"+sa.version.slice(1))||console.warn("The input spec uses "+cf[Aa]+" "+sa.version+", but the current version of "+cf[Aa]+" is v"+Ze[Aa]+"."),Aa):"mark"in sa||"encoding"in sa||"layer"in sa||"hconcat"in sa||"vconcat"in sa||"facet"in sa||"repeat"in sa?"vega-lite":"marks"in sa||"signals"in sa||"scales"in sa||"axes"in sa?"vega":null!==Aa&&void 0!==Aa?Aa:"vega"}function ka(sa,Aa,Xa){var fb,
mb,Wb;void 0===Xa&&(Xa={});return L(this,void 0,void 0,function(){var jc,Ec,tc,Fc,ed,fd,ie,zd;return v(this,function(sd){switch(sd.label){case 0:jc=(sd=Xa.loader)&&"load"in sd?Xa.loader:ge.loader(Xa.loader);if(!l.isString(Aa))return[3,2];ed=(Fc=JSON).parse;return[4,jc.load(Aa)];case 1:return tc=ed.apply(Fc,[sd.sent()]),[3,3];case 2:tc=Aa,sd.label=3;case 3:return Ec=tc,[4,Z(null!==(fb=Ec.usermeta&&Ec.usermeta.embedOptions)&&void 0!==fb?fb:{},jc)];case 4:return fd=sd.sent(),[4,Z(Xa,jc)];case 5:return ie=
sd.sent(),zd=ra(ra({},O(ie,fd)),{config:l.mergeConfig(null!==(mb=ie.config)&&void 0!==mb?mb:{},null!==(Wb=fd.config)&&void 0!==Wb?Wb:{})}),[4,xa(sa,Ec,zd,jc)];case 6:return[2,sd.sent()]}})})}function Z(sa,Aa){var Xa;return L(this,void 0,void 0,function(){var fb,mb,Wb,jc,Ec,tc,Fc,ed;return v(this,function(fd){switch(fd.label){case 0:if(!l.isString(sa.config))return[3,2];jc=(Wb=JSON).parse;return[4,Aa.load(sa.config)];case 1:return mb=jc.apply(Wb,[fd.sent()]),[3,3];case 2:mb=null!==(Xa=sa.config)&&
void 0!==Xa?Xa:{},fd.label=3;case 3:fb=mb;if(!l.isString(sa.patch))return[3,5];ed=(Fc=JSON).parse;return[4,Aa.load(sa.patch)];case 4:return tc=ed.apply(Fc,[fd.sent()]),[3,6];case 5:tc=sa.patch,fd.label=6;case 6:return Ec=tc,[2,ra(ra(ra({},sa),Ec?{patch:Ec}:{}),fb?{config:fb}:{})]}})})}function wa(sa){var Aa;sa=sa.getRootNode?sa.getRootNode():document;return sa instanceof ShadowRoot?{root:sa,rootContainer:sa}:{root:document,rootContainer:null!==(Aa=document.head)&&void 0!==Aa?Aa:document.body}}function xa(sa,
Aa,Xa,fb){var mb,Wb,jc,Ec,tc,Fc;void 0===Xa&&(Xa={});return L(this,void 0,void 0,function(){function ed(){Ic&&document.removeEventListener("click",Ic);sb.finalize()}var fd,ie,zd,sd,Zc,Md,Id,Ue,zf,Wc,xe,Me,Ee,Ef,yf,re,Qe,va,Ka,sb,Pb,Mb,Yb,ec,Tc,Ic,bd,od,Nd,Wd,rd,Ge,Hd,se,$d,oe,uf,Xd;return v(this,function(Se){switch(Se.label){case 0:fd=Xa.theme?l.mergeConfig(ef[Xa.theme],null!==(mb=Xa.config)&&void 0!==mb?mb:{}):Xa.config;ie=l.isBoolean(Xa.actions)?Xa.actions:O({},he,null!==(Wb=Xa.actions)&&void 0!==
Wb?Wb:{});zd=ra(ra({},Pe),Xa.i18n);sd=null!==(jc=Xa.renderer)&&void 0!==jc?jc:"canvas";Zc=null!==(Ec=Xa.logLevel)&&void 0!==Ec?Ec:ge.Warn;Md=null!==(tc=Xa.downloadFileName)&&void 0!==tc?tc:"visualization";Id="string"===typeof sa?document.querySelector(sa):sa;if(!Id)throw Error(sa+" does not exist");!1!==Xa.defaultStyle&&(Ue=wa(Id),zf=Ue.root,Wc=Ue.rootContainer,zf.getElementById("vega-embed-style")||(xe=document.createElement("style"),xe.id="vega-embed-style",xe.innerText=void 0===Xa.defaultStyle||
!0===Xa.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Xa.defaultStyle,Wc.appendChild(xe)));Me=Y(Aa,Xa.mode);Ee=vf[Me](Aa,fd);"vega-lite"===Me&&Ee.$schema&&(Ef=H(Ee.$schema),yd.satisfies(Ze.vega,"^"+Ef.version.slice(1))||console.warn("The compiled spec uses Vega "+Ef.version+", but current version is v"+Ze.vega+"."));Id.classList.add("vega-embed");ie&&Id.classList.add("has-actions");Id.innerHTML="";yf=Id;ie&&(re=document.createElement("div"),re.classList.add("chart-wrapper"),Id.appendChild(re),yf=re);(Qe=Xa.patch)&&(Ee=Qe instanceof Function?Qe(Ee):y(Ee,
Qe,!0,!1).newDocument);Xa.formatLocale&&ge.formatLocale(Xa.formatLocale);Xa.timeFormatLocale&&ge.timeFormatLocale(Xa.timeFormatLocale);va=Xa.ast;Ka=ge.parse(Ee,"vega-lite"===Me?{}:fd,{ast:va});sb=new ge.View(Ka,ra({loader:fb,logLevel:Zc,renderer:sd},va?{expr:ge.expressionInterpreter}:{}));!1!==Xa.tooltip&&(Pb=void 0,Pb="function"===typeof Xa.tooltip?Xa.tooltip:(new xc(!0===Xa.tooltip?{}:Xa.tooltip)).call,sb.tooltip(Pb));Mb=Xa.hover;void 0===Mb&&(Mb="vega"===Me);Mb&&(Yb="boolean"===typeof Mb?{}:Mb,
ec=Yb.hoverSet,Tc=Yb.updateSet,sb.hover(ec,Tc));Xa&&(null!=Xa.width&&sb.width(Xa.width),null!=Xa.height&&sb.height(Xa.height),null!=Xa.padding&&sb.padding(Xa.padding));return[4,sb.initialize(yf,Xa.bind).runAsync()];case 1:Se.sent();if(!1!==ie){bd=Id;!1!==Xa.defaultStyle&&(od=document.createElement("details"),od.title=zd.CLICK_TO_VIEW_ACTIONS,Id.append(od),bd=od,Nd=document.createElement("summary"),Nd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
od.append(Nd),Ic=function(He){od.contains(He.target)||od.removeAttribute("open")},document.addEventListener("click",Ic));Wd=document.createElement("div");bd.append(Wd);Wd.classList.add("vega-actions");if(!0===ie||!1!==ie["export"])for(rd=function(He){if(!0===ie||!0===ie["export"]||ie["export"][He]){var Jf=zd[He.toUpperCase()+"_ACTION"],bf=document.createElement("a");bf.text=Jf;bf.href="#";bf.target="_blank";bf.download=Md+"."+He;bf.addEventListener("mousedown",function(Uf){return L(this,void 0,void 0,
function(){var ta;return v(this,function(ua){switch(ua.label){case 0:return Uf.preventDefault(),[4,sb.toImageURL(He,Xa.scaleFactor)];case 1:return this.href=ta=ua.sent(),[2]}})})});Wd.append(bf)}},Ge=0,Hd=["svg","png"];Ge<Hd.length;Ge++)se=Hd[Ge],rd(se);if(!0===ie||!1!==ie.source)$d=document.createElement("a"),$d.text=zd.SOURCE_ACTION,$d.href="#",$d.addEventListener("click",function(He){var Jf,bf;B(Fa(Aa),null!==(Jf=Xa.sourceHeader)&&void 0!==Jf?Jf:"",null!==(bf=Xa.sourceFooter)&&void 0!==bf?bf:"",
Me);He.preventDefault()}),Wd.append($d);"vega-lite"!==Me||!0!==ie&&!1===ie.compiled||(oe=document.createElement("a"),oe.text=zd.COMPILED_ACTION,oe.href="#",oe.addEventListener("click",function(He){var Jf,bf;B(Fa(Ee),null!==(Jf=Xa.sourceHeader)&&void 0!==Jf?Jf:"",null!==(bf=Xa.sourceFooter)&&void 0!==bf?bf:"","vega");He.preventDefault()}),Wd.append(oe));if(!0===ie||!1!==ie.editor)uf=null!==(Fc=Xa.editorUrl)&&void 0!==Fc?Fc:"https://vega.github.io/editor/",Xd=document.createElement("a"),Xd.text=zd.EDITOR_ACTION,
Xd.href="#",Xd.addEventListener("click",function(He){da(window,uf,{config:fd,mode:Me,renderer:sd,spec:Fa(Aa)});He.preventDefault()}),Wd.append(Xd)}return[2,{view:sb,spec:Aa,vgSpec:Ee,finalize:ed}]}})})}function Da(sa,Aa){var Xa;void 0===Aa&&(Aa={});return L(this,void 0,void 0,function(){var fb,mb,Wb,jc;return v(this,function(Ec){switch(Ec.label){case 0:return fb=document.createElement("div"),fb.classList.add("vega-embed-wrapper"),mb=document.createElement("div"),fb.appendChild(mb),Wb=!0===Aa.actions||
!1===Aa.actions?Aa.actions:ra({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Xa=Aa.actions)&&void 0!==Xa?Xa:{}),[4,ka(mb,sa,ra({actions:Wb},null!==Aa&&void 0!==Aa?Aa:{}))];case 1:return jc=Ec.sent(),fb.value=jc.view,[2,fb]}})})}var Wa=G(l),gb=G(w),ra=function(){ra=Object.assign||function(sa){for(var Aa,Xa=1,fb=arguments.length;Xa<fb;Xa++){Aa=arguments[Xa];for(var mb in Aa)Object.prototype.hasOwnProperty.call(Aa,mb)&&(sa[mb]=Aa[mb])}return sa};return ra.apply(this,arguments)},Na=function(){var sa=
function(Aa,Xa){sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fb,mb){fb.__proto__=mb}||function(fb,mb){for(var Wb in mb)mb.hasOwnProperty(Wb)&&(fb[Wb]=mb[Wb])};return sa(Aa,Xa)};return function(Aa,Xa){function fb(){this.constructor=Aa}sa(Aa,Xa);Aa.prototype=null===Xa?Object.create(Xa):(fb.prototype=Xa.prototype,new fb)}}(),Ta=Object.prototype.hasOwnProperty,za=function(sa){function Aa(Xa,fb,mb,Wb,jc){var Ec=this.constructor,tc=sa.call(this,a(Xa,{name:fb,index:mb,operation:Wb,
tree:jc}))||this;tc.name=fb;tc.index=mb;tc.operation=Wb;tc.tree=jc;Object.setPrototypeOf(tc,Ec.prototype);tc.message=a(Xa,{name:fb,index:mb,operation:Wb,tree:jc});return tc}Na(Aa,sa);return Aa}(Error),pa=za,T={add:function(sa,Aa,Xa){sa[Aa]=this.value;return{newDocument:Xa}},remove:function(sa,Aa,Xa){var fb=sa[Aa];delete sa[Aa];return{newDocument:Xa,removed:fb}},replace:function(sa,Aa,Xa){var fb=sa[Aa];sa[Aa]=this.value;return{newDocument:Xa,removed:fb}},move:function(sa,Aa,Xa){(sa=e(Xa,this.path))&&
(sa=t(sa));Aa=n(Xa,{op:"remove",path:this.from}).removed;n(Xa,{op:"add",path:this.path,value:Aa});return{newDocument:Xa,removed:sa}},copy:function(sa,Aa,Xa){sa=e(Xa,this.from);n(Xa,{op:"add",path:this.path,value:t(sa)});return{newDocument:Xa}},test:function(sa,Aa,Xa){return{newDocument:Xa,test:N(sa[Aa],this.value)}},_get:function(sa,Aa,Xa){this.value=sa[Aa];return{newDocument:Xa}}},W={add:function(sa,Aa,Xa){k(Aa)?sa.splice(Aa,0,this.value):sa[Aa]=this.value;return{newDocument:Xa,index:Aa}},remove:function(sa,
Aa,Xa){sa=sa.splice(Aa,1);return{newDocument:Xa,removed:sa[0]}},replace:function(sa,Aa,Xa){var fb=sa[Aa];sa[Aa]=this.value;return{newDocument:Xa,removed:fb}},move:T.move,copy:T.copy,test:T.test,_get:T._get},M=Object.freeze({__proto__:null,JsonPatchError:pa,deepClone:t,getValueByPointer:e,applyOperation:n,applyPatch:y,applyReducer:function(sa,Aa,Xa){var fb=n(sa,Aa);if(!1===fb.test)throw new pa("Test operation failed","TEST_OPERATION_FAILED",Xa,Aa,sa);return fb.newDocument},validator:A,validate:C,_areEquals:N}),
P=new WeakMap,ca=function(){return function(sa){this.observers=new Map;this.obj=sa}}(),ea=function(){return function(sa,Aa){this.callback=sa;this.observer=Aa}}(),oa=Object.freeze({__proto__:null,unobserve:function(sa,Aa){Aa.unobserve()},observe:function(sa,Aa){var Xa=P.get(sa);if(Xa){var fb=Xa.observers.get(Aa);var mb=fb&&fb.observer}else Xa=new ca(sa),P.set(sa,Xa);if(mb)return mb;mb={};Xa.value=t(sa);if(Aa){mb.callback=Aa;mb.next=null;var Wb=function(){K(mb)},jc=function(){clearTimeout(mb.next);
mb.next=setTimeout(Wb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",jc),window.addEventListener("keyup",jc),window.addEventListener("mousedown",jc),window.addEventListener("keydown",jc),window.addEventListener("change",jc))}mb.patches=[];mb.object=sa;mb.unobserve=function(){K(mb);clearTimeout(mb.next);Xa.observers.delete(mb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",jc),window.removeEventListener("keyup",jc),window.removeEventListener("mousedown",
jc),window.removeEventListener("keydown",jc),window.removeEventListener("change",jc))};Xa.observers.set(Aa,new ea(Aa,mb));return mb},generate:K,compare:function(sa,Aa,Xa){void 0===Xa&&(Xa=!1);var fb=[];E(sa,Aa,fb,"",Xa);return fb}});Object.assign({},M,oa,{JsonPatchError:za,deepClone:t,escapePathComponent:f,unescapePathComponent:d});var ba=/("(?:[^\\"]|\\.)*")|[:,]/g,Fa=function(sa,Aa){Aa=Aa||{};var Xa=JSON.stringify([1],void 0,void 0===Aa.indent?2:Aa.indent).slice(2,-3);var fb=""===Xa?Infinity:void 0===
Aa.maxLength?80:Aa.maxLength;var mb=Aa.replacer;return function Fc(jc,Ec,tc){jc&&"function"===typeof jc.toJSON&&(jc=jc.toJSON());var ed=JSON.stringify(jc,mb);if(void 0===ed)return ed;tc=fb-Ec.length-tc;if(ed.length<=tc){var fd=ed.replace(ba,function(zf,Wc){return Wc||zf+" "});if(fd.length<=tc)return fd}null!=mb&&(jc=JSON.parse(ed),mb=void 0);if("object"===typeof jc&&null!==jc){var ie=Ec+Xa;var zd=[];var sd=0;if(Array.isArray(jc)){var Zc="[";fd="]";for(tc=jc.length;sd<tc;sd++)zd.push(Fc(jc[sd],ie,
sd===tc-1?0:1)||"null")}else{Zc="{";fd="}";var Md=Object.keys(jc);for(tc=Md.length;sd<tc;sd++){var Id=Md[sd];var Ue=JSON.stringify(Id)+": ";Id=Fc(jc[Id],ie,Ue.length+(sd===tc-1?0:1));void 0!==Id&&zd.push(Ue+Id)}}if(0<zd.length)return[Zc,Xa+zd.join(",\n"+ie),fd].join("\n"+Ec)}return ed}(sa,"",0)},Ra={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ma="object"===typeof m&&m.env&&m.env.NODE_DEBUG&&/\bsemver\b/i.test(m.env.NODE_DEBUG)?
(...sa)=>console.error("SEMVER",...sa):()=>{},db=function(sa){var Aa={exports:{}};return sa(Aa,Aa.exports),Aa.exports}(function(sa,Aa){const {MAX_SAFE_COMPONENT_LENGTH:Xa}=Ra;Aa=sa.exports={};const fb=Aa.re=[],mb=Aa.src=[],Wb=Aa.t={};let jc=0;sa=(Ec,tc,Fc)=>{const ed=jc++;Ma(ed,tc);Wb[Ec]=ed;mb[ed]=tc;fb[ed]=new RegExp(tc,Fc?"g":void 0)};sa("NUMERICIDENTIFIER","0|[1-9]\\d*");sa("NUMERICIDENTIFIERLOOSE","[0-9]+");sa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");sa("MAINVERSION",`(${mb[Wb.NUMERICIDENTIFIER]})\\.`+
`(${mb[Wb.NUMERICIDENTIFIER]})\\.`+`(${mb[Wb.NUMERICIDENTIFIER]})`);sa("MAINVERSIONLOOSE",`(${mb[Wb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${mb[Wb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${mb[Wb.NUMERICIDENTIFIERLOOSE]})`);sa("PRERELEASEIDENTIFIER",`(?:${mb[Wb.NUMERICIDENTIFIER]}|${mb[Wb.NONNUMERICIDENTIFIER]})`);sa("PRERELEASEIDENTIFIERLOOSE",`(?:${mb[Wb.NUMERICIDENTIFIERLOOSE]}|${mb[Wb.NONNUMERICIDENTIFIER]})`);sa("PRERELEASE",`(?:-(${mb[Wb.PRERELEASEIDENTIFIER]}(?:\\.${mb[Wb.PRERELEASEIDENTIFIER]})*))`);sa("PRERELEASELOOSE",
`(?:-?(${mb[Wb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${mb[Wb.PRERELEASEIDENTIFIERLOOSE]})*))`);sa("BUILDIDENTIFIER","[0-9A-Za-z-]+");sa("BUILD",`(?:\\+(${mb[Wb.BUILDIDENTIFIER]}(?:\\.${mb[Wb.BUILDIDENTIFIER]})*))`);sa("FULLPLAIN",`v?${mb[Wb.MAINVERSION]}${mb[Wb.PRERELEASE]}?${mb[Wb.BUILD]}?`);sa("FULL",`^${mb[Wb.FULLPLAIN]}$`);sa("LOOSEPLAIN",`[v=\\s]*${mb[Wb.MAINVERSIONLOOSE]}${mb[Wb.PRERELEASELOOSE]}?${mb[Wb.BUILD]}?`);sa("LOOSE",`^${mb[Wb.LOOSEPLAIN]}$`);sa("GTLT","((?:\x3c|\x3e)?\x3d?)");sa("XRANGEIDENTIFIERLOOSE",
`${mb[Wb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);sa("XRANGEIDENTIFIER",`${mb[Wb.NUMERICIDENTIFIER]}|x|X|\\*`);sa("XRANGEPLAIN",`[v=\\s]*(${mb[Wb.XRANGEIDENTIFIER]})`+`(?:\\.(${mb[Wb.XRANGEIDENTIFIER]})`+`(?:\\.(${mb[Wb.XRANGEIDENTIFIER]})`+`(?:${mb[Wb.PRERELEASE]})?${mb[Wb.BUILD]}?`+")?)?");sa("XRANGEPLAINLOOSE",`[v=\\s]*(${mb[Wb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${mb[Wb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${mb[Wb.XRANGEIDENTIFIERLOOSE]})`+`(?:${mb[Wb.PRERELEASELOOSE]})?${mb[Wb.BUILD]}?`+")?)?");sa("XRANGE",
`^${mb[Wb.GTLT]}\\s*${mb[Wb.XRANGEPLAIN]}$`);sa("XRANGELOOSE",`^${mb[Wb.GTLT]}\\s*${mb[Wb.XRANGEPLAINLOOSE]}$`);sa("COERCE",`${"(^|[^\\d])(\\d{1,"}${Xa}})`+`(?:\\.(\\d{1,${Xa}}))?`+`(?:\\.(\\d{1,${Xa}}))?`+"(?:$|[^\\d])");sa("COERCERTL",mb[Wb.COERCE],!0);sa("LONETILDE","(?:~\x3e?)");sa("TILDETRIM",`(\\s*)${mb[Wb.LONETILDE]}\\s+`,!0);Aa.tildeTrimReplace="$1~";sa("TILDE",`^${mb[Wb.LONETILDE]}${mb[Wb.XRANGEPLAIN]}$`);sa("TILDELOOSE",`^${mb[Wb.LONETILDE]}${mb[Wb.XRANGEPLAINLOOSE]}$`);sa("LONECARET","(?:\\^)");
sa("CARETTRIM",`(\\s*)${mb[Wb.LONECARET]}\\s+`,!0);Aa.caretTrimReplace="$1^";sa("CARET",`^${mb[Wb.LONECARET]}${mb[Wb.XRANGEPLAIN]}$`);sa("CARETLOOSE",`^${mb[Wb.LONECARET]}${mb[Wb.XRANGEPLAINLOOSE]}$`);sa("COMPARATORLOOSE",`^${mb[Wb.GTLT]}\\s*(${mb[Wb.LOOSEPLAIN]})$|^$`);sa("COMPARATOR",`^${mb[Wb.GTLT]}\\s*(${mb[Wb.FULLPLAIN]})$|^$`);sa("COMPARATORTRIM",`(\\s*)${mb[Wb.GTLT]}\\s*(${mb[Wb.LOOSEPLAIN]}|${mb[Wb.XRANGEPLAIN]})`,!0);Aa.comparatorTrimReplace="$1$2$3";sa("HYPHENRANGE",`^\\s*(${mb[Wb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${mb[Wb.XRANGEPLAIN]})`+"\\s*$");sa("HYPHENRANGELOOSE",`^\\s*(${mb[Wb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${mb[Wb.XRANGEPLAINLOOSE]})`+"\\s*$");sa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");sa("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");sa("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const ab=["includePrerelease","loose","rtl"];var Ba=sa=>sa?"object"!==typeof sa?{loose:!0}:ab.filter(Aa=>sa[Aa]).reduce((Aa,Xa)=>{Aa[Xa]=!0;return Aa},{}):{};const Sa=/^[0-9]+$/,lb=(sa,Aa)=>{const Xa=Sa.test(sa),fb=Sa.test(Aa);
Xa&&fb&&(sa=+sa,Aa=+Aa);return sa===Aa?0:Xa&&!fb?-1:fb&&!Xa?1:sa<Aa?-1:1};var ub={compareIdentifiers:lb,rcompareIdentifiers:(sa,Aa)=>lb(Aa,sa)};const {MAX_LENGTH:Jb,MAX_SAFE_INTEGER:bc}=Ra,{re:wc,t:$c}=db,{compareIdentifiers:kc}=ub;class vc{constructor(sa,Aa){Aa=Ba(Aa);if(sa instanceof vc){if(sa.loose===!!Aa.loose&&sa.includePrerelease===!!Aa.includePrerelease)return sa;sa=sa.version}else if("string"!==typeof sa)throw new TypeError(`Invalid Version: ${sa}`);if(sa.length>Jb)throw new TypeError(`version is longer than ${Jb} characters`);
Ma("SemVer",sa,Aa);this.options=Aa;this.loose=!!Aa.loose;this.includePrerelease=!!Aa.includePrerelease;Aa=sa.trim().match(Aa.loose?wc[$c.LOOSE]:wc[$c.FULL]);if(!Aa)throw new TypeError(`Invalid Version: ${sa}`);this.raw=sa;this.major=+Aa[1];this.minor=+Aa[2];this.patch=+Aa[3];if(this.major>bc||0>this.major)throw new TypeError("Invalid major version");if(this.minor>bc||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>bc||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Aa[4]?Aa[4].split(".").map(Xa=>{if(/^[0-9]+$/.test(Xa)){const fb=+Xa;if(0<=fb&&fb<bc)return fb}return Xa}):[];this.build=Aa[5]?Aa[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(sa){Ma("SemVer.compare",this.version,this.options,sa);if(!(sa instanceof vc)){if("string"===typeof sa&&sa===this.version)return 0;
sa=new vc(sa,this.options)}return sa.version===this.version?0:this.compareMain(sa)||this.comparePre(sa)}compareMain(sa){sa instanceof vc||(sa=new vc(sa,this.options));return kc(this.major,sa.major)||kc(this.minor,sa.minor)||kc(this.patch,sa.patch)}comparePre(sa){sa instanceof vc||(sa=new vc(sa,this.options));if(this.prerelease.length&&!sa.prerelease.length)return-1;if(!this.prerelease.length&&sa.prerelease.length)return 1;if(!this.prerelease.length&&!sa.prerelease.length)return 0;let Aa=0;do{const Xa=
this.prerelease[Aa],fb=sa.prerelease[Aa];Ma("prerelease compare",Aa,Xa,fb);if(void 0===Xa&&void 0===fb)return 0;if(void 0===fb)return 1;if(void 0===Xa)return-1;if(Xa!==fb)return kc(Xa,fb)}while(++Aa)}compareBuild(sa){sa instanceof vc||(sa=new vc(sa,this.options));let Aa=0;do{const Xa=this.build[Aa],fb=sa.build[Aa];Ma("prerelease compare",Aa,Xa,fb);if(void 0===Xa&&void 0===fb)return 0;if(void 0===fb)return 1;if(void 0===Xa)return-1;if(Xa!==fb)return kc(Xa,fb)}while(++Aa)}inc(sa,Aa){switch(sa){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Aa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Aa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Aa);this.inc("pre",Aa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Aa);this.inc("pre",Aa);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(sa=this.prerelease.length;0<=--sa;)"number"===typeof this.prerelease[sa]&&(this.prerelease[sa]++,sa=-2);-1===sa&&this.prerelease.push(0)}Aa&&(this.prerelease[0]===Aa?isNaN(this.prerelease[1])&&(this.prerelease=[Aa,0]):this.prerelease=[Aa,0]);break;default:throw Error(`invalid increment argument: ${sa}`);
}this.format();this.raw=this.version;return this}}var jb=vc;const {MAX_LENGTH:fc}=Ra,{re:dc,t:hc}=db;var Ac=(sa,Aa)=>{Aa=Ba(Aa);if(sa instanceof jb)return sa;if("string"!==typeof sa||sa.length>fc||!(Aa.loose?dc[hc.LOOSE]:dc[hc.FULL]).test(sa))return null;try{return new jb(sa,Aa)}catch(Xa){return null}},ac=(sa,Aa,Xa)=>(new jb(sa,Xa)).compare(new jb(Aa,Xa)),Oc=(sa,Aa,Xa)=>{sa=new jb(sa,Xa);Aa=new jb(Aa,Xa);return sa.compare(Aa)||sa.compareBuild(Aa)},Sc=(sa,Aa,Xa)=>0<ac(sa,Aa,Xa),Bc=(sa,Aa,Xa)=>0>ac(sa,
Aa,Xa),pd=(sa,Aa,Xa)=>0<=ac(sa,Aa,Xa),Rd=(sa,Aa,Xa)=>0>=ac(sa,Aa,Xa),hd=(sa,Aa,Xa,fb)=>{switch(Aa){case "\x3d\x3d\x3d":return"object"===typeof sa&&(sa=sa.version),"object"===typeof Xa&&(Xa=Xa.version),sa===Xa;case "!\x3d\x3d":return"object"===typeof sa&&(sa=sa.version),"object"===typeof Xa&&(Xa=Xa.version),sa!==Xa;case "":case "\x3d":case "\x3d\x3d":return 0===ac(sa,Xa,fb);case "!\x3d":return 0!==ac(sa,Xa,fb);case "\x3e":return 0<ac(sa,Xa,fb);case "\x3e\x3d":return 0<=ac(sa,Xa,fb);case "\x3c":return 0>
ac(sa,Xa,fb);case "\x3c\x3d":return 0>=ac(sa,Xa,fb);default:throw new TypeError(`Invalid operator: ${Aa}`);}};const {re:cd,t:Dd}=db;var cb=function(sa){sa.prototype[Symbol.iterator]=function*(){for(let Aa=this.head;Aa;Aa=Aa.next)yield Aa.value}};x.Node=D;x.create=x;x.prototype.removeNode=function(sa){if(sa.list!==this)throw Error("removing node which does not belong to this list");var Aa=sa.next,Xa=sa.prev;Aa&&(Aa.prev=Xa);Xa&&(Xa.next=Aa);sa===this.head&&(this.head=Aa);sa===this.tail&&(this.tail=
Xa);sa.list.length--;sa.next=null;sa.prev=null;sa.list=null;return Aa};x.prototype.unshiftNode=function(sa){if(sa!==this.head){sa.list&&sa.list.removeNode(sa);var Aa=this.head;sa.list=this;if(sa.next=Aa)Aa.prev=sa;this.head=sa;this.tail||(this.tail=sa);this.length++}};x.prototype.pushNode=function(sa){if(sa!==this.tail){sa.list&&sa.list.removeNode(sa);var Aa=this.tail;sa.list=this;if(sa.prev=Aa)Aa.next=sa;this.tail=sa;this.head||(this.head=sa);this.length++}};x.prototype.push=function(){for(var sa=
0,Aa=arguments.length;sa<Aa;sa++)this.tail=new D(arguments[sa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};x.prototype.unshift=function(){for(var sa=0,Aa=arguments.length;sa<Aa;sa++)this.head=new D(arguments[sa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};x.prototype.pop=function(){if(this.tail){var sa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return sa}};x.prototype.shift=
function(){if(this.head){var sa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return sa}};x.prototype.forEach=function(sa,Aa){Aa=Aa||this;for(var Xa=this.head,fb=0;null!==Xa;fb++)sa.call(Aa,Xa.value,fb,this),Xa=Xa.next};x.prototype.forEachReverse=function(sa,Aa){Aa=Aa||this;for(var Xa=this.tail,fb=this.length-1;null!==Xa;fb--)sa.call(Aa,Xa.value,fb,this),Xa=Xa.prev};x.prototype.get=function(sa){for(var Aa=0,Xa=this.head;null!==Xa&&Aa<sa;Aa++)Xa=Xa.next;
if(Aa===sa&&null!==Xa)return Xa.value};x.prototype.getReverse=function(sa){for(var Aa=0,Xa=this.tail;null!==Xa&&Aa<sa;Aa++)Xa=Xa.prev;if(Aa===sa&&null!==Xa)return Xa.value};x.prototype.map=function(sa,Aa){Aa=Aa||this;for(var Xa=new x,fb=this.head;null!==fb;)Xa.push(sa.call(Aa,fb.value,this)),fb=fb.next;return Xa};x.prototype.mapReverse=function(sa,Aa){Aa=Aa||this;for(var Xa=new x,fb=this.tail;null!==fb;)Xa.push(sa.call(Aa,fb.value,this)),fb=fb.prev;return Xa};x.prototype.reduce=function(sa,Aa){var Xa=
this.head;if(1<arguments.length)var fb=Aa;else if(this.head)Xa=this.head.next,fb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var mb=0;null!==Xa;mb++)fb=sa(fb,Xa.value,mb),Xa=Xa.next;return fb};x.prototype.reduceReverse=function(sa,Aa){var Xa=this.tail;if(1<arguments.length)var fb=Aa;else if(this.tail)Xa=this.tail.prev,fb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var mb=this.length-1;null!==Xa;mb--)fb=sa(fb,
Xa.value,mb),Xa=Xa.prev;return fb};x.prototype.toArray=function(){for(var sa=Array(this.length),Aa=0,Xa=this.head;null!==Xa;Aa++)sa[Aa]=Xa.value,Xa=Xa.next;return sa};x.prototype.toArrayReverse=function(){for(var sa=Array(this.length),Aa=0,Xa=this.tail;null!==Xa;Aa++)sa[Aa]=Xa.value,Xa=Xa.prev;return sa};x.prototype.slice=function(sa,Aa){Aa=Aa||this.length;0>Aa&&(Aa+=this.length);sa=sa||0;0>sa&&(sa+=this.length);var Xa=new x;if(Aa<sa||0>Aa)return Xa;0>sa&&(sa=0);Aa>this.length&&(Aa=this.length);for(var fb=
0,mb=this.head;null!==mb&&fb<sa;fb++)mb=mb.next;for(;null!==mb&&fb<Aa;fb++,mb=mb.next)Xa.push(mb.value);return Xa};x.prototype.sliceReverse=function(sa,Aa){Aa=Aa||this.length;0>Aa&&(Aa+=this.length);sa=sa||0;0>sa&&(sa+=this.length);var Xa=new x;if(Aa<sa||0>Aa)return Xa;0>sa&&(sa=0);Aa>this.length&&(Aa=this.length);for(var fb=this.length,mb=this.tail;null!==mb&&fb>Aa;fb--)mb=mb.prev;for(;null!==mb&&fb>sa;fb--,mb=mb.prev)Xa.push(mb.value);return Xa};x.prototype.splice=function(sa,Aa,...Xa){sa>this.length&&
(sa=this.length-1);0>sa&&(sa=this.length+sa);for(var fb=0,mb=this.head;null!==mb&&fb<sa;fb++)mb=mb.next;sa=[];for(fb=0;mb&&fb<Aa;fb++)sa.push(mb.value),mb=this.removeNode(mb);null===mb&&(mb=this.tail);mb!==this.head&&mb!==this.tail&&(mb=mb.prev);for(fb=0;fb<Xa.length;fb++)Aa=mb,mb=Xa[fb],Aa=Aa===this.head?new D(mb,null,Aa,this):new D(mb,Aa,Aa.next,this),null===Aa.next&&(this.tail=Aa),null===Aa.prev&&(this.head=Aa),this.length++,mb=Aa;return sa};x.prototype.reverse=function(){for(var sa=this.head,
Aa=this.tail,Xa=sa;null!==Xa;Xa=Xa.prev){var fb=Xa.prev;Xa.prev=Xa.next;Xa.next=fb}this.head=Aa;this.tail=sa;return this};try{cb(x)}catch(sa){}const yb=Symbol("max"),Sb=Symbol("length"),ld=Symbol("lengthCalculator"),xd=Symbol("allowStale"),Pd=Symbol("maxAge"),me=Symbol("dispose"),Ha=Symbol("noDisposeOnSet"),Ya=Symbol("lruList"),pb=Symbol("cache"),Db=Symbol("updateAgeOnGet"),Xb=()=>1;class Gb{constructor(sa){"number"===typeof sa&&(sa={max:sa});sa||(sa={});if(sa.max&&("number"!==typeof sa.max||0>sa.max))throw new TypeError("max must be a non-negative number");
this[yb]=sa.max||Infinity;const Aa=sa.length||Xb;this[ld]="function"!==typeof Aa?Xb:Aa;this[xd]=sa.stale||!1;if(sa.maxAge&&"number"!==typeof sa.maxAge)throw new TypeError("maxAge must be a number");this[Pd]=sa.maxAge||0;this[me]=sa.dispose;this[Ha]=sa.noDisposeOnSet||!1;this[Db]=sa.updateAgeOnGet||!1;this.reset()}set max(sa){if("number"!==typeof sa||0>sa)throw new TypeError("max must be a non-negative number");this[yb]=sa||Infinity;ib(this)}get max(){return this[yb]}set allowStale(sa){this[xd]=!!sa}get allowStale(){return this[xd]}set maxAge(sa){if("number"!==
typeof sa)throw new TypeError("maxAge must be a non-negative number");this[Pd]=sa;ib(this)}get maxAge(){return this[Pd]}set lengthCalculator(sa){"function"!==typeof sa&&(sa=Xb);sa!==this[ld]&&(this[ld]=sa,this[Sb]=0,this[Ya].forEach(Aa=>{Aa.length=this[ld](Aa.value,Aa.key);this[Sb]+=Aa.length}));ib(this)}get lengthCalculator(){return this[ld]}get length(){return this[Sb]}get itemCount(){return this[Ya].length}rforEach(sa,Aa){Aa=Aa||this;for(let Xa=this[Ya].tail;null!==Xa;){const fb=Xa.prev;cc(this,
sa,Xa,Aa);Xa=fb}}forEach(sa,Aa){Aa=Aa||this;for(let Xa=this[Ya].head;null!==Xa;){const fb=Xa.next;cc(this,sa,Xa,Aa);Xa=fb}}keys(){return this[Ya].toArray().map(sa=>sa.key)}values(){return this[Ya].toArray().map(sa=>sa.value)}reset(){this[me]&&this[Ya]&&this[Ya].length&&this[Ya].forEach(sa=>this[me](sa.key,sa.value));this[pb]=new Map;this[Ya]=new x;this[Sb]=0}dump(){return this[Ya].map(sa=>ic(this,sa)?!1:{k:sa.key,v:sa.value,e:sa.now+(sa.maxAge||0)}).toArray().filter(sa=>sa)}dumpLru(){return this[Ya]}set(sa,
Aa,Xa){if((Xa=Xa||this[Pd])&&"number"!==typeof Xa)throw new TypeError("maxAge must be a number");const fb=Xa?Date.now():0,mb=this[ld](Aa,sa);if(this[pb].has(sa)){if(mb>this[yb])return xb(this,this[pb].get(sa)),!1;const Wb=this[pb].get(sa).value;if(this[me]&&!this[Ha])this[me](sa,Wb.value);Wb.now=fb;Wb.maxAge=Xa;Wb.value=Aa;this[Sb]+=mb-Wb.length;Wb.length=mb;this.get(sa);ib(this);return!0}Xa=new Nb(sa,Aa,mb,fb,Xa);if(Xa.length>this[yb]){if(this[me])this[me](sa,Aa);return!1}this[Sb]+=Xa.length;this[Ya].unshift(Xa);
this[pb].set(sa,this[Ya].head);ib(this);return!0}has(sa){if(!this[pb].has(sa))return!1;sa=this[pb].get(sa).value;return!ic(this,sa)}get(sa){return pc(this,sa,!0)}peek(sa){return pc(this,sa,!1)}pop(){const sa=this[Ya].tail;if(!sa)return null;xb(this,sa);return sa.value}del(sa){xb(this,this[pb].get(sa))}load(sa){this.reset();const Aa=Date.now();for(let fb=sa.length-1;0<=fb;fb--){const mb=sa[fb];var Xa=mb.e||0;0===Xa?this.set(mb.k,mb.v):(Xa-=Aa,0<Xa&&this.set(mb.k,mb.v,Xa))}}prune(){this[pb].forEach((sa,
Aa)=>pc(this,Aa,!1))}}const pc=(sa,Aa,Xa)=>{if(Aa=sa[pb].get(Aa)){const fb=Aa.value;if(ic(sa,fb)){if(xb(sa,Aa),!sa[xd])return}else Xa&&(sa[Db]&&(Aa.value.now=Date.now()),sa[Ya].unshiftNode(Aa));return fb.value}},ic=(sa,Aa)=>{if(!Aa||!Aa.maxAge&&!sa[Pd])return!1;const Xa=Date.now()-Aa.now;return Aa.maxAge?Xa>Aa.maxAge:sa[Pd]&&Xa>sa[Pd]},ib=sa=>{if(sa[Sb]>sa[yb])for(let Aa=sa[Ya].tail;sa[Sb]>sa[yb]&&null!==Aa;){const Xa=Aa.prev;xb(sa,Aa);Aa=Xa}},xb=(sa,Aa)=>{if(Aa){const Xa=Aa.value;if(sa[me])sa[me](Xa.key,
Xa.value);sa[Sb]-=Xa.length;sa[pb].delete(Xa.key);sa[Ya].removeNode(Aa)}};class Nb{constructor(sa,Aa,Xa,fb,mb){this.key=sa;this.value=Aa;this.length=Xa;this.now=fb;this.maxAge=mb||0}}const cc=(sa,Aa,Xa,fb)=>{let mb=Xa.value;ic(sa,mb)&&(xb(sa,Xa),sa[xd]||(mb=void 0));mb&&Aa.call(fb,mb.value,mb.key,sa)};class qc{constructor(sa,Aa){Aa=Ba(Aa);if(sa instanceof qc)return sa.loose===!!Aa.loose&&sa.includePrerelease===!!Aa.includePrerelease?sa:new qc(sa.raw,Aa);if(sa instanceof De)return this.raw=sa.value,
this.set=[[sa]],this.format(),this;this.options=Aa;this.loose=!!Aa.loose;this.includePrerelease=!!Aa.includePrerelease;this.raw=sa;this.set=sa.split(/\s*\|\|\s*/).map(Xa=>this.parseRange(Xa.trim())).filter(Xa=>Xa.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${sa}`);if(1<this.set.length)if(sa=this.set[0],this.set=this.set.filter(Xa=>"\x3c0.0.0-0"!==Xa[0].value),0===this.set.length)this.set=[sa];else if(1<this.set.length)for(const Xa of this.set)if(1===Xa.length&&""===Xa[0].value){this.set=
[Xa];break}this.format()}format(){return this.range=this.set.map(sa=>sa.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(sa){sa=sa.trim();const Aa=`parseRange:${Object.keys(this.options).join(",")}:${sa}`;var Xa=Kc.get(Aa);if(Xa)return Xa;Xa=this.options.loose;sa=sa.replace(Xa?Ib[sc.HYPHENRANGELOOSE]:Ib[sc.HYPHENRANGE],ne(this.options.includePrerelease));Ma("hyphen replace",sa);sa=sa.replace(Ib[sc.COMPARATORTRIM],zc);Ma("comparator trim",sa,Ib[sc.COMPARATORTRIM]);sa=sa.replace(Ib[sc.TILDETRIM],
rc);sa=sa.replace(Ib[sc.CARETTRIM],Jc);sa=sa.split(/\s+/).join(" ");const fb=Xa?Ib[sc.COMPARATORLOOSE]:Ib[sc.COMPARATOR];sa=sa.split(" ").map(Wb=>{var jc=Wb;Wb=this.options;Ma("comp",jc,Wb);jc=Cd(jc,Wb);Ma("caret",jc);jc=md(jc,Wb);Ma("tildes",jc);jc=Sd(jc,Wb);Ma("xrange",jc);Ma("replaceStars",jc,Wb);jc=jc.trim().replace(Ib[sc.STAR],"");Ma("stars",jc);return jc}).join(" ").split(/\s+/).map(Wb=>{var jc=this.options;Ma("replaceGTE0",Wb,jc);return Wb.trim().replace(Ib[jc.includePrerelease?sc.GTE0PRE:
sc.GTE0],"")}).filter(this.options.loose?Wb=>!!Wb.match(fb):()=>!0).map(Wb=>new De(Wb,this.options));Xa=new Map;for(var mb of sa){if("\x3c0.0.0-0"===mb.value)return[mb];Xa.set(mb.value,mb)}1<Xa.size&&Xa.has("")&&Xa.delete("");mb=[...Xa.values()];Kc.set(Aa,mb);return mb}intersects(sa,Aa){if(!(sa instanceof qc))throw new TypeError("a Range is required");return this.set.some(Xa=>Mc(Xa,Aa)&&sa.set.some(fb=>Mc(fb,Aa)&&Xa.every(mb=>fb.every(Wb=>mb.intersects(Wb,Aa)))))}test(sa){if(!sa)return!1;if("string"===
typeof sa)try{sa=new jb(sa,this.options)}catch(Wb){return!1}for(let Wb=0;Wb<this.set.length;Wb++){a:{var Aa=this.set[Wb];var Xa=sa,fb=this.options;for(var mb=0;mb<Aa.length;mb++)if(!Aa[mb].test(Xa)){Aa=!1;break a}if(Xa.prerelease.length&&!fb.includePrerelease){for(fb=0;fb<Aa.length;fb++)if(Ma(Aa[fb].semver),Aa[fb].semver!==De.ANY&&0<Aa[fb].semver.prerelease.length&&(mb=Aa[fb].semver,mb.major===Xa.major&&mb.minor===Xa.minor&&mb.patch===Xa.patch)){Aa=!0;break a}Aa=!1}else Aa=!0}if(Aa)return!0}return!1}}
var oc=qc;const Kc=new Gb({max:1E3}),{re:Ib,t:sc,comparatorTrimReplace:zc,tildeTrimReplace:rc,caretTrimReplace:Jc}=db,Mc=(sa,Aa)=>{let Xa=!0;sa=sa.slice();let fb=sa.pop();for(;Xa&&sa.length;)Xa=sa.every(mb=>fb.intersects(mb,Aa)),fb=sa.pop();return Xa},Nc=sa=>!sa||"x"===sa.toLowerCase()||"*"===sa,md=(sa,Aa)=>sa.trim().split(/\s+/).map(Xa=>wd(Xa,Aa)).join(" "),wd=(sa,Aa)=>sa.replace(Aa.loose?Ib[sc.TILDELOOSE]:Ib[sc.TILDE],(Xa,fb,mb,Wb,jc)=>{Ma("tilde",sa,Xa,fb,mb,Wb,jc);Nc(fb)?Xa="":Nc(mb)?Xa=`>=${fb}.0.0 <${+fb+
1}.0.0-0`:Nc(Wb)?Xa=`>=${fb}.${mb}.0 <${fb}.${+mb+1}.0-0`:jc?(Ma("replaceTilde pr",jc),Xa=`>=${fb}.${mb}.${Wb}-${jc} <${fb}.${+mb+1}.0-0`):Xa=`>=${fb}.${mb}.${Wb} <${fb}.${+mb+1}.0-0`;Ma("tilde return",Xa);return Xa}),Cd=(sa,Aa)=>sa.trim().split(/\s+/).map(Xa=>Gd(Xa,Aa)).join(" "),Gd=(sa,Aa)=>{Ma("caret",sa,Aa);const Xa=Aa.includePrerelease?"-0":"";return sa.replace(Aa.loose?Ib[sc.CARETLOOSE]:Ib[sc.CARET],(fb,mb,Wb,jc,Ec)=>{Ma("caret",sa,fb,mb,Wb,jc,Ec);Nc(mb)?fb="":Nc(Wb)?fb=`>=${mb}.0.0${Xa} <${+mb+
1}.0.0-0`:Nc(jc)?fb="0"===mb?`>=${mb}.${Wb}.0${Xa} <${mb}.${+Wb+1}.0-0`:`>=${mb}.${Wb}.0${Xa} <${+mb+1}.0.0-0`:Ec?(Ma("replaceCaret pr",Ec),fb="0"===mb?"0"===Wb?`>=${mb}.${Wb}.${jc}-${Ec} <${mb}.${Wb}.${+jc+1}-0`:`>=${mb}.${Wb}.${jc}-${Ec} <${mb}.${+Wb+1}.0-0`:`>=${mb}.${Wb}.${jc}-${Ec} <${+mb+1}.0.0-0`):(Ma("no pr"),fb="0"===mb?"0"===Wb?`>=${mb}.${Wb}.${jc}${Xa} <${mb}.${Wb}.${+jc+1}-0`:`>=${mb}.${Wb}.${jc}${Xa} <${mb}.${+Wb+1}.0-0`:`>=${mb}.${Wb}.${jc} <${+mb+1}.0.0-0`);Ma("caret return",fb);return fb})},
Sd=(sa,Aa)=>{Ma("replaceXRanges",sa,Aa);return sa.split(/\s+/).map(Xa=>fe(Xa,Aa)).join(" ")},fe=(sa,Aa)=>{sa=sa.trim();return sa.replace(Aa.loose?Ib[sc.XRANGELOOSE]:Ib[sc.XRANGE],(Xa,fb,mb,Wb,jc,Ec)=>{Ma("xRange",sa,Xa,fb,mb,Wb,jc,Ec);const tc=Nc(mb),Fc=tc||Nc(Wb);jc=Fc||Nc(jc);"\x3d"===fb&&jc&&(fb="");Ec=Aa.includePrerelease?"-0":"";tc?Xa="\x3e"===fb||"\x3c"===fb?"\x3c0.0.0-0":"*":fb&&jc?(Fc&&(Wb=0),jc=0,"\x3e"===fb?(fb="\x3e\x3d",Fc?(mb=+mb+1,Wb=0):Wb=+Wb+1,jc=0):"\x3c\x3d"===fb&&(fb="\x3c",Fc?
mb=+mb+1:Wb=+Wb+1),"\x3c"===fb&&(Ec="-0"),Xa=`${fb+mb}.${Wb}.${jc}${Ec}`):Fc?Xa=`>=${mb}.0.0${Ec} <${+mb+1}.0.0-0`:jc&&(Xa=`>=${mb}.${Wb}.0${Ec} <${mb}.${+Wb+1}.0-0`);Ma("xRange return",Xa);return Xa})},ne=sa=>(Aa,Xa,fb,mb,Wb,jc,Ec,tc,Fc,ed,fd,ie,zd)=>{Xa=Nc(fb)?"":Nc(mb)?`>=${fb}.0.0${sa?"-0":""}`:Nc(Wb)?`>=${fb}.${mb}.0${sa?"-0":""}`:jc?`>=${Xa}`:`>=${Xa}${sa?"-0":""}`;tc=Nc(Fc)?"":Nc(ed)?`<${+Fc+1}.0.0-0`:Nc(fd)?`<${Fc}.${+ed+1}.0-0`:ie?`<=${Fc}.${ed}.${fd}-${ie}`:sa?`<${Fc}.${ed}.${+fd+1}-0`:
`<=${tc}`;return`${Xa} ${tc}`.trim()},ze=Symbol("SemVer ANY");class Ae{static get ANY(){return ze}constructor(sa,Aa){Aa=Ba(Aa);if(sa instanceof Ae){if(sa.loose===!!Aa.loose)return sa;sa=sa.value}Ma("comparator",sa,Aa);this.options=Aa;this.loose=!!Aa.loose;this.parse(sa);this.value=this.semver===ze?"":this.operator+this.semver.version;Ma("comp",this)}parse(sa){const Aa=sa.match(this.options.loose?Fd[Zd.COMPARATORLOOSE]:Fd[Zd.COMPARATOR]);if(!Aa)throw new TypeError(`Invalid comparator: ${sa}`);this.operator=
void 0!==Aa[1]?Aa[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Aa[2]?new jb(Aa[2],this.options.loose):ze}toString(){return this.value}test(sa){Ma("Comparator.test",sa,this.options.loose);if(this.semver===ze||sa===ze)return!0;if("string"===typeof sa)try{sa=new jb(sa,this.options)}catch(Aa){return!1}return hd(sa,this.operator,this.semver,this.options)}intersects(sa,Aa){if(!(sa instanceof Ae))throw new TypeError("a Comparator is required");Aa&&"object"===typeof Aa||(Aa={loose:!!Aa,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new oc(sa.value,Aa)).test(this.value);if(""===sa.operator)return""===sa.value?!0:(new oc(this.value,Aa)).test(sa.semver);const Xa=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===sa.operator||"\x3e"===sa.operator),fb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===sa.operator||"\x3c"===sa.operator),mb=this.semver.version===sa.semver.version,Wb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
sa.operator||"\x3c\x3d"===sa.operator),jc=hd(this.semver,"\x3c",sa.semver,Aa)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===sa.operator||"\x3c"===sa.operator);sa=hd(this.semver,"\x3e",sa.semver,Aa)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===sa.operator||"\x3e"===sa.operator);return Xa||fb||mb&&Wb||jc||sa}}var De=Ae;const {re:Fd,t:Zd}=db;var Ke=(sa,Aa,Xa)=>{try{Aa=new oc(Aa,Xa)}catch(fb){return!1}return Aa.test(sa)};const {ANY:Be}=De;var tf=(sa,Aa,Xa,
fb)=>{sa=new jb(sa,fb);Aa=new oc(Aa,fb);let mb,Wb,jc,Ec;switch(Xa){case "\x3e":mb=Sc;Xa=Rd;Wb=Bc;jc="\x3e";Ec="\x3e\x3d";break;case "\x3c":mb=Bc;Xa=pd;Wb=Sc;jc="\x3c";Ec="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(Ke(sa,Aa,fb))return!1;for(let tc=0;tc<Aa.set.length;++tc){let Fc=null,ed=null;Aa.set[tc].forEach(fd=>{fd.semver===Be&&(fd=new De("\x3e\x3d0.0.0"));Fc=Fc||fd;ed=ed||fd;mb(fd.semver,Fc.semver,fb)?Fc=fd:Wb(fd.semver,ed.semver,fb)&&(ed=fd)});
if(Fc.operator===jc||Fc.operator===Ec||(!ed.operator||ed.operator===jc)&&Xa(sa,ed.semver)||ed.operator===Ec&&Wb(sa,ed.semver))return!1}return!0};const {ANY:Td}=De,be=(sa,Aa,Xa)=>{if(sa===Aa)return!0;if(1===sa.length&&sa[0].semver===Td)return 1===Aa.length&&Aa[0].semver===Td;const fb=new Set;let mb,Wb;for(const Fc of sa)"\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator?mb=Le(mb,Fc,Xa):"\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator?Wb=ce(Wb,Fc,Xa):fb.add(Fc.semver);if(1<fb.size)return null;let jc;if(mb&&
Wb&&(jc=ac(mb.semver,Wb.semver,Xa),0<jc||0===jc&&("\x3e\x3d"!==mb.operator||"\x3c\x3d"!==Wb.operator)))return null;for(const Fc of fb){if(mb&&!Ke(Fc,String(mb),Xa)||Wb&&!Ke(Fc,String(Wb),Xa))return null;for(const ed of Aa)if(!Ke(Fc,String(ed),Xa))return!1;return!0}let Ec,tc;for(const Fc of Aa){tc=tc||"\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator;Ec=Ec||"\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator;if(mb)if("\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator){if(sa=Le(mb,Fc,Xa),sa===Fc&&sa!==mb)return!1}else if("\x3e\x3d"===
mb.operator&&!Ke(mb.semver,String(Fc),Xa))return!1;if(Wb)if("\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator){if(sa=ce(Wb,Fc,Xa),sa===Fc&&sa!==Wb)return!1}else if("\x3c\x3d"===Wb.operator&&!Ke(Wb.semver,String(Fc),Xa))return!1;if(!Fc.operator&&(Wb||mb)&&0!==jc)return!1}return mb&&Ec&&!Wb&&0!==jc||Wb&&tc&&!mb&&0!==jc?!1:!0},Le=(sa,Aa,Xa)=>{if(!sa)return Aa;Xa=ac(sa.semver,Aa.semver,Xa);return 0<Xa?sa:0>Xa?Aa:"\x3e"===Aa.operator&&"\x3e\x3d"===sa.operator?Aa:sa},ce=(sa,Aa,Xa)=>{if(!sa)return Aa;Xa=ac(sa.semver,
Aa.semver,Xa);return 0>Xa?sa:0<Xa?Aa:"\x3c"===Aa.operator&&"\x3c\x3d"===sa.operator?Aa:sa};var yd={re:db.re,src:db.src,tokens:db.t,SEMVER_SPEC_VERSION:Ra.SEMVER_SPEC_VERSION,SemVer:jb,compareIdentifiers:ub.compareIdentifiers,rcompareIdentifiers:ub.rcompareIdentifiers,parse:Ac,valid:(sa,Aa)=>(sa=Ac(sa,Aa))?sa.version:null,clean:(sa,Aa)=>(sa=Ac(sa.trim().replace(/^[=v]+/,""),Aa))?sa.version:null,inc:(sa,Aa,Xa,fb)=>{"string"===typeof Xa&&(fb=Xa,Xa=void 0);try{return(new jb(sa,Xa)).inc(Aa,fb).version}catch(mb){return null}},
diff:(sa,Aa)=>{if(0===ac(sa,Aa,void 0))return null;{sa=Ac(sa);Aa=Ac(Aa);var Xa=sa.prerelease.length||Aa.prerelease.length;const fb=Xa?"pre":"";Xa=Xa?"prerelease":"";for(const mb in sa)if(("major"===mb||"minor"===mb||"patch"===mb)&&sa[mb]!==Aa[mb])return fb+mb;return Xa}},major:(sa,Aa)=>(new jb(sa,Aa)).major,minor:(sa,Aa)=>(new jb(sa,Aa)).minor,patch:(sa,Aa)=>(new jb(sa,Aa)).patch,prerelease:(sa,Aa)=>(sa=Ac(sa,Aa))&&sa.prerelease.length?sa.prerelease:null,compare:ac,rcompare:(sa,Aa,Xa)=>ac(Aa,sa,Xa),
compareLoose:(sa,Aa)=>ac(sa,Aa,!0),compareBuild:Oc,sort:(sa,Aa)=>sa.sort((Xa,fb)=>Oc(Xa,fb,Aa)),rsort:(sa,Aa)=>sa.sort((Xa,fb)=>Oc(fb,Xa,Aa)),gt:Sc,lt:Bc,eq:(sa,Aa,Xa)=>0===ac(sa,Aa,Xa),neq:(sa,Aa,Xa)=>0!==ac(sa,Aa,Xa),gte:pd,lte:Rd,cmp:hd,coerce:(sa,Aa)=>{if(sa instanceof jb)return sa;"number"===typeof sa&&(sa=String(sa));if("string"!==typeof sa)return null;Aa=Aa||{};let Xa=null;if(Aa.rtl){let fb;for(;(fb=cd[Dd.COERCERTL].exec(sa))&&(!Xa||Xa.index+Xa[0].length!==sa.length);)Xa&&fb.index+fb[0].length===
Xa.index+Xa[0].length||(Xa=fb),cd[Dd.COERCERTL].lastIndex=fb.index+fb[1].length+fb[2].length;cd[Dd.COERCERTL].lastIndex=-1}else Xa=sa.match(cd[Dd.COERCE]);return null===Xa?null:Ac(`${Xa[2]}.${Xa[3]||"0"}.${Xa[4]||"0"}`,Aa)},Comparator:De,Range:oc,satisfies:Ke,toComparators:(sa,Aa)=>(new oc(sa,Aa)).set.map(Xa=>Xa.map(fb=>fb.value).join(" ").trim().split(" ")),maxSatisfying:(sa,Aa,Xa)=>{let fb=null,mb=null,Wb=null;try{Wb=new oc(Aa,Xa)}catch(jc){return null}sa.forEach(jc=>{!Wb.test(jc)||fb&&-1!==mb.compare(jc)||
(fb=jc,mb=new jb(fb,Xa))});return fb},minSatisfying:(sa,Aa,Xa)=>{let fb=null,mb=null,Wb=null;try{Wb=new oc(Aa,Xa)}catch(jc){return null}sa.forEach(jc=>{!Wb.test(jc)||fb&&1!==mb.compare(jc)||(fb=jc,mb=new jb(fb,Xa))});return fb},minVersion:(sa,Aa)=>{sa=new oc(sa,Aa);Aa=new jb("0.0.0");if(sa.test(Aa))return Aa;Aa=new jb("0.0.0-0");if(sa.test(Aa))return Aa;Aa=null;for(let Xa=0;Xa<sa.set.length;++Xa){let fb=null;sa.set[Xa].forEach(mb=>{const Wb=new jb(mb.semver.version);switch(mb.operator){case "\x3e":0===
Wb.prerelease.length?Wb.patch++:Wb.prerelease.push(0),Wb.raw=Wb.format();case "":case "\x3e\x3d":if(!fb||0<ac(Wb,fb,void 0))fb=Wb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${mb.operator}`);}});!fb||Aa&&!(0<ac(Aa,fb,void 0))||(Aa=fb)}return Aa&&sa.test(Aa)?Aa:null},validRange:(sa,Aa)=>{try{return(new oc(sa,Aa)).range||"*"}catch(Xa){return null}},outside:tf,gtr:(sa,Aa,Xa)=>tf(sa,Aa,"\x3e",Xa),ltr:(sa,Aa,Xa)=>tf(sa,Aa,"\x3c",Xa),intersects:(sa,Aa,Xa)=>{sa=new oc(sa,
Xa);Aa=new oc(Aa,Xa);return sa.intersects(Aa)},simplifyRange:(sa,Aa,Xa)=>{var fb=[],mb=null;let Wb=null;sa=sa.sort((jc,Ec)=>ac(jc,Ec,Xa));for(const jc of sa)Ke(jc,Aa,Xa)?(Wb=jc,mb||(mb=jc)):(Wb&&fb.push([mb,Wb]),mb=Wb=null);mb&&fb.push([mb,null]);mb=[];for(const [jc,Ec]of fb)jc===Ec?mb.push(jc):Ec||jc!==sa[0]?Ec?jc===sa[0]?mb.push(`<=${Ec}`):mb.push(`${jc} - ${Ec}`):mb.push(`>=${jc}`):mb.push("*");fb=mb.join(" || ");return fb.length<("string"===typeof Aa.raw?Aa.raw:String(Aa)).length?fb:Aa},subset:(sa,
Aa,Xa)=>{if(sa===Aa)return!0;sa=new oc(sa,Xa);Aa=new oc(Aa,Xa);let fb=!1;a:for(const mb of sa.set){for(const Wb of Aa.set)if(sa=be(mb,Wb,Xa),fb=fb||null!==sa,sa)continue a;if(fb)return!1}return!0}};const Ad={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Yd={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var ef=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},
rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Ad["category-6"],diverging:Ad["fireandice-6"],heatmap:Ad["fire-7"],ordinal:Ad["fire-7"],ramp:Ad["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Yd["six-groups-cat-1"],diverging:Yd["diverging-colors"],heatmap:Yd["diverging-colors"],ordinal:Yd["six-groups-seq"],ramp:Yd["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const qe=sa=>function(Aa){return Aa[sa]},Ed=sa=>{const Aa=sa.length;return function(Xa){for(let fb=0;fb<Aa;++fb)Xa=Xa[sa[fb]];return Xa}};(function(sa,Aa,Xa){const fb=ia(sa);sa=1===fb.length?fb[0]:sa;return S((Xa&&Xa.get||U)(fb),[sa],Aa||sa)})("id");S(sa=>sa,[],"identity");S(()=>0,[],"zero");
S(()=>1,[],"one");S(()=>!0,[],"true");S(()=>!1,[],"false");var Ie=Array.isArray;const nf={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(sa){return String(sa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class xc{constructor(sa){this.options=Object.assign(Object.assign({},nf),sa);sa=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const Xa=
document.createElement("style");Xa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(sa))throw Error("Invalid HTML ID");var Aa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
sa);Xa.innerHTML=Aa;Aa=document.head;0<Aa.childNodes.length?Aa.insertBefore(Xa,Aa.childNodes[0]):Aa.appendChild(Xa)}this.el=document.getElementById(sa);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",sa),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(sa,Aa,Xa,fb){if(null==fb||""===fb)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=ja(fb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);sa=this.el.getBoundingClientRect();var mb=this.options.offsetX;Xa=this.options.offsetY;fb=Aa.clientX+mb;fb+sa.width>window.innerWidth&&(fb=+Aa.clientX-mb-sa.width);mb=Aa.clientY+Xa;mb+sa.height>window.innerHeight&&(mb=+Aa.clientY-Xa-sa.height);Aa={x:fb,y:mb};var {x:Wb,y:jc}=Aa;this.el.setAttribute("style",`top: ${jc}px; left: ${Wb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(sa,Aa){return this.substr(!Aa||0>Aa?0:+Aa,sa.length)===sa});var Fe,
ge=Wa,Zb=gb,Je="undefined"!==typeof window?window:void 0;void 0===Zb&&(null===(Fe=null===Je||void 0===Je?void 0:Je.vl)||void 0===Fe?0:Fe.compile)&&(Zb=Je.vl);var he={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Pe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},cf={vega:"Vega","vega-lite":"Vega-Lite"},Ze={vega:ge.version,"vega-lite":Zb?
Zb.version:"not available"},vf={vega:function(sa){return sa},"vega-lite":function(sa,Aa){return Zb.compile(sa,{config:Aa}).spec}},Te=function(){for(var sa=[],Aa=0;Aa<arguments.length;Aa++)sa[Aa]=arguments[Aa];if(Aa=1<sa.length){if(Aa=l.isString(sa[0]))Aa=sa[0],Aa=!(Aa.startsWith("http://")||Aa.startsWith("https://")||Aa.startsWith("//"));Aa=Aa||sa[0]instanceof HTMLElement||3===sa.length}return Aa?ka(sa[0],sa[1],sa[2]):Da(sa[0],sa[1])};Te.vegaLite=Zb;Te.vl=Zb;Te.container=Da;Te.embed=ka;Te.vega=ge;
Te["default"]=ka;Te.version="6.15.0";return Te})};
shadow$provide[69]=function(Ea,z,ob,J){(function(m,l){"object"===typeof J&&"undefined"!==typeof ob?ob.exports=l():"function"===typeof define&&define.amd?define(l):(m=m||self,m.CodeMirror=l())})(this,function(){function m(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function l(b){for(var p=b.childNodes.length;0<p;--p)b.removeChild(b.firstChild);return b}function w(b,p){return l(b).appendChild(p)}function G(b,p,V,R){b=document.createElement(b);V&&(b.className=V);R&&(b.style.cssText=R);if("string"==
typeof p)b.appendChild(document.createTextNode(p));else if(p)for(V=0;V<p.length;++V)b.appendChild(p[V]);return b}function L(b,p,V,R){b=G(b,p,V,R);b.setAttribute("role","presentation");return b}function v(b,p){3==p.nodeType&&(p=p.parentNode);if(b.contains)return b.contains(p);do if(11==p.nodeType&&(p=p.host),p==b)return!0;while(p=p.parentNode)}function u(){try{var b=document.activeElement}catch(p){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function t(b,p){var V=b.className;m(p).test(V)||(b.className+=(V?" ":"")+p)}function k(b,p){b=b.split(" ");for(var V=0;V<b.length;V++)b[V]&&!m(b[V]).test(p)&&(p+=" "+b[V]);return p}function f(b){var p=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,p)}}function d(b,p,V){p||(p={});for(var R in b)!b.hasOwnProperty(R)||!1===V&&p.hasOwnProperty(R)||(p[R]=b[R]);return p}function g(b,p,V,R,aa){null==p&&(p=b.search(/[^\s\u00a0]/),-1==p&&(p=b.length));R=R||0;for(aa=
aa||0;;){var Ca=b.indexOf("\t",R);if(0>Ca||Ca>=p)return aa+(p-R);aa+=Ca-R;aa+=V-aa%V;R=Ca+1}}function a(b,p){for(var V=0;V<b.length;++V)if(b[V]==p)return V;return-1}function e(b,p,V){for(var R=0,aa=0;;){var Ca=b.indexOf("\t",R);-1==Ca&&(Ca=b.length);var Qa=Ca-R;if(Ca==b.length||aa+Qa>=p)return R+Math.min(Qa,p-aa);aa+=Ca-R;aa+=V-aa%V;R=Ca+1;if(aa>=p)return R}}function n(b){for(;gi.length<=b;)gi.push(y(gi)+" ");return gi[b]}function y(b){return b[b.length-1]}function A(b,p){for(var V=[],R=0;R<b.length;R++)V[R]=
p(b[R],R);return V}function C(b,p,V){for(var R=0,aa=V(p);R<b.length&&V(b[R])<=aa;)R++;b.splice(R,0,p)}function N(){}function K(b,p){Object.create?b=Object.create(b):(N.prototype=b,b=new N);p&&d(p,b);return b}function E(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||nj.test(b))}function x(b,p){return p?-1<p.source.indexOf("\\w")&&E(b)?!0:p.test(b):E(b)}function D(b){for(var p in b)if(b.hasOwnProperty(p)&&b[p])return!1;return!0}function H(b){return 768<=b.charCodeAt(0)&&hi.test(b)}
function S(b,p,V){for(;(0>V?0<p:p<b.length)&&H(b.charAt(p));)p+=V;return p}function U(b,p,V){for(var R=p>V?-1:1;;){if(p==V)return p;var aa=(p+V)/2;aa=0>R?Math.ceil(aa):Math.floor(aa);if(aa==p)return b(aa)?p:V;b(aa)?V=aa:p=aa+R}}function ia(b,p,V,R){if(!b)return R(p,V,"ltr",0);for(var aa=!1,Ca=0;Ca<b.length;++Ca){var Qa=b[Ca];if(Qa.from<V&&Qa.to>p||p==V&&Qa.to==p)R(Math.max(Qa.from,p),Math.min(Qa.to,V),1==Qa.level?"rtl":"ltr",Ca),aa=!0}aa||R(p,V,"ltr")}function fa(b,p,V){var R;ph=null;for(var aa=0;aa<
b.length;++aa){var Ca=b[aa];if(Ca.from<p&&Ca.to>p)return aa;Ca.to==p&&(Ca.from!=Ca.to&&"before"==V?R=aa:ph=aa);Ca.from==p&&(Ca.from!=Ca.to&&"before"!=V?R=aa:ph=aa)}return null!=R?R:ph}function ja(b,p){var V=b.order;null==V&&(V=b.order=Wg(b.text,p));return V}function la(b,p,V){if(b.removeEventListener)b.removeEventListener(p,V,!1);else if(b.detachEvent)b.detachEvent("on"+p,V);else{var R=(b=b._handlers)&&b[p];R&&(V=a(R,V),-1<V&&(b[p]=R.slice(0,V).concat(R.slice(V+1))))}}function da(b,p){var V=b._handlers&&
b._handlers[p]||oh;if(V.length)for(var R=Array.prototype.slice.call(arguments,2),aa=0;aa<V.length;++aa)V[aa].apply(null,R)}function O(b,p,V){"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}});da(b,V||p.type,b,p);return xa(p)||p.codemirrorIgnore}function B(b){var p=b._handlers&&b._handlers.cursorActivity;if(p){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var V=0;V<p.length;++V)-1==a(b,p[V])&&b.push(p[V])}}function Y(b,p){return 0<(b._handlers&&
b._handlers[p]||oh).length}function ka(b){b.prototype.on=function(p,V){ve(this,p,V)};b.prototype.off=function(p,V){la(this,p,V)}}function Z(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function wa(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function xa(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Da(b){Z(b);wa(b)}function Wa(b){var p=b.which;null==p&&(b.button&1?p=1:b.button&2?p=3:b.button&4&&(p=2));rg&&b.ctrlKey&&1==p&&(p=3);return p}function gb(b){if(null==
ii){var p=G("span","");w(b,G("span",[p,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(ii=1>=p.offsetWidth&&2<p.offsetHeight&&!(af&&8>gf))}b=ii?G("span",""):G("span","",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function ra(b,p){2<arguments.length&&(p.dependencies=Array.prototype.slice.call(arguments,2));dh[b]=p}function Na(b){if("string"==typeof b&&qh.hasOwnProperty(b))b=qh[b];else if(b&&"string"==typeof b.name&&qh.hasOwnProperty(b.name)){var p=
qh[b.name];"string"==typeof p&&(p={name:p});b=K(p,b);b.name=p.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Na("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Na("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Ta(b,p){p=Na(p);var V=dh[p.name];if(!V)return Ta(b,"text/plain");b=V(b,p);if(Mg.hasOwnProperty(p.name)){V=Mg[p.name];for(var R in V)V.hasOwnProperty(R)&&(b.hasOwnProperty(R)&&(b["_"+R]=b[R]),b[R]=
V[R])}b.name=p.name;p.helperType&&(b.helperType=p.helperType);if(p.modeProps)for(var aa in p.modeProps)b[aa]=p.modeProps[aa];return b}function za(b,p){b=Mg.hasOwnProperty(b)?Mg[b]:Mg[b]={};d(p,b)}function pa(b,p){if(!0===p)return p;if(b.copyState)return b.copyState(p);b={};for(var V in p){var R=p[V];R instanceof Array&&(R=R.concat([]));b[V]=R}return b}function T(b,p){for(var V;b.innerMode;){V=b.innerMode(p);if(!V||V.mode==b)break;p=V.state;b=V.mode}return V||{mode:b,state:p}}function W(b,p,V){return b.startState?
b.startState(p,V):!0}function M(b,p){p-=b.first;if(0>p||p>=b.size)throw Error("There is no line "+(p+b.first)+" in the document.");for(;!b.lines;)for(var V=0;;++V){var R=b.children[V],aa=R.chunkSize();if(p<aa){b=R;break}p-=aa}return b.lines[p]}function P(b,p,V){var R=[],aa=p.line;b.iter(p.line,V.line+1,function(Ca){Ca=Ca.text;aa==V.line&&(Ca=Ca.slice(0,V.ch));aa==p.line&&(Ca=Ca.slice(p.ch));R.push(Ca);++aa});return R}function ca(b,p,V){var R=[];b.iter(p,V,function(aa){R.push(aa.text)});return R}function ea(b,
p){if(p-=b.height)for(;b;b=b.parent)b.height+=p}function oa(b){if(null==b.parent)return null;var p=b.parent;b=a(p.lines,b);for(var V=p.parent;V;p=V,V=V.parent)for(var R=0;V.children[R]!=p;++R)b+=V.children[R].chunkSize();return b+p.first}function ba(b,p){var V=b.first;a:do{for(var R=0;R<b.children.length;++R){var aa=b.children[R],Ca=aa.height;if(p<Ca){b=aa;continue a}p-=Ca;V+=aa.chunkSize()}return V}while(!b.lines);for(R=0;R<b.lines.length;++R){aa=b.lines[R].height;if(p<aa)break;p-=aa}return V+R}
function Fa(b,p){return p>=b.first&&p<b.first+b.size}function Ra(b,p){return String(b.lineNumberFormatter(p+b.firstLineNumber))}function Ma(b,p,V){void 0===V&&(V=null);if(!(this instanceof Ma))return new Ma(b,p,V);this.line=b;this.ch=p;this.sticky=V}function db(b,p){return b.line-p.line||b.ch-p.ch}function ab(b,p){return b.sticky==p.sticky&&0==db(b,p)}function Ba(b){return Ma(b.line,b.ch)}function Sa(b,p){return 0>db(b,p)?p:b}function lb(b,p){return 0>db(b,p)?b:p}function ub(b,p){if(p.line<b.first)return Ma(b.first,
0);var V=b.first+b.size-1;if(p.line>V)return Ma(V,M(b,V).text.length);b=M(b,p.line).text.length;V=p.ch;p=null==V||V>b?Ma(p.line,b):0>V?Ma(p.line,0):p;return p}function Jb(b,p){for(var V=[],R=0;R<p.length;R++)V[R]=ub(b,p[R]);return V}function bc(b,p,V,R){var aa=[b.state.modeGen],Ca={};hc(b,p.text,b.doc.mode,V,function(rb,Cb){return aa.push(rb,Cb)},Ca,R);var Qa=V.state;R=function(rb){V.baseTokens=aa;var Cb=b.state.overlays[rb],Ub=1,Gc=0;V.state=!0;hc(b,p.text,Cb.mode,V,function(nc,lc){for(var dd=Ub;Gc<
nc;){var Kd=aa[Ub];Kd>nc&&aa.splice(Ub,1,nc,aa[Ub+1],Kd);Ub+=2;Gc=Math.min(nc,Kd)}if(lc)if(Cb.opaque)aa.splice(dd,Ub-dd,nc,"overlay "+lc),Ub=dd+2;else for(;dd<Ub;dd+=2)nc=aa[dd+1],aa[dd+1]=(nc?nc+" ":"")+"overlay "+lc},Ca);V.state=Qa;V.baseTokens=null;V.baseTokenPos=1};for(var Ua=0;Ua<b.state.overlays.length;++Ua)R(Ua);return{styles:aa,classes:Ca.bgClass||Ca.textClass?Ca:null}}function wc(b,p,V){if(!p.styles||p.styles[0]!=b.state.modeGen){var R=$c(b,oa(p)),aa=p.text.length>b.options.maxHighlightLength&&
pa(b.doc.mode,R.state),Ca=bc(b,p,R);aa&&(R.state=aa);p.stateAfter=R.save(!aa);p.styles=Ca.styles;Ca.classes?p.styleClasses=Ca.classes:p.styleClasses&&(p.styleClasses=null);V===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return p.styles}function $c(b,p,V){var R=b.doc,aa=b.display;if(!R.mode.startState)return new Ag(R,!0,p);var Ca=Ac(b,p,V),Qa=Ca>R.first&&M(R,Ca-1).stateAfter,Ua=Qa?Ag.fromSaved(R,Qa,Ca):new Ag(R,W(R.mode),Ca);R.iter(Ca,p,function(rb){kc(b,
rb.text,Ua);var Cb=Ua.line;rb.stateAfter=Cb==p-1||0==Cb%5||Cb>=aa.viewFrom&&Cb<aa.viewTo?Ua.save():null;Ua.nextLine()});V&&(R.modeFrontier=Ua.line);return Ua}function kc(b,p,V,R){var aa=b.doc.mode;b=new Lf(p,b.options.tabSize,V);b.start=b.pos=R||0;for(""==p&&vc(aa,V.state);!b.eol();)jb(aa,b,V.state),b.start=b.pos}function vc(b,p){if(b.blankLine)return b.blankLine(p);if(b.innerMode&&(b=T(b,p),b.mode.blankLine))return b.mode.blankLine(b.state)}function jb(b,p,V,R){for(var aa=0;10>aa;aa++){R&&(R[0]=
T(b,V).mode);var Ca=b.token(p,V);if(p.pos>p.start)return Ca}throw Error("Mode "+b.name+" failed to advance stream.");}function fc(b,p,V,R){var aa=b.doc,Ca=aa.mode;p=ub(aa,p);var Qa=M(aa,p.line);V=$c(b,p.line,V);b=new Lf(Qa.text,b.options.tabSize,V);var Ua;for(R&&(Ua=[]);(R||b.pos<p.ch)&&!b.eol();){b.start=b.pos;var rb=jb(Ca,b,V.state);R&&Ua.push(new Ki(b,rb,pa(aa.mode,V.state)))}return R?Ua:new Ki(b,rb,V.state)}function dc(b,p){if(b)for(;;){var V=b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!V)break;
b=b.slice(0,V.index)+b.slice(V.index+V[0].length);var R=V[1]?"bgClass":"textClass";null==p[R]?p[R]=V[2]:(new RegExp("(?:^|\\s)"+V[2]+"(?:$|\\s)")).test(p[R])||(p[R]+=" "+V[2])}return b}function hc(b,p,V,R,aa,Ca,Qa){var Ua=V.flattenSpans;null==Ua&&(Ua=b.options.flattenSpans);var rb=0,Cb=null,Ub=new Lf(p,b.options.tabSize,R),Gc=b.options.addModeClass&&[null];for(""==p&&dc(vc(V,R.state),Ca);!Ub.eol();){if(Ub.pos>b.options.maxHighlightLength){Ua=!1;Qa&&kc(b,p,R,Ub.pos);Ub.pos=p.length;var nc=null}else nc=
dc(jb(V,Ub,R.state,Gc),Ca);if(Gc){var lc=Gc[0].name;lc&&(nc="m-"+(nc?lc+" "+nc:lc))}if(!Ua||Cb!=nc){for(;rb<Ub.start;)rb=Math.min(Ub.start,rb+5E3),aa(rb,Cb);Cb=nc}Ub.start=Ub.pos}for(;rb<Ub.pos;)b=Math.min(Ub.pos,rb+5E3),aa(b,Cb),rb=b}function Ac(b,p,V){for(var R,aa,Ca=b.doc,Qa=V?-1:p-(b.doc.mode.innerMode?1E3:100);p>Qa;--p){if(p<=Ca.first)return Ca.first;var Ua=M(Ca,p-1),rb=Ua.stateAfter;if(rb&&(!V||p+(rb instanceof Lh?rb.lookAhead:0)<=Ca.modeFrontier))return p;Ua=g(Ua.text,null,b.options.tabSize);
if(null==aa||R>Ua)aa=p-1,R=Ua}return aa}function ac(b,p){b.modeFrontier=Math.min(b.modeFrontier,p);if(!(b.highlightFrontier<p-10)){for(var V=b.first,R=p-1;R>V;R--){var aa=M(b,R).stateAfter;if(aa&&(!(aa instanceof Lh)||R+aa.lookAhead<p)){V=R+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,V)}}function Oc(b,p,V){this.marker=b;this.from=p;this.to=V}function Sc(b,p){if(b)for(var V=0;V<b.length;++V){var R=b[V];if(R.marker==p)return R}}function Bc(b,p){if(p.full)return null;var V=Fa(b,p.from.line)&&
M(b,p.from.line).markedSpans,R=Fa(b,p.to.line)&&M(b,p.to.line).markedSpans;if(!V&&!R)return null;b=p.from.ch;var aa=p.to.ch,Ca=0==db(p.from,p.to),Qa;if(V)for(var Ua=0;Ua<V.length;++Ua){var rb=V[Ua],Cb=rb.marker;if(null==rb.from||(Cb.inclusiveLeft?rb.from<=b:rb.from<b)||!(rb.from!=b||"bookmark"!=Cb.type||Ca&&rb.marker.insertLeft)){var Ub=null==rb.to||(Cb.inclusiveRight?rb.to>=b:rb.to>b);(Qa||(Qa=[])).push(new Oc(Cb,rb.from,Ub?null:rb.to))}}V=Qa;var Gc;if(R)for(Qa=0;Qa<R.length;++Qa)if(Ua=R[Qa],rb=
Ua.marker,null==Ua.to||(rb.inclusiveRight?Ua.to>=aa:Ua.to>aa)||Ua.from==aa&&"bookmark"==rb.type&&(!Ca||Ua.marker.insertLeft))Cb=null==Ua.from||(rb.inclusiveLeft?Ua.from<=aa:Ua.from<aa),(Gc||(Gc=[])).push(new Oc(rb,Cb?null:Ua.from-aa,null==Ua.to?null:Ua.to-aa));R=1==p.text.length;aa=y(p.text).length+(R?b:0);if(V)for(Ca=0;Ca<V.length;++Ca)if(Qa=V[Ca],null==Qa.to)(Ua=Sc(Gc,Qa.marker),Ua)?R&&(Qa.to=null==Ua.to?null:Ua.to+aa):Qa.to=b;if(Gc)for(b=0;b<Gc.length;++b)Ca=Gc[b],null!=Ca.to&&(Ca.to+=aa),null==
Ca.from?Sc(V,Ca.marker)||(Ca.from=aa,R&&(V||(V=[])).push(Ca)):(Ca.from+=aa,R&&(V||(V=[])).push(Ca));V&&(V=pd(V));Gc&&Gc!=V&&(Gc=pd(Gc));b=[V];if(!R){p=p.text.length-2;var nc;if(0<p&&V)for(R=0;R<V.length;++R)null==V[R].to&&(nc||(nc=[])).push(new Oc(V[R].marker,null,null));for(V=0;V<p;++V)b.push(nc);b.push(Gc)}return b}function pd(b){for(var p=0;p<b.length;++p){var V=b[p];null!=V.from&&V.from==V.to&&!1!==V.marker.clearWhenEmpty&&b.splice(p--,1)}return b.length?b:null}function Rd(b,p,V){var R=null;b.iter(p.line,
V.line+1,function(Ub){if(Ub.markedSpans)for(var Gc=0;Gc<Ub.markedSpans.length;++Gc){var nc=Ub.markedSpans[Gc].marker;!nc.readOnly||R&&-1!=a(R,nc)||(R||(R=[])).push(nc)}});if(!R)return null;b=[{from:p,to:V}];for(p=0;p<R.length;++p){V=R[p];for(var aa=V.find(0),Ca=0;Ca<b.length;++Ca){var Qa=b[Ca];if(!(0>db(Qa.to,aa.from)||0<db(Qa.from,aa.to))){var Ua=[Ca,1],rb=db(Qa.from,aa.from),Cb=db(Qa.to,aa.to);(0>rb||!V.inclusiveLeft&&!rb)&&Ua.push({from:Qa.from,to:aa.from});(0<Cb||!V.inclusiveRight&&!Cb)&&Ua.push({from:aa.to,
to:Qa.to});b.splice.apply(b,Ua);Ca+=Ua.length-3}}}return b}function hd(b){var p=b.markedSpans;if(p){for(var V=0;V<p.length;++V)p[V].marker.detachLine(b);b.markedSpans=null}}function cd(b,p){if(p){for(var V=0;V<p.length;++V)p[V].marker.attachLine(b);b.markedSpans=p}}function Dd(b,p){var V=b.lines.length-p.lines.length;if(0!=V)return V;V=b.find();var R=p.find(),aa=db(V.from,R.from)||(b.inclusiveLeft?-1:0)-(p.inclusiveLeft?-1:0);return aa?-aa:(V=db(V.to,R.to)||(b.inclusiveRight?1:0)-(p.inclusiveRight?
1:0))?V:p.id-b.id}function cb(b,p){b=Hg&&b.markedSpans;if(b)for(var V,R=0;R<b.length;++R)if(V=b[R],V.marker.collapsed&&null==(p?V.from:V.to)&&(!aa||0>Dd(aa,V.marker)))var aa=V.marker;return aa}function yb(b,p,V,R,aa){b=M(b,p);if(b=Hg&&b.markedSpans)for(p=0;p<b.length;++p){var Ca=b[p];if(Ca.marker.collapsed){var Qa=Ca.marker.find(0),Ua=db(Qa.from,V)||(Ca.marker.inclusiveLeft?-1:0)-(aa.inclusiveLeft?-1:0),rb=db(Qa.to,R)||(Ca.marker.inclusiveRight?1:0)-(aa.inclusiveRight?1:0);if(!(0<=Ua&&0>=rb||0>=Ua&&
0<=rb)&&(0>=Ua&&(Ca.marker.inclusiveRight&&aa.inclusiveLeft?0<=db(Qa.to,V):0<db(Qa.to,V))||0<=Ua&&(Ca.marker.inclusiveRight&&aa.inclusiveLeft?0>=db(Qa.from,R):0>db(Qa.from,R))))return!0}}}function Sb(b){for(var p;p=cb(b,!0);)b=p.find(-1,!0).line;return b}function ld(b,p){b=M(b,p);var V=Sb(b);return b==V?p:oa(V)}function xd(b,p){if(p>b.lastLine())return p;var V=M(b,p);if(!Pd(b,V))return p;for(;b=cb(V,!1);)V=b.find(1,!0).line;return oa(V)+1}function Pd(b,p){var V=Hg&&p.markedSpans;if(V)for(var R,aa=
0;aa<V.length;++aa)if(R=V[aa],R.marker.collapsed&&(null==R.from||!R.marker.widgetNode&&0==R.from&&R.marker.inclusiveLeft&&me(b,p,R)))return!0}function me(b,p,V){if(null==V.to)return p=V.marker.find(1,!0),me(b,p.line,Sc(p.line.markedSpans,V.marker));if(V.marker.inclusiveRight&&V.to==p.text.length)return!0;for(var R,aa=0;aa<p.markedSpans.length;++aa)if(R=p.markedSpans[aa],R.marker.collapsed&&!R.marker.widgetNode&&R.from==V.to&&(null==R.to||R.to!=V.from)&&(R.marker.inclusiveLeft||V.marker.inclusiveRight)&&
me(b,p,R))return!0}function Ha(b){b=Sb(b);for(var p=0,V=b.parent,R=0;R<V.lines.length;++R){var aa=V.lines[R];if(aa==b)break;else p+=aa.height}for(b=V.parent;b;V=b,b=V.parent)for(R=0;R<b.children.length&&(aa=b.children[R],aa!=V);++R)p+=aa.height;return p}function Ya(b){if(0==b.height)return 0;for(var p=b.text.length,V,R=b;V=cb(R,!0);)V=V.find(0,!0),R=V.from.line,p+=V.from.ch-V.to.ch;for(R=b;V=cb(R,!1);)b=V.find(0,!0),p-=R.text.length-b.from.ch,R=b.to.line,p+=R.text.length-b.to.ch;return p}function pb(b){var p=
b.display;b=b.doc;p.maxLine=M(b,b.first);p.maxLineLength=Ya(p.maxLine);p.maxLineChanged=!0;b.iter(function(V){var R=Ya(V);R>p.maxLineLength&&(p.maxLineLength=R,p.maxLine=V)})}function Db(b,p){if(!b||/^\s*$/.test(b))return null;p=p.addModeClass?Li:Qj;return p[b]||(p[b]=b.replace(/\S+/g,"cm-$\x26"))}function Xb(b,p){var V=L("span",null,null,Wf?"padding-right: .1px":null);V={pre:L("pre",[V],"CodeMirror-line"),content:V,col:0,pos:0,cm:b,trailingSpace:!1,splitSpaces:b.getOption("lineWrapping")};p.measure=
{};for(var R=0;R<=(p.rest?p.rest.length:0);R++){var aa=R?p.rest[R-1]:p.line,Ca=void 0;V.pos=0;V.addToken=pc;var Qa=b.display.measure;if(null!=ji)Qa=ji;else{var Ua=w(Qa,document.createTextNode("AA")),rb=lh(Ua,0,1).getBoundingClientRect();Ua=lh(Ua,1,2).getBoundingClientRect();l(Qa);Qa=rb&&rb.left!=rb.right?ji=3>Ua.right-rb.right:!1}Qa&&(Ca=ja(aa,b.doc.direction))&&(V.addToken=ic(V.addToken,Ca));V.map=[];var Cb=p!=b.display.externalMeasured&&oa(aa);a:{var Ub=Ua=rb=Qa=void 0,Gc=void 0,nc=void 0,lc=void 0;
Ca=V;Cb=wc(b,aa,Cb);var dd=aa.markedSpans,Kd=aa.text,we=0;if(dd)for(var df=Kd.length,ke=0,rf=1,jf="",wf=0;;){if(wf==ke){Gc=Ub=Ua=nc="";rb=Qa=null;wf=Infinity;for(var Bf=[],Oe=void 0,xf=0;xf<dd.length;++xf){var lf=dd[xf],sf=lf.marker;if("bookmark"==sf.type&&lf.from==ke&&sf.widgetNode)Bf.push(sf);else if(lf.from<=ke&&(null==lf.to||lf.to>ke||sf.collapsed&&lf.to==ke&&lf.from==ke)){null!=lf.to&&lf.to!=ke&&wf>lf.to&&(wf=lf.to,Ub="");sf.className&&(Gc+=" "+sf.className);sf.css&&(nc=(nc?nc+";":"")+sf.css);
sf.startStyle&&lf.from==ke&&(Ua+=" "+sf.startStyle);sf.endStyle&&lf.to==wf&&(Oe||(Oe=[])).push(sf.endStyle,lf.to);sf.title&&((Qa||(Qa={})).title=sf.title);if(sf.attributes)for(var bg in sf.attributes)(Qa||(Qa={}))[bg]=sf.attributes[bg];sf.collapsed&&(!rb||0>Dd(rb.marker,sf))&&(rb=lf)}else lf.from>ke&&wf>lf.from&&(wf=lf.from)}if(Oe)for(xf=0;xf<Oe.length;xf+=2)Oe[xf+1]==wf&&(Ub+=" "+Oe[xf]);if(!rb||rb.from==ke)for(Oe=0;Oe<Bf.length;++Oe)ib(Ca,0,Bf[Oe]);if(rb&&(rb.from||0)==ke){ib(Ca,(null==rb.to?df+
1:rb.to)-ke,rb.marker,null==rb.from);if(null==rb.to)break a;rb.to==ke&&(rb=!1)}}if(ke>=df)break;for(Bf=Math.min(df,wf);;){if(jf){Oe=ke+jf.length;rb||(xf=Oe>Bf?jf.slice(0,Bf-ke):jf,Ca.addToken(Ca,xf,lc?lc+Gc:Gc,Ua,ke+xf.length==wf?Ub:"",nc,Qa));if(Oe>=Bf){jf=jf.slice(Bf-ke);ke=Bf;break}ke=Oe;Ua=""}jf=Kd.slice(we,we=Cb[rf++]);lc=Db(Cb[rf++],Ca.cm.options)}}else for(Qa=1;Qa<Cb.length;Qa+=2)Ca.addToken(Ca,Kd.slice(we,we=Cb[Qa]),Db(Cb[Qa+1],Ca.cm.options))}aa.styleClasses&&(aa.styleClasses.bgClass&&(V.bgClass=
k(aa.styleClasses.bgClass,V.bgClass||"")),aa.styleClasses.textClass&&(V.textClass=k(aa.styleClasses.textClass,V.textClass||"")));0==V.map.length&&V.map.push(0,0,V.content.appendChild(gb(b.display.measure)));0==R?(p.measure.map=V.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(V.map),(p.measure.caches||(p.measure.caches=[])).push({}))}Wf&&(bg=V.content.lastChild,/\bcm-tab\b/.test(bg.className)||bg.querySelector&&bg.querySelector(".cm-tab"))&&(V.content.className="cm-tab-wrap-hack");
da(b,"renderLine",b,p.line,V.pre);V.pre.className&&(V.textClass=k(V.pre.className,V.textClass||""));return V}function Gb(b){var p=G("span","","cm-invalidchar");p.title="\\u"+b.charCodeAt(0).toString(16);p.setAttribute("aria-label",p.title);return p}function pc(b,p,V,R,aa,Ca,Qa){if(p){if(b.splitSpaces){var Ua=b.trailingSpace;if(1<p.length&&!/  /.test(p))Ua=p;else{for(var rb="",Cb=0;Cb<p.length;Cb++){var Ub=p.charAt(Cb);" "!=Ub||!Ua||Cb!=p.length-1&&32!=p.charCodeAt(Cb+1)||(Ub="");rb+=Ub;Ua=" "==
Ub}Ua=rb}}else Ua=p;rb=Ua;Cb=b.cm.state.specialChars;Ub=!1;if(Cb.test(p)){Ua=document.createDocumentFragment();for(var Gc=0;;){Cb.lastIndex=Gc;var nc=Cb.exec(p),lc=nc?nc.index-Gc:p.length-Gc;if(lc){var dd=document.createTextNode(rb.slice(Gc,Gc+lc));af&&9>gf?Ua.appendChild(G("span",[dd])):Ua.appendChild(dd);b.map.push(b.pos,b.pos+lc,dd);b.col+=lc;b.pos+=lc}if(!nc)break;Gc+=lc+1;"\t"==nc[0]?(nc=b.cm.options.tabSize,nc-=b.col%nc,lc=Ua.appendChild(G("span",n(nc),"cm-tab")),lc.setAttribute("role","presentation"),
lc.setAttribute("cm-text","\t"),b.col+=nc):("\r"==nc[0]||"\n"==nc[0]?(lc=Ua.appendChild(G("span","\r"==nc[0]?"":"","cm-invalidchar")),lc.setAttribute("cm-text",nc[0])):(lc=b.cm.options.specialCharPlaceholder(nc[0]),lc.setAttribute("cm-text",nc[0]),af&&9>gf?Ua.appendChild(G("span",[lc])):Ua.appendChild(lc)),b.col+=1);b.map.push(b.pos,b.pos+1,lc);b.pos++}}else b.col+=p.length,Ua=document.createTextNode(rb),b.map.push(b.pos,b.pos+p.length,Ua),af&&9>gf&&(Ub=!0),b.pos+=p.length;b.trailingSpace=32==rb.charCodeAt(p.length-
1);if(V||R||aa||Ub||Ca||Qa){p=V||"";R&&(p+=R);aa&&(p+=aa);R=G("span",[Ua],p,Ca);if(Qa)for(var Kd in Qa)Qa.hasOwnProperty(Kd)&&"style"!=Kd&&"class"!=Kd&&R.setAttribute(Kd,Qa[Kd]);return b.content.appendChild(R)}b.content.appendChild(Ua)}}function ic(b,p){return function(V,R,aa,Ca,Qa,Ua,rb){aa=aa?aa+" cm-force-border":"cm-force-border";for(var Cb=V.pos,Ub=Cb+R.length;;){for(var Gc=void 0,nc=0;nc<p.length&&!(Gc=p[nc],Gc.to>Cb&&Gc.from<=Cb);nc++);if(Gc.to>=Ub)return b(V,R,aa,Ca,Qa,Ua,rb);b(V,R.slice(0,
Gc.to-Cb),aa,Ca,null,Ua,rb);Ca=null;R=R.slice(Gc.to-Cb);Cb=Gc.to}}}function ib(b,p,V,R){var aa=!R&&V.widgetNode;aa&&b.map.push(b.pos,b.pos+p,aa);!R&&b.cm.display.input.needsContentAttribute&&(aa||(aa=b.content.appendChild(document.createElement("span"))),aa.setAttribute("cm-marker",V.id));aa&&(b.cm.display.input.setUneditable(aa),b.content.appendChild(aa));b.pos+=p;b.trailingSpace=!1}function xb(b,p,V){for(var R=this.line=p,aa;R=cb(R,!1);)R=R.find(1,!0).line,(aa||(aa=[])).push(R);this.size=(this.rest=
aa)?oa(y(this.rest))-V+1:1;this.node=this.text=null;this.hidden=Pd(b,p)}function Nb(b,p,V){var R=[],aa;for(aa=p;aa<V;)p=new xb(b.doc,M(b.doc,aa),aa),aa+=p.size,R.push(p);return R}function cc(b,p){if(b=b.ownsGroup)try{var V=b.delayedCallbacks,R=0;do{for(;R<V.length;R++)V[R].call(null);for(var aa=0;aa<b.ops.length;aa++){var Ca=b.ops[aa];if(Ca.cursorActivityHandlers)for(;Ca.cursorActivityCalled<Ca.cursorActivityHandlers.length;)Ca.cursorActivityHandlers[Ca.cursorActivityCalled++].call(null,Ca.cm)}}while(R<
V.length)}finally{Xg=null,p(b)}}function qc(b,p){var V=b._handlers&&b._handlers[p]||oh;if(V.length){var R=Array.prototype.slice.call(arguments,2);if(Xg)var aa=Xg.delayedCallbacks;else rh?aa=rh:(aa=rh=[],setTimeout(oc,0));for(var Ca=function(Ua){aa.push(function(){return V[Ua].apply(null,R)})},Qa=0;Qa<V.length;++Qa)Ca(Qa)}}function oc(){var b=rh;rh=null;for(var p=0;p<b.length;++p)b[p]()}function Kc(b,p,V,R){for(var aa=0;aa<p.changes.length;aa++){var Ca=p.changes[aa];if("text"==Ca){Ca=b;var Qa=p,Ua=
Qa.text.className,rb=sc(Ca,Qa);Qa.text==Qa.node&&(Qa.node=rb.pre);Qa.text.parentNode.replaceChild(rb.pre,Qa.text);Qa.text=rb.pre;rb.bgClass!=Qa.bgClass||rb.textClass!=Qa.textClass?(Qa.bgClass=rb.bgClass,Qa.textClass=rb.textClass,zc(Ca,Qa)):Ua&&(Qa.text.className=Ua)}else if("gutter"==Ca)rc(b,p,V,R);else if("class"==Ca)zc(b,p);else if("widget"==Ca){Ca=b;Qa=p;Ua=R;Qa.alignable&&(Qa.alignable=null);rb=m("CodeMirror-linewidget");for(var Cb=Qa.node.firstChild,Ub;Cb;Cb=Ub)Ub=Cb.nextSibling,rb.test(Cb.className)&&
Qa.node.removeChild(Cb);Mc(Ca,Qa,Ua)}}p.changes=null}function Ib(b){b.node==b.text&&(b.node=G("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),af&&8>gf&&(b.node.style.zIndex=2));return b.node}function sc(b,p){var V=b.display.externalMeasured;return V&&V.line==p.line?(b.display.externalMeasured=null,p.measure=V.measure,V.built):Xb(b,p)}function zc(b,p){var V=p.bgClass?p.bgClass+" "+(p.line.bgClass||""):p.line.bgClass;
V&&(V+=" CodeMirror-linebackground");if(p.background)V?p.background.className=V:(p.background.parentNode.removeChild(p.background),p.background=null);else if(V){var R=Ib(p);p.background=R.insertBefore(G("div",null,V),R.firstChild);b.display.input.setUneditable(p.background)}p.line.wrapClass?Ib(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");p.text.className=(p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass)||""}function rc(b,p,V,R){p.gutter&&(p.node.removeChild(p.gutter),
p.gutter=null);p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null);if(p.line.gutterClass){var aa=Ib(p);p.gutterBackground=G("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(b.options.fixedGutter?R.fixedPos:-R.gutterTotalWidth)+"px; width: "+R.gutterTotalWidth+"px");b.display.input.setUneditable(p.gutterBackground);aa.insertBefore(p.gutterBackground,p.text)}aa=p.line.gutterMarkers;if(b.options.lineNumbers||aa){var Ca=Ib(p),Qa=p.gutter=G("div",
null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?R.fixedPos:-R.gutterTotalWidth)+"px");b.display.input.setUneditable(Qa);Ca.insertBefore(Qa,p.text);p.line.gutterClass&&(Qa.className+=" "+p.line.gutterClass);!b.options.lineNumbers||aa&&aa["CodeMirror-linenumbers"]||(p.lineNumber=Qa.appendChild(G("div",Ra(b.options,V),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+R.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));if(aa)for(p=0;p<b.display.gutterSpecs.length;++p)V=
b.display.gutterSpecs[p].className,(Ca=aa.hasOwnProperty(V)&&aa[V])&&Qa.appendChild(G("div",[Ca],"CodeMirror-gutter-elt","left: "+R.gutterLeft[V]+"px; width: "+R.gutterWidth[V]+"px"))}}function Jc(b,p,V,R){var aa=sc(b,p);p.text=p.node=aa.pre;aa.bgClass&&(p.bgClass=aa.bgClass);aa.textClass&&(p.textClass=aa.textClass);zc(b,p);rc(b,p,V,R);Mc(b,p,R);return p.node}function Mc(b,p,V){Nc(b,p.line,p,V,!0);if(p.rest)for(var R=0;R<p.rest.length;R++)Nc(b,p.rest[R],p,V,!1)}function Nc(b,p,V,R,aa){if(p.widgets){var Ca=
Ib(V),Qa=0;for(p=p.widgets;Qa<p.length;++Qa){var Ua=p[Qa],rb=G("div",[Ua.node],"CodeMirror-linewidget"+(Ua.className?" "+Ua.className:""));Ua.handleMouseEvents||rb.setAttribute("cm-ignore-events","true");var Cb=Ua,Ub=rb,Gc=R;if(Cb.noHScroll){(V.alignable||(V.alignable=[])).push(Ub);var nc=Gc.wrapperWidth;Ub.style.left=Gc.fixedPos+"px";Cb.coverGutter||(nc-=Gc.gutterTotalWidth,Ub.style.paddingLeft=Gc.gutterTotalWidth+"px");Ub.style.width=nc+"px"}Cb.coverGutter&&(Ub.style.zIndex=5,Ub.style.position=
"relative",Cb.noHScroll||(Ub.style.marginLeft=-Gc.gutterTotalWidth+"px"));b.display.input.setUneditable(rb);aa&&Ua.above?Ca.insertBefore(rb,V.gutter||V.text):Ca.appendChild(rb);qc(Ua,"redraw")}}}function md(b){if(null!=b.height)return b.height;var p=b.doc.cm;if(!p)return 0;if(!v(document.body,b.node)){var V="position: relative;";b.coverGutter&&(V+="margin-left: -"+p.display.gutters.offsetWidth+"px;");b.noHScroll&&(V+="width: "+p.display.wrapper.clientWidth+"px;");w(p.display.measure,G("div",[b.node],
null,V))}return b.height=b.node.parentNode.offsetHeight}function wd(b,p){for(p=p.target||p.srcElement;p!=b.wrapper;p=p.parentNode)if(!p||1==p.nodeType&&"true"==p.getAttribute("cm-ignore-events")||p.parentNode==b.sizer&&p!=b.mover)return!0}function Cd(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function Gd(b){if(b.cachedPaddingH)return b.cachedPaddingH;var p=w(b.measure,G("pre","x","CodeMirror-line-like"));p=window.getComputedStyle?window.getComputedStyle(p):p.currentStyle;p={left:parseInt(p.paddingLeft),
right:parseInt(p.paddingRight)};isNaN(p.left)||isNaN(p.right)||(b.cachedPaddingH=p);return p}function Sd(b){return 50-b.display.nativeBarWidth}function fe(b){return b.display.scroller.clientWidth-Sd(b)-b.display.barWidth}function ne(b){return b.display.scroller.clientHeight-Sd(b)-b.display.barHeight}function ze(b,p,V){if(b.line==p)return{map:b.measure.map,cache:b.measure.cache};for(var R=0;R<b.rest.length;R++)if(b.rest[R]==p)return{map:b.measure.maps[R],cache:b.measure.caches[R]};for(p=0;p<b.rest.length;p++)if(oa(b.rest[p])>
V)return{map:b.measure.maps[p],cache:b.measure.caches[p],before:!0}}function Ae(b,p){if(p>=b.display.viewFrom&&p<b.display.viewTo)return b.display.view[sa(b,p)];if((b=b.display.externalMeasured)&&p>=b.lineN&&p<b.lineN+b.size)return b}function De(b,p){var V=oa(p),R=Ae(b,V);R&&!R.text?R=null:R&&R.changes&&(Kc(b,R,V,Pe(b)),b.curOp.forceUpdate=!0);if(!R){var aa=Sb(p);R=oa(aa);aa=b.display.externalMeasured=new xb(b.doc,aa,R);aa.lineN=R;R=aa.built=Xb(b,aa);aa.text=R.pre;w(b.display.lineMeasure,R.pre);R=
aa}b=ze(R,p,V);return{line:p,view:R,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Fd(b,p,V,R,aa){p.before&&(V=-1);var Ca=V+(R||"");if(p.cache.hasOwnProperty(Ca))b=p.cache[Ca];else{p.rect||(p.rect=p.view.text.getBoundingClientRect());if(!p.hasHeights){var Qa=p.view,Ua=p.rect,rb=b.options.lineWrapping,Cb=rb&&fe(b);if(!Qa.measure.heights||rb&&Qa.measure.width!=Cb){var Ub=Qa.measure.heights=[];if(rb)for(Qa.measure.width=Cb,Qa=Qa.text.firstChild.getClientRects(),rb=0;rb<Qa.length-
1;rb++){Cb=Qa[rb];var Gc=Qa[rb+1];2<Math.abs(Cb.bottom-Gc.bottom)&&Ub.push((Cb.bottom+Gc.top)/2-Ua.top)}Ub.push(Ua.bottom-Ua.top)}p.hasHeights=!0}Ub=R;Qa=Zd(p.map,V,Ub);R=Qa.node;Ua=Qa.start;rb=Qa.end;V=Qa.collapse;if(3==R.nodeType){for(var nc=0;4>nc;nc++){for(;Ua&&H(p.line.text.charAt(Qa.coverStart+Ua));)--Ua;for(;Qa.coverStart+rb<Qa.coverEnd&&H(p.line.text.charAt(Qa.coverStart+rb));)++rb;if(af&&9>gf&&0==Ua&&rb==Qa.coverEnd-Qa.coverStart)var lc=R.parentNode.getBoundingClientRect();else{lc=lh(R,Ua,
rb).getClientRects();rb=Mi;if("left"==Ub)for(Cb=0;Cb<lc.length&&(rb=lc[Cb]).left==rb.right;Cb++);else for(Cb=lc.length-1;0<=Cb&&(rb=lc[Cb]).left==rb.right;Cb--);lc=rb}if(lc.left||lc.right||0==Ua)break;rb=Ua;--Ua;V="right"}af&&11>gf&&((nc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Ii?nc=Ii:(Ub=w(b.display.measure,G("span","x")),nc=Ub.getBoundingClientRect(),Ub=lh(Ub,0,1).getBoundingClientRect(),nc=Ii=1<Math.abs(nc.left-Ub.left)),nc=!nc),nc||(nc=screen.logicalXDPI/
screen.deviceXDPI,Ub=screen.logicalYDPI/screen.deviceYDPI,lc={left:lc.left*nc,right:lc.right*nc,top:lc.top*Ub,bottom:lc.bottom*Ub}))}else 0<Ua&&(V=Ub="right"),lc=b.options.lineWrapping&&1<(nc=R.getClientRects()).length?nc["right"==Ub?nc.length-1:0]:R.getBoundingClientRect();!(af&&9>gf)||Ua||lc&&(lc.left||lc.right)||(lc=(lc=R.parentNode.getClientRects()[0])?{left:lc.left,right:lc.left+he(b.display),top:lc.top,bottom:lc.bottom}:Mi);R=lc.top-p.rect.top;Ua=lc.bottom-p.rect.top;nc=(R+Ua)/2;Ub=p.view.measure.heights;
for(Qa=0;Qa<Ub.length-1&&!(nc<Ub[Qa]);Qa++);V={left:("right"==V?lc.right:lc.left)-p.rect.left,right:("left"==V?lc.left:lc.right)-p.rect.left,top:Qa?Ub[Qa-1]:0,bottom:Ub[Qa]};lc.left||lc.right||(V.bogus=!0);b.options.singleCursorHeightPerLine||(V.rtop=R,V.rbottom=Ua);b=V;b.bogus||(p.cache[Ca]=b)}return{left:b.left,right:b.right,top:aa?b.rtop:b.top,bottom:aa?b.rbottom:b.bottom}}function Zd(b,p,V){for(var R,aa,Ca,Qa,Ua,rb,Cb=0;Cb<b.length;Cb+=3){Ua=b[Cb];rb=b[Cb+1];if(p<Ua)aa=0,Ca=1,Qa="left";else if(p<
rb)aa=p-Ua,Ca=aa+1;else if(Cb==b.length-3||p==rb&&b[Cb+3]>p)Ca=rb-Ua,aa=Ca-1,p>=rb&&(Qa="right");if(null!=aa){R=b[Cb+2];Ua==rb&&V==(R.insertLeft?"left":"right")&&(Qa=V);if("left"==V&&0==aa)for(;Cb&&b[Cb-2]==b[Cb-3]&&b[Cb-1].insertLeft;)R=b[(Cb-=3)+2],Qa="left";if("right"==V&&aa==rb-Ua)for(;Cb<b.length-3&&b[Cb+3]==b[Cb+4]&&!b[Cb+5].insertLeft;)R=b[(Cb+=3)+2],Qa="right";break}}return{node:R,start:aa,end:Ca,collapse:Qa,coverStart:Ua,coverEnd:rb}}function Ke(b){if(b.measure&&(b.measure.cache={},b.measure.heights=
null,b.rest))for(var p=0;p<b.rest.length;p++)b.measure.caches[p]={}}function Be(b){b.display.externalMeasure=null;l(b.display.lineMeasure);for(var p=0;p<b.display.view.length;p++)Ke(b.display.view[p])}function tf(b){Be(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function Td(){return Kg&&jh?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):
window.pageXOffset||(document.documentElement||document.body).scrollLeft}function be(){return Kg&&jh?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Le(b){var p=0;if(b.widgets)for(var V=0;V<b.widgets.length;++V)b.widgets[V].above&&(p+=md(b.widgets[V]));return p}function ce(b,p,V,R,aa){aa||(aa=Le(p),V.top+=aa,V.bottom+=aa);if("line"==R)return V;R||(R="local");p=Ha(p);p=
"local"==R?p+b.display.lineSpace.offsetTop:p-b.display.viewOffset;if("page"==R||"window"==R)b=b.display.lineSpace.getBoundingClientRect(),p+=b.top+("window"==R?0:be()),R=b.left+("window"==R?0:Td()),V.left+=R,V.right+=R;V.top+=p;V.bottom+=p;return V}function yd(b,p,V){if("div"==V)return p;var R=p.left;p=p.top;"page"==V?(R-=Td(),p-=be()):"local"!=V&&V||(V=b.display.sizer.getBoundingClientRect(),R+=V.left,p+=V.top);b=b.display.lineSpace.getBoundingClientRect();return{left:R-b.left,top:p-b.top}}function Ad(b,
p,V,R,aa){R||(R=M(b.doc,p.line));var Ca=R;p=p.ch;R=Fd(b,De(b,R),p,aa);return ce(b,Ca,R,V)}function Yd(b,p,V,R,aa,Ca){function Qa(nc,lc){nc=Fd(b,aa,nc,lc?"right":"left",Ca);lc?nc.left=nc.right:nc.right=nc.left;return ce(b,R,nc,V)}function Ua(nc,lc,dd){return Qa(dd?nc-1:nc,1==rb[lc].level!=dd)}R=R||M(b.doc,p.line);aa||(aa=De(b,R));var rb=ja(R,b.doc.direction),Cb=p.ch;p=p.sticky;Cb>=R.text.length?(Cb=R.text.length,p="before"):0>=Cb&&(Cb=0,p="after");if(!rb)return Qa("before"==p?Cb-1:Cb,"before"==p);
var Ub=fa(rb,Cb,p),Gc=ph;Ub=Ua(Cb,Ub,"before"==p);null!=Gc&&(Ub.other=Ua(Cb,Gc,"before"!=p));return Ub}function ef(b,p){var V=0;p=ub(b.doc,p);b.options.lineWrapping||(V=he(b.display)*p.ch);p=M(b.doc,p.line);b=Ha(p)+b.display.lineSpace.offsetTop;return{left:V,right:V,top:b,bottom:b+p.height}}function qe(b,p,V,R,aa){b=Ma(b,p,V);b.xRel=aa;R&&(b.outside=R);return b}function Ed(b,p,V){var R=b.doc;V+=b.display.viewOffset;if(0>V)return qe(R.first,0,null,-1,-1);var aa=ba(R,V),Ca=R.first+R.size-1;if(aa>Ca)return qe(R.first+
R.size-1,M(R,Ca).text.length,null,1,1);0>p&&(p=0);for(var Qa=M(R,aa);;){Ca=Fe(b,Qa,aa,p,V);var Ua=void 0;var rb=Ca.ch+(0<Ca.xRel||0<Ca.outside?1:0);if(Qa=Hg&&Qa.markedSpans)for(var Cb=0;Cb<Qa.length;++Cb){var Ub=Qa[Cb];Ub.marker.collapsed&&(null==Ub.from||Ub.from<rb)&&(null==Ub.to||Ub.to>rb)&&(!Ua||0>Dd(Ua,Ub.marker))&&(Ua=Ub.marker)}if(!Ua)return Ca;Ca=Ua.find(1);if(Ca.line==aa)return Ca;Qa=M(R,aa=Ca.line)}}function Ie(b,p,V,R){R-=Le(p);p=p.text.length;var aa=U(function(Ca){return Fd(b,V,Ca-1).bottom<=
R},p,0);p=U(function(Ca){return Fd(b,V,Ca).top>R},aa,p);return{begin:aa,end:p}}function nf(b,p,V,R){V||(V=De(b,p));R=ce(b,p,Fd(b,V,R),"line").top;return Ie(b,p,V,R)}function xc(b,p,V,R){return b.bottom<=V?!1:b.top>V?!0:(R?b.left:b.right)>p}function Fe(b,p,V,R,aa){aa-=Ha(p);var Ca=De(b,p),Qa=Le(p),Ua=0,rb=p.text.length,Cb=!0,Ub=ja(p,b.doc.direction);Ub&&(Ub=(b.options.lineWrapping?Zb:ge)(b,p,V,Ca,Ub,R,aa),Ua=(Cb=1!=Ub.level)?Ub.from:Ub.to-1,rb=Cb?Ub.to:Ub.from-1);var Gc=null,nc=null;Ub=U(function(dd){var Kd=
Fd(b,Ca,dd);Kd.top+=Qa;Kd.bottom+=Qa;if(!xc(Kd,R,aa,!1))return!1;Kd.top<=aa&&Kd.left<=R&&(Gc=dd,nc=Kd);return!0},Ua,rb);var lc=!1;nc?(Ua=R-nc.left<nc.right-R,Cb=Ua==Cb,Ub=Gc+(Cb?0:1),Cb=Cb?"after":"before",Ua=Ua?nc.left:nc.right):(Cb||Ub!=rb&&Ub!=Ua||Ub++,Cb=0==Ub?"after":Ub==p.text.length?"before":Fd(b,Ca,Ub-(Cb?1:0)).bottom+Qa<=aa==Cb?"after":"before",lc=Yd(b,Ma(V,Ub,Cb),"line",p,Ca),Ua=lc.left,lc=aa<lc.top?-1:aa>=lc.bottom?1:0);Ub=S(p.text,Ub,1);return qe(V,Ub,Cb,lc,R-Ua)}function ge(b,p,V,R,aa,
Ca,Qa){var Ua=U(function(Ub){Ub=aa[Ub];var Gc=1!=Ub.level;return xc(Yd(b,Ma(V,Gc?Ub.to:Ub.from,Gc?"before":"after"),"line",p,R),Ca,Qa,!0)},0,aa.length-1),rb=aa[Ua];if(0<Ua){var Cb=1!=rb.level;Cb=Yd(b,Ma(V,Cb?rb.from:rb.to,Cb?"after":"before"),"line",p,R);xc(Cb,Ca,Qa,!0)&&Cb.top>Qa&&(rb=aa[Ua-1])}return rb}function Zb(b,p,V,R,aa,Ca,Qa){Qa=Ie(b,p,R,Qa);V=Qa.begin;Qa=Qa.end;/\s/.test(p.text.charAt(Qa-1))&&Qa--;for(var Ua=p=null,rb=0;rb<aa.length;rb++){var Cb=aa[rb];if(!(Cb.from>=Qa||Cb.to<=V)){var Ub=
Fd(b,R,1!=Cb.level?Math.min(Qa,Cb.to)-1:Math.max(V,Cb.from)).right;Ub=Ub<Ca?Ca-Ub+1E9:Ub-Ca;if(!p||Ua>Ub)p=Cb,Ua=Ub}}p||(p=aa[aa.length-1]);p.from<V&&(p={from:V,to:p.to,level:p.level});p.to>Qa&&(p={from:p.from,to:Qa,level:p.level});return p}function Je(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==sg){sg=G("pre",null,"CodeMirror-line-like");for(var p=0;49>p;++p)sg.appendChild(document.createTextNode("x")),sg.appendChild(G("br"));sg.appendChild(document.createTextNode("x"))}w(b.measure,
sg);p=sg.offsetHeight/50;3<p&&(b.cachedTextHeight=p);l(b.measure);return p||1}function he(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var p=G("span","xxxxxxxxxx"),V=G("pre",[p],"CodeMirror-line-like");w(b.measure,V);p=p.getBoundingClientRect();p=(p.right-p.left)/10;2<p&&(b.cachedCharWidth=p);return p||10}function Pe(b){for(var p=b.display,V={},R={},aa=p.gutters.clientLeft,Ca=p.gutters.firstChild,Qa=0;Ca;Ca=Ca.nextSibling,++Qa){var Ua=b.display.gutterSpecs[Qa].className;V[Ua]=Ca.offsetLeft+
Ca.clientLeft+aa;R[Ua]=Ca.clientWidth}return{fixedPos:cf(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:V,gutterWidth:R,wrapperWidth:p.wrapper.clientWidth}}function cf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function Ze(b){var p=Je(b.display),V=b.options.lineWrapping,R=V&&Math.max(5,b.display.scroller.clientWidth/he(b.display)-3);return function(aa){if(Pd(b.doc,aa))return 0;var Ca=0;if(aa.widgets)for(var Qa=0;Qa<aa.widgets.length;Qa++)aa.widgets[Qa].height&&
(Ca+=aa.widgets[Qa].height);return V?Ca+(Math.ceil(aa.text.length/R)||1)*p:Ca+p}}function vf(b){var p=b.doc,V=Ze(b);p.iter(function(R){var aa=V(R);aa!=R.height&&ea(R,aa)})}function Te(b,p,V,R){var aa=b.display;if(!V&&"true"==(p.target||p.srcElement).getAttribute("cm-not-content"))return null;V=aa.lineSpace.getBoundingClientRect();try{var Ca=p.clientX-V.left;var Qa=p.clientY-V.top}catch(rb){return null}p=Ed(b,Ca,Qa);var Ua;R&&0<p.xRel&&(Ua=M(b.doc,p.line).text).length==p.ch&&(R=g(Ua,Ua.length,b.options.tabSize)-
Ua.length,p=Ma(p.line,Math.max(0,Math.round((Ca-Gd(b.display).left)/he(b.display))-R)));return p}function sa(b,p){if(p>=b.display.viewTo)return null;p-=b.display.viewFrom;if(0>p)return null;b=b.display.view;for(var V=0;V<b.length;V++)if(p-=b[V].size,0>p)return V}function Aa(b,p,V,R){null==p&&(p=b.doc.first);null==V&&(V=b.doc.first+b.doc.size);R||(R=0);var aa=b.display;R&&V<aa.viewTo&&(null==aa.updateLineNumbers||aa.updateLineNumbers>p)&&(aa.updateLineNumbers=p);b.curOp.viewChanged=!0;if(p>=aa.viewTo)Hg&&
ld(b.doc,p)<aa.viewTo&&fb(b);else if(V<=aa.viewFrom)Hg&&xd(b.doc,V+R)>aa.viewFrom?fb(b):(aa.viewFrom+=R,aa.viewTo+=R);else if(p<=aa.viewFrom&&V>=aa.viewTo)fb(b);else if(p<=aa.viewFrom){var Ca=mb(b,V,V+R,1);Ca?(aa.view=aa.view.slice(Ca.index),aa.viewFrom=Ca.lineN,aa.viewTo+=R):fb(b)}else if(V>=aa.viewTo)(Ca=mb(b,p,p,-1))?(aa.view=aa.view.slice(0,Ca.index),aa.viewTo=Ca.lineN):fb(b);else{Ca=mb(b,p,p,-1);var Qa=mb(b,V,V+R,1);Ca&&Qa?(aa.view=aa.view.slice(0,Ca.index).concat(Nb(b,Ca.lineN,Qa.lineN)).concat(aa.view.slice(Qa.index)),
aa.viewTo+=R):fb(b)}if(b=aa.externalMeasured)V<b.lineN?b.lineN+=R:p<b.lineN+b.size&&(aa.externalMeasured=null)}function Xa(b,p,V){b.curOp.viewChanged=!0;var R=b.display,aa=b.display.externalMeasured;aa&&p>=aa.lineN&&p<aa.lineN+aa.size&&(R.externalMeasured=null);p<R.viewFrom||p>=R.viewTo||(b=R.view[sa(b,p)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,V)&&b.push(V)))}function fb(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function mb(b,p,V,R){var aa=
sa(b,p),Ca=b.display.view;if(!Hg||V==b.doc.first+b.doc.size)return{index:aa,lineN:V};for(var Qa=b.display.viewFrom,Ua=0;Ua<aa;Ua++)Qa+=Ca[Ua].size;if(Qa!=p){if(0<R){if(aa==Ca.length-1)return null;p=Qa+Ca[aa].size-p;aa++}else p=Qa-p;V+=p}for(;ld(b.doc,V)!=V;){if(aa==(0>R?0:Ca.length-1))return null;V+=R*Ca[aa-(0>R?1:0)].size;aa+=R}return{index:aa,lineN:V}}function Wb(b){b=b.display.view;for(var p=0,V=0;V<b.length;V++){var R=b[V];R.hidden||R.node&&!R.changes||++p}return p}function jc(b){b.display.input.showSelection(b.display.input.prepareSelection())}
function Ec(b,p){void 0===p&&(p=!0);for(var V=b.doc,R={},aa=R.cursors=document.createDocumentFragment(),Ca=R.selection=document.createDocumentFragment(),Qa=0;Qa<V.sel.ranges.length;Qa++)if(p||Qa!=V.sel.primIndex){var Ua=V.sel.ranges[Qa];if(!(Ua.from().line>=b.display.viewTo||Ua.to().line<b.display.viewFrom)){var rb=Ua.empty();(rb||b.options.showCursorWhenSelecting)&&tc(b,Ua.head,aa);rb||ed(b,Ua,Ca)}}return R}function tc(b,p,V){p=Yd(b,p,"div",null,null,!b.options.singleCursorHeightPerLine);var R=V.appendChild(G("div",
"","CodeMirror-cursor"));R.style.left=p.left+"px";R.style.top=p.top+"px";R.style.height=Math.max(0,p.bottom-p.top)*b.options.cursorHeight+"px";p.other&&(b=V.appendChild(G("div","","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=p.other.left+"px",b.style.top=p.other.top+"px",b.style.height=.85*(p.other.bottom-p.other.top)+"px")}function Fc(b,p){return b.top-p.top||b.left-p.left}function ed(b,p,V){function R(lc,dd,Kd,we){0>dd&&(dd=0);dd=Math.round(dd);we=Math.round(we);
Ua.appendChild(G("div",null,"CodeMirror-selected","position: absolute; left: "+lc+"px;\n                             top: "+dd+"px; width: "+(null==Kd?Ub-lc:Kd)+"px;\n                             height: "+(we-dd)+"px"))}function aa(lc,dd,Kd){function we(Oe,xf){return Ad(b,Ma(lc,Oe),"div",ke,xf)}function df(Oe,xf,lf){Oe=nf(b,ke,null,Oe);xf="ltr"==xf==("after"==lf)?"left":"right";lf="after"==lf?Oe.begin:Oe.end-(/\s/.test(ke.text.charAt(Oe.end-1))?2:1);return we(lf,xf)[xf]}var ke=M(Qa,lc),rf=ke.text.length,
jf,wf,Bf=ja(ke,Qa.direction);ia(Bf,dd||0,null==Kd?rf:Kd,function(Oe,xf,lf,sf){var bg="ltr"==lf,fg=we(Oe,bg?"left":"right"),lg=we(xf-1,bg?"right":"left"),Pg=null==dd&&0==Oe,Yg=null==Kd&&xf==rf,pi=0==sf;sf=!Bf||sf==Bf.length-1;3>=lg.top-fg.top?(xf=(Gc?Pg:Yg)&&pi?Cb:(bg?fg:lg).left,R(xf,fg.top,((Gc?Yg:Pg)&&sf?Ub:(bg?lg:fg).right)-xf,fg.bottom)):(bg?(bg=Gc&&Pg&&pi?Cb:fg.left,Pg=Gc?Ub:df(Oe,lf,"before"),Oe=Gc?Cb:df(xf,lf,"after"),Yg=Gc&&Yg&&sf?Ub:lg.right):(bg=Gc?df(Oe,lf,"before"):Cb,Pg=!Gc&&Pg&&pi?Ub:
fg.right,Oe=!Gc&&Yg&&sf?Cb:lg.left,Yg=Gc?df(xf,lf,"after"):Ub),R(bg,fg.top,Pg-bg,fg.bottom),fg.bottom<lg.top&&R(Cb,fg.bottom,null,lg.top),R(Oe,lg.top,Yg-Oe,lg.bottom));if(!jf||0>Fc(fg,jf))jf=fg;0>Fc(lg,jf)&&(jf=lg);if(!wf||0>Fc(fg,wf))wf=fg;0>Fc(lg,wf)&&(wf=lg)});return{start:jf,end:wf}}var Ca=b.display,Qa=b.doc,Ua=document.createDocumentFragment(),rb=Gd(b.display),Cb=rb.left,Ub=Math.max(Ca.sizerWidth,fe(b)-Ca.sizer.offsetLeft)-rb.right,Gc="ltr"==Qa.direction;Ca=p.from();p=p.to();if(Ca.line==p.line)aa(Ca.line,
Ca.ch,p.ch);else{var nc=M(Qa,Ca.line);rb=M(Qa,p.line);rb=Sb(nc)==Sb(rb);Ca=aa(Ca.line,Ca.ch,rb?nc.text.length+1:null).end;p=aa(p.line,rb?0:null,p.ch).start;rb&&(Ca.top<p.top-2?(R(Ca.right,Ca.top,null,Ca.bottom),R(Cb,p.top,p.left,p.bottom)):R(Ca.right,Ca.top,p.left-Ca.right,Ca.bottom));Ca.bottom<p.top&&R(Cb,Ca.bottom,null,p.top)}V.appendChild(Ua)}function fd(b){if(b.state.focused){var p=b.display;clearInterval(p.blinker);var V=!0;p.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?p.blinker=
setInterval(function(){b.hasFocus()||Zc(b);p.cursorDiv.style.visibility=(V=!V)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(p.cursorDiv.style.visibility="hidden")}}function ie(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||sd(b))}function zd(b){b.state.delayingBlurEvent=!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&Zc(b))},100)}function sd(b,p){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=
!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(da(b,"focus",b,p),b.state.focused=!0,t(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Wf&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),fd(b))}function Zc(b,p){b.state.delayingBlurEvent||(b.state.focused&&(da(b,"blur",b,p),b.state.focused=!1,ug(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||
(b.display.shift=!1)},150))}function Md(b){for(var p=b.display,V=p.lineDiv.offsetTop,R=0;R<p.view.length;R++){var aa=p.view[R],Ca=b.options.lineWrapping,Qa=0;if(!aa.hidden){if(af&&8>gf){Ca=aa.node.offsetTop+aa.node.offsetHeight;var Ua=Ca-V;V=Ca}else{var rb=aa.node.getBoundingClientRect();Ua=rb.bottom-rb.top;!Ca&&aa.text.firstChild&&(Qa=aa.text.firstChild.getBoundingClientRect().right-rb.left-1)}Ca=aa.line.height-Ua;if(.005<Ca||-.005>Ca)if(ea(aa.line,Ua),Id(aa.line),aa.rest)for(Ua=0;Ua<aa.rest.length;Ua++)Id(aa.rest[Ua]);
Qa>b.display.sizerWidth&&(Qa=Math.ceil(Qa/he(b.display)),Qa>b.display.maxLineLength&&(b.display.maxLineLength=Qa,b.display.maxLine=aa.line,b.display.maxLineChanged=!0))}}}function Id(b){if(b.widgets)for(var p=0;p<b.widgets.length;++p){var V=b.widgets[p],R=V.node.parentNode;R&&(V.height=R.offsetHeight)}}function Ue(b,p,V){var R=V&&null!=V.top?Math.max(0,V.top):b.scroller.scrollTop;R=Math.floor(R-b.lineSpace.offsetTop);var aa=V&&null!=V.bottom?V.bottom:R+b.wrapper.clientHeight;R=ba(p,R);aa=ba(p,aa);
if(V&&V.ensure){var Ca=V.ensure.from.line;V=V.ensure.to.line;Ca<R?(R=Ca,aa=ba(p,Ha(M(p,Ca))+b.wrapper.clientHeight)):Math.min(V,p.lastLine())>=aa&&(R=ba(p,Ha(M(p,V))-b.wrapper.clientHeight),aa=V)}return{from:R,to:Math.max(aa,R+1)}}function zf(b,p){var V=b.display,R=Je(b.display);0>p.top&&(p.top=0);var aa=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:V.scroller.scrollTop,Ca=ne(b),Qa={};p.bottom-p.top>Ca&&(p.bottom=p.top+Ca);var Ua=b.doc.height+Cd(V),rb=p.top<R;R=p.bottom>Ua-R;p.top<aa?Qa.scrollTop=
rb?0:p.top:p.bottom>aa+Ca&&(Ca=Math.min(p.top,(R?Ua:p.bottom)-Ca),Ca!=aa&&(Qa.scrollTop=Ca));aa=b.options.fixedGutter?0:V.gutters.offsetWidth;Ca=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:V.scroller.scrollLeft-aa;b=fe(b)-V.gutters.offsetWidth;if(V=p.right-p.left>b)p.right=p.left+b;10>p.left?Qa.scrollLeft=0:p.left<Ca?Qa.scrollLeft=Math.max(0,p.left+aa-(V?0:10)):p.right>b+Ca-3&&(Qa.scrollLeft=p.right+(V?0:10)-b);return Qa}function Wc(b,p){null!=p&&(Ee(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?
b.doc.scrollTop:b.curOp.scrollTop)+p)}function xe(b){Ee(b);var p=b.getCursor();b.curOp.scrollToPos={from:p,to:p,margin:b.options.cursorScrollMargin}}function Me(b,p,V){null==p&&null==V||Ee(b);null!=p&&(b.curOp.scrollLeft=p);null!=V&&(b.curOp.scrollTop=V)}function Ee(b){var p=b.curOp.scrollToPos;if(p){b.curOp.scrollToPos=null;var V=ef(b,p.from),R=ef(b,p.to);Ef(b,V,R,p.margin)}}function Ef(b,p,V,R){p=zf(b,{left:Math.min(p.left,V.left),top:Math.min(p.top,V.top)-R,right:Math.max(p.right,V.right),bottom:Math.max(p.bottom,
V.bottom)+R});Me(b,p.scrollLeft,p.scrollTop)}function yf(b,p){2>Math.abs(b.doc.scrollTop-p)||(Yf||Ge(b,{top:p}),re(b,p,!0),Yf&&Ge(b),od(b,100))}function re(b,p,V){p=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,p));if(b.display.scroller.scrollTop!=p||V)b.doc.scrollTop=p,b.display.scrollbars.setScrollTop(p),b.display.scroller.scrollTop!=p&&(b.display.scroller.scrollTop=p)}function Qe(b,p,V,R){p=Math.max(0,Math.min(p,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));
(V?p==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-p))&&!R||(b.doc.scrollLeft=p,oe(b),b.display.scroller.scrollLeft!=p&&(b.display.scroller.scrollLeft=p),b.display.scrollbars.setScrollLeft(p))}function va(b){var p=b.display,V=p.gutters.offsetWidth,R=Math.round(b.doc.height+Cd(b.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:b.options.fixedGutter?V:
0,docHeight:R,scrollHeight:R+Sd(b)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:V}}function Ka(b,p){p||(p=va(b));var V=b.display.barWidth,R=b.display.barHeight;sb(b,p);for(p=0;4>p&&V!=b.display.barWidth||R!=b.display.barHeight;p++)V!=b.display.barWidth&&b.options.lineWrapping&&Md(b),sb(b,va(b)),V=b.display.barWidth,R=b.display.barHeight}function sb(b,p){var V=b.display,R=V.scrollbars.update(p);V.sizer.style.paddingRight=(V.barWidth=R.right)+"px";V.sizer.style.paddingBottom=(V.barHeight=
R.bottom)+"px";V.heightForcer.style.borderBottom=R.bottom+"px solid transparent";R.right&&R.bottom?(V.scrollbarFiller.style.display="block",V.scrollbarFiller.style.height=R.bottom+"px",V.scrollbarFiller.style.width=R.right+"px"):V.scrollbarFiller.style.display="";R.bottom&&b.options.coverGutterNextToScrollbar&&b.options.fixedGutter?(V.gutterFiller.style.display="block",V.gutterFiller.style.height=R.bottom+"px",V.gutterFiller.style.width=p.gutterWidth+"px"):V.gutterFiller.style.display=""}function Pb(b){b.display.scrollbars&&
(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&ug(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new Mh[b.options.scrollbarStyle](function(p){b.display.wrapper.insertBefore(p,b.display.scrollbarFiller);ve(p,"mousedown",function(){b.state.focused&&setTimeout(function(){return b.display.input.focus()},0)});p.setAttribute("cm-not-content","true")},function(p,V){"horizontal"==V?Qe(b,p):yf(b,p)},b);b.display.scrollbars.addClass&&t(b.display.wrapper,b.display.scrollbars.addClass)}
function Mb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Rj};b=b.curOp;Xg?Xg.ops.push(b):b.ownsGroup=Xg={ops:[b],delayedCallbacks:[]}}function Yb(b){(b=b.curOp)&&cc(b,function(p){for(var V=0;V<p.ops.length;V++)p.ops[V].cm.curOp=null;p=p.ops;for(V=0;V<p.length;V++){var R=p[V],aa=R.cm,
Ca=aa.display,Qa=aa.display;!Qa.scrollbarsClipped&&Qa.scroller.offsetWidth&&(Qa.nativeBarWidth=Qa.scroller.offsetWidth-Qa.scroller.clientWidth,Qa.heightForcer.style.height=Sd(aa)+"px",Qa.sizer.style.marginBottom=-Qa.nativeBarWidth+"px",Qa.sizer.style.borderRightWidth=Sd(aa)+"px",Qa.scrollbarsClipped=!0);R.updateMaxLine&&pb(aa);R.mustUpdate=R.viewChanged||R.forceUpdate||null!=R.scrollTop||R.scrollToPos&&(R.scrollToPos.from.line<Ca.viewFrom||R.scrollToPos.to.line>=Ca.viewTo)||Ca.maxLineChanged&&aa.options.lineWrapping;
R.update=R.mustUpdate&&new Oh(aa,R.mustUpdate&&{top:R.scrollTop,ensure:R.scrollToPos},R.forceUpdate)}for(V=0;V<p.length;V++)R=p[V],R.updatedDisplay=R.mustUpdate&&Wd(R.cm,R.update);for(V=0;V<p.length;V++)if(R=p[V],aa=R.cm,Ca=aa.display,R.updatedDisplay&&Md(aa),R.barMeasure=va(aa),Ca.maxLineChanged&&!aa.options.lineWrapping&&(Qa=Ca.maxLine.text.length,Qa=Fd(aa,De(aa,Ca.maxLine),Qa,void 0),R.adjustWidthTo=Qa.left+3,aa.display.sizerWidth=R.adjustWidthTo,R.barMeasure.scrollWidth=Math.max(Ca.scroller.clientWidth,
Ca.sizer.offsetLeft+R.adjustWidthTo+Sd(aa)+aa.display.barWidth),R.maxScrollLeft=Math.max(0,Ca.sizer.offsetLeft+R.adjustWidthTo-fe(aa))),R.updatedDisplay||R.selectionChanged)R.preparedSelection=Ca.input.prepareSelection();for(V=0;V<p.length;V++)R=p[V],aa=R.cm,null!=R.adjustWidthTo&&(aa.display.sizer.style.minWidth=R.adjustWidthTo+"px",R.maxScrollLeft<aa.doc.scrollLeft&&Qe(aa,Math.min(aa.display.scroller.scrollLeft,R.maxScrollLeft),!0),aa.display.maxLineChanged=!1),Ca=R.focus&&R.focus==u(),R.preparedSelection&&
aa.display.input.showSelection(R.preparedSelection,Ca),(R.updatedDisplay||R.startHeight!=aa.doc.height)&&Ka(aa,R.barMeasure),R.updatedDisplay&&$d(aa,R.barMeasure),R.selectionChanged&&fd(aa),aa.state.focused&&R.updateInput&&aa.display.input.reset(R.typing),Ca&&ie(R.cm);for(V=0;V<p.length;V++){var Ua=void 0;R=p[V];aa=R.cm;Ca=aa.display;Qa=aa.doc;R.updatedDisplay&&rd(aa,R.update);null==Ca.wheelStartX||null==R.scrollTop&&null==R.scrollLeft&&!R.scrollToPos||(Ca.wheelStartX=Ca.wheelStartY=null);null!=R.scrollTop&&
re(aa,R.scrollTop,R.forceScroll);null!=R.scrollLeft&&Qe(aa,R.scrollLeft,!0,!0);if(R.scrollToPos){var rb=ub(Qa,R.scrollToPos.from);var Cb=ub(Qa,R.scrollToPos.to);var Ub=R.scrollToPos.margin;null==Ub&&(Ub=0);aa.options.lineWrapping||rb!=Cb||(rb=rb.ch?Ma(rb.line,"before"==rb.sticky?rb.ch-1:rb.ch,"after"):rb,Cb="before"==rb.sticky?Ma(rb.line,rb.ch+1,"before"):rb);for(var Gc=0;5>Gc;Gc++){var nc=!1;Ua=Yd(aa,rb);var lc=Cb&&Cb!=rb?Yd(aa,Cb):Ua;Ua={left:Math.min(Ua.left,lc.left),top:Math.min(Ua.top,lc.top)-
Ub,right:Math.max(Ua.left,lc.left),bottom:Math.max(Ua.bottom,lc.bottom)+Ub};lc=zf(aa,Ua);var dd=aa.doc.scrollTop,Kd=aa.doc.scrollLeft;null!=lc.scrollTop&&(yf(aa,lc.scrollTop),1<Math.abs(aa.doc.scrollTop-dd)&&(nc=!0));null!=lc.scrollLeft&&(Qe(aa,lc.scrollLeft),1<Math.abs(aa.doc.scrollLeft-Kd)&&(nc=!0));if(!nc)break}Cb=Ua;O(aa,"scrollCursorIntoView")||(Ub=aa.display,Gc=Ub.sizer.getBoundingClientRect(),rb=null,0>Cb.top+Gc.top?rb=!0:Cb.bottom+Gc.top>(window.innerHeight||document.documentElement.clientHeight)&&
(rb=!1),null==rb||Ei||(Cb=G("div","",null,"position: absolute;\n                         top: "+(Cb.top-Ub.viewOffset-aa.display.lineSpace.offsetTop)+"px;\n                         height: "+(Cb.bottom-Cb.top+Sd(aa)+Ub.barHeight)+"px;\n                         left: "+Cb.left+"px; width: "+Math.max(2,Cb.right-Cb.left)+"px;"),aa.display.lineSpace.appendChild(Cb),Cb.scrollIntoView(rb),aa.display.lineSpace.removeChild(Cb)))}Cb=R.maybeHiddenMarkers;rb=R.maybeUnhiddenMarkers;if(Cb)for(Ub=0;Ub<Cb.length;++Ub)Cb[Ub].lines.length||
da(Cb[Ub],"hide");if(rb)for(Cb=0;Cb<rb.length;++Cb)rb[Cb].lines.length&&da(rb[Cb],"unhide");Ca.wrapper.offsetHeight&&(Qa.scrollTop=aa.display.scroller.scrollTop);R.changeObjs&&da(aa,"changes",aa,R.changeObjs);R.update&&R.update.finish()}})}function ec(b,p){if(b.curOp)return p();Mb(b);try{return p()}finally{Yb(b)}}function Tc(b,p){return function(){if(b.curOp)return p.apply(b,arguments);Mb(b);try{return p.apply(b,arguments)}finally{Yb(b)}}}function Ic(b){return function(){if(this.curOp)return b.apply(this,
arguments);Mb(this);try{return b.apply(this,arguments)}finally{Yb(this)}}}function bd(b){return function(){var p=this.cm;if(!p||p.curOp)return b.apply(this,arguments);Mb(p);try{return b.apply(this,arguments)}finally{Yb(p)}}}function od(b,p){b.doc.highlightFrontier<b.display.viewTo&&b.state.highlight.set(p,f(Nd,b))}function Nd(b){var p=b.doc;if(!(p.highlightFrontier>=b.display.viewTo)){var V=+new Date+b.options.workTime,R=$c(b,p.highlightFrontier),aa=[];p.iter(R.line,Math.min(p.first+p.size,b.display.viewTo+
500),function(Ca){if(R.line>=b.display.viewFrom){var Qa=Ca.styles,Ua=Ca.text.length>b.options.maxHighlightLength?pa(p.mode,R.state):null,rb=bc(b,Ca,R,!0);Ua&&(R.state=Ua);Ca.styles=rb.styles;Ua=Ca.styleClasses;(rb=rb.classes)?Ca.styleClasses=rb:Ua&&(Ca.styleClasses=null);rb=!Qa||Qa.length!=Ca.styles.length||Ua!=rb&&(!Ua||!rb||Ua.bgClass!=rb.bgClass||Ua.textClass!=rb.textClass);for(Ua=0;!rb&&Ua<Qa.length;++Ua)rb=Qa[Ua]!=Ca.styles[Ua];rb&&aa.push(R.line);Ca.stateAfter=R.save()}else Ca.text.length<=
b.options.maxHighlightLength&&kc(b,Ca.text,R),Ca.stateAfter=0==R.line%5?R.save():null;R.nextLine();if(+new Date>V)return od(b,b.options.workDelay),!0});p.highlightFrontier=R.line;p.modeFrontier=Math.max(p.modeFrontier,R.line);aa.length&&ec(b,function(){for(var Ca=0;Ca<aa.length;Ca++)Xa(b,aa[Ca],"text")})}}function Wd(b,p){var V=b.display,R=b.doc;if(p.editorIsHidden)return fb(b),!1;if(!p.force&&p.visible.from>=V.viewFrom&&p.visible.to<=V.viewTo&&(null==V.updateLineNumbers||V.updateLineNumbers>=V.viewTo)&&
V.renderedView==V.view&&0==Wb(b))return!1;uf(b)&&(fb(b),p.dims=Pe(b));var aa=R.first+R.size,Ca=Math.max(p.visible.from-b.options.viewportMargin,R.first),Qa=Math.min(aa,p.visible.to+b.options.viewportMargin);V.viewFrom<Ca&&20>Ca-V.viewFrom&&(Ca=Math.max(R.first,V.viewFrom));V.viewTo>Qa&&20>V.viewTo-Qa&&(Qa=Math.min(aa,V.viewTo));Hg&&(Ca=ld(b.doc,Ca),Qa=xd(b.doc,Qa));R=Ca!=V.viewFrom||Qa!=V.viewTo||V.lastWrapHeight!=p.wrapperHeight||V.lastWrapWidth!=p.wrapperWidth;aa=b.display;0==aa.view.length||Ca>=
aa.viewTo||Qa<=aa.viewFrom?(aa.view=Nb(b,Ca,Qa),aa.viewFrom=Ca):(aa.viewFrom>Ca?aa.view=Nb(b,Ca,aa.viewFrom).concat(aa.view):aa.viewFrom<Ca&&(aa.view=aa.view.slice(sa(b,Ca))),aa.viewFrom=Ca,aa.viewTo<Qa?aa.view=aa.view.concat(Nb(b,aa.viewTo,Qa)):aa.viewTo>Qa&&(aa.view=aa.view.slice(0,sa(b,Qa))));aa.viewTo=Qa;V.viewOffset=Ha(M(b.doc,V.viewFrom));b.display.mover.style.top=V.viewOffset+"px";Qa=Wb(b);if(!R&&0==Qa&&!p.force&&V.renderedView==V.view&&(null==V.updateLineNumbers||V.updateLineNumbers>=V.viewTo))return!1;
b.hasFocus()?Ca=null:(Ca=u())&&v(b.display.lineDiv,Ca)?(Ca={activeElt:Ca},window.getSelection&&(aa=window.getSelection(),aa.anchorNode&&aa.extend&&v(b.display.lineDiv,aa.anchorNode)&&(Ca.anchorNode=aa.anchorNode,Ca.anchorOffset=aa.anchorOffset,Ca.focusNode=aa.focusNode,Ca.focusOffset=aa.focusOffset))):Ca=null;4<Qa&&(V.lineDiv.style.display="none");Hd(b,V.updateLineNumbers,p.dims);4<Qa&&(V.lineDiv.style.display="");V.renderedView=V.view;(Qa=Ca)&&Qa.activeElt&&Qa.activeElt!=u()&&(Qa.activeElt.focus(),
!/^(INPUT|TEXTAREA)$/.test(Qa.activeElt.nodeName)&&Qa.anchorNode&&v(document.body,Qa.anchorNode)&&v(document.body,Qa.focusNode)&&(Ca=window.getSelection(),aa=document.createRange(),aa.setEnd(Qa.anchorNode,Qa.anchorOffset),aa.collapse(!1),Ca.removeAllRanges(),Ca.addRange(aa),Ca.extend(Qa.focusNode,Qa.focusOffset)));l(V.cursorDiv);l(V.selectionDiv);V.gutters.style.height=V.sizer.style.minHeight=0;R&&(V.lastWrapHeight=p.wrapperHeight,V.lastWrapWidth=p.wrapperWidth,od(b,400));V.updateLineNumbers=null;
return!0}function rd(b,p){for(var V=p.viewport,R=!0;;R=!1){if(R&&b.options.lineWrapping&&p.oldDisplayWidth!=fe(b))R&&(p.visible=Ue(b.display,b.doc,V));else if(V&&null!=V.top&&(V={top:Math.min(b.doc.height+Cd(b.display)-ne(b),V.top)}),p.visible=Ue(b.display,b.doc,V),p.visible.from>=b.display.viewFrom&&p.visible.to<=b.display.viewTo)break;if(!Wd(b,p))break;Md(b);R=va(b);jc(b);Ka(b,R);$d(b,R);p.force=!1}p.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)p.signal(b,
"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Ge(b,p){p=new Oh(b,p);if(Wd(b,p)){Md(b);rd(b,p);var V=va(b);jc(b);Ka(b,V);$d(b,V);p.finish()}}function Hd(b,p,V){function R(nc){var lc=nc.nextSibling;Wf&&rg&&b.display.currentWheelTarget==nc?nc.style.display="none":nc.parentNode.removeChild(nc);return lc}var aa=b.display,Ca=b.options.lineNumbers,Qa=aa.lineDiv,Ua=Qa.firstChild,rb=aa.view;aa=aa.viewFrom;
for(var Cb=0;Cb<rb.length;Cb++){var Ub=rb[Cb];if(!Ub.hidden)if(Ub.node&&Ub.node.parentNode==Qa){for(;Ua!=Ub.node;)Ua=R(Ua);Ua=Ca&&null!=p&&p<=aa&&Ub.lineNumber;Ub.changes&&(-1<a(Ub.changes,"gutter")&&(Ua=!1),Kc(b,Ub,aa,V));Ua&&(l(Ub.lineNumber),Ub.lineNumber.appendChild(document.createTextNode(Ra(b.options,aa))));Ua=Ub.node.nextSibling}else{var Gc=Jc(b,Ub,aa,V);Qa.insertBefore(Gc,Ua)}aa+=Ub.size}for(;Ua;)Ua=R(Ua)}function se(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function $d(b,p){b.display.sizer.style.minHeight=
p.docHeight+"px";b.display.heightForcer.style.top=p.docHeight+"px";b.display.gutters.style.height=p.docHeight+b.display.barHeight+Sd(b)+"px"}function oe(b){var p=b.display,V=p.view;if(p.alignWidgets||p.gutters.firstChild&&b.options.fixedGutter){for(var R=cf(p)-p.scroller.scrollLeft+b.doc.scrollLeft,aa=p.gutters.offsetWidth,Ca=R+"px",Qa=0;Qa<V.length;Qa++)if(!V[Qa].hidden){b.options.fixedGutter&&(V[Qa].gutter&&(V[Qa].gutter.style.left=Ca),V[Qa].gutterBackground&&(V[Qa].gutterBackground.style.left=
Ca));var Ua=V[Qa].alignable;if(Ua)for(var rb=0;rb<Ua.length;rb++)Ua[rb].style.left=Ca}b.options.fixedGutter&&(p.gutters.style.left=R+aa+"px")}}function uf(b){if(!b.options.lineNumbers)return!1;var p=b.doc;p=Ra(b.options,p.first+p.size-1);var V=b.display;if(p.length!=V.lineNumChars){var R=V.measure.appendChild(G("div",[G("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),aa=R.firstChild.offsetWidth;R=R.offsetWidth-aa;V.lineGutter.style.width="";V.lineNumInnerWidth=Math.max(aa,V.lineGutter.offsetWidth-
R)+1;V.lineNumWidth=V.lineNumInnerWidth+R;V.lineNumChars=V.lineNumInnerWidth?p.length:-1;V.lineGutter.style.width=V.lineNumWidth+"px";se(b.display);return!0}return!1}function Xd(b,p){for(var V=[],R=!1,aa=0;aa<b.length;aa++){var Ca=b[aa],Qa=null;"string"!=typeof Ca&&(Qa=Ca.style,Ca=Ca.className);if("CodeMirror-linenumbers"==Ca)if(p)R=!0;else continue;V.push({className:Ca,style:Qa})}p&&!R&&V.push({className:"CodeMirror-linenumbers",style:null});return V}function Se(b){var p=b.gutters,V=b.gutterSpecs;
l(p);b.lineGutter=null;for(var R=0;R<V.length;++R){var aa=V[R],Ca=aa.className;aa=aa.style;var Qa=p.appendChild(G("div",null,"CodeMirror-gutter "+Ca));aa&&(Qa.style.cssText=aa);"CodeMirror-linenumbers"==Ca&&(b.lineGutter=Qa,Qa.style.width=(b.lineNumWidth||1)+"px")}p.style.display=V.length?"":"none";se(b)}function He(b){Se(b.display);Aa(b);oe(b)}function Jf(b,p,V,R){this.input=V;this.scrollbarFiller=G("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");
this.gutterFiller=G("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=L("div",null,"CodeMirror-code");this.selectionDiv=G("div",null,null,"position: relative; z-index: 1");this.cursorDiv=G("div",null,"CodeMirror-cursors");this.measure=G("div",null,"CodeMirror-measure");this.lineMeasure=G("div",null,"CodeMirror-measure");this.lineSpace=L("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");
var aa=L("div",[this.lineSpace],"CodeMirror-lines");this.mover=G("div",[aa],null,"position: relative");this.sizer=G("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=G("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=G("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=G("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=G("div",[this.scrollbarFiller,
this.gutterFiller,this.scroller],"CodeMirror");af&&8>gf&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Wf||Yf&&kh||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=p.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=
!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Xd(R.gutters,R.lineNumbers);Se(this);V.init(this)}function bf(b){var p=b.wheelDeltaX,V=b.wheelDeltaY;null==p&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&
(p=b.detail);null==V&&b.detail&&b.axis==b.VERTICAL_AXIS?V=b.detail:null==V&&(V=b.wheelDelta);return{x:p,y:V}}function Uf(b){b=bf(b);b.x*=jg;b.y*=jg;return b}function ta(b,p){var V=bf(p),R=V.x;V=V.y;var aa=b.display,Ca=aa.scroller,Qa=Ca.scrollWidth>Ca.clientWidth,Ua=Ca.scrollHeight>Ca.clientHeight;if(R&&Qa||V&&Ua){if(V&&rg&&Wf){Qa=p.target;var rb=aa.view;a:for(;Qa!=Ca;Qa=Qa.parentNode)for(var Cb=0;Cb<rb.length;Cb++)if(rb[Cb].node==Qa){b.display.currentWheelTarget=Qa;break a}}!R||Yf||dg||null==jg?(V&&
null!=jg&&(p=V*jg,Ua=b.doc.scrollTop,Qa=Ua+aa.wrapper.clientHeight,0>p?Ua=Math.max(0,Ua+p-50):Qa=Math.min(b.doc.height,Qa+p+50),Ge(b,{top:Ua,bottom:Qa})),20>Nh&&(null==aa.wheelStartX?(aa.wheelStartX=Ca.scrollLeft,aa.wheelStartY=Ca.scrollTop,aa.wheelDX=R,aa.wheelDY=V,setTimeout(function(){if(null!=aa.wheelStartX){var Ub=Ca.scrollLeft-aa.wheelStartX,Gc=Ca.scrollTop-aa.wheelStartY;Ub=Gc&&aa.wheelDY&&Gc/aa.wheelDY||Ub&&aa.wheelDX&&Ub/aa.wheelDX;aa.wheelStartX=aa.wheelStartY=null;Ub&&(jg=(jg*Nh+Ub)/(Nh+
1),++Nh)}},200)):(aa.wheelDX+=R,aa.wheelDY+=V))):(V&&Ua&&yf(b,Math.max(0,Ca.scrollTop+V*jg)),Qe(b,Math.max(0,Ca.scrollLeft+R*jg)),(!V||V&&Ua)&&Z(p),aa.wheelStartX=null)}}function ua(b,p,V){b=b&&b.options.selectionsMayTouch;V=p[V];p.sort(function(rb,Cb){return db(rb.from(),Cb.from())});V=a(p,V);for(var R=1;R<p.length;R++){var aa=p[R],Ca=p[R-1],Qa=db(Ca.to(),aa.from());if(b&&!aa.empty()?0<Qa:0<=Qa){Qa=lb(Ca.from(),aa.from());var Ua=Sa(Ca.to(),aa.to());aa=Ca.empty()?aa.from()==aa.head:Ca.from()==Ca.head;
R<=V&&--V;p.splice(--R,2,new hf(aa?Ua:Qa,aa?Qa:Ua))}}return new kg(p,V)}function Ia(b,p){return new kg([new hf(b,p||b)],0)}function La(b){return b.text?Ma(b.from.line+b.text.length-1,y(b.text).length+(1==b.text.length?b.from.ch:0)):b.to}function Za(b,p){if(0>db(b,p.from))return b;if(0>=db(b,p.to))return La(p);var V=b.line+p.text.length-(p.to.line-p.from.line)-1,R=b.ch;b.line==p.to.line&&(R+=La(p).ch-p.to.ch);return Ma(V,R)}function bb(b,p){for(var V=[],R=0;R<b.sel.ranges.length;R++){var aa=b.sel.ranges[R];
V.push(new hf(Za(aa.anchor,p),Za(aa.head,p)))}return ua(b.cm,V,b.sel.primIndex)}function nb(b,p,V){return b.line==p.line?Ma(V.line,b.ch-p.ch+V.ch):Ma(V.line+(b.line-p.line),b.ch)}function zb(b){b.doc.mode=Ta(b.options,b.doc.modeOption);wb(b)}function wb(b){b.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null);p.styles&&(p.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;od(b,100);b.state.modeGen++;b.curOp&&Aa(b)}function Bb(b,p){return 0==p.from.ch&&0==p.to.ch&&""==y(p.text)&&
(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Hb(b,p,V,R){function aa(dd,Kd,we){dd.text=Kd;dd.stateAfter&&(dd.stateAfter=null);dd.styles&&(dd.styles=null);null!=dd.order&&(dd.order=null);hd(dd);cd(dd,we);Kd=R?R(dd):1;Kd!=dd.height&&ea(dd,Kd);qc(dd,"change",dd,p)}function Ca(dd,Kd){for(var we=[];dd<Kd;++dd)we.push(new Ng(rb[dd],V?V[dd]:null,R));return we}var Qa=p.from,Ua=p.to,rb=p.text,Cb=M(b,Qa.line),Ub=M(b,Ua.line),Gc=y(rb),nc=V?V[rb.length-1]:null,lc=Ua.line-Qa.line;p.full?(b.insert(0,Ca(0,
rb.length)),b.remove(rb.length,b.size-rb.length)):Bb(b,p)?(Ua=Ca(0,rb.length-1),aa(Ub,Ub.text,nc),lc&&b.remove(Qa.line,lc),Ua.length&&b.insert(Qa.line,Ua)):Cb==Ub?1==rb.length?aa(Cb,Cb.text.slice(0,Qa.ch)+Gc+Cb.text.slice(Ua.ch),nc):(lc=Ca(1,rb.length-1),lc.push(new Ng(Gc+Cb.text.slice(Ua.ch),nc,R)),aa(Cb,Cb.text.slice(0,Qa.ch)+rb[0],V?V[0]:null),b.insert(Qa.line+1,lc)):1==rb.length?(aa(Cb,Cb.text.slice(0,Qa.ch)+rb[0]+Ub.text.slice(Ua.ch),V?V[0]:null),b.remove(Qa.line+1,lc)):(aa(Cb,Cb.text.slice(0,
Qa.ch)+rb[0],V?V[0]:null),aa(Ub,Gc+Ub.text.slice(Ua.ch),nc),nc=Ca(1,rb.length-1),1<lc&&b.remove(Qa.line+1,lc-1),b.insert(Qa.line+1,nc));qc(b,"change",b,p)}function Tb(b,p,V){function R(aa,Ca,Qa){if(aa.linked)for(var Ua=0;Ua<aa.linked.length;++Ua){var rb=aa.linked[Ua];if(rb.doc!=Ca){var Cb=Qa&&rb.sharedHist;if(!V||Cb)p(rb.doc,Cb),R(rb.doc,aa,Cb)}}}R(b,null,!0)}function mc(b,p){if(p.cm)throw Error("This document is already in use.");b.doc=p;p.cm=b;vf(b);zb(b);X(b);b.options.lineWrapping||pb(b);b.options.mode=
p.modeOption;Aa(b)}function X(b){("rtl"==b.doc.direction?t:ug)(b.display.lineDiv,"CodeMirror-rtl")}function na(b){ec(b,function(){X(b);Aa(b)})}function Ja(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function Oa(b,p){var V={from:Ba(p.from),to:La(p),text:P(b,p.from,p.to)};gc(b,V,p.from.line,p.to.line+1);Tb(b,function(R){return gc(R,V,p.from.line,p.to.line+
1)},!0);return V}function tb(b){for(;b.length;)if(y(b).ranges)b.pop();else break}function Lb(b,p,V,R){var aa=b.history;aa.undone.length=0;var Ca=+new Date,Qa;if(Qa=aa.lastOp==R||aa.lastOrigin==p.origin&&p.origin&&("+"==p.origin.charAt(0)&&aa.lastModTime>Ca-(b.cm?b.cm.options.historyEventDelay:500)||"*"==p.origin.charAt(0))){if(aa.lastOp==R){tb(aa.done);var Ua=y(aa.done)}else aa.done.length&&!y(aa.done).ranges?Ua=y(aa.done):1<aa.done.length&&!aa.done[aa.done.length-2].ranges?(aa.done.pop(),Ua=y(aa.done)):
Ua=void 0;Qa=Ua}if(Qa){var rb=y(Ua.changes);0==db(p.from,p.to)&&0==db(p.from,rb.to)?rb.to=La(p):Ua.changes.push(Oa(b,p))}else for((Ua=y(aa.done))&&Ua.ranges||Qb(b.sel,aa.done),Ua={changes:[Oa(b,p)],generation:aa.generation},aa.done.push(Ua);aa.done.length>aa.undoDepth;)aa.done.shift(),aa.done[0].ranges||aa.done.shift();aa.done.push(V);aa.generation=++aa.maxGeneration;aa.lastModTime=aa.lastSelTime=Ca;aa.lastOp=aa.lastSelOp=R;aa.lastOrigin=aa.lastSelOrigin=p.origin;rb||da(b,"historyAdded")}function Qb(b,
p){var V=y(p);V&&V.ranges&&V.equals(b)||p.push(b)}function gc(b,p,V,R){var aa=p["spans_"+b.id],Ca=0;b.iter(Math.max(b.first,V),Math.min(b.first+b.size,R),function(Qa){Qa.markedSpans&&((aa||(aa=p["spans_"+b.id]={}))[Ca]=Qa.markedSpans);++Ca})}function uc(b){if(!b)return null;for(var p,V=0;V<b.length;++V)b[V].marker.explicitlyCleared?p||(p=b.slice(0,V)):p&&p.push(b[V]);return p?p.length?p:null:b}function Qc(b,p){var V;if(V=p["spans_"+b.id]){for(var R=[],aa=0;aa<p.text.length;++aa)R.push(uc(V[aa]));
V=R}else V=null;b=Bc(b,p);if(!V)return b;if(!b)return V;for(p=0;p<V.length;++p)if(R=V[p],aa=b[p],R&&aa){var Ca=0;a:for(;Ca<aa.length;++Ca){for(var Qa=aa[Ca],Ua=0;Ua<R.length;++Ua)if(R[Ua].marker==Qa.marker)continue a;R.push(Qa)}}else aa&&(V[p]=aa);return V}function Lc(b,p,V){for(var R=[],aa=0;aa<b.length;++aa){var Ca=b[aa];if(Ca.ranges)R.push(V?kg.prototype.deepCopy.call(Ca):Ca);else{Ca=Ca.changes;var Qa=[];R.push({changes:Qa});for(var Ua=0;Ua<Ca.length;++Ua){var rb=Ca[Ua],Cb;Qa.push({from:rb.from,
to:rb.to,text:rb.text});if(p)for(var Ub in rb)(Cb=Ub.match(/^spans_(\d+)$/))&&-1<a(p,Number(Cb[1]))&&(y(Qa)[Ub]=rb[Ub],delete rb[Ub])}}}return R}function td(b,p,V,R){return R?(b=b.anchor,V&&(R=0>db(p,b),R!=0>db(V,b)?(b=p,p=V):R!=0>db(p,V)&&(p=V)),new hf(b,p)):new hf(V||p,p)}function Ld(b,p,V,R,aa){null==aa&&(aa=b.cm&&(b.cm.display.shift||b.extend));Pa(b,new kg([td(b.sel.primary(),p,V,aa)],0),R)}function Yc(b,p,V){for(var R=[],aa=b.cm&&(b.cm.display.shift||b.extend),Ca=0;Ca<b.sel.ranges.length;Ca++)R[Ca]=
td(b.sel.ranges[Ca],p[Ca],null,aa);p=ua(b.cm,R,b.sel.primIndex);Pa(b,p,V)}function nd(b,p,V,R){var aa=b.sel.ranges.slice(0);aa[p]=V;Pa(b,ua(b.cm,aa,b.sel.primIndex),R)}function Vc(b,p,V){V={ranges:p.ranges,update:function(R){this.ranges=[];for(var aa=0;aa<R.length;aa++)this.ranges[aa]=new hf(ub(b,R[aa].anchor),ub(b,R[aa].head))},origin:V&&V.origin};da(b,"beforeSelectionChange",b,V);b.cm&&da(b.cm,"beforeSelectionChange",b.cm,V);return V.ranges!=p.ranges?ua(b.cm,V.ranges,V.ranges.length-1):p}function Ce(b,
p,V){var R=b.history.done,aa=y(R);aa&&aa.ranges?(R[R.length-1]=p,kb(b,p,V)):Pa(b,p,V)}function Pa(b,p,V){kb(b,p,V);p=b.sel;var R=b.cm?b.cm.curOp.id:NaN,aa=b.history,Ca=V&&V.origin,Qa;if(!(Qa=R==aa.lastSelOp)&&(Qa=Ca&&aa.lastSelOrigin==Ca)&&!(Qa=aa.lastModTime==aa.lastSelTime&&aa.lastOrigin==Ca)){Qa=y(aa.done);var Ua=Ca.charAt(0);Qa="*"==Ua||"+"==Ua&&Qa.ranges.length==p.ranges.length&&Qa.somethingSelected()==p.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:
500)}Qa?aa.done[aa.done.length-1]=p:Qb(p,aa.done);aa.lastSelTime=+new Date;aa.lastSelOrigin=Ca;aa.lastSelOp=R;V&&!1!==V.clearRedo&&tb(aa.undone)}function kb(b,p,V){if(Y(b,"beforeSelectionChange")||b.cm&&Y(b.cm,"beforeSelectionChange"))p=Vc(b,p,V);var R=V&&V.bias||(0>db(p.primary().head,b.sel.primary().head)?-1:1);vb(b,Rb(b,p,R,!0));V&&!1===V.scroll||!b.cm||xe(b.cm)}function vb(b,p){p.equals(b.sel)||(b.sel=p,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,B(b.cm)),qc(b,"cursorActivity",
b))}function Eb(b){vb(b,Rb(b,b.sel,null,!1))}function Rb(b,p,V,R){for(var aa,Ca=0;Ca<p.ranges.length;Ca++){var Qa=p.ranges[Ca],Ua=p.ranges.length==b.sel.ranges.length&&b.sel.ranges[Ca],rb=q(b,Qa.anchor,Ua&&Ua.anchor,V,R);Ua=q(b,Qa.head,Ua&&Ua.head,V,R);if(aa||rb!=Qa.anchor||Ua!=Qa.head)aa||(aa=p.ranges.slice(0,Ca)),aa[Ca]=new hf(rb,Ua)}return aa?ua(b.cm,aa,p.primIndex):p}function yc(b,p,V,R,aa){var Ca=M(b,p.line);if(Ca.markedSpans)for(var Qa=0;Qa<Ca.markedSpans.length;++Qa){var Ua=Ca.markedSpans[Qa],
rb=Ua.marker,Cb="selectLeft"in rb?!rb.selectLeft:rb.inclusiveLeft,Ub="selectRight"in rb?!rb.selectRight:rb.inclusiveRight;if((null==Ua.from||(Cb?Ua.from<=p.ch:Ua.from<p.ch))&&(null==Ua.to||(Ub?Ua.to>=p.ch:Ua.to>p.ch))){if(aa&&(da(rb,"beforeCursorEnter"),rb.explicitlyCleared))if(Ca.markedSpans){--Qa;continue}else break;if(rb.atomic){if(V){Qa=rb.find(0>R?1:-1);Ua=void 0;if(0>R?Ub:Cb)Qa=Q(b,Qa,-R,Qa&&Qa.line==p.line?Ca:null);if(Qa&&Qa.line==p.line&&(Ua=db(Qa,V))&&(0>R?0>Ua:0<Ua))return yc(b,Qa,p,R,aa)}V=
rb.find(0>R?-1:1);if(0>R?Cb:Ub)V=Q(b,V,R,V.line==p.line?Ca:null);return V?yc(b,V,p,R,aa):null}}}return p}function q(b,p,V,R,aa){R=R||1;p=yc(b,p,V,R,aa)||!aa&&yc(b,p,V,R,!0)||yc(b,p,V,-R,aa)||!aa&&yc(b,p,V,-R,!0);return p?p:(b.cantEdit=!0,Ma(b.first,0))}function Q(b,p,V,R){return 0>V&&0==p.ch?p.line>b.first?ub(b,Ma(p.line-1)):null:0<V&&p.ch==(R||M(b,p.line)).text.length?p.line<b.first+b.size-1?Ma(p.line+1,0):null:new Ma(p.line,p.ch+V)}function ma(b){b.setSelection(Ma(b.firstLine(),0),Ma(b.lastLine()),
Kf)}function Ga(b,p,V){var R={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return R.canceled=!0}};V&&(R.update=function(aa,Ca,Qa,Ua){aa&&(R.from=ub(b,aa));Ca&&(R.to=ub(b,Ca));Qa&&(R.text=Qa);void 0!==Ua&&(R.origin=Ua)});da(b,"beforeChange",b,R);b.cm&&da(b.cm,"beforeChange",b.cm,R);return R.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:R.from,to:R.to,text:R.text,origin:R.origin}}function $a(b,p,V){if(b.cm){if(!b.cm.curOp)return Tc(b.cm,$a)(b,p,V);if(b.cm.state.suppressEdits)return}if(Y(b,
"beforeChange")||b.cm&&Y(b.cm,"beforeChange"))if(p=Ga(b,p,!0),!p)return;if(V=pj&&!V&&Rd(b,p.from,p.to))for(var R=V.length-1;0<=R;--R)eb(b,{from:V[R].from,to:V[R].to,text:R?[""]:p.text,origin:p.origin});else eb(b,p)}function eb(b,p){if(1!=p.text.length||""!=p.text[0]||0!=db(p.from,p.to)){var V=bb(b,p);Lb(b,p,V,b.cm?b.cm.curOp.id:NaN);Vb(b,p,V,Bc(b,p));var R=[];Tb(b,function(aa,Ca){Ca||-1!=a(R,aa.history)||(ad(aa.history,p),R.push(aa.history));Vb(aa,p,null,Bc(aa,p))})}}function qb(b,p,V){var R=b.cm&&
b.cm.state.suppressEdits;if(!R||V){for(var aa=b.history,Ca,Qa=b.sel,Ua="undo"==p?aa.done:aa.undone,rb="undo"==p?aa.undone:aa.done,Cb=0;Cb<Ua.length&&(Ca=Ua[Cb],V?!Ca.ranges||Ca.equals(b.sel):Ca.ranges);Cb++);if(Cb!=Ua.length){for(aa.lastOrigin=aa.lastSelOrigin=null;;)if(Ca=Ua.pop(),Ca.ranges){Qb(Ca,rb);if(V&&!Ca.equals(b.sel)){Pa(b,Ca,{clearRedo:!1});return}Qa=Ca}else{if(R){Ua.push(Ca);return}break}var Ub=[];Qb(Qa,rb);rb.push({changes:Ub,generation:aa.generation});aa.generation=Ca.generation||++aa.maxGeneration;
var Gc=Y(b,"beforeChange")||b.cm&&Y(b.cm,"beforeChange");V=function(nc){var lc=Ca.changes[nc];lc.origin=p;if(Gc&&!Ga(b,lc,!1))return Ua.length=0,{};Ub.push(Oa(b,lc));var dd=nc?bb(b,lc):y(Ua);Vb(b,lc,dd,Qc(b,lc));!nc&&b.cm&&b.cm.scrollIntoView({from:lc.from,to:La(lc)});var Kd=[];Tb(b,function(we,df){df||-1!=a(Kd,we.history)||(ad(we.history,lc),Kd.push(we.history));Vb(we,lc,null,Qc(we,lc))})};for(R=Ca.changes.length-1;0<=R;--R)if(aa=V(R))return aa.v}}}function Kb(b,p){if(0!=p&&(b.first+=p,b.sel=new kg(A(b.sel.ranges,
function(aa){return new hf(Ma(aa.anchor.line+p,aa.anchor.ch),Ma(aa.head.line+p,aa.head.ch))}),b.sel.primIndex),b.cm)){Aa(b.cm,b.first,b.first-p,p);for(var V=b.cm.display,R=V.viewFrom;R<V.viewTo;R++)Xa(b.cm,R,"gutter")}}function Vb(b,p,V,R){if(b.cm&&!b.cm.curOp)return Tc(b.cm,Vb)(b,p,V,R);if(p.to.line<b.first)Kb(b,p.text.length-1-(p.to.line-p.from.line));else if(!(p.from.line>b.lastLine())){if(p.from.line<b.first){var aa=p.text.length-1-(b.first-p.from.line);Kb(b,aa);p={from:Ma(b.first,0),to:Ma(p.to.line+
aa,p.to.ch),text:[y(p.text)],origin:p.origin}}aa=b.lastLine();p.to.line>aa&&(p={from:p.from,to:Ma(aa,M(b,aa).text.length),text:[p.text[0]],origin:p.origin});p.removed=P(b,p.from,p.to);V||(V=bb(b,p));b.cm?Ob(b.cm,p,R):Hb(b,p,R);kb(b,V,Kf);b.cantEdit&&q(b,Ma(b.firstLine(),0))&&(b.cantEdit=!1)}}function Ob(b,p,V){var R=b.doc,aa=b.display,Ca=p.from,Qa=p.to,Ua=!1,rb=Ca.line;b.options.lineWrapping||(rb=oa(Sb(M(R,Ca.line))),R.iter(rb,Qa.line+1,function(Cb){if(Cb==aa.maxLine)return Ua=!0}));-1<R.sel.contains(p.from,
p.to)&&B(b);Hb(R,p,V,Ze(b));b.options.lineWrapping||(R.iter(rb,Ca.line+p.text.length,function(Cb){var Ub=Ya(Cb);Ub>aa.maxLineLength&&(aa.maxLine=Cb,aa.maxLineLength=Ub,aa.maxLineChanged=!0,Ua=!1)}),Ua&&(b.curOp.updateMaxLine=!0));ac(R,Ca.line);od(b,400);V=p.text.length-(Qa.line-Ca.line)-1;p.full?Aa(b):Ca.line!=Qa.line||1!=p.text.length||Bb(b.doc,p)?Aa(b,Ca.line,Qa.line+1,V):Xa(b,Ca.line,"text");V=Y(b,"changes");if((R=Y(b,"change"))||V)p={from:Ca,to:Qa,text:p.text,removed:p.removed,origin:p.origin},
R&&qc(b,"change",b,p),V&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(p);b.display.selForContextMenu=null}function Dc(b,p,V,R,aa){R||(R=V);0>db(R,V)&&(R=[R,V],V=R[0],R=R[1]);"string"==typeof p&&(p=b.splitLines(p));$a(b,{from:V,to:R,text:p,origin:aa})}function Pc(b,p,V,R){V<b.line?b.line+=R:p<b.line&&(b.line=p,b.ch=0)}function kd(b,p,V,R){for(var aa=0;aa<b.length;++aa){var Ca=b[aa],Qa=!0;if(Ca.ranges)for(Ca.copied||(Ca=b[aa]=Ca.deepCopy(),Ca.copied=!0),Qa=0;Qa<Ca.ranges.length;Qa++)Pc(Ca.ranges[Qa].anchor,
p,V,R),Pc(Ca.ranges[Qa].head,p,V,R);else{for(var Ua=0;Ua<Ca.changes.length;++Ua){var rb=Ca.changes[Ua];if(V<rb.from.line)rb.from=Ma(rb.from.line+R,rb.from.ch),rb.to=Ma(rb.to.line+R,rb.to.ch);else if(p<=rb.to.line){Qa=!1;break}}Qa||(b.splice(0,aa+1),aa=0)}}}function ad(b,p){var V=p.from.line,R=p.to.line;p=p.text.length-(R-V)-1;kd(b.done,V,R,p);kd(b.undone,V,R,p)}function Uc(b,p,V,R){var aa=p,Ca=p;"number"==typeof p?Ca=M(b,Math.max(b.first,Math.min(p,b.first+b.size-1))):aa=oa(p);if(null==aa)return null;
R(Ca,aa)&&b.cm&&Xa(b.cm,aa,V);return Ca}function Cc(b){this.lines=b;this.parent=null;for(var p=0,V=0;V<b.length;++V)b[V].parent=this,p+=b[V].height;this.height=p}function jd(b){this.children=b;for(var p=0,V=0,R=0;R<b.length;++R){var aa=b[R];p+=aa.chunkSize();V+=aa.height;aa.parent=this}this.size=p;this.height=V;this.parent=null}function Od(b,p,V,R){var aa=new sh(b,V,R),Ca=b.cm;Ca&&aa.noHScroll&&(Ca.display.alignWidgets=!0);Uc(b,p,"widget",function(Qa){var Ua=Qa.widgets||(Qa.widgets=[]);null==aa.insertAt?
Ua.push(aa):Ua.splice(Math.min(Ua.length,Math.max(0,aa.insertAt)),0,aa);aa.line=Qa;Ca&&!Pd(b,Qa)&&(Ua=Ha(Qa)<b.scrollTop,ea(Qa,Qa.height+md(aa)),Ua&&Wc(Ca,aa.height),Ca.curOp.forceUpdate=!0);return!0});Ca&&qc(Ca,"lineWidgetAdded",Ca,aa,"number"==typeof p?p:oa(p));return aa}function Jd(b,p,V,R,aa){if(R&&R.shared)return de(b,p,V,R,aa);if(b.cm&&!b.cm.curOp)return Tc(b.cm,Jd)(b,p,V,R,aa);var Ca=new vg(b,aa);aa=db(p,V);R&&d(R,Ca,!1);if(0<aa||0==aa&&!1!==Ca.clearWhenEmpty)return Ca;Ca.replacedWith&&(Ca.collapsed=
!0,Ca.widgetNode=L("span",[Ca.replacedWith],"CodeMirror-widget"),R.handleMouseEvents||Ca.widgetNode.setAttribute("cm-ignore-events","true"),R.insertLeft&&(Ca.widgetNode.insertLeft=!0));if(Ca.collapsed){if(yb(b,p.line,p,V,Ca)||p.line!=V.line&&yb(b,V.line,p,V,Ca))throw Error("Inserting collapsed marker partially overlapping an existing one");Hg=!0}Ca.addToHistory&&Lb(b,{from:p,to:V,origin:"markText"},b.sel,NaN);var Qa=p.line,Ua=b.cm,rb;b.iter(Qa,V.line+1,function(Cb){Ua&&Ca.collapsed&&!Ua.options.lineWrapping&&
Sb(Cb)==Ua.display.maxLine&&(rb=!0);Ca.collapsed&&Qa!=p.line&&ea(Cb,0);var Ub=new Oc(Ca,Qa==p.line?p.ch:null,Qa==V.line?V.ch:null);Cb.markedSpans=Cb.markedSpans?Cb.markedSpans.concat([Ub]):[Ub];Ub.marker.attachLine(Cb);++Qa});Ca.collapsed&&b.iter(p.line,V.line+1,function(Cb){Pd(b,Cb)&&ea(Cb,0)});Ca.clearOnEnter&&ve(Ca,"beforeCursorEnter",function(){return Ca.clear()});Ca.readOnly&&(pj=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());Ca.collapsed&&(Ca.id=++ki,Ca.atomic=!0);if(Ua){rb&&
(Ua.curOp.updateMaxLine=!0);if(Ca.collapsed)Aa(Ua,p.line,V.line+1);else if(Ca.className||Ca.startStyle||Ca.endStyle||Ca.css||Ca.attributes||Ca.title)for(R=p.line;R<=V.line;R++)Xa(Ua,R,"text");Ca.atomic&&Eb(Ua.doc);qc(Ua,"markerAdded",Ua,Ca)}return Ca}function de(b,p,V,R,aa){R=d(R);R.shared=!1;var Ca=[Jd(b,p,V,R,aa)],Qa=Ca[0],Ua=R.widgetNode;Tb(b,function(rb){Ua&&(R.widgetNode=Ua.cloneNode(!0));Ca.push(Jd(rb,ub(rb,p),ub(rb,V),R,aa));for(var Cb=0;Cb<rb.linked.length;++Cb)if(rb.linked[Cb].isParent)return;
Qa=y(Ca)});return new th(Ca,Qa)}function ae(b){return b.findMarks(Ma(b.first,0),b.clipPos(Ma(b.lastLine())),function(p){return p.parent})}function kf(b){for(var p=function(R){R=b[R];var aa=[R.primary.doc];Tb(R.primary.doc,function(Ua){return aa.push(Ua)});for(var Ca=0;Ca<R.markers.length;Ca++){var Qa=R.markers[Ca];-1==a(aa,Qa.doc)&&(Qa.parent=null,R.markers.splice(Ca--,1))}},V=0;V<b.length;V++)p(V)}function Qd(b){var p=this;Ud(p);if(!O(p,b)&&!wd(p.display,b)){Z(b);af&&(li=+new Date);var V=Te(p,b,
!0),R=b.dataTransfer.files;if(V&&!p.isReadOnly())if(R&&R.length&&window.FileReader&&window.File)for(var aa=R.length,Ca=Array(aa),Qa=0,Ua=function(){++Qa==aa&&Tc(p,function(){V=ub(p.doc,V);var Ub={from:V,to:V,text:p.doc.splitLines(Ca.filter(function(Gc){return null!=Gc}).join(p.doc.lineSeparator())),origin:"paste"};$a(p.doc,Ub);Ce(p.doc,Ia(ub(p.doc,V),ub(p.doc,La(Ub))))})()},rb=function(Ub,Gc){if(p.options.allowDropFileTypes&&-1==a(p.options.allowDropFileTypes,Ub.type))Ua();else{var nc=new FileReader;
nc.onerror=function(){return Ua()};nc.onload=function(){var lc=nc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(lc)||(Ca[Gc]=lc);Ua()};nc.readAsText(Ub)}},Cb=0;Cb<R.length;Cb++)rb(R[Cb],Cb);else if(p.state.draggingText&&-1<p.doc.sel.contains(V))p.state.draggingText(b),setTimeout(function(){return p.display.input.focus()},20);else try{if(rb=b.dataTransfer.getData("Text")){p.state.draggingText&&!p.state.draggingText.copy&&(Cb=p.listSelections());kb(p.doc,Ia(V,V));if(Cb)for(R=0;R<Cb.length;++R)Dc(p.doc,"",Cb[R].anchor,
Cb[R].head,"drag");p.replaceSelection(rb,"around","paste");p.display.input.focus()}}catch(Ub){}}}function Ud(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=null)}function te(b){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),V=[],R=0;R<p.length;R++){var aa=p[R].CodeMirror;aa&&V.push(aa)}V.length&&V[0].operation(function(){for(var Ca=0;Ca<V.length;Ca++)b(V[Ca])})}}function id(){var b;ve(window,"resize",
function(){null==b&&(b=setTimeout(function(){b=null;te(ue)},100))});ve(window,"blur",function(){return te(Zc)})}function ue(b){var p=b.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null;p.scrollbarsClipped=!1;b.setSize()}function Ff(b){var p=b.split(/-(?!$)/);b=p[p.length-1];for(var V,R,aa,Ca,Qa=0;Qa<p.length-1;Qa++){var Ua=p[Qa];if(/^(cmd|meta|m)$/i.test(Ua))Ca=!0;else if(/^a(lt)?$/i.test(Ua))V=!0;else if(/^(c|ctrl|control)$/i.test(Ua))R=!0;else if(/^s(hift)?$/i.test(Ua))aa=!0;else throw Error("Unrecognized modifier name: "+
Ua);}V&&(b="Alt-"+b);R&&(b="Ctrl-"+b);Ca&&(b="Cmd-"+b);aa&&(b="Shift-"+b);return b}function ye(b){var p={},V;for(V in b)if(b.hasOwnProperty(V)){var R=b[V];if(!/^(name|fallthrough|(de|at)tach)$/.test(V)){if("..."!=R)for(var aa=A(V.split(" "),Ff),Ca=0;Ca<aa.length;Ca++){if(Ca==aa.length-1){var Qa=aa.join(" ");var Ua=R}else Qa=aa.slice(0,Ca+1).join(" "),Ua="...";var rb=p[Qa];if(!rb)p[Qa]=Ua;else if(rb!=Ua)throw Error("Inconsistent bindings for "+Qa);}delete b[V]}}for(var Cb in p)b[Cb]=p[Cb];return b}
function of(b,p,V,R){p=Cf(p);var aa=p.call?p.call(b,R):p[b];if(!1===aa)return"nothing";if("..."===aa)return"multi";if(null!=aa&&V(aa))return"handled";if(p.fallthrough){if("[object Array]"!=Object.prototype.toString.call(p.fallthrough))return of(b,p.fallthrough,V,R);for(aa=0;aa<p.fallthrough.length;aa++){var Ca=of(b,p.fallthrough[aa],V,R);if(Ca)return Ca}}}function $e(b){b="string"==typeof b?b:Dg[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Xe(b,p,V){var R=b;p.altKey&&"Alt"!=
R&&(b="Alt-"+b);(Fi?p.metaKey:p.ctrlKey)&&"Ctrl"!=R&&(b="Ctrl-"+b);(Fi?p.ctrlKey:p.metaKey)&&"Mod"!=R&&(b="Cmd-"+b);!V&&p.shiftKey&&"Shift"!=R&&(b="Shift-"+b);return b}function ff(b,p){if(dg&&34==b.keyCode&&b["char"])return!1;var V=Dg[b.keyCode];if(null==V||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(V=b.code);return Xe(V,b,p)}function Cf(b){return"string"==typeof b?wh[b]:b}function Zf(b,p){for(var V=b.doc.sel.ranges,R=[],aa=0;aa<V.length;aa++){for(var Ca=p(V[aa]);R.length&&0>=db(Ca.from,y(R).to);){var Qa=
R.pop();if(0>db(Qa.from,Ca.from)){Ca.from=Qa.from;break}}R.push(Ca)}ec(b,function(){for(var Ua=R.length-1;0<=Ua;Ua--)Dc(b.doc,"",R[Ua].from,R[Ua].to,"+delete");xe(b)})}function tg(b,p,V){p=S(b.text,p+V,V);return 0>p||p>b.text.length?null:p}function Dh(b,p,V){b=tg(b,p.ch,V);return null==b?null:new Ma(p.line,b,0>V?"after":"before")}function eh(b,p,V,R,aa){if(b&&("rtl"==p.doc.direction&&(aa=-aa),b=ja(V,p.doc.direction))){b=0>aa?y(b):b[0];var Ca=0>aa==(1==b.level)?"after":"before";if(0<b.level||"rtl"==
p.doc.direction){var Qa=De(p,V);var Ua=0>aa?V.text.length-1:0;var rb=Fd(p,Qa,Ua).top;Ua=U(function(Cb){return Fd(p,Qa,Cb).top==rb},0>aa==(1==b.level)?b.from:b.to-1,Ua);"before"==Ca&&(Ua=tg(V,Ua,1))}else Ua=0>aa?b.to:b.from;return new Ma(R,Ua,Ca)}return new Ma(R,0>aa?V.text.length:0,0>aa?"before":"after")}function Xi(b,p,V,R){var aa=ja(p,b.doc.direction);if(!aa)return Dh(p,V,R);V.ch>=p.text.length?(V.ch=p.text.length,V.sticky="before"):0>=V.ch&&(V.ch=0,V.sticky="after");var Ca=fa(aa,V.ch,V.sticky),
Qa=aa[Ca];if("ltr"==b.doc.direction&&0==Qa.level%2&&(0<R?Qa.to>V.ch:Qa.from<V.ch))return Dh(p,V,R);var Ua=function(lc,dd){return tg(p,lc instanceof Ma?lc.ch:lc,dd)},rb,Cb=function(lc){if(!b.options.lineWrapping)return{begin:0,end:p.text.length};rb=rb||De(b,p);return nf(b,p,rb,lc)},Ub=Cb("before"==V.sticky?Ua(V,-1):V.ch);if("rtl"==b.doc.direction||1==Qa.level){var Gc=1==Qa.level==0>R,nc=Ua(V,Gc?1:-1);if(null!=nc&&(Gc?nc<=Qa.to&&nc<=Ub.end:nc>=Qa.from&&nc>=Ub.begin))return new Ma(V.line,nc,Gc?"before":
"after")}Qa=function(lc,dd,Kd){for(var we=function(jf,wf){return wf?new Ma(V.line,Ua(jf,1),"before"):new Ma(V.line,jf,"after")};0<=lc&&lc<aa.length;lc+=dd){var df=aa[lc],ke=0<dd==(1!=df.level),rf=ke?Kd.begin:Ua(Kd.end,-1);if(df.from<=rf&&rf<df.to)return we(rf,ke);rf=ke?df.from:Ua(df.to,-1);if(Kd.begin<=rf&&rf<Kd.end)return we(rf,ke)}};if(Ca=Qa(Ca+R,R,Ub))return Ca;Ub=0<R?Ub.end:Ua(Ub.begin,-1);return null==Ub||0<R&&Ub==p.text.length||!(Ca=Qa(0<R?0:aa.length-1,R,Cb(Ub)))?null:Ca}function wi(b,p){var V=
M(b.doc,p),R=Sb(V);R!=V&&(p=oa(R));return eh(!0,b,R,p,1)}function vi(b,p){var V=wi(b,p.line),R=M(b.doc,V.line);b=ja(R,b.doc.direction);return b&&0!=b[0].level?V:(R=Math.max(V.ch,R.text.search(/\S/)),Ma(V.line,p.line==V.line&&p.ch<=R&&p.ch?0:R,V.sticky))}function $h(b,p,V){if("string"==typeof p&&(p=xh[p],!p))return!1;b.display.input.ensurePolled();var R=b.display.shift,aa=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),V&&(b.display.shift=!1),aa=p(b)!=Vg}finally{b.display.shift=R,b.state.suppressEdits=
!1}return aa}function Eh(b,p,V,R){var aa=b.state.keySeq;if(aa){if($e(p))return"handled";/'$/.test(p)?b.state.keySeq=null:rj.set(50,function(){b.state.keySeq==aa&&(b.state.keySeq=null,b.display.input.reset())});if(Yi(b,aa+" "+p,V,R))return!0}return Yi(b,p,V,R)}function Yi(b,p,V,R){a:{for(var aa=0;aa<b.state.keyMaps.length;aa++){var Ca=of(p,b.state.keyMaps[aa],R,b);if(Ca){R=Ca;break a}}R=b.options.extraKeys&&of(p,b.options.extraKeys,R,b)||of(p,b.options.keyMap,R,b)}"multi"==R&&(b.state.keySeq=p);"handled"==
R&&qc(b,"keyHandled",b,p,V);if("handled"==R||"multi"==R)Z(V),fd(b);return!!R}function Tf(b,p){var V=ff(p,!0);return V?p.shiftKey&&!b.state.keySeq?Eh(b,"Shift-"+V,p,function(R){return $h(b,R,!0)})||Eh(b,V,p,function(R){if("string"==typeof R?/^go[A-Z]/.test(R):R.motion)return $h(b,R)}):Eh(b,V,p,function(R){return $h(b,R)}):!1}function Zi(b,p,V){return Eh(b,"'"+V+"'",p,function(R){return $h(b,R,!0)})}function $i(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=u(),!O(this,
b)){af&&11>gf&&27==b.keyCode&&(b.returnValue=!1);var p=b.keyCode;this.display.shift=16==p||b.shiftKey;var V=Tf(this,b);dg&&(Oi=V?p:null,!V&&88==p&&!oj&&(rg?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));Yf&&!rg&&!V&&46==p&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=p||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Fh(this)}}function Fh(b){function p(R){18!=R.keyCode&&R.altKey||(ug(V,"CodeMirror-crosshair"),la(document,"keyup",p),la(document,
"mouseover",p))}var V=b.display.lineDiv;t(V,"CodeMirror-crosshair");ve(document,"keyup",p);ve(document,"mouseover",p)}function Xf(b){16==b.keyCode&&(this.doc.sel.shift=!1);O(this,b)}function ai(b){if(!(b.target&&b.target!=this.display.input.getField()||wd(this.display,b)||O(this,b)||b.ctrlKey&&!b.altKey||rg&&b.metaKey)){var p=b.keyCode,V=b.charCode;if(dg&&p==Oi)Oi=null,Z(b);else if(!dg||b.which&&!(10>b.which)||!Tf(this,b))if(p=String.fromCharCode(null==V?p:V),"\b"!=p&&!Zi(this,b,p))this.display.input.onKeyPress(b)}}
function aj(b,p){var V=+new Date;if(Qh&&Qh.compare(V,b,p))return yh=Qh=null,"triple";if(yh&&yh.compare(V,b,p))return Qh=new mi(V,b,p),yh=null,"double";yh=new mi(V,b,p);Qh=null;return"single"}function Gh(b){var p=this.display;if(!(O(this,b)||p.activeTouch&&p.input.supportsTouch()))if(p.input.ensurePolled(),p.shift=b.shiftKey,wd(p,b))Wf||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));else if(!Hh(this,b,"gutterClick",!0)){var V=Te(this,b),R=Wa(b),aa=V?aj(V,R):"single";
window.focus();1==R&&this.state.selectingText&&this.state.selectingText(b);if(!V||!bj(this,R,V,aa,b))if(1==R)V?bi(this,V,aa,b):(b.target||b.srcElement)==p.scroller&&Z(b);else if(2==R)V&&Ld(this.doc,V),setTimeout(function(){return p.input.focus()},20);else if(3==R)if(Kh)this.display.input.onContextMenu(b);else zd(this)}}function bj(b,p,V,R,aa){var Ca="Click";"double"==R?Ca="Double"+Ca:"triple"==R&&(Ca="Triple"+Ca);return Eh(b,Xe((1==p?"Left":2==p?"Middle":"Right")+Ca,aa),aa,function(Qa){"string"==
typeof Qa&&(Qa=xh[Qa]);if(!Qa)return!1;var Ua=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),Ua=Qa(b,V)!=Vg}finally{b.state.suppressEdits=!1}return Ua})}function bi(b,p,V,R){af?setTimeout(f(ie,b),0):b.curOp.focus=u();var aa=b.getOption("configureMouse");aa=aa?aa(b,V,R):{};null==aa.unit&&(aa.unit=(mj?R.shiftKey&&R.metaKey:R.altKey)?"rectangle":"single"==V?"char":"double"==V?"word":"line");if(null==aa.extend||b.doc.extend)aa.extend=b.doc.extend||R.shiftKey;null==aa.addNew&&(aa.addNew=rg?R.metaKey:
R.ctrlKey);null==aa.moveOnDrag&&(aa.moveOnDrag=!(rg?R.altKey:R.ctrlKey));var Ca=b.doc.sel,Qa;b.options.dragDrop&&Gi&&!b.isReadOnly()&&"single"==V&&-1<(Qa=Ca.contains(p))&&(0>db((Qa=Ca.ranges[Qa]).from(),p)||0<p.xRel)&&(0<db(Qa.to(),p)||0>p.xRel)?Ig(b,R,p,aa):cj(b,R,p,aa)}function Ig(b,p,V,R){var aa=b.display,Ca=!1,Qa=Tc(b,function(Cb){Wf&&(aa.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:zd(b));la(aa.wrapper.ownerDocument,"mouseup",
Qa);la(aa.wrapper.ownerDocument,"mousemove",Ua);la(aa.scroller,"dragstart",rb);la(aa.scroller,"drop",Qa);Ca||(Z(Cb),R.addNew||Ld(b.doc,V,null,null,R.extend),Wf&&!Ug||af&&9==gf?setTimeout(function(){aa.wrapper.ownerDocument.body.focus({preventScroll:!0});aa.input.focus()},20):aa.input.focus())}),Ua=function(Cb){Ca=Ca||10<=Math.abs(p.clientX-Cb.clientX)+Math.abs(p.clientY-Cb.clientY)},rb=function(){return Ca=!0};Wf&&(aa.scroller.draggable=!0);b.state.draggingText=Qa;Qa.copy=!R.moveOnDrag;ve(aa.wrapper.ownerDocument,
"mouseup",Qa);ve(aa.wrapper.ownerDocument,"mousemove",Ua);ve(aa.scroller,"dragstart",rb);ve(aa.scroller,"drop",Qa);b.state.delayingBlurEvent=!0;setTimeout(function(){return aa.input.focus()},20);aa.scroller.dragDrop&&aa.scroller.dragDrop()}function fh(b,p,V){if("char"==V)return new hf(p,p);if("word"==V)return b.findWordAt(p);if("line"==V)return new hf(Ma(p.line,0),ub(b.doc,Ma(p.line+1,0)));b=V(b,p);return new hf(b.from,b.to)}function cj(b,p,V,R){function aa(ke){if(0!=db(lc,ke))if(lc=ke,"rectangle"==
R.unit){var rf=[],jf=b.options.tabSize,wf=g(M(rb,V.line).text,V.ch,jf),Bf=g(M(rb,ke.line).text,ke.ch,jf),Oe=Math.min(wf,Bf);wf=Math.max(wf,Bf);Bf=Math.min(V.line,ke.line);for(var xf=Math.min(b.lastLine(),Math.max(V.line,ke.line));Bf<=xf;Bf++){var lf=M(rb,Bf).text,sf=e(lf,Oe,jf);Oe==wf?rf.push(new hf(Ma(Bf,sf),Ma(Bf,sf))):lf.length>sf&&rf.push(new hf(Ma(Bf,sf),Ma(Bf,e(lf,wf,jf))))}rf.length||rf.push(new hf(V,V));Pa(rb,ua(b,Cb.ranges.slice(0,Gc).concat(rf),Gc),{origin:"*mouse",scroll:!1});b.scrollIntoView(ke)}else rf=
nc,Oe=fh(b,ke,R.unit),ke=rf.anchor,0<db(Oe.anchor,ke)?(jf=Oe.head,ke=lb(rf.from(),Oe.anchor)):(jf=Oe.anchor,ke=Sa(rf.to(),Oe.head)),rf=Cb.ranges.slice(0),rf[Gc]=pg(b,new hf(ub(rb,ke),jf)),Pa(rb,ua(b,rf,Gc),Df)}function Ca(ke){var rf=++Kd,jf=Te(b,ke,!0,"rectangle"==R.unit);if(jf)if(0!=db(jf,lc)){b.curOp.focus=u();aa(jf);var wf=Ue(Ua,rb);(jf.line>=wf.to||jf.line<wf.from)&&setTimeout(Tc(b,function(){Kd==rf&&Ca(ke)}),150)}else{var Bf=ke.clientY<dd.top?-20:ke.clientY>dd.bottom?20:0;Bf&&setTimeout(Tc(b,
function(){Kd==rf&&(Ua.scroller.scrollTop+=Bf,Ca(ke))}),50)}}function Qa(ke){b.state.selectingText=!1;Kd=Infinity;ke&&(Z(ke),Ua.input.focus());la(Ua.wrapper.ownerDocument,"mousemove",we);la(Ua.wrapper.ownerDocument,"mouseup",df);rb.history.lastSelOrigin=null}af&&zd(b);var Ua=b.display,rb=b.doc;Z(p);var Cb=rb.sel,Ub=Cb.ranges;if(R.addNew&&!R.extend){var Gc=rb.sel.contains(V);var nc=-1<Gc?Ub[Gc]:new hf(V,V)}else nc=rb.sel.primary(),Gc=rb.sel.primIndex;"rectangle"==R.unit?(R.addNew||(nc=new hf(V,V)),
V=Te(b,p,!0,!0),Gc=-1):(p=fh(b,V,R.unit),nc=R.extend?td(nc,p.anchor,p.head,R.extend):p);R.addNew?-1==Gc?(Gc=Ub.length,Pa(rb,ua(b,Ub.concat([nc]),Gc),{scroll:!1,origin:"*mouse"})):1<Ub.length&&Ub[Gc].empty()&&"char"==R.unit&&!R.extend?(Pa(rb,ua(b,Ub.slice(0,Gc).concat(Ub.slice(Gc+1)),0),{scroll:!1,origin:"*mouse"}),Cb=rb.sel):nd(rb,Gc,nc,Df):(Gc=0,Pa(rb,new kg([nc],0),Df),Cb=rb.sel);var lc=V,dd=Ua.wrapper.getBoundingClientRect(),Kd=0,we=Tc(b,function(ke){0!==ke.buttons&&Wa(ke)?Ca(ke):Qa(ke)}),df=Tc(b,
Qa);b.state.selectingText=df;ve(Ua.wrapper.ownerDocument,"mousemove",we);ve(Ua.wrapper.ownerDocument,"mouseup",df)}function pg(b,p){var V=p.anchor,R=p.head,aa=M(b.doc,V.line);if(0==db(V,R)&&V.sticky==R.sticky)return p;aa=ja(aa);if(!aa)return p;var Ca=fa(aa,V.ch,V.sticky),Qa=aa[Ca];if(Qa.from!=V.ch&&Qa.to!=V.ch)return p;var Ua=Ca+(Qa.from==V.ch==(1!=Qa.level)?0:1);if(0==Ua||Ua==aa.length)return p;R.line!=V.line?b=0<(R.line-V.line)*("ltr"==b.doc.direction?1:-1):(b=fa(aa,R.ch,R.sticky),Ca=b-Ca||(R.ch-
V.ch)*(1==Qa.level?-1:1),b=b==Ua-1||b==Ua?0>Ca:0<Ca);aa=aa[Ua+(b?-1:0)];aa=(Ua=b==(1==aa.level))?aa.from:aa.to;Ua=Ua?"after":"before";return V.ch==aa&&V.sticky==Ua?p:new hf(new Ma(V.line,aa,Ua),R)}function Hh(b,p,V,R){if(p.touches){var aa=p.touches[0].clientX;var Ca=p.touches[0].clientY}else try{aa=p.clientX,Ca=p.clientY}catch(rb){return!1}if(aa>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;R&&Z(p);R=b.display;var Qa=R.lineDiv.getBoundingClientRect();if(Ca>Qa.bottom||!Y(b,
V))return xa(p);Ca-=Qa.top-R.viewOffset;for(Qa=0;Qa<b.display.gutterSpecs.length;++Qa){var Ua=R.gutters.childNodes[Qa];if(Ua&&Ua.getBoundingClientRect().right>=aa)return aa=ba(b.doc,Ca),da(b,V,b,aa,b.display.gutterSpecs[Qa].className,p),xa(p)}}function dj(b,p){var V;(V=wd(b.display,p))||(V=Y(b,"gutterContextMenu")?Hh(b,p,"gutterContextMenu",!1):!1);if(!V&&!O(b,p,"contextmenu")&&!Kh)b.display.input.onContextMenu(p)}function ej(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,
"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");tf(b)}function xi(b,p,V){!p!=!(V&&V!=zh)&&(V=b.display.dragFunctions,p=p?ve:la,p(b.display.scroller,"dragstart",V.start),p(b.display.scroller,"dragenter",V.enter),p(b.display.scroller,"dragover",V.over),p(b.display.scroller,"dragleave",V.leave),p(b.display.scroller,"drop",V.drop))}function Pj(b){b.options.lineWrapping?(t(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(ug(b.display.wrapper,"CodeMirror-wrap"),
pb(b));vf(b);Aa(b);tf(b);setTimeout(function(){return Ka(b)},100)}function Hf(b,p){var V=this;if(!(this instanceof Hf))return new Hf(b,p);this.options=p=p?d(p):{};d(sj,p,!1);var R=p.value;"string"==typeof R?R=new ag(R,p.mode,null,p.lineSeparator,p.direction):p.mode&&(R.modeOption=p.mode);this.doc=R;var aa=new Hf.inputStyles[p.inputStyle](this);b=this.display=new Jf(b,R,aa,p);b.wrapper.CodeMirror=this;ej(this);p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Pb(this);this.state=
{keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ye,keySeq:null,specialChars:null};p.autofocus&&!kh&&b.input.focus();af&&11>gf&&setTimeout(function(){return V.display.input.reset(!0)},20);yi(this);Ni||(id(),Ni=!0);Mb(this);this.curOp.forceUpdate=!0;mc(this,R);p.autofocus&&!kh||this.hasFocus()?setTimeout(function(){V.hasFocus()&&!V.state.focused&&sd(V)},20):Zc(this);for(var Ca in Rh)if(Rh.hasOwnProperty(Ca))Rh[Ca](this,
p[Ca],zh);uf(this);p.finishInit&&p.finishInit(this);for(R=0;R<Sh.length;++R)Sh[R](this);Yb(this);Wf&&p.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function yi(b){function p(){R.activeTouch&&(aa=setTimeout(function(){return R.activeTouch=null},1E3),Ca=R.activeTouch,Ca.end=+new Date)}function V(Ua,rb){if(null==rb.left)return!0;var Cb=rb.left-Ua.left;Ua=rb.top-Ua.top;return 400<Cb*Cb+Ua*Ua}var R=b.display;ve(R.scroller,"mousedown",
Tc(b,Gh));af&&11>gf?ve(R.scroller,"dblclick",Tc(b,function(Ua){if(!O(b,Ua)){var rb=Te(b,Ua);!rb||Hh(b,Ua,"gutterClick",!0)||wd(b.display,Ua)||(Z(Ua),Ua=b.findWordAt(rb),Ld(b.doc,Ua.anchor,Ua.head))}})):ve(R.scroller,"dblclick",function(Ua){return O(b,Ua)||Z(Ua)});ve(R.scroller,"contextmenu",function(Ua){return dj(b,Ua)});ve(R.input.getField(),"contextmenu",function(Ua){R.scroller.contains(Ua.target)||dj(b,Ua)});var aa,Ca={end:0};ve(R.scroller,"touchstart",function(Ua){var rb;if(rb=!O(b,Ua))1!=Ua.touches.length?
rb=!1:(rb=Ua.touches[0],rb=1>=rb.radiusX&&1>=rb.radiusY),rb=!rb;rb&&!Hh(b,Ua,"gutterClick",!0)&&(R.input.ensurePolled(),clearTimeout(aa),rb=+new Date,R.activeTouch={start:rb,moved:!1,prev:300>=rb-Ca.end?Ca:null},1==Ua.touches.length&&(R.activeTouch.left=Ua.touches[0].pageX,R.activeTouch.top=Ua.touches[0].pageY))});ve(R.scroller,"touchmove",function(){R.activeTouch&&(R.activeTouch.moved=!0)});ve(R.scroller,"touchend",function(Ua){var rb=R.activeTouch;if(rb&&!wd(R,Ua)&&null!=rb.left&&!rb.moved&&300>
new Date-rb.start){var Cb=b.coordsChar(R.activeTouch,"page");rb=!rb.prev||V(rb,rb.prev)?new hf(Cb,Cb):!rb.prev.prev||V(rb,rb.prev.prev)?b.findWordAt(Cb):new hf(Ma(Cb.line,0),ub(b.doc,Ma(Cb.line+1,0)));b.setSelection(rb.anchor,rb.head);b.focus();Z(Ua)}p()});ve(R.scroller,"touchcancel",p);ve(R.scroller,"scroll",function(){R.scroller.clientHeight&&(yf(b,R.scroller.scrollTop),Qe(b,R.scroller.scrollLeft,!0),da(b,"scroll",b))});ve(R.scroller,"mousewheel",function(Ua){return ta(b,Ua)});ve(R.scroller,"DOMMouseScroll",
function(Ua){return ta(b,Ua)});ve(R.wrapper,"scroll",function(){return R.wrapper.scrollTop=R.wrapper.scrollLeft=0});R.dragFunctions={enter:function(Ua){O(b,Ua)||Da(Ua)},over:function(Ua){if(!O(b,Ua)){var rb=Te(b,Ua);if(rb){var Cb=document.createDocumentFragment();tc(b,rb,Cb);b.display.dragCursor||(b.display.dragCursor=G("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));w(b.display.dragCursor,Cb)}Da(Ua)}},start:function(Ua){if(af&&
(!b.state.draggingText||100>+new Date-li))Da(Ua);else if(!O(b,Ua)&&!wd(b.display,Ua)&&(Ua.dataTransfer.setData("Text",b.getSelection()),Ua.dataTransfer.effectAllowed="copyMove",Ua.dataTransfer.setDragImage&&!Ug)){var rb=G("img",null,null,"position: fixed; left: 0; top: 0;");rb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";dg&&(rb.width=rb.height=1,b.display.wrapper.appendChild(rb),rb._top=rb.offsetTop);Ua.dataTransfer.setDragImage(rb,0,0);dg&&rb.parentNode.removeChild(rb)}},
drop:Tc(b,Qd),leave:function(Ua){O(b,Ua)||Ud(b)}};var Qa=R.input.getField();ve(Qa,"keyup",function(Ua){return Xf.call(b,Ua)});ve(Qa,"keydown",Tc(b,$i));ve(Qa,"keypress",Tc(b,ai));ve(Qa,"focus",function(Ua){return sd(b,Ua)});ve(Qa,"blur",function(Ua){return Zc(b,Ua)})}function Rg(b,p,V,R){var aa=b.doc,Ca;null==V&&(V="add");"smart"==V&&(aa.mode.indent?Ca=$c(b,p).state:V="prev");var Qa=b.options.tabSize,Ua=M(aa,p),rb=g(Ua.text,null,Qa);Ua.stateAfter&&(Ua.stateAfter=null);var Cb=Ua.text.match(/^\s*/)[0];
if(!R&&!/\S/.test(Ua.text)){var Ub=0;V="not"}else if("smart"==V&&(Ub=aa.mode.indent(Ca,Ua.text.slice(Cb.length),Ua.text),Ub==Vg||150<Ub)){if(!R)return;V="prev"}"prev"==V?Ub=p>aa.first?g(M(aa,p-1).text,null,Qa):0:"add"==V?Ub=rb+b.options.indentUnit:"subtract"==V?Ub=rb-b.options.indentUnit:"number"==typeof V&&(Ub=rb+V);Ub=Math.max(0,Ub);V="";R=0;if(b.options.indentWithTabs)for(b=Math.floor(Ub/Qa);b;--b)R+=Qa,V+="\t";R<Ub&&(V+=n(Ub-R));if(V!=Cb)return Dc(aa,V,Ma(p,0),Ma(p,Cb.length),"+input"),Ua.stateAfter=
null,!0;for(Qa=0;Qa<aa.sel.ranges.length;Qa++)if(Ua=aa.sel.ranges[Qa],Ua.head.line==p&&Ua.head.ch<Cb.length){p=Ma(p,Cb.length);nd(aa,Qa,new hf(p,p));break}}function zi(b,p,V,R,aa){var Ca=b.doc;b.display.shift=!1;R||(R=Ca.sel);var Qa=+new Date-200,Ua="paste"==aa||b.state.pasteIncoming>Qa,rb=Hi(p),Cb=null;if(Ua&&1<R.ranges.length)if(eg&&eg.text.join("\n")==p){if(0==R.ranges.length%eg.text.length){Cb=[];for(var Ub=0;Ub<eg.text.length;Ub++)Cb.push(Ca.splitLines(eg.text[Ub]))}}else rb.length==R.ranges.length&&
b.options.pasteLinesPerSelection&&(Cb=A(rb,function(Kd){return[Kd]}));Ub=b.curOp.updateInput;for(var Gc=R.ranges.length-1;0<=Gc;Gc--){var nc=R.ranges[Gc],lc=nc.from(),dd=nc.to();nc.empty()&&(V&&0<V?lc=Ma(lc.line,lc.ch-V):b.state.overwrite&&!Ua?dd=Ma(dd.line,Math.min(M(Ca,dd.line).text.length,dd.ch+y(rb).length)):Ua&&eg&&eg.lineWise&&eg.text.join("\n")==rb.join("\n")&&(lc=dd=Ma(lc.line,0)));nc={from:lc,to:dd,text:Cb?Cb[Gc%Cb.length]:rb,origin:aa||(Ua?"paste":b.state.cutIncoming>Qa?"cut":"+input")};
$a(b.doc,nc);qc(b,"inputRead",b,nc)}p&&!Ua&&Bi(b,p);xe(b);2>b.curOp.updateInput&&(b.curOp.updateInput=Ub);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function Ai(b,p){var V=b.clipboardData&&b.clipboardData.getData("Text");if(V)return b.preventDefault(),p.isReadOnly()||p.options.disableInput||ec(p,function(){return zi(p,V,0,null,"paste")}),!0}function Bi(b,p){if(b.options.electricChars&&b.options.smartIndent)for(var V=b.doc.sel,R=V.ranges.length-1;0<=R;R--){var aa=V.ranges[R];if(!(100<
aa.head.ch||R&&V.ranges[R-1].head.line==aa.head.line)){var Ca=b.getModeAt(aa.head),Qa=!1;if(Ca.electricChars)for(var Ua=0;Ua<Ca.electricChars.length;Ua++){if(-1<p.indexOf(Ca.electricChars.charAt(Ua))){Qa=Rg(b,aa.head.line,"smart");break}}else Ca.electricInput&&Ca.electricInput.test(M(b.doc,aa.head.line).text.slice(0,aa.head.ch))&&(Qa=Rg(b,aa.head.line,"smart"));Qa&&qc(b,"electricInput",b,aa.head.line)}}}function Ih(b){for(var p=[],V=[],R=0;R<b.doc.sel.ranges.length;R++){var aa=b.doc.sel.ranges[R].head.line;
aa={anchor:Ma(aa,0),head:Ma(aa+1,0)};V.push(aa);p.push(b.getRange(aa.anchor,aa.head))}return{text:p,ranges:V}}function Sg(b,p,V,R){b.setAttribute("autocorrect",V?"":"off");b.setAttribute("autocapitalize",R?"":"off");b.setAttribute("spellcheck",!!p)}function gj(){var b=G("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),p=G("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Wf?b.style.width="1000px":b.setAttribute("wrap",
"off");ih&&(b.style.border="1px solid black");Sg(b);return p}function Di(b,p,V,R,aa){function Ca(Kd){if("codepoint"==R){var we=rb.text.charCodeAt(p.ch+(0<R?0:-1));we=isNaN(we)?null:new Ma(p.line,Math.max(0,Math.min(rb.text.length,p.ch+V*((0<V?55296<=we&&56320>we:56320<=we&&57343>we)?2:1))),-V)}else we=aa?Xi(b.cm,rb,p,V):Dh(rb,p,V);if(null==we){if(Kd=!Kd)Kd=p.line+Cb,Kd<b.first||Kd>=b.first+b.size?Kd=!1:(p=new Ma(Kd,p.ch,p.sticky),Kd=rb=M(b,Kd));if(Kd)p=eh(aa,b.cm,rb,p.line,Cb);else return!1}else p=
we;return!0}var Qa=p,Ua=V,rb=M(b,p.line),Cb=aa&&"rtl"==b.direction?-V:V;if("char"==R||"codepoint"==R)Ca();else if("column"==R)Ca(!0);else if("word"==R||"group"==R)for(var Ub=null,Gc="group"==R,nc=b.cm&&b.cm.getHelper(p,"wordChars"),lc=!0;!(0>V)||Ca(!lc);lc=!1){var dd=rb.text.charAt(p.ch)||"\n";dd=x(dd,nc)?"w":Gc&&"\n"==dd?"n":!Gc||/\s/.test(dd)?null:"p";!Gc||lc||dd||(dd="s");if(Ub&&Ub!=dd){0>V&&(V=1,Ca(),p.sticky="after");break}dd&&(Ub=dd);if(0<V&&!Ca(!lc))break}Ua=q(b,p,Qa,Ua,!0);ab(Qa,Ua)&&(Ua.hitSide=
!0);return Ua}function hj(b,p,V,R){var aa=b.doc,Ca=p.left;if("page"==R){var Qa=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Je(b.display),3);Qa=(0<V?p.bottom:p.top)+V*Qa}else"line"==R&&(Qa=0<V?p.bottom+3:p.top-3);for(;;){p=Ed(b,Ca,Qa);if(!p.outside)break;if(0>V?0>=Qa:Qa>=aa.height){p.hitSide=!0;break}Qa+=5*V}return p}function ij(b,p){var V=Ae(b,p.line);if(!V||V.hidden)return null;var R=M(b.doc,p.line);V=ze(V,R,p.line);b=ja(R,b.doc.direction);
R="left";b&&(R=fa(b,p.ch)%2?"right":"left");p=Zd(V.map,p.ch,R);p.offset="right"==p.collapse?p.end:p.start;return p}function jj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function hh(b,p){p&&(b.bad=!0);return b}function Ci(b,p,V,R,aa){function Ca(lc){return function(dd){return dd.id==lc}}function Qa(){Ub&&(Cb+=Gc,nc&&(Cb+=Gc),Ub=nc=!1)}function Ua(lc){lc&&(Qa(),Cb+=lc)}function rb(lc){if(1==lc.nodeType){var dd=lc.getAttribute("cm-text");if(dd)Ua(dd);
else{dd=lc.getAttribute("cm-marker");var Kd;if(dd)lc=b.findMarks(Ma(R,0),Ma(aa+1,0),Ca(+dd)),lc.length&&(Kd=lc[0].find(0))&&Ua(P(b.doc,Kd.from,Kd.to).join(Gc));else if("false"!=lc.getAttribute("contenteditable")&&(Kd=/^(pre|div|p|li|table|br)$/i.test(lc.nodeName),/^br$/i.test(lc.nodeName)||0!=lc.textContent.length)){Kd&&Qa();for(dd=0;dd<lc.childNodes.length;dd++)rb(lc.childNodes[dd]);/^(pre|p)$/i.test(lc.nodeName)&&(nc=!0);Kd&&(Ub=!0)}}}else 3==lc.nodeType&&Ua(lc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g,
" "))}for(var Cb="",Ub=!1,Gc=b.doc.lineSeparator(),nc=!1;;){rb(p);if(p==V)break;p=p.nextSibling;nc=!1}return Cb}function di(b,p,V){if(p==b.display.lineDiv){var R=b.display.lineDiv.childNodes[V];if(!R)return hh(b.clipPos(Ma(b.display.viewTo-1)),!0);p=null;V=0}else for(R=p;;R=R.parentNode){if(!R||R==b.display.lineDiv)return null;if(R.parentNode&&R.parentNode==b.display.lineDiv)break}for(var aa=0;aa<b.display.view.length;aa++){var Ca=b.display.view[aa];if(Ca.node==R)return kj(Ca,p,V)}}function kj(b,
p,V){function R(Ub,Gc,nc){for(var lc=-1;lc<(Cb?Cb.length:0);lc++)for(var dd=0>lc?rb.map:Cb[lc],Kd=0;Kd<dd.length;Kd+=3){var we=dd[Kd+2];if(we==Ub||we==Gc){Gc=oa(0>lc?b.line:b.rest[lc]);lc=dd[Kd]+nc;if(0>nc||we!=Ub)lc=dd[Kd+(nc?1:0)];return Ma(Gc,lc)}}}var aa=b.text.firstChild,Ca=!1;if(!p||!v(aa,p))return hh(Ma(oa(b.line),0),!0);if(p==aa&&(Ca=!0,p=aa.childNodes[V],V=0,!p))return V=b.rest?y(b.rest):b.line,hh(Ma(oa(V),V.text.length),Ca);var Qa=3==p.nodeType?p:null,Ua=p;Qa||1!=p.childNodes.length||3!=
p.firstChild.nodeType||(Qa=p.firstChild,V&&(V=Qa.nodeValue.length));for(;Ua.parentNode!=aa;)Ua=Ua.parentNode;var rb=b.measure,Cb=rb.maps;if(p=R(Qa,Ua,V))return hh(p,Ca);aa=Ua.nextSibling;for(Qa=Qa?Qa.nodeValue.length-V:0;aa;aa=aa.nextSibling){if(p=R(aa,aa.firstChild,0))return hh(Ma(p.line,p.ch-Qa),Ca);Qa+=aa.textContent.length}for(Ua=Ua.previousSibling;Ua;Ua=Ua.previousSibling){if(p=R(Ua,Ua.firstChild,-1))return hh(Ma(p.line,p.ch+V),Ca);V+=Ua.textContent.length}}var $f=navigator.userAgent,Jg=navigator.platform,
Yf=/gecko\/\d/i.test($f),ei=/MSIE \d/.test($f),qg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec($f),fi=/Edge\/(\d+)/.exec($f),af=ei||qg||fi,gf=af&&(ei?document.documentMode||6:+(fi||qg)[1]),Wf=!fi&&/WebKit\//.test($f),Jh=Wf&&/Qt\/\d+\.\d+/.test($f),Kg=!fi&&/Chrome\//.test($f),dg=/Opera\//.test($f),Ug=/Apple Computer/.test(navigator.vendor),lj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test($f),Ei=/PhantomJS/.test($f),ih=Ug&&(/Mobile\/\w+/.test($f)||2<navigator.maxTouchPoints),jh=/Android/.test($f),kh=ih||jh||
/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test($f),rg=ih||/Mac/.test(Jg),mj=/\bCrOS\b/.test($f),hg=/win/i.test(Jg),Lg=dg&&$f.match(/Version\/(\d*\.\d*)/);Lg&&(Lg=Number(Lg[1]));Lg&&15<=Lg&&(dg=!1,Wf=!0);var Fi=rg&&(Jh||dg&&(null==Lg||12.11>Lg)),Kh=Yf||af&&9<=gf,ug=function(b,p){var V=b.className;if(p=m(p).exec(V)){var R=V.slice(p.index+p[0].length);b.className=V.slice(0,p.index)+(R?p[1]+R:"")}};var lh=document.createRange?function(b,p,V,R){var aa=document.createRange();aa.setEnd(R||b,V);
aa.setStart(b,p);return aa}:function(b,p,V){var R=document.body.createTextRange();try{R.moveToElementText(b.parentNode)}catch(aa){return R}R.collapse(!0);R.moveEnd("character",V);R.moveStart("character",p);return R};var mh=function(b){b.select()};ih?mh=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:af&&(mh=function(b){try{b.select()}catch(p){}});var Ye=function(){this.f=this.id=null;this.time=0;this.handler=f(this.onTimeout,this)};Ye.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?
b.f():setTimeout(b.handler,b.time-+new Date)};Ye.prototype.set=function(b,p){this.f=p;p=+new Date+b;if(!this.id||p<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=p};var Vg={toString:function(){return"CodeMirror.Pass"}},Kf={scroll:!1},Df={origin:"*mouse"},nh={origin:"+move"},gi=[""],nj=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,hi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ph=null,Wg=function(){function b(Ua){return 247>=Ua?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Ua):1424<=Ua&&1524>=Ua?"R":1536<=Ua&&1785>=Ua?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Ua-
1536):1774<=Ua&&2220>=Ua?"r":8192<=Ua&&8203>=Ua?"w":8204==Ua?"b":"L"}function p(Ua,rb,Cb){this.level=Ua;this.from=rb;this.to=Cb}var V=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,R=/[stwN]/,aa=/[LRr]/,Ca=/[Lb1n]/,Qa=/[1n]/;return function(Ua,rb){var Cb="ltr"==rb?"L":"R";if(0==Ua.length||"ltr"==rb&&!V.test(Ua))return!1;for(var Ub=Ua.length,Gc=[],nc=0;nc<Ub;++nc)Gc.push(b(Ua.charCodeAt(nc)));nc=0;for(var lc=Cb;nc<Ub;++nc){var dd=Gc[nc];"m"==dd?Gc[nc]=lc:lc=dd}nc=0;for(lc=Cb;nc<Ub;++nc)dd=Gc[nc],"1"==
dd&&"r"==lc?Gc[nc]="n":aa.test(dd)&&(lc=dd,"r"==dd&&(Gc[nc]="R"));nc=1;for(lc=Gc[0];nc<Ub-1;++nc)dd=Gc[nc],"+"==dd&&"1"==lc&&"1"==Gc[nc+1]?Gc[nc]="1":","!=dd||lc!=Gc[nc+1]||"1"!=lc&&"n"!=lc||(Gc[nc]=lc),lc=dd;for(nc=0;nc<Ub;++nc)if(lc=Gc[nc],","==lc)Gc[nc]="N";else if("%"==lc){for(lc=nc+1;lc<Ub&&"%"==Gc[lc];++lc);for(dd=nc&&"!"==Gc[nc-1]||lc<Ub&&"1"==Gc[lc]?"1":"N";nc<lc;++nc)Gc[nc]=dd;nc=lc-1}nc=0;for(lc=Cb;nc<Ub;++nc)dd=Gc[nc],"L"==lc&&"1"==dd?Gc[nc]="L":aa.test(dd)&&(lc=dd);for(lc=0;lc<Ub;++lc)if(R.test(Gc[lc])){for(nc=
lc+1;nc<Ub&&R.test(Gc[nc]);++nc);dd="L"==(lc?Gc[lc-1]:Cb);for(dd=dd==("L"==(nc<Ub?Gc[nc]:Cb))?dd?"L":"R":Cb;lc<nc;++lc)Gc[lc]=dd;lc=nc-1}Cb=[];var Kd;for(nc=0;nc<Ub;)if(Ca.test(Gc[nc])){lc=nc;for(++nc;nc<Ub&&Ca.test(Gc[nc]);++nc);Cb.push(new p(0,lc,nc))}else{var we=nc;lc=Cb.length;dd="rtl"==rb?1:0;for(++nc;nc<Ub&&"L"!=Gc[nc];++nc);for(var df=we;df<nc;)if(Qa.test(Gc[df])){we<df&&(Cb.splice(lc,0,new p(1,we,df)),lc+=dd);we=df;for(++df;df<nc&&Qa.test(Gc[df]);++df);Cb.splice(lc,0,new p(2,we,df));lc+=dd;
we=df}else++df;we<nc&&Cb.splice(lc,0,new p(1,we,nc))}"ltr"==rb&&(1==Cb[0].level&&(Kd=Ua.match(/^\s+/))&&(Cb[0].from=Kd[0].length,Cb.unshift(new p(0,0,Kd[0].length))),1==y(Cb).level&&(Kd=Ua.match(/\s+$/))&&(y(Cb).to-=Kd[0].length,Cb.push(new p(0,Ub-Kd[0].length,Ub))));return"rtl"==rb?Cb.reverse():Cb}}(),oh=[],ve=function(b,p,V){b.addEventListener?b.addEventListener(p,V,!1):b.attachEvent?b.attachEvent("on"+p,V):(b=b._handlers||(b._handlers={}),b[p]=(b[p]||oh).concat(V))},Gi=function(){if(af&&9>gf)return!1;
var b=G("div");return"draggable"in b||"dragDrop"in b}(),ii,ji,Hi=3!="\n\nb".split(/\n/).length?function(b){for(var p=0,V=[],R=b.length;p<=R;){var aa=b.indexOf("\n",p);-1==aa&&(aa=b.length);var Ca=b.slice(p,"\r"==b.charAt(aa-1)?aa-1:aa),Qa=Ca.indexOf("\r");-1!=Qa?(V.push(Ca.slice(0,Qa)),p+=Qa+1):(V.push(Ca),p=aa+1)}return V}:function(b){return b.split(/\r\n?|\n/)},Wi=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(p){return!1}}:function(b){try{var p=b.ownerDocument.selection.createRange()}catch(V){}return p&&
p.parentElement()==b?0!=p.compareEndPoints("StartToEnd",p):!1},oj=function(){var b=G("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),Ii=null,dh={},qh={},Mg={},Lf=function(b,p,V){this.pos=this.start=0;this.string=b;this.tabSize=p||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=V};Lf.prototype.eol=function(){return this.pos>=this.string.length};Lf.prototype.sol=function(){return this.pos==this.lineStart};Lf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};Lf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Lf.prototype.eat=function(b){var p=this.string.charAt(this.pos);if("string"==typeof b?p==b:p&&(b.test?b.test(p):b(p)))return++this.pos,p};Lf.prototype.eatWhile=function(b){for(var p=this.pos;this.eat(b););return this.pos>p};Lf.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};Lf.prototype.skipToEnd=function(){this.pos=this.string.length};Lf.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};Lf.prototype.backUp=function(b){this.pos-=b};Lf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=g(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?g(this.string,this.lineStart,this.tabSize):0)};Lf.prototype.indentation=
function(){return g(this.string,null,this.tabSize)-(this.lineStart?g(this.string,this.lineStart,this.tabSize):0)};Lf.prototype.match=function(b,p,V){if("string"==typeof b){var R=function(Ca){return V?Ca.toLowerCase():Ca},aa=this.string.substr(this.pos,b.length);if(R(aa)==R(b))return!1!==p&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==p&&(this.pos+=b[0].length);return b}};Lf.prototype.current=function(){return this.string.slice(this.start,
this.pos)};Lf.prototype.hideFirstChars=function(b,p){this.lineStart+=b;try{return p()}finally{this.lineStart-=b}};Lf.prototype.lookAhead=function(b){var p=this.lineOracle;return p&&p.lookAhead(b)};Lf.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Lh=function(b,p){this.state=b;this.lookAhead=p},Ag=function(b,p,V,R){this.state=p;this.doc=b;this.line=V;this.maxLookAhead=R||0;this.baseTokens=null;this.baseTokenPos=1};Ag.prototype.lookAhead=function(b){var p=
this.doc.getLine(this.line+b);null!=p&&b>this.maxLookAhead&&(this.maxLookAhead=b);return p};Ag.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};Ag.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};Ag.fromSaved=function(b,p,V){return p instanceof Lh?new Ag(b,
pa(b.mode,p.state),V,p.lookAhead):new Ag(b,pa(b.mode,p),V)};Ag.prototype.save=function(b){b=!1!==b?pa(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Lh(b,this.maxLookAhead):b};var Ki=function(b,p,V){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=p||null;this.state=V},pj=!1,Hg=!1,Ng=function(b,p,V){this.text=b;cd(this,p);this.height=V?V(this):1};Ng.prototype.lineNo=function(){return oa(this)};ka(Ng);var Qj={},Li={},Xg=null,rh=null,Mi={left:0,right:0,top:0,
bottom:0},sg,Bg=function(b,p,V){this.cm=V;var R=this.vert=G("div",[G("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),aa=this.horiz=G("div",[G("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");R.tabIndex=aa.tabIndex=-1;b(R);b(aa);ve(R,"scroll",function(){R.clientHeight&&p(R.scrollTop,"vertical")});ve(aa,"scroll",function(){aa.clientWidth&&p(aa.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;af&&8>gf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
Bg.prototype.update=function(b){var p=b.scrollWidth>b.clientWidth+1,V=b.scrollHeight>b.clientHeight+1,R=b.nativeBarWidth;V?(this.vert.style.display="block",this.vert.style.bottom=p?R+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(p?R:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");p?(this.horiz.style.display="block",this.horiz.style.right=V?R+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(V?R:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==R&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:V?R:0,bottom:p?R:0}};Bg.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Bg.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Bg.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=rg&&!lj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Ye;this.disableVert=new Ye};Bg.prototype.enableZeroWidthBar=function(b,p,V){function R(){var aa=b.getBoundingClientRect();("vert"==V?document.elementFromPoint(aa.right-1,(aa.top+aa.bottom)/2):document.elementFromPoint((aa.right+
aa.left)/2,aa.bottom-1))!=b?b.style.pointerEvents="none":p.set(1E3,R)}b.style.pointerEvents="auto";p.set(1E3,R)};Bg.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Cg=function(){};Cg.prototype.update=function(){return{bottom:0,right:0}};Cg.prototype.setScrollLeft=function(){};Cg.prototype.setScrollTop=function(){};Cg.prototype.clear=function(){};var Mh={"native":Bg,"null":Cg},Rj=0,Oh=function(b,p,V){var R=b.display;this.viewport=p;this.visible=
Ue(R,b.doc,p);this.editorIsHidden=!R.wrapper.offsetWidth;this.wrapperHeight=R.wrapper.clientHeight;this.wrapperWidth=R.wrapper.clientWidth;this.oldDisplayWidth=fe(b);this.force=V;this.dims=Pe(b);this.events=[]};Oh.prototype.signal=function(b,p){Y(b,p)&&this.events.push(arguments)};Oh.prototype.finish=function(){for(var b=0;b<this.events.length;b++)da.apply(null,this.events[b])};var Nh=0,jg=null;af?jg=-.53:Yf?jg=15:Kg?jg=-.7:Ug&&(jg=-1/3);var kg=function(b,p){this.ranges=b;this.primIndex=p};kg.prototype.primary=
function(){return this.ranges[this.primIndex]};kg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var V=this.ranges[p],R=b.ranges[p];if(!ab(V.anchor,R.anchor)||!ab(V.head,R.head))return!1}return!0};kg.prototype.deepCopy=function(){for(var b=[],p=0;p<this.ranges.length;p++)b[p]=new hf(Ba(this.ranges[p].anchor),Ba(this.ranges[p].head));return new kg(b,this.primIndex)};kg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};kg.prototype.contains=function(b,p){p||(p=b);for(var V=0;V<this.ranges.length;V++){var R=this.ranges[V];if(0<=db(p,R.from())&&0>=db(b,R.to()))return V}return-1};var hf=function(b,p){this.anchor=b;this.head=p};hf.prototype.from=function(){return lb(this.anchor,this.head)};hf.prototype.to=function(){return Sa(this.anchor,this.head)};hf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Cc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,p){for(var V=b,R=b+p;V<R;++V){var aa=this.lines[V];this.height-=aa.height;var Ca=aa;Ca.parent=null;hd(Ca);qc(aa,"delete")}this.lines.splice(b,p)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,p,V){this.height+=V;this.lines=this.lines.slice(0,b).concat(p).concat(this.lines.slice(b));for(b=0;b<p.length;++b)p[b].parent=this},iterN:function(b,p,V){for(p=b+p;b<p;++b)if(V(this.lines[b]))return!0}};
jd.prototype={chunkSize:function(){return this.size},removeInner:function(b,p){this.size-=p;for(var V=0;V<this.children.length;++V){var R=this.children[V],aa=R.chunkSize();if(b<aa){var Ca=Math.min(p,aa-b),Qa=R.height;R.removeInner(b,Ca);this.height-=Qa-R.height;aa==Ca&&(this.children.splice(V--,1),R.parent=null);if(0==(p-=Ca))break;b=0}else b-=aa}25>this.size-p&&(1<this.children.length||!(this.children[0]instanceof Cc))&&(b=[],this.collapse(b),this.children=[new Cc(b)],this.children[0].parent=this)},
collapse:function(b){for(var p=0;p<this.children.length;++p)this.children[p].collapse(b)},insertInner:function(b,p,V){this.size+=p.length;this.height+=V;for(var R=0;R<this.children.length;++R){var aa=this.children[R],Ca=aa.chunkSize();if(b<=Ca){aa.insertInner(b,p,V);if(aa.lines&&50<aa.lines.length){for(p=b=aa.lines.length%25+25;p<aa.lines.length;)V=new Cc(aa.lines.slice(p,p+=25)),aa.height-=V.height,this.children.splice(++R,0,V),V.parent=this;aa.lines=aa.lines.slice(0,b);this.maybeSpill()}break}b-=
Ca}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var p=b.children.splice(b.children.length-5,5);p=new jd(p);if(b.parent){b.size-=p.size;b.height-=p.height;var V=a(b.parent.children,b);b.parent.children.splice(V+1,0,p)}else V=new jd(b.children),V.parent=b,b.children=[V,p],b=V;p.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,p,V){for(var R=0;R<this.children.length;++R){var aa=this.children[R],Ca=aa.chunkSize();if(b<Ca){Ca=Math.min(p,Ca-b);
if(aa.iterN(b,Ca,V))return!0;if(0==(p-=Ca))break;b=0}else b-=Ca}}};var sh=function(b,p,V){if(V)for(var R in V)V.hasOwnProperty(R)&&(this[R]=V[R]);this.doc=b;this.node=p};sh.prototype.clear=function(){var b=this.doc.cm,p=this.line.widgets,V=this.line,R=oa(V);if(null!=R&&p){for(var aa=0;aa<p.length;++aa)p[aa]==this&&p.splice(aa--,1);p.length||(V.widgets=null);var Ca=md(this);ea(V,Math.max(0,V.height-Ca));b&&(ec(b,function(){var Qa=-Ca;Ha(V)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Wc(b,Qa);Xa(b,
R,"widget")}),qc(b,"lineWidgetCleared",b,this,R))}};sh.prototype.changed=function(){var b=this,p=this.height,V=this.doc.cm,R=this.line;this.height=null;var aa=md(this)-p;aa&&(Pd(this.doc,R)||ea(R,R.height+aa),V&&ec(V,function(){V.curOp.forceUpdate=!0;Ha(R)<(V.curOp&&V.curOp.scrollTop||V.doc.scrollTop)&&Wc(V,aa);qc(V,"lineWidgetChanged",V,b,oa(R))}))};ka(sh);var ki=0,vg=function(b,p){this.lines=[];this.type=p;this.doc=b;this.id=++ki};vg.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,p=b&&!b.curOp;p&&Mb(b);if(Y(this,"clear")){var V=this.find();V&&qc(this,"clear",V.from,V.to)}for(var R=V=null,aa=0;aa<this.lines.length;++aa){var Ca=this.lines[aa],Qa=Sc(Ca.markedSpans,this);b&&!this.collapsed?Xa(b,oa(Ca),"text"):b&&(null!=Qa.to&&(R=oa(Ca)),null!=Qa.from&&(V=oa(Ca)));for(var Ua=Ca,rb=void 0,Cb=Ca.markedSpans,Ub=Qa,Gc=0;Gc<Cb.length;++Gc)Cb[Gc]!=Ub&&(rb||(rb=[])).push(Cb[Gc]);Ua.markedSpans=rb;null==Qa.from&&this.collapsed&&!Pd(this.doc,Ca)&&b&&ea(Ca,Je(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(aa=0;aa<this.lines.length;++aa)Ca=Sb(this.lines[aa]),Qa=Ya(Ca),Qa>b.display.maxLineLength&&(b.display.maxLine=Ca,b.display.maxLineLength=Qa,b.display.maxLineChanged=!0);null!=V&&b&&this.collapsed&&Aa(b,V,R+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Eb(b.doc));b&&qc(b,"markerCleared",b,this,V,R);p&&Yb(b);this.parent&&this.parent.clear()}};vg.prototype.find=function(b,p){null==b&&"bookmark"==this.type&&
(b=1);for(var V,R,aa=0;aa<this.lines.length;++aa){var Ca=this.lines[aa],Qa=Sc(Ca.markedSpans,this);if(null!=Qa.from&&(V=Ma(p?Ca:oa(Ca),Qa.from),-1==b))return V;if(null!=Qa.to&&(R=Ma(p?Ca:oa(Ca),Qa.to),1==b))return R}return V&&{from:V,to:R}};vg.prototype.changed=function(){var b=this,p=this.find(-1,!0),V=this,R=this.doc.cm;p&&R&&ec(R,function(){var aa=p.line,Ca=oa(p.line);if(Ca=Ae(R,Ca))Ke(Ca),R.curOp.selectionChanged=R.curOp.forceUpdate=!0;R.curOp.updateMaxLine=!0;Pd(V.doc,aa)||null==V.height||(Ca=
V.height,V.height=null,(Ca=md(V)-Ca)&&ea(aa,aa.height+Ca));qc(R,"markerChanged",R,b)})};vg.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;p.maybeHiddenMarkers&&-1!=a(p.maybeHiddenMarkers,this)||(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};vg.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
ka(vg);var th=function(b,p){this.markers=b;this.primary=p;for(p=0;p<b.length;++p)b[p].parent=this};th.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();qc(this,"clear")}};th.prototype.find=function(b,p){return this.primary.find(b,p)};ka(th);var qj=0,ag=function(b,p,V,R,aa){if(!(this instanceof ag))return new ag(b,p,V,R,aa);null==V&&(V=0);jd.call(this,[new Cc([new Ng("",null)])]);this.first=V;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=V;V=Ma(V,0);this.sel=Ia(V);this.history=new Ja(null);this.id=++qj;this.modeOption=p;this.lineSep=R;this.direction="rtl"==aa?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Hb(this,{from:V,to:V,text:b});Pa(this,Ia(V),Kf)};ag.prototype=K(jd.prototype,{constructor:ag,iter:function(b,p,V){V?this.iterN(b-this.first,p-b,V):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
p){for(var V=0,R=0;R<p.length;++R)V+=p[R].height;this.insertInner(b-this.first,p,V)},remove:function(b,p){this.removeInner(b-this.first,p)},getValue:function(b){var p=ca(this,this.first,this.first+this.size);return!1===b?p:p.join(b||this.lineSeparator())},setValue:bd(function(b){var p=Ma(this.first,0),V=this.first+this.size-1;$a(this,{from:p,to:Ma(V,M(this,V).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&Me(this.cm,0,0);Pa(this,Ia(p),Kf)}),replaceRange:function(b,p,
V,R){p=ub(this,p);V=V?ub(this,V):p;Dc(this,b,p,V,R)},getRange:function(b,p,V){b=P(this,ub(this,b),ub(this,p));return!1===V?b:b.join(V||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Fa(this,b))return M(this,b)},getLineNumber:function(b){return oa(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=M(this,b));return Sb(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return ub(this,b)},getCursor:function(b){var p=this.sel.primary();return null==b||"head"==b?p.head:"anchor"==b?p.anchor:"end"==b||"to"==b||!1===b?p.to():p.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:bd(function(b,p,V){b=ub(this,"number"==typeof b?Ma(b,p||0):b);Pa(this,Ia(b,null),V)}),setSelection:bd(function(b,p,V){var R=ub(this,b);b=ub(this,p||b);Pa(this,Ia(R,b),V)}),extendSelection:bd(function(b,
p,V){Ld(this,ub(this,b),p&&ub(this,p),V)}),extendSelections:bd(function(b,p){Yc(this,Jb(this,b),p)}),extendSelectionsBy:bd(function(b,p){b=A(this.sel.ranges,b);Yc(this,Jb(this,b),p)}),setSelections:bd(function(b,p,V){if(b.length){for(var R=[],aa=0;aa<b.length;aa++)R[aa]=new hf(ub(this,b[aa].anchor),ub(this,b[aa].head));null==p&&(p=Math.min(b.length-1,this.sel.primIndex));Pa(this,ua(this.cm,R,p),V)}}),addSelection:bd(function(b,p,V){var R=this.sel.ranges.slice(0);R.push(new hf(ub(this,b),ub(this,p||
b)));Pa(this,ua(this.cm,R,R.length-1),V)}),getSelection:function(b){for(var p=this.sel.ranges,V,R=0;R<p.length;R++){var aa=P(this,p[R].from(),p[R].to());V=V?V.concat(aa):aa}return!1===b?V:V.join(b||this.lineSeparator())},getSelections:function(b){for(var p=[],V=this.sel.ranges,R=0;R<V.length;R++){var aa=P(this,V[R].from(),V[R].to());!1!==b&&(aa=aa.join(b||this.lineSeparator()));p[R]=aa}return p},replaceSelection:function(b,p,V){for(var R=[],aa=0;aa<this.sel.ranges.length;aa++)R[aa]=b;this.replaceSelections(R,
p,V||"+input")},replaceSelections:bd(function(b,p,V){for(var R=[],aa=this.sel,Ca=0;Ca<aa.ranges.length;Ca++){var Qa=aa.ranges[Ca];R[Ca]={from:Qa.from(),to:Qa.to(),text:this.splitLines(b[Ca]),origin:V}}if(b=p&&"end"!=p){b=[];aa=V=Ma(this.first,0);for(Ca=0;Ca<R.length;Ca++){var Ua=R[Ca];Qa=nb(Ua.from,V,aa);var rb=nb(La(Ua),V,aa);V=Ua.to;aa=rb;"around"==p?(Ua=this.sel.ranges[Ca],Ua=0>db(Ua.head,Ua.anchor),b[Ca]=new hf(Ua?rb:Qa,Ua?Qa:rb)):b[Ca]=new hf(Qa,Qa)}b=new kg(b,this.sel.primIndex)}p=b;for(b=R.length-
1;0<=b;b--)$a(this,R[b]);p?Ce(this,p):this.cm&&xe(this.cm)}),undo:bd(function(){qb(this,"undo")}),redo:bd(function(){qb(this,"redo")}),undoSelection:bd(function(){qb(this,"undo",!0)}),redoSelection:bd(function(){qb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,p=0,V=0,R=0;R<b.done.length;R++)b.done[R].ranges||++p;for(R=0;R<b.undone.length;R++)b.undone[R].ranges||++V;return{undo:p,redo:V}},clearHistory:function(){var b=
this;this.history=new Ja(this.history.maxGeneration);Tb(this,function(p){return p.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Lc(this.history.done),undone:Lc(this.history.undone)}},setHistory:function(b){var p=
this.history=new Ja(this.history.maxGeneration);p.done=Lc(b.done.slice(0),null,!0);p.undone=Lc(b.undone.slice(0),null,!0)},setGutterMarker:bd(function(b,p,V){return Uc(this,b,"gutter",function(R){var aa=R.gutterMarkers||(R.gutterMarkers={});aa[p]=V;!V&&D(aa)&&(R.gutterMarkers=null);return!0})}),clearGutter:bd(function(b){var p=this;this.iter(function(V){V.gutterMarkers&&V.gutterMarkers[b]&&Uc(p,V,"gutter",function(){V.gutterMarkers[b]=null;D(V.gutterMarkers)&&(V.gutterMarkers=null);return!0})})}),
lineInfo:function(b){if("number"==typeof b){if(!Fa(this,b))return null;var p=b;b=M(this,b);if(!b)return null}else if(p=oa(b),null==p)return null;return{line:p,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:bd(function(b,p,V){return Uc(this,b,"gutter"==p?"gutter":"class",function(R){var aa="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass";if(R[aa]){if(m(V).test(R[aa]))return!1;
R[aa]+=" "+V}else R[aa]=V;return!0})}),removeLineClass:bd(function(b,p,V){return Uc(this,b,"gutter"==p?"gutter":"class",function(R){var aa="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass",Ca=R[aa];if(Ca)if(null==V)R[aa]=null;else{var Qa=Ca.match(m(V));if(!Qa)return!1;var Ua=Qa.index+Qa[0].length;R[aa]=Ca.slice(0,Qa.index)+(Qa.index&&Ua!=Ca.length?" ":"")+Ca.slice(Ua)||null}else return!1;return!0})}),addLineWidget:bd(function(b,p,V){return Od(this,b,p,V)}),removeLineWidget:function(b){b.clear()},
markText:function(b,p,V){return Jd(this,ub(this,b),ub(this,p),V,V&&V.type||"range")},setBookmark:function(b,p){p={replacedWith:p&&(null==p.nodeType?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};b=ub(this,b);return Jd(this,b,b,p,"bookmark")},findMarksAt:function(b){b=ub(this,b);var p=[],V=M(this,b.line).markedSpans;if(V)for(var R=0;R<V.length;++R){var aa=V[R];(null==aa.from||aa.from<=b.ch)&&(null==aa.to||aa.to>=b.ch)&&p.push(aa.marker.parent||
aa.marker)}return p},findMarks:function(b,p,V){b=ub(this,b);p=ub(this,p);var R=[],aa=b.line;this.iter(b.line,p.line+1,function(Ca){if(Ca=Ca.markedSpans)for(var Qa=0;Qa<Ca.length;Qa++){var Ua=Ca[Qa];null!=Ua.to&&aa==b.line&&b.ch>=Ua.to||null==Ua.from&&aa!=b.line||null!=Ua.from&&aa==p.line&&Ua.from>=p.ch||V&&!V(Ua.marker)||R.push(Ua.marker.parent||Ua.marker)}++aa});return R},getAllMarks:function(){var b=[];this.iter(function(p){if(p=p.markedSpans)for(var V=0;V<p.length;++V)null!=p[V].from&&b.push(p[V].marker)});
return b},posFromIndex:function(b){var p,V=this.first,R=this.lineSeparator().length;this.iter(function(aa){aa=aa.text.length+R;if(aa>b)return p=b,!0;b-=aa;++V});return ub(this,Ma(V,p))},indexFromPos:function(b){b=ub(this,b);var p=b.ch;if(b.line<this.first||0>b.ch)return 0;var V=this.lineSeparator().length;this.iter(this.first,b.line,function(R){p+=R.text.length+V});return p},copy:function(b){var p=new ag(ca(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
p.scrollTop=this.scrollTop;p.scrollLeft=this.scrollLeft;p.sel=this.sel;p.extend=!1;b&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory()));return p},linkedDoc:function(b){b||(b={});var p=this.first,V=this.first+this.size;null!=b.from&&b.from>p&&(p=b.from);null!=b.to&&b.to<V&&(V=b.to);p=new ag(ca(this,p,V),b.mode||this.modeOption,p,this.lineSep,this.direction);b.sharedHist&&(p.history=this.history);(this.linked||(this.linked=[])).push({doc:p,sharedHist:b.sharedHist});p.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=ae(this);for(V=0;V<b.length;V++){var R=b[V],aa=R.find(),Ca=p.clipPos(aa.from);aa=p.clipPos(aa.to);db(Ca,aa)&&(Ca=Jd(p,Ca,aa,R.primary,R.primary.type),R.markers.push(Ca),Ca.parent=R)}return p},unlinkDoc:function(b){b instanceof Hf&&(b=b.doc);if(this.linked)for(var p=0;p<this.linked.length;++p)if(this.linked[p].doc==b){this.linked.splice(p,1);b.unlinkDoc(this);kf(ae(this));break}if(b.history==this.history){var V=[b.id];Tb(b,function(R){return V.push(R.id)},
!0);b.history=new Ja(null);b.history.done=Lc(this.history.done,V);b.history.undone=Lc(this.history.undone,V)}},iterLinkedDocs:function(b){Tb(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Hi(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:bd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(p){return p.order=null}),this.cm&&na(this.cm))})});
ag.prototype.eachLine=ag.prototype.iter;for(var li=0,Ni=!1,Dg={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},uh=0;10>uh;uh++)Dg[uh+48]=Dg[uh+96]=String(uh);for(var Ph=65;90>=Ph;Ph++)Dg[Ph]=String.fromCharCode(Ph);for(var vh=1;12>=vh;vh++)Dg[vh+111]=Dg[vh+63235]="F"+vh;var wh={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};wh["default"]=rg?wh.macDefault:wh.pcDefault;var xh={selectAll:ma,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),Kf)},killLine:function(b){return Zf(b,function(p){if(p.empty()){var V=M(b.doc,p.head.line).text.length;return p.head.ch==V&&p.head.line<b.lastLine()?{from:p.head,to:Ma(p.head.line+1,0)}:{from:p.head,to:Ma(p.head.line,V)}}return{from:p.from(),to:p.to()}})},deleteLine:function(b){return Zf(b,function(p){return{from:Ma(p.from().line,0),to:ub(b.doc,Ma(p.to().line+1,0))}})},delLineLeft:function(b){return Zf(b,function(p){return{from:Ma(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(b){return Zf(b,
function(p){var V=b.charCoords(p.head,"div").top+5;return{from:b.coordsChar({left:0,top:V},"div"),to:p.from()}})},delWrappedLineRight:function(b){return Zf(b,function(p){var V=b.charCoords(p.head,"div").top+5;V=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:V},"div");return{from:p.from(),to:V}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection(Ma(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection(Ma(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(p){return wi(b,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(p){return vi(b,p.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(p){p=p.head.line;var V=M(b.doc,p);var R=V;for(var aa;aa=cb(R,!1);)R=aa.find(1,!0).line;R!=V&&(p=oa(R));return eh(!0,b,V,p,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:p},"div")},nh)},goLineLeft:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:0,top:p},"div")},nh)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(p){var V=b.cursorCoords(p.head,"div").top+5;V=b.coordsChar({left:0,top:V},"div");return V.ch<b.getLine(V.line).search(/\S/)?
vi(b,p.head):V},nh)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var p=[],V=b.listSelections(),R=b.options.tabSize,aa=0;aa<V.length;aa++){var Ca=V[aa].from();Ca=g(b.getLine(Ca.line),Ca.ch,R);p.push(n(R-Ca%R))}b.replaceSelections(p)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return ec(b,
function(){for(var p=b.listSelections(),V=[],R=0;R<p.length;R++)if(p[R].empty()){var aa=p[R].head,Ca=M(b.doc,aa.line).text;if(Ca)if(aa.ch==Ca.length&&(aa=new Ma(aa.line,aa.ch-1)),0<aa.ch)aa=new Ma(aa.line,aa.ch+1),b.replaceRange(Ca.charAt(aa.ch-1)+Ca.charAt(aa.ch-2),Ma(aa.line,aa.ch-2),aa,"+transpose");else if(aa.line>b.doc.first){var Qa=M(b.doc,aa.line-1).text;Qa&&(aa=new Ma(aa.line,1),b.replaceRange(Ca.charAt(0)+b.doc.lineSeparator()+Qa.charAt(Qa.length-1),Ma(aa.line-1,Qa.length-1),aa,"+transpose"))}V.push(new hf(aa,
aa))}b.setSelections(V)})},newlineAndIndent:function(b){return ec(b,function(){for(var p=b.listSelections(),V=p.length-1;0<=V;V--)b.replaceRange(b.doc.lineSeparator(),p[V].anchor,p[V].head,"+input");p=b.listSelections();for(V=0;V<p.length;V++)b.indentLine(p[V].from().line,null,!0);xe(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},rj=new Ye,Oi=null,mi=function(b,p,V){this.time=b;this.pos=p;this.button=V};mi.prototype.compare=
function(b,p,V){return this.time+400>b&&0==db(p,this.pos)&&V==this.button};var yh,Qh,zh={toString:function(){return"CodeMirror.Init"}},sj={},Rh={};Hf.defaults=sj;Hf.optionHandlers=Rh;var Sh=[];Hf.defineInitHook=function(b){return Sh.push(b)};var eg=null,qf=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Ye;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};qf.prototype.init=function(b){function p(Ua){for(Ua=
Ua.target;Ua;Ua=Ua.parentNode){if(Ua==Qa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Ua.className))break}return!1}function V(Ua){if(p(Ua)&&!O(Ca,Ua)){if(Ca.somethingSelected())eg={lineWise:!1,text:Ca.getSelections()},"cut"==Ua.type&&Ca.replaceSelection("",null,"cut");else if(Ca.options.lineWiseCopyCut){var rb=Ih(Ca);eg={lineWise:!0,text:rb.text};"cut"==Ua.type&&Ca.operation(function(){Ca.setSelections(rb.ranges,0,Kf);Ca.replaceSelection("",null,"cut")})}else return;if(Ua.clipboardData){Ua.clipboardData.clearData();
var Cb=eg.text.join("\n");Ua.clipboardData.setData("Text",Cb);if(Ua.clipboardData.getData("Text")==Cb){Ua.preventDefault();return}}var Ub=gj();Ua=Ub.firstChild;Ca.display.lineSpace.insertBefore(Ub,Ca.display.lineSpace.firstChild);Ua.value=eg.text.join("\n");var Gc=document.activeElement;mh(Ua);setTimeout(function(){Ca.display.lineSpace.removeChild(Ub);Gc.focus();Gc==Qa&&aa.showPrimarySelection()},50)}}var R=this,aa=this,Ca=aa.cm,Qa=aa.div=b.lineDiv;Sg(Qa,Ca.options.spellcheck,Ca.options.autocorrect,
Ca.options.autocapitalize);ve(Qa,"paste",function(Ua){!p(Ua)||O(Ca,Ua)||Ai(Ua,Ca)||11>=gf&&setTimeout(Tc(Ca,function(){return R.updateFromDOM()}),20)});ve(Qa,"compositionstart",function(Ua){R.composing={data:Ua.data,done:!1}});ve(Qa,"compositionupdate",function(Ua){R.composing||(R.composing={data:Ua.data,done:!1})});ve(Qa,"compositionend",function(Ua){R.composing&&(Ua.data!=R.composing.data&&R.readFromDOMSoon(),R.composing.done=!0)});ve(Qa,"touchstart",function(){return aa.forceCompositionEnd()});
ve(Qa,"input",function(){R.composing||R.readFromDOMSoon()});ve(Qa,"copy",V);ve(Qa,"cut",V)};qf.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};qf.prototype.prepareSelection=function(){var b=Ec(this.cm,!1);b.focus=document.activeElement==this.div;return b};qf.prototype.showSelection=function(b,p){b&&this.cm.display.view.length&&((b.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(b))};qf.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};qf.prototype.showPrimarySelection=function(){var b=this.getSelection(),p=this.cm,V=p.doc.sel.primary(),R=V.from();V=V.to();if(p.display.viewTo==p.display.viewFrom||R.line>=p.display.viewTo||V.line<p.display.viewFrom)b.removeAllRanges();else{var aa=di(p,b.anchorNode,b.anchorOffset),Ca=di(p,b.focusNode,b.focusOffset);if(!aa||aa.bad||!Ca||Ca.bad||0!=db(lb(aa,Ca),R)||0!=db(Sa(aa,Ca),V))if(aa=p.display.view,R=R.line>=p.display.viewFrom&&
ij(p,R)||{node:aa[0].measure.map[2],offset:0},V=V.line<p.display.viewTo&&ij(p,V),V||(V=aa[aa.length-1].measure,V=V.maps?V.maps[V.maps.length-1]:V.map,V={node:V[V.length-1],offset:V[V.length-2]-V[V.length-3]}),R&&V){aa=b.rangeCount&&b.getRangeAt(0);try{var Qa=lh(R.node,R.offset,V.offset,V.node)}catch(Ua){}Qa&&(!Yf&&p.state.focused?(b.collapse(R.node,R.offset),Qa.collapsed||(b.removeAllRanges(),b.addRange(Qa))):(b.removeAllRanges(),b.addRange(Qa)),aa&&null==b.anchorNode?b.addRange(aa):Yf&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};qf.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};qf.prototype.showMultipleSelections=function(b){w(this.cm.display.cursorDiv,b.cursors);w(this.cm.display.selectionDiv,b.selection)};qf.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};qf.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return v(this.div,b)};qf.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};qf.prototype.blur=function(){this.div.blur()};
qf.prototype.getField=function(){return this.div};qf.prototype.supportsTouch=function(){return!0};qf.prototype.receivedFocus=function(){function b(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,b))}var p=this;this.selectionInEditor()?this.pollSelection():ec(this.cm,function(){return p.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};qf.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};qf.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),p=this.cm;if(jh&&Kg&&this.cm.display.gutterSpecs.length&&jj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var V=di(p,b.anchorNode,b.anchorOffset),
R=di(p,b.focusNode,b.focusOffset);V&&R&&ec(p,function(){Pa(p.doc,Ia(V,R),Kf);if(V.bad||R.bad)p.curOp.selectionChanged=!0})}}};qf.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,p=b.display,V=b.doc.sel.primary(),R=V.from(),aa=V.to();0==R.ch&&R.line>b.firstLine()&&(R=Ma(R.line-1,M(b.doc,R.line-1).length));aa.ch==M(b.doc,aa.line).text.length&&aa.line<b.lastLine()&&(aa=Ma(aa.line+1,0));if(R.line<p.viewFrom||aa.line>
p.viewTo-1)return!1;var Ca;R.line==p.viewFrom||0==(Ca=sa(b,R.line))?(V=oa(p.view[0].line),Ca=p.view[0].node):(V=oa(p.view[Ca].line),Ca=p.view[Ca-1].node.nextSibling);var Qa=sa(b,aa.line);Qa==p.view.length-1?(aa=p.viewTo-1,p=p.lineDiv.lastChild):(aa=oa(p.view[Qa+1].line)-1,p=p.view[Qa+1].node.previousSibling);if(!Ca)return!1;p=b.doc.splitLines(Ci(b,Ca,p,V,aa));for(Ca=P(b.doc,Ma(V,0),Ma(aa,M(b.doc,aa).text.length));1<p.length&&1<Ca.length;)if(y(p)==y(Ca))p.pop(),Ca.pop(),aa--;else if(p[0]==Ca[0])p.shift(),
Ca.shift(),V++;else break;var Ua=0;Qa=0;for(var rb=p[0],Cb=Ca[0],Ub=Math.min(rb.length,Cb.length);Ua<Ub&&rb.charCodeAt(Ua)==Cb.charCodeAt(Ua);)++Ua;rb=y(p);Cb=y(Ca);for(Ub=Math.min(rb.length-(1==p.length?Ua:0),Cb.length-(1==Ca.length?Ua:0));Qa<Ub&&rb.charCodeAt(rb.length-Qa-1)==Cb.charCodeAt(Cb.length-Qa-1);)++Qa;if(1==p.length&&1==Ca.length&&V==R.line)for(;Ua&&Ua>R.ch&&rb.charCodeAt(rb.length-Qa-1)==Cb.charCodeAt(Cb.length-Qa-1);)Ua--,Qa++;p[p.length-1]=rb.slice(0,rb.length-Qa).replace(/^\u200b+/,
"");p[0]=p[0].slice(Ua).replace(/\u200b+$/,"");R=Ma(V,Ua);V=Ma(aa,Ca.length?y(Ca).length-Qa:0);if(1<p.length||p[0]||db(R,V))return Dc(b.doc,p,R,V,"+input"),!0};qf.prototype.ensurePolled=function(){this.forceCompositionEnd()};qf.prototype.reset=function(){this.forceCompositionEnd()};qf.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};qf.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};qf.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||ec(this.cm,function(){return Aa(b.cm)})};qf.prototype.setUneditable=function(b){b.contentEditable="false"};qf.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||Tc(this.cm,zi)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};qf.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};qf.prototype.onContextMenu=function(){};qf.prototype.resetPosition=function(){};qf.prototype.needsContentAttribute=!0;var Pf=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new Ye;this.hasSelection=!1;this.composing=null};Pf.prototype.init=function(b){function p(Qa){if(!O(aa,Qa)){if(aa.somethingSelected())eg={lineWise:!1,
text:aa.getSelections()};else if(aa.options.lineWiseCopyCut){var Ua=Ih(aa);eg={lineWise:!0,text:Ua.text};"cut"==Qa.type?aa.setSelections(Ua.ranges,null,Kf):(R.prevInput="",Ca.value=Ua.text.join("\n"),mh(Ca))}else return;"cut"==Qa.type&&(aa.state.cutIncoming=+new Date)}}var V=this,R=this,aa=this.cm;this.createField(b);var Ca=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);ih&&(Ca.style.width="0px");ve(Ca,"input",function(){af&&9<=gf&&V.hasSelection&&(V.hasSelection=null);R.poll()});
ve(Ca,"paste",function(Qa){O(aa,Qa)||Ai(Qa,aa)||(aa.state.pasteIncoming=+new Date,R.fastPoll())});ve(Ca,"cut",p);ve(Ca,"copy",p);ve(b.scroller,"paste",function(Qa){if(!wd(b,Qa)&&!O(aa,Qa))if(Ca.dispatchEvent){var Ua=new Event("paste");Ua.clipboardData=Qa.clipboardData;Ca.dispatchEvent(Ua)}else aa.state.pasteIncoming=+new Date,R.focus()});ve(b.lineSpace,"selectstart",function(Qa){wd(b,Qa)||Z(Qa)});ve(Ca,"compositionstart",function(){var Qa=aa.getCursor("from");R.composing&&R.composing.range.clear();
R.composing={start:Qa,range:aa.markText(Qa,aa.getCursor("to"),{className:"CodeMirror-composing"})}});ve(Ca,"compositionend",function(){R.composing&&(R.poll(),R.composing.range.clear(),R.composing=null)})};Pf.prototype.createField=function(b){this.wrapper=gj();this.textarea=this.wrapper.firstChild};Pf.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};Pf.prototype.prepareSelection=function(){var b=this.cm,p=b.display,
V=b.doc,R=Ec(b);if(b.options.moveInputWithCursor){b=Yd(b,V.sel.primary().head,"div");V=p.wrapper.getBoundingClientRect();var aa=p.lineDiv.getBoundingClientRect();R.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,b.top+aa.top-V.top));R.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,b.left+aa.left-V.left))}return R};Pf.prototype.showSelection=function(b){var p=this.cm.display;w(p.cursorDiv,b.cursors);w(p.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};Pf.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var p=this.cm;p.somethingSelected()?(this.prevInput="",b=p.getSelection(),this.textarea.value=b,p.state.focused&&mh(this.textarea),af&&9<=gf&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",af&&9<=gf&&(this.hasSelection=null))}};Pf.prototype.getField=function(){return this.textarea};Pf.prototype.supportsTouch=function(){return!1};Pf.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!kh||u()!=this.textarea))try{this.textarea.focus()}catch(b){}};Pf.prototype.blur=function(){this.textarea.blur()};Pf.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};Pf.prototype.receivedFocus=function(){this.slowPoll()};Pf.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};Pf.prototype.fastPoll=function(){function b(){V.poll()||p?(V.pollingFast=!1,V.slowPoll()):
(p=!0,V.polling.set(60,b))}var p=!1,V=this;V.pollingFast=!0;V.polling.set(20,b)};Pf.prototype.poll=function(){var b=this,p=this.cm,V=this.textarea,R=this.prevInput;if(this.contextMenuPending||!p.state.focused||Wi(V)&&!R&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var aa=V.value;if(aa==R&&!p.somethingSelected())return!1;if(af&&9<=gf&&this.hasSelection===aa||rg&&/[\uf700-\uf7ff]/.test(aa))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var Ca=
aa.charCodeAt(0);8203!=Ca||R||(R="");if(8666==Ca)return this.reset(),this.cm.execCommand("undo")}var Qa=0;for(Ca=Math.min(R.length,aa.length);Qa<Ca&&R.charCodeAt(Qa)==aa.charCodeAt(Qa);)++Qa;ec(p,function(){zi(p,aa.slice(Qa),R.length-Qa,null,b.composing?"*compose":null);1E3<aa.length||-1<aa.indexOf("\n")?V.value=b.prevInput="":b.prevInput=aa;b.composing&&(b.composing.range.clear(),b.composing.range=p.markText(b.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};Pf.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Pf.prototype.onKeyPress=function(){af&&9<=gf&&(this.hasSelection=null);this.fastPoll()};Pf.prototype.onContextMenu=function(b){function p(){if(null!=Qa.selectionStart){var lc=aa.somethingSelected(),dd=""+(lc?Qa.value:"");Qa.value="";Qa.value=dd;R.prevInput=lc?"":"";Qa.selectionStart=1;Qa.selectionEnd=dd.length;Ca.selForContextMenu=aa.doc.sel}}function V(){if(R.contextMenuPending==V&&(R.contextMenuPending=!1,R.wrapper.style.cssText=
Ub,Qa.style.cssText=Cb,af&&9>gf&&Ca.scrollbars.setScrollTop(Ca.scroller.scrollTop=rb),null!=Qa.selectionStart)){(!af||af&&9>gf)&&p();var lc=0,dd=function(){Ca.selForContextMenu==aa.doc.sel&&0==Qa.selectionStart&&0<Qa.selectionEnd&&""==R.prevInput?Tc(aa,ma)(aa):10>lc++?Ca.detectingSelectAll=setTimeout(dd,500):(Ca.selForContextMenu=null,Ca.input.reset())};Ca.detectingSelectAll=setTimeout(dd,200)}}var R=this,aa=R.cm,Ca=aa.display,Qa=R.textarea;R.contextMenuPending&&R.contextMenuPending();var Ua=Te(aa,
b),rb=Ca.scroller.scrollTop;if(Ua&&!dg){aa.options.resetSelectionOnContextMenu&&-1==aa.doc.sel.contains(Ua)&&Tc(aa,Pa)(aa.doc,Ia(Ua),Kf);var Cb=Qa.style.cssText,Ub=R.wrapper.style.cssText;Ua=R.wrapper.offsetParent.getBoundingClientRect();R.wrapper.style.cssText="position: static";Qa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-Ua.top-5)+"px; left: "+(b.clientX-Ua.left-5)+"px;\n      z-index: 1000; background: "+(af?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Wf)var Gc=window.scrollY;Ca.input.focus();Wf&&window.scrollTo(null,Gc);Ca.input.reset();aa.somethingSelected()||(Qa.value=R.prevInput=" ");R.contextMenuPending=V;Ca.selForContextMenu=aa.doc.sel;clearTimeout(Ca.detectingSelectAll);af&&9<=gf&&p();if(Kh){Da(b);var nc=function(){la(window,"mouseup",nc);setTimeout(V,20)};ve(window,"mouseup",nc)}else setTimeout(V,50)}};Pf.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};Pf.prototype.setUneditable=function(){};Pf.prototype.needsContentAttribute=!1;(function(b){function p(R,aa,Ca,Qa){b.defaults[R]=aa;Ca&&(V[R]=Qa?function(Ua,rb,Cb){Cb!=zh&&Ca(Ua,rb,Cb)}:Ca)}var V=b.optionHandlers;b.defineOption=p;b.Init=zh;p("value","",function(R,aa){return R.setValue(aa)},!0);p("mode",null,function(R,aa){R.doc.modeOption=aa;zb(R)},!0);p("indentUnit",2,zb,!0);p("indentWithTabs",!1);p("smartIndent",
!0);p("tabSize",4,function(R){wb(R);tf(R);Aa(R)},!0);p("lineSeparator",null,function(R,aa){if(R.doc.lineSep=aa){var Ca=[],Qa=R.doc.first;R.doc.iter(function(rb){for(var Cb=0;;){var Ub=rb.text.indexOf(aa,Cb);if(-1==Ub)break;Cb=Ub+aa.length;Ca.push(Ma(Qa,Ub))}Qa++});for(var Ua=Ca.length-1;0<=Ua;Ua--)Dc(R.doc,aa,Ca[Ua],Ma(Ca[Ua].line,Ca[Ua].ch+aa.length))}});p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(R,aa,Ca){R.state.specialChars=
new RegExp(aa.source+(aa.test("\t")?"":"|\t"),"g");Ca!=zh&&R.refresh()});p("specialCharPlaceholder",Gb,function(R){return R.refresh()},!0);p("electricChars",!0);p("inputStyle",kh?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);p("spellcheck",!1,function(R,aa){return R.getInputField().spellcheck=aa},!0);p("autocorrect",!1,function(R,aa){return R.getInputField().autocorrect=aa},!0);p("autocapitalize",!1,function(R,aa){return R.getInputField().autocapitalize=
aa},!0);p("rtlMoveVisually",!hg);p("wholeLineUpdateBefore",!0);p("theme","default",function(R){ej(R);He(R)},!0);p("keyMap","default",function(R,aa,Ca){aa=Cf(aa);(Ca=Ca!=zh&&Cf(Ca))&&Ca.detach&&Ca.detach(R,aa);aa.attach&&aa.attach(R,Ca||null)});p("extraKeys",null);p("configureMouse",null);p("lineWrapping",!1,Pj,!0);p("gutters",[],function(R,aa){R.display.gutterSpecs=Xd(aa,R.options.lineNumbers);He(R)},!0);p("fixedGutter",!0,function(R,aa){R.display.gutters.style.left=aa?cf(R.display)+"px":"0";R.refresh()},
!0);p("coverGutterNextToScrollbar",!1,function(R){return Ka(R)},!0);p("scrollbarStyle","native",function(R){Pb(R);Ka(R);R.display.scrollbars.setScrollTop(R.doc.scrollTop);R.display.scrollbars.setScrollLeft(R.doc.scrollLeft)},!0);p("lineNumbers",!1,function(R,aa){R.display.gutterSpecs=Xd(R.options.gutters,aa);He(R)},!0);p("firstLineNumber",1,He,!0);p("lineNumberFormatter",function(R){return R},He,!0);p("showCursorWhenSelecting",!1,jc,!0);p("resetSelectionOnContextMenu",!0);p("lineWiseCopyCut",!0);
p("pasteLinesPerSelection",!0);p("selectionsMayTouch",!1);p("readOnly",!1,function(R,aa){"nocursor"==aa&&(Zc(R),R.display.input.blur());R.display.input.readOnlyChanged(aa)});p("screenReaderLabel",null,function(R,aa){R.display.input.screenReaderLabelChanged(""===aa?null:aa)});p("disableInput",!1,function(R,aa){aa||R.display.input.reset()},!0);p("dragDrop",!0,xi);p("allowDropFileTypes",null);p("cursorBlinkRate",530);p("cursorScrollMargin",0);p("cursorHeight",1,jc,!0);p("singleCursorHeightPerLine",!0,
jc,!0);p("workTime",100);p("workDelay",100);p("flattenSpans",!0,wb,!0);p("addModeClass",!1,wb,!0);p("pollInterval",100);p("undoDepth",200,function(R,aa){return R.doc.history.undoDepth=aa});p("historyEventDelay",1250);p("viewportMargin",10,function(R){return R.refresh()},!0);p("maxHighlightLength",1E4,wb,!0);p("moveInputWithCursor",!0,function(R,aa){aa||R.display.input.resetPosition()});p("tabindex",null,function(R,aa){return R.display.input.getField().tabIndex=aa||""});p("autofocus",null);p("direction",
"ltr",function(R,aa){return R.doc.setDirection(aa)},!0);p("phrases",null)})(Hf);(function(b){var p=b.optionHandlers,V=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(R,aa){var Ca=this.options,Qa=Ca[R];if(Ca[R]!=aa||"mode"==R)Ca[R]=aa,p.hasOwnProperty(R)&&Tc(this,p[R])(this,aa,Qa),da(this,"optionChange",this,R)},getOption:function(R){return this.options[R]},getDoc:function(){return this.doc},addKeyMap:function(R,aa){this.state.keyMaps[aa?
"push":"unshift"](Cf(R))},removeKeyMap:function(R){for(var aa=this.state.keyMaps,Ca=0;Ca<aa.length;++Ca)if(aa[Ca]==R||aa[Ca].name==R)return aa.splice(Ca,1),!0},addOverlay:Ic(function(R,aa){var Ca=R.token?R:b.getMode(this.options,R);if(Ca.startState)throw Error("Overlays may not be stateful.");C(this.state.overlays,{mode:Ca,modeSpec:R,opaque:aa&&aa.opaque,priority:aa&&aa.priority||0},function(Qa){return Qa.priority});this.state.modeGen++;Aa(this)}),removeOverlay:Ic(function(R){for(var aa=this.state.overlays,
Ca=0;Ca<aa.length;++Ca){var Qa=aa[Ca].modeSpec;if(Qa==R||"string"==typeof R&&Qa.name==R){aa.splice(Ca,1);this.state.modeGen++;Aa(this);break}}}),indentLine:Ic(function(R,aa,Ca){"string"!=typeof aa&&"number"!=typeof aa&&(aa=null==aa?this.options.smartIndent?"smart":"prev":aa?"add":"subtract");Fa(this.doc,R)&&Rg(this,R,aa,Ca)}),indentSelection:Ic(function(R){for(var aa=this.doc.sel.ranges,Ca=-1,Qa=0;Qa<aa.length;Qa++){var Ua=aa[Qa];if(Ua.empty())Ua.head.line>Ca&&(Rg(this,Ua.head.line,R,!0),Ca=Ua.head.line,
Qa==this.doc.sel.primIndex&&xe(this));else{var rb=Ua.from();Ua=Ua.to();var Cb=Math.max(Ca,rb.line);Ca=Math.min(this.lastLine(),Ua.line-(Ua.ch?0:1))+1;for(Ua=Cb;Ua<Ca;++Ua)Rg(this,Ua,R);Ua=this.doc.sel.ranges;0==rb.ch&&aa.length==Ua.length&&0<Ua[Qa].from().ch&&nd(this.doc,Qa,new hf(rb,Ua[Qa].to()),Kf)}}}),getTokenAt:function(R,aa){return fc(this,R,aa)},getLineTokens:function(R,aa){return fc(this,Ma(R),aa,!0)},getTokenTypeAt:function(R){R=ub(this.doc,R);var aa=wc(this,M(this.doc,R.line)),Ca=0,Qa=(aa.length-
1)/2;R=R.ch;if(0==R)aa=aa[2];else for(;;){var Ua=Ca+Qa>>1;if((Ua?aa[2*Ua-1]:0)>=R)Qa=Ua;else if(aa[2*Ua+1]<R)Ca=Ua+1;else{aa=aa[2*Ua+2];break}}Ca=aa?aa.indexOf("overlay "):-1;return 0>Ca?aa:0==Ca?null:aa.slice(0,Ca-1)},getModeAt:function(R){var aa=this.doc.mode;return aa.innerMode?b.innerMode(aa,this.getTokenAt(R).state).mode:aa},getHelper:function(R,aa){return this.getHelpers(R,aa)[0]},getHelpers:function(R,aa){var Ca=[];if(!V.hasOwnProperty(aa))return Ca;var Qa=V[aa];R=this.getModeAt(R);if("string"==
typeof R[aa])Qa[R[aa]]&&Ca.push(Qa[R[aa]]);else if(R[aa])for(var Ua=0;Ua<R[aa].length;Ua++){var rb=Qa[R[aa][Ua]];rb&&Ca.push(rb)}else R.helperType&&Qa[R.helperType]?Ca.push(Qa[R.helperType]):Qa[R.name]&&Ca.push(Qa[R.name]);for(aa=0;aa<Qa._global.length;aa++)Ua=Qa._global[aa],Ua.pred(R,this)&&-1==a(Ca,Ua.val)&&Ca.push(Ua.val);return Ca},getStateAfter:function(R,aa){var Ca=this.doc;R=Math.max(Ca.first,Math.min(null==R?Ca.first+Ca.size-1:R,Ca.first+Ca.size-1));return $c(this,R+1,aa).state},cursorCoords:function(R,
aa){var Ca=this.doc.sel.primary();R=null==R?Ca.head:"object"==typeof R?ub(this.doc,R):R?Ca.from():Ca.to();return Yd(this,R,aa||"page")},charCoords:function(R,aa){return Ad(this,ub(this.doc,R),aa||"page")},coordsChar:function(R,aa){R=yd(this,R,aa||"page");return Ed(this,R.left,R.top)},lineAtHeight:function(R,aa){R=yd(this,{top:R,left:0},aa||"page").top;return ba(this.doc,R+this.display.viewOffset)},heightAtLine:function(R,aa,Ca){var Qa=!1;if("number"==typeof R){var Ua=this.doc.first+this.doc.size-
1;R<this.doc.first?R=this.doc.first:R>Ua&&(R=Ua,Qa=!0);R=M(this.doc,R)}return ce(this,R,{top:0,left:0},aa||"page",Ca||Qa).top+(Qa?this.doc.height-Ha(R):0)},defaultTextHeight:function(){return Je(this.display)},defaultCharWidth:function(){return he(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(R,aa,Ca,Qa,Ua){var rb=this.display;R=Yd(this,ub(this.doc,R));var Cb=R.bottom,Ub=R.left;aa.style.position="absolute";aa.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(aa);rb.sizer.appendChild(aa);if("over"==Qa)Cb=R.top;else if("above"==Qa||"near"==Qa){var Gc=Math.max(rb.wrapper.clientHeight,this.doc.height),nc=Math.max(rb.sizer.clientWidth,rb.lineSpace.clientWidth);("above"==Qa||R.bottom+aa.offsetHeight>Gc)&&R.top>aa.offsetHeight?Cb=R.top-aa.offsetHeight:R.bottom+aa.offsetHeight<=Gc&&(Cb=R.bottom);Ub+aa.offsetWidth>nc&&(Ub=nc-aa.offsetWidth)}aa.style.top=Cb+"px";aa.style.left=aa.style.right="";"right"==Ua?(Ub=rb.sizer.clientWidth-
aa.offsetWidth,aa.style.right="0px"):("left"==Ua?Ub=0:"middle"==Ua&&(Ub=(rb.sizer.clientWidth-aa.offsetWidth)/2),aa.style.left=Ub+"px");Ca&&(R=zf(this,{left:Ub,top:Cb,right:Ub+aa.offsetWidth,bottom:Cb+aa.offsetHeight}),null!=R.scrollTop&&yf(this,R.scrollTop),null!=R.scrollLeft&&Qe(this,R.scrollLeft))},triggerOnKeyDown:Ic($i),triggerOnKeyPress:Ic(ai),triggerOnKeyUp:Xf,triggerOnMouseDown:Ic(Gh),execCommand:function(R){if(xh.hasOwnProperty(R))return xh[R].call(null,this)},triggerElectric:Ic(function(R){Bi(this,
R)}),findPosH:function(R,aa,Ca,Qa){var Ua=1;0>aa&&(Ua=-1,aa=-aa);R=ub(this.doc,R);for(var rb=0;rb<aa&&(R=Di(this.doc,R,Ua,Ca,Qa),!R.hitSide);++rb);return R},moveH:Ic(function(R,aa){var Ca=this;this.extendSelectionsBy(function(Qa){return Ca.display.shift||Ca.doc.extend||Qa.empty()?Di(Ca.doc,Qa.head,R,aa,Ca.options.rtlMoveVisually):0>R?Qa.from():Qa.to()},nh)}),deleteH:Ic(function(R,aa){var Ca=this.doc;this.doc.sel.somethingSelected()?Ca.replaceSelection("",null,"+delete"):Zf(this,function(Qa){var Ua=
Di(Ca,Qa.head,R,aa,!1);return 0>R?{from:Ua,to:Qa.head}:{from:Qa.head,to:Ua}})}),findPosV:function(R,aa,Ca,Qa){var Ua=1;0>aa&&(Ua=-1,aa=-aa);var rb=ub(this.doc,R);for(R=0;R<aa&&(rb=Yd(this,rb,"div"),null==Qa?Qa=rb.left:rb.left=Qa,rb=hj(this,rb,Ua,Ca),!rb.hitSide);++R);return rb},moveV:Ic(function(R,aa){var Ca=this,Qa=this.doc,Ua=[],rb=!this.display.shift&&!Qa.extend&&Qa.sel.somethingSelected();Qa.extendSelectionsBy(function(Ub){if(rb)return 0>R?Ub.from():Ub.to();var Gc=Yd(Ca,Ub.head,"div");null!=Ub.goalColumn&&
(Gc.left=Ub.goalColumn);Ua.push(Gc.left);var nc=hj(Ca,Gc,R,aa);"page"==aa&&Ub==Qa.sel.primary()&&Wc(Ca,Ad(Ca,nc,"div").top-Gc.top);return nc},nh);if(Ua.length)for(var Cb=0;Cb<Qa.sel.ranges.length;Cb++)Qa.sel.ranges[Cb].goalColumn=Ua[Cb]}),findWordAt:function(R){var aa=M(this.doc,R.line).text,Ca=R.ch,Qa=R.ch;if(aa){var Ua=this.getHelper(R,"wordChars");"before"!=R.sticky&&Qa!=aa.length||!Ca?++Qa:--Ca;var rb=aa.charAt(Ca);for(rb=x(rb,Ua)?function(Cb){return x(Cb,Ua)}:/\s/.test(rb)?function(Cb){return/\s/.test(Cb)}:
function(Cb){return!/\s/.test(Cb)&&!x(Cb)};0<Ca&&rb(aa.charAt(Ca-1));)--Ca;for(;Qa<aa.length&&rb(aa.charAt(Qa));)++Qa}return new hf(Ma(R.line,Ca),Ma(R.line,Qa))},toggleOverwrite:function(R){if(null==R||R!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?t(this.display.cursorDiv,"CodeMirror-overwrite"):ug(this.display.cursorDiv,"CodeMirror-overwrite"),da(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==u()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Ic(function(R,aa){Me(this,R,aa)}),getScrollInfo:function(){var R=this.display.scroller;return{left:R.scrollLeft,top:R.scrollTop,height:R.scrollHeight-Sd(this)-this.display.barHeight,width:R.scrollWidth-Sd(this)-this.display.barWidth,clientHeight:ne(this),clientWidth:fe(this)}},scrollIntoView:Ic(function(R,aa){null==R?(R={from:this.doc.sel.primary().head,to:null},null==aa&&(aa=this.options.cursorScrollMargin)):"number"==typeof R?R={from:Ma(R,0),to:null}:null==R.from&&
(R={from:R,to:null});R.to||(R.to=R.from);R.margin=aa||0;null!=R.from.line?(Ee(this),this.curOp.scrollToPos=R):Ef(this,R.from,R.to,R.margin)}),setSize:Ic(function(R,aa){var Ca=this,Qa=function(rb){return"number"==typeof rb||/^\d+$/.test(String(rb))?rb+"px":rb};null!=R&&(this.display.wrapper.style.width=Qa(R));null!=aa&&(this.display.wrapper.style.height=Qa(aa));this.options.lineWrapping&&Be(this);var Ua=this.display.viewFrom;this.doc.iter(Ua,this.display.viewTo,function(rb){if(rb.widgets)for(var Cb=
0;Cb<rb.widgets.length;Cb++)if(rb.widgets[Cb].noHScroll){Xa(Ca,Ua,"widget");break}++Ua});this.curOp.forceUpdate=!0;da(this,"refresh",this)}),operation:function(R){return ec(this,R)},startOperation:function(){return Mb(this)},endOperation:function(){return Yb(this)},refresh:Ic(function(){var R=this.display.cachedTextHeight;Aa(this);this.curOp.forceUpdate=!0;tf(this);Me(this,this.doc.scrollLeft,this.doc.scrollTop);se(this.display);(null==R||.5<Math.abs(R-Je(this.display))||this.options.lineWrapping)&&
vf(this);da(this,"refresh",this)}),swapDoc:Ic(function(R){var aa=this.doc;aa.cm=null;this.state.selectingText&&this.state.selectingText();mc(this,R);tf(this);this.display.input.reset();Me(this,R.scrollLeft,R.scrollTop);this.curOp.forceScroll=!0;qc(this,"swapDoc",this,aa);return aa}),phrase:function(R){var aa=this.options.phrases;return aa&&Object.prototype.hasOwnProperty.call(aa,R)?aa[R]:R},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ka(b);b.registerHelper=function(R,aa,Ca){V.hasOwnProperty(R)||(V[R]=b[R]={_global:[]});V[R][aa]=Ca};b.registerGlobalHelper=function(R,aa,Ca,Qa){b.registerHelper(R,aa,Qa);V[R]._global.push({pred:Ca,val:Qa})}})(Hf);var Tj="iter insert remove copy getEditor constructor".split(" "),Th;for(Th in ag.prototype)ag.prototype.hasOwnProperty(Th)&&0>a(Tj,Th)&&(Hf.prototype[Th]=function(b){return function(){return b.apply(this.doc,
arguments)}}(ag.prototype[Th]));ka(ag);Hf.inputStyles={textarea:Pf,contenteditable:qf};Hf.defineMode=function(b){Hf.defaults.mode||"null"==b||(Hf.defaults.mode=b);ra.apply(this,arguments)};Hf.defineMIME=function(b,p){qh[b]=p};Hf.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});Hf.defineMIME("text/plain","null");Hf.defineExtension=function(b,p){Hf.prototype[b]=p};Hf.defineDocExtension=function(b,p){ag.prototype[b]=p};Hf.fromTextArea=function(b,p){function V(){b.value=
Ua.getValue()}p=p?d(p):{};p.value=b.value;!p.tabindex&&b.tabIndex&&(p.tabindex=b.tabIndex);!p.placeholder&&b.placeholder&&(p.placeholder=b.placeholder);if(null==p.autofocus){var R=u();p.autofocus=R==b||null!=b.getAttribute("autofocus")&&R==document.body}if(b.form&&(ve(b.form,"submit",V),!p.leaveSubmitMethodAlone)){var aa=b.form;var Ca=aa.submit;try{var Qa=aa.submit=function(){V();aa.submit=Ca;aa.submit();aa.submit=Qa}}catch(rb){}}p.finishInit=function(rb){rb.save=V;rb.getTextArea=function(){return b};
rb.toTextArea=function(){rb.toTextArea=isNaN;V();b.parentNode.removeChild(rb.getWrapperElement());b.style.display="";b.form&&(la(b.form,"submit",V),p.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=Ca))}};b.style.display="none";var Ua=Hf(function(rb){return b.parentNode.insertBefore(rb,b.nextSibling)},p);return Ua};(function(b){b.off=la;b.on=ve;b.wheelEventPixels=Uf;b.Doc=ag;b.splitLines=Hi;b.countColumn=g;b.findColumn=e;b.isWordChar=E;b.Pass=Vg;b.signal=da;b.Line=Ng;b.changeEnd=
La;b.scrollbarModel=Mh;b.Pos=Ma;b.cmpPos=db;b.modes=dh;b.mimeModes=qh;b.resolveMode=Na;b.getMode=Ta;b.modeExtensions=Mg;b.extendMode=za;b.copyState=pa;b.startState=W;b.innerMode=T;b.commands=xh;b.keyMap=wh;b.keyName=ff;b.isModifierKey=$e;b.lookupKey=of;b.normalizeKeyMap=ye;b.StringStream=Lf;b.SharedTextMarker=th;b.TextMarker=vg;b.LineWidget=sh;b.e_preventDefault=Z;b.e_stopPropagation=wa;b.e_stop=Da;b.addClass=t;b.contains=v;b.rmClass=ug;b.keyNames=Dg})(Hf);Hf.version="5.59.1";return Hf})};
shadow$provide[70]=function(Ea,z,ob,J){(function(m){"object"===typeof J&&"object"===typeof ob?m(z(69)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],m):m(CodeMirror)})(function(m){m.defineMode("clojure",function(l){function w(N,K){if(N.eatSpace()||N.eat(","))return["space",null];if(N.match(y))return[null,"number"];if(N.match(A))return[null,"string-2"];if(N.eat(/^"/))return(K.tokenize=G)(N,K);if(N.eat(/^[(\[{]/))return["open","bracket"];if(N.eat(/^[)\]}]/))return["close","bracket"];
if(N.eat(/^;/))return N.skipToEnd(),["space","comment"];if(N.eat(/^[#'@^`~]/))return[null,"meta"];var E=N.match(C);E=E&&E[0];return E?"comment"===E&&"("===K.lastToken?(K.tokenize=L)(N,K):u(E,d)||":"===E.charAt(0)?["symbol","atom"]:u(E,g)||u(E,a)?["symbol","keyword"]:"("===K.lastToken?["symbol","builtin"]:["symbol","variable"]:(N.next(),N.eatWhile(function(x){return!u(x,n)}),[null,"error"])}function G(N,K){for(var E=!1,x;x=N.next();){if('"'===x&&!E){K.tokenize=w;break}E=!E&&"\\"===x}return[null,"string"]}
function L(N,K){for(var E=1,x;x=N.next();)if(")"===x&&E--,"("===x&&E++,0===E){N.backUp(1);K.tokenize=w;break}return["space","comment"]}function v(N){for(var K={},E=0;E<N.length;++E)K[N[E]]=!0;return K}function u(N,K){if(K instanceof RegExp)return K.test(N);if(K instanceof Object)return K.propertyIsEnumerable(N)}var t=["false","nil","true"],k=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),f="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
m.registerHelper("hintWords","clojure",[].concat(t,k,f));var d=v(t),g=v(k),a=v(f),e=v("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
n=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,y=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,A=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,C=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:w}},token:function(N,K){N.sol()&&"number"!==typeof K.ctx.indentTo&&(K.ctx.indentTo=K.ctx.start+1);var E=K.tokenize(N,K),x=E[0];E=E[1];var D=N.current();"space"!==x&&("("===K.lastToken&&null===K.ctx.indentTo?"symbol"===x&&u(D,e)?K.ctx.indentTo=K.ctx.start+l.indentUnit:K.ctx.indentTo="next":"next"===K.ctx.indentTo&&(K.ctx.indentTo=N.column()),K.lastToken=D);"open"===x?K.ctx={prev:K.ctx,start:N.column(),indentTo:null}:
"close"===x&&(K.ctx=K.ctx.prev||K.ctx);return E},indent:function(N){var K=N.ctx.indentTo;return"number"===typeof K?K:N.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});m.defineMIME("text/x-clojure","clojure");m.defineMIME("text/x-clojurescript","clojure");m.defineMIME("application/edn","clojure")})};
shadow$provide[71]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(){function m(){this.disposed=!1}m.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};m.prototype.disposeInternal=function(){};return m}();J["default"]=Ea};
shadow$provide[72]=function(Ea,z,ob,J){function m(l,w){return l>w?1:l<w?-1:0}Object.defineProperty(J,"__esModule",{value:!0});J.binarySearch=function(l,w,G){for(var L,v=G||m,u=0,t=l.length,k=!1;u<t;)G=u+(t-u>>1),L=+v(l[G],w),0>L?u=G+1:(t=G,k=!L);return k?u:~u};J.numberSafeCompareFunction=m;J.includes=function(l,w){return 0<=l.indexOf(w)};J.linearFindNearest=function(l,w,G){var L=l.length;if(l[0]<=w)return 0;if(!(w<=l[L-1]))if(0<G)for(G=1;G<L;++G){if(l[G]<w)return G-1}else if(0>G)for(G=1;G<L;++G){if(l[G]<=
w)return G}else for(G=1;G<L;++G){if(l[G]==w)return G;if(l[G]<w)return l[G-1]-w<w-l[G]?G-1:G}return L-1};J.reverseSubArray=function(l,w,G){for(;w<G;){var L=l[w];l[w]=l[G];l[G]=L;++w;--G}};J.extend=function(l,w){w=Array.isArray(w)?w:[w];for(var G=w.length,L=0;L<G;L++)l[l.length]=w[L]};J.remove=function(l,w){w=l.indexOf(w);var G=-1<w;G&&l.splice(w,1);return G};J.find=function(l,w){for(var G=l.length>>>0,L,v=0;v<G;v++)if(L=l[v],w(L,v,l))return L;return null};J.equals=function(l,w){var G=l.length;if(G!==
w.length)return!1;for(var L=0;L<G;L++)if(l[L]!==w[L])return!1;return!0};J.stableSort=function(l,w){var G=l.length,L=Array(l.length),v;for(v=0;v<G;v++)L[v]={index:v,value:l[v]};L.sort(function(u,t){return w(u.value,t.value)||u.index-t.index});for(v=0;v<l.length;v++)l[v]=L[v].value};J.findIndex=function(l,w){var G;return l.every(function(L,v){G=v;return!w(L,v,l)})?-1:G};J.isSorted=function(l,w,G){var L=w||m;return l.every(function(v,u){if(0===u)return!0;v=L(l[u-1],v);return!(0<v||G&&0===v)})}};
shadow$provide[73]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.TRUE=function(){return!0};J.FALSE=function(){return!1};J.VOID=function(){};J.memoizeOne=function(l){var w=!1,G,L,v;return function(){var u=Array.prototype.slice.call(arguments);w&&this===v&&(0,m.equals)(u,L)||(w=!0,v=this,L=u,G=l.apply(this,arguments));return G}};var m=z(72)};
shadow$provide[74]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["abstract"]=function(){throw Error("Unimplemented abstract method.");};J.getUid=function(l){return l.ol_uid||(l.ol_uid=String(++m))};J.VERSION=void 0;var m=0;J.VERSION="6.5.0"};
shadow$provide[75]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=z(74),l=function(){var w=function(G,L){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&(v[t]=u[t])};return w(G,L)};return function(G,L){function v(){this.constructor=G}w(G,L);G.prototype=null===L?Object.create(L):(v.prototype=L.prototype,new v)}}();Ea=function(w){function G(L){var v=
"Assertion failed. See https://openlayers.org/en/"+("latest"===m.VERSION?m.VERSION:"v"+m.VERSION.split("-")[0])+"/doc/errors/#"+L+" for details.";var u=w.call(this,v)||this;u.code=L;u.name="AssertionError";u.message=v;return u}l(G,w);return G}(Error);J["default"]=Ea};
shadow$provide[76]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.assert=function(l,w){if(!l)throw new m["default"](w);};var m=function(l){return l&&l.__esModule?l:{"default":l}}(z(75))};
shadow$provide[77]=function(Ea,z,ob,J){function m(){return[1,0,0,1,0,0]}function l(f,d){var g=f[0],a=f[1],e=f[2],n=f[3],y=f[4],A=f[5],C=d[0],N=d[1],K=d[2],E=d[3],x=d[4];d=d[5];f[0]=g*C+e*N;f[1]=a*C+n*N;f[2]=g*K+e*E;f[3]=a*K+n*E;f[4]=g*x+e*d+y;f[5]=a*x+n*d+A;return f}function w(f,d,g,a,e,n,y){f[0]=d;f[1]=g;f[2]=a;f[3]=e;f[4]=n;f[5]=y;return f}function G(f,d,g,a,e,n,y,A){var C=Math.sin(n);n=Math.cos(n);f[0]=a*n;f[1]=e*C;f[2]=-a*C;f[3]=e*n;f[4]=y*a*n-A*a*C+d;f[5]=y*e*C+A*e*n+g;return f}function L(f,
d){var g=v(d);(0,t.assert)(0!==g,32);var a=d[0],e=d[1],n=d[2],y=d[3],A=d[4];d=d[5];f[0]=y/g;f[1]=-e/g;f[2]=-n/g;f[3]=a/g;f[4]=(n*d-y*A)/g;f[5]=-(a*d-e*A)/g;return f}function v(f){return f[0]*f[3]-f[1]*f[2]}function u(f){return"matrix("+f.join(", ")+")"}Object.defineProperty(J,"__esModule",{value:!0});J.create=m;J.reset=function(f){return w(f,1,0,0,1,0,0)};J.multiply=l;J.set=w;J.setFromArray=function(f,d){f[0]=d[0];f[1]=d[1];f[2]=d[2];f[3]=d[3];f[4]=d[4];f[5]=d[5];return f};J.apply=function(f,d){var g=
d[0],a=d[1];d[0]=f[0]*g+f[2]*a+f[4];d[1]=f[1]*g+f[3]*a+f[5];return d};J.rotate=function(f,d){var g=Math.cos(d);d=Math.sin(d);return l(f,w(k,g,d,-d,g,0,0))};J.scale=function(f,d,g){return l(f,w(k,d,0,0,g,0,0))};J.makeScale=function(f,d,g){return w(f,d,0,0,g,0,0)};J.translate=function(f,d,g){return l(f,w(k,1,0,0,1,d,g))};J.compose=G;J.composeCssTransform=function(f,d,g,a,e,n,y){return u(G(m(),f,d,g,a,e,n,y))};J.invert=function(f){return L(f,f)};J.makeInverse=L;J.determinant=v;J.toString=u;var t=z(76),
k=Array(6)};
shadow$provide[78]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[79]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[80]=function(Ea,z,ob,J){function m(U){return U&&U.__esModule?U:{"default":U}}function l(U,ia,fa){return U[0]<=ia&&ia<=U[2]&&U[1]<=fa&&fa<=U[3]}function w(U,ia){var fa=U[1],ja=U[2],la=U[3],da=ia[0];ia=ia[1];var O=H["default"].UNKNOWN;da<U[0]?O|=H["default"].LEFT:da>ja&&(O|=H["default"].RIGHT);ia<fa?O|=H["default"].BELOW:ia>la&&(O|=H["default"].ABOVE);O===H["default"].UNKNOWN&&(O=H["default"].INTERSECTING);return O}function G(){return[Infinity,Infinity,-Infinity,-Infinity]}function L(U,
ia,fa,ja,la){return la?(la[0]=U,la[1]=ia,la[2]=fa,la[3]=ja,la):[U,ia,fa,ja]}function v(U){return L(Infinity,Infinity,-Infinity,-Infinity,U)}function u(U,ia){ia[0]<U[0]&&(U[0]=ia[0]);ia[0]>U[2]&&(U[2]=ia[0]);ia[1]<U[1]&&(U[1]=ia[1]);ia[1]>U[3]&&(U[3]=ia[1])}function t(U,ia){for(var fa=0,ja=ia.length;fa<ja;++fa)u(U,ia[fa]);return U}function k(U,ia,fa,ja,la){for(;fa<ja;fa+=la)d(U,ia[fa],ia[fa+1]);return U}function f(U,ia){for(var fa=0,ja=ia.length;fa<ja;++fa)t(U,ia[fa]);return U}function d(U,ia,fa){U[0]=
Math.min(U[0],ia);U[1]=Math.min(U[1],fa);U[2]=Math.max(U[2],ia);U[3]=Math.max(U[3],fa)}function g(U){var ia=0;x(U)||(ia=K(U)*y(U));return ia}function a(U){return[U[0],U[1]]}function e(U){return[U[2],U[1]]}function n(U){return[(U[0]+U[2])/2,(U[1]+U[3])/2]}function y(U){return U[3]-U[1]}function A(U,ia,fa){fa=fa?fa:G();E(U,ia)?(fa[0]=U[0]>ia[0]?U[0]:ia[0],fa[1]=U[1]>ia[1]?U[1]:ia[1],fa[2]=U[2]<ia[2]?U[2]:ia[2],fa[3]=U[3]<ia[3]?U[3]:ia[3]):v(fa);return fa}function C(U){return[U[0],U[3]]}function N(U){return[U[2],
U[3]]}function K(U){return U[2]-U[0]}function E(U,ia){return U[0]<=ia[2]&&U[2]>=ia[0]&&U[1]<=ia[3]&&U[3]>=ia[1]}function x(U){return U[2]<U[0]||U[3]<U[1]}Object.defineProperty(J,"__esModule",{value:!0});J.boundingExtent=function(U){for(var ia=G(),fa=0,ja=U.length;fa<ja;++fa)u(ia,U[fa]);return ia};J.buffer=function(U,ia,fa){return fa?(fa[0]=U[0]-ia,fa[1]=U[1]-ia,fa[2]=U[2]+ia,fa[3]=U[3]+ia,fa):[U[0]-ia,U[1]-ia,U[2]+ia,U[3]+ia]};J.clone=function(U,ia){return ia?(ia[0]=U[0],ia[1]=U[1],ia[2]=U[2],ia[3]=
U[3],ia):U.slice()};J.closestSquaredDistanceXY=function(U,ia,fa){ia=ia<U[0]?U[0]-ia:U[2]<ia?ia-U[2]:0;U=fa<U[1]?U[1]-fa:U[3]<fa?fa-U[3]:0;return ia*ia+U*U};J.containsCoordinate=function(U,ia){return l(U,ia[0],ia[1])};J.containsExtent=function(U,ia){return U[0]<=ia[0]&&ia[2]<=U[2]&&U[1]<=ia[1]&&ia[3]<=U[3]};J.containsXY=l;J.coordinateRelationship=w;J.createEmpty=G;J.createOrUpdate=L;J.createOrUpdateEmpty=v;J.createOrUpdateFromCoordinate=function(U,ia){var fa=U[0];U=U[1];return L(fa,U,fa,U,ia)};J.createOrUpdateFromCoordinates=
function(U,ia){ia=v(ia);return t(ia,U)};J.createOrUpdateFromFlatCoordinates=function(U,ia,fa,ja,la){la=v(la);return k(la,U,ia,fa,ja)};J.createOrUpdateFromRings=function(U,ia){ia=v(ia);return f(ia,U)};J.equals=function(U,ia){return U[0]==ia[0]&&U[2]==ia[2]&&U[1]==ia[1]&&U[3]==ia[3]};J.approximatelyEquals=function(U,ia,fa){return Math.abs(U[0]-ia[0])<fa&&Math.abs(U[2]-ia[2])<fa&&Math.abs(U[1]-ia[1])<fa&&Math.abs(U[3]-ia[3])<fa};J.extend=function(U,ia){ia[0]<U[0]&&(U[0]=ia[0]);ia[2]>U[2]&&(U[2]=ia[2]);
ia[1]<U[1]&&(U[1]=ia[1]);ia[3]>U[3]&&(U[3]=ia[3]);return U};J.extendCoordinate=u;J.extendCoordinates=t;J.extendFlatCoordinates=k;J.extendRings=f;J.extendXY=d;J.forEachCorner=function(U,ia){var fa;return(fa=ia(a(U)))||(fa=ia(e(U)))||(fa=ia(N(U)))?fa:(fa=ia(C(U)))?fa:!1};J.getArea=g;J.getBottomLeft=a;J.getBottomRight=e;J.getCenter=n;J.getCorner=function(U,ia){var fa;ia===D["default"].BOTTOM_LEFT?fa=a(U):ia===D["default"].BOTTOM_RIGHT?fa=e(U):ia===D["default"].TOP_LEFT?fa=C(U):ia===D["default"].TOP_RIGHT?
fa=N(U):(0,S.assert)(!1,13);return fa};J.getEnlargedArea=function(U,ia){return(Math.max(U[2],ia[2])-Math.min(U[0],ia[0]))*(Math.max(U[3],ia[3])-Math.min(U[1],ia[1]))};J.getForViewAndSize=function(U,ia,fa,ja,la){var da=ia*ja[0]/2;ja=ia*ja[1]/2;ia=Math.cos(fa);var O=Math.sin(fa);fa=da*ia;da*=O;ia*=ja;var B=ja*O,Y=U[0],ka=U[1];U=Y-fa+B;ja=Y-fa-B;O=Y+fa-B;fa=Y+fa+B;B=ka-da-ia;Y=ka-da+ia;var Z=ka+da+ia;da=ka+da-ia;return L(Math.min(U,ja,O,fa),Math.min(B,Y,Z,da),Math.max(U,ja,O,fa),Math.max(B,Y,Z,da),la)};
J.getHeight=y;J.getIntersectionArea=function(U,ia){U=A(U,ia);return g(U)};J.getIntersection=A;J.getMargin=function(U){return K(U)+y(U)};J.getSize=function(U){return[U[2]-U[0],U[3]-U[1]]};J.getTopLeft=C;J.getTopRight=N;J.getWidth=K;J.intersects=E;J.isEmpty=x;J.returnOrUpdate=function(U,ia){return ia?(ia[0]=U[0],ia[1]=U[1],ia[2]=U[2],ia[3]=U[3],ia):U};J.scaleFromCenter=function(U,ia){var fa=(U[2]-U[0])/2*(ia-1);ia=(U[3]-U[1])/2*(ia-1);U[0]-=fa;U[2]+=fa;U[1]-=ia;U[3]+=ia};J.intersectsSegment=function(U,
ia,fa){var ja=!1,la=w(U,ia),da=w(U,fa);if(la===H["default"].INTERSECTING||da===H["default"].INTERSECTING)ja=!0;else{var O=U[0],B=U[1],Y=U[2];U=U[3];var ka=fa[0];fa=fa[1];ia=(fa-ia[1])/(ka-ia[0]);da&H["default"].ABOVE&&!(la&H["default"].ABOVE)&&(ja=ka-(fa-U)/ia,ja=ja>=O&&ja<=Y);ja||!(da&H["default"].RIGHT)||la&H["default"].RIGHT||(ja=fa-(ka-Y)*ia,ja=ja>=B&&ja<=U);ja||!(da&H["default"].BELOW)||la&H["default"].BELOW||(ja=ka-(fa-B)/ia,ja=ja>=O&&ja<=Y);ja||!(da&H["default"].LEFT)||la&H["default"].LEFT||
(ja=fa-(ka-O)*ia,ja=ja>=B&&ja<=U)}return ja};J.applyTransform=function(U,ia,fa,ja){var la=[];if(1<ja)for(var da=U[2]-U[0],O=U[3]-U[1],B=0;B<ja;++B)la.push(U[0]+da*B/ja,U[1],U[2],U[1]+O*B/ja,U[2]-da*B/ja,U[3],U[0],U[3]-O*B/ja);else la=[U[0],U[1],U[2],U[1],U[2],U[3],U[0],U[3]];ia(la,la,2);ia=[];U=[];B=0;for(ja=la.length;B<ja;B+=2)ia.push(la[B]),U.push(la[B+1]);la=Math.min.apply(null,ia);B=Math.min.apply(null,U);ia=Math.max.apply(null,ia);U=Math.max.apply(null,U);return L(la,B,ia,U,fa)};J.wrapX=function(U,
ia){var fa=ia.getExtent(),ja=n(U);ia.canWrapX()&&(ja[0]<fa[0]||ja[0]>=fa[2])&&(ia=K(fa),fa=Math.floor((ja[0]-fa[0])/ia)*ia,U[0]-=fa,U[2]-=fa);return U};var D=m(z(78)),H=m(z(79)),S=z(76)};
shadow$provide[81]=function(Ea,z,ob,J){function m(l,w,G,L){l=G-l;w=L-w;return l*l+w*w}Object.defineProperty(J,"__esModule",{value:!0});J.clamp=function(l,w,G){return Math.min(Math.max(l,w),G)};J.squaredSegmentDistance=function(l,w,G,L,v,u){var t=v-G,k=u-L;if(0!==t||0!==k){var f=((l-G)*t+(w-L)*k)/(t*t+k*k);1<f?(G=v,L=u):0<f&&(G+=t*f,L+=k*f)}return m(l,w,G,L)};J.squaredDistance=m;J.solveLinearSystem=function(l){for(var w=l.length,G=0;G<w;G++){for(var L=G,v=Math.abs(l[G][G]),u=G+1;u<w;u++){var t=Math.abs(l[u][G]);
t>v&&(v=t,L=u)}if(0===v)return null;v=l[L];l[L]=l[G];l[G]=v;for(L=G+1;L<w;L++)for(v=-l[L][G]/l[G][G],u=G;u<w+1;u++)l[L][u]=G==u?0:l[L][u]+v*l[G][u]}G=Array(w);for(L=w-1;0<=L;L--)for(G[L]=l[L][w]/l[L][L],v=L-1;0<=v;v--)l[v][w]-=l[v][L]*G[L];return G};J.toDegrees=function(l){return 180*l/Math.PI};J.toRadians=function(l){return l*Math.PI/180};J.modulo=function(l,w){l%=w;return 0>l*w?l+w:l};J.lerp=function(l,w,G){return l+G*(w-l)};J.log2=J.cosh=void 0;Ea=function(){return"cosh"in Math?Math.cosh:function(l){l=
Math.exp(l);return(l+1/l)/2}}();J.cosh=Ea;Ea=function(){return"log2"in Math?Math.log2:function(l){return Math.log(l)*Math.LOG2E}}();J.log2=Ea};
shadow$provide[82]=function(Ea,z,ob,J){function m(k){var f=document.createElement("div");f.style.color=k;return""!==f.style.color?(document.body.appendChild(f),k=getComputedStyle(f).color,document.body.removeChild(f),k):""}function l(k){k[0]=(0,L.clamp)(k[0]+.5|0,0,255);k[1]=(0,L.clamp)(k[1]+.5|0,0,255);k[2]=(0,L.clamp)(k[2]+.5|0,0,255);k[3]=(0,L.clamp)(k[3],0,1);return k}function w(k){var f=k[0];f!=(f|0)&&(f=f+.5|0);var d=k[1];d!=(d|0)&&(d=d+.5|0);var g=k[2];g!=(g|0)&&(g=g+.5|0);return"rgba("+f+
","+d+","+g+","+(void 0===k[3]?1:k[3])+")"}Object.defineProperty(J,"__esModule",{value:!0});J.asString=function(k){return"string"===typeof k?k:w(k)};J.asArray=function(k){return Array.isArray(k)?k:t(k)};J.normalize=l;J.toString=w;J.isStringColor=function(k){u.test(k)&&(k=m(k));return v.test(k)||0===k.indexOf("rgba(")||0===k.indexOf("rgb(")};J.fromString=void 0;var G=z(76),L=z(81),v=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,u=/^([a-z]*)$|^hsla?\(.*\)$/i,t=function(){var k={},f=0;return function(d){if(k.hasOwnProperty(d))var g=
k[d];else{if(1024<=f){g=0;for(var a in k)0===(g++&3)&&(delete k[a],--f)}g=d;u.exec(g)&&(g=m(g));if(v.exec(g)){a=g.length-1;var e=4>=a?1:2;var n=4===a||8===a;a=parseInt(g.substr(1+0*e,e),16);var y=parseInt(g.substr(1+1*e,e),16);var A=parseInt(g.substr(1+2*e,e),16);g=n?parseInt(g.substr(1+3*e,e),16):255;1==e&&(a=(a<<4)+a,y=(y<<4)+y,A=(A<<4)+A,n&&(g=(g<<4)+g));e=[a,y,A,g/255]}else 0==g.indexOf("rgba(")?(e=g.slice(5,-1).split(",").map(Number),l(e)):0==g.indexOf("rgb(")?(e=g.slice(4,-1).split(",").map(Number),
e.push(1),l(e)):(0,G.assert)(!1,14);g=e;k[d]=g;++f}return g}}();J.fromString=t};
shadow$provide[83]=function(Ea,z,ob,J){function m(w,G,L){L=L?(0,l.asString)(L):"null";return G+":"+w+":"+L}Object.defineProperty(J,"__esModule",{value:!0});J.shared=J["default"]=void 0;var l=z(82);Ea=function(){function w(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}w.prototype.clear=function(){this.cache_={};this.cacheSize_=0};w.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};w.prototype.expire=function(){if(this.canExpireCache()){var G=0,L;for(L in this.cache_){var v=
this.cache_[L];0!==(G++&3)||v.hasListener()||(delete this.cache_[L],--this.cacheSize_)}}};w.prototype.get=function(G,L,v){G=m(G,L,v);return G in this.cache_?this.cache_[G]:null};w.prototype.set=function(G,L,v,u){G=m(G,L,v);this.cache_[G]=u;++this.cacheSize_};w.prototype.setSize=function(G){this.maxCacheSize_=G;this.expire()};return w}();J["default"]=Ea;Ea=new Ea;J.shared=Ea};
shadow$provide[84]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.stopPropagation=function(m){m.stopPropagation()};J.preventDefault=function(m){m.preventDefault()};J["default"]=void 0;Ea=function(){function m(l){this.type=l;this.target=null}m.prototype.preventDefault=function(){this.propagationStopped=!0};m.prototype.stopPropagation=function(){this.propagationStopped=!0};return m}();J["default"]=Ea};
shadow$provide[85]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[86]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.clear=function(m){for(var l in m)delete m[l]};J.isEmpty=function(m){for(var l in m)return!1;return!l};J.getValues=J.assign=void 0;J.assign="function"===typeof Object.assign?Object.assign:function(m,l){if(void 0===m||null===m)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(m),G=1,L=arguments.length;G<L;++G){var v=arguments[G];if(void 0!==v&&null!==v)for(var u in v)v.hasOwnProperty(u)&&
(w[u]=v[u])}return w};J.getValues="function"===typeof Object.values?Object.values:function(m){var l=[],w;for(w in m)l.push(m[w]);return l}};
shadow$provide[87]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(71));var l=m(z(84)),w=z(73),G=z(86),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t){var k=v.call(this)||this;k.eventTarget_=t;k.pendingRemovals_=null;k.dispatching_=null;k.listeners_=null;return k}L(u,v);u.prototype.addEventListener=function(t,k){if(t&&k){var f=this.listeners_||(this.listeners_={});t=f[t]||(f[t]=[]);-1===t.indexOf(k)&&t.push(k)}};u.prototype.dispatchEvent=function(t){var k="string"===typeof t?new l["default"](t):t;t=k.type;k.target||(k.target=this.eventTarget_||this);var f=this.listeners_&&
this.listeners_[t];if(f){var d=this.dispatching_||(this.dispatching_={}),g=this.pendingRemovals_||(this.pendingRemovals_={});t in d||(d[t]=0,g[t]=0);++d[t];for(var a=0,e=f.length;a<e;++a){var n="handleEvent"in f[a]?f[a].handleEvent(k):f[a].call(this,k);if(!1===n||k.propagationStopped){n=!1;break}}--d[t];if(0===d[t]){k=g[t];for(delete g[t];k--;)this.removeEventListener(t,w.VOID);delete d[t]}return n}};u.prototype.disposeInternal=function(){this.listeners_&&(0,G.clear)(this.listeners_)};u.prototype.getListeners=
function(t){return this.listeners_&&this.listeners_[t]||void 0};u.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:0<Object.keys(this.listeners_).length:!1};u.prototype.removeEventListener=function(t,k){var f=this.listeners_&&this.listeners_[t];f&&(k=f.indexOf(k),-1!==k&&(this.pendingRemovals_&&t in this.pendingRemovals_?(f[k]=w.VOID,++this.pendingRemovals_[t]):(f.splice(k,1),0===f.length&&delete this.listeners_[t])))};return u}(Ea["default"]);J["default"]=z};
shadow$provide[88]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[89]=function(Ea,z,ob,J){function m(w,G,L,v,u){v&&v!==w&&(L=L.bind(v));if(u){var t=L;L=function(){w.removeEventListener(G,L);t.apply(this,arguments)}}v={target:w,type:G,listener:L};w.addEventListener(G,L);return v}Object.defineProperty(J,"__esModule",{value:!0});J.listen=m;J.listenOnce=function(w,G,L,v){return m(w,G,L,v,!0)};J.unlistenByKey=function(w){w&&w.target&&(w.target.removeEventListener(w.type,w.listener),(0,l.clear)(w))};var l=z(86)};
shadow$provide[90]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}function l(v){if(Array.isArray(v))for(var u=0,t=v.length;u<t;++u)(0,G.unlistenByKey)(v[u]);else(0,G.unlistenByKey)(v)}Object.defineProperty(J,"__esModule",{value:!0});J.unByKey=l;J["default"]=void 0;Ea=m(z(87));var w=m(z(88)),G=z(89),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,
d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(){var t=v.call(this)||this;t.revision_=0;return t}L(u,v);u.prototype.changed=function(){++this.revision_;this.dispatchEvent(w["default"].CHANGE)};u.prototype.getRevision=function(){return this.revision_};u.prototype.on=function(t,k){if(Array.isArray(t)){for(var f=t.length,d=Array(f),g=0;g<f;++g)d[g]=(0,G.listen)(this,
t[g],k);return d}return(0,G.listen)(this,t,k)};u.prototype.once=function(t,k){if(Array.isArray(t)){var f=t.length;var d=Array(f);for(var g=0;g<f;++g)d[g]=(0,G.listenOnce)(this,t[g],k)}else d=(0,G.listenOnce)(this,t,k);return k.ol_key=d};u.prototype.un=function(t,k){var f=k.ol_key;if(f)l(f);else if(Array.isArray(t)){f=0;for(var d=t.length;f<d;++f)this.removeEventListener(t[f],k)}else this.removeEventListener(t,k)};return u}(Ea["default"]);J["default"]=z};
shadow$provide[91]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k){return t.hasOwnProperty(k)?t[k]:t[k]="change:"+k}Object.defineProperty(J,"__esModule",{value:!0});J.getChangeEventType=l;J["default"]=J.ObjectEvent=void 0;Ea=m(z(84));var w=m(z(85));ob=m(z(90));var G=z(86),L=z(74),v=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}(),u=function(k){function f(d,g,a){d=k.call(this,d)||this;d.key=g;d.oldValue=a;return d}v(f,k);return f}(Ea["default"]);J.ObjectEvent=u;z=function(k){function f(d){var g=k.call(this)||this;(0,L.getUid)(g);g.values_=null;void 0!==d&&g.setProperties(d);return g}v(f,k);f.prototype.get=function(d){var g;this.values_&&this.values_.hasOwnProperty(d)&&
(g=this.values_[d]);return g};f.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};f.prototype.getProperties=function(){return this.values_&&(0,G.assign)({},this.values_)||{}};f.prototype.hasProperties=function(){return!!this.values_};f.prototype.notify=function(d,g){var a=l(d);this.dispatchEvent(new u(a,d,g));a=w["default"].PROPERTYCHANGE;this.dispatchEvent(new u(a,d,g))};f.prototype.set=function(d,g,a){var e=this.values_||(this.values_={});a?e[d]=g:(a=e[d],e[d]=g,a!==
g&&this.notify(d,a))};f.prototype.setProperties=function(d,g){for(var a in d)this.set(a,d[a],g)};f.prototype.applyProperties=function(d){d.values_&&(0,G.assign)(this.values_||(this.values_={}),d.values_)};f.prototype.unset=function(d,g){if(this.values_&&d in this.values_){var a=this.values_[d];delete this.values_[d];(0,G.isEmpty)(this.values_)&&(this.values_=null);g||this.notify(d,a)}};return f}(ob["default"]);var t={};J["default"]=z};
shadow$provide[92]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[93]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(91));var l=m(z(92)),w=z(74),G=z(76),L=z(86),v=z(81),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=k}t(k,f);k.prototype=
null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(f){var d=t.call(this)||this,g=(0,L.assign)({},f);g[l["default"].OPACITY]=void 0!==f.opacity?f.opacity:1;(0,G.assert)("number"===typeof g[l["default"].OPACITY],64);g[l["default"].VISIBLE]=void 0!==f.visible?f.visible:!0;g[l["default"].Z_INDEX]=f.zIndex;g[l["default"].MAX_RESOLUTION]=void 0!==f.maxResolution?f.maxResolution:Infinity;g[l["default"].MIN_RESOLUTION]=void 0!==f.minResolution?f.minResolution:0;g[l["default"].MIN_ZOOM]=
void 0!==f.minZoom?f.minZoom:-Infinity;g[l["default"].MAX_ZOOM]=void 0!==f.maxZoom?f.maxZoom:Infinity;d.className_=void 0!==g.className?f.className:"ol-layer";delete g.className;d.setProperties(g);d.state_=null;return d}u(k,t);k.prototype.getClassName=function(){return this.className_};k.prototype.getLayerState=function(f){f=this.state_||{layer:this,managed:void 0===f?!0:f};var d=this.getZIndex();f.opacity=(0,v.clamp)(Math.round(100*this.getOpacity())/100,0,1);f.sourceState=this.getSourceState();
f.visible=this.getVisible();f.extent=this.getExtent();f.zIndex=void 0!==d?d:!1===f.managed?Infinity:0;f.maxResolution=this.getMaxResolution();f.minResolution=Math.max(this.getMinResolution(),0);f.minZoom=this.getMinZoom();f.maxZoom=this.getMaxZoom();return this.state_=f};k.prototype.getLayersArray=function(f){return(0,w["abstract"])()};k.prototype.getLayerStatesArray=function(f){return(0,w["abstract"])()};k.prototype.getExtent=function(){return this.get(l["default"].EXTENT)};k.prototype.getMaxResolution=
function(){return this.get(l["default"].MAX_RESOLUTION)};k.prototype.getMinResolution=function(){return this.get(l["default"].MIN_RESOLUTION)};k.prototype.getMinZoom=function(){return this.get(l["default"].MIN_ZOOM)};k.prototype.getMaxZoom=function(){return this.get(l["default"].MAX_ZOOM)};k.prototype.getOpacity=function(){return this.get(l["default"].OPACITY)};k.prototype.getSourceState=function(){return(0,w["abstract"])()};k.prototype.getVisible=function(){return this.get(l["default"].VISIBLE)};
k.prototype.getZIndex=function(){return this.get(l["default"].Z_INDEX)};k.prototype.setExtent=function(f){this.set(l["default"].EXTENT,f)};k.prototype.setMaxResolution=function(f){this.set(l["default"].MAX_RESOLUTION,f)};k.prototype.setMinResolution=function(f){this.set(l["default"].MIN_RESOLUTION,f)};k.prototype.setMaxZoom=function(f){this.set(l["default"].MAX_ZOOM,f)};k.prototype.setMinZoom=function(f){this.set(l["default"].MIN_ZOOM,f)};k.prototype.setOpacity=function(f){(0,G.assert)("number"===
typeof f,64);this.set(l["default"].OPACITY,f)};k.prototype.setVisible=function(f){this.set(l["default"].VISIBLE,f)};k.prototype.setZIndex=function(f){this.set(l["default"].Z_INDEX,f)};k.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);t.prototype.disposeInternal.call(this)};return k}(Ea["default"]);J["default"]=z};
shadow$provide[94]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[95]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[96]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J.inView=function(d,g){if(!d.visible)return!1;var a=g.resolution;if(a<d.minResolution||a>=d.maxResolution)return!1;g=g.zoom;return g>d.minZoom&&g<=d.maxZoom};J["default"]=void 0;Ea=m(z(93));var l=m(z(88)),w=m(z(92)),G=m(z(94)),L=m(z(95)),v=z(76),u=z(86),t=z(91),k=z(89),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a){var e=(0,u.assign)({},a);delete e.source;e=d.call(this,e)||this;e.mapPrecomposeKey_=null;e.mapRenderKey_=null;e.sourceChangeKey_=null;e.renderer_=null;a.render&&(e.render=a.render);a.map&&e.setMap(a.map);e.addEventListener((0,
t.getChangeEventType)(w["default"].SOURCE),e.handleSourcePropertyChange_);e.setSource(a.source?a.source:null);return e}f(g,d);g.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};g.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};g.prototype.getSource=function(){return this.get(w["default"].SOURCE)||null};g.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():L["default"].UNDEFINED};g.prototype.handleSourceChange_=
function(){this.changed()};g.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,k.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,k.listen)(a,l["default"].CHANGE,this.handleSourceChange_,this));this.changed()};g.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};g.prototype.render=function(a,e){var n=this.getRenderer();if(n.prepareFrame(a))return n.renderFrame(a,e)};g.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,k.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,k.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,k.listen)(a,G["default"].PRECOMPOSE,function(e){e=e.frameState.layerStatesArray;var n=this.getLayerState(!1);(0,v.assert)(!e.some(function(y){return y.layer===n.layer}),67);e.push(n)},this),this.mapRenderKey_=(0,k.listen)(this,l["default"].CHANGE,a.render,a),
this.changed())};g.prototype.setSource=function(a){this.set(w["default"].SOURCE,a)};g.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};g.prototype.hasRenderer=function(){return!!this.renderer_};g.prototype.createRenderer=function(){return null};g.prototype.disposeInternal=function(){this.setSource(null);d.prototype.disposeInternal.call(this)};return g}(Ea["default"]);J["default"]=z};
shadow$provide[97]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.padNumber=function(m,l,w){m=void 0!==w?m.toFixed(w):""+m;w=m.indexOf(".");w=-1===w?m.length:w;return w>l?m:Array(1+l-w).join("0")+m};J.compareVersions=function(m,l){m=(""+m).split(".");l=(""+l).split(".");for(var w=0;w<Math.max(m.length,l.length);w++){var G=parseInt(m[w]||"0",10),L=parseInt(l[w]||"0",10);if(G>L)return 1;if(L>G)return-1}return 0}};
shadow$provide[98]=function(Ea,z,ob,J){function m(f,d){var g=f[0];f=f[1];var a=d[0],e=d[1];d=a[0];a=a[1];var n=e[0];e=e[1];var y=n-d,A=e-a;g=0===y&&0===A?0:(y*(g-d)+A*(f-a))/(y*y+A*A||0);0>=g?(f=d,g=a):1<=g?(f=n,g=e):(f=d+g*y,g=a+g*A);return[f,g]}function l(f,d,g){d=(0,t.modulo)(d+180,360)-180;var a=Math.abs(3600*d);g=g||0;var e=Math.pow(10,g),n=Math.floor(a/3600),y=Math.floor((a-3600*n)/60);a=Math.ceil((a-3600*n-60*y)*e)/e;60<=a&&(a=0,y+=1);60<=y&&(y=0,n+=1);return n+" "+(0,k.padNumber)(y,2)+" "+
(0,k.padNumber)(a,2,g)+""+(0==d?"":" "+f.charAt(0>d?1:0))}function w(f,d,g){return f?d.replace("{x}",f[0].toFixed(g)).replace("{y}",f[1].toFixed(g)):""}function G(f,d){var g=f[0]-d[0];f=f[1]-d[1];return g*g+f*f}function L(f,d){return w(f,"{x}, {y}",d)}function v(f,d,g){var a=d.getExtent(),e=0;d.canWrapX()&&(f[0]<a[0]||f[0]>a[2])&&(d=g||(0,u.getWidth)(a),e=Math.floor((f[0]-a[0])/d));return e}Object.defineProperty(J,"__esModule",{value:!0});J.add=function(f,d){f[0]+=+d[0];f[1]+=+d[1];return f};J.closestOnCircle=
function(f,d){var g=d.getRadius(),a=d.getCenter();d=a[0];a=a[1];var e=f[0]-d;f=f[1]-a;0===e&&0===f&&(e=1);var n=Math.sqrt(e*e+f*f);return[d+g*e/n,a+g*f/n]};J.closestOnSegment=m;J.createStringXY=function(f){return function(d){return L(d,f)}};J.degreesToStringHDMS=l;J.format=w;J.equals=function(f,d){for(var g=!0,a=f.length-1;0<=a;--a)if(f[a]!=d[a]){g=!1;break}return g};J.rotate=function(f,d){var g=Math.cos(d);d=Math.sin(d);var a=f[1]*g+f[0]*d;f[0]=f[0]*g-f[1]*d;f[1]=a;return f};J.scale=function(f,d){f[0]*=
d;f[1]*=d;return f};J.squaredDistance=G;J.distance=function(f,d){return Math.sqrt(G(f,d))};J.squaredDistanceToSegment=function(f,d){return G(f,m(f,d))};J.toStringHDMS=function(f,d){return f?l("NS",f[1],d)+" "+l("EW",f[0],d):""};J.toStringXY=L;J.wrapX=function(f,d){if(d.canWrapX()){var g=(0,u.getWidth)(d.getExtent());(d=v(f,d,g))&&(f[0]-=d*g)}return f};J.getWorldsAway=v;var u=z(80),t=z(81),k=z(97)};
shadow$provide[99]=function(Ea,z,ob,J){function m(f,d){v.shared.expire()}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(f){return f&&f.__esModule?f:{"default":f}}(z(71));var l=z(73),w=z(74),G=z(77),L=z(80),v=z(83),u=z(96),t=z(98),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,
g){function a(){this.constructor=d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g){var a=f.call(this)||this;a.map_=g;return a}k(d,f);d.prototype.dispatchRenderEvent=function(g,a){(0,w["abstract"])()};d.prototype.calculateMatrices2D=function(g){var a=g.viewState,e=g.coordinateToPixelTransform,n=g.pixelToCoordinateTransform;(0,G.compose)(e,g.size[0]/2,g.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,G.makeInverse)(n,
e)};d.prototype.forEachFeatureAtCoordinate=function(g,a,e,n,y,A,C,N){function K(Y,ka,Z,wa){return y.call(A,ka,Y?Z:null,wa)}var E=a.viewState,x=E.projection,D=(0,t.wrapX)(g.slice(),x),H=[[0,0]];x.canWrapX()&&n&&(n=x.getExtent(),n=(0,L.getWidth)(n),H.push([-n,0],[n,0]));n=a.layerStatesArray;x=n.length;for(var S=[],U=[],ia=0;ia<H.length;ia++)for(var fa=x-1;0<=fa;--fa){var ja=n[fa],la=ja.layer;if(la.hasRenderer()&&(0,u.inView)(ja,E)&&C.call(N,la)){var da=la.getRenderer();la=la.getSource();if(da&&la){la=
la.getWrapX()?D:g;ja=K.bind(null,ja.managed);U[0]=la[0]+H[ia][0];U[1]=la[1]+H[ia][1];var O=da.forEachFeatureAtCoordinate(U,a,e,ja,S)}if(O)return O}}if(0!==S.length){var B=1/S.length;S.forEach(function(Y,ka){return Y.distanceSq+=ka*B});S.sort(function(Y,ka){return Y.distanceSq-ka.distanceSq});S.some(function(Y){return O=Y.callback(Y.feature,Y.layer,Y.geometry)});return O}};d.prototype.forEachLayerAtPixel=function(g,a,e,n,y){return(0,w["abstract"])()};d.prototype.hasFeatureAtCoordinate=function(g,a,
e,n,y,A){return void 0!==this.forEachFeatureAtCoordinate(g,a,e,n,l.TRUE,this,y,A)};d.prototype.getMap=function(){return this.map_};d.prototype.renderFrame=function(g){(0,w["abstract"])()};d.prototype.scheduleExpireIconCache=function(g){v.shared.canExpireCache()&&g.postRenderFunctions.push(m)};return d}(Ea["default"]);J["default"]=z};
shadow$provide[100]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(l){return l&&l.__esModule?l:{"default":l}}(z(84));var m=function(){var l=function(w,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,v){L.__proto__=v}||function(L,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(L[u]=v[u])};return l(w,G)};return function(w,G){function L(){this.constructor=w}l(w,G);w.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ea=function(l){function w(G,L,v,u){G=l.call(this,G)||this;G.inversePixelTransform=L;G.frameState=v;G.context=u;return G}m(w,l);return w}(Ea["default"]);J["default"]=Ea};
shadow$provide[101]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.getFontParameters=J.CLASS_COLLAPSED=J.CLASS_CONTROL=J.CLASS_UNSUPPORTED=J.CLASS_UNSELECTABLE=J.CLASS_SELECTABLE=J.CLASS_HIDDEN=void 0;J.CLASS_HIDDEN="ol-hidden";J.CLASS_SELECTABLE="ol-selectable";J.CLASS_UNSELECTABLE="ol-unselectable";J.CLASS_UNSUPPORTED="ol-unsupported";J.CLASS_CONTROL="ol-control";J.CLASS_COLLAPSED="ol-collapsed";var m=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
l="style variant weight size lineHeight family".split(" ");J.getFontParameters=function(w){w=w.match(m);if(!w)return null;for(var G={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},L=0,v=l.length;L<v;++L){var u=w[L+1];void 0!==u&&(G[l[L]]=u)}G.families=G.family.split(/,\s?/);return G}};
shadow$provide[102]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.PASSIVE_EVENT_LISTENERS=J.IMAGE_DECODE=J.WORKER_OFFSCREEN_CANVAS=J.DEVICE_PIXEL_RATIO=J.MAC=J.WEBKIT=J.SAFARI=J.FIREFOX=void 0;Ea="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";z=-1!==Ea.indexOf("firefox");J.FIREFOX=z;z=-1!==Ea.indexOf("safari")&&-1==Ea.indexOf("chrom");J.SAFARI=z;z=-1!==Ea.indexOf("webkit")&&-1==Ea.indexOf("edge");J.WEBKIT=z;Ea=
-1!==Ea.indexOf("macintosh");J.MAC=Ea;J.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;J.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;J.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ea=function(){var m=!1;try{var l=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("_",null,l);window.removeEventListener("_",null,l)}catch(w){}return m}();
J.PASSIVE_EVENT_LISTENERS=Ea};
shadow$provide[103]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.createCanvasContext2D=function(l,w,G){G=G&&G.length?G.shift():m.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(l||300,w||300):document.createElement("canvas");l&&(G.width=l);w&&(G.height=w);return G.getContext("2d")};J.outerWidth=function(l){var w=l.offsetWidth;l=getComputedStyle(l);return w+=parseInt(l.marginLeft,10)+parseInt(l.marginRight,10)};J.outerHeight=function(l){var w=l.offsetHeight;l=getComputedStyle(l);
return w+=parseInt(l.marginTop,10)+parseInt(l.marginBottom,10)};J.replaceNode=function(l,w){var G=w.parentNode;G&&G.replaceChild(l,w)};J.removeNode=function(l){return l&&l.parentNode?l.parentNode.removeChild(l):null};J.removeChildren=function(l){for(;l.lastChild;)l.removeChild(l.lastChild)};J.replaceChildren=function(l,w){for(var G=l.childNodes,L=0;;++L){var v=G[L],u=w[L];if(!v&&!u)break;v!==u&&(v?u?l.insertBefore(u,v):(l.removeChild(v),--L):l.appendChild(u))}};var m=z(102)};
shadow$provide[104]=function(Ea,z,ob,J){function m(e){return e&&e.__esModule?e:{"default":e}}function l(e,n){f||(f=(0,v.createCanvasContext2D)(1,1));e!=d&&(f.font=e,d=f.font);return f.measureText(n)}function w(e,n){return l(e,n).width}Object.defineProperty(J,"__esModule",{value:!0});J.measureTextWidth=w;J.measureAndCacheTextWidth=function(e,n,y){if(n in y)return y[n];e=w(e,n);return y[n]=e};J.measureTextWidths=function(e,n,y){for(var A=n.length,C=0,N=0;N<A;++N){var K=w(e,n[N]);C=Math.max(C,K);y.push(K)}return C};
J.rotateAtOffset=function(e,n,y,A){0!==n&&(e.translate(y,A),e.rotate(n),e.translate(-y,-A))};J.drawImageOrLabel=function(e,n,y,A,C,N,K,E,x,D,H){e.save();1!==y&&(e.globalAlpha*=y);n&&e.setTransform.apply(e,n);if(A.contextInstructions)for(e.translate(x,D),e.scale(H[0],H[1]),n=A.contextInstructions,y=0,A=n.length;y<A;y+=2)Array.isArray(n[y+1])?e[n[y]].apply(e,n[y+1]):e[n[y]]=n[y+1];else 0>H[0]||0>H[1]?(e.translate(x,D),e.scale(H[0],H[1]),e.drawImage(A,C,N,K,E,0,0,K,E)):e.drawImage(A,C,N,K,E,x,D,K*H[0],
E*H[1]);e.restore()};J.createTransformString=function(e){if(G.WORKER_OFFSCREEN_CANVAS)return(0,t.toString)(e);a||(a=(0,v.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,t.toString)(e);return a.style.transform};J.measureTextHeight=J.registerFont=J.textHeights=J.labelCache=J.checkedFonts=J.defaultLineWidth=J.defaultPadding=J.defaultTextBaseline=J.defaultTextAlign=J.defaultStrokeStyle=J.defaultMiterLimit=J.defaultLineJoin=J.defaultLineDashOffset=J.defaultLineDash=J.defaultLineCap=J.defaultFillStyle=
J.defaultFont=void 0;Ea=m(z(91));ob=m(z(87));var G=z(102),L=z(86),v=z(103),u=z(101),t=z(77);J.defaultFont="10px sans-serif";J.defaultFillStyle="#000";J.defaultLineCap="round";J.defaultLineDash=[];J.defaultLineDashOffset=0;J.defaultLineJoin="round";J.defaultMiterLimit=10;J.defaultStrokeStyle="#000";J.defaultTextAlign="center";J.defaultTextBaseline="middle";J.defaultPadding=[0,0,0,0];J.defaultLineWidth=1;var k=new Ea["default"];J.checkedFonts=k;z=new ob["default"];J.labelCache=z;z.setSize=function(){console.warn("labelCache is deprecated.")};
var f=null,d,g={};J.textHeights=g;z=function(){function e(K,E,x){for(var D=!0,H=0;H<A;++H){var S=y[H];N=w(K+" "+E+" 32px "+S,"wmytzilWMYTZIL@#/\x26?$%10");x!=S&&(S=w(K+" "+E+" 32px "+x+","+S,"wmytzilWMYTZIL@#/\x26?$%10"),D=D&&S!=N)}return D?!0:!1}function n(){for(var K=!0,E=k.getKeys(),x=0,D=E.length;x<D;++x){var H=E[x];100>k.get(H)&&(e.apply(this,H.split("\n"))?((0,L.clear)(g),f=null,d=void 0,k.set(H,100)):(k.set(H,k.get(H)+1,!0),K=!1))}K&&(clearInterval(C),C=void 0)}var y=["monospace","serif"],
A=y.length,C,N;return function(K){if(K=(0,u.getFontParameters)(K))for(var E=K.families,x=0,D=E.length;x<D;++x){var H=E[x],S=K.style+"\n"+K.weight+"\n"+H;void 0===k.get(S)&&(k.set(S,100,!0),e(K.style,K.weight,H)||(k.set(S,0,!0),void 0===C&&(C=setInterval(n,32))))}}}();J.registerFont=z;z=function(){var e;return function(n){var y=g[n];if(void 0==y){if(G.WORKER_OFFSCREEN_CANVAS){y=(0,u.getFontParameters)(n);var A=l(n,"g");y=(isNaN(Number(y.lineHeight))?1.2:Number(y.lineHeight))*(A.actualBoundingBoxAscent+
A.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.margin="0 !important",e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=n,document.body.appendChild(e),y=e.offsetHeight,document.body.removeChild(e);g[n]=y}return y}}();J.measureTextHeight=z;var a=null};
shadow$provide[105]=function(Ea,z,ob,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(99));var l=m(z(85)),w=m(z(100)),G=m(z(94)),L=m(z(95)),v=z(101),u=z(104),t=z(96),k=z(89),f=z(103),d=function(){var g=function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,e)};return function(a,
e){function n(){this.constructor=a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();z=function(g){function a(e){var n=g.call(this,e)||this;n.fontChangeListenerKey_=(0,k.listen)(u.checkedFonts,l["default"].PROPERTYCHANGE,e.redrawText.bind(e));n.element_=document.createElement("div");var y=n.element_.style;y.position="absolute";y.width="100%";y.height="100%";y.zIndex="0";n.element_.className=v.CLASS_UNSELECTABLE+" ol-layers";e=e.getViewport();e.insertBefore(n.element_,
e.firstChild||null);n.children_=[];n.renderedVisible_=!0;return n}d(a,g);a.prototype.dispatchRenderEvent=function(e,n){var y=this.getMap();y.hasListener(e)&&(e=new w["default"](e,void 0,n),y.dispatchEvent(e))};a.prototype.disposeInternal=function(){(0,k.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);g.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e);this.dispatchRenderEvent(G["default"].PRECOMPOSE,
e);var n=e.layerStatesArray.sort(function(D,H){return D.zIndex-H.zIndex}),y=e.viewState;this.children_.length=0;for(var A=[],C=null,N=0,K=n.length;N<K;++N){var E=n[N];e.layerIndex=N;if((0,t.inView)(E,y)&&(E.sourceState==L["default"].READY||E.sourceState==L["default"].UNDEFINED)){E=E.layer;var x=E.render(e,C);x&&(x!==C&&(this.children_.push(x),C=x),"getDeclutter"in E&&A.push(E))}}for(N=A.length-1;0<=N;--N)A[N].renderDeclutter(e);(0,f.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(G["default"].POSTCOMPOSE,
e);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(e,n,y,A,C){for(var N=n.viewState,K=n.layerStatesArray,E=K.length-1;0<=E;--E){var x=K[E],D=x.layer;if(D.hasRenderer()&&(0,t.inView)(x,N)&&C(D)&&(x=D.getRenderer().getDataAtPixel(e,n,y))&&(D=A(D,x)))return D}};return a}(Ea["default"]);J["default"]=z};
shadow$provide[106]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[107]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.CollectionEvent=void 0;var l=m(z(75));Ea=m(z(91));var w=m(z(106));z=m(z(84));var G=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=
u}v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}(),L=function(v){function u(t,k,f){t=v.call(this,t)||this;t.element=k;t.index=f;return t}G(u,v);return u}(z["default"]);J.CollectionEvent=L;z=function(v){function u(t,k){var f=v.call(this)||this;f.unique_=!!(k||{}).unique;f.array_=t?t:[];if(f.unique_)for(t=0,k=f.array_.length;t<k;++t)f.assertUnique_(f.array_[t],t);f.updateLength_();return f}G(u,v);u.prototype.clear=function(){for(;0<this.getLength();)this.pop()};u.prototype.extend=
function(t){for(var k=0,f=t.length;k<f;++k)this.push(t[k]);return this};u.prototype.forEach=function(t){for(var k=this.array_,f=0,d=k.length;f<d;++f)t(k[f],f,k)};u.prototype.getArray=function(){return this.array_};u.prototype.item=function(t){return this.array_[t]};u.prototype.getLength=function(){return this.get("length")};u.prototype.insertAt=function(t,k){this.unique_&&this.assertUnique_(k);this.array_.splice(t,0,k);this.updateLength_();this.dispatchEvent(new L(w["default"].ADD,k,t))};u.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};u.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var k=this.getLength();this.insertAt(k,t);return this.getLength()};u.prototype.remove=function(t){for(var k=this.array_,f=0,d=k.length;f<d;++f)if(k[f]===t)return this.removeAt(f)};u.prototype.removeAt=function(t){var k=this.array_[t];this.array_.splice(t,1);this.updateLength_();this.dispatchEvent(new L(w["default"].REMOVE,k,t));return k};u.prototype.setAt=function(t,k){var f=this.getLength();
if(t<f)this.unique_&&this.assertUnique_(k,t),f=this.array_[t],this.array_[t]=k,this.dispatchEvent(new L(w["default"].REMOVE,f,t)),this.dispatchEvent(new L(w["default"].ADD,k,t));else{for(;f<t;++f)this.insertAt(f,void 0);this.insertAt(t,k)}};u.prototype.updateLength_=function(){this.set("length",this.array_.length)};u.prototype.assertUnique_=function(t,k){for(var f=0,d=this.array_.length;f<d;++f)if(this.array_[f]===t&&f!==k)throw new l["default"](58);};return u}(Ea["default"]);J["default"]=z};
shadow$provide[108]=function(Ea,z,ob,J){function m(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(93));var l=m(z(107)),w=m(z(106)),G=m(z(88)),L=m(z(85)),v=m(z(95)),u=z(76),t=z(86),k=z(91),f=z(80),d=z(74),g=z(89),a=function(){var e=function(n,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(A[N]=C[N])};return e(n,y)};
return function(n,y){function A(){this.constructor=n}e(n,y);n.prototype=null===y?Object.create(y):(A.prototype=y.prototype,new A)}}();z=function(e){function n(y){var A=y||{};y=(0,t.assign)({},A);delete y.layers;A=A.layers;y=e.call(this,y)||this;y.layersListenerKeys_=[];y.listenerKeys_={};y.addEventListener((0,k.getChangeEventType)("layers"),y.handleLayersChanged_);A?Array.isArray(A)?A=new l["default"](A.slice(),{unique:!0}):(0,u.assert)("function"===typeof A.getArray,43):A=new l["default"](void 0,
{unique:!0});y.setLayers(A);return y}a(n,e);n.prototype.handleLayerChange_=function(){this.changed()};n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(g.unlistenByKey);this.layersListenerKeys_.length=0;var y=this.getLayers();this.layersListenerKeys_.push((0,g.listen)(y,w["default"].ADD,this.handleLayersAdd_,this),(0,g.listen)(y,w["default"].REMOVE,this.handleLayersRemove_,this));for(var A in this.listenerKeys_)this.listenerKeys_[A].forEach(g.unlistenByKey);(0,t.clear)(this.listenerKeys_);
y=y.getArray();A=0;for(var C=y.length;A<C;A++){var N=y[A];this.listenerKeys_[(0,d.getUid)(N)]=[(0,g.listen)(N,L["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,g.listen)(N,G["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};n.prototype.handleLayersAdd_=function(y){y=y.element;this.listenerKeys_[(0,d.getUid)(y)]=[(0,g.listen)(y,L["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,g.listen)(y,G["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};n.prototype.handleLayersRemove_=
function(y){y=y.element;y=(0,d.getUid)(y);this.listenerKeys_[y].forEach(g.unlistenByKey);delete this.listenerKeys_[y];this.changed()};n.prototype.getLayers=function(){return this.get("layers")};n.prototype.setLayers=function(y){this.set("layers",y)};n.prototype.getLayersArray=function(y){var A=void 0!==y?y:[];this.getLayers().forEach(function(C){C.getLayersArray(A)});return A};n.prototype.getLayerStatesArray=function(y){var A=void 0!==y?y:[],C=A.length;this.getLayers().forEach(function(E){E.getLayerStatesArray(A)});
y=this.getLayerState();for(var N=A.length;C<N;C++){var K=A[C];K.opacity*=y.opacity;K.visible=K.visible&&y.visible;K.maxResolution=Math.min(K.maxResolution,y.maxResolution);K.minResolution=Math.max(K.minResolution,y.minResolution);K.minZoom=Math.max(K.minZoom,y.minZoom);K.maxZoom=Math.min(K.maxZoom,y.maxZoom);void 0!==y.extent&&(K.extent=void 0!==K.extent?(0,f.getIntersection)(K.extent,y.extent):y.extent)}return A};n.prototype.getSourceState=function(){return v["default"].READY};return n}(Ea["default"]);
J["default"]=z};
shadow$provide[109]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(l){return l&&l.__esModule?l:{"default":l}}(z(84));var m=function(){var l=function(w,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,v){L.__proto__=v}||function(L,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(L[u]=v[u])};return l(w,G)};return function(w,G){function L(){this.constructor=w}l(w,G);w.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ea=function(l){function w(G,L,v){G=l.call(this,G)||this;G.map=L;G.frameState=void 0!==v?v:null;return G}m(w,l);return w}(Ea["default"]);J["default"]=Ea};
shadow$provide[110]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(l){return l&&l.__esModule?l:{"default":l}}(z(109));var m=function(){var l=function(w,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,v){L.__proto__=v}||function(L,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(L[u]=v[u])};return l(w,G)};return function(w,G){function L(){this.constructor=w}l(w,G);w.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ea=function(l){function w(G,L,v,u,t){G=l.call(this,G,L,t)||this;G.originalEvent=v;G.pixel_=null;G.coordinate_=null;G.dragging=void 0!==u?u:!1;return G}m(w,l);Object.defineProperty(w.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(G){this.pixel_=G},enumerable:!1,configurable:!0});Object.defineProperty(w.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(G){this.coordinate_=G},enumerable:!1,configurable:!0});w.prototype.preventDefault=function(){l.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};w.prototype.stopPropagation=function(){l.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return w}(Ea["default"]);J["default"]=Ea};
shadow$provide[111]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=(Ea=z(88))&&Ea.__esModule?Ea:{"default":Ea};J["default"]={SINGLECLICK:"singleclick",CLICK:Ea["default"].CLICK,DBLCLICK:Ea["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[112]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[113]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(87));var l=m(z(88)),w=m(z(110)),G=m(z(111)),L=m(z(112)),v=z(102),u=z(89),t=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=
f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();z=function(k){function f(d,g){var a=k.call(this,d)||this;a.map_=d;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=g?g*v.DEVICE_PIXEL_RATIO:v.DEVICE_PIXEL_RATIO;a.down_=null;d=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=d;a.pointerdownListenerKey_=(0,u.listen)(d,L["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,u.listen)(d,L["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(l["default"].TOUCHMOVE,a.boundHandleTouchMove_,v.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}t(f,k);f.prototype.emulateClick_=function(d){var g=new w["default"](G["default"].CLICK,this.map_,d);this.dispatchEvent(g);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,g=new w["default"](G["default"].DBLCLICK,this.map_,d),this.dispatchEvent(g)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new w["default"](G["default"].SINGLECLICK,this.map_,d);this.dispatchEvent(a)}.bind(this),250)};f.prototype.updateActivePointers_=function(d){d.type==G["default"].POINTERUP||d.type==G["default"].POINTERCANCEL?delete this.trackedTouches_[d.pointerId]:d.type==G["default"].POINTERDOWN&&(this.trackedTouches_[d.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};f.prototype.handlePointerUp_=function(d){this.updateActivePointers_(d);
var g=new w["default"](G["default"].POINTERUP,this.map_,d);this.dispatchEvent(g);this.emulateClicks_&&!g.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(d)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(u.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};f.prototype.isMouseActionButton_=function(d){return 0===d.button};f.prototype.handlePointerDown_=function(d){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(d);
var g=new w["default"](G["default"].POINTERDOWN,this.map_,d);this.dispatchEvent(g);this.down_=d;0===this.dragListenerKeys_.length&&(d=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,u.listen)(d,G["default"].POINTERMOVE,this.handlePointerMove_,this),(0,u.listen)(d,G["default"].POINTERUP,this.handlePointerUp_,this),(0,u.listen)(this.element_,G["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push((0,
u.listen)(this.element_.getRootNode(),G["default"].POINTERUP,this.handlePointerUp_,this)))};f.prototype.handlePointerMove_=function(d){this.isMoving_(d)&&(this.dragging_=!0,d=new w["default"](G["default"].POINTERDRAG,this.map_,d,this.dragging_),this.dispatchEvent(d))};f.prototype.relayEvent_=function(d){this.originalPointerMoveEvent_=d;var g=!(!this.down_||!this.isMoving_(d));this.dispatchEvent(new w["default"](d.type,this.map_,d,g))};f.prototype.handleTouchMove_=function(d){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||d.preventDefault()};f.prototype.isMoving_=function(d){return this.dragging_||Math.abs(d.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(d.clientY-this.down_.clientY)>this.moveTolerance_};f.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,u.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(l["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,u.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(u.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;k.prototype.disposeInternal.call(this)};return f}(Ea["default"]);J["default"]=z};
shadow$provide[114]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[115]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[116]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.DROP=void 0;var m=z(76),l=z(86);J.DROP=Infinity;Ea=function(){function w(G,L){this.priorityFunction_=G;this.keyFunction_=L;this.elements_=[];this.priorities_=[];this.queuedElements_={}}w.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,l.clear)(this.queuedElements_)};w.prototype.dequeue=function(){var G=this.elements_,L=this.priorities_,v=G[0];1==G.length?(G.length=
0,L.length=0):(G[0]=G.pop(),L[0]=L.pop(),this.siftUp_(0));G=this.keyFunction_(v);delete this.queuedElements_[G];return v};w.prototype.enqueue=function(G){(0,m.assert)(!(this.keyFunction_(G)in this.queuedElements_),31);var L=this.priorityFunction_(G);return Infinity!=L?(this.elements_.push(G),this.priorities_.push(L),this.queuedElements_[this.keyFunction_(G)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};w.prototype.getCount=function(){return this.elements_.length};w.prototype.getLeftChildIndex_=
function(G){return 2*G+1};w.prototype.getRightChildIndex_=function(G){return 2*G+2};w.prototype.getParentIndex_=function(G){return G-1>>1};w.prototype.heapify_=function(){var G;for(G=(this.elements_.length>>1)-1;0<=G;G--)this.siftUp_(G)};w.prototype.isEmpty=function(){return 0===this.elements_.length};w.prototype.isKeyQueued=function(G){return G in this.queuedElements_};w.prototype.isQueued=function(G){return this.isKeyQueued(this.keyFunction_(G))};w.prototype.siftUp_=function(G){for(var L=this.elements_,
v=this.priorities_,u=L.length,t=L[G],k=v[G],f=G;G<u>>1;){var d=this.getLeftChildIndex_(G),g=this.getRightChildIndex_(G);d=g<u&&v[g]<v[d]?g:d;L[G]=L[d];v[G]=v[d];G=d}L[G]=t;v[G]=k;this.siftDown_(f,G)};w.prototype.siftDown_=function(G,L){for(var v=this.elements_,u=this.priorities_,t=v[L],k=u[L];L>G;){var f=this.getParentIndex_(L);if(u[f]>k)v[L]=v[f],u[L]=u[f],L=f;else break}v[L]=t;u[L]=k};w.prototype.reprioritize=function(){var G=this.priorityFunction_,L=this.elements_,v=this.priorities_,u=0,t=L.length,
k;for(k=0;k<t;++k){var f=L[k];var d=G(f);Infinity==d?delete this.queuedElements_[this.keyFunction_(f)]:(v[u]=d,L[u++]=f)}L.length=u;v.length=u;this.heapify_()};return w}();J["default"]=Ea};
shadow$provide[117]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[118]=function(Ea,z,ob,J){function m(t){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};return m(t)}function l(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;l=function(){return t};return t}function w(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J.getTilePriority=function(t,
k,f,d,g){if(!(t&&f in t.wantedTiles&&t.wantedTiles[f][k.getKey()]))return L.DROP;k=t.viewState.center;t=d[0]-k[0];d=d[1]-k[1];return 65536*Math.log(g)+Math.sqrt(t*t+d*d)/g};J["default"]=void 0;var G=w(z(88)),L=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==m(t)&&"function"!==typeof t)return{"default":t};var k=l();if(k&&k.has(t))return k.get(t);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in t)if(Object.prototype.hasOwnProperty.call(t,g)){var a=d?Object.getOwnPropertyDescriptor(t,
g):null;a&&(a.get||a.set)?Object.defineProperty(f,g,a):f[g]=t[g]}f["default"]=t;k&&k.set(t,f);return f}(z(116)),v=w(z(117)),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=k}t(k,f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();Ea=function(t){function k(f,
d){var g=t.call(this,function(a){return f.apply(null,a)},function(a){return a[0].getKey()})||this;g.boundHandleTileChange_=g.handleTileChange.bind(g);g.tileChangeCallback_=d;g.tilesLoading_=0;g.tilesLoadingKeys_={};return g}u(k,t);k.prototype.enqueue=function(f){var d=t.prototype.enqueue.call(this,f);d&&f[0].addEventListener(G["default"].CHANGE,this.boundHandleTileChange_);return d};k.prototype.getTilesLoading=function(){return this.tilesLoading_};k.prototype.handleTileChange=function(f){f=f.target;
var d=f.getState();if(f.hifi&&d===v["default"].LOADED||d===v["default"].ERROR||d===v["default"].EMPTY)f.removeEventListener(G["default"].CHANGE,this.boundHandleTileChange_),f=f.getKey(),f in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[f],--this.tilesLoading_),this.tileChangeCallback_()};k.prototype.loadMoreTiles=function(f,d){for(var g=0,a,e,n;this.tilesLoading_<f&&g<d&&0<this.getCount();)e=this.dequeue()[0],n=e.getKey(),a=e.getState(),a!==v["default"].IDLE||n in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++g,e.load())};return k}(L["default"]);J["default"]=Ea};
shadow$provide[119]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[120]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.METERS_PER_UNIT=void 0;Ea={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};z={};J.METERS_PER_UNIT=z;z[Ea.DEGREES]=12741994*Math.PI/360;z[Ea.FEET]=.3048;z[Ea.METERS]=1;z[Ea.USFEET]=1200/3937;J["default"]=Ea};
shadow$provide[121]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[122]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[123]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.DEFAULT_MAX_ZOOM=42;J.DEFAULT_TILE_SIZE=256};
shadow$provide[124]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=z(120);Ea=function(){function l(w){this.code_=w.code;this.units_=w.units;this.extent_=void 0!==w.extent?w.extent:null;this.worldExtent_=void 0!==w.worldExtent?w.worldExtent:null;this.axisOrientation_=void 0!==w.axisOrientation?w.axisOrientation:"enu";this.global_=void 0!==w.global?w.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=w.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=w.metersPerUnit}l.prototype.canWrapX=function(){return this.canWrapX_};l.prototype.getCode=function(){return this.code_};l.prototype.getExtent=function(){return this.extent_};l.prototype.getUnits=function(){return this.units_};l.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||m.METERS_PER_UNIT[this.units_]};l.prototype.getWorldExtent=function(){return this.worldExtent_};l.prototype.getAxisOrientation=function(){return this.axisOrientation_};
l.prototype.isGlobal=function(){return this.global_};l.prototype.setGlobal=function(w){this.global_=w;this.canWrapX_=!(!w||!this.extent_)};l.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};l.prototype.setDefaultTileGrid=function(w){this.defaultTileGrid_=w};l.prototype.setExtent=function(w){this.extent_=w;this.canWrapX_=!(!this.global_||!w)};l.prototype.setWorldExtent=function(w){this.worldExtent_=w};l.prototype.setGetPointResolution=function(w){this.getPointResolutionFunc_=w};
l.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return l}();J["default"]=Ea};
shadow$provide[125]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J.fromEPSG4326=function(k,f,d){var g=k.length;d=1<d?d:2;void 0===f&&(f=2<d?k.slice():Array(g));for(var a=0;a<g;a+=d){f[a]=L*k[a]/180;var e=6378137*Math.log(Math.tan(Math.PI*(+k[a+1]+90)/360));e>t?e=t:e<-t&&(e=-t);f[a+1]=e}return f};J.toEPSG4326=function(k,f,d){var g=k.length;d=1<d?d:2;void 0===f&&(f=2<d?k.slice():Array(g));for(var a=0;a<g;a+=d)f[a]=180*k[a]/
L,f[a+1]=360*Math.atan(Math.exp(k[a+1]/6378137))/Math.PI-90;return f};J.PROJECTIONS=J.MAX_SAFE_Y=J.WORLD_EXTENT=J.EXTENT=J.HALF_SIZE=J.RADIUS=void 0;Ea=m(z(124));var l=m(z(120)),w=z(81),G=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,d);f.prototype=null===d?Object.create(d):
(g.prototype=d.prototype,new g)}}();J.RADIUS=6378137;var L=6378137*Math.PI;J.HALF_SIZE=L;var v=[-L,-L,L,L];J.EXTENT=v;var u=[-180,-85,180,85];J.WORLD_EXTENT=u;var t=6378137*Math.log(Math.tan(Math.PI/2));J.MAX_SAFE_Y=t;z=function(k){function f(d){return k.call(this,{code:d,units:l["default"].METERS,extent:v,global:!0,worldExtent:u,getPointResolution:function(g,a){return g/(0,w.cosh)(a[1]/6378137)}})||this}G(f,k);return f}(Ea["default"]);z=[new z("EPSG:3857"),new z("EPSG:102100"),new z("EPSG:102113"),
new z("EPSG:900913"),new z("http://www.opengis.net/gml/srs/epsg.xml#3857")];J.PROJECTIONS=z};
shadow$provide[126]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J.PROJECTIONS=J.METERS_PER_UNIT=J.EXTENT=J.RADIUS=void 0;Ea=m(z(124));var l=m(z(120)),w=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}
v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();J.RADIUS=6378137;var G=[-180,-90,180,90];J.EXTENT=G;var L=6378137*Math.PI/180;J.METERS_PER_UNIT=L;z=function(v){function u(t,k){return v.call(this,{code:t,units:l["default"].DEGREES,extent:G,axisOrientation:k,global:!0,metersPerUnit:L,worldExtent:G})||this}w(u,v);return u}(Ea["default"]);z=[new z("CRS:84"),new z("EPSG:4326","neu"),new z("urn:ogc:def:crs:OGC:1.3:CRS84"),new z("urn:ogc:def:crs:OGC:2:84"),new z("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];J.PROJECTIONS=z};
shadow$provide[127]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.clear=function(){m={}};J.get=function(l){return m[l]||m[l.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};J.add=function(l,w){m[l]=w};var m={}};
shadow$provide[128]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.clear=function(){l={}};J.add=function(w,G,L){w=w.getCode();G=G.getCode();w in l||(l[w]={});l[w][G]=L};J.remove=function(w,G){w=w.getCode();G=G.getCode();var L=l[w][G];delete l[w][G];(0,m.isEmpty)(l[w])&&delete l[w];return L};J.get=function(w,G){var L;w in l&&G in l[w]&&(L=l[w][G]);return L};var m=z(86),l={}};
shadow$provide[129]=function(Ea,z,ob,J){function m(k,f,d){d=d||t;var g=(0,u.toRadians)(k[1]),a=(0,u.toRadians)(f[1]),e=(a-g)/2;k=(0,u.toRadians)(f[0]-k[0])/2;k=Math.sin(e)*Math.sin(e)+Math.sin(k)*Math.sin(k)*Math.cos(g)*Math.cos(a);return 2*d*Math.atan2(Math.sqrt(k),Math.sqrt(1-k))}function l(k,f){for(var d=0,g=0,a=k.length;g<a-1;++g)d+=m(k[g],k[g+1],f);return d}function w(k,f){var d=f||{},g=d.radius||t;d=d.projection||"EPSG:3857";var a=k.getType();a!==v["default"].GEOMETRY_COLLECTION&&(k=k.clone().transform(d,
"EPSG:4326"));d=0;var e;switch(a){case v["default"].POINT:case v["default"].MULTI_POINT:break;case v["default"].LINE_STRING:case v["default"].LINEAR_RING:f=k.getCoordinates();d=l(f,g);break;case v["default"].MULTI_LINE_STRING:case v["default"].POLYGON:f=k.getCoordinates();k=0;for(a=f.length;k<a;++k)d+=l(f[k],g);break;case v["default"].MULTI_POLYGON:f=k.getCoordinates();k=0;for(a=f.length;k<a;++k){var n=f[k];var y=0;for(e=n.length;y<e;++y)d+=l(n[y],g)}break;case v["default"].GEOMETRY_COLLECTION:g=
k.getGeometries();k=0;for(a=g.length;k<a;++k)d+=w(g[k],f);break;default:throw Error("Unsupported geometry type: "+a);}return d}function G(k,f){for(var d=0,g=k.length,a=k[g-1][0],e=k[g-1][1],n=0;n<g;n++){var y=k[n][0],A=k[n][1];d+=(0,u.toRadians)(y-a)*(2+Math.sin((0,u.toRadians)(e))+Math.sin((0,u.toRadians)(A)));a=y;e=A}return d*f*f/2}function L(k,f){var d=f||{},g=d.radius||t;d=d.projection||"EPSG:3857";var a=k.getType();a!==v["default"].GEOMETRY_COLLECTION&&(k=k.clone().transform(d,"EPSG:4326"));
d=0;var e;switch(a){case v["default"].POINT:case v["default"].MULTI_POINT:case v["default"].LINE_STRING:case v["default"].MULTI_LINE_STRING:case v["default"].LINEAR_RING:break;case v["default"].POLYGON:f=k.getCoordinates();d=Math.abs(G(f[0],g));k=1;for(a=f.length;k<a;++k)d-=Math.abs(G(f[k],g));break;case v["default"].MULTI_POLYGON:f=k.getCoordinates();k=0;for(a=f.length;k<a;++k){var n=f[k];d+=Math.abs(G(n[0],g));var y=1;for(e=n.length;y<e;++y)d-=Math.abs(G(n[y],g))}break;case v["default"].GEOMETRY_COLLECTION:g=
k.getGeometries();k=0;for(a=g.length;k<a;++k)d+=L(g[k],f);break;default:throw Error("Unsupported geometry type: "+a);}return d}Object.defineProperty(J,"__esModule",{value:!0});J.getDistance=m;J.getLength=w;J.getArea=L;J.offset=function(k,f,d,g){var a=g||t;g=(0,u.toRadians)(k[1]);k=(0,u.toRadians)(k[0]);a=f/a;f=Math.asin(Math.sin(g)*Math.cos(a)+Math.cos(g)*Math.sin(a)*Math.cos(d));d=k+Math.atan2(Math.sin(d)*Math.sin(a)*Math.cos(g),Math.cos(a)-Math.sin(g)*Math.sin(f));return[(0,u.toDegrees)(d),(0,u.toDegrees)(f)]};
J.DEFAULT_RADIUS=void 0;var v=function(k){return k&&k.__esModule?k:{"default":k}}(z(119)),u=z(81),t=6371008.8;J.DEFAULT_RADIUS=t};
shadow$provide[130]=function(Ea,z,ob,J){function m(fa){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ja){return typeof ja}:function(ja){return ja&&"function"===typeof Symbol&&ja.constructor===Symbol&&ja!==Symbol.prototype?"symbol":typeof ja};return m(fa)}function l(){if("function"!==typeof WeakMap)return null;var fa=new WeakMap;l=function(){return fa};return fa}function w(fa,ja,la){if(void 0!==ja){la=0;for(var da=fa.length;la<da;++la)ja[la]=fa[la];fa=ja}else fa=fa.slice();
return fa}function G(fa,ja,la){if(void 0!==ja&&fa!==ja){la=0;for(var da=fa.length;la<da;++la)ja[la]=fa[la];fa=ja}return fa}function L(fa){(0,E.add)(fa.getCode(),fa);(0,x.add)(fa,fa,w)}function v(fa){fa.forEach(L)}function u(fa){return"string"===typeof fa?(0,E.get)(fa):fa||null}function t(fa){v(fa);fa.forEach(function(ja){fa.forEach(function(la){ja!==la&&(0,x.add)(ja,la,w)})})}function k(fa,ja,la,da){fa.forEach(function(O){ja.forEach(function(B){(0,x.add)(O,B,la);(0,x.add)(B,O,da)})})}function f(fa){return function(ja,
la,da){var O=ja.length;da=void 0!==da?da:2;la=void 0!==la?la:Array(O);for(var B=0;B<O;B+=da){var Y=fa([ja[B],ja[B+1]]);la[B]=Y[0];la[B+1]=Y[1];for(Y=da-1;2<=Y;--Y)la[B+Y]=ja[B+Y]}return la}}function d(fa,ja){fa=fa.getCode();ja=ja.getCode();(ja=(0,x.get)(fa,ja))||(ja=G);return ja}function g(fa,ja){fa=u(fa);ja=u(ja);return d(fa,ja)}function a(fa,ja,la){return g(ja,la)(fa,void 0,fa.length)}function e(fa,ja,la,da){ja=g(ja,la);return(0,D.applyTransform)(fa,ja,void 0,da)}function n(fa){ia=u(fa)}function y(){t(N.PROJECTIONS);
t(K.PROJECTIONS);k(K.PROJECTIONS,N.PROJECTIONS,N.fromEPSG4326,N.toEPSG4326)}Object.defineProperty(J,"__esModule",{value:!0});J.cloneTransform=w;J.identityTransform=G;J.addProjection=L;J.addProjections=v;J.get=u;J.getPointResolution=function(fa,ja,la,da){fa=u(fa);var O=fa.getPointResolutionFunc();if(O)ja=O(ja,la),da&&da!==fa.getUnits()&&(fa=fa.getMetersPerUnit())&&(ja=ja*fa/C.METERS_PER_UNIT[da]);else{var B=fa.getUnits();B==C["default"].DEGREES&&!da||da==C["default"].DEGREES||(O=d(fa,u("EPSG:4326")),
O===G&&B!==C["default"].DEGREES?ja*=fa.getMetersPerUnit():(ja=[la[0]-ja/2,la[1],la[0]+ja/2,la[1],la[0],la[1]-ja/2,la[0],la[1]+ja/2],ja=O(ja,ja,2),la=(0,S.getDistance)(ja.slice(0,2),ja.slice(2,4)),ja=(0,S.getDistance)(ja.slice(4,6),ja.slice(6,8)),ja=(la+ja)/2),fa=da?C.METERS_PER_UNIT[da]:fa.getMetersPerUnit(),void 0!==fa&&(ja/=fa))}return ja};J.addEquivalentProjections=t;J.addEquivalentTransforms=k;J.clearAllProjections=function(){(0,E.clear)();(0,x.clear)()};J.createProjection=function(fa,ja){return fa?
"string"===typeof fa?u(fa):fa:u(ja)};J.createTransformFromCoordinateTransform=f;J.addCoordinateTransforms=function(fa,ja,la,da){fa=u(fa);ja=u(ja);(0,x.add)(fa,ja,f(la));(0,x.add)(ja,fa,f(da))};J.fromLonLat=function(fa,ja){return a(fa,"EPSG:4326",void 0!==ja?ja:"EPSG:3857")};J.toLonLat=function(fa,ja){fa=a(fa,void 0!==ja?ja:"EPSG:3857","EPSG:4326");ja=fa[0];if(-180>ja||180<ja)fa[0]=(0,H.modulo)(ja+180,360)-180;return fa};J.equivalent=function(fa,ja){if(fa===ja)return!0;var la=fa.getUnits()===ja.getUnits();
return fa.getCode()===ja.getCode()?la:d(fa,ja)===w&&la};J.getTransformFromProjections=d;J.getTransform=g;J.transform=a;J.transformExtent=e;J.transformWithProjections=function(fa,ja,la){return d(ja,la)(fa)};J.setUserProjection=n;J.clearUserProjection=function(){ia=null};J.getUserProjection=function(){return ia};J.useGeographic=function(){n("EPSG:4326")};J.toUserCoordinate=function(fa,ja){return ia?a(fa,ja,ia):fa};J.fromUserCoordinate=function(fa,ja){return ia?a(fa,ia,ja):fa};J.toUserExtent=function(fa,
ja){return ia?e(fa,ja,ia):fa};J.fromUserExtent=function(fa,ja){return ia?e(fa,ia,ja):fa};J.createSafeCoordinateTransform=function(fa,ja,la){return function(da){var O=da[0],B=da[1],Y;if(fa.canWrapX()){var ka=fa.getExtent(),Z=(0,D.getWidth)(ka);(Y=(0,U.getWorldsAway)(da,fa,Z))&&(O-=Y*Z);O=(0,H.clamp)(O,ka[0],ka[2]);B=(0,H.clamp)(B,ka[1],ka[3]);da=la([O,B])}else da=la(da);Y&&ja.canWrapX()&&(da[0]+=Y*(0,D.getWidth)(ja.getExtent()));return da}};J.addCommon=y;Object.defineProperty(J,"Projection",{enumerable:!0,
get:function(){return A["default"]}});Object.defineProperty(J,"METERS_PER_UNIT",{enumerable:!0,get:function(){return C.METERS_PER_UNIT}});var A=function(fa){return fa&&fa.__esModule?fa:{"default":fa}}(z(124)),C=function(fa){if(fa&&fa.__esModule)return fa;if(null===fa||"object"!==m(fa)&&"function"!==typeof fa)return{"default":fa};var ja=l();if(ja&&ja.has(fa))return ja.get(fa);var la={},da=Object.defineProperty&&Object.getOwnPropertyDescriptor,O;for(O in fa)if(Object.prototype.hasOwnProperty.call(fa,
O)){var B=da?Object.getOwnPropertyDescriptor(fa,O):null;B&&(B.get||B.set)?Object.defineProperty(la,O,B):la[O]=fa[O]}la["default"]=fa;ja&&ja.set(fa,la);return la}(z(120)),N=z(125),K=z(126),E=z(127),x=z(128),D=z(80),H=z(81),S=z(129),U=z(98),ia=null;y()};
shadow$provide[131]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.createExtent=function(l,w,G){return function(L,v,u,t,k){if(L){var f=w?0:u[0]*v,d=w?0:u[1]*v;u=k?k[0]:0;var g=k?k[1]:0;k=l[0]+f/2+u;f=l[2]-f/2+u;u=l[1]+d/2+g;d=l[3]-d/2+g;k>f&&(f=k=(f+k)/2);u>d&&(d=u=(d+u)/2);g=(0,m.clamp)(L[0],k,f);var a=(0,m.clamp)(L[1],u,d);v*=30;t&&G&&(g+=-v*Math.log(1+Math.max(0,k-L[0])/v)+v*Math.log(1+Math.max(0,L[0]-f)/v),a+=-v*Math.log(1+Math.max(0,u-L[1])/v)+v*Math.log(1+Math.max(0,
L[1]-d)/v));return[g,a]}}};J.none=function(l){return l};var m=z(81)};
shadow$provide[132]=function(Ea,z,ob,J){function m(v,u,t,k){var f=(0,G.getWidth)(u)/t[0];u=(0,G.getHeight)(u)/t[1];return k?Math.min(v,Math.max(f,u)):Math.min(v,Math.min(f,u))}function l(v,u,t){var k=Math.min(v,u);k*=Math.log(1+50*Math.max(0,v/u-1))/50+1;t&&(k=Math.max(k,t),k/=Math.log(1+50*Math.max(0,t/v-1))/50+1);return(0,w.clamp)(k,t/2,2*u)}Object.defineProperty(J,"__esModule",{value:!0});J.createSnapToResolutions=function(v,u,t,k){return function(f,d,g,a){if(void 0!==f){var e=v[0],n=v[v.length-
1];g=t?m(e,t,g,k):e;if(a)return void 0===u||u?l(f,g,n):(0,w.clamp)(f,n,g);f=Math.min(g,f);d=Math.floor((0,L.linearFindNearest)(v,f,d));return v[d]>g&&d<v.length-1?v[d+1]:v[d]}}};J.createSnapToPower=function(v,u,t,k,f,d){return function(g,a,e,n){if(void 0!==g){e=f?m(u,f,e,d):u;var y=void 0!==t?t:0;if(n)return void 0===k||k?l(g,e,y):(0,w.clamp)(g,y,e);g=u/Math.pow(v,Math.max(Math.ceil(Math.log(u/e)/Math.log(v)-1E-9),Math.floor(Math.log(u/Math.min(e,g))/Math.log(v)+(-a*(.5-1E-9)+.5))));return(0,w.clamp)(g,
y,e)}}};J.createMinMaxResolution=function(v,u,t,k,f){return function(d,g,a,e){if(void 0!==d)return g=k?m(v,k,a,f):v,void 0!==t&&!t||!e?(0,w.clamp)(d,u,g):l(d,g,u)}};var w=z(81),G=z(80),L=z(72)};
shadow$provide[133]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.disable=function(l){if(void 0!==l)return 0};J.none=function(l){if(void 0!==l)return l};J.createSnapToN=function(l){var w=2*Math.PI/l;return function(G,L){if(L)return G;if(void 0!==G)return G=Math.floor(G/w+.5)*w}};J.createSnapToZero=function(l){var w=l||(0,m.toRadians)(5);return function(G,L){if(L)return G;if(void 0!==G)return Math.abs(G)<=w?0:G}};var m=z(81)};
shadow$provide[134]=function(Ea,z,ob,J){function m(w){return Math.pow(w,3)}function l(w){return 3*w*w-2*w*w*w}Object.defineProperty(J,"__esModule",{value:!0});J.easeIn=m;J.easeOut=function(w){return 1-m(1-w)};J.inAndOut=l;J.linear=function(w){return w};J.upAndDown=function(w){return.5>w?l(2*w):1-l(2*(w-.5))}};
shadow$provide[135]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[136]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.transform2D=function(m,l,w,G,L,v){for(var u=v?v:[],t=0;l<w;l+=G){var k=m[l],f=m[l+1];u[t++]=L[0]*k+L[2]*f+L[4];u[t++]=L[1]*k+L[3]*f+L[5]}v&&u.length!=t&&(u.length=t);return u};J.rotate=function(m,l,w,G,L,v,u){var t=u?u:[],k=Math.cos(L);L=Math.sin(L);var f=v[0];v=v[1];for(var d=0;l<w;l+=G){var g=m[l]-f,a=m[l+1]-v;t[d++]=f+g*k-a*L;t[d++]=v+g*L+a*k;for(g=l+2;g<l+G;++g)t[d++]=m[g]}u&&t.length!=d&&(t.length=d);return t};
J.scale=function(m,l,w,G,L,v,u,t){var k=t?t:[],f=u[0];u=u[1];for(var d=0;l<w;l+=G){var g=m[l]-f,a=m[l+1]-u;k[d++]=f+L*g;k[d++]=u+v*a;for(g=l+2;g<l+G;++g)k[d++]=m[g]}t&&k.length!=d&&(k.length=d);return k};J.translate=function(m,l,w,G,L,v,u){for(var t=u?u:[],k=0;l<w;l+=G){t[k++]=m[l]+L;t[k++]=m[l+1]+v;for(var f=l+2;f<l+G;++f)t[k++]=m[f]}u&&t.length!=k&&(t.length=k);return t}};
shadow$provide[137]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(91));var l=m(z(120)),w=z(74),G=z(77),L=z(80),v=z(130),u=z(73),t=z(136),k=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),f=(0,G.create)();z=function(d){function g(){var a=d.call(this)||this;a.extent_=(0,L.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,u.memoizeOne)(function(e,n,y){if(!y)return this.getSimplifiedGeometry(n);e=this.clone();e.applyTransform(y);return e.getSimplifiedGeometry(n)});return a}k(g,d);g.prototype.simplifyTransformed=
function(a,e){return this.simplifyTransformedInternal(this.getRevision(),a,e)};g.prototype.clone=function(){return(0,w["abstract"])()};g.prototype.closestPointXY=function(a,e,n,y){return(0,w["abstract"])()};g.prototype.containsXY=function(a,e){var n=this.getClosestPoint([a,e]);return n[0]===a&&n[1]===e};g.prototype.getClosestPoint=function(a,e){e=e?e:[NaN,NaN];this.closestPointXY(a[0],a[1],e,Infinity);return e};g.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};g.prototype.computeExtent=
function(a){return(0,w["abstract"])()};g.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,L.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,L.returnOrUpdate)(this.extent_,a)};g.prototype.rotate=function(a,e){(0,w["abstract"])()};g.prototype.scale=function(a,e,n){(0,w["abstract"])()};g.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};g.prototype.getSimplifiedGeometry=
function(a){return(0,w["abstract"])()};g.prototype.getType=function(){return(0,w["abstract"])()};g.prototype.applyTransform=function(a){(0,w["abstract"])()};g.prototype.intersectsExtent=function(a){return(0,w["abstract"])()};g.prototype.translate=function(a,e){(0,w["abstract"])()};g.prototype.transform=function(a,e){var n=(0,v.get)(a);a=n.getUnits()==l["default"].TILE_PIXELS?function(y,A,C){var N=n.getExtent(),K=n.getWorldExtent();N=(0,L.getHeight)(K)/(0,L.getHeight)(N);(0,G.compose)(f,K[0],K[3],
N,-N,0,0,0);(0,t.transform2D)(y,0,y.length,C,f,A);return(0,v.getTransform)(n,e)(y,A,C)}:(0,v.getTransform)(n,e);this.applyTransform(a);return this};return g}(Ea["default"]);J["default"]=z};
shadow$provide[138]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}function l(t){var k;t==w["default"].XY?k=2:t==w["default"].XYZ||t==w["default"].XYM?k=3:t==w["default"].XYZM&&(k=4);return k}Object.defineProperty(J,"__esModule",{value:!0});J.getStrideForLayout=l;J.transformGeom2D=function(t,k,f){var d=t.getFlatCoordinates();return d?(t=t.getStride(),(0,v.transform2D)(d,0,d.length,t,k,f)):null};J["default"]=void 0;Ea=m(z(137));var w=m(z(135)),G=z(74),L=z(80),v=z(136),u=function(){var t=
function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=k}t(k,f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(){var f=t.call(this)||this;f.layout=w["default"].XY;f.stride=2;f.flatCoordinates=null;return f}u(k,t);k.prototype.computeExtent=function(f){return(0,
L.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,f)};k.prototype.getCoordinates=function(){return(0,G["abstract"])()};k.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};k.prototype.getFlatCoordinates=function(){return this.flatCoordinates};k.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};k.prototype.getLayout=function(){return this.layout};
k.prototype.getSimplifiedGeometry=function(f){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>f||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&f<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var d=this.getSimplifiedGeometryInternal(f);if(d.getFlatCoordinates().length<this.flatCoordinates.length)return d;this.simplifiedGeometryMaxMinSquaredTolerance=f;return this};k.prototype.getSimplifiedGeometryInternal=
function(f){return this};k.prototype.getStride=function(){return this.stride};k.prototype.setFlatCoordinates=function(f,d){this.stride=l(f);this.layout=f;this.flatCoordinates=d};k.prototype.setCoordinates=function(f,d){(0,G["abstract"])()};k.prototype.setLayout=function(f,d,g){if(f)d=l(f);else{for(f=0;f<g;++f){if(0===d.length){this.layout=w["default"].XY;this.stride=2;return}d=d[0]}d=d.length;if(2==d)var a=w["default"].XY;else 3==d?a=w["default"].XYZ:4==d&&(a=w["default"].XYZM);f=a}this.layout=f;
this.stride=d};k.prototype.applyTransform=function(f){this.flatCoordinates&&(f(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};k.prototype.rotate=function(f,d){var g=this.getFlatCoordinates();if(g){var a=this.getStride();(0,v.rotate)(g,0,g.length,a,f,d,g);this.changed()}};k.prototype.scale=function(f,d,g){void 0===d&&(d=f);g||(g=(0,L.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var e=this.getStride();(0,v.scale)(a,0,a.length,e,f,d,g,a);this.changed()}};
k.prototype.translate=function(f,d){var g=this.getFlatCoordinates();if(g){var a=this.getStride();(0,v.translate)(g,0,g.length,a,f,d,g);this.changed()}};return k}(Ea["default"]);J["default"]=z};
shadow$provide[139]=function(Ea,z,ob,J){function m(u,t,k,f,d,g,a){var e=u[t],n=u[t+1],y=u[k]-e,A=u[k+1]-n;if(0!==y||0!==A)if(g=((d-e)*y+(g-n)*A)/(y*y+A*A),1<g)t=k;else if(0<g){for(d=0;d<f;++d)a[d]=(0,v.lerp)(u[t+d],u[k+d],g);a.length=f;return}for(d=0;d<f;++d)a[d]=u[t+d];a.length=f}function l(u,t,k,f,d){var g=u[t],a=u[t+1];for(t+=f;t<k;t+=f){var e=u[t],n=u[t+1];g=(0,v.squaredDistance)(g,a,e,n);g>d&&(d=g);g=e;a=n}return d}function w(u,t,k,f,d){for(var g=0,a=k.length;g<a;++g){var e=k[g];d=l(u,t,e,f,
d);t=e}return d}function G(u,t,k,f,d,g,a,e,n,y,A){if(t==k)return y;if(0===d){var C=(0,v.squaredDistance)(a,e,u[t],u[t+1]);if(C<y){for(A=0;A<f;++A)n[A]=u[t+A];n.length=f;return C}return y}for(var N=A?A:[NaN,NaN],K=t+f;K<k;)if(m(u,K-f,K,f,a,e,N),C=(0,v.squaredDistance)(a,e,N[0],N[1]),C<y){y=C;for(A=0;A<f;++A)n[A]=N[A];n.length=f;K+=f}else K+=f*Math.max((Math.sqrt(C)-Math.sqrt(y))/d|0,1);if(g&&(m(u,k-f,t,f,a,e,N),C=(0,v.squaredDistance)(a,e,N[0],N[1]),C<y)){y=C;for(A=0;A<f;++A)n[A]=N[A];n.length=f}return y}
function L(u,t,k,f,d,g,a,e,n,y,A){A=A?A:[NaN,NaN];for(var C=0,N=k.length;C<N;++C){var K=k[C];y=G(u,t,K,f,d,g,a,e,n,y,A);t=K}return y}Object.defineProperty(J,"__esModule",{value:!0});J.maxSquaredDelta=l;J.arrayMaxSquaredDelta=w;J.multiArrayMaxSquaredDelta=function(u,t,k,f,d){for(var g=0,a=k.length;g<a;++g){var e=k[g];d=w(u,t,e,f,d);t=e[e.length-1]}return d};J.assignClosestPoint=G;J.assignClosestArrayPoint=L;J.assignClosestMultiArrayPoint=function(u,t,k,f,d,g,a,e,n,y,A){A=A?A:[NaN,NaN];for(var C=0,
N=k.length;C<N;++C){var K=k[C];y=L(u,t,K,f,d,g,a,e,n,y,A);t=K[K.length-1]}return y};var v=z(81)};
shadow$provide[140]=function(Ea,z,ob,J){function m(w,G,L,v){for(var u=0,t=L.length;u<t;++u)for(var k=L[u],f=0;f<v;++f)w[G++]=k[f];return G}function l(w,G,L,v,u){u=u?u:[];for(var t=0,k=0,f=L.length;k<f;++k)G=m(w,G,L[k],v),u[t++]=G;u.length=t;return u}Object.defineProperty(J,"__esModule",{value:!0});J.deflateCoordinate=function(w,G,L,v){v=0;for(var u=L.length;v<u;++v)w[G++]=L[v];return G};J.deflateCoordinates=m;J.deflateCoordinatesArray=l;J.deflateMultiCoordinatesArray=function(w,G,L,v,u){u=u?u:[];
for(var t=0,k=0,f=L.length;k<f;++k)G=l(w,G,L[k],v,u[t]),u[t++]=G,G=G[G.length-1];u.length=t;return u}};
shadow$provide[141]=function(Ea,z,ob,J){function m(t,k,f,d,g,a,e){var n=(f-k)/d;if(3>n){for(;k<f;k+=d)a[e++]=t[k],a[e++]=t[k+1];return e}var y=Array(n);y[0]=1;y[n-1]=1;f=[k,f-d];for(var A=0;0<f.length;){for(var C=f.pop(),N=f.pop(),K=0,E=t[N],x=t[N+1],D=t[C],H=t[C+1],S=N+d;S<C;S+=d){var U=t[S],ia=t[S+1];U=(0,u.squaredSegmentDistance)(U,ia,E,x,D,H);U>K&&(A=S,K=U)}K>g&&(y[(A-k)/d]=1,N+d<A&&f.push(N,A),A+d<C&&f.push(A,C))}for(S=0;S<n;++S)y[S]&&(a[e++]=t[k+S*d],a[e++]=t[k+S*d+1]);return e}function l(t,
k,f,d,g,a,e,n){for(var y=0,A=f.length;y<A;++y){var C=f[y];e=m(t,k,C,d,g,a,e);n.push(e);k=C}return e}function w(t,k,f,d,g,a,e){if(f<=k+d){for(;k<f;k+=d)a[e++]=t[k],a[e++]=t[k+1];return e}var n=t[k],y=t[k+1];a[e++]=n;a[e++]=y;var A=n,C=y;for(k+=d;k<f;k+=d)A=t[k],C=t[k+1],(0,u.squaredDistance)(n,y,A,C)>g&&(a[e++]=A,a[e++]=C,n=A,y=C);if(A!=n||C!=y)a[e++]=A,a[e++]=C;return e}function G(t,k){return k*Math.round(t/k)}function L(t,k,f,d,g,a,e){if(k==f)return e;var n=G(t[k],g),y=G(t[k+1],g);k+=d;a[e++]=n;
a[e++]=y;do{var A=G(t[k],g);var C=G(t[k+1],g);k+=d;if(k==f)return a[e++]=A,a[e++]=C,e}while(A==n&&C==y);for(;k<f;){var N=G(t[k],g),K=G(t[k+1],g);k+=d;if(N!=A||K!=C){var E=A-n,x=C-y,D=N-n,H=K-y;E*H==x*D&&(0>E&&D<E||E==D||0<E&&D>E)&&(0>x&&H<x||x==H||0<x&&H>x)||(a[e++]=A,a[e++]=C,n=A,y=C);A=N;C=K}}a[e++]=A;a[e++]=C;return e}function v(t,k,f,d,g,a,e,n){for(var y=0,A=f.length;y<A;++y){var C=f[y];e=L(t,k,C,d,g,a,e);n.push(e);k=C}return e}Object.defineProperty(J,"__esModule",{value:!0});J.simplifyLineString=
function(t,k,f,d,g,a,e){e=void 0!==e?e:[];a||(f=w(t,k,f,d,g,e,0),t=e,k=0,d=2);e.length=m(t,k,f,d,g,e,0);return e};J.douglasPeucker=m;J.douglasPeuckerArray=l;J.douglasPeuckerMultiArray=function(t,k,f,d,g,a,e,n){for(var y=0,A=f.length;y<A;++y){var C=f[y],N=[];e=l(t,k,C,d,g,a,e,N);n.push(N);k=C[C.length-1]}return e};J.radialDistance=w;J.snap=G;J.quantize=L;J.quantizeArray=v;J.quantizeMultiArray=function(t,k,f,d,g,a,e,n){for(var y=0,A=f.length;y<A;++y){var C=f[y],N=[];e=v(t,k,C,d,g,a,e,N);n.push(N);k=
C[C.length-1]}return e};var u=z(81)};
shadow$provide[142]=function(Ea,z,ob,J){function m(w,G,L,v,u){u=void 0!==u?u:[];for(var t=0;G<L;G+=v)u[t++]=w.slice(G,G+v);u.length=t;return u}function l(w,G,L,v,u){u=void 0!==u?u:[];for(var t=0,k=0,f=L.length;k<f;++k){var d=L[k];u[t++]=m(w,G,d,v,u[t]);G=d}u.length=t;return u}Object.defineProperty(J,"__esModule",{value:!0});J.inflateCoordinates=m;J.inflateCoordinatesArray=l;J.inflateMultiCoordinatesArray=function(w,G,L,v,u){u=void 0!==u?u:[];for(var t=0,k=0,f=L.length;k<f;++k){var d=L[k];u[t++]=l(w,
G,d,v,u[t]);G=d[d.length-1]}u.length=t;return u}};
shadow$provide[143]=function(Ea,z,ob,J){function m(w,G,L,v){for(var u=0,t=w[L-v],k=w[L-v+1];G<L;G+=v){var f=w[G],d=w[G+1];u+=k*f-t*d;t=f;k=d}return u/2}function l(w,G,L,v){for(var u=0,t=0,k=L.length;t<k;++t){var f=L[t];u+=m(w,G,f,v);G=f}return u}Object.defineProperty(J,"__esModule",{value:!0});J.linearRing=m;J.linearRings=l;J.linearRingss=function(w,G,L,v){for(var u=0,t=0,k=L.length;t<k;++t){var f=L[t];u+=l(w,G,f,v);G=f[f.length-1]}return u}};
shadow$provide[144]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(135)),w=m(z(119));Ea=m(z(138));var G=z(139),L=z(80),v=z(140),u=z(141),t=z(142),k=z(143),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a,e){var n=d.call(this)||this;n.maxDelta_=-1;n.maxDeltaRevision_=-1;void 0===e||Array.isArray(a[0])?n.setCoordinates(a,e):n.setFlatCoordinates(e,a);return n}f(g,d);g.prototype.clone=function(){return new g(this.flatCoordinates.slice(),this.layout)};g.prototype.closestPointXY=function(a,e,n,y){if(y<(0,L.closestSquaredDistanceXY)(this.getExtent(),a,e))return y;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,G.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,G.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,e,n,y)};g.prototype.getArea=function(){return(0,k.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};g.prototype.getCoordinates=function(){return(0,t.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};g.prototype.getSimplifiedGeometryInternal=function(a){var e=[];e.length=(0,u.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,e,0);return new g(e,l["default"].XY)};g.prototype.getType=function(){return w["default"].LINEAR_RING};g.prototype.intersectsExtent=function(a){return!1};g.prototype.setCoordinates=function(a,e){this.setLayout(e,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,v.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return g}(Ea["default"]);J["default"]=z};
shadow$provide[145]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(119));Ea=m(z(138));var w=z(80),G=z(140),L=z(81),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=
null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k,f){var d=u.call(this)||this;d.setCoordinates(k,f);return d}v(t,u);t.prototype.clone=function(){var k=new t(this.flatCoordinates.slice(),this.layout);k.applyProperties(this);return k};t.prototype.closestPointXY=function(k,f,d,g){var a=this.flatCoordinates;k=(0,L.squaredDistance)(k,f,a[0],a[1]);if(k<g){g=this.stride;for(f=0;f<g;++f)d[f]=a[f];d.length=g;return k}return g};t.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};t.prototype.computeExtent=function(k){return(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates,k)};t.prototype.getType=function(){return l["default"].POINT};t.prototype.intersectsExtent=function(k){return(0,w.containsXY)(k,this.flatCoordinates[0],this.flatCoordinates[1])};t.prototype.setCoordinates=function(k,f){this.setLayout(f,k,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,G.deflateCoordinate)(this.flatCoordinates,0,k,this.stride);
this.changed()};return t}(Ea["default"]);J["default"]=z};
shadow$provide[146]=function(Ea,z,ob,J){function m(G,L,v,u,t,k){for(var f=0,d=G[v-u],g=G[v-u+1];L<v;L+=u){var a=G[L],e=G[L+1];g<=k?e>k&&0<(a-d)*(k-g)-(t-d)*(e-g)&&f++:e<=k&&0>(a-d)*(k-g)-(t-d)*(e-g)&&f--;d=a;g=e}return 0!==f}function l(G,L,v,u,t,k){if(0===v.length||!m(G,L,v[0],u,t,k))return!1;L=1;for(var f=v.length;L<f;++L)if(m(G,v[L-1],v[L],u,t,k))return!1;return!0}Object.defineProperty(J,"__esModule",{value:!0});J.linearRingContainsExtent=function(G,L,v,u,t){return!(0,w.forEachCorner)(t,function(k){return!m(G,
L,v,u,k[0],k[1])})};J.linearRingContainsXY=m;J.linearRingsContainsXY=l;J.linearRingssContainsXY=function(G,L,v,u,t,k){if(0===v.length)return!1;for(var f=0,d=v.length;f<d;++f){var g=v[f];if(l(G,L,g,u,t,k))return!0;L=g[g.length-1]}return!1};var w=z(80)};
shadow$provide[147]=function(Ea,z,ob,J){function m(G,L,v,u,t,k,f){for(var d,g,a,e,n,y=t[k+1],A=[],C=0,N=v.length;C<N;++C){var K=v[C];a=G[K-u];n=G[K-u+1];for(d=L;d<K;d+=u){e=G[d];g=G[d+1];if(y<=n&&g<=y||n<=y&&y<=g)a=(y-n)/(g-n)*(e-a)+a,A.push(a);a=e;n=g}}C=NaN;N=-Infinity;A.sort(w.numberSafeCompareFunction);a=A[0];d=1;for(g=A.length;d<g;++d)e=A[d],K=Math.abs(e-a),K>N&&(a=(a+e)/2,(0,l.linearRingsContainsXY)(G,L,v,u,a,y)&&(C=a,N=K)),a=e;isNaN(C)&&(C=t[k]);return f?(f.push(C,y,N),f):[C,y,N]}Object.defineProperty(J,
"__esModule",{value:!0});J.getInteriorPointOfArray=m;J.getInteriorPointsOfMultiArray=function(G,L,v,u,t){for(var k=[],f=0,d=v.length;f<d;++f){var g=v[f];k=m(G,L,g,u,t,2*f,k);L=g[g.length-1]}return k};var l=z(146),w=z(72)};
shadow$provide[148]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.forEach=function(m,l,w,G,L){for(var v=[m[l],m[l+1]],u=[],t;l+G<w;l+=G){u[0]=m[l+G];u[1]=m[l+G+1];if(t=L(v,u))return t;v[0]=u[0];v[1]=u[1]}return!1}};
shadow$provide[149]=function(Ea,z,ob,J){function m(u,t,k,f,d){var g=(0,G.extendFlatCoordinates)((0,G.createEmpty)(),u,t,k,f);return(0,G.intersects)(d,g)?(0,G.containsExtent)(d,g)||g[0]>=d[0]&&g[2]<=d[2]||g[1]>=d[1]&&g[3]<=d[3]?!0:(0,L.forEach)(u,t,k,f,function(a,e){return(0,G.intersectsSegment)(d,a,e)}):!1}function l(u,t,k,f,d){return m(u,t,k,f,d)||(0,v.linearRingContainsXY)(u,t,k,f,d[0],d[1])||(0,v.linearRingContainsXY)(u,t,k,f,d[0],d[3])||(0,v.linearRingContainsXY)(u,t,k,f,d[2],d[1])||(0,v.linearRingContainsXY)(u,
t,k,f,d[2],d[3])?!0:!1}function w(u,t,k,f,d){if(!l(u,t,k[0],f,d))return!1;if(1===k.length)return!0;t=1;for(var g=k.length;t<g;++t)if((0,v.linearRingContainsExtent)(u,k[t-1],k[t],f,d)&&!m(u,k[t-1],k[t],f,d))return!1;return!0}Object.defineProperty(J,"__esModule",{value:!0});J.intersectsLineString=m;J.intersectsLineStringArray=function(u,t,k,f,d){for(var g=0,a=k.length;g<a;++g){if(m(u,t,k[g],f,d))return!0;t=k[g]}return!1};J.intersectsLinearRing=l;J.intersectsLinearRingArray=w;J.intersectsLinearRingMultiArray=
function(u,t,k,f,d){for(var g=0,a=k.length;g<a;++g){var e=k[g];if(w(u,t,e,f,d))return!0;t=e[e.length-1]}return!1};var G=z(80),L=z(148),v=z(146)};
shadow$provide[150]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.coordinates=function(m,l,w,G){for(;l<w-G;){for(var L=0;L<G;++L){var v=m[l+L];m[l+L]=m[w-G+L];m[w-G+L]=v}l+=G;w-=G}}};
shadow$provide[151]=function(Ea,z,ob,J){function m(L,v,u,t){for(var k=0,f=L[u-t],d=L[u-t+1];v<u;v+=t){var g=L[v],a=L[v+1];k+=(g-f)*(a+d);f=g;d=a}return 0===k?void 0:0<k}function l(L,v,u,t,k){k=void 0!==k?k:!1;for(var f=0,d=u.length;f<d;++f){var g=u[f];v=m(L,v,g,t);if(0===f){if(k&&v||!k&&!v)return!1}else if(k&&!v||!k&&v)return!1;v=g}return!0}function w(L,v,u,t,k){k=void 0!==k?k:!1;for(var f=0,d=u.length;f<d;++f){var g=u[f],a=m(L,v,g,t);(0===f?k&&a||!k&&!a:k&&!a||!k&&a)&&(0,G.coordinates)(L,v,g,t);
v=g}return v}Object.defineProperty(J,"__esModule",{value:!0});J.linearRingIsClockwise=m;J.linearRingsAreOriented=l;J.linearRingssAreOriented=function(L,v,u,t,k){for(var f=0,d=u.length;f<d;++f){var g=u[f];if(!l(L,v,g,t,k))return!1;g.length&&(v=g[g.length-1])}return!0};J.orientLinearRings=w;J.orientLinearRingsArray=function(L,v,u,t,k){for(var f=0,d=u.length;f<d;++f)v=w(L,v,u[f],t,k);return v};var G=z(150)};
shadow$provide[152]=function(Ea,z,ob,J){function m(x){return x&&x.__esModule?x:{"default":x}}function l(x,D,H,S){var U=x.getFlatCoordinates(),ia=x.getStride(),fa=U.length/ia-1;S=S?S:0;for(var ja=0;ja<=fa;++ja){var la=ja*ia,da=S+2*(0,A.modulo)(ja,fa)*Math.PI/fa;U[la]=D[0]+H*Math.cos(da);U[la+1]=D[1]+H*Math.sin(da)}x.changed()}Object.defineProperty(J,"__esModule",{value:!0});J.circular=function(x,D,H,S){H=H?H:32;for(var U=[],ia=0;ia<H;++ia)(0,f.extend)(U,(0,N.offset)(x,D,2*Math.PI*ia/H,S));U.push(U[0],
U[1]);return new E(U,w["default"].XY,[U.length])};J.fromExtent=function(x){var D=x[0],H=x[1],S=x[2];x=x[3];D=[D,H,D,x,S,x,S,H,D,H];return new E(D,w["default"].XY,[D.length])};J.fromCircle=function(x,D,H){var S=D?D:32,U=x.getStride(),ia=x.getLayout();D=x.getCenter();S=U*(S+1);for(var fa=Array(S),ja=0;ja<S;ja+=U){fa[ja]=0;fa[ja+1]=0;for(var la=2;la<U;la++)fa[ja+la]=D[la]}U=new E(fa,ia,[fa.length]);l(U,D,x.getRadius(),H);return U};J.makeRegular=l;J["default"]=void 0;var w=m(z(135)),G=m(z(119)),L=m(z(144)),
v=m(z(145));Ea=m(z(138));var u=z(139),t=z(80),k=z(140),f=z(72),d=z(147),g=z(142),a=z(149),e=z(151),n=z(143),y=z(146),A=z(81),C=z(141),N=z(129),K=function(){var x=function(D,H){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,U){S.__proto__=U}||function(S,U){for(var ia in U)Object.prototype.hasOwnProperty.call(U,ia)&&(S[ia]=U[ia])};return x(D,H)};return function(D,H){function S(){this.constructor=D}x(D,H);D.prototype=null===H?Object.create(H):(S.prototype=H.prototype,new S)}}(),
E=function(x){function D(H,S,U){var ia=x.call(this)||this;ia.ends_=[];ia.flatInteriorPointRevision_=-1;ia.flatInteriorPoint_=null;ia.maxDelta_=-1;ia.maxDeltaRevision_=-1;ia.orientedRevision_=-1;ia.orientedFlatCoordinates_=null;void 0!==S&&U?(ia.setFlatCoordinates(S,H),ia.ends_=U):ia.setCoordinates(H,S);return ia}K(D,x);D.prototype.appendLinearRing=function(H){this.flatCoordinates?(0,f.extend)(this.flatCoordinates,H.getFlatCoordinates()):this.flatCoordinates=H.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);
this.changed()};D.prototype.clone=function(){var H=new D(this.flatCoordinates.slice(),this.layout,this.ends_.slice());H.applyProperties(this);return H};D.prototype.closestPointXY=function(H,S,U,ia){if(ia<(0,t.closestSquaredDistanceXY)(this.getExtent(),H,S))return ia;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,u.assignClosestArrayPoint)(this.flatCoordinates,
0,this.ends_,this.stride,this.maxDelta_,!0,H,S,U,ia)};D.prototype.containsXY=function(H,S){return(0,y.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H,S)};D.prototype.getArea=function(){return(0,n.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};D.prototype.getCoordinates=function(H){if(void 0!==H){var S=this.getOrientedFlatCoordinates().slice();(0,e.orientLinearRings)(S,0,this.ends_,this.stride,H)}else S=this.flatCoordinates;return(0,g.inflateCoordinatesArray)(S,
0,this.ends_,this.stride)};D.prototype.getEnds=function(){return this.ends_};D.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var H=(0,t.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,d.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};D.prototype.getInteriorPoint=function(){return new v["default"](this.getFlatInteriorPoint(),
w["default"].XYM)};D.prototype.getLinearRingCount=function(){return this.ends_.length};D.prototype.getLinearRing=function(H){return 0>H||this.ends_.length<=H?null:new L["default"](this.flatCoordinates.slice(0===H?0:this.ends_[H-1],this.ends_[H]),this.layout)};D.prototype.getLinearRings=function(){for(var H=this.layout,S=this.flatCoordinates,U=this.ends_,ia=[],fa=0,ja=0,la=U.length;ja<la;++ja){var da=U[ja];fa=new L["default"](S.slice(fa,da),H);ia.push(fa);fa=da}return ia};D.prototype.getOrientedFlatCoordinates=
function(){if(this.orientedRevision_!=this.getRevision()){var H=this.flatCoordinates;(0,e.linearRingsAreOriented)(H,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=H:(this.orientedFlatCoordinates_=H.slice(),this.orientedFlatCoordinates_.length=(0,e.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};D.prototype.getSimplifiedGeometryInternal=function(H){var S=[],U=[];S.length=(0,C.quantizeArray)(this.flatCoordinates,
0,this.ends_,this.stride,Math.sqrt(H),S,0,U);return new D(S,w["default"].XY,U)};D.prototype.getType=function(){return G["default"].POLYGON};D.prototype.intersectsExtent=function(H){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H)};D.prototype.setCoordinates=function(H,S){this.setLayout(S,H,2);this.flatCoordinates||(this.flatCoordinates=[]);H=(0,k.deflateCoordinatesArray)(this.flatCoordinates,0,H,this.stride,this.ends_);this.flatCoordinates.length=
0===H.length?0:H[H.length-1];this.changed()};return D}(Ea["default"]);J["default"]=E};
shadow$provide[153]=function(Ea,z,ob,J){function m(fa){return fa&&fa.__esModule?fa:{"default":fa}}function l(fa,ja){setTimeout(function(){fa(ja)},0)}function w(fa){if(void 0!==fa.extent){var ja=void 0!==fa.smoothExtentConstraint?fa.smoothExtentConstraint:!0;return(0,C.createExtent)(fa.extent,fa.constrainOnlyCenter,ja)}ja=(0,a.createProjection)(fa.projection,"EPSG:3857");return!0!==fa.multiWorld&&ja.isGlobal()?(fa=ja.getExtent().slice(),fa[0]=-Infinity,fa[2]=Infinity,(0,C.createExtent)(fa,!1,!1)):
C.none}function G(fa){var ja=void 0!==fa.minZoom?fa.minZoom:ia,la=void 0!==fa.maxZoom?fa.maxZoom:28,da=void 0!==fa.zoomFactor?fa.zoomFactor:2;var O=void 0!==fa.multiWorld?fa.multiWorld:!1;var B=void 0!==fa.smoothResolutionConstraint?fa.smoothResolutionConstraint:!0,Y=void 0!==fa.showFullExtent?fa.showFullExtent:!1;var ka=(0,a.createProjection)(fa.projection,"EPSG:3857");var Z=ka.getExtent(),wa=fa.constrainOnlyCenter,xa=fa.extent;O||xa||!ka.isGlobal()||(wa=!1,xa=Z);if(void 0!==fa.resolutions)Z=fa.resolutions,
O=Z[ja],ka=void 0!==Z[la]?Z[la]:Z[Z.length-1],fa=fa.constrainResolution?(0,K.createSnapToResolutions)(Z,B,!wa&&xa,Y):(0,K.createMinMaxResolution)(O,ka,B,!wa&&xa,Y);else{Z=(Z?Math.max((0,D.getWidth)(Z),(0,D.getHeight)(Z)):360*a.METERS_PER_UNIT[k["default"].DEGREES]/ka.getMetersPerUnit())/g.DEFAULT_TILE_SIZE/Math.pow(2,ia);var Da=Z/Math.pow(2,28-ia);O=fa.maxResolution;void 0!==O?ja=0:O=Z/Math.pow(da,ja);ka=fa.minResolution;void 0===ka&&(ka=void 0!==fa.maxZoom?void 0!==fa.maxResolution?O/Math.pow(da,
la):Z/Math.pow(da,la):Da);la=ja+Math.floor(Math.log(O/ka)/Math.log(da));ka=O/Math.pow(da,la-ja);fa=fa.constrainResolution?(0,K.createSnapToPower)(da,O,ka,B,!wa&&xa,Y):(0,K.createMinMaxResolution)(O,ka,B,!wa&&xa,Y)}return{constraint:fa,maxResolution:O,minResolution:ka,minZoom:ja,zoomFactor:da}}function L(fa){return(void 0!==fa.enableRotation?fa.enableRotation:1)?(fa=fa.constrainRotation,void 0===fa||!0===fa?(0,E.createSnapToZero)():!1===fa?E.none:"number"===typeof fa?(0,E.createSnapToN)(fa):E.none):
E.disable}function v(fa){return fa.sourceCenter&&fa.targetCenter&&!(0,n.equals)(fa.sourceCenter,fa.targetCenter)||fa.sourceResolution!==fa.targetResolution||fa.sourceRotation!==fa.targetRotation?!1:!0}function u(fa,ja,la,da,O){var B=Math.cos(-O);O=Math.sin(-O);var Y=fa[0]*B-fa[1]*O;fa=fa[1]*B+fa[0]*O;Y+=(ja[0]/2-la[0])*da;fa+=(la[1]-ja[1]/2)*da;O=-O;return[Y*B-fa*O,fa*B+Y*O]}Object.defineProperty(J,"__esModule",{value:!0});J.createCenterConstraint=w;J.createResolutionConstraint=G;J.createRotationConstraint=
L;J.isNoopAnimation=v;J["default"]=void 0;Ea=m(z(91));var t=m(z(119)),k=m(z(120)),f=m(z(121)),d=m(z(122)),g=z(123),a=z(130),e=z(73),n=z(98),y=z(76),A=z(86),C=z(131),N=z(81),K=z(132),E=z(133),x=z(134),D=z(80),H=z(72),S=z(152),U=function(){var fa=function(ja,la){fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(da,O){da.__proto__=O}||function(da,O){for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(da[B]=O[B])};return fa(ja,la)};return function(ja,la){function da(){this.constructor=
ja}fa(ja,la);ja.prototype=null===la?Object.create(la):(da.prototype=la.prototype,new da)}}(),ia=0;z=function(fa){function ja(la){var da=fa.call(this)||this;la=(0,A.assign)({},la);da.hints_=[0,0];da.animations_=[];da.projection_=(0,a.createProjection)(la.projection,"EPSG:3857");da.viewportSize_=[100,100];da.targetCenter_=null;da.cancelAnchor_=void 0;la.center&&(la.center=(0,a.fromUserCoordinate)(la.center,da.projection_));la.extent&&(la.extent=(0,a.fromUserExtent)(la.extent,da.projection_));da.applyOptions_(la);
return da}U(ja,fa);ja.prototype.applyOptions_=function(la){var da=G(la);this.maxResolution_=da.maxResolution;this.minResolution_=da.minResolution;this.zoomFactor_=da.zoomFactor;this.resolutions_=la.resolutions;this.padding=la.padding;this.minZoom_=da.minZoom;var O=w(la);da=da.constraint;var B=L(la);this.constraints_={center:O,resolution:da,rotation:B};this.setRotation(void 0!==la.rotation?la.rotation:0);this.setCenterInternal(void 0!==la.center?la.center:null);void 0!==la.resolution?this.setResolution(la.resolution):
void 0!==la.zoom&&this.setZoom(la.zoom);this.setProperties({});this.options_=la};ja.prototype.getUpdatedOptions_=function(la){var da=(0,A.assign)({},this.options_);void 0!==da.resolution?da.resolution=this.getResolution():da.zoom=this.getZoom();da.center=this.getCenterInternal();da.rotation=this.getRotation();return(0,A.assign)({},da,la)};ja.prototype.animate=function(la){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var da=Array(arguments.length),O=0;O<da.length;++O){var B=arguments[O];
B.center&&(B=(0,A.assign)({},B),B.center=(0,a.fromUserCoordinate)(B.center,this.getProjection()));B.anchor&&(B=(0,A.assign)({},B),B.anchor=(0,a.fromUserCoordinate)(B.anchor,this.getProjection()));da[O]=B}this.animateInternal.apply(this,da)};ja.prototype.animateInternal=function(la){var da=arguments.length;if(1<da&&"function"===typeof arguments[da-1]){var O=arguments[da-1];--da}if(this.isDef()){for(var B=Date.now(),Y=this.targetCenter_.slice(),ka=this.targetResolution_,Z=this.targetRotation_,wa=[],
xa=0;xa<da;++xa){var Da=arguments[xa],Wa={start:B,complete:!1,anchor:Da.anchor,duration:void 0!==Da.duration?Da.duration:1E3,easing:Da.easing||x.inAndOut,callback:O};Da.center&&(Wa.sourceCenter=Y,Wa.targetCenter=Da.center.slice(),Y=Wa.targetCenter);void 0!==Da.zoom?(Wa.sourceResolution=ka,Wa.targetResolution=this.getResolutionForZoom(Da.zoom),ka=Wa.targetResolution):Da.resolution&&(Wa.sourceResolution=ka,Wa.targetResolution=Da.resolution,ka=Wa.targetResolution);void 0!==Da.rotation&&(Wa.sourceRotation=
Z,Da=(0,N.modulo)(Da.rotation-Z+Math.PI,2*Math.PI)-Math.PI,Wa.targetRotation=Z+Da,Z=Wa.targetRotation);v(Wa)?Wa.complete=!0:B+=Wa.duration;wa.push(Wa)}this.animations_.push(wa);this.setHint(f["default"].ANIMATING,1);this.updateAnimations_()}else da=arguments[da-1],da.center&&this.setCenterInternal(da.center),void 0!==da.zoom&&this.setZoom(da.zoom),void 0!==da.rotation&&this.setRotation(da.rotation),O&&l(O,!0)};ja.prototype.getAnimating=function(){return 0<this.hints_[f["default"].ANIMATING]};ja.prototype.getInteracting=
function(){return 0<this.hints_[f["default"].INTERACTING]};ja.prototype.cancelAnimations=function(){this.setHint(f["default"].ANIMATING,-this.hints_[f["default"].ANIMATING]);for(var la,da=0,O=this.animations_.length;da<O;++da){var B=this.animations_[da];B[0].callback&&l(B[0].callback,!1);if(!la)for(var Y=0,ka=B.length;Y<ka;++Y){var Z=B[Y];if(!Z.complete){la=Z.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=la};ja.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&
(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var la=Date.now(),da=!1,O=this.animations_.length-1;0<=O;--O){for(var B=this.animations_[O],Y=!0,ka=0,Z=B.length;ka<Z;++ka){var wa=B[ka];if(!wa.complete){da=la-wa.start;da=0<wa.duration?da/wa.duration:1;1<=da?(wa.complete=!0,da=1):Y=!1;da=wa.easing(da);if(wa.sourceCenter){var xa=wa.sourceCenter[0],Da=wa.sourceCenter[1];this.targetCenter_=[xa+da*(wa.targetCenter[0]-xa),Da+da*(wa.targetCenter[1]-
Da)]}wa.sourceResolution&&wa.targetResolution&&(xa=1===da?wa.targetResolution:wa.sourceResolution+da*(wa.targetResolution-wa.sourceResolution),wa.anchor&&(Da=this.getViewportSize_(this.getRotation()),Da=this.constraints_.resolution(xa,0,Da,!0),this.targetCenter_=this.calculateCenterZoom(Da,wa.anchor)),this.targetResolution_=xa,this.applyTargetState_(!0));void 0!==wa.sourceRotation&&void 0!==wa.targetRotation&&(da=1===da?(0,N.modulo)(wa.targetRotation+Math.PI,2*Math.PI)-Math.PI:wa.sourceRotation+da*
(wa.targetRotation-wa.sourceRotation),wa.anchor&&(xa=this.constraints_.rotation(da,!0),this.targetCenter_=this.calculateCenterRotate(xa,wa.anchor)),this.targetRotation_=da);this.applyTargetState_(!0);da=!0;if(!wa.complete)break}}Y&&(this.animations_[O]=null,this.setHint(f["default"].ANIMATING,-1),(B=B[0].callback)&&l(B,!0))}this.animations_=this.animations_.filter(Boolean);da&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};
ja.prototype.calculateCenterRotate=function(la,da){var O=this.getCenterInternal();if(void 0!==O){var B=[O[0]-da[0],O[1]-da[1]];(0,n.rotate)(B,la-this.getRotation());(0,n.add)(B,da)}return B};ja.prototype.calculateCenterZoom=function(la,da){var O,B=this.getCenterInternal(),Y=this.getResolution();void 0!==B&&void 0!==Y&&(O=[da[0]-la*(da[0]-B[0])/Y,da[1]-la*(da[1]-B[1])/Y]);return O};ja.prototype.getViewportSize_=function(la){var da=this.viewportSize_;if(la){var O=da[0];da=da[1];return[Math.abs(O*Math.cos(la))+
Math.abs(da*Math.sin(la)),Math.abs(O*Math.sin(la))+Math.abs(da*Math.cos(la))]}return da};ja.prototype.setViewportSize=function(la){this.viewportSize_=Array.isArray(la)?la.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};ja.prototype.getCenter=function(){var la=this.getCenterInternal();return la?(0,a.toUserCoordinate)(la,this.getProjection()):la};ja.prototype.getCenterInternal=function(){return this.get(d["default"].CENTER)};ja.prototype.getConstraints=function(){return this.constraints_};
ja.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};ja.prototype.getHints=function(la){return void 0!==la?(la[0]=this.hints_[0],la[1]=this.hints_[1],la):this.hints_.slice()};ja.prototype.calculateExtent=function(la){la=this.calculateExtentInternal(la);return(0,a.toUserExtent)(la,this.getProjection())};ja.prototype.calculateExtentInternal=function(la){la=la||this.getViewportSize_();var da=this.getCenterInternal();(0,y.assert)(da,1);var O=this.getResolution();(0,
y.assert)(void 0!==O,2);var B=this.getRotation();(0,y.assert)(void 0!==B,3);return(0,D.getForViewAndSize)(da,O,B,la)};ja.prototype.getMaxResolution=function(){return this.maxResolution_};ja.prototype.getMinResolution=function(){return this.minResolution_};ja.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};ja.prototype.setMaxZoom=function(la){this.applyOptions_(this.getUpdatedOptions_({maxZoom:la}))};ja.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};
ja.prototype.setMinZoom=function(la){this.applyOptions_(this.getUpdatedOptions_({minZoom:la}))};ja.prototype.setConstrainResolution=function(la){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:la}))};ja.prototype.getProjection=function(){return this.projection_};ja.prototype.getResolution=function(){return this.get(d["default"].RESOLUTION)};ja.prototype.getResolutions=function(){return this.resolutions_};ja.prototype.getResolutionForExtent=function(la,da){return this.getResolutionForExtentInternal((0,
a.fromUserExtent)(la,this.getProjection()),da)};ja.prototype.getResolutionForExtentInternal=function(la,da){var O=da||this.getViewportSize_();da=(0,D.getWidth)(la)/O[0];la=(0,D.getHeight)(la)/O[1];return Math.max(da,la)};ja.prototype.getResolutionForValueFunction=function(la){var da=la||2,O=this.getConstrainedResolution(this.maxResolution_),B=Math.log(O/this.minResolution_)/Math.log(da);return function(Y){return O/Math.pow(da,Y*B)}};ja.prototype.getRotation=function(){return this.get(d["default"].ROTATION)};
ja.prototype.getValueForResolutionFunction=function(la){var da=Math.log(la||2),O=this.getConstrainedResolution(this.maxResolution_),B=Math.log(O/this.minResolution_)/da;return function(Y){return Math.log(O/Y)/da/B}};ja.prototype.getViewportSizeMinusPadding_=function(la){la=this.getViewportSize_(la);var da=this.padding;da&&(la=[la[0]-da[1]-da[3],la[1]-da[0]-da[2]]);return la};ja.prototype.getState=function(){var la=this.getProjection(),da=this.getResolution(),O=this.getRotation(),B=this.getCenterInternal(),
Y=this.padding;if(Y){var ka=this.getViewportSizeMinusPadding_();B=u(B,this.getViewportSize_(),[ka[0]/2+Y[3],ka[1]/2+Y[0]],da,O)}return{center:B.slice(0),projection:void 0!==la?la:null,resolution:da,rotation:O,zoom:this.getZoom()}};ja.prototype.getZoom=function(){var la,da=this.getResolution();void 0!==da&&(la=this.getZoomForResolution(da));return la};ja.prototype.getZoomForResolution=function(la){var da=this.minZoom_||0,O;if(this.resolutions_){da=O=(0,H.linearFindNearest)(this.resolutions_,la,1);
var B=this.resolutions_[O];O=O==this.resolutions_.length-1?2:B/this.resolutions_[O+1]}else B=this.maxResolution_,O=this.zoomFactor_;return da+Math.log(B/la)/Math.log(O)};ja.prototype.getResolutionForZoom=function(la){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var da=(0,N.clamp)(Math.floor(la),0,this.resolutions_.length-2);return this.resolutions_[da]/Math.pow(this.resolutions_[da]/this.resolutions_[da+1],(0,N.clamp)(la-da,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,
la-this.minZoom_)};ja.prototype.fit=function(la,da){(0,y.assert)(Array.isArray(la)||"function"===typeof la.getSimplifiedGeometry,24);if(Array.isArray(la)){(0,y.assert)(!(0,D.isEmpty)(la),25);var O=(0,a.fromUserExtent)(la,this.getProjection());la=(0,S.fromExtent)(O)}else la.getType()===t["default"].CIRCLE?(O=(0,a.fromUserExtent)(la.getExtent(),this.getProjection()),la=(0,S.fromExtent)(O),la.rotate(this.getRotation(),(0,D.getCenter)(O))):la=(O=(0,a.getUserProjection)())?la.clone().transform(O,this.getProjection()):
la;this.fitInternal(la,da)};ja.prototype.fitInternal=function(la,da){da=da||{};var O=da.size;O||(O=this.getViewportSizeMinusPadding_());var B=void 0!==da.padding?da.padding:[0,0,0,0],Y=void 0!==da.nearest?da.nearest:!1;var ka=void 0!==da.minResolution?da.minResolution:void 0!==da.maxZoom?this.getResolutionForZoom(da.maxZoom):0;var Z=la.getFlatCoordinates(),wa=this.getRotation(),xa=Math.cos(-wa);wa=Math.sin(-wa);var Da=Infinity,Wa=Infinity,gb=-Infinity,ra=-Infinity;la=la.getStride();for(var Na=0,Ta=
Z.length;Na<Ta;Na+=la){var za=Z[Na]*xa-Z[Na+1]*wa,pa=Z[Na]*wa+Z[Na+1]*xa;Da=Math.min(Da,za);Wa=Math.min(Wa,pa);gb=Math.max(gb,za);ra=Math.max(ra,pa)}O=this.getResolutionForExtentInternal([Da,Wa,gb,ra],[O[0]-B[1]-B[3],O[1]-B[0]-B[2]]);O=isNaN(O)?ka:Math.max(O,ka);O=this.getConstrainedResolution(O,Y?0:1);wa=-wa;Y=(Da+gb)/2+(B[1]-B[3])/2*O;B=(Wa+ra)/2+(B[0]-B[2])/2*O;xa=this.getConstrainedCenter([Y*xa-B*wa,B*xa+Y*wa],O);B=da.callback?da.callback:e.VOID;void 0!==da.duration?this.animateInternal({resolution:O,
center:xa,duration:da.duration,easing:da.easing},B):(this.targetResolution_=O,this.targetCenter_=xa,this.applyTargetState_(!1,!0),l(B,!0))};ja.prototype.centerOn=function(la,da,O){this.centerOnInternal((0,a.fromUserCoordinate)(la,this.getProjection()),da,O)};ja.prototype.centerOnInternal=function(la,da,O){this.setCenterInternal(u(la,da,O,this.getResolution(),this.getRotation()))};ja.prototype.calculateCenterShift=function(la,da,O,B){var Y=this.padding;if(Y&&la){var ka=this.getViewportSizeMinusPadding_(-O);
da=u(la,B,[ka[0]/2+Y[3],ka[1]/2+Y[0]],da,O);ka=[la[0]-da[0],la[1]-da[1]]}return ka};ja.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};ja.prototype.adjustCenter=function(la){var da=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([da[0]+la[0],da[1]+la[1]])};ja.prototype.adjustCenterInternal=function(la){var da=this.targetCenter_;this.setCenterInternal([da[0]+la[0],da[1]+la[1]])};ja.prototype.adjustResolution=function(la,da){da=
da&&(0,a.fromUserCoordinate)(da,this.getProjection());this.adjustResolutionInternal(la,da)};ja.prototype.adjustResolutionInternal=function(la,da){var O=this.getAnimating()||this.getInteracting(),B=this.getViewportSize_(this.getRotation());O=this.constraints_.resolution(this.targetResolution_*la,0,B,O);da&&(this.targetCenter_=this.calculateCenterZoom(O,da));this.targetResolution_*=la;this.applyTargetState_()};ja.prototype.adjustZoom=function(la,da){this.adjustResolution(Math.pow(this.zoomFactor_,-la),
da)};ja.prototype.adjustRotation=function(la,da){da&&(da=(0,a.fromUserCoordinate)(da,this.getProjection()));this.adjustRotationInternal(la,da)};ja.prototype.adjustRotationInternal=function(la,da){var O=this.getAnimating()||this.getInteracting();O=this.constraints_.rotation(this.targetRotation_+la,O);da&&(this.targetCenter_=this.calculateCenterRotate(O,da));this.targetRotation_+=la;this.applyTargetState_()};ja.prototype.setCenter=function(la){this.setCenterInternal((0,a.fromUserCoordinate)(la,this.getProjection()))};
ja.prototype.setCenterInternal=function(la){this.targetCenter_=la;this.applyTargetState_()};ja.prototype.setHint=function(la,da){this.hints_[la]+=da;this.changed();return this.hints_[la]};ja.prototype.setResolution=function(la){this.targetResolution_=la;this.applyTargetState_()};ja.prototype.setRotation=function(la){this.targetRotation_=la;this.applyTargetState_()};ja.prototype.setZoom=function(la){this.setResolution(this.getResolutionForZoom(la))};ja.prototype.applyTargetState_=function(la,da){var O=
this.getAnimating()||this.getInteracting()||da;da=this.constraints_.rotation(this.targetRotation_,O);var B=this.getViewportSize_(da),Y=this.constraints_.resolution(this.targetResolution_,0,B,O);O=this.constraints_.center(this.targetCenter_,Y,B,O,this.calculateCenterShift(this.targetCenter_,Y,da,B));this.get(d["default"].ROTATION)!==da&&this.set(d["default"].ROTATION,da);this.get(d["default"].RESOLUTION)!==Y&&this.set(d["default"].RESOLUTION,Y);this.get(d["default"].CENTER)&&(0,n.equals)(this.get(d["default"].CENTER),
O)||this.set(d["default"].CENTER,O);this.getAnimating()&&!la&&this.cancelAnimations();this.cancelAnchor_=void 0};ja.prototype.resolveConstraints=function(la,da,O){la=void 0!==la?la:200;var B=da||0;da=this.constraints_.rotation(this.targetRotation_);var Y=this.getViewportSize_(da);B=this.constraints_.resolution(this.targetResolution_,B,Y);Y=this.constraints_.center(this.targetCenter_,B,Y,!1,this.calculateCenterShift(this.targetCenter_,B,da,Y));0!==la||this.cancelAnchor_?(O=O||(0===la?this.cancelAnchor_:
void 0),this.cancelAnchor_=void 0,this.getResolution()===B&&this.getRotation()===da&&this.getCenterInternal()&&(0,n.equals)(this.getCenterInternal(),Y)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:da,center:Y,resolution:B,duration:la,easing:x.easeOut,anchor:O}))):(this.targetResolution_=B,this.targetRotation_=da,this.targetCenter_=Y,this.applyTargetState_())};ja.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(f["default"].INTERACTING,
1)};ja.prototype.endInteraction=function(la,da,O){O=O&&(0,a.fromUserCoordinate)(O,this.getProjection());this.endInteractionInternal(la,da,O)};ja.prototype.endInteractionInternal=function(la,da,O){this.setHint(f["default"].INTERACTING,-1);this.resolveConstraints(la,da,O)};ja.prototype.getConstrainedCenter=function(la,da){var O=this.getViewportSize_(this.getRotation());return this.constraints_.center(la,da||this.getResolution(),O)};ja.prototype.getConstrainedZoom=function(la,da){la=this.getResolutionForZoom(la);
return this.getZoomForResolution(this.getConstrainedResolution(la,da))};ja.prototype.getConstrainedResolution=function(la,da){da=da||0;var O=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(la,da,O)};return ja}(Ea["default"]);J["default"]=z};
shadow$provide[154]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.buffer=function(m,l,w){void 0===w&&(w=[0,0]);w[0]=m[0]+2*l;w[1]=m[1]+2*l;return w};J.hasArea=function(m){return 0<m[0]&&0<m[1]};J.scale=function(m,l,w){void 0===w&&(w=[0,0]);w[0]=m[0]*l+.5|0;w[1]=m[1]*l+.5|0;return w};J.toSize=function(m,l){if(Array.isArray(m))return m;void 0===l?l=[m,m]:(l[0]=m,l[1]=m);return l}};
shadow$provide[155]=function(Ea,z,ob,J){function m(B){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"===typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y};return m(B)}function l(B){return B&&B.__esModule?B:{"default":B}}function w(){if("function"!==typeof WeakMap)return null;var B=new WeakMap;w=function(){return B};return B}function G(B){if(B&&B.__esModule)return B;if(null===B||"object"!==m(B)&&
"function"!==typeof B)return{"default":B};var Y=w();if(Y&&Y.has(B))return Y.get(B);var ka={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor,wa;for(wa in B)if(Object.prototype.hasOwnProperty.call(B,wa)){var xa=Z?Object.getOwnPropertyDescriptor(B,wa):null;xa&&(xa.get||xa.set)?Object.defineProperty(ka,wa,xa):ka[wa]=B[wa]}ka["default"]=B;Y&&Y.set(B,ka);return ka}function L(B){var Y=null;void 0!==B.keyboardEventTarget&&(Y="string"===typeof B.keyboardEventTarget?document.getElementById(B.keyboardEventTarget):
B.keyboardEventTarget);var ka={},Z=B.layers&&"function"===typeof B.layers.getLayers?B.layers:new f["default"]({layers:B.layers});ka[y["default"].LAYERGROUP]=Z;ka[y["default"].TARGET]=B.target;ka[y["default"].VIEW]=void 0!==B.view?B.view:new E["default"];if(void 0!==B.controls)if(Array.isArray(B.controls))var wa=new u["default"](B.controls.slice());else(0,U.assert)("function"===typeof B.controls.getArray,47),wa=B.controls;if(void 0!==B.interactions)if(Array.isArray(B.interactions))var xa=new u["default"](B.interactions.slice());
else(0,U.assert)("function"===typeof B.interactions.getArray,48),xa=B.interactions;void 0!==B.overlays?Array.isArray(B.overlays)?B=new u["default"](B.overlays.slice()):((0,U.assert)("function"===typeof B.overlays.getArray,49),B=B.overlays):B=new u["default"];return{controls:wa,interactions:xa,keyboardEventTarget:Y,overlays:B,values:ka}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var v=G(z(91)),u=l(z(107)),t=l(z(106)),k=l(z(88)),f=l(z(108)),d=l(z(110)),g=l(z(113)),a=l(z(111)),
e=l(z(109)),n=l(z(114)),y=l(z(115)),A=l(z(85)),C=l(z(112)),N=l(z(94)),K=G(z(118)),E=l(z(153)),x=l(z(121)),D=z(102),H=z(73),S=z(77),U=z(76),ia=z(80),fa=z(130),ja=z(154),la=z(89),da=z(103),O=function(){var B=function(Y,ka){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,wa){Z.__proto__=wa}||function(Z,wa){for(var xa in wa)Object.prototype.hasOwnProperty.call(wa,xa)&&(Z[xa]=wa[xa])};return B(Y,ka)};return function(Y,ka){function Z(){this.constructor=Y}B(Y,ka);Y.prototype=null===ka?
Object.create(ka):(Z.prototype=ka.prototype,new Z)}}();Ea=function(B){function Y(ka){var Z=B.call(this)||this,wa=L(ka);Z.boundHandleBrowserEvent_=Z.handleBrowserEvent.bind(Z);Z.maxTilesLoading_=void 0!==ka.maxTilesLoading?ka.maxTilesLoading:16;Z.pixelRatio_=void 0!==ka.pixelRatio?ka.pixelRatio:D.DEVICE_PIXEL_RATIO;Z.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(Z);Z.coordinateToPixelTransform_=(0,S.create)();Z.pixelToCoordinateTransform_=(0,S.create)();
Z.frameIndex_=0;Z.frameState_=null;Z.previousExtent_=null;Z.viewPropertyListenerKey_=null;Z.viewChangeListenerKey_=null;Z.layerGroupPropertyListenerKeys_=null;Z.viewport_=document.createElement("div");Z.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");Z.viewport_.style.position="relative";Z.viewport_.style.overflow="hidden";Z.viewport_.style.width="100%";Z.viewport_.style.height="100%";Z.overlayContainer_=document.createElement("div");Z.overlayContainer_.style.position="absolute";
Z.overlayContainer_.style.zIndex="0";Z.overlayContainer_.style.width="100%";Z.overlayContainer_.style.height="100%";Z.overlayContainer_.style.pointerEvents="none";Z.overlayContainer_.className="ol-overlaycontainer";Z.viewport_.appendChild(Z.overlayContainer_);Z.overlayContainerStopEvent_=document.createElement("div");Z.overlayContainerStopEvent_.style.position="absolute";Z.overlayContainerStopEvent_.style.zIndex="0";Z.overlayContainerStopEvent_.style.width="100%";Z.overlayContainerStopEvent_.style.height=
"100%";Z.overlayContainerStopEvent_.style.pointerEvents="none";Z.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";Z.viewport_.appendChild(Z.overlayContainerStopEvent_);Z.mapBrowserEventHandler_=null;Z.moveTolerance_=ka.moveTolerance;Z.keyboardEventTarget_=wa.keyboardEventTarget;Z.keyHandlerKeys_=null;Z.controls=wa.controls||new u["default"];Z.interactions=wa.interactions||new u["default"];Z.overlays_=wa.overlays;Z.overlayIdIndex_={};Z.renderer_=null;Z.postRenderFunctions_=[];Z.tileQueue_=
new K["default"](Z.getTilePriority.bind(Z),Z.handleTileChange_.bind(Z));Z.addEventListener((0,v.getChangeEventType)(y["default"].LAYERGROUP),Z.handleLayerGroupChanged_);Z.addEventListener((0,v.getChangeEventType)(y["default"].VIEW),Z.handleViewChanged_);Z.addEventListener((0,v.getChangeEventType)(y["default"].SIZE),Z.handleSizeChanged_);Z.addEventListener((0,v.getChangeEventType)(y["default"].TARGET),Z.handleTargetChanged_);Z.setProperties(wa.values);Z.controls.forEach(function(xa){xa.setMap(this)}.bind(Z));
Z.controls.addEventListener(t["default"].ADD,function(xa){xa.element.setMap(this)}.bind(Z));Z.controls.addEventListener(t["default"].REMOVE,function(xa){xa.element.setMap(null)}.bind(Z));Z.interactions.forEach(function(xa){xa.setMap(this)}.bind(Z));Z.interactions.addEventListener(t["default"].ADD,function(xa){xa.element.setMap(this)}.bind(Z));Z.interactions.addEventListener(t["default"].REMOVE,function(xa){xa.element.setMap(null)}.bind(Z));Z.overlays_.forEach(Z.addOverlayInternal_.bind(Z));Z.overlays_.addEventListener(t["default"].ADD,
function(xa){this.addOverlayInternal_(xa.element)}.bind(Z));Z.overlays_.addEventListener(t["default"].REMOVE,function(xa){var Da=xa.element.getId();void 0!==Da&&delete this.overlayIdIndex_[Da.toString()];xa.element.setMap(null)}.bind(Z));return Z}O(Y,B);Y.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};Y.prototype.addControl=function(ka){this.getControls().push(ka)};Y.prototype.addInteraction=function(ka){this.getInteractions().push(ka)};Y.prototype.addLayer=
function(ka){this.getLayerGroup().getLayers().push(ka)};Y.prototype.addOverlay=function(ka){this.getOverlays().push(ka)};Y.prototype.addOverlayInternal_=function(ka){var Z=ka.getId();void 0!==Z&&(this.overlayIdIndex_[Z.toString()]=ka);ka.setMap(this)};Y.prototype.disposeInternal=function(){this.setTarget(null);B.prototype.disposeInternal.call(this)};Y.prototype.forEachFeatureAtPixel=function(ka,Z,wa){if(this.frameState_)return ka=this.getCoordinateFromPixelInternal(ka),wa=void 0!==wa?wa:{},this.renderer_.forEachFeatureAtCoordinate(ka,
this.frameState_,void 0!==wa.hitTolerance?wa.hitTolerance:0,!1!==wa.checkWrapped,Z,null,void 0!==wa.layerFilter?wa.layerFilter:H.TRUE,null)};Y.prototype.getFeaturesAtPixel=function(ka,Z){var wa=[];this.forEachFeatureAtPixel(ka,function(xa){wa.push(xa)},Z);return wa};Y.prototype.forEachLayerAtPixel=function(ka,Z,wa){if(this.frameState_)return wa=wa||{},this.renderer_.forEachLayerAtPixel(ka,this.frameState_,void 0!==wa.hitTolerance?wa.hitTolerance:0,Z,wa.layerFilter||H.TRUE)};Y.prototype.hasFeatureAtPixel=
function(ka,Z){if(!this.frameState_)return!1;ka=this.getCoordinateFromPixelInternal(ka);Z=void 0!==Z?Z:{};return this.renderer_.hasFeatureAtCoordinate(ka,this.frameState_,void 0!==Z.hitTolerance?Z.hitTolerance:0,!1!==Z.checkWrapped,void 0!==Z.layerFilter?Z.layerFilter:H.TRUE,null)};Y.prototype.getEventCoordinate=function(ka){return this.getCoordinateFromPixel(this.getEventPixel(ka))};Y.prototype.getEventCoordinateInternal=function(ka){return this.getCoordinateFromPixelInternal(this.getEventPixel(ka))};
Y.prototype.getEventPixel=function(ka){var Z=this.viewport_.getBoundingClientRect();ka="changedTouches"in ka?ka.changedTouches[0]:ka;return[ka.clientX-Z.left,ka.clientY-Z.top]};Y.prototype.getTarget=function(){return this.get(y["default"].TARGET)};Y.prototype.getTargetElement=function(){var ka=this.getTarget();return void 0!==ka?"string"===typeof ka?document.getElementById(ka):ka:null};Y.prototype.getCoordinateFromPixel=function(ka){return(0,fa.toUserCoordinate)(this.getCoordinateFromPixelInternal(ka),
this.getView().getProjection())};Y.prototype.getCoordinateFromPixelInternal=function(ka){var Z=this.frameState_;return Z?(0,S.apply)(Z.pixelToCoordinateTransform,ka.slice()):null};Y.prototype.getControls=function(){return this.controls};Y.prototype.getOverlays=function(){return this.overlays_};Y.prototype.getOverlayById=function(ka){ka=this.overlayIdIndex_[ka.toString()];return void 0!==ka?ka:null};Y.prototype.getInteractions=function(){return this.interactions};Y.prototype.getLayerGroup=function(){return this.get(y["default"].LAYERGROUP)};
Y.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};Y.prototype.getLoading=function(){for(var ka=this.getLayerGroup().getLayerStatesArray(),Z=0,wa=ka.length;Z<wa;++Z){var xa=ka[Z].layer.getSource();if(xa&&xa.loading)return!0}return!1};Y.prototype.getPixelFromCoordinate=function(ka){ka=(0,fa.fromUserCoordinate)(ka,this.getView().getProjection());return this.getPixelFromCoordinateInternal(ka)};Y.prototype.getPixelFromCoordinateInternal=function(ka){var Z=this.frameState_;return Z?
(0,S.apply)(Z.coordinateToPixelTransform,ka.slice(0,2)):null};Y.prototype.getRenderer=function(){return this.renderer_};Y.prototype.getSize=function(){return this.get(y["default"].SIZE)};Y.prototype.getView=function(){return this.get(y["default"].VIEW)};Y.prototype.getViewport=function(){return this.viewport_};Y.prototype.getOverlayContainer=function(){return this.overlayContainer_};Y.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};Y.prototype.getOwnerDocument=
function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};Y.prototype.getTilePriority=function(ka,Z,wa,xa){return(0,K.getTilePriority)(this.frameState_,ka,Z,wa,xa)};Y.prototype.handleBrowserEvent=function(ka,Z){ka=new d["default"](Z||ka.type,this,ka);this.handleMapBrowserEvent(ka)};Y.prototype.handleMapBrowserEvent=function(ka){if(this.frameState_){var Z=ka.originalEvent,wa=Z.type;if(wa===C["default"].POINTERDOWN||wa===k["default"].WHEEL||wa===k["default"].KEYDOWN){wa=
this.getOwnerDocument();var xa=this.viewport_.getRootNode?this.viewport_.getRootNode():wa;Z="host"in xa?xa.elementFromPoint(Z.clientX,Z.clientY):Z.target;if(this.overlayContainerStopEvent_.contains(Z)||!(xa===wa?wa.documentElement:xa).contains(Z))return}ka.frameState=this.frameState_;if(!1!==this.dispatchEvent(ka))for(Z=this.getInteractions().getArray().slice(),wa=Z.length-1;0<=wa&&(xa=Z[wa],xa.getMap()!==this||!xa.getActive()||!this.getTargetElement()||xa.handleEvent(ka)&&!ka.propagationStopped);wa--);
}};Y.prototype.handlePostRender=function(){var ka=this.frameState_,Z=this.tileQueue_;if(!Z.isEmpty()){var wa=this.maxTilesLoading_,xa=wa;if(ka){var Da=ka.viewHints;if(Da[x["default"].ANIMATING]||Da[x["default"].INTERACTING])wa=(xa=!D.IMAGE_DECODE&&8<Date.now()-ka.time)?0:8,xa=xa?0:2}Z.getTilesLoading()<wa&&(Z.reprioritize(),Z.loadMoreTiles(wa,xa))}!ka||!this.hasListener(N["default"].RENDERCOMPLETE)||ka.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(N["default"].RENDERCOMPLETE,
ka);Z=this.postRenderFunctions_;wa=0;for(xa=Z.length;wa<xa;++wa)Z[wa](this,ka);Z.length=0};Y.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};Y.prototype.handleTargetChanged_=function(){var ka;this.getTarget()&&(ka=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var Z=0,wa=this.keyHandlerKeys_.length;Z<wa;++Z)(0,la.unlistenByKey)(this.keyHandlerKeys_[Z]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(k["default"].CONTEXTMENU,
this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(k["default"].WHEEL,this.boundHandleBrowserEvent_);void 0!==this.handleResize_&&(removeEventListener(k["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,da.removeNode)(this.viewport_)}if(ka){ka.appendChild(this.viewport_);this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new g["default"](this,this.moveTolerance_);
for(var xa in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][xa],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(k["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(k["default"].WHEEL,this.boundHandleBrowserEvent_,D.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);ka=this.keyboardEventTarget_?this.keyboardEventTarget_:ka;this.keyHandlerKeys_=[(0,la.listen)(ka,k["default"].KEYDOWN,this.handleBrowserEvent,this),(0,la.listen)(ka,
k["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(k["default"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};Y.prototype.handleTileChange_=
function(){this.render()};Y.prototype.handleViewPropertyChanged_=function(){this.render()};Y.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,la.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,la.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var ka=this.getView();ka&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,la.listen)(ka,A["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,
this),this.viewChangeListenerKey_=(0,la.listen)(ka,k["default"].CHANGE,this.handleViewPropertyChanged_,this),ka.resolveConstraints(0));this.render()};Y.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(la.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var ka=this.getLayerGroup();ka&&(this.layerGroupPropertyListenerKeys_=[(0,la.listen)(ka,A["default"].PROPERTYCHANGE,this.render,this),(0,la.listen)(ka,k["default"].CHANGE,
this.render,this)]);this.render()};Y.prototype.isRendered=function(){return!!this.frameState_};Y.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};Y.prototype.redrawText=function(){for(var ka=this.getLayerGroup().getLayerStatesArray(),Z=0,wa=ka.length;Z<wa;++Z){var xa=ka[Z].layer;xa.hasRenderer()&&xa.getRenderer().handleFontsChanged()}};Y.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=
requestAnimationFrame(this.animationDelay_))};Y.prototype.removeControl=function(ka){return this.getControls().remove(ka)};Y.prototype.removeInteraction=function(ka){return this.getInteractions().remove(ka)};Y.prototype.removeLayer=function(ka){return this.getLayerGroup().getLayers().remove(ka)};Y.prototype.removeOverlay=function(ka){return this.getOverlays().remove(ka)};Y.prototype.renderFrame_=function(ka){var Z=this,wa=this.getSize(),xa=this.getView(),Da=this.frameState_,Wa=null;void 0!==wa&&(0,
ja.hasArea)(wa)&&xa&&xa.isDef()&&(Wa=xa.getHints(this.frameState_?this.frameState_.viewHints:void 0),xa=xa.getState(),Wa={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ia.getForViewAndSize)(xa.center,xa.resolution,xa.rotation,wa),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:wa,
tileQueue:this.tileQueue_,time:ka,usedTiles:{},viewState:xa,viewHints:Wa,wantedTiles:{}});this.frameState_=Wa;this.renderer_.renderFrame(Wa);Wa&&(Wa.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,Wa.postRenderFunctions),!Da||this.previousExtent_&&((0,ia.isEmpty)(this.previousExtent_)||(0,ia.equals)(Wa.extent,this.previousExtent_))||(this.dispatchEvent(new e["default"](n["default"].MOVESTART,this,Da)),this.previousExtent_=(0,ia.createOrUpdateEmpty)(this.previousExtent_)),
!this.previousExtent_||Wa.viewHints[x["default"].ANIMATING]||Wa.viewHints[x["default"].INTERACTING]||(0,ia.equals)(Wa.extent,this.previousExtent_)||(this.dispatchEvent(new e["default"](n["default"].MOVEEND,this,Wa)),(0,ia.clone)(Wa.extent,this.previousExtent_)));this.dispatchEvent(new e["default"](n["default"].POSTRENDER,this,Wa));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){Z.postRenderTimeoutHandle_=void 0;Z.handlePostRender()},0))};Y.prototype.setLayerGroup=
function(ka){this.set(y["default"].LAYERGROUP,ka)};Y.prototype.setSize=function(ka){this.set(y["default"].SIZE,ka)};Y.prototype.setTarget=function(ka){this.set(y["default"].TARGET,ka)};Y.prototype.setView=function(ka){this.set(y["default"].VIEW,ka)};Y.prototype.updateSize=function(){var ka=this.getTargetElement();if(ka){var Z=getComputedStyle(ka);this.setSize([ka.offsetWidth-parseFloat(Z.borderLeftWidth)-parseFloat(Z.paddingLeft)-parseFloat(Z.paddingRight)-parseFloat(Z.borderRightWidth),ka.offsetHeight-
parseFloat(Z.borderTopWidth)-parseFloat(Z.paddingTop)-parseFloat(Z.paddingBottom)-parseFloat(Z.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};Y.prototype.updateViewportSize_=function(){var ka=this.getView();if(ka){var Z=void 0,wa=getComputedStyle(this.viewport_);wa.width&&wa.height&&(Z=[parseInt(wa.width,10),parseInt(wa.height,10)]);ka.setViewportSize(Z)}};return Y}(v["default"]);J["default"]=Ea};
shadow$provide[156]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(91));var l=m(z(114)),w=z(73),G=z(89),L=z(103),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=
null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k){var f=u.call(this)||this,d=k.element;!d||k.target||d.style.pointerEvents||(d.style.pointerEvents="auto");f.element=d?d:null;f.target_=null;f.map_=null;f.listenerKeys=[];k.render&&(f.render=k.render);k.target&&f.setTarget(k.target);return f}v(t,u);t.prototype.disposeInternal=function(){(0,L.removeNode)(this.element);u.prototype.disposeInternal.call(this)};t.prototype.getMap=function(){return this.map_};t.prototype.setMap=
function(k){this.map_&&(0,L.removeNode)(this.element);for(var f=0,d=this.listenerKeys.length;f<d;++f)(0,G.unlistenByKey)(this.listenerKeys[f]);this.listenerKeys.length=0;if(this.map_=k)(this.target_?this.target_:k.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==w.VOID&&this.listenerKeys.push((0,G.listen)(k,l["default"].POSTRENDER,this.render,this)),k.render()};t.prototype.render=function(k){};t.prototype.setTarget=function(k){this.target_="string"===typeof k?document.getElementById(k):
k};return t}(Ea["default"]);J["default"]=z};
shadow$provide[157]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var l=m(z(88)),w=z(101),G=z(72),L=z(96),v=z(103),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=k}t(k,
f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(f){var d=f?f:{};f=t.call(this,{element:document.createElement("div"),render:d.render,target:d.target})||this;f.ulElement_=document.createElement("ul");f.collapsed_=void 0!==d.collapsed?d.collapsed:!0;f.userCollapsed_=f.collapsed_;f.overrideCollapsible_=void 0!==d.collapsible;f.collapsible_=void 0!==d.collapsible?d.collapsible:!0;f.collapsible_||(f.collapsed_=!1);var g=void 0!==d.className?d.className:
"ol-attribution",a=void 0!==d.tipLabel?d.tipLabel:"Attributions",e=void 0!==d.expandClassName?d.expandClassName:g+"-expand",n=void 0!==d.collapseLabel?d.collapseLabel:"",y=void 0!==d.collapseClassName?d.collapseClassName:g+"-collpase";"string"===typeof n?(f.collapseLabel_=document.createElement("span"),f.collapseLabel_.textContent=n,f.collapseLabel_.className=y):f.collapseLabel_=n;d=void 0!==d.label?d.label:"i";"string"===typeof d?(f.label_=document.createElement("span"),f.label_.textContent=d,f.label_.className=
e):f.label_=d;d=f.collapsible_&&!f.collapsed_?f.collapseLabel_:f.label_;e=document.createElement("button");e.setAttribute("type","button");e.title=a;e.appendChild(d);e.addEventListener(l["default"].CLICK,f.handleClick_.bind(f),!1);a=f.element;a.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL+(f.collapsed_&&f.collapsible_?" "+w.CLASS_COLLAPSED:"")+(f.collapsible_?"":" ol-uncollapsible");a.appendChild(f.ulElement_);a.appendChild(e);f.renderedAttributions_=[];f.renderedVisible_=!0;return f}
u(k,t);k.prototype.collectSourceAttributions_=function(f){for(var d={},g=[],a=!0,e=f.layerStatesArray,n=0,y=e.length;n<y;++n){var A=e[n];if((0,L.inView)(A,f.viewState)){var C=A.layer.getSource();if(C&&(A=C.getAttributions())&&(A=A(f)))if(a=a&&!1!==C.getAttributionsCollapsible(),Array.isArray(A)){C=0;for(var N=A.length;C<N;++C)A[C]in d||(g.push(A[C]),d[A[C]]=!0)}else A in d||(g.push(A),d[A]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return g};k.prototype.updateElement_=function(f){if(f){f=
this.collectSourceAttributions_(f);var d=0<f.length;this.renderedVisible_!=d&&(this.element.style.display=d?"":"none",this.renderedVisible_=d);if(!(0,G.equals)(f,this.renderedAttributions_)){(0,v.removeChildren)(this.ulElement_);d=0;for(var g=f.length;d<g;++d){var a=document.createElement("li");a.innerHTML=f[d];this.ulElement_.appendChild(a)}this.renderedAttributions_=f}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};k.prototype.handleClick_=function(f){f.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};k.prototype.handleToggle_=function(){this.element.classList.toggle(w.CLASS_COLLAPSED);this.collapsed_?(0,v.replaceNode)(this.collapseLabel_,this.label_):(0,v.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};k.prototype.getCollapsible=function(){return this.collapsible_};k.prototype.setCollapsible=function(f){this.collapsible_!==f&&(this.collapsible_=f,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};k.prototype.setCollapsed=function(f){this.userCollapsed_=f;this.collapsible_&&this.collapsed_!==f&&this.handleToggle_()};k.prototype.getCollapsed=function(){return this.collapsed_};k.prototype.render=function(f){this.updateElement_(f.frameState)};return k}(Ea["default"]);J["default"]=z};
shadow$provide[158]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var l=m(z(88)),w=z(101),G=z(134),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t){var k=t?t:{};t=v.call(this,{element:document.createElement("div"),render:k.render,target:k.target})||this;var f=void 0!==k.className?k.className:"ol-rotate",d=void 0!==k.label?k.label:"",g=void 0!==k.compassClassName?k.compassClassName:"ol-compass";t.label_=null;"string"===typeof d?(t.label_=document.createElement("span"),t.label_.className=g,t.label_.textContent=d):(t.label_=d,t.label_.classList.add(g));g=k.tipLabel?
k.tipLabel:"Reset rotation";d=document.createElement("button");d.className=f+"-reset";d.setAttribute("type","button");d.title=g;d.appendChild(t.label_);d.addEventListener(l["default"].CLICK,t.handleClick_.bind(t),!1);g=t.element;g.className=f+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;g.appendChild(d);t.callResetNorth_=k.resetNorth?k.resetNorth:void 0;t.duration_=void 0!==k.duration?k.duration:250;t.autoHide_=void 0!==k.autoHide?k.autoHide:!0;t.rotation_=void 0;t.autoHide_&&t.element.classList.add(w.CLASS_HIDDEN);
return t}L(u,v);u.prototype.handleClick_=function(t){t.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};u.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var k=t.getRotation();void 0!==k&&(0<this.duration_&&0!==k%(2*Math.PI)?t.animate({rotation:0,duration:this.duration_,easing:G.easeOut}):t.setRotation(0))}};u.prototype.render=function(t){if(t=t.frameState){t=t.viewState.rotation;if(t!=this.rotation_){var k="rotate("+t+"rad)";if(this.autoHide_){var f=
this.element.classList.contains(w.CLASS_HIDDEN);f||0!==t?f&&0!==t&&this.element.classList.remove(w.CLASS_HIDDEN):this.element.classList.add(w.CLASS_HIDDEN)}this.label_.style.transform=k}this.rotation_=t}};return u}(Ea["default"]);J["default"]=z};
shadow$provide[159]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var l=m(z(88)),w=z(101),G=z(134),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t){var k=t?t:{};t=v.call(this,{element:document.createElement("div"),target:k.target})||this;var f=void 0!==k.className?k.className:"ol-zoom",d=void 0!==k.delta?k.delta:1,g=void 0!==k.zoomInClassName?k.zoomInClassName:f+"-in",a=void 0!==k.zoomOutClassName?k.zoomOutClassName:f+"-out",e=void 0!==k.zoomInLabel?k.zoomInLabel:"+",n=void 0!==k.zoomOutLabel?k.zoomOutLabel:"",y=void 0!==k.zoomInTipLabel?k.zoomInTipLabel:"Zoom in",
A=void 0!==k.zoomOutTipLabel?k.zoomOutTipLabel:"Zoom out",C=document.createElement("button");C.className=g;C.setAttribute("type","button");C.title=y;C.appendChild("string"===typeof e?document.createTextNode(e):e);C.addEventListener(l["default"].CLICK,t.handleClick_.bind(t,d),!1);g=document.createElement("button");g.className=a;g.setAttribute("type","button");g.title=A;g.appendChild("string"===typeof n?document.createTextNode(n):n);g.addEventListener(l["default"].CLICK,t.handleClick_.bind(t,-d),!1);
d=t.element;d.className=f+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;d.appendChild(C);d.appendChild(g);t.duration_=void 0!==k.duration?k.duration:250;return t}L(u,v);u.prototype.handleClick_=function(t,k){k.preventDefault();this.zoomByDelta_(t)};u.prototype.zoomByDelta_=function(t){var k=this.getMap().getView();if(k){var f=k.getZoom();void 0!==f&&(t=k.getConstrainedZoom(f+t),0<this.duration_?(k.getAnimating()&&k.cancelAnimations(),k.animate({zoom:t,duration:this.duration_,easing:G.easeOut})):k.setZoom(t))}};
return u}(Ea["default"]);J["default"]=z};
shadow$provide[160]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(){var d=document.body;return!!(d.webkitRequestFullscreen||d.msRequestFullscreen&&document.msFullscreenEnabled||d.requestFullscreen&&document.fullscreenEnabled)}function w(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function G(d){d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.webkitRequestFullscreen&&
d.webkitRequestFullscreen()}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var L=m(z(88)),v=z(101),u=z(89),t=z(103),k=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),
f=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];z=function(d){function g(a){var e=a?a:{};a=d.call(this,{element:document.createElement("div"),target:e.target})||this;a.cssClassName_=void 0!==e.className?e.className:"ol-full-screen";a.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var n=void 0!==e.label?e.label:"";a.labelNode_=
"string"===typeof n?document.createTextNode(n):n;n=void 0!==e.labelActive?e.labelActive:"";a.labelActiveNode_="string"===typeof n?document.createTextNode(n):n;a.button_=document.createElement("button");n=e.tipLabel?e.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,w());a.button_.setAttribute("type","button");a.button_.title=n;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(L["default"].CLICK,a.handleClick_.bind(a),!1);n=a.cssClassName_+" "+v.CLASS_UNSELECTABLE+" "+v.CLASS_CONTROL+
" "+(l()?"":v.CLASS_UNSUPPORTED);var y=a.element;y.className=n;y.appendChild(a.button_);a.keys_=void 0!==e.keys?e.keys:!1;a.source_=e.source;return a}k(g,d);g.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};g.prototype.handleFullScreen_=function(){if(l()){var a=this.getMap();a&&(w()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===
typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():G(a):G(a)))}};g.prototype.handleFullScreenChange_=function(){var a=this.getMap();w()?(this.setClassName_(this.button_,!0),(0,t.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,t.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));
a&&a.updateSize()};g.prototype.setClassName_=function(a,e){var n,y,A,C=this.activeClassName_,N=this.inactiveClassName_;e=e?C:N;(n=a.classList).remove.apply(n,C);(y=a.classList).remove.apply(y,N);(A=a.classList).add.apply(A,e)};g.prototype.setMap=function(a){d.prototype.setMap.call(this,a);if(a){a=0;for(var e=f.length;a<e;++a)this.listenerKeys.push((0,u.listen)(document,f[a],this.handleFullScreenChange_,this))}};return g}(Ea["default"]);J["default"]=z};
shadow$provide[161]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var l=m(z(112)),w=z(91),G=z(130),L=z(89),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=
null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k){var f=k?k:{},d=document.createElement("div");d.className=void 0!==f.className?f.className:"ol-mouse-position";k=u.call(this,{element:d,render:f.render,target:f.target})||this;k.addEventListener((0,w.getChangeEventType)("projection"),k.handleProjectionChanged_);f.coordinateFormat&&k.setCoordinateFormat(f.coordinateFormat);f.projection&&k.setProjection(f.projection);k.undefinedHTML_=void 0!==f.undefinedHTML?f.undefinedHTML:
"\x26#160;";k.renderOnMouseOut_=!!k.undefinedHTML_;k.renderedHTML_=d.innerHTML;k.mapProjection_=null;k.transform_=null;return k}v(t,u);t.prototype.handleProjectionChanged_=function(){this.transform_=null};t.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};t.prototype.getProjection=function(){return this.get("projection")};t.prototype.handleMouseMove=function(k){var f=this.getMap();this.updateHTML_(f.getEventPixel(k))};t.prototype.handleMouseOut=function(k){this.updateHTML_(null)};
t.prototype.setMap=function(k){u.prototype.setMap.call(this,k);k&&(k=k.getViewport(),this.listenerKeys.push((0,L.listen)(k,l["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,L.listen)(k,l["default"].POINTEROUT,this.handleMouseOut,this)))};t.prototype.setCoordinateFormat=function(k){this.set("coordinateFormat",k)};t.prototype.setProjection=function(k){this.set("projection",(0,G.get)(k))};t.prototype.updateHTML_=function(k){var f=this.undefinedHTML_;
if(k&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,G.getTransformFromProjections)(this.mapProjection_,d):G.identityTransform}if(k=this.getMap().getCoordinateFromPixelInternal(k)){if(f=(0,G.getUserProjection)())this.transform_=(0,G.getTransformFromProjections)(this.mapProjection_,f);this.transform_(k,k);f=(f=this.getCoordinateFormat())?f(k):k.toString()}}this.renderedHTML_&&f===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=f)};t.prototype.render=
function(k){k=k.frameState;k?this.mapProjection_!=k.viewState.projection&&(this.mapProjection_=k.viewState.projection,this.transform_=null):this.mapProjection_=null};return t}(Ea["default"]);J["default"]=z};
shadow$provide[162]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[163]=function(Ea,z,ob,J){function m(g){return g&&g.__esModule?g:{"default":g}}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}function w(g){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return w(g)}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==w(g)&&"function"!==typeof g)return{"default":g};var a=l();if(a&&a.has(g))return a.get(g);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in g)if(Object.prototype.hasOwnProperty.call(g,y)){var A=n?Object.getOwnPropertyDescriptor(g,y):null;A&&(A.get||A.set)?Object.defineProperty(e,y,A):e[y]=g[y]}e["default"]=g;a&&a.set(g,e);return e}(z(91)),L=m(z(114)),v=m(z(162)),u=z(101),t=z(80),k=z(89),f=z(103),d=function(){var g=
function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,e)};return function(a,e){function n(){this.constructor=a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ea=function(g){function a(e){var n=g.call(this)||this;n.options=e;n.id=e.id;n.insertFirst=void 0!==e.insertFirst?e.insertFirst:!0;n.stopEvent=void 0!==e.stopEvent?e.stopEvent:
!0;n.element=document.createElement("div");n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+u.CLASS_SELECTABLE;n.element.style.position="absolute";n.element.style.pointerEvents="auto";var y=e.autoPan;y&&"object"!==w(y)&&(y={animation:e.autoPanAnimation,margin:e.autoPanMargin});n.autoPan=y||!1;n.rendered={transform_:"",visible:!0};n.mapPostrenderListenerKey=null;n.addEventListener((0,G.getChangeEventType)("element"),n.handleElementChanged);n.addEventListener((0,G.getChangeEventType)("map"),
n.handleMapChanged);n.addEventListener((0,G.getChangeEventType)("offset"),n.handleOffsetChanged);n.addEventListener((0,G.getChangeEventType)("position"),n.handlePositionChanged);n.addEventListener((0,G.getChangeEventType)("positioning"),n.handlePositioningChanged);void 0!==e.element&&n.setElement(e.element);n.setOffset(void 0!==e.offset?e.offset:[0,0]);n.setPositioning(void 0!==e.positioning?e.positioning:v["default"].TOP_LEFT);void 0!==e.position&&n.setPosition(e.position);return n}d(a,g);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,f.removeChildren)(this.element);var e=this.getElement();e&&this.element.appendChild(e)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,f.removeNode)(this.element),(0,k.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();e&&(this.mapPostrenderListenerKey=(0,k.listen)(e,L["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),e=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer(),this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(e){this.set("element",e)};a.prototype.setMap=function(e){this.set("map",e)};a.prototype.setOffset=function(e){this.set("offset",e)};a.prototype.setPosition=function(e){this.set("position",e)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(e){var n=this.getMap();if(n&&n.getTargetElement()&&this.get("position")){var y=this.getRect(n.getTargetElement(),n.getSize()),A=this.getElement(),C=this.getRect(A,[(0,f.outerWidth)(A),(0,f.outerHeight)(A)]);e=e||{};A=void 0===e.margin?20:e.margin;if(!(0,t.containsExtent)(y,C)){var N=C[0]-y[0],K=y[2]-C[2],E=C[1]-y[1];C=y[3]-C[3];y=[0,0];0>N?y[0]=N-A:0>K&&(y[0]=Math.abs(K)+A);0>E?y[1]=E-A:0>C&&(y[1]=Math.abs(C)+A);if(0!==y[0]||0!==y[1])if(A=
n.getView().getCenterInternal(),A=n.getPixelFromCoordinateInternal(A))y=[A[0]+y[0],A[1]+y[1]],e=e.animation||{},n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(y),duration:e.duration,easing:e.easing})}}};a.prototype.getRect=function(e,n){var y=e.getBoundingClientRect();e=y.left+window.pageXOffset;y=y.top+window.pageYOffset;return[e,y,e+n[0],y+n[1]]};a.prototype.setPositioning=function(e){this.set("positioning",e)};a.prototype.setVisible=function(e){this.rendered.visible!==e&&
(this.element.style.display=e?"":"none",this.rendered.visible=e)};a.prototype.updatePixelPosition=function(){var e=this.getMap(),n=this.getPosition();e&&e.isRendered()&&n?(n=e.getPixelFromCoordinate(n),e=e.getSize(),this.updateRenderedPosition(n,e)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(e,n){n=this.element.style;var y=this.getOffset(),A=this.getPositioning();this.setVisible(!0);var C=Math.round(e[0]+y[0])+"px";e=Math.round(e[1]+y[1])+"px";var N=y="0%";if(A==v["default"].BOTTOM_RIGHT||
A==v["default"].CENTER_RIGHT||A==v["default"].TOP_RIGHT)y="-100%";else if(A==v["default"].BOTTOM_CENTER||A==v["default"].CENTER_CENTER||A==v["default"].TOP_CENTER)y="-50%";if(A==v["default"].BOTTOM_LEFT||A==v["default"].BOTTOM_CENTER||A==v["default"].BOTTOM_RIGHT)N="-100%";else if(A==v["default"].CENTER_LEFT||A==v["default"].CENTER_CENTER||A==v["default"].CENTER_RIGHT)N="-50%";A="translate("+y+", "+N+") translate("+C+", "+e+")";this.rendered.transform_!=A&&(this.rendered.transform_=A,n.transform=
A,n.msTransform=A)};a.prototype.getOptions=function(){return this.options};return a}(G["default"]);J["default"]=Ea};
shadow$provide[164]=function(Ea,z,ob,J){function m(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(105));Ea=m(z(156));var w=m(z(88)),G=m(z(114)),L=m(z(115)),v=m(z(85)),u=m(z(163)),t=m(z(162));ob=m(z(155));var k=m(z(153)),f=m(z(122)),d=z(101),g=z(80),a=z(91),e=z(89),n=z(152),y=z(103),A=function(){var N=function(K,E){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,D){x.__proto__=D}||function(x,D){for(var H in D)Object.prototype.hasOwnProperty.call(D,
H)&&(x[H]=D[H])};return N(K,E)};return function(K,E){function x(){this.constructor=K}N(K,E);K.prototype=null===E?Object.create(E):(x.prototype=E.prototype,new x)}}(),C=function(N){function K(){return null!==N&&N.apply(this,arguments)||this}A(K,N);K.prototype.createRenderer=function(){return new l["default"](this)};return K}(ob["default"]);z=function(N){function K(E){var x=this,D=E?E:{};x=N.call(this,{element:document.createElement("div"),render:D.render,target:D.target})||this;x.boundHandleRotationChanged_=
x.handleRotationChanged_.bind(x);x.collapsed_=void 0!==D.collapsed?D.collapsed:!0;x.collapsible_=void 0!==D.collapsible?D.collapsible:!0;x.collapsible_||(x.collapsed_=!1);x.rotateWithView_=void 0!==D.rotateWithView?D.rotateWithView:!1;x.viewExtent_=void 0;E=void 0!==D.className?D.className:"ol-overviewmap";var H=void 0!==D.tipLabel?D.tipLabel:"Overview map",S=void 0!==D.collapseLabel?D.collapseLabel:"";"string"===typeof S?(x.collapseLabel_=document.createElement("span"),x.collapseLabel_.textContent=
S):x.collapseLabel_=S;S=void 0!==D.label?D.label:"";"string"===typeof S?(x.label_=document.createElement("span"),x.label_.textContent=S):x.label_=S;var U=x.collapsible_&&!x.collapsed_?x.collapseLabel_:x.label_;S=document.createElement("button");S.setAttribute("type","button");S.title=H;S.appendChild(U);S.addEventListener(w["default"].CLICK,x.handleClick_.bind(x),!1);x.ovmapDiv_=document.createElement("div");x.ovmapDiv_.className="ol-overviewmap-map";x.view_=D.view;x.ovmap_=new C({view:D.view});var ia=
x.ovmap_;D.layers&&D.layers.forEach(function(O){ia.addLayer(O)});D=document.createElement("div");D.className="ol-overviewmap-box";D.style.boxSizing="border-box";x.boxOverlay_=new u["default"]({position:[0,0],positioning:t["default"].CENTER_CENTER,element:D});x.ovmap_.addOverlay(x.boxOverlay_);D=x.element;D.className=E+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(x.collapsed_&&x.collapsible_?" "+d.CLASS_COLLAPSED:"")+(x.collapsible_?"":" ol-uncollapsible");D.appendChild(x.ovmapDiv_);D.appendChild(S);
var fa=x,ja=x.boxOverlay_,la=function(O){O=ia.getEventCoordinateInternal({clientX:O.clientX,clientY:O.clientY});ja.setPosition(O)},da=function Y(B){B=ia.getEventCoordinateInternal(B);fa.getMap().getView().setCenterInternal(B);window.removeEventListener("mousemove",la);window.removeEventListener("mouseup",Y)};x.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",la);window.addEventListener("mouseup",da)});return x}A(K,N);K.prototype.setMap=function(E){var x=
this.getMap();E!==x&&(x&&((x=x.getView())&&this.unbindView_(x),this.ovmap_.setTarget(null)),N.prototype.setMap.call(this,E),E&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,e.listen)(E,v["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),E=E.getView()))&&(this.bindView_(E),E.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};K.prototype.handleMapPropertyChange_=function(E){E.key===L["default"].VIEW&&((E=E.oldValue)&&this.unbindView_(E),E=this.getMap().getView(),
this.bindView_(E))};K.prototype.bindView_=function(E){if(!this.view_){var x=new k["default"]({projection:E.getProjection()});this.ovmap_.setView(x)}E.addEventListener((0,a.getChangeEventType)(f["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};K.prototype.unbindView_=function(E){E.removeEventListener((0,a.getChangeEventType)(f["default"].ROTATION),this.boundHandleRotationChanged_)};K.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
K.prototype.validateExtent_=function(){var E=this.getMap(),x=this.ovmap_;if(E.isRendered()&&x.isRendered()){var D=E.getSize();E=E.getView().calculateExtentInternal(D);if(!this.viewExtent_||!(0,g.equals)(E,this.viewExtent_)){this.viewExtent_=E;var H=x.getSize();D=x.getView().calculateExtentInternal(H);var S=x.getPixelFromCoordinateInternal((0,g.getTopLeft)(E)),U=x.getPixelFromCoordinateInternal((0,g.getBottomRight)(E));x=Math.abs(S[0]-U[0]);S=Math.abs(S[1]-U[1]);U=H[0];H=H[1];x<.1*U||S<.1*H||x>.75*
U||S>.75*H?this.resetExtent_():(0,g.containsExtent)(D,E)||this.recenter_()}}};K.prototype.resetExtent_=function(){var E=this.getMap(),x=this.ovmap_,D=E.getSize();E=E.getView().calculateExtentInternal(D);x=x.getView();D=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,g.scaleFromCenter)(E,D);x.fitInternal((0,n.fromExtent)(E))};K.prototype.recenter_=function(){var E=this.getMap(),x=this.ovmap_;E=E.getView();x.getView().setCenterInternal(E.getCenterInternal())};K.prototype.updateBox_=function(){var E=
this.getMap(),x=this.ovmap_;if(E.isRendered()&&x.isRendered()){var D=E.getSize(),H=E.getView(),S=x.getView();x=this.rotateWithView_?0:-H.getRotation();E=this.boxOverlay_;var U=this.boxOverlay_.getElement(),ia=H.getCenterInternal();H=H.getResolution();var fa=S.getResolution();S=D[0]*H/fa;D=D[1]*H/fa;E.setPosition(ia);U&&(U.style.width=S+"px",U.style.height=D+"px",U.style.transform="rotate("+x+"rad)")}};K.prototype.handleClick_=function(E){E.preventDefault();this.handleToggle_()};K.prototype.handleToggle_=
function(){this.element.classList.toggle(d.CLASS_COLLAPSED);this.collapsed_?(0,y.replaceNode)(this.collapseLabel_,this.label_):(0,y.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var E=this.ovmap_;this.collapsed_||(E.isRendered()?(this.viewExtent_=void 0,E.render()):(E.updateSize(),this.resetExtent_(),(0,e.listenOnce)(E,G["default"].POSTRENDER,function(x){this.updateBox_()},this)))};K.prototype.getCollapsible=function(){return this.collapsible_};K.prototype.setCollapsible=
function(E){this.collapsible_!==E&&(this.collapsible_=E,this.element.classList.toggle("ol-uncollapsible"),!E&&this.collapsed_&&this.handleToggle_())};K.prototype.setCollapsed=function(E){this.collapsible_&&this.collapsed_!==E&&this.handleToggle_()};K.prototype.getCollapsed=function(){return this.collapsed_};K.prototype.getRotateWithView=function(){return this.rotateWithView_};K.prototype.setRotateWithView=function(E){this.rotateWithView_!==E&&(this.rotateWithView_=E,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};K.prototype.getOverviewMap=function(){return this.ovmap_};K.prototype.render=function(E){this.validateExtent_();this.updateBox_()};return K}(Ea["default"]);J["default"]=z};
shadow$provide[165]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.Units=void 0;Ea=m(z(156));var l=m(z(120)),w=z(101),G=z(130),L=z(76),v=z(91),u=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),t={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};J.Units=t;var k=[1,2,5],f=25.4/.28;z=function(d){function g(a){var e=a?a:{},n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";a=d.call(this,{element:document.createElement("div"),render:e.render,target:e.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=n+"-inner";a.element.className=
n+" "+w.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==e.minWidth?e.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,v.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(e.units||t.METRIC);a.scaleBar_=e.bar||!1;a.scaleBarSteps_=e.steps||4;a.scaleBarText_=e.text||!1;a.dpi_=e.dpi||void 0;return a}u(g,d);g.prototype.getUnits=function(){return this.get("units")};g.prototype.handleUnitsChanged_=
function(){this.updateElement_()};g.prototype.setUnits=function(a){this.set("units",a)};g.prototype.setDpi=function(a){this.dpi_=a};g.prototype.updateElement_=function(){var a=this.viewState_;if(a){var e=a.center,n=a.projection,y=this.getUnits(),A=y==t.DEGREES?l["default"].DEGREES:l["default"].METERS;a=(0,G.getPointResolution)(n,a.resolution,e,A);e=this.minWidth_*(this.dpi_||f)/f;A=e*a;n="";y==t.DEGREES?(y=G.METERS_PER_UNIT[l["default"].DEGREES],A*=y,A<y/60?(n="",a*=3600):A<y?(n="",a*=60):n=""):
y==t.IMPERIAL?.9144>A?(n="in",a/=.0254):1609.344>A?(n="ft",a/=.3048):(n="mi",a/=1609.344):y==t.NAUTICAL?(a/=1852,n="nm"):y==t.METRIC?.001>A?(n="m",a*=1E6):1>A?(n="mm",a*=1E3):1E3>A?n="m":(n="km",a/=1E3):y==t.US?.9144>A?(n="in",a*=39.37):1609.344>A?(n="ft",a/=.30480061):(n="mi",a/=1609.3472):(0,L.assert)(!1,33);A=3*Math.floor(Math.log(e*a)/Math.log(10));for(var C,N;;){N=Math.floor(A/3);C=k[(A%3+3)%3]*Math.pow(10,N);y=Math.round(C/a);if(isNaN(y)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(y>=e)break;++A}a=this.scaleBar_?this.createScaleBar(y,C,n):C.toFixed(0>N?-N:0)+" "+n;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=y&&(this.innerElement_.style.width=y+"px",this.renderedWidth_=y);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};g.prototype.createScaleBar=function(a,e,n){for(var y="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
A=[],C=a/this.scaleBarSteps_,N="#ffffff",K=0;K<this.scaleBarSteps_;K++)0===K&&A.push(this.createMarker("absolute",K)),A.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+C+"px;background-color: "+N+';"\x3e\x3c/div\x3e'+this.createMarker("relative",K)+(0===K%2||2===this.scaleBarSteps_?this.createStepText(K,a,!1,e,n):"")+"\x3c/div\x3e"),K===this.scaleBarSteps_-1&&A.push(this.createStepText(K+1,a,!0,e,n)),N="#ffffff"===N?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+y+"\x3c/div\x3e":"")+A.join("")+"\x3c/div\x3e"};g.prototype.createMarker=function(a,e){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};g.prototype.createStepText=function(a,e,n,y,A){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';"\x3e'+((0===a?0:Math.round(y/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+A))+"\x3c/div\x3e"};g.prototype.getScaleForResolution=function(){var a=(0,G.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||f,n=this.viewState_.projection.getMetersPerUnit(),y=1E3/25.4;return parseFloat(a.toString())*n*y*e};g.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return g}(Ea["default"]);J["default"]=z};
shadow$provide[166]=function(Ea,z,ob,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var l=m(z(88)),w=m(z(112)),G=z(101),L=z(81),v=z(134),u=z(89),t=z(84),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=
d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g){var a=g?g:{};g=f.call(this,{element:document.createElement("div"),render:a.render})||this;g.dragListenerKeys_=[];g.currentResolution_=void 0;g.direction_=0;g.heightLimit_=0;g.widthLimit_=0;g.thumbSize_=null;g.sliderInitialized_=!1;g.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var e=document.createElement("button");e.setAttribute("type",
"button");e.className=a+"-thumb "+G.CLASS_UNSELECTABLE;var n=g.element;n.className=a+" "+G.CLASS_UNSELECTABLE+" "+G.CLASS_CONTROL;n.appendChild(e);n.addEventListener(w["default"].POINTERDOWN,g.handleDraggerStart_.bind(g),!1);n.addEventListener(w["default"].POINTERMOVE,g.handleDraggerDrag_.bind(g),!1);n.addEventListener(w["default"].POINTERUP,g.handleDraggerEnd_.bind(g),!1);n.addEventListener(l["default"].CLICK,g.handleContainerClick_.bind(g),!1);e.addEventListener(l["default"].CLICK,t.stopPropagation,
!1);return g}k(d,f);d.prototype.setMap=function(g){f.prototype.setMap.call(this,g);g&&g.render()};d.prototype.initSlider_=function(){var g=this.element,a=g.offsetWidth,e=g.offsetHeight;if(0===a&&0===e)return this.sliderInitialized_=!1;var n=g.firstElementChild,y=getComputedStyle(n);g=n.offsetWidth+parseFloat(y.marginRight)+parseFloat(y.marginLeft);n=n.offsetHeight+parseFloat(y.marginTop)+parseFloat(y.marginBottom);this.thumbSize_=[g,n];a>e?(this.direction_=1,this.widthLimit_=a-g):(this.direction_=
0,this.heightLimit_=e-n);return this.sliderInitialized_=!0};d.prototype.handleContainerClick_=function(g){var a=this.getMap().getView();g=this.getRelativePosition_(g.offsetX-this.thumbSize_[0]/2,g.offsetY-this.thumbSize_[1]/2);g=this.getResolutionForPosition_(g);g=a.getConstrainedZoom(a.getZoomForResolution(g));a.animateInternal({zoom:g,duration:this.duration_,easing:v.easeOut})};d.prototype.handleDraggerStart_=function(g){if(!this.dragging_&&g.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=g.clientX-parseFloat(a.style.left);this.startY_=g.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){g=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var e=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,u.listen)(e,w["default"].POINTERMOVE,g,this),(0,u.listen)(e,w["default"].POINTERUP,a,this))}}};d.prototype.handleDraggerDrag_=function(g){this.dragging_&&(g=this.getRelativePosition_(g.clientX-
this.startX_,g.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(g),this.getMap().getView().setResolution(this.currentResolution_))};d.prototype.handleDraggerEnd_=function(g){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(u.unlistenByKey),this.dragListenerKeys_.length=0)};d.prototype.setThumbPosition_=function(g){g=this.getPositionForResolution_(g);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*g+"px":a.style.top=this.heightLimit_*g+"px"};d.prototype.getRelativePosition_=function(g,a){g=1===this.direction_?g/this.widthLimit_:a/this.heightLimit_;return(0,L.clamp)(g,0,1)};d.prototype.getResolutionForPosition_=function(g){return this.getMap().getView().getResolutionForValueFunction()(1-g)};d.prototype.getPositionForResolution_=function(g){var a=this.getMap().getView().getValueForResolutionFunction();return(0,L.clamp)(1-a(g),0,1)};d.prototype.render=
function(g){g.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=g=g.frameState.viewState.resolution,this.setThumbPosition_(g))};return d}(Ea["default"]);J["default"]=z};
shadow$provide[167]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(156));var l=m(z(88)),w=z(101),G=z(152),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t){var k=t?t:{};t=v.call(this,{element:document.createElement("div"),target:k.target})||this;t.extent=k.extent?k.extent:null;var f=void 0!==k.className?k.className:"ol-zoom-extent",d=void 0!==k.label?k.label:"E",g=void 0!==k.tipLabel?k.tipLabel:"Fit to extent";k=document.createElement("button");k.setAttribute("type","button");k.title=g;k.appendChild("string"===typeof d?document.createTextNode(d):d);k.addEventListener(l["default"].CLICK,
t.handleClick_.bind(t),!1);d=t.element;d.className=f+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;d.appendChild(k);return t}L(u,v);u.prototype.handleClick_=function(t){t.preventDefault();this.handleZoomToExtent()};u.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),k=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal((0,G.fromExtent)(k))};return u}(Ea["default"]);J["default"]=z};
shadow$provide[168]=function(Ea,z,ob,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J.defaults=function(a){a=a?a:{};var e=new w["default"];(void 0!==a.zoom?a.zoom:1)&&e.push(new L["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&e.push(new G["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&e.push(new l["default"](a.attributionOptions));return e};Object.defineProperty(J,"Attribution",{enumerable:!0,get:function(){return l["default"]}});
Object.defineProperty(J,"Rotate",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"Zoom",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,"Control",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"FullScreen",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"MousePosition",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"OverviewMap",{enumerable:!0,get:function(){return k["default"]}});
Object.defineProperty(J,"ScaleLine",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(J,"ZoomSlider",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(J,"ZoomToExtent",{enumerable:!0,get:function(){return g["default"]}});var l=m(z(157)),w=m(z(107)),G=m(z(158)),L=m(z(159)),v=m(z(156)),u=m(z(160)),t=m(z(161)),k=m(z(164)),f=m(z(165)),d=m(z(166)),g=m(z(167))};
shadow$provide[169]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ACTIVE:"active"}};
shadow$provide[170]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J.pan=function(L,v,u){var t=L.getCenterInternal();t&&L.animateInternal({duration:void 0!==u?u:250,easing:w.linear,center:L.getConstrainedCenter([t[0]+v[0],t[1]+v[1]])})};J.zoomByDelta=function(L,v,u,t){var k=L.getZoom();void 0!==k&&(v=L.getConstrainedZoom(k+v),v=L.getResolutionForZoom(v),L.getAnimating()&&L.cancelAnimations(),L.animate({resolution:v,anchor:u,
duration:void 0!==t?t:250,easing:w.easeOut}))};J["default"]=void 0;Ea=m(z(91));var l=m(z(169)),w=z(134),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){var t=L.call(this)||
this;u&&u.handleEvent&&(t.handleEvent=u.handleEvent);t.map_=null;t.setActive(!0);return t}G(v,L);v.prototype.getActive=function(){return this.get(l["default"].ACTIVE)};v.prototype.getMap=function(){return this.map_};v.prototype.handleEvent=function(u){return!0};v.prototype.setActive=function(u){this.set(l["default"].ACTIVE,u)};v.prototype.setMap=function(u){this.map_=u};return v}(Ea["default"]);J["default"]=z};
shadow$provide[171]=function(Ea,z,ob,J){function m(v){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return m(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(v){if(v&&v.__esModule)return v;if(null===
v||"object"!==m(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var t={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var d=k?Object.getOwnPropertyDescriptor(v,f):null;d&&(d.get||d.set)?Object.defineProperty(t,f,d):t[f]=v[f]}t["default"]=v;u&&u.set(v,t);return t}(z(170)),G=function(v){return v&&v.__esModule?v:{"default":v}}(z(111)),L=function(){var v=function(u,t){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();Ea=function(v){function u(t){var k=v.call(this)||this;t=t?t:{};k.delta_=t.delta?t.delta:1;k.duration_=void 0!==t.duration?t.duration:250;return k}L(u,v);u.prototype.handleEvent=function(t){var k=!1;if(t.type==
G["default"].DBLCLICK){k=t.originalEvent;var f=t.coordinate,d=k.shiftKey?-this.delta_:this.delta_;t=t.map.getView();(0,w.zoomByDelta)(t,d,f,this.duration_);k.preventDefault();k=!0}return!k};return u}(w["default"]);J["default"]=Ea};
shadow$provide[172]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J.centroid=function(L){for(var v=L.length,u=0,t=0,k=0;k<v;k++)u+=L[k].clientX,t+=L[k].clientY;return[u/v,t/v]};J["default"]=void 0;Ea=m(z(170));var l=m(z(111)),w=z(86),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&
(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){var t=u?u:{};u=L.call(this,t)||this;t.handleDownEvent&&(u.handleDownEvent=t.handleDownEvent);t.handleDragEvent&&(u.handleDragEvent=t.handleDragEvent);t.handleMoveEvent&&(u.handleMoveEvent=t.handleMoveEvent);t.handleUpEvent&&(u.handleUpEvent=t.handleUpEvent);t.stopDown&&(u.stopDown=t.stopDown);u.handlingDownUpSequence=
!1;u.trackedPointers_={};u.targetPointers=[];return u}G(v,L);v.prototype.getPointerCount=function(){return this.targetPointers.length};v.prototype.handleDownEvent=function(u){return!1};v.prototype.handleDragEvent=function(u){};v.prototype.handleEvent=function(u){if(!u.originalEvent)return!0;var t=!1;this.updateTrackedPointers_(u);this.handlingDownUpSequence?u.type==l["default"].POINTERDRAG?(this.handleDragEvent(u),u.originalEvent.preventDefault()):u.type==l["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(u)&&0<this.targetPointers.length):u.type==l["default"].POINTERDOWN?(this.handlingDownUpSequence=u=this.handleDownEvent(u),t=this.stopDown(u)):u.type==l["default"].POINTERMOVE&&this.handleMoveEvent(u);return!t};v.prototype.handleMoveEvent=function(u){};v.prototype.handleUpEvent=function(u){return!1};v.prototype.stopDown=function(u){return u};v.prototype.updateTrackedPointers_=function(u){var t=u.type;if(t===l["default"].POINTERDOWN||t===l["default"].POINTERDRAG||t===l["default"].POINTERUP){t=
u.originalEvent;var k=t.pointerId.toString();u.type==l["default"].POINTERUP?delete this.trackedPointers_[k]:u.type==l["default"].POINTERDOWN?this.trackedPointers_[k]=t:k in this.trackedPointers_&&(this.trackedPointers_[k]=t);this.targetPointers=(0,w.getValues)(this.trackedPointers_)}};return v}(Ea["default"]);J["default"]=z};
shadow$provide[173]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.all=function(L){var v=arguments;return function(u){for(var t=!0,k=0,f=v.length;k<f&&(t=t&&v[k](u),t);++k);return t}};J.primaryAction=J.penOnly=J.touchOnly=J.mouseOnly=J.targetNotEditable=J.shiftKeyOnly=J.platformModifierKeyOnly=J.noModifierKeys=J.doubleClick=J.singleClick=J.pointerMove=J.never=J.mouseActionButton=J.click=J.always=J.focusWithTabindex=J.focus=J.altShiftKeysOnly=J.altKeyOnly=void 0;var m=function(L){return L&&
L.__esModule?L:{"default":L}}(z(111));Ea=z(73);var l=z(102),w=z(76);J.altKeyOnly=function(L){L=L.originalEvent;return L.altKey&&!(L.metaKey||L.ctrlKey)&&!L.shiftKey};J.altShiftKeysOnly=function(L){L=L.originalEvent;return L.altKey&&!(L.metaKey||L.ctrlKey)&&L.shiftKey};var G=function(L){return L.target.getTargetElement().contains(document.activeElement)};J.focus=G;J.focusWithTabindex=function(L){return L.map.getTargetElement().hasAttribute("tabindex")?G(L):!0};J.always=Ea.TRUE;J.click=function(L){return L.type==
m["default"].CLICK};J.mouseActionButton=function(L){L=L.originalEvent;return 0==L.button&&!(l.WEBKIT&&l.MAC&&L.ctrlKey)};J.never=Ea.FALSE;J.pointerMove=function(L){return"pointermove"==L.type};J.singleClick=function(L){return L.type==m["default"].SINGLECLICK};J.doubleClick=function(L){return L.type==m["default"].DBLCLICK};J.noModifierKeys=function(L){L=L.originalEvent;return!L.altKey&&!(L.metaKey||L.ctrlKey)&&!L.shiftKey};J.platformModifierKeyOnly=function(L){L=L.originalEvent;return!L.altKey&&(l.MAC?
L.metaKey:L.ctrlKey)&&!L.shiftKey};J.shiftKeyOnly=function(L){L=L.originalEvent;return!L.altKey&&!(L.metaKey||L.ctrlKey)&&L.shiftKey};J.targetNotEditable=function(L){L=L.originalEvent.target.tagName;return"INPUT"!==L&&"SELECT"!==L&&"TEXTAREA"!==L};J.mouseOnly=function(L){L=L.originalEvent;(0,w.assert)(void 0!==L,56);return"mouse"==L.pointerType};J.touchOnly=function(L){L=L.originalEvent;(0,w.assert)(void 0!==L,56);return"touch"===L.pointerType};J.penOnly=function(L){L=L.originalEvent;(0,w.assert)(void 0!==
L,56);return"pen"===L.pointerType};J.primaryAction=function(L){L=L.originalEvent;(0,w.assert)(void 0!==L,56);return L.isPrimary&&0===L.button}};
shadow$provide[174]=function(Ea,z,ob,J){function m(k){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return m(k)}function l(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;l=function(){return k};return k}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(k){if(k&&k.__esModule)return k;if(null===
k||"object"!==m(k)&&"function"!==typeof k)return{"default":k};var f=l();if(f&&f.has(k))return f.get(k);var d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in k)if(Object.prototype.hasOwnProperty.call(k,a)){var e=g?Object.getOwnPropertyDescriptor(k,a):null;e&&(e.get||e.set)?Object.defineProperty(d,a,e):d[a]=k[a]}d["default"]=k;f&&f.set(k,d);return d}(z(172)),G=z(73),L=z(173),v=z(134),u=z(98),t=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();Ea=function(k){function f(d){var g=k.call(this,{stopDown:G.FALSE})||this;d=d?d:{};g.kinetic_=d.kinetic;g.lastCentroid=null;g.panning_=!1;var a=d.condition?d.condition:(0,L.all)(L.noModifierKeys,L.primaryAction);g.condition_=d.onFocusOnly?
(0,L.all)(L.focusWithTabindex,a):a;g.noKinetic_=!1;return g}t(f,k);f.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var g=this.targetPointers,a=(0,w.centroid)(g);if(g.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var e=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],n=d.map.getView();(0,u.scale)(e,n.getResolution());(0,u.rotate)(e,n.getRotation());n.adjustCenterInternal(e)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=g.length;d.originalEvent.preventDefault()};f.prototype.handleUpEvent=function(d){var g=d.map;d=g.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),n=d.getCenterInternal();n=g.getPixelFromCoordinateInternal(n);g=g.getCoordinateFromPixelInternal([n[0]-a*Math.cos(e),n[1]-a*Math.sin(e)]);d.animateInternal({center:d.getConstrainedCenter(g),
duration:500,easing:v.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};f.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return f}(w["default"]);J["default"]=Ea};
shadow$provide[175]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(L){return L&&L.__esModule?L:{"default":L}}(z(172));var m=z(73),l=z(173),w=z(133),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===
u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){var t=u?u:{};u=L.call(this,{stopDown:m.FALSE})||this;u.condition_=t.condition?t.condition:l.altShiftKeysOnly;u.lastAngle_=void 0;u.duration_=void 0!==t.duration?t.duration:250;return u}G(v,L);v.prototype.handleDragEvent=function(u){if((0,l.mouseOnly)(u)){var t=u.map,k=t.getView();k.getConstraints().rotation!==w.disable&&(t=t.getSize(),u=u.pixel,u=Math.atan2(t[1]/2-u[1],u[0]-t[0]/2),void 0!==this.lastAngle_&&k.adjustRotationInternal(-(u-
this.lastAngle_)),this.lastAngle_=u)}};v.prototype.handleUpEvent=function(u){if(!(0,l.mouseOnly)(u))return!0;u.map.getView().endInteraction(this.duration_);return!1};v.prototype.handleDownEvent=function(u){return(0,l.mouseOnly)(u)&&(0,l.mouseActionButton)(u)&&this.condition_(u)?(u.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return v}(Ea["default"]);J["default"]=z};
shadow$provide[176]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(71));var l=m(z(152)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v){var u=G.call(this)||this;u.geometry_=null;u.element_=document.createElement("div");u.element_.style.position="absolute";u.element_.style.pointerEvents="auto";u.element_.className="ol-box "+v;u.map_=null;u.startPixel_=null;u.endPixel_=null;return u}w(L,G);L.prototype.disposeInternal=function(){this.setMap(null)};L.prototype.render_=function(){var v=this.startPixel_,u=this.endPixel_,t=this.element_.style;t.left=Math.min(v[0],u[0])+"px";
t.top=Math.min(v[1],u[1])+"px";t.width=Math.abs(u[0]-v[0])+"px";t.height=Math.abs(u[1]-v[1])+"px"};L.prototype.setMap=function(v){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var u=this.element_.style;u.left="inherit";u.top="inherit";u.width="inherit";u.height="inherit"}(this.map_=v)&&this.map_.getOverlayContainer().appendChild(this.element_)};L.prototype.setPixels=function(v,u){this.startPixel_=v;this.endPixel_=u;this.createOrUpdateGeometry();this.render_()};L.prototype.createOrUpdateGeometry=
function(){var v=this.startPixel_,u=this.endPixel_;v=[v,[v[0],u[1]],u,[u[0],v[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);v[4]=v[0].slice();this.geometry_?this.geometry_.setCoordinates([v]):this.geometry_=new l["default"]([v])};L.prototype.getGeometry=function(){return this.geometry_};return L}(Ea["default"]);J["default"]=z};
shadow$provide[177]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.DragBoxEvent=void 0;Ea=m(z(84));ob=m(z(172));var l=m(z(176)),w=z(173),G=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,
t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}(),L=function(v){function u(t,k,f){t=v.call(this,t)||this;t.coordinate=k;t.mapBrowserEvent=f;return t}G(u,v);return u}(Ea["default"]);J.DragBoxEvent=L;z=function(v){function u(t){var k=v.call(this)||this;t=t?t:{};k.box_=new l["default"](t.className||"ol-dragbox");k.minArea_=void 0!==t.minArea?t.minArea:64;t.onBoxEnd&&(k.onBoxEnd=t.onBoxEnd);k.startPixel_=null;k.condition_=t.condition?t.condition:w.mouseActionButton;k.boxEndCondition_=
t.boxEndCondition?t.boxEndCondition:k.defaultBoxEndCondition;return k}G(u,v);u.prototype.defaultBoxEndCondition=function(t,k,f){t=f[0]-k[0];k=f[1]-k[1];return t*t+k*k>=this.minArea_};u.prototype.getGeometry=function(){return this.box_.getGeometry()};u.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel);this.dispatchEvent(new L("boxdrag",t.coordinate,t))};u.prototype.handleUpEvent=function(t){this.box_.setMap(null);var k=this.boxEndCondition_(t,this.startPixel_,t.pixel);
if(k)this.onBoxEnd(t);this.dispatchEvent(new L(k?"boxend":"boxcancel",t.coordinate,t));return!1};u.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new L("boxstart",t.coordinate,t)),!0):!1};u.prototype.onBoxEnd=function(t){};return u}(ob["default"]);J["default"]=z};
shadow$provide[178]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(L){return L&&L.__esModule?L:{"default":L}}(z(177));var m=z(80),l=z(134),w=z(173),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===
u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){var t=u?u:{};u=L.call(this,{condition:t.condition?t.condition:w.shiftKeyOnly,className:t.className||"ol-dragzoom",minArea:t.minArea})||this;u.duration_=void 0!==t.duration?t.duration:200;u.out_=void 0!==t.out?t.out:!1;return u}G(v,L);v.prototype.onBoxEnd=function(u){var t=this.getMap();u=t.getView();var k=t.getSize(),f=this.getGeometry().getExtent();if(this.out_){var d=u.calculateExtentInternal(k);f=(0,m.createOrUpdateFromCoordinates)([t.getPixelFromCoordinateInternal((0,
m.getBottomLeft)(f)),t.getPixelFromCoordinateInternal((0,m.getTopRight)(f))]);f=u.getResolutionForExtentInternal(f,k);(0,m.scaleFromCenter)(d,1/f);f=d}k=u.getConstrainedResolution(u.getResolutionForExtentInternal(f,k));d=u.getConstrainedCenter((0,m.getCenter)(f),k);u.animateInternal({resolution:k,center:d,duration:this.duration_,easing:l.easeOut})};return v}(Ea["default"]);J["default"]=z};
shadow$provide[179]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[180]=function(Ea,z,ob,J){function m(f){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return m(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function w(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=w(z(88)),L=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==m(f)&&"function"!==typeof f)return{"default":f};var d=l();if(d&&d.has(f))return d.get(f);var g={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in f)if(Object.prototype.hasOwnProperty.call(f,e)){var n=a?Object.getOwnPropertyDescriptor(f,e):null;n&&(n.get||n.set)?Object.defineProperty(g,e,n):g[e]=f[e]}g["default"]=f;d&&d.set(f,g);return g}(z(170)),v=w(z(179)),u=z(173),t=z(98),k=function(){var f=function(d,
g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();Ea=function(f){function d(g){var a=f.call(this)||this;g=g||{};a.defaultCondition_=function(e){return(0,u.noModifierKeys)(e)&&(0,u.targetNotEditable)(e)};a.condition_=void 0!==g.condition?
g.condition:a.defaultCondition_;a.duration_=void 0!==g.duration?g.duration:100;a.pixelDelta_=void 0!==g.pixelDelta?g.pixelDelta:128;return a}k(d,f);d.prototype.handleEvent=function(g){var a=!1;if(g.type==G["default"].KEYDOWN){var e=g.originalEvent,n=e.keyCode;if(this.condition_(g)&&(n==v["default"].DOWN||n==v["default"].LEFT||n==v["default"].RIGHT||n==v["default"].UP)){g=g.map.getView();a=g.getResolution()*this.pixelDelta_;var y=0,A=0;n==v["default"].DOWN?A=-a:n==v["default"].LEFT?y=-a:n==v["default"].RIGHT?
y=a:A=a;n=[y,A];(0,t.rotate)(n,g.getRotation());(0,L.pan)(g,n,this.duration_);e.preventDefault();a=!0}}return!a};return d}(L["default"]);J["default"]=Ea};
shadow$provide[181]=function(Ea,z,ob,J){function m(u){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(u)}function l(){if("function"!==typeof WeakMap)return null;var u=new WeakMap;l=function(){return u};return u}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(u){return u&&u.__esModule?u:{"default":u}}(z(88)),
G=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==m(u)&&"function"!==typeof u)return{"default":u};var t=l();if(t&&t.has(u))return t.get(u);var k={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var g=f?Object.getOwnPropertyDescriptor(u,d):null;g&&(g.get||g.set)?Object.defineProperty(k,d,g):k[d]=u[d]}k["default"]=u;t&&t.set(u,k);return k}(z(170)),L=z(173),v=function(){var u=function(t,k){u=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();Ea=function(u){function t(k){var f=u.call(this)||this;k=k?k:{};f.condition_=k.condition?k.condition:L.targetNotEditable;f.delta_=k.delta?k.delta:1;f.duration_=void 0!==k.duration?k.duration:100;return f}v(t,
u);t.prototype.handleEvent=function(k){var f=!1;if(k.type==w["default"].KEYDOWN||k.type==w["default"].KEYPRESS){var d=k.originalEvent,g=d.charCode;!this.condition_(k)||43!=g&&45!=g||(f=43==g?this.delta_:-this.delta_,k=k.map.getView(),(0,G.zoomByDelta)(k,f,void 0,this.duration_),d.preventDefault(),f=!0)}return!f};return t}(G["default"]);J["default"]=Ea};
shadow$provide[182]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(){function m(l,w,G){this.decay_=l;this.minVelocity_=w;this.delay_=G;this.points_=[];this.initialVelocity_=this.angle_=0}m.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};m.prototype.update=function(l,w){this.points_.push(l,w,Date.now())};m.prototype.end=function(){if(6>this.points_.length)return!1;var l=Date.now()-this.delay_,w=this.points_.length-
3;if(this.points_[w+2]<l)return!1;for(var G=w-3;0<G&&this.points_[G+2]>l;)G-=3;l=this.points_[w+2]-this.points_[G+2];if(l<1E3/60)return!1;var L=this.points_[w]-this.points_[G];w=this.points_[w+1]-this.points_[G+1];this.angle_=Math.atan2(w,L);this.initialVelocity_=Math.sqrt(L*L+w*w)/l;return this.initialVelocity_>this.minVelocity_};m.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};m.prototype.getAngle=function(){return this.angle_};return m}();J["default"]=
Ea};
shadow$provide[183]=function(Ea,z,ob,J){function m(f){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return m(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.Mode=void 0;var w=function(f){return f&&f.__esModule?f:{"default":f}}(z(88)),
G=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==m(f)&&"function"!==typeof f)return{"default":f};var d=l();if(d&&d.has(f))return d.get(f);var g={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in f)if(Object.prototype.hasOwnProperty.call(f,e)){var n=a?Object.getOwnPropertyDescriptor(f,e):null;n&&(n.get||n.set)?Object.defineProperty(g,e,n):g[e]=f[e]}g["default"]=f;d&&d.set(f,g);return g}(z(170)),L=z(102),v=z(173),u=z(81),t=function(){var f=function(d,g){f=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}(),k={TRACKPAD:"trackpad",WHEEL:"wheel"};J.Mode=k;Ea=function(f){function d(g){var a=g?g:{};g=f.call(this,a)||this;g.totalDelta_=0;g.lastDelta_=0;g.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;g.duration_=void 0!==
a.duration?a.duration:250;g.timeout_=void 0!==a.timeout?a.timeout:80;g.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;g.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var e=a.condition?a.condition:v.always;g.condition_=a.onFocusOnly?(0,v.all)(v.focusWithTabindex,e):e;g.lastAnchor_=null;g.startTime_=void 0;g.mode_=void 0;g.trackpadEventGap_=400;g.deltaPerZoom_=300;return g}t(d,f);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};d.prototype.handleEvent=function(g){if(!this.condition_(g)||g.type!==w["default"].WHEEL)return!0;var a=g.map,e=g.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=g.coordinate);if(g.type==w["default"].WHEEL){var n=e.deltaY;L.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=L.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}if(0===n)return!1;this.lastDelta_=n;g=Date.now();void 0===this.startTime_&&
(this.startTime_=g);if(!this.mode_||g-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(n)?k.TRACKPAD:k.WHEEL;e=a.getView();if(this.mode_===k.TRACKPAD&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
g,!1;this.totalDelta_+=n;n=Math.max(this.timeout_-(g-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),n);return!1};d.prototype.handleWheelZoom_=function(g){g=g.getView();g.getAnimating()&&g.cancelAnimations();var a=-(0,u.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(g.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,G.zoomByDelta)(g,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};d.prototype.setMouseAnchor=function(g){this.useAnchor_=g;g||(this.lastAnchor_=null)};return d}(G["default"]);J["default"]=Ea};
shadow$provide[184]=function(Ea,z,ob,J){function m(u){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(u)}function l(){if("function"!==typeof WeakMap)return null;var u=new WeakMap;l=function(){return u};return u}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(u){if(u&&u.__esModule)return u;if(null===
u||"object"!==m(u)&&"function"!==typeof u)return{"default":u};var t=l();if(t&&t.has(u))return t.get(u);var k={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var g=f?Object.getOwnPropertyDescriptor(u,d):null;g&&(g.get||g.set)?Object.defineProperty(k,d,g):k[d]=u[d]}k["default"]=u;t&&t.set(u,k);return k}(z(172)),G=z(73),L=z(133),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=
d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();Ea=function(u){function t(k){var f=k?k:{};f.stopDown||(f.stopDown=G.FALSE);k=u.call(this,f)||this;k.anchor_=null;k.lastAngle_=void 0;k.rotating_=!1;k.rotationDelta_=0;k.threshold_=void 0!==f.threshold?f.threshold:.3;k.duration_=void 0!==f.duration?f.duration:250;
return k}v(t,u);t.prototype.handleDragEvent=function(k){var f=0,d=this.targetPointers[0],g=this.targetPointers[1];d=Math.atan2(g.clientY-d.clientY,g.clientX-d.clientX);void 0!==this.lastAngle_&&(f=d-this.lastAngle_,this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;k=k.map;d=k.getView();if(d.getConstraints().rotation!==L.disable){g=k.getViewport().getBoundingClientRect();var a=(0,w.centroid)(this.targetPointers);a[0]-=g.left;
a[1]-=g.top;this.anchor_=k.getCoordinateFromPixelInternal(a);this.rotating_&&(k.render(),d.adjustRotationInternal(f,this.anchor_))}};t.prototype.handleUpEvent=function(k){return 2>this.targetPointers.length?(k.map.getView().endInteraction(this.duration_),!1):!0};t.prototype.handleDownEvent=function(k){return 2<=this.targetPointers.length?(k=k.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||k.getView().beginInteraction(),!0):!1};return t}(w["default"]);
J["default"]=Ea};
shadow$provide[185]=function(Ea,z,ob,J){function m(v){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return m(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(v){if(v&&v.__esModule)return v;if(null===
v||"object"!==m(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var t={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var d=k?Object.getOwnPropertyDescriptor(v,f):null;d&&(d.get||d.set)?Object.defineProperty(t,f,d):t[f]=v[f]}t["default"]=v;u&&u.set(v,t);return t}(z(172)),G=z(73),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=
f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();Ea=function(v){function u(t){var k=t?t:{};k.stopDown||(k.stopDown=G.FALSE);t=v.call(this,k)||this;t.anchor_=null;t.duration_=void 0!==k.duration?k.duration:400;t.lastDistance_=void 0;t.lastScaleDelta_=1;return t}L(u,v);u.prototype.handleDragEvent=function(t){var k=
1,f=this.targetPointers[0],d=this.targetPointers[1],g=f.clientX-d.clientX;f=f.clientY-d.clientY;g=Math.sqrt(g*g+f*f);void 0!==this.lastDistance_&&(k=this.lastDistance_/g);this.lastDistance_=g;t=t.map;g=t.getView();1!=k&&(this.lastScaleDelta_=k);f=t.getViewport().getBoundingClientRect();d=(0,w.centroid)(this.targetPointers);d[0]-=f.left;d[1]-=f.top;this.anchor_=t.getCoordinateFromPixelInternal(d);t.render();g.adjustResolutionInternal(k,this.anchor_)};u.prototype.handleUpEvent=function(t){return 2>
this.targetPointers.length?(t.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};u.prototype.handleDownEvent=function(t){return 2<=this.targetPointers.length?(t=t.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0):!1};return u}(w["default"]);J["default"]=Ea};
shadow$provide[186]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[187]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.DragAndDropEvent=void 0;Ea=m(z(84));var l=m(z(88)),w=m(z(186));ob=m(z(170));var G=z(73),L=z(130),v=z(89),u=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=
f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}(),t=function(k){function f(d,g,a,e){d=k.call(this,d)||this;d.features=a;d.file=g;d.projection=e;return d}u(f,k);return f}(Ea["default"]);J.DragAndDropEvent=t;z=function(k){function f(d){var g=d?d:{};d=k.call(this,{handleEvent:G.TRUE})||this;d.readAsBuffer_=!1;d.formats_=[];for(var a=g.formatConstructors?g.formatConstructors:[],e=0,n=a.length;e<n;++e){var y=a[e];"function"===typeof y&&(y=new y);d.formats_.push(y);d.readAsBuffer_=
d.readAsBuffer_||y.getType()===w["default"].ARRAY_BUFFER}d.projection_=g.projection?(0,L.get)(g.projection):null;d.dropListenKeys_=null;d.source_=g.source||null;d.target=g.target?g.target:null;return d}u(f,k);f.prototype.handleResult_=function(d,g){g=g.target.result;var a=this.getMap(),e=this.projection_;e||(e=a.getView().getProjection());var n;a=this.formats_;for(var y=0,A=a.length;y<A;++y){var C=a[y],N=g;this.readAsBuffer_&&C.getType()!==w["default"].ARRAY_BUFFER&&(void 0===n&&(n=(new TextDecoder).decode(g)),
N=n);if((C=this.tryReadFeatures_(C,N,{featureProjection:e}))&&0<C.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(C));this.dispatchEvent(new t("addfeatures",d,C,e));break}}};f.prototype.registerListeners_=function(){var d=this.getMap();d&&(d=this.target?this.target:d.getViewport(),this.dropListenKeys_=[(0,v.listen)(d,l["default"].DROP,this.handleDrop,this),(0,v.listen)(d,l["default"].DRAGENTER,this.handleStop,this),(0,v.listen)(d,l["default"].DRAGOVER,this.handleStop,this),(0,
v.listen)(d,l["default"].DROP,this.handleStop,this)])};f.prototype.setActive=function(d){!this.getActive()&&d&&this.registerListeners_();this.getActive()&&!d&&this.unregisterListeners_();k.prototype.setActive.call(this,d)};f.prototype.setMap=function(d){this.unregisterListeners_();k.prototype.setMap.call(this,d);this.getActive()&&this.registerListeners_()};f.prototype.tryReadFeatures_=function(d,g,a){try{return d.readFeatures(g,a)}catch(e){return null}};f.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(v.unlistenByKey),this.dropListenKeys_=null)};f.prototype.handleDrop=function(d){d=d.dataTransfer.files;for(var g=0,a=d.length;g<a;++g){var e=d.item(g),n=new FileReader;n.addEventListener(l["default"].LOAD,this.handleResult_.bind(this,e));this.readAsBuffer_?n.readAsArrayBuffer(e):n.readAsText(e)}};f.prototype.handleStop=function(d){d.stopPropagation();d.preventDefault();d.dataTransfer.dropEffect="copy"};return f}(ob["default"]);J["default"]=z};
shadow$provide[188]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(w){return w&&w.__esModule?w:{"default":w}}(z(172));var m=z(173),l=function(){var w=function(G,L){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&(v[t]=u[t])};return w(G,L)};return function(G,L){function v(){this.constructor=G}w(G,L);G.prototype=null===L?Object.create(L):
(v.prototype=L.prototype,new v)}}();z=function(w){function G(L){var v=L?L:{};L=w.call(this,v)||this;L.condition_=v.condition?v.condition:m.shiftKeyOnly;L.lastAngle_=void 0;L.lastMagnitude_=void 0;L.lastScaleDelta_=0;L.duration_=void 0!==v.duration?v.duration:400;return L}l(G,w);G.prototype.handleDragEvent=function(L){if((0,m.mouseOnly)(L)){var v=L.map,u=v.getSize(),t=L.pixel;L=t[0]-u[0]/2;t=u[1]/2-t[1];u=Math.atan2(t,L);L=Math.sqrt(L*L+t*t);v=v.getView();void 0!==this.lastAngle_&&v.adjustRotationInternal(this.lastAngle_-
u);this.lastAngle_=u;void 0!==this.lastMagnitude_&&v.adjustResolutionInternal(this.lastMagnitude_/L);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/L);this.lastMagnitude_=L}};G.prototype.handleUpEvent=function(L){if(!(0,m.mouseOnly)(L))return!0;L.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};G.prototype.handleDownEvent=function(L){return(0,m.mouseOnly)(L)&&this.condition_(L)?(L.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return G}(Ea["default"]);J["default"]=z};
shadow$provide[189]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(119));Ea=m(z(138));var w=z(80),G=z(140),L=z(136),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);
t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k,f,d){var g=u.call(this)||this;void 0!==d&&void 0===f?g.setFlatCoordinates(d,k):g.setCenterAndRadius(k,f?f:0,d);return g}v(t,u);t.prototype.clone=function(){var k=new t(this.flatCoordinates.slice(),void 0,this.layout);k.applyProperties(this);return k};t.prototype.closestPointXY=function(k,f,d,g){var a=this.flatCoordinates;k-=a[0];var e=f-a[1];f=k*k+e*e;if(f<g){0===f?g=0:(g=this.getRadius()/Math.sqrt(f),
d[0]=a[0]+g*k,d[1]=a[1]+g*e,g=2);for(;g<this.stride;++g)d[g]=a[g];d.length=this.stride;return f}return g};t.prototype.containsXY=function(k,f){var d=this.flatCoordinates;k-=d[0];f-=d[1];return k*k+f*f<=this.getRadiusSquared_()};t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};t.prototype.computeExtent=function(k){var f=this.flatCoordinates,d=f[this.stride]-f[0];return(0,w.createOrUpdate)(f[0]-d,f[1]-d,f[0]+d,f[1]+d,k)};t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
t.prototype.getRadiusSquared_=function(){var k=this.flatCoordinates[this.stride]-this.flatCoordinates[0],f=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return k*k+f*f};t.prototype.getType=function(){return l["default"].CIRCLE};t.prototype.intersectsExtent=function(k){var f=this.getExtent();return(0,w.intersects)(k,f)?(f=this.getCenter(),k[0]<=f[0]&&k[2]>=f[0]||k[1]<=f[1]&&k[3]>=f[1]?!0:(0,w.forEachCorner)(k,this.intersectsCoordinate.bind(this))):!1};t.prototype.setCenter=function(k){var f=
this.stride,d=this.flatCoordinates[f]-this.flatCoordinates[0],g=k.slice();g[f]=g[0]+d;for(d=1;d<f;++d)g[f+d]=k[d];this.setFlatCoordinates(this.layout,g);this.changed()};t.prototype.setCenterAndRadius=function(k,f,d){this.setLayout(d,k,0);this.flatCoordinates||(this.flatCoordinates=[]);d=this.flatCoordinates;k=(0,G.deflateCoordinate)(d,0,k,this.stride);d[k++]=d[0]+f;f=1;for(var g=this.stride;f<g;++f)d[k++]=d[f];d.length=k;this.changed()};t.prototype.getCoordinates=function(){return null};t.prototype.setCoordinates=
function(k,f){};t.prototype.setRadius=function(k){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+k;this.changed()};t.prototype.rotate=function(k,f){var d=this.getCenter(),g=this.getStride();this.setCenter((0,L.rotate)(d,0,d.length,g,k,f,d));this.changed()};t.prototype.translate=function(k,f){var d=this.getCenter(),g=this.getStride();this.setCenter((0,L.translate)(d,0,d.length,g,k,f,d));this.changed()};return t}(Ea["default"]);J["default"]=z};
shadow$provide[190]=function(Ea,z,ob,J){function m(k){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return m(k)}function l(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;l=function(){return k};return k}function w(k){if("function"===typeof k)return k;if(Array.isArray(k))var f=k;else(0,v.assert)("function"===typeof k.getZIndex,
41),f=[k];return function(){return f}}Object.defineProperty(J,"__esModule",{value:!0});J.createStyleFunction=w;J["default"]=void 0;var G=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==m(k)&&"function"!==typeof k)return{"default":k};var f=l();if(f&&f.has(k))return f.get(k);var d={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in k)if(Object.prototype.hasOwnProperty.call(k,a)){var e=g?Object.getOwnPropertyDescriptor(k,a):null;e&&(e.get||e.set)?Object.defineProperty(d,
a,e):d[a]=k[a]}d["default"]=k;f&&f.set(k,d);return d}(z(91)),L=function(k){return k&&k.__esModule?k:{"default":k}}(z(88)),v=z(76),u=z(89),t=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();Ea=function(k){function f(d){var g=
k.call(this)||this;g.id_=void 0;g.geometryName_="geometry";g.style_=null;g.styleFunction_=void 0;g.geometryChangeKey_=null;g.addEventListener((0,G.getChangeEventType)(g.geometryName_),g.handleGeometryChanged_);d&&("function"===typeof d.getSimplifiedGeometry?g.setGeometry(d):g.setProperties(d));return g}t(f,k);f.prototype.clone=function(){var d=new f(this.hasProperties()?this.getProperties():null);d.setGeometryName(this.getGeometryName());var g=this.getGeometry();g&&d.setGeometry(g.clone());(g=this.getStyle())&&
d.setStyle(g);return d};f.prototype.getGeometry=function(){return this.get(this.geometryName_)};f.prototype.getId=function(){return this.id_};f.prototype.getGeometryName=function(){return this.geometryName_};f.prototype.getStyle=function(){return this.style_};f.prototype.getStyleFunction=function(){return this.styleFunction_};f.prototype.handleGeometryChange_=function(){this.changed()};f.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,u.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var d=this.getGeometry();d&&(this.geometryChangeKey_=(0,u.listen)(d,L["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};f.prototype.setGeometry=function(d){this.set(this.geometryName_,d)};f.prototype.setStyle=function(d){this.styleFunction_=(this.style_=d)?w(d):void 0;this.changed()};f.prototype.setId=function(d){this.id_=d;this.changed()};f.prototype.setGeometryName=function(d){this.removeEventListener((0,G.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=d;this.addEventListener((0,G.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return f}(G["default"]);J["default"]=Ea};
shadow$provide[191]=function(Ea,z,ob,J){function m(G,L,v,u,t,k){if(v==L)return null;if(t<G[L+u-1])return k?(v=G.slice(L,L+u),v[u-1]=t,v):null;if(G[v-1]<t)return k?(v=G.slice(v-u,v),v[u-1]=t,v):null;if(t==G[L+u-1])return G.slice(L,L+u);L/=u;for(v/=u;L<v;)k=L+v>>1,t<G[(k+1)*u-1]?v=k:L=k+1;v=G[L*u-1];if(t==v)return G.slice((L-1)*u,(L-1)*u+u);k=(t-v)/(G[(L+1)*u-1]-v);v=[];for(var f=0;f<u-1;++f)v.push((0,w.lerp)(G[(L-1)*u+f],G[L*u+f],k));v.push(t);return v}Object.defineProperty(J,"__esModule",{value:!0});
J.interpolatePoint=function(G,L,v,u,t,k,f){var d=(v-L)/u;if(1===d)var g=L;else if(2===d){g=L;var a=t}else if(0!==d){var e=G[L],n=G[L+1],y=0;g=[0];for(d=L+u;d<v;d+=u){var A=G[d],C=G[d+1];y+=Math.sqrt((A-e)*(A-e)+(C-n)*(C-n));g.push(y);e=A;n=C}d=t*y;v=(0,l.binarySearch)(g,d);0>v?(a=(d-g[-v-2])/(g[-v-1]-g[-v-2]),g=L+(-v-2)*u):g=L+v*u}L=1<f?f:2;k=k?k:Array(L);for(d=0;d<L;++d)k[d]=void 0===g?NaN:void 0===a?G[g+d]:(0,w.lerp)(G[g+d],G[g+u+d],a);return k};J.lineStringCoordinateAtM=m;J.lineStringsCoordinateAtM=
function(G,L,v,u,t,k,f){if(f)return m(G,L,v[v.length-1],u,t,k);if(t<G[u-1])return k?(G=G.slice(0,u),G[u-1]=t,G):null;if(G[G.length-1]<t)return k?(G=G.slice(G.length-u),G[u-1]=t,G):null;k=0;for(f=v.length;k<f;++k){var d=v[k];if(L!=d){if(t<G[L+u-1])break;else if(t<=G[d-1])return m(G,L,d,u,t,!1);L=d}}return null};var l=z(72),w=z(81)};
shadow$provide[192]=function(Ea,z,ob,J){function m(l,w,G,L){var v=l[w],u=l[w+1],t=0;for(w+=L;w<G;w+=L){var k=l[w],f=l[w+1];t+=Math.sqrt((k-v)*(k-v)+(f-u)*(f-u));v=k;u=f}return t}Object.defineProperty(J,"__esModule",{value:!0});J.lineStringLength=m;J.linearRingLength=function(l,w,G,L){var v=m(l,w,G,L),u=l[G-L]-l[w];l=l[G-L+1]-l[w+1];return v+=Math.sqrt(u*u+l*l)}};
shadow$provide[193]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(135)),w=m(z(119));Ea=m(z(138));var G=z(139),L=z(80),v=z(140),u=z(141),t=z(72),k=z(148),f=z(142),d=z(191),g=z(149),a=z(192),e=function(){var n=function(y,A){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(C[K]=N[K])};return n(y,
A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();z=function(n){function y(A,C){var N=n.call(this)||this;N.flatMidpoint_=null;N.flatMidpointRevision_=-1;N.maxDelta_=-1;N.maxDeltaRevision_=-1;void 0===C||Array.isArray(A[0])?N.setCoordinates(A,C):N.setFlatCoordinates(C,A);return N}e(y,n);y.prototype.appendCoordinate=function(A){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,A):this.flatCoordinates=A.slice();
this.changed()};y.prototype.clone=function(){var A=new y(this.flatCoordinates.slice(),this.layout);A.applyProperties(this);return A};y.prototype.closestPointXY=function(A,C,N,K){if(K<(0,L.closestSquaredDistanceXY)(this.getExtent(),A,C))return K;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,G.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,G.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,A,C,N,K)};y.prototype.forEachSegment=function(A){return(0,k.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A)};y.prototype.getCoordinateAtM=function(A,C){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM)return null;C=void 0!==C?C:!1;return(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,C)};y.prototype.getCoordinates=function(){return(0,f.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};y.prototype.getCoordinateAt=function(A,C){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,C,this.stride)};y.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};y.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};y.prototype.getSimplifiedGeometryInternal=function(A){var C=[];C.length=(0,u.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A,C,0);return new y(C,l["default"].XY)};y.prototype.getType=function(){return w["default"].LINE_STRING};y.prototype.intersectsExtent=function(A){return(0,g.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,A)};y.prototype.setCoordinates=function(A,C){this.setLayout(C,
A,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,v.deflateCoordinates)(this.flatCoordinates,0,A,this.stride);this.changed()};return y}(Ea["default"]);J["default"]=z};
shadow$provide[194]=function(Ea,z,ob,J){function m(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(135)),w=m(z(119)),G=m(z(193));Ea=m(z(138));var L=z(139),v=z(80),u=z(140),t=z(141),k=z(72),f=z(142),d=z(191),g=z(149),a=function(){var e=function(n,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(A[N]=C[N])};return e(n,
y)};return function(n,y){function A(){this.constructor=n}e(n,y);n.prototype=null===y?Object.create(y):(A.prototype=y.prototype,new A)}}();z=function(e){function n(y,A,C){var N=e.call(this)||this;N.ends_=[];N.maxDelta_=-1;N.maxDeltaRevision_=-1;if(Array.isArray(y[0]))N.setCoordinates(y,A);else if(void 0!==A&&C)N.setFlatCoordinates(A,y),N.ends_=C;else{A=N.getLayout();C=[];for(var K=[],E=0,x=y.length;E<x;++E){var D=y[E];0===E&&(A=D.getLayout());(0,k.extend)(C,D.getFlatCoordinates());K.push(C.length)}N.setFlatCoordinates(A,
C);N.ends_=K}return N}a(n,e);n.prototype.appendLineString=function(y){this.flatCoordinates?(0,k.extend)(this.flatCoordinates,y.getFlatCoordinates().slice()):this.flatCoordinates=y.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};n.prototype.clone=function(){var y=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());y.applyProperties(this);return y};n.prototype.closestPointXY=function(y,A,C,N){if(N<(0,v.closestSquaredDistanceXY)(this.getExtent(),
y,A))return N;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,L.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,L.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,y,A,C,N)};n.prototype.getCoordinateAtM=function(y,A,C){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM||0===this.flatCoordinates.length)return null;A=void 0!==A?A:!1;C=void 0!==C?C:
!1;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,y,A,C)};n.prototype.getCoordinates=function(){return(0,f.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};n.prototype.getEnds=function(){return this.ends_};n.prototype.getLineString=function(y){return 0>y||this.ends_.length<=y?null:new G["default"](this.flatCoordinates.slice(0===y?0:this.ends_[y-1],this.ends_[y]),this.layout)};n.prototype.getLineStrings=function(){for(var y=this.flatCoordinates,
A=this.ends_,C=this.layout,N=[],K=0,E=0,x=A.length;E<x;++E){var D=A[E];K=new G["default"](y.slice(K,D),C);N.push(K);K=D}return N};n.prototype.getFlatMidpoints=function(){for(var y=[],A=this.flatCoordinates,C=0,N=this.ends_,K=this.stride,E=0,x=N.length;E<x;++E){var D=N[E];C=(0,d.interpolatePoint)(A,C,D,K,.5);(0,k.extend)(y,C);C=D}return y};n.prototype.getSimplifiedGeometryInternal=function(y){var A=[],C=[];A.length=(0,t.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,y,A,0,C);return new n(A,
l["default"].XY,C)};n.prototype.getType=function(){return w["default"].MULTI_LINE_STRING};n.prototype.intersectsExtent=function(y){return(0,g.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,y)};n.prototype.setCoordinates=function(y,A){this.setLayout(A,y,2);this.flatCoordinates||(this.flatCoordinates=[]);y=(0,u.deflateCoordinatesArray)(this.flatCoordinates,0,y,this.stride,this.ends_);this.flatCoordinates.length=0===y.length?0:y[y.length-1];this.changed()};return n}(Ea["default"]);
J["default"]=z};
shadow$provide[195]=function(Ea,z,ob,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(119)),w=m(z(145));Ea=m(z(138));var G=z(80),L=z(140),v=z(72),u=z(142),t=z(81),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=
d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g,a){var e=f.call(this)||this;a&&!Array.isArray(g[0])?e.setFlatCoordinates(a,g):e.setCoordinates(g,a);return e}k(d,f);d.prototype.appendPoint=function(g){this.flatCoordinates?(0,v.extend)(this.flatCoordinates,g.getFlatCoordinates()):this.flatCoordinates=g.getFlatCoordinates().slice();this.changed()};d.prototype.clone=function(){var g=new d(this.flatCoordinates.slice(),this.layout);g.applyProperties(this);
return g};d.prototype.closestPointXY=function(g,a,e,n){if(n<(0,G.closestSquaredDistanceXY)(this.getExtent(),g,a))return n;for(var y=this.flatCoordinates,A=this.stride,C=0,N=y.length;C<N;C+=A){var K=(0,t.squaredDistance)(g,a,y[C],y[C+1]);if(K<n){n=K;for(K=0;K<A;++K)e[K]=y[C+K];e.length=A}}return n};d.prototype.getCoordinates=function(){return(0,u.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(g){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>g||a<=g?null:new w["default"](this.flatCoordinates.slice(g*this.stride,(g+1)*this.stride),this.layout)};d.prototype.getPoints=function(){for(var g=this.flatCoordinates,a=this.layout,e=this.stride,n=[],y=0,A=g.length;y<A;y+=e){var C=new w["default"](g.slice(y,y+e),a);n.push(C)}return n};d.prototype.getType=function(){return l["default"].MULTI_POINT};d.prototype.intersectsExtent=function(g){for(var a=this.flatCoordinates,e=this.stride,n=0,y=a.length;n<y;n+=e){var A=a[n],C=a[n+
1];if((0,G.containsXY)(g,A,C))return!0}return!1};d.prototype.setCoordinates=function(g,a){this.setLayout(a,g,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,L.deflateCoordinates)(this.flatCoordinates,0,g,this.stride);this.changed()};return d}(Ea["default"]);J["default"]=z};
shadow$provide[196]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.linearRingss=function(l,w,G,L){var v=[];(0,m.createEmpty)();for(var u=0,t=G.length;u<t;++u){var k=G[u];w=(0,m.createOrUpdateFromFlatCoordinates)(l,w,k[0],L);v.push((w[0]+w[2])/2,(w[1]+w[3])/2);w=k[k.length-1]}return v};var m=z(80)};
shadow$provide[197]=function(Ea,z,ob,J){function m(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(135)),w=m(z(119)),G=m(z(195)),L=m(z(152));Ea=m(z(138));var v=z(139),u=z(80),t=z(140),k=z(72),f=z(147),d=z(142),g=z(149),a=z(151),e=z(143),n=z(196),y=z(146),A=z(141),C=function(){var N=function(K,E){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,D){x.__proto__=D}||function(x,D){for(var H in D)Object.prototype.hasOwnProperty.call(D,
H)&&(x[H]=D[H])};return N(K,E)};return function(K,E){function x(){this.constructor=K}N(K,E);K.prototype=null===E?Object.create(E):(x.prototype=E.prototype,new x)}}();z=function(N){function K(E,x,D){var H=N.call(this)||this;H.endss_=[];H.flatInteriorPointsRevision_=-1;H.flatInteriorPoints_=null;H.maxDelta_=-1;H.maxDeltaRevision_=-1;H.orientedRevision_=-1;H.orientedFlatCoordinates_=null;if(!D&&!Array.isArray(E[0])){x=H.getLayout();var S=E;E=[];D=[];for(var U=0,ia=S.length;U<ia;++U){var fa=S[U];0===
U&&(x=fa.getLayout());for(var ja=E.length,la=fa.getEnds(),da=0,O=la.length;da<O;++da)la[da]+=ja;(0,k.extend)(E,fa.getFlatCoordinates());D.push(la)}}void 0!==x&&D?(H.setFlatCoordinates(x,E),H.endss_=D):H.setCoordinates(E,x);return H}C(K,N);K.prototype.appendPolygon=function(E){if(this.flatCoordinates){var x=this.flatCoordinates.length;(0,k.extend)(this.flatCoordinates,E.getFlatCoordinates());E=E.getEnds().slice();for(var D=0,H=E.length;D<H;++D)E[D]+=x}else this.flatCoordinates=E.getFlatCoordinates().slice(),
E=E.getEnds().slice(),this.endss_.push();this.endss_.push(E);this.changed()};K.prototype.clone=function(){for(var E=this.endss_.length,x=Array(E),D=0;D<E;++D)x[D]=this.endss_[D].slice();E=new K(this.flatCoordinates.slice(),this.layout,x);E.applyProperties(this);return E};K.prototype.closestPointXY=function(E,x,D,H){if(H<(0,u.closestSquaredDistanceXY)(this.getExtent(),E,x))return H;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.multiArrayMaxSquaredDelta)(this.flatCoordinates,
0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,v.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,E,x,D,H)};K.prototype.containsXY=function(E,x){return(0,y.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,E,x)};K.prototype.getArea=function(){return(0,e.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};K.prototype.getCoordinates=function(E){if(void 0!==
E){var x=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(x,0,this.endss_,this.stride,E)}else x=this.flatCoordinates;return(0,d.inflateMultiCoordinatesArray)(x,0,this.endss_,this.stride)};K.prototype.getEndss=function(){return this.endss_};K.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var E=(0,n.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,f.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride,E);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};K.prototype.getInteriorPoints=function(){return new G["default"](this.getFlatInteriorPoints().slice(),l["default"].XYM)};K.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var E=this.flatCoordinates;(0,a.linearRingssAreOriented)(E,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=E:(this.orientedFlatCoordinates_=E.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};K.prototype.getSimplifiedGeometryInternal=function(E){var x=[],D=[];x.length=(0,A.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(E),x,0,D);return new K(x,l["default"].XY,D)};K.prototype.getPolygon=function(E){if(0>E||this.endss_.length<=E)return null;if(0===E)var x=0;else x=this.endss_[E-1],x=x[x.length-
1];E=this.endss_[E].slice();var D=E[E.length-1];if(0!==x)for(var H=0,S=E.length;H<S;++H)E[H]-=x;return new L["default"](this.flatCoordinates.slice(x,D),this.layout,E)};K.prototype.getPolygons=function(){for(var E=this.layout,x=this.flatCoordinates,D=this.endss_,H=[],S=0,U=0,ia=D.length;U<ia;++U){var fa=D[U].slice(),ja=fa[fa.length-1];if(0!==S)for(var la=0,da=fa.length;la<da;++la)fa[la]-=S;S=new L["default"](x.slice(S,ja),E,fa);H.push(S);S=ja}return H};K.prototype.getType=function(){return w["default"].MULTI_POLYGON};
K.prototype.intersectsExtent=function(E){return(0,g.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,E)};K.prototype.setCoordinates=function(E,x){this.setLayout(x,E,3);this.flatCoordinates||(this.flatCoordinates=[]);E=(0,t.deflateMultiCoordinatesArray)(this.flatCoordinates,0,E,this.stride,this.endss_);0===E.length?this.flatCoordinates.length=0:(E=E[E.length-1],this.flatCoordinates.length=0===E.length?0:E[E.length-1]);this.changed()};return K}(Ea["default"]);
J["default"]=z};
shadow$provide[198]=function(Ea,z,ob,J){!function(m,l){"object"==typeof J&&"undefined"!=typeof ob?ob.exports=l():"function"==typeof define&&define.amd?define(l):(m=m||self).RBush=l()}(this,function(){function m(y,A,C,N,K){!function ia(x,D,H,S,U){for(;S>H;){if(600<S-H){var fa=S-H+1,ja=D-H+1,la=Math.log(fa),da=.5*Math.exp(2*la/3);la=.5*Math.sqrt(la*da*(fa-da)/fa)*(0>ja-fa/2?-1:1);ia(x,D,Math.max(H,Math.floor(D-ja*da/fa+la)),Math.min(S,Math.floor(D+(fa-ja)*da/fa+la)),U)}fa=x[D];ja=H;da=S;l(x,H,D);for(0<
U(x[S],fa)&&l(x,H,S);ja<da;){l(x,ja,da);ja++;for(da--;0>U(x[ja],fa);)ja++;for(;0<U(x[da],fa);)da--}0===U(x[H],fa)?l(x,H,da):l(x,++da,S);da<=D&&(H=da+1);D<=da&&(S=da-1)}}(y,A,C||0,N||y.length-1,K||w)}function l(y,A,C){var N=y[A];y[A]=y[C];y[C]=N}function w(y,A){return y<A?-1:y>A?1:0}function G(y,A){L(y,0,y.children.length,A,y)}function L(y,A,C,N,K){K||(K=a(null));K.minX=1/0;K.minY=1/0;K.maxX=-1/0;for(K.maxY=-1/0;A<C;A++){var E=y.children[A];v(K,y.leaf?N(E):E)}return K}function v(y,A){return y.minX=
Math.min(y.minX,A.minX),y.minY=Math.min(y.minY,A.minY),y.maxX=Math.max(y.maxX,A.maxX),y.maxY=Math.max(y.maxY,A.maxY),y}function u(y,A){return y.minX-A.minX}function t(y,A){return y.minY-A.minY}function k(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function f(y){return y.maxX-y.minX+(y.maxY-y.minY)}function d(y,A){return y.minX<=A.minX&&y.minY<=A.minY&&A.maxX<=y.maxX&&A.maxY<=y.maxY}function g(y,A){return A.minX<=y.maxX&&A.minY<=y.maxY&&A.maxX>=y.minX&&A.maxY>=y.minY}function a(y){return{children:y,height:1,
leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function e(y,A,C,N,K){for(var E=[A,C];E.length;)if(!((C=E.pop())-(A=E.pop())<=N)){var x=A+Math.ceil((C-A)/N/2)*N;m(y,x,A,C,K);E.push(A,x,x,C)}}var n=function(y){void 0===y&&(y=9);this._maxEntries=Math.max(4,y);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(y){var A=this.data,C=[];if(!g(y,A))return C;for(var N=this.toBBox,K=[];A;){for(var E=
0;E<A.children.length;E++){var x=A.children[E],D=A.leaf?N(x):x;g(y,D)&&(A.leaf?C.push(x):d(y,D)?this._all(x,C):K.push(x))}A=K.pop()}return C},n.prototype.collides=function(y){var A=this.data;if(!g(y,A))return!1;for(var C=[];A;){for(var N=0;N<A.children.length;N++){var K=A.children[N],E=A.leaf?this.toBBox(K):K;if(g(y,E)){if(A.leaf||d(y,E))return!0;C.push(K)}}A=C.pop()}return!1},n.prototype.load=function(y){if(!y||!y.length)return this;if(y.length<this._minEntries){for(var A=0;A<y.length;A++)this.insert(y[A]);
return this}y=this._build(y.slice(),0,y.length-1,0);this.data.children.length?this.data.height===y.height?this._splitRoot(this.data,y):(this.data.height<y.height&&(A=this.data,this.data=y,y=A),this._insert(y,this.data.height-y.height-1,!0)):this.data=y;return this},n.prototype.insert=function(y){return y&&this._insert(y,this.data.height-1),this},n.prototype.clear=function(){return this.data=a([]),this},n.prototype.remove=function(y,A){if(!y)return this;for(var C,N,K,E=this.data,x=this.toBBox(y),D=
[],H=[];E||D.length;){if(E||(E=D.pop(),N=D[D.length-1],C=H.pop(),K=!0),E.leaf){a:{var S=y;var U=E.children,ia=A;if(ia){for(var fa=0;fa<U.length;fa++)if(ia(S,U[fa])){S=fa;break a}S=-1}else S=U.indexOf(S)}if(-1!==S)return E.children.splice(S,1),D.push(E),this._condense(D),this}K||E.leaf||!d(E,x)?N?(C++,E=N.children[C],K=!1):E=null:(D.push(E),H.push(C),C=0,N=E,E=E.children[0])}return this},n.prototype.toBBox=function(y){return y},n.prototype.compareMinX=function(y,A){return y.minX-A.minX},n.prototype.compareMinY=
function(y,A){return y.minY-A.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(y){return this.data=y,this},n.prototype._all=function(y,A){for(var C=[];y;)y.leaf?A.push.apply(A,y.children):C.push.apply(C,y.children),y=C.pop();return A},n.prototype._build=function(y,A,C,N){var K,E=C-A+1,x=this._maxEntries;if(E<=x)return G(K=a(y.slice(A,C+1)),this.toBBox),K;N||(N=Math.ceil(Math.log(E)/Math.log(x)),x=Math.ceil(E/Math.pow(x,N-1)));(K=a([])).leaf=!1;K.height=N;E=Math.ceil(E/
x);x=E*Math.ceil(Math.sqrt(x));for(e(y,A,C,x,this.compareMinX);A<=C;A+=x){var D=Math.min(A+x-1,C);e(y,A,D,E,this.compareMinY);for(var H=A;H<=D;H+=E)K.children.push(this._build(y,H,Math.min(H+E-1,D),N-1))}return G(K,this.toBBox),K},n.prototype._chooseSubtree=function(y,A,C,N){for(;N.push(A),!A.leaf&&N.length-1!==C;){for(var K=1/0,E=1/0,x=void 0,D=0;D<A.children.length;D++){var H=A.children[D],S=k(H),U=(ia=y,fa=H,(Math.max(fa.maxX,ia.maxX)-Math.min(fa.minX,ia.minX))*(Math.max(fa.maxY,ia.maxY)-Math.min(fa.minY,
ia.minY))-S);U<E?(E=U,K=S<K?S:K,x=H):U===E&&S<K&&(K=S,x=H)}A=x||A.children[0]}var ia,fa;return A},n.prototype._insert=function(y,A,C){C=C?y:this.toBBox(y);var N=[],K=this._chooseSubtree(C,this.data,A,N);K.children.push(y);for(v(K,C);0<=A&&N[A].children.length>this._maxEntries;)this._split(N,A),A--;this._adjustParentBBoxes(C,N,A)},n.prototype._split=function(y,A){var C=y[A],N=C.children.length,K=this._minEntries;this._chooseSplitAxis(C,K,N);N=this._chooseSplitIndex(C,K,N);N=a(C.children.splice(N,C.children.length-
N));N.height=C.height;N.leaf=C.leaf;G(C,this.toBBox);G(N,this.toBBox);A?y[A-1].children.push(N):this._splitRoot(C,N)},n.prototype._splitRoot=function(y,A){this.data=a([y,A]);this.data.height=y.height+1;this.data.leaf=!1;G(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(y,A,C){for(var N,K,E,x,D,H,S,U=1/0,ia=1/0,fa=A;fa<=C-A;fa++){var ja=L(y,0,fa,this.toBBox),la=L(y,fa,C,this.toBBox),da=(K=ja,E=la,x=void 0,D=void 0,H=void 0,S=void 0,x=Math.max(K.minX,E.minX),D=Math.max(K.minY,E.minY),
H=Math.min(K.maxX,E.maxX),S=Math.min(K.maxY,E.maxY),Math.max(0,H-x)*Math.max(0,S-D));ja=k(ja)+k(la);da<U?(U=da,N=fa,ia=ja<ia?ja:ia):da===U&&ja<ia&&(ia=ja,N=fa)}return N||C-A},n.prototype._chooseSplitAxis=function(y,A,C){var N=y.leaf?this.compareMinX:u,K=y.leaf?this.compareMinY:t;this._allDistMargin(y,A,C,N)<this._allDistMargin(y,A,C,K)&&y.children.sort(N)},n.prototype._allDistMargin=function(y,A,C,N){y.children.sort(N);N=this.toBBox;for(var K=L(y,0,A,N),E=L(y,C-A,C,N),x=f(K)+f(E),D=A;D<C-A;D++){var H=
y.children[D];v(K,y.leaf?N(H):H);x+=f(K)}for(C=C-A-1;C>=A;C--)K=y.children[C],v(E,y.leaf?N(K):K),x+=f(E);return x},n.prototype._adjustParentBBoxes=function(y,A,C){for(;0<=C;C--)v(A[C],y)},n.prototype._condense=function(y){for(var A=y.length-1,C=void 0;0<=A;A--)0===y[A].children.length?0<A?(C=y[A-1].children).splice(C.indexOf(y[A]),1):this.clear():G(y[A],this.toBBox)},n})};
shadow$provide[199]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[200]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=z(74),l=z(154);Ea=function(){function w(G){this.opacity_=G.opacity;this.rotateWithView_=G.rotateWithView;this.rotation_=G.rotation;this.scale_=G.scale;this.scaleArray_=(0,l.toSize)(G.scale);this.displacement_=G.displacement}w.prototype.clone=function(){var G=this.getScale();return new w({opacity:this.getOpacity(),scale:Array.isArray(G)?G.slice():G,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};w.prototype.getOpacity=function(){return this.opacity_};w.prototype.getRotateWithView=function(){return this.rotateWithView_};w.prototype.getRotation=function(){return this.rotation_};w.prototype.getScale=function(){return this.scale_};w.prototype.getScaleArray=function(){return this.scaleArray_};w.prototype.getDisplacement=function(){return this.displacement_};w.prototype.getAnchor=function(){return(0,m["abstract"])()};w.prototype.getImage=function(G){return(0,
m["abstract"])()};w.prototype.getHitDetectionImage=function(){return(0,m["abstract"])()};w.prototype.getPixelRatio=function(G){return 1};w.prototype.getImageState=function(){return(0,m["abstract"])()};w.prototype.getImageSize=function(){return(0,m["abstract"])()};w.prototype.getHitDetectionImageSize=function(){return(0,m["abstract"])()};w.prototype.getOrigin=function(){return(0,m["abstract"])()};w.prototype.getSize=function(){return(0,m["abstract"])()};w.prototype.setOpacity=function(G){this.opacity_=
G};w.prototype.setRotateWithView=function(G){this.rotateWithView_=G};w.prototype.setRotation=function(G){this.rotation_=G};w.prototype.setScale=function(G){this.scale_=G;this.scaleArray_=(0,l.toSize)(G)};w.prototype.listenImageChange=function(G){(0,m["abstract"])()};w.prototype.load=function(){(0,m["abstract"])()};w.prototype.unlistenImageChange=function(G){(0,m["abstract"])()};return w}();J["default"]=Ea};
shadow$provide[201]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.asColorLike=function(l){return Array.isArray(l)?(0,m.toString)(l):l};var m=z(82)};
shadow$provide[202]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(199));Ea=m(z(200));var w=z(82),G=z(201),L=z(103),v=z(104),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=
k}t(k,f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(f){var d=t.call(this,{opacity:1,rotateWithView:void 0!==f.rotateWithView?f.rotateWithView:!1,rotation:void 0!==f.rotation?f.rotation:0,scale:void 0!==f.scale?f.scale:1,displacement:void 0!==f.displacement?f.displacement:[0,0]})||this;d.canvas_={};d.hitDetectionCanvas_=null;d.fill_=void 0!==f.fill?f.fill:null;d.origin_=[0,0];d.points_=f.points;d.radius_=void 0!==f.radius?f.radius:f.radius1;d.radius2_=
f.radius2;d.angle_=void 0!==f.angle?f.angle:0;d.stroke_=void 0!==f.stroke?f.stroke:null;d.anchor_=null;d.size_=null;d.imageSize_=null;d.hitDetectionImageSize_=null;d.render();return d}u(k,t);k.prototype.clone=function(){var f=this.getScale();f=new k({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(f)?f.slice():f,displacement:this.getDisplacement().slice()});f.setOpacity(this.getOpacity());return f};k.prototype.getAnchor=function(){return this.anchor_};k.prototype.getAngle=function(){return this.angle_};k.prototype.getFill=function(){return this.fill_};k.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var f=this.createRenderOptions();this.createHitDetectionCanvas_(f)}return this.hitDetectionCanvas_};k.prototype.getImage=function(f){if(!this.canvas_[f||
1]){var d=this.createRenderOptions(),g=(0,L.createCanvasContext2D)(d.size*f||1,d.size*f||1);this.draw_(d,g,0,0,f||1);this.canvas_[f||1]=g.canvas}return this.canvas_[f||1]};k.prototype.getPixelRatio=function(f){return f};k.prototype.getImageSize=function(){return this.imageSize_};k.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};k.prototype.getImageState=function(){return l["default"].LOADED};k.prototype.getOrigin=function(){return this.origin_};k.prototype.getPoints=
function(){return this.points_};k.prototype.getRadius=function(){return this.radius_};k.prototype.getRadius2=function(){return this.radius2_};k.prototype.getSize=function(){return this.size_};k.prototype.getStroke=function(){return this.stroke_};k.prototype.listenImageChange=function(f){};k.prototype.load=function(){};k.prototype.unlistenImageChange=function(f){};k.prototype.createRenderOptions=function(){var f=v.defaultLineCap,d=v.defaultLineJoin,g=0,a=null,e=0,n=0;if(this.stroke_){var y=this.stroke_.getColor();
null===y&&(y=v.defaultStrokeStyle);y=(0,G.asColorLike)(y);n=this.stroke_.getWidth();void 0===n&&(n=v.defaultLineWidth);a=this.stroke_.getLineDash();e=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=v.defaultLineJoin);f=this.stroke_.getLineCap();void 0===f&&(f=v.defaultLineCap);g=this.stroke_.getMiterLimit();void 0===g&&(g=v.defaultMiterLimit)}return{strokeStyle:y,strokeWidth:n,size:2*(this.radius_+n)+1,lineCap:f,lineDash:a,lineDashOffset:e,lineJoin:d,miterLimit:g}};k.prototype.render=
function(){var f=this.createRenderOptions(),d=(0,L.createCanvasContext2D)(f.size,f.size);this.draw_(f,d,0,0,1);this.canvas_={};this.canvas_[1]=d.canvas;d=d.canvas.width;var g=this.getDisplacement();this.hitDetectionImageSize_=[f.size,f.size];this.createHitDetectionCanvas_(f);this.anchor_=[d/2-g[0],d/2+g[1]];this.size_=[d,d];this.imageSize_=[d,d]};k.prototype.draw_=function(f,d,g,a,e){d.setTransform(e,0,0,e,0,0);d.translate(g,a);d.beginPath();var n=this.points_;if(Infinity===n)d.arc(f.size/2,f.size/
2,this.radius_,0,2*Math.PI,!0);else{var y=void 0!==this.radius2_?this.radius2_:this.radius_;y!==this.radius_&&(n*=2);for(g=0;g<=n;g++)a=2*g*Math.PI/n-Math.PI/2+this.angle_,e=0===g%2?this.radius_:y,d.lineTo(f.size/2+e*Math.cos(a),f.size/2+e*Math.sin(a))}this.fill_&&(g=this.fill_.getColor(),null===g&&(g=v.defaultFillStyle),d.fillStyle=(0,G.asColorLike)(g),d.fill());this.stroke_&&(d.strokeStyle=f.strokeStyle,d.lineWidth=f.strokeWidth,d.setLineDash&&f.lineDash&&(d.setLineDash(f.lineDash),d.lineDashOffset=
f.lineDashOffset),d.lineCap=f.lineCap,d.lineJoin=f.lineJoin,d.miterLimit=f.miterLimit,d.stroke());d.closePath()};k.prototype.createHitDetectionCanvas_=function(f){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var d=this.fill_.getColor(),g=0;"string"===typeof d&&(d=(0,w.asArray)(d));null===d?g=1:Array.isArray(d)&&(g=4===d.length?d[3]:1);0===g&&(d=(0,L.createCanvasContext2D)(f.size,f.size),this.hitDetectionCanvas_=d.canvas,this.drawHitDetectionCanvas_(f,d,0,0))}};k.prototype.drawHitDetectionCanvas_=
function(f,d,g,a){d.translate(g,a);d.beginPath();g=this.points_;if(Infinity===g)d.arc(f.size/2,f.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(g*=2);var e;for(e=0;e<=g;e++){var n=2*e*Math.PI/g-Math.PI/2+this.angle_;var y=0===e%2?this.radius_:a;d.lineTo(f.size/2+y*Math.cos(n),f.size/2+y*Math.sin(n))}}d.fillStyle=v.defaultFillStyle;d.fill();this.stroke_&&(d.strokeStyle=f.strokeStyle,d.lineWidth=f.strokeWidth,f.lineDash&&(d.setLineDash(f.lineDash),
d.lineDashOffset=f.lineDashOffset),d.stroke());d.closePath()};return k}(Ea["default"]);J["default"]=z};
shadow$provide[203]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(l){return l&&l.__esModule?l:{"default":l}}(z(202));var m=function(){var l=function(w,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,v){L.__proto__=v}||function(L,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(L[u]=v[u])};return l(w,G)};return function(w,G){function L(){this.constructor=w}l(w,G);w.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ea=function(l){function w(G){G=G?G:{};return l.call(this,{points:Infinity,fill:G.fill,radius:G.radius,stroke:G.stroke,scale:void 0!==G.scale?G.scale:1,rotation:void 0!==G.rotation?G.rotation:0,rotateWithView:void 0!==G.rotateWithView?G.rotateWithView:!1,displacement:void 0!==G.displacement?G.displacement:[0,0]})||this}m(w,l);w.prototype.clone=function(){var G=this.getScale();G=new w({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(G)?G.slice():G,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});G.setOpacity(this.getOpacity());return G};w.prototype.setRadius=function(G){this.radius_=G;this.render()};return w}(Ea["default"]);J["default"]=Ea};
shadow$provide[204]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(){function m(l){l=l||{};this.color_=void 0!==l.color?l.color:null}m.prototype.clone=function(){var l=this.getColor();return new m({color:Array.isArray(l)?l.slice():l||void 0})};m.prototype.getColor=function(){return this.color_};m.prototype.setColor=function(l){this.color_=l};return m}();J["default"]=Ea};
shadow$provide[205]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(){function m(l){l=l||{};this.color_=void 0!==l.color?l.color:null;this.lineCap_=l.lineCap;this.lineDash_=void 0!==l.lineDash?l.lineDash:null;this.lineDashOffset_=l.lineDashOffset;this.lineJoin_=l.lineJoin;this.miterLimit_=l.miterLimit;this.width_=l.width}m.prototype.clone=function(){var l=this.getColor();return new m({color:Array.isArray(l)?l.slice():l||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};m.prototype.getColor=function(){return this.color_};m.prototype.getLineCap=function(){return this.lineCap_};m.prototype.getLineDash=function(){return this.lineDash_};m.prototype.getLineDashOffset=function(){return this.lineDashOffset_};m.prototype.getLineJoin=function(){return this.lineJoin_};m.prototype.getMiterLimit=
function(){return this.miterLimit_};m.prototype.getWidth=function(){return this.width_};m.prototype.setColor=function(l){this.color_=l};m.prototype.setLineCap=function(l){this.lineCap_=l};m.prototype.setLineDash=function(l){this.lineDash_=l};m.prototype.setLineDashOffset=function(l){this.lineDashOffset_=l};m.prototype.setLineJoin=function(l){this.lineJoin_=l};m.prototype.setMiterLimit=function(l){this.miterLimit_=l};m.prototype.setWidth=function(l){this.width_=l};return m}();J["default"]=Ea};
shadow$provide[206]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(d){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return l(d)}function w(d){return d.getGeometry()}Object.defineProperty(J,"__esModule",{value:!0});J.toFunction=function(d){if("function"!==typeof d){if(Array.isArray(d))var g=d;else(0,t.assert)("function"===
typeof d.getZIndex,41),g=[d];d=function(){return g}}return d};J.createDefaultStyle=function(d,g){f||(d=new L["default"]({color:"rgba(255,255,255,0.4)"}),g=new u["default"]({color:"#3399CC",width:1.25}),f=[new k({image:new G["default"]({fill:d,stroke:g,radius:5}),fill:d,stroke:g})]);return f};J.createEditingStyle=function(){var d={},g=[255,255,255,1],a=[0,153,255,1];d[v["default"].POLYGON]=[new k({fill:new L["default"]({color:[255,255,255,.5]})})];d[v["default"].MULTI_POLYGON]=d[v["default"].POLYGON];
d[v["default"].LINE_STRING]=[new k({stroke:new u["default"]({color:g,width:5})}),new k({stroke:new u["default"]({color:a,width:3})})];d[v["default"].MULTI_LINE_STRING]=d[v["default"].LINE_STRING];d[v["default"].CIRCLE]=d[v["default"].POLYGON].concat(d[v["default"].LINE_STRING]);d[v["default"].POINT]=[new k({image:new G["default"]({radius:6,fill:new L["default"]({color:a}),stroke:new u["default"]({color:g,width:1.5})}),zIndex:Infinity})];d[v["default"].MULTI_POINT]=d[v["default"].POINT];d[v["default"].GEOMETRY_COLLECTION]=
d[v["default"].POLYGON].concat(d[v["default"].LINE_STRING],d[v["default"].POINT]);return d};J["default"]=void 0;var G=m(z(203)),L=m(z(204)),v=m(z(119)),u=m(z(205)),t=z(76),k=function(){function d(g){g=g||{};this.geometry_=null;this.geometryFunction_=w;void 0!==g.geometry&&this.setGeometry(g.geometry);this.fill_=void 0!==g.fill?g.fill:null;this.image_=void 0!==g.image?g.image:null;this.renderer_=void 0!==g.renderer?g.renderer:null;this.stroke_=void 0!==g.stroke?g.stroke:null;this.text_=void 0!==g.text?
g.text:null;this.zIndex_=g.zIndex}d.prototype.clone=function(){var g=this.getGeometry();g&&"object"===l(g)&&(g=g.clone());return new d({geometry:g,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};d.prototype.getRenderer=function(){return this.renderer_};d.prototype.setRenderer=function(g){this.renderer_=g};d.prototype.getGeometry=
function(){return this.geometry_};d.prototype.getGeometryFunction=function(){return this.geometryFunction_};d.prototype.getFill=function(){return this.fill_};d.prototype.setFill=function(g){this.fill_=g};d.prototype.getImage=function(){return this.image_};d.prototype.setImage=function(g){this.image_=g};d.prototype.getStroke=function(){return this.stroke_};d.prototype.setStroke=function(g){this.stroke_=g};d.prototype.getText=function(){return this.text_};d.prototype.setText=function(g){this.text_=
g};d.prototype.getZIndex=function(){return this.zIndex_};d.prototype.setGeometry=function(g){"function"===typeof g?this.geometryFunction_=g:"string"===typeof g?this.geometryFunction_=function(a){return a.get(g)}:g?void 0!==g&&(this.geometryFunction_=function(){return g}):this.geometryFunction_=w;this.geometry_=g};d.prototype.setZIndex=function(g){this.zIndex_=g};return d}(),f=null;J["default"]=k};
shadow$provide[207]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(96));var l=m(z(198)),w=z(86),G=z(206),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t){t=t?t:{};var k=(0,w.assign)({},t);delete k.style;delete k.renderBuffer;delete k.updateWhileAnimating;delete k.updateWhileInteracting;k=v.call(this,k)||this;k.declutter_=void 0!==t.declutter?t.declutter:!1;k.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100;k.style_=null;k.styleFunction_=void 0;k.setStyle(t.style);k.updateWhileAnimating_=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1;k.updateWhileInteracting_=
void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1;return k}L(u,v);u.prototype.getDeclutter=function(){return this.declutter_};u.prototype.getFeatures=function(t){return v.prototype.getFeatures.call(this,t)};u.prototype.getRenderBuffer=function(){return this.renderBuffer_};u.prototype.getRenderOrder=function(){return this.get("renderOrder")};u.prototype.getStyle=function(){return this.style_};u.prototype.getStyleFunction=function(){return this.styleFunction_};u.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};u.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};u.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new l["default"](9));this.getRenderer().renderDeclutter(t)};u.prototype.setRenderOrder=function(t){this.set("renderOrder",t)};u.prototype.setStyle=function(t){this.style_=void 0!==t?t:G.createDefaultStyle;this.styleFunction_=null===t?void 0:(0,G.toFunction)(this.style_);this.changed()};return u}(Ea["default"]);
J["default"]=z};
shadow$provide[208]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};J.fillInstruction=[Ea.FILL];J.strokeInstruction=[Ea.STROKE];J.beginPathInstruction=[Ea.BEGIN_PATH];J.closePathInstruction=[Ea.CLOSE_PATH];J["default"]=Ea};
shadow$provide[209]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(){function m(){}m.prototype.drawCustom=function(l,w,G){};m.prototype.drawGeometry=function(l){};m.prototype.setStyle=function(l){};m.prototype.drawCircle=function(l,w){};m.prototype.drawFeature=function(l,w){};m.prototype.drawGeometryCollection=function(l,w){};m.prototype.drawLineString=function(l,w){};m.prototype.drawMultiLineString=function(l,w){};m.prototype.drawMultiPoint=function(l,
w){};m.prototype.drawMultiPolygon=function(l,w){};m.prototype.drawPoint=function(l,w){};m.prototype.drawPolygon=function(l,w){};m.prototype.drawText=function(l,w){};m.prototype.setFillStrokeStyle=function(l,w){};m.prototype.setImageStyle=function(l,w){};m.prototype.setTextStyle=function(l,w){};return m}();J["default"]=Ea};
shadow$provide[210]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(208)),w=m(z(119)),G=m(z(79));Ea=m(z(209));var L=z(201),v=z(80),u=z(104),t=z(72),k=z(142),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a,e,n,y){var A=d.call(this)||this;A.tolerance=a;A.maxExtent=e;A.pixelRatio=y;A.maxLineWidth=0;A.resolution=n;A.beginGeometryInstruction1_=null;A.beginGeometryInstruction2_=null;A.bufferedMaxExtent_=null;A.instructions=[];A.coordinates=[];A.tmpCoordinate_=[];A.hitDetectionInstructions=[];A.state={};return A}f(g,d);g.prototype.applyPixelRatio=function(a){var e=this.pixelRatio;return 1==e?a:a.map(function(n){return n*
e})};g.prototype.appendFlatPointCoordinates=function(a,e){for(var n=this.getBufferedMaxExtent(),y=this.tmpCoordinate_,A=this.coordinates,C=A.length,N=0,K=a.length;N<K;N+=e)y[0]=a[N],y[1]=a[N+1],(0,v.containsCoordinate)(n,y)&&(A[C++]=y[0],A[C++]=y[1]);return C};g.prototype.appendFlatLineCoordinates=function(a,e,n,y,A,C){var N=this.coordinates,K=N.length,E=this.getBufferedMaxExtent();C&&(e+=y);C=a[e];var x=a[e+1],D=this.tmpCoordinate_,H=!0,S;for(S=e+y;S<n;S+=y){D[0]=a[S];D[1]=a[S+1];var U=(0,v.coordinateRelationship)(E,
D);U!==ia?(H&&(N[K++]=C,N[K++]=x,H=!1),N[K++]=D[0],N[K++]=D[1]):U===G["default"].INTERSECTING?(N[K++]=D[0],N[K++]=D[1],H=!1):H=!0;C=D[0];x=D[1];var ia=U}if(A&&H||S===e+y)N[K++]=C,N[K++]=x;return K};g.prototype.drawCustomCoordinates_=function(a,e,n,y,A){for(var C=0,N=n.length;C<N;++C){var K=n[C];e=this.appendFlatLineCoordinates(a,e,K,y,!1,!1);A.push(e);e=K}return e};g.prototype.drawCustom=function(a,e,n){this.beginGeometry(a,e);var y=a.getType(),A=a.getStride(),C=this.coordinates.length,N;if(y==w["default"].MULTI_POLYGON){y=
a.getOrientedFlatCoordinates();var K=[];for(var E=a.getEndss(),x=N=0,D=E.length;x<D;++x){var H=[];N=this.drawCustomCoordinates_(y,N,E[x],A,H);K.push(H)}this.instructions.push([l["default"].CUSTOM,C,K,a,n,k.inflateMultiCoordinatesArray])}else y==w["default"].POLYGON||y==w["default"].MULTI_LINE_STRING?(K=[],y=y==w["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(y,0,a.getEnds(),A,K),this.instructions.push([l["default"].CUSTOM,C,K,a,n,k.inflateCoordinatesArray])):
y==w["default"].LINE_STRING||y==w["default"].CIRCLE?(y=a.getFlatCoordinates(),A=this.appendFlatLineCoordinates(y,0,y.length,A,!1,!1),this.instructions.push([l["default"].CUSTOM,C,A,a,n,k.inflateCoordinates])):y==w["default"].MULTI_POINT?(y=a.getFlatCoordinates(),A=this.appendFlatPointCoordinates(y,A),A>C&&this.instructions.push([l["default"].CUSTOM,C,A,a,n,k.inflateCoordinates])):y==w["default"].POINT&&(y=a.getFlatCoordinates(),this.coordinates.push(y[0],y[1]),A=this.coordinates.length,this.instructions.push([l["default"].CUSTOM,
C,A,a,n]));this.endGeometry(e)};g.prototype.beginGeometry=function(a,e){this.beginGeometryInstruction1_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};g.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};g.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var e,n=a.length,y=-1;for(e=0;e<n;++e){var A=a[e];var C=A[0];C==l["default"].END_GEOMETRY?y=e:C==l["default"].BEGIN_GEOMETRY&&(A[2]=e,(0,t.reverseSubArray)(this.hitDetectionInstructions,y,e),y=-1)}};g.prototype.setFillStrokeStyle=function(a,e){var n=this.state;a?(a=a.getColor(),n.fillStyle=(0,L.asColorLike)(a?a:u.defaultFillStyle)):n.fillStyle=void 0;e?(a=e.getColor(),n.strokeStyle=(0,L.asColorLike)(a?a:u.defaultStrokeStyle),a=e.getLineCap(),
n.lineCap=void 0!==a?a:u.defaultLineCap,a=e.getLineDash(),n.lineDash=a?a.slice():u.defaultLineDash,a=e.getLineDashOffset(),n.lineDashOffset=a?a:u.defaultLineDashOffset,a=e.getLineJoin(),n.lineJoin=void 0!==a?a:u.defaultLineJoin,a=e.getWidth(),n.lineWidth=void 0!==a?a:u.defaultLineWidth,e=e.getMiterLimit(),n.miterLimit=void 0!==e?e:u.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,
n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)};g.prototype.createFill=function(a){a=a.fillStyle;var e=[l["default"].SET_FILL_STYLE,a];"string"!==typeof a&&e.push(!0);return e};g.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};g.prototype.createStroke=function(a){return[l["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
g.prototype.updateFillStyle=function(a,e){var n=a.fillStyle;if("string"!==typeof n||a.currentFillStyle!=n)void 0!==n&&this.instructions.push(e.call(this,a)),a.currentFillStyle=n};g.prototype.updateStrokeStyle=function(a,e){var n=a.strokeStyle,y=a.lineCap,A=a.lineDash,C=a.lineDashOffset,N=a.lineJoin,K=a.lineWidth,E=a.miterLimit;if(a.currentStrokeStyle!=n||a.currentLineCap!=y||A!=a.currentLineDash&&!(0,t.equals)(a.currentLineDash,A)||a.currentLineDashOffset!=C||a.currentLineJoin!=N||a.currentLineWidth!=
K||a.currentMiterLimit!=E)void 0!==n&&e.call(this,a),a.currentStrokeStyle=n,a.currentLineCap=y,a.currentLineDash=A,a.currentLineDashOffset=C,a.currentLineJoin=N,a.currentLineWidth=K,a.currentMiterLimit=E};g.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[l["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};g.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,v.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,v.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return g}(Ea["default"]);J["default"]=z};
shadow$provide[211]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(210));var l=m(z(208)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v,u,t,k){v=G.call(this,v,u,t,k)||this;v.hitDetectionImage_=null;v.image_=null;v.imagePixelRatio_=void 0;v.anchorX_=void 0;v.anchorY_=void 0;v.height_=void 0;v.opacity_=void 0;v.originX_=void 0;v.originY_=void 0;v.rotateWithView_=void 0;v.rotation_=void 0;v.scale_=void 0;v.width_=void 0;v.declutterImageWithText_=void 0;return v}w(L,G);L.prototype.drawPoint=function(v,u){if(this.image_){this.beginGeometry(v,u);var t=v.getFlatCoordinates(),
k=v.getStride();v=this.coordinates.length;t=this.appendFlatPointCoordinates(t,k);this.instructions.push([l["default"].DRAW_IMAGE,v,t,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,v,t,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(u)}};L.prototype.drawMultiPoint=function(v,u){if(this.image_){this.beginGeometry(v,u);var t=v.getFlatCoordinates(),k=v.getStride();v=this.coordinates.length;t=this.appendFlatPointCoordinates(t,k);this.instructions.push([l["default"].DRAW_IMAGE,
v,t,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,v,t,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(u)}};L.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return G.prototype.finish.call(this)};L.prototype.setImageStyle=
function(v,u){var t=v.getAnchor(),k=v.getSize(),f=v.getHitDetectionImage(),d=v.getImage(this.pixelRatio),g=v.getOrigin();this.imagePixelRatio_=v.getPixelRatio(this.pixelRatio);this.anchorX_=t[0];this.anchorY_=t[1];this.hitDetectionImage_=f;this.image_=d;this.height_=k[1];this.opacity_=v.getOpacity();this.originX_=g[0];this.originY_=g[1];this.rotateWithView_=v.getRotateWithView();this.rotation_=v.getRotation();this.scale_=v.getScaleArray();this.width_=k[0];this.declutterImageWithText_=u};return L}(Ea["default"]);
J["default"]=z};
shadow$provide[212]=function(Ea,z,ob,J){function m(L){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return m(L)}function l(){if("function"!==typeof WeakMap)return null;var L=new WeakMap;l=function(){return L};return L}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(L){return L&&L.__esModule?L:{"default":L}}(z(210));
var w=function(L){if(L&&L.__esModule)return L;if(null===L||"object"!==m(L)&&"function"!==typeof L)return{"default":L};var v=l();if(v&&v.has(L))return v.get(L);var u={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in L)if(Object.prototype.hasOwnProperty.call(L,k)){var f=t?Object.getOwnPropertyDescriptor(L,k):null;f&&(f.get||f.set)?Object.defineProperty(u,k,f):u[k]=L[k]}u["default"]=L;v&&v.set(L,u);return u}(z(208)),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u,t,k,f){return L.call(this,u,t,k,f)||this}G(v,L);v.prototype.drawFlatCoordinates_=function(u,t,k,f){var d=this.coordinates.length;u=this.appendFlatLineCoordinates(u,t,k,f,!1,!1);d=[w["default"].MOVE_TO_LINE_TO,
d,u];this.instructions.push(d);this.hitDetectionInstructions.push(d);return k};v.prototype.drawLineString=function(u,t){var k=this.state,f=k.lineWidth;void 0!==k.strokeStyle&&void 0!==f&&(this.updateStrokeStyle(k,this.applyStroke),this.beginGeometry(u,t),this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,k.strokeStyle,k.lineWidth,k.lineCap,k.lineJoin,k.miterLimit,k.lineDash,k.lineDashOffset],w.beginPathInstruction),k=u.getFlatCoordinates(),u=u.getStride(),this.drawFlatCoordinates_(k,
0,k.length,u),this.hitDetectionInstructions.push(w.strokeInstruction),this.endGeometry(t))};v.prototype.drawMultiLineString=function(u,t){var k=this.state,f=k.lineWidth;if(void 0!==k.strokeStyle&&void 0!==f){this.updateStrokeStyle(k,this.applyStroke);this.beginGeometry(u,t);this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,k.strokeStyle,k.lineWidth,k.lineCap,k.lineJoin,k.miterLimit,k.lineDash,k.lineDashOffset],w.beginPathInstruction);k=u.getEnds();f=u.getFlatCoordinates();u=u.getStride();
for(var d=0,g=0,a=k.length;g<a;++g)d=this.drawFlatCoordinates_(f,d,k[g],u);this.hitDetectionInstructions.push(w.strokeInstruction);this.endGeometry(t)}};v.prototype.finish=function(){var u=this.state;void 0!=u.lastStroke&&u.lastStroke!=this.coordinates.length&&this.instructions.push(w.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return L.prototype.finish.call(this)};v.prototype.applyStroke=function(u){void 0!=u.lastStroke&&u.lastStroke!=this.coordinates.length&&(this.instructions.push(w.strokeInstruction),
u.lastStroke=this.coordinates.length);u.lastStroke=0;L.prototype.applyStroke.call(this,u);this.instructions.push(w.beginPathInstruction)};return v}(Ea["default"]);J["default"]=z};
shadow$provide[213]=function(Ea,z,ob,J){function m(u){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return m(u)}function l(){if("function"!==typeof WeakMap)return null;var u=new WeakMap;l=function(){return u};return u}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(u){return u&&u.__esModule?u:{"default":u}}(z(210));
var w=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==m(u)&&"function"!==typeof u)return{"default":u};var t=l();if(t&&t.has(u))return t.get(u);var k={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in u)if(Object.prototype.hasOwnProperty.call(u,d)){var g=f?Object.getOwnPropertyDescriptor(u,d):null;g&&(g.get||g.set)?Object.defineProperty(k,d,g):k[d]=u[d]}k["default"]=u;t&&t.set(u,k);return k}(z(208)),G=z(104),L=z(141),v=function(){var u=function(t,k){u=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k,f,d,g){return u.call(this,k,f,d,g)||this}v(t,u);t.prototype.drawFlatCoordinatess_=function(k,f,d,g){var a=this.state,e=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var n=d.length;
this.instructions.push(w.beginPathInstruction);this.hitDetectionInstructions.push(w.beginPathInstruction);for(var y=0;y<n;++y){var A=d[y],C=this.coordinates.length;f=this.appendFlatLineCoordinates(k,f,A,g,!0,!a);f=[w["default"].MOVE_TO_LINE_TO,C,f];this.instructions.push(f);this.hitDetectionInstructions.push(f);a&&(this.instructions.push(w.closePathInstruction),this.hitDetectionInstructions.push(w.closePathInstruction));f=A}e&&(this.instructions.push(w.fillInstruction),this.hitDetectionInstructions.push(w.fillInstruction));
a&&(this.instructions.push(w.strokeInstruction),this.hitDetectionInstructions.push(w.strokeInstruction));return f};t.prototype.drawCircle=function(k,f){var d=this.state,g=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==g){this.setFillStrokeStyles_();this.beginGeometry(k,f);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,G.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,
d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);g=k.getFlatCoordinates();k=k.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(g,0,g.length,k,!1,!1);g=[w["default"].CIRCLE,a];this.instructions.push(w.beginPathInstruction,g);this.hitDetectionInstructions.push(w.beginPathInstruction,g);void 0!==d.fillStyle&&(this.instructions.push(w.fillInstruction),this.hitDetectionInstructions.push(w.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(w.strokeInstruction),
this.hitDetectionInstructions.push(w.strokeInstruction));this.endGeometry(f)}};t.prototype.drawPolygon=function(k,f){var d=this.state,g=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==g)this.setFillStrokeStyles_(),this.beginGeometry(k,f),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,G.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,
d.lineDashOffset]),d=k.getEnds(),g=k.getOrientedFlatCoordinates(),k=k.getStride(),this.drawFlatCoordinatess_(g,0,d,k),this.endGeometry(f)};t.prototype.drawMultiPolygon=function(k,f){var d=this.state,g=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==g){this.setFillStrokeStyles_();this.beginGeometry(k,f);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,G.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,
d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=k.getEndss();g=k.getOrientedFlatCoordinates();k=k.getStride();for(var a=0,e=0,n=d.length;e<n;++e)a=this.drawFlatCoordinatess_(g,a,d[e],k);this.endGeometry(f)}};t.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var k=this.tolerance;if(0!==k)for(var f=this.coordinates,d=0,g=f.length;d<g;++d)f[d]=(0,L.snap)(f[d],k);return u.prototype.finish.call(this)};t.prototype.setFillStrokeStyles_=
function(){var k=this.state;void 0!==k.fillStyle&&this.updateFillStyle(k,this.createFill);void 0!==k.strokeStyle&&this.updateStrokeStyle(k,this.applyStroke)};return t}(Ea["default"]);J["default"]=z};
shadow$provide[214]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={POINT:"point",LINE:"line"}};
shadow$provide[215]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.matchingChunk=function(m,l,w,G,L){for(var v=w,u=w,t=0,k=0,f=w,d,g,a,e,n,y;w<G;w+=L){var A=l[w],C=l[w+1];void 0!==a&&(a=A-a,e=C-e,g=Math.sqrt(a*a+e*e),void 0!==n&&(k+=d,d=Math.acos((n*a+y*e)/(d*g)),d>m&&(k>t&&(t=k,v=f,u=w),k=0,f=w-L)),d=g,n=a,y=e);a=A;e=C}return k+g>t?[f,w]:[v,u]}};
shadow$provide[216]=function(Ea,z,ob,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.TEXT_ALIGN=void 0;Ea=m(z(210));var l=m(z(208)),w=m(z(119)),G=m(z(214)),L=z(201),v=z(104),u=z(74),t=z(80),k=z(215),f=function(){var g=function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,e)};return function(a,
e){function n(){this.constructor=a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};J.TEXT_ALIGN=d;z=function(g){function a(e,n,y,A){e=g.call(this,e,n,y,A)||this;e.labels_=null;e.text_="";e.textOffsetX_=0;e.textOffsetY_=0;e.textRotateWithView_=void 0;e.textRotation_=0;e.textFillState_=null;e.fillStates={};e.textStrokeState_=null;e.strokeStates={};e.textState_=
{};e.textStates={};e.textKey_="";e.fillKey_="";e.strokeKey_="";e.declutterImageWithText_=void 0;return e}f(a,g);a.prototype.finish=function(){var e=g.prototype.finish.call(this);e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e};a.prototype.drawText=function(e,n){var y=this.textFillState_,A=this.textStrokeState_,C=this.textState_;if(""!==this.text_&&C&&(y||A)){var N=this.coordinates;y=N.length;var K=e.getType();A=null;var E=e.getStride();if(C.placement!==
G["default"].LINE||K!=w["default"].LINE_STRING&&K!=w["default"].MULTI_LINE_STRING&&K!=w["default"].POLYGON&&K!=w["default"].MULTI_POLYGON){N=C.overflow?null:[];switch(K){case w["default"].POINT:case w["default"].MULTI_POINT:A=e.getFlatCoordinates();break;case w["default"].LINE_STRING:A=e.getFlatMidpoint();break;case w["default"].CIRCLE:A=e.getCenter();break;case w["default"].MULTI_LINE_STRING:A=e.getFlatMidpoints();E=2;break;case w["default"].POLYGON:A=e.getFlatInteriorPoint();C.overflow||N.push(A[2]/
this.resolution);E=3;break;case w["default"].MULTI_POLYGON:E=e.getFlatInteriorPoints();A=[];K=0;for(S=E.length;K<S;K+=3)C.overflow||N.push(E[K+2]/this.resolution),A.push(E[K],E[K+1]);if(0===A.length)return;E=2}K=this.appendFlatPointCoordinates(A,E);if(K===y)return;this.saveTextStates_();if(C.backgroundFill||C.backgroundStroke)this.setFillStrokeStyle(C.backgroundFill,C.backgroundStroke),C.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
C.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,n);A=C.padding;if(A!=v.defaultPadding&&(0>C.scale[0]||0>C.scale[1])){A=C.padding[0];E=C.padding[1];var x=C.padding[2];e=C.padding[3];0>C.scale[0]&&(E=-E,e=-e);0>C.scale[1]&&(A=-A,x=-x);A=[A,E,x,e]}var D=this.pixelRatio;this.instructions.push([l["default"].DRAW_IMAGE,y,K,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,A==v.defaultPadding?v.defaultPadding:A.map(function(fa){return fa*D}),!!C.backgroundFill,!!C.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,N]);E=1/D;this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,y,K,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,this.declutterImageWithText_,A,!!C.backgroundFill,!!C.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,N])}else{if(!(0,t.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;x=void 0;A=e.getFlatCoordinates();if(K==w["default"].LINE_STRING)x=[A.length];else if(K==w["default"].MULTI_LINE_STRING)x=e.getEnds();else if(K==w["default"].POLYGON)x=e.getEnds().slice(0,1);else if(K==w["default"].MULTI_POLYGON){var H=e.getEndss();x=[];K=0;for(var S=H.length;K<S;++K)x.push(H[K][0])}this.beginGeometry(e,n);e=C.textAlign;var U=0,ia=void 0;S=0;for(H=x.length;S<H;++S){void 0==
e?(K=(0,k.matchingChunk)(C.maxAngle,A,U,x[S],E),U=K[0],ia=K[1]):ia=x[S];for(K=U;K<ia;K+=E)N.push(A[K],A[K+1]);K=N.length;U=x[S];this.drawChars_(y,K);y=K}}this.endGeometry(n)}};a.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,y=this.textFillState_,A=this.strokeKey_;e&&(A in this.strokeStates||(this.strokeStates[A]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));
e=this.textKey_;e in this.textStates||(this.textStates[e]={font:n.font,textAlign:n.textAlign||v.defaultTextAlign,textBaseline:n.textBaseline||v.defaultTextBaseline,scale:n.scale});n=this.fillKey_;y&&(n in this.fillStates||(this.fillStates[n]={fillStyle:y.fillStyle}))};a.prototype.drawChars_=function(e,n){var y=this.textStrokeState_,A=this.textState_,C=this.strokeKey_,N=this.textKey_,K=this.fillKey_;this.saveTextStates_();var E=this.pixelRatio,x=d[A.textBaseline],D=this.textOffsetY_*E,H=this.text_;
y=y?y.lineWidth*Math.abs(A.scale[0])/2:0;this.instructions.push([l["default"].DRAW_CHARS,e,n,x,A.overflow,K,A.maxAngle,E,D,C,y*E,H,N,1]);this.hitDetectionInstructions.push([l["default"].DRAW_CHARS,e,n,x,A.overflow,K,A.maxAngle,1,D,C,y,H,N,1/E])};a.prototype.setTextStyle=function(e,n){var y,A;if(e){if(A=e.getFill()){var C=this.textFillState_;C||(this.textFillState_=C={});C.fillStyle=(0,L.asColorLike)(A.getColor()||v.defaultFillStyle)}else this.textFillState_=C=null;if(y=e.getStroke()){A=this.textStrokeState_;
A||(this.textStrokeState_=A={});var N=y.getLineDash(),K=y.getLineDashOffset(),E=y.getWidth(),x=y.getMiterLimit();A.lineCap=y.getLineCap()||v.defaultLineCap;A.lineDash=N?N.slice():v.defaultLineDash;A.lineDashOffset=void 0===K?v.defaultLineDashOffset:K;A.lineJoin=y.getLineJoin()||v.defaultLineJoin;A.lineWidth=void 0===E?v.defaultLineWidth:E;A.miterLimit=void 0===x?v.defaultMiterLimit:x;A.strokeStyle=(0,L.asColorLike)(y.getColor()||v.defaultStrokeStyle)}else this.textStrokeState_=A=null;y=this.textState_;
N=e.getFont()||v.defaultFont;(0,v.registerFont)(N);K=e.getScaleArray();y.overflow=e.getOverflow();y.font=N;y.maxAngle=e.getMaxAngle();y.placement=e.getPlacement();y.textAlign=e.getTextAlign();y.textBaseline=e.getTextBaseline()||v.defaultTextBaseline;y.backgroundFill=e.getBackgroundFill();y.backgroundStroke=e.getBackgroundStroke();y.padding=e.getPadding()||v.defaultPadding;y.scale=void 0===K?[1,1]:K;N=e.getOffsetX();K=e.getOffsetY();E=e.getRotateWithView();x=e.getRotation();this.text_=e.getText()||
"";this.textOffsetX_=void 0===N?0:N;this.textOffsetY_=void 0===K?0:K;this.textRotateWithView_=void 0===E?!1:E;this.textRotation_=void 0===x?0:x;this.strokeKey_=A?("string"==typeof A.strokeStyle?A.strokeStyle:(0,u.getUid)(A.strokeStyle))+A.lineCap+A.lineDashOffset+"|"+A.lineWidth+A.lineJoin+A.miterLimit+"["+A.lineDash.join()+"]":"";this.textKey_=y.font+y.scale+(y.textAlign||"?")+(y.textBaseline||"?");this.fillKey_=C?"string"==typeof C.fillStyle?C.fillStyle:"|"+(0,u.getUid)(C.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=n};return a}(Ea["default"]);J["default"]=z};
shadow$provide[217]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(210));ob=m(z(211));var l=m(z(212)),w=m(z(213));z=m(z(216));var G={Circle:w["default"],Default:Ea["default"],Image:ob["default"],LineString:l["default"],Polygon:w["default"],Text:z["default"]};z=function(){function L(v,u,t,k){this.tolerance_=v;this.maxExtent_=u;this.pixelRatio_=k;this.resolution_=t;this.buildersByZIndex_={}}L.prototype.finish=
function(){var v={},u;for(u in this.buildersByZIndex_){v[u]=v[u]||{};var t=this.buildersByZIndex_[u],k;for(k in t){var f=t[k].finish();v[u][k]=f}}return v};L.prototype.getBuilder=function(v,u){var t=void 0!==v?v.toString():"0";v=this.buildersByZIndex_[t];void 0===v&&(v={},this.buildersByZIndex_[t]=v);t=v[u];void 0===t&&(t=new G[u](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),v[u]=t);return t};return L}();J["default"]=z};
shadow$provide[218]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(88)),w=m(z(199));Ea=m(z(90));var G=m(z(95)),L=z(74),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,
k);t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k){var f=u.call(this)||this;f.boundHandleImageChange_=f.handleImageChange_.bind(f);f.layer_=k;f.declutterExecutorGroup=null;return f}v(t,u);t.prototype.getFeatures=function(k){return(0,L["abstract"])()};t.prototype.prepareFrame=function(k){return(0,L["abstract"])()};t.prototype.renderFrame=function(k,f){return(0,L["abstract"])()};t.prototype.loadedTileCallback=function(k,f,d){k[f]||(k[f]={});k[f][d.tileCoord.toString()]=
d};t.prototype.createLoadedTileFinder=function(k,f,d){return function(g,a){var e=this.loadedTileCallback.bind(this,d,g);return k.forEachLoadedTile(f,g,a,e)}.bind(this)};t.prototype.forEachFeatureAtCoordinate=function(k,f,d,g,a){};t.prototype.getDataAtPixel=function(k,f,d){return(0,L["abstract"])()};t.prototype.getLayer=function(){return this.layer_};t.prototype.handleFontsChanged=function(){};t.prototype.handleImageChange_=function(k){k.target.getState()===w["default"].LOADED&&this.renderIfReadyAndVisible()};
t.prototype.loadImage=function(k){var f=k.getState();f!=w["default"].LOADED&&f!=w["default"].ERROR&&k.addEventListener(l["default"].CHANGE,this.boundHandleImageChange_);f==w["default"].IDLE&&(k.load(),f=k.getState());return f==w["default"].LOADED};t.prototype.renderIfReadyAndVisible=function(){var k=this.getLayer();k.getVisible()&&k.getSourceState()==G["default"].READY&&k.changed()};return t}(Ea["default"]);J["default"]=z};
shadow$provide[219]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(218));var l=m(z(100)),w=m(z(94)),G=z(77),L=z(80),v=z(103),u=z(104),t=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=
f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();z=function(k){function f(d){d=k.call(this,d)||this;d.container=null;d.tempTransform=(0,G.create)();d.pixelTransform=(0,G.create)();d.inversePixelTransform=(0,G.create)();d.context=null;d.containerReused=!1;return d}t(f,k);f.prototype.useContainer=function(d,g,a){a=this.getLayer().getClassName();var e;if(d&&""===d.style.opacity&&d.className===a){var n=d.firstElementChild;n instanceof HTMLCanvasElement&&(e=n.getContext("2d"))}!e||
0!==e.canvas.width&&e.canvas.style.transform!==g?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=d,this.context=e,this.containerReused=!0);this.container||(d=document.createElement("div"),d.className=a,g=d.style,g.position="absolute",g.width="100%",g.height="100%",e=(0,v.createCanvasContext2D)(),n=e.canvas,d.appendChild(n),g=n.style,g.position="absolute",g.left="0",g.transformOrigin="top left",this.container=d,this.context=e)};f.prototype.clip=function(d,
g,a){var e=g.pixelRatio,n=g.size[0]*e/2,y=g.size[1]*e/2,A=g.viewState.rotation,C=(0,L.getTopLeft)(a),N=(0,L.getTopRight)(a),K=(0,L.getBottomRight)(a);a=(0,L.getBottomLeft)(a);(0,G.apply)(g.coordinateToPixelTransform,C);(0,G.apply)(g.coordinateToPixelTransform,N);(0,G.apply)(g.coordinateToPixelTransform,K);(0,G.apply)(g.coordinateToPixelTransform,a);d.save();(0,u.rotateAtOffset)(d,-A,n,y);d.beginPath();d.moveTo(C[0]*e,C[1]*e);d.lineTo(N[0]*e,N[1]*e);d.lineTo(K[0]*e,K[1]*e);d.lineTo(a[0]*e,a[1]*e);
d.clip();(0,u.rotateAtOffset)(d,A,n,y)};f.prototype.clipUnrotated=function(d,g,a){var e=(0,L.getTopLeft)(a),n=(0,L.getTopRight)(a),y=(0,L.getBottomRight)(a);a=(0,L.getBottomLeft)(a);(0,G.apply)(g.coordinateToPixelTransform,e);(0,G.apply)(g.coordinateToPixelTransform,n);(0,G.apply)(g.coordinateToPixelTransform,y);(0,G.apply)(g.coordinateToPixelTransform,a);g=this.inversePixelTransform;(0,G.apply)(g,e);(0,G.apply)(g,n);(0,G.apply)(g,y);(0,G.apply)(g,a);d.save();d.beginPath();d.moveTo(Math.round(e[0]),
Math.round(e[1]));d.lineTo(Math.round(n[0]),Math.round(n[1]));d.lineTo(Math.round(y[0]),Math.round(y[1]));d.lineTo(Math.round(a[0]),Math.round(a[1]));d.clip()};f.prototype.dispatchRenderEvent_=function(d,g,a){var e=this.getLayer();e.hasListener(d)&&(d=new l["default"](d,this.inversePixelTransform,a,g),e.dispatchEvent(d))};f.prototype.preRender=function(d,g){this.dispatchRenderEvent_(w["default"].PRERENDER,d,g)};f.prototype.postRender=function(d,g){this.dispatchRenderEvent_(w["default"].POSTRENDER,
d,g)};f.prototype.getRenderTransform=function(d,g,a,e,n,y,A){n/=2;y/=2;g=e/g;e=-g;A=-d[0]+A;d=-d[1];return(0,G.compose)(this.tempTransform,n,y,g,e,-a,A,d)};f.prototype.getDataAtPixel=function(d,g,a){a=(0,G.apply)(this.inversePixelTransform,d.slice());var e=this.context,n=this.getLayer().getExtent();if(n&&(d=(0,G.apply)(g.pixelToCoordinateTransform,d.slice()),!(0,L.containsCoordinate)(n,d)))return null;try{var y=Math.round(a[0]),A=Math.round(a[1]),C=document.createElement("canvas"),N=C.getContext("2d");
C.width=1;C.height=1;N.clearRect(0,0,1,1);N.drawImage(e.canvas,y,A,1,1,0,0,1,1);var K=N.getImageData(0,0,1,1).data}catch(E){return"SecurityError"===E.name?new Uint8Array:K}return 0===K[3]?null:K};return f}(Ea["default"]);J["default"]=z};
shadow$provide[220]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[221]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.drawTextOnPath=function(w,G,L,v,u,t,k,f,d,g,a,e){function n(){C=y;N=A;G+=v;y=w[G];A=w[G+1];E+=K;K=Math.sqrt((y-C)*(y-C)+(A-N)*(A-N))}var y=w[G],A=w[G+1],C=0,N=0,K=0,E=0;do n();while(G<L-v&&E+K<t);for(var x=(t-E)/K,D=(0,m.lerp)(C,y,x),H=(0,m.lerp)(N,A,x),S=G-v,U=E,ia=t+f*d(g,u,a);G<L-v&&E+K<ia;)n();x=(ia-E)/K;var fa=(0,m.lerp)(C,y,x);x=(0,m.lerp)(N,A,x);if(e){var ja=[D,H,fa,x];(0,l.rotate)(ja,0,4,2,e,ja,ja);
e=ja[0]>ja[2]}else e=D>fa;ja=Math.PI;var la=[],da=S+v===G;G=S;K=0;E=U;y=w[G];A=w[G+1];if(da)return n(),L=Math.atan2(A-N,y-C),e&&(L+=0<L?-ja:ja),la[0]=[(fa+D)/2,(x+H)/2,(ia-t)/2,L,u],la;D=0;for(H=u.length;D<H;){n();ia=Math.atan2(A-N,y-C);e&&(ia+=0<ia?-ja:ja);if(void 0!==O){var O=ia-O;O+=O>ja?-2*ja:O<-ja?2*ja:0;if(Math.abs(O)>k)return null}O=ia;x=D;for(fa=0;D<H;++D){S=f*d(g,u[e?H-D-1:D],a);if(G+v<L&&E+K<t+fa+S/2)break;fa+=S}D!==x&&(U=e?u.substring(H-x,H-D):u.substring(x,D),x=(t+fa/2-E)/K,S=(0,m.lerp)(C,
y,x),x=(0,m.lerp)(N,A,x),la.push([S,x,fa/2,ia,U]),t+=fa)}return la};var m=z(81),l=z(136)};
shadow$provide[222]=function(Ea,z,ob,J){function m(N){return N[3].declutterBox}function l(N,K){"start"!==K&&"end"!==K||C.test(N)||(K="start"===K?"left":"right");return G.TEXT_ALIGN[K]}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(N){return N&&N.__esModule?N:{"default":N}}(z(208)),G=z(216),L=z(102),v=z(77),u=z(80),t=z(104),k=z(221),f=z(72),d=z(192),g=z(136),a=(0,u.createEmpty)(),e=[],n=[],y=[],A=[],C=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");Ea=function(){function N(K,E,x,D,H){this.overlaps=x;this.pixelRatio=E;this.resolution=K;this.instructions=D.instructions;this.coordinates=D.coordinates;this.coordinateCache_={};this.renderBuffer_=H;this.renderedTransform_=(0,v.create)();this.hitDetectionInstructions=
D.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=D.fillStates||{};this.strokeStates=D.strokeStates||{};this.textStates=D.textStates||{};this.widths_={};this.labels_={}}N.prototype.createLabel=function(K,E,x,D){var H=K+E+x+D;if(this.labels_[H])return this.labels_[H];var S=D?this.strokeStates[D]:null,U=x?this.fillStates[x]:null,ia=this.textStates[E];E=this.pixelRatio;var fa=[ia.scale[0]*E,ia.scale[1]*E],ja=l(K,ia.textAlign||t.defaultTextAlign);E=D&&S.lineWidth?
S.lineWidth:0;K=K.split("\n");var la=K.length,da=[],O=(0,t.measureTextWidths)(ia.font,K,da),B=(0,t.measureTextHeight)(ia.font),Y=O+E;O=[];var ka=(Y+2)*fa[0],Z=(B*la+E)*fa[1];ka={width:0>ka?Math.floor(ka):Math.ceil(ka),height:0>Z?Math.floor(Z):Math.ceil(Z),contextInstructions:O};1==fa[0]&&1==fa[1]||O.push("scale",fa);O.push("font",ia.font);D&&(O.push("strokeStyle",S.strokeStyle),O.push("lineWidth",E),O.push("lineCap",S.lineCap),O.push("lineJoin",S.lineJoin),O.push("miterLimit",S.miterLimit),(L.WORKER_OFFSCREEN_CANVAS?
OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(O.push("setLineDash",[S.lineDash]),O.push("lineDashOffset",S.lineDashOffset)));x&&O.push("fillStyle",U.fillStyle);O.push("textBaseline","middle");O.push("textAlign","center");S=.5-ja;U=ja*Y+S*E;if(D)for(D=0;D<la;++D)O.push("strokeText",[K[D],U+S*da[D],.5*(E+B)+D*B]);if(x)for(D=0;D<la;++D)O.push("fillText",[K[D],U+S*da[D],.5*(E+B)+D*B]);return this.labels_[H]=ka};N.prototype.replayTextBackground_=function(K,E,x,D,H,
S,U){K.beginPath();K.moveTo.apply(K,E);K.lineTo.apply(K,x);K.lineTo.apply(K,D);K.lineTo.apply(K,H);K.lineTo.apply(K,E);S&&(this.alignFill_=S[2],this.fill_(K));U&&(this.setStrokeStyle_(K,U),K.stroke())};N.prototype.calculateImageOrLabelDimensions_=function(K,E,x,D,H,S,U,ia,fa,ja,la,da,O,B,Y,ka){U*=da[0];ia*=da[1];U=x-U;ia=D-ia;K=H+fa>K?K-fa:H;E=S+ja>E?E-ja:S;S=B[3]+K*da[0]+B[1];H=B[0]+E*da[1]+B[2];var Z=U-B[3];B=ia-B[0];if(Y||0!==la)e[0]=Z,A[0]=Z,e[1]=B,n[1]=B,n[0]=Z+S,y[0]=n[0],y[1]=B+H,A[1]=y[1];
if(0!==la){var wa=(0,v.compose)((0,v.create)(),x,D,1,1,la,-x,-D);(0,v.apply)(wa,e);(0,v.apply)(wa,n);(0,v.apply)(wa,y);(0,v.apply)(wa,A);(0,u.createOrUpdate)(Math.min(e[0],n[0],y[0],A[0]),Math.min(e[1],n[1],y[1],A[1]),Math.max(e[0],n[0],y[0],A[0]),Math.max(e[1],n[1],y[1],A[1]),a)}else(0,u.createOrUpdate)(Math.min(Z,Z+S),Math.min(B,B+H),Math.max(Z,Z+S),Math.max(B,B+H),a);O&&(U=Math.round(U),ia=Math.round(ia));return{drawImageX:U,drawImageY:ia,drawImageW:K,drawImageH:E,originX:fa,originY:ja,declutterBox:{minX:a[0],
minY:a[1],maxX:a[2],maxY:a[3],value:ka},canvasTransform:wa,scale:da}};N.prototype.replayImageOrLabel_=function(K,E,x,D,H,S,U){var ia=D.declutterBox,fa=K.canvas,ja=U?U[2]*D.scale[0]/2:0;ia.minX-ja<=fa.width/E&&0<=ia.maxX+ja&&ia.minY-ja<=fa.height/E&&0<=ia.maxY+ja&&((S||U)&&this.replayTextBackground_(K,e,n,y,A,S,U),(0,t.drawImageOrLabel)(K,D.canvasTransform,H,x,D.originX,D.originY,D.drawImageW,D.drawImageH,D.drawImageX,D.drawImageY,D.scale));return!0};N.prototype.fill_=function(K){if(this.alignFill_){var E=
(0,v.apply)(this.renderedTransform_,[0,0]),x=512*this.pixelRatio;K.save();K.translate(E[0]%x,E[1]%x);K.rotate(this.viewRotation_)}K.fill();this.alignFill_&&K.restore()};N.prototype.setStrokeStyle_=function(K,E){K.strokeStyle=E[1];K.lineWidth=E[2];K.lineCap=E[3];K.lineJoin=E[4];K.miterLimit=E[5];K.setLineDash&&(K.lineDashOffset=E[7],K.setLineDash(E[6]))};N.prototype.drawLabelWithPointPlacement_=function(K,E,x,D){var H=this.textStates[E];E=this.createLabel(K,E,D,x);D=this.strokeStates[x];x=this.pixelRatio;
K=l(K,H.textAlign||t.defaultTextAlign);var S=G.TEXT_ALIGN[H.textBaseline||t.defaultTextBaseline];D=D&&D.lineWidth?D.lineWidth:0;return{label:E,anchorX:K*(E.width/x-2*H.scale[0])+2*(.5-K)*D,anchorY:S*E.height/x+2*(.5-S)*D}};N.prototype.execute_=function(K,E,x,D,H,S,U,ia){if(this.pixelCoordinates_&&(0,f.equals)(x,this.renderedTransform_))var fa=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),fa=(0,g.transform2D)(this.coordinates,0,this.coordinates.length,2,x,this.pixelCoordinates_),
(0,v.setFromArray)(this.renderedTransform_,x);var ja=0,la=D.length,da,O=0,B=0,Y=null,ka=null,Z=this.coordinateCache_,wa=this.viewRotation_;x=Math.round(1E12*Math.atan2(-x[1],x[0]))/1E12;for(var xa={context:K,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:wa},Da=this.instructions!=D||this.overlaps?0:200,Wa,gb;ja<la;){var ra=D[ja];switch(ra[0]){case w["default"].BEGIN_GEOMETRY:Wa=ra[1];gb=ra[3];Wa.getGeometry()?void 0===U||(0,u.intersects)(U,gb.getExtent())?++ja:ja=ra[2]+1:ja=ra[2];
break;case w["default"].BEGIN_PATH:O>Da&&(this.fill_(K),O=0);B>Da&&(K.stroke(),B=0);if(!O&&!B){K.beginPath();var Na=da=NaN}++ja;break;case w["default"].CIRCLE:var Ta=ra[1];var za=fa[Ta];var pa=fa[Ta+1];var T=fa[Ta+2]-za;Ta=fa[Ta+3]-pa;T=Math.sqrt(T*T+Ta*Ta);K.moveTo(za+T,pa);K.arc(za,pa,T,0,2*Math.PI,!0);++ja;break;case w["default"].CLOSE_PATH:K.closePath();++ja;break;case w["default"].CUSTOM:Ta=ra[1];var W=ra[2];za=ra[4];pa=6==ra.length?ra[5]:void 0;xa.geometry=ra[3];xa.feature=Wa;ja in Z||(Z[ja]=
[]);T=Z[ja];pa?pa(fa,Ta,W,2,T):(T[0]=fa[Ta],T[1]=fa[Ta+1],T.length=2);za(T,xa);++ja;break;case w["default"].DRAW_IMAGE:Ta=ra[1];W=ra[2];za=ra[3];var M=ra[4];var P=ra[5];pa=ra[6];var ca=ra[7],ea=ra[8],oa=ra[9],ba=ra[10],Fa=ra[11],Ra=ra[12];T=ra[13];var Ma=ra[14];!za&&19<=ra.length&&(M=ra[18],za=ra[19],pa=ra[20],T=ra[21],pa=this.drawLabelWithPointPlacement_(M,za,pa,T),za=pa.label,ra[3]=za,M=(pa.anchorX-ra[22])*this.pixelRatio,ra[4]=M,P=(pa.anchorY-ra[23])*this.pixelRatio,ra[5]=P,pa=za.height,ra[6]=
pa,T=za.width,ra[13]=T);var db=void 0;24<ra.length&&(db=ra[24]);if(16<ra.length){var ab=ra[15];var Ba=ra[16];var Sa=ra[17]}else ab=t.defaultPadding,Sa=Ba=!1;ba&&x?Fa+=wa:ba||x||(Fa-=wa);for(ba=0;Ta<W;Ta+=2)if(!(db&&db[ba++]<T/this.pixelRatio)){ra=this.calculateImageOrLabelDimensions_(za.width,za.height,fa[Ta],fa[Ta+1],T,pa,M,P,ea,oa,Fa,Ra,H,ab,Ba||Sa,Wa);var lb=[K,E,za,ra,ca,Ba?Y:null,Sa?ka:null],ub=void 0,Jb=void 0;if(ia&&Ma){if(!Ma[Ta]){Ma[Ta]=lb;continue}ub=Ma[Ta];delete Ma[Ta];Jb=m(ub);if(ia.collides(Jb))continue}ia&&
ia.collides(ra.declutterBox)||(ub&&(ia&&ia.insert(Jb),this.replayImageOrLabel_.apply(this,ub)),ia&&ia.insert(ra.declutterBox),this.replayImageOrLabel_.apply(this,lb))}++ja;break;case w["default"].DRAW_CHARS:P=ra[1];Fa=ra[2];Ta=ra[3];Ma=ra[4];T=ra[5];Ra=ra[6];oa=ra[7];W=ra[8];pa=ra[9];ca=ra[10];M=ra[11];za=ra[12];ea=[ra[13],ra[13]];ba=this.textStates[za];ra=ba.font;oa=[ba.scale[0]*oa,ba.scale[1]*oa];ra in this.widths_?ba=this.widths_[ra]:(ba={},this.widths_[ra]=ba);db=(0,d.lineStringLength)(fa,P,Fa,
2);ab=Math.abs(oa[0])*(0,t.measureAndCacheTextWidth)(ra,M,ba);if(Ma||ab<=db)a:if(Ma=(db-ab)*G.TEXT_ALIGN[this.textStates[za].textAlign],Ra=(0,k.drawTextOnPath)(fa,P,Fa,2,M,Ma,Ra,Math.abs(oa[0]),t.measureAndCacheTextWidth,ra,ba,x?0:this.viewRotation_),Ra){Fa=[];if(pa)for(Ma=0,ba=Ra.length;Ma<ba;++Ma){ra=Ra[Ma];M=ra[4];db=this.createLabel(M,za,"",pa);M=ra[2]+(0>oa[0]?-ca:ca);P=Ta*db.height+2*(.5-Ta)*ca*oa[1]/oa[0]-W;ra=this.calculateImageOrLabelDimensions_(db.width,db.height,ra[0],ra[1],db.width,db.height,
M,P,0,0,ra[3],ea,!1,t.defaultPadding,!1,Wa);if(ia&&ia.collides(ra.declutterBox))break a;Fa.push([K,E,db,ra,1,null,null])}if(T)for(Ma=0,ba=Ra.length;Ma<ba;++Ma){ra=Ra[Ma];M=ra[4];db=this.createLabel(M,za,T,"");M=ra[2];P=Ta*db.height-W;ra=this.calculateImageOrLabelDimensions_(db.width,db.height,ra[0],ra[1],db.width,db.height,M,P,0,0,ra[3],ea,!1,t.defaultPadding,!1,Wa);if(ia&&ia.collides(ra.declutterBox))break a;Fa.push([K,E,db,ra,1,null,null])}ia&&ia.load(Fa.map(m));za=0;for(pa=Fa.length;za<pa;++za)this.replayImageOrLabel_.apply(this,
Fa[za])}++ja;break;case w["default"].END_GEOMETRY:if(void 0!==S&&(Wa=ra[1],za=S(Wa,gb)))return za;++ja;break;case w["default"].FILL:Da?O++:this.fill_(K);++ja;break;case w["default"].MOVE_TO_LINE_TO:Ta=ra[1];W=ra[2];T=fa[Ta];M=fa[Ta+1];za=T+.5|0;pa=M+.5|0;if(za!==da||pa!==Na)K.moveTo(T,M),da=za,Na=pa;for(Ta+=2;Ta<W;Ta+=2)if(T=fa[Ta],M=fa[Ta+1],za=T+.5|0,pa=M+.5|0,Ta==W-2||za!==da||pa!==Na)K.lineTo(T,M),da=za,Na=pa;++ja;break;case w["default"].SET_FILL_STYLE:Y=ra;this.alignFill_=ra[2];O&&(this.fill_(K),
O=0,B&&(K.stroke(),B=0));K.fillStyle=ra[1];++ja;break;case w["default"].SET_STROKE_STYLE:ka=ra;B&&(K.stroke(),B=0);this.setStrokeStyle_(K,ra);++ja;break;case w["default"].STROKE:Da?B++:K.stroke();++ja;break;default:++ja}}O&&this.fill_(K);B&&K.stroke()};N.prototype.execute=function(K,E,x,D,H,S){this.viewRotation_=D;this.execute_(K,E,x,this.instructions,H,void 0,void 0,S)};N.prototype.executeHitDetection=function(K,E,x,D,H){this.viewRotation_=x;return this.execute_(K,1,E,this.hitDetectionInstructions,
!0,D,H)};return N}();J["default"]=Ea};
shadow$provide[223]=function(Ea,z,ob,J){function m(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(void 0!==g[a])return g[a];for(var e=2*a+1,n=a*a,y=Array(n+1),A=0;A<=a;++A)for(var C=0;C<=a;++C){var N=A*A+C*C;if(N>n)break;var K=y[N];K||(K=[],y[N]=K);K.push(4*((a+A)*e+(a+C))+3);0<A&&K.push(4*((a-A)*e+(a+C))+3);0<C&&(K.push(4*((a+A)*e+(a-C))+3),0<A&&K.push(4*((a-A)*e+(a-C))+3))}e=[];A=0;for(n=y.length;A<n;++A)y[A]&&e.push.apply(e,y[A]);return g[a]=e}Object.defineProperty(J,"__esModule",{value:!0});
J.getPixelIndexArray=l;J["default"]=void 0;var w=m(z(220)),G=m(z(222)),L=z(80),v=z(77),u=z(103),t=z(86),k=z(72),f=z(136),d=[w["default"].POLYGON,w["default"].CIRCLE,w["default"].LINE_STRING,w["default"].IMAGE,w["default"].TEXT,w["default"].DEFAULT];Ea=function(){function a(e,n,y,A,C,N){this.maxExtent_=e;this.overlaps_=A;this.pixelRatio_=y;this.resolution_=n;this.renderBuffer_=N;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,v.create)();this.createExecutors_(C)}
a.prototype.clip=function(e,n){n=this.getClipCoords(n);e.beginPath();e.moveTo(n[0],n[1]);e.lineTo(n[2],n[3]);e.lineTo(n[4],n[5]);e.lineTo(n[6],n[7]);e.clip()};a.prototype.createExecutors_=function(e){for(var n in e){var y=this.executorsByZIndex_[n];void 0===y&&(y={},this.executorsByZIndex_[n]=y);var A=e[n],C=[this.renderBuffer_||0,this.renderBuffer_||0],N;for(N in A)y[N]=new G["default"](this.resolution_,this.pixelRatio_,this.overlaps_,A[N],C)}};a.prototype.hasExecutors=function(e){for(var n in this.executorsByZIndex_)for(var y=
this.executorsByZIndex_[n],A=0,C=e.length;A<C;++A)if(e[A]in y)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(e,n,y,A,C,N){function K(la,da){for(var O=H.getImageData(0,0,E,E).data,B=0,Y=U.length;B<Y;B++)if(0<O[U[B]]){if(!N||fa!==w["default"].IMAGE&&fa!==w["default"].TEXT||-1!==N.indexOf(la))if(B=(U[B]-3)/4,O=A-B%E,B=A-(B/E|0),la=C(la,da,O*O+B*B))return la;H.clearRect(0,0,E,E);break}}A=Math.round(A);var E=2*A+1,x=(0,v.compose)(this.hitDetectionTransform_,A+.5,A+.5,1/n,-1/n,-y,-e[0],
-e[1]),D=!this.hitDetectionContext_;D&&(this.hitDetectionContext_=(0,u.createCanvasContext2D)(E,E));var H=this.hitDetectionContext_;H.canvas.width!==E||H.canvas.height!==E?(H.canvas.width=E,H.canvas.height=E):D||H.clearRect(0,0,E,E);if(void 0!==this.renderBuffer_){var S=(0,L.createEmpty)();(0,L.extendCoordinate)(S,e);(0,L.buffer)(S,n*(this.renderBuffer_+A),S)}var U=l(A);e=Object.keys(this.executorsByZIndex_).map(Number);e.sort(k.numberSafeCompareFunction);for(n=e.length-1;0<=n;--n){var ia=this.executorsByZIndex_[e[n].toString()];
for(D=d.length-1;0<=D;--D){var fa=d[D];var ja=ia[fa];if(void 0!==ja&&(ja=ja.executeHitDetection(H,x,y,K,S)))return ja}}};a.prototype.getClipCoords=function(e){var n=this.maxExtent_;if(!n)return null;var y=n[0],A=n[1],C=n[2];n=n[3];y=[y,A,y,n,C,n,C,A];(0,f.transform2D)(y,0,8,2,e,y);return y};a.prototype.isEmpty=function(){return(0,t.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(e,n,y,A,C,N,K){var E=Object.keys(this.executorsByZIndex_).map(Number);E.sort(k.numberSafeCompareFunction);
this.maxExtent_&&(e.save(),this.clip(e,y));N=N?N:d;var x,D;K&&E.reverse();var H=0;for(x=E.length;H<x;++H){var S=this.executorsByZIndex_[E[H].toString()];var U=0;for(D=N.length;U<D;++U){var ia=S[N[U]];void 0!==ia&&ia.execute(e,n,y,A,C,K)}}this.maxExtent_&&e.restore()};return a}();var g={};J["default"]=Ea};
shadow$provide[224]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(119));Ea=m(z(209));var w=z(201),G=z(77),L=z(104),v=z(72),u=z(80),t=z(136),k=z(138),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a,e,n,y,A,C,N){var K=d.call(this)||this;K.context_=a;K.pixelRatio_=e;K.extent_=n;K.transform_=y;K.viewRotation_=A;K.squaredTolerance_=C;K.userTransform_=N;K.contextFillState_=null;K.contextStrokeState_=null;K.contextTextState_=null;K.fillState_=null;K.strokeState_=null;K.image_=null;K.imageAnchorX_=0;K.imageAnchorY_=0;K.imageHeight_=0;K.imageOpacity_=0;K.imageOriginX_=0;K.imageOriginY_=0;K.imageRotateWithView_=
!1;K.imageRotation_=0;K.imageScale_=[0,0];K.imageWidth_=0;K.text_="";K.textOffsetX_=0;K.textOffsetY_=0;K.textRotateWithView_=!1;K.textRotation_=0;K.textScale_=[0,0];K.textFillState_=null;K.textStrokeState_=null;K.textState_=null;K.pixelCoordinates_=[];K.tmpLocalTransform_=(0,G.create)();return K}f(g,d);g.prototype.drawImages_=function(a,e,n,y){if(this.image_){a=(0,t.transform2D)(a,e,n,2,this.transform_,this.pixelCoordinates_);e=this.context_;n=this.tmpLocalTransform_;y=e.globalAlpha;1!=this.imageOpacity_&&
(e.globalAlpha=y*this.imageOpacity_);var A=this.imageRotation_;this.imageRotateWithView_&&(A+=this.viewRotation_);for(var C=0,N=a.length;C<N;C+=2){var K=a[C]-this.imageAnchorX_,E=a[C+1]-this.imageAnchorY_;0!==A||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(K+=this.imageAnchorX_,E+=this.imageAnchorY_,(0,G.compose)(n,K,E,1,1,A,-K,-E),e.setTransform.apply(e,n),e.translate(K,E),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,K,E,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=y)}};g.prototype.drawText_=function(a,e,n,y){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,t.transform2D)(a,e,n,y,this.transform_,this.pixelCoordinates_);var A=this.context_,C=this.textRotation_;for(this.textRotateWithView_&&(C+=this.viewRotation_);e<n;e+=y){var N=a[e]+this.textOffsetX_,K=a[e+1]+this.textOffsetY_;if(0!==C||1!=this.textScale_[0]||1!=this.textScale_[1]){var E=(0,G.compose)(this.tmpLocalTransform_,N,K,1,1,C,-N,-K);A.setTransform.apply(A,E);A.translate(N,K);A.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
A.strokeText(this.text_,0,0);this.textFillState_&&A.fillText(this.text_,0,0);A.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&A.strokeText(this.text_,N,K),this.textFillState_&&A.fillText(this.text_,N,K)}}};g.prototype.moveToLineTo_=function(a,e,n,y,A){var C=this.context_;a=(0,t.transform2D)(a,e,n,y,this.transform_,this.pixelCoordinates_);C.moveTo(a[0],a[1]);e=a.length;A&&(e-=2);for(y=2;y<e;y+=2)C.lineTo(a[y],a[y+1]);A&&C.closePath();return n};g.prototype.drawRings_=function(a,e,n,y){for(var A=
0,C=n.length;A<C;++A)e=this.moveToLineTo_(a,e,n[A],y,!0);return e};g.prototype.drawCircle=function(a){if((0,u.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,k.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],y=e[3]-e[1];n=Math.sqrt(n*n+y*y);y=this.context_;y.beginPath();y.arc(e[0],e[1],n,0,2*Math.PI);this.fillState_&&
y.fill();this.strokeState_&&y.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};g.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};g.prototype.setTransform=function(a){this.transform_=a};g.prototype.drawGeometry=function(a){switch(a.getType()){case l["default"].POINT:this.drawPoint(a);break;case l["default"].LINE_STRING:this.drawLineString(a);break;case l["default"].POLYGON:this.drawPolygon(a);
break;case l["default"].MULTI_POINT:this.drawMultiPoint(a);break;case l["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case l["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case l["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case l["default"].CIRCLE:this.drawCircle(a)}};g.prototype.drawFeature=function(a,e){(a=e.getGeometryFunction()(a))&&(0,u.intersects)(this.extent_,a.getExtent())&&(this.setStyle(e),this.drawGeometry(a))};g.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var e=0,n=a.length;e<n;++e)this.drawGeometry(a[e])};g.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};g.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};g.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getFlatCoordinates();e.beginPath();this.moveToLineTo_(n,0,n.length,a.getStride(),!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};g.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getExtent();if((0,u.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;var n=a.getFlatCoordinates(),y=0,A=a.getEnds(),C=a.getStride();e.beginPath();for(var N=0,K=A.length;N<K;++N)y=this.moveToLineTo_(n,y,A[N],C,!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};g.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};g.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,u.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getOrientedFlatCoordinates(),
y=0,A=a.getEndss(),C=a.getStride();e.beginPath();for(var N=0,K=A.length;N<K;++N)y=this.drawRings_(n,y,A[N],C);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};g.prototype.setContextFillState_=function(a){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=a.fillStyle&&(n.fillStyle=a.fillStyle,e.fillStyle=a.fillStyle):(e.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};g.prototype.setContextStrokeState_=
function(a){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=a.lineCap&&(n.lineCap=a.lineCap,e.lineCap=a.lineCap),e.setLineDash&&((0,v.equals)(n.lineDash,a.lineDash)||e.setLineDash(n.lineDash=a.lineDash),n.lineDashOffset!=a.lineDashOffset&&(n.lineDashOffset=a.lineDashOffset,e.lineDashOffset=a.lineDashOffset)),n.lineJoin!=a.lineJoin&&(n.lineJoin=a.lineJoin,e.lineJoin=a.lineJoin),n.lineWidth!=a.lineWidth&&(n.lineWidth=a.lineWidth,e.lineWidth=a.lineWidth),n.miterLimit!=a.miterLimit&&(n.miterLimit=
a.miterLimit,e.miterLimit=a.miterLimit),n.strokeStyle!=a.strokeStyle&&(n.strokeStyle=a.strokeStyle,e.strokeStyle=a.strokeStyle)):(e.lineCap=a.lineCap,e.setLineDash&&(e.setLineDash(a.lineDash),e.lineDashOffset=a.lineDashOffset),e.lineJoin=a.lineJoin,e.lineWidth=a.lineWidth,e.miterLimit=a.miterLimit,e.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
g.prototype.setContextTextState_=function(a){var e=this.context_,n=this.contextTextState_,y=a.textAlign?a.textAlign:L.defaultTextAlign;n?(n.font!=a.font&&(n.font=a.font,e.font=a.font),n.textAlign!=y&&(n.textAlign=y,e.textAlign=y),n.textBaseline!=a.textBaseline&&(n.textBaseline=a.textBaseline,e.textBaseline=a.textBaseline)):(e.font=a.font,e.textAlign=y,e.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:y,textBaseline:a.textBaseline})};g.prototype.setFillStrokeStyle=function(a,
e){a?(a=a.getColor(),this.fillState_={fillStyle:(0,w.asColorLike)(a?a:L.defaultFillStyle)}):this.fillState_=null;if(e){a=e.getColor();var n=e.getLineCap(),y=e.getLineDash(),A=e.getLineDashOffset(),C=e.getLineJoin(),N=e.getWidth();e=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:L.defaultLineCap,lineDash:y?y:L.defaultLineDash,lineDashOffset:A?A:L.defaultLineDashOffset,lineJoin:void 0!==C?C:L.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==N?N:L.defaultLineWidth),miterLimit:void 0!==
e?e:L.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(a?a:L.defaultStrokeStyle)}}else this.strokeState_=null};g.prototype.setImageStyle=function(a){if(a){var e=a.getSize();if(e){var n=a.getAnchor(),y=a.getImage(1),A=a.getOrigin(),C=a.getScaleArray();this.imageAnchorX_=n[0];this.imageAnchorY_=n[1];this.imageHeight_=e[1];this.image_=y;this.imageOpacity_=a.getOpacity();this.imageOriginX_=A[0];this.imageOriginY_=A[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*C[0],this.pixelRatio_*C[1]];this.imageWidth_=e[0]}else this.image_=null}else this.image_=null};g.prototype.setTextStyle=function(a){if(a){var e=a.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,w.asColorLike)(e?e:L.defaultFillStyle)}):this.textFillState_=null;var n=a.getStroke();if(n){e=n.getColor();var y=n.getLineCap(),A=n.getLineDash(),C=n.getLineDashOffset(),N=n.getLineJoin(),K=n.getWidth();n=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
y?y:L.defaultLineCap,lineDash:A?A:L.defaultLineDash,lineDashOffset:C?C:L.defaultLineDashOffset,lineJoin:void 0!==N?N:L.defaultLineJoin,lineWidth:void 0!==K?K:L.defaultLineWidth,miterLimit:void 0!==n?n:L.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(e?e:L.defaultStrokeStyle)}}else this.textStrokeState_=null;e=a.getFont();y=a.getOffsetX();A=a.getOffsetY();C=a.getRotateWithView();N=a.getRotation();K=a.getScaleArray();n=a.getText();var E=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
e?e:L.defaultFont,textAlign:void 0!==E?E:L.defaultTextAlign,textBaseline:void 0!==a?a:L.defaultTextBaseline};this.text_=void 0!==n?n:"";this.textOffsetX_=void 0!==y?this.pixelRatio_*y:0;this.textOffsetY_=void 0!==A?this.pixelRatio_*A:0;this.textRotateWithView_=void 0!==C?C:!1;this.textRotation_=void 0!==N?N:0;this.textScale_=[this.pixelRatio_*K[0],this.pixelRatio_*K[1]]}else this.text_=""};return g}(Ea["default"]);J["default"]=z};
shadow$provide[225]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[226]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[227]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(87));var l=m(z(88)),w=z(74),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):
(t.prototype=u.prototype,new t)}}();z=function(L){function v(u,t,k,f){var d=L.call(this)||this;d.extent=u;d.pixelRatio_=k;d.resolution=t;d.state=f;return d}G(v,L);v.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};v.prototype.getExtent=function(){return this.extent};v.prototype.getImage=function(){return(0,w["abstract"])()};v.prototype.getPixelRatio=function(){return this.pixelRatio_};v.prototype.getResolution=function(){return this.resolution};v.prototype.getState=function(){return this.state};
v.prototype.load=function(){(0,w["abstract"])()};return v}(Ea["default"]);J["default"]=z};
shadow$provide[228]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k,f,d){if(k.src&&L.IMAGE_DECODE){var g=!0;k.decode().then(function(){g&&f()})["catch"](function(e){g&&("EncodingError"===e.name&&"Invalid image type."===e.message?f():d())});return function(){g=!1}}var a=[(0,u.listenOnce)(k,w["default"].LOAD,f),(0,u.listenOnce)(k,w["default"].ERROR,d)];return function(){a.forEach(u.unlistenByKey)}}Object.defineProperty(J,"__esModule",{value:!0});J.listenImage=l;
J["default"]=void 0;var w=m(z(88));Ea=m(z(227));var G=m(z(199)),L=z(102),v=z(80),u=z(89),t=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();z=function(k){function f(d,g,a,e,n,y){d=k.call(this,d,g,a,
G["default"].IDLE)||this;d.src_=e;d.image_=new Image;null!==n&&(d.image_.crossOrigin=n);d.unlisten_=null;d.state=G["default"].IDLE;d.imageLoadFunction_=y;return d}t(f,k);f.prototype.getImage=function(){return this.image_};f.prototype.handleImageError_=function(){this.state=G["default"].ERROR;this.unlistenImage_();this.changed()};f.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,v.getHeight)(this.extent)/this.image_.height);this.state=G["default"].LOADED;this.unlistenImage_();
this.changed()};f.prototype.load=function(){if(this.state==G["default"].IDLE||this.state==G["default"].ERROR)this.state=G["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=l(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};f.prototype.setImage=function(d){this.image_=d};f.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return f}(Ea["default"]);J["default"]=z};
shadow$provide[229]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J.get=function(d,g,a,e,n,y){var A=v.shared.get(g,e,y);A||(A=new f(d,g,a,e,n,y),v.shared.set(g,e,y,A));return A};J["default"]=void 0;Ea=m(z(87));var l=m(z(88)),w=m(z(199)),G=z(82),L=z(103),v=z(83),u=z(228),t=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,
y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),k=null,f=function(d){function g(a,e,n,y,A,C){var N=d.call(this)||this;N.hitDetectionImage_=null;N.image_=a?a:new Image;null!==y&&(N.image_.crossOrigin=y);N.canvas_={};N.color_=C;N.unlisten_=null;N.imageState_=A;N.size_=n;N.src_=e;return N}t(g,d);g.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===w["default"].LOADED){k||
(k=(0,L.createCanvasContext2D)(1,1));k.drawImage(this.image_,0,0);try{k.getImageData(0,0,1,1),this.tainted_=!1}catch(a){k=null,this.tainted_=!0}}return!0===this.tainted_};g.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l["default"].CHANGE)};g.prototype.handleImageError_=function(){this.imageState_=w["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};g.prototype.handleImageLoad_=function(){this.imageState_=w["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};g.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};g.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};g.prototype.getImageState=function(){return this.imageState_};g.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
e=this.size_[1],n=(0,L.createCanvasContext2D)(a,e);n.fillRect(0,0,a,e);this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};g.prototype.getSize=function(){return this.size_};g.prototype.getSrc=function(){return this.src_};g.prototype.load=function(){if(this.imageState_==w["default"].IDLE){this.imageState_=w["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,u.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};g.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var e=document.createElement("canvas");this.canvas_[a]=e;e.width=Math.ceil(this.image_.width*a);e.height=Math.ceil(this.image_.height*a);var n=e.getContext("2d");n.scale(a,a);n.drawImage(this.image_,0,0);n.globalCompositeOperation="multiply";if("multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=(0,G.asString)(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation=
"destination-in",n.drawImage(this.image_,0,0);else{a=n.getImageData(0,0,e.width,e.height);e=a.data;for(var y=this.color_[0]/255,A=this.color_[1]/255,C=this.color_[2]/255,N=this.color_[3],K=0,E=e.length;K<E;K+=4)e[K]*=y,e[K+1]*=A,e[K+2]*=C,e[K+3]*=N;n.putImageData(a,0,0)}}};g.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return g}(Ea["default"]);J["default"]=f};
shadow$provide[230]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(88)),w=m(z(225)),G=m(z(226)),L=m(z(199));Ea=m(z(200));var v=z(82),u=z(76),t=z(229),k=z(74),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,
a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a){var e=a||{};a=d.call(this,{opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1})||this;a.anchor_=void 0!==e.anchor?e.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==
e.anchorOrigin?e.anchorOrigin:G["default"].TOP_LEFT;a.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:w["default"].FRACTION;a.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:w["default"].FRACTION;a.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var n=void 0!==e.img?e.img:null,y=void 0!==e.imgSize?e.imgSize:null,A=e.src;(0,u.assert)(!(void 0!==A&&n),4);(0,u.assert)(!n||n&&y,5);void 0!==A&&0!==A.length||!n||(A=n.src||(0,k.getUid)(n));(0,u.assert)(void 0!==A&&0<A.length,6);var C=void 0!==
e.src?L["default"].IDLE:L["default"].LOADED;a.color_=void 0!==e.color?(0,v.asArray)(e.color):null;a.iconImage_=(0,t.get)(n,A,y,a.crossOrigin_,C,a.color_);a.offset_=void 0!==e.offset?e.offset:[0,0];a.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:G["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==e.size?e.size:null;return a}f(g,d);g.prototype.clone=function(){var a=this.getScale();return new g({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};g.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,e=this.getSize();if(this.anchorXUnits_==
w["default"].FRACTION||this.anchorYUnits_==w["default"].FRACTION){if(!e)return null;a=this.anchor_.slice();this.anchorXUnits_==w["default"].FRACTION&&(a[0]*=e[0]);this.anchorYUnits_==w["default"].FRACTION&&(a[1]*=e[1])}if(this.anchorOrigin_!=G["default"].TOP_LEFT){if(!e)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==G["default"].TOP_RIGHT||this.anchorOrigin_==G["default"].BOTTOM_RIGHT)a[0]=-a[0]+e[0];if(this.anchorOrigin_==G["default"].BOTTOM_LEFT||this.anchorOrigin_==
G["default"].BOTTOM_RIGHT)a[1]=-a[1]+e[1]}return this.normalizedAnchor_=a};g.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};g.prototype.getColor=function(){return this.color_};g.prototype.getImage=function(a){return this.iconImage_.getImage(a)};g.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};g.prototype.getImageSize=function(){return this.iconImage_.getSize()};g.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};g.prototype.getImageState=
function(){return this.iconImage_.getImageState()};g.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};g.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=G["default"].TOP_LEFT){var n=this.getSize(),y=this.iconImage_.getSize();if(!n||!y)return null;a=a.slice();if(this.offsetOrigin_==G["default"].TOP_RIGHT||this.offsetOrigin_==G["default"].BOTTOM_RIGHT)a[0]=y[0]-n[0]-a[0];if(this.offsetOrigin_==
G["default"].BOTTOM_LEFT||this.offsetOrigin_==G["default"].BOTTOM_RIGHT)a[1]=y[1]-n[1]-a[1]}a[0]+=e[0];a[1]+=e[1];return this.origin_=a};g.prototype.getSrc=function(){return this.iconImage_.getSrc()};g.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};g.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(l["default"].CHANGE,a)};g.prototype.load=function(){this.iconImage_.load()};g.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(l["default"].CHANGE,
a)};return g}(Ea["default"]);J["default"]=z};
shadow$provide[231]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(204)),w=m(z(214)),G=z(154);Ea=function(){function L(v){v=v||{};this.font_=v.font;this.rotation_=v.rotation;this.rotateWithView_=v.rotateWithView;this.scale_=v.scale;this.scaleArray_=(0,G.toSize)(void 0!==v.scale?v.scale:1);this.text_=v.text;this.textAlign_=v.textAlign;this.textBaseline_=v.textBaseline;this.fill_=void 0!==v.fill?
v.fill:new l["default"]({color:"#333"});this.maxAngle_=void 0!==v.maxAngle?v.maxAngle:Math.PI/4;this.placement_=void 0!==v.placement?v.placement:w["default"].POINT;this.overflow_=!!v.overflow;this.stroke_=void 0!==v.stroke?v.stroke:null;this.offsetX_=void 0!==v.offsetX?v.offsetX:0;this.offsetY_=void 0!==v.offsetY?v.offsetY:0;this.backgroundFill_=v.backgroundFill?v.backgroundFill:null;this.backgroundStroke_=v.backgroundStroke?v.backgroundStroke:null;this.padding_=void 0===v.padding?null:v.padding}
L.prototype.clone=function(){var v=this.getScale();return new L({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(v)?v.slice():v,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};L.prototype.getOverflow=function(){return this.overflow_};L.prototype.getFont=function(){return this.font_};L.prototype.getMaxAngle=function(){return this.maxAngle_};L.prototype.getPlacement=function(){return this.placement_};L.prototype.getOffsetX=function(){return this.offsetX_};L.prototype.getOffsetY=function(){return this.offsetY_};
L.prototype.getFill=function(){return this.fill_};L.prototype.getRotateWithView=function(){return this.rotateWithView_};L.prototype.getRotation=function(){return this.rotation_};L.prototype.getScale=function(){return this.scale_};L.prototype.getScaleArray=function(){return this.scaleArray_};L.prototype.getStroke=function(){return this.stroke_};L.prototype.getText=function(){return this.text_};L.prototype.getTextAlign=function(){return this.textAlign_};L.prototype.getTextBaseline=function(){return this.textBaseline_};
L.prototype.getBackgroundFill=function(){return this.backgroundFill_};L.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};L.prototype.getPadding=function(){return this.padding_};L.prototype.setOverflow=function(v){this.overflow_=v};L.prototype.setFont=function(v){this.font_=v};L.prototype.setMaxAngle=function(v){this.maxAngle_=v};L.prototype.setOffsetX=function(v){this.offsetX_=v};L.prototype.setOffsetY=function(v){this.offsetY_=v};L.prototype.setPlacement=function(v){this.placement_=
v};L.prototype.setRotateWithView=function(v){this.rotateWithView_=v};L.prototype.setFill=function(v){this.fill_=v};L.prototype.setRotation=function(v){this.rotation_=v};L.prototype.setScale=function(v){this.scale_=v;this.scaleArray_=(0,G.toSize)(void 0!==v?v:1)};L.prototype.setStroke=function(v){this.stroke_=v};L.prototype.setText=function(v){this.text_=v};L.prototype.setTextAlign=function(v){this.textAlign_=v};L.prototype.setTextBaseline=function(v){this.textBaseline_=v};L.prototype.setBackgroundFill=
function(v){this.backgroundFill_=v};L.prototype.setBackgroundStroke=function(v){this.backgroundStroke_=v};L.prototype.setPadding=function(v){this.padding_=v};return L}();J["default"]=Ea};
shadow$provide[232]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});Object.defineProperty(J,"Circle",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(J,"Fill",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"Icon",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"IconImage",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,
"Image",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"RegularShape",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"Stroke",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"Style",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(J,"Text",{enumerable:!0,get:function(){return f["default"]}});var l=m(z(203)),w=m(z(204)),G=m(z(230)),L=m(z(229)),v=m(z(200)),u=m(z(202)),t=m(z(205)),k=m(z(206)),
f=m(z(231))};
shadow$provide[233]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J.createHitDetectionImageData=function(k,f,d,g,a,e,n){var y=k[0]/2;k=k[1]/2;y=(0,v.createCanvasContext2D)(y,k);y.imageSmoothingEnabled=!1;k=y.canvas;n=new l["default"](y,.5,a,null,n);for(var A=d.length,C=Math.floor(16777215/A),N={},K=1;K<=A;++K){var E=d[K-1],x=E.getStyleFunction()||g;if(g){var D=x(E,e);if(D){Array.isArray(D)||(D=[D]);var H="#"+("000000"+(K*
C).toString(16)).slice(-6);x=0;for(var S=D.length;x<S;++x){var U=D[x],ia=U.clone(),fa=ia.getFill();fa&&fa.setColor(H);(fa=ia.getStroke())&&fa.setColor(H);ia.setText(void 0);if(U=U.getImage()){fa=U.getImageSize();if(!fa)continue;var ja=document.createElement("canvas");ja.width=fa[0];ja.height=fa[1];var la=ja.getContext("2d",{alpha:!1});la.fillStyle=H;ja=la.canvas;la.fillRect(0,0,ja.width,ja.height);la=fa?fa[0]:ja.width;var da=fa?fa[1]:ja.height;(0,v.createCanvasContext2D)(la,da).drawImage(ja,0,0);
ia.setImage(new L.Icon({img:ja,imgSize:fa,anchor:U.getAnchor(),anchorXUnits:G["default"].PIXELS,anchorYUnits:G["default"].PIXELS,offset:U.getOrigin(),size:U.getSize(),opacity:U.getOpacity(),scale:U.getScale(),rotation:U.getRotation(),rotateWithView:U.getRotateWithView()}))}fa=Number(ia.getZIndex());U=N[fa];U||(U={},N[fa]=U,U[w["default"].POLYGON]=[],U[w["default"].CIRCLE]=[],U[w["default"].LINE_STRING]=[],U[w["default"].POINT]=[]);(fa=ia.getGeometryFunction()(E))&&(0,u.intersects)(a,fa.getExtent())&&
U[fa.getType().replace("Multi","")].push(fa,ia)}}}}d=Object.keys(N).map(Number).sort(t.numberSafeCompareFunction);K=0;for(g=d.length;K<g;++K){U=N[d[K]];for(var O in U)for(a=U[O],x=0,S=a.length;x<S;x+=2)for(n.setStyle(a[x+1]),e=0,A=f.length;e<A;++e)n.setTransform(f[e]),n.drawGeometry(a[x])}return y.getImageData(0,0,k.width,k.height)};J.hitDetect=function(k,f,d){var g=[];d&&(k=4*(Math.round(k[0]/2)+Math.round(k[1]/2)*d.width),d=d.data[k+2]+256*(d.data[k+1]+256*d.data[k]),k=Math.floor(16777215/f.length),
d&&0===d%k&&g.push(f[d/k-1]));return g};var l=m(z(224)),w=m(z(119)),G=m(z(225)),L=z(232),v=z(103),u=z(80),t=z(72)};
shadow$provide[234]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k,f,d,g){if(f.getType()==G["default"].GEOMETRY_COLLECTION){f=f.getGeometries();for(var a=0,e=f.length;a<e;++a)l(k,f[a],d,g)}else k.getBuilder(d.getZIndex(),w["default"].DEFAULT).drawCustom(f,g,d.getRenderer())}Object.defineProperty(J,"__esModule",{value:!0});J.defaultOrder=function(k,f){return parseInt((0,v.getUid)(k),10)-parseInt((0,v.getUid)(f),10)};J.getSquaredTolerance=function(k,f){k=u*k/f;
return k*k};J.getTolerance=function(k,f){return u*k/f};J.renderFeature=function(k,f,d,g,a,e,n){var y=!1,A=d.getImage();if(A){var C=A.getImageState();C==L["default"].LOADED||C==L["default"].ERROR?A.unlistenImageChange(a):(C==L["default"].IDLE&&A.load(),A.getImageState(),A.listenImageChange(a),y=!0)}if(a=d.getGeometryFunction()(f))if(g=a.simplifyTransformed(g,e),d.getRenderer())l(k,g,d,f);else(0,t[g.getType()])(k,g,d,f,n);return y};var w=m(z(220)),G=m(z(119)),L=m(z(199)),v=z(74),u=.5,t={Point:function(k,
f,d,g,a){var e=d.getImage(),n=d.getText();if(a){k=a;var y=e&&n&&n.getText()?{}:void 0}if(e){if(e.getImageState()!=L["default"].LOADED)return;a=k.getBuilder(d.getZIndex(),w["default"].IMAGE);a.setImageStyle(e,y);a.drawPoint(f,g)}n&&n.getText()&&(k=k.getBuilder(d.getZIndex(),w["default"].TEXT),k.setTextStyle(n,y),k.drawText(f,g))},LineString:function(k,f,d,g,a){var e=d.getStroke();if(e){var n=k.getBuilder(d.getZIndex(),w["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawLineString(f,g)}(e=
d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),w["default"].TEXT),k.setTextStyle(e),k.drawText(f,g))},Polygon:function(k,f,d,g,a){var e=d.getFill(),n=d.getStroke();if(e||n){var y=k.getBuilder(d.getZIndex(),w["default"].POLYGON);y.setFillStrokeStyle(e,n);y.drawPolygon(f,g)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),w["default"].TEXT),k.setTextStyle(e),k.drawText(f,g))},MultiPoint:function(k,f,d,g,a){var e=d.getImage(),n=d.getText();if(a){k=a;var y=e&&n&&n.getText()?
{}:void 0}if(e){if(e.getImageState()!=L["default"].LOADED)return;var A=k.getBuilder(d.getZIndex(),w["default"].IMAGE);A.setImageStyle(e,y);A.drawMultiPoint(f,g)}n&&n.getText()&&(k=(a||k).getBuilder(d.getZIndex(),w["default"].TEXT),k.setTextStyle(n,y),k.drawText(f,g))},MultiLineString:function(k,f,d,g,a){var e=d.getStroke();if(e){var n=k.getBuilder(d.getZIndex(),w["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawMultiLineString(f,g)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),
w["default"].TEXT),k.setTextStyle(e),k.drawText(f,g))},MultiPolygon:function(k,f,d,g,a){var e=d.getFill(),n=d.getStroke();if(n||e){var y=k.getBuilder(d.getZIndex(),w["default"].POLYGON);y.setFillStrokeStyle(e,n);y.drawMultiPolygon(f,g)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),w["default"].TEXT),k.setTextStyle(e),k.drawText(f,g))},GeometryCollection:function(k,f,d,g,a){f=f.getGeometriesArray();var e;var n=0;for(e=f.length;n<e;++n)(0,t[f[n].getType()])(k,f[n],d,g,a)},Circle:function(k,
f,d,g,a){var e=d.getFill(),n=d.getStroke();if(e||n){var y=k.getBuilder(d.getZIndex(),w["default"].CIRCLE);y.setFillStrokeStyle(e,n);y.drawCircle(f,g)}(e=d.getText())&&e.getText()&&(k=(a||k).getBuilder(d.getZIndex(),w["default"].TEXT),k.setTextStyle(e),k.drawText(f,g))}}};
shadow$provide[235]=function(Ea,z,ob,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(217));Ea=m(z(219));var w=m(z(223)),G=m(z(121)),L=z(77),v=z(80),u=z(233),t=z(234),k=z(130),f=z(74),d=z(98),g=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(y[C]=A[C])};return a(e,n)};return function(e,
n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}();z=function(a){function e(n){n=a.call(this,n)||this;n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n);n.dirty_=!1;n.hitDetectionImageData_=null;n.renderedFeatures_=null;n.renderedRevision_=-1;n.renderedResolution_=NaN;n.renderedExtent_=(0,v.createEmpty)();n.renderedCenter_=null;n.renderedProjection_=null;n.renderedRenderOrder_=null;n.replayGroup_=null;n.replayGroupChanged=
!0;n.declutterExecutorGroup=null;n.clipping=!0;return n}g(e,a);e.prototype.useContainer=function(n,y,A){1>A&&(n=null);a.prototype.useContainer.call(this,n,y,A)};e.prototype.renderWorlds=function(n,y,A){var C=y.extent,N=y.viewState,K=N.center,E=N.resolution,x=N.projection;N=N.rotation;var D=x.getExtent(),H=this.getLayer().getSource(),S=y.pixelRatio,U=y.viewHints;U=!(U[G["default"].ANIMATING]||U[G["default"].INTERACTING]);var ia=this.context,fa=Math.round(y.size[0]*S);y=Math.round(y.size[1]*S);var ja=
H.getWrapX()&&x.canWrapX();x=ja?(0,v.getWidth)(D):null;H=ja?Math.ceil((C[2]-D[2])/x)+1:1;C=ja?Math.floor((C[0]-D[0])/x):0;do D=this.getRenderTransform(K,E,N,S,fa,y,C*x),n.execute(ia,1,D,N,U,void 0,A);while(++C<H)};e.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree)};e.prototype.renderFrame=function(n,y){var A=n.pixelRatio,C=n.layerStatesArray[n.layerIndex];(0,L.makeScale)(this.pixelTransform,1/A,1/A);(0,L.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var N=(0,L.toString)(this.pixelTransform);this.useContainer(y,N,C.opacity);y=this.context;var K=y.canvas,E=this.replayGroup_,x=this.declutterExecutorGroup;if(!(E&&!E.isEmpty()||x&&!x.isEmpty()))return!this.containerReused&&0<K.width&&(K.width=0),this.container;x=Math.round(n.size[0]*A);A=Math.round(n.size[1]*A);K.width!=x||K.height!=A?(K.width=x,K.height=A,K.style.transform!==N&&(K.style.transform=N)):this.containerReused||y.clearRect(0,0,x,A);this.preRender(y,n);N=n.viewState;
K=N.projection;A=!1;C.extent&&this.clipping&&(K=(0,k.fromUserExtent)(C.extent,K),(A=!(0,v.containsExtent)(K,n.extent)&&(0,v.intersects)(K,n.extent))&&this.clipUnrotated(y,n,K));this.renderWorlds(E,n);A&&y.restore();this.postRender(y,n);n=C.opacity;C=this.container;n!==parseFloat(C.style.opacity)&&(C.style.opacity=1===n?"":String(n));this.renderedRotation_!==N.rotation&&(this.renderedRotation_=N.rotation,this.hitDetectionImageData_=null);return this.container};e.prototype.getFeatures=function(n){return new Promise(function(y){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var A=[this.context.canvas.width,this.context.canvas.height];(0,L.apply)(this.pixelTransform,A);var C=this.renderedCenter_,N=this.renderedResolution_,K=this.renderedRotation_,E=this.renderedProjection_,x=this.renderedExtent_,D=this.getLayer(),H=[],S=A[0]/2,U=A[1]/2;H.push(this.getRenderTransform(C,N,K,.5,S,U,0).slice());var ia=D.getSource(),fa=E.getExtent();if(ia.getWrapX()&&E.canWrapX()&&!(0,v.containsExtent)(fa,x)){E=x[0];ia=(0,v.getWidth)(fa);for(var ja=0,la;E<fa[0];)--ja,
la=ia*ja,H.push(this.getRenderTransform(C,N,K,.5,S,U,la).slice()),E+=ia;ja=0;for(E=x[2];E>fa[2];)++ja,la=ia*ja,H.push(this.getRenderTransform(C,N,K,.5,S,U,la).slice()),E-=ia}this.hitDetectionImageData_=(0,u.createHitDetectionImageData)(A,H,this.renderedFeatures_,D.getStyleFunction(),x,N,K)}y((0,u.hitDetect)(n,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};e.prototype.forEachFeatureAtCoordinate=function(n,y,A,C,N){var K=this;if(this.replayGroup_){var E=y.viewState.resolution,x=
y.viewState.rotation,D=this.getLayer(),H={},S=function(fa,ja,la){var da=(0,f.getUid)(fa),O=H[da];if(!O){if(0===la)return H[da]=!0,C(fa,D,ja);N.push(H[da]={feature:fa,layer:D,geometry:ja,distanceSq:la,callback:C})}else if(!0!==O&&la<O.distanceSq){if(0===la)return H[da]=!0,N.splice(N.lastIndexOf(O),1),C(fa,D,ja);O.geometry=ja;O.distanceSq=la}},U,ia=[this.replayGroup_];this.declutterExecutorGroup&&ia.push(this.declutterExecutorGroup);ia.some(function(fa){return U=fa.forEachFeatureAtCoordinate(n,E,x,
A,S,fa===K.declutterExecutorGroup?y.declutterTree.all().map(function(ja){return ja.value}):null)});return U}};e.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()};e.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()};e.prototype.prepareFrame=function(n){var y=this.getLayer(),A=y.getSource();if(!A)return!1;var C=n.viewHints[G["default"].ANIMATING],N=n.viewHints[G["default"].INTERACTING],K=y.getUpdateWhileAnimating(),
E=y.getUpdateWhileInteracting();if(!this.dirty_&&!K&&C||!E&&N)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var x=n.extent,D=n.viewState;C=D.projection;var H=D.resolution;N=n.pixelRatio;K=y.getRevision();var S=y.getRenderBuffer();E=y.getRenderOrder();void 0===E&&(E=t.defaultOrder);D=D.center.slice();x=(0,v.buffer)(x,S*H);S=[x.slice()];var U=C.getExtent();if(A.getWrapX()&&C.canWrapX()&&!(0,v.containsExtent)(U,n.extent)){n=(0,v.getWidth)(U);var ia=Math.max((0,v.getWidth)(x)/
2,n);x[0]=U[0]-ia;x[2]=U[2]+ia;(0,d.wrapX)(D,C);ia=(0,v.wrapX)(S[0],C);ia[0]<U[0]&&ia[2]<U[2]?S.push([ia[0]+n,ia[1],ia[2]+n,ia[3]]):ia[0]>U[0]&&ia[2]>U[2]&&S.push([ia[0]-n,ia[1],ia[2]-n,ia[3]])}if(!this.dirty_&&this.renderedResolution_==H&&this.renderedRevision_==K&&this.renderedRenderOrder_==E&&(0,v.containsExtent)(this.renderedExtent_,x))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var fa=new l["default"]((0,t.getTolerance)(H,N),x,H,N),ja;this.getLayer().getDeclutter()&&
(ja=new l["default"]((0,t.getTolerance)(H,N),x,H,N));ia=(0,k.getUserProjection)();if(ia){n=0;for(U=S.length;n<U;++n)A.loadFeatures((0,k.toUserExtent)(S[n],C),H,ia);var la=(0,k.getTransformFromProjections)(ia,C)}else for(n=0,U=S.length;n<U;++n)A.loadFeatures(S[n],H,C);var da=(0,t.getSquaredTolerance)(H,N);S=function(O){var B,Y=O.getStyleFunction()||y.getStyleFunction();Y&&(B=Y(O,H));B&&(O=this.renderFeature(O,da,B,fa,la,ja),this.dirty_=this.dirty_||O)}.bind(this);n=(0,k.toUserExtent)(x,C);ia=A.getFeaturesInExtent(n);
E&&ia.sort(E);n=0;for(U=ia.length;n<U;++n)S(ia[n]);this.renderedFeatures_=ia;n=fa.finish();n=new w["default"](x,H,N,A.getOverlaps(),n,y.getRenderBuffer());ja&&(this.declutterExecutorGroup=new w["default"](x,H,N,A.getOverlaps(),ja.finish(),y.getRenderBuffer()));this.renderedResolution_=H;this.renderedRevision_=K;this.renderedRenderOrder_=E;this.renderedExtent_=x;this.renderedCenter_=D;this.renderedProjection_=C;this.replayGroup_=n;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};
e.prototype.renderFeature=function(n,y,A,C,N,K){if(!A)return!1;var E=!1;if(Array.isArray(A))for(var x=0,D=A.length;x<D;++x)E=(0,t.renderFeature)(C,n,A[x],y,this.boundHandleStyleImageChange_,N,K)||E;else E=(0,t.renderFeature)(C,n,A,y,this.boundHandleStyleImageChange_,N,K);return E};return e}(Ea["default"]);J["default"]=z};
shadow$provide[236]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(207));var l=m(z(235)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v){return G.call(this,v)||this}w(L,G);L.prototype.createRenderer=function(){return new l["default"](this)};return L}(Ea["default"]);J["default"]=z};
shadow$provide[237]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=function(L){return L&&L.__esModule?L:{"default":L}}(z(198)),l=z(80),w=z(74),G=z(86);Ea=function(){function L(v){this.rbush_=new m["default"](v);this.items_={}}L.prototype.insert=function(v,u){v={minX:v[0],minY:v[1],maxX:v[2],maxY:v[3],value:u};this.rbush_.insert(v);this.items_[(0,w.getUid)(u)]=v};L.prototype.load=function(v,u){for(var t=Array(u.length),k=0,f=u.length;k<f;k++){var d=v[k],
g=u[k];d={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:g};t[k]=d;this.items_[(0,w.getUid)(g)]=d}this.rbush_.load(t)};L.prototype.remove=function(v){v=(0,w.getUid)(v);var u=this.items_[v];delete this.items_[v];return null!==this.rbush_.remove(u)};L.prototype.update=function(v,u){var t=this.items_[(0,w.getUid)(u)];t=[t.minX,t.minY,t.maxX,t.maxY];(0,l.equals)(t,v)||(this.remove(u),this.insert(v,u))};L.prototype.getAll=function(){return this.rbush_.all().map(function(v){return v.value})};L.prototype.getInExtent=
function(v){return this.rbush_.search({minX:v[0],minY:v[1],maxX:v[2],maxY:v[3]}).map(function(u){return u.value})};L.prototype.forEach=function(v){return this.forEach_(this.getAll(),v)};L.prototype.forEachInExtent=function(v,u){return this.forEach_(this.getInExtent(v),u)};L.prototype.forEach_=function(v,u){for(var t,k=0,f=v.length;k<f&&!(t=u(v[k]));k++);return t};L.prototype.isEmpty=function(){return(0,G.isEmpty)(this.items_)};L.prototype.clear=function(){this.rbush_.clear();this.items_={}};L.prototype.getExtent=
function(v){var u=this.rbush_.toJSON();return(0,l.createOrUpdate)(u.minX,u.minY,u.maxX,u.maxY,v)};L.prototype.concat=function(v){this.rbush_.load(v.rbush_.all());for(var u in v.items_)this.items_[u]=v.items_[u]};return L}();J["default"]=Ea};
shadow$provide[238]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}function l(u){return u?Array.isArray(u)?function(t){return u}:"function"===typeof u?u:function(t){return[u]}:null}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(91));var w=m(z(95)),G=z(74),L=z(130),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,
g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k){var f=u.call(this)||this;f.projection_=(0,L.get)(k.projection);f.attributions_=l(k.attributions);f.attributionsCollapsible_=void 0!==k.attributionsCollapsible?k.attributionsCollapsible:!0;f.loading=!1;f.state_=void 0!==k.state?k.state:w["default"].READY;f.wrapX_=void 0!==k.wrapX?k.wrapX:!1;return f}v(t,u);
t.prototype.getAttributions=function(){return this.attributions_};t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};t.prototype.getProjection=function(){return this.projection_};t.prototype.getResolutions=function(){return(0,G["abstract"])()};t.prototype.getState=function(){return this.state_};t.prototype.getWrapX=function(){return this.wrapX_};t.prototype.getContextOptions=function(){};t.prototype.refresh=function(){this.changed()};t.prototype.setAttributions=
function(k){this.attributions_=l(k);this.changed()};t.prototype.setState=function(k){this.state_=k;this.changed()};return t}(Ea["default"]);J["default"]=z};
shadow$provide[239]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[240]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.all=function(m,l){return[[-Infinity,-Infinity,Infinity,Infinity]]};J.bbox=function(m,l){return[m]};J.tile=function(m){return function(l,w){w=m.getZForResolution(w);l=m.getTileRangeForExtentAndZ(l,w);var G=[];w=[w,0,0];for(w[1]=l.minX;w[1]<=l.maxX;++w[1])for(w[2]=l.minY;w[2]<=l.maxY;++w[2])G.push(m.getTileCoordExtent(w));return G}}};
shadow$provide[241]=function(Ea,z,ob,J){function m(L,v,u,t,k,f,d){var g=new XMLHttpRequest;g.open("GET","function"===typeof L?L(u,t,k):L,!0);v.getType()==l["default"].ARRAY_BUFFER&&(g.responseType="arraybuffer");g.withCredentials=G;g.onload=function(a){if(!g.status||200<=g.status&&300>g.status){a=v.getType();var e=void 0;a==l["default"].JSON||a==l["default"].TEXT?e=g.responseText:a==l["default"].XML?(e=g.responseXML)||(e=(new DOMParser).parseFromString(g.responseText,"application/xml")):a==l["default"].ARRAY_BUFFER&&
(e=g.response);e?f(v.readFeatures(e,{extent:u,featureProjection:k}),v.readProjection(e)):d()}else d()};g.onerror=d;g.send()}Object.defineProperty(J,"__esModule",{value:!0});J.loadFeaturesXhr=m;J.xhr=function(L,v){return function(u,t,k,f,d){var g=this;m(L,v,u,t,k,function(a,e){void 0!==f&&f(a);g.addFeatures(a)},d?d:w.VOID)}};J.setWithCredentials=function(L){G=L};var l=function(L){return L&&L.__esModule?L:{"default":L}}(z(186)),w=z(73),G=!1};
shadow$provide[242]=function(Ea,z,ob,J){function m(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.VectorSourceEvent=void 0;var l=m(z(107)),w=m(z(106));Ea=m(z(84));var G=m(z(88)),L=m(z(85)),v=m(z(237));ob=m(z(238));var u=m(z(95)),t=m(z(239)),k=z(73),f=z(240),d=z(76),g=z(80),a=z(72),e=z(74),n=z(86),y=z(89),A=z(241),C=function(){var K=function(E,x){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,H){D.__proto__=H}||function(D,
H){for(var S in H)Object.prototype.hasOwnProperty.call(H,S)&&(D[S]=H[S])};return K(E,x)};return function(E,x){function D(){this.constructor=E}K(E,x);E.prototype=null===x?Object.create(x):(D.prototype=x.prototype,new D)}}(),N=function(K){function E(x,D,H){x=K.call(this,x)||this;x.feature=D;x.features=H;return x}C(E,K);return E}(Ea["default"]);J.VectorSourceEvent=N;z=function(K){function E(x){var D=x||{};x=K.call(this,{attributions:D.attributions,projection:void 0,state:u["default"].READY,wrapX:void 0!==
D.wrapX?D.wrapX:!0})||this;x.loader_=k.VOID;x.format_=D.format;x.overlaps_=void 0===D.overlaps?!0:D.overlaps;x.url_=D.url;void 0!==D.loader?x.loader_=D.loader:void 0!==x.url_&&((0,d.assert)(x.format_,7),x.loader_=(0,A.xhr)(x.url_,x.format_));x.strategy_=void 0!==D.strategy?D.strategy:f.all;var H=void 0!==D.useSpatialIndex?D.useSpatialIndex:!0;x.featuresRtree_=H?new v["default"]:null;x.loadedExtentsRtree_=new v["default"];x.nullGeometryFeatures_={};x.idIndex_={};x.uidIndex_={};x.featureChangeKeys_=
{};x.featuresCollection_=null;if(Array.isArray(D.features))var S=D.features;else if(D.features){var U=D.features;S=U.getArray()}H||void 0!==U||(U=new l["default"](S));void 0!==S&&x.addFeaturesInternal(S);void 0!==U&&x.bindFeaturesCollection_(U);return x}C(E,K);E.prototype.addFeature=function(x){this.addFeatureInternal(x);this.changed()};E.prototype.addFeatureInternal=function(x){var D=(0,e.getUid)(x);if(this.addToIndex_(D,x)){this.setupChangeEvents_(D,x);var H=x.getGeometry();H?(D=H.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(D,x)):this.nullGeometryFeatures_[D]=x;this.dispatchEvent(new N(t["default"].ADDFEATURE,x))}else this.featuresCollection_&&this.featuresCollection_.remove(x)};E.prototype.setupChangeEvents_=function(x,D){this.featureChangeKeys_[x]=[(0,y.listen)(D,G["default"].CHANGE,this.handleFeatureChange_,this),(0,y.listen)(D,L["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};E.prototype.addToIndex_=function(x,D){var H=!0,S=D.getId();void 0!==S&&(S.toString()in this.idIndex_?
H=!1:this.idIndex_[S.toString()]=D);H&&((0,d.assert)(!(x in this.uidIndex_),30),this.uidIndex_[x]=D);return H};E.prototype.addFeatures=function(x){this.addFeaturesInternal(x);this.changed()};E.prototype.addFeaturesInternal=function(x){for(var D=[],H=[],S=[],U=0,ia=x.length;U<ia;U++){var fa=x[U],ja=(0,e.getUid)(fa);this.addToIndex_(ja,fa)&&H.push(fa)}U=0;for(x=H.length;U<x;U++)fa=H[U],ja=(0,e.getUid)(fa),this.setupChangeEvents_(ja,fa),(ia=fa.getGeometry())?(ja=ia.getExtent(),D.push(ja),S.push(fa)):
this.nullGeometryFeatures_[ja]=fa;this.featuresRtree_&&this.featuresRtree_.load(D,S);U=0;for(D=H.length;U<D;U++)this.dispatchEvent(new N(t["default"].ADDFEATURE,H[U]))};E.prototype.bindFeaturesCollection_=function(x){var D=!1;this.addEventListener(t["default"].ADDFEATURE,function(H){D||(D=!0,x.push(H.feature),D=!1)});this.addEventListener(t["default"].REMOVEFEATURE,function(H){D||(D=!0,x.remove(H.feature),D=!1)});x.addEventListener(w["default"].ADD,function(H){D||(D=!0,this.addFeature(H.element),
D=!1)}.bind(this));x.addEventListener(w["default"].REMOVE,function(H){D||(D=!0,this.removeFeature(H.element),D=!1)}.bind(this));this.featuresCollection_=x};E.prototype.clear=function(x){if(x){for(var D in this.featureChangeKeys_)this.featureChangeKeys_[D].forEach(y.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var H in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[H])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};x=new N(t["default"].CLEAR);this.dispatchEvent(x);this.changed()};E.prototype.forEachFeature=function(x){if(this.featuresRtree_)return this.featuresRtree_.forEach(x);this.featuresCollection_&&this.featuresCollection_.forEach(x)};E.prototype.forEachFeatureAtCoordinateDirect=function(x,D){return this.forEachFeatureInExtent([x[0],x[1],x[0],x[1]],function(H){if(H.getGeometry().intersectsCoordinate(x))return D(H)})};
E.prototype.forEachFeatureInExtent=function(x,D){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(x,D);this.featuresCollection_&&this.featuresCollection_.forEach(D)};E.prototype.forEachFeatureIntersectingExtent=function(x,D){return this.forEachFeatureInExtent(x,function(H){if(H.getGeometry().intersectsExtent(x)&&(H=D(H)))return H})};E.prototype.getFeaturesCollection=function(){return this.featuresCollection_};E.prototype.getFeatures=function(){if(this.featuresCollection_)var x=this.featuresCollection_.getArray();
else this.featuresRtree_&&(x=this.featuresRtree_.getAll(),(0,n.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(x,(0,n.getValues)(this.nullGeometryFeatures_)));return x};E.prototype.getFeaturesAtCoordinate=function(x){var D=[];this.forEachFeatureAtCoordinateDirect(x,function(H){D.push(H)});return D};E.prototype.getFeaturesInExtent=function(x){return this.featuresRtree_?this.featuresRtree_.getInExtent(x):this.featuresCollection_?this.featuresCollection_.getArray():[]};E.prototype.getClosestFeatureToCoordinate=
function(x,D){var H=x[0],S=x[1],U=null,ia=[NaN,NaN],fa=Infinity,ja=[-Infinity,-Infinity,Infinity,Infinity],la=D?D:k.TRUE;this.featuresRtree_.forEachInExtent(ja,function(da){if(la(da)){var O=da.getGeometry(),B=fa;fa=O.closestPointXY(H,S,ia,fa);fa<B&&(U=da,da=Math.sqrt(fa),ja[0]=H-da,ja[1]=S-da,ja[2]=H+da,ja[3]=S+da)}});return U};E.prototype.getExtent=function(x){return this.featuresRtree_.getExtent(x)};E.prototype.getFeatureById=function(x){x=this.idIndex_[x.toString()];return void 0!==x?x:null};E.prototype.getFeatureByUid=
function(x){x=this.uidIndex_[x];return void 0!==x?x:null};E.prototype.getFormat=function(){return this.format_};E.prototype.getOverlaps=function(){return this.overlaps_};E.prototype.getUrl=function(){return this.url_};E.prototype.handleFeatureChange_=function(x){x=x.target;var D=(0,e.getUid)(x),H=x.getGeometry();H?(H=H.getExtent(),D in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[D],this.featuresRtree_&&this.featuresRtree_.insert(H,x)):this.featuresRtree_&&this.featuresRtree_.update(H,
x)):D in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(x),this.nullGeometryFeatures_[D]=x);H=x.getId();void 0!==H?(D=H.toString(),this.idIndex_[D]!==x&&(this.removeFromIdIndex_(x),this.idIndex_[D]=x)):(this.removeFromIdIndex_(x),this.uidIndex_[D]=x);this.changed();this.dispatchEvent(new N(t["default"].CHANGEFEATURE,x))};E.prototype.hasFeature=function(x){var D=x.getId();return void 0!==D?D in this.idIndex_:(0,e.getUid)(x)in this.uidIndex_};E.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,n.isEmpty)(this.nullGeometryFeatures_)};E.prototype.loadFeatures=function(x,D,H){var S=this.loadedExtentsRtree_,U=this.strategy_(x,D);this.loading=!1;x=function(la,da){var O=U[la];S.forEachInExtent(O,function(B){return(0,g.containsExtent)(B.extent,O)})||(ia.dispatchEvent(new N(t["default"].FEATURESLOADSTART)),ia.loader_.call(ia,O,D,H,function(B){this.dispatchEvent(new N(t["default"].FEATURESLOADEND,void 0,B))}.bind(ia),function(){this.dispatchEvent(new N(t["default"].FEATURESLOADERROR))}.bind(ia)),
S.insert(O,{extent:O.slice()}),ia.loading=ia.loader_!==k.VOID)};for(var ia=this,fa=0,ja=U.length;fa<ja;++fa)x(fa,ja)};E.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();K.prototype.refresh.call(this)};E.prototype.removeLoadedExtent=function(x){var D=this.loadedExtentsRtree_,H;D.forEachInExtent(x,function(S){if((0,g.equals)(S.extent,x))return H=S,!0});H&&D.remove(H)};E.prototype.removeFeature=function(x){var D=(0,e.getUid)(x);D in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[D]:
this.featuresRtree_&&this.featuresRtree_.remove(x);this.removeFeatureInternal(x);this.changed()};E.prototype.removeFeatureInternal=function(x){var D=(0,e.getUid)(x);this.featureChangeKeys_[D].forEach(y.unlistenByKey);delete this.featureChangeKeys_[D];var H=x.getId();void 0!==H&&delete this.idIndex_[H.toString()];delete this.uidIndex_[D];this.dispatchEvent(new N(t["default"].REMOVEFEATURE,x))};E.prototype.removeFromIdIndex_=function(x){var D=!1,H;for(H in this.idIndex_)if(this.idIndex_[H]===x){delete this.idIndex_[H];
D=!0;break}return D};E.prototype.setLoader=function(x){this.loader_=x};E.prototype.setUrl=function(x){(0,d.assert)(this.format_,7);this.setLoader((0,A.xhr)(x,this.format_))};return E}(ob["default"]);J["default"]=z};
shadow$provide[243]=function(Ea,z,ob,J){function m(da){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"===typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};return m(da)}function l(){if("function"!==typeof WeakMap)return null;var da=new WeakMap;l=function(){return da};return da}function w(da){return da&&da.__esModule?da:{"default":da}}function G(){var da=(0,H.createEditingStyle)();return function(O,
B){return da[O.getGeometry().getType()]}}function L(da){if(da===k["default"].POINT||da===k["default"].MULTI_POINT)var O=ja.POINT;else da===k["default"].LINE_STRING||da===k["default"].MULTI_LINE_STRING?O=ja.LINE_STRING:da===k["default"].POLYGON||da===k["default"].MULTI_POLYGON?O=ja.POLYGON:da===k["default"].CIRCLE&&(O=ja.CIRCLE);return O}Object.defineProperty(J,"__esModule",{value:!0});J.createRegularPolygon=function(da,O){return function(B,Y,ka){var Z=(0,S.fromUserCoordinate)(B[0],ka);B=(0,S.fromUserCoordinate)(B[B.length-
1],ka);var wa=Math.sqrt((0,ia.squaredDistance)(Z,B));Y=Y?Y:(0,C.fromCircle)(new v["default"](Z),da);var xa=O;O||0===O||(xa=Math.atan2(B[1]-Z[1],B[0]-Z[0]));(0,C.makeRegular)(Y,Z,wa,xa);(Z=(0,S.getUserProjection)())&&Y.transform(ka,Z);return Y}};J.createBox=function(){return function(da,O,B){da=(0,D.boundingExtent)([da[0],da[da.length-1]].map(function(Y){return(0,S.fromUserCoordinate)(Y,B)}));da=[[(0,D.getBottomLeft)(da),(0,D.getBottomRight)(da),(0,D.getTopRight)(da),(0,D.getTopLeft)(da),(0,D.getBottomLeft)(da)]];
O?O.setCoordinates(da):O=new C["default"](da);(da=(0,S.getUserProjection)())&&O.transform(B,da);return O}};J["default"]=J.DrawEvent=void 0;var v=w(z(189));Ea=w(z(84));var u=w(z(88)),t=w(z(190)),k=w(z(119)),f=w(z(169)),d=w(z(193)),g=w(z(110)),a=w(z(111)),e=w(z(194)),n=w(z(195)),y=w(z(197)),A=w(z(145));ob=w(z(172));var C=function(da){if(da&&da.__esModule)return da;if(null===da||"object"!==m(da)&&"function"!==typeof da)return{"default":da};var O=l();if(O&&O.has(da))return O.get(da);var B={},Y=Object.defineProperty&&
Object.getOwnPropertyDescriptor,ka;for(ka in da)if(Object.prototype.hasOwnProperty.call(da,ka)){var Z=Y?Object.getOwnPropertyDescriptor(da,ka):null;Z&&(Z.get||Z.set)?Object.defineProperty(B,ka,Z):B[ka]=da[ka]}B["default"]=da;O&&O.set(da,B);return B}(z(152)),N=w(z(236)),K=w(z(242)),E=z(73),x=z(173),D=z(80),H=z(206),S=z(130),U=z(91),ia=z(98),fa=function(){var da=function(O,B){da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,ka){Y.__proto__=ka}||function(Y,ka){for(var Z in ka)Object.prototype.hasOwnProperty.call(ka,
Z)&&(Y[Z]=ka[Z])};return da(O,B)};return function(O,B){function Y(){this.constructor=O}da(O,B);O.prototype=null===B?Object.create(B):(Y.prototype=B.prototype,new Y)}}(),ja={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},la=function(da){function O(B,Y){B=da.call(this,B)||this;B.feature=Y;return B}fa(O,da);return O}(Ea["default"]);J.DrawEvent=la;z=function(da){function O(B){var Y=this;B.stopDown||(B.stopDown=E.FALSE);Y=da.call(this,B)||this;Y.shouldHandle_=!1;Y.downPx_=null;
Y.freehand_=!1;Y.source_=B.source?B.source:null;Y.features_=B.features?B.features:null;Y.snapTolerance_=B.snapTolerance?B.snapTolerance:12;Y.type_=B.type;Y.mode_=L(Y.type_);Y.stopClick_=!!B.stopClick;Y.minPoints_=B.minPoints?B.minPoints:Y.mode_===ja.POLYGON?3:2;Y.maxPoints_=Y.mode_===ja.CIRCLE?2:B.maxPoints?B.maxPoints:Infinity;Y.finishCondition_=B.finishCondition?B.finishCondition:E.TRUE;var ka=B.geometryFunction;if(!ka){var Z=Y.mode_;if(Z===ja.CIRCLE)ka=function(xa,Da,Wa){Da=Da?Da:new v["default"]([NaN,
NaN]);var gb=(0,S.fromUserCoordinate)(xa[0],Wa);xa=(0,ia.squaredDistance)(gb,(0,S.fromUserCoordinate)(xa[xa.length-1],Wa));Da.setCenterAndRadius(gb,Math.sqrt(xa));(xa=(0,S.getUserProjection)())&&Da.transform(Wa,xa);return Da};else{var wa;Z===ja.POINT?wa=A["default"]:Z===ja.LINE_STRING?wa=d["default"]:Z===ja.POLYGON&&(wa=C["default"]);ka=function(xa,Da,Wa){Da?Z===ja.POLYGON?xa[0].length?Da.setCoordinates([xa[0].concat([xa[0][0]])]):Da.setCoordinates([]):Da.setCoordinates(xa):Da=new wa(xa);return Da}}}Y.geometryFunction_=
ka;Y.dragVertexDelay_=void 0!==B.dragVertexDelay?B.dragVertexDelay:500;Y.finishCoordinate_=null;Y.sketchFeature_=null;Y.sketchPoint_=null;Y.sketchCoords_=null;Y.sketchLine_=null;Y.sketchLineCoords_=null;Y.squaredClickTolerance_=B.clickTolerance?B.clickTolerance*B.clickTolerance:36;Y.overlay_=new N["default"]({source:new K["default"]({useSpatialIndex:!1,wrapX:B.wrapX?B.wrapX:!1}),style:B.style?B.style:G(),updateWhileInteracting:!0});Y.geometryName_=B.geometryName;Y.condition_=B.condition?B.condition:
x.noModifierKeys;Y.freehandCondition_=B.freehand?x.always:B.freehandCondition?B.freehandCondition:x.shiftKeyOnly;Y.addEventListener((0,U.getChangeEventType)(f["default"].ACTIVE),Y.updateState_);return Y}fa(O,da);O.prototype.setMap=function(B){da.prototype.setMap.call(this,B);this.updateState_()};O.prototype.getOverlay=function(){return this.overlay_};O.prototype.handleEvent=function(B){B.originalEvent.type===u["default"].CONTEXTMENU&&B.originalEvent.preventDefault();this.freehand_=this.mode_!==ja.POINT&&
this.freehandCondition_(B);var Y=B.type===a["default"].POINTERMOVE,ka=!0;!this.freehand_&&this.lastDragTime_&&B.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=B.pixel,this.shouldHandle_=!this.freehand_,Y=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&B.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(B.coordinate),
ka=!1):this.freehand_&&B.type===a["default"].POINTERDOWN?ka=!1:Y&&2>this.getPointerCount()?(ka=B.type===a["default"].POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(B),this.shouldHandle_&&B.originalEvent.preventDefault()):("mouse"===B.originalEvent.pointerType||B.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(B):B.type===a["default"].DBLCLICK&&(ka=!1);return da.prototype.handleEvent.call(this,B)&&ka};O.prototype.handleDownEvent=function(B){this.shouldHandle_=
!this.freehand_;if(this.freehand_)return this.downPx_=B.pixel,this.finishCoordinate_||this.startDrawing_(B.coordinate),!0;if(this.condition_(B))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new g["default"](a["default"].POINTERMOVE,B.map,B.originalEvent,!1,B.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=B.pixel,!0;this.lastDragTime_=void 0;return!1};O.prototype.handleUpEvent=function(B){var Y=!0;if(0===this.getPointerCount())if(this.downTimeout_&&
(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(B),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(B.coordinate),this.mode_!==ja.POINT)break;case this.freehand_||this.atFinish_(B.pixel)&&this.finishCondition_(B):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(B.coordinate)}Y=!1}else this.freehand_&&this.abortDrawing();!Y&&this.stopClick_&&B.originalEvent.stopPropagation();return Y};O.prototype.handlePointerMove_=
function(B){this.pointerType_=B.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var Y=this.downPx_,ka=B.pixel,Z=Y[0]-ka[0];Y=Y[1]-ka[1];Z=Z*Z+Y*Y;this.shouldHandle_=this.freehand_?Z>this.squaredClickTolerance_:Z<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(B.coordinate):this.createOrUpdateSketchPoint_(B)};O.prototype.atFinish_=function(B){var Y=!1;if(this.sketchFeature_){var ka=
!1,Z=[this.finishCoordinate_],wa=this.mode_;wa===ja.POINT?Y=!0:wa===ja.CIRCLE?Y=2===this.sketchCoords_.length:wa===ja.LINE_STRING?ka=this.sketchCoords_.length>this.minPoints_:wa===ja.POLYGON&&(Z=this.sketchCoords_,ka=Z[0].length>this.minPoints_,Z=[Z[0][0],Z[0][Z[0].length-2]]);if(ka){ka=this.getMap();wa=0;for(var xa=Z.length;wa<xa;wa++){var Da=Z[wa],Wa=ka.getPixelFromCoordinate(Da);Y=B[0]-Wa[0];Wa=B[1]-Wa[1];if(Y=Math.sqrt(Y*Y+Wa*Wa)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=
Da;break}}}}return Y};O.prototype.createOrUpdateSketchPoint_=function(B){B=B.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(B):(this.sketchPoint_=new t["default"](new A["default"](B)),this.updateSketchFeatures_())};O.prototype.createOrUpdateCustomSketchLine_=function(B){this.sketchLine_||(this.sketchLine_=new t["default"]);B=B.getLinearRing(0);var Y=this.sketchLine_.getGeometry();Y?(Y.setFlatCoordinates(B.getLayout(),B.getFlatCoordinates()),Y.changed()):(Y=new d["default"](B.getFlatCoordinates(),
B.getLayout()),this.sketchLine_.setGeometry(Y))};O.prototype.startDrawing_=function(B){var Y=this.getMap().getView().getProjection();this.finishCoordinate_=B;this.mode_===ja.POINT?this.sketchCoords_=B.slice():this.mode_===ja.POLYGON?(this.sketchCoords_=[[B.slice(),B.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[B.slice(),B.slice()];this.sketchLineCoords_&&(this.sketchLine_=new t["default"](new d["default"](this.sketchLineCoords_)));B=this.geometryFunction_(this.sketchCoords_,
void 0,Y);this.sketchFeature_=new t["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(B);this.updateSketchFeatures_();this.dispatchEvent(new la("drawstart",this.sketchFeature_))};O.prototype.modifyDrawing_=function(B){var Y=this.getMap(),ka=this.sketchFeature_.getGeometry(),Z=Y.getView().getProjection();if(this.mode_===ja.POINT)var wa=this.sketchCoords_;else this.mode_===ja.POLYGON?(wa=this.sketchCoords_[0],wa=wa[wa.length-1],this.atFinish_(Y.getPixelFromCoordinate(B))&&
(B=this.finishCoordinate_.slice())):(wa=this.sketchCoords_,wa=wa[wa.length-1]);wa[0]=B[0];wa[1]=B[1];this.geometryFunction_(this.sketchCoords_,ka,Z);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(B);ka.getType()===k["default"].POLYGON&&this.mode_!==ja.POLYGON?this.createOrUpdateCustomSketchLine_(ka):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};O.prototype.addToDrawing_=function(B){var Y=this.sketchFeature_.getGeometry(),
ka=this.getMap().getView().getProjection(),Z;var wa=this.mode_;wa===ja.LINE_STRING||wa===ja.CIRCLE?(this.finishCoordinate_=B.slice(),wa=this.sketchCoords_,wa.length>=this.maxPoints_&&(this.freehand_?wa.pop():Z=!0),wa.push(B.slice()),this.geometryFunction_(wa,Y,ka)):wa===ja.POLYGON&&(wa=this.sketchCoords_[0],wa.length>=this.maxPoints_&&(this.freehand_?wa.pop():Z=!0),wa.push(B.slice()),Z&&(this.finishCoordinate_=wa[0]),this.geometryFunction_(this.sketchCoords_,Y,ka));this.updateSketchFeatures_();Z&&
this.finishDrawing()};O.prototype.removeLastPoint=function(){if(this.sketchFeature_){var B=this.sketchFeature_.getGeometry(),Y=this.getMap().getView().getProjection(),ka=this.mode_;if(ka===ja.LINE_STRING||ka===ja.CIRCLE){var Z=this.sketchCoords_;Z.splice(-2,1);2<=Z.length&&(this.finishCoordinate_=Z[Z.length-2].slice(),ka=this.finishCoordinate_.slice(),Z[Z.length-1]=ka,this.sketchPoint_.setGeometry(new A["default"](ka)));this.geometryFunction_(Z,B,Y);B.getType()===k["default"].POLYGON&&this.sketchLine_&&
this.createOrUpdateCustomSketchLine_(B)}else if(ka===ja.POLYGON){Z=this.sketchCoords_[0];Z.splice(-2,1);var wa=this.sketchLine_.getGeometry();2<=Z.length&&(ka=Z[Z.length-2].slice(),Z[Z.length-1]=ka,this.sketchPoint_.setGeometry(new A["default"](ka)));wa.setCoordinates(Z);this.geometryFunction_(this.sketchCoords_,B,Y)}1===Z.length&&this.abortDrawing();this.updateSketchFeatures_()}};O.prototype.finishDrawing=function(){var B=this.abortDrawing_();if(B){var Y=this.sketchCoords_,ka=B.getGeometry(),Z=this.getMap().getView().getProjection();
this.mode_===ja.LINE_STRING?(Y.pop(),this.geometryFunction_(Y,ka,Z)):this.mode_===ja.POLYGON&&(Y[0].pop(),this.geometryFunction_(Y,ka,Z),Y=ka.getCoordinates());this.type_===k["default"].MULTI_POINT?B.setGeometry(new n["default"]([Y])):this.type_===k["default"].MULTI_LINE_STRING?B.setGeometry(new e["default"]([Y])):this.type_===k["default"].MULTI_POLYGON&&B.setGeometry(new y["default"]([Y]));this.dispatchEvent(new la("drawend",B));this.features_&&this.features_.push(B);this.source_&&this.source_.addFeature(B)}};
O.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var B=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return B};O.prototype.abortDrawing=function(){var B=this.abortDrawing_();B&&this.dispatchEvent(new la("drawabort",B))};O.prototype.appendCoordinates=function(B){var Y=this.mode_,ka=!this.sketchFeature_;ka&&this.startDrawing_(B[0]);if(Y===ja.LINE_STRING||Y===ja.CIRCLE)Y=this.sketchCoords_;else if(Y===ja.POLYGON)Y=
this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;ka&&Y.shift();Y.pop();for(ka=0;ka<B.length;ka++)this.addToDrawing_(B[ka]);B=B[B.length-1];this.addToDrawing_(B);this.modifyDrawing_(B)};O.prototype.extend=function(B){var Y=B.getGeometry();this.sketchFeature_=B;this.sketchCoords_=Y.getCoordinates();B=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=B.slice();this.sketchCoords_.push(B.slice());this.sketchPoint_=new t["default"](new A["default"](B));
this.updateSketchFeatures_();this.dispatchEvent(new la("drawstart",this.sketchFeature_))};O.prototype.updateSketchFeatures_=function(){var B=[];this.sketchFeature_&&B.push(this.sketchFeature_);this.sketchLine_&&B.push(this.sketchLine_);this.sketchPoint_&&B.push(this.sketchPoint_);var Y=this.overlay_.getSource();Y.clear(!0);Y.addFeatures(B)};O.prototype.updateState_=function(){var B=this.getMap(),Y=this.getActive();B&&Y||this.abortDrawing();this.overlay_.setMap(Y?B:null)};return O}(ob["default"]);
J["default"]=z};
shadow$provide[244]=function(Ea,z,ob,J){function m(K){return K&&K.__esModule?K:{"default":K}}function l(){var K=(0,n.createEditingStyle)();return function(E,x){return K[u["default"].POLYGON]}}function w(){var K=(0,n.createEditingStyle)();return function(E,x){return K[u["default"].POINT]}}function G(K){return function(E){return(0,a.boundingExtent)([K,E])}}function L(K,E){return K[0]==E[0]?function(x){return(0,a.boundingExtent)([K,[x[0],E[1]]])}:K[1]==E[1]?function(x){return(0,a.boundingExtent)([K,
[E[0],x[1]]])}:null}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.ExtentEvent=void 0;Ea=m(z(84));var v=m(z(190)),u=m(z(119)),t=m(z(111)),k=m(z(145));ob=m(z(172));var f=m(z(236)),d=m(z(242)),g=z(173),a=z(80),e=z(98),n=z(206),y=z(152),A=z(130),C=function(){var K=function(E,x){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,H){D.__proto__=H}||function(D,H){for(var S in H)Object.prototype.hasOwnProperty.call(H,S)&&(D[S]=H[S])};return K(E,x)};return function(E,x){function D(){this.constructor=
E}K(E,x);E.prototype=null===x?Object.create(x):(D.prototype=x.prototype,new D)}}(),N=function(K){function E(x){var D=K.call(this,"extentchanged")||this;D.extent=x;return D}C(E,K);return E}(Ea["default"]);J.ExtentEvent=N;z=function(K){function E(x){var D=x||{};var H=K.call(this,D)||this;H.condition_=D.condition?D.condition:g.always;H.extent_=null;H.pointerHandler_=null;H.pixelTolerance_=void 0!==D.pixelTolerance?D.pixelTolerance:10;H.snappedToVertex_=!1;H.extentFeature_=null;H.vertexFeature_=null;
x||(x={});H.extentOverlay_=new f["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!x.wrapX}),style:x.boxStyle?x.boxStyle:l(),updateWhileAnimating:!0,updateWhileInteracting:!0});H.vertexOverlay_=new f["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!x.wrapX}),style:x.pointerStyle?x.pointerStyle:w(),updateWhileAnimating:!0,updateWhileInteracting:!0});x.extent&&H.setExtent(x.extent);return H}C(E,K);E.prototype.snapToVertex_=function(x,D){var H=D.getCoordinateFromPixelInternal(x),
S=function(fa,ja){return(0,e.squaredDistanceToSegment)(H,fa)-(0,e.squaredDistanceToSegment)(H,ja)},U=this.getExtentInternal();if(U){U=[[[U[0],U[1]],[U[0],U[3]]],[[U[0],U[3]],[U[2],U[3]]],[[U[2],U[3]],[U[2],U[1]]],[[U[2],U[1]],[U[0],U[1]]]];U.sort(S);S=U[0];U=(0,e.closestOnSegment)(H,S);var ia=D.getPixelFromCoordinateInternal(U);if((0,e.distance)(x,ia)<=this.pixelTolerance_)return x=D.getPixelFromCoordinateInternal(S[0]),D=D.getPixelFromCoordinateInternal(S[1]),x=(0,e.squaredDistance)(ia,x),D=(0,e.squaredDistance)(ia,
D),(this.snappedToVertex_=Math.sqrt(Math.min(x,D))<=this.pixelTolerance_)&&(U=x>D?S[1]:S[0]),U}return null};E.prototype.handlePointerMove_=function(x){var D=x.pixel;x=x.map;var H=this.snapToVertex_(D,x);H||(H=x.getCoordinateFromPixelInternal(D));this.createOrUpdatePointerFeature_(H)};E.prototype.createOrUpdateExtentFeature_=function(x){var D=this.extentFeature_;D?x?D.setGeometry((0,y.fromExtent)(x)):D.setGeometry(void 0):(this.extentFeature_=D=x?new v["default"]((0,y.fromExtent)(x)):new v["default"]({}),
this.extentOverlay_.getSource().addFeature(D));return D};E.prototype.createOrUpdatePointerFeature_=function(x){var D=this.vertexFeature_;D?D.getGeometry().setCoordinates(x):(this.vertexFeature_=D=new v["default"](new k["default"](x)),this.vertexOverlay_.getSource().addFeature(D));return D};E.prototype.handleEvent=function(x){if(!x.originalEvent||!this.condition_(x))return!0;x.type!=t["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(x);K.prototype.handleEvent.call(this,
x);return!1};E.prototype.handleDownEvent=function(x){var D=x.pixel,H=x.map,S=this.getExtentInternal();x=this.snapToVertex_(D,H);var U=function(ia){var fa=null,ja=null;ia[0]==S[0]?fa=S[2]:ia[0]==S[2]&&(fa=S[0]);ia[1]==S[1]?ja=S[3]:ia[1]==S[3]&&(ja=S[1]);return null!==fa&&null!==ja?[fa,ja]:null};x&&S?(D=x[0]==S[0]||x[0]==S[2]?x[0]:null,H=x[1]==S[1]||x[1]==S[3]?x[1]:null,null!==D&&null!==H?this.pointerHandler_=G(U(x)):null!==D?this.pointerHandler_=L(U([D,S[1]]),U([D,S[3]])):null!==H&&(this.pointerHandler_=
L(U([S[0],H]),U([S[2],H])))):(x=H.getCoordinateFromPixelInternal(D),this.setExtent([x[0],x[1],x[0],x[1]]),this.pointerHandler_=G(x));return!0};E.prototype.handleDragEvent=function(x){this.pointerHandler_&&(x=x.coordinate,this.setExtent(this.pointerHandler_(x)),this.createOrUpdatePointerFeature_(x))};E.prototype.handleUpEvent=function(x){this.pointerHandler_=null;(x=this.getExtentInternal())&&0!==(0,a.getArea)(x)||this.setExtent(null);return!1};E.prototype.setMap=function(x){this.extentOverlay_.setMap(x);
this.vertexOverlay_.setMap(x);K.prototype.setMap.call(this,x)};E.prototype.getExtent=function(){return(0,A.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};E.prototype.getExtentInternal=function(){return this.extent_};E.prototype.setExtent=function(x){this.extent_=x?x:null;this.createOrUpdateExtentFeature_(x);this.dispatchEvent(new N(this.extent_))};return E}(ob["default"]);J["default"]=z};
shadow$provide[245]=function(Ea,z,ob,J){function m(la){return la&&la.__esModule?la:{"default":la}}function l(la){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(da){return typeof da}:function(da){return da&&"function"===typeof Symbol&&da.constructor===Symbol&&da!==Symbol.prototype?"symbol":typeof da};return l(la)}function w(la,da){return la.index-da.index}function G(la,da,O){var B=da.geometry;if(B.getType()===d["default"].CIRCLE&&1===da.index)return(da=(0,H.getUserProjection)())&&
(B=B.clone().transform(da,O)),O=(0,K.squaredDistance)(B.getCenter(),(0,H.fromUserCoordinate)(la,O)),O=Math.sqrt(O)-B.getRadius(),O*O;la=(0,H.fromUserCoordinate)(la,O);fa[0]=(0,H.fromUserCoordinate)(da.segment[0],O);fa[1]=(0,H.fromUserCoordinate)(da.segment[1],O);return(0,K.squaredDistanceToSegment)(la,fa)}function L(la,da,O){var B=da.geometry;if(B.getType()===d["default"].CIRCLE&&1===da.index)return da=B,(B=(0,H.getUserProjection)())&&(da=da.clone().transform(B,O)),(0,H.toUserCoordinate)(da.getClosestPoint((0,
H.fromUserCoordinate)(la,O)),O);la=(0,H.fromUserCoordinate)(la,O);fa[0]=(0,H.fromUserCoordinate)(da.segment[0],O);fa[1]=(0,H.fromUserCoordinate)(da.segment[1],O);return(0,H.toUserCoordinate)((0,K.closestOnSegment)(la,fa),O)}function v(){var la=(0,E.createEditingStyle)();return function(da,O){return la[d["default"].POINT]}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.ModifyEvent=void 0;var u=m(z(107)),t=m(z(106));Ea=m(z(84));var k=m(z(88)),f=m(z(190)),d=m(z(119)),g=m(z(111)),a=m(z(145));
ob=m(z(172));var e=m(z(237)),n=m(z(239)),y=m(z(236)),A=m(z(242)),C=z(173),N=z(80),K=z(98),E=z(206),x=z(72),D=z(152),H=z(130),S=z(74),U=function(){var la=function(da,O){la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,Y){B.__proto__=Y}||function(B,Y){for(var ka in Y)Object.prototype.hasOwnProperty.call(Y,ka)&&(B[ka]=Y[ka])};return la(da,O)};return function(da,O){function B(){this.constructor=da}la(da,O);da.prototype=null===O?Object.create(O):(B.prototype=O.prototype,new B)}}(),
ia=[0,0,0,0],fa=[],ja=function(la){function da(O,B,Y){O=la.call(this,O)||this;O.features=B;O.mapBrowserEvent=Y;return O}U(da,la);return da}(Ea["default"]);J.ModifyEvent=ja;z=function(la){function da(O){var B=la.call(this,O)||this;B.boundHandleFeatureChange_=B.handleFeatureChange_.bind(B);B.condition_=O.condition?O.condition:C.primaryAction;B.defaultDeleteCondition_=function(ka){return(0,C.altKeyOnly)(ka)&&(0,C.singleClick)(ka)};B.deleteCondition_=O.deleteCondition?O.deleteCondition:B.defaultDeleteCondition_;
B.insertVertexCondition_=O.insertVertexCondition?O.insertVertexCondition:C.always;B.vertexFeature_=null;B.vertexSegments_=null;B.lastPixel_=[0,0];B.ignoreNextSingleClick_=!1;B.featuresBeingModified_=null;B.rBush_=new e["default"];B.pixelTolerance_=void 0!==O.pixelTolerance?O.pixelTolerance:10;B.snappedToVertex_=!1;B.changingFeature_=!1;B.dragSegments_=[];B.overlay_=new y["default"]({source:new A["default"]({useSpatialIndex:!1,wrapX:!!O.wrapX}),style:O.style?O.style:v(),updateWhileAnimating:!0,updateWhileInteracting:!0});
B.SEGMENT_WRITERS_={Point:B.writePointGeometry_.bind(B),LineString:B.writeLineStringGeometry_.bind(B),LinearRing:B.writeLineStringGeometry_.bind(B),Polygon:B.writePolygonGeometry_.bind(B),MultiPoint:B.writeMultiPointGeometry_.bind(B),MultiLineString:B.writeMultiLineStringGeometry_.bind(B),MultiPolygon:B.writeMultiPolygonGeometry_.bind(B),Circle:B.writeCircleGeometry_.bind(B),GeometryCollection:B.writeGeometryCollectionGeometry_.bind(B)};B.source_=null;B.hitDetection_=null;if(O.features)var Y=O.features;
else O.source&&(B.source_=O.source,Y=new u["default"](B.source_.getFeatures()),B.source_.addEventListener(n["default"].ADDFEATURE,B.handleSourceAdd_.bind(B)),B.source_.addEventListener(n["default"].REMOVEFEATURE,B.handleSourceRemove_.bind(B)));if(!Y)throw Error("The modify interaction requires features, a source or a layer");O.hitDetection&&(B.hitDetection_=O.hitDetection);B.features_=Y;B.features_.forEach(B.addFeature_.bind(B));B.features_.addEventListener(t["default"].ADD,B.handleFeatureAdd_.bind(B));
B.features_.addEventListener(t["default"].REMOVE,B.handleFeatureRemove_.bind(B));B.lastPointerEvent_=null;B.delta_=[0,0];return B}U(da,la);da.prototype.addFeature_=function(O){var B=O.getGeometry();if(B){var Y=this.SEGMENT_WRITERS_[B.getType()];Y&&Y(O,B)}(B=this.getMap())&&B.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,B);O.addEventListener(k["default"].CHANGE,this.boundHandleFeatureChange_)};da.prototype.willModifyFeatures_=function(O,B){if(!this.featuresBeingModified_){this.featuresBeingModified_=
new u["default"];for(var Y=this.featuresBeingModified_.getArray(),ka=0,Z=B.length;ka<Z;++ka){var wa=B[ka][0].feature;-1===Y.indexOf(wa)&&this.featuresBeingModified_.push(wa)}this.dispatchEvent(new ja("modifystart",this.featuresBeingModified_,O))}};da.prototype.removeFeature_=function(O){this.removeFeatureSegmentData_(O);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);O.removeEventListener(k["default"].CHANGE,
this.boundHandleFeatureChange_)};da.prototype.removeFeatureSegmentData_=function(O){var B=this.rBush_,Y=[];B.forEach(function(xa){O===xa.feature&&Y.push(xa)});for(var ka=Y.length-1;0<=ka;--ka){for(var Z=Y[ka],wa=this.dragSegments_.length-1;0<=wa;--wa)this.dragSegments_[wa][0]===Z&&this.dragSegments_.splice(wa,1);B.remove(Z)}};da.prototype.setActive=function(O){this.vertexFeature_&&!O&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);la.prototype.setActive.call(this,
O)};da.prototype.setMap=function(O){this.overlay_.setMap(O);la.prototype.setMap.call(this,O)};da.prototype.getOverlay=function(){return this.overlay_};da.prototype.handleSourceAdd_=function(O){O.feature&&this.features_.push(O.feature)};da.prototype.handleSourceRemove_=function(O){O.feature&&this.features_.remove(O.feature)};da.prototype.handleFeatureAdd_=function(O){this.addFeature_(O.element)};da.prototype.handleFeatureChange_=function(O){this.changingFeature_||(O=O.target,this.removeFeature_(O),
this.addFeature_(O))};da.prototype.handleFeatureRemove_=function(O){this.removeFeature_(O.element)};da.prototype.writePointGeometry_=function(O,B){var Y=B.getCoordinates();O={feature:O,geometry:B,segment:[Y,Y]};this.rBush_.insert(B.getExtent(),O)};da.prototype.writeMultiPointGeometry_=function(O,B){for(var Y=B.getCoordinates(),ka=0,Z=Y.length;ka<Z;++ka){var wa=Y[ka];wa={feature:O,geometry:B,depth:[ka],index:ka,segment:[wa,wa]};this.rBush_.insert(B.getExtent(),wa)}};da.prototype.writeLineStringGeometry_=
function(O,B){for(var Y=B.getCoordinates(),ka=0,Z=Y.length-1;ka<Z;++ka){var wa=Y.slice(ka,ka+2),xa={feature:O,geometry:B,index:ka,segment:wa};this.rBush_.insert((0,N.boundingExtent)(wa),xa)}};da.prototype.writeMultiLineStringGeometry_=function(O,B){for(var Y=B.getCoordinates(),ka=0,Z=Y.length;ka<Z;++ka)for(var wa=Y[ka],xa=0,Da=wa.length-1;xa<Da;++xa){var Wa=wa.slice(xa,xa+2),gb={feature:O,geometry:B,depth:[ka],index:xa,segment:Wa};this.rBush_.insert((0,N.boundingExtent)(Wa),gb)}};da.prototype.writePolygonGeometry_=
function(O,B){for(var Y=B.getCoordinates(),ka=0,Z=Y.length;ka<Z;++ka)for(var wa=Y[ka],xa=0,Da=wa.length-1;xa<Da;++xa){var Wa=wa.slice(xa,xa+2),gb={feature:O,geometry:B,depth:[ka],index:xa,segment:Wa};this.rBush_.insert((0,N.boundingExtent)(Wa),gb)}};da.prototype.writeMultiPolygonGeometry_=function(O,B){for(var Y=B.getCoordinates(),ka=0,Z=Y.length;ka<Z;++ka)for(var wa=Y[ka],xa=0,Da=wa.length;xa<Da;++xa)for(var Wa=wa[xa],gb=0,ra=Wa.length-1;gb<ra;++gb){var Na=Wa.slice(gb,gb+2),Ta={feature:O,geometry:B,
depth:[xa,ka],index:gb,segment:Na};this.rBush_.insert((0,N.boundingExtent)(Na),Ta)}};da.prototype.writeCircleGeometry_=function(O,B){var Y=B.getCenter(),ka={feature:O,geometry:B,index:0,segment:[Y,Y]};O={feature:O,geometry:B,index:1,segment:[Y,Y]};var Z=[ka,O];ka.featureSegments=Z;O.featureSegments=Z;this.rBush_.insert((0,N.createOrUpdateFromCoordinate)(Y),ka);(Y=(0,H.getUserProjection)())&&this.getMap()&&(ka=this.getMap().getView().getProjection(),B=B.clone().transform(Y,ka),B=(0,D.fromCircle)(B).transform(ka,
Y));this.rBush_.insert(B.getExtent(),O)};da.prototype.writeGeometryCollectionGeometry_=function(O,B){B=B.getGeometriesArray();for(var Y=0;Y<B.length;++Y){var ka=B[Y];(0,this.SEGMENT_WRITERS_[ka.getType()])(O,ka)}};da.prototype.createOrUpdateVertexFeature_=function(O,B,Y){var ka=this.vertexFeature_;ka?ka.getGeometry().setCoordinates(O):(this.vertexFeature_=ka=new f["default"](new a["default"](O)),this.overlay_.getSource().addFeature(ka));ka.set("features",B);ka.set("geometries",Y);return ka};da.prototype.handleEvent=
function(O){if(!O.originalEvent)return!0;this.lastPointerEvent_=O;var B;O.map.getView().getInteracting()||O.type!=g["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(O);this.vertexFeature_&&this.deleteCondition_(O)&&(B=O.type==g["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());O.type==g["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return la.prototype.handleEvent.call(this,O)&&!B};da.prototype.handleDragEvent=function(O){this.ignoreNextSingleClick_=
!1;this.willModifyFeatures_(O,this.dragSegments_);for(var B=[O.coordinate[0]+this.delta_[0],O.coordinate[1]+this.delta_[1]],Y=[],ka=[],Z=0,wa=this.dragSegments_.length;Z<wa;++Z){var xa=this.dragSegments_[Z],Da=xa[0],Wa=Da.feature;-1===Y.indexOf(Wa)&&Y.push(Wa);Wa=Da.geometry;-1===ka.indexOf(Wa)&&ka.push(Wa);var gb=Da.depth,ra=void 0,Na=Da.segment;for(xa=xa[1];B.length<Wa.getStride();)B.push(Na[xa][B.length]);switch(Wa.getType()){case d["default"].POINT:ra=B;Na[0]=B;Na[1]=B;break;case d["default"].MULTI_POINT:ra=
Wa.getCoordinates();ra[Da.index]=B;Na[0]=B;Na[1]=B;break;case d["default"].LINE_STRING:ra=Wa.getCoordinates();ra[Da.index+xa]=B;Na[xa]=B;break;case d["default"].MULTI_LINE_STRING:ra=Wa.getCoordinates();ra[gb[0]][Da.index+xa]=B;Na[xa]=B;break;case d["default"].POLYGON:ra=Wa.getCoordinates();ra[gb[0]][Da.index+xa]=B;Na[xa]=B;break;case d["default"].MULTI_POLYGON:ra=Wa.getCoordinates();ra[gb[1]][gb[0]][Da.index+xa]=B;Na[xa]=B;break;case d["default"].CIRCLE:Na[0]=B;Na[1]=B;if(0===Da.index)this.changingFeature_=
!0,Wa.setCenter(B);else{this.changingFeature_=!0;Da=O.map.getView().getProjection();xa=(0,K.distance)((0,H.fromUserCoordinate)(Wa.getCenter(),Da),(0,H.fromUserCoordinate)(B,Da));if(gb=(0,H.getUserProjection)())Na=Wa.clone().transform(gb,Da),Na.setRadius(xa),xa=Na.transform(Da,gb).getRadius();Wa.setRadius(xa)}this.changingFeature_=!1}ra&&this.setGeometryCoordinates_(Wa,ra)}this.createOrUpdateVertexFeature_(B,Y,ka)};da.prototype.handleDownEvent=function(O){if(!this.condition_(O))return!1;var B=O.coordinate;
this.handlePointerAtPixel_(O.pixel,O.map,B);this.dragSegments_.length=0;this.featuresBeingModified_=null;var Y=this.vertexFeature_;if(Y){var ka=O.map.getView().getProjection(),Z=[];Y=Y.getGeometry().getCoordinates();var wa=(0,N.boundingExtent)([Y]);wa=this.rBush_.getInExtent(wa);var xa={};wa.sort(w);for(var Da=0,Wa=wa.length;Da<Wa;++Da){var gb=wa[Da],ra=gb.segment,Na=(0,S.getUid)(gb.geometry),Ta=gb.depth;Ta&&(Na+="-"+Ta.join("-"));xa[Na]||(xa[Na]=Array(2));if(gb.geometry.getType()===d["default"].CIRCLE&&
1===gb.index)ra=L(B,gb,ka),(0,K.equals)(ra,Y)&&!xa[Na][0]&&(this.dragSegments_.push([gb,0]),xa[Na][0]=gb);else if((0,K.equals)(ra[0],Y)&&!xa[Na][0])this.dragSegments_.push([gb,0]),xa[Na][0]=gb;else if((0,K.equals)(ra[1],Y)&&!xa[Na][1]){if(gb.geometry.getType()!==d["default"].LINE_STRING&&gb.geometry.getType()!==d["default"].MULTI_LINE_STRING||!xa[Na][0]||0!==xa[Na][0].index)this.dragSegments_.push([gb,1]),xa[Na][1]=gb}else(0,S.getUid)(ra)in this.vertexSegments_&&!xa[Na][0]&&!xa[Na][1]&&this.insertVertexCondition_(O)&&
Z.push(gb)}Z.length&&this.willModifyFeatures_(O,[Z]);for(O=Z.length-1;0<=O;--O)this.insertVertex_(Z[O],Y)}return!!this.vertexFeature_};da.prototype.handleUpEvent=function(O){for(var B=this.dragSegments_.length-1;0<=B;--B){var Y=this.dragSegments_[B][0],ka=Y.geometry;if(ka.getType()===d["default"].CIRCLE){var Z=ka.getCenter(),wa=Y.featureSegments[0];Y=Y.featureSegments[1];wa.segment[0]=Z;wa.segment[1]=Z;Y.segment[0]=Z;Y.segment[1]=Z;this.rBush_.update((0,N.createOrUpdateFromCoordinate)(Z),wa);if(Z=
(0,H.getUserProjection)())wa=O.map.getView().getProjection(),ka=ka.clone().transform(Z,wa),ka=(0,D.fromCircle)(ka).transform(wa,Z);this.rBush_.update(ka.getExtent(),Y)}else this.rBush_.update((0,N.boundingExtent)(Y.segment),Y)}this.featuresBeingModified_&&(this.dispatchEvent(new ja("modifyend",this.featuresBeingModified_,O)),this.featuresBeingModified_=null);return!1};da.prototype.handlePointerMove_=function(O){this.lastPixel_=O.pixel;this.handlePointerAtPixel_(O.pixel,O.map,O.coordinate)};da.prototype.handlePointerAtPixel_=
function(O,B,Y){var ka=this,Z=Y||B.getCoordinateFromPixel(O),wa=B.getView().getProjection();Y=function(za,pa){return G(Z,za,wa)-G(Z,pa,wa)};var xa;if(this.hitDetection_){var Da="object"===l(this.hitDetection_)?function(za){return za===ka.hitDetection_}:void 0;B.forEachFeatureAtPixel(O,function(za,pa,T){T=T||za.getGeometry();T.getType()===d["default"].POINT&&(xa=T,pa=T.getCoordinates(),gb=[{feature:za,geometry:T,segment:[pa,pa]}]);return!0},{layerFilter:Da})}if(!gb){Da=(0,H.fromUserExtent)((0,N.createOrUpdateFromCoordinate)(Z,
ia),wa);var Wa=B.getView().getResolution()*this.pixelTolerance_;Da=(0,H.toUserExtent)((0,N.buffer)(Da,Wa,ia),wa);var gb=this.rBush_.getInExtent(Da)}if(gb&&0<gb.length){Da=gb.sort(Y)[0];Y=Da.segment;Wa=L(Z,Da,wa);var ra=B.getPixelFromCoordinate(Wa),Na=(0,K.distance)(O,ra);if(xa||Na<=this.pixelTolerance_){O={};O[(0,S.getUid)(Y)]=!0;this.delta_[0]=Wa[0]-Z[0];this.delta_[1]=Wa[1]-Z[1];if(Da.geometry.getType()===d["default"].CIRCLE&&1===Da.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(Wa,
[Da.feature],[Da.geometry]);else{Na=B.getPixelFromCoordinate(Y[0]);var Ta=B.getPixelFromCoordinate(Y[1]);B=(0,K.squaredDistance)(ra,Na);ra=(0,K.squaredDistance)(ra,Ta);Na=Math.sqrt(Math.min(B,ra));(this.snappedToVertex_=Na<=this.pixelTolerance_)&&(Wa=B>ra?Y[1]:Y[0]);this.createOrUpdateVertexFeature_(Wa,[Da.feature],[Da.geometry]);B={};B[(0,S.getUid)(Da.geometry)]=!0;Da=1;for(Wa=gb.length;Da<Wa;++Da)if(ra=gb[Da].segment,(0,K.equals)(Y[0],ra[0])&&(0,K.equals)(Y[1],ra[1])||(0,K.equals)(Y[0],ra[1])&&
(0,K.equals)(Y[1],ra[0]))Na=(0,S.getUid)(gb[Da].geometry),Na in B||(B[Na]=!0,O[(0,S.getUid)(ra)]=!0);else break}this.vertexSegments_=O;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};da.prototype.insertVertex_=function(O,B){for(var Y=O.segment,ka=O.feature,Z=O.geometry,wa=O.depth,xa=O.index,Da;B.length<Z.getStride();)B.push(0);switch(Z.getType()){case d["default"].MULTI_LINE_STRING:Da=Z.getCoordinates();Da[wa[0]].splice(xa+1,0,
B);break;case d["default"].POLYGON:Da=Z.getCoordinates();Da[wa[0]].splice(xa+1,0,B);break;case d["default"].MULTI_POLYGON:Da=Z.getCoordinates();Da[wa[1]][wa[0]].splice(xa+1,0,B);break;case d["default"].LINE_STRING:Da=Z.getCoordinates();Da.splice(xa+1,0,B);break;default:return}this.setGeometryCoordinates_(Z,Da);Da=this.rBush_;Da.remove(O);this.updateSegmentIndices_(Z,xa,wa,1);O={segment:[Y[0],B],feature:ka,geometry:Z,depth:wa,index:xa};Da.insert((0,N.boundingExtent)(O.segment),O);this.dragSegments_.push([O,
1]);B={segment:[B,Y[1]],feature:ka,geometry:Z,depth:wa,index:xa+1};Da.insert((0,N.boundingExtent)(B.segment),B);this.dragSegments_.push([B,0]);this.ignoreNextSingleClick_=!0};da.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=g["default"].POINTERDRAG){var O=this.lastPointerEvent_;this.willModifyFeatures_(O,this.dragSegments_);var B=this.removeVertex_();this.dispatchEvent(new ja("modifyend",this.featuresBeingModified_,O));this.featuresBeingModified_=null;return B}return!1};
da.prototype.removeVertex_=function(){var O=this.dragSegments_,B={},Y=!1,ka,Z;for(Z=O.length-1;0<=Z;--Z){var wa=O[Z];var xa=wa[0];var Da=(0,S.getUid)(xa.feature);xa.depth&&(Da+="-"+xa.depth.join("-"));Da in B||(B[Da]={});0===wa[1]?(B[Da].right=xa,B[Da].index=xa.index):1==wa[1]&&(B[Da].left=xa,B[Da].index=xa.index+1)}for(Da in B){var Wa=B[Da].right;var gb=B[Da].left;Z=B[Da].index;var ra=Z-1;xa=void 0!==gb?gb:Wa;0>ra&&(ra=0);wa=xa.geometry;var Na=ka=wa.getCoordinates();Y=!1;switch(wa.getType()){case d["default"].MULTI_LINE_STRING:2<
ka[xa.depth[0]].length&&(ka[xa.depth[0]].splice(Z,1),Y=!0);break;case d["default"].LINE_STRING:2<ka.length&&(ka.splice(Z,1),Y=!0);break;case d["default"].MULTI_POLYGON:Na=Na[xa.depth[1]];case d["default"].POLYGON:Na=Na[xa.depth[0]],4<Na.length&&(Z==Na.length-1&&(Z=0),Na.splice(Z,1),Y=!0,0===Z&&(Na.pop(),Na.push(Na[0]),ra=Na.length-1))}Y&&(this.setGeometryCoordinates_(wa,ka),Na=[],void 0!==gb&&(this.rBush_.remove(gb),Na.push(gb.segment[0])),void 0!==Wa&&(this.rBush_.remove(Wa),Na.push(Wa.segment[1])),
void 0!==gb&&void 0!==Wa&&(gb={depth:xa.depth,feature:xa.feature,geometry:xa.geometry,index:ra,segment:Na},this.rBush_.insert((0,N.boundingExtent)(gb.segment),gb)),this.updateSegmentIndices_(wa,Z,xa.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),O.length=0)}return Y};da.prototype.setGeometryCoordinates_=function(O,B){this.changingFeature_=!0;O.setCoordinates(B);this.changingFeature_=!1};da.prototype.updateSegmentIndices_=function(O,
B,Y,ka){this.rBush_.forEachInExtent(O.getExtent(),function(Z){Z.geometry===O&&(void 0===Y||void 0===Z.depth||(0,x.equals)(Z.depth,Y))&&Z.index>B&&(Z.index+=ka)})};return da}(ob["default"]);J["default"]=z};
shadow$provide[246]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(){var n=(0,t.createEditingStyle)();(0,k.extend)(n[L["default"].POLYGON],n[L["default"].LINE_STRING]);(0,k.extend)(n[L["default"].GEOMETRY_COLLECTION],n[L["default"].LINE_STRING]);return function(y){return y.getGeometry()?n[y.getGeometry().getType()]:null}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.SelectEvent=void 0;var w=m(z(107)),G=m(z(106));Ea=m(z(84));var L=m(z(119));ob=
m(z(170));var v=z(73),u=z(86),t=z(206),k=z(72),f=z(74),d=z(173),g=function(){var n=function(y,A){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(C[K]=N[K])};return n(y,A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}(),a=function(n){function y(A,C,N,K){A=n.call(this,A)||this;A.selected=C;A.deselected=
N;A.mapBrowserEvent=K;return A}g(y,n);return y}(Ea["default"]);J.SelectEvent=a;var e={};z=function(n){function y(A){var C=n.call(this)||this;A=A?A:{};C.boundAddFeature_=C.addFeature_.bind(C);C.boundRemoveFeature_=C.removeFeature_.bind(C);C.condition_=A.condition?A.condition:d.singleClick;C.addCondition_=A.addCondition?A.addCondition:d.never;C.removeCondition_=A.removeCondition?A.removeCondition:d.never;C.toggleCondition_=A.toggleCondition?A.toggleCondition:d.shiftKeyOnly;C.multi_=A.multi?A.multi:
!1;C.filter_=A.filter?A.filter:v.TRUE;C.hitTolerance_=A.hitTolerance?A.hitTolerance:0;C.style_=void 0!==A.style?A.style:l();C.features_=A.features||new w["default"];if(A.layers)if("function"===typeof A.layers)A=A.layers;else{var N=A.layers;A=function(K){return(0,k.includes)(N,K)}}else A=v.TRUE;C.layerFilter_=A;C.featureLayerAssociation_={};return C}g(y,n);y.prototype.addFeatureLayerAssociation_=function(A,C){this.featureLayerAssociation_[(0,f.getUid)(A)]=C};y.prototype.getFeatures=function(){return this.features_};
y.prototype.getHitTolerance=function(){return this.hitTolerance_};y.prototype.getLayer=function(A){return this.featureLayerAssociation_[(0,f.getUid)(A)]};y.prototype.setHitTolerance=function(A){this.hitTolerance_=A};y.prototype.setMap=function(A){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));n.prototype.setMap.call(this,A);A?(this.features_.addEventListener(G["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(G["default"].REMOVE,this.boundRemoveFeature_),
this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(G["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(G["default"].REMOVE,this.boundRemoveFeature_))};y.prototype.addFeature_=function(A){A=A.element;this.style_&&this.applySelectedStyle_(A)};y.prototype.removeFeature_=function(A){A=A.element;this.style_&&this.restorePreviousStyle_(A)};y.prototype.getStyle=function(){return this.style_};y.prototype.applySelectedStyle_=
function(A){var C=(0,f.getUid)(A);C in e||(e[C]=A.getStyle());A.setStyle(this.style_)};y.prototype.restorePreviousStyle_=function(A){for(var C=this.getMap().getInteractions().getArray(),N=C.length-1;0<=N;--N){var K=C[N];if(K!==this&&K instanceof y&&K.getStyle()&&-1!==K.getFeatures().getArray().lastIndexOf(A)){A.setStyle(K.getStyle());return}}C=(0,f.getUid)(A);A.setStyle(e[C]);delete e[C]};y.prototype.removeFeatureLayerAssociation_=function(A){delete this.featureLayerAssociation_[(0,f.getUid)(A)]};
y.prototype.handleEvent=function(A){if(!this.condition_(A))return!0;var C=this.addCondition_(A),N=this.removeCondition_(A),K=this.toggleCondition_(A),E=!C&&!N&&!K,x=A.map,D=this.getFeatures(),H=[],S=[];if(E){(0,u.clear)(this.featureLayerAssociation_);x.forEachFeatureAtPixel(A.pixel,function(ia,fa){if(this.filter_(ia,fa))return S.push(ia),this.addFeatureLayerAssociation_(ia,fa),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(E=D.getLength()-1;0<=E;--E){x=
D.item(E);var U=S.indexOf(x);-1<U?S.splice(U,1):(D.remove(x),H.push(x))}0!==S.length&&D.extend(S)}else{x.forEachFeatureAtPixel(A.pixel,function(ia,fa){if(this.filter_(ia,fa))return!C&&!K||(0,k.includes)(D.getArray(),ia)?(N||K)&&(0,k.includes)(D.getArray(),ia)&&(H.push(ia),this.removeFeatureLayerAssociation_(ia)):(S.push(ia),this.addFeatureLayerAssociation_(ia,fa)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(E=H.length-1;0<=E;--E)D.remove(H[E]);D.extend(S)}(0<
S.length||0<H.length)&&this.dispatchEvent(new a("select",S,H,A));return!0};return y}(ob["default"]);J["default"]=z};
shadow$provide[247]=function(Ea,z,ob,J){function m(C){return C&&C.__esModule?C:{"default":C}}function l(C){if(C.feature)return C.feature;if(C.element)return C.element}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=m(z(106)),G=m(z(88)),L=m(z(119));Ea=m(z(172));var v=m(z(237)),u=m(z(239)),t=z(73),k=z(80),f=z(98),d=z(152),g=z(130),a=z(74),e=z(86),n=z(89),y=function(){var C=function(N,K){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||
function(E,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(E[D]=x[D])};return C(N,K)};return function(N,K){function E(){this.constructor=N}C(N,K);N.prototype=null===K?Object.create(K):(E.prototype=K.prototype,new E)}}(),A=[];z=function(C){function N(K){var E=K?K:{};E.handleDownEvent||(E.handleDownEvent=t.TRUE);E.stopDown||(E.stopDown=t.FALSE);K=C.call(this,E)||this;K.source_=E.source?E.source:null;K.vertex_=void 0!==E.vertex?E.vertex:!0;K.edge_=void 0!==E.edge?E.edge:!0;K.features_=
E.features?E.features:null;K.featuresListenerKeys_=[];K.featureChangeListenerKeys_={};K.indexedFeaturesExtents_={};K.pendingFeatures_={};K.pixelTolerance_=void 0!==E.pixelTolerance?E.pixelTolerance:10;K.rBush_=new v["default"];K.SEGMENT_WRITERS_={Point:K.writePointGeometry_.bind(K),LineString:K.writeLineStringGeometry_.bind(K),LinearRing:K.writeLineStringGeometry_.bind(K),Polygon:K.writePolygonGeometry_.bind(K),MultiPoint:K.writeMultiPointGeometry_.bind(K),MultiLineString:K.writeMultiLineStringGeometry_.bind(K),
MultiPolygon:K.writeMultiPolygonGeometry_.bind(K),GeometryCollection:K.writeGeometryCollectionGeometry_.bind(K),Circle:K.writeCircleGeometry_.bind(K)};return K}y(N,C);N.prototype.addFeature=function(K,E){E=void 0!==E?E:!0;var x=(0,a.getUid)(K),D=K.getGeometry();if(D){var H=this.SEGMENT_WRITERS_[D.getType()];H&&(this.indexedFeaturesExtents_[x]=D.getExtent((0,k.createEmpty)()),H(K,D))}E&&(this.featureChangeListenerKeys_[x]=(0,n.listen)(K,G["default"].CHANGE,this.handleFeatureChange_,this))};N.prototype.forEachFeatureAdd_=
function(K){this.addFeature(K)};N.prototype.forEachFeatureRemove_=function(K){this.removeFeature(K)};N.prototype.getFeatures_=function(){var K;this.features_?K=this.features_:this.source_&&(K=this.source_.getFeatures());return K};N.prototype.handleEvent=function(K){var E=this.snapTo(K.pixel,K.coordinate,K.map);E.snapped&&(K.coordinate=E.vertex.slice(0,2),K.pixel=E.vertexPixel);return C.prototype.handleEvent.call(this,K)};N.prototype.handleFeatureAdd_=function(K){K=l(K);this.addFeature(K)};N.prototype.handleFeatureRemove_=
function(K){K=l(K);this.removeFeature(K)};N.prototype.handleFeatureChange_=function(K){K=K.target;if(this.handlingDownUpSequence){var E=(0,a.getUid)(K);E in this.pendingFeatures_||(this.pendingFeatures_[E]=K)}else this.updateFeature_(K)};N.prototype.handleUpEvent=function(K){K=(0,e.getValues)(this.pendingFeatures_);K.length&&(K.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};N.prototype.removeFeature=function(K,E){E=void 0!==E?E:!0;var x=(0,a.getUid)(K),D=this.indexedFeaturesExtents_[x];
if(D){var H=this.rBush_,S=[];H.forEachInExtent(D,function(U){K===U.feature&&S.push(U)});for(D=S.length-1;0<=D;--D)H.remove(S[D])}E&&((0,n.unlistenByKey)(this.featureChangeListenerKeys_[x]),delete this.featureChangeListenerKeys_[x])};N.prototype.setMap=function(K){var E=this.getMap(),x=this.featuresListenerKeys_,D=this.getFeatures_();E&&(x.forEach(n.unlistenByKey),x.length=0,D.forEach(this.forEachFeatureRemove_.bind(this)));C.prototype.setMap.call(this,K);K&&(this.features_?x.push((0,n.listen)(this.features_,
w["default"].ADD,this.handleFeatureAdd_,this),(0,n.listen)(this.features_,w["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&x.push((0,n.listen)(this.source_,u["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,n.listen)(this.source_,u["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),D.forEach(this.forEachFeatureAdd_.bind(this)))};N.prototype.snapTo=function(K,E,x){var D=x.getCoordinateFromPixel([K[0]-this.pixelTolerance_,K[1]+this.pixelTolerance_]),H=x.getCoordinateFromPixel([K[0]+
this.pixelTolerance_,K[1]-this.pixelTolerance_]);D=(0,k.boundingExtent)([D,H]);var S=this.rBush_.getInExtent(D);this.vertex_&&!this.edge_&&(S=S.filter(function(B){return B.feature.getGeometry().getType()!==L["default"].CIRCLE}));D=!1;var U=H=null;if(0===S.length)return{snapped:D,vertex:H,vertexPixel:U};var ia=x.getView().getProjection();E=(0,g.fromUserCoordinate)(E,ia);for(var fa,ja=Infinity,la=0;la<S.length;++la){var da=S[la];A[0]=(0,g.fromUserCoordinate)(da.segment[0],ia);A[1]=(0,g.fromUserCoordinate)(da.segment[1],
ia);var O=(0,f.squaredDistanceToSegment)(E,A);O<ja&&(fa=da,ja=O)}S=fa.segment;this.vertex_&&!this.edge_?(fa=x.getPixelFromCoordinate(S[0]),ia=x.getPixelFromCoordinate(S[1]),fa=(0,f.squaredDistance)(K,fa),K=(0,f.squaredDistance)(K,ia),ia=Math.sqrt(Math.min(fa,K)),ia<=this.pixelTolerance_&&(D=!0,H=fa>K?S[1]:S[0],U=x.getPixelFromCoordinate(H))):this.edge_&&((ja=fa.feature.getGeometry().getType()===L["default"].CIRCLE)?(H=fa.feature.getGeometry(),(U=(0,g.getUserProjection)())&&(H=H.clone().transform(U,
ia)),H=(0,g.toUserCoordinate)((0,f.closestOnCircle)(E,H),ia)):(A[0]=(0,g.fromUserCoordinate)(S[0],ia),A[1]=(0,g.fromUserCoordinate)(S[1],ia),H=(0,g.toUserCoordinate)((0,f.closestOnSegment)(E,A),ia)),U=x.getPixelFromCoordinate(H),(0,f.distance)(K,U)<=this.pixelTolerance_&&(D=!0,this.vertex_&&!ja&&(fa=x.getPixelFromCoordinate(S[0]),ia=x.getPixelFromCoordinate(S[1]),fa=(0,f.squaredDistance)(U,fa),K=(0,f.squaredDistance)(U,ia),ia=Math.sqrt(Math.min(fa,K)),ia<=this.pixelTolerance_&&(H=fa>K?S[1]:S[0],U=
x.getPixelFromCoordinate(H)))));D&&(U=[Math.round(U[0]),Math.round(U[1])]);return{snapped:D,vertex:H,vertexPixel:U}};N.prototype.updateFeature_=function(K){this.removeFeature(K,!1);this.addFeature(K,!1)};N.prototype.writeCircleGeometry_=function(K,E){var x=this.getMap().getView().getProjection(),D=E;(E=(0,g.getUserProjection)())&&(D=D.clone().transform(E,x));D=(0,d.fromCircle)(D);E&&D.transform(x,E);x=D.getCoordinates()[0];E=0;for(D=x.length-1;E<D;++E){var H=x.slice(E,E+2),S={feature:K,segment:H};
this.rBush_.insert((0,k.boundingExtent)(H),S)}};N.prototype.writeGeometryCollectionGeometry_=function(K,E){E=E.getGeometriesArray();for(var x=0;x<E.length;++x){var D=this.SEGMENT_WRITERS_[E[x].getType()];D&&D(K,E[x])}};N.prototype.writeLineStringGeometry_=function(K,E){E=E.getCoordinates();for(var x=0,D=E.length-1;x<D;++x){var H=E.slice(x,x+2),S={feature:K,segment:H};this.rBush_.insert((0,k.boundingExtent)(H),S)}};N.prototype.writeMultiLineStringGeometry_=function(K,E){E=E.getCoordinates();for(var x=
0,D=E.length;x<D;++x)for(var H=E[x],S=0,U=H.length-1;S<U;++S){var ia=H.slice(S,S+2),fa={feature:K,segment:ia};this.rBush_.insert((0,k.boundingExtent)(ia),fa)}};N.prototype.writeMultiPointGeometry_=function(K,E){for(var x=E.getCoordinates(),D=0,H=x.length;D<H;++D){var S=x[D];S={feature:K,segment:[S,S]};this.rBush_.insert(E.getExtent(),S)}};N.prototype.writeMultiPolygonGeometry_=function(K,E){E=E.getCoordinates();for(var x=0,D=E.length;x<D;++x)for(var H=E[x],S=0,U=H.length;S<U;++S)for(var ia=H[S],fa=
0,ja=ia.length-1;fa<ja;++fa){var la=ia.slice(fa,fa+2),da={feature:K,segment:la};this.rBush_.insert((0,k.boundingExtent)(la),da)}};N.prototype.writePointGeometry_=function(K,E){var x=E.getCoordinates();K={feature:K,segment:[x,x]};this.rBush_.insert(E.getExtent(),K)};N.prototype.writePolygonGeometry_=function(K,E){E=E.getCoordinates();for(var x=0,D=E.length;x<D;++x)for(var H=E[x],S=0,U=H.length-1;S<U;++S){var ia=H.slice(S,S+2),fa={feature:K,segment:ia};this.rBush_.insert((0,k.boundingExtent)(ia),fa)}};
return N}(Ea["default"]);J["default"]=z};
shadow$provide[248]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.TranslateEvent=void 0;var l=m(z(107));Ea=m(z(84));var w=m(z(169));ob=m(z(172));var G=z(73),L=z(91),v=z(72),u=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,
d){function g(){this.constructor=f}k(f,d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}(),t=function(k){function f(d,g,a,e,n){d=k.call(this,d)||this;d.features=g;d.coordinate=a;d.startCoordinate=e;d.mapBrowserEvent=n;return d}u(f,k);return f}(Ea["default"]);J.TranslateEvent=t;z=function(k){function f(d){var g=this;d=d?d:{};g=k.call(this,d)||this;g.lastCoordinate_=null;g.startCoordinate_=null;g.features_=void 0!==d.features?d.features:null;if(d.layers)if("function"===typeof d.layers)var a=
d.layers;else{var e=d.layers;a=function(n){return(0,v.includes)(e,n)}}else a=G.TRUE;g.layerFilter_=a;g.filter_=d.filter?d.filter:G.TRUE;g.hitTolerance_=d.hitTolerance?d.hitTolerance:0;g.lastFeature_=null;g.addEventListener((0,L.getChangeEventType)(w["default"].ACTIVE),g.handleActiveChanged_);return g}u(f,k);f.prototype.handleDownEvent=function(d){this.lastFeature_=this.featuresAtPixel_(d.pixel,d.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=d.coordinate;
this.handleMoveEvent(d);var g=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new t("translatestart",g,d.coordinate,this.startCoordinate_,d));return!0}return!1};f.prototype.handleUpEvent=function(d){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(d);var g=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new t("translateend",g,d.coordinate,this.startCoordinate_,d));this.startCoordinate_=null;return!0}return!1};f.prototype.handleDragEvent=
function(d){if(this.lastCoordinate_){var g=d.coordinate,a=g[0]-this.lastCoordinate_[0],e=g[1]-this.lastCoordinate_[1],n=this.features_||new l["default"]([this.lastFeature_]);n.forEach(function(y){var A=y.getGeometry();A.translate(a,e);y.setGeometry(A)});this.lastCoordinate_=g;this.dispatchEvent(new t("translating",n,g,this.startCoordinate_,d))}};f.prototype.handleMoveEvent=function(d){var g=d.map.getViewport();this.featuresAtPixel_(d.pixel,d.map)?(g.classList.remove(this.lastCoordinate_?"ol-grab":
"ol-grabbing"),g.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):g.classList.remove("ol-grab","ol-grabbing")};f.prototype.featuresAtPixel_=function(d,g){return g.forEachFeatureAtPixel(d,function(a,e){if(this.filter_(a,e)&&(!this.features_||(0,v.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};f.prototype.getHitTolerance=function(){return this.hitTolerance_};f.prototype.setHitTolerance=function(d){this.hitTolerance_=
d};f.prototype.setMap=function(d){var g=this.getMap();k.prototype.setMap.call(this,d);this.updateState_(g)};f.prototype.handleActiveChanged_=function(){this.updateState_(null)};f.prototype.updateState_=function(d){var g=this.getMap(),a=this.getActive();g&&a||(g=g||d)&&g.getViewport().classList.remove("ol-grab","ol-grabbing")};return f}(ob["default"]);J["default"]=z};
shadow$provide[249]=function(Ea,z,ob,J){function m(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(J,"__esModule",{value:!0});J.defaults=function(H){H=H?H:{};var S=new l["default"],U=new k["default"](-.005,.05,100);(void 0!==H.altShiftDragRotate?H.altShiftDragRotate:1)&&S.push(new L["default"]);(void 0!==H.doubleClickZoom?H.doubleClickZoom:1)&&S.push(new w["default"]({delta:H.zoomDelta,duration:H.zoomDuration}));(void 0!==H.dragPan?H.dragPan:1)&&S.push(new G["default"]({onFocusOnly:H.onFocusOnly,
kinetic:U}));(void 0!==H.pinchRotate?H.pinchRotate:1)&&S.push(new d["default"]);(void 0!==H.pinchZoom?H.pinchZoom:1)&&S.push(new g["default"]({duration:H.zoomDuration}));if(void 0!==H.keyboard?H.keyboard:1)S.push(new u["default"]),S.push(new t["default"]({delta:H.zoomDelta,duration:H.zoomDuration}));(void 0!==H.mouseWheelZoom?H.mouseWheelZoom:1)&&S.push(new f["default"]({onFocusOnly:H.onFocusOnly,duration:H.zoomDuration}));(void 0!==H.shiftDragZoom?H.shiftDragZoom:1)&&S.push(new v["default"]({duration:H.zoomDuration}));
return S};Object.defineProperty(J,"DoubleClickZoom",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"DragPan",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"DragRotate",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,"DragZoom",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"KeyboardPan",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"KeyboardZoom",{enumerable:!0,
get:function(){return t["default"]}});Object.defineProperty(J,"MouseWheelZoom",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(J,"PinchRotate",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(J,"PinchZoom",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(J,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(J,"DragBox",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(J,
"DragRotateAndZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(J,"Draw",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(J,"Extent",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(J,"Interaction",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(J,"Modify",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(J,"Pointer",{enumerable:!0,get:function(){return K["default"]}});
Object.defineProperty(J,"Select",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(J,"Snap",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(J,"Translate",{enumerable:!0,get:function(){return D["default"]}});var l=m(z(107)),w=m(z(171)),G=m(z(174)),L=m(z(175)),v=m(z(178)),u=m(z(180)),t=m(z(181)),k=m(z(182)),f=m(z(183)),d=m(z(184)),g=m(z(185)),a=m(z(187)),e=m(z(177)),n=m(z(188)),y=m(z(243)),A=m(z(244)),C=m(z(170)),N=m(z(245)),K=m(z(172)),E=m(z(246)),
x=m(z(247)),D=m(z(248))};
shadow$provide[250]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(105));Ea=m(z(155));var w=z(86),G=z(168),L=z(249),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);
t.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k){k=(0,w.assign)({},k);k.controls||(k.controls=(0,G.defaults)());k.interactions||(k.interactions=(0,L.defaults)({onFocusOnly:!0}));return u.call(this,k)||this}v(t,u);t.prototype.createRenderer=function(){return new l["default"](this)};return t}(Ea["default"]);J["default"]=z};
shadow$provide[251]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}function l(t){for(var k=[],f=0,d=t.length;f<d;++f)k.push(t[f].clone());return k}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=m(z(88));Ea=m(z(137));var G=m(z(119)),L=z(80),v=z(89),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};
return t(k,f)};return function(k,f){function d(){this.constructor=k}t(k,f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(f){var d=t.call(this)||this;d.geometries_=f?f:null;d.changeEventsKeys_=[];d.listenGeometriesChange_();return d}u(k,t);k.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(v.unlistenByKey);this.changeEventsKeys_.length=0};k.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var f=0,
d=this.geometries_.length;f<d;++f)this.changeEventsKeys_.push((0,v.listen)(this.geometries_[f],w["default"].CHANGE,this.changed,this))};k.prototype.clone=function(){var f=new k(null);f.setGeometries(this.geometries_);f.applyProperties(this);return f};k.prototype.closestPointXY=function(f,d,g,a){if(a<(0,L.closestSquaredDistanceXY)(this.getExtent(),f,d))return a;for(var e=this.geometries_,n=0,y=e.length;n<y;++n)a=e[n].closestPointXY(f,d,g,a);return a};k.prototype.containsXY=function(f,d){for(var g=
this.geometries_,a=0,e=g.length;a<e;++a)if(g[a].containsXY(f,d))return!0;return!1};k.prototype.computeExtent=function(f){(0,L.createOrUpdateEmpty)(f);for(var d=this.geometries_,g=0,a=d.length;g<a;++g)(0,L.extend)(f,d[g].getExtent());return f};k.prototype.getGeometries=function(){return l(this.geometries_)};k.prototype.getGeometriesArray=function(){return this.geometries_};k.prototype.getGeometriesArrayRecursive=function(){for(var f=[],d=this.geometries_,g=0,a=d.length;g<a;++g)d[g].getType()===this.getType()?
f=f.concat(d[g].getGeometriesArrayRecursive()):f.push(d[g]);return f};k.prototype.getSimplifiedGeometry=function(f){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>f||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&f<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var d=[],g=this.geometries_,a=!1,e=0,n=g.length;e<n;++e){var y=g[e],A=y.getSimplifiedGeometry(f);d.push(A);
A!==y&&(a=!0)}if(a)return f=new k(null),f.setGeometriesArray(d),f;this.simplifiedGeometryMaxMinSquaredTolerance=f;return this};k.prototype.getType=function(){return G["default"].GEOMETRY_COLLECTION};k.prototype.intersectsExtent=function(f){for(var d=this.geometries_,g=0,a=d.length;g<a;++g)if(d[g].intersectsExtent(f))return!0;return!1};k.prototype.isEmpty=function(){return 0===this.geometries_.length};k.prototype.rotate=function(f,d){for(var g=this.geometries_,a=0,e=g.length;a<e;++a)g[a].rotate(f,
d);this.changed()};k.prototype.scale=function(f,d,g){g||(g=(0,L.getCenter)(this.getExtent()));for(var a=this.geometries_,e=0,n=a.length;e<n;++e)a[e].scale(f,d,g);this.changed()};k.prototype.setGeometries=function(f){this.setGeometriesArray(l(f))};k.prototype.setGeometriesArray=function(f){this.unlistenGeometriesChange_();this.geometries_=f;this.listenGeometriesChange_();this.changed()};k.prototype.applyTransform=function(f){for(var d=this.geometries_,g=0,a=d.length;g<a;++g)d[g].applyTransform(f);
this.changed()};k.prototype.translate=function(f,d){for(var g=this.geometries_,a=0,e=g.length;a<e;++a)g[a].translate(f,d);this.changed()};k.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();t.prototype.disposeInternal.call(this)};return k}(Ea["default"]);J["default"]=z};
shadow$provide[252]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.transformGeometryWithOptions=function(L,v,u){var t=u?(0,G.get)(u.featureProjection):null,k=u?(0,G.get)(u.dataProjection):null;t=t&&k&&!(0,G.equivalent)(t,k)?(v?L.clone():L).transform(v?t:k,v?k:t):L;if(v&&u&&void 0!==u.decimals){var f=Math.pow(10,u.decimals);t===L&&(t=L.clone());t.applyTransform(function(d){for(var g=0,a=d.length;g<a;++g)d[g]=Math.round(d[g]*f)/f;return d})}return t};J.transformExtentWithOptions=
function(L,v){var u=v?(0,G.get)(v.featureProjection):null;v=v?(0,G.get)(v.dataProjection):null;return u&&v&&!(0,G.equivalent)(u,v)?(0,G.transformExtent)(L,v,u):L};J["default"]=void 0;var m=function(L){return L&&L.__esModule?L:{"default":L}}(z(120)),l=z(74),w=z(86),G=z(130);Ea=function(){function L(){this.defaultFeatureProjection=this.dataProjection=null}L.prototype.getReadOptions=function(v,u){if(u){v=u.dataProjection?(0,G.get)(u.dataProjection):this.readProjection(v);u.extent&&v&&v.getUnits()===
m["default"].TILE_PIXELS&&(v=(0,G.get)(v),v.setWorldExtent(u.extent));var t={dataProjection:v,featureProjection:u.featureProjection}}return this.adaptOptions(t)};L.prototype.adaptOptions=function(v){return(0,w.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},v)};L.prototype.getType=function(){return(0,l["abstract"])()};L.prototype.readFeature=function(v,u){return(0,l["abstract"])()};L.prototype.readFeatures=function(v,u){return(0,l["abstract"])()};L.prototype.readGeometry=
function(v,u){return(0,l["abstract"])()};L.prototype.readProjection=function(v){return(0,l["abstract"])()};L.prototype.writeFeature=function(v,u){return(0,l["abstract"])()};L.prototype.writeFeatures=function(v,u){return(0,l["abstract"])()};L.prototype.writeGeometry=function(v,u){return(0,l["abstract"])()};return L}();J["default"]=Ea};
shadow$provide[253]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}function l(v){return"string"===typeof v?v:""}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(252));var w=m(z(186)),G=z(74),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=
u}v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(){return v.call(this)||this}L(u,v);u.prototype.getType=function(){return w["default"].TEXT};u.prototype.readFeature=function(t,k){return this.readFeatureFromText(l(t),this.adaptOptions(k))};u.prototype.readFeatureFromText=function(t,k){return(0,G["abstract"])()};u.prototype.readFeatures=function(t,k){return this.readFeaturesFromText(l(t),this.adaptOptions(k))};u.prototype.readFeaturesFromText=
function(t,k){return(0,G["abstract"])()};u.prototype.readGeometry=function(t,k){return this.readGeometryFromText(l(t),this.adaptOptions(k))};u.prototype.readGeometryFromText=function(t,k){return(0,G["abstract"])()};u.prototype.readProjection=function(t){return this.readProjectionFromText(l(t))};u.prototype.readProjectionFromText=function(t){return this.dataProjection};u.prototype.writeFeature=function(t,k){return this.writeFeatureText(t,this.adaptOptions(k))};u.prototype.writeFeatureText=function(t,
k){return(0,G["abstract"])()};u.prototype.writeFeatures=function(t,k){return this.writeFeaturesText(t,this.adaptOptions(k))};u.prototype.writeFeaturesText=function(t,k){return(0,G["abstract"])()};u.prototype.writeGeometry=function(t,k){return this.writeGeometryText(t,this.adaptOptions(k))};u.prototype.writeGeometryText=function(t,k){return(0,G["abstract"])()};return u}(Ea["default"]);J["default"]=z};
shadow$provide[254]=function(Ea,z,ob,J){function m(x){return x&&x.__esModule?x:{"default":x}}function l(x){x=x.getCoordinates();return 0===x.length?"":x.join(" ")}function w(x){x=x.getCoordinates();for(var D=[],H=0,S=x.length;H<S;++H)D.push(x[H].join(" "));return D.join(",")}function G(x){var D=[];x=x.getLinearRings();for(var H=0,S=x.length;H<S;++H)D.push("("+w(x[H])+")");return D.join(",")}function L(x){var D=x.getType(),H=(0,E[D])(x);D=D.toUpperCase();if("function"===typeof x.getFlatCoordinates){x=
x.getLayout();var S="";if(x===t["default"].XYZ||x===t["default"].XYZM)S+="Z";if(x===t["default"].XYM||x===t["default"].XYZM)S+="M";x=S;0<x.length&&(D+=" "+x)}return 0===H.length?D+" EMPTY":D+"("+H+")"}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var v=m(z(190)),u=m(z(251)),t=m(z(135)),k=m(z(119));Ea=m(z(193));ob=m(z(194));var f=m(z(195)),d=m(z(197)),g=m(z(145)),a=m(z(152)),e=m(z(253)),n=z(252),y=function(){var x=function(D,H){x=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(S,U){S.__proto__=U}||function(S,U){for(var ia in U)Object.prototype.hasOwnProperty.call(U,ia)&&(S[ia]=U[ia])};return x(D,H)};return function(D,H){function S(){this.constructor=D}x(D,H);D.prototype=null===H?Object.create(H):(S.prototype=H.prototype,new S)}}(),A={POINT:g["default"],LINESTRING:Ea["default"],POLYGON:a["default"],MULTIPOINT:f["default"],MULTILINESTRING:ob["default"],MULTIPOLYGON:d["default"]},C;for(C in k["default"])k["default"][C].toUpperCase();var N=function(){function x(D){this.wkt=
D;this.index_=-1}x.prototype.isAlpha_=function(D){return"a"<=D&&"z">=D||"A"<=D&&"Z">=D};x.prototype.isNumeric_=function(D,H){return"0"<=D&&"9">=D||"."==D&&!(void 0!==H&&H)};x.prototype.isWhiteSpace_=function(D){return" "==D||"\t"==D||"\r"==D||"\n"==D};x.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};x.prototype.nextToken=function(){var D=this.nextChar_(),H=this.index_,S=D;if("("==D)D=2;else if(","==D)D=5;else if(")"==D)D=3;else if(this.isNumeric_(D)||"-"==D)D=4,S=this.readNumber_();
else if(this.isAlpha_(D))D=1,S=this.readText_();else{if(this.isWhiteSpace_(D))return this.nextToken();if(""===D)D=6;else throw Error("Unexpected character: "+D);}return{position:H,value:S,type:D}};x.prototype.readNumber_=function(){var D=this.index_,H=!1,S=!1;do{if("."==U)H=!0;else if("e"==U||"E"==U)S=!0;var U=this.nextChar_()}while(this.isNumeric_(U,H)||!S&&("e"==U||"E"==U)||S&&("-"==U||"+"==U));return parseFloat(this.wkt.substring(D,this.index_--))};x.prototype.readText_=function(){var D=this.index_;
do var H=this.nextChar_();while(this.isAlpha_(H));return this.wkt.substring(D,this.index_--).toUpperCase()};return x}(),K=function(){function x(D){this.lexer_=D;this.layout_=t["default"].XY}x.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};x.prototype.isTokenType=function(D){return this.token_.type==D};x.prototype.match=function(D){(D=this.isTokenType(D))&&this.consume_();return D};x.prototype.parse=function(){this.consume_();return this.parseGeometry_()};x.prototype.parseGeometryLayout_=
function(){var D=t["default"].XY,H=this.token_;this.isTokenType(1)&&(H=H.value,"Z"===H?D=t["default"].XYZ:"M"===H?D=t["default"].XYM:"ZM"===H&&(D=t["default"].XYZM),D!==t["default"].XY&&this.consume_());return D};x.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var D=[];do D.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return D}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};x.prototype.parsePointText_=function(){if(this.match(2)){var D=
this.parsePoint_();if(this.match(3))return D}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};x.prototype.parseLineStringText_=function(){if(this.match(2)){var D=this.parsePointList_();if(this.match(3))return D}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};x.prototype.parsePolygonText_=function(){if(this.match(2)){var D=this.parseLineStringTextList_();if(this.match(3))return D}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};x.prototype.parseMultiPointText_=function(){if(this.match(2)){var D=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return D}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};x.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var D=this.parseLineStringTextList_();if(this.match(3))return D}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};x.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var D=
this.parsePolygonTextList_();if(this.match(3))return D}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};x.prototype.parsePoint_=function(){for(var D=[],H=this.layout_.length,S=0;S<H;++S){var U=this.token_;if(this.match(4))D.push(U.value);else break}if(D.length==H)return D;throw Error(this.formatErrorMessage_());};x.prototype.parsePointList_=function(){for(var D=[this.parsePoint_()];this.match(5);)D.push(this.parsePoint_());return D};x.prototype.parsePointTextList_=
function(){for(var D=[this.parsePointText_()];this.match(5);)D.push(this.parsePointText_());return D};x.prototype.parseLineStringTextList_=function(){for(var D=[this.parseLineStringText_()];this.match(5);)D.push(this.parseLineStringText_());return D};x.prototype.parsePolygonTextList_=function(){for(var D=[this.parsePolygonText_()];this.match(5);)D.push(this.parsePolygonText_());return D};x.prototype.isEmptyGeometry_=function(){var D=this.isTokenType(1)&&"EMPTY"==this.token_.value;D&&this.consume_();
return D};x.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};x.prototype.parseGeometry_=function(){var D=this.token_;if(this.match(1)){var H=D.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==H)return D=this.parseGeometryCollectionText_(),new u["default"](D);D=A[H];if(!D)throw Error("Invalid geometry type: "+H);switch(H){case "POINT":H=this.parsePointText_();break;case "LINESTRING":H=
this.parseLineStringText_();break;case "POLYGON":H=this.parsePolygonText_();break;case "MULTIPOINT":H=this.parseMultiPointText_();break;case "MULTILINESTRING":H=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":H=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+H);}H||(H=D===A.POINT?[NaN,NaN]:[]);return new D(H,this.layout_)}throw Error(this.formatErrorMessage_());};return x}();z=function(x){function D(H){var S=x.call(this)||this;H=H?H:{};S.splitCollection_=
void 0!==H.splitCollection?H.splitCollection:!1;return S}y(D,x);D.prototype.parse_=function(H){H=new N(H);return(new K(H)).parse()};D.prototype.readFeatureFromText=function(H,S){return(H=this.readGeometryFromText(H,S))?(S=new v["default"],S.setGeometry(H),S):null};D.prototype.readFeaturesFromText=function(H,S){H=this.readGeometryFromText(H,S);H=this.splitCollection_&&H.getType()==k["default"].GEOMETRY_COLLECTION?H.getGeometriesArray():[H];S=[];for(var U=0,ia=H.length;U<ia;++U){var fa=new v["default"];
fa.setGeometry(H[U]);S.push(fa)}return S};D.prototype.readGeometryFromText=function(H,S){return(H=this.parse_(H))?(0,n.transformGeometryWithOptions)(H,!1,S):null};D.prototype.writeFeatureText=function(H,S){return(H=H.getGeometry())?this.writeGeometryText(H,S):""};D.prototype.writeFeaturesText=function(H,S){if(1==H.length)return this.writeFeatureText(H[0],S);for(var U=[],ia=0,fa=H.length;ia<fa;++ia)U.push(H[ia].getGeometry());H=new u["default"](U);return this.writeGeometryText(H,S)};D.prototype.writeGeometryText=
function(H,S){return L((0,n.transformGeometryWithOptions)(H,!0,S))};return D}(e["default"]);var E={Point:l,LineString:w,Polygon:G,MultiPoint:function(x){var D=[];x=x.getPoints();for(var H=0,S=x.length;H<S;++H)D.push("("+l(x[H])+")");return D.join(",")},MultiLineString:function(x){var D=[];x=x.getLineStrings();for(var H=0,S=x.length;H<S;++H)D.push("("+w(x[H])+")");return D.join(",")},MultiPolygon:function(x){var D=[];x=x.getPolygons();for(var H=0,S=x.length;H<S;++H)D.push("("+G(x[H])+")");return D.join(",")},
GeometryCollection:function(x){var D=[];x=x.getGeometries();for(var H=0,S=x.length;H<S;++H)D.push(L(x[H]));return D.join(",")}};J["default"]=z};
shadow$provide[255]=function(Ea,z,ob,J){function m(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(87));var l=m(z(88)),w=m(z(117)),G=z(74),L=z(134),v=function(){var u=function(t,k){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(f[g]=d[g])};return u(t,k)};return function(t,k){function f(){this.constructor=t}u(t,k);t.prototype=
null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();z=function(u){function t(k,f,d){var g=u.call(this)||this;d=d?d:{};g.tileCoord=k;g.state=f;g.interimTile=null;g.hifi=!0;g.key="";g.transition_=void 0===d.transition?250:d.transition;g.transitionStarts_={};return g}v(t,u);t.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};t.prototype.release=function(){};t.prototype.getKey=function(){return this.key+"/"+this.tileCoord};t.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var k=this.interimTile;do{if(k.getState()==w["default"].LOADED)return this.transition_=0,k;k=k.interimTile}while(k);return this};t.prototype.refreshInterimChain=function(){if(this.interimTile){var k=this.interimTile,f=this;do{if(k.getState()==w["default"].LOADED){k.interimTile=null;break}else k.getState()==w["default"].LOADING?f=k:k.getState()==w["default"].IDLE?f.interimTile=k.interimTile:f=k;k=f.interimTile}while(k)}};t.prototype.getTileCoord=function(){return this.tileCoord};t.prototype.getState=
function(){return this.state};t.prototype.setState=function(k){if(this.state!==w["default"].ERROR&&this.state>k)throw Error("Tile load sequence violation");this.state=k;this.changed()};t.prototype.load=function(){(0,G["abstract"])()};t.prototype.getAlpha=function(k,f){if(!this.transition_)return 1;var d=this.transitionStarts_[k];if(!d)d=f,this.transitionStarts_[k]=d;else if(-1===d)return 1;k=f-d+1E3/60;return k>=this.transition_?1:(0,L.easeIn)(k/this.transition_)};t.prototype.inTransition=function(k){return this.transition_?
-1!==this.transitionStarts_[k]:!1};t.prototype.endTransition=function(k){this.transition_&&(this.transitionStarts_[k]=-1)};return t}(Ea["default"]);J["default"]=z};
shadow$provide[256]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(255));var l=m(z(117)),w=z(103),G=z(228),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=
null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t,k,f,d,g,a){t=v.call(this,t,k,a)||this;t.crossOrigin_=d;t.src_=f;t.key=f;t.image_=new Image;null!==d&&(t.image_.crossOrigin=d);t.unlisten_=null;t.tileLoadFunction_=g;return t}L(u,v);u.prototype.getImage=function(){return this.image_};u.prototype.handleImageError_=function(){this.state=l["default"].ERROR;this.unlistenImage_();var t=(0,w.createCanvasContext2D)(1,1);t.fillStyle="rgba(0,0,0,0)";t.fillRect(0,0,1,1);
this.image_=t.canvas;this.changed()};u.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?l["default"].LOADED:l["default"].EMPTY;this.unlistenImage_();this.changed()};u.prototype.load=function(){this.state==l["default"].ERROR&&(this.state=l["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),this.tileLoadFunction_(this,
this.src_),this.unlisten_=(0,G.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};u.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return u}(Ea["default"]);J["default"]=z};
shadow$provide[257]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.ERROR_THRESHOLD=.5;J.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[258]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=z(80),l=z(130),w=z(81);Ea=function(){function G(L,v,u,t,k,f){this.sourceProj_=L;this.targetProj_=v;var d={},g=(0,l.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(C){var N=C[0]+"/"+C[1];d[N]||(d[N]=g(C));return d[N]};this.maxSourceExtent_=t;this.errorThresholdSquared_=k*k;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!t&&!!this.sourceProj_.getExtent()&&(0,m.getWidth)(t)==(0,m.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,m.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,m.getWidth)(this.targetProj_.getExtent()):null;L=(0,m.getTopLeft)(u);v=(0,m.getTopRight)(u);t=(0,m.getBottomRight)(u);k=(0,m.getBottomLeft)(u);var a=this.transformInv_(L),e=this.transformInv_(v),n=this.transformInv_(t),y=this.transformInv_(k);
u=10+(f?Math.max(0,Math.ceil((0,w.log2)((0,m.getArea)(u)/(f*f*65536)))):0);this.addQuad_(L,v,t,k,a,e,n,y,u);if(this.wrapsXInSource_){var A=Infinity;this.triangles_.forEach(function(C,N,K){A=Math.min(A,C.source[0][0],C.source[1][0],C.source[2][0])});this.triangles_.forEach(function(C){if(Math.max(C.source[0][0],C.source[1][0],C.source[2][0])-A>this.sourceWorldWidth_/2){var N=[[C.source[0][0],C.source[0][1]],[C.source[1][0],C.source[1][1]],[C.source[2][0],C.source[2][1]]];N[0][0]-A>this.sourceWorldWidth_/
2&&(N[0][0]-=this.sourceWorldWidth_);N[1][0]-A>this.sourceWorldWidth_/2&&(N[1][0]-=this.sourceWorldWidth_);N[2][0]-A>this.sourceWorldWidth_/2&&(N[2][0]-=this.sourceWorldWidth_);Math.max(N[0][0],N[1][0],N[2][0])-Math.min(N[0][0],N[1][0],N[2][0])<this.sourceWorldWidth_/2&&(C.source=N)}}.bind(this))}d={}}G.prototype.addTriangle_=function(L,v,u,t,k,f){this.triangles_.push({source:[t,k,f],target:[L,v,u]})};G.prototype.addQuad_=function(L,v,u,t,k,f,d,g,a){var e=(0,m.boundingExtent)([k,f,d,g]),n=this.sourceWorldWidth_?
(0,m.getWidth)(e)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,A=this.sourceProj_.canWrapX()&&.5<n&&1>n,C=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var N=(0,m.boundingExtent)([L,v,u,t]);C=.25<(0,m.getWidth)(N)/this.targetWorldWidth_||C}!A&&this.sourceProj_.isGlobal()&&n&&(C=.25<n||C)}if(C||!this.maxSourceExtent_||!(isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(e[3]))||(0,m.intersects)(e,this.maxSourceExtent_)){e=0;if(!(C||isFinite(k[0])&&isFinite(k[1])&&
isFinite(f[0])&&isFinite(f[1])&&isFinite(d[0])&&isFinite(d[1])&&isFinite(g[0])&&isFinite(g[1])))if(0<a)C=!0;else if(e=(isFinite(k[0])&&isFinite(k[1])?0:8)+(isFinite(f[0])&&isFinite(f[1])?0:4)+(isFinite(d[0])&&isFinite(d[1])?0:2)+(isFinite(g[0])&&isFinite(g[1])?0:1),1!=e&&2!=e&&4!=e&&8!=e)return;if(0<a&&(C||(C=this.transformInv_([(L[0]+u[0])/2,(L[1]+u[1])/2]),y=A?((0,w.modulo)(k[0],y)+(0,w.modulo)(d[0],y))/2-(0,w.modulo)(C[0],y):(k[0]+d[0])/2-C[0],C=(k[1]+d[1])/2-C[1],C=y*y+C*C>this.errorThresholdSquared_),
C)){Math.abs(L[0]-u[0])<=Math.abs(L[1]-u[1])?(A=[(v[0]+u[0])/2,(v[1]+u[1])/2],y=this.transformInv_(A),C=[(t[0]+L[0])/2,(t[1]+L[1])/2],e=this.transformInv_(C),this.addQuad_(L,v,A,C,k,f,y,e,a-1),this.addQuad_(C,A,u,t,e,y,d,g,a-1)):(A=[(L[0]+v[0])/2,(L[1]+v[1])/2],y=this.transformInv_(A),C=[(u[0]+t[0])/2,(u[1]+t[1])/2],e=this.transformInv_(C),this.addQuad_(L,A,C,t,k,y,e,g,a-1),this.addQuad_(A,v,u,C,y,f,d,e,a-1));return}if(A){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(e&11)&&this.addTriangle_(L,
u,t,k,d,g);0==(e&14)&&this.addTriangle_(L,u,v,k,d,f);e&&(0==(e&13)&&this.addTriangle_(v,t,L,f,g,k),0==(e&7)&&this.addTriangle_(v,t,u,f,g,d))}};G.prototype.calculateSourceExtent=function(){var L=(0,m.createEmpty)();this.triangles_.forEach(function(v,u,t){v=v.source;(0,m.extendCoordinate)(L,v[0]);(0,m.extendCoordinate)(L,v[1]);(0,m.extendCoordinate)(L,v[2])});return L};G.prototype.getTriangles=function(){return this.triangles_};return G}();J["default"]=Ea};
shadow$provide[259]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.DEFAULT_WMS_VERSION="1.3.0";J.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[260]=function(Ea,z,ob,J){function m(d,g,a,e,n){d.beginPath();d.moveTo(0,0);d.lineTo(g,a);d.lineTo(e,n);d.closePath();d.save();d.clip();d.fillRect(0,0,Math.max(g,e)+1,Math.max(a,n));d.restore()}function l(d,g){return 2<Math.abs(d[4*g]-210)||2<Math.abs(d[4*g+3]-191.25)}function w(d,g,a,e){var n=(0,t.transform)(a,g,d);a=(0,t.getPointResolution)(g,e,a);g=g.getMetersPerUnit();void 0!==g&&(a*=g);g=d.getMetersPerUnit();void 0!==g&&(a/=g);g=d.getExtent();if(!g||(0,v.containsCoordinate)(g,n))d=
(0,t.getPointResolution)(d,a,n)/a,isFinite(d)&&0<d&&(a/=d);return a}Object.defineProperty(J,"__esModule",{value:!0});J.calculateSourceResolution=w;J.calculateSourceExtentResolution=function(d,g,a,e){var n=(0,v.getCenter)(a),y=w(d,g,n,e);(!isFinite(y)||0>=y)&&(0,v.forEachCorner)(a,function(A){y=w(d,g,A,e);return isFinite(y)&&0<y});return y};J.render=function(d,g,a,e,n,y,A,C,N,K,E,x){function D(ja){return Math.round(ja*a)/a}var H=(0,u.createCanvasContext2D)(Math.round(a*d),Math.round(a*g));(0,L.assign)(H,
x);if(0===N.length)return H.canvas;H.scale(a,a);H.globalCompositeOperation="lighter";var S=(0,v.createEmpty)();N.forEach(function(ja,la,da){(0,v.extend)(S,ja.extent)});d=(0,v.getWidth)(S);g=(0,v.getHeight)(S);var U=(0,u.createCanvasContext2D)(Math.round(a*d/e),Math.round(a*g/e));(0,L.assign)(U,x);var ia=a/e;N.forEach(function(ja,la,da){la=ja.extent[0]-S[0];da=-(ja.extent[3]-S[3]);var O=(0,v.getWidth)(ja.extent),B=(0,v.getHeight)(ja.extent);0<ja.image.width&&0<ja.image.height&&U.drawImage(ja.image,
K,K,ja.image.width-2*K,ja.image.height-2*K,la*ia,da*ia,O*ia,B*ia)});var fa=(0,v.getTopLeft)(A);C.getTriangles().forEach(function(ja,la,da){da=ja.source;var O=ja.target;ja=da[0][0];la=da[0][1];var B=da[1][0],Y=da[1][1],ka=da[2][0],Z=da[2][1];da=D((O[0][0]-fa[0])/y);var wa=D(-(O[0][1]-fa[1])/y),xa=D((O[1][0]-fa[0])/y),Da=D(-(O[1][1]-fa[1])/y),Wa=D((O[2][0]-fa[0])/y);O=D(-(O[2][1]-fa[1])/y);B-=ja;Y-=la;ka-=ja;Z-=la;B=[[B,Y,0,0,xa-da],[ka,Z,0,0,Wa-da],[0,0,B,Y,Da-wa],[0,0,ka,Z,O-wa]];if(B=(0,k.solveLinearSystem)(B)){H.save();
H.beginPath();void 0===f&&(Y=document.createElement("canvas").getContext("2d"),Y.globalCompositeOperation="lighter",Y.fillStyle="rgba(210, 0, 0, 0.75)",m(Y,4,5,4,0),m(Y,4,5,0,5),Y=Y.getImageData(0,0,3,3).data,f=l(Y,0)||l(Y,4)||l(Y,8));if(f||x===G.IMAGE_SMOOTHING_DISABLED)for(H.moveTo(xa,Da),Y=da-xa,ka=wa-Da,Z=0;4>Z;Z++)H.lineTo(xa+D((Z+1)*Y/4),Da+D(Z*ka/3)),3!=Z&&H.lineTo(xa+D((Z+1)*Y/4),Da+D((Z+1)*ka/3));else H.moveTo(xa,Da),H.lineTo(da,wa);H.lineTo(Wa,O);H.clip();H.transform(B[0],B[2],B[1],B[3],
da,wa);H.translate(S[0]-ja,S[3]-la);H.scale(e/a,-e/a);H.drawImage(U.canvas,0,0);H.restore()}});E&&(H.save(),H.globalCompositeOperation="source-over",H.strokeStyle="black",H.lineWidth=1,C.getTriangles().forEach(function(ja,la,da){var O=ja.target;ja=(O[0][0]-fa[0])/y;la=-(O[0][1]-fa[1])/y;da=(O[1][0]-fa[0])/y;var B=-(O[1][1]-fa[1])/y,Y=(O[2][0]-fa[0])/y;O=-(O[2][1]-fa[1])/y;H.beginPath();H.moveTo(da,B);H.lineTo(ja,la);H.lineTo(Y,O);H.closePath();H.stroke()}),H.restore());return H.canvas};var G=z(259),
L=z(86),v=z(80),u=z(103),t=z(130),k=z(81),f};
shadow$provide[261]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=z(257),w=m(z(88));Ea=m(z(255));var G=m(z(117)),L=m(z(258)),v=z(260),u=z(81),t=z(80),k=z(89),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a,e,n,y,A,C,N,K,E,x,D,H){var S=d.call(this,A,G["default"].IDLE)||this;S.renderEdges_=void 0!==D?D:!1;S.contextOptions_=H;S.pixelRatio_=N;S.gutter_=K;S.canvas_=null;S.sourceTileGrid_=e;S.targetTileGrid_=y;S.wrappedTileCoord_=C?C:A;S.sourceTiles_=[];S.sourcesListenerKeys_=null;S.sourceZ_=0;C=y.getTileCoordExtent(S.wrappedTileCoord_);K=S.targetTileGrid_.getExtent();A=S.sourceTileGrid_.getExtent();
C=K?(0,t.getIntersection)(C,K):C;if(0===(0,t.getArea)(C))return S.state=G["default"].EMPTY,S;(K=a.getExtent())&&(A=A?(0,t.getIntersection)(A,K):K);y=y.getResolution(S.wrappedTileCoord_[0]);K=(0,v.calculateSourceExtentResolution)(a,n,C,y);if(!isFinite(K)||0>=K)return S.state=G["default"].EMPTY,S;S.triangulation_=new L["default"](a,n,C,A,K*(void 0!==x?x:l.ERROR_THRESHOLD),y);if(0===S.triangulation_.getTriangles().length)return S.state=G["default"].EMPTY,S;S.sourceZ_=e.getZForResolution(K);n=S.triangulation_.calculateSourceExtent();
A&&(a.canWrapX()?(n[1]=(0,u.clamp)(n[1],A[1],A[3]),n[3]=(0,u.clamp)(n[3],A[1],A[3])):n=(0,t.getIntersection)(n,A));if((0,t.getArea)(n)){a=e.getTileRangeForExtentAndZ(n,S.sourceZ_);for(e=a.minX;e<=a.maxX;e++)for(n=a.minY;n<=a.maxY;n++)(x=E(S.sourceZ_,e,n,N))&&S.sourceTiles_.push(x);0===S.sourceTiles_.length&&(S.state=G["default"].EMPTY)}else S.state=G["default"].EMPTY;return S}f(g,d);g.prototype.getImage=function(){return this.canvas_};g.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(N,
K,E){N&&N.getState()==G["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(N.tileCoord),image:N.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=G["default"].ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),y="number"===typeof n?n:n[0];n="number"===typeof n?n:n[1];e=this.targetTileGrid_.getResolution(e);var A=this.sourceTileGrid_.getResolution(this.sourceZ_),C=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,v.render)(y,n,this.pixelRatio_,A,this.sourceTileGrid_.getExtent(),e,C,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=G["default"].LOADED}this.changed()};g.prototype.load=function(){if(this.state==G["default"].IDLE){this.state=G["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,n,y){n=e.getState();if(n==G["default"].IDLE||n==G["default"].LOADING){a++;var A=(0,k.listen)(e,w["default"].CHANGE,
function(C){C=e.getState();if(C==G["default"].LOADED||C==G["default"].ERROR||C==G["default"].EMPTY)(0,k.unlistenByKey)(A),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(A)}}.bind(this));this.sourceTiles_.forEach(function(e,n,y){e.getState()==G["default"].IDLE&&e.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};g.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(k.unlistenByKey);this.sourcesListenerKeys_=null};return g}(Ea["default"]);
J["default"]=z};
shadow$provide[262]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=z(76);Ea=function(){function l(w){this.highWaterMark=void 0!==w?w:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}l.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};l.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};l.prototype.containsKey=function(w){return this.entries_.hasOwnProperty(w)};
l.prototype.forEach=function(w){for(var G=this.oldest_;G;)w(G.value_,G.key_,this),G=G.newer};l.prototype.get=function(w,G){w=this.entries_[w];(0,m.assert)(void 0!==w,15);if(w===this.newest_)return w.value_;w===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(w.newer.older=w.older,w.older.newer=w.newer);w.newer=null;w.older=this.newest_;this.newest_=this.newest_.newer=w;return w.value_};l.prototype.remove=function(w){var G=this.entries_[w];(0,m.assert)(void 0!==G,15);if(G===
this.newest_){if(this.newest_=G.older)this.newest_.newer=null}else if(G===this.oldest_){if(this.oldest_=G.newer)this.oldest_.older=null}else G.newer.older=G.older,G.older.newer=G.newer;delete this.entries_[w];--this.count_;return G.value_};l.prototype.getCount=function(){return this.count_};l.prototype.getKeys=function(){var w=Array(this.count_),G=0,L;for(L=this.newest_;L;L=L.older)w[G++]=L.key_;return w};l.prototype.getValues=function(){var w=Array(this.count_),G=0,L;for(L=this.newest_;L;L=L.older)w[G++]=
L.value_;return w};l.prototype.peekLast=function(){return this.oldest_.value_};l.prototype.peekLastKey=function(){return this.oldest_.key_};l.prototype.peekFirstKey=function(){return this.newest_.key_};l.prototype.pop=function(){var w=this.oldest_;delete this.entries_[w.key_];w.newer&&(w.newer.older=null);this.oldest_=w.newer;this.oldest_||(this.newest_=null);--this.count_;return w.value_};l.prototype.replace=function(w,G){this.get(w);this.entries_[w].value_=G};l.prototype.set=function(w,G){(0,m.assert)(!(w in
this.entries_),16);G={key_:w,newer:null,older:this.newest_,value_:G};this.newest_?this.newest_.newer=G:this.oldest_=G;this.newest_=G;this.entries_[w]=G;++this.count_};l.prototype.setSize=function(w){this.highWaterMark=w};return l}();J["default"]=Ea};
shadow$provide[263]=function(Ea,z,ob,J){function m(l,w,G){return l+"/"+w+"/"+G}Object.defineProperty(J,"__esModule",{value:!0});J.createOrUpdate=function(l,w,G,L){return void 0!==L?(L[0]=l,L[1]=w,L[2]=G,L):[l,w,G]};J.getKeyZXY=m;J.getKey=function(l){return m(l[0],l[1],l[2])};J.fromKey=function(l){return l.split("/").map(Number)};J.hash=function(l){return(l[1]<<l[0])+l[2]};J.withinExtentAndZ=function(l,w){var G=l[0],L=l[1];l=l[2];return w.getMinZoom()>G||G>w.getMaxZoom()?!1:(w=w.getFullTileRange(G))?
w.containsXY(L,l):!0}};
shadow$provide[264]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(w){return w&&w.__esModule?w:{"default":w}}(z(262));var m=z(263),l=function(){var w=function(G,L){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&(v[t]=u[t])};return w(G,L)};return function(G,L){function v(){this.constructor=G}w(G,L);G.prototype=null===L?Object.create(L):
(v.prototype=L.prototype,new v)}}();z=function(w){function G(){return null!==w&&w.apply(this,arguments)||this}l(G,w);G.prototype.expireCache=function(L){for(;this.canExpireCache()&&!(this.peekLast().getKey()in L);)this.pop().release()};G.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var L=this.peekFirstKey(),v=(0,m.fromKey)(L)[0];this.forEach(function(u){u.tileCoord[0]!==v&&(this.remove((0,m.getKey)(u.tileCoord)),u.release())}.bind(this))}};return G}(Ea["default"]);J["default"]=
z};
shadow$provide[265]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[266]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.createOrUpdate=function(l,w,G,L,v){return void 0!==v?(v.minX=l,v.maxX=w,v.minY=G,v.maxY=L,v):new m(l,w,G,L)};J["default"]=void 0;var m=function(){function l(w,G,L,v){this.minX=w;this.maxX=G;this.minY=L;this.maxY=v}l.prototype.contains=function(w){return this.containsXY(w[1],w[2])};l.prototype.containsTileRange=function(w){return this.minX<=w.minX&&w.maxX<=this.maxX&&this.minY<=w.minY&&w.maxY<=this.maxY};l.prototype.containsXY=
function(w,G){return this.minX<=w&&w<=this.maxX&&this.minY<=G&&G<=this.maxY};l.prototype.equals=function(w){return this.minX==w.minX&&this.minY==w.minY&&this.maxX==w.maxX&&this.maxY==w.maxY};l.prototype.extend=function(w){w.minX<this.minX&&(this.minX=w.minX);w.maxX>this.maxX&&(this.maxX=w.maxX);w.minY<this.minY&&(this.minY=w.minY);w.maxY>this.maxY&&(this.maxY=w.maxY)};l.prototype.getHeight=function(){return this.maxY-this.minY+1};l.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
l.prototype.getWidth=function(){return this.maxX-this.minX+1};l.prototype.intersects=function(w){return this.minX<=w.maxX&&this.maxX>=w.minX&&this.minY<=w.maxY&&this.maxY>=w.minY};return l}();J["default"]=m};
shadow$provide[267]=function(Ea,z,ob,J){function m(g){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return m(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=function(g){if(g&&g.__esModule)return g;if(null===
g||"object"!==m(g)&&"function"!==typeof g)return{"default":g};var a=l();if(a&&a.has(g))return a.get(g);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in g)if(Object.prototype.hasOwnProperty.call(g,y)){var A=n?Object.getOwnPropertyDescriptor(g,y):null;A&&(A.get||A.set)?Object.defineProperty(e,y,A):e[y]=g[y]}e["default"]=g;a&&a.set(g,e);return e}(z(266)),G=z(123),L=z(76),v=z(81),u=z(80),t=z(263),k=z(72),f=z(154),d=[0,0,0];Ea=function(){function g(a){this.minZoom=void 0!==
a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;(0,L.assert)((0,k.isSorted)(this.resolutions_,function(C,N){return N-C},!0),17);if(!a.origins)for(var e=0,n=this.resolutions_.length-1;e<n;++e)if(!y)var y=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==y){y=void 0;break}this.zoomFactor_=y;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,L.assert)(this.origins_.length==
this.resolutions_.length,20));var A=a.extent;void 0===A||this.origin_||this.origins_||(this.origin_=(0,u.getTopLeft)(A));(0,L.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,L.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:G.DEFAULT_TILE_SIZE;(0,L.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==A?A:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(C,N){C=new w["default"](Math.min(0,C[0]),Math.max(C[0]-1,-1),Math.min(0,C[1]),Math.max(C[1]-1,-1));A&&(N=this.getTileRangeForExtentAndZ(A,N),C.minX=Math.max(N.minX,C.minX),C.maxX=Math.min(N.maxX,C.maxX),C.minY=Math.max(N.minY,C.minY),C.maxY=Math.min(N.maxY,C.maxY));return C},this):A&&this.calculateTileRanges_(A)}g.prototype.forEachTileCoord=function(a,e,n){a=
this.getTileRangeForExtentAndZ(a,e);for(var y=a.minX,A=a.maxX;y<=A;++y)for(var C=a.minY,N=a.maxY;C<=N;++C)n([e,y,C])};g.prototype.forEachTileCoordParentTileRange=function(a,e,n,y){var A=null,C=a[0]-1;if(2===this.zoomFactor_){var N=a[1];var K=a[2]}else A=this.getTileCoordExtent(a,y);for(;C>=this.minZoom;){2===this.zoomFactor_?(N=Math.floor(N/2),K=Math.floor(K/2),a=(0,w.createOrUpdate)(N,N,K,K,n)):a=this.getTileRangeForExtentAndZ(A,C,n);if(e(C,a))return!0;--C}return!1};g.prototype.getExtent=function(){return this.extent_};
g.prototype.getMaxZoom=function(){return this.maxZoom};g.prototype.getMinZoom=function(){return this.minZoom};g.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};g.prototype.getResolution=function(a){return this.resolutions_[a]};g.prototype.getResolutions=function(){return this.resolutions_};g.prototype.getTileCoordChildTileRange=function(a,e,n){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return n=2*a[1],a=2*a[2],(0,w.createOrUpdate)(n,n+1,a,a+1,e);n=this.getTileCoordExtent(a,
n);return this.getTileRangeForExtentAndZ(n,a[0]+1,e)}return null};g.prototype.getTileRangeExtent=function(a,e,n){var y=this.getOrigin(a),A=this.getResolution(a),C=(0,f.toSize)(this.getTileSize(a),this.tmpSize_);a=y[0]+e.minX*C[0]*A;var N=y[0]+(e.maxX+1)*C[0]*A,K=y[1]+e.minY*C[1]*A;e=y[1]+(e.maxY+1)*C[1]*A;return(0,u.createOrUpdate)(a,K,N,e,n)};g.prototype.getTileRangeForExtentAndZ=function(a,e,n){this.getTileCoordForXYAndZ_(a[0],a[3],e,!1,d);var y=d[1],A=d[2];this.getTileCoordForXYAndZ_(a[2],a[1],
e,!0,d);return(0,w.createOrUpdate)(y,d[1],A,d[2],n)};g.prototype.getTileCoordCenter=function(a){var e=this.getOrigin(a[0]),n=this.getResolution(a[0]),y=(0,f.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[e[0]+(a[1]+.5)*y[0]*n,e[1]-(a[2]+.5)*y[1]*n]};g.prototype.getTileCoordExtent=function(a,e){var n=this.getOrigin(a[0]),y=this.getResolution(a[0]),A=(0,f.toSize)(this.getTileSize(a[0]),this.tmpSize_),C=n[0]+a[1]*A[0]*y;a=n[1]-(a[2]+1)*A[1]*y;n=C+A[0]*y;y=a+A[1]*y;return(0,u.createOrUpdate)(C,
a,n,y,e)};g.prototype.getTileCoordForCoordAndResolution=function(a,e,n){return this.getTileCoordForXYAndResolution_(a[0],a[1],e,!1,n)};g.prototype.getTileCoordForXYAndResolution_=function(a,e,n,y,A){var C=this.getZForResolution(n),N=n/this.getResolution(C),K=this.getOrigin(C),E=(0,f.toSize)(this.getTileSize(C),this.tmpSize_);a=N*Math.floor((a-K[0])/n+(y?.5:0))/E[0];e=N*Math.floor((K[1]-e)/n+(y?.5:0))/E[1];y?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,t.createOrUpdate)(C,
a,e,A)};g.prototype.getTileCoordForXYAndZ_=function(a,e,n,y,A){var C=this.getOrigin(n),N=this.getResolution(n),K=(0,f.toSize)(this.getTileSize(n),this.tmpSize_);a=Math.floor((a-C[0])/N+(y?.5:0))/K[0];e=Math.floor((C[1]-e)/N+(y?.5:0))/K[1];y?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,t.createOrUpdate)(n,a,e,A)};g.prototype.getTileCoordForCoordAndZ=function(a,e,n){return this.getTileCoordForXYAndZ_(a[0],a[1],e,!1,n)};g.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
g.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};g.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};g.prototype.getZForResolution=function(a,e){a=(0,k.linearFindNearest)(this.resolutions_,a,e||0);return(0,v.clamp)(a,this.minZoom,this.maxZoom)};g.prototype.calculateTileRanges_=function(a){for(var e=this.resolutions_.length,n=Array(e),y=this.minZoom;y<
e;++y)n[y]=this.getTileRangeForExtentAndZ(a,y);this.fullTileRanges_=n};return g}();J["default"]=Ea};
shadow$provide[268]=function(Ea,z,ob,J){function m(a){return a&&a.__esModule?a:{"default":a}}function l(a,e,n,y){y=void 0!==y?y:v["default"].TOP_LEFT;e=w(a,e,n);return new u["default"]({extent:a,origin:(0,d.getCorner)(a,y),resolutions:e,tileSize:n})}function w(a,e,n,y){e=void 0!==e?e:k.DEFAULT_MAX_ZOOM;var A=(0,d.getHeight)(a);a=(0,d.getWidth)(a);n=(0,g.toSize)(void 0!==n?n:k.DEFAULT_TILE_SIZE);y=0<y?y:Math.max(a/n[0],A/n[1]);e+=1;n=Array(e);for(A=0;A<e;++A)n[A]=y/Math.pow(2,A);return n}function G(a,
e,n,y){a=L(a);return l(a,e,n,y)}function L(a){a=(0,f.get)(a);var e=a.getExtent();e||(a=180*f.METERS_PER_UNIT[t["default"].DEGREES]/a.getMetersPerUnit(),e=(0,d.createOrUpdate)(-a,-a,a,a));return e}Object.defineProperty(J,"__esModule",{value:!0});J.getForProjection=function(a){var e=a.getDefaultTileGrid();e||(e=G(a),a.setDefaultTileGrid(e));return e};J.wrapX=function(a,e,n){var y=e[0],A=a.getTileCoordCenter(e);n=L(n);if((0,d.containsCoordinate)(n,A))return e;e=(0,d.getWidth)(n);A[0]+=e*Math.ceil((n[0]-
A[0])/e);return a.getTileCoordForCoordAndZ(A,y)};J.createForExtent=l;J.createXYZ=function(a){a=a||{};var e=a.extent||(0,f.get)("EPSG:3857").getExtent();a={extent:e,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:w(e,a.maxZoom,a.tileSize,a.maxResolution)};return new u["default"](a)};J.createForProjection=G;J.extentFromProjection=L;var v=m(z(78)),u=m(z(267)),t=m(z(120)),k=z(123),f=z(130),d=z(80),g=z(154)};
shadow$provide[269]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.TileSourceEvent=void 0;Ea=m(z(84));ob=m(z(238));var l=m(z(264)),w=m(z(117)),G=z(74),L=z(76),v=z(130),u=z(263),t=z(268),k=z(154),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,
a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a){var e=d.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;e.opaque_=void 0!==a.opaque?a.opaque:!1;e.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;e.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var n=[256,256],y=a.tileGrid;
y&&(0,k.toSize)(y.getTileSize(y.getMinZoom()),n);e.tileCache=new l["default"](a.cacheSize||0);e.tmpSize=[0,0];e.key_=a.key||"";e.tileOptions={transition:a.transition};e.zDirection=a.zDirection?a.zDirection:0;return e}f(g,d);g.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};g.prototype.expireCache=function(a,e){(a=this.getTileCacheForProjection(a))&&a.expireCache(e)};g.prototype.forEachLoadedTile=function(a,e,n,y){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var A=
!0,C,N,K=n.minX;K<=n.maxX;++K)for(var E=n.minY;E<=n.maxY;++E)C=(0,u.getKeyZXY)(e,K,E),N=!1,a.containsKey(C)&&(C=a.get(C),(N=C.getState()===w["default"].LOADED)&&(N=!1!==y(C))),N||(A=!1);return A};g.prototype.getGutterForProjection=function(a){return 0};g.prototype.getKey=function(){return this.key_};g.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};g.prototype.getOpaque=function(a){return this.opaque_};g.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
g.prototype.getTile=function(a,e,n,y,A){return(0,G["abstract"])()};g.prototype.getTileGrid=function(){return this.tileGrid};g.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,t.getForProjection)(a)};g.prototype.getTileCacheForProjection=function(a){(0,L.assert)((0,v.equivalent)(this.getProjection(),a),68);return this.tileCache};g.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};g.prototype.getTilePixelSize=function(a,e,n){n=this.getTileGridForProjection(n);
e=this.getTilePixelRatio(e);a=(0,k.toSize)(n.getTileSize(a),this.tmpSize);return 1==e?a:(0,k.scale)(a,e,this.tmpSize)};g.prototype.getTileCoordForTileUrlFunction=function(a,e){e=void 0!==e?e:this.getProjection();var n=this.getTileGridForProjection(e);this.getWrapX()&&e.isGlobal()&&(a=(0,t.wrapX)(n,a,e));return(0,u.withinExtentAndZ)(a,n)?a:null};g.prototype.clear=function(){this.tileCache.clear()};g.prototype.refresh=function(){this.clear();d.prototype.refresh.call(this)};g.prototype.updateCacheSize=
function(a,e){e=this.getTileCacheForProjection(e);a>e.highWaterMark&&(e.highWaterMark=a)};g.prototype.useTile=function(a,e,n,y){};return g}(ob["default"]);Ea=function(d){function g(a,e){a=d.call(this,a)||this;a.tile=e;return a}f(g,d);return g}(Ea["default"]);J.TileSourceEvent=Ea;J["default"]=z};
shadow$provide[270]=function(Ea,z,ob,J){function m(v,u){var t=/\{z\}/g,k=/\{x\}/g,f=/\{y\}/g,d=/\{-y\}/g;return function(g,a,e){if(g)return v.replace(t,g[0].toString()).replace(k,g[1].toString()).replace(f,g[2].toString()).replace(d,function(){var n=u.getFullTileRange(g[0]);(0,w.assert)(n,55);return(n.getHeight()-g[2]-1).toString()})}}function l(v){return 1===v.length?v[0]:function(u,t,k){if(u){var f=(0,L.hash)(u);f=(0,G.modulo)(f,v.length);return v[f](u,t,k)}}}Object.defineProperty(J,"__esModule",
{value:!0});J.createFromTemplate=m;J.createFromTemplates=function(v,u){for(var t=v.length,k=Array(t),f=0;f<t;++f)k[f]=m(v[f],u);return l(k)};J.createFromTileUrlFunctions=l;J.nullTileUrlFunction=function(v,u,t){};J.expandUrl=function(v){var u=[],t=/\{([a-z])-([a-z])\}/.exec(v);if(t){for(var k=t[1].charCodeAt(0),f=t[2].charCodeAt(0);k<=f;++k)u.push(v.replace(t[0],String.fromCharCode(k)));return u}if(t=/\{(\d+)-(\d+)\}/.exec(v)){f=parseInt(t[2],10);for(k=parseInt(t[1],10);k<=f;k++)u.push(v.replace(t[0],
k.toString()));return u}u.push(v);return u};var w=z(76),G=z(81),L=z(263)};
shadow$provide[271]=function(Ea,z,ob,J){function m(d){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return m(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function w(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=w(z(265)),L=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==m(d)&&"function"!==typeof d)return{"default":d};var g=l();if(g&&g.has(d))return g.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var y=e?Object.getOwnPropertyDescriptor(d,n):null;y&&(y.get||y.set)?Object.defineProperty(a,n,y):a[n]=d[n]}a["default"]=d;g&&g.set(d,a);return a}(z(269)),v=w(z(117)),u=z(270),t=z(263),k=z(74),f=function(){var d=
function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ea=function(d){function g(a){var e=d.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;e.generateTileUrlFunction_=e.tileUrlFunction===g.prototype.tileUrlFunction;e.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(e.tileUrlFunction=a.tileUrlFunction);e.urls=null;a.urls?e.setUrls(a.urls):a.url&&e.setUrl(a.url);e.tileLoadingKeys_={};return e}f(g,d);g.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
g.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};g.prototype.getUrls=function(){return this.urls};g.prototype.handleTileChange=function(a){a=a.target;var e=(0,k.getUid)(a),n=a.getState();if(n==v["default"].LOADING){this.tileLoadingKeys_[e]=!0;var y=G["default"].TILELOADSTART}else e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],y=n==v["default"].ERROR?G["default"].TILELOADERROR:
n==v["default"].LOADED?G["default"].TILELOADEND:void 0);void 0!=y&&this.dispatchEvent(new L.TileSourceEvent(y,a))};g.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};g.prototype.setTileUrlFunction=function(a,e){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof e?this.setKey(e):this.changed()};g.prototype.setUrl=function(a){this.urls=a=(0,u.expandUrl)(a);this.setUrls(a)};g.prototype.setUrls=function(a){this.urls=
a;var e=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,u.createFromTemplates)(a,this.tileGrid),e):this.setKey(e)};g.prototype.tileUrlFunction=function(a,e,n){};g.prototype.useTile=function(a,e,n){a=(0,t.getKeyZXY)(a,e,n);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return g}(L["default"]);J["default"]=Ea};
shadow$provide[272]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(n,y){n.getImage().src=y}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=m(z(88)),G=m(z(256)),L=m(z(261)),v=m(z(264)),u=m(z(117));Ea=m(z(271));var t=z(257),k=z(259),f=z(130),d=z(263),g=z(268),a=z(74),e=function(){var n=function(y,A){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,
K)&&(C[K]=N[K])};return n(y,A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();z=function(n){function y(A){var C=n.call(this,{attributions:A.attributions,cacheSize:A.cacheSize,opaque:A.opaque,projection:A.projection,state:A.state,tileGrid:A.tileGrid,tileLoadFunction:A.tileLoadFunction?A.tileLoadFunction:l,tilePixelRatio:A.tilePixelRatio,tileUrlFunction:A.tileUrlFunction,url:A.url,urls:A.urls,wrapX:A.wrapX,transition:A.transition,
key:A.key,attributionsCollapsible:A.attributionsCollapsible,zDirection:A.zDirection})||this;C.crossOrigin=void 0!==A.crossOrigin?A.crossOrigin:null;C.tileClass=void 0!==A.tileClass?A.tileClass:G["default"];C.tileCacheForProjection={};C.tileGridForProjection={};C.reprojectionErrorThreshold_=A.reprojectionErrorThreshold;C.contextOptions_=!1===A.imageSmoothing?k.IMAGE_SMOOTHING_DISABLED:void 0;C.renderReprojectionEdges_=!1;return C}e(y,n);y.prototype.canExpireCache=function(){if(!t.ENABLE_RASTER_REPROJECTION)return n.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var A in this.tileCacheForProjection)if(this.tileCacheForProjection[A].canExpireCache())return!0;return!1};y.prototype.expireCache=function(A,C){if(t.ENABLE_RASTER_REPROJECTION){A=this.getTileCacheForProjection(A);this.tileCache.expireCache(this.tileCache==A?C:{});for(var N in this.tileCacheForProjection){var K=this.tileCacheForProjection[N];K.expireCache(K==A?C:{})}}else n.prototype.expireCache.call(this,A,C)};y.prototype.getContextOptions=function(){return this.contextOptions_};
y.prototype.getGutterForProjection=function(A){return t.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&A&&!(0,f.equivalent)(this.getProjection(),A)?0:this.getGutter()};y.prototype.getGutter=function(){return 0};y.prototype.getKey=function(){return n.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};y.prototype.getOpaque=function(A){return t.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&A&&!(0,f.equivalent)(this.getProjection(),A)?!1:n.prototype.getOpaque.call(this,
A)};y.prototype.getTileGridForProjection=function(A){if(!t.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileGridForProjection.call(this,A);var C=this.getProjection();return!this.tileGrid||C&&!(0,f.equivalent)(C,A)?(C=(0,a.getUid)(A),C in this.tileGridForProjection||(this.tileGridForProjection[C]=(0,g.getForProjection)(A)),this.tileGridForProjection[C]):this.tileGrid};y.prototype.getTileCacheForProjection=function(A){if(!t.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileCacheForProjection.call(this,
A);var C=this.getProjection();if(!C||(0,f.equivalent)(C,A))return this.tileCache;A=(0,a.getUid)(A);A in this.tileCacheForProjection||(this.tileCacheForProjection[A]=new v["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[A]};y.prototype.createTile_=function(A,C,N,K,E,x){A=[A,C,N];K=(C=this.getTileCoordForTileUrlFunction(A,E))?this.tileUrlFunction(C,K,E):void 0;K=new this.tileClass(A,void 0!==K?u["default"].IDLE:u["default"].EMPTY,void 0!==K?K:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);K.key=x;K.addEventListener(w["default"].CHANGE,this.handleTileChange.bind(this));return K};y.prototype.getTile=function(A,C,N,K,E){var x=this.getProjection();if(t.ENABLE_RASTER_REPROJECTION&&x&&E&&!(0,f.equivalent)(x,E)){var D=this.getTileCacheForProjection(E),H=[A,C,N];A=void 0;C=(0,d.getKey)(H);D.containsKey(C)&&(A=D.get(C));N=this.getKey();if(A&&A.key==N)return A;var S=this.getTileGridForProjection(x),U=this.getTileGridForProjection(E),ia=this.getTileCoordForTileUrlFunction(H,
E);K=new L["default"](x,S,E,U,H,ia,this.getTilePixelRatio(K),this.getGutter(),function(fa,ja,la,da){return this.getTileInternal(fa,ja,la,da,x)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);K.key=N;A?(K.interimTile=A,K.refreshInterimChain(),D.replace(C,K)):D.set(C,K);return K}return this.getTileInternal(A,C,N,K,x||E)};y.prototype.getTileInternal=function(A,C,N,K,E){var x=(0,d.getKeyZXY)(A,C,N),D=this.getKey();if(this.tileCache.containsKey(x)){var H=
this.tileCache.get(x);if(H.key!=D){var S=H;H=this.createTile_(A,C,N,K,E,D);S.getState()==u["default"].IDLE?H.interimTile=S.interimTile:H.interimTile=S;H.refreshInterimChain();this.tileCache.replace(x,H)}}else H=this.createTile_(A,C,N,K,E,D),this.tileCache.set(x,H);return H};y.prototype.setRenderReprojectionEdges=function(A){if(t.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=A){this.renderReprojectionEdges_=A;for(var C in this.tileCacheForProjection)this.tileCacheForProjection[C].clear();
this.changed()}};y.prototype.setTileGridForProjection=function(A,C){t.ENABLE_RASTER_REPROJECTION&&(A=(0,f.get)(A))&&(A=(0,a.getUid)(A),A in this.tileGridForProjection||(this.tileGridForProjection[A]=C))};return y}(Ea["default"]);J["default"]=z};
shadow$provide[273]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.jsonp=function(l,w,G,L){function v(){delete window[t];u.parentNode.removeChild(u)}var u=document.createElement("script"),t="olc_"+(0,m.getUid)(w);u.async=!0;u.src=l+(-1==l.indexOf("?")?"?":"\x26")+(L||"callback")+"\x3d"+t;var k=setTimeout(function(){v();G&&G()},1E4);window[t]=function(f){clearTimeout(k);v();w(f)};document.getElementsByTagName("head")[0].appendChild(u)};var m=z(74)};
shadow$provide[274]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(d){var g=d[0],a=Array(g),e=1<<g-1,n;for(n=0;n<g;++n){var y=48;d[1]&e&&(y+=1);d[2]&e&&(y+=2);a[n]=String.fromCharCode(y);e>>=1}return a.join("")}Object.defineProperty(J,"__esModule",{value:!0});J.quadKey=l;J["default"]=void 0;var w=m(z(95));Ea=m(z(272));var G=z(80),L=z(270),v=z(263),u=z(268),t=z(130),k=z(273),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a){var e=void 0!==a.hidpi?a.hidpi:!1;var n=d.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,t.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:w["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;n.hidpi_=e;n.culture_=void 0!==a.culture?a.culture:"en-us";n.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;n.apiKey_=a.key;n.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+n.apiKey_+"\x26c\x3d"+n.culture_;(0,k.jsonp)(a,n.handleImageryMetadataResponse.bind(n),
void 0,"jsonp");return n}f(g,d);g.prototype.getApiKey=function(){return this.apiKey_};g.prototype.getImagerySet=function(){return this.imagerySet_};g.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(w["default"].ERROR);else{var e=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var n=this.getProjection();
n=(0,u.extentFromProjection)(n);var y=this.hidpi_?2:1;y=e.imageWidth==e.imageHeight?e.imageWidth/y:[e.imageWidth/y,e.imageHeight/y];this.tileGrid=(0,u.createXYZ)({extent:n,minZoom:e.zoomMin,maxZoom:a,tileSize:y});var A=this.culture_,C=this.hidpi_;this.tileUrlFunction=(0,L.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(K){var E=[0,0,0],x=e.imageUrl.replace("{subdomain}",K).replace("{culture}",A);return function(D,H,S){if(D)return(0,v.createOrUpdate)(D[0],D[1],D[2],E),D=x,C&&(D+="\x26dpi\x3dd1\x26device\x3dmobile"),
D.replace("{quadkey}",l(E))}}));if(e.imageryProviders){var N=(0,t.getTransformFromProjections)((0,t.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(K){var E=[],x=K.viewState,D=this.getTileGrid(),H=D.getZForResolution(x.resolution,this.zDirection),S=D.getTileCoordForCoordAndZ(x.center,H)[0];e.imageryProviders.map(function(U){for(var ia=!1,fa=U.coverageAreas,ja=0,la=fa.length;ja<la;++ja){var da=fa[ja];if(S>=da.zoomMin&&S<=da.zoomMax&&(da=da.bbox,da=[da[1],da[0],da[3],da[2]],da=
(0,G.applyTransform)(da,N),(0,G.intersects)(da,K.extent))){ia=!0;break}}ia&&E.push(U.attribution)});E.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return E}.bind(this))}this.setState(w["default"].READY)}};return g}(Ea["default"]);J["default"]=z};
shadow$provide[275]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(w){return w&&w.__esModule?w:{"default":w}}(z(272));var m=z(268),l=function(){var w=function(G,L){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var t in u)Object.prototype.hasOwnProperty.call(u,t)&&(v[t]=u[t])};return w(G,L)};return function(G,L){function v(){this.constructor=G}w(G,L);G.prototype=null===L?Object.create(L):
(v.prototype=L.prototype,new v)}}();z=function(w){function G(L){L=L||{};var v=void 0!==L.projection?L.projection:"EPSG:3857",u=void 0!==L.tileGrid?L.tileGrid:(0,m.createXYZ)({extent:(0,m.extentFromProjection)(v),maxResolution:L.maxResolution,maxZoom:L.maxZoom,minZoom:L.minZoom,tileSize:L.tileSize});return w.call(this,{attributions:L.attributions,cacheSize:L.cacheSize,crossOrigin:L.crossOrigin,imageSmoothing:L.imageSmoothing,opaque:L.opaque,projection:v,reprojectionErrorThreshold:L.reprojectionErrorThreshold,
tileGrid:u,tileLoadFunction:L.tileLoadFunction,tilePixelRatio:L.tilePixelRatio,tileUrlFunction:L.tileUrlFunction,url:L.url,urls:L.urls,wrapX:void 0!==L.wrapX?L.wrapX:!0,transition:L.transition,attributionsCollapsible:L.attributionsCollapsible,zDirection:L.zDirection})||this}l(G,w);return G}(Ea["default"]);J["default"]=z};
shadow$provide[276]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(95));Ea=m(z(275));var w=z(86),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===
u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){var t=L.call(this,{attributions:u.attributions,cacheSize:u.cacheSize,crossOrigin:u.crossOrigin,maxZoom:void 0!==u.maxZoom?u.maxZoom:18,minZoom:u.minZoom,projection:u.projection,transition:u.transition,wrapX:u.wrapX})||this;t.account_=u.account;t.mapId_=u.map||"";t.config_=u.config||{};t.templateCache_={};t.initializeMap_();return t}G(v,L);v.prototype.getConfig=function(){return this.config_};v.prototype.updateConfig=
function(u){(0,w.assign)(this.config_,u);this.initializeMap_()};v.prototype.setConfig=function(u){this.config_=u||{};this.initializeMap_()};v.prototype.initializeMap_=function(){var u=JSON.stringify(this.config_);if(this.templateCache_[u])this.applyTemplate_(this.templateCache_[u]);else{var t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);var k=new XMLHttpRequest;k.addEventListener("load",this.handleInitResponse_.bind(this,u));k.addEventListener("error",this.handleInitError_.bind(this));
k.open("POST",t);k.setRequestHeader("Content-type","application/json");k.send(JSON.stringify(this.config_))}};v.prototype.handleInitResponse_=function(u,t){t=t.target;if(!t.status||200<=t.status&&300>t.status){var k=void 0;try{k=JSON.parse(t.responseText)}catch(f){this.setState(l["default"].ERROR);return}this.applyTemplate_(k);this.templateCache_[u]=k;this.setState(l["default"].READY)}else this.setState(l["default"].ERROR)};v.prototype.handleInitError_=function(u){this.setState(l["default"].ERROR)};
v.prototype.applyTemplate_=function(u){this.setUrl("https://"+u.cdn_url.https+"/"+this.account_+"/api/v1/map/"+u.layergroupid+"/{z}/{x}/{y}.png")};return v}(Ea["default"]);J["default"]=z};
shadow$provide[277]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(88)),w=m(z(190)),G=m(z(119)),L=m(z(145));Ea=m(z(242));var v=z(98),u=z(76),t=z(80),k=z(74),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=
g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a){var e=d.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;e.resolution=void 0;e.distance=void 0!==a.distance?a.distance:20;e.features=[];e.geometryFunction=a.geometryFunction||function(n){n=n.getGeometry();(0,u.assert)(n.getType()==G["default"].POINT,10);return n};e.boundRefresh_=e.refresh.bind(e);e.setSource(a.source||null);return e}f(g,d);g.prototype.clear=function(a){this.features.length=
0;d.prototype.clear.call(this,a)};g.prototype.getDistance=function(){return this.distance};g.prototype.getSource=function(){return this.source};g.prototype.loadFeatures=function(a,e,n){this.source.loadFeatures(a,e,n);e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))};g.prototype.setDistance=function(a){this.distance=a;this.refresh()};g.prototype.setSource=function(a){this.source&&this.source.removeEventListener(l["default"].CHANGE,this.boundRefresh_);
(this.source=a)&&a.addEventListener(l["default"].CHANGE,this.boundRefresh_);this.refresh()};g.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};g.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,t.createEmpty)(),e=this.distance*this.resolution,n=this.source.getFeatures(),y={},A=0,C=n.length;A<C;A++){var N=n[A];(0,k.getUid)(N)in y||!(N=this.geometryFunction(N))||(N=N.getCoordinates(),(0,t.createOrUpdateFromCoordinate)(N,a),(0,
t.buffer)(a,e,a),N=this.source.getFeaturesInExtent(a),N=N.filter(function(K){K=(0,k.getUid)(K);return K in y?!1:y[K]=!0}),this.features.push(this.createCluster(N)))}};g.prototype.createCluster=function(a){for(var e=[0,0],n=a.length-1;0<=n;--n){var y=this.geometryFunction(a[n]);y?(0,v.add)(e,y.getCoordinates()):a.splice(n,1)}(0,v.scale)(e,1/a.length);e=new w["default"](new L["default"](e));e.set("features",a);return e};return g}(Ea["default"]);J["default"]=z};
shadow$provide[278]=function(Ea,z,ob,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.CustomTile=void 0;var l=z(123);Ea=m(z(256));var w=m(z(267));ob=m(z(272));var G=m(z(117)),L=z(76),v=z(103),u=z(270),t=z(80),k=z(154),f=function(){var g=function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,
e)};return function(a,e){function n(){this.constructor=a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d=function(g){function a(e,n,y,A,C,N,K){n=g.call(this,n,y,A,C,N,K)||this;n.zoomifyImage_=null;n.tileSize_=e;return n}f(a,g);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=g.prototype.getImage.call(this);if(this.state==G["default"].LOADED){var n=this.tileSize_;if(e.width==n[0]&&e.height==n[1])return this.zoomifyImage_=e;n=(0,
v.createCanvasContext2D)(n[0],n[1]);n.drawImage(e,0,0);return this.zoomifyImage_=n.canvas}return e};return a}(Ea["default"]);J.CustomTile=d;z=function(g){function a(e){var n=this,y=e.size;n=e.tilePixelRatio||1;var A=y[0],C=y[1],N=[],K=e.tileSize||l.DEFAULT_TILE_SIZE;y=K*n;switch(void 0!==e.tierSizeCalculation?e.tierSizeCalculation:"default"){case "default":for(;A>y||C>y;)N.push([Math.ceil(A/y),Math.ceil(C/y)]),y+=y;break;case "truncated":for(var E=A,x=C;E>y||x>y;)N.push([Math.ceil(E/y),Math.ceil(x/
y)]),E>>=1,x>>=1;break;default:(0,L.assert)(!1,53)}N.push([1,1]);N.reverse();y=[n];var D=[0];E=1;for(x=N.length;E<x;E++)y.push(n<<E),D.push(N[E-1][0]*N[E-1][1]+D[E-1]);y.reverse();A=new w["default"]({tileSize:K,extent:e.extent||[0,-C,A,0],resolutions:y});(C=e.url)&&-1==C.indexOf("{TileGroup}")&&-1==C.indexOf("{tileIndex}")&&(C+="{TileGroup}/{z}-{x}-{y}.jpg");C=(0,u.expandUrl)(C);var H=K*n;C=(0,u.createFromTileUrlFunctions)(C.map(function(S){return function(U,ia,fa){if(U){ia=U[0];fa=U[1];U=U[2];var ja=
fa+U*N[ia][0],la={z:ia,x:fa,y:U,tileIndex:ja,TileGroup:"TileGroup"+((ja+D[ia])/H|0)};return S.replace(/\{(\w+?)\}/g,function(da,O){return la[O]})}}}));E=d.bind(null,(0,k.toSize)(K*n));n=g.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,tilePixelRatio:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:E,tileGrid:A,tileUrlFunction:C,transition:e.transition})||this;n.zDirection=e.zDirection;
e=A.getTileCoordForCoordAndResolution((0,t.getCenter)(A.getExtent()),y[y.length-1]);e=C(e,1,null);y=new Image;y.addEventListener("error",function(){H=K;this.changed()}.bind(n));y.src=e;return n}f(a,g);return a}(ob["default"]);J["default"]=z};
shadow$provide[279]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.Versions=void 0;var m=z(76),l=function(){for(var k=0,f=0,d=arguments.length;f<d;f++)k+=arguments[f].length;k=Array(k);var g=0;for(f=0;f<d;f++)for(var a=arguments[f],e=0,n=a.length;e<n;e++,g++)k[g]=a[e];return k},w={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};J.Versions=w;var G={};G[w.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};G[w.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};G[w.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};G.none={none:{supports:[],formats:[],qualities:[]}};var L=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
v=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,u=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,t={};t[w.VERSION1]=function(k){var f=k.getComplianceLevelSupportedFeatures();void 0===f&&(f=G[w.VERSION1].level0);return{url:void 0===k.imageInfo["@id"]?void 0:k.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:f.supports,formats:l(f.formats,[void 0===k.imageInfo.formats?[]:k.imageInfo.formats]),qualities:l(f.qualities,[void 0===k.imageInfo.qualities?
[]:k.imageInfo.qualities]),resolutions:k.imageInfo.scale_factors,tileSize:void 0!==k.imageInfo.tile_width?void 0!==k.imageInfo.tile_height?[k.imageInfo.tile_width,k.imageInfo.tile_height]:[k.imageInfo.tile_width,k.imageInfo.tile_width]:void 0!=k.imageInfo.tile_height?[k.imageInfo.tile_height,k.imageInfo.tile_height]:void 0}};t[w.VERSION2]=function(k){var f=k.getComplianceLevelSupportedFeatures(),d=Array.isArray(k.imageInfo.profile)&&1<k.imageInfo.profile.length,g=d&&k.imageInfo.profile[1].supports?
k.imageInfo.profile[1].supports:[],a=d&&k.imageInfo.profile[1].formats?k.imageInfo.profile[1].formats:[];d=d&&k.imageInfo.profile[1].qualities?k.imageInfo.profile[1].qualities:[];return{url:k.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===k.imageInfo.sizes?void 0:k.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===k.imageInfo.tiles?void 0:[k.imageInfo.tiles.map(function(e){return e.width})[0],k.imageInfo.tiles.map(function(e){return void 0===e.height?
e.width:e.height})[0]],resolutions:void 0===k.imageInfo.tiles?void 0:k.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:l(f.supports,g),formats:l(f.formats,a),qualities:l(f.qualities,d)}};t[w.VERSION3]=function(k){var f=k.getComplianceLevelSupportedFeatures(),d=void 0===k.imageInfo.extraFormats?f.formats:l(f.formats,k.imageInfo.extraFormats),g=void 0!==k.imageInfo.preferredFormats&&Array.isArray(k.imageInfo.preferredFormats)&&0<k.imageInfo.preferredFormats.length?k.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,e){return void 0===a&&d.includes(e)?e:a},void 0):void 0;return{url:k.imageInfo.id,sizes:void 0===k.imageInfo.sizes?void 0:k.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===k.imageInfo.tiles?void 0:[k.imageInfo.tiles.map(function(a){return a.width})[0],k.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===k.imageInfo.tiles?void 0:k.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
k.imageInfo.extraFeatures?f.supports:l(f.supports,k.imageInfo.extraFeatures),formats:d,qualities:void 0===k.imageInfo.extraQualities?f.qualities:l(f.qualities,k.imageInfo.extraQualities),preferredFormat:g}};Ea=function(){function k(f){this.setImageInfo(f)}k.prototype.setImageInfo=function(f){this.imageInfo="string"==typeof f?JSON.parse(f):f};k.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var f=this.imageInfo["@context"]||"ol-no-context";"string"==typeof f&&(f=[f]);for(var d=
0;d<f.length;d++)switch(f[d]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return w.VERSION1;case "http://iiif.io/api/image/2/context.json":return w.VERSION2;case "http://iiif.io/api/image/3/context.json":return w.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(w.VERSION1)&&this.imageInfo.identifier)return w.VERSION1}(0,m.assert)(!1,61)}};k.prototype.getComplianceLevelEntryFromProfile=function(f){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===f&&(f=this.getImageApiVersion()),f){case w.VERSION1:if(L.test(this.imageInfo.profile))return this.imageInfo.profile;break;case w.VERSION3:if(u.test(this.imageInfo.profile))return this.imageInfo.profile;break;case w.VERSION2:if("string"===typeof this.imageInfo.profile&&v.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
v.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};k.prototype.getComplianceLevelFromProfile=function(f){f=this.getComplianceLevelEntryFromProfile(f);if(void 0!==f)return f=f.match(/level[0-2](?:\.json)?$/g),Array.isArray(f)?f[0].replace(".json",""):void 0};k.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var f=this.getImageApiVersion(),d=this.getComplianceLevelFromProfile(f);return void 0===d?G.none.none:G[f][d]}};k.prototype.getTileSourceOptions=
function(f){f=f||{};var d=this.getImageApiVersion();if(void 0!==d){var g=void 0===d?void 0:t[d](this);if(void 0!==g)return{url:g.url,version:d,size:[this.imageInfo.width,this.imageInfo.height],sizes:g.sizes,format:void 0!==f.format&&g.formats.includes(f.format)?f.format:void 0!==g.preferredFormat?g.preferredFormat:"jpg",supports:g.supports,quality:f.quality&&g.qualities.includes(f.quality)?f.quality:g.qualities.includes("native")?"native":"default",resolutions:Array.isArray(g.resolutions)?g.resolutions.sort(function(a,
e){return e-a}):void 0,tileSize:g.tileSize}}};return k}();J["default"]=Ea};
shadow$provide[280]=function(Ea,z,ob,J){function m(d){return d&&d.__esModule?d:{"default":d}}function l(d){return d.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var w=m(z(267));Ea=m(z(272));var G=z(278),L=z(123),v=z(279),u=z(76),t=z(80),k=z(154),f=function(){var d=function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,
y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(d){function g(a){var e=this;a=a||{};var n=a.url||"";n+=n.lastIndexOf("/")===n.length-1||""===n?"":"/";var y=a.version||v.Versions.VERSION2,A=a.sizes||[];e=a.size;(0,u.assert)(void 0!=e&&Array.isArray(e)&&2==e.length&&!isNaN(e[0])&&0<e[0]&&!isNaN(e[1])&&0<e[1],60);var C=e[0],N=e[1];e=a.tileSize;var K=a.tilePixelRatio||1,E=a.format||
"jpg",x=a.quality||(a.version==v.Versions.VERSION1?"native":"default"),D=a.resolutions||[],H=a.supports||[],S=a.extent||[0,-N,C,0],U=void 0!=A&&Array.isArray(A)&&0<A.length,ia=void 0!==e&&("number"===typeof e&&Number.isInteger(e)&&0<e||Array.isArray(e)&&0<e.length),fa=void 0!=H&&Array.isArray(H)&&(H.includes("regionByPx")||H.includes("regionByPct"))&&(H.includes("sizeByWh")||H.includes("sizeByH")||H.includes("sizeByW")||H.includes("sizeByPct")),ja,la;D.sort(function(ka,Z){return Z-ka});if(ia||fa){if(void 0!=
e)if("number"===typeof e&&Number.isInteger(e)&&0<e)var da=ja=e;else if(Array.isArray(e)&&0<e.length){if(1==e.length||void 0==e[1]&&Number.isInteger(e[0]))ja=e[0],da=e[0];2==e.length&&(Number.isInteger(e[0])&&Number.isInteger(e[1])?(ja=e[0],da=e[1]):void 0==e[0]&&Number.isInteger(e[1])&&(ja=e[1],da=e[1]))}if(void 0===ja||void 0===da)da=ja=L.DEFAULT_TILE_SIZE;if(0==D.length)for(var O=la=Math.max(Math.ceil(Math.log(C/ja)/Math.LN2),Math.ceil(Math.log(N/da)/Math.LN2));0<=O;O--)D.push(Math.pow(2,O));else O=
Math.max.apply(Math,D),la=Math.round(Math.log(O)/Math.LN2)}else if(ja=C,da=N,D=[],U){A.sort(function(ka,Z){return ka[0]-Z[0]});la=-1;var B=[];for(O=0;O<A.length;O++){var Y=C/A[O][0];0<D.length&&D[D.length-1]==Y?B.push(O):(D.push(Y),la++)}if(0<B.length)for(O=0;O<B.length;O++)A.splice(B[O]-O,1)}else D.push(1),A.push([C,N]),la=0;S=new w["default"]({tileSize:[ja,da],extent:S,origin:(0,t.getTopLeft)(S),resolutions:D});e=G.CustomTile.bind(null,(0,k.toSize)(e||256).map(function(ka){return ka*K}));e=d.call(this,
{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:e,tileGrid:S,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(ka,Z,wa){var xa;Z=ka[0];if(!(Z>la)){wa=ka[1];var Da=ka[2];ka=D[Z];if(!(void 0===wa||void 0===Da||void 0===ka||0>wa||Math.ceil(C/ka/ja)<=wa||0>Da||Math.ceil(N/ka/da)<=Da)){if(fa||
ia){var Wa=wa*ja*ka,gb=Da*da*ka,ra=ja*ka;Da=da*ka;Z=ja;wa=da;Wa+ra>C&&(ra=C-Wa);gb+Da>N&&(Da=N-gb);Wa+ja*ka>C&&(Z=Math.floor((C-Wa+ka-1)/ka));gb+da*ka>N&&(wa=Math.floor((N-gb+ka-1)/ka));if(0==Wa&&ra==C&&0==gb&&Da==N)var Na="full";else!fa||H.includes("regionByPx")?Na=Wa+","+gb+","+ra+","+Da:H.includes("regionByPct")&&(Na=l(Wa/C*100),Wa=l(gb/N*100),ra=l(ra/C*100),Da=l(Da/N*100),Na="pct:"+Na+","+Wa+","+ra+","+Da);y!=v.Versions.VERSION3||fa&&!H.includes("sizeByWh")?!fa||H.includes("sizeByW")?xa=Z+",":
H.includes("sizeByH")?xa=","+wa:H.includes("sizeByWh")?xa=Z+","+wa:H.includes("sizeByPct")&&(xa="pct:"+l(100/ka)):xa=Z+","+wa}else Na="full",U?(xa=A[Z][0],ka=A[Z][1],xa=y==v.Versions.VERSION3?xa==C&&ka==N?"max":xa+","+ka:xa==C?"full":xa+","):xa=y==v.Versions.VERSION3?"max":"full";return n+Na+"/"+xa+"/0/"+x+"."+E}}},transition:a.transition})||this;e.zDirection=a.zDirection;return e}f(g,d);return g}(Ea["default"]);J["default"]=z};
shadow$provide[281]=function(Ea,z,ob,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=z(257),w=m(z(88));Ea=m(z(227));var G=m(z(199)),L=m(z(258)),v=z(260),u=z(80),t=z(89),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=
d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g,a,e,n,y,A,C){var N,K=g.getExtent(),E=(N=a.getExtent())?(0,u.getIntersection)(e,N):e;N=(0,u.getCenter)(E);N=(0,v.calculateSourceResolution)(g,a,N,n);g=new L["default"](g,a,E,K,N*l.ERROR_THRESHOLD,n);E=g.calculateSourceExtent();N=(y=A(E,N,y))?G["default"].IDLE:G["default"].EMPTY;A=y?y.getPixelRatio():1;N=f.call(this,e,n,A,N)||this;N.targetProj_=a;N.maxSourceExtent_=K;N.triangulation_=g;N.targetResolution_=
n;N.targetExtent_=e;N.sourceImage_=y;N.sourcePixelRatio_=A;N.contextOptions_=C;N.canvas_=null;N.sourceListenerKey_=null;return N}k(d,f);d.prototype.disposeInternal=function(){this.state==G["default"].LOADING&&this.unlistenSource_();f.prototype.disposeInternal.call(this)};d.prototype.getImage=function(){return this.canvas_};d.prototype.getProjection=function(){return this.targetProj_};d.prototype.reproject_=function(){var g=this.sourceImage_.getState();if(g==G["default"].LOADED){var a=(0,u.getWidth)(this.targetExtent_)/
this.targetResolution_,e=(0,u.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,v.render)(a,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=g;this.changed()};d.prototype.load=function(){if(this.state==G["default"].IDLE){this.state=G["default"].LOADING;this.changed();var g=
this.sourceImage_.getState();g==G["default"].LOADED||g==G["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,t.listen)(this.sourceImage_,w["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==G["default"].LOADED||a==G["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};d.prototype.unlistenSource_=function(){(0,t.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return d}(Ea["default"]);J["default"]=z};
shadow$provide[282]=function(Ea,z,ob,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J.defaultImageLoadFunction=function(a,e){a.getImage().src=e};J["default"]=J.ImageSourceEvent=J.ImageSourceEventType=void 0;Ea=m(z(84));var l=m(z(199)),w=m(z(281));ob=m(z(238));var G=z(257),L=z(259),v=z(74),u=z(80),t=z(130),k=z(72),f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,
A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(y[C]=A[C])};return a(e,n)};return function(e,n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};J.ImageSourceEventType=d;var g=function(a){function e(n,y){n=a.call(this,n)||this;n.image=y;return n}f(e,a);return e}(Ea["default"]);J.ImageSourceEvent=g;z=function(a){function e(n){var y=
a.call(this,{attributions:n.attributions,projection:n.projection,state:n.state})||this;y.resolutions_=void 0!==n.resolutions?n.resolutions:null;y.reprojectedImage_=null;y.reprojectedRevision_=0;y.contextOptions_=!1===n.imageSmoothing?L.IMAGE_SMOOTHING_DISABLED:void 0;return y}f(e,a);e.prototype.getResolutions=function(){return this.resolutions_};e.prototype.getContextOptions=function(){return this.contextOptions_};e.prototype.findNearestResolution=function(n){this.resolutions_&&(n=(0,k.linearFindNearest)(this.resolutions_,
n,0),n=this.resolutions_[n]);return n};e.prototype.getImage=function(n,y,A,C){var N=this.getProjection();if(G.ENABLE_RASTER_REPROJECTION&&N&&C&&!(0,t.equivalent)(N,C)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,t.equivalent)(this.reprojectedImage_.getProjection(),C)&&this.reprojectedImage_.getResolution()==y&&(0,u.equals)(this.reprojectedImage_.getExtent(),n))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=
new w["default"](N,C,n,y,A,function(K,E,x){return this.getImageInternal(K,E,x,N)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}N&&(C=N);return this.getImageInternal(n,y,A,C)};e.prototype.getImageInternal=function(n,y,A,C){return(0,v["abstract"])()};e.prototype.handleImageChange=function(n){n=n.target;switch(n.getState()){case l["default"].LOADING:this.loading=!0;this.dispatchEvent(new g(d.IMAGELOADSTART,n));break;case l["default"].LOADED:this.loading=
!1;this.dispatchEvent(new g(d.IMAGELOADEND,n));break;case l["default"].ERROR:this.loading=!1,this.dispatchEvent(new g(d.IMAGELOADERROR,n))}};return e}(ob["default"]);J["default"]=z};
shadow$provide[283]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.appendParams=function(m,l){var w=[];Object.keys(l).forEach(function(L){null!==l[L]&&void 0!==l[L]&&w.push(L+"\x3d"+encodeURIComponent(l[L]))});var G=w.join("\x26");m=m.replace(/[?&]$/,"");m=-1===m.indexOf("?")?m+"?":m+"\x26";return m+G}};
shadow$provide[284]=function(Ea,z,ob,J){function m(g){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return m(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}function w(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=w(z(88)),L=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==m(g)&&"function"!==typeof g)return{"default":g};var a=l();if(a&&a.has(g))return a.get(g);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in g)if(Object.prototype.hasOwnProperty.call(g,y)){var A=n?Object.getOwnPropertyDescriptor(g,y):null;A&&(A.get||A.set)?Object.defineProperty(e,y,A):e[y]=g[y]}e["default"]=g;a&&a.set(g,e);return e}(z(282)),v=w(z(228)),u=z(283),t=z(76),k=z(86),f=z(80),d=function(){var g=
function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,e)};return function(a,e){function n(){this.constructor=a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ea=function(g){function a(e){var n=e?e:{};e=g.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||
this;e.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;e.hidpi_=void 0!==n.hidpi?n.hidpi:!0;e.url_=n.url;e.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:L.defaultImageLoadFunction;e.params_=n.params||{};e.image_=null;e.imageSize_=[0,0];e.renderedRevision_=0;e.ratio_=void 0!==n.ratio?n.ratio:1.5;return e}d(a,g);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(e,n,y,A){if(void 0===this.url_)return null;n=this.findNearestResolution(n);
y=this.hidpi_?y:1;var C=this.image_;if(C&&this.renderedRevision_==this.getRevision()&&C.getResolution()==n&&C.getPixelRatio()==y&&(0,f.containsExtent)(C.getExtent(),e))return C;C={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,k.assign)(C,this.params_);e=e.slice();var N=(e[0]+e[2])/2,K=(e[1]+e[3])/2;if(1!=this.ratio_){var E=this.ratio_*(0,f.getWidth)(e)/2,x=this.ratio_*(0,f.getHeight)(e)/2;e[0]=N-E;e[1]=K-x;e[2]=N+E;e[3]=K+x}E=n/y;x=Math.ceil((0,f.getWidth)(e)/E);var D=Math.ceil((0,f.getHeight)(e)/E);
e[0]=N-E*x/2;e[2]=N+E*x/2;e[1]=K-E*D/2;e[3]=K+E*D/2;this.imageSize_[0]=x;this.imageSize_[1]=D;A=this.getRequestUrl_(e,this.imageSize_,y,A,C);this.image_=new v["default"](e,n,y,A,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(G["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(e,n,y,A,C){A=A.getCode().split(":").pop();
C.SIZE=n[0]+","+n[1];C.BBOX=e.join(",");C.BBOXSR=A;C.IMAGESR=A;C.DPI=Math.round(90*y);e=this.url_;n=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");n==e&&(0,t.assert)(!1,50);return(0,u.appendParams)(n,C)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};a.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())};a.prototype.updateParams=
function(e){(0,k.assign)(this.params_,e);this.image_=null;this.changed()};return a}(L["default"]);J["default"]=Ea};
shadow$provide[285]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(227));var l=m(z(199)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v,u,t,k,f){v=G.call(this,v,u,t,void 0!==f?l["default"].IDLE:l["default"].LOADED)||this;v.loader_=void 0!==f?f:null;v.canvas_=k;v.error_=null;return v}w(L,G);L.prototype.getError=function(){return this.error_};L.prototype.handleLoad_=function(v){v?(this.error_=v,this.state=l["default"].ERROR):this.state=l["default"].LOADED;this.changed()};L.prototype.load=function(){this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};L.prototype.getImage=function(){return this.canvas_};return L}(Ea["default"]);J["default"]=z};
shadow$provide[286]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(285));Ea=m(z(282));var w=z(80),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===
u?Object.create(u):(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){var t=u?u:{};u=L.call(this,{attributions:t.attributions,imageSmoothing:t.imageSmoothing,projection:t.projection,resolutions:t.resolutions,state:t.state})||this;u.canvasFunction_=t.canvasFunction;u.canvas_=null;u.renderedRevision_=0;u.ratio_=void 0!==t.ratio?t.ratio:1.5;return u}G(v,L);v.prototype.getImageInternal=function(u,t,k,f){t=this.findNearestResolution(t);var d=this.canvas_;if(d&&this.renderedRevision_==this.getRevision()&&
d.getResolution()==t&&d.getPixelRatio()==k&&(0,w.containsExtent)(d.getExtent(),u))return d;u=u.slice();(0,w.scaleFromCenter)(u,this.ratio_);var g=(0,w.getWidth)(u)/t,a=(0,w.getHeight)(u)/t;(f=this.canvasFunction_.call(this,u,t,k,[g*k,a*k],f))&&(d=new l["default"](u,t,k,f));this.canvas_=d;this.renderedRevision_=this.getRevision();return d};return v}(Ea["default"]);J["default"]=z};
shadow$provide[287]=function(Ea,z,ob,J){function m(d){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return m(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function w(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=w(z(88)),L=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==m(d)&&"function"!==typeof d)return{"default":d};var g=l();if(g&&g.has(d))return g.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var y=e?Object.getOwnPropertyDescriptor(d,n):null;y&&(y.get||y.set)?Object.defineProperty(a,n,y):a[n]=d[n]}a["default"]=d;g&&g.set(d,a);return a}(z(282)),v=w(z(228)),u=z(283),t=z(86),k=z(80),f=function(){var d=
function(g,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(g,a)};return function(g,a){function e(){this.constructor=g}d(g,a);g.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ea=function(d){function g(a){var e=d.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;e.crossOrigin_=void 0!==a.crossOrigin?
a.crossOrigin:null;e.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;e.params_=a.params||{};e.url_=a.url;e.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:L.defaultImageLoadFunction;e.hidpi_=void 0!==a.hidpi?a.hidpi:!0;e.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;e.ratio_=void 0!==a.ratio?a.ratio:1;e.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;e.image_=null;e.renderedRevision_=0;return e}f(g,d);g.prototype.getParams=function(){return this.params_};g.prototype.getImageInternal=
function(a,e,n,y){e=this.findNearestResolution(e);n=this.hidpi_?n:1;var A=this.image_;if(A&&this.renderedRevision_==this.getRevision()&&A.getResolution()==e&&A.getPixelRatio()==n&&(0,k.containsExtent)(A.getExtent(),a))return A;1!=this.ratio_&&(a=a.slice(),(0,k.scaleFromCenter)(a,this.ratio_));A=(0,k.getWidth)(a)/e;var C=(0,k.getHeight)(a)/e;A=[A*n,C*n];void 0!==this.url_?(y=this.getUrl(this.url_,this.params_,a,A,y),A=new v["default"](a,e,n,y,this.crossOrigin_,this.imageLoadFunction_),A.addEventListener(G["default"].CHANGE,
this.handleImageChange.bind(this))):A=null;this.image_=A;this.renderedRevision_=this.getRevision();return A};g.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};g.prototype.updateParams=function(a){(0,t.assign)(this.params_,a);this.changed()};g.prototype.getUrl=function(a,e,n,y,A){A=this.metersPerUnit_;var C=this.displayDpi_,N=(0,k.getWidth)(n),K=(0,k.getHeight)(n),E=y[0],x=y[1];C=.0254/C;A=x*N>E*K?N*A/(E*C):K*A/(x*C);n=(0,k.getCenter)(n);y={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(y[0]),SETDISPLAYHEIGHT:Math.round(y[1]),SETVIEWSCALE:A,SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]};(0,t.assign)(y,e);return(0,u.appendParams)(a,y)};g.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return g}(L["default"]);J["default"]=Ea};
shadow$provide[288]=function(Ea,z,ob,J){function m(a){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return m(a)}function l(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;l=function(){return a};return a}function w(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=w(z(88)),L=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==m(a)&&"function"!==typeof a)return{"default":a};var e=l();if(e&&e.has(a))return e.get(a);var n={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in a)if(Object.prototype.hasOwnProperty.call(a,A)){var C=y?Object.getOwnPropertyDescriptor(a,A):null;C&&(C.get||C.set)?Object.defineProperty(n,A,C):n[A]=a[A]}n["default"]=a;e&&e.set(a,n);return n}(z(282)),v=w(z(199)),u=w(z(228)),t=z(86),k=z(103),f=z(80),d=z(130),
g=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,A){y.__proto__=A}||function(y,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(y[C]=A[C])};return a(e,n)};return function(e,n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}();Ea=function(a){function e(n){var y=void 0!==n.crossOrigin?n.crossOrigin:null,A=void 0!==n.imageLoadFunction?n.imageLoadFunction:L.defaultImageLoadFunction;
var C=a.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:(0,d.get)(n.projection)})||this;C.url_=n.url;C.imageExtent_=n.imageExtent;C.image_=new u["default"](C.imageExtent_,void 0,1,C.url_,y,A);C.imageSize_=n.imageSize?n.imageSize:null;C.image_.addEventListener(G["default"].CHANGE,C.handleImageChange.bind(C));return C}g(e,a);e.prototype.getImageExtent=function(){return this.imageExtent_};e.prototype.getImageInternal=function(n,y,A,C){return(0,f.intersects)(n,this.image_.getExtent())?
this.image_:null};e.prototype.getUrl=function(){return this.url_};e.prototype.handleImageChange=function(n){if(this.image_.getState()==v["default"].LOADED){var y=this.image_.getExtent(),A=this.image_.getImage();if(this.imageSize_){var C=this.imageSize_[0];var N=this.imageSize_[1]}else C=A.width,N=A.height;var K=(0,f.getHeight)(y)/N;y=Math.ceil((0,f.getWidth)(y)/K);y!=C&&(y=(0,k.createCanvasContext2D)(y,N),(0,t.assign)(y,this.getContextOptions()),K=y.canvas,y.drawImage(A,0,0,C,N,0,0,K.width,K.height),
this.image_.setImage(K))}a.prototype.handleImageChange.call(this,n)};return e}(L["default"]);J["default"]=Ea};
shadow$provide[289]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[290]=function(Ea,z,ob,J){function m(C){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"===typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};return m(C)}function l(){if("function"!==typeof WeakMap)return null;var C=new WeakMap;l=function(){return C};return C}function w(C){return C&&C.__esModule?C:{"default":C}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=z(259),L=w(z(88)),v=function(C){if(C&&C.__esModule)return C;if(null===C||"object"!==m(C)&&"function"!==typeof C)return{"default":C};var N=l();if(N&&N.has(C))return N.get(C);var K={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor,x;for(x in C)if(Object.prototype.hasOwnProperty.call(C,x)){var D=E?Object.getOwnPropertyDescriptor(C,x):null;D&&(D.get||D.set)?Object.defineProperty(K,x,D):K[x]=C[x]}K["default"]=C;N&&N.set(C,K);return K}(z(282)),u=w(z(228)),t=w(z(289)),k=z(283),f=z(76),d=
z(86),g=z(260),a=z(97),e=z(80),n=z(130),y=function(){var C=function(N,K){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var D in x)Object.prototype.hasOwnProperty.call(x,D)&&(E[D]=x[D])};return C(N,K)};return function(N,K){function E(){this.constructor=N}C(N,K);N.prototype=null===K?Object.create(K):(E.prototype=K.prototype,new E)}}(),A=[101,101];Ea=function(C){function N(K){var E=K?K:{};K=C.call(this,{attributions:E.attributions,imageSmoothing:E.imageSmoothing,
projection:E.projection,resolutions:E.resolutions})||this;K.crossOrigin_=void 0!==E.crossOrigin?E.crossOrigin:null;K.url_=E.url;K.imageLoadFunction_=void 0!==E.imageLoadFunction?E.imageLoadFunction:v.defaultImageLoadFunction;K.params_=E.params||{};K.v13_=!0;K.updateV13_();K.serverType_=E.serverType;K.hidpi_=void 0!==E.hidpi?E.hidpi:!0;K.image_=null;K.imageSize_=[0,0];K.renderedRevision_=0;K.ratio_=void 0!==E.ratio?E.ratio:1.5;return K}y(N,C);N.prototype.getFeatureInfoUrl=function(K,E,x,D){if(void 0!==
this.url_){x=(0,n.get)(x);var H=this.getProjection();H&&H!==x&&(E=(0,g.calculateSourceResolution)(H,x,K,E),K=(0,n.transform)(K,x,H));var S=(0,e.getForViewAndSize)(K,E,0,A),U={SERVICE:"WMS",VERSION:G.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,d.assign)(U,this.params_,D);D=Math.floor((S[3]-K[1])/E);U[this.v13_?"I":"X"]=Math.floor((K[0]-S[0])/E);U[this.v13_?"J":"Y"]=D;return this.getRequestUrl_(S,A,1,H||x,U)}};N.prototype.getLegendUrl=
function(K,E){if(void 0!==this.url_){var x={SERVICE:"WMS",VERSION:G.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===E||void 0===E.LAYER){var D=this.params_.LAYERS;if(Array.isArray(D)&&1!==D.length)return;x.LAYER=D}void 0!==K&&(D=this.getProjection()?this.getProjection().getMetersPerUnit():1,x.SCALE=K*D/2.8E-4);(0,d.assign)(x,E);return(0,k.appendParams)(this.url_,x)}};N.prototype.getParams=function(){return this.params_};N.prototype.getImageInternal=function(K,E,x,D){if(void 0===
this.url_)return null;E=this.findNearestResolution(E);1==x||this.hidpi_&&void 0!==this.serverType_||(x=1);var H=E/x,S=(0,e.getCenter)(K),U=Math.ceil((0,e.getWidth)(K)/H),ia=Math.ceil((0,e.getHeight)(K)/H);U=(0,e.getForViewAndSize)(S,H,0,[U,ia]);ia=Math.ceil(this.ratio_*(0,e.getWidth)(K)/H);K=Math.ceil(this.ratio_*(0,e.getHeight)(K)/H);S=(0,e.getForViewAndSize)(S,H,0,[ia,K]);if((K=this.image_)&&this.renderedRevision_==this.getRevision()&&K.getResolution()==E&&K.getPixelRatio()==x&&(0,e.containsExtent)(K.getExtent(),
U))return K;U={SERVICE:"WMS",VERSION:G.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,d.assign)(U,this.params_);this.imageSize_[0]=Math.round((0,e.getWidth)(S)/H);this.imageSize_[1]=Math.round((0,e.getHeight)(S)/H);D=this.getRequestUrl_(S,this.imageSize_,x,D,U);this.image_=new u["default"](S,E,x,D,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(L["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
N.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};N.prototype.getRequestUrl_=function(K,E,x,D,H){(0,f.assert)(void 0!==this.url_,9);H[this.v13_?"CRS":"SRS"]=D.getCode();"STYLES"in this.params_||(H.STYLES="");if(1!=x)switch(this.serverType_){case t["default"].GEOSERVER:x=90*x+.5|0;H.FORMAT_OPTIONS="FORMAT_OPTIONS"in H?H.FORMAT_OPTIONS+(";dpi:"+x):"dpi:"+x;break;case t["default"].MAPSERVER:H.MAP_RESOLUTION=90*x;break;case t["default"].CARMENTA_SERVER:case t["default"].QGIS:H.DPI=
90*x;break;default:(0,f.assert)(!1,8)}H.WIDTH=E[0];H.HEIGHT=E[1];E=D.getAxisOrientation();K=this.v13_&&"ne"==E.substr(0,2)?[K[1],K[0],K[3],K[2]]:K;H.BBOX=K.join(",");return(0,k.appendParams)(this.url_,H)};N.prototype.getUrl=function(){return this.url_};N.prototype.setImageLoadFunction=function(K){this.image_=null;this.imageLoadFunction_=K;this.changed()};N.prototype.setUrl=function(K){K!=this.url_&&(this.url_=K,this.image_=null,this.changed())};N.prototype.updateParams=function(K){(0,d.assign)(this.params_,
K);this.updateV13_();this.image_=null;this.changed()};N.prototype.updateV13_=function(){var K=this.params_.VERSION||G.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(K,"1.3")};return N}(v["default"]);J["default"]=Ea};
shadow$provide[291]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.ATTRIBUTION=void 0;Ea=function(l){return l&&l.__esModule?l:{"default":l}}(z(275));var m=function(){var l=function(w,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,v){L.__proto__=v}||function(L,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(L[u]=v[u])};return l(w,G)};return function(w,G){function L(){this.constructor=w}l(w,G);w.prototype=null===G?Object.create(G):
(L.prototype=G.prototype,new L)}}();J.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';Ea=function(l){function w(G){G=G||{};return l.call(this,{attributions:void 0!==G.attributions?G.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:G.cacheSize,crossOrigin:void 0!==G.crossOrigin?
G.crossOrigin:"anonymous",imageSmoothing:G.imageSmoothing,maxZoom:void 0!==G.maxZoom?G.maxZoom:19,opaque:void 0!==G.opaque?G.opaque:!0,reprojectionErrorThreshold:G.reprojectionErrorThreshold,tileLoadFunction:G.tileLoadFunction,transition:G.transition,url:void 0!==G.url?G.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:G.wrapX})||this}m(w,l);return w}(Ea["default"]);J["default"]=Ea};
shadow$provide[292]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(l){return l&&l.__esModule?l:{"default":l}}(z(96));var m=function(){var l=function(w,G){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,v){L.__proto__=v}||function(L,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(L[u]=v[u])};return l(w,G)};return function(w,G){function L(){this.constructor=w}l(w,G);w.prototype=null===G?Object.create(G):(L.prototype=
G.prototype,new L)}}();Ea=function(l){function w(G){return l.call(this,G?G:{})||this}m(w,l);return w}(Ea["default"]);J["default"]=Ea};
shadow$provide[293]=function(Ea,z,ob,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(219));var l=m(z(121)),w=z(257),G=z(86),L=z(77),v=z(80),u=z(104),t=z(130),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=
d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g){g=f.call(this,g)||this;g.image_=null;return g}k(d,f);d.prototype.getImage=function(){return this.image_?this.image_.getImage():null};d.prototype.prepareFrame=function(g){var a=g.layerStatesArray[g.layerIndex],e=g.pixelRatio,n=g.viewState,y=n.resolution,A=this.getLayer().getSource(),C=g.viewHints;g=g.extent;void 0!==a.extent&&(g=(0,v.getIntersection)(g,(0,t.fromUserExtent)(a.extent,n.projection)));
C[l["default"].ANIMATING]||C[l["default"].INTERACTING]||(0,v.isEmpty)(g)||(A?(a=n.projection,w.ENABLE_RASTER_REPROJECTION||(n=A.getProjection())&&(a=n),(e=A.getImage(g,y,e,a))&&this.loadImage(e)&&(this.image_=e)):this.image_=null);return!!this.image_};d.prototype.renderFrame=function(g,a){var e=this.image_,n=e.getExtent(),y=e.getResolution(),A=e.getPixelRatio(),C=g.layerStatesArray[g.layerIndex],N=g.pixelRatio,K=g.viewState,E=K.center,x=g.size,D=N*y/(K.resolution*A),H=Math.round(x[0]*N),S=Math.round(x[1]*
N);if(x=K.rotation){var U=Math.round(Math.sqrt(H*H+S*S));S=H=U}(0,L.compose)(this.pixelTransform,g.size[0]/2,g.size[1]/2,1/N,1/N,x,-H/2,-S/2);(0,L.makeInverse)(this.inversePixelTransform,this.pixelTransform);x=(0,u.createTransformString)(this.pixelTransform);this.useContainer(a,x,C.opacity);a=this.context;U=a.canvas;U.width!=H||U.height!=S?(U.width=H,U.height=S):this.containerReused||a.clearRect(0,0,H,S);var ia=!1;C.extent&&(K=(0,t.fromUserExtent)(C.extent,K.projection),(ia=!(0,v.containsExtent)(K,
g.extent)&&(0,v.intersects)(K,g.extent))&&this.clipUnrotated(a,g,K));e=e.getImage();n=(0,L.compose)(this.tempTransform,H/2,S/2,D,D,0,A*(n[0]-E[0])/y,A*(E[1]-n[3])/y);this.renderedResolution=y*N/A;y=n[4];A=n[5];N=e.width*n[0];n=e.height*n[3];(0,G.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,g);.5<=N&&.5<=n&&(C=C.opacity,E=void 0,1!==C&&(E=this.context.globalAlpha,this.context.globalAlpha=C),this.context.drawImage(e,0,0,+e.width,+e.height,Math.round(y),Math.round(A),Math.round(N),
Math.round(n)),1!==C&&(this.context.globalAlpha=E));this.postRender(a,g);ia&&a.restore();x!==U.style.transform&&(U.style.transform=x);return this.container};return d}(Ea["default"]);J["default"]=z};
shadow$provide[294]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(292));var l=m(z(293)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v){return G.call(this,v)||this}w(L,G);L.prototype.createRenderer=function(){return new l["default"](this)};return L}(Ea["default"]);J["default"]=z};
shadow$provide[295]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[296]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(96));var l=m(z(295)),w=z(86),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):
(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){u=u?u:{};var t=(0,w.assign)({},u);delete t.preload;delete t.useInterimTilesOnError;t=L.call(this,t)||this;t.setPreload(void 0!==u.preload?u.preload:0);t.setUseInterimTilesOnError(void 0!==u.useInterimTilesOnError?u.useInterimTilesOnError:!0);return t}G(v,L);v.prototype.getPreload=function(){return this.get(l["default"].PRELOAD)};v.prototype.setPreload=function(u){this.set(l["default"].PRELOAD,u)};v.prototype.getUseInterimTilesOnError=
function(){return this.get(l["default"].USE_INTERIM_TILES_ON_ERROR)};v.prototype.setUseInterimTilesOnError=function(u){this.set(l["default"].USE_INTERIM_TILES_ON_ERROR,u)};return v}(Ea["default"]);J["default"]=z};
shadow$provide[297]=function(Ea,z,ob,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(219));var l=m(z(266)),w=m(z(117)),G=z(77),L=z(86),v=z(80),u=z(104),t=z(130),k=z(74),f=z(72),d=function(){var g=function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,e)};return function(a,e){function n(){this.constructor=
a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();z=function(g){function a(e){e=g.call(this,e)||this;e.extentChanged=!0;e.renderedExtent_=null;e.renderedProjection=null;e.renderedTiles=[];e.newTiles_=!1;e.tmpExtent=(0,v.createEmpty)();e.tmpTileRange_=new l["default"](0,0,0,0);return e}d(a,g);a.prototype.isDrawableTile=function(e){var n=this.getLayer();e=e.getState();n=n.getUseInterimTilesOnError();return e==w["default"].LOADED||e==w["default"].EMPTY||e==w["default"].ERROR&&
!n};a.prototype.getTile=function(e,n,y,A){var C=A.pixelRatio,N=A.viewState.projection;A=this.getLayer();e=A.getSource().getTile(e,n,y,C,N);e.getState()==w["default"].ERROR&&(A.getUseInterimTilesOnError()?0<A.getPreload()&&(this.newTiles_=!0):e.setState(w["default"].LOADED));this.isDrawableTile(e)||(e=e.getInterimTile());return e};a.prototype.loadedTileCallback=function(e,n,y){return this.isDrawableTile(y)?g.prototype.loadedTileCallback.call(this,e,n,y):!1};a.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(e,n){var y=e.layerStatesArray[e.layerIndex],A=e.viewState,C=A.projection,N=A.resolution,K=A.center,E=A.rotation;A=e.pixelRatio;var x=this.getLayer(),D=x.getSource(),H=D.getRevision(),S=D.getTileGridForProjection(C),U=S.getZForResolution(N,D.zDirection),ia=S.getResolution(U),fa=e.extent,ja=y.extent&&(0,t.fromUserExtent)(y.extent,C);ja&&(fa=(0,v.getIntersection)(fa,(0,t.fromUserExtent)(y.extent,C)));var la=D.getTilePixelRatio(A),da=Math.round(e.size[0]*la),O=Math.round(e.size[1]*
la);if(E){var B=Math.round(Math.sqrt(da*da+O*O));O=da=B}B=ia*da/2/la;var Y=ia*O/2/la;K=[K[0]-B,K[1]-Y,K[0]+B,K[1]+Y];var ka=S.getTileRangeForExtentAndZ(fa,U);B={};B[U]={};var Z=this.createLoadedTileFinder(D,C,B),wa=this.tmpExtent,xa=this.tmpTileRange_;this.newTiles_=!1;for(var Da=ka.minX;Da<=ka.maxX;++Da)for(var Wa=ka.minY;Wa<=ka.maxY;++Wa){Y=this.getTile(U,Da,Wa,e);if(this.isDrawableTile(Y)){var gb=(0,k.getUid)(this);if(Y.getState()==w["default"].LOADED){B[U][Y.tileCoord.toString()]=Y;var ra=Y.inTransition(gb);
this.newTiles_||!ra&&-1!==this.renderedTiles.indexOf(Y)||(this.newTiles_=!0)}if(1===Y.getAlpha(gb,e.time))continue}ra=S.getTileCoordChildTileRange(Y.tileCoord,xa,wa);gb=!1;ra&&(gb=Z(U+1,ra));gb||S.forEachTileCoordParentTileRange(Y.tileCoord,Z,xa,wa)}N=ia/N;(0,G.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/la,1/la,E,-da/2,-O/2);E=(0,u.createTransformString)(this.pixelTransform);this.useContainer(n,E,y.opacity);n=this.context;ka=n.canvas;(0,G.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,G.compose)(this.tempTransform,da/2,O/2,N,N,0,-da/2,-O/2);ka.width!=da||ka.height!=O?(ka.width=da,ka.height=O):this.containerReused||n.clearRect(0,0,da,O);ja&&this.clipUnrotated(n,e,ja);(0,L.assign)(n,D.getContextOptions());this.preRender(n,e);this.renderedTiles.length=0;ja=Object.keys(B).map(Number);ja.sort(f.numberSafeCompareFunction);if(1!==y.opacity||this.containerReused&&!D.getOpaque(e.viewState.projection)){var Na=[];var Ta=[]}else ja=ja.reverse();for(da=ja.length-1;0<=da;--da){O=ja[da];Y=
D.getTilePixelSize(O,A,C);Da=S.getResolution(O)/ia;Z=Y[0]*Da*N;wa=Y[1]*Da*N;xa=S.getTileCoordForCoordAndZ((0,v.getTopLeft)(K),O);Y=S.getTileCoordExtent(xa);gb=(0,G.apply)(this.tempTransform,[la*(Y[0]-K[0])/ia,la*(K[3]-Y[3])/ia]);var za=la*D.getGutterForProjection(C),pa=B[O],T;for(T in pa){Y=pa[T];Wa=Y.tileCoord;Da=gb[0]-(xa[1]-Wa[1])*Z;ra=Math.round(Da+Z);Wa=gb[1]-(xa[2]-Wa[2])*wa;var W=Math.round(Wa+wa);Da=Math.round(Da);Wa=Math.round(Wa);var M=ra-Da,P=W-Wa,ca=U===O;ra=ca&&1!==Y.getAlpha((0,k.getUid)(this),
e.time);if(!ra)if(Na){n.save();W=[Da,Wa,Da+M,Wa,Da+M,Wa+P,Da,Wa+P];for(var ea=0,oa=Na.length;ea<oa;++ea)if(U!==O&&O<Ta[ea]){var ba=Na[ea];n.beginPath();n.moveTo(W[0],W[1]);n.lineTo(W[2],W[3]);n.lineTo(W[4],W[5]);n.lineTo(W[6],W[7]);n.moveTo(ba[6],ba[7]);n.lineTo(ba[4],ba[5]);n.lineTo(ba[2],ba[3]);n.lineTo(ba[0],ba[1]);n.clip()}Na.push(W);Ta.push(O)}else n.clearRect(Da,Wa,M,P);this.drawTileImage(Y,e,Da,Wa,M,P,za,ca,y.opacity);Na&&!ra&&n.restore();this.renderedTiles.push(Y);this.updateUsedTiles(e.usedTiles,
D,Y)}}this.renderedRevision=H;this.renderedResolution=ia;this.extentChanged=!this.renderedExtent_||!(0,v.equals)(this.renderedExtent_,K);this.renderedExtent_=K;this.renderedPixelRatio=A;this.renderedProjection=C;this.manageTilePyramid(e,D,S,A,C,fa,U,x.getPreload());this.scheduleExpireCache(e,D);this.postRender(n,e);y.extent&&n.restore();E!==ka.style.transform&&(ka.style.transform=E);return this.container};a.prototype.drawTileImage=function(e,n,y,A,C,N,K,E,x){var D=this.getTileImage(e);if(D){var H=
(0,k.getUid)(this),S=E?e.getAlpha(H,n.time):1;x*=S;var U=x!==this.context.globalAlpha;U&&(this.context.save(),this.context.globalAlpha=x);this.context.drawImage(D,K,K,D.width-2*K,D.height-2*K,y,A,C,N);U&&this.context.restore();1!==S?n.animate=!0:E&&e.endTransition(H)}};a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};a.prototype.getTileImage=function(e){return e.getImage()};a.prototype.scheduleExpireCache=function(e,n){n.canExpireCache()&&(n=function(y,A,C){A=(0,k.getUid)(y);
A in C.usedTiles&&y.expireCache(C.viewState.projection,C.usedTiles[A])}.bind(null,n),e.postRenderFunctions.push(n))};a.prototype.updateUsedTiles=function(e,n,y){n=(0,k.getUid)(n);n in e||(e[n]={});e[n][y.getKey()]=!0};a.prototype.manageTilePyramid=function(e,n,y,A,C,N,K,E,x){var D=(0,k.getUid)(n);D in e.wantedTiles||(e.wantedTiles[D]={});var H=e.wantedTiles[D];e=e.tileQueue;var S=0,U,ia,fa;for(fa=y.getMinZoom();fa<=K;++fa){var ja=y.getTileRangeForExtentAndZ(N,fa,ja);var la=y.getResolution(fa);for(U=
ja.minX;U<=ja.maxX;++U)for(ia=ja.minY;ia<=ja.maxY;++ia)if(K-fa<=E){++S;var da=n.getTile(fa,U,ia,A,C);da.getState()==w["default"].IDLE&&(H[da.getKey()]=!0,e.isKeyQueued(da.getKey())||e.enqueue([da,D,y.getTileCoordCenter(da.tileCoord),la]));void 0!==x&&x(da)}else n.useTile(fa,U,ia,C)}n.updateCacheSize(S,C)};return a}(Ea["default"]);J["default"]=z};
shadow$provide[298]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(296));var l=m(z(297)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v){return G.call(this,v)||this}w(L,G);L.prototype.createRenderer=function(){return new l["default"](this)};return L}(Ea["default"]);J["default"]=z};
shadow$provide[299]=function(Ea,z,ob,J){function m(fa){return fa&&fa.__esModule?fa:{"default":fa}}function l(fa,ja,la){if(D)return new ImageData(fa,ja,la);ja=H.createImageData(ja,la);ja.data.set(fa);return ja}function w(fa){var ja=!0;try{new ImageData(10,10)}catch(la){ja=!1}return function(la){var da=la.buffers,O=la.meta,B=la.width,Y=la.height,ka=da.length,Z=da[0].byteLength;if(la.imageOps){Z=Array(ka);for(la=0;la<ka;++la){var wa=la;var xa=new Uint8ClampedArray(da[la]);var Da=B,Wa=Y;xa=ja?new ImageData(xa,
Da,Wa):{data:xa,width:Da,height:Wa};Z[wa]=xa}B=fa(Z,O).data}else{B=new Uint8ClampedArray(Z);Y=Array(ka);wa=Array(ka);for(la=0;la<ka;++la)Y[la]=new Uint8ClampedArray(da[la]),wa[la]=[0,0,0,0];for(da=0;da<Z;da+=4){for(la=0;la<ka;++la)xa=Y[la],wa[la][0]=xa[da],wa[la][1]=xa[da+1],wa[la][2]=xa[da+2],wa[la][3]=xa[da+3];la=fa(wa,O);B[da]=la[0];B[da+1]=la[1];B[da+2]=la[2];B[da+3]=la[3]}}return B.buffer}}function G(fa,ja){var la=Object.keys(fa.lib||{}).map(function(da){return"var "+da+" \x3d "+fa.lib[da].toString()+
";"}).concat(["var __minion__ \x3d ("+w.toString()+")(",fa.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);la=new Blob(la,{type:"text/javascript"});la=URL.createObjectURL(la);la=new Worker(la);la.addEventListener("message",ja);return la}function L(fa,ja){var la=w(fa.operation),da=!1;return{postMessage:function(O){setTimeout(function(){da||ja({data:{buffer:la(O),
meta:O.meta}})},0)},terminate:function(){da=!0}}}function v(fa,ja){var la=fa.getRenderer();if(!la)throw Error("Unsupported layer type: "+fa);if(!la.prepareFrame(ja))return null;fa=ja.size[0];var da=ja.size[1];if(0===fa||0===da)return null;ja=la.renderFrame(ja,null);if(ja)var O=ja.firstElementChild;if(!(O instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+O);if(O.width===fa&&O.height===da)return O.getContext("2d").getImageData(0,0,fa,da);ia?(ja=ia.canvas,ja.width!==fa||ja.height!==
da?ia=(0,N.createCanvasContext2D)(fa,da):ia.clearRect(0,0,fa,da)):ia=(0,N.createCanvasContext2D)(fa,da);ia.drawImage(O,0,0,fa,da);return ia.getImageData(0,0,fa,da)}function u(fa){return fa.map(function(ja){return ja.getLayerState()})}function t(fa){for(var ja=fa.length,la=Array(ja),da=0;da<ja;++da){var O=da,B=void 0,Y=fa[da];Y instanceof a["default"]?Y instanceof A["default"]?B=new n["default"]({source:Y}):Y instanceof g["default"]&&(B=new d["default"]({source:Y})):B=Y;la[O]=B}return la}Object.defineProperty(J,
"__esModule",{value:!0});J.newImageData=l;J["default"]=J.RasterSourceEvent=J.Processor=void 0;Ea=m(z(71));ob=m(z(84));var k=m(z(88)),f=m(z(285)),d=m(z(294)),g=m(z(282)),a=m(z(238)),e=m(z(95)),n=m(z(298)),y=m(z(118)),A=m(z(269)),C=z(86),N=z(103),K=z(77),E=z(80),x=function(){var fa=function(ja,la){fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(da,O){da.__proto__=O}||function(da,O){for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(da[B]=O[B])};return fa(ja,la)};return function(ja,
la){function da(){this.constructor=ja}fa(ja,la);ja.prototype=null===la?Object.create(la):(da.prototype=la.prototype,new da)}}(),D=!0;try{new ImageData(10,10)}catch(fa){D=!1}var H=document.createElement("canvas").getContext("2d"),S=function(fa){function ja(la){var da=fa.call(this)||this;da._imageOps=!!la.imageOps;var O=0===la.threads?0:da._imageOps?1:la.threads||1;var B=[];if(O)for(var Y=0;Y<O;++Y)B[Y]=G(la,da._onWorkerMessage.bind(da,Y));else B[0]=L(la,da._onWorkerMessage.bind(da,0));da._workers=
B;da._queue=[];da._maxQueueLength=la.queue||Infinity;da._running=0;da._dataLookup={};da._job=null;return da}x(ja,fa);ja.prototype.process=function(la,da,O){this._enqueue({inputs:la,meta:da,callback:O});this._dispatch()};ja.prototype._enqueue=function(la){for(this._queue.push(la);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};ja.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var la=this._queue.shift();this._job=la;var da=la.inputs[0].width,
O=la.inputs[0].height,B=la.inputs.map(function(gb){return gb.data.buffer}),Y=this._workers.length;this._running=Y;if(1===Y)this._workers[0].postMessage({buffers:B,meta:la.meta,imageOps:this._imageOps,width:da,height:O},B);else for(var ka=4*Math.ceil(la.inputs[0].data.length/4/Y),Z=0;Z<Y;++Z){for(var wa=Z*ka,xa=[],Da=0,Wa=B.length;Da<Wa;++Da)xa.push(B[Da].slice(wa,wa+ka));this._workers[Z].postMessage({buffers:xa,meta:la.meta,imageOps:this._imageOps,width:da,height:O},xa)}}};ja.prototype._onWorkerMessage=
function(la,da){this.disposed||(this._dataLookup[la]=da.data,--this._running,0===this._running&&this._resolveJob())};ja.prototype._resolveJob=function(){var la=this._job,da=this._workers.length;if(1===da){var O=new Uint8ClampedArray(this._dataLookup[0].buffer);var B=this._dataLookup[0].meta}else{var Y=la.inputs[0].data.length;O=new Uint8ClampedArray(Y);B=Array(Y);Y=4*Math.ceil(Y/4/da);for(var ka=0;ka<da;++ka){var Z=ka*Y;O.set(new Uint8ClampedArray(this._dataLookup[ka].buffer),Z);B[ka]=this._dataLookup[ka].meta}}this._job=
null;this._dataLookup={};la.callback(null,l(O,la.inputs[0].width,la.inputs[0].height),B);this._dispatch()};ja.prototype.disposeInternal=function(){for(var la=0;la<this._workers.length;++la)this._workers[la].terminate();this._workers.length=0};return ja}(Ea["default"]);J.Processor=S;var U=function(fa){function ja(la,da,O){la=fa.call(this,la)||this;la.extent=da.extent;la.resolution=da.viewState.resolution/da.pixelRatio;la.data=O;return la}x(ja,fa);return ja}(ob["default"]);J.RasterSourceEvent=U;z=function(fa){function ja(la){var da=
fa.call(this,{projection:null})||this;da.processor_=null;da.operationType_=void 0!==la.operationType?la.operationType:"pixel";da.threads_=void 0!==la.threads?la.threads:1;da.layers_=t(la.sources);for(var O=da.changed.bind(da),B=0,Y=da.layers_.length;B<Y;++B)da.layers_[B].addEventListener(k["default"].CHANGE,O);da.tileQueue_=new y["default"](function(){return 1},da.changed.bind(da));da.renderedImageCanvas_=null;da.frameState_={animate:!1,coordinateToPixelTransform:(0,K.create)(),declutterTree:null,
extent:null,index:0,layerIndex:0,layerStatesArray:u(da.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,K.create)(),postRenderFunctions:[],size:[0,0],tileQueue:da.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};da.setAttributions(function(ka){for(var Z=[],wa=0,xa=la.sources.length;wa<xa;++wa){var Da=la.sources[wa];Da=(Da instanceof a["default"]?Da:Da.getSource()).getAttributions();"function"===typeof Da&&(Da=Da(ka),Z.push.apply(Z,Da))}return 0!==Z.length?
Z:null});void 0!==la.operation&&da.setOperation(la.operation,la.lib);return da}x(ja,fa);ja.prototype.setOperation=function(la,da){this.processor_&&this.processor_.dispose();this.processor_=new S({operation:la,imageOps:"image"===this.operationType_,queue:1,lib:da,threads:this.threads_});this.changed()};ja.prototype.updateFrameState_=function(la,da,O){var B=(0,C.assign)({},this.frameState_);B.viewState=(0,C.assign)({},B.viewState);var Y=(0,E.getCenter)(la);B.extent=la.slice();B.size[0]=Math.round((0,
E.getWidth)(la)/da);B.size[1]=Math.round((0,E.getHeight)(la)/da);B.time=Infinity;la=B.viewState;la.center=Y;la.projection=O;la.resolution=da;return B};ja.prototype.allSourcesReady_=function(){for(var la=!0,da,O=0,B=this.layers_.length;O<B;++O)if(da=this.layers_[O].getSource(),da.getState()!==e["default"].READY){la=!1;break}return la};ja.prototype.getImage=function(la,da,O,B){if(!this.allSourcesReady_())return null;this.requestedFrameState_=O=this.updateFrameState_(la,da,B);if(this.renderedImageCanvas_){B=
this.renderedImageCanvas_.getResolution();var Y=this.renderedImageCanvas_.getExtent();da===B&&(0,E.equals)(la,Y)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();O.tileQueue.loadMoreTiles(16,16);O.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};ja.prototype.processSources_=function(){for(var la=this.requestedFrameState_,da=this.layers_.length,O=Array(da),B=0;B<da;++B){la.layerIndex=
B;var Y=v(this.layers_[B],la);if(Y)O[B]=Y;else return}da={};this.dispatchEvent(new U("beforeoperations",la,da));this.processor_.process(O,da,this.onWorkerComplete_.bind(this,la))};ja.prototype.onWorkerComplete_=function(la,da,O,B){if(!da&&O){da=la.extent;var Y=la.viewState.resolution;if(Y===this.requestedFrameState_.viewState.resolution&&(0,E.equals)(da,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ka=this.renderedImageCanvas_.getImage().getContext("2d");else{ka=Math.round((0,
E.getWidth)(da)/Y);var Z=Math.round((0,E.getHeight)(da)/Y);ka=(0,N.createCanvasContext2D)(ka,Z);this.renderedImageCanvas_=new f["default"](da,Y,1,ka.canvas)}ka.putImageData(O,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new U("afteroperations",la,B))}}};ja.prototype.getImageInternal=function(){return null};ja.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();fa.prototype.disposeInternal.call(this)};return ja}(g["default"]);var ia=null;
J["default"]=z};
shadow$provide[300]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(L){return L&&L.__esModule?L:{"default":L}}(z(275));z=z(291);var m=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):
(t.prototype=u.prototype,new t)}}(),l=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',z.ATTRIBUTION],w={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",
opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},G={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};z=function(L){function v(u){var t=u.layer.indexOf("-");t=-1==t?u.layer:u.layer.slice(0,t);t=G[t];var k=w[u.layer];return L.call(this,{attributions:l,cacheSize:u.cacheSize,crossOrigin:"anonymous",
imageSmoothing:u.imageSmoothing,maxZoom:void 0!=u.maxZoom?u.maxZoom:t.maxZoom,minZoom:void 0!=u.minZoom?u.minZoom:t.minZoom,opaque:k.opaque,reprojectionErrorThreshold:u.reprojectionErrorThreshold,tileLoadFunction:u.tileLoadFunction,transition:u.transition,url:void 0!==u.url?u.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+u.layer+"/{z}/{x}/{y}."+k.extension,wrapX:u.wrapX})||this}m(v,L);return v}(Ea["default"]);J["default"]=z};
shadow$provide[301]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(t){return t&&t.__esModule?t:{"default":t}}(z(272));var m=z(283),l=z(86),w=z(80),G=z(81),L=z(154),v=z(263),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=k}t(k,
f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(f){var d=f?f:{};f=t.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition})||this;f.params_=d.params||{};f.hidpi_=void 0!==
d.hidpi?d.hidpi:!0;f.tmpExtent_=(0,w.createEmpty)();f.setKey(f.getKeyForParams_());return f}u(k,t);k.prototype.getKeyForParams_=function(){var f=0,d=[],g;for(g in this.params_)d[f++]=g+"-"+this.params_[g];return d.join("/")};k.prototype.getParams=function(){return this.params_};k.prototype.getRequestUrl_=function(f,d,g,a,e,n){var y=this.urls;if(y)return e=e.getCode().split(":").pop(),n.SIZE=d[0]+","+d[1],n.BBOX=g.join(","),n.BBOXSR=e,n.IMAGESR=e,n.DPI=Math.round(n.DPI?n.DPI*a:90*a),1==y.length?y=
y[0]:(f=(0,G.modulo)((0,v.hash)(f),y.length),y=y[f]),y=y.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,m.appendParams)(y,n)};k.prototype.getTilePixelRatio=function(f){return this.hidpi_?f:1};k.prototype.updateParams=function(f){(0,l.assign)(this.params_,f);this.setKey(this.getKeyForParams_())};k.prototype.tileUrlFunction=function(f,d,g){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(g));if(!(a.getResolutions().length<=f[0])){1==d||
this.hidpi_||(d=1);var e=a.getTileCoordExtent(f,this.tmpExtent_);a=(0,L.toSize)(a.getTileSize(f[0]),this.tmpSize);1!=d&&(a=(0,L.scale)(a,d,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,l.assign)(n,this.params_);return this.getRequestUrl_(f,a,e,d,g,n)}};return k}(Ea["default"]);J["default"]=z};
shadow$provide[302]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(255));var l=m(z(117));ob=m(z(275));var w=z(103),G=z(263),L=z(154),v=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=
k}t(k,f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}(),u=function(t){function k(f,d,g){f=t.call(this,f,l["default"].LOADED)||this;f.tileSize_=d;f.text_=g;f.canvas_=null;return f}v(k,t);k.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var f=this.tileSize_,d=(0,w.createCanvasContext2D)(f[0],f[1]);d.strokeStyle="grey";d.strokeRect(.5,.5,f[0]+.5,f[1]+.5);d.fillStyle="grey";d.strokeStyle="white";d.textAlign="center";d.textBaseline="middle";d.font="24px sans-serif";
d.lineWidth=4;d.strokeText(this.text_,f[0]/2,f[1]/2,f[0]);d.fillText(this.text_,f[0]/2,f[1]/2,f[0]);return this.canvas_=d.canvas};k.prototype.load=function(){};return k}(Ea["default"]);z=function(t){function k(f){f=f||{};return t.call(this,{opaque:!1,projection:f.projection,tileGrid:f.tileGrid,wrapX:void 0!==f.wrapX?f.wrapX:!0,zDirection:f.zDirection})||this}v(k,t);k.prototype.getTile=function(f,d,g){var a=(0,G.getKeyZXY)(f,d,g);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var e=
(0,L.toSize)(this.tileGrid.getTileSize(f));f=[f,d,g];d=this.getTileCoordForTileUrlFunction(f);e=new u(f,e,d?"z:"+d[0]+" x:"+d[1]+" y:"+d[2]:"none");this.tileCache.set(a,e);return e};return k}(ob["default"]);J["default"]=z};
shadow$provide[303]=function(Ea,z,ob,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(95));Ea=m(z(272));var w=z(80),G=z(76),L=z(270),v=z(268),u=z(130),t=z(273),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=
d}f(d,g);d.prototype=null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g){var a=f.call(this,{attributions:g.attributions,cacheSize:g.cacheSize,crossOrigin:g.crossOrigin,imageSmoothing:g.imageSmoothing,projection:(0,u.get)("EPSG:3857"),reprojectionErrorThreshold:g.reprojectionErrorThreshold,state:l["default"].LOADING,tileLoadFunction:g.tileLoadFunction,wrapX:void 0!==g.wrapX?g.wrapX:!0,transition:g.transition})||this;a.tileJSON_=null;a.tileSize_=g.tileSize;if(g.url)if(g.jsonp)(0,
t.jsonp)(g.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var e=new XMLHttpRequest;e.addEventListener("load",a.onXHRLoad_.bind(a));e.addEventListener("error",a.onXHRError_.bind(a));e.open("GET",g.url);e.send()}else g.tileJSON?a.handleTileJSONResponse(g.tileJSON):(0,G.assert)(!1,51);return a}k(d,f);d.prototype.onXHRLoad_=function(g){g=g.target;if(!g.status||200<=g.status&&300>g.status){var a=void 0;try{a=JSON.parse(g.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
d.prototype.onXHRError_=function(g){this.handleTileJSONError()};d.prototype.getTileJSON=function(){return this.tileJSON_};d.prototype.handleTileJSONResponse=function(g){var a=(0,u.get)("EPSG:4326"),e=this.getProjection();if(void 0!==g.bounds){var n=(0,u.getTransformFromProjections)(a,e);n=(0,w.applyTransform)(g.bounds,n)}var y=g.minzoom||0,A=g.maxzoom||22;this.tileGrid=e=(0,v.createXYZ)({extent:(0,v.extentFromProjection)(e),maxZoom:A,minZoom:y,tileSize:this.tileSize_});this.tileUrlFunction=(0,L.createFromTemplates)(g.tiles,
e);if(void 0!==g.attribution&&!this.getAttributions()){var C=void 0!==n?n:a.getExtent();this.setAttributions(function(N){return(0,w.intersects)(C,N.extent)?[g.attribution]:null})}this.tileJSON_=g;this.setState(l["default"].READY)};d.prototype.handleTileJSONError=function(){this.setState(l["default"].ERROR)};return d}(Ea["default"]);J["default"]=z};
shadow$provide[304]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=z(259);Ea=m(z(272));var w=m(z(289)),G=z(283),L=z(76),v=z(86),u=z(80),t=z(154),k=z(260),f=z(97),d=z(130),g=z(81),a=z(263),e=function(){var n=function(y,A){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(C[K]=N[K])};return n(y,
A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();z=function(n){function y(A){var C=A?A:{},N=C.params||{};A=n.call(this,{attributions:C.attributions,cacheSize:C.cacheSize,crossOrigin:C.crossOrigin,imageSmoothing:C.imageSmoothing,opaque:!("TRANSPARENT"in N?N.TRANSPARENT:1),projection:C.projection,reprojectionErrorThreshold:C.reprojectionErrorThreshold,tileClass:C.tileClass,tileGrid:C.tileGrid,tileLoadFunction:C.tileLoadFunction,
url:C.url,urls:C.urls,wrapX:void 0!==C.wrapX?C.wrapX:!0,transition:C.transition})||this;A.gutter_=void 0!==C.gutter?C.gutter:0;A.params_=N;A.v13_=!0;A.serverType_=C.serverType;A.hidpi_=void 0!==C.hidpi?C.hidpi:!0;A.tmpExtent_=(0,u.createEmpty)();A.updateV13_();A.setKey(A.getKeyForParams_());return A}e(y,n);y.prototype.getFeatureInfoUrl=function(A,C,N,K){N=(0,d.get)(N);var E=this.getProjection(),x=this.getTileGrid();x||(x=this.getTileGridForProjection(N));C=x.getZForResolution(C,this.zDirection);C=
x.getTileCoordForCoordAndZ(A,C);if(!(x.getResolutions().length<=C[0])){var D=x.getResolution(C[0]),H=x.getTileCoordExtent(C,this.tmpExtent_);x=(0,t.toSize)(x.getTileSize(C[0]),this.tmpSize);var S=this.gutter_;0!==S&&(x=(0,t.buffer)(x,S,this.tmpSize),H=(0,u.buffer)(H,D*S,H));E&&E!==N&&(D=(0,k.calculateSourceResolution)(E,N,A,D),H=(0,d.transformExtent)(H,N,E),A=(0,d.transform)(A,N,E));S={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,v.assign)(S,this.params_,K);K=Math.floor((H[3]-A[1])/D);S[this.v13_?"I":"X"]=Math.floor((A[0]-H[0])/D);S[this.v13_?"J":"Y"]=K;return this.getRequestUrl_(C,x,H,1,E||N,S)}};y.prototype.getLegendUrl=function(A,C){if(void 0!==this.urls[0]){var N={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===C||void 0===C.LAYER){var K=this.params_.LAYERS;if(Array.isArray(K)&&1!==K.length)return;N.LAYER=K}void 0!==A&&(K=this.getProjection()?this.getProjection().getMetersPerUnit():
1,N.SCALE=A*K/2.8E-4);(0,v.assign)(N,C);return(0,G.appendParams)(this.urls[0],N)}};y.prototype.getGutter=function(){return this.gutter_};y.prototype.getParams=function(){return this.params_};y.prototype.getRequestUrl_=function(A,C,N,K,E,x){var D=this.urls;if(D){x.WIDTH=C[0];x.HEIGHT=C[1];x[this.v13_?"CRS":"SRS"]=E.getCode();"STYLES"in this.params_||(x.STYLES="");if(1!=K)switch(this.serverType_){case w["default"].GEOSERVER:C=90*K+.5|0;x.FORMAT_OPTIONS="FORMAT_OPTIONS"in x?x.FORMAT_OPTIONS+(";dpi:"+
C):"dpi:"+C;break;case w["default"].MAPSERVER:x.MAP_RESOLUTION=90*K;break;case w["default"].CARMENTA_SERVER:case w["default"].QGIS:x.DPI=90*K;break;default:(0,L.assert)(!1,52)}E=E.getAxisOrientation();this.v13_&&"ne"==E.substr(0,2)&&(E=N[0],N[0]=N[1],N[1]=E,E=N[2],N[2]=N[3],N[3]=E);x.BBOX=N.join(",");1==D.length?D=D[0]:(A=(0,g.modulo)((0,a.hash)(A),D.length),D=D[A]);return(0,G.appendParams)(D,x)}};y.prototype.getTilePixelRatio=function(A){return this.hidpi_&&void 0!==this.serverType_?A:1};y.prototype.getKeyForParams_=
function(){var A=0,C=[],N;for(N in this.params_)C[A++]=N+"-"+this.params_[N];return C.join("/")};y.prototype.updateParams=function(A){(0,v.assign)(this.params_,A);this.updateV13_();this.setKey(this.getKeyForParams_())};y.prototype.updateV13_=function(){var A=this.params_.VERSION||l.DEFAULT_WMS_VERSION;this.v13_=0<=(0,f.compareVersions)(A,"1.3")};y.prototype.tileUrlFunction=function(A,C,N){var K=this.getTileGrid();K||(K=this.getTileGridForProjection(N));if(!(K.getResolutions().length<=A[0])){1==C||
this.hidpi_&&void 0!==this.serverType_||(C=1);var E=K.getResolution(A[0]),x=K.getTileCoordExtent(A,this.tmpExtent_);K=(0,t.toSize)(K.getTileSize(A[0]),this.tmpSize);var D=this.gutter_;0!==D&&(K=(0,t.buffer)(K,D,this.tmpSize),x=(0,u.buffer)(x,E*D,x));1!=C&&(K=(0,t.scale)(K,C,this.tmpSize));E={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,v.assign)(E,this.params_);return this.getRequestUrl_(A,K,x,C,N,E)}};return y}(Ea["default"]);J["default"]=z};
shadow$provide[305]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=J.CustomTile=void 0;var l=m(z(88)),w=m(z(95));Ea=m(z(255));ob=m(z(269));var G=m(z(117)),L=z(80),v=z(76),u=z(270),t=z(268),k=z(263),f=z(130),d=z(89),g=z(273),a=function(){var n=function(y,A){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&
(C[K]=N[K])};return n(y,A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}(),e=function(n){function y(A,C,N,K,E,x){A=n.call(this,A,C)||this;A.src_=N;A.extent_=K;A.preemptive_=E;A.grid_=null;A.keys_=null;A.data_=null;A.jsonp_=x;return A}a(y,n);y.prototype.getImage=function(){return null};y.prototype.getData=function(A){if(!this.grid_||!this.keys_)return null;var C=this.grid_[Math.floor((1-(A[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof C)return null;A=C.charCodeAt(Math.floor((A[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*C.length));93<=A&&A--;35<=A&&A--;A-=32;C=null;A in this.keys_&&(A=this.keys_[A],C=this.data_&&A in this.data_?this.data_[A]:A);return C};y.prototype.forDataAtCoordinate=function(A,C,N){this.state==G["default"].EMPTY&&!0===N?(this.state=G["default"].IDLE,(0,d.listenOnce)(this,l["default"].CHANGE,function(K){C(this.getData(A))},this),this.loadInternal_()):
!0===N?setTimeout(function(){C(this.getData(A))}.bind(this),0):C(this.getData(A))};y.prototype.getKey=function(){return this.src_};y.prototype.handleError_=function(){this.state=G["default"].ERROR;this.changed()};y.prototype.handleLoad_=function(A){this.grid_=A.grid;this.keys_=A.keys;this.data_=A.data;this.state=G["default"].LOADED;this.changed()};y.prototype.loadInternal_=function(){if(this.state==G["default"].IDLE)if(this.state=G["default"].LOADING,this.jsonp_)(0,g.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var A=new XMLHttpRequest;A.addEventListener("load",this.onXHRLoad_.bind(this));A.addEventListener("error",this.onXHRError_.bind(this));A.open("GET",this.src_);A.send()}};y.prototype.onXHRLoad_=function(A){A=A.target;if(!A.status||200<=A.status&&300>A.status){var C=void 0;try{C=JSON.parse(A.responseText)}catch(N){this.handleError_();return}this.handleLoad_(C)}else this.handleError_()};y.prototype.onXHRError_=function(A){this.handleError_()};y.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(G["default"].EMPTY)};return y}(Ea["default"]);J.CustomTile=e;z=function(n){function y(A){var C=n.call(this,{projection:(0,f.get)("EPSG:3857"),state:w["default"].LOADING})||this;C.preemptive_=void 0!==A.preemptive?A.preemptive:!0;C.tileUrlFunction_=u.nullTileUrlFunction;C.template_=void 0;C.jsonp_=A.jsonp||!1;if(A.url)if(C.jsonp_)(0,g.jsonp)(A.url,C.handleTileJSONResponse.bind(C),C.handleTileJSONError.bind(C));else{var N=new XMLHttpRequest;N.addEventListener("load",
C.onXHRLoad_.bind(C));N.addEventListener("error",C.onXHRError_.bind(C));N.open("GET",A.url);N.send()}else A.tileJSON?C.handleTileJSONResponse(A.tileJSON):(0,v.assert)(!1,51);return C}a(y,n);y.prototype.onXHRLoad_=function(A){A=A.target;if(!A.status||200<=A.status&&300>A.status){var C=void 0;try{C=JSON.parse(A.responseText)}catch(N){this.handleTileJSONError();return}this.handleTileJSONResponse(C)}else this.handleTileJSONError()};y.prototype.onXHRError_=function(A){this.handleTileJSONError()};y.prototype.getTemplate=
function(){return this.template_};y.prototype.forDataAtCoordinateAndResolution=function(A,C,N,K){this.tileGrid?(C=this.tileGrid.getZForResolution(C,this.zDirection),C=this.tileGrid.getTileCoordForCoordAndZ(A,C),this.getTile(C[0],C[1],C[2],1,this.getProjection()).forDataAtCoordinate(A,N,K)):!0===K?setTimeout(function(){N(null)},0):N(null)};y.prototype.handleTileJSONError=function(){this.setState(w["default"].ERROR)};y.prototype.handleTileJSONResponse=function(A){var C=(0,f.get)("EPSG:4326"),N=this.getProjection();
if(void 0!==A.bounds){var K=(0,f.getTransformFromProjections)(C,N);K=(0,L.applyTransform)(A.bounds,K)}var E=A.minzoom||0,x=A.maxzoom||22;this.tileGrid=N=(0,t.createXYZ)({extent:(0,t.extentFromProjection)(N),maxZoom:x,minZoom:E});this.template_=A.template;if(E=A.grids){this.tileUrlFunction_=(0,u.createFromTemplates)(E,N);if(void 0!==A.attribution){var D=void 0!==K?K:C.getExtent();this.setAttributions(function(H){return(0,L.intersects)(D,H.extent)?[A.attribution]:null})}this.setState(w["default"].READY)}else this.setState(w["default"].ERROR)};
y.prototype.getTile=function(A,C,N,K,E){var x=(0,k.getKeyZXY)(A,C,N);if(this.tileCache.containsKey(x))return this.tileCache.get(x);A=[A,C,N];C=this.getTileCoordForTileUrlFunction(A,E);K=this.tileUrlFunction_(C,K,E);K=new e(A,void 0!==K?G["default"].IDLE:G["default"].EMPTY,void 0!==K?K:"",this.tileGrid.getTileCoordExtent(A),this.preemptive_,this.jsonp_);this.tileCache.set(x,K);return K};y.prototype.useTile=function(A,C,N){A=(0,k.getKeyZXY)(A,C,N);this.tileCache.containsKey(A)&&this.tileCache.get(A)};
return y}(ob["default"]);J["default"]=z};
shadow$provide[306]=function(Ea,z,ob,J){function m(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(255));var l=m(z(117)),w=function(){var G=function(L,v){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,t){u.__proto__=t}||function(u,t){for(var k in t)Object.prototype.hasOwnProperty.call(t,k)&&(u[k]=t[k])};return G(L,v)};return function(L,v){function u(){this.constructor=L}G(L,v);L.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();z=function(G){function L(v,u,t,k,f,d){v=G.call(this,v,u,d)||this;v.extent=null;v.format_=k;v.features_=null;v.projection=null;v.tileLoadFunction_=f;v.url_=t;v.key=t;return v}w(L,G);L.prototype.getFormat=function(){return this.format_};L.prototype.getFeatures=function(){return this.features_};L.prototype.load=function(){this.state==l["default"].IDLE&&(this.setState(l["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};L.prototype.onLoad=function(v,u){this.setFeatures(v)};L.prototype.onError=function(){this.setState(l["default"].ERROR)};L.prototype.setFeatures=function(v){this.features_=v;this.setState(l["default"].LOADED)};L.prototype.setLoader=function(v){this.loader_=v};return L}(Ea["default"]);J["default"]=z};
shadow$provide[307]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(L){return L&&L.__esModule?L:{"default":L}}(z(255));var m=z(103),l=z(74),w=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):
(t.prototype=u.prototype,new t)}}(),G=[];z=function(L){function v(u,t,k,f){u=L.call(this,u,t,{transition:0})||this;u.context_={};u.executorGroups={};u.declutterExecutorGroups={};u.loadingSourceTiles=0;u.errorSourceTileKeys={};u.hitDetectionImageData={};u.replayState_={};u.sourceTiles=null;u.getSourceTiles=f.bind(void 0,u);u.sourceZ=-1;u.hifi=!1;u.wrappedTileCoord=k;return u}w(v,L);v.prototype.getContext=function(u){u=(0,l.getUid)(u);u in this.context_||(this.context_[u]=(0,m.createCanvasContext2D)(1,
1,G));return this.context_[u]};v.prototype.hasContext=function(u){return(0,l.getUid)(u)in this.context_};v.prototype.getImage=function(u){return this.hasContext(u)?this.getContext(u).canvas:null};v.prototype.getReplayState=function(u){u=(0,l.getUid)(u);u in this.replayState_||(this.replayState_[u]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[u]};v.prototype.load=
function(){this.getSourceTiles()};v.prototype.release=function(){for(var u in this.context_)G.push(this.context_[u].canvas),delete this.context_[u];L.prototype.release.call(this)};return v}(Ea["default"]);J["default"]=z};
shadow$provide[308]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(n,y){n.setLoader(function(A,C,N){(0,g.loadFeaturesXhr)(y,n.getFormat(),A,C,N,n.onLoad.bind(n),n.onError.bind(n))})}Object.defineProperty(J,"__esModule",{value:!0});J.defaultLoadFunction=l;J["default"]=void 0;var w=m(z(88)),G=m(z(306)),L=m(z(264)),v=m(z(117));Ea=m(z(271));var u=m(z(307)),t=z(80),k=z(268),f=z(72),d=z(263),g=z(241),a=z(154),e=function(){var n=function(y,A){n=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(C[K]=N[K])};return n(y,A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();z=function(n){function y(A){var C=A.projection||"EPSG:3857";var N=A.extent||(0,k.extentFromProjection)(C);N=A.tileGrid||(0,k.createXYZ)({extent:N,maxResolution:A.maxResolution,maxZoom:void 0!==A.maxZoom?A.maxZoom:
22,minZoom:A.minZoom,tileSize:A.tileSize||512});C=n.call(this,{attributions:A.attributions,attributionsCollapsible:A.attributionsCollapsible,cacheSize:A.cacheSize,opaque:!1,projection:C,state:A.state,tileGrid:N,tileLoadFunction:A.tileLoadFunction?A.tileLoadFunction:l,tileUrlFunction:A.tileUrlFunction,url:A.url,urls:A.urls,wrapX:void 0===A.wrapX?!0:A.wrapX,transition:A.transition,zDirection:void 0===A.zDirection?1:A.zDirection})||this;C.format_=A.format?A.format:null;C.loadingTiles_={};C.sourceTileCache=
new L["default"](C.tileCache.highWaterMark);C.overlaps_=void 0==A.overlaps?!0:A.overlaps;C.tileClass=A.tileClass?A.tileClass:G["default"];C.tileGrids_={};return C}e(y,n);y.prototype.getFeaturesInExtent=function(A){var C=[],N=this.tileCache;if(0===N.getCount())return C;var K=(0,d.fromKey)(N.peekFirstKey())[0],E=this.tileGrid;N.forEach(function(x){if(x.tileCoord[0]===K&&x.getState()===v["default"].LOADED){x=x.getSourceTiles();for(var D=0,H=x.length;D<H;++D){var S=x[D],U=S.tileCoord;if((0,t.intersects)(A,
E.getTileCoordExtent(U))&&(S=S.getFeatures())){U=0;for(var ia=S.length;U<ia;++U){var fa=S[U],ja=fa.getGeometry();(0,t.intersects)(A,ja.getExtent())&&C.push(fa)}}}}});return C};y.prototype.getOverlaps=function(){return this.overlaps_};y.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};y.prototype.expireCache=function(A,C){n.prototype.expireCache.call(this,A,C);this.sourceTileCache.expireCache({})};y.prototype.getSourceTiles=function(A,C,N){var K=N.wrappedTileCoord,E=
this.getTileGridForProjection(C),x=E.getTileCoordExtent(K);K=E.getResolution(K[0]);(0,t.buffer)(x,-K,x);var D=this.tileGrid;(E=D.getExtent())&&(0,t.getIntersection)(x,E,x);var H=D.getZForResolution(K,1);K=D.getMinZoom();E=N.sourceTiles;if(E&&0<E.length&&E[0].tileCoord[0]===H){var S=E;var U=!0;var ia=H}else{S=[];ia=H+1;do--ia,U=!0,D.forEachTileCoord(x,ia,function(fa){var ja=this.tileUrlFunction(fa,A,C);if(void 0!==ja)if(this.sourceTileCache.containsKey(ja)){var la=this.sourceTileCache.get(ja);fa=la.getState();
if(fa===v["default"].LOADED||fa===v["default"].ERROR||fa===v["default"].EMPTY){S.push(la);return}}else ia===H&&(la=new this.tileClass(fa,v["default"].IDLE,ja,this.format_,this.tileLoadFunction),la.extent=D.getTileCoordExtent(fa),la.projection=C,la.resolution=D.getResolution(fa[0]),this.sourceTileCache.set(ja,la),la.addEventListener(w["default"].CHANGE,this.handleTileChange.bind(this)),la.load());U=U&&la&&la.getState()===v["default"].LOADED;la&&la.getState()!==v["default"].EMPTY&&N.getState()===v["default"].IDLE&&
(N.loadingSourceTiles++,la.addEventListener(w["default"].CHANGE,function O(){var B=la.getState(),Y=la.getKey();if(B===v["default"].LOADED||B===v["default"].ERROR)B===v["default"].LOADED?(la.removeEventListener(w["default"].CHANGE,O),N.loadingSourceTiles--,delete N.errorSourceTileKeys[Y]):B===v["default"].ERROR&&(N.errorSourceTileKeys[Y]=!0),B=Object.keys(N.errorSourceTileKeys).length,0===N.loadingSourceTiles-B&&(N.hifi=0===B,N.sourceZ=H,N.setState(v["default"].LOADED))}))}.bind(this)),U||(S.length=
0);while(!U&&ia>K)}N.getState()===v["default"].IDLE&&N.setState(v["default"].LOADING);U&&(N.hifi=H===ia,N.sourceZ=ia,N.getState()<v["default"].LOADED?N.setState(v["default"].LOADED):E&&(0,f.equals)(S,E)||(N.sourceTiles=S));return S};y.prototype.getTile=function(A,C,N,K,E){var x=(0,d.getKeyZXY)(A,C,N),D=this.getKey();if(this.tileCache.containsKey(x)){var H=this.tileCache.get(x);if(H.key===D)return H}C=[A,C,N];N=this.getTileCoordForTileUrlFunction(C,E);var S=this.getTileGrid().getExtent(),U=this.getTileGridForProjection(E);
if(N&&S){var ia=U.getTileCoordExtent(N);(0,t.buffer)(ia,-U.getResolution(A),ia);(0,t.intersects)(S,ia)||(N=null)}var fa=!0;null!==N&&(S=this.tileGrid,A=U.getResolution(A),ia=S.getZForResolution(A,1),U=U.getTileCoordExtent(N),(0,t.buffer)(U,-A,U),S.forEachTileCoord(U,ia,function(ja){fa=fa&&!this.tileUrlFunction(ja,K,E)}.bind(this)));C=new u["default"](C,fa?v["default"].EMPTY:v["default"].IDLE,N,this.getSourceTiles.bind(this,K,E));C.key=D;H?(C.interimTile=H,C.refreshInterimChain(),this.tileCache.replace(x,
C)):this.tileCache.set(x,C);return C};y.prototype.getTileGridForProjection=function(A){var C=A.getCode(),N=this.tileGrids_[C];N||(N=this.tileGrid,N=(0,k.createForProjection)(A,void 0,N?N.getTileSize(N.getMinZoom()):void 0),this.tileGrids_[C]=N);return N};y.prototype.getTilePixelRatio=function(A){return A};y.prototype.getTilePixelSize=function(A,C,N){N=this.getTileGridForProjection(N);A=(0,a.toSize)(N.getTileSize(A),this.tmpSize);return[Math.round(A[0]*C),Math.round(A[1]*C)]};y.prototype.updateCacheSize=
function(A,C){n.prototype.updateCacheSize.call(this,2*A,C)};return y}(Ea["default"]);J["default"]=z};
shadow$provide[309]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[310]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.createFromCapabilitiesMatrixSet=function(L,v,u){var t=[],k=[],f=[],d=[],g=[],a=void 0!==u?u:[];u=L.SupportedCRS;u=(0,l.get)(u);var e=u.getMetersPerUnit(),n="ne"==u.getAxisOrientation().substr(0,2);L.TileMatrix.sort(function(y,A){return A.ScaleDenominator-y.ScaleDenominator});L.TileMatrix.forEach(function(y){if(0<a.length?(0,m.find)(a,function(K){return y.Identifier==K.TileMatrix?!0:-1===y.Identifier.indexOf(":")?
L.Identifier+":"+y.Identifier===K.TileMatrix:!1}):1){k.push(y.Identifier);var A=2.8E-4*y.ScaleDenominator/e,C=y.TileWidth,N=y.TileHeight;n?f.push([y.TopLeftCorner[1],y.TopLeftCorner[0]]):f.push(y.TopLeftCorner);t.push(A);d.push(C==N?C:[C,N]);g.push([y.MatrixWidth,y.MatrixHeight])}});return new G({extent:v,origins:f,resolutions:t,matrixIds:k,tileSizes:d,sizes:g})};J["default"]=void 0;Ea=function(L){return L&&L.__esModule?L:{"default":L}}(z(267));var m=z(72),l=z(130),w=function(){var L=function(v,u){L=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):(t.prototype=u.prototype,new t)}}(),G=function(L){function v(u){var t=L.call(this,{extent:u.extent,origin:u.origin,origins:u.origins,resolutions:u.resolutions,tileSize:u.tileSize,tileSizes:u.tileSizes,sizes:u.sizes})||
this;t.matrixIds_=u.matrixIds;return t}w(v,L);v.prototype.getMatrixId=function(u){return this.matrixIds_[u]};v.prototype.getMatrixIds=function(){return this.matrixIds_};return v}(Ea["default"]);J["default"]=G};
shadow$provide[311]=function(Ea,z,ob,J){function m(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(J,"__esModule",{value:!0});J.optionsFromCapabilities=function(f,d){var g=f.Contents.Layer;g=(0,t.find)(g,function(ia,fa,ja){return ia.Identifier==d.layer});if(null===g)return null;var a=f.Contents.TileMatrixSet;var e=1<g.TileMatrixSetLink.length?"projection"in d?(0,t.findIndex)(g.TileMatrixSetLink,function(ia,fa,ja){fa=(0,t.find)(a,function(da){return da.Identifier==ia.TileMatrixSet}).SupportedCRS;
ja=(0,u.get)(fa);var la=(0,u.get)(d.projection);return ja&&la?(0,u.equivalent)(ja,la):fa==d.projection}):(0,t.findIndex)(g.TileMatrixSetLink,function(ia,fa,ja){return ia.TileMatrixSet==d.matrixSet}):0;0>e&&(e=0);var n=g.TileMatrixSetLink[e].TileMatrixSet,y=g.TileMatrixSetLink[e].TileMatrixSetLimits,A=g.Format[0];"format"in d&&(A=d.format);e=(0,t.findIndex)(g.Style,function(ia,fa,ja){return"style"in d?ia.Title==d.style:ia.isDefault});0>e&&(e=0);e=g.Style[e].Identifier;var C={};"Dimension"in g&&g.Dimension.forEach(function(ia,
fa,ja){fa=ia.Identifier;ja=ia.Default;void 0===ja&&(ja=ia.Value[0]);C[fa]=ja});var N=f.Contents.TileMatrixSet,K=(0,t.find)(N,function(ia,fa,ja){return ia.Identifier==n}),E;(N=K.SupportedCRS)&&(E=(0,u.get)(N));"projection"in d&&(N=(0,u.get)(d.projection),!N||E&&!(0,u.equivalent)(N,E)||(E=N));var x="ne"==E.getAxisOrientation().substr(0,2);N=K.TileMatrix[0];var D={MinTileCol:0,MinTileRow:0,MaxTileCol:N.MatrixWidth-1,MaxTileRow:N.MatrixHeight-1};if(y){D=y[y.length-1];var H=(0,t.find)(K.TileMatrix,function(ia){return ia.Identifier===
D.TileMatrix||K.Identifier+":"+ia.Identifier===D.TileMatrix});H&&(N=H)}H=2.8E-4*N.ScaleDenominator/E.getMetersPerUnit();x=x?[N.TopLeftCorner[1],N.TopLeftCorner[0]]:N.TopLeftCorner;var S=N.TileWidth*H;N=N.TileHeight*H;N=[x[0]+S*D.MinTileCol,x[1]-N*(1+D.MaxTileRow),x[0]+S*(1+D.MaxTileCol),x[1]-N*D.MinTileRow];null===E.getExtent()&&E.setExtent(N);y=(0,L.createFromCapabilitiesMatrixSet)(K,N,y);var U=[];N=d.requestEncoding;N=void 0!==N?N:"";if("OperationsMetadata"in f&&"GetTile"in f.OperationsMetadata)for(f=
f.OperationsMetadata.GetTile.DCP.HTTP.Get,H=0,x=f.length;H<x;++H)if(f[H].Constraint)if(S=(0,t.find)(f[H].Constraint,function(ia){return"GetEncoding"==ia.name}).AllowedValues.Value,""===N&&(N=S[0]),N===l["default"].KVP)(0,t.includes)(S,l["default"].KVP)&&U.push(f[H].href);else break;else f[H].href&&(N=l["default"].KVP,U.push(f[H].href));0===U.length&&(N=l["default"].REST,g.ResourceURL.forEach(function(ia){"tile"===ia.resourceType&&(A=ia.format,U.push(ia.template))}));return{urls:U,layer:d.layer,matrixSet:n,
format:A,projection:E,requestEncoding:N,tileGrid:y,style:e,dimensions:C,wrapX:!1,crossOrigin:d.crossOrigin}};J["default"]=void 0;Ea=m(z(272));var l=m(z(309)),w=z(283),G=z(86),L=z(310),v=z(270),u=z(130),t=z(72),k=function(){var f=function(d,g){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return f(d,g)};return function(d,g){function a(){this.constructor=d}f(d,g);d.prototype=
null===g?Object.create(g):(a.prototype=g.prototype,new a)}}();z=function(f){function d(g){var a=void 0!==g.requestEncoding?g.requestEncoding:l["default"].KVP;var e=g.tileGrid;var n=g.urls;void 0===n&&void 0!==g.url&&(n=(0,v.expandUrl)(g.url));e=f.call(this,{attributions:g.attributions,cacheSize:g.cacheSize,crossOrigin:g.crossOrigin,imageSmoothing:g.imageSmoothing,projection:g.projection,reprojectionErrorThreshold:g.reprojectionErrorThreshold,tileClass:g.tileClass,tileGrid:e,tileLoadFunction:g.tileLoadFunction,
tilePixelRatio:g.tilePixelRatio,urls:n,wrapX:void 0!==g.wrapX?g.wrapX:!1,transition:g.transition})||this;e.version_=void 0!==g.version?g.version:"1.0.0";e.format_=void 0!==g.format?g.format:"image/jpeg";e.dimensions_=void 0!==g.dimensions?g.dimensions:{};e.layer_=g.layer;e.matrixSet_=g.matrixSet;e.style_=g.style;e.requestEncoding_=a;e.setKey(e.getKeyForDimensions_());n&&0<n.length&&(e.tileUrlFunction=(0,v.createFromTileUrlFunctions)(n.map(e.createFromWMTSTemplate.bind(e))));return e}k(d,f);d.prototype.setUrls=
function(g){this.urls=g;var a=g.join("\n");this.setTileUrlFunction((0,v.createFromTileUrlFunctions)(g.map(this.createFromWMTSTemplate.bind(this))),a)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};
d.prototype.getVersion=function(){return this.version_};d.prototype.getKeyForDimensions_=function(){var g=0,a=[],e;for(e in this.dimensions_)a[g++]=e+"-"+this.dimensions_[e];return a.join("/")};d.prototype.updateDimensions=function(g){(0,G.assign)(this.dimensions_,g);this.setKey(this.getKeyForDimensions_())};d.prototype.createFromWMTSTemplate=function(g){var a=this.requestEncoding_,e={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==l["default"].KVP&&(0,G.assign)(e,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});g=a==l["default"].KVP?(0,w.appendParams)(g,e):g.replace(/\{(\w+?)\}/g,function(A,C){return C.toLowerCase()in e?e[C.toLowerCase()]:A});var n=this.tileGrid,y=this.dimensions_;return function(A,C,N){if(A){var K={TileMatrix:n.getMatrixId(A[0]),TileCol:A[1],TileRow:A[2]};(0,G.assign)(K,y);A=g;return A=a==l["default"].KVP?(0,w.appendParams)(A,K):A.replace(/\{(\w+?)\}/g,function(E,x){return K[x]})}}};return d}(Ea["default"]);J["default"]=z};
shadow$provide[312]=function(Ea,z,ob,J){function m(ja){return ja&&ja.__esModule?ja:{"default":ja}}Object.defineProperty(J,"__esModule",{value:!0});Object.defineProperty(J,"BingMaps",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(J,"CartoDB",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"Cluster",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"IIIF",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,
"Image",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"ImageArcGISRest",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"ImageCanvas",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"ImageMapGuide",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(J,"ImageStatic",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(J,"ImageWMS",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(J,"OSM",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(J,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(J,"Source",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(J,"Stamen",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(J,"Tile",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(J,"TileArcGISRest",{enumerable:!0,get:function(){return A["default"]}});
Object.defineProperty(J,"TileDebug",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(J,"TileImage",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(J,"TileJSON",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty(J,"TileWMS",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(J,"UrlTile",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(J,"UTFGrid",{enumerable:!0,get:function(){return D["default"]}});
Object.defineProperty(J,"Vector",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(J,"VectorTile",{enumerable:!0,get:function(){return S["default"]}});Object.defineProperty(J,"WMTS",{enumerable:!0,get:function(){return U["default"]}});Object.defineProperty(J,"XYZ",{enumerable:!0,get:function(){return ia["default"]}});Object.defineProperty(J,"Zoomify",{enumerable:!0,get:function(){return fa["default"]}});var l=m(z(274)),w=m(z(276)),G=m(z(277)),L=m(z(280)),v=m(z(282)),u=m(z(284)),
t=m(z(286)),k=m(z(287)),f=m(z(288)),d=m(z(290)),g=m(z(291)),a=m(z(299)),e=m(z(238)),n=m(z(300)),y=m(z(269)),A=m(z(301)),C=m(z(302)),N=m(z(272)),K=m(z(303)),E=m(z(304)),x=m(z(271)),D=m(z(305)),H=m(z(242)),S=m(z(308)),U=m(z(311)),ia=m(z(275)),fa=m(z(278))};
shadow$provide[313]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.toContext=function(v,u){var t=v.canvas,k=u?u:{};u=k.pixelRatio||l.DEVICE_PIXEL_RATIO;if(k=k.size)t.width=k[0]*u,t.height=k[1]*u,t.style.width=k[0]+"px",t.style.height=k[1]+"px";t=[0,0,t.width,t.height];k=(0,w.scale)((0,w.create)(),u,u);return new m["default"](v,u,t,k,0)};J.getVectorContext=function(v){var u=v.frameState,t=(0,w.multiply)(v.inversePixelTransform.slice(),u.coordinateToPixelTransform),k=(0,G.getSquaredTolerance)(u.viewState.resolution,
u.pixelRatio),f,d=(0,L.getUserProjection)();d&&(f=(0,L.getTransformFromProjections)(d,u.viewState.projection));return new m["default"](v.context,u.pixelRatio,u.extent,t,u.viewState.rotation,k,f)};J.getRenderPixel=function(v,u){u=u.slice(0);(0,w.apply)(v.inversePixelTransform.slice(),u);return u};var m=function(v){return v&&v.__esModule?v:{"default":v}}(z(224)),l=z(102),w=z(77),G=z(234),L=z(130)};
shadow$provide[314]=function(Ea,z,ob,J){function m(G,L,v){for(var u=[],t=G(0),k=G(1),f=L(t),d=L(k),g=[k,t],a=[d,f],e=[1,0],n={},y=1E5,A,C,N,K,E;0<--y&&0<e.length;)N=e.pop(),t=g.pop(),f=a.pop(),k=N.toString(),k in n||(u.push(f[0],f[1]),n[k]=!0),K=e.pop(),k=g.pop(),d=a.pop(),E=(N+K)/2,A=G(E),C=L(A),(0,w.squaredSegmentDistance)(C[0],C[1],f[0],f[1],d[0],d[1])<v?(u.push(d[0],d[1]),k=K.toString(),n[k]=!0):(e.push(K,E,E,N),a.push(d,C,C,f),g.push(k,A,A,t));return u}Object.defineProperty(J,"__esModule",{value:!0});
J.greatCircleArc=function(G,L,v,u,t,k){var f=(0,l.get)("EPSG:4326"),d=Math.cos((0,w.toRadians)(L)),g=Math.sin((0,w.toRadians)(L)),a=Math.cos((0,w.toRadians)(u)),e=Math.sin((0,w.toRadians)(u)),n=Math.cos((0,w.toRadians)(v-G)),y=Math.sin((0,w.toRadians)(v-G)),A=g*e+d*a*n;return m(function(C){if(1<=A)return[v,u];var N=C*Math.acos(A);C=Math.cos(N);var K=Math.sin(N),E=Math.atan2(y*a,d*e-g*a*n);N=Math.asin(g*C+d*K*Math.cos(E));C=(0,w.toRadians)(G)+Math.atan2(Math.sin(E)*K*d,C-g*Math.sin(N));return[(0,w.toDegrees)(C),
(0,w.toDegrees)(N)]},(0,l.getTransform)(f,t),k)};J.meridian=function(G,L,v,u,t){var k=(0,l.get)("EPSG:4326");return m(function(f){return[G,L+(v-L)*f]},(0,l.getTransform)(k,u),t)};J.parallel=function(G,L,v,u,t){var k=(0,l.get)("EPSG:4326");return m(function(f){return[L+(v-L)*f,G]},(0,l.getTransform)(k,u),t)};var l=z(130),w=z(81)};
shadow$provide[315]=function(Ea,z,ob,J){function m(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(107)),w=m(z(94)),G=m(z(190)),L=m(z(204)),v=m(z(135)),u=m(z(193)),t=m(z(145)),k=m(z(205)),f=m(z(206)),d=m(z(231));Ea=m(z(236));var g=m(z(242)),a=z(80),e=z(86),n=z(81),y=z(98),A=z(130),C=z(313),N=z(314),K=function(){var D=function(H,S){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,ia){U.__proto__=ia}||function(U,
ia){for(var fa in ia)Object.prototype.hasOwnProperty.call(ia,fa)&&(U[fa]=ia[fa])};return D(H,S)};return function(H,S){function U(){this.constructor=H}D(H,S);H.prototype=null===S?Object.create(S):(U.prototype=S.prototype,new U)}}(),E=new k["default"]({color:"rgba(0,0,0,0.2)"}),x=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];z=function(D){function H(S){var U=this;S=S?S:{};U=(0,e.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},S);delete U.maxLines;delete U.strokeStyle;
delete U.targetSize;delete U.showLabels;delete U.lonLabelFormatter;delete U.latLabelFormatter;delete U.lonLabelPosition;delete U.latLabelPosition;delete U.lonLabelStyle;delete U.latLabelStyle;delete U.intervals;U=D.call(this,U)||this;U.projection_=null;U.maxLat_=Infinity;U.maxLon_=Infinity;U.minLat_=-Infinity;U.minLon_=-Infinity;U.maxX_=Infinity;U.maxY_=Infinity;U.minX_=-Infinity;U.minY_=-Infinity;U.targetSize_=void 0!==S.targetSize?S.targetSize:100;U.maxLines_=void 0!==S.maxLines?S.maxLines:100;
U.meridians_=[];U.parallels_=[];U.strokeStyle_=void 0!==S.strokeStyle?S.strokeStyle:E;U.fromLonLatTransform_=void 0;U.toLonLatTransform_=void 0;U.projectionCenterLonLat_=null;U.bottomLeft_=null;U.bottomRight_=null;U.topLeft_=null;U.topRight_=null;U.meridiansLabels_=null;U.parallelsLabels_=null;S.showLabels&&(U.lonLabelFormatter_=void 0==S.lonLabelFormatter?y.degreesToStringHDMS.bind(U,"EW"):S.lonLabelFormatter,U.latLabelFormatter_=void 0==S.latLabelFormatter?y.degreesToStringHDMS.bind(U,"NS"):S.latLabelFormatter,
U.lonLabelPosition_=void 0==S.lonLabelPosition?0:S.lonLabelPosition,U.latLabelPosition_=void 0==S.latLabelPosition?1:S.latLabelPosition,U.lonLabelStyleBase_=new f["default"]({text:void 0!==S.lonLabelStyle?S.lonLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new L["default"]({color:"rgba(0,0,0,1)"}),stroke:new k["default"]({color:"rgba(255,255,255,1)",width:3})})}),U.lonLabelStyle_=function(ia){ia=ia.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ia);
return this.lonLabelStyleBase_}.bind(U),U.latLabelStyleBase_=new f["default"]({text:void 0!==S.latLabelStyle?S.latLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new L["default"]({color:"rgba(0,0,0,1)"}),stroke:new k["default"]({color:"rgba(255,255,255,1)",width:3})})}),U.latLabelStyle_=function(ia){ia=ia.get("graticule_label");this.latLabelStyleBase_.getText().setText(ia);return this.latLabelStyleBase_}.bind(U),U.meridiansLabels_=[],U.parallelsLabels_=[],
U.addEventListener(w["default"].POSTRENDER,U.drawLabels_.bind(U)));U.intervals_=void 0!==S.intervals?S.intervals:x;U.setSource(new g["default"]({loader:U.loaderFunction.bind(U),strategy:U.strategyFunction.bind(U),features:new l["default"],overlaps:!1,useSpatialIndex:!1,wrapX:S.wrapX}));U.featurePool_=[];U.lineStyle_=new f["default"]({stroke:U.strokeStyle_});U.loadedExtent_=null;U.renderedExtent_=null;U.setRenderOrder(null);return U}K(H,D);H.prototype.strategyFunction=function(S,U){S=S.slice();this.projection_&&
this.getSource().getWrapX()&&(0,a.wrapX)(S,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,S,U)?S=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[S]};H.prototype.loaderFunction=function(S,U,ia){this.loadedExtent_=S;var fa=this.getSource(),ja=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];S=(0,a.getIntersection)(ja,S);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,S))if(this.renderedExtent_=S,!(0,
a.isEmpty)(S)){ja=(0,a.getCenter)(S);var la=U*U/4;this.projection_&&(0,A.equivalent)(this.projection_,ia)||this.updateProjectionInfo_(ia);this.createGraticule_(S,ja,U,la);ia=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ia+=this.meridians_.length);for(this.parallelsLabels_&&(ia+=this.parallels_.length);ia>this.featurePool_.length;)U=new G["default"],this.featurePool_.push(U);fa=fa.getFeaturesCollection();fa.clear();S=ia=0;for(ja=this.meridians_.length;S<ja;++S)U=this.featurePool_[ia++],
U.setGeometry(this.meridians_[S]),U.setStyle(this.lineStyle_),fa.push(U);S=0;for(ja=this.parallels_.length;S<ja;++S)U=this.featurePool_[ia++],U.setGeometry(this.parallels_[S]),U.setStyle(this.lineStyle_),fa.push(U)}};H.prototype.addMeridian_=function(S,U,ia,fa,ja,la){U=this.getMeridian_(S,U,ia,fa,la);(0,a.intersects)(U.getExtent(),ja)&&(this.meridiansLabels_&&(S=this.lonLabelFormatter_(S),la in this.meridiansLabels_?this.meridiansLabels_[la].text=S:this.meridiansLabels_[la]={geom:new t["default"]([]),
text:S}),this.meridians_[la++]=U);return la};H.prototype.addParallel_=function(S,U,ia,fa,ja,la){U=this.getParallel_(S,U,ia,fa,la);(0,a.intersects)(U.getExtent(),ja)&&(this.parallelsLabels_&&(S=this.latLabelFormatter_(S),la in this.parallelsLabels_?this.parallelsLabels_[la].text=S:this.parallelsLabels_[la]={geom:new t["default"]([]),text:S}),this.parallels_[la++]=U);return la};H.prototype.drawLabels_=function(S){var U=S.frameState.viewState.rotation,ia=S.frameState.extent,fa=(0,a.getCenter)(ia),ja=
ia;if(U){var la=(0,a.getWidth)(ia),da=(0,a.getHeight)(ia),O=Math.abs(Math.cos(U)),B=Math.abs(Math.sin(U));ja=(B*da-O*la)/(B*B-O*O);la=(B*la-O*da)/(B*B-O*O);ja=[fa[0]-ja/2,fa[1]-la/2,fa[0]+ja/2,fa[1]+la/2]}da=la=0;O=.5>this.latLabelPosition_;var Y=this.projection_.getExtent();B=(0,a.getWidth)(Y);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(Y,ia)&&(la=Math.floor((ia[0]-Y[0])/B),da=Math.ceil((ia[2]-Y[2])/B),O=O!==Math.abs(U)>Math.PI/2);S=(0,C.getVectorContext)(S);for(Y=
la;Y<=da;++Y){var ka=this.meridians_.length+this.parallels_.length,Z;if(this.meridiansLabels_){var wa=0;for(Z=this.meridiansLabels_.length;wa<Z;++wa){var xa=this.meridians_[wa];if(U||0!==Y){xa=xa.clone();xa.translate(Y*B,0);xa.rotate(-U,fa);var Da=this.getMeridianPoint_(xa,ja,wa);Da.rotate(U,fa)}else Da=this.getMeridianPoint_(xa,ia,wa);xa=this.featurePool_[ka++];xa.setGeometry(Da);xa.set("graticule_label",this.meridiansLabels_[wa].text);S.drawFeature(xa,this.lonLabelStyle_(xa))}}if(this.parallelsLabels_&&
(Y===la&&O||Y===da&&!O))for(wa=0,Z=this.parallels_.length;wa<Z;++wa)xa=this.parallels_[wa],U||0!==Y?(xa=xa.clone(),xa.translate(Y*B,0),xa.rotate(-U,fa),Da=this.getParallelPoint_(xa,ja,wa),Da.rotate(U,fa)):Da=this.getParallelPoint_(xa,ia,wa),xa=this.featurePool_[ka++],xa.setGeometry(Da),xa.set("graticule_label",this.parallelsLabels_[wa].text),S.drawFeature(xa,this.latLabelStyle_(xa))}};H.prototype.createGraticule_=function(S,U,ia,fa){ia=this.getInterval_(ia);if(-1==ia)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var ja=!1,la=this.projection_.getExtent(),da=(0,a.getWidth)(la);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(la,S)&&((0,a.getWidth)(S)>=da?(S[0]=la[0],S[2]=la[2]):ja=!0);U=[(0,n.clamp)(U[0],this.minX_,this.maxX_),(0,n.clamp)(U[1],this.minY_,this.maxY_)];la=this.toLonLatTransform_(U);isNaN(la[1])&&(la[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?
this.maxLat_:this.minLat_);U=(0,n.clamp)(la[0],this.minLon_,this.maxLon_);la=(0,n.clamp)(la[1],this.minLat_,this.maxLat_);da=this.maxLines_;var O=S;ja||(O=[(0,n.clamp)(S[0],this.minX_,this.maxX_),(0,n.clamp)(S[1],this.minY_,this.maxY_),(0,n.clamp)(S[2],this.minX_,this.maxX_),(0,n.clamp)(S[3],this.minY_,this.maxY_)]);var B=(0,a.applyTransform)(O,this.toLonLatTransform_,void 0,8),Y=B[3],ka=B[2],Z=B[1];B=B[0];ja||((0,a.containsCoordinate)(O,this.bottomLeft_)&&(B=this.minLon_,Z=this.minLat_),(0,a.containsCoordinate)(O,
this.bottomRight_)&&(ka=this.maxLon_,Z=this.minLat_),(0,a.containsCoordinate)(O,this.topLeft_)&&(B=this.minLon_,Y=this.maxLat_),(0,a.containsCoordinate)(O,this.topRight_)&&(ka=this.maxLon_,Y=this.maxLat_),Y=(0,n.clamp)(Y,la,this.maxLat_),ka=(0,n.clamp)(ka,U,this.maxLon_),Z=(0,n.clamp)(Z,this.minLat_,la),B=(0,n.clamp)(B,this.minLon_,U));U=Math.floor(U/ia)*ia;var wa=(0,n.clamp)(U,this.minLon_,this.maxLon_);var xa=this.addMeridian_(wa,Z,Y,fa,S,0);O=0;if(ja)for(;(wa-=ia)>=B&&O++<da;)xa=this.addMeridian_(wa,
Z,Y,fa,S,xa);else for(;wa!=this.minLon_&&O++<da;)wa=Math.max(wa-ia,this.minLon_),xa=this.addMeridian_(wa,Z,Y,fa,S,xa);wa=(0,n.clamp)(U,this.minLon_,this.maxLon_);O=0;if(ja)for(;(wa+=ia)<=ka&&O++<da;)xa=this.addMeridian_(wa,Z,Y,fa,S,xa);else for(;wa!=this.maxLon_&&O++<da;)wa=Math.min(wa+ia,this.maxLon_),xa=this.addMeridian_(wa,Z,Y,fa,S,xa);this.meridians_.length=xa;this.meridiansLabels_&&(this.meridiansLabels_.length=xa);la=Math.floor(la/ia)*ia;ja=(0,n.clamp)(la,this.minLat_,this.maxLat_);xa=this.addParallel_(ja,
B,ka,fa,S,0);for(O=0;ja!=this.minLat_&&O++<da;)ja=Math.max(ja-ia,this.minLat_),xa=this.addParallel_(ja,B,ka,fa,S,xa);ja=(0,n.clamp)(la,this.minLat_,this.maxLat_);for(O=0;ja!=this.maxLat_&&O++<da;)ja=Math.min(ja+ia,this.maxLat_),xa=this.addParallel_(ja,B,ka,fa,S,xa);this.parallels_.length=xa;this.parallelsLabels_&&(this.parallelsLabels_.length=xa)}};H.prototype.getInterval_=function(S){var U=this.projectionCenterLonLat_[0],ia=this.projectionCenterLonLat_[1],fa=-1;S=Math.pow(this.targetSize_*S,2);for(var ja=
[],la=[],da=0,O=this.intervals_.length;da<O;++da){var B=(0,n.clamp)(this.intervals_[da]/2,0,90),Y=(0,n.clamp)(ia,-90+B,90-B);ja[0]=U-B;ja[1]=Y-B;la[0]=U+B;la[1]=Y+B;this.fromLonLatTransform_(ja,ja);this.fromLonLatTransform_(la,la);if(Math.pow(la[0]-ja[0],2)+Math.pow(la[1]-ja[1],2)<=S)break;fa=this.intervals_[da]}return fa};H.prototype.getMeridian_=function(S,U,ia,fa,ja){S=(0,N.meridian)(S,U,ia,this.projection_,fa);(U=this.meridians_[ja])?(U.setFlatCoordinates(v["default"].XY,S),U.changed()):(U=new u["default"](S,
v["default"].XY),this.meridians_[ja]=U);return U};H.prototype.getMeridianPoint_=function(S,U,ia){S=S.getFlatCoordinates();var fa=1,ja=S.length-1;S[fa]>S[ja]&&(fa=ja,ja=1);var la=Math.max(U[1],S[fa]),da=Math.min(U[3],S[ja]);U=(0,n.clamp)(U[1]+Math.abs(U[1]-U[3])*this.lonLabelPosition_,la,da);ia=this.meridiansLabels_[ia].geom;ia.setCoordinates([S[fa-1]+(S[ja-1]-S[fa-1])*(U-S[fa])/(S[ja]-S[fa]),U]);return ia};H.prototype.getMeridians=function(){return this.meridians_};H.prototype.getParallel_=function(S,
U,ia,fa,ja){S=(0,N.parallel)(S,U,ia,this.projection_,fa);(ja=this.parallels_[ja])?(ja.setFlatCoordinates(v["default"].XY,S),ja.changed()):ja=new u["default"](S,v["default"].XY);return ja};H.prototype.getParallelPoint_=function(S,U,ia){S=S.getFlatCoordinates();var fa=0,ja=S.length-2;S[fa]>S[ja]&&(fa=ja,ja=0);var la=Math.max(U[0],S[fa]),da=Math.min(U[2],S[ja]);U=(0,n.clamp)(U[0]+Math.abs(U[0]-U[2])*this.latLabelPosition_,la,da);ia=this.parallelsLabels_[ia].geom;ia.setCoordinates([U,S[fa+1]+(S[ja+1]-
S[fa+1])*(U-S[fa])/(S[ja]-S[fa])]);return ia};H.prototype.getParallels=function(){return this.parallels_};H.prototype.updateProjectionInfo_=function(S){var U=(0,A.get)("EPSG:4326"),ia=S.getWorldExtent();this.maxLat_=ia[3];this.maxLon_=ia[2];this.minLat_=ia[1];this.minLon_=ia[0];var fa=(0,A.getTransform)(S,U);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=fa;else{var ja=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(la,da,O){O=O||2;la=fa(la,da,O);da=0;for(var B=
la.length;da<B;da+=O)la[da]<ja&&(la[da]+=360);return la}}this.fromLonLatTransform_=(0,A.getTransform)(U,S);U=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=U[0];this.maxX_=U[2];this.minY_=U[1];this.maxY_=U[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=
this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(S.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=S};return H}(Ea["default"]);J["default"]=z};
shadow$provide[316]=function(Ea,z,ob,J){function m(G,L){for(var v=l.length,u=0;u<v;++u)try{var t=G.getContext(l[u],L);if(t)return t}catch(k){}return null}Object.defineProperty(J,"__esModule",{value:!0});J.getContext=m;J.getSupportedExtensions=function(){if(!w){var G=document.createElement("canvas");(G=m(G))&&(w=G.getSupportedExtensions())}return w};J.FLOAT=J.UNSIGNED_INT=J.UNSIGNED_SHORT=J.UNSIGNED_BYTE=J.DYNAMIC_DRAW=J.STATIC_DRAW=J.STREAM_DRAW=J.ELEMENT_ARRAY_BUFFER=J.ARRAY_BUFFER=void 0;J.ARRAY_BUFFER=
34962;J.ELEMENT_ARRAY_BUFFER=34963;J.STREAM_DRAW=35040;J.STATIC_DRAW=35044;J.DYNAMIC_DRAW=35048;J.UNSIGNED_BYTE=5121;J.UNSIGNED_SHORT=5123;J.UNSIGNED_INT=5125;J.FLOAT=5126;var l=["experimental-webgl","webgl","webkit-3d","moz-webgl"],w};
shadow$provide[317]=function(Ea,z,ob,J){function m(L){switch(L){case l.ARRAY_BUFFER:return Float32Array;case l.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(J,"__esModule",{value:!0});J.getArrayClassForType=m;J["default"]=J.BufferUsage=void 0;var l=z(316),w=z(76),G={STATIC_DRAW:l.STATIC_DRAW,STREAM_DRAW:l.STREAM_DRAW,DYNAMIC_DRAW:l.DYNAMIC_DRAW};J.BufferUsage=G;Ea=function(){function L(v,u){this.array=null;this.type=v;(0,w.assert)(v===l.ARRAY_BUFFER||v===
l.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==u?u:G.STATIC_DRAW}L.prototype.ofSize=function(v){this.array=new (m(this.type))(v)};L.prototype.fromArray=function(v){this.array=m(this.type).from(v)};L.prototype.fromArrayBuffer=function(v){this.array=new (m(this.type))(v)};L.prototype.getType=function(){return this.type};L.prototype.getArray=function(){return this.array};L.prototype.getUsage=function(){return this.usage};L.prototype.getSize=function(){return this.array?this.array.length:0};return L}();
J["default"]=Ea};
shadow$provide[318]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[319]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=function(){function m(l){var w=this.gl_=l.webGlContext;this.scaleRatio_=l.scaleRatio||1;this.renderTargetTexture_=w.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=w.createFramebuffer();var G=w.createShader(w.VERTEX_SHADER);w.shaderSource(G,l.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
w.compileShader(G);var L=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(L,l.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");w.compileShader(L);this.renderTargetProgram_=w.createProgram();w.attachShader(this.renderTargetProgram_,G);w.attachShader(this.renderTargetProgram_,L);w.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);w.bufferData(w.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),w.STATIC_DRAW);this.renderTargetAttribLocation_=w.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=w.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=w.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];l.uniforms&&Object.keys(l.uniforms).forEach(function(v){this.uniforms_.push({value:l.uniforms[v],
location:w.getUniformLocation(this.renderTargetProgram_,v)})}.bind(this))}m.prototype.getGL=function(){return this.gl_};m.prototype.init=function(l){l=this.getGL();var w=[l.drawingBufferWidth*this.scaleRatio_,l.drawingBufferHeight*this.scaleRatio_];l.bindFramebuffer(l.FRAMEBUFFER,this.getFrameBuffer());l.viewport(0,0,w[0],w[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==w[0]||this.renderTargetTextureSize_[1]!==w[1]){this.renderTargetTextureSize_=w;var G=l.RGBA,L=l.RGBA,
v=l.UNSIGNED_BYTE;l.bindTexture(l.TEXTURE_2D,this.renderTargetTexture_);l.texImage2D(l.TEXTURE_2D,0,G,w[0],w[1],0,L,v,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this.renderTargetTexture_,0)}};m.prototype.apply=function(l,w){var G=this.getGL(),L=l.size;G.bindFramebuffer(G.FRAMEBUFFER,
w?w.getFrameBuffer():null);G.activeTexture(G.TEXTURE0);G.bindTexture(G.TEXTURE_2D,this.renderTargetTexture_);G.clearColor(0,0,0,0);G.clear(G.COLOR_BUFFER_BIT);G.enable(G.BLEND);G.blendFunc(G.ONE,G.ONE_MINUS_SRC_ALPHA);G.viewport(0,0,G.drawingBufferWidth,G.drawingBufferHeight);G.bindBuffer(G.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);G.useProgram(this.renderTargetProgram_);G.enableVertexAttribArray(this.renderTargetAttribLocation_);G.vertexAttribPointer(this.renderTargetAttribLocation_,2,G.FLOAT,
!1,0,0);G.uniform2f(this.renderTargetUniformLocation_,L[0],L[1]);G.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(l);G.drawArrays(G.TRIANGLES,0,6)};m.prototype.getFrameBuffer=function(){return this.frameBuffer_};m.prototype.applyUniforms=function(l){var w=this.getGL(),G,L=1;this.uniforms_.forEach(function(v){G="function"===typeof v.value?v.value(l):v.value;if(G instanceof HTMLCanvasElement||G instanceof ImageData)v.texture||(v.texture=w.createTexture()),w.activeTexture(w["TEXTURE"+
L]),w.bindTexture(w.TEXTURE_2D,v.texture),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),G instanceof ImageData?w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,G.width,G.height,0,w.UNSIGNED_BYTE,new Uint8Array(G.data)):w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,G),w.uniform1i(v.location,L++);else if(Array.isArray(G))switch(G.length){case 2:w.uniform2f(v.location,
G[0],G[1]);break;case 3:w.uniform3f(v.location,G[0],G[1],G[2]);break;case 4:w.uniform4f(v.location,G[0],G[1],G[2],G[3])}else"number"===typeof G&&w.uniform1f(v.location,G)})};return m}();J["default"]=Ea};
shadow$provide[320]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};J.fromTransform=function(m,l){m[0]=l[0];m[1]=l[1];m[4]=l[2];m[5]=l[3];m[12]=l[4];m[13]=l[5];return m}};
shadow$provide[321]=function(Ea,z,ob,J){function m(y){return y&&y.__esModule?y:{"default":y}}function l(y){for(var A=0,C=0;C<y.length;C++){var N=y[C];A+=N.size*w(N.type)}return A}function w(y){switch(y){case n.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case n.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case n.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(J,"__esModule",{value:!0});J.computeAttributesStride=l;J["default"]=
J.AttributeType=J.DefaultUniform=J.ShaderType=void 0;var G=m(z(318));Ea=m(z(71));var L=m(z(319)),v=z(316),u=z(76),t=z(86),k=z(77),f=z(320),d=z(74),g=z(72),a=function(){var y=function(A,C){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,K){N.__proto__=K}||function(N,K){for(var E in K)Object.prototype.hasOwnProperty.call(K,E)&&(N[E]=K[E])};return y(A,C)};return function(A,C){function N(){this.constructor=A}y(A,C);A.prototype=null===C?Object.create(C):(N.prototype=C.prototype,new N)}}();
J.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var e={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};J.DefaultUniform=e;var n={UNSIGNED_BYTE:v.UNSIGNED_BYTE,UNSIGNED_SHORT:v.UNSIGNED_SHORT,UNSIGNED_INT:v.UNSIGNED_INT,FLOAT:v.FLOAT};J.AttributeType=n;z=function(y){function A(C){var N=y.call(this)||this;C=C||{};N.boundHandleWebGLContextLost_=N.handleWebGLContextLost.bind(N);
N.boundHandleWebGLContextRestored_=N.handleWebGLContextRestored.bind(N);N.canvas_=document.createElement("canvas");N.canvas_.style.position="absolute";N.canvas_.style.left="0";N.gl_=(0,v.getContext)(N.canvas_);var K=N.getGL();N.bufferCache_={};N.currentProgram_=null;(0,u.assert)((0,g.includes)((0,v.getSupportedExtensions)(),"OES_element_index_uint"),63);K.getExtension("OES_element_index_uint");N.canvas_.addEventListener(G["default"].LOST,N.boundHandleWebGLContextLost_);N.canvas_.addEventListener(G["default"].RESTORED,
N.boundHandleWebGLContextRestored_);N.offsetRotateMatrix_=(0,k.create)();N.offsetScaleMatrix_=(0,k.create)();N.tmpMat4_=(0,f.create)();N.uniformLocations_={};N.attribLocations_={};N.uniforms_=[];if(C.uniforms)for(var E in C.uniforms)N.uniforms_.push({name:E,value:C.uniforms[E]});N.postProcessPasses_=C.postProcesses?C.postProcesses.map(function(x){return new L["default"]({webGlContext:K,scaleRatio:x.scaleRatio,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,uniforms:x.uniforms})}):[new L["default"]({webGlContext:K})];
N.shaderCompileErrors_=null;N.startTime_=Date.now();return N}a(A,y);A.prototype.bindBuffer=function(C){var N=this.getGL(),K=(0,d.getUid)(C),E=this.bufferCache_[K];E||(E=N.createBuffer(),E={buffer:C,webGlBuffer:E},this.bufferCache_[K]=E);N.bindBuffer(C.getType(),E.webGlBuffer)};A.prototype.flushBufferData=function(C){var N=this.getGL();this.bindBuffer(C);N.bufferData(C.getType(),C.getArray(),C.getUsage())};A.prototype.deleteBuffer=function(C){var N=this.getGL();C=(0,d.getUid)(C);var K=this.bufferCache_[C];
N.isContextLost()||N.deleteBuffer(K.buffer);delete this.bufferCache_[C]};A.prototype.disposeInternal=function(){this.canvas_.removeEventListener(G["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(G["default"].RESTORED,this.boundHandleWebGLContextRestored_)};A.prototype.prepareDraw=function(C){var N=this.getGL(),K=this.getCanvas(),E=C.size,x=C.pixelRatio;K.width=E[0]*x;K.height=E[1]*x;K.style.width=E[0]+"px";K.style.height=E[1]+"px";N.useProgram(this.currentProgram_);
for(K=this.postProcessPasses_.length-1;0<=K;K--)this.postProcessPasses_[K].init(C);N.bindTexture(N.TEXTURE_2D,null);N.clearColor(0,0,0,0);N.clear(N.COLOR_BUFFER_BIT);N.enable(N.BLEND);N.blendFunc(N.ONE,N.ONE_MINUS_SRC_ALPHA);N.useProgram(this.currentProgram_);this.applyFrameState(C);this.applyUniforms(C)};A.prototype.prepareDrawToRenderTarget=function(C,N,K){var E=this.getGL(),x=N.getSize();E.bindFramebuffer(E.FRAMEBUFFER,N.getFramebuffer());E.viewport(0,0,x[0],x[1]);E.bindTexture(E.TEXTURE_2D,N.getTexture());
E.clearColor(0,0,0,0);E.clear(E.COLOR_BUFFER_BIT);E.enable(E.BLEND);E.blendFunc(E.ONE,K?E.ZERO:E.ONE_MINUS_SRC_ALPHA);E.useProgram(this.currentProgram_);this.applyFrameState(C);this.applyUniforms(C)};A.prototype.drawElements=function(C,N){var K=this.getGL();K.drawElements(K.TRIANGLES,N-C,K.UNSIGNED_INT,4*C)};A.prototype.finalizeDraw=function(C){for(var N=0;N<this.postProcessPasses_.length;N++)this.postProcessPasses_[N].apply(C,this.postProcessPasses_[N+1]||null)};A.prototype.getCanvas=function(){return this.canvas_};
A.prototype.getGL=function(){return this.gl_};A.prototype.applyFrameState=function(C){var N=C.size,K=C.viewState.rotation,E=(0,k.reset)(this.offsetScaleMatrix_);(0,k.scale)(E,2/N[0],2/N[1]);N=(0,k.reset)(this.offsetRotateMatrix_);0!==K&&(0,k.rotate)(N,-K);this.setUniformMatrixValue(e.OFFSET_SCALE_MATRIX,(0,f.fromTransform)(this.tmpMat4_,E));this.setUniformMatrixValue(e.OFFSET_ROTATION_MATRIX,(0,f.fromTransform)(this.tmpMat4_,N));this.setUniformFloatValue(e.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(e.ZOOM,C.viewState.zoom);this.setUniformFloatValue(e.RESOLUTION,C.viewState.resolution)};A.prototype.applyUniforms=function(C){var N=this.getGL(),K,E=0;this.uniforms_.forEach(function(x){K="function"===typeof x.value?x.value(C):x.value;if(K instanceof HTMLCanvasElement||K instanceof HTMLImageElement||K instanceof ImageData)x.texture||(x.prevValue=void 0,x.texture=N.createTexture()),N.activeTexture(N["TEXTURE"+E]),N.bindTexture(N.TEXTURE_2D,x.texture),N.texParameteri(N.TEXTURE_2D,
N.TEXTURE_MIN_FILTER,N.LINEAR),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE),K instanceof HTMLImageElement&&!K.complete||x.prevValue===K||(x.prevValue=K,N.texImage2D(N.TEXTURE_2D,0,N.RGBA,N.RGBA,N.UNSIGNED_BYTE,K)),N.uniform1i(this.getUniformLocation(x.name),E++);else if(Array.isArray(K)&&6===K.length)this.setUniformMatrixValue(x.name,(0,f.fromTransform)(this.tmpMat4_,K));else if(Array.isArray(K)&&4>=K.length)switch(K.length){case 2:N.uniform2f(this.getUniformLocation(x.name),
K[0],K[1]);break;case 3:N.uniform3f(this.getUniformLocation(x.name),K[0],K[1],K[2]);break;case 4:N.uniform4f(this.getUniformLocation(x.name),K[0],K[1],K[2],K[3])}else"number"===typeof K&&N.uniform1f(this.getUniformLocation(x.name),K)}.bind(this))};A.prototype.useProgram=function(C){if(C==this.currentProgram_)return!1;this.getGL().useProgram(C);this.currentProgram_=C;this.uniformLocations_={};this.attribLocations_={};return!0};A.prototype.compileShader=function(C,N){var K=this.getGL();N=K.createShader(N);
K.shaderSource(N,C);K.compileShader(N);return N};A.prototype.getProgram=function(C,N){var K=this.getGL();C=this.compileShader(C,K.FRAGMENT_SHADER);N=this.compileShader(N,K.VERTEX_SHADER);this.shaderCompileErrors_=null;K.getShaderInfoLog(C)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+K.getShaderInfoLog(C));K.getShaderInfoLog(N)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+K.getShaderInfoLog(N)));var E=K.createProgram();K.attachShader(E,
C);K.attachShader(E,N);K.linkProgram(E);return E};A.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};A.prototype.getUniformLocation=function(C){void 0===this.uniformLocations_[C]&&(this.uniformLocations_[C]=this.getGL().getUniformLocation(this.currentProgram_,C));return this.uniformLocations_[C]};A.prototype.getAttributeLocation=function(C){void 0===this.attribLocations_[C]&&(this.attribLocations_[C]=this.getGL().getAttribLocation(this.currentProgram_,C));return this.attribLocations_[C]};
A.prototype.makeProjectionTransform=function(C,N){var K=C.size,E=C.viewState.rotation,x=C.viewState.resolution;C=C.viewState.center;(0,k.reset)(N);(0,k.compose)(N,0,0,2/(x*K[0]),2/(x*K[1]),-E,-C[0],-C[1]);return N};A.prototype.setUniformFloatValue=function(C,N){this.getGL().uniform1f(this.getUniformLocation(C),N)};A.prototype.setUniformMatrixValue=function(C,N){this.getGL().uniformMatrix4fv(this.getUniformLocation(C),!1,N)};A.prototype.enableAttributeArray_=function(C,N,K,E,x){C=this.getAttributeLocation(C);
0>C||(this.getGL().enableVertexAttribArray(C),this.getGL().vertexAttribPointer(C,N,K,!1,E,x))};A.prototype.enableAttributes=function(C){for(var N=l(C),K=0,E=0;E<C.length;E++){var x=C[E];this.enableAttributeArray_(x.name,x.size,x.type||v.FLOAT,N,K);K+=x.size*w(x.type)}};A.prototype.handleWebGLContextLost=function(){(0,t.clear)(this.bufferCache_);this.currentProgram_=null};A.prototype.handleWebGLContextRestored=function(){};A.prototype.createTexture=function(C,N,K){var E=this.getGL();K=K||E.createTexture();
var x=E.RGBA,D=E.RGBA,H=E.UNSIGNED_BYTE;E.bindTexture(E.TEXTURE_2D,K);N?E.texImage2D(E.TEXTURE_2D,0,x,D,H,N):E.texImage2D(E.TEXTURE_2D,0,x,C[0],C[1],0,D,H,null);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE);E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE);return K};return A}(Ea["default"]);J["default"]=z};
shadow$provide[322]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}function l(k,f,d,g,a){k[f+0]=d;k[f+1]=g;k[f+2]=a}Object.defineProperty(J,"__esModule",{value:!0});J.writePointFeatureToBuffers=function(k,f,d,g,a,e){var n=3+a,y=k[f+0],A=k[f+1],C=u;C.length=a;for(a=0;a<C.length;a++)C[a]=k[f+2+a];k=e?e.vertexPosition:0;e=e?e.indexPosition:0;f=k/n;l(d,k,y,A,0);C.length&&d.set(C,k+3);k+=n;l(d,k,y,A,1);C.length&&d.set(C,k+3);k+=n;l(d,k,y,A,2);C.length&&d.set(C,k+3);k+=n;l(d,k,
y,A,3);C.length&&d.set(C,k+3);g[e++]=f;g[e++]=f+1;g[e++]=f+3;g[e++]=f+1;g[e++]=f+2;g[e++]=f+3;t.vertexPosition=k+n;t.indexPosition=e;return t};J.getBlankImageData=function(){var k=document.createElement("canvas").getContext("2d").createImageData(1,1);k.data[0]=255;k.data[1]=255;k.data[2]=255;k.data[3]=255;return k};J.colorEncodeId=function(k,f){f=f||[];f[0]=Math.floor(k/256/256/256)/255;f[1]=Math.floor(k/256/256)%256/255;f[2]=Math.floor(k/256)%256/255;f[3]=k%256/255;return f};J.colorDecodeId=function(k){var f=
0+Math.round(4278190080*k[0]);f+=Math.round(16711680*k[1]);f+=Math.round(65280*k[2]);return f+=Math.round(255*k[3])};J["default"]=J.WebGLWorkerMessageType=void 0;Ea=m(z(218));var w=m(z(100)),G=m(z(94)),L=m(z(321)),v=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,d);f.prototype=
null===d?Object.create(d):(g.prototype=d.prototype,new g)}}();J.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};z=function(k){function f(d,g){d=k.call(this,d)||this;g=g||{};d.helper=new L["default"]({postProcesses:g.postProcesses,uniforms:g.uniforms});void 0!==g.className&&(d.helper.getCanvas().className=g.className);return d}v(f,k);f.prototype.disposeInternal=function(){this.helper.dispose();k.prototype.disposeInternal.call(this)};f.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
f.prototype.dispatchRenderEvent_=function(d,g){var a=this.getLayer();a.hasListener(d)&&(d=new w["default"](d,null,g,null),a.dispatchEvent(d))};f.prototype.preRender=function(d){this.dispatchRenderEvent_(G["default"].PRERENDER,d)};f.prototype.postRender=function(d){this.dispatchRenderEvent_(G["default"].POSTRENDER,d)};return f}(Ea["default"]);var u=[],t={vertexPosition:0,indexPosition:0};J["default"]=z};
shadow$provide[323]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=z(72),l=new Uint8Array(4);Ea=function(){function w(G,L){this.helper_=G;G=G.getGL();this.texture_=G.createTexture();this.framebuffer_=G.createFramebuffer();this.size_=L||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}w.prototype.setSize=function(G){(0,m.equals)(G,this.size_)||(this.size_[0]=G[0],this.size_[1]=G[1],this.updateSize_())};w.prototype.getSize=
function(){return this.size_};w.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};w.prototype.readAll=function(){if(this.dataCacheDirty_){var G=this.size_,L=this.helper_.getGL();L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer_);L.readPixels(0,0,G[0],G[1],L.RGBA,L.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};w.prototype.readPixel=function(G,L){if(0>G||0>L||G>this.size_[0]||L>=this.size_[1])return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l;this.readAll();G=Math.floor(G)+(this.size_[1]-
Math.floor(L)-1)*this.size_[0];l[0]=this.data_[4*G];l[1]=this.data_[4*G+1];l[2]=this.data_[4*G+2];l[3]=this.data_[4*G+3];return l};w.prototype.getTexture=function(){return this.texture_};w.prototype.getFramebuffer=function(){return this.framebuffer_};w.prototype.updateSize_=function(){var G=this.size_,L=this.helper_.getGL();this.texture_=this.helper_.createTexture(G,null,this.texture_);L.bindFramebuffer(L.FRAMEBUFFER,this.framebuffer_);L.viewport(0,0,G[0],G[1]);L.framebufferTexture2D(L.FRAMEBUFFER,
L.COLOR_ATTACHMENT0,L.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(G[0]*G[1]*4)};return w}();J["default"]=Ea};
shadow$provide[324]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.create=function(){return new Worker(m)};Ea=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var m=URL.createObjectURL(Ea)};
shadow$provide[325]=function(Ea,z,ob,J){function m(K){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"===typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E};return m(K)}function l(){if("function"!==typeof WeakMap)return null;var K=new WeakMap;l=function(){return K};return K}function w(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;
var G=w(z(207)),L=w(z(119)),v=w(z(239)),u=w(z(121)),t=w(z(317)),k=function(K){if(K&&K.__esModule)return K;if(null===K||"object"!==m(K)&&"function"!==typeof K)return{"default":K};var E=l();if(E&&E.has(K))return E.get(K);var x={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in K)if(Object.prototype.hasOwnProperty.call(K,H)){var S=D?Object.getOwnPropertyDescriptor(K,H):null;S&&(S.get||S.set)?Object.defineProperty(x,H,S):x[H]=K[H]}x["default"]=K;E&&E.set(K,x);return x}(z(322)),f=w(z(323)),
d=z(316),g=z(321),a=z(77),e=z(76),n=z(80),y=z(324),A=z(74),C=z(89),N=function(){var K=function(E,x){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,H){D.__proto__=H}||function(D,H){for(var S in H)Object.prototype.hasOwnProperty.call(H,S)&&(D[S]=H[S])};return K(E,x)};return function(E,x){function D(){this.constructor=E}K(E,x);E.prototype=null===x?Object.create(x):(D.prototype=x.prototype,new D)}}();Ea=function(K){function E(x,D){var H=this;H=D.uniforms||{};var S=(0,a.create)();
H[g.DefaultUniform.PROJECTION_MATRIX]=S;H=K.call(this,x,{className:D.className,uniforms:H,postProcesses:D.postProcesses})||this;H.sourceRevision_=-1;H.verticesBuffer_=new t["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);H.hitVerticesBuffer_=new t["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);H.indicesBuffer_=new t["default"](d.ELEMENT_ARRAY_BUFFER,d.DYNAMIC_DRAW);H.program_=H.helper.getProgram(D.fragmentShader,D.vertexShader);H.hitDetectionEnabled_=D.hitFragmentShader&&D.hitVertexShader?!0:!1;H.hitProgram_=
H.hitDetectionEnabled_&&H.helper.getProgram(D.hitFragmentShader,D.hitVertexShader);x=D.attributes?D.attributes.map(function(U){return{name:"a_"+U.name,size:1,type:g.AttributeType.FLOAT}}):[];H.attributes=[{name:"a_position",size:2,type:g.AttributeType.FLOAT},{name:"a_index",size:1,type:g.AttributeType.FLOAT}].concat(x);H.hitDetectionAttributes=[{name:"a_position",size:2,type:g.AttributeType.FLOAT},{name:"a_index",size:1,type:g.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:g.AttributeType.FLOAT},
{name:"a_featureUid",size:1,type:g.AttributeType.FLOAT}].concat(x);H.customAttributes=D.attributes?D.attributes:[];H.previousExtent_=(0,n.createEmpty)();H.currentTransform_=S;H.renderTransform_=(0,a.create)();H.invertRenderTransform_=(0,a.create)();H.renderInstructions_=new Float32Array(0);H.hitRenderInstructions_=new Float32Array(0);H.hitRenderTarget_=H.hitDetectionEnabled_&&new f["default"](H.helper);H.worker_=(0,y.create)();H.worker_.addEventListener("message",function(U){var ia=U.data;if(ia.type===
k.WebGLWorkerMessageType.GENERATE_BUFFERS){var fa=ia.projectionTransform;ia.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(ia.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(ia.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(ia.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=fa;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);
ia.hitDetection?this.hitRenderInstructions_=new Float32Array(U.data.renderInstructions):this.renderInstructions_=new Float32Array(U.data.renderInstructions);this.getLayer().changed()}}.bind(H));H.featureCache_={};H.featureCount_=0;D=H.getLayer().getSource();H.sourceListenKeys_=[(0,C.listen)(D,v["default"].ADDFEATURE,H.handleSourceFeatureAdded_,H),(0,C.listen)(D,v["default"].CHANGEFEATURE,H.handleSourceFeatureChanged_,H),(0,C.listen)(D,v["default"].REMOVEFEATURE,H.handleSourceFeatureDelete_,H),(0,
C.listen)(D,v["default"].CLEAR,H.handleSourceFeatureClear_,H)];D.forEachFeature(function(U){this.featureCache_[(0,A.getUid)(U)]={feature:U,properties:U.getProperties(),geometry:U.getGeometry()};this.featureCount_++}.bind(H));return H}N(E,K);E.prototype.handleSourceFeatureAdded_=function(x){x=x.feature;this.featureCache_[(0,A.getUid)(x)]={feature:x,properties:x.getProperties(),geometry:x.getGeometry()};this.featureCount_++};E.prototype.handleSourceFeatureChanged_=function(x){x=x.feature;this.featureCache_[(0,
A.getUid)(x)]={feature:x,properties:x.getProperties(),geometry:x.getGeometry()}};E.prototype.handleSourceFeatureDelete_=function(x){x=x.feature;delete this.featureCache_[(0,A.getUid)(x)];this.featureCount_--};E.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};E.prototype.renderFrame=function(x){this.preRender(x);var D=this.indicesBuffer_.getSize();this.helper.drawElements(0,D);this.helper.finalizeDraw(x);D=this.helper.getCanvas();var H=x.layerStatesArray[x.layerIndex].opacity;
H!==parseFloat(D.style.opacity)&&(D.style.opacity=String(H));this.hitDetectionEnabled_&&(this.renderHitDetection(x),this.hitRenderTarget_.clearCachedData());this.postRender(x);return D};E.prototype.prepareFrame=function(x){var D=this.getLayer(),H=D.getSource(),S=x.viewState,U=!x.viewHints[u["default"].ANIMATING]&&!x.viewHints[u["default"].INTERACTING],ia=!(0,n.equals)(this.previousExtent_,x.extent),fa=this.sourceRevision_<H.getRevision();fa&&(this.sourceRevision_=H.getRevision());U&&(ia||fa)&&(U=
S.projection,S=S.resolution,D=D instanceof G["default"]?D.getRenderBuffer():0,D=(0,n.buffer)(x.extent,D*S),H.loadFeatures(D,S,U),this.rebuildBuffers_(x),this.previousExtent_=x.extent.slice());this.helper.makeProjectionTransform(x,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(x);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);
return!0};E.prototype.rebuildBuffers_=function(x){var D=(0,a.create)();this.helper.makeProjectionTransform(x,D);x=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===x||(this.renderInstructions_=new Float32Array(x));this.hitDetectionEnabled_&&(x=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===x||(this.hitRenderInstructions_=new Float32Array(x)));var H,S=[],U=[],ia=0,fa=
0;for(la in this.featureCache_)if(x=this.featureCache_[la],(H=x.geometry)&&H.getType()===L["default"].POINT){S[0]=H.getFlatCoordinates()[0];S[1]=H.getFlatCoordinates()[1];(0,a.apply)(D,S);H=(0,k.colorEncodeId)(fa+6,U);this.renderInstructions_[ia++]=S[0];this.renderInstructions_[ia++]=S[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[fa++]=S[0],this.hitRenderInstructions_[fa++]=S[1],this.hitRenderInstructions_[fa++]=H[0],this.hitRenderInstructions_[fa++]=H[1],this.hitRenderInstructions_[fa++]=
H[2],this.hitRenderInstructions_[fa++]=H[3],this.hitRenderInstructions_[fa++]=Number(la));for(var ja=0;ja<this.customAttributes.length;ja++)H=this.customAttributes[ja].callback(x.feature,x.properties),this.renderInstructions_[ia++]=H,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[fa++]=H)}var la={type:k.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};la.projectionTransform=D;this.worker_.postMessage(la,
[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(la={type:k.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},la.projectionTransform=D,la.hitDetection=!0,this.worker_.postMessage(la,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};E.prototype.forEachFeatureAtCoordinate=function(x,D,H,S,U){(0,e.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&
(x=(0,a.apply)(D.coordinateToPixelTransform,x.slice()),x=this.hitRenderTarget_.readPixel(x[0]/2,x[1]/2),x=[x[0]/255,x[1]/255,x[2]/255,x[3]/255],x=(0,k.colorDecodeId)(x),x=Math.floor(this.hitRenderInstructions_[x]).toString(),x=this.getLayer().getSource().getFeatureByUid(x)))return S(x,this.getLayer(),null)};E.prototype.renderHitDetection=function(x){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(x.size[0]/2),Math.floor(x.size[1]/2)]),this.helper.useProgram(this.hitProgram_),
this.helper.prepareDrawToRenderTarget(x,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),x=this.indicesBuffer_.getSize(),this.helper.drawElements(0,x))};E.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(x){(0,C.unlistenByKey)(x)});this.sourceListenKeys_=null;K.prototype.disposeInternal.call(this)};return E}(k["default"]);
J["default"]=Ea};
shadow$provide[326]=function(Ea,z,ob,J){function m(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(236));var l=m(z(325)),w=z(86),G=z(81),L=z(103),v=z(91),u=function(){var k=function(f,d){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,a){g.__proto__=a}||function(g,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(g[e]=a[e])};return k(f,d)};return function(f,d){function g(){this.constructor=f}k(f,
d);f.prototype=null===d?Object.create(d):(g.prototype=d.prototype,new g)}}(),t=["#00f","#0ff","#0f0","#ff0","#f00"];z=function(k){function f(d){var g=this;d=d?d:{};g=(0,w.assign)({},d);delete g.gradient;delete g.radius;delete g.blur;delete g.weight;g=k.call(this,g)||this;g.gradient_=null;g.addEventListener((0,v.getChangeEventType)("gradient"),g.handleGradientChanged_);g.setGradient(d.gradient?d.gradient:t);g.setBlur(void 0!==d.blur?d.blur:15);g.setRadius(void 0!==d.radius?d.radius:8);var a=d.weight?
d.weight:"weight";g.weightFunction_="string"===typeof a?function(e){return e.get(a)}:a;g.setRenderOrder(null);return g}u(f,k);f.prototype.getBlur=function(){return this.get("blur")};f.prototype.getGradient=function(){return this.get("gradient")};f.prototype.getRadius=function(){return this.get("radius")};f.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),g=(0,L.createCanvasContext2D)(1,256),a=g.createLinearGradient(0,0,1,256),e=1/(d.length-1),n=0,y=d.length;n<y;++n)a.addColorStop(n*
e,d[n]);g.fillStyle=a;g.fillRect(0,0,1,256);this.gradient_=g.canvas};f.prototype.setBlur=function(d){this.set("blur",d)};f.prototype.setGradient=function(d){this.set("gradient",d)};f.prototype.setRadius=function(d){this.set("radius",d)};f.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,G.clamp)(d,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};f.prototype.renderDeclutter=function(){};return f}(Ea["default"]);J["default"]=z};
shadow$provide[327]=function(Ea,z,ob,J){function m(E){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(E)?E:new Uint8Array(E||0);this.type=this.pos=0;this.length=this.buf.length}function l(E,x,D){var H=D.buf;var S=H[D.pos++];var U=(S&112)>>4;if(128>S)return G(E,U,x);S=H[D.pos++];U|=(S&127)<<3;if(128>S)return G(E,U,x);S=H[D.pos++];U|=(S&127)<<10;if(128>S)return G(E,U,x);S=H[D.pos++];U|=(S&127)<<17;if(128>S)return G(E,U,x);S=H[D.pos++];U|=(S&127)<<24;if(128>S)return G(E,U,x);S=H[D.pos++];if(128>S)return G(E,
U|(S&1)<<31,x);throw Error("Expected varint not more than 10 bytes");}function w(E){return E.type===m.Bytes?E.readVarint()+E.pos:E.pos+1}function G(E,x,D){return D?4294967296*x+(E>>>0):4294967296*(x>>>0)+(E>>>0)}function L(E,x,D){x=16383>=x?1:2097151>=x?2:268435455>=x?3:Math.floor(Math.log(x)/(7*Math.LN2));D.realloc(x);for(var H=D.pos-1;H>=E;H--)D.buf[H+x]=D.buf[H]}function v(E,x){for(var D=0;D<E.length;D++)x.writeVarint(E[D])}function u(E,x){for(var D=0;D<E.length;D++)x.writeSVarint(E[D])}function t(E,
x){for(var D=0;D<E.length;D++)x.writeFloat(E[D])}function k(E,x){for(var D=0;D<E.length;D++)x.writeDouble(E[D])}function f(E,x){for(var D=0;D<E.length;D++)x.writeBoolean(E[D])}function d(E,x){for(var D=0;D<E.length;D++)x.writeFixed32(E[D])}function g(E,x){for(var D=0;D<E.length;D++)x.writeSFixed32(E[D])}function a(E,x){for(var D=0;D<E.length;D++)x.writeFixed64(E[D])}function e(E,x){for(var D=0;D<E.length;D++)x.writeSFixed64(E[D])}function n(E,x){return(E[x]|E[x+1]<<8|E[x+2]<<16)+16777216*E[x+3]}function y(E,
x,D){E[D]=x;E[D+1]=x>>>8;E[D+2]=x>>>16;E[D+3]=x>>>24}function A(E,x){return(E[x]|E[x+1]<<8|E[x+2]<<16)+(E[x+3]<<24)}ob.exports=m;var C=z(24);m.Varint=0;m.Fixed64=1;m.Bytes=2;m.Fixed32=5;var N=1/4294967296,K="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");m.prototype={destroy:function(){this.buf=null},readFields:function(E,x,D){for(D=D||this.length;this.pos<D;){var H=this.readVarint(),S=H>>3,U=this.pos;this.type=H&7;E(S,x,this);this.pos===U&&this.skip(H)}return x},readMessage:function(E,
x){return this.readFields(E,x,this.readVarint()+this.pos)},readFixed32:function(){var E=n(this.buf,this.pos);this.pos+=4;return E},readSFixed32:function(){var E=A(this.buf,this.pos);this.pos+=4;return E},readFixed64:function(){var E=n(this.buf,this.pos)+4294967296*n(this.buf,this.pos+4);this.pos+=8;return E},readSFixed64:function(){var E=n(this.buf,this.pos)+4294967296*A(this.buf,this.pos+4);this.pos+=8;return E},readFloat:function(){var E=C.read(this.buf,this.pos,!0,23,4);this.pos+=4;return E},readDouble:function(){var E=
C.read(this.buf,this.pos,!0,52,8);this.pos+=8;return E},readVarint:function(E){var x=this.buf;var D=x[this.pos++];var H=D&127;if(128>D)return H;D=x[this.pos++];H|=(D&127)<<7;if(128>D)return H;D=x[this.pos++];H|=(D&127)<<14;if(128>D)return H;D=x[this.pos++];H|=(D&127)<<21;if(128>D)return H;D=x[this.pos];return l(H|(D&15)<<28,E,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var E=this.readVarint();return 1===E%2?(E+1)/-2:E/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var E=this.readVarint()+this.pos,x=this.pos;this.pos=E;if(12<=E-x&&K)return K.decode(this.buf.subarray(x,E));for(var D=this.buf,H="";x<E;){var S=D[x],U=null,ia=239<S?4:223<S?3:191<S?2:1;if(x+ia>E)break;if(1===ia)128>S&&(U=S);else if(2===ia){var fa=D[x+1];128===(fa&192)&&(U=(S&31)<<6|fa&63,127>=U&&(U=null))}else if(3===ia){fa=D[x+1];var ja=D[x+2];128===(fa&192)&&128===(ja&192)&&(U=(S&15)<<12|(fa&63)<<6|ja&63,2047>=U||55296<=U&&57343>=U)&&(U=null)}else if(4===ia){fa=D[x+1];ja=
D[x+2];var la=D[x+3];128===(fa&192)&&128===(ja&192)&&128===(la&192)&&(U=(S&15)<<18|(fa&63)<<12|(ja&63)<<6|la&63,65535>=U||1114112<=U)&&(U=null)}null===U?(U=65533,ia=1):65535<U&&(U-=65536,H+=String.fromCharCode(U>>>10&1023|55296),U=56320|U&1023);H+=String.fromCharCode(U);x+=ia}return H},readBytes:function(){var E=this.readVarint()+this.pos,x=this.buf.subarray(this.pos,E);this.pos=E;return x},readPackedVarint:function(E,x){if(this.type!==m.Bytes)return E.push(this.readVarint(x));var D=w(this);for(E=
E||[];this.pos<D;)E.push(this.readVarint(x));return E},readPackedSVarint:function(E){if(this.type!==m.Bytes)return E.push(this.readSVarint());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readSVarint());return E},readPackedBoolean:function(E){if(this.type!==m.Bytes)return E.push(this.readBoolean());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readBoolean());return E},readPackedFloat:function(E){if(this.type!==m.Bytes)return E.push(this.readFloat());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readFloat());
return E},readPackedDouble:function(E){if(this.type!==m.Bytes)return E.push(this.readDouble());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readDouble());return E},readPackedFixed32:function(E){if(this.type!==m.Bytes)return E.push(this.readFixed32());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readFixed32());return E},readPackedSFixed32:function(E){if(this.type!==m.Bytes)return E.push(this.readSFixed32());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readSFixed32());return E},readPackedFixed64:function(E){if(this.type!==
m.Bytes)return E.push(this.readFixed64());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readFixed64());return E},readPackedSFixed64:function(E){if(this.type!==m.Bytes)return E.push(this.readSFixed64());var x=w(this);for(E=E||[];this.pos<x;)E.push(this.readSFixed64());return E},skip:function(E){E&=7;if(E===m.Varint)for(;127<this.buf[this.pos++];);else if(E===m.Bytes)this.pos=this.readVarint()+this.pos;else if(E===m.Fixed32)this.pos+=4;else if(E===m.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
E);},writeTag:function(E,x){this.writeVarint(E<<3|x)},realloc:function(E){for(var x=this.length||16;x<this.pos+E;)x*=2;x!==this.length&&(E=new Uint8Array(x),E.set(this.buf),this.buf=E,this.length=x)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(E){this.realloc(4);y(this.buf,E,this.pos);this.pos+=4},writeSFixed32:function(E){this.realloc(4);y(this.buf,E,this.pos);this.pos+=4},writeFixed64:function(E){this.realloc(8);y(this.buf,E&-1,
this.pos);y(this.buf,Math.floor(E*N),this.pos+4);this.pos+=8},writeSFixed64:function(E){this.realloc(8);y(this.buf,E&-1,this.pos);y(this.buf,Math.floor(E*N),this.pos+4);this.pos+=8},writeVarint:function(E){E=+E||0;if(268435455<E||0>E){if(0<=E){var x=E%4294967296|0;var D=E/4294967296|0}else x=~(-E%4294967296),D=~(-E/4294967296),x^4294967295?x=x+1|0:(x=0,D=D+1|0);if(1.8446744073709552E19<=E||-1.8446744073709552E19>E)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);E=x;this.buf[this.pos++]=
E&127|128;E>>>=7;this.buf[this.pos++]=E&127|128;E>>>=7;this.buf[this.pos++]=E&127|128;E>>>=7;this.buf[this.pos++]=E&127|128;this.buf[this.pos]=E>>>7&127;this.buf[this.pos++]|=(D&7)<<4|((D>>>=3)?128:0);D&&(this.buf[this.pos++]=D&127|((D>>>=7)?128:0),D&&(this.buf[this.pos++]=D&127|((D>>>=7)?128:0),D&&(this.buf[this.pos++]=D&127|((D>>>=7)?128:0),D&&(this.buf[this.pos++]=D&127|((D>>>=7)?128:0),D&&(this.buf[this.pos++]=D&127)))))}else this.realloc(4),this.buf[this.pos++]=E&127|(127<E?128:0),127>=E||(this.buf[this.pos++]=
(E>>>=7)&127|(127<E?128:0),127>=E||(this.buf[this.pos++]=(E>>>=7)&127|(127<E?128:0),127>=E||(this.buf[this.pos++]=E>>>7&127)))},writeSVarint:function(E){this.writeVarint(0>E?2*-E-1:2*E)},writeBoolean:function(E){this.writeVarint(!!E)},writeString:function(E){E=String(E);this.realloc(4*E.length);this.pos++;for(var x=this.pos,D=this.buf,H=this.pos,S=0,U,ia;S<E.length;S++){U=E.charCodeAt(S);if(55295<U&&57344>U)if(ia)if(56320>U){D[H++]=239;D[H++]=191;D[H++]=189;ia=U;continue}else U=ia-55296<<10|U-56320|
65536,ia=null;else{56319<U||S+1===E.length?(D[H++]=239,D[H++]=191,D[H++]=189):ia=U;continue}else ia&&(D[H++]=239,D[H++]=191,D[H++]=189,ia=null);128>U?D[H++]=U:(2048>U?D[H++]=U>>6|192:(65536>U?D[H++]=U>>12|224:(D[H++]=U>>18|240,D[H++]=U>>12&63|128),D[H++]=U>>6&63|128),D[H++]=U&63|128)}this.pos=H;D=this.pos-x;128<=D&&L(x,D,this);this.pos=x-1;this.writeVarint(D);this.pos+=D},writeFloat:function(E){this.realloc(4);C.write(this.buf,E,this.pos,!0,23,4);this.pos+=4},writeDouble:function(E){this.realloc(8);
C.write(this.buf,E,this.pos,!0,52,8);this.pos+=8},writeBytes:function(E){var x=E.length;this.writeVarint(x);this.realloc(x);for(var D=0;D<x;D++)this.buf[this.pos++]=E[D]},writeRawMessage:function(E,x){this.pos++;var D=this.pos;E(x,this);E=this.pos-D;128<=E&&L(D,E,this);this.pos=D-1;this.writeVarint(E);this.pos+=E},writeMessage:function(E,x,D){this.writeTag(E,m.Bytes);this.writeRawMessage(x,D)},writePackedVarint:function(E,x){x.length&&this.writeMessage(E,v,x)},writePackedSVarint:function(E,x){x.length&&
this.writeMessage(E,u,x)},writePackedBoolean:function(E,x){x.length&&this.writeMessage(E,f,x)},writePackedFloat:function(E,x){x.length&&this.writeMessage(E,t,x)},writePackedDouble:function(E,x){x.length&&this.writeMessage(E,k,x)},writePackedFixed32:function(E,x){x.length&&this.writeMessage(E,d,x)},writePackedSFixed32:function(E,x){x.length&&this.writeMessage(E,g,x)},writePackedFixed64:function(E,x){x.length&&this.writeMessage(E,a,x)},writePackedSFixed64:function(E,x){x.length&&this.writeMessage(E,
e,x)},writeBytesField:function(E,x){this.writeTag(E,m.Bytes);this.writeBytes(x)},writeFixed32Field:function(E,x){this.writeTag(E,m.Fixed32);this.writeFixed32(x)},writeSFixed32Field:function(E,x){this.writeTag(E,m.Fixed32);this.writeSFixed32(x)},writeFixed64Field:function(E,x){this.writeTag(E,m.Fixed64);this.writeFixed64(x)},writeSFixed64Field:function(E,x){this.writeTag(E,m.Fixed64);this.writeSFixed64(x)},writeVarintField:function(E,x){this.writeTag(E,m.Varint);this.writeVarint(x)},writeSVarintField:function(E,
x){this.writeTag(E,m.Varint);this.writeSVarint(x)},writeStringField:function(E,x){this.writeTag(E,m.Bytes);this.writeString(x)},writeFloatField:function(E,x){this.writeTag(E,m.Fixed32);this.writeFloat(x)},writeDoubleField:function(E,x){this.writeTag(E,m.Fixed64);this.writeDouble(x)},writeBooleanField:function(E,x){this.writeVarintField(E,!!x)}}};
shadow$provide[328]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var m=function(d){return d&&d.__esModule?d:{"default":d}}(z(119)),l=z(77),w=z(80),G=z(72),L=z(147),v=z(130),u=z(191),t=z(196),k=z(136),f=(0,l.create)();Ea=function(){function d(g,a,e,n,y){this.id_=y;this.type_=g;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=e;this.properties_=n}d.prototype.get=function(g){return this.properties_[g]};d.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===m["default"].POINT?(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,w.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var g=(0,w.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,L.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,g,0)}return this.flatInteriorPoints_};d.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var g=(0,t.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,L.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,g)}return this.flatInteriorPoints_};d.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,u.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var g=this.flatCoordinates_,a=0,e=this.ends_,n=0,y=e.length;n<y;++n){var A=e[n];a=(0,u.interpolatePoint)(g,a,A,2,.5);(0,G.extend)(this.flatMidpoints_,a);a=A}}return this.flatMidpoints_};d.prototype.getId=function(){return this.id_};d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};d.prototype.getGeometry=function(){return this};d.prototype.getSimplifiedGeometry=function(g){return this};d.prototype.simplifyTransformed=function(g,a){return this};d.prototype.getProperties=
function(){return this.properties_};d.prototype.getStride=function(){return 2};d.prototype.getStyleFunction=function(){};d.prototype.getType=function(){return this.type_};d.prototype.transform=function(g){g=(0,v.get)(g);var a=g.getExtent();g=g.getWorldExtent();a&&g&&(a=(0,w.getHeight)(g)/(0,w.getHeight)(a),(0,l.compose)(f,g[0],g[3],a,-a,0,0,0),(0,k.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,f,this.flatCoordinates_))};d.prototype.getEnds=function(){return this.ends_};return d}();
Ea.prototype.getEndss=Ea.prototype.getEnds;Ea.prototype.getFlatCoordinates=Ea.prototype.getOrientedFlatCoordinates;J["default"]=Ea};
shadow$provide[329]=function(Ea,z,ob,J){function m(S){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"===typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};return m(S)}function l(S){return S&&S.__esModule?S:{"default":S}}function w(){if("function"!==typeof WeakMap)return null;var S=new WeakMap;w=function(){return S};return S}function G(S,U,ia){if(3===S){S={keys:[],values:[],features:[]};var fa=
ia.readVarint()+ia.pos;ia.readFields(L,S,fa);S.length=S.features.length;S.length&&(U[S.name]=S)}}function L(S,U,ia){if(15===S)U.version=ia.readVarint();else if(1===S)U.name=ia.readString();else if(5===S)U.extent=ia.readVarint();else if(2===S)U.features.push(ia.pos);else if(3===S)U.keys.push(ia.readString());else if(4===S){S=null;for(var fa=ia.readVarint()+ia.pos;ia.pos<fa;)S=ia.readVarint()>>3,S=1===S?ia.readString():2===S?ia.readFloat():3===S?ia.readDouble():4===S?ia.readVarint64():5===S?ia.readVarint():
6===S?ia.readSVarint():7===S?ia.readBoolean():null;U.values.push(S)}}function v(S,U,ia){if(1==S)U.id=ia.readVarint();else if(2==S)for(S=ia.readVarint()+ia.pos;ia.pos<S;){var fa=U.layer.keys[ia.readVarint()],ja=U.layer.values[ia.readVarint()];U.properties[fa]=ja}else 3==S?U.type=ia.readVarint():4==S&&(U.geometry=ia.pos)}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var u=function(S){if(S&&S.__esModule)return S;if(null===S||"object"!==m(S)&&"function"!==typeof S)return{"default":S};
var U=w();if(U&&U.has(S))return U.get(S);var ia={},fa=Object.defineProperty&&Object.getOwnPropertyDescriptor,ja;for(ja in S)if(Object.prototype.hasOwnProperty.call(S,ja)){var la=fa?Object.getOwnPropertyDescriptor(S,ja):null;la&&(la.get||la.set)?Object.defineProperty(ia,ja,la):ia[ja]=S[ja]}ia["default"]=S;U&&U.set(S,ia);return ia}(z(252)),t=l(z(186)),k=l(z(135)),f=l(z(119)),d=l(z(193)),g=l(z(194)),a=l(z(195)),e=l(z(197)),n=l(z(327)),y=l(z(145)),A=l(z(152)),C=l(z(124)),N=l(z(328)),K=l(z(120)),E=z(76),
x=z(130),D=z(151),H=function(){var S=function(U,ia){S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fa,ja){fa.__proto__=ja}||function(fa,ja){for(var la in ja)Object.prototype.hasOwnProperty.call(ja,la)&&(fa[la]=ja[la])};return S(U,ia)};return function(U,ia){function fa(){this.constructor=U}S(U,ia);U.prototype=null===ia?Object.create(ia):(fa.prototype=ia.prototype,new fa)}}();Ea=function(S){function U(ia){var fa=S.call(this)||this;ia=ia?ia:{};fa.dataProjection=new C["default"]({code:"",
units:K["default"].TILE_PIXELS});fa.featureClass_=ia.featureClass?ia.featureClass:N["default"];fa.geometryName_=ia.geometryName;fa.layerName_=ia.layerName?ia.layerName:"layer";fa.layers_=ia.layers?ia.layers:null;fa.idProperty_=ia.idProperty;return fa}H(U,S);U.prototype.readRawGeometry_=function(ia,fa,ja,la){ia.pos=fa.geometry;fa=ia.readVarint()+ia.pos;for(var da=1,O=0,B=0,Y=0,ka=0,Z=0;ia.pos<fa;)O||(O=ia.readVarint(),da=O&7,O>>=3),O--,1===da||2===da?(B+=ia.readSVarint(),Y+=ia.readSVarint(),1===da&&
ka>Z&&(la.push(ka),Z=ka),ja.push(B,Y),ka+=2):7===da?ka>Z&&(ja.push(ja[Z],ja[Z+1]),ka+=2):(0,E.assert)(!1,59);ka>Z&&la.push(ka)};U.prototype.createFeature_=function(ia,fa,ja){var la=fa.type;if(0===la)return null;var da=fa.properties;if(this.idProperty_){var O=da[this.idProperty_];delete da[this.idProperty_]}else O=fa.id;da[this.layerName_]=fa.layer.name;var B=[];var Y=[];this.readRawGeometry_(ia,fa,B,Y);ia=Y.length;if(1===la)var ka=1===ia?f["default"].POINT:f["default"].MULTI_POINT;else 2===la?ka=
1===ia?f["default"].LINE_STRING:f["default"].MULTI_LINE_STRING:3===la&&(ka=f["default"].POLYGON);la=ka;if(this.featureClass_===N["default"])B=new this.featureClass_(la,B,Y,da,O),B.transform(ja.dataProjection);else{if(la==f["default"].POLYGON){la=[];fa=ia=ka=0;for(var Z=Y.length;fa<Z;++fa){var wa=Y[fa];if((0,D.linearRingIsClockwise)(B,ka,wa,2)){if(0===la.length)continue;la[la.length-1].push(Y[ia])}else la.push(Y.slice(ia,fa+1));ia=fa+1;ka=wa}Y=1<la.length?new e["default"](B,k["default"].XY,la):new A["default"](B,
k["default"].XY,Y)}else Y=la===f["default"].POINT?new y["default"](B,k["default"].XY):la===f["default"].LINE_STRING?new d["default"](B,k["default"].XY):la===f["default"].POLYGON?new A["default"](B,k["default"].XY,Y):la===f["default"].MULTI_POINT?new a["default"](B,k["default"].XY):la===f["default"].MULTI_LINE_STRING?new g["default"](B,k["default"].XY,Y):null;B=new this.featureClass_;this.geometryName_&&B.setGeometryName(this.geometryName_);ja=(0,u.transformGeometryWithOptions)(Y,!1,ja);B.setGeometry(ja);
B.setId(O);B.setProperties(da,!0)}return B};U.prototype.getType=function(){return t["default"].ARRAY_BUFFER};U.prototype.readFeatures=function(ia,fa){var ja=this.layers_;fa=this.adaptOptions(fa);var la=(0,x.get)(fa.dataProjection);la.setWorldExtent(fa.extent);fa.dataProjection=la;ia=new n["default"](ia);var da=ia.readFields(G,{}),O=[],B;for(B in da)if(!ja||-1!=ja.indexOf(B)){var Y=da[B];la.setExtent(Y?[0,0,Y.extent,Y.extent]:null);for(var ka=0,Z=Y.length;ka<Z;++ka){var wa=ia,xa=Y;wa.pos=xa.features[ka];
var Da=wa.readVarint()+wa.pos;xa={layer:xa,type:0,properties:{}};wa.readFields(v,xa,Da);O.push(this.createFeature_(ia,xa,fa))}}return O};U.prototype.readProjection=function(ia){return this.dataProjection};U.prototype.setLayers=function(ia){this.layers_=ia};return U}(u["default"]);J["default"]=Ea};
shadow$provide[330]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;J["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[331]=function(Ea,z,ob,J){function m(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var l=m(z(217)),w=m(z(223));Ea=m(z(297));var G=m(z(88));ob=m(z(220));var L=m(z(117)),v=m(z(330)),u=m(z(121)),t=z(77),k=z(80),f=z(86),d=z(233),g=z(234),a=z(74),e=z(89),n=z(154),y=z(98),A=function(){var K=function(E,x){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,H){D.__proto__=H}||function(D,H){for(var S in H)Object.prototype.hasOwnProperty.call(H,
S)&&(D[S]=H[S])};return K(E,x)};return function(E,x){function D(){this.constructor=E}K(E,x);E.prototype=null===x?Object.create(x):(D.prototype=x.prototype,new D)}}(),C={image:[ob["default"].POLYGON,ob["default"].CIRCLE,ob["default"].LINE_STRING,ob["default"].IMAGE,ob["default"].TEXT],hybrid:[ob["default"].POLYGON,ob["default"].LINE_STRING],vector:[]},N={image:[ob["default"].DEFAULT],hybrid:[ob["default"].IMAGE,ob["default"].TEXT,ob["default"].DEFAULT],vector:[ob["default"].POLYGON,ob["default"].CIRCLE,
ob["default"].LINE_STRING,ob["default"].IMAGE,ob["default"].TEXT,ob["default"].DEFAULT]};z=function(K){function E(x){x=K.call(this,x)||this;x.boundHandleStyleImageChange_=x.handleStyleImageChange_.bind(x);x.dirty_=!1;x.renderedPixelToCoordinateTransform_=null;x.renderTileImageQueue_={};x.tileListenerKeys_={};x.tmpTransform_=(0,t.create)();return x}A(E,K);E.prototype.prepareTile=function(x,D,H,S){var U=(0,a.getUid)(x),ia=x.getState();(ia===L["default"].LOADED&&x.hifi||ia===L["default"].ERROR)&&U in
this.tileListenerKeys_&&((0,e.unlistenByKey)(this.tileListenerKeys_[U]),delete this.tileListenerKeys_[U]);if(ia===L["default"].LOADED||ia===L["default"].ERROR)if(this.updateExecutorGroup_(x,D,H),this.tileImageNeedsRender_(x,D,H)){var fa=!0;S&&(this.renderTileImageQueue_[U]=x)}return fa};E.prototype.getTile=function(x,D,H,S){var U=S.pixelRatio,ia=S.viewState,fa=ia.resolution;ia=ia.projection;var ja=this.getLayer(),la=ja.getSource().getTile(x,D,H,U,ia);if(la.getState()<L["default"].LOADED)la.wantedResolution=
fa,fa=(0,a.getUid)(la),fa in this.tileListenerKeys_||(U=(0,e.listen)(la,G["default"].CHANGE,this.prepareTile.bind(this,la,U,ia,!0)),this.tileListenerKeys_[fa]=U);else{var da=S.viewHints;(da[u["default"].ANIMATING]||da[u["default"].INTERACTING])&&la.wantedResolution||(la.wantedResolution=fa);this.prepareTile(la,U,ia,!1)&&ja.getRenderMode()!==v["default"].VECTOR&&this.renderTileImage_(la,S)}return K.prototype.getTile.call(this,x,D,H,S)};E.prototype.isDrawableTile=function(x){var D=this.getLayer();return K.prototype.isDrawableTile.call(this,
x)&&(D.getRenderMode()===v["default"].VECTOR?(0,a.getUid)(D)in x.executorGroups:x.hasContext(D))};E.prototype.getTileImage=function(x){return x.getImage(this.getLayer())};E.prototype.prepareFrame=function(x){var D=this.getLayer().getRevision();this.renderedLayerRevision_!=D&&(this.renderedTiles.length=0);this.renderedLayerRevision_=D;return K.prototype.prepareFrame.call(this,x)};E.prototype.updateExecutorGroup_=function(x,D,H){var S=this.getLayer(),U=S.getRevision(),ia=S.getRenderOrder()||null,fa=
x.wantedResolution,ja=x.getReplayState(S);if(ja.dirty||ja.renderedResolution!==fa||ja.renderedRevision!=U||ja.renderedRenderOrder!=ia||ja.renderedZ!==x.sourceZ){var la=S.getSource(),da=S.getDeclutter(),O=la.getTileGrid(),B=la.getTileGridForProjection(H).getTileCoordExtent(x.wrappedTileCoord),Y=la.getSourceTiles(D,H,x),ka=(0,a.getUid)(S);delete x.hitDetectionImageData[ka];x.executorGroups[ka]=[];da&&(x.declutterExecutorGroups[ka]=[]);H=function(Da,Wa){var gb=Y[Da];if(gb.getState()!=L["default"].LOADED)return"continue";
Wa=O.getTileCoordExtent(gb.tileCoord);Da=(0,k.getIntersection)(B,Wa);Wa=(0,k.equals)(Wa,Da)?null:(0,k.buffer)(Da,S.getRenderBuffer()*fa,Z.tmpExtent);ja.dirty=!1;var ra=new l["default"](0,Da,fa,D),Na=da?new l["default"](0,Da,fa,D):void 0,Ta=(0,g.getSquaredTolerance)(fa,D),za=function(M){var P,ca=M.getStyleFunction()||S.getStyleFunction();ca&&(P=ca(M,fa));P&&(M=this.renderFeature(M,Ta,P,ra,Na),this.dirty_=this.dirty_||M,ja.dirty=ja.dirty||M)};gb=gb.getFeatures();ia&&ia!==ja.renderedRenderOrder&&gb.sort(ia);
for(var pa=0,T=gb.length;pa<T;++pa){var W=gb[pa];Wa&&!(0,k.intersects)(Wa,W.getGeometry().getExtent())||za.call(Z,W)}Wa=ra.finish();Da=S.getRenderMode()!==v["default"].VECTOR&&da&&1===Y.length?null:Da;Wa=new w["default"](Da,fa,D,la.getOverlaps(),Wa,S.getRenderBuffer());x.executorGroups[ka].push(Wa);Na&&(Da=new w["default"](Da,fa,D,la.getOverlaps(),Na.finish(),S.getRenderBuffer()),x.declutterExecutorGroups[ka].push(Da))};for(var Z=this,wa=0,xa=Y.length;wa<xa;++wa)H(wa,xa);ja.renderedRevision=U;ja.renderedZ=
x.sourceZ;ja.renderedRenderOrder=ia;ja.renderedResolution=fa}};E.prototype.forEachFeatureAtCoordinate=function(x,D,H,S,U){var ia=D.viewState.resolution,fa=D.viewState.rotation;H=void 0==H?0:H;var ja=this.getLayer(),la=ja.getSource().getTileGridForProjection(D.viewState.projection),da=(0,k.boundingExtent)([x]);(0,k.buffer)(da,ia*H,da);for(var O={},B=function(Da,Wa,gb){var ra=Da.getId();void 0===ra&&(ra=(0,a.getUid)(Da));var Na=O[ra];if(!Na){if(0===gb)return O[ra]=!0,S(Da,ja,Wa);U.push(O[ra]={feature:Da,
layer:ja,geometry:Wa,distanceSq:gb,callback:S})}else if(!0!==Na&&gb<Na.distanceSq){if(0===gb)return O[ra]=!0,U.splice(U.lastIndexOf(Na),1),S(Da,ja,Wa);Na.geometry=Wa;Na.distanceSq=gb}},Y=this.renderedTiles,ka,Z=function(Da,Wa){Da=Y[Da];Wa=la.getTileCoordExtent(Da.wrappedTileCoord);if(!(0,k.intersects)(Wa,da))return"continue";Wa=(0,a.getUid)(ja);var gb=[Da.executorGroups[Wa]],ra=Da.declutterExecutorGroups[Wa];ra&&gb.push(ra);gb.some(function(Na){for(var Ta=Na===ra?D.declutterTree.all().map(function(T){return T.value}):
null,za=0,pa=Na.length;za<pa;++za)if(ka=Na[za].forEachFeatureAtCoordinate(x,ia,fa,H,B,Ta))return!0})},wa=0,xa=Y.length;!ka&&wa<xa;++wa)Z(wa,xa);return ka};E.prototype.getFeatures=function(x){return new Promise(function(D,H){H=this.getLayer();for(var S=(0,a.getUid)(H),U=H.getSource(),ia=this.renderedProjection,fa=ia.getExtent(),ja=this.renderedResolution,la=U.getTileGridForProjection(ia),da=(0,t.apply)(this.renderedPixelToCoordinateTransform_,x.slice()),O=la.getTileCoordForCoordAndResolution(da,ja),
B,Y=0,ka=this.renderedTiles.length;Y<ka;++Y)if(O.toString()===this.renderedTiles[Y].tileCoord.toString()){B=this.renderedTiles[Y];if(B.getState()===L["default"].LOADED&&B.hifi){O=la.getTileCoordExtent(B.tileCoord);U.getWrapX()&&ia.canWrapX()&&!(0,k.containsExtent)(fa,O)&&(0,y.wrapX)(da,ia);break}B=void 0}!B||0<B.loadingSourceTiles?D([]):(U=la.getTileCoordExtent(B.wrappedTileCoord),U=(0,k.getTopLeft)(U),da=[(da[0]-U[0])/ja,(U[1]-da[1])/ja],U=B.getSourceTiles().reduce(function(Z,wa){return Z.concat(wa.getFeatures())},
[]),ia=B.hitDetectionImageData[S],ia||this.animatingOrInteracting_||(ia=(0,n.toSize)(la.getTileSize(la.getZForResolution(ja))),O=[ia[0]/2,ia[1]/2],fa=this.renderedRotation_,ja=[this.getRenderTransform(la.getTileCoordCenter(B.wrappedTileCoord),ja,0,.5,O[0],O[1],0)],ia=(0,d.createHitDetectionImageData)(ia,ja,U,H.getStyleFunction(),la.getTileCoordExtent(B.wrappedTileCoord),B.getReplayState(H).renderedResolution,fa),B.hitDetectionImageData[S]=ia),D((0,d.hitDetect)(da,U,ia)))}.bind(this))};E.prototype.handleFontsChanged=
function(){(0,f.clear)(this.renderTileImageQueue_);var x=this.getLayer();x.getVisible()&&void 0!==this.renderedLayerRevision_&&x.changed()};E.prototype.handleStyleImageChange_=function(x){this.renderIfReadyAndVisible()};E.prototype.renderDeclutter=function(x){var D=x.viewHints;D=!(D[u["default"].ANIMATING]||D[u["default"].INTERACTING]);for(var H=this.renderedTiles,S=0,U=H.length;S<U;++S){var ia=H[S],fa=ia.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(fa)for(var ja=fa.length-1;0<=ja;--ja)fa[ja].execute(this.context,
1,this.getTileRenderTransform(ia,x),x.viewState.rotation,D,void 0,x.declutterTree)}};E.prototype.getTileRenderTransform=function(x,D){var H=D.pixelRatio,S=D.viewState,U=S.center,ia=S.resolution;S=S.rotation;var fa=D.size,ja=Math.round(fa[0]*H);fa=Math.round(fa[1]*H);D=this.getLayer().getSource().getTileGridForProjection(D.viewState.projection);var la=x.tileCoord;x=D.getTileCoordExtent(x.wrappedTileCoord);x=D.getTileCoordExtent(la,this.tmpExtent)[0]-x[0];return(0,t.multiply)((0,t.scale)(this.inversePixelTransform.slice(),
1/H,1/H),this.getRenderTransform(U,ia,S,H,ja,fa,x))};E.prototype.renderFrame=function(x,D){var H=x.viewHints;H=!(H[u["default"].ANIMATING]||H[u["default"].INTERACTING]);this.renderQueuedTileImages_(H,x);K.prototype.renderFrame.call(this,x,D);this.renderedPixelToCoordinateTransform_=x.pixelToCoordinateTransform.slice();this.renderedRotation_=x.viewState.rotation;D=this.getLayer();var S=D.getRenderMode();if(S===v["default"].IMAGE)return this.container;var U=D.getSource();U=x.usedTiles[(0,a.getUid)(U)];
for(var ia in this.renderTileImageQueue_)U&&ia in U||delete this.renderTileImageQueue_[ia];ia=this.context;S=N[S];U=x.viewState.rotation;for(var fa=this.renderedTiles,ja=[],la=[],da=fa.length-1;0<=da;--da)for(var O=fa[da],B=this.getTileRenderTransform(O,x),Y=O.executorGroups[(0,a.getUid)(D)],ka=!1,Z=0,wa=Y.length;Z<wa;++Z){var xa=Y[Z];if(xa.hasExecutors(S)){var Da=O.tileCoord[0],Wa=void 0;if(!ka&&(Wa=xa.getClipCoords(B))){ia.save();for(var gb=0,ra=ja.length;gb<ra;++gb){var Na=ja[gb];Da<la[gb]&&(ia.beginPath(),
ia.moveTo(Wa[0],Wa[1]),ia.lineTo(Wa[2],Wa[3]),ia.lineTo(Wa[4],Wa[5]),ia.lineTo(Wa[6],Wa[7]),ia.moveTo(Na[6],Na[7]),ia.lineTo(Na[4],Na[5]),ia.lineTo(Na[2],Na[3]),ia.lineTo(Na[0],Na[1]),ia.clip())}}xa.execute(ia,1,B,U,H,S);!ka&&Wa&&(ia.restore(),ja.push(Wa),la.push(Da),ka=!0)}}return this.container};E.prototype.renderQueuedTileImages_=function(x,D){for(var H in this.renderTileImageQueue_){if(!x&&8<Date.now()-D.time){D.animate=!0;break}var S=this.renderTileImageQueue_[H];delete this.renderTileImageQueue_[H];
this.renderTileImage_(S,D)}};E.prototype.renderFeature=function(x,D,H,S,U){if(!H)return!1;var ia=!1;if(Array.isArray(H))for(var fa=0,ja=H.length;fa<ja;++fa)ia=(0,g.renderFeature)(S,x,H[fa],D,this.boundHandleStyleImageChange_,void 0,U)||ia;else ia=(0,g.renderFeature)(S,x,H,D,this.boundHandleStyleImageChange_,void 0,U);return ia};E.prototype.tileImageNeedsRender_=function(x,D,H){H=this.getLayer();D=x.getReplayState(H);H=H.getRevision();var S=x.sourceZ;return D.renderedTileResolution!==x.wantedResolution||
D.renderedTileRevision!==H||D.renderedTileZ!==S};E.prototype.renderTileImage_=function(x,D){var H=this.getLayer(),S=x.getReplayState(H),U=H.getRevision(),ia=x.executorGroups[(0,a.getUid)(H)];S.renderedTileRevision=U;S.renderedTileZ=x.sourceZ;U=x.wrappedTileCoord;var fa=U[0],ja=H.getSource(),la=D.pixelRatio,da=D.viewState.projection,O=ja.getTileGridForProjection(da),B=O.getResolution(x.tileCoord[0]);B*=D.pixelRatio/x.wantedResolution;var Y=O.getResolution(fa);D=x.getContext(H);la=Math.round(Math.max(la,
B/la));fa=ja.getTilePixelSize(fa,la,da);D.canvas.width=fa[0];D.canvas.height=fa[1];la/=B;1!==la&&(fa=(0,t.reset)(this.tmpTransform_),(0,t.scale)(fa,la,la),D.setTransform.apply(D,fa));U=O.getTileCoordExtent(U,this.tmpExtent);B/=Y;O=(0,t.reset)(this.tmpTransform_);(0,t.scale)(O,B,-B);(0,t.translate)(O,-U[0],-U[3]);U=0;for(B=ia.length;U<B;++U)ia[U].execute(D,la,O,0,!0,C[H.getRenderMode()]);S.renderedTileResolution=x.wantedResolution};return E}(Ea["default"]);J["default"]=z};
shadow$provide[332]=function(Ea,z,ob,J){function m(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(207));var l=m(z(331)),w=m(z(295)),G=m(z(330)),L=z(76),v=z(86),u=function(){var t=function(k,f){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(d[a]=g[a])};return t(k,f)};return function(k,f){function d(){this.constructor=
k}t(k,f);k.prototype=null===f?Object.create(f):(d.prototype=f.prototype,new d)}}();z=function(t){function k(f){f=f?f:{};var d=(0,v.assign)({},f);delete d.preload;delete d.useInterimTilesOnError;d=t.call(this,d)||this;var g=f.renderMode||G["default"].HYBRID;(0,L.assert)(void 0==g||g==G["default"].IMAGE||g==G["default"].HYBRID||g==G["default"].VECTOR,28);d.renderMode_=g;d.setPreload(f.preload?f.preload:0);d.setUseInterimTilesOnError(void 0!==f.useInterimTilesOnError?f.useInterimTilesOnError:!0);return d}
u(k,t);k.prototype.createRenderer=function(){return new l["default"](this)};k.prototype.getFeatures=function(f){return t.prototype.getFeatures.call(this,f)};k.prototype.getRenderMode=function(){return this.renderMode_};k.prototype.getPreload=function(){return this.get(w["default"].PRELOAD)};k.prototype.getUseInterimTilesOnError=function(){return this.get(w["default"].USE_INTERIM_TILES_ON_ERROR)};k.prototype.setPreload=function(f){this.set(w["default"].PRELOAD,f)};k.prototype.setUseInterimTilesOnError=
function(f){this.set(w["default"].USE_INTERIM_TILES_ON_ERROR,f)};return k}(Ea["default"]);J["default"]=z};
shadow$provide[333]=function(Ea,z,ob,J){var m={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},l=/(italic|oblique)$/i,w={};ob.exports=function(G,L,v){var u=w[G];if(!u){Array.isArray(G)||(G=[G]);u=400;for(var t="normal",k=[],f=0,d=G.length;f<
d;++f){var g=G[f].split(" "),a=g[g.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(t=a,g.pop(),a=g[g.length-1].toLowerCase()):l.test(a)&&(a=a.replace(l,""),t=g[g.length-1].replace(a,""));for(var e in m)if(a==e||a==e.replace("-","")||a==e.replace("-"," ")){u=m[e];g.pop();break}"number"==typeof a&&(u=a);g=g.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==g.indexOf(" ")&&(g='"'+g+'"');k.push(g)}u=w[G]=[t,u,k]}return u[0]+" "+u[1]+" "+L+"px"+(v?"/"+v:"")+" "+u[2]}};
shadow$provide[334]=function(Ea,z,ob,J){var m=z(26).Buffer;(function(l,w){"object"===typeof J&&"undefined"!==typeof ob?w(J):"function"===typeof define&&define.amd?define(["exports"],w):(l=l||self,w(l.mapboxGlStyleSpecification={}))})(this,function(l){function w(q,Q){const ma={};for(const Ga in Q)void 0!==q[Ga]&&(ma[Ga]=q[Ga]);for(const Ga in q)void 0===ma[Ga]&&(ma[Ga]=q[Ga]);return ma}function G(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function L(q,
Q){return Q={exports:{}},q(Q,Q.exports),Q.exports}function v(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function u(q,Q,ma){if(q&&he.isObject(q)&&q instanceof v)return q;var Ga=new v;Ga.parse(q,Q,ma);return Ga}function t(q){for(var Q=0;Q<xc.layout.length;Q++)for(const ma in xc[xc.layout[Q]])if(ma===q)return xc[xc.layout[Q]][ma];for(Q=0;Q<xc.paint.length;Q++)for(const ma in xc[xc.paint[Q]])if(ma===
q)return xc[xc.paint[Q]][ma];return null}function k(q,Q){for(const ma in q.sources)Q(q.sources[ma])}function f(q,Q){for(const ma of q.layers)Q(ma)}function d(q,Q,ma){function Ga($a,eb){const qb=$a[eb];qb&&Object.keys(qb).forEach(Kb=>{ma({path:[$a.id,eb,Kb],key:Kb,value:qb[Kb],reference:t(Kb),set(Vb){qb[Kb]=Vb}})})}f(q,$a=>{Q.paint&&Ga($a,"paint");Q.layout&&Ga($a,"layout")})}function g(q,Q){for(const ma in q)0===ma.indexOf("layout")&&Q(q[ma],ma)}function a(q,Q){for(const ma in q)0===ma.indexOf("paint")&&
Q(q[ma],ma)}function e(q,Q){return"string"===typeof Q&&"@"===Q[0]?e(q,q.constants[Q]):Q}function n(q,Q,ma){q[ma]=q[Q];delete q[Q]}function y(q){function Q($a){const eb=fd.parse($a),qb=eb.pathname.split("/");if("mapbox:"!==eb.protocol)return $a;if("fontstack"===eb.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===eb.hostname)return`mapbox://fonts/${qb[2]}/{fontstack}/{range}.pbf`}function ma($a){function eb(qb){return qb.split(",").map(Kb=>Kb.trim())}if(Array.isArray($a))return $a;
if("string"===typeof $a)return eb($a);if("object"===typeof $a)return $a.stops.forEach(qb=>{qb[1]=eb(qb[1])}),$a;throw Error("unexpected font value");}q.version=8;k(q,$a=>{"video"===$a.type&&void 0!==$a.url&&n($a,"url","urls");"video"===$a.type&&$a.coordinates.forEach(eb=>eb.reverse())});f(q,$a=>{g($a,eb=>{void 0!==eb["symbol-min-distance"]&&n(eb,"symbol-min-distance","symbol-spacing")});a($a,eb=>{void 0!==eb["background-image"]&&n(eb,"background-image","background-pattern");void 0!==eb["line-image"]&&
n(eb,"line-image","line-pattern");void 0!==eb["fill-image"]&&n(eb,"fill-image","fill-pattern")})});d(q,{paint:!0,layout:!0},$a=>{const eb=e(q,$a.value);Array.isArray(eb.stops)&&eb.stops.forEach(qb=>{qb[1]=e(q,qb[1])});$a.set(eb)});delete q.constants;f(q,$a=>{g($a,eb=>{delete eb["text-max-size"];delete eb["icon-max-size"]});a($a,eb=>{eb["text-size"]&&($a.layout||($a.layout={}),$a.layout["text-size"]=eb["text-size"],delete eb["text-size"]);eb["icon-size"]&&($a.layout||($a.layout={}),$a.layout["icon-size"]=
eb["icon-size"],delete eb["icon-size"])})});q.glyphs&&(q.glyphs=Q(q.glyphs));f(q,$a=>{g($a,eb=>{eb["text-font"]&&(eb["text-font"]=ma(eb["text-font"]))})});var Ga=0;for(let $a=q.layers.length-1;0<=$a;$a--)if("symbol"!==q.layers[$a].type){Ga=$a+1;break}Ga=q.layers.splice(Ga);Ga.reverse();q.layers=q.layers.concat(Ga);return q}function A(q,...Q){for(const ma of Q)for(const Ga in ma)q[Ga]=ma[Ga];return q}function C(q,Q){return{kind:"array",itemType:q,N:Q}}function N(q){if("array"===q.kind){const Q=N(q.itemType);
return"number"===typeof q.N?`array<${Q}, ${q.N}>`:"value"===q.itemType.kind?"array":`array<${Q}>`}return q.kind}function K(q,Q){if("error"===Q.kind)return null;if("array"===q.kind){if("array"===Q.kind&&(0===Q.N&&"value"===Q.itemType.kind||!K(q.itemType,Q.itemType))&&("number"!==typeof q.N||q.N===Q.N))return null}else{if(q.kind===Q.kind)return null;if("value"===q.kind)for(const ma of Ef)if(!K(ma,Q))return null}return`Expected ${N(q)} but found ${N(Q)} instead.`}function E(q,Q){return Q.some(ma=>ma.kind===
q.kind)}function x(q,Q){return Q.some(ma=>"null"===ma?null===q:"array"===ma?Array.isArray(q):"object"===ma?q&&!Array.isArray(q)&&"object"===typeof q:ma===typeof q)}function D(q,Q,ma,Ga){return"number"===typeof q&&0<=q&&255>=q&&"number"===typeof Q&&0<=Q&&255>=Q&&"number"===typeof ma&&0<=ma&&255>=ma?"undefined"===typeof Ga||"number"===typeof Ga&&0<=Ga&&1>=Ga?null:`Invalid rgba value [${[q,Q,ma,Ga].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof Ga?[q,Q,ma,Ga]:[q,
Q,ma]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function H(q){if(null===q||"string"===typeof q||"boolean"===typeof q||"number"===typeof q||q instanceof re||q instanceof Qe||q instanceof Ka||q instanceof sb)return!0;if(Array.isArray(q)){for(const Q of q)if(!H(Q))return!1;return!0}if("object"===typeof q){for(const Q in q)if(!H(q[Q]))return!1;return!0}return!1}function S(q){if(null===q)return sd;if("string"===typeof q)return Md;if("boolean"===typeof q)return Id;if("number"===typeof q)return Zc;
if(q instanceof re)return Ue;if(q instanceof Qe)return xe;if(q instanceof Ka)return Me;if(q instanceof sb)return Ee;if(Array.isArray(q)){const Q=q.length;let ma;for(const Ga of q)if(q=S(Ga),ma){if(ma!==q){ma=Wc;break}}else ma=q;return C(ma||Wc,Q)}return zf}function U(q){const Q=typeof q;return null===q?"":"string"===Q||"number"===Q||"boolean"===Q?String(q):q instanceof re||q instanceof Ka||q instanceof sb?q.toString():JSON.stringify(q)}function ia(q,Q){q[0]=Math.min(q[0],Q[0]);q[1]=Math.min(q[1],
Q[1]);q[2]=Math.max(q[2],Q[0]);q[3]=Math.max(q[3],Q[1])}function fa(q,Q){return q[0]<=Q[0]||q[2]>=Q[2]||q[1]<=Q[1]||q[3]>=Q[3]?!1:!0}function ja(q,Q){let ma=!1;for(let qb=0,Kb=Q.length;qb<Kb;qb++){const Vb=Q[qb];for(let Ob=0,Dc=Vb.length;Ob<Dc-1;Ob++){{var Ga=Vb[Ob],$a=Vb[Ob+1];var eb=q[0]-Ga[0];Ga=q[1]-Ga[1];const Pc=q[0]-$a[0];$a=q[1]-$a[1];eb=0===eb*$a-Pc*Ga&&0>=eb*Pc&&0>=Ga*$a}if(eb)return!1;eb=Vb[Ob];$a=Vb[Ob+1];eb[1]>q[1]!==$a[1]>q[1]&&q[0]<($a[0]-eb[0])*(q[1]-eb[1])/($a[1]-eb[1])+eb[0]&&(ma=
!ma)}}return ma}function la(q,Q,ma,Ga){const $a=Ga[0]-ma[0];Ga=Ga[1]-ma[1];q=(q[0]-ma[0])*Ga-$a*(q[1]-ma[1]);Q=(Q[0]-ma[0])*Ga-$a*(Q[1]-ma[1]);return 0<q&&0>Q||0>q&&0<Q?!0:!1}function da(q,Q){for(var ma=0;ma<q.length;++ma)if(!ja(q[ma],Q))return!1;for(ma=0;ma<q.length-1;++ma){a:{var Ga=q[ma];var $a=q[ma+1],eb=Q;for(const Pc of eb)for(let kd=0;kd<Pc.length-1;++kd){eb=Ga;var qb=$a,Kb=Pc[kd],Vb=Pc[kd+1],Ob=[Vb[0]-Kb[0],Vb[1]-Kb[1]],Dc=[qb[0]-eb[0],qb[1]-eb[1]];if(0===Ob[0]*Dc[1]-Ob[1]*Dc[0]?0:la(eb,qb,
Kb,Vb)&&la(Kb,Vb,eb,qb)){Ga=!0;break a}}Ga=!1}if(Ga)return!1}return!0}function O(q,Q,ma){const Ga=[];for(let eb=0;eb<q.length;eb++){const qb=[];for(let Kb=0;Kb<q[eb].length;Kb++){{var $a=q[eb][Kb];const Vb=Math.pow(2,ma.z);$a=[Math.round((180+$a[0])/360*Vb*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+$a[1]*Math.PI/360)))/360*Vb*8192)]}ia(Q,$a);qb.push($a)}Ga.push(qb)}return Ga}function B(q,Q,ma){const Ga=[];for(let $a=0;$a<q.length;$a++){const eb=O(q[$a],Q,ma);Ga.push(eb)}return Ga}
function Y(q,Q,ma,Ga){if(q[0]<ma[0]||q[0]>ma[2]){const $a=.5*Ga;let eb=q[0]-ma[0]>$a?-Ga:ma[0]-q[0]>$a?Ga:0;0===eb&&(eb=q[0]-ma[2]>$a?-Ga:ma[2]-q[0]>$a?Ga:0);q[0]+=eb}ia(Q,q)}function ka(q,Q,ma,Ga){const $a=8192*Math.pow(2,Ga.z);Ga=[8192*Ga.x,8192*Ga.y];const eb=[];for(const qb of q)for(const Kb of qb)q=[Kb.x+Ga[0],Kb.y+Ga[1]],Y(q,Q,ma,$a),eb.push(q);return eb}function Z(q,Q,ma,Ga){const $a=8192*Math.pow(2,Ga.z);Ga=[8192*Ga.x,8192*Ga.y];const eb=[];for(const qb of q){q=[];for(const Kb of qb){const Vb=
[Kb.x+Ga[0],Kb.y+Ga[1]];ia(Q,Vb);q.push(Vb)}eb.push(q)}if(Q[2]-Q[0]<=$a/2){Q[0]=Q[1]=Infinity;Q[2]=Q[3]=-Infinity;for(const qb of eb)for(const Kb of qb)Y(Kb,Q,ma,$a)}return eb}function wa(q,Q){var ma=[Infinity,Infinity,-Infinity,-Infinity],Ga=[Infinity,Infinity,-Infinity,-Infinity];const $a=q.canonicalID();if("Polygon"===Q.type){const eb=O(Q.coordinates,Ga,$a),qb=ka(q.geometry(),ma,Ga,$a);if(!fa(ma,Ga))return!1;for(const Kb of qb)if(!ja(Kb,eb))return!1}if("MultiPolygon"===Q.type){Q=B(Q.coordinates,
Ga,$a);q=ka(q.geometry(),ma,Ga,$a);if(!fa(ma,Ga))return!1;for(const eb of q){a:{ma=eb;Ga=Q;for(q=0;q<Ga.length;q++)if(ja(ma,Ga[q])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function xa(q,Q){var ma=[Infinity,Infinity,-Infinity,-Infinity],Ga=[Infinity,Infinity,-Infinity,-Infinity];const $a=q.canonicalID();if("Polygon"===Q.type){const eb=O(Q.coordinates,Ga,$a),qb=Z(q.geometry(),ma,Ga,$a);if(!fa(ma,Ga))return!1;for(const Kb of qb)if(!da(Kb,eb))return!1}if("MultiPolygon"===Q.type){Q=B(Q.coordinates,
Ga,$a);q=Z(q.geometry(),ma,Ga,$a);if(!fa(ma,Ga))return!1;for(const eb of q){a:{ma=eb;Ga=Q;for(q=0;q<Ga.length;q++)if(da(ma,Ga[q])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function Da(q){if(q instanceof rd&&("get"===q.name&&1===q.args.length||"feature-state"===q.name||"has"===q.name&&1===q.args.length||"properties"===q.name||"geometry-type"===q.name||"id"===q.name||/^filter-/.test(q.name))||q instanceof Hd)return!1;let Q=!0;q.eachChild(ma=>{Q&&!Da(ma)&&(Q=!1)});return Q}function Wa(q){if(q instanceof
rd&&"feature-state"===q.name)return!1;let Q=!0;q.eachChild(ma=>{Q&&!Wa(ma)&&(Q=!1)});return Q}function gb(q,Q){if(q instanceof rd&&0<=Q.indexOf(q.name))return!1;let ma=!0;q.eachChild(Ga=>{ma&&!gb(Ga,Q)&&(ma=!1)});return ma}function ra(q){if(q instanceof se)return ra(q.boundExpression);if(q instanceof rd&&"error"===q.name||q instanceof Ge||q instanceof Hd)return!1;const Q=q instanceof od||q instanceof ec;let ma=!0;q.eachChild(Ga=>{ma=Q?ma&&ra(Ga):ma&&Ga instanceof Pb});return ma?Da(q)&&gb(q,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function Na(q,Q){const ma=q.length-1;let Ga=0,$a=ma,eb,qb,Kb;for(;Ga<=$a;)if(eb=Math.floor((Ga+$a)/2),qb=q[eb],Kb=q[eb+1],qb<=Q){if(eb===ma||Q<Kb)return eb;Ga=eb+1}else if(qb>Q)$a=eb-1;else throw new Mb("Input is not a number.");return 0}function Ta(q,Q,ma,Ga){this.cx=3*q;this.bx=3*(ma-q)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*Q;this.by=3*(Ga-Q)-this.cy;this.ay=1-this.cy-this.by;this.p1x=q;this.p1y=Ga;this.p2x=ma;this.p2y=Ga}function za(q,Q,ma){return q*(1-ma)+Q*ma}function pa(q){return q>
Jf?Math.pow(q,1/3):q/He+Xd}function T(q){return q>Se?q*q*q:He*(q-Xd)}function W(q){return 255*(.0031308>=q?12.92*q:1.055*Math.pow(q,1/2.4)-.055)}function M(q){q/=255;return.04045>=q?q/12.92:Math.pow((q+.055)/1.055,2.4)}function P(q){var Q=M(q.r);const ma=M(q.g),Ga=M(q.b),$a=pa((.4124564*Q+.3575761*ma+.1804375*Ga)/.95047),eb=pa(.2126729*Q+.7151522*ma+.072175*Ga);Q=pa((.0193339*Q+.119192*ma+.9503041*Ga)/1.08883);return{l:116*eb-16,a:500*($a-eb),b:200*(eb-Q),alpha:q.a}}function ca(q){let Q=(q.l+16)/
116,ma=isNaN(q.a)?Q:Q+q.a/500,Ga=isNaN(q.b)?Q:Q-q.b/200;Q=1*T(Q);ma=.95047*T(ma);Ga=1.08883*T(Ga);return new re(W(3.2404542*ma-1.5371385*Q-.4985314*Ga),W(-.969266*ma+1.8760108*Q+.041556*Ga),W(.0556434*ma-.2040259*Q+1.0572252*Ga),q.alpha)}function ea(q,Q,ma,Ga){Ga-=ma;q-=ma;return 0===Ga?0:1===Q?q/Ga:(Math.pow(Q,q)-1)/(Math.pow(Q,Ga)-1)}function oa(q,Q){return"\x3d\x3d"===q||"!\x3d"===q?"boolean"===Q.kind||"string"===Q.kind||"number"===Q.kind||"null"===Q.kind||"value"===Q.kind:"string"===Q.kind||"number"===
Q.kind||"value"===Q.kind}function ba(q,Q,ma,Ga){return 0===Ga.compare(Q,ma)}function Fa(q,Q,ma){const Ga="\x3d\x3d"!==q&&"!\x3d"!==q;return class $a{constructor(eb,qb,Kb){this.type=Id;this.lhs=eb;this.rhs=qb;this.collator=Kb;this.hasUntypedArgument="value"===eb.type.kind||"value"===qb.type.kind}static parse(eb,qb){if(3!==eb.length&&4!==eb.length)return qb.error("Expected two or three arguments.");var Kb=eb[0];let Vb=qb.parse(eb[1],1,Wc);if(!Vb)return null;if(!oa(Kb,Vb.type))return qb.concat(1).error(`"${Kb}" comparisons are not supported for type '${N(Vb.type)}'.`);
let Ob=qb.parse(eb[2],2,Wc);if(!Ob)return null;if(!oa(Kb,Ob.type))return qb.concat(2).error(`"${Kb}" comparisons are not supported for type '${N(Ob.type)}'.`);if(Vb.type.kind!==Ob.type.kind&&"value"!==Vb.type.kind&&"value"!==Ob.type.kind)return qb.error(`Cannot compare types '${N(Vb.type)}' and '${N(Ob.type)}'.`);Ga&&("value"===Vb.type.kind&&"value"!==Ob.type.kind?Vb=new ec(Ob.type,[Vb]):"value"!==Vb.type.kind&&"value"===Ob.type.kind&&(Ob=new ec(Vb.type,[Ob])));Kb=null;if(4===eb.length){if("string"!==
Vb.type.kind&&"string"!==Ob.type.kind&&"value"!==Vb.type.kind&&"value"!==Ob.type.kind)return qb.error("Cannot use collator to compare non-string types.");Kb=qb.parse(eb[3],3,xe);if(!Kb)return null}return new $a(Vb,Ob,Kb)}evaluate(eb){const qb=this.lhs.evaluate(eb),Kb=this.rhs.evaluate(eb);if(Ga&&this.hasUntypedArgument){var Vb=S(qb),Ob=S(Kb);if(Vb.kind!==Ob.kind||"string"!==Vb.kind&&"number"!==Vb.kind)throw new Mb(`Expected arguments for "${q}" to be (string, string) or (number, number), but found (${Vb.kind}, ${Ob.kind}) instead.`);
}return this.collator&&!Ga&&this.hasUntypedArgument&&(Vb=S(qb),Ob=S(Kb),"string"!==Vb.kind||"string"!==Ob.kind)?Q(eb,qb,Kb):this.collator?ma(eb,qb,Kb,this.collator.evaluate(eb)):Q(eb,qb,Kb)}eachChild(eb){eb(this.lhs);eb(this.rhs);this.collator&&eb(this.collator)}outputDefined(){return!0}serialize(){const eb=[q];this.eachChild(qb=>{eb.push(qb.serialize())});return eb}}}function Ra(q,[Q,ma,Ga,$a]){Q=Q.evaluate(q);ma=ma.evaluate(q);Ga=Ga.evaluate(q);q=$a?$a.evaluate(q):1;if($a=D(Q,ma,Ga,q))throw new Mb($a);
return new re(Q/255*q,ma/255*q,Ga/255*q,q)}function Ma(q,Q){q=Q[q];return"undefined"===typeof q?null:q}function db(q){return{result:"success",value:q}}function ab(q){return{result:"error",value:q}}function Ba(q){return"data-driven"===q["property-type"]||"cross-faded-data-driven"===q["property-type"]}function Sa(q){return!!q.expression&&-1<q.expression.parameters.indexOf("zoom")}function lb(q){return!!q.expression&&q.expression.interpolated}function ub(q){return q instanceof Number?"number":q instanceof
String?"string":q instanceof Boolean?"boolean":Array.isArray(q)?"array":null===q?"null":typeof q}function Jb(q){return"object"===typeof q&&null!==q&&!Array.isArray(q)}function bc(q){return q}function wc(q,Q){var ma="color"===Q.type,Ga=q.stops&&"object"===typeof q.stops[0][0],$a=Ga||void 0!==q.property;$a=Ga||!$a;var eb=q.type||(lb(Q)?"exponential":"interval");ma&&(q=A({},q),q.stops&&(q.stops=q.stops.map(Pc=>[Pc[0],re.parse(Pc[1])])),q.default=q.default?re.parse(q.default):re.parse(Q.default));if(q.colorSpace&&
"rgb"!==q.colorSpace&&!Ia[q.colorSpace])throw Error(`Unknown color space: ${q.colorSpace}`);let qb,Kb,Vb;if("exponential"===eb)qb=jb;else if("interval"===eb)qb=vc;else if("categorical"===eb){qb=kc;Kb=Object.create(null);for(var Ob of q.stops)Kb[Ob[0]]=Ob[1];Vb=typeof q.stops[0][0]}else if("identity"===eb)qb=fc;else throw Error(`Unknown function type "${eb}"`);if(Ga){ma={};Ga=[];for(Ob=0;Ob<q.stops.length;Ob++)$a=q.stops[Ob],eb=$a[0].zoom,void 0===ma[eb]&&(ma[eb]={zoom:eb,type:q.type,property:q.property,
default:q.default,stops:[]},Ga.push(eb)),ma[eb].stops.push([$a[0].value,$a[1]]);const Pc=[];for(var Dc of Ga)Pc.push([ma[Dc].zoom,wc(ma[Dc],Q)]);Dc={name:"linear"};return{kind:"composite",interpolationType:Dc,interpolationFactor:La.interpolationFactor.bind(void 0,Dc),zoomStops:Pc.map(kd=>kd[0]),evaluate({zoom:kd},ad){return jb({stops:Pc,base:q.base},Q,kd).evaluate(kd,ad)}}}return $a?(Dc="exponential"===eb?{name:"exponential",base:void 0!==q.base?q.base:1}:null,{kind:"camera",interpolationType:Dc,
interpolationFactor:La.interpolationFactor.bind(void 0,Dc),zoomStops:q.stops.map(Pc=>Pc[0]),evaluate:({zoom:Pc})=>qb(q,Q,Pc,Kb,Vb)}):{kind:"source",evaluate(Pc,kd){Pc=kd&&kd.properties?kd.properties[q.property]:void 0;return void 0===Pc?$c(q.default,Q.default):qb(q,Q,Pc,Kb,Vb)}}}function $c(q,Q,ma){if(void 0!==q)return q;if(void 0!==Q)return Q;if(void 0!==ma)return ma}function kc(q,Q,ma,Ga,$a){return $c(typeof ma===$a?Ga[ma]:void 0,q.default,Q.default)}function vc(q,Q,ma){if("number"!==ub(ma))return $c(q.default,
Q.default);Q=q.stops.length;if(1===Q||ma<=q.stops[0][0])return q.stops[0][1];if(ma>=q.stops[Q-1][0])return q.stops[Q-1][1];ma=Na(q.stops.map(Ga=>Ga[0]),ma);return q.stops[ma][1]}function jb(q,Q,ma){const Ga=void 0!==q.base?q.base:1;if("number"!==ub(ma))return $c(q.default,Q.default);var $a=q.stops.length;if(1===$a||ma<=q.stops[0][0])return q.stops[0][1];if(ma>=q.stops[$a-1][0])return q.stops[$a-1][1];$a=Na(q.stops.map(Ob=>Ob[0]),ma);const eb=dc(ma,Ga,q.stops[$a][0],q.stops[$a+1][0]),qb=q.stops[$a][1],
Kb=q.stops[$a+1][1];let Vb=uf[Q.type]||bc;if(q.colorSpace&&"rgb"!==q.colorSpace){const Ob=Ia[q.colorSpace];Vb=(Dc,Pc)=>Ob.reverse(Ob.interpolate(Ob.forward(Dc),Ob.forward(Pc),eb))}return"function"===typeof qb.evaluate?{evaluate(...Ob){const Dc=qb.evaluate.apply(void 0,Ob);Ob=Kb.evaluate.apply(void 0,Ob);if(void 0!==Dc&&void 0!==Ob)return Vb(Dc,Ob,eb)}}:Vb(qb,Kb,eb)}function fc(q,Q,ma){"color"===Q.type?ma=re.parse(ma):"formatted"===Q.type?ma=Ka.fromString(ma.toString()):"resolvedImage"===Q.type?ma=
sb.fromString(ma.toString()):ub(ma)===Q.type||"enum"===Q.type&&Q.values[ma]||(ma=void 0);return $c(ma,q.default,Q.default)}function dc(q,Q,ma,Ga){Ga-=ma;q-=ma;return 0===Ga?0:1===Q?q/Ga:(Math.pow(Q,q)-1)/(Math.pow(Q,Ga)-1)}function hc(q){return Array.isArray(q)&&0<q.length&&"string"===typeof q[0]&&q[0]in gc}function Ac(q,Q){if(Q){var ma={color:Ue,string:Md,number:Zc,enum:Md,boolean:Id,formatted:Me,resolvedImage:Ee};ma="array"===Q.type?C(ma[Q.value]||Wc,Q.length):ma[Q.type]}else ma=void 0;ma=new $d(gc,
[],ma);return(q=ma.parse(q,void 0,void 0,void 0,Q&&"string"===Q.type?{typeAnnotation:"coerce"}:void 0))?db(new uc(q,Q)):ab(ma.errors)}function ac(q,Q){q=Ac(q,Q);if("error"===q.result)return q;var ma=q.value.expression;const Ga=Da(ma);if(!Ga&&!Ba(Q))return ab([new ie("","data expressions not supported")]);const $a=gb(ma,["zoom"]);if(!$a&&!Sa(Q))return ab([new ie("","zoom expressions not supported")]);if((ma=Oc(ma))||$a){if(ma instanceof ie)return ab([ma]);if(ma instanceof La&&!lb(Q))return ab([new ie("",
'"interpolate" expressions cannot be used with this property')])}else return ab([new ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!ma)return db(Ga?new Qc("constant",q.value):new Qc("source",q.value));Q=ma instanceof La?ma.interpolation:void 0;return db(Ga?new Lc("camera",q.value,ma.labels,Q):new Lc("composite",q.value,ma.labels,Q))}function Oc(q){let Q=null;if(q instanceof bb)Q=Oc(q.result);else if(q instanceof Za)for(const ma of q.args){if(Q=
Oc(ma))break}else(q instanceof oe||q instanceof La)&&q.input instanceof rd&&"zoom"===q.input.name&&(Q=q);if(Q instanceof ie)return Q;q.eachChild(ma=>{ma=Oc(ma);ma instanceof ie?Q=ma:!Q&&ma?Q=new ie("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Q&&ma&&Q!==ma&&(Q=new ie("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return Q}function Sc(q){return"object"===typeof q?["literal",q]:q}function Bc(q,
Q){let ma=q.stops;if(!ma)return pd(q,Q);const Ga=ma&&"object"===typeof ma[0][0],$a=Ga||void 0!==q.property,eb=Ga||!$a;ma=ma.map(qb=>!$a&&Q.tokens&&"string"===typeof qb[1]?[qb[0],xd(qb[1])]:[qb[0],Sc(qb[1])]);return Ga?hd(q,Q,ma):eb?cb(q,Q,ma):Dd(q,Q,ma)}function pd(q,Q){const ma=["get",q.property];if(void 0===q.default)return"string"===Q.type?["string",ma]:ma;if("enum"===Q.type)return["match",ma,Object.keys(Q.values),ma,q.default];q=["color"===Q.type?"to-color":Q.type,ma,Sc(q.default)];"array"===
Q.type&&q.splice(1,0,Q.value,Q.length||null);return q}function Rd(q){switch(q.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function hd(q,Q,ma){const Ga={},$a={};var eb=[];for(let Vb=0;Vb<ma.length;Vb++){const Ob=ma[Vb],Dc=Ob[0].zoom;void 0===Ga[Dc]&&(Ga[Dc]={zoom:Dc,type:q.type,property:q.property,default:q.default},$a[Dc]=[],eb.push(Dc));$a[Dc].push([Ob[0].value,Ob[1]])}if("exponential"===ld({},Q)){var qb=[Rd(q),["linear"],["zoom"]];
for(var Kb of eb)eb=Dd(Ga[Kb],Q,$a[Kb]),Sb(qb,Kb,eb,!1);return qb}Kb=["step",["zoom"]];for(qb of eb)eb=Dd(Ga[qb],Q,$a[qb]),Sb(Kb,qb,eb,!0);yb(Kb);return Kb}function cd(q,Q){q=q.default;var ma=Q.default;q=Sc(void 0!==q?q:void 0!==ma?ma:void 0);return void 0===q&&"resolvedImage"===Q.type?"":q}function Dd(q,Q,ma){const Ga=ld(q,Q);var $a=["get",q.property];if("categorical"===Ga&&"boolean"===typeof ma[0][0]){var eb=["case"];for(const qb of ma)eb.push(["\x3d\x3d",$a,qb[0]],qb[1]);eb.push(cd(q,Q));return eb}if("categorical"===
Ga){$a=["match",$a];for(const qb of ma)Sb($a,qb[0],qb[1],!1);$a.push(cd(q,Q));return $a}if("interval"===Ga){Q=["step",["number",$a]];for(const qb of ma)Sb(Q,qb[0],qb[1],!0);yb(Q);return void 0===q.default?Q:["case",["\x3d\x3d",["typeof",$a],"number"],Q,Sc(q.default)]}if("exponential"===Ga){Q=void 0!==q.base?q.base:1;Q=[Rd(q),1===Q?["linear"]:["exponential",Q],["number",$a]];for(eb of ma)Sb(Q,eb[0],eb[1],!1);return void 0===q.default?Q:["case",["\x3d\x3d",["typeof",$a],"number"],Q,Sc(q.default)]}throw Error(`Unknown property function type ${Ga}`);
}function cb(q,Q,ma,Ga=["zoom"]){var $a=ld(q,Q);Q=!1;if("interval"===$a)q=["step",Ga],Q=!0;else if("exponential"===$a)$a=void 0!==q.base?q.base:1,q=[Rd(q),1===$a?["linear"]:["exponential",$a],Ga];else throw Error(`Unknown zoom function type "${$a}"`);for(const eb of ma)Sb(q,eb[0],eb[1],Q);yb(q);return q}function yb(q){"step"===q[0]&&3===q.length&&(q.push(0),q.push(q[3]))}function Sb(q,Q,ma,Ga){3<q.length&&Q===q[q.length-2]||(Ga&&2===q.length||q.push(Q),q.push(ma))}function ld(q,Q){return q.type?q.type:
Q.expression.interpolated?"exponential":"interval"}function xd(q){const Q=["concat"],ma=/{([^{}]+)}/g;let Ga=0;for(let $a=ma.exec(q);null!==$a;$a=ma.exec(q)){const eb=q.slice(Ga,ma.lastIndex-$a[0].length);Ga=ma.lastIndex;0<eb.length&&Q.push(eb);Q.push(["get",$a[1]])}if(1===Q.length)return q;if(Ga<q.length)Q.push(q.slice(Ga));else if(2===Q.length)return["to-string",Q[1]];return Q}function Pd(q){if(!0===q||!1===q)return!0;if(!Array.isArray(q)||0===q.length)return!1;switch(q[0]){case "has":return 2<=
q.length&&"$id"!==q[1]&&"$type"!==q[1];case "in":return 3<=q.length&&("string"!==typeof q[1]||Array.isArray(q[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==q.length||Array.isArray(q[1])||Array.isArray(q[2]);case "any":case "all":for(const Q of q.slice(1))if(!Pd(Q)&&"boolean"!==typeof Q)return!1;return!0;default:return!0}}function me(q,Q){return q<Q?-1:q>Q?1:0}function Ha(q){if(!Array.isArray(q))return!1;
if("within"===q[0])return!0;for(let Q=1;Q<q.length;Q++)if(Ha(q[Q]))return!0;return!1}function Ya(q){if(!q)return!0;const Q=q[0];return 1>=q.length?"any"!==Q:"\x3d\x3d"===Q?pb(q[1],q[2],"\x3d\x3d"):"!\x3d"===Q?Gb(pb(q[1],q[2],"\x3d\x3d")):"\x3c"===Q||"\x3e"===Q||"\x3c\x3d"===Q||"\x3e\x3d"===Q?pb(q[1],q[2],Q):"any"===Q?["any"].concat(q.slice(1).map(Ya)):"all"===Q?["all"].concat(q.slice(1).map(Ya)):"none"===Q?["all"].concat(q.slice(1).map(Ya).map(Gb)):"in"===Q?Db(q[1],q.slice(2)):"!in"===Q?Gb(Db(q[1],
q.slice(2))):"has"===Q?Xb(q[1]):"!has"===Q?Gb(Xb(q[1])):"within"===Q?q:!0}function pb(q,Q,ma){switch(q){case "$type":return[`filter-type-${ma}`,Q];case "$id":return[`filter-id-${ma}`,Q];default:return[`filter-${ma}`,q,Q]}}function Db(q,Q){if(0===Q.length)return!1;switch(q){case "$type":return["filter-type-in",["literal",Q]];case "$id":return["filter-id-in",["literal",Q]];default:return 200<Q.length&&!Q.some(ma=>typeof ma!==typeof Q[0])?["filter-in-large",q,["literal",Q.sort(me)]]:["filter-in-small",
q,["literal",Q]]}}function Xb(q){switch(q){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",q]}}function Gb(q){return["!",q]}function pc(q){return ic(q,{})}function ic(q,Q){if(Pd(q))return q;if(!q)return!0;const ma=q[0];if(1>=q.length)return"any"!==ma;if("\x3d\x3d"===ma||"!\x3d"===ma||"\x3c"===ma||"\x3e"===ma||"\x3c\x3d"===ma||"\x3e\x3d"===ma){const [,Ga,$a]=q;q=ib(Ga,$a,ma,Q)}else{if("any"===ma)return q=q.slice(1).map(Ga=>{var $a={};Ga=ic(Ga,$a);{const eb=[];for(const qb in $a)eb.push(["\x3d\x3d",
["typeof","$id"===qb?["id"]:["get",qb]],$a[qb]]);$a=0===eb.length?!0:1===eb.length?eb[0]:["all"].concat(eb)}return!0===$a?Ga:["case",$a,Ga,!1]}),["any"].concat(q);if("all"===ma)return q=q.slice(1).map(Ga=>ic(Ga,Q)),1<q.length?["all"].concat(q):[].concat(...q);if("none"===ma)return["!",ic(["any"].concat(q.slice(1)),{})];q="in"===ma?xb(q[1],q.slice(2)):"!in"===ma?xb(q[1],q.slice(2),!0):"has"===ma?Nb(q[1]):"!has"===ma?["!",Nb(q[1])]:!0}return q}function ib(q,Q,ma,Ga){let $a;if("$type"===q)return[ma,
["geometry-type"],Q];$a="$id"===q?["id"]:["get",q];Ga&&null!==Q&&(Ga[q]=typeof Q);return"\x3d\x3d"===ma&&"$id"!==q&&null===Q?["all",["has",q],["\x3d\x3d",$a,null]]:"!\x3d"===ma&&"$id"!==q&&null===Q?["any",["!",["has",q]],["!\x3d",$a,null]]:[ma,$a,Q]}function xb(q,Q,ma=!1){if(0===Q.length)return ma;let Ga;Ga="$type"===q?["geometry-type"]:"$id"===q?["id"]:["get",q];q=!0;const $a=typeof Q[0];for(var eb of Q)if(typeof eb!==$a){q=!1;break}return!q||"string"!==$a&&"number"!==$a?[ma?"all":"any"].concat(Q.map(qb=>
[ma?"!\x3d":"\x3d\x3d",Ga,qb])):(eb=Q.sort().filter((qb,Kb)=>0===Kb||Q[Kb-1]!==qb),["match",Ga,eb,!ma,ma])}function Nb(q){return"$type"===q?!0:"$id"===q?["!\x3d",["id"],null]:["has",q]}function cc(q){const Q=[];f(q,ma=>{ma.filter&&(ma.filter=pc(ma.filter))});d(q,{paint:!0,layout:!0},({path:ma,value:Ga,reference:$a,set:eb})=>{hc(Ga)||("object"!==typeof Ga||Array.isArray(Ga)?$a.tokens&&"string"===typeof Ga&&eb(xd(Ga)):(eb(Bc(Ga,$a)),Q.push(ma.join("."))))});return q}function qc(q,Q){const ma={};for(const Ga in q)"ref"!==
Ga&&(ma[Ga]=q[Ga]);Yc.forEach(Ga=>{Ga in Q&&(ma[Ga]=Q[Ga])});return ma}function oc(q,Q){if(Array.isArray(q)){if(!Array.isArray(Q)||q.length!==Q.length)return!1;for(var ma=0;ma<q.length;ma++)if(!oc(q[ma],Q[ma]))return!1;return!0}if("object"===typeof q&&null!==q&&null!==Q){if("object"!==typeof Q||Object.keys(q).length!==Object.keys(Q).length)return!1;for(ma in q)if(!oc(q[ma],Q[ma]))return!1;return!0}return q===Q}function Kc(q,Q,ma,Ga){q=q||{};Q=Q||{};let $a;for($a in q)if(q.hasOwnProperty($a)&&!Q.hasOwnProperty($a)){var eb=
$a,qb=Ga;ma.push({command:nd.removeSource,args:[eb]});qb[eb]=!0}for($a in Q)if(Q.hasOwnProperty($a))if(!q.hasOwnProperty($a))ma.push({command:nd.addSource,args:[$a,Q[$a]]});else if(!oc(q[$a],Q[$a])){if(eb="geojson"===q[$a].type&&"geojson"===Q[$a].type)a:{var Kb=void 0;eb=q;qb=Q;var Vb=$a;for(Kb in eb[Vb])if(eb[Vb].hasOwnProperty(Kb)&&"data"!==Kb&&!oc(eb[Vb][Kb],qb[Vb][Kb])){eb=!1;break a}for(Kb in qb[Vb])if(qb[Vb].hasOwnProperty(Kb)&&"data"!==Kb&&!oc(eb[Vb][Kb],qb[Vb][Kb])){eb=!1;break a}eb=!0}if(eb)ma.push({command:nd.setGeoJSONSourceData,
args:[$a,Q[$a].data]});else{eb=$a;qb=Q;Vb=ma;Kb=eb;var Ob=Ga;Vb.push({command:nd.removeSource,args:[Kb]});Ob[Kb]=!0;Vb.push({command:nd.addSource,args:[eb,qb[eb]]})}}}function Ib(q,Q,ma,Ga,$a,eb){q=q||{};Q=Q||{};let qb;for(qb in q)q.hasOwnProperty(qb)&&(oc(q[qb],Q[qb])||ma.push({command:eb,args:[Ga,qb,Q[qb],$a]}));for(qb in Q)Q.hasOwnProperty(qb)&&!q.hasOwnProperty(qb)&&(oc(q[qb],Q[qb])||ma.push({command:eb,args:[Ga,qb,Q[qb],$a]}))}function sc(q){return q.id}function zc(q,Q){q[Q.id]=Q;return q}function rc(q,
Q,ma){q=q||[];Q=Q||[];var Ga=q.map(sc);const $a=Q.map(sc);q=q.reduce(zc,{});Q=Q.reduce(zc,{});const eb=Ga.slice(),qb=Object.create(null);let Kb;var Vb;let Ob,Dc,Pc;for(Vb=Kb=0;Kb<Ga.length;Kb++)Ob=Ga[Kb],Q.hasOwnProperty(Ob)?Vb++:(ma.push({command:nd.removeLayer,args:[Ob]}),eb.splice(eb.indexOf(Ob,Vb),1));for(Vb=Kb=0;Kb<$a.length;Kb++)Ob=$a[$a.length-1-Kb],eb[eb.length-1-Kb]!==Ob&&(q.hasOwnProperty(Ob)?(ma.push({command:nd.removeLayer,args:[Ob]}),eb.splice(eb.lastIndexOf(Ob,eb.length-Vb),1)):Vb++,
Dc=eb[eb.length-Kb],ma.push({command:nd.addLayer,args:[Q[Ob],Dc]}),eb.splice(eb.length-Kb,0,Ob),qb[Ob]=!0);for(Kb=0;Kb<$a.length;Kb++)if(Ob=$a[Kb],Vb=q[Ob],Ga=Q[Ob],!qb[Ob]&&!oc(Vb,Ga))if(oc(Vb.source,Ga.source)&&oc(Vb["source-layer"],Ga["source-layer"])&&oc(Vb.type,Ga.type)){Ib(Vb.layout,Ga.layout,ma,Ob,null,nd.setLayoutProperty);Ib(Vb.paint,Ga.paint,ma,Ob,null,nd.setPaintProperty);oc(Vb.filter,Ga.filter)||ma.push({command:nd.setFilter,args:[Ob,Ga.filter]});oc(Vb.minzoom,Ga.minzoom)&&oc(Vb.maxzoom,
Ga.maxzoom)||ma.push({command:nd.setLayerZoomRange,args:[Ob,Ga.minzoom,Ga.maxzoom]});for(Pc in Vb)Vb.hasOwnProperty(Pc)&&"layout"!==Pc&&"paint"!==Pc&&"filter"!==Pc&&"metadata"!==Pc&&"minzoom"!==Pc&&"maxzoom"!==Pc&&(0===Pc.indexOf("paint.")?Ib(Vb[Pc],Ga[Pc],ma,Ob,Pc.slice(6),nd.setPaintProperty):oc(Vb[Pc],Ga[Pc])||ma.push({command:nd.setLayerProperty,args:[Ob,Pc,Ga[Pc]]}));for(Pc in Ga)Ga.hasOwnProperty(Pc)&&!Vb.hasOwnProperty(Pc)&&"layout"!==Pc&&"paint"!==Pc&&"filter"!==Pc&&"metadata"!==Pc&&"minzoom"!==
Pc&&"maxzoom"!==Pc&&(0===Pc.indexOf("paint.")?Ib(Vb[Pc],Ga[Pc],ma,Ob,Pc.slice(6),nd.setPaintProperty):oc(Vb[Pc],Ga[Pc])||ma.push({command:nd.setLayerProperty,args:[Ob,Pc,Ga[Pc]]}))}else ma.push({command:nd.removeLayer,args:[Ob]}),Dc=eb[eb.lastIndexOf(Ob)+1],ma.push({command:nd.addLayer,args:[Ga,Dc]})}function Jc(q){const Q=q.key;return(q=q.value)?[new Vc(Q,q,"constants have been deprecated as of v8")]:[]}function Mc(q){return q instanceof Number||q instanceof String||q instanceof Boolean?q.valueOf():
q}function Nc(q){if(Array.isArray(q))return q.map(Nc);if(q instanceof Object&&!(q instanceof Number||q instanceof String||q instanceof Boolean)){const Q={};for(const ma in q)Q[ma]=Nc(q[ma]);return Q}return Mc(q)}function md(q){const Q=q.key,ma=q.value,Ga=q.valueSpec||{},$a=q.objectElementValidators||{},eb=q.style;q=q.styleSpec;let qb=[];var Kb=ub(ma);if("object"!==Kb)return[new Vc(Q,ma,`object expected, ${Kb} found`)];for(const Ob in ma){var Vb=Ob.split(".")[0];Kb=Ga[Vb]||Ga["*"];if($a[Vb])Vb=$a[Vb];
else if(Ga[Vb])Vb=be;else if($a["*"])Vb=$a["*"];else if(Ga["*"])Vb=be;else{qb.push(new Vc(Q,ma[Ob],`unknown property "${Ob}"`));continue}qb=qb.concat(Vb({key:(Q?`${Q}.`:Q)+Ob,value:ma[Ob],valueSpec:Kb,style:eb,styleSpec:q,object:ma,objectKey:Ob},ma))}for(const Ob in Ga)$a[Ob]||Ga[Ob].required&&void 0===Ga[Ob]["default"]&&void 0===ma[Ob]&&qb.push(new Vc(Q,ma,`missing required property "${Ob}"`));return qb}function wd(q){const Q=q.value;var ma=q.valueSpec;const Ga=q.style,$a=q.styleSpec,eb=q.key;q=
q.arrayElementValidator||be;if("array"!==ub(Q))return[new Vc(eb,Q,`array expected, ${ub(Q)} found`)];if(ma.length&&Q.length!==ma.length)return[new Vc(eb,Q,`array length ${ma.length} expected, length ${Q.length} found`)];if(ma["min-length"]&&Q.length<ma["min-length"])return[new Vc(eb,Q,`array length at least ${ma["min-length"]} expected, length ${Q.length} found`)];let qb={type:ma.value,values:ma.values};7>$a.$version&&(qb.function=ma.function);"object"===ub(ma.value)&&(qb=ma.value);ma=[];for(let Kb=
0;Kb<Q.length;Kb++)ma=ma.concat(q({array:Q,arrayIndex:Kb,value:Q[Kb],valueSpec:qb,style:Ga,styleSpec:$a,key:`${eb}[${Kb}]`}));return ma}function Cd(q){const Q=q.key,ma=q.value;q=q.valueSpec;let Ga=ub(ma);"number"===Ga&&ma!==ma&&(Ga="NaN");return"number"!==Ga?[new Vc(Q,ma,`number expected, ${Ga} found`)]:"minimum"in q&&ma<q.minimum?[new Vc(Q,ma,`${ma} is less than the minimum value ${q.minimum}`)]:"maximum"in q&&ma>q.maximum?[new Vc(Q,ma,`${ma} is greater than the maximum value ${q.maximum}`)]:[]}
function Gd(q){function Q(ad){let Uc=[];const Cc=ad.value,jd=ad.key;if("array"!==ub(Cc))return[new Vc(jd,Cc,`array expected, ${ub(Cc)} found`)];if(2!==Cc.length)return[new Vc(jd,Cc,`array length 2 expected, length ${Cc.length} found`)];if(Pc){if("object"!==ub(Cc[0]))return[new Vc(jd,Cc,`object expected, ${ub(Cc[0])} found`)];if(void 0===Cc[0].zoom)return[new Vc(jd,Cc,"object stop key must have zoom")];if(void 0===Cc[0].value)return[new Vc(jd,Cc,"object stop key must have value")];if(Vb&&Vb>Mc(Cc[0].zoom))return[new Vc(jd,
Cc[0].zoom,"stop zoom values must appear in ascending order")];Mc(Cc[0].zoom)!==Vb&&(Vb=Mc(Cc[0].zoom),Kb=void 0,qb={});Uc=Uc.concat(md({key:`${jd}[0]`,value:Cc[0],valueSpec:{zoom:{}},style:ad.style,styleSpec:ad.styleSpec,objectElementValidators:{zoom:Cd,value:ma}}))}else Uc=Uc.concat(ma({key:`${jd}[0]`,value:Cc[0],valueSpec:{},style:ad.style,styleSpec:ad.styleSpec},Cc));return hc(Nc(Cc[1]))?Uc.concat([new Vc(`${jd}[1]`,Cc[1],"expressions are not allowed in function stops.")]):Uc.concat(be({key:`${jd}[1]`,
value:Cc[1],valueSpec:Ga,style:ad.style,styleSpec:ad.styleSpec}))}function ma(ad,Uc){var Cc=ub(ad.value);const jd=Mc(ad.value);Uc=null!==ad.value?ad.value:Uc;if(!eb)eb=Cc;else if(Cc!==eb)return[new Vc(ad.key,Uc,`${Cc} stop domain type must match previous stop domain type ${eb}`)];if("number"!==Cc&&"string"!==Cc&&"boolean"!==Cc)return[new Vc(ad.key,Uc,"stop domain value must be a number, string, or boolean")];if("number"!==Cc&&"categorical"!==$a)return Cc=`number expected, ${Cc} found`,Ba(Ga)&&void 0===
$a&&(Cc+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Vc(ad.key,Uc,Cc)];if("categorical"===$a&&"number"===Cc&&(!isFinite(jd)||Math.floor(jd)!==jd))return[new Vc(ad.key,Uc,`integer expected, found ${jd}`)];if("categorical"!==$a&&"number"===Cc&&void 0!==Kb&&jd<Kb)return[new Vc(ad.key,Uc,"stop domain values must appear in ascending order")];Kb=jd;if("categorical"===$a&&jd in qb)return[new Vc(ad.key,Uc,"stop domain values must be unique")];qb[jd]=!0;return[]}
const Ga=q.valueSpec,$a=Mc(q.value.type);let eb,qb={},Kb,Vb;const Ob="categorical"!==$a&&void 0===q.value.property,Dc=!Ob,Pc="array"===ub(q.value.stops)&&"array"===ub(q.value.stops[0])&&"object"===ub(q.value.stops[0][0]),kd=md({key:q.key,value:q.value,valueSpec:q.styleSpec.function,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{stops:function(ad){if("identity"===$a)return[new Vc(ad.key,ad.value,'identity function may not have a "stops" property')];let Uc=[];const Cc=ad.value;Uc=Uc.concat(wd({key:ad.key,
value:Cc,valueSpec:ad.valueSpec,style:ad.style,styleSpec:ad.styleSpec,arrayElementValidator:Q}));"array"===ub(Cc)&&0===Cc.length&&Uc.push(new Vc(ad.key,Cc,"array must have at least one stop"));return Uc},default:function(ad){return be({key:ad.key,value:ad.value,valueSpec:Ga,style:ad.style,styleSpec:ad.styleSpec})}}});"identity"===$a&&Ob&&kd.push(new Vc(q.key,q.value,'missing required property "property"'));"identity"===$a||q.value.stops||kd.push(new Vc(q.key,q.value,'missing required property "stops"'));
"exponential"===$a&&q.valueSpec.expression&&!lb(q.valueSpec)&&kd.push(new Vc(q.key,q.value,"exponential functions not supported"));8<=q.styleSpec.$version&&(Dc&&!Ba(q.valueSpec)?kd.push(new Vc(q.key,q.value,"property functions not supported")):Ob&&!Sa(q.valueSpec)&&kd.push(new Vc(q.key,q.value,"zoom functions not supported")));"categorical"!==$a&&!Pc||void 0!==q.value.property||kd.push(new Vc(q.key,q.value,'"property" property is required'));return kd}function Sd(q){var Q=("property"===q.expressionContext?
ac:Ac)(Nc(q.value),q.valueSpec);if("error"===Q.result)return Q.value.map(ma=>new Vc(`${q.key}${ma.key}`,q.value,ma.message));Q=Q.value.expression||Q.value._styleExpression.expression;if("property"===q.expressionContext&&"text-font"===q.propertyKey&&!Q.outputDefined())return[new Vc(q.key,q.value,`Invalid data expression for "${q.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===q.expressionContext&&"layout"===q.propertyType&&!Wa(Q))return[new Vc(q.key,
q.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===q.expressionContext&&!Wa(Q))return[new Vc(q.key,q.value,'"feature-state" data expressions are not supported with filters.')];if(q.expressionContext&&0===q.expressionContext.indexOf("cluster")){if(!gb(Q,["zoom","feature-state"]))return[new Vc(q.key,q.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===q.expressionContext&&!Da(Q))return[new Vc(q.key,
q.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fe(q){const Q=q.key,ma=q.value;q=q.valueSpec;const Ga=[];Array.isArray(q.values)?-1===q.values.indexOf(Mc(ma))&&Ga.push(new Vc(Q,ma,`expected one of [${q.values.join(", ")}], ${JSON.stringify(ma)} found`)):-1===Object.keys(q.values).indexOf(Mc(ma))&&Ga.push(new Vc(Q,ma,`expected one of [${Object.keys(q.values).join(", ")}], ${JSON.stringify(ma)} found`));return Ga}function ne(q){return Pd(Nc(q.value))?
Sd(A({},q,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ze(q)}function ze(q){const Q=q.value,ma=q.key;if("array"!==ub(Q))return[new Vc(ma,Q,`array expected, ${ub(Q)} found`)];var Ga=q.styleSpec;let $a,eb=[];if(1>Q.length)return[new Vc(ma,Q,"filter array must have at least 1 element")];eb=eb.concat(fe({key:`${ma}[0]`,value:Q[0],valueSpec:Ga.filter_operator,style:q.style,styleSpec:q.styleSpec}));switch(Mc(Q[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=Q.length&&"$type"===
Mc(Q[1])&&eb.push(new Vc(ma,Q,`"$type" cannot be use with operator "${Q[0]}"`));case "\x3d\x3d":case "!\x3d":3!==Q.length&&eb.push(new Vc(ma,Q,`filter array for operator "${Q[0]}" must have 3 elements`));case "in":case "!in":2<=Q.length&&($a=ub(Q[1]),"string"!==$a&&eb.push(new Vc(`${ma}[1]`,Q[1],`string expected, ${$a} found`)));for(let qb=2;qb<Q.length;qb++)$a=ub(Q[qb]),"$type"===Mc(Q[1])?eb=eb.concat(fe({key:`${ma}[${qb}]`,value:Q[qb],valueSpec:Ga.geometry_type,style:q.style,styleSpec:q.styleSpec})):
"string"!==$a&&"number"!==$a&&"boolean"!==$a&&eb.push(new Vc(`${ma}[${qb}]`,Q[qb],`string, number, or boolean expected, ${$a} found`));break;case "any":case "all":case "none":for(Ga=1;Ga<Q.length;Ga++)eb=eb.concat(ze({key:`${ma}[${Ga}]`,value:Q[Ga],style:q.style,styleSpec:q.styleSpec}));break;case "has":case "!has":$a=ub(Q[1]);2!==Q.length?eb.push(new Vc(ma,Q,`filter array for "${Q[0]}" operator must have 2 elements`)):"string"!==$a&&eb.push(new Vc(`${ma}[1]`,Q[1],`string expected, ${$a} found`));
break;case "within":$a=ub(Q[1]),2!==Q.length?eb.push(new Vc(ma,Q,`filter array for "${Q[0]}" operator must have 2 elements`)):"object"!==$a&&eb.push(new Vc(`${ma}[1]`,Q[1],`object expected, ${$a} found`))}return eb}function Ae(q,Q){const ma=q.key,Ga=q.style,$a=q.styleSpec,eb=q.value,qb=q.objectKey;var Kb=$a[`${Q}_${q.layerType}`];if(!Kb)return[];const Vb=qb.match(/^(.*)-transition$/);if("paint"===Q&&Vb&&Kb[Vb[1]]&&Kb[Vb[1]].transition)return be({key:ma,value:eb,valueSpec:$a.transition,style:Ga,styleSpec:$a});
Kb=q.valueSpec||Kb[qb];if(!Kb)return[new Vc(ma,eb,`unknown property "${qb}"`)];var Ob;if("string"===ub(eb)&&Ba(Kb)&&!Kb.tokens&&(Ob=/^{([^}]+)}$/.exec(eb)))return[new Vc(ma,eb,`"${qb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Ob[1])} }\`.`)];Ob=[];"symbol"===q.layerType&&("text-field"===qb&&Ga&&!Ga.glyphs&&Ob.push(new Vc(ma,eb,'use of "text-field" requires a style "glyphs" property')),"text-font"===qb&&
Jb(Nc(eb))&&"identity"===Mc(eb.type)&&Ob.push(new Vc(ma,eb,'"text-font" does not support identity functions')));return Ob.concat(be({key:q.key,value:eb,valueSpec:Kb,style:Ga,styleSpec:$a,expressionContext:"property",propertyType:Q,propertyKey:qb}))}function De(q){return Ae(q,"paint")}function Fd(q){return Ae(q,"layout")}function Zd(q){let Q=[];const ma=q.value,Ga=q.key;var $a=q.style;const eb=q.styleSpec;ma.type||ma.ref||Q.push(new Vc(Ga,ma,'either "type" or "ref" is required'));let qb=Mc(ma.type);
const Kb=Mc(ma.ref);if(ma.id){var Vb=Mc(ma.id);for(let Ob=0;Ob<q.arrayIndex;Ob++){const Dc=$a.layers[Ob];Mc(Dc.id)===Vb&&Q.push(new Vc(Ga,ma.id,`duplicate layer id "${ma.id}", previously used at line ${Dc.id.__line__}`))}}if("ref"in ma){["type","source","source-layer","filter","layout"].forEach(Dc=>{Dc in ma&&Q.push(new Vc(Ga,ma[Dc],`"${Dc}" is prohibited for ref layers`))});let Ob;$a.layers.forEach(Dc=>{Mc(Dc.id)===Kb&&(Ob=Dc)});Ob?Ob.ref?Q.push(new Vc(Ga,ma.ref,"ref cannot reference another ref layer")):
qb=Mc(Ob.type):Q.push(new Vc(Ga,ma.ref,`ref layer "${Kb}" not found`))}else"background"!==qb&&"sky"!==qb&&(ma.source?(Vb=($a=$a.sources&&$a.sources[ma.source])&&Mc($a.type),$a?"vector"===Vb&&"raster"===qb?Q.push(new Vc(Ga,ma.source,`layer "${ma.id}" requires a raster source`)):"raster"===Vb&&"raster"!==qb?Q.push(new Vc(Ga,ma.source,`layer "${ma.id}" requires a vector source`)):"vector"!==Vb||ma["source-layer"]?"raster-dem"===Vb&&"hillshade"!==qb?Q.push(new Vc(Ga,ma.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==qb||!ma.paint||!ma.paint["line-gradient"]||"geojson"===Vb&&$a.lineMetrics||Q.push(new Vc(Ga,ma,`layer "${ma.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):Q.push(new Vc(Ga,ma,`layer "${ma.id}" must specify a "source-layer"`)):Q.push(new Vc(Ga,ma.source,`source "${ma.source}" not found`))):Q.push(new Vc(Ga,ma,'missing required property "source"')));return Q=Q.concat(md({key:Ga,value:ma,valueSpec:eb.layer,style:q.style,styleSpec:q.styleSpec,
objectElementValidators:{["*"](){return[]},type(){return be({key:`${Ga}.type`,value:ma.type,valueSpec:eb.layer.type,style:q.style,styleSpec:q.styleSpec,object:ma,objectKey:"type"})},filter:ne,layout(Ob){return md({layer:ma,key:Ob.key,value:Ob.value,style:Ob.style,styleSpec:Ob.styleSpec,objectElementValidators:{["*"](Dc){return Fd(A({layerType:qb},Dc))}}})},paint(Ob){return md({layer:ma,key:Ob.key,value:Ob.value,style:Ob.style,styleSpec:Ob.styleSpec,objectElementValidators:{["*"](Dc){return De(A({layerType:qb},
Dc))}}})}}}))}function Ke(q){const Q=q.value;q=q.key;const ma=ub(Q);return"string"!==ma?[new Vc(q,Q,`string expected, ${ma} found`)]:[]}function Be(q){const Q=q.value,ma=q.key;var Ga=q.styleSpec;const $a=q.style;if(!Q.type)return[new Vc(ma,Q,'"type" is required')];const eb=Mc(Q.type);switch(eb){case "vector":case "raster":case "raster-dem":return q=md({key:ma,value:Q,valueSpec:Ga[`source_${eb.replace("-","_")}`],style:q.style,styleSpec:Ga,objectElementValidators:Pa});case "geojson":q=md({key:ma,value:Q,
valueSpec:Ga.source_geojson,style:$a,styleSpec:Ga,objectElementValidators:Pa});if(Q.cluster)for(const qb in Q.clusterProperties){const [Kb,Vb]=Q.clusterProperties[qb];Ga="string"===typeof Kb?[Kb,["accumulated"],["get",qb]]:Kb;q.push(...Sd({key:`${ma}.${qb}.map`,value:Vb,expressionContext:"cluster-map"}));q.push(...Sd({key:`${ma}.${qb}.reduce`,value:Ga,expressionContext:"cluster-reduce"}))}return q;case "video":return md({key:ma,value:Q,valueSpec:Ga.source_video,style:$a,styleSpec:Ga});case "image":return md({key:ma,
value:Q,valueSpec:Ga.source_image,style:$a,styleSpec:Ga});case "canvas":return[new Vc(ma,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return fe({key:`${ma}.type`,value:Q.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:$a,styleSpec:Ga})}}function tf(q){const Q=q.value,ma=q.styleSpec,Ga=ma.light;q=q.style;let $a=[];var eb=ub(Q);if(void 0===Q)return $a;if("object"!==eb)return $a=$a.concat([new Vc("light",
Q,`object expected, ${eb} found`)]);for(const qb in Q)$a=(eb=qb.match(/^(.*)-transition$/))&&Ga[eb[1]]&&Ga[eb[1]].transition?$a.concat(be({key:qb,value:Q[qb],valueSpec:ma.transition,style:q,styleSpec:ma})):Ga[qb]?$a.concat(be({key:qb,value:Q[qb],valueSpec:Ga[qb],style:q,styleSpec:ma})):$a.concat([new Vc(qb,Q[qb],`unknown property "${qb}"`)]);return $a}function Td(q){const Q=q.value,ma=q.key;var Ga=q.style;const $a=q.styleSpec,eb=$a.terrain;q=[];var qb=ub(Q);if(void 0===Q)return q;if("object"!==qb)return q=
q.concat([new Vc("terrain",Q,`object expected, ${qb} found`)]);for(var Kb in Q)q=(qb=Kb.match(/^(.*)-transition$/))&&eb[qb[1]]&&eb[qb[1]].transition?q.concat(be({key:Kb,value:Q[Kb],valueSpec:$a.transition,style:Ga,styleSpec:$a})):eb[Kb]?q.concat(be({key:Kb,value:Q[Kb],valueSpec:eb[Kb],style:Ga,styleSpec:$a})):q.concat([new Vc(Kb,Q[Kb],`unknown property "${Kb}"`)]);Q.source?(Kb=(Ga=Ga.sources&&Ga.sources[Q.source])&&Mc(Ga.type),Ga?"raster-dem"!==Kb&&q.push(new Vc(ma,Q.source,`terrain cannot be used with a source of type ${Kb}, it only be used with a "raster-dem" source type`)):
q.push(new Vc(ma,Q.source,`source "${Q.source}" not found`))):q.push(new Vc(ma,Q,'terrain is missing required property "source"'));return q}function be(q){const Q=q.value,ma=q.valueSpec,Ga=q.styleSpec;return ma.expression&&Jb(Mc(Q))?Gd(q):ma.expression&&hc(Nc(Q))?Sd(q):ma.type&&kb[ma.type]?kb[ma.type](q):md(A({},q,{valueSpec:ma.type?Ga[ma.type]:ma}))}function Le(q){const Q=q.value,ma=q.key;q=Ke(q);if(q.length)return q;-1===Q.indexOf("{fontstack}")&&q.push(new Vc(ma,Q,'"glyphs" url must include a "{fontstack}" token'));
-1===Q.indexOf("{range}")&&q.push(new Vc(ma,Q,'"glyphs" url must include a "{range}" token'));return q}function ce(q,Q=xc){let ma=[];ma=ma.concat(be({key:"",value:q,valueSpec:Q.$root,styleSpec:Q,style:q,objectElementValidators:{glyphs:Le,["*"](){return[]}}}));q.constants&&(ma=ma.concat(Jc({key:"constants",value:q.constants,style:q,styleSpec:Q})));return yd(ma)}function yd(q){return[].concat(q).sort((Q,ma)=>Q.line-ma.line)}function Ad(q){return function(...Q){return yd(q.apply(this,Q))}}function Yd(q){if(q instanceof
String||"string"===typeof q||q instanceof m)try{return vb.parse(q.toString())}catch(Q){throw new Ce(Q);}return q}function ef(q,Q=xc){try{q=Yd(q)}catch(ma){return[ma]}return ce(q,Q)}function qe(q,Q){return q&&"string"===ub(q)?!!q.match(Q):!0}function Ed(q,Q,ma){const Ga=new Set(Q),$a=[];Object.keys(q).forEach(eb=>{Ga.has(eb)||$a.push(new Vc(ma?`${ma}.${eb}`:null,q[eb],`Unsupported property "${eb}"`))});return $a}function Ie(q){const Q=[];let ma=0;Object.keys(q).forEach((Ga,$a)=>{{var eb=q[Ga];const qb=
[];qb.push(...Ed(eb,["type","url","tileSize"],"source"));qe(eb.url,/^mapbox:\/\/([^/]*)$/)||qb.push(new Vc(`sources[${$a}]`,eb.url,"Source url must be a valid Mapbox tileset url"));$a=qb}$a.length||(eb=ma,Ga=q[Ga],Ga=Ga.url?Ga.url.split(",").length:0,ma=eb+Ga);Q.push(...$a)});15<ma&&Q.push(new Vc("sources",null,"Styles must contain 15 or fewer sources"));return Q}function nf(q,Q){const ma=[];Q=Ed(q,[...Q,"owner","id","cacheControl","draft","created","modified","visibility"]);ma.push(...Q);(8<q.version||
8>q.version)&&ma.push(new Vc("version",q.version,"Style version must be 8"));qe(q.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||ma.push(new Vc("glyphs",q.glyphs,"Styles must reference glyphs hosted by Mapbox"));qe(q.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||ma.push(new Vc("sprite",q.sprite,"Styles must reference sprites hosted by Mapbox"));qe(q.visibility,/^(public|private)$/)||ma.push(new Vc("visibility",q.visibility,"Style visibility must be public or private"));
return ma}var xc={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},Fe=/("(?:[^\\"]|\\.)*")|[:,]/g,ge=function(q,Q){Q=Q||{};var ma=JSON.stringify([1],void 0,void 0===Q.indent?2:Q.indent).slice(2,-3);var Ga=""===ma?Infinity:void 0===Q.maxLength?
80:Q.maxLength;var $a=Q.replacer;return function Ob(qb,Kb,Vb){qb&&"function"===typeof qb.toJSON&&(qb=qb.toJSON());var Dc=JSON.stringify(qb,$a);if(void 0===Dc)return Dc;Vb=Ga-Kb.length-Vb;if(Dc.length<=Vb){var Pc=Dc.replace(Fe,function(de,ae){return ae||de+" "});if(Pc.length<=Vb)return Pc}null!=$a&&(qb=JSON.parse(Dc),$a=void 0);if("object"===typeof qb&&null!==qb){var kd=Kb+ma;var ad=[];var Uc=0;if(Array.isArray(qb)){var Cc="[";Pc="]";for(Vb=qb.length;Uc<Vb;Uc++)ad.push(Ob(qb[Uc],kd,Uc===Vb-1?0:1)||
"null")}else{Cc="{";Pc="}";var jd=Object.keys(qb);for(Vb=jd.length;Uc<Vb;Uc++){var Od=jd[Uc];var Jd=JSON.stringify(Od)+": ";Od=Ob(qb[Od],kd,Jd.length+(Uc===Vb-1?0:1));void 0!==Od&&ad.push(Jd+Od)}}if(0<ad.length)return[Cc,ma+ad.join(",\n"+kd),Pc].join("\n"+Kb)}return Dc}(q,"",0)},Zb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof Ea?Ea:"undefined"!==typeof self?self:{},Je=L(function(q,Q){(function(ma){function Ga(Qd){throw RangeError(Jd[Qd]);}function $a(Qd,
Ud){for(var te=Qd.length,id=[];te--;)id[te]=Ud(Qd[te]);return id}function eb(Qd,Ud){var te=Qd.split("@"),id="";1<te.length&&(id=te[0]+"@",Qd=te[1]);Qd=Qd.replace(Od,".");Qd=Qd.split(".");Ud=$a(Qd,Ud).join(".");return id+Ud}function qb(Qd){for(var Ud=[],te=0,id=Qd.length,ue,Ff;te<id;)ue=Qd.charCodeAt(te++),55296<=ue&&56319>=ue&&te<id?(Ff=Qd.charCodeAt(te++),56320==(Ff&64512)?Ud.push(((ue&1023)<<10)+(Ff&1023)+65536):(Ud.push(ue),te--)):Ud.push(ue);return Ud}function Kb(Qd){return $a(Qd,function(Ud){var te=
"";65535<Ud&&(Ud-=65536,te+=ae(Ud>>>10&1023|55296),Ud=56320|Ud&1023);return te+=ae(Ud)}).join("")}function Vb(Qd,Ud){return Qd+22+75*(26>Qd)-((0!=Ud)<<5)}function Ob(Qd,Ud,te){var id=0;Qd=te?de(Qd/700):Qd>>1;for(Qd+=de(Qd/Ud);455<Qd;id+=36)Qd=de(Qd/35);return de(id+36*Qd/(Qd+38))}function Dc(Qd){var Ud=[],te=Qd.length,id=0,ue=128,Ff=72,ye,of;var $e=Qd.lastIndexOf("-");0>$e&&($e=0);for(ye=0;ye<$e;++ye)128<=Qd.charCodeAt(ye)&&Ga("not-basic"),Ud.push(Qd.charCodeAt(ye));for($e=0<$e?$e+1:0;$e<te;){ye=
id;var Xe=1;for(of=36;;of+=36){$e>=te&&Ga("invalid-input");var ff=Qd.charCodeAt($e++);ff=10>ff-48?ff-22:26>ff-65?ff-65:26>ff-97?ff-97:36;(36<=ff||ff>de((2147483647-id)/Xe))&&Ga("overflow");id+=ff*Xe;var Cf=of<=Ff?1:of>=Ff+26?26:of-Ff;if(ff<Cf)break;ff=36-Cf;Xe>de(2147483647/ff)&&Ga("overflow");Xe*=ff}Xe=Ud.length+1;Ff=Ob(id-ye,Xe,0==ye);de(id/Xe)>2147483647-ue&&Ga("overflow");ue+=de(id/Xe);id%=Xe;Ud.splice(id++,0,ue)}return Kb(Ud)}function Pc(Qd){var Ud,te,id,ue=[];Qd=qb(Qd);var Ff=Qd.length;var ye=
128;var of=0;var $e=72;for(id=0;id<Ff;++id){var Xe=Qd[id];128>Xe&&ue.push(ae(Xe))}for((Ud=te=ue.length)&&ue.push("-");Ud<Ff;){var ff=2147483647;for(id=0;id<Ff;++id)Xe=Qd[id],Xe>=ye&&Xe<ff&&(ff=Xe);var Cf=Ud+1;ff-ye>de((2147483647-of)/Cf)&&Ga("overflow");of+=(ff-ye)*Cf;ye=ff;for(id=0;id<Ff;++id)if(Xe=Qd[id],Xe<ye&&2147483647<++of&&Ga("overflow"),Xe==ye){var Zf=of;for(ff=36;;ff+=36){Xe=ff<=$e?1:ff>=$e+26?26:ff-$e;if(Zf<Xe)break;var tg=Zf-Xe;Zf=36-Xe;ue.push(ae(Vb(Xe+tg%Zf,0)));Zf=de(tg/Zf)}ue.push(ae(Vb(Zf,
0)));$e=Ob(of,Cf,Ud==te);of=0;++Ud}++of;++ye}return ue.join("")}var kd=Q&&!Q.nodeType&&Q,ad=q&&!q.nodeType&&q,Uc="object"==typeof Zb&&Zb;if(Uc.global===Uc||Uc.window===Uc||Uc.self===Uc)ma=Uc;var Cc=/^xn--/,jd=/[^\x20-\x7E]/,Od=/[\x2E\u3002\uFF0E\uFF61]/g,Jd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},de=Math.floor,ae=String.fromCharCode,kf;Uc={version:"1.3.2",ucs2:{decode:qb,encode:Kb},
decode:Dc,encode:Pc,toASCII:function(Qd){return eb(Qd,function(Ud){return jd.test(Ud)?"xn--"+Pc(Ud):Ud})},toUnicode:function(Qd){return eb(Qd,function(Ud){return Cc.test(Ud)?Dc(Ud.slice(4).toLowerCase()):Ud})}};if(kd&&ad)if(q.exports==kd)ad.exports=Uc;else for(kf in Uc)Uc.hasOwnProperty(kf)&&(kd[kf]=Uc[kf]);else ma.punycode=Uc})(Zb)}),he={isString:function(q){return"string"===typeof q},isObject:function(q){return"object"===typeof q&&null!==q},isNull:function(q){return null===q},isNullOrUndefined:function(q){return null==
q}},Pe=function(q,Q,ma,Ga){ma=ma||"\x3d";var $a={};if("string"!==typeof q||0===q.length)return $a;var eb=/\+/g;q=q.split(Q||"\x26");Q=1E3;Ga&&"number"===typeof Ga.maxKeys&&(Q=Ga.maxKeys);Ga=q.length;0<Q&&Ga>Q&&(Ga=Q);for(Q=0;Q<Ga;++Q){var qb=q[Q].replace(eb,"%20"),Kb=qb.indexOf(ma);if(0<=Kb){var Vb=qb.substr(0,Kb);qb=qb.substr(Kb+1)}else Vb=qb,qb="";Vb=decodeURIComponent(Vb);qb=decodeURIComponent(qb);Object.prototype.hasOwnProperty.call($a,Vb)?Array.isArray($a[Vb])?$a[Vb].push(qb):$a[Vb]=[$a[Vb],
qb]:$a[Vb]=qb}return $a},cf=function(q){switch(typeof q){case "string":return q;case "boolean":return q?"true":"false";case "number":return isFinite(q)?q:"";default:return""}},Ze=function(q,Q,ma,Ga){Q=Q||"\x26";ma=ma||"\x3d";null===q&&(q=void 0);return"object"===typeof q?Object.keys(q).map(function($a){var eb=encodeURIComponent(cf($a))+ma;return Array.isArray(q[$a])?q[$a].map(function(qb){return eb+encodeURIComponent(cf(qb))}).join(Q):eb+encodeURIComponent(cf(q[$a]))}).join(Q):Ga?encodeURIComponent(cf(Ga))+
ma+encodeURIComponent(cf(q)):""},vf=L(function(q,Q){Q.decode=Q.parse=Pe;Q.encode=Q.stringify=Ze}),Te=/^([a-z0-9.+-]+:)/i,sa=/:[0-9]*$/,Aa=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Xa="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),fb=["'"].concat(Xa),mb=["%","/","?",";","#"].concat(fb),Wb=["/","?","#"],jc=/^[+a-z0-9A-Z_-]{0,63}$/,Ec=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,tc={javascript:!0,"javascript:":!0},Fc={javascript:!0,"javascript:":!0},ed={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,
"ftp:":!0,"gopher:":!0,"file:":!0};v.prototype.parse=function(q,Q,ma){if(!he.isString(q))throw new TypeError("Parameter 'url' must be a string, not "+typeof q);var Ga=q.indexOf("?");Ga=-1!==Ga&&Ga<q.indexOf("#")?"?":"#";q=q.split(Ga);q[0]=q[0].replace(/\\/g,"/");q=q.join(Ga);Ga=q.trim();if(!ma&&1===q.split("#").length&&(q=Aa.exec(Ga)))return this.href=this.path=Ga,this.pathname=q[1],q[2]?(this.search=q[2],this.query=Q?vf.parse(this.search.substr(1)):this.search.substr(1)):Q&&(this.search="",this.query=
{}),this;if(q=Te.exec(Ga)){q=q[0];var $a=q.toLowerCase();this.protocol=$a;Ga=Ga.substr(q.length)}if(ma||q||Ga.match(/^\/\/[^@\/]+@[^@\/]+/)){var eb="//"===Ga.substr(0,2);!eb||q&&Fc[q]||(Ga=Ga.substr(2),this.slashes=!0)}if(!Fc[q]&&(eb||q&&!ed[q])){eb=-1;for(ma=0;ma<Wb.length;ma++)q=Ga.indexOf(Wb[ma]),-1!==q&&(-1===eb||q<eb)&&(eb=q);eb=-1===eb?Ga.lastIndexOf("@"):Ga.lastIndexOf("@",eb);-1!==eb&&(ma=Ga.slice(0,eb),Ga=Ga.slice(eb+1),this.auth=decodeURIComponent(ma));eb=-1;for(ma=0;ma<mb.length;ma++)q=
Ga.indexOf(mb[ma]),-1!==q&&(-1===eb||q<eb)&&(eb=q);-1===eb&&(eb=Ga.length);this.host=Ga.slice(0,eb);Ga=Ga.slice(eb);this.parseHost();this.hostname=this.hostname||"";eb="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!eb){var qb=this.hostname.split(/\./);ma=0;for(q=qb.length;ma<q;ma++){var Kb=qb[ma];if(Kb&&!Kb.match(jc)){for(var Vb="",Ob=0,Dc=Kb.length;Ob<Dc;Ob++)Vb=127<Kb.charCodeAt(Ob)?Vb+"x":Vb+Kb[Ob];if(!Vb.match(jc)){q=qb.slice(0,ma);ma=qb.slice(ma+1);if(Kb=Kb.match(Ec))q.push(Kb[1]),
ma.unshift(Kb[2]);ma.length&&(Ga="/"+ma.join(".")+Ga);this.hostname=q.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();eb||(this.hostname=Je.toASCII(this.hostname));ma=this.port?":"+this.port:"";this.host=(this.hostname||"")+ma;this.href+=this.host;eb&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Ga[0]&&(Ga="/"+Ga))}if(!tc[$a])for(ma=0,q=fb.length;ma<q;ma++)eb=fb[ma],-1!==Ga.indexOf(eb)&&(Kb=encodeURIComponent(eb),Kb===eb&&(Kb=escape(eb)),
Ga=Ga.split(eb).join(Kb));ma=Ga.indexOf("#");-1!==ma&&(this.hash=Ga.substr(ma),Ga=Ga.slice(0,ma));ma=Ga.indexOf("?");-1!==ma?(this.search=Ga.substr(ma),this.query=Ga.substr(ma+1),Q&&(this.query=vf.parse(this.query)),Ga=Ga.slice(0,ma)):Q&&(this.search="",this.query={});Ga&&(this.pathname=Ga);ed[$a]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)ma=this.pathname||"",this.path=ma+(this.search||"");this.href=this.format();return this};v.prototype.format=function(){var q=
this.auth||"";q&&(q=encodeURIComponent(q),q=q.replace(/%3A/i,":"),q+="@");var Q=this.protocol||"",ma=this.pathname||"",Ga=this.hash||"",$a=!1,eb="";this.host?$a=q+this.host:this.hostname&&($a=q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&($a+=":"+this.port));this.query&&he.isObject(this.query)&&Object.keys(this.query).length&&(eb=vf.stringify(this.query));q=this.search||eb&&"?"+eb||"";Q&&":"!==Q.substr(-1)&&(Q+=":");this.slashes||(!Q||ed[Q])&&!1!==$a?($a="//"+
($a||""),ma&&"/"!==ma.charAt(0)&&(ma="/"+ma)):$a||($a="");Ga&&"#"!==Ga.charAt(0)&&(Ga="#"+Ga);q&&"?"!==q.charAt(0)&&(q="?"+q);ma=ma.replace(/[?#]/g,function(qb){return encodeURIComponent(qb)});q=q.replace("#","%23");return Q+$a+ma+q+Ga};v.prototype.resolve=function(q){return this.resolveObject(u(q,!1,!0)).format()};v.prototype.resolveObject=function(q){if(he.isString(q)){var Q=new v;Q.parse(q,!1,!0);q=Q}Q=new v;for(var ma=Object.keys(this),Ga=0;Ga<ma.length;Ga++){var $a=ma[Ga];Q[$a]=this[$a]}Q.hash=
q.hash;if(""===q.href)return Q.href=Q.format(),Q;if(q.slashes&&!q.protocol){ma=Object.keys(q);for(Ga=0;Ga<ma.length;Ga++)$a=ma[Ga],"protocol"!==$a&&(Q[$a]=q[$a]);ed[Q.protocol]&&Q.hostname&&!Q.pathname&&(Q.path=Q.pathname="/");Q.href=Q.format();return Q}if(q.protocol&&q.protocol!==Q.protocol){if(!ed[q.protocol]){ma=Object.keys(q);for(Ga=0;Ga<ma.length;Ga++)$a=ma[Ga],Q[$a]=q[$a];Q.href=Q.format();return Q}Q.protocol=q.protocol;if(q.host||Fc[q.protocol])Q.pathname=q.pathname;else{for(var eb=(q.pathname||
"").split("/");eb.length&&!(q.host=eb.shift()););q.host||(q.host="");q.hostname||(q.hostname="");""!==eb[0]&&eb.unshift("");2>eb.length&&eb.unshift("");Q.pathname=eb.join("/")}Q.search=q.search;Q.query=q.query;Q.host=q.host||"";Q.auth=q.auth;Q.hostname=q.hostname||q.host;Q.port=q.port;if(Q.pathname||Q.search)Q.path=(Q.pathname||"")+(Q.search||"");Q.slashes=Q.slashes||q.slashes;Q.href=Q.format();return Q}ma=Q.pathname&&"/"===Q.pathname.charAt(0);var qb=q.host||q.pathname&&"/"===q.pathname.charAt(0),
Kb=ma=qb||ma||Q.host&&q.pathname;Ga=Q.pathname&&Q.pathname.split("/")||[];eb=q.pathname&&q.pathname.split("/")||[];if($a=Q.protocol&&!ed[Q.protocol])Q.hostname="",Q.port=null,Q.host&&(""===Ga[0]?Ga[0]=Q.host:Ga.unshift(Q.host)),Q.host="",q.protocol&&(q.hostname=null,q.port=null,q.host&&(""===eb[0]?eb[0]=q.host:eb.unshift(q.host)),q.host=null),ma=ma&&(""===eb[0]||""===Ga[0]);if(qb)Q.host=q.host||""===q.host?q.host:Q.host,Q.hostname=q.hostname||""===q.hostname?q.hostname:Q.hostname,Q.search=q.search,
Q.query=q.query,Ga=eb;else if(eb.length)Ga||(Ga=[]),Ga.pop(),Ga=Ga.concat(eb),Q.search=q.search,Q.query=q.query;else if(!he.isNullOrUndefined(q.search))return $a&&(Q.hostname=Q.host=Ga.shift(),$a=Q.host&&0<Q.host.indexOf("@")?Q.host.split("@"):!1)&&(Q.auth=$a.shift(),Q.host=Q.hostname=$a.shift()),Q.search=q.search,Q.query=q.query,he.isNull(Q.pathname)&&he.isNull(Q.search)||(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:"")),Q.href=Q.format(),Q;if(!Ga.length)return Q.pathname=null,Q.path=Q.search?
"/"+Q.search:null,Q.href=Q.format(),Q;qb=Ga.slice(-1)[0];eb=(Q.host||q.host||1<Ga.length)&&("."===qb||".."===qb)||""===qb;for(var Vb=0,Ob=Ga.length;0<=Ob;Ob--)qb=Ga[Ob],"."===qb?Ga.splice(Ob,1):".."===qb?(Ga.splice(Ob,1),Vb++):Vb&&(Ga.splice(Ob,1),Vb--);if(!ma&&!Kb)for(;Vb--;Vb)Ga.unshift("..");!ma||""===Ga[0]||Ga[0]&&"/"===Ga[0].charAt(0)||Ga.unshift("");eb&&"/"!==Ga.join("/").substr(-1)&&Ga.push("");Kb=""===Ga[0]||Ga[0]&&"/"===Ga[0].charAt(0);$a&&(Q.hostname=Q.host=Kb?"":Ga.length?Ga.shift():"",
$a=Q.host&&0<Q.host.indexOf("@")?Q.host.split("@"):!1)&&(Q.auth=$a.shift(),Q.host=Q.hostname=$a.shift());(ma=ma||Q.host&&Ga.length)&&!Kb&&Ga.unshift("");Ga.length?Q.pathname=Ga.join("/"):(Q.pathname=null,Q.path=null);he.isNull(Q.pathname)&&he.isNull(Q.search)||(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:""));Q.auth=q.auth||Q.auth;Q.slashes=Q.slashes||q.slashes;Q.href=Q.format();return Q};v.prototype.parseHost=function(){var q=this.host,Q=sa.exec(q);Q&&(Q=Q[0],":"!==Q&&(this.port=Q.substr(1)),
q=q.substr(0,q.length-Q.length));q&&(this.hostname=q)};var fd={parse:u,resolve:function(q,Q){return u(q,!1,!0).resolve(Q)},resolveObject:function(q,Q){return q?u(q,!1,!0).resolveObject(Q):Q},format:function(q){he.isString(q)&&(q=u(q));return q instanceof v?q.format():v.prototype.format.call(q)},Url:v};class ie extends Error{constructor(q,Q){super(Q);this.message=Q;this.key=q}}class zd{constructor(q,Q=[]){this.parent=q;this.bindings={};for(const [ma,Ga]of Q)this.bindings[ma]=Ga}concat(q){return new zd(this,
q)}get(q){if(this.bindings[q])return this.bindings[q];if(this.parent)return this.parent.get(q);throw Error(`${q} not found in scope.`);}has(q){return this.bindings[q]?!0:this.parent?this.parent.has(q):!1}}const sd={kind:"null"},Zc={kind:"number"},Md={kind:"string"},Id={kind:"boolean"},Ue={kind:"color"},zf={kind:"object"},Wc={kind:"value"},xe={kind:"collator"},Me={kind:"formatted"},Ee={kind:"resolvedImage"},Ef=[sd,Zc,Md,Id,Ue,Me,zf,C(Wc),Ee];var yf=L(function(q,Q){function ma(Ob){Ob=Math.round(Ob);
return 0>Ob?0:255<Ob?255:Ob}function Ga(Ob){return 0>Ob?0:1<Ob?1:Ob}function $a(Ob){return"%"===Ob[Ob.length-1]?ma(parseFloat(Ob)/100*255):ma(parseInt(Ob))}function eb(Ob){return"%"===Ob[Ob.length-1]?Ga(parseFloat(Ob)/100):Ga(parseFloat(Ob))}function qb(Ob,Dc,Pc){0>Pc?Pc+=1:1<Pc&&--Pc;return 1>6*Pc?Ob+(Dc-Ob)*Pc*6:1>2*Pc?Dc:2>3*Pc?Ob+(Dc-Ob)*(2/3-Pc)*6:Ob}function Kb(Ob){Ob=Ob.replace(/ /g,"").toLowerCase();if(Ob in Vb)return Vb[Ob].slice();if("#"===Ob[0])return 4===Ob.length?(Ob=parseInt(Ob.substr(1),
16),0<=Ob&&4095>=Ob?[(Ob&3840)>>4|(Ob&3840)>>8,Ob&240|(Ob&240)>>4,Ob&15|(Ob&15)<<4,1]:null):7===Ob.length?(Ob=parseInt(Ob.substr(1),16),0<=Ob&&16777215>=Ob?[(Ob&16711680)>>16,(Ob&65280)>>8,Ob&255,1]:null):null;var Dc=Ob.indexOf("("),Pc=Ob.indexOf(")");if(-1!==Dc&&Pc+1===Ob.length){var kd=Ob.substr(0,Dc);Dc=Ob.substr(Dc+1,Pc-(Dc+1)).split(",");Ob=1;switch(kd){case "rgba":if(4!==Dc.length)break;Ob=eb(Dc.pop());case "rgb":if(3!==Dc.length)break;return[$a(Dc[0]),$a(Dc[1]),$a(Dc[2]),Ob];case "hsla":if(4!==
Dc.length)break;Ob=eb(Dc.pop());case "hsl":if(3===Dc.length)return kd=(parseFloat(Dc[0])%360+360)%360/360,Pc=eb(Dc[1]),Dc=eb(Dc[2]),Pc=.5>=Dc?Dc*(Pc+1):Dc+Pc-Dc*Pc,Dc=2*Dc-Pc,[ma(255*qb(Dc,Pc,kd+1/3)),ma(255*qb(Dc,Pc,kd)),ma(255*qb(Dc,Pc,kd-1/3)),Ob]}}return null}var Vb={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,
205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,
220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,
250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,
170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,
192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{Q.parseCSSColor=Kb}catch(Ob){}}).parseCSSColor;class re{constructor(q,
Q,ma,Ga=1){this.r=q;this.g=Q;this.b=ma;this.a=Ga}static parse(q){if(q){if(q instanceof re)return q;if("string"===typeof q&&(q=yf(q)))return new re(q[0]/255*q[3],q[1]/255*q[3],q[2]/255*q[3],q[3])}}toString(){const [q,Q,ma,Ga]=this.toArray();return`rgba(${Math.round(q)},${Math.round(Q)},${Math.round(ma)},${Ga})`}toArray(){const {r:q,g:Q,b:ma,a:Ga}=this;return 0===Ga?[0,0,0,0]:[255*q/Ga,255*Q/Ga,255*ma/Ga,Ga]}}re.black=new re(0,0,0,1);re.white=new re(1,1,1,1);re.transparent=new re(0,0,0,0);re.red=new re(1,
0,0,1);re.blue=new re(0,0,1,1);class Qe{constructor(q,Q,ma){this.sensitivity=q?Q?"variant":"case":Q?"accent":"base";this.locale=ma;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(q,Q){return this.collator.compare(q,Q)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class va{constructor(q,Q,ma,Ga,$a){this.text=q;this.image=Q;this.scale=ma;this.fontStack=Ga;this.textColor=$a}}class Ka{constructor(q){this.sections=
q}static fromString(q){return new Ka([new va(q,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(q=>0!==q.text.length||q.image&&0!==q.image.name.length)}static factory(q){return q instanceof Ka?q:Ka.fromString(q)}toString(){return 0===this.sections.length?"":this.sections.map(q=>q.text).join("")}serialize(){const q=["format"];for(const Q of this.sections){if(Q.image){q.push(["image",Q.image.name]);continue}q.push(Q.text);const ma={};Q.fontStack&&(ma["text-font"]=
["literal",Q.fontStack.split(",")]);Q.scale&&(ma["font-scale"]=Q.scale);Q.textColor&&(ma["text-color"]=["rgba"].concat(Q.textColor.toArray()));q.push(ma)}return q}}class sb{constructor(q){this.name=q.name;this.available=q.available}toString(){return this.name}static fromString(q){return q?new sb({name:q,available:!1}):null}serialize(){return["image",this.name]}}class Pb{constructor(q,Q){this.type=q;this.value=Q}static parse(q,Q){if(2!==q.length)return Q.error(`'literal' expression requires exactly one argument, but found ${q.length-
1} instead.`);if(!H(q[1]))return Q.error("invalid value");q=q[1];let ma=S(q);Q=Q.expectedType;"array"!==ma.kind||0!==ma.N||!Q||"array"!==Q.kind||"number"===typeof Q.N&&0!==Q.N||(ma=Q);return new Pb(ma,q)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof re?["rgba"].concat(this.value.toArray()):this.value instanceof Ka?this.value.serialize():this.value}}class Mb{constructor(q){this.name=
"ExpressionEvaluationError";this.message=q}toJSON(){return this.message}}const Yb={string:Md,number:Zc,boolean:Id,object:zf};class ec{constructor(q,Q){this.type=q;this.args=Q}static parse(q,Q){if(2>q.length)return Q.error("Expected at least one argument.");let ma=1;var Ga=q[0];if("array"===Ga){if(2<q.length){Ga=q[1];if("string"!==typeof Ga||!(Ga in Yb)||"object"===Ga)return Q.error('The item type argument of "array" must be one of string, number, boolean',1);Ga=Yb[Ga];ma++}else Ga=Wc;if(3<q.length){if(null!==
q[2]&&("number"!==typeof q[2]||0>q[2]||q[2]!==Math.floor(q[2])))return Q.error('The length argument to "array" must be a positive integer literal',2);var $a=q[2];ma++}$a=C(Ga,$a)}else $a=Yb[Ga];for(Ga=[];ma<q.length;ma++){const eb=Q.parse(q[ma],ma,Wc);if(!eb)return null;Ga.push(eb)}return new ec($a,Ga)}evaluate(q){for(let Q=0;Q<this.args.length;Q++){const ma=this.args[Q].evaluate(q);if(!K(this.type,S(ma)))return ma;if(Q===this.args.length-1)throw new Mb(`Expected value to be of type ${N(this.type)}, but found ${N(S(ma))} instead.`);
}return null}eachChild(q){this.args.forEach(q)}outputDefined(){return this.args.every(q=>q.outputDefined())}serialize(){var q=this.type;const Q=[q.kind];if("array"===q.kind){const ma=q.itemType;if("string"===ma.kind||"number"===ma.kind||"boolean"===ma.kind)Q.push(ma.kind),q=q.N,("number"===typeof q||1<this.args.length)&&Q.push(q)}return Q.concat(this.args.map(ma=>ma.serialize()))}}class Tc{constructor(q){this.type=Me;this.sections=q}static parse(q,Q){if(2>q.length)return Q.error("Expected at least one argument.");
var ma=q[1];if(!Array.isArray(ma)&&"object"===typeof ma)return Q.error("First argument must be an image or text section.");ma=[];var Ga=!1;for(let qb=1;qb<=q.length-1;++qb){var $a=q[qb];if(Ga&&"object"===typeof $a&&!Array.isArray($a)){Ga=!1;var eb=null;if($a["font-scale"]&&(eb=Q.parse($a["font-scale"],1,Zc),!eb))return null;let Kb=null;if($a["text-font"]&&(Kb=Q.parse($a["text-font"],1,C(Md)),!Kb))return null;let Vb=null;if($a["text-color"]&&(Vb=Q.parse($a["text-color"],1,Ue),!Vb))return null;$a=ma[ma.length-
1];$a.scale=eb;$a.font=Kb;$a.textColor=Vb}else{eb=Q.parse(q[qb],1,Wc);if(!eb)return null;Ga=eb.type.kind;if("string"!==Ga&&"value"!==Ga&&"null"!==Ga&&"resolvedImage"!==Ga)return Q.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ga=!0;ma.push({content:eb,scale:null,font:null,textColor:null})}}return new Tc(ma)}evaluate(q){return new Ka(this.sections.map(Q=>{const ma=Q.content.evaluate(q);return S(ma)===Ee?new va("",ma,null,null,null):new va(U(ma),null,Q.scale?Q.scale.evaluate(q):
null,Q.font?Q.font.evaluate(q).join(","):null,Q.textColor?Q.textColor.evaluate(q):null)}))}eachChild(q){for(const Q of this.sections)q(Q.content),Q.scale&&q(Q.scale),Q.font&&q(Q.font),Q.textColor&&q(Q.textColor)}outputDefined(){return!1}serialize(){const q=["format"];for(const Q of this.sections){q.push(Q.content.serialize());const ma={};Q.scale&&(ma["font-scale"]=Q.scale.serialize());Q.font&&(ma["text-font"]=Q.font.serialize());Q.textColor&&(ma["text-color"]=Q.textColor.serialize());q.push(ma)}return q}}
class Ic{constructor(q){this.type=Ee;this.input=q}static parse(q,Q){return 2!==q.length?Q.error("Expected two arguments."):(q=Q.parse(q[1],1,Md))?new Ic(q):Q.error("No image name provided.")}evaluate(q){const Q=this.input.evaluate(q),ma=sb.fromString(Q);ma&&q.availableImages&&(ma.available=-1<q.availableImages.indexOf(Q));return ma}eachChild(q){q(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const bd={"to-boolean":Id,"to-color":Ue,"to-number":Zc,"to-string":Md};
class od{constructor(q,Q){this.type=q;this.args=Q}static parse(q,Q){if(2>q.length)return Q.error("Expected at least one argument.");var ma=q[0];if(("to-boolean"===ma||"to-string"===ma)&&2!==q.length)return Q.error("Expected one argument.");ma=bd[ma];const Ga=[];for(let $a=1;$a<q.length;$a++){const eb=Q.parse(q[$a],$a,Wc);if(!eb)return null;Ga.push(eb)}return new od(ma,Ga)}evaluate(q){if("boolean"===this.type.kind)return!!this.args[0].evaluate(q);if("color"===this.type.kind){for(const $a of this.args){var Q=
$a.evaluate(q);var ma=null;if(Q instanceof re)return Q;if("string"===typeof Q){var Ga=q.parseColor(Q);if(Ga)return Ga}else if(Array.isArray(Q)&&(ma=3>Q.length||4<Q.length?`Invalid rbga value ${JSON.stringify(Q)}: expected an array containing either three or four numeric values.`:D(Q[0],Q[1],Q[2],Q[3]),!ma))return new re(Q[0]/255,Q[1]/255,Q[2]/255,Q[3])}throw new Mb(ma||`Could not parse color from value '${"string"===typeof Q?Q:String(JSON.stringify(Q))}'`);}if("number"===this.type.kind){Q=null;for(Ga of this.args){Q=
Ga.evaluate(q);if(null===Q)return 0;ma=Number(Q);if(!isNaN(ma))return ma}throw new Mb(`Could not convert ${JSON.stringify(Q)} to number.`);}return"formatted"===this.type.kind?Ka.fromString(U(this.args[0].evaluate(q))):"resolvedImage"===this.type.kind?sb.fromString(U(this.args[0].evaluate(q))):U(this.args[0].evaluate(q))}eachChild(q){this.args.forEach(q)}outputDefined(){return this.args.every(q=>q.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new Tc([{content:this.args[0],scale:null,
font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Ic(this.args[0])).serialize();const q=[`to-${this.type.kind}`];this.eachChild(Q=>{q.push(Q.serialize())});return q}}const Nd=["Unknown","Point","LineString","Polygon"];class Wd{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?
"number"===typeof this.feature.type?Nd[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(q){let Q=this._parseColorCache[q];Q||(Q=this._parseColorCache[q]=re.parse(q));return Q}}class rd{constructor(q,Q,ma,Ga){this.name=q;this.type=Q;this._evaluate=ma;this.args=Ga}evaluate(q){return this._evaluate(q,this.args)}eachChild(q){this.args.forEach(q)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(q=>
q.serialize()))}static parse(q,Q){var ma=q[0],Ga=rd.definitions[ma];if(!Ga)return Q.error(`Unknown expression "${ma}". If you wanted a literal array, use ["literal", [...]].`,0);var $a=Array.isArray(Ga)?Ga[0]:Ga.type;Ga=Array.isArray(Ga)?[[Ga[1],Ga[2]]]:Ga.overloads;var eb=Ga.filter(([Dc])=>!Array.isArray(Dc)||Dc.length===q.length-1);let qb=null;for(const [Dc,Pc]of eb){qb=new $d(Q.registry,Q.path,null,Q.scope);const kd=[];var Kb=!1;for(var Vb=1;Vb<q.length;Vb++){var Ob=q[Vb];const ad=Array.isArray(Dc)?
Dc[Vb-1]:Dc.type;Ob=qb.parse(Ob,1+kd.length,ad);if(!Ob){Kb=!0;break}kd.push(Ob)}if(!Kb)if(Array.isArray(Dc)&&Dc.length!==kd.length)qb.error(`Expected ${Dc.length} arguments, but found ${kd.length} instead.`);else{for(Kb=0;Kb<kd.length;Kb++)Vb=Array.isArray(Dc)?Dc[Kb]:Dc.type,Ob=kd[Kb],qb.concat(Kb+1).checkSubtype(Vb,Ob.type);if(0===qb.errors.length)return new rd(ma,$a,Pc,kd)}}if(1===eb.length)Q.errors.push(...qb.errors);else{ma=(eb.length?eb:Ga).map(([Dc])=>{Dc=Array.isArray(Dc)?`(${Dc.map(N).join(", ")})`:
`(${N(Dc.type)}...)`;return Dc}).join(" | ");$a=[];for(Ga=1;Ga<q.length;Ga++){eb=Q.parse(q[Ga],1+$a.length);if(!eb)return null;$a.push(N(eb.type))}Q.error(`Expected arguments of type ${ma}, but found (${$a.join(", ")}) instead.`)}return null}static register(q,Q){rd.definitions=Q;for(const ma in Q)q[ma]=rd}}class Ge{constructor(q,Q,ma){this.type=xe;this.locale=ma;this.caseSensitive=q;this.diacriticSensitive=Q}static parse(q,Q){if(2!==q.length)return Q.error("Expected one argument.");q=q[1];if("object"!==
typeof q||Array.isArray(q))return Q.error("Collator options argument must be an object.");const ma=Q.parse(void 0===q["case-sensitive"]?!1:q["case-sensitive"],1,Id);if(!ma)return null;const Ga=Q.parse(void 0===q["diacritic-sensitive"]?!1:q["diacritic-sensitive"],1,Id);if(!Ga)return null;let $a=null;return q.locale&&($a=Q.parse(q.locale,1,Md),!$a)?null:new Ge(ma,Ga,$a)}evaluate(q){return new Qe(this.caseSensitive.evaluate(q),this.diacriticSensitive.evaluate(q),this.locale?this.locale.evaluate(q):null)}eachChild(q){q(this.caseSensitive);
q(this.diacriticSensitive);this.locale&&q(this.locale)}outputDefined(){return!1}serialize(){const q={};q["case-sensitive"]=this.caseSensitive.serialize();q["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(q.locale=this.locale.serialize());return["collator",q]}}class Hd{constructor(q,Q){this.type=Id;this.geojson=q;this.geometries=Q}static parse(q,Q){if(2!==q.length)return Q.error(`'within' expression requires exactly one argument, but found ${q.length-1} instead.`);if(H(q[1]))if(q=
q[1],"FeatureCollection"===q.type)for(var ma=0;ma<q.features.length;++ma){const Ga=q.features[ma].geometry.type;if("Polygon"===Ga||"MultiPolygon"===Ga)return new Hd(q,q.features[ma].geometry)}else if("Feature"===q.type){if(ma=q.geometry.type,"Polygon"===ma||"MultiPolygon"===ma)return new Hd(q,q.geometry)}else if("Polygon"===q.type||"MultiPolygon"===q.type)return new Hd(q,q);return Q.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(q){if(null!=
q.geometry()&&null!=q.canonicalID()){if("Point"===q.geometryType())return wa(q,this.geometries);if("LineString"===q.geometryType())return xa(q,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class se{constructor(q,Q){this.type=Q.type;this.name=q;this.boundExpression=Q}static parse(q,Q){if(2!==q.length||"string"!==typeof q[1])return Q.error("'var' expression requires exactly one string literal argument.");q=q[1];return Q.scope.has(q)?new se(q,
Q.scope.get(q)):Q.error(`Unknown variable "${q}". Make sure "${q}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(q){return this.boundExpression.evaluate(q)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class $d{constructor(q,Q=[],ma,Ga=new zd,$a=[]){this.registry=q;this.path=Q;this.key=Q.map(eb=>`[${eb}]`).join("");this.scope=Ga;this.errors=$a;this.expectedType=ma}parse(q,Q,ma,Ga,$a={}){return Q?this.concat(Q,ma,Ga)._parse(q,$a):this._parse(q,
$a)}_parse(q,Q){function ma(eb,qb,Kb){return"assert"===Kb?new ec(qb,[eb]):"coerce"===Kb?new od(qb,[eb]):eb}if(null===q||"string"===typeof q||"boolean"===typeof q||"number"===typeof q)q=["literal",q];if(Array.isArray(q)){if(0===q.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Ga=q[0];if("string"!==typeof Ga)return this.error(`Expression name must be a string, but found ${typeof Ga} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var $a=this.registry[Ga];if($a){q=$a.parse(q,this);if(!q)return null;if(this.expectedType)if(Ga=this.expectedType,$a=q.type,("string"===Ga.kind||"number"===Ga.kind||"boolean"===Ga.kind||"object"===Ga.kind||"array"===Ga.kind)&&"value"===$a.kind)q=ma(q,Ga,Q.typeAnnotation||"assert");else if(!("color"!==Ga.kind&&"formatted"!==Ga.kind&&"resolvedImage"!==Ga.kind||"value"!==$a.kind&&"string"!==$a.kind))q=ma(q,Ga,Q.typeAnnotation||"coerce");else if(this.checkSubtype(Ga,$a))return null;if(!(q instanceof
Pb)&&"resolvedImage"!==q.type.kind&&ra(q)){Q=new Wd;try{q=new Pb(q.type,q.evaluate(Q))}catch(eb){return this.error(eb.message),null}}return q}return this.error(`Unknown expression "${Ga}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof q?this.error("'undefined' value invalid. Use null instead."):"object"===typeof q?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof q} instead.`)}concat(q,Q,ma){q=
"number"===typeof q?this.path.concat(q):this.path;ma=ma?this.scope.concat(ma):this.scope;return new $d(this.registry,q,Q||null,ma,this.errors)}error(q,...Q){Q=`${this.key}${Q.map(ma=>`[${ma}]`).join("")}`;this.errors.push(new ie(Q,q))}checkSubtype(q,Q){(q=K(q,Q))&&this.error(q);return q}}class oe{constructor(q,Q,ma){this.type=q;this.input=Q;this.labels=[];this.outputs=[];for(const [Ga,$a]of ma)this.labels.push(Ga),this.outputs.push($a)}static parse(q,Q){if(4>q.length-1)return Q.error(`Expected at least 4 arguments, but found only ${q.length-
1}.`);if(0!==(q.length-1)%2)return Q.error("Expected an even number of arguments.");const ma=Q.parse(q[1],1,Zc);if(!ma)return null;const Ga=[];let $a=null;Q.expectedType&&"value"!==Q.expectedType.kind&&($a=Q.expectedType);for(let qb=1;qb<q.length;qb+=2){const Kb=1===qb?-Infinity:q[qb];var eb=q[qb+1];const Vb=qb,Ob=qb+1;if("number"!==typeof Kb)return Q.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Vb);
if(Ga.length&&Ga[Ga.length-1][0]>=Kb)return Q.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Vb);eb=Q.parse(eb,Ob,$a);if(!eb)return null;$a=$a||eb.type;Ga.push([Kb,eb])}return new oe($a,ma,Ga)}evaluate(q){var Q=this.labels;const ma=this.outputs;if(1===Q.length)return ma[0].evaluate(q);const Ga=this.input.evaluate(q);if(Ga<=Q[0])return ma[0].evaluate(q);const $a=Q.length;if(Ga>=Q[$a-1])return ma[$a-1].evaluate(q);Q=Na(Q,Ga);return ma[Q].evaluate(q)}eachChild(q){q(this.input);
for(const Q of this.outputs)q(Q)}outputDefined(){return this.outputs.every(q=>q.outputDefined())}serialize(){const q=["step",this.input.serialize()];for(let Q=0;Q<this.labels.length;Q++)0<Q&&q.push(this.labels[Q]),q.push(this.outputs[Q].serialize());return q}}Ta.prototype.sampleCurveX=function(q){return((this.ax*q+this.bx)*q+this.cx)*q};Ta.prototype.sampleCurveY=function(q){return((this.ay*q+this.by)*q+this.cy)*q};Ta.prototype.sampleCurveDerivativeX=function(q){return(3*this.ax*q+2*this.bx)*q+this.cx};
Ta.prototype.solveCurveX=function(q,Q){"undefined"===typeof Q&&(Q=1E-6);var ma;var Ga=q;for(ma=0;8>ma;ma++){var $a=this.sampleCurveX(Ga)-q;if(Math.abs($a)<Q)return Ga;var eb=this.sampleCurveDerivativeX(Ga);if(1E-6>Math.abs(eb))break;Ga-=$a/eb}ma=0;eb=1;Ga=q;if(Ga<ma)return ma;if(Ga>eb)return eb;for(;ma<eb;){$a=this.sampleCurveX(Ga);if(Math.abs($a-q)<Q)break;q>$a?ma=Ga:eb=Ga;Ga=.5*(eb-ma)+ma}return Ga};Ta.prototype.solve=function(q,Q){return this.sampleCurveY(this.solveCurveX(q,Q))};var uf=Object.freeze({__proto__:null,
number:za,color:function(q,Q,ma){return new re(za(q.r,Q.r,ma),za(q.g,Q.g,ma),za(q.b,Q.b,ma),za(q.a,Q.a,ma))},array:function(q,Q,ma){return q.map((Ga,$a)=>za(Ga,Q[$a],ma))}});const Xd=4/29,Se=6/29,He=3*Se*Se,Jf=Se*Se*Se,bf=Math.PI/180,Uf=180/Math.PI,ta={forward:P,reverse:ca,interpolate:function(q,Q,ma){return{l:za(q.l,Q.l,ma),a:za(q.a,Q.a,ma),b:za(q.b,Q.b,ma),alpha:za(q.alpha,Q.alpha,ma)}}},ua={forward:function(q){const {l:Q,a:ma,b:Ga}=P(q),$a=Math.atan2(Ga,ma)*Uf;return{h:0>$a?$a+360:$a,c:Math.sqrt(ma*
ma+Ga*Ga),l:Q,alpha:q.a}},reverse:function(q){const Q=q.h*bf,ma=q.c;return ca({l:q.l,a:Math.cos(Q)*ma,b:Math.sin(Q)*ma,alpha:q.alpha})},interpolate:function(q,Q,ma){{var Ga=q.h;const $a=Q.h-Ga;Ga+=ma*(180<$a||-180>$a?$a-360*Math.round($a/360):$a)}return{h:Ga,c:za(q.c,Q.c,ma),l:za(q.l,Q.l,ma),alpha:za(q.alpha,Q.alpha,ma)}}};var Ia=Object.freeze({__proto__:null,lab:ta,hcl:ua});class La{constructor(q,Q,ma,Ga,$a){this.type=q;this.operator=Q;this.interpolation=ma;this.input=Ga;this.labels=[];this.outputs=
[];for(const [eb,qb]of $a)this.labels.push(eb),this.outputs.push(qb)}static interpolationFactor(q,Q,ma,Ga){let $a=0;"exponential"===q.name?$a=ea(Q,q.base,ma,Ga):"linear"===q.name?$a=ea(Q,1,ma,Ga):"cubic-bezier"===q.name&&(q=q.controlPoints,$a=(new Ta(q[0],q[1],q[2],q[3])).solve(ea(Q,1,ma,Ga)));return $a}static parse(q,Q){let [ma,Ga,$a,...eb]=q;if(!Array.isArray(Ga)||0===Ga.length)return Q.error("Expected an interpolation type expression.",1);if("linear"===Ga[0])Ga={name:"linear"};else if("exponential"===
Ga[0]){var qb=Ga[1];if("number"!==typeof qb)return Q.error("Exponential interpolation requires a numeric base.",1,1);Ga={name:"exponential",base:qb}}else if("cubic-bezier"===Ga[0]){qb=Ga.slice(1);if(4!==qb.length||qb.some(Vb=>"number"!==typeof Vb||0>Vb||1<Vb))return Q.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Ga={name:"cubic-bezier",controlPoints:qb}}else return Q.error(`Unknown interpolation type ${String(Ga[0])}`,1,0);if(4>q.length-1)return Q.error(`Expected at least 4 arguments, but found only ${q.length-
1}.`);if(0!==(q.length-1)%2)return Q.error("Expected an even number of arguments.");$a=Q.parse($a,2,Zc);if(!$a)return null;q=[];qb=null;"interpolate-hcl"===ma||"interpolate-lab"===ma?qb=Ue:Q.expectedType&&"value"!==Q.expectedType.kind&&(qb=Q.expectedType);for(let Vb=0;Vb<eb.length;Vb+=2){const Ob=eb[Vb];var Kb=eb[Vb+1];const Dc=Vb+3,Pc=Vb+4;if("number"!==typeof Ob)return Q.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Dc);if(q.length&&q[q.length-1][0]>=Ob)return Q.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Dc);Kb=Q.parse(Kb,Pc,qb);if(!Kb)return null;qb=qb||Kb.type;q.push([Ob,Kb])}return"number"===qb.kind||"color"===qb.kind||"array"===qb.kind&&"number"===qb.itemType.kind&&"number"===typeof qb.N?new La(qb,ma,Ga,$a,q):Q.error(`Type ${N(qb)} is not interpolatable.`)}evaluate(q){var Q=this.labels;const ma=this.outputs;if(1===Q.length)return ma[0].evaluate(q);
var Ga=this.input.evaluate(q);if(Ga<=Q[0])return ma[0].evaluate(q);var $a=Q.length;if(Ga>=Q[$a-1])return ma[$a-1].evaluate(q);$a=Na(Q,Ga);Q=La.interpolationFactor(this.interpolation,Ga,Q[$a],Q[$a+1]);Ga=ma[$a].evaluate(q);q=ma[$a+1].evaluate(q);return"interpolate"===this.operator?uf[this.type.kind.toLowerCase()](Ga,q,Q):"interpolate-hcl"===this.operator?ua.reverse(ua.interpolate(ua.forward(Ga),ua.forward(q),Q)):ta.reverse(ta.interpolate(ta.forward(Ga),ta.forward(q),Q))}eachChild(q){q(this.input);
for(const Q of this.outputs)q(Q)}outputDefined(){return this.outputs.every(q=>q.outputDefined())}serialize(){var q="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);q=[this.operator,q,this.input.serialize()];for(let Q=0;Q<this.labels.length;Q++)q.push(this.labels[Q],this.outputs[Q].serialize());return q}}class Za{constructor(q,
Q){this.type=q;this.args=Q}static parse(q,Q){if(2>q.length)return Q.error("Expectected at least one argument.");let ma=null;const Ga=Q.expectedType;Ga&&"value"!==Ga.kind&&(ma=Ga);const $a=[];for(const eb of q.slice(1)){q=Q.parse(eb,1+$a.length,ma,void 0,{typeAnnotation:"omit"});if(!q)return null;ma=ma||q.type;$a.push(q)}return Ga&&$a.some(eb=>K(Ga,eb.type))?new Za(Wc,$a):new Za(ma,$a)}evaluate(q){let Q=null,ma=0,Ga;for(const $a of this.args)if(ma++,(Q=$a.evaluate(q))&&Q instanceof sb&&!Q.available&&
(Ga||(Ga=Q.name),Q=null,ma===this.args.length&&(Q=Ga)),null!==Q)break;return Q}eachChild(q){this.args.forEach(q)}outputDefined(){return this.args.every(q=>q.outputDefined())}serialize(){const q=["coalesce"];this.eachChild(Q=>{q.push(Q.serialize())});return q}}class bb{constructor(q,Q){this.type=Q.type;this.bindings=[].concat(q);this.result=Q}evaluate(q){return this.result.evaluate(q)}eachChild(q){for(const Q of this.bindings)q(Q[1]);q(this.result)}static parse(q,Q){if(4>q.length)return Q.error(`Expected at least 3 arguments, but found ${q.length-
1} instead.`);const ma=[];for(let Ga=1;Ga<q.length-1;Ga+=2){const $a=q[Ga];if("string"!==typeof $a)return Q.error(`Expected string, but found ${typeof $a} instead.`,Ga);if(/[^a-zA-Z0-9_]/.test($a))return Q.error("Variable names must contain only alphanumeric characters or '_'.",Ga);const eb=Q.parse(q[Ga+1],Ga+1);if(!eb)return null;ma.push([$a,eb])}return(q=Q.parse(q[q.length-1],q.length-1,Q.expectedType,ma))?new bb(ma,q):null}outputDefined(){return this.result.outputDefined()}serialize(){const q=
["let"];for(const [Q,ma]of this.bindings)q.push(Q,ma.serialize());q.push(this.result.serialize());return q}}class nb{constructor(q,Q,ma){this.type=q;this.index=Q;this.input=ma}static parse(q,Q){if(3!==q.length)return Q.error(`Expected 2 arguments, but found ${q.length-1} instead.`);const ma=Q.parse(q[1],1,Zc);q=Q.parse(q[2],2,C(Q.expectedType||Wc));return ma&&q?new nb(q.type.itemType,ma,q):null}evaluate(q){const Q=this.index.evaluate(q);q=this.input.evaluate(q);if(0>Q)throw new Mb(`Array index out of bounds: ${Q} < 0.`);
if(Q>=q.length)throw new Mb(`Array index out of bounds: ${Q} > ${q.length-1}.`);if(Q!==Math.floor(Q))throw new Mb(`Array index must be an integer, but found ${Q} instead.`);return q[Q]}eachChild(q){q(this.index);q(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class zb{constructor(q,Q){this.type=Id;this.needle=q;this.haystack=Q}static parse(q,Q){if(3!==q.length)return Q.error(`Expected 2 arguments, but found ${q.length-1} instead.`);const ma=
Q.parse(q[1],1,Wc);q=Q.parse(q[2],2,Wc);return ma&&q?E(ma.type,[Id,Md,Zc,sd,Wc])?new zb(ma,q):Q.error(`Expected first argument to be of type boolean, string, number or null, but found ${N(ma.type)} instead`):null}evaluate(q){const Q=this.needle.evaluate(q);q=this.haystack.evaluate(q);if(!q)return!1;if(!x(Q,["boolean","string","number","null"]))throw new Mb(`Expected first argument to be of type boolean, string, number or null, but found ${N(S(Q))} instead.`);if(!x(q,["string","array"]))throw new Mb(`Expected second argument to be of type array or string, but found ${N(S(q))} instead.`);
return 0<=q.indexOf(Q)}eachChild(q){q(this.needle);q(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class wb{constructor(q,Q,ma){this.type=Zc;this.needle=q;this.haystack=Q;this.fromIndex=ma}static parse(q,Q){if(2>=q.length||5<=q.length)return Q.error(`Expected 3 or 4 arguments, but found ${q.length-1} instead.`);const ma=Q.parse(q[1],1,Wc),Ga=Q.parse(q[2],2,Wc);return ma&&Ga?E(ma.type,[Id,Md,Zc,sd,Wc])?4===q.length?(q=Q.parse(q[3],
3,Zc))?new wb(ma,Ga,q):null:new wb(ma,Ga):Q.error(`Expected first argument to be of type boolean, string, number or null, but found ${N(ma.type)} instead`):null}evaluate(q){const Q=this.needle.evaluate(q),ma=this.haystack.evaluate(q);if(!x(Q,["boolean","string","number","null"]))throw new Mb(`Expected first argument to be of type boolean, string, number or null, but found ${N(S(Q))} instead.`);if(!x(ma,["string","array"]))throw new Mb(`Expected second argument to be of type array or string, but found ${N(S(ma))} instead.`);
return this.fromIndex?(q=this.fromIndex.evaluate(q),ma.indexOf(Q,q)):ma.indexOf(Q)}eachChild(q){q(this.needle);q(this.haystack);this.fromIndex&&q(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const q=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),q]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Bb{constructor(q,Q,ma,Ga,$a,eb){this.inputType=q;this.type=Q;this.input=
ma;this.cases=Ga;this.outputs=$a;this.otherwise=eb}static parse(q,Q){if(5>q.length)return Q.error(`Expected at least 4 arguments, but found only ${q.length-1}.`);if(1!==q.length%2)return Q.error("Expected an even number of arguments.");let ma,Ga;Q.expectedType&&"value"!==Q.expectedType.kind&&(Ga=Q.expectedType);const $a={},eb=[];for(var qb=2;qb<q.length-1;qb+=2){var Kb=q[qb];const Vb=q[qb+1];Array.isArray(Kb)||(Kb=[Kb]);const Ob=Q.concat(qb);if(0===Kb.length)return Ob.error("Expected at least one branch label.");
for(const Dc of Kb){if("number"!==typeof Dc&&"string"!==typeof Dc)return Ob.error("Branch labels must be numbers or strings.");if("number"===typeof Dc&&Math.abs(Dc)>Number.MAX_SAFE_INTEGER)return Ob.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Dc&&Math.floor(Dc)!==Dc)return Ob.error("Numeric branch labels must be integer values.");if(!ma)ma=S(Dc);else if(Ob.checkSubtype(ma,S(Dc)))return null;if("undefined"!==typeof $a[String(Dc)])return Ob.error("Branch labels must be unique.");
$a[String(Dc)]=eb.length}Kb=Q.parse(Vb,qb,Ga);if(!Kb)return null;Ga=Ga||Kb.type;eb.push(Kb)}qb=Q.parse(q[1],1,Wc);if(!qb)return null;q=Q.parse(q[q.length-1],q.length-1,Ga);return!q||"value"!==qb.type.kind&&Q.concat(1).checkSubtype(ma,qb.type)?null:new Bb(ma,Ga,qb,$a,eb,q)}evaluate(q){const Q=this.input.evaluate(q);return(S(Q)===this.inputType&&this.outputs[this.cases[Q]]||this.otherwise).evaluate(q)}eachChild(q){q(this.input);this.outputs.forEach(q);q(this.otherwise)}outputDefined(){return this.outputs.every(q=>
q.outputDefined())&&this.otherwise.outputDefined()}serialize(){const q=["match",this.input.serialize()];var Q=Object.keys(this.cases).sort();const ma=[];var Ga={};for(const $a of Q)Q=Ga[this.cases[$a]],void 0===Q?(Ga[this.cases[$a]]=ma.length,ma.push([this.cases[$a],[$a]])):ma[Q][1].push($a);Ga=$a=>"number"===this.inputType.kind?Number($a):$a;for(const [$a,eb]of ma)1===eb.length?q.push(Ga(eb[0])):q.push(eb.map(Ga)),q.push(this.outputs[$a].serialize());q.push(this.otherwise.serialize());return q}}
class Hb{constructor(q,Q,ma){this.type=q;this.branches=Q;this.otherwise=ma}static parse(q,Q){if(4>q.length)return Q.error(`Expected at least 3 arguments, but found only ${q.length-1}.`);if(0!==q.length%2)return Q.error("Expected an odd number of arguments.");let ma;Q.expectedType&&"value"!==Q.expectedType.kind&&(ma=Q.expectedType);const Ga=[];for(let $a=1;$a<q.length-1;$a+=2){const eb=Q.parse(q[$a],$a,Id);if(!eb)return null;const qb=Q.parse(q[$a+1],$a+1,ma);if(!qb)return null;Ga.push([eb,qb]);ma=
ma||qb.type}return(q=Q.parse(q[q.length-1],q.length-1,ma))?new Hb(ma,Ga,q):null}evaluate(q){for(const [Q,ma]of this.branches)if(Q.evaluate(q))return ma.evaluate(q);return this.otherwise.evaluate(q)}eachChild(q){for(const [Q,ma]of this.branches)q(Q),q(ma);q(this.otherwise)}outputDefined(){return this.branches.every(([,q])=>q.outputDefined())&&this.otherwise.outputDefined()}serialize(){const q=["case"];this.eachChild(Q=>{q.push(Q.serialize())});return q}}class Tb{constructor(q,Q,ma,Ga){this.type=q;
this.input=Q;this.beginIndex=ma;this.endIndex=Ga}static parse(q,Q){if(2>=q.length||5<=q.length)return Q.error(`Expected 3 or 4 arguments, but found ${q.length-1} instead.`);const ma=Q.parse(q[1],1,Wc),Ga=Q.parse(q[2],2,Zc);return ma&&Ga?E(ma.type,[C(Wc),Md,Wc])?4===q.length?(q=Q.parse(q[3],3,Zc))?new Tb(ma.type,ma,Ga,q):null:new Tb(ma.type,ma,Ga):Q.error(`Expected first argument to be of type array or string, but found ${N(ma.type)} instead`):null}evaluate(q){const Q=this.input.evaluate(q),ma=this.beginIndex.evaluate(q);
if(!x(Q,["string","array"]))throw new Mb(`Expected first argument to be of type array or string, but found ${N(S(Q))} instead.`);return this.endIndex?(q=this.endIndex.evaluate(q),Q.slice(ma,q)):Q.slice(ma)}eachChild(q){q(this.input);q(this.beginIndex);this.endIndex&&q(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const q=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),q]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const mc=Fa("\x3d\x3d",function(q,Q,ma){return Q===ma},ba),X=Fa("!\x3d",function(q,Q,ma){return Q!==ma},function(q,Q,ma,Ga){return!ba(q,Q,ma,Ga)}),na=Fa("\x3c",function(q,Q,ma){return Q<ma},function(q,Q,ma,Ga){return 0>Ga.compare(Q,ma)}),Ja=Fa("\x3e",function(q,Q,ma){return Q>ma},function(q,Q,ma,Ga){return 0<Ga.compare(Q,ma)}),Oa=Fa("\x3c\x3d",function(q,Q,ma){return Q<=ma},function(q,Q,ma,Ga){return 0>=Ga.compare(Q,ma)}),tb=Fa("\x3e\x3d",function(q,Q,ma){return Q>=ma},
function(q,Q,ma,Ga){return 0<=Ga.compare(Q,ma)});class Lb{constructor(q,Q,ma,Ga,$a){this.type=Md;this.number=q;this.locale=Q;this.currency=ma;this.minFractionDigits=Ga;this.maxFractionDigits=$a}static parse(q,Q){if(3!==q.length)return Q.error("Expected two arguments.");const ma=Q.parse(q[1],1,Zc);if(!ma)return null;q=q[2];if("object"!==typeof q||Array.isArray(q))return Q.error("NumberFormat options argument must be an object.");let Ga=null;if(q.locale&&(Ga=Q.parse(q.locale,1,Md),!Ga))return null;
let $a=null;if(q.currency&&($a=Q.parse(q.currency,1,Md),!$a))return null;let eb=null;if(q["min-fraction-digits"]&&(eb=Q.parse(q["min-fraction-digits"],1,Zc),!eb))return null;let qb=null;return q["max-fraction-digits"]&&(qb=Q.parse(q["max-fraction-digits"],1,Zc),!qb)?null:new Lb(ma,Ga,$a,eb,qb)}evaluate(q){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(q):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(q):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(q):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(q):void 0})).format(this.number.evaluate(q))}eachChild(q){q(this.number);this.locale&&q(this.locale);this.currency&&q(this.currency);this.minFractionDigits&&q(this.minFractionDigits);this.maxFractionDigits&&q(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const q={};this.locale&&(q.locale=this.locale.serialize());this.currency&&(q.currency=this.currency.serialize());
this.minFractionDigits&&(q["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(q["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),q]}}class Qb{constructor(q){this.type=Zc;this.input=q}static parse(q,Q){return 2!==q.length?Q.error(`Expected 1 argument, but found ${q.length-1} instead.`):(q=Q.parse(q[1],1))?"array"!==q.type.kind&&"string"!==q.type.kind&&"value"!==q.type.kind?Q.error(`Expected argument of type string or array, but found ${N(q.type)} instead.`):
new Qb(q):null}evaluate(q){q=this.input.evaluate(q);if("string"===typeof q||Array.isArray(q))return q.length;throw new Mb(`Expected value to be of type string or array, but found ${N(S(q))} instead.`);}eachChild(q){q(this.input)}outputDefined(){return!1}serialize(){const q=["length"];this.eachChild(Q=>{q.push(Q.serialize())});return q}}const gc={"\x3d\x3d":mc,"!\x3d":X,"\x3e":Ja,"\x3c":na,"\x3e\x3d":tb,"\x3c\x3d":Oa,array:ec,at:nb,"boolean":ec,"case":Hb,coalesce:Za,collator:Ge,format:Tc,image:Ic,
"in":zb,"index-of":wb,interpolate:La,"interpolate-hcl":La,"interpolate-lab":La,length:Qb,let:bb,literal:Pb,match:Bb,number:ec,"number-format":Lb,object:ec,slice:Tb,step:oe,string:ec,"to-boolean":od,"to-color":od,"to-number":od,"to-string":od,"var":se,within:Hd};rd.register(gc,{error:[{kind:"error"},[Md],(q,[Q])=>{throw new Mb(Q.evaluate(q));}],"typeof":[Md,[Wc],(q,[Q])=>N(S(Q.evaluate(q)))],"to-rgba":[C(Zc,4),[Ue],(q,[Q])=>Q.evaluate(q).toArray()],rgb:[Ue,[Zc,Zc,Zc],Ra],rgba:[Ue,[Zc,Zc,Zc,Zc],Ra],
has:{type:Id,overloads:[[[Md],(q,[Q])=>{Q=Q.evaluate(q);q=q.properties();return Q in q}],[[Md,zf],(q,[Q,ma])=>{Q=Q.evaluate(q);q=ma.evaluate(q);return Q in q}]]},get:{type:Wc,overloads:[[[Md],(q,[Q])=>Ma(Q.evaluate(q),q.properties())],[[Md,zf],(q,[Q,ma])=>Ma(Q.evaluate(q),ma.evaluate(q))]]},"feature-state":[Wc,[Md],(q,[Q])=>Ma(Q.evaluate(q),q.featureState||{})],properties:[zf,[],q=>q.properties()],"geometry-type":[Md,[],q=>q.geometryType()],id:[Wc,[],q=>q.id()],zoom:[Zc,[],q=>q.globals.zoom],"heatmap-density":[Zc,
[],q=>q.globals.heatmapDensity||0],"line-progress":[Zc,[],q=>q.globals.lineProgress||0],"sky-radial-progress":[Zc,[],q=>q.globals.skyRadialProgress||0],accumulated:[Wc,[],q=>void 0===q.globals.accumulated?null:q.globals.accumulated],"+":[Zc,{type:Zc},(q,Q)=>{let ma=0;for(const Ga of Q)ma+=Ga.evaluate(q);return ma}],"*":[Zc,{type:Zc},(q,Q)=>{let ma=1;for(const Ga of Q)ma*=Ga.evaluate(q);return ma}],"-":{type:Zc,overloads:[[[Zc,Zc],(q,[Q,ma])=>Q.evaluate(q)-ma.evaluate(q)],[[Zc],(q,[Q])=>-Q.evaluate(q)]]},
"/":[Zc,[Zc,Zc],(q,[Q,ma])=>Q.evaluate(q)/ma.evaluate(q)],"%":[Zc,[Zc,Zc],(q,[Q,ma])=>Q.evaluate(q)%ma.evaluate(q)],ln2:[Zc,[],()=>Math.LN2],pi:[Zc,[],()=>Math.PI],e:[Zc,[],()=>Math.E],"^":[Zc,[Zc,Zc],(q,[Q,ma])=>Math.pow(Q.evaluate(q),ma.evaluate(q))],sqrt:[Zc,[Zc],(q,[Q])=>Math.sqrt(Q.evaluate(q))],log10:[Zc,[Zc],(q,[Q])=>Math.log(Q.evaluate(q))/Math.LN10],ln:[Zc,[Zc],(q,[Q])=>Math.log(Q.evaluate(q))],log2:[Zc,[Zc],(q,[Q])=>Math.log(Q.evaluate(q))/Math.LN2],sin:[Zc,[Zc],(q,[Q])=>Math.sin(Q.evaluate(q))],
cos:[Zc,[Zc],(q,[Q])=>Math.cos(Q.evaluate(q))],tan:[Zc,[Zc],(q,[Q])=>Math.tan(Q.evaluate(q))],asin:[Zc,[Zc],(q,[Q])=>Math.asin(Q.evaluate(q))],acos:[Zc,[Zc],(q,[Q])=>Math.acos(Q.evaluate(q))],atan:[Zc,[Zc],(q,[Q])=>Math.atan(Q.evaluate(q))],min:[Zc,{type:Zc},(q,Q)=>Math.min(...Q.map(ma=>ma.evaluate(q)))],max:[Zc,{type:Zc},(q,Q)=>Math.max(...Q.map(ma=>ma.evaluate(q)))],abs:[Zc,[Zc],(q,[Q])=>Math.abs(Q.evaluate(q))],round:[Zc,[Zc],(q,[Q])=>{q=Q.evaluate(q);return 0>q?-Math.round(-q):Math.round(q)}],
floor:[Zc,[Zc],(q,[Q])=>Math.floor(Q.evaluate(q))],ceil:[Zc,[Zc],(q,[Q])=>Math.ceil(Q.evaluate(q))],"filter-\x3d\x3d":[Id,[Md,Wc],(q,[Q,ma])=>q.properties()[Q.value]===ma.value],"filter-id-\x3d\x3d":[Id,[Wc],(q,[Q])=>q.id()===Q.value],"filter-type-\x3d\x3d":[Id,[Md],(q,[Q])=>q.geometryType()===Q.value],"filter-\x3c":[Id,[Md,Wc],(q,[Q,ma])=>{q=q.properties()[Q.value];ma=ma.value;return typeof q===typeof ma&&q<ma}],"filter-id-\x3c":[Id,[Wc],(q,[Q])=>{q=q.id();Q=Q.value;return typeof q===typeof Q&&q<
Q}],"filter-\x3e":[Id,[Md,Wc],(q,[Q,ma])=>{q=q.properties()[Q.value];ma=ma.value;return typeof q===typeof ma&&q>ma}],"filter-id-\x3e":[Id,[Wc],(q,[Q])=>{q=q.id();Q=Q.value;return typeof q===typeof Q&&q>Q}],"filter-\x3c\x3d":[Id,[Md,Wc],(q,[Q,ma])=>{q=q.properties()[Q.value];ma=ma.value;return typeof q===typeof ma&&q<=ma}],"filter-id-\x3c\x3d":[Id,[Wc],(q,[Q])=>{q=q.id();Q=Q.value;return typeof q===typeof Q&&q<=Q}],"filter-\x3e\x3d":[Id,[Md,Wc],(q,[Q,ma])=>{q=q.properties()[Q.value];ma=ma.value;return typeof q===
typeof ma&&q>=ma}],"filter-id-\x3e\x3d":[Id,[Wc],(q,[Q])=>{q=q.id();Q=Q.value;return typeof q===typeof Q&&q>=Q}],"filter-has":[Id,[Wc],(q,[Q])=>Q.value in q.properties()],"filter-has-id":[Id,[],q=>null!==q.id()&&void 0!==q.id()],"filter-type-in":[Id,[C(Md)],(q,[Q])=>0<=Q.value.indexOf(q.geometryType())],"filter-id-in":[Id,[C(Wc)],(q,[Q])=>0<=Q.value.indexOf(q.id())],"filter-in-small":[Id,[Md,C(Wc)],(q,[Q,ma])=>0<=ma.value.indexOf(q.properties()[Q.value])],"filter-in-large":[Id,[Md,C(Wc)],(q,[Q,ma])=>
{a:{q=q.properties()[Q.value];Q=ma.value;var Ga=0;for(ma=ma.value.length-1;Ga<=ma;){const $a=Ga+ma>>1;if(Q[$a]===q){ma=!0;break a}Q[$a]>q?ma=$a-1:Ga=$a+1}ma=!1}return ma}],all:{type:Id,overloads:[[[Id,Id],(q,[Q,ma])=>Q.evaluate(q)&&ma.evaluate(q)],[{type:Id},(q,Q)=>{for(const ma of Q)if(!ma.evaluate(q))return!1;return!0}]]},any:{type:Id,overloads:[[[Id,Id],(q,[Q,ma])=>Q.evaluate(q)||ma.evaluate(q)],[{type:Id},(q,Q)=>{for(const ma of Q)if(ma.evaluate(q))return!0;return!1}]]},"!":[Id,[Id],(q,[Q])=>
!Q.evaluate(q)],"is-supported-script":[Id,[Md],(q,[Q])=>{const ma=q.globals&&q.globals.isSupportedScript;return ma?ma(Q.evaluate(q)):!0}],upcase:[Md,[Md],(q,[Q])=>Q.evaluate(q).toUpperCase()],downcase:[Md,[Md],(q,[Q])=>Q.evaluate(q).toLowerCase()],concat:[Md,{type:Wc},(q,Q)=>Q.map(ma=>U(ma.evaluate(q))).join("")],"resolved-locale":[Md,[xe],(q,[Q])=>Q.evaluate(q).resolvedLocale()]});class uc{constructor(q,Q){this.expression=q;this._warningHistory={};this._evaluator=new Wd;this._defaultValue=Q?"color"===
Q.type&&Jb(Q.default)?new re(0,0,0,0):"color"===Q.type?re.parse(Q.default)||null:void 0===Q.default?null:Q.default:null;this._enumValues=Q&&"enum"===Q.type?Q.values:null}evaluateWithoutErrorHandling(q,Q,ma,Ga,$a,eb){this._evaluator.globals=q;this._evaluator.feature=Q;this._evaluator.featureState=ma;this._evaluator.canonical=Ga;this._evaluator.availableImages=$a||null;this._evaluator.formattedSection=eb;return this.expression.evaluate(this._evaluator)}evaluate(q,Q,ma,Ga,$a,eb){this._evaluator.globals=
q;this._evaluator.feature=Q||null;this._evaluator.featureState=ma||null;this._evaluator.canonical=Ga;this._evaluator.availableImages=$a||null;this._evaluator.formattedSection=eb||null;try{const qb=this.expression.evaluate(this._evaluator);if(null===qb||void 0===qb||"number"===typeof qb&&qb!==qb)return this._defaultValue;if(this._enumValues&&!(qb in this._enumValues))throw new Mb(`Expected value to be one of ${Object.keys(this._enumValues).map(Kb=>JSON.stringify(Kb)).join(", ")}, but found ${JSON.stringify(qb)} instead.`);
return qb}catch(qb){return this._warningHistory[qb.message]||(this._warningHistory[qb.message]=!0,"undefined"!==typeof console&&console.warn(qb.message)),this._defaultValue}}}class Qc{constructor(q,Q){this.kind=q;this._styleExpression=Q;this.isStateDependent="constant"!==q&&!Wa(Q.expression)}evaluateWithoutErrorHandling(q,Q,ma,Ga,$a,eb){return this._styleExpression.evaluateWithoutErrorHandling(q,Q,ma,Ga,$a,eb)}evaluate(q,Q,ma,Ga,$a,eb){return this._styleExpression.evaluate(q,Q,ma,Ga,$a,eb)}}class Lc{constructor(q,
Q,ma,Ga){this.kind=q;this.zoomStops=ma;this._styleExpression=Q;this.isStateDependent="camera"!==q&&!Wa(Q.expression);this.interpolationType=Ga}evaluateWithoutErrorHandling(q,Q,ma,Ga,$a,eb){return this._styleExpression.evaluateWithoutErrorHandling(q,Q,ma,Ga,$a,eb)}evaluate(q,Q,ma,Ga,$a,eb){return this._styleExpression.evaluate(q,Q,ma,Ga,$a,eb)}interpolationFactor(q,Q,ma){return this.interpolationType?La.interpolationFactor(this.interpolationType,q,Q,ma):0}}class td{constructor(q,Q){this._parameters=
q;this._specification=Q;A(this,wc(this._parameters,this._specification))}static deserialize(q){return new td(q._parameters,q._specification)}static serialize(q){return{_parameters:q._parameters,_specification:q._specification}}}const Ld={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var Yc="type source source-layer minzoom maxzoom filter layout".split(" ");const nd={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",
setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class Vc{constructor(q,Q,ma,Ga){this.message=
(q?`${q}: `:"")+ma;Ga&&(this.identifier=Ga);null!==Q&&void 0!==Q&&Q.__line__&&(this.line=Q.__line__)}}class Ce{constructor(q){this.error=q;this.message=q.message;this.line=(q=q.message.match(/line (\d+)/))?parseInt(q[1],10):0}}const Pa={promoteId:function({key:q,value:Q}){if("string"===ub(Q))return Ke({key:q,value:Q});{const ma=[];for(const Ga in Q)ma.push(...Ke({key:`${q}.${Ga}`,value:Q[Ga]}));return ma}}},kb={["*"](){return[]},array:wd,"boolean":function(q){const Q=q.value;q=q.key;const ma=ub(Q);
return"boolean"!==ma?[new Vc(q,Q,`boolean expected, ${ma} found`)]:[]},number:Cd,color:function(q){const Q=q.key;q=q.value;const ma=ub(q);return"string"!==ma?[new Vc(Q,q,`color expected, ${ma} found`)]:null===yf(q)?[new Vc(Q,q,`color expected, "${q}" found`)]:[]},constants:Jc,"enum":fe,filter:ne,"function":Gd,layer:Zd,object:md,source:Be,light:tf,terrain:Td,string:Ke,formatted:function(q){return 0===Ke(q).length?[]:Sd(q)},resolvedImage:function(q){return 0===Ke(q).length?[]:Sd(q)}};ce.source=Ad(Be);
ce.light=Ad(tf);ce.terrain=Ad(Td);ce.layer=Ad(Zd);ce.filter=Ad(ne);ce.paintProperty=Ad(De);ce.layoutProperty=Ad(Fd);var vb=L(function(q,Q){var ma=function(){function Ga(){this.yy={}}var $a=function(Cc,jd,Od,Jd){Od=Od||{};for(Jd=Cc.length;Jd--;Od[Cc[Jd]]=jd);return Od},eb=[1,12],qb=[1,13],Kb=[1,9],Vb=[1,10],Ob=[1,11],Dc=[1,14],Pc=[1,15],kd=[14,18,22,24],ad=[18,22],Uc=[22,24];$a={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,
TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Cc,jd,
Od,Jd,de,ae,kf){jd=ae.length-1;switch(de){case 1:this.$=new String(Cc.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Cc);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;
case 6:return this.$=ae[jd-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=ae[jd-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[ae[jd-2],ae[jd]];break;case 16:this.$={};this.$[ae[jd][0]]=ae[jd][1];break;case 17:this.$=ae[jd-2];ae[jd-2][ae[jd][0]]=ae[jd][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});
break;case 20:this.$=[ae[jd]];break;case 21:this.$=ae[jd-2],ae[jd-2].push(ae[jd])}},table:[{3:5,4:eb,5:6,6:qb,7:3,8:Kb,9:4,10:Vb,11:Ob,12:1,13:2,15:7,16:8,17:Dc,23:Pc},{1:[3]},{14:[1,16]},$a(kd,[2,7]),$a(kd,[2,8]),$a(kd,[2,9]),$a(kd,[2,10]),$a(kd,[2,11]),$a(kd,[2,12]),$a(kd,[2,3]),$a(kd,[2,4]),$a(kd,[2,5]),$a([14,18,21,22,24],[2,1]),$a(kd,[2,2]),{3:20,4:eb,18:[1,17],19:18,20:19},{3:5,4:eb,5:6,6:qb,7:3,8:Kb,9:4,10:Vb,11:Ob,13:23,15:7,16:8,17:Dc,23:Pc,24:[1,21],25:22},{1:[2,6]},$a(kd,[2,13]),{18:[1,
24],22:[1,25]},$a(ad,[2,16]),{21:[1,26]},$a(kd,[2,18]),{22:[1,28],24:[1,27]},$a(Uc,[2,20]),$a(kd,[2,14]),{3:20,4:eb,20:29},{3:5,4:eb,5:6,6:qb,7:3,8:Kb,9:4,10:Vb,11:Ob,13:30,15:7,16:8,17:Dc,23:Pc},$a(kd,[2,19]),{3:5,4:eb,5:6,6:qb,7:3,8:Kb,9:4,10:Vb,11:Ob,13:31,15:7,16:8,17:Dc,23:Pc},$a(ad,[2,17]),$a(ad,[2,15]),$a(Uc,[2,21])],defaultActions:{16:[2,6]},parseError:function(Cc,jd){if(jd.recoverable)this.trace(Cc);else throw Error(Cc);},parse:function(Cc){var jd=[0],Od=[null],Jd=[],de=this.table,ae="",
kf=0,Qd=0,Ud=Jd.slice.call(arguments,1),te=Object.create(this.lexer),id={};for(ue in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ue)&&(id[ue]=this.yy[ue]);te.setInput(Cc,id);id.lexer=te;id.parser=this;"undefined"==typeof te.yylloc&&(te.yylloc={});var ue=te.yylloc;Jd.push(ue);var Ff=te.options&&te.options.ranges;this.parseError="function"===typeof id.parseError?id.parseError:Object.getPrototypeOf(this).parseError;for(var ye,of,$e,Xe={},ff,Cf;;){of=jd[jd.length-1];if(this.defaultActions[of])$e=
this.defaultActions[of];else{if(null===ye||"undefined"==typeof ye)ye=te.lex()||1,"number"!==typeof ye&&(ye=this.symbols_[ye]||ye);$e=de[of]&&de[of][ye]}if("undefined"===typeof $e||!$e.length||!$e[0]){Cf=[];for(ff in de[of])this.terminals_[ff]&&2<ff&&Cf.push("'"+this.terminals_[ff]+"'");var Zf=te.showPosition?"Parse error on line "+(kf+1)+":\n"+te.showPosition()+"\nExpecting "+Cf.join(", ")+", got '"+(this.terminals_[ye]||ye)+"'":"Parse error on line "+(kf+1)+": Unexpected "+(1==ye?"end of input":
"'"+(this.terminals_[ye]||ye)+"'");this.parseError(Zf,{text:te.match,token:this.terminals_[ye]||ye,line:te.yylineno,loc:ue,expected:Cf})}if($e[0]instanceof Array&&1<$e.length)throw Error("Parse Error: multiple actions possible at state: "+of+", token: "+ye);switch($e[0]){case 1:jd.push(ye);Od.push(te.yytext);Jd.push(te.yylloc);jd.push($e[1]);ye=null;Qd=te.yyleng;ae=te.yytext;kf=te.yylineno;ue=te.yylloc;break;case 2:Cf=this.productions_[$e[1]][1];Xe.$=Od[Od.length-Cf];Xe._$={first_line:Jd[Jd.length-
(Cf||1)].first_line,last_line:Jd[Jd.length-1].last_line,first_column:Jd[Jd.length-(Cf||1)].first_column,last_column:Jd[Jd.length-1].last_column};Ff&&(Xe._$.range=[Jd[Jd.length-(Cf||1)].range[0],Jd[Jd.length-1].range[1]]);of=this.performAction.apply(Xe,[ae,Qd,kf,id,$e[1],Od,Jd].concat(Ud));if("undefined"!==typeof of)return of;Cf&&(jd=jd.slice(0,-2*Cf),Od=Od.slice(0,-1*Cf),Jd=Jd.slice(0,-1*Cf));jd.push(this.productions_[$e[1]][0]);Od.push(Xe.$);Jd.push(Xe._$);$e=de[jd[jd.length-2]][jd[jd.length-1]];
jd.push($e);break;case 3:return!0}}}};eb=function(){return{EOF:1,parseError:function(Cc,jd){if(this.yy.parser)this.yy.parser.parseError(Cc,jd);else throw Error(Cc);},setInput:function(Cc,jd){this.yy=jd||this.yy||{};this._input=Cc;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var Cc=this._input[0];this.yytext+=Cc;this.yyleng++;this.offset++;this.match+=Cc;this.matched+=Cc;Cc.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return Cc},unput:function(Cc){var jd=Cc.length,Od=Cc.split(/(?:\r\n?|\n)/g);this._input=Cc+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-jd);this.offset-=jd;Cc=this.match.split(/(?:\r\n?|\n)/g);this.match=
this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);Od.length-1&&(this.yylineno-=Od.length-1);var Jd=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Od?(Od.length===Cc.length?this.yylloc.first_column:0)+Cc[Cc.length-Od.length].length-Od[0].length:this.yylloc.first_column-jd};this.options.ranges&&(this.yylloc.range=[Jd[0],Jd[0]+this.yyleng-jd]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Cc){this.unput(this.match.slice(Cc))},pastInput:function(){var Cc=this.matched.substr(0,
this.matched.length-this.match.length);return(20<Cc.length?"...":"")+Cc.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Cc=this.match;20>Cc.length&&(Cc+=this._input.substr(0,20-Cc.length));return(Cc.substr(0,20)+(20<Cc.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Cc=this.pastInput(),jd=Array(Cc.length+1).join("-");return Cc+this.upcomingInput()+"\n"+jd+"^"},test_match:function(Cc,jd){var Od;if(this.options.backtrack_lexer){var Jd={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Jd.yylloc.range=this.yylloc.range.slice(0))}if(Od=Cc[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=Od.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:Od?Od[Od.length-1].length-Od[Od.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Cc[0].length};this.yytext+=Cc[0];this.match+=Cc[0];this.matches=Cc;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Cc[0].length);this.matched+=Cc[0];Cc=this.performAction.call(this,this.yy,this,jd,this.conditionStack[this.conditionStack.length-
1]);this.done&&this._input&&(this.done=!1);if(Cc)return Cc;if(this._backtrack)for(var de in Jd)this[de]=Jd[de];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Cc;this._more||(this.match=this.yytext="");for(var jd=this._currentRules(),Od=0;Od<jd.length;Od++)if((Cc=this._input.match(this.rules[jd[Od]]))&&(!Jd||Cc[0].length>Jd[0].length)){var Jd=Cc;var de=Od;if(this.options.backtrack_lexer){Jd=this.test_match(Cc,jd[Od]);if(!1!==Jd)return Jd;if(this._backtrack)Jd=
!1;else return!1}else if(!this.options.flex)break}return Jd?(Jd=this.test_match(Jd,jd[de]),!1!==Jd?Jd:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Cc=this.next();return Cc?Cc:this.lex()},begin:function(Cc){this.conditionStack.push(Cc)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&
this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Cc){Cc=this.conditionStack.length-1-Math.abs(Cc||0);return 0<=Cc?this.conditionStack[Cc]:"INITIAL"},pushState:function(Cc){this.begin(Cc)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Cc,jd,Od,Jd){switch(Od){case 1:return 6;case 2:return jd.yytext=jd.yytext.substr(1,jd.yyleng-2),
4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,
2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();$a.lexer=eb;Ga.prototype=$a;$a.Parser=Ga;return new Ga}();"undefined"!==typeof G&&(Q.parser=ma,Q.Parser=ma.Parser,Q.parse=function(){return ma.parse.apply(ma,arguments)})});const Eb={StyleExpression:uc,isExpression:hc,isExpressionFilter:Pd,createExpression:Ac,createPropertyExpression:ac,normalizePropertyExpression:function(q,Q){if(Jb(q))return new td(q,Q);if(hc(q)){q=ac(q,Q);if("error"===q.result)throw Error(q.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));
return q.value}{let ma=q;"string"===typeof q&&"color"===Q.type&&(ma=re.parse(q));return{kind:"constant",evaluate:()=>ma}}},ZoomConstantExpression:Qc,ZoomDependentExpression:Lc,StylePropertyFunction:td},Rb={convertFunction:Bc,createFunction:wc,isFunction:Jb},yc={eachSource:k,eachLayer:f,eachProperty:d};ef.parsed=ef;ef.latest=ef;l.Color=re;l.ParsingError=Ce;l.ValidationError=Vc;l.composite=function(q){const Q=[],ma=[],Ga=[];for(const qb in q.sources){var $a=q.sources[qb];"vector"===$a.type&&($a=/^mapbox:\/\/(.*)/.exec($a.url))&&
(Q.push(qb),ma.push($a[1]))}if(2>Q.length)return q;Q.forEach(qb=>{delete q.sources[qb]});const eb=ma.join(",");q.sources[eb]={type:"vector",url:`mapbox://${eb}`};q.layers.forEach(qb=>{if(0<=Q.indexOf(qb.source)&&(qb.source=eb,"source-layer"in qb)){if(0<=Ga.indexOf(qb["source-layer"]))throw Error("Conflicting source layer names");Ga.push(qb["source-layer"])}});return q};l.convertFilter=pc;l.derefLayers=function(q){q=q.slice();const Q=Object.create(null);for(var ma=0;ma<q.length;ma++)Q[q[ma].id]=q[ma];
for(ma=0;ma<q.length;ma++)"ref"in q[ma]&&(q[ma]=qc(q[ma],Q[q[ma].ref]));return q};l.diff=function(q,Q){if(!q)return[{command:nd.setStyle,args:[Q]}];let ma=[];try{if(!oc(q.version,Q.version))return[{command:nd.setStyle,args:[Q]}];oc(q.center,Q.center)||ma.push({command:nd.setCenter,args:[Q.center]});oc(q.zoom,Q.zoom)||ma.push({command:nd.setZoom,args:[Q.zoom]});oc(q.bearing,Q.bearing)||ma.push({command:nd.setBearing,args:[Q.bearing]});oc(q.pitch,Q.pitch)||ma.push({command:nd.setPitch,args:[Q.pitch]});
oc(q.sprite,Q.sprite)||ma.push({command:nd.setSprite,args:[Q.sprite]});oc(q.glyphs,Q.glyphs)||ma.push({command:nd.setGlyphs,args:[Q.glyphs]});oc(q.transition,Q.transition)||ma.push({command:nd.setTransition,args:[Q.transition]});oc(q.light,Q.light)||ma.push({command:nd.setLight,args:[Q.light]});const Ga={},$a=[];Kc(q.sources,Q.sources,$a,Ga);const eb=[];q.layers&&q.layers.forEach(Kb=>{Ga[Kb.source]?ma.push({command:nd.removeLayer,args:[Kb.id]}):eb.push(Kb)});let qb=q.terrain;qb&&Ga[qb.source]&&(ma.push({command:nd.setTerrain,
args:[void 0]}),qb=void 0);ma=ma.concat($a);oc(qb,Q.terrain)||ma.push({command:nd.setTerrain,args:[Q.terrain]});rc(eb,Q.layers,ma)}catch(Ga){console.warn("Unable to compute style diff:",Ga),ma=[{command:nd.setStyle,args:[Q]}]}return ma};l.expression=Eb;l.featureFilter=function(q){if(null===q||void 0===q)return{filter:()=>!0,needGeometry:!1};Pd(q)||(q=Ya(q));const Q=Ac(q,Ld);if("error"===Q.result)throw Error(Q.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));return{filter:(ma,Ga,$a)=>Q.value.evaluate(ma,
Ga,{},$a),needGeometry:Ha(q)}};l.format=function(q,Q=2){q=w(q,xc.$root);q.layers&&(q.layers=q.layers.map(ma=>w(ma,xc.layer)));return ge(q,{indent:Q})};l.function=Rb;l.latest=xc;l.migrate=function(q){let Q=!1;7===q.version&&(q=y(q),Q=!0);8===q.version&&(cc(q),Q=!0);if(!Q)throw Error("cannot migrate from",q.version);return q};l.v8=xc;l.validate=ef;l.validateMapboxApiSupported=function(q){try{q=Yd(q)}catch(ma){return[ma]}let Q=ce(q,xc).concat(nf(q,Object.keys(xc.$root)));q.sources&&(Q=Q.concat(Ie(q.sources)));
return Q};l.visit=yc;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[335]=function(Ea,z,ob,J){function m(f,d){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(f,d);var g=document.createElement("canvas");g.width=f;g.height=d;return g}function l(f,d){if(.05<=d){var g="";f=f.split("\n");d=u.slice(0,Math.round(d/.1));for(var a=0,e=f.length;a<e;++a)0<a&&(g+="\n"),g+=f[a].split("").join(d);return g}return f}function w(){t||(t=m(1,1).getContext("2d"));return t}function G(f,
d){return w().measureText(f).width+(f.length-1)*d}function L(f,d,g,a){if(-1!==f.indexOf("\n")){var e=f.split("\n");f=[];for(var n=0,y=e.length;n<y;++n)f.push(L(e[n],d,g,a));return f.join("\n")}e=g+","+d+","+f+","+a;n=k[e];if(!n){var A=f.split(" ");if(1<A.length){f=w();f.font=d;d=f.measureText("M").width*g;g="";f=[];n=0;for(y=A.length;n<y;++n){var C=A[n],N=g+(g?" ":"")+C;G(N,a)<=d?g=N:(g&&f.push(g),g=C)}g&&f.push(g);n=0;for(y=f.length;n<y&&1<y;++n)A=f[n],G(A,a)<.35*d&&(g=0<n?G(f[n-1],a):Infinity,C=
n<y-1?G(f[n+1],a):Infinity,f.splice(n,1),--y,g<C?(f[n-1]+=" "+A,--n):f[n]=A+" "+f[n]);n=0;for(y=f.length-1;n<y;++n)g=f[n],A=f[n+1],G(g,a)>.7*d&&G(A,a)<.6*d&&(g=g.split(" "),C=g.pop(),G(C,a)<.2*d&&(f[n]=g.join(" "),f[n+1]=C+" "+A),--y);n=f.join("\n")}else n=f;n=l(n,a);k[e]=n}return n}Object.defineProperty(J,"__esModule",{value:!0});J.deg2rad=function(f){return f*Math.PI/180};J.createCanvas=m;J.getZoomForResolution=function(f,d){for(var g=0,a=d.length;g<a;++g)if(d[g]<f&&g+1<a)return g+Math.log(d[g]/
f)/Math.log(d[g]/d[g+1]);return a-1};J.applyLetterSpacing=l;J.wrapText=L;J.defaultResolutions=J.assign=void 0;Ea=z(89);ob=function(f){return f&&f.__esModule?f:{"default":f}}(z(88));z=z(104);J.assign="function"===typeof Object.assign?Object.assign:function(f,d){if(void 0===f||null===f)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(f),a=1,e=arguments.length;a<e;++a){var n=arguments[a];if(void 0!==n&&null!==n)for(var y in n)n.hasOwnProperty(y)&&(g[y]=n[y])}return g};
var v=function(){for(var f=[],d=78271.51696402048;24>=f.length;d/=2)f.push(d);return f}();J.defaultResolutions=v;var u=Array(256).join(""),t,k={};z.labelCache&&(0,Ea.listen)(z.labelCache,ob["default"].CLEAR,function(){k={}})};
shadow$provide[336]=function(Ea,z,ob,J){function m(da){return da&&da.__esModule?da:{"default":da}}function l(da,O,B,Y,ka){var Z=da.id;S[Z]||(S[Z]={});Z=S[Z];if(!Z[B]){var wa=(da[O]||D)[B];da=a.latest[O+"_"+da.type][B];void 0===wa&&(wa=da["default"]);O=C(wa);!O&&y(wa)&&(wa=A(wa,da),O=!0);O?(da=x(wa,da),Z[B]=da.evaluate.bind(da)):("color"==da.type&&(wa=a.Color.parse(wa)),Z[B]=function(){return wa})}H.zoom=Y;return Z[B](H,ka)}function w(da,O,B,Y){da in fa||(fa[da]=(0,a.featureFilter)(O).filter);H.zoom=
Y;return fa[da](H,B)}function G(da,O){if(da){if(0===da.a||0===O)return;var B=da.a;return"rgba("+Math.round(255*da.r/B)+","+Math.round(255*da.g/B)+","+Math.round(255*da.b/B)+","+B*(void 0===O?1:O)+")"}return da}function L(da,O){var B;do(B=da.match(ja))&&(da=B[1]+(O[B[2]]||"")+B[3]);while(B);return da}Object.defineProperty(J,"__esModule",{value:!0});J._getValue=J.getValue=l;J.recordStyleLayer=function(da){la=da};J["default"]=function(da,O,B,Y,ka,Z,wa){void 0===Y&&(Y=n.defaultResolutions);"string"==
typeof O&&(O=JSON.parse(O));if(8!=O.version)throw Error("glStyle version 8 required.");var xa,Da;if(Z)if("undefined"!==typeof Image){var Wa=new Image;Wa.crossOrigin="anonymous";Wa.onload=function(){xa=Wa;Da=[Wa.width,Wa.height];da.changed();Wa.onload=null};Wa.src=Z}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var gb=self;gb.postMessage({action:"loadImage",src:Z});gb.addEventListener("message",function(Ra){"imageLoaded"===Ra.data.action&&Ra.data.src===Z&&(xa=Ra.data.image,
Da=[xa.width,xa.height])})}var ra=(0,a.derefLayers)(O.layers),Na={};gb=[];for(var Ta,za=0,pa=ra.length;za<pa;++za){var T=ra[za],W=T.id;if("string"==typeof B&&T.source==B||-1!==B.indexOf(W)){var M=T["source-layer"];if(!Ta){Ta=T.source;var P=O.sources[Ta];if(!P)throw Error('Source "'+Ta+'" is not defined');P=P.type;if("vector"!==P&&"geojson"!==P)throw Error('Source "'+Ta+'" is not of type "vector" or "geojson", but "'+P+'"');}(P=Na[M])||(P=Na[M]=[]);P.push({layer:T,index:za});gb.push(W)}delete S[W];
delete fa[W]}var ca=new t["default"],ea=new u["default"],oa={},ba={},Fa=[];O=function(Ra,Ma){var db=Ra.getProperties(),ab=Na[db.layer];if(ab){var Ba=Y.indexOf(Ma);-1==Ba&&(Ba=(0,n.getZoomForResolution)(Ma,Y));var Sa=K[Ra.getGeometry().getType()],lb={properties:db,type:Sa},ub=-1,Jb,bc=function(kc,vc){var jb=ab[kc];kc=jb.layer;vc=kc.id;var fc=kc.layout||D,dc=kc.paint||D;if("none"===fc.visibility||"minzoom"in kc&&Ba<kc.minzoom||"maxzoom"in kc&&Ba>=kc.maxzoom)return"continue";var hc=kc.filter;if(!hc||
w(vc,hc,lb,Ba)){Jb=kc;var Ac=void 0,ac=hc=void 0,Oc=ac=void 0;vc=void 0;jb=jb.index;if(3==Sa&&("fill"==kc.type||"fill-extrusion"==kc.type))if(hc=l(kc,"paint",kc.type+"-opacity",Ba,lb),kc.type+"-pattern"in dc){if(ac=l(kc,"paint",kc.type+"-pattern",Ba,lb))if(Ac="string"===typeof ac?L(ac,db):ac.toString(),xa&&ka&&ka[Ac]){++ub;vc=Fa[ub];if(!vc||!vc.getFill()||vc.getStroke()||vc.getText())vc=Fa[ub]=new v["default"]({fill:new u["default"]});ac=vc.getFill();vc.setZIndex(jb);var Sc=Ac+"."+hc;Oc=ba[Sc];if(!Oc){var Bc=
ka[Ac],pd=(0,n.createCanvas)(Bc.width,Bc.height),Rd=pd.getContext("2d");Rd.globalAlpha=hc;Rd.drawImage(xa,Bc.x,Bc.y,Bc.width,Bc.height,0,0,Bc.width,Bc.height);Oc=Rd.createPattern(pd,"repeat");ba[Sc]=Oc}ac.setColor(Oc)}}else if(Ac=G(l(kc,"paint",kc.type+"-color",Ba,lb),hc))kc.type+"-outline-color"in dc&&(Oc=G(l(kc,"paint",kc.type+"-outline-color",Ba,lb),hc)),Oc||(Oc=Ac),++ub,(vc=Fa[ub])&&vc.getFill()&&vc.getStroke()&&!vc.getText()||(vc=Fa[ub]=new v["default"]({fill:new u["default"],stroke:new t["default"]})),
ac=vc.getFill(),ac.setColor(Ac),ac=vc.getStroke(),ac.setColor(Oc),ac.setWidth(1),vc.setZIndex(jb);if(1!=Sa&&"line"==kc.type){Ac=!("line-pattern"in dc)&&"line-color"in dc?G(l(kc,"paint","line-color",Ba,lb),l(kc,"paint","line-opacity",Ba,lb)):void 0;var hd=l(kc,"paint","line-width",Ba,lb);if(Ac&&0<hd){++ub;vc=Fa[ub];if(!vc||!vc.getStroke()||vc.getFill()||vc.getText())vc=Fa[ub]=new v["default"]({stroke:new t["default"]});ac=vc.getStroke();ac.setLineCap(l(kc,"layout","line-cap",Ba,lb));ac.setLineJoin(l(kc,
"layout","line-join",Ba,lb));ac.setMiterLimit(l(kc,"layout","line-miter-limit",Ba,lb));ac.setColor(Ac);ac.setWidth(hd);ac.setLineDash(dc["line-dasharray"]?l(kc,"paint","line-dasharray",Ba,lb).map(function(Xb){return Xb*hd}):null);vc.setZIndex(jb)}}Ac=!1;ac=null;var cd=0;Oc=Bc=Rd=void 0;if((1==Sa||2==Sa)&&"icon-image"in fc){var Dd=l(kc,"layout","icon-image",Ba,lb);if(Dd&&(Rd="string"===typeof Dd?L(Dd,db):Dd.toString(),Dd=void 0,xa&&ka&&ka[Rd])){pd=l(kc,"layout","icon-rotation-alignment",Ba,lb);if(2==
Sa){var cb=Ra.getGeometry();if(cb.getFlatMidpoint||cb.getFlatMidpoints)if(Sc=cb.getExtent(),150<Math.sqrt(Math.max(Math.pow((Sc[2]-Sc[0])/Ma,2),Math.pow((Sc[3]-Sc[1])/Ma,2)))){Sc="MultiLineString"===cb.getType()?cb.getFlatMidpoints():cb.getFlatMidpoint();ia||(U=[NaN,NaN],ia=new g["default"]("Point",U,[],{},null));Dd=ia;U[0]=Sc[0];U[1]=Sc[1];var yb=l(kc,"layout","symbol-placement",Ba,lb);if("line"===yb&&"map"===pd){yb=cb.getStride();cb=cb.getFlatCoordinates();for(var Sb=0,ld=cb.length-yb;Sb<ld;Sb+=
yb){var xd=cb[Sb],Pd=cb[Sb+1],me=cb[Sb+yb],Ha=cb[Sb+yb+1],Ya=Math.min(Pd,Ha),pb=Math.max(xd,me),Db=Math.max(Pd,Ha);if(Sc[0]>=Math.min(xd,me)&&Sc[0]<=pb&&Sc[1]>=Ya&&Sc[1]<=Db){cd=Math.atan2(Pd-Ha,me-xd);break}}}}}if(2!==Sa||Dd){yb=l(kc,"layout","icon-size",Ba,lb);cb=void 0!==dc["icon-color"]?l(kc,"paint","icon-color",Ba,lb):null;if(!cb||0!==cb.a)if(Sc=Rd+"."+yb,null!==cb&&(Sc+="."+cb),Bc=oa[Sc],!Bc)if(Bc=ka[Rd],null!==cb){pd=(0,n.createCanvas)(Bc.width,Bc.height);Rd=pd.getContext("2d");Rd.drawImage(xa,
Bc.x,Bc.y,Bc.width,Bc.height,0,0,Bc.width,Bc.height);Sb=Rd.getImageData(0,0,pd.width,pd.height);ld=0;for(xd=Sb.data.length;ld<xd;ld+=4)Pd=cb.a,0!==Pd&&(Sb.data[ld]=255*cb.r/Pd,Sb.data[ld+1]=255*cb.g/Pd,Sb.data[ld+2]=255*cb.b/Pd),Sb.data[ld+3]=Pd;Rd.putImageData(Sb,0,0);Bc=oa[Sc]=new k["default"]({img:pd,imgSize:[pd.width,pd.height],scale:yb/Bc.pixelRatio})}else Bc=oa[Sc]=new k["default"]({img:xa,imgSize:Da,size:[Bc.width,Bc.height],offset:[Bc.x,Bc.y],rotateWithView:"map"===pd,scale:yb/Bc.pixelRatio});
if(Bc){++ub;vc=Fa[ub];if(!vc||!vc.getImage()||vc.getFill()||vc.getStroke())vc=Fa[ub]=new v["default"];vc.setGeometry(Dd);Bc.setRotation(cd+(0,n.deg2rad)(l(kc,"layout","icon-rotate",Ba,lb)));Bc.setOpacity(l(kc,"paint","icon-opacity",Ba,lb));Bc.setAnchor(E[l(kc,"layout","icon-anchor",Ba,lb)]);vc.setImage(Bc);ac=vc.getText();vc.setText(void 0);vc.setZIndex(jb);Ac=!0;Oc=!1}}else Oc=!0}}if(1==Sa&&"circle-radius"in dc){++ub;vc=Fa[ub];if(!vc||!vc.getImage()||vc.getFill()||vc.getStroke())vc=Fa[ub]=new v["default"];
ac=l(kc,"paint","circle-radius",Ba,lb);Ac=G(l(kc,"paint","circle-stroke-color",Ba,lb),l(kc,"paint","circle-stroke-opacity",Ba,lb));dc=G(l(kc,"paint","circle-color",Ba,lb),l(kc,"paint","circle-opacity",Ba,lb));cd=l(kc,"paint","circle-stroke-width",Ba,lb);Dd=ac+"."+Ac+"."+dc+"."+cd;(Bc=oa[Dd])||(Bc=oa[Dd]=new d["default"]({radius:ac,stroke:Ac&&0<cd?new t["default"]({width:cd,color:Ac}):void 0,fill:dc?new u["default"]({color:dc}):void 0}));vc.setImage(Bc);ac=vc.getText();vc.setText(void 0);vc.setGeometry(void 0);
vc.setZIndex(jb);Ac=!0}cd=void 0;"text-field"in fc&&(hc=l(kc,"layout","text-field",Ba,lb).toString(),cd=L(hc,db).trim(),hc=l(kc,"paint","text-opacity",Ba,lb));if(cd&&hc&&!Oc){if(!Ac){++ub;vc=Fa[ub];if(!vc||!vc.getText()||vc.getFill()||vc.getStroke())vc=Fa[ub]=new v["default"];vc.setImage(void 0);vc.setGeometry(void 0)}vc.getText()||vc.setText(ac||new f["default"]({padding:[2,2,2,2]}));ac=vc.getText();dc=Math.round(l(kc,"layout","text-size",Ba,lb));Dd=l(kc,"layout","text-font",Ba,lb);Oc=l(kc,"layout",
"text-line-height",Ba,lb);Dd=(0,e["default"])(wa?wa(Dd):Dd,dc,Oc);fc=fc["text-transform"];"uppercase"==fc?cd=cd.toUpperCase():"lowercase"==fc&&(cd=cd.toLowerCase());fc=l(kc,"layout","text-max-width",Ba,lb);Bc=l(kc,"layout","text-letter-spacing",Ba,lb);Sc=2==Sa?(0,n.applyLetterSpacing)(cd,Bc):(0,n.wrapText)(cd,Dd,fc,Bc);ac.setText(Sc);ac.setFont(Dd);ac.setRotation((0,n.deg2rad)(l(kc,"layout","text-rotate",Ba,lb)));Dd=l(kc,"layout","text-anchor",Ba,lb);yb=Ac||1==Sa?"point":l(kc,"layout","symbol-placement",
Ba,lb);ac.setPlacement(yb);fc=l(kc,"paint","text-halo-width",Ba,lb);Ac=l(kc,"layout","text-offset",Ba,lb);Bc=l(kc,"paint","text-translate",Ba,lb);Rd=pd=0;"point"==yb?(cd="center",-1!==Dd.indexOf("left")?(cd="left",Rd=fc):-1!==Dd.indexOf("right")&&(cd="right",Rd=-fc),ac.setTextAlign(cd),cd=l(kc,"layout","text-rotation-alignment",Ba,lb),ac.setRotateWithView("map"==cd)):(ac.setMaxAngle((0,n.deg2rad)(l(kc,"layout","text-max-angle",Ba,lb))*cd.length/Sc.length),ac.setTextAlign(),ac.setRotateWithView(!1));
cd="middle";0==Dd.indexOf("bottom")?(cd="bottom",pd=-fc-.5*(Oc-1)*dc):0==Dd.indexOf("top")&&(cd="top",pd=fc+.5*(Oc-1)*dc);ac.setTextBaseline(cd);ac.setOffsetX(Ac[0]*dc+Rd+Bc[0]);ac.setOffsetY(Ac[1]*dc+pd+Bc[1]);ea.setColor(G(l(kc,"paint","text-color",Ba,lb),hc));ac.setFill(ea);(hc=G(l(kc,"paint","text-halo-color",Ba,lb),hc))?(ca.setColor(hc),fc*=2,hc=.5*dc,ca.setWidth(fc<=hc?fc:hc),ac.setStroke(ca)):ac.setStroke(void 0);kc=l(kc,"layout","text-padding",Ba,lb);hc=ac.getPadding();kc!==hc[0]&&(hc[0]=
hc[1]=hc[2]=hc[3]=kc);vc.setZIndex(jb)}}},wc=0,$c=ab.length;for(;wc<$c;++wc)bc(wc,$c);if(-1<ub)return Fa.length=ub+1,la&&("function"===typeof Ra.set?Ra.set("mapbox-layer",Jb):Ra.getProperties()["mapbox-layer"]=Jb),Fa}};da.setStyle(O);da.set("mapbox-source",Ta);da.set("mapbox-layers",gb);return O};J._colorWithOpacity=G;J._evaluateFilter=w;J._fromTemplate=L;J._functionCache=J._filterCache=void 0;var v=m(z(206)),u=m(z(204)),t=m(z(205)),k=m(z(230)),f=m(z(231)),d=m(z(203)),g=m(z(328)),a=z(334),e=m(z(333)),
n=z(335),y=a["function"].isFunction,A=a["function"].convertFunction,C=a.expression.isExpression,N=a.expression.createPropertyExpression,K={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},E={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},x=function(da,O){da=N(da,O);if("error"===da.result)throw Error(da.value.map(function(B){return B.key+": "+B.message}).join(", "));return da.value},
D={},H={zoom:0},S={};J._functionCache=S;var U,ia,fa={};J._filterCache=fa;var ja=/^([^]*)\{(.*)\}([^]*)$/,la=!1};
shadow$provide[337]=function(Ea,z,ob,J){(function(){ob.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return m},getLink:function(l){return"https://fonts.google.com/specimen/"+l.replace(/( )/g,"+")},normalizeName:function(l){return l}};var m="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[338]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}function l(v){return"string"===typeof v?(v=JSON.parse(v))?v:null:null!==v?v:null}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(252));var w=m(z(186)),G=z(74),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,
t){function k(){this.constructor=u}v(u,t);u.prototype=null===t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(){return v.call(this)||this}L(u,v);u.prototype.getType=function(){return w["default"].JSON};u.prototype.readFeature=function(t,k){return this.readFeatureFromObject(l(t),this.getReadOptions(t,k))};u.prototype.readFeatures=function(t,k){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,k))};u.prototype.readFeatureFromObject=function(t,k){return(0,G["abstract"])()};
u.prototype.readFeaturesFromObject=function(t,k){return(0,G["abstract"])()};u.prototype.readGeometry=function(t,k){return this.readGeometryFromObject(l(t),this.getReadOptions(t,k))};u.prototype.readGeometryFromObject=function(t,k){return(0,G["abstract"])()};u.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))};u.prototype.readProjectionFromObject=function(t){return(0,G["abstract"])()};u.prototype.writeFeature=function(t,k){return JSON.stringify(this.writeFeatureObject(t,
k))};u.prototype.writeFeatureObject=function(t,k){return(0,G["abstract"])()};u.prototype.writeFeatures=function(t,k){return JSON.stringify(this.writeFeaturesObject(t,k))};u.prototype.writeFeaturesObject=function(t,k){return(0,G["abstract"])()};u.prototype.writeGeometry=function(t,k){return JSON.stringify(this.writeGeometryObject(t,k))};u.prototype.writeGeometryObject=function(t,k){return(0,G["abstract"])()};return u}(Ea["default"]);J["default"]=z};
shadow$provide[339]=function(Ea,z,ob,J){function m(K){return K&&K.__esModule?K:{"default":K}}function l(K,E){if(!K)return null;switch(K.type){case t["default"].POINT:K=new a["default"](K.coordinates);break;case t["default"].LINE_STRING:K=new k["default"](K.coordinates);break;case t["default"].POLYGON:K=new e["default"](K.coordinates);break;case t["default"].MULTI_POINT:K=new d["default"](K.coordinates);break;case t["default"].MULTI_LINE_STRING:K=new f["default"](K.coordinates);break;case t["default"].MULTI_POLYGON:K=
new g["default"](K.coordinates);break;case t["default"].GEOMETRY_COLLECTION:K=w(K);break;default:throw Error("Unsupported GeoJSON type: "+K.type);}return(0,C.transformGeometryWithOptions)(K,!1,E)}function w(K,E){K=K.geometries.map(function(x){return l(x,E)});return new u["default"](K)}function G(K,E){K=(0,C.transformGeometryWithOptions)(K,!0,E);var x=K.getType();switch(x){case t["default"].POINT:K={type:"Point",coordinates:K.getCoordinates()};break;case t["default"].LINE_STRING:K={type:"LineString",
coordinates:K.getCoordinates()};break;case t["default"].POLYGON:if(E)var D=E.rightHanded;K={type:"Polygon",coordinates:K.getCoordinates(D)};break;case t["default"].MULTI_POINT:K={type:"MultiPoint",coordinates:K.getCoordinates()};break;case t["default"].MULTI_LINE_STRING:K={type:"MultiLineString",coordinates:K.getCoordinates()};break;case t["default"].MULTI_POLYGON:if(E)var H=E.rightHanded;K={type:"MultiPolygon",coordinates:K.getCoordinates(H)};break;case t["default"].GEOMETRY_COLLECTION:K=L(K,E);
break;case t["default"].CIRCLE:K={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+x);}return K}function L(K,E){return{type:"GeometryCollection",geometries:K.getGeometriesArray().map(function(x){var D=(0,y.assign)({},E);delete D.featureProjection;return G(x,D)})}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;var v=m(z(190)),u=m(z(251)),t=m(z(119));Ea=m(z(338));var k=m(z(193)),f=m(z(194)),d=m(z(195)),g=m(z(197)),a=m(z(145)),e=m(z(152)),
n=z(76),y=z(86),A=z(130),C=z(252),N=function(){var K=function(E,x){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,H){D.__proto__=H}||function(D,H){for(var S in H)Object.prototype.hasOwnProperty.call(H,S)&&(D[S]=H[S])};return K(E,x)};return function(E,x){function D(){this.constructor=E}K(E,x);E.prototype=null===x?Object.create(x):(D.prototype=x.prototype,new D)}}();z=function(K){function E(x){var D=x?x:{};x=K.call(this)||this;x.dataProjection=(0,A.get)(D.dataProjection?D.dataProjection:
"EPSG:4326");D.featureProjection&&(x.defaultFeatureProjection=(0,A.get)(D.featureProjection));x.geometryName_=D.geometryName;x.extractGeometryName_=D.extractGeometryName;return x}N(E,K);E.prototype.readFeatureFromObject=function(x,D){x="Feature"===x.type?x:{type:"Feature",geometry:x,properties:null};D=l(x.geometry,D);var H=new v["default"];this.geometryName_?H.setGeometryName(this.geometryName_):this.extractGeometryName_&&H.setGeometryName(x.geometry_name);H.setGeometry(D);"id"in x&&H.setId(x.id);
x.properties&&H.setProperties(x.properties,!0);return H};E.prototype.readFeaturesFromObject=function(x,D){if("FeatureCollection"===x.type){var H=[];x=x.features;for(var S=0,U=x.length;S<U;++S)H.push(this.readFeatureFromObject(x[S],D))}else H=[this.readFeatureFromObject(x,D)];return H};E.prototype.readGeometryFromObject=function(x,D){return l(x,D)};E.prototype.readProjectionFromObject=function(x){x=x.crs;var D;x?"name"==x.type?D=(0,A.get)(x.properties.name):"EPSG"===x.type?D=(0,A.get)("EPSG:"+x.properties.code):
(0,n.assert)(!1,36):D=this.dataProjection;return D};E.prototype.writeFeatureObject=function(x,D){D=this.adaptOptions(D);var H={type:"Feature",geometry:null,properties:null},S=x.getId();void 0!==S&&(H.id=S);if(!x.hasProperties())return H;S=x.getProperties();var U=x.getGeometry();U&&(H.geometry=G(U,D),delete S[x.getGeometryName()]);(0,y.isEmpty)(S)||(H.properties=S);return H};E.prototype.writeFeaturesObject=function(x,D){D=this.adaptOptions(D);for(var H=[],S=0,U=x.length;S<U;++S)H.push(this.writeFeatureObject(x[S],
D));return{type:"FeatureCollection",features:H}};E.prototype.writeGeometryObject=function(x,D){return G(x,this.adaptOptions(D))};return E}(Ea["default"]);J["default"]=z};
shadow$provide[340]=function(Ea,z,ob,J){function m(){if("function"!==typeof WeakMap)return null;var za=new WeakMap;m=function(){return za};return za}function l(za){return za&&za.__esModule?za:{"default":za}}function w(za){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(pa){return typeof pa}:function(pa){return pa&&"function"===typeof Symbol&&pa.constructor===Symbol&&pa!==Symbol.prototype?"symbol":typeof pa};return w(za)}function G(za){if(!Da){Da={};for(var pa=document.styleSheets,
T=0,W=pa.length;T<W;++T){var M=pa[T];try{var P=M.rules||M.cssRules;if(P){M=0;for(var ca=P.length;M<ca;++M){var ea=P[M];if(5==ea.type){var oa=ea.cssText.match(wa);Da[oa[1].replace(xa,"")]=!0}}}}catch(ba){}}}return za in Da}function L(za){var pa=za.toString();if(pa in Wa)return za;for(var T=za.map(function(ea){ea=(0,N["default"])(ea,1).split(" ");return[ea.slice(3).join(" ").replace(/"/g,""),ea[1]+ea[0]]}),W=0,M=T.length;W<M;++W){var P=T[W],ca=P[0];G(ca)||-1===gb.indexOf(ca)||(P="https://fonts.googleapis.com/css?family\x3d"+
ca.replace(/ /g,"+")+":"+P[1],document.querySelector('link[href\x3d"'+P+'"]')||(ca=document.createElement("link"),ca.href=P,ca.rel="stylesheet",document.head.appendChild(ca)))}Wa[pa]=!0;return za}function v(za,pa){pa&&0===za.indexOf(".")&&(za=pa+za);return za}function u(za,pa,T){za=v(za,pa);return(pa=za.match(ra))?pa[1]+T+(2<pa.length?pa[2]:""):za+T}function t(za,pa,T,W,M){return new Promise(function(P,ca){function ea(){Fa||pa.sprite&&!oa?Fa?(za.setStyle(Fa),P()):ca(Error("Something went wrong trying to apply style.")):
(Fa=(0,K["default"])(za,pa,T,M,oa,ba,L),za.getStyle()?P():ca(Error("Nothing to show for source ["+T+"]")))}"object"!=w(pa)&&(pa=JSON.parse(pa));if(8!=pa.version)return ca(Error("glStyle version 8 required."));if(!(za instanceof ja["default"]||za instanceof la["default"]))return ca(Error("Can only apply to VectorLayer or VectorTileLayer"));var oa,ba,Fa;if(pa.sprite){var Ra=1.5<=window.devicePixelRatio?.5:1;var Ma=.5==Ra?"@2x":"",db=u(pa.sprite,W,Ma+".json");fetch(db,{credentials:"same-origin"}).then(function(ab){if(ab.ok||
""===Ma)return ab;db=u(pa.sprite,W,".json");return fetch(db,{credentials:"same-origin"})}).then(function(ab){if(ab.ok)return ab.json();ca(Error("Problem fetching sprite from "+db+": "+ab.statusText))}).then(function(ab){if(void 0===ab)return ca(Error("No sprites found."));oa=ab;ba=u(pa.sprite,W,Ma+".png");ea()})["catch"](function(ab){ca(Error("Sprites cannot be loaded: "+db+": "+ab.message))})}else ea()})}function k(za,pa){function T(){var M=za.getTargetElement();if(M){var P=pa.layout||{},ca=pa.paint||
{};W.paint=ca;W.id="olms-bg-"+ca["background-opacity"]+ca["background-color"];var ea=za.getView().getZoom();if(void 0!==ca["background-color"]){var oa=(0,K.getValue)(W,"paint","background-color",ea,Na);M.style.background=Y.Color.parse(oa).toString()}void 0!==ca["background-opacity"]&&(M.style.opacity=(0,K.getValue)(W,"paint","background-opacity",ea,Na));"none"==P.visibility&&(M.style.backgroundColor="",M.style.opacity="")}}var W={type:pa.type};za.getTargetElement()&&T();za.on(["change:resolution",
"change:target"],T)}function f(za,pa){var T;za.some(function(W){if(W.id==pa)return T=W.source,!0});return T}function d(za){var pa=za.bounds;if(pa)return za=(0,E.fromLonLat)([pa[0],pa[1]]),pa=(0,E.fromLonLat)([pa[2],pa[3]]),[za[0],za[1],pa[0],pa[1]]}function g(za,pa,T){za=(0,ka.assign)({},za);var W=new la["default"]({declutter:!0,visible:!1});pa=JSON.stringify(za);var M=Z[pa];M||(M=Z[pa]=new da["default"]({url:za.tiles?void 0:T,tileJSON:za.tiles?za:void 0}));var P=M.on("change",function(){var ca=M.getState();
if("ready"===ca){var ea=M.getTileJSON();ca=Array.isArray(ea.tiles)?ea.tiles:[ea.tiles];if(T)for(var oa=0,ba=ca.length;oa<ba;++oa){var Fa=ca[oa];0!=Fa.indexOf("http")&&(ca[oa]=T.replace(/\/?$/,"/")+Fa.replace(/^\//,""))}oa=M.getTileGrid();ba=d(ea);Fa=ea.minzoom||0;ea=ea.maxzoom||22;var Ra=M.get("ol-source");void 0===Ra&&(Ra=new B["default"]({attributions:M.getAttributions(),format:new U["default"],tileGrid:new D["default"]({origin:oa.getOrigin(0),extent:ba||oa.getExtent(),minZoom:Fa,resolutions:ka.defaultResolutions.slice(0,
ea+1),tileSize:512}),urls:ca}),M.set("ol-source",Ra));(0,ia.unByKey)(P);W.setSource(Ra)}else"error"===ca&&(M.set("ol-source",null),(0,ia.unByKey)(P),W.setSource(void 0))});"ready"===M.getState()&&M.changed();return W}function a(za,pa){var T=new fa["default"],W=new da["default"]({transition:0,url:za.tiles?void 0:pa,tileJSON:za.tiles?za:void 0,crossOrigin:"anonymous"}),M=W.on("change",function(){var P=W.getState();if("ready"===P){(0,ia.unByKey)(M);var ca=W.getTileJSON();P=d(ca);var ea=W.getTileGrid(),
oa=za.tileSize||ca.tileSize||512,ba=ca.minzoom||0;ca=ca.maxzoom||22;W.tileGrid=new D["default"]({origin:ea.getOrigin(0),extent:P||ea.getExtent(),minZoom:ba,resolutions:(0,x.createXYZ)({maxZoom:ca,tileSize:oa}).getResolutions(),tileSize:oa});T.setSource(W)}else"error"===P&&((0,ia.unByKey)(M),T.setSource(void 0))});W.setTileLoadFunction(function(P,ca){if(-1!=ca.indexOf("{bbox-epsg-3857}")){var ea=W.getTileGrid().getTileCoordExtent(P.getTileCoord());ca=ca.replace("{bbox-epsg-3857}",ea.toString())}P.getImage().src=
ca});return T}function e(za,pa){var T=za.data,W,M;"string"==typeof T?M=v(T,pa):W=Ta.readFeatures(T,{featureProjection:"EPSG:3857"});return new ja["default"]({source:new O["default"]({attributions:za.attribution,features:W,format:Ta,url:M}),visible:!1})}function n(za,pa,T){T=T.getZoom();za=(0,K.getValue)(za,"paint","raster-opacity",T,Na);pa.setOpacity(za)}function y(za,pa,T,W,M,P){void 0===P&&(P="");var ca=[],ea=pa.getView();ea.isDef()||ea.getRotation()||ea.getResolutions()||(ea=new S["default"]({maxResolution:ka.defaultResolutions[0]}),
pa.setView(ea));"center"in za&&!ea.getCenter()&&ea.setCenter((0,E.fromLonLat)(za.center));"zoom"in za&&void 0===ea.getZoom()&&ea.setResolution(ka.defaultResolutions[0]/Math.pow(2,za.zoom));ea.getCenter()&&void 0!==ea.getZoom()||ea.fit(ea.getProjection().getExtent(),{nearest:!0,size:pa.getSize()});za.sprite&&(0==za.sprite.indexOf("mapbox://")?za.sprite=T+"/sprite"+P:0!=za.sprite.indexOf("http")&&(za.sprite=(W?W+M:"")+za.sprite+P));var oa=za.layers,ba=[],Fa,Ra,Ma,db,ab,Ba;T=function(Jb,bc){Fa=oa[Jb];
Jb=Fa.type;if("heatmap"!=Jb&&"hillshade"!=Jb)if("background"==Jb)k(pa,Fa);else{db=Fa.source||f(oa,Fa.ref);if(db!=Ma){ba.length&&(ca.push(C(ab,ba,za,M,pa)),ba=[]);Ra=za.sources[db];if(Ba=Ra.url)if(Ba=v(Ba,M),0==Ba.indexOf("mapbox://")){var wc=Ba.replace("mapbox://","");Ra.tiles=["a","b","c","d"].map(function($c){return"https://"+$c+".tiles.mapbox.com/v4/"+wc+"/{z}/{x}/{y}."+("vector"==Ra.type?"vector.pbf":"png")+P})}else 0===Ba.indexOf("/")&&0===W.indexOf("http")&&(Ba=W+Ba);"vector"==Ra.type?ab=g(Ra,
P,Ba):"raster"==Ra.type?(ab=a(Ra,Ba),ab.setVisible(Fa.layout?"none"!==Fa.layout.visibility:!0),ea.on("change:resolution",n.bind(Sa,Fa,ab,ea)),n(Fa,ab,ea)):"geojson"==Ra.type&&(ab=e(Ra,M));Ma=db;ab&&ab.set("mapbox-source",Ma)}ba.push(Fa.id)}};for(var Sa=this,lb=0,ub=oa.length;lb<ub;++lb)T(lb,ub);ca.push(C(ab,ba,za,M,pa));pa.set("mapbox-style",za);return Promise.all(ca)}function A(za,pa){var T,W,M,P;var ca=T=W=M="";if("string"===typeof za||za instanceof HTMLElement)za=new H["default"]({target:za});
if("string"===typeof pa){if(P=pa.match(ra))T=P[1],ca=2<P.length?P[2]:"";P=new Promise(function(ea,oa){fetch(pa,{credentials:"same-origin"}).then(function(ba){return ba.json()}).then(function(ba){var Fa=document.createElement("A");Fa.href=pa;var Ra=Fa.href;M=Fa.pathname.split("/").slice(0,-1).join("/")+"/";W=Ra.substr(0,Ra.indexOf(M));y(ba,za,T,W,M,ca).then(function(){ea(za)})["catch"](oa)})["catch"](function(ba){oa(Error("Could not load "+pa+": "+ba.message))})})}else P=new Promise(function(ea,oa){y(pa,
za).then(function(){ea(za)})["catch"](oa)});return P}function C(za,pa,T,W,M){for(var P=24,ca=0,ea=T.layers,oa=0,ba=ea.length;oa<ba;++oa){var Fa=ea[oa];-1!==pa.indexOf(Fa.id)&&(P=Math.min("minzoom"in Fa?Fa.minzoom:0,P),ca=Math.max("maxzoom"in Fa?Fa.maxzoom:24,ca))}return new Promise(function(Ra,Ma){var db=function(){var ab=za.getSource();if(ab&&"error"!==ab.getState()){if("function"===typeof ab.getTileGrid){var Ba=ab.getTileGrid();if(Ba){var Sa=Ba.getMinZoom();(0<P||0<Sa)&&za.setMaxResolution(Math.min(ka.defaultResolutions[P],
Ba.getResolution(Sa))+1E-9);24>ca&&za.setMinResolution(ka.defaultResolutions[ca]+1E-9)}}ab instanceof O["default"]||ab instanceof B["default"]?t(za,T,pa,W).then(function(){za.setVisible(!0);Ra()},function(lb){Ma(lb)}):Ra()}else Ma(Error("Error accessing data for source "+za.get("mapbox-source")))};za.set("mapbox-layers",pa);-1===M.getLayers().getArray().indexOf(za)&&M.addLayer(za);if(za.getSource())db();else za.once("change:source",db)})}Object.defineProperty(J,"__esModule",{value:!0});J.applyStyle=
t;J.applyBackground=function(za,pa){pa.layers.some(function(T){if("background"==T.type)return k(za,T),!0})};J["default"]=A;J.apply=function(za,pa){if("string"===typeof za||za instanceof HTMLElement)za=new H["default"]({target:za});setTimeout(function(){A(za,pa)},0);return za};J.getLayer=function(za,pa){za=za.getLayers().getArray();for(var T=0,W=za.length;T<W;++T){var M=za[T].get("mapbox-layers");if(M&&-1!==M.indexOf(pa))return za[T]}};J.getLayers=function(za,pa){var T=[];za=za.getLayers().getArray();
for(var W=0,M=za.length;W<M;++W)za[W].get("mapbox-source")===pa&&T.push(za[W]);return T};J.getSource=function(za,pa){za=za.getLayers().getArray();for(var T=0,W=za.length;T<W;++T){var M=za[T].getSource();if(za[T].get("mapbox-source")===pa)return M}};J._finalizeLayer=C;J._getFonts=L;var N=l(z(333)),K=function(za){if(za&&za.__esModule)return za;if(null===za||"object"!==w(za)&&"function"!==typeof za)return{"default":za};var pa=m();if(pa&&pa.has(za))return pa.get(za);var T={},W=Object.defineProperty&&
Object.getOwnPropertyDescriptor,M;for(M in za)if(Object.prototype.hasOwnProperty.call(za,M)){var P=W?Object.getOwnPropertyDescriptor(za,M):null;P&&(P.get||P.set)?Object.defineProperty(T,M,P):T[M]=za[M]}T["default"]=za;pa&&pa.set(za,T);return T}(z(336));Ea=l(z(337));var E=z(130),x=z(268),D=l(z(267)),H=l(z(250)),S=l(z(153));ob=l(z(339));var U=l(z(329)),ia=z(90),fa=l(z(298)),ja=l(z(236)),la=l(z(332)),da=l(z(303)),O=l(z(242)),B=l(z(308)),Y=z(334),ka=z(335),Z={},wa=/font-family: ?([^;]*);/,xa=/("|')/g,
Da,Wa={},gb=Ea["default"].getNames(),ra=/^(.*)(\?.*)$/,Na={},Ta=new ob["default"]};
shadow$provide[341]=function(Ea,z,ob,J){function m(n){return n&&n.__esModule?n:{"default":n}}function l(n){return 0!==n.indexOf("mapbox://")?"":n.slice(9)}function w(n,y){var A=l(n);if(!A)return n;if(0!==A.indexOf("sprites/"))throw Error("unexpected sprites url: "+n);n=A.slice(8);return a+"/styles/v1/"+n+"/sprite?access_token\x3d"+y}function G(n,y){var A=l(n);if(!A)return n;if(0!==A.indexOf("fonts/"))throw Error("unexpected fonts url: "+n);n=A.slice(6);return a+"/fonts/v1/"+n+"/0-255.pbf?access_token\x3d"+
y}function L(n,y){var A=l(n);if(!A)return n;if(0!==A.indexOf("styles/"))throw Error("unexpected style url: "+n);n=A.slice(7);return a+"/styles/v1/"+n+"?\x26access_token\x3d"+y}function v(n,y){var A=l(n);return A?"https://{a-d}.tiles.mapbox.com/v4/"+A+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+y:n}Object.defineProperty(J,"__esModule",{value:!0});J.getMapboxPath=l;J.normalizeSpriteUrl=w;J.normalizeGlyphsUrl=G;J.normalizeStyleUrl=L;J.normalizeSourceUrl=v;J["default"]=void 0;Ea=m(z(84));var u=m(z(88)),
t=m(z(329)),k=m(z(95));ob=m(z(332));var f=m(z(308)),d=z(340),g=function(){var n=function(y,A){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||function(C,N){for(var K in N)Object.prototype.hasOwnProperty.call(N,K)&&(C[K]=N[K])};return n(y,A)};return function(y,A){function C(){this.constructor=y}n(y,A);y.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}(),a="https://api.mapbox.com",e=function(n){function y(A){var C=n.call(this,u["default"].ERROR)||
this;C.error=A;return C}g(y,n);return y}(Ea["default"]);z=function(n){function y(A){var C="declutter"in A?A.declutter:!0;var N=new f["default"]({state:k["default"].LOADING,format:new t["default"]});C=n.call(this,{source:N,declutter:C,className:A.className,opacity:A.opacity,visible:A.visible,zIndex:A.zIndex,minResolution:A.minResolution,maxResolution:A.maxResolution,minZoom:A.minZoom,maxZoom:A.maxZoom,renderOrder:A.renderOrder,renderBuffer:A.renderBuffer,renderMode:A.renderMode,map:A.map,updateWhileAnimating:A.updateWhileAnimating,
updateWhileInteracting:A.updateWhileInteracting,preload:A.preload,useInterimTilesOnError:A.useInterimTilesOnError})||this;C.sourceId=A.source;C.layers=A.layers;C.accessToken=A.accessToken;C.fetchStyle(A.styleUrl);return C}g(y,n);y.prototype.fetchStyle=function(A){var C=this;A=L(A,this.accessToken);fetch(A).then(function(N){if(!N.ok)throw Error("unexpected response when fetching style: "+N.status);return N.json()}).then(function(N){C.onStyleLoad(N)})["catch"](function(N){C.handleError(N)})};y.prototype.onStyleLoad=
function(A){var C=this,N;if(this.layers){var K={};for(N=0;N<A.layers.length;++N){var E=A.layers[N];E.source&&(K[E.id]=E.source)}E=void 0;for(N=0;N<this.layers.length;++N){var x=K[this.layers[N]];if(!x){this.handleError(Error("could not find source for "+this.layers[N]));return}if(!E)E=x;else if(E!==x){this.handleError(Error("layers can only use a single source, found "+E+" and "+x));return}}N=E;K=this.layers}else K=N=this.sourceId;K||(K=N=Object.keys(A.sources)[0]);A.sprite&&(A.sprite=w(A.sprite,
this.accessToken));A.glyphs&&(A.glyphs=G(A.glyphs,this.accessToken));N=A.sources[N];if("vector"!==N.type)this.handleError(Error("only works for vector sources, found "+N.type));else{var D=this.getSource();D.setUrl(v(N.url,this.accessToken));(0,d.applyStyle)(this,A,K).then(function(){D.setState(k["default"].READY)})["catch"](function(H){C.handleError(H)})}};y.prototype.handleError=function(A){this.dispatchEvent(new e(A));this.getSource().setState(k["default"].ERROR)};return y}(ob["default"]);J["default"]=
z};
shadow$provide[342]=function(Ea,z,ob,J){function m(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(293));var l=m(z(235)),w=m(z(88)),G=m(z(285)),L=m(z(199)),v=m(z(198)),u=m(z(121)),t=z(77),k=z(86),f=z(80),d=function(){var g=function(a,e){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])};return g(a,e)};return function(a,
e){function n(){this.constructor=a}g(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();z=function(g){function a(e){var n=g.call(this,e)||this;n.vectorRenderer_=new l["default"](e);n.layerImageRatio_=e.getImageRatio();n.coordinateToVectorPixelTransform_=(0,t.create)();n.renderedPixelToCoordinateTransform_=null;return n}d(a,g);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();g.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(e){return this.vectorRenderer_?
(e=(0,t.apply)(this.coordinateToVectorPixelTransform_,(0,t.apply)(this.renderedPixelToCoordinateTransform_,e.slice())),this.vectorRenderer_.getFeatures(e)):new Promise(function(n,y){n([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(e){var n=e.pixelRatio,y=e.viewState,A=y.resolution,C=e.viewHints,N=this.vectorRenderer_,K=e.extent;1!==this.layerImageRatio_&&(K=K.slice(0),(0,f.scaleFromCenter)(K,this.layerImageRatio_));var E=
(0,f.getWidth)(K)/A,x=(0,f.getHeight)(K)/A;if(!C[u["default"].ANIMATING]&&!C[u["default"].INTERACTING]&&!(0,f.isEmpty)(K)){N.useContainer(null,null,1);C=N.context;var D=(0,k.assign)({},e,{declutterTree:new v["default"](9),extent:K,size:[E,x],viewState:(0,k.assign)({},e.viewState,{rotation:0})}),H=new G["default"](K,A,n,C.canvas,function(S){N.prepareFrame(D)&&N.replayGroupChanged&&(N.clipping=!1,N.renderFrame(D,null),N.renderDeclutter(D),S())});H.addEventListener(w["default"].CHANGE,function(){if(H.getState()===
L["default"].LOADED){this.image_=H;var S=H.getResolution(),U=H.getPixelRatio();this.renderedResolution=S=S*n/U;this.coordinateToVectorPixelTransform_=(0,t.compose)(this.coordinateToVectorPixelTransform_,E/2,x/2,1/S,-1/S,0,-y.center[0],-y.center[1])}}.bind(this));H.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(e,n,y,A,C){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,y,A,C):g.prototype.forEachFeatureAtCoordinate.call(this,e,n,y,A,C)};return a}(Ea["default"]);J["default"]=z};
shadow$provide[343]=function(Ea,z,ob,J){function m(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(207));var l=m(z(342)),w=z(86),G=function(){var L=function(v,u){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,k){t.__proto__=k}||function(t,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(t[f]=k[f])};return L(v,u)};return function(v,u){function t(){this.constructor=v}L(v,u);v.prototype=null===u?Object.create(u):
(t.prototype=u.prototype,new t)}}();z=function(L){function v(u){u=u?u:{};var t=(0,w.assign)({},u);delete t.imageRatio;t=L.call(this,t)||this;t.imageRatio_=void 0!==u.imageRatio?u.imageRatio:1;return t}G(v,L);v.prototype.getImageRatio=function(){return this.imageRatio_};v.prototype.createRenderer=function(){return new l["default"](this)};return v}(Ea["default"]);J["default"]=z};
shadow$provide[344]=function(Ea,z,ob,J){function m(x){if("number"===typeof x)return K.NUMBER;if("boolean"===typeof x)return K.BOOLEAN;if("string"===typeof x)return(0,N.isStringColor)(x)?K.COLOR|K.STRING:K.STRING;if(!Array.isArray(x))throw Error("Unhandled value type: "+JSON.stringify(x));if(x.every(function(H){return"number"===typeof H}))return 3===x.length||4===x.length?K.COLOR|K.NUMBER_ARRAY:K.NUMBER_ARRAY;if("string"!==typeof x[0])throw Error("Expected an expression operator but received: "+JSON.stringify(x));
var D=E[x[0]];if(void 0===D)throw Error("Unrecognized expression operator: "+JSON.stringify(x));return D.getReturnType(x.slice(1))}function l(x){return 0===Math.log2(x)%1}function w(x){x=x.toString();return-1===x.indexOf(".")?x+".0":x}function G(x){if(2>x.length||4<x.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+x.length+"("+x.map(w).join(", ")+")"}function L(x){x=(0,N.asArray)(x).slice();4>x.length&&x.push(1);return G(x.map(function(D,H){return 3>
H?D/255:D}))}function v(x,D){void 0===x.stringLiteralsMap[D]&&(x.stringLiteralsMap[D]=Object.keys(x.stringLiteralsMap).length);return x.stringLiteralsMap[D]}function u(x,D){return w(v(x,D))}function t(x,D,H){if(Array.isArray(D)&&"string"===typeof D[0]){var S=E[D[0]];if(void 0===S)throw Error("Unrecognized expression operator: "+JSON.stringify(D));return S.toGlsl(x,D.slice(1),H)}S=m(D);if(0<(S&K.NUMBER))return w(D);if(0<(S&K.BOOLEAN))return D.toString();if(0<(S&K.STRING)&&(void 0===H||H==K.STRING))return u(x,
D.toString());if(0<(S&K.COLOR)&&(void 0===H||H==K.COLOR))return L(D);if(0<(S&K.NUMBER_ARRAY))return G(D)}function k(x){for(var D=0;D<x.length;D++){var H=x[D];if(!(m(H)&K.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(H)+" instead");}}function f(x){if(!(m(x)&K.STRING))throw Error("A string value was expected, got "+JSON.stringify(x)+" instead");}function d(x){if(!(m(x)&K.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(x)+" instead");}function g(x,D){if(x.length!==
D)throw Error("Exactly "+D+" arguments were expected, got "+x.length+" instead");}function a(x,D){if(x.length<D)throw Error("At least "+D+" arguments were expected, got "+x.length+" instead");}function e(x,D){if(x.length>D)throw Error("At most "+D+" arguments were expected, got "+x.length+" instead");}function n(x){if(0!==x.length%2)throw Error("An even amount of arguments was expected, got "+x+" instead");}function y(x,D){if(!l(D))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(x));}function A(x){return{getReturnType:function(D){return K.BOOLEAN},toGlsl:function(D,H){g(H,2);for(var S=K.ANY,U=0;U<H.length;U++)S&=m(H[U]);if(0===S)throw Error("All arguments should be of compatible type, got "+JSON.stringify(H)+" instead");return"("+t(D,H[0],S)+" "+x+" "+t(D,H[1],S)+")"}}}function C(x){return{getReturnType:function(D){return K.BOOLEAN},toGlsl:function(D,H){a(H,2);for(var S=0;S<H.length;S++)d(H[S]);S="";S=H.map(function(U){return t(D,U)}).join(" "+x+" ");return"("+
S+")"}}}Object.defineProperty(J,"__esModule",{value:!0});J.getValueType=m;J.isTypeUnique=l;J.numberToGlsl=w;J.arrayToGlsl=G;J.colorToGlsl=L;J.getStringNumberEquivalent=v;J.stringToGlsl=u;J.expressionToGlsl=t;J.Operators=J.ValueTypes=void 0;var N=z(82),K={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};J.ValueTypes=K;var E={};J.Operators=E;E.get={getReturnType:function(x){return K.ANY},toGlsl:function(x,D){g(D,1);f(D[0]);D=D[0].toString();-1===x.attributes.indexOf(D)&&x.attributes.push(D);
return(x.inFragmentShader?"v_":"a_")+D}};E["var"]={getReturnType:function(x){return K.ANY},toGlsl:function(x,D){g(D,1);f(D[0]);D=D[0].toString();-1===x.variables.indexOf(D)&&x.variables.push(D);return"u_"+D}};E.time={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,0);return"u_time"}};E.zoom={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,0);return"u_zoom"}};E.resolution={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,0);return"u_resolution"}};
E["*"]={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" * "+t(x,D[1])+")"}};E["/"]={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" / "+t(x,D[1])+")"}};E["+"]={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" + "+t(x,D[1])+")"}};E["-"]={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" - "+t(x,D[1])+")"}};
E.clamp={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,3);k(D);var H=t(x,D[1]),S=t(x,D[2]);return"clamp("+t(x,D[0])+", "+H+", "+S+")"}};E["%"]={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,2);k(D);return"mod("+t(x,D[0])+", "+t(x,D[1])+")"}};E["^"]={getReturnType:function(x){return K.NUMBER},toGlsl:function(x,D){g(D,2);k(D);return"pow("+t(x,D[0])+", "+t(x,D[1])+")"}};E["\x3e"]={getReturnType:function(x){return K.BOOLEAN},toGlsl:function(x,D){g(D,2);k(D);
return"("+t(x,D[0])+" \x3e "+t(x,D[1])+")"}};E["\x3e\x3d"]={getReturnType:function(x){return K.BOOLEAN},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" \x3e\x3d "+t(x,D[1])+")"}};E["\x3c"]={getReturnType:function(x){return K.BOOLEAN},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" \x3c "+t(x,D[1])+")"}};E["\x3c\x3d"]={getReturnType:function(x){return K.BOOLEAN},toGlsl:function(x,D){g(D,2);k(D);return"("+t(x,D[0])+" \x3c\x3d "+t(x,D[1])+")"}};E["\x3d\x3d"]=A("\x3d\x3d");E["!\x3d"]=A("!\x3d");
E["!"]={getReturnType:function(x){return K.BOOLEAN},toGlsl:function(x,D){g(D,1);d(D[0]);return"(!"+t(x,D[0])+")"}};E.all=C("\x26\x26");E.any=C("||");E.between={getReturnType:function(x){return K.BOOLEAN},toGlsl:function(x,D){g(D,3);k(D);var H=t(x,D[1]),S=t(x,D[2]);x=t(x,D[0]);return"("+x+" \x3e\x3d "+H+" \x26\x26 "+x+" \x3c\x3d "+S+")"}};E.array={getReturnType:function(x){return K.NUMBER_ARRAY},toGlsl:function(x,D){a(D,2);e(D,4);k(D);var H=D.map(function(S){return t(x,S,K.NUMBER)});return"vec"+D.length+
"("+H.join(", ")+")"}};E.color={getReturnType:function(x){return K.COLOR},toGlsl:function(x,D){a(D,3);e(D,4);k(D);3===D.length&&D.push(1);var H=D.map(function(S,U){return t(x,S,K.NUMBER)+(3>U?" / 255.0":"")});return"vec"+D.length+"("+H.join(", ")+")"}};E.interpolate={getReturnType:function(x){for(var D=K.COLOR|K.NUMBER,H=3;H<x.length;H+=2)D&=m(x[H]);return D},toGlsl:function(x,D,H){n(D);a(D,6);var S=D[0];switch(S[0]){case "linear":var U=1;break;case "exponential":U=S[1];break;default:U=null}if(!U)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(S));H=void 0!==H?H:K.ANY;H&=E.interpolate.getReturnType(D);y(D,H);S=t(x,D[1]);for(var ia=null,fa=2;fa<D.length-2;fa+=2){var ja=t(x,D[fa]),la=t(x,D[fa+1],H),da=t(x,D[fa+2]),O=t(x,D[fa+3],H);ia="mix("+(ia||la)+", "+O+", pow(clamp(("+S+" - "+ja+") / ("+da+" - "+ja+"), 0.0, 1.0), "+w(U)+"))"}return ia}};E.match={getReturnType:function(x){for(var D=K.ANY,H=2;H<x.length;H+=2)D&=m(x[H]);return D&=m(x[x.length-1])},toGlsl:function(x,D,H){n(D);a(D,4);H=void 0!==H?H:K.ANY;H&=E.match.getReturnType(D);
y(D,H);for(var S=t(x,D[0]),U=t(x,D[D.length-1],H),ia=null,fa=D.length-3;1<=fa;fa-=2){var ja=t(x,D[fa]),la=t(x,D[fa+1],H);ia="("+S+" \x3d\x3d "+ja+" ? "+la+" : "+(ia||U)+")"}return ia}};E["case"]={getReturnType:function(x){for(var D=K.ANY,H=1;H<x.length;H+=2)D&=m(x[H]);return D&=m(x[x.length-1])},toGlsl:function(x,D,H){if(0===D.length%2)throw Error("An odd amount of arguments was expected, got "+D+" instead");a(D,3);H=void 0!==H?H:K.ANY;H&=E["case"].getReturnType(D);y(D,H);for(var S=0;S<D.length-1;S+=
2)d(D[S]);var U=t(x,D[D.length-1],H),ia=null;for(S=D.length-3;0<=S;S-=2){var fa=t(x,D[S]),ja=t(x,D[S+1],H);ia="("+fa+" ? "+ja+" : "+(ia||U)+")"}return ia}}};
shadow$provide[345]=function(Ea,z,ob,J){Object.defineProperty(J,"__esModule",{value:!0});J.parseLiteralStyle=function(w){var G=w.symbol,L=void 0!==G.size?G.size:1,v=G.color||"white",u=G.textureCoord||[0,0,1,1],t=G.offset||[0,0],k=void 0!==G.opacity?G.opacity:1,f=void 0!==G.rotation?G.rotation:0,d={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},g=(0,m.expressionToGlsl)(d,L,m.ValueTypes.NUMBER_ARRAY|m.ValueTypes.NUMBER);t=(0,m.expressionToGlsl)(d,t,m.ValueTypes.NUMBER_ARRAY);u=
(0,m.expressionToGlsl)(d,u,m.ValueTypes.NUMBER_ARRAY);var a=(0,m.expressionToGlsl)(d,f,m.ValueTypes.NUMBER);f={inFragmentShader:!0,variables:d.variables,attributes:[],stringLiteralsMap:d.stringLiteralsMap};v=(0,m.expressionToGlsl)(f,v,m.ValueTypes.COLOR);k=(0,m.expressionToGlsl)(f,k,m.ValueTypes.NUMBER);var e="1.0";L="vec2("+(0,m.expressionToGlsl)(f,L,m.ValueTypes.NUMBER_ARRAY|m.ValueTypes.NUMBER)+").x";switch(G.symbolType){case "square":break;case "image":break;case "circle":e="(1.0-smoothstep(1.-4./"+
L+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":e="(1.0-smoothstep(.5-3./"+L+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+G.symbolType);}var n=(new l).setSizeExpression("vec2("+g+")").setRotationExpression(a).setSymbolOffsetExpression(t).setTextureCoordinateExpression(u).setSymbolRotateWithView(!!G.rotateWithView).setColorExpression("vec4("+
v+".rgb, "+v+".a * "+k+" * "+e+")");w.filter&&(g=(0,m.expressionToGlsl)(f,w.filter,m.ValueTypes.BOOLEAN),n.setFragmentDiscardExpression("!"+g));var y={};f.variables.forEach(function(A){n.addUniform("float u_"+A);y["u_"+A]=function(){if(!w.variables||void 0===w.variables[A])throw Error("The following variable is missing from the style: "+A);var C=w.variables[A];"string"===typeof C&&(C=(0,m.getStringNumberEquivalent)(d,C));return void 0!==C?C:-9999999}});"image"===G.symbolType&&G.src&&(g=new Image,
g.src=G.src,n.addUniform("sampler2D u_texture").setColorExpression(n.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),y.u_texture=g);f.attributes.forEach(function(A){-1===d.attributes.indexOf(A)&&d.attributes.push(A);n.addVarying("v_"+A,"float","a_"+A)});d.attributes.forEach(function(A){n.addAttribute("float a_"+A)});return{builder:n,attributes:d.attributes.map(function(A){return{name:A,callback:function(C,N){C=N[A];"string"===typeof C&&(C=(0,m.getStringNumberEquivalent)(d,C));return void 0!==
C?C:-9999999}}}),uniforms:y}};J.ShaderBuilder=void 0;var m=z(344),l=function(){function w(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}w.prototype.addUniform=function(G){this.uniforms.push(G);return this};w.prototype.addAttribute=function(G){this.attributes.push(G);
return this};w.prototype.addVarying=function(G,L,v){this.varyings.push({name:G,type:L,expression:v});return this};w.prototype.setSizeExpression=function(G){this.sizeExpression=G;return this};w.prototype.setRotationExpression=function(G){this.rotationExpression=G;return this};w.prototype.setSymbolOffsetExpression=function(G){this.offsetExpression=G;return this};w.prototype.setColorExpression=function(G){this.colorExpression=G;return this};w.prototype.setTextureCoordinateExpression=function(G){this.texCoordExpression=
G;return this};w.prototype.setFragmentDiscardExpression=function(G){this.discardExpression=G;return this};w.prototype.setSymbolRotateWithView=function(G){this.rotateWithView=G;return this};w.prototype.getSizeExpression=function(){return this.sizeExpression};w.prototype.getOffsetExpression=function(){return this.offsetExpression};w.prototype.getColorExpression=function(){return this.colorExpression};w.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};w.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};w.prototype.getSymbolVertexShader=function(G){var L=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",v=this.attributes,u=this.varyings;G&&(v=v.concat("vec4 a_hitColor"),u=u.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(t){return"uniform "+t+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+v.map(function(t){return"attribute "+t+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+u.map(function(t){return"varying "+t.type+" "+t.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+L+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+u.map(function(t){return"  "+t.name+" \x3d "+t.expression+";"}).join("\n")+"\n}"};w.prototype.getSymbolFragmentShader=
function(G){var L=G?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",v=this.varyings;G&&(v=v.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(u){return"uniform "+u+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+v.map(function(u){return"varying "+u.type+" "+u.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+L+"\n}"};return w}();J.ShaderBuilder=l};
shadow$provide[346]=function(Ea,z,ob,J){function m(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(J,"__esModule",{value:!0});J["default"]=void 0;Ea=m(z(96));var l=m(z(325)),w=z(86),G=z(345),L=function(){var v=function(u,t){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(k[d]=f[d])};return v(u,t)};return function(u,t){function k(){this.constructor=u}v(u,t);u.prototype=null===
t?Object.create(t):(k.prototype=t.prototype,new k)}}();z=function(v){function u(t){var k=(0,w.assign)({},t);k=v.call(this,k)||this;k.parseResult_=(0,G.parseLiteralStyle)(t.style);k.hitDetectionDisabled_=!!t.disableHitDetection;return k}L(u,v);u.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};u.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();v.prototype.disposeInternal.call(this)};return u}(Ea["default"]);J["default"]=z};
shadow$provide[347]=function(Ea,z,ob,J){function m(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(J,"__esModule",{value:!0});Object.defineProperty(J,"Graticule",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(J,"Group",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(J,"Heatmap",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(J,"Image",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(J,
"Layer",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(J,"MapboxVector",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(J,"Tile",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(J,"Vector",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(J,"VectorImage",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(J,"VectorTile",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(J,"WebGLPoints",{enumerable:!0,get:function(){return g["default"]}});var l=m(z(315)),w=m(z(108)),G=m(z(326)),L=m(z(294)),v=m(z(96)),u=m(z(341)),t=m(z(298)),k=m(z(236)),f=m(z(343)),d=m(z(332)),g=m(z(346))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",fa="datascript.db",ha="datascript.pull-api",ja="taoensso.sente",g,la=la||{},ma=this||self;function ia(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function na(){}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==pa(a)}function ra(a){var b=pa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==pa(a)}function ta(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ya(a){return a[za]||(a[za]=++Aa)}var za="closure_uid_"+(1E9*Math.random()>>>0),Aa=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ia(a,b){function c(){}c.prototype=b.prototype;a.Ed=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ja(a){Ja[" "](a);return a}Ja[" "]=na;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Na=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Sa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ta(a){a:{var b=Va;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Wa(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Xa(a,b){b=Na(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Ya(a){return Array.prototype.concat.apply([],arguments)}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b){a.sort(b||ab)}function bb(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||ab;$a(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function ab(a,b){return a>b?1:a<b?-1:0}function cb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function db(a){this.Hi=a}db.prototype.toString=function(){return this.Hi};var eb=new db("IFRAME"),fb=new db("SCRIPT");function Ha(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function gb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function hb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ib(a,b,c){return null!==a&&b in a?a[b]:c}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function lb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<kb.length;f++)c=kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function mb(a,b){this.Gi=a===nb&&b||"";this.lh=ob}var ob={},nb={},pb=new mb(nb,"");function qb(){}qb.prototype.Bd=function(){return this};(new qb).Bd("");function rb(a,b){this.Ai=a===sb&&b||"";this.mh=tb}var tb={},sb={};function ub(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function vb(a){return/^[\s\xa0]*$/.test(a)}var wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function xb(a){return-1!=zb.toLowerCase().indexOf(a.toLowerCase())}function Ab(a,b){return a<b?-1:a>b?1:0};function Bb(){}Bb.prototype.Bd=function(){return this};(new Bb).Bd("");function Cb(){}Cb.prototype.Bd=function(){return this};(new Cb).Bd("");var zb;a:{var Ma=ma.navigator;if(Ma){var jb=Ma.userAgent;if(jb){zb=jb;break a}}zb=""}function Fb(a){return-1!=zb.indexOf(a)};function Gb(){this.Xg="";this.kh=Hb}function Ib(){var a=Jb;if(a instanceof Gb&&a.constructor===Gb&&a.kh===Hb)return a.Xg;pa(a);return"type_error:SafeHtml"}var Hb={};Gb.prototype.Bd=function(a){this.Xg=a;return this};(new Gb).Bd("\x3c!DOCTYPE html\x3e");var Jb=(new Gb).Bd("");(new Gb).Bd("\x3cbr\x3e");function Kb(a){var b=new rb(sb,pb instanceof mb&&pb.constructor===mb&&pb.lh===ob?pb.Gi:"type_error:Const");b instanceof rb&&b.constructor===rb&&b.mh===tb?b=b.Ai:(pa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Lb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Ob(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(ra(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Pb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}
function Qb(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return hb(a)}}function Rb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Pa(a,b,c);else for(var d=Qb(a),e=Pb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Sb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ra(a)||"string"===typeof a)return Sa(a,b,void 0);for(var c=Qb(a),d=Pb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Tb(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Tb.prototype;g.getCount=function(){return this.count_};g.getValues=function(){Ub(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){Ub(this);return this.keys_.concat()};
g.containsKey=function(a){return Vb(this.map_,a)};g.He=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Vb(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Wb;Ub(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Wb(a,b){return a===b}g.isEmpty=function(){return 0==this.count_};
g.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};g.remove=function(a){return Vb(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Ub(this),!0):!1};
function Ub(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Vb(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Vb(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}g.get=function(a,b){return Vb(this.map_,a)?this.map_[a]:b};g.set=function(a,b){Vb(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof Tb)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Tb(this)};g.transpose=function(){for(var a=new Tb,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};function Vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Yb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function $b(a,b){this.count_=this.Ab=null;this.Nc=a||null;this.Ph=!!b}function bc(a){a.Ab||(a.Ab=new Tb,a.count_=0,a.Nc&&Zb(a.Nc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=$b.prototype;g.getCount=function(){bc(this);return this.count_};g.add=function(a,b){bc(this);this.Nc=null;a=cc(this,a);var c=this.Ab.get(a);c||this.Ab.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){bc(this);a=cc(this,a);return this.Ab.containsKey(a)?(this.Nc=null,this.count_-=this.Ab.get(a).length,this.Ab.remove(a)):!1};g.clear=function(){this.Ab=this.Nc=null;this.count_=0};g.isEmpty=function(){bc(this);return 0==this.count_};g.containsKey=function(a){bc(this);a=cc(this,a);return this.Ab.containsKey(a)};g.He=function(a){var b=this.getValues();return 0<=Na(b,a)};g.forEach=function(a,b){bc(this);this.Ab.forEach(function(c,d){Pa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){bc(this);for(var a=this.Ab.getValues(),b=this.Ab.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.getValues=function(a){bc(this);var b=[];if("string"===typeof a)this.containsKey(a)&&(b=Ya(b,this.Ab.get(cc(this,a))));else{a=this.Ab.getValues();for(var c=0;c<a.length;c++)b=Ya(b,a[c])}return b};
g.set=function(a,b){bc(this);this.Nc=null;a=cc(this,a);this.containsKey(a)&&(this.count_-=this.Ab.get(a).length);this.Ab.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.Nc)return this.Nc;if(!this.Ab)return"";for(var a=[],b=this.Ab.getKeys(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.getValues(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.Nc=a.join("\x26")};g.clone=function(){var a=new $b;a.Nc=this.Nc;this.Ab&&(a.Ab=this.Ab.clone(),a.count_=this.count_);return a};function cc(a,b){b=String(b);a.Ph&&(b=b.toLowerCase());return b}
g.extend=function(a){for(var b=0;b<arguments.length;b++)Rb(arguments[b],function(c,d){this.add(d,c)},this)};function dc(a,b){null!=a&&this.append.apply(this,arguments)}g=dc.prototype;g.Id="";g.set=function(a){this.Id=""+a};g.append=function(a,b,c){this.Id+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Id+=arguments[d];return this};g.clear=function(){this.Id=""};g.getLength=function(){return this.Id.length};g.toString=function(){return this.Id};var fc={},gc={},hc,l={},ic=null,jc=null,kc=!0,lc=!0,mc=null,nc=null;function oc(){return new p(null,5,[pc,!0,qc,lc,rc,!1,sc,!1,tc,mc],null)}function uc(){kc=!1;jc=function(){return console.log.apply(console,Za(arguments))}}function q(a){return null!=a&&!1!==a}function vc(a){return null==a}function wc(a){return a instanceof Array}function xc(a){return"number"===typeof a}function yc(a){return null==a?!0:!1===a?!0:!1}function zc(a){return null!=a}
function Ac(a,b){return a[pa(null==b?null:b)]?!0:a._?!0:!1}function Bc(a){return null==a?null:a.constructor}function Cc(a,b){var c=Bc(b);c=q(q(c)?c.$b:c)?c.Kb:pa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Dc(a){var b=a.Kb;return q(b)?b:t.aa(a)}
var Ec="undefined"!==typeof Symbol&&"function"===pa(Symbol)?Symbol.iterator:"@@iterator",Fc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Gc=null;
function Hc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ic(a){function b(d,e){d.push(e);return d}var c=[];return v.ba?v.ba(b,c,a):v.call(null,b,c,a)}function Jc(a){return"symbol"===pa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Kc(){}function Lc(){}function Mc(){}
function Nc(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=Nc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ICounted.-count",a);}return a}function Oc(){}function Pc(a){if(null!=a&&null!=a.Ya)a=a.Ya(a);else{var b=Pc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IEmptyableCollection.-empty",a);}return a}function Qc(){}
function Rc(a,b){if(null!=a&&null!=a.xa)a=a.xa(a,b);else{var c=Rc[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Rc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ICollection.-conj",a);}return a}function Sc(){}
var Tc=function(){function a(d,e,f){var h=x[pa(null==d?null:d)];if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);throw Cc("IIndexed.-nth",d);}function b(d,e){var f=x[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.ba=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.La?a.La(a,b):Tc(a,b)};x.ba=function(a,b,c){return null!=a&&null!=a.gb?a.gb(a,b,c):Tc(a,b,c)};x.na=3;function Uc(){}
function Vc(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=Vc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Vc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ISeq.-first",a);}return a}function Wc(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Wc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ISeq.-rest",a);}return a}function Xc(){}
function Yc(a){if(null!=a&&null!=a.bb)a=a.bb(a);else{var b=Yc[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INext.-next",a);}return a}function $c(){}
var bd=function(){function a(d,e,f){var h=ad[pa(null==d?null:d)];if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);h=ad._;if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);throw Cc("ILookup.-lookup",d);}function b(d,e){var f=ad[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=ad._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.ba=a;return c}(),ad=function ad(a){switch(arguments.length){case 2:return ad.j(arguments[0],arguments[1]);case 3:return ad.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};ad.j=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):bd(a,b)};ad.ba=function(a,b,c){return null!=a&&null!=a.ka?a.ka(a,b,c):bd(a,b,c)};ad.na=3;
function cd(a,b,c){if(null!=a&&null!=a.pa)a=a.pa(a,b,c);else{var d=cd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=cd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IAssociative.-assoc",a);}return a}function dd(a,b){if(null!=a&&null!=a.rd)a=a.rd(a,b);else{var c=dd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IFind.-find",a);}return a}function ed(){}
function fd(a,b){if(null!=a&&null!=a.Ka)a=a.Ka(a,b);else{var c=fd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=fd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IMap.-dissoc",a);}return a}function gd(a){if(null!=a&&null!=a.Ff)a=a.key;else{var b=gd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=gd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IMapEntry.-key",a);}return a}
function hd(a){if(null!=a&&null!=a.Gf)a=a.val;else{var b=hd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=hd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IMapEntry.-val",a);}return a}function id(){}function jd(a,b){if(null!=a&&null!=a.If)a=a.If(a,b);else{var c=jd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISet.-disjoin",a);}return a}
function kd(a){if(null!=a&&null!=a.sd)a=a.sd(a);else{var b=kd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=kd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IStack.-peek",a);}return a}function ld(a){if(null!=a&&null!=a.td)a=a.td(a);else{var b=ld[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=ld._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IStack.-pop",a);}return a}function md(){}
function nd(a,b,c){if(null!=a&&null!=a.Wc)a=a.Wc(a,b,c);else{var d=nd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IVector.-assoc-n",a);}return a}function od(){}function y(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=y[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=y._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDeref.-deref",a);}return a}function pd(){}
function qd(a){if(null!=a&&null!=a.ra)a=a.ra(a);else{var b=qd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=qd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IMeta.-meta",a);}return a}function rd(a,b){if(null!=a&&null!=a.sa)a=a.sa(a,b);else{var c=rd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWithMeta.-with-meta",a);}return a}function sd(){}
var ud=function(){function a(d,e,f){var h=td[pa(null==d?null:d)];if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);h=td._;if(null!=h)return h.ba?h.ba(d,e,f):h.call(null,d,e,f);throw Cc("IReduce.-reduce",d);}function b(d,e){var f=td[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=td._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.ba=a;return c}(),td=function td(a){switch(arguments.length){case 2:return td.j(arguments[0],arguments[1]);case 3:return td.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};td.j=function(a,b){return null!=a&&null!=a.hb?a.hb(a,b):ud(a,b)};td.ba=function(a,b,c){return null!=a&&null!=a.ib?a.ib(a,b,c):ud(a,b,c)};td.na=3;function vd(){}
function wd(a,b,c){if(null!=a&&null!=a.Ia)a=a.Ia(a,b,c);else{var d=wd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=wd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IKVReduce.-kv-reduce",a);}return a}function xd(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=xd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEquiv.-equiv",a);}return a}
function yd(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=yd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=yd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IHash.-hash",a);}return a}function zd(){}function Dd(a){if(null!=a&&null!=a.ua)a=a.ua(a);else{var b=Dd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ISeqable.-seq",a);}return a}function Ed(){}function Fd(){}function Gd(){}
function Hd(){}function Id(a){if(null!=a&&null!=a.Jc)a=a.Jc(a);else{var b=Id[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Id._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IReversible.-rseq",a);}return a}function Jd(a,b){if(null!=a&&null!=a.Ld)a=a.Ld(a,b);else{var c=Jd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWriter.-write",a);}return a}
function Kd(a){if(null!=a&&null!=a.gd)a=a.gd(a);else{var b=Kd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Kd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IWriter.-flush",a);}return a}function Ld(){}function Md(a,b,c){if(null!=a&&null!=a.ta)a=a.ta(a,b,c);else{var d=Md[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=Md._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IPrintWithWriter.-pr-writer",a);}return a}
function Nd(){}function Od(a){if(null!=a&&null!=a.cf)a=a.cf(a);else{var b=Od[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Od._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IPending.-realized?",a);}return a}function Pd(a,b,c){if(null!=a&&null!=a.Dg)a.Dg(a,b,c);else{var d=Pd[pa(null==a?null:a)];if(null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=Pd._,null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IWatchable.-add-watch",a);}}
function Sd(a,b){if(null!=a&&null!=a.Eg)a.Eg(a,b);else{var c=Sd[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWatchable.-remove-watch",a);}}function Td(a){if(null!=a&&null!=a.Jd)a=a.Jd(a);else{var b=Td[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Td._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IEditableCollection.-as-transient",a);}return a}
function Ud(a,b){if(null!=a&&null!=a.Kd)a=a.Kd(a,b);else{var c=Ud[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ud._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientCollection.-conj!",a);}return a}function Vd(a){if(null!=a&&null!=a.Sd)a=a.Sd(a);else{var b=Vd[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Vd._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("ITransientCollection.-persistent!",a);}return a}
function Wd(a,b,c){if(null!=a&&null!=a.ee)a=a.ee(a,b,c);else{var d=Wd[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=Wd._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("ITransientAssociative.-assoc!",a);}return a}function Xd(a,b){if(null!=a&&null!=a.Jf)a=a.Jf(a,b);else{var c=Xd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientMap.-dissoc!",a);}return a}
function Yd(){}function Zd(a,b){if(null!=a&&null!=a.fd)a=a.fd(a,b);else{var c=Zd[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Zd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IComparable.-compare",a);}return a}function $d(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=$d[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=$d._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChunk.-drop-first",a);}return a}
function ae(a){if(null!=a&&null!=a.we)a=a.we(a);else{var b=ae[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=ae._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-first",a);}return a}function be(a){if(null!=a&&null!=a.Rd)a=a.Rd(a);else{var b=be[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=be._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-rest",a);}return a}
function ce(a){if(null!=a&&null!=a.ze)a=a.ze(a);else{var b=ce[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=ce._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INamed.-name",a);}return a}function de(a){if(null!=a&&null!=a.Ae)a=a.Ae(a);else{var b=de[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=de._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INamed.-namespace",a);}return a}
function ee(a,b){if(null!=a&&null!=a.xh)a=a.xh(a,b);else{var c=ee[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ee._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IReset.-reset!",a);}return a}
var ge=function(){function a(f,h,k,m,n){var r=fe[pa(null==f?null:f)];if(null!=r)return r.za?r.za(f,h,k,m,n):r.call(null,f,h,k,m,n);r=fe._;if(null!=r)return r.za?r.za(f,h,k,m,n):r.call(null,f,h,k,m,n);throw Cc("ISwap.-swap!",f);}function b(f,h,k,m){var n=fe[pa(null==f?null:f)];if(null!=n)return n.ja?n.ja(f,h,k,m):n.call(null,f,h,k,m);n=fe._;if(null!=n)return n.ja?n.ja(f,h,k,m):n.call(null,f,h,k,m);throw Cc("ISwap.-swap!",f);}function c(f,h,k){var m=fe[pa(null==f?null:f)];if(null!=m)return m.ba?m.ba(f,
h,k):m.call(null,f,h,k);m=fe._;if(null!=m)return m.ba?m.ba(f,h,k):m.call(null,f,h,k);throw Cc("ISwap.-swap!",f);}function d(f,h){var k=fe[pa(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=fe._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Cc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.ba=c;e.ja=b;e.za=a;return e}(),fe=function fe(a){switch(arguments.length){case 2:return fe.j(arguments[0],arguments[1]);case 3:return fe.ba(arguments[0],arguments[1],arguments[2]);case 4:return fe.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fe.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};
fe.j=function(a,b){return null!=a&&null!=a.zh?a.zh(a,b):ge(a,b)};fe.ba=function(a,b,c){return null!=a&&null!=a.Ah?a.Ah(a,b,c):ge(a,b,c)};fe.ja=function(a,b,c,d){return null!=a&&null!=a.Bh?a.Bh(a,b,c,d):ge(a,b,c,d)};fe.za=function(a,b,c,d,e){return null!=a&&null!=a.Ch?a.Ch(a,b,c,d,e):ge(a,b,c,d,e)};fe.na=5;
function he(a,b){if(null!=a&&null!=a.Xc)a.Xc(a,b);else{var c=he[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=he._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IVolatile.-vreset!",a);}}function ie(){}function je(a){if(null!=a&&null!=a.Ba)a=a.Ba(a);else{var b=je[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=je._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IIterable.-iterator",a);}return a}
function ke(a){this.Fi=a;this.ga=1073741824;this.la=0}ke.prototype.Ld=function(a,b){return this.Fi.append(b)};ke.prototype.gd=function(){return null};function le(a){var b=new dc,c=new ke(b);a.ta(null,c,oc());c.gd(null);return t.aa(b)}var me="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};
function ne(a){a=me(a|0,-862048943);return me(a<<15|a>>>-15,461845907)}function oe(a,b){a=(a|0)^(b|0);return me(a<<13|a>>>-13,5)+-430675100|0}function pe(a,b){a=(a|0)^b;a=me(a^a>>>16,-2048144789);a=me(a^a>>>13,-1028477387);return a^a>>>16}var qe={},re=0;
function se(a){255<re&&(qe={},re=0);if(null==a)return 0;var b=qe[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=me(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;qe[a]=b;re+=1;a=b}return a}
function ve(a){if(null!=a&&(a.ga&4194304||l===a.uh))return a.wa(null)^0;if("number"===typeof a){if(q(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=se(a),a=0===a?a:pe(oe(0,ne(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yd(a)^0,a}function we(a){return a instanceof z}
function xe(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=oe(d,ne(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=pe(1===(b.length&1)?c^ne(b.charCodeAt(b.length-1)):c,me(2,b.length));a=se(a.dc);return b^a+2654435769+(b<<6)+(b>>2)}function ye(a,b){if(a.od===b.od)return 0;if(q(yc(a.dc)?b.dc:!1))return-1;if(q(a.dc)){if(yc(b.dc))return 1;var c=ab(a.dc,b.dc);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}
function z(a,b,c,d,e){this.dc=a;this.name=b;this.od=c;this._hash=d;this.Gc=e;this.ga=2154168321;this.la=4096}g=z.prototype;g.toString=function(){return this.od};g.equiv=function(a){return this.oa(null,a)};g.oa=function(a,b){return b instanceof z?this.od===b.od:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return B.j?B.j(a,this):B.call(null,a,this)};g.j=function(a,b){return B.ba?B.ba(a,this,b):B.call(null,a,this,b)};g.ra=function(){return this.Gc};g.sa=function(a,b){return new z(this.dc,this.name,this.od,this._hash,b)};g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)};g.ze=function(){return this.name};g.Ae=function(){return this.dc};g.ta=function(a,b){return Jd(b,this.od)};
var ze=function ze(a){switch(arguments.length){case 1:return ze.aa(arguments[0]);case 2:return ze.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};ze.aa=function(a){for(;;){if(a instanceof z)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?ze.j(null,a):ze.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Ae)return a.be;if(a instanceof C)a=a.Aa;else throw Error("no conversion to symbol");}};
ze.j=function(a,b){var c=null!=a?[t.aa(a),"/",t.aa(b)].join(""):b;return new z(a,b,c,null,null)};ze.na=2;function Ae(a,b,c){this.val=a;this.be=b;this.Gc=c;this.ga=6717441;this.la=0}g=Ae.prototype;g.toString=function(){return["#'",t.aa(this.be)].join("")};g.Ib=function(){return this.val.ia?this.val.ia():this.val.call(null)};g.ra=function(){return this.Gc};g.sa=function(a,b){return new Ae(this.val,this.be,b)};
g.oa=function(a,b){return b instanceof Ae?(a=this.be,b=b.be,D.j?D.j(a,b):D.call(null,a,b)):!1};g.wa=function(){return xe(this.be)};g.vg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.ia();case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.ba(arguments[1],arguments[2],arguments[3]);case 4:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Yb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Sb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Vb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.ia=function(){var a=this.val.ia?this.val.ia():this.val.call(null);return a.ia?a.ia():a.call(null)};g.aa=function(a){var b=this.val.ia?this.val.ia():this.val.call(null);return b.aa?b.aa(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.ia?this.val.ia():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.ba=function(a,b,c){var d=this.val.ia?this.val.ia():this.val.call(null);return d.ba?d.ba(a,b,c):d.call(null,a,b,c)};g.ja=function(a,b,c,d){var e=this.val.ia?this.val.ia():this.val.call(null);return e.ja?e.ja(a,b,c,d):e.call(null,a,b,c,d)};g.za=function(a,b,c,d,e){var f=this.val.ia?this.val.ia():this.val.call(null);return f.za?f.za(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.nb=function(a,b,c,d,e,f){var h=this.val.ia?this.val.ia():this.val.call(null);return h.nb?h.nb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Yb=function(a,b,c,d,e,f,h){var k=this.val.ia?this.val.ia():this.val.call(null);return k.Yb?k.Yb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Jb=function(a,b,c,d,e,f,h,k){var m=this.val.ia?this.val.ia():this.val.call(null);return m.Jb?m.Jb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Zb=function(a,b,c,d,e,f,h,k,m){var n=this.val.ia?this.val.ia():this.val.call(null);return n.Zb?n.Zb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.Nb=function(a,b,c,d,e,f,h,k,m,n){var r=this.val.ia?this.val.ia():this.val.call(null);return r.Nb?r.Nb(a,b,c,d,e,f,h,k,m,n):r.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ob=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.val.ia?this.val.ia():this.val.call(null);return u.Ob?u.Ob(a,b,c,d,e,f,h,k,m,n,r):u.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.val.ia?this.val.ia():this.val.call(null);return w.Pb?w.Pb(a,b,c,d,e,f,h,k,m,n,r,u):w.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Qb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.val.ia?this.val.ia():this.val.call(null);return A.Qb?A.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.val.ia?this.val.ia():this.val.call(null);return G.Rb?G.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};g.Sb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.val.ia?this.val.ia():this.val.call(null);return I.Sb?I.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Tb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.val.ia?this.val.ia():this.val.call(null);return F.Tb?F.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Ub=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.val.ia?this.val.ia():this.val.call(null);return N.Ub?N.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.val.ia?this.val.ia():this.val.call(null);return O.Vb?O.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Wb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.val.ia?this.val.ia():this.val.call(null);return U.Wb?U.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.val.ia?this.val.ia():this.val.call(null);return ea.Xb?ea.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.xe=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=this.val.ia?this.val.ia():this.val.call(null);return Be.Ef?Be.Ef(va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,va,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};
function Ce(a){return null!=a?a.la&131072||l===a.Ni?!0:a.la?!1:Ac(ie,a):Ac(ie,a)}function E(a){if(null==a)return null;if(null!=a&&(a.ga&8388608||l===a.Hf))return a.ua(null);if(wc(a)||"string"===typeof a)return 0===a.length?null:new De(a,0,null);if(null!=a&&null!=a[Ec])return a=ib(a,Ec).call(a),Ee.aa?Ee.aa(a):Ee.call(null,a);if(Ac(zd,a))return Dd(a);throw Error([t.aa(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.ga&64||l===a.Ja))return a.jb(null);a=E(a);return null==a?null:Vc(a)}function Fe(a){return null!=a?null!=a&&(a.ga&64||l===a.Ja)?a.sb(null):(a=E(a))?a.sb(null):Ge:Ge}function J(a){return null==a?null:null!=a&&(a.ga&128||l===a.Be)?a.bb(null):E(Fe(a))}
var D=function D(a){switch(arguments.length){case 1:return D.aa(arguments[0]);case 2:return D.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return D.da(arguments[0],arguments[1],c)}};D.aa=function(){return!0};D.j=function(a,b){return null==a?null==b:a===b||xd(a,b)};D.da=function(a,b,c){for(;;)if(D.j(a,b))if(J(c))a=b,b=H(c),c=J(c);else return D.j(b,H(c));else return!1};
D.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};D.na=2;function He(a){this.s=a}He.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ie(a){return new He(E(a))}function Je(a,b){this.value=a;this.iter=b;this.Af=null;this.ga=8388672;this.la=0}Je.prototype.ua=function(){return this};Je.prototype.jb=function(){return this.value};
Je.prototype.sb=function(){null==this.Af&&(this.Af=Ee.aa?Ee.aa(this.iter):Ee.call(null,this.iter));return this.Af};function Ee(a){var b=a.next();return q(b.done)?null:new Je(b.value,a)}function Ke(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=me(31,c)+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Le=pe(oe(0,ne(1)),0);function Me(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+ve(H(a))|0,a=J(a);else return pe(oe(0,ne(c)),b)}var Ne=pe(oe(0,ne(0)),0);Mc["null"]=!0;Nc["null"]=function(){return 0};
Date.prototype.oa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.qd=l;Date.prototype.fd=function(a,b){if(b instanceof Date)return ab(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};xd.number=function(a,b){return a===b};Kc["function"]=!0;pd["function"]=!0;qd["function"]=function(){return null};yd._=function(a){return ya(a)};function Oe(a){return a+1}function Pe(a){this.val=a;this.ga=32768;this.la=0}
Pe.prototype.Ib=function(){return this.val};function Qe(a){return new Pe(a)}function Re(a){return a instanceof Pe}function Se(a){return Re(a)?Te.aa?Te.aa(a):Te.call(null,a):a}function Te(a){return y(a)}function Ue(a,b){var c=a.va(null);if(0===c)return b.ia?b.ia():b.call(null);for(var d=a.La(null,0),e=1;;)if(e<c){var f=a.La(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}
function Ve(a,b,c){var d=a.va(null),e=c;for(c=0;;)if(c<d){var f=a.La(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}function We(a,b){var c=a.length;if(0===a.length)return b.ia?b.ia():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Re(d))return y(d);e+=1}else return d}function Xe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Re(e))return y(e);c+=1}else return e}
function Ye(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Re(c))return y(c);d+=1}else return c}function Ze(a){return null!=a?a.ga&2||l===a.wg?!0:a.ga?!1:Ac(Mc,a):Ac(Mc,a)}function $e(a){return null!=a?a.ga&16||l===a.Ag?!0:a.ga?!1:Ac(Sc,a):Ac(Sc,a)}function af(a,b,c){var d=K.aa?K.aa(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.j(bf?bf(a,c):cf.call(null,a,c),b))return c;c+=1}else return-1}
function df(a,b,c){var d=K.aa?K.aa(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.j(bf?bf(a,c):cf.call(null,a,c),b))return c;--c}else return-1}function ef(a,b){this.ha=a;this.i=b}ef.prototype.pb=function(){return this.i<this.ha.length};ef.prototype.next=function(){var a=this.ha[this.i];this.i+=1;return a};function De(a,b,c){this.ha=a;this.i=b;this.meta=c;this.ga=166592766;this.la=139264}g=De.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.aa?K.aa(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.La=function(a,b){a=b+this.i;if(0<=a&&a<this.ha.length)return this.ha[a];throw Error("Index out of bounds");};g.gb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.ha.length?this.ha[a]:c};
g.Ba=function(){return new ef(this.ha,this.i)};g.ra=function(){return this.meta};g.bb=function(){return this.i+1<this.ha.length?new De(this.ha,this.i+1,null):null};g.va=function(){var a=this.ha.length-this.i;return 0>a?0:a};g.Jc=function(){var a=this.va(null);return 0<a?new ff(this,a-1,null):null};g.wa=function(){return Ke(this)};g.oa=function(a,b){return gf.j?gf.j(this,b):gf.call(null,this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return Ye(this.ha,b,this.ha[this.i],this.i+1)};
g.ib=function(a,b,c){return Ye(this.ha,b,c,this.i)};g.jb=function(){return this.ha[this.i]};g.sb=function(){return this.i+1<this.ha.length?new De(this.ha,this.i+1,null):Ge};g.ua=function(){return this.i<this.ha.length?this:null};g.sa=function(a,b){return b===this.meta?this:new De(this.ha,this.i,b)};g.xa=function(a,b){return hf.j?hf.j(b,this):hf.call(null,b,this)};De.prototype[Ec]=function(){return Ie(this)};function M(a){return 0<a.length?new De(a,0,null):null}
function ff(a,b,c){this.ci=a;this.i=b;this.meta=c;this.ga=32374990;this.la=8192}g=ff.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K.aa?K.aa(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return 0<this.i?new ff(this.ci,this.i-1,null):null};g.va=function(){return this.i+1};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf.j?gf.j(this,b):gf.call(null,this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf?jf(b,this):kf.call(null,b,this)};g.ib=function(a,b,c){return lf?lf(b,c,this):kf.call(null,b,c,this)};g.jb=function(){return x(this.ci,this.i)};g.sb=function(){return 0<this.i?new ff(this.ci,this.i-1,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new ff(this.ci,this.i,b)};g.xa=function(a,b){return hf.j?hf.j(b,this):hf.call(null,b,this)};
ff.prototype[Ec]=function(){return Ie(this)};function mf(a){return H(J(a))}function nf(a){return H(H(a))}function of(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}xd._=function(a,b){return a===b};
var pf=function pf(a){switch(arguments.length){case 0:return pf.ia();case 1:return pf.aa(arguments[0]);case 2:return pf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return pf.da(arguments[0],arguments[1],c)}};pf.ia=function(){return qf};pf.aa=function(a){return a};pf.j=function(a,b){return null!=a?Rc(a,b):new rf(null,b,null,1,null)};
pf.da=function(a,b,c){for(;;)if(q(c))a=pf.j(a,b),b=H(c),c=J(c);else return pf.j(a,b)};pf.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};pf.na=2;function sf(a){return null==a?null:null!=a&&(a.ga&4||l===a.zg)?a.Ya(null):(null!=a?a.ga&4||l===a.zg||(a.ga?0:Ac(Oc,a)):Ac(Oc,a))?Pc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.ga&2||l===a.wg))a=a.va(null);else if(wc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.ga&8388608||l===a.Hf))a:{a=E(a);for(var b=0;;){if(Ze(a)){a=b+Nc(a);break a}a=J(a);b+=1}}else a=Nc(a);else a=0;return a}function tf(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?H(a):c;if($e(a))return x(a,b,c);if(E(a))a=J(a),--b;else return c}}
function cf(a){switch(arguments.length){case 2:return bf(arguments[0],arguments[1]);case 3:return P(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}
function bf(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.ga&16||l===a.Ag))return a.La(null,b);if(wc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.ga&64||l===a.Ja)||null!=a&&(a.ga&16777216||l===a.Cg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=H(a);break a}throw Error("Index out of bounds");}if($e(a)){a=x(a,b);break a}if(E(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(Ac(Sc,a))return x(a,b);throw Error(["nth not supported on this type ",t.aa(Dc(Bc(a)))].join(""));}
function P(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.ga&16||l===a.Ag))return a.gb(null,b,c);if(wc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.ga&64||l===a.Ja)||null!=a&&(a.ga&16777216||l===a.Cg))return 0>b?c:tf(a,b,c);if(Ac(Sc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.aa(Dc(Bc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.j(arguments[0],arguments[1]);case 3:return B.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};B.j=function(a,b){return null==a?null:null!=a&&(a.ga&256||l===a.vh)?a.ya(null,b):wc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Ac($c,a)?ad(a,b):null};
B.ba=function(a,b,c){return null!=a?null!=a&&(a.ga&256||l===a.vh)?a.ka(null,b,c):wc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Ac($c,a)?ad(a,b,c):c:c};B.na=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Q.da(arguments[0],arguments[1],arguments[2],c)}};
Q.ba=function(a,b,c){return null!=a&&(a.ga&512||l===a.Ii)?a.pa(null,b,c):null!=a?cd(a,b,c):uf([b,c])};Q.da=function(a,b,c,d){for(;;)if(a=Q.ba(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};Q.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};Q.na=3;
var R=function R(a){switch(arguments.length){case 1:return R.aa(arguments[0]);case 2:return R.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return R.da(arguments[0],arguments[1],c)}};R.aa=function(a){return a};R.j=function(a,b){return null==a?null:fd(a,b)};R.da=function(a,b,c){for(;;){if(null==a)return null;a=R.j(a,b);if(q(c))b=H(c),c=J(c);else return a}};
R.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};R.na=2;function vf(a){var b=sa(a);return b?b:null!=a?l===a.vg?!0:a.Md?!1:Ac(Kc,a):Ac(Kc,a)}function wf(a,b){this.Ca=a;this.meta=b;this.ga=393217;this.la=0}g=wf.prototype;g.ra=function(){return this.meta};g.sa=function(a,b){return new wf(this.Ca,b)};g.vg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.ia();case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.ba(arguments[1],arguments[2],arguments[3]);case 4:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Yb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Sb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Vb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.ia=function(){return this.Ca.ia?this.Ca.ia():this.Ca.call(null)};g.aa=function(a){return this.Ca.aa?this.Ca.aa(a):this.Ca.call(null,a)};g.j=function(a,b){return this.Ca.j?this.Ca.j(a,b):this.Ca.call(null,a,b)};g.ba=function(a,b,c){return this.Ca.ba?this.Ca.ba(a,b,c):this.Ca.call(null,a,b,c)};
g.ja=function(a,b,c,d){return this.Ca.ja?this.Ca.ja(a,b,c,d):this.Ca.call(null,a,b,c,d)};g.za=function(a,b,c,d,e){return this.Ca.za?this.Ca.za(a,b,c,d,e):this.Ca.call(null,a,b,c,d,e)};g.nb=function(a,b,c,d,e,f){return this.Ca.nb?this.Ca.nb(a,b,c,d,e,f):this.Ca.call(null,a,b,c,d,e,f)};g.Yb=function(a,b,c,d,e,f,h){return this.Ca.Yb?this.Ca.Yb(a,b,c,d,e,f,h):this.Ca.call(null,a,b,c,d,e,f,h)};
g.Jb=function(a,b,c,d,e,f,h,k){return this.Ca.Jb?this.Ca.Jb(a,b,c,d,e,f,h,k):this.Ca.call(null,a,b,c,d,e,f,h,k)};g.Zb=function(a,b,c,d,e,f,h,k,m){return this.Ca.Zb?this.Ca.Zb(a,b,c,d,e,f,h,k,m):this.Ca.call(null,a,b,c,d,e,f,h,k,m)};g.Nb=function(a,b,c,d,e,f,h,k,m,n){return this.Ca.Nb?this.Ca.Nb(a,b,c,d,e,f,h,k,m,n):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ob=function(a,b,c,d,e,f,h,k,m,n,r){return this.Ca.Ob?this.Ca.Ob(a,b,c,d,e,f,h,k,m,n,r):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Pb=function(a,b,c,d,e,f,h,k,m,n,r,u){return this.Ca.Pb?this.Ca.Pb(a,b,c,d,e,f,h,k,m,n,r,u):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};g.Qb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){return this.Ca.Qb?this.Ca.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};g.Rb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){return this.Ca.Rb?this.Ca.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){return this.Ca.Sb?this.Ca.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};g.Tb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){return this.Ca.Tb?this.Ca.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};g.Ub=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){return this.Ca.Ub?this.Ca.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){return this.Ca.Vb?this.Ca.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};g.Wb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){return this.Ca.Wb?this.Ca.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){return this.Ca.Xb?this.Ca.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.Ca.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};g.xe=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){return Be.Ef?Be.Ef(this.Ca,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):Be.call(null,this.Ca,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea)};function xf(a,b){return sa(a)?new wf(a,b):null==a?null:rd(a,b)}
function yf(a){return null!=a&&(null!=a?a.ga&131072||l===a.ye||(a.ga?0:Ac(pd,a)):Ac(pd,a))?qd(a):null}var Af=function Af(a){switch(arguments.length){case 1:return Af.aa(arguments[0]);case 2:return Af.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Af.da(arguments[0],arguments[1],c)}};Af.aa=function(a){return a};Af.j=function(a,b){return null==a?null:jd(a,b)};
Af.da=function(a,b,c){for(;;){if(null==a)return null;a=Af.j(a,b);if(q(c))b=H(c),c=J(c);else return a}};Af.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Af.na=2;function Bf(a){return null==a||yc(E(a))}function Cf(a){return null==a?!1:null!=a?a.ga&8||l===a.Ki?!0:a.ga?!1:Ac(Qc,a):Ac(Qc,a)}function Df(a){return null==a?!1:null!=a?a.ga&4096||l===a.Ui?!0:a.ga?!1:Ac(id,a):Ac(id,a)}function Ef(a){return null!=a?a.ga&16777216||l===a.Cg?!0:a.ga?!1:Ac(Ed,a):Ac(Ed,a)}
function Ff(a){return null==a?!1:null!=a?a.ga&1024||l===a.Qi?!0:a.ga?!1:Ac(ed,a):Ac(ed,a)}function Gf(a){return null!=a?a.ga&67108864||l===a.Ti?!0:a.ga?!1:Ac(Gd,a):Ac(Gd,a)}function Hf(a){return null!=a?a.ga&16384||l===a.Vi?!0:a.ga?!1:Ac(md,a):Ac(md,a)}function If(a){return null!=a?a.la&512||l===a.Ji?!0:!1:!1}function Jf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Kf={};function Lf(a){return null==a?!1:null!=a?a.ga&64||l===a.Ja?!0:a.ga?!1:Ac(Uc,a):Ac(Uc,a)}
function Mf(a){return null==a?!1:!1===a?!1:!0}function Nf(a){var b=vf(a);return b?b:null!=a?a.ga&1||l===a.Mi?!0:a.ga?!1:Ac(Lc,a):Ac(Lc,a)}function Of(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Pf(a,b){return B.ba(a,b,Kf)===Kf?!1:!0}
var Qf=function Qf(a){switch(arguments.length){case 1:return Qf.aa(arguments[0]);case 2:return Qf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Qf.da(arguments[0],arguments[1],c)}};Qf.aa=function(){return!0};Qf.j=function(a,b){return!D.j(a,b)};Qf.da=function(a,b,c){if(D.j(a,b))return!1;a=Rf([a,b]);for(b=c;;){var d=H(b);c=J(b);if(q(b)){if(Pf(a,d))return!1;a=pf.j(a,d);b=c}else return!0}};
Qf.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Qf.na=2;function Sf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return ab(a,b);throw Error(["Cannot compare ",t.aa(a)," to ",t.aa(b)].join(""));}if(null!=a?a.la&2048||l===a.qd||(a.la?0:Ac(Yd,a)):Ac(Yd,a))return Zd(a,b);if("string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b))throw Error(["Cannot compare ",t.aa(a)," to ",t.aa(b)].join(""));return ab(a,b)}
function Tf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Sf(bf(a,d),bf(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Uf(a){return D.j(a,Sf)?Sf:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:q(d)?-1:q(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Vf(a,b){return E(b)?(b=Wf.aa?Wf.aa(b):Wf.call(null,b),bb(b,Uf(a)),E(b)):Ge}
function qg(a){var b=Yf;return Vf(function(c,d){c=b.aa?b.aa(c):b.call(null,c);d=b.aa?b.aa(d):b.call(null,d);var e=Uf(Sf);return e.j?e.j(c,d):e.call(null,c,d)},a)}function kf(a){switch(arguments.length){case 2:return jf(arguments[0],arguments[1]);case 3:return lf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function jf(a,b){var c=E(b);return c?(b=H(c),c=J(c),v.ba?v.ba(a,b,c):v.call(null,a,b,c)):a.ia?a.ia():a.call(null)}
function lf(a,b,c){for(c=E(c);;)if(c){var d=H(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Re(b))return y(b);c=J(c)}else return b}function rg(a){a=Wf.aa?Wf.aa(a):Wf.call(null,a);cb(a);return sg.aa?sg.aa(a):sg.call(null,a)}function tg(a,b){a=je(a);if(q(a.pb()))for(var c=a.next();;)if(a.pb()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c;else return b.ia?b.ia():b.call(null)}
function ug(a,b,c){for(a=je(a);;)if(a.pb()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c)}else return c}var v=function v(a){switch(arguments.length){case 2:return v.j(arguments[0],arguments[1]);case 3:return v.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};v.j=function(a,b){return null!=b&&(b.ga&524288||l===b.wh)?b.hb(null,a):wc(b)?We(b,a):"string"===typeof b?We(b,a):Ac(sd,b)?td(b,a):Ce(b)?tg(b,a):jf(a,b)};
v.ba=function(a,b,c){return null!=c&&(c.ga&524288||l===c.wh)?c.ib(null,a,b):wc(c)?Xe(c,a,b):"string"===typeof c?Xe(c,a,b):Ac(sd,c)?td(c,a,b):Ce(c)?ug(c,a,b):lf(a,b,c)};v.na=3;function vg(a,b,c){return null!=c?wd(c,a,b):b}function wg(a){return a}
function xg(a,b){return function(){function c(h,k){return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return b.aa?b.aa(h):b.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}function yg(a,b,c){return zg(a,b,b.ia?b.ia():b.call(null),c)}
function zg(a,b,c,d){a=a.aa?a.aa(b):a.call(null,b);c=v.ba(a,c,d);return a.aa?a.aa(c):a.call(null,c)}var Ag=function Ag(a){switch(arguments.length){case 0:return Ag.ia();case 1:return Ag.aa(arguments[0]);case 2:return Ag.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Ag.da(arguments[0],arguments[1],c)}};Ag.ia=function(){return 0};Ag.aa=function(a){return a};Ag.j=function(a,b){return a+b};
Ag.da=function(a,b,c){return v.ba(Ag,a+b,c)};Ag.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Ag.na=2;var Bg=function Bg(a){switch(arguments.length){case 1:return Bg.aa(arguments[0]);case 2:return Bg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Bg.da(arguments[0],arguments[1],c)}};Bg.aa=function(a){return-a};Bg.j=function(a,b){return a-b};
Bg.da=function(a,b,c){return v.ba(Bg,a-b,c)};Bg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Bg.na=2;var Cg=function Cg(a){switch(arguments.length){case 0:return Cg.ia();case 1:return Cg.aa(arguments[0]);case 2:return Cg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Cg.da(arguments[0],arguments[1],c)}};Cg.ia=function(){return 1};Cg.aa=function(a){return a};
Cg.j=function(a,b){return a*b};Cg.da=function(a,b,c){return v.ba(Cg,a*b,c)};Cg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Cg.na=2;var Dg=function Dg(a){switch(arguments.length){case 1:return Dg.aa(arguments[0]);case 2:return Dg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Dg.da(arguments[0],arguments[1],c)}};Dg.aa=function(a){return 1/a};
Dg.j=function(a,b){return a/b};Dg.da=function(a,b,c){return v.ba(Dg,a/b,c)};Dg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Dg.na=2;var Eg=function Eg(a){switch(arguments.length){case 1:return Eg.aa(arguments[0]);case 2:return Eg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Eg.da(arguments[0],arguments[1],c)}};Eg.aa=function(){return!0};
Eg.j=function(a,b){return a<b};Eg.da=function(a,b,c){for(;;)if(a<b)if(J(c))a=b,b=H(c),c=J(c);else return b<H(c);else return!1};Eg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Eg.na=2;var Fg=function Fg(a){switch(arguments.length){case 1:return Fg.aa(arguments[0]);case 2:return Fg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Fg.da(arguments[0],arguments[1],c)}};
Fg.aa=function(){return!0};Fg.j=function(a,b){return a<=b};Fg.da=function(a,b,c){for(;;)if(a<=b)if(J(c))a=b,b=H(c),c=J(c);else return b<=H(c);else return!1};Fg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Fg.na=2;
var Gg=function Gg(a){switch(arguments.length){case 1:return Gg.aa(arguments[0]);case 2:return Gg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Gg.da(arguments[0],arguments[1],c)}};Gg.aa=function(){return!0};Gg.j=function(a,b){return a>b};Gg.da=function(a,b,c){for(;;)if(a>b)if(J(c))a=b,b=H(c),c=J(c);else return b>H(c);else return!1};
Gg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Gg.na=2;var Hg=function Hg(a){switch(arguments.length){case 1:return Hg.aa(arguments[0]);case 2:return Hg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Hg.da(arguments[0],arguments[1],c)}};Hg.aa=function(){return!0};Hg.j=function(a,b){return a>=b};
Hg.da=function(a,b,c){for(;;)if(a>=b)if(J(c))a=b,b=H(c),c=J(c);else return b>=H(c);else return!1};Hg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Hg.na=2;var Ig=function Ig(a){switch(arguments.length){case 1:return Ig.aa(arguments[0]);case 2:return Ig.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Ig.da(arguments[0],arguments[1],c)}};Ig.aa=function(a){return a};
Ig.j=function(a,b){return a>b?a:b};Ig.da=function(a,b,c){return v.ba(Ig,a>b?a:b,c)};Ig.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Ig.na=2;var Jg=function Jg(a){switch(arguments.length){case 1:return Jg.aa(arguments[0]);case 2:return Jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Jg.da(arguments[0],arguments[1],c)}};Jg.aa=function(a){return a};
Jg.j=function(a,b){return a<b?a:b};Jg.da=function(a,b,c){return v.ba(Jg,a<b?a:b,c)};Jg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Jg.na=2;function Kg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Lg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Mg(a,b){return(a%b+b)%b}function Ng(a,b){return Lg((a-a%b)/b)}
function Pg(a,b){return a-b*Ng(a,b)}function Qg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var Rg=function Rg(a){switch(arguments.length){case 1:return Rg.aa(arguments[0]);case 2:return Rg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Rg.da(arguments[0],arguments[1],c)}};Rg.aa=function(){return!0};Rg.j=function(a,b){return xd(a,b)};
Rg.da=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};Rg.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Rg.na=2;var t=function t(a){switch(arguments.length){case 0:return t.ia();case 1:return t.aa(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(1),0,null);return t.da(arguments[0],c)}};t.ia=function(){return""};t.aa=function(a){return null==a?"":[a].join("")};
t.da=function(a,b){for(a=new dc(t.aa(a));;)if(q(b))a=a.append(t.aa(H(b))),b=J(b);else return a.toString()};t.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};t.na=1;var Sg=function Sg(a){switch(arguments.length){case 2:return Sg.j(arguments[0],arguments[1]);case 3:return Sg.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};Sg.j=function(a,b){return a.substring(b)};Sg.ba=function(a,b,c){return a.substring(b,c)};Sg.na=3;
function gf(a,b){if(Ef(b))if(Ze(a)&&Ze(b)&&K(a)!==K(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.j(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Mf(a)}function rf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.fa=e;this.ga=65937646;this.la=8192}g=rf.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return 1===this.count?null:this.rest};g.va=function(){return this.count};g.sd=function(){return this.first};g.td=function(){return this.sb(null)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(Ge,this.meta)};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.first};g.sb=function(){return 1===this.count?Ge:this.rest};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new rf(b,this.first,this.rest,this.count,this.fa)};
g.xa=function(a,b){return new rf(this.meta,b,this,this.count+1,null)};function Tg(a){return null!=a?a.ga&33554432||l===a.Pi?!0:a.ga?!1:Ac(Fd,a):Ac(Fd,a)}rf.prototype[Ec]=function(){return Ie(this)};function Ug(a){this.meta=a;this.ga=65937614;this.la=8192}g=Ug.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return null};g.va=function(){return 0};g.sd=function(){return null};g.td=function(){throw Error("Can't pop empty list");};g.wa=function(){return Le};
g.oa=function(a,b){return Tg(b)||Ef(b)?null==E(b):!1};g.Ya=function(){return this};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return null};g.sb=function(){return Ge};g.ua=function(){return null};g.sa=function(a,b){return b===this.meta?this:new Ug(b)};g.xa=function(a,b){return new rf(this.meta,b,null,1,null)};var Ge=new Ug(null);Ug.prototype[Ec]=function(){return Ie(this)};
function Vg(a){return(null!=a?a.ga&134217728||l===a.yh||(a.ga?0:Ac(Hd,a)):Ac(Hd,a))?(a=Id(a))?a:Ge:v.ba(pf,Ge,a)}var bg=function bg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return bg.da(c)};bg.da=function(a){if(a instanceof De&&0===a.i)var b=a.ha;else a:for(b=[];;)if(null!=a)b.push(Vc(a)),a=Yc(a);else break a;a=b.length;for(var c=Ge;;)if(0<a){var d=a-1;c=Rc(c,b[a-1]);a=d}else return c};bg.na=0;bg.qa=function(a){return this.da(E(a))};
function Wg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.fa=d;this.ga=65929452;this.la=8192}g=Wg.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return null==this.rest?null:E(this.rest)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};
g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.first};g.sb=function(){return null==this.rest?Ge:this.rest};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new Wg(b,this.first,this.rest,this.fa)};g.xa=function(a,b){return new Wg(null,b,this,null)};Wg.prototype[Ec]=function(){return Ie(this)};
function hf(a,b){return null==b?new rf(null,a,null,1,null):null!=b&&(b.ga&64||l===b.Ja)?new Wg(null,a,b,null):new Wg(null,a,E(b),null)}function Xg(a,b){if(a.Aa===b.Aa)return 0;if(q(yc(a.dc)?b.dc:!1))return-1;if(q(a.dc)){if(yc(b.dc))return 1;var c=ab(a.dc,b.dc);return 0===c?ab(a.name,b.name):c}return ab(a.name,b.name)}function C(a,b,c,d){this.dc=a;this.name=b;this.Aa=c;this._hash=d;this.ga=2153775105;this.la=4096}g=C.prototype;g.toString=function(){return[":",t.aa(this.Aa)].join("")};
g.equiv=function(a){return this.oa(null,a)};g.oa=function(a,b){return b instanceof C?this.Aa===b.Aa:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return B.j(a,this)};g.j=function(a,b){return B.ba(a,this,b)};
g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=xe(this)+2654435769|0};g.ze=function(){return this.name};g.Ae=function(){return this.dc};g.ta=function(a,b){return Jd(b,[":",t.aa(this.Aa)].join(""))};function V(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.Aa===b.Aa:!1}function Zg(a){if(null!=a&&(a.la&4096||l===a.Bg))return a.Ae(null);throw Error(["Doesn't support namespace: ",t.aa(a)].join(""));}function $g(a){return a instanceof C||a instanceof z}
var ah=function ah(a){switch(arguments.length){case 1:return ah.aa(arguments[0]);case 2:return ah.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};ah.aa=function(a){if(a instanceof C)return a;if(a instanceof z)return new C(Zg(a),bh.aa?bh.aa(a):bh.call(null,a),a.od,null);if(D.j("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
ah.j=function(a,b){a=a instanceof C?bh.aa?bh.aa(a):bh.call(null,a):a instanceof z?bh.aa?bh.aa(a):bh.call(null,a):a;b=b instanceof C?bh.aa?bh.aa(b):bh.call(null,b):b instanceof z?bh.aa?bh.aa(b):bh.call(null,b):b;return new C(a,b,[q(a)?[t.aa(a),"/"].join(""):null,t.aa(b)].join(""),null)};ah.na=2;function ch(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.fa=d;this.ga=32374988;this.la=1}g=ch.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
function dh(a){null!=a.fn&&(a.s=a.fn.ia?a.fn.ia():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){this.ua(null);return null==this.s?null:J(this.s)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};
g.Ya=function(){return rd(Ge,this.meta)};g.cf=function(){return yc(this.fn)};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){this.ua(null);return null==this.s?null:H(this.s)};g.sb=function(){this.ua(null);return null!=this.s?Fe(this.s):Ge};g.ua=function(){dh(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof ch)a=dh(a);else return this.s=a,E(this.s)};
g.sa=function(a,b){var c=this;return b===this.meta?c:new ch(b,function(){return c.ua(null)},null,this.fa)};g.xa=function(a,b){return hf(b,this)};ch.prototype[Ec]=function(){return Ie(this)};function eh(a){this.buf=a;this.end=0;this.ga=2;this.la=0}eh.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};eh.prototype.pc=function(){var a=new fh(this.buf,0,this.end);this.buf=null;return a};eh.prototype.va=function(){return this.end};function gh(a){return new eh(Array(a))}
function fh(a,b,c){this.ha=a;this.off=b;this.end=c;this.ga=524306;this.la=0}g=fh.prototype;g.va=function(){return this.end-this.off};g.La=function(a,b){return this.ha[this.off+b]};g.gb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ha[this.off+b]:c};g.ue=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new fh(this.ha,this.off+1,this.end)};g.hb=function(a,b){return Ye(this.ha,b,this.ha[this.off],this.off+1)};g.ib=function(a,b,c){return Ye(this.ha,b,c,this.off)};
function hh(a,b,c,d){this.pc=a;this.more=b;this.meta=c;this.fa=d;this.ga=31850732;this.la=1536}g=hh.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return 1<Nc(this.pc)?new hh($d(this.pc),this.more,null,null):null==this.more?null:Dd(this.more)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.jb=function(){return x(this.pc,0)};g.sb=function(){return 1<Nc(this.pc)?new hh($d(this.pc),this.more,null,null):null==this.more?Ge:this.more};g.ua=function(){return this};g.we=function(){return this.pc};g.Rd=function(){return null==this.more?Ge:this.more};g.sa=function(a,b){return b===this.meta?this:new hh(this.pc,this.more,b,this.fa)};g.xa=function(a,b){return hf(b,this)};g.ve=function(){return null==this.more?null:this.more};
hh.prototype[Ec]=function(){return Ie(this)};function ih(a,b){return 0===Nc(a)?b:new hh(a,b,null,null)}function jh(a,b){a.add(b)}function kh(a){return a.pc()}function Wf(a){var b=[];for(a=E(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function lh(a,b){if(Ze(b))return K(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var mh=function mh(a){if(null==a)return null;var c=J(a);return null==c?E(H(a)):hf(H(a),mh.aa?mh.aa(c):mh.call(null,c))},W=function W(a){switch(arguments.length){case 0:return W.ia();case 1:return W.aa(arguments[0]);case 2:return W.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return W.da(arguments[0],arguments[1],c)}};W.ia=function(){return new ch(null,function(){return null},null,null)};
W.aa=function(a){return new ch(null,function(){return a},null,null)};W.j=function(a,b){return new ch(null,function(){var c=E(a);return c?If(c)?ih(ae(c),W.j(be(c),b)):hf(H(c),W.j(Fe(c),b)):b},null,null)};W.da=function(a,b,c){return function h(e,f){return new ch(null,function(){var k=E(e);return k?If(k)?ih(ae(k),h(be(k),f)):hf(H(k),h(Fe(k),f)):q(f)?h(H(f),J(f)):null},null,null)}(W.j(a,b),c)};W.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};W.na=2;
function nh(a,b,c){return hf(a,hf(b,c))}function oh(a){return Td(a)}function ph(a){return Vd(a)}var qh=function qh(a){switch(arguments.length){case 0:return qh.ia();case 1:return qh.aa(arguments[0]);case 2:return qh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return qh.da(arguments[0],arguments[1],c)}};qh.ia=function(){return Td(qf)};qh.aa=function(a){return a};qh.j=function(a,b){return Ud(a,b)};
qh.da=function(a,b,c){for(;;)if(a=Ud(a,b),q(c))b=H(c),c=J(c);else return a};qh.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};qh.na=2;var rh=function rh(a){switch(arguments.length){case 3:return rh.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return rh.da(arguments[0],arguments[1],arguments[2],c)}};rh.ba=function(a,b,c){return Wd(a,b,c)};
rh.da=function(a,b,c,d){for(;;)if(a=Wd(a,b,c),q(d))b=H(d),c=mf(d),d=J(J(d));else return a};rh.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};rh.na=3;
function sh(a,b,c){var d=E(c);if(0===b)return a.ia?a.ia():a.call(null);c=Vc(d);var e=Wc(d);if(1===b)return a.aa?a.aa(c):a.call(null,c);d=Vc(e);var f=Wc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Vc(f);var h=Wc(f);if(3===b)return a.ba?a.ba(c,d,e):a.call(null,c,d,e);f=Vc(h);var k=Wc(h);if(4===b)return a.ja?a.ja(c,d,e,f):a.call(null,c,d,e,f);h=Vc(k);var m=Wc(k);if(5===b)return a.za?a.za(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Vc(m);var n=Wc(m);if(6===b)return a.nb?a.nb(c,d,e,f,h,k):a.call(null,c,
d,e,f,h,k);m=Vc(n);var r=Wc(n);if(7===b)return a.Yb?a.Yb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Vc(r);var u=Wc(r);if(8===b)return a.Jb?a.Jb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);r=Vc(u);var w=Wc(u);if(9===b)return a.Zb?a.Zb(c,d,e,f,h,k,m,n,r):a.call(null,c,d,e,f,h,k,m,n,r);u=Vc(w);var A=Wc(w);if(10===b)return a.Nb?a.Nb(c,d,e,f,h,k,m,n,r,u):a.call(null,c,d,e,f,h,k,m,n,r,u);w=Vc(A);var G=Wc(A);if(11===b)return a.Ob?a.Ob(c,d,e,f,h,k,m,n,r,u,w):a.call(null,c,d,e,f,h,k,m,n,r,u,w);A=Vc(G);
var I=Wc(G);if(12===b)return a.Pb?a.Pb(c,d,e,f,h,k,m,n,r,u,w,A):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A);G=Vc(I);var F=Wc(I);if(13===b)return a.Qb?a.Qb(c,d,e,f,h,k,m,n,r,u,w,A,G):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G);I=Vc(F);var N=Wc(F);if(14===b)return a.Rb?a.Rb(c,d,e,f,h,k,m,n,r,u,w,A,G,I):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=Wc(N);if(15===b)return a.Sb?a.Sb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=Wc(O);if(16===b)return a.Tb?a.Tb(c,
d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=Wc(U);if(17===b)return a.Ub?a.Ub(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=Wc(ea);if(18===b)return a.Vb?a.Vb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=Wc(va);if(19===b)return a.Wb?a.Wb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);var wa=Vc(va);Wc(va);
if(20===b)return a.Xb?a.Xb(c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa):a.call(null,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea,wa);throw Error("Only up to 20 arguments supported on functions");}function th(a){return null!=a&&(a.ga&128||l===a.Be)?a.bb(null):E(Fe(a))}function uh(a,b,c){return null==c?a.aa?a.aa(b):a.call(a,b):vh(a,b,Vc(c),th(c))}function vh(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):wh(a,b,c,Vc(d),th(d))}
function wh(a,b,c,d,e){return null==e?a.ba?a.ba(b,c,d):a.call(a,b,c,d):xh(a,b,c,d,Vc(e),th(e))}
function xh(a,b,c,d,e,f){if(null==f)return a.ja?a.ja(b,c,d,e):a.call(a,b,c,d,e);var h=Vc(f),k=J(f);if(null==k)return a.za?a.za(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Vc(k);var m=J(k);if(null==m)return a.nb?a.nb(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Vc(m);var n=J(m);if(null==n)return a.Yb?a.Yb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Vc(n);var r=J(n);if(null==r)return a.Jb?a.Jb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Vc(r);var u=J(r);if(null==u)return a.Zb?a.Zb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,
f,k,m,n);r=Vc(u);var w=J(u);if(null==w)return a.Nb?a.Nb(b,c,d,e,h,f,k,m,n,r):a.call(a,b,c,d,e,h,f,k,m,n,r);u=Vc(w);var A=J(w);if(null==A)return a.Ob?a.Ob(b,c,d,e,h,f,k,m,n,r,u):a.call(a,b,c,d,e,h,f,k,m,n,r,u);w=Vc(A);var G=J(A);if(null==G)return a.Pb?a.Pb(b,c,d,e,h,f,k,m,n,r,u,w):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w);A=Vc(G);var I=J(G);if(null==I)return a.Qb?a.Qb(b,c,d,e,h,f,k,m,n,r,u,w,A):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A);G=Vc(I);var F=J(I);if(null==F)return a.Rb?a.Rb(b,c,d,e,h,f,k,m,n,r,u,w,A,G):
a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G);I=Vc(F);var N=J(F);if(null==N)return a.Sb?a.Sb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I);F=Vc(N);var O=J(N);if(null==O)return a.Tb?a.Tb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F);N=Vc(O);var U=J(O);if(null==U)return a.Ub?a.Ub(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N);O=Vc(U);var ea=J(U);if(null==ea)return a.Vb?a.Vb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O):a.call(a,b,
c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O);U=Vc(ea);var va=J(ea);if(null==va)return a.Wb?a.Wb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U);ea=Vc(va);va=J(va);if(null==va)return a.Xb?a.Xb(b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,r,u,w,A,G,I,F,N,O,U,ea];for(c=va;;)if(c)b.push(Vc(c)),c=J(c);else break;return a.apply(a,b)}
function Be(a){switch(arguments.length){case 2:return yh(arguments[0],arguments[1]);case 3:return zh(arguments[0],arguments[1],arguments[2]);case 4:return Ah(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Bh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new De(b.slice(5),0,null);return Ch(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function yh(a,b){if(a.qa){var c=a.na,d=lh(c+1,b);return d<=c?sh(a,d,b):a.qa(b)}b=E(b);return null==b?a.ia?a.ia():a.call(a):uh(a,Vc(b),th(b))}function zh(a,b,c){if(a.qa){b=hf(b,c);var d=a.na;c=lh(d,c)+1;return c<=d?sh(a,c,b):a.qa(b)}return uh(a,b,E(c))}function Ah(a,b,c,d){return a.qa?(b=nh(b,c,d),c=a.na,d=2+lh(c-1,d),d<=c?sh(a,d,b):a.qa(b)):vh(a,b,c,E(d))}function Bh(a,b,c,d,e){return a.qa?(b=hf(b,hf(c,hf(d,e))),c=a.na,e=3+lh(c-2,e),e<=c?sh(a,e,b):a.qa(b)):wh(a,b,c,d,E(e))}
function Ch(a,b,c,d,e,f){return a.qa?(f=mh(f),b=hf(b,hf(c,hf(d,hf(e,f)))),c=a.na,f=4+lh(c-3,f),f<=c?sh(a,f,b):a.qa(b)):xh(a,b,c,d,e,mh(f))}var Dh=function Dh(a){switch(arguments.length){case 1:return Dh.aa(arguments[0]);case 2:return Dh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return Dh.da(arguments[0],arguments[1],c)}};Dh.aa=function(){return!1};Dh.j=function(a,b){return!D.j(a,b)};
Dh.da=function(a,b,c){return yc(Ah(D,a,b,c))};Dh.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};Dh.na=2;function Eh(a){return E(a)?a:null}
function Fh(){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof hc)hc=function(a){this.Xh=a;this.ga=393216;this.la=0},hc.prototype.sa=function(a,b){return new hc(b)},hc.prototype.ra=function(){return this.Xh},hc.prototype.pb=function(){return!1},hc.prototype.next=function(){return Error("No such element")},hc.prototype.remove=function(){return Error("Unsupported operation")},hc.$b=!0,hc.Kb="cljs.core/t_cljs$core19721",hc.kc=function(a){return Jd(a,"cljs.core/t_cljs$core19721")};
return new hc(X)}var Gh={},Hh={};function Ih(a){this.qe=Gh;this._next=a}Ih.prototype.pb=function(){this.qe===Gh?(this.qe=Hh,this._next=E(this._next)):this.qe===this._next&&(this._next=J(this.qe));return null!=this._next};Ih.prototype.next=function(){if(this.pb())return this.qe=this._next,H(this._next);throw Error("No such element");};Ih.prototype.remove=function(){return Error("Unsupported operation")};
function Jh(a,b){for(;;){if(null==E(b))return!0;var c=H(b);c=a.aa?a.aa(c):a.call(null,c);if(q(c))b=J(b);else return!1}}function Kh(a,b){for(;;)if(b=E(b)){var c=H(b);c=a.aa?a.aa(c):a.call(null,c);if(q(c))return c;b=J(b)}else return null}function Lh(a){if(Of(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.aa(a)].join(""));}
function Mh(a){return function(){function b(h,k){return yc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return yc(a.aa?a.aa(h):a.call(null,h))}function d(){return yc(a.ia?a.ia():a.call(null))}var e=null,f=function(){function h(m,n,r){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new De(w,0,null)}return k.call(this,m,n,u)}function k(m,n,r){return yc(Ah(a,m,n,r))}h.na=2;h.qa=function(m){var n=H(m);m=J(m);var r=H(m);m=Fe(m);return k(n,
r,m)};h.da=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var r=Array(arguments.length-2);n<r.length;)r[n]=arguments[n+2],++n;n=new De(r,0,null)}return f.da(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.na=2;e.qa=f.qa;e.ia=d;e.aa=c;e.j=b;e.da=f.da;return e}()}
function Nh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.na=0;b.qa=function(c){E(c);return a};b.da=function(){return a};return b}()}
var Oh=function Oh(a){switch(arguments.length){case 0:return Oh.ia();case 1:return Oh.aa(arguments[0]);case 2:return Oh.j(arguments[0],arguments[1]);case 3:return Oh.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Oh.da(arguments[0],arguments[1],arguments[2],c)}};Oh.ia=function(){return wg};Oh.aa=function(a){return a};
Oh.j=function(a,b){return function(){function c(m,n,r){m=b.ba?b.ba(m,n,r):b.call(null,m,n,r);return a.aa?a.aa(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.aa?a.aa(m):a.call(null,m)}function e(m){m=b.aa?b.aa(m):b.call(null,m);return a.aa?a.aa(m):a.call(null,m)}function f(){var m=b.ia?b.ia():b.call(null);return a.aa?a.aa(m):a.call(null,m)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=
arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){r=Bh(b,r,u,w,A);return a.aa?a.aa(r):a.call(null,r)}m.na=3;m.qa=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.da=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<
A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.da(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.na=3;h.qa=k.qa;h.ia=f;h.aa=e;h.j=d;h.ba=c;h.da=k.da;return h}()};
Oh.ba=function(a,b,c){return function(){function d(n,r,u){n=c.ba?c.ba(n,r,u):c.call(null,n,r,u);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}function e(n,r){n=c.j?c.j(n,r):c.call(null,n,r);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}function f(n){n=c.aa?c.aa(n):c.call(null,n);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}function h(){var n=c.ia?c.ia():c.call(null);n=b.aa?b.aa(n):b.call(null,n);return a.aa?a.aa(n):a.call(null,n)}var k=null,
m=function(){function n(u,w,A,G){var I=null;if(3<arguments.length){I=0;for(var F=Array(arguments.length-3);I<F.length;)F[I]=arguments[I+3],++I;I=new De(F,0,null)}return r.call(this,u,w,A,I)}function r(u,w,A,G){u=Bh(c,u,w,A,G);u=b.aa?b.aa(u):b.call(null,u);return a.aa?a.aa(u):a.call(null,u)}n.na=3;n.qa=function(u){var w=H(u);u=J(u);var A=H(u);u=J(u);var G=H(u);u=Fe(u);return r(w,A,G,u)};n.da=r;return n}();k=function(n,r,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
n);case 2:return e.call(this,n,r);case 3:return d.call(this,n,r,u);default:var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.da(n,r,u,A)}throw Error("Invalid arity: "+arguments.length);};k.na=3;k.qa=m.qa;k.ia=h;k.aa=f;k.j=e;k.ba=d;k.da=m.da;return k}()};
Oh.da=function(a,b,c,d){var e=Vg(hf(a,hf(b,hf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=yh(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.aa?n.aa(k):n.call(null,k);m=J(m)}else return k}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()};
Oh.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};Oh.na=3;
var Db=function Db(a){switch(arguments.length){case 1:return Db.aa(arguments[0]);case 2:return Db.j(arguments[0],arguments[1]);case 3:return Db.ba(arguments[0],arguments[1],arguments[2]);case 4:return Db.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Db.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};Db.aa=function(a){return a};
Db.j=function(a,b){return function(){function c(m,n,r){return a.ja?a.ja(b,m,n,r):a.call(null,b,m,n,r)}function d(m,n){return a.ba?a.ba(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.aa?a.aa(b):a.call(null,b)}var h=null,k=function(){function m(r,u,w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return Ch(a,b,r,u,w,
M([A]))}m.na=3;m.qa=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.da=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.da(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.na=
3;h.qa=k.qa;h.ia=f;h.aa=e;h.j=d;h.ba=c;h.da=k.da;return h}()};
Db.ba=function(a,b,c){return function(){function d(n,r,u){return a.za?a.za(b,c,n,r,u):a.call(null,b,c,n,r,u)}function e(n,r){return a.ja?a.ja(b,c,n,r):a.call(null,b,c,n,r)}function f(n){return a.ba?a.ba(b,c,n):a.call(null,b,c,n)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,w,A,G){var I=null;if(3<arguments.length){I=0;for(var F=Array(arguments.length-3);I<F.length;)F[I]=arguments[I+3],++I;I=new De(F,0,null)}return r.call(this,u,w,A,I)}function r(u,w,A,G){return Ch(a,
b,c,u,w,M([A,G]))}n.na=3;n.qa=function(u){var w=H(u);u=J(u);var A=H(u);u=J(u);var G=H(u);u=Fe(u);return r(w,A,G,u)};n.da=r;return n}();k=function(n,r,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,r);case 3:return d.call(this,n,r,u);default:var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.da(n,r,u,A)}throw Error("Invalid arity: "+arguments.length);
};k.na=3;k.qa=m.qa;k.ia=h;k.aa=f;k.j=e;k.ba=d;k.da=m.da;return k}()};
Db.ja=function(a,b,c,d){return function(){function e(r,u,w){return a.nb?a.nb(b,c,d,r,u,w):a.call(null,b,c,d,r,u,w)}function f(r,u){return a.za?a.za(b,c,d,r,u):a.call(null,b,c,d,r,u)}function h(r){return a.ja?a.ja(b,c,d,r):a.call(null,b,c,d,r)}function k(){return a.ba?a.ba(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function r(w,A,G,I){var F=null;if(3<arguments.length){F=0;for(var N=Array(arguments.length-3);F<N.length;)N[F]=arguments[F+3],++F;F=new De(N,0,null)}return u.call(this,w,A,G,F)}function u(w,
A,G,I){return Ch(a,b,c,d,w,M([A,G,I]))}r.na=3;r.qa=function(w){var A=H(w);w=J(w);var G=H(w);w=J(w);var I=H(w);w=Fe(w);return u(A,G,I,w)};r.da=u;return r}();m=function(r,u,w,A){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,r);case 2:return f.call(this,r,u);case 3:return e.call(this,r,u,w);default:var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.da(r,u,w,G)}throw Error("Invalid arity: "+
arguments.length);};m.na=3;m.qa=n.qa;m.ia=k;m.aa=h;m.j=f;m.ba=e;m.da=n.da;return m}()};Db.da=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){return Bh(a,b,c,d,W.j(e,k))}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()};
Db.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};Db.na=4;
function Qh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.ba?a.ba(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.aa?a.aa(k):a.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){return Bh(a,null==n?b:n,r,u,w)}k.na=3;k.qa=
function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=H(n);n=Fe(n);return m(r,u,w,n)};k.da=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.da(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.na=3;f.qa=h.qa;f.aa=e;f.j=d;f.ba=c;f.da=h.da;return f}()}
function Sh(a,b){return new ch(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=gh(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.aa?a.aa(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return ih(kh(f),Sh(a,be(c)))}e=function(){var m=H(c);return a.aa?a.aa(m):a.call(null,m)}();return null==e?Sh(a,Fe(c)):hf(e,Sh(a,Fe(c)))}return null},null,null)}function Th(a,b,c){this.state=a;this.meta=b;this.validator=c;this.oe=null;this.la=16386;this.ga=6455296}g=Th.prototype;
g.equiv=function(a){return this.oa(null,a)};g.oa=function(a,b){return this===b};g.Ib=function(){return this.state};g.ra=function(){return this.meta};g.R=function(a,b){for(var c=E(this.oe),d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f),k=P(h,0,null);h=P(h,1,null);h.ja?h.ja(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=E(c))If(c)?(d=ae(c),c=be(c),k=d,e=K(d),d=k):(d=H(c),k=P(d,0,null),h=P(d,1,null),h.ja?h.ja(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
g.Dg=function(a,b,c){this.oe=Q.ba(this.oe,b,c);return this};g.Eg=function(a,b){return this.oe=R.j(this.oe,b)};g.wa=function(){return ya(this)};function Uh(a){return new Th(a,null,null)}function Vh(a,b){if(a instanceof Th){var c=a.validator;if(null!=c&&!q(c.aa?c.aa(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.oe&&a.R(c,b);return b}return ee(a,b)}
var Wh=function Wh(a){switch(arguments.length){case 2:return Wh.j(arguments[0],arguments[1]);case 3:return Wh.ba(arguments[0],arguments[1],arguments[2]);case 4:return Wh.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return Wh.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Wh.j=function(a,b){if(a instanceof Th){var c=a.state;b=b.aa?b.aa(c):b.call(null,c);a=Vh(a,b)}else a=fe(a,b);return a};Wh.ba=function(a,b,c){if(a instanceof Th){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Vh(a,b)}else a=fe(a,b,c);return a};Wh.ja=function(a,b,c,d){if(a instanceof Th){var e=a.state;b=b.ba?b.ba(e,c,d):b.call(null,e,c,d);a=Vh(a,b)}else a=fe(a,b,c,d);return a};Wh.da=function(a,b,c,d,e){return a instanceof Th?Vh(a,Bh(b,a.state,c,d,e)):fe(a,b,c,d,e)};
Wh.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};Wh.na=4;function Xh(a){return D.j(a.Ib(null),!1)?(Vh(a,!0),!0):!1}function Yh(a){this.state=a;this.ga=32768;this.la=0}Yh.prototype.Xc=function(a,b){return this.state=b};Yh.prototype.Ib=function(){return this.state};function Zh(a){return new Yh(a)}
function $h(){var a=ai,b=bi;return function(){function c(k,m,n){var r=a.aa?a.aa(k):a.call(null,k);if(q(r))return r;r=a.aa?a.aa(m):a.call(null,m);if(q(r))return r;r=a.aa?a.aa(n):a.call(null,n);if(q(r))return r;k=b.aa?b.aa(k):b.call(null,k);if(q(k))return k;m=b.aa?b.aa(m):b.call(null,m);return q(m)?m:b.aa?b.aa(n):b.call(null,n)}function d(k,m){var n=a.aa?a.aa(k):a.call(null,k);if(q(n))return n;n=a.aa?a.aa(m):a.call(null,m);if(q(n))return n;k=b.aa?b.aa(k):b.call(null,k);return q(k)?k:b.aa?b.aa(m):b.call(null,
m)}function e(k){var m=a.aa?a.aa(k):a.call(null,k);return q(m)?m:b.aa?b.aa(k):b.call(null,k)}var f=null,h=function(){function k(n,r,u,w){var A=null;if(3<arguments.length){A=0;for(var G=Array(arguments.length-3);A<G.length;)G[A]=arguments[A+3],++A;A=new De(G,0,null)}return m.call(this,n,r,u,A)}function m(n,r,u,w){n=f.ba(n,r,u);return q(n)?n:Kh(function(A){var G=a.aa?a.aa(A):a.call(null,A);return q(G)?G:b.aa?b.aa(A):b.call(null,A)},w)}k.na=3;k.qa=function(n){var r=H(n);n=J(n);var u=H(n);n=J(n);var w=
H(n);n=Fe(n);return m(r,u,w,n)};k.da=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new De(w,0,null)}return h.da(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.na=3;f.qa=h.qa;f.ia=function(){return null};f.aa=e;f.j=d;f.ba=c;f.da=h.da;return f}()}
var ci=function ci(a){switch(arguments.length){case 1:return ci.aa(arguments[0]);case 2:return ci.j(arguments[0],arguments[1]);case 3:return ci.ba(arguments[0],arguments[1],arguments[2]);case 4:return ci.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return ci.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ci.aa=function(a){return function(b){return function(){function c(k,m){m=a.aa?a.aa(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.aa?b.aa(k):b.call(null,k)}function e(){return b.ia?b.ia():b.call(null)}var f=null,h=function(){function k(n,r,u){var w=null;if(2<arguments.length){w=0;for(var A=Array(arguments.length-2);w<A.length;)A[w]=arguments[w+2],++w;w=new De(A,0,null)}return m.call(this,n,r,w)}function m(n,r,u){r=zh(a,r,u);return b.j?b.j(n,r):b.call(null,n,r)}k.na=
2;k.qa=function(n){var r=H(n);n=J(n);var u=H(n);n=Fe(n);return m(r,u,n)};k.da=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new De(u,0,null)}return h.da(k,m,r)}throw Error("Invalid arity: "+arguments.length);};f.na=2;f.qa=h.qa;f.ia=e;f.aa=d;f.j=c;f.da=h.da;return f}()}};
ci.j=function(a,b){return new ch(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=gh(e),h=0;;)if(h<e)jh(f,function(){var k=x(d,h);return a.aa?a.aa(k):a.call(null,k)}()),h+=1;else break;return ih(kh(f),ci.j(a,be(c)))}return hf(function(){var k=H(c);return a.aa?a.aa(k):a.call(null,k)}(),ci.j(a,Fe(c)))}return null},null,null)};
ci.ba=function(a,b,c){return new ch(null,function(){var d=E(b),e=E(c);if(d&&e){var f=H(d);var h=H(e);f=a.j?a.j(f,h):a.call(null,f,h);d=hf(f,ci.ba(a,Fe(d),Fe(e)))}else d=null;return d},null,null)};ci.ja=function(a,b,c,d){return new ch(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.ba?a.ba(k,m,n):a.call(null,k,m,n);e=hf(k,ci.ja(a,Fe(e),Fe(f),Fe(h)))}else e=null;return e},null,null)};
ci.da=function(a,b,c,d,e){return ci.j(function(f){return yh(a,f)},function k(h){return new ch(null,function(){var m=ci.j(E,h);return Jh(wg,m)?hf(ci.j(H,m),k(ci.j(Fe,m))):null},null,null)}(pf.da(e,d,M([c,b]))))};ci.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};ci.na=4;
var di=function di(a){switch(arguments.length){case 1:return di.aa(arguments[0]);case 2:return di.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};
di.aa=function(a){return function(b){var c=Zh(a);return function(){function d(k,m){var n=y(c),r=c.Xc(null,c.Ib(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<r?k:Re(k)?k:Qe(k)}function e(k){return b.aa?b.aa(k):b.call(null,k)}function f(){return b.ia?b.ia():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.ia=f;h.aa=e;h.j=d;return h}()}};
di.j=function(a,b){return new ch(null,function(){if(0<a){var c=E(b);return c?hf(H(c),di.j(a-1,Fe(c))):null}return null},null,null)};di.na=2;function ei(a,b){return new ch(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=Fe(d);else break a;return d},null,null)}function fi(a,b){return ci.ba(function(c){return c},b,ei(a,b))}
function gi(a,b){return new ch(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=H(d),e=c.aa?c.aa(e):c.call(null,e);if(q(e))d=Fe(d);else break a}return d},null,null)}function hi(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.fa=null;this.ga=32374988;this.la=1}g=hi.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){return null==this.next?1<this.count?this.next=new hi(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.cf=function(){return!1};g.hb=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Re(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};
g.ib=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Re(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Re(c))return y(c);a+=1}else return c};g.jb=function(){return this.val};g.sb=function(){return null==this.next?1<this.count?this.next=new hi(null,this.count-1,this.val,null):-1===this.count?this:Ge:this.next};g.ua=function(){return this};
g.sa=function(a,b){return b===this.meta?this:new hi(b,this.count,this.val,this.next)};g.xa=function(a,b){return hf(b,this)};function ii(a){return new hi(null,-1,a,null)}function ji(a,b){return 0<a?new hi(null,a,b,null):Ge}function ki(a){return new ch(null,function(){return hf(a.ia?a.ia():a.call(null),ki(a))},null,null)}function li(a,b){return di.j(a,ki(b))}
var mi=function mi(a){switch(arguments.length){case 0:return mi.ia();case 1:return mi.aa(arguments[0]);case 2:return mi.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return mi.da(arguments[0],arguments[1],c)}};mi.ia=function(){return Ge};mi.aa=function(a){return new ch(null,function(){return a},null,null)};
mi.j=function(a,b){return new ch(null,function(){var c=E(a),d=E(b);return c&&d?hf(H(c),hf(H(d),mi.j(Fe(c),Fe(d)))):null},null,null)};mi.da=function(a,b,c){return new ch(null,function(){var d=ci.j(E,pf.da(c,b,M([a])));return Jh(wg,d)?W.j(ci.j(H,d),yh(mi,ci.j(Fe,d))):null},null,null)};mi.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};mi.na=2;
function ni(){return function(a){var b=Zh(!1);return function(){function c(h,k){if(q(y(b)))return h=a.j?a.j(h," "):a.call(null,h," "),Re(h)?h:a.j?a.j(h,k):a.call(null,h,k);he(b,!0);return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return a.aa?a.aa(h):a.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};
f.ia=e;f.aa=d;f.j=c;return f}()}}function oi(a,b){return yh(W,zh(ci,a,b))}
function pi(a){return function(b){return function(){function c(h,k){return q(a.aa?a.aa(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.aa?b.aa(h):b.call(null,h)}function e(){return b.ia?b.ia():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}}
function qi(a,b){return new ch(null,function(){var c=E(b);if(c){if(If(c)){for(var d=ae(c),e=K(d),f=gh(e),h=0;;)if(h<e){var k=x(d,h);k=a.aa?a.aa(k):a.call(null,k);q(k)&&(k=x(d,h),f.add(k));h+=1}else break;return ih(kh(f),qi(a,be(c)))}d=H(c);c=Fe(c);return q(a.aa?a.aa(d):a.call(null,d))?hf(d,qi(a,c)):qi(a,c)}return null},null,null)}function ri(a,b){return qi(Mh(a),b)}
var si=function si(a){switch(arguments.length){case 0:return si.ia();case 1:return si.aa(arguments[0]);case 2:return si.j(arguments[0],arguments[1]);case 3:return si.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};si.ia=function(){return qf};si.aa=function(a){return a};si.j=function(a,b){return null!=a?null!=a&&(a.la&4||l===a.yg)?rd(Vd(v.ba(Ud,Td(a),b)),yf(a)):v.ba(Rc,a,b):v.ba(pf,a,b)};
si.ba=function(a,b,c){return null!=a&&(a.la&4||l===a.yg)?rd(Vd(zg(b,qh,Td(a),c)),yf(a)):zg(b,pf,a,c)};si.na=3;
var ti=function ti(a){switch(arguments.length){case 2:return ti.j(arguments[0],arguments[1]);case 3:return ti.ba(arguments[0],arguments[1],arguments[2]);case 4:return ti.ja(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(4),0,null);return ti.da(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ti.j=function(a,b){return Vd(v.ba(function(c,d){return qh.j(c,a.aa?a.aa(d):a.call(null,d))},Td(qf),b))};ti.ba=function(a,b,c){return si.j(qf,ci.ba(a,b,c))};ti.ja=function(a,b,c,d){return si.j(qf,ci.ja(a,b,c,d))};ti.da=function(a,b,c,d,e){return si.j(qf,Ch(ci,a,b,c,d,M([e])))};ti.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.da(b,a,c,d,e)};ti.na=4;
function ui(a,b){return Vd(v.ba(function(c,d){return q(a.aa?a.aa(d):a.call(null,d))?qh.j(c,d):c},Td(qf),b))}function vi(a,b,c){return new ch(null,function(){var d=E(c);if(d){var e=di.j(a,d);return a===K(e)?hf(e,vi(a,b,ei(b,d))):null}return null},null,null)}function wi(a,b){return v.ba(B,a,b)}function xi(a,b,c){var d=Kf;for(b=E(b);;)if(null!=b){a=B.ba(a,H(b),d);if(d===a)return c;b=J(b)}else return a}
var yi=function yi(a,b,c){b=E(b);var e=H(b),f=J(b);return f?Q.ba(a,e,function(){var h=B.j(a,e);return yi.ba?yi.ba(h,f,c):yi.call(null,h,f,c)}()):Q.ba(a,e,c)},zi=function zi(a){switch(arguments.length){case 3:return zi.ba(arguments[0],arguments[1],arguments[2]);case 4:return zi.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return zi.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return zi.nb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return zi.da(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};zi.ba=function(a,b,c){b=E(b);var d=H(b);return(b=J(b))?Q.ba(a,d,zi.ba(B.j(a,d),b,c)):Q.ba(a,d,function(){var e=B.j(a,d);return c.aa?c.aa(e):c.call(null,e)}())};
zi.ja=function(a,b,c,d){b=E(b);var e=H(b);return(b=J(b))?Q.ba(a,e,zi.ja(B.j(a,e),b,c,d)):Q.ba(a,e,function(){var f=B.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};zi.za=function(a,b,c,d,e){b=E(b);var f=H(b);return(b=J(b))?Q.ba(a,f,zi.za(B.j(a,f),b,c,d,e)):Q.ba(a,f,function(){var h=B.j(a,f);return c.ba?c.ba(h,d,e):c.call(null,h,d,e)}())};
zi.nb=function(a,b,c,d,e,f){b=E(b);var h=H(b);return(b=J(b))?Q.ba(a,h,zi.nb(B.j(a,h),b,c,d,e,f)):Q.ba(a,h,function(){var k=B.j(a,h);return c.ja?c.ja(k,d,e,f):c.call(null,k,d,e,f)}())};zi.da=function(a,b,c,d,e,f,h){var k=E(b);b=H(k);return(k=J(k))?Q.ba(a,b,Ch(zi,B.j(a,b),k,c,d,M([e,f,h]))):Q.ba(a,b,Ch(c,B.j(a,b),d,e,f,M([h])))};zi.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.da(b,a,c,d,e,f,h)};zi.na=6;
var Ai=function Ai(a){switch(arguments.length){case 3:return Ai.ba(arguments[0],arguments[1],arguments[2]);case 4:return Ai.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ai.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Ai.nb(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(6),0,null);return Ai.da(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Ai.ba=function(a,b,c){return Q.ba(a,b,function(){var d=B.j(a,b);return c.aa?c.aa(d):c.call(null,d)}())};Ai.ja=function(a,b,c,d){return Q.ba(a,b,function(){var e=B.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};Ai.za=function(a,b,c,d,e){return Q.ba(a,b,function(){var f=B.j(a,b);return c.ba?c.ba(f,d,e):c.call(null,f,d,e)}())};
Ai.nb=function(a,b,c,d,e,f){return Q.ba(a,b,function(){var h=B.j(a,b);return c.ja?c.ja(h,d,e,f):c.call(null,h,d,e,f)}())};Ai.da=function(a,b,c,d,e,f,h){return Q.ba(a,b,Ch(c,B.j(a,b),d,e,f,M([h])))};Ai.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.da(b,a,c,d,e,f,h)};Ai.na=6;function Bi(a,b){this.ab=a;this.ha=b}
function Ci(a){return new Bi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Di(a){return new Bi(a.ab,Hc(a.ha))}function Ei(a){a=a.ma;return 32>a?0:a-1>>>5<<5}function Fi(a,b,c){for(;;){if(0===b)return c;var d=Ci(a);d.ha[0]=c;c=d;b-=5}}
var Gi=function Gi(a,b,c,d){var f=Di(c),h=a.ma-1>>>b&31;5===b?f.ha[h]=d:(c=c.ha[h],null!=c?(b-=5,a=Gi.ja?Gi.ja(a,b,c,d):Gi.call(null,a,b,c,d)):a=Fi(null,b-5,d),f.ha[h]=a);return f};function Hi(a,b){throw Error(["No item ",t.aa(a)," in vector of length ",t.aa(b)].join(""));}function Ii(a,b){if(b>=Ei(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.ha[b>>>a&31];a=d}else return c.ha}function Ji(a,b){return 0<=b&&b<a.ma?Ii(a,b):Hi(b,a.ma)}
var Ki=function Ki(a,b,c,d,e){var h=Di(c);if(0===b)h.ha[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.ha[k];a=Ki.za?Ki.za(a,b,c,d,e):Ki.call(null,a,b,c,d,e);h.ha[k]=a}return h},Li=function Li(a,b,c){var e=a.ma-2>>>b&31;if(5<b){b-=5;var f=c.ha[e];a=Li.ba?Li.ba(a,b,f):Li.call(null,a,b,f);if(null==a&&0===e)return null;c=Di(c);c.ha[e]=a;return c}if(0===e)return null;c=Di(c);c.ha[e]=null;return c};function Mi(a,b,c,d,e,f){this.i=a;this.base=b;this.ha=c;this.v=d;this.start=e;this.end=f}
Mi.prototype.pb=function(){return this.i<this.end};Mi.prototype.next=function(){32===this.i-this.base&&(this.ha=Ii(this.v,this.i),this.base+=32);var a=this.ha[this.i&31];this.i+=1;return a};function Ni(a,b,c){return new Mi(b,b-b%32,b<K(a)?Ii(a,b):null,a,b,c)}function Oi(a,b,c,d){return c<d?Pi(a,b,bf(a,c),c+1,d):b.ia?b.ia():b.call(null)}
function Pi(a,b,c,d,e){var f=c;c=d;for(d=Ii(a,d);;)if(c<e){var h=c&31;d=0===h?Ii(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Re(f))return y(f);c+=1}else return f}function S(a,b,c,d,e,f){this.meta=a;this.ma=b;this.shift=c;this.root=d;this.tail=e;this.fa=f;this.ga=167666463;this.la=139268}g=S.prototype;g.rd=function(a,b){return 0<=b&&b<this.ma?new Y(b,Ii(this,b)[b&31]):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return"number"===typeof b?this.gb(null,b,c):c};
g.Ia=function(a,b,c){a=0;for(var d=c;;)if(a<this.ma){var e=Ii(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.ba?b.ba(d,h,k):b.call(null,d,h,k);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.Df=l;g.La=function(a,b){return Ji(this,b)[b&31]};g.gb=function(a,b,c){return 0<=b&&b<this.ma?Ii(this,b)[b&31]:c};
g.Wc=function(a,b,c){if(0<=b&&b<this.ma)return Ei(this)<=b?(a=Hc(this.tail),a[b&31]=c,new S(this.meta,this.ma,this.shift,this.root,a,null)):new S(this.meta,this.ma,this.shift,Ki(this,this.shift,this.root,b,c),this.tail,null);if(b===this.ma)return this.xa(null,c);throw Error(["Index ",t.aa(b)," out of bounds  [0,",t.aa(this.ma),"]"].join(""));};g.Ba=function(){return Ni(this,0,this.ma)};g.ra=function(){return this.meta};g.va=function(){return this.ma};
g.sd=function(){return 0<this.ma?this.La(null,this.ma-1):null};g.td=function(){if(0===this.ma)throw Error("Can't pop empty vector");if(1===this.ma)return rd(qf,this.meta);if(1<this.ma-Ei(this))return new S(this.meta,this.ma-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Ii(this,this.ma-2),b=Li(this,this.shift,this.root);b=null==b?T:b;var c=this.ma-1;return 5<this.shift&&null==b.ha[1]?new S(this.meta,c,this.shift-5,b.ha[0],a,null):new S(this.meta,c,this.shift,b,a,null)};
g.Jc=function(){return 0<this.ma?new ff(this,this.ma-1,null):null};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){if(b instanceof S)if(this.ma===K(b))for(a=this.Ba(null),b=b.Ba(null);;)if(a.pb()){var c=a.next(),d=b.next();if(!D.j(c,d))return!1}else return!0;else return!1;else return gf(this,b)};g.Jd=function(){return new Qi(this.ma,this.shift,Ri.aa?Ri.aa(this.root):Ri.call(null,this.root),Si.aa?Si.aa(this.tail):Si.call(null,this.tail))};
g.Ya=function(){return rd(qf,this.meta)};g.hb=function(a,b){return Oi(this,b,0,this.ma)};g.ib=function(a,b,c){a=0;for(var d=c;;)if(a<this.ma){var e=Ii(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Re(d)){e=d;break a}f+=1}else{e=d;break a}if(Re(e))return y(e);a+=c;d=e}else return d};g.pa=function(a,b,c){if("number"===typeof b)return this.Wc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ua=function(){if(0===this.ma)return null;if(32>=this.ma)return new De(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.ha[0];else{a=a.ha;break a}}return Ti?Ti(this,a,0,0):Ui.call(null,this,a,0,0)};g.sa=function(a,b){return b===this.meta?this:new S(b,this.ma,this.shift,this.root,this.tail,this.fa)};
g.xa=function(a,b){if(32>this.ma-Ei(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new S(this.meta,this.ma+1,this.shift,this.root,c,null)}a=(c=this.ma>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Ci(null),c.ha[0]=this.root,d=Fi(null,this.shift,new Bi(null,this.tail)),c.ha[1]=d):c=Gi(this,this.shift,this.root,new Bi(null,this.tail));return new S(this.meta,this.ma+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};
var T=new Bi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),qf=new S(null,0,5,T,[],Le);function Vi(a,b){var c=a.length;a=b?a:Hc(a);if(32>c)return new S(null,c,5,T,a,null);var d=a.slice(0,32);b=32;for(var e=(new S(null,32,5,T,d,null)).Jd(null);;)if(b<c)d=b+1,e=qh.j(e,a[b]),b=d;else return Vd(e)}S.prototype[Ec]=function(){return Ie(this)};
function sg(a){return q(Wi.aa?Wi.aa(a):Wi.call(null,a))?new S(null,2,5,T,[Xi.aa?Xi.aa(a):Xi.call(null,a),Yi.aa?Yi.aa(a):Yi.call(null,a)],null):Hf(a)?xf(a,null):wc(a)?Vi(a,!0):Vd(v.ba(Ud,Td(qf),a))}var Zi=function Zi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Zi.da(c)};Zi.da=function(a){return a instanceof De&&0===a.i?Vi(a.ha,!wc(a.ha)):sg(a)};Zi.na=0;Zi.qa=function(a){return this.da(E(a))};
function $i(a,b,c,d,e){this.Ac=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.fa=null;this.ga=32375020;this.la=1536}g=$i.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){if(this.off+1<this.node.length){var a=this.Ac;var b=this.node,c=this.i,d=this.off+1;a=Ti?Ti(a,b,c,d):Ui.call(null,a,b,c,d);return null==a?null:a}return this.ve()};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return Oi(this.Ac,b,this.i+this.off,K(this.Ac))};g.ib=function(a,b,c){return Pi(this.Ac,b,c,this.i+this.off,K(this.Ac))};g.jb=function(){return this.node[this.off]};g.sb=function(){if(this.off+1<this.node.length){var a=this.Ac;var b=this.node,c=this.i,d=this.off+1;a=Ti?Ti(a,b,c,d):Ui.call(null,a,b,c,d);return null==a?Ge:a}return this.Rd(null)};
g.ua=function(){return this};g.we=function(){var a=this.node;return new fh(a,this.off,a.length)};g.Rd=function(){var a=this.i+this.node.length;if(a<Nc(this.Ac)){var b=this.Ac,c=Ii(this.Ac,a);return Ti?Ti(b,c,a,0):Ui.call(null,b,c,a,0)}return Ge};g.sa=function(a,b){return b===this.meta?this:aj?aj(this.Ac,this.node,this.i,this.off,b):Ui.call(null,this.Ac,this.node,this.i,this.off,b)};g.xa=function(a,b){return hf(b,this)};
g.ve=function(){var a=this.i+this.node.length;if(a<Nc(this.Ac)){var b=this.Ac,c=Ii(this.Ac,a);return Ti?Ti(b,c,a,0):Ui.call(null,b,c,a,0)}return null};$i.prototype[Ec]=function(){return Ie(this)};
function Ui(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new $i(b,Ji(b,c),c,d,null);case 4:return Ti(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return aj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function Ti(a,b,c,d){return new $i(a,b,c,d,null)}function aj(a,b,c,d,e){return new $i(a,b,c,d,e)}
function bj(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.fa=e;this.ga=167666463;this.la=139264}g=bj.prototype;g.rd=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,ad(this.v,a)):null};g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return"number"===typeof b?this.gb(null,b,c):c};
g.Ia=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.ba?b.ba(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=1;a+=1}else return c};g.La=function(a,b){return 0>b||this.end<=this.start+b?Hi(b,this.end-this.start):x(this.v,this.start+b)};g.gb=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Wc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.aa(b)," out of bounds [0,",t.aa(this.va(null)),"]"].join(""));b=this.meta;c=Q.ba(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return cj.za?cj.za(b,c,d,a,null):cj.call(null,b,c,d,a,null)};g.Ba=function(){return null!=this.v&&l===this.v.Df?Ni(this.v,this.start,this.end):new Ih(this)};g.ra=function(){return this.meta};g.va=function(){return this.end-this.start};
g.sd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.td=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return cj.za?cj.za(a,b,c,d,null):cj.call(null,a,b,c,d,null)};g.Jc=function(){return this.start!==this.end?new ff(this,this.end-this.start-1,null):null};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(qf,this.meta)};
g.hb=function(a,b){return null!=this.v&&l===this.v.Df?Oi(this.v,b,this.start,this.end):Ue(this,b)};g.ib=function(a,b,c){return null!=this.v&&l===this.v.Df?Pi(this.v,b,c,this.start,this.end):Ve(this,b,c)};g.pa=function(a,b,c){if("number"===typeof b)return this.Wc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ua=function(){var a=this;return function d(c){return c===a.end?null:hf(x(a.v,c),new ch(null,function(){return d(c+1)},null,null))}(a.start)};
g.sa=function(a,b){return b===this.meta?this:cj.za?cj.za(b,this.v,this.start,this.end,this.fa):cj.call(null,b,this.v,this.start,this.end,this.fa)};g.xa=function(a,b){a=this.meta;b=nd(this.v,this.end,b);var c=this.start,d=this.end+1;return cj.za?cj.za(a,b,c,d,null):cj.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};bj.prototype[Ec]=function(){return Ie(this)};function cj(a,b,c,d,e){for(;;)if(b instanceof bj)c=b.start+c,d=b.start+d,b=b.v;else{if(!Hf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new bj(a,b,c,d,e)}}function dj(a,b,c){return cj(null,a,b|0,c|0,null)}
function ej(a,b){return a===b.ab?b:new Bi(a,Hc(b.ha))}function Ri(a){return new Bi({},Hc(a.ha))}function Si(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Jf(a,0,b,0,a.length);return b}var fj=function fj(a,b,c,d){c=ej(a.root.ab,c);var f=a.ma-1>>>b&31;if(5===b)a=d;else{var h=c.ha[f];null!=h?(b-=5,a=fj.ja?fj.ja(a,b,h,d):fj.call(null,a,b,h,d)):a=Fi(a.root.ab,b-5,d)}c.ha[f]=a;return c};
function Qi(a,b,c,d){this.ma=a;this.shift=b;this.root=c;this.tail=d;this.la=88;this.ga=275}g=Qi.prototype;
g.Kd=function(a,b){if(this.root.ab){if(32>this.ma-Ei(this))this.tail[this.ma&31]=b;else{a=new Bi(this.root.ab,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.ma>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=Fi(this.root.ab,this.shift,a),this.root=new Bi(this.root.ab,b),this.shift=c):this.root=fj(this,this.shift,this.root,a)}this.ma+=1;return this}throw Error("conj! after persistent!");};g.Sd=function(){if(this.root.ab){this.root.ab=null;var a=this.ma-Ei(this),b=Array(a);Jf(this.tail,0,b,0,a);return new S(null,this.ma,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.ee=function(a,b,c){if("number"===typeof b)return gj(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function gj(a,b,c){if(a.root.ab){if(0<=b&&b<a.ma){if(Ei(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=ej(a.root.ab,h);if(0===f)h.ha[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.ha[m]);h.ha[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.ma)return a.Kd(null,c);throw Error(["Index ",t.aa(b)," out of bounds for TransientVector of length",t.aa(a.ma)].join(""));}throw Error("assoc! after persistent!");}g.va=function(){if(this.root.ab)return this.ma;throw Error("count after persistent!");};
g.La=function(a,b){if(this.root.ab)return Ji(this,b)[b&31];throw Error("nth after persistent!");};g.gb=function(a,b,c){return 0<=b&&b<this.ma?this.La(null,b):c};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){if(this.root.ab)return"number"===typeof b?this.gb(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};function hj(a,b){this.ge=a;this.Ve=b}hj.prototype.pb=function(){var a=null!=this.ge&&E(this.ge);return a?a:null!=this.Ve?this.Ve.pb():!1};
hj.prototype.next=function(){if(null!=this.ge){var a=H(this.ge);this.ge=J(this.ge);return a}if(null!=this.Ve&&this.Ve.pb())return this.Ve.next();throw Error("No such element");};hj.prototype.remove=function(){return Error("Unsupported operation")};function ij(a,b,c,d){this.meta=a;this.lc=b;this.zc=c;this.fa=d;this.ga=31850700;this.la=0}g=ij.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){var a=J(this.lc);return a?new ij(this.meta,a,this.zc,null):null!=this.zc?new ij(this.meta,this.zc,null,null):null};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(Ge,this.meta)};g.jb=function(){return H(this.lc)};g.sb=function(){var a=J(this.lc);return a?new ij(this.meta,a,this.zc,null):null==this.zc?this.Ya(null):new ij(this.meta,this.zc,null,null)};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new ij(b,this.lc,this.zc,this.fa)};g.xa=function(a,b){return hf(b,this)};ij.prototype[Ec]=function(){return Ie(this)};
function jj(a,b,c,d,e){this.meta=a;this.count=b;this.lc=c;this.zc=d;this.fa=e;this.la=139264;this.ga=31858766}g=jj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,this.count.aa?this.count.aa(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.Ba=function(){return new hj(this.lc,je(this.zc))};g.ra=function(){return this.meta};g.va=function(){return this.count};g.sd=function(){return H(this.lc)};
g.td=function(){if(q(this.lc)){var a=J(this.lc);return a?new jj(this.meta,this.count-1,a,this.zc,null):new jj(this.meta,this.count-1,E(this.zc),qf,null)}return this};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return rd(kj,this.meta)};g.jb=function(){return H(this.lc)};g.sb=function(){return Fe(E(this))};g.ua=function(){var a=E(this.zc),b=this.lc;return q(q(b)?b:a)?new ij(null,this.lc,E(a),null):null};
g.sa=function(a,b){return b===this.meta?this:new jj(b,this.count,this.lc,this.zc,this.fa)};g.xa=function(a,b){q(this.lc)?(a=this.zc,b=new jj(this.meta,this.count+1,this.lc,pf.j(q(a)?a:qf,b),null)):b=new jj(this.meta,this.count+1,pf.j(this.lc,b),qf,null);return b};var kj=new jj(null,0,null,qf,Le);jj.prototype[Ec]=function(){return Ie(this)};function lj(){this.ga=2097152;this.la=0}lj.prototype.equiv=function(a){return this.oa(null,a)};lj.prototype.oa=function(){return!1};var mj=new lj;
function qj(a,b){return Mf(Ff(b)&&!Gf(b)?K(a)===K(b)?(null!=a?a.ga&1048576||l===a.Oi||(a.ga?0:Ac(vd,a)):Ac(vd,a))?vg(function(c,d,e){return D.j(B.ba(b,d,mj),e)?!0:Qe(!1)},!0,a):Jh(function(c){return D.j(B.ba(b,H(c),mj),mf(c))},a):null:null)}function rj(a,b,c,d){this.i=0;this.Bi=a;this.rg=b;this.fields=c;this.Ng=d}rj.prototype.pb=function(){var a=this.i<this.rg;return a?a:this.Ng.pb()};
rj.prototype.next=function(){if(this.i<this.rg){var a=bf(this.fields,this.i);this.i+=1;return new Y(a,ad(this.Bi,a))}return this.Ng.next()};rj.prototype.remove=function(){return Error("Unsupported operation")};function sj(a){this.s=a}sj.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=P(a,0,null);a=P(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function tj(a){this.s=a}
tj.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function uj(a,b){if(b instanceof C)a:{var c=a.length;b=b.Aa;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].Aa){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof z)a:for(c=a.length,b=b.od,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof z&&b===a[d].od){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.j(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b){this.key=a;this.val=b;this.fa=null;this.ga=166619935;this.la=0}g=Y.prototype;g.rd=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ya=function(a,b){return this.gb(null,b,null)};g.ka=function(a,b,c){return this.gb(null,b,c)};g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.gb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Wc=function(a,b,c){return(new S(null,2,5,T,[this.key,this.val],null)).Wc(null,b,c)};g.ra=function(){return null};g.va=function(){return 2};g.Ff=function(){return this.key};g.Gf=function(){return this.val};g.sd=function(){return this.val};g.td=function(){return new S(null,1,5,T,[this.key],null)};g.Jc=function(){return new De([this.val,this.key],0,null)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return null};g.hb=function(a,b){return Ue(this,b)};g.ib=function(a,b,c){return Ve(this,b,c)};g.pa=function(a,b,c){return Q.ba(new S(null,2,5,T,[this.key,this.val],null),b,c)};g.ua=function(){return new De([this.key,this.val],0,null)};g.sa=function(a,b){return xf(new S(null,2,5,T,[this.key,this.val],null),b)};g.xa=function(a,b){return new S(null,3,5,T,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};function Wi(a){return null!=a?a.ga&2048||l===a.Ri?!0:!1:!1}function vj(a,b,c){this.ha=a;this.i=b;this.Gc=c;this.ga=32374990;this.la=0}
g=vj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.Gc};g.bb=function(){return this.i<this.ha.length-2?new vj(this.ha,this.i+2,null):null};g.va=function(){return(this.ha.length-this.i)/2};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return new Y(this.ha[this.i],this.ha[this.i+1])};g.sb=function(){return this.i<this.ha.length-2?new vj(this.ha,this.i+2,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.Gc?this:new vj(this.ha,this.i,b)};g.xa=function(a,b){return hf(b,this)};vj.prototype[Ec]=function(){return Ie(this)};
function wj(a,b){this.ha=a;this.i=0;this.ma=b}wj.prototype.pb=function(){return this.i<this.ma};wj.prototype.next=function(){var a=new Y(this.ha[this.i],this.ha[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.ma=b;this.ha=c;this.fa=d;this.ga=16647951;this.la=139268}g=p.prototype;g.rd=function(a,b){a=uj(this.ha,b);return-1===a?null:new Y(this.ha[a],this.ha[a+1])};g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.keys=function(){return Ie(xj.aa?xj.aa(this):xj.call(null,this))};g.entries=function(){return new sj(E(E(this)))};g.values=function(){return Ie(yj.aa?yj.aa(this):yj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.ka(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){a=uj(this.ha,b);return-1===a?c:this.ha[a+1]};
g.Ia=function(a,b,c){a=this.ha.length;for(var d=0;;)if(d<a){var e=this.ha[d],f=this.ha[d+1];c=b.ba?b.ba(c,e,f):b.call(null,c,e,f);if(Re(c))return y(c);d+=2}else return c};g.Ba=function(){return new wj(this.ha,2*this.ma)};g.ra=function(){return this.meta};g.va=function(){return this.ma};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};
g.oa=function(a,b){if(Ff(b)&&!Gf(b))if(a=this.ha.length,this.ma===b.va(null))for(var c=0;;)if(c<a){var d=b.ka(null,this.ha[c],Kf);if(d!==Kf)if(D.j(this.ha[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Jd=function(){return new zj(this.ha.length,Hc(this.ha))};g.Ya=function(){return rd(X,this.meta)};g.hb=function(a,b){return tg(this,b)};g.ib=function(a,b,c){return ug(this,b,c)};
g.Ka=function(a,b){if(0<=uj(this.ha,b)){a=this.ha.length;var c=a-2;if(0===c)return this.Ya(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.ma-1,c,null);D.j(b,this.ha[d])?d+=2:(c[e]=this.ha[d],c[e+1]=this.ha[d+1],e+=2,d+=2)}}else return this};
g.pa=function(a,b,c){a=uj(this.ha,b);if(-1===a){if(this.ma<Aj){a=this.ha;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.ma+1,e,null)}return rd(cd(si.j(Bj,this),b,c),this.meta)}if(c===this.ha[a+1])return this;b=Hc(this.ha);b[a+1]=c;return new p(this.meta,this.ma,b,null)};g.ua=function(){var a=this.ha;return 0<=a.length-2?new vj(a,0,null):null};g.sa=function(a,b){return b===this.meta?this:new p(b,this.ma,this.ha,this.fa)};
g.xa=function(a,b){if(Hf(b))return this.pa(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var X=new p(null,0,[],Ne),Aj=8;function uf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=uj(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[Ec]=function(){return Ie(this)};function zj(a,b){this.Vd={};this.bd=a;this.ha=b;this.ga=259;this.la=56}g=zj.prototype;
g.va=function(){if(this.Vd)return Ng(this.bd,2);throw Error("count after persistent!");};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){if(this.Vd)return a=uj(this.ha,b),-1===a?c:this.ha[a+1];throw Error("lookup after persistent!");};
g.Kd=function(a,b){if(this.Vd){if(Wi(b))return this.ee(null,Xi.aa?Xi.aa(b):Xi.call(null,b),Yi.aa?Yi.aa(b):Yi.call(null,b));if(Hf(b))return this.ee(null,b.aa?b.aa(0):b.call(null,0),b.aa?b.aa(1):b.call(null,1));a=E(b);for(b=this;;){var c=H(a);if(q(c))a=J(a),b=Wd(b,Xi.aa?Xi.aa(c):Xi.call(null,c),Yi.aa?Yi.aa(c):Yi.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.Sd=function(){if(this.Vd)return this.Vd=!1,new p(null,Ng(this.bd,2),this.ha,null);throw Error("persistent! called twice");};g.ee=function(a,b,c){if(this.Vd){a=uj(this.ha,b);if(-1===a)return this.bd+2<=2*Aj?(this.bd+=2,this.ha.push(b),this.ha.push(c),this):rh.ba(Cj.j?Cj.j(this.bd,this.ha):Cj.call(null,this.bd,this.ha),b,c);c!==this.ha[a+1]&&(this.ha[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.Jf=function(a,b){if(this.Vd)return a=uj(this.ha,b),0<=a&&(this.ha[a]=this.ha[this.bd-2],this.ha[a+1]=this.ha[this.bd-1],a=this.ha,a.pop(),a.pop(),this.bd-=2),this;throw Error("dissoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ka(null,a,null)};g.j=function(a,b){return this.ka(null,a,b)};function Cj(a,b){for(var c=Td(Bj),d=0;;)if(d<a)c=rh.ba(c,b[d],b[d+1]),d+=2;else return c}function Dj(){this.val=!1}function Ej(a,b){return a===b?!0:V(a,b)?!0:D.j(a,b)}function Fj(a,b,c){a=Hc(a);a[b]=c;return a}function Gj(a,b){var c=Array(a.length-2);Jf(a,0,c,0,2*b);Jf(a,2*(b+1),c,2*b,c.length-2*b);return c}function Hj(a,b,c,d){a=a.yd(b);a.ha[c]=d;return a}
function Ij(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.ba?b.ba(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.$d(b,f):f;if(Re(c))return c;e+=2;f=c}else return f}function Jj(a){this.ha=a;this.i=0;this.dd=this.Te=null}Jj.prototype.advance=function(){for(var a=this.ha.length;;)if(this.i<a){var b=this.ha[this.i],c=this.ha[this.i+1];null!=b?b=this.Te=new Y(b,c):null!=c?(b=je(c),b=b.pb()?this.dd=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Jj.prototype.pb=function(){var a=null!=this.Te;return a?a:(a=null!=this.dd)?a:this.advance()};Jj.prototype.next=function(){if(null!=this.Te){var a=this.Te;this.Te=null;return a}if(null!=this.dd)return a=this.dd.next(),this.dd.pb()||(this.dd=null),a;if(this.advance())return this.next();throw Error("No such element");};Jj.prototype.remove=function(){return Error("Unsupported operation")};function Kj(a,b,c){this.ab=a;this.bitmap=b;this.ha=c;this.la=131072;this.ga=0}g=Kj.prototype;
g.yd=function(a){if(a===this.ab)return this;var b=Qg(this.bitmap),c=Array(0>b?4:2*(b+1));Jf(this.ha,0,c,0,2*b);return new Kj(a,this.bitmap,c)};g.Re=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=Qg(this.bitmap&f-1),k=this.ha[2*h],m=this.ha[2*h+1];return null==k?(b=m.Re(a,b+5,c,d,e),b===m?this:null!=b?Hj(this,a,2*h+1,b):this.bitmap===f?null:Lj(this,a,f,h)):Ej(d,k)?(e.val=!0,Lj(this,a,f,h)):this};
function Lj(a,b,c,d){if(a.bitmap===c)return null;a=a.yd(b);b=a.ha;var e=b.length;a.bitmap^=c;Jf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Pe=function(){return Mj?Mj(this.ha):Nj.call(null,this.ha)};g.$d=function(a,b){return Ij(this.ha,a,b)};g.Zd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Qg(this.bitmap&e-1);e=this.ha[2*f];f=this.ha[2*f+1];return null==e?f.Zd(a+5,b,c,d):Ej(c,e)?f:d};
g.ad=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Qg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=Qg(this.bitmap);if(2*m<this.ha.length){a=this.yd(a);b=a.ha;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Oj.ad(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.ha[e]?Oj.ad(a,b+5,ve(this.ha[e]),this.ha[e],this.ha[e+1],f):this.ha[e+1],e+=2,d+=1);else break;return new Pj(a,m+1,k)}b=Array(2*(m+4));Jf(this.ha,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Jf(this.ha,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.yd(a);a.ha=b;a.bitmap|=h;return a}m=this.ha[2*k];h=this.ha[2*k+1];if(null==m)return m=h.ad(a,b+5,c,d,e,f),m===h?this:Hj(this,a,2*k+1,m);if(Ej(d,m))return e===h?this:Hj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Qj?Qj(a,f,m,h,c,d,e):Rj.call(null,
a,f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.yd(a);a.ha[e]=null;a.ha[k]=d;return a};
g.$c=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Qg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=Qg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Oj.$c(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.ha[d]?Oj.$c(a+5,ve(this.ha[d]),this.ha[d],this.ha[d+1],e):this.ha[d+1],d+=2,c+=1);else break;return new Pj(null,k+1,h)}a=
Array(2*(k+1));Jf(this.ha,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Jf(this.ha,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new Kj(null,this.bitmap|f,a)}var m=this.ha[2*h];f=this.ha[2*h+1];if(null==m)return k=f.$c(a+5,b,c,d,e),k===f?this:new Kj(null,this.bitmap,Fj(this.ha,2*h+1,k));if(Ej(c,m))return d===f?this:new Kj(null,this.bitmap,Fj(this.ha,2*h+1,d));e.val=!0;e=this.bitmap;k=this.ha;a+=5;a=Sj?Sj(a,m,f,b,c,d):Rj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Hc(k);d[c]=null;d[h]=a;return new Kj(null,e,d)};
g.Oe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Qg(this.bitmap&e-1);e=this.ha[2*f];f=this.ha[2*f+1];return null==e?f.Oe(a+5,b,c,d):Ej(c,e)?new Y(e,f):d};
g.Qe=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=Qg(this.bitmap&d-1),f=this.ha[2*e],h=this.ha[2*e+1];return null==f?(a=h.Qe(a+5,b,c),a===h?this:null!=a?new Kj(null,this.bitmap,Fj(this.ha,2*e+1,a)):this.bitmap===d?null:new Kj(null,this.bitmap^d,Gj(this.ha,e))):Ej(c,f)?new Kj(null,this.bitmap^d,Gj(this.ha,e)):this};g.Ba=function(){return new Jj(this.ha)};var Oj=new Kj(null,0,[]);
function Tj(a,b,c){var d=a.ha,e=d.length;a=Array(2*(a.ma-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new Kj(b,k,a)}function Uj(a){this.ha=a;this.i=0;this.dd=null}Uj.prototype.pb=function(){for(var a=this.ha.length;;){if(null!=this.dd&&this.dd.pb())return!0;if(this.i<a){var b=this.ha[this.i];this.i+=1;null!=b&&(this.dd=je(b))}else return!1}};Uj.prototype.next=function(){if(this.pb())return this.dd.next();throw Error("No such element");};
Uj.prototype.remove=function(){return Error("Unsupported operation")};function Pj(a,b,c){this.ab=a;this.ma=b;this.ha=c;this.la=131072;this.ga=0}g=Pj.prototype;g.yd=function(a){return a===this.ab?this:new Pj(a,this.ma,Hc(this.ha))};g.Re=function(a,b,c,d,e){var f=c>>>b&31,h=this.ha[f];if(null==h)return this;b=h.Re(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.ma)return Tj(this,a,f);a=Hj(this,a,f,b);--a.ma;return a}return Hj(this,a,f,b)};
g.Pe=function(){return Vj?Vj(this.ha):Wj.call(null,this.ha)};g.$d=function(a,b){for(var c=this.ha.length,d=0;;)if(d<c){var e=this.ha[d];if(null!=e){b=e.$d(a,b);if(Re(b))return b;d+=1}else d+=1}else return b};g.Zd=function(a,b,c,d){var e=this.ha[b>>>a&31];return null!=e?e.Zd(a+5,b,c,d):d};g.ad=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.ha[h];if(null==k)return a=Hj(this,a,h,Oj.ad(a,b+5,c,d,e,f)),a.ma+=1,a;b=k.ad(a,b+5,c,d,e,f);return b===k?this:Hj(this,a,h,b)};
g.$c=function(a,b,c,d,e){var f=b>>>a&31,h=this.ha[f];if(null==h)return new Pj(null,this.ma+1,Fj(this.ha,f,Oj.$c(a+5,b,c,d,e)));a=h.$c(a+5,b,c,d,e);return a===h?this:new Pj(null,this.ma,Fj(this.ha,f,a))};g.Oe=function(a,b,c,d){var e=this.ha[b>>>a&31];return null!=e?e.Oe(a+5,b,c,d):d};g.Qe=function(a,b,c){var d=b>>>a&31,e=this.ha[d];return null!=e?(a=e.Qe(a+5,b,c),a===e?this:null==a?8>=this.ma?Tj(this,null,d):new Pj(null,this.ma-1,Fj(this.ha,d,a)):new Pj(null,this.ma,Fj(this.ha,d,a))):this};g.Ba=function(){return new Uj(this.ha)};
function Xj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Ej(c,a[d]))return d;d+=2}else return-1}function Yj(a,b,c,d){this.ab=a;this.ud=b;this.ma=c;this.ha=d;this.la=131072;this.ga=0}g=Yj.prototype;g.yd=function(a){if(a===this.ab)return this;var b=Array(2*(this.ma+1));Jf(this.ha,0,b,0,2*this.ma);return new Yj(a,this.ud,this.ma,b)};
g.Re=function(a,b,c,d,e){b=Xj(this.ha,this.ma,d);if(-1===b)return this;e.val=!0;if(1===this.ma)return null;a=this.yd(a);e=a.ha;e[b]=e[2*this.ma-2];e[b+1]=e[2*this.ma-1];e[2*this.ma-1]=null;e[2*this.ma-2]=null;--a.ma;return a};g.Pe=function(){return Mj?Mj(this.ha):Nj.call(null,this.ha)};g.$d=function(a,b){return Ij(this.ha,a,b)};g.Zd=function(a,b,c,d){a=Xj(this.ha,this.ma,c);return 0>a?d:Ej(c,this.ha[a])?this.ha[a+1]:d};
g.ad=function(a,b,c,d,e,f){if(c===this.ud){b=Xj(this.ha,this.ma,d);if(-1===b){if(this.ha.length>2*this.ma)return b=2*this.ma,c=2*this.ma+1,a=this.yd(a),a.ha[b]=d,a.ha[c]=e,f.val=!0,a.ma+=1,a;c=this.ha.length;b=Array(c+2);Jf(this.ha,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.ma+1;a===this.ab?(this.ha=b,this.ma=d,a=this):a=new Yj(this.ab,this.ud,d,b);return a}return this.ha[b+1]===e?this:Hj(this,a,b+1,e)}return(new Kj(a,1<<(this.ud>>>b&31),[null,this,null,null])).ad(a,b,c,d,e,f)};
g.$c=function(a,b,c,d,e){return b===this.ud?(a=Xj(this.ha,this.ma,c),-1===a?(a=2*this.ma,b=Array(a+2),Jf(this.ha,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Yj(null,this.ud,this.ma+1,b)):D.j(this.ha[a+1],d)?this:new Yj(null,this.ud,this.ma,Fj(this.ha,a+1,d))):(new Kj(null,1<<(this.ud>>>a&31),[null,this])).$c(a,b,c,d,e)};g.Oe=function(a,b,c,d){a=Xj(this.ha,this.ma,c);return 0>a?d:Ej(c,this.ha[a])?new Y(this.ha[a],this.ha[a+1]):d};
g.Qe=function(a,b,c){a=Xj(this.ha,this.ma,c);return-1===a?this:1===this.ma?null:new Yj(null,this.ud,this.ma-1,Gj(this.ha,Ng(a,2)))};g.Ba=function(){return new Jj(this.ha)};function Rj(a){switch(arguments.length){case 6:return Sj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Qj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}
function Sj(a,b,c,d,e,f){var h=ve(b);if(h===d)return new Yj(null,h,2,[b,c,e,f]);var k=new Dj;return Oj.$c(a,h,b,c,k).$c(a,d,e,f,k)}function Qj(a,b,c,d,e,f,h){var k=ve(c);if(k===e)return new Yj(null,k,2,[c,d,f,h]);var m=new Dj;return Oj.ad(a,b,k,c,d,m).ad(a,b,e,f,h,m)}function Zj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.fa=e;this.ga=32374988;this.la=0}g=Zj.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return ak?ak(a,b,null):Nj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return ak?ak(a,b,c):Nj.call(null,a,b,c)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1]):H(this.s)};
g.sb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return ak?ak(c,d,null):Nj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return ak?ak(c,d,e):Nj.call(null,c,d,e)}();return null!=b?b:Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new Zj(b,this.nodes,this.i,this.s,this.fa)};g.xa=function(a,b){return hf(b,this)};Zj.prototype[Ec]=function(){return Ie(this)};
function Nj(a){switch(arguments.length){case 1:return Mj(arguments[0]);case 3:return ak(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function Mj(a){return ak(a,0,null)}function ak(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Zj(null,a,b,null,null);var d=a[b+1];if(q(d)&&(d=d.Pe(),q(d)))return new Zj(null,a,b+2,d,null);b+=2}else return null;else return new Zj(null,a,b,c,null)}
function bk(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.fa=e;this.ga=32374988;this.la=0}g=bk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){var a=this.nodes,b=this.i,c=J(this.s);return ck?ck(a,b,c):Wj.call(null,a,b,c)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return H(this.s)};g.sb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=ck?ck(a,b,c):Wj.call(null,a,b,c);return null!=a?a:Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.meta?this:new bk(b,this.nodes,this.i,this.s,this.fa)};g.xa=function(a,b){return hf(b,this)};bk.prototype[Ec]=function(){return Ie(this)};
function Wj(a){switch(arguments.length){case 1:return Vj(arguments[0]);case 3:return ck(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function Vj(a){return ck(a,0,null)}function ck(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(q(d)&&(d=d.Pe(),q(d)))return new bk(null,a,b+1,d,null);b+=1}else return null;else return new bk(null,a,b,c,null)}function dk(a,b){this.Gb=a;this.bh=b;this.seen=!1}
dk.prototype.pb=function(){return!this.seen||this.bh.pb()};dk.prototype.next=function(){if(this.seen)return this.bh.next();this.seen=!0;return new Y(null,this.Gb)};dk.prototype.remove=function(){return Error("Unsupported operation")};function ek(a,b,c,d,e,f){this.meta=a;this.ma=b;this.root=c;this.Fb=d;this.Gb=e;this.fa=f;this.ga=16123663;this.la=139268}g=ek.prototype;g.rd=function(a,b){return null==b?this.Fb?new Y(null,this.Gb):null:null==this.root?null:this.root.Oe(0,ve(b),b,null)};g.toString=function(){return le(this)};
g.equiv=function(a){return this.oa(null,a)};g.keys=function(){return Ie(xj.aa?xj.aa(this):xj.call(null,this))};g.entries=function(){return new sj(E(E(this)))};g.values=function(){return Ie(yj.aa?yj.aa(this):yj.call(null,this))};g.has=function(a){return Pf(this,a)};g.get=function(a,b){return this.ka(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return null==b?this.Fb?this.Gb:c:null==this.root?c:this.root.Zd(0,ve(b),b,c)};
g.Ia=function(a,b,c){a=this.Fb?b.ba?b.ba(c,null,this.Gb):b.call(null,c,null,this.Gb):c;return Re(a)?y(a):null!=this.root?Se(this.root.$d(b,a)):a};g.Ba=function(){var a=this.root?je(this.root):Fh();return this.Fb?new dk(this.Gb,a):a};g.ra=function(){return this.meta};g.va=function(){return this.ma};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};g.oa=function(a,b){return qj(this,b)};g.Jd=function(){return new fk(this.root,this.ma,this.Fb,this.Gb)};g.Ya=function(){return rd(Bj,this.meta)};
g.Ka=function(a,b){if(null==b)return this.Fb?new ek(this.meta,this.ma-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Qe(0,ve(b),b);return a===this.root?this:new ek(this.meta,this.ma-1,a,this.Fb,this.Gb,null)};
g.pa=function(a,b,c){if(null==b)return this.Fb&&c===this.Gb?this:new ek(this.meta,this.Fb?this.ma:this.ma+1,this.root,!0,c,null);a=new Dj;b=(null==this.root?Oj:this.root).$c(0,ve(b),b,c,a);return b===this.root?this:new ek(this.meta,a.val?this.ma+1:this.ma,b,this.Fb,this.Gb,null)};g.ua=function(){if(0<this.ma){var a=null!=this.root?this.root.Pe():null;return this.Fb?hf(new Y(null,this.Gb),a):a}return null};g.sa=function(a,b){return b===this.meta?this:new ek(b,this.ma,this.root,this.Fb,this.Gb,this.fa)};
g.xa=function(a,b){if(Hf(b))return this.pa(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var Bj=new ek(null,0,null,!1,null,Ne);function gk(a,b){for(var c=a.length,d=0,e=Td(Bj);;)if(d<c){var f=d+1;e=Wd(e,a[d],b[d]);d=f}else return Vd(e)}ek.prototype[Ec]=function(){return Ie(this)};function fk(a,b,c,d){this.ab={};this.root=a;this.count=b;this.Fb=c;this.Gb=d;this.ga=259;this.la=56}
function hk(a,b,c){if(a.ab){if(null==b)a.Gb!==c&&(a.Gb=c),a.Fb||(a.count+=1,a.Fb=!0);else{var d=new Dj;b=(null==a.root?Oj:a.root).ad(a.ab,0,ve(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=fk.prototype;g.va=function(){if(this.ab)return this.count;throw Error("count after persistent!");};g.ya=function(a,b){return null==b?this.Fb?this.Gb:null:null==this.root?null:this.root.Zd(0,ve(b),b)};
g.ka=function(a,b,c){return null==b?this.Fb?this.Gb:c:null==this.root?c:this.root.Zd(0,ve(b),b,c)};g.Kd=function(a,b){a:if(this.ab)if(Wi(b))a=hk(this,Xi.aa?Xi.aa(b):Xi.call(null,b),Yi.aa?Yi.aa(b):Yi.call(null,b));else if(Hf(b))a=hk(this,b.aa?b.aa(0):b.call(null,0),b.aa?b.aa(1):b.call(null,1));else for(a=E(b),b=this;;){var c=H(a);if(q(c))a=J(a),b=hk(b,Xi.aa?Xi.aa(c):Xi.call(null,c),Yi.aa?Yi.aa(c):Yi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Sd=function(){if(this.ab){this.ab=null;var a=new ek(null,this.count,this.root,this.Fb,this.Gb,null)}else throw Error("persistent! called twice");return a};g.ee=function(a,b,c){return hk(this,b,c)};g.Jf=function(a,b){if(this.ab)null==b?this.Fb&&(this.Fb=!1,this.Gb=null,--this.count):null!=this.root&&(a=new Dj,b=this.root.Re(this.ab,0,ve(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};function ik(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=pf.j(d,a),a=b;else return d}
function jk(a,b,c,d,e){this.meta=a;this.stack=b;this.Qd=c;this.ma=d;this.fa=e;this.ga=32374990;this.la=0}g=jk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.meta};g.bb=function(){var a=H(this.stack);a=ik(this.Qd?a.right:a.left,J(this.stack),this.Qd);return null==a?null:new jk(null,a,this.Qd,this.ma-1,null)};
g.va=function(){return 0>this.ma?K(J(this))+1:this.ma};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){var a=this.stack;return null==a?null:kd(a)};g.sb=function(){var a=H(this.stack);a=ik(this.Qd?a.right:a.left,J(this.stack),this.Qd);return null!=a?new jk(null,a,this.Qd,this.ma-1,null):Ge};g.ua=function(){return this};
g.sa=function(a,b){return b===this.meta?this:new jk(b,this.stack,this.Qd,this.ma,this.fa)};g.xa=function(a,b){return hf(b,this)};jk.prototype[Ec]=function(){return Ie(this)};function kk(a,b,c){return new jk(null,ik(a,null,b),b,c,null)}
function lk(a,b,c,d){return c instanceof mk?c.left instanceof mk?new mk(c.key,c.val,c.left.pd(),new nk(a,b,c.right,d)):c.right instanceof mk?new mk(c.right.key,c.right.val,new nk(c.key,c.val,c.left,c.right.left),new nk(a,b,c.right.right,d)):new nk(a,b,c,d):new nk(a,b,c,d)}
function ok(a,b,c,d){return d instanceof mk?d.right instanceof mk?new mk(d.key,d.val,new nk(a,b,c,d.left),d.right.pd()):d.left instanceof mk?new mk(d.left.key,d.left.val,new nk(a,b,c,d.left.left),new nk(d.key,d.val,d.left.right,d.right)):new nk(a,b,c,d):new nk(a,b,c,d)}
function pk(a,b,c,d){if(c instanceof mk)return new mk(a,b,c.pd(),d);if(d instanceof nk)return ok(a,b,c,d.Ue());if(d instanceof mk&&d.left instanceof nk)return new mk(d.left.key,d.left.val,new nk(a,b,c,d.left.left),ok(d.key,d.val,d.left.right,d.right.Ue()));throw Error("red-black tree invariant violation");}
function qk(a,b,c,d){if(d instanceof mk)return new mk(a,b,c,d.pd());if(c instanceof nk)return lk(a,b,c.Ue(),d);if(c instanceof mk&&c.right instanceof nk)return new mk(c.right.key,c.right.val,lk(c.key,c.val,c.left.Ue(),c.right.left),new nk(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var rk=function rk(a,b,c){var e=null!=a.left?function(){var k=a.left;return rk.ba?rk.ba(k,b,c):rk.call(null,k,b,c)}():c;if(Re(e))return e;var f=function(){var k=a.key,m=a.val;return b.ba?b.ba(e,k,m):b.call(null,e,k,m)}();if(Re(f))return f;if(null!=a.right){var h=a.right;return rk.ba?rk.ba(h,b,f):rk.call(null,h,b,f)}return f};function nk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.fa=null;this.ga=166619935;this.la=0}g=nk.prototype;
g.rd=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();g.ng=function(a){return a.qg(this)};g.Ue=function(){return new mk(this.key,this.val,this.left,this.right)};g.pd=function(){return this};g.mg=function(a){return a.pg(this)};g.replace=function(a,b,c,d){return new nk(a,b,c,d)};
g.pg=function(a){return new nk(a.key,a.val,this,a.right)};g.qg=function(a){return new nk(a.key,a.val,a.left,this)};g.$d=function(a,b){return rk(this,a,b)};g.ya=function(a,b){return this.gb(null,b,null)};g.ka=function(a,b,c){return this.gb(null,b,c)};g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.gb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Wc=function(a,b,c){return(new S(null,2,5,T,[this.key,this.val],null)).Wc(null,b,c)};
g.ra=function(){return null};g.va=function(){return 2};g.Ff=function(){return this.key};g.Gf=function(){return this.val};g.sd=function(){return this.val};g.td=function(){return new S(null,1,5,T,[this.key],null)};g.Jc=function(){return new De([this.val,this.key],0,null)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return null};g.hb=function(a,b){return Ue(this,b)};g.ib=function(a,b,c){return Ve(this,b,c)};
g.pa=function(a,b,c){return Q.ba(new S(null,2,5,T,[this.key,this.val],null),b,c)};g.ua=function(){return new De([this.key,this.val],0,null)};g.sa=function(a,b){return rd(new S(null,2,5,T,[this.key,this.val],null),b)};g.xa=function(a,b){return new S(null,3,5,T,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};nk.prototype[Ec]=function(){return Ie(this)};function mk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.fa=null;this.ga=166619935;this.la=0}g=mk.prototype;g.rd=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();g.ng=function(a){return new mk(this.key,this.val,this.left,a)};g.Ue=function(){throw Error("red-black tree invariant violation");};g.pd=function(){return new nk(this.key,this.val,this.left,this.right)};
g.mg=function(a){return new mk(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new mk(a,b,c,d)};g.pg=function(a){return this.left instanceof mk?new mk(this.key,this.val,this.left.pd(),new nk(a.key,a.val,this.right,a.right)):this.right instanceof mk?new mk(this.right.key,this.right.val,new nk(this.key,this.val,this.left,this.right.left),new nk(a.key,a.val,this.right.right,a.right)):new nk(a.key,a.val,this,a.right)};
g.qg=function(a){return this.right instanceof mk?new mk(this.key,this.val,new nk(a.key,a.val,a.left,this.left),this.right.pd()):this.left instanceof mk?new mk(this.left.key,this.left.val,new nk(a.key,a.val,a.left,this.left.left),new nk(this.key,this.val,this.left.right,this.right)):new nk(a.key,a.val,a.left,this)};g.$d=function(a,b){return rk(this,a,b)};g.ya=function(a,b){return this.gb(null,b,null)};g.ka=function(a,b,c){return this.gb(null,b,c)};
g.La=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.gb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Wc=function(a,b,c){return(new S(null,2,5,T,[this.key,this.val],null)).Wc(null,b,c)};g.ra=function(){return null};g.va=function(){return 2};g.Ff=function(){return this.key};g.Gf=function(){return this.val};g.sd=function(){return this.val};g.td=function(){return new S(null,1,5,T,[this.key],null)};
g.Jc=function(){return new De([this.val,this.key],0,null)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return null};g.hb=function(a,b){return Ue(this,b)};g.ib=function(a,b,c){return Ve(this,b,c)};g.pa=function(a,b,c){return Q.ba(new S(null,2,5,T,[this.key,this.val],null),b,c)};g.ua=function(){return new De([this.key,this.val],0,null)};g.sa=function(a,b){return rd(new S(null,2,5,T,[this.key,this.val],null),b)};
g.xa=function(a,b){return new S(null,3,5,T,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.La(null,a)};g.j=function(a,b){return this.gb(null,a,b)};mk.prototype[Ec]=function(){return Ie(this)};
var sk=function sk(a,b,c,d,e){if(null==b)return new mk(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return sk.za?sk.za(a,k,c,d,e):sk.call(null,a,k,c,d,e)}(),null!=h?b.mg(h):null;h=function(){var k=b.right;return sk.za?sk.za(a,k,c,d,e):sk.call(null,a,k,c,d,e)}();return null!=h?b.ng(h):null},tk=function tk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof mk){if(b instanceof mk){var d=
function(){var e=a.right,f=b.left;return tk.j?tk.j(e,f):tk.call(null,e,f)}();return d instanceof mk?new mk(d.key,d.val,new mk(a.key,a.val,a.left,d.left),new mk(b.key,b.val,d.right,b.right)):new mk(a.key,a.val,a.left,new mk(b.key,b.val,d,b.right))}return new mk(a.key,a.val,a.left,function(){var e=a.right;return tk.j?tk.j(e,b):tk.call(null,e,b)}())}if(b instanceof mk)return new mk(b.key,b.val,function(){var e=b.left;return tk.j?tk.j(a,e):tk.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return tk.j?tk.j(e,f):tk.call(null,e,f)}();return d instanceof mk?new mk(d.key,d.val,new nk(a.key,a.val,a.left,d.left),new nk(b.key,b.val,d.right,b.right)):pk(a.key,a.val,a.left,new nk(b.key,b.val,d,b.right))},uk=function uk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,tk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return uk.ja?uk.ja(a,h,c,d):uk.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof nk?pk(b.key,b.val,
f,b.right):new mk(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return uk.ja?uk.ja(a,h,c,d):uk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof nk?qk(b.key,b.val,b.left,f):new mk(b.key,b.val,b.left,f):null}return null},vk=function vk(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return vk.ja?vk.ja(a,k,c,d):vk.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return vk.ja?vk.ja(a,k,c,d):vk.call(null,a,k,c,d)}())};function wk(a,b,c,d,e){this.Kc=a;this.tree=b;this.ma=c;this.meta=d;this.fa=e;this.ga=418776847;this.la=8192}g=wk.prototype;g.rd=function(a,b){return xk(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.ka(null,a,b)};g.entries=function(){return new sj(E(E(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(xj.aa?xj.aa(this):xj.call(null,this))};
g.values=function(){return Ie(yj.aa?yj.aa(this):yj.call(null,this))};g.equiv=function(a){return this.oa(null,a)};function xk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Kc.j?a.Kc.j(b,d):a.Kc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Pf(this,a)};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){a=xk(this,b);return null!=a?a.val:c};g.Ia=function(a,b,c){return null!=this.tree?Se(rk(this.tree,b,c)):c};g.ra=function(){return this.meta};
g.va=function(){return this.ma};g.Jc=function(){return 0<this.ma?kk(this.tree,!1,this.ma):null};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};g.oa=function(a,b){return qj(this,b)};g.Ya=function(){return new wk(this.Kc,null,0,this.meta,0)};g.Ka=function(a,b){a=[null];b=uk(this.Kc,this.tree,b,a);return null==b?null==bf(a,0)?this:new wk(this.Kc,null,0,this.meta,null):new wk(this.Kc,b.pd(),this.ma-1,this.meta,null)};
g.pa=function(a,b,c){a=[null];var d=sk(this.Kc,this.tree,b,c,a);return null==d?(a=bf(a,0),D.j(c,a.val)?this:new wk(this.Kc,vk(this.Kc,this.tree,b,c),this.ma,this.meta,null)):new wk(this.Kc,d.pd(),this.ma+1,this.meta,null)};g.ua=function(){return 0<this.ma?kk(this.tree,!0,this.ma):null};g.sa=function(a,b){return b===this.meta?this:new wk(this.Kc,this.tree,this.ma,b,this.fa)};
g.xa=function(a,b){if(Hf(b))return this.pa(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=H(b);if(Hf(c))a=cd(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var yk=new wk(Sf,null,0,null,Ne);wk.prototype[Ec]=function(){return Ie(this)};var zk=function zk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return zk.da(c)};zk.da=function(a){a=E(a);for(var b=Td(Bj);;)if(a){var c=J(J(a));b=rh.ba(b,H(a),mf(a));a=c}else return Vd(b)};zk.na=0;zk.qa=function(a){return this.da(E(a))};
var Ak=function Ak(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Ak.da(c)};Ak.da=function(a){a=a instanceof De&&0===a.i?a.ha:Ic(a);return uf(a)};Ak.na=0;Ak.qa=function(a){return this.da(E(a))};function Ck(a,b){this.Xa=a;this.Gc=b;this.ga=32374988;this.la=0}g=Ck.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.Gc};g.bb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null==a?null:new Ck(a,null)};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.Xa.jb(null).key};g.sb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null!=a?new Ck(a,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.Gc?this:new Ck(this.Xa,b)};g.xa=function(a,b){return hf(b,this)};
Ck.prototype[Ec]=function(){return Ie(this)};function xj(a){return(a=E(a))?new Ck(a,null):null}function Xi(a){return gd(a)}function Dk(a,b){this.Xa=a;this.Gc=b;this.ga=32374988;this.la=0}g=Dk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();g.ra=function(){return this.Gc};g.bb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null==a?null:new Dk(a,null)};g.wa=function(){return Ke(this)};
g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return jf(b,this)};g.ib=function(a,b,c){return lf(b,c,this)};g.jb=function(){return this.Xa.jb(null).val};g.sb=function(){var a=(null!=this.Xa?this.Xa.ga&128||l===this.Xa.Be||(this.Xa.ga?0:Ac(Xc,this.Xa)):Ac(Xc,this.Xa))?this.Xa.bb(null):J(this.Xa);return null!=a?new Dk(a,null):Ge};g.ua=function(){return this};g.sa=function(a,b){return b===this.Gc?this:new Dk(this.Xa,b)};g.xa=function(a,b){return hf(b,this)};
Dk.prototype[Ec]=function(){return Ie(this)};function yj(a){return(a=E(a))?new Dk(a,null):null}function Yi(a){return hd(a)}var Ek=function Ek(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Ek.da(c)};Ek.da=function(a){return q(Kh(wg,a))?v.j(function(b,c){return pf.j(q(b)?b:X,c)},a):null};Ek.na=0;Ek.qa=function(a){return this.da(E(a))};
var Fk=function Fk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return Fk.da(arguments[0],c)};Fk.da=function(a,b){if(q(Kh(wg,b))){var c=function(d,e){var f=gd(e),h=hd(e);return Pf(d,f)?Q.ba(d,f,function(){var k=B.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):Q.ba(d,f,h)};return v.j(function(d,e){return v.ba(c,q(d)?d:X,E(e))},b)}return null};Fk.na=1;Fk.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};
function Gk(a,b){var c=X;for(b=E(b);;)if(b){var d=H(b),e=B.ba(a,d,Hk);c=Dh.j(e,Hk)?Q.ba(c,d,e):c;b=J(b)}else return rd(c,yf(a))}function Ik(a){this.iter=a}Ik.prototype.pb=function(){return this.iter.pb()};Ik.prototype.next=function(){if(this.iter.pb())return this.iter.next().key;throw Error("No such element");};Ik.prototype.remove=function(){return Error("Unsupported operation")};function Jk(a,b,c){this.meta=a;this.Ad=b;this.fa=c;this.ga=15077647;this.la=139268}g=Jk.prototype;g.toString=function(){return le(this)};
g.equiv=function(a){return this.oa(null,a)};g.keys=function(){return Ie(E(this))};g.entries=function(){return new tj(E(E(this)))};g.values=function(){return Ie(E(this))};g.has=function(a){return Pf(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null);f=P(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))If(b)?(c=ae(b),b=be(b),h=c,d=K(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){a=dd(this.Ad,b);return q(a)?gd(a):c};g.Ba=function(){return new Ik(je(this.Ad))};g.ra=function(){return this.meta};g.va=function(){return Nc(this.Ad)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Me(this)};g.oa=function(a,b){if(Df(b))if(K(this)===K(b))try{return vg(function(c,d){return(c=Pf(b,d))?c:Qe(!1)},!0,this.Ad)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.Jd=function(){return new Kk(Td(this.Ad))};
g.Ya=function(){return rd(Lk,this.meta)};g.If=function(a,b){return new Jk(this.meta,fd(this.Ad,b),null)};g.ua=function(){return xj(this.Ad)};g.sa=function(a,b){return b===this.meta?this:new Jk(b,this.Ad,this.fa)};g.xa=function(a,b){return new Jk(this.meta,Q.ba(this.Ad,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};var Lk=new Jk(null,X,Ne);function Rf(a){for(var b=a.length,c=Td(Lk),d=0;;)if(d<b)Ud(c,a[d]),d+=1;else break;return Vd(c)}Jk.prototype[Ec]=function(){return Ie(this)};function Kk(a){this.ce=a;this.la=136;this.ga=259}g=Kk.prototype;g.Kd=function(a,b){this.ce=rh.ba(this.ce,b,null);return this};g.Sd=function(){return new Jk(null,Vd(this.ce),null)};
g.va=function(){return K(this.ce)};g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return ad(this.ce,b,Kf)===Kf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return ad(this.ce,a,Kf)===Kf?null:a};
g.j=function(a,b){return ad(this.ce,a,Kf)===Kf?b:a};function Mk(a){if(Df(a))return xf(a,null);a=E(a);if(null==a)return Lk;if(a instanceof De&&0===a.i)return Rf(a.ha);for(var b=Td(Lk);;)if(null!=a){var c=J(a);b=Ud(b,Vc(a));a=c}else return Vd(b)}function Nk(a){return function e(c,d){return new ch(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=P(k,0,null);if(k=E(k))if(Pf(f,h))h=Fe(k);else{f=hf(h,e(Fe(k),pf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Lk)}
function Ok(a){for(var b=qf;;)if(J(a))b=pf.j(b,H(a)),a=J(a);else return E(b)}function bh(a){if(null!=a&&(a.la&4096||l===a.Bg))return a.ze(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.aa(a)].join(""));}function Pk(a,b){var c=Td(X);a=E(a);for(b=E(b);;)if(a&&b)c=rh.ba(c,H(a),H(b)),a=J(a),b=J(b);else return Vd(c)}
var Qk=function Qk(a){switch(arguments.length){case 2:return Qk.j(arguments[0],arguments[1]);case 3:return Qk.ba(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return Qk.da(arguments[0],arguments[1],arguments[2],c)}};Qk.j=function(a,b){return b};Qk.ba=function(a,b,c){return(a.aa?a.aa(b):a.call(null,b))>(a.aa?a.aa(c):a.call(null,c))?b:c};
Qk.da=function(a,b,c,d){return v.ba(function(e,f){return Qk.ba(a,e,f)},Qk.ba(a,b,c),d)};Qk.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};Qk.na=3;function Rk(){this.ha=[]}g=Rk.prototype;g.add=function(a){return this.ha.push(a)};g.size=function(){return this.ha.length};g.clear=function(){return this.ha=[]};g.isEmpty=function(){return 0===this.ha.length};g.toArray=function(){return this.ha};
function Sk(){return function(a){var b=new Rk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=sg(b.toArray()),b.clear(),a.j?a.j(h,k):a.call(null,h,k)):h}function d(h){if(!q(b.isEmpty())){var k=sg(b.toArray());b.clear();h=Se(a.j?a.j(h,k):a.call(null,h,k))}return a.aa?a.aa(h):a.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}}function Tk(a,b){return new ch(null,function(){var c=E(b);if(c){var d=H(c);d=a.aa?a.aa(d):a.call(null,d);c=q(d)?hf(H(c),Tk(a,Fe(c))):null}else c=null;return c},null,null)}function Uk(a,b,c){this.start=a;this.step=b;this.count=c;this.ga=82;this.la=0}g=Uk.prototype;g.va=function(){return this.count};g.jb=function(){return this.start};g.La=function(a,b){return this.start+b*this.step};
g.gb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.ue=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Uk(this.start+this.step,this.step,this.count-1)};function Vk(a,b,c){this.i=a;this.end=b;this.step=c}Vk.prototype.pb=function(){return 0<this.step?this.i<this.end:this.i>this.end};Vk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Wk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.pc=e;this.bf=f;this.fa=h;this.ga=32375006;this.la=140800}g=Wk.prototype;g.toString=function(){return le(this)};g.equiv=function(a){return this.oa(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return af(this,b,0);case 2:return af(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.aa=function(b){return af(this,b,0)};a.j=function(b,c){return af(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return df(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return df(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return df(this,c,d)};return b}();function Xk(a){if(null==a.pc){var b=a.va(null);32<b?(a.bf=new Wk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.pc=new Uk(a.start,a.step,32)):a.pc=new Uk(a.start,a.step,b)}}
g.La=function(a,b){if(0<=b&&b<this.va(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.gb=function(a,b,c){return 0<=b&&b<this.va(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.Ba=function(){return new Vk(this.start,this.end,this.step)};g.ra=function(){return this.meta};
g.bb=function(){return 0<this.step?this.start+this.step<this.end?new Wk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Wk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.va=function(){return Math.ceil((this.end-this.start)/this.step)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=Ke(this)};g.oa=function(a,b){return gf(this,b)};g.Ya=function(){return Ge};g.hb=function(a,b){return Ue(this,b)};
g.ib=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Re(c))return y(c);a+=this.step}else return c};g.jb=function(){return this.start};g.sb=function(){var a=this.bb(null);return null==a?Ge:a};g.ua=function(){return this};g.we=function(){Xk(this);return this.pc};g.Rd=function(){Xk(this);return null==this.bf?Ge:this.bf};g.sa=function(a,b){return b===this.meta?this:new Wk(b,this.start,this.end,this.step,this.pc,this.bf,this.fa)};
g.xa=function(a,b){return hf(b,this)};g.ve=function(){return E(this.Rd(null))};Wk.prototype[Ec]=function(){return Ie(this)};var Yk=function Yk(a){switch(arguments.length){case 0:return Yk.ia();case 1:return Yk.aa(arguments[0]);case 2:return Yk.j(arguments[0],arguments[1]);case 3:return Yk.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};Yk.ia=function(){return Yk.ba(0,Number.MAX_VALUE,1)};Yk.aa=function(a){return Yk.ba(0,a,1)};
Yk.j=function(a,b){return Yk.ba(a,b,1)};Yk.ba=function(a,b,c){return 0<c?b<=a?Ge:new Wk(null,a,b,c,null,null,null):0>c?b>=a?Ge:new Wk(null,a,b,c,null,null,null):b===a?Ge:ii(a)};Yk.na=3;function Zk(a,b){return new ch(null,function(){var c=E(b);return c?hf(H(c),Zk(a,ei(a,c))):null},null,null)}function $k(a,b){return new S(null,2,5,T,[Tk(a,b),gi(a,b)],null)}
function al(a,b){return new ch(null,function(){var c=E(b);if(c){var d=H(c),e=a.aa?a.aa(d):a.call(null,d),f=hf(d,Tk(function(h){return D.j(e,a.aa?a.aa(h):a.call(null,h))},J(c)));return hf(f,al(a,new ch(null,function(){return ei(K(f),c)},null,null)))}return null},null,null)}function bl(a){return Vd(v.ba(function(b,c){return rh.ba(b,c,B.ba(b,c,0)+1)},Td(X),a))}
function cl(a,b){return function(){function c(m,n,r){return new S(null,2,5,T,[a.ba?a.ba(m,n,r):a.call(null,m,n,r),b.ba?b.ba(m,n,r):b.call(null,m,n,r)],null)}function d(m,n){return new S(null,2,5,T,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new S(null,2,5,T,[a.aa?a.aa(m):a.call(null,m),b.aa?b.aa(m):b.call(null,m)],null)}function f(){return new S(null,2,5,T,[a.ia?a.ia():a.call(null),b.ia?b.ia():b.call(null)],null)}var h=null,k=function(){function m(r,u,
w,A){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new De(I,0,null)}return n.call(this,r,u,w,G)}function n(r,u,w,A){return new S(null,2,5,T,[Bh(a,r,u,w,A),Bh(b,r,u,w,A)],null)}m.na=3;m.qa=function(r){var u=H(r);r=J(r);var w=H(r);r=J(r);var A=H(r);r=Fe(r);return n(u,w,A,r)};m.da=n;return m}();h=function(m,n,r,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,
m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new De(A,0,null)}return k.da(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.na=3;h.qa=k.qa;h.ia=f;h.aa=e;h.j=d;h.ba=c;h.da=k.da;return h}()}function dl(a){a:for(var b=a;;)if(b=E(b))b=J(b);else break a;return a}
function el(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.j(a[0],b)?1===a.length?a[0]:sg(a):null;throw new TypeError("re-matches must match against a string.");}function fl(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:sg(a);throw new TypeError("re-find must match against a string.");}
var gl=function gl(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:sg(d);return hf(f,new ch(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=Sg.j(b,h),gl.j?gl.j(a,h):gl.call(null,a,h)):null},null,null))};function hl(a,b){if("string"===typeof b)return gl(a,b);throw new TypeError("re-seq must match against a string.");}
function il(a){if(a instanceof RegExp)return a;var b=fl(/^\(\?([idmsux]*)\)/,a),c=P(b,0,null);b=P(b,1,null);a=Sg.j(a,null==c?0:c.length);return new RegExp(a,q(b)?b:"")}
function Z(a,b,c,d,e,f,h){var k=nc;nc=null==nc?null:nc-1;try{if(null!=nc&&0>nc)return Jd(a,"#");Jd(a,c);if(0===tc.aa(f))E(h)&&Jd(a,function(){var A=jl.aa(f);return q(A)?A:"..."}());else{if(E(h)){var m=H(h);b.ba?b.ba(m,a,f):b.call(null,m,a,f)}for(var n=J(h),r=tc.aa(f)-1;;)if(!n||null!=r&&0===r){E(n)&&0===r&&(Jd(a,d),Jd(a,function(){var A=jl.aa(f);return q(A)?A:"..."}()));break}else{Jd(a,d);var u=H(n);c=a;h=f;b.ba?b.ba(u,c,h):b.call(null,u,c,h);var w=J(n);c=r-1;n=w;r=c}}return Jd(a,e)}finally{nc=k}}
function kl(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Jd(a,f);e+=1}else if(b=E(b))c=b,If(c)?(b=ae(c),d=be(c),c=b,f=K(b),b=d,d=f):(f=H(c),Jd(a,f),b=J(c),c=null,d=0),e=0;else return null}function ll(a){if(null==jc)throw Error("No *print-fn* fn set for evaluation environment");jc.call(null,a);return null}var ml={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function nl(a){return['"',t.aa(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return ml[b]})),'"'].join("")}function ol(a,b){return Mf(B.j(a,rc))?null!=b&&(b.ga&131072||l===b.ye)?null!=yf(b):!1:!1}
function pl(a,b,c){if(null==a)return Jd(b,"nil");if(ol(c,a)){Jd(b,"^");var d=yf(a);ql.ba?ql.ba(d,b,c):ql.call(null,d,b,c);Jd(b," ")}if(a.$b)return a.kc(b);if(null!=a?a.ga&2147483648||l===a.Za||(a.ga?0:Ac(Ld,a)):Ac(Ld,a))return Md(a,b,c);if(!0===a||!1===a)return Jd(b,t.aa(a));if("number"===typeof a)return Jd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.aa(a));if(null!=a&&a.constructor===Object)return Jd(b,"#js "),d=ci.j(function(f){return new Y(null!=
el(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?ah.aa(f):f,a[f])},hb(a)),rl.ja?rl.ja(d,ql,b,c):rl.call(null,d,ql,b,c);if(wc(a))return Z(b,ql,"#js ["," ","]",c,a);if("string"==typeof a)return q(qc.aa(c))?Jd(b,nl(a)):Jd(b,a);if(sa(a)){var e=a.name;c=q(function(){var f=null==e;return f?f:vb(e)}())?"Function":e;return kl(b,M(["#object[",c,q(!1)?[' "',t.aa(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.aa(f);;)if(f.length<h)f=["0",f].join("");else return f},kl(b,M(['#inst "',
t.aa(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return kl(b,M(['#"',a.source,'"']));if(Jc(a))return kl(b,M(["#object[",a.toString(),"]"]));if(q(function(){var f=null==a?null:a.constructor;return null==f?null:f.Kb}()))return kl(b,M(["#object[",a.constructor.Kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=q(function(){var f=null==e;return f?f:vb(e)}())?"Object":e;return null==a.constructor?kl(b,M(["#object[",c,"]"])):kl(b,M(["#object[",c," ",t.aa(a),"]"]))}function ql(a,b,c){var d=sl.aa(c);return q(d)?(c=Q.ba(c,tl,pl),d.ba?d.ba(a,b,c):d.call(null,a,b,c)):pl(a,b,c)}
function ul(a,b){var c=new dc,d=new ke(c);a:{ql(H(a),d,b);a=E(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.La(null,h);Jd(d," ");ql(k,d,b);h+=1}else if(a=E(a))e=a,If(e)?(a=ae(e),f=be(e),e=a,k=K(a),a=f,f=k):(k=H(e),Jd(d," "),ql(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.gd(null);return c}function vl(a,b){return Bf(a)?"":t.aa(ul(a,b))}function wl(a,b){if(Bf(a))return"\n";a=ul(a,b);a.append("\n");return t.aa(a)}
var xl=function xl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return xl.da(c)};xl.da=function(a){return vl(a,oc())};xl.na=0;xl.qa=function(a){return this.da(E(a))};var yl=function yl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return yl.da(c)};yl.da=function(a){return wl(a,oc())};yl.na=0;yl.qa=function(a){return this.da(E(a))};
var zl=function zl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return zl.da(c)};zl.da=function(a){return vl(a,Q.ba(oc(),qc,!1))};zl.na=0;zl.qa=function(a){return this.da(E(a))};var Al=function Al(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return Al.da(c)};Al.da=function(a){return wl(a,Q.ba(oc(),qc,!1))};Al.na=0;Al.qa=function(a){return this.da(E(a))};
function Bl(a){ll(vl(a,oc()));q(kc)&&(a=oc(),ll("\n"),B.j(a,pc))}function Cl(a){return a instanceof z?ze.j(null,bh(a)):ah.j(null,bh(a))}
function Dl(a){if(q(!1)){var b=E(a),c=E(b),d=H(c);J(c);P(d,0,null);P(d,1,null);c=sf(a);for(a=null;;){d=a;b=E(b);a=H(b);var e=J(b),f=a;a=P(f,0,null);b=P(f,1,null);if(q(f))if(a instanceof C||a instanceof z)if(q(d))if(D.j(d,Zg(a)))c=Q.ba(c,Cl(a),b),a=d,b=e;else return null;else if(d=Zg(a),q(d))c=Q.ba(c,Cl(a),b),a=d,b=e;else return null;else return null;else return new S(null,2,5,T,[d,c],null)}}else return null}
function El(a,b,c,d,e){return Z(d,function(f,h,k){var m=gd(f);c.ba?c.ba(m,h,k):c.call(null,m,h,k);Jd(h," ");f=hd(f);return c.ba?c.ba(f,h,k):c.call(null,f,h,k)},[t.aa(a),"{"].join(""),", ","}",e,E(b))}function rl(a,b,c,d){var e=Ff(a)?Dl(a):null,f=P(e,0,null);e=P(e,1,null);return q(f)?El(["#:",t.aa(f)].join(""),e,b,c,d):El(null,a,b,c,d)}Yh.prototype.Za=l;Yh.prototype.ta=function(a,b,c){Jd(b,"#object[cljs.core.Volatile ");ql(new p(null,1,[Fl,this.state],null),b,c);return Jd(b,"]")};Ae.prototype.Za=l;
Ae.prototype.ta=function(a,b,c){Jd(b,"#'");return ql(this.be,b,c)};De.prototype.Za=l;De.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};ch.prototype.Za=l;ch.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Y.prototype.Za=l;Y.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};jk.prototype.Za=l;jk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Zj.prototype.Za=l;Zj.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};
nk.prototype.Za=l;nk.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};vj.prototype.Za=l;vj.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Je.prototype.Za=l;Je.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};$i.prototype.Za=l;$i.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Wg.prototype.Za=l;Wg.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};ff.prototype.Za=l;
ff.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};ek.prototype.Za=l;ek.prototype.ta=function(a,b,c){return rl(this,ql,b,c)};bk.prototype.Za=l;bk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};bj.prototype.Za=l;bj.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};wk.prototype.Za=l;wk.prototype.ta=function(a,b,c){return rl(this,ql,b,c)};Jk.prototype.Za=l;Jk.prototype.ta=function(a,b,c){return Z(b,ql,"#{"," ","}",c,this)};hh.prototype.Za=l;
hh.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Th.prototype.Za=l;Th.prototype.ta=function(a,b,c){Jd(b,"#object[cljs.core.Atom ");ql(new p(null,1,[Fl,this.state],null),b,c);return Jd(b,"]")};Dk.prototype.Za=l;Dk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};mk.prototype.Za=l;mk.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};hi.prototype.Za=l;hi.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};S.prototype.Za=l;
S.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};ij.prototype.Za=l;ij.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Ug.prototype.Za=l;Ug.prototype.ta=function(a,b){return Jd(b,"()")};jj.prototype.Za=l;jj.prototype.ta=function(a,b,c){return Z(b,ql,"#queue ["," ","]",c,E(this))};p.prototype.Za=l;p.prototype.ta=function(a,b,c){return rl(this,ql,b,c)};Wk.prototype.Za=l;Wk.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};Ck.prototype.Za=l;
Ck.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};rf.prototype.Za=l;rf.prototype.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,this)};z.prototype.qd=l;z.prototype.fd=function(a,b){if(b instanceof z)return ye(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};C.prototype.qd=l;C.prototype.fd=function(a,b){if(b instanceof C)return Xg(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};bj.prototype.qd=l;
bj.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};S.prototype.qd=l;S.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};Y.prototype.qd=l;Y.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};nk.prototype.qd=l;
nk.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};mk.prototype.qd=l;mk.prototype.fd=function(a,b){if(Hf(b))return Tf(this,b);throw Error(["Cannot compare ",t.aa(this)," to ",t.aa(b)].join(""));};function Gl(a,b){Pd(a,Rd,b)}var Eb=null;function Nb(a){null==Eb&&(Eb=Uh(0));return ze.aa([t.aa(a),t.aa(Wh.j(Eb,Oe))].join(""))}function Hl(a){this.f=a;this.value=null;this.ga=2147516416;this.la=1}
Hl.prototype.Ib=function(){q(this.f)&&(this.value=this.f.ia?this.f.ia():this.f.call(null),this.f=null);return this.value};Hl.prototype.cf=function(){return yc(this.f)};Hl.prototype.ta=function(a,b,c){Jd(b,"#object[cljs.core.Delay ");ql(new p(null,2,[Il,null==this.f?Jl:Kl,Fl,this.value],null),b,c);return Jd(b,"]")};function Ll(a){return a instanceof Hl?y(a):a}function Ml(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Re(b)?Qe(b):b}}
function Nl(a){var b=Ml(a);return function(){function c(h,k){return v.ba(b,h,k)}function d(h){return a.aa?a.aa(h):a.call(null,h)}function e(){return a.ia?a.ia():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.ia=e;f.aa=d;f.j=c;return f}()}function Ol(){}
function Pl(a){if(null!=a&&null!=a.th)a=a.th(a);else{var b=Pl[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=Pl._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IEncodeJS.-clj-\x3ejs",a);}return a}function Ql(a,b){return(null!=a?l===a.sh||(a.Md?0:Ac(Ol,a)):Ac(Ol,a))?Pl(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof z?b.aa?b.aa(a):b.call(null,a):xl.da(M([a]))}
var Rl=function Rl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return Rl.da(arguments[0],c)};
Rl.da=function(a,b){b=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;var c=B.ba(b,Sl,bh),d=function h(f){if(null==f)return null;if(null!=f?l===f.sh||(f.Md?0:Ac(Ol,f)):Ac(Ol,f))return Pl(f);if(f instanceof C)return c.aa?c.aa(f):c.call(null,f);if(f instanceof z)return t.aa(f);if(Ff(f)){var k={};f=E(f);for(var m=null,n=0,r=0;;)if(r<n){var u=m.La(null,r),w=P(u,0,null);u=P(u,1,null);w=Ql(w,d);u=h(u);k[w]=u;r+=1}else if(f=E(f))If(f)?(n=ae(f),f=be(f),m=n,n=K(n)):(n=H(f),m=P(n,0,null),n=P(n,1,null),m=Ql(m,d),n=
h(n),k[m]=n,f=J(f),m=null,n=0),r=0;else break;return k}if(Cf(f)){k=[];f=E(ci.j(h,f));m=null;for(r=n=0;;)if(r<n)w=m.La(null,r),k.push(w),r+=1;else if(f=E(f))m=f,If(m)?(f=ae(m),r=be(m),m=f,n=K(f),f=r):(f=H(m),k.push(f),f=J(m),m=null,n=0),r=0;else break;return k}return f};return d(a)};Rl.na=1;Rl.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};function Tl(){}
function Ul(a,b){if(null!=a&&null!=a.rh)a=a.rh(a,b);else{var c=Ul[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ul._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Vl(a){var b=M([Wl,!1]),c=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;c=B.j(c,Wl);var d=q(c)?ah:t;return function h(f){return(null!=f?l===f.Li||(f.Md?0:Ac(Tl,f)):Ac(Tl,f))?Ul(f,yh(Ak,b)):Lf(f)?dl(ci.j(h,f)):Wi(f)?new Y(h(gd(f)),h(hd(f))):Cf(f)?si.ba(sf(f),ci.aa(h),f):wc(f)?Vd(v.ba(function(k,m){return qh.j(k,h(m))},Td(qf),f)):Bc(f)===Object?Vd(v.ba(function(k,m){return rh.ba(k,d.aa?d.aa(m):d.call(null,m),h(ib(f,m)))},Td(X),hb(f))):f}(a)}
function Xl(a){var b=Uh(X);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){var f=B.ba(y(b),e,Kf);return f===Kf?(f=yh(a,e),Wh.ja(b,Q,e,f),f):f}c.na=0;c.qa=function(e){e=E(e);return d(e)};c.da=d;return c}()}
var Yl=function Yl(a){switch(arguments.length){case 0:return Yl.ia();case 1:return Yl.aa(arguments[0]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};Yl.ia=function(){return Yl.aa(1)};Yl.aa=function(a){return Math.random()*a};Yl.na=1;function am(a){return Math.floor(Math.random()*a)}function bm(a,b){return Vd(v.ba(function(c,d){var e=a.aa?a.aa(d):a.call(null,d);return rh.ba(c,e,pf.j(B.ba(c,e,qf),d))},Td(X),b))}var cm=null;
function dm(){null==cm&&(cm=Uh(new p(null,3,[em,X,fm,X,gm,X],null)));return cm}function hm(a,b,c){var d=D.j(b,c);if(d)return d;d=gm.aa(a);d=d.aa?d.aa(b):d.call(null,b);if(d=Pf(d,c))return d;if(Hf(c))if(Hf(b))if(K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=hm(a,b.aa?b.aa(e):b.call(null,e),c.aa?c.aa(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function im(a){var b=y(dm());return Eh(B.j(em.aa(b),a))}
function jm(a,b,c,d){Wh.j(a,function(){return y(b)});Wh.j(c,function(){return y(d)})}
var km=function km(a,b,c){var e=function(){var f=y(c);return f.aa?f.aa(a):f.call(null,a)}();e=q(q(e)?e.aa?e.aa(b):e.call(null,b):e)?!0:null;if(q(e))return e;e=function(){for(var f=im(b);;)if(0<K(f)){var h=H(f);km.ba?km.ba(a,h,c):km.call(null,a,h,c);f=Fe(f)}else return null}();if(q(e))return e;e=function(){for(var f=im(a);;)if(0<K(f)){var h=H(f);km.ba?km.ba(h,b,c):km.call(null,h,b,c);f=Fe(f)}else return null}();return q(e)?e:!1};function lm(a,b,c,d){c=km(a,b,c);return q(c)?c:hm(d,a,b)}
var mm=function mm(a,b,c,d,e,f,h,k){var n=v.ba(function(u,w){var A=P(w,0,null);P(w,1,null);if(hm(y(c),b,A)){u=null==u||lm(A,H(u),e,y(c))?w:u;if(!lm(H(u),A,e,y(c)))throw Error(["Multiple methods in multimethod '",t.aa(a),"' match dispatch value: ",t.aa(b)," -\x3e ",t.aa(A)," and ",t.aa(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),r=function(){if(null==n){var u=y(d);u=u.aa?u.aa(k):u.call(null,k)}else u=!1;return q(u)?new S(null,2,5,T,[k,u],null):n}();if(q(r)){if(D.j(y(h),
y(c)))return Wh.ja(f,Q,b,mf(r)),mf(r);jm(f,d,h,c);return mm.Jb?mm.Jb(a,b,c,d,e,f,h,k):mm.call(null,a,b,c,d,e,f,h,k)}return null};function nm(a,b,c){if(null!=a&&null!=a.wb)a.wb(a,b,c);else{var d=nm[pa(null==a?null:a)];if(null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=nm._,null!=d)d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IMultiFn.-add-method",a);}}function om(a,b){throw Error(["No method in multimethod '",t.aa(a),"' for dispatch value: ",t.aa(b)].join(""));}
function pm(a,b,c,d,e,f,h){var k=qm;this.name=a;this.Ea=b;this.Kh=k;this.hierarchy=c;this.tf=d;this.zi=e;this.sf=f;this.Ze=h;this.ga=4194305;this.la=4352}g=pm.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.ia();case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.ba(arguments[1],arguments[2],arguments[3]);case 4:return this.ja(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Yb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Nb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ob(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Pb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Rb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Sb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Vb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Xb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.ia=function(){var a=this.Ea.ia?this.Ea.ia():this.Ea.call(null),b=rm(this,a);q(b)||om(this.name,a);return b.ia?b.ia():b.call(null)};g.aa=function(a){var b=this.Ea.aa?this.Ea.aa(a):this.Ea.call(null,a),c=rm(this,b);q(c)||om(this.name,b);return c.aa?c.aa(a):c.call(null,a)};
g.j=function(a,b){var c=this.Ea.j?this.Ea.j(a,b):this.Ea.call(null,a,b),d=rm(this,c);q(d)||om(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.ba=function(a,b,c){var d=this.Ea.ba?this.Ea.ba(a,b,c):this.Ea.call(null,a,b,c),e=rm(this,d);q(e)||om(this.name,d);return e.ba?e.ba(a,b,c):e.call(null,a,b,c)};g.ja=function(a,b,c,d){var e=this.Ea.ja?this.Ea.ja(a,b,c,d):this.Ea.call(null,a,b,c,d),f=rm(this,e);q(f)||om(this.name,e);return f.ja?f.ja(a,b,c,d):f.call(null,a,b,c,d)};
g.za=function(a,b,c,d,e){var f=this.Ea.za?this.Ea.za(a,b,c,d,e):this.Ea.call(null,a,b,c,d,e),h=rm(this,f);q(h)||om(this.name,f);return h.za?h.za(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.nb=function(a,b,c,d,e,f){var h=this.Ea.nb?this.Ea.nb(a,b,c,d,e,f):this.Ea.call(null,a,b,c,d,e,f),k=rm(this,h);q(k)||om(this.name,h);return k.nb?k.nb(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Yb=function(a,b,c,d,e,f,h){var k=this.Ea.Yb?this.Ea.Yb(a,b,c,d,e,f,h):this.Ea.call(null,a,b,c,d,e,f,h),m=rm(this,k);q(m)||om(this.name,k);return m.Yb?m.Yb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Jb=function(a,b,c,d,e,f,h,k){var m=this.Ea.Jb?this.Ea.Jb(a,b,c,d,e,f,h,k):this.Ea.call(null,a,b,c,d,e,f,h,k),n=rm(this,m);q(n)||om(this.name,m);return n.Jb?n.Jb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Zb=function(a,b,c,d,e,f,h,k,m){var n=this.Ea.Zb?this.Ea.Zb(a,b,c,d,e,f,h,k,m):this.Ea.call(null,a,b,c,d,e,f,h,k,m),r=rm(this,n);q(r)||om(this.name,n);return r.Zb?r.Zb(a,b,c,d,e,f,h,k,m):r.call(null,a,b,c,d,e,f,h,k,m)};g.Nb=function(a,b,c,d,e,f,h,k,m,n){var r=this.Ea.Nb?this.Ea.Nb(a,b,c,d,e,f,h,k,m,n):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n),u=rm(this,r);q(u)||om(this.name,r);return u.Nb?u.Nb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Ob=function(a,b,c,d,e,f,h,k,m,n,r){var u=this.Ea.Ob?this.Ea.Ob(a,b,c,d,e,f,h,k,m,n,r):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r),w=rm(this,u);q(w)||om(this.name,u);return w.Ob?w.Ob(a,b,c,d,e,f,h,k,m,n,r):w.call(null,a,b,c,d,e,f,h,k,m,n,r)};g.Pb=function(a,b,c,d,e,f,h,k,m,n,r,u){var w=this.Ea.Pb?this.Ea.Pb(a,b,c,d,e,f,h,k,m,n,r,u):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u),A=rm(this,w);q(A)||om(this.name,w);return A.Pb?A.Pb(a,b,c,d,e,f,h,k,m,n,r,u):A.call(null,a,b,c,d,e,f,h,k,m,n,r,u)};
g.Qb=function(a,b,c,d,e,f,h,k,m,n,r,u,w){var A=this.Ea.Qb?this.Ea.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w),G=rm(this,A);q(G)||om(this.name,A);return G.Qb?G.Qb(a,b,c,d,e,f,h,k,m,n,r,u,w):G.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w)};
g.Rb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A){var G=this.Ea.Rb?this.Ea.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A),I=rm(this,G);q(I)||om(this.name,G);return I.Rb?I.Rb(a,b,c,d,e,f,h,k,m,n,r,u,w,A):I.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A)};
g.Sb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G){var I=this.Ea.Sb?this.Ea.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G),F=rm(this,I);q(F)||om(this.name,I);return F.Sb?F.Sb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G):F.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G)};
g.Tb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I){var F=this.Ea.Tb?this.Ea.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I),N=rm(this,F);q(N)||om(this.name,F);return N.Tb?N.Tb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F){var N=this.Ea.Ub?this.Ea.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F),O=rm(this,N);q(O)||om(this.name,N);return O.Ub?O.Ub(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F):O.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){var O=this.Ea.Vb?this.Ea.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N),U=rm(this,O);q(U)||om(this.name,O);return U.Vb?U.Vb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N):U.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N)};
g.Wb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O){var U=this.Ea.Wb?this.Ea.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O),ea=rm(this,U);q(ea)||om(this.name,U);return ea.Wb?ea.Wb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U){var ea=this.Ea.Xb?this.Ea.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):this.Ea.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U),va=rm(this,ea);q(va)||om(this.name,ea);return va.Xb?va.Xb(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U):va.call(null,a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U)};
g.xe=function(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea){var va=Ch(this.Ea,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea])),wa=rm(this,va);q(wa)||om(this.name,va);return Ch(wa,a,b,c,d,M([e,f,h,k,m,n,r,u,w,A,G,I,F,N,O,U,ea]))};g.wb=function(a,b,c){Wh.ja(this.tf,Q,b,c);jm(this.sf,this.tf,this.Ze,this.hierarchy);return this};
function rm(a,b){D.j(y(a.Ze),y(a.hierarchy))||jm(a.sf,a.tf,a.Ze,a.hierarchy);var c=y(a.sf);c=c.aa?c.aa(b):c.call(null,b);return q(c)?c:mm(a.name,b,a.hierarchy,a.tf,a.zi,a.sf,a.Ze,a.Kh)}g.ze=function(){return ce(this.name)};g.Ae=function(){return de(this.name)};g.wa=function(){return ya(this)};function sm(a){this.de=a;this.fa=null;this.ga=2153775104;this.la=2048}g=sm.prototype;g.toString=function(){return this.de};g.equiv=function(a){return this.oa(null,a)};
g.oa=function(a,b){return b instanceof sm&&this.de===b.de};g.ta=function(a,b){return Jd(b,['#uuid "',t.aa(this.de),'"'].join(""))};g.wa=function(){null==this.fa&&(this.fa=ve(this.de));return this.fa};g.fd=function(a,b){return ab(this.de,b.de)};
function tm(){function a(){return am(16).toString(16)}var b=(8|3&am(16)).toString(16);return new sm([t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-4",t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(b),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a())].join("").toLowerCase())}
function um(a,b,c){var d=Error(a);this.message=a;this.data=b;this.ug=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}um.prototype.__proto__=Error.prototype;um.prototype.Za=l;
um.prototype.ta=function(a,b,c){Jd(b,"#error {:message ");ql(this.message,b,c);q(this.data)&&(Jd(b,", :data "),ql(this.data,b,c));q(this.ug)&&(Jd(b,", :cause "),ql(this.ug,b,c));return Jd(b,"}")};um.prototype.toString=function(){return le(this)};function vm(a,b){return new um(a,b,null)}
function wm(){q(Gc)||(Gc=function(){for(var a=Vf(function(e,f){return f.length-e.length},hb(Fc)),b="";;)if(E(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.aa(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Gc}
function xm(a){var b=t.aa(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(wm(),"g");b=q(ub(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(q(f))f=P(f,0,null),d=[d,t.aa(b.substring(e,c.lastIndex-f.length)),t.aa("$"===f?"/":ib(Fc,f))].join(""),e=c.lastIndex;else{c=[d,t.aa(b.substring(e,b.length))].join("");break a}}}a=a instanceof z?ze:t;return a.aa?a.aa(c):a.call(null,c)}"undefined"!==typeof console&&uc();uc();var ym=new C(null,"ns","ns",441598760),zm=new C(null,"expected","expected",1583670997),Am=new C(null,"components","components",-1073188942),Xf=new C(null,"div.flex-1","div.flex-1",2004402050),Bm=new C(null,"data-error","data-error",-1058016301),Cm=new C(null,"apparent-success","apparent-success",242592222),Dm=new z(null,aa,aa,770546058,null),Em=new C("chsk","error","chsk/error",-984175439),Fm=new C(null,"p2","p2",905500641),Gm=new z(null,"defrecord*","defrecord*",-1936366207,null),Hm=new C(null,"p1",
"p1",-936759954),Im=new C(null,"level","level",1290497552),Jm=new C("db","current-tx","db/current-tx",1600722132),Km=new C(null,"type-tag","type-tag",-1873863267),Lm=new C(null,"?err_","?err_",789480858),Mm=new C(null,"ms","ms",-1152709733),Nm=new C(null,"middleware-fn","middleware-fn",-61585752),Pm=new C(null,"readers","readers",-2118263030),Qm=new C(null,"line","line",212345235),Rm=new z(null,"!\x3d","!\x3d",-201205829,null),Sm=new C("db","unique","db/unique",329396388),Tm=new C("db","isComponent",
"db/isComponent",423352398),Um=new C(fa,"flush-tuples","datascript.db/flush-tuples",-797350002),Ph=new C("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Vm=new z(null,"ns*","ns*",1840949383,null),Wm=new C(null,"lp-timeout","lp-timeout",1149461302),Rh=new C(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",
-1098663220),Xm=new C(null,"start-block-t","start-block-t",-373430594),Ym=new C(null,"limit","limit",-1355822363),Om=new C(null,"on-dispose","on-dispose",2105306360),Zm=new C(null,"per-line-prefix","per-line-prefix",846941813),$m=new C(null,"form-str","form-str",871608859),an=new C("db.type","tuple","db.type/tuple",938234914),bn=new C("lookup-ref","unique","lookup-ref/unique",-960647710),cn=new C(fa,"value-tempids","datascript.db/value-tempids",244806162),dn=new z(da,"ends-with?","clojure.string/ends-with?",
-745964149,null),en=new C(null,"headers","headers",-835030129),fn=new C(null,"string","string",-1989541586),gn=new C(null,"avet","avet",1383857032),hn=new C(null,"data","data",-232669377),jn=new C(null,"factor","factor",-2103172748),kn=new z(null,"identity","identity",-1007039734,null),ln=new z(null,"max","max",1701898075,null),nn=new C(null,"end-line","end-line",1837326455),on=new z(null,"fn*","fn*",-752876845,null),pn=new C(null,"ks","ks",1900203942),qn=new C(ca,"amp","cljs.spec.alpha/amp",831147508),
rn=new C("transact","syntax","transact/syntax",-299207078),sn=new C(null,"abort","abort",521193198),tn=new C(null,"allow","allow",-1857325745),un=new C(null,"source","source",-433931539),vn=new C(null,"done-nl","done-nl",-381024340),wn=new C(null,"private","private",-558947994),xn=new C(null,"bindings","bindings",1271397192),yn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),zn=new C(null,"?status","?status",938730360),An=new z(aa,"fn","cljs.core/fn",-1065745098,null),Bn=new z(null,"median","median",
-2084869638,null),Il=new C(null,"status","status",-1997798413),Cn=new C(null,"version","version",425292698),Dn=new C(null,"circle","circle",1903212362),fm=new C(null,"descendants","descendants",1824886031),Fn=new C(null,"report","report",1394055010),Gn=new C(null,"strs","strs",1175537277),Hn=new C(null,"start","start",-355208981),In=new C(null,"days","days",-1394072564),Jn=new C(null,"ns-whitelist","ns-whitelist",-1717299774),Kn=new z(null,"identical?","identical?",-745864205,null),Ln=new z(null,
"complement","complement",-913606051,null),Mn=new z(aa,"deref","cljs.core/deref",1901963335,null),Nn=new C("transact","cas","transact/cas",816687170),mn=new C(null,"on-click","on-click",1632826543),On=new C(null,"recur","recur",-437573268),Pn=new C(ca,"nil","cljs.spec.alpha/nil",1733813950),Qn=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Rn=new C("db.fn","cas","db.fn/cas",-379352172),Sn=new C(null,"deny-spec","deny-spec",-1074984268),Tn=new C(null,"port","port",1534937262),Un=new C("chsk",
"timeout","chsk/timeout",-319776489),Vn=new C(null,"*?data*","*?data*",1047537922),Xn=new C(null,"http","http",382524695),Yn=new C(null,"mandatory","mandatory",542802336),Zn=new z(null,"resolve-datom","resolve-datom",-294110827,null),$n=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),ao=new C(null,"udt","udt",2011712751),bo=new C(null,"length","length",588987862),co=new C(null,"end-column","end-column",1425389514),eo=new C(null,"appender-id","appender-id",-1917983538),fo=new z(null,"with-open",
"with-open",172119667,null),go=new C(null,"timeout-ms","timeout-ms",754221406),En=new C(null,"getInitialState","getInitialState",1541760916),ho=new C(null,"ps","ps",292358046),Rd=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),io=new C(null,"opts","opts",155075701),jo=new z(null,"list","list",-1889078086,null),ko=new C(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),lo=new C(null,"not-delivered","not-delivered",1599158697),mo=new z(null,"if-not","if-not",
-265415609,null),to=new C(null,"blacklist","blacklist",1248093170),uo=new C(ha,"expand-rev","datascript.pull-api/expand-rev",2143627459),vo=new C(null,"state","state",-1988618099),wo=new C(null,"base-args","base-args",-1268706822),xo=new C(null,"db-before","db-before",-553691536),yo=new z(null,"\x3d\x3d","\x3d\x3d",-234118149,null),zo=new z(aa,"unquote","cljs.core/unquote",1013085760,null),Ao=new C(null,"return-map","return-map",1620104901),Hk=new C(aa,"not-found","cljs.core/not-found",-1572889185),
Bo=new C(null,"eids","eids",1546550700),Wn=new C(null,"no-cache","no-cache",1588056370),Co=new z(null,"compare","compare",1109853757,null),Do=new C(null,"vargs_","vargs_",552132148),Eo=new C(null,"server","server",1499190120),Fo=new C(null,"expand-rev","expand-rev",1249112650),Go=new C(null,"def","def",-1043430536),Ho=new z(null,"dotimes","dotimes",-818708397,null),Io=new C(null,"raw-console?","raw-console?",-2061489061),Jo=new C(null,"conform-keys","conform-keys",-1800041814),Ko=new C("widget.type",
"vega-lite","widget.type/vega-lite",1594251738),Lo=new C(null,"exception","exception",-335277064),No=new C(null,"op","op",-1882987955),Oo=new z(null,"finally","finally",-1065347064,null),Po=new z(null,"str","str",-1564826950,null),Qo=new z(null,"/","/",-1371932971,null),Ro=new z(null,"stddev","stddev",775056588,null),So=new C(null,"buffering","buffering",-876713613),To=new z(aa,"string?","cljs.core/string?",-2072921719,null),Uo=new C("ajax","bad-response-type","ajax/bad-response-type",789441015),
Vo=new C("db","tupleAttrs","db/tupleAttrs",250080092),Wo=new C(null,"clean?","clean?",-1675631009),Xo=new C(null,"tx-meta","tx-meta",1159283194),Yo=new C(null,"prefix-clauses","prefix-clauses",1294180028),Zo=new C(null,"illegal-argument","illegal-argument",-1845493170),$o=new C("mem","all","mem/all",892075139),ap=new C(null,"opt-un","opt-un",883442496),bp=new C(null,"first-open?","first-open?",396686530),cp=new C("chsk","ws-ping","chsk/ws-ping",191675304),dp=new C(null,"rule","rule",729973257),ep=
new C("debug","timeout","debug/timeout",309499949),fp=new C("schema","validation","schema/validation",1178447161),gp=new C(null,"right-margin","right-margin",-810413306),hp=new C(null,"wildcard?","wildcard?",-686044101),ip=new z(null,"pos?","pos?",-244377722,null),jp=new C("query","inputs","query/inputs",1042810394),kp=new C(null,"wrong-id-type","wrong-id-type",-1213601689),lp=new C(null,"exponentchar","exponentchar",1986664222),mp=new C(null,"attribute","attribute",-2074029119),np=new z(null,"default",
"default",-347290801,null),op=new z(da,"includes?","clojure.string/includes?",-1842146260,null),pp=new C(null,"tx","tx",466630418),qp=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),rp=new z(null,"locking","locking",1542862874,null),sp=new C(null,"uid","uid",-1447769400),tp=new C(null,"directive","directive",793559132),no=new C(null,"function-components","function-components",1492814963),up=new z(null,"subs","subs",1453849536,null),vp=new C(null,"seq","seq",-1817803783),wp=
new C(null,"qname","qname",-1983612179),kg=new C(null,"where","where",-2044795965),xp=new z(null,"pr-str","pr-str",-2066912145,null),yp=new C(null,"set","set",304602554),zp=new C(null,"flush?","flush?",-108887231),Ap=new z(null,"or-join","or-join",591375469,null),Bp=new C(null,"handshake?","handshake?",-423743093),Cp=new C(ca,"name","cljs.spec.alpha/name",205233570),Dp=new z(null,"sum","sum",1777518341,null),Ep=new z(null,"some?","some?",234752293,null),Fp=new z(null,"min","min",2085523049,null),
Mo=new C(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),Gp=new C(null,"handshake","handshake",68079331),Hp=new C(null,"error","error",-978969032),Ip=new C(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Jp=new C(null,"base","base",185279322),Kp=new C(null,"actual","actual",107306363),Lp=new C(null,"event","event",301435442),Mp=new C("widget.type","leaflet","widget.type/leaflet",-1837279356),Np=new C(null,"noop","noop",-673731258),Op=
new C(null,"trailing-white-space","trailing-white-space",1496006996),Zp=new C(null,"div","div",1057191632),Pp=new z(null,"letfn*","letfn*",-110097810,null),Qp=new C(null,"handshake-data","handshake-data",-278378864),Rp=new C(null,"prefix","prefix",-265908465),Sp=new C("parser","binding","parser/binding",-346395752),jg=new z(null,"$","$",-1580747756,null),Tp=new C("query","binding","query/binding",698240489),Up=new C(null,"right-params","right-params",-1790676237),Vp=new C(null,"start-pos","start-pos",
668789086),Sl=new C(null,"keyword-fn","keyword-fn",-64566675),Wp=new C(null,"first","first",-644103046),Xp=new z(null,"let*","let*",1920721458,null),Yp=new C("widget.type","hiccup","widget.type/hiccup",48060386),$p=new C(null,"pathname","pathname",-1420497528),aq=new z(null,"limit","limit",284709164,null),fg=new C("widget","children","widget/children",485181574),bq=new C("db.fn","retractEntity","db.fn/retractEntity",-1423535441),Iq=new C(null,"component-will-unmount","component-will-unmount",-2058314698),
dq=new z(null,"re-seq","re-seq",-2105554076,null),eq=new z(null,"when-first","when-first",821699168,null),fq=new C(null,"ns-blacklist","ns-blacklist",1957763142),gq=new C(null,"?err","?err",549653299),hq=new C(null,"depth","depth",1768663640),iq=new C(null,"multi?","multi?",-749311069),jq=new C(null,"onmessage-fn","onmessage-fn",1633804172),kq=new C(null,"?error","?error",1070752222),lq=new C(null,"href","href",-793805698),mq=new z(null,"recur","recur",1202958259,null),nq=new C("widget.type","markdown",
"widget.type/markdown",177221797),oq=new z(null,"variance","variance",-1522424942,null),pq=new C(null,"type","type",1174270348),qq=new C(null,"none","none",1333468478),rq=new z(null,"_","_",-1201019570,null),sq=new C(null,"style","style",-496642736),tq=new C(null,"impl_","impl_",1218818179),uq=new C("parser","rule-var","parser/rule-var",-1584354459),Yq=new C(null,"callback","callback",-705136228),es=new C(null,"span.text-lg.text-gray-700.py-6","span.text-lg.text-gray-700.py-6",1537118948),vq=new C(null,
"reader-error","reader-error",1610253121),wq=new z(null,"v","v",1661996586,null),xq=new C(ca,"op","cljs.spec.alpha/op",-1269055252),yq=new z(null,"m","m",-1021758608,null),zq=new z(null,"k","k",-505765866,null),Aq=new C(null,"ws","ws",86841443),Bq=new C(null,"span","span",1394872991),Cq=new C("widget","code","widget/code",-845791534),Dq=new C(null,"async?","async?",1523057758),Eq=new C("entity-id","missing","entity-id/missing",1234588374),Fq=new z(null,"count","count",-514511684,null),Gq=new C(null,
"no-stacktrace?","no-stacktrace?",1701072694),Hq=new C(null,"code","code",1586293142),Qq=new C(null,"keys","keys",1068423698),Sq=new C(null,"qfind","qfind",1529332972),Tq=new C(null,"intra-block-nl","intra-block-nl",1808826875),Uq=new C("parser","rule-vars","parser/rule-vars",-1493174969),Vq=new C(null,"gen-max","gen-max",-793680445),rc=new C(null,"meta","meta",1499536964),Wq=new z(null,"not-join","not-join",-645515756,null),Xq=new C(null,"deny","deny",1589338523),Zq=new C("widget.type","html","widget.type/html",
-2034153477),$q=new C(null,"subpattern","subpattern",45002743),ar=new C(null,"datoms","datoms",-290874434),br=new C(null,"search","search",1564939822),ks=new C(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500","div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",2054366269),cr=new C("literate","widget","literate/widget",-1743430817),dr=new C(null,"right","right",-452581833),er=new z(null,"println-str","println-str",-2049216703,null),
fr=new C(null,"host","host",-1558485167),gr=new C(null,"err","err",-2089457205),hr=new z(null,"when","when",1064114221,null),ir=new z(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),jr=new z(aa,"set?","cljs.core/set?",-1176684971,null),kr=new C(null,"logical-blocks","logical-blocks",-1466339776),lr=new C(null,"\x3cserver","\x3cserver",-2135373537),mr=new z(null,"quot","quot",-1125214196,null),nr=new C(null,"colinc","colinc",-584873385),or=new C(null,"auto","auto",-566279492),ag=new C(null,
"find","find",496279456),pr=new z(null,"\x3e\x3d","\x3e\x3d",1016916022,null),qr=new C(null,"fatal","fatal",1874419888),rr=new C(null,"logical-block","logical-block",-581022564),sr=new C(null,"rate-limit","rate-limit",1748082022),tr=new z(null,"nil?","nil?",1612038930,null),ur=new C(null,"namespaced-keyword","namespaced-keyword",131372895),vr=new C(null,"your-version","your-version",-351781765),wr=new z(null,"or","or",1876275696,null),xr=new C(null,"col","col",-1959363084),yr=new C("db","fn","db/fn",
-1175261470),zr=new C(null,"?ns-str","?ns-str",2012733966),ns=new C("widget.geoplot","height","widget.geoplot/height",774138358),Ar=new C("entity-id","syntax","entity-id/syntax",1921317045),Br=new C(null,"current","current",-1088038603),Cr=new C(null,"writing","writing",-1486865108),Dr=new C(null,"ch-recv","ch-recv",-990916861),Er=new C(null,"start-col","start-col",668080143),Fr=new C(null,"into","into",-150836029),Gr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),Hr=new z(null,
"set!","set!",250714521,null),Ir=new C(null,"uri-str","uri-str",304128675),Jr=new C(null,"parent","parent",-878878779),Kr=new C(null,"instance-handle_","instance-handle_",-1923384457),Ls=new C("widget.geoplot","style","widget.geoplot/style",1499653960),Lr=new C(null,"new","new",-2085437848),Mr=new C("query","where","query/where",-1935159429),Nr=new C("db","retract","db/retract",-1549825231),Or=new C(null,"free","free",801364328),mg=new z(null,"missing?","missing?",-1710383910,null),Rs=new C(null,
"cljsLegacyRender","cljsLegacyRender",-1527295613),Pr=new z(aa,"map?","cljs.core/map?",-1390345523,null),Qr=new C(null,"seen","seen",-518999789),Rr=new C(null,"instant","instant",655498374),Sr=new z(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Tr=new z(null,"\x26","\x26",-2144855648,null),Ur=new C(null,"ex-kind","ex-kind",1581199296),Vr=new C(null,"internal","internal",-854870097),tu=new C(null,"reagentRender","reagentRender",-358306383),Wr=new C(null,"right-bracket","right-bracket",951856080),Xr=
new C(null,"last-ws-error","last-ws-error",-820288502),Yr=new C(null,"req-id","req-id",-471642231),Zr=new C(null,"schema","schema",-1582001791),$r=new C(null,"tx-data","tx-data",934159761),as=new C(null,"amp","amp",271690571),bs=new C("db.unique","value","db.unique/value",276903088),cs=new C(null,"csrf-token","csrf-token",-1872302856),ds=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),fs=new C("chsk","state","chsk/state",-1991397620),gs=new z(null,"-Inf","-Inf",-2123243689,null),Yf=new C("db",
"id","db/id",-1388397098),hs=new C(null,"vars","vars",-2046957217),is=new C(null,"any","any",1705907423),js=new C(null,"client-uuid","client-uuid",-1717531965),ls=new z(null,"name","name",-810760592,null),ms=new C(null,"operation","operation",-1267664310),qm=new C(null,"default","default",-1987822328),os=new C(null,"secs","secs",1532330091),ps=new z("clojure.core","deref","clojure.core/deref",188719157,null),qs=new C(null,"padchar","padchar",2018584530),rs=new C(null,"unexpected","unexpected",-1137752424),
ss=new C(null,"elidable?","elidable?",248362249),ts=new C(null,"cache?","cache?",-1601953949),tc=new C(null,"print-length","print-length",1931866356),us=new C(null,"nil","nil",99600501),vs=new z(null,"odd?","odd?",-1458588199,null),eg=new C(null,"*","*",-1294732318),ws=new C(null,"json","json",1279968570),xs=new C(null,"allow-spec","allow-spec",448749872),ys=new C("db","retractEntity","db/retractEntity",-1452737935),zs=new C(null,"no-op","no-op",-93046065),As=new z(null,"zero?","zero?",325758897,
null),Bs=new C(null,"buffer-block","buffer-block",-10937307),Cs=new C(null,"reader-exception","reader-exception",-1938323098),Ds=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),Es=new C(null,"recursion","recursion",-749738765),Fs=new z(null,"-","-",-471816912,null),Gs=new C(null,"req-un","req-un",1074571008),Hs=new z(null,"keyword","keyword",-1843046022,null),Is=new C(null,"forms","forms",2045992350),Js=new C("db","attrTuples","db/attrTuples",860541631),Ks=new C(null,"cur","cur",
1153190599),Ms=new C(null,"branches","branches",-1240337268),Ns=new z(null,"def","def",597100991,null),Os=new z(null,"dec","dec",-766002333,null),Ps=new C(fa,"internal","datascript.db/internal",-249301114),Qs=new z(null,"rand","rand",-1745930995,null),Wl=new C(null,"keywordize-keys","keywordize-keys",1310784252),Ss=new C("widget","type","widget/type",-1894308144),Ts=new C(null,"pos","pos",-864607220),Us=new C(ca,"v","cljs.spec.alpha/v",552625740),av=new C(null,"on-write","on-write",31519475),Vs=new C("transact",
"upsert","transact/upsert",412688078),Ws=new C(ca,"k","cljs.spec.alpha/k",-1602615178),Xs=new C(null,"kvps","kvps",65308317),Ys=new C(null,"info","info",-317069002),Zs=new C(null,"output-fn","output-fn",1600951539),$s=new z(null,"set","set",1945134081,null),at=new C(null,"commainterval","commainterval",-1980061083),bt=new C("mem","del","mem/del",574870667),ct=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),dt=new C(null,"elements","elements",657646735),et=new C(null,"send-buffers",
"send-buffers",-1788003787),ft=new C(null,"total","total",1916810418),gt=new C(null,"separator","separator",-1628749125),ht=new z("datascript","Datom","datascript/Datom",-901340080,null),it=new z(null,"defonce","defonce",-1681484013,null),jt=new C(null,"?content","?content",1697782054),Fv=new C(null,"div.w-full","div.w-full",-1626749092),kt=new z(null,"%","%",-950237169,null),lt=new C(null,"form","form",-1624062471),mt=new C(null,"pretty-writer","pretty-writer",-1222834267),nt=new z(null,"..","..",
-300507420,null),ot=new C(fa,"tx-redundant","datascript.db/tx-redundant",-1117921977),pt=new C(null,"length-computable?","length-computable?",1915473276),qt=new z(null,"not\x3d","not\x3d",1466536204,null),rt=new C(null,"validator","validator",-1966190681),st=new C(null,"pretty","pretty",-1916372486),tt=new C(null,"unnamespaced-id","unnamespaced-id",1976189772),ut=new C(null,"buffer-level","buffer-level",928864731),vt=new z(null,"range","range",-1014743483,null),wt=new z(da,"blank?","clojure.string/blank?",
1772874244,null),xt=new C("rl","all","rl/all",892118056),yt=new C(null,"ever-opened?","ever-opened?",1128459732),zt=new C(null,"fragment","fragment",826775688),Kl=new C(null,"pending","pending",-220036727),At=new C(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),Bt=new C(ca,"pcat","cljs.spec.alpha/pcat",26406623),Iv=new C("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),qc=new C(null,"readably","readably",1129599760),Qv=new C(null,"contextTypes","contextTypes",-2023853910),
Ct=new C(null,"chsk","chsk",-863703081),Dt=new C(null,"file","file",-1269645878),Et=new C(null,"error-handler","error-handler",-484945776),Ft=new C(null,"rschema","rschema",-1196134054),Gt=new C(null,"progress-fn","progress-fn",-1146547855),Ht=new C(null,"fill","fill",883462889),Rv=new C(null,"i.zmdi.zmdi-close","i.zmdi.zmdi-close",1663309273),It=new C("widget","html","widget/html",-1786567845),Jt=new C(null,"client-id","client-id",-464622140),Kt=new C(null,"attrs","attrs",-2090668713),Lt=new C(ha,
"recursion","datascript.pull-api/recursion",-1897884534),Mt=new C(null,"months","months",-45571637),Nt=new C(null,"radix","radix",857016463),Ot=new C(null,"send-fn","send-fn",351002041),Pt=new C("parser","with","parser/with",-386255821),St=new C(null,"text","text",-1790561697),Ut=new C(null,"distinct","distinct",-1788879121),Vt=new C(null,"ns-str","ns-str",-2062616499),Wt=new z(null,"uuid","uuid",-504564192,null),Xt=new C(null,"udt-last-comms_","udt-last-comms_",-145799639),Yt=new C(null,"entity-id",
"entity-id",1485898093),Zt=new C(null,"wildcard","wildcard",-622473020),$t=new z(null,"queue","queue",-1198599890,null),au=new C(null,"block","block",664686210),bu=new C(null,"else","else",-1508377146),cu=new C(null,"variable","variable",-281346492),du=new z(null,"case*","case*",-1938255072,null),eu=new C(null,"params","params",710516235),gm=new C(null,"ancestors","ancestors",-776045424),fu=new C(null,"tuples","tuples",-676032639),gu=new C(null,"listeners","listeners",394544445),hu=new C(null,"retry-count_",
"retry-count_",20238093),iu=new C("db","cardinality","db/cardinality",-104975659),ju=new z(null,"p1__23164#","p1__23164#",-1765098647,null),ku=new z(null,"struct-map","struct-map",-1387540878,null),lu=new C(null,"hostname","hostname",2105669933),mu=new C(null,"rest","rest",-1241696419),nu=new C(null,"min-remaining","min-remaining",962687677),ou=new C(null,"?data","?data",-9471433),pu=new C(null,"offset","offset",296498311),qu=new C(null,"var","var",-769682797),ru=new C(null,"commachar","commachar",
652859327),su=new C(null,"error-level?","error-level?",778415885),uu=new C(null,"ring-req","ring-req",-747861961),vu=new C(null,"loaded","loaded",-1246482293),wu=new z(null,"re-find","re-find",1143444147,null),Fl=new C(null,"val","val",128701612),xu=new z(aa,"zipmap","cljs.core/zipmap",-1902130674,null),yu=new z(null,"-\x3e","-\x3e",-2139605430,null),zu=new C(null,"db-after","db-after",-571884666),dw=new C(null,"render","render",-1408033454),Au=new C(null,"entity","entity",-450970276),Bu=new C(null,
"timeout","timeout",-318625318),Cu=new C(null,"arglists","arglists",1661989754),Ew=new C(null,"div.flex.flex-col","div.flex.flex-col",255067761),Du=new z(null,"js*","js*",-1134233646,null),Eu=new C(null,"end-pos","end-pos",-1643883926),Jw=new C(null,"auto-run","auto-run",1958400437),Fu=new C(null,"min-version","min-version",-1697197126),Gu=new C(null,"pred-forms","pred-forms",172611832),Hu=new C(null,"hours","hours",58380855),Iu=new C(null,"trace-evs?","trace-evs?",1502453512),Ju=new z(null,"catch",
"catch",-1616370245,null),Ku=new z(null,"tuple","tuple",1167864243,null),Lu=new z(null,"count-distinct","count-distinct",-1566572514,null),Mu=new C(null,"get","get",1683182755),Nu=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Ou=new C(null,"kind","kind",-717265803),Pu=new C(null,"method","method",55703592),Qu=new C(null,"val-type","val-type",-279850094),Ru=new z(null,"defn","defn",-126010802,null),Su=new C(null,"specs","specs",1426570741),Tu=new z(null,"struct","struct",325972931,
null),Uu=new C("db.fn","call","db.fn/call",-151594418),Vu=new C("widget.type","code","widget.type/code",-673996494),Wu=new C(null,"gfn","gfn",791517474),Xu=new C(null,"years","years",-1298579689),Yu=new C(null,"namespaced-map","namespaced-map",1235665380),Zu=new z(null,"prn-str","prn-str",-145225943,null),$u=new C(ca,"accept","cljs.spec.alpha/accept",370988198),hg=new z(null,"...","...",-1926939749,null),my=new C(null,"constructor","constructor",-1953928811),py=new C(null,"childContextTypes","childContextTypes",
578717991),bv=new C(null,"onerror-fn","onerror-fn",1069372505),cv=new C(null,"xhr","xhr",-177710851),dv=new C(null,"eavt","eavt",-666437073),ev=new C(null,"mins","mins",467369676),fv=new C(null,"tag","tag",-1290361223),gv=new C(null,"hostname_","hostname_",-2091647379),hv=new C(null,"linear","linear",872268697),iv=new z(null,"new","new",-444906321,null),jv=new C("db","cas","db/cas",-451542322),kv=new C(null,"other","other",995793544),lv=new z(null,"\x3e","\x3e",1085014381,null),mv=new C(null,"?msg-fmt",
"?msg-fmt",-852453891),nv=new C(null,"sections","sections",-886710106),ov=new C(null,"lines","lines",-700165781),pv=new z(null,"do","do",1686842252,null),qv=new C(null,"colon","colon",-965200945),rv=new C("literate","widgets","literate/widgets",1235755088),$U=new C(null,"color","color",1011675173),sv=new C(null,"edn","edn",1317840885),tv=new C(null,"keys-pred","keys-pred",858984739),uv=new C("widget.type","identicon","widget.type/identicon",-1604205816),vv=new C(null,"?line","?line",-631853385),wv=
new C(null,"test","test",577538877),xv=new z(null,"\x3d","\x3d",-1501502141,null),yv=new C(null,"minpad","minpad",323570901),zv=new z("datascript","DB","datascript/DB",-487332776,null),sl=new C(null,"alt-impl","alt-impl",670969595),Av=new z(null,"not-empty","not-empty",2029453590,null),Bv=new C(null,"conflict","conflict",1978796605),Cv=new C(null,"datom","datom",-371556090),Dv=new z(ca,"keys","cljs.spec.alpha/keys",1109346032,null),Ev=new C(null,"given","given",716253602),Gv=new z(null,"db","db",
-1661185010,null),Hv=new z(null,"with-local-vars","with-local-vars",837642072,null),Jv=new z(null,"aggregate","aggregate",-1142967327,null),Kv=new C(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),Lv=new z(null,"and","and",668631710,null),Mv=new z(null,"try","try",-1273693247,null),Nv=new C(null,"location","location",1815599388),Ov=new C(null,"xml","xml",-1170142052),Pv=new z(null,"throw","throw",595905694,null),Ay=new C(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",
1209242693),Sv=new z(null,"array-map","array-map",1555038968,null),My=new C(null,"font-family","font-family",-667419874),Tv=new C(null,"?reply-fn","?reply-fn",-1479510592),Uv=new z(null,"let","let",358118826,null),pc=new C(null,"flush-on-newline","flush-on-newline",-151457939),Vv=new z(null,"print-str","print-str",-699700354,null),Wv=new C(null,"opt-specs","opt-specs",-384905450),Xv=new z(null,"meta","meta",-1154898805,null),Yv=new C(null,"wrong-length","wrong-length",1367572281),Zv=new C(null,"rules",
"rules",1198912366),$v=new C(null,"rels","rels",1770187185),aw=new C(null,"pred-exprs","pred-exprs",1792271395),bw=new z(null,"if","if",1181717262,null),cw=new z(null,"get-some","get-some",409442058,null),ew=new C(null,"binding","binding",539932593),fw=new C(null,"character","character",380652989),gw=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),hw=new C(null,"eid","eid",559519930),iw=new C(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),rz=new C(null,"reagent-render","reagent-render",-985383853),
jw=new z(null,"hash-map","hash-map",-439030950,null),kw=new z(null,"loop*","loop*",615029416,null),lw=new C(null,"min-count","min-count",1594709013),mw=new C(null,"last","last",1105735132),nw=new z(null,"quote","quote",1377916282,null),ow=new z(aa,"vector?","cljs.core/vector?",-1550392028,null),pw=new z(aa,"lift-ns","cljs.core/lift-ns",463499081,null),qw=new C(null,"k","k",-2146297393),Iz=new C(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),rw=new C(null,"hierarchy","hierarchy",
-1053470341),sw=new C(null,"qreturn-map","qreturn-map",1841215994),tw=new C(null,"e","e",1381269198),uw=new C(null,"f","f",-1597136552),vw=new C(null,"trace","trace",-1082747415),ww=new C(null,"d","d",1972142424),xw=new C(null,"a","a",-2123407586),yw=new C("rl","reset","rl/reset",-800926172),cg=new z(null,"pull","pull",779986722,null),zw=new C(null,"ajax-cb","ajax-cb",-807060321),Aw=new z(da,"starts-with?","clojure.string/starts-with?",656256322,null),Bw=new C(null,"w","w",354169001),Cw=new z(null,
"fn","fn",465265323,null),Dw=new C(null,"v","v",21465059),Fw=new C(null,"last-close","last-close",-2054255782),Gw=new C(null,"strable","strable",1877668047),Hw=new C(null,"p","p",151049309),Lz=new C(null,"componentWillUnmount","componentWillUnmount",1573788814),Iw=new C(null,"n","n",562130025),PB=new C(null,"contextType","contextType",1033066077),Kw=new C(null,"func","func",-238706040),Lw=new C(null,"symbol","symbol",-1038572696),Mw=new C(null,"got","got",-1674745710),Nw=new z(aa,"contains?","cljs.core/contains?",
-976526835,null),Ow=new C(null,"indent-t","indent-t",528318969),Pw=new z(null,"lift-ns","lift-ns",602311926,null),Qw=new C(null,"middleware","middleware",1462115504),RB=new C(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),GF=new C(null,"ref","ref",1289896967),Rw=new C(null,"value","value",305978217),Sw=new C(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),tl=new C(null,"fallback-impl","fallback-impl",-1501286995),Tw=new C(null,"sources","sources",-321166424),HF=new C(null,
"display-name","display-name",694513143),Uw=new C(null,"enabled?","enabled?",-1376075057),Vw=new z(null,"ns","ns",2082130287,null),Ww=new C(null,"req","req",-326448303),Xw=new C(null,"height","height",1025178622),Yw=new C(null,"ret","ret",-468222814),Zw=new C("parser","rule","parser/rule",-464044566),$w=new C(null,"done","done",-889844188),ax=new C(null,"chs","chs",376886120),bx=new C(null,"both","both",-393648840),cx=new C(null,"debug","debug",-1608172596),dx=new C(null,"vector","vector",1902966158),
ex=new C(null,"req-specs","req-specs",553962313),fx=new C(null,"end","end",-268185958),gx=new C(null,"wrong-type","wrong-type",929556915),hx=new C(null,"connected-uids","connected-uids",1454332231),ix=new z(null,"distinct","distinct",-148347594,null),jx=new z(null,"get-else","get-else",1312024065,null),kx=new C(null,"className","className",-1983287057),lx=new C(null,"buffer-blob","buffer-blob",-1830112173),mx=new C(null,"allows-separator","allows-separator",-818967742),IF=new C(null,"dangerouslySetInnerHTML",
"dangerouslySetInnerHTML",-554971138),nx=new z("clojure.core","unquote","clojure.core/unquote",843087510,null),ox=new C(null,"appenders","appenders",1245583998),px=new C(null,"colon-up-arrow","colon-up-arrow",244853007),gg=new z(null,"*","*",345799209,null),qx=new C("rl","peek","rl/peek",-291391771),rx=new C(null,"flags","flags",1775418075),sx=new C(null,"eof","eof",-489063237),tx=new z(null,"-differ?","-differ?",1465687357,null),ux=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),vx=new z(null,
"js","js",-886355190,null),wx=new C(null,"relative-to","relative-to",-470100051),xx=new z(null,"doseq","doseq",221164135,null),ng=new C("widget","parent","widget/parent",-1665940103),yx=new z(null,"avg","avg",1837937727,null),zx=new z(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),Ax=new z(null,"not","not",1044554643,null),Bx=new z(aa,"list?","cljs.core/list?",-684796618,null),Cx=new C(null,"max-eid","max-eid",2134868075),Dx=new C(null,"expand-kvps","expand-kvps",44141154),Ex=new C(null,
"unknown","unknown",-935977881),jl=new C(null,"more-marker","more-marker",-14717935),Fx=new C(null,"index-access","index-access",-1548960265),JF=new C(null,"stroke","stroke",1741823555),Gx=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Hx=new C("parser","where","parser/where",-966053850),Ix=new C(null,"aevt","aevt",-585148059),KF=new C("widget.geoplot","wkt","widget.geoplot/wkt",1238224566),Jx=new C(null,"used-args","used-args",23596256),Kx=new C(null,"nl-t","nl-t",-1608382114),Lx=new C(null,
"symbols","symbols",1211743),Mx=new z(null,"var","var",870848730,null),Nx=new C(null,"qualifier","qualifier",125841738),Ox=new C(null,"attr","attr",-604132353),Px=new C(null,"doc","doc",1913296891),Qx=new C("chsk","bad-package","chsk/bad-package",501893679),Rx=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),Jl=new C(null,"ready","ready",1086465795),Sx=new z(null,"neg?","neg?",-1902175577,null),YF=new C(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",
"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),Tx=new C(null,"hash_","hash_",-827203612),Ux=new C(null,"http-error","http-error",-1040049553),Vx=new C("db.cardinality","one","db.cardinality/one",1428352190),Wx=new z(null,"untuple","untuple",-606149900,null),Xx=new C("parser","query","parser/query",1877320671),ZF=new C(null,"displayName","displayName",-809144601),Yx=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Zx=new C(null,"added","added",
2057651688),$x=new C(null,"?file","?file",1533429675),ay=new z(null,"mod","mod",1510044207,null),$F=new C(null,"i.zmdi.zmdi-bug.text-green-500","i.zmdi.zmdi-bug.text-green-500",-1589227883),by=new C(null,"qin","qin",1372651151),cy=new z(null,"cond","cond",1606708055,null),dy=new z(null,"\x3c","\x3c",993667236,null),ey=new C(null,"map","map",1371690461),fy=new C(null,"open?","open?",1238443125),gy=new C(null,"element","element",1974019749),hy=new C(null,"char-format","char-format",-1016499218),aG=
new z(null,"style","style",1143888791,null),iy=new z(null,"type","type",-1480165421,null),bG=new C(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),jy=new C("parser","pull","parser/pull",-2147427204),ky=new C(null,"mode","mode",654403691),ly=new C(null,"max-columns","max-columns",1742323262),ny=new C(null,"max","max",61366548),oy=new C(null,"pending-guards","pending-guards",-1255527308),qy=new C(null,"last-ws-close","last-ws-close",-798104932),ry=new z(null,"when-let","when-let",
-1383043480,null),sy=new C("db","index","db/index",-1531680669),ty=new C(null,"url","url",276297046),uy=new C(null,"rattr","rattr",-1122345563),vy=new C(null,"qwhere","qwhere",-1645067378),wy=new C(null,"count","count",2139924085),xy=new C(null,"clauses","clauses",1454841241),yy=new z(null,"empty?","empty?",76408555,null),zy=new z(null,"re-matches","re-matches",-1865705768,null),By=new C(null,"ever-opened?_","ever-opened?_",1641338913),Cy=new C(null,"miser-width","miser-width",-1310049437),Dy=new C(null,
"expand","expand",595248157),Jy=new z(null,"binding","binding",-2114503176,null),Ky=new z(null,"ground","ground",-1460862835,null),Ly=new C(null,"state_","state_",957667102),Ny=new C(null,"index","index",-1531685915),Oy=new C(null,"class","class",-2030961996),Py=new C(null,"packer","packer",66077544),Qy=new C("db.unique","identity","db.unique/identity",1675950722),Ry=new C(null,"success?","success?",-122854052),Sy=new C(fa,"queued-tuples","datascript.db/queued-tuples",-762852029),Ty=new z(null,".",
".",1975675962,null),Uy=new C(null,"at","at",1476951349),Vy=new C("transact","unique","transact/unique",-940992320),Wy=new C(null,"splice","splice",449588165),Xy=new C(null,"dispatch","dispatch",1319337009),Yy=new z(null,"inst","inst",-2008473268,null),Zy=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),$y=new z(null,"sample","sample",1719555128,null),az=new C("widget","markdown","widget/markdown",-145862203),sG=new C(null,"__html","__html",674048345),bz=new C(null,"max-tx","max-tx",1119558339),
cz=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),tG=new C("widget.geoplot","center","widget.geoplot/center",-530369016),dz=new C(null,"as","as",1148689641),ez=new C(null,"?meta","?meta",-793560773),fz=new C(null,"name","name",1843675177),gz=new C(null,"syms","syms",-1575891762),hz=new C(null,"vargs","vargs",-966597273),iz=new C("chsk","bad-event","chsk/bad-event",-565206930),uG=new C(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),jz=new C("db.type",
"ref","db.type/ref",-1728373079),kz=new C(null,"queue","queue",1455835879),lz=new C(null,"stacktrace-fonts","stacktrace-fonts",830799382),mz=new C(null,"warn","warn",-436710552),nz=new z(null,"loop","loop",1244978678,null),oz=new C("parser","find","parser/find",-801023103),pz=new C(null,"appender","appender",1267426510),qz=new C(null,"selector","selector",762528866),sz=new C(null,"parameter-from-args","parameter-from-args",-758446196),tz=new C(null,"miser","miser",-556060186),uz=new C("mem","fresh",
"mem/fresh",-1179989133),vz=new C(null,"ajax","ajax",814345549),vG=new C(null,"on-set","on-set",-140953470),wz=new z(null,"inc","inc",324505433,null),xz=new C(null,"rule-vars","rule-vars",1665972520),yz=new C(null,"backoff-ms-fn","backoff-ms-fn",772895955),zz=new C(null,"context","context",-830191113),Az=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),Bz=new C(null,"colnum","colnum",2023796854),Cz=new C(null,"raw-resp","raw-resp",-1924342506),Dz=new C(null,"section","section",-300141526),Ez=new C(null,
"bracket-info","bracket-info",-1600092774),Fz=new z(null,"even?","even?",-1827825394,null),Gz=new z(null,"Inf","Inf",647172781,null),Hz=new z(aa,"map","cljs.core/map",-338988913,null),sc=new C(null,"dup","dup",556298533),Jz=new C(null,"prefix-context","prefix-context",-1269613591),Kz=new C(null,"init-db","init-db",1595181278),Mz=new C(null,"timestamp_","timestamp_",-954533417),Nz=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),Oz=new C(null,"socket_","socket_",-361048908),Pz=new C(ca,"rep",
"cljs.spec.alpha/rep",1483217317),Qz=new C(null,"fn","fn",-1175266204),Rz=new C(null,"args","args",1315556576),Sz=new C(null,"suffix","suffix",367373057),Tz=new C(null,"old","old",-1825222690),wG=new C(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",2231265),Uz=new C(null,"qwith","qwith",-45809392),Vz=new z(null,"defn-","defn-",1097765044,null),Wz=new C(null,"pattern","pattern",242135423),Xz=new C(null,"div.p-2","div.p-2",-325121057),Yz=new C(null,"required","required",1807647006),
Zz=new C(null,"priority","priority",1431093715),$z=new C(null,"buffer","buffer",617295198),aA=new C(null,"inherit","inherit",-1840815422),LH=new C(null,"component-did-update","component-did-update",-1468549173),bA=new C(null,"msg_","msg_",-1925147E3),cA=new C(null,"opt-keys","opt-keys",1262688261),dA=new z(null,"when-not","when-not",-1223136340,null),eA=new C(null,"ev","ev",-406827324),fA=new C(null,"console","console",1228072057),gA=new C("parser","in","parser/in",1617442048),hA=new z(null,"p1__23165#",
"p1__23165#",1769065987,null),iA=new C(null,"hash","hash",-13781596),jA=new z(null,"namespace","namespace",1263021155,null),kA=new C(null,"?content-type","?content-type",-2129759049),lA=new C(null,"post","post",269697687),mA=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),nA=new C(null,"arg3","arg3",-1486822496),oA=new C(null,"min-level","min-level",1634684919),pA=new C(null,"arg1","arg1",951899358),qA=new C("db","valueType","db/valueType",1827971944),rA=new C(null,"arg2",
"arg2",1729550917),sA=new C(null,"list","list",765357683),tA=new C("db","ident","db/ident",-737096),uA=new C(null,"dt","dt",-368444759),vA=new C(null,"min","min",444991522),wA=new C("literate","!transact","literate/!transact",758397308),xA=new z(null,"re-pattern","re-pattern",1047705161,null),yA=new C(null,"column","column",2078222095),zA=new C(null,"key","key",-1516042587),AA=new z(null,"rand-int","rand-int",-495012157,null),BA=new C("chsk","recv","chsk/recv",561097091),CA=new C(null,"up-arrow",
"up-arrow",1705310333),DA=new z(null,"contains?","contains?",-1676812576,null),EA=new z(null,"true?","true?",-1600332395,null),FA=new C(null,"?ratio","?ratio",-1275760831),GA=new z(null,"+","+",-740910886,null),HA=new C(null,"generator-fn","generator-fn",811851656),IA=new C(null,"req-keys","req-keys",514319221),JA=new C(null,"logical-block-callback","logical-block-callback",1612691194),KA=new C(null,"resp-type","resp-type",1050675962),LA=new C("db.cardinality","many","db.cardinality/many",772806234),
MA=new C(null,"weeks","weeks",1844596125),NA=new C(null,"overflowchar","overflowchar",-1620088106),OA=new C(null,"with","with",-1536296876),PA=new C(null,"cb","cb",589947841),QA=new C("swap","dissoc","swap/dissoc",-605373782),RA=new C(null,"ppstr","ppstr",1557495252),em=new C(null,"parents","parents",-2027538891),SA=new C("chsk","handshake","chsk/handshake",64910686),TA=new C(null,"with-credentials?","with-credentials?",-1773202222),UA=new C(null,"mincol","mincol",1230695445),VA=new C(null,"protocol",
"protocol",652470118),WA=new C(null,"curr-xhr_","curr-xhr_",-1318773696),XA=new z(null,"if-let","if-let",1803593690,null),YA=new C(null,"*assert*","*assert*",-160895053),ZA=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),$A=new z(null,"condp","condp",1054325175,null),aB=new z(null,"rem","rem",664046770,null),bB=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),cB=new C(null,"deref","deref",-145586795),ig=new C(null,"in","in",-1531184865),dB=new C(ca,"unknown","cljs.spec.alpha/unknown",
651034818),eB=new C(null,"max-iterations","max-iterations",2021275563),fB=new C(null,"output_","output_",-36797880),gB=new C(null,"opt","opt",-794706369),hB=new C(null,"reason","reason",-2070751759),DO=new C(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),iB=new C(null,"assertion","assertion",-1645134882),jB=new C(null,"config","config",994861415),kB=new C(null,"id","id",-1388402092),dg=new z(null,"?e","?e",-1194391683,null),lB=new C(null,"onclose-fn","onclose-fn",-1388163785),mB=
new C(null,"stream","stream",1534941648),nB=new C(null,"results","results",-1134170113),oB=new z(null,"false?","false?",-1522377573,null),lg=new C("widget","uuid","widget/uuid",-585315811),pB=new z(null,"deftype*","deftype*",962659890,null),qB=new C(null,"rep+","rep+",-281382396),rB=new C(null,"ajax-opts","ajax-opts",-518239109),sB=new z(null,"NaN","NaN",666918153,null),tB=new C(null,"indent","indent",-148200125),uB=new C("chsk","closed","chsk/closed",-922855264),vB=new C(null,"msecs","msecs",1711980553),
wB=new z(null,"defmacro","defmacro",2054157304,null),xB=new C("db","add","db/add",235286841),yB=new z(null,"vector","vector",-751469611,null),zB=new C(null,"recv-buf-or-n","recv-buf-or-n",1363950355),AB=new C(null,"porrl","porrl",-1693905102),BB=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),CB=new C(null,"else-params","else-params",-832171646),DB=new C(null,"keyword","keyword",811389747),EB=new C(null,"whitelist","whitelist",-979294437),FB=new C(null,"end-block-t","end-block-t",1544648735),
GB=new C(null,"tempids","tempids",1767509089),HB=new C(null,"errors","errors",-908790718),IB=new C(null,"max-count","max-count",1539185305);function JB(a,b,c){if(Tg(c)){var d=yh(bg,ci.j(a,c));return b.aa?b.aa(d):b.call(null,d)}return Wi(c)?(d=new Y(function(){var e=gd(c);return a.aa?a.aa(e):a.call(null,e)}(),function(){var e=hd(c);return a.aa?a.aa(e):a.call(null,e)}()),b.aa?b.aa(d):b.call(null,d)):Lf(c)?(d=dl(ci.j(a,c)),b.aa?b.aa(d):b.call(null,d)):Gf(c)?(d=v.ba(function(e,f){return pf.j(e,a.aa?a.aa(f):a.call(null,f))},c,c),b.aa?b.aa(d):b.call(null,d)):Cf(c)?(d=si.j(sf(c),ci.j(a,c)),b.aa?b.aa(d):b.call(null,d)):b.aa?b.aa(c):b.call(null,
c)}var KB=function KB(a,b){return JB(Db.j(KB,a),a,b)};var LB={};function MB(a,b,c){var d=RegExp,e=b.source,f=q(b.ignoreCase)?"gi":"g";f=q(b.multiline)?[f,"m"].join(""):f;b=q(b.Yi)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function NB(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=fi(2,d);if(D.j(K(d),1))return d=H(d),a.aa?a.aa(d):a.call(null,d);d=sg(d);return a.aa?a.aa(d):a.call(null,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}
function OB(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?MB(a,b,c):MB(a,b,NB(c));throw["Invalid match arg: ",t.aa(b)].join("");}function QB(a,b){var c=new dc;for(b=E(b);;)if(null!=b)c.append(t.aa(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function SB(a,b){if(0>=b||b>=2+K(a))return pf.j(sg(hf("",ci.j(t,E(a)))),"");if(q(Rg.j?Rg.j(1,b):Rg.call(null,1,b)))return new S(null,1,5,T,[a],null);if(q(Rg.j?Rg.j(2,b):Rg.call(null,2,b)))return new S(null,2,5,T,["",a],null);b-=2;return pf.j(sg(hf("",dj(sg(ci.j(t,E(a))),0,b))),Sg.j(a,b))}function TB(a,b){return UB(a,b,0)}
function UB(a,b,c){if("/(?:)/"===t.aa(b))b=SB(a,c);else if(1>c)b=sg(t.aa(a).split(b));else a:for(var d=c,e=qf;;){if(1===d){b=pf.j(e,a);break a}var f=fl(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=pf.j(e,a.substring(0,h));a=f}else{b=pf.j(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:kd(c)))c=null==c?null:ld(c);else break a;else c=b;return c}function VB(a){return vb(null==a?"":String(a))};var WB={},XB,YB,ZB,$B;function aC(a,b){if(null!=a&&null!=a.Ee)a=a.Ee(a,b);else{var c=aC[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=aC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.conform*",a);}return a}function bC(a,b){if(null!=a&&null!=a.Fe)a=a.Fe(a,b);else{var c=bC[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=bC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.with-gen*",a);}return a}var cC=Uh(X);
function dC(a){if($g(a)){var b=y(cC);a=B.j(b,a);if($g(a))a:for(;;)if($g(a))a=B.j(b,a);else{b=a;break a}else b=a;return b}return a}function eC(a){if($g(a)){var b=dC(a);if(q(b))return b;throw Error(["Unable to resolve spec: ",t.aa(a)].join(""));}return a}function fC(a){return null!=a&&l===a.ff?a:null}function gC(a){var b=xq.aa(a);return q(b)?a:b}function hC(a,b){return $g(a)?a:q(gC(a))?Q.ba(a,Cp,b):null!=a&&(a.ga&131072||l===a.ye)?xf(a,Q.ba(yf(a),Cp,b)):null}
function iC(a){return $g(a)?a:q(gC(a))?Cp.aa(a):null!=a&&(a.ga&131072||l===a.ye)?Cp.aa(yf(a)):null}function jC(a){var b=function(){var c=$g(a)?dC(a):!1;if(q(c))return c;c=fC(a);if(q(c))return c;c=gC(a);return q(c)?c:null}();return q(gC(b))?hC(kC(b,null),iC(b)):b}function lC(a){var b=jC(a);if(q(b))return b;if($g(a))throw Error(["Unable to resolve spec: ",t.aa(a)].join(""));return null}
function mC(a){if(VB(a))return null;a=ci.j(xm,TB(a,"$"));if(2<=K(a)&&Jh(function(c){return!VB(c)},a)){var b=cl(Ok,of)(a);a=P(b,0,null);b=P(b,1,null);return ze.aa([QB(".",a),"/",t.aa(b)].join(""))}return null}
var oC=function(){function a(d,e){var f=nC[pa(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=nC._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("Specize.specize*",d);}function b(d){var e=nC[pa(null==d?null:d)];if(null!=e)return e.aa?e.aa(d):e.call(null,d);e=nC._;if(null!=e)return e.aa?e.aa(d):e.call(null,d);throw Cc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.aa=b;c.j=a;return c}(),nC=function nC(a){switch(arguments.length){case 1:return nC.aa(arguments[0]);case 2:return nC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};nC.aa=function(a){return null!=a&&null!=a.Nd?a.Nd(a):oC(a)};nC.j=function(a,b){return null!=a&&null!=a.Od?a.Od(a,b):oC(a,b)};nC.na=2;C.prototype.Nd=function(){return nC(eC(this))};C.prototype.Od=function(){return nC(eC(this))};z.prototype.Nd=function(){return nC(eC(this))};
z.prototype.Od=function(){return nC(eC(this))};Jk.prototype.Nd=function(){return pC(this,this,null,null,null)};Jk.prototype.Od=function(a,b){return pC(b,this,null,null,null)};
nC._=function(){function a(c){var d=vf(c)?mC(c.name):!1;return q(d)?pC(d,c,null,null,null):pC(dB,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return pC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.aa=a;b.j=function(c,d){return pC(d,c,null,null,null)};return b}();
var qC=function qC(a){switch(arguments.length){case 1:return qC.aa(arguments[0]);case 2:return qC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};qC.aa=function(a){var b=fC(a);return q(b)?b:nC(a)};qC.j=function(a,b){var c=fC(a);return q(c)?c:nC(a,b)};qC.na=2;function rC(a,b){a=dC(a);return q(gC(a))?Q.ba(a,Yx,b):bC(qC.aa(a),b)}
function sC(a,b,c){if(null==c)Wh.ba(cC,R,a);else{var d=fC(c);q(d)||(d=gC(c),d=q(d)?d:B.j(y(cC),c));b=q(d)?c:pC(b,c,null,null,null);Wh.ja(cC,Q,a,hC(b,a))}}function tC(a,b,c){if(q(a)){var d=lC(a);if(q(d))return aC(qC.aa(d),b);if(Nf(a))return q(null)?a.aa?a.aa(b):a.call(null,b):q(a.aa?a.aa(b):a.call(null,b))?b:At;throw Error([xl.da(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function uC(a,b){a=qC.aa(a);return!V(At,aC(a,b))}
function pC(a,b,c,d,e){if(q(fC(b)))return q(c)?rC(b,c):b;if(q(gC(b)))return kC(b,c);if($g(b))return a=lC(b),q(c)?rC(a,c):a;if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof YB)YB=function(f,h,k,m,n,r){this.form=f;this.pred=h;this.Xd=k;this.Nf=m;this.hh=n;this.$h=r;this.ga=393216;this.la=0},YB.prototype.sa=function(f,h){return new YB(this.form,this.pred,this.Xd,this.Nf,this.hh,h)},YB.prototype.ra=function(){return this.$h},YB.prototype.Nd=function(){return this},
YB.prototype.Od=function(){return this},YB.prototype.ff=l,YB.prototype.Ee=function(f,h){f=this.pred.aa?this.pred.aa(h):this.pred.call(null,h);return q(this.Nf)?f:q(f)?h:At},YB.prototype.Fe=function(f,h){return pC(this.form,this.pred,h,this.Nf,this.hh)},YB.$b=!0,YB.Kb="cljs.spec.alpha/t_cljs$spec$alpha21844",YB.kc=function(f){return Jd(f,"cljs.spec.alpha/t_cljs$spec$alpha21844")};return new YB(a,b,c,d,e,X)}
function vC(a,b,c){var d=E(b);H(d);J(d);d=E(c);H(d);J(d);for(d=c;;){c=a;b=E(b);a=H(b);b=J(b);var e=E(d);d=H(e);e=J(e);var f=d;d=e;if(q(a)){c=tC(a,c,f);if(V(At,c))return At;a=c}else return c}}var wC=new p(null,4,[ow,qf,jr,Lk,Bx,Ge,Pr,X],null);
function xC(a,b,c,d){function e(wa,xa,Ra,ka){return pf.j(wa,ka)}var f=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c,h=B.j(f,IB),k=B.j(f,Qn),m=B.ba(f,Vq,20),n=B.j(f,ds),r=B.j(f,Jo),u=B.j(f,Zy),w=B.j(f,Ut),A=B.j(f,gw),G=B.j(f,wy),I=B.j(f,lw),F=B.j(f,Ou),N=B.j(f,BB),O=B.j(f,Fr),U=q(O)?sf(O):B.j(wC,k),ea=new Hl(function(){return qC.aa(b)}),va=function(){return q(A)?A:function(wa){return wa}}();if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof ZB)ZB=function(wa,
xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq){this.form=wa;this.Wh=xa;this.qh=Ra;this.Xd=ka;this.Nh=oa;this.wi=Ca;this.pred=ua;this.gf=Ba;this.Hh=Ua;this.Sh=ac;this.oh=yb;this.af=ec;this.Lh=Xb;this.Vh=Qd;this.distinct=Zf;this.spec=zf;this.Rh=Og;this.Mh=Zc;this.count=Ad;this.ni=te;this.Dc=$f;this.kind=Bd;this.Gg=ue;this.Gh=Cd;this.bi=cq;this.ga=393216;this.la=0},ZB.prototype.sa=function(wa,xa){return new ZB(this.form,this.Wh,this.qh,this.Xd,this.Nh,this.wi,this.pred,this.gf,
this.Hh,this.Sh,this.oh,this.af,this.Lh,this.Vh,this.distinct,this.spec,this.Rh,this.Mh,this.count,this.ni,this.Dc,this.kind,this.Gg,this.Gh,xa)},ZB.prototype.ra=function(){return this.bi},ZB.prototype.Nd=function(){return this},ZB.prototype.Od=function(){return this},ZB.prototype.ff=l,ZB.prototype.Ee=function(wa,xa){wa=y(this.spec);if(yc(this.gf.aa?this.gf.aa(xa):this.gf.call(null,xa)))return At;if(q(this.Gg)){var Ra=this.af.aa?this.af.aa(xa):this.af.call(null,xa),ka=P(Ra,0,null),oa=P(Ra,1,null);
Ra=P(Ra,2,null);var Ca=ka.aa?ka.aa(xa):ka.call(null,xa);ka=0;var ua=E(xa);xa=E(ua);H(xa);J(xa);for(xa=Ca;;){var Ba=ua;Ca=E(Ba);ua=H(Ca);Ca=J(Ca);if(Ba){Ba=aC(wa,ua);if(V(At,Ba))return At;xa=oa.ja?oa.ja(xa,ka,ua,Ba):oa.call(null,xa,ka,ua,Ba);ka+=1;ua=Ca}else return Ra.aa?Ra.aa(xa):Ra.call(null,xa)}}else if($e(xa))for(oa=Lg(K(xa)/101),oa=1>oa?1:oa,ka=0;;){if(ka>=K(xa))return xa;if(uC(wa,bf(xa,ka)))ka+=oa;else return At}else for(ka=0,oa=E(xa),Ra=E(oa),H(Ra),J(Ra);;){ua=E(oa);Ra=H(ua);Ca=J(ua);ua=Ra;
Ba=oa;if(null==Ba||D.j(ka,101))return xa;if(uC(wa,ua))oa=Ca,ka+=1;else return At}},ZB.prototype.Fe=function(wa,xa){return xC(this.form,this.pred,this.Dc,xa)},ZB.$b=!0,ZB.Kb="cljs.spec.alpha/t_cljs$spec$alpha22391",ZB.kc=function(wa){return Jd(wa,"cljs.spec.alpha/t_cljs$spec$alpha22391")};return new ZB(a,h,function(wa){return uC(y(ea),wa)},d,m,c,b,n,r,k,e,function(wa){return Hf(wa)&&(yc(O)||Hf(O))?new S(null,3,5,T,[wg,function(xa,Ra,ka,oa){return ka===oa?xa:Q.ba(xa,Ra,oa)},wg],null):q(Ff(wa)?function(){var xa=
q(F)?yc(O):F;return q(xa)?xa:Ff(O)}():!1)?new S(null,3,5,T,[q(r)?sf:wg,function(xa,Ra,ka,oa){return ka===oa&&yc(r)?xa:Q.ba(xa,bf(q(r)?oa:ka,0),bf(oa,1))},wg],null):Tg(O)||Lf(O)||yc(O)&&(Tg(wa)||Lf(wa))?new S(null,3,5,T,[sf,e,Vg],null):new S(null,3,5,T,[function(xa){return sf(q(O)?O:xa)},e,wg],null)},u,f,w,ea,va,U,G,I,f,F,N,O,X)}function yC(a){return new p(null,2,[xq,$u,Yw,a],null)}function zC(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(a,xq);return D.j($u,a)}
var AC=function AC(a){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,ho);a=E(d);var e=H(a);a=J(a);var f=B.j(c,pn),h=E(f),k=H(h);h=J(h);var m=B.j(c,Is),n=E(m);H(n);n=J(n);var r=B.j(c,Yw);c=B.j(c,qB);return Jh(wg,d)?zC(e)?(d=Yw.aa(e),d=pf.j(r,q(f)?uf([k,d]):d),a?(a=new p(null,4,[ho,a,pn,h,Is,n,Yw,d],null),AC.aa?AC.aa(a):AC.call(null,a)):yC(d)):new p(null,6,[xq,Bt,ho,d,Yw,r,pn,f,Is,m,qB,c],null):null};
function BC(a,b,c,d,e){return q(a)?(d=new p(null,5,[xq,Pz,Fm,b,Wy,d,Is,e,kB,tm()],null),zC(a)?Q.da(d,Hm,b,M([Yw,pf.j(c,Yw.aa(a))])):Q.da(d,Hm,a,M([Yw,c]))):null}
function CC(a,b,c,d){return q(q(b)?b:c)?(a=qi(function(e){e=H(e);return d.aa?d.aa(e):d.call(null,e)},ci.ja(Zi,a,function(){var e=E(b);return e?e:ii(null)}(),function(){var e=E(c);return e?e:ii(null)}())),new S(null,3,5,T,[E(ci.j(H,a)),q(b)?E(ci.j(mf,a)):null,q(c)?E(ci.j(function(e){return bf(e,2)},a)):null],null)):new S(null,3,5,T,[E(qi(d,a)),b,c],null)}
function DC(a,b,c){var d=CC(a,b,c,wg);c=P(d,0,null);b=E(c);a=H(b);var e=J(b),f=P(d,1,null);b=P(f,0,null);d=P(d,2,null);return q(c)?(c=new p(null,4,[xq,yn,ho,c,pn,f,Is,d],null),null==e?q(b)&&(zC(a)?(a=Yw.aa(a),a=yC(new Y(b,a))):a=c):a=c,a):null}function EC(a,b){return q(q(a)?b:a)?DC(M([a,b]),null,null):q(a)?a:b}
var FC=function FC(a){a=eC(a);var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,xq),e=B.j(c,ho);a=B.j(c,Hm);var f=B.j(c,Fm);c=B.j(c,Is);if(D.j($u,d))return!0;if(D.j(null,d))return null;if(D.j(qn,d))return d=FC.aa?FC.aa(a):FC.call(null,a),q(d)?(a=vC(GC(a),e,J(c)),!V(At,a)):d;if(D.j(Pz,d))return(e=a===f)?e:FC.aa?FC.aa(a):FC.call(null,a);if(D.j(Bt,d))return Jh(FC,e);if(D.j(yn,d))return Kh(FC,e);throw Error(["No matching clause: ",t.aa(d)].join(""));},GC=function GC(a){a=eC(a);var c=null!=a&&(a.ga&
64||l===a.Ja)?yh(zk,a):a;a=B.j(c,ho);var d=E(a),e=H(d);J(d);var f=B.j(c,pn),h=P(f,0,null),k=B.j(c,xq);d=B.j(c,Hm);var m=B.j(c,Yw);c=B.j(c,Is);if(D.j($u,k))return m;if(D.j(null,k))return null;if(D.j(qn,k))return e=GC.aa?GC.aa(d):GC.call(null,d),(f=D.j(e,Pn))?d=f:(d=xq.aa(eC(d)),f=new Jk(null,new p(null,2,[Pz,null,Bt,null],null),null),d=f.aa?f.aa(d):f.call(null,d),d=q(d)?Bf(e):d,d=q(d)?d:null),q(d)?Pn:vC(e,a,c);if(D.j(Pz,k))return HC(d,m,h);if(D.j(Bt,k))return HC(e,m,h);if(D.j(yn,k))return c=CC(a,f,
c,FC),a=P(c,0,null),a=P(a,0,null),c=P(c,1,null),c=P(c,0,null),a=null==a?Pn:GC.aa?GC.aa(a):GC.call(null,a),q(c)?new Y(c,a):a;throw Error(["No matching clause: ",t.aa(k)].join(""));};
function HC(a,b,c){a=eC(a);var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,xq);B.j(d,ho);a=B.j(d,Wy);if(D.j(null,e))return b;if(D.j(yn,e)||D.j($u,e)||D.j(qn,e))return a=GC(d),D.j(a,Pn)?b:pf.j(b,q(c)?uf([c,a]):a);if(D.j(Pz,e)||D.j(Bt,e))return d=GC(d),Bf(d)||(c=q(c)?uf([c,d]):d,a=q(a)?si:pf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.aa(e)].join(""));}
var IC=function IC(a,b){a=eC(a);var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,Is),f=B.j(d,Fm);a=B.j(d,ho);var h=E(a),k=H(h),m=J(h),n=B.j(d,Yw);h=B.j(d,xq);var r=B.j(d,Wy),u=B.j(d,pn),w=E(u),A=H(w),G=J(w);w=B.j(d,as);var I=B.j(d,Hm);if(q(d)){if(D.j($u,h))return null;if(D.j(null,h))return a=tC(d,b,d),V(At,a)?null:yC(a);if(D.j(qn,h))return d=IC.j?IC.j(I,b):IC.call(null,I,b),q(d)?D.j($u,xq.aa(d))?(a=vC(GC(d),a,J(e)),V(At,a)?null:yC(a)):new p(null,5,[xq,qn,Hm,d,as,w,ho,a,Is,e],null):null;if(D.j(Bt,
h))return EC(AC(new p(null,4,[ho,hf(IC.j?IC.j(k,b):IC.call(null,k,b),m),pn,u,Is,e,Yw,n],null)),q(FC(k))?function(){var F=AC(new p(null,4,[ho,m,pn,G,Is,J(e),Yw,HC(k,n,A)],null));return IC.j?IC.j(F,b):IC.call(null,F,b)}():null);if(D.j(yn,h))return DC(ci.j(function(F){return IC.j?IC.j(F,b):IC.call(null,F,b)},a),u,e);if(D.j(Pz,h))return EC(BC(IC.j?IC.j(I,b):IC.call(null,I,b),f,n,r,e),q(FC(I))?function(){var F=BC(f,f,HC(I,n,null),r,e);return IC.j?IC.j(F,b):IC.call(null,F,b)}():null);throw Error(["No matching clause: ",
t.aa(h)].join(""));}return null};function JC(a,b){for(;;){var c=E(b),d=H(c);c=J(c);if(Bf(b))return q(FC(a))?(a=GC(a),D.j(a,Pn)?null:a):At;a=IC(a,d);if(q(a))b=c;else return At}}
var kC=function kC(a,b){if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof $B)$B=function(d,e,f){this.re=d;this.Xd=e;this.di=f;this.ga=393216;this.la=0},$B.prototype.sa=function(d,e){return new $B(this.re,this.Xd,e)},$B.prototype.ra=function(){return this.di},$B.prototype.Nd=function(){return this},$B.prototype.Od=function(){return this},$B.prototype.ff=l,$B.prototype.Ee=function(d,e){return null==e||Ef(e)?JC(this.re,E(e)):At},$B.prototype.Fe=function(d,
e){return kC.j?kC.j(this.re,e):kC.call(null,this.re,e)},$B.$b=!0,$B.Kb="cljs.spec.alpha/t_cljs$spec$alpha23051",$B.kc=function(d){return Jd(d,"cljs.spec.alpha/t_cljs$spec$alpha23051")};return new $B(a,b,X)};
sC(Nu,bg(zx,bg(on,new S(null,1,5,T,[ju],null),bg(xu,bg(Hz,Ws,ju),bg(Hz,Us,ju))),bg(on,new S(null,1,5,T,[hA],null),bg(Hz,bg(An,new S(null,1,5,T,[new S(null,2,5,T,[zq,wq],null)],null),new p(null,2,[Ws,zq,Us,wq],null)),hA))),pC(bg(zx,bg(An,new S(null,1,5,T,[kt],null),bg(xu,bg(Hz,Ws,kt),bg(Hz,Us,kt))),bg(An,new S(null,1,5,T,[kt],null),bg(Hz,bg(An,new S(null,1,5,T,[new S(null,2,5,T,[zq,wq],null)],null),new p(null,2,[Ws,zq,Us,wq],null)),kt))),function(a){return Pk(ci.j(Ws,a),ci.j(Us,a))},null,!0,function(a){return ci.j(function(b){var c=
P(b,0,null);b=P(b,1,null);return new p(null,2,[Ws,c,Us,b],null)},a)}));var KC={},LC,MC,NC,OC,PC,QC,RC=function RC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return RC.da(c)};RC.da=function(a){return Jd(ic,yh(zl,a))};RC.na=0;RC.qa=function(a){return this.da(E(a))};var SC=function SC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return SC.da(c)};SC.da=function(a){return Jd(ic,yh(xl,a))};SC.na=0;SC.qa=function(a){return this.da(E(a))};
function TC(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;yh(SC,b);Jd(ic,"\n")}function UC(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function VC(a,b,c){var d=c;for(c=qf;;){if(Bf(d))return new S(null,2,5,T,[c,b],null);var e=H(d);d=J(d);e=yh(a,new S(null,2,5,T,[e,b],null));b=P(e,0,null);e=P(e,1,null);c=pf.j(c,b);b=e}}function WC(a,b){var c=b;for(b=qf;;){var d=yh(a,new S(null,1,5,T,[c],null));c=P(d,0,null);d=P(d,1,null);if(yc(c))return new S(null,2,5,T,[b,d],null);b=pf.j(b,c);c=d}}
function XC(a){return new S(null,2,5,T,[si.j(X,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);var u=P(n,0,null);P(n,1,null);k.add(new S(null,2,5,T,[r,u],null));m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);h=P(f,0,null);P(f,1,null);return hf(new S(null,2,5,T,[k,h],null),d(Fe(e)))}return null}},null,null)}(a)}()),
si.j(X,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);P(n,0,null);n=P(n,1,null);k.add(new S(null,2,5,T,[r,n],null));m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);P(f,0,null);f=P(f,1,null);return hf(new S(null,2,5,T,[k,f],null),d(Fe(e)))}return null}},null,null)}(a)}())],null)}
function YC(a,b){return si.j(X,function(){return function e(d){return new ch(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=gh(k);a:for(var n=0;;)if(n<k){var r=x(h,n),u=P(r,0,null);r=P(r,1,null);m.add(new S(null,2,5,T,[u,new S(null,2,5,T,[r,b],null)],null));n+=1}else{h=!0;break a}return h?ih(kh(m),e(be(f))):ih(kh(m),null)}h=H(f);m=P(h,0,null);h=P(h,1,null);return hf(new S(null,2,5,T,[m,new S(null,2,5,T,[h,b],null)],null),e(Fe(f)))}return null}},null,null)}(a)}())}
function ZC(){var a=ic;if(null!=a&&null!=a.Mf)a.Mf(a);else{var b=ZC[pa(null==a?null:a)];if(null!=b)b.aa?b.aa(a):b.call(null,a);else if(b=ZC._,null!=b)b.aa?b.aa(a):b.call(null,a);else throw Cc("IPrettyFlush.-ppflush",a);}}function $C(a,b){a=y(y(a));return b.aa?b.aa(a):b.call(null,a)}function aD(a,b,c){Wh.ja(y(a),Q,b,c)}function bD(a,b){D.j(b,"\n")?(aD(a,Ks,0),aD(a,Qm,$C(a,Qm)+1)):aD(a,Ks,$C(a,Ks)+1);return Jd($C(a,Jp),b)}
function cD(a,b){var c=Uh(new p(null,4,[ny,b,Ks,0,Qm,0,Jp,a],null));if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof LC)LC=function(d,e,f,h){this.lb=d;this.Vf=e;this.fields=f;this.Yh=h;this.ga=1074167808;this.la=0},LC.prototype.sa=function(d,e){return new LC(this.lb,this.Vf,this.fields,e)},LC.prototype.ra=function(){return this.Yh},LC.prototype.Ib=function(){return this.fields},LC.prototype.gd=function(){return Kd(this.lb)},LC.prototype.Ld=function(d,e){d=Bc(e);if(q(D.j?D.j(String,
d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?aD(this,Ks,$C(this,Ks)+K(e)):(aD(this,Ks,K(e)-d-1),aD(this,Qm,$C(this,Qm)+K(qi(function(f){return D.j(f,"\n")},e)))),Jd($C(this,Jp),e);if(q(D.j?D.j(Number,d):D.call(null,Number,d)))return bD(this,e);throw Error(["No matching clause: ",t.aa(d)].join(""));},LC.$b=!0,LC.Kb="cljs.pprint/t_cljs$pprint21134",LC.kc=function(d){return Jd(d,"cljs.pprint/t_cljs$pprint21134")};return new LC(a,b,c,X)}
function dD(a,b,c,d,e,f,h,k,m,n,r,u,w){this.parent=a;this.fc=b;this.Mb=c;this.indent=d;this.ac=e;this.bc=f;this.prefix=h;this.ec=k;this.suffix=m;this.cc=n;this.ea=r;this.ca=u;this.fa=w;this.ga=2230716170;this.la=139264}g=dD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "parent":return this.parent;case "section":return this.fc;case "start-col":return this.Mb;case "indent":return this.indent;case "done-nl":return this.ac;case "intra-block-nl":return this.bc;case "prefix":return this.prefix;case "per-line-prefix":return this.ec;case "suffix":return this.suffix;case "logical-block-callback":return this.cc;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,W.j(new S(null,10,5,T,[new S(null,2,5,T,[Jr,this.parent],null),new S(null,2,5,T,[Dz,this.fc],null),new S(null,2,5,T,[Er,this.Mb],null),new S(null,2,5,T,[tB,this.indent],null),new S(null,2,5,T,[vn,this.ac],null),new S(null,2,5,T,[Tq,this.bc],null),new S(null,2,5,T,[Rp,this.prefix],null),new S(null,2,5,T,[Zm,this.ec],null),new S(null,2,5,T,[Sz,this.suffix],null),new S(null,2,5,T,[JA,this.cc],
null)],null),this.ca))};g.Ba=function(){return new rj(this,10,new S(null,10,5,T,[Jr,Dz,Er,tB,vn,Tq,Rp,Zm,Sz,JA],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 10+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1977012399^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.parent,b.parent)&&D.j(this.fc,b.fc)&&D.j(this.Mb,b.Mb)&&D.j(this.indent,b.indent)&&D.j(this.ac,b.ac)&&D.j(this.bc,b.bc)&&D.j(this.prefix,b.prefix)&&D.j(this.ec,b.ec)&&D.j(this.suffix,b.suffix)&&D.j(this.cc,b.cc)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,10,[Sz,null,tB,null,Jr,null,Dz,null,vn,null,Er,null,Rp,null,Zm,null,JA,null,Tq,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Jr,b):V.call(null,Jr,b))?new dD(c,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Dz,b):V.call(null,Dz,b))?new dD(this.parent,c,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Er,b):V.call(null,Er,b))?new dD(this.parent,this.fc,c,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(tB,b):
V.call(null,tB,b))?new dD(this.parent,this.fc,this.Mb,c,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(vn,b):V.call(null,vn,b))?new dD(this.parent,this.fc,this.Mb,this.indent,c,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Tq,b):V.call(null,Tq,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,c,this.prefix,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Rp,b):V.call(null,Rp,b))?new dD(this.parent,this.fc,
this.Mb,this.indent,this.ac,this.bc,c,this.ec,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Zm,b):V.call(null,Zm,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,c,this.suffix,this.cc,this.ea,this.ca,null):q(V.j?V.j(Sz,b):V.call(null,Sz,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,c,this.cc,this.ea,this.ca,null):q(V.j?V.j(JA,b):V.call(null,JA,b))?new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,
this.ec,this.suffix,c,this.ea,this.ca,null):new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,10,5,T,[new Y(Jr,this.parent),new Y(Dz,this.fc),new Y(Er,this.Mb),new Y(tB,this.indent),new Y(vn,this.ac),new Y(Tq,this.bc),new Y(Rp,this.prefix),new Y(Zm,this.ec),new Y(Sz,this.suffix),new Y(JA,this.cc)],null),this.ca))};
g.sa=function(a,b){return new dD(this.parent,this.fc,this.Mb,this.indent,this.ac,this.bc,this.prefix,this.ec,this.suffix,this.cc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function eD(a,b){for(b=Jr.aa(b);;){if(null==b)return!1;if(a===b)return!0;b=Jr.aa(b)}}function fD(a,b,c,d,e,f,h,k){this.Ha=a;this.data=b;this.Qc=c;this.Ga=d;this.Fa=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=fD.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "data":return this.data;case "trailing-white-space":return this.Qc;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[hn,this.data],null),new S(null,2,5,T,[Op,this.Qc],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[Km,hn,Op,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1809113693^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.data,b.data)&&D.j(this.Qc,b.Qc)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[Eu,null,Op,null,Km,null,Vp,null,hn,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new fD(this.Ha,this.data,this.Qc,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new fD(c,this.data,this.Qc,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(hn,b):V.call(null,hn,b))?new fD(this.Ha,c,this.Qc,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Op,b):V.call(null,Op,b))?new fD(this.Ha,this.data,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new fD(this.Ha,this.data,this.Qc,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new fD(this.Ha,this.data,this.Qc,this.Ga,
c,this.ea,this.ca,null):new fD(this.Ha,this.data,this.Qc,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(Km,this.Ha),new Y(hn,this.data),new Y(Op,this.Qc),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new fD(this.Ha,this.data,this.Qc,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function gD(a,b,c,d,e,f,h,k){this.Ha=a;this.type=b;this.Na=c;this.Ga=d;this.Fa=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=gD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "type":return this.type;case "logical-block":return this.Na;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[pq,this.type],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};
g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[Km,pq,rr,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1640656800^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.type,b.type)&&D.j(this.Na,b.Na)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[Eu,null,pq,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new gD(this.Ha,this.type,this.Na,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new gD(c,this.type,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(pq,b):V.call(null,pq,b))?new gD(this.Ha,c,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new gD(this.Ha,this.type,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new gD(this.Ha,this.type,this.Na,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new gD(this.Ha,this.type,this.Na,this.Ga,
c,this.ea,this.ca,null):new gD(this.Ha,this.type,this.Na,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(Km,this.Ha),new Y(pq,this.type),new Y(rr,this.Na),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new gD(this.Ha,this.type,this.Na,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function hD(a,b,c,d,e,f,h){this.Ha=a;this.Na=b;this.Ga=c;this.Fa=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=hD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "logical-block":return this.Na;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};
g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Km,rr,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-414877272^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.Na,b.Na)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[Eu,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new hD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new hD(c,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new hD(this.Ha,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new hD(this.Ha,this.Na,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new hD(this.Ha,this.Na,this.Ga,c,this.ea,this.ca,null):new hD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Km,this.Ha),new Y(rr,this.Na),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new hD(this.Ha,this.Na,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function iD(a,b,c,d,e,f,h){this.Ha=a;this.Na=b;this.Ga=c;this.Fa=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=iD.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "logical-block":return this.Na;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Km,rr,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1365867980^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.Na,b.Na)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[Eu,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new iD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new iD(c,this.Na,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new iD(this.Ha,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new iD(this.Ha,this.Na,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new iD(this.Ha,this.Na,this.Ga,c,this.ea,this.ca,null):new iD(this.Ha,this.Na,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Km,this.Ha),new Y(rr,this.Na),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};g.sa=function(a,b){return new iD(this.Ha,this.Na,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function jD(a,b,c,d,e,f,h,k,m){this.Ha=a;this.Na=b;this.Ec=c;this.offset=d;this.Ga=e;this.Fa=f;this.ea=h;this.ca=k;this.fa=m;this.ga=2230716170;this.la=139264}g=jD.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type-tag":return this.Ha;case "logical-block":return this.Na;case "relative-to":return this.Ec;case "offset":return this.offset;case "start-pos":return this.Ga;case "end-pos":return this.Fa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,W.j(new S(null,6,5,T,[new S(null,2,5,T,[Km,this.Ha],null),new S(null,2,5,T,[rr,this.Na],null),new S(null,2,5,T,[wx,this.Ec],null),new S(null,2,5,T,[pu,this.offset],null),new S(null,2,5,T,[Vp,this.Ga],null),new S(null,2,5,T,[Eu,this.Fa],null)],null),this.ca))};g.Ba=function(){return new rj(this,6,new S(null,6,5,T,[Km,rr,wx,pu,Vp,Eu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 6+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1602780238^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ha,b.Ha)&&D.j(this.Na,b.Na)&&D.j(this.Ec,b.Ec)&&D.j(this.offset,b.offset)&&D.j(this.Ga,b.Ga)&&D.j(this.Fa,b.Fa)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,6,[pu,null,Eu,null,wx,null,rr,null,Km,null,Vp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,this.Fa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Km,b):V.call(null,Km,b))?new jD(c,this.Na,this.Ec,this.offset,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(rr,b):V.call(null,rr,b))?new jD(this.Ha,c,this.Ec,this.offset,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(wx,b):V.call(null,wx,b))?new jD(this.Ha,this.Na,c,this.offset,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(pu,b):V.call(null,pu,b))?new jD(this.Ha,this.Na,this.Ec,c,this.Ga,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Vp,b):V.call(null,Vp,b))?new jD(this.Ha,
this.Na,this.Ec,this.offset,c,this.Fa,this.ea,this.ca,null):q(V.j?V.j(Eu,b):V.call(null,Eu,b))?new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,c,this.ea,this.ca,null):new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,this.Fa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,6,5,T,[new Y(Km,this.Ha),new Y(rr,this.Na),new Y(wx,this.Ec),new Y(pu,this.offset),new Y(Vp,this.Ga),new Y(Eu,this.Fa)],null),this.ca))};
g.sa=function(a,b){return new jD(this.Ha,this.Na,this.Ec,this.offset,this.Ga,this.Fa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};var kD=function(){var a=Uh(X),b=Uh(X),c=Uh(X),d=Uh(X),e=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));return new pm(ze.j(ba,"write-token"),function(f,h){return Km.aa(h)},e,a,b,c,d)}();
kD.wb(null,Xm,function(a,b){var c=JA.aa(y(y(a)));q(c)&&(c.aa?c.aa(Hn):c.call(null,Hn));b=rr.aa(b);c=Rp.aa(b);q(c)&&Jd(Jp.aa(y(y(a))),c);a=$C(Jp.aa(y(y(a))),Ks);Vh(Er.aa(b),a);return Vh(tB.aa(b),a)});kD.wb(null,FB,function(a,b){var c=JA.aa(y(y(a)));q(c)&&(c.aa?c.aa(fx):c.call(null,fx));b=Sz.aa(rr.aa(b));return q(b)?Jd(Jp.aa(y(y(a))),b):null});
kD.wb(null,Ow,function(a,b){var c=rr.aa(b),d=tB.aa(c),e=pu.aa(b);b=wx.aa(b);if(q(D.j?D.j(au,b):D.call(null,au,b)))a=y(Er.aa(c));else if(q(D.j?D.j(Br,b):D.call(null,Br,b)))a=$C(Jp.aa(y(y(a))),Ks);else throw Error(["No matching clause: ",t.aa(b)].join(""));return Vh(d,e+a)});kD.wb(null,lx,function(a,b){return Jd(Jp.aa(y(y(a))),hn.aa(b))});
kD.wb(null,Kx,function(a,b){var c=(c=D.j(pq.aa(b),Yn))?c:D.j(pq.aa(b),Ht)?!1:y(vn.aa(rr.aa(b)));q(c)?lD.j?lD.j(a,b):lD.call(null,a,b):(b=Op.aa(y(y(a))),q(b)&&Jd(Jp.aa(y(y(a))),b));return Wh.ja(y(a),Q,Op,null)});
function mD(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);if(!D.j(Km.aa(h),Kx)){var k=Op.aa(y(y(a)));q(k)&&Jd(Jp.aa(y(y(a))),k)}kD.j(a,h);Wh.ja(y(a),Q,Op,Op.aa(h));h=Op.aa(y(y(a)));q(q(c)?h:c)&&(Jd(Jp.aa(y(y(a))),h),Wh.ja(y(a),Q,Op,null));f+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),h=d,e=K(d),d=h):(h=H(b),D.j(Km.aa(h),Kx)||(d=Op.aa(y(y(a))),q(d)&&Jd(Jp.aa(y(y(a))),d)),kD.j(a,h),Wh.ja(y(a),Q,Op,Op.aa(h)),h=Op.aa(y(y(a))),q(q(c)?h:c)&&(Jd(Jp.aa(y(y(a))),h),Wh.ja(y(a),Q,Op,null)),
b=J(b),d=null,e=0),f=0;else break}function nD(a,b){var c=$C(Jp.aa(y(y(a))),ny),d;(d=null==c)||(a=$C(Jp.aa(y(y(a))),Ks),b=(b=E(b))?Eu.aa(of(b))-Vp.aa(H(b)):0,d=a+b<c);return d}function oD(a,b,c){b=y(vn.aa(b));return q(b)?b:!nD(a,c)}function pD(a,b,c){var d=Cy.aa(y(y(a))),e=$C(Jp.aa(y(y(a))),ny);return q(d)?q(e)?y(Er.aa(b))>=e-d?oD(a,b,c):!1:e:d}
var qD=function(){var a=Uh(X),b=Uh(X),c=Uh(X),d=Uh(X),e=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));return new pm(ze.j(ba,"emit-nl?"),function(f){return pq.aa(f)},e,a,b,c,d)}();qD.wb(null,hv,function(a,b,c){a=rr.aa(a);return oD(b,a,c)});qD.wb(null,tz,function(a,b,c){a=rr.aa(a);return pD(b,a,c)});qD.wb(null,Ht,function(a,b,c,d){a=rr.aa(a);var e=y(Tq.aa(a));return q(e)?e:(d=!nD(b,d))?d:pD(b,a,c)});qD.wb(null,Yn,function(){return!0});
function rD(a){var b=H(a),c=rr.aa(b);b=E(Tk(function(d){return!(D.j(Km.aa(d),Kx)&&eD(rr.aa(d),c))},J(a)));return new S(null,2,5,T,[b,E(ei(K(b)+1,a))],null)}function sD(a){var b=H(a),c=rr.aa(b);return E(Tk(function(d){var e=rr.aa(d);return!(D.j(Km.aa(d),Kx)&&(D.j(e,c)||eD(e,c)))},J(a)))}
function lD(a,b){Jd(Jp.aa(y(y(a))),"\n");Wh.ja(y(a),Q,Op,null);b=rr.aa(b);var c=Zm.aa(b);q(c)&&Jd(Jp.aa(y(y(a))),c);c=yh(t,ji(y(tB.aa(b))-K(c)," "));Jd(Jp.aa(y(y(a))),c);a:for(Vh(Tq.aa(b),!0),Vh(vn.aa(b),!0),a=Jr.aa(b);;)if(q(a))Vh(vn.aa(a),!0),Vh(Tq.aa(a),!0),a=Jr.aa(a);else break a;return null}function tD(a){var b=E(Tk(function(c){return!D.j(Km.aa(c),Kx)},a));return new S(null,2,5,T,[b,E(ei(K(b),a))],null)}
var uD=function uD(a,b){var d=tD(b);b=P(d,0,null);var e=P(d,1,null);q(b)&&mD(a,b,!1);if(q(e)){d=rD(e);b=P(d,0,null);d=P(d,1,null);var f=H(e),h=qD.ja(f,a,b,sD(e));q(h)&&(lD(a,f),e=J(e));nD(a,e)?a=e:(e=uD.j?uD.j(a,b):uD.call(null,a,b),D.j(e,b)?(mD(a,b,!1),a=d):a=si.j(qf,W.j(e,d)));return a}return null};function vD(a){for(var b=$z.aa(y(y(a)));;){Wh.ja(y(a),Q,$z,si.j(qf,b));if(nD(a,b))return null;var c=uD(a,b);if(b!==c)b=c;else return null}}
function wD(a,b){Wh.ja(y(a),Q,$z,pf.j($z.aa(y(y(a))),b));return nD(a,$z.aa(y(y(a))))?null:vD(a)}function xD(a){var b=Op.aa(y(y(a)));return q(b)?(Jd(Jp.aa(y(y(a))),b),Wh.ja(y(a),Q,Op,null)):null}
function yD(a,b){var c=UB(b,"\n",-1);if(D.j(K(c),1))return b;b=Zm.aa(H(kr.aa(y(y(a)))));var d=H(c);if(D.j(So,ky.aa(y(y(a))))){var e=Ts.aa(y(y(a))),f=e+K(d);Wh.ja(y(a),Q,Ts,f);wD(a,new fD(lx,d,null,e,f,null,null,null));vD(a);d=$z.aa(y(y(a)));q(d)&&(mD(a,d,!0),Wh.ja(y(a),Q,$z,qf))}else xD(a),Jd(Jp.aa(y(y(a))),d);Jd(Jp.aa(y(y(a))),"\n");d=E(J(Ok(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.La(null,h);Jd(Jp.aa(y(y(a))),k);Jd(Jp.aa(y(y(a))),"\n");q(b)&&Jd(Jp.aa(y(y(a))),b);h+=1}else if(d=E(d))e=d,If(e)?
(d=ae(e),h=be(e),e=d,f=K(d),d=h):(d=H(e),Jd(Jp.aa(y(y(a))),d),Jd(Jp.aa(y(y(a))),"\n"),q(b)&&Jd(Jp.aa(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Wh.ja(y(a),Q,So,Cr);return of(c)}
function zD(a){var b=AD,c=BD,d=new dD(null,null,Uh(0),Uh(0),Uh(!1),Uh(!1),null,null,null,null,null,null,null),e=Uh(gk([kr,Cy,Bs,mt,nv,ky,Ts,Op,Jp,ut,$z],[d,c,d,!0,null,Cr,0,null,cD(a,b),1,qf]));if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof MC)MC=function(f,h,k,m,n,r){this.lb=f;this.Vf=h;this.oi=k;this.Th=m;this.fields=n;this.ai=r;this.ga=1074167808;this.la=0},MC.prototype.sa=function(f,h){return new MC(this.lb,this.Vf,this.oi,this.Th,this.fields,h)},MC.prototype.ra=function(){return this.ai},
MC.prototype.Ib=function(){return this.fields},MC.prototype.Ld=function(f,h){f=Bc(h);if(q(D.j?D.j(String,f):D.call(null,String,f))){var k=yD(this,h);h=k.replace(/\s+$/,"");f=Sg.j(k,h.length);var m=ky.aa(y(y(this)));if(D.j(m,Cr))return xD(this),Jd(Jp.aa(y(y(this))),h),Wh.ja(y(this),Q,Op,f);m=Ts.aa(y(y(this)));k=m+K(k);Wh.ja(y(this),Q,Ts,k);return wD(this,new fD(lx,h,f,m,k,null,null,null))}if(q(D.j?D.j(Number,f):D.call(null,Number,f)))return D.j(ky.aa(y(y(this))),Cr)?(xD(this),h=Jd(Jp.aa(y(y(this))),
h)):D.j(h,"\n")?h=yD(this,"\n"):(f=Ts.aa(y(y(this))),k=f+1,Wh.ja(y(this),Q,Ts,k),h=Kg(h),h=wD(this,new fD(lx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.aa(f)].join(""));},MC.prototype.gd=function(){this.Mf(null);return Kd(Jp.aa(y(y(this))))},MC.prototype.Mf=function(){return D.j(ky.aa(y(y(this))),So)?(mD(this,$z.aa(y(y(this))),!0),Wh.ja(y(this),Q,$z,qf)):xD(this)},MC.$b=!0,MC.Kb="cljs.pprint/t_cljs$pprint21965",MC.kc=function(f){return Jd(f,"cljs.pprint/t_cljs$pprint21965")};
return new MC(a,b,c,d,e,X)}function CD(a,b){var c=ic;b=new dD(kr.aa(y(y(c))),null,Uh(0),Uh(0),Uh(!1),Uh(!1),a,null,b,null,null,null,null);Wh.ja(y(c),Q,kr,b);if(D.j(ky.aa(y(y(c))),Cr)){xD(c);var d=JA.aa(y(y(c)));q(d)&&(d.aa?d.aa(Hn):d.call(null,Hn));q(a)&&Jd(Jp.aa(y(y(c))),a);c=$C(Jp.aa(y(y(c))),Ks);Vh(b.Mb,c);Vh(b.indent,c)}else d=Ts.aa(y(y(c))),a=d+(q(a)?K(a):0),Wh.ja(y(c),Q,Ts,a),wD(c,new hD(Xm,b,d,a,null,null,null))}
function DD(){var a=ic,b=kr.aa(y(y(a))),c=Sz.aa(b);if(D.j(ky.aa(y(y(a))),Cr)){xD(a);q(c)&&Jd(Jp.aa(y(y(a))),c);var d=JA.aa(y(y(a)));q(d)&&(d.aa?d.aa(fx):d.call(null,fx))}else d=Ts.aa(y(y(a))),c=d+(q(c)?K(c):0),Wh.ja(y(a),Q,Ts,c),wD(a,new iD(FB,b,d,c,null,null,null));Wh.ja(y(a),Q,kr,Jr.aa(b))}var ED=!0,FD=null,AD=72,BD=40,GD=null,HD=null,ID=null,JD=null,KD=10,LD=0,MD=null;function ND(a){return(null!=a?a.ga&32768||l===a.xg||(a.ga?0:Ac(od,a)):Ac(od,a))?mt.aa(y(y(a))):!1}
function OD(a){var b=MD;q(b)&&(b=mc,b=q(b)?MD>=mc:b);yc(ED)?SC.call(null,a):q(b)?Jd(ic,"..."):(q(MD)&&(MD+=1),FD.call(null,a));return b}var PD=function PD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return PD.da(arguments[0],c)};
PD.da=function(a,b){var c=Ek.da(M([new p(null,1,[mB,!0],null),yh(zk,b)]));b=KD;var d=HD,e=mc,f=nc,h=GD,k=BD,m=FD,n=ED,r=JD,u=lc,w=AD,A=ID,G=Jp.j(c,KD),I=Dn.j(c,HD),F=bo.j(c,mc),N=Im.j(c,nc),O=ov.j(c,GD),U=Cy.j(c,BD),ea=Xy.j(c,FD),va=st.j(c,ED),wa=Nt.j(c,JD),xa=qc.j(c,lc),Ra=gp.j(c,AD),ka=Gr.j(c,ID);KD=G;HD=I;mc=F;nc=N;GD=O;BD=U;FD=ea;ED=va;JD=wa;lc=xa;AD=Ra;ID=ka;try{var oa=new dc,Ca=Pf(c,mB)?mB.aa(c):!0,ua=!0===Ca||null==Ca?new ke(oa):Ca;if(q(ED)){var Ba=yc(ND(ua));c=ic;ic=Ba?zD(ua):ua;try{OD(a),
ZC()}finally{ic=c}}else{Ba=ic;ic=ua;try{SC.call(null,a)}finally{ic=Ba}}!0===Ca&&ll(t.aa(oa));return null==Ca?t.aa(oa):null}finally{ID=A,AD=w,lc=u,JD=r,ED=n,FD=m,BD=k,GD=h,nc=f,mc=e,HD=d,KD=b}};PD.na=1;PD.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};
function QD(){var a=new S(null,6,5,T,[ag,new S(null,2,5,T,[bg(cg,dg,new S(null,1,5,T,[eg],null)),hg],null),ig,jg,kg,new S(null,2,5,T,[dg,lg],null)],null);var b=y(og);a=pg.j?pg.j(a,b):pg.call(null,a,b);b=new dc;var c=ic;ic=new ke(b);try{var d=ic,e=yc(ND(d)),f=ic;ic=e?zD(d):d;try{e=ED;ED=!0;try{OD(a)}finally{ED=e}D.j(0,$C(ic,Ks))||Jd(ic,"\n");ZC()}finally{ic=f}ll(t.aa(b))}finally{ic=c}}
function RD(a,b){if(yc(b.aa?b.aa(a):b.call(null,a)))throw Error(["Bad argument: ",t.aa(a),". It must be one of ",t.aa(b)].join(""));}function SD(){var a=nc;return q(a)?LD>=nc:a}function TD(a){RD(a,new Jk(null,new p(null,4,[Yn,null,tz,null,Ht,null,hv,null],null),null));var b=ic;Wh.ja(y(b),Q,ky,So);var c=Ts.aa(y(y(b))),d=kr.aa(y(y(b)));wD(b,new gD(Kx,a,d,c,c,null,null,null))}
function UD(a,b){RD(a,new Jk(null,new p(null,2,[au,null,Br,null],null),null));var c=ic,d=kr.aa(y(y(c)));if(D.j(ky.aa(y(y(c))),Cr)){xD(c);var e=tB.aa(d);if(q(D.j?D.j(au,a):D.call(null,au,a)))a=y(Er.aa(d));else if(q(D.j?D.j(Br,a):D.call(null,Br,a)))a=$C(Jp.aa(y(y(c))),Ks);else throw Error(["No matching clause: ",t.aa(a)].join(""));Vh(e,b+a)}else e=Ts.aa(y(y(c))),wD(c,new jD(Ow,d,a,b,e,e,null,null,null))}
function VD(a,b,c){b="string"===typeof b?WD(b):b;c=XD(c);a:{var d=new dc,e=yc(a)||!0===a?new ke(d):a,f=YD(b)&&yc(ND(e))?q(ND(e))?e:zD(e):e,h=ic;ic=f;try{try{ZD(b,c)}finally{e!==f&&Kd(f)}var k=yc(a)?t.aa(d):!0===a?ll(t.aa(d)):null;break a}finally{ic=h}k=void 0}return k}var $D=null;function aE(a,b){a=[t.aa(a),"\n",t.aa($D),"\n",t.aa(yh(t,ji(b," "))),"^\n"].join("");throw Error(a);}
function bE(a,b,c,d,e,f){this.nd=a;this.rest=b;this.pos=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=bE.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "seq":return this.nd;case "rest":return this.rest;case "pos":return this.pos;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[vp,this.nd],null),new S(null,2,5,T,[mu,this.rest],null),new S(null,2,5,T,[Ts,this.pos],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[vp,mu,Ts],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-402038447^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.nd,b.nd)&&D.j(this.rest,b.rest)&&D.j(this.pos,b.pos)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Ts,null,vp,null,mu,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new bE(this.nd,this.rest,this.pos,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(vp,b):V.call(null,vp,b))?new bE(c,this.rest,this.pos,this.ea,this.ca,null):q(V.j?V.j(mu,b):V.call(null,mu,b))?new bE(this.nd,c,this.pos,this.ea,this.ca,null):q(V.j?V.j(Ts,b):V.call(null,Ts,b))?new bE(this.nd,this.rest,c,this.ea,this.ca,null):new bE(this.nd,this.rest,this.pos,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(vp,this.nd),new Y(mu,this.rest),new Y(Ts,this.pos)],null),this.ca))};
g.sa=function(a,b){return new bE(this.nd,this.rest,this.pos,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function XD(a){a=E(a);return new bE(a,a,0,null,null,null)}function cE(a){var b=mu.aa(a);if(q(b))return new S(null,2,5,T,[H(b),new bE(vp.aa(a),J(b),Ts.aa(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function dE(a){var b=cE(a);a=P(b,0,null);b=P(b,1,null);a="string"===typeof a?WD(a):a;return new S(null,2,5,T,[a,b],null)}function eE(a,b){return b>=Ts.aa(a)?(b=Ts.aa(a)-b,fE.j?fE.j(a,b):fE.call(null,a,b)):new bE(vp.aa(a),ei(b,vp.aa(a)),b,null,null,null)}function fE(a,b){var c=Ts.aa(a)+b;return 0>b?eE(a,c):new bE(vp.aa(a),ei(b,mu.aa(a)),c,null,null,null)}function gE(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=gE.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Kw,this.func],null),new S(null,2,5,T,[Go,this.def],null),new S(null,2,5,T,[eu,this.params],null),new S(null,2,5,T,[pu,this.offset],null)],null),this.ca))};g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Kw,Go,eu,pu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-829256337^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.func,b.func)&&D.j(this.def,b.def)&&D.j(this.params,b.params)&&D.j(this.offset,b.offset)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[pu,null,Kw,null,eu,null,Go,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new gE(this.func,this.def,this.params,this.offset,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Kw,b):V.call(null,Kw,b))?new gE(c,this.def,this.params,this.offset,this.ea,this.ca,null):q(V.j?V.j(Go,b):V.call(null,Go,b))?new gE(this.func,c,this.params,this.offset,this.ea,this.ca,null):q(V.j?V.j(eu,b):V.call(null,eu,b))?new gE(this.func,this.def,c,this.offset,this.ea,this.ca,null):q(V.j?V.j(pu,b):V.call(null,pu,b))?new gE(this.func,this.def,this.params,c,this.ea,this.ca,null):new gE(this.func,this.def,this.params,this.offset,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Kw,this.func),new Y(Go,this.def),new Y(eu,this.params),new Y(pu,this.offset)],null),this.ca))};g.sa=function(a,b){return new gE(this.func,this.def,this.params,this.offset,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function hE(a,b){var c=P(a,0,null);a=P(a,1,null);var d=P(a,0,null);a=P(a,1,null);d=Pf(new Jk(null,new p(null,2,[qv,null,Uy,null],null),null),c)?new S(null,2,5,T,[d,b],null):D.j(d,sz)?cE(b):D.j(d,Ds)?new S(null,2,5,T,[K(mu.aa(b)),b],null):new S(null,2,5,T,[d,b],null);b=P(d,0,null);d=P(d,1,null);return new S(null,2,5,T,[new S(null,2,5,T,[c,new S(null,2,5,T,[b,a],null)],null),d],null)}function iE(a,b){b=VC(hE,b,a);a=P(b,0,null);b=P(b,1,null);return new S(null,2,5,T,[si.j(X,a),b],null)}
var jE=new p(null,3,[2,"#b",8,"#o",16,"#x"],null);function kE(a){return Of(a)?D.j(KD,10)?[t.aa(a),q(JD)?".":null].join(""):[t.aa(q(JD)?function(){var b=B.j(jE,KD);return q(b)?b:["#",t.aa(KD),"r"].join("")}():null),t.aa(lE(KD,a))].join(""):null}
function mE(a,b,c){c=cE(c);var d=P(c,0,null);c=P(c,1,null);var e=kE(d);a=q(e)?e:a.aa?a.aa(d):a.call(null,d);d=a.length;e=d+yv.aa(b);e=e>=UA.aa(b)?e:e+(Ng(UA.aa(b)-e-1,nr.aa(b))+1)*nr.aa(b);d=yh(t,ji(e-d,qs.aa(b)));q(Uy.aa(b))?RC.da(M([[t.aa(d),t.aa(a)].join("")])):RC.da(M([[t.aa(a),t.aa(d)].join("")]));return c}function nE(a,b){return Vg(H(WC(function(c){return 0<c?new S(null,2,5,T,[Pg(c,a),Ng(c,a)],null):new S(null,2,5,T,[null,null],null)},b)))}
function lE(a,b){return 0===b?"0":yh(t,ci.j(function(c){return 10>c?Kg(UC("0")+c):Kg(UC("a")+(c-10))},nE(a,b)))}function oE(a,b){return Vg(H(WC(function(c){return new S(null,2,5,T,[E(Vg(di.j(a,c))),E(ei(a,c))],null)},Vg(b))))}
function pE(a,b,c){c=cE(c);var d=P(c,0,null);c=P(c,1,null);if(Of(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.j(d,Math.floor(d))){var e=0>d,f=lE(a,e?-d:d);a=q(qv.aa(b))?function(){var h=ci.j(function(m){return yh(t,m)},oE(at.aa(b),f)),k=ji(K(h),ru.aa(b));return yh(t,J(mi.j(k,h)))}():f;a=e?["-",t.aa(a)].join(""):q(Uy.aa(b))?["+",t.aa(a)].join(""):a;a=a.length<UA.aa(b)?[t.aa(yh(t,ji(UA.aa(b)-a.length,qs.aa(b)))),t.aa(a)].join(""):a;RC.da(M([a]))}else mE(zl,new p(null,
5,[UA,UA.aa(b),nr,1,yv,0,qs,qs.aa(b),Uy,!0],null),XD(new S(null,1,5,T,[d],null)));return c}
var qE=new S(null,20,5,T,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),rE=new S(null,20,5,T,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),sE=new S(null,10,5,T,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),tE=new S(null,10,5,T,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),uE=new S(null,22,5,T," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function vE(a){var b=Ng(a,100),c=Pg(a,100);return[0<b?[t.aa(bf(qE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.aa(0<c?20>c?bf(qE,c):function(){var d=Ng(c,10),e=Pg(c,10);return[t.aa(0<d?bf(sE,d):null),0<d&&0<e?"-":null,t.aa(0<e?bf(qE,e):null)].join("")}():null)].join("")}
function wE(a,b){var c=K(a),d=qf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.aa(yh(t,ei(1,mi.j(ii(", "),d)))),Bf(e)||Bf(d)?null:", ",t.aa(e),!Bf(e)&&0<c+b?[" ",t.aa(bf(uE,c+b))].join(""):null].join("");d=Bf(e)?d:pf.j(d,[t.aa(e)," ",t.aa(bf(uE,c+b))].join(""));--c;e=H(a);a=J(a)}}
function xE(a){var b=Ng(a,100),c=Pg(a,100);return[0<b?[t.aa(bf(qE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.aa(0<c?20>c?bf(rE,c):function(){var d=Ng(c,10),e=Pg(c,10);return 0<d&&!(0<e)?bf(tE,d):[t.aa(0<d?bf(sE,d):null),0<d&&0<e?"-":null,t.aa(0<e?bf(rE,e):null)].join("")}():0<b?"th":null)].join("")}
var yE=new S(null,4,5,T,[new S(null,9,5,T,"I II III IIII V VI VII VIII VIIII".split(" "),null),new S(null,9,5,T,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new S(null,9,5,T,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new S(null,3,5,T,["M","MM","MMM"],null)],null),zE=new S(null,4,5,T,[new S(null,9,5,T,"I II III IV V VI VII VIII IX".split(" "),null),new S(null,9,5,T,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new S(null,9,5,T,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new S(null,
3,5,T,["M","MM","MMM"],null)],null);function AE(a,b){b=cE(b);var c=P(b,0,null);b=P(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=nE(10,c);c=qf;for(var e=K(d)-1;;)if(Bf(d)){RC.da(M([yh(t,c)]));break}else{var f=H(d);c=D.j(0,f)?c:pf.j(c,bf(bf(a,e),f-1));--e;d=J(d)}}else pE(10,new p(null,5,[UA,0,qs," ",ru,",",at,3,qv,!0],null),XD(new S(null,1,5,T,[c],null)));return b}var BE=new p(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function CE(a,b){a=cE(b);b=P(a,0,null);a=P(a,1,null);var c=UC(b);b=c&127;c&=128;var d=B.j(BE,b);0<c&&RC.da(M(["Meta-"]));RC.da(M([q(d)?d:32>b?["Control-",t.aa(Kg(b+64))].join(""):D.j(b,127)?"Control-?":Kg(b)]));return a}
function DE(a,b){var c=cE(b);b=P(c,0,null);c=P(c,1,null);a=hy.aa(a);if(q(D.j?D.j("o",a):D.call(null,"o",a)))VD(!0,"\\o~3, '0o",M([UC(b)]));else if(q(D.j?D.j("u",a):D.call(null,"u",a)))VD(!0,"\\u~4, '0x",M([UC(b)]));else if(q(D.j?D.j(null,a):D.call(null,null,a)))Jd(ic,q(D.j?D.j("\b",b):D.call(null,"\b",b))?"\\backspace":q(D.j?D.j(" ",b):D.call(null," ",b))?"\\space":q(D.j?D.j("\t",b):D.call(null,"\t",b))?"\\tab":q(D.j?D.j("\n",b):D.call(null,"\n",b))?"\\newline":q(D.j?D.j("\f",b):D.call(null,"\f",
b))?"\\formfeed":q(D.j?D.j("\r",b):D.call(null,"\r",b))?"\\return":q(D.j?D.j('"',b):D.call(null,'"',b))?'\\"':q(D.j?D.j("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.aa(b)].join(""));else throw Error(["No matching clause: ",t.aa(a)].join(""));return c}function EE(a,b){b=cE(b);a=P(b,0,null);b=P(b,1,null);RC.da(M([a]));return b}function FE(a){a=H(a);return D.j(CA,a)||D.j(px,a)}
function GE(a,b,c){return mf(VC(function(d,e){if(FE(e))return new S(null,2,5,T,[null,e],null);e=iE(eu.aa(d),e);var f=P(e,0,null);e=P(e,1,null);var h=XC(f);f=P(h,0,null);h=P(h,1,null);f=Q.ba(f,wo,c);return new S(null,2,5,T,[null,yh(Kw.aa(d),new S(null,3,5,T,[f,e,h],null))],null)},b,a))}
function HE(a){a=t.aa(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new S(null,2,5,T,[a,t.aa(a.length-1)],null):new S(null,2,5,T,[[Sg.ba(a,0,c),Sg.j(a,c+1)].join(""),t.aa(c-1)],null):0>c?new S(null,2,5,T,[Sg.ba(a,0,b),Sg.j(a,b+1)],null):new S(null,2,5,T,[[Sg.ba(a,0,1),Sg.ba(a,2,b)].join(""),Sg.j(a,b+1)],null);b=P(a,0,null);a=P(a,1,null);a:if(c=K(b),0<c&&D.j(bf(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.j(bf(b,c),"0"))--c;else{b=Sg.ba(b,0,c+1);break a}}a:{c=b;var d=K(c);
if(0<d&&D.j(bf(c,0),"0"))for(var e=0;;){if(D.j(e,d)||!D.j(bf(c,e),"0")){c=Sg.j(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&D.j(bf(a,0),"+")?Sg.j(a,1):a;return Bf(c)?new S(null,2,5,T,["0",0],null):new S(null,2,5,T,[c,parseInt(a,10)-b],null)}
function IE(a,b,c,d){if(q(q(c)?c:d)){var e=K(a);d=q(d)?2>d?2:d:0;q(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.j(c,0)?new S(null,4,5,T,[["0",t.aa(a)].join(""),b+1,1,e+1],null):new S(null,4,5,T,[a,b,c,e],null);c=P(f,0,null);e=P(f,1,null);d=P(f,2,null);f=P(f,3,null);if(q(d)){if(0>d)return new S(null,3,5,T,["0",0,!1],null);if(f>d){b=bf(c,d);a=Sg.ba(c,0,d);if(UC(b)>=UC("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=zh(t,"1",ji(b+1,"0"));break a}if(D.j("9",a.charAt(c)))--c;else{b=Ah(t,Sg.ba(a,0,c),Kg(UC(a.charAt(c))+
1),ji(b-c,"0"));break a}}a=K(b)>a.length;return new S(null,3,5,T,[a?Sg.ba(b,0,K(b)-1):b,e,a],null)}return new S(null,3,5,T,[a,e,!1],null)}}}return new S(null,3,5,T,[a,b,!1],null)}
function JE(a,b,c){var d=0>b?new S(null,2,5,T,[[t.aa(yh(t,ji(-b-1,"0"))),t.aa(a)].join(""),-1],null):new S(null,2,5,T,[a,b],null);a=P(d,0,null);var e=P(d,1,null);d=K(a);c=q(c)?e+c+1:e+1;c=d<c?[t.aa(a),t.aa(yh(t,ji(c-d,"0")))].join(""):a;0>b?b=[".",t.aa(c)].join(""):(b+=1,b=[Sg.ba(c,0,b),".",Sg.j(c,b)].join(""));return b}function KE(a,b){return 0>b?[".",t.aa(a)].join(""):[Sg.ba(a,0,b),".",Sg.j(a,b)].join("")}
function LE(a,b){var c=Bw.aa(a),d=ww.aa(a);b=cE(b);var e=P(b,0,null);b=P(b,1,null);var f=0>e?new S(null,2,5,T,["-",-e],null):new S(null,2,5,T,["+",e],null),h=P(f,0,null);f=P(f,1,null);f=HE(f);var k=P(f,0,null),m=P(f,1,null)+qw.aa(a);f=Uy.aa(a);e=q(f)?f:0>e;f=yc(d)&&K(k)-1<=m;var n=IE(k,m,d,q(c)?c-(q(e)?1:0):null);k=P(n,0,null);m=P(n,1,null);n=P(n,2,null);k=JE(k,q(n)?m+1:m,d);d=q(q(c)?q(d)?1<=d&&D.j(k.charAt(0),"0")&&D.j(k.charAt(1),".")&&k.length>c-(q(e)?1:0):d:c)?Sg.j(k,1):k;m=D.j(H(d),".");q(c)?
(k=d.length,k=q(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,q(k>c?NA.aa(a):!1)?RC.da(M([yh(t,ji(c,NA.aa(a)))])):RC.da(M([[t.aa(yh(t,ji(c-k,qs.aa(a)))),t.aa(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):RC.da(M([[t.aa(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function ME(a,b){b=cE(b);var c=P(b,0,null);b=P(b,1,null);var d=HE(0>c?-c:c);P(d,0,null);for(P(d,1,null);;){var e=P(d,0,null),f=P(d,1,null),h=Bw.aa(a),k=ww.aa(a),m=tw.aa(a),n=qw.aa(a),r=function(){var F=lp.aa(a);return q(F)?F:"E"}();d=function(){var F=Uy.aa(a);return q(F)?F:0>c}();var u=0>=n,w=f-(n-1),A=t.aa(Math.abs(w));r=[t.aa(r),0>w?"-":"+",t.aa(q(m)?yh(t,ji(m-A.length,"0")):null),A].join("");var G=r.length;w=K(e);e=[t.aa(yh(t,ji(-n,"0"))),t.aa(e),t.aa(q(k)?yh(t,ji(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=q(h)?h-G:null;e=IE(e,0,D.j(n,0)?k-1:0<n?k:0>n?k-1:null,q(w)?w-(q(d)?1:0):null);w=P(e,0,null);P(e,1,null);A=P(e,2,null);e=KE(w,n);k=D.j(n,K(w))&&null==k;if(yc(A)){if(q(h)){f=e.length+G;f=q(d)?f+1:f;var I=(u=u&&!D.j(f,h))?f+1:f;f=k&&I<h;q(function(){var F=I>h;F||(F=m,F=q(F)?G-2>m:F);return q(F)?NA.aa(a):F}())?RC.da(M([yh(t,ji(h,NA.aa(a)))])):RC.da(M([[t.aa(yh(t,ji(h-I-(f?1:0),qs.aa(a)))),q(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,r].join("")]))}else RC.da(M([[q(d)?0>c?"-":"+":null,u?"0":null,e,
k?"0":null,r].join("")]));break}else d=new S(null,2,5,T,[w,f+1],null)}return b}function NE(a,b,c){var d=cE(b),e=P(d,0,null);P(d,1,null);d=HE(0>e?-e:e);var f=P(d,0,null);d=P(d,1,null);var h=Bw.aa(a),k=ww.aa(a),m=tw.aa(a);d=D.j(e,0)?0:d+1;e=q(m)?m+2:4;h=q(h)?h-e:null;q(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=LE(new p(null,6,[Bw,h,ww,d,qw,0,NA,NA.aa(a),qs,qs.aa(a),Uy,Uy.aa(a)],null),b,c),RC.da(M([yh(t,ji(e," "))])),a):ME(a,b,c)}
function OE(a,b){b=cE(b);var c=P(b,0,null);b=P(b,1,null);var d=HE(Math.abs(c)),e=P(d,0,null),f=P(d,1,null),h=ww.aa(a),k=Iw.aa(a);d=Bw.aa(a);var m=function(){var r=Uy.aa(a);return q(r)?r:0>c}(),n=IE(e,f,h,null);e=P(n,0,null);f=P(n,1,null);n=P(n,2,null);h=JE(e,q(n)?f+1:f,h);k=[t.aa(yh(t,ji(k-h.indexOf("."),"0"))),h].join("");h=k.length+(q(m)?1:0);RC.da(M([[q(function(){var r=qv.aa(a);return q(r)?m:r}())?0>c?"-":"+":null,t.aa(yh(t,ji(d-h,qs.aa(a)))),q(yc(qv.aa(a))?m:!1)?0>c?"-":"+":null,k].join("")]));
return b}function PE(a,b){var c=qz.aa(a);c=q(c)?new S(null,2,5,T,[c,b],null):cE(b);b=P(c,0,null);c=P(c,1,null);var d=xy.aa(a);b=0>b||b>=K(d)?H(bu.aa(a)):bf(d,b);return q(b)?GE(b,c,wo.aa(a)):c}function QE(a,b){var c=cE(b);b=P(c,0,null);c=P(c,1,null);var d=xy.aa(a);b=q(b)?mf(d):H(d);return q(b)?GE(b,c,wo.aa(a)):c}function RE(a,b){var c=cE(b),d=P(c,0,null);c=P(c,1,null);var e=xy.aa(a);e=q(d)?H(e):null;return q(d)?q(e)?GE(e,b,wo.aa(a)):b:c}
function SE(a,b){var c=eB.aa(a),d=H(xy.aa(a));d=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=cE(d);var e=P(d,0,null);d=P(d,1,null);var f=0;e=XD(e);for(var h=-1;;){if(yc(c)&&D.j(Ts.aa(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=Bf(mu.aa(e))&&(yc(qv.aa(Up.aa(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=GE(b,e,wo.aa(a));if(D.j(CA,H(h)))return d;f+=1;var k=Ts.aa(e);e=h;h=k}}
function TE(a,b){var c=eB.aa(a),d=H(xy.aa(a));d=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=cE(d);var e=P(d,0,null);d=P(d,1,null);for(var f=0;;){var h=Bf(e)&&(yc(qv.aa(Up.aa(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=GE(b,XD(H(e)),XD(J(e)));if(D.j(px,H(h)))return d;f+=1;e=J(e)}}
function UE(a,b){var c=eB.aa(a),d=H(xy.aa(a)),e=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(e,0,null);d=0;e=P(e,1,null);for(var f=-1;;){if(yc(c)&&D.j(Ts.aa(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Bf(mu.aa(e))&&(yc(qv.aa(Up.aa(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=GE(b,e,wo.aa(a));if(D.j(CA,H(f)))return mf(f);d+=1;var h=Ts.aa(e);e=f;f=h}}
function VE(a,b){var c=eB.aa(a),d=H(xy.aa(a)),e=Bf(d)?dE(b):new S(null,2,5,T,[d,b],null);b=P(e,0,null);d=0;for(e=P(e,1,null);;){var f=Bf(mu.aa(e))&&(yc(qv.aa(Up.aa(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=mu.aa(e);f=q(f)?new S(null,2,5,T,[H(f),new bE(vp.aa(e),J(f),Ts.aa(e)+1,null,null,null)],null):new S(null,2,5,T,[null,e],null);e=P(f,0,null);f=P(f,1,null);e=GE(b,XD(e),f);if(D.j(px,H(e)))return f;e=f;d+=1}}
function WE(a,b){if(q(qv.aa(Up.aa(a)))){var c=xy.aa(a),d=K(c),e=1<d?fn.aa(eu.aa(H(H(c)))):q(qv.aa(a))?"(":null,f=bf(c,1<d?1:0);c=2<d?fn.aa(eu.aa(H(bf(c,2)))):q(qv.aa(a))?")":null;d=cE(b);b=P(d,0,null);d=P(d,1,null);if(q(SD()))Jd(ic,"#");else{var h=LD,k=MD;LD+=1;MD=0;try{CD(e,c),GE(f,XD(b),wo.aa(a)),DD()}finally{MD=k,LD=h}}a=d}else a=XE(a,b);return a}
function YE(a,b,c){for(var d=qf;;){if(Bf(a))return new S(null,2,5,T,[d,b],null);var e=H(a);a:{var f=new dc,h=ic;ic=new ke(f);try{var k=new S(null,2,5,T,[GE(e,b,c),t.aa(f)],null);break a}finally{ic=h}k=void 0}b=P(k,0,null);e=P(k,1,null);if(D.j(CA,H(b)))return new S(null,2,5,T,[d,mf(b)],null);a=J(a);d=pf.j(d,e)}}
function XE(a,b){var c=function(){var O=bu.aa(a);return q(O)?YE(O,b,wo.aa(a)):null}(),d=P(c,0,null);d=P(d,0,null);c=P(c,1,null);var e=q(c)?c:b;c=function(){var O=CB.aa(a);return q(O)?iE(O,e):null}();var f=P(c,0,null);c=P(c,1,null);var h=q(c)?c:e;c=function(){var O=H(nu.aa(f));return q(O)?O:0}();var k=function(){var O=H(ly.aa(f));return q(O)?O:$C(ic,ny)}(),m=xy.aa(a);h=YE(m,h,wo.aa(a));var n=P(h,0,null);h=P(h,1,null);var r=function(){var O=K(n)-1+(q(qv.aa(a))?1:0)+(q(Uy.aa(a))?1:0);return 1>O?1:O}();
m=v.j(Ag,ci.j(K,n));var u=UA.aa(a),w=yv.aa(a),A=nr.aa(a),G=m+r*w;u=G<=u?u:u+A*(1+Ng(G-u-1,A));var I=u-m;m=function(){var O=Ng(I,r);return w>O?w:O}();A=I-m*r;m=yh(t,ji(m,qs.aa(a)));q(q(d)?$C(Jp.aa(y(y(ic))),Ks)+c+u>k:d)&&RC.da(M([d]));c=A;for(var F=n,N=function(){var O=qv.aa(a);return q(O)?O:D.j(K(F),1)&&yc(Uy.aa(a))}();;)if(E(F))RC.da(M([[t.aa(yc(N)?H(F):null),t.aa(q(function(){var O=N;return q(O)?O:(O=J(F))?O:Uy.aa(a)}())?m:null),t.aa(0<c?qs.aa(a):null)].join("")])),--c,F=d=q(N)?F:J(F),N=!1;else break;
return h}
function ZE(a){if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof NC)NC=function(b,c){this.lb=b;this.ei=c;this.ga=1074135040;this.la=0},NC.prototype.sa=function(b,c){return new NC(this.lb,c)},NC.prototype.ra=function(){return this.ei},NC.prototype.gd=function(){return Kd(this.lb)},NC.prototype.Ld=function(b,c){b=Bc(c);if(q(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.lb,c.toLowerCase());if(q(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.lb,Kg(c).toLowerCase());throw Error(["No matching clause: ",
t.aa(b)].join(""));},NC.$b=!0,NC.Kb="cljs.pprint/t_cljs$pprint23299",NC.kc=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23299")};return new NC(a,X)}
function $E(a){if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof OC)OC=function(b,c){this.lb=b;this.fi=c;this.ga=1074135040;this.la=0},OC.prototype.sa=function(b,c){return new OC(this.lb,c)},OC.prototype.ra=function(){return this.fi},OC.prototype.gd=function(){return Kd(this.lb)},OC.prototype.Ld=function(b,c){b=Bc(c);if(q(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.lb,c.toUpperCase());if(q(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.lb,Kg(c).toUpperCase());
throw Error(["No matching clause: ",t.aa(b)].join(""));},OC.$b=!0,OC.Kb="cljs.pprint/t_cljs$pprint23313",OC.kc=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23313")};return new OC(a,X)}
function aF(a,b){var c=H(a);a=q(q(b)?q(c)?Lb(c):c:b)?[c.toUpperCase(),Sg.j(a,1)].join(""):a;return yh(t,H(WC(function(d){if(Bf(d))return new S(null,2,5,T,[null,null],null);var e=/\W\w/g.exec(d);e=q(e)?e.index+1:e;return q(e)?new S(null,2,5,T,[[Sg.ba(d,0,e),bf(d,e).toUpperCase()].join(""),Sg.j(d,e+1)],null):new S(null,2,5,T,[d,null],null)},a)))}
function bF(a){var b=Uh(!0);if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof PC)PC=function(c,d,e){this.lb=c;this.Se=d;this.gi=e;this.ga=1074135040;this.la=0},PC.prototype.sa=function(c,d){return new PC(this.lb,this.Se,d)},PC.prototype.ra=function(){return this.gi},PC.prototype.gd=function(){return Kd(this.lb)},PC.prototype.Ld=function(c,d){c=Bc(d);if(q(D.j?D.j(String,c):D.call(null,String,c)))return Jd(this.lb,aF(d.toLowerCase(),y(this.Se))),0<d.length?Vh(this.Se,vb(bf(d,
K(d)-1))):null;if(q(D.j?D.j(Number,c):D.call(null,Number,c)))return d=Kg(d),c=q(y(this.Se))?d.toUpperCase():d,Jd(this.lb,c),Vh(this.Se,vb(d));throw Error(["No matching clause: ",t.aa(c)].join(""));},PC.$b=!0,PC.Kb="cljs.pprint/t_cljs$pprint23461",PC.kc=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23461")};return new PC(a,b,X)}
function cF(a){var b=Uh(!1);if("undefined"===typeof fc||"undefined"===typeof KC||"undefined"===typeof QC)QC=function(c,d,e){this.lb=c;this.se=d;this.hi=e;this.ga=1074135040;this.la=0},QC.prototype.sa=function(c,d){return new QC(this.lb,this.se,d)},QC.prototype.ra=function(){return this.hi},QC.prototype.gd=function(){return Kd(this.lb)},QC.prototype.Ld=function(c,d){c=Bc(d);if(q(D.j?D.j(String,c):D.call(null,String,c)))return d=d.toLowerCase(),yc(y(this.se))?(c=/\S/g.exec(d),c=q(c)?c.index:c,q(c)?
(Jd(this.lb,[Sg.ba(d,0,c),bf(d,c).toUpperCase(),Sg.j(d,c+1).toLowerCase()].join("")),Vh(this.se,!0)):Jd(this.lb,d)):Jd(this.lb,d.toLowerCase());if(q(D.j?D.j(Number,c):D.call(null,Number,c)))return d=Kg(d),q(yc(y(this.se))?Lb(d):!1)?(Vh(this.se,!0),Jd(this.lb,d.toUpperCase())):Jd(this.lb,d.toLowerCase());throw Error(["No matching clause: ",t.aa(c)].join(""));},QC.$b=!0,QC.Kb="cljs.pprint/t_cljs$pprint23486",QC.kc=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23486")};return new QC(a,b,X)}
function dF(a,b){var c=q(qv.aa(a))?Br:au;UD(c,Iw.aa(a));return b}function eF(a,b){a=q(qv.aa(a))?q(Uy.aa(a))?Yn:Ht:q(Uy.aa(a))?tz:hv;TD(a);return b}
var fF=gk("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new p(null,5,[tp,"A",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),nr,new S(null,2,5,T,[1,Number],null),yv,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return mE(zl,a,b)}}],null),new p(null,5,[tp,"S",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),nr,new S(null,2,5,T,[1,Number],
null),yv,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return mE(xl,a,b)}}],null),new p(null,5,[tp,"D",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,
b){return pE(10,a,b)}}],null),new p(null,5,[tp,"B",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return pE(2,a,b)}}],null),new p(null,5,[tp,"O",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],
null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return pE(8,a,b)}}],null),new p(null,5,[tp,"X",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){return pE(16,a,b)}}],
null),new p(null,5,[tp,"R",eu,new p(null,5,[Jp,new S(null,2,5,T,[null,Number],null),UA,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null),ru,new S(null,2,5,T,[",",String],null),at,new S(null,2,5,T,[3,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(a){return q(H(Jp.aa(a)))?function(b,c){return pE(Jp.aa(b),b,c)}:q(function(){var b=Uy.aa(a);return q(b)?qv.aa(a):b}())?function(b,c){return AE(yE,c)}:q(Uy.aa(a))?function(b,c){return AE(zE,
c)}:q(qv.aa(a))?function(b,c){b=cE(c);c=P(b,0,null);b=P(b,1,null);if(D.j(0,c))RC.da(M(["zeroth"]));else{var d=nE(1E3,0>c?-c:c);if(K(d)<=K(uE)){var e=ci.j(vE,fi(1,d));e=wE(e,1);d=xE(of(d));RC.da(M([[0>c?"minus ":null,Bf(e)||Bf(d)?Bf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else pE(10,new p(null,5,[UA,0,qs," ",ru,",",at,3,qv,!0],null),XD(new S(null,1,5,T,[c],null))),d=Pg(c,100),c=11<d||19>d,d=Pg(d,10),RC.da(M([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=
cE(c);b=P(c,0,null);c=P(c,1,null);if(D.j(0,b))RC.da(M(["zero"]));else{var d=nE(1E3,0>b?-b:b);K(d)<=K(uE)?(d=ci.j(vE,d),d=wE(d,0),RC.da(M([[0>b?"minus ":null,d].join("")]))):pE(10,new p(null,5,[UA,0,qs," ",ru,",",at,3,qv,!0],null),XD(new S(null,1,5,T,[b],null)))}return c}}],null),new p(null,5,[tp,"P",eu,X,rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return function(a,b){b=q(qv.aa(a))?fE(b,-1):b;a=q(Uy.aa(a))?new S(null,2,5,T,["y","ies"],null):new S(null,2,5,
T,["","s"],null);var c=cE(b);b=P(c,0,null);c=P(c,1,null);RC.da(M([D.j(b,1)?H(a):mf(a)]));return c}}],null),new p(null,5,[tp,"C",eu,new p(null,1,[hy,new S(null,2,5,T,[null,String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(a){return q(qv.aa(a))?CE:q(Uy.aa(a))?DE:EE}],null),new p(null,5,[tp,"F",eu,new p(null,5,[Bw,new S(null,2,5,T,[null,Number],null),ww,new S(null,2,5,T,[null,Number],null),qw,new S(null,2,5,T,[0,Number],null),NA,new S(null,2,5,T,
[null,String],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,1,[Uy,null],null),null),Ez,X,HA,function(){return LE}],null),new p(null,5,[tp,"E",eu,new p(null,7,[Bw,new S(null,2,5,T,[null,Number],null),ww,new S(null,2,5,T,[null,Number],null),tw,new S(null,2,5,T,[null,Number],null),qw,new S(null,2,5,T,[1,Number],null),NA,new S(null,2,5,T,[null,String],null),qs,new S(null,2,5,T,[" ",String],null),lp,new S(null,2,5,T,[null,String],null)],null),rx,new Jk(null,new p(null,1,
[Uy,null],null),null),Ez,X,HA,function(){return ME}],null),new p(null,5,[tp,"G",eu,new p(null,7,[Bw,new S(null,2,5,T,[null,Number],null),ww,new S(null,2,5,T,[null,Number],null),tw,new S(null,2,5,T,[null,Number],null),qw,new S(null,2,5,T,[1,Number],null),NA,new S(null,2,5,T,[null,String],null),qs,new S(null,2,5,T,[" ",String],null),lp,new S(null,2,5,T,[null,String],null)],null),rx,new Jk(null,new p(null,1,[Uy,null],null),null),Ez,X,HA,function(){return NE}],null),new p(null,5,[tp,"$",eu,new p(null,
4,[ww,new S(null,2,5,T,[2,Number],null),Iw,new S(null,2,5,T,[1,Number],null),Bw,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,X,HA,function(){return OE}],null),new p(null,5,[tp,"%",eu,new p(null,1,[wy,new S(null,2,5,T,[1,Number],null)],null),rx,Lk,Ez,X,HA,function(){return function(a,b){a=wy.aa(a);for(var c=0;;)if(c<a)TC(),c+=1;else break;return b}}],null),new p(null,5,[tp,"\x26",eu,new p(null,1,
[wy,new S(null,2,5,T,[1,Number],null)],null),rx,new Jk(null,new p(null,1,[st,null],null),null),Ez,X,HA,function(){return function(a,b){a=wy.aa(a);0<a&&((null!=ic?ic.ga&32768||l===ic.xg||(ic.ga?0:Ac(od,ic)):Ac(od,ic))?D.j(0,$C(Jp.aa(y(y(ic))),Ks))||TC():TC());--a;for(var c=0;;)if(c<a)TC(),c+=1;else break;return b}}],null),new p(null,5,[tp,"|",eu,new p(null,1,[wy,new S(null,2,5,T,[1,Number],null)],null),rx,Lk,Ez,X,HA,function(){return function(a,b){a=wy.aa(a);for(var c=0;;)if(c<a)RC.da(M(["\f"])),c+=
1;else break;return b}}],null),new p(null,5,[tp,"~",eu,new p(null,1,[Iw,new S(null,2,5,T,[1,Number],null)],null),rx,Lk,Ez,X,HA,function(){return function(a,b){a=Iw.aa(a);RC.da(M([yh(t,ji(a,"~"))]));return b}}],null),new p(null,5,[tp,"\n",eu,X,rx,new Jk(null,new p(null,2,[qv,null,Uy,null],null),null),Ez,X,HA,function(){return function(a,b){q(Uy.aa(a))&&TC();return b}}],null),new p(null,5,[tp,"T",eu,new p(null,2,[Bz,new S(null,2,5,T,[1,Number],null),nr,new S(null,2,5,T,[1,Number],null)],null),rx,new Jk(null,
new p(null,2,[Uy,null,st,null],null),null),Ez,X,HA,function(a){return q(Uy.aa(a))?function(b,c){var d=Bz.aa(b);b=nr.aa(b);var e=d+$C(Jp.aa(y(y(ic))),Ks);e=0<b?Pg(e,b):0;d+=D.j(0,e)?0:b-e;RC.da(M([yh(t,ji(d," "))]));return c}:function(b,c){var d=Bz.aa(b);b=nr.aa(b);var e=$C(Jp.aa(y(y(ic))),Ks);d=e<d?d-e:D.j(b,0)?0:b-Pg(e-d,b);RC.da(M([yh(t,ji(d," "))]));return c}}],null),new p(null,5,[tp,"*",eu,new p(null,1,[Iw,new S(null,2,5,T,[1,Number],null)],null),rx,new Jk(null,new p(null,2,[qv,null,Uy,null],
null),null),Ez,X,HA,function(){return function(a,b){var c=Iw.aa(a);return q(Uy.aa(a))?eE(b,c):fE(b,q(qv.aa(a))?-c:c)}}],null),new p(null,5,[tp,"?",eu,X,rx,new Jk(null,new p(null,1,[Uy,null],null),null),Ez,X,HA,function(a){return q(Uy.aa(a))?function(b,c){var d=dE(c);c=P(d,0,null);d=P(d,1,null);return GE(c,d,wo.aa(b))}:function(b,c){var d=dE(c);c=P(d,0,null);d=P(d,1,null);var e=cE(d);d=P(e,0,null);e=P(e,1,null);d=XD(d);GE(c,d,wo.aa(b));return e}}],null),new p(null,5,[tp,"(",eu,X,rx,new Jk(null,new p(null,
3,[qv,null,Uy,null,bx,null],null),null),Ez,new p(null,3,[dr,")",mx,null,bu,null],null),HA,function(a){var b=q(function(){var c=Uy.aa(a);return q(c)?qv.aa(a):c}())?$E:q(qv.aa(a))?bF:q(Uy.aa(a))?cF:ZE;return function(c,d){a:{var e=H(xy.aa(c)),f=ic;ic=b.aa?b.aa(ic):b.call(null,ic);try{var h=GE(e,d,wo.aa(c));break a}finally{ic=f}h=void 0}return h}}],null),new p(null,5,[tp,")",eu,X,rx,Lk,Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"[",eu,new p(null,1,[qz,new S(null,2,5,T,[null,Number],null)],
null),rx,new Jk(null,new p(null,2,[qv,null,Uy,null],null),null),Ez,new p(null,3,[dr,"]",mx,!0,bu,mw],null),HA,function(a){return q(qv.aa(a))?QE:q(Uy.aa(a))?RE:PE}],null),new p(null,5,[tp,";",eu,new p(null,2,[nu,new S(null,2,5,T,[null,Number],null),ly,new S(null,2,5,T,[null,Number],null)],null),rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,new p(null,1,[gt,!0],null),HA,function(){return null}],null),new p(null,5,[tp,"]",eu,X,rx,Lk,Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"{",
eu,new p(null,1,[eB,new S(null,2,5,T,[null,Number],null)],null),rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],null),null),Ez,new p(null,2,[dr,"}",mx,!1],null),HA,function(a){var b=Uy.aa(a);b=q(b)?qv.aa(a):b;return q(b)?VE:q(qv.aa(a))?TE:q(Uy.aa(a))?UE:SE}],null),new p(null,5,[tp,"}",eu,X,rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"\x3c",eu,new p(null,4,[UA,new S(null,2,5,T,[0,Number],null),nr,new S(null,2,5,T,[1,Number],null),
yv,new S(null,2,5,T,[0,Number],null),qs,new S(null,2,5,T,[" ",String],null)],null),rx,new Jk(null,new p(null,4,[qv,null,Uy,null,bx,null,st,null],null),null),Ez,new p(null,3,[dr,"\x3e",mx,!0,bu,Wp],null),HA,function(){return WE}],null),new p(null,5,[tp,"\x3e",eu,X,rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return null}],null),new p(null,5,[tp,"^",eu,new p(null,3,[pA,new S(null,2,5,T,[null,Number],null),rA,new S(null,2,5,T,[null,Number],null),nA,new S(null,2,5,T,[null,Number],
null)],null),rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return function(a,b){var c=pA.aa(a),d=rA.aa(a),e=nA.aa(a),f=q(qv.aa(a))?px:CA;return q(q(c)?q(d)?e:d:c)?c<=d&&d<=e?new S(null,2,5,T,[f,b],null):b:q(q(c)?d:c)?D.j(c,d)?new S(null,2,5,T,[f,b],null):b:q(c)?D.j(c,0)?new S(null,2,5,T,[f,b],null):b:(q(qv.aa(a))?Bf(mu.aa(wo.aa(a))):Bf(mu.aa(b)))?new S(null,2,5,T,[f,b],null):b}}],null),new p(null,5,[tp,"W",eu,X,rx,new Jk(null,new p(null,4,[qv,null,Uy,null,bx,null,st,null],null),
null),Ez,X,HA,function(a){if(q(function(){var c=Uy.aa(a);return q(c)?c:qv.aa(a)}())){var b=W.j(q(Uy.aa(a))?new S(null,4,5,T,[Im,null,bo,null],null):qf,q(qv.aa(a))?new S(null,2,5,T,[st,!0],null):qf);return function(c,d){d=cE(d);c=P(d,0,null);d=P(d,1,null);return q(zh(PD,c,b))?new S(null,2,5,T,[CA,d],null):d}}return function(c,d){d=cE(d);c=P(d,0,null);d=P(d,1,null);return q(OD(c))?new S(null,2,5,T,[CA,d],null):d}}],null),new p(null,5,[tp,"_",eu,X,rx,new Jk(null,new p(null,3,[qv,null,Uy,null,bx,null],
null),null),Ez,X,HA,function(){return eF}],null),new p(null,5,[tp,"I",eu,new p(null,1,[Iw,new S(null,2,5,T,[0,Number],null)],null),rx,new Jk(null,new p(null,1,[qv,null],null),null),Ez,X,HA,function(){return dF}],null)]),gF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,hF=new Jk(null,new p(null,2,[Ds,null,sz,null],null),null);
function iF(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);a=new RegExp(gF.source,"g");var e=a.exec(b);return q(e)?(d=H(e),b=Sg.j(b,a.lastIndex),a=c+a.lastIndex,D.j(",",bf(b,0))?new S(null,2,5,T,[new S(null,2,5,T,[d,c],null),new S(null,3,5,T,[Sg.j(b,1),a+1,!0],null)],null):new S(null,2,5,T,[new S(null,2,5,T,[d,c],null),new S(null,3,5,T,[b,a,!1],null)],null)):q(d)?aE("Badly formed parameters in format directive",c):new S(null,2,5,T,[null,new S(null,2,5,T,[b,c],null)],null)}
function jF(a){var b=P(a,0,null);a=P(a,1,null);return new S(null,2,5,T,[D.j(b.length,0)?null:D.j(b.length,1)&&Pf(new Jk(null,new p(null,2,["V",null,"v",null],null),null),bf(b,0))?sz:D.j(b.length,1)&&D.j("#",bf(b,0))?Ds:D.j(b.length,2)&&D.j("'",bf(b,0))?bf(b,1):parseInt(b,10),a],null)}var kF=new p(null,2,[":",qv,"@",Uy],null);
function lF(a,b){return WC(function(c){var d=P(c,0,null),e=P(c,1,null);c=P(c,2,null);if(Bf(d))return new S(null,2,5,T,[null,new S(null,3,5,T,[d,e,c],null)],null);var f=B.j(kF,H(d));return q(f)?Pf(c,f)?aE(['Flag "',t.aa(H(d)),'" appears more than once in a directive'].join(""),e):new S(null,2,5,T,[!0,new S(null,3,5,T,[Sg.j(d,1),e+1,Q.ba(c,f,new S(null,2,5,T,[!0,e],null))],null)],null):new S(null,2,5,T,[null,new S(null,3,5,T,[d,e,c],null)],null)},new S(null,3,5,T,[a,b,X],null))}
function mF(a,b){var c=rx.aa(a);q(yc(Uy.aa(c))?Uy.aa(b):!1)&&aE(['"@" is an illegal flag for format directive "',t.aa(tp.aa(a)),'"'].join(""),bf(Uy.aa(b),1));q(yc(qv.aa(c))?qv.aa(b):!1)&&aE(['":" is an illegal flag for format directive "',t.aa(tp.aa(a)),'"'].join(""),bf(qv.aa(b),1));q(yc(bx.aa(c))?function(){var d=Uy.aa(b);return q(d)?qv.aa(b):d}():!1)&&aE(['Cannot combine "@" and ":" flags for format directive "',t.aa(tp.aa(a)),'"'].join(""),function(){var d=bf(qv.aa(b),1),e=bf(Uy.aa(b),1);return d<
e?d:e}())}
function nF(a,b,c,d){mF(a,c);K(b)>K(eu.aa(a))&&aE(VD(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([tp.aa(a),K(b),K(eu.aa(a))])),mf(H(b)));dl(ci.ba(function(e,f){var h=H(e);return null==h||Pf(hF,h)||D.j(mf(mf(f)),Bc(h))?null:aE(["Parameter ",bh(H(f)),' has bad type in directive "',t.aa(tp.aa(a)),'": ',t.aa(Bc(h))].join(""),mf(e))},b,eu.aa(a)));return Ek.da(M([si.j(X,Vg(function(){return function h(f){return new ch(null,function(){for(;;){var k=
E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=P(w,0,null);w=P(w,1,null);w=P(w,0,null);r.add(new S(null,2,5,T,[A,new S(null,2,5,T,[w,d],null)],null));u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}m=H(k);r=P(m,0,null);m=P(m,1,null);m=P(m,0,null);return hf(new S(null,2,5,T,[r,new S(null,2,5,T,[m,d],null)],null),h(Fe(k)))}return null}},null,null)}(eu.aa(a))}())),v.ba(function(e,f){return zh(Q,e,f)},X,qi(function(e){return H(bf(e,1))},Pk(xj(eu.aa(a)),
b))),c]))}
function oF(a,b){b=WC(iF,new S(null,3,5,T,[a,b,!1],null));a=P(b,0,null);var c=P(b,1,null);b=P(c,0,null);c=P(c,1,null);b=lF(b,c);P(b,0,null);b=P(b,1,null);var d=P(b,0,null),e=P(b,1,null);b=P(b,2,null);c=H(d);var f=B.j(fF,c.toUpperCase()),h=q(f)?nF(f,ci.j(jF,a),b,e):null;yc(c)&&aE("Format string ended in the middle of a directive",e);yc(f)&&aE(['Directive "',t.aa(c),'" is undefined'].join(""),e);return new S(null,2,5,T,[new gE(function(){var k=HA.aa(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,
null,null,null),function(){var k=Sg.j(d,1),m=e+1;if(D.j("\n",tp.aa(f))&&yc(qv.aa(h)))a:{var n=new S(null,2,5,T,[" ","\t"],null);n=Cf(n)?Mk(n):Rf([n]);for(var r=0;;){var u;(u=D.j(r,K(k)))||(u=bf(k,r),u=n.aa?n.aa(u):n.call(null,u),u=yc(u));if(u){n=r;break a}r+=1}}else n=0;k=Sg.j(k,n);return new S(null,2,5,T,[k,m+n],null)}()],null)}function pF(a,b){return new gE(function(c,d){RC.da(M([a]));return d},null,new p(null,1,[fn,a],null),b,null,null,null)}
function qF(a,b){var c=rF(Ez.aa(Go.aa(a)),pu.aa(a),b);b=P(c,0,null);c=P(c,1,null);return new S(null,2,5,T,[new gE(Kw.aa(a),Go.aa(a),Ek.da(M([eu.aa(a),YC(b,pu.aa(a))])),pu.aa(a),null,null,null),c],null)}
function sF(a,b,c){return WC(function(d){if(Bf(d))return aE("No closing bracket found.",b);var e=H(d);d=J(d);if(q(dr.aa(Ez.aa(Go.aa(e)))))e=qF(e,d);else if(D.j(dr.aa(a),tp.aa(Go.aa(e))))e=new S(null,2,5,T,[null,new S(null,4,5,T,[Wr,eu.aa(e),null,d],null)],null);else{var f=gt.aa(Ez.aa(Go.aa(e)));f=q(f)?qv.aa(eu.aa(e)):f;e=q(f)?new S(null,2,5,T,[null,new S(null,4,5,T,[bu,null,eu.aa(e),d],null)],null):q(gt.aa(Ez.aa(Go.aa(e))))?new S(null,2,5,T,[null,new S(null,4,5,T,[gt,null,null,d],null)],null):new S(null,
2,5,T,[e,d],null)}return e},c)}
function rF(a,b,c){return mf(WC(function(d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);var h=sF(a,b,d);d=P(h,0,null);var k=P(h,1,null);h=P(k,0,null);var m=P(k,1,null),n=P(k,2,null);k=P(k,3,null);return D.j(h,Wr)?new S(null,2,5,T,[null,new S(null,2,5,T,[Fk.da(W,M([e,uf([q(f)?bu:xy,new S(null,1,5,T,[d],null),Up,m])])),k],null)],null):D.j(h,bu)?q(bu.aa(e))?aE('Two else clauses ("~:;") inside bracket construction.',b):yc(bu.aa(a))?aE('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.j(Wp,bu.aa(a))&&E(xy.aa(e))?aE('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.j(Wp,bu.aa(a))?new S(null,2,5,T,[!0,new S(null,3,5,T,[Fk.da(W,M([e,new p(null,2,[bu,new S(null,1,5,T,[d],null),CB,n],null)])),!1,k],null)],null):new S(null,2,5,T,[!0,new S(null,3,5,T,[Fk.da(W,M([e,new p(null,1,[xy,new S(null,1,5,T,[d],null)],null)])),!0,k],null)],null):D.j(h,gt)?q(f)?aE('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):
yc(mx.aa(a))?aE('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new S(null,2,5,T,[!0,new S(null,3,5,T,[Fk.da(W,M([e,new p(null,1,[xy,new S(null,1,5,T,[d],null)],null)])),!1,k],null)],null):null},new S(null,3,5,T,[new p(null,1,[xy,qf],null),!1,c],null)))}function tF(a){return H(WC(function(b){var c=H(b);b=J(b);var d=Ez.aa(Go.aa(c));return q(dr.aa(d))?qF(c,b):new S(null,2,5,T,[c,b],null)},a))}
function WD(a){var b=$D;$D=a;try{return tF(H(WC(function(c){var d=P(c,0,null);c=P(c,1,null);if(Bf(d))return new S(null,2,5,T,[null,d],null);var e=d.indexOf("~");return 0>e?new S(null,2,5,T,[pF(d,c),new S(null,2,5,T,["",c+d.length],null)],null):0===e?oF(Sg.j(d,1),c+1):new S(null,2,5,T,[pF(Sg.ba(d,0,e),c),new S(null,2,5,T,[Sg.j(d,e),e+c],null)],null)},new S(null,2,5,T,[a,0],null))))}finally{$D=b}}
var YD=function YD(a){for(;;){if(Bf(a))return!1;var c=st.aa(rx.aa(Go.aa(H(a))));q(c)||(c=Kh(YD,H(xy.aa(eu.aa(H(a))))),c=q(c)?c:Kh(YD,H(bu.aa(eu.aa(H(a))))));if(q(c))return!0;a=J(a)}};function ZD(a,b){VC(function(c,d){if(FE(d))return new S(null,2,5,T,[null,d],null);d=iE(eu.aa(c),d);var e=P(d,0,null);d=P(d,1,null);var f=XC(e);e=P(f,0,null);f=P(f,1,null);e=Q.ba(e,wo,d);return new S(null,2,5,T,[null,yh(Kw.aa(c),new S(null,3,5,T,[e,d,f],null))],null)},b,a);return null}
var uF=Xl(WD),vF=new p(null,6,[nw,"'",Mx,"#'",ps,"@",nx,"~",Mn,"@",zo,"~"],null);function wF(a){var b=H(a);b=vF.aa?vF.aa(b):vF.call(null,b);return q(q(b)?D.j(2,K(a)):b)?(Jd(ic,b),OD(mf(a)),!0):null}function xF(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("[","]");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(OD(H(e)),J(e))){Jd(ic," ");TD(hv);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null}
(function(){var a=uF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()})();
function yF(a){var b=Gf(a)?null:function(){var m=new Ae(function(){return Dl},pw,gk([wn,ym,fz,Dt,co,yA,Qm,nn,Cu,Px,wv],[!0,Dm,Pw,"cljs/core.cljs",15,1,10307,10307,bg(new S(null,1,5,T,[yq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",q(Dl)?Dl.Wi:null]));return m.aa?m.aa(a):m.call(null,a)}(),c=P(b,0,null);b=P(b,1,null);var d=q(b)?b:a,e=q(c)?["#:",t.aa(c),"{"].join(""):"{";if(q(SD()))Jd(ic,"#");else{c=LD;b=MD;LD+=1;MD=0;try{CD(e,"}");e=0;for(var f=E(d);;){if(yc(mc)||e<mc){if(f){if(q(SD()))Jd(ic,
"#");else{d=LD;var h=MD;LD+=1;MD=0;try{CD(null,null),OD(nf(f)),Jd(ic," "),TD(hv),MD=0,OD(H(J(H(f)))),DD()}finally{MD=h,LD=d}}if(J(f)){Jd(ic,", ");TD(hv);d=e+1;var k=J(f);e=d;f=k;continue}}}else Jd(ic,"...");break}DD()}finally{MD=b,LD=c}}return null}function zF(a){return Jd(ic,xl.da(M([a])))}
var AF=function(){var a=uF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}(),BF=new p(null,2,["core$future_call","Future","core$promise","Promise"],null);
function CF(a){var b=fl(/^[^$]+\$[^$]+/,a);b=q(b)?BF.aa?BF.aa(b):BF.call(null,b):null;return q(b)?b:a}var DF=function(){var a=uF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}();
function EF(a){return a instanceof jj?kz:(null!=a?a.ga&32768||l===a.xg||(a.ga?0:Ac(od,a)):Ac(od,a))?cB:a instanceof z?Lw:Lf(a)?sA:Ff(a)?ey:Hf(a)?dx:Df(a)?yp:null==a?null:qm}var FF,EO=Uh(X),OO=Uh(X),PO=Uh(X),QO=Uh(X),RO=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));FF=new pm(ze.j(ba,"simple-dispatch"),EF,RO,EO,OO,PO,QO);
nm(FF,sA,function(a){if(yc(wF(a)))if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",")");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(OD(H(e)),J(e))){Jd(ic," ");TD(hv);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null});nm(FF,dx,xF);nm(FF,ey,yF);nm(FF,yp,AF);nm(FF,null,function(){return Jd(ic,xl.da(M([null])))});nm(FF,qm,zF);FD=FF;function LF(a){return Hf(a)?new S(null,2,5,T,["[","]"],null):new S(null,2,5,T,["(",")"],null)}
function MF(a){if(Ef(a)){var b=LF(a),c=P(b,0,null),d=P(b,1,null),e=E(a),f=H(e),h=J(e);if(q(SD()))Jd(ic,"#");else{var k=LD,m=MD,n=LD+1;LD=n;MD=0;try{CD(c,d);(function(){var wa=uF("~w~:i");return function(){function xa(ka){var oa=null;if(0<arguments.length){oa=0;for(var Ca=Array(arguments.length-0);oa<Ca.length;)Ca[oa]=arguments[oa+0],++oa;oa=new De(Ca,0,null)}return Ra.call(this,oa)}function Ra(ka){ka=XD(ka);return ZD(wa,ka)}xa.na=0;xa.qa=function(ka){ka=E(ka);return Ra(ka)};xa.da=Ra;return xa}()})()(f);
for(var r=h;;)if(E(r)){(function(){var wa=uF(" ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r," ",wa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(r);if(Ef(u)){var w=LF(u),A=P(w,0,null),G=P(w,1,null);if(q(SD()))Jd(ic,
"#");else{var I=LD,F=MD,N=LD+1;LD=N;MD=0;try{CD(A,G);if(D.j(K(u),3)&&mf(u)instanceof C){var O=u,U=P(O,0,null),ea=P(O,1,null),va=P(O,2,null);(function(){var wa=uF("~w ~w ");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,
"~w ~w ",wa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Ef(va)?function(){var wa=Hf(va)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",xa="string"===typeof wa?uF(wa):wa;return function(Ra,ka,oa){return function(){function Ca(Ba){var Ua=null;if(0<arguments.length){Ua=0;for(var ac=Array(arguments.length-0);Ua<ac.length;)ac[Ua]=arguments[Ua+0],++Ua;Ua=new De(ac,0,null)}return ua.call(this,Ua)}function ua(Ba){Ba=XD(Ba);return ZD(oa,Ba)}Ca.na=0;Ca.qa=function(Ba){Ba=
E(Ba);return ua(Ba)};Ca.da=ua;return Ca}()}(r,wa,xa,O,U,ea,va,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(va):OD(va)}else yh(function(){var wa=uF("~w ~:i~@{~w~^ ~:_~}");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,
"~w ~:i~@{~w~^ ~:_~}",wa,I,F,N,0,w,A,G,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);DD()}finally{MD=F,LD=I}}J(r)&&function(){var wa=uF("~_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,"~_",wa,w,A,G,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else OD(u),J(r)&&function(){var wa=uF("~:_");return function(xa,Ra,ka){return function(){function oa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ua=Array(arguments.length-0);Ba<Ua.length;)Ua[Ba]=arguments[Ba+0],++Ba;Ba=new De(Ua,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=XD(ua);return ZD(ka,ua)}oa.na=0;oa.qa=function(ua){ua=E(ua);return Ca(ua)};oa.da=Ca;return oa}()}(r,"~:_",wa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();r=J(r)}else break;DD()}finally{MD=m,LD=k}}}else OD(a)}
var NF=function(){var a=uF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}();
function OF(a,b){E(a)&&(q(b)?function(){var c=uF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=XD(f);return ZD(c,f)}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}()():function(){var c=uF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=XD(f);return ZD(c,f)}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}()(),function(){var c=uF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){f=XD(f);return ZD(c,f)}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}()(a))}
function PF(a){E(a)&&function(){var b=uF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new De(h,0,null)}return d.call(this,f)}function d(e){e=XD(e);return ZD(b,e)}c.na=0;c.qa=function(e){e=E(e);return d(e)};c.da=d;return c}()}()(a)}
function QF(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new S(null,2,5,T,[H(c),J(c)],null):new S(null,2,5,T,[null,c],null);c=P(d,0,null);d=P(d,1,null);var e=Ff(H(d))?new S(null,2,5,T,[H(d),J(d)],null):new S(null,2,5,T,[null,d],null);d=P(e,0,null);e=P(e,1,null);if(q(SD()))Jd(ic,"#");else{var f=LD,h=MD;LD+=1;MD=0;try{CD("(",")"),function(){var k=uF("~w ~1I~@_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-
0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);return n(r)};m.da=n;return m}()}()(a,b),q(c)&&function(){var k=uF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);return n(r)};m.da=n;return m}()}()(c),
q(d)&&function(){var k=uF(" ~_~w");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);return n(r)};m.da=n;return m}()}()(d),Hf(H(e))?OF(e,q(c)?c:d):PF(e),DD()}finally{MD=h,LD=f}}return null}return RF(a)}
function SF(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("[","]");for(var d=0;;){if(yc(mc)||d<mc){if(E(a)){if(q(SD()))Jd(ic,"#");else{var e=LD,f=MD;LD+=1;MD=0;try{CD(null,null),OD(H(a)),J(a)&&(Jd(ic," "),TD(tz),OD(mf(a))),DD()}finally{MD=f,LD=e}}if(J(Fe(a))){Jd(ic," ");TD(hv);e=d+1;var h=J(Fe(a));d=e;a=h;continue}}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}}
function TF(a){var b=H(a);if(q(SD()))Jd(ic,"#");else{var c=LD,d=MD;LD+=1;MD=0;try{CD("(",")"),J(a)&&Hf(mf(a))?(function(){var e=uF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=XD(k);return ZD(e,k)}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()}()(b),SF(mf(a)),function(){var e=uF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new De(n,0,null)}return h.call(this,m)}function h(k){k=XD(k);return ZD(e,k)}f.na=0;f.qa=function(k){k=E(k);return h(k)};f.da=h;return f}()}()(J(Fe(a)))):RF(a),DD()}finally{MD=d,LD=c}}return null}
var UF=function(){var a=uF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){d=XD(d);return ZD(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}()}(),VF=X;
function RF(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",")");UD(au,1);for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(OD(H(e)),J(e))){Jd(ic," ");TD(hv);a=d+1;var f=J(e);d=a;e=f;continue}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null}
var WF=function(a){return si.j(X,oi(wg,M([function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new S(null,2,5,T,[n,new S(null,2,5,T,[ze.aa(bh(H(n))),mf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}k=H(e);return hf(new S(null,2,5,T,[k,new S(null,2,5,T,[ze.aa(bh(H(k))),mf(k)],null)],null),d(Fe(e)))}return null}},null,null)}(a)}()])))}(function(a){return si.j(X,
ci.j(function(b){var c=P(b,0,null),d=P(b,1,null);var e=Zg(c);e=q(e)?e:Pf(new Jk(null,new p(null,24,[Tr,"null",du,"null",Gm,"null",Mv,"null",Vm,"null",Oo,"null",kw,"null",pv,"null",Pp,"null",bw,"null",iv,"null",Vw,"null",pB,"null",Xp,"null",Du,"null",on,"null",mq,"null",Hr,"null",Ty,"null",Mx,"null",nw,"null",Ju,"null",Pv,"null",Ns,"null"],null),null),c);return yc(e)?new S(null,2,5,T,[ze.j("clojure.core",bh(c)),d],null):b},a))}(gk([Ty,on,eq,bw,$A,nt,wB,Ru,nz,Tu,xx,mo,dA,Ns,hr,fo,Hv,it,ry,Vw,Ho,cy,
Uv,Cw,Vz,rp,yu,XA,Jy,ku],[NF,function(a){var b=mf(a),c=H(Fe(Fe(a)));if(Hf(b)){a=VF;VF=D.j(1,K(b))?uf([H(b),"%"]):si.j(X,ci.ba(function(d,e){return new S(null,2,5,T,[d,["%",t.aa(e)].join("")],null)},b,Yk.j(1,K(b)+1)));try{return function(){var d=uF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new De(m,0,null)}return f.call(this,k)}function f(h){h=XD(h);return ZD(d,h)}
e.na=0;e.qa=function(h){h=E(h);return f(h)};e.da=f;return e}()}()(c)}finally{VF=a}}else return RF(a)},TF,UF,function(a){if(3<K(a)){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",")");UD(au,1);yh(function(){var k=uF("~w ~@_~w ~@_~w ~_");return function(){function m(r){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new De(w,0,null)}return n.call(this,u)}function n(r){r=XD(r);return ZD(k,r)}m.na=0;m.qa=function(r){r=E(r);
return n(r)};m.da=n;return m}()}(),a);for(var d=0,e=E(ei(3,a));;){if(yc(mc)||d<mc){if(e){if(q(SD()))Jd(ic,"#");else{a=LD;var f=MD;LD+=1;MD=0;try{CD(null,null),OD(H(e)),J(e)&&(Jd(ic," "),TD(tz),OD(mf(e))),DD()}finally{MD=f,LD=a}}if(J(Fe(e))){Jd(ic," ");TD(hv);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}DD()}finally{MD=c,LD=b}}return null}return RF(a)},NF,QF,QF,TF,NF,TF,UF,UF,NF,UF,TF,TF,NF,TF,function(a){if(J(a)){var b=E(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?
new S(null,2,5,T,[H(c),J(c)],null):new S(null,2,5,T,[null,c],null);c=P(d,0,null);d=P(d,1,null);d=Ff(H(d))?new S(null,2,5,T,[H(d),J(d)],null):new S(null,2,5,T,[null,d],null);var e=P(d,0,null),f=P(d,1,null);if(q(SD()))Jd(ic,"#");else{d=LD;var h=MD;LD+=1;MD=0;try{CD("(",")");(function(){var m=uF("~w ~1I~@_~w");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=
XD(u);return ZD(m,u)}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()})()(a,b);q(q(c)?c:q(e)?e:E(f))&&function(){var m=uF("~@:_");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=XD(u);return ZD(m,u)}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()}()();q(c)&&VD(!0,'"~a"~:[~;~:@_~]',M([c,q(e)?e:E(f)]));q(e)&&function(){var m=
uF("~w~:[~;~:@_~]");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){u=XD(u);return ZD(m,u)}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()}()(e,E(f));for(a=f;;){MF(H(a));var k=J(a);if(k)b=k,TD(hv),a=b;else break}DD()}finally{MD=h,LD=d}}return null}return OD(a)},TF,function(a){if(q(SD()))Jd(ic,"#");else{var b=LD,c=MD;LD+=1;MD=0;try{CD("(",
")");UD(au,1);OD(H(a));if(J(a)){Jd(ic," ");TD(hv);for(var d=0,e=J(a);;){if(yc(mc)||d<mc){if(e){if(q(SD()))Jd(ic,"#");else{a=LD;var f=MD;LD+=1;MD=0;try{CD(null,null),OD(H(e)),J(e)&&(Jd(ic," "),TD(tz),OD(mf(e))),DD()}finally{MD=f,LD=a}}if(J(Fe(e))){Jd(ic," ");TD(hv);a=d+1;var h=J(Fe(e));d=a;e=h;continue}}}else Jd(ic,"...");break}}DD()}finally{MD=c,LD=b}}return null},TF,QF,QF,NF,NF,TF,TF,NF]))),XF,SO=Uh(X),TO=Uh(X),UO=Uh(X),VO=Uh(X),vP=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));
XF=new pm(ze.j(ba,"code-dispatch"),EF,vP,SO,TO,UO,VO);nm(XF,sA,function(a){if(yc(wF(a))){var b=WF.call(null,H(a));return q(b)?b.aa?b.aa(a):b.call(null,a):RF(a)}return null});nm(XF,Lw,function(a){var b=a.aa?a.aa(VF):a.call(null,VF);return q(b)?RC.da(M([b])):q(ID)?RC.da(M([bh(a)])):SC.call(null,a)});nm(XF,dx,xF);nm(XF,ey,yF);nm(XF,yp,AF);nm(XF,kz,DF);
nm(XF,cB,function(a){var b=["#\x3c",t.aa(CF(Bc(a).name)),"@",t.aa(ya(a)),": "].join("");if(q(SD()))Jd(ic,"#");else{var c=LD,d=MD;LD+=1;MD=0;try{CD(b,"\x3e"),UD(au,-(b.length-2)),TD(hv),OD((null!=a?a.la&1||l===a.Si||(a.la?0:Ac(Nd,a)):Ac(Nd,a))&&!Od(a)?lo:y(a)),DD()}finally{MD=d,LD=c}}return null});nm(XF,null,SC);nm(XF,qm,zF);FD=FF;var cG=/[\s]/;function dG(a){return null==a?null:","===a?!0:cG.test(a)}function eG(a){return null==a?null:!/[^0-9]/.test(a)}
function fG(a,b){return function e(d){return new ch(null,function(){for(;;){var f=E(d);if(f){if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var r=0;;)if(r<k){var u=x(h,r),w=m;if(u instanceof z||u instanceof C){var A=cl(Zg,bh)(u),G=P(A,0,null);A=P(A,1,null);var I=u instanceof z?ze:ah;u=null==G?I.j?I.j(a,A):I.call(null,a,A):D.j("_",G)?I.aa?I.aa(A):I.call(null,A):u}w.add(u);r+=1}else return!0}()?ih(kh(m),e(be(f))):ih(kh(m),null)}var n=H(f);return hf(n instanceof z||n instanceof C?function(){var r=
cl(Zg,bh)(n),u=P(r,0,null);r=P(r,1,null);var w=n instanceof z?ze:ah;return null==u?w.j?w.j(a,r):w.call(null,a,r):D.j("_",u)?w.aa?w.aa(r):w.call(null,r):n}():n,e(Fe(f)))}return null}},null,null)}(b)}function gG(a,b){a=parseInt(a,b);return q(isNaN(a))?-1:a};function hG(a){if(null!=a&&null!=a.Td)a=a.Td(a);else{var b=hG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=hG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Reader.read-char",a);}return a}function iG(a){if(null!=a&&null!=a.Ge)a=a.Ge(a);else{var b=iG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=iG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Reader.peek-char",a);}return a}
function jG(a,b){if(null!=a&&null!=a.Fg)a.Fg(a,b);else{var c=jG[pa(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=jG._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPushbackReader.unread",a);}}function kG(a){if(null!=a&&null!=a.Fh)a=a.Fh(a);else{var b=kG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=kG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IndexingReader.get-line-number",a);}return a}
function lG(a){if(null!=a&&null!=a.Dh)a=a.Dh(a);else{var b=lG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=lG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IndexingReader.get-column-number",a);}return a}function mG(a){if(null!=a&&null!=a.Eh)a=a.Eh(a);else{var b=mG[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=mG._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IndexingReader.get-file-name",a);}return a}
function nG(a,b){this.s=a;this.dh=b;this.le=0}nG.prototype.Td=function(){if(this.dh>this.le){var a=this.s.charAt(this.le);this.le+=1;return a}return null};nG.prototype.Ge=function(){return this.dh>this.le?this.s.charAt(this.le):null};function oG(a,b){this.Zg=a;this.buf=b;this.Vc=this.Cf=1}oG.prototype.Td=function(){var a=this.Vc<this.Cf?this.buf[this.Vc]:this.Zg.Td(null);this.Vc<this.Cf&&(this.Vc+=1);return null==a?null:Kg(a)};
oG.prototype.Ge=function(){var a=this.Vc<this.Cf?this.buf[this.Vc]:this.Zg.Ge(null);return null==a?null:Kg(a)};oG.prototype.Fg=function(a,b){if(q(b)){if(0===this.Vc)throw Error("Pushback buffer is full");--this.Vc;return this.buf[this.Vc]=b}return null};function pG(a){return null!=a?l===a.Xi?!0:!1:!1};function qG(a,b,c,d){var e=K(b);a=q(a)?0:10<e?10:e;b=ci.j(Db.j(rG,!0),di.j(a,b));b=yh(t,ei(1,mi.j(ii(" "),b)));e=a<e?"...":null;return[t.aa(c),t.aa(b),e,t.aa(d)].join("")}var rG,yP=Uh(X),zP=Uh(X),AP=Uh(X),CP=Uh(X),gR=B.ba(X,rw,dm.ia?dm.ia():dm.call(null));
rG=new pm(ze.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?us:"string"===typeof b?fn:b instanceof C?Gw:"number"===typeof b?Gw:b instanceof z?Gw:Hf(b)?dx:Tg(b)?sA:Ff(b)?ey:Df(b)?yp:D.j(b,!0)?Gw:D.j(b,!1)?Gw:Bc(b)},gR,yP,zP,AP,CP);rG.wb(null,fn,function(a,b){a=q(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.aa(b.substring(0,a<d?a:d)),c].join("")});rG.wb(null,Gw,function(a,b){return t.aa(b)});rG.wb(null,De,function(){return"\x3cindexed seq\x3e"});
rG.wb(null,vj,function(){return"\x3cmap seq\x3e"});rG.wb(null,Zj,function(){return"\x3cmap seq\x3e"});rG.wb(null,Wg,function(){return"\x3ccons\x3e"});rG.wb(null,ch,function(){return"\x3clazy seq\x3e"});rG.wb(null,us,function(){return"nil"});rG.wb(null,sA,function(a,b){return qG(a,b,"(",")")});rG.wb(null,ey,function(a,b){var c=K(b),d=q(a)?0:c;b=yh(W,di.j(d,b));return qG(a,b,"{",c>d?"...}":"}")});rG.wb(null,yp,function(a,b){return qG(a,b,"#{","}")});rG.wb(null,dx,function(a,b){return qG(a,b,"[","]")});
rG.wb(null,qm,function(a,b){return xl.da(M([Bc(b)]))});function xG(a,b,c){b=new p(null,2,[pq,Cs,Ur,b],null);a=pG(a)?Q.da(b,Dt,mG(a),M([Qm,kG(a),xr,lG(a)])):b;var d=Dt.aa(a);b=Qm.aa(a);var e=xr.aa(a);d=q(d)?[t.aa(d)," "].join(""):null;b=q(b)?["[line ",t.aa(b),", col ",t.aa(e),"]"].join(""):null;c=Bh(t,d,b,q(q(d)?d:b)?" ":null,c);throw vm(c,a);}function yG(a,b){return xG(a,vq,M([yh(t,b)]))}function zG(a,b){return xG(a,Zo,M([yh(t,b)]))}function AG(a,b){return xG(a,sx,M([yh(t,b)]))}
function BG(a,b,c,d){yG(a,M(["The map literal starting with ",rG.j(!1,H(d)),q(b)?[" on line ",t.aa(b)," column ",t.aa(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function CG(a,b,c){return yG(a,M(["Invalid ",bh(b),": ",c,"."]))}function DG(a,b,c){return yG(a,M(["Invalid character: ",c," found while reading ",bh(b),"."]))}
function EG(a,b){a:{var c=fn instanceof C?fn.Aa:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.aa(c)].join(""));}}return AG(a,M(["Unexpected EOF reading ",bh(fn)," starting ",zh(t,c,b),"."]))}function FG(a,b){return zG(a,M(["Invalid digit ",b," in unicode character."]))}function GG(a){return yG(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function HG(a,b){b=function(c){return function f(e){return new ch(null,function(){for(var h=e;;)if(h=E(h)){if(If(h)){var k=ae(h),m=K(k),n=gh(m);a:for(var r=0;;)if(r<m){var u=x(k,r),w=P(u,0,null);1<P(u,1,null)&&n.add(w);r+=1}else{k=!0;break a}return k?ih(kh(n),f(be(h))):ih(kh(n),null)}n=H(h);k=P(n,0,null);if(1<P(n,1,null))return hf(k,f(Fe(h)));h=Fe(h)}else return null},null,null)}(bl(c))}(b);return Bh(t,a,1<K(b)?"s":null,": ",ei(1,mi.j(ii(", "),b)))}
function IG(a,b,c){b=bh(b);yG(a,M([HG([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function JG(a){for(var b=a.Td(null);;)if(dG.aa?dG.aa(b):dG.call(null,b))b=a.Td(null);else return b}var KG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,LG=/([-+]?[0-9]+)\/([0-9]+)/,MG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function SG(a,b){a=fl(a,b);return P(a,0,null)===b}
function TG(a){if(SG(KG,a)){var b=sg(fl(KG,a));if(null!=(b.aa?b.aa(2):b.call(null,2)))a=0;else{a="-"===(b.aa?b.aa(1):b.call(null,1));b=null!=(b.aa?b.aa(3):b.call(null,3))?new S(null,2,5,T,[b.aa?b.aa(3):b.call(null,3),10],null):null!=(b.aa?b.aa(4):b.call(null,4))?new S(null,2,5,T,[b.aa?b.aa(4):b.call(null,4),16],null):null!=(b.aa?b.aa(5):b.call(null,5))?new S(null,2,5,T,[b.aa?b.aa(5):b.call(null,5),8],null):null!=(b.aa?b.aa(7):b.call(null,7))?new S(null,2,5,T,[b.aa?b.aa(7):b.call(null,7),parseInt(b.aa?
b.aa(6):b.call(null,6))],null):new S(null,2,5,T,[null,null],null);var c=b.aa?b.aa(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.aa?b.aa(1):b.call(null,1)),a=a?-1*b:b,a=q(isNaN(a))?null:a)}}else SG(MG,a)?(b=sg(fl(MG,a)),a=null!=(b.aa?b.aa(4):b.call(null,4))?parseFloat(b.aa?b.aa(1):b.call(null,1)):parseFloat(a)):SG(LG,a)?(b=sg(fl(LG,a)),a=b.aa?b.aa(1):b.call(null,1),b=b.aa?b.aa(2):b.call(null,2),a=q(fl(/^\+/,a))?Sg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function UG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?Sg.ba(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=Sg.j(a,b);return eG(bf(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new S(null,2,5,T,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new S(null,2,5,T,[null,a],null):null}
var VG=function VG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new De(c.slice(1),0,null):null;return VG.da(arguments[0],c)};VG.da=function(a){for(;;){var b=a.Td(null);if("\n"===b||"\n"===b||null==b)break}return a};VG.na=1;VG.qa=function(a){var b=H(a);a=J(a);return this.da(b,a)};
function WG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new De(f,0,null)}return b.call(this,c,e)}function b(c){return yG(c,M(["Unreadable form"]))}a.na=1;a.qa=function(c){var d=H(c);c=Fe(c);return b(d,c)};a.da=b;return a}()};new dc;function XG(a){return"#"!==a?"'"!==a?":"!==a?YG.aa?YG.aa(a):YG.call(null,a):!1:!1:!1}function ZG(a){return"@"===a||"`"===a||"~"===a}function $G(a,b,c,d){if(yc(c))return AG(a,M(["Unexpected EOF while reading start of ",bh(b),"."]));if(q(q(d)?ZG(c):d))return DG(a,b,c);d=new dc;for(jG(a,c);;){if(dG(c)||XG(c)||null==c)return t.aa(d);if(ZG(c))return DG(a,b,c);d.append(hG(a));c=iG(a)}}
function aH(a,b,c){b=hG(a);if(q(b)){var d=bH.aa?bH.aa(b):bH.call(null,b);if(q(d))return d.ba?d.ba(a,b,c):d.call(null,a,b,c);jG(a,b);return cH.ba?cH.ba(a,b,c):cH.call(null,a,b,c)}return AG(a,M(["Unexpected EOF while reading dispatch character."]))}function dH(a,b){return yG(a,M(["Unmatched delimiter ",b,"."]))}
function eH(a,b,c){b=1+b;if(K(a)!==b)throw zG(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=gG(bf(a,d),c);if(-1===f)return c=bf(a,d),zG(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function fH(a,b,c,d,e){for(var f=1,h=gG(b,c);;){if(-1===h)return FG(a,b);if(f!==d){var k=iG(a);var m=dG(k);m||(m=YG.aa?YG.aa(k):YG.call(null,k),m=q(m)?m:null==k);if(q(m))return q(e)?zG(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=gG(k,c);hG(a);if(-1===m)return FG(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function gH(a){var b=hG(a);if(null!=b){b=XG(b)||ZG(b)||dG(b)?t.aa(b):$G(a,fw,b,!1);var c=b.length;if(1===c)return bf(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(q(0==b.lastIndexOf("u",0)))return b=eH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=yG(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(q(0==b.lastIndexOf("o",0))){--c;if(3<c)return yG(a,M(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=eH(b,c,8);return 255<(b|0)?GG(a):b}return yG(a,M(["Unsupported character: ",b,"."]))}return AG(a,M(["Unexpected EOF while reading character."]))}function hH(a){return pG(a)?new S(null,2,5,T,[kG(a),(lG(a)|0)-1|0],null):null}
function iH(a,b,c,d){var e=hH(c),f=P(e,0,null);e=P(e,1,null);b=null==b?null:Kg(b);for(var h=Td(qf);;){var k=JG(c);if(!q(k)){var m=a,n=f,r=e,u=K(h);AG(c,M(["Unexpected EOF while reading ",q(u)?["item ",t.aa(u)," of "].join(""):null,bh(m),q(n)?[", starting at line ",t.aa(n)," and column ",t.aa(r)].join(""):null,"."]))}if(D.j(b,null==k?null:Kg(k)))return Vd(h);m=YG.aa?YG.aa(k):YG.call(null,k);q(m)?(k=m.ba?m.ba(c,k,d):m.call(null,c,k,d),h=k!==c?qh.j(h,k):h):(jG(c,k),k=jH?jH(c,!0,null,d):kH.call(null,
c,!0,null,d),h=k!==c?qh.j(h,k):h)}}function lH(a,b,c){a=iH(sA,")",a,c);return Bf(a)?Ge:yh(bg,a)}function mH(a,b,c){return iH(dx,"]",a,c)}function nH(a,b,c){var d=hH(a);b=P(d,0,null);d=P(d,1,null);c=iH(ey,"}",a,c);var e=K(c),f=Zk(2,c),h=Mk(f);!Lh(e)&&BG(a,b,d,c);D.j(K(h),K(f))||IG(a,ey,f);if(e<=2*Aj)a=Wf(c),a=new p(null,a.length/2,a,null);else a:for(a=Wf(c),b=a.length,d=0,e=Td(Bj);;)if(d<b)c=d+2,e=Wd(e,a[d],a[d+1]),d=c;else{a=Vd(e);break a}return a}
function oH(a,b){for(var c=function(){var h=new dc;h.append(b);return h}(),d=hG(a);;){if(q(function(){var h=dG(d);if(h)return h;h=YG.aa?YG.aa(d):YG.call(null,d);return q(h)?h:null==d}())){var e=t.aa(c);jG(a,d);var f=TG(e);return q(f)?f:yG(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=hG(a);c=e;d=f}}
function pH(a){var b=hG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=hG(a),-1===parseInt(b|0,16)?yG(a,M(["Invalid unicode escape: \\u",b,"."])):fH(a,b,16,4,!0);default:return eG(b)?(b=fH(a,b,8,3,!1),255<(b|0)?GG(a):b):yG(a,M(["Unsupported escape character: \\",b,"."]))}}
function qH(a){for(var b=new dc,c=hG(a);;){var d=c;if(D.j(null,d))return EG(a,M(['"',b]));if(D.j("\\",d)){d=function(){var f=b;f.append(pH(a));return f}();var e=hG(a);b=d;c=e}else{if(D.j('"',d))return t.aa(b);d=function(){var f=b;f.append(c);return f}();e=hG(a);b=d;c=e}}}
function rH(a,b){b=$G(a,Lw,b,!0);if(q(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Qo;default:var c=UG(b);c=q(c)?ze.j(c.aa?c.aa(0):c.call(null,0),c.aa?c.aa(1):c.call(null,1)):null;return q(c)?c:CG(a,Lw,b)}else return null}
function sH(a){var b=hG(a);if(dG(b))return yG(a,M(["A single colon is not a valid keyword."]));b=$G(a,DB,b,!0);var c=UG(b);if(q(q(c)?-1===b.indexOf("::"):c)){var d=c.aa?c.aa(0):c.call(null,0);c=c.aa?c.aa(1):c.call(null,1);return":"===bf(b,0)?CG(a,DB,b):ah.j(d,c)}return CG(a,DB,b)}
function tH(a,b,c){b=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);b=b instanceof C?uf([b,!0]):b instanceof z?new p(null,1,[fv,b],null):"string"===typeof b?new p(null,1,[fv,b],null):b;Ff(b)||yG(a,M(["Metadata cannot be ",rG.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);return null!=c&&(c.ga&131072||l===c.ye)?xf(c,Ek.da(M([yf(c),b]))):yG(a,M(["Metadata can not be applied to ",rG.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function uH(a,b,c){b=iH(yp,"}",a,c);c=Mk(b);D.j(K(b),K(c))||IG(a,yp,b);return c}function vH(a){jH?jH(a,!0,null,!0):kH.call(null,a,!0,null,!0);return a}
function wH(a,b,c){b=hG(a);b=$G(a,Yu,b,!0);var d=null==b?null:UG(b);if(null==d)var e=null;else e=P(d,0,null),d=P(d,1,null),e=q(e)?null:d;return q(e)?"{"===JG(a)?(c=iH(Yu,"}",a,c),!Lh(K(c))&&BG(a,null,null,c),b=fG(t.aa(e),Zk(2,c)),c=Zk(2,Fe(c)),D.j(K(Mk(b)),K(b))||IG(a,Yu,b),Pk(b,c)):yG(a,M(["Namespaced map with namespace ",b," does not specify a map."])):yG(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function xH(a,b,c){b=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);return D.j(sB,b)?Number.NaN:D.j(gs,b)?Number.NEGATIVE_INFINITY:D.j(Gz,b)?Number.POSITIVE_INFINITY:yG(a,M([["Invalid token: ##",t.aa(b)].join("")]))}function YG(a){switch(a){case '"':return qH;case ":":return sH;case ";":return VG;case "^":return tH;case "(":return lH;case ")":return dH;case "[":return mH;case "]":return dH;case "{":return nH;case "}":return dH;case "\\":return gH;case "#":return aH;default:return null}}
function bH(a){switch(a){case "^":return tH;case "{":return uH;case "\x3c":return WG();case "!":return VG;case "_":return vH;case ":":return wH;case "#":return xH;default:return null}}
function cH(a,b,c){b=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);var d=jH?jH(a,!0,null,c):kH.call(null,a,!0,null,c);b instanceof z||yG(a,M(["Invalid reader tag: ",rG.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.j(Pm.aa(c),b);e=q(e)?e:X.aa?X.aa(b):X.call(null,b);if(q(e))return e.aa?e.aa(d):e.call(null,d);c=qm.aa(c);return q(c)?c.j?c.j(b,d):c.call(null,b,d):yG(a,M(["No reader function for tag ",rG.j(!1,b),"."]))}
function kH(a){switch(arguments.length){case 1:return yH(X,arguments[0]);case 2:return yH(arguments[0],arguments[1]);case 4:return jH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function yH(a,b){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var c=B.j(a,sx),d=!Pf(a,sx);return jH(b,d,c,a)}
function jH(a,b,c,d){try{for(;;){var e=hG(a);if(!dG(e)){if(null==e){if(q(b)){b=a;var f=q(null)?AG(b,M(["EOF while reading, starting at line ",null,"."])):AG(b,M(["EOF while reading."]))}else f=c;return f}if(eG(e)||("+"===e||"-"===e)&&eG(a.Ge(null)))return oH(a,e);var h=YG(e);if(q(h)){var k=h.ba?h.ba(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return rH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof um){b=f instanceof um?f.data:null;if(D.j(Cs,pq.aa(b)))throw f;a=Ek.da(M([new p(null,
1,[pq,Cs],null),b,pG(a)?new p(null,3,[Qm,kG(a),yA,lG(a),Dt,mG(a)],null):null]));throw new um(f.message,a,f);}a=Ek.da(M([new p(null,1,[pq,Cs],null),pG(a)?new p(null,3,[Qm,kG(a),yA,lG(a),Dt,mG(a)],null):null]));throw new um(f.message,a,f);}throw m;}}function zH(a,b){if(q(q(b)?Dh.j(b,""):b)){b=new nG(b,K(b));a:{var c=Array(1);if(Lf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=yH(a,new oG(b,c))}else a=null;return a};var AH=function(){var a=new S(null,13,5,T,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new S(null,13,5,T,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.j(q(d)?b:a,c)}}(),BH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function CH(a){a=parseInt(a,10);return yc(isNaN(a))?a:null}
function DH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.aa(d)," Failed:  ",t.aa(a),"\x3c\x3d",t.aa(b),"\x3c\x3d",t.aa(c)].join(""));return b}
function EH(a){var b=el(BH,a);P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null),m=P(b,7,null),n=P(b,8,null),r=P(b,9,null),u=P(b,10,null);if(yc(b))throw Error(["Unrecognized date/time syntax: ",t.aa(a)].join(""));a=CH(c);b=function(){var F=CH(d);return q(F)?F:1}();c=function(){var F=CH(e);return q(F)?F:1}();var w=function(){var F=CH(f);return q(F)?F:0}(),A=function(){var F=CH(h);return q(F)?F:0}(),G=function(){var F=CH(k);return q(F)?F:0}(),I=function(){a:if(D.j(3,
K(m)))var F=m;else if(3<K(m))F=Sg.ba(m,0,3);else for(F=new dc(m);;)if(3>F.getLength())F=F.append("0");else{F=F.toString();break a}F=CH(F);return q(F)?F:0}();n=(D.j(n,"-")?-1:1)*(60*function(){var F=CH(r);return q(F)?F:0}()+function(){var F=CH(u);return q(F)?F:0}());return new S(null,8,5,T,[a,DH(1,b,12,"timestamp month field must be in range 1..12"),DH(1,c,AH(b,0===Mg(a,4)&&(0!==Mg(a,100)||0===Mg(a,400))),"timestamp day field must be in range 1..last day in month"),DH(0,w,23,"timestamp hour field must be in range 0..23"),
DH(0,A,59,"timestamp minute field must be in range 0..59"),DH(0,G,D.j(A,59)?60:59,"timestamp second field must be in range 0..60"),DH(0,I,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var FH=Uh(null),GH=Uh(Ek.da(M([new p(null,4,[Yy,function(a){if("string"===typeof a){var b=EH(a);if(q(b)){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null);b=P(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.aa(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Wt,function(a){if("string"===typeof a)return new sm(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},$t,function(a){if(Hf(a))return si.j(kj,a);throw Error("Queue literal expects a vector for its elements.");},vx,function(a){if(Hf(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);b.push(f);e+=1}else if(a=E(a))c=a,If(c)?(a=ae(c),e=be(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(Ff(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.La(null,e);f=P(h,0,null);h=P(h,1,null);f=bh(f);b[f]=h;e+=1}else if(a=E(a))If(a)?(d=ae(a),a=be(a),c=d,d=K(d)):
(d=H(a),c=P(d,0,null),d=P(d,1,null),c=bh(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),X])));function HH(a,b){var c=zh(Qk,a,b);return hf(c,ri(function(d){return c===d},b))}function IH(a,b){return K(a)<K(b)?v.ba(pf,b,a):v.ba(pf,a,b)}var JH=function JH(a){switch(arguments.length){case 1:return JH.aa(arguments[0]);case 2:return JH.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return JH.da(arguments[0],arguments[1],c)}};JH.aa=function(a){return a};
JH.j=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return v.ba(function(d,e){return function(f,h){return Pf(e,h)?f:Af.j(f,h)}}(a,b),a,a)};JH.da=function(a,b,c){a=HH(function(d){return-K(d)},pf.da(c,b,M([a])));return v.ba(JH,H(a),Fe(a))};JH.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};JH.na=2;
var KH=function KH(a){switch(arguments.length){case 1:return KH.aa(arguments[0]);case 2:return KH.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return KH.da(arguments[0],arguments[1],c)}};KH.aa=function(a){return a};KH.j=function(a,b){return K(a)<K(b)?v.ba(function(c,d){return Pf(b,d)?Af.j(c,d):c},a,a):v.ba(Af,a,b)};KH.da=function(a,b,c){return v.ba(KH,a,pf.j(c,b))};
KH.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};KH.na=2;function MH(a,b){return K(a)<=K(b)&&Jh(function(c){return Pf(b,c)},a)}function NH(a,b){return K(a)>=K(b)&&Jh(function(c){return Pf(a,c)},b)};function OH(a){return v.ba(function(b,c){b.push(c);return b},[],a)}function PH(a){return a instanceof Array};var QH=H(qi(function(a){return 0!=(32&1<<a)},Yk.ba(31,-1,-1)))+1,RH=(1<<QH)-1;function SH(a,b,c,d){for(var e=0,f=Lg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function TH(a,b,c,d){for(var e=0,f=Lg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function UH(a,b,c){var d=b.length,e=SH(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function VH(a,b,c){var d=b.length;a=SH(a,b,d-1,c);return a===d?-1:a}function WH(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var r=0;;)if(r<d)n[r+0]=a[r+b],r+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function XH(a,b,c,d){return WH(a,0,a.length,b,c,d)}
function YH(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function ZH(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function $H(a,b){return q(a)?q(b)?[a,b]:[a]:[b]}function aI(a,b,c){return q(a)?q(b)?q(c)?[a,b,c]:[a,b]:q(c)?[a,c]:[a]:q(b)?q(c)?[b,c]:[b]:[c]}
function bI(a){if(null!=a&&null!=a.Yf)a=a.Yf(a);else{var b=bI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=bI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INode.node-lim-key",a);}return a}function cI(a){if(null!=a&&null!=a.Tg)a=a.keys.length;else{var b=cI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=cI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("INode.node-len",a);}return a}
function dI(a,b){if(null!=a&&null!=a.$f)a=a.$f(a,b);else{var c=dI[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge",a);}return a}function eI(a,b){if(null!=a&&null!=a.ag)a=a.ag(a,b);else{var c=eI[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge-n-split",a);}return a}
function fI(a,b,c){if(null!=a&&null!=a.Zf)a=a.Zf(a,b,c);else{var d=fI[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=fI._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-lookup",a);}return a}function gI(a,b,c){if(null!=a&&null!=a.Wf)a=a.Wf(a,b,c);else{var d=gI[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=gI._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-conj",a);}return a}
function hI(a,b,c,d,e,f){if(null!=a&&null!=a.Xf)a=a.Xf(a,b,c,d,e,f);else{var h=hI[pa(null==a?null:a)];if(null!=h)a=h.nb?h.nb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=hI._,null!=h)a=h.nb?h.nb(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Cc("INode.node-disj",a);}return a}
function iI(a,b,c,d){if(q(b))return[a];if(16<cI(a))return aI(c,a,d);if(q(q(c)?16>=cI(c):c))return $H(dI(c,a),d);if(q(q(d)?16>=cI(d):d))return $H(c,dI(a,d));if(q(q(c)?null==d||cI(c)<cI(d):c))return a=eI(c,a),aI(a[0],a[1],d);a=eI(a,d);return aI(c,a[0],a[1])}function jI(a,b){this.keys=a;this.yb=b}g=jI.prototype;g.Yf=function(){var a=this.keys;return a[a.length-1]};g.Tg=function(){return this.keys.length};g.$f=function(a,b){return new jI(this.keys.concat(b.keys),this.yb.concat(b.yb))};
g.ag=function(a,b){a=YH(this.keys,b.keys);b=YH(this.yb,b.yb);return $H(new jI(a[0],b[0]),new jI(a[1],b[1]))};g.Zf=function(a,b,c){a=VH(b,this.keys,c);return-1===a?null:fI(this.yb[a],b,c)};g.Wf=function(a,b,c){a=SH(b,this.keys,this.keys.length-2,c);c=gI(this.yb[a],b,c);if(q(c)){var d=this.keys,e=a+1,f=c.map(bI);b=ZH(b,d,a,e,f,f.length)?d:XH(d,a,e,f);a=XH(this.yb,a,a+1,c);if(32>=a.length)return[new jI(b,a)];c=a.length>>>1;return[new jI(b.slice(0,c),a.slice(0,c)),new jI(b.slice(c),a.slice(c))]}return null};
g.Xf=function(a,b,c,d,e,f){var h=VH(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.yb[h-1]:null;var k=h+1<this.yb.length?this.yb[h+1]:null;c=hI(this.yb[h],b,c,!1,a,k);if(q(c)){a=q(a)?h-1:h;h=q(k)?2+h:1+h;k=this.keys;var m=c.map(bI);b=ZH(b,k,a,h,m,m.length)?k:XH(k,a,h,m);c=XH(this.yb,a,h,c);return iI(new jI(b,c),d,e,f)}return null};function kI(a){this.keys=a}g=kI.prototype;g.Yf=function(){var a=this.keys;return a[a.length-1]};g.Tg=function(){return this.keys.length};g.$f=function(a,b){return new kI(this.keys.concat(b.keys))};
g.ag=function(a,b){a=YH(this.keys,b.keys);return $H(new kI(a[0]),new kI(a[1]))};g.Zf=function(a,b,c){a=UH(b,this.keys,c);return-1===a?null:this.keys[a]};g.Wf=function(a,b,c){a=SH(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new kI(this.keys.slice(0,b)),new kI(WH(this.keys,b,d,a,a,[c]))]:[new kI(WH(this.keys,0,b,a,a,[c])),new kI(this.keys.slice(b,d))]):[new kI(XH(this.keys,a,a,[c]))]};
g.Xf=function(a,b,c,d,e,f){a=UH(b,this.keys,c);if(-1===a)return null;a=XH(this.keys,a,a+1,[]);return iI(new kI(a),d,e,f)};function lI(a,b,c,d,e,f){this.root=a;this.shift=b;this.ma=c;this.Bc=d;this.meta=e;this._hash=f;this.ga=2297303311;this.la=8332}g=lI.prototype;g.toString=function(){return le(this)};g.ya=function(a,b){return fI(this.root,this.Bc,b)};g.ka=function(a,b,c){a=fI(this.root,this.Bc,b);return q(a)?a:c};g.ta=function(a,b,c){return Z(b,ql,"#{"," ","}",c,E(this))};g.ra=function(){return this.meta};
g.va=function(){return this.ma};g.Jc=function(){return Id(mI.aa?mI.aa(this):mI.call(null,this))};g.wa=function(){var a=this._hash;return null!=a?a:this._hash=a=Me(this)};g.oa=function(a,b){var c=this;return Df(b)&&this.ma===K(b)&&Jh(function(d){return Pf(c,d)},b)};g.Jd=function(){return this};g.Ya=function(){return new lI(new kI([]),0,0,this.Bc,this.meta,null)};g.If=function(a,b){return nI.ba?nI.ba(this,b,this.Bc):nI.call(null,this,b,this.Bc)};
g.hb=function(a,b){a=mI.aa?mI.aa(this):mI.call(null,this);return q(a)?td(a,b):b.ia?b.ia():b.call(null)};g.ib=function(a,b,c){a=mI.aa?mI.aa(this):mI.call(null,this);return q(a)?td(a,b,c):c};g.Kd=function(a,b){return oI.ba?oI.ba(this,b,this.Bc):oI.call(null,this,b,this.Bc)};g.Sd=function(){return this};g.ua=function(){return mI.aa?mI.aa(this):mI.call(null,this)};g.sa=function(a,b){return new lI(this.root,this.shift,this.ma,this.Bc,b,this._hash)};
g.xa=function(a,b){return oI.ba?oI.ba(this,b,this.Bc):oI.call(null,this,b,this.Bc)};g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return this.ya(null,a)};g.j=function(a,b){return this.ka(null,a,b)};
function pI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.yb[RH&b>>>c],c-=QH;else return a.keys}function qI(a,b,c,d){return new lI(b,c,d,a.Bc,a.meta,null)}var rI=function rI(a,b,c){var e=RH&b>>>c;if(0<c){var f=a.yb[e],h=c-QH;b=rI.ba?rI.ba(f,b,h):rI.call(null,f,b,h);return-1===b?e+1<a.yb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function sI(a,b){return rI(a.root,b,a.shift)}
function tI(a,b){for(var c=0;;)if(0<b)c|=a.yb.length-1<<b,b-=QH,a=a.yb,a=a[a.length-1];else return c|a.keys.length-1<<0}var uI=function uI(a,b,c){var e=RH&b>>>c;if(0<c){var f=c-QH,h=a.yb[e];b=uI.ba?uI.ba(h,b,f):uI.call(null,h,b,f);return-1===b?0<=e-1?(--e,tI(a.yb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function vI(a,b){return uI(a.root,b,a.shift)}function mI(a){if(0<cI(a.root)){var b=tI(a.root,a.shift)+1;return wI.ba?wI.ba(a,0,b):wI.call(null,a,0,b)}return null}
function xI(a,b,c){this.ha=a;this.off=b;this.end=c;this.ga=524306;this.la=0}g=xI.prototype;g.va=function(){return this.end-this.off};g.La=function(a,b){return this.ha[this.off+b]};g.gb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.ha[this.off+b]:c};g.ue=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new fh(this.ha,this.off+1,this.end)};g.hb=function(a,b){return this.off===this.end?b.ia?b.ia():b.call(null):td(this.ue(null),b,this.ha[this.off])};
g.ib=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.ha[a];c=b.j?b.j(c,d):b.call(null,c,d);if(Re(c))return y(c);a+=1}else return c};function yI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.ga=2309488832;this.la=1536}g=yI.prototype;g.toString=function(){return le(this)};g.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,E(this))};
g.bb=function(){if(q(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new yI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=sI(this.set,this.left);return Dh.j(-1,a)&&a<this.right?this.rf(a,this.right):null}return null};g.Jc=function(){if(q(this.keys)){var a=this.set,b=vI(this.set,this.left),c=vI(this.set,this.right);return zI.ba?zI.ba(a,b,c):zI.call(null,a,b,c)}return null};g.oa=function(a,b){return gf(this,b)};
g.hb=function(a,b){if(null==this.keys)return b.ia?b.ia():b.call(null);a=this.jb(null);var c=this.bb(null);return null==c?a:td(c,b,a)};g.ib=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(Re(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=sI(this.set,a),-1!==a&&a<this.right)d=pI(this.set,a),e=RH&a>>>0;else return c}};g.jb=function(){return q(this.keys)?this.keys[this.idx]:null};
g.sb=function(){var a=this.bb(null);return q(a)?a:Ge};g.ua=function(){return q(this.keys)?this:null};g.we=function(){var a=D.j(this.left|RH,this.right|RH)?this.right&RH:this.keys.length;return new xI(this.keys,this.idx,a)};g.Rd=function(){var a=this.ve();return q(a)?a:Ge};g.rf=function(a,b){return new yI(this.set,a,b,pI(this.set,a),RH&a>>>0)};g.ve=function(){var a=sI(this.set,this.left+(this.keys.length-this.idx-1));return Dh.j(-1,a)&&a<this.right?this.rf(a,this.right):null};
function wI(a,b,c){return new yI(a,b,c,pI(a,b),RH&b>>>0)}function AI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.ga=2308964544;this.la=0}g=AI.prototype;g.toString=function(){return le(this)};g.ta=function(a,b,c){return Z(b,ql,"("," ",")",c,E(this))};
g.bb=function(){if(q(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new AI(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=vI(this.set,this.right);return Dh.j(-1,a)&&a>this.left?this.rf(this.left,a):null}return null};g.Jc=function(){if(q(this.keys)){var a=-1===this.left?0:sI(this.set,this.left),b=sI(this.set,this.right);return wI(this.set,a,-1===b?this.right+1:b)}return null};g.oa=function(a,b){return gf(this,b)};
g.jb=function(){return q(this.keys)?this.keys[this.idx]:null};g.sb=function(){var a=this.bb(null);return q(a)?a:Ge};g.ua=function(){return q(this.keys)?this:null};g.rf=function(a,b){return new AI(this.set,a,b,pI(this.set,b),RH&b>>>0)};function zI(a,b,c){return new AI(a,b,c,pI(a,c),RH&c>>>0)}
function BI(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=cI(e);if(0===h){var m=e.keys;m=SH(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=SH(d,m,k-2,b);f|=m<<h;h-=QH;e=e.yb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=cI(e);if(0===h){k=e.keys;m=TH(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=TH(d,k,m-2,c);f|=m<<h;h-=QH;e=e.yb[m]}return c>b?new yI(a,b,c,pI(a,b),RH&b>>>0):null}
function CI(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.aa?a.aa(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function DI(a){var b=a.length,c=Td(qf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){qh.j(c,a.slice(d));break}else 40<=e?(qh.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,qh.j(c,a.slice(d,d+e)),d+=e)}return Wf(Vd(c))}function oI(a,b,c){b=gI(a.root,c,b);return null==b?a:1===b.length?qI(a,b[0],a.shift,a.ma+1):qI(a,new jI(b.map(bI),b),a.shift+QH,a.ma+1)}
function nI(a,b,c){b=hI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof jI&&1===b.yb.length?qI(a,b.yb[0],a.shift-QH,a.ma-1):qI(a,b,a.shift,a.ma-1)}function EI(a,b,c){return BI(a,b,c,a.Bc)}function FI(a){var b=GI.ja(536870911,null,null,2147483647),c=GI.ja(0,null,null,536870912);a=BI(a,c,b,a.Bc);return null==a?null:Id(a)}
function HI(a,b){for(var c=CI(function(h){return new kI(h)},DI(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new lI(new kI([]),0,0,a,null,null);case 1:return new lI(H(d),e,b.length,a,null,null);default:d=CI(function(){return function(h){return new jI(h.map(bI),h)}}(d,e,f,c),DI(d)),e+=QH}}}function II(a){return new lI(new kI([]),0,0,a,null,null)};var JI=Error;function KI(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.ga&8388608||l===a.Hf?!0:a.ga?!1:Ac(zd,a):Ac(zd,a))?b:wc(a)||"string"===typeof a),b=b||PH(a);return b}var LI=Qh(pf,qf),MI=Qh(pf,Lk);function NI(a,b,c){return H(v.ba(function(d,e){var f=P(d,0,null);d=P(d,1,null);e=a.ba?a.ba(f,e,d):a.call(null,f,e,d);return Re(e)?Qe(new S(null,2,5,T,[e,d],null)):new S(null,2,5,T,[e,d+1],null)},new S(null,2,5,T,[b,0],null),c))}function OI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function PI(a){if(null!=a&&null!=a.$a)a=a.$a(a);else{var b=PI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=PI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDatom.datom-tx",a);}return a}function QI(a){if(null!=a&&null!=a.tc)a=a.tc(a);else{var b=QI[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=QI._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDatom.datom-added",a);}return a}
function RI(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.xf=d;this._hash=e;this.ga=2162164496;this.la=0}g=RI.prototype;g.$a=function(){return 0<this.xf?this.xf:-this.xf};g.tc=function(){return 0<this.xf};g.wa=function(){return 0===this._hash?this._hash=SI.aa?SI.aa(this):SI.call(null,this):this._hash};g.oa=function(a,b){return b instanceof RI?TI.j?TI.j(this,b):TI.call(null,this,b):!1};g.ua=function(){return UI.aa?UI.aa(this):UI.call(null,this)};
g.ya=function(a,b){return VI.ba?VI.ba(this,b,null):VI.call(null,this,b,null)};g.ka=function(a,b,c){return VI.ba?VI.ba(this,b,c):VI.call(null,this,b,c)};g.La=function(a,b){return WI?WI(this,b):XI.call(null,this,b)};g.gb=function(a,b,c){return YI?YI(this,b,c):XI.call(null,this,b,c)};g.pa=function(a,b,c){return ZI.ba?ZI.ba(this,b,c):ZI.call(null,this,b,c)};g.ta=function(a,b,c){return Z(b,ql,"#datascript/Datom ["," ","]",c,new S(null,5,5,T,[this.e,this.a,this.v,this.$a(null),this.tc(null)],null))};
ia("datascript.db.Datom",RI);var GI=function GI(a){switch(arguments.length){case 3:return GI.ba(arguments[0],arguments[1],arguments[2]);case 4:return GI.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return GI.za(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};GI.ba=function(a,b,c){return new RI(a,b,c,536870912,0)};GI.ja=function(a,b,c,d){return new RI(a,b,c,d,0)};
GI.za=function(a,b,c,d,e){return new RI(a,b,c,q(e)?d:-d,0)};GI.na=5;function $I(a){return a instanceof RI}function SI(a){return OI(OI(ve(a.e),ve(a.a)),ve(a.v))}function TI(a,b){return a.e===b.e&&D.j(a.a,b.a)&&D.j(a.v,b.v)}function UI(a){return new rf(null,a.e,new rf(null,a.a,new rf(null,a.v,new rf(null,a.$a(null),new rf(null,a.tc(null),null,1,null),2,null),3,null),4,null),5,null)}
function VI(a,b,c){return D.j(Dw,b)?a.v:D.j("e",b)?a.e:D.j(Zx,b)?a.tc(null):D.j("v",b)?a.v:D.j(tw,b)?a.e:D.j("a",b)?a.a:D.j(pp,b)?a.$a(null):D.j("added",b)?a.tc(null):D.j("tx",b)?a.$a(null):D.j(xw,b)?a.a:c}function XI(a){switch(arguments.length){case 2:return WI(arguments[0],arguments[1]);case 3:return YI(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}
function WI(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.$a(null);case 4:return a.tc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.aa(b)].join(""));}}function YI(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.$a(null);case 4:return a.tc(null);default:return c}}
function ZI(a,b,c){switch(b instanceof C?b.Aa:null){case "e":return GI.za(c,a.a,a.v,a.$a(null),a.tc(null));case "a":return GI.za(a.e,c,a.v,a.$a(null),a.tc(null));case "v":return GI.za(a.e,a.a,c,a.$a(null),a.tc(null));case "tx":return GI.za(a.e,a.a,a.v,c,a.tc(null));case "added":return GI.za(a.e,a.a,a.v,a.$a(null),c);default:throw new JI(["invalid key for #datascript/Datom: ",t.aa(b)].join(""));}}function aJ(a,b){return null==a?0:null==b?0:Sf(a,b)}
function bJ(a,b){return D.j(a,b)?0:(null!=a?a.la&2048||l===a.qd||(a.la?0:Ac(Yd,a)):Ac(Yd,a))?Zd(a,b):"string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b)?ve(a)-ve(b):ab(a,b)}function cJ(a,b){return null==a?0:null==b?0:bJ(a,b)}function dJ(a,b){var c=a.e-b.e;return 0===c?(c=aJ(a.a,b.a),0===c?(c=cJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function eJ(a,b){var c=aJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=cJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}
function fJ(a,b){var c=aJ(a.a,b.a);return 0===c?(c=cJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function gJ(a,b){return a instanceof C?Zd(a,b):ab(a,b)}function hJ(a,b){var c=a.e-b.e;return 0===c?(c=gJ(a.a,b.a),0===c?(c=bJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function iJ(a,b){var c=gJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=bJ(a.v,b.v),0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}
function jJ(a,b){var c=gJ(a.a,b.a);return 0===c?(c=bJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.$a(null)-b.$a(null),0===a?0:a):c):c):c}function kJ(){}function lJ(a,b){if(null!=a&&null!=a.Kg)a=a.Kg(a,b);else{var c=lJ[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=lJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISearch.-search",a);}return a}function mJ(a,b){return H(lJ(a,b))}
function nJ(a,b,c){if(null!=a&&null!=a.Jg)a=a.Jg(a,b,c);else{var d=nJ[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=nJ._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IIndexAccess.-datoms",a);}return a}function oJ(){}function pJ(a){if(null!=a&&null!=a.Ih)a=a.Lb;else{var b=pJ[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=pJ._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDB.-schema",a);}return a}
function qJ(a,b){if(null!=a&&null!=a.Ig)a=a.Ig(a,b);else{var c=qJ[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=qJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IDB.-attrs-by",a);}return a}function rJ(a,b,c,d,e,f,h,k,m,n,r){this.Lb=a;this.Eb=b;this.hc=c;this.ic=d;this.qc=e;this.rc=f;this.oc=h;this.hash=k;this.ea=m;this.ca=n;this.fa=r;this.ga=2230716170;this.la=139264}g=rJ.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "schema":return this.Lb;case "eavt":return this.Eb;case "aevt":return this.hc;case "avet":return this.ic;case "max-eid":return this.qc;case "max-tx":return this.rc;case "rschema":return this.oc;case "hash":return this.hash;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,W.j(new S(null,8,5,T,[new S(null,2,5,T,[Zr,this.Lb],null),new S(null,2,5,T,[dv,this.Eb],null),new S(null,2,5,T,[Ix,this.hc],null),new S(null,2,5,T,[gn,this.ic],null),new S(null,2,5,T,[Cx,this.qc],null),new S(null,2,5,T,[bz,this.rc],null),new S(null,2,5,T,[Ft,this.oc],null),new S(null,2,5,T,[iA,this.hash],null)],null),this.ca))};
g.Ba=function(){return new rj(this,8,new S(null,8,5,T,[Zr,dv,Ix,gn,Cx,bz,Ft,iA],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 8+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1515640948^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Lb,b.Lb)&&D.j(this.Eb,b.Eb)&&D.j(this.hc,b.hc)&&D.j(this.ic,b.ic)&&D.j(this.qc,b.qc)&&D.j(this.rc,b.rc)&&D.j(this.oc,b.oc)&&D.j(this.hash,b.hash)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,8,[Zr,null,bz,null,iA,null,Ix,null,gn,null,Cx,null,dv,null,Ft,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Zr,b):V.call(null,Zr,b))?new rJ(c,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(dv,b):V.call(null,dv,b))?new rJ(this.Lb,c,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(Ix,b):V.call(null,Ix,b))?new rJ(this.Lb,this.Eb,c,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(gn,b):V.call(null,gn,b))?new rJ(this.Lb,this.Eb,this.hc,c,this.qc,this.rc,this.oc,this.hash,
this.ea,this.ca,null):q(V.j?V.j(Cx,b):V.call(null,Cx,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,c,this.rc,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(bz,b):V.call(null,bz,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,c,this.oc,this.hash,this.ea,this.ca,null):q(V.j?V.j(Ft,b):V.call(null,Ft,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,c,this.hash,this.ea,this.ca,null):q(V.j?V.j(iA,b):V.call(null,iA,b))?new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,c,this.ea,
this.ca,null):new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,8,5,T,[new Y(Zr,this.Lb),new Y(dv,this.Eb),new Y(Ix,this.hc),new Y(gn,this.ic),new Y(Cx,this.qc),new Y(bz,this.rc),new Y(Ft,this.oc),new Y(iA,this.hash)],null),this.ca))};g.sa=function(a,b){return new rJ(this.Lb,this.Eb,this.hc,this.ic,this.qc,this.rc,this.oc,this.hash,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function sJ(a){var b=R.da(a,Zr,M([dv,Ix,gn,Cx,bz,Ft,iA]));b=Gf(a)?si.j(X,b):b;return new rJ(Zr.aa(a),dv.aa(a),Ix.aa(a),gn.aa(a),Cx.aa(a),bz.aa(a),Ft.aa(a),iA.aa(a),null,Eh(b),null)}g.Za=l;g.ta=function(a,b,c){return tJ.ba?tJ.ba(this,b,c):tJ.call(null,this,b,c)};g.wg=l;g.va=function(){return K(this.Eb)};g.yh=l;g.Jc=function(){return Id(this.Eb)};g.uh=l;g.wa=function(){return uJ.aa?uJ.aa(this):uJ.call(null,this)};
g.oa=function(a,b){return vJ.j?vJ.j(this,b):vJ.call(null,this,b)};g.yg=l;g.Jd=function(){return Ai.ba(Ai.ba(Ai.ba(this,dv,oh),Ix,oh),gn,oh)};g.zg=l;g.Ya=function(){var a=this.Lb;a=wJ?wJ(a):xJ.call(null,a);return xf(a,yf(this))};g.Kd=function(){throw vm("datascript.DB/conj! is not supported",X);};g.Sd=function(){return Ai.ba(Ai.ba(Ai.ba(this,dv,ph),Ix,ph),gn,ph)};g.Hf=l;g.ua=function(){return Dd(this.Eb)};
g.Jg=function(a,b,c){if(D.j(b,gn)&&(a=H(c),null!=a&&!q(yJ.j?yJ.j(this,a):yJ.call(null,this,a))))throw vm(["Attribute ",xl.da(M([a]))," should be marked as :db/index true"].join(""),new p(null,3,[Hp,Fx,Ny,gn,Am,c],null));return EI(B.j(this,b),zJ.za?zJ.za(this,b,c,0,536870912):zJ.call(null,this,b,c,0,536870912),zJ.za?zJ.za(this,b,c,2147483647,2147483647):zJ.call(null,this,b,c,2147483647,2147483647))};g.Hg=l;g.Ih=function(){return this.Lb};
g.Ig=function(a,b){a=this.oc;return a.aa?a.aa(b):a.call(null,b)};g.Jh=l;
g.Kg=function(a,b){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null);b=this.Eb;var f=this.hc,h=this.ic;Pf(qJ(this,LA),c);return q(a)?q(c)?null!=d?q(e)?EI(b,GI.ja(a,c,d,e),GI.ja(a,c,d,e)):EI(b,GI.ja(a,c,d,536870912),GI.ja(a,c,d,2147483647)):q(e)?qi(function(k){return D.j(e,k.$a(null))},EI(b,GI.ja(a,c,null,536870912),GI.ja(a,c,null,2147483647))):EI(b,GI.ja(a,c,null,536870912),GI.ja(a,c,null,2147483647)):null!=d?q(e)?qi(function(k){return D.j(d,k.v)&&D.j(e,k.$a(null))},EI(b,GI.ja(a,null,null,
536870912),GI.ja(a,null,null,2147483647))):qi(function(k){return D.j(d,k.v)},EI(b,GI.ja(a,null,null,536870912),GI.ja(a,null,null,2147483647))):q(e)?qi(function(k){return D.j(e,k.$a(null))},EI(b,GI.ja(a,null,null,536870912),GI.ja(a,null,null,2147483647))):EI(b,GI.ja(a,null,null,536870912),GI.ja(a,null,null,2147483647)):q(c)?null!=d?q(e)?q(yJ.j?yJ.j(this,c):yJ.call(null,this,c))?qi(function(k){return D.j(e,k.$a(null))},EI(h,GI.ja(0,c,d,536870912),GI.ja(2147483647,c,d,2147483647))):qi(function(k){return D.j(d,
k.v)&&D.j(e,k.$a(null))},EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647))):q(yJ.j?yJ.j(this,c):yJ.call(null,this,c))?EI(h,GI.ja(0,c,d,536870912),GI.ja(2147483647,c,d,2147483647)):qi(function(k){return D.j(d,k.v)},EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647))):q(e)?qi(function(k){return D.j(e,k.$a(null))},EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647))):EI(f,GI.ja(0,c,null,536870912),GI.ja(2147483647,c,null,2147483647)):null!=d?q(e)?qi(function(k){return D.j(d,
k.v)&&D.j(e,k.$a(null))},b):qi(function(k){return D.j(d,k.v)},b):q(e)?qi(function(k){return D.j(e,k.$a(null))},b):b};
function AJ(a,b){switch(b instanceof C?b.Aa:null){case "db.unique/identity":return new S(null,3,5,T,[Sm,Qy,sy],null);case "db.unique/value":return new S(null,3,5,T,[Sm,bs,sy],null);case "db.cardinality/many":return new S(null,1,5,T,[LA],null);case "db.type/ref":return new S(null,2,5,T,[jz,sy],null);default:return D.j(Tm,a)&&!0===b?new S(null,1,5,T,[Tm],null):D.j(sy,a)&&!0===b?new S(null,1,5,T,[sy],null):D.j(Vo,a)?new S(null,2,5,T,[an,sy],null):qf}}
function BJ(a,b){return v.ba(function(c,d){return NI(function(e,f,h){return Ai.za(e,f,Q,d,h)},c,Vo.aa(d.aa?d.aa(a):d.call(null,a)))},X,an.aa(b))}function CJ(a){var b=vg(function(c,d,e){return vg(function(f,h,k){return v.ba(function(m,n){return Ai.ja(m,n,MI,d)},f,AJ(h,k))},c,e)},X,a);return Q.ba(b,Js,BJ(a,b))}
function DJ(a,b,c,d){if(null!=c&&!Pf(d,c))throw vm(["Bad attribute specification for ",xl.da(M([uf([a,uf([b,c])])])),", expected one of ",t.aa(d)].join(""),new p(null,4,[Hp,fp,mp,a,zA,b,Rw,c],null));}
function EJ(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e),h=P(f,0,null),k=P(f,1,null),m=Tm.j(k,!1);DJ(h,Tm,Tm.aa(k),new Jk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=m;return q(F)?Dh.j(qA.aa(k),jz):F}()))throw vm(["Bad attribute specification for ",xl.da(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Hp,fp,mp,h,zA,Tm],null));DJ(h,Sm,Sm.aa(k),new Jk(null,new p(null,2,[Qy,null,bs,null],null),null));
DJ(h,qA,qA.aa(k),new Jk(null,new p(null,1,[jz,null],null),null));DJ(h,iu,iu.aa(k),new Jk(null,new p(null,2,[LA,null,Vx,null],null),null));if(Pf(k,Vo)){f=new p(null,3,[Hp,fp,mp,h,zA,Vo],null);if(D.j(LA,iu.aa(k)))throw vm([xl.da(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Vo.aa(k);if(!Ef(n))throw vm([xl.da(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",xl.da(M([n]))].join(""),f);if(Bf(n))throw vm([xl.da(M([h]))," :db/tupleAttrs cant be empty"].join(""),
f);n=E(n);for(var r=null,u=0,w=0;;)if(w<u){var A=r.La(null,w),G=Q.ba(f,Rw,A);if(Pf(B.j(a,A),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",xl.da(M([A]))].join(""),G);if(D.j(LA,iu.aa(B.j(a,A))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",xl.da(M([A]))].join(""),G);w+=1}else if(n=E(n)){if(If(n))u=ae(n),n=be(n),r=u,u=K(u);else{r=H(n);u=Q.ba(f,Rw,r);if(Pf(B.j(a,r),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
xl.da(M([r]))].join(""),u);if(D.j(LA,iu.aa(B.j(a,r))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",xl.da(M([r]))].join(""),u);n=J(n);r=null;u=0}w=0}else break}e+=1}else if(h=E(b)){b=h;if(If(b))c=ae(b),b=be(b),h=c,d=K(c),c=h;else{c=H(b);h=P(c,0,null);k=P(c,1,null);var I=Tm.j(k,!1);DJ(h,Tm,Tm.aa(k),new Jk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var F=I;return q(F)?Dh.j(qA.aa(k),jz):F}()))throw vm(["Bad attribute specification for ",
xl.da(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Hp,fp,mp,h,zA,Tm],null));DJ(h,Sm,Sm.aa(k),new Jk(null,new p(null,2,[Qy,null,bs,null],null),null));DJ(h,qA,qA.aa(k),new Jk(null,new p(null,1,[jz,null],null),null));DJ(h,iu,iu.aa(k),new Jk(null,new p(null,2,[LA,null,Vx,null],null),null));if(Pf(k,Vo)){c=new p(null,3,[Hp,fp,mp,h,zA,Vo],null);if(D.j(LA,iu.aa(k)))throw vm([xl.da(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),
c);d=Vo.aa(k);if(!Ef(d))throw vm([xl.da(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",xl.da(M([d]))].join(""),c);if(Bf(d))throw vm([xl.da(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){r=e.La(null,n);u=Q.ba(c,Rw,r);if(Pf(B.j(a,r),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",xl.da(M([r]))].join(""),u);if(D.j(LA,iu.aa(B.j(a,r))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
xl.da(M([r]))].join(""),u);n+=1}else if(d=E(d)){if(If(d))f=ae(d),d=be(d),e=f,f=K(f);else{e=H(d);f=Q.ba(c,Rw,e);if(Pf(B.j(a,e),Vo))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",xl.da(M([e]))].join(""),f);if(D.j(LA,iu.aa(B.j(a,e))))throw vm([xl.da(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",xl.da(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else break}
function xJ(a){switch(arguments.length){case 0:return wJ(null);case 1:return wJ(arguments[0]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function wJ(a){EJ(a);return sJ(new p(null,8,[Zr,a,Ft,CJ(Ek.da(M([new p(null,1,[tA,new p(null,1,[Sm,Qy],null)],null),a]))),dv,II(dJ),Ix,II(eJ),gn,II(fJ),Cx,0,bz,536870912,iA,Uh(0)],null))}function FJ(a){a=tw.aa(H(FI(a)));return q(a)?a:0}
function GJ(a,b){var c=H(gi($I,a));if(null!=c)throw vm(["init-db expects list of Datoms, got ",xl.da(M([Bc(c)]))].join(""),new p(null,1,[Hp,Kz],null));EJ(b);c=CJ(Ek.da(M([new p(null,1,[tA,new p(null,1,[Sm,Qy],null)],null),b])));var d=sy.aa(c),e=PH(a)?a:OH(a);e.sort(hJ);var f=HI(dJ,e);e.sort(iJ);e=HI(eJ,e);a=Wf(qi(function(m){return Pf(d,m.a)},a));a.sort(jJ);a=HI(fJ,a);var h=FJ(f),k=zg(ci.aa(function(m){return m.$a(null)}),Ig,536870912,f);return sJ(new p(null,8,[Zr,b,Ft,c,dv,f,Ix,e,gn,a,Cx,h,bz,k,
iA,Uh(0)],null))}function uJ(a){var b=y(a.hash);return 0===b?Vh(a.hash,OI(ve(a.Lb),ve(a.Eb))):b}function vJ(a,b){var c;if(c=(b instanceof rJ||!1)&&D.j(pJ(a),pJ(b)))a:for(a=nJ(a,dv,qf),c=nJ(b,dv,qf),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.j(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function tJ(a,b,c){Jd(b,"#datascript/DB {");Jd(b,":schema ");ql(pJ(a),b,c);Jd(b,", :datoms ");Z(b,function(d,e,f){return Z(e,ql,"["," ","]",f,new S(null,4,5,T,[d.e,d.a,d.v,PI(d)],null))},"["," ","]",c,nJ(a,dv,qf));return Jd(b,"}")}
function HJ(a,b,c,d,e,f,h){if(q(c)){var k=new rf(null,Zn,new rf(null,Gv,new rf(null,b,new rf(null,c,new rf(null,d,new rf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);IJ.j?IJ.j(c,k):IJ.call(null,c,k)}return GI.ja(function(){var m=JJ.j?JJ.j(a,b):JJ.call(null,a,b);return q(m)?m:f}(),c,q(null!=d?KJ.j?KJ.j(a,c):KJ.call(null,a,c):!1)?LJ.j?LJ.j(a,d):LJ.call(null,a,d):d,function(){var m=JJ.j?JJ.j(a,e):JJ.call(null,a,e);return q(m)?m:h}())}
function zJ(a,b,c,d,e){var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);b=b instanceof C?b.Aa:null;switch(b){case "eavt":return HJ(a,f,h,k,c,d,e);case "aevt":return HJ(a,h,f,k,c,d,e);case "avet":return HJ(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.aa(b)].join(""));}}function MJ(a,b,c,d,e,f,h,k){this.Mc=a;this.Lc=b;this.Rc=c;this.Pc=d;this.Sc=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=MJ.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "db-before":return this.Mc;case "db-after":return this.Lc;case "tx-data":return this.Rc;case "tempids":return this.Pc;case "tx-meta":return this.Sc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[xo,this.Mc],null),new S(null,2,5,T,[zu,this.Lc],null),new S(null,2,5,T,[$r,this.Rc],null),new S(null,2,5,T,[GB,this.Pc],null),new S(null,2,5,T,[Xo,this.Sc],null)],null),this.ca))};g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[xo,zu,$r,GB,Xo],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-2022644885^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Mc,b.Mc)&&D.j(this.Lc,b.Lc)&&D.j(this.Rc,b.Rc)&&D.j(this.Pc,b.Pc)&&D.j(this.Sc,b.Sc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[GB,null,zu,null,xo,null,$r,null,Xo,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new MJ(this.Mc,this.Lc,this.Rc,this.Pc,this.Sc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(xo,b):V.call(null,xo,b))?new MJ(c,this.Lc,this.Rc,this.Pc,this.Sc,this.ea,this.ca,null):q(V.j?V.j(zu,b):V.call(null,zu,b))?new MJ(this.Mc,c,this.Rc,this.Pc,this.Sc,this.ea,this.ca,null):q(V.j?V.j($r,b):V.call(null,$r,b))?new MJ(this.Mc,this.Lc,c,this.Pc,this.Sc,this.ea,this.ca,null):q(V.j?V.j(GB,b):V.call(null,GB,b))?new MJ(this.Mc,this.Lc,this.Rc,c,this.Sc,this.ea,this.ca,null):q(V.j?V.j(Xo,b):V.call(null,Xo,b))?new MJ(this.Mc,this.Lc,this.Rc,this.Pc,c,this.ea,
this.ca,null):new MJ(this.Mc,this.Lc,this.Rc,this.Pc,this.Sc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(xo,this.Mc),new Y(zu,this.Lc),new Y($r,this.Rc),new Y(GB,this.Pc),new Y(Xo,this.Sc)],null),this.ca))};g.sa=function(a,b){return new MJ(this.Mc,this.Lc,this.Rc,this.Pc,this.Sc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function NJ(a,b,c){return Pf(qJ(a,c),b)}function KJ(a,b){return NJ(a,b,jz)}
function yJ(a,b){return NJ(a,b,sy)}
function OJ(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw vm(["Highest supported entity id is ",xl.da(M([2147483647])),", got ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Yt,Rw,b],null));return b}if(Ef(b)){var c=b,d=P(c,0,null);c=P(c,1,null);if(Dh.j(K(b),2))throw vm(["Lookup ref should contain 2 elements: ",xl.da(M([b]))].join(""),new p(null,2,[Hp,cz,Yt,b],null));if(NJ(a,d,Sm))return null==c?null:tw.aa(H(nJ(a,gn,b)));throw vm(["Lookup ref attribute should be marked as :db/unique: ",xl.da(M([b]))].join(""),
new p(null,2,[Hp,bn,Yt,b],null));}if(wc(b))b=M(b);else{if(b instanceof C)return tw.aa(H(nJ(a,gn,new S(null,2,5,T,[tA,b],null))));throw vm(["Expected number or lookup ref for entity id, got ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Ar,Yt,b],null));}}}function LJ(a,b){a=OJ(a,b);if(q(a))return a;throw vm(["Nothing found for entity id ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Eq,Yt,b],null));}function JJ(a,b){return q(b)?LJ(a,b):null}
function IJ(a,b){if(a instanceof C||"string"===typeof a)return null;throw vm(["Bad entity attribute ",xl.da(M([a]))," at ",xl.da(M([b])),", expected keyword or string"].join(""),new p(null,3,[Hp,rn,mp,a,zz,b],null));}function PJ(a,b){if(null==a)throw vm(["Cannot store nil as a value at ",xl.da(M([b]))].join(""),new p(null,3,[Hp,rn,Rw,a,zz,b],null));return null}function QJ(a){return wi(a,new S(null,2,5,T,[xo,bz],null))+1}
function RJ(a){return D.j(a,Jm)||D.j(a,":db/current-tx")||D.j(a,"datomic.tx")||D.j(a,"datascript.tx")}function SJ(a){return"number"===typeof a&&0>a||"string"===typeof a}function TJ(a,b){return b>Cx.aa(a)&&536870912>b?Q.ba(a,Cx,b):a}function UJ(a,b,c){var d=RJ(b)?Ai.za(a,GB,Q,b,c):a;d=SJ(b)?Ai.za(d,GB,Q,b,c):d;if(b=!SJ(b))a=zu.aa(a),b=c>Cx.aa(a)&&536870912>c;a=b?Ai.za(d,GB,Q,c,c):d;return Ai.ja(a,zu,TJ,c)}
function VJ(a,b){var c=b.tc(null);c=q(c)?NJ(a,b.a,Sm):c;if(q(c)&&(c=Eh(nJ(a,gn,new S(null,2,5,T,[b.a,b.v],null))),null!=c))throw vm(["Cannot add ",xl.da(M([b]))," because of unique constraint: ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Vy,mp,b.a,Cv,b],null));c=yJ(a,b.a);if(q(b.tc(null)))return a=Ai.za(a,dv,oI,b,hJ),a=Ai.za(a,Ix,oI,b,iJ),c=c?Ai.za(a,gn,oI,b,jJ):a,b=TJ(c,b.e),Q.ba(b,iA,Uh(0));b=mJ(a,new S(null,3,5,T,[b.e,b.a,b.v],null));if(null==b)return a;a=Ai.za(a,dv,nI,b,hJ);a=Ai.za(a,Ix,nI,b,iJ);
b=c?Ai.za(a,gn,nI,b,jJ):a;return Q.ba(b,iA,Uh(0))}function WJ(a,b,c,d,e){return vg(function(f,h,k){var m=B.j(f,h);q(m)||(m=Dw.aa(H(nJ(c,dv,new S(null,2,5,T,[d,h],null)))),m=q(m)?m:sg(ji(K(Vo.aa(B.j(pJ(c),h))),null)));k=Q.ba(m,k,e);return Q.ba(f,h,k)},a,b)}function XJ(a,b){var c=zu.aa(a),d=xw.aa(b);a=Ai.ja(Q.ba(a,zu,VJ(c,b)),$r,pf,b);if(NJ(c,d,Js)){var e=tw.aa(b);b=q(QI(b))?Dw.aa(b):null;var f=B.j(Sy.aa(a),e);f=q(f)?f:X;d=B.j(qJ(c,Js),d);c=WJ(f,d,c,e,b);return Ai.za(a,Sy,Q,e,c)}return a}
function YJ(a){if(a instanceof C)return D.j("_",bf(bh(a),0));if("string"===typeof a)return Mf(el(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw vm(["Bad attribute type: ",xl.da(M([a])),", expected keyword or string"].join(""),new p(null,2,[Hp,rn,mp,a],null));}
function ZJ(a){if(a instanceof C)return YJ(a)?ah.j(Zg(a),Sg.j(bh(a),1)):ah.j(Zg(a),["_",bh(a)].join(""));if("string"===typeof a){var b=el(/(?:([^\/]+)\/)?([^\/]+)/,a);P(b,0,null);a=P(b,1,null);b=P(b,2,null);return D.j("_",bf(b,0))?q(a)?[t.aa(a),"/",Sg.j(b,1)].join(""):Sg.j(b,1):q(a)?[t.aa(a),"/_",t.aa(b)].join(""):["_",t.aa(b)].join("")}throw vm(["Bad attribute type: ",xl.da(M([a])),", expected keyword or string"].join(""),new p(null,2,[Hp,rn,mp,a],null));}
function $J(a,b){function c(f,h){return v.ba(function(k,m){var n=d(f,m);return null==n?Ai.ja(k,0,pf,m):Ai.za(k,1,Q,m,n)},new S(null,2,5,T,[qf,X],null),h)}function d(f,h){return tw.aa(H(nJ(a,gn,new S(null,2,5,T,[f,h],null))))}var e=Eh(qJ(a,Qy));return null==e?new S(null,2,5,T,[b,null],null):vg(function(f,h,k){var m=P(f,0,null);f=P(f,1,null);if(Pf(e,h)){if(NJ(a,h,LA)&&(PH(k)||Cf(k)&&!Ff(k))){var n=c(h,k);k=P(n,0,null);n=P(n,1,null);return new S(null,2,5,T,[Bf(k)?m:Q.ba(m,h,k),Bf(n)?f:Q.ba(f,h,n)],null)}n=
d(h,k);return null==n?new S(null,2,5,T,[Q.ba(m,h,k),f],null):new S(null,2,5,T,[m,Q.ba(f,h,uf([k,n]))],null)}return new S(null,2,5,T,[Q.ba(m,h,k),f],null)},new S(null,2,5,T,[X,X],null),b)}
function aK(a,b){var c=vg(function(h,k,m){return vg(function(n,r,u){return Q.ba(n,u,new S(null,2,5,T,[k,r],null))},h,m)},X,b);if(2<=K(c)){b=H(c);a=P(b,0,null);var d=P(b,1,null);b=P(d,0,null);d=P(d,1,null);var e=mf(c);c=P(e,0,null);var f=P(e,1,null);e=P(f,0,null);f=P(f,1,null);throw vm(["Conflicting upserts: ",xl.da(M([new S(null,2,5,T,[b,d],null)]))," resolves to ",xl.da(M([a])),", but ",xl.da(M([new S(null,2,5,T,[e,f],null)]))," resolves to ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Vs,iB,new S(null,
3,5,T,[a,b,d],null),Bv,new S(null,3,5,T,[c,e,f],null)],null));}d=H(c);b=P(d,0,null);c=P(d,1,null);d=P(c,0,null);c=P(c,1,null);a=Yf.aa(a);if(null!=b&&null!=a&&!SJ(a)&&Dh.j(b,a))throw vm(["Conflicting upsert: ",xl.da(M([new S(null,2,5,T,[d,c],null)]))," resolves to ",xl.da(M([b])),", but entity already has :db/id ",xl.da(M([a]))].join(""),new p(null,3,[Hp,Vs,iB,new S(null,3,5,T,[b,d,c],null),Bv,new p(null,1,[Yf,a],null)],null));return b}
function bK(a,b,c){return YJ(b)||NJ(a,b,LA)?PH(c)||Cf(c)&&!Ff(c)?D.j(K(c),2)&&NJ(a,H(c),Qy)?new S(null,1,5,T,[c],null):c:new S(null,1,5,T,[c],null):new S(null,1,5,T,[c],null)}
function cK(a,b){var c=Yf.aa(b);return function f(e){return new ch(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=H(m),r=P(n,0,null),u=P(n,1,null);if(Dh.j(r,Yf)){var w=IJ(r,uf([Yf,c,r,u])),A=YJ(r),G=A?ZJ(r):r;if(A&&!KJ(a,G))throw vm(["Bad attribute ",xl.da(M([r])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new p(null,3,[Hp,rn,mp,r,zz,uf([Yf,c,r,u])],null));if(k=E(function(I,F,N,O,U,ea,va,wa,xa,Ra,ka){return function ua(Ca){return new ch(null,function(Ba,
Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc){return function(){for(;;){var Ad=E(Ca);if(Ad){if(If(Ad)){var te=ae(Ad),$f=K(te),Bd=gh($f);a:for(var ue=0;;)if(ue<$f){var Cd=x(te,ue);Cd=KJ(a,yb)&&Ff(Cd)?Q.ba(Cd,ZJ(Qd),Zc):ac?new S(null,4,5,T,[xB,Cd,yb,Zc],null):new S(null,4,5,T,[xB,Zc,yb,Cd],null);Bd.add(Cd);ue+=1}else{te=!0;break a}return te?ih(kh(Bd),ua(be(Ad))):ih(kh(Bd),null)}Bd=H(Ad);return hf(KJ(a,yb)&&Ff(Bd)?Q.ba(Bd,ZJ(Qd),Zc):ac?new S(null,4,5,T,[xB,Bd,yb,Zc],null):new S(null,4,5,T,[xB,Zc,yb,Bd],null),ua(Fe(Ad)))}return null}}}(I,
F,N,O,U,ea,va,wa,xa,Ra,ka),null,null)}}(h,w,A,G,null,n,r,u,m,k,c)(bK(a,r,u))))return W.j(k,f(Fe(h)))}h=Fe(h)}else return null}},null,null)}(b)}function dK(a,b){P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null);IJ(d,b);PJ(e,b);b=q(f)?f:QJ(a);f=zu.aa(a);c=LJ(f,c);e=KJ(f,d)?LJ(f,e):e;var h=GI.ja(c,d,e,b);f=NJ(f,d,LA)?mJ(f,new S(null,3,5,T,[c,d,e],null)):mJ(f,new S(null,2,5,T,[c,d],null));return null==f?XJ(a,h):D.j(f.v,e)?Ai.ja(a,ot,LI,h):XJ(XJ(a,GI.za(c,d,f.v,b,!1)),h)}
function eK(a,b){var c=QJ(a);return XJ(a,GI.za(b.e,b.a,b.v,c,!1))}function fK(a,b){return si.ba(Lk,Oh.j(pi(function(c){return NJ(a,c.a,Tm)}),ci.aa(function(c){return new S(null,2,5,T,[bq,c.v],null)})),b)}function gK(a,b,c,d,e){if(Pf(GB.aa(a),d))throw vm(["Conflicting upsert: ",xl.da(M([d]))," resolves both to ",xl.da(M([e]))," and ",xl.da(M([wi(a,new S(null,2,5,T,[GB,d],null))]))].join(""),new p(null,1,[Hp,Vs],null));b=Q.ba(GB.aa(b),d,e);a=Q.ba(a,GB,b);return hK.j?hK.j(a,c):hK.call(null,a,c)}
var iK=new Jk(null,new p(null,8,[Uu,null,jv,null,bq,null,ys,null,Nr,null,ct,null,Rn,null,xB,null],null),null);function jK(a){var b=zu.aa(a);pJ(b);qJ(b,Js);return vg(function(c,d,e){return vg(function(f,h,k){k=Jh(vc,k)?null:k;var m=Dw.aa(H(nJ(b,dv,new S(null,2,5,T,[d,h],null))));return D.j(k,m)?f:null==k?pf.j(f,xf(new S(null,4,5,T,[Nr,d,h,m],null),new p(null,1,[Ps,!0],null))):pf.j(f,xf(new S(null,4,5,T,[xB,d,h,k],null),new p(null,1,[Ps,!0],null)))},c,e)},qf,Sy.aa(a))}
function kK(a){var b=cn.aa(a);b=v.ba(function(c,d){return q(QI(d))?R.j(c,tw.aa(d)):c},b,W.j($r.aa(a),ot.aa(a)));if(Bf(b))return R.da(a,cn,M([ot]));throw vm(["Tempids used only as value in transaction: ",xl.da(M([Vf(Sf,yj(b))]))].join(""),new p(null,2,[Hp,rn,GB,b],null));}
function hK(a,b){if(null!=b&&!Ef(b))throw vm(["Bad transaction data ",xl.da(M([b])),", expected sequential collection"].join(""),new p(null,2,[Hp,rn,$r,b],null));for(var c=!Bf(qJ(zu.aa(a),an)),d=c?mi.j(b,ii(Um)):b,e=a,f=d;;){if(Bf(f))return Ai.za(Ai.za(kK(e),GB,Q,Jm,QJ(e)),zu,Ai,bz,Oe);var h=f,k=E(h),m=H(k),n=J(k),r=m,u=n;if(null==r)f=u;else if(D.j(Um,r))if(Pf(e,Sy)){var w=R.j(e,Sy);u=W.j(jK(e),u);e=w;f=u}else f=u;else{var A=zu.aa(e),G=GB.aa(e);if(Ff(r)){var I=Yf.aa(r);if(RJ(I))w=QJ(e),e=UJ(e,I,w),
f=u=hf(Q.ba(r,Yf,w),u);else if(Ef(I))w=LJ(A,I),f=u=hf(Q.ba(r,Yf,w),u);else{var F=$J(A,r);w=P(F,0,null);F=P(F,1,null);var N=aK(w,F);if(null!=N){if(SJ(I)&&Pf(G,I)&&Dh.j(N,B.j(G,I)))return gK(a,e,b,I,N);e=UJ(e,I,N);f=u=W.j(cK(A,Q.ba(w,Yf,N)),u)}else if("number"===typeof I||null==I||"string"===typeof I)w=null==I?Cx.aa(A)+1:SJ(I)?function(){var Xb=B.j(G,I);return q(Xb)?Xb:Cx.aa(A)+1}():I,r=Q.ba(r,Yf,w),e=UJ(e,I,w),f=u=W.j(cK(A,r),u);else throw vm(["Expected number, string or lookup ref for :db/id, got ",
xl.da(M([I]))].join(""),new p(null,2,[Hp,Ar,Au,r],null));}}else if(Ef(r)){var O=r;F=P(O,0,null);var U=P(O,1,null);w=P(O,2,null);var ea=P(O,3,null);if(D.j(F,Uu)){w=E(r);r=H(w);w=J(w);var va=r;r=H(w);w=J(w);f=u=W.j(zh(r,A,w),u)}else if(F instanceof C&&yc(iK.aa?iK.aa(F):iK.call(null,F))){va=OJ(A,F);if(null==va)throw vm(["Cant find entity for transaction fn ",xl.da(M([F]))].join(""),new p(null,3,[Hp,rn,ms,Uu,$r,r],null));U=Dw.aa(mJ(A,new S(null,2,5,T,[va,yr],null)));w=J(r);if(vf(U))f=u=W.j(zh(U,A,w),
u);else throw vm(["Entity ",xl.da(M([F]))," expected to have :db/fn attribute with fn? value"].join(""),new p(null,3,[Hp,rn,ms,Uu,$r,r],null));}else{if(SJ(U)&&Dh.j(F,xB))throw vm(["Can't use tempid in '",xl.da(M([r])),"'. Tempids are allowed in :db/add only"].join(""),new p(null,2,[Hp,rn,No,r],null));if(D.j(F,Rn)||D.j(F,jv)){var wa=r;va=P(wa,0,null);var xa=P(wa,1,null),Ra=P(wa,2,null),ka=P(wa,3,null),oa=P(wa,4,null),Ca=LJ(A,xa),ua=IJ(Ra,r),Ba=KJ(A,Ra)?LJ(A,ka):ka,Ua=KJ(A,Ra)?LJ(A,oa):oa,ac=PJ(Ua,
r),yb=sg(lJ(A,new S(null,2,5,T,[Ca,Ra],null)));if(NJ(A,Ra,LA))if(q(Kh(function(Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue){return function(Cd){return D.j(Cd.v,ue)}}(e,f,wa,va,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),yb)))e=dK(e,new S(null,4,5,T,[xB,Ca,Ra,Ua],null)),f=u;else throw vm([":db.fn/cas failed on datom [",xl.da(M([Ca]))," ",xl.da(M([Ra]))," ",xl.da(M([ci.j(Dw,yb)])),"], expected ",xl.da(M([Ba]))].join(""),new p(null,4,[Hp,Nn,Tz,yb,zm,Ba,Lr,Ua],null));else if(F=Dw.aa(H(yb)),D.j(F,
Ba))e=dK(e,new S(null,4,5,T,[xB,Ca,Ra,Ua],null)),f=u;else throw vm([":db.fn/cas failed on datom [",xl.da(M([Ca]))," ",xl.da(M([Ra]))," ",xl.da(M([F])),"], expected ",xl.da(M([Ba]))].join(""),new p(null,4,[Hp,Nn,Tz,H(yb),zm,Ba,Lr,Ua],null));}else if(RJ(U))r=UJ(e,U,QJ(e)),u=hf(new S(null,4,5,T,[F,QJ(e),w,ea],null),u),e=r,f=u;else if(KJ(A,w)&&RJ(ea))r=UJ(e,ea,QJ(e)),u=hf(new S(null,4,5,T,[F,U,w,QJ(e)],null),u),e=r,f=u;else if(KJ(A,w)&&SJ(ea))va=B.j(G,ea),null==va?(r=Cx.aa(A)+1,e=Ai.za(UJ(e,ea,r),cn,
Q,r,ea),f=u=f):(r=va,e=Ai.za(e,cn,Q,r,ea),f=u=hf(new S(null,4,5,T,[F,U,w,r],null),u));else if(SJ(U)){N=NJ(A,w,Qy)?tw.aa(H(nJ(A,gn,new S(null,2,5,T,[w,ea],null)))):null;var ec=B.j(G,U);if(q(function(){var Xb=N;return q(Xb)?(Xb=ec,q(Xb)?Dh.j(N,ec):Xb):Xb}()))return gK(a,e,b,U,N);r=function(){var Xb=N;if(q(Xb))return Xb;Xb=ec;return q(Xb)?Xb:Cx.aa(A)+1}();e=UJ(e,U,r);f=u=hf(new S(null,4,5,T,[F,r,w,ea],null),u)}else{if(yc(Ps.aa(yf(r)))&&NJ(A,w,an))throw vm(["Cant modify tuple attrs directly: ",xl.da(M([r]))].join(""),
new p(null,2,[Hp,rn,$r,r],null));if(D.j(F,xB))e=dK(e,r),f=u;else if(D.j(F,Nr)&&null!=ea)va=OJ(A,U),null==va?f=u:(xa=va,F=KJ(A,w)?LJ(A,ea):ea,IJ(w,r),PJ(F,r),w=mJ(A,new S(null,3,5,T,[xa,w,F],null)),null==w?f=u:(e=eK(e,w),f=u));else if(D.j(F,ct)||D.j(F,Nr))va=OJ(A,U),null==va?f=u:(xa=va,va=IJ(w,r),yb=sg(lJ(A,new S(null,2,5,T,[xa,w],null))),e=v.ba(eK,e,yb),f=u=W.j(fK(A,yb),u));else if(D.j(F,bq)||D.j(F,ys))va=OJ(A,U),null==va?f=u:(xa=va,yb=sg(lJ(A,new S(null,1,5,T,[xa],null))),w=sg(oi(function(Xb,Qd,
Zf,zf,Og,Zc,Ad,te,$f,Bd,ue){return function(Cd){return lJ(ue,new S(null,3,5,T,[null,Cd,zf],null))}}(e,f,yb,xa,va,O,F,U,w,ea,A,G,h,k,m,n,r,u,a,c,d),M([qJ(A,jz)]))),e=v.ba(eK,e,W.j(yb,w)),f=u=W.j(fK(A,yb),u));else throw vm(["Unknown operation at ",xl.da(M([r])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new p(null,3,[Hp,rn,ms,F,$r,r],null));}}}else if($I(r))F=r,U=P(F,0,null),w=P(F,1,null),ea=P(F,2,null),r=P(F,3,null),F=P(F,4,null),q(F)?(e=dK(e,new S(null,5,5,T,[xB,U,w,ea,r],null)),f=u):f=u=hf(new S(null,4,5,T,[Nr,U,w,ea],null),u);else throw vm(["Bad entity type at ",xl.da(M([r])),", expected map or vector"].join(""),new p(null,2,[Hp,rn,$r,r],null));}}};function lK(a,b,c,d,e){this.Gd=a;this.Hb=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=lK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "wildcard?":return this.Gd;case "attrs":return this.Hb;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[hp,this.Gd],null),new S(null,2,5,T,[Kt,this.Hb],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[hp,Kt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=90253489^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Gd,b.Gd)&&D.j(this.Hb,b.Hb)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Kt,null,hp,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new lK(this.Gd,this.Hb,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(hp,b):V.call(null,hp,b))?new lK(c,this.Hb,this.ea,this.ca,null):q(V.j?V.j(Kt,b):V.call(null,Kt,b))?new lK(this.Gd,c,this.ea,this.ca,null):new lK(this.Gd,this.Hb,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(hp,this.Gd),new Y(Kt,this.Hb)],null),this.ca))};g.sa=function(a,b){return new lK(this.Gd,this.Hb,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function mK(a){if(null!=a&&null!=a.vd)a=a.vd(a);else{var b=mK[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=mK._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IPullSpecComponent.-as-spec",a);}return a}function nK(a,b,c,d){this.attr=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=nK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Ox,this.attr],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Ox],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-838771693^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.ca,b.ca)};g.vd=function(){return new S(null,2,5,T,[this.attr,new p(null,1,[Ox,this.attr],null)],null)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new nK(this.attr,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new nK(c,this.ea,this.ca,null):new nK(this.attr,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Ox,this.attr)],null),this.ca))};g.sa=function(a,b){return new nK(this.attr,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function oK(a,b,c,d,e){this.attr=a;this.ld=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=oK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "rattr":return this.ld;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[uy,this.ld],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,uy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=158820207^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.ld,b.ld)&&D.j(this.ca,b.ca)};g.vd=function(){return new S(null,2,5,T,[this.ld,new p(null,1,[Ox,this.attr],null)],null)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[uy,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new oK(this.attr,this.ld,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new oK(c,this.ld,this.ea,this.ca,null):q(V.j?V.j(uy,b):V.call(null,uy,b))?new oK(this.attr,c,this.ea,this.ca,null):new oK(this.attr,this.ld,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(uy,this.ld)],null),this.ca))};g.sa=function(a,b){return new oK(this.attr,this.ld,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function pK(a,b,c,d,e){this.attr=a;this.limit=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=pK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[Ym,this.limit],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,Ym],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=2109320956^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.limit,b.limit)&&D.j(this.ca,b.ca)};g.vd=function(){return yi(mK(this.attr),new S(null,2,5,T,[1,Ym],null),this.limit)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Ym,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new pK(this.attr,this.limit,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new pK(c,this.limit,this.ea,this.ca,null):q(V.j?V.j(Ym,b):V.call(null,Ym,b))?new pK(this.attr,c,this.ea,this.ca,null):new pK(this.attr,this.limit,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(Ym,this.limit)],null),this.ca))};g.sa=function(a,b){return new pK(this.attr,this.limit,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function qK(a,b,c,d,e){this.attr=a;this.value=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=qK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "value":return this.value;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[Rw,this.value],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,Rw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1499761615^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.value,b.value)&&D.j(this.ca,b.ca)};g.vd=function(){return yi(mK(this.attr),new S(null,2,5,T,[1,qm],null),this.value)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Rw,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new qK(this.attr,this.value,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new qK(c,this.value,this.ea,this.ca,null):q(V.j?V.j(Rw,b):V.call(null,Rw,b))?new qK(this.attr,c,this.ea,this.ca,null):new qK(this.attr,this.value,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(Rw,this.value)],null),this.ca))};g.sa=function(a,b){return new qK(this.attr,this.value,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function rK(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=rK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,W.j(qf,this.ca))};
g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-163917799^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new rK(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new rK(this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new rK(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function sK(a,b,c,d){this.limit=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=sK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "limit":return this.limit;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Ym,this.limit],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Ym],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1552688154^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.limit,b.limit)&&D.j(this.ca,b.ca)};g.vd=function(){return new S(null,2,5,T,[Es,this.limit],null)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Ym,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new sK(this.limit,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ym,b):V.call(null,Ym,b))?new sK(c,this.ea,this.ca,null):new sK(this.limit,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Ym,this.limit)],null),this.ca))};g.sa=function(a,b){return new sK(this.limit,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function tK(a,b,c,d,e){this.attr=a;this.kd=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=tK.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "porrl":return this.kd;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[AB,this.kd],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,AB],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=152088668^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.kd,b.kd)&&D.j(this.ca,b.ca)};g.vd=function(){return Ai.ja(mK(this.attr),1,pf,mK(this.kd))};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[AB,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new tK(this.attr,this.kd,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new tK(c,this.kd,this.ea,this.ca,null):q(V.j?V.j(AB,b):V.call(null,AB,b))?new tK(this.attr,c,this.ea,this.ca,null):new tK(this.attr,this.kd,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(AB,this.kd)],null),this.ca))};g.sa=function(a,b){return new tK(this.attr,this.kd,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function uK(a,b,c,d,e){this.attr=a;this.Dc=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=uK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attr":return this.attr;case "opts":return this.Dc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Ox,this.attr],null),new S(null,2,5,T,[io,this.Dc],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Ox,io],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-429987476^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Dc,b.Dc)&&D.j(this.ca,b.ca)};g.vd=function(){return Ai.ja(mK(this.attr),1,Ek,this.Dc)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[io,null,Ox,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new uK(this.attr,this.Dc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Ox,b):V.call(null,Ox,b))?new uK(c,this.Dc,this.ea,this.ca,null):q(V.j?V.j(io,b):V.call(null,io,b))?new uK(this.attr,c,this.ea,this.ca,null):new uK(this.attr,this.Dc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Ox,this.attr),new Y(io,this.Dc)],null),this.ca))};g.sa=function(a,b){return new uK(this.attr,this.Dc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function vK(a,b){return b instanceof rK?Q.ba(a,hp,!0):Ai.ja(a,Kt,qh,mK(b))}function wK(a,b,c,d){this.Dd=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=wK.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "specs":return this.Dd;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Su,this.Dd],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Su],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-795554044^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Dd,b.Dd)&&D.j(this.ca,b.ca)};g.vd=function(){var a=new lK(!1,Td(X),null,null,null);a=v.ba(vK,a,this.Dd);return new S(null,2,5,T,[$q,Ai.ba(a,Kt,ph)],null)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Su,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new wK(this.Dd,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Su,b):V.call(null,Su,b))?new wK(c,this.ea,this.ca,null):new wK(this.Dd,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Su,this.Dd)],null),this.ca))};g.sa=function(a,b){return new wK(this.Dd,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};var xK=new Jk(null,new p(null,3,[eg,null,"*",null,gg,null],null),null);
function yK(a){return a instanceof C||"string"===typeof a?YJ(a)?new oK(ZJ(a),a,null,null,null):new nK(a,null,null,null):null}var zK=new Jk(null,new p(null,2,["...",null,hg,null],null),null);function AK(a){return Ef(a)&&D.j(3,K(a))}var BK=new Jk(null,new p(null,3,[aq,null,Ym,null,"limit",null],null),null);
function CK(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);if(q(BK.aa?BK.aa(b):BK.call(null,b))){b=null==d||"number"===typeof d&&0<d?yK(c):!1;if(q(b))return new pK(b,d,null,null,null);throw vm('Expected ["limit" attr-name (positive-number | nil)]',new p(null,2,[Hp,jy,zt,a],null));}return null}var DK=new Jk(null,new p(null,3,[np,null,qm,null,"default",null],null),null);
function EK(a){if(Ef(a)){a=E(a);var b=H(a);a=J(a);b=yK(b);if(null==b)a=null;else{var c;if(c=Lh(K(a)))c=Jh(new Jk(null,new p(null,3,[Ym,null,qm,null,dz,null],null),null),ci.j(H,vi(2,2,a)));a=c?new uK(b,yh(Ak,a),null,null,null):null}return a}return null}
function FK(a){var b=P(a,0,null),c=P(a,1,null);a=function(){var e=yK(b);if(q(e))return e;e=EK(b);return q(e)?e:AK(b)?CK(b):null}();if(q(a)){var d=function(){var e=q(zK.aa?zK.aa(c):zK.call(null,c))?new sK(null,null,null,null):"number"===typeof c&&0<c?new sK(c,null,null,null):null;return q(e)?e:GK.aa?GK.aa(c):GK.call(null,c)}();if(q(d))return new tK(a,d,null,null,null);throw vm("Expected (pattern | recursion-limit)",new p(null,2,[Hp,jy,zt,new S(null,2,5,T,[b,c],null)],null));}throw vm("Expected (attr-name | limit-expr)",
new p(null,2,[Hp,jy,zt,new S(null,2,5,T,[b,c],null)],null));}
function HK(a){var b=yK(a);if(q(b))return b;b=q(xK.aa?xK.aa(a):xK.call(null,a))?new rK(null,null,null):null;if(q(b))return b;b=Ff(a)?FK(H(a)):null;if(q(b))return b;b=EK(a);if(q(b))return b;if(AK(a)){if(b=CK(a),!q(b))b:{var c=P(a,0,null),d=P(a,1,null);b=P(a,2,null);if(q(DK.aa?DK.aa(c):DK.call(null,c))){c=yK(d);if(q(c)){b=new qK(c,b,null,null,null);break b}throw vm('Expected ["default" attr-name any-value]',new p(null,2,[Hp,jy,zt,a],null));}b=null}}else b=null;if(q(b))return b;throw vm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new p(null,2,[Hp,jy,zt,a],null));}function IK(a){return Ff(a)?ey:q(xK.aa?xK.aa(a):xK.call(null,a))?Zt:kv}function JK(a){return si.ba(qf,ci.aa(function(b){return pf.j(X,b)}),a)}function KK(a){a=bm(IK,a);var b=q(Eh(B.j(a,Zt)))?new S(null,1,5,T,[gg],null):qf;return si.ba(si.j(b,B.j(a,kv)),Oh.j(ci.aa(JK),Nl),B.j(a,ey))}function GK(a){return Ef(a)?new wK(si.ba(qf,ci.aa(HK),KK(a)),null,null,null):null}
function LK(a){var b=null==a?null:GK(a);b=null==b?null:mf(mK(b));if(q(b))return b;throw vm("Cannot parse pull pattern, expected: [attr-spec+]",new p(null,2,[Hp,jy,zt,a],null));};function MK(a,b){return v.ba(qh,a,b)}function NK(a,b,c){return gk([iq,Bo,vo,Es,Su,hp,Xs,Wz,nB],[c,b,Wz,new p(null,2,[hq,X,Qr,Lk],null),E(Kt.aa(a)),hp.aa(a),Td(X),a,Td(qf)])}function OK(a,b,c,d){return Q.ba(NK(a,b,c),Ox,d)}function PK(a,b,c){var d=Wz.aa(a);return Q.da(a,Bo,b,M([Su,E(Kt.aa(d)),hp,hp.aa(d),Xs,Td(X),nB,function(){var e=nB.aa(a);return E(c)?qh.j(e,c):e}()]))}
function QK(a,b,c){var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,hq);d=B.j(d,Qr);return Q.da(a,hq,Ai.ba(e,b,Qh(Oe,0)),M([Qr,pf.j(d,c)]))}function RK(a,b,c){return Pf(xi(a,new S(null,2,5,T,[Es,Qr],null),Lk),c)?pf.j(b,Ai.ja(a,nB,qh,new p(null,1,[Yf,c],null))):null}function SK(a,b){b=Xs.aa(b);b=null==b?null:Vd(b);return null==b?null:B.j(b,a)}function TK(a,b){var c=Ox.aa(a);c=QK(Es.aa(a),c,b);return Q.ba(OK(Wz.aa(a),new S(null,1,5,T,[b],null),!1,Lt),Es,c)}
function UK(a){a=E(a);var b=H(a);a=J(a);var c=E(Bo.aa(b));if(c){b=PK(b,Fe(c),SK(Lt,b));c=H(c);var d=RK(b,a,c);return q(d)?d:pf.da(a,b,M([TK(b,c)]))}c=SK(Lt,b);d=nB.aa(b);c=E(c)?qh.j(d,c):d;return pf.j(a,Q.da(b,vo,$w,M([nB,c])))}function VK(a,b,c,d,e){var f=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d,h=B.j(f,Es);f=B.j(f,Wz);var k=B.ba(B.j(h,hq),a,0);return D.j(Es.aa(B.j(Kt.aa(f),a)),k)?pf.j(e,d):UK(pf.da(e,d,M([new p(null,7,[vo,Es,Wz,f,Ox,a,iq,b,Bo,c,Es,h,nB,Td(qf)],null)])))}
var WK=new lK(!0,X,null,null,null);function XK(a,b,c,d,e){a=QK(Es.aa(a),c,b);return Q.ba(OK(WK,e,d,c),Es,a)}
function YK(a,b,c,d,e,f,h,k){var m=E(k);k=H(m);m=J(m);var n=B.ba(h,Ym,1E3),r=function(){var F=dz.aa(h);return q(F)?F:b}(),u=Eh(q(n)?si.ba(qf,di.aa(n),f):f);if(q(u)){var w=KJ(a,c);f=w&&NJ(a,c,Tm);a=q(e)?NJ(a,c,LA):!f;var A=q(e)?function(F){return F.v}:function(F){return F.e};if(Pf(h,$q))return pf.da(m,k,M([OK($q.aa(h),ti.j(A,u),a,r)]));if(Pf(h,Es))return VK(r,a,ti.j(A,u),k,m);if(q(f?e:!1))return pf.da(m,k,M([XK(k,d,r,a,ti.j(A,u))]));var G=function(){return w?Oh.j(function(F){return gk([Yf],[F])},A):
A}(),I=!a;return pf.j(m,Ai.za(k,Xs,rh,r,function(){var F=si.ba(qf,ci.aa(G),u);return I?H(F):F}()))}return pf.j(m,Pf(h,qm)?Ai.za(k,Xs,rh,r,qm.aa(h)):k)}var ZK=pi(function(a){var b=P(a,0,null);a=P(a,1,null);return Dh.j(b,Ox.aa(a))});function $K(a,b,c){return OK(Q.da(Wz.aa(a),Kt,c,M([hp,!1])),new S(null,1,5,T,[b],null),!1,uo)}function aL(a,b){return pf.j(Fe(a),Ai.ja(H(a),Xs,MK,Vd(b)))}function bL(a){var b=E(a);a=H(b);b=J(b);var c=Dx.aa(a);a=SK(uo,a);return aL(b,MK(c,q(a)?a:X))}
function cL(a,b){var c=E(b);b=H(c);c=J(c);var d=E(ar.aa(b));if(d){var e=H(d);d=P(e,0,null);e=P(e,1,null);var f=B.ba(wi(b,new S(null,2,5,T,[Wz,Kt],null)),d,X);return YK(a,d,d,hw.aa(b),!0,e,f,pf.j(c,Ai.ba(b,ar,Fe)))}a=Eh(si.ba(X,ZK,wi(b,new S(null,2,5,T,[Wz,Kt],null))));return q(a)?(b=Q.da(b,vo,Fo,M([Dx,Xs.aa(b),Xs,Td(X)])),pf.da(c,b,M([$K(b,hw.aa(b),a)]))):aL(c,Xs.aa(b))}
function dL(a,b,c,d,e){var f=bm(function(m){return m.a},nJ(a,dv,new S(null,1,5,T,[d],null))),h=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,k=B.j(h,Ox);h=B.j(h,Es);k=null!=k?QK(h,k,d):h;return cL(a,pf.da(c,b,M([new p(null,6,[vo,Dy,Xs,Td(new p(null,1,[Yf,d],null)),hw,d,Wz,e,ar,E(f),Es,k],null)])))}
function eL(a,b){for(;;){var c=E(b);b=H(c);var d=J(c);c=b;if(b=E(Bo.aa(c))){if(q(hp.aa(c))){b=Q.da(c,Su,qf,M([hw,H(b),hp,!1]));c=d;var e=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;d=B.j(e,hw);e=B.j(e,Wz);var f=RK(b,c,d);return q(f)?f:dL(a,b,c,d,e)}if(e=E(Su.aa(c))){f=e;e=H(f);Wz.aa(c);c=pf.j(d,Q.ba(c,Su,Fe(f)));b=H(b);d=P(e,0,null);e=P(e,1,null);if(D.j(Yf,d))a=q(Eh(nJ(a,dv,new S(null,1,5,T,[b],null))))?pf.j(Fe(c),Ai.za(H(c),Xs,rh,Yf,b)):c;else{f=Ox.aa(e);var h=D.j(d,f),k=h?nJ(a,dv,new S(null,2,5,T,[b,
f],null)):nJ(a,gn,new S(null,2,5,T,[f,b],null));a=YK(a,d,f,b,h,k,e,c)}return a}b=pf.j(d,PK(c,Fe(b),Eh(Vd(Xs.aa(c)))))}else return pf.j(d,Q.ba(c,vo,$w))}}
function fL(a,b){for(;;){var c=vo.aa(H(b));c=c instanceof C?c.Aa:null;switch(c){case "expand":c=a;b=cL(a,b);a=c;continue;case "expand-rev":b=bL(b);continue;case "pattern":c=a;b=eL(a,b);a=c;continue;case "recursion":b=UK(b);continue;case "done":c=E(b);b=H(c);c=J(c);var d=b,e=c,f=function(){var h=Vd(nB.aa(d));return yc(iq.aa(d))?H(h):h}();if(E(e)){b=pf.j(Fe(e),function(){var h=H(e);return q(f)?Ai.za(h,Xs,rh,Ox.aa(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.aa(c)].join(""));
}}}function gL(a,b,c){c=si.ba(qf,ci.aa(function(d){return LJ(a,d)}),c);return fL(a,new rf(null,NK(b,c,!1),null,1,null))};function hL(a,b,c,d,e){this.he=a;this.Pg=b;this.Sg=c;this.Og=d;this.limit=e;this.ga=2147484416;this.la=0}hL.prototype.pa=function(a,b,c){return iL.ba?iL.ba(this,b,c):iL.call(null,this,b,c)};hL.prototype.ya=function(a,b){return ad(this.he,b,null)};hL.prototype.ka=function(a,b,c){return ad(this.he,b,c)};hL.prototype.ta=function(a,b,c){return Md(this.he,b,c)};function jL(a,b,c,d,e){return new hL(a,b,c,d,e)}
function iL(a,b,c){var d=a.he,e=a.Pg,f=a.Sg,h=a.Og;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(q(k))return jL(d,Q.ba(R.j(e,k),h,b),Q.ba(f,b,h),h+1,a);b=jL(Q.ba(d,b,c),Q.ba(e,h,b),Q.ba(f,b,h),h+1,a);return kL.aa?kL.aa(b):kL.call(null,b)}function kL(a){if(K(a.he)>a.limit){var b=a.he,c=a.Pg,d=a.Sg,e=a.Og;a=a.limit;var f=H(c),h=P(f,0,null);f=P(f,1,null);return jL(R.j(b,f),R.j(c,h),R.j(d,f),e,a)}return a};function lL(a,b){b="number"===typeof b||Ef(b)||b instanceof C?OJ(a,b):null;if(q(b)){var c=Zh(!1),d=Zh(X);return mL.ja?mL.ja(a,b,c,d):mL.call(null,a,b,c,d)}return null}function nL(a,b,c){return NJ(a,b,LA)?KJ(a,b)?v.ba(function(d,e){return pf.j(d,lL(a,Dw.aa(e)))},Lk,c):v.ba(function(d,e){return pf.j(d,Dw.aa(e))},Lk,c):KJ(a,b)?lL(a,Dw.aa(H(c))):Dw.aa(H(c))}
function oL(a,b,c,d){b=Eh(lJ(a,new S(null,3,5,T,[null,c,b],null)));return q(b)?NJ(a,c,Tm)?lL(a,tw.aa(H(b))):v.ba(function(e,f){return pf.j(e,lL(a,tw.aa(f)))},Lk,b):d}function pL(a){return q(a)?Wf(a):null}
function qL(a){rL.aa?rL.aa(a):rL.call(null,a);return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);r=NJ(a.db,r,LA)?new S(null,2,5,T,[r,pL(n)],null):new S(null,2,5,T,[r,n],null);k.add(r);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);return hf(NJ(a.db,k,LA)?new S(null,2,5,T,[k,pL(f)],null):new S(null,2,5,T,[k,f],null),d(Fe(e)))}return null}},
null,null)}(y(a.cache))}function sL(a,b,c,d){this.db=a;this.hd=b;this.ig=c;this.cache=d;this.ga=2162164483;this.la=0}g=sL.prototype;g.entry_set=function(){return Wf(ci.j(Wf,qL(this)))};
g.forEach=function(){function a(d,e){for(var f=E(qL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.La(null,m),r=P(n,0,null);n=P(n,1,null);d.call(e,n,r,this);m+=1}else if(f=E(f))If(f)?(h=ae(f),f=be(f),r=h,k=K(h),h=r):(h=H(f),r=P(h,0,null),n=P(h,1,null),d.call(e,n,r,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(qL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.La(null,k),n=P(m,0,null);m=P(m,1,null);d.ba?d.ba(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))If(e)?(f=ae(e),e=be(e),n=f,
h=K(f),f=n):(f=H(e),n=P(f,0,null),m=P(f,1,null),d.ba?d.ba(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.aa=b;c.j=a;return c}();g.get=function(a){if(D.j(a,":db/id"))return this.hd;if(YJ(a))return pL(oL(this.db,this.hd,ZJ(a),null));var b=tL?tL(this,a):uL.call(null,this,a);return NJ(this.db,a,LA)?pL(b):b};
g.key_set=function(){return Wf(xj(this))};g.entries=function(){return new sj(E(qL(this)))};g.value_set=function(){return Wf(ci.j(mf,qL(this)))};g.toString=function(){return le(this)};g.keys=function(){return Ie(xj(this))};g.values=function(){return Ie(ci.j(mf,qL(this)))};g.equiv=function(a){return vL.j?vL.j(this,a):vL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ya=function(a,b){return wL?wL(this,b,null):uL.call(null,this,b,null)};
g.ka=function(a,b,c){return wL?wL(this,b,c):uL.call(null,this,b,c)};g.ta=function(a,b,c){return Md(Q.ba(y(this.cache),Yf,this.hd),b,c)};g.va=function(){rL.aa?rL.aa(this):rL.call(null,this);return K(y(this.cache))};g.wa=function(){return ve(this.hd)};g.oa=function(a,b){return vL.j?vL.j(this,b):vL.call(null,this,b)};g.ua=function(){rL.aa?rL.aa(this):rL.call(null,this);return E(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.aa(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.aa=function(a){return tL?tL(this,a):uL.call(null,this,a)};g.j=function(a,b){return wL?wL(this,a,b):uL.call(null,this,a,b)};function mL(a,b,c,d){return new sL(a,b,c,d)}
function vL(a,b){return b instanceof sL&&D.j(a.hd,b.hd)}function uL(a){switch(arguments.length){case 2:return tL(arguments[0],arguments[1]);case 3:return wL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function tL(a,b){return wL(a,b,null)}
function wL(a,b,c){if(D.j(b,Yf))return a.hd;if(YJ(b))return oL(a.db,a.hd,ZJ(b),c);var d=y(a.cache);d=d.aa?d.aa(b):d.call(null,b);if(null==d){if(q(y(a.ig)))return c;d=Eh(lJ(a.db,new S(null,2,5,T,[a.hd,b],null)));if(null==d)return c;c=nL(a.db,b,d);b=Q.ba(y(a.cache),b,c);he(a.cache,b);return c}return d}function xL(a,b){return vg(function(c,d,e){return Q.ba(c,d,NJ(a,d,Tm)?NJ(a,d,LA)?Mk(ci.j(rL,e)):rL.aa?rL.aa(e):rL.call(null,e):e)},X,b)}
function yL(a,b){return v.ba(function(c,d){var e=xw.aa(H(d));return Q.ba(c,e,nL(a,e,d))},X,al(xw,b))}function rL(a){if(!q(y(a.ig))){var b=Eh(lJ(a.db,new S(null,1,5,T,[a.hd],null)));q(b)&&(b=xL(a.db,yL(a.db,b)),he(a.cache,b),he(a.ig,!0))}return a}ia("datascript.impl.entity.Entity",sL);function zL(){}function AL(a,b,c){if(null!=a&&null!=a.eb)a=a.eb(a,b,c);else{var d=AL[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=AL._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("ITraversable.-collect",a);}return a}
function BL(a,b){if(null!=a&&null!=a.fb)a=a.fb(a,b);else{var c=BL[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=BL._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITraversable.-collect-vars",a);}return a}function CL(a,b){return Ef(a)&&D.j(K(a),b)}function DL(a,b){return Ef(b)?v.ba(function(c,d){d=a.aa?a.aa(d):a.call(null,d);return q(d)?pf.j(c,d):Qe(null)},qf,b):null}function EL(a,b){return FL(a,b,qf)}
function FL(a,b,c){return q(a.aa?a.aa(b):a.call(null,b))?pf.j(c,b):(null!=b?l===b.cb||(b.Md?0:Ac(zL,b)):Ac(zL,b))?AL(b,a,c):KI(b)?v.ba(function(d,e){return FL(a,e,d)},c,b):c}function GL(a){var b=Bf(a);return b?b:yh(Qf,a)}function HL(a,b){return xf(a,new p(null,1,[un,b],null))}function IL(a){var b=un.aa(yf(a));return q(b)?b:a}function JL(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=JL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){return B.ba(this.ca,b,c)};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,W.j(qf,this.ca))};g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-528488587^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new JL(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new JL(this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new JL(b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};function KL(a,b,c,d){this.symbol=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=KL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "symbol":return this.symbol;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Lw,this.symbol],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Lw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=736891289^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Lw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new KL(this.symbol,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Lw,b):V.call(null,Lw,b))?new KL(c,this.ea,this.ca,null):new KL(this.symbol,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Lw,this.symbol)],null),this.ca))};g.sa=function(a,b){return new KL(this.symbol,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbol,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.symbol):LL.call(null,b,this.symbol)};function ML(a,b,c,d){this.symbol=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=ML.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "symbol":return this.symbol;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Lw,this.symbol],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Lw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1648766309^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Lw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new ML(this.symbol,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Lw,b):V.call(null,Lw,b))?new ML(c,this.ea,this.ca,null):new ML(this.symbol,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Lw,this.symbol)],null),this.ca))};g.sa=function(a,b){return new ML(this.symbol,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbol,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.symbol):LL.call(null,b,this.symbol)};function NL(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=NL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,W.j(qf,this.ca))};g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-350962559^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new NL(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new NL(this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new NL(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};
function OL(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=OL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,W.j(qf,this.ca))};
g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1504050517^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new OL(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new OL(this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new OL(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};function PL(a,b,c,d){this.value=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=PL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "value":return this.value;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Rw,this.value],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Rw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-812884714^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.value,b.value)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Rw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new PL(this.value,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Rw,b):V.call(null,Rw,b))?new PL(c,this.ea,this.ca,null):new PL(this.value,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Rw,this.value)],null),this.ca))};g.sa=function(a,b){return new PL(this.value,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.value,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.value):LL.call(null,b,this.value)};function QL(a,b,c,d){this.symbol=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=QL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "symbol":return this.symbol;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[Lw,this.symbol],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[Lw],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1509921913^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[Lw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new QL(this.symbol,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Lw,b):V.call(null,Lw,b))?new QL(c,this.ea,this.ca,null):new QL(this.symbol,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(Lw,this.symbol)],null),this.ca))};g.sa=function(a,b){return new QL(this.symbol,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbol,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.symbol):LL.call(null,b,this.symbol)};function RL(a){return a instanceof z&&D.j(H(bh(a)),"?")?new KL(a,null,null,null):null}
function SL(a){var b=RL(a);if(q(b))return b;throw vm(["Cannot parse var, expected symbol starting with ?, got: ",xl.da(M([a]))].join(""),new p(null,2,[Hp,uq,lt,a],null));}function TL(a){return a instanceof z&&D.j(H(bh(a)),"$")?new ML(a,null,null,null):null}function UL(a){return a instanceof z?null:new PL(a,null,null,null)}function VL(a){return a instanceof z&&yc(RL(a))&&yc(TL(a))&&yc(D.j(kt,a)?new OL(null,null,null):null)&&yc(D.j(rq,a)?new JL(null,null,null):null)?new QL(a,null,null,null):null}
function WL(a){return q(VL(a))?new KL(a,null,null,null):null}function XL(a){var b=RL(a);if(q(b))return b;b=UL(a);return q(b)?b:TL(a)}function YL(a,b,c,d,e){this.required=a;this.Yc=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=YL.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "required":return this.required;case "free":return this.Yc;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Yz,this.required],null),new S(null,2,5,T,[Or,this.Yc],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Yz,Or],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=892963297^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.required,b.required)&&D.j(this.Yc,b.Yc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Or,null,Yz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new YL(this.required,this.Yc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Yz,b):V.call(null,Yz,b))?new YL(c,this.Yc,this.ea,this.ca,null):q(V.j?V.j(Or,b):V.call(null,Or,b))?new YL(this.required,c,this.ea,this.ca,null):new YL(this.required,this.Yc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Yz,this.required),new Y(Or,this.Yc)],null),this.ca))};g.sa=function(a,b){return new YL(this.required,this.Yc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
g.cb=l;g.eb=function(a,b,c){return FL(b,this.Yc,FL(b,this.required,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.required):LL.call(null,b,this.required);b=this.Yc;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function ZL(a){if(Ef(a)){var b=Ef(H(a))?new S(null,2,5,T,[H(a),J(a)],null):new S(null,2,5,T,[null,a],null),c=P(b,0,null);b=P(b,1,null);c=DL(SL,c);b=DL(SL,b);if(Bf(c)&&Bf(b))throw vm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new p(null,2,[Hp,Uq,lt,a],null));if(!q(GL(W.j(c,b))))throw vm("Rule variables should be distinct",new p(null,2,[Hp,Uq,lt,a],null));return new YL(c,b,null,null,null)}throw vm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new p(null,2,[Hp,Uq,lt,a],null));}function $L(a){return W.aa(q(Yz.aa(a))?function(){ti.j(Lw,Yz.aa(a));return ti.j(Lw,Or.aa(a))}():null)}function aM(a){return new S(null,2,5,T,[K(Yz.aa(a)),K(Or.aa(a))],null)}function bM(a,b,c){this.ea=a;this.ca=b;this.fa=c;this.ga=2230716170;this.la=139264}g=bM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){return B.ba(this.ca,b,c)};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,W.j(qf,this.ca))};g.Ba=function(){return new rj(this,0,qf,q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 0+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-890522983^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(Lk,b)?R.j(rd(si.j(X,this),this.ea),b):new bM(this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return new bM(this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(qf,this.ca))};g.sa=function(a,b){return new bM(b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return c};g.fb=function(a,b){return b};
function cM(a,b,c,d){this.kb=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=cM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "variable":return this.kb;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[cu,this.kb],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[cu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1522792445^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.kb,b.kb)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[cu,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new cM(this.kb,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(cu,b):V.call(null,cu,b))?new cM(c,this.ea,this.ca,null):new cM(this.kb,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(cu,this.kb)],null),this.ca))};
g.sa=function(a,b){return new cM(this.kb,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.kb,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.kb):LL.call(null,b,this.kb)};function dM(a,b,c,d){this.bindings=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=dM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "bindings":return this.bindings;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[xn,this.bindings],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[xn],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1637239347^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.bindings,b.bindings)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[xn,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new dM(this.bindings,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(xn,b):V.call(null,xn,b))?new dM(c,this.ea,this.ca,null):new dM(this.bindings,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(xn,this.bindings)],null),this.ca))};g.sa=function(a,b){return new dM(this.bindings,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.bindings,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.bindings):LL.call(null,b,this.bindings)};function eM(a,b,c,d){this.binding=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=eM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "binding":return this.binding;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[ew,this.binding],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[ew],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1930368089^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.binding,b.binding)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[ew,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new eM(this.binding,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(ew,b):V.call(null,ew,b))?new eM(c,this.ea,this.ca,null):new eM(this.binding,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(ew,this.binding)],null),this.ca))};g.sa=function(a,b){return new eM(this.binding,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.binding,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.binding):LL.call(null,b,this.binding)};function fM(a){return D.j(rq,a)?HL(new bM(null,null,null),a):null}function gM(a){var b=fM(a);return q(b)?b:hM.aa?hM.aa(a):hM.call(null,a)}
function iM(a){var b=DL(gM,a);if(q(b)){if(Bf(b))throw vm("Tuple binding cannot be empty",new p(null,2,[Hp,Sp,lt,a],null));return HL(new dM(b,null,null,null),a)}return null}
function hM(a){a:{if(CL(a,2)&&D.j(mf(a),hg)){var b=H(a);b=hM.aa?hM.aa(b):hM.call(null,b);if(q(b)){b=HL(new eM(b,null,null,null),a);break a}throw vm("Cannot parse collection binding",new p(null,2,[Hp,Sp,lt,a],null));}b=null}if(q(b))return b;b=CL(a,1)&&Ef(H(a))?HL(new eM(iM(H(a)),null,null,null),a):null;if(q(b))return b;b=iM(a);if(q(b))return b;b=fM(a);if(q(b))return b;b=RL(a);b=q(b)?HL(new cM(b,null,null,null),a):null;if(q(b))return b;throw vm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new p(null,2,[Hp,Sp,lt,a],null));}function jM(a){if(null!=a&&null!=a.hf)a=a.hf(a);else{var b=jM[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=jM._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IFindVars.-find-vars",a);}return a}KL.prototype.hf=function(){return new S(null,1,5,T,[this.symbol],null)};function kM(a,b,c,d,e){this.fn=a;this.args=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=kM.prototype;g.hf=function(){return jM(of(this.args))};
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "fn":return this.fn;case "args":return this.args;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Qz,this.fn],null),new S(null,2,5,T,[Rz,this.args],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Qz,Rz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-91097383^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Rz,null,Qz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new kM(this.fn,this.args,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Qz,b):V.call(null,Qz,b))?new kM(c,this.args,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new kM(this.fn,c,this.ea,this.ca,null):new kM(this.fn,this.args,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Qz,this.fn),new Y(Rz,this.args)],null),this.ca))};g.sa=function(a,b){return new kM(this.fn,this.args,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;
g.eb=function(a,b,c){return FL(b,this.args,FL(b,this.fn,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.fn):LL.call(null,b,this.fn);b=this.args;return LL.j?LL.j(a,b):LL.call(null,a,b)};function lM(a,b,c,d,e,f){this.source=a;this.kb=b;this.pattern=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=lM.prototype;g.hf=function(){return jM(this.kb)};g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "variable":return this.kb;case "pattern":return this.pattern;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[cu,this.kb],null),new S(null,2,5,T,[Wz,this.pattern],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,cu,Wz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-2108867663^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.kb,b.kb)&&D.j(this.pattern,b.pattern)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[cu,null,un,null,Wz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new lM(this.source,this.kb,this.pattern,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new lM(c,this.kb,this.pattern,this.ea,this.ca,null):q(V.j?V.j(cu,b):V.call(null,cu,b))?new lM(this.source,c,this.pattern,this.ea,this.ca,null):q(V.j?V.j(Wz,b):V.call(null,Wz,b))?new lM(this.source,this.kb,c,this.ea,this.ca,null):new lM(this.source,this.kb,this.pattern,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(cu,this.kb),new Y(Wz,this.pattern)],null),this.ca))};
g.sa=function(a,b){return new lM(this.source,this.kb,this.pattern,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.pattern,FL(b,this.kb,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.kb;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.pattern;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function mM(a){if(null!=a&&null!=a.Ie)a=a.Ie(a);else{var b=mM[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=mM._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IFindElements.find-elements",a);}return a}function nM(a,b,c,d){this.elements=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=nM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "elements":return this.elements;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[dt,this.elements],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[dt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=744809563^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[dt,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new nM(this.elements,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return this.elements};g.pa=function(a,b,c){return q(V.j?V.j(dt,b):V.call(null,dt,b))?new nM(c,this.ea,this.ca,null):new nM(this.elements,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(dt,this.elements)],null),this.ca))};g.sa=function(a,b){return new nM(this.elements,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.elements,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.elements):LL.call(null,b,this.elements)};function oM(a,b,c,d){this.element=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=oM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "element":return this.element;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[gy,this.element],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[gy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=124241361^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[gy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new oM(this.element,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return new S(null,1,5,T,[this.element],null)};g.pa=function(a,b,c){return q(V.j?V.j(gy,b):V.call(null,gy,b))?new oM(c,this.ea,this.ca,null):new oM(this.element,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(gy,this.element)],null),this.ca))};
g.sa=function(a,b){return new oM(this.element,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.element,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.element):LL.call(null,b,this.element)};function pM(a,b,c,d){this.element=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=pM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "element":return this.element;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[gy,this.element],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[gy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-661542332^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[gy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new pM(this.element,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return new S(null,1,5,T,[this.element],null)};g.pa=function(a,b,c){return q(V.j?V.j(gy,b):V.call(null,gy,b))?new pM(c,this.ea,this.ca,null):new pM(this.element,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(gy,this.element)],null),this.ca))};
g.sa=function(a,b){return new pM(this.element,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.element,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.element):LL.call(null,b,this.element)};function qM(a,b,c,d){this.elements=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=qM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "elements":return this.elements;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[dt,this.elements],null)],null),this.ca))};
g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[dt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=681530371^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[dt,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new qM(this.elements,this.ea,Eh(R.j(this.ca,b)),null)};g.Ie=function(){return this.elements};g.pa=function(a,b,c){return q(V.j?V.j(dt,b):V.call(null,dt,b))?new qM(c,this.ea,this.ca,null):new qM(this.elements,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(dt,this.elements)],null),this.ca))};g.sa=function(a,b){return new qM(this.elements,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.elements,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.elements):LL.call(null,b,this.elements)};function rM(a){return a instanceof kM}function sM(a){return a instanceof lM}
function tM(a){var b=RL(a);if(q(b))return b;a:{if(Ef(a)&&D.j(H(a),cg)){if(3<=K(a)&&4>=K(a)){var c=(b=D.j(K(a),4))?bf(a,1):jg;b=b?J(J(a)):J(a);var d=P(b,0,null);b=P(b,1,null);c=TL(c);d=RL(d);var e=RL(b);q(e)?b=e:(e=WL(b),b=q(e)?e:UL(b));if(q(q(c)?q(d)?b:d:c)){b=new lM(c,d,b,null,null,null);break a}}throw vm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new p(null,2,[Hp,oz,zt,a],null));}b=null}if(q(b))return b;a:{if(Ef(a)&&D.j(H(a),Jv)){if(3<=
K(a)&&(b=E(a),H(b),c=J(b),b=H(c),c=J(c),b=RL(b),c=DL(XL,c),q(q(b)?c:b))){b=new kM(b,c,null,null,null);break a}throw vm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new p(null,2,[Hp,oz,zt,a],null));}b=null}q(b)?a=b:Ef(a)&&2<=K(a)?(b=E(a),a=H(b),b=J(b),a=VL(a),b=DL(XL,b),a=q(q(a)?b:a)?new kM(a,b,null,null,null):null):a=null;return a}
function uM(a){var b=DL(tM,a);b=null==b?null:new nM(b,null,null,null);if(q(b))return b;a:{if(Ef(a)&&D.j(K(a),1)&&(b=H(a),Ef(b)&&D.j(K(b),2)&&D.j(mf(b),hg))){b=tM(H(b));b=null==b?null:new oM(b,null,null,null);break a}b=null}if(q(b))return b;Ef(a)&&D.j(K(a),2)&&D.j(mf(a),Ty)?(b=tM(H(a)),b=null==b?null:new pM(b,null,null,null)):b=null;if(q(b))return b;Ef(a)&&D.j(K(a),1)?(b=H(a),b=DL(tM,b),b=null==b?null:new qM(b,null,null,null)):b=null;if(q(b))return b;throw vm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new p(null,2,[Hp,oz,zt,a],null));}function vM(a,b,c,d,e){this.type=a;this.symbols=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=vM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[pq,this.type],null),new S(null,2,5,T,[Lx,this.symbols],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[pq,Lx],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-2025547471^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.type,b.type)&&D.j(this.symbols,b.symbols)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[pq,null,Lx,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new vM(this.type,this.symbols,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(pq,b):V.call(null,pq,b))?new vM(c,this.symbols,this.ea,this.ca,null):q(V.j?V.j(Lx,b):V.call(null,Lx,b))?new vM(this.type,c,this.ea,this.ca,null):new vM(this.type,this.symbols,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(pq,this.type),new Y(Lx,this.symbols)],null),this.ca))};g.sa=function(a,b){return new vM(this.type,this.symbols,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.symbols,FL(b,this.type,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.type):LL.call(null,b,this.type);b=this.symbols;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function wM(a,b){if(!Bf(b)&&Jh(we,b))switch(a instanceof C?a.Aa:null){case "keys":return new vM(a,ti.j(ah,b),null,null,null);case "syms":return new vM(a,sg(b),null,null,null);case "strs":return new vM(a,ti.j(t,b),null,null,null);default:return null}else return null}function xM(a){var b=TL(a);q(b)||(b=D.j(kt,a)?new OL(null,null,null):null,b=q(b)?b:WL(a));return q(b)?HL(new cM(b,null,null,null),a):hM(a)}
function yM(a){var b=DL(xM,a);if(q(b))return b;throw vm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new p(null,2,[Hp,gA,lt,a],null));}function zM(a,b,c,d,e){this.source=a;this.pattern=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=zM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[Wz,this.pattern],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[un,Wz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=575220587^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.pattern,b.pattern)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[un,null,Wz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new zM(this.source,this.pattern,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new zM(c,this.pattern,this.ea,this.ca,null):q(V.j?V.j(Wz,b):V.call(null,Wz,b))?new zM(this.source,c,this.ea,this.ca,null):new zM(this.source,this.pattern,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(un,this.source),new Y(Wz,this.pattern)],null),this.ca))};g.sa=function(a,b){return new zM(this.source,this.pattern,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.pattern,FL(b,this.source,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.pattern;return LL.j?LL.j(a,b):LL.call(null,a,b)};function AM(a,b,c,d,e){this.fn=a;this.args=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=AM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "fn":return this.fn;case "args":return this.args;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Qz,this.fn],null),new S(null,2,5,T,[Rz,this.args],null)],null),this.ca))};
g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Qz,Rz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1523376880^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[Rz,null,Qz,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new AM(this.fn,this.args,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(Qz,b):V.call(null,Qz,b))?new AM(c,this.args,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new AM(this.fn,c,this.ea,this.ca,null):new AM(this.fn,this.args,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Qz,this.fn),new Y(Rz,this.args)],null),this.ca))};g.sa=function(a,b){return new AM(this.fn,this.args,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.args,FL(b,this.fn,c))};g.fb=function(a,b){a=LL.j?LL.j(b,this.fn):LL.call(null,b,this.fn);b=this.args;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function BM(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=BM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[Qz,this.fn],null),new S(null,2,5,T,[Rz,this.args],null),new S(null,2,5,T,[ew,this.binding],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[Qz,Rz,ew],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=589494199^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.binding,b.binding)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Rz,null,Qz,null,ew,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new BM(this.fn,this.args,this.binding,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Qz,b):V.call(null,Qz,b))?new BM(c,this.args,this.binding,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new BM(this.fn,c,this.binding,this.ea,this.ca,null):q(V.j?V.j(ew,b):V.call(null,ew,b))?new BM(this.fn,this.args,c,this.ea,this.ca,null):new BM(this.fn,this.args,this.binding,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(Qz,this.fn),new Y(Rz,this.args),new Y(ew,this.binding)],null),this.ca))};
g.sa=function(a,b){return new BM(this.fn,this.args,this.binding,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.binding,FL(b,this.args,FL(b,this.fn,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.fn):LL.call(null,b,this.fn);b=this.args;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.binding;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function CM(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=CM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[fz,this.name],null),new S(null,2,5,T,[Rz,this.args],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,fz,Rz],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-444662011^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.name,b.name)&&D.j(this.args,b.args)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Rz,null,fz,null,un,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new CM(this.source,this.name,this.args,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new CM(c,this.name,this.args,this.ea,this.ca,null):q(V.j?V.j(fz,b):V.call(null,fz,b))?new CM(this.source,c,this.args,this.ea,this.ca,null):q(V.j?V.j(Rz,b):V.call(null,Rz,b))?new CM(this.source,this.name,c,this.ea,this.ca,null):new CM(this.source,this.name,this.args,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(fz,this.name),new Y(Rz,this.args)],null),this.ca))};
g.sa=function(a,b){return new CM(this.source,this.name,this.args,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.args,FL(b,this.name,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.name;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.args;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function DM(a,b,c,d,e,f){this.source=a;this.ub=b;this.Oa=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=DM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "vars":return this.ub;case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[hs,this.ub],null),new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,hs,xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1394671061^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.ub,b.ub)&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[un,null,xy,null,hs,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new DM(this.source,this.ub,this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new DM(c,this.ub,this.Oa,this.ea,this.ca,null):q(V.j?V.j(hs,b):V.call(null,hs,b))?new DM(this.source,c,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xy,b):V.call(null,xy,b))?new DM(this.source,this.ub,c,this.ea,this.ca,null):new DM(this.source,this.ub,this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(hs,this.ub),new Y(xy,this.Oa)],null),this.ca))};
g.sa=function(a,b){return new DM(this.source,this.ub,this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.Oa,FL(b,this.ub,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.ub;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.Oa;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function EM(a,b,c,d,e,f){this.source=a;this.Fc=b;this.Oa=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=EM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "source":return this.source;case "rule-vars":return this.Fc;case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[un,this.source],null),new S(null,2,5,T,[xz,this.Fc],null),new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[un,xz,xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1461934571^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.Fc,b.Fc)&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[xz,null,un,null,xy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new EM(this.source,this.Fc,this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(un,b):V.call(null,un,b))?new EM(c,this.Fc,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xz,b):V.call(null,xz,b))?new EM(this.source,c,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xy,b):V.call(null,xy,b))?new EM(this.source,this.Fc,c,this.ea,this.ca,null):new EM(this.source,this.Fc,this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y(un,this.source),new Y(xz,this.Fc),new Y(xy,this.Oa)],null),this.ca))};
g.sa=function(a,b){return new EM(this.source,this.Fc,this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.Oa,FL(b,this.Fc,FL(b,this.source,c)))};g.fb=function(a,b){a=LL.j?LL.j(b,this.source):LL.call(null,b,this.source);b=this.Fc;a=LL.j?LL.j(a,b):LL.call(null,a,b);b=this.Oa;return LL.j?LL.j(a,b):LL.call(null,a,b)};
function FM(a,b,c,d){this.Oa=a;this.ea=b;this.ca=c;this.fa=d;this.ga=2230716170;this.la=139264}g=FM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,W.j(new S(null,1,5,T,[new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,1,new S(null,1,5,T,[xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 1+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-131856804^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,1,[xy,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new FM(this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};g.pa=function(a,b,c){return q(V.j?V.j(xy,b):V.call(null,xy,b))?new FM(c,this.ea,this.ca,null):new FM(this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,1,5,T,[new Y(xy,this.Oa)],null),this.ca))};
g.sa=function(a,b){return new FM(this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.Oa,c)};g.fb=function(a,b){return LL.j?LL.j(b,this.Oa):LL.call(null,b,this.Oa)};function GM(a){var b=D.j(rq,a)?new JL(null,null,null):null;if(q(b))return b;b=RL(a);return q(b)?b:UL(a)}
function HM(a){if(Ef(a)){var b=TL(H(a));return q(b)?new S(null,2,5,T,[b,J(a)],null):new S(null,2,5,T,[new NL(null,null,null),a],null)}return null}function IM(a){if(Ef(a)){var b=E(a);a=H(b);b=J(b);b=null==b?qf:b;var c=VL(a);a=q(c)?c:RL(a);b=DL(XL,b);return q(q(a)?b:a)?new S(null,2,5,T,[a,b],null):null}return null}
var LL=function LL(a,b){return b instanceof KL?pf.j(a,b):b instanceof DM?si.j(a,b.ub):b instanceof EM?(b=b.Fc,LL.j?LL.j(a,b):LL.call(null,a,b)):(null!=b?l===b.cb||(b.Md?0:Ac(zL,b)):Ac(zL,b))?BL(b,a):Ef(b)?v.ba(LL,a,b):a};function JM(a,b,c){if(Bf(a)&&Bf(b))throw vm("Join variables should not be empty",new p(null,2,[Hp,Hx,lt,c],null));}function KM(a,b){JM(null,hs.aa(a),b);return a}
function LM(a,b){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;c=B.j(c,xz);var d=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;c=B.j(d,Yz);d=B.j(d,Or);JM(c,d,b);return a}function ai(a){if(Ef(a)&&D.j(Lv,H(a))){var b=J(a);b=MM.aa?MM.aa(b):MM.call(null,b);if(q(Eh(b)))return new FM(b,null,null,null);throw vm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}return null}
function bi(a){a:{var b=HM(a);if(q(b)){var c=P(b,0,null);b=P(b,1,null);var d=E(b);b=H(d);d=J(d);if(D.j(Ax,b)){b=MM.aa?MM.aa(d):MM.call(null,d);if(q(b)){c=KM(HL(new DM(c,sg(Nk(LL(qf,b))),b,null,null,null),a),a);break a}throw vm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)){c=P(b,0,null);b=P(b,1,null);d=E(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(D.j(Wq,b)){b=DL(RL,d);d=MM.aa?MM.aa(e):MM.call(null,e);if(q(q(b)?
d:b)){c=KM(HL(new DM(c,b,d,null,null,null),a),a);break a}throw vm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),d=J(d),D.j(wr,b))){b=DL($h(),d);if(q(b)){c=LM(HL(new EM(c,new YL(null,sg(Nk(LL(qf,b))),null,null,null),b,null,null,null),a),a);break a}throw vm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new p(null,2,[Hp,Hx,
lt,a],null));}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=E(b),b=H(d),e=J(d),d=H(e),e=J(e),D.j(Ap,b))){b=ZL(d);d=DL($h(),e);if(q(q(b)?d:b)){c=LM(HL(new EM(c,b,d,null,null,null),a),a);break a}throw vm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new p(null,2,[Hp,Hx,lt,a],null));}c=null}if(q(c))return c;a:{if(CL(a,1)&&(b=IM(H(a)),q(b))){c=P(b,0,null);b=P(b,1,null);c=HL(new AM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;
a:{if(CL(a,2)&&(b=P(a,0,null),c=P(a,1,null),d=IM(b),q(d))){b=P(d,0,null);d=P(d,1,null);c=hM(c);c=q(c)?HL(new BM(b,d,c,null,null,null),a):null;break a}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=E(b),d=H(b),b=J(b),d=VL(d),e=DL(GM,b),q(d))){if(Bf(b))throw vm("rule-expr requires at least one argument",new p(null,2,[Hp,Hx,lt,a],null));if(null==e)throw vm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new p(null,2,[Hp,Hx,lt,a],null));c=new CM(c,
d,e,null,null,null);break a}c=null}if(q(c))return c;a:{b=HM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=DL(GM,b),q(b))){if(Bf(b))throw vm("Pattern could not be empty",new p(null,2,[Hp,Hx,lt,a],null));c=HL(new zM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;throw vm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new p(null,2,[Hp,Hx,lt,a],null));}function MM(a){return DL(bi,a)}
function NM(a){var b=MM(a);if(q(b))return b;throw vm("Cannot parse :where clause, expected [clause+]",new p(null,2,[Hp,Hx,lt,a],null));}function OM(a,b,c,d,e){this.ub=a;this.Oa=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=OM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "vars":return this.ub;case "clauses":return this.Oa;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[hs,this.ub],null),new S(null,2,5,T,[xy,this.Oa],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[hs,xy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1024755006^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ub,b.ub)&&D.j(this.Oa,b.Oa)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[xy,null,hs,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new OM(this.ub,this.Oa,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(hs,b):V.call(null,hs,b))?new OM(c,this.Oa,this.ea,this.ca,null):q(V.j?V.j(xy,b):V.call(null,xy,b))?new OM(this.ub,c,this.ea,this.ca,null):new OM(this.ub,this.Oa,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(hs,this.ub),new Y(xy,this.Oa)],null),this.ca))};g.sa=function(a,b){return new OM(this.ub,this.Oa,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;
g.eb=function(a,b,c){return FL(b,this.Oa,FL(b,this.ub,c))};g.fb=function(a,b){return LL(LL(b,this.ub),this.Oa)};function PM(a,b,c,d,e){this.name=a;this.branches=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=PM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "name":return this.name;case "branches":return this.branches;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[fz,this.name],null),new S(null,2,5,T,[Ms,this.branches],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[fz,Ms],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-900273052^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.name,b.name)&&D.j(this.branches,b.branches)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[fz,null,Ms,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new PM(this.name,this.branches,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(fz,b):V.call(null,fz,b))?new PM(c,this.branches,this.ea,this.ca,null):q(V.j?V.j(Ms,b):V.call(null,Ms,b))?new PM(this.name,c,this.ea,this.ca,null):new PM(this.name,this.branches,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(fz,this.name),new Y(Ms,this.branches)],null),this.ca))};g.sa=function(a,b){return new PM(this.name,this.branches,b,this.ca,this.fa)};
g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;g.eb=function(a,b,c){return FL(b,this.branches,FL(b,this.name,c))};g.fb=function(a,b){return LL(LL(b,this.name),this.branches)};
function QM(a){if(Ef(a)){var b=E(a),c=H(b),d=J(b);if(Ef(c)){b=E(c);var e=H(b);c=J(b);b=function(){var h=VL(e);if(q(h))return h;throw vm("Cannot parse rule name, expected plain-symbol",new p(null,2,[Hp,Zw,lt,a],null));}();c=ZL(c);var f=function(){var h=Eh(MM(d));if(q(h))return h;throw vm("Rule branch should have clauses",new p(null,2,[Hp,Zw,lt,a],null));}();return new p(null,3,[fz,b,hs,c,xy,f],null)}throw vm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",xl.da(M([c]))].join(""),new p(null,
2,[Hp,Zw,lt,a],null));}throw vm("Cannot parse rule, expected [rule-head clause+]",new p(null,2,[Hp,Zw,lt,a],null));}
function RM(a,b){var c=hs.aa(H(b)),d=aM(c);b=E(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.La(null,h);k=hs.aa(k);if(Dh.j(d,aM(k)))throw vm(["Arity mismatch for rule '",xl.da(M([Lw.aa(a)])),"': ",xl.da(M([$L(c)]))," vs. ",xl.da(M([$L(k)]))].join(""),new p(null,2,[Hp,Zw,dp,a],null));h+=1}else if(b=E(b)){if(If(b))f=ae(b),b=be(b),e=f,f=K(f);else{k=H(b);e=hs.aa(k);if(Dh.j(d,aM(e)))throw vm(["Arity mismatch for rule '",xl.da(M([Lw.aa(a)])),"': ",xl.da(M([$L(c)]))," vs. ",xl.da(M([$L(e)]))].join(""),
new p(null,2,[Hp,Zw,dp,a],null));b=J(b);e=null;f=0}h=0}else break}
function SM(a){sg(function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){var f=e;if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);A=ti.j(function(){return function(F){return new OM(hs.aa(F),xy.aa(F),null,null,null)}}(w,A,G,I,h,k,m,f,e),I);I=m;RM(G,A);I.add(new PM(G,A,null,null,null));w+=1}else return!0}()?ih(kh(m),d(be(f))):ih(kh(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);n=ti.j(function(){return function(w){return new OM(hs.aa(w),
xy.aa(w),null,null,null)}}(n,r,u,f,e),u);RM(r,n);return hf(new PM(r,n,null,null,null),d(Fe(f)))}return null}},null,null)}(bm(fz,DL(QM,a)))}())}function TM(a,b,c,d,e,f,h,k){this.uc=a;this.yc=b;this.wc=c;this.vc=d;this.xc=e;this.ea=f;this.ca=h;this.fa=k;this.ga=2230716170;this.la=139264}g=TM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "qfind":return this.uc;case "qwith":return this.yc;case "qreturn-map":return this.wc;case "qin":return this.vc;case "qwhere":return this.xc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,W.j(new S(null,5,5,T,[new S(null,2,5,T,[Sq,this.uc],null),new S(null,2,5,T,[Uz,this.yc],null),new S(null,2,5,T,[sw,this.wc],null),new S(null,2,5,T,[by,this.vc],null),new S(null,2,5,T,[vy,this.xc],null)],null),this.ca))};g.Ba=function(){return new rj(this,5,new S(null,5,5,T,[Sq,Uz,sw,by,vy],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 5+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=181307977^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.uc,b.uc)&&D.j(this.yc,b.yc)&&D.j(this.wc,b.wc)&&D.j(this.vc,b.vc)&&D.j(this.xc,b.xc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,5,[Sq,null,vy,null,by,null,Uz,null,sw,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new TM(this.uc,this.yc,this.wc,this.vc,this.xc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Sq,b):V.call(null,Sq,b))?new TM(c,this.yc,this.wc,this.vc,this.xc,this.ea,this.ca,null):q(V.j?V.j(Uz,b):V.call(null,Uz,b))?new TM(this.uc,c,this.wc,this.vc,this.xc,this.ea,this.ca,null):q(V.j?V.j(sw,b):V.call(null,sw,b))?new TM(this.uc,this.yc,c,this.vc,this.xc,this.ea,this.ca,null):q(V.j?V.j(by,b):V.call(null,by,b))?new TM(this.uc,this.yc,this.wc,c,this.xc,this.ea,this.ca,null):q(V.j?V.j(vy,b):V.call(null,vy,b))?new TM(this.uc,this.yc,this.wc,this.vc,c,this.ea,
this.ca,null):new TM(this.uc,this.yc,this.wc,this.vc,this.xc,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,5,5,T,[new Y(Sq,this.uc),new Y(Uz,this.yc),new Y(sw,this.wc),new Y(by,this.vc),new Y(vy,this.xc)],null),this.ca))};g.sa=function(a,b){return new TM(this.uc,this.yc,this.wc,this.vc,this.xc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.cb=l;
g.eb=function(a,b,c){return FL(b,this.xc,FL(b,this.vc,FL(b,this.wc,FL(b,this.yc,FL(b,this.uc,c)))))};g.fb=function(a,b){return LL(LL(LL(LL(LL(b,this.uc),this.yc),this.wc),this.vc),this.xc)};function UM(a){var b=R.da(a,Sq,M([Uz,sw,by,vy]));b=Gf(a)?si.j(X,b):b;return new TM(Sq.aa(a),Uz.aa(a),sw.aa(a),by.aa(a),vy.aa(a),null,Eh(b),null)}function VM(a){for(var b=X,c=null;;){var d=H(a);if(q(d))d instanceof C?(c=d,a=J(a)):(b=zi.ja(b,new S(null,1,5,T,[c],null),Qh(pf,qf),d),a=J(a));else return b}}
function WM(a){var b=un.aa(a);return a instanceof zM?b:null!=b?b instanceof NL?null:b:null}
function XM(a,b,c){var d=Mk(LL(qf,Sq.aa(a))),e=Mk(Uz.aa(a)),f=Mk(LL(qf,by.aa(a))),h=Mk(LL(qf,vy.aa(a)));f=KH.j(IH(d,e),IH(h,f));d=JH.j(d,e);if(!Bf(f))throw vm(["Query for unknown vars: ",xl.da(M([ti.j(Lw,f)]))].join(""),new p(null,3,[Hp,Xx,hs,f,lt,b],null));if(!Bf(d))throw vm([":find and :with should not use same variables: ",xl.da(M([ti.j(Lw,d)]))].join(""),new p(null,3,[Hp,Xx,hs,d,lt,b],null));d=sw.aa(a);if(null!=d){if(Sq.aa(a)instanceof pM)throw vm([xl.da(M([pq.aa(d)]))," does not work with single-scalar :find"].join(""),
new p(null,2,[Hp,Xx,lt,b],null));if(Sq.aa(a)instanceof oM)throw vm([xl.da(M([pq.aa(d)]))," does not work with collection :find"].join(""),new p(null,2,[Hp,Xx,lt,b],null));}d=Lx.aa(sw.aa(a));if(null!=d&&(e=mM(Sq.aa(a)),!D.j(K(d),K(e))))throw vm(["Count of ",xl.da(M([pq.aa(sw.aa(a))]))," must match count of :find"].join(""),new p(null,4,[Hp,Xx,Ao,hf(pq.aa(sw.aa(a)),d),ag,e,lt,b],null));if(1<K(qi(zc,new S(null,3,5,T,[Qq.aa(c),gz.aa(c),Gn.aa(c)],null))))throw vm("Only one of :keys/:syms/:strs must be present",
new p(null,2,[Hp,Xx,lt,b],null));var k=LL(qf,by.aa(a)),m=EL(function(r){return r instanceof ML},by.aa(a)),n=EL(function(r){return r instanceof OL},by.aa(a));if(!q(function(){var r=GL(k);return q(r)?(r=GL(m),q(r)?GL(n):r):r}()))throw vm("Vars used in :in should be distinct",new p(null,2,[Hp,Xx,lt,b],null));c=LL(qf,Uz.aa(a));if(!q(GL(c)))throw vm("Vars used in :with should be distinct",new p(null,2,[Hp,Xx,lt,b],null));c=FL(function(r){return r instanceof ML},by.aa(a),Lk);d=FL(function(r){return r instanceof
ML},vy.aa(a),Lk);c=KH.j(d,c);if(!Bf(c))throw vm(["Where uses unknown source vars: ",xl.da(M([ti.j(Lw,c)]))].join(""),new p(null,3,[Hp,Xx,hs,c,lt,b],null));c=EL(function(r){return r instanceof CM},vy.aa(a));a=EL(function(r){return r instanceof OL},by.aa(a));if(!Bf(c)&&Bf(a))throw vm("Missing rules var '%' in :in",new p(null,2,[Hp,Xx,lt,b],null));}
function YM(a){if(Ff(a))var b=a;else if(Ef(a))b=VM(a);else throw vm("Query should be a vector or a map",new p(null,2,[Hp,Xx,lt,a],null));var c=b,d=NM(kg.j(c,qf));b=UM(new p(null,5,[Sq,uM(ag.aa(c)),Uz,function(){var e=OA.aa(c);if(q(e)){var f=DL(RL,e);if(q(f))e=f;else throw vm("Cannot parse :with clause, expected [ variable+ ]",new p(null,2,[Hp,Pt,lt,e],null));}else e=null;return e}(),sw,function(){var e=wM(Qq,Qq.aa(c));if(q(e))return e;e=wM(gz,gz.aa(c));return q(e)?e:wM(Gn,Gn.aa(c))}(),by,yM(function(){var e=
ig.aa(c);return q(e)?e:Bf(EL(WM,d))?qf:new S(null,1,5,T,[jg],null)}()),vy,d],null));XM(b,a,c);return b};function ZM(a,b,c,d,e,f){this.md=a;this.sources=b;this.rules=c;this.ea=d;this.ca=e;this.fa=f;this.ga=2230716170;this.la=139264}g=ZM.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "rels":return this.md;case "sources":return this.sources;case "rules":return this.rules;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,W.j(new S(null,3,5,T,[new S(null,2,5,T,[$v,this.md],null),new S(null,2,5,T,[Tw,this.sources],null),new S(null,2,5,T,[Zv,this.rules],null)],null),this.ca))};g.Ba=function(){return new rj(this,3,new S(null,3,5,T,[$v,Tw,Zv],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 3+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1014232958^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.md,b.md)&&D.j(this.sources,b.sources)&&D.j(this.rules,b.rules)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,3,[Tw,null,Zv,null,$v,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new ZM(this.md,this.sources,this.rules,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j($v,b):V.call(null,$v,b))?new ZM(c,this.sources,this.rules,this.ea,this.ca,null):q(V.j?V.j(Tw,b):V.call(null,Tw,b))?new ZM(this.md,c,this.rules,this.ea,this.ca,null):q(V.j?V.j(Zv,b):V.call(null,Zv,b))?new ZM(this.md,this.sources,c,this.ea,this.ca,null):new ZM(this.md,this.sources,this.rules,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,3,5,T,[new Y($v,this.md),new Y(Tw,this.sources),new Y(Zv,this.rules)],null),this.ca))};
g.sa=function(a,b){return new ZM(this.md,this.sources,this.rules,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};function $M(a,b,c,d,e){this.Hb=a;this.Fd=b;this.ea=c;this.ca=d;this.fa=e;this.ga=2230716170;this.la=139264}g=$M.prototype;g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "attrs":return this.Hb;case "tuples":return this.Fd;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,W.j(new S(null,2,5,T,[new S(null,2,5,T,[Kt,this.Hb],null),new S(null,2,5,T,[fu,this.Fd],null)],null),this.ca))};g.Ba=function(){return new rj(this,2,new S(null,2,5,T,[Kt,fu],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};
g.va=function(){return 2+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1107093117^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Hb,b.Hb)&&D.j(this.Fd,b.Fd)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,2,[fu,null,Kt,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new $M(this.Hb,this.Fd,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Kt,b):V.call(null,Kt,b))?new $M(c,this.Fd,this.ea,this.ca,null):q(V.j?V.j(fu,b):V.call(null,fu,b))?new $M(this.Hb,c,this.ea,this.ca,null):new $M(this.Hb,this.Fd,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,2,5,T,[new Y(Kt,this.Hb),new Y(fu,this.Fd)],null),this.ca))};g.sa=function(a,b){return new $M(this.Hb,this.Fd,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
function aN(a,b){return JH.j(Mk(xj(a)),Mk(xj(b)))}function bN(a,b){return D.j(K(a),K(b))&&Jh(function(c){return Pf(b,c)},xj(a))&&Jh(function(c){return Pf(b,c)},xj(a))}
var cN=function cN(a,b){return D.j(rq,a)?!0:D.j(new S(null,1,5,T,[gg],null),a)?Ef(b):a instanceof z?D.j(b,a):Ef(a)?D.j(of(a),gg)?Ef(b)&&Jh(function(d){var e=P(d,0,null);d=P(d,1,null);return cN.j?cN.j(e,d):cN.call(null,e,d)},ci.ba(Zi,Ok(a),b)):Ef(b)&&D.j(K(b),K(a))&&Jh(function(d){var e=P(d,0,null);d=P(d,1,null);return cN.j?cN.j(e,d):cN.call(null,e,d)},ci.ba(Zi,a,b)):a.aa?a.aa(b):a.call(null,b)};function dN(a){return a instanceof z&&D.j("$",H(bh(a)))}
function eN(a){return a instanceof z&&D.j("?",H(bh(a)))}function fN(a){return a instanceof C||"string"===typeof a}function gN(a){return cN(new S(null,2,5,T,[fN,rq],null),a)}function hN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var iN=function iN(a,b){var d=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,e=B.j(d,Kt);d=B.j(d,fu);var f=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,h=B.j(f,Kt);f=B.j(f,fu);if(D.j(e,h))return new $M(e,si.j(sg(d),f),null,null,null);if(bN(e,h)){if(Jh(xc,yj(e))){var k=sg(function(){return function w(u){return new ch(null,function(){for(;;){var A=E(u);if(A){if(If(A)){var G=ae(A),I=K(G),F=gh(I);a:for(var N=0;;)if(N<I){var O=x(G,N),U=P(O,0,null);O=P(O,1,null);U=new S(null,2,5,T,[O,e.aa?e.aa(U):e.call(null,U)],null);
F.add(U);N+=1}else{G=!0;break a}return G?ih(kh(F),w(be(A))):ih(kh(F),null)}G=H(A);F=P(G,0,null);G=P(G,1,null);return hf(new S(null,2,5,T,[G,e.aa?e.aa(F):e.call(null,F)],null),w(Fe(A)))}return null}},null,null)}(h)}()),m=v.j(Ig,yj(e))+1;b=Vd(v.ba(function(r,u){for(var w=Array(m),A=E(k),G=null,I=0,F=0;;)if(F<I){var N=G.La(null,F),O=P(N,0,null);N=P(N,1,null);w[N]=u[O];F+=1}else if(A=E(A))If(A)?(I=ae(A),A=be(A),G=I,I=K(I)):(I=H(A),G=P(I,0,null),I=P(I,1,null),w[I]=u[G],A=J(A),G=null,I=0),F=0;else break;
return qh.j(r,w)},Td(sg(d)),f));return new $M(e,b,null,null,null)}var n=Pk(xj(Ek.da(M([e,h]))),Yk.ia());d=function(){var r=new $M(n,qf,null,null,null);return iN.j?iN.j(r,a):iN.call(null,r,a)}();return iN.j?iN.j(d,b):iN.call(null,d,b)}throw vm(["Cant sum relations with different attrs: ",xl.da(M([e]))," and ",xl.da(M([h]))].join(""),new p(null,1,[Hp,Mr],null));},jN=function jN(a){switch(arguments.length){case 0:return jN.ia();case 2:return jN.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
t.aa(arguments.length)].join(""));}};jN.ia=function(){return new $M(X,new S(null,1,5,T,[[]],null),null,null,null)};jN.j=function(a,b){var c=xj(Kt.aa(a)),d=xj(Kt.aa(b)),e=Wf(ci.j(Kt.aa(a),c)),f=Wf(ci.j(Kt.aa(b),d));return new $M(Pk(W.j(c,d),Yk.ia()),Vd(v.ba(function(h,k){return v.ba(function(m,n){return qh.j(m,hN(k,e,n,f))},h,fu.aa(b))},Td(qf),fu.aa(a))),null,null,null)};jN.na=2;
var kN=function kN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return kN.da(c)};kN.da=function(a){var b=K(a);return Dh.j(di.j(b/2,a),ei(b/2,a))};kN.na=0;kN.qa=function(a){return this.da(E(a))};var lN=function lN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new De(c.slice(2),0,null):null;return lN.da(arguments[0],arguments[1],c)};
lN.da=function(a,b,c){return v.ba(function(d,e){d=H(lJ(a,new S(null,2,5,T,[b,e],null)));return null==d?null:Qe(new S(null,2,5,T,[xw.aa(d),Dw.aa(d)],null))},null,c)};lN.na=2;lN.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};var mN=function mN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return mN.da(c)};mN.da=function(a){return v.ba(function(b,c){return q(c)?c:Qe(c)},!0,a)};mN.na=0;mN.qa=function(a){return this.da(E(a))};
var nN=function nN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return nN.da(c)};nN.da=function(a){return v.ba(function(b,c){return q(c)?Qe(c):c},null,a)};nN.na=0;nN.qa=function(a){return this.da(E(a))};
var oN=gk([EA,Lv,vs,jx,pr,Vv,lv,Fq,cw,tr,Wx,wz,Qo,mr,oB,Ax,kn,tx,Ku,dq,Sr,Aw,xv,Fp,GA,ls,mg,Ky,AA,Ln,yo,jw,Co,vt,ln,yy,gg,xp,er,Xv,As,Rm,Zu,Os,xA,yB,qt,Po,dy,jA,Hs,Fs,Ep,ip,Qs,zy,jo,DA,dn,up,ay,op,Sv,aB,Fz,iy,Sx,wt,Av,wr,Kn,$s,wu],[function(a){return!0===a},mN,function(a){return!Lh(a)},function(a,b,c,d){if(null==d)throw vm("get-else: nil default value is not supported",new p(null,1,[Hp,Mr],null));a=H(lJ(a,new S(null,2,5,T,[b,c],null)));return null==a?d:Dw.aa(a)},Hg,zl,Gg,K,lN,vc,wg,Oe,Dg,Ng,function(a){return!1===
a},yc,wg,kN,Zi,hl,Fg,function(a,b){return 0==a.lastIndexOf(b,0)},D,Jg,Ag,bh,function(a,b,c){return null==B.j(lL(a,b),c)},wg,am,Mh,Rg,zk,Sf,Yk,Ig,Bf,Cg,xl,Al,yf,function(a){return 0===a},Dh,yl,function(a){return a-1},il,Zi,Dh,t,Eg,Zg,ah,Bg,zc,function(a){return 0<a},Yl,el,bg,Pf,function(a,b){return ub(a,b)},Sg,Mg,function(a,b){return-1!=a.indexOf(b)},Ak,Pg,Lh,Bc,function(a){return 0>a},VB,Eh,nN,function(a,b){return a===b},Mk,fl]),pN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new ch(null,
function(){for(;;){var m=E(h);if(m){if(If(m)){var n=ae(m),r=K(n),u=gh(r);a:for(var w=0;;)if(w<r){var A=x(n,w)-e;u.add(A*A);w+=1}else{n=!0;break a}return n?ih(kh(u),k(be(m))):ih(kh(u),null)}u=H(m)-e;return hf(u*u,k(Fe(m)))}return null}},null,null)}(d)}())/K(d)}function b(d){return c(d)/K(d)}function c(d){return v.ba(Ag,0,d)}return gk([oq,Fq,Bn,Dp,Fp,ln,Lu,ix,yx,Ro,Qs,$y],[a,K,function(d){var e=Vf(Sf,d);d=K(d);var f=d>>1,h=bf(e,f);return Lh(d)?(h+bf(e,f-1))/2:h},c,function(){function d(h,k){return sg(v.ba(function(m,
n){return K(m)<h?Vf(Sf,pf.j(m,n)):0>Sf(n,of(m))?Vf(Sf,pf.j(Ok(m),n)):m},qf,k))}function e(h){return v.ba(function(k,m){return 0>Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.aa=e;f.j=d;return f}(),function(){function d(h,k){return sg(v.ba(function(m,n){return K(m)<h?Vf(Sf,pf.j(m,n)):0<Sf(n,H(m))?Vf(Sf,pf.j(J(m),n)):m},qf,k))}function e(h){return v.ba(function(k,
m){return 0<Sf(m,k)?m:k},H(h),J(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.aa=e;f.j=d;return f}(),function(d){return K(Nk(d))},Mk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return sg(li(f,function(){return bf(h,am(K(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return bf(f,am(K(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.aa=function(f){return bf(f,am(K(f)))};e.j=d;return e}(),function(d,e){return sg(di.j(d,rg(e)))}])}();function qN(a){a="string"===typeof a?zH(new p(null,3,[Pm,y(GH),qm,y(FH),sx,null],null),a):a;SM(a);return bm(nf,a)}function rN(a){a=ci.j(Lw,sg(Nk(LL(qf,a))));return new $M(Pk(a,Yk.ia()),qf,null,null,null)}
function sN(a,b){if(null!=a&&null!=a.Je)a=a.Je(a,b);else{var c=sN[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=sN._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IBinding.in-\x3erel",a);}return a}bM.prototype.Je=function(){return jN.ia()};cM.prototype.Je=function(a,b){return new $M(uf([wi(this,new S(null,2,5,T,[cu,Lw],null)),0]),new S(null,1,5,T,[Ic(new S(null,1,5,T,[b],null))],null),null,null,null)};
eM.prototype.Je=function(a,b){var c=this;if(KI(b))return Bf(b)?rN(c):v.j(iN,ci.j(function(d){return sN(c.binding,d)},b));throw vm(["Cannot bind value ",xl.da(M([b]))," to collection ",xl.da(M([IL(c)]))].join(""),new p(null,3,[Hp,Tp,Rw,b,ew,IL(c)],null));};
dM.prototype.Je=function(a,b){if(KI(b)){if(K(b)<K(this.bindings))throw vm(["Not enough elements in a collection ",xl.da(M([b]))," to bind tuple ",xl.da(M([IL(this)]))].join(""),new p(null,3,[Hp,Tp,Rw,b,ew,IL(this)],null));return v.j(jN,ci.ba(function(c,d){return sN(c,d)},this.bindings,b))}throw vm(["Cannot bind value ",xl.da(M([b]))," to tuple ",xl.da(M([IL(this)]))].join(""),new p(null,3,[Hp,Tp,Rw,b,ew,IL(this)],null));};
function tN(a,b){var c=P(b,0,null);b=P(b,1,null);return c instanceof cM&&c.kb instanceof ML?Ai.za(a,Tw,Q,wi(c,new S(null,2,5,T,[cu,Lw],null)),b):c instanceof cM&&c.kb instanceof OL?Q.ba(a,Zv,qN(b)):Ai.ja(a,$v,pf,sN(c,b))}
function uN(a,b,c){var d=K(b),e=K(c);if(d<e)throw vm(["Extra inputs passed, expected: ",xl.da(M([ti.j(function(f){return un.aa(yf(f))},b)])),", got: ",xl.da(M([e]))].join(""),new p(null,3,[Hp,jp,zm,b,Mw,c],null));if(d>e)throw vm(["Too few inputs passed, expected: ",xl.da(M([ti.j(function(f){return un.aa(yf(f))},b)])),", got: ",xl.da(M([e]))].join(""),new p(null,3,[Hp,jp,zm,b,Mw,c],null));return v.ba(tN,a,Pk(b,c))}var vN=null,wN=null;
function xN(a,b){var c=a.aa?a.aa(b):a.call(null,b);return Pf(vN,b)?function(d){d=d[c];return"number"===typeof d?d:Ef(d)?OJ(wN,d):PH(d)?OJ(wN,d):d}:function(d){return d[c]}}function yN(a){if(1===K(a))return H(a);var b=Wf(a);return function(c){return E(b.map(function(d){return d.aa?d.aa(c):d.call(null,c)}))}}function zN(a,b){for(var c=Td(X);;){var d=H(b);if(null==d)return Vd(c);var e=a.aa?a.aa(d):a.call(null,d);b=J(b);c=rh.ba(c,e,pf.j(B.ba(c,e,Ge),d))}}
function AN(a,b){var c=fu.aa(a),d=fu.aa(b),e=Kt.aa(a),f=Kt.aa(b);a=sg(aN(Kt.aa(a),Kt.aa(b)));var h=ci.j(function(w){return xN(e,w)},a),k=ci.j(function(w){return xN(f,w)},a);a=xj(e);b=sg(KH.j(Mk(xj(f)),Mk(xj(e))));var m=Wf(ci.j(e,a)),n=Wf(ci.j(f,b));h=yN(h);var r=zN(h,c),u=yN(k);c=Vd(v.ba(function(w,A){var G=u.aa?u.aa(A):u.call(null,A);G=B.j(r,G);return null==G?w:v.ba(function(I,F){return qh.j(I,hN(F,m,A,n))},w,G)},Td(qf),d));return new $M(Pk(W.j(a,b),Yk.ia()),c,null,null,null)}
function BN(a,b){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,Kt);c=B.j(c,fu);b=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;var e=B.j(b,Kt);b=B.j(b,fu);var f=aN(d,e),h=ci.j(function(n){return xN(e,n)},f);h=yN(h);var k=zN(h,b);b=ci.j(function(n){return xN(d,n)},f);var m=yN(b);return Q.ba(a,fu,ui(function(n){n=m.aa?m.aa(n):m.call(null,n);return null==(k.aa?k.aa(n):k.call(null,n))},c))}
function CN(a,b){var c=ti.j(function(d){return d instanceof z?null:d},b);a=lJ(a,c);b=si.j(X,qi(function(d){var e=P(d,0,null);P(d,1,null);return eN(e)},ci.ba(Zi,b,new S(null,4,5,T,["e","a","v","tx"],null))));return new $M(b,a,null,null,null)}
function DN(a,b){a=qi(function(d){a:for(var e=b;;){var f=d;if(q(q(f)?e:f)){f=H(d);var h=H(e);if(h instanceof z||D.j(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=si.j(X,qi(function(d){var e=P(d,0,null);P(d,1,null);return eN(e)},ci.ba(Zi,b,Yk.ia())));return new $M(c,ti.j(Wf,a),null,null,null)}function EN(a,b){return(null!=a?l===a.Jh||(a.Md?0:Ac(kJ,a)):Ac(kJ,a))?CN(a,b):DN(a,b)}
function FN(a,b){for(var c=qf;;){var d=H(a);if(null==d)return pf.j(c,b);q(Eh(aN(Kt.aa(b),Kt.aa(d))))?(a=J(a),b=AN(d,b)):(a=J(a),c=pf.j(c,d))}}function GN(a,b){return Kh(function(c){return Pf(Kt.aa(c),b)?c:null},$v.aa(a))}function HN(a,b){var c=GN(a,b);if(null==c)return null;a=H(fu.aa(c));null==a?b=null:(c=Kt.aa(c),b=c.aa?c.aa(b):c.call(null,b),b=a[b]);return b}function IN(a,b){return Kh(function(c){return Pf(Kt.aa(a),c)},b)}
function JN(a,b){var c=qi(function(e){return IN(e,b)},$v.aa(a)),d=v.j(jN,c);return new S(null,2,5,T,[Ai.ba(a,$v,function(e){return ri(Mk(c),e)}),d],null)}
function KN(a,b,c,d){a=Tw.aa(a);b=Kt.aa(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=bf(d,k);if(m instanceof z){var n=B.j(a,m);null==n?h[k]=B.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Zi?function(r){for(var u=f.slice(0),w=0;;)if(w<e){var A=h[w];null!=A&&(u[w]=r[A]);w+=1}else break;return yh(c,u)}:function(r){for(var u=0;;)if(u<e){var w=h[u];null!=w&&(f[u]=r[w]);u+=1}else break;return yh(c,f)}}
function LN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c),f=function(){var m=B.j(oN,d);if(q(m))return m;m=HN(a,d);if(q(m))return m;if(q(null))return null;if(null==GN(a,d))throw vm(["Unknown predicate '",xl.da(M([d]))," in ",xl.da(M([b]))].join(""),new p(null,3,[Hp,Mr,lt,b,qu,d],null));return null}();c=JN(a,qi(we,e));var h=P(c,0,null),k=P(c,1,null);c=q(f)?function(){var m=KN(h,k,f,e);return Ai.ba(k,fu,function(n){return qi(m,n)})}():Q.ba(k,fu,qf);return Ai.ja(h,$v,pf,c)}
function MN(a,b){var c=P(b,0,null);c=E(c);var d=H(c),e=J(c);c=P(b,1,null);var f=hM(c),h=function(){var n=B.j(oN,d);if(q(n))return n;n=HN(a,d);if(q(n))return n;if(q(null))return null;if(null==GN(a,d))throw vm(["Unknown function '",xl.da(M([d]))," in ",xl.da(M([b]))].join(""),new p(null,3,[Hp,Mr,lt,b,qu,d],null));return null}();c=JN(a,qi(we,e));var k=P(c,0,null),m=P(c,1,null);c=q(h)?function(){var n=KN(k,m,h,e),r=function(){return function A(w){return new ch(null,function(){for(var G=w;;)if(G=E(G)){if(If(G)){var I=
ae(G),F=K(I),N=gh(F);a:for(var O=0;;)if(O<F){var U=x(I,O),ea=n(U);null!=ea&&(U=jN.j(new $M(Kt.aa(m),new S(null,1,5,T,[U],null),null,null,null),sN(f,ea)),N.add(U));O+=1}else{I=!0;break a}return I?ih(kh(N),A(be(G))):ih(kh(N),null)}N=H(G);I=n(N);if(null!=I)return hf(jN.j(new $M(Kt.aa(m),new S(null,1,5,T,[N],null),null,null,null),sN(f,I)),A(Fe(G)));G=Fe(G)}else return null},null,null)}(fu.aa(m))}();return Bf(r)?jN.j(m,rN(f)):v.j(iN,r)}():jN.j(Q.ba(m,fu,qf),rN(f));return Ai.ja(k,$v,FN,c)}
function NN(a,b){if(Ef(b)){var c=dN(H(b))?mf(b):H(b);if(c instanceof z){if(eN(c)||Pf(new Jk(null,new p(null,6,[Lv,null,Ax,null,Wq,null,Ap,null,wr,null,rq,null],null),null),c))return!1;if(Pf(Zv.aa(a),c))return!0;throw vm(["Unknown rule '",xl.da(M([c]))," in ",xl.da(M([b]))].join(""),new p(null,2,[Hp,Mr,lt,b],null));}}return!1}var ON=Uh(0);
function PN(a,b){var c=E(a),d=H(c),e=J(c),f=Wh.j(ON,Oe),h=B.j(Zv.aa(b),d);return function n(m){return new ch(null,function(){for(;;){var r=E(m);if(r){var u=r;if(If(u)){var w=ae(u),A=K(w),G=gh(A);return function(){for(var ua=0;;)if(ua<A){var Ba=x(w,ua),Ua=Ba,ac=E(Ua),yb=H(ac),ec=J(ac),Xb=yb,Qd=E(Xb),Zf=H(Qd),zf=J(Qd),Og=Zf,Zc=zf,Ad=ec,te=Pk(Zc,e);jh(G,KB(function($f,Bd,ue,Cd,cq,Jq,oo,Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq,oj,Oq,Pq,ro,Qt,Zl,pj,Bk,Rt,$l){return function(Yg){if(eN(Yg)){var Gy=qo.aa?qo.aa(Yg):qo.call(null,
Yg);return null==Gy?ze.aa([bh(Yg),"__auto__",t.aa($l)].join("")):Gy}return Yg}}(ua,Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,Ba,w,A,G,u,r,a,c,d,e,d,e,f,h),Ad));ua+=1}else return!0}()?ih(kh(G),n(be(u))):ih(kh(G),null)}var I=H(u),F=I,N=E(F),O=H(N),U=J(N),ea=O,va=E(ea),wa=H(va),xa=J(va),Ra=wa,ka=xa,oa=U,Ca=Pk(ka,e);return hf(KB(function(ua,Ba,Ua,ac,yb,ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq,Jq,oo,Kq){return function(nj){if(eN(nj)){var po=Zc.aa?Zc.aa(nj):Zc.call(null,nj);return null==po?ze.aa([bh(nj),"__auto__",
t.aa(Kq)].join("")):po}return nj}}(F,N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,I,u,r,a,c,d,e,d,e,f,h),oa),n(Fe(u)))}return null}},null,null)}(h)}function QN(a,b){a=ri(function(c){var d=P(c,0,null);c=P(c,1,null);return D.j(d,c)},ci.ba(Zi,a,b));return new S(null,2,5,T,[ci.j(H,a),ci.j(mf,a)],null)}
function RN(a,b){a=E(a);var c=H(a),d=J(a);return function h(f){return new ch(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u),A=QN(d,w);w=P(A,0,null);A=P(A,1,null);w=new S(null,1,5,T,[W.da(new S(null,1,5,T,[tx],null),w,M([A]))],null);r.add(w);u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}r=H(k);m=QN(d,r);r=P(m,0,null);m=P(m,1,null);return hf(new S(null,1,5,T,[W.da(new S(null,1,5,T,[tx],null),r,M([m]))],null),h(Fe(k)))}return null}},
null,null)}(B.j(b,c))}function SN(a){var b=Uh(qf);KB(function(c){q(eN.aa?eN.aa(c):eN.call(null,c))&&Wh.ba(b,pf,c);return c},a);return y(b)}function TN(a,b){function c(e){e=P(e,0,null);e=E(e);H(e);e=J(e);return Jh(d,e)}var d=Mk(SN(a));return new S(null,2,5,T,[qi(c,b),ri(c,b)],null)}
function UN(a,b){function c(ec){return Kh(function(Xb){return Bf(fu.aa(Xb))},$v.aa(ec))}function d(ec,Xb){return v.ba(VN,ec,Xb)}for(var e=qi(eN,b),f=Pk(e,Yk.ia()),h=new rf(null,new p(null,5,[Yo,qf,Jz,a,xy,new S(null,1,5,T,[b],null),Jx,X,oy,X],null),null,1,null),k=new $M(f,qf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,r=$k(function(){return function(ec){return!NN(a,ec)}}(h,k,n,m,e,f,d,c),xy.aa(n)),u=P(r,0,null),w=P(r,1,null),A=E(w),G=H(A),I=J(A),F=G,N=I;if(null==F){b=d(Jz.aa(n),u);b=
WN?WN(b,e):XN.call(null,b,e);var O=new $M(f,b,null,null,null);b=J(h);O=iN(k,O);h=b;k=O}else{var U=F,ea=E(U),va=H(ea),wa=J(ea),xa=va,Ra=wa,ka=RN(F,Jx.aa(n)),oa=TN(W.j(Yo.aa(n),u),W.j(ka,oy.aa(n))),Ca=P(oa,0,null),ua=P(oa,1,null);if(q(Kh(function(){return function(ec){return D.j(ec,new S(null,1,5,T,[bg(tx)],null))}}(h,k,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c),Ca)))b=J(h),O=k,h=b,k=O;else{var Ba=W.j(u,Ca),Ua=d(Jz.aa(n),Ba);if(q(c(Ua)))b=J(h),O=k,h=b,k=O;else{var ac=Q.ba(Jx.aa(n),xa,
pf.j(B.ba(Jx.aa(n),xa,qf),Ra)),yb=PN(F,a);b=W.j(function(){return function(ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq,Jq,oo,Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq,oj,Oq,Pq,ro,Qt){return function Bk(pj){return new ch(null,function(Rt,$l,Yg,Gy,NG,OG,mV,nV,oV,pV,qV,rV,sV,tV,uV,PG,vV,wV,xV,yV,zV,AV,BV,QG){return function(){for(;;){var so=E(pj);if(so){if(If(so)){var Tt=ae(so),RG=K(Tt),Rq=gh(RG);a:for(var Hy=0;;)if(Hy<RG){var Iy=x(Tt,Hy);Iy=new p(null,5,[Yo,NG,Jz,OG,xy,si.ba(qf,Nl,M([Iy,QG])),Jx,Yg,oy,PG],null);Rq.add(Iy);
Hy+=1}else{Tt=!0;break a}return Tt?ih(kh(Rq),Bk(be(so))):ih(kh(Rq),null)}Rq=H(so);return hf(new p(null,5,[Yo,NG,Jz,OG,xy,si.ba(qf,Nl,M([Rq,QG])),Jx,Yg,oy,PG],null),Bk(Fe(so)))}return null}}}(ec,Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd,cq,Jq,oo,Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq,oj,Oq,Pq,ro,Qt),null,null)}}(h,k,ac,yb,Ba,Ua,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,r,u,w,A,G,I,F,N,n,m,e,f,d,c)(yb)}(),J(h));O=k;h=b;k=O}}}}}
function YN(a,b){if(null!=a?l===a.Hg||(a.Md?0:Ac(oJ,a)):Ac(oJ,a)){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null),f=P(b,3,null);return dj(new S(null,4,5,T,[q(function(){var h=gN(c);return q(h)?h:fN(c)}())?LJ(a,c):c,d,q(function(){if(q(e)){if(fN(d)&&KJ(a,d)){var h=gN(e);return q(h)?h:fN(e)}return!1}return e}())?LJ(a,e):e,q(gN(f))?LJ(a,f):f],null),0,K(b))}return b}
function ZN(a,b){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null);b=P(b,3,null);c=eN(c)?pf.j(Lk,c):Lk;c=eN(b)?pf.j(c,b):c;return eN(e)&&!eN(d)&&KJ(a,d)?pf.j(c,e):c}function $N(a,b){return Q.ba(a,$v,Sh(function(c){var d=Eh(Gk(Kt.aa(c),b));return null==d?null:Q.ba(c,Kt,d)},$v.aa(a)))}function aO(a){return si.j(Lk,oi(function(b){return xj(Kt.aa(b))},M([$v.aa(a)])))}
function bO(a,b,c){if(MH(b,a))return null;a=KH.j(Mk(b),a);throw vm(["Insufficient bindings: ",xl.da(M([a]))," not bound in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,a],null));}function cO(a,b,c){b=ti.j(function(d){return KH.j(Mk(SN(d)),a)},b);if(q(yh(D,b)))return null;throw vm(["All clauses in 'or' must use same set of free vars, had ",xl.da(M([b]))," in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,b],null));}
function dO(a,b,c){for(var d=Mk(ri(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.La(null,k);var m=Eh(KH.j(d,Mk(SN(c))));if(null!=m)throw e=m,Bl(M([c,a,b,d])),vm(["All clauses in 'or' must use same set of free vars, had ",xl.da(M([e]))," not bound in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,e],null));k+=1}else if(c=E(e)){e=c;if(If(e))f=ae(e),e=be(e),c=f,h=K(f),f=c;else{c=H(e);f=Eh(KH.j(d,Mk(SN(c))));if(null!=f)throw e=f,Bl(M([c,a,b,d])),vm(["All clauses in 'or' must use same set of free vars, had ",
xl.da(M([e]))," not bound in ",xl.da(M([c]))].join(""),new p(null,3,[Hp,Mr,lt,c,hs,e],null));e=J(e);f=null;h=0}k=0}else return null}var VN=function VN(a){switch(arguments.length){case 2:return VN.j(arguments[0],arguments[1]);case 3:return VN.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};VN.j=function(a,b){return VN.ba(a,b,b)};
VN.ba=function(a,b,c){for(;;){var d=cN,e=b;if(q(function(){var O=new S(null,1,5,T,[new S(null,2,5,T,[we,gg],null)],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return bO(aO(a),qi(eN,J(H(b))),b),LN(a,b);if(q(function(){var O=new S(null,2,5,T,[new S(null,2,5,T,[we,gg],null),rq],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return bO(aO(a),qi(eN,J(H(b))),b),MN(a,b);if(q(function(){var O=new S(null,2,5,T,[dN,gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var f=E(b);c=H(f);f=J(f);var h=
wN;wN=B.j(Tw.aa(a),c);try{return VN.ba(a,f,b)}finally{wN=h}}else{if(q(function(){var O=new S(null,2,5,T,[wr,gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var k=b,m=E(k),n=H(m),r=J(m);f=n;h=r;var u=cO(aO(a),h,b),w=ci.j(function(O){return function(U){return eO.j?eO.j(O,U):eO.call(null,O,U)}}(a,b,c,k,m,n,r,f,h,u,d,e),h);b=ci.j(function(){return function(O){return v.j(AN,$v.aa(O))}}(a,b,c,k,m,n,r,f,h,u,w,d,e),w);return Q.ba(H(w),$v,new S(null,1,5,T,[v.j(iN,b)],null))}if(q(function(){var O=new S(null,
3,5,T,[Ap,new S(null,2,5,T,[new S(null,1,5,T,[gg],null),gg],null),gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){h=E(b);f=H(h);h=J(h);k=H(h);f=J(h);k=E(k);h=H(k);k=J(k);u=h;h=f;f=aO(a);bO(f,u,c);dO(f,k,h);c=nh(Ap,W.j(u,k),h);f=b;b=c;c=f;continue}else{if(q(function(){var O=new S(null,3,5,T,[Ap,new S(null,1,5,T,[gg],null),gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){n=b;r=E(n);var A=H(r),G=J(r);f=A;var I=H(G),F=J(G);k=I;h=F;var N=Mk(k);u=dO(aO(a),N,h);m=$N(a,N);w=ci.j(function(O,
U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb){return function(ec){return $N(eO.j?eO.j(yb,ec):eO.call(null,yb,ec),Ua)}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,d,e),h);b=ci.j(function(){return function(O){return v.j(AN,$v.aa(O))}}(a,b,c,n,r,A,G,f,I,F,k,h,N,u,m,w,d,e),w);b=v.j(iN,b);return Ai.ja(a,$v,FN,b)}if(q(function(){var O=new S(null,2,5,T,[Lv,gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return c=E(b),b=H(c),c=J(c),f=b,b=c,v.ba(eO,a,b);if(q(function(){var O=new S(null,2,5,T,[Ax,gg],null),U=e;return d.j?
d.j(O,U):d.call(null,O,U)}())){f=E(b);b=H(f);h=J(f);f=b;b=h;f=aO(a);h=Mk(SN(b));if(Bf(JH.j(f,h)))throw vm(["Insufficient bindings: none of ",xl.da(M([h]))," is bound in ",xl.da(M([c]))].join(""),new p(null,2,[Hp,Mr,lt,c],null));u=null;a=Q.ba(a,$v,new S(null,1,5,T,[v.j(AN,$v.aa(a))],null));b=v.ba(eO,a,b);b=BN(H($v.aa(a)),v.j(AN,$v.aa(b)));return Q.ba(a,$v,new S(null,1,5,T,[b],null))}if(q(function(){var O=new S(null,3,5,T,[Wq,new S(null,1,5,T,[gg],null),gg],null),U=e;return d.j?d.j(O,U):d.call(null,
O,U)}()))return b=E(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=aO(a),u=bO(f,k,c),a=Q.ba(a,$v,new S(null,1,5,T,[v.j(AN,$v.aa(a))],null)),m=$N(a,k),b=$N(v.ba(eO,m,b),k),b=BN(H($v.aa(a)),v.j(AN,$v.aa(b))),Q.ba(a,$v,new S(null,1,5,T,[b],null));if(q(function(){var O=new S(null,1,5,T,[gg],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){c=wN;b=YN(c,b);f=EN(c,b);h=vN;vN=(null!=c?l===c.Hg||(c.Md?0:Ac(oJ,c)):Ac(oJ,c))?ZN(c,b):vN;try{return Ai.ja(a,$v,FN,f)}finally{vN=h}}else throw Error(["No matching clause: ",
t.aa(e)].join(""));}}break}};VN.na=3;var eO=function eO(a,b){if(NN(a,b))if(dN(H(b))){var d=wN;wN=B.j(Tw.aa(a),H(b));try{var e=J(b);return eO.j?eO.j(a,e):eO.call(null,a,e)}finally{wN=d}}else return Ai.ja(a,$v,FN,UN(a,b));else return VN.j(a,b)};function fO(a,b){var c=wN;wN=B.j(Tw.aa(a),jg);try{return v.ba(eO,a,b)}finally{wN=c}}
function XN(a){switch(arguments.length){case 2:return WN(arguments[0],arguments[1]);case 3:return gO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function WN(a,b){a=$v.aa(a);return gO(new S(null,1,5,T,[Array(K(b))],null),a,b)}
function gO(a,b,c){for(;;){var d=H(b);if(null==d)return a;var e=d,f=Gk(Kt.aa(e),c);if(Bf(f)){var h=a,k=J(b),m=c;a=h;b=k;c=m}else{var n=Wf(ci.j(function(u,w,A,G){return function(I){return B.j(G,I)}}(a,b,c,f,e,d),c)),r=K(c);h=function(){return function(u,w,A,G,I,F,N,O){return function va(ea){return new ch(null,function(wa,xa,Ra,ka,oa,Ca,ua,Ba){return function(){for(var Ua=ea;;){var ac=E(Ua);if(ac){var yb=ac,ec=H(yb);if(ac=E(function(Xb,Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd){return function oo(Jq){return new ch(null,
function(Kq,nj,po,Ey,Lq,qo,Fy,Mq,Nq){return function(){for(;;){var oj=E(Jq);if(oj){if(If(oj)){var Oq=ae(oj),Pq=K(Oq),ro=gh(Pq);return function(){for(var Zl=0;;)if(Zl<Pq){for(var pj=x(Oq,Zl),Bk=ro,Rt=Hc(Lq),$l=0;;)if($l<Nq){var Yg=Mq[$l];null!=Yg&&(Rt[$l]=pj[Yg]);$l+=1}else break;Bk.add(Rt);Zl+=1}else return!0}()?ih(kh(ro),oo(be(oj))):ih(kh(ro),null)}var Qt=H(oj);return hf(function(){for(var Zl=Hc(Lq),pj=0;;)if(pj<Nq){var Bk=Mq[pj];null!=Bk&&(Zl[pj]=Qt[Bk]);pj+=1}else break;return Zl}(),oo(Fe(oj)))}return null}}}(Xb,
Qd,Zf,zf,Og,Zc,Ad,te,$f,Bd,ue,Cd),null,null)}}(Ua,wa,xa,Ra,ec,yb,ac,ka,oa,Ca,ua,Ba)(fu.aa(ua))))return W.j(ac,va(Fe(Ua)));Ua=Fe(Ua)}else return null}}}(u,w,A,G,I,F,N,O),null,null)}}(a,b,c,n,r,f,e,d)(a)}();k=J(b);m=c;a=h;b=k;c=m}}}function hO(a,b){return Mk(ci.j(sg,WN(a,b)))}
function iO(a,b){if(null!=a&&null!=a.Ke)a=a.Ke(a,b);else{var c=iO[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=iO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IContextResolve.-context-resolve",a);}return a}KL.prototype.Ke=function(a,b){return HN(b,this.symbol)};ML.prototype.Ke=function(a,b){return wi(b,new S(null,2,5,T,[Tw,this.symbol],null))};QL.prototype.Ke=function(){var a=B.j(pN,this.symbol);return q(a)?a:null};PL.prototype.Ke=function(){return this.value};
function jO(a,b,c){return ti.ja(function(d,e,f){if(rM(d)){e=iO(Qz.aa(d),b);d=ci.j(function(k){return iO(k,b)},Ok(Rz.aa(d)));var h=ci.j(function(k){return bf(k,f)},c);return yh(e,W.j(d,new S(null,1,5,T,[h],null)))}return e},a,H(c),Yk.ia())}function kO(a){var b=Mh(rM);return ri(vc,ci.ba(function(c,d){return q(b.aa?b.aa(c):b.call(null,c))?d:null},a,Yk.ia()))}
function lO(a,b,c){var d=kO(a);return function h(f){return new ch(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u);P(w,0,null);w=P(w,1,null);w=jO(a,b,w);r.add(w);u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}r=H(k);P(r,0,null);r=P(r,1,null);return hf(jO(a,b,r),h(Fe(k)))}return null}},null,null)}(bm(function(f){return ci.j(function(h){return bf(f,h)},d)},c))}
function mO(a,b){return v.ba(function(c,d){return pf.j(c,a.aa?a.aa(d):a.call(null,d))},sf(b),b)}function nO(a,b){var c=Lx.aa(a),d=Yk.j(0,K(c));return mO(function(e){return v.ba(function(f,h){return Q.ba(f,bf(c,h),bf(e,h))},X,d)},b)}function oO(a,b,c){if(null!=a&&null!=a.Le)a=a.Le(a,b,c);else{var d=oO[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=oO._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IPostProcess.-post-process",a);}return a}
nM.prototype.Le=function(a,b,c){return null==b?c:nO(b,c)};oM.prototype.Le=function(a,b,c){return si.ba(qf,ci.aa(H),c)};pM.prototype.Le=function(a,b,c){return nf(c)};qM.prototype.Le=function(a,b,c){return null!=b?H(nO(b,new S(null,1,5,T,[H(c)],null))):H(c)};
function pO(a,b,c){var d=function(){return function h(f){return new ch(null,function(){for(;;){var k=E(f);if(k){if(If(k)){var m=ae(k),n=K(m),r=gh(n);a:for(var u=0;;)if(u<n){var w=x(m,u);w=sM(w)?new S(null,2,5,T,[iO(un.aa(w),b),LK(iO(Wz.aa(w),b))],null):null;r.add(w);u+=1}else{m=!0;break a}return m?ih(kh(r),h(be(k))):ih(kh(r),null)}r=H(k);return hf(sM(r)?new S(null,2,5,T,[iO(un.aa(r),b),LK(iO(Wz.aa(r),b))],null):null,h(Fe(k)))}return null}},null,null)}(a)}();return function h(f){return new ch(null,
function(){for(;;){var k=E(f);if(k){var m=k;if(If(m)){var n=ae(m),r=K(n),u=gh(r);return function(){for(var A=0;;)if(A<r){var G=x(n,A);jh(u,ti.ba(function(){return function(I,F){if(q(I)){var N=P(I,0,null);I=P(I,1,null);return gL(N,I,new S(null,1,5,T,[F],null))}return F}}(A,G,n,r,u,m,k,d),d,G));A+=1}else return!0}()?ih(kh(u),h(be(m))):ih(kh(u),null)}var w=H(m);return hf(ti.ba(function(){return function(A,G){if(q(A)){var I=P(A,0,null);A=P(A,1,null);return gL(I,A,new S(null,1,5,T,[G],null))}return G}}(w,
m,k,d),d,w),h(Fe(m)))}return null}},null,null)}(c)}var qO=Zh(jL(X,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;a:for(b=E(b),d=yk;;)if(b)c=J(J(b)),d=Q.ba(d,H(b),mf(b)),b=c;else break a;return d}(),X,0,100));function rO(a){var b=B.ba(y(qO),a,null);return null==b?(b=YM(a),qO.Xc(null,Q.ba(qO.Ib(null),a,b)),b):b}
function pg(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return sO(arguments[0],b)}function sO(a,b){var c=rO(a),d=Sq.aa(c),e=mM(d),f=oi(jM,M([mM(d)])),h=K(e),k=Uz.aa(c);f=W.j(f,ci.j(Lw,k));a=Ef(a)?VM(a):a;k=kg.aa(a);b=uN(new ZM(qf,X,X,null,null,null),by.aa(c),b);f=hO(fO(b,k),f);f=q(OA.aa(a))?ti.j(function(m){return sg(dj(m,0,h))},f):f;f=q(Kh(rM,e))?lO(e,b,f):f;e=q(Kh(sM,e))?pO(e,b,f):f;return oO(d,sw.aa(c),e)};function tO(a,b){var c=Uh(null);Wh.j(a,function(d){var e=hK;d=new p(null,5,[xo,d,zu,d,$r,qf,GB,X,Xo,null],null);var f=R.da(d,xo,M([zu,$r,GB,Xo]));f=Gf(d)?si.j(X,f):f;d=new MJ(xo.aa(d),zu.aa(d),$r.aa(d),GB.aa(d),Xo.aa(d),null,Eh(f),null);e=e(d,b);Vh(c,e);return zu.aa(e)});return y(c)}
function uO(a){var b=og;a=tO(b,a);b=gu.aa(yf(b));b=null==b?null:y(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);P(f,0,null);f=P(f,1,null);f.aa?f.aa(a):f.call(null,a);e+=1}else if(b=E(b))If(b)?(d=ae(b),b=be(b),c=d,d=K(d)):(c=H(b),P(c,0,null),c=P(c,1,null),c.aa?c.aa(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}function vO(a){var b=og,c=Yl.ia();Wh.ja(gu.aa(yf(b)),Q,c,a)}
for(var wO=E(new p(null,2,[ht,function(a){return yh(GI,a)},zv,function(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,Zr);b=B.j(b,ar);return GJ(ci.j(function(c){var d=P(c,0,null),e=P(c,1,null),f=P(c,2,null);c=P(c,3,null);return GI.ja(d,e,f,c)},b),a)}],null)),xO=null,yO=0,zO=0;;)if(zO<yO){var AO=xO.La(null,zO),BO=P(AO,0,null),CO=P(AO,1,null),pR=BO,pU=CO;B.j(y(GH),pR);Wh.ja(GH,Q,pR,pU);zO+=1}else{var FO=E(wO);if(FO){var GO=FO;if(If(GO)){var HO=ae(GO),IO=be(GO),JO=HO,KO=K(HO);wO=IO;xO=JO;yO=
KO}else{var LO=H(GO),MO=P(LO,0,null),NO=P(LO,1,null),qU=MO,rU=NO;B.j(y(GH),qU);Wh.ja(GH,Q,qU,rU);wO=J(GO);xO=null;yO=0}zO=0}else break};var og,sU=new p(null,3,[lg,new p(null,1,[Sm,Qy],null),ng,new p(null,2,[qA,jz,iu,Vx],null),fg,new p(null,2,[qA,jz,iu,LA],null)],null),tU=wJ?wJ(sU):xJ.call(null,sU),uU=M([rc,new p(null,1,[gu,Uh(X)],null)]),vU=null!=uU&&(uU.ga&64||l===uU.Ja)?yh(zk,uU):uU,wU=B.j(vU,rc),xU=B.j(vU,rt);og=new Th(tU,wU,xU);function WO(a){return uO(new S(null,1,5,T,[new S(null,2,5,T,[bq,a],null)],null))};sC(lg,To,function(a){return"string"==typeof a});sC(Ss,new Jk(null,new p(null,7,[Yp,"null",Mp,"null",nq,"null",uv,"null",Vu,"null",Ko,"null",Zq,"null"],null),null),new Jk(null,new p(null,7,[Yp,null,Mp,null,nq,null,uv,null,Vu,null,Ko,null,Zq,null],null),null));
sC(cr,bg(Dv,Ww,new S(null,2,5,T,[lg,Ss],null)),function XO(a){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,gB),e=B.j(c,Gs),f=B.j(c,ap),h=B.j(c,Wu),k=B.j(c,aw),m=B.j(c,tv),n=B.j(c,cA),r=B.j(c,ex),u=B.j(c,Ww),w=B.j(c,IA),A=B.j(c,Wv),G=B.j(c,Gu),I=Pk(W.j(w,n),W.j(r,A)),F=tm();if("undefined"===typeof fc||"undefined"===typeof LB||"undefined"===typeof WB||"undefined"===typeof XB)XB=function(N,O,U,ea,va,wa,xa,Ra,ka,oa,Ca,ua,Ba,Ua,ac,yb,ec,Xb,Qd){this.nf=N;this.ri=O;this.Ei=U;this.ui=ea;this.Uh=
va;this.vi=wa;this.Xd=xa;this.xi=Ra;this.pf=ka;this.og=oa;this.si=Ca;this.Di=ua;this.req=Ba;this.id=Ua;this.Ci=ac;this.ti=yb;this.Qh=ec;this.yi=Xb;this.Zh=Qd;this.ga=393216;this.la=0},XB.prototype.sa=function(N,O){return new XB(this.nf,this.ri,this.Ei,this.ui,this.Uh,this.vi,this.Xd,this.xi,this.pf,this.og,this.si,this.Di,this.req,this.id,this.Ci,this.ti,this.Qh,this.yi,O)},XB.prototype.ra=function(){return this.Zh},XB.prototype.Nd=function(){return this},XB.prototype.Od=function(){return this},XB.prototype.ff=
l,XB.prototype.Ee=function(N,O){if(q(this.pf.aa?this.pf.aa(O):this.pf.call(null,O))){N=y(cC);var U=E(O),ea=H(U);J(U);P(ea,0,null);P(ea,1,null);for(ea=U=O;;){O=U;var va=ea;ea=E(va);U=H(ea);var wa=J(ea);ea=U;U=P(ea,0,null);ea=P(ea,1,null);if(q(va))if(va=this.nf.aa?this.nf.aa(U):this.nf.call(null,U),va=B.j(N,va),q(va)){var xa=ea;va=aC(qC.aa(va),xa);if(V(At,va))return At;O=va===ea?O:Q.ba(O,U,va);ea=wa;U=O}else ea=wa,U=O;else return O}}else return At},XB.prototype.Fe=function(N,O){N=Q.ba(this.og,Wu,O);
return XO.aa?XO.aa(N):XO.call(null,N)},XB.$b=!0,XB.Kb="cljs.spec.alpha/t_cljs$spec$alpha21716",XB.kc=function(N){return Jd(N,"cljs.spec.alpha/t_cljs$spec$alpha21716")};return new XB(function(N){var O=I.aa?I.aa(N):I.call(null,N);return q(O)?O:N},d,e,f,c,a,h,k,m,c,n,r,u,F,w,A,I,G,X)}(gk([Gs,ap,Wu,aw,tv,cA,ex,Ww,IA,Wv,Gu,gB],[null,null,null,new S(null,3,5,T,[function(a){return Ff(a)},function(a){return Pf(a,lg)},function(a){return Pf(a,Ss)}],null),function(a){return Ff(a)&&Pf(a,lg)&&Pf(a,Ss)},qf,new S(null,
2,5,T,[lg,Ss],null),new S(null,2,5,T,[lg,Ss],null),new S(null,2,5,T,[lg,Ss],null),qf,new S(null,3,5,T,[bg(An,new S(null,1,5,T,[kt],null),bg(Pr,kt)),bg(An,new S(null,1,5,T,[kt],null),bg(Nw,kt,lg)),bg(An,new S(null,1,5,T,[kt],null),bg(Nw,kt,Ss))],null),null])));sC(rv,bg(ir,cr),xC(cr,cr,new p(null,4,[Qn,null,ds,function(a){return Cf(a)},BB,!0,Zy,bg(ir,cr)],null),null));var YO={},ZO,$O,aP,bP={};function cP(a,b){if(null!=a&&null!=a.Lf)a=a.Lf(a,b);else{var c=cP[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=cP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ReadPort.take!",a);}return a}function dP(a,b,c){if(null!=a&&null!=a.ef)a=a.ef(a,b,c);else{var d=dP[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=dP._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("WritePort.put!",a);}return a}
function eP(a){if(null!=a&&null!=a.Ce)a=a.Ce(a);else{var b=eP[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=eP._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Channel.close!",a);}return a}function fP(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=fP[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=fP._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Handler.active?",a);}return a}
function gP(a){if(null!=a&&null!=a.jc)a=a.jc(a);else{var b=gP[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=gP._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Handler.commit",a);}return a}function hP(a,b){if(null!=a&&null!=a.Kf)a=a.Kf(a,b);else{var c=hP[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Buffer.add!*",a);}return a}
var iP=function iP(a){switch(arguments.length){case 1:return iP.aa(arguments[0]);case 2:return iP.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};iP.aa=function(a){return a};iP.j=function(a,b){return hP(a,b)};iP.na=2;function jP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function kP(a){this.length=this.tail=this.head=0;this.ha=a}g=kP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.ha[this.tail];this.ha[this.tail]=null;this.tail=(this.tail+1)%this.ha.length;--this.length;return a};g.unshift=function(a){this.ha[this.head]=a;this.head=(this.head+1)%this.ha.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.ha.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.ha.length);return this.tail<this.head?(jP(this.ha,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.ha=a):this.tail>this.head?(jP(this.ha,this.tail,a,0,this.ha.length-this.tail),jP(this.ha,0,a,this.ha.length-this.tail,this.head),this.tail=0,this.head=this.length,this.ha=a):this.tail===this.head?(this.head=this.tail=0,this.ha=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.aa?a.aa(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function lP(a){return new kP(Array(a))}function mP(a,b){this.buf=a;this.n=b;this.ga=2;this.la=0}mP.prototype.df=function(){return this.buf.length>=this.n};mP.prototype.Kf=function(a,b){this.buf.unbounded_unshift(b);return this};mP.prototype.va=function(){return this.buf.length};function nP(a,b){this.buf=a;this.n=b;this.ga=2;this.la=0}nP.prototype.df=function(){return!1};
nP.prototype.Kf=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};nP.prototype.va=function(){return this.buf.length};function oP(a){return new nP(lP(a),a)};function pP(){return Fb("iPhone")&&!Fb("iPod")&&!Fb("iPad")};var qP=Fb("Opera"),rP=Fb("Trident")||Fb("MSIE"),sP=Fb("Edge"),tP=Fb("Gecko")&&!(xb("WebKit")&&!Fb("Edge"))&&!(Fb("Trident")||Fb("MSIE"))&&!Fb("Edge"),uP=xb("WebKit")&&!Fb("Edge");uP&&Fb("Mobile");Fb("Macintosh");Fb("Windows");Fb("Linux")||Fb("CrOS");var yU=ma.navigator||null;yU&&(yU.appVersion||"").indexOf("X11");Fb("Android");pP();Fb("iPad");Fb("iPod");pP()||Fb("iPad")||Fb("iPod");xb("KaiOS");xb("GAFP");function wP(){var a=ma.document;return a?a.documentMode:void 0}var xP;
a:{var zU="",AU=function(){var a=zb;if(tP)return/rv:([^\);]+)(\)|;)/.exec(a);if(sP)return/Edge\/([\d\.]+)/.exec(a);if(rP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(uP)return/WebKit\/(\S+)/.exec(a);if(qP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();AU&&(zU=AU?AU[1]:"");if(rP){var BU=wP();if(null!=BU&&BU>parseFloat(zU)){xP=String(BU);break a}}xP=zU}var La={};
function BP(a){return Ka(a,function(){{var b=0;const e=wb(String(xP)).split("."),f=wb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Ab(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Ab(0==c[2].length,0==d[2].length)||Ab(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var CU;
CU=ma.document&&rP?wP():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!tP&&!rP||rP&&9<=Number(CU)||tP&&BP("1.9.1");rP&&BP("9");function DP(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var EP;
function FP(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Fb("Presto")&&(a=function(){var e=DP(eb);e.style.display="none";Kb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Ib());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Fb("Trident")&&!Fb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.te;c.te=null;e()}};return function(e){d.next={te:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in DP(fb)?function(e){var f=DP(fb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var GP=lP(32),HP=!1,IP=!1;function JP(){HP=!0;IP=!1;for(var a=0;;){var b=GP.pop();if(null!=b&&(b.ia?b.ia():b.call(null),1024>a)){a+=1;continue}break}HP=!1;return 0<GP.length?KP.ia?KP.ia():KP.call(null):null}function KP(){if(IP&&HP)return null;IP=!0;!sa(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Fb("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(EP||(EP=FP()),EP(JP)):ma.setImmediate(JP)}function LP(a){GP.unbounded_unshift(a);KP()}function MP(a,b){setTimeout(a,b)};var NP={},OP;
function PP(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof bP||"undefined"===typeof NP||"undefined"===typeof OP)OP=function(b,c){this.val=b;this.ii=c;this.ga=425984;this.la=0},OP.prototype.sa=function(b,c){return new OP(this.val,c)},OP.prototype.ra=function(){return this.ii},OP.prototype.Ib=function(){return this.val},OP.$b=!0,OP.Kb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels28027",OP.kc=function(b){return Jd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels28027")};
return new OP(a,X)}function QP(a,b){this.handler=a;this.val=b}function RP(a){return fP(a.handler)}function SP(a,b,c,d){this.me=a;this.kf=0;this.Cd=b;this.jf=0;this.buf=c;this.closed=!1;this.Hc=d}function TP(a){for(;;){var b=a.Cd.pop();if(null!=b){var c=b.handler,d=b.val;if(c.sc(null)){var e=c.jc(null);LP(function(f){return function(){return f.aa?f.aa(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.Cd.cleanup(Nh(!1));a.Ce(null)}
SP.prototype.ef=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.sc(null))return PP(!f);if(q(function(){var u=d.buf;return q(u)?yc(d.buf.df()):u}())){c.jc(null);var h=Re(d.Hc.j?d.Hc.j(d.buf,b):d.Hc.call(null,d.buf,b));c=function(){for(var u=qf;;)if(0<d.me.length&&0<K(d.buf)){var w=d.me.pop();if(w.sc(null)){var A=w.jc(null),G=d.buf.buf.pop();u=pf.j(u,function(I,F,N){return function(){return F.aa?F.aa(N):F.call(null,N)}}(u,A,G,w,h,f,e))}}else return u}();h&&TP(e);if(E(c)){c=E(c);a=null;for(var k=
0,m=0;;)if(m<k){var n=a.La(null,m);LP(n);m+=1}else if(c=E(c))a=c,If(a)?(c=ae(a),m=be(a),a=c,k=K(c),c=m):(c=H(a),LP(c),c=J(a),a=null,k=0),m=0;else break}return PP(!0)}a=function(){for(;;){var u=d.me.pop();if(q(u)){if(q(u.sc(null)))return u}else return null}}();if(q(a)){var r=a.jc(null);c.jc(null);LP(function(){return r.aa?r.aa(b):r.call(null,b)});return PP(!0)}64<d.jf?(d.jf=0,d.Cd.cleanup(RP)):d.jf+=1;q(c.De())&&d.Cd.unbounded_unshift(new QP(c,b));return null};
SP.prototype.Lf=function(a,b){var c=this;if(b.sc(null)){if(null!=c.buf&&0<K(c.buf)){a=b.jc(null);if(q(a)){var d=c.buf.buf.pop(),e=yc(c.buf.df())&&0<c.Cd.length?function(){for(var I=qf;;){var F=c.Cd.pop(),N=F.handler;F=F.val;N=N.sc(null)?N.jc(null):!1;I=q(N)?pf.j(I,N):I;F=q(N)?Re(c.Hc.j?c.Hc.j(c.buf,F):c.Hc.call(null,c.buf,F)):null;if(!(yc(F)&&yc(c.buf.df())&&0<c.Cd.length))return new S(null,2,5,T,[F,I],null)}}():null,f=P(e,0,null),h=P(e,1,null);q(f)&&TP(this);for(var k=E(h),m=null,n=0,r=0;;)if(r<
n){var u=m.La(null,r);LP(function(I,F,N,O,U){return function(){return U.aa?U.aa(!0):U.call(null,!0)}}(k,m,n,r,u,d,e,f,h,a,a,this));r+=1}else{var w=E(k);if(w){u=w;if(If(u))k=ae(u),r=be(u),m=k,n=K(k),k=r;else{var A=H(u);LP(function(I,F,N,O,U){return function(){return U.aa?U.aa(!0):U.call(null,!0)}}(k,m,n,r,A,u,w,d,e,f,h,a,a,this));k=J(u);m=null;n=0}r=0}else break}return PP(d)}return null}a=function(){for(;;){var I=c.Cd.pop();if(q(I)){if(fP(I.handler))return I}else return null}}();if(q(a)){var G=gP(a.handler);
b.jc(null);LP(function(){return G.aa?G.aa(!0):G.call(null,!0)});return PP(a.val)}if(q(c.closed))return q(c.buf)&&(c.Hc.aa?c.Hc.aa(c.buf):c.Hc.call(null,c.buf)),q(function(){var I=b.sc(null);return q(I)?b.jc(null):I}())?(a=function(){var I=c.buf;return q(I)?0<K(c.buf):I}(),d=q(a)?c.buf.buf.pop():null,PP(d)):null;64<c.kf?(c.kf=0,c.me.cleanup(fP)):c.kf+=1;q(b.De())&&c.me.unbounded_unshift(b)}return null};
SP.prototype.Ce=function(){var a=this;if(!a.closed)for(a.closed=!0,q(function(){var e=a.buf;return q(e)?0===a.Cd.length:e}())&&(a.Hc.aa?a.Hc.aa(a.buf):a.Hc.call(null,a.buf));;){var b=a.me.pop();if(null!=b){if(b.sc(null)){var c=b.jc(null),d=q(function(){var e=a.buf;return q(e)?0<K(a.buf):e}())?a.buf.buf.pop():null;LP(function(e,f){return function(){return e.aa?e.aa(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function UP(a){console.log(a);return null}
function VP(a,b){var c=q(null)?null:UP;b=c.aa?c.aa(b):c.call(null,b);return null==b?a:iP.j(a,b)}
function WP(a,b){return new SP(lP(32),lP(32),a,function(){var c=q(b)?b.aa?b.aa(iP):b.call(null,iP):iP;return function(){function d(h,k){try{return c.j?c.j(h,k):c.call(null,h,k)}catch(m){return VP(h,m)}}function e(h){try{return c.aa?c.aa(h):c.call(null,h)}catch(k){return VP(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.aa=e;f.j=d;return f}()}())};function XP(a,b,c){this.key=a;this.val=b;this.forward=c;this.ga=2155872256;this.la=0}XP.prototype.ua=function(){return new rf(null,this.key,new rf(null,this.val,null,1,null),2,null)};XP.prototype.ta=function(a,b,c){return Z(b,ql,"["," ","]",c,this)};function YP(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new XP(a,b,c)}
function ZP(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(q(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function $P(){this.header=YP(null,null,0);this.level=0;this.ga=2155872256;this.la=0}g=$P.prototype;
g.put=function(a,b){var c=Array(15),d=ZP(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=YP(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=ZP(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.j(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};
g.ua=function(){return function c(b){return new ch(null,function(){return null==b?null:hf(new S(null,2,5,T,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"{",", ","}",c,this)};var aQ=new $P;function bQ(a){var b=(new Date).valueOf()+a,c=aQ.ceilingEntry(b);c=q(q(c)?c.key<b+10:c)?c.val:null;if(q(c))return c;var d=WP(null,null);aQ.put(b,d);MP(function(){aQ.remove(b);return eP(d)},a);return d};var cQ={},dQ;
function eQ(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof bP||"undefined"===typeof cQ||"undefined"===typeof dQ)dQ=function(b,c){this.f=b;this.ji=c;this.ga=393216;this.la=0},dQ.prototype.sa=function(b,c){return new dQ(this.f,c)},dQ.prototype.ra=function(){return this.ji},dQ.prototype.sc=function(){return!0},dQ.prototype.De=function(){return!0},dQ.prototype.jc=function(){return this.f},dQ.$b=!0,dQ.Kb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29904",dQ.kc=
function(b){return Jd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29904")};return new dQ(a,X)}function fQ(a){try{var b=a[0];return b.aa?b.aa(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].Ce(null),b;throw c;}}function gQ(a,b,c){c=c.Lf(null,eQ(function(d){a[2]=d;a[1]=b;return fQ(a)}));return q(c)?(a[2]=y(c),a[1]=b,On):null}function hQ(a,b,c){b=b.ef(null,c,eQ(function(d){a[2]=d;a[1]=11;return fQ(a)}));return q(b)?(a[2]=y(b),a[1]=11,On):null}
function iQ(a,b){a=a[6];null!=b&&a.ef(null,b,eQ(function(){return null}));a.Ce(null);return a};function jQ(a,b){return kQ(a,b)}function kQ(a,b){a=D.j(a,0)?null:a;return WP("number"===typeof a?new mP(lP(a),a):a,b)}
var lQ=function(a){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof ZO)ZO=function(b,c,d){this.f=b;this.sg=c;this.ki=d;this.ga=393216;this.la=0},ZO.prototype.sa=function(b,c){return new ZO(this.f,this.sg,c)},ZO.prototype.ra=function(){return this.ki},ZO.prototype.sc=function(){return!0},ZO.prototype.De=function(){return this.sg},ZO.prototype.jc=function(){return this.f},ZO.$b=!0,ZO.Kb="cljs.core.async/t_cljs$core$async30309",ZO.kc=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async30309")};return new ZO(a,!0,X)}(function(){return null});function mQ(a,b){a=dP(a,b,lQ);return q(a)?y(a):!0}function nQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;cb(b);return b}
function oQ(){var a=Uh(!0);if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof $O)$O=function(b,c){this.Wd=b;this.li=c;this.ga=393216;this.la=0},$O.prototype.sa=function(b,c){return new $O(this.Wd,c)},$O.prototype.ra=function(){return this.li},$O.prototype.sc=function(){return y(this.Wd)},$O.prototype.De=function(){return!0},$O.prototype.jc=function(){Vh(this.Wd,null);return!0},$O.$b=!0,$O.Kb="cljs.core.async/t_cljs$core$async30343",$O.kc=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async30343")};return new $O(a,X)}
function pQ(a,b){if("undefined"===typeof fc||"undefined"===typeof gc||"undefined"===typeof YO||"undefined"===typeof aP)aP=function(c,d,e){this.Wd=c;this.te=d;this.mi=e;this.ga=393216;this.la=0},aP.prototype.sa=function(c,d){return new aP(this.Wd,this.te,d)},aP.prototype.ra=function(){return this.mi},aP.prototype.sc=function(){return fP(this.Wd)},aP.prototype.De=function(){return!0},aP.prototype.jc=function(){gP(this.Wd);return this.te},aP.$b=!0,aP.Kb="cljs.core.async/t_cljs$core$async30353",aP.kc=
function(c){return Jd(c,"cljs.core.async/t_cljs$core$async30353")};return new aP(a,b,X)}
function qQ(a,b,c){var d=oQ(),e=K(b),f=nQ(e),h=Zz.aa(c),k=function(){for(var m=0;;)if(m<e){var n=q(h)?m:f[m],r=bf(b,n),u=Hf(r)?r.aa?r.aa(0):r.call(null,0):null,w=q(u)?function(){var A=r.aa?r.aa(1):r.call(null,1);return dP(u,A,pQ(d,function(G,I,F,N,O){return function(U){U=new S(null,2,5,T,[U,O],null);return a.aa?a.aa(U):a.call(null,U)}}(m,A,n,r,u,d,e,f,h)))}():cP(r,pQ(d,function(A,G,I){return function(F){F=new S(null,2,5,T,[F,I],null);return a.aa?a.aa(F):a.call(null,F)}}(m,n,r,u,d,e,f,h)));if(q(w))return PP(new S(null,
2,5,T,[y(w),function(){var A=u;return q(A)?A:r}()],null));m+=1}else return null}();return q(k)?k:Pf(c,qm)?(k=function(){var m=d.sc(null);return q(m)?d.jc(null):m}(),q(k)?PP(new S(null,2,5,T,[qm.aa(c),qm],null)):null):null}
function rQ(a,b){var c=kQ(1,null);LP(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,On):1===k?(h[2]=null,h[1]=2,On):4===k?(k=h[2],h[7]=k,h[1]=q(null==k)?5:6,On):13===k?(h[2]=null,h[1]=14,On):6===k?(k=h[7],hQ(h,b,k)):3===k?iQ(h,h[2]):12===k?(h[2]=null,h[1]=2,On):2===k?gQ(h,4,a):11===k?(h[1]=q(h[2])?12:13,On):9===k?(h[2]=null,h[1]=10,On):5===k?(h[1]=q(!0)?8:9,On):14===k||10===k?(h[2]=h[2],h[1]=7,On):8===k?(k=eP(b),h[2]=k,h[1]=10,On):null}return function(){function h(n){for(;;){a:try{for(;;){var r=
f(n);if(!V(r,On)){var u=r;break a}}}catch(w){u=w;n[2]=u;if(E(n[4]))n[1]=H(n[4]);else throw u;u=On}if(!V(u,On))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.ia=k;m.aa=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return fQ(e)})}
function sQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new De(b.slice(3),0,null):null;return tQ(arguments[0],arguments[1],arguments[2],b)}function tQ(a,b,c,d){d=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d;a[1]=b;b=qQ(function(e){a[2]=e;return fQ(a)},c,d);return q(b)?(a[2]=y(b),On):null}
function uQ(a,b){var c=kQ(b,null),d=kQ(1,null);LP(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[8];m=k[2];var n=P(m,0,null),r=P(m,1,null);k[9]=r;k[7]=m;k[8]=n;k[1]=q(null==n)?8:9;return On}return 1===m?(m=sg(a),k[10]=m,k[2]=null,k[1]=2,On):4===m?(m=k[10],sQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,On):3===m?iQ(k,k[2]):2===m?(m=k[10],m=0<K(m),k[1]=q(m)?4:5,On):11===m?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,On):9===m?(m=k[8],hQ(k,c,m)):5===m?(m=eP(c),k[2]=m,k[1]=6,On):10===m?(k[2]=
k[2],k[1]=6,On):8===m?(r=k[9],m=k[8],m=k[10],m=ui(function(){var u=r;return function(w){return Dh.j(u,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,On):null}return function(){function k(r){for(;;){a:try{for(;;){var u=h(r);if(!V(u,On)){var w=u;break a}}}catch(A){w=A;r[2]=w;if(E(r[4]))r[1]=H(r[4]);else throw w;w=On}if(!V(w,On))return w}}function m(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];r[0]=n;r[1]=1;return r}var n=null;n=function(r){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};n.ia=m;n.aa=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return fQ(f)});return c};function vQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,r,u){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return vQ.wd[n].apply(null,arguments)})}vQ.wd={};
vQ.wd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Mb(" ",Number(c)-a.length):Mb(" ",Number(c)-a.length)+a};
vQ.wd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Mb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Mb(b,a)+d);return d};vQ.wd.d=function(a,b,c,d,e,f,h,k){return vQ.wd.f(parseInt(a,10),b,c,d,0,f,h,k)};
vQ.wd.i=vQ.wd.d;vQ.wd.u=vQ.wd.d;var wQ=!rP||9<=Number(CU),xQ=rP&&!BP("9");!uP||BP("528");tP&&BP("1.9b")||rP&&BP("8")||qP&&BP("9.5")||uP&&BP("528");tP&&!BP("8")||rP&&BP("9");var yQ=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",na,b),ma.removeEventListener("test",na,b)}catch(c){}return a}();function zQ(){0!=AQ&&(BQ[ya(this)]=this);this.fe=this.fe;this.ke=this.ke}var AQ=0,BQ={};zQ.prototype.fe=!1;zQ.prototype.dispose=function(){if(!this.fe&&(this.fe=!0,this.disposeInternal(),0!=AQ)){var a=ya(this);if(0!=AQ&&this.ke&&0<this.ke.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete BQ[a]}};zQ.prototype.disposeInternal=function(){if(this.ke)for(;this.ke.length;)this.ke.shift()()};function CQ(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ae=!1;this.ah=!0}CQ.prototype.stopPropagation=function(){this.ae=!0};CQ.prototype.preventDefault=function(){this.defaultPrevented=!0;this.ah=!1};function DQ(a,b){CQ.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Ne=null;a&&this.init(a,b)}Ia(DQ,CQ);var EQ={2:"touch",3:"pen",4:"mouse"};
DQ.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(tP){a:{try{Ja(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=uP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=uP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:EQ[a.pointerType]||"";this.state=a.state;this.Ne=a;a.defaultPrevented&&this.preventDefault()};DQ.prototype.stopPropagation=function(){DQ.Ed.stopPropagation.call(this);this.Ne.stopPropagation?this.Ne.stopPropagation():this.Ne.cancelBubble=!0};
DQ.prototype.preventDefault=function(){DQ.Ed.preventDefault.call(this);var a=this.Ne;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,xQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var FQ="closure_listenable_"+(1E6*Math.random()|0),GQ=0;function HQ(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++GQ;this.removed=this.$e=!1}function IQ(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function JQ(a){this.src=a;this.listeners={};this.Xe=0}g=JQ.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Xe++);var h=KQ(a,b,d,e);-1<h?(b=a[h],c||(b.$e=!1)):(b=new HQ(b,this.src,f,!!d,e),b.$e=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=KQ(e,b,c,d);return-1<b?(IQ(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Xe--),!0):!1};
function LQ(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Xa(a.listeners[c],b);d&&(IQ(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Xe--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,IQ(d[e]);delete this.listeners[c];this.Xe--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.Qf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=KQ(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Ha(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function KQ(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var MQ="closure_lm_"+(1E6*Math.random()|0),NQ={},OQ=0;function PQ(a,b,c,d,e){if(d&&d.once)return QQ(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)PQ(a,b[f],c,d,e);return null}c=RQ(c);return a&&a[FQ]?a.listen(b,c,ta(d)?!!d.capture:!!d,e):SQ(a,b,c,!1,d,e)}
function SQ(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ta(e)?!!e.capture:!!e,k=TQ(a);k||(a[MQ]=k=new JQ(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=UQ();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)yQ||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(VQ(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");OQ++;return c}
function UQ(){var a=WQ,b=wQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function QQ(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)QQ(a,b[f],c,d,e);return null}c=RQ(c);return a&&a[FQ]?a.listenOnce(b,c,ta(d)?!!d.capture:!!d,e):SQ(a,b,c,!0,d,e)}
function XQ(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)XQ(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=RQ(c),a&&a[FQ]?a.zd.remove(String(b),c,d,e):a&&(a=TQ(a))&&(b=a.Qf(b,c,d,e))&&YQ(b)}
function YQ(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[FQ])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(VQ(c),d):b.addListener&&b.removeListener&&b.removeListener(d);OQ--;(c=TQ(b))?(LQ(c,a),0==c.Xe&&(c.src=null,b[MQ]=null)):IQ(a)}}}function VQ(a){return a in NQ?NQ[a]:NQ[a]="on"+a}
function ZQ(a,b,c,d){var e=!0;if(a=TQ(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=$Q(f,d),e=e&&!1!==f)}return e}function $Q(a,b){var c=a.listener,d=a.handler||a.src;a.$e&&YQ(a);return c.call(d,b)}
function WQ(a,b){if(a.removed)return!0;if(!wQ){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new DQ(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.ae&&0<=e;e--){b.currentTarget=d[e];var f=ZQ(d[e],a,!0,b);c=c&&f}for(e=0;!b.ae&&e<d.length;e++)b.currentTarget=
d[e],f=ZQ(d[e],a,!1,b),c=c&&f}return c}return $Q(a,new DQ(b,this))}function TQ(a){a=a[MQ];return a instanceof JQ?a:null}var aR="__closure_events_fn_"+(1E9*Math.random()>>>0);function RQ(a){if(sa(a))return a;a[aR]||(a[aR]=function(b){return a.handleEvent(b)});return a[aR]};function bR(){zQ.call(this);this.zd=new JQ(this);this.nh=this;this.fg=null}Ia(bR,zQ);bR.prototype[FQ]=!0;g=bR.prototype;g.addEventListener=function(a,b,c,d){PQ(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){XQ(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.fg;if(c)for(b=[];c;c=c.fg)b.push(c);c=this.nh;var d=a.type||a;if("string"===typeof a)a=new CQ(a,c);else if(a instanceof CQ)a.target=a.target||c;else{var e=a;a=new CQ(d,c);lb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.ae&&0<=f;f--){var h=a.currentTarget=b[f];e=cR(h,d,!0,a)&&e}a.ae||(h=a.currentTarget=c,e=cR(h,d,!0,a)&&e,a.ae||(e=cR(h,d,!1,a)&&e));if(b)for(f=0;!a.ae&&f<b.length;f++)h=a.currentTarget=b[f],e=cR(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){bR.Ed.disposeInternal.call(this);this.removeAllListeners();this.fg=null};g.listen=function(a,b,c,d){return this.zd.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.zd.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return LQ(this.zd,a)};g.removeAllListeners=function(a){return this.zd?this.zd.removeAll(a):0};
function cR(a,b,c,d){b=a.zd.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.$e&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.ah}g.getListeners=function(a,b){return this.zd.getListeners(String(a),b)};g.Qf=function(a,b,c,d){return this.zd.Qf(String(a),b,c,d)};g.hasListener=function(a,b){return this.zd.hasListener(void 0!==a?String(a):void 0,b)};function dR(a,b,c){if(sa(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function eR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function fR(){}fR.prototype.tg=null;fR.prototype.getOptions=function(){var a;(a=this.tg)||(a={},hR(this)&&(a[0]=!0,a[1]=!0),a=this.tg=a);return a};var iR;function jR(){}Ia(jR,fR);function kR(a){return(a=hR(a))?new ActiveXObject(a):new XMLHttpRequest}function hR(a){if(!a.Qg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Qg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Qg}iR=new jR;function lR(a){bR.call(this);this.headers=new Tb;this.zf=a||null;this.Hd=!1;this.yf=this.Va=null;this.Uf="";this.je=0;this.Yd=this.Sf=this.mf=this.Pf=!1;this.wf=0;this.timeoutId_=null;this.$g=mR;this.kg=this.Yg=this.pe=!1}Ia(lR,bR);var mR="",nR=/^https?$/i,oR=["POST","PUT"];g=lR.prototype;g.setWithCredentials=function(a){this.pe=a};
g.send=function(a,b,c,d){if(this.Va)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Uf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Uf=a;this.je=0;this.Pf=!1;this.Hd=!0;this.Va=this.zf?kR(this.zf):kR(iR);this.yf=this.zf?this.zf.getOptions():iR.getOptions();this.Va.onreadystatechange=Fa(this.Wg,this);this.Yg&&"onprogress"in this.Va&&(this.Va.onprogress=Fa(function(f){this.Vg(f,!0)},this),this.Va.upload&&(this.Va.upload.onprogress=Fa(this.Vg,this)));try{this.Sf=!0,
this.Va.open(b,String(a),!0),this.Sf=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Rb(d,function(f,h){e.set(h,f)});d=Ta(e.getKeys());c=ma.FormData&&a instanceof ma.FormData;!(0<=Na(oR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Va.setRequestHeader(h,f)},this);this.$g&&(this.Va.responseType=this.$g);"withCredentials"in this.Va&&this.Va.withCredentials!==this.pe&&(this.Va.withCredentials=this.pe);try{qR(this),
0<this.wf&&((this.kg=rR(this.Va))?(this.Va.timeout=this.wf,this.Va.ontimeout=Fa(this.timeout_,this)):this.timeoutId_=dR(this.timeout_,this.wf,this)),this.mf=!0,this.Va.send(a),this.mf=!1}catch(f){this.error_(5,f)}};function rR(a){return rP&&BP(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Va(a){return"content-type"==a.toLowerCase()}g.timeout_=function(){"undefined"!=typeof la&&this.Va&&(this.je=8,this.dispatchEvent("timeout"),this.abort(8))};
g.error_=function(a){this.Hd=!1;this.Va&&(this.Yd=!0,this.Va.abort(),this.Yd=!1);this.je=a;sR(this);tR(this)};function sR(a){a.Pf||(a.Pf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Va&&this.Hd&&(this.Hd=!1,this.Yd=!0,this.Va.abort(),this.Yd=!1,this.je=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),tR(this))};g.disposeInternal=function(){this.Va&&(this.Hd&&(this.Hd=!1,this.Yd=!0,this.Va.abort(),this.Yd=!1),tR(this,!0));lR.Ed.disposeInternal.call(this)};
g.Wg=function(){this.fe||(this.Sf||this.mf||this.Yd?uR(this):this.vf())};g.vf=function(){uR(this)};function uR(a){if(a.Hd&&"undefined"!=typeof la&&(!a.yf[1]||4!=vR(a)||2!=wR(a)))if(a.mf&&4==vR(a))dR(a.Wg,0,a);else if(a.dispatchEvent("readystatechange"),4==vR(a)){a.Hd=!1;try{xR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.je=6,sR(a))}finally{tR(a)}}}g.Vg=function(a,b){this.dispatchEvent(yR(a,"progress"));this.dispatchEvent(yR(a,b?"downloadprogress":"uploadprogress"))};
function yR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function tR(a,b){if(a.Va){qR(a);var c=a.Va,d=a.yf[0]?na:null;a.Va=null;a.yf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function qR(a){a.Va&&a.kg&&(a.Va.ontimeout=null);a.timeoutId_&&(ma.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function xR(a){var b=wR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Uf).match(Yb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!nR.test(a?a.toLowerCase():"");c=b}return c}function vR(a){return a.Va?a.Va.readyState:0}function wR(a){try{return 2<vR(a)?a.Va.status:-1}catch(b){return-1}}
function zR(a){try{return a.Va?a.Va.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Va&&4==vR(this))return a=this.Va.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Va&&4==vR(this)?this.Va.getAllResponseHeaders()||"":""};function AR(){this.Oc=[];this.ed=[]}function BR(a){0==a.Oc.length&&(a.Oc=a.ed,a.Oc.reverse(),a.ed=[])}g=AR.prototype;g.enqueue=function(a){this.ed.push(a)};g.dequeue=function(){BR(this);return this.Oc.pop()};g.peek=function(){BR(this);var a=this.Oc;return a[a.length-1]};g.getCount=function(){return this.Oc.length+this.ed.length};g.isEmpty=function(){return 0==this.Oc.length&&0==this.ed.length};g.clear=function(){this.Oc=[];this.ed=[]};
g.contains=function(a){return 0<=Na(this.Oc,a)||0<=Na(this.ed,a)};g.remove=function(a){var b=this.Oc;var c=Oa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Xa(this.ed,a)};g.getValues=function(){for(var a=[],b=this.Oc.length-1;0<=b;--b)a.push(this.Oc[b]);var c=this.ed.length;for(b=0;b<c;++b)a.push(this.ed[b]);return a};function CR(a){this.map_=new Tb;a&&this.addAll(a)}function DR(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ya(a):b.substr(0,1)+a}g=CR.prototype;g.getCount=function(){return this.map_.getCount()};g.add=function(a){this.map_.set(DR(a),a)};g.addAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.map_.remove(DR(a))};g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};g.contains=function(a){return this.map_.containsKey(DR(a))};g.intersection=function(a){var b=new CR;a=Pb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.getValues=function(){return this.map_.getValues()};g.clone=function(){return new CR(this)};g.equals=function(a){return this.getCount()==Ob(a)&&ER(this,a)};
function ER(a,b){var c=Ob(b);if(a.getCount()>c)return!1;!(b instanceof CR)&&5<c&&(b=new CR(b));return Sb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.He&&"function"==typeof e.He)d=e.He(d);else if(ra(e)||"string"===typeof e)d=0<=Na(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function FR(a,b){zQ.call(this);this.Ug=a||0;this.qf=b||10;if(this.Ug>this.qf)throw Error(GR);this.jd=new AR;this.Pd=new CR;this.delay=0;this.Tf=null;this.Ye()}Ia(FR,zQ);var GR="[goog.structs.Pool] Min can not be greater than max";g=FR.prototype;g.lf=function(){var a=Ga();if(!(null!=this.Tf&&a-this.Tf<this.delay)){for(var b;0<this.jd.getCount()&&(b=this.jd.dequeue(),!this.eg(b));)this.Ye();!b&&this.getCount()<this.qf&&(b=this.Of());b&&(this.Tf=a,this.Pd.add(b));return b}};
function HR(a,b){return a.Pd.remove(b)?(a.Bf(b),!0):!1}g.Bf=function(a){this.Pd.remove(a);this.eg(a)&&this.getCount()<this.qf?this.jd.enqueue(a):IR(a)};g.Ye=function(){for(var a=this.jd;this.getCount()<this.Ug;)a.enqueue(this.Of());for(;this.getCount()>this.qf&&0<this.jd.getCount();)IR(a.dequeue())};g.Of=function(){return{}};function IR(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.eg=function(a){return"function"==typeof a.ph?a.ph():!0};
g.contains=function(a){return this.jd.contains(a)||this.Pd.contains(a)};g.getCount=function(){return this.jd.getCount()+this.Pd.getCount()};g.isEmpty=function(){return this.jd.isEmpty()&&this.Pd.isEmpty()};g.disposeInternal=function(){FR.Ed.disposeInternal.call(this);if(0<this.Pd.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.Pd;for(var a=this.jd;!a.isEmpty();)IR(a.dequeue());delete this.jd};function JR(a,b){this.key_=a;this.value_=b}JR.prototype.getKey=function(){return this.key_};JR.prototype.getValue=function(){return this.value_};JR.prototype.clone=function(){return new JR(this.key_,this.value_)};function KR(a){this.Cc=[];if(a)a:{if(a instanceof KR){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.Cc,d=0;d<b.length;d++)c.push(new JR(b[d],a[d]));break a}}else b=hb(a),a=gb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=KR.prototype;g.insert=function(a,b){var c=this.Cc;c.push(new JR(a,b));a=c.length-1;b=this.Cc;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.Cc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Wa(a);else{a[0]=a.pop();a=0;b=this.Cc;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Cc;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.Cc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.Cc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.He=function(a){return Qa(this.Cc,function(b){return b.getValue()==a})};g.containsKey=function(a){return Qa(this.Cc,function(b){return b.getKey()==a})};g.clone=function(){return new KR(this)};g.getCount=function(){return this.Cc.length};
g.isEmpty=function(){return 0==this.Cc.length};g.clear=function(){Wa(this.Cc)};function LR(){KR.call(this)}Ia(LR,KR);LR.prototype.enqueue=function(a,b){this.insert(a,b)};LR.prototype.dequeue=function(){return this.remove()};function MR(a,b){this.Lg=void 0;this.gg=new LR;FR.call(this,a,b)}Ia(MR,FR);g=MR.prototype;g.lf=function(){var a=MR.Ed.lf.call(this);a&&this.delay&&(this.Lg=ma.setTimeout(Fa(this.Rf,this),this.delay));return a};g.Rf=function(){for(var a=this.gg;0<a.getCount();){var b=this.lf();if(b)a.dequeue().apply(this,[b]);else break}};g.Bf=function(a){MR.Ed.Bf.call(this,a);this.Rf()};g.Ye=function(){MR.Ed.Ye.call(this);this.Rf()};
g.disposeInternal=function(){MR.Ed.disposeInternal.call(this);ma.clearTimeout(this.Lg);this.gg.clear();this.gg=null};function NR(a,b,c,d){this.Oh=a;this.pe=!!d;MR.call(this,b,c)}Ia(NR,MR);NR.prototype.Of=function(){var a=new lR,b=this.Oh;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.pe&&a.setWithCredentials(!0);return a};NR.prototype.eg=function(a){return!a.fe&&!a.Va};function OR(a){a=y(a);throw vm(y(bA.aa(a)),R.j(a,bA));}var PR={};
function QR(a,b,c,d){if(q(OR)){var e=new Hl(function(){var f=new Date,h=q(a)?a:"?",k=t.aa(b),m=null==c?"\x3ctruss/nil\x3e":xl.da(M([c])),n=PR===d?null:d,r=new Hl(function(){var w=q(n)?t.aa(n):null;var A=["Invariant violation in `",t.aa(ja),":",t.aa(h),"`. Test form `",t.aa(k),"` failed against input val `",t.aa(m),"`."].join("");return yc(n)?A:[A," An error was thrown while evaluating test form: [",w,"]."].join("")}),u=function(){if(q(null))try{return null.ia?null.ia():null.call(null)}catch(w){if(w instanceof
Error)return new p(null,1,[Bm,w],null);throw w;}else return null}();return gk([Vn,bA,ss,uA,Fl,Vt,Qu,gq,YA,ou,vv,$m],[null,r,null,f,c,ja,Bc(c),n,!0,u,a,k])});return OR.aa?OR.aa(e):OR.call(null,e)}return null};var RR=new S(null,3,5,T,[3,1,0],null);function SR(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.ba(null,Pm,qp),c=B.ba(null,qm,qp);q(V.j?V.j(b,qp):V.call(null,b,qp))&&(b=y(GH),b=TR.j?TR.j(ze,b):TR.call(null,ze,b));c=q(V.j?V.j(c,qp):V.call(null,c,qp))?y(FH):c;c=Q.da(null,Pm,b,M([qm,c]));return zH(c,a)}throw vm("`read-edn` attempt against non-nil, non-string arg",new p(null,2,[Ev,a,pq,Bc(a)],null));}
function UR(a){if(null!=a&&(a.la&4096||l===a.Bg)){var b=bh(a);a=Zg(a);return q(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function VR(a){return"string"===typeof a?D.j(a,"")?null:a:null}function WR(a){return"number"===typeof a?Lg(a):"string"===typeof a?(a=parseInt(a,10),q(isNaN(a))?null:a):null}function YR(a){var b=UR(a);if(!q(b))throw vm(["`as-",bh(wp),"` failed against: `",xl.da(M([a])),"`"].join(""),new p(null,2,[Ev,a,pq,Bc(a)],null));return b}
function ZR(a,b,c){return zg(Sk(),xg(function(d,e){var f=P(e,0,null);e=P(e,1,null);return a.ba?a.ba(d,f,e):a.call(null,d,f,e)},wg),b,c)}function $R(a,b){return v.ba(function(c,d){c=a.aa?a.aa(d):a.call(null,d);return q(c)?Qe(c):null},null,b)}
function aS(){var a=Zh(-1);return function(){function b(e){return a.Xc(null,a.Ib(null)+e)}function c(){return a.Xc(null,a.Ib(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.ia=c;d.aa=b;return d}()}
var bS=function bS(a){switch(arguments.length){case 1:return bS.aa(arguments[0]);case 2:return bS.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};bS.aa=function(a){return bS.j(a,null)};bS.j=function(a,b){var c=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,d=B.j(c,vA);b=B.j(c,ny);c=B.ba(c,jn,1E3);a=Math.pow(2,36<a?36:a);a=Lg(.5*(a+Yl.aa(a))*c);d=Lg(q(d)?a<d?d:a:a);return Lg(q(b)?d>b?b:d:d)};bS.na=2;D.j("default","nodejs");
var cS="undefined"!==typeof window?window:null;function dS(a){a=UB(t.aa(a),/-/,2);var b=P(a,0,null);a=P(a,1,null);b=hl(/\d+/,b);b=q(b)?ti.j(WR,b):null;return new p(null,2,[Cn,b,Nx,q(a)?a.toLowerCase():null],null)}
function eS(a){var b=P(RR,0,null),c=P(RR,1,null),d=P(RR,2,null),e=Hf(a)?a:Cn.aa(dS(a));a=P(e,0,null);var f=P(e,1,null);e=P(e,2,null);e=ti.j(function(h){return q(h)?h:0},new S(null,3,5,T,[a,f,e],null));a=P(e,0,null);f=P(e,1,null);e=P(e,2,null);if(!(b>a||D.j(b,a)&&(c>f||D.j(c,f)&&d>=e)))throw vm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new p(null,2,[Fu,QB(".",new S(null,3,5,T,[a,f,e],null)),vr,QB(".",new S(null,3,5,T,[b,
c,d],null))],null));}function fS(a,b){return ib(a,bh(b),null)}function gS(a,b){return null==b?null==a?X:a:Q.ba(a,"x-requested-with",b)}var hS=function hS(a){switch(arguments.length){case 3:return hS.ba(arguments[0],arguments[1],arguments[2]);case 2:return hS.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(3),0,null);return hS.da(arguments[0],arguments[1],arguments[2],c)}};
hS.ba=function(a,b,c){return Pf(a,b)?a:Q.ba(a,b,c)};hS.da=function(a,b,c,d){return ZR(hS,hS.ba(a,b,c),d)};hS.qa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.da(b,a,c,d)};hS.j=function(a,b){return vg(function(c,d,e){return Pf(c,d)?c:Q.ba(c,d,e)},null==a?X:a,b)};hS.na=3;
var iS=function iS(a){switch(arguments.length){case 2:return iS.j(arguments[0],arguments[1]);case 3:return iS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};iS.j=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?qf:dj(a,b,c)};iS.ba=function(a,b,c){b=0>b?0:b;var d=Lg(K(a));c=c>d?d:c;return b>=c?qf:dj(a,b,c)};iS.na=3;
var jS=function jS(a){switch(arguments.length){case 2:return jS.j(arguments[0],arguments[1]);case 3:return jS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};jS.j=function(a,b){var c=K(a);return 0>b?(b+=c,dj(a,0>b?0:b,c)):b>=c?qf:dj(a,b,c)};jS.ba=function(a,b,c){if(0>=c)return qf;var d=Lg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,dj(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?qf:dj(a,b,d)};jS.na=3;
function kS(a,b){for(var c=qf;;){var d=E(b);b=H(d);if(d=J(d))c=pf.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}Db.j(v,W);function TR(a,b){b=vg(function(c,d,e){return rh.ba(c,a.aa?a.aa(d):a.call(null,d),e)},oh.aa?oh.aa(X):oh.call(null,X),b);return ph.aa?ph.aa(b):ph.call(null,b)}function lS(a,b){b=Mk(xj(b));a=Df(a)?a:Mk(a);return NH(b,a)}
function mS(a,b,c,d){var e=E(b);if(e){b=bf(b,0);if(e=J(e))return Q.ba(a,b,mS(B.j(a,b),e,c,d));if(q(V.j?V.j(d,QA):V.call(null,d,QA)))return R.j(a,b);c=B.ba(a,b,c);d=d.aa?d.aa(c):d.call(null,c);return q(V.j?V.j(d,QA):V.call(null,d,QA))?R.j(a,b):Q.ba(a,b,d)}return d.aa?d.aa(a):d.call(null,a)}function nS(a,b,c){return mS(a,b,null,function(d){return R.j(d,c)})}var oS={};
function pS(a,b){return v.ba(function(c,d){return null==d?c:vg(function m(f,h,k){var n=B.ba(f,h,oS);if(n===oS)return Q.ba(f,h,k);if(q(V.j?V.j(k,QA):V.call(null,k,QA)))return R.j(f,h);if(q(q(!1)?Ff(k)&&Ff(n):!1))return Q.ba(f,h,vg(m,n,k));k=a.j?a.j(n,k):a.call(null,n,k);return q(V.j?V.j(k,QA):V.call(null,k,QA))?R.j(f,h):Q.ba(f,h,k)},q(c)?c:X,d)},null,b)}function qS(a){return pS(function(b,c){return c},a)}function rS(a,b){this.dg=a;this.hg=b}
function sS(a,b,c){for(;;){var d=y(b);c=c.aa?c.aa(d):c.call(null,d);var e=c instanceof rS,f=e?c.dg:c;Vh(b,f);return e?c.hg:a.j?a.j(d,f):a.call(null,d,f)}}
function tS(a,b,c,d){if(q(V.j?V.j(d,QA):V.call(null,d,QA)))for(;;){var e=y(b);d=R.j(e,c);Vh(b,d);b=B.ba(e,c,null);c=QA;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.ba(e,c,null),h=d.aa?d.aa(f):d.call(null,f),k=h instanceof rS,m=k?h.dg:h;d=q(V.j?V.j(m,QA):V.call(null,m,QA))?R.j(e,c):Q.ba(e,c,m);Vh(b,d);return k?h.hg:a.j?a.j(f,m):a.call(null,f,m)}}
function uS(a,b,c){var d=vS,e=E(b);if(e)if(J(e))if(q(V.j?V.j(c,QA):V.call(null,c,QA)))for(;;){var f=y(a);e=kS(function(n){return function(r,u){return nS(n,r,u)}}(f,e,e),b);Vh(a,e);a=xi(f,b,null);b=QA;return d.j?d.j(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=xi(f,b,null);c=c.aa?c.aa(h):c.call(null,h);var k=c instanceof rS,m=k?c.dg:c;e=q(V.j?V.j(m,QA):V.call(null,m,QA))?kS(function(n){return function(r,u){return nS(n,r,u)}}(f,h,c,k,m,e,e),b):yi(f,b,m);Vh(a,e);return k?c.hg:d.j?d.j(h,m):d.call(null,
h,m)}else return tS(d,a,bf(b,0),c);else return sS(d,a,c)}function vS(a,b){return b}function wS(a,b){return sS(vS,a,b)}function xS(a,b,c){return uS(a,b,c)}function yS(a){return a}
function zS(a,b,c){a:{var d=E(b);if(d)if(J(d))for(;;){d=y(a);var e=yi(d,b,c);Vh(a,e);a=xi(d,b,null);yS.j?yS.j(a,c):yS.call(null,a,c);break a}else b:for(b=bf(b,0);;){d=y(a);e=Q.ba(d,b,c);Vh(a,e);a=B.ba(d,b,null);yS.j?yS.j(a,c):yS.call(null,a,c);break b}else b:for(;;){b=y(a);Vh(a,c);yS.j?yS.j(b,c):yS.call(null,b,c);break b}}}function AS(){return(new Date).getTime()}
(function(){var a=fS(cS,"performance");if(q(a)){var b=function(){var c=fS(a,"now");if(q(c))return c;c=fS(a,"mozNow");if(q(c))return c;c=fS(a,"msNow");if(q(c))return c;c=fS(a,"oNow");return q(c)?c:fS(a,"webkitNow")}();return q(b)?function(){return 1E6*Lg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function BS(a){var b=Zh(X),c={};return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new De(k,0,null)}return e.call(this,h)}function e(f){var h=H(f);if(q(V.j?V.j(h,bt):V.call(null,h,bt)))return f=J(f),h=H(f),q(V.j?V.j(h,$o):V.call(null,h,$o))?he(b,X):b.Xc(null,R.j(b.Ib(null),f)),null;if(q(V.j?V.j(h,uz):V.call(null,h,uz)))return f=J(f),h=yh(a,f),b.Xc(null,Q.ba(b.Ib(null),f,h)),h;h=B.ba(y(b),f,c);return h===c?
(h=yh(a,f),b.Xc(null,Q.ba(b.Ib(null),f,h)),h):h}d.na=0;d.qa=function(f){f=E(f);return e(f)};d.da=e;return d}()}function CS(a,b){this.n=a;this.cg=b}function DS(a,b){this.n=a;this.jg=b}function ES(a,b,c){this.m=a;this.jh=b;this.lg=c}
function FS(a){if(Ff(a))return vg(function(c,d,e){var f=P(e,0,null);e=P(e,1,null);return Q.ba(c,d,new CS(f,e))},X,a);if(Hf(a)){var b=Zh(-1);return v.ba(function(c,d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);return Q.ba(c,q(d)?d:b.Xc(null,b.Ib(null)+1),new CS(e,f))},X,a)}throw vm("No matching `encore/cond!` clause",X);}
function GS(a){function b(f,h){var k=(new Date).getTime();yc(h)&&6.25E-5>=Math.random()&&(Vh(c,null),Wh.j(d,function(u){return Vd(vg(function(w,A,G){G=vg(function(I,F,N){var O=B.j(e,F);return q(O)?k>=N.jg+O.cg?R.j(I,F):I:R.j(I,F)},G,G);return Bf(G)?Xd(w,A):rh.ba(w,A,G)},Td(q(u)?u:X),u))}));for(;;){var m=y(d),n=B.j(m,f),r=null==n?null:vg(function(u,w,A,G,I,F){return function(N,O,U){var ea=B.j(F,O);if(q(ea)){if(U.n<ea.n)return N;U=U.jg+ea.cg-A;return 0>=U?N:null==N?new ES(uf([O,U]),O,U):U>N.lg?new ES(Q.ba(N.m,
O,U),O,U):new ES(Q.ba(N.m,O,U),N.jh,N.lg)}return N}}(m,n,k,c,d,e),null,n);if(q(q(h)?h:r))return h=r,q(h)?(f=h,new S(null,3,5,T,[f.jh,f.lg,f.m],null)):null;h=y(c);q(h)||(n=vg(function(u,w,A,G,I){return function(F,N,O){return Q.ba(F,N,function(){var U=B.j(A,N);if(q(U)){var ea=U.jg;return I>=ea+O.cg?new DS(1,I):new DS(U.n+1,ea)}return new DS(1,I)}())}}(h,m,n,r,k,c,d,e),n,e),Vh(d,Q.ba(m,f,n)));return null}}if(Bf(a))return new S(null,2,5,T,[null,Nh(null)],null);var c=Uh(null),d=Uh(null),e=FS(a);return new S(null,
2,5,T,[d,function(){function f(n,r){if(q(V.j?V.j(n,yw):V.call(null,n,yw)))return q(V.j?V.j(r,xt):V.call(null,r,xt))?Vh(d,null):Wh.ba(d,R,r),null;if(q(V.j?V.j(n,qx):V.call(null,n,qx)))return b(r,!0);throw vm("Unrecognized rate limiter command",new p(null,2,[Ev,n,Yr,r],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,r){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,r)}throw Error("Invalid arity: "+
arguments.length);};m.ia=k;m.aa=h;m.j=f;return m}()],null)}
var HS=function(){function a(d){return new dc(d)}function b(){return new dc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.ia=b;c.aa=a;return c}(),IS=function(){function a(e,f){e=e instanceof dc?e:HS.aa(t.aa(e));f=t.aa(f);return e.append(f)}function b(e){return e instanceof dc?e:HS.aa(t.aa(e))}function c(){return HS.ia()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.ia=c;d.aa=b;d.j=a;return d}();function JS(a,b){if(q(q(" ")?Dh.j(" ",""):" ")){var c=ni(),d=xg(IS,t);return q(a)?yg(Oh.j(a,c),d,b):yg(c,d,b)}return q(a)?yg(a,xg(IS,t),b):t.aa(v.j(IS,b))}
var KS=function KS(a){switch(arguments.length){case 2:return KS.j(arguments[0],arguments[1]);case 3:return KS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};KS.j=function(a,b){return a.substring(b)};KS.ba=function(a,b,c){return b>=c?"":a.substring(b,c)};KS.na=3;
var LS=function LS(a){switch(arguments.length){case 2:return LS.j(arguments[0],arguments[1]);case 3:return LS.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};LS.j=function(a,b){return VR(a.substr(b))};LS.ba=function(a,b,c){return VR(a.substr(b,c))};LS.na=3;function MS(a){return void 0===a||null==a?"nil":a}
function NS(a){if(VB("/"))return t.aa(v.ba(IS,"",a));var b=Zh(!1),c=Zh(!0);return t.aa(v.ba(function(d,e){e=t.aa(e);var f=D.j(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?Dh.j(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);he(b,k);q(n)&&he(c,f);if(q(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||q(q(n)?n:f)||d.append("/");return d.append(e)},HS.ia(),a))}
function OS(){function a(){return am(16).toString(16)}var b=(8|3&am(16)).toString(16);return[t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),"-4",t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(b),t.aa(a()),t.aa(a()),t.aa(a()),"-",t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a()),t.aa(a())].join("")}ti.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var PS=function PS(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new De(c.slice(0),0,null):null;return PS.da(c)};PS.da=function(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,Mm);var c=B.j(b,MA),d=B.j(b,vB),e=B.j(b,Mt),f=B.j(b,os),h=B.j(b,ev),k=B.j(b,In),m=B.j(b,Hu);b=B.j(b,Xu);return Math.round((q(b)?31536E6*b:0)+(q(e)?2551392E3*e:0)+(q(c)?6048E5*c:0)+(q(k)?864E5*k:0)+(q(m)?36E5*m:0)+(q(h)?6E4*h:0)+(q(f)?1E3*f:0)+(q(d)?d:0)+(q(a)?a:0))};
PS.na=0;PS.qa=function(a){return this.da(E(a))};Oh.j(function(a){return Ng(Lg(a),1E3)},PS);var QS=new Hl(function(){return new NR});function RS(){var a=y(QS).lf();return void 0===a?null:a}
var SS="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},TS="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},US=function(){function a(c,d){if(q(SS(d)))return new S(null,2,5,T,[c,d],null);if(q("undefined"!==typeof FormData?$R(TS,yj(d)):!1)){var e=new FormData;d=E(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.La(null,k),n=P(m,0,null);m=P(m,1,null);e.append(bh(n),m);k+=1}else if(d=E(d))If(d)?(h=ae(d),d=be(d),f=h,h=K(h)):
(h=H(d),f=P(h,0,null),h=P(h,1,null),e.append(bh(f),h),d=J(d),f=null,h=0),k=0;else break;return new S(null,2,5,T,[c,e],null)}return new S(null,2,5,T,[c,b(d)],null)}var b=function(){function c(f,h){h=e.aa(h);f=VB(h)?f:[t.aa(f),"?",t.aa(h)].join("");return new S(null,2,5,T,[f,null],null)}function d(f){if(E(f)){var h=Rl(f);f=Qb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new $b(null,void 0);h=Pb(h);for(var m=0;m<f.length;m++){var n=f[m],r=h[m];if(qa(r)){var u=k;u.remove(n);0<r.length&&
(u.Nc=null,u.Ab.set(cc(u,n),Za(r)),u.count_+=r.length)}else k.add(n,r)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.aa=d;e.j=c;return e}();return function(c,d,e){d=d instanceof C?d.Aa:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.aa(d)].join(""));}}}();
function VS(a,b,c){var d=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b,e=B.ba(d,Pu,Mu);b=B.j(d,eu);var f=B.j(d,en),h=B.ba(d,go,1E4),k=B.ba(d,KA,or),m=B.j(d,TA),n=RS();if(q(n))try{var r=function(){var N=Bu.aa(d);return q(N)?N:h}(),u=function(){var N=e instanceof C?e.Aa:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.aa(N)].join(""));}}(),w=US(a,e,b),A=P(w,0,null),G=P(w,1,null),I=function(){var N=TR(function(O){return bh(O).toLowerCase()},
f);N=gS(N,B.ba(N,"x-requested-with","XMLHTTPRequest"));return Rl(N)}(),F=function(){var N=Gt.aa(d);return q(N)?(n.Yg=!0,PQ(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,va=O.total,wa=q(q(U)?Dh.j(va,0):U)?ea/va:null;O=new p(null,5,[FA,wa,pt,U,vu,ea,ft,va,eA,O],null);return N.aa?N.aa(O):N.call(null,O)})):null}();QQ(n,"ready",function(){return HR(y(QS),n)});QQ(n,"complete",function(N){var O=xR(n),U=wR(n),ea=Dh.j(U,-1)?function(){var xa=n.getResponseHeader("content-type"),Ra=function(){if(Dh.j(k,
or))var ka=k;else null==xa?ka=St:(ka=t.aa(xa).toLowerCase(),ka=Dh.j(-1,ka.indexOf("/edn"))?sv:Dh.j(-1,ka.indexOf("/json"))?ws:Dh.j(-1,ka.indexOf("/xml"))?Ov:St);try{var oa=ka instanceof C?ka.Aa:null;switch(oa){case "edn":return SR(zR(n));case "json":if(n.Va){b:{var Ca=n.Va.responseText;if(ma.JSON)try{var ua=ma.JSON.parse(Ca);break b}catch(ac){}ua=eR(Ca)}var Ba=ua}else Ba=void 0;return Ba;case "xml":try{var Ua=n.Va?n.Va.responseXML:null}catch(ac){Ua=null}return Ua;case "text":return zR(n);default:throw Error(["No matching clause: ",
t.aa(oa)].join(""));}}catch(ac){return new p(null,2,[Uo,ka,Nz,zR(n)],null)}}();return new S(null,3,5,T,[U,xa,Ra],null)}():null,va=P(ea,0,null),wa=P(ea,1,null);ea=P(ea,2,null);q(F)&&YQ(F);N=new p(null,7,[Cz,N,cv,n,Ry,O,zn,va,kA,wa,jt,ea,kq,q(O)?null:q(va)?va:B.ba(uf([0,null,5,Lo,6,Ux,7,sn,8,Bu]),n.je,Ex)],null);return c.aa?c.aa(N):c.call(null,N)});n.wf=Math.max(0,q(r)?r:0);q(m)&&n.setWithCredentials(!0);n.send(A,u,G,I);return n}catch(N){return a=N,HR(y(QS),n),a=new p(null,1,[kq,a],null),c.aa?c.aa(a):
c.call(null,a),null}else return a=new p(null,1,[kq,Ip],null),c.aa?c.aa(a):c.call(null,a),null}function WS(a){return q(a)?OB(encodeURIComponent(t.aa(a),a),"*","%2A"):null}function XS(a,b){P(b,0,null);return q(a)?decodeURIComponent(t.aa(a)):null}
function YS(a){function b(c,d){return[WS(YR(c)),"\x3d",WS(function(){var e=UR(d);return q(e)?e:t.aa(d)}())].join("")}return Bf(a)?"":QB("\x26",function(){return function e(d){return new ch(null,function(){for(var f=d;;)if(f=E(f)){if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),G=P(A,0,null),I=P(A,1,null);null!=I&&jh(m,Ef(I)?QB("\x26",ti.j(Db.j(b,G),function(){var F=E(I);return F?F:new S(null,1,5,T,[""],null)}())):b(G,I));w+=1}else return!0}()?ih(kh(m),e(be(f))):
ih(kh(m),null)}var n=H(f),r=P(n,0,null),u=P(n,1,null);if(null!=u)return hf(Ef(u)?QB("\x26",ti.j(Db.j(b,r),function(){var w=E(u);return w?w:new S(null,1,5,T,[""],null)}())):b(r,u),e(Fe(f)));f=Fe(f)}else return null},null,null)}(a)}())}function ZS(a,b,c){return Q.ba(a,b,function(){var d=B.j(a,b);return q(d)?Hf(d)?pf.j(d,c):new S(null,2,5,T,[d,c],null):c}())}
function $S(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new De(b.slice(1),0,null):null;return aT(arguments[0],b)}function aT(a,b){var c=P(b,0,null),d=P(b,1,null);if(VB(a)||!Dh.j(-1,a.indexOf("\x3d")))return X;a=0===a.indexOf("?")?Sg.j(a,1):a;a=v.ba(function(e,f){var h=UB(f,/=/,2);return q(h)?(f=P(h,0,null),h=P(h,1,null),ZS(e,XS(f,M([d])),XS(h,M([d])))):e},X,TB(a,/&/));return q(c)?TR(ah,a):a}
function bT(a,b){var c=UB(t.aa(a),/\?/,2);a=P(c,0,null);c=P(c,1,null);b=qS(M([q(c)?TR(ah,$S(c)):null,TR(ah,b)]));b=YS(b);b="string"===typeof b?VB(b)?null:b:null;return q(b)?[t.aa(a),"?",b].join(""):a}function cT(){return!0}function dT(){return!1}function eT(a){return Dh.j(-1,a.indexOf("*"))?il(OB(OB(["^",t.aa(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function fT(a,b){for(;;){if(q(function(){var n=new Jk(null,new p(null,2,["*",null,is,null],null),null);return n.aa?n.aa(a):n.call(null,a)}()))return cT;if(q(function(){var n=Rf([qf,Lk,qq]);return n.aa?n.aa(a):n.call(null,a)}()))return dT;if(a instanceof RegExp)return function(n){return function(r){return fl(n,r)}}(a,b,cT,dT,eT);if("string"===typeof a){var c=eT(a);if(q(c)){var d=b;a=c;b=d}else return function(n){return function(r){return D.j(r,n)}}(a,b,c,cT,dT,eT)}else if(Hf(a)||Df(a)){if(q(function(){var n=
Mk(a);return n.aa?n.aa("*"):n.call(null,"*")}()))return cT;if(D.j(K(a),1))c=H(a),d=b,a=c,b=d;else{var e=v.ba(function(n,r,u,w,A){return function(G,I){var F=P(G,0,null);G=P(G,1,null);var N=I instanceof RegExp?I:A(I);return q(N)?new S(null,2,5,T,[F,pf.j(G,N)],null):new S(null,2,5,T,[pf.j(F,I),G],null)}}(a,b,cT,dT,eT),new S(null,2,5,T,[Lk,qf],null),a),f=P(e,0,null),h=P(e,1,null),k=Eh(f),m=function(){var n=Eh(h);return q(n)?(n=function(r,u,w,A,G,I,F,N,O,U,ea){return function(va){return $R(function(){return function(wa){return fl(wa,
va)}}(r,u,w,A,G,I,F,N,O,U,ea),w)}}(a,b,n,n,e,f,h,k,cT,dT,eT),q(b)?Xl(n):n):null}();if(q(function(){var n=k;return q(n)?m:n}()))return function(n,r,u,w,A,G,I){return function(F){var N=G.aa?G.aa(F):G.call(null,F);return q(N)?N:I.aa?I.aa(F):I.call(null,F)}}(a,b,e,f,h,k,m,cT,dT,eT);if(q(k))return k;if(q(m))return m;throw vm("No matching `encore/cond!` clause",X);}}else throw vm("Unexpected compile spec type",new p(null,2,[Ev,a,pq,Bc(a)],null));}}
function gT(a){for(;;){if(Ff(a)){var b=B.j(a,ts),c=function(){var h=B.j(a,tn);return q(h)?h:B.j(a,EB)}(),d=function(){var h=B.j(a,Xq);return q(h)?h:B.j(a,to)}(),e=function(){var h=c;return q(h)?fT(h,b):null}(),f=function(){var h=d;return q(h)?fT(h,b):null}();if(D.j(f,cT)||D.j(e,dT))return dT;if(q(function(){var h=e;return q(h)?f:h}()))return function(h,k,m,n,r,u){return function(w){w=t.aa(w);return q(r.aa?r.aa(w):r.call(null,w))?q(u.aa?u.aa(w):u.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,cT,dT,eT,fT);if(q(e))return D.j(e,
cT)?cT:function(h,k,m,n,r){return function(u){u=t.aa(u);u=r.aa?r.aa(u):r.call(null,u);return q(u)?!0:!1}}(a,b,c,d,e,f,cT,dT,eT,fT);if(q(f))return D.j(f,dT)?cT:function(h,k,m,n,r,u){return function(w){w=t.aa(w);w=u.aa?u.aa(w):u.call(null,w);return q(w)?!0:!1}}(a,b,c,d,e,f,cT,dT,eT,fT);throw vm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new p(null,2,[xs,c,Sn,d],null));}a=new p(null,2,[tn,a,Xq,null],null)}}Oh.j(Eh,iS);Oh.j(Eh,jS);Oh.j(VR,KS);Oh.j(VR,LS);
function hT(a){return Pf(Rf([null,qf,Lk]),a)}var iT=function iT(a){switch(arguments.length){case 1:return iT.aa(arguments[0]);case 2:return iT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};iT.aa=function(a){return iT.j(a,null)};iT.j=function(a,b){return hT(a)&&hT(b)?function(){return!0}:gT(new p(null,2,[tn,a,Xq,b],null))};iT.na=2;function jT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new De(b.slice(0),0,null):null;return kT(b)}
function kT(a){P(a,0,null);return new p(null,6,[Uw,!0,Dq,!1,oA,null,sr,null,Zs,aA,Qz,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof C?c.Aa:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.aa(e)].join(""));}}();return q(d)?
d:console.log}return function(c){var d=b(Im.aa(c));if(q(d)){if(q(function(){var h=Io.aa(c);return q(h)?h:wi(c,new S(null,2,5,T,[ez,Io],null))}())){var e=function(){var h=Q.da(c,bA,"",M([gq,null])),k=Zs.aa(c);return k.aa?k.aa(h):k.call(null,h)}(),f=function(){var h=hz.aa(c),k=gq.aa(c);return q(k)?hf(e,hf(k,h)):hf(e,h)}();return d.apply(console,Ic(f))}return d.call(console,Ll(fB.aa(c)))}return null}}():function(){return null}],null)};Hf(RR)?eS(new S(null,3,5,T,[2,87,0],null)):eS(2.87);var lT=function lT(a){switch(arguments.length){case 1:return lT.aa(arguments[0]);case 2:return lT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};lT.aa=function(a){return lT.j(null,a)};
lT.j=function(a,b){var c=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,d=B.j(c,Gq);B.j(c,lz);var e=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;b=B.j(e,Im);c=B.j(e,gq);var f=B.j(e,bA),h=B.j(e,zr),k=B.j(e,$x);B.j(e,gv);B.j(e,Mz);e=B.j(e,vv);return[bh(b).toUpperCase()," [",t.aa(q(h)?h:q(k)?k:"?"),":",t.aa(q(e)?e:"?"),"] - ",t.aa(Ll(f)),q(d)?null:q(c)?["\n",t.aa(mT?mT(c,a):nT.call(null,c,a))].join(""):null].join("")};lT.na=2;
var oT=new p(null,6,[Im,cx,Jn,qf,fq,qf,Qw,qf,Zs,lT,ox,new p(null,1,[fA,jT.aa?jT.aa(X):jT.call(null,X)],null)],null),pT=Mk(new S(null,7,5,T,[vw,cx,Ys,mz,Hp,qr,Fn],null)),qT=Pk(new S(null,7,5,T,[vw,cx,Ys,mz,Hp,qr,Fn],null),J(Yk.ia()));function rT(a){var b=pT.aa?pT.aa(a):pT.call(null,a);if(q(b))return b;throw vm("Invalid Timbre logging level",new p(null,1,[Ev,a],null));}
function sT(a,b){return function(){var c=rT(a);return qT.aa?qT.aa(c):qT.call(null,c)}()>=function(){var c=rT(b);return qT.aa?qT.aa(c):qT.call(null,c)}()}var tT=BS(iT),uT=BS(function(a,b,c){a=tT(a,b);return a.aa?a.aa(c):a.call(null,c)});function vT(a){var b=B.ba(oT,Im,Fn);return sT(a,b)&&Mf(uT(B.j(oT,Jn),B.j(oT,fq),ja))&&!0}function wT(a){return JS(ci.aa(function(b){b=MS(b);return Gf(b)?xl.da(M([b])):b}),a)}var xT=BS(function(a,b){a=GS(b);P(a,0,null);return P(a,1,null)});
function yT(a){return 1<K(a)?dj(a,1,K(a)):qf}function zT(a){var b=V.j?V.j(or,or):V.call(null,or,or),c=V.j?V.j(uw,uw):V.call(null,uw,uw),d=P(a,0,null);if(q(q(b)?d instanceof Error:b)){b=d;d=null;var e=yT(a);a=q(c)?P(e,0,null):null;c=q(c)?yT(e):e;return new S(null,4,5,T,[b,d,a,c],null)}d=q(Ff(d)?rc.aa(yf(d)):!1)?d:null;e=gr.aa(d);b=q(e)?e:q(b)?null:or;d=R.j(d,gr);e=q(d)?yT(a):a;a=q(c)?P(e,0,null):null;c=q(c)?yT(e):e;return new S(null,4,5,T,[b,d,a,c],null)}
function AT(a,b,c,d){if(vT(a)){var e=new Date;c=y(c);c=zT(c);var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);e=pf.j(q(null)?null:X,gk([Rr,jB,hz,$x,su,zr,Im,gq,zz,vv,Lm,ez,mv],[e,oT,c,null,function(){var u=new Jk(null,new p(null,2,[qr,null,Hp,null],null),null);return u.aa?u.aa(a):u.call(null,a)}(),ja,a,f,null,b,new Hl(function(){return f}),h,k]));e=v.ba(function(u,w){u=w.aa?w.aa(u):w.call(null,u);return null==u?Qe(null):u},e,Qw.aa(oT));if(q(e)){c=null!=e&&(e.ga&64||l===e.Ja)?yh(zk,e):e;
var m=B.j(c,hz);e=Q.ba(e,Do,new Hl(function(){return m}));var n=hS.da(e,bA,new Hl(function(){if(D.j(null,uw))return"";if(D.j(Hw,uw))return wT(m);if(D.j(uw,uw)){if("string"!==typeof k)throw vm("Timbre format-style logging call without a format pattern (string)",new p(null,2,[Im,a,Nv,[t.aa(q(ja)?ja:q(null)?null:"?"),":",t.aa(q(b)?b:"?")].join("")],null));var u=q(k)?k:"",w=ti.j(MS,m);return zh(vQ,u,w)}throw Error(["No matching clause: ",t.aa(uw)].join(""));}),M([Tx,new Hl(function(){return ve(new S(null,
3,5,T,[d,k,B.ba(h,iA,m)],null))})])),r=BS(B.ba(oT,Zs,lT));vg(function(u,w,A){if(q(function(){var O=Uw.aa(A);q(O)&&(O=oA.aa(A),O=sT(a,q(O)?O:vw));return O}())&&q(uT(Jn.aa(A),fq.aa(A),ja))){var G=sr.aa(A);if(function(){var O=Bf(G);if(O)return O;O=xT(w,G);var U=Ll(Tx.aa(n));O=O.aa?O.aa(U):O.call(null,U);return yc(O)}()){var I=null!=A&&(A.ga&64||l===A.Ja)?yh(zk,A):A;u=B.j(I,Qz);B.j(I,Dq);var F=function(){var O=Zs.aa(A);var U=(U=null==O)?U:V.j?V.j(O,aA):V.call(null,O,aA);return q(U)?r:O}(),N=pf.j(n,new p(null,
4,[eo,w,pz,A,Zs,F,fB,new Hl(function(){return F.aa?F.aa(n):F.call(null,n)})],null));I=function(){var O=Nm.aa(A);return q(O)?O.aa?O.aa(N):O.call(null,N):N}();return q(I)?u.aa?u.aa(I):u.call(null,I):null}}return null},null,ox.aa(oT))}}return null}function nT(a){switch(arguments.length){case 1:return mT(arguments[0],null);case 2:return mT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}}function mT(a){return t.aa(a)};function BT(a,b){if(null!=a&&null!=a.eh)a=a.eh(a,b);else{var c=BT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=BT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.pack",a);}return a}function CT(a,b){if(null!=a&&null!=a.fh)a=a.fh(a,b);else{var c=CT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=CT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.unpack",a);}return a};Hf(RR)?eS(new S(null,3,5,T,[2,105,0],null)):eS(2.105);var DT=D.j("default","nodejs"),ET=Uh(!1);function FT(a,b){return new p(null,2,[zm,a,Kp,new p(null,2,[pq,Bc(b),Rw,b],null)],null)}
function GT(a){if(Hf(a)){var b=K(a);var c=new Jk(null,new p(null,2,[1,null,2,null],null),null);b=c.aa?c.aa(b):c.call(null,b);if(yc(b))return new p(null,1,[Yv,FT(new Jk(null,new p(null,2,[1,null,2,null],null),null),a)],null);b=P(a,0,null);P(a,1,null);return b instanceof C?yc(Zg(b))?new p(null,1,[tt,FT(ur,b)],null):null:new p(null,1,[kp,FT(DB,b)],null)}return new p(null,1,[gx,FT(dx,a)],null)}function HT(a){var b=GT(a);if(q(b))throw vm("Invalid event",new p(null,2,[Ev,a,HB,b],null));}
function IT(a,b){var c=0===b.indexOf("+"),d=Sg.j(b,1),e=function(){try{return CT(a,d)}catch(m){var k=m;AT(cx,215,new Hl(function(){return new S(null,3,5,T,["Bad package: %s (%s)",d,k],null)}),469349583);return new S(null,2,5,T,[Qx,d],null)}}();c=c?e:new S(null,2,5,T,[e,null],null);var f=P(c,0,null);c=P(c,1,null);var h=D.j(0,c)?zw:c;AT(vw,221,new Hl(function(){return new S(null,3,5,T,["Unpacking: %s -\x3e %s",b,new S(null,2,5,T,[f,h],null)],null)}),-568159775);return new S(null,2,5,T,[f,h],null)}
function JT(a,b,c){c=D.j(c,zw)?0:c;var d=q(c)?new S(null,2,5,T,[b,c],null):new S(null,1,5,T,[b],null),e=["+",t.aa(BT(a,d))].join("");AT(vw,237,new Hl(function(){return new S(null,3,5,T,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-492320759);return e}function KT(){}KT.prototype.eh=function(a,b){a:{a=nc;var c=mc;mc=nc=null;try{var d=xl.da(M([b]));break a}finally{mc=c,nc=a}d=void 0}return d};KT.prototype.fh=function(a,b){return SR(b)};var LT=new KT;function MT(a){return D.j(a,sv)?LT:a}aS.ia&&aS.ia();
function NT(a){if(null!=a&&null!=a.ne)a=a.ne(a);else{var b=NT[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=NT._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IChSocket.-chsk-connect!",a);}return a}function OT(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=OT[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=OT._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IChSocket.-chsk-disconnect!",a);}return a}
function PT(a,b,c){if(null!=a&&null!=a.We)a=a.We(a,b,c);else{var d=PT[pa(null==a?null:a)];if(null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else if(d=PT._,null!=d)a=d.ba?d.ba(a,b,c):d.call(null,a,b,c);else throw Cc("IChSocket.-chsk-send!",a);}return a}
var QT=function QT(a){switch(arguments.length){case 2:return QT.j(arguments[0],arguments[1]);case 4:return QT.ja(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return QT.ba(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.aa(arguments.length)].join(""));}};QT.j=function(a,b){return QT.ba(a,b,X)};QT.ja=function(a,b,c,d){return QT.ba(a,b,new p(null,2,[go,c,PA,d],null))};
QT.ba=function(a,b,c){AT(vw,877,new Hl(function(){return new S(null,3,5,T,["Chsk send: (%s) %s",Q.ba(c,PA,Mf(PA.aa(c))),b],null)}),580030373);return PT(a,b,c)};QT.na=4;function RT(a){AT(mz,881,new Hl(function(){return new S(null,1,5,T,["Chsk send against closed chsk."],null)}),1938403917);q(a)&&(a.aa?a.aa(uB):a.call(null,uB));return!1}function ST(a,b){return q(b)?xS(a,new S(null,1,5,T,[b],null),function(c){return new rS(QA,c)}):null}
function TT(a,b){var c=wS(Ly.aa(a),function(e){var f=b.aa?b.aa(e):b.call(null,e);f=q(bp.aa(e))?Q.ba(f,bp,!1):f;f=q(fy.aa(f))?R.j(f,Kv):f;return new rS(f,new S(null,2,5,T,[e,f],null))}),d=P(c,0,null);c=P(c,1,null);return Dh.j(d,c)?(d=new S(null,2,5,T,[d,c],null),mQ(wi(a,new S(null,2,5,T,[ax,vo],null)),new S(null,2,5,T,[fs,d],null)),d):null}function UT(a,b){var c=fy.aa(a);c=q(c)?c:Dh.j(b,rs);return q(c)?Q.da(R.j(a,Kv),fy,!1,M([Fw,new p(null,2,[ao,AS(),hB,b],null)])):a}
function VT(a,b){if(null==a||Nf(a))return a;HT(b);var c=P(b,0,null);P(b,1,null);return function(d){return mQ(a,new S(null,2,5,T,[ah.aa([YR(c),".cb"].join("")),d],null))}}
function WT(a,b){AT(vw,955,new Hl(function(){return new S(null,2,5,T,["receive-buffered-evs!: %s",b],null)}),-2075919108);for(var c=E(b),d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);HT(h);P(h,0,null);mQ(lr.aa(a),h);f+=1}else if(c=E(c))d=c,If(d)?(c=ae(d),e=be(d),d=c,h=K(c),c=e,e=h):(h=H(d),HT(h),P(h,0,null),mQ(lr.aa(a),h),c=J(d),d=null,e=0),f=0;else return null}function XT(a){return Hf(a)?(a=P(a,0,null),D.j(a,SA)):!1}
function YT(a,b,c){AT(vw,970,new Hl(function(){return new S(null,3,5,T,["receive-handshake! (%s): %s",a,c],null)}),-709737118);P(c,0,null);var d=P(c,1,null),e=P(d,0,null);P(d,1,null);var f=P(d,2,null),h=null!=b&&(b.ga&64||l===b.Ja)?yh(zk,b):b;d=B.j(h,ax);h=B.j(h,By);h=Xh(h);var k=new p(null,6,[pq,a,fy,!0,yt,!0,sp,e,Qp,f,bp,h],null);e=new S(null,2,5,T,[SA,new S(null,4,5,T,[e,null,f,h],null)],null);HT(e);TT(b,function(m){return Ek.da(M([m,k]))});mQ(Vr.aa(d),e)}
var ZT=function(){var a="undefined"!==typeof require?require:Nh(zs);return new Hl(function(){if(DT&&"undefined"!==typeof require)try{var b=[t.aa("web"),"socket"].join("");return a.aa?a.aa(b):a.call(null,b)}catch(c){return null}else return null})}();
function $T(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;B.j(a,bv);B.j(a,jq);B.j(a,lB);B.j(a,Ir);B.j(a,en);var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,bv);var c=B.j(b,jq),d=B.j(b,lB),e=B.j(b,Ir);B.j(b,en);b=fS(ma,"WebSocket");q(b)||(b=fS(ma,"MozWebSocket"),b=q(b)?b:fS(y(ZT),"w3cwebsocket"));q(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function aU(a,b,c,d,e,f,h,k,m,n,r,u,w,A,G,I,F,N){this.Ua=a;this.Ta=b;this.params=c;this.headers=d;this.Sa=e;this.url=f;this.zb=h;this.state_=k;this.Pa=m;this.tb=n;this.Wa=r;this.Qa=u;this.mb=w;this.qb=A;this.rb=G;this.ea=I;this.ca=F;this.fa=N;this.ga=2230716170;this.la=139264}g=aU.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "client-id":return this.Ua;case "chs":return this.Ta;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Sa;case "url":return this.url;case "ws-kalive-ms":return this.zb;case "state_":return this.state_;case "instance-handle_":return this.Pa;case "retry-count_":return this.tb;case "ever-opened?_":return this.Wa;case "backoff-ms-fn":return this.Qa;case "cbs-waiting_":return this.mb;case "socket_":return this.qb;
case "udt-last-comms_":return this.rb;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,W.j(new S(null,15,5,T,[new S(null,2,5,T,[Jt,this.Ua],null),new S(null,2,5,T,[ax,this.Ta],null),new S(null,2,5,T,[eu,this.params],null),new S(null,2,5,T,[en,this.headers],null),new S(null,2,5,T,[Py,this.Sa],null),new S(null,2,5,T,[ty,this.url],null),new S(null,2,5,T,[ux,this.zb],null),new S(null,2,5,T,[Ly,this.state_],null),new S(null,2,5,T,[Kr,this.Pa],null),new S(null,2,5,T,[hu,this.tb],
null),new S(null,2,5,T,[By,this.Wa],null),new S(null,2,5,T,[yz,this.Qa],null),new S(null,2,5,T,[Rx,this.mb],null),new S(null,2,5,T,[Oz,this.qb],null),new S(null,2,5,T,[Xt,this.rb],null)],null),this.ca))};g.Ba=function(){return new rj(this,15,new S(null,15,5,T,[Jt,ax,eu,en,Py,ty,ux,Ly,Kr,hu,By,yz,Rx,Oz,Xt],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 15+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=1998688700^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ua,b.Ua)&&D.j(this.Ta,b.Ta)&&D.j(this.params,b.params)&&D.j(this.headers,b.headers)&&D.j(this.Sa,b.Sa)&&D.j(this.url,b.url)&&D.j(this.zb,b.zb)&&D.j(this.state_,b.state_)&&D.j(this.Pa,b.Pa)&&D.j(this.tb,b.tb)&&D.j(this.Wa,b.Wa)&&D.j(this.Qa,b.Qa)&&D.j(this.mb,b.mb)&&D.j(this.qb,b.qb)&&D.j(this.rb,b.rb)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,15,[ux,null,By,null,Jt,null,Py,null,ax,null,Xt,null,eu,null,hu,null,en,null,yz,null,Oz,null,ty,null,Kr,null,Rx,null,Ly,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Jt,b):V.call(null,Jt,b))?new aU(c,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(ax,b):V.call(null,ax,b))?new aU(this.Ua,c,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(eu,b):V.call(null,eu,b))?new aU(this.Ua,this.Ta,c,this.headers,this.Sa,this.url,
this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(en,b):V.call(null,en,b))?new aU(this.Ua,this.Ta,this.params,c,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Py,b):V.call(null,Py,b))?new aU(this.Ua,this.Ta,this.params,this.headers,c,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(ty,b):V.call(null,
ty,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,c,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(ux,b):V.call(null,ux,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,c,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Ly,b):V.call(null,Ly,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,c,this.Pa,this.tb,this.Wa,this.Qa,this.mb,
this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Kr,b):V.call(null,Kr,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,c,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(hu,b):V.call(null,hu,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,c,this.Wa,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(By,b):V.call(null,By,b))?new aU(this.Ua,this.Ta,this.params,this.headers,
this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,c,this.Qa,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(yz,b):V.call(null,yz,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,c,this.mb,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Rx,b):V.call(null,Rx,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,c,this.qb,this.rb,this.ea,this.ca,null):q(V.j?V.j(Oz,
b):V.call(null,Oz,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,c,this.rb,this.ea,this.ca,null):q(V.j?V.j(Xt,b):V.call(null,Xt,b))?new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,c,this.ea,this.ca,null):new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,
this.rb,this.ea,Q.ba(this.ca,b,c),null)};g.ua=function(){return E(W.j(new S(null,15,5,T,[new Y(Jt,this.Ua),new Y(ax,this.Ta),new Y(eu,this.params),new Y(en,this.headers),new Y(Py,this.Sa),new Y(ty,this.url),new Y(ux,this.zb),new Y(Ly,this.state_),new Y(Kr,this.Pa),new Y(hu,this.tb),new Y(By,this.Wa),new Y(yz,this.Qa),new Y(Rx,this.mb),new Y(Oz,this.qb),new Y(Xt,this.rb)],null),this.ca))};
g.sa=function(a,b){return new aU(this.Ua,this.Ta,this.params,this.headers,this.Sa,this.url,this.zb,this.state_,this.Pa,this.tb,this.Wa,this.Qa,this.mb,this.qb,this.rb,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.uf=function(a,b){Vh(this.Pa,null);TT(this,function(c){return UT(c,b)});a=y(this.qb);return q(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.We=function(a,b,c){var d=this;a=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;var e=B.j(a,go);c=B.j(a,PA);B.j(a,zp);HT(b);var f=VT(c,b);if(yc(fy.aa(y(d.state_))))return RT(f);var h=q(f)?LS.ba(OS(),0,6):null;b=JT(d.Sa,b,h);if(q(h)&&(zS(d.mb,new S(null,1,5,T,[h],null),f),q(e))){var k=kQ(1,null);LP(function(){var n=function(){function u(w){var A=w[1];if(1===A)return A=bQ(e),gQ(w,2,A);if(2===A){A=w[2];var G=ST(d.mb,h);w[8]=A;w[7]=G;w[1]=q(G)?3:4;return On}return 3===A?(A=w[7],A=A.aa?A.aa(Un):A.call(null,
Un),w[2]=A,w[1]=5,On):4===A?(w[2]=null,w[1]=5,On):5===A?iQ(w,w[2]):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!V(F,On)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=On}if(!V(N,On))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);};G.ia=
A;G.aa=w;return G}()}(),r=function(){var u=n();u[6]=k;return u}();return fQ(r)})}try{return y(d.qb).send(b),Vh(d.rb,AS()),Cm}catch(n){var m=n;AT(Hp,1128,new Hl(function(){return new S(null,2,5,T,[m,"Chsk send error"],null)}),-1648716522);q(h)&&(b=function(){var r=ST(d.mb,h);return q(r)?r:f}(),b.aa?b.aa(Em):b.call(null,Em));return!1}};
g.ne=function(){function a(){return D.j(y(b.Pa),d)}var b=this,c=this,d=Vh(b.Pa,OS()),e=b.zb;if(q(e)){var f=kQ(1,null);LP(function(){var h=function(){function m(n){var r=n[1];if(7===r)return n[2]=n[2],n[1]=3,On;if(1===r)return n[2]=null,n[1]=2,On;if(4===r){r=n[2];var u=a();n[7]=r;n[1]=u?5:6;return On}return 6===r?(n[2]=null,n[1]=7,On):3===r?iQ(n,n[2]):2===r?(r=y(b.rb),u=bQ(e),n[8]=r,gQ(n,4,u)):9===r?(n[2]=null,n[1]=10,On):5===r?(r=n[8],u=y(b.rb),r=D.j(r,u),n[1]=r?8:9,On):10===r?(n[9]=n[2],n[2]=null,
n[1]=2,On):8===r?(r=new S(null,1,5,T,[cp],null),u=gk([zp],[!0]),r=c.We(null,r,u),n[2]=r,n[1]=10,On):null}return function(){function n(w){for(;;){a:try{for(;;){var A=m(w);if(!V(A,On)){var G=A;break a}}}catch(I){G=I;w[2]=G;if(E(w[4]))w[1]=H(w[4]);else throw G;G=On}if(!V(G,On))return G}}function r(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=u;w[1]=1;return w}var u=null;u=function(w){switch(arguments.length){case 0:return r.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};u.ia=r;u.aa=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return fQ(k)})}Vh(b.tb,0);(function k(){if(a()){var m=function(){if(a()){var G=Wh.j(b.tb,Oe),I=b.Qa.aa?b.Qa.aa(G):b.Qa.call(null,G),F=AS()+I;AT(mz,1147,new Hl(function(){return new S(null,3,5,T,["Chsk is closed: will try reconnect attempt (%s) in %s ms",G,I],null)}),1572269221);ma.setTimeout(k,I);return TT(c,function(N){return Q.ba(N,Kv,F)})}return null},n=function(G){AT(Hp,1160,new Hl(function(){var I=T;try{var F=
Vl(G)}catch(N){F=G}return new S(null,2,5,I,["WebSocket error: %s",F],null)}),-1737066449);return TT(c,function(I){return Q.ba(I,Xr,new p(null,2,[ao,AS(),eA,G],null))})},r=function(G){G=fS(G,"data");G=IT(b.Sa,G);var I=P(G,0,null);G=P(G,1,null);Vh(b.rb,AS());if(XT(I)){YT(Aq,c,I);Vh(b.tb,0);var F=Gp}else F=null;if(q(F))return F;D.j(I,cp)?(mQ(lr.aa(b.Ta),new S(null,1,5,T,[cp],null)),F=Np):F=null;return q(F)?F:q(G)?(G=ST(b.mb,G),q(G)?G.aa?G.aa(I):G.call(null,I):AT(mz,1204,new Hl(function(){return new S(null,
2,5,T,["Cb reply w/o local cb-fn: %s",I],null)}),352218681)):WT(b.Ta,I)},u=function(G){var I=new p(null,5,[ao,AS(),eA,G,Wo,fS(G,"wasClean"),Hq,fS(G,"code"),hB,fS(G,"reason")],null);if(q(Wo.aa(I)))return AT(cx,1230,new Hl(function(){return new S(null,1,5,T,["Clean WebSocket close, will not attempt reconnect"],null)}),-1228811302),TT(c,function(F){return Q.ba(F,qy,I)});TT(c,function(F){return Q.ba(UT(F,rs),qy,I)});return m()},w=function(){try{return $T(new p(null,5,[bv,n,jq,r,lB,u,en,b.headers,Ir,bT(b.url,
Ek.da(M([b.params,new p(null,2,[Jt,b.Ua,cs,cs.aa(y(b.state_))],null)])))],null))}catch(I){var G=I;AT(Hp,1253,new Hl(function(){return new S(null,2,5,T,[G,"WebSocket error"],null)}),-2060205960);return null}}();if(yc(w))return m();var A=y(b.qb);q(A)&&A.close();return Vh(b.qb,w)}return null})();return c};
function bU(a,b){a=Ek.da(M([new p(null,7,[Ly,Uh(new p(null,4,[pq,Aq,fy,!1,yt,!1,cs,b],null)),Kr,Uh(null),hu,Uh(0),By,Uh(!1),Rx,Uh(X),Oz,Uh(null),Xt,Uh(null)],null),a]));b=R.da(a,Jt,M([ax,eu,en,Py,ty,ux,Ly,Kr,hu,By,yz,Rx,Oz,Xt]));b=Gf(a)?si.j(X,b):b;return new aU(Jt.aa(a),ax.aa(a),eu.aa(a),en.aa(a),Py.aa(a),ty.aa(a),ux.aa(a),Ly.aa(a),Kr.aa(a),hu.aa(a),By.aa(a),yz.aa(a),Rx.aa(a),Oz.aa(a),Xt.aa(a),null,Eh(b),null)}var cU=PS.da(M([os,60]));
function dU(a,b,c,d,e,f,h,k,m,n,r,u,w,A){this.Ua=a;this.Ta=b;this.params=c;this.Sa=d;this.url=e;this.state_=f;this.Pa=h;this.Wa=k;this.Qa=m;this.vb=n;this.Db=r;this.ea=u;this.ca=w;this.fa=A;this.ga=2230716170;this.la=139264}g=dU.prototype;g.ya=function(a,b){return this.ka(null,b,null)};
g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "client-id":return this.Ua;case "chs":return this.Ta;case "params":return this.params;case "packer":return this.Sa;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Pa;case "ever-opened?_":return this.Wa;case "backoff-ms-fn":return this.Qa;case "ajax-opts":return this.vb;case "curr-xhr_":return this.Db;default:return B.ba(this.ca,b,c)}};
g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,W.j(new S(null,11,5,T,[new S(null,2,5,T,[Jt,this.Ua],null),new S(null,2,5,T,[ax,this.Ta],null),new S(null,2,5,T,[eu,this.params],null),new S(null,2,5,T,[Py,this.Sa],null),new S(null,2,5,T,[ty,this.url],null),new S(null,2,5,T,[Ly,this.state_],null),new S(null,2,5,T,[Kr,this.Pa],null),new S(null,2,5,T,[By,this.Wa],null),new S(null,2,5,T,[yz,this.Qa],null),new S(null,2,5,T,[rB,this.vb],
null),new S(null,2,5,T,[WA,this.Db],null)],null),this.ca))};g.Ba=function(){return new rj(this,11,new S(null,11,5,T,[Jt,ax,eu,Py,ty,Ly,Kr,By,yz,rB,WA],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 11+K(this.ca)};g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-266770752^Me(this)};
g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ua,b.Ua)&&D.j(this.Ta,b.Ta)&&D.j(this.params,b.params)&&D.j(this.Sa,b.Sa)&&D.j(this.url,b.url)&&D.j(this.state_,b.state_)&&D.j(this.Pa,b.Pa)&&D.j(this.Wa,b.Wa)&&D.j(this.Qa,b.Qa)&&D.j(this.vb,b.vb)&&D.j(this.Db,b.Db)&&D.j(this.ca,b.ca)};
g.Ka=function(a,b){return Pf(new Jk(null,new p(null,11,[WA,null,By,null,Jt,null,Py,null,ax,null,eu,null,yz,null,ty,null,Kr,null,rB,null,Ly,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Jt,b):V.call(null,Jt,b))?new dU(c,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(ax,b):V.call(null,ax,b))?new dU(this.Ua,c,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(eu,b):V.call(null,eu,b))?new dU(this.Ua,this.Ta,c,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(Py,
b):V.call(null,Py,b))?new dU(this.Ua,this.Ta,this.params,c,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(ty,b):V.call(null,ty,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,c,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(Ly,b):V.call(null,Ly,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,c,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(Kr,b):V.call(null,Kr,b))?new dU(this.Ua,this.Ta,
this.params,this.Sa,this.url,this.state_,c,this.Wa,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(By,b):V.call(null,By,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,c,this.Qa,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(yz,b):V.call(null,yz,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,c,this.vb,this.Db,this.ea,this.ca,null):q(V.j?V.j(rB,b):V.call(null,rB,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,
this.Pa,this.Wa,this.Qa,c,this.Db,this.ea,this.ca,null):q(V.j?V.j(WA,b):V.call(null,WA,b))?new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,c,this.ea,this.ca,null):new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,11,5,T,[new Y(Jt,this.Ua),new Y(ax,this.Ta),new Y(eu,this.params),new Y(Py,this.Sa),new Y(ty,this.url),new Y(Ly,this.state_),new Y(Kr,this.Pa),new Y(By,this.Wa),new Y(yz,this.Qa),new Y(rB,this.vb),new Y(WA,this.Db)],null),this.ca))};g.sa=function(a,b){return new dU(this.Ua,this.Ta,this.params,this.Sa,this.url,this.state_,this.Pa,this.Wa,this.Qa,this.vb,this.Db,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};
g.uf=function(a,b){Vh(this.Pa,null);TT(this,function(c){return UT(c,b)});a=y(this.Db);return q(a)?a.abort():null};
g.We=function(a,b,c){function d(n){var r=null!=n&&(n.ga&64||l===n.Ja)?yh(zk,n):n;n=B.j(r,kq);r=B.j(r,jt);if(q(n)){if(D.j(n,Bu))return q(k)?k.aa?k.aa(Un):k.call(null,Un):null;TT(f,function(w){return UT(w,rs)});return q(k)?k.aa?k.aa(Em):k.call(null,Em):null}n=IT(e.Sa,r);var u=P(n,0,null);P(n,1,null);q(k)?k.aa?k.aa(u):k.call(null,u):Dh.j(u,ZA)&&AT(mz,1377,new Hl(function(){return new S(null,2,5,T,["Cb reply w/o local cb-fn: %s",u],null)}),304490272);return TT(f,function(w){return Q.ba(w,fy,!0)})}var e=
this,f=this;a=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;var h=B.j(a,go);c=B.j(a,PA);B.j(a,zp);HT(b);var k=VT(c,b);if(yc(fy.aa(y(e.state_))))return RT(k);var m=cs.aa(y(e.state_));a=e.url;c=Ek.da(M([e.vb,new p(null,5,[Pu,lA,go,function(){if(q(h))return h;var n=go.aa(e.vb);return q(n)?n:cU}(),KA,St,en,Ek.da(M([en.aa(e.vb),new p(null,1,[Gx,m],null)])),eu,function(){var n=JT(e.Sa,b,q(k)?zw:null);return Ek.da(M([e.params,new p(null,4,[ao,AS(),cs,m,Jt,e.Ua,RA,n],null)]))}()],null)]));VS.ba?VS.ba(a,c,d):VS.call(null,
a,c,d);return Cm};
g.ne=function(){var a=this,b=this,c=Vh(a.Pa,OS());(function f(e){AT(vw,1387,new Hl(function(){return new S(null,1,5,T,["async-poll-for-update!"],null)}),1380906475);if(D.j(y(a.Pa),c)){var h=function(){if(D.j(y(a.Pa),c)){var k=e+1,m=a.Qa.aa?a.Qa.aa(k):a.Qa.call(null,k),n=AS()+m;AT(mz,1395,new Hl(function(){return new S(null,3,5,T,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),1160635318);ma.setTimeout(function(){return f(k)},m);return TT(b,function(r){return Q.ba(r,Kv,n)})}return null};
return Vh(a.Db,function(){function k(r){var u=null!=r&&(r.ga&64||l===r.Ja)?yh(zk,r):r;r=B.j(u,kq);u=B.j(u,jt);if(q(r)){if(D.j(r,Bu))return f(0);TT(b,function(w){return UT(w,rs)});return h()}r=IT(a.Sa,u);r=P(r,0,null);(u=XT(r))&&YT(vz,b,r);TT(b,function(w){return Q.ba(w,fy,!0)});f(0);if(u)return null;D.j(r,Un)?(q(y(ET))&&WT(a.Ta,new S(null,1,5,T,[new S(null,1,5,T,[ep],null)],null)),u=Np):u=null;return q(u)?u:WT(a.Ta,r)}var m=a.url,n=Ek.da(M([a.vb,new p(null,5,[Pu,Mu,go,function(){var r=go.aa(a.vb);
return q(r)?r:cU}(),KA,St,eu,Ek.da(M([a.params,new p(null,2,[ao,AS(),Jt,a.Ua],null),q(fy.aa(y(a.state_)))?null:new p(null,1,[Bp,!0],null)])),en,Ek.da(M([en.aa(a.vb),new p(null,1,[Gx,cs.aa(y(a.state_))],null)]))],null)]));return VS.ba?VS.ba(m,n,k):VS.call(null,m,n,k)}())}return null})(0);return b};
function eU(a,b){a=Ek.da(M([new p(null,4,[Ly,Uh(new p(null,4,[pq,vz,fy,!1,yt,!1,cs,b],null)),Kr,Uh(null),By,Uh(!1),WA,Uh(null)],null),a]));b=R.da(a,Jt,M([ax,eu,Py,ty,Ly,Kr,By,yz,rB,WA]));b=Gf(a)?si.j(X,b):b;return new dU(Jt.aa(a),ax.aa(a),eu.aa(a),Py.aa(a),ty.aa(a),Ly.aa(a),Kr.aa(a),By.aa(a),yz.aa(a),rB.aa(a),WA.aa(a),null,Eh(b),null)}function fU(a,b,c,d,e,f,h){this.Tc=a;this.Ic=b;this.state_=c;this.nc=d;this.ea=e;this.ca=f;this.fa=h;this.ga=2230716170;this.la=139264}g=fU.prototype;
g.ya=function(a,b){return this.ka(null,b,null)};g.ka=function(a,b,c){switch(b instanceof C?b.Aa:null){case "ws-chsk-opts":return this.Tc;case "ajax-chsk-opts":return this.Ic;case "state_":return this.state_;case "impl_":return this.nc;default:return B.ba(this.ca,b,c)}};g.Ia=function(a,b,c){return v.ba(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.ba?b.ba(d,f,e):b.call(null,d,f,e)},c,this)};
g.ta=function(a,b,c){return Z(b,function(d){return Z(b,ql,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,W.j(new S(null,4,5,T,[new S(null,2,5,T,[Sw,this.Tc],null),new S(null,2,5,T,[$n,this.Ic],null),new S(null,2,5,T,[Ly,this.state_],null),new S(null,2,5,T,[tq,this.nc],null)],null),this.ca))};g.Ba=function(){return new rj(this,4,new S(null,4,5,T,[Sw,$n,Ly,tq],null),q(this.ca)?je(this.ca):Fh())};g.ra=function(){return this.ea};g.va=function(){return 4+K(this.ca)};
g.wa=function(){var a=this.fa;return null!=a?a:this.fa=a=-1193508708^Me(this)};g.oa=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Tc,b.Tc)&&D.j(this.Ic,b.Ic)&&D.j(this.state_,b.state_)&&D.j(this.nc,b.nc)&&D.j(this.ca,b.ca)};g.Ka=function(a,b){return Pf(new Jk(null,new p(null,4,[tq,null,Sw,null,Ly,null,$n,null],null),null),b)?R.j(rd(si.j(X,this),this.ea),b):new fU(this.Tc,this.Ic,this.state_,this.nc,this.ea,Eh(R.j(this.ca,b)),null)};
g.pa=function(a,b,c){return q(V.j?V.j(Sw,b):V.call(null,Sw,b))?new fU(c,this.Ic,this.state_,this.nc,this.ea,this.ca,null):q(V.j?V.j($n,b):V.call(null,$n,b))?new fU(this.Tc,c,this.state_,this.nc,this.ea,this.ca,null):q(V.j?V.j(Ly,b):V.call(null,Ly,b))?new fU(this.Tc,this.Ic,c,this.nc,this.ea,this.ca,null):q(V.j?V.j(tq,b):V.call(null,tq,b))?new fU(this.Tc,this.Ic,this.state_,c,this.ea,this.ca,null):new fU(this.Tc,this.Ic,this.state_,this.nc,this.ea,Q.ba(this.ca,b,c),null)};
g.ua=function(){return E(W.j(new S(null,4,5,T,[new Y(Sw,this.Tc),new Y($n,this.Ic),new Y(Ly,this.state_),new Y(tq,this.nc)],null),this.ca))};g.sa=function(a,b){return new fU(this.Tc,this.Ic,this.state_,this.nc,b,this.ca,this.fa)};g.xa=function(a,b){return Hf(b)?this.pa(null,x(b,0),x(b,1)):v.ba(Rc,this,b)};g.uf=function(a,b){a=y(this.nc);return q(a)?OT(a,b):null};g.We=function(a,b,c){a=y(this.nc);if(q(a))return PT(a,b,c);c=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;c=B.j(c,PA);b=VT(c,b);return RT(b)};
g.ne=function(){function a(){var f=Uh(!1);Gl(c.state_,function(h,k,m,n){h=y(c.nc);if(q(h)&&(k=By.aa(h),q(k))){if(q(y(k)))return null;if(q(Xr.aa(n))&&Xh(f))return AT(mz,1528,new Hl(function(){return new S(null,1,5,T,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),662871680),OT(h,ko),Vh(c.nc,b())}return null});return bU(e,cs.aa(y(c.state_))).ne(null)}function b(){Sd(c.state_,Rd);return eU(d,cs.aa(y(c.state_))).ne(null)}var c=this,d=Q.ba(c.Ic,Ly,c.state_),e=Q.ba(c.Tc,Ly,c.state_);Vh(c.nc,
function(){var f=a();return q(f)?f:b()}());return this};
function gU(a,b,c,d){var e=function(){switch(a instanceof C?a.Aa:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.Aa:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.aa(e)].join(""));}default:throw Error(["No matching clause: ",t.aa(h)].join(""));}}();return[t.aa(f),"//",NS(M([b,c]))].join("")}
function hU(a,b,c){function d(n){return n.ia?n.ia():n.call(null)}var e=yc(Eo);c=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;var f=B.j(c,Iu),h=B.j(c,Et);B.j(c,mA);var k=kQ(null,null),m=kQ(1,null);LP(function(){var n=function(){function u(w){var A=w[1];if(7===A)return w[2]=w[2],w[1]=3,On;if(1===A)return w[2]=null,w[1]=2,On;if(4===A){A=w[8];A=w[2];var G=P(A,0,null),I=P(A,1,null),F=D.j(I,k)||null==G;w[7]=F;w[8]=G;w[9]=I;w[10]=A;w[1]=q(F)?5:6;return On}if(15===A)return A=w[8],w[2]=A,w[1]=16,On;if(13===A)return w[2]=
w[2],w[1]=10,On;if(6===A)return A=w[8],w[1]=yc(null==A)?8:9,On;if(3===A)return iQ(w,w[2]);if(12===A)return w[2]=!1,w[1]=13,On;if(2===A)return sQ(w,4,new S(null,2,5,T,[a,k],null));if(11===A)return w[2]=!0,w[1]=13,On;if(9===A)return w[2]=!1,w[1]=10,On;if(5===A)return w[2]=null,w[1]=7,On;if(14===A)return A=w[8],A=yh(zk,A),w[2]=A,w[1]=16,On;if(16===A){A=w[8];var N=w[2],O=B.j(N,Lp);A=d(function(){return function(){try{q(f)&&AT(vw,1727,new Hl(function(){return new S(null,2,5,T,["Pre-handler event: %s",
O],null)}),-1862387925);var U=q(e)?function(){try{if(Ff(N)&&lS(new Jk(null,new p(null,11,[Tv,null,Dr,null,Jt,null,hx,null,sp,null,Lp,null,kB,null,et,null,uu,null,ou,null,Ot,null],null),null),N)){var wa=null!=N&&(N.ga&64||l===N.Ja)?yh(zk,N):N,xa=B.j(wa,Dr),Ra=B.j(wa,Ot),ka=B.j(wa,hx),oa=B.j(wa,et),Ca=B.j(wa,uu),ua=B.j(wa,Jt),Ba=B.j(wa,Lp),Ua=B.j(wa,Tv);var ac=xa instanceof SP&&Nf(Ra)&&ka instanceof Th&&oa instanceof Th&&Ff(Ca)&&"string"===typeof ua&&!VB(ua)&&null==GT(Ba)&&(null==Ua||Nf(Ua))}else ac=
!1;var yb=ac?null:PR}catch(ec){if(ec instanceof Error)yb=ec;else throw ec;}return null==yb?N:QR(1730,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Ff(N)&&lS(new Jk(null,new p(null,6,[Dr,null,vo,null,Lp,null,kB,null,ou,null,Ot,null],null),null),N)){var wa=null!=N&&(N.ga&64||l===N.Ja)?yh(zk,N):N,xa=B.j(wa,Dr),Ra=B.j(wa,Ot),ka=B.j(wa,vo),oa=B.j(wa,Lp);var Ca=xa instanceof SP&&Nf(Ra)&&ka instanceof Th&&null==GT(oa)}else Ca=!1;var ua=Ca?null:PR}catch(Ba){if(Ba instanceof Error)ua=Ba;else throw Ba;
}return null==ua?N:QR(1731,"(client-event-msg? event-msg)",N,ua)}();return b.aa?b.aa(U):b.call(null,U)}catch(wa){var ea=wa;try{return q(h)?h.j?h.j(ea,N):h.call(null,ea,N):AT(Hp,1736,new Hl(function(){return new S(null,3,5,T,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),-1366883662)}catch(xa){var va=xa;return AT(Hp,1737,new Hl(function(){return new S(null,3,5,T,[va,"Chsk router `error-handler` error: %s",O],null)}),-11109841)}}}}());w[11]=A;w[2]=null;w[1]=2;return On}return 10===A?(w[1]=
q(w[2])?14:15,On):8===A?(A=w[8],G=l===A.Ja,w[1]=q(A.ga&64||G)?11:12,On):null}return function(){function w(I){for(;;){a:try{for(;;){var F=u(I);if(!V(F,On)){var N=F;break a}}}catch(O){N=O;I[2]=N;if(E(I[4]))I[1]=H(I[4]);else throw N;N=On}if(!V(N,On))return N}}function A(){var I=[null,null,null,null,null,null,null,null,null,null,null,null];I[0]=G;I[1]=1;return I}var G=null;G=function(I){switch(arguments.length){case 0:return A.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);
};G.ia=A;G.aa=w;return G}()}(),r=function(){var u=n();u[6]=m;return u}();return fQ(r)});return function(){return eP(k)}}function iU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new De(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=P(d,0,null);d=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d;B.j(d,Iu);B.j(d,Et);return hU(b,c,d)};var jU={},kU={},lU=[];function mU(a,b){var c=kU[a];if(void 0!==c)return c;try{lU.push(a);var d=jU[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};jU[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,mU,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{lU.pop()}return d.exports}mU.cache={};mU.resolve=function(a){return a};
function DU(a){return mU(a,{})};var nU=DU(5);var oU=DU(14);var EU={};var FU={},GU="undefined"!==typeof window&&null!=window.document,HU=new Jk(null,new p(null,2,["aria",null,"data",null],null),null);function IU(a){return 2>K(a)?a.toUpperCase():[Sg.ba(a,0,1).toUpperCase(),Sg.j(a,1)].join("")}function JU(a){if("string"===typeof a)return a;a=bh(a);var b=TB(a,/-/),c=E(b);b=H(c);c=J(c);return q(HU.aa?HU.aa(b):HU.call(null,b))?a:zh(t,b,ci.j(IU,c))}
function KU(a){var b=function(){if(vf(a)){var c=a.displayName;q(c)||(c=a.name,c="string"===typeof c&&E(c)?c:null)}else c=!1;if(q(c))return c;c=null!=a&&(a.la&4096||l===a.Bg)?bh(a):!1;if(q(c))return c;c=yf(a);return Ff(c)?fz.aa(c):null}();return q(b)?OB(t.aa(b),"$","."):null}function LU(a){return a instanceof C||a instanceof z}
var MU=function MU(a){switch(arguments.length){case 0:return MU.ia();case 1:return MU.aa(arguments[0]);case 2:return MU.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new De(c.slice(2),0,null);return MU.da(arguments[0],arguments[1],c)}};MU.ia=function(){return null};MU.aa=function(a){return Cf(a)?(a=Sh(function(b){return q(b)?LU(b)?bh(b):b:null},a),E(a)?QB(" ",a):null):LU(a)?bh(a):a};
MU.j=function(a,b){return q(a)?q(b)?[t.aa(MU.aa(a))," ",t.aa(MU.aa(b))].join(""):MU.aa(a):MU.aa(b)};MU.da=function(a,b,c){return v.ba(MU,MU.j(a,b),c)};MU.qa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.da(b,a,c)};MU.na=2;var NU=!1;function OU(a){if(Ff(a))try{var b=B.j(a,zA)}catch(c){b=null}else b=null;return b}
function PU(a){var b=zA.aa(yf(a));if(q(b))return b;b=OU(P(a,1,null));if(q(b))return b;b=P(a,0,null);switch(b instanceof C?b.Aa:null){case "\x3e":case "f\x3e":return OU(P(a,2,null));case "r\x3e":return a=P(a,2,null),null==a?null:a.key;default:return null}};var QU=0;function RU(a){return setTimeout(a,16)}var TU=GU?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(q(b))return b;b=a.webkitRequestAnimationFrame;if(q(b))return b;b=a.mozRequestAnimationFrame;if(q(b))return b;b=a.msRequestAnimationFrame;return q(b)?b:RU}().bind(a)}():RU;function WU(a,b){return a.Y-b.Y}function YU(){return null}function ZU(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.ia?d.ia():d.call(null);c+=1}else return null}
function fV(a,b,c){b.push(c);return a.schedule()}function gV(){this.O=!1}g=gV.prototype;g.flush_after_render=function(){var a=this.G;if(null==a)return null;this.G=null;return ZU(a)};g.queue_render=function(a){null==this.K&&(this.K=[]);return fV(this,this.K,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.O)return null;this.O=!0;return TU.aa?TU.aa(a):TU.call(null,a)};g.flush_before_flush=function(){var a=this.I;if(null==a)return null;this.I=null;return ZU(a)};
g.flush_queues=function(){this.flush_before_flush();YU();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.O=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.I&&(this.I=[]);return fV(this,this.I,a)};g.add_after_render=function(a){null==this.G&&(this.G=[]);return fV(this,this.G,a)};
g.flush_render=function(){var a=this.K;if(null==a)return null;this.K=null;a:{a.sort(WU);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var CV=new gV;function DV(a){if(q(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return CV.queue_render(a)};function EV(a){if(null!=a&&null!=a.Rg)a=a.id;else{var b=EV[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=EV._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("Compiler.get-id",a);}return a}function FV(a,b){if(null!=a&&null!=a.mc)a=a.mc(a,b);else{var c=FV[pa(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=FV._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Compiler.as-element",a);}return a}
function GV(a,b,c,d,e){if(null!=a&&null!=a.Uc)a=a.Uc(a,b,c,d,e);else{var f=GV[pa(null==a?null:a)];if(null!=f)a=f.za?f.za(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=GV._,null!=f)a=f.za?f.za(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Cc("Compiler.make-element",a);}return a};var HV;function IV(a,b){b.captured=null;a:{var c=HV;HV=b;try{var d=a.ia?a.ia():a.call(null);break a}finally{HV=c}d=void 0}a=b.captured;b.C=!1;a:{c=b.F;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function JV(a){var b=HV;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function KV(a,b,c){a.oe=Q.ba(a.oe,b,c);return a.Ra=null}
function LV(a,b){a.oe=R.j(a.oe,b);return a.Ra=null}function MV(a,b,c){var d=a.Ra;d=null==d?a.Ra=vg(function(m,n,r){m.push(n);m.push(r);return m},[],a.oe):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.ja?k.ja(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function NV(a,b,c,d){Jd(a,["#object[reagent.ratom.",t.aa(c)," "].join(""));a:{c=HV;HV=null;try{var e=d;break a}finally{HV=c}e=void 0}ql(e,a,b);return Jd(a,"]")}var OV=null;
function PV(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.oe=d;this.ga=2154201088;this.la=114690}g=PV.prototype;g.ta=function(a,b,c){return NV(b,c,"RAtom",new p(null,1,[Fl,this.Ib(null)],null))};g.ra=function(){return this.meta};g.wa=function(){return ya(this)};g.oa=function(a,b){return this===b};g.xh=function(a,b){a=this.state;this.state=b;null!=this.oe&&MV(this,a,b);return b};g.zh=function(a,b){return this.xh(null,b.aa?b.aa(this.state):b.call(null,this.state))};
g.Ah=function(a,b,c){return this.xh(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.Bh=function(a,b,c,d){return this.xh(null,b.ba?b.ba(this.state,c,d):b.call(null,this.state,c,d))};g.Ch=function(a,b,c,d,e){return this.xh(null,Bh(b,this.state,c,d,e))};g.R=function(a,b){MV(this,a,b)};g.Dg=function(a,b,c){return KV(this,b,c)};g.Eg=function(a,b){return LV(this,b)};g.sa=function(a,b){return new PV(this.state,b,this.validator,this.oe)};g.Ib=function(){JV(this);return this.state};
function QV(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=QV[pa(null==a?null:a)];if(null!=b)a=b.aa?b.aa(a):b.call(null,a);else if(b=QV._,null!=b)a=b.aa?b.aa(a):b.call(null,a);else throw Cc("IDisposable.dispose!",a);}return a}function RV(a,b,c,d){return a._handle_change(b,c,d)}function SV(a){this.f=a;this.state=null;this.C=!0;this.Bb=!1;this.P=this.B=this.oe=this.F=null;this.ga=2153807872;this.la=114690}g=SV.prototype;g._peek_at=function(){var a=HV;HV=null;try{return this.Ib(null)}finally{HV=a}};
g._handle_change=function(a,b,c){return b===c||this.C?null:null==this.B?(this.C=!0,null==OV&&(OV=[],!1===CV.O&&CV.schedule()),OV.push(this)):!0===this.B?this._run(!1):this.B.aa?this.B.aa(this):this.B.call(null,this)};
g._update_watching=function(a){var b=Mk(a),c=Mk(this.F);this.F=a;a=E(KH.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.La(null,f);Pd(h,this,RV);f+=1}else if(a=E(a))d=a,If(d)?(a=ae(d),f=be(d),d=a,e=K(a),a=f):(a=H(d),Pd(a,this,RV),a=J(d),d=null,e=0),f=0;else break;b=E(KH.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.La(null,e),Sd(a,this),e+=1;else if(b=E(b))c=b,If(c)?(b=ae(c),d=be(c),c=b,a=K(b),b=d,d=a):(a=H(c),Sd(a,this),b=J(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.C&&null!=this.F?this._run(!0):null};g._try_capture=function(a){try{return this.P=null,IV(a,this)}catch(b){return this.P=this.state=a=b,this.C=!1}};g._run=function(a){var b=this.state;a=q(a)?this._try_capture(this.f):IV(this.f,this);this.Bb||(this.state=a,null==this.oe||D.j(b,a)||MV(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;a=B.j(b,Jw);var c=B.j(b,vG),d=B.j(b,Om);b=B.j(b,Wn);null!=a&&(this.B=a);null!=c&&(this.Mg=c);null!=d&&(this.Cb=d);return null!=b?this.Bb=b:null};g.ta=function(a,b,c){return NV(b,c,"Reaction",new p(null,1,[Fl,this.Ib(null)],null))};g.wa=function(){return ya(this)};g.oa=function(a,b){return this===b};
g.Ma=function(){var a=this.state,b=this.F;this.B=this.state=this.F=null;this.C=!0;b=E(Mk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.La(null,e);Sd(f,this);e+=1}else if(b=E(b))c=b,If(c)?(b=ae(c),e=be(c),c=b,d=K(b),b=e):(b=H(c),Sd(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.Cb&&this.Cb(a);a=this.ih;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.aa?d.aa(this):d.call(null,this),c+=1;else return null};g.xh=function(a,b){a=this.state;this.state=b;this.Mg(a,b);MV(this,a,b);return b};
g.zh=function(a,b){var c=this;return c.xh(null,function(){var d=c._peek_at();return b.aa?b.aa(d):b.call(null,d)}())};g.Ah=function(a,b,c){var d=this;return d.xh(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.Bh=function(a,b,c,d){var e=this;return e.xh(null,function(){var f=e._peek_at();return b.ba?b.ba(f,c,d):b.call(null,f,c,d)}())};g.Ch=function(a,b,c,d,e){return this.xh(null,Bh(b,this._peek_at(),c,d,e))};g.R=function(a,b){MV(this,a,b)};
g.Dg=function(a,b,c){return KV(this,b,c)};g.Eg=function(a,b){a=Bf(this.oe);LV(this,b);return!a&&Bf(this.oe)&&null==this.B?this.Ma(null):null};g.Ib=function(){var a=this.P;if(null!=a)throw a;(a=null==HV)&&(TV.ia?TV.ia():TV.call(null));a&&null==this.B?this.C&&(a=this.state,this.state=this.f.ia?this.f.ia():this.f.call(null),null==this.oe||D.j(a,this.state)||MV(this,a,this.state)):(JV(this),this.C&&this._run(!1));return this.state};
function TV(){for(;;){var a=OV;if(null==a)return null;OV=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}YU=TV;function UV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new De(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.ga&64||l===c.Ja)?yh(zk,c):c;c=B.j(e,Jw);d=B.j(e,vG);e=B.j(e,Om);b=new SV(b);b._set_opts(new p(null,3,[Jw,c,vG,d,Om,e],null));return b}var VV=UV(null);
function WV(a,b){var c=XV,d=VV,e=IV(a,d);null!=d.F&&(VV=UV(null),d._set_opts(c),d.f=a,d.B=function(){return DV.aa?DV.aa(b):DV.call(null,b)},b.cljsRatom=d);return e};var YV;function ZV(a,b){var c=b.argv;if(null==c){c=T;a=a.constructor;a:for(var d=hb(b),e=d.length,f=X,h=0;;)if(h<e){var k=d[h];f=Q.ba(f,ah.aa(k),ib(b,k));h+=1}else break a;b=new S(null,2,5,c,[a,f],null)}else b=c;return b}function $V(a){var b;if(b=vf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.D);return b}
function aW(a,b){for(;;){var c=a.D,d=!0===a.cd?c.call(a,a):function(){var e=ZV(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,bf(e,1));case 3:return c.call(a,bf(e,1),bf(e,2));case 4:return c.call(a,bf(e,1),bf(e,2),bf(e,3));case 5:return c.call(a,bf(e,1),bf(e,2),bf(e,3),bf(e,4));default:return c.apply(a,Ic(e).slice(1))}}();if(Hf(d))return FV(b,d);if(Nf(d))d=$V(d)?function(e,f,h,k,m){return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-
0);w<A.length;)A[w]=arguments[w+0],++w;w=new De(A,0,null)}return r.call(this,w)}function r(u){return FV(f,zh(Zi,m,u))}n.na=0;n.qa=function(u){u=E(u);return r(u)};n.da=r;return n}()}(a,b,c,null,d):d,a.D=d;else return d}}var XV=new p(null,1,[Wn,!0],null);
function bW(a,b){switch(a instanceof C?a.Aa:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=P(e,1,null),e=Ff(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Ud;d=null!=d?d:c.Ud=new PV(null,null,null,null);return Vh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,ZV(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,ZV(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,ZV(this,c))};case "shouldComponentUpdate":return function(c){var d=NU;if(q(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return Dh.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,ZV(this,this.props),ZV(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,ZV(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,ZV(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,ZV(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ib(this,"cljsRatom");null!=c&&QV(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function cW(a,b){a=bW(a,b);return q(a)?a:b}var dW=new p(null,2,[DO,null,Lz,null],null),eW=function(a){var b=Uh(X);return function(c){var d=B.j(y(b),c);if(null!=d)return d;d=a.aa?a.aa(c):a.call(null,c);Wh.ja(b,Q,c,d);return d}}(function(a){if("string"===typeof a)return a;a=bh(a);a=OB(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=TB(a,/-/);var b=E(a);a=H(b);b=J(b);return zh(t,a,ci.j(IU,b))});
function fW(a){return vg(function(b,c,d){return Q.ba(b,ah.aa(eW(c)),d)},X,a)}
function gW(a,b){var c=function(){var h=tu.aa(a);return q(h)?h:dw.aa(a)}(),d=null==tu.aa(a),e=function(){var h=ZF.aa(a);if(q(h))return h;h=KU(c);return q(h)?h:t.aa(Nb("reagent"))}(),f=vg(function(h,k,m){return Q.ba(h,k,cW(k,m))},X,a);return Q.da(f,ZF,e,M([Rs,d,tu,c,dw,function(){var h=this,k=ib(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?WV(function(){a:{var m=YV;YV=h;try{var n=aW(h,b);break a}finally{YV=m}n=void 0}return n},h):k._run(!1)}]))}
function hW(a){return vg(function(b,c,d){c=bh(c);b[c]=d;return b},{},a)}function iW(a,b){return gW(Ek.da(M([dW,fW(a)])),b)}var jW=new S(null,5,5,T,[py,Qv,PB,RB,bG],null);
function kW(a,b){function c(k,m,n){nU.Component.call(this,k,m,n);q(h)&&(h.j?h.j(this,k):h.call(null,this,k));q(f)&&(this.state=f.aa?f.aa(this):f.call(null,this));this.Y=QU+=1;return this}a=iW(a,b);b=hW(Ch(R,a,ZF,En,my,M([dw,tu,jW])));var d=hW(Gk(a,jW)),e=ZF.aa(a),f=En.aa(a),h=my.aa(a);lb(c.prototype,nU.Component.prototype,b);q(dw.aa(a))&&(c.prototype.render=dw.aa(a));q(tu.aa(a))&&(c.prototype.D=tu.aa(a));q(Rs.aa(a))&&(c.prototype.cd=Rs.aa(a));lb(c,nU.Component,d);q(e)&&(c.displayName=e,c.Kb=e,c.kc=
function(k){return Jd(k,e)});c.$b=!0;return c.prototype.constructor=c}function lW(a,b,c){a=EV(a);return b[a]=c}
function mW(a,b){for(;;){var c=b.D,d=b.argv,e=yh(c,d);if(Hf(e))return FV(a,e);if(Nf(e))c=$V(e)?function(f,h,k,m,n,r){return function(){function u(A){var G=null;if(0<arguments.length){G=0;for(var I=Array(arguments.length-0);G<I.length;)I[G]=arguments[G+0],++G;G=new De(I,0,null)}return w.call(this,G)}function w(A){return FV(f,zh(Zi,r,A))}u.na=0;u.qa=function(A){A=E(A);return w(A)};u.da=w;return u}()}(a,b,c,null,d,e):e,b.D=c;else return e}}
function nW(a,b){var c=b.argv,d=b.D;b=nU.useState(0);P(b,0,null);var e=P(b,1,null),f=nU.useRef();q(f.current)||function(){var k={forceUpdate:function(){return e.aa?e.aa(Oe):e.call(null,Oe)}};k.Y=QU+=1;k.constructor=d;k.D=d;return f.current=k}();var h=f.current;b=ib(h,"cljsRatom");nU.useEffect(function(){return function(){var k=ib(h,"cljsRatom");return null==k?null:QV(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?WV(function(){a:{var k=YV;YV=h;try{var m=mW(a,h);break a}finally{YV=k}m=void 0}return m},
h):b._run(!1)}function oW(a,b){a=a.argv;b=b.argv;if(!1===NU)try{return D.j(a,b)}catch(c){return!1}else return!1}function pW(a,b){function c(e){return nW(a,e)}var d=ib(b,EV(a));if(q(d))return d;c.displayName=KU(b);d=nU.memo(c,oW);lW(a,b,d);return d};var qW=new Jk(null,new p(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function rW(a,b,c,d){var e=X;e=null!=e&&(e.ga&64||l===e.Ja)?yh(zk,e):e;e=B.j(e,av);if(a===document.activeElement&&Pf(qW,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(Dh.j(f,c))return CV.add_after_render(function(){return sW.aa?sW.aa(d):sW.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.J=b;a.value=b;vf(e)&&(e.aa?e.aa(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.J=b;a.value=b;return vf(e)?e.aa?e.aa(b):e.call(null,b):null}
function sW(a){if(q(a.T)){a.ob=!1;var b=a.xd,c=a.J,d=a.Da;return Dh.j(b,c)?rW(d,b,c,a):null}return null}function tW(a,b,c){a.J=c.target.value;q(a.ob)||(a.ob=!0,CV.add_after_render(function(){return sW(a)}));return b.aa?b.aa(c):b.call(null,c)}
function uW(a){var b=YV;if(q(null!=a?function(){var f=a.hasOwnProperty("onChange");return q(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;q(b.T)||(b.T=!0,b.J=c);q(b.Zc)||(b.Zc=vf(e)?function(f){b.Da=f;return e.aa?e.aa(f):e.call(null,f)}:q(q(e)?e.hasOwnProperty("current"):e)?function(f){b.Da=f;return e.current=f}:function(f){return b.Da=f});b.xd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return tW(b,d,f)};a.ref=b.Zc}}
var vW=new p(null,4,[HF,"ReagentInput",LH,sW,Iq,function(a){return a.T=null},rz,function(a,b,c,d,e){uW(c);return GV(e,a,b,c,d)}],null);var wW={},xW,yW=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,zW={"class":"className","for":"htmlFor",charset:"charSet"};function AW(a,b){return a.hasOwnProperty(b)?ib(a,b):null}function BW(a,b,c){if(LU(b)){var d=AW(zW,bh(b));null==d?(d=JU(b),b=bh(b),b=zW[b]=d):b=d}c=CW.aa?CW.aa(c):CW.call(null,c);a[b]=c;return a}
function CW(a){return"object"!==pa(a)?a:LU(a)?bh(a):Ff(a)?vg(BW,{},a):Cf(a)?Rl(a):Nf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){return yh(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}():Rl(a)}var DW={};function EW(a,b,c){if(LU(b)){var d=AW(DW,bh(b));null==d?(d=JU(b),b=bh(b),b=DW[b]=d):b=d}c=CW(c);a[b]=c;return a}
function FW(a){return"object"!==pa(a)?a:LU(a)?bh(a):Ff(a)?vg(EW,{},a):Cf(a)?Rl(a):Nf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new De(f,0,null)}return c.call(this,e)}function c(d){return yh(a,d)}b.na=0;b.qa=function(d){d=E(d);return c(d)};b.da=c;return b}():Rl(a)}
function GW(a,b){var c=b.id;b=b.className;c=null!=c&&null==kB.aa(a)?Q.ba(a,kB,c):a;return q(b)?Q.ba(c,Oy,MU.j(b,function(){var d=Oy.aa(a);return q(d)?d:kx.aa(a)}())):c}function HW(a,b,c,d,e){switch(K(b)-e){case 0:return nU.createElement(c,d);case 1:return nU.createElement(c,d,FV(a,P(b,e,null)));default:return nU.createElement.apply(null,vg(function(f,h,k){h>=e&&f.push(FV(a,k));return f},[c,d],b))}}function IW(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ie=d}
function JW(a,b,c){var d=ib(a,EV(c));null==d?$V(a)?a=lW(c,a,a):(d=yf(a),d=Q.ba(d,rz,a),d=kW(d,c),a=lW(c,a,d)):a=d;c={};c.argv=b;b=PU(b);null!=b&&(c.key=b);return nU.createElement(a,c)}function KW(a,b,c,d){var e={};e.D=a;e.argv=dj(b,c,K(b));b=PU(b);null!=b&&(e.key=b);return nU.createElement(pW(d,a),e)}function LW(a,b,c){var d;if(d=vf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?JW(a,b,c):KW(a,b,1,c)}var MW={};
function NW(a,b,c,d){var e=a.tag,f=P(b,c,null),h=null==f||Ff(f),k=function(){var n=h?f:null;var r=Oy.aa(n);n=GW(q(r)?Q.ba(n,Oy,MU.aa(r)):n,a);n=q(a.ie)?FW(n):CW(n);return q(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.gh;if(q(n))return n;n=kW(vW,d);return d.gh=n}(),FV(d,xf(new S(null,6,5,T,[m,b,e,k,c,d],null),yf(b)));m=OU(yf(b));null!=m&&(k.key=m);return GV(d,b,e,k,c)}
function OW(a,b){return Ic(ci.j(function(c){return FV(b,c)},a))}
function PW(a,b,c){null==b&&console.error("vec-to-elem",xl.da(M([a])));var d=P(a,0,null);switch(d instanceof C?d.Aa:null){case "\x3e":return c=P(a,1,null),NW(new IW(c,null,null,null),a,2,b);case "r\x3e":c=P(a,1,null);d=P(a,2,null);d=q(d)?d:{};var e=OU(yf(a));null!=e&&(d.key=e);return GV(b,a,c,d,3);case "f\x3e":return KW(P(a,1,null),a,2,b);case "\x3c\x3e":return d=P(a,1,null),c=null==d||Ff(d),d=CW(c?d:null),d=q(d)?d:{},c=1+(c?1:0),e=PU(a),null!=e&&(d.key=e),GV(b,a,nU.Fragment,d,c);default:if(LU(d)||
"string"===typeof d)a:for(;;)switch(c=P(a,0,null),c=bh(c),d=c.indexOf("\x3e"),d){case -1:d=AW(MW,c);if(null==d){var f=J(el(yW,bh(c)));d=P(f,0,null);e=P(f,1,null);f=P(f,2,null);f=null==f?null:OB(f,/\./," ");var h=Dh.j(-1,d.indexOf("-"));d=new IW(d,e,f,h);c=MW[c]=d}else c=d;a=NW(c,a,1,b);break a;case 0:a=null;break a;default:a=xf(new S(null,2,5,T,[Sg.ba(c,0,d),Q.ba(xf(a,null),0,Sg.j(c,d+1))],null),yf(a))}else a=c.ba?c.ba(d,a,b):c.call(null,d,a,b);return a}}
var QW=function(a){var b=Nb("G__"),c=q(no.aa(a))?LW:JW;if("undefined"===typeof EU||"undefined"===typeof FU||"undefined"===typeof wW||"undefined"===typeof xW)xW=function(d,e,f,h){this.Dc=d;this.id=e;this.xb=f;this.Me=h;this.ga=393216;this.la=0},xW.prototype.sa=function(d,e){return new xW(this.Dc,this.id,this.xb,e)},xW.prototype.ra=function(){return this.Me},xW.prototype.Rg=function(){return this.id},xW.prototype.mc=function(d,e){d=this.xb;return"object"!==pa(e)?e:Hf(e)?PW(e,this,d):Lf(e)?OW(e,this):
LU(e)?bh(e):(null!=e?e.ga&2147483648||l===e.Za||(e.ga?0:Ac(Ld,e)):Ac(Ld,e))?xl.da(M([e])):e},xW.prototype.Uc=function(d,e,f,h,k){return HW(this,e,f,h,k)},xW.$b=!0,xW.Kb="reagent.impl.template/t_reagent$impl$template29590",xW.kc=function(d){return Jd(d,"reagent.impl.template/t_reagent$impl$template29590")};return new xW(a,b,c,X)}(X);var RW=Uh(X);function SW(a,b,c){var d=NU;NU=!0;try{return oU.render(a.ia?a.ia():a.call(null),b,function(){var e=NU;NU=!1;try{return Wh.ja(RW,Q,b,a),CV.flush_after_render(),null!=c?c.ia?c.ia():c.call(null):null}finally{NU=e}})}finally{NU=d}}function TW(a){var b=document.getElementById("app");TV();var c=vf(QW)?new S(null,2,5,T,[QW,QW],null):new S(null,2,5,T,[QW,Yq.aa(QW)],null),d=P(c,0,null);c=P(c,1,null);return SW(function(){return FV(d,vf(a)?a.ia?a.ia():a.call(null):a)},b,c)};var UU=DU(15);var VU=DU(68);var XU=DU(69);DU(70);var UW=DU(82);var VW=DU(130);var WW=DU(153);var module$node_modules$ol$style=DU(232);var module$node_modules$ol$Map=DU(250);var XW=DU(254);var YW=DU(312);var ZW=DU(347);var $W=function(a,b,c){var d=P(c,0,null),e=null!=d&&(d.ga&64||l===d.Ja)?yh(zk,d):d,f=B.j(e,rB),h=B.ba(e,ux,PS.da(M([os,20]))),k=B.ba(e,Jt,function(){var ka=js.aa(e);return q(ka)?ka:OS()}()),m=B.j(e,VA),n=B.ba(e,Py,sv),r=B.j(e,eu),u=B.ba(e,pq,or),w=B.j(e,Tn),A=B.j(e,en),G=B.j(e,fr);d=B.ba(e,zB,oP(2048));var I=B.ba(e,yz,bS),F=B.ba(e,iw,!0);null!=P(c,1,null)&&AT(mz,1594,new Hl(function(){return new S(null,1,5,T,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),191922227);
Pf(e,Wm)&&AT(mz,1595,new Hl(function(){return new S(null,1,5,T,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),978555328);("string"!==typeof b||VB(b))&&AT(mz,1598,new Hl(function(){return new S(null,1,5,T,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),-646677344);var N=MT(n);n=function(){if(q(cS)){var ka=cS.location;var oa=q(ka)?new p(null,7,[lq,ka.href,VA,ka.protocol,lu,ka.hostname,fr,ka.host,$p,ka.pathname,
br,ka.search,iA,ka.hash],null):null}else oa=null;ka=q(a)?a:$p.aa(oa);var Ca=Az.aa(e);if(q(Ca))return new S(null,2,5,T,[Ca.ba?Ca.ba(ka,oa,Aq):Ca.call(null,ka,oa,Aq),Ca.ba?Ca.ba(ka,oa,vz):Ca.call(null,ka,oa,vz)],null);q(m)?Ca=m:(Ca=VA.aa(oa),Ca=q(Ca)?Ca:Xn);oa=q(G)?q(w)?[t.aa(G),":",t.aa(w)].join(""):G:q(w)?[t.aa(lu.aa(oa)),":",t.aa(w)].join(""):fr.aa(oa);return new S(null,2,5,T,[gU(Ca,oa,ka,Aq),gU(Ca,oa,ka,vz)],null)}();c=P(n,0,null);var O=P(n,1,null);n=new p(null,3,[Vr,kQ(oP(128),null),vo,kQ(oP(10),
null),lr,function(){var ka=oP(512);return q(F)?jQ(ka,ci.aa(function(oa){return new S(null,2,5,T,[BA,oa],null)})):kQ(ka,null)}()],null);h=new p(null,6,[Jt,k,ax,n,eu,r,en,A,Py,N,ux,h],null);var U=Ek.da(M([h,new p(null,2,[ty,c,yz,I],null)])),ea=Ek.da(M([h,new p(null,3,[ty,O,rB,f,yz,I],null)])),va=new p(null,2,[Sw,U,$n,ea],null);f=NT(function(){var ka=u instanceof C?u.Aa:null;switch(ka){case "ws":return bU(U,b);case "ajax":return eU(ea,b);case "auto":ka=Ek.da(M([new p(null,2,[Ly,Uh(new p(null,4,[pq,or,
fy,!1,yt,!1,cs,b],null)),tq,Uh(null)],null),va]));var oa=R.da(ka,Sw,M([$n,Ly,tq]));oa=Gf(ka)?si.j(X,oa):oa;return new fU(Sw.aa(ka),$n.aa(ka),Ly.aa(ka),tq.aa(ka),null,Eh(oa),null);default:throw Error(["No matching clause: ",t.aa(ka)].join(""));}}());if(q(f)){var wa=Ly.aa(f),xa=Vr.aa(n),Ra=Db.j(QT,f);d=uQ(new S(null,3,5,T,[Vr.aa(n),vo.aa(n),lr.aa(n)],null),d);I=jQ(1,ci.aa(function(ka){var oa=GT(ka);ka=q(oa)?new S(null,2,5,T,[iz,ka],null):ka;oa=P(ka,0,null);var Ca=P(ka,1,null);return new p(null,6,[Dr,
xa,Ot,Ra,vo,wa,Lp,ka,kB,oa,ou,Ca],null)}));rQ(d,I);return new p(null,4,[Ct,f,Dr,I,Ot,Ra,vo,Ly.aa(f)],null)}return AT(mz,1700,new Hl(function(){return new S(null,1,5,T,["Failed to create channel socket"],null)}),-1802705028)}("/chsk",null,M([new p(null,1,[pq,or],null)])),aX=null!=$W&&($W.ga&64||l===$W.Ja)?yh(zk,$W):$W;B.j(aX,Ct);var bX=B.j(aX,Dr);B.j(aX,Ot);B.j(aX,vo);var aV=Uh(function(){return null});
function bV(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,Cq);return new S(null,2,5,T,[Fv,new p(null,1,[GF,function(c){return q(c)?XU(c,{value:b,mode:"clojure",lineNumbers:!1}):null}],null)],null)}function cV(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,bB);return new S(null,2,5,T,[Zp,new p(null,1,[GF,function(c){return q(c)?VU(c,Rl(b)):null}],null)],null)}function dV(a){return new S(null,2,5,T,[Mo,new p(null,1,[IF,new p(null,1,[sG,UU(az.aa(a))],null)],null)],null)}
function eV(a){return new S(null,2,5,T,[Xf,new p(null,1,[IF,new p(null,1,[sG,It.aa(a)],null)],null)],null)}
function cX(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,ns),c=B.j(a,KF),d=B.j(a,Ls),e=B.j(a,tG),f=B.j(a,Iv),h=B.j(a,Ph);return new S(null,2,5,T,[Fv,new p(null,2,[sq,new p(null,1,[Xw,q(b)?b:"500px"],null),GF,function(k){if(q(k)){var m=(new XW.default).readFeature(c,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),n=null==e?null:Rl(e),r=q(f)?function(){var w=null==n?null:VW.fromLonLat(n);console.log(["Center projection: ",QB(" ",e)," (WGS84) to ",t.aa(w)," (EPSG:3857)"].join(""));
return w}():n;r=q(r)?r:[0,0];var u=q(d)?new module$node_modules$ol$style.Style(Rl(Ek.da(M([X,function(){var w=wi(d,new S(null,2,5,T,[Ht,$U],null));return q(w)?new p(null,1,[Ht,new module$node_modules$ol$style.Fill({color:UW.asString(w)})],null):null}(),function(){var w=wi(d,new S(null,2,5,T,[JF,$U],null));return q(w)?new p(null,1,[JF,new module$node_modules$ol$style.Stroke({color:UW.asString(w)})],null):null}()])))):null;m=new YW.Vector({features:[m]});m=new ZW.Vector(Rl(Ek.da(M([new p(null,1,[un,
m],null),q(u)?new p(null,1,[sq,u],null):null]))));console.log(aG,u);return new module$node_modules$ol$Map.default({target:k,layers:[new ZW.Tile({source:new YW.OSM}),m],view:new WW.default({center:r,zoom:q(h)?h:4})})}return null}],null)],null)}
function iV(a){return new S(null,2,5,T,[Iz,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(n)],null),new S(null,2,5,T,[hV,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}k=H(e);return hf(new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(k)],null),new S(null,2,5,T,[hV,k],null)],null),d(Fe(e)))}return null}},
null,null)}(fg.aa(a))}()],null)}
function jV(a){return new S(null,2,5,T,[Ay,function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){if(If(e)){var f=ae(e),h=K(f),k=gh(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(n)],null),new S(null,2,5,T,[hV,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?ih(kh(k),d(be(e))):ih(kh(k),null)}k=H(e);return hf(new S(null,3,5,T,[Xf,new p(null,1,[zA,lg.aa(k)],null),new S(null,2,5,T,[hV,k],null)],null),d(Fe(e)))}return null}},
null,null)}(fg.aa(a))}()],null)}
function hV(a){var b=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a,c=B.j(b,lg),d=B.j(b,Ss);b=function(){switch(d instanceof C?d.Aa:null){case "widget.type/html":return eV;case "widget.type/row":return iV;case "widget.type/column":return jV;case "widget.type/vega-lite":return cV;case "widget.type/code":return bV;case "widget.type/markdown":return dV;case "widget.type/geoplot":return cX;default:return new S(null,2,5,T,[Xz,new S(null,3,5,T,[Bq,"Unknown Widget type ",new S(null,2,5,T,[Hq,t.aa(d)],null)],null)],
null)}}();console.log("Render",bh(d));return xf(new S(null,2,5,T,[b,a],null),new p(null,1,[zA,c],null))}
function SU(a){return new S(null,4,5,T,[Ew,new S(null,3,5,T,[es,new p(null,1,[sq,new p(null,1,[My,"Cinzel"],null)],null),"Literate"],null),function(){return function d(c){return new ch(null,function(){for(;;){var e=E(c);if(e){var f=e;if(If(f)){var h=ae(f),k=K(h),m=gh(k);return function(){for(var A=0;;)if(A<k){var G=x(h,A),I=null!=G&&(G.ga&64||l===G.Ja)?yh(zk,G):G,F=I,N=B.j(I,Yf);jh(m,new S(null,4,5,T,[ks,new p(null,1,[zA,N],null),new S(null,3,5,T,[Rh,new p(null,1,[mn,function(O,U,ea,va,wa){return function(){return WO(wa)}}(A,
G,I,F,N,h,k,m,f,e)],null),new S(null,1,5,T,[Rv],null)],null),new S(null,2,5,T,[wG,hV(F)],null)],null));A+=1}else return!0}()?ih(kh(m),d(be(f))):ih(kh(m),null)}var n=H(f),r=null!=n&&(n.ga&64||l===n.Ja)?yh(zk,n):n,u=r,w=B.j(r,Yf);return hf(new S(null,4,5,T,[ks,new p(null,1,[zA,w],null),new S(null,3,5,T,[Rh,new p(null,1,[mn,function(A,G,I,F){return function(){return WO(F)}}(n,r,u,w,f,e)],null),new S(null,1,5,T,[Rv],null)],null),new S(null,2,5,T,[wG,hV(u)],null)],null),d(Fe(f)))}return null}},null,null)}(a)}(),
new S(null,2,5,T,[uG,new S(null,3,5,T,[YF,new p(null,1,[mn,function(){return uO(new S(null,1,5,T,[new p(null,3,[lg,t.aa(tm()),Ss,Vu,Cq,function(){var b=new dc,c=kc,d=jc;kc=!0;jc=function(e){return b.append(e)};try{QD()}finally{jc=d,kc=c}return t.aa(b)}()],null)],null))}],null),new S(null,1,5,T,[$F],null)],null)],null)],null)}
function kV(a){a=null!=a&&(a.ga&64||l===a.Ja)?yh(zk,a):a;var b=B.j(a,ou),c=P(b,0,null);b=P(b,1,null);console.group("Sente");console.log(Gk(a,new S(null,2,5,T,[kB,ou],null)));console.groupEnd();return D.j(wA,c)?uO(b):null}
function dX(){var a=new S(null,7,5,T,[ag,new S(null,2,5,T,[bg(cg,dg,new S(null,2,5,T,[eg,new p(null,1,[fg,new S(null,1,5,T,[gg],null)],null)],null)),hg],null),ig,jg,kg,new S(null,2,5,T,[dg,lg],null),new S(null,1,5,T,[bg(mg,jg,dg,ng)],null)],null);var b=y(og);a=pg.j?pg.j(a,b):pg.call(null,a,b);a=qg(a);return TW(new S(null,2,5,T,[SU,a],null))}function lV(){Vh(aV,iU(bX,kV));vO(function(){console.log("Will re-render...");return dX()});return dX()}ia("literate.app.init",lV);try{lV()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);