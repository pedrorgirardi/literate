var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(Ja,B,qb,F){var g=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;qb.exports=function(){try{if(!Object.assign)return!1;var E=new String("abc");E[5]="de";if("5"===Object.getOwnPropertyNames(E)[0])return!1;var O={};for(E=0;10>E;E++)O["_"+String.fromCharCode(E)]=E;if("0123456789"!==Object.getOwnPropertyNames(O).map(function(y){return O[y]}).join(""))return!1;var x={};"abcdefghijklmnopqrst".split("").forEach(function(y){x[y]=
y});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},x)).join("")?!1:!0}catch(y){return!1}}()?Object.assign:function(E,O){if(null===E||void 0===E)throw new TypeError("Object.assign cannot be called with null or undefined");var x=Object(E);for(var y,v=1;v<arguments.length;v++){var l=Object(arguments[v]);for(var k in l)m.call(l,k)&&(x[k]=l[k]);if(g){y=g(l);for(var d=0;d<y.length;d++)n.call(l,y[d])&&(x[y[d]]=l[y[d]])}}return x}};
shadow$provide[1]=function(Ja,B,qb,F){function g(Z){if(null===Z||"object"!==typeof Z)return null;Z=K&&Z[K]||Z["@@iterator"];return"function"===typeof Z?Z:null}function m(Z){for(var Q="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+Z,q=1;q<arguments.length;q++)Q+="\x26args[]\x3d"+encodeURIComponent(arguments[q]);return"Minified React error #"+Z+"; visit "+Q+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(Z,Q,q){this.props=
Z;this.context=Q;this.refs=R;this.updater=q||H}function E(){}function O(Z,Q,q){this.props=Z;this.context=Q;this.refs=R;this.updater=q||H}function x(Z,Q,q){var N,da={},aa=null,wa=null;if(null!=Q)for(N in void 0!==Q.ref&&(wa=Q.ref),void 0!==Q.key&&(aa=""+Q.key),Q)ka.call(Q,N)&&!ba.hasOwnProperty(N)&&(da[N]=Q[N]);var ua=arguments.length-2;if(1===ua)da.children=q;else if(1<ua){for(var Ea=Array(ua),$a=0;$a<ua;$a++)Ea[$a]=arguments[$a+2];da.children=Ea}if(Z&&Z.defaultProps)for(N in ua=Z.defaultProps,ua)void 0===
da[N]&&(da[N]=ua[N]);return{$$typeof:A,type:Z,key:aa,ref:wa,props:da,_owner:U.current}}function y(Z,Q){return{$$typeof:A,type:Z.type,key:Q,ref:Z.ref,props:Z.props,_owner:Z._owner}}function v(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===A}function l(Z){var Q={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Z.replace(/[=:]/g,function(q){return Q[q]})}function k(Z,Q){return"object"===typeof Z&&null!==Z&&null!=Z.key?l(""+Z.key):Q.toString(36)}function d(Z,Q,q,N,da){var aa=typeof Z;if("undefined"===aa||
"boolean"===aa)Z=null;var wa=!1;if(null===Z)wa=!0;else switch(aa){case "string":case "number":wa=!0;break;case "object":switch(Z.$$typeof){case A:case C:wa=!0}}if(wa)return wa=Z,da=da(wa),Z=""===N?"."+k(wa,0):N,Array.isArray(da)?(q="",null!=Z&&(q=Z.replace(fa,"$\x26/")+"/"),d(da,Q,q,"",function($a){return $a})):null!=da&&(v(da)&&(da=y(da,q+(!da.key||wa&&wa.key===da.key?"":(""+da.key).replace(fa,"$\x26/")+"/")+Z)),Q.push(da)),1;wa=0;N=""===N?".":N+":";if(Array.isArray(Z))for(var ua=0;ua<Z.length;ua++){aa=
Z[ua];var Ea=N+k(aa,ua);wa+=d(aa,Q,q,Ea,da)}else if(Ea=g(Z),"function"===typeof Ea)for(Z=Ea.call(Z),ua=0;!(aa=Z.next()).done;)aa=aa.value,Ea=N+k(aa,ua++),wa+=d(aa,Q,q,Ea,da);else if("object"===aa)throw Q=""+Z,Error(m(31,"[object Object]"===Q?"object with keys {"+Object.keys(Z).join(", ")+"}":Q));return wa}function f(Z,Q,q){if(null==Z)return Z;var N=[],da=0;d(Z,N,"","",function(aa){return Q.call(q,aa,da++)});return N}function a(Z){if(-1===Z._status){var Q=Z._result;Q=Q();Z._status=0;Z._result=Q;Q.then(function(q){0===
Z._status&&(q=q.default,Z._status=1,Z._result=q)},function(q){0===Z._status&&(Z._status=2,Z._result=q)})}if(1===Z._status)return Z._result;throw Z._result;}function e(){var Z=ja.current;if(null===Z)throw Error(m(321));return Z}var p=B(0),A=60103,C=60106;F.Fragment=60107;F.StrictMode=60108;F.Profiler=60114;var D=60109,P=60110,L=60112;F.Suspense=60113;var G=60115,z=60116;"function"===typeof Symbol&&Symbol.for&&(Ja=Symbol.for,A=Ja("react.element"),C=Ja("react.portal"),F.Fragment=Ja("react.fragment"),
F.StrictMode=Ja("react.strict_mode"),F.Profiler=Ja("react.profiler"),D=Ja("react.provider"),P=Ja("react.context"),L=Ja("react.forward_ref"),F.Suspense=Ja("react.suspense"),G=Ja("react.memo"),z=Ja("react.lazy"));var K="function"===typeof Symbol&&Symbol.iterator,H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};n.prototype.isReactComponent={};n.prototype.setState=function(Z,Q){if("object"!==typeof Z&&"function"!==typeof Z&&
null!=Z)throw Error(m(85));this.updater.enqueueSetState(this,Z,Q,"setState")};n.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};E.prototype=n.prototype;Ja=O.prototype=new E;Ja.constructor=O;p(Ja,n.prototype);Ja.isPureReactComponent=!0;var U={current:null},ka=Object.prototype.hasOwnProperty,ba={key:!0,ref:!0,__self:!0,__source:!0},fa=/\/+/g,ja={current:null};Ja={ReactCurrentDispatcher:ja,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:U,IsSomeRendererActing:{current:!1},
assign:p};F.Children={map:f,forEach:function(Z,Q,q){f(Z,function(){Q.apply(this,arguments)},q)},count:function(Z){var Q=0;f(Z,function(){Q++});return Q},toArray:function(Z){return f(Z,function(Q){return Q})||[]},only:function(Z){if(!v(Z))throw Error(m(143));return Z}};F.Component=n;F.PureComponent=O;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ja;F.cloneElement=function(Z,Q,q){if(null===Z||void 0===Z)throw Error(m(267,Z));var N=p({},Z.props),da=Z.key,aa=Z.ref,wa=Z._owner;if(null!=Q){void 0!==
Q.ref&&(aa=Q.ref,wa=U.current);void 0!==Q.key&&(da=""+Q.key);if(Z.type&&Z.type.defaultProps)var ua=Z.type.defaultProps;for(Ea in Q)ka.call(Q,Ea)&&!ba.hasOwnProperty(Ea)&&(N[Ea]=void 0===Q[Ea]&&void 0!==ua?ua[Ea]:Q[Ea])}var Ea=arguments.length-2;if(1===Ea)N.children=q;else if(1<Ea){ua=Array(Ea);for(var $a=0;$a<Ea;$a++)ua[$a]=arguments[$a+2];N.children=ua}return{$$typeof:A,type:Z.type,key:da,ref:aa,props:N,_owner:wa}};F.createContext=function(Z,Q){void 0===Q&&(Q=null);Z={$$typeof:P,_calculateChangedBits:Q,
_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null};Z.Provider={$$typeof:D,_context:Z};return Z.Consumer=Z};F.createElement=x;F.createFactory=function(Z){var Q=x.bind(null,Z);Q.type=Z;return Q};F.createRef=function(){return{current:null}};F.forwardRef=function(Z){return{$$typeof:L,render:Z}};F.isValidElement=v;F.lazy=function(Z){return{$$typeof:z,_payload:{_status:-1,_result:Z},_init:a}};F.memo=function(Z,Q){return{$$typeof:G,type:Z,compare:void 0===Q?null:Q}};F.useCallback=
function(Z,Q){return e().useCallback(Z,Q)};F.useContext=function(Z,Q){return e().useContext(Z,Q)};F.useDebugValue=function(){};F.useEffect=function(Z,Q){return e().useEffect(Z,Q)};F.useImperativeHandle=function(Z,Q,q){return e().useImperativeHandle(Z,Q,q)};F.useLayoutEffect=function(Z,Q){return e().useLayoutEffect(Z,Q)};F.useMemo=function(Z,Q){return e().useMemo(Z,Q)};F.useReducer=function(Z,Q,q){return e().useReducer(Z,Q,q)};F.useRef=function(Z){return e().useRef(Z)};F.useState=function(Z){return e().useState(Z)};
F.version="17.0.1"};
shadow$provide[3]=function(Ja,B,qb,F){qb.exports=B(1)};
shadow$provide[4]=function(Ja,B,qb,F){function g(q,N){var da=q.length;q.push(N);a:for(;;){var aa=da-1>>>1,wa=q[aa];if(void 0!==wa&&0<E(wa,N))q[aa]=N,q[da]=wa,da=aa;else break a}}function m(q){q=q[0];return void 0===q?null:q}function n(q){var N=q[0];if(void 0!==N){var da=q.pop();if(da!==N){q[0]=da;var aa=0,wa=q.length;a:for(;aa<wa;){var ua=2*(aa+1)-1,Ea=q[ua],$a=ua+1,kb=q[$a];if(void 0!==Ea&&0>E(Ea,da))void 0!==kb&&0>E(kb,Ea)?(q[aa]=kb,q[$a]=da,aa=$a):(q[aa]=Ea,q[ua]=da,aa=ua);else if(void 0!==kb&&
0>E(kb,da))q[aa]=kb,q[$a]=da,aa=$a;else break a}}return N}return null}function E(q,N){var da=q.sortIndex-N.sortIndex;return 0!==da?da:q.id-N.id}function O(q){for(var N=m(U);null!==N;){if(null===N.callback)n(U);else if(N.startTime<=q)n(U),N.sortIndex=N.expirationTime,g(R,N);else break;N=m(U)}}function x(q){Q=!1;O(q);if(!Z)if(null!==m(R))Z=!0,e(y);else{var N=m(U);null!==N&&p(x,N.startTime-q)}}function y(q,N){Z=!1;Q&&(Q=!1,A());ja=!0;var da=fa;try{O(N);for(ba=m(R);null!==ba&&(!(ba.expirationTime>N)||
q&&!F.unstable_shouldYield());){var aa=ba.callback;if("function"===typeof aa){ba.callback=null;fa=ba.priorityLevel;var wa=aa(ba.expirationTime<=N);N=F.unstable_now();"function"===typeof wa?ba.callback=wa:ba===m(R)&&n(R);O(N)}else n(R);ba=m(R)}if(null!==ba)var ua=!0;else{var Ea=m(U);null!==Ea&&p(x,Ea.startTime-N);ua=!1}return ua}finally{ba=null,fa=da,ja=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var v=performance;F.unstable_now=function(){return v.now()}}else{var l=
Date,k=l.now();F.unstable_now=function(){return l.now()-k}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var d=null,f=null,a=function(){if(null!==d)try{var q=F.unstable_now();d(!0,q);d=null}catch(N){throw setTimeout(a,0),N;}};var e=function(q){null!==d?setTimeout(e,0,q):(d=q,setTimeout(a,0))};var p=function(q,N){f=setTimeout(q,N)};var A=function(){clearTimeout(f)};F.unstable_shouldYield=function(){return!1};Ja=F.unstable_forceFrameRate=function(){}}else{var C=window.setTimeout,
D=window.clearTimeout;"undefined"!==typeof console&&(Ja=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ja&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var P=!1,L=null,
G=-1,z=5,K=0;F.unstable_shouldYield=function(){return F.unstable_now()>=K};Ja=function(){};F.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1E3/q):5};B=new MessageChannel;var H=B.port2;B.port1.onmessage=function(){if(null!==L){var q=F.unstable_now();K=q+z;try{L(!0,q)?H.postMessage(null):(P=!1,L=null)}catch(N){throw H.postMessage(null),N;}}else P=!1};e=function(q){L=
q;P||(P=!0,H.postMessage(null))};p=function(q,N){G=C(function(){q(F.unstable_now())},N)};A=function(){D(G);G=-1}}var R=[],U=[],ka=1,ba=null,fa=3,ja=!1,Z=!1,Q=!1;F.unstable_IdlePriority=5;F.unstable_ImmediatePriority=1;F.unstable_LowPriority=4;F.unstable_NormalPriority=3;F.unstable_Profiling=null;F.unstable_UserBlockingPriority=2;F.unstable_cancelCallback=function(q){q.callback=null};F.unstable_continueExecution=function(){Z||ja||(Z=!0,e(y))};F.unstable_getCurrentPriorityLevel=function(){return fa};
F.unstable_getFirstCallbackNode=function(){return m(R)};F.unstable_next=function(q){switch(fa){case 1:case 2:case 3:var N=3;break;default:N=fa}var da=fa;fa=N;try{return q()}finally{fa=da}};F.unstable_pauseExecution=function(){};F.unstable_requestPaint=Ja;F.unstable_runWithPriority=function(q,N){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var da=fa;fa=q;try{return N()}finally{fa=da}};F.unstable_scheduleCallback=function(q,N,da){var aa=F.unstable_now();"object"===typeof da&&null!==
da?(da=da.delay,da="number"===typeof da&&0<da?aa+da:aa):da=aa;switch(q){case 1:var wa=-1;break;case 2:wa=250;break;case 5:wa=1073741823;break;case 4:wa=1E4;break;default:wa=5E3}wa=da+wa;q={id:ka++,callback:N,priorityLevel:q,startTime:da,expirationTime:wa,sortIndex:-1};da>aa?(q.sortIndex=da,g(U,q),null===m(R)&&q===m(U)&&(Q?A():Q=!0,p(x,da-aa))):(q.sortIndex=wa,g(R,q),Z||ja||(Z=!0,e(y)));return q};F.unstable_wrapCallback=function(q){var N=fa;return function(){var da=fa;fa=N;try{return q.apply(this,
arguments)}finally{fa=da}}}};
shadow$provide[6]=function(Ja,B,qb,F){qb.exports=B(4)};
shadow$provide[7]=function(Ja,B,qb,F){function g(u){for(var I="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+u,ha=1;ha<arguments.length;ha++)I+="\x26args[]\x3d"+encodeURIComponent(arguments[ha]);return"Minified React error #"+u+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(u,I){n(u,I);n(u+"Capture",I)}function n(u,I){vi[u]=I;for(u=0;u<I.length;u++)ah.add(I[u])}function E(u){if(hj.call(Zj,u))return!0;
if(hj.call(ak,u))return!1;if(bk.test(u))return Zj[u]=!0;ak[u]=!0;return!1}function O(u,I,ha,Ra){if(null!==ha&&0===ha.type)return!1;switch(typeof I){case "function":case "symbol":return!0;case "boolean":if(Ra)return!1;if(null!==ha)return!ha.acceptsBooleans;u=u.toLowerCase().slice(0,5);return"data-"!==u&&"aria-"!==u;default:return!1}}function x(u,I,ha,Ra){if(null===I||"undefined"===typeof I||O(u,I,ha,Ra))return!0;if(Ra)return!1;if(null!==ha)switch(ha.type){case 3:return!I;case 4:return!1===I;case 5:return isNaN(I);
case 6:return isNaN(I)||1>I}return!1}function y(u,I,ha,Ra,jb,yb,Ob){this.acceptsBooleans=2===I||3===I||4===I;this.attributeName=Ra;this.attributeNamespace=jb;this.mustUseProperty=ha;this.propertyName=u;this.type=I;this.sanitizeURL=yb;this.removeEmptyString=Ob}function v(u){return u[1].toUpperCase()}function l(u,I,ha,Ra){var jb=rg.hasOwnProperty(I)?rg[I]:null;(null!==jb?0===jb.type:Ra?0:2<I.length&&("o"===I[0]||"O"===I[0])&&("n"===I[1]||"N"===I[1]))||(x(I,ha,jb,Ra)&&(ha=null),Ra||null===jb?E(I)&&(null===
ha?u.removeAttribute(I):u.setAttribute(I,""+ha)):jb.mustUseProperty?u[jb.propertyName]=null===ha?3===jb.type?!1:"":ha:(I=jb.attributeName,Ra=jb.attributeNamespace,null===ha?u.removeAttribute(I):(jb=jb.type,ha=3===jb||4===jb&&!0===ha?"":""+ha,Ra?u.setAttributeNS(Ra,I,ha):u.setAttribute(I,ha))))}function k(u){if(null===u||"object"!==typeof u)return null;u=Gg&&u[Gg]||u["@@iterator"];return"function"===typeof u?u:null}function d(u){if(void 0===Wg)try{throw Error();}catch(ha){var I=ha.stack.trim().match(/\n( *(at )?)/);
Wg=I&&I[1]||""}return"\n"+Wg+u}function f(u,I){if(!u||yj)return"";yj=!0;var ha=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error();},Object.defineProperty(I.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(I,[])}catch(Gc){var Ra=Gc}Reflect.construct(u,[],I)}else{try{I.call()}catch(Gc){Ra=Gc}u.call(I.prototype)}else{try{throw Error();}catch(Gc){Ra=Gc}u()}}catch(Gc){if(Gc&&Ra&&"string"===
typeof Gc.stack){for(var jb=Gc.stack.split("\n"),yb=Ra.stack.split("\n"),Ob=jb.length-1,ec=yb.length-1;1<=Ob&&0<=ec&&jb[Ob]!==yb[ec];)ec--;for(;1<=Ob&&0<=ec;Ob--,ec--)if(jb[Ob]!==yb[ec]){if(1!==Ob||1!==ec){do if(Ob--,ec--,0>ec||jb[Ob]!==yb[ec])return"\n"+jb[Ob].replace(" at new "," at ");while(1<=Ob&&0<=ec)}break}}}finally{yj=!1,Error.prepareStackTrace=ha}return(u=u?u.displayName||u.name:"")?d(u):""}function a(u){switch(u.tag){case 5:return d(u.type);case 16:return d("Lazy");case 13:return d("Suspense");
case 19:return d("SuspenseList");case 0:case 2:case 15:return u=f(u.type,!1),u;case 11:return u=f(u.type.render,!1),u;case 22:return u=f(u.type._render,!1),u;case 1:return u=f(u.type,!0),u;default:return""}}function e(u){if(null==u)return null;if("function"===typeof u)return u.displayName||u.name||null;if("string"===typeof u)return u;switch(u){case Hg:return"Fragment";case ug:return"Portal";case Vh:return"Profiler";case vh:return"StrictMode";case Wf:return"Suspense";case sg:return"SuspenseList"}if("object"===
typeof u)switch(u.$$typeof){case fi:return(u.displayName||"Context")+".Consumer";case qh:return(u._context.displayName||"Context")+".Provider";case vf:var I=u.render;I=I.displayName||I.name||"";return u.displayName||(""!==I?"ForwardRef("+I+")":"ForwardRef");case wi:return e(u.type);case Xg:return e(u._render);case xi:I=u._payload;u=u._init;try{return e(u(I))}catch(ha){}}return null}function p(u){switch(typeof u){case "boolean":case "number":case "object":case "string":case "undefined":return u;default:return""}}
function A(u){var I=u.type;return(u=u.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===I||"radio"===I)}function C(u){var I=A(u)?"checked":"value",ha=Object.getOwnPropertyDescriptor(u.constructor.prototype,I),Ra=""+u[I];if(!u.hasOwnProperty(I)&&"undefined"!==typeof ha&&"function"===typeof ha.get&&"function"===typeof ha.set){var jb=ha.get,yb=ha.set;Object.defineProperty(u,I,{configurable:!0,get:function(){return jb.call(this)},set:function(Ob){Ra=""+Ob;yb.call(this,Ob)}});Object.defineProperty(u,
I,{enumerable:ha.enumerable});return{getValue:function(){return Ra},setValue:function(Ob){Ra=""+Ob},stopTracking:function(){u._valueTracker=null;delete u[I]}}}}function D(u){u._valueTracker||(u._valueTracker=C(u))}function P(u){if(!u)return!1;var I=u._valueTracker;if(!I)return!0;var ha=I.getValue(),Ra="";u&&(Ra=A(u)?u.checked?"true":"false":u.value);u=Ra;return u!==ha?(I.setValue(u),!0):!1}function L(u){u=u||("undefined"!==typeof document?document:void 0);if("undefined"===typeof u)return null;try{return u.activeElement||
u.body}catch(I){return u.body}}function G(u,I){var ha=I.checked;return eg({},I,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=ha?ha:u._wrapperState.initialChecked})}function z(u,I){var ha=null==I.defaultValue?"":I.defaultValue,Ra=null!=I.checked?I.checked:I.defaultChecked;ha=p(null!=I.value?I.value:ha);u._wrapperState={initialChecked:Ra,initialValue:ha,controlled:"checkbox"===I.type||"radio"===I.type?null!=I.checked:null!=I.value}}function K(u,I){I=I.checked;null!=I&&l(u,"checked",
I,!1)}function H(u,I){K(u,I);var ha=p(I.value),Ra=I.type;if(null!=ha)if("number"===Ra){if(0===ha&&""===u.value||u.value!=ha)u.value=""+ha}else u.value!==""+ha&&(u.value=""+ha);else if("submit"===Ra||"reset"===Ra){u.removeAttribute("value");return}I.hasOwnProperty("value")?U(u,I.type,ha):I.hasOwnProperty("defaultValue")&&U(u,I.type,p(I.defaultValue));null==I.checked&&null!=I.defaultChecked&&(u.defaultChecked=!!I.defaultChecked)}function R(u,I,ha){if(I.hasOwnProperty("value")||I.hasOwnProperty("defaultValue")){var Ra=
I.type;if(!("submit"!==Ra&&"reset"!==Ra||void 0!==I.value&&null!==I.value))return;I=""+u._wrapperState.initialValue;ha||I===u.value||(u.value=I);u.defaultValue=I}ha=u.name;""!==ha&&(u.name="");u.defaultChecked=!!u._wrapperState.initialChecked;""!==ha&&(u.name=ha)}function U(u,I,ha){if("number"!==I||L(u.ownerDocument)!==u)null==ha?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+ha&&(u.defaultValue=""+ha)}function ka(u){var I="";Ui.Children.forEach(u,function(ha){null!=ha&&(I+=ha)});
return I}function ba(u,I){u=eg({children:void 0},I);if(I=ka(I.children))u.children=I;return u}function fa(u,I,ha,Ra){u=u.options;if(I){I={};for(var jb=0;jb<ha.length;jb++)I["$"+ha[jb]]=!0;for(ha=0;ha<u.length;ha++)jb=I.hasOwnProperty("$"+u[ha].value),u[ha].selected!==jb&&(u[ha].selected=jb),jb&&Ra&&(u[ha].defaultSelected=!0)}else{ha=""+p(ha);I=null;for(jb=0;jb<u.length;jb++){if(u[jb].value===ha){u[jb].selected=!0;Ra&&(u[jb].defaultSelected=!0);return}null!==I||u[jb].disabled||(I=u[jb])}null!==I&&
(I.selected=!0)}}function ja(u,I){if(null!=I.dangerouslySetInnerHTML)throw Error(g(91));return eg({},I,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Z(u,I){var ha=I.value;if(null==ha){ha=I.children;I=I.defaultValue;if(null!=ha){if(null!=I)throw Error(g(92));if(Array.isArray(ha)){if(!(1>=ha.length))throw Error(g(93));ha=ha[0]}I=ha}null==I&&(I="");ha=I}u._wrapperState={initialValue:p(ha)}}function Q(u,I){var ha=p(I.value),Ra=p(I.defaultValue);null!=ha&&(ha=""+
ha,ha!==u.value&&(u.value=ha),null==I.defaultValue&&u.defaultValue!==ha&&(u.defaultValue=ha));null!=Ra&&(u.defaultValue=""+Ra)}function q(u){var I=u.textContent;I===u._wrapperState.initialValue&&""!==I&&null!==I&&(u.value=I)}function N(u){switch(u){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(u,I){return null==u||"http://www.w3.org/1999/xhtml"===u?N(I):"http://www.w3.org/2000/svg"===u&&
"foreignObject"===I?"http://www.w3.org/1999/xhtml":u}function aa(u,I){if(I){var ha=u.firstChild;if(ha&&ha===u.lastChild&&3===ha.nodeType){ha.nodeValue=I;return}}u.textContent=I}function wa(u,I,ha){return null==I||"boolean"===typeof I||""===I?"":ha||"number"!==typeof I||0===I||gi.hasOwnProperty(u)&&gi[u]?(""+I).trim():I+"px"}function ua(u,I){u=u.style;for(var ha in I)if(I.hasOwnProperty(ha)){var Ra=0===ha.indexOf("--"),jb=wa(ha,I[ha],Ra);"float"===ha&&(ha="cssFloat");Ra?u.setProperty(ha,jb):u[ha]=
jb}}function Ea(u,I){if(I){if(hi[u]&&(null!=I.children||null!=I.dangerouslySetInnerHTML))throw Error(g(137,u));if(null!=I.dangerouslySetInnerHTML){if(null!=I.children)throw Error(g(60));if(!("object"===typeof I.dangerouslySetInnerHTML&&"__html"in I.dangerouslySetInnerHTML))throw Error(g(61));}if(null!=I.style&&"object"!==typeof I.style)throw Error(g(62));}}function $a(u,I){if(-1===u.indexOf("-"))return"string"===typeof I.is;switch(u){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function kb(u){u=u.target||u.srcElement||window;u.correspondingUseElement&&(u=u.correspondingUseElement);return 3===u.nodeType?u.parentNode:u}function ta(u){if(u=Pe(u)){if("function"!==typeof vg)throw Error(g(280));var I=u.stateNode;I&&(I=Qe(I),vg(u.stateNode,u.type,I))}}function Ta(u){Ef?Kh?Kh.push(u):Kh=[u]:Ef=u}function Xa(){if(Ef){var u=Ef,I=Kh;Kh=Ef=null;ta(u);if(I)for(u=0;u<I.length;u++)ta(I[u])}}function Fa(u,I){return u(I)}function va(u,I,ha,Ra,jb){return u(I,ha,Ra,jb)}function V(){}
function X(){if(null!==Ef||null!==Kh)V(),Xa()}function ca(u,I,ha){if(Lh)return u(I,ha);Lh=!0;try{return wh(u,I,ha)}finally{Lh=!1,X()}}function ea(u,I){var ha=u.stateNode;if(null===ha)return null;var Ra=Qe(ha);if(null===Ra)return null;ha=Ra[I];a:switch(I){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Ra=!Ra.disabled)||
(u=u.type,Ra=!("button"===u||"input"===u||"select"===u||"textarea"===u));u=!Ra;break a;default:u=!1}if(u)return null;if(ha&&"function"!==typeof ha)throw Error(g(231,I,typeof ha));return ha}function ra(u,I,ha,Ra,jb,yb,Ob,ec,Gc){var rd=Array.prototype.slice.call(arguments,3);try{I.apply(ha,rd)}catch(oe){this.onError(oe)}}function qa(u,I,ha,Ra,jb,yb,Ob,ec,Gc){yi=!1;ii=null;ra.apply(Se,arguments)}function Ha(u,I,ha,Ra,jb,yb,Ob,ec,Gc){qa.apply(this,arguments);if(yi){if(yi){var rd=ii;yi=!1;ii=null}else throw Error(g(198));
Vi||(Vi=!0,zi=rd)}}function na(u){var I=u,ha=u;if(u.alternate)for(;I.return;)I=I.return;else{u=I;do I=u,0!==(I.flags&1026)&&(ha=I.return),u=I.return;while(u)}return 3===I.tag?ha:null}function Pa(u){if(13===u.tag){var I=u.memoizedState;null===I&&(u=u.alternate,null!==u&&(I=u.memoizedState));if(null!==I)return I.dehydrated}return null}function cb(u){if(na(u)!==u)throw Error(g(188));}function ab(u){var I=u.alternate;if(!I){I=na(u);if(null===I)throw Error(g(188));return I!==u?null:u}for(var ha=u,Ra=I;;){var jb=
ha.return;if(null===jb)break;var yb=jb.alternate;if(null===yb){Ra=jb.return;if(null!==Ra){ha=Ra;continue}break}if(jb.child===yb.child){for(yb=jb.child;yb;){if(yb===ha)return cb(jb),u;if(yb===Ra)return cb(jb),I;yb=yb.sibling}throw Error(g(188));}if(ha.return!==Ra.return)ha=jb,Ra=yb;else{for(var Ob=!1,ec=jb.child;ec;){if(ec===ha){Ob=!0;ha=jb;Ra=yb;break}if(ec===Ra){Ob=!0;Ra=jb;ha=yb;break}ec=ec.sibling}if(!Ob){for(ec=yb.child;ec;){if(ec===ha){Ob=!0;ha=yb;Ra=jb;break}if(ec===Ra){Ob=!0;Ra=yb;ha=jb;break}ec=
ec.sibling}if(!Ob)throw Error(g(189));}}if(ha.alternate!==Ra)throw Error(g(190));}if(3!==ha.tag)throw Error(g(188));return ha.stateNode.current===ha?u:I}function Ba(u){u=ab(u);if(!u)return null;for(var I=u;;){if(5===I.tag||6===I.tag)return I;if(I.child)I.child.return=I,I=I.child;else{if(I===u)break;for(;!I.sibling;){if(!I.return||I.return===u)return null;I=I.return}I.sibling.return=I.return;I=I.sibling}}return null}function Ga(u,I){for(var ha=u.alternate;null!==I;){if(I===u||I===ha)return!0;I=I.return}return!1}
function oa(u,I,ha,Ra,jb){return{blockedOn:u,domEventName:I,eventSystemFlags:ha|16,nativeEvent:jb,targetContainers:[Ra]}}function Ia(u,I){switch(u){case "focusin":case "focusout":ih=null;break;case "dragenter":case "dragleave":Mh=null;break;case "mouseover":case "mouseout":Nh=null;break;case "pointerover":case "pointerout":Wh.delete(I.pointerId);break;case "gotpointercapture":case "lostpointercapture":ji.delete(I.pointerId)}}function Ua(u,I,ha,Ra,jb,yb){if(null===u||u.nativeEvent!==yb)return u=oa(I,
ha,Ra,jb,yb),null!==I&&(I=Pe(I),null!==I&&ck(I)),u;u.eventSystemFlags|=Ra;I=u.targetContainers;null!==jb&&-1===I.indexOf(jb)&&I.push(jb);return u}function eb(u,I,ha,Ra,jb){switch(I){case "focusin":return ih=Ua(ih,u,I,ha,Ra,jb),!0;case "dragenter":return Mh=Ua(Mh,u,I,ha,Ra,jb),!0;case "mouseover":return Nh=Ua(Nh,u,I,ha,Ra,jb),!0;case "pointerover":var yb=jb.pointerId;Wh.set(yb,Ua(Wh.get(yb)||null,u,I,ha,Ra,jb));return!0;case "gotpointercapture":return yb=jb.pointerId,ji.set(yb,Ua(ji.get(yb)||null,
u,I,ha,Ra,jb)),!0}return!1}function Gb(u){var I=nf(u.target);if(null!==I){var ha=na(I);if(null!==ha)if(I=ha.tag,13===I){if(I=Pa(ha),null!==I){u.blockedOn=I;Jl(u.lanePriority,function(){Cg.unstable_runWithPriority(u.priority,function(){Bk(ha)})});return}}else if(3===I&&ha.stateNode.hydrate){u.blockedOn=3===ha.tag?ha.stateNode.containerInfo:null;return}}u.blockedOn=null}function Tb(u){if(null!==u.blockedOn)return!1;for(var I=u.targetContainers;0<I.length;){var ha=Hb(u.domEventName,u.eventSystemFlags,
I[0],u.nativeEvent);if(null!==ha)return I=Pe(ha),null!==I&&ck(I),u.blockedOn=ha,!1;I.shift()}return!0}function kc(u,I,ha){Tb(u)&&ha.delete(I)}function bd(){for(zj=!1;0<jh.length;){var u=jh[0];if(null!==u.blockedOn){u=Pe(u.blockedOn);null!==u&&Kl(u);break}for(var I=u.targetContainers;0<I.length;){var ha=Hb(u.domEventName,u.eventSystemFlags,I[0],u.nativeEvent);if(null!==ha){u.blockedOn=ha;break}I.shift()}null===u.blockedOn&&jh.shift()}null!==ih&&Tb(ih)&&(ih=null);null!==Mh&&Tb(Mh)&&(Mh=null);null!==
Nh&&Tb(Nh)&&(Nh=null);Wh.forEach(kc);ji.forEach(kc)}function tc(u,I){u.blockedOn===I&&(u.blockedOn=null,zj||(zj=!0,Cg.unstable_scheduleCallback(Cg.unstable_NormalPriority,bd)))}function Fc(u){function I(jb){return tc(jb,u)}if(0<jh.length){tc(jh[0],u);for(var ha=1;ha<jh.length;ha++){var Ra=jh[ha];Ra.blockedOn===u&&(Ra.blockedOn=null)}}null!==ih&&tc(ih,u);null!==Mh&&tc(Mh,u);null!==Nh&&tc(Nh,u);Wh.forEach(I);ji.forEach(I);for(ha=0;ha<Ai.length;ha++)Ra=Ai[ha],Ra.blockedOn===u&&(Ra.blockedOn=null);for(;0<
Ai.length&&(ha=Ai[0],null===ha.blockedOn);)Gb(ha),null===ha.blockedOn&&Ai.shift()}function mb(u,I){var ha={};ha[u.toLowerCase()]=I.toLowerCase();ha["Webkit"+u]="webkit"+I;ha["Moz"+u]="moz"+I;return ha}function dc(u){if(tg[u])return tg[u];if(!xh[u])return u;var I=xh[u],ha;for(ha in I)if(I.hasOwnProperty(ha)&&ha in Bi)return tg[u]=I[ha];return u}function Bc(u,I){for(var ha=0;ha<u.length;ha+=2){var Ra=u[ha],jb=u[ha+1];jb="on"+(jb[0].toUpperCase()+jb.slice(1));ki.set(Ra,I);li.set(Ra,jb);m(jb,[Ra])}}function pc(u){if(0!==
(1&u))return Xf=15,1;if(0!==(2&u))return Xf=14,2;if(0!==(4&u))return Xf=13,4;var I=24&u;if(0!==I)return Xf=12,I;if(0!==(u&32))return Xf=11,32;I=192&u;if(0!==I)return Xf=10,I;if(0!==(u&256))return Xf=9,256;I=3584&u;if(0!==I)return Xf=8,I;if(0!==(u&4096))return Xf=7,4096;I=4186112&u;if(0!==I)return Xf=6,I;I=62914560&u;if(0!==I)return Xf=5,I;if(u&67108864)return Xf=4,67108864;if(0!==(u&134217728))return Xf=3,134217728;I=805306368&u;if(0!==I)return Xf=2,I;if(0!==(1073741824&u))return Xf=1,1073741824;
Xf=8;return u}function Cc(u){switch(u){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function nc(u){switch(u){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(g(358,u));}}function Uc(u,I){var ha=u.pendingLanes;if(0===ha)return Xf=0;var Ra=0,jb=0,yb=u.expiredLanes,Ob=u.suspendedLanes,ec=u.pingedLanes;if(0!==yb)Ra=
yb,jb=Xf=15;else if(yb=ha&134217727,0!==yb){var Gc=yb&~Ob;0!==Gc?(Ra=pc(Gc),jb=Xf):(ec&=yb,0!==ec&&(Ra=pc(ec),jb=Xf))}else yb=ha&~Ob,0!==yb?(Ra=pc(yb),jb=Xf):0!==ec&&(Ra=pc(ec),jb=Xf);if(0===Ra)return 0;Ra=31-Xh(Ra);Ra=ha&((0>Ra?0:1<<Ra)<<1)-1;if(0!==I&&I!==Ra&&0===(I&Ob)){pc(I);if(jb<=Xf)return I;Xf=jb}I=u.entangledLanes;if(0!==I)for(u=u.entanglements,I&=Ra;0<I;)ha=31-Xh(I),jb=1<<ha,Ra|=u[ha],I&=~jb;return Ra}function Tc(u){u=u.pendingLanes&-1073741825;return 0!==u?u:u&1073741824?1073741824:0}function Kc(u,
I){switch(u){case 15:return 1;case 14:return 2;case 12:return u=Fd(24&~I),0===u?Kc(10,I):u;case 10:return u=Fd(192&~I),0===u?Kc(8,I):u;case 8:return u=Fd(3584&~I),0===u&&(u=Fd(4186112&~I),0===u&&(u=512)),u;case 2:return I=Fd(805306368&~I),0===I&&(I=268435456),I}throw Error(g(358,u));}function Fd(u){return u&-u}function fe(u){for(var I=[],ha=0;31>ha;ha++)I.push(u);return I}function vd(u,I,ha){u.pendingLanes|=I;var Ra=I-1;u.suspendedLanes&=Ra;u.pingedLanes&=Ra;u=u.eventTimes;I=31-Xh(I);u[I]=ha}function Rc(u){return 0===
u?32:31-(mi(u)/ni|0)|0}function Yd(u,I,ha,Ra){Oh||V();var jb=fc,yb=Oh;Oh=!0;try{va(jb,u,I,ha,Ra)}finally{(Oh=yb)||X()}}function Pb(u,I,ha,Ra){Ck(ij,fc.bind(null,u,I,ha,Ra))}function fc(u,I,ha,Ra){if(Wi){var jb;if((jb=0===(I&4))&&0<jh.length&&-1<oi.indexOf(u))u=oa(null,u,I,ha,Ra),jh.push(u);else{var yb=Hb(u,I,ha,Ra);if(null===yb)jb&&Ia(u,Ra);else{if(jb){if(-1<oi.indexOf(u)){u=oa(yb,u,I,ha,Ra);jh.push(u);return}if(eb(yb,u,I,ha,Ra))return;Ia(u,Ra)}Vd(u,I,Ra,null,ha)}}}}function Hb(u,I,ha,Ra){var jb=
kb(Ra);jb=nf(jb);if(null!==jb){var yb=na(jb);if(null===yb)jb=null;else{var Ob=yb.tag;if(13===Ob){jb=Pa(yb);if(null!==jb)return jb;jb=null}else if(3===Ob){if(yb.stateNode.hydrate)return 3===yb.tag?yb.stateNode.containerInfo:null;jb=null}else yb!==jb&&(jb=null)}}Vd(u,I,Ra,jb,ha);return null}function yc(){if(Ig)return Ig;var u,I=pi,ha=I.length,Ra,jb="value"in rh?rh.value:rh.textContent,yb=jb.length;for(u=0;u<ha&&I[u]===jb[u];u++);var Ob=ha-u;for(Ra=1;Ra<=Ob&&I[ha-Ra]===jb[yb-Ra];Ra++);return Ig=jb.slice(u,
1<Ra?1-Ra:void 0)}function Vc(u){var I=u.keyCode;"charCode"in u?(u=u.charCode,0===u&&13===I&&(u=13)):u=I;10===u&&(u=13);return 32<=u||13===u?u:0}function Gd(){return!0}function Wd(){return!1}function La(u){function I(ha,Ra,jb,yb,Ob){this._reactName=ha;this._targetInst=jb;this.type=Ra;this.nativeEvent=yb;this.target=Ob;this.currentTarget=null;for(var ec in u)u.hasOwnProperty(ec)&&(ha=u[ec],this[ec]=ha?ha(yb):yb[ec]);this.isDefaultPrevented=(null!=yb.defaultPrevented?yb.defaultPrevented:!1===yb.returnValue)?
Gd:Wd;this.isPropagationStopped=Wd;return this}eg(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ha=this.nativeEvent;ha&&(ha.preventDefault?ha.preventDefault():"unknown"!==typeof ha.returnValue&&(ha.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var ha=this.nativeEvent;ha&&(ha.stopPropagation?ha.stopPropagation():"unknown"!==typeof ha.cancelBubble&&(ha.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd});return I}function fb(u){var I=
this.nativeEvent;return I.getModifierState?I.getModifierState(u):(u=qi[u])?!!I[u]:!1}function wb(){return fb}function Ib(u,I){switch(u){case "keyup":return-1!==W.indexOf(I.keyCode);case "keydown":return 229!==I.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Zb(u){u=u.detail;return"object"===typeof u&&"data"in u?u.data:null}function ic(u,I){switch(u){case "compositionend":return Zb(I);case "keypress":if(32!==I.which)return null;tb=!0;return bb;case "textInput":return u=
I.data,u===bb&&tb?null:u;default:return null}}function Ac(u,I){if(Kb)return"compositionend"===u||!T&&Ib(u,I)?(u=yc(),Ig=pi=rh=null,Kb=!1,u):null;switch(u){case "paste":return null;case "keypress":if(!(I.ctrlKey||I.altKey||I.metaKey)||I.ctrlKey&&I.altKey){if(I.char&&1<I.char.length)return I.char;if(I.which)return String.fromCharCode(I.which)}return null;case "compositionend":return Ya&&"ko"!==I.locale?null:I.data;default:return null}}function qc(u){var I=u&&u.nodeName&&u.nodeName.toLowerCase();return"input"===
I?!!ac[u.type]:"textarea"===I?!0:!1}function nb(u,I,ha,Ra){Ta(Ra);I=yf(I,"onChange");0<I.length&&(ha=new Pf("onChange","change",null,ha,Ra),u.push({event:ha,listeners:I}))}function Bb(u){Ce(u,0)}function Ub(u){var I=Qd(u);if(P(I))return u}function jc(u,I){if("change"===u)return I}function zc(){Qc&&(Qc.detachEvent("onpropertychange",Dc),rc=Qc=null)}function Dc(u){if("value"===u.propertyName&&Ub(rc)){var I=[];nb(I,rc,u,kb(u));u=Bb;if(Oh)u(I);else{Oh=!0;try{Fa(u,I)}finally{Oh=!1,X()}}}}function Wc(u,
I,ha){"focusin"===u?(zc(),Qc=I,rc=ha,Qc.attachEvent("onpropertychange",Dc)):"focusout"===u&&zc()}function Db(u){if("selectionchange"===u||"keyup"===u||"keydown"===u)return Ub(rc)}function Hc(u,I){if("click"===u)return Ub(I)}function fd(u,I){if("input"===u||"change"===u)return Ub(I)}function uc(u,I){return u===I&&(0!==u||1/u===1/I)||u!==u&&I!==I}function Zc(u,I){if(ef(u,I))return!0;if("object"!==typeof u||null===u||"object"!==typeof I||null===I)return!1;var ha=Object.keys(u),Ra=Object.keys(I);if(ha.length!==
Ra.length)return!1;for(Ra=0;Ra<ha.length;Ra++)if(!Ie.call(I,ha[Ra])||!ef(u[ha[Ra]],I[ha[Ra]]))return!1;return!0}function $c(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function nd(u,I){var ha=$c(u);u=0;for(var Ra;ha;){if(3===ha.nodeType){Ra=u+ha.textContent.length;if(u<=I&&Ra>=I)return{node:ha,offset:I-u};u=Ra}a:{for(;ha;){if(ha.nextSibling){ha=ha.nextSibling;break a}ha=ha.parentNode}ha=void 0}ha=$c(ha)}}function Cd(u,I){return u&&I?u===I?!0:u&&3===u.nodeType?!1:I&&3===I.nodeType?Cd(u,I.parentNode):
"contains"in u?u.contains(I):u.compareDocumentPosition?!!(u.compareDocumentPosition(I)&16):!1:!1}function Ed(){for(var u=window,I=L();I instanceof u.HTMLIFrameElement;){try{var ha="string"===typeof I.contentWindow.location.href}catch(Ra){ha=!1}if(ha)u=I.contentWindow;else break;I=L(u.document)}return I}function Xd(u){var I=u&&u.nodeName&&u.nodeName.toLowerCase();return I&&("input"===I&&("text"===u.type||"search"===u.type||"tel"===u.type||"url"===u.type||"password"===u.type)||"textarea"===I||"true"===
u.contentEditable)}function $d(u,I,ha){var Ra=ha.window===ha?ha.document:9===ha.nodeType?ha:ha.ownerDocument;qf||null==Ff||Ff!==L(Ra)||(Ra=Ff,"selectionStart"in Ra&&Xd(Ra)?Ra={start:Ra.selectionStart,end:Ra.selectionEnd}:(Ra=(Ra.ownerDocument&&Ra.ownerDocument.defaultView||window).getSelection(),Ra={anchorNode:Ra.anchorNode,anchorOffset:Ra.anchorOffset,focusNode:Ra.focusNode,focusOffset:Ra.focusOffset}),ag&&Zc(ag,Ra)||(ag=Ra,Ra=yf(bg,"onSelect"),0<Ra.length&&(I=new Pf("onSelect","select",null,I,ha),
u.push({event:I,listeners:Ra}),I.target=Ff)))}function ae(u,I,ha){var Ra=u.type||"unknown-event";u.currentTarget=ha;Ha(Ra,I,void 0,u);u.currentTarget=null}function Ce(u,I){I=0!==(I&4);for(var ha=0;ha<u.length;ha++){var Ra=u[ha],jb=Ra.event;Ra=Ra.listeners;a:{var yb=void 0;if(I)for(var Ob=Ra.length-1;0<=Ob;Ob--){var ec=Ra[Ob],Gc=ec.instance,rd=ec.currentTarget;ec=ec.listener;if(Gc!==yb&&jb.isPropagationStopped())break a;ae(jb,ec,rd);yb=Gc}else for(Ob=0;Ob<Ra.length;Ob++){ec=Ra[Ob];Gc=ec.instance;rd=
ec.currentTarget;ec=ec.listener;if(Gc!==yb&&jb.isPropagationStopped())break a;ae(jb,ec,rd);yb=Gc}}}if(Vi)throw u=zi,Vi=!1,zi=null,u;}function me(u,I){var ha=Yf(I),Ra=u+"__bubble";ha.has(Ra)||(hf(I,u,2,!1),ha.add(Ra))}function ff(u){u[Sg]||(u[Sg]=!0,ah.forEach(function(I){Ng.has(I)||Ze(I,!1,u,null);Ze(I,!0,u,null)}))}function Ze(u,I,ha,Ra){var jb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,yb=ha;"selectionchange"===u&&9!==ha.nodeType&&(yb=ha.ownerDocument);if(null!==Ra&&!I&&Ng.has(u)){if("scroll"!==
u)return;jb|=2;yb=Ra}var Ob=Yf(yb),ec=u+"__"+(I?"capture":"bubble");Ob.has(ec)||(I&&(jb|=4),hf(yb,u,jb,I),Ob.add(ec))}function hf(u,I,ha,Ra){var jb=ki.get(I);switch(void 0===jb?2:jb){case 0:jb=Yd;break;case 1:jb=Pb;break;default:jb=fc}ha=jb.bind(null,I,ha,u);jb=void 0;!Ci||"touchstart"!==I&&"touchmove"!==I&&"wheel"!==I||(jb=!0);Ra?void 0!==jb?u.addEventListener(I,ha,{capture:!0,passive:jb}):u.addEventListener(I,ha,!0):void 0!==jb?u.addEventListener(I,ha,{passive:jb}):u.addEventListener(I,ha,!1)}function Vd(u,
I,ha,Ra,jb){var yb=Ra;if(0===(I&1)&&0===(I&2)&&null!==Ra)a:for(;;){if(null===Ra)return;var Ob=Ra.tag;if(3===Ob||4===Ob){var ec=Ra.stateNode.containerInfo;if(ec===jb||8===ec.nodeType&&ec.parentNode===jb)break;if(4===Ob)for(Ob=Ra.return;null!==Ob;){var Gc=Ob.tag;if(3===Gc||4===Gc)if(Gc=Ob.stateNode.containerInfo,Gc===jb||8===Gc.nodeType&&Gc.parentNode===jb)return;Ob=Ob.return}for(;null!==ec;){Ob=nf(ec);if(null===Ob)return;Gc=Ob.tag;if(5===Gc||6===Gc){Ra=yb=Ob;continue a}ec=ec.parentNode}}Ra=Ra.return}ca(function(){var rd=
yb,oe=kb(ha),$e=[];a:{var Jd=li.get(u);if(void 0!==Jd){var Ke=Pf,kf=u;switch(u){case "keypress":if(0===Vc(ha))break a;case "keydown":case "keyup":Ke=jj;break;case "focusin":kf="focus";Ke=Di;break;case "focusout":kf="blur";Ke=Di;break;case "beforeblur":case "afterblur":Ke=Di;break;case "click":if(2===ha.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ke=Aj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ke=
Yh;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ke=og;break;case yh:case kj:case Bj:Ke=lj;break;case zh:Ke=mj;break;case "scroll":Ke=dk;break;case "wheel":Ke=r;break;case "copy":case "cut":case "paste":Ke=Dk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ke=Yg}var af=0!==(I&4),cd=!af&&"scroll"===u,Mc=af?null!==Jd?Jd+"Capture":null:Jd;af=[];for(var Xc=
rd,Dd;null!==Xc;){Dd=Xc;var Id=Dd.stateNode;5===Dd.tag&&null!==Id&&(Dd=Id,null!==Mc&&(Id=ea(Xc,Mc),null!=Id&&af.push(ge(Xc,Id,Dd))));if(cd)break;Xc=Xc.return}0<af.length&&(Jd=new Ke(Jd,kf,null,ha,oe),$e.push({event:Jd,listeners:af}))}}if(0===(I&7)){Jd="mouseover"===u||"pointerover"===u;Ke="mouseout"===u||"pointerout"===u;if(!Jd||0!==(I&16)||!(kf=ha.relatedTarget||ha.fromElement)||!nf(kf)&&!kf[pg])if(Ke||Jd){Jd=oe.window===oe?oe:(Jd=oe.ownerDocument)?Jd.defaultView||Jd.parentWindow:window;if(Ke){if(kf=
ha.relatedTarget||ha.toElement,Ke=rd,kf=kf?nf(kf):null,null!==kf&&(cd=na(kf),kf!==cd||5!==kf.tag&&6!==kf.tag))kf=null}else Ke=null,kf=rd;if(Ke!==kf){af=Aj;Id="onMouseLeave";Mc="onMouseEnter";Xc="mouse";if("pointerout"===u||"pointerover"===u)af=Yg,Id="onPointerLeave",Mc="onPointerEnter",Xc="pointer";cd=null==Ke?Jd:Qd(Ke);Dd=null==kf?Jd:Qd(kf);Jd=new af(Id,Xc+"leave",Ke,ha,oe);Jd.target=cd;Jd.relatedTarget=Dd;Id=null;nf(oe)===rd&&(af=new af(Mc,Xc+"enter",kf,ha,oe),af.target=Dd,af.relatedTarget=cd,Id=
af);cd=Id;if(Ke&&kf)b:{af=Ke;Mc=kf;Xc=0;for(Dd=af;Dd;Dd=Ue(Dd))Xc++;Dd=0;for(Id=Mc;Id;Id=Ue(Id))Dd++;for(;0<Xc-Dd;)af=Ue(af),Xc--;for(;0<Dd-Xc;)Mc=Ue(Mc),Dd--;for(;Xc--;){if(af===Mc||null!==Mc&&af===Mc.alternate)break b;af=Ue(af);Mc=Ue(Mc)}af=null}else af=null;null!==Ke&&of($e,Jd,Ke,af,!1);null!==kf&&null!==cd&&of($e,cd,kf,af,!0)}}Jd=rd?Qd(rd):window;Ke=Jd.nodeName&&Jd.nodeName.toLowerCase();if("select"===Ke||"input"===Ke&&"file"===Jd.type)var rf=jc;else if(qc(Jd))if(wc)rf=fd;else{rf=Db;var Ee=Wc}else(Ke=
Jd.nodeName)&&"input"===Ke.toLowerCase()&&("checkbox"===Jd.type||"radio"===Jd.type)&&(rf=Hc);rf&&(rf=rf(u,rd))?nb($e,rf,ha,oe):(Ee&&Ee(u,Jd,rd),"focusout"===u&&(Ee=Jd._wrapperState)&&Ee.controlled&&"number"===Jd.type&&U(Jd,"number",Jd.value));Ee=rd?Qd(rd):window;switch(u){case "focusin":if(qc(Ee)||"true"===Ee.contentEditable)Ff=Ee,bg=rd,ag=null;break;case "focusout":ag=bg=Ff=null;break;case "mousedown":qf=!0;break;case "contextmenu":case "mouseup":case "dragend":qf=!1;$d($e,ha,oe);break;case "selectionchange":if(cg)break;
case "keydown":case "keyup":$d($e,ha,oe)}var sf;if(T)a:{switch(u){case "compositionstart":var Gf="onCompositionStart";break a;case "compositionend":Gf="onCompositionEnd";break a;case "compositionupdate":Gf="onCompositionUpdate";break a}Gf=void 0}else Kb?Ib(u,ha)&&(Gf="onCompositionEnd"):"keydown"===u&&229===ha.keyCode&&(Gf="onCompositionStart");Gf&&(Ya&&"ko"!==ha.locale&&(Kb||"onCompositionStart"!==Gf?"onCompositionEnd"===Gf&&Kb&&(sf=yc()):(rh=oe,pi="value"in rh?rh.value:rh.textContent,Kb=!0)),Ee=
yf(rd,Gf),0<Ee.length&&(Gf=new Cj(Gf,u,null,ha,oe),$e.push({event:Gf,listeners:Ee}),sf?Gf.data=sf:(sf=Zb(ha),null!==sf&&(Gf.data=sf))));if(sf=Ma?ic(u,ha):Ac(u,ha))rd=yf(rd,"onBeforeInput"),0<rd.length&&(oe=new Cj("onBeforeInput","beforeinput",null,ha,oe),$e.push({event:oe,listeners:rd}),oe.data=sf)}Ce($e,I)})}function ge(u,I,ha){return{instance:u,listener:I,currentTarget:ha}}function yf(u,I){for(var ha=I+"Capture",Ra=[];null!==u;){var jb=u,yb=jb.stateNode;5===jb.tag&&null!==yb&&(jb=yb,yb=ea(u,ha),
null!=yb&&Ra.unshift(ge(u,yb,jb)),yb=ea(u,I),null!=yb&&Ra.push(ge(u,yb,jb)));u=u.return}return Ra}function Ue(u){if(null===u)return null;do u=u.return;while(u&&5!==u.tag);return u?u:null}function of(u,I,ha,Ra,jb){for(var yb=I._reactName,Ob=[];null!==ha&&ha!==Ra;){var ec=ha,Gc=ec.alternate,rd=ec.stateNode;if(null!==Gc&&Gc===Ra)break;5===ec.tag&&null!==rd&&(ec=rd,jb?(Gc=ea(ha,yb),null!=Gc&&Ob.unshift(ge(ha,Gc,ec))):jb||(Gc=ea(ha,yb),null!=Gc&&Ob.push(ge(ha,Gc,ec))));ha=ha.return}0!==Ob.length&&u.push({event:I,
listeners:Ob})}function le(){}function ye(u,I){switch(u){case "button":case "input":case "select":case "textarea":return!!I.autoFocus}return!1}function Mf(u,I){return"textarea"===u||"option"===u||"noscript"===u||"string"===typeof I.children||"number"===typeof I.children||"object"===typeof I.dangerouslySetInnerHTML&&null!==I.dangerouslySetInnerHTML&&null!=I.dangerouslySetInnerHTML.__html}function Ge(u){1===u.nodeType?u.textContent="":9===u.nodeType&&(u=u.body,null!=u&&(u.textContent=""))}function Td(u){for(;null!=
u;u=u.nextSibling){var I=u.nodeType;if(1===I||3===I)break}return u}function Zd(u){u=u.previousSibling;for(var I=0;u;){if(8===u.nodeType){var ha=u.data;if("$"===ha||"$!"===ha||"$?"===ha){if(0===I)return u;I--}else"/$"===ha&&I++}u=u.previousSibling}return null}function we(u){return{$$typeof:Ei,toString:u,valueOf:u}}function nf(u){var I=u[Fi];if(I)return I;for(var ha=u.parentNode;ha;){if(I=ha[pg]||ha[Fi]){ha=I.alternate;if(null!==I.child||null!==ha&&null!==ha.child)for(u=Zd(u);null!==u;){if(ha=u[Fi])return ha;
u=Zd(u)}return I}u=ha;ha=u.parentNode}return null}function Pe(u){u=u[Fi]||u[pg];return!u||5!==u.tag&&6!==u.tag&&13!==u.tag&&3!==u.tag?null:u}function Qd(u){if(5===u.tag||6===u.tag)return u.stateNode;throw Error(g(33));}function Qe(u){return u[Ek]||null}function Yf(u){var I=u[Ph];void 0===I&&(I=u[Ph]=new Set);return I}function Ic(u){return{current:u}}function xe(u){0>Zh||(u.current=ek[Zh],ek[Zh]=null,Zh--)}function je(u,I){Zh++;ek[Zh]=u.current;u.current=I}function gc(u,I){var ha=u.type.contextTypes;
if(!ha)return Gi;var Ra=u.stateNode;if(Ra&&Ra.__reactInternalMemoizedUnmaskedChildContext===I)return Ra.__reactInternalMemoizedMaskedChildContext;var jb={},yb;for(yb in ha)jb[yb]=I[yb];Ra&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=I,u.__reactInternalMemoizedMaskedChildContext=jb);return jb}function De(u){u=u.childContextTypes;return null!==u&&void 0!==u}function re(){xe(sh);xe(bh)}function gf(u,I,ha){if(bh.current!==Gi)throw Error(g(168));je(bh,I);je(sh,ha)}function Hf(u,I,ha){var Ra=
u.stateNode;u=I.childContextTypes;if("function"!==typeof Ra.getChildContext)return ha;Ra=Ra.getChildContext();for(var jb in Ra)if(!(jb in u))throw Error(g(108,e(I)||"Unknown",jb));return eg({},ha,Ra)}function If(u){u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Gi;Xi=bh.current;je(bh,u);je(sh,sh.current);return!0}function Qf(u,I,ha){var Ra=u.stateNode;if(!Ra)throw Error(g(169));ha?(u=Hf(u,I,Xi),Ra.__reactInternalMemoizedMergedChildContext=u,xe(sh),xe(bh),je(bh,u)):xe(sh);je(sh,ha)}
function Jf(){switch(Ll()){case Fk:return 99;case ql:return 98;case rl:return 97;case sl:return 96;case tl:return 95;default:throw Error(g(332));}}function Ae(u){switch(u){case 99:return Fk;case 98:return ql;case 97:return rl;case 96:return sl;case 95:return tl;default:throw Error(g(332));}}function xc(u,I){u=Ae(u);return Gk(u,I)}function ya(u,I,ha){u=Ae(u);return $k(u,I,ha)}function Ca(){if(null!==Dj){var u=Dj;Dj=null;fk(u)}Za()}function Za(){if(!al&&null!==Hi){al=!0;var u=0;try{var I=Hi;xc(99,function(){for(;u<
I.length;u++){var ha=I[u];do ha=ha(!0);while(null!==ha)}});Hi=null}catch(ha){throw null!==Hi&&(Hi=Hi.slice(u+1)),$k(Fk,Ca),ha;}finally{al=!1}}}function Fb(u,I){if(u&&u.defaultProps){I=eg({},I);u=u.defaultProps;for(var ha in u)void 0===I[ha]&&(I[ha]=u[ha])}return I}function ub(u){var I=Hk.current;xe(Hk);u.type._context._currentValue=I}function Wb(u,I){for(;null!==u;){var ha=u.alternate;if((u.childLanes&I)===I)if(null===ha||(ha.childLanes&I)===I)break;else ha.childLanes|=I;else u.childLanes|=I,null!==
ha&&(ha.childLanes|=I);u=u.return}}function vc(u,I){Ej=u;Yi=Zi=null;u=u.dependencies;null!==u&&null!==u.firstContext&&(0!==(u.lanes&I)&&(Ah=!0),u.firstContext=null)}function Nc(u,I){if(Yi!==u&&!1!==I&&0!==I){if("number"!==typeof I||1073741823===I)Yi=u,I=1073741823;I={context:u,observedBits:I,next:null};if(null===Zi){if(null===Ej)throw Error(g(308));Zi=I;Ej.dependencies={lanes:0,firstContext:I,responders:null}}else Zi=Zi.next=I}return u._currentValue}function ld(u){u.updateQueue={baseState:u.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Pc(u,I){u=u.updateQueue;I.updateQueue===u&&(I.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ld(u,I){return{eventTime:u,lane:I,tag:0,payload:null,callback:null,next:null}}function Nd(u,I){u=u.updateQueue;if(null!==u){u=u.shared;var ha=u.pending;null===ha?I.next=I:(I.next=ha.next,ha.next=I);u.pending=I}}function Od(u,
I){var ha=u.updateQueue,Ra=u.alternate;if(null!==Ra&&(Ra=Ra.updateQueue,ha===Ra)){var jb=null,yb=null;ha=ha.firstBaseUpdate;if(null!==ha){do{var Ob={eventTime:ha.eventTime,lane:ha.lane,tag:ha.tag,payload:ha.payload,callback:ha.callback,next:null};null===yb?jb=yb=Ob:yb=yb.next=Ob;ha=ha.next}while(null!==ha);null===yb?jb=yb=I:yb=yb.next=I}else jb=yb=I;ha={baseState:Ra.baseState,firstBaseUpdate:jb,lastBaseUpdate:yb,shared:Ra.shared,effects:Ra.effects};u.updateQueue=ha}else u=ha.lastBaseUpdate,null===
u?ha.firstBaseUpdate=I:u.next=I,ha.lastBaseUpdate=I}function od(u,I,ha,Ra){var jb=u.updateQueue;ri=!1;var yb=jb.firstBaseUpdate,Ob=jb.lastBaseUpdate,ec=jb.shared.pending;if(null!==ec){jb.shared.pending=null;var Gc=ec,rd=Gc.next;Gc.next=null;null===Ob?yb=rd:Ob.next=rd;Ob=Gc;var oe=u.alternate;if(null!==oe){oe=oe.updateQueue;var $e=oe.lastBaseUpdate;$e!==Ob&&(null===$e?oe.firstBaseUpdate=rd:$e.next=rd,oe.lastBaseUpdate=Gc)}}if(null!==yb){$e=jb.baseState;Ob=0;oe=rd=Gc=null;do{ec=yb.lane;var Jd=yb.eventTime;
if((Ra&ec)===ec){null!==oe&&(oe=oe.next={eventTime:Jd,lane:0,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null});a:{var Ke=u,kf=yb;ec=I;Jd=ha;switch(kf.tag){case 1:Ke=kf.payload;if("function"===typeof Ke){$e=Ke.call(Jd,$e,ec);break a}$e=Ke;break a;case 3:Ke.flags=Ke.flags&-4097|64;case 0:Ke=kf.payload;ec="function"===typeof Ke?Ke.call(Jd,$e,ec):Ke;if(null===ec||void 0===ec)break a;$e=eg({},$e,ec);break a;case 2:ri=!0}}null!==yb.callback&&(u.flags|=32,ec=jb.effects,null===ec?jb.effects=
[yb]:ec.push(yb))}else Jd={eventTime:Jd,lane:ec,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null},null===oe?(rd=oe=Jd,Gc=$e):oe=oe.next=Jd,Ob|=ec;yb=yb.next;if(null===yb)if(ec=jb.shared.pending,null===ec)break;else yb=ec.next,ec.next=null,jb.lastBaseUpdate=ec,jb.shared.pending=null}while(1);null===oe&&(Gc=$e);jb.baseState=Gc;jb.firstBaseUpdate=rd;jb.lastBaseUpdate=oe;Fj|=Ob;u.lanes=Ob;u.memoizedState=$e}}function Rd(u,I,ha){u=I.effects;I.effects=null;if(null!==u)for(I=0;I<u.length;I++){var Ra=
u[I],jb=Ra.callback;if(null!==jb){Ra.callback=null;Ra=ha;if("function"!==typeof jb)throw Error(g(191,jb));jb.call(Ra)}}}function kd(u,I,ha,Ra){I=u.memoizedState;ha=ha(Ra,I);ha=null===ha||void 0===ha?I:eg({},I,ha);u.memoizedState=ha;0===u.lanes&&(u.updateQueue.baseState=ha)}function lf(u,I,ha,Ra,jb,yb,Ob){u=u.stateNode;return"function"===typeof u.shouldComponentUpdate?u.shouldComponentUpdate(Ra,yb,Ob):I.prototype&&I.prototype.isPureReactComponent?!Zc(ha,Ra)||!Zc(jb,yb):!0}function bf(u,I,ha){var Ra=
!1,jb=Gi,yb=I.contextType;"object"===typeof yb&&null!==yb?yb=Nc(yb):(jb=De(I)?Xi:bh.current,Ra=I.contextTypes,yb=(Ra=null!==Ra&&void 0!==Ra)?gc(u,jb):Gi);I=new I(ha,yb);u.memoizedState=null!==I.state&&void 0!==I.state?I.state:null;I.updater=Gj;u.stateNode=I;I._reactInternals=u;Ra&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=jb,u.__reactInternalMemoizedMaskedChildContext=yb);return I}function ee(u,I,ha,Ra){u=I.state;"function"===typeof I.componentWillReceiveProps&&I.componentWillReceiveProps(ha,
Ra);"function"===typeof I.UNSAFE_componentWillReceiveProps&&I.UNSAFE_componentWillReceiveProps(ha,Ra);I.state!==u&&Gj.enqueueReplaceState(I,I.state,null)}function Ve(u,I,ha,Ra){var jb=u.stateNode;jb.props=ha;jb.state=u.memoizedState;jb.refs=ul;ld(u);var yb=I.contextType;"object"===typeof yb&&null!==yb?jb.context=Nc(yb):(yb=De(I)?Xi:bh.current,jb.context=gc(u,yb));od(u,ha,jb,Ra);jb.state=u.memoizedState;yb=I.getDerivedStateFromProps;"function"===typeof yb&&(kd(u,I,yb,ha),jb.state=u.memoizedState);
"function"===typeof I.getDerivedStateFromProps||"function"===typeof jb.getSnapshotBeforeUpdate||"function"!==typeof jb.UNSAFE_componentWillMount&&"function"!==typeof jb.componentWillMount||(I=jb.state,"function"===typeof jb.componentWillMount&&jb.componentWillMount(),"function"===typeof jb.UNSAFE_componentWillMount&&jb.UNSAFE_componentWillMount(),I!==jb.state&&Gj.enqueueReplaceState(jb,jb.state,null),od(u,ha,jb,Ra),jb.state=u.memoizedState);"function"===typeof jb.componentDidMount&&(u.flags|=4)}function ce(u,
I,ha){u=ha.ref;if(null!==u&&"function"!==typeof u&&"object"!==typeof u){if(ha._owner){if(ha=ha._owner){if(1!==ha.tag)throw Error(g(309));var Ra=ha.stateNode}if(!Ra)throw Error(g(147,u));var jb=""+u;if(null!==I&&null!==I.ref&&"function"===typeof I.ref&&I.ref._stringRef===jb)return I.ref;I=function(yb){var Ob=Ra.refs;Ob===ul&&(Ob=Ra.refs={});null===yb?delete Ob[jb]:Ob[jb]=yb};I._stringRef=jb;return I}if("string"!==typeof u)throw Error(g(284));if(!ha._owner)throw Error(g(290,u));}return u}function Xe(u,
I){if("textarea"!==u.type)throw Error(g(31,"[object Object]"===Object.prototype.toString.call(I)?"object with keys {"+Object.keys(I).join(", ")+"}":I));}function zf(u){function I(cd,Mc){if(u){var Xc=cd.lastEffect;null!==Xc?(Xc.nextEffect=Mc,cd.lastEffect=Mc):cd.firstEffect=cd.lastEffect=Mc;Mc.nextEffect=null;Mc.flags=8}}function ha(cd,Mc){if(!u)return null;for(;null!==Mc;)I(cd,Mc),Mc=Mc.sibling;return null}function Ra(cd,Mc){for(cd=new Map;null!==Mc;)null!==Mc.key?cd.set(Mc.key,Mc):cd.set(Mc.index,
Mc),Mc=Mc.sibling;return cd}function jb(cd,Mc){cd=th(cd,Mc);cd.index=0;cd.sibling=null;return cd}function yb(cd,Mc,Xc){cd.index=Xc;if(!u)return Mc;Xc=cd.alternate;if(null!==Xc)return Xc=Xc.index,Xc<Mc?(cd.flags=2,Mc):Xc;cd.flags=2;return Mc}function Ob(cd){u&&null===cd.alternate&&(cd.flags=2);return cd}function ec(cd,Mc,Xc,Dd){if(null===Mc||6!==Mc.tag)return Mc=gk(Xc,cd.mode,Dd),Mc.return=cd,Mc;Mc=jb(Mc,Xc);Mc.return=cd;return Mc}function Gc(cd,Mc,Xc,Dd){if(null!==Mc&&Mc.elementType===Xc.type)return Dd=
jb(Mc,Xc.props),Dd.ref=ce(cd,Mc,Xc),Dd.return=cd,Dd;Dd=$i(Xc.type,Xc.key,Xc.props,null,cd.mode,Dd);Dd.ref=ce(cd,Mc,Xc);Dd.return=cd;return Dd}function rd(cd,Mc,Xc,Dd){if(null===Mc||4!==Mc.tag||Mc.stateNode.containerInfo!==Xc.containerInfo||Mc.stateNode.implementation!==Xc.implementation)return Mc=hk(Xc,cd.mode,Dd),Mc.return=cd,Mc;Mc=jb(Mc,Xc.children||[]);Mc.return=cd;return Mc}function oe(cd,Mc,Xc,Dd,Id){if(null===Mc||7!==Mc.tag)return Mc=Ii(Xc,cd.mode,Dd,Id),Mc.return=cd,Mc;Mc=jb(Mc,Xc);Mc.return=
cd;return Mc}function $e(cd,Mc,Xc){if("string"===typeof Mc||"number"===typeof Mc)return Mc=gk(""+Mc,cd.mode,Xc),Mc.return=cd,Mc;if("object"===typeof Mc&&null!==Mc){switch(Mc.$$typeof){case Ji:return Xc=$i(Mc.type,Mc.key,Mc.props,null,cd.mode,Xc),Xc.ref=ce(cd,null,Mc),Xc.return=cd,Xc;case ug:return Mc=hk(Mc,cd.mode,Xc),Mc.return=cd,Mc}if(Bh(Mc)||k(Mc))return Mc=Ii(Mc,cd.mode,Xc,null),Mc.return=cd,Mc;Xe(cd,Mc)}return null}function Jd(cd,Mc,Xc,Dd){var Id=null!==Mc?Mc.key:null;if("string"===typeof Xc||
"number"===typeof Xc)return null!==Id?null:ec(cd,Mc,""+Xc,Dd);if("object"===typeof Xc&&null!==Xc){switch(Xc.$$typeof){case Ji:return Xc.key===Id?Xc.type===Hg?oe(cd,Mc,Xc.props.children,Dd,Id):Gc(cd,Mc,Xc,Dd):null;case ug:return Xc.key===Id?rd(cd,Mc,Xc,Dd):null}if(Bh(Xc)||k(Xc))return null!==Id?null:oe(cd,Mc,Xc,Dd,null);Xe(cd,Xc)}return null}function Ke(cd,Mc,Xc,Dd,Id){if("string"===typeof Dd||"number"===typeof Dd)return cd=cd.get(Xc)||null,ec(Mc,cd,""+Dd,Id);if("object"===typeof Dd&&null!==Dd){switch(Dd.$$typeof){case Ji:return cd=
cd.get(null===Dd.key?Xc:Dd.key)||null,Dd.type===Hg?oe(Mc,cd,Dd.props.children,Id,Dd.key):Gc(Mc,cd,Dd,Id);case ug:return cd=cd.get(null===Dd.key?Xc:Dd.key)||null,rd(Mc,cd,Dd,Id)}if(Bh(Dd)||k(Dd))return cd=cd.get(Xc)||null,oe(Mc,cd,Dd,Id,null);Xe(Mc,Dd)}return null}function kf(cd,Mc,Xc,Dd){for(var Id=null,rf=null,Ee=Mc,sf=Mc=0,Gf=null;null!==Ee&&sf<Xc.length;sf++){Ee.index>sf?(Gf=Ee,Ee=null):Gf=Ee.sibling;var wf=Jd(cd,Ee,Xc[sf],Dd);if(null===wf){null===Ee&&(Ee=Gf);break}u&&Ee&&null===wf.alternate&&
I(cd,Ee);Mc=yb(wf,Mc,sf);null===rf?Id=wf:rf.sibling=wf;rf=wf;Ee=Gf}if(sf===Xc.length)return ha(cd,Ee),Id;if(null===Ee){for(;sf<Xc.length;sf++)Ee=$e(cd,Xc[sf],Dd),null!==Ee&&(Mc=yb(Ee,Mc,sf),null===rf?Id=Ee:rf.sibling=Ee,rf=Ee);return Id}for(Ee=Ra(cd,Ee);sf<Xc.length;sf++)Gf=Ke(Ee,cd,sf,Xc[sf],Dd),null!==Gf&&(u&&null!==Gf.alternate&&Ee.delete(null===Gf.key?sf:Gf.key),Mc=yb(Gf,Mc,sf),null===rf?Id=Gf:rf.sibling=Gf,rf=Gf);u&&Ee.forEach(function(aj){return I(cd,aj)});return Id}function af(cd,Mc,Xc,Dd){var Id=
k(Xc);if("function"!==typeof Id)throw Error(g(150));Xc=Id.call(Xc);if(null==Xc)throw Error(g(151));for(var rf=Id=null,Ee=Mc,sf=Mc=0,Gf=null,wf=Xc.next();null!==Ee&&!wf.done;sf++,wf=Xc.next()){Ee.index>sf?(Gf=Ee,Ee=null):Gf=Ee.sibling;var aj=Jd(cd,Ee,wf.value,Dd);if(null===aj){null===Ee&&(Ee=Gf);break}u&&Ee&&null===aj.alternate&&I(cd,Ee);Mc=yb(aj,Mc,sf);null===rf?Id=aj:rf.sibling=aj;rf=aj;Ee=Gf}if(wf.done)return ha(cd,Ee),Id;if(null===Ee){for(;!wf.done;sf++,wf=Xc.next())wf=$e(cd,wf.value,Dd),null!==
wf&&(Mc=yb(wf,Mc,sf),null===rf?Id=wf:rf.sibling=wf,rf=wf);return Id}for(Ee=Ra(cd,Ee);!wf.done;sf++,wf=Xc.next())wf=Ke(Ee,cd,sf,wf.value,Dd),null!==wf&&(u&&null!==wf.alternate&&Ee.delete(null===wf.key?sf:wf.key),Mc=yb(wf,Mc,sf),null===rf?Id=wf:rf.sibling=wf,rf=wf);u&&Ee.forEach(function(Ml){return I(cd,Ml)});return Id}return function(cd,Mc,Xc,Dd){var Id="object"===typeof Xc&&null!==Xc&&Xc.type===Hg&&null===Xc.key;Id&&(Xc=Xc.props.children);var rf="object"===typeof Xc&&null!==Xc;if(rf)switch(Xc.$$typeof){case Ji:a:{rf=
Xc.key;for(Id=Mc;null!==Id;){if(Id.key===rf){switch(Id.tag){case 7:if(Xc.type===Hg){ha(cd,Id.sibling);Mc=jb(Id,Xc.props.children);Mc.return=cd;cd=Mc;break a}break;default:if(Id.elementType===Xc.type){ha(cd,Id.sibling);Mc=jb(Id,Xc.props);Mc.ref=ce(cd,Id,Xc);Mc.return=cd;cd=Mc;break a}}ha(cd,Id);break}else I(cd,Id);Id=Id.sibling}Xc.type===Hg?(Mc=Ii(Xc.props.children,cd.mode,Dd,Xc.key),Mc.return=cd,cd=Mc):(Dd=$i(Xc.type,Xc.key,Xc.props,null,cd.mode,Dd),Dd.ref=ce(cd,Mc,Xc),Dd.return=cd,cd=Dd)}return Ob(cd);
case ug:a:{for(Id=Xc.key;null!==Mc;){if(Mc.key===Id)if(4===Mc.tag&&Mc.stateNode.containerInfo===Xc.containerInfo&&Mc.stateNode.implementation===Xc.implementation){ha(cd,Mc.sibling);Mc=jb(Mc,Xc.children||[]);Mc.return=cd;cd=Mc;break a}else{ha(cd,Mc);break}else I(cd,Mc);Mc=Mc.sibling}Mc=hk(Xc,cd.mode,Dd);Mc.return=cd;cd=Mc}return Ob(cd)}if("string"===typeof Xc||"number"===typeof Xc)return Xc=""+Xc,null!==Mc&&6===Mc.tag?(ha(cd,Mc.sibling),Mc=jb(Mc,Xc),Mc.return=cd,cd=Mc):(ha(cd,Mc),Mc=gk(Xc,cd.mode,
Dd),Mc.return=cd,cd=Mc),Ob(cd);if(Bh(Xc))return kf(cd,Mc,Xc,Dd);if(k(Xc))return af(cd,Mc,Xc,Dd);rf&&Xe(cd,Xc);if("undefined"===typeof Xc&&!Id)switch(cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(g(152,e(cd.type)||"Component"));}return ha(cd,Mc)}}function tf(u){if(u===Md)throw Error(g(174));return u}function Oe(u,I){je(Hj,I);je(Qh,u);je(wg,Md);u=I.nodeType;switch(u){case 9:case 11:I=(I=I.documentElement)?I.namespaceURI:da(null,"");break;default:u=8===u?I.parentNode:I,I=u.namespaceURI||
null,u=u.tagName,I=da(I,u)}xe(wg);je(wg,I)}function Nf(){xe(wg);xe(Qh);xe(Hj)}function Aa(u){tf(Hj.current);var I=tf(wg.current),ha=da(I,u.type);I!==ha&&(je(Qh,u),je(wg,ha))}function Ka(u){Qh.current===u&&(xe(wg),xe(Qh))}function vb(u){for(var I=u;null!==I;){if(13===I.tag){var ha=I.memoizedState;if(null!==ha&&(ha=ha.dehydrated,null===ha||"$?"===ha.data||"$!"===ha.data))return I}else if(19===I.tag&&void 0!==I.memoizedProps.revealOrder){if(0!==(I.flags&64))return I}else if(null!==I.child){I.child.return=
I;I=I.child;continue}if(I===u)break;for(;null===I.sibling;){if(null===I.return||I.return===u)return null;I=I.return}I.sibling.return=I.return;I=I.sibling}return null}function Xb(u,I){var ha=kh(5,null,null,0);ha.elementType="DELETED";ha.type="DELETED";ha.stateNode=I;ha.return=u;ha.flags=8;null!==u.lastEffect?(u.lastEffect.nextEffect=ha,u.lastEffect=ha):u.firstEffect=u.lastEffect=ha}function Sb(u,I){switch(u.tag){case 5:var ha=u.type;I=1!==I.nodeType||ha.toLowerCase()!==I.nodeName.toLowerCase()?null:
I;return null!==I?(u.stateNode=I,!0):!1;case 6:return I=""===u.pendingProps||3!==I.nodeType?null:I,null!==I?(u.stateNode=I,!0):!1;case 13:return!1;default:return!1}}function hc(u){if(Ch){var I=si;if(I){var ha=I;if(!Sb(u,I)){I=Td(ha.nextSibling);if(!I||!Sb(u,I)){u.flags=u.flags&-1025|2;Ch=!1;Dh=u;return}Xb(Dh,ha)}Dh=u;si=Td(I.firstChild)}else u.flags=u.flags&-1025|2,Ch=!1,Dh=u}}function lc(u){for(u=u.return;null!==u&&5!==u.tag&&3!==u.tag&&13!==u.tag;)u=u.return;Dh=u}function id(u){if(u!==Dh)return!1;
if(!Ch)return lc(u),Ch=!0,!1;var I=u.type;if(5!==u.tag||"head"!==I&&"body"!==I&&!Mf(I,u.memoizedProps))for(I=si;I;)Xb(u,I),I=Td(I.nextSibling);lc(u);if(13===u.tag){u=u.memoizedState;u=null!==u?u.dehydrated:null;if(!u)throw Error(g(317));a:{u=u.nextSibling;for(I=0;u;){if(8===u.nodeType){var ha=u.data;if("/$"===ha){if(0===I){si=Td(u.nextSibling);break a}I--}else"$"!==ha&&"$!"!==ha&&"$?"!==ha||I++}u=u.nextSibling}si=null}}else si=Dh?Td(u.stateNode.nextSibling):null;return!0}function Sc(){for(var u=0;u<
nj.length;u++)nj[u]._workInProgressVersionPrimary=null;nj.length=0}function gd(){throw Error(g(321));}function Hd(u,I){if(null===I)return!1;for(var ha=0;ha<I.length&&ha<u.length;ha++)if(!ef(u[ha],I[ha]))return!1;return!0}function he(u,I,ha,Ra,jb,yb){ik=yb;lg=I;I.memoizedState=null;I.updateQueue=null;I.lanes=0;ch.current=null===u||null===u.memoizedState?bl:Nl;u=ha(Ra,jb);if(jk){yb=0;do{jk=!1;if(!(25>yb))throw Error(g(301));yb+=1;Og=dh=null;I.updateQueue=null;ch.current=Zg;u=ha(Ra,jb)}while(jk)}ch.current=
eh;I=null!==dh&&null!==dh.next;ik=0;Og=dh=lg=null;Ik=!1;if(I)throw Error(g(300));return u}function ie(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Og?lg.memoizedState=Og=u:Og=Og.next=u;return Og}function Pd(){if(null===dh){var u=lg.alternate;u=null!==u?u.memoizedState:null}else u=dh.next;var I=null===Og?lg.memoizedState:Og.next;if(null!==I)Og=I,dh=u;else{if(null===u)throw Error(g(310));dh=u;u={memoizedState:dh.memoizedState,baseState:dh.baseState,baseQueue:dh.baseQueue,
queue:dh.queue,next:null};null===Og?lg.memoizedState=Og=u:Og=Og.next=u}return Og}function Ne(u,I){return"function"===typeof I?I(u):I}function pe(u){var I=Pd(),ha=I.queue;if(null===ha)throw Error(g(311));ha.lastRenderedReducer=u;var Ra=dh,jb=Ra.baseQueue,yb=ha.pending;if(null!==yb){if(null!==jb){var Ob=jb.next;jb.next=yb.next;yb.next=Ob}Ra.baseQueue=jb=yb;ha.pending=null}if(null!==jb){jb=jb.next;Ra=Ra.baseState;var ec=Ob=yb=null,Gc=jb;do{var rd=Gc.lane;if((ik&rd)===rd)null!==ec&&(ec=ec.next={lane:0,
action:Gc.action,eagerReducer:Gc.eagerReducer,eagerState:Gc.eagerState,next:null}),Ra=Gc.eagerReducer===u?Gc.eagerState:u(Ra,Gc.action);else{var oe={lane:rd,action:Gc.action,eagerReducer:Gc.eagerReducer,eagerState:Gc.eagerState,next:null};null===ec?(Ob=ec=oe,yb=Ra):ec=ec.next=oe;lg.lanes|=rd;Fj|=rd}Gc=Gc.next}while(null!==Gc&&Gc!==jb);null===ec?yb=Ra:ec.next=Ob;ef(Ra,I.memoizedState)||(Ah=!0);I.memoizedState=Ra;I.baseState=yb;I.baseQueue=ec;ha.lastRenderedState=Ra}return[I.memoizedState,ha.dispatch]}
function He(u){var I=Pd(),ha=I.queue;if(null===ha)throw Error(g(311));ha.lastRenderedReducer=u;var Ra=ha.dispatch,jb=ha.pending,yb=I.memoizedState;if(null!==jb){ha.pending=null;var Ob=jb=jb.next;do yb=u(yb,Ob.action),Ob=Ob.next;while(Ob!==jb);ef(yb,I.memoizedState)||(Ah=!0);I.memoizedState=yb;null===I.baseQueue&&(I.baseState=yb);ha.lastRenderedState=yb}return[yb,Ra]}function Je(u,I,ha){var Ra=I._getVersion;Ra=Ra(I._source);var jb=I._workInProgressVersionPrimary;if(null!==jb)u=jb===Ra;else if(u=u.mutableReadLanes,
u=(ik&u)===u)I._workInProgressVersionPrimary=Ra,nj.push(I);if(u)return ha(I._source);nj.push(I);throw Error(g(350));}function Le(u,I,ha,Ra){var jb=lh;if(null===jb)throw Error(g(349));var yb=I._getVersion,Ob=yb(I._source),ec=ch.current,Gc=ec.useState(function(){return Je(jb,I,ha)}),rd=Gc[1],oe=Gc[0];Gc=Og;var $e=u.memoizedState,Jd=$e.refs,Ke=Jd.getSnapshot,kf=$e.source;$e=$e.subscribe;var af=lg;u.memoizedState={refs:Jd,source:I,subscribe:Ra};ec.useEffect(function(){Jd.getSnapshot=ha;Jd.setSnapshot=
rd;var cd=yb(I._source);if(!ef(Ob,cd)){cd=ha(I._source);ef(oe,cd)||(rd(cd),cd=Jc(af),jb.mutableReadLanes|=cd&jb.pendingLanes);cd=jb.mutableReadLanes;jb.entangledLanes|=cd;for(var Mc=jb.entanglements,Xc=cd;0<Xc;){var Dd=31-Xh(Xc),Id=1<<Dd;Mc[Dd]|=cd;Xc&=~Id}}},[ha,I,Ra]);ec.useEffect(function(){return Ra(I._source,function(){var cd=Jd.getSnapshot,Mc=Jd.setSnapshot;try{Mc(cd(I._source));var Xc=Jc(af);jb.mutableReadLanes|=Xc&jb.pendingLanes}catch(Dd){Mc(function(){throw Dd;})}})},[I,Ra]);ef(Ke,ha)&&
ef(kf,I)&&ef($e,Ra)||(u={pending:null,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:oe},u.dispatch=rd=Mb.bind(null,lg,u),Gc.queue=u,Gc.baseQueue=null,oe=Je(jb,I,ha),Gc.memoizedState=Gc.baseState=oe);return oe}function Of(u,I,ha){var Ra=Pd();return Le(Ra,u,I,ha)}function Te(u){var I=ie();"function"===typeof u&&(u=u());I.memoizedState=I.baseState=u;u=I.queue={pending:null,dispatch:null,lastRenderedReducer:Ne,lastRenderedState:u};u=u.dispatch=Mb.bind(null,lg,u);return[I.memoizedState,u]}function uf(u,
I,ha,Ra){u={tag:u,create:I,destroy:ha,deps:Ra,next:null};I=lg.updateQueue;null===I?(I={lastEffect:null},lg.updateQueue=I,I.lastEffect=u.next=u):(ha=I.lastEffect,null===ha?I.lastEffect=u.next=u:(Ra=ha.next,ha.next=u,u.next=Ra,I.lastEffect=u));return u}function Bf(u){var I=ie();u={current:u};return I.memoizedState=u}function Ag(){return Pd().memoizedState}function Rf(u,I,ha,Ra){var jb=ie();lg.flags|=u;jb.memoizedState=uf(1|I,ha,void 0,void 0===Ra?null:Ra)}function jg(u,I,ha,Ra){var jb=Pd();Ra=void 0===
Ra?null:Ra;var yb=void 0;if(null!==dh){var Ob=dh.memoizedState;yb=Ob.destroy;if(null!==Ra&&Hd(Ra,Ob.deps)){uf(I,ha,yb,Ra);return}}lg.flags|=u;jb.memoizedState=uf(1|I,ha,yb,Ra)}function xa(u,I){return Rf(516,4,u,I)}function za(u,I){return jg(516,4,u,I)}function Oa(u,I){return jg(4,2,u,I)}function Sa(u,I){if("function"===typeof I)return u=u(),I(u),function(){I(null)};if(null!==I&&void 0!==I)return u=u(),I.current=u,function(){I.current=null}}function gb(u,I,ha){ha=null!==ha&&void 0!==ha?ha.concat([u]):
null;return jg(4,2,Sa.bind(null,I,u),ha)}function ib(){}function rb(u,I){var ha=Pd();I=void 0===I?null:I;var Ra=ha.memoizedState;if(null!==Ra&&null!==I&&Hd(I,Ra[1]))return Ra[0];ha.memoizedState=[u,I];return u}function Eb(u,I){var ha=Pd();I=void 0===I?null:I;var Ra=ha.memoizedState;if(null!==Ra&&null!==I&&Hd(I,Ra[1]))return Ra[0];u=u();ha.memoizedState=[u,I];return u}function zb(u,I){var ha=Jf();xc(98>ha?98:ha,function(){u(!0)});xc(97<ha?97:ha,function(){var Ra=mh.transition;mh.transition=1;try{u(!1),
I()}finally{mh.transition=Ra}})}function Mb(u,I,ha){var Ra=ad(),jb=Jc(u),yb={lane:jb,action:ha,eagerReducer:null,eagerState:null,next:null},Ob=I.pending;null===Ob?yb.next=yb:(yb.next=Ob.next,Ob.next=yb);I.pending=yb;Ob=u.alternate;if(u===lg||null!==Ob&&Ob===lg)jk=Ik=!0;else{if(0===u.lanes&&(null===Ob||0===Ob.lanes)&&(Ob=I.lastRenderedReducer,null!==Ob))try{var ec=I.lastRenderedState,Gc=Ob(ec,ha);yb.eagerReducer=Ob;yb.eagerState=Gc;if(ef(Gc,ec))return}catch(rd){}finally{}ud(u,jb,Ra)}}function Lb(u,
I,ha,Ra){I.child=null===u?ng(I,null,ha,Ra):pf(I,u.child,ha,Ra)}function bc(u,I,ha,Ra,jb){ha=ha.render;var yb=I.ref;vc(I,jb);Ra=he(u,I,ha,Ra,yb,jb);if(null!==u&&!Ah)return I.updateQueue=u.updateQueue,I.flags&=-517,u.lanes&=~jb,Bd(u,I,jb);I.flags|=1;Lb(u,I,Ra,jb);return I.child}function sc(u,I,ha,Ra,jb,yb){if(null===u){var Ob=ha.type;if("function"===typeof Ob&&!$h(Ob)&&void 0===Ob.defaultProps&&null===ha.compare&&void 0===ha.defaultProps)return I.tag=15,I.type=Ob,Y(u,I,Ob,Ra,jb,yb);u=$i(ha.type,null,
Ra,I,I.mode,yb);u.ref=I.ref;u.return=I;return I.child=u}Ob=u.child;if(0===(jb&yb)&&(jb=Ob.memoizedProps,ha=ha.compare,ha=null!==ha?ha:Zc,ha(jb,Ra)&&u.ref===I.ref))return Bd(u,I,yb);I.flags|=1;u=th(Ob,Ra);u.ref=I.ref;u.return=I;return I.child=u}function Y(u,I,ha,Ra,jb,yb){if(null!==u&&Zc(u.memoizedProps,Ra)&&u.ref===I.ref)if(Ah=!1,0!==(yb&jb))0!==(u.flags&16384)&&(Ah=!0);else return I.lanes=u.lanes,Bd(u,I,yb);return Va(u,I,ha,Ra,yb)}function pa(u,I,ha){var Ra=I.pendingProps,jb=Ra.children,yb=null!==
u?u.memoizedState:null;if("hidden"===Ra.mode||"unstable-defer-without-hiding"===Ra.mode)if(0===(I.mode&4))I.memoizedState={baseLanes:0},wd(I,ha);else if(0!==(ha&1073741824))I.memoizedState={baseLanes:0},wd(I,null!==yb?yb.baseLanes:ha);else return u=null!==yb?yb.baseLanes|ha:ha,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:u},wd(I,u),null;else null!==yb?(Ra=yb.baseLanes|ha,I.memoizedState=null):Ra=ha,wd(I,Ra);Lb(u,I,jb,ha);return I.child}function Qa(u,I){var ha=I.ref;if(null===u&&null!==
ha||null!==u&&u.ref!==ha)I.flags|=128}function Va(u,I,ha,Ra,jb){var yb=De(ha)?Xi:bh.current;yb=gc(I,yb);vc(I,jb);ha=he(u,I,ha,Ra,yb,jb);if(null!==u&&!Ah)return I.updateQueue=u.updateQueue,I.flags&=-517,u.lanes&=~jb,Bd(u,I,jb);I.flags|=1;Lb(u,I,ha,jb);return I.child}function xb(u,I,ha,Ra,jb){if(De(ha)){var yb=!0;If(I)}else yb=!1;vc(I,jb);if(null===I.stateNode)null!==u&&(u.alternate=null,I.alternate=null,I.flags|=2),bf(I,ha,Ra),Ve(I,ha,Ra,jb),Ra=!0;else if(null===u){var Ob=I.stateNode,ec=I.memoizedProps;
Ob.props=ec;var Gc=Ob.context,rd=ha.contextType;"object"===typeof rd&&null!==rd?rd=Nc(rd):(rd=De(ha)?Xi:bh.current,rd=gc(I,rd));var oe=ha.getDerivedStateFromProps,$e="function"===typeof oe||"function"===typeof Ob.getSnapshotBeforeUpdate;$e||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||(ec!==Ra||Gc!==rd)&&ee(I,Ob,Ra,rd);ri=!1;var Jd=I.memoizedState;Ob.state=Jd;od(I,Ra,Ob,jb);Gc=I.memoizedState;ec!==Ra||Jd!==Gc||sh.current||ri?("function"===
typeof oe&&(kd(I,ha,oe,Ra),Gc=I.memoizedState),(ec=ri||lf(I,ha,ec,Ra,Jd,Gc,rd))?($e||"function"!==typeof Ob.UNSAFE_componentWillMount&&"function"!==typeof Ob.componentWillMount||("function"===typeof Ob.componentWillMount&&Ob.componentWillMount(),"function"===typeof Ob.UNSAFE_componentWillMount&&Ob.UNSAFE_componentWillMount()),"function"===typeof Ob.componentDidMount&&(I.flags|=4)):("function"===typeof Ob.componentDidMount&&(I.flags|=4),I.memoizedProps=Ra,I.memoizedState=Gc),Ob.props=Ra,Ob.state=Gc,
Ob.context=rd,Ra=ec):("function"===typeof Ob.componentDidMount&&(I.flags|=4),Ra=!1)}else{Ob=I.stateNode;Pc(u,I);ec=I.memoizedProps;rd=I.type===I.elementType?ec:Fb(I.type,ec);Ob.props=rd;$e=I.pendingProps;Jd=Ob.context;Gc=ha.contextType;"object"===typeof Gc&&null!==Gc?Gc=Nc(Gc):(Gc=De(ha)?Xi:bh.current,Gc=gc(I,Gc));var Ke=ha.getDerivedStateFromProps;(oe="function"===typeof Ke||"function"===typeof Ob.getSnapshotBeforeUpdate)||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||
(ec!==$e||Jd!==Gc)&&ee(I,Ob,Ra,Gc);ri=!1;Jd=I.memoizedState;Ob.state=Jd;od(I,Ra,Ob,jb);var kf=I.memoizedState;ec!==$e||Jd!==kf||sh.current||ri?("function"===typeof Ke&&(kd(I,ha,Ke,Ra),kf=I.memoizedState),(rd=ri||lf(I,ha,rd,Ra,Jd,kf,Gc))?(oe||"function"!==typeof Ob.UNSAFE_componentWillUpdate&&"function"!==typeof Ob.componentWillUpdate||("function"===typeof Ob.componentWillUpdate&&Ob.componentWillUpdate(Ra,kf,Gc),"function"===typeof Ob.UNSAFE_componentWillUpdate&&Ob.UNSAFE_componentWillUpdate(Ra,kf,
Gc)),"function"===typeof Ob.componentDidUpdate&&(I.flags|=4),"function"===typeof Ob.getSnapshotBeforeUpdate&&(I.flags|=256)):("function"!==typeof Ob.componentDidUpdate||ec===u.memoizedProps&&Jd===u.memoizedState||(I.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||ec===u.memoizedProps&&Jd===u.memoizedState||(I.flags|=256),I.memoizedProps=Ra,I.memoizedState=kf),Ob.props=Ra,Ob.state=kf,Ob.context=Gc,Ra=rd):("function"!==typeof Ob.componentDidUpdate||ec===u.memoizedProps&&Jd===u.memoizedState||
(I.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||ec===u.memoizedProps&&Jd===u.memoizedState||(I.flags|=256),Ra=!1)}return Rb(u,I,ha,Ra,yb,jb)}function Rb(u,I,ha,Ra,jb,yb){Qa(u,I);var Ob=0!==(I.flags&64);if(!Ra&&!Ob)return jb&&Qf(I,ha,!1),Bd(u,I,yb);Ra=I.stateNode;ti.current=I;var ec=Ob&&"function"!==typeof ha.getDerivedStateFromError?null:Ra.render();I.flags|=1;null!==u&&Ob?(I.child=pf(I,u.child,null,yb),I.child=pf(I,null,ec,yb)):Lb(u,I,ec,yb);I.memoizedState=Ra.state;jb&&Qf(I,ha,!0);
return I.child}function Yb(u){var I=u.stateNode;I.pendingContext?gf(u,I.pendingContext,I.pendingContext!==I.context):I.context&&gf(u,I.context,!1);Oe(u,I.containerInfo)}function oc(u,I,ha){var Ra=I.pendingProps,jb=xg.current,yb=!1,Ob;(Ob=0!==(I.flags&64))||(Ob=null!==u&&null===u.memoizedState?!1:0!==(jb&2));Ob?(yb=!0,I.flags&=-65):null!==u&&null===u.memoizedState||void 0===Ra.fallback||!0===Ra.unstable_avoidThisFallback||(jb|=1);je(xg,jb&1);if(null===u){void 0!==Ra.fallback&&hc(I);u=Ra.children;jb=
Ra.fallback;if(yb)return u=Ec(I,u,jb,ha),I.child.memoizedState={baseLanes:ha},I.memoizedState=Jk,u;if("number"===typeof Ra.unstable_expectedLoadTime)return u=Ec(I,u,jb,ha),I.child.memoizedState={baseLanes:ha},I.memoizedState=Jk,I.lanes=33554432,u;ha=oj({mode:"visible",children:u},I.mode,ha,null);ha.return=I;return I.child=ha}if(null!==u.memoizedState){if(yb)return Ra=Yc(u,I,Ra.children,Ra.fallback,ha),yb=I.child,jb=u.child.memoizedState,yb.memoizedState=null===jb?{baseLanes:ha}:{baseLanes:jb.baseLanes|
ha},yb.childLanes=u.childLanes&~ha,I.memoizedState=Jk,Ra;ha=dd(u,I,Ra.children,ha);I.memoizedState=null;return ha}if(yb)return Ra=Yc(u,I,Ra.children,Ra.fallback,ha),yb=I.child,jb=u.child.memoizedState,yb.memoizedState=null===jb?{baseLanes:ha}:{baseLanes:jb.baseLanes|ha},yb.childLanes=u.childLanes&~ha,I.memoizedState=Jk,Ra;ha=dd(u,I,Ra.children,ha);I.memoizedState=null;return ha}function Ec(u,I,ha,Ra){var jb=u.mode,yb=u.child;I={mode:"hidden",children:I};0===(jb&2)&&null!==yb?(yb.childLanes=0,yb.pendingProps=
I):yb=oj(I,jb,0,null);ha=Ii(ha,jb,Ra,null);yb.return=u;ha.return=u;yb.sibling=ha;u.child=yb;return ha}function dd(u,I,ha,Ra){var jb=u.child;u=jb.sibling;ha=th(jb,{mode:"visible",children:ha});0===(I.mode&2)&&(ha.lanes=Ra);ha.return=I;ha.sibling=null;null!==u&&(u.nextEffect=null,u.flags=8,I.firstEffect=I.lastEffect=u);return I.child=ha}function Yc(u,I,ha,Ra,jb){var yb=I.mode,Ob=u.child;u=Ob.sibling;var ec={mode:"hidden",children:ha};0===(yb&2)&&I.child!==Ob?(ha=I.child,ha.childLanes=0,ha.pendingProps=
ec,Ob=ha.lastEffect,null!==Ob?(I.firstEffect=ha.firstEffect,I.lastEffect=Ob,Ob.nextEffect=null):I.firstEffect=I.lastEffect=null):ha=th(Ob,ec);null!==u?Ra=th(u,Ra):(Ra=Ii(Ra,yb,jb,null),Ra.flags|=2);Ra.return=I;ha.return=I;ha.sibling=Ra;I.child=ha;return Ra}function Kd(u,I){u.lanes|=I;var ha=u.alternate;null!==ha&&(ha.lanes|=I);Wb(u.return,I)}function Ud(u,I,ha,Ra,jb,yb){var Ob=u.memoizedState;null===Ob?u.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:Ra,tail:ha,tailMode:jb,
lastEffect:yb}:(Ob.isBackwards=I,Ob.rendering=null,Ob.renderingStartTime=0,Ob.last=Ra,Ob.tail=ha,Ob.tailMode=jb,Ob.lastEffect=yb)}function pd(u,I,ha){var Ra=I.pendingProps,jb=Ra.revealOrder,yb=Ra.tail;Lb(u,I,Ra.children,ha);Ra=xg.current;if(0!==(Ra&2))Ra=Ra&1|2,I.flags|=64;else{if(null!==u&&0!==(u.flags&64))a:for(u=I.child;null!==u;){if(13===u.tag)null!==u.memoizedState&&Kd(u,ha);else if(19===u.tag)Kd(u,ha);else if(null!==u.child){u.child.return=u;u=u.child;continue}if(u===I)break a;for(;null===u.sibling;){if(null===
u.return||u.return===I)break a;u=u.return}u.sibling.return=u.return;u=u.sibling}Ra&=1}je(xg,Ra);if(0===(I.mode&2))I.memoizedState=null;else switch(jb){case "forwards":ha=I.child;for(jb=null;null!==ha;)u=ha.alternate,null!==u&&null===vb(u)&&(jb=ha),ha=ha.sibling;ha=jb;null===ha?(jb=I.child,I.child=null):(jb=ha.sibling,ha.sibling=null);Ud(I,!1,jb,ha,yb,I.lastEffect);break;case "backwards":ha=null;jb=I.child;for(I.child=null;null!==jb;){u=jb.alternate;if(null!==u&&null===vb(u)){I.child=jb;break}u=jb.sibling;
jb.sibling=ha;ha=jb;jb=u}Ud(I,!0,ha,null,yb,I.lastEffect);break;case "together":Ud(I,!1,null,null,void 0,I.lastEffect);break;default:I.memoizedState=null}return I.child}function Bd(u,I,ha){null!==u&&(I.dependencies=u.dependencies);Fj|=I.lanes;if(0!==(ha&I.childLanes)){if(null!==u&&I.child!==u.child)throw Error(g(153));if(null!==I.child){u=I.child;ha=th(u,u.pendingProps);I.child=ha;for(ha.return=I;null!==u.sibling;)u=u.sibling,ha=ha.sibling=th(u,u.pendingProps),ha.return=I;ha.sibling=null}return I.child}return null}
function jd(u,I){if(!Ch)switch(u.tailMode){case "hidden":I=u.tail;for(var ha=null;null!==I;)null!==I.alternate&&(ha=I),I=I.sibling;null===ha?u.tail=null:ha.sibling=null;break;case "collapsed":ha=u.tail;for(var Ra=null;null!==ha;)null!==ha.alternate&&(Ra=ha),ha=ha.sibling;null===Ra?I||null===u.tail?u.tail=null:u.tail.sibling=null:Ra.sibling=null}}function cf(u,I,ha){var Ra=I.pendingProps;switch(I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return De(I.type)&&
re(),null;case 3:Nf();xe(sh);xe(bh);Sc();Ra=I.stateNode;Ra.pendingContext&&(Ra.context=Ra.pendingContext,Ra.pendingContext=null);if(null===u||null===u.child)id(I)?I.flags|=4:Ra.hydrate||(I.flags|=256);cl(I);return null;case 5:Ka(I);var jb=tf(Hj.current);ha=I.type;if(null!==u&&null!=I.stateNode)Ol(u,I,ha,Ra,jb),u.ref!==I.ref&&(I.flags|=128);else{if(!Ra){if(null===I.stateNode)throw Error(g(166));return null}u=tf(wg.current);if(id(I)){Ra=I.stateNode;ha=I.type;var yb=I.memoizedProps;Ra[Fi]=I;Ra[Ek]=yb;
switch(ha){case "dialog":me("cancel",Ra);me("close",Ra);break;case "iframe":case "object":case "embed":me("load",Ra);break;case "video":case "audio":for(u=0;u<Sf.length;u++)me(Sf[u],Ra);break;case "source":me("error",Ra);break;case "img":case "image":case "link":me("error",Ra);me("load",Ra);break;case "details":me("toggle",Ra);break;case "input":z(Ra,yb);me("invalid",Ra);break;case "select":Ra._wrapperState={wasMultiple:!!yb.multiple};me("invalid",Ra);break;case "textarea":Z(Ra,yb),me("invalid",Ra)}Ea(ha,
yb);u=null;for(var Ob in yb)yb.hasOwnProperty(Ob)&&(jb=yb[Ob],"children"===Ob?"string"===typeof jb?Ra.textContent!==jb&&(u=["children",jb]):"number"===typeof jb&&Ra.textContent!==""+jb&&(u=["children",""+jb]):vi.hasOwnProperty(Ob)&&null!=jb&&"onScroll"===Ob&&me("scroll",Ra));switch(ha){case "input":D(Ra);R(Ra,yb,!0);break;case "textarea":D(Ra);q(Ra);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(Ra.onclick=le)}Ra=u;I.updateQueue=Ra;null!==Ra&&(I.flags|=4)}else{Ob=
9===jb.nodeType?jb:jb.ownerDocument;u===pj.html&&(u=N(ha));u===pj.html?"script"===ha?(u=Ob.createElement("div"),u.innerHTML="\x3cscript\x3e\x3c/script\x3e",u=u.removeChild(u.firstChild)):"string"===typeof Ra.is?u=Ob.createElement(ha,{is:Ra.is}):(u=Ob.createElement(ha),"select"===ha&&(Ob=u,Ra.multiple?Ob.multiple=!0:Ra.size&&(Ob.size=Ra.size))):u=Ob.createElementNS(u,ha);u[Fi]=I;u[Ek]=Ra;Ki(u,I,!1,!1);I.stateNode=u;Ob=$a(ha,Ra);switch(ha){case "dialog":me("cancel",u);me("close",u);jb=Ra;break;case "iframe":case "object":case "embed":me("load",
u);jb=Ra;break;case "video":case "audio":for(jb=0;jb<Sf.length;jb++)me(Sf[jb],u);jb=Ra;break;case "source":me("error",u);jb=Ra;break;case "img":case "image":case "link":me("error",u);me("load",u);jb=Ra;break;case "details":me("toggle",u);jb=Ra;break;case "input":z(u,Ra);jb=G(u,Ra);me("invalid",u);break;case "option":jb=ba(u,Ra);break;case "select":u._wrapperState={wasMultiple:!!Ra.multiple};jb=eg({},Ra,{value:void 0});me("invalid",u);break;case "textarea":Z(u,Ra);jb=ja(u,Ra);me("invalid",u);break;
default:jb=Ra}Ea(ha,jb);var ec=jb;for(yb in ec)if(ec.hasOwnProperty(yb)){var Gc=ec[yb];"style"===yb?ua(u,Gc):"dangerouslySetInnerHTML"===yb?(Gc=Gc?Gc.__html:void 0,null!=Gc&&Ij(u,Gc)):"children"===yb?"string"===typeof Gc?("textarea"!==ha||""!==Gc)&&aa(u,Gc):"number"===typeof Gc&&aa(u,""+Gc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(vi.hasOwnProperty(yb)?null!=Gc&&"onScroll"===yb&&me("scroll",u):null!=Gc&&l(u,yb,Gc,Ob))}switch(ha){case "input":D(u);
R(u,Ra,!1);break;case "textarea":D(u);q(u);break;case "option":null!=Ra.value&&u.setAttribute("value",""+p(Ra.value));break;case "select":u.multiple=!!Ra.multiple;yb=Ra.value;null!=yb?fa(u,!!Ra.multiple,yb,!1):null!=Ra.defaultValue&&fa(u,!!Ra.multiple,Ra.defaultValue,!0);break;default:"function"===typeof jb.onClick&&(u.onclick=le)}ye(ha,Ra)&&(I.flags|=4)}null!==I.ref&&(I.flags|=128)}return null;case 6:if(u&&null!=I.stateNode)Li(u,I,u.memoizedProps,Ra);else{if("string"!==typeof Ra&&null===I.stateNode)throw Error(g(166));
ha=tf(Hj.current);tf(wg.current);id(I)?(Ra=I.stateNode,ha=I.memoizedProps,Ra[Fi]=I,Ra.nodeValue!==ha&&(I.flags|=4)):(Ra=(9===ha.nodeType?ha:ha.ownerDocument).createTextNode(Ra),Ra[Fi]=I,I.stateNode=Ra)}return null;case 13:xe(xg);Ra=I.memoizedState;if(0!==(I.flags&64))return I.lanes=ha,I;Ra=null!==Ra;ha=!1;null===u?void 0!==I.memoizedProps.fallback&&id(I):ha=null!==u.memoizedState;if(Ra&&!ha&&0!==(I.mode&2))if(null===u&&!0!==I.memoizedProps.unstable_avoidThisFallback||0!==(xg.current&1))0===Qg&&(Qg=
3);else{if(0===Qg||3===Qg)Qg=4;null===lh||0===(Fj&134217727)&&0===(Jj&134217727)||ne(lh,fh)}if(Ra||ha)I.flags|=4;return null;case 4:return Nf(),cl(I),null===u&&ff(I.stateNode.containerInfo),null;case 10:return ub(I),null;case 17:return De(I.type)&&re(),null;case 19:xe(xg);Ra=I.memoizedState;if(null===Ra)return null;yb=0!==(I.flags&64);Ob=Ra.rendering;if(null===Ob)if(yb)jd(Ra,!1);else{if(0!==Qg||null!==u&&0!==(u.flags&64))for(u=I.child;null!==u;){Ob=vb(u);if(null!==Ob){I.flags|=64;jd(Ra,!1);yb=Ob.updateQueue;
null!==yb&&(I.updateQueue=yb,I.flags|=4);null===Ra.lastEffect&&(I.firstEffect=null);I.lastEffect=Ra.lastEffect;Ra=ha;for(ha=I.child;null!==ha;)yb=ha,u=Ra,yb.flags&=2,yb.nextEffect=null,yb.firstEffect=null,yb.lastEffect=null,Ob=yb.alternate,null===Ob?(yb.childLanes=0,yb.lanes=u,yb.child=null,yb.memoizedProps=null,yb.memoizedState=null,yb.updateQueue=null,yb.dependencies=null,yb.stateNode=null):(yb.childLanes=Ob.childLanes,yb.lanes=Ob.lanes,yb.child=Ob.child,yb.memoizedProps=Ob.memoizedProps,yb.memoizedState=
Ob.memoizedState,yb.updateQueue=Ob.updateQueue,yb.type=Ob.type,u=Ob.dependencies,yb.dependencies=null===u?null:{lanes:u.lanes,firstContext:u.firstContext}),ha=ha.sibling;je(xg,xg.current&1|2);return I.child}u=u.sibling}null!==Ra.tail&&gh()>kk&&(I.flags|=64,yb=!0,jd(Ra,!1),I.lanes=33554432)}else{if(!yb)if(u=vb(Ob),null!==u){if(I.flags|=64,yb=!0,ha=u.updateQueue,null!==ha&&(I.updateQueue=ha,I.flags|=4),jd(Ra,!0),null===Ra.tail&&"hidden"===Ra.tailMode&&!Ob.alternate&&!Ch)return I=I.lastEffect=Ra.lastEffect,
null!==I&&(I.nextEffect=null),null}else 2*gh()-Ra.renderingStartTime>kk&&1073741824!==ha&&(I.flags|=64,yb=!0,jd(Ra,!1),I.lanes=33554432);Ra.isBackwards?(Ob.sibling=I.child,I.child=Ob):(ha=Ra.last,null!==ha?ha.sibling=Ob:I.child=Ob,Ra.last=Ob)}return null!==Ra.tail?(ha=Ra.tail,Ra.rendering=ha,Ra.tail=ha.sibling,Ra.lastEffect=I.lastEffect,Ra.renderingStartTime=gh(),ha.sibling=null,I=xg.current,je(xg,yb?I&1|2:I&1),ha):null;case 23:case 24:return We(),null!==u&&null!==u.memoizedState!==(null!==I.memoizedState)&&
"unstable-defer-without-hiding"!==Ra.mode&&(I.flags|=4),null}throw Error(g(156,I.tag));}function Wa(u){switch(u.tag){case 1:De(u.type)&&re();var I=u.flags;return I&4096?(u.flags=I&-4097|64,u):null;case 3:Nf();xe(sh);xe(bh);Sc();I=u.flags;if(0!==(I&64))throw Error(g(285));u.flags=I&-4097|64;return u;case 5:return Ka(u),null;case 13:return xe(xg),I=u.flags,I&4096?(u.flags=I&-4097|64,u):null;case 19:return xe(xg),null;case 4:return Nf(),null;case 10:return ub(u),null;case 23:case 24:return We(),null;
default:return null}}function ob(u,I){try{var ha="",Ra=I;do ha+=a(Ra),Ra=Ra.return;while(Ra)}catch(jb){ha="\nError generating stack: "+jb.message+"\n"+jb.stack}return{value:u,source:I,stack:ha}}function Ab(u,I){try{console.error(I.value)}catch(ha){setTimeout(function(){throw ha;})}}function Nb(u,I,ha){ha=Ld(-1,ha);ha.tag=3;ha.payload={element:null};var Ra=I.value;ha.callback=function(){Dg||(Dg=!0,lk=Ra);Ab(u,I)};return ha}function $b(u,I,ha){ha=Ld(-1,ha);ha.tag=3;var Ra=u.type.getDerivedStateFromError;
if("function"===typeof Ra){var jb=I.value;ha.payload=function(){Ab(u,I);return Ra(jb)}}var yb=u.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(ha.callback=function(){"function"!==typeof Ra&&(null===ai?ai=new Set([this]):ai.add(this),Ab(u,I));var Ob=I.stack;this.componentDidCatch(I.value,{componentStack:null!==Ob?Ob:""})});return ha}function Lc(u){var I=u.ref;if(null!==I)if("function"===typeof I)try{I(null)}catch(ha){nh(u,ha)}else I.current=null}function w(u,I){switch(I.tag){case 0:case 11:case 15:case 22:return;
case 1:if(I.flags&256&&null!==u){var ha=u.memoizedProps,Ra=u.memoizedState;u=I.stateNode;I=u.getSnapshotBeforeUpdate(I.elementType===I.type?ha:Fb(I.type,ha),Ra);u.__reactInternalSnapshotBeforeUpdate=I}return;case 3:I.flags&256&&Ge(I.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(g(163));}function S(u,I,ha){switch(ha.tag){case 0:case 11:case 15:case 22:I=ha.updateQueue;I=null!==I?I.lastEffect:null;if(null!==I){u=I=I.next;do{if(3===(u.tag&3)){var Ra=u.create;u.destroy=
Ra()}u=u.next}while(u!==I)}I=ha.updateQueue;I=null!==I?I.lastEffect:null;if(null!==I){u=I=I.next;do{var jb=u;Ra=jb.next;jb=jb.tag;0!==(jb&4)&&0!==(jb&1)&&(Kk(ha,u),mk(ha,u));u=Ra}while(u!==I)}return;case 1:u=ha.stateNode;ha.flags&4&&(null===I?u.componentDidMount():(Ra=ha.elementType===ha.type?I.memoizedProps:Fb(ha.type,I.memoizedProps),u.componentDidUpdate(Ra,I.memoizedState,u.__reactInternalSnapshotBeforeUpdate)));I=ha.updateQueue;null!==I&&Rd(ha,I,u);return;case 3:I=ha.updateQueue;if(null!==I){u=
null;if(null!==ha.child)switch(ha.child.tag){case 5:u=ha.child.stateNode;break;case 1:u=ha.child.stateNode}Rd(ha,I,u)}return;case 5:u=ha.stateNode;null===I&&ha.flags&4&&ye(ha.type,ha.memoizedProps)&&u.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===ha.memoizedState&&(ha=ha.alternate,null!==ha&&(ha=ha.memoizedState,null!==ha&&(ha=ha.dehydrated,null!==ha&&Fc(ha))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(g(163));}function ma(u,I){for(var ha=
u;;){if(5===ha.tag){var Ra=ha.stateNode;if(I)Ra=Ra.style,"function"===typeof Ra.setProperty?Ra.setProperty("display","none","important"):Ra.display="none";else{Ra=ha.stateNode;var jb=ha.memoizedProps.style;jb=void 0!==jb&&null!==jb&&jb.hasOwnProperty("display")?jb.display:null;Ra.style.display=wa("display",jb)}}else if(6===ha.tag)ha.stateNode.nodeValue=I?"":ha.memoizedProps;else if((23!==ha.tag&&24!==ha.tag||null===ha.memoizedState||ha===u)&&null!==ha.child){ha.child.return=ha;ha=ha.child;continue}if(ha===
u)break;for(;null===ha.sibling;){if(null===ha.return||ha.return===u)return;ha=ha.return}ha.sibling.return=ha.return;ha=ha.sibling}}function Na(u,I){if(Mi&&"function"===typeof Mi.onCommitFiberUnmount)try{Mi.onCommitFiberUnmount(Lk,I)}catch(yb){}switch(I.tag){case 0:case 11:case 14:case 15:case 22:u=I.updateQueue;if(null!==u&&(u=u.lastEffect,null!==u)){var ha=u=u.next;do{var Ra=ha,jb=Ra.destroy;Ra=Ra.tag;if(void 0!==jb)if(0!==(Ra&4))Kk(I,ha);else{Ra=I;try{jb()}catch(yb){nh(Ra,yb)}}ha=ha.next}while(ha!==
u)}break;case 1:Lc(I);u=I.stateNode;if("function"===typeof u.componentWillUnmount)try{u.props=I.memoizedProps,u.state=I.memoizedState,u.componentWillUnmount()}catch(yb){nh(I,yb)}break;case 5:Lc(I);break;case 4:Vb(u,I)}}function hb(u){u.alternate=null;u.child=null;u.dependencies=null;u.firstEffect=null;u.lastEffect=null;u.memoizedProps=null;u.memoizedState=null;u.pendingProps=null;u.return=null;u.updateQueue=null}function lb(u){return 5===u.tag||3===u.tag||4===u.tag}function sb(u){a:{for(var I=u.return;null!==
I;){if(lb(I))break a;I=I.return}throw Error(g(160));}var ha=I;I=ha.stateNode;switch(ha.tag){case 5:var Ra=!1;break;case 3:I=I.containerInfo;Ra=!0;break;case 4:I=I.containerInfo;Ra=!0;break;default:throw Error(g(161));}ha.flags&16&&(aa(I,""),ha.flags&=-17);ha=u;a:b:for(;;){for(;null===ha.sibling;){if(null===ha.return||lb(ha.return)){ha=null;break a}ha=ha.return}ha.sibling.return=ha.return;for(ha=ha.sibling;5!==ha.tag&&6!==ha.tag&&18!==ha.tag;){if(ha.flags&2)continue b;if(null===ha.child||4===ha.tag)continue b;
else ha.child.return=ha,ha=ha.child}if(!(ha.flags&2)){ha=ha.stateNode;break a}}Ra?Qb(u,ha,I):cc(u,ha,I)}function Qb(u,I,ha){var Ra=u.tag,jb=5===Ra||6===Ra;if(jb)u=jb?u.stateNode:u.stateNode.instance,I?8===ha.nodeType?ha.parentNode.insertBefore(u,I):ha.insertBefore(u,I):(8===ha.nodeType?(I=ha.parentNode,I.insertBefore(u,ha)):(I=ha,I.appendChild(u)),ha=ha._reactRootContainer,null!==ha&&void 0!==ha||null!==I.onclick||(I.onclick=le));else if(4!==Ra&&(u=u.child,null!==u))for(Qb(u,I,ha),u=u.sibling;null!==
u;)Qb(u,I,ha),u=u.sibling}function cc(u,I,ha){var Ra=u.tag,jb=5===Ra||6===Ra;if(jb)u=jb?u.stateNode:u.stateNode.instance,I?ha.insertBefore(u,I):ha.appendChild(u);else if(4!==Ra&&(u=u.child,null!==u))for(cc(u,I,ha),u=u.sibling;null!==u;)cc(u,I,ha),u=u.sibling}function Vb(u,I){for(var ha=I,Ra=!1,jb,yb;;){if(!Ra){Ra=ha.return;a:for(;;){if(null===Ra)throw Error(g(160));jb=Ra.stateNode;switch(Ra.tag){case 5:yb=!1;break a;case 3:jb=jb.containerInfo;yb=!0;break a;case 4:jb=jb.containerInfo;yb=!0;break a}Ra=
Ra.return}Ra=!0}if(5===ha.tag||6===ha.tag){var Ob=u,ec=ha,Gc=ec;a:for(;;)if(Na(Ob,Gc),null!==Gc.child&&4!==Gc.tag)Gc.child.return=Gc,Gc=Gc.child;else{if(Gc===ec)break a;for(;null===Gc.sibling;){if(null===Gc.return||Gc.return===ec)break a;Gc=Gc.return}Gc.sibling.return=Gc.return;Gc=Gc.sibling}yb?(Ob=jb,ec=ha.stateNode,8===Ob.nodeType?Ob.parentNode.removeChild(ec):Ob.removeChild(ec)):jb.removeChild(ha.stateNode)}else if(4===ha.tag){if(null!==ha.child){jb=ha.stateNode.containerInfo;yb=!0;ha.child.return=
ha;ha=ha.child;continue}}else if(Na(u,ha),null!==ha.child){ha.child.return=ha;ha=ha.child;continue}if(ha===I)break;for(;null===ha.sibling;){if(null===ha.return||ha.return===I)return;ha=ha.return;4===ha.tag&&(Ra=!1)}ha.sibling.return=ha.return;ha=ha.sibling}}function Oc(u,I){switch(I.tag){case 0:case 11:case 14:case 15:case 22:var ha=I.updateQueue;ha=null!==ha?ha.lastEffect:null;if(null!==ha){var Ra=ha=ha.next;do 3===(Ra.tag&3)&&(u=Ra.destroy,Ra.destroy=void 0,void 0!==u&&u()),Ra=Ra.next;while(Ra!==
ha)}return;case 1:return;case 5:ha=I.stateNode;if(null!=ha){Ra=I.memoizedProps;var jb=null!==u?u.memoizedProps:Ra;u=I.type;var yb=I.updateQueue;I.updateQueue=null;if(null!==yb){ha[Ek]=Ra;"input"===u&&"radio"===Ra.type&&null!=Ra.name&&K(ha,Ra);$a(u,jb);I=$a(u,Ra);for(jb=0;jb<yb.length;jb+=2){var Ob=yb[jb],ec=yb[jb+1];"style"===Ob?ua(ha,ec):"dangerouslySetInnerHTML"===Ob?Ij(ha,ec):"children"===Ob?aa(ha,ec):l(ha,Ob,ec,I)}switch(u){case "input":H(ha,Ra);break;case "textarea":Q(ha,Ra);break;case "select":u=
ha._wrapperState.wasMultiple,ha._wrapperState.wasMultiple=!!Ra.multiple,yb=Ra.value,null!=yb?fa(ha,!!Ra.multiple,yb,!1):u!==!!Ra.multiple&&(null!=Ra.defaultValue?fa(ha,!!Ra.multiple,Ra.defaultValue,!0):fa(ha,!!Ra.multiple,Ra.multiple?[]:"",!1))}}}return;case 6:if(null===I.stateNode)throw Error(g(162));I.stateNode.nodeValue=I.memoizedProps;return;case 3:ha=I.stateNode;ha.hydrate&&(ha.hydrate=!1,Fc(ha.containerInfo));return;case 12:return;case 13:null!==I.memoizedState&&(Mk=gh(),ma(I.child,!0));ed(I);
return;case 19:ed(I);return;case 17:return;case 23:case 24:ma(I,null!==I.memoizedState);return}throw Error(g(163));}function ed(u){var I=u.updateQueue;if(null!==I){u.updateQueue=null;var ha=u.stateNode;null===ha&&(ha=u.stateNode=new vl);I.forEach(function(Ra){var jb=Kj.bind(null,u,Ra);ha.has(Ra)||(ha.add(Ra),Ra.then(jb,jb))})}}function zd(u,I){return null!==u&&(u=u.memoizedState,null===u||null!==u.dehydrated)?(I=I.memoizedState,null!==I&&null===I.dehydrated):!1}function qd(){kk=gh()+500}function ad(){return 0!==
(mf&48)?gh():-1!==Nk?Nk:Nk=gh()}function Jc(u){u=u.mode;if(0===(u&2))return 1;if(0===(u&4))return 99===Jf()?1:2;0===Ni&&(Ni=Oi);if(0!==Pl.transition){0!==Tg&&(Tg=null!==dl?dl.pendingLanes:0);u=Ni;var I=4186112&~Tg;I&=-I;0===I&&(u=4186112&~u,I=u&-u,0===I&&(I=8192));return I}u=Jf();0!==(mf&4)&&98===u?u=Kc(12,Ni):(u=Cc(u),u=Kc(u,Ni));return u}function ud(u,I,ha){if(50<Pg)throw Pg=0,Pi=null,Error(g(185));u=de(u,I);if(null===u)return null;vd(u,I,ha);u===lh&&(Jj|=I,4===Qg&&ne(u,fh));var Ra=Jf();1===I?0!==
(mf&8)&&0===(mf&48)?Tf(u):(Sd(u,ha),0===mf&&(qd(),Ca())):(0===(mf&4)||98!==Ra&&99!==Ra||(null===Jg?Jg=new Set([u]):Jg.add(u)),Sd(u,ha));dl=u}function de(u,I){u.lanes|=I;var ha=u.alternate;null!==ha&&(ha.lanes|=I);ha=u;for(u=u.return;null!==u;)u.childLanes|=I,ha=u.alternate,null!==ha&&(ha.childLanes|=I),ha=u,u=u.return;return 3===ha.tag?ha.stateNode:null}function Sd(u,I){for(var ha=u.callbackNode,Ra=u.suspendedLanes,jb=u.pingedLanes,yb=u.expirationTimes,Ob=u.pendingLanes;0<Ob;){var ec=31-Xh(Ob),Gc=
1<<ec,rd=yb[ec];if(-1===rd){if(0===(Gc&Ra)||0!==(Gc&jb)){rd=I;pc(Gc);var oe=Xf;yb[ec]=10<=oe?rd+250:6<=oe?rd+5E3:-1}}else rd<=I&&(u.expiredLanes|=Gc);Ob&=~Gc}Ra=Uc(u,u===lh?fh:0);I=Xf;if(0===Ra)null!==ha&&(ha!==el&&fk(ha),u.callbackNode=null,u.callbackPriority=0);else{if(null!==ha){if(u.callbackPriority===I)return;ha!==el&&fk(ha)}15===I?(ha=Tf.bind(null,u),null===Hi?(Hi=[ha],Dj=$k(Fk,Za)):Hi.push(ha),ha=el):14===I?ha=ya(99,Tf.bind(null,u)):(ha=nc(I),ha=ya(ha,ve.bind(null,u)));u.callbackPriority=I;
u.callbackNode=ha}}function ve(u){Nk=-1;Tg=Ni=0;if(0!==(mf&48))throw Error(g(327));var I=u.callbackNode;if(Rh()&&u.callbackNode!==I)return null;var ha=Uc(u,u===lh?fh:0);if(0===ha)return null;var Ra=ha,jb=mf;mf|=16;var yb=Cf();if(lh!==u||fh!==Ra)qd(),Kf(u,Ra);do try{for(;null!==Rg&&!wl();)Af(Rg);break}catch(ec){jf(u,ec)}while(1);Yi=Zi=Ej=null;Ok.current=yb;mf=jb;null!==Rg?Ra=0:(lh=null,fh=0,Ra=Qg);if(0!==(Oi&Jj))Kf(u,0);else if(0!==Ra){2===Ra&&(mf|=64,u.hydrate&&(u.hydrate=!1,Ge(u.containerInfo)),
ha=Tc(u),0!==ha&&(Ra=xf(u,ha)));if(1===Ra)throw I=nk,Kf(u,0),ne(u,ha),Sd(u,gh()),I;u.finishedWork=u.current.alternate;u.finishedLanes=ha;switch(Ra){case 0:case 1:throw Error(g(345));case 2:Zf(u);break;case 3:ne(u,ha);if((ha&62914560)===ha&&(Ra=Mk+500-gh(),10<Ra)){if(0!==Uc(u,0))break;jb=u.suspendedLanes;if((jb&ha)!==ha){ad();u.pingedLanes|=u.suspendedLanes&jb;break}u.timeoutHandle=bi(Zf.bind(null,u),Ra);break}Zf(u);break;case 4:ne(u,ha);if((ha&4186112)===ha)break;Ra=u.eventTimes;for(jb=-1;0<ha;){var Ob=
31-Xh(ha);yb=1<<Ob;Ob=Ra[Ob];Ob>jb&&(jb=Ob);ha&=~yb}ha=jb;ha=gh()-ha;ha=(120>ha?120:480>ha?480:1080>ha?1080:1920>ha?1920:3E3>ha?3E3:4320>ha?4320:1960*xl(ha/1960))-ha;if(10<ha){u.timeoutHandle=bi(Zf.bind(null,u),ha);break}Zf(u);break;case 5:Zf(u);break;default:throw Error(g(329));}}Sd(u,gh());return u.callbackNode===I?ve.bind(null,u):null}function ne(u,I){I&=~Pk;I&=~Jj;u.suspendedLanes|=I;u.pingedLanes&=~I;for(u=u.expirationTimes;0<I;){var ha=31-Xh(I),Ra=1<<ha;u[ha]=-1;I&=~Ra}}function Tf(u){if(0!==
(mf&48))throw Error(g(327));Rh();if(u===lh&&0!==(u.expiredLanes&fh)){var I=fh,ha=xf(u,I);0!==(Oi&Jj)&&(I=Uc(u,I),ha=xf(u,I))}else I=Uc(u,0),ha=xf(u,I);0!==u.tag&&2===ha&&(mf|=64,u.hydrate&&(u.hydrate=!1,Ge(u.containerInfo)),I=Tc(u),0!==I&&(ha=xf(u,I)));if(1===ha)throw ha=nk,Kf(u,0),ne(u,I),Sd(u,gh()),ha;u.finishedWork=u.current.alternate;u.finishedLanes=I;Zf(u);Sd(u,gh());return null}function se(){if(null!==Jg){var u=Jg;Jg=null;u.forEach(function(I){I.expiredLanes|=24&I.pendingLanes;Sd(I,gh())})}Ca()}
function te(u,I){var ha=mf;mf|=1;try{return u(I)}finally{mf=ha,0===mf&&(qd(),Ca())}}function Be(u,I){var ha=mf;mf&=-2;mf|=8;try{return u(I)}finally{mf=ha,0===mf&&(qd(),Ca())}}function wd(u,I){je(fl,qj);qj|=I;Oi|=I}function We(){qj=fl.current;xe(fl)}function Kf(u,I){u.finishedWork=null;u.finishedLanes=0;var ha=u.timeoutHandle;-1!==ha&&(u.timeoutHandle=-1,Lj(ha));if(null!==Rg)for(ha=Rg.return;null!==ha;){var Ra=ha;switch(Ra.tag){case 1:Ra=Ra.type.childContextTypes;null!==Ra&&void 0!==Ra&&re();break;
case 3:Nf();xe(sh);xe(bh);Sc();break;case 5:Ka(Ra);break;case 4:Nf();break;case 13:xe(xg);break;case 19:xe(xg);break;case 10:ub(Ra);break;case 23:case 24:We()}ha=ha.return}lh=u;Rg=th(u.current,null);fh=qj=Oi=I;Qg=0;nk=null;Pk=Jj=Fj=0}function jf(u,I){do{var ha=Rg;try{Yi=Zi=Ej=null;ch.current=eh;if(Ik){for(var Ra=lg.memoizedState;null!==Ra;){var jb=Ra.queue;null!==jb&&(jb.pending=null);Ra=Ra.next}Ik=!1}ik=0;Og=dh=lg=null;jk=!1;gl.current=null;if(null===ha||null===ha.return){Qg=1;nk=I;Rg=null;break}a:{var yb=
u,Ob=ha.return,ec=ha,Gc=I;I=fh;ec.flags|=2048;ec.firstEffect=ec.lastEffect=null;if(null!==Gc&&"object"===typeof Gc&&"function"===typeof Gc.then){var rd=Gc;if(0===(ec.mode&2)){var oe=ec.alternate;oe?(ec.updateQueue=oe.updateQueue,ec.memoizedState=oe.memoizedState,ec.lanes=oe.lanes):(ec.updateQueue=null,ec.memoizedState=null)}var $e=0!==(xg.current&1),Jd=Ob;do{var Ke;if(Ke=13===Jd.tag){var kf=Jd.memoizedState;if(null!==kf)Ke=null!==kf.dehydrated?!0:!1;else{var af=Jd.memoizedProps;Ke=void 0===af.fallback?
!1:!0!==af.unstable_avoidThisFallback?!0:$e?!1:!0}}if(Ke){var cd=Jd.updateQueue;if(null===cd){var Mc=new Set;Mc.add(rd);Jd.updateQueue=Mc}else cd.add(rd);if(0===(Jd.mode&2)){Jd.flags|=64;ec.flags|=16384;ec.flags&=-2981;if(1===ec.tag)if(null===ec.alternate)ec.tag=17;else{var Xc=Ld(-1,1);Xc.tag=2;Nd(ec,Xc)}ec.lanes|=1;break a}Gc=void 0;ec=I;var Dd=yb.pingCache;null===Dd?(Dd=yb.pingCache=new Qk,Gc=new Set,Dd.set(rd,Gc)):(Gc=Dd.get(rd),void 0===Gc&&(Gc=new Set,Dd.set(rd,Gc)));if(!Gc.has(ec)){Gc.add(ec);
var Id=Qi.bind(null,yb,rd,ec);rd.then(Id,Id)}Jd.flags|=4096;Jd.lanes=I;break a}Jd=Jd.return}while(null!==Jd);Gc=Error((e(ec.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Qg&&(Qg=2);Gc=ob(Gc,ec);Jd=Ob;do{switch(Jd.tag){case 3:yb=Gc;Jd.flags|=4096;I&=-I;Jd.lanes|=I;var rf=Nb(Jd,yb,I);Od(Jd,rf);break a;case 1:yb=Gc;var Ee=
Jd.type,sf=Jd.stateNode;if(0===(Jd.flags&64)&&("function"===typeof Ee.getDerivedStateFromError||null!==sf&&"function"===typeof sf.componentDidCatch&&(null===ai||!ai.has(sf)))){Jd.flags|=4096;I&=-I;Jd.lanes|=I;var Gf=$b(Jd,yb,I);Od(Jd,Gf);break a}}Jd=Jd.return}while(null!==Jd)}Uf(ha)}catch(wf){I=wf;Rg===ha&&null!==ha&&(Rg=ha.return);continue}break}while(1)}function Cf(){var u=Ok.current;Ok.current=eh;return null===u?eh:u}function xf(u,I){var ha=mf;mf|=16;var Ra=Cf();lh===u&&fh===I||Kf(u,I);do try{for(;null!==
Rg;)Af(Rg);break}catch(jb){jf(u,jb)}while(1);Yi=Zi=Ej=null;mf=ha;Ok.current=Ra;if(null!==Rg)throw Error(g(261));lh=null;fh=0;return Qg}function Af(u){var I=Rk(u.alternate,u,qj);u.memoizedProps=u.pendingProps;null===I?Uf(u):Rg=I;gl.current=null}function Uf(u){var I=u;do{var ha=I.alternate;u=I.return;if(0===(I.flags&2048)){ha=cf(ha,I,qj);if(null!==ha){Rg=ha;return}ha=I;if(24!==ha.tag&&23!==ha.tag||null===ha.memoizedState||0!==(qj&1073741824)||0===(ha.mode&4)){for(var Ra=0,jb=ha.child;null!==jb;)Ra|=
jb.lanes|jb.childLanes,jb=jb.sibling;ha.childLanes=Ra}null!==u&&0===(u.flags&2048)&&(null===u.firstEffect&&(u.firstEffect=I.firstEffect),null!==I.lastEffect&&(null!==u.lastEffect&&(u.lastEffect.nextEffect=I.firstEffect),u.lastEffect=I.lastEffect),1<I.flags&&(null!==u.lastEffect?u.lastEffect.nextEffect=I:u.firstEffect=I,u.lastEffect=I))}else{ha=Wa(I);if(null!==ha){ha.flags&=2047;Rg=ha;return}null!==u&&(u.firstEffect=u.lastEffect=null,u.flags|=2048)}I=I.sibling;if(null!==I){Rg=I;return}Rg=I=u}while(null!==
I);0===Qg&&(Qg=5)}function Zf(u){var I=Jf();xc(99,Ug.bind(null,u,I));return null}function Ug(u,I){do Rh();while(null!==oh);if(0!==(mf&48))throw Error(g(327));var ha=u.finishedWork;if(null===ha)return null;u.finishedWork=null;u.finishedLanes=0;if(ha===u.current)throw Error(g(177));u.callbackNode=null;var Ra=ha.lanes|ha.childLanes,jb=Ra,yb=u.pendingLanes&~jb;u.pendingLanes=jb;u.suspendedLanes=0;u.pingedLanes=0;u.expiredLanes&=jb;u.mutableReadLanes&=jb;u.entangledLanes&=jb;jb=u.entanglements;for(var Ob=
u.eventTimes,ec=u.expirationTimes;0<yb;){var Gc=31-Xh(yb),rd=1<<Gc;jb[Gc]=0;Ob[Gc]=-1;ec[Gc]=-1;yb&=~rd}null!==Jg&&0===(Ra&24)&&Jg.has(u)&&Jg.delete(u);u===lh&&(Rg=lh=null,fh=0);1<ha.flags?null!==ha.lastEffect?(ha.lastEffect.nextEffect=ha,Ra=ha.firstEffect):Ra=ha:Ra=ha.firstEffect;if(null!==Ra){jb=mf;mf|=32;gl.current=null;Vg=Wi;Ob=Ed();if(Xd(Ob)){if("selectionStart"in Ob)ec={start:Ob.selectionStart,end:Ob.selectionEnd};else a:if(ec=(ec=Ob.ownerDocument)&&ec.defaultView||window,(rd=ec.getSelection&&
ec.getSelection())&&0!==rd.rangeCount){ec=rd.anchorNode;yb=rd.anchorOffset;Gc=rd.focusNode;rd=rd.focusOffset;try{ec.nodeType,Gc.nodeType}catch(wf){ec=null;break a}var oe=0,$e=-1,Jd=-1,Ke=0,kf=0,af=Ob,cd=null;b:for(;;){for(var Mc;;){af!==ec||0!==yb&&3!==af.nodeType||($e=oe+yb);af!==Gc||0!==rd&&3!==af.nodeType||(Jd=oe+rd);3===af.nodeType&&(oe+=af.nodeValue.length);if(null===(Mc=af.firstChild))break;cd=af;af=Mc}for(;;){if(af===Ob)break b;cd===ec&&++Ke===yb&&($e=oe);cd===Gc&&++kf===rd&&(Jd=oe);if(null!==
(Mc=af.nextSibling))break;af=cd;cd=af.parentNode}af=Mc}ec=-1===$e||-1===Jd?null:{start:$e,end:Jd}}else ec=null;ec=ec||{start:0,end:0}}else ec=null;Sh={focusedElem:Ob,selectionRange:ec};Wi=!1;Mj=null;rj=!1;ze=Ra;do try{Eh()}catch(wf){if(null===ze)throw Error(g(330));nh(ze,wf);ze=ze.nextEffect}while(null!==ze);Mj=null;ze=Ra;do try{for(Ob=u;null!==ze;){var Xc=ze.flags;Xc&16&&aa(ze.stateNode,"");if(Xc&128){var Dd=ze.alternate;if(null!==Dd){var Id=Dd.ref;null!==Id&&("function"===typeof Id?Id(null):Id.current=
null)}}switch(Xc&1038){case 2:sb(ze);ze.flags&=-3;break;case 6:sb(ze);ze.flags&=-3;Oc(ze.alternate,ze);break;case 1024:ze.flags&=-1025;break;case 1028:ze.flags&=-1025;Oc(ze.alternate,ze);break;case 4:Oc(ze.alternate,ze);break;case 8:ec=ze;Vb(Ob,ec);var rf=ec.alternate;hb(ec);null!==rf&&hb(rf)}ze=ze.nextEffect}}catch(wf){if(null===ze)throw Error(g(330));nh(ze,wf);ze=ze.nextEffect}while(null!==ze);Id=Sh;Dd=Ed();Xc=Id.focusedElem;Ob=Id.selectionRange;if(Dd!==Xc&&Xc&&Xc.ownerDocument&&Cd(Xc.ownerDocument.documentElement,
Xc)){null!==Ob&&Xd(Xc)&&(Dd=Ob.start,Id=Ob.end,void 0===Id&&(Id=Dd),"selectionStart"in Xc?(Xc.selectionStart=Dd,Xc.selectionEnd=Math.min(Id,Xc.value.length)):(Id=(Dd=Xc.ownerDocument||document)&&Dd.defaultView||window,Id.getSelection&&(Id=Id.getSelection(),ec=Xc.textContent.length,rf=Math.min(Ob.start,ec),Ob=void 0===Ob.end?rf:Math.min(Ob.end,ec),!Id.extend&&rf>Ob&&(ec=Ob,Ob=rf,rf=ec),ec=nd(Xc,rf),yb=nd(Xc,Ob),ec&&yb&&(1!==Id.rangeCount||Id.anchorNode!==ec.node||Id.anchorOffset!==ec.offset||Id.focusNode!==
yb.node||Id.focusOffset!==yb.offset)&&(Dd=Dd.createRange(),Dd.setStart(ec.node,ec.offset),Id.removeAllRanges(),rf>Ob?(Id.addRange(Dd),Id.extend(yb.node,yb.offset)):(Dd.setEnd(yb.node,yb.offset),Id.addRange(Dd))))));Dd=[];for(Id=Xc;Id=Id.parentNode;)1===Id.nodeType&&Dd.push({element:Id,left:Id.scrollLeft,top:Id.scrollTop});"function"===typeof Xc.focus&&Xc.focus();for(Xc=0;Xc<Dd.length;Xc++)Id=Dd[Xc],Id.element.scrollLeft=Id.left,Id.element.scrollTop=Id.top}Wi=!!Vg;Sh=Vg=null;u.current=ha;ze=Ra;do try{for(Xc=
u;null!==ze;){var Ee=ze.flags;Ee&36&&S(Xc,ze.alternate,ze);if(Ee&128){Dd=void 0;var sf=ze.ref;if(null!==sf){var Gf=ze.stateNode;switch(ze.tag){case 5:Dd=Gf;break;default:Dd=Gf}"function"===typeof sf?sf(Dd):sf.current=Dd}}ze=ze.nextEffect}}catch(wf){if(null===ze)throw Error(g(330));nh(ze,wf);ze=ze.nextEffect}while(null!==ze);ze=null;Ql();mf=jb}else u.current=ha;if(Ri)Ri=!1,oh=u,ok=I;else for(ze=Ra;null!==ze;)I=ze.nextEffect,ze.nextEffect=null,ze.flags&8&&(Ee=ze,Ee.sibling=null,Ee.stateNode=null),ze=
I;Ra=u.pendingLanes;0===Ra&&(ai=null);1===Ra?u===Pi?Pg++:(Pg=0,Pi=u):Pg=0;ha=ha.stateNode;if(Mi&&"function"===typeof Mi.onCommitFiberRoot)try{Mi.onCommitFiberRoot(Lk,ha,void 0,64===(ha.current.flags&64))}catch(wf){}Sd(u,gh());if(Dg)throw Dg=!1,u=lk,lk=null,u;if(0!==(mf&8))return null;Ca();return null}function Eh(){for(;null!==ze;){var u=ze.alternate;rj||null===Mj||(0!==(ze.flags&8)?Ga(ze,Mj)&&(rj=!0):13===ze.tag&&zd(u,ze)&&Ga(ze,Mj)&&(rj=!0));var I=ze.flags;0!==(I&256)&&w(u,ze);0===(I&512)||Ri||(Ri=
!0,ya(97,function(){Rh();return null}));ze=ze.nextEffect}}function Rh(){if(90!==ok){var u=97<ok?97:ok;ok=90;return xc(u,pk)}return!1}function mk(u,I){sj.push(I,u);Ri||(Ri=!0,ya(97,function(){Rh();return null}))}function Kk(u,I){hl.push(I,u);Ri||(Ri=!0,ya(97,function(){Rh();return null}))}function pk(){if(null===oh)return!1;var u=oh;oh=null;if(0!==(mf&48))throw Error(g(331));var I=mf;mf|=32;var ha=hl;hl=[];for(var Ra=0;Ra<ha.length;Ra+=2){var jb=ha[Ra],yb=ha[Ra+1],Ob=jb.destroy;jb.destroy=void 0;if("function"===
typeof Ob)try{Ob()}catch(Gc){if(null===yb)throw Error(g(330));nh(yb,Gc)}}ha=sj;sj=[];for(Ra=0;Ra<ha.length;Ra+=2){jb=ha[Ra];yb=ha[Ra+1];try{var ec=jb.create;jb.destroy=ec()}catch(Gc){if(null===yb)throw Error(g(330));nh(yb,Gc)}}for(ec=u.current.firstEffect;null!==ec;)u=ec.nextEffect,ec.nextEffect=null,ec.flags&8&&(ec.sibling=null,ec.stateNode=null),ec=u;mf=I;Ca();return!0}function qk(u,I,ha){I=ob(ha,I);I=Nb(u,I,1);Nd(u,I);I=ad();u=de(u,1);null!==u&&(vd(u,1,I),Sd(u,I))}function nh(u,I){if(3===u.tag)qk(u,
u,I);else for(var ha=u.return;null!==ha;){if(3===ha.tag){qk(ha,u,I);break}else if(1===ha.tag){var Ra=ha.stateNode;if("function"===typeof ha.type.getDerivedStateFromError||"function"===typeof Ra.componentDidCatch&&(null===ai||!ai.has(Ra))){u=ob(I,u);var jb=$b(ha,u,1);Nd(ha,jb);jb=ad();ha=de(ha,1);if(null!==ha)vd(ha,1,jb),Sd(ha,jb);else if("function"===typeof Ra.componentDidCatch&&(null===ai||!ai.has(Ra)))try{Ra.componentDidCatch(I,u)}catch(yb){}break}}ha=ha.return}}function Qi(u,I,ha){var Ra=u.pingCache;
null!==Ra&&Ra.delete(I);I=ad();u.pingedLanes|=u.suspendedLanes&ha;lh===u&&(fh&ha)===ha&&(4===Qg||3===Qg&&(fh&62914560)===fh&&500>gh()-Mk?Kf(u,0):Pk|=ha);Sd(u,I)}function Kj(u,I){var ha=u.stateNode;null!==ha&&ha.delete(I);I=0;0===I&&(I=u.mode,0===(I&2)?I=1:0===(I&4)?I=99===Jf()?1:2:(0===Ni&&(Ni=Oi),I=Fd(62914560&~Ni),0===I&&(I=4194304)));ha=ad();u=de(u,I);null!==u&&(vd(u,I,ha),Sd(u,ha))}function Sk(u,I,ha,Ra){this.tag=u;this.key=ha;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=
null;this.index=0;this.ref=null;this.pendingProps=I;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Ra;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function kh(u,I,ha,Ra){return new Sk(u,I,ha,Ra)}function $h(u){u=u.prototype;return!(!u||!u.isReactComponent)}function rk(u){if("function"===typeof u)return $h(u)?1:0;if(void 0!==u&&null!==u){u=u.$$typeof;if(u===vf)return 11;if(u===wi)return 14}return 2}
function th(u,I){var ha=u.alternate;null===ha?(ha=kh(u.tag,I,u.key,u.mode),ha.elementType=u.elementType,ha.type=u.type,ha.stateNode=u.stateNode,ha.alternate=u,u.alternate=ha):(ha.pendingProps=I,ha.type=u.type,ha.flags=0,ha.nextEffect=null,ha.firstEffect=null,ha.lastEffect=null);ha.childLanes=u.childLanes;ha.lanes=u.lanes;ha.child=u.child;ha.memoizedProps=u.memoizedProps;ha.memoizedState=u.memoizedState;ha.updateQueue=u.updateQueue;I=u.dependencies;ha.dependencies=null===I?null:{lanes:I.lanes,firstContext:I.firstContext};
ha.sibling=u.sibling;ha.index=u.index;ha.ref=u.ref;return ha}function $i(u,I,ha,Ra,jb,yb){var Ob=2;Ra=u;if("function"===typeof u)$h(u)&&(Ob=1);else if("string"===typeof u)Ob=5;else a:switch(u){case Hg:return Ii(ha.children,jb,yb,I);case Nj:Ob=8;jb|=16;break;case vh:Ob=8;jb|=1;break;case Vh:return u=kh(12,ha,I,jb|8),u.elementType=Vh,u.type=Vh,u.lanes=yb,u;case Wf:return u=kh(13,ha,I,jb),u.type=Wf,u.elementType=Wf,u.lanes=yb,u;case sg:return u=kh(19,ha,I,jb),u.elementType=sg,u.lanes=yb,u;case Oj:return oj(ha,
jb,yb,I);case Si:return u=kh(24,ha,I,jb),u.elementType=Si,u.lanes=yb,u;default:if("object"===typeof u&&null!==u)switch(u.$$typeof){case qh:Ob=10;break a;case fi:Ob=9;break a;case vf:Ob=11;break a;case wi:Ob=14;break a;case xi:Ob=16;Ra=null;break a;case Xg:Ob=22;break a}throw Error(g(130,null==u?u:typeof u,""));}I=kh(Ob,ha,I,jb);I.elementType=u;I.type=Ra;I.lanes=yb;return I}function Ii(u,I,ha,Ra){u=kh(7,u,Ra,I);u.lanes=ha;return u}function oj(u,I,ha,Ra){u=kh(23,u,Ra,I);u.elementType=Oj;u.lanes=ha;
return u}function gk(u,I,ha){u=kh(6,u,null,I);u.lanes=ha;return u}function hk(u,I,ha){I=kh(4,null!==u.children?u.children:[],u.key,I);I.lanes=ha;I.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation};return I}function il(u,I,ha){this.tag=I;this.containerInfo=u;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=ha;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=
fe(0);this.expirationTimes=fe(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=fe(0);this.mutableSourceEagerHydrationData=null}function Kg(u,I,ha){var Ra=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ug,key:null==Ra?null:""+Ra,children:u,containerInfo:I,implementation:ha}}function tj(u,I,ha,Ra){var jb=I.current,yb=ad(),Ob=Jc(jb);a:if(ha){ha=ha._reactInternals;
b:{if(na(ha)!==ha||1!==ha.tag)throw Error(g(170));var ec=ha;do{switch(ec.tag){case 3:ec=ec.stateNode.context;break b;case 1:if(De(ec.type)){ec=ec.stateNode.__reactInternalMemoizedMergedChildContext;break b}}ec=ec.return}while(null!==ec);throw Error(g(171));}if(1===ha.tag){var Gc=ha.type;if(De(Gc)){ha=Hf(ha,Gc,ec);break a}}ha=ec}else ha=Gi;null===I.context?I.context=ha:I.pendingContext=ha;I=Ld(yb,Ob);I.payload={element:u};Ra=void 0===Ra?null:Ra;null!==Ra&&(I.callback=Ra);Nd(jb,I);ud(jb,Ob,yb);return Ob}
function sk(u){u=u.current;if(!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function ci(u,I){u=u.memoizedState;if(null!==u&&null!==u.dehydrated){var ha=u.retryLane;u.retryLane=0!==ha&&ha<I?ha:I}}function Lg(u,I){ci(u,I);(u=u.alternate)&&ci(u,I)}function Pj(){return null}function Qj(u,I,ha){var Ra=null!=ha&&null!=ha.hydrationOptions&&ha.hydrationOptions.mutableSources||null;ha=new il(u,I,null!=ha&&!0===ha.hydrate);I=kh(3,null,null,2===I?
7:1===I?3:0);ha.current=I;I.stateNode=ha;ld(I);u[pg]=ha.current;ff(8===u.nodeType?u.parentNode:u);if(Ra)for(u=0;u<Ra.length;u++){I=Ra[u];var jb=I._getVersion;jb=jb(I._source);null==ha.mutableSourceEagerHydrationData?ha.mutableSourceEagerHydrationData=[I,jb]:ha.mutableSourceEagerHydrationData.push(I,jb)}this._internalRoot=ha}function ui(u){return!(!u||1!==u.nodeType&&9!==u.nodeType&&11!==u.nodeType&&(8!==u.nodeType||" react-mount-point-unstable "!==u.nodeValue))}function mg(u,I){I||(I=u?9===u.nodeType?
u.documentElement:u.firstChild:null,I=!(!I||1!==I.nodeType||!I.hasAttribute("data-reactroot")));if(!I)for(var ha;ha=u.lastChild;)u.removeChild(ha);return new Qj(u,0,I?{hydrate:!0}:void 0)}function Ti(u,I,ha,Ra,jb){var yb=ha._reactRootContainer;if(yb){var Ob=yb._internalRoot;if("function"===typeof jb){var ec=jb;jb=function(){var rd=sk(Ob);ec.call(rd)}}tj(I,Ob,u,jb)}else{yb=ha._reactRootContainer=mg(ha,Ra);Ob=yb._internalRoot;if("function"===typeof jb){var Gc=jb;jb=function(){var rd=sk(Ob);Gc.call(rd)}}Be(function(){tj(I,
Ob,u,jb)})}return sk(Ob)}function ph(u,I){var ha=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ui(I))throw Error(g(200));return Kg(u,I,null,ha)}var Ui=B(3),eg=B(0),Cg=B(6);if(!Ui)throw Error(g(227));var ah=new Set,vi={},Th=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
hj=Object.prototype.hasOwnProperty,ak={},Zj={},rg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){rg[u]=new y(u,0,!1,u,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var I=u[0];rg[I]=new y(I,1,!1,u[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(u){rg[u]=
new y(u,2,!1,u.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){rg[u]=new y(u,2,!1,u,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){rg[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(u){rg[u]=new y(u,3,!0,u,null,!1,!1)});["capture","download"].forEach(function(u){rg[u]=new y(u,4,!1,u,null,!1,!1)});["cols","rows","size","span"].forEach(function(u){rg[u]=new y(u,6,!1,u,null,!1,!1)});["rowSpan","start"].forEach(function(u){rg[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var Rj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var I=
u.replace(Rj,v);rg[I]=new y(I,1,!1,u,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var I=u.replace(Rj,v);rg[I]=new y(I,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(u){var I=u.replace(Rj,v);rg[I]=new y(I,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(u){rg[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)});rg.xlinkHref=new y("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(u){rg[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});var $g=Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ji=60103,ug=60106,Hg=60107,vh=60108,Vh=60114,qh=60109,fi=60110,vf=60112,Wf=60113,sg=60120,wi=60115,xi=60116,Xg=60121,Ei=60128,Nj=60129,Oj=60130,Si=60131;if("function"===typeof Symbol&&Symbol.for){var yg=Symbol.for;Ji=yg("react.element");ug=yg("react.portal");Hg=yg("react.fragment");
vh=yg("react.strict_mode");Vh=yg("react.profiler");qh=yg("react.provider");fi=yg("react.context");vf=yg("react.forward_ref");Wf=yg("react.suspense");sg=yg("react.suspense_list");wi=yg("react.memo");xi=yg("react.lazy");Xg=yg("react.block");yg("react.scope");Ei=yg("react.opaque.id");Nj=yg("react.debug_trace_mode");Oj=yg("react.offscreen");Si=yg("react.legacy_hidden")}var Gg="function"===typeof Symbol&&Symbol.iterator,Wg,yj=!1,pj={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},hh,Ij=function(u){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(I,ha,Ra,jb){MSApp.execUnsafeLocalFunction(function(){return u(I,ha,Ra,jb)})}:u}(function(u,I){if(u.namespaceURI!==pj.svg||"innerHTML"in u)u.innerHTML=I;else{hh=hh||document.createElement("div");hh.innerHTML="\x3csvg\x3e"+I.valueOf().toString()+"\x3c/svg\x3e";for(I=hh.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;I.firstChild;)u.appendChild(I.firstChild)}}),gi={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Df=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(u){Df.forEach(function(I){I=I+u.charAt(0).toUpperCase()+u.substring(1);gi[I]=gi[u]})});var hi=eg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),vg=null,Ef=null,Kh=null,wh=Fa,Oh=!1,Lh=!1,Ci=!1;if(Th)try{var Fh={};Object.defineProperty(Fh,"passive",{get:function(){Ci=
!0}});window.addEventListener("test",Fh,Fh);window.removeEventListener("test",Fh,Fh)}catch(u){Ci=!1}var yi=!1,ii=null,Vi=!1,zi=null,Se={onError:function(u){yi=!0;ii=u}},zj=!1,jh=[],ih=null,Mh=null,Nh=null,Wh=new Map,ji=new Map,Ai=[],oi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),xh=
{animationend:mb("Animation","AnimationEnd"),animationiteration:mb("Animation","AnimationIteration"),animationstart:mb("Animation","AnimationStart"),transitionend:mb("Transition","TransitionEnd")},tg={},Bi={};Th&&(Bi=document.createElement("div").style,"AnimationEvent"in window||(delete xh.animationend.animation,delete xh.animationiteration.animation,delete xh.animationstart.animation),"TransitionEvent"in window||delete xh.transitionend.transition);var yh=dc("animationend"),kj=dc("animationiteration"),
Bj=dc("animationstart"),zh=dc("transitionend"),li=new Map,ki=new Map,Sj=["abort","abort",yh,"animationEnd",kj,"animationIteration",Bj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",zh,"transitionEnd","waiting","waiting"],Gh=Cg.unstable_now;Gh();var Xf=8,Xh=Math.clz32?Math.clz32:Rc,mi=Math.log,ni=Math.LN2,ij=Cg.unstable_UserBlockingPriority,Ck=Cg.unstable_runWithPriority,Wi=!0,rh=null,pi=null,Ig=null,Mg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=La(Mg),Uh=eg({},Mg,{view:0,detail:0}),
dk=La(Uh),Hh,di,bj,Eg=eg({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wb,button:0,buttons:0,relatedTarget:function(u){return void 0===u.relatedTarget?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){if("movementX"in u)return u.movementX;u!==bj&&(bj&&"mousemove"===u.type?(Hh=u.screenX-bj.screenX,di=u.screenY-bj.screenY):di=Hh=0,bj=u);return Hh},movementY:function(u){return"movementY"in
u?u.movementY:di}}),Aj=La(Eg),tk=eg({},Eg,{dataTransfer:0}),Yh=La(tk),cj=eg({},Uh,{relatedTarget:0}),Di=La(cj),dj=eg({},Mg,{animationName:0,elapsedTime:0,pseudoElement:0}),lj=La(dj),ej=eg({},Mg,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Dk=La(ej),uk=eg({},Mg,{data:0}),Cj=La(uk),uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
vk=eg({},Uh,{key:function(u){if(u.key){var I=uj[u.key]||u.key;if("Unidentified"!==I)return I}return"keypress"===u.type?(u=Vc(u),13===u?"Enter":String.fromCharCode(u)):"keydown"===u.type||"keyup"===u.type?fj[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wb,charCode:function(u){return"keypress"===u.type?Vc(u):0},keyCode:function(u){return"keydown"===u.type||"keyup"===u.type?u.keyCode:0},which:function(u){return"keypress"===
u.type?Vc(u):"keydown"===u.type||"keyup"===u.type?u.keyCode:0}}),jj=La(vk),wk=eg({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yg=La(wk),dg=eg({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wb}),og=La(dg),jl=eg({},Mg,{propertyName:0,elapsedTime:0,pseudoElement:0}),mj=La(jl),b=eg({},Eg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:
0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),r=La(b),W=[9,13,27,32],T=Th&&"CompositionEvent"in window,ia=null;Th&&"documentMode"in document&&(ia=document.documentMode);var Ma=Th&&"TextEvent"in window&&!ia,Ya=Th&&(!T||ia&&8<ia&&11>=ia),bb=String.fromCharCode(32),tb=!1,Kb=!1,ac={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},Qc=null,rc=null,wc=!1;if(Th){if(Th){var td="oninput"in document;if(!td){var be=document.createElement("div");be.setAttribute("oninput","return;");td="function"===typeof be.oninput}var Re=td}else Re=!1;wc=Re&&(!document.documentMode||9<document.documentMode)}var ef="function"===typeof Object.is?Object.is:uc,Ie=Object.prototype.hasOwnProperty,cg=Th&&"documentMode"in document&&11>=document.documentMode,Ff=null,bg=null,ag=null,qf=!1;Bc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Bc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Bc(Sj,2);for(var fg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vf=0;Vf<fg.length;Vf++)ki.set(fg[Vf],0);n("onMouseEnter",["mouseout","mouseover"]);n("onMouseLeave",
["mouseout","mouseover"]);n("onPointerEnter",["pointerout","pointerover"]);n("onPointerLeave",["pointerout","pointerover"]);m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));m("onBeforeInput",["compositionend","keypress","textInput","paste"]);m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));m("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf)),Sg="_reactListening"+Math.random().toString(36).slice(2),
Vg=null,Sh=null,bi="function"===typeof setTimeout?setTimeout:void 0,Lj="function"===typeof clearTimeout?clearTimeout:void 0,kl=0,Tk=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Tk,Ek="__reactProps$"+Tk,pg="__reactContainer$"+Tk,Ph="__reactEvents$"+Tk,ek=[],Zh=-1,Gi={},bh=Ic(Gi),sh=Ic(!1),Xi=Gi,Lk=null,Mi=null,Gk=Cg.unstable_runWithPriority,$k=Cg.unstable_scheduleCallback,fk=Cg.unstable_cancelCallback,wl=Cg.unstable_shouldYield,yl=Cg.unstable_requestPaint,Tj=Cg.unstable_now,Ll=Cg.unstable_getCurrentPriorityLevel,
Fk=Cg.unstable_ImmediatePriority,ql=Cg.unstable_UserBlockingPriority,rl=Cg.unstable_NormalPriority,sl=Cg.unstable_LowPriority,tl=Cg.unstable_IdlePriority,el={},Ql=void 0!==yl?yl:function(){},Hi=null,Dj=null,al=!1,zl=Tj(),gh=1E4>zl?Tj:function(){return Tj()-zl},Pl=$g.ReactCurrentBatchConfig,Hk=Ic(null),Ej=null,Zi=null,Yi=null,ri=!1,ul=(new Ui.Component).refs,Gj={isMounted:function(u){return(u=u._reactInternals)?na(u)===u:!1},enqueueSetState:function(u,I,ha){u=u._reactInternals;var Ra=ad(),jb=Jc(u),
yb=Ld(Ra,jb);yb.payload=I;void 0!==ha&&null!==ha&&(yb.callback=ha);Nd(u,yb);ud(u,jb,Ra)},enqueueReplaceState:function(u,I,ha){u=u._reactInternals;var Ra=ad(),jb=Jc(u),yb=Ld(Ra,jb);yb.tag=1;yb.payload=I;void 0!==ha&&null!==ha&&(yb.callback=ha);Nd(u,yb);ud(u,jb,Ra)},enqueueForceUpdate:function(u,I){u=u._reactInternals;var ha=ad(),Ra=Jc(u),jb=Ld(ha,Ra);jb.tag=2;void 0!==I&&null!==I&&(jb.callback=I);Nd(u,jb);ud(u,Ra,ha)}},Bh=Array.isArray,pf=zf(!0),ng=zf(!1),Md={},wg=Ic(Md),Qh=Ic(Md),Hj=Ic(Md),xg=Ic(0),
Dh=null,si=null,Ch=!1,nj=[],ch=$g.ReactCurrentDispatcher,mh=$g.ReactCurrentBatchConfig,ik=0,lg=null,dh=null,Og=null,Ik=!1,jk=!1,eh={readContext:Nc,useCallback:gd,useContext:gd,useEffect:gd,useImperativeHandle:gd,useLayoutEffect:gd,useMemo:gd,useReducer:gd,useRef:gd,useState:gd,useDebugValue:gd,useDeferredValue:gd,useTransition:gd,useMutableSource:gd,useOpaqueIdentifier:gd,unstable_isNewReconciler:!1},bl={readContext:Nc,useCallback:function(u,I){ie().memoizedState=[u,void 0===I?null:I];return u},useContext:Nc,
useEffect:xa,useImperativeHandle:function(u,I,ha){ha=null!==ha&&void 0!==ha?ha.concat([u]):null;return Rf(4,2,Sa.bind(null,I,u),ha)},useLayoutEffect:function(u,I){return Rf(4,2,u,I)},useMemo:function(u,I){var ha=ie();I=void 0===I?null:I;u=u();ha.memoizedState=[u,I];return u},useReducer:function(u,I,ha){var Ra=ie();I=void 0!==ha?ha(I):I;Ra.memoizedState=Ra.baseState=I;u=Ra.queue={pending:null,dispatch:null,lastRenderedReducer:u,lastRenderedState:I};u=u.dispatch=Mb.bind(null,lg,u);return[Ra.memoizedState,
u]},useRef:Bf,useState:Te,useDebugValue:ib,useDeferredValue:function(u){var I=Te(u),ha=I[0],Ra=I[1];xa(function(){var jb=mh.transition;mh.transition=1;try{Ra(u)}finally{mh.transition=jb}},[u]);return ha},useTransition:function(){var u=Te(!1),I=u[0];u=zb.bind(null,u[1]);Bf(u);return[u,I]},useMutableSource:function(u,I,ha){var Ra=ie();Ra.memoizedState={refs:{getSnapshot:I,setSnapshot:null},source:u,subscribe:ha};return Le(Ra,u,I,ha)},useOpaqueIdentifier:function(){if(Ch){var u=!1,I=we(function(){u||
(u=!0,ha("r:"+(kl++).toString(36)));throw Error(g(355));}),ha=Te(I)[1];0===(lg.mode&2)&&(lg.flags|=516,uf(5,function(){ha("r:"+(kl++).toString(36))},void 0,null));return I}I="r:"+(kl++).toString(36);Te(I);return I},unstable_isNewReconciler:!1},Nl={readContext:Nc,useCallback:rb,useContext:Nc,useEffect:za,useImperativeHandle:gb,useLayoutEffect:Oa,useMemo:Eb,useReducer:pe,useRef:Ag,useState:function(){return pe(Ne)},useDebugValue:ib,useDeferredValue:function(u){var I=pe(Ne),ha=I[0],Ra=I[1];za(function(){var jb=
mh.transition;mh.transition=1;try{Ra(u)}finally{mh.transition=jb}},[u]);return ha},useTransition:function(){var u=pe(Ne)[0];return[Ag().current,u]},useMutableSource:Of,useOpaqueIdentifier:function(){return pe(Ne)[0]},unstable_isNewReconciler:!1},Zg={readContext:Nc,useCallback:rb,useContext:Nc,useEffect:za,useImperativeHandle:gb,useLayoutEffect:Oa,useMemo:Eb,useReducer:He,useRef:Ag,useState:function(){return He(Ne)},useDebugValue:ib,useDeferredValue:function(u){var I=He(Ne),ha=I[0],Ra=I[1];za(function(){var jb=
mh.transition;mh.transition=1;try{Ra(u)}finally{mh.transition=jb}},[u]);return ha},useTransition:function(){var u=He(Ne)[0];return[Ag().current,u]},useMutableSource:Of,useOpaqueIdentifier:function(){return He(Ne)[0]},unstable_isNewReconciler:!1},ti=$g.ReactCurrentOwner,Ah=!1,Jk={dehydrated:null,retryLane:0};var Ki=function(u,I){for(var ha=I.child;null!==ha;){if(5===ha.tag||6===ha.tag)u.appendChild(ha.stateNode);else if(4!==ha.tag&&null!==ha.child){ha.child.return=ha;ha=ha.child;continue}if(ha===I)break;
for(;null===ha.sibling;){if(null===ha.return||ha.return===I)return;ha=ha.return}ha.sibling.return=ha.return;ha=ha.sibling}};var cl=function(){};var Ol=function(u,I,ha,Ra){var jb=u.memoizedProps;if(jb!==Ra){u=I.stateNode;tf(wg.current);var yb=null;switch(ha){case "input":jb=G(u,jb);Ra=G(u,Ra);yb=[];break;case "option":jb=ba(u,jb);Ra=ba(u,Ra);yb=[];break;case "select":jb=eg({},jb,{value:void 0});Ra=eg({},Ra,{value:void 0});yb=[];break;case "textarea":jb=ja(u,jb);Ra=ja(u,Ra);yb=[];break;default:"function"!==
typeof jb.onClick&&"function"===typeof Ra.onClick&&(u.onclick=le)}Ea(ha,Ra);var Ob;ha=null;for(rd in jb)if(!Ra.hasOwnProperty(rd)&&jb.hasOwnProperty(rd)&&null!=jb[rd])if("style"===rd){var ec=jb[rd];for(Ob in ec)ec.hasOwnProperty(Ob)&&(ha||(ha={}),ha[Ob]="")}else"dangerouslySetInnerHTML"!==rd&&"children"!==rd&&"suppressContentEditableWarning"!==rd&&"suppressHydrationWarning"!==rd&&"autoFocus"!==rd&&(vi.hasOwnProperty(rd)?yb||(yb=[]):(yb=yb||[]).push(rd,null));for(rd in Ra){var Gc=Ra[rd];ec=null!=jb?
jb[rd]:void 0;if(Ra.hasOwnProperty(rd)&&Gc!==ec&&(null!=Gc||null!=ec))if("style"===rd)if(ec){for(Ob in ec)!ec.hasOwnProperty(Ob)||Gc&&Gc.hasOwnProperty(Ob)||(ha||(ha={}),ha[Ob]="");for(Ob in Gc)Gc.hasOwnProperty(Ob)&&ec[Ob]!==Gc[Ob]&&(ha||(ha={}),ha[Ob]=Gc[Ob])}else ha||(yb||(yb=[]),yb.push(rd,ha)),ha=Gc;else"dangerouslySetInnerHTML"===rd?(Gc=Gc?Gc.__html:void 0,ec=ec?ec.__html:void 0,null!=Gc&&ec!==Gc&&(yb=yb||[]).push(rd,Gc)):"children"===rd?"string"!==typeof Gc&&"number"!==typeof Gc||(yb=yb||[]).push(rd,
""+Gc):"suppressContentEditableWarning"!==rd&&"suppressHydrationWarning"!==rd&&(vi.hasOwnProperty(rd)?(null!=Gc&&"onScroll"===rd&&me("scroll",u),yb||ec===Gc||(yb=[])):"object"===typeof Gc&&null!==Gc&&Gc.$$typeof===Ei?Gc.toString():(yb=yb||[]).push(rd,Gc))}ha&&(yb=yb||[]).push("style",ha);var rd;if(I.updateQueue=yb)I.flags|=4}};var Li=function(u,I,ha,Ra){ha!==Ra&&(I.flags|=4)};var Qk="function"===typeof WeakMap?WeakMap:Map,vl="function"===typeof WeakSet?WeakSet:Set,xl=Math.ceil,Ok=$g.ReactCurrentDispatcher,
gl=$g.ReactCurrentOwner,mf=0,lh=null,Rg=null,fh=0,qj=0,fl=Ic(0),Qg=0,nk=null,Oi=0,Fj=0,Jj=0,Pk=0,dl=null,Mk=0,kk=Infinity,ze=null,Dg=!1,lk=null,ai=null,Ri=!1,oh=null,ok=90,sj=[],hl=[],Jg=null,Pg=0,Pi=null,Nk=-1,Ni=0,Tg=0,Mj=null,rj=!1;var Rk=function(u,I,ha){var Ra=I.lanes;if(null!==u)if(u.memoizedProps!==I.pendingProps||sh.current)Ah=!0;else if(0!==(ha&Ra))Ah=0!==(u.flags&16384)?!0:!1;else{Ah=!1;switch(I.tag){case 3:Yb(I);si=Dh=null;Ch=!1;break;case 5:Aa(I);break;case 1:De(I.type)&&If(I);break;case 4:Oe(I,
I.stateNode.containerInfo);break;case 10:Ra=I.memoizedProps.value;var jb=I.type._context;je(Hk,jb._currentValue);jb._currentValue=Ra;break;case 13:if(null!==I.memoizedState){if(0!==(ha&I.child.childLanes))return oc(u,I,ha);je(xg,xg.current&1);I=Bd(u,I,ha);return null!==I?I.sibling:null}je(xg,xg.current&1);break;case 19:Ra=0!==(ha&I.childLanes);if(0!==(u.flags&64)){if(Ra)return pd(u,I,ha);I.flags|=64}jb=I.memoizedState;null!==jb&&(jb.rendering=null,jb.tail=null,jb.lastEffect=null);je(xg,xg.current);
if(Ra)break;else return null;case 23:case 24:return I.lanes=0,pa(u,I,ha)}return Bd(u,I,ha)}else Ah=!1;I.lanes=0;switch(I.tag){case 2:Ra=I.type;null!==u&&(u.alternate=null,I.alternate=null,I.flags|=2);u=I.pendingProps;jb=gc(I,bh.current);vc(I,ha);jb=he(null,I,Ra,u,jb,ha);I.flags|=1;if("object"===typeof jb&&null!==jb&&"function"===typeof jb.render&&void 0===jb.$$typeof){I.tag=1;I.memoizedState=null;I.updateQueue=null;if(De(Ra)){var yb=!0;If(I)}else yb=!1;I.memoizedState=null!==jb.state&&void 0!==jb.state?
jb.state:null;ld(I);var Ob=Ra.getDerivedStateFromProps;"function"===typeof Ob&&kd(I,Ra,Ob,u);jb.updater=Gj;I.stateNode=jb;jb._reactInternals=I;Ve(I,Ra,u,ha);I=Rb(null,I,Ra,!0,yb,ha)}else I.tag=0,Lb(null,I,jb,ha),I=I.child;return I;case 16:jb=I.elementType;a:{null!==u&&(u.alternate=null,I.alternate=null,I.flags|=2);u=I.pendingProps;yb=jb._init;jb=yb(jb._payload);I.type=jb;yb=I.tag=rk(jb);u=Fb(jb,u);switch(yb){case 0:I=Va(null,I,jb,u,ha);break a;case 1:I=xb(null,I,jb,u,ha);break a;case 11:I=bc(null,
I,jb,u,ha);break a;case 14:I=sc(null,I,jb,Fb(jb.type,u),Ra,ha);break a}throw Error(g(306,jb,""));}return I;case 0:return Ra=I.type,jb=I.pendingProps,jb=I.elementType===Ra?jb:Fb(Ra,jb),Va(u,I,Ra,jb,ha);case 1:return Ra=I.type,jb=I.pendingProps,jb=I.elementType===Ra?jb:Fb(Ra,jb),xb(u,I,Ra,jb,ha);case 3:Yb(I);Ra=I.updateQueue;if(null===u||null===Ra)throw Error(g(282));Ra=I.pendingProps;jb=I.memoizedState;jb=null!==jb?jb.element:null;Pc(u,I);od(I,Ra,null,ha);Ra=I.memoizedState.element;if(Ra===jb)si=Dh=
null,Ch=!1,I=Bd(u,I,ha);else{jb=I.stateNode;if(yb=jb.hydrate)si=Td(I.stateNode.containerInfo.firstChild),Dh=I,yb=Ch=!0;if(yb){u=jb.mutableSourceEagerHydrationData;if(null!=u)for(jb=0;jb<u.length;jb+=2)yb=u[jb],yb._workInProgressVersionPrimary=u[jb+1],nj.push(yb);ha=ng(I,null,Ra,ha);for(I.child=ha;ha;)ha.flags=ha.flags&-3|1024,ha=ha.sibling}else Lb(u,I,Ra,ha),si=Dh=null,Ch=!1;I=I.child}return I;case 5:return Aa(I),null===u&&hc(I),Ra=I.type,jb=I.pendingProps,yb=null!==u?u.memoizedProps:null,Ob=jb.children,
Mf(Ra,jb)?Ob=null:null!==yb&&Mf(Ra,yb)&&(I.flags|=16),Qa(u,I),Lb(u,I,Ob,ha),I.child;case 6:return null===u&&hc(I),null;case 13:return oc(u,I,ha);case 4:return Oe(I,I.stateNode.containerInfo),Ra=I.pendingProps,null===u?I.child=pf(I,null,Ra,ha):Lb(u,I,Ra,ha),I.child;case 11:return Ra=I.type,jb=I.pendingProps,jb=I.elementType===Ra?jb:Fb(Ra,jb),bc(u,I,Ra,jb,ha);case 7:return Lb(u,I,I.pendingProps,ha),I.child;case 8:return Lb(u,I,I.pendingProps.children,ha),I.child;case 12:return Lb(u,I,I.pendingProps.children,
ha),I.child;case 10:a:{Ra=I.type._context;jb=I.pendingProps;Ob=I.memoizedProps;yb=jb.value;var ec=I.type._context;je(Hk,ec._currentValue);ec._currentValue=yb;if(null!==Ob)if(ec=Ob.value,yb=ef(ec,yb)?0:("function"===typeof Ra._calculateChangedBits?Ra._calculateChangedBits(ec,yb):1073741823)|0,0===yb){if(Ob.children===jb.children&&!sh.current){I=Bd(u,I,ha);break a}}else for(ec=I.child,null!==ec&&(ec.return=I);null!==ec;){var Gc=ec.dependencies;if(null!==Gc){Ob=ec.child;for(var rd=Gc.firstContext;null!==
rd;){if(rd.context===Ra&&0!==(rd.observedBits&yb)){1===ec.tag&&(rd=Ld(-1,ha&-ha),rd.tag=2,Nd(ec,rd));ec.lanes|=ha;rd=ec.alternate;null!==rd&&(rd.lanes|=ha);Wb(ec.return,ha);Gc.lanes|=ha;break}rd=rd.next}}else Ob=10===ec.tag?ec.type===I.type?null:ec.child:ec.child;if(null!==Ob)Ob.return=ec;else for(Ob=ec;null!==Ob;){if(Ob===I){Ob=null;break}ec=Ob.sibling;if(null!==ec){ec.return=Ob.return;Ob=ec;break}Ob=Ob.return}ec=Ob}Lb(u,I,jb.children,ha);I=I.child}return I;case 9:return jb=I.type,yb=I.pendingProps,
Ra=yb.children,vc(I,ha),jb=Nc(jb,yb.unstable_observedBits),Ra=Ra(jb),I.flags|=1,Lb(u,I,Ra,ha),I.child;case 14:return jb=I.type,yb=Fb(jb,I.pendingProps),yb=Fb(jb.type,yb),sc(u,I,jb,yb,Ra,ha);case 15:return Y(u,I,I.type,I.pendingProps,Ra,ha);case 17:return Ra=I.type,jb=I.pendingProps,jb=I.elementType===Ra?jb:Fb(Ra,jb),null!==u&&(u.alternate=null,I.alternate=null,I.flags|=2),I.tag=1,De(Ra)?(u=!0,If(I)):u=!1,vc(I,ha),bf(I,Ra,jb),Ve(I,Ra,jb,ha),Rb(null,I,Ra,!0,u,ha);case 19:return pd(u,I,ha);case 23:return pa(u,
I,ha);case 24:return pa(u,I,ha)}throw Error(g(156,I.tag));};Qj.prototype.render=function(u){tj(u,this._internalRoot,null,null)};Qj.prototype.unmount=function(){var u=this._internalRoot,I=u.containerInfo;tj(null,u,null,function(){I[pg]=null})};var Kl=function(u){if(13===u.tag){var I=ad();ud(u,4,I);Lg(u,4)}};var ck=function(u){if(13===u.tag){var I=ad();ud(u,67108864,I);Lg(u,67108864)}};var Bk=function(u){if(13===u.tag){var I=ad(),ha=Jc(u);ud(u,ha,I);Lg(u,ha)}};var Jl=function(u,I){return I()};vg=function(u,
I,ha){switch(I){case "input":H(u,ha);I=ha.name;if("radio"===ha.type&&null!=I){for(ha=u;ha.parentNode;)ha=ha.parentNode;ha=ha.querySelectorAll("input[name\x3d"+JSON.stringify(""+I)+'][type\x3d"radio"]');for(I=0;I<ha.length;I++){var Ra=ha[I];if(Ra!==u&&Ra.form===u.form){var jb=Qe(Ra);if(!jb)throw Error(g(90));P(Ra);H(Ra,jb)}}}break;case "textarea":Q(u,ha);break;case "select":I=ha.value,null!=I&&fa(u,!!ha.multiple,I,!1)}};Fa=te;va=function(u,I,ha,Ra,jb){var yb=mf;mf|=4;try{return xc(98,u.bind(null,I,
ha,Ra,jb))}finally{mf=yb,0===mf&&(qd(),Ca())}};V=function(){0===(mf&49)&&(se(),Rh())};wh=function(u,I){var ha=mf;mf|=2;try{return u(I)}finally{mf=ha,0===mf&&(qd(),Ca())}};var Uk={Events:[Pe,Qd,Qe,Ta,Xa,Rh,{current:!1}]},Uj={findFiberByHostInstance:nf,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},ll={bundleType:Uj.bundleType,version:Uj.version,rendererPackageName:Uj.rendererPackageName,rendererConfig:Uj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$g.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){u=Ba(u);return null===u?null:u.stateNode},findFiberByHostInstance:Uj.findFiberByHostInstance||Pj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Vk=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Vk.isDisabled&&Vk.supportsFiber)try{Lk=Vk.inject(ll),Mi=Vk}catch(u){}}F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uk;F.createPortal=ph;F.findDOMNode=function(u){if(null==u)return null;if(1===u.nodeType)return u;var I=u._reactInternals;if(void 0===I){if("function"===typeof u.render)throw Error(g(188));throw Error(g(268,Object.keys(u)));}u=Ba(I);return u=null===u?null:u.stateNode};F.flushSync=function(u,I){var ha=mf;if(0!==(ha&48))return u(I);mf|=1;try{if(u)return xc(99,u.bind(null,I))}finally{mf=
ha,Ca()}};F.hydrate=function(u,I,ha){if(!ui(I))throw Error(g(200));return Ti(null,u,I,!0,ha)};F.render=function(u,I,ha){if(!ui(I))throw Error(g(200));return Ti(null,u,I,!1,ha)};F.unmountComponentAtNode=function(u){if(!ui(u))throw Error(g(40));return u._reactRootContainer?(Be(function(){Ti(null,null,u,!1,function(){u._reactRootContainer=null;u[pg]=null})}),!0):!1};F.unstable_batchedUpdates=te;F.unstable_createPortal=function(u,I){return ph(u,I,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};F.unstable_renderSubtreeIntoContainer=function(u,I,ha,Ra){if(!ui(ha))throw Error(g(200));if(null==u||void 0===u._reactInternals)throw Error(g(38));return Ti(u,I,ha,!1,Ra)};F.version="17.0.1"};
shadow$provide[12]=function(Ja,B,qb,F){function g(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(m){console.error(m)}}g();qb.exports=B(7)};
shadow$provide[13]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?qb.exports=m():"function"===typeof define&&define.amd?define(m):(g="undefined"!==typeof globalThis?globalThis:g||self,g.marked=m())})(this,function(){function g(qa,Ha){for(var na=0;na<Ha.length;na++){var Pa=Ha[na];Pa.enumerable=Pa.enumerable||!1;Pa.configurable=!0;"value"in Pa&&(Pa.writable=!0);Object.defineProperty(qa,Pa.key,Pa)}}function m(qa,Ha,na){Ha&&g(qa.prototype,Ha);na&&g(qa,na);return qa}function n(qa,
Ha){if(qa){if("string"===typeof qa)return E(qa,Ha);var na=Object.prototype.toString.call(qa).slice(8,-1);"Object"===na&&qa.constructor&&(na=qa.constructor.name);if("Map"===na||"Set"===na)return Array.from(qa);if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na))return E(qa,Ha)}}function E(qa,Ha){if(null==Ha||Ha>qa.length)Ha=qa.length;for(var na=0,Pa=Array(Ha);na<Ha;na++)Pa[na]=qa[na];return Pa}function O(qa,Ha){var na;if("undefined"===typeof Symbol||null==qa[Symbol.iterator]){if(Array.isArray(qa)||
(na=n(qa))||Ha&&qa&&"number"===typeof qa.length){na&&(qa=na);var Pa=0;return function(){return Pa>=qa.length?{done:!0}:{done:!1,value:qa[Pa++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}na=qa[Symbol.iterator]();return na.next.bind(na)}function x(qa){return qa.replace(L,function(Ha,na){na=na.toLowerCase();return"colon"===na?":":"#"===na.charAt(0)?"x"===na.charAt(1)?String.fromCharCode(parseInt(na.substring(2),
16)):String.fromCharCode(+na.substring(1)):""})}function y(qa,Ha,na){var Pa=qa.length;if(0===Pa)return"";for(var cb=0;cb<Pa;){var ab=qa.charAt(Pa-cb-1);if(ab!==Ha||na)if(ab!==Ha&&na)cb++;else break;else cb++}return qa.substr(0,Pa-cb)}function v(qa,Ha,na){var Pa=Ha.href;Ha=Ha.title?Q(Ha.title):null;var cb=qa[1].replace(/\\([\[\]])/g,"$1");return"!"!==qa[0].charAt(0)?{type:"link",raw:na,href:Pa,title:Ha,text:cb}:{type:"image",raw:na,href:Pa,title:Ha,text:Q(cb)}}function l(qa,Ha){qa=qa.match(/^(\s+)(?:```)/);
if(null===qa)return Ha;var na=qa[1];return Ha.split("\n").map(function(Pa){var cb=Pa.match(/^\s+/);return null===cb?Pa:cb[0].length>=na.length?Pa.slice(na.length):Pa}).join("\n")}function k(qa){return qa.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function d(qa){var Ha="",na,Pa=qa.length;for(na=0;na<Pa;na++){var cb=qa.charCodeAt(na);.5<Math.random()&&(cb="x"+
cb.toString(16));Ha+="\x26#"+cb+";"}return Ha}function f(qa,Ha,na){if("undefined"===typeof qa||null===qa)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(qa)+", string expected");"function"===typeof Ha&&(na=Ha,Ha=null);Ha=X({},f.defaults,Ha||{});ca(Ha);if(na){var Pa=Ha.highlight;try{var cb=$a.lex(qa,Ha)}catch(oa){return na(oa)}var ab=function(oa){if(!oa)try{var Ia=V.parse(cb,Ha)}catch(Ua){oa=
Ua}Ha.highlight=Pa;return oa?na(oa):na(null,Ia)};if(!Pa||3>Pa.length)return ab();delete Ha.highlight;if(!cb.length)return ab();var Ba=0;f.walkTokens(cb,function(oa){"code"===oa.type&&(Ba++,setTimeout(function(){Pa(oa.text,oa.lang,function(Ia,Ua){if(Ia)return ab(Ia);null!=Ua&&Ua!==oa.text&&(oa.text=Ua,oa.escaped=!0);Ba--;0===Ba&&ab()})},0))});0===Ba&&ab()}else try{var Ga=$a.lex(qa,Ha);Ha.walkTokens&&f.walkTokens(Ga,Ha.walkTokens);return V.parse(Ga,Ha)}catch(oa){oa.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Ha.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ea(oa.message+"",!0)+"\x3c/pre\x3e";throw oa;}}var a=function(qa){var Ha={exports:{}};return qa(Ha,Ha.exports),Ha.exports}(function(qa){function Ha(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}qa.exports={defaults:Ha(),getDefaults:Ha,
changeDefaults:function(na){qa.exports.defaults=na}}}),e=/[&<>"']/,p=/[&<>"']/g,A=/[<>"']|&(?!#?\w+;)/,C=/[<>"']|&(?!#?\w+;)/g,D={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},P=function(qa){return D[qa]},L=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,G=/(^|[^\[])\^/g,z=/[^\w:]/g,K=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,H={},R=/^[^:]+:\/*[^/]*$/,U=/^([^:]+:)[\s\S]*$/,ka=/^([^:]+:\/*[^/]*)[\s\S]*$/,ba=function(qa,Ha){if(Ha){if(e.test(qa))return qa.replace(p,P)}else if(A.test(qa))return qa.replace(C,
P);return qa},fa=function(qa){for(var Ha=1,na,Pa;Ha<arguments.length;Ha++)for(Pa in na=arguments[Ha],na)Object.prototype.hasOwnProperty.call(na,Pa)&&(qa[Pa]=na[Pa]);return qa},ja=a.defaults,Z=function(qa,Ha){qa=qa.replace(/\|/g,function(Pa,cb,ab){for(Pa=!1;0<=--cb&&"\\"===ab[cb];)Pa=!Pa;return Pa?"|":" |"}).split(/ \|/);var na=0;if(qa.length>Ha)qa.splice(Ha);else for(;qa.length<Ha;)qa.push("");for(;na<qa.length;na++)qa[na]=qa[na].trim().replace(/\\\|/g,"|");return qa},Q=ba,q=function(){function qa(na){this.options=
na||ja}var Ha=qa.prototype;Ha.space=function(na){if(na=this.rules.block.newline.exec(na))return 1<na[0].length?{type:"space",raw:na[0]}:{raw:"\n"}};Ha.code=function(na){if(na=this.rules.block.code.exec(na)){var Pa=na[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:na[0],codeBlockStyle:"indented",text:this.options.pedantic?Pa:y(Pa,"\n")}}};Ha.fences=function(na){if(na=this.rules.block.fences.exec(na)){var Pa=na[0],cb=l(Pa,na[3]||"");return{type:"code",raw:Pa,lang:na[2]?na[2].trim():na[2],text:cb}}};
Ha.heading=function(na){if(na=this.rules.block.heading.exec(na)){var Pa=na[2].trim();if(/#$/.test(Pa)){var cb=y(Pa,"#");if(this.options.pedantic)Pa=cb.trim();else if(!cb||/ $/.test(cb))Pa=cb.trim()}return{type:"heading",raw:na[0],depth:na[1].length,text:Pa}}};Ha.nptable=function(na){if(na=this.rules.block.nptable.exec(na))if(na={type:"table",header:Z(na[1].replace(/^ *| *\| *$/g,"")),align:na[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:na[3]?na[3].replace(/\n$/,"").split("\n"):[],raw:na[0]},
na.header.length===na.align.length){var Pa=na.align.length,cb;for(cb=0;cb<Pa;cb++)/^ *-+: *$/.test(na.align[cb])?na.align[cb]="right":/^ *:-+: *$/.test(na.align[cb])?na.align[cb]="center":/^ *:-+ *$/.test(na.align[cb])?na.align[cb]="left":na.align[cb]=null;Pa=na.cells.length;for(cb=0;cb<Pa;cb++)na.cells[cb]=Z(na.cells[cb],na.header.length);return na}};Ha.hr=function(na){if(na=this.rules.block.hr.exec(na))return{type:"hr",raw:na[0]}};Ha.blockquote=function(na){if(na=this.rules.block.blockquote.exec(na)){var Pa=
na[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:na[0],text:Pa}}};Ha.list=function(na){var Pa=this.rules.block.list.exec(na);if(Pa){na=Pa[0];var cb=Pa[2],ab=1<cb.length,Ba={type:"list",raw:na,ordered:ab,start:ab?+cb.slice(0,-1):"",loose:!1,items:[]};Pa=Pa[0].match(this.rules.block.item);var Ga=!1,oa,Ia,Ua=Pa.length;var eb=this.rules.block.listItemStart.exec(Pa[0]);for(var Gb=0;Gb<Ua;Gb++){na=oa=Pa[Gb];if(!this.options.pedantic&&(Ia=oa.match(new RegExp("\\n\\s*\\n {0,"+(eb[0].length-1)+"}\\S")))){var Tb=
oa.length-Ia.index+Pa.slice(Gb+1).join("\n").length;Ba.raw=Ba.raw.substring(0,Ba.raw.length-Tb);na=oa=oa.substring(0,Ia.index);Ua=Gb+1}if(Gb!==Ua-1){Ia=this.rules.block.listItemStart.exec(Pa[Gb+1]);if(this.options.pedantic?Ia[1].length>eb[1].length:Ia[1].length>=eb[0].length||3<Ia[1].length){Pa.splice(Gb,2,Pa[Gb]+(!this.options.pedantic&&Ia[1].length<eb[0].length&&!Pa[Gb].match(/\n$/)?"":"\n")+Pa[Gb+1]);Gb--;Ua--;continue}else if(!this.options.pedantic||this.options.smartLists?Ia[2][Ia[2].length-
1]!==cb[cb.length-1]:ab===(1===Ia[2].length))Tb=Pa.slice(Gb+1).join("\n").length,Ba.raw=Ba.raw.substring(0,Ba.raw.length-Tb),Gb=Ua-1;eb=Ia}Tb=oa.length;oa=oa.replace(/^ *([*+-]|\d+[.)]) ?/,"");~oa.indexOf("\n ")&&(Tb-=oa.length,oa=this.options.pedantic?oa.replace(/^ {1,4}/gm,""):oa.replace(new RegExp("^ {1,"+Tb+"}","gm"),""));oa=y(oa,"\n");Gb!==Ua-1&&(na+="\n");Tb=Ga||/\n\n(?!\s*$)/.test(na);Gb!==Ua-1&&(Ga="\n\n"===na.slice(-2),Tb||(Tb=Ga));Tb&&(Ba.loose=!0);if(this.options.gfm){var kc=/^\[[ xX]\] /.test(oa);
var bd=void 0;kc&&(bd=" "!==oa[1],oa=oa.replace(/^\[[ xX]\] +/,""))}Ba.items.push({type:"list_item",raw:na,task:kc,checked:bd,loose:Tb,text:oa})}return Ba}};Ha.html=function(na){if(na=this.rules.block.html.exec(na))return{type:this.options.sanitize?"paragraph":"html",raw:na[0],pre:!this.options.sanitizer&&("pre"===na[1]||"script"===na[1]||"style"===na[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):Q(na[0]):na[0]}};Ha.def=function(na){if(na=this.rules.block.def.exec(na))return na[3]&&
(na[3]=na[3].substring(1,na[3].length-1)),{tag:na[1].toLowerCase().replace(/\s+/g," "),raw:na[0],href:na[2],title:na[3]}};Ha.table=function(na){var Pa=this.rules.block.table.exec(na);if(Pa&&(na={type:"table",header:Z(Pa[1].replace(/^ *| *\| *$/g,"")),align:Pa[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Pa[3]?Pa[3].replace(/\n$/,"").split("\n"):[]},na.header.length===na.align.length)){na.raw=Pa[0];Pa=na.align.length;var cb;for(cb=0;cb<Pa;cb++)/^ *-+: *$/.test(na.align[cb])?na.align[cb]="right":
/^ *:-+: *$/.test(na.align[cb])?na.align[cb]="center":/^ *:-+ *$/.test(na.align[cb])?na.align[cb]="left":na.align[cb]=null;Pa=na.cells.length;for(cb=0;cb<Pa;cb++)na.cells[cb]=Z(na.cells[cb].replace(/^ *\| *| *\| *$/g,""),na.header.length);return na}};Ha.lheading=function(na){if(na=this.rules.block.lheading.exec(na))return{type:"heading",raw:na[0],depth:"\x3d"===na[2].charAt(0)?1:2,text:na[1]}};Ha.paragraph=function(na){if(na=this.rules.block.paragraph.exec(na))return{type:"paragraph",raw:na[0],text:"\n"===
na[1].charAt(na[1].length-1)?na[1].slice(0,-1):na[1]}};Ha.text=function(na){if(na=this.rules.block.text.exec(na))return{type:"text",raw:na[0],text:na[0]}};Ha.escape=function(na){if(na=this.rules.inline.escape.exec(na))return{type:"escape",raw:na[0],text:Q(na[1])}};Ha.tag=function(na,Pa,cb){if(na=this.rules.inline.tag.exec(na))return!Pa&&/^<a /i.test(na[0])?Pa=!0:Pa&&/^<\/a>/i.test(na[0])&&(Pa=!1),!cb&&/^<(pre|code|kbd|script)(\s|>)/i.test(na[0])?cb=!0:cb&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(na[0])&&
(cb=!1),{type:this.options.sanitize?"text":"html",raw:na[0],inLink:Pa,inRawBlock:cb,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):Q(na[0]):na[0]}};Ha.link=function(na){if(na=this.rules.inline.link.exec(na)){var Pa=na[2].trim();if(!this.options.pedantic&&/^</.test(Pa)){if(!/>$/.test(Pa))return;var cb=y(Pa.slice(0,-1),"\\");if(0===(Pa.length-cb.length)%2)return}else{a:{cb=na[2];if(-1!==cb.indexOf(")"))for(var ab=cb.length,Ba=0,Ga=0;Ga<ab;Ga++)if("\\"===cb[Ga])Ga++;
else if("("===cb[Ga])Ba++;else if(")"===cb[Ga]&&(Ba--,0>Ba)){cb=Ga;break a}cb=-1}-1<cb&&(ab=(0===na[0].indexOf("!")?5:4)+na[1].length+cb,na[2]=na[2].substring(0,cb),na[0]=na[0].substring(0,ab).trim(),na[3]="")}cb=na[2];ab="";if(this.options.pedantic){if(Ba=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(cb))cb=Ba[1],ab=Ba[3]}else ab=na[3]?na[3].slice(1,-1):"";cb=cb.trim();/^</.test(cb)&&(cb=this.options.pedantic&&!/>$/.test(Pa)?cb.slice(1):cb.slice(1,-1));return v(na,{href:cb?cb.replace(this.rules.inline._escapes,
"$1"):cb,title:ab?ab.replace(this.rules.inline._escapes,"$1"):ab},na[0])}};Ha.reflink=function(na,Pa){var cb;if((cb=this.rules.inline.reflink.exec(na))||(cb=this.rules.inline.nolink.exec(na)))return na=(cb[2]||cb[1]).replace(/\s+/g," "),na=Pa[na.toLowerCase()],na&&na.href?v(cb,na,cb[0]):(Pa=cb[0].charAt(0),{type:"text",raw:Pa,text:Pa})};Ha.emStrong=function(na,Pa,cb){void 0===cb&&(cb="");var ab=this.rules.inline.emStrong.lDelim.exec(na);if(ab&&(!ab[3]||!cb.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ba=
ab[1]||ab[2]||"";if(!Ba||Ba&&(""===cb||this.rules.inline.punctuation.exec(cb))){cb=ab[0].length-1;var Ga;Ba=cb;var oa=0,Ia="*"===ab[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;Ia.lastIndex=0;for(Pa=Pa.slice(-1*na.length+cb);null!=(ab=Ia.exec(Pa));)if(Ga=ab[1]||ab[2]||ab[3]||ab[4]||ab[5]||ab[6])if(Ga=Ga.length,ab[3]||ab[4])Ba+=Ga;else if((ab[5]||ab[6])&&cb%3&&!((cb+Ga)%3))oa+=Ga;else if(Ba-=Ga,!(0<Ba)){0>=Ba+oa-Ga&&!Pa.slice(Ia.lastIndex).match(Ia)&&(Ga=Math.min(Ga,
Ga+Ba+oa));if(Math.min(cb,Ga)%2)return{type:"em",raw:na.slice(0,cb+ab.index+Ga+1),text:na.slice(1,cb+ab.index+Ga)};if(0===Math.min(cb,Ga)%2)return{type:"strong",raw:na.slice(0,cb+ab.index+Ga+1),text:na.slice(2,cb+ab.index+Ga-1)}}}}};Ha.codespan=function(na){if(na=this.rules.inline.code.exec(na)){var Pa=na[2].replace(/\n/g," "),cb=/[^ ]/.test(Pa),ab=/^ /.test(Pa)&&/ $/.test(Pa);cb&&ab&&(Pa=Pa.substring(1,Pa.length-1));Pa=Q(Pa,!0);return{type:"codespan",raw:na[0],text:Pa}}};Ha.br=function(na){if(na=
this.rules.inline.br.exec(na))return{type:"br",raw:na[0]}};Ha.del=function(na){if(na=this.rules.inline.del.exec(na))return{type:"del",raw:na[0],text:na[2]}};Ha.autolink=function(na,Pa){if(na=this.rules.inline.autolink.exec(na)){if("@"===na[2]){Pa=Q(this.options.mangle?Pa(na[1]):na[1]);var cb="mailto:"+Pa}else cb=Pa=Q(na[1]);return{type:"link",raw:na[0],text:Pa,href:cb,tokens:[{type:"text",raw:Pa,text:Pa}]}}};Ha.url=function(na,Pa){if(na=this.rules.inline.url.exec(na)){if("@"===na[2]){Pa=Q(this.options.mangle?
Pa(na[0]):na[0]);var cb="mailto:"+Pa}else{do Pa=na[0],na[0]=this.rules.inline._backpedal.exec(na[0])[0];while(Pa!==na[0]);Pa=Q(na[0]);cb="www."===na[1]?"http://"+Pa:Pa}return{type:"link",raw:na[0],text:Pa,href:cb,tokens:[{type:"text",raw:Pa,text:Pa}]}}};Ha.inlineText=function(na,Pa,cb){if(na=this.rules.inline.text.exec(na))return Pa=Pa?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):Q(na[0]):na[0]:Q(this.options.smartypants?cb(na[0]):na[0]),{type:"text",raw:na[0],text:Pa}};
return qa}(),N={exec:function(){}},da=function(qa,Ha){qa=qa.source||qa;Ha=Ha||"";var na={replace:function(Pa,cb){cb=cb.source||cb;cb=cb.replace(G,"$1");qa=qa.replace(Pa,cb);return na},getRegex:function(){return new RegExp(qa,Ha)}};return na},aa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:N,table:N,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};aa.def=da(aa.def).replace("label",aa._label).replace("title",aa._title).getRegex();aa.bullet=/(?:[*+-]|\d{1,9}[.)])/;aa.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
aa.item=da(aa.item,"gm").replace(/bull/g,aa.bullet).getRegex();aa.listItemStart=da(/^( *)(bull) */).replace("bull",aa.bullet).getRegex();aa.list=da(aa.list).replace(/bull/g,aa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+aa.def.source+")").getRegex();aa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
aa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;aa.html=da(aa.html,"i").replace("comment",aa._comment).replace("tag",aa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();aa.paragraph=da(aa._paragraph).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.blockquote=da(aa.blockquote).replace("paragraph",aa.paragraph).getRegex();aa.normal=fa({},aa);aa.gfm=fa({},aa.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});aa.gfm.nptable=
da(aa.gfm.nptable).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.gfm.table=da(aa.gfm.table).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences",
" {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.pedantic=fa({},aa.normal,{html:da("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",aa._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:N,paragraph:da(aa.normal._paragraph).replace("hr",aa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",aa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var wa={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:N,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/__[^_]*?\*[^_]*?__|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
rDelimUnd:/\*\*[^*]*?_[^*]*?\*\*|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:N,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};wa.punctuation=da(wa.punctuation).replace(/punctuation/g,wa._punctuation).getRegex();
wa.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;wa.escapedEmSt=/\\\*|\\_/g;wa._comment=da(aa._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();wa.emStrong.lDelim=da(wa.emStrong.lDelim).replace(/punct/g,wa._punctuation).getRegex();wa.emStrong.rDelimAst=da(wa.emStrong.rDelimAst,"g").replace(/punct/g,wa._punctuation).getRegex();wa.emStrong.rDelimUnd=da(wa.emStrong.rDelimUnd,"g").replace(/punct/g,wa._punctuation).getRegex();wa._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;wa._scheme=
/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;wa._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;wa.autolink=da(wa.autolink).replace("scheme",wa._scheme).replace("email",wa._email).getRegex();wa._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;wa.tag=da(wa.tag).replace("comment",wa._comment).replace("attribute",wa._attribute).getRegex();wa._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
wa._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;wa._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;wa.link=da(wa.link).replace("label",wa._label).replace("href",wa._href).replace("title",wa._title).getRegex();wa.reflink=da(wa.reflink).replace("label",wa._label).getRegex();wa.reflinkSearch=da(wa.reflinkSearch,"g").replace("reflink",wa.reflink).replace("nolink",wa.nolink).getRegex();wa.normal=fa({},wa);wa.pedantic=fa({},wa.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:da(/^!?\[(label)\]\((.*?)\)/).replace("label",wa._label).getRegex(),reflink:da(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",wa._label).getRegex()});wa.gfm=fa({},wa.normal,{escape:da(wa.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});wa.gfm.url=da(wa.gfm.url,"i").replace("email",wa.gfm._extended_email).getRegex();wa.breaks=fa({},wa.gfm,{br:da(wa.br).replace("{2,}","*").getRegex(),
text:da(wa.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var ua=a.defaults,Ea=function(qa,Ha){if(1>Ha)return"";for(var na="";1<Ha;)Ha&1&&(na+=qa),Ha>>=1,qa+=qa;return na+qa},$a=function(){function qa(na){this.tokens=[];this.tokens.links=Object.create(null);this.options=na||ua;this.options.tokenizer=this.options.tokenizer||new q;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;na={block:aa.normal,inline:wa.normal};this.options.pedantic?(na.block=
aa.pedantic,na.inline=wa.pedantic):this.options.gfm&&(na.block=aa.gfm,na.inline=this.options.breaks?wa.breaks:wa.gfm);this.tokenizer.rules=na}qa.lex=function(na,Pa){return(new qa(Pa)).lex(na)};qa.lexInline=function(na,Pa){return(new qa(Pa)).inlineTokens(na)};var Ha=qa.prototype;Ha.lex=function(na){na=na.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(na,this.tokens,!0);this.inline(this.tokens);return this.tokens};Ha.blockTokens=function(na,Pa,cb){void 0===Pa&&(Pa=[]);void 0===cb&&
(cb=!0);this.options.pedantic&&(na=na.replace(/^ +$/gm,""));for(var ab,Ba,Ga;na;)if(ab=this.tokenizer.space(na))na=na.substring(ab.raw.length),ab.type&&Pa.push(ab);else if(ab=this.tokenizer.code(na))na=na.substring(ab.raw.length),(Ba=Pa[Pa.length-1])&&"paragraph"===Ba.type?(Ba.raw+="\n"+ab.raw,Ba.text+="\n"+ab.text):Pa.push(ab);else if(ab=this.tokenizer.fences(na))na=na.substring(ab.raw.length),Pa.push(ab);else if(ab=this.tokenizer.heading(na))na=na.substring(ab.raw.length),Pa.push(ab);else if(ab=
this.tokenizer.nptable(na))na=na.substring(ab.raw.length),Pa.push(ab);else if(ab=this.tokenizer.hr(na))na=na.substring(ab.raw.length),Pa.push(ab);else if(ab=this.tokenizer.blockquote(na))na=na.substring(ab.raw.length),ab.tokens=this.blockTokens(ab.text,[],cb),Pa.push(ab);else if(ab=this.tokenizer.list(na)){na=na.substring(ab.raw.length);Ga=ab.items.length;for(Ba=0;Ba<Ga;Ba++)ab.items[Ba].tokens=this.blockTokens(ab.items[Ba].text,[],!1);Pa.push(ab)}else if(ab=this.tokenizer.html(na))na=na.substring(ab.raw.length),
Pa.push(ab);else if(cb&&(ab=this.tokenizer.def(na)))na=na.substring(ab.raw.length),this.tokens.links[ab.tag]||(this.tokens.links[ab.tag]={href:ab.href,title:ab.title});else if(ab=this.tokenizer.table(na))na=na.substring(ab.raw.length),Pa.push(ab);else if(ab=this.tokenizer.lheading(na))na=na.substring(ab.raw.length),Pa.push(ab);else if(cb&&(ab=this.tokenizer.paragraph(na)))na=na.substring(ab.raw.length),Pa.push(ab);else if(ab=this.tokenizer.text(na))na=na.substring(ab.raw.length),(Ba=Pa[Pa.length-
1])&&"text"===Ba.type?(Ba.raw+="\n"+ab.raw,Ba.text+="\n"+ab.text):Pa.push(ab);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);return Pa};Ha.inline=function(na){var Pa,cb,ab,Ba=na.length;for(Pa=0;Pa<Ba;Pa++){var Ga=na[Pa];switch(Ga.type){case "paragraph":case "text":case "heading":Ga.tokens=[];this.inlineTokens(Ga.text,Ga.tokens);break;case "table":Ga.tokens={header:[],cells:[]};var oa=Ga.header.length;for(cb=0;cb<oa;cb++)Ga.tokens.header[cb]=
[],this.inlineTokens(Ga.header[cb],Ga.tokens.header[cb]);oa=Ga.cells.length;for(cb=0;cb<oa;cb++){var Ia=Ga.cells[cb];Ga.tokens.cells[cb]=[];for(ab=0;ab<Ia.length;ab++)Ga.tokens.cells[cb][ab]=[],this.inlineTokens(Ia[ab],Ga.tokens.cells[cb][ab])}break;case "blockquote":this.inline(Ga.tokens);break;case "list":for(oa=Ga.items.length,cb=0;cb<oa;cb++)this.inline(Ga.items[cb].tokens)}}return na};Ha.inlineTokens=function(na,Pa,cb,ab){void 0===Pa&&(Pa=[]);void 0===cb&&(cb=!1);void 0===ab&&(ab=!1);var Ba,
Ga=na,oa;if(this.tokens.links){var Ia=Object.keys(this.tokens.links);if(0<Ia.length)for(;null!=(Ba=this.tokenizer.rules.inline.reflinkSearch.exec(Ga));)Ia.includes(Ba[0].slice(Ba[0].lastIndexOf("[")+1,-1))&&(Ga=Ga.slice(0,Ba.index)+"["+Ea("a",Ba[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ba=this.tokenizer.rules.inline.blockSkip.exec(Ga));)Ga=Ga.slice(0,Ba.index)+"["+Ea("a",Ba[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
for(;null!=(Ba=this.tokenizer.rules.inline.escapedEmSt.exec(Ga));)Ga=Ga.slice(0,Ba.index)+"++"+Ga.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;na;){Ua||(oa="");var Ua=!1;if(Ba=this.tokenizer.escape(na))na=na.substring(Ba.raw.length),Pa.push(Ba);else if(Ba=this.tokenizer.tag(na,cb,ab))na=na.substring(Ba.raw.length),cb=Ba.inLink,ab=Ba.inRawBlock,(Ia=Pa[Pa.length-1])&&"text"===Ba.type&&"text"===Ia.type?(Ia.raw+=Ba.raw,Ia.text+=Ba.text):Pa.push(Ba);else if(Ba=this.tokenizer.link(na))na=
na.substring(Ba.raw.length),"link"===Ba.type&&(Ba.tokens=this.inlineTokens(Ba.text,[],!0,ab)),Pa.push(Ba);else if(Ba=this.tokenizer.reflink(na,this.tokens.links))na=na.substring(Ba.raw.length),Ia=Pa[Pa.length-1],"link"===Ba.type?(Ba.tokens=this.inlineTokens(Ba.text,[],!0,ab),Pa.push(Ba)):Ia&&"text"===Ba.type&&"text"===Ia.type?(Ia.raw+=Ba.raw,Ia.text+=Ba.text):Pa.push(Ba);else if(Ba=this.tokenizer.emStrong(na,Ga,oa))na=na.substring(Ba.raw.length),Ba.tokens=this.inlineTokens(Ba.text,[],cb,ab),Pa.push(Ba);
else if(Ba=this.tokenizer.codespan(na))na=na.substring(Ba.raw.length),Pa.push(Ba);else if(Ba=this.tokenizer.br(na))na=na.substring(Ba.raw.length),Pa.push(Ba);else if(Ba=this.tokenizer.del(na))na=na.substring(Ba.raw.length),Ba.tokens=this.inlineTokens(Ba.text,[],cb,ab),Pa.push(Ba);else if(Ba=this.tokenizer.autolink(na,d))na=na.substring(Ba.raw.length),Pa.push(Ba);else if(!cb&&(Ba=this.tokenizer.url(na,d)))na=na.substring(Ba.raw.length),Pa.push(Ba);else if(Ba=this.tokenizer.inlineText(na,ab,k))na=na.substring(Ba.raw.length),
"_"!==Ba.raw.slice(-1)&&(oa=Ba.raw.slice(-1)),Ua=!0,(Ia=Pa[Pa.length-1])&&"text"===Ia.type?(Ia.raw+=Ba.raw,Ia.text+=Ba.text):Pa.push(Ba);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);}return Pa};m(qa,null,[{key:"rules",get:function(){return{block:aa,inline:wa}}}]);return qa}(),kb=a.defaults,ta=function(qa,Ha,na){if(qa){try{var Pa=decodeURIComponent(x(na)).replace(z,"").toLowerCase()}catch(cb){return null}if(0===Pa.indexOf("javascript:")||
0===Pa.indexOf("vbscript:")||0===Pa.indexOf("data:"))return null}Ha&&!K.test(na)&&(qa=Ha,H[" "+qa]||(R.test(qa)?H[" "+qa]=qa+"/":H[" "+qa]=y(qa,"/",!0)),qa=H[" "+qa],Ha=-1===qa.indexOf(":"),na="//"===na.substring(0,2)?Ha?na:qa.replace(U,"$1")+na:"/"===na.charAt(0)?Ha?na:qa.replace(ka,"$1")+na:qa+na);try{na=encodeURI(na).replace(/%25/g,"%")}catch(cb){return null}return na},Ta=function(){function qa(na){this.options=na||kb}var Ha=qa.prototype;Ha.code=function(na,Pa,cb){Pa=(Pa||"").match(/\S*/)[0];if(this.options.highlight){var ab=
this.options.highlight(na,Pa);null!=ab&&ab!==na&&(cb=!0,na=ab)}na=na.replace(/\n$/,"")+"\n";return Pa?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+ba(Pa,!0)+'"\x3e'+(cb?na:ba(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(cb?na:ba(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Ha.blockquote=function(na){return"\x3cblockquote\x3e\n"+na+"\x3c/blockquote\x3e\n"};Ha.html=function(na){return na};Ha.heading=function(na,Pa,cb,ab){return this.options.headerIds?"\x3ch"+Pa+' id\x3d"'+
this.options.headerPrefix+ab.slug(cb)+'"\x3e'+na+"\x3c/h"+Pa+"\x3e\n":"\x3ch"+Pa+"\x3e"+na+"\x3c/h"+Pa+"\x3e\n"};Ha.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Ha.list=function(na,Pa,cb){var ab=Pa?"ol":"ul";return"\x3c"+ab+(Pa&&1!==cb?' start\x3d"'+cb+'"':"")+"\x3e\n"+na+"\x3c/"+ab+"\x3e\n"};Ha.listitem=function(na){return"\x3cli\x3e"+na+"\x3c/li\x3e\n"};Ha.checkbox=function(na){return"\x3cinput "+(na?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?
" /":"")+"\x3e "};Ha.paragraph=function(na){return"\x3cp\x3e"+na+"\x3c/p\x3e\n"};Ha.table=function(na,Pa){Pa&&(Pa="\x3ctbody\x3e"+Pa+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+na+"\x3c/thead\x3e\n"+Pa+"\x3c/table\x3e\n"};Ha.tablerow=function(na){return"\x3ctr\x3e\n"+na+"\x3c/tr\x3e\n"};Ha.tablecell=function(na,Pa){var cb=Pa.header?"th":"td";return(Pa.align?"\x3c"+cb+' align\x3d"'+Pa.align+'"\x3e':"\x3c"+cb+"\x3e")+na+"\x3c/"+cb+"\x3e\n"};Ha.strong=function(na){return"\x3cstrong\x3e"+
na+"\x3c/strong\x3e"};Ha.em=function(na){return"\x3cem\x3e"+na+"\x3c/em\x3e"};Ha.codespan=function(na){return"\x3ccode\x3e"+na+"\x3c/code\x3e"};Ha.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Ha.del=function(na){return"\x3cdel\x3e"+na+"\x3c/del\x3e"};Ha.link=function(na,Pa,cb){na=ta(this.options.sanitize,this.options.baseUrl,na);if(null===na)return cb;na='\x3ca href\x3d"'+ba(na)+'"';Pa&&(na+=' title\x3d"'+Pa+'"');return na+("\x3e"+cb+"\x3c/a\x3e")};Ha.image=function(na,Pa,cb){na=
ta(this.options.sanitize,this.options.baseUrl,na);if(null===na)return cb;na='\x3cimg src\x3d"'+na+'" alt\x3d"'+cb+'"';Pa&&(na+=' title\x3d"'+Pa+'"');return na+=this.options.xhtml?"/\x3e":"\x3e"};Ha.text=function(na){return na};return qa}(),Xa=function(){function qa(){}var Ha=qa.prototype;Ha.strong=function(na){return na};Ha.em=function(na){return na};Ha.codespan=function(na){return na};Ha.del=function(na){return na};Ha.html=function(na){return na};Ha.text=function(na){return na};Ha.link=function(na,
Pa,cb){return""+cb};Ha.image=function(na,Pa,cb){return""+cb};Ha.br=function(){return""};return qa}(),Fa=function(){function qa(){this.seen={}}var Ha=qa.prototype;Ha.serialize=function(na){return na.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Ha.getNextSafeSlug=function(na,Pa){var cb=na,ab=0;if(this.seen.hasOwnProperty(cb)){ab=this.seen[na];do ab++,cb=na+"-"+ab;while(this.seen.hasOwnProperty(cb))}Pa||
(this.seen[na]=ab,this.seen[cb]=0);return cb};Ha.slug=function(na,Pa){void 0===Pa&&(Pa={});na=this.serialize(na);return this.getNextSafeSlug(na,Pa.dryrun)};return qa}(),va=a.defaults,V=function(){function qa(na){this.options=na||va;this.options.renderer=this.options.renderer||new Ta;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Xa;this.slugger=new Fa}qa.parse=function(na,Pa){return(new qa(Pa)).parse(na)};qa.parseInline=function(na,Pa){return(new qa(Pa)).parseInline(na)};
var Ha=qa.prototype;Ha.parse=function(na,Pa){void 0===Pa&&(Pa=!0);var cb="",ab,Ba,Ga,oa,Ia=na.length;for(ab=0;ab<Ia;ab++){var Ua=na[ab];switch(Ua.type){case "space":continue;case "hr":cb+=this.renderer.hr();continue;case "heading":cb+=this.renderer.heading(this.parseInline(Ua.tokens),Ua.depth,x(this.parseInline(Ua.tokens,this.textRenderer)),this.slugger);continue;case "code":cb+=this.renderer.code(Ua.text,Ua.lang,Ua.escaped);continue;case "table":var eb=oa="";var Gb=Ua.header.length;for(Ba=0;Ba<Gb;Ba++)eb+=
this.renderer.tablecell(this.parseInline(Ua.tokens.header[Ba]),{header:!0,align:Ua.align[Ba]});oa+=this.renderer.tablerow(eb);var Tb="";Gb=Ua.cells.length;for(Ba=0;Ba<Gb;Ba++){var kc=Ua.tokens.cells[Ba];eb="";var bd=kc.length;for(Ga=0;Ga<bd;Ga++)eb+=this.renderer.tablecell(this.parseInline(kc[Ga]),{header:!1,align:Ua.align[Ga]});Tb+=this.renderer.tablerow(eb)}cb+=this.renderer.table(oa,Tb);continue;case "blockquote":Tb=this.parse(Ua.tokens);cb+=this.renderer.blockquote(Tb);continue;case "list":Ga=
Ua.ordered;bd=Ua.start;kc=Ua.loose;Gb=Ua.items.length;Tb="";for(Ba=0;Ba<Gb;Ba++){oa=Ua.items[Ba];var tc=oa.checked;var Fc=oa.task;eb="";if(oa.task){var mb=this.renderer.checkbox(tc);kc?0<oa.tokens.length&&"text"===oa.tokens[0].type?(oa.tokens[0].text=mb+" "+oa.tokens[0].text,oa.tokens[0].tokens&&0<oa.tokens[0].tokens.length&&"text"===oa.tokens[0].tokens[0].type&&(oa.tokens[0].tokens[0].text=mb+" "+oa.tokens[0].tokens[0].text)):oa.tokens.unshift({type:"text",text:mb}):eb+=mb}eb+=this.parse(oa.tokens,
kc);Tb+=this.renderer.listitem(eb,Fc,tc)}cb+=this.renderer.list(Tb,Ga,bd);continue;case "html":cb+=this.renderer.html(Ua.text);continue;case "paragraph":cb+=this.renderer.paragraph(this.parseInline(Ua.tokens));continue;case "text":for(Tb=Ua.tokens?this.parseInline(Ua.tokens):Ua.text;ab+1<Ia&&"text"===na[ab+1].type;)Ua=na[++ab],Tb+="\n"+(Ua.tokens?this.parseInline(Ua.tokens):Ua.text);cb+=Pa?this.renderer.paragraph(Tb):Tb;continue;default:na='Token with "'+Ua.type+'" type was not found.';if(this.options.silent){console.error(na);
return}throw Error(na);}}return cb};Ha.parseInline=function(na,Pa){Pa=Pa||this.renderer;var cb="",ab,Ba=na.length;for(ab=0;ab<Ba;ab++){var Ga=na[ab];switch(Ga.type){case "escape":cb+=Pa.text(Ga.text);break;case "html":cb+=Pa.html(Ga.text);break;case "link":cb+=Pa.link(Ga.href,Ga.title,this.parseInline(Ga.tokens,Pa));break;case "image":cb+=Pa.image(Ga.href,Ga.title,Ga.text);break;case "strong":cb+=Pa.strong(this.parseInline(Ga.tokens,Pa));break;case "em":cb+=Pa.em(this.parseInline(Ga.tokens,Pa));break;
case "codespan":cb+=Pa.codespan(Ga.text);break;case "br":cb+=Pa.br();break;case "del":cb+=Pa.del(this.parseInline(Ga.tokens,Pa));break;case "text":cb+=Pa.text(Ga.text);break;default:na='Token with "'+Ga.type+'" type was not found.';if(this.options.silent){console.error(na);return}throw Error(na);}}return cb};return qa}(),X=fa,ca=function(qa){qa&&qa.sanitize&&!qa.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
ea=ba;fa=a.getDefaults;var ra=a.changeDefaults;a=a.defaults;f.options=f.setOptions=function(qa){X(f.defaults,qa);ra(f.defaults);return f};f.getDefaults=fa;f.defaults=a;f.use=function(qa){var Ha=X({},qa);qa.renderer&&function(){var Pa=f.defaults.renderer||new Ta,cb=function(Ba){var Ga=Pa[Ba];Pa[Ba]=function(){for(var oa=arguments.length,Ia=Array(oa),Ua=0;Ua<oa;Ua++)Ia[Ua]=arguments[Ua];oa=qa.renderer[Ba].apply(Pa,Ia);!1===oa&&(oa=Ga.apply(Pa,Ia));return oa}},ab;for(ab in qa.renderer)cb(ab);Ha.renderer=
Pa}();qa.tokenizer&&function(){var Pa=f.defaults.tokenizer||new q,cb=function(Ba){var Ga=Pa[Ba];Pa[Ba]=function(){for(var oa=arguments.length,Ia=Array(oa),Ua=0;Ua<oa;Ua++)Ia[Ua]=arguments[Ua];oa=qa.tokenizer[Ba].apply(Pa,Ia);!1===oa&&(oa=Ga.apply(Pa,Ia));return oa}},ab;for(ab in qa.tokenizer)cb(ab);Ha.tokenizer=Pa}();if(qa.walkTokens){var na=f.defaults.walkTokens;Ha.walkTokens=function(Pa){qa.walkTokens(Pa);na&&na(Pa)}}f.setOptions(Ha)};f.walkTokens=function(qa,Ha){qa=O(qa);for(var na;!(na=qa()).done;)switch(na=
na.value,Ha(na),na.type){case "table":for(var Pa=O(na.tokens.header),cb;!(cb=Pa()).done;)f.walkTokens(cb.value,Ha);for(na=O(na.tokens.cells);!(Pa=na()).done;)for(Pa=O(Pa.value);!(cb=Pa()).done;)f.walkTokens(cb.value,Ha);break;case "list":f.walkTokens(na.items,Ha);break;default:na.tokens&&f.walkTokens(na.tokens,Ha)}};f.parseInline=function(qa,Ha){if("undefined"===typeof qa||null===qa)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(qa)+", string expected");Ha=X({},f.defaults,Ha||{});ca(Ha);try{var na=$a.lexInline(qa,Ha);Ha.walkTokens&&f.walkTokens(na,Ha.walkTokens);return V.parseInline(na,Ha)}catch(Pa){Pa.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Ha.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ea(Pa.message+"",!0)+"\x3c/pre\x3e";throw Pa;}};f.Parser=V;f.parser=V.parse;f.Renderer=Ta;f.TextRenderer=Xa;f.Lexer=$a;f.lexer=$a.lex;f.Tokenizer=q;f.Slugger=
Fa;return f.parse=f})};
shadow$provide[14]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={}))})(this,function(g){function m(va,V,X){va.fields=V||[];va.fname=X;return va}function n(va){return null==va?null:va.fields}function E(va){return 1===va.length?R(va[0]):U(va)}function O(va){throw Error(va);}function x(va){function V(){X.push(qa+va.substring(Ha,na));qa="";
Ha=na+1}const X=[],ca=va.length;let ea=null,ra=0,qa="",Ha,na,Pa;va+="";for(Ha=na=0;na<ca;++na)(Pa=va[na],"\\"===Pa)?(qa+=va.substring(Ha,na),qa+=va.substring(++na,++na),Ha=na):Pa===ea?(V(),ea=null,ra=-1):ea||(Ha===ra&&'"'===Pa?(Ha=na+1,ea=Pa):Ha===ra&&"'"===Pa?(Ha=na+1,ea=Pa):"."!==Pa||ra?"["===Pa?(na>Ha&&V(),ra=Ha=na+1):"]"===Pa&&(ra||O("Access path missing open bracket: "+va),0<ra&&V(),ra=0,Ha=na+1):na>Ha?V():Ha=na+1);ra&&O("Access path missing closing bracket: "+va);ea&&O("Access path missing closing quote: "+
va);na>Ha&&(na++,V());return X}function y(va,V,X){const ca=x(va);va=1===ca.length?ca[0]:va;return m((X&&X.get||E)(ca),[va],V||va)}function v(va,V,X){V=[V].concat([].slice.call(X));console[va].apply(console,V)}function l(va){return va===Object(va)}function k(va,V,X,ca){if("__proto__"!==V){var ea;if(l(X)&&!q(X))for(ea in va=l(va[V])?va[V]:va[V]={},X)ca&&(!0===ca||ca[ea])?k(va,ea,X[ea]):"__proto__"!==ea&&(va[ea]=X[ea]);else va[V]=X}}function d(va,V){function X(ra){ca[ra.name]||(ca[ra.name]=1,ea.push(ra))}
if(null==va)return V;const ca={},ea=[];V.forEach(X);va.forEach(X);return ea}function f(va){return va[va.length-1]}function a(va){return null==va||""===va?null:+va}function e(va,V,X,ca){const ea=X(va[0]);va=X(f(va));V*=va-ea;return[ca(ea-V),ca(va-V)]}function p(va,V,X,ca,ea){const ra=ca(va[0]);va=ca(f(va));V=null!=V?ca(V):(ra+va)/2;return[ea(V+(ra-V)*X),ea(V+(va-V)*X)]}function A(va){return null!=va?q(va)?va:[va]:[]}function C(va){return"function"===typeof va}function D(va){for(let V,X,ca=1,ea=arguments.length;ca<
ea;++ca)for(X in V=arguments[ca],V)va[X]=V[X];return va}function P(va,V){return Ta.call(va,V)}function L(va){return"[object Date]"===Object.prototype.toString.call(va)}function G(va){return"number"===typeof va}function z(va){return"string"===typeof va}function K(va,V){let X="";for(;0<=--V;)X+=va;return X}function H(va){return q(va)?"["+va.map(H)+"]":l(va)||z(va)?JSON.stringify(va).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):va}const R=va=>function(V){return V[va]},U=va=>{const V=va.length;
return function(X){for(let ca=0;ca<V;++ca)X=X[va[ca]];return X}},ka=y("id"),ba=m(va=>va,[],"identity"),fa=m(()=>0,[],"zero"),ja=m(()=>1,[],"one"),Z=m(()=>!0,[],"true"),Q=m(()=>!1,[],"false");var q=Array.isArray;const N=va=>V=>va*Math.exp(V),da=va=>V=>Math.log(va*V),aa=va=>V=>Math.sign(V)*Math.log1p(Math.abs(V/va)),wa=va=>V=>Math.sign(V)*Math.expm1(Math.abs(V))*va,ua=va=>V=>0>V?-Math.pow(-V,va):Math.pow(V,va),Ea=(va,V)=>(va<V||null==va)&&null!=V?-1:(va>V||null==V)&&null!=va?1:(V=V instanceof Date?
+V:V,va=va instanceof Date?+va:va)!==va&&V===V?-1:V!==V&&va===va?1:0,$a=(va,V)=>1===va.length?kb(va[0],V[0]):ta(va,V,va.length),kb=(va,V)=>function(X,ca){return Ea(va(X),va(ca))*V},ta=(va,V,X)=>{V.push(0);return function(ca,ea){var ra=0;let qa=-1;for(;0===ra&&++qa<X;)ra=va[qa],ra=Ea(ra(ca),ra(ea));return ra*V[qa]}},Ta=Object.prototype.hasOwnProperty,Xa={},Fa=va=>G(va)?va:L(va)?va:Date.parse(va);g.Debug=4;g.Error=1;g.Info=3;g.None=0;g.Warn=2;g.accessor=m;g.accessorFields=n;g.accessorName=function(va){return null==
va?null:va.fname};g.array=A;g.ascending=Ea;g.clampRange=function(va,V,X){let ca=va[0];va=va[1];let ea;va<ca&&(ea=va,va=ca,ca=ea);ea=va-ca;return ea>=X-V?[V,X]:[ca=Math.min(Math.max(ca,V),X-ea),ca+ea]};g.compare=function(va,V,X){X=X||{};V=A(V)||[];const ca=[],ea=[],ra={},qa=X.comparator||$a;A(va).forEach((Ha,na)=>{null!=Ha&&(ca.push("descending"===V[na]?-1:1),ea.push(Ha=C(Ha)?Ha:y(Ha,null,X)),(n(Ha)||[]).forEach(Pa=>ra[Pa]=1))});return 0===ea.length?null:m(qa(ea,ca),Object.keys(ra))};g.constant=function(va){return C(va)?
va:()=>va};g.debounce=function(va,V){let X;return ca=>{X&&clearTimeout(X);X=setTimeout(()=>(V(ca),X=null),va)}};g.error=O;g.extend=D;g.extent=function(va,V){let X=0,ca,ea,ra,qa;if(va&&(ca=va.length))if(null==V){for(ea=va[X];X<ca&&(null==ea||ea!==ea);ea=va[++X]);for(ra=qa=ea;X<ca;++X)ea=va[X],null!=ea&&(ea<ra&&(ra=ea),ea>qa&&(qa=ea))}else{for(ea=V(va[X]);X<ca&&(null==ea||ea!==ea);ea=V(va[++X]));for(ra=qa=ea;X<ca;++X)ea=V(va[X]),null!=ea&&(ea<ra&&(ra=ea),ea>qa&&(qa=ea))}return[ra,qa]};g.extentIndex=
function(va,V){const X=va.length;let ca=-1,ea,ra,qa,Ha,na;if(null==V){for(;++ca<X;)if(ra=va[ca],null!=ra&&ra>=ra){ea=qa=ra;break}if(ca===X)return[-1,-1];for(Ha=na=ca;++ca<X;)ra=va[ca],null!=ra&&(ea>ra&&(ea=ra,Ha=ca),qa<ra&&(qa=ra,na=ca))}else{for(;++ca<X;)if(ra=V(va[ca],ca,va),null!=ra&&ra>=ra){ea=qa=ra;break}if(ca===X)return[-1,-1];for(Ha=na=ca;++ca<X;)ra=V(va[ca],ca,va),null!=ra&&(ea>ra&&(ea=ra,Ha=ca),qa<ra&&(qa=ra,na=ca))}return[Ha,na]};g.falsy=Q;g.fastmap=function(va){function V(ra){return P(X,
ra)&&X[ra]!==Xa}let X={},ca;const ea={size:0,empty:0,object:X,has:V,get(ra){return V(ra)?X[ra]:void 0},set(ra,qa){V(ra)||(++ea.size,X[ra]===Xa&&--ea.empty);X[ra]=qa;return this},delete(ra){V(ra)&&(--ea.size,++ea.empty,X[ra]=Xa);return this},clear(){ea.size=ea.empty=0;ea.object=X={}},test(ra){return arguments.length?(ca=ra,ea):ca},clean(){const ra={};let qa=0;for(const Ha in X){const na=X[Ha];na===Xa||ca&&ca(na)||(ra[Ha]=na,++qa)}ea.size=qa;ea.empty=0;ea.object=X=ra}};va&&Object.keys(va).forEach(ra=>
{ea.set(ra,va[ra])});return ea};g.field=y;g.flush=function(va,V,X,ca,ea,ra){if(!X&&0!==X)return ra;X=+X;let qa=va[0],Ha=f(va);Ha<qa&&(va=qa,qa=Ha,Ha=va);va=Math.abs(V-qa);V=Math.abs(Ha-V);return va<V&&va<=X?ca:V<=X?ea:ra};g.hasOwnProperty=P;g.id=ka;g.identity=ba;g.inherits=function(va,V,X){V=va.prototype=Object.create(V.prototype);V.constructor=va;return D(V,X)};g.inrange=function(va,V,X,ca){let ea=V[0];V=V[V.length-1];let ra;ea>V&&(ra=ea,ea=V,V=ra);return(void 0===X||X?ea<=va:ea<va)&&(void 0===ca||
ca?va<=V:va<V)};g.isArray=q;g.isBoolean=function(va){return"boolean"===typeof va};g.isDate=L;g.isFunction=C;g.isIterable=function(va){return va&&C(va[Symbol.iterator])};g.isNumber=G;g.isObject=l;g.isRegExp=function(va){return"[object RegExp]"===Object.prototype.toString.call(va)};g.isString=z;g.key=function(va,V,X){va&&(va=V?A(va).map(ra=>ra.replace(/\\(.)/g,"$1")):A(va));const ca=va&&va.length,ea=X&&X.get||E;X=ra=>ea(V?[ra]:x(ra));if(ca)if(1===ca){const ra=X(va[0]);X=function(qa){return""+ra(qa)}}else{const ra=
va.map(X);X=function(qa){let Ha=""+ra[0](qa),na=0;for(;++na<ca;)Ha+="|"+ra[na](qa);return Ha}}else X=function(){return""};return m(X,va,"key")};g.lerp=function(va,V){const X=va[0];va=f(va);return(V=+V)?1===V?va:X+V*(va-X):X};g.logger=function(va,V){let X=va||0;return{level(ca){return arguments.length?(X=+ca,this):X},error(){1<=X&&v(V||"error","ERROR",arguments);return this},warn(){2<=X&&v(V||"warn","WARN",arguments);return this},info(){3<=X&&v(V||"log","INFO",arguments);return this},debug(){4<=X&&
v(V||"log","DEBUG",arguments);return this}}};g.lruCache=function(va){va=+va||1E4;let V,X,ca;const ea=()=>{V={};X={};ca=0},ra=(qa,Ha)=>{++ca>va&&(X=V,V={},ca=1);return V[qa]=Ha};ea();return{clear:ea,has:qa=>P(V,qa)||P(X,qa),get:qa=>P(V,qa)?V[qa]:P(X,qa)?ra(qa,X[qa]):void 0,set:(qa,Ha)=>P(V,qa)?V[qa]=Ha:ra(qa,Ha)}};g.merge=function(va,V,X,ca){const ea=V.length,ra=X.length;if(!ra)return V;if(!ea)return X;ca=ca||new V.constructor(ea+ra);let qa=0,Ha=0,na=0;for(;qa<ea&&Ha<ra;++na)ca[na]=0<va(V[qa],X[Ha])?
X[Ha++]:V[qa++];for(;qa<ea;++qa,++na)ca[na]=V[qa];for(;Ha<ra;++Ha,++na)ca[na]=X[Ha];return ca};g.mergeConfig=function(...va){return va.reduce((V,X)=>{for(const ca in X)"signals"===ca?V.signals=d(V.signals,X.signals):k(V,ca,X[ca],"legend"===ca?{layout:1}:"style"===ca?!0:null);return V},{})};g.one=ja;g.pad=function(va,V,X,ca){X=X||" ";va+="";V-=va.length;return 0>=V?va:"left"===ca?K(X,V)+va:"center"===ca?K(X,~~(V/2))+va+K(X,Math.ceil(V/2)):va+K(X,V)};g.panLinear=function(va,V){return e(va,V,a,ba)};
g.panLog=function(va,V){var X=Math.sign(va[0]);return e(va,V,da(X),N(X))};g.panPow=function(va,V,X){return e(va,V,ua(X),ua(1/X))};g.panSymlog=function(va,V,X){return e(va,V,aa(X),wa(X))};g.peek=f;g.quarter=function(va){return 1+~~((new Date(va)).getMonth()/3)};g.repeat=K;g.span=function(va){return va&&f(va)-va[0]||0};g.splitAccessPath=x;g.stringValue=H;g.toBoolean=function(va){return null==va||""===va?null:va&&"false"!==va&&"0"!==va?!!va:!1};g.toDate=function(va,V){V=V||Fa;return null==va||""===va?
null:V(va)};g.toNumber=a;g.toSet=function(va){const V={},X=va.length;for(let ca=0;ca<X;++ca)V[va[ca]]=!0;return V};g.toString=function(va){return null==va||""===va?null:va+""};g.truncate=function(va,V,X,ca){ca=null!=ca?ca:"";va+="";const ea=va.length,ra=Math.max(0,V-ca.length);return ea<=V?va:"left"===X?ca+va.slice(ea-ra):"center"===X?va.slice(0,Math.ceil(ra/2))+ca+va.slice(ea-~~(ra/2)):va.slice(0,ra)+ca};g.truthy=Z;g.utcquarter=function(va){return 1+~~((new Date(va)).getUTCMonth()/3)};g.visitArray=
function(va,V,X){if(va)if(V){const ca=va.length;for(let ea=0;ea<ca;++ea){const ra=V(va[ea]);ra&&X(ra,ea,va)}}else va.forEach(X)};g.writeConfig=k;g.zero=fa;g.zoomLinear=function(va,V,X){return p(va,V,X,a,ba)};g.zoomLog=function(va,V,X){const ca=Math.sign(va[0]);return p(va,V,X,da(ca),N(ca))};g.zoomPow=function(va,V,X,ca){return p(va,V,X,ua(ca),ua(1/ca))};g.zoomSymlog=function(va,V,X,ca){return p(va,V,X,aa(ca),wa(ca))};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(Ba,Ga){return Ba<Ga?-1:Ba>Ga?1:Ba>=Ga?0:NaN}function n(Ba){function Ga(Ua,eb,Gb,Tb){null==Gb&&(Gb=0);null==Tb&&(Tb=Ua.length);for(;Gb<Tb;){const kc=Gb+Tb>>>1;0>Ia(Ua[kc],eb)?Gb=kc+1:Tb=kc}return Gb}let oa=Ba,Ia=Ba;1===Ba.length&&(oa=(Ua,
eb)=>Ba(Ua)-eb,Ia=E(Ba));return{left:Ga,center:function(Ua,eb,Gb,Tb){null==Gb&&(Gb=0);null==Tb&&(Tb=Ua.length);Tb=Ga(Ua,eb,Gb,Tb-1);return Tb>Gb&&oa(Ua[Tb-1],eb)>-oa(Ua[Tb],eb)?Tb-1:Tb},right:function(Ua,eb,Gb,Tb){null==Gb&&(Gb=0);null==Tb&&(Tb=Ua.length);for(;Gb<Tb;){const kc=Gb+Tb>>>1;0<Ia(Ua[kc],eb)?Tb=kc:Gb=kc+1}return Gb}}}function E(Ba){return(Ga,oa)=>m(Ba(Ga),oa)}function O(Ba){return null===Ba?NaN:+Ba}function*x(Ba,Ga){if(void 0===Ga)for(var oa of Ba)null!=oa&&(oa=+oa)>=oa&&(yield oa);else{oa=
-1;for(let Ia of Ba)null!=(Ia=Ga(Ia,++oa,Ba))&&(Ia=+Ia)>=Ia&&(yield Ia)}}function y(Ba,Ga){let oa=0;if(void 0===Ga)for(var Ia of Ba)null!=Ia&&(Ia=+Ia)>=Ia&&++oa;else{Ia=-1;for(let Ua of Ba)null!=(Ua=Ga(Ua,++Ia,Ba))&&(Ua=+Ua)>=Ua&&++oa}return oa}function v(Ba){return Ba.length|0}function l(Ba){return!(0<Ba)}function k(Ba){return"object"!==typeof Ba||"length"in Ba?Ba:Array.from(Ba)}function d(Ba){return Ga=>Ba(...Ga)}function f(Ba,Ga){let oa=0,Ia,Ua=0,eb=0;if(void 0===Ga)for(var Gb of Ba)null!=Gb&&
(Gb=+Gb)>=Gb&&(Ia=Gb-Ua,Ua+=Ia/++oa,eb+=Ia*(Gb-Ua));else{Gb=-1;for(let Tb of Ba)null!=(Tb=Ga(Tb,++Gb,Ba))&&(Tb=+Tb)>=Tb&&(Ia=Tb-Ua,Ua+=Ia/++oa,eb+=Ia*(Tb-Ua))}if(1<oa)return eb/(oa-1)}function a(Ba,Ga){return(Ba=f(Ba,Ga))?Math.sqrt(Ba):Ba}function e(Ba,Ga){let oa,Ia;if(void 0===Ga)for(var Ua of Ba)null!=Ua&&(void 0===oa?Ua>=Ua&&(oa=Ia=Ua):(oa>Ua&&(oa=Ua),Ia<Ua&&(Ia=Ua)));else{Ua=-1;for(let eb of Ba)null!=(eb=Ga(eb,++Ua,Ba))&&(void 0===oa?eb>=eb&&(oa=Ia=eb):(oa>eb&&(oa=eb),Ia<eb&&(Ia=eb)))}return[oa,
Ia]}function p({_intern:Ba,_key:Ga},oa){Ga=Ga(oa);return Ba.has(Ga)?Ba.get(Ga):oa}function A({_intern:Ba,_key:Ga},oa){Ga=Ga(oa);if(Ba.has(Ga))return Ba.get(Ga);Ba.set(Ga,oa);return oa}function C({_intern:Ba,_key:Ga},oa){Ga=Ga(oa);Ba.has(Ga)&&(oa=Ba.get(oa),Ba.delete(Ga));return oa}function D(Ba){return null!==Ba&&"object"===typeof Ba?Ba.valueOf():Ba}function P(Ba){return Ba}function L(Ba,...Ga){return K(Ba,P,P,Ga)}function G(Ba,Ga,...oa){return K(Ba,P,Ga,oa)}function z(Ba){if(1!==Ba.length)throw Error("duplicate key");
return Ba[0]}function K(Ba,Ga,oa,Ia){return function Tb(eb,Gb){if(Gb>=Ia.length)return oa(eb);const kc=new ra,bd=Ia[Gb++];let tc=-1;for(const Fc of eb){const mb=bd(Fc,++tc,eb),dc=kc.get(mb);dc?dc.push(Fc):kc.set(mb,[Fc])}for(const [Fc,mb]of kc)kc.set(Fc,Tb(mb,Gb));return Ga(kc)}(Ba,0)}function H(Ba,Ga){return Array.from(Ga,oa=>Ba[oa])}function R(Ba,...Ga){if("function"!==typeof Ba[Symbol.iterator])throw new TypeError("values is not iterable");Ba=Array.from(Ba);let [oa=m]=Ga;if(1===oa.length||1<Ga.length){const Ia=
Uint32Array.from(Ba,(Ua,eb)=>eb);1<Ga.length?(Ga=Ga.map(Ua=>Ba.map(Ua)),Ia.sort((Ua,eb)=>{for(const Gb of Ga){const Tb=m(Gb[Ua],Gb[eb]);if(Tb)return Tb}})):(oa=Ba.map(oa),Ia.sort((Ua,eb)=>m(oa[Ua],oa[eb])));return H(Ba,Ia)}return Ba.sort(oa)}function U(Ba){return function(){return Ba}}function ka(Ba,Ga,oa){var Ia,Ua=-1,eb;Ga=+Ga;Ba=+Ba;oa=+oa;if(Ba===Ga&&0<oa)return[Ba];if(Ia=Ga<Ba){var Gb=Ba;Ba=Ga;Ga=Gb}if(0===(eb=ba(Ba,Ga,oa))||!isFinite(eb))return[];if(0<eb)for(Ba=Math.ceil(Ba/eb),Ga=Math.floor(Ga/
eb),Ga=Array(Gb=Math.ceil(Ga-Ba+1));++Ua<Gb;)Ga[Ua]=(Ba+Ua)*eb;else for(eb=-eb,Ba=Math.ceil(Ba*eb),Ga=Math.floor(Ga*eb),Ga=Array(Gb=Math.ceil(Ga-Ba+1));++Ua<Gb;)Ga[Ua]=(Ba+Ua)/eb;Ia&&Ga.reverse();return Ga}function ba(Ba,Ga,oa){Ga=(Ga-Ba)/Math.max(0,oa);Ba=Math.floor(Math.log(Ga)/Math.LN10);Ga/=Math.pow(10,Ba);return 0<=Ba?(Ga>=na?10:Ga>=Pa?5:Ga>=cb?2:1)*Math.pow(10,Ba):-Math.pow(10,-Ba)/(Ga>=na?10:Ga>=Pa?5:Ga>=cb?2:1)}function fa(Ba,Ga,oa){let Ia;for(;;){const Ua=ba(Ba,Ga,oa);if(Ua===Ia||0===Ua||
!isFinite(Ua))return[Ba,Ga];0<Ua?(Ba=Math.floor(Ba/Ua)*Ua,Ga=Math.ceil(Ga/Ua)*Ua):0>Ua&&(Ba=Math.ceil(Ba*Ua)/Ua,Ga=Math.floor(Ga*Ua)/Ua);Ia=Ua}}function ja(Ba){return Math.ceil(Math.log(y(Ba))/Math.LN2)+1}function Z(){function Ba(Ua){Array.isArray(Ua)||(Ua=Array.from(Ua));var eb,Gb=Ua.length,Tb=Array(Gb);for(eb=0;eb<Gb;++eb)Tb[eb]=Ga(Ua[eb],eb,Ua);var kc=oa(Tb),bd=kc[0];kc=kc[1];var tc=Ia(Tb,bd,kc);if(!Array.isArray(tc)){eb=kc;var Fc=+tc;oa===e&&([bd,kc]=fa(bd,kc,Fc));tc=ka(bd,kc,Fc);tc[tc.length-
1]>=kc&&(eb>=kc&&oa===e?(eb=ba(bd,kc,Fc),isFinite(eb)&&(0<eb?kc=(Math.floor(kc/eb)+1)*eb:0>eb&&(kc=(Math.ceil(kc*-eb)+1)/-eb))):tc.pop())}for(Fc=tc.length;tc[0]<=bd;)tc.shift(),--Fc;for(;tc[Fc-1]>kc;)tc.pop(),--Fc;var mb=Array(Fc+1);for(eb=0;eb<=Fc;++eb){var dc=mb[eb]=[];dc.x0=0<eb?tc[eb-1]:bd;dc.x1=eb<Fc?tc[eb]:kc}for(eb=0;eb<Gb;++eb)dc=Tb[eb],bd<=dc&&dc<=kc&&mb[X(tc,dc,0,Fc)].push(Ua[eb]);return mb}var Ga=P,oa=e,Ia=ja;Ba.value=function(Ua){return arguments.length?(Ga="function"===typeof Ua?Ua:U(Ua),
Ba):Ga};Ba.domain=function(Ua){return arguments.length?(oa="function"===typeof Ua?Ua:U([Ua[0],Ua[1]]),Ba):oa};Ba.thresholds=function(Ua){return arguments.length?(Ia="function"===typeof Ua?Ua:Array.isArray(Ua)?U(Ha.call(Ua)):U(Ua),Ba):Ia};return Ba}function Q(Ba,Ga){let oa;if(void 0===Ga)for(var Ia of Ba)null!=Ia&&(oa<Ia||void 0===oa&&Ia>=Ia)&&(oa=Ia);else{Ia=-1;for(let Ua of Ba)null!=(Ua=Ga(Ua,++Ia,Ba))&&(oa<Ua||void 0===oa&&Ua>=Ua)&&(oa=Ua)}return oa}function q(Ba,Ga){let oa;if(void 0===Ga)for(var Ia of Ba)null!=
Ia&&(oa>Ia||void 0===oa&&Ia>=Ia)&&(oa=Ia);else{Ia=-1;for(let Ua of Ba)null!=(Ua=Ga(Ua,++Ia,Ba))&&(oa>Ua||void 0===oa&&Ua>=Ua)&&(oa=Ua)}return oa}function N(Ba,Ga,oa=0,Ia=Ba.length-1,Ua=m){for(;Ia>oa;){if(600<Ia-oa){var eb=Ia-oa+1,Gb=Ga-oa+1,Tb=Math.log(eb),kc=.5*Math.exp(2*Tb/3);Tb=.5*Math.sqrt(Tb*kc*(eb-kc)/eb)*(0>Gb-eb/2?-1:1);N(Ba,Ga,Math.max(oa,Math.floor(Ga-Gb*kc/eb+Tb)),Math.min(Ia,Math.floor(Ga+(eb-Gb)*kc/eb+Tb)),Ua)}eb=Ba[Ga];Gb=oa;kc=Ia;da(Ba,oa,Ga);for(0<Ua(Ba[Ia],eb)&&da(Ba,oa,Ia);Gb<kc;){da(Ba,
Gb,kc);++Gb;for(--kc;0>Ua(Ba[Gb],eb);)++Gb;for(;0<Ua(Ba[kc],eb);)--kc}0===Ua(Ba[oa],eb)?da(Ba,oa,kc):(++kc,da(Ba,kc,Ia));kc<=Ga&&(oa=kc+1);Ga<=kc&&(Ia=kc-1)}return Ba}function da(Ba,Ga,oa){const Ia=Ba[Ga];Ba[Ga]=Ba[oa];Ba[oa]=Ia}function aa(Ba,Ga,oa){Ba=Float64Array.from(x(Ba,oa));if(oa=Ba.length){if(0>=(Ga=+Ga)||2>oa)return q(Ba);if(1<=Ga)return Q(Ba);Ga*=oa-1;oa=Math.floor(Ga);var Ia=Q(N(Ba,oa).subarray(0,oa+1));Ba=q(Ba.subarray(oa+1));return Ia+(Ba-Ia)*(Ga-oa)}}function wa(Ba,Ga){let oa,Ia=-1,
Ua=-1;if(void 0===Ga)for(const eb of Ba)++Ua,null!=eb&&(oa<eb||void 0===oa&&eb>=eb)&&(oa=eb,Ia=Ua);else for(let eb of Ba)null!=(eb=Ga(eb,++Ua,Ba))&&(oa<eb||void 0===oa&&eb>=eb)&&(oa=eb,Ia=Ua);return Ia}function*ua(Ba){for(const Ga of Ba)yield*Ga}function Ea(Ba,Ga){let oa,Ia=-1,Ua=-1;if(void 0===Ga)for(const eb of Ba)++Ua,null!=eb&&(oa>eb||void 0===oa&&eb>=eb)&&(oa=eb,Ia=Ua);else for(let eb of Ba)null!=(eb=Ga(eb,++Ua,Ba))&&(oa>eb||void 0===oa&&eb>=eb)&&(oa=eb,Ia=Ua);return Ia}function $a(Ba,Ga){return[Ba,
Ga]}function kb(Ba,Ga=m){if(1===Ga.length)return Ea(Ba,Ga);let oa,Ia=-1,Ua=-1;for(const eb of Ba)if(++Ua,0>Ia?0===Ga(eb,eb):0>Ga(eb,oa))oa=eb,Ia=Ua;return Ia}function ta(Ba){return function(Ga,oa=0,Ia=Ga.length){for(Ia-=oa=+oa;Ia;){const Ua=Ba()*Ia--|0,eb=Ga[Ia+oa];Ga[Ia+oa]=Ga[Ua+oa];Ga[Ua+oa]=eb}return Ga}}function Ta(Ba){if(!(eb=Ba.length))return[];for(var Ga=-1,oa=q(Ba,Xa),Ia=Array(oa);++Ga<oa;)for(var Ua=-1,eb,Gb=Ia[Ga]=Array(eb);++Ua<eb;)Gb[Ua]=Ba[Ua][Ga];return Ia}function Xa(Ba){return Ba.length}
function Fa(Ba){return Ba instanceof Set?Ba:new Set(Ba)}function va(Ba,Ga){Ba=Ba[Symbol.iterator]();const oa=new Set;for(const Ia of Ga){if(oa.has(Ia))continue;let Ua;for(;{value:Ga,done:Ua}=Ba.next();){if(Ua)return!1;oa.add(Ga);if(Object.is(Ia,Ga))break}}return!0}var V=n(m);const X=V.right;V=V.left;const ca=n(O).center;class ea{constructor(){this._partials=new Float64Array(32);this._n=0}add(Ba){const Ga=this._partials;let oa=0;for(let Ia=0;Ia<this._n&&32>Ia;Ia++){const Ua=Ga[Ia],eb=Ba+Ua;(Ba=Math.abs(Ba)<
Math.abs(Ua)?Ba-(eb-Ua):Ua-(eb-Ba))&&(Ga[oa++]=Ba);Ba=eb}Ga[oa]=Ba;this._n=oa+1;return this}valueOf(){const Ba=this._partials;let Ga=this._n;let oa,Ia=0;if(0<Ga){for(Ia=Ba[--Ga];0<Ga;){var Ua=Ia;oa=Ba[--Ga];Ia=Ua+oa;if(Ua=oa-(Ia-Ua))break}0<Ga&&(0>Ua&&0>Ba[Ga-1]||0<Ua&&0<Ba[Ga-1])&&(oa=2*Ua,Ua=Ia+oa,oa==Ua-Ia&&(Ia=Ua))}return Ia}}class ra extends Map{constructor(Ba=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const [oa,Ia]of Ba)this.set(oa,Ia)}get(Ba){return super.get(p(this,
Ba))}has(Ba){return super.has(p(this,Ba))}set(Ba,Ga){return super.set(A(this,Ba),Ga)}delete(Ba){return super.delete(C(this,Ba))}}class qa extends Set{constructor(Ba=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const oa of Ba)this.add(oa)}has(Ba){return super.has(p(this,Ba))}add(Ba){return super.add(A(this,Ba))}delete(Ba){return super.delete(C(this,Ba))}}var Ha=Array.prototype.slice,na=Math.sqrt(50),Pa=Math.sqrt(10),cb=Math.sqrt(2),ab=ta(Math.random);
g.Adder=ea;g.InternMap=ra;g.InternSet=qa;g.ascending=m;g.bin=Z;g.bisect=X;g.bisectCenter=ca;g.bisectLeft=V;g.bisectRight=X;g.bisector=n;g.count=y;g.cross=function(...Ba){const Ga="function"===typeof Ba[Ba.length-1]&&d(Ba.pop());Ba=Ba.map(k);const oa=Ba.map(v),Ia=Ba.length-1,Ua=Array(Ia+1).fill(0),eb=[];if(0>Ia||oa.some(l))return eb;for(;;){eb.push(Ua.map((Tb,kc)=>Ba[kc][Tb]));let Gb=Ia;for(;++Ua[Gb]===oa[Gb];){if(0===Gb)return Ga?eb.map(Ga):eb;Ua[Gb--]=0}}};g.cumsum=function(Ba,Ga){var oa=0,Ia=0;
return Float64Array.from(Ba,void 0===Ga?Ua=>oa+=+Ua||0:Ua=>oa+=+Ga(Ua,Ia++,Ba)||0)};g.descending=function(Ba,Ga){return Ga<Ba?-1:Ga>Ba?1:Ga>=Ba?0:NaN};g.deviation=a;g.difference=function(Ba,...Ga){Ba=new Set(Ba);for(const oa of Ga)for(const Ia of oa)Ba.delete(Ia);return Ba};g.disjoint=function(Ba,Ga){Ga=Ga[Symbol.iterator]();const oa=new Set;for(const Ia of Ba){if(oa.has(Ia))return!1;let Ua;for(;({value:Ba,done:Ua}=Ga.next())&&!Ua;){if(Object.is(Ia,Ba))return!1;oa.add(Ba)}}return!0};g.every=function(Ba,
Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let oa=-1;for(const Ia of Ba)if(!Ga(Ia,++oa,Ba))return!1;return!0};g.extent=e;g.filter=function(Ba,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");const oa=[];let Ia=-1;for(const Ua of Ba)Ga(Ua,++Ia,Ba)&&oa.push(Ua);return oa};g.fsum=function(Ba,Ga){const oa=new ea;if(void 0===Ga)for(var Ia of Ba)(Ia=+Ia)&&oa.add(Ia);else{Ia=-1;for(let Ua of Ba)(Ua=+Ga(Ua,++Ia,Ba))&&oa.add(Ua)}return+oa};g.greatest=
function(Ba,Ga=m){let oa,Ia=!1;if(1===Ga.length){let Ua;for(const eb of Ba)if(Ba=Ga(eb),Ia?0<m(Ba,Ua):0===m(Ba,Ba))oa=eb,Ua=Ba,Ia=!0}else for(const Ua of Ba)if(Ia?0<Ga(Ua,oa):0===Ga(Ua,Ua))oa=Ua,Ia=!0;return oa};g.greatestIndex=function(Ba,Ga=m){if(1===Ga.length)return wa(Ba,Ga);let oa,Ia=-1,Ua=-1;for(const eb of Ba)if(++Ua,0>Ia?0===Ga(eb,eb):0<Ga(eb,oa))oa=eb,Ia=Ua;return Ia};g.group=L;g.groupSort=function(Ba,Ga,oa){return(1===Ga.length?R(G(Ba,Ga,oa),([Ia,Ua],[eb,Gb])=>m(Ua,Gb)||m(Ia,eb)):R(L(Ba,
oa),([Ia,Ua],[eb,Gb])=>Ga(Ua,Gb)||m(Ia,eb))).map(([Ia])=>Ia)};g.groups=function(Ba,...Ga){return K(Ba,Array.from,P,Ga)};g.histogram=Z;g.index=function(Ba,...Ga){return K(Ba,P,z,Ga)};g.indexes=function(Ba,...Ga){return K(Ba,Array.from,z,Ga)};g.intersection=function(Ba,...Ga){Ba=new Set(Ba);Ga=Ga.map(Fa);a:for(const oa of Ba)for(const Ia of Ga)if(!Ia.has(oa)){Ba.delete(oa);continue a}return Ba};g.least=function(Ba,Ga=m){let oa,Ia=!1;if(1===Ga.length){let Ua;for(const eb of Ba)if(Ba=Ga(eb),Ia?0>m(Ba,
Ua):0===m(Ba,Ba))oa=eb,Ua=Ba,Ia=!0}else for(const Ua of Ba)if(Ia?0>Ga(Ua,oa):0===Ga(Ua,Ua))oa=Ua,Ia=!0;return oa};g.leastIndex=kb;g.map=function(Ba,Ga){if("function"!==typeof Ba[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof Ga)throw new TypeError("mapper is not a function");return Array.from(Ba,(oa,Ia)=>Ga(oa,Ia,Ba))};g.max=Q;g.maxIndex=wa;g.mean=function(Ba,Ga){let oa=0,Ia=0;if(void 0===Ga)for(var Ua of Ba)null!=Ua&&(Ua=+Ua)>=Ua&&(++oa,Ia+=Ua);else{Ua=-1;for(let eb of Ba)null!=
(eb=Ga(eb,++Ua,Ba))&&(eb=+eb)>=eb&&(++oa,Ia+=eb)}if(oa)return Ia/oa};g.median=function(Ba,Ga){return aa(Ba,.5,Ga)};g.merge=function(Ba){return Array.from(ua(Ba))};g.min=q;g.minIndex=Ea;g.nice=fa;g.pairs=function(Ba,Ga=$a){const oa=[];let Ia,Ua=!1;for(const eb of Ba)Ua&&oa.push(Ga(Ia,eb)),Ia=eb,Ua=!0;return oa};g.permute=H;g.quantile=aa;g.quantileSorted=function(Ba,Ga,oa=O){if(Ia=Ba.length){if(0>=(Ga=+Ga)||2>Ia)return+oa(Ba[0],0,Ba);if(1<=Ga)return+oa(Ba[Ia-1],Ia-1,Ba);var Ia;Ga*=Ia-1;Ia=Math.floor(Ga);
var Ua=+oa(Ba[Ia],Ia,Ba);Ba=+oa(Ba[Ia+1],Ia+1,Ba);return Ua+(Ba-Ua)*(Ga-Ia)}};g.quickselect=N;g.range=function(Ba,Ga,oa){Ba=+Ba;Ga=+Ga;oa=2>(Ua=arguments.length)?(Ga=Ba,Ba=0,1):3>Ua?1:+oa;for(var Ia=-1,Ua=Math.max(0,Math.ceil((Ga-Ba)/oa))|0,eb=Array(Ua);++Ia<Ua;)eb[Ia]=Ba+Ia*oa;return eb};g.reduce=function(Ba,Ga,oa){if("function"!==typeof Ga)throw new TypeError("reducer is not a function");const Ia=Ba[Symbol.iterator]();let Ua,eb,Gb=-1;if(3>arguments.length){({done:Ua,value:oa}=Ia.next());if(Ua)return;
++Gb}for(;{done:Ua,value:eb}=Ia.next(),!Ua;)oa=Ga(oa,eb,++Gb,Ba);return oa};g.reverse=function(Ba){if("function"!==typeof Ba[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Ba).reverse()};g.rollup=G;g.rollups=function(Ba,Ga,...oa){return K(Ba,Array.from,Ga,oa)};g.scan=function(Ba,Ga){Ba=kb(Ba,Ga);return 0>Ba?void 0:Ba};g.shuffle=ab;g.shuffler=ta;g.some=function(Ba,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let oa=-1;for(const Ia of Ba)if(Ga(Ia,
++oa,Ba))return!0;return!1};g.sort=R;g.subset=function(Ba,Ga){return va(Ga,Ba)};g.sum=function(Ba,Ga){let oa=0;if(void 0===Ga)for(var Ia of Ba){if(Ia=+Ia)oa+=Ia}else{Ia=-1;for(let Ua of Ba)if(Ua=+Ga(Ua,++Ia,Ba))oa+=Ua}return oa};g.superset=va;g.thresholdFreedmanDiaconis=function(Ba,Ga,oa){return Math.ceil((oa-Ga)/(2*(aa(Ba,.75)-aa(Ba,.25))*Math.pow(y(Ba),-1/3)))};g.thresholdScott=function(Ba,Ga,oa){return Math.ceil((oa-Ga)/(3.5*a(Ba)*Math.pow(y(Ba),-1/3)))};g.thresholdSturges=ja;g.tickIncrement=ba;
g.tickStep=function(Ba,Ga,oa){var Ia=Math.abs(Ga-Ba)/Math.max(0,oa);oa=Math.pow(10,Math.floor(Math.log(Ia)/Math.LN10));Ia/=oa;Ia>=na?oa*=10:Ia>=Pa?oa*=5:Ia>=cb&&(oa*=2);return Ga<Ba?-oa:oa};g.ticks=ka;g.transpose=Ta;g.union=function(...Ba){const Ga=new Set;for(const oa of Ba)for(const Ia of oa)Ga.add(Ia);return Ga};g.variance=f;g.zip=function(){return Ta(arguments)};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[16]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(D,P){if(0>(P=(D=P?D.toExponential(P-1):D.toExponential()).indexOf("e")))return null;var L=D.slice(0,P);return[1<L.length?L[0]+L.slice(2):L,+D.slice(P+1)]}function n(D){return D=m(Math.abs(D)),D?D[1]:NaN}function E(D,P){return function(L,
G){for(var z=L.length,K=[],H=0,R=D[0],U=0;0<z&&0<R;){U+R+1>G&&(R=Math.max(1,G-U));K.push(L.substring(z-=R,z+R));if((U+=R+1)>G)break;R=D[H=(H+1)%D.length]}return K.reverse().join(P)}}function O(D){return function(P){return P.replace(/[0-9]/g,function(L){return D[+L]})}}function x(D){if(!(P=f.exec(D)))throw Error("invalid format: "+D);var P;return new y({fill:P[1],align:P[2],sign:P[3],symbol:P[4],zero:P[5],width:P[6],comma:P[7],precision:P[8]&&P[8].slice(1),trim:P[9],type:P[10]})}function y(D){this.fill=
void 0===D.fill?" ":D.fill+"";this.align=void 0===D.align?"\x3e":D.align+"";this.sign=void 0===D.sign?"-":D.sign+"";this.symbol=void 0===D.symbol?"":D.symbol+"";this.zero=!!D.zero;this.width=void 0===D.width?void 0:+D.width;this.comma=!!D.comma;this.precision=void 0===D.precision?void 0:+D.precision;this.trim=!!D.trim;this.type=void 0===D.type?"":D.type+""}function v(D,P){P=m(D,P);if(!P)return D+"";D=P[0];P=P[1];return 0>P?"0."+Array(-P).join("0")+D:D.length>P+1?D.slice(0,P+1)+"."+D.slice(P+1):D+
Array(P-D.length+2).join("0")}function l(D){return D}function k(D){function P(ba){function fa(Xa){var Fa=$a,va=kb,V,X;if("c"===Ea)va=ta(Xa)+va,Xa="";else{Xa=+Xa;var ca=0>Xa||0>1/Xa;Xa=isNaN(Xa)?ka:ta(Math.abs(Xa),wa);if(ua){var ea=Xa.length,ra=1,qa=-1;a:for(;ra<ea;++ra)switch(Xa[ra]){case ".":qa=V=ra;break;case "0":0===qa&&(qa=ra);V=ra;break;default:if(!+Xa[ra])break a;0<qa&&(qa=0)}Xa=0<qa?Xa.slice(0,qa)+Xa.slice(V+1):Xa}ca&&0===+Xa&&"+"!==Q&&(ca=!1);Fa=(ca?"("===Q?Q:U:"-"===Q||"("===Q?"":Q)+Fa;va=
("s"===Ea?A[8+a/3]:"")+va+(ca&&"("===Q?")":"");if(Ta)for(ca=-1,V=Xa.length;++ca<V;)if(X=Xa.charCodeAt(ca),48>X||57<X){va=(46===X?K+Xa.slice(ca+1):Xa.slice(ca))+va;Xa=Xa.slice(0,ca);break}}aa&&!N&&(Xa=L(Xa,Infinity));X=Fa.length+Xa.length+va.length;ca=X<da?Array(da-X+1).join(ja):"";aa&&N&&(Xa=L(ca+Xa,ca.length?da-va.length:Infinity),ca="");switch(Z){case "\x3c":Xa=Fa+Xa+va+ca;break;case "\x3d":Xa=Fa+ca+Xa+va;break;case "^":Xa=ca.slice(0,X=ca.length>>1)+Fa+Xa+va+ca.slice(X);break;default:Xa=ca+Fa+Xa+
va}return H(Xa)}ba=x(ba);var ja=ba.fill,Z=ba.align,Q=ba.sign,q=ba.symbol,N=ba.zero,da=ba.width,aa=ba.comma,wa=ba.precision,ua=ba.trim,Ea=ba.type;"n"===Ea?(aa=!0,Ea="g"):e[Ea]||(void 0===wa&&(wa=12),ua=!0,Ea="g");if(N||"0"===ja&&"\x3d"===Z)N=!0,ja="0",Z="\x3d";var $a="$"===q?G:"#"===q&&/[boxX]/.test(Ea)?"0"+Ea.toLowerCase():"",kb="$"===q?z:/[%p]/.test(Ea)?R:"",ta=e[Ea],Ta=/[defgprs%]/.test(Ea);wa=void 0===wa?6:/[gprs]/.test(Ea)?Math.max(1,Math.min(21,wa)):Math.max(0,Math.min(20,wa));fa.toString=function(){return ba+
""};return fa}var L=void 0===D.grouping||void 0===D.thousands?l:E(p.call(D.grouping,Number),D.thousands+""),G=void 0===D.currency?"":D.currency[0]+"",z=void 0===D.currency?"":D.currency[1]+"",K=void 0===D.decimal?".":D.decimal+"",H=void 0===D.numerals?l:O(p.call(D.numerals,String)),R=void 0===D.percent?"%":D.percent+"",U=void 0===D.minus?"":D.minus+"",ka=void 0===D.nan?"NaN":D.nan+"";return{format:P,formatPrefix:function(ba,fa){var ja=P((ba=x(ba),ba.type="f",ba));ba=3*Math.max(-8,Math.min(8,Math.floor(n(fa)/
3)));var Z=Math.pow(10,-ba),Q=A[8+ba/3];return function(q){return ja(Z*q)+Q}}}}function d(D){C=k(D);g.format=C.format;g.formatPrefix=C.formatPrefix;return C}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;x.prototype=y.prototype;y.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,e={"%":(D,P)=>(100*D).toFixed(P),b:D=>Math.round(D).toString(2),c:D=>D+"",d:function(D){return 1E21<=Math.abs(D=Math.round(D))?D.toLocaleString("en").replace(/,/g,""):D.toString(10)},e:(D,P)=>D.toExponential(P),f:(D,P)=>D.toFixed(P),g:(D,P)=>D.toPrecision(P),o:D=>Math.round(D).toString(8),p:(D,P)=>v(100*D,P),r:v,s:function(D,P){var L=m(D,P);if(!L)return D+"";var G=L[0];L=L[1];L=L-(a=3*Math.max(-8,Math.min(8,Math.floor(L/3))))+1;var z=G.length;return L===z?G:L>z?G+Array(L-
z+1).join("0"):0<L?G.slice(0,L)+"."+G.slice(L):"0."+Array(1-L).join("0")+m(D,Math.max(0,P+L-1))[0]},X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)},p=Array.prototype.map,A="y z a f p n  m  k M G T P E Z Y".split(" "),C;d({thousands:",",grouping:[3],currency:["$",""]});g.FormatSpecifier=y;g.formatDefaultLocale=d;g.formatLocale=k;g.formatSpecifier=x;g.precisionFixed=function(D){return Math.max(0,-n(Math.abs(D)))};g.precisionPrefix=function(D,P){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(n(P)/3)))-n(Math.abs(D)))};g.precisionRound=function(D,P){D=Math.abs(D);P=Math.abs(P)-D;return Math.max(0,n(P)-n(D))+1};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(Ga,oa,Ia,Ua){function eb(Gb){return Ga(Gb=0===arguments.length?new Date:new Date(+Gb)),Gb}eb.floor=function(Gb){return Ga(Gb=new Date(+Gb)),Gb};eb.ceil=function(Gb){return Ga(Gb=new Date(Gb-1)),oa(Gb,1),Ga(Gb),Gb};eb.round=function(Gb){var Tb=eb(Gb),kc=eb.ceil(Gb);return Gb-Tb<
kc-Gb?Tb:kc};eb.offset=function(Gb,Tb){return oa(Gb=new Date(+Gb),null==Tb?1:Math.floor(Tb)),Gb};eb.range=function(Gb,Tb,kc){var bd=[],tc;Gb=eb.ceil(Gb);kc=null==kc?1:Math.floor(kc);if(!(Gb<Tb&&0<kc))return bd;do bd.push(tc=new Date(+Gb)),oa(Gb,kc),Ga(Gb);while(tc<Gb&&Gb<Tb);return bd};eb.filter=function(Gb){return m(function(Tb){if(Tb>=Tb)for(;Ga(Tb),!Gb(Tb);)Tb.setTime(Tb-1)},function(Tb,kc){if(Tb>=Tb)if(0>kc)for(;0>=++kc;)for(;oa(Tb,-1),!Gb(Tb););else for(;0<=--kc;)for(;oa(Tb,1),!Gb(Tb););})};
Ia&&(eb.count=function(Gb,Tb){O.setTime(+Gb);x.setTime(+Tb);Ga(O);Ga(x);return Math.floor(Ia(O,x))},eb.every=function(Gb){Gb=Math.floor(Gb);return isFinite(Gb)&&0<Gb?1<Gb?eb.filter(Ua?function(Tb){return 0===Ua(Tb)%Gb}:function(Tb){return 0===eb.count(0,Tb)%Gb}):eb:null});return eb}function n(Ga){return m(function(oa){oa.setDate(oa.getDate()-(oa.getDay()+7-Ga)%7);oa.setHours(0,0,0,0)},function(oa,Ia){oa.setDate(oa.getDate()+7*Ia)},function(oa,Ia){return(Ia-oa-6E4*(Ia.getTimezoneOffset()-oa.getTimezoneOffset()))/
6048E5})}function E(Ga){return m(function(oa){oa.setUTCDate(oa.getUTCDate()-(oa.getUTCDay()+7-Ga)%7);oa.setUTCHours(0,0,0,0)},function(oa,Ia){oa.setUTCDate(oa.getUTCDate()+7*Ia)},function(oa,Ia){return(Ia-oa)/6048E5})}var O=new Date,x=new Date,y=m(function(){},function(Ga,oa){Ga.setTime(+Ga+oa)},function(Ga,oa){return oa-Ga});y.every=function(Ga){Ga=Math.floor(Ga);return isFinite(Ga)&&0<Ga?1<Ga?m(function(oa){oa.setTime(Math.floor(oa/Ga)*Ga)},function(oa,Ia){oa.setTime(+oa+Ia*Ga)},function(oa,Ia){return(Ia-
oa)/Ga}):y:null};var v=y.range,l=m(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds())},function(Ga,oa){Ga.setTime(+Ga+1E3*oa)},function(Ga,oa){return(oa-Ga)/1E3},function(Ga){return Ga.getUTCSeconds()}),k=l.range,d=m(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds())},function(Ga,oa){Ga.setTime(+Ga+6E4*oa)},function(Ga,oa){return(oa-Ga)/6E4},function(Ga){return Ga.getMinutes()}),f=d.range,a=m(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds()-6E4*Ga.getMinutes())},
function(Ga,oa){Ga.setTime(+Ga+36E5*oa)},function(Ga,oa){return(oa-Ga)/36E5},function(Ga){return Ga.getHours()}),e=a.range,p=m(Ga=>Ga.setHours(0,0,0,0),(Ga,oa)=>Ga.setDate(Ga.getDate()+oa),(Ga,oa)=>(oa-Ga-6E4*(oa.getTimezoneOffset()-Ga.getTimezoneOffset()))/864E5,Ga=>Ga.getDate()-1),A=p.range,C=n(0),D=n(1),P=n(2),L=n(3),G=n(4),z=n(5),K=n(6),H=C.range,R=D.range,U=P.range,ka=L.range,ba=G.range,fa=z.range,ja=K.range,Z=m(function(Ga){Ga.setDate(1);Ga.setHours(0,0,0,0)},function(Ga,oa){Ga.setMonth(Ga.getMonth()+
oa)},function(Ga,oa){return oa.getMonth()-Ga.getMonth()+12*(oa.getFullYear()-Ga.getFullYear())},function(Ga){return Ga.getMonth()}),Q=Z.range,q=m(function(Ga){Ga.setMonth(0,1);Ga.setHours(0,0,0,0)},function(Ga,oa){Ga.setFullYear(Ga.getFullYear()+oa)},function(Ga,oa){return oa.getFullYear()-Ga.getFullYear()},function(Ga){return Ga.getFullYear()});q.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?m(function(oa){oa.setFullYear(Math.floor(oa.getFullYear()/Ga)*Ga);oa.setMonth(0,1);oa.setHours(0,
0,0,0)},function(oa,Ia){oa.setFullYear(oa.getFullYear()+Ia*Ga)}):null};var N=q.range,da=m(function(Ga){Ga.setUTCSeconds(0,0)},function(Ga,oa){Ga.setTime(+Ga+6E4*oa)},function(Ga,oa){return(oa-Ga)/6E4},function(Ga){return Ga.getUTCMinutes()}),aa=da.range,wa=m(function(Ga){Ga.setUTCMinutes(0,0,0)},function(Ga,oa){Ga.setTime(+Ga+36E5*oa)},function(Ga,oa){return(oa-Ga)/36E5},function(Ga){return Ga.getUTCHours()}),ua=wa.range,Ea=m(function(Ga){Ga.setUTCHours(0,0,0,0)},function(Ga,oa){Ga.setUTCDate(Ga.getUTCDate()+
oa)},function(Ga,oa){return(oa-Ga)/864E5},function(Ga){return Ga.getUTCDate()-1}),$a=Ea.range,kb=E(0),ta=E(1),Ta=E(2),Xa=E(3),Fa=E(4),va=E(5),V=E(6),X=kb.range,ca=ta.range,ea=Ta.range,ra=Xa.range,qa=Fa.range,Ha=va.range,na=V.range,Pa=m(function(Ga){Ga.setUTCDate(1);Ga.setUTCHours(0,0,0,0)},function(Ga,oa){Ga.setUTCMonth(Ga.getUTCMonth()+oa)},function(Ga,oa){return oa.getUTCMonth()-Ga.getUTCMonth()+12*(oa.getUTCFullYear()-Ga.getUTCFullYear())},function(Ga){return Ga.getUTCMonth()}),cb=Pa.range,ab=
m(function(Ga){Ga.setUTCMonth(0,1);Ga.setUTCHours(0,0,0,0)},function(Ga,oa){Ga.setUTCFullYear(Ga.getUTCFullYear()+oa)},function(Ga,oa){return oa.getUTCFullYear()-Ga.getUTCFullYear()},function(Ga){return Ga.getUTCFullYear()});ab.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?m(function(oa){oa.setUTCFullYear(Math.floor(oa.getUTCFullYear()/Ga)*Ga);oa.setUTCMonth(0,1);oa.setUTCHours(0,0,0,0)},function(oa,Ia){oa.setUTCFullYear(oa.getUTCFullYear()+Ia*Ga)}):null};var Ba=ab.range;g.timeDay=p;
g.timeDays=A;g.timeFriday=z;g.timeFridays=fa;g.timeHour=a;g.timeHours=e;g.timeInterval=m;g.timeMillisecond=y;g.timeMilliseconds=v;g.timeMinute=d;g.timeMinutes=f;g.timeMonday=D;g.timeMondays=R;g.timeMonth=Z;g.timeMonths=Q;g.timeSaturday=K;g.timeSaturdays=ja;g.timeSecond=l;g.timeSeconds=k;g.timeSunday=C;g.timeSundays=H;g.timeThursday=G;g.timeThursdays=ba;g.timeTuesday=P;g.timeTuesdays=U;g.timeWednesday=L;g.timeWednesdays=ka;g.timeWeek=C;g.timeWeeks=H;g.timeYear=q;g.timeYears=N;g.utcDay=Ea;g.utcDays=
$a;g.utcFriday=va;g.utcFridays=Ha;g.utcHour=wa;g.utcHours=ua;g.utcMillisecond=y;g.utcMilliseconds=v;g.utcMinute=da;g.utcMinutes=aa;g.utcMonday=ta;g.utcMondays=ca;g.utcMonth=Pa;g.utcMonths=cb;g.utcSaturday=V;g.utcSaturdays=na;g.utcSecond=l;g.utcSeconds=k;g.utcSunday=kb;g.utcSundays=X;g.utcThursday=Fa;g.utcThursdays=qa;g.utcTuesday=Ta;g.utcTuesdays=ea;g.utcWednesday=Xa;g.utcWednesdays=ra;g.utcWeek=kb;g.utcWeeks=X;g.utcYear=ab;g.utcYears=Ba;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(17),B(15)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.d3,g.d3))})(this,function(g,m,n,E){function O(ua){const Ea=m.array(ua).slice(),$a={};Ea.length||m.error("Missing time unit.");Ea.forEach(kb=>{m.hasOwnProperty(D,kb)?$a[kb]=1:m.error(`Invalid time unit: ${kb}.`)});
1<($a.week||$a.day?1:0)+($a.quarter||$a.month||$a.date?1:0)+($a.dayofyear?1:0)&&m.error(`Incompatible time units: ${ua}`);Ea.sort((kb,ta)=>D[kb]-D[ta]);return Ea}function x(ua){L.setFullYear(ua);L.setMonth(0);L.setDate(1);L.setHours(0,0,0,0);return L}function y(ua){return n.timeDay.count(x(ua.getFullYear())-1,ua)}function v(ua){return n.timeWeek.count(x(ua.getFullYear())-1,ua)}function l(ua,Ea,$a,kb,ta,Ta,Xa){return 0<=ua&&100>ua?(Ea=new Date(-1,Ea,$a,kb,ta,Ta,Xa),Ea.setFullYear(ua),Ea):new Date(ua,
Ea,$a,kb,ta,Ta,Xa)}function k(ua){const Ea=Date.UTC(ua.getUTCFullYear(),0,1);return n.utcDay.count(Ea-1,ua)}function d(ua){const Ea=Date.UTC(ua.getUTCFullYear(),0,1);return n.utcWeek.count(Ea-1,ua)}function f(ua){L.setTime(Date.UTC(ua,0,1));return L.getUTCDay()}function a(ua,Ea,$a,kb,ta,Ta,Xa){return 0<=ua&&100>ua?(ua=new Date(Date.UTC(-1,Ea,$a,kb,ta,Ta,Xa)),ua.setUTCFullYear($a.y),ua):new Date(Date.UTC(ua,Ea,$a,kb,ta,Ta,Xa))}function e(ua,Ea,$a,kb,ta){const Ta=Ea||1,Xa=m.peek(ua);Ea=(Ha,na,Pa)=>
{Pa=Pa||Ha;return p($a[Pa],kb[Pa],Ha===Xa&&Ta,na)};const Fa=new Date;ua=m.toSet(ua);const va=ua.year?Ea("year"):m.constant(2012),V=ua.month?Ea("month"):ua.quarter?Ea("quarter"):m.zero,X=ua.week&&ua.day?Ea("day",1,"weekday"):ua.week?Ea("week",1):ua.day?Ea("day",1):ua.date?Ea("date",1):ua.dayofyear?Ea("dayofyear",1):m.one,ca=ua.hours?Ea("hours"):m.zero,ea=ua.minutes?Ea("minutes"):m.zero,ra=ua.seconds?Ea("seconds"):m.zero,qa=ua.milliseconds?Ea("milliseconds"):m.zero;return function(Ha){Fa.setTime(+Ha);
Ha=va(Fa);return ta(Ha,V(Fa),X(Fa,Ha),ca(Fa),ea(Fa),ra(Fa),qa(Fa))}}function p(ua,Ea,$a,kb){const ta=1>=$a?ua:kb?(Ta,Xa)=>kb+$a*Math.floor((ua(Ta,Xa)-kb)/$a):(Ta,Xa)=>$a*Math.floor(ua(Ta,Xa)/$a);return Ea?(Ta,Xa)=>Ea(ta(Ta,Xa),Xa):ta}function A(ua,Ea,$a){return Ea+7*ua-($a+6)%7}const C="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),D=C.reduce((ua,Ea,$a)=>(ua[Ea]=1+$a,ua),{}),P={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},L=new Date,G={["year"]:ua=>ua.getFullYear(),["quarter"]:ua=>Math.floor(ua.getMonth()/3),["month"]:ua=>ua.getMonth(),["date"]:ua=>ua.getDate(),["hours"]:ua=>ua.getHours(),["minutes"]:ua=>ua.getMinutes(),["seconds"]:ua=>ua.getSeconds(),["milliseconds"]:ua=>ua.getMilliseconds(),["dayofyear"]:ua=>y(ua),["week"]:ua=>
v(ua),["weekday"]:(ua,Ea)=>A(v(ua),ua.getDay(),x(Ea).getDay()),["day"]:(ua,Ea)=>A(1,ua.getDay(),x(Ea).getDay())},z={["quarter"]:ua=>3*ua,["week"]:(ua,Ea)=>A(ua,0,x(Ea).getDay())},K={["year"]:ua=>ua.getUTCFullYear(),["quarter"]:ua=>Math.floor(ua.getUTCMonth()/3),["month"]:ua=>ua.getUTCMonth(),["date"]:ua=>ua.getUTCDate(),["hours"]:ua=>ua.getUTCHours(),["minutes"]:ua=>ua.getUTCMinutes(),["seconds"]:ua=>ua.getUTCSeconds(),["milliseconds"]:ua=>ua.getUTCMilliseconds(),["dayofyear"]:ua=>k(ua),["week"]:ua=>
d(ua),["day"]:(ua,Ea)=>A(1,ua.getUTCDay(),f(Ea)),["weekday"]:(ua,Ea)=>A(d(ua),ua.getUTCDay(),f(Ea))},H={["quarter"]:ua=>3*ua,["week"]:(ua,Ea)=>A(ua,0,f(Ea))},R={["year"]:n.timeYear,["quarter"]:n.timeMonth.every(3),["month"]:n.timeMonth,["week"]:n.timeWeek,["date"]:n.timeDay,["day"]:n.timeDay,["dayofyear"]:n.timeDay,["hours"]:n.timeHour,["minutes"]:n.timeMinute,["seconds"]:n.timeSecond,["milliseconds"]:n.timeMillisecond},U={["year"]:n.utcYear,["quarter"]:n.utcMonth.every(3),["month"]:n.utcMonth,["week"]:n.utcWeek,
["date"]:n.utcDay,["day"]:n.utcDay,["dayofyear"]:n.utcDay,["hours"]:n.utcHour,["minutes"]:n.utcMinute,["seconds"]:n.utcSecond,["milliseconds"]:n.utcMillisecond},ka=6048E5,ba=2592E6,fa=31536E6,ja="year month date hours minutes seconds milliseconds".split(" "),Z=ja.slice(0,-1),Q=Z.slice(0,-1),q=Q.slice(0,-1),N=q.slice(0,-1),da=["year","month"],aa=["year"],wa=[[Z,1,1E3],[Z,5,5E3],[Z,15,15E3],[Z,30,3E4],[Q,1,6E4],[Q,5,3E5],[Q,15,9E5],[Q,30,18E5],[q,1,36E5],[q,3,108E5],[q,6,216E5],[q,12,432E5],[N,1,864E5],
[["year","week"],1,ka],[da,1,ba],[da,3,3*ba],[aa,1,fa]];g.DATE="date";g.DAY="day";g.DAYOFYEAR="dayofyear";g.HOURS="hours";g.MILLISECONDS="milliseconds";g.MINUTES="minutes";g.MONTH="month";g.QUARTER="quarter";g.SECONDS="seconds";g.TIME_UNITS=C;g.WEEK="week";g.YEAR="year";g.dayofyear=function(ua){return y(new Date(ua))};g.timeBin=function(ua){var Ea=ua.extent;ua=ua.maxbins||40;var $a=Math.abs(m.span(Ea))/ua;let kb=E.bisector(ta=>ta[2]).right(wa,$a);kb===wa.length?($a=aa,Ea=E.tickStep(Ea[0]/fa,Ea[1]/
fa,ua)):kb?(kb=wa[$a/wa[kb-1][2]<wa[kb][2]/$a?kb-1:kb],$a=kb[0],Ea=kb[1]):($a=ja,Ea=Math.max(E.tickStep(Ea[0],Ea[1],ua),1));return{units:$a,step:Ea}};g.timeFloor=function(ua,Ea){return e(ua,Ea||1,G,z,l)};g.timeInterval=function(ua){return R[ua]};g.timeOffset=function(ua,Ea,$a){return(ua=R[ua])?ua.offset(Ea,$a):void 0};g.timeSequence=function(ua,Ea,$a,kb){return(ua=R[ua])?ua.range(Ea,$a,kb):void 0};g.timeUnitSpecifier=function(ua,Ea){Ea=m.extend({},P,Ea);ua=O(ua);const $a=ua.length;let kb="",ta,Ta,
Xa;for(ta=0;ta<$a;)for(Ta=ua.length;Ta>ta;--Ta)if(Xa=ua.slice(ta,Ta).join("-"),null!=Ea[Xa]){kb+=Ea[Xa];ta=Ta;break}return kb.trim()};g.timeUnits=O;g.utcFloor=function(ua,Ea){return e(ua,Ea||1,K,H,a)};g.utcInterval=function(ua){return U[ua]};g.utcOffset=function(ua,Ea,$a){return(ua=U[ua])?ua.offset(Ea,$a):void 0};g.utcSequence=function(ua,Ea,$a,kb){return(ua=U[ua])?ua.range(Ea,$a,kb):void 0};g.utcdayofyear=function(ua){return k(new Date(ua))};g.utcweek=function(ua){return d(new Date(ua))};g.week=
function(ua){return v(new Date(ua))};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(17)):"function"===typeof define&&define.amd?define(["exports","d3-time"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(Pb){if(0<=Pb.y&&100>Pb.y){var fc=new Date(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L);fc.setFullYear(Pb.y);return fc}return new Date(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L)}function E(Pb){if(0<=Pb.y&&100>Pb.y){var fc=new Date(Date.UTC(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L));
fc.setUTCFullYear(Pb.y);return fc}return new Date(Date.UTC(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L))}function O(Pb,fc,Hb){return{y:Pb,m:fc,d:Hb,H:0,M:0,S:0,L:0}}function x(Pb){function fc(uc,Zc){return function($c){var nd=[],Cd=-1,Ed=0,Xd=uc.length,$d,ae;for($c instanceof Date||($c=new Date(+$c));++Cd<Xd;)if(37===uc.charCodeAt(Cd)){nd.push(uc.slice(Ed,Cd));null!=(Ed=Tc[$d=uc.charAt(++Cd)])?$d=uc.charAt(++Cd):Ed="e"===$d?" ":"0";if(ae=Zc[$d])$d=ae($c,Ed);nd.push($d);Ed=Cd+1}nd.push(uc.slice(Ed,Cd));return nd.join("")}}
function Hb(uc,Zc){return function($c){var nd=O(1900,void 0,1);if(yc(nd,uc,$c+="",0)!=$c.length)return null;if("Q"in nd)return new Date(nd.Q);if("s"in nd)return new Date(1E3*nd.s+("L"in nd?nd.L:0));!Zc||"Z"in nd||(nd.Z=0);"p"in nd&&(nd.H=nd.H%12+12*nd.p);void 0===nd.m&&(nd.m="q"in nd?nd.q:0);if("V"in nd){if(1>nd.V||53<nd.V)return null;"w"in nd||(nd.w=1);if("Z"in nd){$c=E(O(nd.y,0,1));var Cd=$c.getUTCDay();$c=4<Cd||0===Cd?m.utcMonday.ceil($c):m.utcMonday($c);$c=m.utcDay.offset($c,7*(nd.V-1));nd.y=
$c.getUTCFullYear();nd.m=$c.getUTCMonth();nd.d=$c.getUTCDate()+(nd.w+6)%7}else $c=n(O(nd.y,0,1)),Cd=$c.getDay(),$c=4<Cd||0===Cd?m.timeMonday.ceil($c):m.timeMonday($c),$c=m.timeDay.offset($c,7*(nd.V-1)),nd.y=$c.getFullYear(),nd.m=$c.getMonth(),nd.d=$c.getDate()+(nd.w+6)%7}else if("W"in nd||"U"in nd)"w"in nd||(nd.w="u"in nd?nd.u%7:"W"in nd?1:0),Cd="Z"in nd?E(O(nd.y,0,1)).getUTCDay():n(O(nd.y,0,1)).getDay(),nd.m=0,nd.d="W"in nd?(nd.w+6)%7+7*nd.W-(Cd+5)%7:nd.w+7*nd.U-(Cd+6)%7;return"Z"in nd?(nd.H+=nd.Z/
100|0,nd.M+=nd.Z%100,E(nd)):n(nd)}}function yc(uc,Zc,$c,nd){for(var Cd=0,Ed=Zc.length,Xd=$c.length,$d;Cd<Ed;){if(nd>=Xd)return-1;$d=Zc.charCodeAt(Cd++);if(37===$d){if($d=Zc.charAt(Cd++),$d=fd[$d in Tc?Zc.charAt(Cd++):$d],!$d||0>(nd=$d(uc,$c,nd)))return-1}else if($d!=$c.charCodeAt(nd++))return-1}return nd}var Vc=Pb.dateTime,Gd=Pb.date,Wd=Pb.time,La=Pb.periods,fb=Pb.days,wb=Pb.shortDays,Ib=Pb.months,Zb=Pb.shortMonths,ic=l(La),Ac=k(La),qc=l(fb),nb=k(fb),Bb=l(wb),Ub=k(wb),jc=l(Ib),zc=k(Ib),Dc=l(Zb),Wc=
k(Zb),Db={a:function(uc){return wb[uc.getDay()]},A:function(uc){return fb[uc.getDay()]},b:function(uc){return Zb[uc.getMonth()]},B:function(uc){return Ib[uc.getMonth()]},c:null,d:Z,e:Z,f:aa,g:V,G:ca,H:Q,I:q,j:N,L:da,m:wa,M:ua,p:function(uc){return La[+(12<=uc.getHours())]},q:function(uc){return 1+~~(uc.getMonth()/3)},Q:Bc,s:pc,S:Ea,u:$a,U:kb,V:Ta,w:Xa,W:Fa,x:null,X:null,y:va,Y:X,Z:ea,"%":dc},Hc={a:function(uc){return wb[uc.getUTCDay()]},A:function(uc){return fb[uc.getUTCDay()]},b:function(uc){return Zb[uc.getUTCMonth()]},
B:function(uc){return Ib[uc.getUTCMonth()]},c:null,d:ra,e:ra,f:cb,g:bd,G:Fc,H:qa,I:Ha,j:na,L:Pa,m:ab,M:Ba,p:function(uc){return La[+(12<=uc.getUTCHours())]},q:function(uc){return 1+~~(uc.getUTCMonth()/3)},Q:Bc,s:pc,S:Ga,u:oa,U:Ia,V:eb,w:Gb,W:Tb,x:null,X:null,y:kc,Y:tc,Z:mb,"%":dc},fd={a:function(uc,Zc,$c){return(Zc=Bb.exec(Zc.slice($c)))?(uc.w=Ub.get(Zc[0].toLowerCase()),$c+Zc[0].length):-1},A:function(uc,Zc,$c){return(Zc=qc.exec(Zc.slice($c)))?(uc.w=nb.get(Zc[0].toLowerCase()),$c+Zc[0].length):-1},
b:function(uc,Zc,$c){return(Zc=Dc.exec(Zc.slice($c)))?(uc.m=Wc.get(Zc[0].toLowerCase()),$c+Zc[0].length):-1},B:function(uc,Zc,$c){return(Zc=jc.exec(Zc.slice($c)))?(uc.m=zc.get(Zc[0].toLowerCase()),$c+Zc[0].length):-1},c:function(uc,Zc,$c){return yc(uc,Vc,Zc,$c)},d:G,e:G,f:ka,g:C,G:A,H:K,I:K,j:z,L:U,m:L,M:H,p:function(uc,Zc,$c){return(Zc=ic.exec(Zc.slice($c)))?(uc.p=Ac.get(Zc[0].toLowerCase()),$c+Zc[0].length):-1},q:P,Q:fa,s:ja,S:R,u:f,U:a,V:e,w:d,W:p,x:function(uc,Zc,$c){return yc(uc,Gd,Zc,$c)},X:function(uc,
Zc,$c){return yc(uc,Wd,Zc,$c)},y:C,Y:A,Z:D,"%":ba};Db.x=fc(Gd,Db);Db.X=fc(Wd,Db);Db.c=fc(Vc,Db);Hc.x=fc(Gd,Hc);Hc.X=fc(Wd,Hc);Hc.c=fc(Vc,Hc);return{format:function(uc){var Zc=fc(uc+="",Db);Zc.toString=function(){return uc};return Zc},parse:function(uc){var Zc=Hb(uc+="",!1);Zc.toString=function(){return uc};return Zc},utcFormat:function(uc){var Zc=fc(uc+="",Hc);Zc.toString=function(){return uc};return Zc},utcParse:function(uc){var Zc=Hb(uc+="",!0);Zc.toString=function(){return uc};return Zc}}}function y(Pb,
fc,Hb){var yc=0>Pb?"-":"";Pb=(yc?-Pb:Pb)+"";var Vc=Pb.length;return yc+(Vc<Hb?Array(Hb-Vc+1).join(fc)+Pb:Pb)}function v(Pb){return Pb.replace(fe,"\\$\x26")}function l(Pb){return new RegExp("^(?:"+Pb.map(v).join("|")+")","i")}function k(Pb){return new Map(Pb.map((fc,Hb)=>[fc.toLowerCase(),Hb]))}function d(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+1)))?(Pb.w=+fc[0],Hb+fc[0].length):-1}function f(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+1)))?(Pb.u=+fc[0],Hb+fc[0].length):-1}function a(Pb,fc,Hb){return(fc=
Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.U=+fc[0],Hb+fc[0].length):-1}function e(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.V=+fc[0],Hb+fc[0].length):-1}function p(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.W=+fc[0],Hb+fc[0].length):-1}function A(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+4)))?(Pb.y=+fc[0],Hb+fc[0].length):-1}function C(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.y=+fc[0]+(68<+fc[0]?1900:2E3),Hb+fc[0].length):-1}function D(Pb,fc,Hb){return(fc=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fc.slice(Hb,
Hb+6)))?(Pb.Z=fc[1]?0:-(fc[2]+(fc[3]||"00")),Hb+fc[0].length):-1}function P(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+1)))?(Pb.q=3*fc[0]-3,Hb+fc[0].length):-1}function L(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.m=fc[0]-1,Hb+fc[0].length):-1}function G(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.d=+fc[0],Hb+fc[0].length):-1}function z(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+3)))?(Pb.m=0,Pb.d=+fc[0],Hb+fc[0].length):-1}function K(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?
(Pb.H=+fc[0],Hb+fc[0].length):-1}function H(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.M=+fc[0],Hb+fc[0].length):-1}function R(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+2)))?(Pb.S=+fc[0],Hb+fc[0].length):-1}function U(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+3)))?(Pb.L=+fc[0],Hb+fc[0].length):-1}function ka(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb,Hb+6)))?(Pb.L=Math.floor(fc[0]/1E3),Hb+fc[0].length):-1}function ba(Pb,fc,Hb){return(Pb=Fd.exec(fc.slice(Hb,Hb+1)))?Hb+Pb[0].length:-1}function fa(Pb,
fc,Hb){return(fc=Kc.exec(fc.slice(Hb)))?(Pb.Q=+fc[0],Hb+fc[0].length):-1}function ja(Pb,fc,Hb){return(fc=Kc.exec(fc.slice(Hb)))?(Pb.s=+fc[0],Hb+fc[0].length):-1}function Z(Pb,fc){return y(Pb.getDate(),fc,2)}function Q(Pb,fc){return y(Pb.getHours(),fc,2)}function q(Pb,fc){return y(Pb.getHours()%12||12,fc,2)}function N(Pb,fc){return y(1+m.timeDay.count(m.timeYear(Pb),Pb),fc,3)}function da(Pb,fc){return y(Pb.getMilliseconds(),fc,3)}function aa(Pb,fc){return da(Pb,fc)+"000"}function wa(Pb,fc){return y(Pb.getMonth()+
1,fc,2)}function ua(Pb,fc){return y(Pb.getMinutes(),fc,2)}function Ea(Pb,fc){return y(Pb.getSeconds(),fc,2)}function $a(Pb){Pb=Pb.getDay();return 0===Pb?7:Pb}function kb(Pb,fc){return y(m.timeSunday.count(m.timeYear(Pb)-1,Pb),fc,2)}function ta(Pb){var fc=Pb.getDay();return 4<=fc||0===fc?m.timeThursday(Pb):m.timeThursday.ceil(Pb)}function Ta(Pb,fc){Pb=ta(Pb);return y(m.timeThursday.count(m.timeYear(Pb),Pb)+(4===m.timeYear(Pb).getDay()),fc,2)}function Xa(Pb){return Pb.getDay()}function Fa(Pb,fc){return y(m.timeMonday.count(m.timeYear(Pb)-
1,Pb),fc,2)}function va(Pb,fc){return y(Pb.getFullYear()%100,fc,2)}function V(Pb,fc){Pb=ta(Pb);return y(Pb.getFullYear()%100,fc,2)}function X(Pb,fc){return y(Pb.getFullYear()%1E4,fc,4)}function ca(Pb,fc){var Hb=Pb.getDay();Pb=4<=Hb||0===Hb?m.timeThursday(Pb):m.timeThursday.ceil(Pb);return y(Pb.getFullYear()%1E4,fc,4)}function ea(Pb){Pb=Pb.getTimezoneOffset();return(0<Pb?"-":(Pb*=-1,"+"))+y(Pb/60|0,"0",2)+y(Pb%60,"0",2)}function ra(Pb,fc){return y(Pb.getUTCDate(),fc,2)}function qa(Pb,fc){return y(Pb.getUTCHours(),
fc,2)}function Ha(Pb,fc){return y(Pb.getUTCHours()%12||12,fc,2)}function na(Pb,fc){return y(1+m.utcDay.count(m.utcYear(Pb),Pb),fc,3)}function Pa(Pb,fc){return y(Pb.getUTCMilliseconds(),fc,3)}function cb(Pb,fc){return Pa(Pb,fc)+"000"}function ab(Pb,fc){return y(Pb.getUTCMonth()+1,fc,2)}function Ba(Pb,fc){return y(Pb.getUTCMinutes(),fc,2)}function Ga(Pb,fc){return y(Pb.getUTCSeconds(),fc,2)}function oa(Pb){Pb=Pb.getUTCDay();return 0===Pb?7:Pb}function Ia(Pb,fc){return y(m.utcSunday.count(m.utcYear(Pb)-
1,Pb),fc,2)}function Ua(Pb){var fc=Pb.getUTCDay();return 4<=fc||0===fc?m.utcThursday(Pb):m.utcThursday.ceil(Pb)}function eb(Pb,fc){Pb=Ua(Pb);return y(m.utcThursday.count(m.utcYear(Pb),Pb)+(4===m.utcYear(Pb).getUTCDay()),fc,2)}function Gb(Pb){return Pb.getUTCDay()}function Tb(Pb,fc){return y(m.utcMonday.count(m.utcYear(Pb)-1,Pb),fc,2)}function kc(Pb,fc){return y(Pb.getUTCFullYear()%100,fc,2)}function bd(Pb,fc){Pb=Ua(Pb);return y(Pb.getUTCFullYear()%100,fc,2)}function tc(Pb,fc){return y(Pb.getUTCFullYear()%
1E4,fc,4)}function Fc(Pb,fc){var Hb=Pb.getUTCDay();Pb=4<=Hb||0===Hb?m.utcThursday(Pb):m.utcThursday.ceil(Pb);return y(Pb.getUTCFullYear()%1E4,fc,4)}function mb(){return"+0000"}function dc(){return"%"}function Bc(Pb){return+Pb}function pc(Pb){return Math.floor(+Pb/1E3)}function Cc(Pb){vd=x(Pb);g.timeFormat=vd.format;g.timeParse=vd.parse;g.utcFormat=vd.utcFormat;g.utcParse=vd.utcParse;return vd}function nc(Pb){return Pb.toISOString()}function Uc(Pb){Pb=new Date(Pb);return isNaN(Pb)?null:Pb}var Tc={"-":"",
_:" ",0:"0"},Kc=/^\s*\d+/,Fd=/^%/,fe=/[\\^$*+?|[\]().{}]/g,vd;Cc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Rc=Date.prototype.toISOString?nc:g.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Yd=+new Date("2000-01-01T00:00:00.000Z")?Uc:g.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");g.isoFormat=Rc;g.isoParse=Yd;g.timeFormatDefaultLocale=Cc;g.timeFormatLocale=x;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(15),B(16),B(18),B(14),B(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.d3,g.d3,g.vega,g.vega,g.d3))})(this,function(g,m,n,E,O,x){function y(G){const z={};return K=>z[K]||(z[K]=G(K))}function v(G,z){return K=>{K=G(K);const H=K.indexOf(z);if(0>H)return K;
a:{var R=K.lastIndexOf("e");if(!(0<R)){for(R=K.length;--R>H;){var U=K.charCodeAt(R);if(48<=U&&57>=U){R+=1;break a}}R=void 0}}for(U=R<K.length?K.slice(R):"";--R>H;)if("0"!==K[R]){++R;break}return K.slice(0,R)+U}}function l(G){const z=y(G.format),K=G.formatPrefix;return{format:z,formatPrefix:K,formatFloat(H){H=n.formatSpecifier(H||",");if(null==H.precision){H.precision=12;switch(H.type){case "%":H.precision-=2;break;case "e":--H.precision}return v(z(H),z(".1f")(1)[1])}return z(H)},formatSpan(H,R,U,
ka){ka=n.formatSpecifier(null==ka?",f":ka);U=m.tickStep(H,R,U);H=Math.max(Math.abs(H),Math.abs(R));if(null==ka.precision)switch(ka.type){case "s":return isNaN(R=n.precisionPrefix(U,H))||(ka.precision=R),K(ka,H);case "":case "e":case "g":case "p":case "r":isNaN(R=n.precisionRound(U,H))||(ka.precision=R-("e"===ka.type));break;case "f":case "%":isNaN(R=n.precisionFixed(U))||(ka.precision=R-2*("%"===ka.type))}return z(ka)}}}function k(){return P=l({format:n.format,formatPrefix:n.formatPrefix})}function d(G){return l(n.formatLocale(G))}
function f(G){return arguments.length?P=d(G):P}function a(G,z,K){K=K||{};O.isObject(K)||O.error(`Invalid time multi-format specifier: ${K}`);const H=z(E.SECONDS),R=z(E.MINUTES),U=z(E.HOURS),ka=z(E.DATE),ba=z(E.WEEK),fa=z(E.MONTH),ja=z(E.QUARTER),Z=z(E.YEAR),Q=G(K[E.MILLISECONDS]||".%L"),q=G(K[E.SECONDS]||":%S"),N=G(K[E.MINUTES]||"%I:%M"),da=G(K[E.HOURS]||"%I %p"),aa=G(K[E.DATE]||K[E.DAY]||"%a %d"),wa=G(K[E.WEEK]||"%b %d"),ua=G(K[E.MONTH]||"%B"),Ea=G(K[E.QUARTER]||"%B"),$a=G(K[E.YEAR]||"%Y");return kb=>
(H(kb)<kb?Q:R(kb)<kb?q:U(kb)<kb?N:ka(kb)<kb?da:fa(kb)<kb?ba(kb)<kb?aa:wa:Z(kb)<kb?ja(kb)<kb?ua:Ea:$a)(kb)}function e(G){const z=y(G.format),K=y(G.utcFormat);return{timeFormat:H=>O.isString(H)?z(H):a(z,E.timeInterval,H),utcFormat:H=>O.isString(H)?K(H):a(K,E.utcInterval,H),timeParse:y(G.parse),utcParse:y(G.utcParse)}}function p(){return L=e({format:x.timeFormat,parse:x.timeParse,utcFormat:x.utcFormat,utcParse:x.utcParse})}function A(G){return e(x.timeFormatLocale(G))}function C(G){return arguments.length?
L=A(G):L}function D(G,z){var K=arguments.length;K&&2!==K&&O.error("defaultLocale expects either zero or two arguments.");if(K){K=f(G);var H=C(z);K=O.extend({},K,H)}else K=f(),H=C(),K=O.extend({},K,H);return K}let P;k();let L;p();g.defaultLocale=D;g.locale=function(G,z){G=G?d(G):f();z=z?A(z):C();return O.extend({},G,z)};g.numberFormatDefaultLocale=f;g.numberFormatLocale=d;g.resetDefaultLocale=function(){k();p();return D()};g.resetNumberFormatDefaultLocale=k;g.resetTimeFormatDefaultLocale=p;g.timeFormatDefaultLocale=
C;g.timeFormatLocale=A;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ja,B,qb,F){function g(x){var y=x.length;if(0<y%4)throw Error("Invalid string. Length must be a multiple of 4");x=x.indexOf("\x3d");-1===x&&(x=y);return[x,x===y?0:4-x%4]}function m(x,y,v){for(var l=[],k=y;k<v;k+=3)y=(x[k]<<16&16711680)+(x[k+1]<<8&65280)+(x[k+2]&255),l.push(n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]);return l.join("")}F.byteLength=function(x){x=g(x);var y=x[1];return 3*(x[0]+y)/4-y};F.toByteArray=function(x){var y=g(x);var v=y[0];y=y[1];var l=new O(3*(v+
y)/4-y),k=0,d=0<y?v-4:v,f;for(f=0;f<d;f+=4)v=E[x.charCodeAt(f)]<<18|E[x.charCodeAt(f+1)]<<12|E[x.charCodeAt(f+2)]<<6|E[x.charCodeAt(f+3)],l[k++]=v>>16&255,l[k++]=v>>8&255,l[k++]=v&255;2===y&&(v=E[x.charCodeAt(f)]<<2|E[x.charCodeAt(f+1)]>>4,l[k++]=v&255);1===y&&(v=E[x.charCodeAt(f)]<<10|E[x.charCodeAt(f+1)]<<4|E[x.charCodeAt(f+2)]>>2,l[k++]=v>>8&255,l[k++]=v&255);return l};F.fromByteArray=function(x){for(var y=x.length,v=y%3,l=[],k=0,d=y-v;k<d;k+=16383)l.push(m(x,k,k+16383>d?d:k+16383));1===v?(x=x[y-
1],l.push(n[x>>2]+n[x<<4&63]+"\x3d\x3d")):2===v&&(x=(x[y-2]<<8)+x[y-1],l.push(n[x>>10]+n[x>>4&63]+n[x<<2&63]+"\x3d"));return l.join("")};var n=[],E=[],O="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ja=0;64>Ja;++Ja)n[Ja]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ja],E["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ja)]=Ja;E[45]=62;E[95]=63};
shadow$provide[22]=function(Ja,B,qb,F){F.read=function(g,m,n,E,O){var x=8*O-E-1;var y=(1<<x)-1,v=y>>1,l=-7;O=n?O-1:0;var k=n?-1:1,d=g[m+O];O+=k;n=d&(1<<-l)-1;d>>=-l;for(l+=x;0<l;n=256*n+g[m+O],O+=k,l-=8);x=n&(1<<-l)-1;n>>=-l;for(l+=E;0<l;x=256*x+g[m+O],O+=k,l-=8);if(0===n)n=1-v;else{if(n===y)return x?NaN:Infinity*(d?-1:1);x+=Math.pow(2,E);n-=v}return(d?-1:1)*x*Math.pow(2,n-E)};F.write=function(g,m,n,E,O,x){var y,v=8*x-O-1,l=(1<<v)-1,k=l>>1,d=23===O?Math.pow(2,-24)-Math.pow(2,-77):0;x=E?0:x-1;var f=
E?1:-1,a=0>m||0===m&&0>1/m?1:0;m=Math.abs(m);isNaN(m)||Infinity===m?(m=isNaN(m)?1:0,E=l):(E=Math.floor(Math.log(m)/Math.LN2),1>m*(y=Math.pow(2,-E))&&(E--,y*=2),m=1<=E+k?m+d/y:m+d*Math.pow(2,1-k),2<=m*y&&(E++,y/=2),E+k>=l?(m=0,E=l):1<=E+k?(m=(m*y-1)*Math.pow(2,O),E+=k):(m=m*Math.pow(2,k-1)*Math.pow(2,O),E=0));for(;8<=O;g[n+x]=m&255,x+=f,m/=256,O-=8);E=E<<O|m;for(v+=O;0<v;g[n+x]=E&255,x+=f,E/=256,v-=8);g[n+x-f]|=128*a}};
shadow$provide[23]=function(Ja,B,qb,F){var g={}.toString;qb.exports=Array.isArray||function(m){return"[object Array]"==g.call(m)}};
shadow$provide[24]=function(Ja,B,qb,F){function g(){try{var Q=new Uint8Array(1);Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===Q.foo()&&"function"===typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch(q){return!1}}function m(Q,q){if((n.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<q)throw new RangeError("Invalid typed array length");n.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(q),Q.__proto__=n.prototype):(null===Q&&(Q=new n(q)),Q.length=q);return Q}function n(Q,q,N){if(!(n.TYPED_ARRAY_SUPPORT||
this instanceof n))return new n(Q,q,N);if("number"===typeof Q){if("string"===typeof q)throw Error("If encoding is specified then the first argument must be a string");return x(this,Q)}return E(this,Q,q,N)}function E(Q,q,N,da){if("number"===typeof q)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&q instanceof ArrayBuffer){q.byteLength;if(0>N||q.byteLength<N)throw new RangeError("'offset' is out of bounds");if(q.byteLength<N+(da||0))throw new RangeError("'length' is out of bounds");
q=void 0===N&&void 0===da?new Uint8Array(q):void 0===da?new Uint8Array(q,N):new Uint8Array(q,N,da);n.TYPED_ARRAY_SUPPORT?(Q=q,Q.__proto__=n.prototype):Q=y(Q,q);return Q}if("string"===typeof q){da=Q;Q=N;if("string"!==typeof Q||""===Q)Q="utf8";if(!n.isEncoding(Q))throw new TypeError('"encoding" must be a valid string encoding');N=k(q,Q)|0;da=m(da,N);q=da.write(q,Q);q!==N&&(da=da.slice(0,q));return da}return v(Q,q)}function O(Q){if("number"!==typeof Q)throw new TypeError('"size" argument must be a number');
if(0>Q)throw new RangeError('"size" argument must not be negative');}function x(Q,q){O(q);Q=m(Q,0>q?0:l(q)|0);if(!n.TYPED_ARRAY_SUPPORT)for(var N=0;N<q;++N)Q[N]=0;return Q}function y(Q,q){var N=0>q.length?0:l(q.length)|0;Q=m(Q,N);for(var da=0;da<N;da+=1)Q[da]=q[da]&255;return Q}function v(Q,q){if(n.isBuffer(q)){var N=l(q.length)|0;Q=m(Q,N);if(0===Q.length)return Q;q.copy(Q,0,0,N);return Q}if(q){if("undefined"!==typeof ArrayBuffer&&q.buffer instanceof ArrayBuffer||"length"in q)return(N="number"!==
typeof q.length)||(N=q.length,N=N!==N),N?m(Q,0):y(Q,q);if("Buffer"===q.type&&fa(q.data))return y(Q,q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function l(Q){if(Q>=(n.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(n.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return Q|0}function k(Q,q){if(n.isBuffer(Q))return Q.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!==typeof Q&&(Q=""+Q);var N=Q.length;if(0===N)return 0;for(var da=!1;;)switch(q){case "ascii":case "latin1":case "binary":return N;case "utf8":case "utf-8":case void 0:return H(Q).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*N;case "hex":return N>>>1;case "base64":return ka.toByteArray(K(Q)).length;default:if(da)return H(Q).length;q=(""+
q).toLowerCase();da=!0}}function d(Q,q,N){var da=!1;if(void 0===q||0>q)q=0;if(q>this.length)return"";if(void 0===N||N>this.length)N=this.length;if(0>=N)return"";N>>>=0;q>>>=0;if(N<=q)return"";for(Q||(Q="utf8");;)switch(Q){case "hex":Q=q;q=N;N=this.length;if(!Q||0>Q)Q=0;if(!q||0>q||q>N)q=N;da="";for(N=Q;N<q;++N)Q=da,da=this[N],da=16>da?"0"+da.toString(16):da.toString(16),da=Q+da;return da;case "utf8":case "utf-8":return p(this,q,N);case "ascii":Q="";for(N=Math.min(this.length,N);q<N;++q)Q+=String.fromCharCode(this[q]&
127);return Q;case "latin1":case "binary":Q="";for(N=Math.min(this.length,N);q<N;++q)Q+=String.fromCharCode(this[q]);return Q;case "base64":return q=0===q&&N===this.length?ka.fromByteArray(this):ka.fromByteArray(this.slice(q,N)),q;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":q=this.slice(q,N);N="";for(Q=0;Q<q.length;Q+=2)N+=String.fromCharCode(q[Q]+256*q[Q+1]);return N;default:if(da)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase();da=!0}}function f(Q,q,N){var da=Q[q];
Q[q]=Q[N];Q[N]=da}function a(Q,q,N,da,aa){if(0===Q.length)return-1;"string"===typeof N?(da=N,N=0):2147483647<N?N=2147483647:-2147483648>N&&(N=-2147483648);N=+N;isNaN(N)&&(N=aa?0:Q.length-1);0>N&&(N=Q.length+N);if(N>=Q.length){if(aa)return-1;N=Q.length-1}else if(0>N)if(aa)N=0;else return-1;"string"===typeof q&&(q=n.from(q,da));if(n.isBuffer(q))return 0===q.length?-1:e(Q,q,N,da,aa);if("number"===typeof q)return q&=255,n.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?aa?Uint8Array.prototype.indexOf.call(Q,
q,N):Uint8Array.prototype.lastIndexOf.call(Q,q,N):e(Q,[q],N,da,aa);throw new TypeError("val must be string, number or Buffer");}function e(Q,q,N,da,aa){function wa(kb,ta){return 1===ua?kb[ta]:kb.readUInt16BE(ta*ua)}var ua=1,Ea=Q.length,$a=q.length;if(void 0!==da&&(da=String(da).toLowerCase(),"ucs2"===da||"ucs-2"===da||"utf16le"===da||"utf-16le"===da)){if(2>Q.length||2>q.length)return-1;ua=2;Ea/=2;$a/=2;N/=2}if(aa)for(da=-1;N<Ea;N++)if(wa(Q,N)===wa(q,-1===da?0:N-da)){if(-1===da&&(da=N),N-da+1===$a)return da*
ua}else-1!==da&&(N-=N-da),da=-1;else for(N+$a>Ea&&(N=Ea-$a);0<=N;N--){Ea=!0;for(da=0;da<$a;da++)if(wa(Q,N+da)!==wa(q,da)){Ea=!1;break}if(Ea)return N}return-1}function p(Q,q,N){N=Math.min(Q.length,N);for(var da=[];q<N;){var aa=Q[q],wa=null,ua=239<aa?4:223<aa?3:191<aa?2:1;if(q+ua<=N)switch(ua){case 1:128>aa&&(wa=aa);break;case 2:var Ea=Q[q+1];128===(Ea&192)&&(aa=(aa&31)<<6|Ea&63,127<aa&&(wa=aa));break;case 3:Ea=Q[q+1];var $a=Q[q+2];128===(Ea&192)&&128===($a&192)&&(aa=(aa&15)<<12|(Ea&63)<<6|$a&63,2047<
aa&&(55296>aa||57343<aa)&&(wa=aa));break;case 4:Ea=Q[q+1];$a=Q[q+2];var kb=Q[q+3];128===(Ea&192)&&128===($a&192)&&128===(kb&192)&&(aa=(aa&15)<<18|(Ea&63)<<12|($a&63)<<6|kb&63,65535<aa&&1114112>aa&&(wa=aa))}null===wa?(wa=65533,ua=1):65535<wa&&(wa-=65536,da.push(wa>>>10&1023|55296),wa=56320|wa&1023);da.push(wa);q+=ua}Q=da.length;if(Q<=ja)da=String.fromCharCode.apply(String,da);else{N="";for(q=0;q<Q;)N+=String.fromCharCode.apply(String,da.slice(q,q+=ja));da=N}return da}function A(Q,q,N){if(0!==Q%1||
0>Q)throw new RangeError("offset is not uint");if(Q+q>N)throw new RangeError("Trying to access beyond buffer length");}function C(Q,q,N,da,aa,wa){if(!n.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>aa||q<wa)throw new RangeError('"value" argument is out of bounds');if(N+da>Q.length)throw new RangeError("Index out of range");}function D(Q,q,N,da){0>q&&(q=65535+q+1);for(var aa=0,wa=Math.min(Q.length-N,2);aa<wa;++aa)Q[N+aa]=(q&255<<8*(da?aa:1-aa))>>>8*(da?aa:1-aa)}
function P(Q,q,N,da){0>q&&(q=4294967295+q+1);for(var aa=0,wa=Math.min(Q.length-N,4);aa<wa;++aa)Q[N+aa]=q>>>8*(da?aa:3-aa)&255}function L(Q,q,N,da,aa,wa){if(N+da>Q.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("Index out of range");}function G(Q,q,N,da,aa){aa||L(Q,q,N,4,3.4028234663852886E38,-3.4028234663852886E38);ba.write(Q,q,N,da,23,4);return N+4}function z(Q,q,N,da,aa){aa||L(Q,q,N,8,1.7976931348623157E308,-1.7976931348623157E308);ba.write(Q,q,N,da,52,8);return N+
8}function K(Q){Q=Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"");Q=Q.replace(Z,"");if(2>Q.length)return"";for(;0!==Q.length%4;)Q+="\x3d";return Q}function H(Q,q){q=q||Infinity;for(var N,da=Q.length,aa=null,wa=[],ua=0;ua<da;++ua){N=Q.charCodeAt(ua);if(55295<N&&57344>N){if(!aa){if(56319<N){-1<(q-=3)&&wa.push(239,191,189);continue}else if(ua+1===da){-1<(q-=3)&&wa.push(239,191,189);continue}aa=N;continue}if(56320>N){-1<(q-=3)&&wa.push(239,191,189);aa=N;continue}N=(aa-55296<<10|N-56320)+65536}else aa&&-1<
(q-=3)&&wa.push(239,191,189);aa=null;if(128>N){if(0>--q)break;wa.push(N)}else if(2048>N){if(0>(q-=2))break;wa.push(N>>6|192,N&63|128)}else if(65536>N){if(0>(q-=3))break;wa.push(N>>12|224,N>>6&63|128,N&63|128)}else if(1114112>N){if(0>(q-=4))break;wa.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw Error("Invalid code point");}return wa}function R(Q){for(var q=[],N=0;N<Q.length;++N)q.push(Q.charCodeAt(N)&255);return q}function U(Q,q,N,da){for(var aa=0;aa<da&&!(aa+N>=q.length||aa>=Q.length);++aa)q[aa+
N]=Q[aa];return aa}var ka=B(21),ba=B(22),fa=B(23);F.Buffer=n;F.SlowBuffer=function(Q){+Q!=Q&&(Q=0);return n.alloc(+Q)};F.INSPECT_MAX_BYTES=50;n.TYPED_ARRAY_SUPPORT=void 0!==Ja.TYPED_ARRAY_SUPPORT?Ja.TYPED_ARRAY_SUPPORT:g();F.kMaxLength=n.TYPED_ARRAY_SUPPORT?2147483647:1073741823;n.poolSize=8192;n._augment=function(Q){Q.__proto__=n.prototype;return Q};n.from=function(Q,q,N){return E(null,Q,q,N)};n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!==
typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0}));n.alloc=function(Q,q,N){O(Q);Q=0>=Q?m(null,Q):void 0!==q?"string"===typeof N?m(null,Q).fill(q,N):m(null,Q).fill(q):m(null,Q);return Q};n.allocUnsafe=function(Q){return x(null,Q)};n.allocUnsafeSlow=function(Q){return x(null,Q)};n.isBuffer=function(Q){return!(null==Q||!Q._isBuffer)};n.compare=function(Q,q){if(!n.isBuffer(Q)||!n.isBuffer(q))throw new TypeError("Arguments must be Buffers");
if(Q===q)return 0;for(var N=Q.length,da=q.length,aa=0,wa=Math.min(N,da);aa<wa;++aa)if(Q[aa]!==q[aa]){N=Q[aa];da=q[aa];break}return N<da?-1:da<N?1:0};n.isEncoding=function(Q){switch(String(Q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};n.concat=function(Q,q){if(!fa(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Q.length)return n.alloc(0);
var N;if(void 0===q)for(N=q=0;N<Q.length;++N)q+=Q[N].length;q=n.allocUnsafe(q);var da=0;for(N=0;N<Q.length;++N){var aa=Q[N];if(!n.isBuffer(aa))throw new TypeError('"list" argument must be an Array of Buffers');aa.copy(q,da);da+=aa.length}return q};n.byteLength=k;n.prototype._isBuffer=!0;n.prototype.swap16=function(){var Q=this.length;if(0!==Q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<Q;q+=2)f(this,q,q+1);return this};n.prototype.swap32=function(){var Q=this.length;
if(0!==Q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<Q;q+=4)f(this,q,q+3),f(this,q+1,q+2);return this};n.prototype.swap64=function(){var Q=this.length;if(0!==Q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<Q;q+=8)f(this,q,q+7),f(this,q+1,q+6),f(this,q+2,q+5),f(this,q+3,q+4);return this};n.prototype.toString=function(){var Q=this.length|0;return 0===Q?"":0===arguments.length?p(this,0,Q):d.apply(this,arguments)};n.prototype.equals=
function(Q){if(!n.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:0===n.compare(this,Q)};n.prototype.inspect=function(){var Q="",q=F.INSPECT_MAX_BYTES;0<this.length&&(Q=this.toString("hex",0,q).match(/.{2}/g).join(" "),this.length>q&&(Q+=" ... "));return"\x3cBuffer "+Q+"\x3e"};n.prototype.compare=function(Q,q,N,da,aa){if(!n.isBuffer(Q))throw new TypeError("Argument must be a Buffer");void 0===q&&(q=0);void 0===N&&(N=Q?Q.length:0);void 0===da&&(da=0);void 0===aa&&(aa=
this.length);if(0>q||N>Q.length||0>da||aa>this.length)throw new RangeError("out of range index");if(da>=aa&&q>=N)return 0;if(da>=aa)return-1;if(q>=N)return 1;q>>>=0;N>>>=0;da>>>=0;aa>>>=0;if(this===Q)return 0;var wa=aa-da,ua=N-q,Ea=Math.min(wa,ua);da=this.slice(da,aa);Q=Q.slice(q,N);for(q=0;q<Ea;++q)if(da[q]!==Q[q]){wa=da[q];ua=Q[q];break}return wa<ua?-1:ua<wa?1:0};n.prototype.includes=function(Q,q,N){return-1!==this.indexOf(Q,q,N)};n.prototype.indexOf=function(Q,q,N){return a(this,Q,q,N,!0)};n.prototype.lastIndexOf=
function(Q,q,N){return a(this,Q,q,N,!1)};n.prototype.write=function(Q,q,N,da){if(void 0===q)da="utf8",N=this.length,q=0;else if(void 0===N&&"string"===typeof q)da=q,N=this.length,q=0;else if(isFinite(q))q|=0,isFinite(N)?(N|=0,void 0===da&&(da="utf8")):(da=N,N=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var aa=this.length-q;if(void 0===N||N>aa)N=aa;if(0<Q.length&&(0>N||0>q)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");
da||(da="utf8");for(aa=!1;;)switch(da){case "hex":a:{q=Number(q)||0;da=this.length-q;N?(N=Number(N),N>da&&(N=da)):N=da;da=Q.length;if(0!==da%2)throw new TypeError("Invalid hex string");N>da/2&&(N=da/2);for(da=0;da<N;++da){aa=parseInt(Q.substr(2*da,2),16);if(isNaN(aa)){Q=da;break a}this[q+da]=aa}Q=da}return Q;case "utf8":case "utf-8":return U(H(Q,this.length-q),this,q,N);case "ascii":return U(R(Q),this,q,N);case "latin1":case "binary":return U(R(Q),this,q,N);case "base64":return U(ka.toByteArray(K(Q)),
this,q,N);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":da=Q;aa=this.length-q;for(var wa=[],ua=0;ua<da.length&&!(0>(aa-=2));++ua){var Ea=da.charCodeAt(ua);Q=Ea>>8;Ea%=256;wa.push(Ea);wa.push(Q)}return U(wa,this,q,N);default:if(aa)throw new TypeError("Unknown encoding: "+da);da=(""+da).toLowerCase();aa=!0}};n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ja=4096;n.prototype.slice=function(Q,q){var N=this.length;Q=~~Q;q=void 0===
q?N:~~q;0>Q?(Q+=N,0>Q&&(Q=0)):Q>N&&(Q=N);0>q?(q+=N,0>q&&(q=0)):q>N&&(q=N);q<Q&&(q=Q);if(n.TYPED_ARRAY_SUPPORT)q=this.subarray(Q,q),q.__proto__=n.prototype;else{N=q-Q;q=new n(N,void 0);for(var da=0;da<N;++da)q[da]=this[da+Q]}return q};n.prototype.readUIntLE=function(Q,q,N){Q|=0;q|=0;N||A(Q,q,this.length);N=this[Q];for(var da=1,aa=0;++aa<q&&(da*=256);)N+=this[Q+aa]*da;return N};n.prototype.readUIntBE=function(Q,q,N){Q|=0;q|=0;N||A(Q,q,this.length);N=this[Q+--q];for(var da=1;0<q&&(da*=256);)N+=this[Q+
--q]*da;return N};n.prototype.readUInt8=function(Q,q){q||A(Q,1,this.length);return this[Q]};n.prototype.readUInt16LE=function(Q,q){q||A(Q,2,this.length);return this[Q]|this[Q+1]<<8};n.prototype.readUInt16BE=function(Q,q){q||A(Q,2,this.length);return this[Q]<<8|this[Q+1]};n.prototype.readUInt32LE=function(Q,q){q||A(Q,4,this.length);return(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+16777216*this[Q+3]};n.prototype.readUInt32BE=function(Q,q){q||A(Q,4,this.length);return 16777216*this[Q]+(this[Q+1]<<16|this[Q+
2]<<8|this[Q+3])};n.prototype.readIntLE=function(Q,q,N){Q|=0;q|=0;N||A(Q,q,this.length);N=this[Q];for(var da=1,aa=0;++aa<q&&(da*=256);)N+=this[Q+aa]*da;N>=128*da&&(N-=Math.pow(2,8*q));return N};n.prototype.readIntBE=function(Q,q,N){Q|=0;q|=0;N||A(Q,q,this.length);N=q;for(var da=1,aa=this[Q+--N];0<N&&(da*=256);)aa+=this[Q+--N]*da;aa>=128*da&&(aa-=Math.pow(2,8*q));return aa};n.prototype.readInt8=function(Q,q){q||A(Q,1,this.length);return this[Q]&128?-1*(255-this[Q]+1):this[Q]};n.prototype.readInt16LE=
function(Q,q){q||A(Q,2,this.length);Q=this[Q]|this[Q+1]<<8;return Q&32768?Q|4294901760:Q};n.prototype.readInt16BE=function(Q,q){q||A(Q,2,this.length);Q=this[Q+1]|this[Q]<<8;return Q&32768?Q|4294901760:Q};n.prototype.readInt32LE=function(Q,q){q||A(Q,4,this.length);return this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24};n.prototype.readInt32BE=function(Q,q){q||A(Q,4,this.length);return this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]};n.prototype.readFloatLE=function(Q,q){q||A(Q,4,this.length);return ba.read(this,
Q,!0,23,4)};n.prototype.readFloatBE=function(Q,q){q||A(Q,4,this.length);return ba.read(this,Q,!1,23,4)};n.prototype.readDoubleLE=function(Q,q){q||A(Q,8,this.length);return ba.read(this,Q,!0,52,8)};n.prototype.readDoubleBE=function(Q,q){q||A(Q,8,this.length);return ba.read(this,Q,!1,52,8)};n.prototype.writeUIntLE=function(Q,q,N,da){Q=+Q;q|=0;N|=0;da||C(this,Q,q,N,Math.pow(2,8*N)-1,0);da=1;var aa=0;for(this[q]=Q&255;++aa<N&&(da*=256);)this[q+aa]=Q/da&255;return q+N};n.prototype.writeUIntBE=function(Q,
q,N,da){Q=+Q;q|=0;N|=0;da||C(this,Q,q,N,Math.pow(2,8*N)-1,0);da=N-1;var aa=1;for(this[q+da]=Q&255;0<=--da&&(aa*=256);)this[q+da]=Q/aa&255;return q+N};n.prototype.writeUInt8=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,1,255,0);n.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));this[q]=Q&255;return q+1};n.prototype.writeUInt16LE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,2,65535,0);n.TYPED_ARRAY_SUPPORT?(this[q]=Q&255,this[q+1]=Q>>>8):D(this,Q,q,!0);return q+2};n.prototype.writeUInt16BE=function(Q,q,N){Q=+Q;q|=0;N||
C(this,Q,q,2,65535,0);n.TYPED_ARRAY_SUPPORT?(this[q]=Q>>>8,this[q+1]=Q&255):D(this,Q,q,!1);return q+2};n.prototype.writeUInt32LE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,4,4294967295,0);n.TYPED_ARRAY_SUPPORT?(this[q+3]=Q>>>24,this[q+2]=Q>>>16,this[q+1]=Q>>>8,this[q]=Q&255):P(this,Q,q,!0);return q+4};n.prototype.writeUInt32BE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,4,4294967295,0);n.TYPED_ARRAY_SUPPORT?(this[q]=Q>>>24,this[q+1]=Q>>>16,this[q+2]=Q>>>8,this[q+3]=Q&255):P(this,Q,q,!1);return q+4};n.prototype.writeIntLE=
function(Q,q,N,da){Q=+Q;q|=0;da||(da=Math.pow(2,8*N-1),C(this,Q,q,N,da-1,-da));da=0;var aa=1,wa=0;for(this[q]=Q&255;++da<N&&(aa*=256);)0>Q&&0===wa&&0!==this[q+da-1]&&(wa=1),this[q+da]=(Q/aa>>0)-wa&255;return q+N};n.prototype.writeIntBE=function(Q,q,N,da){Q=+Q;q|=0;da||(da=Math.pow(2,8*N-1),C(this,Q,q,N,da-1,-da));da=N-1;var aa=1,wa=0;for(this[q+da]=Q&255;0<=--da&&(aa*=256);)0>Q&&0===wa&&0!==this[q+da+1]&&(wa=1),this[q+da]=(Q/aa>>0)-wa&255;return q+N};n.prototype.writeInt8=function(Q,q,N){Q=+Q;q|=
0;N||C(this,Q,q,1,127,-128);n.TYPED_ARRAY_SUPPORT||(Q=Math.floor(Q));0>Q&&(Q=255+Q+1);this[q]=Q&255;return q+1};n.prototype.writeInt16LE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,2,32767,-32768);n.TYPED_ARRAY_SUPPORT?(this[q]=Q&255,this[q+1]=Q>>>8):D(this,Q,q,!0);return q+2};n.prototype.writeInt16BE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,2,32767,-32768);n.TYPED_ARRAY_SUPPORT?(this[q]=Q>>>8,this[q+1]=Q&255):D(this,Q,q,!1);return q+2};n.prototype.writeInt32LE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,
4,2147483647,-2147483648);n.TYPED_ARRAY_SUPPORT?(this[q]=Q&255,this[q+1]=Q>>>8,this[q+2]=Q>>>16,this[q+3]=Q>>>24):P(this,Q,q,!0);return q+4};n.prototype.writeInt32BE=function(Q,q,N){Q=+Q;q|=0;N||C(this,Q,q,4,2147483647,-2147483648);0>Q&&(Q=4294967295+Q+1);n.TYPED_ARRAY_SUPPORT?(this[q]=Q>>>24,this[q+1]=Q>>>16,this[q+2]=Q>>>8,this[q+3]=Q&255):P(this,Q,q,!1);return q+4};n.prototype.writeFloatLE=function(Q,q,N){return G(this,Q,q,!0,N)};n.prototype.writeFloatBE=function(Q,q,N){return G(this,Q,q,!1,N)};
n.prototype.writeDoubleLE=function(Q,q,N){return z(this,Q,q,!0,N)};n.prototype.writeDoubleBE=function(Q,q,N){return z(this,Q,q,!1,N)};n.prototype.copy=function(Q,q,N,da){N||(N=0);da||0===da||(da=this.length);q>=Q.length&&(q=Q.length);q||(q=0);0<da&&da<N&&(da=N);if(da===N||0===Q.length||0===this.length)return 0;if(0>q)throw new RangeError("targetStart out of bounds");if(0>N||N>=this.length)throw new RangeError("sourceStart out of bounds");if(0>da)throw new RangeError("sourceEnd out of bounds");da>
this.length&&(da=this.length);Q.length-q<da-N&&(da=Q.length-q+N);var aa=da-N;if(this===Q&&N<q&&q<da)for(da=aa-1;0<=da;--da)Q[da+q]=this[da+N];else if(1E3>aa||!n.TYPED_ARRAY_SUPPORT)for(da=0;da<aa;++da)Q[da+q]=this[da+N];else Uint8Array.prototype.set.call(Q,this.subarray(N,N+aa),q);return aa};n.prototype.fill=function(Q,q,N,da){if("string"===typeof Q){"string"===typeof q?(da=q,q=0,N=this.length):"string"===typeof N&&(da=N,N=this.length);if(1===Q.length){var aa=Q.charCodeAt(0);256>aa&&(Q=aa)}if(void 0!==
da&&"string"!==typeof da)throw new TypeError("encoding must be a string");if("string"===typeof da&&!n.isEncoding(da))throw new TypeError("Unknown encoding: "+da);}else"number"===typeof Q&&(Q&=255);if(0>q||this.length<q||this.length<N)throw new RangeError("Out of range index");if(N<=q)return this;q>>>=0;N=void 0===N?this.length:N>>>0;Q||(Q=0);if("number"===typeof Q)for(da=q;da<N;++da)this[da]=Q;else for(Q=n.isBuffer(Q)?Q:H((new n(Q,da)).toString()),aa=Q.length,da=0;da<N-q;++da)this[da+q]=Q[da%aa];
return this};var Z=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[25]=function(Ja,B,qb,F){var g=B(24).Buffer;!function(m,n){"object"==typeof F&&"undefined"!=typeof qb?n(F,B(14),B(20)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],n):n((m="undefined"!=typeof globalThis?globalThis:m||self).vega={},m.vega,m.vega)}(this,function(m,n,E){function O(ta,Ta){const Xa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Fa=yield Xa.sanitize(ta,Ta),va=Fa.href;return Fa.localFile?Xa.file(va):Xa.http(va,
Ta)})}function x(ta,Ta){const Xa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ta=n.extend({},Xa.options,Ta);const Fa=Xa.fileAccess,va={href:null};let V,X,ca;var ea=Z.test(ta.replace(Q,""));null!=ta&&"string"==typeof ta&&ea||n.error("Sanitize failure, invalid URI: "+n.stringValue(ta));ea=ja.test(ta);return(ca=Ta.baseURL)&&!ea&&(ta.startsWith("/")||"/"===ca[ca.length-1]||(ta="/"+ta),ta=ca+ta),X=(V=ta.startsWith("file://"))||"file"===Ta.mode||"http"!==Ta.mode&&!ea&&Fa,V?ta=ta.slice(7):
ta.startsWith("//")&&("file"===Ta.defaultProtocol?(ta=ta.slice(2),X=!0):ta=(Ta.defaultProtocol||"http")+":"+ta),Object.defineProperty(va,"localFile",{value:!!X}),va.href=ta,Ta.target&&(va.target=Ta.target+""),Ta.rel&&(va.rel=Ta.rel+""),"image"===Ta.context&&Ta.crossOrigin&&(va.crossOrigin=Ta.crossOrigin+""),va})}function y(ta){return ta?Ta=>new Promise((Xa,Fa)=>{ta.readFile(Ta,(va,V)=>{va?Fa(va):Xa(V)})}):v}function v(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){n.error("No file system access.")})}
function l(ta){return ta?function(Ta,Xa){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var va=n.extend({},Fa.options.http,Xa);const V=Xa&&Xa.response;va=yield ta(Ta,va);return va.ok?n.isFunction(va[V])?va[V]():va.text():n.error(va.status+""+va.statusText)})}:k}function k(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){n.error("No HTTP fetch method available.")})}function d(ta,Ta){if(!ta||!ta.length)return"unknown";const Xa=ta.length,Fa=da.length,va=
da.map((X,ca)=>ca+1);for(let X,ca,ea=0,ra=0;ea<Xa;++ea)for(ca=Ta?ta[ea][Ta]:ta[ea],X=0;X<Fa;++X)if(va[X]&&null!=(V=ca)&&V==V&&!da[X](ca)&&(va[X]=0,++ra,ra===da.length))return"string";var V;return aa[va.reduce((X,ca)=>0===X?ca:X,0)-1]}function f(ta,Ta){return Ta.reduce((Xa,Fa)=>(Xa[Fa]=d(ta,Fa),Xa),{})}function a(ta){return new Function("d","return {"+ta.map(function(Ta,Xa){return JSON.stringify(Ta)+": d["+Xa+'] || ""'}).join(",")+"}")}function e(ta){var Ta=Object.create(null),Xa=[];return ta.forEach(function(Fa){for(var va in Fa)va in
Ta||Xa.push(Ta[va]=va)}),Xa}function p(ta,Ta){ta+="";var Xa=ta.length;return Xa<Ta?Array(Ta-Xa+1).join(0)+ta:ta}function A(ta){function Ta(ca,ea){function ra(){if(ab)return ua;if(Ba)return Ba=!1,wa;var oa,Ia,Ua=Pa;if(34===ca.charCodeAt(Ua)){for(;Pa++<na&&34!==ca.charCodeAt(Pa)||34===ca.charCodeAt(++Pa););return(oa=Pa)>=na?ab=!0:10===(Ia=ca.charCodeAt(Pa++))?Ba=!0:13===Ia&&(Ba=!0,10===ca.charCodeAt(Pa)&&++Pa),ca.slice(Ua+1,oa-1).replace(/""/g,'"')}for(;Pa<na;){if(10===(Ia=ca.charCodeAt(oa=Pa++)))Ba=
!0;else if(13===Ia)Ba=!0,10===ca.charCodeAt(Pa)&&++Pa;else if(Ia!==X)continue;return ca.slice(Ua,oa)}return ab=!0,ca.slice(Ua,na)}var qa,Ha=[],na=ca.length,Pa=0,cb=0,ab=0>=na,Ba=!1;10===ca.charCodeAt(na-1)&&--na;for(13===ca.charCodeAt(na-1)&&--na;(qa=ra())!==ua;){for(var Ga=[];qa!==wa&&qa!==ua;)Ga.push(qa),qa=ra();ea&&null==(Ga=ea(Ga,cb++))||Ha.push(Ga)}return Ha}function Xa(ca,ea){return ca.map(function(ra){return ea.map(function(qa){return va(ra[qa])}).join(ta)})}function Fa(ca){return ca.map(va).join(ta)}
function va(ca){if(null==ca)var ea="";else{if(ca instanceof Date){var ra=ca.getUTCHours();var qa=ca.getUTCMinutes(),Ha=ca.getUTCSeconds(),na=ca.getUTCMilliseconds();ra=isNaN(ca)?"Invalid Date":(0>(ea=ca.getUTCFullYear())?"-"+p(-ea,6):9999<ea?"+"+p(ea,6):p(ea,4))+"-"+p(ca.getUTCMonth()+1,2)+"-"+p(ca.getUTCDate(),2)+(na?"T"+p(ra,2)+":"+p(qa,2)+":"+p(Ha,2)+"."+p(na,3)+"Z":Ha?"T"+p(ra,2)+":"+p(qa,2)+":"+p(Ha,2)+"Z":qa||ra?"T"+p(ra,2)+":"+p(qa,2)+"Z":"")}else ra=V.test(ca+="")?'"'+ca.replace(/"/g,'""')+
'"':ca;ea=ra}return ea}var V=new RegExp('["'+ta+"\n\r]"),X=ta.charCodeAt(0);return{parse:function(ca,ea){var ra,qa;ca=Ta(ca,function(Ha,na){if(ra)return ra(Ha,na-1);qa=Ha;ra=ea?function(Pa,cb){var ab=a(Pa);return function(Ba,Ga){return cb(ab(Ba),Ga,Pa)}}(Ha,ea):a(Ha)});return ca.columns=qa||[],ca},parseRows:Ta,format:function(ca,ea){return null==ea&&(ea=e(ca)),[ea.map(va).join(ta)].concat(Xa(ca,ea)).join("\n")},formatBody:function(ca,ea){return null==ea&&(ea=e(ca)),Xa(ca,ea).join("\n")},formatRows:function(ca){return ca.map(Fa).join("\n")},
formatRow:Fa,formatValue:va}}function C(ta){const Ta=function(Xa,Fa){const va={delimiter:ta};return D(Xa,Fa?n.extend(Fa,va):va)};return Ta.responseType="text",Ta}function D(ta,Ta){return Ta.header&&(ta=Ta.header.map(n.stringValue).join(Ta.delimiter)+"\n"+ta),A(Ta.delimiter).parse(ta+"")}function P(ta,Ta){const Xa=Ta&&Ta.property?n.field(Ta.property):n.identity;!n.isObject(ta)||(Fa=ta,"function"==typeof g&&n.isFunction(g.isBuffer)&&g.isBuffer(Fa))?Ta=Xa(JSON.parse(ta)):(ta=Xa(ta),!n.isArray(ta)&&n.isIterable(ta)&&
(ta=[...ta]),Ta=Ta&&Ta.copy?JSON.parse(JSON.stringify(ta)):ta);return Ta;var Fa}function L(ta){return ta}function G(ta,Ta){return"string"==typeof Ta&&(Ta=ta.objects[Ta]),"GeometryCollection"===Ta.type?{type:"FeatureCollection",features:Ta.geometries.map(function(Xa){return z(ta,Xa)})}:z(ta,Ta)}function z(ta,Ta){var Xa=Ta.id,Fa=Ta.bbox,va=null==Ta.properties?{}:Ta.properties;ta=K(ta,Ta);return null==Xa&&null==Fa?{type:"Feature",properties:va,geometry:ta}:null==Fa?{type:"Feature",id:Xa,properties:va,
geometry:ta}:{type:"Feature",id:Xa,bbox:Fa,properties:va,geometry:ta}}function K(ta,Ta){function Xa(ea){return X(ea)}function Fa(ea){for(var ra=[],qa=0,Ha=ea.length;qa<Ha;++qa){var na,Pa=ea[qa],cb=ra;cb.length&&cb.pop();var ab=ca[0>Pa?~Pa:Pa],Ba=0;for(na=ab.length;Ba<na;++Ba)cb.push(X(ab[Ba],Ba));if(0>Pa)for(Pa=cb.length,ab=Pa-na;ab<--Pa;)na=cb[ab],cb[ab++]=cb[Pa],cb[Pa]=na}return 2>ra.length&&ra.push(ra[0]),ra}function va(ea){for(ea=Fa(ea);4>ea.length;)ea.push(ea[0]);return ea}function V(ea){return ea.map(va)}
var X=function(ea){if(null==ea)return L;var ra,qa,Ha=ea.scale[0],na=ea.scale[1],Pa=ea.translate[0],cb=ea.translate[1];return function(ab,Ba){Ba||(ra=qa=0);Ba=2;var Ga=ab.length,oa=Array(Ga);oa[0]=(ra+=ab[0])*Ha+Pa;for(oa[1]=(qa+=ab[1])*na+cb;Ba<Ga;)oa[Ba]=ab[Ba],++Ba;return oa}}(ta.transform),ca=ta.arcs;return function qa(ra){var Ha=ra.type;switch(Ha){case "GeometryCollection":return{type:Ha,geometries:ra.geometries.map(qa)};case "Point":ra=X(ra.coordinates);break;case "MultiPoint":ra=ra.coordinates.map(Xa);
break;case "LineString":ra=Fa(ra.arcs);break;case "MultiLineString":ra=ra.arcs.map(Fa);break;case "Polygon":ra=V(ra.arcs);break;case "MultiPolygon":ra=ra.arcs.map(V);break;default:return null}return{type:Ha,coordinates:ra}}(Ta)}function H(ta,Ta){function Xa(ea,ra){for(var qa in ea){var Ha=ea[qa];delete ra[Ha.start];delete Ha.start;delete Ha.end;Ha.forEach(function(na){Fa[0>na?~na:na]=1});X.push(Ha)}}var Fa={},va={},V={},X=[],ca=-1;return Ta.forEach(function(ea,ra){var qa,Ha=ta.arcs[0>ea?~ea:ea];3>
Ha.length&&!Ha[1][0]&&!Ha[1][1]&&(qa=Ta[++ca],Ta[ca]=ea,Ta[ra]=qa)}),Ta.forEach(function(ea){var ra=function(na){var Pa,cb=ta.arcs[0>na?~na:na],ab=cb[0];ta.transform?(Pa=[0,0],cb.forEach(function(Ba){Pa[0]+=Ba[0];Pa[1]+=Ba[1]})):Pa=cb[cb.length-1];return 0>na?[Pa,ab]:[ab,Pa]}(ea);var qa=ra[0],Ha=ra[1];(ra=V[qa])?(delete V[ra.end],ra.push(ea),ra.end=Ha,ea=va[Ha])?(delete va[ea.start],qa=ea===ra?ra:ra.concat(ea),va[qa.start=ra.start]=V[qa.end=ea.end]=qa):va[ra.start]=V[ra.end]=ra:(ra=va[Ha])?(delete va[ra.start],
ra.unshift(ea),ra.start=qa,ea=V[qa])?(delete V[ea.end],qa=ea===ra?ra:ea.concat(ra),va[qa.start=ea.start]=V[qa.end=ra.end]=qa):va[ra.start]=V[ra.end]=ra:va[(ra=[ea]).start=qa]=V[ra.end=Ha]=ra}),Xa(V,va),Xa(va,V),Ta.forEach(function(ea){Fa[0>ea?~ea:ea]||X.push([ea])}),X}function R(ta){return K(ta,U.apply(this,arguments))}function U(ta,Ta,Xa){var Fa;if(1<arguments.length)var va=ka(ta,Ta,Xa);else{var V=0;for(va=Array(Fa=ta.arcs.length);V<Fa;++V)va[V]=V}return{type:"MultiLineString",arcs:H(ta,va)}}function ka(ta,
Ta,Xa){function Fa(ra){var qa=0>ra?~ra:ra;(ea[qa]||(ea[qa]=[])).push({i:ra,g:X})}function va(ra){ra.forEach(Fa)}function V(ra){ra.forEach(va)}var X,ca=[],ea=[];return function Ha(qa){switch(X=qa,qa.type){case "GeometryCollection":qa.geometries.forEach(Ha);break;case "LineString":va(qa.arcs);break;case "MultiLineString":case "Polygon":V(qa.arcs);break;case "MultiPolygon":qa.arcs.forEach(V),!0}}(Ta),ea.forEach(null==Xa?function(qa){ca.push(qa[0].i)}:function(qa){Xa(qa[0].g,qa[qa.length-1].g)&&ca.push(qa[0].i)}),
ca}function ba(ta,Ta){let Xa,Fa,va,V;return ta=P(ta,Ta),Ta&&Ta.feature?(Xa=G,va=Ta.feature):Ta&&Ta.mesh?(Xa=R,va=Ta.mesh,V=Ea[Ta.filter]):n.error("Missing TopoJSON feature or mesh parameter."),Fa=(Fa=ta.objects[va])?Xa(ta,Fa,V):n.error("Invalid TopoJSON object: "+va),Fa&&Fa.features||[Fa]}function fa(ta,Ta){return 1<arguments.length?($a[ta]=Ta,this):n.hasOwnProperty($a,ta)?$a[ta]:null}const ja=/^([A-Za-z]+:)?\/\//,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
Q=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,q=ta=>!(Number.isNaN(+ta)||ta instanceof Date),N={boolean:n.toBoolean,integer:n.toNumber,number:n.toNumber,date:n.toDate,string:n.toString,unknown:n.identity},da=[ta=>"true"===ta||"false"===ta||!0===ta||!1===ta,ta=>q(ta)&&Number.isInteger(+ta),q,ta=>!Number.isNaN(Date.parse(ta))],aa=["boolean","integer","number","date"];var wa={},ua={};D.responseType="text";P.responseType="json";const Ea={interior:(ta,Ta)=>ta!==Ta,exterior:(ta,Ta)=>ta===
Ta};ba.responseType="json";const $a={dsv:D,csv:C(","),tsv:C("\t"),json:P,topojson:ba},kb=function(ta,Ta){return Xa=>({options:Xa||{},sanitize:x,load:O,fileAccess:!!Ta,file:y(Ta),http:l(ta)})}("undefined"!=typeof fetch&&fetch,null);m.format=$a;m.formats=fa;m.inferType=d;m.inferTypes=f;m.loader=kb;m.read=function(ta,Ta,Xa,Fa){const va=fa((Ta=Ta||{}).type||"json");return va||n.error("Unknown data format type: "+Ta.type),ta=va(ta,Ta),Ta.parse&&function(V,X,ca,ea){if(V.length){var ra=E.timeFormatDefaultLocale();
ca=ca||ra.timeParse;ea=ea||ra.utcParse;var qa,Ha,na=V.columns||Object.keys(V[0]);"auto"===X&&(X=f(V,na));na=Object.keys(X);var Pa=na.map(Ga=>{var oa=X[Ga];if(oa&&(oa.startsWith("date:")||oa.startsWith("utc:")))return Ga=oa.split(/:(.+)?/,2),oa=Ga[1],("'"===oa[0]&&"'"===oa[oa.length-1]||'"'===oa[0]&&'"'===oa[oa.length-1])&&(oa=oa.slice(1,-1)),("utc"===Ga[0]?ea:ca)(oa);if(!N[oa])throw Error("Illegal format pattern: "+Ga+":"+oa);return N[oa]});var cb=0;var ab=V.length;for(Ha=na.length;cb<ab;++cb)for(ra=
V[cb],qa=0;qa<Ha;++qa){var Ba=na[qa];ra[Ba]=Pa[qa](ra[Ba])}}}(ta,Ta.parse,Xa,Fa),n.hasOwnProperty(ta,"columns")&&delete ta.columns,ta};m.responseType=function(ta){return(ta=fa(ta))&&ta.responseType||"text"};m.typeParsers=N;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(25),B(20)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega))})(this,function(g,m,n,E){function O(ta){const Ta=ta||m.identity,Xa=[],Fa={};Xa.add=va=>{const V=Ta(va);Fa[V]||(Fa[V]=1,Xa.push(va));return Xa};Xa.remove=va=>{const V=Ta(va);Fa[V]&&(Fa[V]=0,
va=Xa.indexOf(va),0<=va&&Xa.splice(va,1));return Xa};return Xa}function x(ta,Ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Ta(ta)}catch(Xa){ta.error(Xa)}})}function y(ta){ta=ta===Object(ta)?ta:{data:ta};if(!ta[q]){var Ta=N++;ta[q]=Ta}return ta}function v(ta,Ta){for(const Xa in ta)Ta[Xa]=ta[Xa];return Ta}function l(ta){return ta&&ta.constructor===k}function k(){const ta=[],Ta=[],Xa=[],Fa=[],va=[];let V=null,X=!1;return{constructor:k,insert(ca){ca=m.array(ca);const ea=
ca.length;for(let ra=0;ra<ea;++ra)ta.push(ca[ra]);return this},remove(ca){const ea=m.isFunction(ca)?Fa:Ta;ca=m.array(ca);const ra=ca.length;for(let qa=0;qa<ra;++qa)ea.push(ca[qa]);return this},modify(ca,ea,ra){ea={field:ea,value:m.constant(ra)};m.isFunction(ca)?(ea.filter=ca,va.push(ea)):(ea.tuple=ca,Xa.push(ea));return this},encode(ca,ea){m.isFunction(ca)?va.push({filter:ca,field:ea}):Xa.push({tuple:ca,field:ea});return this},clean(ca){V=ca;return this},reflow(){X=!0;return this},pulse(ca,ea){function ra(oa,
Ia,Ua){Ua?oa[Ia]=Ua(oa):ca.encode=Ia;X||(Ha[oa[q]]=oa)}const qa={},Ha={};let na,Pa,cb,ab,Ba,Ga;na=0;for(Pa=ea.length;na<Pa;++na)qa[ea[na][q]]=1;na=0;for(Pa=Ta.length;na<Pa;++na)Ba=Ta[na],qa[Ba[q]]=-1;na=0;for(Pa=Fa.length;na<Pa;++na)ab=Fa[na],ea.forEach(oa=>{ab(oa)&&(qa[oa[q]]=-1)});na=0;for(Pa=ta.length;na<Pa;++na)Ba=ta[na],Ga=Ba[q],qa[Ga]?qa[Ga]=1:ca.add.push(y(ta[na]));na=0;for(Pa=ea.length;na<Pa;++na)Ba=ea[na],0>qa[Ba[q]]&&ca.rem.push(Ba);na=0;for(Pa=Xa.length;na<Pa;++na)cb=Xa[na],Ba=cb.tuple,
ab=cb.field,Ga=qa[Ba[q]],0<Ga&&(ra(Ba,ab,cb.value),ca.modifies(ab));na=0;for(Pa=va.length;na<Pa;++na)cb=va[na],ab=cb.filter,ea.forEach(oa=>{ab(oa)&&0<qa[oa[q]]&&ra(oa,cb.field,cb.value)}),ca.modifies(cb.field);if(X)ca.mod=Ta.length||Fa.length?ea.filter(oa=>0<qa[oa[q]]):ea.slice();else for(Ga in Ha)ca.mod.push(Ha[Ga]);(V||null==V&&(Ta.length||Fa.length))&&ca.clean(!0);return ca}}}function d(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function f(ta,Ta,Xa,Fa){this.id=++da;this.value=
ta;this.qrank=this.rank=this.stamp=-1;this.flags=0;Ta&&(this._update=Ta);Xa&&this.parameters(Xa,Fa)}function a(ta){return function(Ta){const Xa=this.flags;if(0===arguments.length)return!!(Xa&ta);this.flags=Ta?Xa|ta:Xa&~ta;return this}}function e(ta,Ta,Xa){this.id=++wa;this.value=null;Xa&&(this.receive=Xa);ta&&(this._filter=ta);Ta&&(this._apply=Ta)}function p(ta,Ta,Xa){return new e(ta,Ta,Xa)}function A(ta){let Ta;const Xa=new Promise(Fa=>Ta=Fa);Xa.requests=0;Xa.done=()=>{0===--Xa.requests&&(ta._pending=
null,Ta(ta))};return ta._pending=Xa}function C(ta,Ta,Xa,Fa,va,V){const X=m.extend({},V,ua);let ca;m.isFunction(Xa)||(Xa=m.constant(Xa));void 0===Fa?va=ea=>ta.touch(Xa(ea)):m.isFunction(Fa)?(ca=new f(null,Fa,va,!1),va=ea=>{ca.evaluate(ea);ea=Xa(ea);const ra=ca.value;l(ra)?ta.pulse(ea,ra,V):ta.update(ea,ra,X)}):va=ea=>ta.update(Xa(ea),Fa,X);Ta.apply(va)}function D(ta,Ta,Xa,Fa,va,V){void 0===Fa?Ta.targets().add(Xa):(V=V||{},Fa=new f(null,P(Xa,Fa),va,!1),Fa.modified(V.force),Fa.rank=Ta.rank,Ta.targets().add(Fa),
Xa&&(Fa.skip(!0),Fa.value=Xa.value,Fa.targets().add(Xa),ta.connect(Xa,[Fa])))}function P(ta,Ta){Ta=m.isFunction(Ta)?Ta:m.constant(Ta);return ta?function(Xa,Fa){Xa=Ta(Xa,Fa);ta.skip()||(ta.skip(Xa!==this.value).value=Xa);return Xa}:Ta}function L(ta,Ta,Xa){this.dataflow=ta;this.stamp=null==Ta?-1:Ta;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Xa||null}function G(ta,Ta){const Xa=[];m.visitArray(ta,Ta,Fa=>Xa.push(Fa));return Xa}function z(ta,Ta){const Xa={};ta.visit(Ta,Fa=>{Xa[Fa[q]]=
1});return Fa=>Xa[Fa[q]]?null:Fa}function K(ta,Ta){return ta?(Xa,Fa)=>ta(Xa,Fa)&&Ta(Xa,Fa):Ta}function H(ta,Ta,Xa,Fa){const va=Xa.length;let V=0;this.dataflow=ta;this.stamp=Ta;this.fields=null;this.encode=Fa||null;this.pulses=Xa;for(ta=0;ta<va;++ta)if(Fa=Xa[ta],Fa.stamp===Ta){if(Fa.fields){const X=this.fields||(this.fields={});for(const ca in Fa.fields)X[ca]=1}Fa.changed(this.ADD)&&(V|=this.ADD);Fa.changed(this.REM)&&(V|=this.REM);Fa.changed(this.MOD)&&(V|=this.MOD)}this.changes=V}function R(ta){ta.error("Dataflow already running. Use runAsync() to chain invocations.");
return ta}function U(ta,Ta){if(Ta&&Ta.stamp===ta.stamp)return Ta;ta=ta.fork();Ta&&Ta!==Ea&&(ta.source=Ta.source);return ta}function ka(ta){let Ta=[];return{clear:()=>Ta=[],size:()=>Ta.length,peek:()=>Ta[0],push:Xa=>{Ta.push(Xa);return ba(Ta,0,Ta.length-1,ta)},pop:()=>{var Xa=Ta.pop();let Fa;if(Ta.length){Fa=Ta[0];Ta[0]=Xa;{Xa=Ta;var va=0;const V=va,X=Xa.length,ca=Xa[va];let ea=(va<<1)+1,ra;for(;ea<X;)ra=ea+1,ra<X&&0<=ta(Xa[ea],Xa[ra])&&(ea=ra),Xa[va]=Xa[ea],va=ea,ea=(va<<1)+1;Xa[va]=ca;ba(Xa,V,va,
ta)}}else Fa=Xa;return Fa}}}function ba(ta,Ta,Xa,Fa){let va,V;const X=ta[Xa];for(;Xa>Ta;)if(V=Xa-1>>1,va=ta[V],0>Fa(X,va))ta[Xa]=va,Xa=V;else break;return ta[Xa]=X}function fa(){this.logger(m.logger());this.logLevel(m.Error);this._rank=this._clock=0;this._locale=E.defaultLocale();try{this._loader=n.loader()}catch(ta){}this._touched=O(m.id);this._input={};this._pulse=null;this._heap=ka((ta,Ta)=>ta.qrank-Ta.qrank);this._postrun=[]}function ja(ta){return function(){return this._log[ta].apply(this,arguments)}}
function Z(ta,Ta){f.call(this,ta,null,Ta)}function Q(ta){ta=ta&&ta.toLowerCase();return m.hasOwnProperty(kb,ta)?kb[ta]:null}const q=Symbol("vega_id");let N=1;d.prototype={set(ta,Ta,Xa,Fa){const va=this[ta],V=this["_:mod:_"];if(null!=Ta&&0<=Ta){if(va[Ta]!==Xa||Fa)va[Ta]=Xa,V[Ta+":"+ta]=-1,V[ta]=-1}else if(va!==Xa||Fa)this[ta]=Xa,V[ta]=m.isArray(Xa)?1+Xa.length:-1;return this},modified(ta,Ta){const Xa=this["_:mod:_"];if(!arguments.length){for(var Fa in Xa)if(Xa[Fa])return!0;return!1}if(m.isArray(ta)){for(Fa=
0;Fa<ta.length;++Fa)if(Xa[ta[Fa]])return!0;return!1}return null!=Ta&&0<=Ta?Ta+1<Xa[ta]||!!Xa[Ta+":"+ta]:!!Xa[ta]},clear(){this["_:mod:_"]={};return this}};let da=0;const aa=new d;f.prototype={targets(){return this._targets||(this._targets=O(m.id))},set(ta){return this.value!==ta?(this.value=ta,1):0},skip:a(1),modified:a(2),parameters(ta,Ta,Xa){Ta=!1!==Ta;const Fa=this._argval=this._argval||new d,va=this._argops=this._argops||[],V=[];let X,ca,ea,ra;const qa=(Ha,na,Pa)=>{Pa instanceof f?(Pa!==this&&
(Ta&&Pa.targets().add(this),V.push(Pa)),va.push({op:Pa,name:Ha,index:na})):Fa.set(Ha,na,Pa)};for(X in ta)if(ca=ta[X],"pulse"===X)m.array(ca).forEach(Ha=>{Ha instanceof f?Ha!==this&&(Ha.targets().add(this),V.push(Ha)):m.error("Pulse parameters must be operator instances.")}),this.source=ca;else if(m.isArray(ca))for(Fa.set(X,-1,Array(ea=ca.length)),ra=0;ra<ea;++ra)qa(X,ra,ca[ra]);else qa(X,-1,ca);this.marshall().clear();Xa&&(va.initonly=!0);return V},marshall(ta){const Ta=this._argval||aa,Xa=this._argops;
let Fa,va,V,X;if(Xa){const ca=Xa.length;for(va=0;va<ca;++va)Fa=Xa[va],V=Fa.op,X=V.modified()&&V.stamp===ta,Ta.set(Fa.name,Fa.index,V.value,X);if(Xa.initonly){for(va=0;va<ca;++va)Fa=Xa[va],Fa.op.targets().remove(this);this._update=this._argops=null}}return Ta},detach(){const ta=this._argops;let Ta,Xa;if(ta)for(Ta=0,Xa=ta.length;Ta<Xa;++Ta){var Fa=ta[Ta];Fa=Fa.op;Fa._targets&&Fa._targets.remove(this)}},evaluate(ta){var Ta=this._update;if(Ta){const Xa=this.marshall(ta.stamp);Ta=Ta.call(this,Xa,ta);Xa.clear();
if(Ta!==this.value)this.value=Ta;else if(!this.modified())return ta.StopPropagation}},run(ta){if(ta.stamp<this.stamp)return ta.StopPropagation;let Ta;this.skip()?(this.skip(!1),Ta=0):Ta=this.evaluate(ta);return this.pulse=Ta||ta}};let wa=0;e.prototype={_filter:m.truthy,_apply:m.identity,targets(){return this._targets||(this._targets=O(m.id))},consume(ta){if(!arguments.length)return!!this._consume;this._consume=!!ta;return this},receive(ta){if(this._filter(ta)){const Ta=this.value=this._apply(ta),
Xa=this._targets,Fa=Xa?Xa.length:0;for(let va=0;va<Fa;++va)Xa[va].receive(Ta);this._consume&&(ta.preventDefault(),ta.stopPropagation())}},filter(ta){ta=p(ta);this.targets().add(ta);return ta},apply(ta){ta=p(null,ta);this.targets().add(ta);return ta},merge(){const ta=p();this.targets().add(ta);for(let Ta=0,Xa=arguments.length;Ta<Xa;++Ta)arguments[Ta].targets().add(ta);return ta},throttle(ta){let Ta=-1;return this.filter(()=>{const Xa=Date.now();return Xa-Ta>ta?(Ta=Xa,1):0})},debounce(ta){const Ta=
p();this.targets().add(p(null,null,m.debounce(ta,Xa=>{const Fa=Xa.dataflow;Ta.receive(Xa);Fa&&Fa.run&&Fa.run()})));return Ta},between(ta,Ta){let Xa=!1;ta.targets().add(p(null,null,()=>Xa=!0));Ta.targets().add(p(null,null,()=>Xa=!1));return this.filter(()=>Xa)},detach(){}};const ua={skip:!0},Ea={};L.prototype={StopPropagation:Ea,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(ta){return(new L(this.dataflow)).init(this,ta)},clone(){const ta=this.fork(7);
ta.add=ta.add.slice();ta.rem=ta.rem.slice();ta.mod=ta.mod.slice();ta.source&&(ta.source=ta.source.slice());return ta.materialize(23)},addAll(){let ta=this;ta.source&&ta.add!==ta.rem&&(ta.rem.length||ta.source.length!==ta.add.length)&&(ta=(new L(this.dataflow)).init(this),ta.add=ta.source,ta.rem=[]);return ta},init(ta,Ta){this.stamp=ta.stamp;this.encode=ta.encode;!ta.fields||Ta&64||(this.fields=ta.fields);Ta&1?(this.addF=ta.addF,this.add=ta.add):(this.addF=null,this.add=[]);Ta&2?(this.remF=ta.remF,
this.rem=ta.rem):(this.remF=null,this.rem=[]);Ta&4?(this.modF=ta.modF,this.mod=ta.mod):(this.modF=null,this.mod=[]);Ta&32?this.source=this.srcF=null:(this.srcF=ta.srcF,this.source=ta.source,ta.cleans&&(this.cleans=ta.cleans));return this},runAfter(ta){this.dataflow.runAfter(ta)},changed(ta){ta=ta||7;return ta&1&&this.add.length||ta&2&&this.rem.length||ta&4&&this.mod.length},reflow(ta){if(ta)return this.fork(7).reflow();ta=this.add.length;const Ta=this.source&&this.source.length;Ta&&Ta!==ta&&(this.mod=
this.source,ta&&this.filter(4,z(this,1)));return this},clean(ta){return arguments.length?(this.cleans=!!ta,this):this.cleans},modifies(ta){const Ta=this.fields||(this.fields={});m.isArray(ta)?ta.forEach(Xa=>Ta[Xa]=!0):Ta[ta]=!0;return this},modified(ta,Ta){const Xa=this.fields;return(Ta||this.mod.length)&&Xa?arguments.length?m.isArray(ta)?ta.some(Fa=>Xa[Fa]):Xa[ta]:!!Xa:!1},filter(ta,Ta){ta&1&&(this.addF=K(this.addF,Ta));ta&2&&(this.remF=K(this.remF,Ta));ta&4&&(this.modF=K(this.modF,Ta));ta&16&&(this.srcF=
K(this.srcF,Ta));return this},materialize(ta){ta=ta||7;ta&1&&this.addF&&(this.add=G(this.add,this.addF),this.addF=null);ta&2&&this.remF&&(this.rem=G(this.rem,this.remF),this.remF=null);ta&4&&this.modF&&(this.mod=G(this.mod,this.modF),this.modF=null);ta&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(ta,Ta){if(ta&16)return m.visitArray(this.source,this.srcF,Ta),this;ta&1&&m.visitArray(this.add,this.addF,Ta);ta&2&&m.visitArray(this.rem,this.remF,Ta);ta&4&&
m.visitArray(this.mod,this.modF,Ta);const Xa=this.source;ta&8&&Xa&&(ta=this.add.length+this.mod.length,ta!==Xa.length&&(ta?m.visitArray(Xa,z(this,5),Ta):m.visitArray(Xa,this.srcF,Ta)));return this}};m.inherits(H,L,{fork(ta){const Ta=(new L(this.dataflow)).init(this,ta&this.NO_FIELDS);void 0!==ta&&(ta&Ta.ADD&&this.visit(Ta.ADD,Xa=>Ta.add.push(Xa)),ta&Ta.REM&&this.visit(Ta.REM,Xa=>Ta.rem.push(Xa)),ta&Ta.MOD&&this.visit(Ta.MOD,Xa=>Ta.mod.push(Xa)));return Ta},changed(ta){return this.changes&ta},modified(ta){const Ta=
this.fields;return Ta&&this.changes&this.MOD?m.isArray(ta)?ta.some(Xa=>Ta[Xa]):Ta[ta]:0},filter(){m.error("MultiPulse does not support filtering.")},materialize(){m.error("MultiPulse does not support materialization.")},visit(ta,Ta){const Xa=this.pulses,Fa=Xa.length;let va=0;if(ta&this.SOURCE)for(;va<Fa;++va)Xa[va].visit(ta,Ta);else for(;va<Fa;++va)Xa[va].stamp===this.stamp&&Xa[va].visit(ta,Ta);return this}});const $a={skip:!1,force:!1};fa.prototype={stamp(){return this._clock},loader(ta){return arguments.length?
(this._loader=ta,this):this._loader},locale(ta){return arguments.length?(this._locale=ta,this):this._locale},logger(ta){return arguments.length?(this._log=ta,this):this._log},error:ja("error"),warn:ja("warn"),info:ja("info"),debug:ja("debug"),logLevel:ja("level"),cleanThreshold:1E4,add:function(ta,Ta,Xa,Fa){let va=1;ta instanceof f||(ta&&ta.prototype instanceof f?ta=new ta:m.isFunction(ta)?ta=new f(null,ta):(va=0,ta=new f(ta,Ta)));this.rank(ta);va&&(Fa=Xa,Xa=Ta);Xa&&this.connect(ta,ta.parameters(Xa,
Fa));this.touch(ta);return ta},connect:function(ta,Ta){const Xa=ta.rank,Fa=Ta.length;for(let va=0;va<Fa;++va)if(Xa<Ta[va].rank){this.rerank(ta);break}},rank:function(ta){ta.rank=++this._rank},rerank:function(ta){const Ta=[ta];let Xa,Fa,va;for(;Ta.length;)if(this.rank(Xa=Ta.pop()),Fa=Xa._targets)for(va=Fa.length;0<=--va;)Ta.push(Xa=Fa[va]),Xa===ta&&m.error("Cycle detected in dataflow graph.")},pulse:function(ta,Ta,Xa){this.touch(ta,Xa||$a);Xa=new L(this,this._clock+(this._pulse?0:1));const Fa=ta.pulse&&
ta.pulse.source||[];Xa.target=ta;this._input[ta.id]=Ta.pulse(Xa,Fa);return this},touch:function(ta,Ta){Ta=Ta||$a;this._pulse?this._enqueue(ta):this._touched.add(ta);Ta.skip&&ta.skip(!0);return this},update:function(ta,Ta,Xa){Xa=Xa||$a;(ta.set(Ta)||Xa.force)&&this.touch(ta,Xa);return this},changeset:k,ingest:function(ta,Ta,Xa){Ta=this.parse(Ta,Xa);return this.pulse(ta,this.changeset().insert(Ta))},parse:function(ta,Ta){const Xa=this.locale();return n.read(ta,Ta,Xa.timeParse,Xa.utcParse)},preload:function(ta,
Ta,Xa){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const va=Fa._pending||A(Fa);va.requests+=1;const V=yield Fa.request(Ta,Xa);Fa.pulse(ta,Fa.changeset().remove(m.truthy).insert(V.data||[]));va.done();return V})},request:function(ta,Ta){const Xa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Fa=0,va;try{va=yield Xa.loader().load(ta,{context:"dataflow",response:n.responseType(Ta&&Ta.type)});try{va=Xa.parse(va,Ta)}catch(V){Fa=-2,Xa.warn("Data ingestion failed",
ta,V)}}catch(V){Fa=-1,Xa.warn("Loading failed",ta,V)}return{data:va,status:Fa}})},events:function(ta,Ta,Xa,Fa){const va=this,V=p(Xa,Fa);Xa=function(X){X.dataflow=va;try{V.receive(X)}catch(ca){va.error(ca)}finally{va.run()}};ta="string"===typeof ta&&"undefined"!==typeof document?document.querySelectorAll(ta):m.array(ta);Fa=ta.length;for(let X=0;X<Fa;++X)ta[X].addEventListener(Ta,Xa);return V},on:function(ta,Ta,Xa,Fa,va){(ta instanceof f?D:C)(this,ta,Ta,Xa,Fa,va);return this},evaluate:function(ta,Ta,
Xa){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const va=[];if(Fa._pulse)return R(Fa);Fa._pending&&(yield Fa._pending);Ta&&(yield x(Fa,Ta));if(!Fa._touched.length)return Fa.debug("Dataflow invoked, but nothing to do."),Fa;var V=++Fa._clock;Fa._pulse=new L(Fa,V,ta);Fa._touched.forEach(qa=>Fa._enqueue(qa,!0));Fa._touched=O(m.id);var X=0;let ca,ea,ra;try{for(;0<Fa._heap.size();)ca=Fa._heap.pop(),ca.rank!==ca.qrank?Fa._enqueue(ca,!0):(ea=ca.run(Fa._getPulse(ca,ta)),ea.then?
ea=yield ea:ea.async&&(va.push(ea.async),ea=Ea),ea!==Ea&&ca._targets&&ca._targets.forEach(qa=>Fa._enqueue(qa)),++X)}catch(qa){Fa._heap.clear(),ra=qa}Fa._input={};Fa._pulse=null;Fa.debug(`Pulse ${V}: ${X} operators`);ra&&(Fa._postrun=[],Fa.error(ra));if(Fa._postrun.length)for(V=Fa._postrun.sort((qa,Ha)=>Ha.priority-qa.priority),Fa._postrun=[],X=0;X<V.length;++X)yield x(Fa,V[X].callback);Xa&&(yield x(Fa,Xa));va.length&&Promise.all(va).then(qa=>Fa.runAsync(null,()=>{qa.forEach(Ha=>{try{Ha(Fa)}catch(na){Fa.error(na)}})}));
return Fa})},run:function(ta,Ta,Xa){return this._pulse?R(this):(this.evaluate(ta,Ta,Xa),this)},runAsync:function(ta,Ta,Xa){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Fa._running;)yield Fa._running;const va=()=>Fa._running=null;(Fa._running=Fa.evaluate(ta,Ta,Xa)).then(va,va);return Fa._running})},runAfter:function(ta,Ta,Xa){if(this._pulse||Ta)this._postrun.push({priority:Xa||0,callback:ta});else try{ta(this)}catch(Fa){this.error(Fa)}},_enqueue:function(ta,Ta){const Xa=
ta.stamp<this._clock;Xa&&(ta.stamp=this._clock);if(Xa||Ta)ta.qrank=ta.rank,this._heap.push(ta)},_getPulse:function(ta,Ta){const Xa=ta.source,Fa=this._clock;return Xa&&m.isArray(Xa)?new H(this,Fa,Xa.map(va=>va.pulse),Ta):this._input[ta.id]||U(this._pulse,Xa&&Xa.pulse)}};m.inherits(Z,f,{run(ta){if(ta.stamp<this.stamp)return ta.StopPropagation;let Ta;this.skip()?this.skip(!1):Ta=this.evaluate(ta);Ta=Ta||ta;Ta.then?Ta=Ta.then(Xa=>this.pulse=Xa):Ta!==ta.StopPropagation&&(this.pulse=Ta);return Ta},evaluate(ta){const Ta=
this.marshall(ta.stamp);ta=this.transform(Ta,ta);Ta.clear();return ta},transform(){}});const kb={};g.Dataflow=fa;g.EventStream=e;g.MultiPulse=H;g.Operator=f;g.Parameters=d;g.Pulse=L;g.Transform=Z;g.UniqueList=O;g.asyncCallback=x;g.changeset=k;g.definition=function(ta){return(ta=Q(ta))&&ta.Definition||null};g.derive=function(ta){return v(ta,y({}))};g.ingest=y;g.isChangeSet=l;g.isTuple=function(ta){return!(!ta||!ta[q])};g.rederive=v;g.replace=function(ta,Ta){Ta[q]=ta[q];return Ta};g.stableCompare=function(ta,
Ta){return ta?Ta?(Xa,Fa)=>ta(Xa,Fa)||Ta(Xa)[q]-Ta(Fa)[q]:(Xa,Fa)=>ta(Xa,Fa)||Xa[q]-Fa[q]:null};g.transform=Q;g.transforms=kb;g.tupleid=function(ta){return ta[q]};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[27]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.d3))})(this,function(g,m){function*n(q,N){if(null==N)for(var da of q)null!=da&&""!==da&&(da=+da)>=da&&(yield da);else{da=-1;for(let aa of q)aa=N(aa,++da,q),null!=aa&&""!==aa&&(aa=+aa)>=aa&&(yield aa)}}function E(q,N,da){const aa=Float64Array.from(n(q,
da));aa.sort(m.ascending);return N.map(wa=>m.quantileSorted(aa,wa))}function O(q,N){return E(q,[.25,.5,.75],N)}function x(q,N){const da=q.length,aa=m.deviation(q,N);q=O(q,N);return 1.06*(Math.min(aa,(q[2]-q[0])/1.34)||aa||Math.abs(q[0])||1)*Math.pow(da,-.2)}function y(q,N){const da=q.length;let aa=0,wa=1,ua,Ea;for(;q[aa]===q[wa];)++wa;for(;wa<da;){for(ua=wa+1;q[wa]===q[ua];)++ua;if(q[wa]-q[wa-1]<N){for(Ea=wa+(aa+ua-wa-wa>>1);Ea<wa;)q[Ea++]=q[wa];for(;Ea>wa;)q[Ea--]=q[aa]}aa=wa;wa=ua}return q}function v(q,
N){q=q||0;N=null==N?1:N;let da,aa;if(Z===Z)da=Z,Z=NaN;else{do{da=2*g.random()-1;aa=2*g.random()-1;var wa=da*da+aa*aa}while(0===wa||1<wa);wa=Math.sqrt(-2*Math.log(wa)/wa);da*=wa;Z=aa*wa}return q+da*N}function l(q,N,da){da=null==da?1:da;q=(q-(N||0))/da;return Math.exp(-.5*q*q)/(da*fa)}function k(q,N,da){q=(q-(N||0))/(null==da?1:da);N=Math.abs(q);37<N?da=0:(da=Math.exp(-N*N/2),7.07106781186547>N?(da*=(((((.0352624965998911*N+.700383064443688)*N+6.37396220353165)*N+33.912866078383)*N+112.079291497871)*
N+221.213596169931)*N+220.206867912376,da/=((((((.0883883476483184*N+1.75566716318264)*N+16.064177579207)*N+86.7807322029461)*N+296.564248779674)*N+637.333633378831)*N+793.826512519948)*N+440.413735824752):da=da/(N+1/(N+2/(N+3/(N+4/(N+.65)))))/2.506628274631);return 0<q?1-da:da}function d(q,N,da){if(0>q||1<q)return NaN;q=2*q-1;var aa=-Math.log((1-q)*(1+q));6.25>aa?(aa-=3.125,aa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+
(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):16>aa?(aa=Math.sqrt(aa)-
3.25,aa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):
Number.isFinite(aa)?(aa=Math.sqrt(aa)-5,aa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):aa=Infinity;q*=
aa;return(N||0)+(null==da?1:da)*ja*q}function f(q,N){let da,aa;const wa={mean(ua){return arguments.length?(da=ua||0,wa):da},stdev(ua){return arguments.length?(aa=null==ua?1:ua,wa):aa},sample:()=>v(da,aa),pdf:ua=>l(ua,da,aa),cdf:ua=>k(ua,da,aa),icdf:ua=>d(ua,da,aa)};return wa.mean(q).stdev(N)}function a(q,N){N=null==N?1:N;return Math.exp((q||0)+v()*N)}function e(q,N,da){if(0>=q)return 0;da=null==da?1:da;N=(Math.log(q)-(N||0))/da;return Math.exp(-.5*N*N)/(da*fa*q)}function p(q,N,da){return k(Math.log(q),
N,da)}function A(q,N,da){return Math.exp(d(q,N,da))}function C(q,N){null==N&&(N=null==q?1:q,q=0);return q+(N-q)*g.random()}function D(q,N,da){null==da&&(da=null==N?1:N,N=0);return q>=N&&q<=da?1/(da-N):0}function P(q,N,da){null==da&&(da=null==N?1:N,N=0);return q<N?0:q>da?1:(q-N)/(da-N)}function L(q,N,da){null==da&&(da=null==N?1:N,N=0);return 0<=q&&1>=q?N+q*(da-N):NaN}function G(q,N,da,aa){aa-=q*q;da=1E-24>Math.abs(aa)?0:(da-q*N)/aa;return[N-da*q,da]}function z(q,N,da,aa){q=q.filter(Xa=>{let Fa=N(Xa);
Xa=da(Xa);return null!=Fa&&(Fa=+Fa)>=Fa&&null!=Xa&&(Xa=+Xa)>=Xa});aa&&q.sort((Xa,Fa)=>N(Xa)-N(Fa));aa=q.length;const wa=new Float64Array(aa),ua=new Float64Array(aa);let Ea=0,$a=0,kb=0,ta,Ta;for(Ta of q)wa[Ea]=q=+N(Ta),ua[Ea]=ta=+da(Ta),++Ea,$a+=(q-$a)/Ea,kb+=(ta-kb)/Ea;for(Ea=0;Ea<aa;++Ea)wa[Ea]-=$a,ua[Ea]-=kb;return[wa,ua,$a,kb]}function K(q,N,da,aa){let wa=-1,ua;for(const Ea of q)q=N(Ea),ua=da(Ea),null!=q&&(q=+q)>=q&&null!=ua&&(ua=+ua)>=ua&&aa(q,ua,++wa)}function H(q,N,da,aa,wa){let ua=0,Ea=0;K(q,
N,da,($a,kb)=>{$a=kb-wa($a);kb-=aa;ua+=$a*$a;Ea+=kb*kb});return 1-ua/Ea}function R(q,N,da){let aa=0,wa=0,ua=0,Ea=0,$a=0;K(q,N,da,(Ta,Xa)=>{++$a;aa+=(Ta-aa)/$a;wa+=(Xa-wa)/$a;ua+=(Ta*Xa-ua)/$a;Ea+=(Ta*Ta-Ea)/$a});const kb=G(aa,wa,ua,Ea),ta=Ta=>kb[0]+kb[1]*Ta;return{coef:kb,predict:ta,rSquared:H(q,N,da,wa,ta)}}function U(q,N,da){const [aa,wa,ua,Ea]=z(q,N,da);var $a=aa.length,kb=0;let ta=0;var Ta=0;let Xa=0,Fa=0,va,V,X,ca;for(va=0;va<$a;)V=aa[va],X=wa[va++],ca=V*V,kb+=(ca-kb)/va,ta+=(ca*V-ta)/va,Ta+=
(ca*ca-Ta)/va,Xa+=(V*X-Xa)/va,Fa+=(ca*X-Fa)/va;$a=Ta-kb*kb;Ta=kb*$a-ta*ta;const ea=(Fa*kb-Xa*ta)/Ta,ra=(Xa*$a-Fa*ta)/Ta,qa=-ea*kb;kb=Ha=>{Ha-=ua;return ea*Ha*Ha+ra*Ha+qa+Ea};return{coef:[qa-ra*ua+ea*ua*ua+Ea,ra-2*ea*ua,ea],predict:kb,rSquared:H(q,N,da,Ea,kb)}}function ka(q,N,da,aa){const wa=Array(q);let ua,Ea,$a;for(ua=0;ua<q;++ua)wa[ua]=0;for(ua=q-1;0<=ua;--ua)for(Ea=N[ua],$a=1,wa[ua]+=Ea,q=1;q<=ua;++q)$a*=(ua+1-q)/q,wa[ua-q]+=Ea*Math.pow(da,q)*$a;wa[0]+=aa;return wa}function ba(q){const N=q.length-
1,da=[];let aa,wa,ua,Ea,$a;for(aa=0;aa<N;++aa){Ea=aa;for(wa=aa+1;wa<N;++wa)Math.abs(q[aa][wa])>Math.abs(q[aa][Ea])&&(Ea=wa);for(ua=aa;ua<N+1;++ua)$a=q[ua][aa],q[ua][aa]=q[ua][Ea],q[ua][Ea]=$a;for(wa=aa+1;wa<N;++wa)for(ua=N;ua>=aa;ua--)q[ua][wa]-=q[ua][aa]*q[aa][wa]/q[aa][aa]}for(wa=N-1;0<=wa;--wa){$a=0;for(ua=wa+1;ua<N;++ua)$a+=q[ua][wa]*da[ua];da[wa]=(q[N][wa]-$a)/q[wa][wa]}return da}g.random=Math.random;const fa=Math.sqrt(2*Math.PI),ja=Math.SQRT2;let Z=NaN;const Q=.1*Math.PI/180;g.bandwidthNRD=
x;g.bin=function(q){var N=q.maxbins||20;const da=q.base||10,aa=Math.log(da),wa=q.divide||[5,2];let ua=q.extent[0],Ea=q.extent[1];let $a,kb,ta,Ta;const Xa=q.span||Ea-ua||Math.abs(ua)||1;if(q.step)var Fa=q.step;else if(q.steps){kb=Xa/N;ta=0;for(Ta=q.steps.length;ta<Ta&&q.steps[ta]<kb;++ta);Fa=q.steps[Math.max(0,ta-1)]}else{Fa=Math.ceil(Math.log(N)/aa);$a=q.minstep||0;for(Fa=Math.max($a,Math.pow(da,Math.round(Math.log(Xa)/aa)-Fa));Math.ceil(Xa/Fa)>N;)Fa*=da;ta=0;for(Ta=wa.length;ta<Ta;++ta)kb=Fa/wa[ta],
kb>=$a&&Xa/kb<=N&&(Fa=kb)}kb=Math.log(Fa);N=Math.pow(da,-(0<=kb?0:~~(-kb/aa)+1)-1);if(q.nice||void 0===q.nice)kb=Math.floor(ua/Fa+N)*Fa,ua=ua<kb?kb-Fa:kb,Ea=Math.ceil(Ea/Fa)*Fa;return{start:ua,stop:Ea===ua?ua+Fa:Ea,step:Fa}};g.bootstrapCI=function(q,N,da,aa){if(!q.length)return[void 0,void 0];q=Float64Array.from(n(q,aa));aa=q.length;let wa,ua,Ea,$a;Ea=0;for($a=Array(N);Ea<N;++Ea){for(ua=wa=0;ua<aa;++ua)wa+=q[~~(g.random()*aa)];$a[Ea]=wa/aa}$a.sort(m.ascending);return[m.quantile($a,da/2),m.quantile($a,
1-da/2)]};g.cumulativeLogNormal=p;g.cumulativeNormal=k;g.cumulativeUniform=P;g.densityLogNormal=e;g.densityNormal=l;g.densityUniform=D;g.dotbin=function(q,N,da,aa){aa=aa||(Fa=>Fa);const wa=q.length,ua=new Float64Array(wa);let Ea=0,$a=1,kb=aa(q[0]),ta=kb,Ta=kb+N,Xa;for(;$a<wa;++$a){Xa=aa(q[$a]);if(Xa>=Ta){for(ta=(kb+ta)/2;Ea<$a;++Ea)ua[Ea]=ta;Ta=Xa+N;kb=Xa}ta=Xa}for(ta=(kb+ta)/2;Ea<$a;++Ea)ua[Ea]=ta;return da?y(ua,N+N/4):ua};g.quantileLogNormal=A;g.quantileNormal=d;g.quantileUniform=L;g.quantiles=
E;g.quartiles=O;g.randomInteger=function(q,N){null==N&&(N=q,q=0);let da,aa,wa;const ua={min(Ea){return arguments.length?(da=Ea||0,wa=aa-da,ua):da},max(Ea){return arguments.length?(aa=Ea||0,wa=aa-da,ua):aa},sample(){return da+Math.floor(wa*g.random())},pdf(Ea){return Ea===Math.floor(Ea)&&Ea>=da&&Ea<aa?1/wa:0},cdf(Ea){Ea=Math.floor(Ea);return Ea<da?0:Ea>=aa?1:(Ea-da+1)/wa},icdf(Ea){return 0<=Ea&&1>=Ea?da-1+Math.floor(Ea*wa):NaN}};return ua.min(q).max(N)};g.randomKDE=function(q,N){const da=f();let aa=
0;const wa={data(ua){return arguments.length?(aa=(q=ua)?ua.length:0,wa.bandwidth(N)):q},bandwidth(ua){if(!arguments.length)return N;N=ua;!N&&q&&(N=x(q));return wa},sample(){return q[~~(g.random()*aa)]+N*da.sample()},pdf(ua){let Ea=0,$a=0;for(;$a<aa;++$a)Ea+=da.pdf((ua-q[$a])/N);return Ea/N/aa},cdf(ua){let Ea=0,$a=0;for(;$a<aa;++$a)Ea+=da.cdf((ua-q[$a])/N);return Ea/aa},icdf(){throw Error("KDE icdf not supported.");}};return wa.data(q)};g.randomLCG=function(q){return function(){q=(1103515245*q+12345)%
2147483647;return q/2147483647}};g.randomLogNormal=function(q,N){let da,aa;const wa={mean(ua){return arguments.length?(da=ua||0,wa):da},stdev(ua){return arguments.length?(aa=null==ua?1:ua,wa):aa},sample:()=>a(da,aa),pdf:ua=>e(ua,da,aa),cdf:ua=>p(ua,da,aa),icdf:ua=>A(ua,da,aa)};return wa.mean(q).stdev(N)};g.randomMixture=function(q,N){let da=0,aa;const wa={weights(ua){if(arguments.length){{var Ea=N=ua||[];const $a=[];let kb=0,ta;for(ta=0;ta<da;++ta)kb+=$a[ta]=null==Ea[ta]?1:+Ea[ta];for(ta=0;ta<da;++ta)$a[ta]/=
kb;aa=$a}return wa}return N},distributions(ua){return arguments.length?(ua?(da=ua.length,q=ua):(da=0,q=[]),wa.weights(N)):q},sample(){const ua=g.random();let Ea=q[da-1],$a=aa[0],kb=0;for(;kb<da-1;$a+=aa[++kb])if(ua<$a){Ea=q[kb];break}return Ea.sample()},pdf(ua){let Ea=0,$a=0;for(;$a<da;++$a)Ea+=aa[$a]*q[$a].pdf(ua);return Ea},cdf(ua){let Ea=0,$a=0;for(;$a<da;++$a)Ea+=aa[$a]*q[$a].cdf(ua);return Ea},icdf(){throw Error("Mixture icdf not supported.");}};return wa.distributions(q).weights(N)};g.randomNormal=
f;g.randomUniform=function(q,N){let da,aa;const wa={min(ua){return arguments.length?(da=ua||0,wa):da},max(ua){return arguments.length?(aa=null==ua?1:ua,wa):aa},sample:()=>C(da,aa),pdf:ua=>D(ua,da,aa),cdf:ua=>P(ua,da,aa),icdf:ua=>L(ua,da,aa)};null==N&&(N=null==q?1:q,q=0);return wa.min(q).max(N)};g.regressionExp=function(q,N,da){const [aa,,wa,ua]=z(q,N,da);let Ea=0,$a=0,kb=0,ta=0,Ta=0,Xa,Fa,va;K(q,N,da,(ea,ra)=>{Xa=aa[Ta++];Fa=Math.log(ra);va=Xa*ra;Ea+=(ra*Fa-Ea)/Ta;$a+=(va-$a)/Ta;kb+=(va*Fa-kb)/Ta;
ta+=(Xa*va-ta)/Ta});const [V,X]=G($a/ua,Ea/ua,kb/ua,ta/ua),ca=ea=>Math.exp(V+X*(ea-wa));return{coef:[Math.exp(V-X*wa),X],predict:ca,rSquared:H(q,N,da,ua,ca)}};g.regressionLinear=R;g.regressionLoess=function(q,N,da,aa){const [wa,ua,Ea,$a]=z(q,N,da,!0);q=wa.length;N=Math.max(2,~~(aa*q));aa=new Float64Array(q);da=new Float64Array(q);var kb=(new Float64Array(q)).fill(1);for(var ta=-1;2>=++ta;){var Ta=[0,N-1];for(let qa=0;qa<q;++qa){var Xa=wa[qa],Fa=Ta[0],va=Ta[1],V=0,X=0,ca=0,ea=0;let Ha=0;const na=1/
Math.abs(wa[Xa-wa[Fa]>wa[va]-Xa?Fa:va]-Xa||1);for(;Fa<=va;++Fa){const ab=wa[Fa],Ba=ua[Fa];var ra=Math.abs(Xa-ab)*na;const Ga=(ra=1-ra*ra*ra)*ra*ra*kb[Fa];ra=ab*Ga;V+=Ga;X+=ra;ca+=Ba*Ga;ea+=Ba*ra;Ha+=ab*ra}const [Pa,cb]=G(X/V,ca/V,ea/V,Ha/V);aa[qa]=Pa+cb*Xa;da[qa]=Math.abs(ua[qa]-aa[qa]);Xa=wa;va=qa+1;V=Ta;X=Xa[va];ca=V[0];ea=V[1]+1;if(!(ea>=Xa.length))for(;va>ca&&Xa[ea]-X<=X-Xa[ca];)V[0]=++ca,V[1]=ea,++ea}if(2===ta)break;Ta=m.median(da);if(1E-12>Math.abs(Ta))break;for(let qa=0,Ha,na;qa<q;++qa)Ha=
da[qa]/(6*Ta),kb[qa]=1<=Ha?1E-12:(na=1-Ha*Ha)*na}q=wa.length;N=[];kb=da=0;for(ta=[];da<q;++da)Ta=wa[da]+Ea,ta[0]===Ta?ta[1]+=(aa[da]-ta[1])/++kb:(kb=0,ta[1]+=$a,ta=[Ta,aa[da]],N.push(ta));ta[1]+=$a;return aa=N};g.regressionLog=function(q,N,da){let aa=0,wa=0,ua=0,Ea=0,$a=0;K(q,N,da,(Ta,Xa)=>{++$a;Ta=Math.log(Ta);aa+=(Ta-aa)/$a;wa+=(Xa-wa)/$a;ua+=(Ta*Xa-ua)/$a;Ea+=(Ta*Ta-Ea)/$a});const kb=G(aa,wa,ua,Ea),ta=Ta=>kb[0]+kb[1]*Math.log(Ta);return{coef:kb,predict:ta,rSquared:H(q,N,da,wa,ta)}};g.regressionPoly=
function(q,N,da,aa){if(1===aa)return R(q,N,da);if(2===aa)return U(q,N,da);const [wa,ua,Ea,$a]=z(q,N,da);var kb=wa.length;const ta=[],Ta=[],Xa=aa+1;let Fa,va,V,X;for(Fa=0;Fa<Xa;++Fa){for(V=va=0;va<kb;++va)V+=Math.pow(wa[va],Fa)*ua[va];ta.push(V);X=new Float64Array(Xa);for(aa=0;aa<Xa;++aa){for(V=va=0;va<kb;++va)V+=Math.pow(wa[va],Fa+aa);X[aa]=V}Ta.push(X)}Ta.push(ta);const ca=ba(Ta);kb=ea=>{ea-=Ea;let ra=$a+ca[0]+ca[1]*ea+ca[2]*ea*ea;for(Fa=3;Fa<Xa;++Fa)ra+=ca[Fa]*Math.pow(ea,Fa);return ra};return{coef:ka(Xa,
ca,-Ea,$a),predict:kb,rSquared:H(q,N,da,$a,kb)}};g.regressionPow=function(q,N,da){let aa=0,wa=0,ua=0,Ea=0,$a=0,kb=0;K(q,N,da,(Xa,Fa)=>{Xa=Math.log(Xa);const va=Math.log(Fa);++kb;aa+=(Xa-aa)/kb;wa+=(va-wa)/kb;ua+=(Xa*va-ua)/kb;Ea+=(Xa*Xa-Ea)/kb;$a+=(Fa-$a)/kb});const ta=G(aa,wa,ua,Ea),Ta=Xa=>ta[0]*Math.pow(Xa,ta[1]);ta[0]=Math.exp(ta[0]);return{coef:ta,predict:Ta,rSquared:H(q,N,da,$a,Ta)}};g.regressionQuad=U;g.sampleCurve=function(q,N,da,aa){da=da||25;aa=Math.max(da,aa||200);var wa=Ta=>[Ta,q(Ta)],
ua=N[0];const Ea=N[1],$a=Ea-ua;var kb=$a/aa;N=[[ua,q(ua)]];const ta=[];if(da===aa){for(kb=1;kb<aa;++kb)N.push(wa(ua+kb/da*$a));N.push([Ea,q(Ea)]);return N}ta.push([Ea,q(Ea)]);for(aa=da;0<--aa;)ta.push(wa(ua+aa/da*$a));da=N[0];for(wa=ta[ta.length-1];wa;)ua=(da[0]+wa[0])/2,ua=[ua,q(ua)],ua[0]-da[0]>=kb&&Math.abs(Math.atan2(wa[1]-da[1],wa[0]-da[0])-Math.atan2(ua[1]-da[1],ua[0]-da[0]))>Q?ta.push(ua):(da=wa,N.push(wa),ta.pop()),wa=ta[ta.length-1];return N};g.sampleLogNormal=a;g.sampleNormal=v;g.sampleUniform=
C;g.setRandom=function(q){g.random=q};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(26),B(27),B(15),B(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.d3,g.vega))})(this,function(g,m,n,E,O,x){function y(La){return fb=>{const wb=La.length;let Ib=1,Zb=String(La[0](fb));for(;Ib<wb;++Ib)Zb+="|"+La[Ib](fb);
return Zb}}function v(La){return La&&La.length?1===La.length?La[0]:y(La):function(){return""}}function l(La,fb){return wb=>m.extend({name:La,out:wb||La},Rc,fb)}function k(La,fb){return La.idx-fb.idx}function d(La){const fb={};La.forEach(Ib=>fb[Ib.name]=Ib);const wb=Ib=>{Ib.req&&Ib.req.forEach(Zb=>{fb[Zb]||wb(fb[Zb]=Yd[Zb]())})};La.forEach(wb);return Object.values(fb).sort(k)}function f(){this.missing=this.valid=0;this._ops.forEach(La=>La.init(this))}function a(La,fb){null==La||""===La?++this.missing:
La===La&&(++this.valid,this._ops.forEach(wb=>wb.add(this,La,fb)))}function e(La,fb){null==La||""===La?--this.missing:La===La&&(--this.valid,this._ops.forEach(wb=>wb.rem(this,La,fb)))}function p(La){this._out.forEach(fb=>La[fb.out]=fb.value(this));return La}function A(La,fb){function wb(ic){this._ops=Ib;this._out=Zb;this.cell=ic;this.init()}fb=fb||m.identity;const Ib=d(La),Zb=La.slice().sort(k);wb.prototype.init=f;wb.prototype.add=a;wb.prototype.rem=e;wb.prototype.set=p;wb.prototype.get=fb;wb.fields=
La.map(ic=>ic.out);return wb}function C(La){this._key=La?m.field(La):n.tupleid;this.reset()}function D(La){n.Transform.call(this,null,La);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function P(La){n.Transform.call(this,null,La)}function L(La,fb,wb){let Ib=fb||[],Zb=wb||[],ic={},Ac=0;return{add:qc=>Zb.push(qc),remove:qc=>ic[La(qc)]=++Ac,size:()=>
Ib.length,data:(qc,nb)=>{Ac&&(Ib=Ib.filter(Bb=>!ic[La(Bb)]),ic={},Ac=0);nb&&qc&&Ib.sort(qc);Zb.length&&(Ib=qc?m.merge(qc,Ib,Zb.sort(qc)):Ib.concat(Zb),Zb=[]);return Ib}}}function G(La){n.Transform.call(this,[],La)}function z(La){n.Operator.call(this,null,K,La)}function K(La){return this.value&&!La.modified()?this.value:m.compare(La.fields,La.orders)}function H(La){n.Transform.call(this,null,La)}function R(La){n.Transform.call(this,null,La)}function U(La,fb){var wb=La["function"];m.hasOwnProperty(fc,
wb)||m.error("Unknown distribution function: "+wb);wb=fc[wb]();for(const Ib in La)if("field"===Ib)wb.data((La.from||fb()).map(La[Ib]));else if("distributions"===Ib)wb[Ib](La[Ib].map(Zb=>U(Zb,fb)));else if("function"===typeof wb[Ib])wb[Ib](La[Ib]);return wb}function ka(La){n.Transform.call(this,null,La)}function ba(La){return()=>La.materialize(La.SOURCE).source}function fa(La,fb){return La?La.map((wb,Ib)=>fb[Ib]||m.accessorName(wb)):null}function ja(La,fb,wb){const Ib=[],Zb=jc=>jc(nb);let ic,Ac,qc,
nb,Bb,Ub;if(null==fb)Ib.push(La.map(wb));else for(ic={},Ac=0,qc=La.length;Ac<qc;++Ac)nb=La[Ac],Bb=fb.map(Zb),Ub=ic[Bb],Ub||(ic[Bb]=Ub=[],Ub.dims=Bb,Ib.push(Ub)),Ub.push(wb(nb));return Ib}function Z(La){n.Transform.call(this,null,La)}function Q(La){n.Operator.call(this,null,q,La);this.modified(!0)}function q(La){const fb=La.expr;return this.value&&!La.modified("expr")?this.value:m.accessor(wb=>fb(wb,La),m.accessorFields(fb),m.accessorName(fb))}function N(La){n.Transform.call(this,[void 0,void 0],La)}
function da(La,fb){n.Operator.call(this,La);this.parent=fb;this.count=0}function aa(La){n.Transform.call(this,{},La);this._keys=m.fastmap();const fb=this._targets=[];fb.active=0;fb.forEach=wb=>{for(let Ib=0,Zb=fb.active;Ib<Zb;++Ib)wb(fb[Ib],Ib,fb)}}function wa(La){n.Operator.call(this,null,ua,La)}function ua(La){return this.value&&!La.modified()?this.value:m.isArray(La.name)?m.array(La.name).map(fb=>m.field(fb)):m.field(La.name,La.as)}function Ea(La){n.Transform.call(this,m.fastmap(),La)}function $a(La){n.Transform.call(this,
[],La)}function kb(La){n.Transform.call(this,[],La)}function ta(La){n.Transform.call(this,null,La)}function Ta(La){n.Transform.call(this,[],La)}function Xa(La){n.Transform.call(this,[],La)}function Fa(La){var fb=La.method||Hb.value;if(null==Hb[fb])m.error("Unrecognized imputation method: "+fb);else{if(fb===Hb.value){var wb=void 0!==La.value?La.value:0;return()=>wb}return Hb[fb]}}function va(La){const fb=La.field;return wb=>wb?fb(wb):NaN}function V(La,fb,wb,Ib){var Zb=Db=>Db(jc),ic=[];Ib=Ib?Ib.slice():
[];var Ac={},qc={},nb,Bb;Ib.forEach((Db,Hc)=>Ac[Db]=Hc+1);var Ub=0;for(Bb=La.length;Ub<Bb;++Ub){var jc=La[Ub];var zc=wb(jc);var Dc=Ac[zc]||(Ac[zc]=Ib.push(zc));var Wc=(zc=fb?fb.map(Zb):yc)+"";(nb=qc[Wc])||(nb=qc[Wc]=[],ic.push(nb),nb.values=zc);nb[Dc-1]=jc}ic.domain=Ib;return ic}function X(La){D.call(this,La)}function ca(La){n.Transform.call(this,null,La)}function ea(La){n.Operator.call(this,null,ra,La)}function ra(La){return this.value&&!La.modified()?this.value:m.key(La.fields,La.flat)}function qa(La){n.Transform.call(this,
[],La);this._pending=null}function Ha(La){return La.modified("async")&&!(La.modified("values")||La.modified("url")||La.modified("format"))}function na(La,fb,wb){wb.forEach(n.ingest);fb=fb.fork(fb.NO_FIELDS&fb.NO_SOURCE);fb.rem=La.value;La.value=fb.source=fb.add=wb;La._pending=null;fb.rem.length&&fb.clean(!0);return fb}function Pa(La){n.Transform.call(this,{},La)}function cb(La){n.Operator.call(this,null,ab,La)}function ab(La){if(this.value&&!La.modified())return this.value;La=La.extents;const fb=
La.length;let wb=Infinity,Ib=-Infinity,Zb,ic;for(Zb=0;Zb<fb;++Zb)ic=La[Zb],ic[0]<wb&&(wb=ic[0]),ic[1]>Ib&&(Ib=ic[1]);return[wb,Ib]}function Ba(La){n.Operator.call(this,null,Ga,La)}function Ga(La){return this.value&&!La.modified()?this.value:La.values.reduce((fb,wb)=>fb.concat(wb),[])}function oa(La){n.Transform.call(this,null,La)}function Ia(La){D.call(this,La)}function Ua(La,fb){const wb=La.field,Ib=La.value,Zb=("count"===La.op?"__count__":La.op)||"sum",ic=m.accessorFields(wb).concat(m.accessorFields(Ib)),
Ac=Gb(wb,La.limit||0,fb);fb.changed()&&La.set("__pivot__",null,null,!0);return{key:La.key,groupby:La.groupby,ops:Ac.map(()=>Zb),fields:Ac.map(qc=>eb(qc,wb,Ib,ic)),as:Ac.map(qc=>qc+""),modified:La.modified.bind(La)}}function eb(La,fb,wb,Ib){return m.accessor(Zb=>fb(Zb)===La?wb(Zb):NaN,Ib,La+"")}function Gb(La,fb,wb){const Ib={},Zb=[];wb.visit(wb.SOURCE,ic=>{ic=La(ic);Ib[ic]||(Ib[ic]=1,Zb.push(ic))});Zb.sort(m.ascending);return fb?Zb.slice(0,fb):Zb}function Tb(La){aa.call(this,La)}function kc(La){n.Transform.call(this,
null,La)}function bd(La){n.Transform.call(this,null,La)}function tc(La){n.Transform.call(this,null,La)}function Fc(La){n.Transform.call(this,null,La)}function mb(La){n.Transform.call(this,[],La);this.count=0}function dc(La){n.Transform.call(this,null,La)}function Bc(La){n.Transform.call(this,null,La);this.modified(!0)}function pc(La){n.Transform.call(this,null,La)}function Cc(La){n.Transform.call(this,m.fastmap(),La)}function nc(La){n.Transform.call(this,null,La)}function Uc(La,fb,wb,Ib){const Zb=
Gd[La](fb,wb);return{init:Zb.init||m.zero,update:function(ic,Ac){Ac[Ib]=Zb.next(ic)}}}function Tc(La){function fb(Dc){m.array(m.accessorFields(Dc)).forEach(Wc=>nb[Wc]=1)}const wb=m.array(La.ops),Ib=m.array(La.fields),Zb=m.array(La.params),ic=m.array(La.as),Ac=this.outputs=[],qc=this.windows=[],nb={},Bb={},Ub=[],jc=[];let zc=!0;fb(La.sort);wb.forEach((Dc,Wc)=>{const Db=Ib[Wc],Hc=m.accessorName(Db),fd=ic[Wc]||Dc+(Hc?"_"+Hc:"");fb(Db);Ac.push(fd);m.hasOwnProperty(Gd,Dc)?qc.push(Uc(Dc,Ib[Wc],Zb[Wc],fd)):
(null==Db&&"count"!==Dc&&m.error("Null aggregate field specified."),"count"===Dc?Ub.push(fd):(zc=!1,Wc=Bb[Hc],Wc||(Wc=Bb[Hc]=[],Wc.field=Db,jc.push(Wc)),Wc.push(Yd[Dc](fd))))});if(Ub.length||jc.length)this.cell=Kc(jc,Ub,zc);this.inputs=Object.keys(nb)}function Kc(La,fb,wb){La=La.map(nb=>A(nb,nb.field));const Ib={num:0,agg:null,store:!1,count:fb};if(!wb)for(var Zb=La.length,ic=Ib.agg=Array(Zb),Ac=0;Ac<Zb;++Ac)ic[Ac]=new La[Ac](Ib);if(Ib.store)var qc=Ib.data=new C;Ib.add=function(nb){Ib.num+=1;if(!wb){qc&&
qc.add(nb);for(let Bb=0;Bb<Zb;++Bb)ic[Bb].add(ic[Bb].get(nb),nb)}};Ib.rem=function(nb){--Ib.num;if(!wb){qc&&qc.rem(nb);for(let Bb=0;Bb<Zb;++Bb)ic[Bb].rem(ic[Bb].get(nb),nb)}};Ib.set=function(nb){let Bb,Ub;qc&&qc.values();Bb=0;for(Ub=fb.length;Bb<Ub;++Bb)nb[fb[Bb]]=Ib.num;if(!wb)for(Bb=0,Ub=ic.length;Bb<Ub;++Bb)ic[Bb].set(nb)};Ib.init=function(){Ib.num=0;qc&&qc.reset();for(let nb=0;nb<Zb;++nb)ic[nb].init()};return Ib}function Fd(La){n.Transform.call(this,{},La);this._mlen=0;this._mods=[]}function fe(La,
fb,wb,Ib){var Zb=Ib.sort;const ic=Zb&&!Ib.ignorePeers;Ib=Ib.frame||[null,0];La=La.data(wb);wb=La.length;const Ac=ic?O.bisector(Zb):null;Zb={i0:0,i1:0,p0:0,p1:0,index:0,data:La,compare:Zb||m.constant(-1)};fb.init();for(let jc=0;jc<wb;++jc){var qc=Zb,nb=Ib,Bb=jc,Ub=wb;qc.p0=qc.i0;qc.p1=qc.i1;qc.i0=null==nb[0]?0:Math.max(0,Bb-Math.abs(nb[0]));qc.i1=null==nb[1]?Ub:Math.min(Ub,Bb+Math.abs(nb[1])+1);qc.index=Bb;if(ic){{qc=Zb;nb=Ac;Bb=qc.i0;Ub=qc.i1-1;const zc=qc.compare,Dc=qc.data,Wc=Dc.length-1;0<Bb&&
!zc(Dc[Bb],Dc[Bb-1])&&(qc.i0=nb.left(Dc,Dc[Bb]));Ub<Wc&&!zc(Dc[Ub],Dc[Ub+1])&&(qc.i1=nb.right(Dc,Dc[Ub]))}}fb.update(Zb,La[jc])}}var vd=()=>{};const Rc={init:vd,add:vd,rem:vd,idx:0},Yd={values:{init:La=>La.cell.store=!0,value:La=>La.cell.data.values(),idx:-1},count:{value:La=>La.cell.num},__count__:{value:La=>La.missing+La.valid},missing:{value:La=>La.missing},valid:{value:La=>La.valid},sum:{init:La=>La.sum=0,value:La=>La.sum,add:(La,fb)=>La.sum+=+fb,rem:(La,fb)=>La.sum-=fb},product:{init:La=>La.product=
1,value:La=>La.valid?La.product:void 0,add:(La,fb)=>La.product*=fb,rem:(La,fb)=>La.product/=fb},mean:{init:La=>La.mean=0,value:La=>La.valid?La.mean:void 0,add:(La,fb)=>(La.mean_d=fb-La.mean,La.mean+=La.mean_d/La.valid),rem:(La,fb)=>(La.mean_d=fb-La.mean,La.mean-=La.valid?La.mean_d/La.valid:La.mean)},average:{value:La=>La.valid?La.mean:void 0,req:["mean"],idx:1},variance:{init:La=>La.dev=0,value:La=>1<La.valid?La.dev/(La.valid-1):void 0,add:(La,fb)=>La.dev+=La.mean_d*(fb-La.mean),rem:(La,fb)=>La.dev-=
La.mean_d*(fb-La.mean),req:["mean"],idx:1},variancep:{value:La=>1<La.valid?La.dev/La.valid:void 0,req:["variance"],idx:2},stdev:{value:La=>1<La.valid?Math.sqrt(La.dev/(La.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:La=>1<La.valid?Math.sqrt(La.dev/La.valid):void 0,req:["variance"],idx:2},stderr:{value:La=>1<La.valid?Math.sqrt(La.dev/(La.valid*(La.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:La=>La.cell.data.distinct(La.get),req:["values"],idx:3},ci0:{value:La=>La.cell.data.ci0(La.get),
req:["values"],idx:3},ci1:{value:La=>La.cell.data.ci1(La.get),req:["values"],idx:3},median:{value:La=>La.cell.data.q2(La.get),req:["values"],idx:3},q1:{value:La=>La.cell.data.q1(La.get),req:["values"],idx:3},q3:{value:La=>La.cell.data.q3(La.get),req:["values"],idx:3},min:{init:La=>La.min=void 0,value:La=>La.min=Number.isNaN(La.min)?La.cell.data.min(La.get):La.min,add:(La,fb)=>{if(fb<La.min||void 0===La.min)La.min=fb},rem:(La,fb)=>{fb<=La.min&&(La.min=NaN)},req:["values"],idx:4},max:{init:La=>La.max=
void 0,value:La=>La.max=Number.isNaN(La.max)?La.cell.data.max(La.get):La.max,add:(La,fb)=>{if(fb>La.max||void 0===La.max)La.max=fb},rem:(La,fb)=>{fb>=La.max&&(La.max=NaN)},req:["values"],idx:4},argmin:{init:La=>La.argmin=void 0,value:La=>La.argmin||La.cell.data.argmin(La.get),add:(La,fb,wb)=>{fb<La.min&&(La.argmin=wb)},rem:(La,fb)=>{fb<=La.min&&(La.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:La=>La.argmax=void 0,value:La=>La.argmax||La.cell.data.argmax(La.get),add:(La,fb,wb)=>{fb>La.max&&
(La.argmax=wb)},rem:(La,fb)=>{fb>=La.max&&(La.argmax=void 0)},req:["max","values"],idx:3}};vd=Object.keys(Yd);vd.forEach(La=>{Yd[La]=l(La,Yd[La])});var Pb=C.prototype;Pb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Pb.add=function(La){this._add.push(La)};Pb.rem=function(La){this._rem.push(La)};Pb.values=function(){this._get=null;if(0===this._rem.length)return this._add;const La=this._add;var fb=this._rem;const wb=this._key,Ib=La.length,Zb=fb.length,ic=Array(Ib-Zb),
Ac={};let qc,nb;for(qc=0;qc<Zb;++qc)Ac[wb(fb[qc])]=1;for(fb=qc=0;qc<Ib;++qc)Ac[wb(nb=La[qc])]?Ac[wb(nb)]=0:ic[fb++]=nb;this._rem=[];return this._add=ic};Pb.distinct=function(La){const fb=this.values(),wb={};let Ib=fb.length,Zb=0,ic;for(;0<=--Ib;)ic=La(fb[Ib])+"",m.hasOwnProperty(wb,ic)||(wb[ic]=1,++Zb);return Zb};Pb.extent=function(La){if(this._get!==La||!this._ext){const fb=this.values(),wb=m.extentIndex(fb,La);this._ext=[fb[wb[0]],fb[wb[1]]];this._get=La}return this._ext};Pb.argmin=function(La){return this.extent(La)[0]||
{}};Pb.argmax=function(La){return this.extent(La)[1]||{}};Pb.min=function(La){const fb=this.extent(La)[0];return null!=fb?La(fb):void 0};Pb.max=function(La){const fb=this.extent(La)[1];return null!=fb?La(fb):void 0};Pb.quartile=function(La){this._get===La&&this._q||(this._q=E.quartiles(this.values(),La),this._get=La);return this._q};Pb.q1=function(La){return this.quartile(La)[0]};Pb.q2=function(La){return this.quartile(La)[1]};Pb.q3=function(La){return this.quartile(La)[2]};Pb.ci=function(La){this._get===
La&&this._ci||(this._ci=E.bootstrapCI(this.values(),1E3,.05,La),this._get=La);return this._ci};Pb.ci0=function(La){return this.ci(La)[0]};Pb.ci1=function(La){return this.ci(La)[1]};D.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:vd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};m.inherits(D,n.Transform,{transform(La,fb){const wb=this,Ib=fb.fork(fb.NO_SOURCE|fb.NO_FIELDS),Zb=La.modified();wb.stamp=Ib.stamp;wb.value&&(Zb||fb.modified(wb._inputs,!0))?(wb._prev=wb.value,wb.value=Zb?wb.init(La):{},fb.visit(fb.SOURCE,ic=>wb.add(ic))):(wb.value=wb.value||wb.init(La),fb.visit(fb.REM,ic=>wb.rem(ic)),fb.visit(fb.ADD,ic=>wb.add(ic)));Ib.modifies(wb._outputs);wb._drop=!1!==La.drop;La.cross&&1<wb._dims.length&&(wb._drop=!1,wb.cross());fb.clean()&&
wb._drop&&Ib.clean(!0).runAfter(()=>this.clean());return wb.changes(Ib)},cross(){function La(qc){let nb,Bb,Ub,jc;for(nb in qc)for(Ub=qc[nb].tuple,Bb=0;Bb<Ac;++Bb)ic[Bb][jc=Ub[Zb[Bb]]]=jc}function fb(qc,nb,Bb){const Ub=Zb[Bb],jc=ic[Bb++];for(const zc in jc){const Dc=qc?qc+"|"+zc:zc;nb[Ub]=jc[zc];Bb<Ac?fb(Dc,nb,Bb):Ib[Dc]||wb.cell(Dc,nb)}}const wb=this,Ib=wb.value,Zb=wb._dnames,ic=Zb.map(()=>({})),Ac=Zb.length;La(wb._prev);La(Ib);fb("",{},0)},init(La){function fb(Db){Db=m.array(m.accessorFields(Db));
const Hc=Db.length;let fd=0,uc;for(;fd<Hc;++fd)Zb[uc=Db[fd]]||(Zb[uc]=1,wb.push(uc))}const wb=this._inputs=[],Ib=this._outputs=[],Zb={};this._dims=m.array(La.groupby);this._dnames=this._dims.map(Db=>{const Hc=m.accessorName(Db);fb(Db);Ib.push(Hc);return Hc});this.cellkey=La.key?La.key:v(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const ic=La.fields||[null],Ac=La.ops||["count"];La=La.as||[];const qc=ic.length,nb={};let Bb,Ub,jc,zc,Dc,Wc;qc!==Ac.length&&m.error("Unmatched number of fields and aggregate ops.");
for(Wc=0;Wc<qc;++Wc)Bb=ic[Wc],Ub=Ac[Wc],null==Bb&&"count"!==Ub&&m.error("Null aggregate field specified."),zc=m.accessorName(Bb),Dc=La[Wc]||Ub+(zc?"_"+zc:""),Ib.push(Dc),"count"===Ub?this._counts.push(Dc):(jc=nb[zc],jc||(fb(Bb),jc=nb[zc]=[],jc.field=Bb,this._measures.push(jc)),"count"!==Ub&&(this._countOnly=!1),jc.push(Yd[Ub](Dc)));this._measures=this._measures.map(Db=>A(Db,Db.field));return{}},cellkey:v(),cell(La,fb){let wb=this.value[La];wb?0===wb.num&&this._drop&&wb.stamp<this.stamp?(wb.stamp=
this.stamp,this._adds[this._alen++]=wb):wb.stamp<this.stamp&&(wb.stamp=this.stamp,this._mods[this._mlen++]=wb):(wb=this.value[La]=this.newcell(La,fb),this._adds[this._alen++]=wb);return wb},newcell(La,fb){La={key:La,num:0,agg:null,tuple:this.newtuple(fb,this._prev&&this._prev[La]),stamp:this.stamp,store:!1};if(!this._countOnly){fb=this._measures;const wb=fb.length;La.agg=Array(wb);for(let Ib=0;Ib<wb;++Ib)La.agg[Ib]=new fb[Ib](La)}La.store&&(La.data=new C);return La},newtuple(La,fb){const wb=this._dnames,
Ib=this._dims,Zb=Ib.length,ic={};for(let Ac=0;Ac<Zb;++Ac)ic[wb[Ac]]=Ib[Ac](La);return fb?n.replace(fb.tuple,ic):n.ingest(ic)},clean(){const La=this.value;for(const fb in La)0===La[fb].num&&delete La[fb]},add(La){var fb=this.cellkey(La);fb=this.cell(fb,La);fb.num+=1;if(!this._countOnly){fb.store&&fb.data.add(La);fb=fb.agg;for(let wb=0,Ib=fb.length;wb<Ib;++wb)fb[wb].add(fb[wb].get(La),La)}},rem(La){var fb=this.cellkey(La);fb=this.cell(fb,La);--fb.num;if(!this._countOnly){fb.store&&fb.data.rem(La);fb=
fb.agg;for(let wb=0,Ib=fb.length;wb<Ib;++wb)fb[wb].rem(fb[wb].get(La),La)}},celltuple(La){const fb=La.tuple,wb=this._counts;La.store&&La.data.values();for(let Ib=0,Zb=wb.length;Ib<Zb;++Ib)fb[wb[Ib]]=La.num;if(!this._countOnly){La=La.agg;for(let Ib=0,Zb=La.length;Ib<Zb;++Ib)La[Ib].set(fb)}return fb},changes(La){const fb=this._adds,wb=this._mods;var Ib=this._prev;const Zb=this._drop,ic=La.add,Ac=La.rem,qc=La.mod;let nb;var Bb;if(Ib)for(Bb in Ib)nb=Ib[Bb],Zb&&!nb.num||Ac.push(nb.tuple);Ib=0;for(Bb=this._alen;Ib<
Bb;++Ib)ic.push(this.celltuple(fb[Ib])),fb[Ib]=null;Ib=0;for(Bb=this._mlen;Ib<Bb;++Ib)nb=wb[Ib],(0===nb.num&&Zb?Ac:qc).push(this.celltuple(nb)),wb[Ib]=null;this._alen=this._mlen=0;this._prev=null;return La}});P.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};m.inherits(P,n.Transform,{transform(La,fb){const wb=!1!==La.interval,Ib=this._bins(La),Zb=Ib.start,ic=Ib.step,Ac=La.as||["bin0","bin1"],qc=Ac[0],
nb=Ac[1];La.modified()?(fb=fb.reflow(!0),La=fb.SOURCE):La=fb.modified(m.accessorFields(La.field))?fb.ADD_MOD:fb.ADD;fb.visit(La,wb?Bb=>{const Ub=Ib(Bb);Bb[qc]=Ub;Bb[nb]=null==Ub?null:Zb+ic*(1+(Ub-Zb)/ic)}:Bb=>Bb[qc]=Ib(Bb));return fb.modifies(wb?Ac:qc)},_bins(La){if(this.value&&!La.modified())return this.value;const fb=La.field,wb=E.bin(La),Ib=wb.step;let Zb=wb.start,ic=Zb+Math.ceil((wb.stop-Zb)/Ib)*Ib;var Ac;null!=(Ac=La.anchor)&&(Ac-=Zb+Ib*Math.floor((Ac-Zb)/Ib),Zb+=Ac,ic+=Ac);Ac=function(qc){qc=
m.toNumber(fb(qc));return null==qc?null:qc<Zb?-Infinity:qc>ic?Infinity:(qc=Math.max(Zb,Math.min(qc,ic-Ib)),Zb+Ib*Math.floor(1E-14+(qc-Zb)/Ib))};Ac.start=Zb;Ac.stop=wb.stop;Ac.step=Ib;return this.value=m.accessor(Ac,m.accessorFields(fb),La.name||"bin_"+m.accessorName(fb))}});G.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};m.inherits(G,n.Transform,{transform(La,fb){const wb=fb.fork(fb.ALL),Ib=L(n.tupleid,this.value,wb.materialize(wb.ADD).add),Zb=La.sort;La=fb.changed()||
Zb&&(La.modified("sort")||fb.modified(Zb.fields));wb.visit(wb.REM,Ib.remove);this.modified(La);this.value=wb.source=Ib.data(n.stableCompare(Zb),La);fb.source&&fb.source.root&&(this.value.root=fb.source.root);return wb}});m.inherits(z,n.Operator);H.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};m.inherits(H,n.Transform,{transform(La,fb){var wb=Ub=>jc=>{jc=qc(jc);var zc=ic;switch(La.case){case "upper":jc=jc.toUpperCase();break;case "lower":jc=jc.toLowerCase()}jc=jc.match(zc)||[];var Dc;zc=0;for(var Wc=jc.length;zc<Wc;++zc)Ac.test(Dc=jc[zc])||Ub(Dc)};const Ib=this._parameterCheck(La,fb),Zb=this._counts,ic=this._match,Ac=this._stop,qc=La.field,nb=La.as||["text","count"],Bb=wb(Ub=>Zb[Ub]=1+(Zb[Ub]||
0));wb=wb(Ub=>--Zb[Ub]);Ib?fb.visit(fb.SOURCE,Bb):(fb.visit(fb.ADD,Bb),fb.visit(fb.REM,wb));return this._finish(fb,nb)},_parameterCheck(La,fb){let wb=!1;if(La.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(La.stopwords||"")+"$","i"),wb=!0;if(La.modified("pattern")||!this._match)this._match=new RegExp(La.pattern||"[\\w']+","g"),wb=!0;if(La.modified("field")||fb.modified(La.field.fields))wb=!0;wb&&(this._counts={});return wb},_finish(La,fb){const wb=this._counts,Ib=this._tuples||(this._tuples=
{}),Zb=fb[0],ic=fb[1];La=La.fork(La.NO_SOURCE|La.NO_FIELDS);let Ac,qc,nb;for(Ac in wb)qc=Ib[Ac],nb=wb[Ac]||0,!qc&&nb?(Ib[Ac]=qc=n.ingest({}),qc[Zb]=Ac,qc[ic]=nb,La.add.push(qc)):0===nb?(qc&&La.rem.push(qc),wb[Ac]=null,Ib[Ac]=null):qc[ic]!==nb&&(qc[ic]=nb,La.mod.push(qc));return La.modifies(fb)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};m.inherits(R,n.Transform,{transform(La,fb){const wb=
fb.fork(fb.NO_SOURCE),Ib=La.as||["a","b"],Zb=Ib[0],ic=Ib[1];var Ac=!this.value||fb.changed(fb.ADD_REM)||La.modified("as")||La.modified("filter"),qc=this.value;if(Ac){qc&&(wb.rem=qc);fb=qc=fb.materialize(fb.SOURCE).source;La=La.filter||m.truthy;Ac=[];qc={};for(var nb=fb.length,Bb=0,Ub,jc;Bb<nb;++Bb)for(qc[Zb]=jc=fb[Bb],Ub=0;Ub<nb;++Ub)qc[ic]=fb[Ub],La(qc)&&(Ac.push(n.ingest(qc)),qc={},qc[Zb]=jc);wb.add=this.value=Ac}else wb.mod=qc;wb.source=this.value;return wb.modifies(Ib)}});const fc={kde:E.randomKDE,
mixture:E.randomMixture,normal:E.randomNormal,lognormal:E.randomLogNormal,uniform:E.randomUniform};Pb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ka.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Pb.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Pb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};m.inherits(ka,n.Transform,{transform(La,fb){const wb=fb.fork(fb.NO_SOURCE|fb.NO_FIELDS);if(!this.value||fb.changed()||La.modified()){const Ib=U(La.distribution,ba(fb));fb=La.steps||La.minsteps||25;const Zb=La.steps||La.maxsteps||200;let ic=La.method||"pdf";"pdf"!==ic&&"cdf"!==ic&&m.error("Invalid density method: "+ic);La.extent||Ib.data||m.error("Missing density extent parameter.");
ic=Ib[ic];const Ac=La.as||["value","density"];La=La.extent||m.extent(Ib.data());La=E.sampleCurve(ic,La,fb,Zb).map(qc=>{const nb={};nb[Ac[0]]=qc[0];nb[Ac[1]]=qc[1];return n.ingest(nb)});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=La}return wb}});Z.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
m.inherits(Z,n.Transform,{transform(La,fb){if(this.value&&!La.modified()&&!fb.changed())return fb;var wb=fb.materialize(fb.SOURCE).source;const Ib=ja(fb.source,La.groupby,m.identity),Zb=La.smooth||!1,ic=La.field;wb=La.step||m.span(m.extent(wb,ic))/30;const Ac=n.stableCompare((zc,Dc)=>ic(zc)-ic(Dc));La=La.as||"bin";const qc=Ib.length;let nb=Infinity,Bb=-Infinity,Ub=0,jc;for(;Ub<qc;++Ub){const zc=Ib[Ub].sort(Ac);jc=-1;for(const Dc of E.dotbin(zc,wb,Zb,ic))Dc<nb&&(nb=Dc),Dc>Bb&&(Bb=Dc),zc[++jc][La]=
Dc}this.value={start:nb,stop:Bb,step:wb};return fb.reflow(!0).modifies(La)}});m.inherits(Q,n.Operator);N.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};m.inherits(N,n.Transform,{transform(La,fb){var wb=this.value;const Ib=La.field;La=fb.changed()||fb.modified(Ib.fields)||La.modified("field");let Zb=wb[0],ic=wb[1];if(La||null==Zb)Zb=Infinity,ic=-Infinity;fb.visit(La?fb.SOURCE:fb.ADD,Ac=>{Ac=m.toNumber(Ib(Ac));null!=Ac&&(Ac<Zb&&(Zb=Ac),Ac>ic&&(ic=Ac))});Number.isFinite(Zb)&&
Number.isFinite(ic)||((wb=m.accessorName(Ib))&&(wb=` for field "${wb}"`),fb.dataflow.warn(`Infinite extent${wb}: [${Zb}, ${ic}]`),Zb=ic=void 0);this.value=[Zb,ic]}});m.inherits(da,n.Operator,{connect(La){this.detachSubflow=La.detachSubflow;this.targets().add(La);return La.source=this},add(La){this.count+=1;this.value.add.push(La)},rem(La){--this.count;this.value.rem.push(La)},mod(La){this.value.mod.push(La)},init(La){this.value.init(La,La.NO_SOURCE)},evaluate(){return this.value}});m.inherits(aa,
n.Transform,{activate(La){this._targets[this._targets.active++]=La},subflow(La,fb,wb,Ib){const Zb=this.value;let ic=m.hasOwnProperty(Zb,La)&&Zb[La],Ac;ic?ic.value.stamp<wb.stamp&&(ic.init(wb),this.activate(ic)):(Ac=Ib||(Ac=this._group[La])&&Ac.tuple,Ib=wb.dataflow,ic=new da(wb.fork(wb.NO_SOURCE),this),Ib.add(ic).connect(fb(Ib,La,Ac)),Zb[La]=ic,this.activate(ic));return ic},clean(){const La=this.value;for(const fb in La)if(0===La[fb].count){const wb=La[fb].detachSubflow;wb&&wb();delete La[fb]}},initTargets(){const La=
this._targets,fb=La.length;for(let wb=0;wb<fb&&null!=La[wb];++wb)La[wb]=null;La.active=0},transform(La,fb){const wb=fb.dataflow,Ib=La.key,Zb=La.subflow,ic=this._keys,Ac=La.modified("key"),qc=nb=>this.subflow(nb,Zb,fb);this._group=La.group||{};this.initTargets();fb.visit(fb.REM,nb=>{const Bb=n.tupleid(nb),Ub=ic.get(Bb);void 0!==Ub&&(ic.delete(Bb),qc(Ub).rem(nb))});fb.visit(fb.ADD,nb=>{const Bb=Ib(nb);ic.set(n.tupleid(nb),Bb);qc(Bb).add(nb)});Ac||fb.modified(Ib.fields)?fb.visit(fb.MOD,nb=>{const Bb=
n.tupleid(nb),Ub=ic.get(Bb),jc=Ib(nb);Ub===jc?qc(jc).mod(nb):(ic.set(Bb,jc),qc(Ub).rem(nb),qc(jc).add(nb))}):fb.changed(fb.MOD)&&fb.visit(fb.MOD,nb=>{qc(ic.get(n.tupleid(nb))).mod(nb)});Ac&&fb.visit(fb.REFLOW,nb=>{const Bb=n.tupleid(nb),Ub=ic.get(Bb),jc=Ib(nb);Ub!==jc&&(ic.set(Bb,jc),qc(Ub).rem(nb),qc(jc).add(nb))});fb.clean()?wb.runAfter(()=>{this.clean();ic.clean()}):ic.empty>wb.cleanThreshold&&wb.runAfter(ic.clean);return fb}});m.inherits(wa,n.Operator);Ea.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};m.inherits(Ea,n.Transform,{transform(La,fb){function wb(jc){const zc=n.tupleid(jc),Dc=Bb(jc,La),Wc=Zb.get(zc);Dc&&Wc?(Zb.delete(zc),Ac.push(jc)):Dc||Wc?Ub&&Dc&&!Wc&&nb.push(jc):(Zb.set(zc,1),qc.push(jc))}const Ib=fb.dataflow,Zb=this.value,ic=fb.fork(),Ac=ic.add,qc=ic.rem,nb=ic.mod,Bb=La.expr;let Ub=!0;fb.visit(fb.REM,jc=>{const zc=n.tupleid(jc);Zb.has(zc)?Zb.delete(zc):qc.push(jc)});fb.visit(fb.ADD,jc=>{Bb(jc,La)?Ac.push(jc):Zb.set(n.tupleid(jc),1)});
fb.visit(fb.MOD,wb);La.modified()&&(Ub=!1,fb.visit(fb.REFLOW,wb));Zb.empty>Ib.cleanThreshold&&Ib.runAfter(Zb.clean);return ic}});$a.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};m.inherits($a,n.Transform,{transform(La,fb){const wb=fb.fork(fb.NO_SOURCE),Ib=La.fields,Zb=fa(Ib,La.as||[]),ic=La.index||null,Ac=Zb.length;wb.rem=this.value;fb.visit(fb.SOURCE,qc=>{const nb=Ib.map(Wc=>
Wc(qc)),Bb=nb.reduce((Wc,Db)=>Math.max(Wc,Db.length),0);let Ub=0,jc,zc,Dc;for(;Ub<Bb;++Ub){zc=n.derive(qc);for(jc=0;jc<Ac;++jc)zc[Zb[jc]]=null==(Dc=nb[jc][Ub])?null:Dc;ic&&(zc[ic]=Ub);wb.add.push(zc)}});this.value=wb.source=wb.add;ic&&wb.modifies(ic);return wb.modifies(Zb)}});kb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};m.inherits(kb,n.Transform,{transform(La,fb){const wb=
fb.fork(fb.NO_SOURCE),Ib=La.fields,Zb=Ib.map(m.accessorName);La=La.as||["key","value"];const ic=La[0],Ac=La[1],qc=Ib.length;wb.rem=this.value;fb.visit(fb.SOURCE,nb=>{for(let Bb=0,Ub;Bb<qc;++Bb)Ub=n.derive(nb),Ub[ic]=Zb[Bb],Ub[Ac]=Ib[Bb](nb),wb.add.push(Ub)});this.value=wb.source=wb.add;return wb.modifies(La)}});ta.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};m.inherits(ta,n.Transform,
{transform(La,fb){const wb=La.expr,Ib=La.as,Zb=La.modified(),ic=La.initonly?fb.ADD:Zb?fb.SOURCE:fb.modified(wb.fields)||fb.modified(Ib)?fb.ADD_MOD:fb.ADD;Zb&&(fb=fb.materialize().reflow(!0));La.initonly||fb.modifies(Ib);return fb.visit(ic,Ac=>Ac[Ib]=wb(Ac,La))}});m.inherits(Ta,n.Transform,{transform(La,fb){fb=fb.fork(fb.ALL);const wb=La.generator;let Ib=this.value,Zb=La.size-Ib.length,ic,Ac;if(0<Zb){for(ic=[];0<=--Zb;)ic.push(Ac=n.ingest(wb(La))),Ib.push(Ac);fb.add=fb.add.length?fb.materialize(fb.ADD).add.concat(ic):
ic}else La=Ib.slice(0,-Zb),fb.rem=fb.rem.length?fb.materialize(fb.REM).rem.concat(La):La,Ib=Ib.slice(-Zb);fb.source=this.value=Ib;return fb}});const Hb={value:"value",median:O.median,mean:O.mean,min:O.min,max:O.max},yc=[];Xa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};m.inherits(Xa,n.Transform,{transform(La,fb){var wb=fb.fork(fb.ALL),Ib=Fa(La),Zb=va(La),ic=m.accessorName(La.field),Ac=m.accessorName(La.key),qc=(La.groupby||[]).map(m.accessorName);La=V(fb.source,La.groupby,La.key,La.keyvals);fb=[];var nb=this.value,Bb=La.domain.length,Ub,jc,zc;var Dc=0;for(jc=La.length;Dc<jc;++Dc){var Wc=La[Dc];var Db=Wc.values;var Hc=NaN;for(Ub=0;Ub<Bb;++Ub)if(null==Wc[Ub]){var fd=La.domain[Ub];var uc={_impute:!0};var Zc=0;for(zc=Db.length;Zc<
zc;++Zc)uc[qc[Zc]]=Db[Zc];uc[Ac]=fd;uc[ic]=Number.isNaN(Hc)?Hc=Ib(Wc,Zb):Hc;fb.push(n.ingest(uc))}}fb.length&&(wb.add=wb.materialize(wb.ADD).add.concat(fb));nb.length&&(wb.rem=wb.materialize(wb.REM).rem.concat(nb));this.value=fb;return wb}});X.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:vd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
m.inherits(X,D,{transform(La,fb){const wb=this,Ib=La.modified();let Zb;wb.value&&(Ib||fb.modified(wb._inputs,!0))?(Zb=wb.value=Ib?wb.init(La):{},fb.visit(fb.SOURCE,ic=>wb.add(ic))):(Zb=wb.value=wb.value||this.init(La),fb.visit(fb.REM,ic=>wb.rem(ic)),fb.visit(fb.ADD,ic=>wb.add(ic)));wb.changes();fb.visit(fb.SOURCE,ic=>{m.extend(ic,Zb[wb.cellkey(ic)].tuple)});return fb.reflow(Ib).modifies(this._outputs)},changes(){const La=this._adds,fb=this._mods;let wb,Ib;wb=0;for(Ib=this._alen;wb<Ib;++wb)this.celltuple(La[wb]),
La[wb]=null;wb=0;for(Ib=this._mlen;wb<Ib;++wb)this.celltuple(fb[wb]),fb[wb]=null;this._alen=this._mlen=0}});ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};m.inherits(ca,n.Transform,{transform(La,fb){const wb=fb.fork(fb.NO_SOURCE|fb.NO_FIELDS);if(!this.value||fb.changed()||La.modified()){fb=fb.materialize(fb.SOURCE).source;const Ib=ja(fb,La.groupby,La.field),Zb=(La.groupby||[]).map(m.accessorName),ic=La.bandwidth,Ac=La.cumulative?"cdf":"pdf",qc=La.as||["value","density"],
nb=[];let Bb=La.extent,Ub=La.steps||La.minsteps||25,jc=La.steps||La.maxsteps||200;"pdf"!==Ac&&"cdf"!==Ac&&m.error("Invalid density method: "+Ac);"shared"===La.resolve&&(Bb||(Bb=m.extent(fb,La.field)),Ub=jc=La.steps||jc);Ib.forEach(zc=>{const Dc=E.randomKDE(zc,ic)[Ac],Wc=La.counts?zc.length:1,Db=Bb||m.extent(zc);E.sampleCurve(Dc,Db,Ub,jc).forEach(Hc=>{const fd={};for(let uc=0;uc<Zb.length;++uc)fd[Zb[uc]]=zc.dims[uc];fd[qc[0]]=Hc[0];fd[qc[1]]=Hc[1]*Wc;nb.push(n.ingest(fd))})});this.value&&(wb.rem=this.value);
this.value=wb.add=wb.source=nb}return wb}});m.inherits(ea,n.Operator);m.inherits(qa,n.Transform,{transform(La,fb){const wb=fb.dataflow;return this._pending?na(this,fb,this._pending):Ha(La)?fb.StopPropagation:La.values?na(this,fb,wb.parse(La.values,La.format)):La.async?{async:wb.request(La.url,La.format).then(Ib=>{this._pending=m.array(Ib.data);return Zb=>Zb.touch(this)})}:wb.request(La.url,La.format).then(Ib=>na(this,fb,m.array(Ib.data)))}});Pa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};m.inherits(Pa,n.Transform,{transform(La,fb){const wb=La.fields,Ib=La.index,Zb=La.values,ic=null==La.default?null:La.default;var Ac=La.modified();const qc=wb.length;let nb=Ac?fb.SOURCE:fb.ADD,Bb=fb,Ub=La.as,jc;Zb?(jc=Zb.length,1<qc&&!Ub&&m.error('Multi-field lookup requires explicit "as" parameter.'),
Ub&&Ub.length!==qc*jc&&m.error('The "as" parameter has too few output field names.'),Ub=Ub||Zb.map(m.accessorName),La=function(zc){for(var Dc=0,Wc=0,Db,Hc;Dc<qc;++Dc)if(Hc=Ib.get(wb[Dc](zc)),null==Hc)for(Db=0;Db<jc;++Db,++Wc)zc[Ub[Wc]]=ic;else for(Db=0;Db<jc;++Db,++Wc)zc[Ub[Wc]]=Zb[Db](Hc)}):(Ub||m.error("Missing output field names."),La=function(zc){for(var Dc=0,Wc;Dc<qc;++Dc)Wc=Ib.get(wb[Dc](zc)),zc[Ub[Dc]]=null==Wc?ic:Wc});Ac?Bb=fb.reflow(!0):(Ac=wb.some(zc=>fb.modified(zc.fields)),nb|=Ac?fb.MOD:
0);fb.visit(nb,La);return Bb.modifies(Ub)}});m.inherits(cb,n.Operator);m.inherits(Ba,n.Operator);m.inherits(oa,n.Transform,{transform(La,fb){this.modified(La.modified());this.value=La;return fb.fork(fb.NO_SOURCE|fb.NO_FIELDS)}});Ia.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:vd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};m.inherits(Ia,D,{_transform:D.prototype.transform,transform(La,fb){return this._transform(Ua(La,fb),fb)}});m.inherits(Tb,aa,{transform(La,fb){const wb=La.subflow,Ib=La.field,Zb=ic=>this.subflow(n.tupleid(ic),wb,fb,ic);(La.modified("field")||Ib&&fb.modified(m.accessorFields(Ib)))&&m.error("PreFacet does not support field modification.");this.initTargets();Ib?(fb.visit(fb.MOD,ic=>{const Ac=Zb(ic);Ib(ic).forEach(qc=>Ac.mod(qc))}),fb.visit(fb.ADD,ic=>{const Ac=Zb(ic);Ib(ic).forEach(qc=>
Ac.add(n.ingest(qc)))}),fb.visit(fb.REM,ic=>{const Ac=Zb(ic);Ib(ic).forEach(qc=>Ac.rem(qc))})):(fb.visit(fb.MOD,ic=>Zb(ic).mod(ic)),fb.visit(fb.ADD,ic=>Zb(ic).add(ic)),fb.visit(fb.REM,ic=>Zb(ic).rem(ic)));fb.clean()&&fb.runAfter(()=>this.clean());return fb}});kc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};m.inherits(kc,n.Transform,{transform(La,fb){const wb=fb.fork(fb.NO_SOURCE),Ib=La.fields,
Zb=fa(La.fields,La.as||[]),ic=Ib?(qc,nb)=>{for(let Bb=0,Ub=Ib.length;Bb<Ub;++Bb)nb[Zb[Bb]]=Ib[Bb](qc);return nb}:n.rederive;let Ac;this.value?Ac=this.value:(fb=fb.addAll(),Ac=this.value={});fb.visit(fb.REM,qc=>{qc=n.tupleid(qc);wb.rem.push(Ac[qc]);Ac[qc]=null});fb.visit(fb.ADD,qc=>{const nb=ic(qc,n.ingest({}));Ac[n.tupleid(qc)]=nb;wb.add.push(nb)});fb.visit(fb.MOD,qc=>{wb.mod.push(ic(qc,Ac[n.tupleid(qc)]))});return wb}});m.inherits(bd,n.Transform,{transform(La,fb){this.value=La.value;return La.modified("value")?
fb.fork(fb.NO_SOURCE|fb.NO_FIELDS):fb.StopPropagation}});tc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};m.inherits(tc,n.Transform,{transform(La,fb){const wb=fb.fork(fb.NO_SOURCE|fb.NO_FIELDS),Ib=La.as||["prob","value"];if(this.value&&!La.modified()&&!fb.changed())return wb.source=
this.value,wb;fb=fb.materialize(fb.SOURCE).source;fb=ja(fb,La.groupby,La.field);const Zb=(La.groupby||[]).map(m.accessorName),ic=[],Ac=La.step||.01,qc=La.probs||O.range(Ac/2,1-1E-14,Ac),nb=qc.length;fb.forEach(Bb=>{const Ub=E.quantiles(Bb,qc);for(let jc=0;jc<nb;++jc){const zc={};for(let Dc=0;Dc<Zb.length;++Dc)zc[Zb[Dc]]=Bb.dims[Dc];zc[Ib[0]]=qc[jc];zc[Ib[1]]=Ub[jc];ic.push(n.ingest(zc))}});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=ic;return wb}});m.inherits(Fc,n.Transform,{transform(La,
fb){let wb,Ib;this.value?Ib=this.value:(wb=fb=fb.addAll(),Ib=this.value={});La.derive&&(wb=fb.fork(fb.NO_SOURCE),fb.visit(fb.REM,Zb=>{Zb=n.tupleid(Zb);wb.rem.push(Ib[Zb]);Ib[Zb]=null}),fb.visit(fb.ADD,Zb=>{const ic=n.derive(Zb);Ib[n.tupleid(Zb)]=ic;wb.add.push(ic)}),fb.visit(fb.MOD,Zb=>{const ic=Ib[n.tupleid(Zb)];for(const Ac in Zb)ic[Ac]=Zb[Ac],wb.modifies(Ac);wb.mod.push(ic)}));return wb}});mb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};m.inherits(mb,
n.Transform,{transform(La,fb){function wb(Ub){let jc,zc;qc.length<ic?qc.push(Ub):(zc=~~((nb+1)*E.random()),zc<qc.length&&zc>=Bb&&(jc=qc[zc],Ac[n.tupleid(jc)]&&Ib.rem.push(jc),qc[zc]=Ub));++nb}const Ib=fb.fork(fb.NO_SOURCE);var Zb=La.modified("size");const ic=La.size,Ac=this.value.reduce((Ub,jc)=>(Ub[n.tupleid(jc)]=1,Ub),{});let qc=this.value,nb=this.count,Bb=0;fb.rem.length&&(fb.visit(fb.REM,Ub=>{const jc=n.tupleid(Ub);Ac[jc]&&(Ac[jc]=-1,Ib.rem.push(Ub));--nb}),qc=qc.filter(Ub=>-1!==Ac[n.tupleid(Ub)]));
(fb.rem.length||Zb)&&qc.length<ic&&fb.source&&(Bb=nb=qc.length,fb.visit(fb.SOURCE,Ub=>{Ac[n.tupleid(Ub)]||wb(Ub)}),Bb=-1);if(Zb&&qc.length>ic){La=qc.length-ic;for(Zb=0;Zb<La;++Zb)Ac[n.tupleid(qc[Zb])]=-1,Ib.rem.push(qc[Zb]);qc=qc.slice(La)}fb.mod.length&&fb.visit(fb.MOD,Ub=>{Ac[n.tupleid(Ub)]&&Ib.mod.push(Ub)});fb.add.length&&fb.visit(fb.ADD,wb);if(fb.add.length||0>Bb)Ib.add=qc.filter(Ub=>!Ac[n.tupleid(Ub)]);this.count=nb;this.value=Ib.source=qc;return Ib}});dc.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};m.inherits(dc,n.Transform,{transform(La,fb){if(!this.value||La.modified()){var wb=fb.materialize().fork(fb.MOD),Ib=La.as||"data";wb.rem=this.value?fb.rem.concat(this.value):fb.rem;this.value=O.range(La.start,La.stop,La.step||1).map(Zb=>{const ic={};ic[Ib]=Zb;return n.ingest(ic)});wb.add=fb.add.concat(this.value);return wb}}});
m.inherits(Bc,n.Transform,{transform(La,fb){this.value=fb.source;return fb.changed()?fb.fork(fb.NO_SOURCE|fb.NO_FIELDS):fb.StopPropagation}});const Vc=["unit0","unit1"];pc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:x.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Vc}]};m.inherits(pc,n.Transform,{transform(La,fb){const wb=La.field,Ib=!1!==La.interval;var Zb="utc"===La.timezone;const ic=this._floor(La,fb),Ac=(Zb?x.utcInterval:x.timeInterval)(ic.unit).offset;Zb=La.as||Vc;const qc=Zb[0],nb=Zb[1],Bb=ic.step;let Ub=ic.start||Infinity,jc=ic.stop||-Infinity,zc=fb.ADD;if(La.modified()||fb.modified(m.accessorFields(wb)))fb=fb.reflow(!0),zc=fb.SOURCE,Ub=Infinity,
jc=-Infinity;fb.visit(zc,Dc=>{var Wc=wb(Dc);let Db;null==Wc?(Dc[qc]=null,Ib&&(Dc[nb]=null)):(Dc[qc]=Wc=Db=ic(Wc),Ib&&(Dc[nb]=Db=Ac(Wc,Bb)),Wc<Ub&&(Ub=Wc),Db>jc&&(jc=Db))});ic.start=Ub;ic.stop=jc;return fb.modifies(Ib?Zb:qc)},_floor(La,fb){var wb="utc"===La.timezone;const {units:Ib,step:Zb}=La.units?{units:La.units,step:La.step||1}:x.timeBin({extent:La.extent||m.extent(fb.materialize(fb.SOURCE).source,La.field),maxbins:La.maxbins});La=x.timeUnits(Ib);fb=this.value||{};wb=(wb?x.utcFloor:x.timeFloor)(La,
Zb);wb.unit=m.peek(La);wb.units=La;wb.step=Zb;wb.start=fb.start;wb.stop=fb.stop;return this.value=wb}});m.inherits(Cc,n.Transform,{transform(La,fb){const wb=fb.dataflow,Ib=La.field,Zb=this.value,ic=qc=>Zb.set(Ib(qc),qc);let Ac=!0;La.modified("field")||fb.modified(Ib.fields)?(Zb.clear(),fb.visit(fb.SOURCE,ic)):fb.changed()?(fb.visit(fb.REM,qc=>Zb.delete(Ib(qc))),fb.visit(fb.ADD,ic)):Ac=!1;this.modified(Ac);Zb.empty>wb.cleanThreshold&&wb.runAfter(Zb.clean);return fb.fork()}});m.inherits(nc,n.Transform,
{transform(La,fb){if(!this.value||La.modified("field")||La.modified("sort")||fb.changed()||La.sort&&fb.modified(La.sort.fields))this.value=(La.sort?fb.source.slice().sort(n.stableCompare(La.sort)):fb.source).map(La.field)}});const Gd={row_number:function(){return{next:La=>La.index+1}},rank:function(){let La;return{init:()=>La=1,next:fb=>{const wb=fb.index,Ib=fb.data;return wb&&fb.compare(Ib[wb-1],Ib[wb])?La=wb+1:La}}},dense_rank:function(){let La;return{init:()=>La=1,next:fb=>{const wb=fb.index,Ib=
fb.data;return wb&&fb.compare(Ib[wb-1],Ib[wb])?++La:La}}},percent_rank:function(){const La=Gd.rank(),fb=La.next;return{init:La.init,next:wb=>(fb(wb)-1)/(wb.data.length-1)}},cume_dist:function(){let La;return{init:()=>La=0,next:fb=>{const wb=fb.data,Ib=fb.compare;fb=fb.index;if(La<fb){for(;fb+1<wb.length&&!Ib(wb[fb],wb[fb+1]);)++fb;La=fb}return(1+La)/wb.length}}},ntile:function(La,fb){fb=+fb;0<fb||m.error("ntile num must be greater than zero.");La=Gd.cume_dist();const wb=La.next;return{init:La.init,
next:Ib=>Math.ceil(fb*wb(Ib))}},lag:function(La,fb){fb=+fb||1;return{next:wb=>{const Ib=wb.index-fb;return 0<=Ib?La(wb.data[Ib]):null}}},lead:function(La,fb){fb=+fb||1;return{next:wb=>{const Ib=wb.index+fb;wb=wb.data;return Ib<wb.length?La(wb[Ib]):null}}},first_value:function(La){return{next:fb=>La(fb.data[fb.i0])}},last_value:function(La){return{next:fb=>La(fb.data[fb.i1-1])}},nth_value:function(La,fb){fb=+fb;0<fb||m.error("nth_value nth must be greater than zero.");return{next:wb=>{const Ib=wb.i0+
(fb-1);return Ib<wb.i1?La(wb.data[Ib]):null}}},prev_value:function(La){let fb;return{init:()=>fb=null,next:wb=>{wb=La(wb.data[wb.index]);return null!=wb?fb=wb:fb}}},next_value:function(La){let fb,wb;return{init:()=>(fb=null,wb=-1),next:Ib=>{var Zb=Ib.data;if(Ib.index<=wb)Zb=fb;else{a:{Ib=Ib.index;for(let ic=Zb.length;Ib<ic;++Ib)if(null!=La(Zb[Ib]))break a;Ib=-1}Zb=0>(wb=Ib)?(wb=Zb.length,fb=null):fb=La(Zb[wb])}return Zb}}}};Pb=Object.keys(Gd);const Wd=Tc.prototype;Wd.init=function(){this.windows.forEach(La=>
La.init());this.cell&&this.cell.init()};Wd.update=function(La,fb){const wb=this.cell,Ib=this.windows,Zb=La.data,ic=Ib&&Ib.length;let Ac;if(wb){for(Ac=La.p0;Ac<La.i0;++Ac)wb.rem(Zb[Ac]);for(Ac=La.p1;Ac<La.i1;++Ac)wb.add(Zb[Ac]);wb.set(fb)}for(Ac=0;Ac<ic;++Ac)Ib[Ac].update(La,fb)};Fd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Pb.concat(vd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};m.inherits(Fd,n.Transform,{transform(La,fb){this.stamp=fb.stamp;const wb=La.modified(),Ib=n.stableCompare(La.sort),Zb=v(La.groupby),ic=qc=>this.group(Zb(qc));let Ac=this.state;if(!Ac||wb)Ac=this.state=new Tc(La);wb||fb.modified(Ac.inputs)?(this.value={},fb.visit(fb.SOURCE,
qc=>ic(qc).add(qc))):(fb.visit(fb.REM,qc=>ic(qc).remove(qc)),fb.visit(fb.ADD,qc=>ic(qc).add(qc)));for(let qc=0,nb=this._mlen;qc<nb;++qc)fe(this._mods[qc],Ac,Ib,La);this._mlen=0;this._mods=[];return fb.reflow(wb).modifies(Ac.outputs)},group(La){let fb=this.value[La];fb||(fb=this.value[La]=L(n.tupleid),fb.stamp=-1);fb.stamp<this.stamp&&(fb.stamp=this.stamp,this._mods[this._mlen++]=fb);return fb}});g.aggregate=D;g.bin=P;g.collect=G;g.compare=z;g.countpattern=H;g.cross=R;g.density=ka;g.dotbin=Z;g.expression=
Q;g.extent=N;g.facet=aa;g.field=wa;g.filter=Ea;g.flatten=$a;g.fold=kb;g.formula=ta;g.generate=Ta;g.impute=Xa;g.joinaggregate=X;g.kde=ca;g.key=ea;g.load=qa;g.lookup=Pa;g.multiextent=cb;g.multivalues=Ba;g.params=oa;g.pivot=Ia;g.prefacet=Tb;g.project=kc;g.proxy=bd;g.quantile=tc;g.relay=Fc;g.sample=mb;g.sequence=dc;g.sieve=Bc;g.subflow=da;g.timeunit=pc;g.tupleindex=Cc;g.values=nc;g.window=Fd;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function n(){return new m}const E=Math.PI,O=2*E,x=O-1E-6;m.prototype=n.prototype={constructor:m,moveTo:function(y,v){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+v)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(y,v){this._+="L"+(this._x1=+y)+","+(this._y1=+v)},quadraticCurveTo:function(y,v,l,k){this._+="Q"+ +y+","+ +v+","+(this._x1=+l)+","+(this._y1=+k)},bezierCurveTo:function(y,v,l,k,d,f){this._+="C"+ +y+","+ +v+","+ +l+","+ +k+","+(this._x1=+d)+","+(this._y1=+f)},arcTo:function(y,v,l,k,d){y=+y;v=+v;l=+l;k=+k;d=+d;var f=this._x1,a=this._y1,e=l-y,p=k-v,A=f-y,C=a-v,D=A*A+C*C;if(0>d)throw Error("negative radius: "+d);if(null===this._x1)this._+="M"+(this._x1=
y)+","+(this._y1=v);else if(1E-6<D)if(1E-6<Math.abs(C*e-p*A)&&d){l-=f;k-=a;var P=e*e+p*p;a=Math.sqrt(P);f=Math.sqrt(D);D=d*Math.tan((E-Math.acos((P+D-(l*l+k*k))/(2*a*f)))/2);f=D/f;D/=a;1E-6<Math.abs(f-1)&&(this._+="L"+(y+f*A)+","+(v+f*C));this._+="A"+d+","+d+",0,0,"+ +(C*l>A*k)+","+(this._x1=y+D*e)+","+(this._y1=v+D*p)}else this._+="L"+(this._x1=y)+","+(this._y1=v)},arc:function(y,v,l,k,d,f){y=+y;v=+v;l=+l;f=!!f;var a=l*Math.cos(k),e=l*Math.sin(k),p=y+a,A=v+e,C=1^f;k=f?k-d:d-k;if(0>l)throw Error("negative radius: "+
l);if(null===this._x1)this._+="M"+p+","+A;else if(1E-6<Math.abs(this._x1-p)||1E-6<Math.abs(this._y1-A))this._+="L"+p+","+A;l&&(0>k&&(k=k%O+O),k>x?this._+="A"+l+","+l+",0,1,"+C+","+(y-a)+","+(v-e)+"A"+l+","+l+",0,1,"+C+","+(this._x1=p)+","+(this._y1=A):1E-6<k&&(this._+="A"+l+","+l+",0,"+ +(k>=E)+","+C+","+(this._x1=y+l*Math.cos(d))+","+(this._y1=v+l*Math.sin(d))))},rect:function(y,v,l,k){this._+="M"+(this._x0=this._x1=+y)+","+(this._y0=this._y1=+v)+"h"+ +l+"v"+ +k+"h"+-l+"Z"},toString:function(){return this._}};
g.path=n;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(29)):"function"===typeof define&&define.amd?define(["exports","d3-path"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(nb){return function(){return nb}}function E(nb){return 1<=nb?Bc:-1>=nb?-Bc:Math.asin(nb)}function O(nb){return nb.innerRadius}function x(nb){return nb.outerRadius}function y(nb){return nb.startAngle}function v(nb){return nb.endAngle}function l(nb){return nb&&
nb.padAngle}function k(nb,Bb,Ub,jc,zc,Dc,Wc){var Db=nb-Ub,Hc=Bb-jc;Wc=(Wc?Dc:-Dc)/mb(Db*Db+Hc*Hc);Hc*=Wc;Db*=-Wc;var fd=nb+Hc,uc=Bb+Db,Zc=Ub+Hc,$c=jc+Db;Ub=(fd+Zc)/2;jc=(uc+$c)/2;Bb=Zc-fd;nb=$c-uc;Wc=Bb*Bb+nb*nb;Dc=zc-Dc;$c=fd*$c-Zc*uc;var nd=(0>nb?-1:1)*mb(bd(0,Dc*Dc*Wc-$c*$c));fd=($c*nb-Bb*nd)/Wc;uc=(-$c*Bb-nb*nd)/Wc;Zc=($c*nb+Bb*nd)/Wc;Bb=(-$c*Bb+nb*nd)/Wc;nb=fd-Ub;Wc=uc-jc;Ub=Zc-Ub;jc=Bb-jc;nb*nb+Wc*Wc>Ub*Ub+jc*jc&&(fd=Zc,uc=Bb);return{cx:fd,cy:uc,x01:-Hc,y01:-Db,x11:fd*(zc/Dc-1),y11:uc*(zc/Dc-
1)}}function d(nb){return"object"===typeof nb&&"length"in nb?nb:Array.from(nb)}function f(nb){this._context=nb}function a(nb){return new f(nb)}function e(nb){return nb[0]}function p(nb){return nb[1]}function A(nb,Bb){function Ub(Db){var Hc,fd=(Db=d(Db)).length,uc,Zc=!1,$c;null==zc&&(Wc=Dc($c=m.path()));for(Hc=0;Hc<=fd;++Hc)!(Hc<fd&&jc(uc=Db[Hc],Hc,Db))===Zc&&((Zc=!Zc)?Wc.lineStart():Wc.lineEnd()),Zc&&Wc.point(+nb(uc,Hc,Db),+Bb(uc,Hc,Db));if($c)return Wc=null,$c+""||null}var jc=n(!0),zc=null,Dc=a,
Wc=null;nb="function"===typeof nb?nb:void 0===nb?e:n(nb);Bb="function"===typeof Bb?Bb:void 0===Bb?p:n(Bb);Ub.x=function(Db){return arguments.length?(nb="function"===typeof Db?Db:n(+Db),Ub):nb};Ub.y=function(Db){return arguments.length?(Bb="function"===typeof Db?Db:n(+Db),Ub):Bb};Ub.defined=function(Db){return arguments.length?(jc="function"===typeof Db?Db:n(!!Db),Ub):jc};Ub.curve=function(Db){return arguments.length?(Dc=Db,null!=zc&&(Wc=Dc(zc)),Ub):Dc};Ub.context=function(Db){return arguments.length?
(null==Db?zc=Wc=null:Wc=Dc(zc=Db),Ub):zc};return Ub}function C(nb,Bb,Ub){function jc(uc){var Zc,$c,nd=(uc=d(uc)).length,Cd,Ed=!1,Xd,$d=Array(nd),ae=Array(nd);null==Db&&(fd=Hc(Xd=m.path()));for(Zc=0;Zc<=nd;++Zc){if(!(Zc<nd&&Wc(Cd=uc[Zc],Zc,uc))===Ed)if(Ed=!Ed){var Ce=Zc;fd.areaStart();fd.lineStart()}else{fd.lineEnd();fd.lineStart();for($c=Zc-1;$c>=Ce;--$c)fd.point($d[$c],ae[$c]);fd.lineEnd();fd.areaEnd()}Ed&&($d[Zc]=+nb(Cd,Zc,uc),ae[Zc]=+Bb(Cd,Zc,uc),fd.point(Dc?+Dc(Cd,Zc,uc):$d[Zc],Ub?+Ub(Cd,Zc,uc):
ae[Zc]))}if(Xd)return fd=null,Xd+""||null}function zc(){return A().defined(Wc).curve(Hc).context(Db)}var Dc=null,Wc=n(!0),Db=null,Hc=a,fd=null;nb="function"===typeof nb?nb:void 0===nb?e:n(+nb);Bb="function"===typeof Bb?Bb:void 0===Bb?n(0):n(+Bb);Ub="function"===typeof Ub?Ub:void 0===Ub?p:n(+Ub);jc.x=function(uc){return arguments.length?(nb="function"===typeof uc?uc:n(+uc),Dc=null,jc):nb};jc.x0=function(uc){return arguments.length?(nb="function"===typeof uc?uc:n(+uc),jc):nb};jc.x1=function(uc){return arguments.length?
(Dc=null==uc?null:"function"===typeof uc?uc:n(+uc),jc):Dc};jc.y=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:n(+uc),Ub=null,jc):Bb};jc.y0=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:n(+uc),jc):Bb};jc.y1=function(uc){return arguments.length?(Ub=null==uc?null:"function"===typeof uc?uc:n(+uc),jc):Ub};jc.lineX0=jc.lineY0=function(){return zc().x(nb).y(Bb)};jc.lineY1=function(){return zc().x(nb).y(Ub)};jc.lineX1=function(){return zc().x(Dc).y(Bb)};jc.defined=
function(uc){return arguments.length?(Wc="function"===typeof uc?uc:n(!!uc),jc):Wc};jc.curve=function(uc){return arguments.length?(Hc=uc,null!=Db&&(fd=Hc(Db)),jc):Hc};jc.context=function(uc){return arguments.length?(null==uc?Db=fd=null:fd=Hc(Db=uc),jc):Db};return jc}function D(nb,Bb){return Bb<nb?-1:Bb>nb?1:Bb>=nb?0:NaN}function P(nb){return nb}function L(nb){this._curve=nb}function G(nb){function Bb(Ub){return new L(nb(Ub))}Bb._curve=nb;return Bb}function z(nb){var Bb=nb.curve;nb.angle=nb.x;delete nb.x;
nb.radius=nb.y;delete nb.y;nb.curve=function(Ub){return arguments.length?Bb(G(Ub)):Bb()._curve};return nb}function K(){return z(A().curve(nc))}function H(){var nb=C().curve(nc),Bb=nb.curve,Ub=nb.lineX0,jc=nb.lineX1,zc=nb.lineY0,Dc=nb.lineY1;nb.angle=nb.x;delete nb.x;nb.startAngle=nb.x0;delete nb.x0;nb.endAngle=nb.x1;delete nb.x1;nb.radius=nb.y;delete nb.y;nb.innerRadius=nb.y0;delete nb.y0;nb.outerRadius=nb.y1;delete nb.y1;nb.lineStartAngle=function(){return z(Ub())};delete nb.lineX0;nb.lineEndAngle=
function(){return z(jc())};delete nb.lineX1;nb.lineInnerRadius=function(){return z(zc())};delete nb.lineY0;nb.lineOuterRadius=function(){return z(Dc())};delete nb.lineY1;nb.curve=function(Wc){return arguments.length?Bb(G(Wc)):Bb()._curve};return nb}function R(nb,Bb){return[(Bb=+Bb)*Math.cos(nb-=Math.PI/2),Bb*Math.sin(nb)]}function U(nb){return nb.source}function ka(nb){return nb.target}function ba(nb){function Bb(){var Db,Hc=Cc.call(arguments),fd=Ub.apply(this,Hc),uc=jc.apply(this,Hc);Wc||(Wc=Db=
m.path());nb(Wc,+zc.apply(this,(Hc[0]=fd,Hc)),+Dc.apply(this,Hc),+zc.apply(this,(Hc[0]=uc,Hc)),+Dc.apply(this,Hc));if(Db)return Wc=null,Db+""||null}var Ub=U,jc=ka,zc=e,Dc=p,Wc=null;Bb.source=function(Db){return arguments.length?(Ub=Db,Bb):Ub};Bb.target=function(Db){return arguments.length?(jc=Db,Bb):jc};Bb.x=function(Db){return arguments.length?(zc="function"===typeof Db?Db:n(+Db),Bb):zc};Bb.y=function(Db){return arguments.length?(Dc="function"===typeof Db?Db:n(+Db),Bb):Dc};Bb.context=function(Db){return arguments.length?
(Wc=null==Db?null:Db,Bb):Wc};return Bb}function fa(nb,Bb,Ub,jc,zc){nb.moveTo(Bb,Ub);nb.bezierCurveTo(Bb=(Bb+jc)/2,Ub,Bb,zc,jc,zc)}function ja(nb,Bb,Ub,jc,zc){nb.moveTo(Bb,Ub);nb.bezierCurveTo(Bb,Ub=(Ub+zc)/2,jc,Ub,jc,zc)}function Z(nb,Bb,Ub,jc,zc){var Dc=R(Bb,Ub);Bb=R(Bb,Ub=(Ub+zc)/2);Ub=R(jc,Ub);jc=R(jc,zc);nb.moveTo(Dc[0],Dc[1]);nb.bezierCurveTo(Bb[0],Bb[1],Ub[0],Ub[1],jc[0],jc[1])}function Q(){}function q(nb,Bb,Ub){nb._context.bezierCurveTo((2*nb._x0+nb._x1)/3,(2*nb._y0+nb._y1)/3,(nb._x0+2*nb._x1)/
3,(nb._y0+2*nb._y1)/3,(nb._x0+4*nb._x1+Bb)/6,(nb._y0+4*nb._y1+Ub)/6)}function N(nb){this._context=nb}function da(nb){this._context=nb}function aa(nb){this._context=nb}function wa(nb,Bb){this._basis=new N(nb);this._beta=Bb}function ua(nb,Bb,Ub){nb._context.bezierCurveTo(nb._x1+nb._k*(nb._x2-nb._x0),nb._y1+nb._k*(nb._y2-nb._y0),nb._x2+nb._k*(nb._x1-Bb),nb._y2+nb._k*(nb._y1-Ub),nb._x2,nb._y2)}function Ea(nb,Bb){this._context=nb;this._k=(1-Bb)/6}function $a(nb,Bb){this._context=nb;this._k=(1-Bb)/6}function kb(nb,
Bb){this._context=nb;this._k=(1-Bb)/6}function ta(nb,Bb,Ub){var jc=nb._x1,zc=nb._y1,Dc=nb._x2,Wc=nb._y2;if(1E-12<nb._l01_a){var Db=2*nb._l01_2a+3*nb._l01_a*nb._l12_a+nb._l12_2a,Hc=3*nb._l01_a*(nb._l01_a+nb._l12_a);jc=(jc*Db-nb._x0*nb._l12_2a+nb._x2*nb._l01_2a)/Hc;zc=(zc*Db-nb._y0*nb._l12_2a+nb._y2*nb._l01_2a)/Hc}1E-12<nb._l23_a&&(Db=2*nb._l23_2a+3*nb._l23_a*nb._l12_a+nb._l12_2a,Hc=3*nb._l23_a*(nb._l23_a+nb._l12_a),Dc=(Dc*Db+nb._x1*nb._l23_2a-Bb*nb._l12_2a)/Hc,Wc=(Wc*Db+nb._y1*nb._l23_2a-Ub*nb._l12_2a)/
Hc);nb._context.bezierCurveTo(jc,zc,Dc,Wc,nb._x2,nb._y2)}function Ta(nb,Bb){this._context=nb;this._alpha=Bb}function Xa(nb,Bb){this._context=nb;this._alpha=Bb}function Fa(nb,Bb){this._context=nb;this._alpha=Bb}function va(nb){this._context=nb}function V(nb,Bb,Ub){var jc=nb._x1-nb._x0;Bb-=nb._x1;var zc=(nb._y1-nb._y0)/(jc||0>Bb&&-0);nb=(Ub-nb._y1)/(Bb||0>jc&&-0);return((0>zc?-1:1)+(0>nb?-1:1))*Math.min(Math.abs(zc),Math.abs(nb),.5*Math.abs((zc*Bb+nb*jc)/(jc+Bb)))||0}function X(nb,Bb){var Ub=nb._x1-
nb._x0;return Ub?(3*(nb._y1-nb._y0)/Ub-Bb)/2:Bb}function ca(nb,Bb,Ub){var jc=nb._x0,zc=nb._x1,Dc=nb._y1,Wc=(zc-jc)/3;nb._context.bezierCurveTo(jc+Wc,nb._y0+Wc*Bb,zc-Wc,Dc-Wc*Ub,zc,Dc)}function ea(nb){this._context=nb}function ra(nb){this._context=new qa(nb)}function qa(nb){this._context=nb}function Ha(nb){this._context=nb}function na(nb){var Bb,Ub=nb.length-1,jc=Array(Ub),zc=Array(Ub),Dc=Array(Ub);jc[0]=0;zc[0]=2;Dc[0]=nb[0]+2*nb[1];for(Bb=1;Bb<Ub-1;++Bb)jc[Bb]=1,zc[Bb]=4,Dc[Bb]=4*nb[Bb]+2*nb[Bb+
1];jc[Ub-1]=2;zc[Ub-1]=7;Dc[Ub-1]=8*nb[Ub-1]+nb[Ub];for(Bb=1;Bb<Ub;++Bb){var Wc=jc[Bb]/zc[Bb-1];zc[Bb]-=Wc;Dc[Bb]-=Wc*Dc[Bb-1]}jc[Ub-1]=Dc[Ub-1]/zc[Ub-1];for(Bb=Ub-2;0<=Bb;--Bb)jc[Bb]=(Dc[Bb]-jc[Bb+1])/zc[Bb];zc[Ub-1]=(nb[Ub]+jc[Ub-1])/2;for(Bb=0;Bb<Ub-1;++Bb)zc[Bb]=2*nb[Bb+1]-jc[Bb+1];return[jc,zc]}function Pa(nb,Bb){this._context=nb;this._t=Bb}function cb(nb,Bb){if(1<(Wc=nb.length))for(var Ub=1,jc,zc,Dc=nb[Bb[0]],Wc,Db=Dc.length;Ub<Wc;++Ub)for(zc=Dc,Dc=nb[Bb[Ub]],jc=0;jc<Db;++jc)Dc[jc][1]+=Dc[jc][0]=
isNaN(zc[jc][1])?zc[jc][0]:zc[jc][1]}function ab(nb){nb=nb.length;for(var Bb=Array(nb);0<=--nb;)Bb[nb]=nb;return Bb}function Ba(nb,Bb){return nb[Bb]}function Ga(nb){const Bb=[];Bb.key=nb;return Bb}function oa(nb){var Bb=nb.map(Ia);return ab(nb).sort(function(Ub,jc){return Bb[Ub]-Bb[jc]})}function Ia(nb){for(var Bb=-1,Ub=0,jc=nb.length,zc,Dc=-Infinity;++Bb<jc;)(zc=+nb[Bb][1])>Dc&&(Dc=zc,Ub=Bb);return Ub}function Ua(nb){var Bb=nb.map(eb);return ab(nb).sort(function(Ub,jc){return Bb[Ub]-Bb[jc]})}function eb(nb){for(var Bb=
0,Ub=-1,jc=nb.length,zc;++Ub<jc;)if(zc=+nb[Ub][1])Bb+=zc;return Bb}var Gb=Math.abs,Tb=Math.atan2,kc=Math.cos,bd=Math.max,tc=Math.min,Fc=Math.sin,mb=Math.sqrt,dc=Math.PI,Bc=dc/2,pc=2*dc,Cc=Array.prototype.slice;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(nb,Bb){nb=+nb;Bb=+Bb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(nb,Bb):this._context.moveTo(nb,Bb);break;case 1:this._point=2;default:this._context.lineTo(nb,Bb)}}};var nc=G(a);L.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(nb,Bb){this._curve.point(Bb*Math.sin(nb),Bb*-Math.cos(nb))}};var Uc={draw:function(nb,Bb){Bb=Math.sqrt(Bb/dc);nb.moveTo(Bb,0);nb.arc(0,0,Bb,0,pc)}},Tc=
{draw:function(nb,Bb){Bb=Math.sqrt(Bb/5)/2;nb.moveTo(-3*Bb,-Bb);nb.lineTo(-Bb,-Bb);nb.lineTo(-Bb,-3*Bb);nb.lineTo(Bb,-3*Bb);nb.lineTo(Bb,-Bb);nb.lineTo(3*Bb,-Bb);nb.lineTo(3*Bb,Bb);nb.lineTo(Bb,Bb);nb.lineTo(Bb,3*Bb);nb.lineTo(-Bb,3*Bb);nb.lineTo(-Bb,Bb);nb.lineTo(-3*Bb,Bb);nb.closePath()}},Kc=Math.sqrt(1/3),Fd=2*Kc,fe={draw:function(nb,Bb){Bb=Math.sqrt(Bb/Fd);var Ub=Bb*Kc;nb.moveTo(0,-Bb);nb.lineTo(Ub,0);nb.lineTo(0,Bb);nb.lineTo(-Ub,0);nb.closePath()}},vd=Math.sin(dc/10)/Math.sin(7*dc/10),Rc=Math.sin(pc/
10)*vd,Yd=-Math.cos(pc/10)*vd;vd={draw:function(nb,Bb){Bb=Math.sqrt(.8908130915292852*Bb);var Ub=Rc*Bb,jc=Yd*Bb;nb.moveTo(0,-Bb);nb.lineTo(Ub,jc);for(var zc=1;5>zc;++zc){var Dc=pc*zc/5,Wc=Math.cos(Dc);Dc=Math.sin(Dc);nb.lineTo(Dc*Bb,-Wc*Bb);nb.lineTo(Wc*Ub-Dc*jc,Dc*Ub+Wc*jc)}nb.closePath()}};var Pb={draw:function(nb,Bb){Bb=Math.sqrt(Bb);var Ub=-Bb/2;nb.rect(Ub,Ub,Bb,Bb)}},fc=Math.sqrt(3),Hb={draw:function(nb,Bb){Bb=-Math.sqrt(Bb/(3*fc));nb.moveTo(0,2*Bb);nb.lineTo(-fc*Bb,-Bb);nb.lineTo(fc*Bb,-Bb);
nb.closePath()}},yc=Math.sqrt(3)/2,Vc=1/Math.sqrt(12),Gd=3*(Vc/2+1),Wd={draw:function(nb,Bb){var Ub=Math.sqrt(Bb/Gd);Bb=Ub/2;var jc=Ub*Vc;Ub=Ub*Vc+Ub;var zc=-Bb;nb.moveTo(Bb,jc);nb.lineTo(Bb,Ub);nb.lineTo(zc,Ub);nb.lineTo(-.5*Bb-yc*jc,yc*Bb+-.5*jc);nb.lineTo(-.5*Bb-yc*Ub,yc*Bb+-.5*Ub);nb.lineTo(-.5*zc-yc*Ub,yc*zc+-.5*Ub);nb.lineTo(-.5*Bb+yc*jc,-.5*jc-yc*Bb);nb.lineTo(-.5*Bb+yc*Ub,-.5*Ub-yc*Bb);nb.lineTo(-.5*zc+yc*Ub,-.5*Ub-yc*zc);nb.closePath()}},La=[Uc,Tc,fe,Pb,vd,Hb,Wd];N.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:q(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(nb,Bb){nb=+nb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(nb,Bb):this._context.moveTo(nb,Bb);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q(this,nb,Bb)}this._x0=this._x1;this._x1=nb;this._y0=this._y1;this._y1=Bb}};da.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(nb,Bb){nb=+nb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._x2=nb;this._y2=Bb;break;case 1:this._point=2;this._x3=nb;this._y3=Bb;break;case 2:this._point=3;this._x4=nb;this._y4=Bb;this._context.moveTo((this._x0+4*this._x1+nb)/6,(this._y0+
4*this._y1+Bb)/6);break;default:q(this,nb,Bb)}this._x0=this._x1;this._x1=nb;this._y0=this._y1;this._y1=Bb}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(nb,Bb){nb=+nb;Bb=+Bb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Ub=(this._x0+4*this._x1+nb)/6,jc=(this._y0+4*this._y1+Bb)/6;this._line?this._context.lineTo(Ub,jc):this._context.moveTo(Ub,jc);break;case 3:this._point=4;default:q(this,nb,Bb)}this._x0=this._x1;this._x1=nb;this._y0=this._y1;this._y1=Bb}};wa.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var nb=this._x,Bb=this._y,Ub=nb.length-1;if(0<Ub)for(var jc=nb[0],zc=Bb[0],Dc=nb[Ub]-jc,Wc=Bb[Ub]-zc,Db=-1,Hc;++Db<=Ub;)Hc=Db/Ub,this._basis.point(this._beta*
nb[Db]+(1-this._beta)*(jc+Hc*Dc),this._beta*Bb[Db]+(1-this._beta)*(zc+Hc*Wc));this._x=this._y=null;this._basis.lineEnd()},point:function(nb,Bb){this._x.push(+nb);this._y.push(+Bb)}};var fb=function Ub(Bb){function jc(zc){return 1===Bb?new N(zc):new wa(zc,Bb)}jc.beta=function(zc){return Ub(+zc)};return jc}(.85);Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:ua(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bb,Ub){Bb=+Bb;Ub=+Ub;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,Ub):this._context.moveTo(Bb,Ub);break;case 1:this._point=2;this._x1=Bb;this._y1=Ub;break;case 2:this._point=3;default:ua(this,Bb,Ub)}this._x0=this._x1;this._x1=this._x2;this._x2=Bb;this._y0=this._y1;this._y1=this._y2;this._y2=Ub}};var wb=function jc(Ub){function zc(Dc){return new Ea(Dc,
Ub)}zc.tension=function(Dc){return jc(+Dc)};return zc}(0);$a.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Ub,jc){Ub=+Ub;jc=+jc;switch(this._point){case 0:this._point=1;this._x3=Ub;this._y3=jc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ub,this._y4=jc);break;case 2:this._point=3;this._x5=Ub;this._y5=jc;break;default:ua(this,Ub,jc)}this._x0=this._x1;this._x1=this._x2;this._x2=Ub;this._y0=this._y1;this._y1=this._y2;this._y2=jc}};var Ib=function zc(jc){function Dc(Wc){return new $a(Wc,jc)}Dc.tension=function(Wc){return zc(+Wc)};return Dc}(0);kb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(jc,zc){jc=+jc;zc=+zc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:ua(this,jc,zc)}this._x0=this._x1;this._x1=this._x2;this._x2=jc;this._y0=this._y1;this._y1=this._y2;this._y2=zc}};var Zb=function Dc(zc){function Wc(Db){return new kb(Db,zc)}Wc.tension=function(Db){return Dc(+Db)};return Wc}(0);Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(zc,Dc){zc=+zc;Dc=+Dc;if(this._point){var Wc=this._x2-zc,Db=this._y2-Dc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Wc*Wc+Db*Db,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(zc,Dc):this._context.moveTo(zc,Dc);break;case 1:this._point=
2;break;case 2:this._point=3;default:ta(this,zc,Dc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=zc;this._y0=this._y1;this._y1=this._y2;this._y2=Dc}};var ic=function Wc(Dc){function Db(Hc){return Dc?new Ta(Hc,Dc):new Ea(Hc,0)}Db.alpha=function(Hc){return Wc(+Hc)};return Db}(.5);Xa.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Dc,Wc){Dc=+Dc;Wc=+Wc;if(this._point){var Db=this._x2-Dc,Hc=this._y2-
Wc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Db*Db+Hc*Hc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Dc;this._y3=Wc;break;case 1:this._point=2;this._context.moveTo(this._x4=Dc,this._y4=Wc);break;case 2:this._point=3;this._x5=Dc;this._y5=Wc;break;default:ta(this,Dc,Wc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Dc;this._y0=this._y1;this._y1=this._y2;this._y2=Wc}};var Ac=function Db(Wc){function Hc(fd){return Wc?
new Xa(fd,Wc):new $a(fd,0)}Hc.alpha=function(fd){return Db(+fd)};return Hc}(.5);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Wc,Db){Wc=+Wc;Db=+Db;if(this._point){var Hc=
this._x2-Wc,fd=this._y2-Db;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Hc*Hc+fd*fd,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ta(this,Wc,Db)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Wc;this._y0=this._y1;this._y1=
this._y2;this._y2=Db}};var qc=function Hc(Db){function fd(uc){return Db?new Fa(uc,Db):new kb(uc,0)}fd.alpha=function(uc){return Hc(+uc)};return fd}(.5);va.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Db,Hc){Db=+Db;Hc=+Hc;this._point?this._context.lineTo(Db,Hc):(this._point=1,this._context.moveTo(Db,Hc))}};ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ca(this,this._t0,X(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Db,Hc){var fd=NaN;Db=+Db;Hc=+Hc;if(Db!==this._x1||Hc!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Db,Hc):this._context.moveTo(Db,Hc);break;case 1:this._point=2;
break;case 2:this._point=3;ca(this,X(this,fd=V(this,Db,Hc)),fd);break;default:ca(this,this._t0,fd=V(this,Db,Hc))}this._x0=this._x1;this._x1=Db;this._y0=this._y1;this._y1=Hc;this._t0=fd}}};(ra.prototype=Object.create(ea.prototype)).point=function(Db,Hc){ea.prototype.point.call(this,Hc,Db)};qa.prototype={moveTo:function(Db,Hc){this._context.moveTo(Hc,Db)},closePath:function(){this._context.closePath()},lineTo:function(Db,Hc){this._context.lineTo(Hc,Db)},bezierCurveTo:function(Db,Hc,fd,uc,Zc,$c){this._context.bezierCurveTo(Hc,
Db,uc,fd,$c,Zc)}};Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Db=this._x,Hc=this._y,fd=Db.length;if(fd)if(this._line?this._context.lineTo(Db[0],Hc[0]):this._context.moveTo(Db[0],Hc[0]),2===fd)this._context.lineTo(Db[1],Hc[1]);else for(var uc=na(Db),Zc=na(Hc),$c=0,nd=1;nd<fd;++$c,++nd)this._context.bezierCurveTo(uc[0][$c],Zc[0][$c],uc[1][$c],Zc[1][$c],Db[nd],Hc[nd]);(this._line||0!==this._line&&
1===fd)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Db,Hc){this._x.push(+Db);this._y.push(+Hc)}};Pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Db,Hc){Db=+Db;Hc=+Hc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Db,Hc):this._context.moveTo(Db,Hc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Hc),this._context.lineTo(Db,Hc);else{var fd=this._x*(1-this._t)+Db*this._t;this._context.lineTo(fd,this._y);this._context.lineTo(fd,Hc)}}this._x=Db;this._y=Hc}};g.arc=function(){function Db(){var Xd,$d=+Hc.apply(this,arguments),ae=+fd.apply(this,arguments),Ce=$c.apply(this,arguments)-
Bc,me=nd.apply(this,arguments)-Bc,ff=Gb(me-Ce),Ze=me>Ce;Ed||(Ed=Xd=m.path());if(ae<$d){var hf=ae;ae=$d;$d=hf}if(1E-12<ae)if(ff>pc-1E-12)Ed.moveTo(ae*kc(Ce),ae*Fc(Ce)),Ed.arc(0,0,ae,Ce,me,!Ze),1E-12<$d&&(Ed.moveTo($d*kc(me),$d*Fc(me)),Ed.arc(0,0,$d,me,Ce,Ze));else{var Vd=Ce,ge=me;hf=Ce;var yf=me,Ue=ff,of=ff,le=Cd.apply(this,arguments)/2,ye=1E-12<le&&(Zc?+Zc.apply(this,arguments):mb($d*$d+ae*ae)),Mf=tc(Gb(ae-$d)/2,+uc.apply(this,arguments)),Ge=Mf,Td=Mf;if(1E-12<ye){var Zd=E(ye/$d*Fc(le));le=E(ye/ae*
Fc(le));1E-12<(Ue-=2*Zd)?(Zd*=Ze?1:-1,hf+=Zd,yf-=Zd):(Ue=0,hf=yf=(Ce+me)/2);1E-12<(of-=2*le)?(le*=Ze?1:-1,Vd+=le,ge-=le):(of=0,Vd=ge=(Ce+me)/2)}Ce=ae*kc(Vd);me=ae*Fc(Vd);Zd=$d*kc(yf);le=$d*Fc(yf);if(1E-12<Mf){var we=ae*kc(ge),nf=ae*Fc(ge),Pe=$d*kc(hf),Qd=$d*Fc(hf);if(ff=ff<dc){var Qe=Pe-Ce;ff=Qd-me;ye=Zd-we;var Yf=le-nf,Ic=Yf*Qe-ye*ff;1E-12>Ic*Ic?Qe=void 0:(Ic=(ye*(me-nf)-Yf*(Ce-we))/Ic,Qe=[Ce+Ic*Qe,me+Ic*ff]);ff=Qe}ff&&(Ge=Ce-Qe[0],Td=me-Qe[1],ff=we-Qe[0],ye=nf-Qe[1],Ge=(Ge*ff+Td*ye)/(mb(Ge*Ge+Td*
Td)*mb(ff*ff+ye*ye)),Td=1/Fc((1<Ge?0:-1>Ge?dc:Math.acos(Ge))/2),Qe=mb(Qe[0]*Qe[0]+Qe[1]*Qe[1]),Ge=tc(Mf,($d-Qe)/(Td-1)),Td=tc(Mf,(ae-Qe)/(Td+1)))}1E-12<of?1E-12<Td?(Vd=k(Pe,Qd,Ce,me,ae,Td,Ze),ge=k(we,nf,Zd,le,ae,Td,Ze),Ed.moveTo(Vd.cx+Vd.x01,Vd.cy+Vd.y01),Td<Mf?Ed.arc(Vd.cx,Vd.cy,Td,Tb(Vd.y01,Vd.x01),Tb(ge.y01,ge.x01),!Ze):(Ed.arc(Vd.cx,Vd.cy,Td,Tb(Vd.y01,Vd.x01),Tb(Vd.y11,Vd.x11),!Ze),Ed.arc(0,0,ae,Tb(Vd.cy+Vd.y11,Vd.cx+Vd.x11),Tb(ge.cy+ge.y11,ge.cx+ge.x11),!Ze),Ed.arc(ge.cx,ge.cy,Td,Tb(ge.y11,ge.x11),
Tb(ge.y01,ge.x01),!Ze))):(Ed.moveTo(Ce,me),Ed.arc(0,0,ae,Vd,ge,!Ze)):Ed.moveTo(Ce,me);1E-12<$d&&1E-12<Ue?1E-12<Ge?(Vd=k(Zd,le,we,nf,$d,-Ge,Ze),ge=k(Ce,me,Pe,Qd,$d,-Ge,Ze),Ed.lineTo(Vd.cx+Vd.x01,Vd.cy+Vd.y01),Ge<Mf?Ed.arc(Vd.cx,Vd.cy,Ge,Tb(Vd.y01,Vd.x01),Tb(ge.y01,ge.x01),!Ze):(Ed.arc(Vd.cx,Vd.cy,Ge,Tb(Vd.y01,Vd.x01),Tb(Vd.y11,Vd.x11),!Ze),Ed.arc(0,0,$d,Tb(Vd.cy+Vd.y11,Vd.cx+Vd.x11),Tb(ge.cy+ge.y11,ge.cx+ge.x11),Ze),Ed.arc(ge.cx,ge.cy,Ge,Tb(ge.y11,ge.x11),Tb(ge.y01,ge.x01),!Ze))):Ed.arc(0,0,$d,yf,
hf,Ze):Ed.lineTo(Zd,le)}else Ed.moveTo(0,0);Ed.closePath();if(Xd)return Ed=null,Xd+""||null}var Hc=O,fd=x,uc=n(0),Zc=null,$c=y,nd=v,Cd=l,Ed=null;Db.centroid=function(){var Xd=(+Hc.apply(this,arguments)+ +fd.apply(this,arguments))/2,$d=(+$c.apply(this,arguments)+ +nd.apply(this,arguments))/2-dc/2;return[kc($d)*Xd,Fc($d)*Xd]};Db.innerRadius=function(Xd){return arguments.length?(Hc="function"===typeof Xd?Xd:n(+Xd),Db):Hc};Db.outerRadius=function(Xd){return arguments.length?(fd="function"===typeof Xd?
Xd:n(+Xd),Db):fd};Db.cornerRadius=function(Xd){return arguments.length?(uc="function"===typeof Xd?Xd:n(+Xd),Db):uc};Db.padRadius=function(Xd){return arguments.length?(Zc=null==Xd?null:"function"===typeof Xd?Xd:n(+Xd),Db):Zc};Db.startAngle=function(Xd){return arguments.length?($c="function"===typeof Xd?Xd:n(+Xd),Db):$c};Db.endAngle=function(Xd){return arguments.length?(nd="function"===typeof Xd?Xd:n(+Xd),Db):nd};Db.padAngle=function(Xd){return arguments.length?(Cd="function"===typeof Xd?Xd:n(+Xd),
Db):Cd};Db.context=function(Xd){return arguments.length?(Ed=null==Xd?null:Xd,Db):Ed};return Db};g.area=C;g.areaRadial=H;g.curveBasis=function(Db){return new N(Db)};g.curveBasisClosed=function(Db){return new da(Db)};g.curveBasisOpen=function(Db){return new aa(Db)};g.curveBundle=fb;g.curveCardinal=wb;g.curveCardinalClosed=Ib;g.curveCardinalOpen=Zb;g.curveCatmullRom=ic;g.curveCatmullRomClosed=Ac;g.curveCatmullRomOpen=qc;g.curveLinear=a;g.curveLinearClosed=function(Db){return new va(Db)};g.curveMonotoneX=
function(Db){return new ea(Db)};g.curveMonotoneY=function(Db){return new ra(Db)};g.curveNatural=function(Db){return new Ha(Db)};g.curveStep=function(Db){return new Pa(Db,.5)};g.curveStepAfter=function(Db){return new Pa(Db,1)};g.curveStepBefore=function(Db){return new Pa(Db,0)};g.line=A;g.lineRadial=K;g.linkHorizontal=function(){return ba(fa)};g.linkRadial=function(){var Db=ba(Z);Db.angle=Db.x;delete Db.x;Db.radius=Db.y;delete Db.y;return Db};g.linkVertical=function(){return ba(ja)};g.pie=function(){function Db(Cd){var Ed,
Xd=(Cd=d(Cd)).length;var $d=0;var ae=Array(Xd),Ce=Array(Xd),me=+Zc.apply(this,arguments);var ff=Math.min(pc,Math.max(-pc,$c.apply(this,arguments)-me));var Ze=Math.min(Math.abs(ff)/Xd,nd.apply(this,arguments)),hf=Ze*(0>ff?-1:1),Vd;for(Ed=0;Ed<Xd;++Ed)0<(Vd=Ce[ae[Ed]=Ed]=+Hc(Cd[Ed],Ed,Cd))&&($d+=Vd);null!=fd?ae.sort(function(yf,Ue){return fd(Ce[yf],Ce[Ue])}):null!=uc&&ae.sort(function(yf,Ue){return uc(Cd[yf],Cd[Ue])});Ed=0;for(ff=$d?(ff-Xd*hf)/$d:0;Ed<Xd;++Ed,me=ge){$d=ae[Ed];Vd=Ce[$d];var ge=me+(0<
Vd?Vd*ff:0)+hf;Ce[$d]={data:Cd[$d],index:Ed,value:Vd,startAngle:me,endAngle:ge,padAngle:Ze}}return Ce}var Hc=P,fd=D,uc=null,Zc=n(0),$c=n(pc),nd=n(0);Db.value=function(Cd){return arguments.length?(Hc="function"===typeof Cd?Cd:n(+Cd),Db):Hc};Db.sortValues=function(Cd){return arguments.length?(fd=Cd,uc=null,Db):fd};Db.sort=function(Cd){return arguments.length?(uc=Cd,fd=null,Db):uc};Db.startAngle=function(Cd){return arguments.length?(Zc="function"===typeof Cd?Cd:n(+Cd),Db):Zc};Db.endAngle=function(Cd){return arguments.length?
($c="function"===typeof Cd?Cd:n(+Cd),Db):$c};Db.padAngle=function(Cd){return arguments.length?(nd="function"===typeof Cd?Cd:n(+Cd),Db):nd};return Db};g.pointRadial=R;g.radialArea=H;g.radialLine=K;g.stack=function(){function Db($c){var nd=Array.from(Hc.apply(this,arguments),Ga),Cd=nd.length,Ed=-1;for(const $d of $c){var Xd=0;for(++Ed;Xd<Cd;++Xd)(nd[Xd][Ed]=[0,+Zc($d,nd[Xd].key,Ed,$c)]).data=$d}Xd=0;for(Ed=d(fd(nd));Xd<Cd;++Xd)nd[Ed[Xd]].index=Xd;uc(nd,Ed);return nd}var Hc=n([]),fd=ab,uc=cb,Zc=Ba;Db.keys=
function($c){return arguments.length?(Hc="function"===typeof $c?$c:n(Array.from($c)),Db):Hc};Db.value=function($c){return arguments.length?(Zc="function"===typeof $c?$c:n(+$c),Db):Zc};Db.order=function($c){return arguments.length?(fd=null==$c?ab:"function"===typeof $c?$c:n(Array.from($c)),Db):fd};Db.offset=function($c){return arguments.length?(uc=null==$c?cb:$c,Db):uc};return Db};g.stackOffsetDiverging=function(Db,Hc){if(0<(Ed=Db.length))for(var fd,uc=0,Zc,$c,nd,Cd,Ed,Xd=Db[Hc[0]].length;uc<Xd;++uc)for(fd=
nd=Cd=0;fd<Ed;++fd)0<($c=(Zc=Db[Hc[fd]][uc])[1]-Zc[0])?(Zc[0]=nd,Zc[1]=nd+=$c):0>$c?(Zc[1]=Cd,Zc[0]=Cd+=$c):(Zc[0]=0,Zc[1]=$c)};g.stackOffsetExpand=function(Db,Hc){if(0<(uc=Db.length)){for(var fd,uc,Zc=0,$c=Db[0].length,nd;Zc<$c;++Zc){for(nd=fd=0;fd<uc;++fd)nd+=Db[fd][Zc][1]||0;if(nd)for(fd=0;fd<uc;++fd)Db[fd][Zc][1]/=nd}cb(Db,Hc)}};g.stackOffsetNone=cb;g.stackOffsetSilhouette=function(Db,Hc){if(0<(Zc=Db.length)){for(var fd=0,uc=Db[Hc[0]],Zc,$c=uc.length;fd<$c;++fd){for(var nd=0,Cd=0;nd<Zc;++nd)Cd+=
Db[nd][fd][1]||0;uc[fd][1]+=uc[fd][0]=-Cd/2}cb(Db,Hc)}};g.stackOffsetWiggle=function(Db,Hc){if(0<(nd=Db.length)&&0<($c=(Zc=Db[Hc[0]]).length)){for(var fd=0,uc=1,Zc,$c,nd;uc<$c;++uc){for(var Cd=0,Ed=0,Xd=0;Cd<nd;++Cd){var $d=Db[Hc[Cd]],ae=$d[uc][1]||0;$d=(ae-($d[uc-1][1]||0))/2;for(var Ce=0;Ce<Cd;++Ce){var me=Db[Hc[Ce]];$d+=(me[uc][1]||0)-(me[uc-1][1]||0)}Ed+=ae;Xd+=$d*ae}Zc[uc-1][1]+=Zc[uc-1][0]=fd;Ed&&(fd-=Xd/Ed)}Zc[uc-1][1]+=Zc[uc-1][0]=fd;cb(Db,Hc)}};g.stackOrderAppearance=oa;g.stackOrderAscending=
Ua;g.stackOrderDescending=function(Db){return Ua(Db).reverse()};g.stackOrderInsideOut=function(Db){var Hc=Db.length,fd=Db.map(eb),uc=oa(Db),Zc=0,$c=0,nd=[],Cd=[];for(Db=0;Db<Hc;++Db){var Ed=uc[Db];Zc<$c?(Zc+=fd[Ed],nd.push(Ed)):($c+=fd[Ed],Cd.push(Ed))}return Cd.reverse().concat(nd)};g.stackOrderNone=ab;g.stackOrderReverse=function(Db){return ab(Db).reverse()};g.symbol=function(Db,Hc){function fd(){var Zc;uc||(uc=Zc=m.path());Db.apply(this,arguments).draw(uc,+Hc.apply(this,arguments));if(Zc)return uc=
null,Zc+""||null}var uc=null;Db="function"===typeof Db?Db:n(Db||Uc);Hc="function"===typeof Hc?Hc:n(void 0===Hc?64:+Hc);fd.type=function(Zc){return arguments.length?(Db="function"===typeof Zc?Zc:n(Zc),fd):Db};fd.size=function(Zc){return arguments.length?(Hc="function"===typeof Zc?Zc:n(+Zc),fd):Hc};fd.context=function(Zc){return arguments.length?(uc=null==Zc?null:Zc,fd):uc};return fd};g.symbolCircle=Uc;g.symbolCross=Tc;g.symbolDiamond=fe;g.symbolSquare=Pb;g.symbolStar=vd;g.symbolTriangle=Hb;g.symbolWye=
Wd;g.symbols=La;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ja,B,qb,F){!function(g,m){"object"==typeof F&&"undefined"!=typeof qb?m(F):"function"==typeof define&&define.amd?define(["exports"],m):m((g="undefined"!=typeof globalThis?globalThis:g||self).vega={})}(this,function(g){function m(n,E){if("undefined"!=typeof document&&document.createElement){const O=document.createElement("canvas");if(O&&O.getContext)return O.width=n,O.height=E,O}return null}g.canvas=m;g.domCanvas=m;g.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(g,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(ea,ra,qa){ea.prototype=ra.prototype=qa;qa.constructor=ea}function n(ea,ra){ea=Object.create(ea.prototype);for(var qa in ra)ea[qa]=ra[qa];return ea}function E(){}function O(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function y(ea){var ra,qa;ea=(ea+
"").trim().toLowerCase();return(ra=da.exec(ea))?(qa=ra[1].length,ra=parseInt(ra[1],16),6===qa?v(ra):3===qa?new f(ra>>8&15|ra>>4&240,ra>>4&15|ra&240,(ra&15)<<4|ra&15,1):8===qa?l(ra>>24&255,ra>>16&255,ra>>8&255,(ra&255)/255):4===qa?l(ra>>12&15|ra>>8&240,ra>>8&15|ra>>4&240,ra>>4&15|ra&240,((ra&15)<<4|ra&15)/255):null):(ra=aa.exec(ea))?new f(ra[1],ra[2],ra[3],1):(ra=wa.exec(ea))?new f(255*ra[1]/100,255*ra[2]/100,255*ra[3]/100,1):(ra=ua.exec(ea))?l(ra[1],ra[2],ra[3],ra[4]):(ra=Ea.exec(ea))?l(255*ra[1]/
100,255*ra[2]/100,255*ra[3]/100,ra[4]):(ra=$a.exec(ea))?A(ra[1],ra[2]/100,ra[3]/100,1):(ra=kb.exec(ea))?A(ra[1],ra[2]/100,ra[3]/100,ra[4]):ta.hasOwnProperty(ea)?v(ta[ea]):"transparent"===ea?new f(NaN,NaN,NaN,0):null}function v(ea){return new f(ea>>16&255,ea>>8&255,ea&255,1)}function l(ea,ra,qa,Ha){0>=Ha&&(ea=ra=qa=NaN);return new f(ea,ra,qa,Ha)}function k(ea){ea instanceof E||(ea=y(ea));if(!ea)return new f;ea=ea.rgb();return new f(ea.r,ea.g,ea.b,ea.opacity)}function d(ea,ra,qa,Ha){return 1===arguments.length?
k(ea):new f(ea,ra,qa,null==Ha?1:Ha)}function f(ea,ra,qa,Ha){this.r=+ea;this.g=+ra;this.b=+qa;this.opacity=+Ha}function a(){return"#"+p(this.r)+p(this.g)+p(this.b)}function e(){var ea=this.opacity;ea=isNaN(ea)?1:Math.max(0,Math.min(1,ea));return(1===ea?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ea?")":", "+ea+")")}function p(ea){ea=Math.max(0,Math.min(255,Math.round(ea)||
0));return(16>ea?"0":"")+ea.toString(16)}function A(ea,ra,qa,Ha){0>=Ha?ea=ra=qa=NaN:0>=qa||1<=qa?ea=ra=NaN:0>=ra&&(ea=NaN);return new P(ea,ra,qa,Ha)}function C(ea){if(ea instanceof P)return new P(ea.h,ea.s,ea.l,ea.opacity);ea instanceof E||(ea=y(ea));if(!ea)return new P;if(ea instanceof P)return ea;ea=ea.rgb();var ra=ea.r/255,qa=ea.g/255,Ha=ea.b/255,na=Math.min(ra,qa,Ha),Pa=Math.max(ra,qa,Ha),cb=NaN,ab=Pa-na,Ba=(Pa+na)/2;ab?(cb=ra===Pa?(qa-Ha)/ab+6*(qa<Ha):qa===Pa?(Ha-ra)/ab+2:(ra-qa)/ab+4,ab/=.5>
Ba?Pa+na:2-Pa-na,cb*=60):ab=0<Ba&&1>Ba?0:cb;return new P(cb,ab,Ba,ea.opacity)}function D(ea,ra,qa,Ha){return 1===arguments.length?C(ea):new P(ea,ra,qa,null==Ha?1:Ha)}function P(ea,ra,qa,Ha){this.h=+ea;this.s=+ra;this.l=+qa;this.opacity=+Ha}function L(ea,ra,qa){return 255*(60>ea?ra+(qa-ra)*ea/60:180>ea?qa:240>ea?ra+(qa-ra)*(240-ea)/60:ra)}function G(ea){if(ea instanceof K)return new K(ea.l,ea.a,ea.b,ea.opacity);if(ea instanceof ja)return Z(ea);ea instanceof f||(ea=k(ea));var ra=ka(ea.r),qa=ka(ea.g),
Ha=ka(ea.b),na=H(.2225045*ra+.7168786*qa+.0606169*Ha);if(ra===qa&&qa===Ha)var Pa=ra=na;else Pa=H((.4360747*ra+.3850649*qa+.1430804*Ha)/.96422),ra=H((.0139322*ra+.0971045*qa+.7141733*Ha)/.82521);return new K(116*na-16,500*(Pa-na),200*(na-ra),ea.opacity)}function z(ea,ra,qa,Ha){return 1===arguments.length?G(ea):new K(ea,ra,qa,null==Ha?1:Ha)}function K(ea,ra,qa,Ha){this.l=+ea;this.a=+ra;this.b=+qa;this.opacity=+Ha}function H(ea){return ea>X?Math.pow(ea,1/3):ea/V+Fa}function R(ea){return ea>va?ea*ea*
ea:V*(ea-Fa)}function U(ea){return 255*(.0031308>=ea?12.92*ea:1.055*Math.pow(ea,1/2.4)-.055)}function ka(ea){return.04045>=(ea/=255)?ea/12.92:Math.pow((ea+.055)/1.055,2.4)}function ba(ea){if(ea instanceof ja)return new ja(ea.h,ea.c,ea.l,ea.opacity);ea instanceof K||(ea=G(ea));if(0===ea.a&&0===ea.b)return new ja(NaN,0<ea.l&&100>ea.l?0:NaN,ea.l,ea.opacity);var ra=Math.atan2(ea.b,ea.a)*Xa;return new ja(0>ra?ra+360:ra,Math.sqrt(ea.a*ea.a+ea.b*ea.b),ea.l,ea.opacity)}function fa(ea,ra,qa,Ha){return 1===
arguments.length?ba(ea):new ja(ea,ra,qa,null==Ha?1:Ha)}function ja(ea,ra,qa,Ha){this.h=+ea;this.c=+ra;this.l=+qa;this.opacity=+Ha}function Z(ea){if(isNaN(ea.h))return new K(ea.l,0,0,ea.opacity);var ra=ea.h*Ta;return new K(ea.l,Math.cos(ra)*ea.c,Math.sin(ra)*ea.c,ea.opacity)}function Q(ea,ra,qa,Ha){if(1===arguments.length){var na=ea;if(na instanceof q)na=new q(na.h,na.s,na.l,na.opacity);else{na instanceof f||(na=k(na));var Pa=na.g/255,cb=na.b/255,ab=(ca*cb+na.r/255*-1.7884503806-3.5172982438*Pa)/(ca+
-1.7884503806-3.5172982438);cb-=ab;var Ba=(1.97294*(Pa-ab)- -.29227*cb)/-.90649;cb=(Pa=Math.sqrt(Ba*Ba+cb*cb)/(1.97294*ab*(1-ab)))?Math.atan2(Ba,cb)*Xa-120:NaN;na=new q(0>cb?cb+360:cb,Pa,ab,na.opacity)}}else na=new q(ea,ra,qa,null==Ha?1:Ha);return na}function q(ea,ra,qa,Ha){this.h=+ea;this.s=+ra;this.l=+qa;this.opacity=+Ha}var N=1/.7,da=/^#([0-9a-f]{3,8})$/,aa=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,wa=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
ua=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ea=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,$a=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,kb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
ta={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(E,y,{copy:function(ea){return Object.assign(new this.constructor,this,ea)},displayable:function(){return this.rgb().displayable()},hex:O,formatHex:O,formatHsl:function(){return C(this).formatHsl()},formatRgb:x,toString:x});m(f,d,n(E,{brighter:function(ea){ea=null==ea?N:Math.pow(N,ea);return new f(this.r*ea,this.g*ea,this.b*ea,this.opacity)},darker:function(ea){ea=null==ea?.7:
Math.pow(.7,ea);return new f(this.r*ea,this.g*ea,this.b*ea,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:e,toString:e}));m(P,D,n(E,{brighter:function(ea){ea=null==ea?N:Math.pow(N,ea);return new P(this.h,this.s,this.l*ea,this.opacity)},darker:function(ea){ea=null==ea?.7:Math.pow(.7,ea);return new P(this.h,this.s,this.l*ea,this.opacity)},
rgb:function(){var ea=this.h%360+360*(0>this.h),ra=isNaN(ea)||isNaN(this.s)?0:this.s,qa=this.l;ra=qa+(.5>qa?qa:1-qa)*ra;qa=2*qa-ra;return new f(L(240<=ea?ea-240:ea+120,qa,ra),L(ea,qa,ra),L(120>ea?ea+240:ea-120,qa,ra),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ea=this.opacity;ea=isNaN(ea)?1:Math.max(0,Math.min(1,ea));return(1===ea?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+
"%, "+100*(this.l||0)+"%"+(1===ea?")":", "+ea+")")}}));const Ta=Math.PI/180,Xa=180/Math.PI,Fa=4/29,va=6/29,V=3*va*va,X=va*va*va;m(K,z,n(E,{brighter:function(ea){return new K(this.l+18*(null==ea?1:ea),this.a,this.b,this.opacity)},darker:function(ea){return new K(this.l-18*(null==ea?1:ea),this.a,this.b,this.opacity)},rgb:function(){var ea=(this.l+16)/116,ra=isNaN(this.a)?ea:ea+this.a/500,qa=isNaN(this.b)?ea:ea-this.b/200;ra=.96422*R(ra);ea=1*R(ea);qa=.82521*R(qa);return new f(U(3.1338561*ra-1.6168667*
ea-.4906146*qa),U(-.9787684*ra+1.9161415*ea+.033454*qa),U(.0719453*ra-.2289914*ea+1.4052427*qa),this.opacity)}}));m(ja,fa,n(E,{brighter:function(ea){return new ja(this.h,this.c,this.l+18*(null==ea?1:ea),this.opacity)},darker:function(ea){return new ja(this.h,this.c,this.l-18*(null==ea?1:ea),this.opacity)},rgb:function(){return Z(this).rgb()}}));var ca=1.78277*-.29227-.1347134789;m(q,Q,n(E,{brighter:function(ea){ea=null==ea?N:Math.pow(N,ea);return new q(this.h,this.s,this.l*ea,this.opacity)},darker:function(ea){ea=
null==ea?.7:Math.pow(.7,ea);return new q(this.h,this.s,this.l*ea,this.opacity)},rgb:function(){var ea=isNaN(this.h)?0:(this.h+120)*Ta,ra=+this.l,qa=isNaN(this.s)?0:this.s*ra*(1-ra),Ha=Math.cos(ea);ea=Math.sin(ea);return new f(255*(ra+qa*(-.14861*Ha+1.78277*ea)),255*(ra+qa*(-.29227*Ha+-.90649*ea)),255*(ra+1.97294*qa*Ha),this.opacity)}}));g.color=y;g.cubehelix=Q;g.gray=function(ea,ra){return new K(ea,0,0,null==ra?1:ra)};g.hcl=fa;g.hsl=D;g.lab=z;g.lch=function(ea,ra,qa,Ha){return 1===arguments.length?
ba(ea):new ja(qa,ra,ea,null==Ha?1:Ha)};g.rgb=d;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(32)):"function"===typeof define&&define.amd?define(["exports","d3-color"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(va,V,X,ca,ea){var ra=va*va,qa=ra*va;return((1-3*va+3*ra-qa)*V+(4-6*ra+3*qa)*X+(1+3*va+3*ra-3*qa)*ca+qa*ea)/6}function E(va){var V=va.length-1;return function(X){var ca=0>=X?X=0:1<=X?(X=1,V-1):Math.floor(X*V),ea=va[ca],ra=va[ca+1];return n((X-ca/V)*V,0<ca?
va[ca-1]:2*ea-ra,ea,ra,ca<V-1?va[ca+2]:2*ra-ea)}}function O(va){var V=va.length;return function(X){var ca=Math.floor((0>(X%=1)?++X:X)*V);return n((X-ca/V)*V,va[(ca+V-1)%V],va[ca%V],va[(ca+1)%V],va[(ca+2)%V])}}function x(va,V){return function(X){return va+X*V}}function y(va,V,X){return va=Math.pow(va,X),V=Math.pow(V,X)-va,X=1/X,function(ca){return Math.pow(va+ca*V,X)}}function v(va,V){var X=V-va;return X?x(va,180<X||-180>X?X-360*Math.round(X/360):X):ba(isNaN(va)?V:va)}function l(va){return 1===(va=
+va)?k:function(V,X){return X-V?y(V,X,va):ba(isNaN(V)?X:V)}}function k(va,V){var X=V-va;return X?x(va,X):ba(isNaN(va)?V:va)}function d(va){return function(V){var X=V.length,ca=Array(X),ea=Array(X),ra=Array(X),qa;for(qa=0;qa<X;++qa){var Ha=m.rgb(V[qa]);ca[qa]=Ha.r||0;ea[qa]=Ha.g||0;ra[qa]=Ha.b||0}ca=va(ca);ea=va(ea);ra=va(ra);Ha.opacity=1;return function(na){Ha.r=ca(na);Ha.g=ea(na);Ha.b=ra(na);return Ha+""}}}function f(va,V){V||(V=[]);var X=va?Math.min(V.length,va.length):0,ca=V.slice(),ea;return function(ra){for(ea=
0;ea<X;++ea)ca[ea]=va[ea]*(1-ra)+V[ea]*ra;return ca}}function a(va){return ArrayBuffer.isView(va)&&!(va instanceof DataView)}function e(va,V){var X=V?V.length:0,ca=va?Math.min(X,va.length):0,ea=Array(ca),ra=Array(X),qa;for(qa=0;qa<ca;++qa)ea[qa]=G(va[qa],V[qa]);for(;qa<X;++qa)ra[qa]=V[qa];return function(Ha){for(qa=0;qa<ca;++qa)ra[qa]=ea[qa](Ha);return ra}}function p(va,V){var X=new Date;return va=+va,V=+V,function(ca){return X.setTime(va*(1-ca)+V*ca),X}}function A(va,V){return va=+va,V=+V,function(X){return va*
(1-X)+V*X}}function C(va,V){var X={},ca={},ea;if(null===va||"object"!==typeof va)va={};if(null===V||"object"!==typeof V)V={};for(ea in V)ea in va?X[ea]=G(va[ea],V[ea]):ca[ea]=V[ea];return function(ra){for(ea in X)ca[ea]=X[ea](ra);return ca}}function D(va){return function(){return va}}function P(va){return function(V){return va(V)+""}}function L(va,V){var X=Q.lastIndex=q.lastIndex=0,ca,ea,ra,qa=-1,Ha=[],na=[];va+="";for(V+="";(ca=Q.exec(va))&&(ea=q.exec(V));)(ra=ea.index)>X&&(ra=V.slice(X,ra),Ha[qa]?
Ha[qa]+=ra:Ha[++qa]=ra),(ca=ca[0])===(ea=ea[0])?Ha[qa]?Ha[qa]+=ea:Ha[++qa]=ea:(Ha[++qa]=null,na.push({i:qa,x:A(ca,ea)})),X=q.lastIndex;X<V.length&&(ra=V.slice(X),Ha[qa]?Ha[qa]+=ra:Ha[++qa]=ra);return 2>Ha.length?na[0]?P(na[0].x):D(V):(V=na.length,function(Pa){for(var cb=0,ab;cb<V;++cb)Ha[(ab=na[cb]).i]=ab.x(Pa);return Ha.join("")})}function G(va,V){var X=typeof V,ca;return null==V||"boolean"===X?ba(V):("number"===X?A:"string"===X?(ca=m.color(V))?(V=ca,fa):L:V instanceof m.color?fa:V instanceof Date?
p:a(V)?f:Array.isArray(V)?e:"function"!==typeof V.valueOf&&"function"!==typeof V.toString||isNaN(V)?C:A)(va,V)}function z(va,V,X,ca,ea,ra){var qa,Ha,na;if(qa=Math.sqrt(va*va+V*V))va/=qa,V/=qa;if(na=va*X+V*ca)X-=va*na,ca-=V*na;if(Ha=Math.sqrt(X*X+ca*ca))X/=Ha,ca/=Ha,na/=Ha;va*ca<V*X&&(va=-va,V=-V,na=-na,qa=-qa);return{translateX:ea,translateY:ra,rotate:Math.atan2(V,va)*N,skewX:Math.atan(na)*N,scaleX:qa,scaleY:Ha}}function K(va,V,X,ca){function ea(Pa){return Pa.length?Pa.pop()+" ":""}function ra(Pa,
cb,ab,Ba,Ga,oa){Pa!==ab||cb!==Ba?(Ga=Ga.push("translate(",null,V,null,X),oa.push({i:Ga-4,x:A(Pa,ab)},{i:Ga-2,x:A(cb,Ba)})):(ab||Ba)&&Ga.push("translate("+ab+V+Ba+X)}function qa(Pa,cb,ab,Ba){Pa!==cb?(180<Pa-cb?cb+=360:180<cb-Pa&&(Pa+=360),Ba.push({i:ab.push(ea(ab)+"rotate(",null,ca)-2,x:A(Pa,cb)})):cb&&ab.push(ea(ab)+"rotate("+cb+ca)}function Ha(Pa,cb,ab,Ba){Pa!==cb?Ba.push({i:ab.push(ea(ab)+"skewX(",null,ca)-2,x:A(Pa,cb)}):cb&&ab.push(ea(ab)+"skewX("+cb+ca)}function na(Pa,cb,ab,Ba,Ga,oa){Pa!==ab||
cb!==Ba?(Ga=Ga.push(ea(Ga)+"scale(",null,",",null,")"),oa.push({i:Ga-4,x:A(Pa,ab)},{i:Ga-2,x:A(cb,Ba)})):1===ab&&1===Ba||Ga.push(ea(Ga)+"scale("+ab+","+Ba+")")}return function(Pa,cb){var ab=[],Ba=[];Pa=va(Pa);cb=va(cb);ra(Pa.translateX,Pa.translateY,cb.translateX,cb.translateY,ab,Ba);qa(Pa.rotate,cb.rotate,ab,Ba);Ha(Pa.skewX,cb.skewX,ab,Ba);na(Pa.scaleX,Pa.scaleY,cb.scaleX,cb.scaleY,ab,Ba);Pa=cb=null;return function(Ga){for(var oa=-1,Ia=Ba.length,Ua;++oa<Ia;)ab[(Ua=Ba[oa]).i]=Ua.x(Ga);return ab.join("")}}}
function H(va){return((va=Math.exp(va))+1/va)/2}function R(va){return function(V,X){var ca=va((V=m.hsl(V)).h,(X=m.hsl(X)).h),ea=k(V.s,X.s),ra=k(V.l,X.l),qa=k(V.opacity,X.opacity);return function(Ha){V.h=ca(Ha);V.s=ea(Ha);V.l=ra(Ha);V.opacity=qa(Ha);return V+""}}}function U(va){return function(V,X){var ca=va((V=m.hcl(V)).h,(X=m.hcl(X)).h),ea=k(V.c,X.c),ra=k(V.l,X.l),qa=k(V.opacity,X.opacity);return function(Ha){V.h=ca(Ha);V.c=ea(Ha);V.l=ra(Ha);V.opacity=qa(Ha);return V+""}}}function ka(va){return function ca(X){function ea(ra,
qa){var Ha=va((ra=m.cubehelix(ra)).h,(qa=m.cubehelix(qa)).h),na=k(ra.s,qa.s),Pa=k(ra.l,qa.l),cb=k(ra.opacity,qa.opacity);return function(ab){ra.h=Ha(ab);ra.s=na(ab);ra.l=Pa(Math.pow(ab,X));ra.opacity=cb(ab);return ra+""}}X=+X;ea.gamma=ca;return ea}(1)}var ba=va=>()=>va,fa=function X(V){function ca(ra,qa){var Ha=ea((ra=m.rgb(ra)).r,(qa=m.rgb(qa)).r),na=ea(ra.g,qa.g),Pa=ea(ra.b,qa.b),cb=k(ra.opacity,qa.opacity);return function(ab){ra.r=Ha(ab);ra.g=na(ab);ra.b=Pa(ab);ra.opacity=cb(ab);return ra+""}}
var ea=l(V);ca.gamma=X;return ca}(1),ja=d(E),Z=d(O),Q=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q=new RegExp(Q.source,"g"),N=180/Math.PI,da={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},aa,wa=K(function(V){V=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(V+"");return V.isIdentity?da:z(V.a,V.b,V.c,V.d,V.e,V.f)},"px, ","px)","deg)"),ua=K(function(V){if(null==V)return da;aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g"));aa.setAttribute("transform",
V);if(!(V=aa.transform.baseVal.consolidate()))return da;V=V.matrix;return z(V.a,V.b,V.c,V.d,V.e,V.f)},", ",")",")"),Ea=function ra(X,ca,ea){function qa(Ha,na){var Pa=Ha[0],cb=Ha[1],ab=Ha[2];Ha=na[2];var Ba=na[0]-Pa,Ga=na[1]-cb,oa=Ba*Ba+Ga*Ga;if(1E-12>oa){var Ia=Math.log(Ha/ab)/X;Ha=function(Gb){return[Pa+Gb*Ba,cb+Gb*Ga,ab*Math.exp(X*Gb*Ia)]}}else{var Ua=Math.sqrt(oa);na=(Ha*Ha-ab*ab+ea*oa)/(2*ab*ca*Ua);Ha=(Ha*Ha-ab*ab-ea*oa)/(2*Ha*ca*Ua);var eb=Math.log(Math.sqrt(na*na+1)-na);Ia=(Math.log(Math.sqrt(Ha*
Ha+1)-Ha)-eb)/X;Ha=function(Gb){Gb*=Ia;var Tb=H(eb),kc=X*Gb+eb;var bd=((kc=Math.exp(2*kc))-1)/(kc+1);var tc=eb;kc=((tc=Math.exp(tc))-1/tc)/2;bd=ab/(ca*Ua)*(Tb*bd-kc);return[Pa+bd*Ba,cb+bd*Ga,ab*Tb/H(X*Gb+eb)]}}Ha.duration=1E3*Ia*X/Math.SQRT2;return Ha}qa.rho=function(Ha){Ha=Math.max(.001,+Ha);var na=Ha*Ha;return ra(Ha,na,na*na)};return qa}(Math.SQRT2,2,4),$a=R(v),kb=R(k),ta=U(v),Ta=U(k),Xa=ka(v),Fa=ka(k);g.interpolate=G;g.interpolateArray=function(X,ca){return(a(ca)?f:e)(X,ca)};g.interpolateBasis=
E;g.interpolateBasisClosed=O;g.interpolateCubehelix=Xa;g.interpolateCubehelixLong=Fa;g.interpolateDate=p;g.interpolateDiscrete=function(X){var ca=X.length;return function(ea){return X[Math.max(0,Math.min(ca-1,Math.floor(ea*ca)))]}};g.interpolateHcl=ta;g.interpolateHclLong=Ta;g.interpolateHsl=$a;g.interpolateHslLong=kb;g.interpolateHue=function(X,ca){var ea=v(+X,+ca);return function(ra){ra=ea(ra);return ra-360*Math.floor(ra/360)}};g.interpolateLab=function(X,ca){var ea=k((X=m.lab(X)).l,(ca=m.lab(ca)).l),
ra=k(X.a,ca.a),qa=k(X.b,ca.b),Ha=k(X.opacity,ca.opacity);return function(na){X.l=ea(na);X.a=ra(na);X.b=qa(na);X.opacity=Ha(na);return X+""}};g.interpolateNumber=A;g.interpolateNumberArray=f;g.interpolateObject=C;g.interpolateRgb=fa;g.interpolateRgbBasis=ja;g.interpolateRgbBasisClosed=Z;g.interpolateRound=function(X,ca){return X=+X,ca=+ca,function(ea){return Math.round(X*(1-ea)+ca*ea)}};g.interpolateString=L;g.interpolateTransformCss=wa;g.interpolateTransformSvg=ua;g.interpolateZoom=Ea;g.piecewise=
function(X,ca){void 0===ca&&(ca=X,X=G);for(var ea=0,ra=ca.length-1,qa=ca[0],Ha=Array(0>ra?0:ra);ea<ra;)Ha[ea]=X(qa,qa=ca[++ea]);return function(na){var Pa=Math.max(0,Math.min(ra-1,Math.floor(na*=ra)));return Ha[Pa](na-Pa)}};g.quantize=function(X,ca){for(var ea=Array(ca),ra=0;ra<ca;++ra)ea[ra]=X(ra/(ca-1));return ea};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(15),B(33),B(16),B(17),B(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),m):(g=g||self,m(g.d3=g.d3||{},g.d3,g.d3,g.d3,g.d3,g.d3))})(this,function(g,m,n,E,O,x){function y(mb,dc){switch(arguments.length){case 0:break;case 1:this.range(mb);break;default:this.range(dc).domain(mb)}return this}function v(mb,dc){switch(arguments.length){case 0:break;
case 1:"function"===typeof mb?this.interpolator(mb):this.range(mb);break;default:this.domain(mb),"function"===typeof dc?this.interpolator(dc):this.range(dc)}return this}function l(){function mb(nc){var Uc=nc+"",Tc=dc.get(Uc);if(!Tc){if(Cc!==Tb)return Cc;dc.set(Uc,Tc=Bc.push(nc))}return pc[(Tc-1)%pc.length]}var dc=new Map,Bc=[],pc=[],Cc=Tb;mb.domain=function(nc){if(!arguments.length)return Bc.slice();Bc=[];dc=new Map;for(const Uc of nc){const Tc=Uc+"";dc.has(Tc)||dc.set(Tc,Bc.push(Uc))}return mb};
mb.range=function(nc){return arguments.length?(pc=Array.from(nc),mb):pc.slice()};mb.unknown=function(nc){return arguments.length?(Cc=nc,mb):Cc};mb.copy=function(){return l(Bc,pc).unknown(Cc)};y.apply(mb,arguments);return mb}function k(){function mb(){var Rc=Bc().length,Yd=nc<Cc,Pb=Yd?nc:Cc,fc=Yd?Cc:nc;Uc=(fc-Pb)/Math.max(1,Rc-Fd+2*fe);Kc&&(Uc=Math.floor(Uc));Pb+=(fc-Pb-Uc*(Rc-Fd))*vd;Tc=Uc*(1-Fd);Kc&&(Pb=Math.round(Pb),Tc=Math.round(Tc));Rc=m.range(Rc).map(function(Hb){return Pb+Uc*Hb});return pc(Yd?
Rc.reverse():Rc)}var dc=l().unknown(void 0),Bc=dc.domain,pc=dc.range,Cc=0,nc=1,Uc,Tc,Kc=!1,Fd=0,fe=0,vd=.5;delete dc.unknown;dc.domain=function(Rc){return arguments.length?(Bc(Rc),mb()):Bc()};dc.range=function(Rc){return arguments.length?([Cc,nc]=Rc,Cc=+Cc,nc=+nc,mb()):[Cc,nc]};dc.rangeRound=function(Rc){return[Cc,nc]=Rc,Cc=+Cc,nc=+nc,Kc=!0,mb()};dc.bandwidth=function(){return Tc};dc.step=function(){return Uc};dc.round=function(Rc){return arguments.length?(Kc=!!Rc,mb()):Kc};dc.padding=function(Rc){return arguments.length?
(Fd=Math.min(1,fe=+Rc),mb()):Fd};dc.paddingInner=function(Rc){return arguments.length?(Fd=Math.min(1,Rc),mb()):Fd};dc.paddingOuter=function(Rc){return arguments.length?(fe=+Rc,mb()):fe};dc.align=function(Rc){return arguments.length?(vd=Math.max(0,Math.min(1,Rc)),mb()):vd};dc.copy=function(){return k(Bc(),[Cc,nc]).round(Kc).paddingInner(Fd).paddingOuter(fe).align(vd)};return y.apply(mb(),arguments)}function d(mb){var dc=mb.copy;mb.padding=mb.paddingOuter;delete mb.paddingInner;delete mb.paddingOuter;
mb.copy=function(){return d(dc())};return mb}function f(mb){return function(){return mb}}function a(mb){return+mb}function e(mb){return mb}function p(mb,dc){return(dc-=mb=+mb)?function(Bc){return(Bc-mb)/dc}:f(isNaN(dc)?NaN:.5)}function A(mb,dc){if(mb>dc){var Bc=mb;mb=dc;dc=Bc}return function(pc){return Math.max(mb,Math.min(dc,pc))}}function C(mb,dc,Bc){var pc=mb[0];mb=mb[1];var Cc=dc[0];dc=dc[1];mb<pc?(pc=p(mb,pc),Cc=Bc(dc,Cc)):(pc=p(pc,mb),Cc=Bc(Cc,dc));return function(nc){return Cc(pc(nc))}}function D(mb,
dc,Bc){var pc=Math.min(mb.length,dc.length)-1,Cc=Array(pc),nc=Array(pc),Uc=-1;mb[pc]<mb[0]&&(mb=mb.slice().reverse(),dc=dc.slice().reverse());for(;++Uc<pc;)Cc[Uc]=p(mb[Uc],mb[Uc+1]),nc[Uc]=Bc(dc[Uc],dc[Uc+1]);return function(Tc){var Kc=m.bisect(mb,Tc,1,pc)-1;return nc[Kc](Cc[Kc](Tc))}}function P(mb,dc){return dc.domain(mb.domain()).range(mb.range()).interpolate(mb.interpolate()).clamp(mb.clamp()).unknown(mb.unknown())}function L(){function mb(){var Rc=Math.min(Bc.length,pc.length);Kc!==e&&(Kc=A(Bc[0],
Bc[Rc-1]));Fd=2<Rc?D:C;fe=vd=null;return dc}function dc(Rc){return isNaN(Rc=+Rc)?Tc:(fe||(fe=Fd(Bc.map(nc),pc,Cc)))(nc(Kc(Rc)))}var Bc=kc,pc=kc,Cc=n.interpolate,nc,Uc,Tc,Kc=e,Fd,fe,vd;dc.invert=function(Rc){return Kc(Uc((vd||(vd=Fd(pc,Bc.map(nc),n.interpolateNumber)))(Rc)))};dc.domain=function(Rc){return arguments.length?(Bc=Array.from(Rc,a),mb()):Bc.slice()};dc.range=function(Rc){return arguments.length?(pc=Array.from(Rc),mb()):pc.slice()};dc.rangeRound=function(Rc){return pc=Array.from(Rc),Cc=n.interpolateRound,
mb()};dc.clamp=function(Rc){return arguments.length?(Kc=Rc?!0:e,mb()):Kc!==e};dc.interpolate=function(Rc){return arguments.length?(Cc=Rc,mb()):Cc};dc.unknown=function(Rc){return arguments.length?(Tc=Rc,dc):Tc};return function(Rc,Yd){nc=Rc;Uc=Yd;return mb()}}function G(mb,dc,Bc,pc){Bc=m.tickStep(mb,dc,Bc);var Cc;pc=E.formatSpecifier(null==pc?",f":pc);switch(pc.type){case "s":return mb=Math.max(Math.abs(mb),Math.abs(dc)),null!=pc.precision||isNaN(Cc=E.precisionPrefix(Bc,mb))||(pc.precision=Cc),E.formatPrefix(pc,
mb);case "":case "e":case "g":case "p":case "r":null!=pc.precision||isNaN(Cc=E.precisionRound(Bc,Math.max(Math.abs(mb),Math.abs(dc))))||(pc.precision=Cc-("e"===pc.type));break;case "f":case "%":null!=pc.precision||isNaN(Cc=E.precisionFixed(Bc))||(pc.precision=Cc-2*("%"===pc.type))}return E.format(pc)}function z(mb){var dc=mb.domain;mb.ticks=function(Bc){var pc=dc();return m.ticks(pc[0],pc[pc.length-1],null==Bc?10:Bc)};mb.tickFormat=function(Bc,pc){var Cc=dc();return G(Cc[0],Cc[Cc.length-1],null==
Bc?10:Bc,pc)};mb.nice=function(Bc){null==Bc&&(Bc=10);var pc=dc(),Cc=0,nc=pc.length-1,Uc=pc[Cc],Tc=pc[nc],Kc=10;if(Tc<Uc){var Fd=Uc;Uc=Tc;Tc=Fd;Fd=Cc;Cc=nc;nc=Fd}for(;0<Kc--;){Fd=m.tickIncrement(Uc,Tc,Bc);if(Fd===fe)return pc[Cc]=Uc,pc[nc]=Tc,dc(pc);if(0<Fd)Uc=Math.floor(Uc/Fd)*Fd,Tc=Math.ceil(Tc/Fd)*Fd;else if(0>Fd)Uc=Math.ceil(Uc*Fd)/Fd,Tc=Math.floor(Tc*Fd)/Fd;else break;var fe=Fd}return mb};return mb}function K(){var mb=L()(e,e);mb.copy=function(){return P(mb,K())};y.apply(mb,arguments);return z(mb)}
function H(mb){function dc(pc){return isNaN(pc=+pc)?Bc:pc}var Bc;dc.invert=dc;dc.domain=dc.range=function(pc){return arguments.length?(mb=Array.from(pc,a),dc):mb.slice()};dc.unknown=function(pc){return arguments.length?(Bc=pc,dc):Bc};dc.copy=function(){return H(mb).unknown(Bc)};mb=arguments.length?Array.from(mb,a):[0,1];return z(dc)}function R(mb,dc){mb=mb.slice();var Bc=0,pc=mb.length-1,Cc=mb[Bc],nc=mb[pc];if(nc<Cc){var Uc=Bc;Bc=pc;pc=Uc;Uc=Cc;Cc=nc;nc=Uc}mb[Bc]=dc.floor(Cc);mb[pc]=dc.ceil(nc);return mb}
function U(mb){return Math.log(mb)}function ka(mb){return Math.exp(mb)}function ba(mb){return-Math.log(-mb)}function fa(mb){return-Math.exp(-mb)}function ja(mb){return isFinite(mb)?+("1e"+mb):0>mb?0:mb}function Z(mb){return 10===mb?ja:mb===Math.E?Math.exp:function(dc){return Math.pow(mb,dc)}}function Q(mb){return mb===Math.E?Math.log:10===mb&&Math.log10||2===mb&&Math.log2||(mb=Math.log(mb),function(dc){return Math.log(dc)/mb})}function q(mb){return function(dc){return-mb(-dc)}}function N(mb){function dc(){nc=
Q(Cc);Uc=Z(Cc);0>pc()[0]?(nc=q(nc),Uc=q(Uc),mb(ba,fa)):mb(U,ka);return Bc}var Bc=mb(U,ka),pc=Bc.domain,Cc=10,nc,Uc;Bc.base=function(Tc){return arguments.length?(Cc=+Tc,dc()):Cc};Bc.domain=function(Tc){return arguments.length?(pc(Tc),dc()):pc()};Bc.ticks=function(Tc){var Kc=pc(),Fd=Kc[0];Kc=Kc[Kc.length-1];var fe;if(fe=Kc<Fd)vd=Fd,Fd=Kc,Kc=vd;var vd=nc(Fd),Rc=nc(Kc),Yd=null==Tc?10:+Tc,Pb=[];if(!(Cc%1)&&Rc-vd<Yd){vd=Math.floor(vd);Rc=Math.ceil(Rc);if(0<Fd)for(;vd<=Rc;++vd){var fc=1;for(Tc=Uc(vd);fc<
Cc;++fc){var Hb=Tc*fc;if(!(Hb<Fd)){if(Hb>Kc)break;Pb.push(Hb)}}}else for(;vd<=Rc;++vd)for(fc=Cc-1,Tc=Uc(vd);1<=fc;--fc)if(Hb=Tc*fc,!(Hb<Fd)){if(Hb>Kc)break;Pb.push(Hb)}2*Pb.length<Yd&&(Pb=m.ticks(Fd,Kc,Yd))}else Pb=m.ticks(vd,Rc,Math.min(Rc-vd,Yd)).map(Uc);return fe?Pb.reverse():Pb};Bc.tickFormat=function(Tc,Kc){null==Kc&&(Kc=10===Cc?".0e":",");"function"!==typeof Kc&&(Kc=E.format(Kc));if(Infinity===Tc)return Kc;null==Tc&&(Tc=10);var Fd=Math.max(1,Cc*Tc/Bc.ticks().length);return function(fe){var vd=
fe/Uc(Math.round(nc(fe)));vd*Cc<Cc-.5&&(vd*=Cc);return vd<=Fd?Kc(fe):""}};Bc.nice=function(){return pc(R(pc(),{floor:function(Tc){return Uc(Math.floor(nc(Tc)))},ceil:function(Tc){return Uc(Math.ceil(nc(Tc)))}}))};return Bc}function da(){var mb=N(L()).domain([1,10]);mb.copy=function(){return P(mb,da()).base(mb.base())};y.apply(mb,arguments);return mb}function aa(mb){return function(dc){return Math.sign(dc)*Math.log1p(Math.abs(dc/mb))}}function wa(mb){return function(dc){return Math.sign(dc)*Math.expm1(Math.abs(dc))*
mb}}function ua(mb){var dc=1,Bc=mb(aa(dc),wa(dc));Bc.constant=function(pc){return arguments.length?mb(aa(dc=+pc),wa(dc)):dc};return z(Bc)}function Ea(){var mb=ua(L());mb.copy=function(){return P(mb,Ea()).constant(mb.constant())};return y.apply(mb,arguments)}function $a(mb){return function(dc){return 0>dc?-Math.pow(-dc,mb):Math.pow(dc,mb)}}function kb(mb){return 0>mb?-Math.sqrt(-mb):Math.sqrt(mb)}function ta(mb){return 0>mb?-mb*mb:mb*mb}function Ta(mb){var dc=mb(e,e),Bc=1;dc.exponent=function(pc){return arguments.length?
(Bc=+pc,1===Bc?mb(e,e):.5===Bc?mb(kb,ta):mb($a(Bc),$a(1/Bc))):Bc};return z(dc)}function Xa(){var mb=Ta(L());mb.copy=function(){return P(mb,Xa()).exponent(mb.exponent())};y.apply(mb,arguments);return mb}function Fa(mb){return Math.sign(mb)*mb*mb}function va(){function mb(nc){nc=dc(nc);nc=Math.sign(nc)*Math.sqrt(Math.abs(nc));return isNaN(nc)?Cc:pc?Math.round(nc):nc}var dc=L()(e,e),Bc=[0,1],pc=!1,Cc;mb.invert=function(nc){return dc.invert(Fa(nc))};mb.domain=function(nc){return arguments.length?(dc.domain(nc),
mb):dc.domain()};mb.range=function(nc){return arguments.length?(dc.range((Bc=Array.from(nc,a)).map(Fa)),mb):Bc.slice()};mb.rangeRound=function(nc){return mb.range(nc).round(!0)};mb.round=function(nc){return arguments.length?(pc=!!nc,mb):pc};mb.clamp=function(nc){return arguments.length?(dc.clamp(nc),mb):dc.clamp()};mb.unknown=function(nc){return arguments.length?(Cc=nc,mb):Cc};mb.copy=function(){return va(dc.domain(),Bc).round(pc).clamp(dc.clamp()).unknown(Cc)};y.apply(mb,arguments);return z(mb)}
function V(){function mb(){var Uc=0,Tc=Math.max(1,pc.length);for(Cc=Array(Tc-1);++Uc<Tc;)Cc[Uc-1]=m.quantileSorted(Bc,Uc/Tc);return dc}function dc(Uc){return isNaN(Uc=+Uc)?nc:pc[m.bisect(Cc,Uc)]}var Bc=[],pc=[],Cc=[],nc;dc.invertExtent=function(Uc){Uc=pc.indexOf(Uc);return 0>Uc?[NaN,NaN]:[0<Uc?Cc[Uc-1]:Bc[0],Uc<Cc.length?Cc[Uc]:Bc[Bc.length-1]]};dc.domain=function(Uc){if(!arguments.length)return Bc.slice();Bc=[];for(let Tc of Uc)null==Tc||isNaN(Tc=+Tc)||Bc.push(Tc);Bc.sort(m.ascending);return mb()};
dc.range=function(Uc){return arguments.length?(pc=Array.from(Uc),mb()):pc.slice()};dc.unknown=function(Uc){return arguments.length?(nc=Uc,dc):nc};dc.quantiles=function(){return Cc.slice()};dc.copy=function(){return V().domain(Bc).range(pc).unknown(nc)};return y.apply(dc,arguments)}function X(){function mb(Kc){return Kc<=Kc?Uc[m.bisect(nc,Kc,0,Cc)]:Tc}function dc(){var Kc=-1;for(nc=Array(Cc);++Kc<Cc;)nc[Kc]=((Kc+1)*pc-(Kc-Cc)*Bc)/(Cc+1);return mb}var Bc=0,pc=1,Cc=1,nc=[.5],Uc=[0,1],Tc;mb.domain=function(Kc){return arguments.length?
([Bc,pc]=Kc,Bc=+Bc,pc=+pc,dc()):[Bc,pc]};mb.range=function(Kc){return arguments.length?(Cc=(Uc=Array.from(Kc)).length-1,dc()):Uc.slice()};mb.invertExtent=function(Kc){Kc=Uc.indexOf(Kc);return 0>Kc?[NaN,NaN]:1>Kc?[Bc,nc[0]]:Kc>=Cc?[nc[Cc-1],pc]:[nc[Kc-1],nc[Kc]]};mb.unknown=function(Kc){return arguments.length?(Tc=Kc,mb):mb};mb.thresholds=function(){return nc.slice()};mb.copy=function(){return X().domain([Bc,pc]).range(Uc).unknown(Tc)};return y.apply(z(mb),arguments)}function ca(){function mb(nc){return nc<=
nc?Bc[m.bisect(dc,nc,0,Cc)]:pc}var dc=[.5],Bc=[0,1],pc,Cc=1;mb.domain=function(nc){return arguments.length?(dc=Array.from(nc),Cc=Math.min(dc.length,Bc.length-1),mb):dc.slice()};mb.range=function(nc){return arguments.length?(Bc=Array.from(nc),Cc=Math.min(dc.length,Bc.length-1),mb):Bc.slice()};mb.invertExtent=function(nc){nc=Bc.indexOf(nc);return[dc[nc-1],dc[nc]]};mb.unknown=function(nc){return arguments.length?(pc=nc,mb):pc};mb.copy=function(){return ca().domain(dc).range(Bc).unknown(pc)};return y.apply(mb,
arguments)}function ea(mb){return new Date(mb)}function ra(mb){return mb instanceof Date?+mb:+new Date(+mb)}function qa(mb,dc,Bc,pc,Cc,nc,Uc,Tc,Kc){function Fd(wb){return(Uc(wb)<wb?Pb:nc(wb)<wb?fc:Cc(wb)<wb?Hb:pc(wb)<wb?yc:dc(wb)<wb?Bc(wb)<wb?Vc:Gd:mb(wb)<wb?Wd:La)(wb)}function fe(wb,Ib,Zb){null==wb&&(wb=10);if("number"===typeof wb){var ic=Math.abs(Zb-Ib)/wb,Ac=m.bisector(function(qc){return qc[2]}).right(fb,ic);Ac===fb.length?(Ib=m.tickStep(Ib/Fc,Zb/Fc,wb),wb=mb):Ac?(Ac=fb[ic/fb[Ac-1][2]<fb[Ac][2]/
ic?Ac-1:Ac],Ib=Ac[1],wb=Ac[0]):(Ib=Math.max(m.tickStep(Ib,Zb,wb),1),wb=Tc);return wb.every(Ib)}return wb}var vd=L()(e,e),Rc=vd.invert,Yd=vd.domain,Pb=Kc(".%L"),fc=Kc(":%S"),Hb=Kc("%I:%M"),yc=Kc("%I %p"),Vc=Kc("%a %d"),Gd=Kc("%b %d"),Wd=Kc("%B"),La=Kc("%Y"),fb=[[Uc,1,1E3],[Uc,5,5E3],[Uc,15,15E3],[Uc,30,3E4],[nc,1,6E4],[nc,5,3E5],[nc,15,9E5],[nc,30,18E5],[Cc,1,36E5],[Cc,3,108E5],[Cc,6,216E5],[Cc,12,432E5],[pc,1,864E5],[pc,2,1728E5],[Bc,1,bd],[dc,1,tc],[dc,3,3*tc],[mb,1,Fc]];vd.invert=function(wb){return new Date(Rc(wb))};
vd.domain=function(wb){return arguments.length?Yd(Array.from(wb,ra)):Yd().map(ea)};vd.ticks=function(wb){var Ib=Yd(),Zb=Ib[0];Ib=Ib[Ib.length-1];var ic=Ib<Zb;if(ic){var Ac=Zb;Zb=Ib;Ib=Ac}Ac=(Ac=fe(wb,Zb,Ib))?Ac.range(Zb,Ib+1):[];return ic?Ac.reverse():Ac};vd.tickFormat=function(wb,Ib){return null==Ib?Fd:Kc(Ib)};vd.nice=function(wb){var Ib=Yd();return(wb=fe(wb,Ib[0],Ib[Ib.length-1]))?Yd(R(Ib,wb)):vd};vd.copy=function(){return P(vd,qa(mb,dc,Bc,pc,Cc,nc,Uc,Tc,Kc))};return vd}function Ha(){function mb(vd){return isNaN(vd=
+vd)?fe:Kc(0===Uc?.5:(vd=(Tc(vd)-Cc)*Uc,Fd?Math.max(0,Math.min(1,vd)):vd))}function dc(vd){return function(Rc){var Yd,Pb;return arguments.length?([Yd,Pb]=Rc,Kc=vd(Yd,Pb),mb):[Kc(0),Kc(1)]}}var Bc=0,pc=1,Cc,nc,Uc,Tc,Kc=e,Fd=!1,fe;mb.domain=function(vd){return arguments.length?([Bc,pc]=vd,Cc=Tc(Bc=+Bc),nc=Tc(pc=+pc),Uc=Cc===nc?0:1/(nc-Cc),mb):[Bc,pc]};mb.clamp=function(vd){return arguments.length?(Fd=!!vd,mb):Fd};mb.interpolator=function(vd){return arguments.length?(Kc=vd,mb):Kc};mb.range=dc(n.interpolate);
mb.rangeRound=dc(n.interpolateRound);mb.unknown=function(vd){return arguments.length?(fe=vd,mb):fe};return function(vd){Tc=vd;Cc=vd(Bc);nc=vd(pc);Uc=Cc===nc?0:1/(nc-Cc);return mb}}function na(mb,dc){return dc.domain(mb.domain()).interpolator(mb.interpolator()).clamp(mb.clamp()).unknown(mb.unknown())}function Pa(){var mb=z(Ha()(e));mb.copy=function(){return na(mb,Pa())};return v.apply(mb,arguments)}function cb(){var mb=N(Ha()).domain([1,10]);mb.copy=function(){return na(mb,cb()).base(mb.base())};return v.apply(mb,
arguments)}function ab(){var mb=ua(Ha());mb.copy=function(){return na(mb,ab()).constant(mb.constant())};return v.apply(mb,arguments)}function Ba(){var mb=Ta(Ha());mb.copy=function(){return na(mb,Ba()).exponent(mb.exponent())};return v.apply(mb,arguments)}function Ga(){function mb(pc){if(!isNaN(pc=+pc))return Bc((m.bisect(dc,pc,1)-1)/(dc.length-1))}var dc=[],Bc=e;mb.domain=function(pc){if(!arguments.length)return dc.slice();dc=[];for(let Cc of pc)null==Cc||isNaN(Cc=+Cc)||dc.push(Cc);dc.sort(m.ascending);
return mb};mb.interpolator=function(pc){return arguments.length?(Bc=pc,mb):Bc};mb.range=function(){return dc.map((pc,Cc)=>Bc(Cc/(dc.length-1)))};mb.quantiles=function(pc){return Array.from({length:pc+1},(Cc,nc)=>m.quantile(dc,nc/pc))};mb.copy=function(){return Ga(Bc).domain(dc)};return v.apply(mb,arguments)}function oa(){function mb(fc){return isNaN(fc=+fc)?Pb:(fc=.5+((fc=+Rc(fc))-Tc)*(nc*fc<nc*Tc?Fd:fe),vd(Yd?Math.max(0,Math.min(1,fc)):fc))}function dc(fc){return function(Hb){var yc,Vc,Gd;return arguments.length?
([yc,Vc,Gd]=Hb,vd=n.piecewise(fc,[yc,Vc,Gd]),mb):[vd(0),vd(.5),vd(1)]}}var Bc=0,pc=.5,Cc=1,nc=1,Uc,Tc,Kc,Fd,fe,vd=e,Rc,Yd=!1,Pb;mb.domain=function(fc){return arguments.length?([Bc,pc,Cc]=fc,Uc=Rc(Bc=+Bc),Tc=Rc(pc=+pc),Kc=Rc(Cc=+Cc),Fd=Uc===Tc?0:.5/(Tc-Uc),fe=Tc===Kc?0:.5/(Kc-Tc),nc=Tc<Uc?-1:1,mb):[Bc,pc,Cc]};mb.clamp=function(fc){return arguments.length?(Yd=!!fc,mb):Yd};mb.interpolator=function(fc){return arguments.length?(vd=fc,mb):vd};mb.range=dc(n.interpolate);mb.rangeRound=dc(n.interpolateRound);
mb.unknown=function(fc){return arguments.length?(Pb=fc,mb):Pb};return function(fc){Rc=fc;Uc=fc(Bc);Tc=fc(pc);Kc=fc(Cc);Fd=Uc===Tc?0:.5/(Tc-Uc);fe=Tc===Kc?0:.5/(Kc-Tc);nc=Tc<Uc?-1:1;return mb}}function Ia(){var mb=z(oa()(e));mb.copy=function(){return na(mb,Ia())};return v.apply(mb,arguments)}function Ua(){var mb=N(oa()).domain([.1,1,10]);mb.copy=function(){return na(mb,Ua()).base(mb.base())};return v.apply(mb,arguments)}function eb(){var mb=ua(oa());mb.copy=function(){return na(mb,eb()).constant(mb.constant())};
return v.apply(mb,arguments)}function Gb(){var mb=Ta(oa());mb.copy=function(){return na(mb,Gb()).exponent(mb.exponent())};return v.apply(mb,arguments)}const Tb=Symbol("implicit");var kc=[0,1],bd=6048E5,tc=2592E6,Fc=31536E6;g.scaleBand=k;g.scaleDiverging=Ia;g.scaleDivergingLog=Ua;g.scaleDivergingPow=Gb;g.scaleDivergingSqrt=function(){return Gb.apply(null,arguments).exponent(.5)};g.scaleDivergingSymlog=eb;g.scaleIdentity=H;g.scaleImplicit=Tb;g.scaleLinear=K;g.scaleLog=da;g.scaleOrdinal=l;g.scalePoint=
function(){return d(k.apply(null,arguments).paddingInner(1))};g.scalePow=Xa;g.scaleQuantile=V;g.scaleQuantize=X;g.scaleRadial=va;g.scaleSequential=Pa;g.scaleSequentialLog=cb;g.scaleSequentialPow=Ba;g.scaleSequentialQuantile=Ga;g.scaleSequentialSqrt=function(){return Ba.apply(null,arguments).exponent(.5)};g.scaleSequentialSymlog=ab;g.scaleSqrt=function(){return Xa.apply(null,arguments).exponent(.5)};g.scaleSymlog=Ea;g.scaleThreshold=ca;g.scaleTime=function(){return y.apply(qa(O.timeYear,O.timeMonth,
O.timeWeek,O.timeDay,O.timeHour,O.timeMinute,O.timeSecond,O.timeMillisecond,x.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};g.scaleUtc=function(){return y.apply(qa(O.utcYear,O.utcMonth,O.utcWeek,O.utcDay,O.utcHour,O.utcMinute,O.utcSecond,O.utcMillisecond,x.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};g.tickFormat=G;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(15),B(34),B(33),B(18)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.d3,g.d3,g.d3,g.vega))})(this,function(g,m,n,E,O,x){function y(V,X,ca){X=V-X+2*ca;return V?0<X?X:1:0}function v(V){return function(X){let ca=X[0];X=X[1];let ea;X<ca&&(ea=
ca,ca=X,X=ea);return[V.invert(ca),V.invert(X)]}}function l(V){return function(X){const ca=V.range();let ea=X[0];X=X[1];let ra=-1,qa;let Ha;if(X<ea){var na=ea;ea=X;X=na}na=0;for(Ha=ca.length;na<Ha;++na)ca[na]>=ea&&ca[na]<=X&&(0>ra&&(ra=na),qa=na);if(!(0>ra))return ea=V.invertExtent(ca[ra]),X=V.invertExtent(ca[qa]),[void 0===ea[0]?ea[1]:ea[0],void 0===X[1]?X[0]:X[1]]}}function k(){function V(){var Ba=ca().length;const Ga=ra[1]<ra[0],oa=ra[1-Ga],Ia=y(Ba,Pa,cb);let Ua=ra[Ga-0];qa=(oa-Ua)/(Ia||1);na&&
(qa=Math.floor(qa));Ua+=(oa-Ua-qa*(Ba-Pa))*ab;Ha=qa*(1-Pa);na&&(Ua=Math.round(Ua),Ha=Math.round(Ha));Ba=n.range(Ba).map(eb=>Ua+qa*eb);return ea(Ga?Ba.reverse():Ba)}const X=E.scaleOrdinal().unknown(void 0),ca=X.domain,ea=X.range;let ra=[0,1],qa,Ha,na=!1,Pa=0,cb=0,ab=.5;delete X.unknown;X.domain=function(Ba){return arguments.length?(ca(Ba),V()):ca()};X.range=function(Ba){return arguments.length?(ra=[+Ba[0],+Ba[1]],V()):ra.slice()};X.rangeRound=function(Ba){ra=[+Ba[0],+Ba[1]];na=!0;return V()};X.bandwidth=
function(){return Ha};X.step=function(){return qa};X.round=function(Ba){return arguments.length?(na=!!Ba,V()):na};X.padding=function(Ba){return arguments.length?(Pa=cb=Math.max(0,Math.min(1,Ba)),V()):Pa};X.paddingInner=function(Ba){return arguments.length?(Pa=Math.max(0,Math.min(1,Ba)),V()):Pa};X.paddingOuter=function(Ba){return arguments.length?(cb=Math.max(0,Math.min(1,Ba)),V()):cb};X.align=function(Ba){return arguments.length?(ab=Math.max(0,Math.min(1,Ba)),V()):ab};X.invertRange=function(Ba){if(null!=
Ba[0]&&null!=Ba[1]){var Ga=ra[1]<ra[0],oa=Ga?ea().reverse():ea(),Ia=oa.length-1,Ua=+Ba[0],eb=+Ba[1];if(Ua===Ua&&eb===eb){if(eb<Ua){var Gb=Ua;Ua=eb;eb=Gb}if(!(eb<oa[0]||Ua>ra[1-Ga]))return Ba=Math.max(0,n.bisectRight(oa,Ua)-1),eb=Ua===eb?Ba:n.bisectRight(oa,eb)-1,Ua-oa[Ba]>Ha+1E-10&&++Ba,Ga&&(Gb=Ba,Ba=Ia-eb,eb=Ia-Gb),Ba>eb?void 0:ca().slice(Ba,eb+1)}}};X.invert=function(Ba){return(Ba=X.invertRange([Ba,Ba]))?Ba[0]:Ba};X.copy=function(){return k().domain(ca()).range(ra).round(na).paddingInner(Pa).paddingOuter(cb).align(ab)};
return V()}function d(V){const X=V.copy;V.padding=V.paddingOuter;delete V.paddingInner;V.copy=function(){return d(X())};return V}function f(){function V(ea){return null==ea||ea!==ea?void 0:ca[(n.bisect(X,ea)-1)%ca.length]}let X=[],ca=[];V.domain=function(ea){return arguments.length?(X=N.call(ea,m.toNumber),V):X.slice()};V.range=function(ea){return arguments.length?(ca=da.call(ea),V):ca.slice()};V.tickFormat=function(ea,ra){return E.tickFormat(X[0],m.peek(X),null==ea?10:ea,ra)};V.copy=function(){return f().domain(V.domain()).range(V.range())};
return V}function a(V,X,ca){const ea=function(){const ra=X();ra.invertRange||(ra.invertRange=ra.invert?v(ra):ra.invertExtent?l(ra):void 0);ra.type=V;return ra};ea.metadata=m.toSet(m.array(ca));return ea}function e(V,X,ca){return 1<arguments.length?(aa[V]=a(V,X,ca),this):p(V)?aa[V]:void 0}function p(V){return m.hasOwnProperty(aa,V)}function A(V,X){return(V=aa[V])&&V.metadata[X]}function C(V){return A(V,"discrete")}function D(V){return A(V,"discretizing")}function P(V){return A(V,"log")}function L(V){return A(V,
"temporal")}function G(V,X,ca){return O.piecewise(z(X||"rgb",ca),V)}function z(V,X){V=q[K(V)];return null!=X&&V&&V.gamma?V.gamma(X):V}function K(V){return"interpolate"+V.toLowerCase().split("-").map(X=>X[0].toUpperCase()+X.slice(1)).join("")}function H(V){const X=V.length/6|0,ca=Array(X);for(let ea=0;ea<X;)ca[ea]="#"+V.slice(6*ea,6*++ea);return ca}function R(V,X){for(const ca in V)U(ca,X(V[ca]))}function U(V,X){V=V&&V.toLowerCase();return 1<arguments.length?(ua[V]=X,this):ua[V]}function ka(V,X,ca){var ea=
V.range();let ra=ea[0],qa=m.peek(ea);ea=$a;ra>qa&&(ea=qa,qa=ra,ra=ea,ea=kb);ra=Math.floor(ra);qa=Math.ceil(qa);X=X.map(Ha=>[Ha,V(Ha)]).filter(Ha=>ra<=Ha[1]&&Ha[1]<=qa).sort(ea).map(Ha=>Ha[0]);if(0<ca&&1<X.length){for(ea=[X[0],m.peek(X)];X.length>ca&&3<=X.length;)X=X.filter((Ha,na)=>!(na%2));3>X.length&&(X=ea)}return X}function ba(V,X){return V.bins?ka(V,V.bins):V.ticks?V.ticks(X):V.domain()}function fa(V,X,ca,ea,ra,qa){const Ha=X.type;let na=Ea;if("time"===Ha||"time"===ra)na=V.timeFormat(ea);else if("utc"===
Ha||"utc"===ra)na=V.utcFormat(ea);else if(P(Ha)){const Pa=V.formatFloat(ea);if(qa||X.bins)na=Pa;else{const cb=ja(X,ca,!1);na=ab=>cb(ab)?Pa(ab):""}}else X.tickFormat?(X=X.domain(),na=V.formatSpan(X[0],X[X.length-1],ca,ea)):ea&&(na=V.format(ea));return na}function ja(V,X,ca){const ea=ba(V,X),ra=V.base(),qa=Math.log(ra),Ha=Math.max(1,ra*X/ea.length);V=na=>{na/=Math.pow(ra,Math.round(Math.log(na)/qa));na*ra<ra-.5&&(na*=ra);return na<=Ha};return ca?ea.filter(V):V}function Z(V,X){V.bins?(V=V.bins,X=V.slice(0,
-1),X.max=m.peek(V),V=X):"log"===V.type?V=ja(V,X,!0):ta[V.type]?(V=V[ta[V.type]](),V=[-Infinity].concat(V),V.max=Infinity):V=ba(V,X);return V}function Q(V,X,ca,ea,ra,qa,Ha){if(Ta[X.type]&&"time"!==qa&&"utc"!==qa){{ca=X[Ta[X.type]]();qa=ca.length;Ha=1<qa?ca[1]-ca[0]:ca[0];let na;for(na=1;na<qa;++na)Ha=Math.min(Ha,ca[na]-ca[na-1]);V=V.formatSpan(0,Ha,30,ra)}}else V=fa(V,X,ca,ra,qa,Ha);return"symbol"===ea&&(ta[X.type]||X.bins)?Xa(V):"discrete"===ea?Fa(V):va(V)}var q=function(V){if(V&&V.__esModule)return V;
var X=Object.create(null);V&&Object.keys(V).forEach(function(ca){if("default"!==ca){var ea=Object.getOwnPropertyDescriptor(V,ca);Object.defineProperty(X,ca,ea.get?ea:{enumerable:!0,get:function(){return V[ca]}})}});X["default"]=V;return Object.freeze(X)}(O),N=Array.prototype.map;const da=Array.prototype.slice,aa={};e("identity",E.scaleIdentity);e("linear",E.scaleLinear,"continuous");e("log",E.scaleLog,["continuous","log"]);e("pow",E.scalePow,"continuous");e("sqrt",E.scaleSqrt,"continuous");e("symlog",
E.scaleSymlog,"continuous");e("time",E.scaleTime,["continuous","temporal"]);e("utc",E.scaleUtc,["continuous","temporal"]);e("sequential",E.scaleSequential,["continuous","interpolating"]);e("sequential-linear",E.scaleSequential,["continuous","interpolating"]);e("sequential-log",E.scaleSequentialLog,["continuous","interpolating","log"]);e("sequential-pow",E.scaleSequentialPow,["continuous","interpolating"]);e("sequential-sqrt",E.scaleSequentialSqrt,["continuous","interpolating"]);e("sequential-symlog",
E.scaleSequentialSymlog,["continuous","interpolating"]);e("diverging-linear",E.scaleDiverging,["continuous","interpolating"]);e("diverging-log",E.scaleDivergingLog,["continuous","interpolating","log"]);e("diverging-pow",E.scaleDivergingPow,["continuous","interpolating"]);e("diverging-sqrt",E.scaleDivergingSqrt,["continuous","interpolating"]);e("diverging-symlog",E.scaleDivergingSymlog,["continuous","interpolating"]);e("quantile",E.scaleQuantile,["discretizing","quantile"]);e("quantize",E.scaleQuantize,
"discretizing");e("threshold",E.scaleThreshold,"discretizing");e("bin-ordinal",f,["discrete","discretizing"]);e("ordinal",E.scaleOrdinal,"discrete");e("band",k,"discrete");e("point",function(){return d(k().paddingInner(1))},"discrete");const wa=["clamp","base","constant","exponent"],ua={};R({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},H);R({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},V=>G(H(V)));const Ea=V=>m.isArray(V)?V.map(X=>String(X)):String(V),$a=(V,X)=>V[1]-X[1],kb=(V,X)=>X[1]-V[1],ta={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Ta={["quantile"]:"quantiles",["quantize"]:"domain"},Xa=V=>(X,ca,ea)=>{ca=ea[ca+1];ea=ea.max;ea=null!=ea?ea:Infinity;ca=null!=
ca?ca:ea;X=Number.isFinite(X)?V(X):null;ca=Number.isFinite(ca)?V(ca):null;return X&&ca?X+"  "+ca:ca?"\x3c "+ca:" "+X},Fa=V=>(X,ca)=>ca?V(X):null,va=V=>X=>V(X);Object.defineProperty(g,"scaleImplicit",{enumerable:!0,get:function(){return E.scaleImplicit}});g.Band="band";g.BinOrdinal="bin-ordinal";g.DiscreteLegend="discrete";g.Diverging="diverging";g.GradientLegend="gradient";g.Identity="identity";g.Linear="linear";g.Log="log";g.Ordinal="ordinal";g.Point="point";g.Pow="pow";g.Quantile="quantile";g.Quantize=
"quantize";g.Sequential="sequential";g.Sqrt="sqrt";g.SymbolLegend="symbol";g.Symlog="symlog";g.Threshold="threshold";g.Time="time";g.UTC="utc";g.bandSpace=y;g.domainCaption=function(V,X,ca){ca=ca||{};var ea=Math.max(3,ca.maxlen||7);{var ra=ca.format;const qa=(ca=ca.formatType)||X.type;m.isString(ra)&&L(qa)&&(ra=ra.replace(/%a/g,"%A").replace(/%b/g,"%B"));V=ra||"time"!==qa?ra||"utc"!==qa?Q(V,X,5,null,ra,ca,!0):V.utcFormat("%A, %d %B %Y, %X UTC"):V.timeFormat("%A, %d %B %Y, %X")}if(D(X.type))return ea=
Z(X).slice(1).map(V),X=ea.length,`${X} boundar${1===X?"y":"ies"}: ${ea.join(", ")}`;if(C(X.type))return ra=X.domain(),X=ra.length,ea=X>ea?ra.slice(0,ea-2).map(V).join(", ")+", ending with "+ra.slice(-1).map(V):ra.map(V).join(", "),`${X} value${1===X?"":"s"}: ${ea}`;ea=X.domain();return`values from ${V(ea[0])} to ${V(m.peek(ea))}`};g.interpolate=z;g.interpolateColors=G;g.interpolateRange=function(V,X){const ca=X[0],ea=m.peek(X)-ca;return function(ra){return V(ca+ra*ea)}};g.isContinuous=function(V){return A(V,
"continuous")};g.isDiscrete=C;g.isDiscretizing=D;g.isInterpolating=function(V){return A(V,"interpolating")};g.isLogarithmic=P;g.isQuantile=function(V){return A(V,"quantile")};g.isTemporal=L;g.isValidScaleType=p;g.labelFormat=Q;g.labelFraction=function(V){var X=V.domain();const ca=X.length-1;let ea=+X[0];X=+m.peek(X);let ra=X-ea;"threshold"===V.type&&(V=ca?ra/ca:.1,ea-=V,X+=V,ra=X-ea);return qa=>(qa-ea)/ra};g.labelValues=Z;g.quantizeInterpolator=function(V,X){const ca=Array(X),ea=X+1;for(let ra=0;ra<
X;)ca[ra]=V(++ra/ea);return ca};g.scale=e;g.scaleCopy=function(V){const X=V.type;V=V.copy();V.type=X;return V};g.scaleFraction=function(V,X,ca){var ea=ca-X;let ra,qa;return ea&&Number.isFinite(ea)?(ea=(ra=V.type).indexOf("-"),ra=0>ea?ra:ra.slice(ea+1),qa=e(ra)().domain([X,ca]).range([0,1]),wa.forEach(Ha=>V[Ha]?qa[Ha](V[Ha]()):0),qa):m.constant(.5)};g.scheme=U;g.tickCount=function(V,X,ca){let ea;m.isNumber(X)&&(V.bins&&(X=Math.max(X,V.bins.length)),null!=ca&&(X=Math.min(X,Math.floor(m.span(V.domain())/
ca||1))));m.isObject(X)&&(ea=X.step,X=X.interval);m.isString(X)&&(X="time"===V.type?x.timeInterval(X):"utc"==V.type?x.utcInterval(X):m.error("Only time and utc scales accept interval strings."),ea&&(X=X.every(ea)));return X};g.tickFormat=fa;g.tickValues=ba;g.validTicks=ka;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(30),B(29),B(31),B(25),B(35)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.d3,g.d3,g.vega,g.vega,g.vega))})(this,function(g,m,n,E,O,x,y){function v(Y,pa,Qa){const Va=Y.gradient;let xb=Y.id,Rb="radial"===Va?"p_":"";xb||(xb=Y.id="gradient_"+
we++,"radial"===Va?(Y.x1=l(Y.x1,.5),Y.y1=l(Y.y1,.5),Y.r1=l(Y.r1,0),Y.x2=l(Y.x2,.5),Y.y2=l(Y.y2,.5),Y.r2=l(Y.r2,.5),Rb="p_"):(Y.x1=l(Y.x1,0),Y.y1=l(Y.y1,0),Y.x2=l(Y.x2,1),Y.y2=l(Y.y2,0)));pa[xb]=Y;return"url("+(Qa||"")+"#"+Rb+xb+")"}function l(Y,pa){return null!=Y?Y:pa}function k(Y,pa,Qa){Y=m.hasOwnProperty(nf,Y)&&nf[Y];var Va=null;Y&&(Va=Y.curve||Y[pa||"vertical"],Y.tension&&null!=Qa&&(Va=Va[Y.tension](Qa)));return Va}function d(Y){const pa=[];let Qa,Va,xb,Rb;var Yb;const oc=Y.slice().replace(Qd[0],
"###$1").split(Qd[1]).slice(1);Y=0;for(Rb=oc.length;Y<Rb;++Y){var Ec=oc[Y];var dd=Ec.slice(1).trim().replace(Qd[2],"$1###$2").replace(Qd[3],"$1###$2").split(Qd[4]);Va=Ec.charAt(0);Ec=[Va];xb=0;for(Yb=dd.length;xb<Yb;++xb)(Qa=+dd[xb])===Qa&&Ec.push(Qa);dd=Pe[Va.toLowerCase()];if(Ec.length-1>dd)for(Yb=Ec.length,xb=1,pa.push([Va].concat(Ec.slice(xb,xb+=dd))),Va="M"===Va?"L":"m"===Va?"l":Va;xb<Yb;xb+=dd)pa.push([Va].concat(Ec.slice(xb,xb+dd)));else pa.push(Ec)}return pa}function f(Y,pa,Qa,Va,xb,Rb,Yb,
oc,Ec){const dd=De.call(arguments);if(je[dd])return je[dd];var Yc=Yb*Qe;const Kd=Math.sin(Yc);Yc=Math.cos(Yc);Qa=Math.abs(Qa);Va=Math.abs(Va);var Ud=Yc*(oc-Y)*.5+Kd*(Ec-pa)*.5,pd=Yc*(Ec-pa)*.5-Kd*(oc-Y)*.5;Ud=Ud*Ud/(Qa*Qa)+pd*pd/(Va*Va);1<Ud&&(Ud=Math.sqrt(Ud),Qa*=Ud,Va*=Ud);var Bd=Yc/Qa,jd=Kd/Qa,cf=-Kd/Va,Wa=Yc/Va;Ud=Bd*oc+jd*Ec;pd=cf*oc+Wa*Ec;Bd=Bd*Y+jd*pa;jd=cf*Y+Wa*pa;cf=1/((Bd-Ud)*(Bd-Ud)+(jd-pd)*(jd-pd))-.25;0>cf&&(cf=0);Wa=Math.sqrt(cf);Rb==xb&&(Wa=-Wa);cf=.5*(Ud+Bd)-Wa*(jd-pd);Wa=.5*(pd+jd)+
Wa*(Bd-Ud);Ud=Math.atan2(pd-Wa,Ud-cf);pd=Math.atan2(jd-Wa,Bd-cf)-Ud;0>pd&&1===Rb?pd+=Ic:0<pd&&0===Rb&&(pd-=Ic);Bd=Math.ceil(Math.abs(pd/(Yf+.001)));jd=[];for(let ob=0;ob<Bd;++ob)jd[ob]=[cf,Wa,Ud+ob*pd/Bd,Ud+(ob+1)*pd/Bd,Qa,Va,Kd,Yc];return je[dd]=jd}function a(Y,pa,Qa,Va,xb,Rb){var Yb=null,oc=0,Ec=0,dd=0,Yc=0;null==Qa&&(Qa=0);null==Va&&(Va=0);null==xb&&(xb=1);null==Rb&&(Rb=xb);Y.beginPath&&Y.beginPath();for(var Kd=0,Ud=pa.length;Kd<Ud;++Kd){var pd=pa[Kd];if(1!==xb||1!==Rb){var Bd=xb;var jd=Rb;var cf=
re[0]=pd[0];if("a"===cf||"A"===cf)re[1]=Bd*pd[1],re[2]=jd*pd[2],re[3]=pd[3],re[4]=pd[4],re[5]=pd[5],re[6]=Bd*pd[6],re[7]=jd*pd[7];else if("h"===cf||"H"===cf)re[1]=Bd*pd[1];else if("v"===cf||"V"===cf)re[1]=jd*pd[1];else{cf=1;for(var Wa=pd.length;cf<Wa;++cf)re[cf]=(1==cf%2?Bd:jd)*pd[cf]}pd=re}switch(pd[0]){case "l":oc+=pd[1];Ec+=pd[2];Y.lineTo(oc+Qa,Ec+Va);break;case "L":oc=pd[1];Ec=pd[2];Y.lineTo(oc+Qa,Ec+Va);break;case "h":oc+=pd[1];Y.lineTo(oc+Qa,Ec+Va);break;case "H":oc=pd[1];Y.lineTo(oc+Qa,Ec+
Va);break;case "v":Ec+=pd[1];Y.lineTo(oc+Qa,Ec+Va);break;case "V":Ec=pd[1];Y.lineTo(oc+Qa,Ec+Va);break;case "m":oc+=pd[1];Ec+=pd[2];Y.moveTo(oc+Qa,Ec+Va);break;case "M":oc=pd[1];Ec=pd[2];Y.moveTo(oc+Qa,Ec+Va);break;case "c":Bd=oc+pd[5];jd=Ec+pd[6];dd=oc+pd[3];Yc=Ec+pd[4];Y.bezierCurveTo(oc+pd[1]+Qa,Ec+pd[2]+Va,dd+Qa,Yc+Va,Bd+Qa,jd+Va);oc=Bd;Ec=jd;break;case "C":oc=pd[5];Ec=pd[6];dd=pd[3];Yc=pd[4];Y.bezierCurveTo(pd[1]+Qa,pd[2]+Va,dd+Qa,Yc+Va,oc+Qa,Ec+Va);break;case "s":Bd=oc+pd[3];jd=Ec+pd[4];dd=
2*oc-dd;Yc=2*Ec-Yc;Y.bezierCurveTo(dd+Qa,Yc+Va,oc+pd[1]+Qa,Ec+pd[2]+Va,Bd+Qa,jd+Va);dd=oc+pd[1];Yc=Ec+pd[2];oc=Bd;Ec=jd;break;case "S":Bd=pd[3];jd=pd[4];dd=2*oc-dd;Yc=2*Ec-Yc;Y.bezierCurveTo(dd+Qa,Yc+Va,pd[1]+Qa,pd[2]+Va,Bd+Qa,jd+Va);oc=Bd;Ec=jd;dd=pd[1];Yc=pd[2];break;case "q":Bd=oc+pd[3];jd=Ec+pd[4];dd=oc+pd[1];Yc=Ec+pd[2];Y.quadraticCurveTo(dd+Qa,Yc+Va,Bd+Qa,jd+Va);oc=Bd;Ec=jd;break;case "Q":Bd=pd[3];jd=pd[4];Y.quadraticCurveTo(pd[1]+Qa,pd[2]+Va,Bd+Qa,jd+Va);oc=Bd;Ec=jd;dd=pd[1];Yc=pd[2];break;
case "t":Bd=oc+pd[1];jd=Ec+pd[2];null===Yb[0].match(/[QqTt]/)?(dd=oc,Yc=Ec):"t"===Yb[0]?(dd=2*oc-ob,Yc=2*Ec-Ab):"q"===Yb[0]&&(dd=2*oc-dd,Yc=2*Ec-Yc);var ob=dd;var Ab=Yc;Y.quadraticCurveTo(dd+Qa,Yc+Va,Bd+Qa,jd+Va);oc=Bd;Ec=jd;dd=oc+pd[1];Yc=Ec+pd[2];break;case "T":Bd=pd[1];jd=pd[2];dd=2*oc-dd;Yc=2*Ec-Yc;Y.quadraticCurveTo(dd+Qa,Yc+Va,Bd+Qa,jd+Va);oc=Bd;Ec=jd;break;case "a":e(Y,oc+Qa,Ec+Va,[pd[1],pd[2],pd[3],pd[4],pd[5],pd[6]+oc+Qa,pd[7]+Ec+Va]);oc+=pd[6];Ec+=pd[7];break;case "A":e(Y,oc+Qa,Ec+Va,[pd[1],
pd[2],pd[3],pd[4],pd[5],pd[6]+Qa,pd[7]+Va]);oc=pd[6];Ec=pd[7];break;case "z":case "Z":Y.closePath()}Yb=pd}}function e(Y,pa,Qa,Va){pa=f(Va[5],Va[6],Va[0],Va[1],Va[3],Va[4],Va[2],pa,Qa);for(Qa=0;Qa<pa.length;++Qa){a:{var xb=pa[Qa];Va=De.call(xb);if(gc[Va]){Va=gc[Va];break a}var Rb=xb[0],Yb=xb[1],oc=xb[2],Ec=xb[3],dd=xb[4],Yc=xb[5],Kd=xb[6],Ud=xb[7];xb=Ud*dd;const Bd=-Kd*Yc;dd*=Kd;Yc*=Ud;var pd=Math.cos(oc);const jd=Math.sin(oc);Kd=Math.cos(Ec);Ud=Math.sin(Ec);oc=.5*(Ec-oc);Ec=Math.sin(.5*oc);Ec=8/3*
Ec*Ec/Math.sin(oc);oc=Rb+pd-Ec*jd;pd=Yb+jd+Ec*pd;Rb+=Kd;Yb+=Ud;Ud=Rb+Ec*Ud;Kd=Yb-Ec*Kd;Va=gc[Va]=[xb*oc+Bd*pd,dd*oc+Yc*pd,xb*Ud+Bd*Kd,dd*Ud+Yc*Kd,xb*Rb+Bd*Yb,dd*Rb+Yc*Yb]}Y.bezierCurveTo(Va[0],Va[1],Va[2],Va[3],Va[4],Va[5])}}function p(Y){return m.hasOwnProperty(gf,Y)?gf[Y]:A(Y)}function A(Y){if(!m.hasOwnProperty(Hf,Y)){const pa=d(Y);Hf[Y]={draw:function(Qa,Va){a(Qa,pa,0,0,Math.sqrt(Va)/2)}}}return Hf[Y]}function C(Y){return Y.x}function D(Y){return Y.y}function P(Y){return Y.width}function L(Y){return Y.height}
function G(Y){return"function"===typeof Y?Y:()=>+Y}function z(Y,pa,Qa){return Math.max(pa,Math.min(Y,Qa))}function K(){function Y(Yc,Kd,Ud){var pd;Kd=null!=Kd?Kd:+pa.call(this,Yc);Ud=null!=Ud?Ud:+Qa.call(this,Yc);var Bd=+Va.call(this,Yc),jd=+xb.call(this,Yc),cf=Math.min(Bd,jd)/2,Wa=z(+Rb.call(this,Yc),0,cf),ob=z(+Yb.call(this,Yc),0,cf),Ab=z(+oc.call(this,Yc),0,cf);Yc=z(+Ec.call(this,Yc),0,cf);dd||(dd=pd=E.path());0>=Wa&&0>=ob&&0>=Ab&&0>=Yc?dd.rect(Kd,Ud,Bd,jd):(Bd=Kd+Bd,jd=Ud+jd,dd.moveTo(Kd+Wa,Ud),
dd.lineTo(Bd-ob,Ud),dd.bezierCurveTo(Bd-.448084975506*ob,Ud,Bd,Ud+.448084975506*ob,Bd,Ud+ob),dd.lineTo(Bd,jd-Yc),dd.bezierCurveTo(Bd,jd-.448084975506*Yc,Bd-.448084975506*Yc,jd,Bd-Yc,jd),dd.lineTo(Kd+Ab,jd),dd.bezierCurveTo(Kd+.448084975506*Ab,jd,Kd,jd-.448084975506*Ab,Kd,jd-Ab),dd.lineTo(Kd,Ud+Wa),dd.bezierCurveTo(Kd,Ud+.448084975506*Wa,Kd+.448084975506*Wa,Ud,Kd+Wa,Ud),dd.closePath());if(pd)return dd=null,pd+""||null}var pa=C,Qa=D,Va=P,xb=L,Rb=G(0),Yb=Rb,oc=Rb,Ec=Rb,dd=null;Y.x=function(Yc){return arguments.length?
(pa=G(Yc),Y):pa};Y.y=function(Yc){return arguments.length?(Qa=G(Yc),Y):Qa};Y.width=function(Yc){return arguments.length?(Va=G(Yc),Y):Va};Y.height=function(Yc){return arguments.length?(xb=G(Yc),Y):xb};Y.cornerRadius=function(Yc,Kd,Ud,pd){return arguments.length?(Rb=G(Yc),Yb=null!=Kd?G(Kd):Rb,Ec=null!=Ud?G(Ud):Rb,oc=null!=pd?G(pd):Yb,Y):Rb};Y.context=function(Yc){return arguments.length?(dd=null==Yc?null:Yc,Y):dd};return Y}function H(){function Y(Yc){var Kd,Ud=Yc.length,pd,Bd=!1,jd;null==Rb&&(Rb=jd=
E.path());for(Kd=0;Kd<=Ud;++Kd)if(!(Kd<Ud&&xb(pd=Yc[Kd],Kd,Yc))===Bd&&(Bd=!Bd)&&(Yb=0),Bd){{var cf=+pa(pd,Kd,Yc),Wa=+Qa(pd,Kd,Yc);const w=+Va(pd,Kd,Yc)/2;if(Yb){var ob=Ec-Wa,Ab=cf-oc;if(ob||Ab){var Nb=Math.sqrt(ob*ob+Ab*Ab),$b=(ob/=Nb)*dd;Nb=(Ab/=Nb)*dd;var Lc=Math.atan2(Ab,ob);Rb.moveTo(oc-$b,Ec-Nb);Rb.lineTo(cf-ob*w,Wa-Ab*w);Rb.arc(cf,Wa,w,Lc-Math.PI,Lc);Rb.lineTo(oc+$b,Ec+Nb);Rb.arc(oc,Ec,dd,Lc,Lc+Math.PI)}else Rb.arc(cf,Wa,w,0,Ic);Rb.closePath()}else Yb=1;oc=cf;Ec=Wa;dd=w}}if(jd)return Rb=null,
jd+""||null}var pa,Qa,Va,xb,Rb=null,Yb,oc,Ec,dd;Y.x=function(Yc){return arguments.length?(pa=Yc,Y):pa};Y.y=function(Yc){return arguments.length?(Qa=Yc,Y):Qa};Y.size=function(Yc){return arguments.length?(Va=Yc,Y):Va};Y.defined=function(Yc){return arguments.length?(xb=Yc,Y):xb};Y.context=function(Yc){return arguments.length?(Rb=null==Yc?null:Yc,Y):Rb};return Y}function R(Y,pa){return null!=Y?Y:pa}function U(Y){return Y.cornerRadius||Y.cornerRadiusTopLeft||Y.cornerRadiusTopRight||Y.cornerRadiusBottomRight||
Y.cornerRadiusBottomLeft}function ka(Y,pa,Qa,Va){return Za.context(Y)(pa,Qa,Va)}function ba(Y,pa,Qa){var Va=pa.clip;Y=Y._defs;pa=pa.clip_id||(pa.clip_id="clip"+Wb++);Y=Y.clipping[pa]||(Y.clipping[pa]={id:pa});m.isFunction(Va)?Y.path=Va(null):U(Qa)?Y.path=ka(null,Qa,0,0):(Y.width=Qa.width||0,Y.height=Qa.height||0);return"url(#"+pa+")"}function fa(Y){this.clear();Y&&this.union(Y)}function ja(Y){this.mark=Y;this.bounds=this.bounds||new fa}function Z(Y){ja.call(this,Y);this.items=this.items||[]}function Q(Y){this._pending=
0;this._loader=Y||x.loader()}function q(Y,pa,Qa){if(pa.stroke&&0!==pa.opacity&&0!==pa.strokeOpacity){const Va=null!=pa.strokeWidth?+pa.strokeWidth:1;Y.expand(Va+(Qa?pa.strokeJoin&&"miter"!==pa.strokeJoin?0:Va:0))}return Y}function N(Y,pa){Nc=Y;pa?(Ld=pa*Qe,Nd=Rd=Math.cos(Ld),Od=Math.sin(Ld),od=-Od):(Nd=Rd=1,Ld=Od=od=0);return ce}function da(Y,pa,Qa,Va){Qa=(Y-pa)/(Y+Qa-2*pa);0<Qa&&1>Qa&&Va(Y+(pa-Y)*Qa)}function aa(Y,pa,Qa,Va,xb){const Rb=Va-Y+3*pa-3*Qa,Yb=Y+Qa-2*pa;var oc=Y-pa;let Ec=0,dd=0;1E-14<
Math.abs(Rb)?(oc=Yb*Yb+oc*Rb,0<=oc&&(oc=Math.sqrt(oc),Ec=(-Yb+oc)/Rb,dd=(-Yb-oc)/Rb)):Ec=.5*oc/Yb;0<Ec&&1>Ec&&xb(wa(Ec,Y,pa,Qa,Va));0<dd&&1>dd&&xb(wa(dd,Y,pa,Qa,Va))}function wa(Y,pa,Qa,Va,xb){const Rb=1-Y,Yb=Rb*Rb,oc=Y*Y;return Yb*Rb*pa+3*Yb*Y*Qa+3*Rb*oc*Va+oc*Y*xb}function ua(Y){return function(pa,Qa){if(!Xe)return!0;Y(Xe,pa);zf.clear().union(pa.bounds).intersect(Qa).round();const {x1:Va,y1:xb,x2:Rb,y2:Yb}=zf;for(pa=xb;pa<=Yb;++pa)for(Qa=Va;Qa<=Rb;++Qa)if(Xe.isPointInPath(Qa,pa))return!0;return!1}}
function Ea(Y,pa){return pa.contains(Y.x||0,Y.y||0)}function $a(Y,pa){const Qa=Y.x||0,Va=Y.y||0;return pa.intersects(zf.set(Qa,Va,Qa+(Y.width||0),Va+(Y.height||0)))}function kb(Y,pa){const Qa=Y.x||0,Va=Y.y||0;return ta(pa,Qa,Va,null!=Y.x2?Y.x2:Qa,null!=Y.y2?Y.y2:Va)}function ta(Y,pa,Qa,Va,xb){const {x1:Rb,y1:Yb,x2:oc,y2:Ec}=Y;Y=Va-pa;xb-=Qa;Va=0;let dd=1,Yc,Kd,Ud,pd;for(pd=0;4>pd;++pd){0===pd&&(Yc=-Y,Kd=-(Rb-pa));1===pd&&(Yc=Y,Kd=oc-pa);2===pd&&(Yc=-xb,Kd=-(Yb-Qa));3===pd&&(Yc=xb,Kd=Ec-Qa);if(1E-10>
Math.abs(Yc)&&0>Kd)return!1;Ud=Kd/Yc;if(0>Yc){if(Ud>dd)return!1;Ud>Va&&(Va=Ud)}else if(0<Yc){if(Ud<Va)return!1;Ud<dd&&(dd=Ud)}}return!0}function Ta(Y,pa){Y.globalCompositeOperation=pa.blend||"source-over"}function Xa(Y,pa){return null==Y?pa:Y}function Fa(Y,pa){const Qa=pa.length;for(let Va=0;Va<Qa;++Va)Y.addColorStop(pa[Va].offset,pa[Va].color);return Y}function va(Y,pa,Qa){const Va=Qa.width(),xb=Qa.height();if("radial"===pa.gradient)Y=Y.createRadialGradient(Qa.x1+Xa(pa.x1,.5)*Va,Qa.y1+Xa(pa.y1,.5)*
xb,Math.max(Va,xb)*Xa(pa.r1,0),Qa.x1+Xa(pa.x2,.5)*Va,Qa.y1+Xa(pa.y2,.5)*xb,Math.max(Va,xb)*Xa(pa.r2,.5));else{const Rb=Xa(pa.x1,0),Yb=Xa(pa.y1,0),oc=Xa(pa.x2,1),Ec=Xa(pa.y2,0);if(Rb===oc||Yb===Ec||Va===xb)Y=Y.createLinearGradient(Qa.x1+Rb*Va,Qa.y1+Yb*xb,Qa.x1+oc*Va,Qa.y1+Ec*xb);else{Qa=O.canvas(Math.ceil(Va),Math.ceil(xb));const dd=Qa.getContext("2d");dd.scale(Va,xb);dd.fillStyle=Fa(dd.createLinearGradient(Rb,Yb,oc,Ec),pa.stops);dd.fillRect(0,0,Va,xb);return Y.createPattern(Qa,"no-repeat")}}return Fa(Y,
pa.stops)}function V(Y,pa,Qa){Qa*=null==pa.fillOpacity?1:pa.fillOpacity;return 0<Qa?(Y.globalAlpha=Qa,pa=(Qa=pa.fill)&&Qa.gradient?va(Y,Qa,pa.bounds):Qa,Y.fillStyle=pa,!0):!1}function X(Y,pa,Qa){var Va=null!=(Va=pa.strokeWidth)?Va:1;if(0>=Va)return!1;Qa*=null==pa.strokeOpacity?1:pa.strokeOpacity;return 0<Qa?(Y.globalAlpha=Qa,Qa=(Qa=pa.stroke)&&Qa.gradient?va(Y,Qa,pa.bounds):Qa,Y.strokeStyle=Qa,Y.lineWidth=Va,Y.lineCap=pa.strokeCap||"butt",Y.lineJoin=pa.strokeJoin||"miter",Y.miterLimit=pa.strokeMiterLimit||
10,Y.setLineDash&&(Y.setLineDash(pa.strokeDash||tf),Y.lineDashOffset=pa.strokeDashOffset||0),!0):!1}function ca(Y,pa){return Y.zindex-pa.zindex||Y.index-pa.index}function ea(Y){if(!Y.zdirty)return Y.zitems;var pa=Y.items,Qa=[],Va;var xb=0;for(Va=pa.length;xb<Va;++xb){var Rb=pa[xb];Rb.index=xb;Rb.zindex&&Qa.push(Rb)}Y.zdirty=!1;return Y.zitems=Qa.sort(ca)}function ra(Y,pa){var Qa=Y.items,Va;if(Qa&&Qa.length){var xb=ea(Y);if(xb&&xb.length){Y=0;for(Va=Qa.length;Y<Va;++Y)Qa[Y].zindex||pa(Qa[Y]);Qa=xb}Y=
0;for(Va=Qa.length;Y<Va;++Y)pa(Qa[Y])}}function qa(Y,pa){var Qa=Y.items,Va,xb;if(!Qa||!Qa.length)return null;const Rb=ea(Y);Rb&&Rb.length&&(Qa=Rb);for(xb=Qa.length;0<=--xb;)if(Va=pa(Qa[xb]))return Va;if(Qa===Rb)for(Qa=Y.items,xb=Qa.length;0<=--xb;)if(!Qa[xb].zindex&&(Va=pa(Qa[xb])))return Va;return null}function Ha(Y){return function(pa,Qa,Va){ra(Qa,xb=>{Va&&!Va.intersects(xb.bounds)||Pa(Y,pa,xb,xb)})}}function na(Y){return function(pa,Qa,Va){!Qa.items.length||Va&&!Va.intersects(Qa.bounds)||Pa(Y,
pa,Qa.items[0],Qa.items)}}function Pa(Y,pa,Qa,Va){var xb=null==Qa.opacity?1:Qa.opacity;0===xb||Y(pa,Va)||(Ta(pa,Qa),Qa.fill&&V(pa,Qa,xb)&&pa.fill(),Qa.stroke&&X(pa,Qa,xb)&&pa.stroke())}function cb(Y){Y=Y||m.truthy;return function(pa,Qa,Va,xb,Rb,Yb){Va*=pa.pixelRatio;xb*=pa.pixelRatio;return qa(Qa,oc=>{const Ec=oc.bounds;if((!Ec||Ec.contains(Rb,Yb))&&Ec&&Y(pa,oc,Va,xb,Rb,Yb))return oc})}}function ab(Y,pa){return function(Qa,Va,xb,Rb){var Yb=Array.isArray(Va)?Va[0]:Va,oc=null==pa?Yb.fill:pa,Ec=Yb.stroke&&
Qa.isPointInStroke;if(Ec){var dd=Yb.strokeWidth;Yb=Yb.strokeCap;Qa.lineWidth=null!=dd?dd:1;Qa.lineCap=null!=Yb?Yb:"butt"}return Y(Qa,Va)?!1:oc&&Qa.isPointInPath(xb,Rb)||Ec&&Qa.isPointInStroke(xb,Rb)}}function Ba(Y,pa){return"translate("+Y+","+pa+")"}function Ga(Y,pa,Qa){function Va(xb,Rb){var Yb=Rb.x||0,oc=Rb.y||0,Ec=Rb.angle||0;xb.translate(Yb,oc);Ec&&xb.rotate(Ec*=Qe);xb.beginPath();pa(xb,Rb);Ec&&xb.rotate(-Ec);xb.translate(-Yb,-oc)}return{type:Y,tag:"path",nested:!1,attr:function(xb,Rb){var Yb=
Ba(Rb.x||0,Rb.y||0)+(Rb.angle?" rotate("+(Rb.angle+")"):"");xb("transform",Yb);xb("d",pa(null,Rb))},bound:function(xb,Rb){pa(N(xb,Rb.angle),Rb);return q(xb,Rb).translate(Rb.x||0,Rb.y||0)},draw:Ha(Va),pick:cb(ab(Va)),isect:Qa||ua(Va)}}function oa(Y,pa,Qa){function Va(Rb,Yb){Rb.beginPath();pa(Rb,Yb)}const xb=ab(Va);return{type:Y,tag:"path",nested:!0,attr:function(Rb,Yb){Yb=Yb.mark.items;Yb.length&&Rb("d",pa(null,Yb))},bound:function(Rb,Yb){Yb=Yb.items;if(0===Yb.length)return Rb;pa(N(Rb),Yb);return q(Rb,
Yb[0])},draw:na(Va),pick:function(Rb,Yb,oc,Ec,dd,Yc){var Kd=Yb.items;Yb=Yb.bounds;if(!Kd||!Kd.length||Yb&&!Yb.contains(dd,Yc))return null;oc*=Rb.pixelRatio;Ec*=Rb.pixelRatio;return xb(Rb,Kd,oc,Ec)?Kd[0]:null},isect:Ea,tip:Qa}}function Ia(Y,pa){Y.beginPath();U(pa)?ka(Y,pa,0,0):Y.rect(0,0,pa.width||0,pa.height||0);Y.clip()}function Ua(Y){const pa=Xa(Y.strokeWidth,1);return null!=Y.strokeOffset?Y.strokeOffset:Y.stroke&&.5<pa&&1.5>pa?.5-Math.abs(pa-1):0}function eb(Y,pa,Qa,Va){const xb=Ua(pa);Y.beginPath();
ka(Y,pa,(Qa||0)+xb,(Va||0)+xb)}function Gb(Y,pa){var Qa=Y.image;if(!Qa||Y.url&&Y.url!==Qa.url)Qa={complete:!1,width:0,height:0},pa.loadImage(Y.url).then(Va=>{Y.image=Va;Y.image.url=Y.url});return Qa}function Tb(Y,pa){return null!=Y.width?Y.width:pa&&pa.width?!1!==Y.aspect&&Y.height?Y.height*pa.width/pa.height:pa.width:0}function kc(Y,pa){return null!=Y.height?Y.height:pa&&pa.height?!1!==Y.aspect&&Y.width?Y.width*pa.height/pa.width:pa.height:0}function bd(Y,pa){return"center"===Y?pa/2:"right"===Y?
pa:0}function tc(Y,pa){return"middle"===Y?pa/2:"bottom"===Y?pa:0}function Fc(Y,pa){var Qa=pa.path;if(null==Qa)return!0;var Va=pa.x||0,xb=pa.y||0,Rb=pa.scaleX||1,Yb=pa.scaleY||1,oc=(pa.angle||0)*Qe,Ec=pa.pathCache;Ec&&Ec.path===Qa||((pa.pathCache=Ec=d(Qa)).path=Qa);oc&&Y.rotate&&Y.translate?(Y.translate(Va,xb),Y.rotate(oc),a(Y,Ec,0,0,Rb,Yb),Y.rotate(-oc),Y.translate(-Va,-xb)):a(Y,Ec,Va,xb,Rb,Yb)}function mb(Y,pa){Y.beginPath();ka(Y,pa)}function dc(Y,pa,Qa){if(pa.stroke&&X(Y,pa,Qa)){Qa=pa.x||0;var Va=
pa.y||0;var xb=null!=pa.x2?pa.x2:Qa;pa=null!=pa.y2?pa.y2:Va;Y.beginPath();Y.moveTo(Qa,Va);Y.lineTo(xb,pa);return!0}return!1}function Bc(Y){Pd.width=Y&&Xe?Cc:pc}function pc(Y,pa){pa=Fd(Y,pa);Y=Uc(Y);return~~(.8*pa.length*Y)}function Cc(Y,pa){return 0>=Uc(Y)||!(pa=Fd(Y,pa))?0:nc(pa,Rc(Y))}function nc(Y,pa){const Qa=`(${pa}) ${Y}`;let Va=ie.get(Qa);void 0===Va&&(Xe.font=pa,Va=Xe.measureText(Y).width,ie.set(Qa,Va));return Va}function Uc(Y){return null!=Y.fontSize?+Y.fontSize||0:11}function Tc(Y){return null!=
Y.lineHeight?Y.lineHeight:Uc(Y)+2}function Kc(Y){Y=Y.lineBreak&&Y.text&&!m.isArray(Y.text)?Y.text.split(Y.lineBreak):Y.text;return m.isArray(Y)?1<Y.length?Y:Y[0]:Y}function Fd(Y,pa){pa=null==pa?"":(pa+"").trim();if(0<Y.limit&&pa.length){var Qa=+Y.limit,Va=fe(Y);if(!(Va(pa)<Qa)){var xb=Y.ellipsis||"",Rb="rtl"===Y.dir;Y=0;var Yb=pa.length;Qa-=Va(xb);if(Rb){for(;Y<Yb;)Rb=Y+Yb>>>1,Va(pa.slice(Rb))>Qa?Y=Rb+1:Yb=Rb;pa=xb+pa.slice(Y)}else{for(;Y<Yb;)Rb=1+(Y+Yb>>>1),Va(pa.slice(0,Rb))<Qa?Y=Rb:Yb=Rb-1;pa=
pa.slice(0,Y)+xb}}}return pa}function fe(Y){if(Pd.width===Cc){const pa=Rc(Y);return Qa=>nc(Qa,pa)}{const pa=Uc(Y);return Qa=>~~(.8*Qa.length*pa)}}function vd(Y,pa){Y=Y.font;return(pa&&Y?String(Y).replace(/"/g,"'"):Y)||"sans-serif"}function Rc(Y,pa){return(Y.fontStyle?Y.fontStyle+" ":"")+(Y.fontVariant?Y.fontVariant+" ":"")+(Y.fontWeight?Y.fontWeight+" ":"")+Uc(Y)+"px "+vd(Y,pa)}function Yd(Y){var pa=Y.baseline,Qa=Uc(Y);return Math.round("top"===pa?.79*Qa:"middle"===pa?.3*Qa:"bottom"===pa?-.21*Qa:
"line-top"===pa?.29*Qa+.5*Tc(Y):"line-bottom"===pa?.29*Qa-.5*Tc(Y):0)}function Pb(Y){var pa=Y.x||0,Qa=Y.y||0,Va=Y.radius||0;Va&&(Y=(Y.theta||0)-Yf,pa+=Va*Math.cos(Y),Qa+=Va*Math.sin(Y));pe.x1=pa;pe.y1=Qa;return pe}function fc(Y,pa,Qa){var Va=Pd.height(pa),xb=pa.align,Rb=Pb(pa),Yb=Rb.x1;Rb=Rb.y1;var oc=pa.dx||0,Ec=(pa.dy||0)+Yd(pa)-Math.round(.8*Va),dd=Kc(pa);m.isArray(dd)?(Va+=Tc(pa)*(dd.length-1),dd=dd.reduce((Yc,Kd)=>Math.max(Yc,Pd.width(pa,Kd)),0)):dd=Pd.width(pa,dd);"center"===xb?oc-=dd/2:"right"===
xb&&(oc-=dd);Y.set(oc+=Yb,Ec+=Rb,oc+dd,Ec+Va);if(pa.angle&&!Qa)Y.rotate(pa.angle*Qe,Yb,Rb);else if(2===Qa)return Y.rotatedPoints(pa.angle*Qe,Yb,Rb);return Y}function Hb(Y,pa,Qa){var Va=Le[Y.mark.marktype];pa=pa||Va.bound;Va.nested&&(Y=Y.mark);return pa(Y.bounds||(Y.bounds=new fa),Y,Qa)}function yc(Y,pa,Qa){var Va=Le[Y.marktype],xb=Va.bound,Rb=Y.items,Yb=Rb&&Rb.length;if(Va.nested)return Yb?Y=Rb[0]:(Of.mark=Y,Y=Of),Qa=Hb(Y,xb,Qa),pa=pa&&pa.union(Qa)||Qa;pa=pa||Y.bounds&&Y.bounds.clear()||new fa;if(Yb)for(Va=
0,Yb=Rb.length;Va<Yb;++Va)pa.union(Hb(Rb[Va],xb,Qa));return Y.bounds=pa}function Vc(Y,pa){return JSON.stringify(Y,Te,pa)}function Gd(Y){Y="string"===typeof Y?JSON.parse(Y):Y;return Wd(Y)}function Wd(Y){var pa=Y.marktype,Qa=Y.items,Va;if(Qa){var xb=0;for(Va=Qa.length;xb<Va;++xb){var Rb=pa?"mark":"group";Qa[xb][Rb]=Y;Qa[xb].zindex&&(Qa[xb][Rb].zdirty=!0);"group"===(pa||Rb)&&Wd(Qa[xb])}}pa&&yc(Y);return Y}function La(Y){arguments.length?this.root=Gd(Y):(this.root=fb({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new Z(this.root)])}function fb(Y,pa){pa={bounds:new fa,clip:!!Y.clip,group:pa,interactive:!1===Y.interactive?!1:!0,items:[],marktype:Y.marktype,name:Y.name||void 0,role:Y.role||void 0,zindex:Y.zindex||0};null!=Y.aria&&(pa.aria=Y.aria);Y.description&&(pa.description=Y.description);return pa}function wb(Y,pa,Qa){!Y&&"undefined"!==typeof document&&document.createElement&&(Y=document);return Y?Qa?Y.createElementNS(Qa,pa):Y.createElement(pa):null}function Ib(Y,pa){pa=pa.toLowerCase();
Y=Y.childNodes;for(var Qa=0,Va=Y.length;Qa<Va;++Qa)if(Y[Qa].tagName.toLowerCase()===pa)return Y[Qa]}function Zb(Y,pa,Qa,Va){pa=Y.childNodes[pa];if(!pa||pa.tagName.toLowerCase()!==Qa.toLowerCase()){var xb=pa||null;pa=wb(Y.ownerDocument,Qa,Va);Y.insertBefore(pa,xb)}return pa}function ic(Y,pa){for(var Qa=Y.childNodes,Va=Qa.length;Va>pa;)Y.removeChild(Qa[--Va]);return Y}function Ac(Y){return"mark-"+Y.marktype+(Y.role?" role-"+Y.role:"")+(Y.name?" "+Y.name:"")}function qc(Y,pa){const Qa=pa.getBoundingClientRect();
return[Y.clientX-Qa.left-(pa.clientLeft||0),Y.clientY-Qa.top-(pa.clientTop||0)]}function nb(Y,pa){this._active=null;this._handlers={};this._loader=Y||x.loader();this._tooltip=pa||Bb}function Bb(Y,pa,Qa,Va){Y.element().setAttribute("title",Va||"")}function Ub(Y){this._bgcolor=this._el=null;this._loader=new Q(Y)}function jc(Y,pa){nb.call(this,Y,pa);this._touch=this._down=null;this._first=!0;this._events={}}function zc(Y,pa){("touchstart"===pa||"touchmove"===pa||"touchend"===pa?["touchstart","touchmove",
"touchend"]:[pa]).forEach(Qa=>Dc(Y,Qa))}function Dc(Y,pa){const Qa=Y.canvas();Qa&&!Y._events[pa]&&(Y._events[pa]=1,Qa.addEventListener(pa,Y[pa]?Va=>Y[pa](Va):Va=>Y.fire(pa,Va)))}function Wc(Y,pa,Qa){return function(Va){const xb=this._active,Rb=this.pickEvent(Va);Rb!==xb&&(xb&&xb.exit||this.fire(Qa,Va),this._active=Rb,this.fire(pa,Va));this.fire(Y,Va)}}function Db(Y){return function(pa){this.fire(Y,pa);this._active=null}}function Hc(Y){Ub.call(this,Y);this._options={};this._redraw=!1;this._dirty=new fa;
this._tempb=new fa}function fd(Y,pa){nb.call(this,Y,pa);const Qa=this;Qa._hrefHandler=Ag(Qa,(Va,xb)=>{xb&&xb.href&&Qa.handleHref(Va,xb,xb.href)});Qa._tooltipHandler=Ag(Qa,(Va,xb)=>{Qa.handleTooltip(Va,xb,"mouseout"!==Va.type)})}function uc(Y,pa){var Qa=!1===pa.aria;Y("aria-hidden",Qa||void 0);if(Qa||null==pa.description)for(const Va in za)Y(za[Va],void 0);else Qa=pa.mark.marktype,Y("aria-label",pa.description),Y("role",pa.ariaRole||("group"===Qa?"graphics-object":"graphics-symbol")),Y("aria-roledescription",
pa.ariaRoleDescription||`${Qa} mark`)}function Zc(Y){return!1===Y.aria?{["aria-hidden"]:!0}:jg[Y.role]?null:xa[Y.role]?nd(Y,xa[Y.role]):$c(Y)}function $c(Y){const pa=Y.marktype,Qa="group"===pa||"text"===pa||Y.items.some(Va=>null!=Va.description&&!1!==Va.aria);return Rf(Qa?"graphics-object":"graphics-symbol",`${pa} mark container`,Y.description)}function nd(Y,pa){try{const Qa=Y.items[0],Va=pa.caption||(()=>"");return Rf(pa.role||"graphics-symbol",pa.desc,Qa.description||Va(Qa))}catch(Qa){return null}}
function Cd(Y){try{return m.array(m.peek(Y.items).items[0].text).join(" ")}catch(pa){return null}}function Ed(Y){Y=Y.map(pa=>pa+("fill"===pa||"stroke"===pa?" color":""));return 2>Y.length?Y[0]:Y.slice(0,-1).join(", ")+" and "+m.peek(Y)}function Xd(){let Y="",pa="",Qa="";const Va=[],xb=(Yb,oc)=>{null!=oc&&(pa+=` ${Yb}="${Oa(oc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Rb},Rb={open(Yb,...oc){pa&&(Y+=`${pa}>${Qa}`,pa=Qa="");Va.push(Yb);
pa="\x3c"+Yb;for(const Ec of oc)for(const dd in Ec)xb(dd,Ec[dd]);return Rb},close(){const Yb=Va.pop();Y=pa?Y+(pa+(Qa?`>${Qa}</${Yb}>`:"/\x3e")):Y+`</${Yb}>`;pa=Qa="";return Rb},attr:xb,text:Yb=>(Qa+=Oa(Yb),Rb),toString:()=>Y};return Rb}function $d(Y,pa){Y.open(pa.tagName);if(pa.hasAttributes()){var Qa=pa.attributes,Va=Qa.length;for(var xb=0;xb<Va;++xb)Y.attr(Qa[xb].name,Qa[xb].value)}if(pa.hasChildNodes())for(pa=pa.childNodes,Qa=pa.length,Va=0;Va<Qa;Va++)xb=pa[Va],3===xb.nodeType?Y.text(xb.nodeValue):
$d(Y,xb);return Y.close()}function ae(Y){Ub.call(this,Y);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Ce(Y,pa){for(;Y&&Y.dirty!==pa;Y=Y.mark.group)if(Y.dirty=pa,Y.mark&&Y.mark.dirty!==pa)Y.mark.dirty=pa;else break}function me(Y,pa,Qa){pa=pa.lastChild.previousSibling;let Va,xb=0;ra(Qa,Rb=>{Va=Y.mark(pa,Rb,Va);++xb});ic(pa,1+xb)}function ff(Y,pa,Qa,Va,xb){let Rb=Y._svg;if(!Rb){var Yb=pa.ownerDocument;Rb=wb(Yb,Va,rb);Y._svg=Rb;Y.mark&&(Rb.__data__=Y,Rb.__values__={fill:"default"},
"g"===Va&&(Va=wb(Yb,"path",rb),Rb.appendChild(Va),Va.__data__=Y,Va=wb(Yb,"g",rb),Rb.appendChild(Va),Va.__data__=Y,Yb=wb(Yb,"path",rb),Rb.appendChild(Yb),Yb.__data__=Y,Yb.__values__={fill:"default"}))}(Rb.ownerSVGElement!==xb||Rb.parentNode&&1<Rb.parentNode.childNodes.length&&Rb.previousSibling!=Qa)&&pa.insertBefore(Rb,Qa?Qa.nextSibling:pa.firstChild);return Rb}function Ze(Y,pa,Qa){if(pa!==Mb[Y]){if(Qa){var Va=zb;null!=pa?Va.setAttributeNS(Qa,Y,pa):Va.removeAttributeNS(Qa,Y)}else ge(zb,Y,pa);Mb[Y]=
pa}}function hf(Y,pa,Qa){Qa!==Mb[pa]&&(null==Qa?Y.style.removeProperty(pa):Y.style.setProperty(pa,Qa+""),Mb[pa]=Qa)}function Vd(Y,pa){for(const Qa in pa)ge(Y,Qa,pa[Qa])}function ge(Y,pa,Qa){null!=Qa?Y.setAttribute(pa,Qa):Y.removeAttribute(pa)}function yf(){let Y;return"undefined"===typeof window?"":(Y=window.location).hash?Y.href.slice(0,-Y.hash.length):Y.href}function Ue(Y){Ub.call(this,Y);this._text=null;this._defs={gradient:{},clipping:{}}}function of(Y,pa,Qa,Va,xb){if(null==pa)return Y;"bgrect"===
Va&&!1===Qa.interactive&&(Y["pointer-events"]="none");if("bgfore"===Va&&(!1===Qa.interactive&&(Y["pointer-events"]="none"),Y.display="none",null!==pa.fill))return Y;"image"===Va&&!1===pa.smooth&&(Y.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Va&&(Y["font-family"]=vd(pa),Y["font-size"]=Uc(pa)+"px",Y["font-style"]=pa.fontStyle,Y["font-variant"]=pa.fontVariant,Y["font-weight"]=pa.fontWeight);for(const Rb in gb)Qa=pa[Rb],Va=gb[Rb],("transparent"!==Qa||"fill"!==Va&&"stroke"!==
Va)&&null!=Qa&&(Qa&&Qa.gradient&&(Qa=v(Qa,xb.gradient,"")),Y[Va]=Qa);return Y}function le(Y,pa,Qa,Va){if(Y.bounds&&pa.intersects(Y.bounds)&&("group"===Y.marktype||!1!==Y.interactive&&(!Qa||Qa(Y)))){const Rb=Y.items;var xb=Y.marktype;Y=Rb.length;let Yb=0;if("group"===xb)for(;Yb<Y;++Yb)ye(Rb[Yb],pa,Qa,Va);else for(Qa=Le[xb].isect;Yb<Y;++Yb)xb=Rb[Yb],Mf(xb,pa,Qa)&&Va.push(xb)}return Va}function ye(Y,pa,Qa,Va){Qa&&Qa(Y.mark)&&Mf(Y,pa,Le.group.isect)&&Va.push(Y);const xb=Y.items,Rb=xb&&xb.length;if(Rb){const Yb=
Y.x||0;Y=Y.y||0;pa.translate(-Yb,-Y);for(let oc=0;oc<Rb;++oc)le(xb[oc],pa,Qa,Va);pa.translate(Yb,Y)}return Va}function Mf(Y,pa,Qa){const Va=Y.bounds;return pa.encloses(Va)||pa.intersects(Va)&&Qa(Y,pa)}function Ge(Y,pa,Qa){return Y===pa?!0:"path"===Qa?Td(Y,pa):Y instanceof Date&&pa instanceof Date?+Y===+pa:m.isNumber(Y)&&m.isNumber(pa)?1E-9>=Math.abs(Y-pa):Y&&pa&&(m.isObject(Y)||m.isObject(pa))?Zd(Y,pa):Y==pa}function Td(Y,pa){return Ge(d(Y),d(pa))}function Zd(Y,pa){var Qa=Object.keys(Y),Va=Object.keys(pa),
xb;if(Qa.length!==Va.length)return!1;Qa.sort();Va.sort();for(xb=Qa.length-1;0<=xb;xb--)if(Qa[xb]!=Va[xb])return!1;for(xb=Qa.length-1;0<=xb;xb--)if(Va=Qa[xb],!Ge(Y[Va],pa[Va],Va))return!1;return typeof Y===typeof pa}let we=0;const nf={basis:{curve:n.curveBasis},"basis-closed":{curve:n.curveBasisClosed},"basis-open":{curve:n.curveBasisOpen},bundle:{curve:n.curveBundle,tension:"beta",value:.85},cardinal:{curve:n.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:n.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:n.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:n.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:n.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:n.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:n.curveLinear},"linear-closed":{curve:n.curveLinearClosed},monotone:{horizontal:n.curveMonotoneY,vertical:n.curveMonotoneX},natural:{curve:n.curveNatural},step:{curve:n.curveStep},"step-after":{curve:n.curveStepAfter},
"step-before":{curve:n.curveStepBefore}},Pe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Qd=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Qe=Math.PI/180,Yf=Math.PI/2,Ic=2*Math.PI,xe=Math.sqrt(3)/2;var je={},gc={},De=[].join;const re=["l",0,0,0,0,0,0,0],gf={circle:{draw:function(Y,pa){pa=Math.sqrt(pa)/2;Y.moveTo(pa,0);Y.arc(0,0,pa,0,Ic)}},cross:{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=pa/2.5;Y.moveTo(-pa,-Qa);Y.lineTo(-pa,Qa);Y.lineTo(-Qa,Qa);Y.lineTo(-Qa,pa);Y.lineTo(Qa,
pa);Y.lineTo(Qa,Qa);Y.lineTo(pa,Qa);Y.lineTo(pa,-Qa);Y.lineTo(Qa,-Qa);Y.lineTo(Qa,-pa);Y.lineTo(-Qa,-pa);Y.lineTo(-Qa,-Qa);Y.closePath()}},diamond:{draw:function(Y,pa){pa=Math.sqrt(pa)/2;Y.moveTo(-pa,0);Y.lineTo(0,-pa);Y.lineTo(pa,0);Y.lineTo(0,pa);Y.closePath()}},square:{draw:function(Y,pa){pa=Math.sqrt(pa);var Qa=-pa/2;Y.rect(Qa,Qa,pa,pa)}},arrow:{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=pa/7,Va=pa/2.5,xb=pa/8;Y.moveTo(-Qa,pa);Y.lineTo(Qa,pa);Y.lineTo(Qa,-xb);Y.lineTo(Va,-xb);Y.lineTo(0,-pa);
Y.lineTo(-Va,-xb);Y.lineTo(-Qa,-xb);Y.closePath()}},wedge:{draw:function(Y,pa){var Qa=Math.sqrt(pa)/2;pa=xe*Qa;var Va=pa-.5773502691896257*Qa;Qa/=4;Y.moveTo(0,-pa-Va);Y.lineTo(-Qa,pa-Va);Y.lineTo(Qa,pa-Va);Y.closePath()}},triangle:{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=xe*pa,Va=Qa-.5773502691896257*pa;Y.moveTo(0,-Qa-Va);Y.lineTo(-pa,Qa-Va);Y.lineTo(pa,Qa-Va);Y.closePath()}},"triangle-up":{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=xe*pa;Y.moveTo(0,-Qa);Y.lineTo(-pa,Qa);Y.lineTo(pa,Qa);
Y.closePath()}},"triangle-down":{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=xe*pa;Y.moveTo(0,Qa);Y.lineTo(-pa,-Qa);Y.lineTo(pa,-Qa);Y.closePath()}},"triangle-right":{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=xe*pa;Y.moveTo(Qa,0);Y.lineTo(-Qa,-pa);Y.lineTo(-Qa,pa);Y.closePath()}},"triangle-left":{draw:function(Y,pa){pa=Math.sqrt(pa)/2;var Qa=xe*pa;Y.moveTo(-Qa,0);Y.lineTo(Qa,-pa);Y.lineTo(Qa,pa);Y.closePath()}},stroke:{draw:function(Y,pa){pa=Math.sqrt(pa)/2;Y.moveTo(-pa,0);Y.lineTo(pa,0)}}};
var Hf={};const If=Y=>Y.x||0,Qf=Y=>Y.y||0,Jf=Y=>!1!==Y.defined,Ae=n.arc().startAngle(Y=>Y.startAngle||0).endAngle(Y=>Y.endAngle||0).padAngle(Y=>Y.padAngle||0).innerRadius(Y=>Y.innerRadius||0).outerRadius(Y=>Y.outerRadius||0).cornerRadius(Y=>Y.cornerRadius||0),xc=n.area().x(If).y1(Qf).y0(Y=>(Y.y||0)+(Y.height||0)).defined(Jf),ya=n.area().y(Qf).x1(If).x0(Y=>(Y.x||0)+(Y.width||0)).defined(Jf),Ca=n.line().x(If).y(Qf).defined(Jf),Za=K().x(If).y(Qf).width(Y=>Y.width||0).height(Y=>Y.height||0).cornerRadius(Y=>
R(Y.cornerRadiusTopLeft,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusTopRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomLeft,Y.cornerRadius)||0),Fb=n.symbol().type(Y=>p(Y.shape||"circle")).size(Y=>R(Y.size,64)),ub=H().x(If).y(Qf).defined(Jf).size(Y=>Y.size||1);var Wb=1;fa.prototype={clone(){return new fa(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(Y){return this.x1===Y.x1&&this.y1===Y.y1&&this.x2===Y.x2&&this.y2===Y.y2},set(Y,pa,Qa,Va){Qa<Y?(this.x2=Y,this.x1=Qa):(this.x1=Y,this.x2=Qa);Va<pa?(this.y2=pa,this.y1=Va):(this.y1=pa,this.y2=Va);return this},add(Y,pa){Y<this.x1&&(this.x1=Y);pa<this.y1&&(this.y1=pa);Y>this.x2&&(this.x2=Y);pa>this.y2&&(this.y2=pa);return this},expand(Y){this.x1-=Y;this.y1-=Y;this.x2+=Y;this.y2+=Y;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(Y){this.x1*=Y;this.y1*=Y;this.x2*=Y;this.y2*=Y;return this},translate(Y,pa){this.x1+=Y;this.x2+=Y;this.y1+=pa;this.y2+=pa;return this},rotate(Y,pa,Qa){Y=this.rotatedPoints(Y,pa,Qa);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(Y,pa,Qa){var {x1:Va,y1:xb,x2:Rb,y2:Yb}=this,oc=Math.cos(Y);Y=Math.sin(Y);var Ec=pa-pa*oc+
Qa*Y;pa=Qa-pa*Y-Qa*oc;return[oc*Va-Y*xb+Ec,Y*Va+oc*xb+pa,oc*Va-Y*Yb+Ec,Y*Va+oc*Yb+pa,oc*Rb-Y*xb+Ec,Y*Rb+oc*xb+pa,oc*Rb-Y*Yb+Ec,Y*Rb+oc*Yb+pa]},union(Y){Y.x1<this.x1&&(this.x1=Y.x1);Y.y1<this.y1&&(this.y1=Y.y1);Y.x2>this.x2&&(this.x2=Y.x2);Y.y2>this.y2&&(this.y2=Y.y2);return this},intersect(Y){Y.x1>this.x1&&(this.x1=Y.x1);Y.y1>this.y1&&(this.y1=Y.y1);Y.x2<this.x2&&(this.x2=Y.x2);Y.y2<this.y2&&(this.y2=Y.y2);return this},encloses(Y){return Y&&this.x1<=Y.x1&&this.x2>=Y.x2&&this.y1<=Y.y1&&this.y2>=Y.y2},
alignsWith(Y){return Y&&(this.x1==Y.x1||this.x2==Y.x2||this.y1==Y.y1||this.y2==Y.y2)},intersects(Y){return Y&&!(this.x2<Y.x1||this.x1>Y.x2||this.y2<Y.y1||this.y1>Y.y2)},contains(Y,pa){return!(Y<this.x1||Y>this.x2||pa<this.y1||pa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};m.inherits(Z,ja);Q.prototype={pending(){return this._pending},sanitizeURL(Y){const pa=this;pa._pending+=1;return pa._loader.sanitize(Y,{context:"href"}).then(Qa=>{--pa._pending;return Qa}).catch(()=>
{--pa._pending;return null})},loadImage(Y){const pa=this,Qa=O.image();pa._pending+=1;return pa._loader.sanitize(Y,{context:"image"}).then(Va=>{const xb=Va.href;if(!xb||!Qa)throw{url:xb};const Rb=new Qa;Va=m.hasOwnProperty(Va,"crossOrigin")?Va.crossOrigin:"anonymous";null!=Va&&(Rb.crossOrigin=Va);Rb.onload=()=>{--pa._pending};Rb.onerror=()=>{--pa._pending};Rb.src=xb;return Rb}).catch(Va=>{--pa._pending;return{complete:!1,width:0,height:0,src:Va&&Va.url||""}})},ready(){const Y=this;return new Promise(pa=>
{function Qa(Va){Y.pending()?setTimeout(()=>{Qa(!0)},10):pa(Va)}Qa(!1)})}};const vc=Ic-1E-8;let Nc,ld,Pc,Ld,Nd,Od,od,Rd;const kd=(Y,pa)=>{Y=ld=Y;pa=Pc=pa;return Nc.add(Y,pa)},lf=Y=>Nc.add(Y,Nc.y1),bf=Y=>Nc.add(Nc.x1,Y),ee=(Y,pa)=>Nc.add(Nd*Y+od*pa,Od*Y+Rd*pa),Ve=(Y,pa)=>kd(Nd*Y+od*pa,Od*Y+Rd*pa),ce={beginPath(){},closePath(){},moveTo:Ve,lineTo:Ve,rect(Y,pa,Qa,Va){Ld?(ee(Y+Qa,pa),ee(Y+Qa,pa+Va),ee(Y,pa+Va),Ve(Y,pa)):(Nc.add(Y+Qa,pa+Va),kd(Y,pa))},quadraticCurveTo(Y,pa,Qa,Va){const xb=Od*Y+Rd*pa,Rb=
Nd*Qa+od*Va;Qa=Od*Qa+Rd*Va;da(ld,Nd*Y+od*pa,Rb,lf);da(Pc,xb,Qa,bf);kd(Rb,Qa)},bezierCurveTo(Y,pa,Qa,Va,xb,Rb){const Yb=Od*Y+Rd*pa,oc=Od*Qa+Rd*Va,Ec=Nd*xb+od*Rb;xb=Od*xb+Rd*Rb;aa(ld,Nd*Y+od*pa,Nd*Qa+od*Va,Ec,lf);aa(Pc,Yb,oc,xb,bf);kd(Ec,xb)},arc(Y,pa,Qa,Va,xb,Rb){Va+=Ld;xb+=Ld;ld=Qa*Math.cos(xb)+Y;Pc=Qa*Math.sin(xb)+pa;if(Math.abs(xb-Va)>vc)Nc.add(Y-Qa,pa-Qa),Nc.add(Y+Qa,pa+Qa);else{const Yb=Ec=>Nc.add(Qa*Math.cos(Ec)+Y,Qa*Math.sin(Ec)+pa);let oc;Yb(Va);Yb(xb);if(xb!==Va)if(Va%=Ic,0>Va&&(Va+=Ic),xb%=
Ic,0>xb&&(xb+=Ic),xb<Va&&(Rb=!Rb,oc=Va,Va=xb,xb=oc),Rb)for(xb-=Ic,oc=Va-Va%Yf,Va=0;4>Va&&oc>xb;++Va,oc-=Yf)Yb(oc);else for(oc=Va-Va%Yf+Yf,Va=0;4>Va&&oc<xb;++Va,oc+=Yf)Yb(oc)}}};var Xe=(Xe=O.canvas(1,1))?Xe.getContext("2d"):null;const zf=new fa;var tf=[],Oe=Ga("arc",function(Y,pa){return Ae.context(Y)(pa)}),Nf=oa("area",function(Y,pa){const Qa=pa[0];return("horizontal"===Qa.orient?ya:xc).curve(k(Qa.interpolate||"linear",Qa.orient,Qa.tension)).context(Y)(pa)},function(Y,pa){pa="horizontal"===Y[0].orient?
pa[1]:pa[0];for(var Qa="horizontal"===Y[0].orient?"y":"x",Va=Y.length,xb=Infinity,Rb,Yb;0<=--Va;)!1!==Y[Va].defined&&(Yb=Math.abs(Y[Va][Qa]-pa),Yb<xb&&(xb=Yb,Rb=Y[Va]));return Rb});const Aa=ab(eb),Ka=ab(eb,!1),vb=ab(eb,!0);var Xb={type:"group",tag:"g",nested:!1,attr:function(Y,pa){Y("transform",Ba(pa.x||0,pa.y||0))},bound:function(Y,pa){if(!pa.clip&&pa.items){const Qa=pa.items,Va=Qa.length;for(let xb=0;xb<Va;++xb)Y.union(Qa[xb].bounds)}(pa.clip||pa.width||pa.height)&&!pa.noBound&&Y.add(0,0).add(pa.width||
0,pa.height||0);q(Y,pa);return Y.translate(pa.x||0,pa.y||0)},draw:function(Y,pa,Qa){ra(pa,Va=>{const xb=Va.x||0,Rb=Va.y||0,Yb=Va.strokeForeground,oc=null==Va.opacity?1:Va.opacity;(Va.stroke||Va.fill)&&oc&&(eb(Y,Va,xb,Rb),Ta(Y,Va),Va.fill&&V(Y,Va,oc)&&Y.fill(),Va.stroke&&!Yb&&X(Y,Va,oc)&&Y.stroke());Y.save();Y.translate(xb,Rb);Va.clip&&Ia(Y,Va);Qa&&Qa.translate(-xb,-Rb);ra(Va,Ec=>{this.draw(Y,Ec,Qa)});Qa&&Qa.translate(xb,Rb);Y.restore();Yb&&Va.stroke&&oc&&(eb(Y,Va,xb,Rb),Ta(Y,Va),X(Y,Va,oc)&&Y.stroke())})},
pick:function(Y,pa,Qa,Va,xb,Rb){if(pa.bounds&&!pa.bounds.contains(xb,Rb)||!pa.items)return null;const Yb=Qa*Y.pixelRatio,oc=Va*Y.pixelRatio;return qa(pa,Ec=>{let dd,Yc;var Kd=Ec.bounds;if(!Kd||Kd.contains(xb,Rb)){dd=Ec.x||0;Yc=Ec.y||0;Kd=dd+(Ec.width||0);var Ud=Yc+(Ec.height||0),pd=Ec.clip;if(!pd||!(xb<dd||xb>Kd||Rb<Yc||Rb>Ud)){Y.save();Y.translate(dd,Yc);dd=xb-dd;Yc=Rb-Yc;if(pd&&U(Ec)&&!vb(Y,Ec,Yb,oc))return Y.restore(),null;Ud=Ec.strokeForeground;if((pd=!1!==pa.interactive)&&Ud&&Ec.stroke&&Ka(Y,
Ec,Yb,oc))return Y.restore(),Ec;Kd=qa(Ec,Bd=>(!1!==Bd.interactive||"group"===Bd.marktype)&&Bd.bounds&&Bd.bounds.contains(dd,Yc)?this.pick(Bd,Qa,Va,dd,Yc):null);!Kd&&pd&&(Ec.fill||!Ud&&Ec.stroke)&&Aa(Y,Ec,Yb,oc)&&(Kd=Ec);Y.restore();return Kd||null}}})},isect:$a,content:function(Y,pa,Qa){pa=pa.clip?ba(Qa,pa,pa):null;Y("clip-path",pa)},background:function(Y,pa){Y("class","background");Y("aria-hidden",!0);{const Qa=Ua(pa);Y("d",ka(null,pa,Qa,Qa))}},foreground:function(Y,pa){Y("class","foreground");Y("aria-hidden",
!0);if(pa.strokeForeground){{const Qa=Ua(pa);Y("d",ka(null,pa,Qa,Qa))}}else Y("d","")}},Sb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},hc={type:"image",tag:"image",nested:!1,attr:function(Y,pa,Qa){var Va=Gb(pa,Qa);Qa=Tb(pa,Va);const xb=kc(pa,Va),Rb=(pa.x||0)-bd(pa.align,Qa),Yb=(pa.y||0)-tc(pa.baseline,xb);Va=!Va.src&&Va.toDataURL?Va.toDataURL():Va.src||"";Y("href",Va,Sb["xmlns:xlink"],"xlink:href");Y("transform",Ba(Rb,Yb));Y("width",Qa);Y("height",
xb);Y("preserveAspectRatio",!1===pa.aspect?"none":"xMidYMid")},bound:function(Y,pa){var Qa=pa.image;const Va=Tb(pa,Qa);Qa=kc(pa,Qa);const xb=(pa.x||0)-bd(pa.align,Va);pa=(pa.y||0)-tc(pa.baseline,Qa);return Y.set(xb,pa,xb+Va,pa+Qa)},draw:function(Y,pa,Qa){ra(pa,Va=>{if(!Qa||Qa.intersects(Va.bounds)){var xb=Gb(Va,this),Rb=Tb(Va,xb),Yb=kc(Va,xb),oc=(Va.x||0)-bd(Va.align,Rb),Ec=(Va.y||0)-tc(Va.baseline,Yb),dd;if(!1!==Va.aspect){var Yc=xb.width/xb.height;var Kd=Va.width/Va.height;Yc===Yc&&Kd===Kd&&Yc!==
Kd&&(Kd<Yc?(Yc=Rb/Yc,Ec+=(Yb-Yc)/2,Yb=Yc):(Yc*=Yb,oc+=(Rb-Yc)/2,Rb=Yc))}if(xb.complete||xb.toDataURL)Ta(Y,Va),Y.globalAlpha=null!=(dd=Va.opacity)?dd:1,Y.imageSmoothingEnabled=!1!==Va.smooth,Y.drawImage(xb,oc,Ec,Rb,Yb)}})},pick:cb(),isect:m.truthy,get:Gb,xOffset:bd,yOffset:tc},lc=oa("line",function(Y,pa){const Qa=pa[0];return Ca.curve(k(Qa.interpolate||"linear",Qa.orient,Qa.tension)).context(Y)(pa)},function(Y,pa){for(var Qa=Math.pow(Y[0].strokeWidth||1,2),Va=Y.length,xb,Rb;0<=--Va;)if(!1!==Y[Va].defined&&
(xb=Y[Va].x-pa[0],Rb=Y[Va].y-pa[1],xb=xb*xb+Rb*Rb,xb<Qa))return Y[Va];return null}),id={type:"path",tag:"path",nested:!1,attr:function(Y,pa){var Qa=pa.scaleY||1;1===(pa.scaleX||1)&&1===Qa||Y("vector-effect","non-scaling-stroke");Qa=Ba(pa.x||0,pa.y||0)+(pa.angle?" rotate("+(pa.angle+")"):"")+(pa.scaleX||pa.scaleY?" scale("+((pa.scaleX||1)+","+(pa.scaleY||1)+")"):"");Y("transform",Qa);Y("d",pa.path)},bound:function(Y,pa){return Fc(N(Y,pa.angle),pa)?Y.set(0,0,0,0):q(Y,pa,!0)},draw:Ha(Fc),pick:cb(ab(Fc)),
isect:ua(Fc)},Sc={type:"rect",tag:"path",nested:!1,attr:function(Y,pa){Y("d",ka(null,pa))},bound:function(Y,pa){var Qa,Va;return q(Y.set(Qa=pa.x||0,Va=pa.y||0,Qa+pa.width||0,Va+pa.height||0),pa)},draw:Ha(mb),pick:cb(ab(mb)),isect:$a},gd={type:"rule",tag:"line",nested:!1,attr:function(Y,pa){Y("transform",Ba(pa.x||0,pa.y||0));Y("x2",null!=pa.x2?pa.x2-(pa.x||0):0);Y("y2",null!=pa.y2?pa.y2-(pa.y||0):0)},bound:function(Y,pa){var Qa,Va;return q(Y.set(Qa=pa.x||0,Va=pa.y||0,null!=pa.x2?pa.x2:Qa,null!=pa.y2?
pa.y2:Va),pa)},draw:function(Y,pa,Qa){ra(pa,Va=>{if(!Qa||Qa.intersects(Va.bounds)){var xb=null==Va.opacity?1:Va.opacity;xb&&dc(Y,Va,xb)&&(Ta(Y,Va),Y.stroke())}})},pick:cb(function(Y,pa,Qa,Va){return Y.isPointInStroke?dc(Y,pa,1)&&Y.isPointInStroke(Qa,Va):!1}),isect:kb},Hd=Ga("shape",function(Y,pa){return(pa.mark.shape||pa.shape).context(Y)(pa)}),he=Ga("symbol",function(Y,pa){return Fb.context(Y)(pa)},Ea);const ie=m.lruCache();var Pd={height:Uc,measureWidth:Cc,estimateWidth:pc,width:pc,canvas:Bc};Bc(!0);
const Ne={left:"start",center:"middle",right:"end"},pe=new fa;var He={type:"text",tag:"text",nested:!1,attr:function(Y,pa){var Qa=pa.dx||0,Va=(pa.dy||0)+Yd(pa),xb=Pb(pa),Rb=xb.x1;xb=xb.y1;var Yb=pa.angle||0;Y("text-anchor",Ne[pa.align]||"start");if(Yb){if(pa=Ba(Rb,xb)+" rotate("+(Yb+")"),Qa||Va)pa+=" "+Ba(Qa,Va)}else pa=Ba(Rb+Qa,xb+Va);Y("transform",pa)},bound:fc,draw:function(Y,pa,Qa){ra(pa,Va=>{var xb=null==Va.opacity?1:Va.opacity,Rb;if(!(Qa&&!Qa.intersects(Va.bounds)||0===xb||0>=Va.fontSize||null==
Va.text||0===Va.text.length)){Y.font=Rc(Va);Y.textAlign=Va.align||"left";var Yb=Pb(Va);var oc=Yb.x1;Yb=Yb.y1;Va.angle&&(Y.save(),Y.translate(oc,Yb),Y.rotate(Va.angle*Qe),oc=Yb=0);oc+=Va.dx||0;Yb+=(Va.dy||0)+Yd(Va);var Ec=Kc(Va);Ta(Y,Va);if(m.isArray(Ec)){var dd=Tc(Va);for(Rb=0;Rb<Ec.length;++Rb){var Yc=Fd(Va,Ec[Rb]);Va.fill&&V(Y,Va,xb)&&Y.fillText(Yc,oc,Yb);Va.stroke&&X(Y,Va,xb)&&Y.strokeText(Yc,oc,Yb);Yb+=dd}}else Yc=Fd(Va,Ec),Va.fill&&V(Y,Va,xb)&&Y.fillText(Yc,oc,Yb),Va.stroke&&X(Y,Va,xb)&&Y.strokeText(Yc,
oc,Yb);Va.angle&&Y.restore()}})},pick:cb(function(Y,pa,Qa,Va,xb,Rb){if(0>=pa.fontSize)return!1;if(!pa.angle)return!0;Qa=Pb(pa);Y=Qa.x1;Qa=Qa.y1;Va=fc(pe,pa,1);var Yb=-pa.angle*Qe;pa=Math.cos(Yb);Yb=Math.sin(Yb);return Va.contains(pa*xb-Yb*Rb+(Y-pa*Y+Yb*Qa),Yb*xb+pa*Rb+(Qa-Yb*Y-pa*Qa))}),isect:function(Y,pa){Y=fc(pe,Y,2);return ta(pa,Y[0],Y[1],Y[2],Y[3])||ta(pa,Y[0],Y[1],Y[4],Y[5])||ta(pa,Y[4],Y[5],Y[6],Y[7])||ta(pa,Y[2],Y[3],Y[6],Y[7])}},Je=oa("trail",function(Y,pa){return ub.context(Y)(pa)},function(Y,
pa){for(var Qa=Y.length,Va,xb;0<=--Qa;)if(!1!==Y[Qa].defined&&(Va=Y[Qa].x-pa[0],xb=Y[Qa].y-pa[1],xb=Va*Va+xb*xb,Va=Y[Qa].size||1,xb<Va*Va))return Y[Qa];return null}),Le={arc:Oe,area:Nf,group:Xb,image:hc,line:lc,path:id,rect:Sc,rule:gd,shape:Hd,symbol:he,text:He,trail:Je},Of={mark:null};const Te="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
La.prototype={toJSON(Y){return Vc(this.root,Y||0)},mark(Y,pa,Qa){pa=pa||this.root.items[0];Y=fb(Y,pa);pa.items[Qa]=Y;Y.zindex&&(Y.group.zdirty=!0);return Y}};nb.prototype={initialize(Y,pa,Qa){this._el=Y;this._obj=Qa||null;return this.origin(pa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(Y){return arguments.length?(this._origin=Y||[0,0],this):this._origin.slice()},scene(Y){if(!arguments.length)return this._scene;this._scene=Y;return this},on(){},off(){},_handlerIndex(Y,
pa,Qa){for(let Va=Y?Y.length:0;0<=--Va;)if(Y[Va].type===pa&&(!Qa||Y[Va].handler===Qa))return Va;return-1},handlers(Y){const pa=this._handlers,Qa=[];if(Y)Qa.push(...pa[this.eventName(Y)]);else for(const Va in pa)Qa.push(...pa[Va]);return Qa},eventName(Y){const pa=Y.indexOf(".");return 0>pa?Y:Y.slice(0,pa)},handleHref(Y,pa,Qa){this._loader.sanitize(Qa,{context:"href"}).then(Va=>{const xb=new MouseEvent(Y.type,Y),Rb=wb(null,"a");for(const Yb in Va)Rb.setAttribute(Yb,Va[Yb]);Rb.dispatchEvent(xb)}).catch(()=>
{})},handleTooltip(Y,pa,Qa){if(pa&&null!=pa.tooltip){var Va=this.canvas(),xb=this._origin,Rb=pa&&pa.mark,Yb;if(Rb&&(Yb=Le[Rb.marktype]).tip){Va=qc(Y,Va);Va[0]-=xb[0];for(Va[1]-=xb[1];pa=pa.mark.group;)Va[0]-=pa.x||0,Va[1]-=pa.y||0;pa=Yb.tip(Rb.items,Va)}this._tooltip.call(this._obj,this,Y,pa,Qa&&pa&&pa.tooltip||null)}},getItemBoundingClientRect(Y){var pa=this.canvas();if(pa){var Qa=pa.getBoundingClientRect(),Va=this._origin,xb=Y.bounds;pa=xb.width();var Rb=xb.height(),Yb=xb.x1+Va[0]+Qa.left;for(Qa=
xb.y1+Va[1]+Qa.top;Y.mark&&(Y=Y.mark.group);)Yb+=Y.x||0,Qa+=Y.y||0;return{x:Yb,y:Qa,width:pa,height:Rb,left:Yb,top:Qa,right:Yb+pa,bottom:Qa+Rb}}}};Ub.prototype={initialize(Y,pa,Qa,Va,xb){this._el=Y;return this.resize(pa,Qa,Va,xb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(Y){if(0===arguments.length)return this._bgcolor;this._bgcolor=Y;return this},resize(Y,pa,Qa,Va){this._width=Y;this._height=pa;this._origin=Qa||[0,0];this._scale=Va||1;return this},dirty(){},
render(Y){const pa=this;pa._call=function(){pa._render(Y)};pa._call();pa._call=null;return pa},_render(){},renderAsync(Y){const pa=this.render(Y);return this._ready?this._ready.then(()=>pa):Promise.resolve(pa)},_load(Y,pa){var Qa=this;Y=Qa._loader[Y](pa);if(!Qa._ready){const Va=Qa._call;Qa._ready=Qa._loader.ready().then(xb=>{xb&&Va();Qa._ready=null})}return Y},sanitizeURL(Y){return this._load("sanitizeURL",Y)},loadImage(Y){return this._load("loadImage",Y)}};m.inherits(jc,nb,{initialize(Y,pa,Qa){this._canvas=
Y&&Ib(Y,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Va=>zc(this,Va));return nb.prototype.initialize.call(this,Y,pa,Qa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(Y){this.fire("mousewheel",Y)},mousemove:Wc("mousemove","mouseover","mouseout"),
dragover:Wc("dragover","dragenter","dragleave"),mouseout:Db("mouseout"),dragleave:Db("dragleave"),mousedown(Y){this._down=this._active;this.fire("mousedown",Y)},click(Y){this._down===this._active&&(this.fire("click",Y),this._down=null)},touchstart(Y){this._touch=this.pickEvent(Y.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",Y,!0)},touchmove(Y){this.fire("touchmove",Y,!0)},touchend(Y){this.fire("touchend",Y,!0);this._touch=null},fire(Y,pa,Qa){Qa=Qa?
this._touch:this._active;const Va=this._handlers[Y];pa.vegaType=Y;"click"===Y&&Qa&&Qa.href?this.handleHref(pa,Qa,Qa.href):("mousemove"===Y||"mouseout"===Y)&&this.handleTooltip(pa,Qa,"mouseout"!==Y);if(Va)for(let xb=0,Rb=Va.length;xb<Rb;++xb)Va[xb].handler.call(this._obj,pa,Qa)},on(Y,pa){const Qa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Qa],Y,pa)&&(zc(this,Y),(Va[Qa]||(Va[Qa]=[])).push({type:Y,handler:pa}));return this},off(Y,pa){var Qa=this.eventName(Y);Qa=this._handlers[Qa];Y=
this._handlerIndex(Qa,Y,pa);0<=Y&&Qa.splice(Y,1);return this},pickEvent(Y){Y=qc(Y,this._canvas);const pa=this._origin;return this.pick(this._scene,Y[0],Y[1],Y[0]-pa[0],Y[1]-pa[1])},pick(Y,pa,Qa,Va,xb){const Rb=this.context();return Le[Y.marktype].pick.call(this,Rb,Y,pa,Qa,Va,xb)}});var uf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Bf=Ub.prototype;m.inherits(Hc,Ub,{initialize(Y,pa,Qa,Va,xb,Rb){this._options=Rb||{};this._canvas=this._options.externalContext?null:O.canvas(1,1,this._options.type);
Y&&this._canvas&&(ic(Y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Bf.initialize.call(this,Y,pa,Qa,Va,xb)},resize(Y,pa,Qa,Va){Bf.resize.call(this,Y,pa,Qa,Va);if(this._canvas){{Y=this._canvas;pa=this._width;Qa=this._height;Va=this._origin;var xb=this._scale,Rb=this._options.context;const oc="undefined"!==typeof HTMLElement&&Y instanceof HTMLElement&&null!=Y.parentNode,Ec=Y.getContext("2d");xb=oc?uf:xb;Y.width=pa*xb;Y.height=Qa*xb;for(var Yb in Rb)Ec[Yb]=Rb[Yb];oc&&
1!==xb&&(Y.style.width=pa+"px",Y.style.height=Qa+"px");Ec.pixelRatio=xb;Ec.setTransform(xb,0,0,xb,xb*Va[0],xb*Va[1])}}else(Yb=this._options.externalContext)||m.error("CanvasRenderer is missing a valid canvas or context"),Yb.scale(this._scale,this._scale),Yb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(Y){const pa=this._tempb.clear().union(Y.bounds);
for(Y=Y.mark.group;Y;)pa.translate(Y.x||0,Y.y||0),Y=Y.mark.group;this._dirty.union(pa)},_render(Y){const pa=this.context(),Qa=this._origin,Va=this._width,xb=this._height,Rb=this._dirty;var Yb=(new fa).set(0,0,Va,xb).translate(-Qa[0],-Qa[1]);pa.save();this._redraw||Rb.empty()?Yb=(this._redraw=!1,Yb.expand(1)):(Yb=Yb.intersect(Rb),Yb.expand(1).round(),pa.pixelRatio%1&&Yb.scale(pa.pixelRatio).round().scale(1/pa.pixelRatio),Yb.translate(-(Qa[0]%1),-(Qa[1]%1)),pa.beginPath(),pa.rect(Yb.x1,Yb.y1,Yb.width(),
Yb.height()),pa.clip());this.clear(-Qa[0],-Qa[1],Va,xb);this.draw(pa,Y,Yb);pa.restore();Rb.clear();return this},draw(Y,pa,Qa){const Va=Le[pa.marktype];if(pa.clip){var xb=pa.clip;Y.save();m.isFunction(xb)?(Y.beginPath(),xb(Y),Y.clip()):Ia(Y,pa.group)}Va.draw.call(this,Y,pa,Qa);pa.clip&&Y.restore()},clear(Y,pa,Qa,Va){const xb=this._options,Rb=this.context();"pdf"===xb.type||xb.externalContext||Rb.clearRect(Y,pa,Qa,Va);null!=this._bgcolor&&(Rb.fillStyle=this._bgcolor,Rb.fillRect(Y,pa,Qa,Va))}});const Ag=
(Y,pa)=>Qa=>{let Va=Qa.target.__data__;Va=Array.isArray(Va)?Va[0]:Va;Qa.vegaType=Qa.type;pa.call(Y._obj,Qa,Va)};m.inherits(fd,nb,{initialize(Y,pa,Qa){let Va=this._svg;Va&&(Va.removeEventListener("click",this._hrefHandler),Va.removeEventListener("mousemove",this._tooltipHandler),Va.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Va=Y&&Ib(Y,"svg"))Va.addEventListener("click",this._hrefHandler),Va.addEventListener("mousemove",this._tooltipHandler),Va.addEventListener("mouseout",this._tooltipHandler);
return nb.prototype.initialize.call(this,Y,pa,Qa)},canvas(){return this._svg},on(Y,pa){const Qa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Qa],Y,pa)&&(Y={type:Y,handler:pa,listener:Ag(this,pa)},(Va[Qa]||(Va[Qa]=[])).push(Y),this._svg&&this._svg.addEventListener(Qa,Y.listener));return this},off(Y,pa){const Qa=this.eventName(Y),Va=this._handlers[Qa];Y=this._handlerIndex(Va,Y,pa);0<=Y&&(this._svg&&this._svg.removeEventListener(Qa,Va[Y].listener),Va.splice(Y,1));return this}});const Rf=
(Y,pa,Qa)=>({["role"]:Y,["aria-roledescription"]:pa,["aria-label"]:Qa||void 0}),jg=m.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),xa={axis:{desc:"axis",caption:function(Y){var pa=Y.datum;const Qa=Y.orient,Va=pa.title?Cd(Y):null;var xb=Y.context;pa=xb.scales[pa.scale].value;xb=xb.dataflow.locale();const Rb=pa.type;return`${"left"===Qa||"right"===Qa?"Y":"X"}-axis`+(Va?` titled '${Va}'`:
"")+` for a ${y.isDiscrete(Rb)?"discrete":Rb} scale`+` with ${y.domainCaption(xb,pa,Y)}`}},legend:{desc:"legend",caption:function(Y){var pa=Y.datum;const Qa=pa.title?Cd(Y):null,Va=`${pa.type||""} legend`.trim();var xb=pa.scales;pa=Object.keys(xb);var Rb=Y.context;xb=Rb.scales[xb[pa[0]]].value;Rb=Rb.dataflow.locale();return(Va.length?Va[0].toUpperCase()+Va.slice(1):Va)+(Qa?` titled '${Qa}'`:"")+` for ${Ed(pa)}`+` with ${y.domainCaption(Rb,xb,Y)}`}},"title-text":{desc:"title",caption:Y=>`Title text '${m.array(Y.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:Y=>`Subtitle text '${m.array(Y.text).join(" ")}'`}},za={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Oa=Y=>(Y+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Sa=Y=>$d(Xd(),Y)+"",gb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},ib={fill:"none","stroke-miterlimit":10},rb=Sb.xmlns,Eb=Ub.prototype;m.inherits(ae,Ub,{initialize(Y,pa,Qa,Va,xb){this._defs={};this._clearDefs();Y&&(this._svg=Zb(Y,0,"svg",rb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",rb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Sb["xmlns:xlink"]),this._svg.setAttribute("version",Sb.version),this._svg.setAttribute("class","marks"),ic(Y,
1),this._root=Zb(this._svg,0,"g",rb),Vd(this._root,ib),ic(this._svg,1));this.background(this._bgcolor);return Eb.initialize.call(this,Y,pa,Qa,Va,xb)},background(Y){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",Y);return Eb.background.apply(this,arguments)},resize(Y,pa,Qa,Va){Eb.resize.call(this,Y,pa,Qa,Va);this._svg&&(Vd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",
`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const Y=this._svg,pa=this._bgcolor;if(!Y)return null;let Qa;pa&&(Y.removeAttribute("style"),Qa=Zb(Y,0,"rect",rb),Vd(Qa,{width:this._width,height:this._height,fill:pa}));const Va=Sa(Y);pa&&(Y.removeChild(Qa),this._svg.style.setProperty("background-color",pa));return Va},_render(Y){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,Y),ic(this._root,1));this.defs();this._dirty=[];++this._dirtyID;
return this},dirty(Y){Y.dirty!==this._dirtyID&&(Y.dirty=this._dirtyID,this._dirty.push(Y))},isDirty(Y){return this._dirtyAll||!Y._svg||Y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const Y=this._dirty;if(!Y.length||!this._dirtyID)return!0;const pa=++this._dirtyID;let Qa;let Va,xb,Rb,Yb;Rb=0;for(Yb=Y.length;Rb<Yb;++Rb){Qa=Y[Rb];var oc=Qa.mark;oc.marktype!==Va&&(Va=oc.marktype,xb=Le[Va]);oc.zdirty&&oc.dirty!==pa&&(this._dirtyAll=!1,Ce(Qa,pa),oc.items.forEach(Ec=>{Ec.dirty=pa}));oc.zdirty||
(Qa.exit?(xb.nested&&oc.items.length?(oc=oc.items[0],oc._svg&&this._update(xb,oc._svg,oc)):Qa._svg&&(oc=Qa._svg.parentNode)&&oc.removeChild(Qa._svg),Qa._svg=null):(Qa=xb.nested?oc.items[0]:Qa,Qa._update!==pa&&(Qa._svg&&Qa._svg.ownerSVGElement?this._update(xb,Qa._svg,Qa):(this._dirtyAll=!1,Ce(Qa,pa)),Qa._update=pa)))}return!this._dirtyAll},mark(Y,pa,Qa){if(!this.isDirty(pa))return pa._svg;const Va=this._svg,xb=Le[pa.marktype];var Rb=!1===pa.interactive?"none":null;const Yb="g"===xb.tag;let oc=null,
Ec=0;const dd=ff(pa,Y,Qa,"g",Va);dd.setAttribute("class",Ac(pa));Y=Zc(pa);for(const Yc in Y)ge(dd,Yc,Y[Yc]);Yb||ge(dd,"pointer-events",Rb);ge(dd,"clip-path",pa.clip?ba(this,pa,pa.group):null);Rb=Yc=>{const Kd=this.isDirty(Yc),Ud=ff(Yc,dd,oc,xb.tag,Va);Kd&&(this._update(xb,Ud,Yc),Yb&&me(this,Ud,Yc));oc=Ud;++Ec};xb.nested?pa.items.length&&Rb(pa.items[0]):ra(pa,Rb);ic(dd,Ec);return dd},_update(Y,pa,Qa){zb=pa;Mb=pa.__values__;uc(Ze,Qa);Y.attr(Ze,Qa,this);const Va=Lb[Y.type];Va&&Va.call(this,Y,pa,Qa);
zb&&this.style(zb,Qa)},style(Y,pa){if(null!=pa)for(const Qa in gb){let Va="font"===Qa?vd(pa):pa[Qa];if(Va===Mb[Qa])continue;const xb=gb[Qa];null==Va?Y.removeAttribute(xb):(Va&&Va.gradient&&(Va=v(Va,this._defs.gradient,yf())),Y.setAttribute(xb,Va+""));Mb[Qa]=Va}},defs(){const Y=this._svg,pa=this._defs;let Qa=pa.el;var Va=0;for(var xb in pa.gradient){Qa||(pa.el=Qa=Zb(Y,1,"defs",rb));{var Rb=void 0;let Ec,dd;var Yb=Qa,oc=pa.gradient[xb];"radial"===oc.gradient?(Rb=Zb(Yb,Va++,"pattern",rb),Vd(Rb,{id:"p_"+
oc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Rb=Zb(Rb,0,"rect",rb),Vd(Rb,{width:1,height:1,fill:`url(${yf()}#${oc.id})`}),Yb=Zb(Yb,Va++,"radialGradient",rb),Vd(Yb,{id:oc.id,fx:oc.x1,fy:oc.y1,fr:oc.r1,cx:oc.x2,cy:oc.y2,r:oc.r2})):(Yb=Zb(Yb,Va++,"linearGradient",rb),Vd(Yb,{id:oc.id,x1:oc.x1,x2:oc.x2,y1:oc.y1,y2:oc.y2}));dd=0;for(Ec=oc.stops.length;dd<Ec;++dd)Rb=Zb(Yb,dd,"stop",rb),Rb.setAttribute("offset",oc.stops[dd].offset),Rb.setAttribute("stop-color",
oc.stops[dd].color);ic(Yb,dd)}}for(const Ec in pa.clipping)Qa||(pa.el=Qa=Zb(Y,1,"defs",rb)),Yb=Qa,oc=pa.clipping[Ec],xb=Va,Yb=Zb(Yb,xb,"clipPath",rb),Yb.setAttribute("id",oc.id),oc.path?(Va=Zb(Yb,0,"path",rb),Va.setAttribute("d",oc.path)):(Va=Zb(Yb,0,"rect",rb),Vd(Va,{x:0,y:0,width:oc.width,height:oc.height})),ic(Yb,1),Va=xb+1;Qa&&(0===Va?(Y.removeChild(Qa),pa.el=null):ic(Qa,Va))},_clearDefs(){const Y=this._defs;Y.gradient={};Y.clipping={}}});let zb=null,Mb=null;const Lb={group(Y,pa,Qa){const Va=
zb=pa.childNodes[2];Mb=Va.__values__;Y.foreground(Ze,Qa,this);Mb=pa.__values__;zb=pa.childNodes[1];Y.content(Ze,Qa,this);pa=zb=pa.childNodes[0];Y.background(Ze,Qa,this);Y=!1===Qa.mark.interactive?"none":null;Y!==Mb.events&&(ge(Va,"pointer-events",Y),ge(pa,"pointer-events",Y),Mb.events=Y);Qa.strokeForeground&&Qa.stroke?(Y=Qa.fill,ge(Va,"display",null),this.style(pa,Qa),ge(pa,"stroke",null),Y&&(Qa.fill=null),Mb=Va.__values__,this.style(Va,Qa),Y&&(Qa.fill=Y),zb=null):ge(Va,"display","none")},image(Y,
pa,Qa){!1===Qa.smooth?(hf(pa,"image-rendering","optimizeSpeed"),hf(pa,"image-rendering","pixelated")):hf(pa,"image-rendering",null)},text(Y,pa,Qa){Y=Kc(Qa);let Va,xb,Rb;m.isArray(Y)?(Va=Y.map(Yb=>Fd(Qa,Yb)),Y=Va.join("\n"),Y!==Mb.text&&(ic(pa,0),xb=pa.ownerDocument,Rb=Tc(Qa),Va.forEach((Yb,oc)=>{const Ec=wb(xb,"tspan",rb);Ec.__data__=Qa;Ec.textContent=Yb;oc&&(Ec.setAttribute("x",0),Ec.setAttribute("dy",Rb));pa.appendChild(Ec)}),Mb.text=Y)):(Va=Fd(Qa,Y),Va!==Mb.text&&(pa.textContent=Va,Mb.text=Va));
ge(pa,"font-family",vd(Qa));ge(pa,"font-size",Uc(Qa)+"px");ge(pa,"font-style",Qa.fontStyle);ge(pa,"font-variant",Qa.fontVariant);ge(pa,"font-weight",Qa.fontWeight)}};m.inherits(Ue,Ub,{svg(){return this._text},_render(Y){const pa=Xd();pa.open("svg",m.extend({},Sb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const Qa=this._bgcolor;Qa&&"transparent"!==Qa&&"none"!==Qa&&pa.open("rect",{width:this._width,height:this._height,
fill:Qa}).close();pa.open("g",ib,{transform:"translate("+this._origin+")"});this.mark(pa,Y);pa.close();this.defs(pa);this._text=pa.close()+"";return this},mark(Y,pa){const Qa=Le[pa.marktype],Va=Qa.tag,xb=[uc,Qa.attr];Y.open("g",{"class":Ac(pa),"clip-path":pa.clip?ba(this,pa,pa.group):null},Zc(pa),{"pointer-events":"g"!==Va&&!1===pa.interactive?"none":null});const Rb=Yb=>{const oc=this.href(Yb);oc&&Y.open("a",oc);Y.open(Va,this.attr(pa,Yb,xb,"g"!==Va?Va:null));if("text"===Va){var Ec=Kc(Yb);if(m.isArray(Ec)){var dd=
{x:0,dy:Tc(Yb)};for(var Yc=0;Yc<Ec.length;++Yc)Y.open("tspan",Yc?dd:null).text(Fd(Yb,Ec[Yc])).close()}else Y.text(Fd(Yb,Ec))}else"g"===Va&&(Ec=Yb.strokeForeground,dd=Yb.fill,Yc=Yb.stroke,Ec&&Yc&&(Yb.stroke=null),Y.open("path",this.attr(pa,Yb,Qa.background,"bgrect")).close(),Y.open("g",this.attr(pa,Yb,Qa.content)),ra(Yb,Kd=>this.mark(Y,Kd)),Y.close(),Ec&&Yc?(dd&&(Yb.fill=null),Yb.stroke=Yc,Y.open("path",this.attr(pa,Yb,Qa.foreground,"bgrect")).close(),dd&&(Yb.fill=dd)):Y.open("path",this.attr(pa,Yb,
Qa.foreground,"bgfore")).close());Y.close();oc&&Y.close()};Qa.nested?pa.items&&pa.items.length&&Rb(pa.items[0]):ra(pa,Rb);return Y.close()},href(Y){const pa=Y.href;if(pa){if(Y=this._hrefs&&this._hrefs[pa])return Y;this.sanitizeURL(pa).then(Qa=>{Qa["xlink:href"]=Qa.href;Qa.href=null;(this._hrefs||(this._hrefs={}))[pa]=Qa})}return null},attr(Y,pa,Qa,Va){const xb={},Rb=(Yb,oc,Ec,dd)=>{xb[dd||Yb]=oc};Array.isArray(Qa)?Qa.forEach(Yb=>Yb(Rb,pa,this)):Qa(Rb,pa,this);Va&&of(xb,pa,Y,Va,this._defs);return xb},
defs(Y){var pa=this._defs.gradient;const Qa=this._defs.clipping;if(0!==Object.keys(pa).length+Object.keys(Qa).length){Y.open("defs");for(const xb in pa){var Va=pa[xb];const Rb=Va.stops;"radial"===Va.gradient?(Y.open("pattern",{id:"p_"+xb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Y.open("rect",{width:"1",height:"1",fill:"url(#"+xb+")"}).close(),Y.close(),Y.open("radialGradient",{id:xb,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):Y.open("linearGradient",
{id:xb,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2});for(Va=0;Va<Rb.length;++Va)Y.open("stop",{offset:Rb[Va].offset,"stop-color":Rb[Va].color}).close();Y.close()}for(const xb in Qa)pa=Qa[xb],Y.open("clipPath",{id:xb}),pa.path?Y.open("path",{d:pa.path}).close():Y.open("rect",{x:0,y:0,width:pa.width,height:pa.height}).close(),Y.close();Y.close()}}});const bc={};bc.canvas=bc.png={renderer:Hc,headless:Hc,handler:jc};bc.svg={renderer:ae,headless:Ue,handler:fd};bc.none={};const sc=new fa;g.Bounds=fa;g.CanvasHandler=
jc;g.CanvasRenderer=Hc;g.Gradient=function(Y,pa){var Qa=[],Va;return Va={gradient:"linear",x1:Y?Y[0]:0,y1:Y?Y[1]:0,x2:pa?pa[0]:1,y2:pa?pa[1]:0,stops:Qa,stop:function(xb,Rb){Qa.push({offset:xb,color:Rb});return Va}}};g.GroupItem=Z;g.Handler=nb;g.Item=ja;g.Marks=Le;g.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};g.Renderer=Ub;g.ResourceLoader=Q;g.SVGHandler=fd;g.SVGRenderer=ae;g.SVGStringRenderer=Ue;g.Scenegraph=La;g.boundClip=function(Y){const pa=Y.clip;if(m.isFunction(pa))pa(N(sc.clear()));
else if(pa)sc.set(0,0,Y.group.width,Y.group.height);else return;Y.bounds.intersect(sc)};g.boundContext=N;g.boundItem=Hb;g.boundMark=yc;g.boundStroke=q;g.domChild=Zb;g.domClear=ic;g.domCreate=wb;g.domFind=Ib;g.font=Rc;g.fontFamily=vd;g.fontSize=Uc;g.intersect=function(Y,pa,Qa){const Va=[];pa=(new fa).union(pa);const xb=Y.marktype;return xb?le(Y,pa,Qa,Va):"group"===xb?ye(Y,pa,Qa,Va):m.error("Intersect scene must be mark node or group item.")};g.intersectBoxLine=ta;g.intersectPath=ua;g.intersectPoint=
Ea;g.intersectRule=kb;g.lineHeight=Tc;g.markup=Xd;g.multiLineOffset=function(Y){const pa=Kc(Y);return(m.isArray(pa)?pa.length-1:0)*Tc(Y)};g.pathCurves=k;g.pathEqual=Td;g.pathParse=d;g.pathRectangle=K;g.pathRender=a;g.pathSymbols=p;g.pathTrail=H;g.point=qc;g.renderModule=function(Y,pa){Y=String(Y||"").toLowerCase();return 1<arguments.length?(bc[Y]=pa,this):bc[Y]};g.resetSVGClipId=function(){Wb=1};g.resetSVGDefIds=function(){Wb=1;we=0};g.sceneEqual=Ge;g.sceneFromJSON=Gd;g.scenePickVisit=qa;g.sceneToJSON=
Vc;g.sceneVisit=ra;g.sceneZOrder=ea;g.serializeXML=Sa;g.textMetrics=Pd;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(26),B(36),B(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.vega))})(this,function(g,m,n,E){function O(X){m.Transform.call(this,null,X)}function x(X,ca,ea){return ca(X.bounds.clear(),X,ea)}function y(X){m.Transform.call(this,
0,X)}function v(X){return X._signals[":vega_identifier:"]||(X._signals[":vega_identifier:"]=X.add(0))}function l(X){m.Transform.call(this,null,X)}function k(X){const ca=X.groups;X=X.parent;return ca&&1===ca.size?ca.get(Object.keys(ca.object)[0]):ca&&X?ca.lookup(X):null}function d(X){m.Transform.call(this,null,X)}function f(X){m.Transform.call(this,null,X)}function a(X,ca,ea){return X[ca]===ea?0:(X[ca]=ea,1)}function e(X){X=X.items[0].orient;return"left"===X||"right"===X}function p(X,ca,ea,ra){ca=
ca.items[0];var qa=ca.datum,Ha=null!=ca.translate?ca.translate:.5,na=ca.orient,Pa=+qa.grid;var cb=[qa.ticks?Pa++:-1,qa.labels?Pa++:-1,Pa+ +qa.domain];Pa=ca.range;var ab=ca.offset,Ba=ca.position,Ga=ca.minExtent,oa=ca.maxExtent;qa=qa.title&&ca.items[cb[2]].items[0];var Ia=ca.titlePadding,Ua=ca.bounds,eb=qa&&n.multiLineOffset(qa),Gb;Fa.clear().union(Ua);Ua.clear();-1<(Gb=cb[0])&&Ua.union(ca.items[Gb].bounds);-1<(Gb=cb[1])&&Ua.union(ca.items[Gb].bounds);switch(na){case "top":ea=Ba||0;ra=-ab;Ga=Math.max(Ga,
Math.min(oa,-Ua.y1));Ua.add(0,-Ga).add(Pa,0);qa&&A(X,qa,Ga,Ia,eb,0,-1,Ua);break;case "left":ea=-ab;ra=Ba||0;Ga=Math.max(Ga,Math.min(oa,-Ua.x1));Ua.add(-Ga,0).add(0,Pa);qa&&A(X,qa,Ga,Ia,eb,1,-1,Ua);break;case "right":ea+=ab;ra=Ba||0;Ga=Math.max(Ga,Math.min(oa,Ua.x2));Ua.add(0,0).add(Ga,Pa);qa&&A(X,qa,Ga,Ia,eb,1,1,Ua);break;case "bottom":ea=Ba||0;ra+=ab;Ga=Math.max(Ga,Math.min(oa,Ua.y2));Ua.add(0,0).add(Pa,Ga);qa&&A(X,qa,Ga,Ia,0,0,1,Ua);break;default:ea=ca.x,ra=ca.y}n.boundStroke(Ua.translate(ea,ra),
ca);a(ca,"x",ea+Ha)|a(ca,"y",ra+Ha)&&(ca.bounds=Fa,X.dirty(ca),ca.bounds=Ua,X.dirty(ca));return ca.mark.bounds.clear().union(Ua)}function A(X,ca,ea,ra,qa,Ha,na,Pa){const cb=ca.bounds;ca.auto&&(ea=na*(ea+qa+ra),qa=ra=0,X.dirty(ca),Ha?ra=(ca.x||0)-(ca.x=ea):qa=(ca.y||0)-(ca.y=ea),ca.mark.bounds.clear().union(cb.translate(-ra,-qa)),X.dirty(ca));Pa.union(cb)}function C(X){return(new n.Bounds).set(0,0,X.width||0,X.height||0)}function D(X){const ca=X.bounds.clone();return ca.empty()?ca.set(0,0,0,0):ca.translate(-(X.x||
0),-(X.y||0))}function P(X,ca,ea){X=E.isObject(X)?X[ca]:X;return null!=X?X:void 0!==ea?ea:0}function L(X){return 0>X?Math.ceil(-X):0}function G(X,ca,ea){var ra=!ea.nodirty,qa="flush"===ea.bounds?C:D,Ha=Fa.set(0,0,0,0),na=P(ea.align,"column"),Pa=P(ea.align,"row"),cb=P(ea.padding,"column"),ab=P(ea.padding,"row"),Ba=ea.columns||ca.length,Ga=0>=Ba?1:Math.ceil(ca.length/Ba),oa=ca.length,Ia=Array(oa),Ua=Array(Ba),eb=0,Gb=Array(oa),Tb=Array(Ga),kc=0,bd=Array(oa),tc=Array(oa),Fc=Array(oa),mb,dc,Bc;for(mb=
0;mb<Ba;++mb)Ua[mb]=0;for(mb=0;mb<Ga;++mb)Tb[mb]=0;for(mb=0;mb<oa;++mb){var pc=ca[mb];var Cc=Fc[mb]=qa(pc);pc.x=pc.x||0;bd[mb]=0;pc.y=pc.y||0;tc[mb]=0;pc=mb%Ba;var nc=~~(mb/Ba);eb=Math.max(eb,dc=Math.ceil(Cc.x2));kc=Math.max(kc,Bc=Math.ceil(Cc.y2));Ua[pc]=Math.max(Ua[pc],dc);Tb[nc]=Math.max(Tb[nc],Bc);Ia[mb]=cb+L(Cc.x1);Gb[mb]=ab+L(Cc.y1);ra&&X.dirty(ca[mb])}for(mb=0;mb<oa;++mb)0===mb%Ba&&(Ia[mb]=0),mb<Ba&&(Gb[mb]=0);if("each"===na)for(pc=1;pc<Ba;++pc){qa=0;for(mb=pc;mb<oa;mb+=Ba)qa<Ia[mb]&&(qa=Ia[mb]);
for(mb=pc;mb<oa;mb+=Ba)Ia[mb]=qa+Ua[pc-1]}else if("all"===na){for(mb=qa=0;mb<oa;++mb)mb%Ba&&qa<Ia[mb]&&(qa=Ia[mb]);for(mb=0;mb<oa;++mb)mb%Ba&&(Ia[mb]=qa+eb)}else for(na=!1,pc=1;pc<Ba;++pc)for(mb=pc;mb<oa;mb+=Ba)Ia[mb]+=Ua[pc-1];if("each"===Pa)for(nc=1;nc<Ga;++nc){qa=0;mb=nc*Ba;for(pc=mb+Ba;mb<pc;++mb)qa<Gb[mb]&&(qa=Gb[mb]);for(mb=nc*Ba;mb<pc;++mb)Gb[mb]=qa+Tb[nc-1]}else if("all"===Pa){qa=0;for(mb=Ba;mb<oa;++mb)qa<Gb[mb]&&(qa=Gb[mb]);for(mb=Ba;mb<oa;++mb)Gb[mb]=qa+kc}else for(Pa=!1,nc=1;nc<Ga;++nc)for(mb=
nc*Ba,pc=mb+Ba;mb<pc;++mb)Gb[mb]+=Tb[nc-1];for(mb=nc=0;mb<oa;++mb)nc=Ia[mb]+(mb%Ba?nc:0),bd[mb]+=nc-ca[mb].x;for(pc=0;pc<Ba;++pc)for(Ia=0,mb=pc;mb<oa;mb+=Ba)Ia+=Gb[mb],tc[mb]+=Ia-ca[mb].y;if(na&&P(ea.center,"column")&&1<Ga)for(mb=0;mb<oa;++mb)Cc="all"===na?eb:Ua[mb%Ba],nc=Cc-Fc[mb].x2-ca[mb].x-bd[mb],0<nc&&(bd[mb]+=nc/2);if(Pa&&P(ea.center,"row")&&1!==Ba)for(mb=0;mb<oa;++mb)Cc="all"===Pa?kc:Tb[~~(mb/Ba)],Ia=Cc-Fc[mb].y2-ca[mb].y-tc[mb],0<Ia&&(tc[mb]+=Ia/2);for(mb=0;mb<oa;++mb)Ha.union(Fc[mb].translate(bd[mb],
tc[mb]));nc=P(ea.anchor,"x");Ia=P(ea.anchor,"y");switch(P(ea.anchor,"column")){case "end":nc-=Ha.width();break;case "middle":nc-=Ha.width()/2}switch(P(ea.anchor,"row")){case "end":Ia-=Ha.height();break;case "middle":Ia-=Ha.height()/2}nc=Math.round(nc);Ia=Math.round(Ia);Ha.clear();for(mb=0;mb<oa;++mb)ca[mb].mark.bounds.clear();for(mb=0;mb<oa;++mb)pc=ca[mb],pc.x+=bd[mb]+=nc,pc.y+=tc[mb]+=Ia,Ha.union(pc.mark.bounds.union(pc.bounds.translate(bd[mb],tc[mb]))),ra&&X.dirty(pc);return Ha}function z(X,ca){return"x1"===
ca?X.x||0:"y1"===ca?X.y||0:"x2"===ca?(X.x||0)+(X.width||0):"y2"===ca?(X.y||0)+(X.height||0):void 0}function K(X,ca){return X.bounds[ca]}function H(X,ca,ea,ra,qa,Ha,na,Pa,cb,ab,Ba,Ga,oa,Ia){var Ua=ea.length,eb=ra=0,Gb,Tb;if(!Ua)return ra;for(Gb=Ba;Gb<Ua;Gb+=Ga)ea[Gb]&&(ra=na(ra,cb(ea[Gb],ab)));if(!ca.length)return ra;ca.length>qa&&(X.warn("Grid headers exceed limit: "+qa),ca=ca.slice(0,qa));ra+=Ha;qa=0;for(Ha=ca.length;qa<Ha;++qa)X.dirty(ca[qa]),ca[qa].mark.bounds.clear();Gb=Ba;qa=0;for(Ha=ca.length;qa<
Ha;++qa,Gb+=Ga){cb=ca[qa];Ba=cb.mark.bounds;for(Ua=Gb;0<=Ua&&null==(Tb=ea[Ua]);Ua-=oa);if(Pa){Ua=null==Ia?Tb.x:Math.round(Tb.bounds.x1+Ia*Tb.bounds.width());var kc=ra}else Ua=ra,kc=null==Ia?Tb.y:Math.round(Tb.bounds.y1+Ia*Tb.bounds.height());Ba.union(cb.bounds.translate(Ua-(cb.x||0),kc-(cb.y||0)));cb.x=Ua;cb.y=kc;X.dirty(cb);eb=na(eb,Ba[ab])}return eb}function R(X,ca,ea,ra,qa,Ha){if(ca){X.dirty(ca);var na=ea;ra?na=Math.round(qa.x1+Ha*qa.width()):ea=Math.round(qa.y1+Ha*qa.height());ca.bounds.translate(na-
(ca.x||0),ea-(ca.y||0));ca.mark.bounds.clear().union(ca.bounds);ca.x=na;ca.y=ea;X.dirty(ca)}}function U(X,ca){const ea=X[ca]||{};return(ra,qa)=>null!=ea[ra]?ea[ra]:null!=X[ra]?X[ra]:qa}function ka(X,ca){let ea=-Infinity;X.forEach(ra=>{null!=ra.offset&&(ea=Math.max(ea,ra.offset))});return-Infinity<ea?ea:ca}function ba(X,ca,ea,ra,qa,Ha,na){const Pa=U(ea,ca);ea=ka(X,Pa("offset",0));const cb=Pa("anchor","start"),ab="end"===cb?1:"middle"===cb?.5:0;X={align:"each",bounds:Pa("bounds","flush"),columns:"vertical"===
Pa("direction")?1:X.length,padding:Pa("margin",8),center:Pa("center"),nodirty:!0};switch(ca){case "left":X.anchor={x:Math.floor(ra.x1)-ea,column:"end",y:ab*(na||ra.height()+2*ra.y1),row:cb};break;case "right":X.anchor={x:Math.ceil(ra.x2)+ea,y:ab*(na||ra.height()+2*ra.y1),row:cb};break;case "top":X.anchor={y:Math.floor(qa.y1)-ea,row:"end",x:ab*(Ha||qa.width()+2*qa.x1),column:cb};break;case "bottom":X.anchor={y:Math.ceil(qa.y2)+ea,x:ab*(Ha||qa.width()+2*qa.x1),column:cb};break;case "top-left":X.anchor=
{x:ea,y:ea};break;case "top-right":X.anchor={x:Ha-ea,y:ea,column:"end"};break;case "bottom-left":X.anchor={x:ea,y:na-ea,row:"end"};break;case "bottom-right":X.anchor={x:Ha-ea,y:na-ea,column:"end",row:"end"}}return X}function fa(X,ca){ca=ca.items[0];var ea=ca.datum,ra=ca.orient,qa=ca.bounds,Ha=ca.x,na=ca.y;ca._bounds?ca._bounds.clear().union(qa):ca._bounds=qa.clone();qa.clear();var Pa=ca.items[0].items[0];var cb=ca.padding,ab=cb-Pa.x,Ba=cb-Pa.y;if(ca.datum.title){var Ga=ca.items[1].items[0],oa=Ga.anchor,
Ia=ca.titlePadding||0,Ua=cb-Ga.x,eb=cb-Ga.y;switch(Ga.orient){case "left":ab+=Math.ceil(Ga.bounds.width())+Ia;break;case "right":case "bottom":break;default:Ba+=Ga.bounds.height()+Ia}(ab||Ba)&&Q(X,Pa,ab,Ba);switch(Ga.orient){case "left":eb+=Z(ca,Pa,Ga,oa,1,1);break;case "right":Ua+=Z(ca,Pa,Ga,"end",0,0)+Ia;eb+=Z(ca,Pa,Ga,oa,1,1);break;case "bottom":Ua+=Z(ca,Pa,Ga,oa,0,0);eb+=Z(ca,Pa,Ga,"end",-1,0,1)+Ia;break;default:Ua+=Z(ca,Pa,Ga,oa,0,0)}(Ua||eb)&&Q(X,Ga,Ua,eb);0>(Ua=Math.round(Ga.bounds.x1-cb))&&
(Q(X,Pa,-Ua,0),Q(X,Ga,-Ua,0))}else(ab||Ba)&&Q(X,Pa,ab,Ba);qa=ja(ca,qa);X=2*ca.padding;Pa=2*ca.padding;qa.empty()||(X=Math.ceil(qa.width()+X),Pa=Math.ceil(qa.height()+Pa));"symbol"===ea.type&&q(ca.items[0].items[0].items[0].items);"none"!==ra&&(ca.x=Ha=0,ca.y=na=0);ca.width=X;ca.height=Pa;n.boundStroke(qa.set(Ha,na,Ha+X,na+Pa),ca);ca.mark.bounds.clear().union(qa);return ca}function ja(X,ca){X.items.forEach(ea=>ca.union(ea.bounds));ca.x1=X.padding;ca.y1=X.padding;return ca}function Z(X,ca,ea,ra,qa,
Ha,na){const Pa=ea.datum.vgrad;X=("symbol"===X.datum.type||!Ha&&Pa||na?ca:ca.items[0]).bounds[qa?"y2":"x2"]-X.padding;ca=Pa&&Ha?X:0;Ha=Pa&&Ha?0:X;ea=0>=qa?0:n.multiLineOffset(ea);return Math.round("start"===ra?ca:"end"===ra?Ha-ea:.5*(X-ea))}function Q(X,ca,ea,ra){ca.x+=ea;ca.y+=ra;ca.bounds.translate(ea,ra);ca.mark.bounds.translate(ea,ra);X.dirty(ca)}function q(X){const ca=X.reduce((ea,ra)=>{ea[ra.column]=Math.max(ra.bounds.x2-ra.x,ea[ra.column]||0);return ea},{});X.forEach(ea=>{ea.width=ca[ea.column];
ea.height=ea.bounds.y2-ea.y})}function N(X,ca,ea,ra,qa){var Ha=ca.items[0],na=Ha.orient,Pa=Ha.anchor,cb=Ha.offset,ab=Ha.padding,Ba=Ha.items[0].items[0],Ga=Ha.items[1]&&Ha.items[1].items[0],oa="left"===na||"right"===na?ra:ea,Ia=0,Ua=ea=0;"group"!==Ha.frame?"left"===na?(Ia=qa.y2,oa=qa.y1):"right"===na?(Ia=qa.y1,oa=qa.y2):(Ia=qa.x1,oa=qa.x2):"left"===na&&(Ia=ra,oa=0);ra="start"===Pa?Ia:"end"===Pa?oa:(Ia+oa)/2;if(Ga&&Ga.text){switch(na){case "top":case "bottom":Ua=Ba.bounds.height()+ab;break;case "left":ea=
Ba.bounds.width()+ab;break;case "right":ea=-Ba.bounds.width()-ab}Fa.clear().union(Ga.bounds);Fa.translate(ea-(Ga.x||0),Ua-(Ga.y||0));a(Ga,"x",ea)|a(Ga,"y",Ua)&&(X.dirty(Ga),Ga.bounds.clear().union(Fa),Ga.mark.bounds.clear().union(Fa),X.dirty(Ga));Fa.clear().union(Ga.bounds)}else Fa.clear();Fa.union(Ba.bounds);switch(na){case "top":na=ra;qa=qa.y1-Fa.height()-cb;break;case "left":na=qa.x1-Fa.width()-cb;qa=ra;break;case "right":na=qa.x2+Fa.width()+cb;qa=ra;break;case "bottom":na=ra;qa=qa.y2+cb;break;
default:na=Ha.x,qa=Ha.y}a(Ha,"x",na)|a(Ha,"y",qa)&&(Fa.translate(na,qa),X.dirty(Ha),Ha.bounds.clear().union(Fa),ca.bounds.clear().union(Fa),X.dirty(Ha));return Ha.bounds}function da(X){m.Transform.call(this,null,X)}function aa(X){return X&&"legend-entry"!==X.mark.role}function wa(X,ca,ea){var ra=ca.items,qa=Math.max(0,ca.width||0),Ha=Math.max(0,ca.height||0),na=(new n.Bounds).set(0,0,qa,Ha),Pa=na.clone(),cb=na.clone(),ab=[],Ba,Ga;var oa=0;for(Ga=ra.length;oa<Ga;++oa){var Ia=ra[oa];switch(Ia.role){case "axis":var Ua=
e(Ia)?Pa:cb;Ua.union(p(X,Ia,qa,Ha));break;case "title":var eb=Ia;break;case "legend":ab.push(fa(X,Ia));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Pa.union(Ia.bounds);cb.union(Ia.bounds);break;default:na.union(Ia.bounds)}}if(ab.length){const Gb={};ab.forEach(Tb=>{Ba=Tb.orient||"right";"none"!==Ba&&(Gb[Ba]||(Gb[Ba]=[])).push(Tb)});for(const Tb in Gb)ra=Gb[Tb],G(X,ra,ba(ra,Tb,ea.legends,Pa,cb,qa,Ha));
ab.forEach(Tb=>{const kc=Tb.bounds;kc.equals(Tb._bounds)||(Tb.bounds=Tb._bounds,X.dirty(Tb),Tb.bounds=kc,X.dirty(Tb));if(ea.autosize&&"fit"===ea.autosize.type)switch(Tb.orient){case "left":case "right":na.add(kc.x1,0).add(kc.x2,0);break;case "top":case "bottom":na.add(0,kc.y1).add(0,kc.y2)}else na.union(kc)})}na.union(Pa).union(cb);eb&&na.union(N(X,eb,qa,Ha,na));ca.clip&&na.set(0,0,ca.width||0,ca.height||0);ua(X,ca,na,ea)}function ua(X,ca,ea,ra){ra=ra.autosize||{};const qa=ra.type;if(!(1>X._autosize)&&
qa){var Ha=X._width,na=X._height,Pa=Math.max(0,ca.width||0),cb=Math.max(0,Math.ceil(-ea.x1));ca=Math.max(0,ca.height||0);var ab=Math.max(0,Math.ceil(-ea.y1)),Ba=Math.max(0,Math.ceil(ea.x2-Pa));ea=Math.max(0,Math.ceil(ea.y2-ca));if("padding"===ra.contains){const Ga=X.padding();Ha-=Ga.left+Ga.right;na-=Ga.top+Ga.bottom}"none"===qa?(ab=cb=0,Pa=Ha,ca=na):"fit"===qa?(Pa=Math.max(0,Ha-cb-Ba),ca=Math.max(0,na-ab-ea)):"fit-x"===qa?(Pa=Math.max(0,Ha-cb-Ba),na=ca+ab+ea):"fit-y"===qa?(Ha=Pa+cb+Ba,ca=Math.max(0,
na-ab-ea)):"pad"===qa&&(Ha=Pa+cb+Ba,na=ca+ab+ea);X._resizeView(Ha,na,Pa,ca,[cb,ab],ra.resize)}}E.inherits(O,m.Transform,{transform(X,ca){const ea=ca.dataflow,ra=X.mark,qa=ra.marktype,Ha=n.Marks[qa],na=Ha.bound;let Pa=ra.bounds,cb;if(Ha.nested)ra.items.length&&ea.dirty(ra.items[0]),Pa=x(ra,na),ra.items.forEach(ab=>{ab.bounds.clear().union(Pa)});else if("group"===qa||X.modified())switch(ca.visit(ca.MOD,ab=>ea.dirty(ab)),Pa.clear(),ra.items.forEach(ab=>Pa.union(x(ab,na))),ra.role){case "axis":case "legend":case "title":ca.reflow()}else cb=
ca.changed(ca.REM),ca.visit(ca.ADD,ab=>{Pa.union(x(ab,na))}),ca.visit(ca.MOD,ab=>{cb=cb||Pa.alignsWith(ab.bounds);ea.dirty(ab);Pa.union(x(ab,na))}),cb&&(Pa.clear(),ra.items.forEach(ab=>Pa.union(ab.bounds)));n.boundClip(ra);return ca.modifies("bounds")}});y.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};E.inherits(y,m.Transform,{transform(X,ca){const ea=v(ca.dataflow),ra=X.as;let qa=ea.value;ca.visit(ca.ADD,Ha=>Ha[ra]=Ha[ra]||++qa);ea.set(this.value=
qa);return ca}});E.inherits(l,m.Transform,{transform(X,ca){let ea=this.value;ea||(ea=ca.dataflow.scenegraph().mark(X.markdef,k(X),X.index),ea.group.context=X.context,X.context.group||(X.context.group=ea.group),ea.source=this.source,ea.clip=X.clip,ea.interactive=X.interactive,this.value=ea);const ra="group"===ea.marktype?n.GroupItem:n.Item;ca.visit(ca.ADD,qa=>ra.call(qa,ea));if(X.modified("clip")||X.modified("interactive"))ea.clip=X.clip,ea.interactive=!!X.interactive,ea.zdirty=!0,ca.reflow();ea.items=
ca.source;return ca}});const Ea={parity:X=>X.filter((ca,ea)=>ea%2?ca.opacity=0:1),greedy:(X,ca)=>{let ea;return X.filter((ra,qa)=>qa&&$a(ea.bounds,ra.bounds,ca)?ra.opacity=0:(ea=ra,1))}},$a=(X,ca,ea)=>ea>Math.max(ca.x1-X.x2,X.x1-ca.x2,ca.y1-X.y2,X.y1-ca.y2),kb=(X,ca)=>{for(var ea=1,ra=X.length,qa=X[0].bounds;ea<ra;++ea)if($a(qa,qa=X[ea].bounds,ca))return!0},ta=X=>{X=X.bounds;return 1<X.width()&&1<X.height()},Ta=(X,ca,ea)=>{X=X.range();var ra=new n.Bounds;"top"===ca||"bottom"===ca?ra.set(X[0],-Infinity,
X[1],Infinity):ra.set(-Infinity,X[0],Infinity,X[1]);ra.expand(ea||1);return qa=>ra.encloses(qa.bounds)},Xa=X=>{X.forEach(ca=>ca.opacity=1);return X};E.inherits(d,m.Transform,{transform(X,ca){const ea=Ea[X.method]||Ea.parity,ra=X.separation||0;let qa=ca.materialize(ca.SOURCE).source,Ha,na;if(qa&&qa.length){if(!X.method)return X.modified("method")&&(Xa(qa),ca=ca.reflow(X.modified()).modifies("opacity")),ca;qa=qa.filter(ta);if(qa.length){X.sort&&(qa=qa.slice().sort(X.sort));Ha=Xa(qa);ca=ca.reflow(X.modified()).modifies("opacity");
if(3<=Ha.length&&kb(Ha,ra)){do Ha=ea(Ha,ra);while(3<=Ha.length&&kb(Ha,ra));3>Ha.length&&!E.peek(qa).opacity&&(1<Ha.length&&(E.peek(Ha).opacity=0),E.peek(qa).opacity=1)}X.boundScale&&0<=X.boundTolerance&&(na=Ta(X.boundScale,X.boundOrient,+X.boundTolerance),qa.forEach(cb=>{na(cb)||(cb.opacity=0)}));var Pa=Ha[0].mark.bounds.clear();qa.forEach(cb=>{cb.opacity&&Pa.union(cb.bounds)});return ca}}}});E.inherits(f,m.Transform,{transform(X,ca){const ea=ca.dataflow;ca.visit(ca.ALL,ra=>ea.dirty(ra));ca.fields&&
ca.fields.zindex&&(X=ca.source&&ca.source[0])&&(X.mark.zdirty=!0)}});const Fa=new n.Bounds,va=(X,ca)=>Math.floor(Math.min(X,ca)),V=(X,ca)=>Math.ceil(Math.max(X,ca));E.inherits(da,m.Transform,{transform(X,ca){const ea=ca.dataflow;X.mark.items.forEach(ra=>{if(X.layout){var qa=X.layout;var Ha=ra.items;for(var na=Ha.length,Pa=0,cb,ab,Ba={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Pa<na;++Pa)if(cb=Ha[Pa],ab=cb.items,"group"===cb.marktype)switch(cb.role){case "axis":case "legend":case "title":break;
case "row-header":Ba.rowheaders.push(...ab);break;case "row-footer":Ba.rowfooters.push(...ab);break;case "column-header":Ba.colheaders.push(...ab);break;case "column-footer":Ba.colfooters.push(...ab);break;case "row-title":Ba.rowtitle=ab[0];break;case "column-title":Ba.coltitle=ab[0];break;default:Ba.marks.push(...ab)}Ha=Ba;ab=Ha.marks;Ba="flush"===qa.bounds?z:K;na=qa.offset;var Ga=qa.columns||ab.length,oa=0>=Ga?1:Math.ceil(ab.length/Ga),Ia=oa*Ga;Pa=G(ea,ab,qa);Pa.empty()&&Pa.set(0,0,0,0);if(Ha.rowheaders){cb=
P(qa.headerBand,"row",null);var Ua=H(ea,Ha.rowheaders,ab,Ga,oa,-P(na,"rowHeader"),va,0,Ba,"x1",0,Ga,1,cb)}if(Ha.colheaders){cb=P(qa.headerBand,"column",null);var eb=H(ea,Ha.colheaders,ab,Ga,Ga,-P(na,"columnHeader"),va,1,Ba,"y1",0,1,Ga,cb)}if(Ha.rowfooters){cb=P(qa.footerBand,"row",null);var Gb=H(ea,Ha.rowfooters,ab,Ga,oa,P(na,"rowFooter"),V,0,Ba,"x2",Ga-1,Ga,1,cb)}if(Ha.colfooters){cb=P(qa.footerBand,"column",null);var Tb=H(ea,Ha.colfooters,ab,Ga,Ga,P(na,"columnFooter"),V,1,Ba,"y2",Ia-Ga,1,Ga,cb)}Ha.rowtitle&&
(cb=P(qa.titleAnchor,"row"),ab=P(na,"rowTitle"),ab="end"===cb?Gb+ab:Ua-ab,cb=P(qa.titleBand,"row",.5),R(ea,Ha.rowtitle,ab,0,Pa,cb));Ha.coltitle&&(cb=P(qa.titleAnchor,"column"),ab=P(na,"columnTitle"),ab="end"===cb?Tb+ab:eb-ab,cb=P(qa.titleBand,"column",.5),R(ea,Ha.coltitle,ab,1,Pa,cb))}wa(ea,ra,X)});return aa(X.mark.group)?ca.reflow():ca}});g.bound=O;g.identifier=y;g.mark=l;g.overlap=d;g.render=f;g.viewlayout=da;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(26),B(35),B(14),B(15),B(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.d3,g.d3))})(this,function(g,m,n,E,O,x){function y(aa){m.Transform.call(this,null,aa)}function v(aa){m.Transform.call(this,null,aa)}function l(){return m.ingest({})}
function k(aa){const wa=E.fastmap().test(ua=>ua.exit);wa.lookup=ua=>wa.get(aa(ua));return wa}function d(aa){m.Transform.call(this,null,aa)}function f(aa){m.Transform.call(this,[],aa)}function a(aa){m.Transform.call(this,{},aa)}function e(aa){m.Transform.call(this,null,aa)}function p(aa){return n.isContinuous(aa)&&aa!==n.Sequential}function A(aa){m.Transform.call(this,null,aa);this.modified(!0)}function C(aa,wa,ua){n.isLogarithmic(aa)&&Math.abs(wa.reduce((Ea,$a)=>Ea+(0>$a?-1:0<$a?1:0),0))!==wa.length&&
ua.warn("Log scale domain includes zero: "+E.stringValue(wa));return wa}function D(aa,wa,ua){return E.isFunction(aa)&&(wa||ua)?n.interpolateRange(aa,P(wa||[0,1],ua)):aa}function P(aa,wa){return wa?aa.slice().reverse():aa}function L(aa){m.Transform.call(this,null,aa)}function G(aa){m.Transform.call(this,null,aa)}function z(aa,wa,ua,Ea,$a){wa=(wa-aa.sum)/2;for(var kb=aa.length,ta=0,Ta;ta<kb;++ta)Ta=aa[ta],Ta[Ea]=wa,Ta[$a]=wa+=Math.abs(ua(Ta))}function K(aa,wa,ua,Ea,$a){wa=1/aa.sum;for(var kb=0,ta=aa.length,
Ta=0,Xa=0,Fa;Ta<ta;++Ta)Fa=aa[Ta],Fa[Ea]=kb,Fa[$a]=kb=wa*(Xa+=Math.abs(ua(Fa)))}function H(aa,wa,ua,Ea,$a){for(var kb=wa=0,ta=aa.length,Ta=0,Xa,Fa;Ta<ta;++Ta)Fa=aa[Ta],Xa=+ua(Fa),0>Xa?(Fa[Ea]=kb,Fa[$a]=kb+=Xa):(Fa[Ea]=wa,Fa[$a]=wa+=Xa)}function R(aa,wa,ua,Ea){var $a=[],kb=X=>X(Fa),ta;if(null==wa)$a.push(aa.slice());else{var Ta={};var Xa=0;for(ta=aa.length;Xa<ta;++Xa){var Fa=aa[Xa];var va=wa.map(kb);var V=Ta[va];V||(Ta[va]=V=[],$a.push(V));V.push(Fa)}}kb=va=0;for(aa=$a.length;va<aa;++va){V=$a[va];
wa=Xa=0;for(ta=V.length;Xa<ta;++Xa)wa+=Math.abs(Ea(V[Xa]));V.sum=wa;wa>kb&&(kb=wa);ua&&V.sort(ua)}$a.max=kb;return $a}E.inherits(y,m.Transform,{transform(aa,wa){if(this.value&&!aa.modified())return wa.StopPropagation;var ua=wa.dataflow.locale();wa=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS);var Ea=this.value,$a=aa.scale,kb=n.tickCount($a,null==aa.count?aa.values?aa.values.length:10:aa.count,aa.minstep),ta=aa.format||n.tickFormat(ua,$a,kb,aa.formatSpecifier,aa.formatType,!!aa.values),Ta=aa.values?n.validTicks($a,
aa.values,kb):n.tickValues($a,kb);Ea&&(wa.rem=Ea);Ea=Ta.map((Xa,Fa)=>m.ingest({index:Fa/(Ta.length-1||1),value:Xa,label:ta(Xa)}));aa.extra&&Ea.length&&Ea.push(m.ingest({index:-1,extra:{value:Ea[0].value},label:""}));wa.source=Ea;this.value=wa.add=Ea;return wa}});E.inherits(v,m.Transform,{transform(aa,wa){var ua=wa.dataflow,Ea=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS),$a=aa.item||l,kb=aa.key||m.tupleid,ta=this.value;E.isArray(Ea.encode)&&(Ea.encode=null);ta&&(aa.modified("key")||wa.modified(kb))&&E.error("DataJoin does not support modified key function or fields.");
ta||(wa=wa.addAll(),this.value=ta=k(kb));wa.visit(wa.ADD,Ta=>{const Xa=kb(Ta);let Fa=ta.get(Xa);Fa?Fa.exit?(ta.empty--,Ea.add.push(Fa)):Ea.mod.push(Fa):(Fa=$a(Ta),ta.set(Xa,Fa),Ea.add.push(Fa));Fa.datum=Ta;Fa.exit=!1});wa.visit(wa.MOD,Ta=>{var Xa=kb(Ta);if(Xa=ta.get(Xa))Xa.datum=Ta,Ea.mod.push(Xa)});wa.visit(wa.REM,Ta=>{var Xa=kb(Ta);Xa=ta.get(Xa);Ta!==Xa.datum||Xa.exit||(Ea.rem.push(Xa),Xa.exit=!0,++ta.empty)});wa.changed(wa.ADD_MOD)&&Ea.modifies("datum");(wa.clean()||aa.clean&&ta.empty>ua.cleanThreshold)&&
ua.runAfter(ta.clean);return Ea}});E.inherits(d,m.Transform,{transform(aa,wa){var ua=wa.fork(wa.ADD_REM),Ea=aa.mod||!1,$a=aa.encoders,kb=wa.encode;if(E.isArray(kb))if(ua.changed()||kb.every(V=>$a[V]))kb=kb[0],ua.encode=null;else return wa.StopPropagation;var ta="enter"===kb,Ta=$a.update||E.falsy,Xa=$a.enter||E.falsy,Fa=$a.exit||E.falsy,va=(kb&&!ta?$a[kb]:Ta)||E.falsy;wa.changed(wa.ADD)&&(wa.visit(wa.ADD,V=>{Xa(V,aa);Ta(V,aa)}),ua.modifies(Xa.output),ua.modifies(Ta.output),va!==E.falsy&&va!==Ta&&(wa.visit(wa.ADD,
V=>{va(V,aa)}),ua.modifies(va.output)));wa.changed(wa.REM)&&Fa!==E.falsy&&(wa.visit(wa.REM,V=>{Fa(V,aa)}),ua.modifies(Fa.output));if(ta||va!==E.falsy)kb=wa.MOD|(aa.modified()?wa.REFLOW:0),ta?(wa.visit(kb,V=>{const X=Xa(V,aa)||Ea;(va(V,aa)||X)&&ua.mod.push(V)}),ua.mod.length&&ua.modifies(Xa.output)):wa.visit(kb,V=>{(va(V,aa)||Ea)&&ua.mod.push(V)}),ua.mod.length&&ua.modifies(va.output);return ua.changed()?ua:wa.StopPropagation}});E.inherits(f,m.Transform,{transform(aa,wa){if(null!=this.value&&!aa.modified())return wa.StopPropagation;
var ua=wa.dataflow.locale(),Ea=wa.fork(wa.NO_SOURCE|wa.NO_FIELDS),$a=this.value,kb=aa.type||n.SymbolLegend,ta=aa.scale,Ta=+aa.limit,Xa=n.tickCount(ta,null==aa.count?5:aa.count,aa.minstep),Fa=!!aa.values||kb===n.SymbolLegend,va=aa.format||n.labelFormat(ua,ta,Xa,kb,aa.formatSpecifier,aa.formatType,Fa),V=aa.values||n.labelValues(ta,Xa),X;$a&&(Ea.rem=$a);if(kb===n.SymbolLegend){if(Ta&&V.length>Ta){wa.dataflow.warn("Symbol legend count exceeds limit, filtering items.");$a=V.slice(0,Ta-1);var ca=!0}else $a=
V;if(E.isFunction(X=aa.size)){aa.values||0!==ta($a[0])||($a=$a.slice(1));var ea=$a.reduce((qa,Ha)=>Math.max(qa,X(Ha,aa)),0)}else X=E.constant(ea=X||8);$a=$a.map((qa,Ha)=>m.ingest({index:Ha,label:va(qa,Ha,$a),value:qa,offset:ea,size:X(qa,aa)}));ca&&(ca=V[$a.length],$a.push(m.ingest({index:$a.length,label:`\u2026${V.length-$a.length} entries`,value:ca,offset:ea,size:X(ca,aa)})))}else if(kb===n.GradientLegend){wa=ta.domain();var ra=n.scaleFraction(ta,wa[0],E.peek(wa));3>V.length&&!aa.values&&wa[0]!==
E.peek(wa)&&(V=[wa[0],E.peek(wa)]);$a=V.map((qa,Ha)=>m.ingest({index:Ha,label:va(qa,Ha,V),value:qa,perc:ra(qa)}))}else X=V.length-1,ra=n.labelFraction(ta),$a=V.map((qa,Ha)=>m.ingest({index:Ha,label:va(qa,Ha,V),value:qa,perc:Ha?ra(qa):0,perc2:Ha===X?1:ra(V[Ha+1])}));Ea.source=$a;this.value=Ea.add=$a;return Ea}});const U=aa=>aa.source.x,ka=aa=>aa.source.y,ba=aa=>aa.target.x,fa=aa=>aa.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};E.inherits(a,m.Transform,{transform(aa,wa){var ua=aa.sourceX||U,Ea=aa.sourceY||ka,$a=
aa.targetX||ba,kb=aa.targetY||fa,ta=aa.as||"path",Ta=aa.shape||"line",Xa=q.get(Ta+"-"+(aa.orient||"vertical"))||q.get(Ta);Xa||E.error("LinkPath unsupported type: "+aa.shape+(aa.orient?"-"+aa.orient:""));wa.visit(wa.SOURCE,Fa=>{Fa[ta]=Xa(ua(Fa),Ea(Fa),$a(Fa),kb(Fa))});return wa.reflow(aa.modified()).modifies(ta)}});const ja=(aa,wa,ua,Ea)=>"M"+aa+","+wa+"L"+ua+","+Ea,Z=(aa,wa,ua,Ea)=>{var $a=ua-aa,kb=Ea-wa,ta=Math.sqrt($a*$a+kb*kb)/2;return"M"+aa+","+wa+"A"+ta+","+ta+" "+180*Math.atan2(kb,$a)/Math.PI+
" 0 1 "+ua+","+Ea},Q=(aa,wa,ua,Ea)=>{var $a=ua-aa;const kb=Ea-wa,ta=.2*($a+kb);$a=.2*(kb-$a);return"M"+aa+","+wa+"C"+(aa+ta)+","+(wa+$a)+" "+(ua+$a)+","+(Ea-ta)+" "+ua+","+Ea},q=E.fastmap({line:ja,"line-radial":(aa,wa,ua,Ea)=>ja(wa*Math.cos(aa),wa*Math.sin(aa),Ea*Math.cos(ua),Ea*Math.sin(ua)),arc:Z,"arc-radial":(aa,wa,ua,Ea)=>Z(wa*Math.cos(aa),wa*Math.sin(aa),Ea*Math.cos(ua),Ea*Math.sin(ua)),curve:Q,"curve-radial":(aa,wa,ua,Ea)=>Q(wa*Math.cos(aa),wa*Math.sin(aa),Ea*Math.cos(ua),Ea*Math.sin(ua)),"orthogonal-horizontal":(aa,
wa,ua,Ea)=>"M"+aa+","+wa+"V"+Ea+"H"+ua,"orthogonal-vertical":(aa,wa,ua,Ea)=>"M"+aa+","+wa+"H"+ua+"V"+Ea,"orthogonal-radial":(aa,wa,ua,Ea)=>{const $a=Math.cos(ua),kb=Math.sin(ua);return"M"+wa*Math.cos(aa)+","+wa*Math.sin(aa)+"A"+wa+","+wa+" 0 0,"+((Math.abs(ua-aa)>Math.PI?ua<=aa:ua>aa)?1:0)+" "+wa*$a+","+wa*kb+"L"+Ea*$a+","+Ea*kb},"diagonal-horizontal":(aa,wa,ua,Ea)=>{const $a=(aa+ua)/2;return"M"+aa+","+wa+"C"+$a+","+wa+" "+$a+","+Ea+" "+ua+","+Ea},"diagonal-vertical":(aa,wa,ua,Ea)=>{const $a=(wa+
Ea)/2;return"M"+aa+","+wa+"C"+aa+","+$a+" "+ua+","+$a+" "+ua+","+Ea},"diagonal-radial":(aa,wa,ua,Ea)=>{const $a=Math.cos(aa);aa=Math.sin(aa);const kb=Math.cos(ua);ua=Math.sin(ua);const ta=(wa+Ea)/2;return"M"+wa*$a+","+wa*aa+"C"+ta*$a+","+ta*aa+" "+ta*kb+","+ta*ua+" "+Ea*kb+","+Ea*ua}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};E.inherits(e,m.Transform,{transform(aa,wa){var ua=aa.as||["startAngle","endAngle"],Ea=ua[0],$a=ua[1],kb=aa.startAngle||0,ta=null!=aa.endAngle?aa.endAngle:2*Math.PI,Ta=wa.source,Xa=Ta.map(aa.field||E.one),Fa=Xa.length,va=kb;kb=(ta-kb)/O.sum(Xa);ta=O.range(Fa);var V;aa.sort&&ta.sort((ea,ra)=>Xa[ea]-Xa[ra]);for(V=0;V<Fa;++V){var X=Xa[ta[V]];var ca=Ta[ta[V]];ca[Ea]=va;ca[$a]=va+=X*kb}this.value=Xa;return wa.reflow(aa.modified()).modifies(ua)}});
const N=E.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));E.inherits(A,m.Transform,{transform(aa,wa){var ua=wa.dataflow,Ea=this.value;var $a=aa.type;var kb="";if($a===n.Sequential)$a=n.Sequential+"-"+n.Linear;else{var ta=aa.type;if(ta=n.isContinuous(ta)&&ta!==n.Time&&ta!==n.UTC&&(aa.scheme||aa.range&&aa.range.length&&aa.range.every(E.isString)))kb=
aa.rawDomain?aa.rawDomain.length:aa.domain?aa.domain.length+ +(null!=aa.domainMid):0,kb=2===kb?n.Sequential+"-":3===kb?n.Diverging+"-":"";$a=(kb+$a||n.Linear).toLowerCase()}Ea&&$a===Ea.type||(this.value=Ea=n.scale($a)());for($a in aa)N[$a]||"padding"===$a&&p(Ea.type)||(E.isFunction(Ea[$a])?Ea[$a](aa[$a]):ua.warn("Unsupported scale property: "+$a));kb=$a=Ea;(ta=aa.domainRaw)?(Ea.domain(C(Ea.type,ta,ua)),ta=ta.length):ta=-1;if(-1<ta)ua=ta;else{var Ta=aa.domain;ta=Ea.type;var Xa;!(Xa=aa.zero)&&(Xa=void 0===
aa.zero)&&(Xa=Ea.type,Xa=!Ea.bins&&(Xa===n.Linear||Xa===n.Pow||Xa===n.Sqrt));if(Ta){if(p(ta)&&aa.padding&&Ta[0]!==E.peek(Ta)){var Fa=aa.range,va=aa.padding;var V=aa.exponent;var X=aa.constant;Fa=Math.abs(E.peek(Fa)-Fa[0]);va=Fa/(Fa-2*va);V=ta===n.Log?E.zoomLog(Ta,null,va):ta===n.Sqrt?E.zoomPow(Ta,null,va,.5):ta===n.Pow?E.zoomPow(Ta,null,va,V||1):ta===n.Symlog?E.zoomSymlog(Ta,null,va,X||1):E.zoomLinear(Ta,null,va);Ta=Ta.slice();Ta[0]=V[0];Ta[Ta.length-1]=V[1]}if(Xa||null!=aa.domainMin||null!=aa.domainMax||
null!=aa.domainMid)V=(Ta=Ta.slice()).length-1||1,Xa&&(0<Ta[0]&&(Ta[0]=0),0>Ta[V]&&(Ta[V]=0)),null!=aa.domainMin&&(Ta[0]=aa.domainMin),null!=aa.domainMax&&(Ta[V]=aa.domainMax),null!=aa.domainMid&&(Xa=aa.domainMid,X=Xa>Ta[V]?V+1:Xa<Ta[0]?0:V,X!==V&&ua.warn("Scale domainMid exceeds domain min or max.",Xa),Ta.splice(X,0,Xa));Ea.domain(C(ta,Ta,ua));ta===n.Ordinal&&Ea.unknown(aa.domainImplicit?n.scaleImplicit:void 0);aa.nice&&Ea.nice&&Ea.nice(!0!==aa.nice&&n.tickCount(Ea,aa.nice)||null);ua=Ta.length}else ua=
0}(ta=aa.bins)&&!E.isArray(ta)&&(Xa=kb.domain(),Ea=Xa[0],Xa=E.peek(Xa),Ta=ta.step,V=null==ta.start?Ea:ta.start,ta=null==ta.stop?Xa:ta.stop,Ta||E.error("Scale bins parameter missing step property."),V<Ea&&(V=Ta*Math.ceil(Ea/Ta)),ta>Xa&&(ta=Ta*Math.floor(Xa/Ta)),ta=O.range(V,ta+Ta/2,Ta));ta?kb.bins=ta:kb.bins&&delete kb.bins;kb.type===n.BinOrdinal&&(ta?aa.domain||aa.domainRaw||(kb.domain(ta),ua=ta.length):kb.bins=kb.domain());Ea=ua;a:{kb=$a.type;ua=aa.round||!1;ta=aa.range;if(null!=aa.rangeStep)kb!==
n.Band&&kb!==n.Point&&E.error("Only band and point scales support rangeStep."),ta=[0,aa.rangeStep*n.bandSpace(Ea,kb===n.Point?1:(null!=aa.paddingInner?aa.paddingInner:aa.padding)||0,(null!=aa.paddingOuter?aa.paddingOuter:aa.padding)||0)];else if(aa.scheme&&(ta=aa.schemeExtent,E.isArray(aa.scheme)?Xa=n.interpolateColors(aa.scheme,aa.interpolate,aa.interpolateGamma):(Xa=aa.scheme.toLowerCase(),(Xa=n.scheme(Xa))||E.error(`Unrecognized scheme name: ${aa.scheme}`)),Ea=kb===n.Threshold?Ea+1:kb===n.BinOrdinal?
Ea-1:kb===n.Quantile||kb===n.Quantize?+aa.schemeCount||5:Ea,ta=n.isInterpolating(kb)?D(Xa,ta,aa.reverse):E.isFunction(Xa)?n.quantizeInterpolator(D(Xa,ta),Ea):kb===n.Ordinal?Xa:Xa.slice(0,Ea),E.isFunction(ta)))if($a.interpolator){$a.interpolator(ta);break a}else E.error(`Scale type ${kb} does not support interpolating color schemes.`);ta&&n.isInterpolating(kb)?$a.interpolator(n.interpolateColors(P(ta,aa.reverse),aa.interpolate,aa.interpolateGamma)):(ta&&aa.interpolate&&$a.interpolate?$a.interpolate(n.interpolate(aa.interpolate,
aa.interpolateGamma)):E.isFunction($a.round)?$a.round(ua):E.isFunction($a.rangeRound)&&$a.interpolate(ua?x.interpolateRound:x.interpolate),ta&&$a.range(P(ta,aa.reverse)))}return wa.fork(wa.NO_SOURCE|wa.NO_FIELDS)}});E.inherits(L,m.Transform,{transform(aa,wa){const ua=aa.modified("sort")||wa.changed(wa.ADD)||wa.modified(aa.sort.fields)||wa.modified("datum");ua&&wa.source.sort(m.stableCompare(aa.sort));this.modified(ua);return wa}});const da=["y0","y1"];G.Definition={type:"Stack",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":da}]};E.inherits(G,m.Transform,{transform(aa,wa){var ua=aa.as||da,Ea=ua[0],$a=ua[1],kb=m.stableCompare(aa.sort),ta=aa.field||E.one,Ta="center"===aa.offset?z:"normalize"===aa.offset?K:H,Xa;kb=R(wa.source,aa.groupby,kb,ta);var Fa=0;var va=kb.length;for(Xa=kb.max;Fa<
va;++Fa)Ta(kb[Fa],Xa,ta,Ea,$a);return wa.reflow(aa.modified()).modifies(ua)}});g.axisticks=y;g.datajoin=v;g.encode=d;g.legendentries=f;g.linkpath=a;g.pie=e;g.scale=A;g.sortitems=L;g.stack=G;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(g=g||self,m(g.d3=g.d3||{},g.d3))})(this,function(g,m){function n(Wa){return 1<Wa?0:-1>Wa?le:Math.acos(Wa)}function E(Wa){return 1<Wa?ye:-1>Wa?-ye:Math.asin(Wa)}function O(Wa){return(Wa=gc(Wa/2))*Wa}function x(){}function y(Wa,ob){if(Wa&&If.hasOwnProperty(Wa.type))If[Wa.type](Wa,ob)}function v(Wa,ob,Ab){var Nb=-1;Ab=Wa.length-
Ab;for(ob.lineStart();++Nb<Ab;){var $b=Wa[Nb];ob.point($b[0],$b[1],$b[2])}ob.lineEnd()}function l(Wa,ob){var Ab=-1,Nb=Wa.length;for(ob.polygonStart();++Ab<Nb;)v(Wa[Ab],ob,1);ob.polygonEnd()}function k(Wa,ob){if(Wa&&Hf.hasOwnProperty(Wa.type))Hf[Wa.type](Wa,ob);else y(Wa,ob)}function d(){Fb.point=a}function f(){e(Ae,xc)}function a(Wa,ob){Fb.point=e;Ae=Wa;xc=ob;Wa*=Zd;ob*=Zd;ya=Wa;Ca=Qd(ob=ob/2+Mf);Za=gc(ob)}function e(Wa,ob){Wa*=Zd;ob*=Zd;ob=ob/2+Mf;var Ab=Wa-ya,Nb=0<=Ab?1:-1,$b=Nb*Ab;Ab=Qd(ob);ob=
gc(ob);var Lc=Za*ob,w=Ca*Ab+Lc*Qd($b);Nb=Lc*Nb*gc($b);Qf.add(Pe(Nb,w));ya=Wa;Ca=Ab;Za=ob}function p(Wa){return[Pe(Wa[1],Wa[0]),E(Wa[2])]}function A(Wa){var ob=Wa[0];Wa=Wa[1];var Ab=Qd(Wa);return[Ab*Qd(ob),Ab*gc(ob),gc(Wa)]}function C(Wa,ob){return Wa[0]*ob[0]+Wa[1]*ob[1]+Wa[2]*ob[2]}function D(Wa,ob){return[Wa[1]*ob[2]-Wa[2]*ob[1],Wa[2]*ob[0]-Wa[0]*ob[2],Wa[0]*ob[1]-Wa[1]*ob[0]]}function P(Wa,ob){Wa[0]+=ob[0];Wa[1]+=ob[1];Wa[2]+=ob[2]}function L(Wa,ob){return[Wa[0]*ob,Wa[1]*ob,Wa[2]*ob]}function G(Wa){var ob=
re(Wa[0]*Wa[0]+Wa[1]*Wa[1]+Wa[2]*Wa[2]);Wa[0]/=ob;Wa[1]/=ob;Wa[2]/=ob}function z(Wa,ob){od.push(Rd=[ub=Wa,vc=Wa]);ob<Wb&&(Wb=ob);ob>Nc&&(Nc=ob)}function K(Wa,ob){var Ab=A([Wa*Zd,ob*Zd]);if(Nd){var Nb=D(Nd,Ab);Nb=D([Nb[1],-Nb[0],0],Nb);G(Nb);Nb=p(Nb);var $b=Wa-ld,Lc=0<$b?1:-1,w=Nb[0]*Td*Lc;$b=180<we($b);$b^(Lc*ld<w&&w<Lc*Wa)?(Nb=Nb[1]*Td,Nb>Nc&&(Nc=Nb)):(w=(w+360)%360-180,$b^(Lc*ld<w&&w<Lc*Wa))?(Nb=-Nb[1]*Td,Nb<Wb&&(Wb=Nb)):(ob<Wb&&(Wb=ob),ob>Nc&&(Nc=ob));$b?Wa<ld?fa(ub,Wa)>fa(ub,vc)&&(vc=Wa):fa(Wa,
vc)>fa(ub,vc)&&(ub=Wa):vc>=ub?(Wa<ub&&(ub=Wa),Wa>vc&&(vc=Wa)):Wa>ld?fa(ub,Wa)>fa(ub,vc)&&(vc=Wa):fa(Wa,vc)>fa(ub,vc)&&(ub=Wa)}else od.push(Rd=[ub=Wa,vc=Wa]);ob<Wb&&(Wb=ob);ob>Nc&&(Nc=ob);Nd=Ab;ld=Wa}function H(){kd.point=K}function R(){Rd[0]=ub;Rd[1]=vc;kd.point=z;Nd=null}function U(Wa,ob){if(Nd){var Ab=Wa-ld;Od.add(180<we(Ab)?Ab+(0<Ab?360:-360):Ab)}else Pc=Wa,Ld=ob;Fb.point(Wa,ob);K(Wa,ob)}function ka(){Fb.lineStart()}function ba(){U(Pc,Ld);Fb.lineEnd();1E-6<we(Od)&&(ub=-(vc=180));Rd[0]=ub;Rd[1]=
vc;Nd=null}function fa(Wa,ob){return 0>(ob-=Wa)?ob+360:ob}function ja(Wa,ob){return Wa[0]-ob[0]}function Z(Wa,ob){return Wa[0]<=Wa[1]?Wa[0]<=ob&&ob<=Wa[1]:ob<Wa[0]||Wa[1]<ob}function Q(Wa,ob){Wa*=Zd;ob*=Zd;var Ab=Qd(ob);q(Ab*Qd(Wa),Ab*gc(Wa),gc(ob))}function q(Wa,ob,Ab){++lf;ee+=(Wa-ee)/lf;Ve+=(ob-Ve)/lf;ce+=(Ab-ce)/lf}function N(){lc.point=da}function da(Wa,ob){Wa*=Zd;ob*=Zd;var Ab=Qd(ob);Xb=Ab*Qd(Wa);Sb=Ab*gc(Wa);hc=gc(ob);lc.point=aa;q(Xb,Sb,hc)}function aa(Wa,ob){Wa*=Zd;ob*=Zd;var Ab=Qd(ob),Nb=
Ab*Qd(Wa);Wa=Ab*gc(Wa);ob=gc(ob);var $b=Pe(re(($b=Sb*ob-hc*Wa)*$b+($b=hc*Nb-Xb*ob)*$b+($b=Xb*Wa-Sb*Nb)*$b),Xb*Nb+Sb*Wa+hc*ob);bf+=$b;Xe+=$b*(Xb+(Xb=Nb));zf+=$b*(Sb+(Sb=Wa));tf+=$b*(hc+(hc=ob));q(Xb,Sb,hc)}function wa(){lc.point=Q}function ua(){lc.point=$a}function Ea(){kb(Ka,vb);lc.point=Q}function $a(Wa,ob){Ka=Wa;vb=ob;Wa*=Zd;ob*=Zd;lc.point=kb;var Ab=Qd(ob);Xb=Ab*Qd(Wa);Sb=Ab*gc(Wa);hc=gc(ob);q(Xb,Sb,hc)}function kb(Wa,ob){Wa*=Zd;ob*=Zd;var Ab=Qd(ob),Nb=Ab*Qd(Wa);Wa=Ab*gc(Wa);ob=gc(ob);Ab=Sb*ob-
hc*Wa;var $b=hc*Nb-Xb*ob,Lc=Xb*Wa-Sb*Nb,w=Ic(Ab,$b,Lc),S=E(w);w=w&&-S/w;Oe.add(w*Ab);Nf.add(w*$b);Aa.add(w*Lc);bf+=S;Xe+=S*(Xb+(Xb=Nb));zf+=S*(Sb+(Sb=Wa));tf+=S*(hc+(hc=ob));q(Xb,Sb,hc)}function ta(Wa){return function(){return Wa}}function Ta(Wa,ob){function Ab(Nb,$b){return Nb=Wa(Nb,$b),ob(Nb[0],Nb[1])}Wa.invert&&ob.invert&&(Ab.invert=function(Nb,$b){return Nb=ob.invert(Nb,$b),Nb&&Wa.invert(Nb[0],Nb[1])});return Ab}function Xa(Wa,ob){return[we(Wa)>le?Wa+Math.round(-Wa/Ge)*Ge:Wa,ob]}function Fa(Wa,
ob,Ab){return(Wa%=Ge)?ob||Ab?Ta(V(Wa),X(ob,Ab)):V(Wa):ob||Ab?X(ob,Ab):Xa}function va(Wa){return function(ob,Ab){return ob+=Wa,[ob>le?ob-Ge:ob<-le?ob+Ge:ob,Ab]}}function V(Wa){var ob=va(Wa);ob.invert=va(-Wa);return ob}function X(Wa,ob){function Ab(S,ma){var Na=Qd(ma),hb=Qd(S)*Na;S=gc(S)*Na;ma=gc(ma);Na=ma*Nb+hb*$b;return[Pe(S*Lc-Na*w,hb*Nb-ma*$b),E(Na*Lc+S*w)]}var Nb=Qd(Wa),$b=gc(Wa),Lc=Qd(ob),w=gc(ob);Ab.invert=function(S,ma){var Na=Qd(ma),hb=Qd(S)*Na;S=gc(S)*Na;ma=gc(ma);Na=ma*Lc-S*w;return[Pe(S*
Lc+ma*w,hb*Nb+Na*$b),E(Na*Nb-hb*$b)]};return Ab}function ca(Wa){function ob(Ab){Ab=Wa(Ab[0]*Zd,Ab[1]*Zd);return Ab[0]*=Td,Ab[1]*=Td,Ab}Wa=Fa(Wa[0]*Zd,Wa[1]*Zd,2<Wa.length?Wa[2]*Zd:0);ob.invert=function(Ab){Ab=Wa.invert(Ab[0]*Zd,Ab[1]*Zd);return Ab[0]*=Td,Ab[1]*=Td,Ab};return ob}function ea(Wa,ob,Ab,Nb,$b,Lc){if(Ab){var w=Qd(ob),S=gc(ob);Ab*=Nb;if(null==$b)$b=ob+Nb*Ge,Lc=ob-Ab/2;else if($b=ra(w,$b),Lc=ra(w,Lc),0<Nb?$b<Lc:$b>Lc)$b+=Nb*Ge;for(;0<Nb?$b>Lc:$b<Lc;$b-=Ab)ob=p([w,-S*Qd($b),-S*gc($b)]),Wa.point(ob[0],
ob[1])}}function ra(Wa,ob){ob=A(ob);ob[0]-=Wa;G(ob);Wa=n(-ob[1]);return((0>-ob[2]?-Wa:Wa)+Ge-1E-6)%Ge}function qa(){var Wa=[],ob;return{point:function(Ab,Nb,$b){ob.push([Ab,Nb,$b])},lineStart:function(){Wa.push(ob=[])},lineEnd:x,rejoin:function(){1<Wa.length&&Wa.push(Wa.pop().concat(Wa.shift()))},result:function(){var Ab=Wa;Wa=[];ob=null;return Ab}}}function Ha(Wa,ob){return 1E-6>we(Wa[0]-ob[0])&&1E-6>we(Wa[1]-ob[1])}function na(Wa,ob,Ab,Nb){this.x=Wa;this.z=ob;this.o=Ab;this.e=Nb;this.v=!1;this.n=
this.p=null}function Pa(Wa,ob,Ab,Nb,$b){var Lc=[],w=[];Wa.forEach(function(lb){if(!(0>=(sb=lb.length-1))){var sb,Qb=lb[0],cc=lb[sb];if(Ha(Qb,cc)){if(!Qb[2]&&!cc[2]){$b.lineStart();for(S=0;S<sb;++S)$b.point((Qb=lb[S])[0],Qb[1]);$b.lineEnd();return}cc[0]+=2E-6}Lc.push(sb=new na(Qb,lb,null,!0));w.push(sb.o=new na(Qb,null,sb,!1));Lc.push(sb=new na(cc,lb,null,!1));w.push(sb.o=new na(cc,null,sb,!0))}});if(Lc.length){w.sort(ob);cb(Lc);cb(w);var S=0;for(Wa=w.length;S<Wa;++S)w[S].e=Ab=!Ab;Ab=Lc[0];for(var ma;;){for(var Na=
Ab,hb=!0;Na.v;)if((Na=Na.n)===Ab)return;ob=Na.z;$b.lineStart();do{Na.v=Na.o.v=!0;if(Na.e){if(hb)for(S=0,Wa=ob.length;S<Wa;++S)$b.point((ma=ob[S])[0],ma[1]);else Nb(Na.x,Na.n.x,1,$b);Na=Na.n}else{if(hb)for(ob=Na.p.z,S=ob.length-1;0<=S;--S)$b.point((ma=ob[S])[0],ma[1]);else Nb(Na.x,Na.p.x,-1,$b);Na=Na.p}Na=Na.o;ob=Na.z;hb=!hb}while(!Na.v);$b.lineEnd()}}}function cb(Wa){if(ob=Wa.length){for(var ob,Ab=0,Nb=Wa[0],$b;++Ab<ob;)Nb.n=$b=Wa[Ab],$b.p=Nb,Nb=$b;Nb.n=$b=Wa[0];$b.p=Nb}}function ab(Wa){return we(Wa[0])<=
le?Wa[0]:De(Wa[0])*((we(Wa[0])+le)%Ge-le)}function Ba(Wa,ob){var Ab=ab(ob);ob=ob[1];var Nb=gc(ob),$b=[gc(Ab),-Qd(Ab),0],Lc=0,w=0,S=new m.Adder;1===Nb?ob=ye+1E-6:-1===Nb&&(ob=-ye-1E-6);Nb=0;for(var ma=Wa.length;Nb<ma;++Nb)if(hb=(Na=Wa[Nb]).length){var Na,hb,lb=Na[hb-1],sb=ab(lb),Qb=lb[1]/2+Mf,cc=gc(Qb),Vb=Qd(Qb);for(Qb=0;Qb<hb;++Qb,sb=ed,cc=zd,Vb=qd,lb=Oc){var Oc=Na[Qb],ed=ab(Oc);qd=Oc[1]/2+Mf;var zd=gc(qd),qd=Qd(qd),ad=ed-sb,Jc=0<=ad?1:-1,ud=Jc*ad,de=ud>le;cc*=zd;S.add(Pe(cc*Jc*gc(ud),Vb*qd+cc*Qd(ud)));
Lc+=de?ad+Jc*Ge:ad;de^sb>=Ab^ed>=Ab&&(lb=D(A(lb),A(Oc)),G(lb),sb=D($b,lb),G(sb),sb=(de^0<=ad?-1:1)*E(sb[2]),ob>sb||ob===sb&&(lb[0]||lb[1]))&&(w+=de^0<=ad?1:-1)}}return(-1E-6>Lc||1E-6>Lc&&-1E-12>S)^w&1}function Ga(Wa,ob,Ab,Nb){return function($b){function Lc(ad,Jc){Wa(ad,Jc)&&$b.point(ad,Jc)}function w(ad,Jc){sb.point(ad,Jc)}function S(){qd.point=w;sb.lineStart()}function ma(){qd.point=Lc;sb.lineEnd()}function Na(ad,Jc){zd.push([ad,Jc]);cc.point(ad,Jc)}function hb(){cc.lineStart();zd=[]}function lb(){Na(zd[0][0],
zd[0][1]);cc.lineEnd();var ad=cc.clean(),Jc=Qb.result(),ud=Jc.length,de;zd.pop();Oc.push(zd);zd=null;if(ud)if(ad&1){if(ud=Jc[0],0<(Jc=ud.length-1)){Vb||($b.polygonStart(),Vb=!0);$b.lineStart();for(ad=0;ad<Jc;++ad)$b.point((de=ud[ad])[0],de[1]);$b.lineEnd()}}else 1<ud&&ad&2&&Jc.push(Jc.pop().concat(Jc.shift())),ed.push(Jc.filter(oa))}var sb=ob($b),Qb=qa(),cc=ob(Qb),Vb=!1,Oc,ed,zd,qd={point:Lc,lineStart:S,lineEnd:ma,polygonStart:function(){qd.point=Na;qd.lineStart=hb;qd.lineEnd=lb;ed=[];Oc=[]},polygonEnd:function(){qd.point=
Lc;qd.lineStart=S;qd.lineEnd=ma;ed=m.merge(ed);var ad=Ba(Oc,Nb);ed.length?(Vb||($b.polygonStart(),Vb=!0),Pa(ed,Ia,ad,Ab,$b)):ad&&(Vb||($b.polygonStart(),Vb=!0),$b.lineStart(),Ab(null,null,1,$b),$b.lineEnd());Vb&&($b.polygonEnd(),Vb=!1);ed=Oc=null},sphere:function(){$b.polygonStart();$b.lineStart();Ab(null,null,1,$b);$b.lineEnd();$b.polygonEnd()}};return qd}}function oa(Wa){return 1<Wa.length}function Ia(Wa,ob){return(0>(Wa=Wa.x)[0]?Wa[1]-ye-1E-6:ye-Wa[1])-(0>(ob=ob.x)[0]?ob[1]-ye-1E-6:ye-ob[1])}function Ua(Wa){function ob(ma,
Na){return Qd(ma)*Qd(Na)>$b}function Ab(ma,Na,hb){var lb=A(ma),sb=A(Na),Qb=[1,0,0];sb=D(lb,sb);var cc=C(sb,sb);lb=sb[0];var Vb=cc-lb*lb;if(!Vb)return!hb&&ma;cc=$b*cc/Vb;Vb=-$b*lb/Vb;lb=D(Qb,sb);Qb=L(Qb,cc);sb=L(sb,Vb);P(Qb,sb);sb=C(Qb,lb);cc=C(lb,lb);Vb=sb*sb-cc*(C(Qb,Qb)-1);if(!(0>Vb)){var Oc=re(Vb);Vb=L(lb,(-sb-Oc)/cc);P(Vb,Qb);Vb=p(Vb);if(!hb)return Vb;hb=ma[0];var ed=Na[0];ma=ma[1];Na=Na[1];if(ed<hb){var zd=hb;hb=ed;ed=zd}var qd=ed-hb,ad=1E-6>we(qd-le);!ad&&Na<ma&&(zd=ma,ma=Na,Na=zd);if(ad||1E-6>
qd?ad?0<ma+Na^Vb[1]<(1E-6>we(Vb[0]-hb)?ma:Na):ma<=Vb[1]&&Vb[1]<=Na:qd>le^(hb<=Vb[0]&&Vb[0]<=ed))return Na=L(lb,(-sb+Oc)/cc),P(Na,Qb),[Vb,p(Na)]}}function Nb(ma,Na){var hb=w?Wa:le-Wa,lb=0;ma<-hb?lb|=1:ma>hb&&(lb|=2);Na<-hb?lb|=4:Na>hb&&(lb|=8);return lb}var $b=Qd(Wa),Lc=6*Zd,w=0<$b,S=1E-6<we($b);return Ga(ob,function(ma){var Na,hb,lb,sb,Qb;return{lineStart:function(){sb=lb=!1;Qb=1},point:function(cc,Vb){var Oc=[cc,Vb],ed=ob(cc,Vb);Vb=w?ed?0:Nb(cc,Vb):ed?Nb(cc+(0>cc?le:-le),Vb):0;!Na&&(sb=lb=ed)&&ma.lineStart();
ed!==lb&&(cc=Ab(Na,Oc),!cc||Ha(Na,cc)||Ha(Oc,cc))&&(Oc[2]=1);if(ed!==lb)Qb=0,ed?(ma.lineStart(),cc=Ab(Oc,Na),ma.point(cc[0],cc[1])):(cc=Ab(Na,Oc),ma.point(cc[0],cc[1],2),ma.lineEnd()),Na=cc;else if(S&&Na&&w^ed){var zd;Vb&hb||!(zd=Ab(Oc,Na,!0))||(Qb=0,w?(ma.lineStart(),ma.point(zd[0][0],zd[0][1]),ma.point(zd[1][0],zd[1][1]),ma.lineEnd()):(ma.point(zd[1][0],zd[1][1]),ma.lineEnd(),ma.lineStart(),ma.point(zd[0][0],zd[0][1],3)))}!ed||Na&&Ha(Na,Oc)||ma.point(Oc[0],Oc[1]);Na=Oc;lb=ed;hb=Vb},lineEnd:function(){lb&&
ma.lineEnd();Na=null},clean:function(){return Qb|(sb&&lb)<<1}}},function(ma,Na,hb,lb){ea(lb,Wa,Lc,hb,ma,Na)},w?[0,-Wa]:[-le,Wa-le])}function eb(Wa,ob,Ab,Nb,$b,Lc){var w=Wa[0],S=Wa[1],ma=0,Na=1,hb=ob[0]-w,lb=ob[1]-S;Ab-=w;if(hb||!(0<Ab)){Ab/=hb;if(0>hb){if(Ab<ma)return;Ab<Na&&(Na=Ab)}else if(0<hb){if(Ab>Na)return;Ab>ma&&(ma=Ab)}Ab=$b-w;if(hb||!(0>Ab)){Ab/=hb;if(0>hb){if(Ab>Na)return;Ab>ma&&(ma=Ab)}else if(0<hb){if(Ab<ma)return;Ab<Na&&(Na=Ab)}Ab=Nb-S;if(lb||!(0<Ab)){Ab/=lb;if(0>lb){if(Ab<ma)return;
Ab<Na&&(Na=Ab)}else if(0<lb){if(Ab>Na)return;Ab>ma&&(ma=Ab)}Ab=Lc-S;if(lb||!(0>Ab)){Ab/=lb;if(0>lb){if(Ab>Na)return;Ab>ma&&(ma=Ab)}else if(0<lb){if(Ab<ma)return;Ab<Na&&(Na=Ab)}0<ma&&(Wa[0]=w+ma*hb,Wa[1]=S+ma*lb);1>Na&&(ob[0]=w+Na*hb,ob[1]=S+Na*lb);return!0}}}}}function Gb(Wa,ob,Ab,Nb){function $b(ma,Na,hb,lb){var sb=0,Qb=0;if(null==ma||(sb=Lc(ma,hb))!==(Qb=Lc(Na,hb))||0>S(ma,Na)^0<hb){do lb.point(0===sb||3===sb?Wa:Ab,1<sb?Nb:ob);while((sb=(sb+hb+4)%4)!==Qb)}else lb.point(Na[0],Na[1])}function Lc(ma,
Na){return 1E-6>we(ma[0]-Wa)?0<Na?0:3:1E-6>we(ma[0]-Ab)?0<Na?2:1:1E-6>we(ma[1]-ob)?0<Na?1:0:0<Na?3:2}function w(ma,Na){return S(ma.x,Na.x)}function S(ma,Na){var hb=Lc(ma,1),lb=Lc(Na,1);return hb!==lb?hb-lb:0===hb?Na[1]-ma[1]:1===hb?ma[0]-Na[0]:2===hb?ma[1]-Na[1]:Na[0]-ma[0]}return function(ma){function Na(ve,ne){Wa<=ve&&ve<=Ab&&ob<=ne&&ne<=Nb&&lb.point(ve,ne)}function hb(ve,ne){var Tf=Wa<=ve&&ve<=Ab&&ob<=ne&&ne<=Nb;cc&&Vb.push([ve,ne]);if(ud)Oc=ve,ed=ne,zd=Tf,ud=!1,Tf&&(lb.lineStart(),lb.point(ve,
ne));else if(Tf&&Jc)lb.point(ve,ne);else{var se=[qd=Math.max(-1E9,Math.min(1E9,qd)),ad=Math.max(-1E9,Math.min(1E9,ad))],te=[ve=Math.max(-1E9,Math.min(1E9,ve)),ne=Math.max(-1E9,Math.min(1E9,ne))];eb(se,te,Wa,ob,Ab,Nb)?(Jc||(lb.lineStart(),lb.point(se[0],se[1])),lb.point(te[0],te[1]),Tf||lb.lineEnd(),de=!1):Tf&&(lb.lineStart(),lb.point(ve,ne),de=!1)}qd=ve;ad=ne;Jc=Tf}var lb=ma,sb=qa(),Qb,cc,Vb,Oc,ed,zd,qd,ad,Jc,ud,de,Sd={point:Na,lineStart:function(){Sd.point=hb;cc&&cc.push(Vb=[]);ud=!0;Jc=!1;qd=ad=
NaN},lineEnd:function(){Qb&&(hb(Oc,ed),zd&&Jc&&sb.rejoin(),Qb.push(sb.result()));Sd.point=Na;Jc&&lb.lineEnd()},polygonStart:function(){lb=sb;Qb=[];cc=[];de=!0},polygonEnd:function(){for(var ve,ne=ve=0,Tf=cc.length;ne<Tf;++ne){var se=cc[ne],te=1,Be=se.length,wd=se[0],We=wd[0];for(wd=wd[1];te<Be;++te){var Kf=We;var jf=wd;wd=se[te];We=wd[0];wd=wd[1];jf<=Nb?wd>Nb&&(We-Kf)*(Nb-jf)>(wd-jf)*(Wa-Kf)&&++ve:wd<=Nb&&(We-Kf)*(Nb-jf)<(wd-jf)*(Wa-Kf)&&--ve}}ne=de&&ve;Tf=(Qb=m.merge(Qb)).length;if(ne||Tf)ma.polygonStart(),
ne&&(ma.lineStart(),$b(null,null,1,ma),ma.lineEnd()),Tf&&Pa(Qb,w,ve,$b,ma),ma.polygonEnd();lb=ma;Qb=cc=Vb=null}};return Sd}}function Tb(){ie.point=ie.lineEnd=x}function kc(Wa,ob){Wa*=Zd;ob*=Zd;gd=Wa;Hd=gc(ob);he=Qd(ob);ie.point=bd}function bd(Wa,ob){Wa*=Zd;ob*=Zd;var Ab=gc(ob);ob=Qd(ob);var Nb=we(Wa-gd),$b=Qd(Nb);Nb=gc(Nb);Nb*=ob;var Lc=he*Ab-Hd*ob*$b;$b=Hd*Ab+he*ob*$b;Sc.add(Pe(re(Nb*Nb+Lc*Lc),$b));gd=Wa;Hd=Ab;he=ob}function tc(Wa){Sc=new m.Adder;k(Wa,ie);return+Sc}function Fc(Wa,ob){Pd[0]=Wa;Pd[1]=
ob;return tc(Ne)}function mb(Wa,ob){return Wa&&He.hasOwnProperty(Wa.type)?He[Wa.type](Wa,ob):!1}function dc(Wa,ob){for(var Ab,Nb,$b,Lc=0,w=Wa.length;Lc<w;Lc++){Nb=Fc(Wa[Lc],ob);if(0===Nb||0<Lc&&($b=Fc(Wa[Lc],Wa[Lc-1]),0<$b&&Ab<=$b&&Nb<=$b&&(Ab+Nb-$b)*(1-Math.pow((Ab-Nb)/$b,2))<1E-12*$b))return!0;Ab=Nb}return!1}function Bc(Wa,ob){return!!Ba(Wa.map(pc),Cc(ob))}function pc(Wa){return Wa=Wa.map(Cc),Wa.pop(),Wa}function Cc(Wa){return[Wa[0]*Zd,Wa[1]*Zd]}function nc(Wa,ob,Ab){var Nb=m.range(Wa,ob-1E-6,Ab).concat(ob);
return function($b){return Nb.map(function(Lc){return[$b,Lc]})}}function Uc(Wa,ob,Ab){var Nb=m.range(Wa,ob-1E-6,Ab).concat(ob);return function($b){return Nb.map(function(Lc){return[Lc,$b]})}}function Tc(){function Wa(){return{type:"MultiLineString",coordinates:ob()}}function ob(){return m.range(Qe(Lc/sb)*sb,$b,sb).map(Oc).concat(m.range(Qe(Na/Qb)*Qb,ma,Qb).map(ed)).concat(m.range(Qe(Nb/hb)*hb,Ab,hb).filter(function(qd){return 1E-6<we(qd%sb)}).map(cc)).concat(m.range(Qe(S/lb)*lb,w,lb).filter(function(qd){return 1E-6<
we(qd%Qb)}).map(Vb))}var Ab,Nb,$b,Lc,w,S,ma,Na,hb=10,lb=hb,sb=90,Qb=360,cc,Vb,Oc,ed,zd=2.5;Wa.lines=function(){return ob().map(function(qd){return{type:"LineString",coordinates:qd}})};Wa.outline=function(){return{type:"Polygon",coordinates:[Oc(Lc).concat(ed(ma).slice(1),Oc($b).reverse().slice(1),ed(Na).reverse().slice(1))]}};Wa.extent=function(qd){return arguments.length?Wa.extentMajor(qd).extentMinor(qd):Wa.extentMinor()};Wa.extentMajor=function(qd){if(!arguments.length)return[[Lc,Na],[$b,ma]];Lc=
+qd[0][0];$b=+qd[1][0];Na=+qd[0][1];ma=+qd[1][1];Lc>$b&&(qd=Lc,Lc=$b,$b=qd);Na>ma&&(qd=Na,Na=ma,ma=qd);return Wa.precision(zd)};Wa.extentMinor=function(qd){if(!arguments.length)return[[Nb,S],[Ab,w]];Nb=+qd[0][0];Ab=+qd[1][0];S=+qd[0][1];w=+qd[1][1];Nb>Ab&&(qd=Nb,Nb=Ab,Ab=qd);S>w&&(qd=S,S=w,w=qd);return Wa.precision(zd)};Wa.step=function(qd){return arguments.length?Wa.stepMajor(qd).stepMinor(qd):Wa.stepMinor()};Wa.stepMajor=function(qd){if(!arguments.length)return[sb,Qb];sb=+qd[0];Qb=+qd[1];return Wa};
Wa.stepMinor=function(qd){if(!arguments.length)return[hb,lb];hb=+qd[0];lb=+qd[1];return Wa};Wa.precision=function(qd){if(!arguments.length)return zd;zd=+qd;cc=nc(S,w,90);Vb=Uc(Nb,Ab,zd);Oc=nc(Na,ma,90);ed=Uc(Lc,$b,zd);return Wa};return Wa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Kc(){Rf.point=Fd}function Fd(Wa,ob){Rf.point=fe;Te=Bf=Wa;uf=Ag=ob}function fe(Wa,ob){Of.add(Ag*Wa-Bf*ob);Bf=Wa;Ag=ob}function vd(){fe(Te,uf)}function Rc(Wa,
ob){gb+=Wa;ib+=ob;++rb}function Yd(){xb.point=Pb}function Pb(Wa,ob){xb.point=fc;Rc(Qa=Wa,Va=ob)}function fc(Wa,ob){var Ab=Wa-Qa,Nb=ob-Va;Ab=re(Ab*Ab+Nb*Nb);Eb+=Ab*(Qa+Wa)/2;zb+=Ab*(Va+ob)/2;Mb+=Ab;Rc(Qa=Wa,Va=ob)}function Hb(){xb.point=Rc}function yc(){xb.point=Gd}function Vc(){Wd(Y,pa)}function Gd(Wa,ob){xb.point=Wd;Rc(Y=Qa=Wa,pa=Va=ob)}function Wd(Wa,ob){var Ab=Wa-Qa,Nb=ob-Va;Ab=re(Ab*Ab+Nb*Nb);Eb+=Ab*(Qa+Wa)/2;zb+=Ab*(Va+ob)/2;Mb+=Ab;Ab=Va*Wa-Qa*ob;Lb+=Ab*(Qa+Wa);bc+=Ab*(Va+ob);sc+=3*Ab;Rc(Qa=
Wa,Va=ob)}function La(Wa){this._context=Wa}function fb(Wa,ob){Kd.point=wb;oc=dd=Wa;Ec=Yc=ob}function wb(Wa,ob){dd-=Wa;Yc-=ob;Rb.add(re(dd*dd+Yc*Yc));dd=Wa;Yc=ob}function Ib(){this._string=[]}function Zb(Wa){return"m0,"+Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+-2*Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+2*Wa+"z"}function ic(Wa){return function(ob){var Ab=new Ac,Nb;for(Nb in Wa)Ab[Nb]=Wa[Nb];Ab.stream=ob;return Ab}}function Ac(){}function qc(Wa,ob,Ab){var Nb=Wa.clipExtent&&Wa.clipExtent();Wa.scale(150).translate([0,0]);null!=
Nb&&Wa.clipExtent(null);k(Ab,Wa.stream(Sa));ob(Sa.result());null!=Nb&&Wa.clipExtent(Nb);return Wa}function nb(Wa,ob,Ab){return qc(Wa,function(Nb){var $b=ob[1][0]-ob[0][0],Lc=ob[1][1]-ob[0][1],w=Math.min($b/(Nb[1][0]-Nb[0][0]),Lc/(Nb[1][1]-Nb[0][1]));$b=+ob[0][0]+($b-w*(Nb[1][0]+Nb[0][0]))/2;Nb=+ob[0][1]+(Lc-w*(Nb[1][1]+Nb[0][1]))/2;Wa.scale(150*w).translate([$b,Nb])},Ab)}function Bb(Wa,ob,Ab){return qc(Wa,function(Nb){var $b=+ob,Lc=$b/(Nb[1][0]-Nb[0][0]);$b=($b-Lc*(Nb[1][0]+Nb[0][0]))/2;Nb=-Lc*Nb[0][1];
Wa.scale(150*Lc).translate([$b,Nb])},Ab)}function Ub(Wa,ob,Ab){return qc(Wa,function(Nb){var $b=+ob,Lc=$b/(Nb[1][1]-Nb[0][1]),w=-Lc*Nb[0][0];Nb=($b-Lc*(Nb[1][1]+Nb[0][1]))/2;Wa.scale(150*Lc).translate([w,Nb])},Ab)}function jc(Wa){return ic({point:function(ob,Ab){ob=Wa(ob,Ab);this.stream.point(ob[0],ob[1])}})}function zc(Wa,ob){function Ab(Nb,$b,Lc,w,S,ma,Na,hb,lb,sb,Qb,cc,Vb,Oc){var ed=Na-Nb,zd=hb-$b,qd=ed*ed+zd*zd;if(qd>4*ob&&Vb--){var ad=w+sb,Jc=S+Qb,ud=ma+cc,de=re(ad*ad+Jc*Jc+ud*ud),Sd=E(ud/=de),
ve=1E-6>we(we(ud)-1)||1E-6>we(Lc-lb)?(Lc+lb)/2:Pe(Jc,ad),ne=Wa(ve,Sd);Sd=ne[0];ne=ne[1];var Tf=Sd-Nb,se=ne-$b,te=zd*Tf-ed*se;if(te*te/qd>ob||.3<we((ed*Tf+zd*se)/qd-.5)||w*sb+S*Qb+ma*cc<Ud)Ab(Nb,$b,Lc,w,S,ma,Sd,ne,ve,ad/=de,Jc/=de,ud,Vb,Oc),Oc.point(Sd,ne),Ab(Sd,ne,ve,ad,Jc,ud,Na,hb,lb,sb,Qb,cc,Vb,Oc)}}return function(Nb){function $b(Sd,ve){Sd=Wa(Sd,ve);Nb.point(Sd[0],Sd[1])}function Lc(){zd=NaN;de.point=w;Nb.lineStart()}function w(Sd,ve){var ne=A([Sd,ve]);ve=Wa(Sd,ve);Ab(zd,qd,ed,ad,Jc,ud,zd=ve[0],
qd=ve[1],ed=Sd,ad=ne[0],Jc=ne[1],ud=ne[2],16,Nb);Nb.point(zd,qd)}function S(){de.point=$b;Nb.lineEnd()}function ma(){Lc();de.point=Na;de.lineEnd=hb}function Na(Sd,ve){w(lb=Sd,ve);sb=zd;Qb=qd;cc=ad;Vb=Jc;Oc=ud;de.point=w}function hb(){Ab(zd,qd,ed,ad,Jc,ud,sb,Qb,lb,cc,Vb,Oc,16,Nb);de.lineEnd=S;S()}var lb,sb,Qb,cc,Vb,Oc,ed,zd,qd,ad,Jc,ud,de={point:$b,lineStart:Lc,lineEnd:S,polygonStart:function(){Nb.polygonStart();de.lineStart=ma},polygonEnd:function(){Nb.polygonEnd();de.lineStart=Lc}};return de}}function Dc(Wa){return ic({point:function(ob,
Ab){ob=Wa(ob,Ab);return this.stream.point(ob[0],ob[1])}})}function Wc(Wa,ob,Ab,Nb,$b){function Lc(w,S){w*=Nb;S*=$b;return[ob+Wa*w,Ab-Wa*S]}Lc.invert=function(w,S){return[(w-ob)/Wa*Nb,(Ab-S)/Wa*$b]};return Lc}function Db(Wa,ob,Ab,Nb,$b,Lc){function w(cc,Vb){cc*=Nb;Vb*=$b;return[ma*cc-Na*Vb+ob,Ab-Na*cc-ma*Vb]}if(!Lc)return Wc(Wa,ob,Ab,Nb,$b);var S=Qd(Lc);Lc=gc(Lc);var ma=S*Wa,Na=Lc*Wa,hb=S/Wa,lb=Lc/Wa,sb=(Lc*Ab-S*ob)/Wa,Qb=(Lc*ob+S*Ab)/Wa;w.invert=function(cc,Vb){return[Nb*(hb*cc-lb*Vb+sb),$b*(Qb-lb*
cc-hb*Vb)]};return w}function Hc(Wa){return fd(function(){return Wa})()}function fd(Wa){function ob(wd){return se(wd[0]*Zd,wd[1]*Zd)}function Ab(wd){return(wd=se.invert(wd[0],wd[1]))&&[wd[0]*Td,wd[1]*Td]}function Nb(){var wd=Db(w,0,0,Oc,ed,Vb).apply(null,Lc(Na,hb));wd=Db(w,S-wd[0],ma-wd[1],Oc,ed,Vb);cc=Fa(lb,sb,Qb);Tf=Ta(Lc,wd);se=Ta(cc,Tf);wd=Tf;ne=+ve?zc(wd,ve):jc(wd);return $b()}function $b(){te=Be=null;return ob}var Lc,w=150,S=480,ma=250,Na=0,hb=0,lb=0,sb=0,Qb=0,cc,Vb=0,Oc=1,ed=1,zd=null,qd=id,
ad=null,Jc,ud,de,Sd=Je,ve=.5,ne,Tf,se,te,Be;ob.stream=function(wd){return te&&Be===wd?te:te=pd(Dc(cc)(qd(ne(Sd(Be=wd)))))};ob.preclip=function(wd){return arguments.length?(qd=wd,zd=void 0,$b()):qd};ob.postclip=function(wd){return arguments.length?(Sd=wd,ad=Jc=ud=de=null,$b()):Sd};ob.clipAngle=function(wd){return arguments.length?(qd=+wd?Ua(zd=wd*Zd):(zd=null,id),$b()):zd*Td};ob.clipExtent=function(wd){return arguments.length?(Sd=null==wd?(ad=Jc=ud=de=null,Je):Gb(ad=+wd[0][0],Jc=+wd[0][1],ud=+wd[1][0],
de=+wd[1][1]),$b()):null==ad?null:[[ad,Jc],[ud,de]]};ob.scale=function(wd){return arguments.length?(w=+wd,Nb()):w};ob.translate=function(wd){return arguments.length?(S=+wd[0],ma=+wd[1],Nb()):[S,ma]};ob.center=function(wd){return arguments.length?(Na=wd[0]%360*Zd,hb=wd[1]%360*Zd,Nb()):[Na*Td,hb*Td]};ob.rotate=function(wd){return arguments.length?(lb=wd[0]%360*Zd,sb=wd[1]%360*Zd,Qb=2<wd.length?wd[2]%360*Zd:0,Nb()):[lb*Td,sb*Td,Qb*Td]};ob.angle=function(wd){return arguments.length?(Vb=wd%360*Zd,Nb()):
Vb*Td};ob.reflectX=function(wd){return arguments.length?(Oc=wd?-1:1,Nb()):0>Oc};ob.reflectY=function(wd){return arguments.length?(ed=wd?-1:1,Nb()):0>ed};ob.precision=function(wd){if(arguments.length){var We=Tf;var Kf=ve=wd*wd;We=(ne=+Kf?zc(We,Kf):jc(We),$b())}else We=re(ve);return We};ob.fitExtent=function(wd,We){return nb(ob,wd,We)};ob.fitSize=function(wd,We){return nb(ob,[[0,0],wd],We)};ob.fitWidth=function(wd,We){return Bb(ob,wd,We)};ob.fitHeight=function(wd,We){return Ub(ob,wd,We)};return function(){Lc=
Wa.apply(this,arguments);ob.invert=Lc.invert&&Ab;return Nb()}}function uc(Wa){var ob=0,Ab=le/3,Nb=fd(Wa);Wa=Nb(ob,Ab);Wa.parallels=function($b){return arguments.length?Nb(ob=$b[0]*Zd,Ab=$b[1]*Zd):[ob*Td,Ab*Td]};return Wa}function Zc(Wa){function ob(Nb,$b){return[Nb*Ab,gc($b)/Ab]}var Ab=Qd(Wa);ob.invert=function(Nb,$b){return[Nb/Ab,E($b*Ab)]};return ob}function $c(Wa,ob){function Ab(S,ma){ma=re(Lc-2*$b*gc(ma))/$b;return[ma*gc(S*=$b),w-ma*Qd(S)]}var Nb=gc(Wa),$b=(Nb+gc(ob))/2;if(1E-6>we($b))return Zc(Wa);
var Lc=1+Nb*(2*$b-Nb),w=re(Lc)/$b;Ab.invert=function(S,ma){ma=w-ma;var Na=Pe(S,we(ma))*De(ma);0>ma*$b&&(Na-=le*De(S)*De(ma));return[Na/$b,E((Lc-(S*S+ma*ma)*$b*$b)/(2*$b))]};return Ab}function nd(){return uc($c).scale(155.424).center([0,33.6442])}function Cd(){return nd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ed(Wa){var ob=Wa.length;return{point:function(Ab,Nb){for(var $b=-1;++$b<ob;)Wa[$b].point(Ab,Nb)},sphere:function(){for(var Ab=-1;++Ab<
ob;)Wa[Ab].sphere()},lineStart:function(){for(var Ab=-1;++Ab<ob;)Wa[Ab].lineStart()},lineEnd:function(){for(var Ab=-1;++Ab<ob;)Wa[Ab].lineEnd()},polygonStart:function(){for(var Ab=-1;++Ab<ob;)Wa[Ab].polygonStart()},polygonEnd:function(){for(var Ab=-1;++Ab<ob;)Wa[Ab].polygonEnd()}}}function Xd(Wa){return function(ob,Ab){var Nb=Qd(ob),$b=Qd(Ab);Nb=Wa(Nb*$b);return Infinity===Nb?[2,0]:[Nb*$b*gc(ob),Nb*gc(Ab)]}}function $d(Wa){return function(ob,Ab){var Nb=re(ob*ob+Ab*Ab),$b=Wa(Nb),Lc=gc($b);$b=Qd($b);
return[Pe(ob*Lc,Nb*$b),E(Nb&&Ab*Lc/Nb)]}}function ae(Wa,ob){return[Wa,xe(gf((ye+ob)/2))]}function Ce(Wa){function ob(){var lb=le*$b(),sb=Ab(ca(Ab.rotate()).invert([0,0]));return w(null==S?[[sb[0]-lb,sb[1]-lb],[sb[0]+lb,sb[1]+lb]]:Wa===ae?[[Math.max(sb[0]-lb,S),ma],[Math.min(sb[0]+lb,Na),hb]]:[[S,Math.max(sb[1]-lb,ma)],[Na,Math.min(sb[1]+lb,hb)]])}var Ab=Hc(Wa),Nb=Ab.center,$b=Ab.scale,Lc=Ab.translate,w=Ab.clipExtent,S=null,ma,Na,hb;Ab.scale=function(lb){return arguments.length?($b(lb),ob()):$b()};
Ab.translate=function(lb){return arguments.length?(Lc(lb),ob()):Lc()};Ab.center=function(lb){return arguments.length?(Nb(lb),ob()):Nb()};Ab.clipExtent=function(lb){return arguments.length?(null==lb?S=ma=Na=hb=null:(S=+lb[0][0],ma=+lb[0][1],Na=+lb[1][0],hb=+lb[1][1]),ob()):null==S?null:[[S,ma],[Na,hb]]};return ob()}function me(Wa,ob){function Ab(w,S){0<Lc?S<-ye+1E-6&&(S=-ye+1E-6):S>ye-1E-6&&(S=ye-1E-6);S=Lc/je(gf((ye+S)/2),$b);return[S*gc($b*w),Lc-S*Qd($b*w)]}var Nb=Qd(Wa),$b=Wa===ob?gc(Wa):xe(Nb/
Qd(ob))/xe(gf((ye+ob)/2)/gf((ye+Wa)/2)),Lc=Nb*je(gf((ye+Wa)/2),$b)/$b;if(!$b)return ae;Ab.invert=function(w,S){S=Lc-S;var ma=De($b)*re(w*w+S*S),Na=Pe(w,we(S))*De(S);0>S*$b&&(Na-=le*De(w)*De(S));return[Na/$b,2*nf(je(Lc/ma,1/$b))-ye]};return Ab}function ff(Wa,ob){return[Wa,ob]}function Ze(Wa,ob){function Ab(w,S){S=Lc-S;w*=$b;return[S*gc(w),Lc-S*Qd(w)]}var Nb=Qd(Wa),$b=Wa===ob?gc(Wa):(Nb-Qd(ob))/(ob-Wa),Lc=Nb/$b+Wa;if(1E-6>we($b))return ff;Ab.invert=function(w,S){S=Lc-S;var ma=Pe(w,we(S))*De(S);0>S*
$b&&(ma-=le*De(w)*De(S));return[ma/$b,Lc-De($b)*re(w*w+S*S)]};return Ab}function hf(Wa,ob){ob=E(cf*gc(ob));var Ab=ob*ob,Nb=Ab*Ab*Ab;return[Wa*Qd(ob)/(cf*(1.340264+3*-.081106*Ab+Nb*(7*8.93E-4+.034164*Ab))),ob*(1.340264+-.081106*Ab+Nb*(8.93E-4+.003796*Ab))]}function Vd(Wa,ob){var Ab=Qd(ob),Nb=Qd(Wa)*Ab;return[Ab*gc(Wa)/Nb,gc(ob)/Nb]}function ge(Wa,ob){var Ab=ob*ob,Nb=Ab*Ab;return[Wa*(.8707-.131979*Ab+Nb*(-.013791+Nb*(.003971*Ab-.001529*Nb))),ob*(1.007226+Ab*(.015085+Nb*(-.044475+.028874*Ab-.005916*
Nb)))]}function yf(Wa,ob){return[Qd(ob)*gc(Wa),gc(ob)]}function Ue(Wa,ob){var Ab=Qd(ob),Nb=1+Qd(Wa)*Ab;return[Ab*gc(Wa)/Nb,gc(ob)/Nb]}function of(Wa,ob){return[xe(gf((ye+ob)/2)),-Wa]}var le=Math.PI,ye=le/2,Mf=le/4,Ge=2*le,Td=180/le,Zd=le/180,we=Math.abs,nf=Math.atan,Pe=Math.atan2,Qd=Math.cos,Qe=Math.ceil,Yf=Math.exp,Ic=Math.hypot,xe=Math.log,je=Math.pow,gc=Math.sin,De=Math.sign||function(Wa){return 0<Wa?1:0>Wa?-1:0},re=Math.sqrt,gf=Math.tan,Hf={Feature:function(Wa,ob){y(Wa.geometry,ob)},FeatureCollection:function(Wa,
ob){Wa=Wa.features;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)y(Wa[Ab].geometry,ob)}},If={Sphere:function(Wa,ob){ob.sphere()},Point:function(Wa,ob){Wa=Wa.coordinates;ob.point(Wa[0],Wa[1],Wa[2])},MultiPoint:function(Wa,ob){for(var Ab=Wa.coordinates,Nb=-1,$b=Ab.length;++Nb<$b;)Wa=Ab[Nb],ob.point(Wa[0],Wa[1],Wa[2])},LineString:function(Wa,ob){v(Wa.coordinates,ob,0)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)v(Wa[Ab],ob,0)},Polygon:function(Wa,ob){l(Wa.coordinates,
ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)l(Wa[Ab],ob)},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)y(Wa[Ab],ob)}},Qf=new m.Adder,Jf=new m.Adder,Ae,xc,ya,Ca,Za,Fb={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Qf=new m.Adder;Fb.lineStart=d;Fb.lineEnd=f},polygonEnd:function(){var Wa=+Qf;Jf.add(0>Wa?Ge+Wa:Wa);this.lineStart=this.lineEnd=this.point=x},sphere:function(){Jf.add(Ge)}},ub,Wb,vc,Nc,ld,Pc,Ld,
Nd,Od,od,Rd,kd={point:z,lineStart:H,lineEnd:R,polygonStart:function(){kd.point=U;kd.lineStart=ka;kd.lineEnd=ba;Od=new m.Adder;Fb.polygonStart()},polygonEnd:function(){Fb.polygonEnd();kd.point=z;kd.lineStart=H;kd.lineEnd=R;0>Qf?(ub=-(vc=180),Wb=-(Nc=90)):1E-6<Od?Nc=90:-1E-6>Od&&(Wb=-90);Rd[0]=ub;Rd[1]=vc},sphere:function(){ub=-(vc=180);Wb=-(Nc=90)}},lf,bf,ee,Ve,ce,Xe,zf,tf,Oe,Nf,Aa,Ka,vb,Xb,Sb,hc,lc={sphere:x,point:Q,lineStart:N,lineEnd:wa,polygonStart:function(){lc.lineStart=ua;lc.lineEnd=Ea},polygonEnd:function(){lc.lineStart=
N;lc.lineEnd=wa}};Xa.invert=Xa;var id=Ga(function(){return!0},function(Wa){var ob=NaN,Ab=NaN,Nb=NaN,$b;return{lineStart:function(){Wa.lineStart();$b=1},point:function(Lc,w){var S=0<Lc?le:-le,ma=we(Lc-ob);if(1E-6>we(ma-le))Wa.point(ob,Ab=0<(Ab+w)/2?ye:-ye),Wa.point(Nb,Ab),Wa.lineEnd(),Wa.lineStart(),Wa.point(S,Ab),Wa.point(Lc,Ab),$b=0;else if(Nb!==S&&ma>=le){1E-6>we(ob-Nb)&&(ob-=1E-6*Nb);1E-6>we(Lc-S)&&(Lc-=1E-6*S);ma=ob;var Na=Ab,hb=Lc,lb,sb,Qb=gc(ma-hb);Ab=1E-6<we(Qb)?nf((gc(Na)*(sb=Qd(w))*gc(hb)-
gc(w)*(lb=Qd(Na))*gc(ma))/(lb*sb*Qb)):(Na+w)/2;Wa.point(Nb,Ab);Wa.lineEnd();Wa.lineStart();Wa.point(S,Ab);$b=0}Wa.point(ob=Lc,Ab=w);Nb=S},lineEnd:function(){Wa.lineEnd();ob=Ab=NaN},clean:function(){return 2-$b}}},function(Wa,ob,Ab,Nb){null==Wa?(Ab*=ye,Nb.point(-le,Ab),Nb.point(0,Ab),Nb.point(le,Ab),Nb.point(le,0),Nb.point(le,-Ab),Nb.point(0,-Ab),Nb.point(-le,-Ab),Nb.point(-le,0),Nb.point(-le,Ab)):1E-6<we(Wa[0]-ob[0])?(Wa=Wa[0]<ob[0]?le:-le,Ab=Ab*Wa/2,Nb.point(-Wa,Ab),Nb.point(0,Ab),Nb.point(Wa,Ab)):
Nb.point(ob[0],ob[1])},[-le,-ye]),Sc,gd,Hd,he,ie={sphere:x,point:x,lineStart:function(){ie.point=kc;ie.lineEnd=Tb},lineEnd:x,polygonStart:x,polygonEnd:x},Pd=[null,null],Ne={type:"LineString",coordinates:Pd},pe={Feature:function(Wa,ob){return mb(Wa.geometry,ob)},FeatureCollection:function(Wa,ob){Wa=Wa.features;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)if(mb(Wa[Ab].geometry,ob))return!0;return!1}},He={Sphere:function(){return!0},Point:function(Wa,ob){return 0===Fc(Wa.coordinates,ob)},MultiPoint:function(Wa,
ob){Wa=Wa.coordinates;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)if(0===Fc(Wa[Ab],ob))return!0;return!1},LineString:function(Wa,ob){return dc(Wa.coordinates,ob)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)if(dc(Wa[Ab],ob))return!0;return!1},Polygon:function(Wa,ob){return Bc(Wa.coordinates,ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)if(Bc(Wa[Ab],ob))return!0;return!1},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;
for(var Ab=-1,Nb=Wa.length;++Ab<Nb;)if(mb(Wa[Ab],ob))return!0;return!1}},Je=Wa=>Wa,Le=new m.Adder,Of=new m.Adder,Te,uf,Bf,Ag,Rf={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Rf.lineStart=Kc;Rf.lineEnd=vd},polygonEnd:function(){Rf.lineStart=Rf.lineEnd=Rf.point=x;Le.add(we(Of));Of=new m.Adder},result:function(){var Wa=Le/2;Le=new m.Adder;return Wa}},jg=Infinity,xa=jg,za=-jg,Oa=za,Sa={point:function(Wa,ob){Wa<jg&&(jg=Wa);Wa>za&&(za=Wa);ob<xa&&(xa=ob);ob>Oa&&(Oa=ob)},lineStart:x,lineEnd:x,polygonStart:x,
polygonEnd:x,result:function(){var Wa=[[jg,xa],[za,Oa]];za=Oa=-(xa=jg=Infinity);return Wa}},gb=0,ib=0,rb=0,Eb=0,zb=0,Mb=0,Lb=0,bc=0,sc=0,Y,pa,Qa,Va,xb={point:Rc,lineStart:Yd,lineEnd:Hb,polygonStart:function(){xb.lineStart=yc;xb.lineEnd=Vc},polygonEnd:function(){xb.point=Rc;xb.lineStart=Yd;xb.lineEnd=Hb},result:function(){var Wa=sc?[Lb/sc,bc/sc]:Mb?[Eb/Mb,zb/Mb]:rb?[gb/rb,ib/rb]:[NaN,NaN];gb=ib=rb=Eb=zb=Mb=Lb=bc=sc=0;return Wa}};La.prototype={_radius:4.5,pointRadius:function(Wa){return this._radius=
Wa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Wa,ob){switch(this._point){case 0:this._context.moveTo(Wa,ob);this._point=1;break;case 1:this._context.lineTo(Wa,ob);break;default:this._context.moveTo(Wa+this._radius,ob),this._context.arc(Wa,ob,this._radius,0,Ge)}},result:x};var Rb=new m.Adder,Yb,oc,Ec,dd,Yc,Kd={point:x,lineStart:function(){Kd.point=
fb},lineEnd:function(){Yb&&wb(oc,Ec);Kd.point=x},polygonStart:function(){Yb=!0},polygonEnd:function(){Yb=null},result:function(){var Wa=+Rb;Rb=new m.Adder;return Wa}};Ib.prototype={_radius:4.5,_circle:Zb(4.5),pointRadius:function(Wa){(Wa=+Wa)!==this._radius&&(this._radius=Wa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Wa,
ob){switch(this._point){case 0:this._string.push("M",Wa,",",ob);this._point=1;break;case 1:this._string.push("L",Wa,",",ob);break;default:null==this._circle&&(this._circle=Zb(this._radius)),this._string.push("M",Wa,",",ob,this._circle)}},result:function(){if(this._string.length){var Wa=this._string.join("");this._string=[];return Wa}return null}};Ac.prototype={constructor:Ac,point:function(Wa,ob){this.stream.point(Wa,ob)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ud=Qd(30*Zd),pd=ic({point:function(Wa,ob){this.stream.point(Wa*Zd,ob*Zd)}}),Bd=Xd(function(Wa){return re(2/(1+Wa))});Bd.invert=$d(function(Wa){return 2*E(Wa/2)});var jd=Xd(function(Wa){return(Wa=n(Wa))&&Wa/gc(Wa)});jd.invert=$d(function(Wa){return Wa});ae.invert=function(Wa,ob){return[Wa,2*nf(Yf(ob))-ye]};ff.invert=ff;var cf=re(3)/2;hf.invert=function(Wa,
ob){for(var Ab=ob,Nb=Ab*Ab,$b=Nb*Nb*Nb,Lc=0,w;12>Lc&&!(w=Ab*(1.340264+-.081106*Nb+$b*(8.93E-4+.003796*Nb))-ob,Nb=1.340264+3*-.081106*Nb+$b*(7*8.93E-4+.034164*Nb),Ab-=w/=Nb,Nb=Ab*Ab,$b=Nb*Nb*Nb,1E-12>we(w));++Lc);return[cf*Wa*(1.340264+3*-.081106*Nb+$b*(7*8.93E-4+.034164*Nb))/Qd(Ab),E(gc(Ab)/cf)]};Vd.invert=$d(nf);ge.invert=function(Wa,ob){var Ab=ob,Nb=25;do{var $b=Ab*Ab;var Lc=$b*$b;Ab-=Lc=(Ab*(1.007226+$b*(.015085+Lc*(-.044475+.028874*$b-.005916*Lc)))-ob)/(1.007226+$b*(.045255+Lc*(-.311325+.259866*
$b-.005916*11*Lc)))}while(1E-6<we(Lc)&&0<--Nb);return[Wa/(.8707+($b=Ab*Ab)*(-.131979+$b*(-.013791+$b*$b*$b*(.003971-.001529*$b)))),Ab]};yf.invert=$d(E);Ue.invert=$d(function(Wa){return 2*nf(Wa)});of.invert=function(Wa,ob){return[-ob,2*nf(Yf(Wa))-ye]};g.geoAlbers=Cd;g.geoAlbersUsa=function(){function Wa(sb){var Qb=sb[0];sb=sb[1];return hb=null,(Lc.point(Qb,sb),hb)||(S.point(Qb,sb),hb)||(Na.point(Qb,sb),hb)}function ob(){Ab=Nb=null;return Wa}var Ab,Nb,$b=Cd(),Lc,w=nd().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),S,ma=nd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Na,hb,lb={point:function(sb,Qb){hb=[sb,Qb]}};Wa.invert=function(sb){var Qb=$b.scale(),cc=$b.translate(),Vb=(sb[0]-cc[0])/Qb;Qb=(sb[1]-cc[1])/Qb;return(.12<=Qb&&.234>Qb&&-.425<=Vb&&-.214>Vb?w:.166<=Qb&&.234>Qb&&-.214<=Vb&&-.115>Vb?ma:$b).invert(sb)};Wa.stream=function(sb){return Ab&&Nb===sb?Ab:Ab=Ed([$b.stream(Nb=sb),w.stream(sb),ma.stream(sb)])};Wa.precision=function(sb){if(!arguments.length)return $b.precision();$b.precision(sb);
w.precision(sb);ma.precision(sb);return ob()};Wa.scale=function(sb){if(!arguments.length)return $b.scale();$b.scale(sb);w.scale(.35*sb);ma.scale(sb);return Wa.translate($b.translate())};Wa.translate=function(sb){if(!arguments.length)return $b.translate();var Qb=$b.scale(),cc=+sb[0],Vb=+sb[1];Lc=$b.translate(sb).clipExtent([[cc-.455*Qb,Vb-.238*Qb],[cc+.455*Qb,Vb+.238*Qb]]).stream(lb);S=w.translate([cc-.307*Qb,Vb+.201*Qb]).clipExtent([[cc-.425*Qb+1E-6,Vb+.12*Qb+1E-6],[cc-.214*Qb-1E-6,Vb+.234*Qb-1E-6]]).stream(lb);
Na=ma.translate([cc-.205*Qb,Vb+.212*Qb]).clipExtent([[cc-.214*Qb+1E-6,Vb+.166*Qb+1E-6],[cc-.115*Qb-1E-6,Vb+.234*Qb-1E-6]]).stream(lb);return ob()};Wa.fitExtent=function(sb,Qb){return nb(Wa,sb,Qb)};Wa.fitSize=function(sb,Qb){return nb(Wa,[[0,0],sb],Qb)};Wa.fitWidth=function(sb,Qb){return Bb(Wa,sb,Qb)};Wa.fitHeight=function(sb,Qb){return Ub(Wa,sb,Qb)};return Wa.scale(1070)};g.geoArea=function(Wa){Jf=new m.Adder;k(Wa,Fb);return 2*Jf};g.geoAzimuthalEqualArea=function(){return Hc(Bd).scale(124.75).clipAngle(179.999)};
g.geoAzimuthalEqualAreaRaw=Bd;g.geoAzimuthalEquidistant=function(){return Hc(jd).scale(79.4188).clipAngle(179.999)};g.geoAzimuthalEquidistantRaw=jd;g.geoBounds=function(Wa){var ob,Ab,Nb;Nc=vc=-(ub=Wb=Infinity);od=[];k(Wa,kd);if(ob=od.length){od.sort(ja);Wa=1;var $b=od[0];for(Ab=[$b];Wa<ob;++Wa){var Lc=od[Wa];Z($b,Lc[0])||Z($b,Lc[1])?(fa($b[0],Lc[1])>fa($b[0],$b[1])&&($b[1]=Lc[1]),fa(Lc[0],$b[1])>fa($b[0],$b[1])&&($b[0]=Lc[0])):Ab.push($b=Lc)}var w=-Infinity;ob=Ab.length-1;Wa=0;for($b=Ab[ob];Wa<=ob;$b=
Lc,++Wa)Lc=Ab[Wa],(Nb=fa($b[1],Lc[0]))>w&&(w=Nb,ub=Lc[0],vc=$b[1])}od=Rd=null;return Infinity===ub||Infinity===Wb?[[NaN,NaN],[NaN,NaN]]:[[ub,Wb],[vc,Nc]]};g.geoCentroid=function(Wa){lf=bf=ee=Ve=ce=Xe=zf=tf=0;Oe=new m.Adder;Nf=new m.Adder;Aa=new m.Adder;k(Wa,lc);Wa=+Oe;var ob=+Nf,Ab=+Aa,Nb=Ic(Wa,ob,Ab);return 1E-12>Nb&&(Wa=Xe,ob=zf,Ab=tf,1E-6>bf&&(Wa=ee,ob=Ve,Ab=ce),Nb=Ic(Wa,ob,Ab),1E-12>Nb)?[NaN,NaN]:[Pe(ob,Wa)*Td,E(Ab/Nb)*Td]};g.geoCircle=function(){function Wa(){var S=ob.apply(this,arguments),ma=
Ab.apply(this,arguments)*Zd,Na=Nb.apply(this,arguments)*Zd;$b=[];Lc=Fa(-S[0]*Zd,-S[1]*Zd,0).invert;ea(w,ma,Na,1);S={type:"Polygon",coordinates:[$b]};$b=Lc=null;return S}var ob=ta([0,0]),Ab=ta(90),Nb=ta(6),$b,Lc,w={point:function(S,ma){$b.push(S=Lc(S,ma));S[0]*=Td;S[1]*=Td}};Wa.center=function(S){return arguments.length?(ob="function"===typeof S?S:ta([+S[0],+S[1]]),Wa):ob};Wa.radius=function(S){return arguments.length?(Ab="function"===typeof S?S:ta(+S),Wa):Ab};Wa.precision=function(S){return arguments.length?
(Nb="function"===typeof S?S:ta(+S),Wa):Nb};return Wa};g.geoClipAntimeridian=id;g.geoClipCircle=Ua;g.geoClipExtent=function(){var Wa=0,ob=0,Ab=960,Nb=500,$b,Lc,w;return w={stream:function(S){return $b&&Lc===S?$b:$b=Gb(Wa,ob,Ab,Nb)(Lc=S)},extent:function(S){return arguments.length?(Wa=+S[0][0],ob=+S[0][1],Ab=+S[1][0],Nb=+S[1][1],$b=Lc=null,w):[[Wa,ob],[Ab,Nb]]}}};g.geoClipRectangle=Gb;g.geoConicConformal=function(){return uc(me).scale(109.5).parallels([30,30])};g.geoConicConformalRaw=me;g.geoConicEqualArea=
nd;g.geoConicEqualAreaRaw=$c;g.geoConicEquidistant=function(){return uc(Ze).scale(131.154).center([0,13.9389])};g.geoConicEquidistantRaw=Ze;g.geoContains=function(Wa,ob){return(Wa&&pe.hasOwnProperty(Wa.type)?pe[Wa.type]:mb)(Wa,ob)};g.geoDistance=Fc;g.geoEqualEarth=function(){return Hc(hf).scale(177.158)};g.geoEqualEarthRaw=hf;g.geoEquirectangular=function(){return Hc(ff).scale(152.63)};g.geoEquirectangularRaw=ff;g.geoGnomonic=function(){return Hc(Vd).scale(144.049).clipAngle(60)};g.geoGnomonicRaw=
Vd;g.geoGraticule=Tc;g.geoGraticule10=function(){return Tc()()};g.geoIdentity=function(){function Wa(){cc=Ab*Lc;Vb=Ab*w;zd=qd=null;return ob}function ob(ad){var Jc=ad[0]*cc;ad=ad[1]*Vb;if(S){var ud=ad*ma-Jc*Na;Jc=Jc*ma+ad*Na;ad=ud}return[Jc+Nb,ad+$b]}var Ab=1,Nb=0,$b=0,Lc=1,w=1,S=0,ma,Na,hb=null,lb,sb,Qb,cc=1,Vb=1,Oc=ic({point:function(ad,Jc){ad=ob([ad,Jc]);this.stream.point(ad[0],ad[1])}}),ed=Je,zd,qd;ob.invert=function(ad){var Jc=ad[0]-Nb;ad=ad[1]-$b;if(S){var ud=ad*ma+Jc*Na;Jc=Jc*ma-ad*Na;ad=ud}return[Jc/
cc,ad/Vb]};ob.stream=function(ad){return zd&&qd===ad?zd:zd=Oc(ed(qd=ad))};ob.postclip=function(ad){return arguments.length?(ed=ad,hb=lb=sb=Qb=null,Wa()):ed};ob.clipExtent=function(ad){return arguments.length?(ed=null==ad?(hb=lb=sb=Qb=null,Je):Gb(hb=+ad[0][0],lb=+ad[0][1],sb=+ad[1][0],Qb=+ad[1][1]),Wa()):null==hb?null:[[hb,lb],[sb,Qb]]};ob.scale=function(ad){return arguments.length?(Ab=+ad,Wa()):Ab};ob.translate=function(ad){return arguments.length?(Nb=+ad[0],$b=+ad[1],Wa()):[Nb,$b]};ob.angle=function(ad){return arguments.length?
(S=ad%360*Zd,Na=gc(S),ma=Qd(S),Wa()):S*Td};ob.reflectX=function(ad){return arguments.length?(Lc=ad?-1:1,Wa()):0>Lc};ob.reflectY=function(ad){return arguments.length?(w=ad?-1:1,Wa()):0>w};ob.fitExtent=function(ad,Jc){return nb(ob,ad,Jc)};ob.fitSize=function(ad,Jc){return nb(ob,[[0,0],ad],Jc)};ob.fitWidth=function(ad,Jc){return Bb(ob,ad,Jc)};ob.fitHeight=function(ad,Jc){return Ub(ob,ad,Jc)};return ob};g.geoInterpolate=function(Wa,ob){var Ab=Wa[0]*Zd,Nb=Wa[1]*Zd;Wa=ob[0]*Zd;ob=ob[1]*Zd;var $b=Qd(Nb),
Lc=gc(Nb),w=Qd(ob),S=gc(ob),ma=$b*Qd(Ab),Na=$b*gc(Ab),hb=w*Qd(Wa),lb=w*gc(Wa),sb=2*E(re(O(ob-Nb)+$b*w*O(Wa-Ab))),Qb=gc(sb);Wa=sb?function(cc){var Vb=gc(cc*=sb)/Qb,Oc=gc(sb-cc)/Qb;cc=Oc*ma+Vb*hb;var ed=Oc*Na+Vb*lb;Vb=Oc*Lc+Vb*S;return[Pe(ed,cc)*Td,Pe(Vb,re(cc*cc+ed*ed))*Td]}:function(){return[Ab*Td,Nb*Td]};Wa.distance=sb;return Wa};g.geoLength=tc;g.geoMercator=function(){return Ce(ae).scale(961/Ge)};g.geoMercatorRaw=ae;g.geoNaturalEarth1=function(){return Hc(ge).scale(175.295)};g.geoNaturalEarth1Raw=
ge;g.geoOrthographic=function(){return Hc(yf).scale(249.5).clipAngle(90.000001)};g.geoOrthographicRaw=yf;g.geoPath=function(Wa,ob){function Ab(w){w&&("function"===typeof Nb&&Lc.pointRadius(+Nb.apply(this,arguments)),k(w,$b(Lc)));return Lc.result()}var Nb=4.5,$b,Lc;Ab.area=function(w){k(w,$b(Rf));return Rf.result()};Ab.measure=function(w){k(w,$b(Kd));return Kd.result()};Ab.bounds=function(w){k(w,$b(Sa));return Sa.result()};Ab.centroid=function(w){k(w,$b(xb));return xb.result()};Ab.projection=function(w){return arguments.length?
($b=null==w?(Wa=null,Je):(Wa=w).stream,Ab):Wa};Ab.context=function(w){if(!arguments.length)return ob;Lc=null==w?(ob=null,new Ib):new La(ob=w);"function"!==typeof Nb&&Lc.pointRadius(Nb);return Ab};Ab.pointRadius=function(w){if(!arguments.length)return Nb;Nb="function"===typeof w?w:(Lc.pointRadius(+w),+w);return Ab};return Ab.projection(Wa).context(ob)};g.geoProjection=Hc;g.geoProjectionMutator=fd;g.geoRotation=ca;g.geoStereographic=function(){return Hc(Ue).scale(250).clipAngle(142)};g.geoStereographicRaw=
Ue;g.geoStream=k;g.geoTransform=function(Wa){return{stream:ic(Wa)}};g.geoTransverseMercator=function(){var Wa=Ce(of),ob=Wa.center,Ab=Wa.rotate;Wa.center=function(Nb){return arguments.length?ob([-Nb[1],Nb[0]]):(Nb=ob(),[Nb[1],-Nb[0]])};Wa.rotate=function(Nb){return arguments.length?Ab([Nb[0],Nb[1],2<Nb.length?Nb[2]+90:90]):(Nb=Ab(),[Nb[0],Nb[1],Nb[2]-90])};return Ab([0,0,90]).scale(159.155)};g.geoTransverseMercatorRaw=of;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(39),B(15)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],m):m(g.d3=g.d3||{},g.d3,g.d3)})(this,function(g,m,n){function E(xa){return 1<xa?Za:-1>xa?-Za:Math.asin(xa)}function O(xa){return 1<xa?0:-1>xa?Ca:Math.acos(xa)}function x(xa){return 0<xa?Math.sqrt(xa):0}function y(xa){return(De(xa)-De(-xa))/2}function v(xa){return(De(xa)+De(-xa))/2}function l(xa){function za(gb,
ib){var rb=gc(gb),Eb=gc(ib);ib=xc(ib);rb*=Eb;rb=-((1-rb?gf((1+rb)/2)/(1-rb):-.5)+Sa/(1+rb));return[rb*Eb*xc(gb),rb*ib]}var Oa=ya(xa/2),Sa=2*gf(gc(xa/2))/(Oa*Oa);za.invert=function(gb,ib){var rb=x(gb*gb+ib*ib),Eb=-xa/2,zb=50;if(!rb)return[0,0];do{var Mb=Eb/2;var Lb=gc(Mb);Mb=xc(Mb);var bc=Mb/Lb,sc=-gf(Ic(Lb));Eb-=Lb=(2/bc*sc-Sa*bc-rb)/(-sc/(Mb*Mb)+1-Sa/(2*Lb*Lb))*(0>Lb?.7:1)}while(1E-6<Ic(Lb)&&0<--zb);zb=xc(Eb);return[je(gb*zb,rb*gc(Eb)),E(ib*zb/rb)]};return za}function k(xa,za){var Oa=gc(za);var Sa=
(Sa=O(Oa*gc(xa/=2)))?Sa/Math.sin(Sa):1;return[2*Oa*xc(xa)*Sa,xc(za)*Sa]}function d(xa){function za(Eb,zb){var Mb=gc(zb),Lb=gc(Eb/=2);return[(1+Mb)*xc(Eb),(gb*zb>-je(Lb,ib)-.001?0:10*-gb)+rb+xc(zb)*Sa-(1+Mb)*Oa*Lb]}var Oa=xc(xa),Sa=gc(xa),gb=0<=xa?1:-1,ib=ya(gb*xa),rb=(1+Oa-Sa)/2;za.invert=function(Eb,zb){var Mb=0,Lb=0,bc=50;do{var sc=gc(Mb),Y=xc(Mb),pa=gc(Lb),Qa=xc(Lb),Va=1+pa,xb=Va*Y-Eb,Rb=rb+Qa*Sa-Va*Oa*sc-zb,Yb=Va*sc/2,oc=-Y*Qa;Y=Oa*Va*Y/2;pa=Sa*pa+Oa*sc*Qa;sc=oc*Y-pa*Yb;oc=(Rb*oc-xb*pa)/sc/2;
xb=(xb*Y-Rb*Yb)/sc;2<Ic(xb)&&(xb/=2);Mb-=oc;Lb-=xb}while((1E-6<Ic(oc)||1E-6<Ic(xb))&&0<--bc);return gb*Lb>-je(gc(Mb),ib)-.001?[2*Mb,Lb]:null};return za}function f(xa,za){za=ya(za/2);var Oa=x(1-za*za),Sa=1+Oa*gc(xa/=2);xa=xc(xa)*Oa/Sa;za/=Sa;Sa=xa*xa;Oa=za*za;return[4/3*xa*(3+Sa-3*Oa),4/3*za*(3+3*Sa-Oa)]}function a(xa,za){var Oa=Ic(za);return Oa<Fb?[xa,gf(ya(Fb+za/2))]:[xa*gc(Oa)*(2*Wb-1/xc(Oa)),Ae(za)*(2*Wb*(Oa-Fb)-gf(ya(Oa/2)))]}function e(xa){function za(Sa,gb){gb=m.geoAzimuthalEquidistantRaw(Sa,
gb);if(Ic(Sa)>Za){Sa=je(gb[1],gb[0]);var ib=x(gb[0]*gb[0]+gb[1]*gb[1]),rb=Oa*Jf((Sa-Za)/Oa)+Za,Eb=je(xc(Sa-=rb),2-gc(Sa));Sa=rb+E(Ca/ib*xc(Eb))-Eb;gb[0]=ib*gc(Sa);gb[1]=ib*xc(Sa)}return gb}var Oa=2*Ca/xa;za.invert=function(Sa,gb){var ib=x(Sa*Sa+gb*gb);if(ib>Za){var rb=je(gb,Sa);Sa=Oa*Jf((rb-Za)/Oa)+Za;gb=rb>Sa?-1:1;rb=ib*gc(Sa-rb);rb=1/ya(gb*O((rb-Ca)/x(Ca*(Ca-2*rb)+ib*ib)));rb=Sa+2*xe((rb+gb*x(rb*rb-3))/3);Sa=ib*gc(rb);gb=ib*xc(rb)}return m.geoAzimuthalEquidistantRaw.invert(Sa,gb)};return za}function p(xa,
za){function Oa(Sa,gb){Sa=m.geoAzimuthalEqualAreaRaw(Sa/za,gb);Sa[0]*=xa;return Sa}2>arguments.length&&(za=xa);if(1===za)return m.geoAzimuthalEqualAreaRaw;if(Infinity===za)return A;Oa.invert=function(Sa,gb){Sa=m.geoAzimuthalEqualAreaRaw.invert(Sa/xa,gb);Sa[0]*=za;return Sa};return Oa}function A(xa,za){return[xa*gc(za)/gc(za/=2),2*xc(za)]}function C(xa,za,Oa){var Sa=100;Oa=void 0===Oa?0:+Oa;za=+za;do{var gb=xa(Oa);var ib=xa(Oa+1E-6);gb===ib&&(ib=gb+1E-6);Oa-=gb=-1E-6*(gb-za)/(gb-ib)}while(0<Sa--&&
1E-6<Ic(gb));return 0>Sa?NaN:Oa}function D(xa,za,Oa){void 0===za&&(za=40);void 0===Oa&&(Oa=1E-12);return function(Sa,gb,ib,rb){ib=void 0===ib?0:+ib;rb=void 0===rb?0:+rb;for(var Eb=0;Eb<za;Eb++){var zb=xa(ib,rb),Mb=zb[0]-Sa,Lb=zb[1]-gb;if(Ic(Mb)<Oa&&Ic(Lb)<Oa)break;var bc=Mb*Mb+Lb*Lb;if(bc>sc)ib-=pa/=2,rb-=Va/=2;else{var sc=bc;bc=(0<ib?-1:1)*Oa;var Y=(0<rb?-1:1)*Oa;var pa=xa(ib+bc,rb);var Qa=xa(ib,rb+Y);var Va=(pa[0]-zb[0])/bc;bc=(pa[1]-zb[1])/bc;pa=(Qa[0]-zb[0])/Y;zb=(Qa[1]-zb[1])/Y;Y=zb*Va-bc*pa;
Y=(.5>Ic(Y)?.5:1)/Y;pa=(Lb*pa-Mb*zb)*Y;Va=(Mb*bc-Lb*Va)*Y;ib+=pa;rb+=Va;if(Ic(pa)<Oa&&Ic(Va)<Oa)break}}return[ib,rb]}}function P(){function xa(Oa,Sa){if(-1.4>Oa+Sa){var gb=(Oa-Sa+1.6)*(Oa+Sa+1.4)/8;Oa+=gb;Sa-=.8*gb*xc(Sa+Ca/2)}gb=za(Oa,Sa);Oa=(1-gc(Oa*Sa))/12;0>gb[1]&&(gb[0]*=1+Oa);0<gb[1]&&(gb[1]*=1+Oa/1.5*gb[0]*gb[0]);return gb}var za=p(1.68,2);xa.invert=D(xa);return xa}function L(xa,za){xa*=xc(za);var Oa=30,Sa;do za-=Sa=(za+xc(za)-xa)/(1+gc(za));while(1E-6<Ic(Sa)&&0<--Oa);return za/2}function G(xa,
za,Oa){function Sa(gb,ib){return[xa*gb*gc(ib=L(Oa,ib)),za*xc(ib)]}Sa.invert=function(gb,ib){return ib=E(ib/za),[gb/(xa*gc(ib)),E((2*ib+xc(2*ib))/Oa)]};return Sa}function z(xa,za){var Oa=L(Ca,za);return[2.00276*xa/(1/gc(za)+1.11072/gc(Oa)),(za+Wb*xc(Oa))/2.00276]}function K(xa){var za=0,Oa=m.geoProjectionMutator(xa);xa=Oa(za);xa.parallel=function(Sa){return arguments.length?Oa(za=Sa*Pc):za*ld};return xa}function H(xa,za){return[xa*gc(za),za]}function R(xa){function za(Sa,gb){var ib=Oa+xa-gb;Sa=ib?
Sa*gc(gb)/ib:ib;return[ib*xc(Sa),Oa-ib*gc(Sa)]}if(!xa)return H;var Oa=1/ya(xa);za.invert=function(Sa,gb){var ib=x(Sa*Sa+(gb=Oa-gb)*gb),rb=Oa+xa-ib;return[ib/gc(rb)*je(Sa,gb),rb]};return za}function U(xa){function za(Oa,Sa){Oa=(Sa=Za-Sa)?Oa*xa*xc(Sa)/Sa:Sa;return[Sa*xc(Oa)/xa,Za-Sa*gc(Oa)]}za.invert=function(Oa,Sa){Oa*=xa;var gb=Za-Sa;Sa=x(Oa*Oa+gb*gb);Oa=je(Oa,gb);return[(Sa?Sa/xc(Sa):1)*Oa/xa,Za-Sa]};return za}function ka(xa,za,Oa,Sa,gb,ib){var rb=gc(ib);if(1<Ic(xa)||1<Ic(ib))xa=O(Oa*gb+za*Sa*rb);
else{xa=xc(xa/2);var Eb=xc(ib/2);xa=2*E(x(xa*xa+za*Sa*Eb*Eb))}return 1E-6<Ic(xa)?[xa,je(Sa*xc(ib),za*gb-Oa*Sa*rb)]:[0,0]}function ba(xa,za,Oa){return O((xa*xa+za*za-Oa*Oa)/(2*xa*za))}function fa(xa,za,Oa){var Sa=[[xa[0],xa[1],xc(xa[1]),gc(xa[1])],[za[0],za[1],xc(za[1]),gc(za[1])],[Oa[0],Oa[1],xc(Oa[1]),gc(Oa[1])]];xa=Sa[2];for(Oa=0;3>Oa;++Oa,xa=za)za=Sa[Oa],xa.v=ka(za[1]-xa[1],xa[3],xa[2],za[3],za[2],za[0]-xa[0]),xa.point=[0,0];xa=ba(Sa[0].v[0],Sa[2].v[0],Sa[1].v[0]);var gb=ba(Sa[0].v[0],Sa[1].v[0],
Sa[2].v[0]),ib=Ca-xa;Sa[2].point[1]=0;Sa[0].point[0]=-(Sa[1].point[0]=Sa[0].v[0]/2);var rb=[Sa[2].point[0]=Sa[0].point[0]+Sa[2].v[0]*gc(xa),2*(Sa[0].point[1]=Sa[1].point[1]=Sa[2].v[0]*xc(xa))];return function(Eb,zb){var Mb=xc(zb),Lb=gc(zb),bc=Array(3),sc;for(sc=0;3>sc;++sc){var Y=Sa[sc];bc[sc]=ka(zb-Y[1],Y[3],Y[2],Lb,Mb,Eb-Y[0]);if(!bc[sc][0])return Y.point;var pa=bc[sc];Y=bc[sc][1]-Y.v[1];Y-=2*Ca*re((Y+Ca)/(2*Ca));pa[1]=Y}Eb=rb.slice();for(sc=0;3>sc;++sc)zb=ba(Sa[sc].v[0],bc[sc][0],bc[2==sc?0:sc+
1][0]),0>bc[sc][1]&&(zb=-zb),sc?1==sc?(zb=gb-zb,Eb[0]-=bc[sc][0]*gc(zb),Eb[1]-=bc[sc][0]*xc(zb)):(zb=ib-zb,Eb[0]+=bc[sc][0]*gc(zb),Eb[1]+=bc[sc][0]*xc(zb)):(Eb[0]+=bc[sc][0]*gc(zb),Eb[1]-=bc[sc][0]*xc(zb));Eb[0]/=3;Eb[1]/=3;return Eb}}function ja(xa){return xa[0]*=Pc,xa[1]*=Pc,xa}function Z(xa,za,Oa){var Sa=m.geoCentroid({type:"MultiPoint",coordinates:[xa,za,Oa]});Sa=[-Sa[0],-Sa[1]];var gb=m.geoRotation(Sa);xa=fa(ja(gb(xa)),ja(gb(za)),ja(gb(Oa)));xa.invert=D(xa);xa=m.geoProjection(xa).rotate(Sa);
var ib=xa.center;delete xa.rotate;xa.center=function(rb){return arguments.length?ib(gb(rb)):gb.invert(ib())};return xa.clipAngle(90)}function Q(xa,za){za=x(1-xc(za));return[2/vc*xa*za,vc*(1-za)]}function q(xa){function za(Sa,gb){return[Sa,(Sa?Sa/xc(Sa):1)*(xc(gb)*gc(Sa)-Oa*gc(gb))]}var Oa=ya(xa);za.invert=Oa?function(Sa,gb){Sa&&(gb*=xc(Sa)/Sa);var ib=gc(Sa);return[Sa,2*je(x(ib*ib+Oa*Oa-gb*gb)-ib,Oa-gb)]}:function(Sa,gb){return[Sa,E(Sa?gb*ya(Sa)/Sa:gb)]};return za}function N(xa,za){return[Rd*xa*(2*
gc(2*za/3)-1)/vc,Rd*vc*xc(za/3)]}function da(xa){function za(Sa,gb){return[Sa*Oa,xc(gb)/Oa]}var Oa=gc(xa);za.invert=function(Sa,gb){return[Sa/Oa,E(gb*Oa)]};return za}function aa(xa){function za(Sa,gb){return[Sa*Oa,(1+Oa)*ya(gb/2)]}var Oa=gc(xa);za.invert=function(Sa,gb){return[Sa/Oa,2*xe(gb/(1+Oa))]};return za}function wa(xa,za){var Oa=x(8/(3*Ca));return[Oa*xa*(1-Ic(za)/Ca),Oa*za]}function ua(xa,za){var Oa=x(4-3*xc(Ic(za)));return[2/x(6*Ca)*xa*Oa,Ae(za)*x(2*Ca/3)*(2-Oa)]}function Ea(xa,za){var Oa=
x(Ca*(4+Ca));return[2/Oa*xa*(1+x(1-4*za*za/(Ca*Ca))),4/Oa*za]}function $a(xa,za){var Oa=(2+Za)*xc(za);za/=2;for(var Sa=0,gb=Infinity;10>Sa&&1E-6<Ic(gb);Sa++)gb=gc(za),za-=gb=(za+xc(za)*(gb+2)-Oa)/(2*gb*(1+gb));return[2/x(Ca*(4+Ca))*xa*(1+gc(za)),2*x(Ca/(4+Ca))*xc(za)]}function kb(xa,za){return[xa*(1+gc(za))/x(2+Ca),2*za/x(2+Ca)]}function ta(xa,za){for(var Oa=(1+Za)*xc(za),Sa=0,gb=Infinity;10>Sa&&1E-6<Ic(gb);Sa++)za-=gb=(za+xc(za)-Oa)/(1+gc(za));Oa=x(2+Ca);return[xa*(1+gc(za))/Oa,2*za/Oa]}function Ta(xa,
za){var Oa=xc(xa/=2);xa=gc(xa);var Sa=x(gc(za)),gb=gc(za/=2);za=xc(za)/(gb+Wb*xa*Sa);var ib=x(2/(1+za*za));Oa=x((Wb*gb+(xa+Oa)*Sa)/(Wb*gb+(xa-Oa)*Sa));return[kd*(ib*(Oa-1/Oa)-2*gf(Oa)),kd*(ib*za*(Oa+1/Oa)-2*xe(za))]}function Xa(xa,za){za=ya(za/2);return[xa*lf*x(1-za*za),(1+lf)*za]}function Fa(xa,za){var Oa=za/2,Sa=gc(Oa);return[2*xa/vc*gc(za)*Sa*Sa,vc*ya(Oa)]}function va(xa){function za(zb,Mb){var Lb=gc(Mb),bc=xc(Mb);return[Lb/(gb+xa*Lb)*zb,gb*Mb+xa*bc]}function Oa(zb,Mb){zb=za(zb,Mb);return[zb[0]*
Eb,zb[1]/Eb]}function Sa(zb){return Oa(0,zb)[1]}var gb=1-xa,ib=za(Ca,0)[0]-za(-Ca,0)[0],rb=za(0,Za)[1]-za(0,-Za)[1],Eb=x(2*rb/ib);Oa.invert=function(zb,Mb){Mb=C(Sa,Mb);return[zb/Eb*(xa+gb/gc(Mb)),Mb]};return Oa}function V(xa){return[2*xa[0],2*xe(xc(xa[1]*Pc))*ld]}function X(xa,za){function Oa(ib,rb){ib=m.geoAzimuthalEquidistantRaw(ib,rb);rb=ib[0];var Eb=ib[1],zb=rb*rb+Eb*Eb;if(zb>gb){var Mb=x(zb);rb=je(Eb,rb);zb=Sa*Jf(rb/Sa);Eb=rb-zb;var Lb=xa*gc(Eb),bc=(xa*xc(Eb)-Eb*xc(Lb))/(Za-Lb),sc=ca(Eb,bc),
Y=(Ca-xa)/ea(sc,Lb,Ca);rb=Mb;var pa=50,Qa;do rb-=Qa=(xa+ea(sc,Lb,rb)*Y-Mb)/(sc(rb)*Y);while(1E-6<Ic(Qa)&&0<--pa);Eb*=xc(rb);rb<Za&&(Eb-=bc*(rb-Za));Mb=xc(zb);zb=gc(zb);ib[0]=rb*zb-Eb*Mb;ib[1]=rb*Mb+Eb*zb}return ib}var Sa=2*Ca/za,gb=xa*xa;Oa.invert=function(ib,rb){var Eb=ib*ib+rb*rb;if(Eb>gb){var zb=x(Eb);rb=je(rb,ib);Eb=Sa*Jf(rb/Sa);rb-=Eb;ib=zb*gc(rb);rb=zb*xc(rb);zb=ib-Za;for(var Mb=xc(ib),Lb=rb/Mb,bc=ib<Za?Infinity:0,sc=10;;){var Y=xa*xc(Lb),pa=xa*gc(Lb),Qa=xc(pa),Va=Za-pa,xb=(Y-Lb*Qa)/Va,Rb=ca(Lb,
xb);if(1E-12>Ic(bc)||!--sc)break;Lb-=bc=(Lb*Mb-xb*zb-rb)/(Mb-2*zb*(Va*(pa+Lb*Y*gc(pa)-Qa)-Y*(Y-Lb*Qa))/(Va*Va))}zb=xa+ea(Rb,pa,ib)*(Ca-xa)/ea(Rb,pa,Ca);rb=Eb+Lb;ib=zb*gc(rb);rb=zb*xc(rb)}return m.geoAzimuthalEquidistantRaw.invert(ib,rb)};return Oa}function ca(xa,za){return function(Oa){var Sa=xa*gc(Oa);Oa<Za&&(Sa-=za);return x(1+Sa*Sa)}}function ea(xa,za,Oa){var Sa=(Oa-za)/50;Oa=xa(za)+xa(Oa);for(var gb=1;50>gb;++gb)Oa+=2*xa(za+=Sa);return.5*Oa*Sa}function ra(xa,za,Oa,Sa,gb,ib,rb,Eb){function zb(Mb,
Lb){if(!Lb)return[xa*Mb/Ca,0];var bc=Lb*Lb,sc=xa+bc*(za+bc*(Oa+bc*Sa)),Y=Lb*(gb-1+bc*(ib-Eb+bc*rb));Y=(sc*sc+Y*Y)/(2*Y);Mb=Mb*E(sc/Y)/Ca;return[Y*xc(Mb),Lb*(1+bc*Eb)+Y*(1-gc(Mb))]}8>arguments.length&&(Eb=0);zb.invert=function(Mb,Lb){var bc=Ca*Mb/xa,sc=Lb,Y=50;do{var pa=sc*sc,Qa=xa+pa*(za+pa*(Oa+pa*Sa)),Va=sc*(gb-1+pa*(ib-Eb+pa*rb)),xb=Qa*Qa+Va*Va,Rb=2*Va;var Yb=xb/Rb;var oc=Yb*Yb;var Ec=E(Qa/Yb)/Ca;var dd=bc*Ec,Yc=Qa*Qa,Kd=(2*za+pa*(4*Oa+6*pa*Sa))*sc,Ud=gb+pa*(3*ib+5*pa*rb);Va=(2*(Qa*Kd+Va*(Ud-1))*
Rb-2*xb*(Ud-1))/(Rb*Rb);xb=gc(dd);Ud=xc(dd);Rb=Yb*xb;dd=Yb*Ud;oc=bc/Ca*(1/x(1-Yc/oc))*(Kd*Yb-Qa*Va)/oc;Qa=dd-Mb;pa=sc*(1+pa*Eb)+Yb-Rb-Lb;Yb=Va*Ud+Rb*oc;Yc=Rb*Ec;Va=1+Va-(Va*xb-dd*oc);Ec*=dd;xb=Yb*Ec-Va*Yc;if(!xb)break;bc-=Yb=(pa*Yb-Qa*Va)/xb;sc-=Ec=(Qa*Ec-pa*Yc)/xb}while((1E-6<Ic(Yb)||1E-6<Ic(Ec))&&0<--Y);return[bc,sc]};return zb}function qa(xa,za){var Oa=xa*xa,Sa=za*za;return[xa*(1-.162388*Sa)*(.87-9.52426E-4*Oa*Oa),za*(1+Sa/12)]}function Ha(xa){function za(Sa,gb){var ib=0<Sa?-.5:.5;Sa=xa(Sa+ib*
Ca,gb);Sa[0]-=ib*Oa;return Sa}var Oa=xa(Za,0)[0]-xa(-Za,0)[0];xa.invert&&(za.invert=function(Sa,gb){var ib=0<Sa?-.5:.5;Sa=xa.invert(Sa+ib*Oa,gb);ib=Sa[0]-ib*Ca;ib<-Ca?ib+=2*Ca:ib>Ca&&(ib-=2*Ca);Sa[0]=ib;return Sa});return za}function na(xa,za){var Oa=Ae(xa),Sa=Ae(za),gb=gc(za),ib=gc(xa)*gb;xa=xc(xa)*gb;za=xc(Sa*za);xa=Ic(je(xa,za));za=E(ib);1E-6<Ic(xa-Za)&&(xa%=Za);ib=Pa(xa>Ca/4?Za-xa:xa,za);xa>Ca/4&&(za=ib[0],ib[0]=-ib[1],ib[1]=-za);return ib[0]*=Oa,ib[1]*=-Sa,ib}function Pa(xa,za){if(za===Za)return[0,
0];var Oa=xc(za),Sa=Oa*Oa,gb=Sa*Sa,ib=1+gb,rb=1+3*gb,Eb=1-gb,zb=E(1/x(ib)),Mb=Eb+Sa*ib*zb,Lb=(1-Oa)/Mb,bc=x(Lb),sc=Lb*ib,Y=x(sc),pa=bc*Eb;if(0===xa)return[0,-(pa+Sa*Y)];var Qa=gc(za),Va=1/Qa,xb=2*Oa*Qa;zb=(-Mb*Qa-(1-Oa)*(-3*Sa+zb*rb)*xb)/(Mb*Mb);Oa=-Va*xb;ib=-Va*(Sa*ib*zb+Lb*rb*xb);Eb=-2*Va*(.5*zb/bc*Eb-2*Sa*bc*xb);bc=4*xa/Ca;if(xa>.222*Ca||za<Ca/4&&xa>.175*Ca){za=(pa+Sa*x(sc*(1+gb)-pa*pa))/(1+gb);if(xa>Ca/4)return[za,za];gb=za;Va=.5*za;za=.5*(Va+gb);xa=50;do{xb=x(sc-za*za);xb=za*(Eb+Oa*xb)+ib*E(za/
Y)-bc;if(!xb)break;0>xb?Va=za:gb=za;za=.5*(Va+gb)}while(1E-6<Ic(gb-Va)&&0<--xa)}else{za=1E-6;xa=25;do xb=za*za,gb=x(sc-xb),rb=Eb+Oa*gb,Va=za*rb+ib*E(za/Y)-bc,xb=rb+(ib-Oa*xb)/gb,za-=gb=gb?Va/xb:0;while(1E-6<Ic(gb)&&0<--xa)}return[za,-pa-Sa*x(sc-za*za)]}function cb(xa,za){if(1E-6>za){var Oa=xc(xa);var Sa=gc(xa);var gb=za*(xa-Oa*Sa)/4;return[Oa-gb*Sa,Sa+gb*Oa,1-za*Oa*Oa/2,xa-gb]}if(.999999<=za){gb=(1-za)/4;Sa=v(xa);Oa=De(2*xa);Oa=(Oa-1)/(Oa+1);za=1/Sa;var ib=Sa*y(xa);return[Oa+gb*(ib-xa)/(Sa*Sa),za-
gb*Oa*za*(ib-xa),za+gb*Oa*za*(ib+xa),2*xe(De(xa))-Za+gb*(ib-xa)/Sa]}var rb=[1,0,0,0,0,0,0,0,0],Eb=[x(za),0,0,0,0,0,0,0,0],zb=0;Sa=x(1-za);for(ib=1;1E-6<Ic(Eb[zb]/rb[zb])&&8>zb;)gb=rb[zb++],Eb[zb]=(gb-Sa)/2,rb[zb]=(gb+Sa)/2,Sa=x(gb*Sa),ib*=2;za=ib*rb[zb]*xa;do Oa=Eb[zb]*xc(Sa=za)/rb[zb],za=(E(Oa)+za)/2;while(--zb);return[xc(za),Oa=gc(za),Oa/gc(za-Sa),za]}function ab(xa,za){if(!za)return xa;if(1===za)return gf(ya(xa/2+Fb));var Oa=1,Sa=x(1-za),gb=x(za);for(za=0;1E-6<Ic(gb);za++)xa%Ca?(gb=xe(Sa*ya(xa)/
Oa),0>gb&&(gb+=Ca),xa+=gb+~~(xa/Ca)*Ca):xa+=xa,gb=(Oa+Sa)/2,Sa=x(Oa*Sa),gb=((Oa=gb)-Sa)/2;return xa/(Qf(2,za)*Oa)}function Ba(xa,za){var Oa=(Wb-1)/(Wb+1),Sa=x(1-Oa*Oa),gb=ab(Za,Sa*Sa),ib=gf(ya(Ca/4+Ic(za)/2));ib=De(-1*ib)/x(Oa);Oa=ib*gc(-1*xa);var rb=ib*xc(-1*xa);xa=Oa*Oa;ib=rb+1;rb=1-xa-rb*rb;xa=[.5*((0<=Oa?Za:-Za)-je(rb,2*Oa)),-.25*gf(rb*rb+4*xa)+.5*gf(ib*ib+xa)];Oa=xa[0];xa=xa[1];Sa*=Sa;ib=Ic(Oa);rb=Ic(xa);rb=y(rb);if(ib){var Eb=1/xc(ib);ib=1/(ya(ib)*ya(ib));rb=-(ib+Sa*rb*rb*Eb*Eb-1+Sa);rb=(-rb+
x(rb*rb-4*(Sa-1)*ib))/2;Sa=[ab(xe(1/x(rb)),Sa)*Ae(Oa),ab(xe(x((rb/ib-1)/Sa)),1-Sa)*Ae(xa)]}else Sa=[0,ab(xe(rb),1-Sa)*Ae(xa)];return[-Sa[1],(0<=za?1:-1)*(.5*gb-Sa[0])]}function Ga(xa){function za(ib,rb){var Eb=gb(ib,rb);ib=Eb[0];rb=Eb[1];Eb=xc(rb);rb=gc(rb);var zb=gc(ib),Mb=O(Oa*Eb+Sa*rb*zb),Lb=xc(Mb);Mb=1E-6<Ic(Lb)?Mb/Lb:1;return[Mb*Sa*xc(ib),(Ic(ib)>Za?Mb:-Mb)*(Oa*rb-Sa*Eb*zb)]}var Oa=xc(xa),Sa=gc(xa),gb=oa(xa);gb.invert=oa(-xa);za.invert=function(ib,rb){var Eb=x(ib*ib+rb*rb),zb=-xc(Eb),Mb=gc(Eb),
Lb=Eb*Mb,bc=-rb*zb,sc=Eb*Oa,Y=x(Lb*Lb+bc*bc-sc*sc);Lb=je(Lb*sc+bc*Y,bc*sc-Lb*Y);ib=(Eb>Za?-1:1)*je(ib*zb,Eb*gc(Lb)*Mb+rb*xc(Lb)*zb);return gb.invert(ib,Lb)};return za}function oa(xa){var za=xc(xa),Oa=gc(xa);return function(Sa,gb){var ib=gc(gb),rb=gc(Sa)*ib;Sa=xc(Sa)*ib;gb=xc(gb);return[je(Sa,rb*Oa-gb*za),E(gb*Oa+rb*za)]}}function Ia(xa){function za(Lb,bc){var sc=Ic(bc);if(sc>Oa){var Y=If(xa-1,Hf(0,re((Lb+Ca)/Eb)));Lb+=Ca*(xa-1)/xa-Y*Eb;Lb=Q(Lb,sc);Lb[0]=Lb[0]*Nc/Sa-Nc*(xa-1)/(2*xa)+Y*Nc/xa;Lb[1]=
gb+4*(Lb[1]-ib)*rb/Nc;0>bc&&(Lb[1]=-Lb[1])}else Lb=zf(Lb,bc);Lb[0]*=zb;Lb[1]/=Mb;return Lb}var Oa=Xe*Pc,Sa=Q(Ca,Oa)[0]-Q(-Ca,Oa)[0],gb=zf(0,Oa)[1],ib=Q(0,Oa)[1],rb=vc-ib,Eb=Nc/xa,zb=4/Nc,Mb=gb+rb*rb*4/Nc;za.invert=function(Lb,bc){Lb/=zb;bc*=Mb;var sc=Ic(bc);if(sc>gb){var Y=If(xa-1,Hf(0,re((Lb+Ca)/Eb)));Lb=(Lb+Ca*(xa-1)/xa-Y*Eb)*Sa/Nc;Lb=Q.invert(Lb,.25*(sc-gb)*Nc/rb+ib);Lb[0]-=Ca*(xa-1)/xa-Y*Eb;0>bc&&(Lb[1]=-Lb[1]);return Lb}return zf.invert(Lb,bc)};return za}function Ua(xa,za){return[xa,za&1?89.999999:
Xe]}function eb(xa,za){return[xa,za&1?-89.999999:-Xe]}function Gb(xa){return[.999999*xa[0],xa[1]]}function Tb(xa){var za=[].concat(n.range(-180,180+xa/2,xa).map(Ua),n.range(180,-180-xa/2,-xa).map(eb));return{type:"Polygon",coordinates:[180===xa?za.map(Gb):za]}}function kc(xa){function za(Lb,bc){var sc=1-xc(bc);if(sc&&2>sc){var Y=Za-bc,pa=25;do{var Qa=xc(Y);var Va=gc(Y);bc=gb+je(Qa,Oa-Va);Va=1+Mb-2*Oa*Va;Y-=Qa=(Y-zb*gb-Oa*Qa+Va*bc-.5*sc*rb)/(2*Oa*Qa*bc)}while(1E-12<Ic(Qa)&&0<--pa);sc=ib*x(Va);Lb=Lb*
bc/Ca}else sc=ib*(xa+sc),Lb=Lb*gb/Ca;return[sc*xc(Lb),Eb-sc*gc(Lb)]}var Oa=1+xa,Sa=xc(1/Oa),gb=E(Sa),ib=2*x(Ca/(rb=Ca+4*gb*Oa)),rb,Eb=.5*ib*(Oa+x(xa*(2+xa))),zb=xa*xa,Mb=Oa*Oa;za.invert=function(Lb,bc){var sc=Lb*Lb+(bc-=Eb)*bc;bc=(1+Mb-sc/(ib*ib))/(2*Oa);var Y=O(bc),pa=xc(Y),Qa=gb+je(pa,Oa-bc);return[E(Lb/x(sc))*Ca/Qa,E(1-2*(Y-zb*gb-Oa*pa+(1+Mb-2*Oa*bc)*Qa)/rb)]};return za}function bd(xa,za){return-.7109889596207567<za?(xa=Od(xa,za),xa[1]+=.0528035274542,xa):H(xa,za)}function tc(xa,za){return.7109889596207567<
Ic(za)?(xa=Od(xa,za),xa[1]-=0<za?.0528035274542:-.0528035274542,xa):H(xa,za)}function Fc(xa,za,Oa,Sa){function gb(bc){return x(1+xa*gc(2*bc)+za*gc(4*bc))}function ib(bc){bc*=Oa;return(2*bc+(1+xa-za/2)*xc(2*bc)+(xa+za)/2*xc(4*bc)+za/2*xc(6*bc))/Oa}function rb(bc){return gb(bc)*xc(bc)}var Eb=x(4*Ca/(2*Oa+(1+xa-za/2)*xc(2*Oa)+(xa+za)/2*xc(4*Oa)+za/2*xc(6*Oa))),zb=x(Sa*xc(Oa)*x((1+xa*gc(2*Oa)+za*gc(4*Oa))/(1+xa+za))),Mb=Oa*ib(1),Lb=function(bc,sc){var Y=Oa*C(ib,Mb*xc(sc)/Oa,sc/Ca);isNaN(Y)&&(Y=Oa*Ae(sc));
sc=Eb*gb(Y);return[sc*zb*bc/Ca*gc(Y),sc/zb*xc(Y)]};Lb.invert=function(bc,sc){sc=C(rb,sc*zb/Eb);return[bc*Ca/(gc(sc)*Eb*zb*gb(sc)),E(Oa*ib(sc/Oa)/Mb)]};0===Oa&&(Eb=x(Sa/Ca),Lb=function(bc,sc){return[bc*Eb,xc(sc)/Eb]},Lb.invert=function(bc,sc){return[bc/Eb,E(sc*Eb)]});return Lb}function mb(xa,za,Oa,Sa,gb,ib,rb,Eb,zb,Mb,Lb){if(Lb.nanEncountered)return NaN;var bc=Oa-za;var sc=xa(za+.25*bc);var Y=xa(Oa-.25*bc);if(isNaN(sc))Lb.nanEncountered=!0;else if(isNaN(Y))Lb.nanEncountered=!0;else{var pa=bc*(Sa+4*
sc+gb)/12;var Qa=bc*(gb+4*Y+ib)/12;var Va=pa+Qa;rb=(Va-rb)/15;if(Mb>zb)return Lb.maxDepthCount++,Va+rb;if(Math.abs(rb)<Eb)return Va+rb;bc=za+.5*bc;za=mb(xa,za,bc,Sa,sc,gb,pa,.5*Eb,zb,Mb+1,Lb);if(isNaN(za))return Lb.nanEncountered=!0,NaN;xa=mb(xa,bc,Oa,gb,Y,ib,Qa,.5*Eb,zb,Mb+1,Lb);return isNaN(xa)?(Lb.nanEncountered=!0,NaN):za+xa}}function dc(xa,za,Oa,Sa,gb){void 0===Sa&&(Sa=1E-8);void 0===gb&&(gb=20);var ib=xa(za),rb=xa(.5*(za+Oa)),Eb=xa(Oa);return mb(xa,za,Oa,ib,rb,Eb,(ib+4*rb+Eb)*(Oa-za)/6,Sa,gb,
1,{maxDepthCount:0,nanEncountered:!1})}function Bc(xa,za,Oa){function Sa(Lb){return xa+(1-xa)*Qf(1-Qf(Lb,za),1/za)}function gb(Lb){var bc=0,sc=1E3,Y=500;do Eb[Y]>Lb?sc=Y:bc=Y,Y=bc+sc>>1;while(Y>bc);(bc=Eb[Y+1]-Eb[Y])&&(bc=(Lb-Eb[Y+1])/bc);return(Y+1+bc)/1E3}for(var ib=1/dc(Sa,0,1,1E-4),rb=1.00000001*ib,Eb=[],zb=0;1E3>=zb;zb++)Eb.push(dc(Sa,0,zb/1E3,1E-4)*rb);var Mb=2*gb(1)/Ca*ib/Oa;Oa=function(Lb,bc){var sc=gb(Ic(xc(bc)));Lb*=Sa(sc);sc/=Mb;return[Lb,0<=bc?sc:-sc]};Oa.invert=function(Lb,bc){var sc;
bc*=Mb;1>Ic(bc)&&(sc=Ae(bc)*E(dc(Sa,0,Ic(bc),1E-4)*ib));return[Lb/Sa(Ic(bc)),sc]};return Oa}function pc(xa,za){for(var Oa=-1,Sa=xa.length,gb=xa[0],ib,rb,Eb,zb=[];++Oa<Sa;){ib=xa[Oa];rb=(ib[0]-gb[0])/za;Eb=(ib[1]-gb[1])/za;for(var Mb=0;Mb<za;++Mb)zb.push([gb[0]+Mb*rb,gb[1]+Mb*Eb]);gb=ib}zb.push(ib);return zb}function Cc(xa){var za=[],Oa,Sa=xa[0].length;for(Oa=0;Oa<Sa;++Oa){var gb=xa[0][Oa];var ib=gb[0][0];var rb=gb[0][1];var Eb=gb[1][1];var zb=gb[2][0];gb=gb[2][1];za.push(pc([[ib+1E-6,rb+1E-6],[ib+
1E-6,Eb-1E-6],[zb-1E-6,Eb-1E-6],[zb-1E-6,gb+1E-6]],30))}for(Oa=xa[1].length-1;0<=Oa;--Oa)gb=xa[1][Oa],ib=gb[0][0],rb=gb[0][1],Eb=gb[1][1],zb=gb[2][0],gb=gb[2][1],za.push(pc([[zb-1E-6,gb-1E-6],[zb-1E-6,Eb+1E-6],[ib+1E-6,Eb+1E-6],[ib+1E-6,rb-1E-6]],30));return{type:"Polygon",coordinates:[n.merge(za)]}}function nc(xa,za,Oa){function Sa(zb,Mb){for(var Lb=0>Mb?-1:1,bc=za[+(0>Mb)],sc=0,Y=bc.length-1;sc<Y&&zb>bc[sc][2][0];++sc);zb=xa(zb-bc[sc][1][0],Mb);zb[0]+=xa(bc[sc][1][0],Lb*Mb>Lb*bc[sc][0][1]?bc[sc][0][1]:
Mb)[0];return zb}var gb,ib;Oa?Sa.invert=Oa(Sa):xa.invert&&(Sa.invert=function(zb,Mb){for(var Lb=ib[+(0>Mb)],bc=za[+(0>Mb)],sc=0,Y=Lb.length;sc<Y;++sc){var pa=Lb[sc];if(pa[0][0]<=zb&&zb<pa[1][0]&&pa[0][1]<=Mb&&Mb<pa[1][1])return Lb=xa.invert(zb-xa(bc[sc][1][0],0)[0],Mb),Lb[0]+=bc[sc][1][0],bc=Sa(Lb[0],Lb[1]),zb=[zb,Mb],1E-6>Ic(bc[0]-zb[0])&&1E-6>Ic(bc[1]-zb[1])?Lb:null}});var rb=m.geoProjection(Sa),Eb=rb.stream;rb.stream=function(zb){var Mb=rb.rotate(),Lb=Eb(zb),bc=(rb.rotate([0,0]),Eb(zb));rb.rotate(Mb);
Lb.sphere=function(){m.geoStream(gb,bc)};return Lb};rb.lobes=function(zb){if(!arguments.length)return za.map(function(Mb){return Mb.map(function(Lb){return[[Lb[0][0]*ld,Lb[0][1]*ld],[Lb[1][0]*ld,Lb[1][1]*ld],[Lb[2][0]*ld,Lb[2][1]*ld]]})});gb=Cc(zb);za=zb.map(function(Mb){return Mb.map(function(Lb){return[[Lb[0][0]*Pc,Lb[0][1]*Pc],[Lb[1][0]*Pc,Lb[1][1]*Pc],[Lb[2][0]*Pc,Lb[2][1]*Pc]]})});ib=za.map(function(Mb){return Mb.map(function(Lb){var bc=xa(Lb[0][0],Lb[0][1])[0],sc=xa(Lb[2][0],Lb[2][1])[0],Y=
xa(Lb[1][0],Lb[0][1])[1];Lb=xa(Lb[1][0],Lb[1][1])[1];if(Y>Lb){var pa=Y;Y=Lb;Lb=pa}return[[bc,Y],[sc,Lb]]})});return rb};null!=za&&rb.lobes(za);return rb}function Uc(xa,za){return[3/Nc*xa*x(Ca*Ca/3-za*za),za]}function Tc(xa){function za(Oa,Sa){if(1E-6>Ic(Ic(Sa)-Za))return[0,0>Sa?-2:2];Sa=xc(Sa);Sa=Qf((1+Sa)/(1-Sa),xa/2);var gb=.5*(Sa+1/Sa)+gc(Oa*=xa);return[2*xc(Oa)/gb,(Sa-1/Sa)/gb]}za.invert=function(Oa,Sa){var gb=Ic(Sa);if(1E-6>Ic(gb-2))return Oa?null:[0,Ae(Sa)*Za];if(2<gb)return null;Oa/=2;Sa/=
2;gb=Oa*Oa;var ib=Sa*Sa;Sa=2*Sa/(1+gb+ib);Sa=Qf((1+Sa)/(1-Sa),1/xa);return[je(2*Oa,1-gb-ib)/xa,E((Sa-1)/(Sa+1))]};return za}function Kc(xa,za){return[xa*(1+x(gc(za)))/2,za/(gc(za/2)*gc(xa/6))]}function Fd(xa,za){var Oa=xa*xa,Sa=za*za;return[xa*(.975534+Sa*(-.119161+-.0143059*Oa+-.0547009*Sa)),za*(1.00384+Oa*(.0802894+-.02855*Sa+1.99025E-4*Oa)+Sa*(.0998909+-.0491032*Sa))]}function fe(xa,za){return[xc(xa)/gc(za),ya(za)*gc(xa)]}function vd(xa){function za(gb,ib){var rb=ib-xa,Eb=1E-6>Ic(rb)?gb*Oa:1E-6>
Ic(Eb=Fb+ib/2)||1E-6>Ic(Ic(Eb)-Za)?0:gb*rb/gf(ya(Eb)/Sa);return[Eb,rb]}var Oa=gc(xa),Sa=ya(Fb+xa/2);za.invert=function(gb,ib){var rb,Eb=ib+xa;return[1E-6>Ic(ib)?gb/Oa:1E-6>Ic(rb=Fb+Eb/2)||1E-6>Ic(Ic(rb)-Za)?0:gb*gf(ya(rb)/Sa)/ib,Eb]};return za}function Rc(xa,za){return[xa,1.25*gf(ya(Fb+.4*za))]}function Yd(xa){function za(Sa,gb){var ib=gc(gb),rb=2/(1+ib*gc(Sa));Sa=rb*ib*xc(Sa);gb=rb*xc(gb);rb=Oa;ib=xa[rb];for(var Eb=ib[0],zb=ib[1],Mb;0<=--rb;)ib=xa[rb],Eb=ib[0]+Sa*(Mb=Eb)-gb*zb,zb=ib[1]+Sa*zb+gb*
Mb;Eb=Sa*(Mb=Eb)-gb*zb;return[Eb,Sa*zb+gb*Mb]}var Oa=xa.length-1;za.invert=function(Sa,gb){var ib=20,rb=Sa,Eb=gb;do{for(var zb=Oa,Mb=xa[zb],Lb=Mb[0],bc=Mb[1],sc=0,Y=0,pa;0<=--zb;)Mb=xa[zb],sc=Lb+rb*(pa=sc)-Eb*Y,Y=bc+rb*Y+Eb*pa,Lb=Mb[0]+rb*(pa=Lb)-Eb*bc,bc=Mb[1]+rb*bc+Eb*pa;sc=Lb+rb*(pa=sc)-Eb*Y;Y=bc+rb*Y+Eb*pa;Lb=rb*(pa=Lb)-Eb*bc-Sa;bc=rb*bc+Eb*pa-gb;Mb=sc*sc+Y*Y;rb-=zb=(Lb*sc+bc*Y)/Mb;Eb-=Lb=(bc*sc-Lb*Y)/Mb}while(1E-12<Ic(zb)+Ic(Lb)&&0<--ib);if(ib)return Sa=x(rb*rb+Eb*Eb),gb=2*xe(.5*Sa),ib=xc(gb),
[je(rb*ib,Sa*gc(gb)),Sa?E(Eb*ib/Sa):0]};return za}function Pb(xa,za){xa=m.geoProjection(Yd(xa)).rotate(za).clipAngle(90);var Oa=m.geoRotation(za),Sa=xa.center;delete xa.rotate;xa.center=function(gb){return arguments.length?Sa(Oa(gb)):Oa.invert(Sa())};return xa}function fc(xa,za){za=E(7*xc(za)/(3*gd));return[gd*xa*(2*gc(2*za/3)-1)/Hd,9*xc(za/3)/Hd]}function Hb(xa,za){for(var Oa=(1+ub)*xc(za),Sa=0,gb;25>Sa&&!(za-=gb=(xc(za/2)+xc(za)-Oa)/(.5*gc(za/2)+gc(za)),1E-6>Ic(gb));Sa++);return[xa*(1+2*gc(za)/
gc(za/2))/(3*Wb),2*x(3)*xc(za/2)/x(2+Wb)]}function yc(xa,za){var Oa=x(6/(4+Ca)),Sa=(1+Ca/4)*xc(za);za/=2;for(var gb=0,ib;25>gb&&!(za-=ib=(za/2+xc(za)-Sa)/(.5+gc(za)),1E-6>Ic(ib));gb++);return[Oa*(.5+gc(za))*xa/1.5,Oa*za]}function Vc(xa,za){var Oa=za*za,Sa=Oa*Oa,gb=Oa*Sa;return[xa*(.84719-.13063*Oa+gb*gb*(-.04515+.05494*Oa-.02326*Sa+.00331*gb)),za*(1.01183+Sa*Sa*(-.02625+.01926*Oa-.00396*Sa))]}function Gd(xa,za){return[xa*(1+gc(za))/2,2*(za-ya(za/2))]}function Wd(xa,za){var Oa=xc(za),Sa=gc(za),gb=
Ae(xa);if(0===xa||Ic(za)===Za)return[0,za];if(0===za)return[xa,0];if(Ic(xa)===Za)return[xa*Sa,Za*Oa];xa=Ca/(2*xa)-2*xa/Ca;var ib=2*za/Ca,rb=(1-ib*ib)/(Oa-ib),Eb=xa*xa,zb=rb*rb;ib=1+Eb/zb;var Mb=1+zb/Eb,Lb=(xa*Oa/rb-xa/2)/ib,bc=(zb*Oa/Eb+rb/2)/Mb;Oa=bc*bc-(zb*Oa*Oa/Eb+rb*Oa-1)/Mb;return[Za*(Lb+x(Lb*Lb+Sa*Sa/ib)*gb),Za*(bc+x(0>Oa?0:Oa)*Ae(-za*xa)*gb)]}function La(xa,za){var Oa=za*za;return[xa,za*(1.0148+Oa*Oa*(.23185+Oa*(-.14499+.02406*Oa)))]}function fb(xa,za){if(1E-6>Ic(za))return[xa,0];var Oa=ya(za);
xa*=xc(za);return[xc(xa)/Oa,za+(1-gc(xa))/Oa]}function wb(xa,za){var Oa=Zb(xa[1],xa[0]),Sa=Zb(za[1],za[0]),gb=je(Oa[0]*Sa[1]-Oa[1]*Sa[0],Oa[0]*Sa[0]+Oa[1]*Sa[1]);Oa=x(Oa[0]*Oa[0]+Oa[1]*Oa[1])/x(Sa[0]*Sa[0]+Sa[1]*Sa[1]);return Ib([1,0,xa[0][0],0,1,xa[0][1]],Ib([Oa,0,0,0,Oa,0],Ib([gc(gb),xc(gb),0,-xc(gb),gc(gb),0],[1,0,-za[0][0],0,1,-za[0][1]])))}function Ib(xa,za){return[xa[0]*za[0]+xa[1]*za[3],xa[0]*za[1]+xa[1]*za[4],xa[0]*za[2]+xa[1]*za[5]+xa[2],xa[3]*za[0]+xa[4]*za[3],xa[3]*za[1]+xa[4]*za[4],xa[3]*
za[2]+xa[4]*za[5]+xa[5]]}function Zb(xa,za){return[xa[0]-za[0],xa[1]-za[1]]}function ic(xa,za){function Oa(Eb,zb){Eb.edges=Bb(Eb.face);if(zb.face){var Mb=Eb.shared=nb(Eb.face,zb.face),Lb=wb(Mb.map(zb.project),Mb.map(Eb.project));Eb.transform=zb.transform?Ib(zb.transform,Lb):Lb;Lb=zb.edges;for(var bc=0,sc=Lb.length;bc<sc;++bc)qc(Mb[0],Lb[bc][1])&&qc(Mb[1],Lb[bc][0])&&(Lb[bc]=Eb),qc(Mb[0],Lb[bc][0])&&qc(Mb[1],Lb[bc][1])&&(Lb[bc]=Eb);Lb=Eb.edges;bc=0;for(sc=Lb.length;bc<sc;++bc)qc(Mb[0],Lb[bc][0])&&
qc(Mb[1],Lb[bc][1])&&(Lb[bc]=zb),qc(Mb[0],Lb[bc][1])&&qc(Mb[1],Lb[bc][0])&&(Lb[bc]=zb)}else Eb.transform=zb.transform;Eb.children&&Eb.children.forEach(function(Y){Oa(Y,Eb)});return Eb}function Sa(Eb,zb){var Mb=za(Eb,zb);Eb=Mb.project([Eb*ld,zb*ld]);if(Mb=Mb.transform)return[Mb[0]*Eb[0]+Mb[1]*Eb[1]+Mb[2],-(Mb[3]*Eb[0]+Mb[4]*Eb[1]+Mb[5])];Eb[1]=-Eb[1];return Eb}function gb(Eb,zb){var Mb=Eb.project.invert,Lb=Eb.transform,bc=zb;if(Lb){var sc=1/(Lb[0]*Lb[4]-Lb[1]*Lb[3]);Lb=[sc*Lb[4],-sc*Lb[1],sc*(Lb[1]*
Lb[5]-Lb[2]*Lb[4]),-sc*Lb[3],sc*Lb[0],sc*(Lb[2]*Lb[3]-Lb[0]*Lb[5])];bc=[Lb[0]*bc[0]+Lb[1]*bc[1]+Lb[2],Lb[3]*bc[0]+Lb[4]*bc[1]+Lb[5]]}if(Lb=Mb)Mb=Y=Mb(bc),Mb=za(Mb[0]*Pc,Mb[1]*Pc),Lb=Eb===Mb;if(Lb)return Y;var Y;Eb=Eb.children;Mb=0;for(bc=Eb&&Eb.length;Mb<bc;++Mb)if(Y=gb(Eb[Mb],zb))return Y}Oa(xa,{transform:null});Ub(xa)&&(Sa.invert=function(Eb,zb){return(Eb=gb(xa,[Eb,-zb]))&&(Eb[0]*=Pc,Eb[1]*=Pc,Eb)});var ib=m.geoProjection(Sa),rb=ib.stream;ib.stream=function(Eb){var zb=ib.rotate(),Mb=rb(Eb),Lb=(ib.rotate([0,
0]),rb(Eb));ib.rotate(zb);Mb.sphere=function(){Lb.polygonStart();Lb.lineStart();Ac(Lb,xa);Lb.lineEnd();Lb.polygonEnd()};return Mb};return ib.angle(-30)}function Ac(xa,za,Oa){var Sa,gb=za.edges,ib=gb.length;var rb={type:"MultiPoint",coordinates:za.face};var Eb=za.face.filter(function(bc){return 90!==Ic(bc[1])}),zb=m.geoBounds({type:"MultiPoint",coordinates:Eb});Eb=!1;var Mb=-1,Lb=zb[1][0]-zb[0][0];zb=180===Lb||360===Lb?[(zb[0][0]+zb[1][0])/2,(zb[0][1]+zb[1][1])/2]:m.geoCentroid(rb);if(Oa)for(;++Mb<
ib&&gb[Mb]!==Oa;);++Mb;for(Lb=0;Lb<ib;++Lb)rb=gb[(Lb+Mb)%ib],Array.isArray(rb)?(Eb||(xa.point((Sa=m.geoInterpolate(rb[0],zb)(1E-6))[0],Sa[1]),Eb=!0),xa.point((Sa=m.geoInterpolate(rb[1],zb)(1E-6))[0],Sa[1])):(Eb=!1,rb!==Oa&&Ac(xa,rb,za))}function qc(xa,za){return xa&&za&&xa[0]===za[0]&&xa[1]===za[1]}function nb(xa,za){for(var Oa,Sa,gb=xa.length,ib=null,rb=0;rb<gb;++rb){Oa=xa[rb];for(var Eb=za.length;0<=--Eb;)if(Sa=za[Eb],Oa[0]===Sa[0]&&Oa[1]===Sa[1]){if(ib)return[ib,Oa];ib=Oa}}}function Bb(xa){for(var za=
xa.length,Oa=[],Sa=xa[za-1],gb=0;gb<za;++gb)Oa.push([Sa,Sa=xa[gb]]);return Oa}function Ub(xa){return xa.project.invert||xa.children&&xa.children.some(Ub)}function jc(xa,za){xa=Q(xa,za);return[xa[0]*pe,xa[1]]}function zc(xa,za){for(var Oa=0,Sa=xa.length,gb=0;Oa<Sa;++Oa)gb+=xa[Oa]*za[Oa];return gb}function Dc(xa,za){return[xa[1]*za[2]-xa[2]*za[1],xa[2]*za[0]-xa[0]*za[2],xa[0]*za[1]-xa[1]*za[0]]}function Wc(xa){return[je(xa[1],xa[0])*ld,E(Hf(-1,If(1,xa[2])))*ld]}function Db(xa){var za=xa[0]*Pc;xa=xa[1]*
Pc;var Oa=gc(xa);return[Oa*gc(za),Oa*xc(za),xc(xa)]}function Hc(xa,za){return{type:"FeatureCollection",features:xa.features.map(function(Oa){return fd(Oa,za)})}}function fd(xa,za){return{type:"Feature",id:xa.id,properties:xa.properties,geometry:Zc(xa.geometry,za)}}function uc(xa,za){return{type:"GeometryCollection",geometries:xa.geometries.map(function(Oa){return Zc(Oa,za)})}}function Zc(xa,za){if(!xa)return null;if("GeometryCollection"===xa.type)return uc(xa,za);switch(xa.type){case "Point":var Oa=
Of;break;case "MultiPoint":Oa=Of;break;case "LineString":Oa=Te;break;case "MultiLineString":Oa=Te;break;case "Polygon":Oa=uf;break;case "MultiPolygon":Oa=uf;break;case "Sphere":Oa=uf;break;default:return null}m.geoStream(xa,za(Oa));return Oa.result()}function $c(xa){function za(Sa,gb){var ib=Ic(Sa)<Za;gb=xa(ib?Sa:0<Sa?Sa-Ca:Sa+Ca,gb);Sa=(gb[0]-gb[1])*ub;gb=(gb[0]+gb[1])*ub;if(ib)return[Sa,gb];ib=Oa*ub;var rb=0<Sa^0<gb?-1:1;return[rb*Sa-Ae(gb)*ib,rb*gb-Ae(Sa)*ib]}var Oa=xa(Za,0)[0]-xa(-Za,0)[0];xa.invert&&
(za.invert=function(Sa,gb){var ib=(Sa+gb)*ub,rb=(gb-Sa)*ub,Eb=Ic(ib)<.5*Oa&&Ic(rb)<.5*Oa;if(!Eb){var zb=Oa*ub,Mb=0<ib^0<rb?-1:1;Sa=-Mb*Sa+(0<rb?1:-1)*zb;gb=-Mb*gb+(0<ib?1:-1)*zb;ib=(-Sa-gb)*ub;rb=(Sa-gb)*ub}gb=xa.invert(ib,rb);Eb||(gb[0]+=0<ib?Ca:-Ca);return gb});return m.geoProjection(za).rotate([-90,-90,45]).clipAngle(179.999)}function nd(xa){function za(Sa,gb){Sa=Oa?ya(Sa*Oa/2)/Oa:Sa/2;if(!gb)return[2*Sa,-xa];Sa=2*xe(Sa*xc(gb));var ib=1/ya(gb);return[xc(Sa)*ib,gb+(1-gc(Sa))*ib-xa]}var Oa=xc(xa);
za.invert=function(Sa,gb){if(1E-6>Ic(gb+=xa))return[Oa?2*xe(Oa*Sa/2)/Oa:Sa,0];var ib=Sa*Sa+gb*gb,rb=0,Eb=10;do{var zb=ya(rb);var Mb=1/gc(rb),Lb=ib-2*gb*rb+rb*rb;rb-=zb=(zb*Lb+2*(rb-gb))/(2+Lb*Mb*Mb+2*(rb-gb)*zb)}while(1E-6<Ic(zb)&&0<--Eb);Sa*=zb=ya(rb);gb=ya(Ic(gb)<Ic(rb+1/zb)?.5*E(Sa):.5*O(Sa)+Ca/4)/xc(rb);return[Oa?2*xe(Oa*gb)/Oa:2*gb,rb]};return za}function Cd(xa,za){var Oa=If(18,36*Ic(za)/Ca),Sa=re(Oa);Oa-=Sa;var gb=(zb=Bf[Sa])[0],ib=zb[1],rb=(zb=Bf[++Sa])[0],Eb=zb[1];Sa=(zb=Bf[If(19,++Sa)])[0];
zb=zb[1];var zb;return[xa*(rb+Oa*(Sa-gb)/2+Oa*Oa*(Sa-2*rb+gb)/2),(0<za?Za:-Za)*(Eb+Oa*(zb-ib)/2+Oa*Oa*(zb-2*Eb+ib)/2)]}function Ed(xa){function za(Oa,Sa){var gb=gc(Sa),ib=(xa-1)/(xa-gb*gc(Oa));return[ib*gb*xc(Oa),ib*xc(Sa)]}za.invert=function(Oa,Sa){var gb=Oa*Oa+Sa*Sa,ib=x(gb);gb=(xa-x(1-gb*(xa+1)/(xa-1)))/((xa-1)/ib+ib/(xa-1));return[je(Oa*gb,ib*x(1-gb*gb)),ib?E(Sa*gb/ib):0]};return za}function Xd(xa,za){function Oa(rb,Eb){rb=Sa(rb,Eb);Eb=rb[1];var zb=Eb*ib/(xa-1)+gb;return[rb[0]*gb/zb,Eb/zb]}var Sa=
Ed(xa);if(!za)return Sa;var gb=gc(za),ib=xc(za);Oa.invert=function(rb,Eb){var zb=(xa-1)/(xa-1-Eb*ib);return Sa.invert(zb*rb,zb*Eb*gb)};return Oa}function $d(xa){return 0<xa.length}function ae(xa){return-90===xa||90===xa?[0,xa]:[-180,Math.floor(1E4*xa)/1E4]}function Ce(xa){var za=xa[0],Oa=xa[1],Sa=!1;-179.9999>=za?(za=-180,Sa=!0):179.9999<=za&&(za=180,Sa=!0);-89.9999>=Oa?(Oa=-90,Sa=!0):89.9999<=Oa&&(Oa=90,Sa=!0);return Sa?[za,Oa]:xa}function me(xa){return xa.map(Ce)}function ff(xa,za,Oa){for(var Sa=
0,gb=xa.length;Sa<gb;++Sa){var ib=xa[Sa].slice();Oa.push({index:-1,polygon:za,ring:ib});for(var rb=0,Eb=ib.length;rb<Eb;++rb){var zb=ib[rb],Mb=zb[0],Lb=zb[1];if(-179.9999>=Mb||179.9999<=Mb||-89.9999>=Lb||89.9999<=Lb){ib[rb]=Ce(zb);for(zb=rb+1;zb<Eb;++zb){var bc=ib[zb];Mb=bc[0];bc=bc[1];if(-179.9999<Mb&&179.9999>Mb&&-89.9999<bc&&89.9999>bc)break}if(zb!==rb+1){rb?(rb={index:-1,polygon:za,ring:ib.slice(0,rb+1)},rb.ring[rb.ring.length-1]=ae(Lb),Oa[Oa.length-1]=rb):Oa.pop();if(zb>=Eb)break;Oa.push({index:-1,
polygon:za,ring:ib=ib.slice(zb-1)});ib[0]=ae(ib[0][1]);rb=-1;Eb=ib.length}}}}}function Ze(xa){var za,Oa=xa.length,Sa={},gb={};for(za=0;za<Oa;++za){var ib=xa[za];var rb=ib.ring[0];var Eb=ib.ring[ib.ring.length-1];rb[0]===Eb[0]&&rb[1]===Eb[1]?(ib.polygon.push(ib.ring),xa[za]=null):(ib.index=za,Sa[rb]=gb[Eb]=ib)}for(za=0;za<Oa;++za)if(ib=xa[za]){rb=ib.ring[0];Eb=ib.ring[ib.ring.length-1];var zb=gb[rb];var Mb=Sa[Eb];delete Sa[rb];delete gb[Eb];rb[0]===Eb[0]&&rb[1]===Eb[1]?ib.polygon.push(ib.ring):zb?
(delete gb[rb],delete Sa[zb.ring[0]],zb.ring.pop(),xa[zb.index]=null,ib={index:-1,polygon:zb.polygon,ring:zb.ring.concat(ib.ring)},zb===Mb?ib.polygon.push(ib.ring):(ib.index=Oa++,xa.push(Sa[ib.ring[0]]=gb[ib.ring[ib.ring.length-1]]=ib))):Mb?(delete Sa[Eb],delete gb[Mb.ring[Mb.ring.length-1]],ib.ring.pop(),ib={index:Oa++,polygon:Mb.polygon,ring:ib.ring.concat(Mb.ring)},xa[Mb.index]=null,xa.push(Sa[ib.ring[0]]=gb[ib.ring[ib.ring.length-1]]=ib)):(ib.ring.push(ib.ring[0]),ib.polygon.push(ib.ring))}}function hf(xa){var za=
{type:"Feature",geometry:Vd(xa.geometry)};null!=xa.id&&(za.id=xa.id);null!=xa.bbox&&(za.bbox=xa.bbox);null!=xa.properties&&(za.properties=xa.properties);return za}function Vd(xa){if(null==xa)return xa;switch(xa.type){case "GeometryCollection":var za={type:"GeometryCollection",geometries:xa.geometries.map(Vd)};break;case "Point":za={type:"Point",coordinates:Ce(xa.coordinates)};break;case "MultiPoint":case "LineString":za={type:xa.type,coordinates:me(xa.coordinates)};break;case "MultiLineString":za=
{type:"MultiLineString",coordinates:xa.coordinates.map(me)};break;case "Polygon":var Oa=[];ff(xa.coordinates,Oa,za=[]);Ze(za);za={type:"Polygon",coordinates:Oa};break;case "MultiPolygon":za=[];Oa=-1;var Sa=xa.coordinates.length;for(var gb=Array(Sa);++Oa<Sa;)ff(xa.coordinates[Oa],gb[Oa]=[],za);Ze(za);za={type:"MultiPolygon",coordinates:gb.filter($d)};break;default:return xa}null!=xa.bbox&&(za.bbox=xa.bbox);return za}function ge(xa,za){za=ya(za/2);var Oa=xc(Fb*za);return[xa*(.74482-.34588*Oa*Oa),1.70711*
za]}function yf(xa,za,Oa){var Sa=m.geoInterpolate(za,Oa);Oa=Sa(.5);za=m.geoRotation([-Oa[0],-Oa[1]])(za);Sa=Sa.distance/2;var gb=-E(xc(za[1]*Pc)/xc(Sa));Oa=[-Oa[0],-Oa[1],-(0<za[0]?Ca-gb:gb)*ld];xa=m.geoProjection(xa(Sa)).rotate(Oa);var ib=m.geoRotation(Oa),rb=xa.center;delete xa.rotate;xa.center=function(Eb){return arguments.length?rb(ib(Eb)):ib.invert(rb())};return xa.clipAngle(90)}function Ue(xa){function za(Sa,gb){Sa=m.geoGnomonicRaw(Sa,gb);Sa[0]*=Oa;return Sa}var Oa=gc(xa);za.invert=function(Sa,
gb){return m.geoGnomonicRaw.invert(Sa/Oa,gb)};return za}function of(xa,za){return yf(Ue,xa,za)}function le(xa){function za(Eb,zb){var Mb=O(gc(zb)*gc(Eb-Oa));Eb=O(gc(zb)*gc(Eb-Sa));Mb*=Mb;Eb*=Eb;return[(Mb-Eb)/(2*xa),(0>zb?-1:1)*x(4*gb*Eb-(gb-Mb+Eb)*(gb-Mb+Eb))/(2*xa)]}if(!(xa*=2))return m.geoAzimuthalEquidistantRaw;var Oa=-xa/2,Sa=-Oa,gb=xa*xa,ib=ya(Sa),rb=.5/xc(Sa);za.invert=function(Eb,zb){var Mb=zb*zb,Lb=gc(x(Mb+(bc=Eb+Oa)*bc));Eb=gc(x(Mb+(bc=Eb+Sa)*bc));var bc,sc;return[je(sc=Lb-Eb,bc=(Lb+Eb)*
ib),(0>zb?-1:1)*O(x(bc*bc+sc*sc)*rb)]};return za}function ye(xa,za){return yf(le,xa,za)}function Mf(xa,za){if(1E-6>Ic(za))return[xa,0];var Oa=Ic(za/Za),Sa=E(Oa);if(1E-6>Ic(xa)||1E-6>Ic(Ic(za)-Za))return[0,Ae(za)*Ca*ya(Sa/2)];var gb=gc(Sa);Sa=Ic(Ca/xa-xa/Ca)/2;var ib=Sa*Sa;gb/=Oa+gb-1;Oa=gb*(2/Oa-1);var rb=Oa*Oa,Eb=rb+ib,zb=gb-rb,Mb=ib+gb;return[Ae(xa)*Ca*(Sa*zb+x(ib*zb*zb-Eb*(gb*gb-rb)))/Eb,Ae(za)*Ca*(Oa*Mb-Sa*x((ib+1)*Eb-Mb*Mb))/Eb]}function Ge(xa,za){if(1E-6>Ic(za))return[xa,0];var Oa=Ic(za/Za),
Sa=E(Oa);if(1E-6>Ic(xa)||1E-6>Ic(Ic(za)-Za))return[0,Ae(za)*Ca*ya(Sa/2)];var gb=gc(Sa);Sa=Ic(Ca/xa-xa/Ca)/2;var ib=Sa*Sa;Oa=gb*(x(1+ib)-Sa*gb)/(1+ib*Oa*Oa);return[Ae(xa)*Ca*Oa,Ae(za)*Ca*x(1-Oa*(2*Sa+Oa))]}function Td(xa,za){if(1E-6>Ic(za))return[xa,0];var Oa=za/Za,Sa=E(Oa);if(1E-6>Ic(xa)||1E-6>Ic(Ic(za)-Za))return[0,Ca*ya(Sa/2)];za=(Ca/xa-xa/Ca)/2;Oa/=1+gc(Sa);return[Ca*(Ae(xa)*x(za*za+1-Oa*Oa)-za),Ca*Oa]}function Zd(xa,za){if(!za)return[xa,0];var Oa=Ic(za);if(!xa||Oa===Za)return[0,za];var Sa=Oa/
Za;Oa=Sa*Sa;var gb=(8*Sa-Oa*(Oa+2)-5)/(2*Oa*(Sa-1)),ib=gb*gb,rb=Sa*gb,Eb=Oa+ib+2*rb;Sa+=3*gb;gb=xa/Za;gb+=1/gb;gb=Ae(Ic(xa)-Za)*x(gb*gb-4);var zb=gb*gb;Oa=(gb*(Eb+ib-1)+2*x(Eb*(Oa+ib*zb-1)+(1-Oa)*(Oa*(Sa*Sa+4*ib)+12*rb*ib+4*ib*ib)))/(4*Eb+zb);return[Ae(xa)*Za*Oa,Ae(za)*Za*x(1+gb*Ic(Oa)-Oa*Oa)]}function we(xa,za,Oa,Sa,gb){function ib(rb,Eb){Eb=Oa*xc(Sa*Eb);var zb=x(1-Eb*Eb),Mb=x(2/(1+zb*gc(rb*=gb)));return[xa*zb*Mb*xc(rb),za*Eb*Mb]}ib.invert=function(rb,Eb){var zb=rb/xa,Mb=Eb/za;zb=x(zb*zb+Mb*Mb);
Mb=2*E(zb/2);return[je(rb*ya(Mb),xa*zb)/gb,zb&&E(Eb*xc(Mb)/(za*Oa*zb))/Sa]};return ib}function nf(xa,za,Oa,Sa){var gb=Ca/3;xa=Hf(xa,1E-6);za=Hf(za,1E-6);xa=If(xa,Za);za=If(za,Ca-1E-6);Oa=Hf(Oa,0);Oa=If(Oa,99.999999);Sa=Hf(Sa,1E-6);var ib=Sa/100;Oa=O((Oa/100+1)*gc(gb))/gb;gb=xc(xa)/xc(Oa*Za);Sa=za/Ca;za=x(ib*xc(xa/2)/xc(za/2));xa=za/x(Sa*gb*Oa);za=1/(za*x(Sa*gb*Oa));return we(xa,za,gb,Oa,Sa)}function Pe(){var xa=65*Pc,za=60*Pc,Oa=20,Sa=200,gb=m.geoProjectionMutator(nf),ib=gb(xa,za,Oa,Sa);ib.poleline=
function(rb){return arguments.length?gb(xa=+rb*Pc,za,Oa,Sa):xa*ld};ib.parallels=function(rb){return arguments.length?gb(xa,za=+rb*Pc,Oa,Sa):za*ld};ib.inflation=function(rb){return arguments.length?gb(xa,za,Oa=+rb,Sa):Oa};ib.ratio=function(rb){return arguments.length?gb(xa,za,Oa,Sa=+rb):Sa};return ib.scale(163.775)}function Qd(xa,za){return[xa*x(1-3*za*za/(Ca*Ca)),za]}function Qe(xa,za){var Oa=gc(za),Sa=gc(xa)*Oa,gb=1-Sa;za=gc(xa=je(xc(xa)*Oa,-xc(za)));xa=xc(xa);Oa=x(1-Sa*Sa);return[xa*Oa-za*gb,-za*
Oa-xa*gb]}function Yf(xa,za){var Oa=k(xa,za);return[(Oa[0]+xa/Za)/2,(Oa[1]+za)/2]}var Ic=Math.abs,xe=Math.atan,je=Math.atan2,gc=Math.cos,De=Math.exp,re=Math.floor,gf=Math.log,Hf=Math.max,If=Math.min,Qf=Math.pow,Jf=Math.round,Ae=Math.sign||function(xa){return 0<xa?1:0>xa?-1:0},xc=Math.sin,ya=Math.tan,Ca=Math.PI,Za=Ca/2,Fb=Ca/4,ub=Math.SQRT1_2,Wb=x(2),vc=x(Ca),Nc=2*Ca,ld=180/Ca,Pc=Ca/180;k.invert=function(xa,za){if(!(xa*xa+4*za*za>Ca*Ca+1E-6)){var Oa=xa,Sa=za,gb=25;do{var ib=xc(Oa),rb=xc(Oa/2),Eb=gc(Oa/
2),zb=xc(Sa),Mb=gc(Sa),Lb=xc(2*Sa),bc=zb*zb,sc=Mb*Mb,Y=rb*rb,pa=1-sc*Eb*Eb,Qa=pa?O(Mb*Eb)*x(Va=1/pa):Va=0,Va;pa=2*Qa*Mb*rb-xa;var xb=Qa*zb-za,Rb=Va*(sc*Y+Qa*Mb*Eb*bc),Yb=Va*(.5*ib*Lb-2*Qa*zb*rb);ib=.25*Va*(Lb*rb-Qa*zb*sc*ib);Mb=Va*(bc*Eb+Qa*Y*Mb);Eb=Yb*ib-Mb*Rb;if(!Eb)break;Yb=(xb*Yb-pa*Mb)/Eb;pa=(pa*ib-xb*Rb)/Eb;Oa-=Yb;Sa-=pa}while((1E-6<Ic(Yb)||1E-6<Ic(pa))&&0<--gb);return[Oa,Sa]}};f.invert=function(xa,za){xa*=.375;za*=.375;if(!xa&&1<Ic(za))return null;var Oa=1+xa*xa+za*za,Sa=x((Oa-x(Oa*Oa-4*za*
za))/2);Oa=E(Sa)/3;Sa?(Sa=Ic(za/Sa),Sa=gf(Sa+x(Sa*Sa-1))/3):(Sa=Ic(xa),Sa=gf(Sa+x(Sa*Sa+1))/3);var gb=gc(Oa),ib=v(Sa),rb=ib*ib-gb*gb;return[2*Ae(xa)*je(y(Sa)*gb,.25-rb),2*Ae(za)*je(ib*xc(Oa),.25+rb)]};var Ld=x(8),Nd=gf(1+Wb);a.invert=function(xa,za){if((gb=Ic(za))<Nd)return[xa,2*xe(De(za))-Za];var Oa=Fb,Sa=25,gb;do{var ib=gc(Oa/2);var rb=ya(Oa/2);Oa-=ib=(Ld*(Oa-Fb)-gf(rb)-gb)/(Ld-ib*ib/(2*rb))}while(1E-12<Ic(ib)&&0<--Sa);return[xa/(gc(Oa)*(Ld-1/xc(Oa))),Ae(za)*Oa]};A.invert=function(xa,za){za=2*E(za/
2);return[xa*gc(za/2)/gc(za),za]};var Od=G(Wb/Za,Wb,Ca);z.invert=function(xa,za){var Oa=2.00276*za;za=0>za?-Fb:Fb;var Sa=25;do{var gb=Oa-Wb*xc(za);za-=gb=(xc(2*za)+2*za-Ca*xc(gb))/(2*gc(2*za)+2+Ca*gc(gb)*Wb*gc(za))}while(1E-6<Ic(gb)&&0<--Sa);gb=Oa-Wb*xc(za);return[xa*(1/gc(gb)+1.11072/gc(za))/2.00276,gb]};H.invert=function(xa,za){return[xa/gc(za),za]};var od=G(1,4/Ca,Ca);Q.invert=function(xa,za){var Oa=(Oa=za/vc-1)*Oa;return[0<Oa?xa*x(Ca/Oa)/2:0,E(1-Oa)]};var Rd=x(3);N.invert=function(xa,za){za=3*
E(za/(Rd*vc));return[vc*xa/(Rd*(2*gc(2*za/3)-1)),za]};wa.invert=function(xa,za){var Oa=x(8/(3*Ca));za/=Oa;return[xa/(Oa*(1-Ic(za)/Ca)),za]};ua.invert=function(xa,za){var Oa=2-Ic(za)/x(2*Ca/3);return[xa*x(6*Ca)/(2*Oa),Ae(za)*E((4-Oa*Oa)/3)]};Ea.invert=function(xa,za){var Oa=x(Ca*(4+Ca))/2;return[xa*Oa/(1+x(1-za*za*(4+Ca)/(4*Ca))),za*Oa/2]};$a.invert=function(xa,za){za=za*x((4+Ca)/Ca)/2;var Oa=E(za),Sa=gc(Oa);return[xa/(2/x(Ca*(4+Ca))*(1+Sa)),E((Oa+za*(Sa+2))/(2+Za))]};kb.invert=function(xa,za){var Oa=
x(2+Ca);za=za*Oa/2;return[Oa*xa/(1+gc(za)),za]};ta.invert=function(xa,za){var Oa=1+Za,Sa=x(Oa/2);return[2*xa*Sa/(1+gc(za*=Sa)),E((za+xc(za))/Oa)]};var kd=3+2*Wb;Ta.invert=function(xa,za){if(!(gb=f.invert(xa/1.2,1.065*za)))return null;var Oa=gb[0];gb=gb[1];var Sa=20,gb;xa/=kd;za/=kd;do{var ib=Oa/2,rb=gb/2,Eb=xc(ib),zb=gc(ib),Mb=xc(rb),Lb=gc(rb),bc=gc(gb),sc=x(bc),Y=Mb/(Lb+Wb*zb*sc),pa=Y*Y,Qa=x(2/(1+pa)),Va=(Wb*Lb+(zb+Eb)*sc)/(Wb*Lb+(zb-Eb)*sc),xb=x(Va),Rb=xb-1/xb,Yb=xb+1/xb;rb=Qa*Rb-2*gf(xb)-xa;ib=
Qa*Y*Yb-2*xe(Y)-za;var oc=Mb&&ub*sc*Eb*pa/Mb,Ec=(Wb*zb*Lb+sc)/(2*(Lb+Wb*zb*sc)*(Lb+Wb*zb*sc)*sc),dd=-.5*Y*Qa*Qa*Qa,Yc=dd*oc;dd*=Ec;var Kd=(Kd=2*Lb+Wb*sc*(zb-Eb))*Kd*xb;zb=(Wb*zb*Lb*sc+bc)/Kd;Mb=-(Wb*Eb*Mb)/(sc*Kd);Eb=Rb*Yc-2*zb/xb+Qa*(zb+zb/Va);xb=Rb*dd-2*Mb/xb+Qa*(Mb+Mb/Va);oc=Y*Yb*Yc-2*oc/(1+pa)+Qa*Yb*oc+Qa*Y*(zb-zb/Va);pa=Y*Yb*dd-2*Ec/(1+pa)+Qa*Yb*Ec+Qa*Y*(Mb-Mb/Va);Y=xb*oc-pa*Eb;if(!Y)break;pa=(ib*xb-rb*pa)/Y;rb=(rb*oc-ib*Eb)/Y;Oa-=pa;gb=Hf(-Za,If(Za,gb-rb))}while((1E-6<Ic(pa)||1E-6<Ic(rb))&&
0<--Sa);return 1E-6>Ic(Ic(gb)-Za)?[0,gb]:Sa&&[Oa,gb]};var lf=gc(35*Pc);Xa.invert=function(xa,za){za/=1+lf;return[xa&&xa/(lf*x(1-za*za)),2*xe(za)]};Fa.invert=function(xa,za){var Oa=xe(za/vc);za=gc(Oa);Oa*=2;return[xa*vc/2/(gc(Oa)*za*za),Oa]};var bf=ra(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),ee=ra(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ve=ra(5/6*Ca,-.62636,-.0344,0,1.3493,-.05524,0,.045);qa.invert=function(xa,za){var Oa=xa,Sa=za,gb=50,ib;do{var rb=Sa*Sa;Sa-=ib=
(Sa*(1+rb/12)-za)/(1+rb/4)}while(1E-6<Ic(ib)&&0<--gb);gb=50;xa/=1-.162388*rb;do{var Eb=(Eb=Oa*Oa)*Eb;Oa-=ib=(Oa*(.87-9.52426E-4*Eb)-xa)/(.87-.00476213*Eb)}while(1E-6<Ic(ib)&&0<--gb);return[Oa,Sa]};var ce=ra(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);na.invert=function(xa,za){1<Ic(xa)&&(xa=2*Ae(xa)-xa);1<Ic(za)&&(za=2*Ae(za)-za);var Oa=Ae(xa),Sa=Ae(za),gb=-Oa*xa,ib=-Sa*za;za=1>ib/gb;xa=za?ib:gb;var rb=za?gb:ib,Eb=0,zb=1;gb=.5;for(var Mb=50;;){ib=gb*gb;var Lb=x(gb),bc=E(1/x(1+ib)),sc=1-
ib+gb*(1+ib)*bc,Y=(1-Lb)/sc,pa=x(Y),Qa=Y*(1+ib),Va=pa*(1-ib),xb=x(Qa-xa*xa);Va=rb+Va+gb*xb;if(1E-12>Ic(zb-Eb)||0===--Mb||0===Va)break;0<Va?Eb=gb:zb=gb;gb=.5*(Eb+zb)}Mb?(rb=E(Lb),Mb=gc(rb),Eb=1/Mb,zb=2*Lb*Mb,Lb=(-sc*Mb-(1-Lb)*(-3*gb+bc*(1+3*ib))*zb)/(sc*sc),gb=[Ca/4*(xa*(-2*Eb*(.5*Lb/pa*(1-ib)-2*gb*pa*zb)+-Eb*zb*xb)+-Eb*(gb*(1+ib)*Lb+Y*(1+3*ib)*zb)*E(xa/x(Qa))),rb]):gb=null;xa=gb[0];gb=gb[1];ib=gc(gb);za&&(xa=-Za-xa);return[Oa*(je(xc(xa)*ib,-xc(gb))+Ca),Sa*E(gc(xa)*ib)]};Ba.invert=function(xa,za){var Oa=
(Wb-1)/(Wb+1),Sa=x(1-Oa*Oa);za=.5*ab(Za,Sa*Sa)-za;xa=-xa;Sa*=Sa;if(za)if(za=cb(za,Sa),xa){xa=cb(xa,1-Sa);var gb=xa[1]*xa[1]+Sa*za[0]*za[0]*xa[0]*xa[0];za=[[za[0]*xa[2]/gb,za[1]*za[2]*xa[0]*xa[1]/gb],[za[1]*xa[1]/gb,-za[0]*za[2]*xa[0]*xa[2]/gb],[za[2]*xa[1]*xa[2]/gb,-Sa*za[0]*za[1]*xa[0]/gb]]}else za=[[za[0],0],[za[1],0],[za[2],0]];else xa=cb(xa,1-Sa),za=[[0,xa[0]/xa[1]],[1/xa[1],0],[xa[2]/xa[1],0]];Sa=za[0];za=za[1];xa=za[0]*za[0]+za[1]*za[1];Sa=[(Sa[0]*za[0]+Sa[1]*za[1])/xa,(Sa[1]*za[0]-Sa[0]*za[1])/
xa];return[je(Sa[1],Sa[0])/-1,2*xe(De(-.5*gf(Oa*Sa[0]*Sa[0]+Oa*Sa[1]*Sa[1])))-Za]};var Xe=E(1-1/3)*ld,zf=da(0);bd.invert=function(xa,za){return-.7109889596207567<za?Od.invert(xa,za-.0528035274542):H.invert(xa,za)};tc.invert=function(xa,za){return.7109889596207567<Ic(za)?Od.invert(xa,za+(0<za?.0528035274542:-.0528035274542)):H.invert(xa,za)};var tf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],Oe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Aa=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ka=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],vb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Uc.invert=function(xa,za){return[Nc/3*xa/x(Ca*Ca/3-za*za),za]};var Xb=Ca/Wb;Kc.invert=function(xa,za){var Oa=Ic(xa),Sa=Ic(za),gb=1E-6,ib=Za;Sa<Xb?ib*=Sa/Xb:gb+=6*O(Xb/Sa);for(var rb=0;25>rb;rb++){var Eb=
xc(ib),zb=x(gc(ib)),Mb=xc(ib/2),Lb=gc(ib/2),bc=xc(gb/6),sc=gc(gb/6),Y=.5*gb*(1+zb)-Oa,pa=ib/(Lb*sc)-Sa;Eb=zb?-.25*gb*Eb/zb:0;zb=.5*(1+zb);Mb=(1+.5*ib*Mb/Lb)/(Lb*sc);bc=ib/Lb*(bc/6)/(sc*sc);Lb=Eb*bc-Mb*zb;bc=(Y*bc-pa*zb)/Lb;Y=(pa*Eb-Y*Mb)/Lb;ib-=bc;gb-=Y;if(1E-6>Ic(bc)&&1E-6>Ic(Y))break}return[0>xa?-gb:gb,0>za?-ib:ib]};Fd.invert=function(xa,za){var Oa=Ae(xa)*Ca,Sa=za/2,gb=50;do{var ib=Oa*Oa,rb=Sa*Sa,Eb=Oa*Sa,zb=Oa*(.975534+rb*(-.119161+-.0143059*ib+-.0547009*rb))-xa,Mb=Sa*(1.00384+ib*(.0802894+-.02855*
rb+1.99025E-4*ib)+rb*(.0998909+-.0491032*rb))-za,Lb=.975534-rb*(.119161+.0429177*ib+.0547009*rb),bc=-Eb*(.238322+.2188036*rb+.0286118*ib);Eb*=.1605788+7.961E-4*ib+-.0571*rb;rb=1.00384+ib*(.0802894+1.99025E-4*ib)+rb*(3*(.0998909-.02855*ib)-.245516*rb);ib=bc*Eb-rb*Lb;bc=(Mb*bc-zb*rb)/ib;zb=(zb*Eb-Mb*Lb)/ib;Oa-=bc;Sa-=zb}while((1E-6<Ic(bc)||1E-6<Ic(zb))&&0<--gb);return gb&&[Oa,Sa]};fe.invert=function(xa,za){var Oa=xa*xa,Sa=za*za+1,gb=Oa+Sa;Oa=xa?ub*x((gb-x(gb*gb-4*Oa))/Oa):1/x(Sa);return[E(xa*Oa),Ae(za)*
O(Oa)]};Rc.invert=function(xa,za){return[xa,2.5*xe(De(.8*za))-.625*Ca]};var Sb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],hc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],lc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],id=[[.9245,0],[0,0],[.01943,0]],Sc=[[.721316,
0],[0,0],[-.00881625,-.00617325]],gd=x(6),Hd=x(7);fc.invert=function(xa,za){za=3*E(za*Hd/9);return[xa*Hd/(gd*(2*gc(2*za/3)-1)),E(3*xc(za)*gd/7)]};Hb.invert=function(xa,za){za=za*x(2+Wb)/(2*x(3));var Oa=2*E(za);return[3*Wb*xa/(1+2*gc(Oa)/gc(Oa/2)),E((za+xc(Oa))/(1+ub))]};yc.invert=function(xa,za){var Oa=x(6/(4+Ca));za/=Oa;1E-6>Ic(Ic(za)-Za)&&(za=0>za?-Za:Za);return[1.5*xa/(Oa*(.5+gc(za))),E((za/2+xc(za))/(1+Ca/4))]};Vc.invert=function(xa,za){var Oa=za,Sa=25;do{var gb=Oa*Oa;var ib=gb*gb;Oa-=gb=(Oa*
(1.01183+ib*ib*(-.02625+.01926*gb-.00396*ib))-za)/(1.01183+ib*ib*(-.23625+.21186*gb+-.05148*ib))}while(1E-12<Ic(gb)&&0<--Sa);gb=Oa*Oa;ib=gb*gb;za=gb*ib;return[xa/(.84719-.13063*gb+za*za*(-.04515+.05494*gb-.02326*ib+.00331*za)),Oa]};Gd.invert=function(xa,za){for(var Oa=za/2,Sa=0,gb=Infinity;10>Sa&&1E-6<Ic(gb);++Sa)gb=gc(za/2),za-=gb=(za-ya(za/2)-Oa)/(1-.5/(gb*gb));return[2*xa/(1+gc(za)),za]};var he=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];Wd.invert=function(xa,za){xa/=Za;za/=Za;var Oa=xa*xa,Sa=Oa+za*za,gb=Ca*Ca;return[xa?(Sa-1+x((1-Sa)*(1-Sa)+4*Oa))/(2*xa)*Za:0,C(function(ib){return Sa*(Ca*xc(ib)-2*ib)*Ca+4*ib*ib*(za-xc(ib))+2*Ca*ib-gb*za},0)]};var ie=5*.23185;La.invert=function(xa,za){1.790857183<za?za=1.790857183:-1.790857183>za&&(za=-1.790857183);var Oa=za;do{var Sa=Oa*Oa;Oa-=Sa=(Oa*(1.0148+Sa*Sa*(.23185+Sa*(-.14499+.02406*Sa)))-za)/(1.0148+Sa*Sa*(ie+Sa*(-1.01493+.21654*Sa)))}while(1E-6<Ic(Sa));return[xa,Oa]};fb.invert=function(xa,
za){if(1E-6>Ic(za))return[xa,0];var Oa=xa*xa+za*za,Sa=.5*za,gb=10;do{var ib=ya(Sa);var rb=1/gc(Sa),Eb=Oa-2*za*Sa+Sa*Sa;Sa-=ib=(ib*Eb+2*(Sa-za))/(2+Eb*rb*rb+2*(Sa-za)*ib)}while(1E-6<Ic(ib)&&0<--gb);ib=ya(Sa);return[(Ic(za)<Ic(Sa+1/ib)?E(xa*ib):Ae(za)*Ae(xa)*(O(Ic(xa*ib))+Za))/xc(Sa),Sa]};var Pd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ne=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(xa){return xa.map(function(za){return Pd[za]})}),pe=2/x(3);jc.invert=function(xa,
za){return Q.invert(xa/pe,za)};var He=()=>{},Je=[],Le=[],Of={point:function(xa,za){Je.push([xa,za])},result:function(){var xa=Je.length?2>Je.length?{type:"Point",coordinates:Je[0]}:{type:"MultiPoint",coordinates:Je}:null;Je=[];return xa}},Te={lineStart:He,point:function(xa,za){Je.push([xa,za])},lineEnd:function(){Je.length&&(Le.push(Je),Je=[])},result:function(){var xa=Le.length?2>Le.length?{type:"LineString",coordinates:Le[0]}:{type:"MultiLineString",coordinates:Le}:null;Le=[];return xa}},uf={polygonStart:He,
lineStart:He,point:function(xa,za){Je.push([xa,za])},lineEnd:function(){var xa=Je.length;if(xa){do Je.push(Je[0].slice());while(4>++xa);Le.push(Je);Je=[]}},polygonEnd:He,result:function(){if(!Le.length)return null;var xa=[],za=[];Le.forEach(function(Oa){if(4>(gb=Oa.length))var Sa=!1;else{Sa=0;for(var gb,ib=Oa[gb-1][1]*Oa[0][0]-Oa[gb-1][0]*Oa[0][1];++Sa<gb;)ib+=Oa[Sa-1][1]*Oa[Sa][0]-Oa[Sa-1][0]*Oa[Sa][1];Sa=0>=ib}Sa?xa.push([Oa]):za.push(Oa)});za.forEach(function(Oa){var Sa=Oa[0];xa.some(function(gb){for(var ib=
gb[0],rb=Sa[0],Eb=Sa[1],zb=!1,Mb=0,Lb=ib.length,bc=Lb-1;Mb<Lb;bc=Mb++){var sc=ib[Mb],Y=sc[0];sc=sc[1];var pa=ib[bc];bc=pa[0];pa=pa[1];sc>Eb^pa>Eb&&rb<(bc-Y)*(Eb-sc)/(pa-sc)+Y&&(zb=!zb)}if(zb)return gb.push(Oa),!0})||xa.push([Oa])});Le=[];return xa.length?1<xa.length?{type:"MultiPolygon",coordinates:xa}:{type:"Polygon",coordinates:xa[0]}:null}},Bf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Bf.forEach(function(xa){xa[1]*=1.0144});Cd.invert=function(xa,za){var Oa=za/Za,Sa=90*Oa,gb=If(18,Ic(Sa/5)),ib=Hf(0,re(gb));do{var rb=Bf[ib][1],Eb=Bf[ib+1][1],zb=Bf[If(19,ib+2)][1],Mb=zb-rb;rb=zb-2*Eb+rb;Eb=2*(Ic(Oa)-Eb)/Mb;Mb=rb/Mb;Mb=Eb*(1-Mb*Eb*(1-2*Mb*Eb));if(0<=Mb||1===ib){Sa=(0<=za?5:-5)*(Mb+gb);Oa=50;do gb=If(18,Ic(Sa)/5),ib=re(gb),Mb=gb-ib,rb=Bf[ib][1],Eb=Bf[ib+1][1],zb=Bf[If(19,ib+2)][1],
Sa-=(gb=(0<=za?Za:-Za)*(Eb+Mb*(zb-rb)/2+Mb*Mb*(zb-2*Eb+rb)/2)-za)*ld;while(1E-12<Ic(gb)&&0<--Oa);break}}while(0<=--ib);za=Bf[ib][0];gb=Bf[ib+1][0];ib=Bf[If(19,ib+2)][0];return[xa/(gb+Mb*(ib-za)/2+Mb*Mb*(ib-2*gb+za)/2),Sa*Pc]};ge.invert=function(xa,za){za/=1.70711;var Oa=xc(Fb*za);return[xa/(.74482-.34588*Oa*Oa),2*xe(za)]};Mf.invert=function(xa,za){if(1E-6>Ic(za))return[xa,0];if(1E-6>Ic(xa))return[0,Za*xc(2*xe(za/Ca))];var Oa=(xa/=Ca)*xa,Sa=(za/=Ca)*za,gb=Oa+Sa,ib=gb*gb,rb=-Ic(za)*(1+gb),Eb=rb-2*Sa+
Oa,zb=-2*rb+1+2*Sa+ib,Mb=Sa/zb+(2*Eb*Eb*Eb/(zb*zb*zb)-9*rb*Eb/(zb*zb))/27,Lb=(rb-Eb*Eb/(3*zb))/zb;rb=2*x(-Lb/3);Mb=O(3*Mb/(Lb*rb))/3;return[Ca*(gb-1+x(1+2*(Oa-Sa)+ib))/(2*xa),Ae(za)*Ca*(-rb*gc(Mb+Ca/3)-Eb/(3*zb))]};Ge.invert=function(xa,za){if(!xa)return[0,Za*xc(2*xe(za/Ca))];var Oa=Ic(xa/Ca),Sa=(1-Oa*Oa-(za/=Ca)*za)/(2*Oa),gb=x(Sa*Sa+1);return[Ae(xa)*Ca*(gb-Sa),Ae(za)*Za*xc(2*je(x((1-2*Sa*Oa)*(Sa+gb)-Oa),x(gb+Sa+Oa)))]};Td.invert=function(xa,za){if(!za)return[xa,0];za/=Ca;var Oa=(Ca*Ca*(1-za*za)-
xa*xa)/(2*Ca*xa);return[xa?Ca*(Ae(xa)*x(Oa*Oa+1)-Oa):0,Za*xc(2*xe(za))]};Zd.invert=function(xa,za){if(!xa||!za)return[xa,za];var Oa=Ae(za);za=Ic(za)/Ca;var Sa=Ae(xa)*xa/Za,gb=(Sa*Sa-1+4*za*za)/Ic(Sa),ib=gb*gb,rb=za*(2-(.5<za?If(za,Ic(xa)):0));za=xa*xa+za*za;var Eb=50;do{var zb=rb*rb;var Mb=(8*rb-zb*(zb+2)-5)/(2*zb*(rb-1));var Lb=(3*rb-zb*rb-10)/(2*zb*rb),bc=Mb*Mb,sc=rb*Mb,Y=rb+Mb,pa=Y*Y,Qa=rb+3*Mb,Va=-2*Y*(4*sc*bc+(1-4*zb+3*zb*zb)*(1+Lb)+bc*(-6+14*zb-ib+(-8+8*zb-2*ib)*Lb)+sc*(-8+12*zb+(-10+10*zb-
ib)*Lb));zb=x(pa*(zb+bc*ib-1)+(1-zb)*(zb*(Qa*Qa+4*bc)+bc*(12*sc+4*bc)));rb-=Mb=(gb*(pa+bc-1)+2*zb-Sa*(4*pa+ib))/(gb*(2*Mb*Lb+2*Y*(1+Lb))+Va/zb-8*Y*(gb*(-1+bc+pa)+2*zb)*(1+Lb)/(ib+4*pa))}while(1E-6<Mb*za*za&&0<--Eb);return[Ae(xa)*(x(gb*gb+4)+gb)*Ca/4,Oa*Za*rb]};var Ag=4*Ca+3*x(3),Rf=2*x(2*Ca*x(3)/Ag),jg=G(Rf*x(3)/Ca,Rf,Ag/6);Qd.invert=function(xa,za){return[xa/x(1-3*za*za/(Ca*Ca)),za]};Qe.invert=function(xa,za){var Oa=(xa*xa+za*za)/-2,Sa=x(-Oa*(2+Oa)),gb=za*Oa+xa*Sa;xa=xa*Oa-za*Sa;za=x(xa*xa+gb*gb);
return[je(Sa*gb,za*(1+Oa)),za?-E(Sa*xa/za):0]};Yf.invert=function(xa,za){var Oa=xa,Sa=za,gb=25;do{var ib=gc(Sa),rb=xc(Sa),Eb=xc(2*Sa),zb=rb*rb,Mb=ib*ib,Lb=xc(Oa),bc=gc(Oa/2),sc=xc(Oa/2),Y=sc*sc,pa=1-Mb*bc*bc,Qa=pa?O(ib*bc)*x(Va=1/pa):Va=0,Va;pa=.5*(2*Qa*ib*sc+Oa/Za)-xa;var xb=.5*(Qa*rb+Sa)-za,Rb=.5*Va*(Mb*Y+Qa*ib*bc*zb)+.5/Za,Yb=Va*(Lb*Eb/4-Qa*rb*sc);rb=.125*Va*(Eb*sc-Qa*rb*Mb*Lb);zb=.5*Va*(zb*bc+Qa*Y*ib)+.5;ib=Yb*rb-zb*Rb;Yb=(xb*Yb-pa*zb)/ib;pa=(pa*rb-xb*Rb)/ib;Oa-=Yb;Sa-=pa}while((1E-6<Ic(Yb)||
1E-6<Ic(pa))&&0<--gb);return[Oa,Sa]};g.geoAiry=function(){var xa=Za,za=m.geoProjectionMutator(l),Oa=za(xa);Oa.radius=function(Sa){return arguments.length?za(xa=Sa*Pc):xa*ld};return Oa.scale(179.976).clipAngle(147)};g.geoAiryRaw=l;g.geoAitoff=function(){return m.geoProjection(k).scale(152.63)};g.geoAitoffRaw=k;g.geoArmadillo=function(){var xa=20*Pc,za=0<=xa?1:-1,Oa=ya(za*xa),Sa=m.geoProjectionMutator(d),gb=Sa(xa),ib=gb.stream;gb.parallel=function(rb){if(!arguments.length)return xa*ld;Oa=ya((za=0<=
(xa=rb*Pc)?1:-1)*xa);return Sa(xa)};gb.stream=function(rb){var Eb=gb.rotate(),zb=ib(rb),Mb=(gb.rotate([0,0]),ib(rb)),Lb=gb.precision();gb.rotate(Eb);zb.sphere=function(){Mb.polygonStart();Mb.lineStart();for(var bc=-180*za;180>za*bc;bc+=90*za)Mb.point(bc,90*za);if(xa)for(;-180<=za*(bc-=3*za*Lb);)Mb.point(bc,za*-je(gc(bc*Pc/2),Oa)*ld);Mb.lineEnd();Mb.polygonEnd()};return zb};return gb.scale(218.695).center([0,28.0974])};g.geoArmadilloRaw=d;g.geoAugust=function(){return m.geoProjection(f).scale(66.1603)};
g.geoAugustRaw=f;g.geoBaker=function(){return m.geoProjection(a).scale(112.314)};g.geoBakerRaw=a;g.geoBerghaus=function(){var xa=5,za=m.geoProjectionMutator(e),Oa=za(xa),Sa=Oa.stream,gb=-gc(.01*Pc),ib=xc(.01*Pc);Oa.lobes=function(rb){return arguments.length?za(xa=+rb):xa};Oa.stream=function(rb){var Eb=Oa.rotate(),zb=Sa(rb),Mb=(Oa.rotate([0,0]),Sa(rb));Oa.rotate(Eb);zb.sphere=function(){Mb.polygonStart();Mb.lineStart();for(var Lb=0,bc=360/xa,sc=2*Ca/xa,Y=90-180/xa,pa=Za;Lb<xa;++Lb,Y-=bc,pa-=sc)Mb.point(je(ib*
gc(pa),gb)*ld,E(ib*xc(pa))*ld),-90>Y?(Mb.point(-90,-180-Y-.01),Mb.point(-90,-180-Y+.01)):(Mb.point(90,Y+.01),Mb.point(90,Y-.01));Mb.lineEnd();Mb.polygonEnd()};return zb};return Oa.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};g.geoBerghausRaw=e;g.geoBertin1953=function(){return m.geoProjection(P()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};g.geoBertin1953Raw=P;g.geoBoggs=function(){return m.geoProjection(z).scale(160.857)};g.geoBoggsRaw=z;g.geoBonne=function(){return K(R).scale(123.082).center([0,
26.1441]).parallel(45)};g.geoBonneRaw=R;g.geoBottomley=function(){var xa=.5,za=m.geoProjectionMutator(U),Oa=za(xa);Oa.fraction=function(Sa){return arguments.length?za(xa=+Sa):xa};return Oa.scale(158.837)};g.geoBottomleyRaw=U;g.geoBromley=function(){return m.geoProjection(od).scale(152.63)};g.geoBromleyRaw=od;g.geoChamberlin=Z;g.geoChamberlinRaw=fa;g.geoChamberlinAfrica=function(){return Z([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};g.geoCollignon=function(){return m.geoProjection(Q).scale(95.6464).center([0,
30])};g.geoCollignonRaw=Q;g.geoCraig=function(){return K(q).scale(249.828).clipAngle(90)};g.geoCraigRaw=q;g.geoCraster=function(){return m.geoProjection(N).scale(156.19)};g.geoCrasterRaw=N;g.geoCylindricalEqualArea=function(){return K(da).parallel(38.58).scale(195.044)};g.geoCylindricalEqualAreaRaw=da;g.geoCylindricalStereographic=function(){return K(aa).scale(124.75)};g.geoCylindricalStereographicRaw=aa;g.geoEckert1=function(){return m.geoProjection(wa).scale(165.664)};g.geoEckert1Raw=wa;g.geoEckert2=
function(){return m.geoProjection(ua).scale(165.664)};g.geoEckert2Raw=ua;g.geoEckert3=function(){return m.geoProjection(Ea).scale(180.739)};g.geoEckert3Raw=Ea;g.geoEckert4=function(){return m.geoProjection($a).scale(180.739)};g.geoEckert4Raw=$a;g.geoEckert5=function(){return m.geoProjection(kb).scale(173.044)};g.geoEckert5Raw=kb;g.geoEckert6=function(){return m.geoProjection(ta).scale(173.044)};g.geoEckert6Raw=ta;g.geoEisenlohr=function(){return m.geoProjection(Ta).scale(62.5271)};g.geoEisenlohrRaw=
Ta;g.geoFahey=function(){return m.geoProjection(Xa).scale(137.152)};g.geoFaheyRaw=Xa;g.geoFoucaut=function(){return m.geoProjection(Fa).scale(135.264)};g.geoFoucautRaw=Fa;g.geoFoucautSinusoidal=function(){var xa=.5,za=m.geoProjectionMutator(va),Oa=za(xa);Oa.alpha=function(Sa){return arguments.length?za(xa=+Sa):xa};return Oa.scale(168.725)};g.geoFoucautSinusoidalRaw=va;g.geoGilbert=function(xa){function za(ib){return Sa([ib[0]/2,E(ya(ib[1]/2*Pc))*ld])}function Oa(ib){za[ib]=function(){return arguments.length?
(Sa[ib].apply(Sa,arguments),za):Sa[ib]()}}null==xa&&(xa=m.geoOrthographic);var Sa=xa(),gb=m.geoEquirectangular().scale(ld).precision(0).clipAngle(null).translate([0,0]);Sa.invert&&(za.invert=function(ib){return V(Sa.invert(ib))});za.stream=function(ib){var rb=Sa.stream(ib);ib=gb.stream({point:function(Eb,zb){rb.point(Eb/2,E(ya(-zb/2*Pc))*ld)},lineStart:function(){rb.lineStart()},lineEnd:function(){rb.lineEnd()},polygonStart:function(){rb.polygonStart()},polygonEnd:function(){rb.polygonEnd()}});ib.sphere=
rb.sphere;return ib};za.rotate=function(ib){return arguments.length?(gb.rotate(ib),za):gb.rotate()};za.center=function(ib){return arguments.length?(Sa.center([ib[0]/2,E(ya(ib[1]/2*Pc))*ld]),za):V(Sa.center())};Oa("angle");Oa("clipAngle");Oa("clipExtent");Oa("fitExtent");Oa("fitHeight");Oa("fitSize");Oa("fitWidth");Oa("scale");Oa("translate");Oa("precision");return za.scale(249.5)};g.geoGingery=function(){var xa=6,za=30*Pc,Oa=gc(za),Sa=xc(za),gb=m.geoProjectionMutator(X),ib=gb(za,xa),rb=ib.stream,
Eb=-gc(.01*Pc),zb=xc(.01*Pc);ib.radius=function(Mb){if(!arguments.length)return za*ld;Oa=gc(za=Mb*Pc);Sa=xc(za);return gb(za,xa)};ib.lobes=function(Mb){return arguments.length?gb(za,xa=+Mb):xa};ib.stream=function(Mb){var Lb=ib.rotate(),bc=rb(Mb),sc=(ib.rotate([0,0]),rb(Mb));ib.rotate(Lb);bc.sphere=function(){sc.polygonStart();sc.lineStart();for(var Y=0,pa=2*Ca/xa,Qa=0;Y<xa;++Y,Qa-=pa)sc.point(je(zb*gc(Qa),Eb)*ld,E(zb*xc(Qa))*ld),sc.point(je(Sa*gc(Qa-pa/2),Oa)*ld,E(Sa*xc(Qa-pa/2))*ld);sc.lineEnd();
sc.polygonEnd()};return bc};return ib.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};g.geoGingeryRaw=X;g.geoGinzburg4=function(){return m.geoProjection(bf).scale(149.995)};g.geoGinzburg4Raw=bf;g.geoGinzburg5=function(){return m.geoProjection(ee).scale(153.93)};g.geoGinzburg5Raw=ee;g.geoGinzburg6=function(){return m.geoProjection(Ve).scale(130.945)};g.geoGinzburg6Raw=Ve;g.geoGinzburg8=function(){return m.geoProjection(qa).scale(131.747)};g.geoGinzburg8Raw=qa;g.geoGinzburg9=function(){return m.geoProjection(ce).scale(131.087)};
g.geoGinzburg9Raw=ce;g.geoGringorten=function(){return m.geoProjection(Ha(na)).scale(239.75)};g.geoGringortenRaw=na;g.geoGuyou=function(){return m.geoProjection(Ha(Ba)).scale(151.496)};g.geoGuyouRaw=Ba;g.geoHammer=function(){var xa=2,za=m.geoProjectionMutator(p),Oa=za(xa);Oa.coefficient=function(Sa){return arguments.length?za(xa=+Sa):xa};return Oa.scale(169.529)};g.geoHammerRaw=p;g.geoHammerRetroazimuthal=function(){var xa=0,za=m.geoProjectionMutator(Ga),Oa=za(xa),Sa=Oa.rotate,gb=Oa.stream,ib=m.geoCircle();
Oa.parallel=function(rb){if(!arguments.length)return xa*ld;var Eb=Oa.rotate();return za(xa=rb*Pc).rotate(Eb)};Oa.rotate=function(rb){if(!arguments.length)return rb=Sa.call(Oa),rb[1]+=xa*ld,rb;Sa.call(Oa,[rb[0],rb[1]-xa*ld]);ib.center([-rb[0],-rb[1]]);return Oa};Oa.stream=function(rb){rb=gb(rb);rb.sphere=function(){rb.polygonStart();var Eb=ib.radius(89.99)().coordinates[0],zb=Eb.length-1,Mb=-1,Lb;for(rb.lineStart();++Mb<zb;)rb.point((Lb=Eb[Mb])[0],Lb[1]);rb.lineEnd();Eb=ib.radius(90.01)().coordinates[0];
for(rb.lineStart();0<=--Mb;)rb.point((Lb=Eb[Mb])[0],Lb[1]);rb.lineEnd();rb.polygonEnd()};return rb};return Oa.scale(79.4187).parallel(45).clipAngle(179.999)};g.geoHammerRetroazimuthalRaw=Ga;g.geoHealpix=function(){var xa=4,za=m.geoProjectionMutator(Ia),Oa=za(xa),Sa=Oa.stream;Oa.lobes=function(gb){return arguments.length?za(xa=+gb):xa};Oa.stream=function(gb){var ib=Oa.rotate(),rb=Sa(gb),Eb=(Oa.rotate([0,0]),Sa(gb));Oa.rotate(ib);rb.sphere=function(){m.geoStream(Tb(180/xa),Eb)};return rb};return Oa.scale(239.75)};
g.geoHealpixRaw=Ia;g.geoHill=function(){var xa=1,za=m.geoProjectionMutator(kc),Oa=za(xa);Oa.ratio=function(Sa){return arguments.length?za(xa=+Sa):xa};return Oa.scale(167.774).center([0,18.67])};g.geoHillRaw=kc;g.geoHomolosine=function(){return m.geoProjection(tc).scale(152.63)};g.geoHomolosineRaw=tc;g.geoHufnagel=function(){var xa=1,za=0,Oa=45*Pc,Sa=2,gb=m.geoProjectionMutator(Fc),ib=gb(xa,za,Oa,Sa);ib.a=function(rb){return arguments.length?gb(xa=+rb,za,Oa,Sa):xa};ib.b=function(rb){return arguments.length?
gb(xa,za=+rb,Oa,Sa):za};ib.psiMax=function(rb){return arguments.length?gb(xa,za,Oa=+rb*Pc,Sa):Oa*ld};ib.ratio=function(rb){return arguments.length?gb(xa,za,Oa,Sa=+rb):Sa};return ib.scale(180.739)};g.geoHufnagelRaw=Fc;g.geoHyperelliptical=function(){var xa=0,za=2.5,Oa=1.183136,Sa=m.geoProjectionMutator(Bc),gb=Sa(xa,za,Oa);gb.alpha=function(ib){return arguments.length?Sa(xa=+ib,za,Oa):xa};gb.k=function(ib){return arguments.length?Sa(xa,za=+ib,Oa):za};gb.gamma=function(ib){return arguments.length?Sa(xa,
za,Oa=+ib):Oa};return gb.scale(152.63)};g.geoHyperellipticalRaw=Bc;g.geoInterrupt=nc;g.geoInterruptedBoggs=function(){return nc(z,tf).scale(160.857)};g.geoInterruptedHomolosine=function(){return nc(tc,Oe).scale(152.63)};g.geoInterruptedMollweide=function(){return nc(Od,Nf).scale(169.529)};g.geoInterruptedMollweideHemispheres=function(){return nc(Od,Aa).scale(169.529).rotate([20,0])};g.geoInterruptedSinuMollweide=function(){return nc(bd,Ka,D).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};g.geoInterruptedSinusoidal=
function(){return nc(H,vb).scale(152.63).rotate([-20,0])};g.geoKavrayskiy7=function(){return m.geoProjection(Uc).scale(158.837)};g.geoKavrayskiy7Raw=Uc;g.geoLagrange=function(){var xa=.5,za=m.geoProjectionMutator(Tc),Oa=za(xa);Oa.spacing=function(Sa){return arguments.length?za(xa=+Sa):xa};return Oa.scale(124.75)};g.geoLagrangeRaw=Tc;g.geoLarrivee=function(){return m.geoProjection(Kc).scale(97.2672)};g.geoLarriveeRaw=Kc;g.geoLaskowski=function(){return m.geoProjection(Fd).scale(139.98)};g.geoLaskowskiRaw=
Fd;g.geoLittrow=function(){return m.geoProjection(fe).scale(144.049).clipAngle(89.999)};g.geoLittrowRaw=fe;g.geoLoximuthal=function(){return K(vd).parallel(40).scale(158.837)};g.geoLoximuthalRaw=vd;g.geoMiller=function(){return m.geoProjection(Rc).scale(108.318)};g.geoMillerRaw=Rc;g.geoModifiedStereographic=Pb;g.geoModifiedStereographicRaw=Yd;g.geoModifiedStereographicAlaska=function(){return Pb(Sb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};g.geoModifiedStereographicGs48=
function(){return Pb(hc,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};g.geoModifiedStereographicGs50=function(){return Pb(lc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};g.geoModifiedStereographicMiller=function(){return Pb(id,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};g.geoModifiedStereographicLee=function(){return Pb(Sc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};g.geoMollweide=function(){return m.geoProjection(Od).scale(169.529)};
g.geoMollweideRaw=Od;g.geoMtFlatPolarParabolic=function(){return m.geoProjection(fc).scale(164.859)};g.geoMtFlatPolarParabolicRaw=fc;g.geoMtFlatPolarQuartic=function(){return m.geoProjection(Hb).scale(188.209)};g.geoMtFlatPolarQuarticRaw=Hb;g.geoMtFlatPolarSinusoidal=function(){return m.geoProjection(yc).scale(166.518)};g.geoMtFlatPolarSinusoidalRaw=yc;g.geoNaturalEarth2=function(){return m.geoProjection(Vc).scale(175.295)};g.geoNaturalEarth2Raw=Vc;g.geoNellHammer=function(){return m.geoProjection(Gd).scale(152.63)};
g.geoNellHammerRaw=Gd;g.geoInterruptedQuarticAuthalic=function(){return nc(p(Infinity),he).rotate([20,0]).scale(152.63)};g.geoNicolosi=function(){return m.geoProjection(Wd).scale(127.267)};g.geoNicolosiRaw=Wd;g.geoPatterson=function(){return m.geoProjection(La).scale(139.319)};g.geoPattersonRaw=La;g.geoPolyconic=function(){return m.geoProjection(fb).scale(103.74)};g.geoPolyconicRaw=fb;g.geoPolyhedral=ic;g.geoPolyhedralButterfly=function(xa){xa=xa||function(Oa){Oa=m.geoCentroid({type:"MultiPoint",
coordinates:Oa});return m.geoGnomonic().scale(1).translate([0,0]).rotate([-Oa[0],-Oa[1]])};var za=Ne.map(function(Oa){return{face:Oa,project:xa(Oa)}});[-1,0,0,1,0,1,4,5].forEach(function(Oa,Sa){(Oa=za[Oa])&&(Oa.children||(Oa.children=[])).push(za[Sa])});return ic(za[0],function(Oa,Sa){return za[Oa<-Ca/2?0>Sa?6:4:0>Oa?0>Sa?2:0:Oa<Ca/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(101.858).center([0,45])};g.geoPolyhedralCollignon=function(xa){xa=xa||function(Oa){Oa=m.geoCentroid({type:"MultiPoint",coordinates:Oa});
return m.geoProjection(jc).translate([0,0]).scale(1).rotate(0<Oa[1]?[-Oa[0],0]:[180-Oa[0],180])};var za=Ne.map(function(Oa){return{face:Oa,project:xa(Oa)}});[-1,0,0,1,0,1,4,5].forEach(function(Oa,Sa){(Oa=za[Oa])&&(Oa.children||(Oa.children=[])).push(za[Sa])});return ic(za[0],function(Oa,Sa){return za[Oa<-Ca/2?0>Sa?6:4:0>Oa?0>Sa?2:0:Oa<Ca/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};g.geoPolyhedralWaterman=function(xa){xa=xa||function(ib){ib=6===ib.length?m.geoCentroid({type:"MultiPoint",
coordinates:ib}):ib[0];return m.geoGnomonic().scale(1).translate([0,0]).rotate([-ib[0],-ib[1]])};var za=Ne.map(function(ib){ib=ib.map(Db);for(var rb=ib.length,Eb=ib[rb-1],zb,Mb=[],Lb=0;Lb<rb;++Lb)zb=ib[Lb],Mb.push(Wc([.9486832980505138*Eb[0]+.31622776601683794*zb[0],.9486832980505138*Eb[1]+.31622776601683794*zb[1],.9486832980505138*Eb[2]+.31622776601683794*zb[2]]),Wc([.9486832980505138*zb[0]+.31622776601683794*Eb[0],.9486832980505138*zb[1]+.31622776601683794*Eb[1],.9486832980505138*zb[2]+.31622776601683794*
Eb[2]])),Eb=zb;return Mb}),Oa=[],Sa=[-1,0,0,1,0,1,4,5];za.forEach(function(ib,rb){for(var Eb=Ne[rb],zb=Eb.length,Mb=Oa[rb]=[],Lb=0;Lb<zb;++Lb)za.push([Eb[Lb],ib[(2*Lb+2)%(2*zb)],ib[(2*Lb+1)%(2*zb)]]),Sa.push(rb),Mb.push(Dc(Db(ib[(2*Lb+2)%(2*zb)]),Db(ib[(2*Lb+1)%(2*zb)])))});var gb=za.map(function(ib){return{project:xa(ib),face:ib}});Sa.forEach(function(ib,rb){(ib=gb[ib])&&(ib.children||(ib.children=[])).push(gb[rb])});return ic(gb[0],function(ib,rb){var Eb=gc(rb);Eb=[Eb*gc(ib),Eb*xc(ib),xc(rb)];ib=
ib<-Ca/2?0>rb?6:4:0>ib?0>rb?2:0:ib<Ca/2?0>rb?3:1:0>rb?7:5;rb=Oa[ib];return gb[0>zc(rb[0],Eb)?8+3*ib:0>zc(rb[1],Eb)?3*ib+9:0>zc(rb[2],Eb)?3*ib+10:ib]}).angle(-30).scale(110.625).center([0,45])};g.geoProject=function(xa,za){za=za.stream;if(!za)throw Error("invalid projection");switch(xa&&xa.type){case "Feature":var Oa=fd;break;case "FeatureCollection":Oa=Hc;break;default:Oa=Zc}return Oa(xa,za)};g.geoGringortenQuincuncial=function(){return $c(na).scale(176.423)};g.geoPeirceQuincuncial=function(){return $c(Ba).scale(111.48)};
g.geoQuantize=function(xa,za){function Oa(zb){var Mb=zb.length,Lb=2,bc=Array(Mb);bc[0]=+zb[0].toFixed(za);for(bc[1]=+zb[1].toFixed(za);Lb<Mb;)bc[Lb]=zb[Lb],++Lb;return bc}function Sa(zb){for(var Mb=Oa(zb[0]),Lb=[Mb],bc=1;bc<zb.length;bc++){var sc=Oa(zb[bc]);if(2<sc.length||sc[0]!=Mb[0]||sc[1]!=Mb[1])Lb.push(sc),Mb=sc}1===Lb.length&&1<zb.length&&Lb.push(Oa(zb[zb.length-1]));return Lb}function gb(zb){return zb.map(Sa)}function ib(zb){if(null==zb)return zb;switch(zb.type){case "GeometryCollection":var Mb=
{type:"GeometryCollection",geometries:zb.geometries.map(ib)};break;case "Point":Mb={type:"Point",coordinates:Oa(zb.coordinates)};break;case "MultiPoint":Mb={type:zb.type,coordinates:zb.coordinates.map(Oa)};break;case "LineString":Mb={type:zb.type,coordinates:Sa(zb.coordinates)};break;case "MultiLineString":case "Polygon":Mb={type:zb.type,coordinates:gb(zb.coordinates)};break;case "MultiPolygon":Mb={type:"MultiPolygon",coordinates:zb.coordinates.map(gb)};break;default:return zb}null!=zb.bbox&&(Mb.bbox=
zb.bbox);return Mb}function rb(zb){var Mb={type:"Feature",properties:zb.properties,geometry:ib(zb.geometry)};null!=zb.id&&(Mb.id=zb.id);null!=zb.bbox&&(Mb.bbox=zb.bbox);return Mb}if(!(0<=(za=+za)&&20>=za))throw Error("invalid digits");if(null!=xa)switch(xa.type){case "Feature":return rb(xa);case "FeatureCollection":var Eb={type:"FeatureCollection",features:xa.features.map(rb)};null!=xa.bbox&&(Eb.bbox=xa.bbox);return Eb;default:return ib(xa)}return xa};g.geoQuincuncial=$c;g.geoRectangularPolyconic=
function(){return K(nd).scale(131.215)};g.geoRectangularPolyconicRaw=nd;g.geoRobinson=function(){return m.geoProjection(Cd).scale(152.63)};g.geoRobinsonRaw=Cd;g.geoSatellite=function(){var xa=2,za=0,Oa=m.geoProjectionMutator(Xd),Sa=Oa(xa,za);Sa.distance=function(gb){return arguments.length?Oa(xa=+gb,za):xa};Sa.tilt=function(gb){return arguments.length?Oa(xa,za=gb*Pc):za*ld};return Sa.scale(432.147).clipAngle(O(1/xa)*ld-1E-6)};g.geoSatelliteRaw=Xd;g.geoSinuMollweide=function(){return m.geoProjection(bd).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};g.geoSinuMollweideRaw=bd;g.geoSinusoidal=function(){return m.geoProjection(H).scale(152.63)};g.geoSinusoidalRaw=H;g.geoStitch=function(xa){if(null==xa)return xa;switch(xa.type){case "Feature":return hf(xa);case "FeatureCollection":var za={type:"FeatureCollection",features:xa.features.map(hf)};null!=xa.bbox&&(za.bbox=xa.bbox);return za;default:return Vd(xa)}};g.geoTimes=function(){return m.geoProjection(ge).scale(146.153)};g.geoTimesRaw=ge;g.geoTwoPointAzimuthal=
of;g.geoTwoPointAzimuthalRaw=Ue;g.geoTwoPointAzimuthalUsa=function(){return of([-158,21.5],[-77,39]).clipAngle(60).scale(400)};g.geoTwoPointEquidistant=ye;g.geoTwoPointEquidistantRaw=le;g.geoTwoPointEquidistantUsa=function(){return ye([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};g.geoVanDerGrinten=function(){return m.geoProjection(Mf).scale(79.4183)};g.geoVanDerGrintenRaw=Mf;g.geoVanDerGrinten2=function(){return m.geoProjection(Ge).scale(79.4183)};g.geoVanDerGrinten2Raw=Ge;g.geoVanDerGrinten3=
function(){return m.geoProjection(Td).scale(79.4183)};g.geoVanDerGrinten3Raw=Td;g.geoVanDerGrinten4=function(){return m.geoProjection(Zd).scale(127.16)};g.geoVanDerGrinten4Raw=Zd;g.geoWagner=Pe;g.geoWagner7=function(){return Pe().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};g.geoWagnerRaw=nf;g.geoWagner4=function(){return m.geoProjection(jg).scale(176.84)};g.geoWagner4Raw=jg;g.geoWagner6=function(){return m.geoProjection(Qd).scale(152.63)};g.geoWagner6Raw=Qd;g.geoWiechel=function(){return m.geoProjection(Qe).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};g.geoWiechelRaw=Qe;g.geoWinkel3=function(){return m.geoProjection(Yf).scale(158.837)};g.geoWinkel3Raw=Yf;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(39),B(40)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.d3,g.d3))})(this,function(g,m,n){function E(l,k){return function f(){const a=k();a.type=l;a.path=m.geoPath().projection(a);a.copy=a.copy||function(){const e=f();y.forEach(p=>{if(a[p])e[p](a[p]())});e.path.pointRadius(a.path.pointRadius());
return e};return a}}function O(l,k){if(!l||"string"!==typeof l)throw Error("Projection type must be a name string.");l=l.toLowerCase();return 1<arguments.length?(v[l]=E(l,k),this):v[l]||null}const x=m.geoPath(),y="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),v={albers:m.geoAlbers,albersusa:m.geoAlbersUsa,azimuthalequalarea:m.geoAzimuthalEqualArea,azimuthalequidistant:m.geoAzimuthalEquidistant,
conicconformal:m.geoConicConformal,conicequalarea:m.geoConicEqualArea,conicequidistant:m.geoConicEquidistant,equalEarth:m.geoEqualEarth,equirectangular:m.geoEquirectangular,gnomonic:m.geoGnomonic,identity:m.geoIdentity,mercator:m.geoMercator,mollweide:n.geoMollweide,naturalEarth1:m.geoNaturalEarth1,orthographic:m.geoOrthographic,stereographic:m.geoStereographic,transversemercator:m.geoTransverseMercator};for(const l in v)O(l,v[l]);g.getProjectionPath=function(l){return l&&l.path||x};g.projection=
O;g.projectionProperties=y;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(26),B(14),B(15),B(27),B(41),B(39),B(32),B(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.d3,g.vega,g.vega,g.d3,g.d3,g.vega))})(this,function(g,m,n,E,O,x,y,v,l){function k(){}
function d(){function Fa(qa,Ha){return Ha.map(na=>va(qa,na))}function va(qa,Ha){var na=[],Pa=[];V(qa,Ha,cb=>{ra(cb,qa,Ha);for(var ab=0,Ba=cb.length,Ga=cb[Ba-1][1]*cb[0][0]-cb[Ba-1][0]*cb[0][1];++ab<Ba;)Ga+=cb[ab-1][1]*cb[ab][0]-cb[ab-1][0]*cb[ab][1];0<Ga?na.push([cb]):Pa.push(cb)});Pa.forEach(cb=>{for(var ab=0,Ba=na.length,Ga;ab<Ba;++ab){a:{var oa=(Ga=na[ab])[0];for(var Ia=cb,Ua=-1,eb=Ia.length;++Ua<eb;){b:{var Gb=oa;for(var Tb=Ia[Ua],kc=Tb[0],bd=Tb[1],tc=-1,Fc=0,mb=Gb.length,dc=mb-1;Fc<mb;dc=Fc++){var Bc=
Gb[Fc],pc=Bc[0],Cc=Bc[1],nc=Gb[dc];dc=nc[0];var Uc=nc[1],Tc,Kc=Bc;Bc=nc;nc=Tb;if(Tc=(Bc[0]-Kc[0])*(nc[1]-Kc[1])===(nc[0]-Kc[0])*(Bc[1]-Kc[1]))Kc=Kc[Tc=+(Kc[0]===Bc[0])],nc=nc[Tc],Bc=Bc[Tc],Tc=Kc<=nc&&nc<=Bc||Bc<=nc&&nc<=Kc;if(Tc){Gb=0;break b}Cc>bd!==Uc>bd&&kc<(dc-pc)*(bd-Cc)/(Uc-Cc)+pc&&(tc=-tc)}Gb=tc}if(Gb){oa=Gb;break a}}oa=0}if(-1!==oa){Ga.push(cb);break}}});return{type:"MultiPolygon",value:Ha,coordinates:na}}function V(qa,Ha,na){function Pa(Gb){var Tb=[Gb[0][0]+Ga,Gb[0][1]+Ba];Gb=[Gb[1][0]+Ga,
Gb[1][1]+Ba];var kc=2*Tb[0]+Tb[1]*(ca+1)*4,bd=2*Gb[0]+Gb[1]*(ca+1)*4,tc,Fc;(tc=ab[kc])?(Fc=cb[bd])?(delete ab[tc.end],delete cb[Fc.start],tc===Fc?(tc.ring.push(Gb),na(tc.ring)):cb[tc.start]=ab[Fc.end]={start:tc.start,end:Fc.end,ring:tc.ring.concat(Fc.ring)}):(delete ab[tc.end],tc.ring.push(Gb),ab[tc.end=bd]=tc):(tc=cb[bd])?(Fc=ab[kc])?(delete cb[tc.start],delete ab[Fc.end],tc===Fc?(tc.ring.push(Gb),na(tc.ring)):cb[Fc.start]=ab[tc.end]={start:Fc.start,end:tc.end,ring:Fc.ring.concat(tc.ring)}):(delete cb[tc.start],
tc.ring.unshift(Tb),cb[tc.start=kc]=tc):cb[kc]=ab[bd]={start:kc,end:bd,ring:[Tb,Gb]}}var cb=[],ab=[],Ba;var Ga=Ba=-1;var oa=qa[0]>=Ha;for(Ta[oa<<1].forEach(Pa);++Ga<ca-1;){var Ia=oa;oa=qa[Ga+1]>=Ha;Ta[Ia|oa<<1].forEach(Pa)}for(Ta[oa<<0].forEach(Pa);++Ba<ea-1;){Ga=-1;oa=qa[Ba*ca+ca]>=Ha;var Ua=qa[Ba*ca]>=Ha;for(Ta[oa<<1|Ua<<2].forEach(Pa);++Ga<ca-1;){Ia=oa;oa=qa[Ba*ca+ca+Ga+1]>=Ha;var eb=Ua;Ua=qa[Ba*ca+Ga+1]>=Ha;Ta[Ia|oa<<1|Ua<<2|eb<<3].forEach(Pa)}Ta[oa|Ua<<3].forEach(Pa)}Ga=-1;Ua=qa[Ba*ca]>=Ha;for(Ta[Ua<<
2].forEach(Pa);++Ga<ca-1;)eb=Ua,Ua=qa[Ba*ca+Ga+1]>=Ha,Ta[Ua<<2|eb<<3].forEach(Pa);Ta[Ua<<3].forEach(Pa)}function X(qa,Ha,na){qa.forEach(Pa=>{var cb=Pa[0],ab=Pa[1],Ba=cb|0,Ga=ab|0,oa=Ha[Ga*ca+Ba];if(0<cb&&cb<ca&&Ba===cb){var Ia=Ha[Ga*ca+Ba-1];Pa[0]=cb+(na-Ia)/(oa-Ia)-.5}0<ab&&ab<ea&&Ga===ab&&(Ia=Ha[(Ga-1)*ca+Ba],Pa[1]=ab+(na-Ia)/(oa-Ia)-.5)})}var ca=1,ea=1,ra=X;Fa.contour=va;Fa.size=function(qa){if(!arguments.length)return[ca,ea];var Ha=Math.floor(qa[0]),na=Math.floor(qa[1]);0<=Ha&&0<=na||n.error("invalid size");
return ca=Ha,ea=na,Fa};Fa.smooth=function(qa){return arguments.length?(ra=qa?X:k,Fa):ra===X};return Fa}function f(Fa,va,V){return function(X){var ca=n.extent(X);X=V?Math.min(ca[0],0):ca[0];ca=ca[1];var ea=ca-X;ea=va?E.tickStep(X,ca,Fa):ea/(Fa+1);return E.range(X+ea,ca,ea)}}function a(Fa){m.Transform.call(this,null,Fa)}function e(Fa,va,V){const X=f(V.levels||10,V.nice,!1!==V.zero);return"shared"!==V.resolve?X:X(Fa.map(ca=>E.max(va(ca).values)))}function p(Fa,va,V,X){var ca=X.scale||va.scale;let ea=
X.translate||va.translate;n.isFunction(ca)&&(ca=ca(V,X));n.isFunction(ea)&&(ea=ea(V,X));if(1!==ca&&null!=ca||ea)V=(n.isNumber(ca)?ca:ca[0])||1,ca=(n.isNumber(ca)?ca:ca[1])||1,Fa.forEach(A(va,V,ca,ea&&ea[0]||0,ea&&ea[1]||0))}function A(Fa,va,V,X,ca){function ea(cb){cb.forEach(ra)}function ra(cb){Pa&&cb.reverse();cb.forEach(qa)}function qa(cb){cb[0]=(cb[0]-Ha)*va+X;cb[1]=(cb[1]-na)*V+ca}const Ha=Fa.x1||0,na=Fa.y1||0,Pa=0>va*V;return function(cb){cb.coordinates.forEach(ea);return cb}}function C(Fa,va,
V){Fa=0<=Fa?Fa:O.bandwidthNRD(va,V);return Math.round((Math.sqrt(4*Fa*Fa+1)-1)/2)}function D(Fa){return n.isFunction(Fa)?Fa:n.constant(+Fa)}function P(){function Fa(Ha,na){const Pa=C(ca[0],Ha,va)>>qa,cb=C(ca[1],Ha,V)>>qa,ab=Pa?Pa+2:0,Ba=cb?cb+2:0,Ga=2*ab+(ea>>qa),oa=2*Ba+(ra>>qa),Ia=new Float32Array(Ga*oa),Ua=new Float32Array(Ga*oa);let eb=Ia;Ha.forEach(Gb=>{const Tb=ab+(+va(Gb)>>qa),kc=Ba+(+V(Gb)>>qa);0<=Tb&&Tb<Ga&&0<=kc&&kc<oa&&(Ia[Tb+kc*Ga]+=+X(Gb))});0<Pa&&0<cb?(L(Ga,oa,Ia,Ua,Pa),G(Ga,oa,Ua,Ia,
cb),L(Ga,oa,Ia,Ua,Pa),G(Ga,oa,Ua,Ia,cb),L(Ga,oa,Ia,Ua,Pa),G(Ga,oa,Ua,Ia,cb)):0<Pa?(L(Ga,oa,Ia,Ua,Pa),L(Ga,oa,Ua,Ia,Pa),L(Ga,oa,Ia,Ua,Pa),eb=Ua):0<cb&&(G(Ga,oa,Ia,Ua,cb),G(Ga,oa,Ua,Ia,cb),G(Ga,oa,Ia,Ua,cb),eb=Ua);Ha=na?Math.pow(2,-2*qa):1/E.sum(eb);for(let Gb=0,Tb=Ga*oa;Gb<Tb;++Gb)eb[Gb]*=Ha;return{values:eb,scale:1<<qa,width:Ga,height:oa,x1:ab,y1:Ba,x2:ab+(ea>>qa),y2:Ba+(ra>>qa)}}var va=Ha=>Ha[0],V=Ha=>Ha[1],X=n.one,ca=[-1,-1],ea=960,ra=500,qa=2;Fa.x=function(Ha){return arguments.length?(va=D(Ha),
Fa):va};Fa.y=function(Ha){return arguments.length?(V=D(Ha),Fa):V};Fa.weight=function(Ha){return arguments.length?(X=D(Ha),Fa):X};Fa.size=function(Ha){if(!arguments.length)return[ea,ra];var na=+Ha[0],Pa=+Ha[1];0<=na&&0<=Pa||n.error("invalid size");return ea=na,ra=Pa,Fa};Fa.cellSize=function(Ha){if(!arguments.length)return 1<<qa;1<=(Ha=+Ha)||n.error("invalid cell size");qa=Math.floor(Math.log(Ha)/Math.LN2);return Fa};Fa.bandwidth=function(Ha){if(!arguments.length)return ca;Ha=n.array(Ha);1===Ha.length&&
(Ha=[+Ha[0],+Ha[0]]);2!==Ha.length&&n.error("invalid bandwidth");return ca=Ha,Fa};return Fa}function L(Fa,va,V,X,ca){const ea=(ca<<1)+1;for(let ra=0;ra<va;++ra)for(let qa=0,Ha=0;qa<Fa+ca;++qa)qa<Fa&&(Ha+=V[qa+ra*Fa]),qa>=ca&&(qa>=ea&&(Ha-=V[qa-ea+ra*Fa]),X[qa-ca+ra*Fa]=Ha/Math.min(qa+1,Fa-1+ea-qa,ea))}function G(Fa,va,V,X,ca){const ea=(ca<<1)+1;for(let ra=0;ra<Fa;++ra)for(let qa=0,Ha=0;qa<va+ca;++qa)qa<va&&(Ha+=V[ra+qa*Fa]),qa>=ca&&(qa>=ea&&(Ha-=V[ra+(qa-ea)*Fa]),X[ra+(qa-ca)*Fa]=Ha/Math.min(qa+1,
va-1+ea-qa,ea))}function z(Fa){m.Transform.call(this,null,Fa)}function K(Fa,va){Xa.forEach(V=>null!=va[V]?Fa[V](va[V]):0);return Fa}function H(Fa,va){var V=[],X=Pa=>Pa(qa),ca;if(null==va)V.push(Fa);else{var ea={};var ra=0;for(ca=Fa.length;ra<ca;++ra){var qa=Fa[ra];var Ha=va.map(X);var na=ea[Ha];na||(ea[Ha]=na=[],na.dims=Ha,V.push(na));na.push(qa)}}return V}function R(Fa){m.Transform.call(this,null,Fa)}function U(Fa){m.Transform.call(this,null,Fa)}function ka(Fa){m.Transform.call(this,null,Fa)}function ba(Fa,
va){const V=Fa.pointRadius();Fa.context(null);null!=va&&Fa.pointRadius(va);return V}function fa(Fa){m.Transform.call(this,null,Fa)}function ja(Fa){m.Transform.call(this,null,Fa)}function Z(Fa,va,V){const X=null==V?ca=>Fa(va(ca)):ca=>{var ea=Fa.pointRadius();ca=Fa.pointRadius(V)(va(ca));Fa.pointRadius(ea);return ca};X.context=ca=>{Fa.context(ca);return X};return X}function Q(Fa){m.Transform.call(this,[],Fa);this.generator=y.geoGraticule()}function q(Fa){m.Transform.call(this,null,Fa)}function N(Fa,
va){let V;n.isFunction(Fa)?(V=X=>v.rgb(Fa(X,va)),V.dep=aa(Fa)):V=n.constant(v.rgb(Fa||"#888"));return V}function da(Fa,va){let V;n.isFunction(Fa)?(V=X=>Fa(X,va),V.dep=aa(Fa)):Fa?V=n.constant(Fa):(V=X=>X.$value/X.$max||0,V.dep=!0);return V}function aa(Fa){if(!n.isFunction(Fa))return!1;Fa=n.toSet(n.accessorFields(Fa));return Fa.$x||Fa.$y||Fa.$value||Fa.$max}function wa(Fa,va,V,X){const ca=Fa.width;var ea=Fa.height;const ra=Fa.x1||0,qa=Fa.y1||0,Ha=Fa.x2||ca;ea=Fa.y2||ea;const na=Fa.values;Fa=na?Ga=>
na[Ga]:n.zero;const Pa=l.canvas(Ha-ra,ea-qa),cb=Pa.getContext("2d"),ab=cb.getImageData(0,0,Ha-ra,ea-qa),Ba=ab.data;for(let Ga=qa,oa=0;Ga<ea;++Ga){va.$y=Ga-qa;for(let Ia=ra,Ua=Ga*ca;Ia<Ha;++Ia,oa+=4){va.$x=Ia-ra;va.$value=Fa(Ia+Ua);const eb=V(va);Ba[oa+0]=eb.r;Ba[oa+1]=eb.g;Ba[oa+2]=eb.b;Ba[oa+3]=~~(255*X(va))}}cb.putImageData(ab,0,0);return Pa}function ua(Fa){m.Transform.call(this,null,Fa);this.modified(!0)}function Ea(Fa,va){const V=kb(va.fit);va.extent?Fa.fitExtent(va.extent,V):va.size?Fa.fitSize(va.size,
V):0}function $a(Fa){const va=x.projection((Fa||"mercator").toLowerCase());va||n.error("Unrecognized projection type: "+Fa);return va()}function kb(Fa){Fa=n.array(Fa);return 1===Fa.length?Fa[0]:{type:"FeatureCollection",features:Fa.reduce((va,V)=>va.concat(ta(V)),[])}}function ta(Fa){return"FeatureCollection"===Fa.type?Fa.features:n.array(Fa).filter(va=>null!=va).map(va=>"Feature"===va.type?va:{type:"Feature",geometry:va})}const Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,
.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};n.inherits(a,m.Transform,{transform(Fa,va){if(this.value&&!va.changed()&&!Fa.modified())return va.StopPropagation;var V=va.fork(va.NO_SOURCE|va.NO_FIELDS);va=va.materialize(va.SOURCE).source;var X=Fa.field||n.identity,ca=d().smooth(!1!==Fa.smooth),
ea=Fa.thresholds||e(va,X,Fa),ra=null===Fa.as?null:Fa.as||"contour",qa=[];va.forEach(Ha=>{const na=X(Ha),Pa=ca.size([na.width,na.height])(na.values,n.isArray(ea)?ea:ea(na.values));p(Pa,na,Ha,Fa);Pa.forEach(cb=>{qa.push(m.rederive(Ha,m.ingest(null!=ra?{[ra]:cb}:cb)))})});this.value&&(V.rem=this.value);this.value=V.source=V.add=qa;return V}});z.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",
type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Xa="x y weight size cellSize bandwidth".split(" ");n.inherits(z,m.Transform,{transform(Fa,va){function V(Ha,na){for(let Pa=0;Pa<ca.length;++Pa)Ha[ca[Pa]]=na[Pa];return Ha}if(this.value&&!va.changed()&&!Fa.modified())return va.StopPropagation;
var X=va.fork(va.NO_SOURCE|va.NO_FIELDS);va=va.materialize(va.SOURCE).source;va=H(va,Fa.groupby);var ca=(Fa.groupby||[]).map(n.accessorName),ea=K(P(),Fa),ra=Fa.as||"grid",qa=[];qa=va.map(Ha=>m.ingest(V({[ra]:ea(Ha,Fa.counts)},Ha.dims)));this.value&&(X.rem=this.value);this.value=X.source=X.add=qa;return X}});R.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",
type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};n.inherits(R,m.Transform,{transform(Fa,va){if(this.value&&!va.changed()&&!Fa.modified())return va.StopPropagation;var V=va.fork(va.NO_SOURCE|va.NO_FIELDS),X=d().smooth(!1!==Fa.smooth),ca=Fa.values,ea=Fa.thresholds||f(Fa.count||10,Fa.nice,
!!ca),ra=Fa.size;if(!ca){ca=va.materialize(va.SOURCE).source;Fa=K(P(),Fa)(ca,!0);var qa=A(Fa,Fa.scale||1,Fa.scale||1,0,0);ra=[Fa.width,Fa.height];ca=Fa.values}ea=n.isArray(ea)?ea:ea(ca);ca=X.size(ra)(ca,ea);qa&&ca.forEach(qa);this.value&&(V.rem=this.value);this.value=V.source=V.add=(ca||[]).map(m.ingest);return V}});U.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};n.inherits(U,m.Transform,{transform(Fa,va){var V=this._features,
X=this._points,ca=Fa.fields,ea=ca&&ca[0],ra=ca&&ca[1],qa=Fa.geojson||!ca&&n.identity;ca=va.ADD;Fa=Fa.modified()||va.changed(va.REM)||va.modified(n.accessorFields(qa))||ea&&va.modified(n.accessorFields(ea))||ra&&va.modified(n.accessorFields(ra));if(!this.value||Fa)ca=va.SOURCE,this._features=V=[],this._points=X=[];qa&&va.visit(ca,Ha=>V.push(qa(Ha)));ea&&ra&&(va.visit(ca,Ha=>{var na=ea(Ha);Ha=ra(Ha);null!=na&&null!=Ha&&(na=+na)===na&&(Ha=+Ha)===Ha&&X.push([na,Ha])}),V=V.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:X}}));this.value={type:"FeatureCollection",features:V}}});ka.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};n.inherits(ka,m.Transform,{transform(Fa,va){var V=va.fork(va.ALL),X=this.value,ca=Fa.field||n.identity,ea=Fa.as||"path",ra=V.SOURCE;!X||Fa.modified()?(this.value=X=x.getProjectionPath(Fa.projection),V.materialize().reflow()):
ra=ca===n.identity||va.modified(ca.fields)?V.ADD_MOD:V.ADD;Fa=ba(X,Fa.pointRadius);V.visit(ra,qa=>qa[ea]=X(ca(qa)));X.pointRadius(Fa);return V.modifies(ea)}});fa.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};n.inherits(fa,m.Transform,{transform(Fa,va){function V(na){const Pa=X([ca(na),ea(na)]);Pa?(na[qa]=Pa[0],na[Ha]=
Pa[1]):(na[qa]=void 0,na[Ha]=void 0)}var X=Fa.projection,ca=Fa.fields[0],ea=Fa.fields[1],ra=Fa.as||["x","y"],qa=ra[0],Ha=ra[1];Fa.modified()?va=va.materialize().reflow(!0).visit(va.SOURCE,V):(Fa=va.modified(ca.fields)||va.modified(ea.fields),va.visit(Fa?va.ADD_MOD:va.ADD,V));return va.modifies(ra)}});ja.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",
type:"string","default":"shape"}]};n.inherits(ja,m.Transform,{transform(Fa,va){va=va.fork(va.ALL);var V=this.value,X=Fa.as||"shape",ca=va.ADD;if(!V||Fa.modified())this.value=V=Z(x.getProjectionPath(Fa.projection),Fa.field||n.field("datum"),Fa.pointRadius),va.materialize().reflow(),ca=va.SOURCE;va.visit(ca,ea=>ea[X]=V);return va.modifies(X)}});Q.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};n.inherits(Q,m.Transform,{transform(Fa,va){var V=this.value,X=this.generator;if(!V.length||
Fa.modified())for(const ca in Fa)if(n.isFunction(X[ca]))X[ca](Fa[ca]);Fa=X();V.length?va.mod.push(m.replace(V[0],Fa)):va.add.push(m.ingest(Fa));V[0]=Fa;return va}});q.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};n.inherits(q,m.Transform,{transform(Fa,va){if(!va.changed()&&
!Fa.modified())return va.StopPropagation;var V=va.materialize(va.SOURCE).source,X="shared"===Fa.resolve,ca=Fa.field||n.identity,ea=da(Fa.opacity,Fa),ra=N(Fa.color,Fa),qa=Fa.as||"image",Ha={$x:0,$y:0,$value:0,$max:X?E.max(V.map(na=>E.max(ca(na).values))):0};V.forEach(na=>{const Pa=ca(na),cb=n.extend({},na,Ha);X||(cb.$max=E.max(Pa.values||[]));na[qa]=wa(Pa,cb,ra.dep?ra:n.constant(ra(cb)),ea.dep?ea:n.constant(ea(cb)))});return va.reflow(!0).modifies(qa)}});n.inherits(ua,m.Transform,{transform(Fa,va){let V=
this.value;!V||Fa.modified("type")?(this.value=V=$a(Fa.type),x.projectionProperties.forEach(X=>{if(null!=Fa[X]){var ca=V,ea=Fa[X];if(n.isFunction(ca[X]))ca[X](ea)}})):x.projectionProperties.forEach(X=>{if(Fa.modified(X)){var ca=V,ea=Fa[X];if(n.isFunction(ca[X]))ca[X](ea)}});null!=Fa.pointRadius&&V.path.pointRadius(Fa.pointRadius);Fa.fit&&Ea(V,Fa);return va.fork(va.NO_SOURCE|va.NO_FIELDS)}});g.contour=R;g.geojson=U;g.geopath=ka;g.geopoint=fa;g.geoshape=ja;g.graticule=Q;g.heatmap=q;g.isocontour=a;g.kde2d=
z;g.projection=ua;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(k,d,f,a){if(isNaN(d)||isNaN(f))return k;var e,p=k._root;a={data:a};var A=k._x0,C=k._y0,D=k._x1,P=k._y1,L,G,z,K;if(!p)return k._root=a,k;for(;p.length;)if((z=d>=(L=(A+D)/2))?A=L:D=L,(K=f>=(G=(C+P)/2))?C=G:P=G,e=p,!(p=p[z|=K<<1]))return e[z]=a,k;var H=+k._x.call(null,p.data);var R=
+k._y.call(null,p.data);if(d===H&&f===R)return a.next=p,e?e[z]=a:k._root=a,k;do e=e?e[z]=Array(4):k._root=Array(4),(z=d>=(L=(A+D)/2))?A=L:D=L,(K=f>=(G=(C+P)/2))?C=G:P=G;while((z|=K<<1)===(K=(R>=G)<<1|H>=L));return e[K]=p,e[z]=a,k}function n(k,d,f,a,e){this.node=k;this.x0=d;this.y0=f;this.x1=a;this.y1=e}function E(k){return k[0]}function O(k){return k[1]}function x(k,d,f){d=new y(null==d?E:d,null==f?O:f,NaN,NaN,NaN,NaN);return null==k?d:d.addAll(k)}function y(k,d,f,a,e,p){this._x=k;this._y=d;this._x0=
f;this._y0=a;this._x1=e;this._y1=p;this._root=void 0}function v(k){for(var d={data:k.data},f=d;k=k.next;)f=f.next={data:k.data};return d}var l=x.prototype=y.prototype;l.copy=function(){var k=new y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,f,a;if(!d)return k;if(!d.length)return k._root=v(d),k;for(f=[{source:d,target:k._root=Array(4)}];d=f.pop();)for(var e=0;4>e;++e)if(a=d.source[e])a.length?f.push({source:a,target:d.target[e]=Array(4)}):d.target[e]=v(a);return k};l.add=function(k){const d=
+this._x.call(null,k),f=+this._y.call(null,k);return m(this.cover(d,f),d,f,k)};l.addAll=function(k){var d,f,a=k.length,e,p,A=Array(a),C=Array(a),D=Infinity,P=Infinity,L=-Infinity,G=-Infinity;for(f=0;f<a;++f)isNaN(e=+this._x.call(null,d=k[f]))||isNaN(p=+this._y.call(null,d))||(A[f]=e,C[f]=p,e<D&&(D=e),e>L&&(L=e),p<P&&(P=p),p>G&&(G=p));if(D>L||P>G)return this;this.cover(D,P).cover(L,G);for(f=0;f<a;++f)m(this,A[f],C[f],k[f]);return this};l.cover=function(k,d){if(isNaN(k=+k)||isNaN(d=+d))return this;
var f=this._x0,a=this._y0,e=this._x1,p=this._y1;if(isNaN(f))e=(f=Math.floor(k))+1,p=(a=Math.floor(d))+1;else{for(var A=e-f||1,C=this._root,D,P;f>k||k>=e||a>d||d>=p;)switch(P=(d<a)<<1|k<f,D=Array(4),D[P]=C,C=D,A*=2,P){case 0:e=f+A;p=a+A;break;case 1:f=e-A;p=a+A;break;case 2:e=f+A;a=p-A;break;case 3:f=e-A,a=p-A}this._root&&this._root.length&&(this._root=C)}this._x0=f;this._y0=a;this._x1=e;this._y1=p;return this};l.data=function(){var k=[];this.visit(function(d){if(!d.length){do k.push(d.data);while(d=
d.next)}});return k};l.extent=function(k){return arguments.length?this.cover(+k[0][0],+k[0][1]).cover(+k[1][0],+k[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};l.find=function(k,d,f){var a=this._x0,e=this._y0,p,A,C,D,P=this._x1,L=this._y1,G=[],z=this._root,K;z&&G.push(new n(z,a,e,P,L));null==f?f=Infinity:(a=k-f,e=d-f,P=k+f,L=d+f,f*=f);for(;K=G.pop();)if(!(!(z=K.node)||(p=K.x0)>P||(A=K.y0)>L||(C=K.x1)<a||(D=K.y1)<e))if(z.length){K=(p+C)/2;var H=(A+D)/2;G.push(new n(z[3],
K,H,C,D),new n(z[2],p,H,K,D),new n(z[1],K,A,C,H),new n(z[0],p,A,K,H));if(z=(d>=H)<<1|k>=K)K=G[G.length-1],G[G.length-1]=G[G.length-1-z],G[G.length-1-z]=K}else if(K=k-+this._x.call(null,z.data),H=d-+this._y.call(null,z.data),K=K*K+H*H,K<f){var R=Math.sqrt(f=K);a=k-R;e=d-R;P=k+R;L=d+R;R=z.data}return R};l.remove=function(k){if(isNaN(D=+this._x.call(null,k))||isNaN(P=+this._y.call(null,k)))return this;var d,f=this._root,a,e=this._x0,p=this._y0,A=this._x1,C=this._y1,D,P,L,G,z,K;if(!f)return this;if(f.length)for(;;){(z=
D>=(L=(e+A)/2))?e=L:A=L;(K=P>=(G=(p+C)/2))?p=G:C=G;if(!(d=f,f=f[z|=K<<1]))return this;if(!f.length)break;if(d[z+1&3]||d[z+2&3]||d[z+3&3]){var H=d;var R=z}}for(;f.data!==k;)if(!(a=f,f=f.next))return this;(k=f.next)&&delete f.next;if(a)return k?a.next=k:delete a.next,this;if(!d)return this._root=k,this;k?d[z]=k:delete d[z];(f=d[0]||d[1]||d[2]||d[3])&&f===(d[3]||d[2]||d[1]||d[0])&&!f.length&&(H?H[R]=f:this._root=f);return this};l.removeAll=function(k){for(var d=0,f=k.length;d<f;++d)this.remove(k[d]);
return this};l.root=function(){return this._root};l.size=function(){var k=0;this.visit(function(d){if(!d.length){do++k;while(d=d.next)}});return k};l.visit=function(k){var d=[],f,a=this._root,e,p,A,C;for(a&&d.push(new n(a,this._x0,this._y0,this._x1,this._y1));f=d.pop();)if(!k(a=f.node,p=f.x0,A=f.y0,C=f.x1,f=f.y1)&&a.length){var D=(p+C)/2,P=(A+f)/2;(e=a[3])&&d.push(new n(e,D,P,C,f));(e=a[2])&&d.push(new n(e,p,P,D,f));(e=a[1])&&d.push(new n(e,D,A,C,P));(e=a[0])&&d.push(new n(e,p,A,D,P))}return this};
l.visitAfter=function(k){var d=[],f=[],a;for(this._root&&d.push(new n(this._root,this._x0,this._y0,this._x1,this._y1));a=d.pop();){var e=a.node;if(e.length){var p,A=a.x0,C=a.y0,D=a.x1,P=a.y1,L=(A+D)/2,G=(C+P)/2;(p=e[0])&&d.push(new n(p,A,C,L,G));(p=e[1])&&d.push(new n(p,L,C,D,G));(p=e[2])&&d.push(new n(p,A,G,L,P));(p=e[3])&&d.push(new n(p,L,G,D,P))}f.push(a)}for(;a=f.pop();)k(a.node,a.x0,a.y0,a.x1,a.y1);return this};l.x=function(k){return arguments.length?(this._x=k,this):this._x};l.y=function(k){return arguments.length?
(this._y=k,this):this._y};g.quadtree=x;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(){for(var y=0,v=arguments.length,l={},k;y<v;++y){if(!(k=arguments[y]+"")||k in l||/[\s.]/.test(k))throw Error("illegal type: "+k);l[k]=[]}return new n(l)}function n(y){this._=y}function E(y,v){return y.trim().split(/^|\s+/).map(function(l){var k="",d=l.indexOf(".");0<=d&&(k=l.slice(d+
1),l=l.slice(0,d));if(l&&!v.hasOwnProperty(l))throw Error("unknown type: "+l);return{type:l,name:k}})}function O(y,v,l){for(var k=0,d=y.length;k<d;++k)if(y[k].name===v){y[k]=x;y=y.slice(0,k).concat(y.slice(k+1));break}null!=l&&y.push({name:v,value:l});return y}var x={value:()=>{}};n.prototype=m.prototype={constructor:n,on:function(y,v){var l=this._,k=E(y+"",l),d,f=-1,a=k.length;if(2>arguments.length)for(;++f<a;){var e;if(e=d=(y=k[f]).type){a:{e=l[d];for(var p=0,A=e.length;p<A;++p)if((d=e[p]).name===
y.name){d=d.value;break a}d=void 0}e=d}if(e)return d}else{if(null!=v&&"function"!==typeof v)throw Error("invalid callback: "+v);for(;++f<a;)if(d=(y=k[f]).type)l[d]=O(l[d],y.name,v);else if(null==v)for(d in l)l[d]=O(l[d],y.name,null);return this}},copy:function(){var y={},v=this._,l;for(l in v)y[l]=v[l].slice();return new n(y)},call:function(y,v){if(0<(d=arguments.length-2))for(var l=Array(d),k=0,d,f;k<d;++k)l[k]=arguments[k+2];if(!this._.hasOwnProperty(y))throw Error("unknown type: "+y);f=this._[y];
k=0;for(d=f.length;k<d;++k)f[k].value.apply(v,l)},apply:function(y,v,l){if(!this._.hasOwnProperty(y))throw Error("unknown type: "+y);y=this._[y];for(var k=0,d=y.length;k<d;++k)y[k].value.apply(v,l)}};g.dispatch=m;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(){return A||(P(n),A=D.now()+C)}function n(){A=0}function E(){this._call=this._time=this._next=null}function O(L,G,z){var K=new E;K.restart(L,G,z);return K}function x(){m();++k;for(var L=a,G;L;)0<=(G=A-L._time)&&L._call.call(null,G),L=L._next;--k}function y(){A=(p=D.now())+C;k=
d=0;try{x()}finally{k=0;for(var L,G=a,z,K=Infinity;G;)G._call?(K>G._time&&(K=G._time),L=G,G=G._next):(z=G._next,G._next=null,G=L?L._next=z:a=z);e=L;l(K);A=0}}function v(){var L=D.now(),G=L-p;1E3<G&&(C-=G,p=L)}function l(L){k||(d&&(d=clearTimeout(d)),24<L-A?(Infinity>L&&(d=setTimeout(y,L-D.now()-C)),f&&(f=clearInterval(f))):(f||(p=D.now(),f=setInterval(v,1E3)),k=1,P(y)))}var k=0,d=0,f=0,a,e,p=0,A=0,C=0,D="object"===typeof performance&&performance.now?performance:Date,P="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(L){setTimeout(L,17)};E.prototype=O.prototype={constructor:E,restart:function(L,G,z){if("function"!==typeof L)throw new TypeError("callback is not a function");z=(null==z?m():+z)+(null==G?0:+G);this._next||e===this||(e?e._next=this:a=this,e=this);this._call=L;this._time=z;l()},stop:function(){this._call&&(this._call=null,this._time=Infinity,l())}};g.interval=function(L,G,z){var K=new E,H=G;if(null==G)return K.restart(L,G,z),K;K._restart=K.restart;
K.restart=function(R,U,ka){U=+U;ka=null==ka?m():+ka;K._restart(function ja(fa){fa+=H;K._restart(ja,H+=U,ka);R(fa)},U,ka)};K.restart(L,G,z);return K};g.now=m;g.timeout=function(L,G,z){var K=new E;G=null==G?0:+G;K.restart(H=>{K.stop();L(H+G)},G,z);return K};g.timer=O;g.timerFlush=x;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(43),B(44),B(45)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],m):(g=g||self,m(g.d3=g.d3||{},g.d3,g.d3,g.d3))})(this,function(g,m,n,E){function O(e){return function(){return e}}function x(e){return e.x+e.vx}function y(e){return e.y+e.vy}function v(e){return e.index}function l(e,p){e=e.get(p);if(!e)throw Error("node not found: "+p);return e}function k(){let e=
1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function d(e){return e.x}function f(e){return e.y}var a=Math.PI*(3-Math.sqrt(5));g.forceCenter=function(e,p){function A(){var P,L=C.length,G=0,z=0;for(P=0;P<L;++P){var K=C[P];G+=K.x;z+=K.y}G=(G/L-e)*D;z=(z/L-p)*D;for(P=0;P<L;++P)K=C[P],K.x-=G,K.y-=z}var C,D=1;null==e&&(e=0);null==p&&(p=0);A.initialize=function(P){C=P};A.x=function(P){return arguments.length?(e=+P,A):e};A.y=function(P){return arguments.length?(p=+P,A):p};A.strength=function(P){return arguments.length?
(D=+P,A):D};return A};g.forceCollide=function(e){function p(){function K(q,N,da,aa,wa){var ua=q.data;q=q.r;var Ea=ja+q;if(ua)ua.index>ka.index&&(N=ba-ua.x-ua.vx,da=fa-ua.y-ua.vy,aa=N*N+da*da,aa<Ea*Ea&&(0===N&&(N=1E-6*(L()-.5),aa+=N*N),0===da&&(da=1E-6*(L()-.5),aa+=da*da),aa=(Ea-(aa=Math.sqrt(aa)))/aa*G,ka.vx+=(N*=aa)*(Ea=(q*=q)/(Z+q)),ka.vy+=(da*=aa)*Ea,ua.vx-=N*(Ea=1-Ea),ua.vy-=da*Ea));else return N>ba+Ea||aa<ba-Ea||da>fa+Ea||wa<fa-Ea}for(var H,R=D.length,U,ka,ba,fa,ja,Z,Q=0;Q<z;++Q)for(U=m.quadtree(D,
x,y).visitAfter(A),H=0;H<R;++H)ka=D[H],ja=P[ka.index],Z=ja*ja,ba=ka.x+ka.vx,fa=ka.y+ka.vy,U.visit(K)}function A(K){if(K.data)return K.r=P[K.data.index];for(var H=K.r=0;4>H;++H)K[H]&&K[H].r>K.r&&(K.r=K[H].r)}function C(){if(D){var K,H=D.length;P=Array(H);for(K=0;K<H;++K){var R=D[K];P[R.index]=+e(R,K,D)}}}var D,P,L,G=1,z=1;"function"!==typeof e&&(e=O(null==e?1:+e));p.initialize=function(K,H){D=K;L=H;C()};p.iterations=function(K){return arguments.length?(z=+K,p):z};p.strength=function(K){return arguments.length?
(G=+K,p):G};p.radius=function(K){return arguments.length?(e="function"===typeof K?K:O(+K),C(),p):e};return p};g.forceLink=function(e){function p(fa){for(var ja=0,Z=e.length;ja<ba;++ja)for(var Q=0,q,N,da,aa,wa;Q<Z;++Q)q=e[Q],N=q.source,q=q.target,da=q.x+q.vx-N.x-N.vx||1E-6*(ka()-.5),aa=q.y+q.vy-N.y-N.vy||1E-6*(ka()-.5),wa=Math.sqrt(da*da+aa*aa),wa=(wa-K[Q])/wa*fa*G[Q],da*=wa,aa*=wa,q.vx-=da*(wa=U[Q]),q.vy-=aa*wa,N.vx+=da*(wa=1-wa),N.vy+=aa*wa}function A(){if(H){var fa=H.length,ja=e.length,Z=new Map(H.map((q,
N)=>[P(q,N,H),q]));var Q=0;for(R=Array(fa);Q<ja;++Q)fa=e[Q],fa.index=Q,"object"!==typeof fa.source&&(fa.source=l(Z,fa.source)),"object"!==typeof fa.target&&(fa.target=l(Z,fa.target)),R[fa.source.index]=(R[fa.source.index]||0)+1,R[fa.target.index]=(R[fa.target.index]||0)+1;Q=0;for(U=Array(ja);Q<ja;++Q)fa=e[Q],U[Q]=R[fa.source.index]/(R[fa.source.index]+R[fa.target.index]);G=Array(ja);C();K=Array(ja);D()}}function C(){if(H)for(var fa=0,ja=e.length;fa<ja;++fa)G[fa]=+L(e[fa],fa,e)}function D(){if(H)for(var fa=
0,ja=e.length;fa<ja;++fa)K[fa]=+z(e[fa],fa,e)}var P=v,L=function(fa){return 1/Math.min(R[fa.source.index],R[fa.target.index])},G,z=O(30),K,H,R,U,ka,ba=1;null==e&&(e=[]);p.initialize=function(fa,ja){H=fa;ka=ja;A()};p.links=function(fa){return arguments.length?(e=fa,A(),p):e};p.id=function(fa){return arguments.length?(P=fa,p):P};p.iterations=function(fa){return arguments.length?(ba=+fa,p):ba};p.strength=function(fa){return arguments.length?(L="function"===typeof fa?fa:O(+fa),C(),p):L};p.distance=function(fa){return arguments.length?
(z="function"===typeof fa?fa:O(+fa),D(),p):z};return p};g.forceManyBody=function(){function e(ka){var ba=D.length,fa=m.quadtree(D,d,f).visitAfter(A);G=ka;for(ka=0;ka<ba;++ka)P=D[ka],fa.visit(C)}function p(){if(D){var ka,ba=D.length;K=Array(ba);for(ka=0;ka<ba;++ka){var fa=D[ka];K[fa.index]=+z(fa,ka,D)}}}function A(ka){var ba=0,fa,ja,Z=0,Q,q,N;if(ka.length){for(Q=q=N=0;4>N;++N)(fa=ka[N])&&(ja=Math.abs(fa.value))&&(ba+=fa.value,Z+=ja,Q+=ja*fa.x,q+=ja*fa.y);ka.x=Q/Z;ka.y=q/Z}else{fa=ka;fa.x=fa.data.x;
fa.y=fa.data.y;do ba+=K[fa.data.index];while(fa=fa.next)}ka.value=ba}function C(ka,ba,fa,ja){if(!ka.value)return!0;fa=ka.x-P.x;var Z=ka.y-P.y;ba=ja-ba;ja=fa*fa+Z*Z;if(ba*ba/U<ja)return ja<R&&(0===fa&&(fa=1E-6*(L()-.5),ja+=fa*fa),0===Z&&(Z=1E-6*(L()-.5),ja+=Z*Z),ja<H&&(ja=Math.sqrt(H*ja)),P.vx+=fa*ka.value*G/ja,P.vy+=Z*ka.value*G/ja),!0;if(!(ka.length||ja>=R)){if(ka.data!==P||ka.next)0===fa&&(fa=1E-6*(L()-.5),ja+=fa*fa),0===Z&&(Z=1E-6*(L()-.5),ja+=Z*Z),ja<H&&(ja=Math.sqrt(H*ja));do ka.data!==P&&(ba=
K[ka.data.index]*G/ja,P.vx+=fa*ba,P.vy+=Z*ba);while(ka=ka.next)}}var D,P,L,G,z=O(-30),K,H=1,R=Infinity,U=.81;e.initialize=function(ka,ba){D=ka;L=ba;p()};e.strength=function(ka){return arguments.length?(z="function"===typeof ka?ka:O(+ka),p(),e):z};e.distanceMin=function(ka){return arguments.length?(H=ka*ka,e):Math.sqrt(H)};e.distanceMax=function(ka){return arguments.length?(R=ka*ka,e):Math.sqrt(R)};e.theta=function(ka){return arguments.length?(U=ka*ka,e):Math.sqrt(U)};return e};g.forceRadial=function(e,
p,A){function C(K){for(var H=0,R=P.length;H<R;++H){var U=P[H],ka=U.x-p||1E-6,ba=U.y-A||1E-6,fa=Math.sqrt(ka*ka+ba*ba);fa=(z[H]-fa)*G[H]*K/fa;U.vx+=ka*fa;U.vy+=ba*fa}}function D(){if(P){var K,H=P.length;G=Array(H);z=Array(H);for(K=0;K<H;++K)z[K]=+e(P[K],K,P),G[K]=isNaN(z[K])?0:+L(P[K],K,P)}}var P,L=O(.1),G,z;"function"!==typeof e&&(e=O(+e));null==p&&(p=0);null==A&&(A=0);C.initialize=function(K){P=K;D()};C.strength=function(K){return arguments.length?(L="function"===typeof K?K:O(+K),D(),C):L};C.radius=
function(K){return arguments.length?(e="function"===typeof K?K:O(+K),D(),C):e};C.x=function(K){return arguments.length?(p=+K,C):p};C.y=function(K){return arguments.length?(A=+K,C):A};return C};g.forceSimulation=function(e){function p(){A();ka.call("tick",P);L<G&&(U.stop(),ka.call("end",P))}function A(fa){var ja,Z=e.length;void 0===fa&&(fa=1);for(var Q=0;Q<fa;++Q)for(L+=(K-L)*z,R.forEach(function(N){N(L)}),ja=0;ja<Z;++ja){var q=e[ja];null==q.fx?q.x+=q.vx*=H:(q.x=q.fx,q.vx=0);null==q.fy?q.y+=q.vy*=
H:(q.y=q.fy,q.vy=0)}return P}function C(){for(var fa=0,ja=e.length,Z;fa<ja;++fa){Z=e[fa];Z.index=fa;null!=Z.fx&&(Z.x=Z.fx);null!=Z.fy&&(Z.y=Z.fy);if(isNaN(Z.x)||isNaN(Z.y)){var Q=10*Math.sqrt(.5+fa),q=fa*a;Z.x=Q*Math.cos(q);Z.y=Q*Math.sin(q)}if(isNaN(Z.vx)||isNaN(Z.vy))Z.vx=Z.vy=0}}function D(fa){fa.initialize&&fa.initialize(e,ba);return fa}var P,L=1,G=.001,z=1-Math.pow(G,1/300),K=0,H=.6,R=new Map,U=E.timer(p),ka=n.dispatch("tick","end"),ba=k();null==e&&(e=[]);C();return P={tick:A,restart:function(){return U.restart(p),
P},stop:function(){return U.stop(),P},nodes:function(fa){return arguments.length?(e=fa,C(),R.forEach(D),P):e},alpha:function(fa){return arguments.length?(L=+fa,P):L},alphaMin:function(fa){return arguments.length?(G=+fa,P):G},alphaDecay:function(fa){return arguments.length?(z=+fa,P):+z},alphaTarget:function(fa){return arguments.length?(K=+fa,P):K},velocityDecay:function(fa){return arguments.length?(H=1-fa,P):1-H},randomSource:function(fa){return arguments.length?(ba=fa,R.forEach(D),P):ba},force:function(fa,
ja){return 1<arguments.length?(null==ja?R.delete(fa):R.set(fa,D(ja)),P):R.get(fa)},find:function(fa,ja,Z){var Q,q=e.length;Z=null==Z?Infinity:Z*Z;for(Q=0;Q<q;++Q){var N=e[Q];var da=fa-N.x;var aa=ja-N.y;da=da*da+aa*aa;if(da<Z){var wa=N;Z=da}}return wa},on:function(fa,ja){return 1<arguments.length?(ka.on(fa,ja),P):ka.on(fa)}}};g.forceX=function(e){function p(G){for(var z=0,K=D.length,H;z<K;++z)H=D[z],H.vx+=(L[z]-H.x)*P[z]*G}function A(){if(D){var G,z=D.length;P=Array(z);L=Array(z);for(G=0;G<z;++G)P[G]=
isNaN(L[G]=+e(D[G],G,D))?0:+C(D[G],G,D)}}var C=O(.1),D,P,L;"function"!==typeof e&&(e=O(null==e?0:+e));p.initialize=function(G){D=G;A()};p.strength=function(G){return arguments.length?(C="function"===typeof G?G:O(+G),A(),p):C};p.x=function(G){return arguments.length?(e="function"===typeof G?G:O(+G),A(),p):e};return p};g.forceY=function(e){function p(G){for(var z=0,K=D.length,H;z<K;++z)H=D[z],H.vy+=(L[z]-H.y)*P[z]*G}function A(){if(D){var G,z=D.length;P=Array(z);L=Array(z);for(G=0;G<z;++G)P[G]=isNaN(L[G]=
+e(D[G],G,D))?0:+C(D[G],G,D)}}var C=O(.1),D,P,L;"function"!==typeof e&&(e=O(null==e?0:+e));p.initialize=function(G){D=G;A()};p.strength=function(G){return arguments.length?(C="function"===typeof G?G:O(+G),A(),p):C};p.y=function(G){return arguments.length?(e="function"===typeof G?G:O(+G),A(),p):e};return p};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(26),B(14),B(46)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.d3))})(this,function(g,m,n,E){function O(e){m.Transform.call(this,null,e)}function x(e,p){return()=>e.touch(p).run()}function y(e,p){e=E.forceSimulation(e);const A=e.stop,
C=e.restart;let D=!1;e.stopped=()=>D;e.restart=()=>(D=!1,C());e.stop=()=>(D=!0,A());return v(e,p,!0).on("end",()=>D=!0)}function v(e,p,A,C){var D=n.array(p.forces),P;var L=0;for(P=d.length;L<P;++L){var G=d[L];if("forces"!==G&&p.modified(G))e[G](p[G])}L=0;for(P=D.length;L<P;++L){var z="forces"+L;if(A||p.modified("forces",L)){G=void 0;var K=D[L];n.hasOwnProperty(k,K.force)||n.error("Unrecognized force: "+K.force);var H=k[K.force]();for(G in K)n.isFunction(H[G])&&l(H[G],K[G],K);G=H}else{if(G=C)a:{H=
G=void 0;K=D[L];var R=C;for(H in K)if(n.isFunction(G=K[H])&&R.modified(n.accessorFields(G))){G=1;break a}G=0}G=G?e.force(z):null}G&&e.force(z,G)}for(P=e.numForces||0;L<P;++L)e.force("forces"+L,null);e.numForces=D.length;return e}function l(e,p,A){e(n.isFunction(p)?C=>p(C,A):p)}const k={center:E.forceCenter,collide:E.forceCollide,nbody:E.forceManyBody,link:E.forceLink,x:E.forceX,y:E.forceY},d=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],f=["static","iterations"],a=["x","y","vx","vy"];
O.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};n.inherits(O,m.Transform,{transform(e,p){var A=this.value,C=p.changed(p.ADD_REM),D=e.modified(d),P=e.iterations||300;A?(C&&(p.modifies("index"),
A.nodes(p.source)),(D||p.changed(p.MOD))&&v(A,e,0,p)):(this.value=A=y(p.source,e),A.on("tick",x(p.dataflow,this)),e.static||(C=!0,A.tick()),p.modifies("index"));if(D||C||e.modified(f)||p.changed()&&e.restart)if(A.alpha(Math.max(A.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(A.alphaMin(),1/P)),e.static)for(A.stop();0<=--P;)A.tick();else if(A.stopped()&&A.restart(),!C)return p.StopPropagation;return this.finish(e,p)},finish(e,p){const A=p.dataflow;for(let G=this._argops,z=0,K=G.length,H;z<K;++z)if(H=
G[z],"forces"===H.name&&"link"===H.op._argval.force)for(var C=H.op._argops,D=0,P=C.length,L;D<P;++D)if("links"===C[D].name&&(L=C[D].op.source)){A.pulse(L,A.changeset().reflow());break}return p.reflow(e.modified()).modifies(a)}});g.force=O;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(V,X){return V.parent===X.parent?1:2}function n(V,X){return V+X.x}function E(V,X){return Math.max(V,X.y)}function O(V){for(var X;X=V.children;)V=X[0];return V}function x(V){for(var X;X=V.children;)V=X[X.length-1];return V}function y(V){var X=0,ca=V.children,ea=ca&&ca.length;if(ea)for(;0<=
--ea;)X+=ca[ea].value;else X=1;V.value=X}function v(V,X){V instanceof Map?(V=[void 0,V],void 0===X&&(X=k)):void 0===X&&(X=l);V=new a(V);for(var ca,ea=[V],ra,qa,Ha,na;ca=ea.pop();)if((qa=X(ca.data))&&(na=(qa=Array.from(qa)).length))for(ca.children=qa,Ha=na-1;0<=Ha;--Ha)ea.push(ra=qa[Ha]=new a(qa[Ha])),ra.parent=ca,ra.depth=ca.depth+1;return V.eachBefore(f)}function l(V){return V.children}function k(V){return Array.isArray(V)?V[1]:null}function d(V){void 0!==V.data.value&&(V.value=V.data.value);V.data=
V.data.data}function f(V){var X=0;do V.height=X;while((V=V.parent)&&V.height<++X)}function a(V){this.data=V;this.depth=this.height=0;this.parent=null}function e(V){var X=0;V=Array.from(V);for(var ca=V.length,ea,ra;ca;)ra=Math.random()*ca--|0,ea=V[ca],V[ca]=V[ra],V[ra]=ea;ca=V.length;ea=[];for(var qa;X<ca;)if(ra=V[X],qa&&A(qa,ra))++X;else{a:if(X=ea,C(ra,X))X=[ra];else{for(ea=0;ea<X.length;++ea)if(p(ra,X[ea])&&C(D(X[ea],ra),X)){X=[X[ea],ra];break a}for(ea=0;ea<X.length-1;++ea)for(qa=ea+1;qa<X.length;++qa)if(p(D(X[ea],
X[qa]),ra)&&p(D(X[ea],ra),X[qa])&&p(D(X[qa],ra),X[ea])&&C(P(X[ea],X[qa],ra),X)){X=[X[ea],X[qa],ra];break a}throw Error();}a:{X=ea=X;switch(X.length){case 1:X=X[0];X={x:X.x,y:X.y,r:X.r};break a;case 2:X=D(X[0],X[1]);break a;case 3:X=P(X[0],X[1],X[2]);break a}X=void 0}qa=X;X=0}return qa}function p(V,X){var ca=V.r-X.r,ea=X.x-V.x;V=X.y-V.y;return 0>ca||ca*ca<ea*ea+V*V}function A(V,X){var ca=V.r-X.r+1E-9*Math.max(V.r,X.r,1),ea=X.x-V.x;V=X.y-V.y;return 0<ca&&ca*ca>ea*ea+V*V}function C(V,X){for(var ca=0;ca<
X.length;++ca)if(!A(V,X[ca]))return!1;return!0}function D(V,X){var ca=V.x,ea=V.y;V=V.r;var ra=X.x,qa=X.y;X=X.r;var Ha=ra-ca,na=qa-ea,Pa=X-V,cb=Math.sqrt(Ha*Ha+na*na);return{x:(ca+ra+Ha/cb*Pa)/2,y:(ea+qa+na/cb*Pa)/2,r:(cb+V+X)/2}}function P(V,X,ca){var ea=V.x,ra=V.y;V=V.r;var qa=X.x,Ha=X.y,na=X.r,Pa=ca.x,cb=ca.y,ab=ca.r;ca=ea-qa;X=ea-Pa;var Ba=ra-Ha,Ga=ra-cb,oa=na-V,Ia=ab-V,Ua=ea*ea+ra*ra-V*V;Ha=Ua-qa*qa-Ha*Ha+na*na;cb=Ua-Pa*Pa-cb*cb+ab*ab;Pa=X*Ba-ca*Ga;qa=(Ba*cb-Ga*Ha)/(2*Pa)-ea;Ba=(Ga*oa-Ba*Ia)/
Pa;Ga=(X*Ha-ca*cb)/(2*Pa)-ra;ca=(ca*Ia-X*oa)/Pa;X=Ba*Ba+ca*ca-1;oa=2*(V+qa*Ba+Ga*ca);V=qa*qa+Ga*Ga-V*V;V=-(X?(oa+Math.sqrt(oa*oa-4*X*V))/(2*X):V/oa);return{x:ea+qa+Ba*V,y:ra+Ga+ca*V,r:V}}function L(V,X,ca){var ea=V.x-X.x,ra=V.y-X.y,qa=ea*ea+ra*ra;if(qa){var Ha=X.r+ca.r;Ha*=Ha;var na=V.r+ca.r;na*=na;if(Ha>na){var Pa=(qa+na-Ha)/(2*qa);Ha=Math.sqrt(Math.max(0,na/qa-Pa*Pa));ca.x=V.x-Pa*ea-Ha*ra;ca.y=V.y-Pa*ra+Ha*ea}else Pa=(qa+Ha-na)/(2*qa),Ha=Math.sqrt(Math.max(0,Ha/qa-Pa*Pa)),ca.x=X.x+Pa*ea-Ha*ra,ca.y=
X.y+Pa*ra+Ha*ea}else ca.x=X.x+ca.r,ca.y=X.y}function G(V,X){var ca=V.r+X.r-1E-6,ea=X.x-V.x;V=X.y-V.y;return 0<ca&&ca*ca>ea*ea+V*V}function z(V){var X=V._,ca=V.next._,ea=X.r+ca.r;V=(X.x*ca.r+ca.x*X.r)/ea;X=(X.y*ca.r+ca.y*X.r)/ea;return V*V+X*X}function K(V){this._=V;this.previous=this.next=null}function H(V){if(!(ca=(V="object"===typeof V&&"length"in V?V:Array.from(V)).length))return 0;var X,ca;var ea=V[0];ea.x=0;ea.y=0;if(!(1<ca))return ea.r;var ra=V[1];ea.x=-ra.r;ra.x=ea.r;ra.y=0;if(!(2<ca))return ea.r+
ra.r;L(ra,ea,X=V[2]);ea=new K(ea);ra=new K(ra);X=new K(X);ea.next=X.previous=ra;ra.next=ea.previous=X;X.next=ra.previous=ea;var qa=3;a:for(;qa<ca;++qa){L(ea._,ra._,X=V[qa]);X=new K(X);var Ha=ra.next;var na=ea.previous;var Pa=ra._.r;var cb=ea._.r;do if(Pa<=cb){if(G(Ha._,X._)){ra=Ha;ea.next=ra;ra.previous=ea;--qa;continue a}Pa+=Ha._.r;Ha=Ha.next}else{if(G(na._,X._)){ea=na;ea.next=ra;ra.previous=ea;--qa;continue a}cb+=na._.r;na=na.previous}while(Ha!==na.next);X.previous=ea;X.next=ra;ea.next=ra.previous=
ra=X;for(Ha=z(ea);(X=X.next)!==ra;)(na=z(X))<Ha&&(ea=X,Ha=na);ra=ea.next}ea=[ra._];for(X=ra;(X=X.next)!==ra;)ea.push(X._);X=e(ea);for(qa=0;qa<ca;++qa)ea=V[qa],ea.x-=X.x,ea.y-=X.y;return X.r}function R(V){if("function"!==typeof V)throw Error();return V}function U(){return 0}function ka(V){return function(){return V}}function ba(V){return Math.sqrt(V.value)}function fa(V){return function(X){X.children||(X.r=Math.max(0,+V(X)||0))}}function ja(V,X){return function(ca){if(ea=ca.children){var ea,ra,qa=
ea.length,Ha=V(ca)*X||0;if(Ha)for(ra=0;ra<qa;++ra)ea[ra].r+=Ha;var na=H(ea);if(Ha)for(ra=0;ra<qa;++ra)ea[ra].r-=Ha;ca.r=na+Ha}}}function Z(V){return function(X){var ca=X.parent;X.r*=V;ca&&(X.x=ca.x+V*X.x,X.y=ca.y+V*X.y)}}function Q(V){V.x0=Math.round(V.x0);V.y0=Math.round(V.y0);V.x1=Math.round(V.x1);V.y1=Math.round(V.y1)}function q(V,X,ca,ea,ra){var qa=V.children,Ha=-1,na=qa.length;for(ea=V.value&&(ea-X)/V.value;++Ha<na;)V=qa[Ha],V.y0=ca,V.y1=ra,V.x0=X,V.x1=X+=V.value*ea}function N(V){return V.id}
function da(V){return V.parentId}function aa(V,X){return V.parent===X.parent?1:2}function wa(V){var X=V.children;return X?X[0]:V.t}function ua(V){var X=V.children;return X?X[X.length-1]:V.t}function Ea(V,X){this._=V;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=X}function $a(V){V=new Ea(V,0);for(var X,ca=[V],ea,ra,qa;X=ca.pop();)if(ra=X._.children)for(X.children=Array(ea=ra.length),qa=ea-1;0<=qa;--qa)ca.push(ea=X.children[qa]=new Ea(ra[qa],qa)),
ea.parent=X;(V.parent=new Ea(null,0)).children=[V];return V}function kb(V,X,ca,ea,ra){var qa=V.children,Ha=-1,na=qa.length;for(ra=V.value&&(ra-ca)/V.value;++Ha<na;)V=qa[Ha],V.x0=X,V.x1=ea,V.y0=ca,V.y1=ca+=V.value*ra}function ta(V,X,ca,ea,ra,qa){for(var Ha=[],na=X.children,Pa,cb,ab=Pa=0,Ba=na.length,Ga,oa=X.value,Ia,Ua,eb,Gb,Tb,kc;Pa<Ba;){X=ra-ca;Ga=qa-ea;do Ia=na[ab++].value;while(!Ia&&ab<Ba);Ua=eb=Ia;kc=Math.max(Ga/X,X/Ga)/(oa*V);Gb=Ia*Ia*kc;for(Tb=Math.max(eb/Gb,Gb/Ua);ab<Ba;++ab){Ia+=cb=na[ab].value;
cb<Ua&&(Ua=cb);cb>eb&&(eb=cb);Gb=Ia*Ia*kc;Gb=Math.max(eb/Gb,Gb/Ua);if(Gb>Tb){Ia-=cb;break}Tb=Gb}Ha.push(Pa={value:Ia,dice:X<Ga,children:na.slice(Pa,ab)});Pa.dice?q(Pa,ca,ea,ra,oa?ea+=Ga*Ia/oa:qa):kb(Pa,ca,ea,oa?ca+=X*Ia/oa:ra,qa);oa-=Ia;Pa=ab}return Ha}a.prototype=v.prototype={constructor:a,count:function(){return this.eachAfter(y)},each:function(V,X){let ca=-1;for(const ea of this)V.call(X,ea,++ca,this);return this},eachAfter:function(V,X){for(var ca,ea=[this],ra=[],qa,Ha,na=-1;ca=ea.pop();)if(ra.push(ca),
ca=ca.children)for(qa=0,Ha=ca.length;qa<Ha;++qa)ea.push(ca[qa]);for(;ca=ra.pop();)V.call(X,ca,++na,this);return this},eachBefore:function(V,X){for(var ca,ea=[this],ra,qa=-1;ca=ea.pop();)if(V.call(X,ca,++qa,this),ca=ca.children)for(ra=ca.length-1;0<=ra;--ra)ea.push(ca[ra]);return this},find:function(V,X){let ca=-1;for(const ea of this)if(V.call(X,ea,++ca,this))return ea},sum:function(V){return this.eachAfter(function(X){for(var ca=+V(X.data)||0,ea=X.children,ra=ea&&ea.length;0<=--ra;)ca+=ea[ra].value;
X.value=ca})},sort:function(V){return this.eachBefore(function(X){X.children&&X.children.sort(V)})},path:function(V){var X=this;var ca=X;var ea=V;if(ca!==ea){var ra=ca.ancestors(),qa=ea.ancestors(),Ha=null;ca=ra.pop();for(ea=qa.pop();ca===ea;)Ha=ca,ca=ra.pop(),ea=qa.pop();ca=Ha}for(ea=[X];X!==ca;)X=X.parent,ea.push(X);for(X=ea.length;V!==ca;)ea.splice(X,0,V),V=V.parent;return ea},ancestors:function(){for(var V=this,X=[V];V=V.parent;)X.push(V);return X},descendants:function(){return Array.from(this)},
leaves:function(){var V=[];this.eachBefore(function(X){X.children||V.push(X)});return V},links:function(){var V=this,X=[];V.each(function(ca){ca!==V&&X.push({source:ca.parent,target:ca})});return X},copy:function(){return v(this).eachBefore(d)},[Symbol.iterator]:function*(){var V,X=[this],ca;do{var ea=X.reverse();for(X=[];V=ea.pop();)if(yield V,V=V.children){var ra=0;for(ca=V.length;ra<ca;++ra)X.push(V[ra])}}while(X.length)}};var Ta={depth:-1},Xa={};Ea.prototype=Object.create(a.prototype);var Fa=
(1+Math.sqrt(5))/2,va=function ca(X){function ea(ra,qa,Ha,na,Pa){ta(X,ra,qa,Ha,na,Pa)}ea.ratio=function(ra){return ca(1<(ra=+ra)?ra:1)};return ea}(Fa);Fa=function ea(ca){function ra(qa,Ha,na,Pa,cb){if((ab=qa._squarify)&&ab.ratio===ca)for(var ab,Ba,Ga,oa=-1,Ia,Ua=ab.length,eb=qa.value;++oa<Ua;){qa=ab[oa];Ba=qa.children;Ga=qa.value=0;for(Ia=Ba.length;Ga<Ia;++Ga)qa.value+=Ba[Ga].value;qa.dice?q(qa,Ha,na,Pa,eb?na+=(cb-na)*qa.value/eb:cb):kb(qa,Ha,na,eb?Ha+=(Pa-Ha)*qa.value/eb:Pa,cb);eb-=qa.value}else qa._squarify=
ab=ta(ca,qa,Ha,na,Pa,cb),ab.ratio=ca}ra.ratio=function(qa){return ea(1<(qa=+qa)?qa:1)};return ra}(Fa);g.cluster=function(){function ca(na){var Pa,cb=0;na.eachAfter(function(Ia){var Ua=Ia.children;if(Ua){var eb=Ua.reduce(n,0)/Ua.length;Ia.x=eb;Ia.y=1+Ua.reduce(E,0)}else Ia.x=Pa?cb+=ea(Ia,Pa):0,Ia.y=0,Pa=Ia});var ab=O(na),Ba=x(na),Ga=ab.x-ea(ab,Ba)/2,oa=Ba.x+ea(Ba,ab)/2;return na.eachAfter(Ha?function(Ia){Ia.x=(Ia.x-na.x)*ra;Ia.y=(na.y-Ia.y)*qa}:function(Ia){Ia.x=(Ia.x-Ga)/(oa-Ga)*ra;Ia.y=(1-(na.y?
Ia.y/na.y:1))*qa})}var ea=m,ra=1,qa=1,Ha=!1;ca.separation=function(na){return arguments.length?(ea=na,ca):ea};ca.size=function(na){return arguments.length?(Ha=!1,ra=+na[0],qa=+na[1],ca):Ha?null:[ra,qa]};ca.nodeSize=function(na){return arguments.length?(Ha=!0,ra=+na[0],qa=+na[1],ca):Ha?[ra,qa]:null};return ca};g.hierarchy=v;g.pack=function(){function ca(na){na.x=ra/2;na.y=qa/2;ea?na.eachBefore(fa(ea)).eachAfter(ja(Ha,.5)).eachBefore(Z(1)):na.eachBefore(fa(ba)).eachAfter(ja(U,1)).eachAfter(ja(Ha,na.r/
Math.min(ra,qa))).eachBefore(Z(Math.min(ra,qa)/(2*na.r)));return na}var ea=null,ra=1,qa=1,Ha=U;ca.radius=function(na){return arguments.length?(ea=null==na?null:R(na),ca):ea};ca.size=function(na){return arguments.length?(ra=+na[0],qa=+na[1],ca):[ra,qa]};ca.padding=function(na){return arguments.length?(Ha="function"===typeof na?na:ka(+na),ca):Ha};return ca};g.packEnclose=e;g.packSiblings=function(ca){H(ca);return ca};g.partition=function(){function ca(Pa){var cb=Pa.height+1;Pa.x0=Pa.y0=Ha;Pa.x1=ra;
Pa.y1=qa/cb;Pa.eachBefore(ea(qa,cb));na&&Pa.eachBefore(Q);return Pa}function ea(Pa,cb){return function(ab){ab.children&&q(ab,ab.x0,Pa*(ab.depth+1)/cb,ab.x1,Pa*(ab.depth+2)/cb);var Ba=ab.x0,Ga=ab.y0,oa=ab.x1-Ha,Ia=ab.y1-Ha;oa<Ba&&(Ba=oa=(Ba+oa)/2);Ia<Ga&&(Ga=Ia=(Ga+Ia)/2);ab.x0=Ba;ab.y0=Ga;ab.x1=oa;ab.y1=Ia}}var ra=1,qa=1,Ha=0,na=!1;ca.round=function(Pa){return arguments.length?(na=!!Pa,ca):na};ca.size=function(Pa){return arguments.length?(ra=+Pa[0],qa=+Pa[1],ca):[ra,qa]};ca.padding=function(Pa){return arguments.length?
(Ha=+Pa,ca):Ha};return ca};g.stratify=function(){function ca(qa){var Ha=Array.from(qa),na=Ha.length,Pa,cb,ab=new Map;for(Pa=0;Pa<na;++Pa){var Ba=Ha[Pa];var Ga=Ha[Pa]=new a(Ba);if(null!=(cb=ea(Ba,Pa,qa))&&(cb+="")){var oa=Ga.id=cb;ab.set(oa,ab.has(oa)?Xa:Ga)}null!=(cb=ra(Ba,Pa,qa))&&(cb+="")&&(Ga.parent=cb)}for(Pa=0;Pa<na;++Pa)if(Ga=Ha[Pa],cb=Ga.parent){qa=ab.get(cb);if(!qa)throw Error("missing: "+cb);if(qa===Xa)throw Error("ambiguous: "+cb);qa.children?qa.children.push(Ga):qa.children=[Ga];Ga.parent=
qa}else{if(Ia)throw Error("multiple roots");var Ia=Ga}if(!Ia)throw Error("no root");Ia.parent=Ta;Ia.eachBefore(function(Ua){Ua.depth=Ua.parent.depth+1;--na}).eachBefore(f);Ia.parent=null;if(0<na)throw Error("cycle");return Ia}var ea=N,ra=da;ca.id=function(qa){return arguments.length?(ea=R(qa),ca):ea};ca.parentId=function(qa){return arguments.length?(ra=R(qa),ca):ra};return ca};g.tree=function(){function ca(ab){var Ba=$a(ab);Ba.eachAfter(ea);Ba.parent.m=-Ba.z;Ba.eachBefore(ra);if(cb)ab.eachBefore(qa);
else{var Ga=ab,oa=ab,Ia=ab;ab.eachBefore(function(Tb){Tb.x<Ga.x&&(Ga=Tb);Tb.x>oa.x&&(oa=Tb);Tb.depth>Ia.depth&&(Ia=Tb)});Ba=Ga===oa?1:Ha(Ga,oa)/2;var Ua=Ba-Ga.x,eb=na/(oa.x+Ba+Ua),Gb=Pa/(Ia.depth||1);ab.eachBefore(function(Tb){Tb.x=(Tb.x+Ua)*eb;Tb.y=Tb.depth*Gb})}return ab}function ea(ab){var Ba=ab.children,Ga=ab.parent.children,oa=ab.i?Ga[ab.i-1]:null;if(Ba){for(var Ia=0,Ua=0,eb=ab.children,Gb=eb.length,Tb;0<=--Gb;)Tb=eb[Gb],Tb.z+=Ia,Tb.m+=Ia,Ia+=Tb.s+(Ua+=Tb.c);Ba=(Ba[0].z+Ba[Ba.length-1].z)/2;
oa?(ab.z=oa.z+Ha(ab._,oa._),ab.m=ab.z-Ba):ab.z=Ba}else oa&&(ab.z=oa.z+Ha(ab._,oa._));Ba=ab.parent;Ga=ab.parent.A||Ga[0];if(oa){Ua=Ia=ab;eb=Ia.parent.children[0];Gb=Ia.m;Tb=Ua.m;for(var kc=oa.m,bd=eb.m,tc;oa=ua(oa),Ia=wa(Ia),oa&&Ia;){eb=wa(eb);Ua=ua(Ua);Ua.a=ab;tc=oa.z+kc-Ia.z-Gb+Ha(oa._,Ia._);if(0<tc){var Fc=oa.a.parent===ab.parent?oa.a:Ga,mb=ab,dc=tc,Bc=dc/(mb.i-Fc.i);mb.c-=Bc;mb.s+=dc;Fc.c+=Bc;mb.z+=dc;mb.m+=dc;Gb+=tc;Tb+=tc}kc+=oa.m;Gb+=Ia.m;bd+=eb.m;Tb+=Ua.m}oa&&!ua(Ua)&&(Ua.t=oa,Ua.m+=kc-Tb);
Ia&&!wa(eb)&&(eb.t=Ia,eb.m+=Gb-bd,Ga=ab)}Ba.A=Ga}function ra(ab){ab._.x=ab.z+ab.parent.m;ab.m+=ab.parent.m}function qa(ab){ab.x*=na;ab.y=ab.depth*Pa}var Ha=aa,na=1,Pa=1,cb=null;ca.separation=function(ab){return arguments.length?(Ha=ab,ca):Ha};ca.size=function(ab){return arguments.length?(cb=!1,na=+ab[0],Pa=+ab[1],ca):cb?null:[na,Pa]};ca.nodeSize=function(ab){return arguments.length?(cb=!0,na=+ab[0],Pa=+ab[1],ca):cb?[na,Pa]:null};return ca};g.treemap=function(){function ca(Ia){Ia.x0=Ia.y0=0;Ia.x1=
Ha;Ia.y1=na;Ia.eachBefore(ea);Pa=[0];qa&&Ia.eachBefore(Q);return Ia}function ea(Ia){var Ua=Pa[Ia.depth],eb=Ia.x0+Ua,Gb=Ia.y0+Ua,Tb=Ia.x1-Ua,kc=Ia.y1-Ua;Tb<eb&&(eb=Tb=(eb+Tb)/2);kc<Gb&&(Gb=kc=(Gb+kc)/2);Ia.x0=eb;Ia.y0=Gb;Ia.x1=Tb;Ia.y1=kc;Ia.children&&(Ua=Pa[Ia.depth+1]=cb(Ia)/2,eb+=oa(Ia)-Ua,Gb+=ab(Ia)-Ua,Tb-=Ba(Ia)-Ua,kc-=Ga(Ia)-Ua,Tb<eb&&(eb=Tb=(eb+Tb)/2),kc<Gb&&(Gb=kc=(Gb+kc)/2),ra(Ia,eb,Gb,Tb,kc))}var ra=va,qa=!1,Ha=1,na=1,Pa=[0],cb=U,ab=U,Ba=U,Ga=U,oa=U;ca.round=function(Ia){return arguments.length?
(qa=!!Ia,ca):qa};ca.size=function(Ia){return arguments.length?(Ha=+Ia[0],na=+Ia[1],ca):[Ha,na]};ca.tile=function(Ia){return arguments.length?(ra=R(Ia),ca):ra};ca.padding=function(Ia){return arguments.length?ca.paddingInner(Ia).paddingOuter(Ia):ca.paddingInner()};ca.paddingInner=function(Ia){return arguments.length?(cb="function"===typeof Ia?Ia:ka(+Ia),ca):cb};ca.paddingOuter=function(Ia){return arguments.length?ca.paddingTop(Ia).paddingRight(Ia).paddingBottom(Ia).paddingLeft(Ia):ca.paddingTop()};
ca.paddingTop=function(Ia){return arguments.length?(ab="function"===typeof Ia?Ia:ka(+Ia),ca):ab};ca.paddingRight=function(Ia){return arguments.length?(Ba="function"===typeof Ia?Ia:ka(+Ia),ca):Ba};ca.paddingBottom=function(Ia){return arguments.length?(Ga="function"===typeof Ia?Ia:ka(+Ia),ca):Ga};ca.paddingLeft=function(Ia){return arguments.length?(oa="function"===typeof Ia?Ia:ka(+Ia),ca):oa};return ca};g.treemapBinary=function(ca,ea,ra,qa,Ha){function na(oa,Ia,Ua,eb,Gb,Tb,kc){if(oa>=Ia-1)oa=Pa[oa],
oa.x0=eb,oa.y0=Gb,oa.x1=Tb,oa.y1=kc;else{for(var bd=Ga[oa],tc=Ua/2+bd,Fc=oa+1,mb=Ia-1;Fc<mb;){var dc=Fc+mb>>>1;Ga[dc]<tc?Fc=dc+1:mb=dc}tc-Ga[Fc-1]<Ga[Fc]-tc&&oa+1<Fc&&--Fc;bd=Ga[Fc]-bd;tc=Ua-bd;Tb-eb>kc-Gb?(Ua=Ua?(eb*tc+Tb*bd)/Ua:Tb,na(oa,Fc,bd,eb,Gb,Ua,kc),na(Fc,Ia,tc,Ua,Gb,Tb,kc)):(Ua=Ua?(Gb*tc+kc*bd)/Ua:kc,na(oa,Fc,bd,eb,Gb,Tb,Ua),na(Fc,Ia,tc,eb,Ua,Tb,kc))}}var Pa=ca.children,cb,ab=Pa.length,Ba,Ga=Array(ab+1);for(Ga[0]=Ba=cb=0;cb<ab;++cb)Ga[cb+1]=Ba+=Pa[cb].value;na(0,ab,ca.value,ea,ra,qa,Ha)};
g.treemapDice=q;g.treemapResquarify=Fa;g.treemapSlice=kb;g.treemapSliceDice=function(ca,ea,ra,qa,Ha){(ca.depth&1?kb:q)(ca,ea,ra,qa,Ha)};g.treemapSquarify=va;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(26),B(14),B(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.d3))})(this,function(g,m,n,E){function O(G,z,K){const H={};G.each(R=>{const U=R.data;K(U)&&(H[z(U)]=R)});G.lookup=H;return G}function x(G){m.Transform.call(this,null,G)}function y(){function G(R,
U){if(U>=K.length)return R;const ka=R.length,ba=K[U++],fa={},ja={};let Z=-1,Q,q,N;for(;++Z<ka;)Q=ba(q=R[Z])+"",(N=fa[Q])?N.push(q):fa[Q]=[q];for(Q in fa)ja[Q]=G(fa[Q],U);return ja}function z(R,U){if(++U>K.length)return R;const ka=[];for(const ba in R)ka.push({key:ba,values:z(R[ba],U)});return ka}const K=[],H={entries:R=>z(G(R,0),0),key:R=>(K.push(R),H)};return H}function v(G){m.Transform.call(this,null,G)}function l(G,z,K){for(let H,R=0,U=z.length;R<U;++R)if(H=z[R],H in K)G[H](K[H])}function k(G){v.call(this,
G)}function d(G){v.call(this,G)}function f(G){m.Transform.call(this,null,G)}function a(G){v.call(this,G)}function e(G){m.Transform.call(this,[],G)}function p(G){v.call(this,G)}x.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const A=G=>G.values;n.inherits(x,m.Transform,{transform(G,z){z.source||n.error("Nest transform requires an upstream data source.");var K=G.generate,H=G.modified(),R=z.clone(),U=this.value;
if(!U||H||z.changed())U&&U.each(ka=>{ka.children&&m.isTuple(ka.data)&&R.rem.push(ka.data)}),this.value=U=E.hierarchy({values:n.array(G.keys).reduce((ka,ba)=>{ka.key(ba);return ka},y()).entries(R.source)},A),K&&U.each(ka=>{ka.children&&(ka=m.ingest(ka.data),R.add.push(ka),R.source.push(ka))}),O(U,m.tupleid,m.tupleid);R.source.root=U;return R}});const C=(G,z)=>G.parent===z.parent?1:2;n.inherits(v,m.Transform,{transform(G,z){z.source&&z.source.root||n.error(this.constructor.name+" transform requires a backing tree data source.");
const K=this.layout(G.method),H=this.fields,R=z.source.root,U=G.as||H;G.field?R.sum(G.field):R.count();G.sort&&R.sort(m.stableCompare(G.sort,ka=>ka.data));l(K,this.params,G);K.separation&&K.separation(!1!==G.separation?C:n.one);try{this.value=K(R)}catch(ka){n.error(ka)}R.each(ka=>{{const ba=ka.data,fa=H.length-1;for(let ja=0;ja<fa;++ja)ba[U[ja]]=ka[H[ja]];ba[U[fa]]=ka.children?ka.children.length:0}});return z.reflow(G.modified()).modifies(U).modifies("leaf")}});var D=["x","y","r","depth","children"];
k.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(k,v,{layout:E.pack,params:["radius","size","padding"],fields:D});D="x0 y0 x1 y1 depth children".split(" ");d.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(d,v,{layout:E.partition,params:["size","round","padding"],fields:D});f.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};n.inherits(f,m.Transform,{transform(G,
z){z.source||n.error("Stratify transform requires an upstream data source.");let K=this.value;const H=G.modified(),R=z.fork(z.ALL).materialize(z.SOURCE);z=!K||H||z.changed(z.ADD_REM)||z.modified(G.key.fields)||z.modified(G.parentKey.fields);R.source=R.source.slice();z&&(K=R.source.length?O(E.stratify().id(G.key).parentId(G.parentKey)(R.source),G.key,n.truthy):O(E.stratify()([{}]),G.key,G.key));R.source.root=this.value=K;return R}});const P={tidy:E.tree,cluster:E.cluster};D=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(a,v,{layout(G){G=G||"tidy";if(n.hasOwnProperty(P,G))return P[G]();n.error("Unrecognized Tree layout method: "+
G)},params:["size","nodeSize"],fields:D});e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};n.inherits(e,m.Transform,{transform(G,z){G=this.value;const K=z.source&&z.source.root,H=z.fork(z.NO_SOURCE),R={};K||n.error("TreeLinks transform requires a tree data source.");z.changed(z.ADD_REM)?(H.rem=G,z.visit(z.SOURCE,U=>R[m.tupleid(U)]=1),K.each(U=>{const ka=U.data;(U=U.parent&&U.parent.data)&&R[m.tupleid(ka)]&&R[m.tupleid(U)]&&H.add.push(m.ingest({source:U,target:ka}))}),
this.value=H.add):z.changed(z.MOD)&&(z.visit(z.MOD,U=>R[m.tupleid(U)]=1),G.forEach(U=>{(R[m.tupleid(U.source)]||R[m.tupleid(U.target)])&&H.mod.push(U)}));return H}});const L={binary:E.treemapBinary,dice:E.treemapDice,slice:E.treemapSlice,slicedice:E.treemapSliceDice,squarify:E.treemapSquarify,resquarify:E.treemapResquarify};D="x0 y0 x1 y1 depth children".split(" ");p.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};n.inherits(p,v,{layout(){const G=E.treemap();G.ratio=z=>{const K=G.tile();K.ratio&&G.tile(K.ratio(z))};G.method=z=>{n.hasOwnProperty(L,z)?G.tile(L[z]):n.error("Unrecognized Treemap layout method: "+z)};return G},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:D});g.nest=x;g.pack=
k;g.partition=d;g.stratify=f;g.tree=a;g.treelinks=e;g.treemap=p;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(31),B(26),B(36),B(14)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.vega,g.vega))})(this,function(g,m,n,E,O){function x(Z,Q){const q=Z.bitmap();(Q||[]).forEach(N=>q.set(Z(N.boundary[0]),Z(N.boundary[3])));return[q,
void 0]}function y(Z,Q,q,N){const da=Z.width,aa=Z.height,wa=q||N,ua=m.canvas(da,aa).getContext("2d");Q.forEach(Fa=>v(ua,Fa,wa));Q=new Uint32Array(ua.getImageData(0,0,da,aa).data.buffer);q=Z.bitmap();const Ea=wa&&Z.bitmap();let $a,kb,ta,Ta,Xa;for(kb=0;kb<aa;++kb)for($a=0;$a<da;++$a)if(Xa=Q[kb*da+$a]&4278190080)ta=Z($a),Ta=Z(kb),N||q.set(ta,Ta),wa&&Xa^268435456&&Ea.set(ta,Ta);return[q,Ea]}function v(Z,Q,q){if(Q.length){var N=Q[0].mark.marktype;"group"===N?Q.forEach(da=>{da.items.forEach(aa=>v(Z,aa.items,
q))}):E.Marks[N].draw(Z,{items:q?Q.map(l):Q})}}function l(Z){Z=n.rederive(Z,{});Z.stroke&&(Z.strokeOpacity=1);Z.fill&&(Z.fillOpacity=.0625,Z.stroke="#000",Z.strokeOpacity=1,Z.strokeWidth=2);return Z}function k(Z,Q){const q=new Uint32Array(~~((Z*Q+32)/32));return{array:q,get:(N,da)=>{N=da*Z+N;return q[N>>>5]&1<<(N&31)},set:(N,da)=>{N=da*Z+N;q[N>>>5]|=1<<(N&31)},clear:(N,da)=>{N=da*Z+N;q[N>>>5]&=~(1<<(N&31))},getRange:(N,da,aa,wa)=>{let ua,Ea,$a;for(;wa>=da;--wa){var kb=wa*Z+N;ua=wa*Z+aa;Ea=kb>>>5;
$a=ua>>>5;if(Ea===$a){if(q[Ea]&G[kb&31]&z[(ua&31)+1])return!0}else{if(q[Ea]&G[kb&31]||q[$a]&z[(ua&31)+1])return!0;for(kb=Ea+1;kb<$a;++kb)if(q[kb])return!0}}return!1},setRange:(N,da,aa,wa)=>{let ua,Ea,$a;for(;da<=wa;++da){var kb=da*Z+N;ua=da*Z+aa;Ea=kb>>>5;$a=ua>>>5;if(Ea===$a)q[Ea]|=G[kb&31]&z[(ua&31)+1];else for(q[Ea]|=G[kb&31],q[$a]|=z[(ua&31)+1],kb=Ea+1;kb<$a;++kb)q[kb]|=4294967295}},clearRange:(N,da,aa,wa)=>{let ua,Ea,$a;for(;da<=wa;++da){var kb=da*Z+N;ua=da*Z+aa;Ea=kb>>>5;$a=ua>>>5;if(Ea===$a)q[Ea]&=
z[kb&31]|G[(ua&31)+1];else for(q[Ea]&=z[kb&31],q[$a]&=G[(ua&31)+1],kb=Ea+1;kb<$a;++kb)q[kb]&=0}},outOfBounds:(N,da,aa,wa)=>0>N||0>da||wa>=Q||aa>=Z}}function d(Z,Q,q){const N=Math.max(1,Math.sqrt(Z*Q/1E6)),da=~~((Z+2*q+N)/N),aa=~~((Q+2*q+N)/N),wa=ua=>~~((ua+q)/N);wa.invert=ua=>ua*N-q;wa.bitmap=()=>k(da,aa);wa.ratio=N;wa.padding=q;wa.width=Z;wa.height=Q;return wa}function f(Z,Q,q,N,da,aa){q/=2;return 0>Z-q||Z+q>da||0>Q-(q=N/2)||Q+q>aa}function a(Z,Q,q,N,da,aa,wa,ua){da=da*aa/(2*N);N=Z(Q-da);Q=Z(Q+da);
da=Z(q-(aa/=2));Z=Z(q+aa);return wa.outOfBounds(N,da,Q,Z)||wa.getRange(N,da,Q,Z)||ua&&ua.getRange(N,da,Q,Z)}function e(Z,Q,q,N){const da=Z.width,aa=Z.height,wa=Q[0],ua=Q[1],Ea=N.length;return function($a){const kb=$a.boundary,ta=$a.datum.fontSize;if(0>kb[2]||0>kb[5]||kb[0]>da||kb[3]>aa)return!1;let Ta=0,Xa,Fa;let va,V;let X;let ca;let ea,ra;for(let Fc=0;Fc<Ea;++Fc){Xa=(q[Fc]&3)-1;Fa=(q[Fc]>>>2&3)-1;var qa=0===Xa&&0===Fa||0>N[Fc];var Ha=Xa&&Fa?Math.SQRT1_2:1;va=0>N[Fc]?-1:1;V=kb[1+Xa]+N[Fc]*Xa*Ha;
ca=kb[4+Fa]+va*ta*Fa/2+N[Fc]*Fa*Ha;Ha=ca-ta/2;X=ca+ta/2;var na=Z(V);ea=Z(Ha);ra=Z(X);if(!Ta){var Pa=na;var cb=ea;var ab=ra;var Ba=wa,Ga=ua,oa=V,Ia=V,Ua=Ha,eb=X,Gb=kb,Tb=qa;if(!Ba.outOfBounds(Pa,cb,na,ab)&&(Tb&&Ga?!Ga.getRange(Pa,cb,na,ab)&&Gb[0]<=oa&&Ia<=Gb[2]&&Gb[3]<=Ua&&eb<=Gb[5]:!Ba.getRange(Pa,cb,na,ab)))Ta=E.textMetrics.width($a.datum,$a.datum.text);else continue}cb=V+va*Ta*Xa/2;V=cb-Ta/2;Pa=cb+Ta/2;na=Z(V);ab=Z(Pa);Ba=na;Ga=ab;oa=ea;Ia=ra;Ua=wa;eb=ua;Gb=V;Tb=Pa;var kc=Ha,bd=X,tc=kb;if(!Ua.outOfBounds(Ba,
oa,Ga,Ia)&&(qa&&eb?!eb.getRange(Ba,oa,Ga,Ia)&&tc[0]<=Gb&&Tb<=tc[2]&&tc[3]<=kc&&bd<=tc[5]:!Ua.getRange(Ba,oa,Ga,Ia)))return $a.x=Xa?0>Xa*va?Pa:V:cb,$a.y=Fa?0>Fa*va?X:Ha:ca,$a.align=R[Xa*va+1],$a.baseline=U[Fa*va+1],wa.setRange(na,ea,ab,ra),!0}return!1}}function p(Z,Q,q,N,da,aa,wa,ua,Ea,$a,kb){if(!Z.length)return Z;var ta=Math.max(N.length,da.length);N=A(N,ta);da=C(da,ta);ta=D(Z[0].datum);const Ta="group"===ta&&Z[0].datum.items[Ea].marktype,Xa="area"===Ta,Fa=P(ta,Ta,ua,Ea);Q=d(Q[0],Q[1],$a);$a=Xa&&
"naive"===kb;ua=Z.map(X=>({datum:X,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Fa(X)}));if(!$a){q&&ua.sort((X,ca)=>q(X.datum,ca.datum));var va=!1;for($a=0;$a<da.length&&!va;++$a)va=5===da[$a]||0>N[$a];ta&&(wa||Xa)&&(aa=[Z.map(X=>X.datum)].concat(aa));va=aa.length?y(Q,aa,va,Xa):x(Q,wa&&ua)}const V=Xa?ba[kb](Q,va,wa,Ea):e(Q,va,da,N);ua.forEach(X=>X.opacity=+V(X));return ua}function A(Z,Q){const q=new Float64Array(Q),N=Z.length;for(let da=0;da<N;++da)q[da]=Z[da]||0;for(Z=N;Z<Q;++Z)q[Z]=
q[N-1];return q}function C(Z,Q){const q=new Int8Array(Q),N=Z.length;for(let da=0;da<N;++da)q[da]|=ka[Z[da]];for(Z=N;Z<Q;++Z)q[Z]=q[N-1];return q}function D(Z){return Z&&Z.mark&&Z.mark.marktype}function P(Z,Q,q,N){const da=aa=>[aa.x,aa.x,aa.x,aa.y,aa.y,aa.y];return Z?"line"===Z||"area"===Z?aa=>da(aa.datum):"line"===Q?aa=>{aa=aa.datum.items[N].items;return da(aa.length?aa["start"===q?0:aa.length-1]:{x:NaN,y:NaN})}:aa=>{aa=aa.datum.bounds;return[aa.x1,(aa.x1+aa.x2)/2,aa.x2,aa.y1,(aa.y1+aa.y2)/2,aa.y2]}:
da}function L(Z){n.Transform.call(this,null,Z)}const G=new Uint32Array(33),z=new Uint32Array(33);z[0]=0;G[0]=~z[0];for(let Z=1;32>=Z;++Z)z[Z]=z[Z-1]<<1|1,G[Z]=~z[Z];const K=[-1,-1,1,1],H=[-1,1,-1,1],R=["right","center","left"],U=["bottom","middle","top"],ka={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ba={naive:function(Z,Q,q,N){const da=Z.width,aa=Z.height;return function(wa){const ua=wa.datum.datum.items[N].items,Ea=ua.length,$a=wa.datum.fontSize,
kb=E.textMetrics.width(wa.datum,wa.datum.text);let ta=0;let Ta,Xa,Fa,va,V;for(let ca=0;ca<Ea;++ca){var X=ua[ca].x;Xa=ua[ca].y;Ta=void 0===ua[ca].x2?X:ua[ca].x2;Fa=void 0===ua[ca].y2?Xa:ua[ca].y2;va=(X+Ta)/2;V=(Xa+Fa)/2;X=Math.abs(Ta-X+Fa-Xa);X>=ta&&(ta=X,wa.x=va,wa.y=V)}va=kb/2;V=$a/2;X=wa.x-va;Ta=wa.x+va;Xa=wa.y-V;Fa=wa.y+V;wa.align="center";0>X&&Ta<=da?wa.align="left":0<=X&&da<Ta&&(wa.align="right");wa.baseline="middle";0>Xa&&Fa<=aa?wa.baseline="top":0<=Xa&&aa<Fa&&(wa.baseline="bottom");return!0}},
"reduced-search":function(Z,Q,q,N){function da($a,kb,ta,Ta,Xa){$a=Z.invert($a);kb=Z.invert(kb);let Fa=ta,va=wa,V;if(!f($a,kb,Ta,Xa,aa,wa)&&!a(Z,$a,kb,Xa,Ta,Fa,ua,Ea)&&!a(Z,$a,kb,Xa,Ta,Xa,ua,null)){for(;1<=va-Fa;)V=(Fa+va)/2,a(Z,$a,kb,Xa,Ta,V,ua,Ea)?va=V:Fa=V;if(Fa>ta)return[$a,kb,Fa,!0]}}const aa=Z.width,wa=Z.height,ua=Q[0],Ea=Q[1];return function($a){const kb=$a.datum.datum.items[N].items,ta=kb.length,Ta=$a.datum.fontSize,Xa=E.textMetrics.width($a.datum,$a.datum.text);let Fa=q?Ta:0,va=!1,V=!1,X=
0;let ca;let ea;let ra,qa,Ha,na,Pa,cb,ab,Ba;for(let Ua=0;Ua<ta;++Ua){var Ga=kb[Ua].x;var oa=kb[Ua].y;ca=void 0===kb[Ua].x2?Ga:kb[Ua].x2;ea=void 0===kb[Ua].y2?oa:kb[Ua].y2;if(Ga>ca){var Ia=Ga;Ga=ca;ca=Ia}oa>ea&&(Ia=oa,oa=ea,ea=Ia);qa=Z(Ga);na=Z(ca);Ha=~~((qa+na)/2);Pa=Z(oa);ab=Z(ea);cb=~~((Pa+ab)/2);for(Ia=Ha;Ia>=qa;--Ia)for(ra=cb;ra>=Pa;--ra)(Ba=da(Ia,ra,Fa,Xa,Ta))&&([$a.x,$a.y,Fa,va]=Ba);for(Ia=Ha;Ia<=na;++Ia)for(ra=cb;ra<=ab;++ra)(Ba=da(Ia,ra,Fa,Xa,Ta))&&([$a.x,$a.y,Fa,va]=Ba);va||q||(Ia=Math.abs(ca-
Ga+ea-oa),Ga=(Ga+ca)/2,oa=(oa+ea)/2,Ia>=X&&!f(Ga,oa,Xa,Ta,aa,wa)&&!a(Z,Ga,oa,Ta,Xa,Ta,ua,null)&&(X=Ia,$a.x=Ga,$a.y=oa,V=!0))}return va||V?(Ga=Xa/2,oa=Ta/2,ua.setRange(Z($a.x-Ga),Z($a.y-oa),Z($a.x+Ga),Z($a.y+oa)),$a.align="center",$a.baseline="middle",!0):!1}},floodfill:function(Z,Q,q,N){const da=Z.width,aa=Z.height,wa=Q[0],ua=Q[1],Ea=Z.bitmap();return function($a){const kb=$a.datum.datum.items[N].items,ta=kb.length,Ta=$a.datum.fontSize,Xa=E.textMetrics.width($a.datum,$a.datum.text),Fa=[];let va=q?
Ta:0,V=!1,X=!1,ca=0,ea,ra,qa,Ha,na,Pa;var cb;for(let Ga=0;Ga<ta;++Ga){ea=kb[Ga].x;qa=kb[Ga].y;ra=void 0===kb[Ga].x2?ea:kb[Ga].x2;Ha=void 0===kb[Ga].y2?qa:kb[Ga].y2;for(Fa.push([Z((ea+ra)/2),Z((qa+Ha)/2)]);Fa.length;)if([ab,Ba]=Fa.pop(),!(wa.get(ab,Ba)||ua.get(ab,Ba)||Ea.get(ab,Ba))){Ea.set(ab,Ba);for(cb=0;4>cb;++cb)na=ab+K[cb],Pa=Ba+H[cb],Ea.outOfBounds(na,Pa,na,Pa)||Fa.push([na,Pa]);na=Z.invert(ab);Pa=Z.invert(Ba);var ab=va;var Ba=aa;if(!f(na,Pa,Xa,Ta,da,aa)&&!a(Z,na,Pa,Ta,Xa,ab,wa,ua)&&!a(Z,na,
Pa,Ta,Xa,Ta,wa,null)){for(;1<=Ba-ab;)cb=(ab+Ba)/2,a(Z,na,Pa,Ta,Xa,cb,wa,ua)?Ba=cb:ab=cb;ab>va&&($a.x=na,$a.y=Pa,va=ab,V=!0)}}V||q||(ab=Math.abs(ra-ea+Ha-qa),na=(ea+ra)/2,Pa=(qa+Ha)/2,ab>=ca&&!f(na,Pa,Xa,Ta,da,aa)&&!a(Z,na,Pa,Ta,Xa,Ta,wa,null)&&(ca=ab,$a.x=na,$a.y=Pa,X=!0))}return V||X?(na=Xa/2,Pa=Ta/2,wa.setRange(Z($a.x-na),Z($a.y-Pa),Z($a.x+na),Z($a.y+Pa)),$a.align="center",$a.baseline="middle",!0):!1}}},fa=["x","y","opacity","align","baseline"],ja="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
L.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ja},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:fa.length,default:fa}]};O.inherits(L,n.Transform,{transform(Z,Q){function q(aa){aa=Z[aa];return O.isFunction(aa)&&Q.modified(aa.fields)}const N=Z.modified();if(N||Q.changed(Q.ADD_REM)||q("sort")){Z.size&&2===Z.size.length||O.error("Size parameter should be specified as a [width, height] array.");var da=Z.as||fa;p(Q.materialize(Q.SOURCE).source,Z.size,Z.sort,O.array(Z.offset||1),O.array(Z.anchor||ja),Z.avoidMarks||[],!1===Z.avoidBaseMark?
!1:!0,Z.lineAnchor||"end",Z.markIndex||0,Z.padding||0,Z.method||"naive").forEach(aa=>{const wa=aa.datum;wa[da[0]]=aa.x;wa[da[1]]=aa.y;wa[da[2]]=aa.opacity;wa[da[3]]=aa.align;wa[da[4]]=aa.baseline});return Q.reflow(N).modifies(da)}}});g.label=L;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(27),B(26),B(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega))})(this,function(g,m,n,E){function O(l,k){var d=[],f=function(P){return P(A)},a;if(null==k)d.push(l);else{var e={};var p=0;for(a=l.length;p<a;++p){var A=l[p];var C=k.map(f);var D=e[C];
D||(e[C]=D=[],D.dims=C,d.push(D));D.push(A)}}return d}function x(l){n.Transform.call(this,null,l)}function y(l){n.Transform.call(this,null,l)}x.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};E.inherits(x,n.Transform,{transform(l,k){const d=k.fork(k.NO_SOURCE|k.NO_FIELDS);if(!this.value||k.changed()||
l.modified()){k=k.materialize(k.SOURCE).source;k=O(k,l.groupby);const f=(l.groupby||[]).map(E.accessorName),a=f.length,e=l.as||[E.accessorName(l.x),E.accessorName(l.y)],p=[];k.forEach(A=>{m.regressionLoess(A,l.x,l.y,l.bandwidth||.3).forEach(C=>{const D={};for(let P=0;P<a;++P)D[f[P]]=A.dims[P];D[e[0]]=C[0];D[e[1]]=C[1];p.push(n.ingest(D))})});this.value&&(d.rem=this.value);this.value=d.add=d.source=p}return d}});const v={linear:m.regressionLinear,log:m.regressionLog,exp:m.regressionExp,pow:m.regressionPow,
quad:m.regressionQuad,poly:m.regressionPoly};y.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(v)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};E.inherits(y,n.Transform,{transform(l,k){const d=
k.fork(k.NO_SOURCE|k.NO_FIELDS);if(!this.value||k.changed()||l.modified()){var f=k.materialize(k.SOURCE).source;f=O(f,l.groupby);const a=(l.groupby||[]).map(E.accessorName),e=l.method||"linear",p=l.order||3,A="poly"===e?p:"quad"===e?2:1,C=l.as||[E.accessorName(l.x),E.accessorName(l.y)],D=v[e],P=[];let L=l.extent;E.hasOwnProperty(v,e)||E.error("Invalid regression method: "+e);null!=L&&"log"===e&&0>=L[0]&&(k.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),L=null);f.forEach(G=>
{if(G.length<=A)k.dataflow.warn("Skipping regression with more parameters than data points.");else{var z=D(G,l.x,l.y,p);if(l.params)P.push(n.ingest({keys:G.dims,coef:z.coef,rSquared:z.rSquared}));else{var K=L||E.extent(G,l.x),H=R=>{const U={};for(let ka=0;ka<a.length;++ka)U[a[ka]]=G.dims[ka];U[C[0]]=R[0];U[C[1]]=R[1];P.push(n.ingest(U))};"linear"===e?K.forEach(R=>H([R,z.predict(R)])):m.sampleCurve(z.predict,K,25,200).forEach(H)}}});this.value&&(d.rem=this.value);this.value=d.add=d.source=P}return d}});
g.loess=x;g.regression=y;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g=g||self,m(g.d3=g.d3||{}))})(this,function(g){function m(H,R){H/=Math.abs(H)+Math.abs(R);return(0<R?3-H:1+H)/4}function n(H,R,U,ka){H-=U;R-=ka;return H*H+R*R}function E(H,R,U,ka,ba,fa){ka=(ka-R)*(ba-H);H=(U-H)*(fa-R);return Math.abs(ka-H)>=3.3306690738754716E-16*Math.abs(ka+H)?ka-H:0}function O(H,R,U,ka,ba,fa){return 0>(E(ba,fa,H,R,
U,ka)||E(H,R,U,ka,ba,fa)||E(U,ka,ba,fa,H,R))}function x(H,R,U,ka){if(20>=ka-U)for(var ba=U+1;ba<=ka;ba++){for(var fa=H[ba],ja=R[fa],Z=ba-1;Z>=U&&R[H[Z]]>ja;)H[Z+1]=H[Z--];H[Z+1]=fa}else{ba=U+1;fa=ka;y(H,U+ka>>1,ba);R[H[U]]>R[H[ka]]&&y(H,U,ka);R[H[ba]]>R[H[ka]]&&y(H,ba,ka);R[H[U]]>R[H[ba]]&&y(H,U,ba);ja=H[ba];for(Z=R[ja];;){do ba++;while(R[H[ba]]<Z);do fa--;while(R[H[fa]]>Z);if(fa<ba)break;y(H,ba,fa)}H[U+1]=H[fa];H[fa]=ja;ka-ba+1>=fa-U?(x(H,R,ba,ka),x(H,R,U,fa-1)):(x(H,R,U,fa-1),x(H,R,ba,ka))}}function y(H,
R,U){const ka=H[R];H[R]=H[U];H[U]=ka}function v(H){return H[0]}function l(H){return H[1]}function k(H){return H[0]}function d(H){return H[1]}function f(H){const {triangles:R,coords:U}=H;for(H=0;H<R.length;H+=3){const ka=2*R[H],ba=2*R[H+1],fa=2*R[H+2];if(1E-10<(U[fa]-U[ka])*(U[ba+1]-U[ka+1])-(U[ba]-U[ka])*(U[fa+1]-U[ka+1]))return!1}return!0}function a(H,R,U){return[H+Math.sin(H+R)*U,R+Math.cos(H-R)*U]}function*e(H,R,U,ka){let ba=0;for(const fa of H)yield R.call(ka,fa,ba,H),yield U.call(ka,fa,ba,H),
++ba}const p=Math.pow(2,-52),A=new Uint32Array(512);class C{static from(H,R=v,U=l){const ka=H.length,ba=new Float64Array(2*ka);for(let fa=0;fa<ka;fa++){const ja=H[fa];ba[2*fa]=R(ja);ba[2*fa+1]=U(ja)}return new C(ba)}constructor(H){const R=H.length>>1;if(0<R&&"number"!==typeof H[0])throw Error("Expected coords to contain numbers.");this.coords=H;H=Math.max(2*R-5,0);this._triangles=new Uint32Array(3*H);this._halfedges=new Int32Array(3*H);this._hashSize=Math.ceil(Math.sqrt(R));this._hullPrev=new Uint32Array(R);
this._hullNext=new Uint32Array(R);this._hullTri=new Uint32Array(R);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(R);this._dists=new Float64Array(R);this.update()}update(){const {coords:H,_hullPrev:R,_hullNext:U,_hullTri:ka,_hullHash:ba}=this;var fa=H.length>>1,ja=Infinity,Z=Infinity,Q=-Infinity,q=-Infinity;for(var N=0;N<fa;N++){var da=H[2*N];var aa=H[2*N+1];da<ja&&(ja=da);aa<Z&&(Z=aa);da>Q&&(Q=da);aa>q&&(q=aa);this._ids[N]=N}Q=(ja+Q)/2;Z=(Z+q)/2;ja=Infinity;for(q=
0;q<fa;q++)if(N=n(Q,Z,H[2*q],H[2*q+1]),N<ja){var wa=q;ja=N}Z=H[2*wa];q=H[2*wa+1];ja=Infinity;for(Q=0;Q<fa;Q++)if(Q!==wa&&(N=n(Z,q,H[2*Q],H[2*Q+1]),N<ja&&0<N)){var ua=Q;ja=N}ja=H[2*ua];Q=H[2*ua+1];aa=Infinity;for(N=0;N<fa;N++)if(N!==wa&&N!==ua){da=ja-Z;var Ea=Q-q;var $a=H[2*N]-Z;var kb=H[2*N+1]-q,ta=da*da+Ea*Ea,Ta=$a*$a+kb*kb,Xa=.5/(da*kb-Ea*$a);Ea=(kb*ta-Ea*Ta)*Xa;da=(da*Ta-$a*ta)*Xa;da=Ea*Ea+da*da;if(da<aa){var Fa=N;aa=da}}N=H[2*Fa];da=H[2*Fa+1];if(Infinity===aa){for(wa=0;wa<fa;wa++)this._dists[wa]=
H[2*wa]-H[0]||H[2*wa+1]-H[1];x(this._ids,this._dists,0,fa-1);wa=new Uint32Array(fa);ua=0;for(let va=0,V=-Infinity;va<fa;va++)Fa=this._ids[va],this._dists[Fa]>V&&(wa[ua++]=Fa,V=this._dists[Fa]);this.hull=wa.subarray(0,ua);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{O(Z,q,ja,Q,N,da)&&(aa=ua,$a=ja,ta=Q,ua=Fa,ja=N,Q=da,Fa=aa,N=$a,da=ta);$a=ja-Z;aa=Q-q;ta=N-Z;kb=da-q;Ta=$a*$a+aa*aa;Xa=ta*ta+kb*kb;Ea=.5/($a*kb-aa*ta);aa=Z+(kb*Ta-aa*Xa)*Ea;$a=q+($a*Xa-ta*Ta)*Ea;this._cx=aa;this._cy=
$a;for(ta=0;ta<fa;ta++)this._dists[ta]=n(H[2*ta],H[2*ta+1],aa,$a);x(this._ids,this._dists,0,fa-1);this._hullStart=wa;fa=3;U[wa]=R[Fa]=ua;U[ua]=R[wa]=Fa;U[Fa]=R[ua]=wa;ka[wa]=0;ka[ua]=1;ka[Fa]=2;ba.fill(-1);ba[this._hashKey(Z,q)]=wa;ba[this._hashKey(ja,Q)]=ua;ba[this._hashKey(N,da)]=Fa;this.trianglesLen=0;this._addTriangle(wa,ua,Fa,-1,-1,-1);for(let va=0,V,X;va<this._ids.length;va++){Z=this._ids[va];q=H[2*Z];ja=H[2*Z+1];if(0<va&&Math.abs(q-V)<=p&&Math.abs(ja-X)<=p)continue;V=q;X=ja;if(Z===wa||Z===
ua||Z===Fa)continue;Q=0;for(let ea=0,ra=this._hashKey(q,ja);ea<this._hashSize&&(Q=ba[(ra+ea)%this._hashSize],-1===Q||Q===U[Q]);ea++);N=Q=R[Q];let ca;for(;ca=U[N],!O(q,ja,H[2*N],H[2*N+1],H[2*ca],H[2*ca+1]);)if(N=ca,N===Q){N=-1;break}if(-1!==N){da=this._addTriangle(N,Z,U[N],-1,-1,ka[N]);ka[Z]=this._legalize(da+2);ka[N]=da;fa++;for(aa=U[N];ca=U[aa],O(q,ja,H[2*aa],H[2*aa+1],H[2*ca],H[2*ca+1]);)da=this._addTriangle(aa,Z,ca,ka[Z],-1,ka[aa]),ka[Z]=this._legalize(da+2),U[aa]=aa,fa--,aa=ca;if(N===Q)for(;ca=
R[N],O(q,ja,H[2*ca],H[2*ca+1],H[2*N],H[2*N+1]);)da=this._addTriangle(ca,Z,N,-1,ka[N],ka[ca]),this._legalize(da+2),ka[ca]=da,U[N]=N,fa--,N=ca;this._hullStart=R[Z]=N;U[N]=R[aa]=Z;U[Z]=aa;ba[this._hashKey(q,ja)]=Z;ba[this._hashKey(H[2*N],H[2*N+1])]=N}}this.hull=new Uint32Array(fa);for(let va=0,V=this._hullStart;va<fa;va++)this.hull[va]=V,V=U[V];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(H,R){return Math.floor(m(H-
this._cx,R-this._cy)*this._hashSize)%this._hashSize}_legalize(H){const {_triangles:R,_halfedges:U,coords:ka}=this;let ba=0;for(var fa;;){const wa=U[H];var ja=H-H%3;fa=ja+(H+2)%3;if(-1===wa){if(0===ba)break;H=A[--ba];continue}const ua=wa-wa%3,Ea=ua+(wa+2)%3;var Z=R[fa],Q=R[H],q=R[ja+(H+1)%3];ja=R[Ea];{var N=ka[2*ja],da=ka[2*ja+1];var aa=ka[2*Z]-N;const $a=ka[2*Z+1]-da,kb=ka[2*Q]-N;Q=ka[2*Q+1]-da;N=ka[2*q]-N;da=ka[2*q+1]-da;q=kb*kb+Q*Q;const ta=N*N+da*da;aa=0>aa*(Q*ta-q*da)-$a*(kb*ta-q*N)+(aa*aa+$a*
$a)*(kb*da-Q*N)}if(aa){R[H]=ja;R[wa]=Z;Z=U[Ea];if(-1===Z){ja=this._hullStart;do{if(this._hullTri[ja]===Ea){this._hullTri[ja]=H;break}ja=this._hullPrev[ja]}while(ja!==this._hullStart)}this._link(H,Z);this._link(wa,U[fa]);this._link(fa,Ea);fa=ua+(wa+1)%3;ba<A.length&&(A[ba++]=fa)}else{if(0===ba)break;H=A[--ba]}}return fa}_link(H,R){this._halfedges[H]=R;-1!==R&&(this._halfedges[R]=H)}_addTriangle(H,R,U,ka,ba,fa){const ja=this.trianglesLen;this._triangles[ja]=H;this._triangles[ja+1]=R;this._triangles[ja+
2]=U;this._link(ja,ka);this._link(ja+1,ba);this._link(ja+2,fa);this.trianglesLen+=3;return ja}}class D{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(H,R){this._+=`M${this._x0=this._x1=+H},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(H,R){this._+=`L${this._x1=+H},${this._y1=+R}`}arc(H,R,U){H=+H;R=+R;U=+U;const ka=H+U,ba=R;if(0>U)throw Error("negative radius");if(null===this._x1)this._+=`M${ka},${ba}`;else if(1E-6<
Math.abs(this._x1-ka)||1E-6<Math.abs(this._y1-ba))this._+="L"+ka+","+ba;U&&(this._+=`A${U},${U},0,1,1,${H-U},${R}A${U},${U},0,1,1,${this._x1=ka},${this._y1=ba}`)}rect(H,R,U,ka){this._+=`M${this._x0=this._x1=+H},${this._y0=this._y1=+R}h${+U}v${+ka}h${-U}Z`}value(){return this._||null}}class P{constructor(){this._=[]}moveTo(H,R){this._.push([H,R])}closePath(){this._.push(this._[0].slice())}lineTo(H,R){this._.push([H,R])}value(){return this._.length?this._:null}}class L{constructor(H,[R,U,ka,ba]=[0,
0,960,500]){if(!((ka=+ka)>=(R=+R)&&(ba=+ba)>=(U=+U)))throw Error("invalid bounds");this.delaunay=H;this._circumcenters=new Float64Array(2*H.points.length);this.vectors=new Float64Array(2*H.points.length);this.xmax=ka;this.xmin=R;this.ymax=ba;this.ymin=U;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:H,hull:R,triangles:U},vectors:ka}=this;var ba=this.circumcenters=this._circumcenters.subarray(0,U.length/3*2);for(let aa=0,wa=0,ua=U.length,Ea,$a;aa<
ua;aa+=3,wa+=2){var fa=2*U[aa],ja=2*U[aa+1],Z=2*U[aa+2],Q=H[fa];fa=H[fa+1];var q=H[Z],N=H[Z+1];Z=H[ja]-Q;ja=H[ja+1]-fa;var da=q-Q;const kb=N-fa,ta=Z*Z+ja*ja,Ta=da*da+kb*kb,Xa=2*(Z*kb-ja*da);Xa?1E-8>Math.abs(Xa)?(Ea=(Q+q)/2,$a=(fa+N)/2):(q=1/Xa,Ea=Q+(kb*ta-ja*Ta)*q,$a=fa+(Z*Ta-da*ta)*q):(Ea=(Q+q)/2-1E8*kb,$a=(fa+N)/2+1E8*da);ba[wa]=Ea;ba[wa+1]=$a}ba=R[R.length-1];fa=4*ba;Z=H[2*ba];ja=H[2*ba+1];ka.fill(0);for(da=0;da<R.length;++da)ba=R[da],Q=fa,q=Z,N=ja,fa=4*ba,Z=H[2*ba],ja=H[2*ba+1],ka[Q+2]=ka[fa]=
N-ja,ka[Q+3]=ka[fa+1]=Z-q}render(H){const R=null==H?H=new D:void 0,{delaunay:{halfedges:U,inedges:ka,hull:ba},circumcenters:fa,vectors:ja}=this;if(1>=ba.length)return null;for(let da=0,aa=U.length;da<aa;++da){var Z=U[da];if(!(Z<da)){var Q=2*Math.floor(da/3);Z=2*Math.floor(Z/3);this._renderSegment(fa[Q],fa[Q+1],fa[Z],fa[Z+1],H)}}Q=ba[ba.length-1];for(Z=0;Z<ba.length;++Z){var q=Q;Q=ba[Z];var N=2*Math.floor(ka[Q]/3);const da=fa[N];N=fa[N+1];q*=4;(q=this._project(da,N,ja[q+2],ja[q+3]))&&this._renderSegment(da,
N,q[0],q[1],H)}return R&&R.value()}renderBounds(H){const R=null==H?H=new D:void 0;H.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return R&&R.value()}renderCell(H,R){const U=null==R?R=new D:void 0;H=this._clip(H);if(null!==H&&H.length){R.moveTo(H[0],H[1]);for(var ka=H.length;H[0]===H[ka-2]&&H[1]===H[ka-1]&&1<ka;)ka-=2;for(let ba=2;ba<ka;ba+=2)H[ba]===H[ba-2]&&H[ba+1]===H[ba-1]||R.lineTo(H[ba],H[ba+1]);R.closePath();return U&&U.value()}}*cellPolygons(){var {delaunay:{points:H}}=
this;for(let R=0,U=H.length/2;R<U;++R)if(H=this.cellPolygon(R))H.index=R,yield H}cellPolygon(H){const R=new P;this.renderCell(H,R);return R.value()}_renderSegment(H,R,U,ka,ba){const fa=this._regioncode(H,R),ja=this._regioncode(U,ka);if(0===fa&&0===ja)ba.moveTo(H,R),ba.lineTo(U,ka);else if(H=this._clipSegment(H,R,U,ka,fa,ja))ba.moveTo(H[0],H[1]),ba.lineTo(H[2],H[3])}contains(H,R,U){return(R=+R,R!==R)||(U=+U,U!==U)?!1:this.delaunay._step(H,R,U)===H}*neighbors(H){const R=this._clip(H);if(R)for(const U of this.delaunay.neighbors(H))if(H=
this._clip(U))a:for(let ka=0,ba=R.length;ka<ba;ka+=2)for(let fa=0,ja=H.length;fa<ja;fa+=2)if(R[ka]==H[fa]&&R[ka+1]==H[fa+1]&&R[(ka+2)%ba]==H[(fa+ja-2)%ja]&&R[(ka+3)%ba]==H[(fa+ja-1)%ja]){yield U;break a}}_cell(H){const {circumcenters:R,delaunay:{inedges:U,halfedges:ka,triangles:ba}}=this,fa=U[H];if(-1===fa)return null;const ja=[];let Z=fa;do{const Q=Math.floor(Z/3);ja.push(R[2*Q],R[2*Q+1]);Z=2===Z%3?Z-2:Z+1;if(ba[Z]!==H)break;Z=ka[Z]}while(Z!==fa&&-1!==Z);return ja}_clip(H){if(0===H&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const R=this._cell(H);if(null===R)return null;const {vectors:U}=this,ka=4*H;return U[ka]||U[ka+1]?this._clipInfinite(H,R,U[ka],U[ka+1],U[ka+2],U[ka+3]):this._clipFinite(H,R)}_clipFinite(H,R){const U=R.length;let ka=null;let ba=R[U-2],fa=R[U-1];let ja=this._regioncode(ba,fa),Z;for(let da=0;da<U;da+=2){var Q=ba;var q=fa;ba=R[da];fa=R[da+1];var N=ja;ja=this._regioncode(ba,fa);if(0===N&&0===ja)Z=0,ka?ka.push(ba,fa):ka=[ba,fa];else{let aa,
wa;if(0===N){if(null===(Q=this._clipSegment(Q,q,ba,fa,N,ja)))continue;[q,N,aa,wa]=Q}else{if(null===(Q=this._clipSegment(ba,fa,Q,q,ja,N)))continue;[aa,wa,q,N]=Q;Q=Z;Z=this._edgecode(q,N);Q&&Z&&this._edge(H,Q,Z,ka,ka.length);ka?ka.push(q,N):ka=[q,N]}Q=Z;Z=this._edgecode(aa,wa);Q&&Z&&this._edge(H,Q,Z,ka,ka.length);ka?ka.push(aa,wa):ka=[aa,wa]}}if(ka)Q=Z,Z=this._edgecode(ka[0],ka[1]),Q&&Z&&this._edge(H,Q,Z,ka,ka.length);else if(this.contains(H,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ka}_clipSegment(H,R,U,ka,ba,fa){for(;;){if(0===ba&&0===fa)return[H,R,U,ka];if(ba&fa)return null;var ja=void 0;let Z;ja=ba||fa;ja&8?(ja=H+(U-H)*(this.ymax-R)/(ka-R),Z=this.ymax):ja&4?(ja=H+(U-H)*(this.ymin-R)/(ka-R),Z=this.ymin):ja&2?(Z=R+(ka-R)*(this.xmax-H)/(U-H),ja=this.xmax):(Z=R+(ka-R)*(this.xmin-H)/(U-H),ja=this.xmin);ba?(H=ja,R=Z,ba=this._regioncode(H,R)):(U=ja,ka=Z,fa=this._regioncode(U,ka))}}_clipInfinite(H,R,U,
ka,ba,fa){R=Array.from(R);let ja;(ja=this._project(R[0],R[1],U,ka))&&R.unshift(ja[0],ja[1]);(ja=this._project(R[R.length-2],R[R.length-1],ba,fa))&&R.push(ja[0],ja[1]);if(R=this._clipFinite(H,R))for(let Z=0,Q=R.length,q,N=this._edgecode(R[Q-2],R[Q-1]);Z<Q;Z+=2)q=N,N=this._edgecode(R[Z],R[Z+1]),q&&N&&(Z=this._edge(H,q,N,R,Z),Q=R.length);else this.contains(H,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(R=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return R}_edge(H,
R,U,ka,ba){for(;R!==U;){let fa,ja;switch(R){case 5:R=4;continue;case 4:R=6;fa=this.xmax;ja=this.ymin;break;case 6:R=2;continue;case 2:R=10;fa=this.xmax;ja=this.ymax;break;case 10:R=8;continue;case 8:R=9;fa=this.xmin;ja=this.ymax;break;case 9:R=1;continue;case 1:R=5,fa=this.xmin,ja=this.ymin}ka[ba]===fa&&ka[ba+1]===ja||!this.contains(H,fa,ja)||(ka.splice(ba,0,fa,ja),ba+=2)}if(4<ka.length)for(H=0;H<ka.length;H+=2)if(R=(H+2)%ka.length,U=(H+4)%ka.length,ka[H]===ka[R]&&ka[R]===ka[U]||ka[H+1]===ka[R+1]&&
ka[R+1]===ka[U+1])ka.splice(R,2),H-=2;return ba}_project(H,R,U,ka){let ba=Infinity,fa,ja,Z;if(0>ka){if(R<=this.ymin)return null;(fa=(this.ymin-R)/ka)<ba&&(Z=this.ymin,ja=H+(ba=fa)*U)}else if(0<ka){if(R>=this.ymax)return null;(fa=(this.ymax-R)/ka)<ba&&(Z=this.ymax,ja=H+(ba=fa)*U)}if(0<U){if(H>=this.xmax)return null;(fa=(this.xmax-H)/U)<ba&&(ja=this.xmax,Z=R+fa*ka)}else if(0>U){if(H<=this.xmin)return null;(fa=(this.xmin-H)/U)<ba&&(ja=this.xmin,Z=R+fa*ka)}return[ja,Z]}_edgecode(H,R){return(H===this.xmin?
1:H===this.xmax?2:0)|(R===this.ymin?4:R===this.ymax?8:0)}_regioncode(H,R){return(H<this.xmin?1:H>this.xmax?2:0)|(R<this.ymin?4:R>this.ymax?8:0)}}const G=2*Math.PI,z=Math.pow;class K{static from(H,R=k,U=d,ka){if("length"in H){{const ba=H.length,fa=new Float64Array(2*ba);for(let ja=0;ja<ba;++ja){const Z=H[ja];fa[2*ja]=R.call(ka,Z,ja,H);fa[2*ja+1]=U.call(ka,Z,ja,H)}H=fa}}else H=Float64Array.from(e(H,R,U,ka));return new K(H)}constructor(H){this._delaunator=new C(H);this.inedges=new Int32Array(H.length/
2);this._hullIndex=new Int32Array(H.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var H=this._delaunator;const R=this.points;if(H.hull&&2<H.hull.length&&f(H)){this.collinear=Int32Array.from({length:R.length/2},(ja,Z)=>Z).sort((ja,Z)=>R[2*ja]-R[2*Z]||R[2*ja+1]-R[2*Z+1]);H=this.collinear[0];var U=this.collinear[this.collinear.length-1];H=[R[2*H],R[2*H+1],R[2*U],R[2*U+1]];H=1E-8*Math.hypot(H[3]-H[1],H[2]-H[0]);for(let ja=
0,Z=R.length/2;ja<Z;++ja)U=a(R[2*ja],R[2*ja+1],H),R[2*ja]=U[0],R[2*ja+1]=U[1];this._delaunator=new C(R)}else delete this.collinear;H=this.halfedges=this._delaunator.halfedges;U=this.hull=this._delaunator.hull;const ka=this.triangles=this._delaunator.triangles,ba=this.inedges.fill(-1),fa=this._hullIndex.fill(-1);for(let ja=0,Z=H.length;ja<Z;++ja){const Q=ka[2===ja%3?ja-2:ja+1];if(-1===H[ja]||-1===ba[Q])ba[Q]=ja}for(let ja=0,Z=U.length;ja<Z;++ja)fa[U[ja]]=ja;2>=U.length&&0<U.length&&(this.triangles=
(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=U[0],this.triangles[1]=U[1],this.triangles[2]=U[1],ba[U[0]]=1,2===U.length&&(ba[U[1]]=0))}voronoi(H){return new L(this,H)}*neighbors(H){const {inedges:R,hull:U,_hullIndex:ka,halfedges:ba,triangles:fa,collinear:ja}=this;if(ja){var Z=ja.indexOf(H);0<Z&&(yield ja[Z-1]);Z<ja.length-1&&(yield ja[Z+1])}else{var Q=R[H];if(-1!==Q){var q=Q;do{yield(Z=fa[q]);q=2===q%3?q-2:q+1;if(fa[q]!==H)break;q=ba[q];if(-1===q){H=U[(ka[H]+
1)%U.length];H!==Z&&(yield H);break}}while(q!==Q)}}}find(H,R,U=0){if((H=+H,H!==H)||(R=+R,R!==R))return-1;const ka=U;let ba;for(;0<=(ba=this._step(U,H,R))&&ba!==U&&ba!==ka;)U=ba;return ba}_step(H,R,U){const {inedges:ka,hull:ba,_hullIndex:fa,halfedges:ja,triangles:Z,points:Q}=this;if(-1===ka[H]||!Q.length)return(H+1)%(Q.length>>1);let q=H,N=z(R-Q[2*H],2)+z(U-Q[2*H+1],2);const da=ka[H];let aa=da;do{let wa=Z[aa];const ua=z(R-Q[2*wa],2)+z(U-Q[2*wa+1],2);ua<N&&(N=ua,q=wa);aa=2===aa%3?aa-2:aa+1;if(Z[aa]!==
H)break;aa=ja[aa];if(-1===aa){aa=ba[(fa[H]+1)%ba.length];if(aa!==wa&&z(R-Q[2*aa],2)+z(U-Q[2*aa+1],2)<N)return aa;break}}while(aa!==da);return q}render(H){const R=null==H?H=new D:void 0,{points:U,halfedges:ka,triangles:ba}=this;for(let ja=0,Z=ka.length;ja<Z;++ja){var fa=ka[ja];if(fa<ja)continue;const Q=2*ba[ja];fa=2*ba[fa];H.moveTo(U[Q],U[Q+1]);H.lineTo(U[fa],U[fa+1])}this.renderHull(H);return R&&R.value()}renderPoints(H,R=2){const U=null==H?H=new D:void 0,{points:ka}=this;for(let ba=0,fa=ka.length;ba<
fa;ba+=2){const ja=ka[ba],Z=ka[ba+1];H.moveTo(ja+R,Z);H.arc(ja,Z,R,0,G)}return U&&U.value()}renderHull(H){const R=null==H?H=new D:void 0,{hull:U,points:ka}=this;var ba=2*U[0];const fa=U.length;H.moveTo(ka[ba],ka[ba+1]);for(ba=1;ba<fa;++ba){const ja=2*U[ba];H.lineTo(ka[ja],ka[ja+1])}H.closePath();return R&&R.value()}hullPolygon(){const H=new P;this.renderHull(H);return H.value()}renderTriangle(H,R){const U=null==R?R=new D:void 0,{points:ka,triangles:ba}=this,fa=2*ba[H*=3],ja=2*ba[H+1];H=2*ba[H+2];
R.moveTo(ka[fa],ka[fa+1]);R.lineTo(ka[ja],ka[ja+1]);R.lineTo(ka[H],ka[H+1]);R.closePath();return U&&U.value()}*trianglePolygons(){const {triangles:H}=this;for(let R=0,U=H.length/3;R<U;++R)yield this.trianglePolygon(R)}trianglePolygon(H){const R=new P;this.renderTriangle(H,R);return R.value()}}g.Delaunay=K;g.Voronoi=L;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(26),B(14),B(52)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.d3))})(this,function(g,m,n,E){function O(y){m.Transform.call(this,null,y)}O.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const x=[-1E5,-1E5,1E5,1E5];n.inherits(O,m.Transform,{transform(y,v){const l=y.as||"path",k=v.source;if(!k||!k.length)return v;var d=y.size;d=d?[0,0,d[0],d[1]]:(d=y.extent)?[d[0][0],d[0][1],d[1][0],d[1][1]]:x;d=this.value=E.Delaunay.from(k,y.x,y.y).voronoi(d);
for(let e=0,p=k.length;e<p;++e){var f=d.cellPolygon(e),a=k[e];if(f){{const A=f[0][0],C=f[0][1];let D=f.length-1;for(;f[D][0]===A&&f[D][1]===C;--D);f="M"+f.slice(0,D+1).join("L")+"Z"}}else f=null;a[l]=f}return v.reflow(y.modified()).modifies(l)}});g.voronoi=O;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(31),B(26),B(14),B(35),B(27)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.vega,g.vega,g.vega,g.vega,g.vega))})(this,function(g,m,n,E,O,x){function y(){function D(Q){Q.width=Q.height=1;var q=Math.sqrt(Q.getContext("2d").getImageData(0,
0,1,1).data.length>>2);Q.width=2048/q;Q.height=2048/q;Q=Q.getContext("2d");Q.fillStyle=Q.strokeStyle="red";Q.textAlign="center";return{context:Q,ratio:q}}function P(Q,q,N){for(var da=q.x,aa=q.y,wa=Math.sqrt(L[0]*L[0]+L[1]*L[1]),ua=ba(L),Ea=.5>ja()?1:-1,$a=-Ea,kb,ta;kb=ua($a+=Ea);){ta=~~kb[0];kb=~~kb[1];if(Math.min(Math.abs(ta),Math.abs(kb))>=wa)break;q.x=da+ta;q.y=aa+kb;if(!(0>q.x+q.x0||0>q.y+q.y0||q.x+q.x1>L[0]||q.y+q.y1>L[1])){if(!(ta=!N)){a:{ta=L[0];ta>>=5;kb=q.sprite;var Ta=q.width>>5;var Xa=
q.x-(Ta<<4);for(var Fa=Xa&127,va=32-Fa,V=q.y1-q.y0,X=(q.y+q.y0)*ta+(Xa>>5),ca=0;ca<V;ca++){for(var ea=Xa=0;ea<=Ta;ea++)if((Xa<<va|(ea<Ta?(Xa=kb[ca*Ta+ea])>>>Fa:0))&Q[X+ea]){ta=!0;break a}X+=ta}ta=!1}ta=!ta}if(ta&&(!N||q.x+q.x1>N[0].x&&q.x+q.x0<N[1].x&&q.y+q.y1>N[0].y&&q.y+q.y0<N[1].y)){N=q.sprite;da=q.width>>5;aa=L[0]>>5;$a=q.x-(da<<4);wa=$a&127;ua=32-wa;Ea=q.y1-q.y0;$a=(q.y+q.y0)*aa+($a>>5);for(kb=0;kb<Ea;kb++){for(Ta=ta=0;Ta<=da;Ta++)Q[$a+Ta]=Q[$a+Ta]|ta<<ua|(Ta<da?(ta=N[kb*da+Ta])>>>wa:0);$a+=
aa}q.sprite=null;return!0}}}return!1}var L=[256,256],G,z,K,H,R,U,ka,ba=k,fa=[],ja=Math.random,Z={layout:function(){for(var Q=D(m.canvas()),q=d((L[0]>>5)*L[1]),N=null,da=fa.length,aa=-1,wa=[],ua=fa.map($a=>({text:G($a),font:z($a),style:H($a),weight:R($a),rotate:U($a),size:~~(K($a)+1E-14),padding:ka($a),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:$a})).sort(($a,kb)=>kb.size-$a.size);++aa<da;){var Ea=ua[aa];Ea.x=L[0]*(ja()+.5)>>1;Ea.y=L[1]*(ja()+.5)>>1;v(Q,Ea,ua,aa);Ea.hasText&&P(q,
Ea,N)&&(wa.push(Ea),N?l(N,Ea):N=[{x:Ea.x+Ea.x0,y:Ea.y+Ea.y0},{x:Ea.x+Ea.x1,y:Ea.y+Ea.y1}],Ea.x-=L[0]>>1,Ea.y-=L[1]>>1)}return wa},words:function(Q){return arguments.length?(fa=Q,Z):fa},size:function(Q){return arguments.length?(L=[+Q[0],+Q[1]],Z):L},font:function(Q){return arguments.length?(z=f(Q),Z):z},fontStyle:function(Q){return arguments.length?(H=f(Q),Z):H},fontWeight:function(Q){return arguments.length?(R=f(Q),Z):R},rotate:function(Q){return arguments.length?(U=f(Q),Z):U},text:function(Q){return arguments.length?
(G=f(Q),Z):G},spiral:function(Q){return arguments.length?(ba=p[Q]||Q,Z):ba},fontSize:function(Q){return arguments.length?(K=f(Q),Z):K},padding:function(Q){return arguments.length?(ka=f(Q),Z):ka},random:function(Q){return arguments.length?(ja=Q,Z):ja}};return Z}function v(D,P,L,G){if(!P.sprite){var z=D.context,K=D.ratio;z.clearRect(0,0,2048/K,2048/K);var H=D=0,R=0,U=L.length;for(--G;++G<U;){P=L[G];z.save();z.font=P.style+" "+P.weight+" "+~~((P.size+1)/K)+"px "+P.font;var ka=z.measureText(P.text+"m").width*
K;var ba=P.size<<1;if(P.rotate){var fa=Math.sin(P.rotate*e),ja=Math.cos(P.rotate*e),Z=ka*ja,Q=ka*fa;ja*=ba;ka=ba*fa;ka=Math.max(Math.abs(Z+ka),Math.abs(Z-ka))+31>>5<<5;ba=~~Math.max(Math.abs(Q+ja),Math.abs(Q-ja))}else ka=ka+31>>5<<5;ba>R&&(R=ba);2048<=D+ka&&(D=0,H+=R,R=0);if(2048<=H+ba)break;z.translate((D+(ka>>1))/K,(H+(ba>>1))/K);P.rotate&&z.rotate(P.rotate*e);z.fillText(P.text,0,0);P.padding&&(z.lineWidth=2*P.padding,z.strokeText(P.text,0,0));z.restore();P.width=ka;P.height=ba;P.xoff=D;P.yoff=
H;P.x1=ka>>1;P.y1=ba>>1;P.x0=-P.x1;P.y0=-P.y1;P.hasText=!0;D+=ka}U=z.getImageData(0,0,2048/K,2048/K).data;for(Z=[];0<=--G;)if(P=L[G],P.hasText){ka=P.width;z=ka>>5;ba=P.y1-P.y0;for(K=0;K<ba*z;K++)Z[K]=0;D=P.xoff;if(null==D)break;H=P.yoff;Q=0;fa=-1;for(R=0;R<ba;R++){for(K=0;K<ka;K++)ja=U[2048*(H+R)+(D+K)<<2]?1<<31-K%32:0,Z[z*R+(K>>5)]|=ja,Q|=ja;Q?fa=R:(P.y0++,ba--,R--,H++)}P.y1=P.y0+fa;P.sprite=Z.slice(0,(P.y1-P.y0)*z)}}}function l(D,P){var L=D[0];D=D[1];P.x+P.x0<L.x&&(L.x=P.x+P.x0);P.y+P.y0<L.y&&(L.y=
P.y+P.y0);P.x+P.x1>D.x&&(D.x=P.x+P.x1);P.y+P.y1>D.y&&(D.y=P.y+P.y1)}function k(D){var P=D[0]/D[1];return function(L){return[P*(L*=.1)*Math.cos(L),L*Math.sin(L)]}}function d(D){for(var P=[],L=-1;++L<D;)P[L]=0;return P}function f(D){return"function"===typeof D?D:function(){return D}}function a(D){n.Transform.call(this,y(),D)}var e=Math.PI/180,p={archimedean:k,rectangular:function(D){var P=4*D[0]/D[1],L=0,G=0;return function(z){var K=0>z?-1:1;switch(Math.sqrt(1+4*K*z)-K&3){case 0:L+=P;break;case 1:G+=
4;break;case 2:L-=P;break;default:G-=4}return[L,G]}}};const A="x y font fontSize fontStyle fontWeight angle".split(" "),C="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",
expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":A}]};E.inherits(a,n.Transform,{transform(D,P){function L(ka){ka=D[ka];return E.isFunction(ka)&&P.modified(ka.fields)}!D.size||D.size[0]&&D.size[1]||E.error("Wordcloud size dimensions must be non-zero.");
const G=D.modified();if(G||P.changed(P.ADD_REM)||C.some(L)){var z=P.materialize(P.SOURCE).source,K=this.value,H=D.as||A,R=D.fontSize||14,U;E.isFunction(R)?U=D.fontSizeRange:R=E.constant(R);if(U){const ka=R,ba=O.scale("sqrt")().domain(E.extent(z,ka)).range(U);R=fa=>ba(ka(fa))}z.forEach(ka=>{ka[H[0]]=NaN;ka[H[1]]=NaN;ka[H[3]]=0});z=K.words(z).text(D.text).size(D.size||[500,500]).padding(D.padding||1).spiral(D.spiral||"archimedean").rotate(D.rotate||0).font(D.font||"sans-serif").fontStyle(D.fontStyle||
"normal").fontWeight(D.fontWeight||"normal").fontSize(R).random(x.random).layout();R=K.size();K=R[0]>>1;R=R[1]>>1;U=z.length;for(let ka=0,ba,fa;ka<U;++ka)ba=z[ka],fa=ba.datum,fa[H[0]]=ba.x+K,fa[H[1]]=ba.y+R,fa[H[2]]=ba.font,fa[H[3]]=ba.size,fa[H[4]]=ba.style,fa[H[5]]=ba.weight,fa[H[6]]=ba.rotate;return P.reflow(G).modifies(H)}}});g.wordcloud=a;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(15),B(26),B(14)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m((g.vega=g.vega||{},g.vega.transforms={}),g.d3,g.vega,g.vega))})(this,function(g,m,n,E){function O(){let p=8,A=[],C=new Uint32Array(0),D=x(0,p),P=x(0,p);return{data:()=>A,seen:()=>{var L=C;var G=A.length;L.length>=G||(G=new L.constructor(G),
G.set(L),L=G);return C=L},add(L){for(let G=0,z=A.length,K=L.length,H;G<K;++G)H=L[G],H._index=z++,A.push(H)},remove(L,G){const z=A.length;L=Array(z-L);const K=A;let H,R,U;for(R=0;!G[R]&&R<z;++R)L[R]=A[R],K[R]=R;for(U=R;R<z;++R)H=A[R],G[R]?K[R]=-1:(K[R]=U,D[U]=D[R],P[U]=P[R],L[U]=H,H._index=U++),D[R]=0;A=L;return K},size:()=>A.length,curr:()=>D,prev:()=>P,reset:L=>P[L]=D[L],all:()=>257>p?255:65537>p?65535:4294967295,set(L,G){D[L]|=G},clear(L,G){D[L]&=~G},resize(L,G){if(L>D.length||G>p)p=Math.max(G,
p),D=x(L,p,D),P=x(L,p)}}}function x(p,A,C){p=(257>A?f:65537>A?a:e)(p);C&&p.set(C);return p}function y(p,A,C){const D=1<<A;return{one:D,zero:~D,range:C.slice(),bisect:p.bisect,index:p.index,size:p.size,onAdd(P,L){var G=this.bisect(this.range,P.value);P=P.index;const z=G[0];G=G[1];const K=P.length;let H;for(H=0;H<z;++H)L[P[H]]|=D;for(H=G;H<K;++H)L[P[H]]|=D;return this}}}function v(){let p=new Uint32Array(0),A=[],C=0;return{insert:function(D,P,L){if(!P.length)return[];const G=C,z=P.length,K=new Uint32Array(z);
let H=Array(z);var R;for(R=0;R<z;++R)H[R]=D(P[R]),K[R]=R;H=l(H,K);if(G){D=A;P=p;A=Array(G+z);p=new Uint32Array(G+z);{R=H;var U=A,ka=p;let ba=0,fa=0,ja;for(ja=0;ba<G&&fa<z;++ja)D[ba]<R[fa]?(U[ja]=D[ba],ka[ja]=P[ba++]):(U[ja]=R[fa],ka[ja]=K[fa++]+L);for(;ba<G;++ba,++ja)U[ja]=D[ba],ka[ja]=P[ba];for(;fa<z;++fa,++ja)U[ja]=R[fa],ka[ja]=K[fa]+L}}else{if(0<L)for(R=0;R<z;++R)K[R]+=L;A=H;p=K}C=G+z;return{index:K,value:H}},remove:function(D,P){const L=C;let G,z,K;for(z=0;!P[p[z]]&&z<L;++z);for(K=z;z<L;++z)P[G=
p[z]]||(p[K]=G,A[K]=A[z],++K);C=L-D},bisect:function(D,P){let L;P?L=P.length:(P=A,L=C);return[m.bisectLeft(P,D[0],0,L),m.bisectRight(P,D[1],0,L)]},reindex:function(D){for(let P=0,L=C;P<L;++P)p[P]=D[p[P]]},index:()=>p,size:()=>C}}function l(p,A){p.sort.call(A,(C,D)=>{C=p[C];D=p[D];return C<D?-1:C>D?1:0});return m.permute(p,A)}function k(p){n.Transform.call(this,O(),p);this._dims=this._indices=null}function d(p){n.Transform.call(this,null,p)}const f=p=>new Uint8Array(p),a=p=>new Uint16Array(p),e=p=>
new Uint32Array(p);k.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};E.inherits(k,n.Transform,{transform(p,A){return this._dims?p.modified("fields")||p.fields.some(C=>A.modified(C.fields))?this.reinit(p,A):this.eval(p,A):this.init(p,A)},init(p,A){const C=p.fields,D=p.query,P=this._indices={},L=this._dims=[],G=D.length;let z=0;for(var K;z<G;++z)K=C[z].fname,
K=P[K]||(P[K]=v()),L.push(y(K,z,D[z]));return this.eval(p,A)},reinit(p,A){const C=A.materialize().fork(),D=p.fields,P=p.query,L=this._indices,G=this._dims,z=this.value,K=z.curr(),H=z.prev(),R=z.all(),U=C.rem=C.add,ka=C.mod,ba=P.length,fa={};let ja;var Z;let Q,q,N,da;H.set(K);A.rem.length&&(Q=this.remove(p,A,C));A.add.length&&z.add(A.add);if(A.mod.length){q={};var aa=A.mod;N=0;for(Z=aa.length;N<Z;++N)q[aa[N]._index]=1}for(N=0;N<ba;++N)if(da=D[N],!G[N]||p.modified("fields",N)||A.modified(da.fields))Z=
da.fname,(aa=fa[Z])||(L[Z]=ja=v(),fa[Z]=aa=ja.insert(da,A.source,0)),G[N]=y(ja,N,P[N]).onAdd(aa,K);N=0;for(Z=z.data().length;N<Z;++N)Q[N]||(H[N]!==K[N]?U.push(N):q[N]&&K[N]!==R&&ka.push(N));z.mask=(1<<ba)-1;return C},eval(p,A){const C=A.materialize().fork(),D=this._dims.length;let P=0;A.rem.length&&(this.remove(p,A,C),P|=(1<<D)-1);p.modified("query")&&!p.modified("fields")&&(P|=this.update(p,A,C));A.add.length&&(this.insert(p,A,C),P|=(1<<D)-1);A.mod.length&&(this.modify(A,C),P|=(1<<D)-1);this.value.mask=
P;return C},insert(p,A,C){A=A.add;var D=this.value;const P=this._dims,L=this._indices;p=p.fields;const G={};C=C.add;const z=D.size()+A.length,K=P.length;let H=D.size();D.resize(z,K);D.add(A);const R=D.curr(),U=D.prev(),ka=D.all();for(D=0;D<K;++D){var ba=p[D].fname;ba=G[ba]||(G[ba]=L[ba].insert(p[D],A,H));P[D].onAdd(ba,R)}for(;H<z;++H)U[H]=ka,R[H]!==ka&&C.push(H)},modify(p,A){A=A.mod;var C=this.value;const D=C.curr();C=C.all();p=p.mod;let P,L,G;P=0;for(L=p.length;P<L;++P)G=p[P]._index,D[G]!==C&&A.push(G)},
remove(p,A,C){p=this._indices;var D=this.value;const P=D.curr(),L=D.prev();D=D.all();const G={};C=C.rem;const z=A.rem;let K,H,R,U;K=0;for(H=z.length;K<H;++K)R=z[K]._index,G[R]=1,L[R]=U=P[R],P[R]=D,U!==D&&C.push(R);for(R in p)p[R].remove(H,G);this.reindex(A,H,G);return G},reindex(p,A,C){const D=this._indices,P=this.value;p.runAfter(()=>{const L=P.remove(A,C);for(const G in D)D[G].reindex(L)})},update(p,A,C){const D=this._dims,P=p.query;A=A.stamp;const L=D.length;let G=0,z,K;for(K=C.filters=0;K<L;++K)p.modified("query",
K)&&(z=K,++G);if(1===G)G=D[z].one,this.incrementOne(D[z],P[z],C.add,C.rem);else for(G=K=0;K<L;++K)p.modified("query",K)&&(G|=D[K].one,this.incrementAll(D[K],P[K],A,C.add),C.rem=C.add);return G},incrementAll(p,A,C,D){var P=this.value;const L=P.seen(),G=P.curr();P=P.prev();const z=p.index();var K=p.bisect(p.range),H=p.bisect(A);const R=H[0];H=H[1];const U=K[0];K=K[1];const ka=p.one;let ba,fa,ja;if(R<U)for(ba=R,fa=Math.min(U,H);ba<fa;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;
else if(R>U)for(ba=U,fa=Math.min(R,K);ba<fa;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;if(H>K)for(ba=Math.max(R,K),fa=H;ba<fa;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;else if(H<K)for(ba=Math.max(U,H),fa=K;ba<fa;++ba)ja=z[ba],L[ja]!==C&&(P[ja]=G[ja],L[ja]=C,D.push(ja)),G[ja]^=ka;p.range=A.slice()},incrementOne(p,A,C,D){const P=this.value.curr(),L=p.index();var G=p.bisect(p.range),z=p.bisect(A);const K=z[0];z=z[1];const H=G[0];G=G[1];const R=p.one;
let U,ka,ba;if(K<H)for(U=K,ka=Math.min(H,z);U<ka;++U)ba=L[U],P[ba]^=R,C.push(ba);else if(K>H)for(U=H,ka=Math.min(K,G);U<ka;++U)ba=L[U],P[ba]^=R,D.push(ba);if(z>G)for(U=Math.max(K,G),ka=z;U<ka;++U)ba=L[U],P[ba]^=R,C.push(ba);else if(z<G)for(U=Math.max(H,z),ka=G;U<ka;++U)ba=L[U],P[ba]^=R,D.push(ba);p.range=A.slice()}});d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};E.inherits(d,n.Transform,{transform(p,A){const C=~(p.ignore||0);p=p.filter;const D=p.mask;if(0===(D&C))return A.StopPropagation;A=A.fork(A.ALL);const P=p.data(),L=p.curr(),G=p.prev(),z=K=>L[K]&C?null:P[K];A.filter(A.MOD,z);D&D-1?(A.filter(A.ADD,K=>{const H=L[K]&C;return!H&&H^G[K]&C?P[K]:null}),A.filter(A.REM,K=>{const H=L[K]&C;return!H||H^H^G[K]&C?null:P[K]})):(A.filter(A.ADD,z),A.filter(A.REM,K=>(L[K]&C)===D?P[K]:
null));return A.filter(A.SOURCE,K=>z(K._index))}});g.crossfilter=k;g.resolvefilter=d;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega))})(this,function(g,m){function n(V){this.type=V}function E(V){switch(V.type){case "ArrayExpression":return V.elements;case "BinaryExpression":case "LogicalExpression":return[V.left,V.right];case "CallExpression":return[V.callee].concat(V.arguments);
case "ConditionalExpression":return[V.test,V.consequent,V.alternate];case "MemberExpression":return[V.object,V.property];case "ObjectExpression":return V.properties;case "Property":return[V.key,V.value];case "UnaryExpression":return[V.argument];default:return[]}}function O(V,X){if(!V)throw Error("ASSERT: "+X);}function x(V){return 48<=V&&57>=V}function y(V){return 0<="0123456789abcdefABCDEF".indexOf(V)}function v(V){return 0<="01234567".indexOf(V)}function l(V){return 10===V||13===V||8232===V||8233===
V}function k(V){return 36===V||95===V||65<=V&&90>=V||97<=V&&122>=V||92===V||128<=V&&ta.test(String.fromCharCode(V))}function d(V){return 36===V||95===V||65<=V&&90>=V||97<=V&&122>=V||48<=V&&57>=V||92===V||128<=V&&Ta.test(String.fromCharCode(V))}function f(){for(;Ea<$a;){const V=ua.charCodeAt(Ea);if(32===V||9===V||11===V||12===V||160===V||5760<=V&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(V)||l(V))++Ea;else break}}function a(V){var X=0;var ca=
"u"===V?4:2;for(V=0;V<ca;++V)if(Ea<$a&&y(ua[Ea])){var ea=ua[Ea++];X=16*X+"0123456789abcdef".indexOf(ea.toLowerCase())}else U({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(X)}function e(){var V=ua.charCodeAt(Ea++);var X=String.fromCharCode(V);92===V&&(117!==ua.charCodeAt(Ea)&&U({},"Unexpected token %0","ILLEGAL"),++Ea,(V=a("u"))&&"\\"!==V&&k(V.charCodeAt(0))||U({},"Unexpected token %0","ILLEGAL"),X=V);for(;Ea<$a;){V=ua.charCodeAt(Ea);if(!d(V))break;++Ea;X+=String.fromCharCode(V);92===
V&&(X=X.substr(0,X.length-1),117!==ua.charCodeAt(Ea)&&U({},"Unexpected token %0","ILLEGAL"),++Ea,(V=a("u"))&&"\\"!==V&&d(V.charCodeAt(0))||U({},"Unexpected token %0","ILLEGAL"),X+=V)}return X}function p(){var V=Ea,X=ua.charCodeAt(Ea),ca=ua[Ea];switch(X){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ea,{type:7,value:String.fromCharCode(X),start:V,end:Ea};default:var ea=ua.charCodeAt(Ea+1);if(61===ea)switch(X){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ea+=
2,{type:7,value:String.fromCharCode(X)+String.fromCharCode(ea),start:V,end:Ea};case 33:case 61:return Ea+=2,61===ua.charCodeAt(Ea)&&++Ea,{type:7,value:ua.slice(V,Ea),start:V,end:Ea}}}X=ua.substr(Ea,4);if("\x3e\x3e\x3e\x3d"===X)return Ea+=4,{type:7,value:X,start:V,end:Ea};X=X.substr(0,3);if("\x3e\x3e\x3e"===X||"\x3c\x3c\x3d"===X||"\x3e\x3e\x3d"===X)return Ea+=3,{type:7,value:X,start:V,end:Ea};X=X.substr(0,2);if(ca===X[1]&&0<="+-\x3c\x3e\x26|".indexOf(ca)||"\x3d\x3e"===X)return Ea+=2,{type:7,value:X,
start:V,end:Ea};"//"===X&&U({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(ca))return++Ea,{type:7,value:ca,start:V,end:Ea};U({},"Unexpected token %0","ILLEGAL")}function A(){var V=ua[Ea];O(x(V.charCodeAt(0))||"."===V,"Numeric literal must start with a decimal digit or a decimal point");var X=Ea;var ca="";if("."!==V){ca=ua[Ea++];V=ua[Ea];if("0"===ca){if("x"===V||"X"===V){++Ea;for(ca="";Ea<$a&&y(ua[Ea]);)ca+=ua[Ea++];0===ca.length&&U({},"Unexpected token %0","ILLEGAL");
k(ua.charCodeAt(Ea))&&U({},"Unexpected token %0","ILLEGAL");return X={type:6,value:parseInt("0x"+ca,16),start:X,end:Ea}}if(v(V)){for(ca="0"+ua[Ea++];Ea<$a&&v(ua[Ea]);)ca+=ua[Ea++];(k(ua.charCodeAt(Ea))||x(ua.charCodeAt(Ea)))&&U({},"Unexpected token %0","ILLEGAL");return X={type:6,value:parseInt(ca,8),octal:!0,start:X,end:Ea}}V&&x(V.charCodeAt(0))&&U({},"Unexpected token %0","ILLEGAL")}for(;x(ua.charCodeAt(Ea));)ca+=ua[Ea++];V=ua[Ea]}if("."===V){for(ca+=ua[Ea++];x(ua.charCodeAt(Ea));)ca+=ua[Ea++];
V=ua[Ea]}if("e"===V||"E"===V){ca+=ua[Ea++];V=ua[Ea];if("+"===V||"-"===V)ca+=ua[Ea++];if(x(ua.charCodeAt(Ea)))for(;x(ua.charCodeAt(Ea));)ca+=ua[Ea++];else U({},"Unexpected token %0","ILLEGAL")}k(ua.charCodeAt(Ea))&&U({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(ca),start:X,end:Ea}}function C(V,X){let ca=V;0<=X.indexOf("u")&&(ca=ca.replace(/\\u\{([0-9a-fA-F]+)\}/g,(ea,ra)=>{if(1114111>=parseInt(ra,16))return"x";U({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
"x"));try{new RegExp(ca)}catch(ea){U({},"Invalid regular expression")}try{return new RegExp(V,X)}catch(ea){return null}}function D(){f();if(Ea>=$a)return{type:2,start:Ea,end:Ea};var V=ua.charCodeAt(Ea);if(k(V)){V=Ea;if(92===ua.charCodeAt(Ea))var X=e();else a:{for(X=Ea++;Ea<$a;){var ca=ua.charCodeAt(Ea);if(92===ca){Ea=X;X=e();break a}if(d(ca))++Ea;else break}X=ua.slice(X,Ea)}return{type:1===X.length?3:Xa.hasOwnProperty(X)?4:"null"===X?5:"true"===X||"false"===X?1:3,value:X,start:V,end:Ea}}if(40===V||
41===V||59===V)return p();if(39===V||34===V){var ea="";ca=!1;V=ua[Ea];O("'"===V||'"'===V,"String literal must starts with a quote");X=Ea;for(++Ea;Ea<$a;){var ra=ua[Ea++];if(ra===V){V="";break}else if("\\"===ra)if((ra=ua[Ea++])&&l(ra.charCodeAt(0)))"\r"===ra&&"\n"===ua[Ea]&&++Ea;else switch(ra){case "u":case "x":if("{"===ua[Ea]){++Ea;var qa=ua[Ea];ra=0;for("}"===qa&&U({},"Unexpected token %0","ILLEGAL");Ea<$a;){qa=ua[Ea++];if(!y(qa))break;ra=16*ra+"0123456789abcdef".indexOf(qa.toLowerCase())}(1114111<
ra||"}"!==qa)&&U({},"Unexpected token %0","ILLEGAL");ra=65535>=ra?String.fromCharCode(ra):String.fromCharCode((ra-65536>>10)+55296,(ra-65536&1023)+56320);ea+=ra}else ea+=a(ra);break;case "n":ea+="\n";break;case "r":ea+="\r";break;case "t":ea+="\t";break;case "b":ea+="\b";break;case "f":ea+="\f";break;case "v":ea+="\x0B";break;default:v(ra)?(qa="01234567".indexOf(ra),0!==qa&&(ca=!0),Ea<$a&&v(ua[Ea])&&(ca=!0,qa=8*qa+"01234567".indexOf(ua[Ea++]),0<="0123".indexOf(ra)&&Ea<$a&&v(ua[Ea])&&(qa=8*qa+"01234567".indexOf(ua[Ea++]))),
ea+=String.fromCharCode(qa)):ea+=ra}else if(l(ra.charCodeAt(0)))break;else ea+=ra}""!==V&&U({},"Unexpected token %0","ILLEGAL");return{type:8,value:ea,octal:ca,start:X,end:Ea}}return 46===V?x(ua.charCodeAt(Ea+1))?A():p():x(V)?A():p()}function P(){const V=kb;Ea=V.end;kb=D();Ea=V.end;return V}function L(){const V=Ea;kb=D();Ea=V}function G(V,X,ca){const ea=new n("||"===V||"\x26\x26"===V?"LogicalExpression":"BinaryExpression");ea.operator=V;ea.left=X;ea.right=ca;return ea}function z(V){const X=new n("Identifier");
X.name=V;return X}function K(V){const X=new n("Literal");X.value=V.value;X.raw=ua.slice(V.start,V.end);V.regex&&("//"===X.raw&&(X.raw="/(?:)/"),X.regex=V.regex);return X}function H(V,X,ca){const ea=new n("MemberExpression");ea.computed="["===V;ea.object=X;ea.property=ca;ea.computed||(ca.member=!0);return ea}function R(V,X,ca){const ea=new n("Property");ea.key=X;ea.value=ca;ea.kind=V;return ea}function U(V,X){var ca=Array.prototype.slice.call(arguments,2),ea=X.replace(/%(\d)/g,(qa,Ha)=>{O(Ha<ca.length,
"Message reference must be in range");return ca[Ha]});var ra=Error(ea);ra.index=Ea;ra.description=ea;throw ra;}function ka(V){2===V.type&&U(V,"Unexpected end of input");6===V.type&&U(V,"Unexpected number");8===V.type&&U(V,"Unexpected string");3===V.type&&U(V,"Unexpected identifier");4===V.type&&U(V,"Unexpected reserved word");U(V,"Unexpected token %0",V.value)}function ba(V){const X=P();7===X.type&&X.value===V||ka(X)}function fa(V){return 7===kb.type&&kb.value===V}function ja(){Ea=kb.start;const V=
P();return 8===V.type||6===V.type?(V.octal&&U(V,"Octal literals are not allowed in strict mode."),K(V)):z(V.value)}function Z(){if(fa("(")){ba("(");var V=aa();ba(")");return V}if(fa("[")){V=[];Ea=kb.start;for(ba("[");!fa("]");)fa(",")?(P(),V.push(null)):(V.push(da()),fa("]")||ba(","));P();var X=new n("ArrayExpression");X.elements=V;return V=X}if(fa("{")){V=[];X={};var ca=String;Ea=kb.start;for(ba("{");!fa("}");){Ea=kb.start;var ea=kb;if(3===ea.type){var ra=ja();ba(":");ea=da();ea=R("init",ra,ea)}else 2===
ea.type||7===ea.type?(ka(ea),ea=void 0):(ra=ja(),ba(":"),ea=da(),ea=R("init",ra,ea));ra="Identifier"===ea.key.type?ea.key.name:ca(ea.key.value);ra="$"+ra;Object.prototype.hasOwnProperty.call(X,ra)?U({},"Duplicate data property in object literal not allowed in strict mode"):X[ra]=!0;V.push(ea);fa("}")||ba(",")}ba("}");X=new n("ObjectExpression");X.properties=V;return V=X}V=kb.type;Ea=kb.start;if(3===V||Fa[kb.value])X=z(P().value);else if(8===V||6===V)kb.octal&&U(kb,"Octal literals are not allowed in strict mode."),
X=K(P());else{if(4===V)throw Error("Disabled.");if(1===V)V=P(),V.value="true"===V.value,X=K(V);else if(5===V)V=P(),V.value=null,X=K(V);else if(fa("/")||fa("/\x3d")){var qa;kb=null;f();V=Ea;X=ua[Ea];O("/"===X,"Regular expression literal must start with a slash");ca=ua[Ea++];for(ra=ea=!1;Ea<$a;)if(X=ua[Ea++],ca+=X,"\\"===X)X=ua[Ea++],l(X.charCodeAt(0))&&U({},"Invalid regular expression: missing /"),ca+=X;else if(l(X.charCodeAt(0)))U({},"Invalid regular expression: missing /");else if(ea)"]"===X&&(ea=
!1);else if("/"===X){ra=!0;break}else"["===X&&(ea=!0);ra||U({},"Invalid regular expression: missing /");X=ca.substr(1,ca.length-2);for(qa=ra="";Ea<$a;){ea=ua[Ea];if(!d(ea.charCodeAt(0)))break;++Ea;"\\"===ea&&Ea<$a?U({},"Unexpected token %0","ILLEGAL"):(qa+=ea,ra+=ea)}0<=qa.search(/[^gimuy]/g)&&U({},"Invalid regular expression",qa);ea=qa;qa=C(X,ea);X=K({literal:ca+ra,value:qa,regex:{pattern:X,flags:ea},start:V,end:Ea});L()}else ka(P())}return X}function Q(){var V;for(V=Z();;)if(fa(".")){ba(".");Ea=
kb.start;var X=P();3===X.type||4===X.type||1===X.type||5===X.type||ka(X);X=z(X.value);V=H(".",V,X)}else if(fa("(")){X=[];ba("(");if(!fa(")"))for(;Ea<$a;){X.push(da());if(fa(")"))break;ba(",")}ba(")");{const ca=new n("CallExpression");ca.callee=V;ca.arguments=X;V=ca}}else if(fa("["))ba("["),X=aa(),ba("]"),V=H("[",V,X);else break;if(7===kb.type&&(fa("++")||fa("--")))throw Error("Disabled.");return V}function q(){if(7!==kb.type&&4!==kb.type)var V=Q();else{if(fa("++")||fa("--"))throw Error("Disabled.");
if(fa("+")||fa("-")||fa("~")||fa("!")){var X=P();V=q();{X=X.value;const ca=new n("UnaryExpression");ca.operator=X;ca.argument=V;ca.prefix=!0;V=ca}}else{if(4===kb.type&&"delete"===kb.value||4===kb.type&&"void"===kb.value||4===kb.type&&"typeof"===kb.value)throw Error("Disabled.");V=Q()}}return V}function N(V){let X=0;if(7!==V.type&&4!==V.type)return 0;switch(V.value){case "||":X=1;break;case "\x26\x26":X=2;break;case "|":X=3;break;case "^":X=4;break;case "\x26":X=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":X=
6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":X=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":X=8;break;case "+":case "-":X=9;break;case "*":case "/":case "%":X=11}return X}function da(){var V=kb;var X=q();var ca=kb;var ea=N(ca);if(0===ea)var ra=X;else{ca.prec=ea;P();V=[V,kb];var qa=q();for(ra=[X,ca,qa];0<(ea=N(kb));){for(;2<ra.length&&ea<=ra[ra.length-2].prec;)qa=ra.pop(),ca=ra.pop().value,X=ra.pop(),V.pop(),X=G(ca,X,qa),ra.push(X);ca=P();
ca.prec=ea;ra.push(ca);V.push(kb);X=q();ra.push(X)}ea=ra.length-1;X=ra[ea];for(V.pop();1<ea;)V.pop(),X=G(ra[ea-1].value,ra[ea-2],X),ea-=2;ra=X}fa("?")&&(P(),V=da(),ba(":"),ea=da(),X=new n("ConditionalExpression"),X.test=ra,X.consequent=V,X.alternate=ea,ra=X);return ra}function aa(){const V=da();if(fa(","))throw Error("Disabled.");return V}function wa(V){function X(ca,ea,ra){return qa=>{{let Ha=V(qa[0]);ea&&(Ha=ea+"("+Ha+")",0===ea.lastIndexOf("new ",0)&&(Ha="("+Ha+")"));qa=Ha+"."+ca+(0>ra?"":0===
ra?"()":"("+qa.slice(1).map(V).join(",")+")")}return qa}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(ca){3>ca.length&&m.error("Missing arguments to clamp function.");3<ca.length&&
m.error("Too many arguments to clamp function.");ca=ca.map(V);return"Math.max("+ca[1]+", Math.min("+ca[2]+","+ca[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:X("getDate","new Date",0),day:X("getDay","new Date",0),year:X("getFullYear","new Date",0),month:X("getMonth","new Date",0),hours:X("getHours","new Date",0),minutes:X("getMinutes","new Date",0),seconds:X("getSeconds","new Date",0),milliseconds:X("getMilliseconds","new Date",0),time:X("getTime","new Date",0),timezoneoffset:X("getTimezoneOffset",
"new Date",0),utcdate:X("getUTCDate","new Date",0),utcday:X("getUTCDay","new Date",0),utcyear:X("getUTCFullYear","new Date",0),utcmonth:X("getUTCMonth","new Date",0),utchours:X("getUTCHours","new Date",0),utcminutes:X("getUTCMinutes","new Date",0),utcseconds:X("getUTCSeconds","new Date",0),utcmilliseconds:X("getUTCMilliseconds","new Date",0),length:X("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:X("toUpperCase","String",0),lower:X("toLowerCase","String",0),substring:X("substring",
"String"),split:X("split","String"),trim:X("trim","String",0),regexp:"RegExp",test:X("test","RegExp"),if:function(ca){3>ca.length&&m.error("Missing arguments to if function.");3<ca.length&&m.error("Too many arguments to if function.");ca=ca.map(V);return"("+ca[0]+"?"+ca[1]+":"+ca[2]+")"}}}n.prototype.visit=function(V){let X,ca,ea;if(V(this))return 1;X=E(this);ca=0;for(ea=X.length;ca<ea;++ca)if(X[ca].visit(V))return 1};var ua,Ea,$a,kb,ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Xa={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Fa={"if":1};var va={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};g.ASTNode=n;g.ArrayExpression="ArrayExpression";g.BinaryExpression="BinaryExpression";g.CallExpression="CallExpression";g.ConditionalExpression="ConditionalExpression";g.Identifier="Identifier";g.Literal="Literal";g.LogicalExpression="LogicalExpression";g.MemberExpression="MemberExpression";g.ObjectExpression="ObjectExpression";
g.Property="Property";g.RawCode="RawCode";g.UnaryExpression="UnaryExpression";g.codegen=function(V){function X(Ia){if(m.isString(Ia))return Ia;const Ua=oa[Ia.type];null==Ua&&m.error("Unsupported type: "+Ia.type);return Ua(Ia)}function ca(Ia){Ia={code:X(Ia),globals:Object.keys(ab),fields:Object.keys(Ba)};ab={};Ba={};return Ia}V=V||{};const ea=V.allowed?m.toSet(V.allowed):{},ra=V.forbidden?m.toSet(V.forbidden):{},qa=V.constants||va,Ha=(V.functions||wa)(X),na=V.globalvar,Pa=V.fieldvar,cb=m.isFunction(na)?
na:Ia=>`${na}["${Ia}"]`;let ab={},Ba={},Ga=0;const oa={Literal:Ia=>Ia.raw,Identifier:Ia=>{Ia=Ia.name;if(0<Ga)return Ia;if(m.hasOwnProperty(ra,Ia))return m.error("Illegal identifier: "+Ia);if(m.hasOwnProperty(qa,Ia))return qa[Ia];if(m.hasOwnProperty(ea,Ia))return Ia;ab[Ia]=1;return cb(Ia)},MemberExpression:Ia=>{const Ua=!Ia.computed,eb=X(Ia.object);Ua&&(Ga+=1);Ia=X(Ia.property);if(eb===Pa){var Gb=Ba;var Tb=(Tb=Ia&&Ia.length-1)&&('"'===Ia[0]&&'"'===Ia[Tb]||"'"===Ia[0]&&"'"===Ia[Tb])?Ia.slice(1,-1):
Ia;Gb[Tb]=1}Ua&&--Ga;return eb+(Ua?"."+Ia:"["+Ia+"]")},CallExpression:Ia=>{"Identifier"!==Ia.callee.type&&m.error("Illegal callee type: "+Ia.callee.type);const Ua=Ia.callee.name;Ia=Ia.arguments;const eb=m.hasOwnProperty(Ha,Ua)&&Ha[Ua];eb||m.error("Unrecognized function: "+Ua);return m.isFunction(eb)?eb(Ia):eb+"("+Ia.map(X).join(",")+")"},ArrayExpression:Ia=>"["+Ia.elements.map(X).join(",")+"]",BinaryExpression:Ia=>"("+X(Ia.left)+" "+Ia.operator+" "+X(Ia.right)+")",UnaryExpression:Ia=>"("+Ia.operator+
X(Ia.argument)+")",ConditionalExpression:Ia=>"("+X(Ia.test)+"?"+X(Ia.consequent)+":"+X(Ia.alternate)+")",LogicalExpression:Ia=>"("+X(Ia.left)+Ia.operator+X(Ia.right)+")",ObjectExpression:Ia=>"{"+Ia.properties.map(X).join(",")+"}",Property:Ia=>{Ga+=1;const Ua=X(Ia.key);--Ga;return Ua+":"+X(Ia.value)}};ca.functions=Ha;ca.constants=qa;return ca};g.constants=va;g.functions=wa;g.parse=function(V){ua=V;Ea=0;$a=ua.length;kb=null;L();V=aa();if(2!==kb.type)throw Error("Unexpect token after expression.");return V};
Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[57]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega))})(this,function(g,m,n){function E(d){return(f,a)=>{f=d(f);return f<a?-1:f>a?1:f>=a?0:NaN}}function O(d,f){var a=f.fields;f=f.values;for(var e=a.length,p=0,A,C;p<e;++p)if(C=a[p],C.getter=m.field.getter||m.field(C.field),
A=C.getter(d),m.isDate(A)&&(A=m.toNumber(A)),m.isDate(f[p])&&(f[p]=m.toNumber(f[p])),m.isDate(f[p][0])&&(f[p]=f[p].map(m.toNumber)),"E"===C.type){if(m.isArray(f[p])?0>f[p].indexOf(A):A!==f[p])return!1}else if("R"===C.type){if(!m.inrange(A,f[p]))return!1}else if("R-RE"===C.type){if(!m.inrange(A,f[p],!0,!1))return!1}else if("R-E"===C.type){if(!m.inrange(A,f[p],!1,!1))return!1}else if("R-LE"===C.type&&!m.inrange(A,f[p],!1,!0))return!1;return!0}const x=m.field("_vgsid_"),y=function(d){function f(p,A,
C,D){null==C&&(C=0);null==D&&(D=p.length);for(;C<D;){const P=C+D>>>1;0>e(p[P],A)?C=P+1:D=P}return C}let a=d,e=d;1===d.length&&(a=(p,A)=>d(p)-A,e=E(d));return{left:f,center:function(p,A,C,D){null==C&&(C=0);null==D&&(D=p.length);D=f(p,A,C,D-1);return D>C&&a(p[D-1],A)>-a(p[D],A)?D-1:D},right:function(p,A,C,D){null==C&&(C=0);null==D&&(D=p.length);for(;C<D;){const P=C+D>>>1;0<e(p[P],A)?D=P:C=P+1}return C}}}(x),v=y.left,l=y.right;var k={E_union:function(d,f){if(!d.length)return f;for(var a=0,e=f.length;a<
e;++a)0>d.indexOf(f[a])&&d.push(f[a]);return d},E_intersect:function(d,f){return d.length?d.filter(a=>0<=f.indexOf(a)):f},R_union:function(d,f){var a=m.toNumber(f[0]),e=m.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];d[0]>a&&(d[0]=a);d[1]<e&&(d[1]=e);return d},R_intersect:function(d,f){var a=m.toNumber(f[0]),e=m.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];if(e<d[0]||d[1]<a)return[];d[0]<a&&(d[0]=a);d[1]>e&&(d[1]=e);return d}};g.selectionIdTest=function(d,f,a){var e=
this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;f=x(f);const p=v(d,f);if(p===d.length||x(d[p])!==f)return!1;if(e&&a){if(1===e.size)return!0;if(l(d,f)-p<e.size)return!1}return!0};g.selectionResolve=function(d,f,a,e){d=(d=this.context.data[d])?d.values.value:[];for(var p={},A={},C={},D,P,L,G,z,K,H=d.length,R=0,U,ka;R<H;++R){D=d[R];L=D.unit;P=D.fields;D=D.values;U=0;for(ka=P.length;U<ka;++U)G=P[U],z=p[G.field]||(p[G.field]={}),K=z[L]||(z[L]=
[]),C[G.field]=G=G.type.charAt(0),G=k[G+"_union"],z[L]=G(K,m.array(D[U]));a&&(K=A[L]||(A[L]=[]),K.push(m.array(D).reduce((ba,fa,ja)=>(ba[P[ja].field]=fa,ba),{})))}f=f||"union";Object.keys(p).forEach(ba=>{p[ba]=Object.keys(p[ba]).map(fa=>p[ba][fa]).reduce((fa,ja)=>void 0===fa?ja:k[C[ba]+"_"+f](fa,ja))});d=Object.keys(A);a&&d.length&&(p[e?"vlPoint":"vlMulti"]="union"===f?{["or"]:d.reduce((ba,fa)=>(ba.push(...A[fa]),ba),[])}:{["and"]:d.map(ba=>({["or"]:A[ba]}))});return p};g.selectionTest=function(d,
f,a){var e=this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;for(var p=d.length,A=0,C,D,P,L;A<p;++A)if(C=d[A],e&&a){if(D=D||{},P=D[L=C.unit]||0,-1!==P){C=O(f,C);D[L]=C?-1:++P;if(C&&1===e.size)return!0;if(!C&&P===e.get(L).count)return!1}}else if(C=O(f,C),a^C)return C;return p&&a};g.selectionTuples=function(d,f){return d.map(a=>m.extend({values:f.fields.map(e=>(e.getter||(e.getter=m.field(e.field)))(a.datum))},f))};g.selectionVisitor=function(d,
f,a,e){f[0].type!==n.Literal&&m.error("First argument to selection functions must be a string literal.");d=f[0].value;f=2<=f.length&&m.peek(f).value;const p=":"+d;"intersect"!==f||m.hasOwnProperty(e,"@unit")||(e["@unit"]=a.getData(d).indataRef(a,"unit"));m.hasOwnProperty(e,p)||(e[p]=a.getData(d).tuplesRef())};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(56),B(39),B(32),B(26),B(35),B(36),B(57),B(27),B(18),B(15)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.d3,g.d3,g.vega,g.vega,g.vega,g.vega,g.vega,g.vega,
g.d3))})(this,function(g,m,n,E,O,x,y,v,l,k,d,f){function a(Hb){return(Hb=this.context.data[Hb])?Hb.values.value:[]}function e(Hb,yc,Vc){return(Vc=(Hb=this.context.data[Hb]["index:"+yc])?Hb.value.get(Vc):void 0)?Vc.count:Vc}function p(Hb,yc){const Vc=this.context.dataflow;Vc.pulse(this.context.data[Hb].input,Vc.changeset().remove(m.truthy).insert(yc));return 1}function A(Hb,yc,Vc){if(Hb){const Gd=this.context.dataflow;Gd.pulse(Hb.mark.source,Gd.changeset().encode(Hb,yc))}return void 0!==Vc?Vc:Hb}function C(Hb,
yc,Vc){if(!Number.isInteger(Hb)||!Number.isInteger(yc))return"";Uc.setYear(2E3);Uc.setMonth(Hb);Uc.setDate(yc);return pc.call(this,Uc,Vc)}function D(Hb){return C.call(this,Hb,1,"%B")}function P(Hb){return C.call(this,Hb,1,"%b")}function L(Hb){return C.call(this,0,2+Hb,"%A")}function G(Hb){return C.call(this,0,2+Hb,"%a")}function z(Hb,yc,Vc,Gd){yc[0].type!==n.Literal&&m.error("First argument to data functions must be a string literal.");Hb=yc[0].value;yc=":"+Hb;if(!m.hasOwnProperty(yc,Gd))try{Gd[yc]=
Vc.getData(Hb).tuplesRef()}catch(Wd){}}function K(Hb,yc,Vc,Gd){yc[0].type!==n.Literal&&m.error("First argument to indata must be a string literal.");yc[1].type!==n.Literal&&m.error("Second argument to indata must be a string literal.");Hb=yc[0].value;yc=yc[1].value;const Wd="@"+yc;m.hasOwnProperty(Wd,Gd)||(Gd[Wd]=Vc.getData(Hb).indataRef(Vc,yc))}function H(Hb,yc,Vc,Gd){if(yc[0].type===n.Literal)R(Vc,Gd,yc[0].value);else for(Hb in Vc.scales)R(Vc,Gd,Hb)}function R(Hb,yc,Vc){const Gd="%"+Vc;if(!m.hasOwnProperty(yc,
Gd))try{yc[Gd]=Hb.scaleRef(Vc)}catch(Wd){}}function U(Hb,yc){let Vc;return m.isFunction(Hb)?Hb:m.isString(Hb)?(Vc=yc.scales[Hb])&&Vc.value:void 0}function ka(Hb,yc,Vc){yc.__bandwidth=Wd=>Wd&&Wd.bandwidth?Wd.bandwidth():0;Vc._bandwidth=H;Vc._range=H;Vc._scale=H;const Gd=Wd=>"_["+(Wd.type===n.Literal?m.stringValue("%"+Wd.value):m.stringValue("%")+"+"+Hb(Wd))+"]";return{_bandwidth:Wd=>`this.__bandwidth(${Gd(Wd[0])})`,_range:Wd=>`${Gd(Wd[0])}.range()`,_scale:Wd=>`${Gd(Wd[0])}(${Hb(Wd[1])})`}}function ba(Hb,
yc){return function(Vc,Gd,Wd){return Vc?(Vc=U(Vc,(Wd||this).context))&&Vc.path[Hb](Gd):yc(Gd)}}function fa(Hb){const yc=this.context.group;let Vc=!1;if(yc)for(;Hb;){if(Hb===yc){Vc=!0;break}Hb=Hb.mark.group}return Vc}function ja(Hb,yc,Vc){try{Hb[yc].apply(Hb,["EXPRESSION"].concat([].slice.call(Vc)))}catch(Gd){Hb.warn(Gd)}return Vc[Vc.length-1]}function Z(){return ja(this.context.dataflow,"warn",arguments)}function Q(){return ja(this.context.dataflow,"info",arguments)}function q(){return ja(this.context.dataflow,
"debug",arguments)}function N(Hb){Hb/=255;return.03928>=Hb?Hb/12.92:Math.pow((Hb+.055)/1.055,2.4)}function da(Hb){var yc=O.rgb(Hb);Hb=N(yc.r);const Vc=N(yc.g);yc=N(yc.b);return.2126*Hb+.7152*Vc+.0722*yc}function aa(Hb,yc){Hb=da(Hb);yc=da(yc);return(Math.max(Hb,yc)+.05)/(Math.min(Hb,yc)+.05)}function wa(){const Hb=[].slice.call(arguments);Hb.unshift({});return m.extend(...Hb)}function ua(Hb,yc){if(Hb===yc||Hb!==Hb&&yc!==yc)Hb=!0;else if(m.isArray(Hb))if(m.isArray(yc)&&Hb.length===yc.length)a:{for(let Vc=
0,Gd=Hb.length;Vc<Gd;++Vc)if(!ua(Hb[Vc],yc[Vc])){Hb=!1;break a}Hb=!0}else Hb=!1;else Hb=m.isObject(Hb)&&m.isObject(yc)?Ea(Hb,yc):!1;return Hb}function Ea(Hb,yc){for(const Vc in Hb)if(!ua(Hb[Vc],yc[Vc]))return!1;return!0}function $a(Hb){return yc=>Ea(Hb,yc)}function kb(Hb,yc,Vc,Gd,Wd,La){const fb=this.context.dataflow,wb=this.context.data[Hb],Ib=wb.input;Hb=fb.stamp();let Zb=wb.changes,ic;if(!1===fb._trigger||!(Ib.value.length||yc||Gd))return 0;if(!Zb||Zb.stamp<Hb)wb.changes=Zb=fb.changeset(),Zb.stamp=
Hb,fb.runAfter(()=>{wb.modified=!0;fb.pulse(Ib,Zb).run()},!0,1);Vc&&(Vc=!0===Vc?m.truthy:m.isArray(Vc)||x.isTuple(Vc)?Vc:$a(Vc),Zb.remove(Vc));yc&&Zb.insert(yc);Gd&&(Vc=$a(Gd),Ib.value.some(Vc)?Zb.remove(Vc):Zb.insert(Gd));if(Wd)for(ic in La)Zb.modify(Wd,ic,La[ic]);return 1}function ta(Hb){var yc=Hb.touches;Hb=yc[0].clientX-yc[1].clientX;yc=yc[0].clientY-yc[1].clientY;return Math.sqrt(Hb*Hb+yc*yc)}function Ta(Hb){Hb=Hb.touches;return Math.atan2(Hb[0].clientY-Hb[1].clientY,Hb[0].clientX-Hb[1].clientX)}
function Xa(Hb,yc){yc=Fd[yc]||(Fd[yc]=m.field(yc));return m.isArray(Hb)?Hb.map(yc):yc(Hb)}function Fa(Hb){return m.isArray(Hb)||ArrayBuffer.isView(Hb)?Hb:null}function va(Hb){return Fa(Hb)||(m.isString(Hb)?Hb:null)}function V(Hb,...yc){return Fa(Hb).join(...yc)}function X(Hb,...yc){return va(Hb).indexOf(...yc)}function ca(Hb,...yc){return va(Hb).lastIndexOf(...yc)}function ea(Hb,...yc){return va(Hb).slice(...yc)}function ra(Hb,yc,Vc){m.isFunction(Vc)&&m.error("Function argument passed to replace.");
return String(Hb).replace(yc,Vc)}function qa(Hb){return Fa(Hb).slice().reverse()}function Ha(Hb,yc,Vc){return y.bandSpace(Hb||0,yc||0,Vc||0)}function na(Hb,yc){return(Hb=U(Hb,(yc||this).context))&&Hb.bandwidth?Hb.bandwidth():0}function Pa(Hb,yc){return(Hb=U(Hb,(yc||this).context))?Hb.copy():void 0}function cb(Hb,yc){return(Hb=U(Hb,(yc||this).context))?Hb.domain():[]}function ab(Hb,yc,Vc){return(Hb=U(Hb,(Vc||this).context))?m.isArray(yc)?(Hb.invertRange||Hb.invert)(yc):(Hb.invert||Hb.invertExtent)(yc):
void 0}function Ba(Hb,yc){return(Hb=U(Hb,(yc||this).context))&&Hb.range?Hb.range():[]}function Ga(Hb,yc,Vc){return(Hb=U(Hb,(Vc||this).context))?Hb(yc):void 0}function oa(Hb,yc,Vc,Gd,Wd){Hb=U(Hb,(Wd||this).context);const La=v.Gradient(yc,Vc);yc=Hb.domain();Vc=yc[0];Wd=m.peek(yc);let fb=m.identity;Wd-Vc?fb=y.scaleFraction(Hb,Vc,Wd):Hb=(Hb.interpolator?y.scale("sequential")().interpolator(Hb.interpolator()):y.scale("linear")().interpolate(Hb.interpolate()).range(Hb.range())).domain([Vc=0,Wd=1]);Hb.ticks&&
(yc=Hb.ticks(+Gd||15),Vc!==yc[0]&&yc.unshift(Vc),Wd!==m.peek(yc)&&yc.push(Wd));yc.forEach(wb=>La.stop(fb(wb),Hb(wb)));return La}function Ia(Hb,yc,Vc){const Gd=U(Hb,(Vc||this).context);return function(Wd){return Gd?Gd.path.context(Wd)(yc):""}}function Ua(Hb){let yc=null;return function(Vc){return Vc?v.pathRender(Vc,yc=yc||v.pathParse(Hb)):Hb}}function eb(Hb,yc){Hb=a.call(yc,Hb);return Hb.root&&Hb.root.lookup||{}}function Gb(Hb,yc,Vc){Hb=eb(Hb,this);yc=Hb[yc];Vc=Hb[Vc];return yc&&Vc?yc.path(Vc).map(fe):
void 0}function Tb(Hb,yc){return(Hb=eb(Hb,this)[yc])?Hb.ancestors().map(fe):void 0}function kc(){const Hb="undefined"!==typeof window&&window||null;return Hb?Hb.screen:{}}function bd(){const Hb="undefined"!==typeof window&&window||null;return Hb?[Hb.innerWidth,Hb.innerHeight]:[void 0,void 0]}function tc(){var Hb=this.context.dataflow;return(Hb=Hb.container&&Hb.container())?[Hb.clientWidth,Hb.clientHeight]:[void 0,void 0]}function Fc(Hb){let yc=null;if(Hb){const Vc=m.array(Hb.marktype),Gd=m.array(Hb.markname);
yc=Wd=>(!Vc.length||Vc.some(La=>Wd.marktype===La))&&(!Gd.length||Gd.some(La=>Wd.name===La))}return yc}function mb(Hb,yc,Vc){if(1===arguments.length)return vd[Hb];vd[Hb]=yc;Vc&&(Yd[Hb]=Vc);fc&&(fc.functions[Hb]="this."+Hb);return this}var dc=Hb=>function(yc,Vc){return this.context.dataflow.locale()[Hb](Vc)(yc)};const Bc=dc("format"),pc=dc("timeFormat"),Cc=dc("utcFormat"),nc=dc("timeParse");dc=dc("utcParse");const Uc=new Date(2E3,0,1),Tc=ba("area",E.geoArea),Kc=ba("bounds",E.geoBounds);E=ba("centroid",
E.geoCentroid);const Fd={},fe=Hb=>Hb.data,vd={random(){return k.random()},cumulativeNormal:k.cumulativeNormal,cumulativeLogNormal:k.cumulativeLogNormal,cumulativeUniform:k.cumulativeUniform,densityNormal:k.densityNormal,densityLogNormal:k.densityLogNormal,densityUniform:k.densityUniform,quantileNormal:k.quantileNormal,quantileLogNormal:k.quantileLogNormal,quantileUniform:k.quantileUniform,sampleNormal:k.sampleNormal,sampleLogNormal:k.sampleLogNormal,sampleUniform:k.sampleUniform,isArray:m.isArray,
isBoolean:m.isBoolean,isDate:m.isDate,isDefined(Hb){return void 0!==Hb},isNumber:m.isNumber,isObject:m.isObject,isRegExp:m.isRegExp,isString:m.isString,isTuple:x.isTuple,isValid(Hb){return null!=Hb&&Hb===Hb},toBoolean:m.toBoolean,toDate:m.toDate,toNumber:m.toNumber,toString:m.toString,indexof:X,join:V,lastindexof:ca,replace:ra,reverse:qa,slice:ea,flush:m.flush,lerp:m.lerp,merge:wa,pad:m.pad,peek:m.peek,pluck:Xa,span:m.span,inrange:m.inrange,truncate:m.truncate,rgb:O.rgb,lab:O.lab,hcl:O.hcl,hsl:O.hsl,
luminance:da,contrast:aa,sequence:f.range,format:Bc,utcFormat:Cc,utcParse:dc,utcOffset:d.utcOffset,utcSequence:d.utcSequence,timeFormat:pc,timeParse:nc,timeOffset:d.timeOffset,timeSequence:d.timeSequence,timeUnitSpecifier:d.timeUnitSpecifier,monthFormat:D,monthAbbrevFormat:P,dayFormat:L,dayAbbrevFormat:G,quarter:m.quarter,utcquarter:m.utcquarter,week:d.week,utcweek:d.utcweek,dayofyear:d.dayofyear,utcdayofyear:d.utcdayofyear,warn:Z,info:Q,debug:q,extent:m.extent,inScope:fa,intersect:function(Hb,yc,
Vc){if(!Hb)return[];const [Gd,Wd]=Hb;Hb=(new v.Bounds).set(Gd[0],Gd[1],Wd[0],Wd[1]);Vc=Vc||this.context.dataflow.scenegraph().root;return v.intersect(Vc,Hb,Fc(yc))},clampRange:m.clampRange,pinchDistance:ta,pinchAngle:Ta,screen:kc,containerSize:tc,windowSize:bd,bandspace:Ha,setdata:p,pathShape:Ua,panLinear:m.panLinear,panLog:m.panLog,panPow:m.panPow,panSymlog:m.panSymlog,zoomLinear:m.zoomLinear,zoomLog:m.zoomLog,zoomPow:m.zoomPow,zoomSymlog:m.zoomSymlog,encode:A,modify:kb},Rc="view item group xy x y".split(" "),
Yd={},Pb={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Hb=>`_[${m.stringValue("$"+Hb)}]`,functions:function(Hb){const yc=n.functions(Hb);Rc.forEach(Vc=>yc[Vc]="event.vega."+Vc);for(const Vc in vd)yc[Vc]="this."+Vc;m.extend(yc,ka(Hb,vd,Yd));return yc},constants:n.constants,visitors:Yd},fc=n.codegen(Pb);mb("bandwidth",na,H);mb("copy",Pa,H);mb("domain",cb,H);mb("range",Ba,H);mb("invert",ab,H);mb("scale",Ga,H);mb("gradient",oa,H);mb("geoArea",Tc,H);mb("geoBounds",Kc,H);
mb("geoCentroid",E,H);mb("geoShape",Ia,H);mb("indata",e,K);mb("data",a,z);mb("treePath",Gb,z);mb("treeAncestors",Tb,z);mb("vlSelectionTest",l.selectionTest,l.selectionVisitor);mb("vlSelectionIdTest",l.selectionIdTest,l.selectionVisitor);mb("vlSelectionResolve",l.selectionResolve,l.selectionVisitor);mb("vlSelectionTuples",l.selectionTuples);g.DataPrefix=":";g.IndexPrefix="@";g.ScalePrefix="%";g.SignalPrefix="$";g.bandspace=Ha;g.bandwidth=na;g.codeGenerator=fc;g.codegenParams=Pb;g.containerSize=tc;
g.contrast=aa;g.copy=Pa;g.data=a;g.dataVisitor=z;g.dayAbbrevFormat=G;g.dayFormat=L;g.debug=q;g.domain=cb;g.encode=A;g.expressionFunction=mb;g.format=Bc;g.functionContext=vd;g.geoArea=Tc;g.geoBounds=Kc;g.geoCentroid=E;g.geoShape=Ia;g.inScope=fa;g.indata=e;g.indataVisitor=K;g.indexof=X;g.info=Q;g.invert=ab;g.join=V;g.lastindexof=ca;g.luminance=da;g.merge=wa;g.modify=kb;g.monthAbbrevFormat=P;g.monthFormat=D;g.parseExpression=function(Hb,yc){const Vc={};let Gd;try{Hb=m.isString(Hb)?Hb:m.stringValue(Hb)+
"",Gd=n.parse(Hb)}catch(Wd){m.error("Expression parse error: "+Hb)}Gd.visit(Wd=>{if(Wd.type===n.CallExpression){var La=Wd.callee.name,fb=Pb.visitors[La];fb&&fb(La,Wd.arguments,yc,Vc)}});Hb=fc(Gd);Hb.globals.forEach(Wd=>{const La="$"+Wd;!m.hasOwnProperty(Vc,La)&&yc.getSignal(Wd)&&(Vc[La]=yc.signalRef(Wd))});return{$expr:m.extend({code:Hb.code},yc.options.ast?{ast:Gd}:null),$fields:Hb.fields,$params:Vc}};g.pathShape=Ua;g.pinchAngle=Ta;g.pinchDistance=ta;g.pluck=Xa;g.range=Ba;g.replace=ra;g.reverse=
qa;g.scale=Ga;g.scaleGradient=oa;g.scaleVisitor=H;g.screen=kc;g.setdata=p;g.slice=ea;g.timeFormat=pc;g.timeParse=nc;g.treeAncestors=Tb;g.treePath=Gb;g.utcFormat=Cc;g.utcParse=dc;g.warn=Z;g.windowSize=bd;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[59]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega))})(this,function(g,m,n){function E(a,e,p){";"!==p[p.length-1]&&(p="return("+p+");");e=Function(...e.concat(p));return a&&a.functions?e.bind(a.functions):e}function O(a,e,p){if(!a||!m.isObject(a))return a;for(let A=0,
C=d.length,D;A<C;++A)if(D=d[A],m.hasOwnProperty(a,D.key))return D.parse(a,e,p);return a}function x(a,e,p,A){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=A||k;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};p&&(this.functions=Object.create(p),this.functions.context=this)}function y(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const v=m.toSet(["rule"]),l=m.toSet(["group","image","rect"]);var k={operator:(a,e)=>E(a,["_"],e.code),parameter:(a,e)=>E(a,["datum","_"],e.code),event:(a,e)=>E(a,["event"],e.code),handler:(a,e)=>E(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:p,channels:A}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var C in A){const D="o["+m.stringValue(C)+"]";e+=`$=${A[C].code};if(${D}!==$)${D}=$,m=1;`}C="";v[p]||(A.x2&&(A.x?(l[p]&&(C+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),C+="o.width\x3do.x2-o.x;"):C+="o.x\x3do.x2-(o.width||0);"),A.xc&&(C+="o.x\x3do.xc-(o.width||0)/2;"),A.y2&&(A.y?(l[p]&&(C+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),C+="o.height\x3do.y2-o.y;"):C+="o.y\x3do.y2-(o.height||0);"),A.yc&&(C+="o.y\x3do.yc-(o.height||0)/2;"));e+=C;return E(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(m.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let p;a=Function("a","b","var u, v; return "+a.map((A,C)=>{const D=e[C];let P;A.path?(P=`a${A.path}`,A=`b${A.path}`):((p=p||{})["f"+C]=A,P=`this.f${C}(a)`,A=`this.f${C}(b)`);C=-D;return`((u = ${P}) < (v = ${A}) || u == null) && v != null ? ${C}
  : (u > v || v == null) && u != null ? ${D}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${C}
  : v !== v && u === u ? ${D} : `}).join("")+"0;");return p?a.bind(p):a}}},d=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||m.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const p="k:"+a.$key+"_"+!!a.$flat;return e.fn[p]||(e.fn[p]=m.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,p){a.$params&&e.parseParameters(a.$params,p);p="e:"+a.$expr.code+"_"+a.$name;return e.fn[p]||(e.fn[p]=m.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const p="f:"+a.$field+"_"+a.$name;return e.fn[p]||(e.fn[p]=m.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const p={};for(const A in a){const C=a[A];p[A]=m.accessor(e.encodeExpression(C.$expr),C.$fields);p[A].output=C.$output}return p}},{key:"$compare",parse:function(a,e){const p="c:"+a.$compare+"_"+a.$order,A=m.array(a.$compare).map(C=>C&&C.$tupleid?n.tupleid:C);return e.fn[p]||(e.fn[p]=m.compare(A,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const p=a.$subflow;return function(A,C,D){const P=e.fork().parse(p);A=P.get(p.operators[0].id);(C=P.signals.parent)&&C.set(D);A.detachSubflow=()=>e.detach(P);return A}}},{key:"$tupleid",parse:function(){return n.tupleid}}];const f={skip:!0};x.prototype=y.prototype={fork(){const a=new y(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(p=>
p!==a);const e=Object.keys(a.nodes);for(const p of e)a.nodes[p]._targets=null;for(const p of e)a.nodes[p].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const p=this,A=p.dataflow,C=a.value;p.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&C&&(C.$ingest?A.ingest(e,C.$ingest,C.$format):C.$request?A.preload(e,C.$request,C.$format):A.pulse(e,A.changeset().insert(C)));a.root&&(p.root=e);if(a.parent){let D=p.get(a.parent.$ref);D?(A.connect(D,[e]),e.targets().add(D)):
(p.unresolved=p.unresolved||[]).push(()=>{D=p.get(a.parent.$ref);A.connect(D,[e]);e.targets().add(D)})}a.signal&&(p.signals[a.signal]=e);a.scale&&(p.scales[a.scale]=e);if(a.data)for(const D in a.data){const P=p.data[D]||(p.data[D]={});a.data[D].forEach(L=>P[L]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,p,A,C){this.dataflow.on(e,p,A,C,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,p=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);p.forEach(A=>
e.parseOperator(A));p.forEach(A=>e.parseOperatorParameters(A));(a.streams||[]).forEach(A=>e.parseStream(A));(a.updates||[]).forEach(A=>e.parseUpdate(A));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||m.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const p=this;for(const A in a){const C=a[A];e[A]=m.isArray(C)?C.map(D=>O(D,p,e)):O(C,p,e)}return e},parseStream:function(a){var e=this,p=null!=a.filter?e.eventExpression(a.filter):void 0,A=null!=a.stream?e.get(a.stream):void 0;if(a.source)A=e.events(a.source,a.type,p);else if(a.merge){var C=a.merge.map(D=>e.get(D));A=C[0].merge.apply(C[0],C.slice(1))}a.between&&(C=a.between.map(D=>e.get(D)),A=A.between(C[0],C[1]));a.filter&&(A=A.filter(p));
null!=a.throttle&&(A=A.throttle(+a.throttle));null!=a.debounce&&(A=A.debounce(+a.debounce));null==A&&m.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&A.consume(!0);e.stream(a,A)},parseUpdate:function(a){var e=m.isObject(e=a.source)?e.$ref:e;e=this.get(e);var p=a.update,A=void 0;e||m.error("Source not defined: "+a.source);var C=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);p&&p.$expr&&(p.$params&&(A=this.parseParameters(p.$params)),p=this.handlerExpression(p.$expr));
this.update(a,e,C,p,A)},getState:function(a){var e=this,p={};if(a.signals){var A=p.signals={};Object.keys(e.signals).forEach(D=>{const P=e.signals[D];a.signals(D,P)&&(A[D]=P.value)})}if(a.data){var C=p.data={};Object.keys(e.data).forEach(D=>{const P=e.data[D];a.data(D,P)&&(C[D]=P.input.value)})}e.subcontext&&!1!==a.recurse&&(p.subcontext=e.subcontext.map(D=>D.getState(a)));return p},setState:function(a){var e=this,p=e.dataflow,A=a.data,C=a.signals;Object.keys(C||{}).forEach(D=>{p.update(e.signals[D],
C[D],f)});Object.keys(A||{}).forEach(D=>{p.pulse(e.data[D].input,p.changeset().remove(m.truthy).insert(A[D]))});(a.subcontext||[]).forEach((D,P)=>{(P=e.subcontext[P])&&P.setState(D)})}};g.context=function(a,e,p,A){return new x(a,e,p,A)};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(26),B(36),B(15),B(58),B(59),B(45),B(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.d3,g.vega,g.vega,g.d3,g.vega))})(this,function(g,m,n,E,O,x,y,v,l){function k(oa){const Ia=oa.container();
Ia&&(Ia.setAttribute("role","graphics-document"),Ia.setAttribute("aria-roleDescription","visualization"),d(Ia,oa.description()))}function d(oa,Ia){oa&&(null==Ia?oa.removeAttribute("aria-label"):oa.setAttribute("aria-label",Ia))}function f(oa){oa.add(null,Ia=>{oa._background=Ia.bg;oa._resize=1;return Ia.bg},{bg:oa._signals.background})}function a(oa){const Ia=oa._signals.cursor||(oa._signals.cursor=oa.add({user:"default",item:null}));oa.on(oa.events("view","mousemove"),Ia,(Ua,eb)=>{const Gb=(Ua=Ia.value)?
m.isString(Ua)?Ua:Ua.user:"default";eb=eb.item&&eb.item.cursor||null;return Ua&&Gb===Ua.user&&eb==Ua.item?Ua:{user:Gb,item:eb}});oa.add(null,function(Ua){Ua=Ua.cursor;let eb=this.value;m.isString(Ua)||(eb=Ua.item,Ua=Ua.user);e(oa,Ua&&"default"!==Ua?Ua:eb||Ua);return eb},{cursor:Ia})}function e(oa,Ia){if(oa=oa.globalCursor()?"undefined"!==typeof document&&document.body:oa.container())return null==Ia?oa.style.removeProperty("cursor"):oa.style.cursor=Ia}function p(oa,Ia){oa=oa._runtime.data;m.hasOwnProperty(oa,
Ia)||m.error("Unrecognized data set: "+Ia);return oa[Ia]}function A(oa,Ia){n.isChangeSet(Ia)||m.error("Second argument to changes must be a changeset.");oa=p(this,oa);oa.modified=!0;return this.pulse(oa.input,Ia)}function C(oa){var Ia=oa.padding();return Math.max(0,oa._viewWidth+Ia.left+Ia.right)}function D(oa){var Ia=oa.padding();return Math.max(0,oa._viewHeight+Ia.top+Ia.bottom)}function P(oa){var Ia=oa.padding();oa=oa._origin;return[Ia.left+oa[0],Ia.top+oa[1]]}function L(oa){var Ia=P(oa),Ua=C(oa),
eb=D(oa);oa._renderer.background(oa.background());oa._renderer.resize(Ua,eb,Ia);oa._handler.origin(Ia);oa._resizeListeners.forEach(Gb=>{try{Gb(Ua,eb)}catch(Tb){oa.error(Tb)}})}function G(oa,Ia,Ua){var eb=oa._renderer;eb=eb&&eb.canvas();if(eb){var Gb=P(oa);var Tb=Ia.changedTouches?Ia.changedTouches[0]:Ia;Tb=E.point(Tb,eb);Tb[0]-=Gb[0];Tb[1]-=Gb[1]}Ia.dataflow=oa;Ia.item=Ua;Ia.vega=z(oa,Ua,Tb);return Ia}function z(oa,Ia,Ua){function eb(kc){var bd=Tb,tc;if(kc)for(tc=Ia;tc;tc=tc.mark.group)if(tc.mark.name===
kc){bd=tc;break}return bd&&bd.mark&&bd.mark.interactive?bd:{}}function Gb(kc){if(!kc)return Ua;m.isString(kc)&&(kc=eb(kc));const bd=Ua.slice();for(;kc;)bd[0]-=kc.x||0,bd[1]-=kc.y||0,kc=kc.mark&&kc.mark.group;return bd}const Tb=Ia?"group"===Ia.mark.marktype?Ia:Ia.mark.group:null;return{view:m.constant(oa),item:m.constant(Ia||{}),group:eb,xy:Gb,x:kc=>Gb(kc)[0],y:kc=>Gb(kc)[1]}}function K(oa){oa=m.extend({defaults:{}},oa);const Ia=(Ua,eb)=>{eb.forEach(Gb=>{m.isArray(Ua[Gb])&&(Ua[Gb]=m.toSet(Ua[Gb]))})};
Ia(oa.defaults,["prevent","allow"]);Ia(oa,["view","window","selector"]);return oa}function H(oa,Ia,Ua){const eb=oa._eventConfig&&oa._eventConfig[Ia];return!1===eb||m.isObject(eb)&&!eb[Ua]?(oa.warn(`Blocked ${Ia} ${Ua} event listener.`),!1):!0}function R(oa){return oa.item}function U(oa){return oa.item.mark.source}function ka(oa){return function(Ia,Ua){return Ua.vega.view().changeset().encode(Ua.item,oa)}}function ba(oa,Ia,Ua){oa=document.createElement(oa);for(const eb in Ia)oa.setAttribute(eb,Ia[eb]);
null!=Ua&&(oa.textContent=Ua);return oa}function fa(oa,Ia,Ua){if(Ia){var eb=Ua.param,Gb=Ua.state;Gb||(Gb=Ua.state={elements:null,active:!1,set:null,update:Tb=>{Tb!==oa.signal(eb.signal)&&oa.runAsync(null,()=>{Gb.source=!0;oa.signal(eb.signal,Tb)})}},eb.debounce&&(Gb.update=m.debounce(eb.debounce,Gb.update)));ja(Gb,Ia,eb,oa.signal(eb.signal));Gb.active||(oa.on(oa._signals[eb.signal],null,()=>{Gb.source?Gb.source=!1:Gb.set(oa.signal(eb.signal))}),Gb.active=!0);return Gb}}function ja(oa,Ia,Ua,eb){const Gb=
ba("div",{"class":"vega-bind"}),Tb="radio"===Ua.input?Gb:Gb.appendChild(ba("label"));Tb.appendChild(ba("span",{"class":"vega-bind-name"},Ua.name||Ua.signal));Ia.appendChild(Gb);Ia=Z;switch(Ua.input){case "checkbox":Ia=Q;break;case "select":Ia=q;break;case "radio":Ia=N;break;case "range":Ia=da}Ia(oa,Tb,Ua,eb)}function Z(oa,Ia,Ua,eb){const Gb=ba("input");for(const Tb in Ua)"signal"!==Tb&&"element"!==Tb&&Gb.setAttribute("input"===Tb?"type":Tb,Ua[Tb]);Gb.setAttribute("name",Ua.signal);Gb.value=eb;Ia.appendChild(Gb);
Gb.addEventListener("input",()=>oa.update(Gb.value));oa.elements=[Gb];oa.set=Tb=>Gb.value=Tb}function Q(oa,Ia,Ua,eb){Ua={type:"checkbox",name:Ua.signal};eb&&(Ua.checked=!0);const Gb=ba("input",Ua);Ia.appendChild(Gb);Gb.addEventListener("change",()=>oa.update(Gb.checked));oa.elements=[Gb];oa.set=Tb=>Gb.checked=!!Tb||null}function q(oa,Ia,Ua,eb){const Gb=ba("select",{name:Ua.signal}),Tb=Ua.labels||[];Ua.options.forEach((kc,bd)=>{const tc={value:kc};aa(kc,eb)&&(tc.selected=!0);Gb.appendChild(ba("option",
tc,(Tb[bd]||kc)+""))});Ia.appendChild(Gb);Gb.addEventListener("change",()=>{oa.update(Ua.options[Gb.selectedIndex])});oa.elements=[Gb];oa.set=kc=>{for(let bd=0,tc=Ua.options.length;bd<tc;++bd)if(aa(Ua.options[bd],kc)){Gb.selectedIndex=bd;break}}}function N(oa,Ia,Ua,eb){const Gb=ba("span",{"class":"vega-bind-radio"}),Tb=Ua.labels||[];Ia.appendChild(Gb);oa.elements=Ua.options.map((kc,bd)=>{var tc={type:"radio",name:Ua.signal,value:kc};aa(kc,eb)&&(tc.checked=!0);tc=ba("input",tc);tc.addEventListener("change",
()=>oa.update(kc));bd=ba("label",{},(Tb[bd]||kc)+"");bd.prepend(tc);Gb.appendChild(bd);return tc});oa.set=kc=>{const bd=oa.elements,tc=bd.length;for(let Fc=0;Fc<tc;++Fc)aa(bd[Fc].value,kc)&&(bd[Fc].checked=!0)}}function da(oa,Ia,Ua,eb){eb=void 0!==eb?eb:(+Ua.max+ +Ua.min)/2;const Gb=null!=Ua.max?Ua.max:Math.max(100,+eb)||100,Tb=Ua.min||Math.min(0,Gb,+eb)||0,kc=Ua.step||O.tickStep(Tb,Gb,100),bd=ba("input",{type:"range",name:Ua.signal,min:Tb,max:Gb,step:kc});bd.value=eb;const tc=ba("span",{},+eb);Ia.appendChild(bd);
Ia.appendChild(tc);Ia=()=>{tc.textContent=bd.value;oa.update(+bd.value)};bd.addEventListener("input",Ia);bd.addEventListener("change",Ia);oa.elements=[bd];oa.set=Fc=>{bd.value=Fc;tc.textContent=Fc}}function aa(oa,Ia){return oa===Ia||oa+""===Ia+""}function wa(oa,Ia,Ua,eb,Gb,Tb){Ia=Ia||new eb(oa.loader());return Ia.initialize(Ua,C(oa),D(oa),P(oa),Gb,Tb).background(oa.background())}function ua(oa,Ia){return Ia?function(){try{Ia.apply(this,arguments)}catch(Ua){oa.error(Ua)}}:null}function Ea(oa,Ia,Ua,
eb){const Gb=(new eb(oa.loader(),ua(oa,oa.tooltip()))).scene(oa.scenegraph().root).initialize(Ua,P(oa),oa);Ia&&Ia.handlers().forEach(Tb=>{Gb.on(Tb.type,Tb.handler)});return Gb}function $a(oa,Ia){if("string"===typeof Ia)if("undefined"!==typeof document){if(Ia=document.querySelector(Ia),!Ia)return oa.error("Signal bind element not found: "+Ia),null}else return oa.error("DOM document instance not found."),null;if(Ia)try{Ia.innerHTML=""}catch(Ua){Ia=null,oa.error(Ua)}return Ia}function kb(oa){m.isObject(oa)?
oa={top:+oa.top||0,bottom:+oa.bottom||0,left:+oa.left||0,right:+oa.right||0}:(oa=+oa||0,oa={top:oa,bottom:oa,left:oa,right:oa});return oa}function ta(oa,Ia,Ua,eb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Gb=E.renderModule(Ia);(Gb=Gb&&Gb.headless)||m.error("Unrecognized renderer type: "+Ia);yield oa.runAsync();return wa(oa,null,null,Gb,Ua,eb).renderAsync(oa._scenegraph.root)})}function Ta(oa,Ia,Ua){return y.context(oa,n.transforms,x.functionContext,Ua).parse(Ia)}function Xa(oa,
Ia){var Ua=oa.autosize();oa=oa.padding();return Ia-(Ua&&"padding"===Ua.contains?oa.left+oa.right:0)}function Fa(oa,Ia){var Ua=oa.autosize();oa=oa.padding();return Ia-(Ua&&"padding"===Ua.contains?oa.top+oa.bottom:0)}function va(oa){function Ia(){oa._autosize=oa._resize=1}var Ua=oa._signals,eb=Ua.width,Gb=Ua.height;Ua=Ua.padding;oa._resizeWidth=oa.add(null,kc=>{oa._width=kc.size;oa._viewWidth=Xa(oa,kc.size);Ia()},{size:eb});oa._resizeHeight=oa.add(null,kc=>{oa._height=kc.size;oa._viewHeight=Fa(oa,kc.size);
Ia()},{size:Gb});const Tb=oa.add(null,Ia,{pad:Ua});oa._resizeWidth.rank=eb.rank+1;oa._resizeHeight.rank=Gb.rank+1;Tb.rank=Ua.rank+1}function V(oa,Ia){return Ia.modified&&m.isArray(Ia.input.value)&&oa.indexOf("_:vega:_")}function X(oa,Ia){return!("parent"===oa||Ia instanceof n.transforms.proxy)}function ca(oa,Ia,Ua,eb){(oa=oa.element())&&oa.setAttribute("title",ea(eb))}function ea(oa){return null==oa?"":m.isArray(oa)?"["+oa.map(qa).join(", ")+"]":m.isObject(oa)&&!m.isDate(oa)?ra(oa):oa+""}function ra(oa){return Object.keys(oa).map(Ia=>
{const Ua=oa[Ia];return Ia+": "+(m.isArray(Ua)?"["+Ua.map(qa).join(", ")+"]":qa(Ua))}).join("\n")}function qa(oa){return m.isArray(oa)?"[]":m.isObject(oa)&&!m.isDate(oa)?"{}":oa}function Ha(oa,Ia){Ia=Ia||{};n.Dataflow.call(this);Ia.loader&&this.loader(Ia.loader);Ia.logger&&this.logger(Ia.logger);null!=Ia.logLevel&&this.logLevel(Ia.logLevel);if(Ia.locale||oa.locale){var Ua=m.extend({},oa.locale,Ia.locale);this.locale(l.locale(Ua.number,Ua.time))}this._elBind=this._el=null;this._renderType=Ia.renderer||
E.RenderType.Canvas;this._scenegraph=new E.Scenegraph;Ua=this._scenegraph.root;this._renderer=null;this._tooltip=Ia.tooltip||ca;this._redraw=!0;this._handler=(new E.CanvasHandler).scene(Ua);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=K(oa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const eb=Ta(this,oa,Ia.expr);this._runtime=eb;this._signals=eb.signals;this._bind=(oa.bindings||[]).map(Gb=>({state:null,
param:m.extend({},Gb)}));eb.root&&eb.root.set(Ua);Ua.source=eb.data.root.input;this.pulse(eb.data.root.input,this.changeset().insert(Ua.items));this._width=this.width();this._height=this.height();this._viewWidth=Xa(this,this._width);this._viewHeight=Fa(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;va(this);f(this);a(this);this.description(oa.description);Ia.hover&&this.hover();Ia.container&&this.initialize(Ia.container,Ia.bind)}function na(oa,Ia){return m.hasOwnProperty(oa._signals,
Ia)?oa._signals[Ia]:m.error("Unrecognized signal name: "+m.stringValue(Ia))}function Pa(oa,Ia){oa=(oa._targets||[]).filter(Ua=>Ua._update&&Ua._update.handler===Ia);return oa.length?oa[0]:null}function cb(oa,Ia,Ua,eb){let Gb=Pa(Ua,eb);Gb||(Gb=ua(oa,()=>eb(Ia,Ua.value)),Gb.handler=eb,oa.on(Ua,null,Gb));return oa}function ab(oa,Ia,Ua){(Ua=Pa(Ia,Ua))&&Ia._targets.remove(Ua);return oa}const Ba={trap:!1};var Ga={skip:!0};m.inherits(Ha,n.Dataflow,{evaluate(oa,Ia,Ua){const eb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield n.Dataflow.prototype.evaluate.call(eb,
oa,Ia);if(eb._redraw||eb._resize)try{eb._renderer&&(eb._resize&&(eb._resize=0,L(eb)),yield eb._renderer.renderAsync(eb._scenegraph.root)),eb._redraw=!1}catch(Gb){eb.error(Gb)}Ua&&n.asyncCallback(eb,Ua);return eb})},dirty(oa){this._redraw=!0;this._renderer&&this._renderer.dirty(oa)},description(oa){if(arguments.length){const Ia=null!=oa?oa+"":null;Ia!==this._desc&&d(this._el,this._desc=Ia);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(oa,Ia,Ua){const eb=na(this,oa);return 1===arguments.length?eb.value:this.update(eb,Ia,Ua)},width(oa){return arguments.length?this.signal("width",oa):this.signal("width")},height(oa){return arguments.length?this.signal("height",oa):this.signal("height")},padding(oa){return arguments.length?this.signal("padding",kb(oa)):kb(this.signal("padding"))},autosize(oa){return arguments.length?this.signal("autosize",oa):this.signal("autosize")},background(oa){return arguments.length?this.signal("background",
oa):this.signal("background")},renderer(oa){if(!arguments.length)return this._renderType;E.renderModule(oa)||m.error("Unrecognized renderer type: "+oa);oa!==this._renderType&&(this._renderType=oa,this._resetRenderer());return this},tooltip(oa){if(!arguments.length)return this._tooltip;oa!==this._tooltip&&(this._tooltip=oa,this._resetRenderer());return this},loader(oa){if(!arguments.length)return this._loader;oa!==this._loader&&(n.Dataflow.prototype.loader.call(this,oa),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(na(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(oa,Ia,Ua,eb,Gb,Tb){this.runAfter(kc=>{let bd=0;kc._autosize=0;kc.width()!==Ua&&(bd=1,kc.signal("width",Ua,Ga),kc._resizeWidth.skip(!0));kc.height()!==eb&&(bd=1,kc.signal("height",eb,Ga),kc._resizeHeight.skip(!0));kc._viewWidth!==oa&&(kc._resize=1,kc._viewWidth=oa);kc._viewHeight!==Ia&&(kc._resize=1,kc._viewHeight=Ia);
if(kc._origin[0]!==Gb[0]||kc._origin[1]!==Gb[1])kc._resize=1,kc._origin=Gb;bd&&kc.run("enter");Tb&&kc.runAfter(tc=>tc.resize())},!1,1)},addEventListener(oa,Ia,Ua){let eb=Ia;Ua&&!1===Ua.trap||(eb=ua(this,Ia),eb.raw=Ia);this._handler.on(oa,eb);return this},removeEventListener(oa,Ia){for(var Ua=this._handler.handlers(oa),eb=Ua.length,Gb,Tb;0<=--eb;)if(Tb=Ua[eb].type,Gb=Ua[eb].handler,oa===Tb&&(Ia===Gb||Ia===Gb.raw)){this._handler.off(Tb,Gb);break}return this},addResizeListener(oa){const Ia=this._resizeListeners;
0>Ia.indexOf(oa)&&Ia.push(oa);return this},removeResizeListener(oa){var Ia=this._resizeListeners;oa=Ia.indexOf(oa);0<=oa&&Ia.splice(oa,1);return this},addSignalListener(oa,Ia){return cb(this,oa,na(this,oa),Ia)},removeSignalListener(oa,Ia){return ab(this,na(this,oa),Ia)},addDataListener(oa,Ia){return cb(this,oa,p(this,oa).values,Ia)},removeDataListener(oa,Ia){return ab(this,p(this,oa).values,Ia)},globalCursor(oa){if(arguments.length){if(this._globalCursor!==!!oa){const Ia=e(this,null);this._globalCursor=
!!oa;Ia&&e(this,Ia)}return this}return this._globalCursor},preventDefault(oa){return arguments.length?(this._preventDefault=oa,this):this._preventDefault},timer:function(oa,Ia){this._timers.push(v.interval(function(Ua){oa({timestamp:Date.now(),elapsed:Ua})},Ia))},events:function(oa,Ia,Ua){var eb=this,Gb=new n.EventStream(Ua);Ua=function(tc,Fc){eb.runAsync(null,()=>{var mb;if(mb="view"===oa){var dc=eb._eventConfig.defaults;mb=dc.prevent;dc=dc.allow;mb=!1===mb||!0===dc?!1:!0===mb||!1===dc?!0:mb?mb[Ia]:
dc?!dc[Ia]:eb.preventDefault()}mb&&tc.preventDefault();Gb.receive(G(eb,tc,Fc))})};var Tb;if("timer"===oa)H(eb,"timer",Ia)&&eb.timer(Ua,Ia);else if("view"===oa)H(eb,"view",Ia)&&eb.addEventListener(Ia,Ua,Ba);else if("window"===oa?H(eb,"window",Ia)&&"undefined"!==typeof window&&(Tb=[window]):"undefined"!==typeof document&&H(eb,"selector",Ia)&&(Tb=document.querySelectorAll(oa)),Tb){for(var kc=0,bd=Tb.length;kc<bd;++kc)Tb[kc].addEventListener(Ia,Ua);eb._eventListeners.push({type:Ia,sources:Tb,handler:Ua})}else eb.warn("Can not resolve event source: "+
oa);return Gb},finalize:function(){var oa=this._tooltip,Ia=this._timers,Ua=this._eventListeners,eb;for(eb=Ia.length;0<=--eb;)Ia[eb].stop();for(eb=Ua.length;0<=--eb;){var Gb=Ua[eb];for(Ia=Gb.sources.length;0<=--Ia;)Gb.sources[Ia].removeEventListener(Gb.type,Gb.handler)}oa&&oa.call(this,this._handler,null,null,null);return this},hover:function(oa,Ia){oa=[oa||"hover"];Ia=[Ia||"update",oa[0]];this.on(this.events("view","mouseover",R),U,ka(oa));this.on(this.events("view","mouseout",R),U,ka(Ia));return this},
data:function(oa,Ia){return 2>arguments.length?p(this,oa).values.value:A.call(this,oa,n.changeset().remove(m.truthy).insert(Ia))},change:A,insert:function(oa,Ia){return A.call(this,oa,n.changeset().insert(Ia))},remove:function(oa,Ia){return A.call(this,oa,n.changeset().remove(Ia))},scale:function(oa){var Ia=this._runtime.scales;m.hasOwnProperty(Ia,oa)||m.error("Unrecognized scale or projection: "+oa);return Ia[oa].value},initialize:function(oa,Ia){const Ua=this;var eb=Ua._renderType;const Gb=Ua._eventConfig.bind;
var Tb=E.renderModule(eb);oa=Ua._el=oa?$a(Ua,oa):null;k(Ua);Tb||Ua.error("Unrecognized renderer type: "+eb);eb=Tb.handler||E.CanvasHandler;Tb=oa?Tb.renderer:Tb.headless;Ua._renderer=Tb?wa(Ua,Ua._renderer,oa,Tb):null;Ua._handler=Ea(Ua,Ua._handler,oa,eb);Ua._redraw=!0;oa&&"none"!==Gb&&(Ia=Ia?Ua._elBind=$a(Ua,Ia):oa.appendChild(ba("form",{"class":"vega-bindings"})),Ua._bind.forEach(kc=>{kc.param.element&&"container"!==Gb&&(kc.element=$a(Ua,kc.param.element))}),Ua._bind.forEach(kc=>{fa(Ua,kc.element||
Ia,kc)}));return Ua},toImageURL:function(oa,Ia){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){oa!==E.RenderType.Canvas&&oa!==E.RenderType.SVG&&oa!==E.RenderType.PNG&&m.error("Unrecognized image type: "+oa);var eb=yield ta(Ua,oa,Ia);oa===E.RenderType.SVG?(eb=eb.svg(),eb=new Blob([eb],{type:"image/svg+xml"}),eb=window.URL.createObjectURL(eb)):eb=eb.canvas().toDataURL("image/png");return eb})},toCanvas:function(oa,Ia){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ta(Ua,
E.RenderType.Canvas,oa,Ia)).canvas()})},toSVG:function(oa){const Ia=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ta(Ia,E.RenderType.SVG,oa)).svg()})},getState:function(oa){return this._runtime.getState(oa||{data:V,signals:X,recurse:!0})},setState:function(oa){this.runAsync(null,Ia=>{Ia._trigger=!1;Ia._runtime.setState(oa)},Ia=>{Ia._trigger=!0});return this}});g.View=Ha;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F):"function"===typeof define&&define.amd?define(["exports"],m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={}))})(this,function(g){function m(k,d,f,a,e){const p=k.length;let A=0,C;for(;d<p;++d)if(C=k[d],A||C!==f)e&&0<=e.indexOf(C)?--A:a&&0<=a.indexOf(C)&&++A;else break;return d}function n(k){const d=[],f=k.length;let a=0,e=0;for(;e<f;)e=m(k,e,",","[{","]}"),d.push(k.substring(a,
e).trim()),a=++e;if(0===d.length)throw"Empty event selector: "+k;return d}function E(k){if("["===k[0]){var d=k;var f=d.length;k=m(d,1,"]","[","]");if(k===f)throw"Empty between selector: "+d;f=n(d.substring(1,k));if(2!==f.length)throw"Between selector must have two elements: "+d;d=d.slice(k+1).trim();if("\x3e"!==d[0])throw"Expected '\x3e' after between selector: "+d;f=f.map(E);d=E(d.slice(1).trim());d.between?d={between:f,stream:d}:d.between=f}else{{f={source:v};const a=[];let e=[0,0],p=0,A=0,C=k.length,
D=0,P;if("}"===k[C-1]){D=k.lastIndexOf("{");if(0<=D){try{e=O(k.substring(D+1,C-1))}catch(L){throw"Invalid throttle specification: "+k;}k=k.slice(0,D).trim();C=k.length}else throw"Unmatched right brace: "+k;D=0}if(!C)throw k;"@"===k[0]&&(p=++D);P=m(k,D,":");P<C&&(a.push(k.substring(A,P).trim()),A=D=++P);D=m(k,D,"[");if(D===C)a.push(k.substring(A,C).trim());else if(a.push(k.substring(A,D).trim()),d=[],A=++D,A===C)throw"Unmatched left bracket: "+k;for(;D<C;){D=m(k,D,"]");if(D===C)throw"Unmatched left bracket: "+
k;d.push(k.substring(A,D).trim());if(D<C-1&&"["!==k[++D])throw"Expected left bracket: "+k;A=++D}if(!(C=a.length)||x.test(a[C-1]))throw"Invalid event selector: "+k;1<C?(f.type=a[1],p?f.markname=a[0].slice(1):l[a[0]]?f.marktype=a[0]:f.source=a[0]):f.type=a[0];"!"===f.type.slice(-1)&&(f.consume=!0,f.type=f.type.slice(0,-1));null!=d&&(f.filter=d);e[0]&&(f.throttle=e[0]);e[1]&&(f.debounce=e[1]);d=f}}return d}function O(k){const d=k.split(",");if(!k.length||2<d.length)throw k;return d.map(f=>{f=+f;if(f!==
f)throw k;return f})}const x=/[[\]{}]/,y={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let v,l;g.selector=function(k,d,f){v=d||"view";l=f||y;return n(k.trim()).map(E)};Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?m(F,B(14),B(58),B(61),B(35),B(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),m):(g="undefined"!==typeof globalThis?globalThis:g||self,m(g.vega={},g.vega,g.vega,g.vega,g.vega,g.vega))})(this,function(g,m,n,E,O,x){function y(Aa){return m.isObject(Aa)?Aa:{type:Aa||"pad"}}function v(Aa){m.isObject(Aa)?Aa=Aa.signal?
Aa:{top:+Aa.top||0,bottom:+Aa.bottom||0,left:+Aa.left||0,right:+Aa.right||0}:(Aa=+Aa||0,Aa={top:Aa,bottom:Aa,left:Aa,right:Aa});return Aa}function l(Aa,Ka,vb,Xb){return null!=vb?(m.isObject(vb)&&!m.isArray(vb)||m.isArray(vb)&&vb.length&&m.isObject(vb[0])?Aa.update[Ka]=vb:Aa[Xb||"enter"][Ka]={value:vb},1):0}function k(Aa,Ka,vb){for(const Xb in Ka)l(Aa,Xb,Ka[Xb]);for(const Xb in vb)l(Aa,Xb,vb[Xb],"update")}function d(Aa,Ka,vb){for(const Xb in Ka)vb&&m.hasOwnProperty(vb,Xb)||(Aa[Xb]=m.extend(Aa[Xb]||
{},Ka[Xb]));return Aa}function f(Aa,Ka){return Ka&&(Ka.enter&&Ka.enter[Aa]||Ka.update&&Ka.update[Aa])}function a(Aa,Ka,vb,Xb,Sb){const hc={},lc={};let id,Sc;Sc="lineBreak";"text"!==Ka||null==Sb[Sc]||f(Sc,Aa)||e(hc,Sc,Sb[Sc]);if("legend"==vb||String(vb).startsWith("axis"))vb=null;vb="frame"===vb?Sb.group:"mark"===vb?m.extend({},Sb.mark,Sb[Ka]):null;for(Sc in vb)(Ka=f(Sc,Aa)||("fill"===Sc||"stroke"===Sc)&&(f("fill",Aa)||f("stroke",Aa)))||e(hc,Sc,vb[Sc]);m.array(Xb).forEach(gd=>{gd=Sb.style&&Sb.style[gd];
for(const Hd in gd)f(Hd,Aa)||e(hc,Hd,gd[Hd])});Aa=m.extend({},Aa);for(Sc in hc)vb=hc[Sc],vb.signal?(id=id||{})[Sc]=vb:lc[Sc]=vb;Aa.enter=m.extend(lc,Aa.enter);id&&(Aa.update=m.extend(id,Aa.update));return Aa}function e(Aa,Ka,vb){Aa[Ka]=vb&&vb.signal?{signal:vb.signal}:{value:vb}}function p(Aa){if(null!=Aa.gradient)return A(Aa);if(Aa.signal)var Ka=`(${Aa.signal})`;else Aa.color?(Ka=Aa.color,Ka=Ka.c?le("hcl",Ka.h,Ka.c,Ka.l):Ka.h||Ka.s?le("hsl",Ka.h,Ka.s,Ka.l):Ka.l||Ka.a?le("lab",Ka.l,Ka.a,Ka.b):Ka.r||
Ka.g||Ka.b?le("rgb",Ka.r,Ka.g,Ka.b):null):Ka=null!=Aa.field?D(Aa.field):void 0!==Aa.value?m.stringValue(Aa.value):void 0;if(null!=Aa.scale){{const vb=of(Aa.scale);null!=Aa.range?Ka=`lerp(_range(${vb}), ${+Aa.range})`:(void 0!==Ka&&(Ka=`_scale(${vb}, ${Ka})`),Aa.band&&(Ka=(Ka?Ka+"+":"")+`_bandwidth(${vb})`+(1===+Aa.band?"":"*"+C(Aa.band)),Aa.extra&&(Ka=`(datum.extra ? _scale(${vb}, datum.extra.value) : ${Ka})`)),null==Ka&&(Ka="0"))}}void 0===Ka&&(Ka=null);null!=Aa.exponent&&(Ka=`pow(${Ka},${C(Aa.exponent)})`);
null!=Aa.mult&&(Ka+=`*${C(Aa.mult)}`);null!=Aa.offset&&(Ka+=`+${C(Aa.offset)}`);Aa.round&&(Ka=`round(${Ka})`);return Ka}function A(Aa){const Ka=[Aa.start,Aa.stop,Aa.count].map(vb=>null==vb?null:m.stringValue(vb));for(;Ka.length&&null==m.peek(Ka);)Ka.pop();Ka.unshift(of(Aa.gradient));return`gradient(${Ka.join(",")})`}function C(Aa){return m.isObject(Aa)?"("+p(Aa)+")":Aa}function D(Aa){return P(m.isObject(Aa)?Aa:{datum:Aa})}function P(Aa){let Ka;if(Aa.signal){Ka="datum";var vb=Aa.signal}else if(Aa.group||
Aa.parent){vb=Math.max(1,Aa.level||1);for(Ka="item";0<vb--;)Ka+=".mark.group";Aa.parent?(vb=Aa.parent,Ka+=".datum"):vb=Aa.group}else Aa.datum?(Ka="datum",vb=Aa.datum):m.error("Invalid field reference: "+m.stringValue(Aa));Aa.signal||(vb=m.isString(vb)?m.splitAccessPath(vb).map(m.stringValue).join("]["):P(vb));return Ka+"["+vb+"]"}function L(Aa){let Ka="";Aa.forEach(vb=>{const Xb=p(vb);Ka+=vb.test?`(${vb.test})?${Xb}:`:Xb});":"===m.peek(Ka)&&(Ka+="null");return Ka}function G(Aa,Ka,vb,Xb,Sb,hc){const lc=
{};hc=hc||{};hc.encoders={$encode:lc};Aa=a(Aa,Ka,vb,Xb,Sb.config);for(const Hd in Aa){{vb=Aa[Hd];Xb=Ka;var id=hc,Sc=Sb;const he={},ie={};for(const Pd in vb)if(null!=vb[Pd]){var gd=vb[Pd];gd=m.isArray(gd)?L(gd):p(gd);he[Pd]=z(gd,Sc,id,ie)}vb={$expr:{marktype:Xb,channels:he},$fields:Object.keys(ie),$output:Object.keys(vb)}}lc[Hd]=vb}return hc}function z(Aa,Ka,vb,Xb){Aa=n.parseExpression(Aa,Ka);Aa.$fields.forEach(Sb=>Xb[Sb]=1);m.extend(vb,Aa.$params);return Aa.$expr}function K(Aa,Ka){m.error(Aa+' for "outer" push: '+
m.stringValue(Ka))}function H(Aa,Ka){const vb=Aa.name;if("outer"===Aa.push)Ka.signals[vb]||K("No prior signal definition",vb),ye.forEach(Xb=>{void 0!==Aa[Xb]&&K("Invalid property ",Xb)});else{const Xb=Ka.addSignal(vb,Aa.value);!1===Aa.react&&(Xb.react=!1);Aa.bind&&Ka.addBinding(vb,Aa.bind)}}function R(Aa,Ka,vb,Xb){this.id=-1;this.type=Aa;this.value=Ka;this.params=vb;Xb&&(this.parent=Xb)}function U(Aa){const Ka={$ref:Aa.id};0>Aa.id&&(Aa.refs=Aa.refs||[]).push(Ka);return Ka}function ka(Aa,Ka){return Ka?
{$field:Aa,$name:Ka}:{$field:Aa}}function ba(Aa,Ka){Aa={$key:Aa};Ka&&(Aa.$flat=!0);return Aa}function fa(Aa,Ka){return(Aa&&Aa.signal?"$"+Aa.signal:Aa||"")+(Aa&&Ka?"_":"")+(Ka&&Ka.signal?"$"+Ka.signal:Ka||"")}function ja(Aa){return Aa&&Aa.signal}function Z(Aa){if(ja(Aa))return!0;if(m.isObject(Aa))for(const Ka in Aa)if(Z(Aa[Ka]))return!0;return!1}function Q(Aa,Ka){return null!=Aa?Aa:Ka}function q(Aa){return Aa&&Aa.signal||Aa}function N(Aa,Ka){return(Aa.merge?aa:Aa.stream?wa:Aa.type?ua:m.error("Invalid stream specification: "+
m.stringValue(Aa)))(Aa,Ka)}function da(Aa){return"scope"===Aa?"view":Aa||"view"}function aa(Aa,Ka){const vb=Aa.merge.map(Xb=>N(Xb,Ka));Aa=Ea({merge:vb},Aa,Ka);return Ka.addStream(Aa).id}function wa(Aa,Ka){const vb=N(Aa.stream,Ka);Aa=Ea({stream:vb},Aa,Ka);return Ka.addStream(Aa).id}function ua(Aa,Ka){let vb;"timer"===Aa.type?(vb=Ka.event("timer",Aa.throttle),Aa={between:Aa.between,filter:Aa.filter}):vb=Ka.event(da(Aa.source),Aa.type);Aa=Ea({stream:vb},Aa,Ka);return 1===Object.keys(Aa).length?vb:Ka.addStream(Aa).id}
function Ea(Aa,Ka,vb){let Xb=Ka.between;Xb&&(2!==Xb.length&&m.error('Stream "between" parameter must have 2 entries: '+m.stringValue(Ka)),Aa.between=[N(Xb[0],vb),N(Xb[1],vb)]);Xb=Ka.filter?[].concat(Ka.filter):[];(Ka.marktype||Ka.markname||Ka.markrole)&&Xb.push($a(Ka.marktype,Ka.markname,Ka.markrole));"scope"===Ka.source&&Xb.push("inScope(event.item)");Xb.length&&(Aa.filter=n.parseExpression("("+Xb.join(")\x26\x26(")+")",vb).$expr);null!=(Xb=Ka.throttle)&&(Aa.throttle=+Xb);null!=(Xb=Ka.debounce)&&
(Aa.debounce=+Xb);Ka.consume&&(Aa.consume=!0);return Aa}function $a(Aa,Ka,vb){return"event.item"+(Aa&&"*"!==Aa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Aa+"'":"")+(vb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+vb+"'":"")+(Ka?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ka+"'":"")}function kb(Aa,Ka,vb){const Xb=Aa.encode,Sb={target:vb};vb=Aa.events;let hc=Aa.update,lc=[];vb||m.error("Signal update missing events specification.");m.isString(vb)&&(vb=E.selector(vb,Ka.isSubscope()?"scope":"view"));
vb=m.array(vb).filter(id=>id.signal||id.scale?(lc.push(id),0):1);1<lc.length&&(lc=[Ta(lc)]);vb.length&&lc.push(1<vb.length?{merge:vb}:vb[0]);null!=Xb&&(hc&&m.error("Signal encode and update are mutually exclusive."),hc="encode(item(),"+m.stringValue(Xb)+")");Sb.update=m.isString(hc)?n.parseExpression(hc,Ka):null!=hc.expr?n.parseExpression(hc.expr,Ka):null!=hc.value?hc.value:null!=hc.signal?{$expr:Ge,$params:{$value:Ka.signalRef(hc.signal)}}:m.error("Invalid signal update specification.");Aa.force&&
(Sb.options={force:!0});lc.forEach(id=>Ka.addUpdate(m.extend(ta(id,Ka),Sb)))}function ta(Aa,Ka){return{source:Aa.signal?Ka.signalRef(Aa.signal):Aa.scale?Ka.scaleRef(Aa.scale):N(Aa,Ka)}}function Ta(Aa){return{signal:"["+Aa.map(Ka=>Ka.scale?'scale("'+Ka.scale+'")':Ka.signal)+"]"}}function Xa(Aa,Ka){const vb=Ka.getSignal(Aa.name);let Xb=Aa.update;Aa.init&&(Xb?m.error("Signals can not include both init and update expressions."):(Xb=Aa.init,vb.initonly=!0));Xb&&(Xb=n.parseExpression(Xb,Ka),vb.update=Xb.$expr,
vb.params=Xb.$params);Aa.on&&Aa.on.forEach(Sb=>kb(Sb,Ka,vb.id))}function Fa(Aa,Ka){return m.isObject(Aa)?Aa.signal?Ka.signalRef(Aa.signal):m.error("Unsupported object: "+m.stringValue(Aa)):Aa}function va(Aa,Ka){return Aa.signal?Ka.signalRef(Aa.signal):Aa.map(vb=>Fa(vb,Ka))}function V(Aa){m.error("Can not find data set: "+m.stringValue(Aa))}function X(Aa,Ka,vb){if(Aa)return Aa.signal?vb.signalRef(Aa.signal):(m.isArray(Aa)?ca:Aa.fields?ra:ea)(Aa,Ka,vb);null==Ka.domainMin&&null==Ka.domainMax||m.error("No scale domain defined for domainMin/domainMax to override.")}
function ca(Aa,Ka,vb){return Aa.map(Xb=>Fa(Xb,vb))}function ea(Aa,Ka,vb){const Xb=vb.getData(Aa.data);Xb||V(Aa.data);return O.isDiscrete(Ka.type)?Xb.valuesRef(vb,Aa.field,Ha(Aa.sort,!1)):O.isQuantile(Ka.type)?Xb.domainRef(vb,Aa.field):Xb.extentRef(vb,Aa.field)}function ra(Aa,Ka,vb){const Xb=Aa.data,Sb=Aa.fields.reduce((hc,lc)=>{if(m.isString(lc))lc={data:Xb,field:lc};else if(m.isArray(lc)||lc.signal){{var id=lc;lc="_:vega:_"+ld++;const Sc=Pe({});m.isArray(id)?Sc.value={$ingest:id}:id.signal&&(id=
"setdata("+m.stringValue(lc)+","+id.signal+")",Sc.params.input=vb.signalRef(id));vb.addDataPipeline(lc,[Sc,ub({})]);lc={data:lc,field:"data"}}}hc.push(lc);return hc},[]);return(O.isDiscrete(Ka.type)?qa:O.isQuantile(Ka.type)?na:Pa)(Aa,vb,Sb)}function qa(Aa,Ka,vb){const Xb=Ha(Aa.sort,!0);Aa=vb.map(hc=>{const lc=Ka.getData(hc.data);lc||V(hc.data);return lc.countsRef(Ka,hc.field,Xb)});const Sb={groupby:Mf,pulse:Aa};Xb&&(Aa=Xb.op||"count",vb=Xb.field?fa(Aa,Xb.field):"count",Sb.ops=[Pc[Aa]],Sb.fields=[Ka.fieldRef(vb)],
Sb.as=[vb]);Aa=Ka.add(Zd(Sb));Aa=Ka.add(Pe({pulse:U(Aa)}));vb=Ka.add(Nc({field:Mf,sort:Ka.sortRef(Xb),pulse:U(Aa)}));return U(vb)}function Ha(Aa,Ka){Aa&&(Aa.field||Aa.op?Aa.field||"count"===Aa.op?Ka&&Aa.field&&Aa.op&&!Pc[Aa.op]&&m.error("Multiple domain scales can not be sorted using "+Aa.op):m.error("No field provided for sort aggregate op: "+Aa.op):m.isObject(Aa)?Aa.field="key":Aa={field:"key"});return Aa}function na(Aa,Ka,vb){Aa=vb.map(Xb=>{const Sb=Ka.getData(Xb.data);Sb||V(Xb.data);return Sb.domainRef(Ka,
Xb.field)});return U(Ka.add(If({values:Aa})))}function Pa(Aa,Ka,vb){Aa=vb.map(Xb=>{const Sb=Ka.getData(Xb.data);Sb||V(Xb.data);return Sb.extentRef(Ka,Xb.field)});return U(Ka.add(Hf({extents:Aa})))}function cb(Aa,Ka,vb){const Xb=Ka.config.range;let Sb=Aa.range;if(Sb.signal)return Ka.signalRef(Sb.signal);if(m.isString(Sb)){if(Xb&&m.hasOwnProperty(Xb,Sb))return Aa=m.extend({},Aa,{range:Xb[Sb]}),cb(Aa,Ka,vb);"width"===Sb?Sb=[0,{signal:"width"}]:"height"===Sb?Sb=O.isDiscrete(Aa.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:m.error("Unrecognized scale range value: "+m.stringValue(Sb))}else{if(Sb.scheme){vb.scheme=m.isArray(Sb.scheme)?va(Sb.scheme,Ka):Fa(Sb.scheme,Ka);Sb.extent&&(vb.schemeExtent=va(Sb.extent,Ka));Sb.count&&(vb.schemeCount=Fa(Sb.count,Ka));return}if(Sb.step){vb.rangeStep=Fa(Sb.step,Ka);return}if(O.isDiscrete(Aa.type)&&!m.isArray(Sb))return X(Sb,Aa,Ka);m.isArray(Sb)||m.error("Unsupported range type: "+m.stringValue(Sb))}return Sb.map(hc=>(m.isArray(hc)?va:Fa)(hc,Ka))}function ab(Aa,
Ka,vb){return m.isArray(Aa)?Aa.map(Xb=>ab(Xb,Ka,vb)):m.isObject(Aa)?Aa.signal?vb.signalRef(Aa.signal):"fit"===Ka?Aa:m.error("Unsupported parameter object: "+m.stringValue(Aa)):Aa}function Ba(Aa){Aa.type="group";Aa.interactive=Aa.interactive||!1;return Aa}function Ga(Aa,Ka){const vb=(Xb,Sb)=>Q(Aa[Xb],Q(Ka[Xb],Sb));vb.isVertical=Xb=>"vertical"===Q(Aa.direction,Ka.direction||(Xb?Ka.symbolDirection:Ka.gradientDirection));vb.gradientLength=()=>Q(Aa.gradientLength,Ka.gradientLength||Ka.gradientWidth);vb.gradientThickness=
()=>Q(Aa.gradientThickness,Ka.gradientThickness||Ka.gradientHeight);vb.entryColumns=()=>Q(Aa.columns,Q(Ka.columns,+vb.isVertical(!0)));return vb}function oa(Aa,Ka){return(Aa=Ka&&(Ka.update&&Ka.update[Aa]||Ka.enter&&Ka.enter[Aa]))&&Aa.signal?Aa:Aa?Aa.value:null}function Ia(Aa,Ka,vb){return`item.anchor === '${"start"}' ? ${Aa} : item.anchor === '${"end"}' ? ${Ka} : ${vb}`}function Ua(Aa,Ka){return Ka?Aa?m.isObject(Aa)?Object.assign({},Aa,{offset:Ua(Aa.offset,Ka)}):{value:Aa,offset:Ka}:Ka:Aa}function eb(Aa,
Ka){Ka?(Aa.name=Ka.name,Aa.style=Ka.style||Aa.style,Aa.interactive=!!Ka.interactive,Aa.encode=d(Aa.encode,Ka,Nd)):Aa.interactive=!1;return Aa}function Gb(Aa,Ka,vb,Xb){Aa=Ga(Aa,vb);var Sb=Aa.isVertical();vb=Aa.gradientThickness();const hc=Aa.gradientLength();let lc,id,Sc;Sb?(Sb=[0,1],id=[0,0],Sc=vb,vb=hc):(Sb=[0,0],id=[1,0],Sc=hc);Ka={enter:lc={opacity:Od,x:Od,y:Od,width:Ue(Sc),height:Ue(vb)},update:m.extend({},lc,{opacity:od,fill:{gradient:Ka,start:Sb,stop:id}}),exit:{opacity:Od}};k(Ka,{stroke:Aa("gradientStrokeColor"),
strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return eb({type:"rect",role:"legend-gradient",encode:Ka},Xb)}function Tb(Aa,Ka,vb,Xb,Sb){Aa=Ga(Aa,vb);const hc=Aa.isVertical();vb=Aa.gradientThickness();const lc=Aa.gradientLength();var id;let Sc,gd,Hd,he="";hc?(id="y",gd="y2",Sc="x",Hd="width",he="1-"):(id="x",gd="x2",Sc="y",Hd="height");Ka={opacity:Od,fill:{scale:Ka,field:"value"}};Ka[id]={signal:he+"datum.perc",mult:lc};Ka[Sc]=Od;Ka[gd]={signal:he+"datum.perc2",mult:lc};Ka[Hd]=
Ue(vb);id={enter:Ka,update:m.extend({},Ka,{opacity:od}),exit:{opacity:Od}};k(id,{stroke:Aa("gradientStrokeColor"),strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return eb({type:"rect",role:"legend-band",key:"value",from:Sb,encode:id},Xb)}function kc(Aa,Ka,vb,Xb){const Sb=Ga(Aa,Ka);var hc=Sb.isVertical();const lc=Ue(Sb.gradientThickness()),id=Sb.gradientLength();let Sc=Sb("labelOverlap"),gd,Hd,he,ie="";const Pd={enter:gd={opacity:Od},update:Hd={opacity:od,text:{field:"label"}},
exit:{opacity:Od}};k(Pd,{fill:Sb("labelColor"),fillOpacity:Sb("labelOpacity"),font:Sb("labelFont"),fontSize:Sb("labelFontSize"),fontStyle:Sb("labelFontStyle"),fontWeight:Sb("labelFontWeight"),limit:Q(Aa.labelLimit,Ka.gradientLabelLimit)});hc?(gd.align={value:"left"},gd.baseline=Hd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},hc="y",he="x",ie="1-"):(gd.align=Hd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},gd.baseline={value:"top"},
hc="x",he="y");gd[hc]=Hd[hc]={signal:ie+"datum.perc",mult:id};gd[he]=Hd[he]=lc;lc.offset=Q(Aa.labelOffset,Ka.gradientLabelOffset)||0;Sc=Sc?{separation:Sb("labelSeparation"),method:Sc,order:"datum.index"}:void 0;return eb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Xb,encode:Pd,overlap:Sc},vb)}function bd(Aa,Ka,vb,Xb,Sb){var hc=Ga(Aa,Ka);const lc=vb.entries,id=!(!lc||!lc.interactive),Sc=lc?lc.name:void 0,gd=hc("clipHeight"),Hd=hc("symbolOffset"),he={data:"value"},ie=`(${Sb}) ? datum.${"offset"} : datum.${"size"}`,
Pd=gd?Ue(gd):{field:"size"},Ne=`max(1, ${Sb})`;let pe,He;Pd.mult=.5;var Je={enter:pe={opacity:Od,x:{signal:ie,mult:.5,offset:Hd},y:Pd},update:He={opacity:od,x:pe.x,y:pe.y},exit:{opacity:Od}};let Le=null,Of=null;Aa.fill||(Le=Ka.symbolBaseFillColor,Of=Ka.symbolBaseStrokeColor);k(Je,{fill:hc("symbolFillColor",Le),shape:hc("symbolType"),size:hc("symbolSize"),stroke:hc("symbolStrokeColor",Of),strokeDash:hc("symbolDash"),strokeDashOffset:hc("symbolDashOffset"),strokeWidth:hc("symbolStrokeWidth")},{opacity:hc("symbolOpacity")});
Ld.forEach(Te=>{Aa[Te]&&(He[Te]=pe[Te]={scale:Aa[Te],field:"value"})});Ka=eb({type:"symbol",role:"legend-symbol",key:"value",from:he,clip:gd?!0:void 0,encode:Je},vb.symbols);Je=Ue(Hd);Je.offset=hc("labelOffset");Je={enter:pe={opacity:Od,x:{signal:ie,offset:Je},y:Pd},update:He={opacity:od,text:{field:"label"},x:pe.x,y:pe.y},exit:{opacity:Od}};k(Je,{align:hc("labelAlign"),baseline:hc("labelBaseline"),fill:hc("labelColor"),fillOpacity:hc("labelOpacity"),font:hc("labelFont"),fontSize:hc("labelFontSize"),
fontStyle:hc("labelFontStyle"),fontWeight:hc("labelFontWeight"),limit:hc("labelLimit")});vb=eb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:he,encode:Je},vb.labels);Je={enter:{noBound:{value:!gd},width:Od,height:gd?Ue(gd):Od,opacity:Od},exit:{opacity:Od},update:He={opacity:od,row:{signal:null},column:{signal:null}}};hc.isVertical(!0)?(hc=`ceil(item.mark.items.length / ${Ne})`,He.row.signal=`${"datum.index"}%${hc}`,He.column.signal=`floor(${"datum.index"} / ${hc})`,hc={field:["row",
"datum.index"]}):(He.row.signal=`floor(${"datum.index"} / ${Ne})`,He.column.signal=`${"datum.index"} % ${Ne}`,hc={field:"datum.index"});He.column.signal=`(${Sb})?${He.column.signal}:${"datum.index"}`;Xb={facet:{data:Xb,name:"value",groupby:"index"}};return Ba({role:"scope",from:Xb,encode:d(Je,lc,Nd),marks:[Ka,vb],name:Sc,interactive:id,sort:hc})}function tc(Aa,Ka){Aa=Ga(Aa,Ka);return{align:Aa("gridAlign"),columns:Aa.entryColumns(),center:{row:!0,column:!1},padding:{row:Aa("rowPadding"),column:Aa("columnPadding")}}}
function Fc(Aa,Ka,vb,Xb){Ka=Ga(Aa,Ka);const Sb={enter:{opacity:Od},update:{opacity:od,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Od}};k(Sb,{orient:Ka("titleOrient"),_anchor:Ka("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:lf},baseline:{signal:bf},text:Aa.title,fill:Ka("titleColor"),fillOpacity:Ka("titleOpacity"),font:Ka("titleFont"),fontSize:Ka("titleFontSize"),fontStyle:Ka("titleFontStyle"),fontWeight:Ka("titleFontWeight"),limit:Ka("titleLimit"),lineHeight:Ka("titleLineHeight")},{align:Ka("titleAlign"),baseline:Ka("titleBaseline")});return eb({type:"text",role:"legend-title",style:"guide-title",from:Xb,encode:Sb},vb)}function mb(Aa,Ka){let vb;m.isObject(Aa)&&(Aa.signal?vb=Aa.signal:Aa.path?vb="pathShape("+
dc(Aa.path)+")":Aa.sphere&&(vb="geoShape("+dc(Aa.sphere)+', {type: "Sphere"})'));return vb?Ka.signalRef(vb):!!Aa}function dc(Aa){return m.isObject(Aa)&&Aa.signal?Aa.signal:m.stringValue(Aa)}function Bc(Aa){const Ka=Aa.role||"";return Ka.indexOf("axis")&&Ka.indexOf("legend")&&Ka.indexOf("title")?"group"===Aa.type?"scope":Ka||"mark":Ka}function pc(Aa){return{marktype:Aa.type,name:Aa.name||void 0,role:Aa.role||Bc(Aa),zindex:+Aa.zindex||void 0,aria:Aa.aria,description:Aa.description}}function Cc(Aa,Ka){return Aa&&
Aa.signal?Ka.signalRef(Aa.signal):!1===Aa?!1:!0}function nc(Aa,Ka){const vb=x.definition(Aa.type);vb||m.error("Unrecognized transform type: "+m.stringValue(Aa.type));var Xb=vb.type.toLowerCase();var Sb=Uc(vb,Aa,Ka);Xb=new R(Xb,null,Sb,void 0);Aa.signal&&Ka.addSignal(Aa.signal,Ka.proxy(Xb));Xb.metadata=vb.metadata||{};return Xb}function Uc(Aa,Ka,vb){const Xb={},Sb=Aa.params.length;for(let hc=0;hc<Sb;++hc){const lc=Aa.params[hc];Xb[lc.name]=Tc(lc,Ka,vb)}return Xb}function Tc(Aa,Ka,vb){const Xb=Aa.type,
Sb=Ka[Aa.name];if("index"===Xb)return Fd(Aa,Ka,vb);if(void 0===Sb)Aa.required&&m.error("Missing required "+m.stringValue(Ka.type)+" parameter: "+m.stringValue(Aa.name));else return"param"===Xb?fe(Aa,Ka,vb):"projection"===Xb?vb.projectionRef(Ka[Aa.name]):Aa.array&&!ja(Sb)?Sb.map(hc=>Kc(Aa,hc,vb)):Kc(Aa,Sb,vb)}function Kc(Aa,Ka,vb){const Xb=Aa.type;return ja(Ka)?"expr"===Xb?m.error("Expression references can not be signals."):"field"===Xb?vb.fieldRef(Ka):"compare"===Xb?vb.compareRef(Ka):vb.signalRef(Ka.signal):
(Aa=Aa.expr||"field"===Xb)&&Ka&&Ka.expr?vb.exprRef(Ka.expr,Ka.as):Aa&&Ka&&Ka.field?ka(Ka.field,Ka.as):"expr"===Xb?n.parseExpression(Ka,vb):"data"===Xb?U(vb.getData(Ka).values):"field"===Xb?ka(Ka):"compare"===Xb?vb.compareRef(Ka):Ka}function Fd(Aa,Ka,vb){m.isString(Ka.from)||m.error('Lookup "from" parameter must be a string literal.');return vb.getData(Ka.from).lookupRef(vb,Ka.key)}function fe(Aa,Ka,vb){Ka=Ka[Aa.name];return Aa.array?(m.isArray(Ka)||m.error("Expected an array of sub-parameters. Instead: "+
m.stringValue(Ka)),Ka.map(Xb=>vd(Aa,Xb,vb))):vd(Aa,Ka,vb)}function vd(Aa,Ka,vb){const Xb=Aa.params.length;let Sb;for(let hc=0;hc<Xb;++hc){Sb=Aa.params[hc];for(const lc in Sb.key)if(Sb.key[lc]!==Ka[lc]){Sb=null;break}if(Sb)break}Sb||m.error("Unsupported parameter: "+m.stringValue(Ka));Aa=m.extend(Uc(Sb,Ka,vb),Sb.key);return U(vb.add(Jf(Aa)))}function Rc(Aa,Ka,vb){let Xb,Sb,hc,lc;if(!Aa)hc=U(vb.add(Pe(null,[{}])));else if(Xb=Aa.facet)Ka||m.error("Only group marks can be faceted."),null!=Xb.field?hc=
lc=Yd(Xb,vb):(Aa.data?lc=U(vb.getData(Aa.data).aggregate):(Ka=nc(m.extend({type:"aggregate",groupby:m.array(Xb.groupby)},Xb.aggregate),vb),Ka.params.key=vb.keyRef(Xb.groupby),Ka.params.pulse=Yd(Xb,vb),hc=lc=U(vb.add(Ka))),Sb=vb.keyRef(Xb.groupby,!0));hc||(hc=Yd(Aa,vb));return{key:Sb,pulse:hc,parent:lc}}function Yd(Aa,Ka){return Aa.$ref?Aa:Aa.data&&Aa.data.$ref?Aa.data:U(Ka.getData(Aa.data).output)}function Pb(Aa,Ka,vb,Xb,Sb){this.scope=Aa;this.input=Ka;this.output=vb;this.values=Xb;this.aggregate=
Sb;this.index={}}function fc(Aa){return m.isString(Aa)?Aa:null}function Hb(Aa,Ka,vb){const Xb=fa(vb.op,vb.field);let Sb;if(Ka.ops)for(let hc=0,lc=Ka.as.length;hc<lc;++hc){if(Ka.as[hc]===Xb)return}else Ka.ops=["count"],Ka.fields=[null],Ka.as=["count"];vb.op&&(Ka.ops.push((Sb=vb.op.signal)?Aa.signalRef(Sb):vb.op),Ka.fields.push(Aa.fieldRef(vb.field)),Ka.as.push(Xb))}function yc(Aa,Ka,vb,Xb,Sb,hc,lc){vb=Ka[vb]||(Ka[vb]={});var id=m.isObject(hc)?("descending"===hc.order?"-":"+")+fa(hc.op,hc.field):"";
let Sc=fc(Sb);if(null!=Sc){Aa=Ka.scope;Sc+=id?"|"+id:"";var gd=vb[Sc]}gd||(gd=hc?{field:Mf,pulse:Ka.countsRef(Aa,Sb,hc)}:{field:Aa.fieldRef(Sb),pulse:U(Ka.output)},id&&(gd.sort=Aa.sortRef(hc)),Aa=Aa.add(new R(Xb,void 0,gd,void 0)),lc&&(Ka.index[Sb]=Aa),gd=U(Aa),null!=Sc&&(vb[Sc]=gd));return gd}function Vc(Aa,Ka,vb){var Xb=Aa.from.facet;const Sb=Xb.name,hc=Yd(Xb,Ka);let lc;Xb.name||m.error("Facet must have a name: "+m.stringValue(Xb));Xb.data||m.error("Facet must reference a data set: "+m.stringValue(Xb));
Xb.field?lc=Ka.add(Ae({field:Ka.fieldRef(Xb.field),pulse:hc})):Xb.groupby?lc=Ka.add(xe({key:Ka.keyRef(Xb.groupby),group:U(Ka.proxy(vb.parent)),pulse:hc})):m.error("Facet must specify groupby or field: "+m.stringValue(Xb));Ka=Ka.fork();vb=Ka.add(Pe());Xb=Ka.add(ub({pulse:U(vb)}));Ka.addData(Sb,new Pb(Ka,vb,vb,Xb));Ka.addSignal("parent",null);lc.params.subflow={$subflow:Ka.parse(Aa).toRuntime()}}function Gd(Aa,Ka,vb){vb=Ka.add(Ae({pulse:vb.pulse}));Ka=Ka.fork();Ka.add(ub());Ka.addSignal("parent",null);
vb.params.subflow={$subflow:Ka.parse(Aa).toRuntime()}}function Wd(Aa,Ka,vb){const Xb=Aa.remove,Sb=Aa.insert,hc=Aa.toggle,lc=Aa.modify,id=Aa.values,Sc=Ka.add(new R("operator",void 0,void 0,void 0));Aa="if("+Aa.trigger+',modify("'+vb+'",'+[Sb,Xb,hc,lc,id].map(gd=>null==gd?"null":gd).join(",")+"),0)";Ka=n.parseExpression(Aa,Ka);Sc.update=Ka.$expr;Sc.params=Ka.$params}function La(Aa,Ka){var vb=Bc(Aa),Xb="group"===Aa.type,Sb=Aa.from&&Aa.from.facet;const hc=Aa.overlap;let lc=Aa.layout||"scope"===vb||"frame"===
vb,id,Sc,gd,Hd,he,ie;const Pd="mark"===vb||lc||Sb,Ne=Rc(Aa.from,Xb,Ka);Sc=Ka.add(Qe({key:Ne.key||(Aa.key?ka(Aa.key):void 0),pulse:Ne.pulse,clean:!Xb}));const pe=U(Sc);Sc=gd=Ka.add(Pe({pulse:pe}));Sc=Ka.add(gf({markdef:pc(Aa),interactive:Cc(Aa.interactive,Ka),clip:mb(Aa.clip,Ka),context:{$context:!0},groups:Ka.lookup(),parent:Ka.signals.parent?Ka.signalRef("parent"):null,index:Ka.markpath(),pulse:U(Sc)}));var He=U(Sc);Sc=Hd=Ka.add(Yf(G(Aa.encode,Aa.type,vb,Aa.style,Ka,{mod:!1,pulse:He})));Sc.params.parent=
Ka.encode();Aa.transform&&Aa.transform.forEach(Le=>{Le=nc(Le,Ka);const Of=Le.metadata;(Of.generates||Of.changes)&&m.error("Mark transforms should not generate new data.");Of.nomod||(Hd.params.mod=!0);Le.params.pulse=U(Sc);Ka.add(Sc=Le)});Aa.sort&&(Sc=Ka.add(Wb({sort:Ka.compareRef(Aa.sort),pulse:U(Sc)})));vb=U(Sc);if(Sb||lc)lc=Ka.add(vc({layout:Ka.objectProperty(Aa.layout),legends:Ka.legends,mark:He,pulse:vb})),ie=U(lc);const Je=Ka.add(nf({mark:He,pulse:ie||vb}));He=U(Je);Xb&&(Pd&&(id=Ka.operators,
id.pop(),lc&&id.pop()),Ka.pushState(vb,ie||He,pe),Sb?Vc(Aa,Ka,Ne):Pd?Gd(Aa,Ka,Ne):Ka.parse(Aa),Ka.popState(),Pd&&(lc&&id.push(lc),id.push(Je)));hc&&(He=fb(hc,He,Ka));Xb=Ka.add(Za({pulse:He}));Sb=Ka.add(ub({pulse:U(Xb)},void 0,Ka.parent()));null!=Aa.name&&(he=Aa.name,Ka.addData(he,new Pb(Ka,gd,Xb,Sb)),Aa.on&&Aa.on.forEach(Le=>{(Le.insert||Le.remove||Le.toggle)&&m.error("Marks only support modify triggers.");Wd(Le,Ka,he)}))}function fb(Aa,Ka,vb){const Xb=Aa.method,Sb=Aa.bound,hc=Aa.separation;Ka={separation:ja(hc)?
vb.signalRef(hc.signal):hc,method:ja(Xb)?vb.signalRef(Xb.signal):Xb,pulse:Ka};Aa.order&&(Ka.sort=vb.compareRef({field:Aa.order}));Sb&&(Aa=Sb.tolerance,Ka.boundTolerance=ja(Aa)?vb.signalRef(Aa.signal):+Aa,Ka.boundScale=vb.scaleRef(Sb.scale),Ka.boundOrient=Sb.orient);return U(vb.add(Qf(Ka)))}function wb(Aa,Ka){const vb=Ka.config.legend,Xb=Aa.encode||{},Sb=Ga(Aa,vb),hc=Xb.legend||{},lc=hc.name||void 0,id=hc.interactive,Sc=hc.style,gd={};let Hd=0,he,ie;Ld.forEach(Je=>Aa[Je]?(gd[Je]=Aa[Je],Hd=Hd||Aa[Je]):
0);Hd||m.error("Missing valid scale for legend.");var Pd=Ib(Aa,Ka.scaleType(Hd));const Ne={title:null!=Aa.title,scales:gd,type:Pd,vgrad:"symbol"!==Pd&&Sb.isVertical()},pe=U(Ka.add(Pe(null,[Ne]))),He=U(Ka.add(De(ie={type:Pd,scale:Ka.scaleRef(Hd),count:Ka.objectProperty(Sb("tickCount")),limit:Ka.property(Sb("symbolLimit")),values:Ka.objectProperty(Aa.values),minstep:Ka.property(Aa.tickMinStep),formatType:Ka.property(Aa.formatType),formatSpecifier:Ka.property(Aa.format)})));"gradient"===Pd?(Pd=[Gb(Aa,
Hd,vb,Xb.gradient),kc(Aa,vb,Xb.labels,He)],ie.count=ie.count||Ka.signalRef(`max(2,2*floor((${q(Sb.gradientLength())})/100))`)):"discrete"===Pd?Pd=[Tb(Aa,Hd,vb,Xb.gradient,He),kc(Aa,vb,Xb.labels,He)]:(he=tc(Aa,vb),Pd=[bd(Aa,vb,Xb,He,q(he.columns))],ie.size=Ac(Aa,Ka,Pd[0].marks));Pd=[Ba({role:"legend-entry",from:pe,encode:{enter:{x:{value:0},y:{value:0}}},marks:Pd,layout:he,interactive:id})];Ne.title&&Pd.push(Fc(Aa,vb,Xb.title,pe));return La(Ba({role:"legend",from:pe,encode:d(ic(Sb,Aa,vb),hc,Nd),marks:Pd,
aria:Sb("aria"),description:Sb("description"),zindex:Sb("zindex"),name:lc,interactive:id,style:Sc}),Ka)}function Ib(Aa,Ka){let vb=Aa.type||"symbol";Aa.type||1!==Zb(Aa)||!Aa.fill&&!Aa.stroke||(vb=O.isContinuous(Ka)?"gradient":O.isDiscretizing(Ka)?"discrete":"symbol");return"gradient"!==vb?vb:O.isDiscretizing(Ka)?"discrete":"gradient"}function Zb(Aa){return Ld.reduce((Ka,vb)=>Ka+(Aa[vb]?1:0),0)}function ic(Aa,Ka,vb){const Xb={enter:{},update:{}};k(Xb,{orient:Aa("orient"),offset:Aa("offset"),padding:Aa("padding"),
titlePadding:Aa("titlePadding"),cornerRadius:Aa("cornerRadius"),fill:Aa("fillColor"),stroke:Aa("strokeColor"),strokeWidth:vb.strokeWidth,strokeDash:vb.strokeDash,x:Aa("legendX"),y:Aa("legendY"),format:Ka.format,formatType:Ka.formatType});return Xb}function Ac(Aa,Ka,vb){const Xb=q(qc("size",Aa,vb));Aa=q(qc("strokeWidth",Aa,vb));(vb=oa("fontSize",vb[1].encode))||(vb=(vb=Ka.config.style["guide-label"])&&vb.fontSize);vb=q(vb);return n.parseExpression(`max(ceil(sqrt(${Xb})+${Aa}),${vb})`,Ka)}function qc(Aa,
Ka,vb){return Ka[Aa]?`scale("${Ka[Aa]}",datum)`:oa(Aa,vb[0].encode)}function nb(Aa,Ka){Aa=m.isString(Aa)?{text:Aa}:Aa;const vb=Ga(Aa,Ka.config.title),Xb=Aa.encode||{};var Sb=Xb.group||{};const hc=Sb.name||void 0,lc=Sb.interactive,id=Sb.style,Sc=[],gd=U(Ka.add(Pe(null,[{}])));Sc.push(Ub(Aa,vb,Bb(Aa),gd));Aa.subtitle&&Sc.push(jc(Aa,vb,Xb.subtitle,gd));Aa={enter:{},update:{}};k(Aa,{orient:vb("orient"),anchor:vb("anchor"),align:{signal:Rd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:vb("limit"),frame:vb("frame"),offset:vb("offset")||0,padding:vb("subtitlePadding")});Sb=d(Aa,Sb,Nd);return La(Ba({role:"title",from:gd,encode:Sb,marks:Sc,aria:vb("aria"),description:vb("description"),zindex:vb("zindex"),name:hc,interactive:lc,style:id}),Ka)}function Bb(Aa){const Ka=Aa.encode;return Ka&&Ka.title||m.extend({name:Aa.name,interactive:Aa.interactive,style:Aa.style},Ka)}function Ub(Aa,Ka,vb,Xb){var Sb={value:0};Sb={enter:{opacity:Sb},update:{opacity:{value:1}},exit:{opacity:Sb}};
k(Sb,{text:Aa.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ka("dx"),dy:Ka("dy"),fill:Ka("color"),font:Ka("font"),fontSize:Ka("fontSize"),fontStyle:Ka("fontStyle"),fontWeight:Ka("fontWeight"),lineHeight:Ka("lineHeight")},{align:Ka("align"),angle:Ka("angle"),baseline:Ka("baseline")});return eb({type:"text",role:"title-text",style:"group-title",from:Xb,encode:Sb},vb)}function jc(Aa,Ka,vb,Xb){var Sb={value:0};
Sb={enter:{opacity:Sb},update:{opacity:{value:1}},exit:{opacity:Sb}};k(Sb,{text:Aa.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Ka("dx"),dy:Ka("dy"),fill:Ka("subtitleColor"),font:Ka("subtitleFont"),fontSize:Ka("subtitleFontSize"),fontStyle:Ka("subtitleFontStyle"),fontWeight:Ka("subtitleFontWeight"),lineHeight:Ka("subtitleLineHeight")},{align:Ka("align"),angle:Ka("angle"),baseline:Ka("baseline")});return eb({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Xb,encode:Sb},vb)}function zc(Aa,Ka){const vb=[];Aa.transform&&Aa.transform.forEach(Xb=>{vb.push(nc(Xb,Ka))});Aa.on&&Aa.on.forEach(Xb=>{Wd(Xb,Ka,Aa.name)});Ka.addDataPipeline(Aa.name,Dc(Aa,Ka,vb))}function Dc(Aa,Ka,vb){const Xb=[];let Sb=null,hc=!1,lc=!1,id,Sc,gd,Hd;Aa.values?ja(Aa.values)||Z(Aa.format)?(Xb.push(Db(Ka,Aa)),Xb.push(Sb=Wc())):Xb.push(Sb=Wc({$ingest:Aa.values,$format:Aa.format})):Aa.url?Z(Aa.url)||Z(Aa.format)?(Xb.push(Db(Ka,Aa)),Xb.push(Sb=
Wc())):Xb.push(Sb=Wc({$request:Aa.url,$format:Aa.format})):Aa.source&&(Sb=id=m.array(Aa.source).map(he=>U(Ka.getData(he).output)),Xb.push(null));Aa=0;for(Sc=vb.length;Aa<Sc;++Aa)gd=vb[Aa],Hd=gd.metadata,Sb||Hd.source||Xb.push(Sb=Wc()),Xb.push(gd),Hd.generates&&(lc=!0),Hd.modifies&&!lc&&(hc=!0),Hd.source?Sb=gd:Hd.changes&&(Sb=null);id&&(Sc=id.length-1,Xb[0]=Ca({derive:hc,pulse:Sc?id:id[0]}),(hc||Sc)&&Xb.splice(1,0,Wc()));Sb||Xb.push(Wc());Xb.push(ub({}));return Xb}function Wc(Aa){Aa=Pe({},Aa);Aa.metadata=
{source:!0};return Aa}function Db(Aa,Ka){return re({url:Ka.url?Aa.property(Ka.url):void 0,async:Ka.async?Aa.property(Ka.async):void 0,values:Ka.values?Aa.property(Ka.values):void 0,format:Aa.objectProperty(Ka.format)})}function Hc(Aa,Ka,vb,Xb){let Sb;if(Ka&&m.hasOwnProperty(Ka,Aa))return Ka[Aa];if(m.hasOwnProperty(vb,Aa))return vb[Aa];if(Aa.startsWith("title")){switch(Aa){case "titleColor":Sb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Sb=Aa[5].toLowerCase()+Aa.slice(6)}return Xb["guide-title"][Sb]}if(Aa.startsWith("label")){switch(Aa){case "labelColor":Sb=
"fill";break;case "labelFont":case "labelFontSize":Sb=Aa[5].toLowerCase()+Aa.slice(6)}return Xb["guide-label"][Sb]}return null}function fd(Aa){const Ka={};for(const vb of Aa)if(vb)for(const Xb in vb)Ka[Xb]=1;return Object.keys(Ka)}function uc(Aa,Ka,vb,Xb){var Sb=Ga(Aa,Ka);Ka=Aa.orient;let hc,lc;const id={enter:hc={opacity:Od},update:lc={opacity:od},exit:{opacity:Od}};k(id,{stroke:Sb("domainColor"),strokeCap:Sb("domainCap"),strokeDash:Sb("domainDash"),strokeDashOffset:Sb("domainDashOffset"),strokeWidth:Sb("domainWidth"),
strokeOpacity:Sb("domainOpacity")});Sb={scale:Aa.scale,range:0};Aa={scale:Aa.scale,range:1};hc.x=lc.x=Ve(Ka,Sb,Od);hc.x2=lc.x2=Ve(Ka,Aa);hc.y=lc.y=ce(Ka,Sb,Od);hc.y2=lc.y2=ce(Ka,Aa);return eb({type:"rule",role:"axis-domain",from:Xb,encode:id},vb)}function Zc(Aa,Ka,vb,Xb,Sb){var hc=Ga(Aa,Ka);Ka=Aa.orient;var lc=Aa.gridScale;const id=ee(Ka,1,-1);a:{var Sc=Aa.offset;if(1!==id)if(m.isObject(Sc)){for(var gd=Sc=m.extend({},Sc);null!=gd.mult;)if(m.isObject(gd.mult))gd=gd.mult=m.extend({},gd.mult);else{gd.mult=
ja(id)?{signal:`(${gd.mult}) * (${id.signal})`}:gd.mult*id;break a}gd.mult=id}else Sc=ja(id)?{signal:`(${id.signal}) * (${Sc||0})`}:id*(Sc||0)}const Hd=Sc;let he;const ie={enter:Sc={opacity:Od},update:he={opacity:od},exit:gd={opacity:Od}};k(ie,{stroke:hc("gridColor"),strokeCap:hc("gridCap"),strokeDash:hc("gridDash"),strokeDashOffset:hc("gridDashOffset"),strokeOpacity:hc("gridOpacity"),strokeWidth:hc("gridWidth")});Aa={scale:Aa.scale,field:"value",band:Sb.band,extra:Sb.extra,offset:Sb.offset,round:hc("tickRound")};
hc=Ve(Ka,{signal:"height"},{signal:"width"});Sb=lc?{scale:lc,range:0,mult:id,offset:Hd}:{value:0,offset:Hd};lc=lc?{scale:lc,range:1,mult:id,offset:Hd}:m.extend(hc,{mult:id,offset:Hd});Sc.x=he.x=Ve(Ka,Aa,Sb);Sc.y=he.y=ce(Ka,Aa,Sb);Sc.x2=he.x2=ce(Ka,lc);Sc.y2=he.y2=Ve(Ka,lc);gd.x=Ve(Ka,Aa);gd.y=ce(Ka,Aa);return eb({type:"rule",role:"axis-grid",key:"value",from:Xb,encode:ie},vb)}function $c(Aa,Ka,vb,Xb,Sb,hc){const lc=Ga(Aa,Ka);Ka=Aa.orient;const id=ee(Ka,-1,1);let Sc,gd,Hd;const he={enter:Sc={opacity:Od},
update:Hd={opacity:od},exit:gd={opacity:Od}};k(he,{stroke:lc("tickColor"),strokeCap:lc("tickCap"),strokeDash:lc("tickDash"),strokeDashOffset:lc("tickDashOffset"),strokeOpacity:lc("tickOpacity"),strokeWidth:lc("tickWidth")});Sb=Ue(Sb);Sb.mult=id;Aa={scale:Aa.scale,field:"value",band:hc.band,extra:hc.extra,offset:hc.offset,round:lc("tickRound")};Hd.y=Sc.y=Ve(Ka,Od,Aa);Hd.y2=Sc.y2=Ve(Ka,Sb);gd.x=Ve(Ka,Aa);Hd.x=Sc.x=ce(Ka,Od,Aa);Hd.x2=Sc.x2=ce(Ka,Sb);gd.y=ce(Ka,Aa);return eb({type:"rule",role:"axis-tick",
key:"value",from:Xb,encode:he},vb)}function nd(Aa,Ka,vb,Xb,Sb){return{signal:'flush(range("'+Aa+'"), scale("'+Aa+'", datum.value), '+Ka+","+vb+","+Xb+","+Sb+")"}}function Cd(Aa,Ka,vb,Xb,Sb,hc){Ka=Ga(Aa,Ka);const lc=Aa.orient;Aa=Aa.scale;var id=ee(lc,-1,1),Sc=q(Ka("labelFlush")),gd=q(Ka("labelFlushOffset")),Hd=Ka("labelAlign"),he=Ka("labelBaseline");let ie=0===Sc||!!Sc;var Pd=Ue(Sb);Pd.mult=id;Pd.offset=Ue(Ka("labelPadding")||0);Pd.offset.mult=id;id={scale:Aa,field:"value",band:.5,offset:Ua(hc.offset,
Ka("labelOffset"))};hc=ie?nd(Aa,Sc,'"left"','"right"','"center"'):{value:"center"};Sb=ja(lc)?tf(`${lc.signal} === '${"right"}'`,"left","right"):"right"===lc?{value:"left"}:{value:"right"};hc=Ve(lc,hc,Sb);Sb=Ve(lc,Xe(lc,"bottom","top"),ie?nd(Aa,Sc,'"top"','"bottom"','"middle"'):{value:"middle"});Sc=nd(Aa,Sc,`-(${gd})`,gd,0);ie=ie&&gd;Pd={opacity:Od,x:Ve(lc,id,Pd),y:ce(lc,id,Pd)};Pd={enter:Pd,update:gd={opacity:od,text:{field:"label"},x:Pd.x,y:Pd.y,align:hc,baseline:Sb},exit:{opacity:Od,x:Pd.x,y:Pd.y}};
k(Pd,{dx:!Hd&&ie?Ve(lc,Sc):null,dy:!he&&ie?ce(lc,Sc):null});k(Pd,{angle:Ka("labelAngle"),fill:Ka("labelColor"),fillOpacity:Ka("labelOpacity"),font:Ka("labelFont"),fontSize:Ka("labelFontSize"),fontWeight:Ka("labelFontWeight"),fontStyle:Ka("labelFontStyle"),limit:Ka("labelLimit"),lineHeight:Ka("labelLineHeight")},{align:Hd,baseline:he});Hd=Ka("labelBound");he=(he=Ka("labelOverlap"))||Hd?{separation:Ka("labelSeparation"),method:he,order:"datum.index",bound:Hd?{scale:Aa,orient:lc,tolerance:Hd}:null}:
void 0;gd.align!==hc&&(gd.align=Nf(gd.align,hc));gd.baseline!==Sb&&(gd.baseline=Nf(gd.baseline,Sb));return eb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Xb,encode:Pd,overlap:he},vb)}function Ed(Aa,Ka,vb,Xb){Ka=Ga(Aa,Ka);const Sb=Aa.orient,hc=ee(Sb,-1,1);let lc,id;const Sc={enter:lc={opacity:Od,anchor:Ue(Ka("titleAnchor",null)),align:{signal:Rd}},update:id=m.extend({},lc,{opacity:od,text:Ue(Aa.title)}),exit:{opacity:Od}};Aa={signal:`lerp(range("${Aa.scale}"), ${Ia(0,1,.5)})`};
id.x=Ve(Sb,Aa);id.y=ce(Sb,Aa);Aa=ja(hc)?{signal:`(${hc.signal}) * ${90}`}:{value:90*hc};lc.angle=Ve(Sb,Od,Aa);lc.baseline=Ve(Sb,Xe(Sb,"bottom","top"),{value:"bottom"});id.angle=lc.angle;id.baseline=lc.baseline;k(Sc,{fill:Ka("titleColor"),fillOpacity:Ka("titleOpacity"),font:Ka("titleFont"),fontSize:Ka("titleFontSize"),fontStyle:Ka("titleFontStyle"),fontWeight:Ka("titleFontWeight"),limit:Ka("titleLimit"),lineHeight:Ka("titleLineHeight")},{align:Ka("titleAlign"),angle:Ka("titleAngle"),baseline:Ka("titleBaseline")});
Xd(Ka,Sb,Sc,vb);Sc.update.align=Nf(Sc.update.align,lc.align);Sc.update.angle=Nf(Sc.update.angle,lc.angle);Sc.update.baseline=Nf(Sc.update.baseline,lc.baseline);return eb({type:"text",role:"axis-title",style:"guide-title",from:Xb,encode:Sc},vb)}function Xd(Aa,Ka,vb,Xb){const Sb=(lc,id)=>null!=lc?(vb.update[id]=Nf(Ue(lc),vb.update[id]),!1):f(id,Xb)?!1:!0,hc=Sb(Aa("titleX"),"x");Aa=Sb(Aa("titleY"),"y");vb.enter.auto=Aa===hc?Ue(Aa):Ve(Ka,Ue(Aa),Ue(hc))}function $d(Aa,Ka,vb){const Xb=m.array(Aa.signals),
Sb=m.array(Aa.scales);vb||Xb.forEach(hc=>H(hc,Ka));m.array(Aa.projections).forEach(hc=>{{const lc=Ka.config.projection||{},id={};for(const Sc in hc)"name"!==Sc&&(id[Sc]=ab(hc[Sc],Sc,Ka));for(const Sc in lc)null==id[Sc]&&(id[Sc]=ab(lc[Sc],Sc,Ka));Ka.addProjection(hc.name,id)}});Sb.forEach(hc=>{{const lc=hc.type||"linear";O.isValidScaleType(lc)||m.error("Unrecognized scale type: "+m.stringValue(lc));Ka.addScale(hc.name,{type:lc,domain:void 0})}});m.array(Aa.data).forEach(hc=>zc(hc,Ka));Sb.forEach(hc=>
{{const Sc=Ka.getScale(hc.name).params;let gd;Sc.domain=X(hc.domain,hc,Ka);null!=hc.range&&(Sc.range=cb(hc,Ka,Sc));if(null!=hc.interpolate){var lc=hc.interpolate,id=Sc;id.interpolate=Fa(lc.type||lc);null!=lc.gamma&&(id.interpolateGamma=Fa(lc.gamma))}null!=hc.nice&&(lc=hc.nice,lc=m.isObject(lc)?{interval:Fa(lc.interval),step:Fa(lc.step)}:Fa(lc),Sc.nice=lc);null!=hc.bins&&(lc=hc.bins,lc=lc.signal||m.isArray(lc)?va(lc,Ka):Ka.objectProperty(lc),Sc.bins=lc);for(gd in hc)m.hasOwnProperty(Sc,gd)||"name"===
gd||(Sc[gd]=Fa(hc[gd],Ka))}});(vb||Xb).forEach(hc=>Xa(hc,Ka));m.array(Aa.axes).forEach(hc=>{var lc=Ka.config,id=lc.style,Sc=lc.axis,gd="band"===Ka.scaleType(hc.scale)&&lc.axisBand,Hd=hc.orient;if(ja(Hd)){var he=fd([lc.axisX,lc.axisY]);var ie=fd([lc.axisTop,lc.axisBottom,lc.axisLeft,lc.axisRight]);var Pd={};for(Te of he)Pd[Te]=Ve(Hd,Hc(Te,lc.axisX,Sc,id),Hc(Te,lc.axisY,Sc,id));he={};for(Te of ie){ie=he;var Ne=Te;var pe=Hd.signal;var He=Hc(Te,lc.axisTop,Sc,id),Je=Hc(Te,lc.axisBottom,Sc,id),Le=Hc(Te,
lc.axisLeft,Sc,id),Of=Hc(Te,lc.axisRight,Sc,id);pe={signal:(null!=Le?`${pe} === '${"left"}' ? (${Oe(Le)}) : `:"")+(null!=Je?`${pe} === '${"bottom"}' ? (${Oe(Je)}) : `:"")+(null!=Of?`${pe} === '${"right"}' ? (${Oe(Of)}) : `:"")+(null!=He?`${pe} === '${"top"}' ? (${Oe(He)}) : `:"")+"(null)"};ie[Ne]=pe}}else Pd="top"===Hd||"bottom"===Hd?lc.axisX:lc.axisY,he=lc["axis"+Hd[0].toUpperCase()+Hd.slice(1)];Pd=Pd||he||gd?m.extend({},Sc,Pd,he,gd):Sc;var Te=hc.encode||{};lc=Te.axis||{};id=lc.name||void 0;Sc=lc.interactive;
gd=lc.style;pe=Hd=Ga(hc,Pd);he=pe("tickBand");ie=pe("tickOffset");he?he.signal?(Ne={signal:`(${he.signal}) === 'extent' ? 1 : 0.5`},pe={signal:`(${he.signal}) === 'extent'`},m.isObject(ie)||(ie={signal:`(${he.signal}) === 'extent' ? 0 : ${ie}`})):"extent"===he?(Ne=1,pe=!0,ie=0):(Ne=.5,pe=!1):(Ne=pe("bandPosition"),pe=pe("tickExtra"));Ne={extra:pe,band:Ne,offset:ie};pe={scale:hc.scale,ticks:!!Hd("ticks"),labels:!!Hd("labels"),grid:!!Hd("grid"),domain:!!Hd("domain"),title:null!=hc.title};he=U(Ka.add(Pe({},
[pe])));He=U(Ka.add(we({scale:Ka.scaleRef(hc.scale),extra:Ka.property(Ne.extra),count:Ka.objectProperty(hc.tickCount),values:Ka.objectProperty(hc.values),minstep:Ka.property(hc.tickMinStep),formatType:Ka.property(hc.formatType),formatSpecifier:Ka.property(hc.format)})));ie=[];pe.grid&&ie.push(Zc(hc,Pd,Te.grid,He,Ne));if(pe.ticks){var uf=Hd("tickSize");ie.push($c(hc,Pd,Te.ticks,He,uf,Ne))}pe.labels&&(uf=pe.ticks?uf:0,ie.push(Cd(hc,Pd,Te.labels,He,uf,Ne)));pe.domain&&ie.push(uc(hc,Pd,Te.domain,he));
pe.title&&ie.push(Ed(hc,Pd,Te.title,he));uf=Hd;Pd={enter:{},update:{}};k(Pd,{orient:uf("orient"),offset:uf("offset")||0,position:Q(hc.position,0),titlePadding:uf("titlePadding"),minExtent:uf("minExtent"),maxExtent:uf("maxExtent"),range:{signal:`abs(span(range("${hc.scale}")))`},translate:uf("translate"),format:hc.format,formatType:hc.formatType});hc=Pd;return hc=La(Ba({role:"axis",from:he,encode:d(hc,lc,Nd),marks:ie,aria:Hd("aria"),description:Hd("description"),zindex:Hd("zindex"),name:id,interactive:Sc,
style:gd}),Ka)});m.array(Aa.marks).forEach(hc=>La(hc,Ka));m.array(Aa.legends).forEach(hc=>wb(hc,Ka));Aa.title&&nb(Aa.title,Ka);Ka.parseLambdas();return Ka}function ae(Aa,Ka){var vb=Ka.config;const Xb=U(Ka.root=Ka.add(new R("operator",void 0,void 0,void 0))),Sb=me(Aa,vb);Sb.forEach(id=>H(id,Ka));Ka.description=Aa.description||vb.description;Ka.eventConfig=vb.events;Ka.legends=Ka.objectProperty(vb.legend&&vb.legend.layout);Ka.locale=vb.locale;vb=Ka.add(Pe());const hc=Ka.add(Yf(G(d({enter:{x:{value:0},
y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},Aa.encode),"group","frame",Aa.style,Ka,{pulse:U(vb)}))),lc=Ka.add(vc({layout:Ka.objectProperty(Aa.layout),legends:Ka.legends,autosize:Ka.signalRef("autosize"),mark:Xb,pulse:U(hc)}));Ka.operators.pop();Ka.pushState(U(hc),U(lc),null);$d(Aa,Ka,Sb);Ka.operators.push(lc);Aa=Ka.add(nf({mark:Xb,pulse:U(lc)}));Aa=Ka.add(Za({pulse:U(Aa)}));Aa=Ka.add(ub({pulse:U(Aa)}));Ka.addData("root",new Pb(Ka,vb,vb,Aa));return Ka}function Ce(Aa,Ka){return Ka&&
Ka.signal?{name:Aa,update:Ka.signal}:{name:Aa,value:Ka}}function me(Aa,Ka){const vb=lc=>Q(Aa[lc],Ka[lc]),Xb=[Ce("background",vb("background")),Ce("autosize",y(vb("autosize"))),Ce("padding",v(vb("padding"))),Ce("width",vb("width")||0),Ce("height",vb("height")||0)],Sb=Xb.reduce((lc,id)=>(lc[id.name]=id,lc),{}),hc={};m.array(Aa.signals).forEach(lc=>{m.hasOwnProperty(Sb,lc.name)?lc=m.extend(Sb[lc.name],lc):Xb.push(lc);hc[lc.name]=lc});m.array(Ka.signals).forEach(lc=>{m.hasOwnProperty(hc,lc.name)||m.hasOwnProperty(Sb,
lc.name)||Xb.push(lc)});return Xb}function ff(Aa,Ka){this.config=Aa||{};this.options=Ka||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ze(Aa){this.config=Aa.config;this.options=Aa.options;this.legends=Aa.legends;this.field=Object.create(Aa.field);
this.signals=Object.create(Aa.signals);this.lambdas=Object.create(Aa.lambdas);this.scales=Object.create(Aa.scales);this.events=Object.create(Aa.events);this.data=Object.create(Aa.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++Aa._nextsub[0];this._nextsub=Aa._nextsub;this._parent=Aa._parent.slice();this._encode=Aa._encode.slice();this._lookup=Aa._lookup.slice();this._markpath=Aa._markpath}function hf(Aa){return(m.isArray(Aa)?Vd:ge)(Aa)}function Vd(Aa){const Ka=Aa.length;
let vb="[";for(let Xb=0;Xb<Ka;++Xb){const Sb=Aa[Xb];vb+=(0<Xb?",":"")+(m.isObject(Sb)?Sb.signal||hf(Sb):m.stringValue(Sb))}return vb+"]"}function ge(Aa){let Ka="{",vb=0,Xb,Sb;for(Xb in Aa)Sb=Aa[Xb],Ka+=(1<++vb?",":"")+m.stringValue(Xb)+":"+(m.isObject(Sb)?Sb.signal||hf(Sb):m.stringValue(Sb));return Ka+"}"}function yf(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,
titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",
symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Ue=Aa=>m.isObject(Aa)&&!m.isArray(Aa)?m.extend({},
Aa):{value:Aa},of=Aa=>m.isString(Aa)?m.stringValue(Aa):Aa.signal?`(${Aa.signal})`:D(Aa),le=(Aa,Ka,vb,Xb)=>`(${Aa}(${[Ka,vb,Xb].map(p).join(",")})+'')`,ye=["value","update","init","react","bind"],Mf=ka("key"),Ge={code:"_.$value",ast:{type:"Identifier",value:"value"}},Td=Aa=>(Ka,vb,Xb)=>new R(Aa,vb,Ka||void 0,Xb),Zd=Td("aggregate"),we=Td("axisticks"),nf=Td("bound"),Pe=Td("collect"),Qd=Td("compare"),Qe=Td("datajoin"),Yf=Td("encode"),Ic=Td("expression"),xe=Td("facet"),je=Td("field"),gc=Td("key"),De=Td("legendentries"),
re=Td("load"),gf=Td("mark"),Hf=Td("multiextent"),If=Td("multivalues"),Qf=Td("overlap"),Jf=Td("params"),Ae=Td("prefacet"),xc=Td("projection"),ya=Td("proxy"),Ca=Td("relay"),Za=Td("render"),Fb=Td("scale"),ub=Td("sieve"),Wb=Td("sortitems"),vc=Td("viewlayout"),Nc=Td("values");let ld=0;const Pc={min:"min",max:"max",count:"sum"},Ld="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Nd={name:1,style:1,interactive:1},Od={value:0},od={value:1},Rd=Ia(m.stringValue("left"),m.stringValue("right"),
m.stringValue("center")),kd=Ia('"top"','"bottom"','"middle"'),lf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ia('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Rd}`,bf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${kd}) : "top"`;Pb.fromEntries=
function(Aa,Ka){const vb=Ka.length,Xb=Ka[vb-1],Sb=Ka[vb-2];let hc=Ka[0],lc=null,id=1;hc&&"load"===hc.type&&(hc=Ka[1]);for(Aa.add(Ka[0]);id<vb;++id)Ka[id].params.pulse=U(Ka[id-1]),Aa.add(Ka[id]),"aggregate"===Ka[id].type&&(lc=Ka[id]);return new Pb(Aa,hc,Sb,Xb,lc)};Pb.prototype={countsRef(Aa,Ka,vb){const Xb=this.counts||(this.counts={}),Sb=fc(Ka);if(null!=Sb){Aa=this.scope;var hc=Xb[Sb]}hc?vb&&vb.field&&Hb(Aa,hc.agg.params,vb):(hc={groupby:Aa.fieldRef(Ka,"key"),pulse:U(this.output)},vb&&vb.field&&Hb(Aa,
hc,vb),vb=Aa.add(Zd(hc)),hc=Aa.add(Pe({pulse:U(vb)})),hc={agg:vb,ref:U(hc)},null!=Sb&&(Xb[Sb]=hc));return hc.ref},tuplesRef(){return U(this.values)},extentRef(Aa,Ka){return yc(Aa,this,"extent","extent",Ka,!1)},domainRef(Aa,Ka){return yc(Aa,this,"domain","values",Ka,!1)},valuesRef(Aa,Ka,vb){return yc(Aa,this,"vals","values",Ka,vb||!0)},lookupRef(Aa,Ka){return yc(Aa,this,"lookup","tupleindex",Ka,!1)},indataRef(Aa,Ka){return yc(Aa,this,"indata","tupleindex",Ka,!0,!0)}};const ee=(Aa,Ka,vb)=>{ja(Aa)?(Aa=
Aa.signal,Ka=tf(`${Aa} === '${"left"}' || ${Aa} === '${"top"}'`,Ka,vb)):Ka="left"===Aa||"top"===Aa?Ka:vb;return Ka},Ve=(Aa,Ka,vb)=>{ja(Aa)?(Aa=Aa.signal,Ka=zf(`${Aa} === '${"top"}' || ${Aa} === '${"bottom"}'`,Ka,vb)):Ka="bottom"===Aa||"top"===Aa?Ka:vb;return Ka},ce=(Aa,Ka,vb)=>{ja(Aa)?(Aa=Aa.signal,Ka=zf(`${Aa} !== '${"top"}' && ${Aa} !== '${"bottom"}'`,Ka,vb)):Ka="bottom"===Aa||"top"===Aa?vb:Ka;return Ka},Xe=(Aa,Ka,vb)=>ja(Aa)?tf(`${Aa.signal} === '${"top"}'`,Ka,vb):"top"===Aa?{value:Ka}:{value:vb},
zf=(Aa,Ka,vb)=>{Ka=null!=Ka?Ue(Ka):Ka;vb=null!=vb?Ue(vb):vb;if(null!=Ka&&1!==Object.keys(Ka).length||null!=vb&&1!==Object.keys(vb).length)return[m.extend({test:Aa},Ka)].concat(vb||[]);Ka=Ka?Ka.signal||m.stringValue(Ka.value):null;vb=vb?vb.signal||m.stringValue(vb.value):null;return{signal:`${Aa} ? (${Ka}) : (${vb})`}},tf=(Aa,Ka,vb)=>({signal:`${Aa} ? (${Oe(Ka)}) : (${Oe(vb)})`}),Oe=Aa=>ja(Aa)?Aa.signal:null==Aa?null:m.stringValue(Aa),Nf=(Aa,Ka)=>{const vb=Aa.signal;return vb&&vb.endsWith("(null)")?
{signal:vb.slice(0,-6)+Ka.signal}:Aa};ff.prototype=Ze.prototype={parse(Aa){return $d(Aa,this)},fork(){return new Ze(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(Aa){this.operators.push(Aa);Aa.id=this.id();Aa.refs&&(Aa.refs.forEach(Ka=>{Ka.$ref=
Aa.id}),Aa.refs=null);return Aa},proxy(Aa){Aa=Aa instanceof R?U(Aa):Aa;return this.add(ya({value:Aa}))},addStream(Aa){this.streams.push(Aa);Aa.id=this.id();return Aa},addUpdate(Aa){this.updates.push(Aa);return Aa},finish(){function Aa(Xb,Sb,hc){Xb&&(Xb=Xb.data||(Xb.data={}),Sb=Xb[Sb]||(Xb[Sb]=[]),Sb.push(hc))}let Ka,vb;this.root&&(this.root.root=!0);for(Ka in this.signals)this.signals[Ka].signal=Ka;for(Ka in this.scales)this.scales[Ka].scale=Ka;for(Ka in this.data){vb=this.data[Ka];Aa(vb.input,Ka,
"input");Aa(vb.output,Ka,"output");Aa(vb.values,Ka,"values");for(const Xb in vb.index)Aa(vb.index[Xb],Ka,"index:"+Xb)}return this},pushState(Aa,Ka,vb){this._encode.push(U(this.add(ub({pulse:Aa}))));this._parent.push(Ka);this._lookup.push(vb?U(this.proxy(vb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return m.peek(this._parent)},encode(){return m.peek(this._encode)},lookup(){return m.peek(this._lookup)},markpath(){const Aa=
this._markpath;return++Aa[Aa.length-1]},fieldRef(Aa,Ka){if(m.isString(Aa))return ka(Aa,Ka);Aa.signal||m.error("Unsupported field reference: "+m.stringValue(Aa));Aa=Aa.signal;var vb=this.field[Aa];vb||(vb={name:this.signalRef(Aa)},Ka&&(vb.as=Ka),this.field[Aa]=vb=U(this.add(je(vb))));return vb},compareRef(Aa){let Ka=!1;const vb=Sb=>ja(Sb)?(Ka=!0,this.signalRef(Sb.signal)):Sb&&Sb.expr?(Ka=!0,this.exprRef(Sb.expr)):Sb,Xb=m.array(Aa.field).map(vb);Aa=m.array(Aa.order).map(vb);return Ka?U(this.add(Qd({fields:Xb,
orders:Aa}))):{$compare:Xb,$order:Aa}},keyRef(Aa,Ka){let vb=!1;const Xb=this.signals;Aa=m.array(Aa).map(Sb=>ja(Sb)?(vb=!0,U(Xb[Sb.signal])):Sb);return vb?U(this.add(gc({fields:Aa,flat:Ka}))):ba(Aa,Ka)},sortRef(Aa){if(!Aa)return Aa;const Ka=fa(Aa.op,Aa.field);Aa=Aa.order||"ascending";return Aa.signal?U(this.add(Qd({fields:Ka,orders:this.signalRef(Aa.signal)}))):{$compare:Ka,$order:Aa}},event(Aa,Ka){const vb=Aa+":"+Ka;if(!this.events[vb]){const Xb=this.id();this.streams.push({id:Xb,source:Aa,type:Ka});
this.events[vb]=Xb}return this.events[vb]},hasOwnSignal(Aa){return m.hasOwnProperty(this.signals,Aa)},addSignal(Aa,Ka){this.hasOwnSignal(Aa)&&m.error("Duplicate signal name: "+m.stringValue(Aa));Ka=Ka instanceof R?Ka:this.add(new R("operator",Ka,void 0,void 0));return this.signals[Aa]=Ka},getSignal(Aa){this.signals[Aa]||m.error("Unrecognized signal name: "+m.stringValue(Aa));return this.signals[Aa]},signalRef(Aa){if(this.signals[Aa])return U(this.signals[Aa]);m.hasOwnProperty(this.lambdas,Aa)||(this.lambdas[Aa]=
this.add(new R("operator",null,void 0,void 0)));return U(this.lambdas[Aa])},parseLambdas(){const Aa=Object.keys(this.lambdas);for(let vb=0,Xb=Aa.length;vb<Xb;++vb){var Ka=Aa[vb];const Sb=n.parseExpression(Ka,this);Ka=this.lambdas[Ka];Ka.params=Sb.$params;Ka.update=Sb.$expr}},property(Aa){return Aa&&Aa.signal?this.signalRef(Aa.signal):Aa},objectProperty(Aa){return Aa&&m.isObject(Aa)?this.signalRef(Aa.signal||hf(Aa)):Aa},exprRef(Aa,Ka){Aa={expr:n.parseExpression(Aa,this)};Ka&&(Aa.expr.$name=Ka);return U(this.add(Ic(Aa)))},
addBinding(Aa,Ka){this.bindings||m.error("Nested signals do not support binding: "+m.stringValue(Aa));this.bindings.push(m.extend({signal:Aa},Ka))},addScaleProj(Aa,Ka){m.hasOwnProperty(this.scales,Aa)&&m.error("Duplicate scale or projection name: "+m.stringValue(Aa));this.scales[Aa]=this.add(Ka)},addScale(Aa,Ka){this.addScaleProj(Aa,Fb(Ka))},addProjection(Aa,Ka){this.addScaleProj(Aa,xc(Ka))},getScale(Aa){this.scales[Aa]||m.error("Unrecognized scale name: "+m.stringValue(Aa));return this.scales[Aa]},
scaleRef(Aa){return U(this.getScale(Aa))},scaleType(Aa){return this.getScale(Aa).params.type},projectionRef(Aa){return this.scaleRef(Aa)},projectionType(Aa){return this.scaleType(Aa)},addData(Aa,Ka){m.hasOwnProperty(this.data,Aa)&&m.error("Duplicate data set name: "+m.stringValue(Aa));return this.data[Aa]=Ka},getData(Aa){this.data[Aa]||m.error("Undefined data set name: "+m.stringValue(Aa));return this.data[Aa]},addDataPipeline(Aa,Ka){m.hasOwnProperty(this.data,Aa)&&m.error("Duplicate data set name: "+
m.stringValue(Aa));return this.addData(Aa,Pb.fromEntries(this,Ka))}};g.AxisDomainRole="axis-domain";g.AxisGridRole="axis-grid";g.AxisLabelRole="axis-label";g.AxisRole="axis";g.AxisTickRole="axis-tick";g.AxisTitleRole="axis-title";g.DataScope=Pb;g.FrameRole="frame";g.LegendEntryRole="legend-entry";g.LegendLabelRole="legend-label";g.LegendRole="legend";g.LegendSymbolRole="legend-symbol";g.LegendTitleRole="legend-title";g.MarkRole="mark";g.Scope=ff;g.ScopeRole="scope";g.config=yf;g.parse=function(Aa,
Ka,vb){m.isObject(Aa)||m.error("Input Vega specification must be an object.");Ka=m.mergeConfig(yf(),Ka,Aa.config);return ae(Aa,new ff(Ka,vb)).toRuntime()};g.signal=H;g.signalUpdates=Xa;g.stream=N;Object.defineProperty(g,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ja,B,qb,F){function g(H){if(H&&H.__esModule)return H;var R=Object.create(null);H&&Object.keys(H).forEach(function(U){if("default"!==U){var ka=Object.getOwnPropertyDescriptor(H,U);Object.defineProperty(R,U,ka.get?ka:{enumerable:!0,get:function(){return H[U]}})}});R["default"]=H;return Object.freeze(R)}Object.defineProperty(F,"__esModule",{value:!0});var m=B(14),n=B(26),E=B(28),O=B(37),x=B(38),y=B(42),v=B(47),l=B(49),k=B(50),d=B(51),f=B(53);qb=B(54);Ja=B(55);var a=B(27),
e=B(18),p=B(25),A=B(36),C=B(35),D=B(41),P=B(60),L=B(20),G=B(58),z=B(62),K=B(59);B=g(E);O=g(O);x=g(x);y=g(y);v=g(v);l=g(l);k=g(k);d=g(d);f=g(f);qb=g(qb);Ja=g(Ja);m.extend(n.transforms,B,O,x,y,v,k,l,d,f,qb,Ja);Object.keys(m).forEach(function(H){"default"!==H&&Object.defineProperty(F,H,{enumerable:!0,get:function(){return m[H]}})});Object.keys(a).forEach(function(H){"default"!==H&&Object.defineProperty(F,H,{enumerable:!0,get:function(){return a[H]}})});Object.keys(e).forEach(function(H){"default"!==
H&&Object.defineProperty(F,H,{enumerable:!0,get:function(){return e[H]}})});Object.keys(p).forEach(function(H){"default"!==H&&Object.defineProperty(F,H,{enumerable:!0,get:function(){return p[H]}})});Object.keys(A).forEach(function(H){"default"!==H&&Object.defineProperty(F,H,{enumerable:!0,get:function(){return A[H]}})});Object.defineProperty(F,"Dataflow",{enumerable:!0,get:function(){return n.Dataflow}});Object.defineProperty(F,"EventStream",{enumerable:!0,get:function(){return n.EventStream}});Object.defineProperty(F,
"MultiPulse",{enumerable:!0,get:function(){return n.MultiPulse}});Object.defineProperty(F,"Operator",{enumerable:!0,get:function(){return n.Operator}});Object.defineProperty(F,"Parameters",{enumerable:!0,get:function(){return n.Parameters}});Object.defineProperty(F,"Pulse",{enumerable:!0,get:function(){return n.Pulse}});Object.defineProperty(F,"Transform",{enumerable:!0,get:function(){return n.Transform}});Object.defineProperty(F,"changeset",{enumerable:!0,get:function(){return n.changeset}});Object.defineProperty(F,
"definition",{enumerable:!0,get:function(){return n.definition}});Object.defineProperty(F,"ingest",{enumerable:!0,get:function(){return n.ingest}});Object.defineProperty(F,"isTuple",{enumerable:!0,get:function(){return n.isTuple}});Object.defineProperty(F,"transform",{enumerable:!0,get:function(){return n.transform}});Object.defineProperty(F,"transforms",{enumerable:!0,get:function(){return n.transforms}});Object.defineProperty(F,"tupleid",{enumerable:!0,get:function(){return n.tupleid}});Object.defineProperty(F,
"interpolate",{enumerable:!0,get:function(){return C.interpolate}});Object.defineProperty(F,"interpolateColors",{enumerable:!0,get:function(){return C.interpolateColors}});Object.defineProperty(F,"interpolateRange",{enumerable:!0,get:function(){return C.interpolateRange}});Object.defineProperty(F,"quantizeInterpolator",{enumerable:!0,get:function(){return C.quantizeInterpolator}});Object.defineProperty(F,"scale",{enumerable:!0,get:function(){return C.scale}});Object.defineProperty(F,"scheme",{enumerable:!0,
get:function(){return C.scheme}});Object.defineProperty(F,"projection",{enumerable:!0,get:function(){return D.projection}});Object.defineProperty(F,"View",{enumerable:!0,get:function(){return P.View}});Object.defineProperty(F,"defaultLocale",{enumerable:!0,get:function(){return L.defaultLocale}});Object.defineProperty(F,"formatLocale",{enumerable:!0,get:function(){return L.numberFormatDefaultLocale}});Object.defineProperty(F,"locale",{enumerable:!0,get:function(){return L.locale}});Object.defineProperty(F,
"resetDefaultLocale",{enumerable:!0,get:function(){return L.resetDefaultLocale}});Object.defineProperty(F,"timeFormatLocale",{enumerable:!0,get:function(){return L.timeFormatDefaultLocale}});Object.defineProperty(F,"expressionFunction",{enumerable:!0,get:function(){return G.expressionFunction}});Object.defineProperty(F,"parse",{enumerable:!0,get:function(){return z.parse}});Object.defineProperty(F,"runtimeContext",{enumerable:!0,get:function(){return K.context}});F.version="5.19.1"};
shadow$provide[64]=function(Ja,B,qb,F){var g=B(24).Buffer;(function(m,n){"object"===typeof F&&"undefined"!==typeof qb?n(F,B(14),B(63)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega"],n):(m="undefined"!==typeof globalThis?globalThis:m||self,n(m.vegaLite={},m.vega,m.vega))})(this,function(m,n,E){function O(h,J){if(h.not)O(h.not,J);else if(h.and)for(const c of h.and)O(c,J);else if(h.or)for(const c of h.or)O(c,J);else J(h)}function x(h,J){return h.not?{not:x(h.not,J)}:h.and?
{and:h.and.map(c=>x(c,J))}:h.or?{or:h.or.map(c=>x(c,J))}:J(h)}function y(h,J){const c={};for(const t of J)n.hasOwnProperty(h,t)&&(c[t]=h[t]);return c}function v(h,J){h=Object.assign({},h);for(const c of J)delete h[c];return h}function l(h){if(n.isNumber(h))return h;h=n.isString(h)?h:Gj(h);if(250>h.length)return h;let J=0;for(let c=0;c<h.length;c++){const t=h.charCodeAt(c);J=(J<<5)-J+t;J&=J}return J}function k(h){return!1===h||null===h}function d(h,J){return h.includes(J)}function f(h,J){let c=0;for(const t of h.entries()){const [M,
la]=t;if(J(la,M,c++))return!0}return!1}function a(h,J){let c=0;for(const t of h.entries()){const [M,la]=t;if(!J(la,M,c++))return!1}return!0}function e(h,...J){for(const t of J){J=h;var c=null!==t&&void 0!==t?t:{};for(const M of Md(c))n.writeConfig(J,M,c[M],!0)}return h}function p(h,J){const c=[],t={};for(const M of h)h=J(M),h in t||(t[h]=1,c.push(M));return c}function A(h,J){if(h.size!==J.size)return!1;for(const c of h)if(!J.has(c))return!1;return!0}function C(h,J){for(const c of h)if(J.has(c))return!0;
return!1}function D(h){const J=new Set;for(const c of h){const t=n.splitAccessPath(c).map((M,la)=>0===la?M:"[".concat(M,"]"));h=t.map((M,la)=>t.slice(0,la+1).join(""));for(const M of h)J.add(M)}return J}function P(h,J){return void 0===h||void 0===J?!0:C(D(h),D(J))}function L(h){return 0===Md(h).length}function G(h){return!0===h||!1===h}function z(h){const J=h.replace(/\W/g,"_");return(h.match(/^\d+/)?"_":"")+J}function K(h,J){return h.not?"!(".concat(K(h.not,J),")"):h.and?"(".concat(h.and.map(c=>
K(c,J)).join(") \x26\x26 ("),")"):h.or?"(".concat(h.or.map(c=>K(c,J)).join(") || ("),")"):J(h)}function H(h,J){if(0===J.length)return!0;const c=J.shift();c in h&&H(h[c],J)&&delete h[c];return L(h)}function R(h){return h.charAt(0).toUpperCase()+h.substr(1)}function U(h,J){J=void 0===J?"datum":J;h=n.splitAccessPath(h);const c=[];for(let t=1;t<=h.length;t++){const M="[".concat(h.slice(0,t).map(n.stringValue).join("]["),"]");c.push("".concat(J).concat(M))}return c.join(" \x26\x26 ")}function ka(h,J){return"".concat(void 0===
J?"datum":J,"[").concat(n.stringValue(n.splitAccessPath(h).join(".")),"]")}function ba(h){return h.replace(/(\[|\]|\.|'|")/g,"\\$1")}function fa(h){return"".concat(n.splitAccessPath(h).map(ba).join("\\."))}function ja(h,J,c){return h.replace(new RegExp(J.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),c)}function Z(h){return"".concat(n.splitAccessPath(h).join("."))}function Q(h){return h?n.splitAccessPath(h).length:0}function q(...h){for(const J of h)if(void 0!==J)return J}function N(h){const J=++Hj;
return h?String(h)+J:J}function da(h){return aa(h)?h:"__".concat(h)}function aa(h){return h.startsWith("__")}function wa(h){if(void 0!==h)return(h%360+360)%360}function ua(h){return n.isNumber(h)?!0:!isNaN(h)&&!isNaN(parseFloat(h))}function Ea(h){switch(h){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function $a(h){return"color"===h||"fill"===h||"stroke"===h}function kb(h){return ta(h)!==h}function ta(h){switch(h){case "x2":return"x";
case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return h}function Ta(h){if(h in xg)switch(h){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return h}function Xa(h){switch(h){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}
function Fa(h){switch(h){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function va(h){switch(h){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function V(h){return"width"===h?"x":"y"}function X(h){switch(h){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return vl;
case "x":case "y":case "latitude":case "longitude":return Ok;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function ca(h){switch(h){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function ea(h){return!!h&&!!h.argmin}function ra(h){return!!h&&!!h.argmax}function qa(h){return n.isString(h)&&!!gl[h]}function Ha(h){return n.isString(h)&&lh.includes(h)}function na(h){n.isBoolean(h)&&(h=Pd(h,void 0));return"bin"+Md(h).map(J=>ab(h[J])?z("_".concat(J,"_").concat(Qh(h[J]))):z("_".concat(J,"_").concat(h[J]))).join("")}function Pa(h){return!0===h||n.isObject(h)&&!h.binned}function cb(h){return"binned"===h||n.isObject(h)&&!0===
h.binned}function ab(h){return null===h||void 0===h?void 0:h.param}function Ba(h){switch(h){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Ga(h){return h&&!!h.expr}function oa(h){const J=Md(h||{}),c={};for(const t of J)c[t]=bd(h[t]);return c}function Ia(h){var J=Object.assign({},h),c=h.anchor;const t=h.frame,M=h.offset,
la=h.orient;var sa=h.color,Da=h.subtitleColor,db=h.subtitleFont;const pb=h.subtitleFontSize,Cb=h.subtitleFontStyle,Jb=h.subtitleFontWeight,mc=h.subtitleLineHeight;h=h.subtitlePadding;J=(delete J.anchor,delete J.frame,delete J.offset,delete J.orient,delete J.color,delete J.subtitleColor,delete J.subtitleFont,delete J.subtitleFontSize,delete J.subtitleFontStyle,delete J.subtitleFontWeight,delete J.subtitleLineHeight,delete J.subtitlePadding,J);sa=Object.assign({},J,sa?{fill:sa}:{});c=Object.assign({},
c?{anchor:c}:{},t?{frame:t}:{},M?{offset:M}:{},la?{orient:la}:{});Da=Object.assign({},Da?{subtitleColor:Da}:{},db?{subtitleFont:db}:{},pb?{subtitleFontSize:pb}:{},Cb?{subtitleFontStyle:Cb}:{},Jb?{subtitleFontWeight:Jb}:{},mc?{subtitleLineHeight:mc}:{},h?{subtitlePadding:h}:{});db=y(sa,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:sa,subtitleMarkConfig:db,nonMark:c,subtitle:Da}}function Ua(h){return n.isString(h)||n.isArray(h)&&n.isString(h[0])}function eb(h){return h&&!!h.signal}
function Gb(h){return!!h.step}function Tb(h){return n.isArray(h)?!1:"field"in h&&"data"in h}function kc(h){const J=n.isArray(h.condition)?h.condition.map(tc):tc(h.condition);return Object.assign({},bd(h),{condition:J})}function bd(h){if(Ga(h)){var J=Object.assign({},h);h=h.expr;J=(delete J.expr,J);return Object.assign({},{signal:h},J)}return h}function tc(h){if(Ga(h)){var J=Object.assign({},h);h=h.expr;J=(delete J.expr,J);return Object.assign({},{signal:h},J)}return h}function Fc(h){if(Ga(h)){var J=
Object.assign({},h);h=h.expr;J=(delete J.expr,J);return Object.assign({},{signal:h},J)}return eb(h)?h:void 0!==h?{value:h}:void 0}function mb(h){return eb(h)?h.signal:n.stringValue(h.value)}function dc(h){return eb(h)?h.signal:null==h?null:n.stringValue(h)}function Bc(h,J,c){for(const t of c)c=nc(t,J.markDef,J.config),void 0!==c&&(h[t]=Fc(c));return h}function pc(h){var J;return[].concat(h.type,null!==(J=h.style)&&void 0!==J?J:[])}function Cc(h,J,c,t){t=void 0===t?{}:t;const {vgChannel:M,ignoreVgConfig:la}=
t;if(M&&void 0!==J[M])return J[M];if(void 0!==J[h])return J[h];if(!la||M&&M!==h)return nc(h,J,c,t)}function nc(h,J,c,t){({vgChannel:t}=void 0===t?{}:t);return q(t?Uc(h,J,c.style):void 0,Uc(h,J,c.style),t?c[J.type][t]:void 0,c[J.type][h],t?c.mark[t]:c.mark[h])}function Uc(h,J,c){return Tc(h,pc(J),c)}function Tc(h,J,c){J=n.array(J);let t;for(const M of J)(J=c[M])&&void 0!==J[h]&&(t=J[h]);return t}function Kc(h,J){return n.array(h).reduce((c,t)=>{var M;c.field.push(Ka(t,J));c.order.push(null!==(M=t.sort)&&
void 0!==M?M:"ascending");return c},{field:[],order:[]})}function Fd(h,J){const c=[...h];J.forEach(t=>{for(const M of c)if(Bh(M,t))return;c.push(t)});return c}function fe(h,J){return Bh(h,J)||!J?h:h?[...n.array(h),...n.array(J)].join(", "):J}function vd(h,J){const c=h.value;J=J.value;if(null==c||null===J)return{explicit:h.explicit,value:null};if((Ua(c)||eb(c))&&(Ua(J)||eb(J)))return{explicit:h.explicit,value:fe(c,J)};if(Ua(c)||eb(c))return{explicit:h.explicit,value:c};if(Ua(J)||eb(J))return{explicit:h.explicit,
value:J};if(!(Ua(c)||eb(c)||Ua(J)||eb(J)))return{explicit:h.explicit,value:Fd(c,J)};throw Error("It should never reach here");}function Rc(h,J,c){J in h?Object.defineProperty(h,J,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[J]=c;return h}function Yd(h,J,c){J=J.get(h);if(!J)throw new TypeError("attempted to set private field on non-instance");if(J.set)J.set.call(h,c);else{if(!J.writable)throw new TypeError("attempted to set read only private field");J.value=c}return c}function Pb(h){return"Invalid specification ".concat(ng(h),
'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function fc(h){return"".concat("width"==h?"Width":"Height",' "container" only works for single views and layered views.')}function Hb(h){const J="width"==h?"x":"y";return"".concat("width"==h?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(J,'".')}function yc(h){return h?'Dropping "fit-'.concat(h,'" because spec has discrete ').concat(Fa(h),
"."):'Dropping "fit" because spec has discrete size.'}function Vc(h){return"Unknown field for ".concat(h,". Cannot calculate view size.")}function Gd(h){return'Cannot project a selection on encoding channel "'.concat(h,'", which has no field.')}function Wd(h,J){return'Cannot project a selection on encoding channel "'.concat(h,'" as it uses an aggregate function ("').concat(J,'").')}function La(h){return"Selection not supported for ".concat(h," yet.")}function fb(h){return'The "columns" property cannot be used when "'.concat(h,
'" has nested row/column.')}function wb(h,J,c){return'An ancestor parsed field "'.concat(h,'" as ').concat(c," but a child wants to parse the field as ").concat(J,".")}function Ib(h){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(h," are dropped.")}function Zb(h,J){const {fill:c,stroke:t}=J;return"Dropping color ".concat(h," as the plot also has ").concat(c&&t?"fill and stroke":c?"fill":"stroke",".")}function ic(h,J){return"Dropping ".concat(ng(h),
' from channel "').concat(J,'" since it does not contain any data field, datum, value, or signal.')}function Ac(h,J,c){return"".concat(h,' dropped as it is incompatible with "').concat(J,'"').concat(c?" when ".concat(c):"",".")}function qc(h){return"".concat(h,"-encoding is dropped as ").concat(h," is not a valid encoding channel.")}function nb(h,J){return'Using discrete channel "'.concat(h,'" to encode "').concat(J,'" field can be misleading as it does not encode ').concat("ordinal"===J?"order":
"magnitude",".")}function Bb(h,J,c){return"".concat(c,"-scale's \"").concat(J,'" is dropped as it does not work with ').concat(h," scale.")}function Ub(h){return'The step for "'.concat(h,'" is dropped because the ').concat("width"===h?"x":"y"," is continuous.")}function jc(h){return'Cannot stack "'.concat(h,'" if there is already "').concat(h,'2".')}function zc(h,J){return"Invalid ".concat(h,": ").concat(ng(J),".")}function Dc(h){return"1D error band does not support ".concat(h,".")}function Wc(h){return"Channel ".concat(h,
' is required for "binned" bin.')}function Db(...h){Oi.warn(...h)}function Hc(h){if(h&&n.isObject(h))for(const J of kk)if(J in h)return!0;return!1}function fd(h){ua(h)&&(h=+h);if(n.isNumber(h))return h-1;{var J=h.toLowerCase();const c=Fj.indexOf(J);if(-1!==c)return c;J=J.substr(0,3);J=Jj.indexOf(J);if(-1!==J)return J;throw Error(zc("month",h));}}function uc(h){ua(h)&&(h=+h);if(n.isNumber(h))return h%7;{var J=h.toLowerCase();const c=Pk.indexOf(J);if(-1!==c)return c;J=J.substr(0,3);J=dl.indexOf(J);
if(-1!==J)return J;throw Error(zc("day",h));}}function Zc(h,J){const c=[];J&&void 0!==h.day&&1<Md(h).length&&(Db("Dropping day from datetime ".concat(ng(h)," as day cannot be combined with other units.")),h=pf(h),delete h.day);void 0!==h.year?c.push(h.year):c.push(2012);if(void 0!==h.month){var t=J?fd(h.month):h.month;c.push(t)}else if(void 0!==h.quarter){if(J)if(t=h.quarter,ua(t)&&(t=+t),n.isNumber(t))4<t&&Db(zc("quarter",t)),--t;else throw Error(zc("quarter",t));else t=h.quarter;c.push(n.isNumber(t)?
3*t:"".concat(t,"*3"))}else c.push(0);void 0!==h.date?c.push(h.date):void 0!==h.day?(J=J?uc(h.day):h.day,c.push(n.isNumber(J)?J+1:"".concat(J,"+1"))):c.push(1);for(const M of["hours","minutes","seconds","milliseconds"])J=h[M],c.push("undefined"===typeof J?0:J);return c}function $c(h){const J=Zc(h,!0).join(", ");return h.utc?"utc(".concat(J,")"):"datetime(".concat(J,")")}function nd(h){const J=Zc(h,!0);return h.utc?+new Date(Date.UTC(...J)):+new Date(...J)}function Cd(h){return kk.filter(J=>Ed(h,J))}
function Ed(h,J){const c=h.indexOf(J);return 0>c||0<c&&"seconds"===J&&"i"===h.charAt(c-1)||h.length>c+3&&"day"===J&&"o"===h.charAt(c+3)||0<c&&"year"===J&&"f"===h.charAt(c-1)?!1:!0}function Xd(h,J,c){({end:c}=void 0===c?{end:!1}:c);const t=U(J),M=h.startsWith("utc")?"utc":"";J={};for(const sa of kk)if(Ed(h,sa)){var la=sa;la="quarter"===la?"(".concat(M,"quarter(").concat(t,")-1)"):"".concat(M).concat(la,"(").concat(t,")");J[sa]=la;la=sa}c&&(J[la]+="+1");h=Zc(J,!1).join(", ");return h=J.utc?"utc(".concat(h,
")"):"datetime(".concat(h,")")}function $d(h){if(h)return h=Cd(h),"timeUnitSpecifier(".concat(ng(h),", ").concat(ng(ze),")")}function ae(h){if(h){var J;n.isString(h)?J={unit:h}:n.isObject(h)&&(J=Object.assign({},h,h.unit?{unit:h.unit}:{}));J.unit.startsWith("utc")&&(J.utc=!0,J.unit=J.unit.substr(3));return J}}function Ce(h){var J=ae(h);h=Object.assign({},J);J=J.utc;const c=(delete h.utc,h);return c.unit?(J?"utc":"")+Md(c).map(t=>z("".concat("unit"===t?"":"_".concat(t,"_")).concat(c[t]))).join(""):
(J?"utc":"")+"timeunit"+Md(c).map(t=>z("_".concat(t,"_").concat(c[t]))).join("")}function me(h){return h&&!!h.field&&void 0!==h.equal}function ff(h){return h&&!!h.field&&void 0!==h.lt}function Ze(h){return h&&!!h.field&&void 0!==h.lte}function hf(h){return h&&!!h.field&&void 0!==h.gt}function Vd(h){return h&&!!h.field&&void 0!==h.gte}function ge(h){return h&&h.field&&(n.isArray(h.range)&&2===h.range.length||eb(h.range))?!0:!1}function yf(h){return h&&!!h.field&&(n.isArray(h.oneOf)||n.isArray(h.in))}
function Ue(h){return yf(h)||me(h)||ge(h)||ff(h)||hf(h)||Ze(h)||Vd(h)}function of(h,J){return He(h,{timeUnit:J,wrapTime:!0})}function le(h,J){return h.map(c=>of(c,J))}function ye(h,J){J=void 0===J?!0:J;var c,{field:t}=h;const M=null===(c=ae(h.timeUnit))||void 0===c?void 0:c.unit;c=M?"time(".concat(Xd(M,t),")"):Ka(h,{expr:"datum"});if(me(h))return"".concat(c,"\x3d\x3d\x3d").concat(of(h.equal,M));if(ff(h))return J=h.lt,"".concat(c,"\x3c").concat(of(J,M));if(hf(h))return J=h.gt,"".concat(c,"\x3e").concat(of(J,
M));if(Ze(h))return J=h.lte,"".concat(c,"\x3c\x3d").concat(of(J,M));if(Vd(h))return J=h.gte,"".concat(c,"\x3e\x3d").concat(of(J,M));if(yf(h))return"indexof([".concat(le(h.oneOf,M).join(","),"], ").concat(c,") !\x3d\x3d -1");if(h&&h.field&&void 0!==h.valid)return Mf(c,h.valid);if(ge(h)){({range:t}=h);h=eb(t)?{signal:"".concat(t.signal,"[0]")}:t[0];t=eb(t)?{signal:"".concat(t.signal,"[1]")}:t[1];if(null!==h&&null!==t&&J)return"inrange("+c+", ["+of(h,M)+", "+of(t,M)+"])";J=[];null!==h&&J.push("".concat(c,
" \x3e\x3d ").concat(of(h,M)));null!==t&&J.push("".concat(c," \x3c\x3d ").concat(of(t,M)));return 0<J.length?J.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(ng(h)));}function Mf(h,J){return void 0===J||J?"isValid(".concat(h,") \x26\x26 isFinite(+").concat(h,")"):"!isValid(".concat(h,") || !isFinite(+").concat(h,")")}function Ge(h){if(Ue(h)&&h.timeUnit){var J;return Object.assign({},h,{timeUnit:null===(J=ae(h.timeUnit))||void 0===J?void 0:J.unit})}return h}function Td(h){if(h)switch(h=
h.toLowerCase(),h){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Zd(h){return null===h||void 0===h?void 0:h.param}function we(h,J){switch(J){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(h);case "bins":return!["point","band","identity","ordinal"].includes(h);
case "round":return h in oh||"band"===h||"point"===h;case "padding":case "rangeMin":case "rangeMax":return h in oh||["point","band"].includes(h);case "paddingOuter":case "align":return["point","band"].includes(h);case "paddingInner":return"band"===h;case "domainMax":case "domainMid":case "domainMin":case "clamp":return h in oh;case "nice":return h in oh||"quantize"===h||"threshold"===h;case "exponent":return"pow"===h;case "base":return"log"===h;case "constant":return"symlog"===h;case "zero":return h in
Jg&&!d(["log","time","utc","threshold","quantile"],h)}}function nf(h,J){switch(J){case "interpolate":case "scheme":case "domainMid":if(!$a(h))return'Cannot use the scale property "'.concat(h,'" with non-color channel.')}}function Pe(h,J){if(!Li[h])return!1;switch(h){case "x":case "y":case "theta":case "radius":return J in oh||d(["band","point"],J);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return J in oh||J in sj||d(["band","point","ordinal"],
J);case "color":case "fill":case "stroke":return"band"!==J;case "strokeDash":case "shape":return"ordinal"===J||J in sj}}function Qd(h){return["line","area","trail"].includes(h)}function Qe(h){return h.type}function Yf(h){return h&&void 0!=h.band}function Ic(h){const {channel:J,channelDef:c,markDef:t,scale:M,config:la}=h;h=re(h);return kd(c)&&!Ha(c.aggregate)&&M&&M.get("type")in oh&&!1===M.get("zero")?xe({fieldDef:c,channel:J,markDef:t,ref:h,config:la}):h}function xe(h){var {fieldDef:J,channel:c,markDef:t,
ref:M,config:la}=h;if(Qd(t.type)||null===Cc("invalid",t,la))return M;{h=je(J,!0);const sa="y"===ta(c)?{field:{group:"height"}}:{value:0};h=Object.assign({},{test:h},sa)}return[h,M]}function je(h,J){J=void 0===J?!0:J;return Mf(n.isString(h)?h:Ka(h,{expr:"datum"}),!J)}function gc(h,J,c,t){const M={};J&&(M.scale=J);bf(h)?({datum:h}=h,Hc(h)?M.signal=$c(h):eb(h)?M.signal=h.signal:Ga(h)?M.signal=h.expr:M.value=h):M.field=Ka(h,c);if(t){const {offset:la,band:sa}=t;la&&(M.offset=la);sa&&(M.band=sa)}return M}
function De(h){var {scaleName:J,fieldOrDatumDef:c,fieldOrDatumDef2:t,offset:M,startSuffix:la,bandPosition:sa=.5}=h,Da=0<sa&&1>sa?"datum":void 0;h=Ka(c,{expr:Da,suffix:la});const db=void 0!==t?Ka(t,{expr:Da}):Ka(c,{suffix:"end",expr:Da});Da={};0===sa||1===sa?(Da.scale=J,Da.field=0===sa?h:db):(h=eb(sa)?"".concat(sa.signal," * ").concat(h," + (1-").concat(sa.signal,") * ").concat(db):"".concat(sa," * ").concat(h," + ").concat(1-sa," * ").concat(db),Da.signal='scale("'.concat(J,'", ').concat(h,")"));
M&&(Da.offset=M);return Da}function re(h){var {channel:J,channelDef:c,channel2Def:t,markDef:M,config:la,scaleName:sa,scale:Da,stack:db,offset:pb,defaultRef:Cb,bandPosition:Jb}=h;if(c){if(ce(c)){var mc,hd;if(Xe(c)){var md;null!==(md=Jb)&&void 0!==md?md:Jb=Pc({fieldDef:c,fieldDef2:t,markDef:M,config:la});const {bin:sd,timeUnit:yd,type:Ad}=c;if(Pa(sd)||Jb&&yd&&"temporal"===Ad)return db&&db.impute?gc(c,sa,{binSuffix:"mid"},{offset:pb}):Jb?De({scaleName:sa,fieldOrDatumDef:c,bandPosition:Jb,offset:pb}):
gc(c,sa,Le(c,J)?{binSuffix:"range"}:{},{offset:pb});if(cb(sd)){if(kd(t))return De({scaleName:sa,fieldOrDatumDef:c,fieldOrDatumDef2:t,bandPosition:Jb,offset:pb});Db(Wc("x"===J?"x2":"y2"))}}h=null===Da||void 0===Da?void 0:Da.get("type");return gc(c,sa,h in Pg?{binSuffix:"range"}:{},{offset:pb,band:"band"===h?null!==(mc=null!==(hd=Jb)&&void 0!==hd?hd:c.bandPosition)&&void 0!==mc?mc:.5:void 0})}if(zf(c))return mc=pb?{offset:pb}:{},Object.assign({},gf(J,c.value),mc)}n.isFunction(Cb)&&(Cb=Cb());return Cb?
Object.assign({},Cb,pb?{offset:pb}:{}):Cb}function gf(h,J){return d(["x","x2"],h)&&"width"===J?{field:{group:"width"}}:d(["y","y2"],h)&&"height"===J?{field:{group:"height"}}:Fc(J)}function Hf(h){return h&&"number"!==h&&"time"!==h}function If(h,J,c){return"".concat(h,"(").concat(J).concat(c?", ".concat(ng(c)):"",")")}function Qf(h){var {fieldOrDatumDef:J,format:c,formatType:t,expr:M,normalizeStack:la,config:sa}=h;if(Hf(t))return Ae({fieldOrDatumDef:J,format:c,formatType:t,expr:M,config:sa});h=Jf(J,
M,la);if(pe(J)){var Da,db;var pb=kd(J)?null===(Da=ae(J.timeUnit))||void 0===Da?void 0:Da.unit:void 0,Cb=c,Jb=sa.timeFormat;Da=tf(J)&&(null===(db=J.scale)||void 0===db?void 0:db.type)===Dg.UTC;!pb||Cb?(Cb=n.isString(Cb)?Cb:Jb,h="".concat(Da?"utc":"time","Format(").concat(h,", '").concat(Cb,"')")):pb?(db=$d(pb),pb=Da||pb.startsWith("utc"),h="".concat(pb?"utc":"time","Format(").concat(h,", ").concat(db,")")):h=void 0;return h?{signal:h}:void 0}c=Ca(lf(J),c,sa);return kd(J)&&Pa(J.bin)?(db=Ka(J,{expr:M,
binSuffix:"end"}),{signal:ub(h,db,c,t,sa)}):c||"quantitative"===lf(J)?{signal:"".concat(Za(h,c))}:{signal:"isValid(".concat(h,") ? ").concat(h,' : ""+').concat(h)}}function Jf(h,J,c){if(kd(h))return c?"".concat(Ka(h,{expr:J,suffix:"end"}),"-").concat(Ka(h,{expr:J,suffix:"start"})):Ka(h,{expr:J});({datum:h}=h);h=Hc(h)?$c(h):"".concat(ng(h));return h}function Ae(h){var {fieldOrDatumDef:J,format:c,formatType:t,expr:M,normalizeStack:la,config:sa,field:Da}=h,db;null!==(db=Da)&&void 0!==db?db:Da=Jf(J,M,
la);return kd(J)&&Pa(J.bin)?(h=Ka(J,{expr:M,binSuffix:"end"}),{signal:ub(Da,h,c,t,sa)}):{signal:If(t,Da,c)}}function xc(h,J,c,t,M,la){if(!Hf(t)){if(pe(h)){var sa;h=kd(h)?null===(sa=ae(h.timeUnit))||void 0===sa?void 0:sa.unit:void 0;c=c?c:h?{signal:$d(h)}:la?void 0:M.timeFormat;return c}return Ca(J,c,M)}}function ya(h,J,c){if(h&&(eb(h)||"number"===h||"time"===h))return h;if(pe(J)&&"time"!==c&&"utc"!==c)return"time"}function Ca(h,J,c){if(n.isString(J))return J;if("quantitative"===h)return c.numberFormat}
function Za(h,J){return"format(".concat(h,', "').concat(J||"",'")')}function Fb(h,J,c,t){var M;return Hf(c)?If(c,h,J):Za(h,null!==(M=n.isString(J)?J:void 0)&&void 0!==M?M:t.numberFormat)}function ub(h,J,c,t,M){const la=Fb(h,c,t,M);J=Fb(J,c,t,M);return"".concat(Mf(h,!1),' ? "null" : ').concat(la,' + "').concat("  ",'" + ').concat(J)}function Wb(h){return!!h&&("count"===h.op||!!h.field)}function vc(h){return!!h&&n.isArray(h)}function Nc(h){return"row"in h||"column"in h}function ld(h){const {field:J,
timeUnit:c,bin:t,aggregate:M}=h;return Object.assign({},c?{timeUnit:c}:{},t?{bin:t}:{},M?{aggregate:M}:{},{field:J})}function Pc(h){var {fieldDef:J,fieldDef2:c,markDef:t,config:M}=h;if(ce(J)&&void 0!==J.bandPosition)return J.bandPosition;if(kd(J)){const {timeUnit:la,bin:sa}=J;if(la&&!c)return["rect","bar","image","arc"].includes(t.type)?0:nc("timeUnitBandPosition",t,M);if(Pa(sa))return.5}}function Ld(h){var {channel:J,fieldDef:c,fieldDef2:t,markDef:M,config:la,scaleType:sa,useVlSizeChannel:Da}=h;
h=Fa(J);h=Cc(Da?"size":h,M,la,{vgChannel:h});if(void 0!==h)return h;if(kd(c)){const {timeUnit:Jb,bin:mc}=c;if(Jb&&!t)return{band:nc("timeUnitBandSize",M,la)};if(Pa(mc)&&!(sa in Pg))return{band:1}}if(["rect","bar","image","arc"].includes(M.type)){var db;if(sa){if(sa in Pg){var pb;return(null===(pb=la[M.type])||void 0===pb?void 0:pb.discreteBandSize)||{band:1}}var Cb;return null===(Cb=la[M.type])||void 0===Cb?void 0:Cb.continuousBandSize}return null===(db=la[M.type])||void 0===db?void 0:db.discreteBandSize}}
function Nd(h,J,c,t){return Pa(h.bin)||h.timeUnit&&Xe(h)&&"temporal"===h.type?void 0!==Pc({fieldDef:h,fieldDef2:J,markDef:c,config:t}):!1}function Od(h){return!!h&&"condition"in h}function od(h){h=h&&h.condition;return!!h&&!n.isArray(h)&&kd(h)}function Rd(h){h=h&&h.condition;return!!h&&!n.isArray(h)&&ce(h)}function kd(h){return!!h&&(!!h.field||"count"===h.aggregate)}function lf(h){return h&&h.type}function bf(h){return!!h&&"datum"in h}function ee(h){return Xe(h)&&!vb(h)||Ve(h)}function Ve(h){return bf(h)&&
n.isNumber(h.datum)}function ce(h){return kd(h)||bf(h)}function Xe(h){return!!h&&("field"in h||"count"===h.aggregate)&&"type"in h}function zf(h){return h&&"value"in h&&"value"in h}function tf(h){return!!h&&("scale"in h||"sort"in h)}function Oe(h){return h&&("axis"in h||"stack"in h||"impute"in h)}function Nf(h){return!!h&&("format"in h||"formatType"in h)}function Aa(h){return v(h,["legend","axis","header","scale"])}function Ka(h,J){J=void 0===J?{}:J;let c=h.field;const t=J.prefix;let M=J.suffix,la=
"";if("count"===h.aggregate)c=da("count");else{let pb;if(!J.nofn)if("op"in h)pb=h.op;else{const {bin:Cb,aggregate:Jb,timeUnit:mc}=h;if(Pa(Cb)){var sa,Da;pb=na(Cb);M=(null!==(sa=J.binSuffix)&&void 0!==sa?sa:"")+(null!==(Da=J.suffix)&&void 0!==Da?Da:"")}else if(Jb)ra(Jb)?(la='["'.concat(c,'"]'),c="argmax_".concat(Jb.argmax)):ea(Jb)?(la='["'.concat(c,'"]'),c="argmin_".concat(Jb.argmin)):pb=String(Jb);else if(mc){var db;pb=Ce(mc);M=(!["range","mid"].includes(J.binSuffix)&&J.binSuffix||"")+(null!==(db=
J.suffix)&&void 0!==db?db:"")}}pb&&(c=c?"".concat(pb,"_").concat(c):pb)}M&&(c="".concat(c,"_").concat(M));t&&(c="".concat(t,"_").concat(c));return J.forAs?Z(c):J.expr?ka(c,J.expr)+la:fa(c)+la}function vb(h){switch(h.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return kd(h)&&!!h.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(h.type,'".'));}function Xb(h,J){const {field:c,bin:t,timeUnit:M,aggregate:la}=h;if("count"===la)return J.countTitle;
if(Pa(t))return"".concat(c," (binned)");if(M){var sa;if(h=null===(sa=ae(M))||void 0===sa?void 0:sa.unit)return"".concat(c," (").concat(Cd(h).join("-"),")")}else if(la)return ra(la)?"".concat(c," for max ").concat(la.argmax):ea(la)?"".concat(c," for min ").concat(la.argmin):"".concat(R(la)," of ").concat(c);return c}function Sb(h,J,c){var {allowDisabling:t,includeDefault:M=!0}=c,la;c=null===(la=hc(h))||void 0===la?void 0:la.title;if(!kd(h))return c;J=M?oe(h,J):void 0;if(t)return q(c,h.title,J);var sa;
return null!==(sa=null!==c&&void 0!==c?c:h.title)&&void 0!==sa?sa:J}function hc(h){if(Oe(h)&&h.axis)return h.axis;if(h&&"legend"in h&&h.legend)return h.legend;if(h&&"header"in h&&h.header)return h.header}function lc(h){if(Nf(h)){const {format:c,formatType:t}=h;return{format:c,formatType:t}}{var J;h=null!==(J=hc(h))&&void 0!==J?J:{};const {format:c,formatType:t}=h;return{format:c,formatType:t}}}function id(h,J){var c;switch(J){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in h&&n.isArray(h.sort))return"ordinal";const {aggregate:t,bin:M,timeUnit:la}=h;if(la)return"temporal";if(M||t&&!ra(t)&&!ea(t))return"quantitative";if(tf(h)&&null!==(c=h.scale)&&void 0!==c&&c.type)switch(lk[h.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Sc(h){if(kd(h))return h;if(od(h))return h.condition}function gd(h){if(ce(h))return h;if(Rd(h))return h.condition}function Hd(h,J,c,
t){t=void 0===t?{}:t;return n.isString(h)||n.isNumber(h)||n.isBoolean(h)?(c=n.isString(h)?"string":n.isNumber(h)?"number":"boolean",J="Channel ".concat(J," is a ").concat(c,". Converted to {value: ").concat(ng(h),"}."),Db(J),{value:h}):ce(h)?he(h,J,c,t):Rd(h)?Object.assign({},h,{condition:he(h.condition,J,c,t)}):h}function he(h,J,c,t){if(Nf(h)){var M=Object.assign({},h),la=h.formatType;M=(delete M.format,delete M.formatType,M);if(Hf(la)&&!c.customFormatTypes)return Db(Ib(J)),he(M,J,c,t)}else if((la=
Oe(h)?"axis":h&&"legend"in h?"legend":h&&"header"in h?"header":null)&&h[la]){var sa=h[la];M=Object.assign({},sa);sa=sa.formatType;M=(delete M.format,delete M.formatType,M);if(Hf(sa)&&!c.customFormatTypes)return Db(Ib(J)),he(Object.assign({},h,{[la]:M}),J,c,t)}if(kd(h))return ie(h,J,t);J=h.type;J||({datum:J}=h,J=n.isNumber(J)?"quantitative":n.isString(J)?"nominal":Hc(J)?"temporal":void 0,h=Object.assign({},h,{type:J}));return h}function ie(h,J,c){({compositeMark:c=!1}=void 0===c?{}:c);const {aggregate:t,
timeUnit:M,bin:la,field:sa}=h;h=Object.assign({},h);c||!t||qa(t)||ra(t)||ea(t)||(Db('Invalid aggregation operator "'.concat(t,'".')),delete h.aggregate);M&&(h.timeUnit=ae(M));sa&&(h.field="".concat(sa));Pa(la)&&(h.bin=Pd(la,J));!cb(la)||J in Zg||Db("Channel ".concat(J,' should not be used with "binned" bin.'));if(Xe(h)){({type:c}=h);var Da=Td(c);c!==Da&&(h.type=Da);"quantitative"!==c&&Ha(t)&&(c='Invalid field type "'.concat(c,'" for aggregate: "').concat(t,'", using "quantitative" instead.'),Db(c),
h.type="quantitative")}else kb(J)||(c=id(h,J),h.type=c);if(Xe(h)){const {compatible:db,warning:pb}=Ne(h,J)||{};!1===db&&Db(pb)}if("sort"in h&&n.isString(h.sort)){({sort:J}=h);if(J in Gc)return Object.assign({},h,{sort:{encoding:J}});c=J.substr(1);if("-"===J.charAt(0)&&c in Gc)return Object.assign({},h,{sort:{encoding:c,order:"descending"}})}return h&&"header"in h&&({header:J}=h,J&&(Da=J,c=Object.assign({},Da),Da=Da.orient,c=(delete c.orient,c),Da))?Object.assign({},h,{header:Object.assign({},c,{labelOrient:J.labelOrient||
Da,titleOrient:J.titleOrient||Da})}):h}function Pd(h,J){return n.isBoolean(h)?{maxbins:Ba(J)}:"binned"===h?{binned:!0}:h.maxbins||h.step?h:Object.assign({},h,{maxbins:Ba(J)})}function Ne(h,J){var c=h.type;if("geojson"===c&&"shape"!==J)return{compatible:!1,warning:"Channel ".concat(J," should not be used with a geojson data.")};switch(J){case "row":case "column":case "facet":return vb(h)?$e:{compatible:!1,warning:"".concat(J," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return $e;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:"Channel ".concat(J," should be used with a quantitative field only, not ").concat(h.type," field.")}:$e;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==c||h.sort?$e:{compatible:!1,warning:"Channel ".concat(J," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(c=
!vb(h)){var t;c=!(tf(h)&&(null===(t=h.scale)||void 0===t?void 0:t.type)in sj)}return c?{compatible:!1,warning:"".concat(J," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:$e;case "order":return"nominal"!==h.type||"sort"in h?$e:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function pe(h){var {formatType:J}=lc(h),c;if(!(c="time"===J)){if(J=!J)J=h&&("temporal"===h.type||kd(h)&&!!h.timeUnit);
c=J}return c}function He(h,J){var {timeUnit:c,type:t,wrapTime:M,undefinedIfExprNotRequired:la}=J;var sa=(J=c&&(null===(sa=ae(c))||void 0===sa?void 0:sa.unit))||"temporal"===t;let Da;Ga(h)?Da=h.expr:eb(h)?Da=h.signal:Hc(h)?(sa=!0,Da=$c(h)):(n.isString(h)||n.isNumber(h))&&sa&&(Da="datetime(".concat(ng(h),")"),Mk[J]&&(n.isNumber(h)&&1E4>h||n.isString(h)&&isNaN(Date.parse(h)))&&(Da=$c({[J]:h})));return Da?M&&sa?"time(".concat(Da,")"):Da:la?void 0:ng(h)}function Je(h,J){const {type:c}=h;return J.map(t=>
{const M=He(t,{timeUnit:kd(h)?h.timeUnit:void 0,type:c,undefinedIfExprNotRequired:!0});return void 0!==M?{signal:M}:t})}function Le(h,J){return Pa(h.bin)?!!Li[J]&&["ordinal","nominal"].includes(h.type):(console.warn("Only call this method for binned field defs."),!1)}function Of(h){return h&&h.condition}function Te(h){return"mark"in h}function uf(h,J){return(h=h&&h[J])?n.isArray(h)?f(h,c=>!!c.field):kd(h)||od(h):!1}function Bf(h){return f(ik,J=>uf(h,J)?(J=h[J],n.isArray(J)?f(J,c=>!!c.aggregate):(J=
Sc(J))&&!!J.aggregate):!1)}function Ag(h,J){const c=[],t=[],M=[],la=[],sa={};Oa(h,(Da,db)=>{if(kd(Da)){var pb=Object.assign({},Da),Cb=Da.field;const mc=Da.aggregate,hd=Da.bin,md=Da.timeUnit;pb=(delete pb.field,delete pb.aggregate,delete pb.bin,delete pb.timeUnit,pb);if(mc||md||hd){var Jb=hc(Da);const sd=Jb&&Jb.title;Jb=Ka(Da,{forAs:!0});pb=Object.assign({},sd?[]:{title:Sb(Da,J,{allowDisabling:!0})},pb,{field:Jb});if(mc){let yd;ra(mc)?(yd="argmax",Jb=Ka({op:"argmax",field:mc.argmax},{forAs:!0}),pb.field=
"".concat(Jb,".").concat(Cb)):ea(mc)?(yd="argmin",Jb=Ka({op:"argmin",field:mc.argmin},{forAs:!0}),pb.field="".concat(Jb,".").concat(Cb)):"boxplot"!==mc&&"errorbar"!==mc&&"errorband"!==mc&&(yd=mc);yd&&(Da={op:yd,as:Jb},Cb&&(Da.field=Cb),la.push(Da))}else c.push(Jb),Xe(Da)&&Pa(hd)?(t.push({bin:hd,field:Cb,as:Jb}),c.push(Ka(Da,{binSuffix:"end"})),Le(Da,db)&&c.push(Ka(Da,{binSuffix:"range"})),db in Zg&&(Cb={field:"".concat(Jb,"_end")},sa["".concat(db,"2")]=Cb),pb.bin="binned",kb(db)||(pb.type="quantitative")):
md&&(M.push({timeUnit:md,field:Cb,as:Jb}),(Cb=Xe(Da)&&"temporal"!==Da.type&&"time")&&("text"===db||"tooltip"===db?pb.formatType=Cb:bl[db]?pb.legend=Object.assign({},{formatType:Cb},pb.legend):db in Zg&&(pb.axis=Object.assign({},{formatType:Cb},pb.axis))));sa[db]=pb}else c.push(Cb),sa[db]=h[db]}else sa[db]=h[db]});return{bins:t,timeUnits:M,aggregate:la,groupby:c,encoding:sa}}function Rf(h,J,c){c=X(J)[c];return c&&("binned"!==c||(c=h["x2"===J?"x":"y"],kd(c)&&kd(h[J])&&cb(c.bin)))?!0:!1}function jg(h,
J,c,t){return Md(h).reduce((M,la)=>{if(!mh[la])return Db(qc(la)),M;const sa=h[la];"angle"!==la||"arc"!==J||h.theta||(Db("Arc marks uses theta channel rather than angle, replacing angle with theta."),la="theta");if(!Rf(h,la,J))return Db(Ac(la,J)),M;if("size"===la&&"line"===J){const Da=Sc(h[la]);if(null!==Da&&void 0!==Da&&Da.aggregate)return Db("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),M}if("color"===la&&(c?"fill"in h:"stroke"in h))return Db(Zb("encoding",
{fill:"fill"in h,stroke:"stroke"in h})),M;if("detail"===la||"order"===la&&!n.isArray(sa)&&!zf(sa)||"tooltip"===la&&n.isArray(sa))sa&&(M[la]=n.array(sa).reduce((Da,db)=>{kd(db)?Da.push(ie(db,la)):Db(ic(db,la));return Da},[]));else{if("tooltip"===la&&null===sa)M[la]=null;else if(!(kd(sa)||bf(sa)||zf(sa)||Od(sa)||eb(sa)))return Db(ic(sa,la)),M;M[la]=Hd(sa,la,t)}return M},{})}function xa(h,J){const c={};for(const t of Md(h)){const M=Hd(h[t],t,J,{compositeMark:!0});c[t]=M}return c}function za(h){const J=
[];for(const c of Md(h))if(uf(h,c)){const t=n.array(h[c]);for(const M of t)kd(M)?J.push(M):od(M)&&J.push(M.condition)}return J}function Oa(h,J,c){if(h)for(const t of Md(h)){const M=h[t];if(n.isArray(M))for(const la of M)J.call(c,la,t);else J.call(c,M,t)}}function Sa(h,J,c,t){return h?Md(h).reduce((M,la)=>{const sa=h[la];return n.isArray(sa)?sa.reduce((Da,db)=>J.call(t,Da,db,la),M):J.call(t,M,sa,la)},c):c}function gb(h,J){return Md(J).reduce((c,t)=>{switch(t){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return c;
case "order":if("line"===h||"trail"===h)return c;case "detail":case "key":t=J[t];if(n.isArray(t)||kd(t))for(var M of n.array(t))M.aggregate||c.push(Ka(M,{}));return c;case "size":if("trail"===h)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(M=Sc(J[t]))&&!M.aggregate&&c.push(Ka(M,{})),c}},[])}function ib(h,J,c,t){t=void 0===t?!0:t;if("tooltip"in c)return{tooltip:c.tooltip};h=h.map(M=>{var {fieldPrefix:la,
titlePrefix:sa}=M;M=t?" of ".concat(rb(J)):"";return{field:la+J.field,type:J.type,title:eb(sa)?{signal:"".concat(sa,'"').concat(escape(M),'"')}:sa+M}});c=za(c).map(Aa);return{tooltip:[...h,...p(c,l)]}}function rb(h){const {title:J,field:c}=h;return q(J,c)}function Eb(h,J,c,t,M){const {scale:la,axis:sa}=c;return Da=>{var {partName:db,mark:pb,positionPrefix:Cb,endPositionPrefix:Jb,extraEncoding:mc={}}=Da;Da=rb(c);return zb(h,db,M,{mark:pb,encoding:Object.assign({},{[J]:Object.assign({},{field:"".concat(Cb,
"_").concat(c.field),type:c.type},void 0!==Da?{title:Da}:{},void 0!==la?{scale:la}:{},void 0!==sa?{axis:sa}:{})},n.isString(Jb)?{["".concat(J,"2")]:{field:"".concat(Jb,"_").concat(c.field)}}:{},t,mc)})}}function zb(h,J,c,t){const {clip:M,color:la,opacity:sa}=h,Da=h.type;return h[J]||void 0===h[J]&&c[J]?[Object.assign({},t,{mark:Object.assign({},c[J],M?{clip:M}:{},la?{color:la}:{},sa?{opacity:sa}:{},Qe(t.mark)?t.mark:{type:t.mark},{style:"".concat(Da,"-").concat(J)},n.isBoolean(h[J])?{}:h[J])})]:[]}
function Mb(h,J,c){({encoding:h}=h);J="vertical"===J?"y":"x";const t=h[J],M=h["".concat(J,"2")],la=h["".concat(J,"Error")];h=h["".concat(J,"Error2")];return{continuousAxisChannelDef:Lb(t,c),continuousAxisChannelDef2:Lb(M,c),continuousAxisChannelDefError:Lb(la,c),continuousAxisChannelDefError2:Lb(h,c),continuousAxis:J}}function Lb(h,J){if(h&&h.aggregate){var c=Object.assign({},h);h=h.aggregate;c=(delete c.aggregate,c);h!==J&&(J="Continuous axis should not have customized aggregation function ".concat(h,
"; ").concat(J," already agregates the axis."),Db(J));return c}return h}function bc(h,J){const {mark:c,encoding:t}=h,{x:M,y:la}=t;if(Qe(c)&&c.orient)return c.orient;if(ee(M)){if(ee(la)){h=kd(M)&&M.aggregate;const sa=kd(la)&&la.aggregate;if(!h&&sa===J)return"vertical";if(sa||h!==J){if(h===J&&sa===J)throw Error("Both x and y cannot have aggregate");return pe(la)&&!pe(M)?"horizontal":"vertical"}}return"horizontal"}if(ee(la))return"vertical";throw Error("Need a valid continuous axis for ".concat(J,"s"));
}function sc(h){return n.isNumber(h)?"tukey":h}function Y(h,J){var {config:c}=J,t,M=h=Object.assign({},h,{encoding:xa(h.encoding,c)});J=Object.assign({},M);var la=M.mark;M=M.params;J=(delete J.mark,delete J.encoding,delete J.params,delete J.projection,J);la=Qe(la)?la:{type:la};M&&Db(La("boxplot"));M=null!==(t=la.extent)&&void 0!==t?t:c.boxplot.extent;var sa=Cc("size",la,c);t=sc(M);var Da;{var db=h;h=bc(db,"boxplot");const {continuousAxisChannelDef:$f,continuousAxis:kg}=Mb(db,h,"boxplot");var pb=$f.field,
Cb=sc(M),Jb=[...pa(pb),{op:"median",field:pb,as:"mid_box_".concat(pb)},{op:"min",field:pb,as:("min-max"===Cb?"lower_whisker_":"min_")+pb},{op:"max",field:pb,as:("min-max"===Cb?"upper_whisker_":"max_")+pb}];pb="min-max"===Cb||"tukey"===Cb?[]:[{calculate:'datum["upper_box_'.concat(pb,'"] - datum["lower_box_').concat(pb,'"]'),as:"iqr_".concat(pb)},{calculate:'min(datum["upper_box_'.concat(pb,'"] + datum["iqr_').concat(pb,'"] * ').concat(M,', datum["max_').concat(pb,'"])'),as:"upper_whisker_".concat(pb)},
{calculate:'max(datum["lower_box_'.concat(pb,'"] - datum["iqr_').concat(pb,'"] * ').concat(M,', datum["min_').concat(pb,'"])'),as:"lower_whisker_".concat(pb)}];db=Object.assign({},db.encoding);Cb=(delete db[kg],db);db=Object.assign({},Cb);Cb=Cb.tooltip;db=(delete db.tooltip,db);if(Cb){var mc;if(n.isArray(Cb)){for(var hd of Cb)hd.aggregate?(Da||(Da=[]),Da.push(hd)):(mc||(mc=[]),mc.push(hd));Da&&(db.tooltip=Da)}else Cb.aggregate?db.tooltip=Cb:mc=Cb;n.isArray(mc)&&1===mc.length&&(mc=mc[0]);Da={customTooltipWithoutAggregatedField:mc,
filteredEncoding:db}}else Da={filteredEncoding:db};const {customTooltipWithoutAggregatedField:Vj,filteredEncoding:Wk}=Da,{bins:xk,timeUnits:Fg,aggregate:gm,groupby:hm,encoding:Em}=Ag(Wk,c);Da=[...xk,...Fg,{aggregate:[...gm,...Jb],groupby:hm},...pb];Da={bins:xk,timeUnits:Fg,transform:Da,groupby:hm,aggregate:gm,continuousAxisChannelDef:$f,continuousAxis:kg,encodingWithoutContinuousAxis:Em,ticksOrient:"vertical"===h?"horizontal":"vertical",boxOrient:h,customTooltipWithoutAggregatedField:Vj}}const {bins:md,
timeUnits:sd,transform:yd,continuousAxisChannelDef:Ad,continuousAxis:ue,groupby:Fe,aggregate:ke,encodingWithoutContinuousAxis:df,ticksOrient:Ye,boxOrient:hg,customTooltipWithoutAggregatedField:qe}=Da;mc=Object.assign({},df);Da=df.color;Jb=df.size;mc=(delete mc.color,delete mc.size,mc);hd=Eb(la,ue,Ad,mc,c.boxplot);h=Eb(la,ue,Ad,df,c.boxplot);Jb=Eb(la,ue,Ad,Object.assign({},mc,Jb?{size:Jb}:{}),c.boxplot);pb=ib([{fieldPrefix:"min-max"===t?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",
titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===t?"lower_whisker_":"min_",titlePrefix:"Min"}],Ad,df);db={type:"tick",color:"black",opacity:1,orient:Ye,invalid:null,aria:!1};Cb="min-max"===t?pb:ib([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Ad,df);hd=[...hd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",
endPositionPrefix:"lower_box",extraEncoding:Cb}),...hd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Cb}),...hd({partName:"ticks",mark:db,positionPrefix:"lower_whisker",extraEncoding:Cb}),...hd({partName:"ticks",mark:db,positionPrefix:"upper_whisker",extraEncoding:Cb})];sa=[..."tukey"!==t?hd:[],...h({partName:"box",mark:Object.assign({},{type:"bar"},sa?{size:sa}:{},{orient:hg,invalid:null,ariaRoleDescription:"box"}),
positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:pb}),...Jb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},n.isObject(c.boxplot.median)&&c.boxplot.median.color?{color:c.boxplot.median.color}:{},sa?{size:sa}:{},{orient:Ye,aria:!1}),positionPrefix:"mid_box",extraEncoding:pb})];if("min-max"===t){var Lf;return Object.assign({},J,{transform:(null!==(Lf=J.transform)&&void 0!==Lf?Lf:[]).concat(yd),layer:sa})}Lf='datum["lower_box_'.concat(Ad.field,'"]');t='datum["upper_box_'.concat(Ad.field,
'"]');h="(".concat(t," - ").concat(Lf,")");Lf="".concat(Lf," - ").concat(M," * ").concat(h);h="".concat(t," + ").concat(M," * ").concat(h);Jb='datum["'.concat(Ad.field,'"]');M={joinaggregate:pa(Ad.field),groupby:Fe};t={transform:[{filter:"(".concat(Lf," \x3c\x3d ").concat(Jb,") \x26\x26 (").concat(Jb," \x3c\x3d ").concat(h,")")},{aggregate:[{op:"min",field:Ad.field,as:"lower_whisker_".concat(Ad.field)},{op:"max",field:Ad.field,as:"upper_whisker_".concat(Ad.field)},{op:"min",field:"lower_box_".concat(Ad.field),
as:"lower_box_".concat(Ad.field)},{op:"max",field:"upper_box_".concat(Ad.field),as:"upper_box_".concat(Ad.field)},...ke],groupby:Fe}],layer:hd};mc=Object.assign({},mc);mc=(delete mc.tooltip,mc);const {scale:ig,axis:Bg}=Ad;hd=rb(Ad);pb=v(Bg,["title"]);c=zb(la,"outliers",c.boxplot,{transform:[{filter:"(".concat(Jb," \x3c ").concat(Lf,") || (").concat(Jb," \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},{[ue]:Object.assign({},{field:Ad.field,type:Ad.type},void 0!==hd?{title:hd}:{},void 0!==
ig?{scale:ig}:{},L(pb)?{}:{axis:pb})},mc,Da?{color:Da}:{},qe?{tooltip:qe}:{})})[0];la=[...md,...sd,M];c?c={transform:la,layer:[c,t]}:(c=t,c.transform.unshift(...la));return Object.assign({},J,{layer:[c,{transform:yd,layer:sa}]})}function pa(h){return[{op:"q1",field:h,as:"lower_box_".concat(h)},{op:"q3",field:h,as:"upper_box_".concat(h)}]}function Qa(h,J){({config:J}=J);h=Object.assign({},h,{encoding:xa(h.encoding,J)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:M,encodingWithoutContinuousAxis:la,
ticksOrient:sa,markDef:Da,outerSpec:db,tooltipEncoding:pb}=xb(h,"errorbar",J);delete la.size;h=Eb(Da,M,t,la,J.errorbar);J=Da.thickness;var Cb=Da.size;Cb=Object.assign({},{type:"tick",orient:sa,aria:!1},void 0!==J?{thickness:J}:{},void 0!==Cb?{size:Cb}:{});h=[...h({partName:"ticks",mark:Cb,positionPrefix:"lower",extraEncoding:pb}),...h({partName:"ticks",mark:Cb,positionPrefix:"upper",extraEncoding:pb}),...h({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==
J?{size:J}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:pb})];return Object.assign({},db,{transform:c},1<h.length?{layer:h}:Object.assign({},h[0]))}function Va(h,J){var {encoding:c}=h;if(!(!ce(c.x)&&!ce(c.y)||ce(c.x2)||ce(c.y2)||ce(c.xError)||ce(c.xError2)||ce(c.yError)||ce(c.yError2)))return{orient:bc(h,J),inputType:"raw"};var t=ce(c.x2)||ce(c.y2);var M=ce(c.xError)||ce(c.xError2)||ce(c.yError)||ce(c.yError2);h=c.x;const la=c.y;if(t){if(M)throw Error("".concat(J," cannot be both type aggregated-upper-lower and aggregated-error"));
t=c.x2;c=c.y2;if(ce(t)&&ce(c))throw Error("".concat(J," cannot have both x2 and y2"));if(ce(t)){if(ee(h))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(J));}if(ce(c)){if(ee(la))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(J));}}else{t=c.xError;M=c.yError;const sa=c.yError2;if(ce(c.xError2)&&!ce(t))throw Error("".concat(J," cannot have xError2 without xError"));
if(ce(sa)&&!ce(M))throw Error("".concat(J," cannot have yError2 without yError"));if(ce(t)&&ce(M))throw Error("".concat(J," cannot have both xError and yError with both are quantiative"));if(ce(t)){if(ee(h))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(ce(M)){if(ee(la))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");
}function xb(h,J,c){var t,M=Object.assign({},h),la=h.mark,sa=h.encoding,Da=h.params;M=(delete M.mark,delete M.encoding,delete M.params,delete M.projection,M);la=Qe(la)?la:{type:la};Da&&Db(La(J));const {orient:db,inputType:pb}=Va(h,J),{continuousAxisChannelDef:Cb,continuousAxisChannelDef2:Jb,continuousAxisChannelDefError:mc,continuousAxisChannelDefError2:hd,continuousAxis:md}=Mb(h,db,J);var sd=[];h=[];Da=Cb.field;var yd=!1;if("raw"===pb){var Ad=la.center?la.center:la.extent?"iqr"===la.extent?"median":
"mean":c.errorbar.center;var ue=la.extent?la.extent:"mean"===Ad?"stderr":"iqr";"median"===Ad!==("iqr"===ue)&&(sd=ue,sd="".concat(Ad," is not usually used with ").concat(sd," for ").concat(J,"."),Db(sd));"stderr"===ue||"stdev"===ue?(sd=[{op:ue,field:Da,as:"extent_".concat(Da)},{op:Ad,field:Da,as:"center_".concat(Da)}],h=[{calculate:'datum["center_'.concat(Da,'"] + datum["extent_').concat(Da,'"]'),as:"upper_".concat(Da)},{calculate:'datum["center_'.concat(Da,'"] - datum["extent_').concat(Da,'"]'),as:"lower_".concat(Da)}],
Ad=[{fieldPrefix:"center_",titlePrefix:R(Ad)},{fieldPrefix:"upper_",titlePrefix:Rb(Ad,ue,"+")},{fieldPrefix:"lower_",titlePrefix:Rb(Ad,ue,"-")}],yd=!0):("ci"===ue?(J="mean",Ad="ci0",ue="ci1"):(J="median",Ad="q1",ue="q3"),sd=[{op:Ad,field:Da,as:"lower_".concat(Da)},{op:ue,field:Da,as:"upper_".concat(Da)},{op:J,field:Da,as:"center_".concat(Da)}],Ad=[{fieldPrefix:"upper_",titlePrefix:Sb({field:Da,aggregate:ue,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Sb({field:Da,
aggregate:Ad,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Sb({field:Da,aggregate:J,type:"quantitative"},c,{allowDisabling:!1})}])}else{if(la.center||la.extent){J=la.center;var Fe=la.extent;J="".concat(Fe?"extent ":"").concat(Fe&&J?"and ":"").concat(J?"center ":"").concat(Fe&&J?"are ":"is ","not needed when data are aggregated.");Db(J)}"aggregated-upper-lower"===pb?(Ad=[],h=[{calculate:'datum["'.concat(Jb.field,'"]'),as:"upper_".concat(Da)},{calculate:'datum["'.concat(Da,
'"]'),as:"lower_".concat(Da)}]):"aggregated-error"===pb&&(Ad=[{fieldPrefix:"",titlePrefix:Da}],h=[{calculate:'datum["'.concat(Da,'"] + datum["').concat(mc.field,'"]'),as:"upper_".concat(Da)}],hd?h.push({calculate:'datum["'.concat(Da,'"] + datum["').concat(hd.field,'"]'),as:"lower_".concat(Da)}):h.push({calculate:'datum["'.concat(Da,'"] - datum["').concat(mc.field,'"]'),as:"lower_".concat(Da)}));for(ue of h)Ad.push({fieldPrefix:ue.as.substring(0,6),titlePrefix:ja(ja(ue.calculate,'datum["',""),'"]',
"")})}h={postAggregateCalculates:h,errorBarSpecificAggregate:sd,tooltipSummary:Ad,tooltipTitleWithFieldName:yd};const {errorBarSpecificAggregate:ke,postAggregateCalculates:df,tooltipSummary:Ye,tooltipTitleWithFieldName:hg}=h;sa=Object.assign({},sa);h="x"===md?"x2":"y2";Da="x"===md?"xError":"yError";yd="x"===md?"xError2":"yError2";sa=(delete sa[md],delete sa[h],delete sa[Da],delete sa[yd],sa);const {bins:qe,timeUnits:Lf,aggregate:ig,groupby:Bg,encoding:$f}=Ag(sa,c);c=[...ig,...ke];sa="raw"!==pb?[]:
Bg;h=ib(Ye,Cb,$f,hg);return{transform:[...null!==(t=M.transform)&&void 0!==t?t:[],...qe,...Lf,...0===c.length?[]:[{aggregate:c,groupby:sa}],...df],groupby:sa,continuousAxisChannelDef:Cb,continuousAxis:md,encodingWithoutContinuousAxis:$f,ticksOrient:"vertical"===db?"horizontal":"vertical",markDef:la,outerSpec:M,tooltipEncoding:h}}function Rb(h,J,c){return"".concat(R(h)," ").concat(c," ").concat(J)}function Yb(h,J){({config:J}=J);h=Object.assign({},h,{encoding:xa(h.encoding,J)});const {transform:c,
continuousAxisChannelDef:t,continuousAxis:M,encodingWithoutContinuousAxis:la,markDef:sa,outerSpec:Da,tooltipEncoding:db}=xb(h,"errorband",J);J=Eb(sa,M,t,la,J.errorband);h=void 0!==h.encoding.x&&void 0!==h.encoding.y;let pb={type:h?"area":"rect"},Cb={type:h?"line":"rule"};const Jb=Object.assign({},sa.interpolate?{interpolate:sa.interpolate}:{},sa.tension&&sa.interpolate?{tension:sa.tension}:{});h?(pb=Object.assign({},pb,Jb,{ariaRoleDescription:"errorband"}),Cb=Object.assign({},Cb,Jb,{aria:!1})):sa.interpolate?
Db(Dc("interpolate")):sa.tension&&Db(Dc("tension"));return Object.assign({},Da,{transform:c,layer:[...J({partName:"band",mark:pb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:db}),...J({partName:"borders",mark:Cb,positionPrefix:"lower",extraEncoding:db}),...J({partName:"borders",mark:Cb,positionPrefix:"upper",extraEncoding:db})]})}function oc(h,J,c){J=new Xc(h,J);Ee[h]={normalizer:J,parts:c}}function Ec(h){return!!h&&("legend"===h||!!h.legend)}function dd(h){return Ec(h)&&n.isObject(h)}
function Yc(h){const J=[];for(const M of h||[])if(!M.select){var c=M,t=Object.assign({},c);h=c.expr;c=c.bind;t=(delete t.expr,delete t.bind,t);c&&h?(h=Object.assign({},t,{bind:c,init:h}),J.push(h)):(h=Object.assign({},t,h?{update:h}:{},c?{bind:c}:{}),J.push(h))}return J}function Kd(h,J){const c={};for(const t of Fm)h&&void 0!==h[t]&&(c[t]=bd(h[t]));J&&(c.params=h.params);return c}function Ud(h){return n.isObject(h)&&void 0!==h.step}function pd(h){return h.view||h.width||h.height}function Bd(h,J,c){const t=
{},{spacing:M,columns:la}=c[J];void 0!==M&&(t.spacing=M);void 0!==la&&("facet"in h&&!Nc(h.facet)||"concat"in h)&&(t.columns=la);"vconcat"in h&&(t.columns=1);for(const db of Gm)if(void 0!==h[db])if("spacing"===db){var sa,Da;J=h[db];t[db]=n.isNumber(J)?J:{row:null!==(sa=J.row)&&void 0!==sa?sa:M,column:null!==(Da=J.column)&&void 0!==Da?Da:M}}else t[db]=h[db];return t}function jd(h,J){var c;return null!==(c=h[J])&&void 0!==c?c:h["width"===J?"continuousWidth":"continuousHeight"]}function cf(h,J){h=Wa(h,
J);return Ud(h)?h.step:20}function Wa(h,J){var c;J=null!==(c=h[J])&&void 0!==c?c:h["width"===J?"discreteWidth":"discreteHeight"];return q(J,{step:h.step})}function ob(h){h=void 0===h?{}:h;return{signals:[{name:"color",value:n.isObject(h)?Object.assign({},im,h):im}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Ab(h){return{signals:[{name:"fontSize",value:n.isObject(h)?
Object.assign({},jm,h):jm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Nb(h){var J=Md(h||{});const c={};for(const t of J)J=h[t],c[t]=Of(J)?kc(J):bd(J);return c}function $b(h){var J=h=void 0===h?{}:h,c=Object.assign({},J);h=J.color;var t=J.font;J=J.fontSize;
c=(delete c.color,delete c.font,delete c.fontSize,c);h=n.mergeConfig({},Hm,t?{text:{font:t},style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}:{},h?ob(h):{},J?Ab(J):{},c||{});t=v(h,Im);for(var M of["background","lineBreak","padding"])h[M]&&(t[M]=bd(h[M]));for(var la of Ob)h[la]&&(t[la]=oa(h[la]));for(var sa of Mc)h[sa]&&(t[sa]=Nb(h[sa]));for(const db of km)h[db]&&(t[db]=oa(h[db]));h.legend&&(t.legend=oa(h.legend));h.scale&&(t.scale=oa(h.scale));
if(h.style){M=h.style;la=Md(M);sa={};for(Da of la)sa[Da]=Nb(M[Da]);var Da=sa;t.style=Da}h.title&&(t.title=oa(h.title));h.view&&(t.view=oa(h.view));return t}function Lc(h){h=pf(h);for(var J of Jm)delete h[J];if(h.axis)for(var c in h.axis)Of(h.axis[c])&&delete h.axis[c];if(h.legend)for(var t of sf)delete h.legend[t];if(h.mark){for(var M of yb)delete h.mark[M];h.mark.tooltip&&n.isObject(h.mark.tooltip)&&delete h.mark.tooltip}h.params&&(h.signals=(h.signals||[]).concat(Yc(h.params)),delete h.params);
for(var la of Km){for(const db of yb)delete h[la][db];if(J=Lm[la])for(const db of J)delete h[la][db];c=J=void 0;t=h;M=la;var sa=void 0,Da=t[M];"view"===M&&(sa="cell");Da=Object.assign({},Da,t.style[null!==(c=sa)&&void 0!==c?c:M]);L(Da)||(t.style[null!==(J=sa)&&void 0!==J?J:M]=Da);delete t[M]}for(const db of Md(Ee))delete h[db];{la=h;const {titleMarkConfig:db,subtitleMarkConfig:pb,subtitle:Cb}=Ia(la.title);L(db)||(la.style["group-title"]=Object.assign({},la.style["group-title"],db));L(pb)||(la.style["group-subtitle"]=
Object.assign({},la.style["group-subtitle"],pb));L(Cb)?delete la.title:la.title=Cb}for(const db in h)n.isObject(h[db])&&L(h[db])&&delete h[db];return L(h)?void 0:h}function w(h,J){const c="x"===J?"y":"radius";var t=h[J];h=h[c];if(kd(t)&&kd(h))if("quantitative"===lf(t)&&"quantitative"===lf(h)){if(t.stack)return J;if(h.stack)return c;const sa=kd(t)&&!!t.aggregate,Da=kd(h)&&!!h.aggregate;if(sa!==Da)return sa?J:c;var M,la;t=null===(M=t.scale)||void 0===M?void 0:M.type;M=null===(la=h.scale)||void 0===
la?void 0:la.type;if(t&&"linear"!==t)return c;if(M&&"linear"!==M)return J}else{if("quantitative"===lf(t))return J;if("quantitative"===lf(h))return c}else{if("quantitative"===lf(t))return J;if("quantitative"===lf(h))return c}}function S(h){switch(h){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function ma(h,J,c){c=void 0===c?{}:c;var t,M;h=Qe(h)?h.type:h;if(!Mm.has(h))return null;const la=w(J,"x")||w(J,"theta");if(!la)return null;const sa=J[la];var Da=
kd(sa)?Ka(sa,{}):void 0;let db=S(la),pb=J[db],Cb=kd(pb)?Ka(pb,{}):void 0;Cb===Da&&(db=pb=Cb=void 0);Da=Nl.reduce((mc,hd)=>{if("tooltip"!==hd&&uf(J,hd)){var md=J[hd];for(const sd of n.array(md)){md=Sc(sd);if(md.aggregate)continue;const yd=Ka(md,{});yd&&yd===Cb||mc.push({channel:hd,fieldDef:md})}}return mc},[]);let Jb;void 0!==sa.stack?Jb=n.isBoolean(sa.stack)?sa.stack?"zero":null:sa.stack:Nm.has(h)&&(Jb="zero");if(!(Jb&&Jb in Om)||Bf(J)&&0===Da.length)return null;if(null!==sa&&void 0!==sa&&null!==
(t=sa.scale)&&void 0!==t&&t.type&&(null===sa||void 0===sa?void 0:null===(M=sa.scale)||void 0===M?void 0:M.type)!==Dg.LINEAR){if(c.disallowNonLinearStack)return null;Db("Cannot stack non-linear scale (".concat(sa.scale.type,")."))}if(ce(J[Xa(la)]))return void 0!==sa.stack&&Db(jc(la)),null;kd(sa)&&sa.aggregate&&!Rg.includes(sa.aggregate)&&Db('Stacking is applied even though the aggregate function is non-summative ("'.concat(sa.aggregate,'").'));return{groupbyChannel:pb?db:void 0,groupbyField:Cb,fieldChannel:la,
impute:null===sa.impute?!1:Qd(h),stackBy:Da,offset:Jb}}function Na(h){h=Object.assign({},h);h=(delete h.point,delete h.line,h);return 1<Md(h).length?h:h.type}function hb(h){for(const J of["line","area","rule","trail"])h[J]&&(h=Object.assign({},h,{[J]:v(h[J],["point","line"])}));return h}function lb(h,J,c){J=void 0===J?{}:J;if("transparent"===h.point)return{opacity:0};if(h.point)return n.isObject(h.point)?h.point:{};if(void 0!==h.point)return null;if(J.point||c.shape)return n.isObject(J.point)?J.point:
{}}function sb(h,J){J=void 0===J?{}:J;if(h.line)return!0===h.line?{}:h.line;if(void 0!==h.line)return null;if(J.line)return!0===J.line?{}:J.line}function Qb(h,J){return J?zd(h,J):h}function cc(h,J,c){const t=J[h];if(t&&!n.isString(t)&&"repeat"in t){if(t.repeat in c)return Object.assign({},J,{[h]:c[t.repeat]});Db('Unknown repeated value "'.concat(t.repeat,'".'))}else return J}function Vb(h,J){h=cc("field",h,J);if(void 0!==h){if(null===h)return null;"sort"in h&&Wb(h.sort)&&(J=cc("field",h.sort,J),h=
Object.assign({},h,J?{sort:J}:{}));return h}}function Oc(h,J){if(kd(h))return Vb(h,J);J=cc("datum",h,J);J===h||J.type||(J.type="nominal");return J}function ed(h,J){if(ce(h)){if(J=Oc(h,J))return J;if(Od(h))return{condition:h.condition}}else{if(Rd(h)){if(J=Oc(h.condition,J))return Object.assign({},h,{condition:J});h=Object.assign({},h);return delete h.condition,h}return h}}function zd(h,J){const c={};for(const M in h)if(n.hasOwnProperty(h,M)){var t=h[M];n.isArray(t)?c[M]=t.map(la=>ed(la,J)).filter(la=>
la):(t=ed(t,J),void 0!==t&&(c[M]=t))}return c}function qd(h){var {parentEncoding:J,encoding:c={},layer:t}=h;h={};if(J){var M=new Set([...Md(J),...Md(c)]);for(const la of M){M=c[la];const sa=J[la];if(ce(M))M=Object.assign({},sa,M),h[la]=M;else if(Rd(M))h[la]=Object.assign({},M,{condition:Object.assign({},sa,M.condition)});else if(M||null===M)h[la]=M;else if(t||zf(sa)||eb(sa)||ce(sa)||n.isArray(sa))h[la]=sa}}else h=c;return!h||L(h)?void 0:h}function ad(h){const {parentProjection:J,projection:c}=h;if(J&&
c){{const {parentProjection:t,projection:M}={parentProjection:J,projection:c};h="Layer's shared projection ".concat(ng(t)," is overridden by a child projection ").concat(ng(M),".")}Db(h)}return null!==c&&void 0!==c?c:J}function Jc(h){return h.map(J=>"filter"in J?{filter:x(J.filter,Ge)}:J)}function ud(h,J){var c=Object.assign({},h);const t=h.transform;c=(delete c.transform,c);return t?(h=t.map(M=>{if("filter"in M)return{filter:ve(M,J)};if("bin"in M&&n.isObject(M.bin))return Object.assign({},M,{bin:Sd(M.bin)});
if("lookup"in M){var la=M.from,sa=Object.assign({},la);la=la.selection;sa=(delete sa.selection,sa);return la?Object.assign({},M,{from:Object.assign({},{param:la},sa)}):M}return M}),Object.assign({},c,{transform:h})):h}function de(h,J){var c,t;h=pf(h);kd(h)&&n.isObject(h.bin)&&(h.bin=Sd(h.bin));tf(h)&&null!==(c=h.scale)&&void 0!==c&&null!==(t=c.domain)&&void 0!==t&&t.selection&&(t=h.scale.domain,c=Object.assign({},t),t=t.selection,c=(delete c.selection,c),h.scale.domain=Object.assign({},c,t?{param:t}:
{}));Od(h)&&(E.isArray(h.condition)?h.condition=h.condition.map(M=>{var la=Object.assign({},M);const sa=M.param;la=(delete la.selection,delete la.param,delete la.test,la);return sa?M:Object.assign({},la,{test:ve(M,J)})}):(t=de(h.condition,J),c=Object.assign({},t),t=t.param,c=(delete c.selection,delete c.param,delete c.test,c),h.condition=t?h.condition:Object.assign({},c,{test:ve(h.condition,J)})));return h}function Sd(h){var J=h.extent;if(null!==J&&void 0!==J&&J.selection){var c=Object.assign({},
J);J=J.selection;c=(delete c.selection,c);return Object.assign({},h,{extent:Object.assign({},c,{param:J})})}return h}function ve(h,J){const c=t=>x(t,M=>{var la,sa,Da;const db=null!==(la=J.emptySelections[M])&&void 0!==la?la:!0;la={param:M,empty:db};null!==(Da=(sa=J.selectionPredicates)[M])&&void 0!==Da?Da:sa[M]=[];J.selectionPredicates[M].push(la);return la});return h.selection?c(h.selection):x(h.test||h.filter,t=>t.selection?c(t.selection):t)}function ne(h,J){var c;return h.name?Object.assign({},
J,{path:(null!==(c=J.path)&&void 0!==c?c:[]).concat(h.name)}):J}function Tf(h,J){void 0===J&&(J=$b(h.config));var c=J;c=void 0===c?{}:c;c={config:c};c=Pm.map(Qm.map(Rm.map(h,c),c),c);const {width:t,height:M}=h;{let {width:la,height:sa}={width:t,height:M,autosize:h.autosize};h=Te(c)||"layer"in c;const Da={};h?"container"==la&&"container"==sa?(Da.type="fit",Da.contains="padding"):"container"==la?(Da.type="fit-x",Da.contains="padding"):"container"==sa&&(Da.type="fit-y",Da.contains="padding"):("container"==
la&&(Db(fc("width")),la=void 0),"container"==sa&&(Db(fc("height")),sa=void 0));J=Object.assign({},{type:"pad"},Da,J?se(J.autosize):{},se(c.autosize));"fit"!==J.type||h||(Db('Autosize "fit" only works for single views and layered views.'),J.type="pad");"container"==la&&"fit"!=J.type&&"fit-x"!=J.type&&Db(Hb("width"));"container"==sa&&"fit"!=J.type&&"fit-y"!=J.type&&Db(Hb("height"));h=Bh(J,{type:"pad"})?void 0:J}return Object.assign({},c,h?{autosize:h}:{})}function se(h){return n.isString(h)?{type:h}:
null!==h&&void 0!==h?h:{}}function te(h){return{explicit:!0,value:h}}function Be(h){return{explicit:!1,value:h}}function wd(h){return(J,c,t,M)=>{const la=h(J.value,c.value);return 0<la?J:0>la?c:We(J,c,t,M)}}function We(h,J,c,t){if(h.explicit&&J.explicit){var M=h.value;J=J.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(ng(M)," and ").concat(ng(J),"). Using ").concat(ng(M),".");Db(c)}return h}function Kf(h,J,c,t,M){M=void 0===M?We:M;return void 0===h||void 0===
h.value?J:h.explicit&&!J.explicit?h:J.explicit&&!h.explicit?J:Bh(h.value,J.value)?h:M(h,J,c,t)}function jf(h){return"name"in h&&!("url"in h)&&!("values"in h)&&!Cf(h)}function Cf(h){return h&&("sequence"in h||"sphere"in h||"graticule"in h)}function xf(h,J,c){lm=J||"view";mm=c||Sm;return Uf(h.trim()).map(Zf)}function Af(h,J,c,t,M){const la=h.length;let sa=0,Da;for(;J<la;++J)if(Da=h[J],sa||Da!==c)M&&0<=M.indexOf(Da)?--sa:t&&0<=t.indexOf(Da)&&++sa;else break;return J}function Uf(h){const J=[],c=h.length;
let t=0,M=0;for(;M<c;)M=Af(h,M,",","[{","]}"),J.push(h.substring(t,M).trim()),t=++M;if(0===J.length)throw"Empty event selector: "+h;return J}function Zf(h){if("["===h[0]){var J=h;var c=J.length;h=Af(J,1,"]","[","]");if(h===c)throw"Empty between selector: "+J;c=Uf(J.substring(1,h));if(2!==c.length)throw"Between selector must have two elements: "+J;J=J.slice(h+1).trim();if("\x3e"!==J[0])throw"Expected '\x3e' after between selector: "+J;c=c.map(Zf);J=Zf(J.slice(1).trim());J.between?J={between:c,stream:J}:
J.between=c}else{{c={source:lm};const t=[];let M=[0,0],la=0,sa=0,Da=h.length,db=0,pb;if("}"===h[Da-1]){db=h.lastIndexOf("{");if(0<=db){try{M=Ug(h.substring(db+1,Da-1))}catch(Cb){throw"Invalid throttle specification: "+h;}h=h.slice(0,db).trim();Da=h.length}else throw"Unmatched right brace: "+h;db=0}if(!Da)throw h;"@"===h[0]&&(la=++db);pb=Af(h,db,":");pb<Da&&(t.push(h.substring(sa,pb).trim()),sa=db=++pb);db=Af(h,db,"[");if(db===Da)t.push(h.substring(sa,Da).trim());else if(t.push(h.substring(sa,db).trim()),
J=[],sa=++db,sa===Da)throw"Unmatched left bracket: "+h;for(;db<Da;){db=Af(h,db,"]");if(db===Da)throw"Unmatched left bracket: "+h;J.push(h.substring(sa,db).trim());if(db<Da-1&&"["!==h[++db])throw"Expected left bracket: "+h;sa=++db}if(!(Da=t.length)||Tm.test(t[Da-1]))throw"Invalid event selector: "+h;1<Da?(c.type=t[1],la?c.markname=t[0].slice(1):mm[t[0]]?c.marktype=t[0]:c.source=t[0]):c.type=t[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=J&&(c.filter=J);M[0]&&(c.throttle=
M[0]);M[1]&&(c.debounce=M[1]);J=c}}return J}function Ug(h){const J=h.split(",");if(!h.length||2<J.length)throw h;return J.map(c=>{c=+c;if(c!==c)throw h;return c})}function Eh(h,J,c){J=void 0===J?!0:J;c=void 0===c?n.identity:c;return n.isArray(h)?(h=h.map(t=>Eh(t,J,c)),J?"[".concat(h.join(", "),"]"):h):Hc(h)?J?c($c(h)):c(nd(h)):J?c(ng(h)):h}function Rh(h,J){h.component.selection&&Md(h.component.selection).length&&(h=n.stringValue(h.getName("cell")),J.unshift({name:"facet",value:{},on:[{events:xf("mousemove",
"scope"),update:"isTuple(facet) ? facet : group(".concat(h,").datum")}]}));return nh(J)}function mk(h,J){var c=!1;for(const M of wg(null!==(t=h.component.selection)&&void 0!==t?t:{})){var t;const la=M.name;c=n.stringValue(la+"_store");if(0===J.filter(sa=>sa.name===la).length){t="global"===M.resolve?"union":M.resolve;const sa="point"===M.type?", true, true)":")";J.push({name:M.name,update:"".concat("vlSelectionResolve","(").concat(c,", ").concat(n.stringValue(t)).concat(sa)})}c=!0;for(const sa of Al)sa.defined(M)&&
sa.topLevelSignals&&(J=sa.topLevelSignals(h,M,J))}c&&0===J.filter(M=>"unit"===M.name).length&&J.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return nh(J)}function Kk(h,J){J=[...J];for(const t of wg(null!==(c=h.component.selection)&&void 0!==c?c:{})){var c;c={name:t.name+"_store"};if(t.init){const M=t.project.items.map(la=>{la=Object.assign({},la);return delete la.signals,la});c.values=t.init.map(la=>({unit:$g(h,{escape:!1}),fields:M,values:Eh(la,
!1)}))}J.filter(M=>M.name===t.name+"_store").length||J.push(c)}return J}function pk(h,J){for(const t of wg(null!==(c=h.component.selection)&&void 0!==c?c:{})){var c;for(const M of Al)M.defined(t)&&M.marks&&(J=M.marks(h,t,J))}return J}function qk(h,J){for(const c of h.children)pg(c)&&(J=pk(c,J));return J}function nh(h){return h.map(J=>{J.on&&!J.on.length&&delete J.on;return J})}function Qi(h,J){h=n.stringValue(h.scaleName(J));return"domain(".concat(h,")")}function Kj(h){var J;return h.parent&&Zh(h.parent)&&
(null!==(J=!h.parent.parent)&&void 0!==J?J:Kj(h.parent.parent))}function Sk(h,J,c,t){const M=c.channel,la=c.signals.visual;c=c.signals.data;const sa=Wj.defined(J),Da=n.stringValue(h.scaleName(M));var db=h.getScaleComponent(M);db=db?db.get("type"):void 0;const pb=mc=>"scale(".concat(Da,", ").concat(mc,")"),Cb=h.getSizeSignalRef("x"===M?"width":"height").signal,Jb="".concat(M,"(unit)");h=kh(J,(mc,hd)=>[...mc,{events:hd.between[0],update:"[".concat(Jb,", ").concat(Jb,"]")},{events:hd,update:"[".concat(la,
"[0], clamp(").concat(Jb,", 0, ").concat(Cb,")]")}]);h.push({events:{signal:J.name+"_scale_trigger"},update:db in Jg?"[".concat(pb("".concat(c,"[0]")),", ").concat(pb("".concat(c,"[1]")),"]"):"[0, 0]"});return sa?[{name:c,on:[]}]:[Object.assign({},{name:la},t?{init:Eh(t,!0,pb)}:{value:[]},{on:h}),Object.assign({},{name:c},t?{init:Eh(t)}:{},{on:[{events:{signal:la},update:"".concat(la,"[0] \x3d\x3d\x3d ").concat(la,"[1] ? null : invert(").concat(Da,", ").concat(la,")")}]})]}function kh(h,J){return h.events.reduce((c,
t)=>t.between?J(c,t):(Db("".concat(t," is not an ordered event stream for interval selections.")),c),[])}function $h(h,J,c,t){var M=Od(J)&&J.condition;J=t(J);return M?(M=n.array(M).map(la=>{const sa=t(la);if(la.param){const {param:Da,empty:db}=la;la=zj(h,{param:Da,empty:db});return Object.assign({},{test:la},sa)}la=ih(h,la.test);return Object.assign({},{test:la},sa)}),{[c]:[...M,...void 0!==J?[J]:[]]}):void 0!==J?{[c]:J}:{}}function rk(h,J){J=void 0===J?"text":J;return $h(h,h.encoding[J],J,c=>th(c,
h.config))}function th(h,J,c){c=void 0===c?"datum":c;if(h){if(zf(h))return Fc(h.value);if(ce(h)){const {format:t,formatType:M}=lc(h);return Qf({fieldOrDatumDef:h,format:t,formatType:M,expr:c,config:J})}}}function $i(h,J){J=void 0===J?{}:J;const {encoding:c,markDef:t,config:M,stack:la}=h,sa=c.tooltip;if(n.isArray(sa))return{tooltip:oj({tooltip:sa},la,M,J)};{const Da=J.reactiveGeom?"datum.datum":"datum";return $h(h,sa,"tooltip",db=>{const pb=th(db,M,Da);if(pb)return pb;if(null!==db){db=Cc("tooltip",
t,M);!0===db&&(db={content:"encoding"});if(n.isString(db))return{value:db};if(n.isObject(db))return eb(db)?db:"encoding"===db.content?oj(c,la,M,J):{signal:Da}}})}}function Ii(h,J,c,t){function M(db,pb){var Cb,Jb=ta(pb);db=Xe(db)?db:Object.assign({},db,{type:h[Jb].type});Jb=db.title||oe(db,c);Jb=n.array(Jb).join(", ");if(pb in Zg){const md="x"===pb?"x2":"y2";var mc=Sc(h[md]);if(cb(db.bin)&&mc){var hd=Ka(db,{expr:sa});mc=Ka(mc,{expr:sa});const {format:sd,formatType:yd}=lc(db);hd=ub(hd,mc,sd,yd,c);la[md]=
!0}else if(J&&J.fieldChannel===pb&&"normalize"===J.offset){const {format:sd,formatType:yd}=lc(db);hd=Qf({fieldOrDatumDef:db,format:sd,formatType:yd,expr:sa,config:c,normalizeStack:!0}).signal}}null!==(Cb=hd)&&void 0!==Cb?Cb:hd=th(db,c,sa).signal;Da.push({channel:pb,key:Jb,value:hd})}({reactiveGeom:t}=void 0===t?{}:t);const la={},sa=t?"datum.datum":"datum",Da=[];Oa(h,(db,pb)=>{kd(db)?M(db,pb):od(db)&&M(db.condition,pb)});t={};for(const db of Da){const {channel:pb,key:Cb,value:Jb}=db;la[pb]||t[Cb]||
(t[Cb]=Jb)}return t}function oj(h,J,c,t){({reactiveGeom:t}=void 0===t?{}:t);h=Ii(h,J,c,{reactiveGeom:t});h=Qh(h).map(M=>{var [la,sa]=M;return'"'.concat(la,'": ').concat(sa)});return 0<h.length?{signal:"{".concat(h.join(", "),"}")}:void 0}function gk(h){const {markDef:J,config:c}=h,t=Cc("aria",J,c);return!1===t?{}:Object.assign({},t?{aria:t}:{},hk(h),il(h))}function hk(h){const {mark:J,markDef:c,config:t}=h;if(!1===t.aria)return{};h=Cc("ariaRoleDescription",c,t);return null!=h?{ariaRoleDescription:{value:h}}:
J in fl?{}:{ariaRoleDescription:{value:J}}}function il(h){const {encoding:J,markDef:c,config:t,stack:M}=h;var la=J.description;if(la)return $h(h,la,"description",sa=>th(sa,h.config));la=Cc("description",c,t);if(null!=la)return{description:Fc(la)};if(!1===t.aria)return{};la=Ii(J,M,t);if(!L(la))return{description:{signal:Qh(la).map((sa,Da)=>{var [db,pb]=sa;return'"'.concat(0<Da?"; ":"").concat(db,': " + (').concat(pb,")")}).join(" + ")}}}function Kg(h,J,c){c=void 0===c?{}:c;const {markDef:t,encoding:M,
config:la}=J,{vgChannel:sa}=c;let {defaultRef:Da,defaultValue:db}=c;if(void 0===Da){var pb;null!==(pb=db)&&void 0!==pb?pb:db=Cc(h,t,la,{vgChannel:sa,ignoreVgConfig:!0});void 0!==db&&(Da=Fc(db))}return $h(J,M[h],null!==sa&&void 0!==sa?sa:h,Cb=>re({channel:h,channelDef:Cb,markDef:t,config:la,scaleName:J.scaleName(h),scale:J.getScaleComponent(h),stack:null,defaultRef:Da}))}function tj(h,J){J=void 0===J?{filled:void 0}:J;var c,t,M,la;const {markDef:sa,encoding:Da,config:db}=h,{type:pb}=sa;J=null!==(c=
J.filled)&&void 0!==c?c:Cc("filled",sa,db);c=d(["bar","point","circle","square","geoshape"],pb)?"transparent":void 0;c=null!==(t=null!==(M=Cc(!0===J?"color":void 0,sa,db,{vgChannel:"fill"}))&&void 0!==M?M:db.mark[!0===J&&"color"])&&void 0!==t?t:c;t=null!==(la=Cc(!1===J?"color":void 0,sa,db,{vgChannel:"stroke"}))&&void 0!==la?la:db.mark[!1===J&&"color"];la=J?"fill":"stroke";M=Object.assign({},c?{fill:Fc(c)}:{},t?{stroke:Fc(t)}:{});sa.color&&(J?sa.fill:sa.stroke)&&Db(Zb("property",{fill:"fill"in sa,
stroke:"stroke"in sa}));return Object.assign({},M,Kg("color",h,{vgChannel:la,defaultValue:J?c:t}),Kg("fill",h,{defaultValue:Da.fill?c:void 0}),Kg("stroke",h,{defaultValue:Da.stroke?t:void 0}))}function sk(h){const {encoding:J,mark:c}=h,t=J.order;return!Qd(c)&&zf(t)?$h(h,t,"zindex",M=>Fc(M.value)):{}}function ci(h,J){h=va(h);if(J=J[h])return J}function Lg(h,J,c){var {defaultPos:t,vgChannel:M}=c;const {encoding:la,markDef:sa,config:Da,stack:db}=J;c=la[h];const pb=la[Xa(h)],Cb=J.scaleName(h),Jb=J.getScaleComponent(h),
mc=ci(h,sa),hd=Pj({model:J,defaultPos:t,channel:h,scaleName:Cb,scale:Jb});if(!c&&h in Zg&&(la.latitude||la.longitude))J={field:J.getName(h)};else a:{J={channel:h,channelDef:c,channel2Def:pb,markDef:sa,config:Da,scaleName:Cb,scale:Jb,stack:db,offset:mc,defaultRef:hd};const {channel:md,channelDef:sd,scaleName:yd,stack:Ad,offset:ue,markDef:Fe}=J;if(ce(sd)&&Ad&&md===Ad.fieldChannel){if(kd(sd)&&(J=sd.bandPosition,void 0!==J||"text"!==Fe.type||"radius"!==md&&"theta"!==md||(J=.5),void 0!==J)){J=De({scaleName:yd,
fieldOrDatumDef:sd,startSuffix:"start",bandPosition:J,offset:ue});break a}J=gc(sd,yd,{suffix:"end"},{offset:ue})}else J=Ic(J)}return J?{[M||h]:J}:void 0}function Pj(h){var {model:J,defaultPos:c,channel:t,scaleName:M,scale:la}=h;const {markDef:sa,config:Da}=J;return()=>{var db=ta(t),pb=Ta(t);pb=Cc(t,sa,Da,{vgChannel:pb});if(void 0!==pb)return gf(t,pb);switch(c){case "zeroOrMin":case "zeroOrMax":if(M&&(pb=la.get("type"),!d([Dg.LOG,Dg.TIME,Dg.UTC],pb)&&la.domainDefinitelyIncludesZero()))return{scale:M,
value:0};if("zeroOrMin"===c)return"y"===db?{field:{group:"height"}}:{value:0};switch(db){case "radius":return{signal:"min(".concat(J.width.signal,",").concat(J.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return db=J[Fa(t)],Object.assign({},db,{mult:.5})}}}function Qj(h,J,c,t){t=void 0===t?"middle":t;if("radius"===h||"theta"===h)return Ta(h);var M="x"===h?"align":"baseline";J=Cc(M,J,c);eb(J)?(Db("The ".concat(M,
" for range marks cannot be an expression")),M=void 0):M=J;return"x"===h?Um[M||("top"===t?"left":"center")]:Vm[M||t]}function ui(h,J,c){var {defaultPos:t,defaultPos2:M,range:la}=c;return la?mg(h,J,{defaultPos:t,defaultPos2:M}):Lg(h,J,{defaultPos:t})}function mg(h,J,c){var {defaultPos:t,defaultPos2:M}=c;const {markDef:la,config:sa}=J;var Da=Xa(h);c=Fa(h);{const {encoding:ke,mark:df,markDef:Ye,stack:hg,config:qe}=J;var db=ta(Da);const Lf=Fa(Da),ig=Ta(Da);var pb=ke[db];const Bg=J.scaleName(db),$f=J.getScaleComponent(db);
db=Da in ke||Da in Ye?ci(Da,J.markDef):ci(db,J.markDef);if(pb||"x2"!==Da&&"y2"!==Da||!ke.latitude&&!ke.longitude){var {channel:Cb,channelDef:Jb,channel2Def:mc,markDef:hd,config:md,scaleName:sd,scale:yd,stack:Ad,offset:ue,defaultRef:Fe}={channel:Da,channelDef:pb,channel2Def:ke[Da],markDef:Ye,config:qe,scaleName:Bg,scale:$f,stack:hg,offset:db,defaultRef:void 0};pb=ce(Jb)&&Ad&&Cb.charAt(0)===Ad.fieldChannel.charAt(0)?gc(Jb,sd,{suffix:"start"},{offset:ue}):Ic({channel:Cb,channelDef:mc,scaleName:sd,scale:yd,
stack:Ad,markDef:hd,config:md,offset:ue,defaultRef:Fe});Da=void 0!==pb?{[ig]:pb}:Ti(Da,Ye)||Ti(Da,{[Da]:Uc(Da,Ye,qe.style),[Lf]:Uc(Lf,Ye,qe.style)})||Ti(Da,qe[df])||Ti(Da,qe.mark)||{[ig]:Pj({model:J,defaultPos:M,channel:Da,scaleName:Bg,scale:$f})()}}else Da={[ig]:{field:J.getName(Da)}}}c=Da[c]?Qj(h,la,sa):Ta(h);return Object.assign({},Lg(h,J,{defaultPos:t,vgChannel:c}),Da)}function Ti(h,J){const c=Fa(h),t=Ta(h);if(void 0!==J[t])return{[t]:gf(h,J[t])};if(void 0!==J[h])return{[t]:gf(h,J[h])};if(J[c])if(J=
J[c],Yf(J))Db("Position range does not support relative band size for ".concat(c,"."));else return{[c]:gf(h,J)}}function ph(h,J,c){var t,M;const {config:la,encoding:sa,markDef:Da}=h;var db=Xa(J),pb=Fa(J),Cb=sa[J];db=sa[db];var Jb=h.getScaleComponent(J);const mc=Jb?Jb.get("type"):void 0;var hd=h.scaleName(J);const md=Da.orient;pb=null!==(t=null!==(M=sa[pb])&&void 0!==M?M:sa.size)&&void 0!==t?t:Cc("size",Da,la,{vgChannel:pb});c="bar"===c&&("x"===J?"vertical"===md:"horizontal"===md);if(!kd(Cb)||!(Pa(Cb.bin)||
cb(Cb.bin)||Cb.timeUnit&&!db)||pb&&!Yf(pb)||mc in Pg){if((ce(Cb)&&mc in Pg||c)&&!db){{const {markDef:$f,encoding:kg,config:Vj,stack:Wk}=h;Jb=$f.orient;hd=h.scaleName(J);var sd=h.getScaleComponent(J),yd=Fa(J);db=Xa(J);Jb="horizontal"===Jb&&"y"===J||"vertical"===Jb&&"x"===J;var Ad;if(kg.size||$f.size)Jb?Ad=Kg("size",h,{vgChannel:yd,defaultRef:Fc($f.size)}):Db('Cannot apply size to non-oriented mark "'.concat($f.type,'".'));t=Ld({channel:J,fieldDef:Cb,markDef:$f,config:Vj,scaleType:null===sd||void 0===
sd?void 0:sd.get("type"),useVlSizeChannel:Jb});Ad=Ad||{[yd]:Ui(yd,hd,sd,Vj,t)};Jb="band"===(null===sd||void 0===sd?void 0:sd.get("type"))&&"band"in Ad[yd]?"top":"middle";Jb=Qj(J,$f,Vj,Jb);M="xc"===Jb||"yc"===Jb;c=ci(J,$f);J=Ic({channel:J,channelDef:Cb,markDef:$f,config:Vj,scaleName:hd,scale:sd,stack:Wk,offset:c,defaultRef:Pj({model:h,defaultPos:"mid",channel:J,scaleName:hd,scale:sd}),bandPosition:M?.5:eb(t)?{signal:"(1-".concat(t,")/2")}:Yf(t)?(1-t.band)/2:0});yd?J=Object.assign({},{[Jb]:J},Ad):(Cb=
Ta(db),Ad=Ad[yd],Ad=c?Object.assign({},Ad,{offset:c}):Ad,J={[Jb]:J,[Cb]:n.isArray(J)?[J[0],Object.assign({},J[1],{offset:Ad})]:Object.assign({},J,{offset:Ad})})}return J}return mg(J,h,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}Ad=Ld({channel:J,fieldDef:Cb,markDef:Da,config:la,scaleType:mc});h=null===(sd=h.component.axes[J])||void 0===sd?void 0:sd[0];h=null!==(yd=null===h||void 0===h?void 0:h.get("translate"))&&void 0!==yd?yd:.5;a:{J={fieldDef:Cb,fieldDef2:db,channel:J,markDef:Da,scaleName:hd,
bandSize:Ad,axisTranslate:h,spacing:J in Zg?Cc("binSpacing",Da,la):void 0,reverse:Jb.get("reverse"),config:la};var {fieldDef:ue,fieldDef2:Fe,channel:ke,bandSize:df,scaleName:Ye,markDef:hg,spacing:qe=0,axisTranslate:Lf,reverse:ig,config:Bg}=J;J=Xa(ke);Cb=Ta(ke);Ad=Ta(J);h=ci(ke,hg);yd=eb(df)?{signal:"(1-".concat(df.signal,")/2")}:Yf(df)?(1-df.band)/2:.5;if(Pa(ue.bin)||ue.timeUnit)J={[Ad]:Cg({channel:ke,fieldDef:ue,scaleName:Ye,markDef:hg,bandPosition:yd,offset:eg(J,qe,ig,Lf,h),config:Bg}),[Cb]:Cg({channel:ke,
fieldDef:ue,scaleName:Ye,markDef:hg,bandPosition:eb(yd)?{signal:"1-".concat(yd.signal)}:1-yd,offset:eg(ke,qe,ig,Lf,h),config:Bg})};else{if(cb(ue.bin)){yd=gc(ue,Ye,{},{offset:eg(J,qe,ig,Lf,h)});if(kd(Fe)){J={[Ad]:yd,[Cb]:gc(Fe,Ye,{},{offset:eg(ke,qe,ig,Lf,h)})};break a}if(n.isObject(ue.bin)&&ue.bin.step){J={[Ad]:yd,[Cb]:{signal:'scale("'.concat(Ye,'", ').concat(Ka(ue,{expr:"datum"})," + ").concat(ue.bin.step,")"),offset:eg(ke,qe,ig,Lf,h)}};break a}}Db(Wc(J));J=void 0}}return J}function Ui(h,J,c,t,
M){if(Yf(M))if(c){const la=c.get("type");if("band"===la)return{scale:J,band:M.band};1!==M.band&&Db("Cannot use the relative band size with ".concat(la," scale."))}else return{mult:M.band,field:{group:h}};else{if(eb(M))return M;if(M)return{value:M}}return c&&(J=c.get("range"),Gb(J)&&n.isNumber(J.step))?{value:J.step-2}:{value:cf(t.view,h)-2}}function eg(h,J,c,t,M){if(h in xg)return 0;h="x"===h||"y2"===h?-J/2:J/2;if(eb(c)||eb(M)||eb(t))return c=dc(c),M=dc(M),t=(t=dc(t))?"".concat(t," + "):"",c=c?"(".concat(c,
" ? -1 : 1) * "):"",h=M?"(".concat(M," + ").concat(h,")"):h,{signal:t+c+h};M=M||0;return t+(c?-M-h:+M+h)}function Cg(h){var {channel:J,fieldDef:c,scaleName:t,markDef:M,bandPosition:la,offset:sa,config:Da}=h;h=De({scaleName:t,fieldOrDatumDef:c,bandPosition:la,offset:sa});return xe({fieldDef:c,channel:J,markDef:M,ref:h,config:Da})}function ah(h,J){const {fill:c,stroke:t}="include"===J.color?tj(h):{};return Object.assign({},Th(h.markDef,J),vi(h,"fill",c),vi(h,"stroke",t),Kg("opacity",h),Kg("fillOpacity",
h),Kg("strokeOpacity",h),Kg("strokeWidth",h),Kg("strokeDash",h),sk(h),$i(h),rk(h,"href"),gk(h))}function vi(h,J,c){const {config:t,mark:M,markDef:la}=h;return"hide"===Cc("invalid",la,t)&&c&&!Qd(M)&&(h=bk(h,{invalid:!0,channels:Qk}))?{[J]:[{test:h,value:null},...n.array(c)]}:c?{[J]:c}:{}}function Th(h,J){return qj.reduce((c,t)=>{Wm.has(t)||void 0===h[t]||"ignore"===J[t]||(c[t]=Fc(h[t]));return c},{})}function bk(h,J){var {invalid:c=!1,channels:t}=J;J=t.reduce((M,la)=>{var sa=h.getScaleComponent(la);
sa&&(sa=sa.get("type"),(la=h.vgField(la,{expr:"datum"}))&&sa in Jg&&(M[la]=!0));return M},{});J=Md(J);if(0<J.length){const M=c?"||":"\x26\x26";return J.map(la=>je(la,c)).join(" ".concat(M," "))}}function hj(h){const {config:J,markDef:c}=h;return Cc("invalid",c,J)&&(h=ak(h,{channels:ti}))?{defined:{signal:h}}:{}}function ak(h,J){var {invalid:c=!1,channels:t}=J;J=t.reduce((M,la)=>{var sa=h.getScaleComponent(la);sa&&(sa=sa.get("type"),(la=h.vgField(la,{expr:"datum"}))&&sa in Jg&&(M[la]=!0));return M},
{});J=Md(J);if(0<J.length){const M=c?"||":"\x26\x26";return J.map(la=>je(la,c)).join(" ".concat(M," "))}}function Zj(h,J){if(void 0!==J)return{[h]:Fc(J)}}function rg(h,J,c,t,M){var la,sa,Da=J.name,db=Da+"_translate_anchor";Da+="_translate_delta";var pb=c.channel;const Cb=Wj.defined(J);J=M.filter(mc=>mc.name===c.signals[Cb?"data":"visual"])[0];t=h.getSizeSignalRef(t).signal;h=h.getScaleComponent(pb);M=h.get("type");var Jb=h.get("reverse");Jb=Cb?"x"===pb?Jb?"":"-":Jb?"-":"":"";db="".concat(db,".extent_").concat(pb);
pb="".concat(Jb).concat(Da,".").concat(pb," / ").concat(Cb?"".concat(t):"span(".concat(db,")"));Jb=Cb?"log"===M?"panLog":"symlog"===M?"panSymlog":"pow"===M?"panPow":"panLinear":"panLinear";h=Cb?"pow"===M?", ".concat(null!==(la=h.get("exponent"))&&void 0!==la?la:1):"symlog"===M?", ".concat(null!==(sa=h.get("constant"))&&void 0!==sa?sa:1):"":"";la="".concat(Jb,"(").concat(db,", ").concat(pb).concat(h,")");J.on.push({events:{signal:Da},update:Cb?la:"clampRange(".concat(la,", 0, ").concat(t,")")})}function Rj(h,
J,c,t,M){var la,sa,Da=J.name,db=c.channel;const pb=Wj.defined(J);J=M.filter(mc=>mc.name===c.signals[pb?"data":"visual"])[0];t=h.getSizeSignalRef(t).signal;M=h.getScaleComponent(db);const Cb=M.get("type"),Jb=pb?Qi(h,db):J.name;h=Da+"_zoom_delta";Da="".concat(Da).concat("_zoom_anchor",".").concat(db);db=pb?"log"===Cb?"zoomLog":"symlog"===Cb?"zoomSymlog":"pow"===Cb?"zoomPow":"zoomLinear":"zoomLinear";M=pb?"pow"===Cb?", ".concat(null!==(la=M.get("exponent"))&&void 0!==la?la:1):"symlog"===Cb?", ".concat(null!==
(sa=M.get("constant"))&&void 0!==sa?sa:1):"":"";la="".concat(db,"(").concat(Jb,", ").concat(Da,", ").concat(h).concat(M,")");J.on.push({events:{signal:h},update:pb?la:"clampRange(".concat(la,", 0, ").concat(t,")")})}function $g(h,J){({escape:J}=void 0===J?{escape:!0}:J);J=J?n.stringValue(h.name):h.name;for(h=h.parent;h&&!Ph(h);)h=h.parent;if(h){const {facet:c}=h;for(const t of ch)c[t]&&(J+=" + '__facet_".concat(t,"_' + (facet[").concat(n.stringValue(h.vgField(t)),"])"))}return J}function Ji(h){var J;
return wg(null!==(J=h.component.selection)&&void 0!==J?J:{}).reduce((c,t)=>c||t.project.items.some(M=>"_vgsid_"===M.field),!1)}function ug(h,J){!E.isString(J.select)&&J.select.on||delete h.events;!E.isString(J.select)&&J.select.clear||delete h.clear;!E.isString(J.select)&&J.select.toggle||delete h.toggle}function Hg(h){this.type=h}function vh(h){switch(h.type){case "ArrayExpression":return h.elements;case "BinaryExpression":case "LogicalExpression":return[h.left,h.right];case "CallExpression":return[h.callee].concat(h.arguments);
case "ConditionalExpression":return[h.test,h.consequent,h.alternate];case "MemberExpression":return[h.object,h.property];case "ObjectExpression":return h.properties;case "Property":return[h.key,h.value];case "UnaryExpression":return[h.argument];default:return[]}}function Vh(h,J){if(!h)throw Error("ASSERT: "+J);}function qh(h){return 48<=h&&57>=h}function fi(h){return 0<="0123456789abcdefABCDEF".indexOf(h)}function vf(h){return 0<="01234567".indexOf(h)}function Wf(h){return 10===h||13===h||8232===
h||8233===h}function sg(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||128<=h&&Xm.test(String.fromCharCode(h))}function wi(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&Ym.test(String.fromCharCode(h))}function xi(){for(;xd<uh;){const h=Me.charCodeAt(xd);if(32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)||Wf(h))++xd;else break}}function Xg(h){var J=
0;var c="u"===h?4:2;for(h=0;h<c;++h)if(xd<uh&&fi(Me[xd])){var t=Me[xd++];J=16*J+"0123456789abcdef".indexOf(t.toLowerCase())}else Df({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(J)}function Ei(){var h=Me.charCodeAt(xd++);var J=String.fromCharCode(h);92===h&&(117!==Me.charCodeAt(xd)&&Df({},"Unexpected token %0","ILLEGAL"),++xd,(h=Xg("u"))&&"\\"!==h&&sg(h.charCodeAt(0))||Df({},"Unexpected token %0","ILLEGAL"),J=h);for(;xd<uh;){h=Me.charCodeAt(xd);if(!wi(h))break;++xd;J+=String.fromCharCode(h);
92===h&&(J=J.substr(0,J.length-1),117!==Me.charCodeAt(xd)&&Df({},"Unexpected token %0","ILLEGAL"),++xd,(h=Xg("u"))&&"\\"!==h&&wi(h.charCodeAt(0))||Df({},"Unexpected token %0","ILLEGAL"),J+=h)}return J}function Nj(){var h=xd,J=Me.charCodeAt(xd),c=Me[xd];switch(J){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++xd,{type:7,value:String.fromCharCode(J),start:h,end:xd};default:var t=Me.charCodeAt(xd+1);if(61===t)switch(J){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return xd+=
2,{type:7,value:String.fromCharCode(J)+String.fromCharCode(t),start:h,end:xd};case 33:case 61:return xd+=2,61===Me.charCodeAt(xd)&&++xd,{type:7,value:Me.slice(h,xd),start:h,end:xd}}}J=Me.substr(xd,4);if("\x3e\x3e\x3e\x3d"===J)return xd+=4,{type:7,value:J,start:h,end:xd};J=J.substr(0,3);if("\x3e\x3e\x3e"===J||"\x3c\x3c\x3d"===J||"\x3e\x3e\x3d"===J)return xd+=3,{type:7,value:J,start:h,end:xd};J=J.substr(0,2);if(c===J[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===J)return xd+=2,{type:7,value:J,start:h,
end:xd};"//"===J&&Df({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++xd,{type:7,value:c,start:h,end:xd};Df({},"Unexpected token %0","ILLEGAL")}function Oj(){var h=Me[xd];Vh(qh(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");var J=xd;var c="";if("."!==h){c=Me[xd++];h=Me[xd];if("0"===c){if("x"===h||"X"===h){++xd;for(c="";xd<uh&&fi(Me[xd]);)c+=Me[xd++];0===c.length&&Df({},"Unexpected token %0","ILLEGAL");sg(Me.charCodeAt(xd))&&
Df({},"Unexpected token %0","ILLEGAL");return J={type:6,value:parseInt("0x"+c,16),start:J,end:xd}}if(vf(h)){for(c="0"+Me[xd++];xd<uh&&vf(Me[xd]);)c+=Me[xd++];(sg(Me.charCodeAt(xd))||qh(Me.charCodeAt(xd)))&&Df({},"Unexpected token %0","ILLEGAL");return J={type:6,value:parseInt(c,8),octal:!0,start:J,end:xd}}h&&qh(h.charCodeAt(0))&&Df({},"Unexpected token %0","ILLEGAL")}for(;qh(Me.charCodeAt(xd));)c+=Me[xd++];h=Me[xd]}if("."===h){for(c+=Me[xd++];qh(Me.charCodeAt(xd));)c+=Me[xd++];h=Me[xd]}if("e"===h||
"E"===h){c+=Me[xd++];h=Me[xd];if("+"===h||"-"===h)c+=Me[xd++];if(qh(Me.charCodeAt(xd)))for(;qh(Me.charCodeAt(xd));)c+=Me[xd++];else Df({},"Unexpected token %0","ILLEGAL")}sg(Me.charCodeAt(xd))&&Df({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:J,end:xd}}function Si(h,J){let c=h;0<=J.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,(t,M)=>{if(1114111>=parseInt(M,16))return"x";Df({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(t){Df({},
"Invalid regular expression")}try{return new RegExp(h,J)}catch(t){return null}}function yg(){xi();if(xd>=uh)return{type:2,start:xd,end:xd};var h=Me.charCodeAt(xd);if(sg(h)){h=xd;if(92===Me.charCodeAt(xd))var J=Ei();else a:{for(J=xd++;xd<uh;){var c=Me.charCodeAt(xd);if(92===c){xd=J;J=Ei();break a}if(wi(c))++xd;else break}J=Me.slice(J,xd)}return{type:1===J.length?3:Zm.hasOwnProperty(J)?4:"null"===J?5:"true"===J||"false"===J?1:3,value:J,start:h,end:xd}}if(40===h||41===h||59===h)return Nj();if(39===h||
34===h){var t="";c=!1;h=Me[xd];Vh("'"===h||'"'===h,"String literal must starts with a quote");J=xd;for(++xd;xd<uh;){var M=Me[xd++];if(M===h){h="";break}else if("\\"===M)if((M=Me[xd++])&&Wf(M.charCodeAt(0)))"\r"===M&&"\n"===Me[xd]&&++xd;else switch(M){case "u":case "x":if("{"===Me[xd]){++xd;var la=Me[xd];M=0;for("}"===la&&Df({},"Unexpected token %0","ILLEGAL");xd<uh;){la=Me[xd++];if(!fi(la))break;M=16*M+"0123456789abcdef".indexOf(la.toLowerCase())}(1114111<M||"}"!==la)&&Df({},"Unexpected token %0",
"ILLEGAL");M=65535>=M?String.fromCharCode(M):String.fromCharCode((M-65536>>10)+55296,(M-65536&1023)+56320);t+=M}else t+=Xg(M);break;case "n":t+="\n";break;case "r":t+="\r";break;case "t":t+="\t";break;case "b":t+="\b";break;case "f":t+="\f";break;case "v":t+="\x0B";break;default:vf(M)?(la="01234567".indexOf(M),0!==la&&(c=!0),xd<uh&&vf(Me[xd])&&(c=!0,la=8*la+"01234567".indexOf(Me[xd++]),0<="0123".indexOf(M)&&xd<uh&&vf(Me[xd])&&(la=8*la+"01234567".indexOf(Me[xd++]))),t+=String.fromCharCode(la)):t+=
M}else if(Wf(M.charCodeAt(0)))break;else t+=M}""!==h&&Df({},"Unexpected token %0","ILLEGAL");return{type:8,value:t,octal:c,start:J,end:xd}}return 46===h?qh(Me.charCodeAt(xd+1))?Oj():Nj():qh(h)?Oj():Nj()}function Gg(){const h=gg;xd=h.end;gg=yg();xd=h.end;return h}function Wg(){const h=xd;gg=yg();xd=h}function yj(h,J,c){const t=new Hg("||"===h||"\x26\x26"===h?"LogicalExpression":"BinaryExpression");t.operator=h;t.left=J;t.right=c;return t}function pj(h){const J=new Hg("Identifier");J.name=h;return J}
function hh(h){const J=new Hg("Literal");J.value=h.value;J.raw=Me.slice(h.start,h.end);h.regex&&("//"===J.raw&&(J.raw="/(?:)/"),J.regex=h.regex);return J}function Ij(h,J,c){const t=new Hg("MemberExpression");t.computed="["===h;t.object=J;t.property=c;t.computed||(c.member=!0);return t}function gi(h,J,c){const t=new Hg("Property");t.key=J;t.value=c;t.kind=h;return t}function Df(h,J){var c=Array.prototype.slice.call(arguments,2),t=J.replace(/%(\d)/g,(la,sa)=>{Vh(sa<c.length,"Message reference must be in range");
return c[sa]});var M=Error(t);M.index=xd;M.description=t;throw M;}function hi(h){2===h.type&&Df(h,"Unexpected end of input");6===h.type&&Df(h,"Unexpected number");8===h.type&&Df(h,"Unexpected string");3===h.type&&Df(h,"Unexpected identifier");4===h.type&&Df(h,"Unexpected reserved word");Df(h,"Unexpected token %0",h.value)}function vg(h){const J=Gg();7===J.type&&J.value===h||hi(J)}function Ef(h){return 7===gg.type&&gg.value===h}function Kh(){xd=gg.start;const h=Gg();return 8===h.type||6===h.type?(h.octal&&
Df(h,"Octal literals are not allowed in strict mode."),hh(h)):pj(h.value)}function wh(){if(Ef("(")){vg("(");var h=yi();vg(")");return h}if(Ef("[")){h=[];xd=gg.start;for(vg("[");!Ef("]");)Ef(",")?(Gg(),h.push(null)):(h.push(Fh()),Ef("]")||vg(","));Gg();var J=new Hg("ArrayExpression");J.elements=h;return h=J}if(Ef("{")){h=[];J={};var c=String;xd=gg.start;for(vg("{");!Ef("}");){xd=gg.start;var t=gg;if(3===t.type){var M=Kh();vg(":");t=Fh();t=gi("init",M,t)}else 2===t.type||7===t.type?(hi(t),t=void 0):
(M=Kh(),vg(":"),t=Fh(),t=gi("init",M,t));M="Identifier"===t.key.type?t.key.name:c(t.key.value);M="$"+M;Object.prototype.hasOwnProperty.call(J,M)?Df({},"Duplicate data property in object literal not allowed in strict mode"):J[M]=!0;h.push(t);Ef("}")||vg(",")}vg("}");J=new Hg("ObjectExpression");J.properties=h;return h=J}h=gg.type;xd=gg.start;if(3===h||$m[gg.value])J=pj(Gg().value);else if(8===h||6===h)gg.octal&&Df(gg,"Octal literals are not allowed in strict mode."),J=hh(Gg());else{if(4===h)throw Error("Disabled.");
if(1===h)h=Gg(),h.value="true"===h.value,J=hh(h);else if(5===h)h=Gg(),h.value=null,J=hh(h);else if(Ef("/")||Ef("/\x3d")){var la;gg=null;xi();h=xd;J=Me[xd];Vh("/"===J,"Regular expression literal must start with a slash");c=Me[xd++];for(M=t=!1;xd<uh;)if(J=Me[xd++],c+=J,"\\"===J)J=Me[xd++],Wf(J.charCodeAt(0))&&Df({},"Invalid regular expression: missing /"),c+=J;else if(Wf(J.charCodeAt(0)))Df({},"Invalid regular expression: missing /");else if(t)"]"===J&&(t=!1);else if("/"===J){M=!0;break}else"["===J&&
(t=!0);M||Df({},"Invalid regular expression: missing /");J=c.substr(1,c.length-2);for(la=M="";xd<uh;){t=Me[xd];if(!wi(t.charCodeAt(0)))break;++xd;"\\"===t&&xd<uh?Df({},"Unexpected token %0","ILLEGAL"):(la+=t,M+=t)}0<=la.search(/[^gimuy]/g)&&Df({},"Invalid regular expression",la);t=la;la=Si(J,t);J=hh({literal:c+M,value:la,regex:{pattern:J,flags:t},start:h,end:xd});Wg()}else hi(Gg())}return J}function Oh(){var h;for(h=wh();;)if(Ef(".")){vg(".");xd=gg.start;var J=Gg();3===J.type||4===J.type||1===J.type||
5===J.type||hi(J);J=pj(J.value);h=Ij(".",h,J)}else if(Ef("(")){J=[];vg("(");if(!Ef(")"))for(;xd<uh;){J.push(Fh());if(Ef(")"))break;vg(",")}vg(")");{const c=new Hg("CallExpression");c.callee=h;c.arguments=J;h=c}}else if(Ef("["))vg("["),J=yi(),vg("]"),h=Ij("[",h,J);else break;if(7===gg.type&&(Ef("++")||Ef("--")))throw Error("Disabled.");return h}function Lh(){if(7!==gg.type&&4!==gg.type)var h=Oh();else{if(Ef("++")||Ef("--"))throw Error("Disabled.");if(Ef("+")||Ef("-")||Ef("~")||Ef("!")){var J=Gg();
h=Lh();{J=J.value;const c=new Hg("UnaryExpression");c.operator=J;c.argument=h;c.prefix=!0;h=c}}else{if(4===gg.type&&"delete"===gg.value||4===gg.type&&"void"===gg.value||4===gg.type&&"typeof"===gg.value)throw Error("Disabled.");h=Oh()}}return h}function Ci(h){let J=0;if(7!==h.type&&4!==h.type)return 0;switch(h.value){case "||":J=1;break;case "\x26\x26":J=2;break;case "|":J=3;break;case "^":J=4;break;case "\x26":J=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":J=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":J=
7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":J=8;break;case "+":case "-":J=9;break;case "*":case "/":case "%":J=11}return J}function Fh(){var h=gg;var J=Lh();var c=gg;var t=Ci(c);if(0===t)var M=J;else{c.prec=t;Gg();h=[h,gg];var la=Lh();for(M=[J,c,la];0<(t=Ci(gg));){for(;2<M.length&&t<=M[M.length-2].prec;)la=M.pop(),c=M.pop().value,J=M.pop(),h.pop(),J=yj(c,J,la),M.push(J);c=Gg();c.prec=t;M.push(c);h.push(gg);J=Lh();M.push(J)}t=M.length-1;J=M[t];for(h.pop();1<t;)h.pop(),J=yj(M[t-1].value,
M[t-2],J),t-=2;M=J}Ef("?")&&(Gg(),h=Fh(),vg(":"),t=Fh(),J=new Hg("ConditionalExpression"),J.test=M,J.consequent=h,J.alternate=t,M=J);return M}function yi(){const h=Fh();if(Ef(","))throw Error("Disabled.");return h}function ii(h){Me=h;xd=0;uh=Me.length;gg=null;Wg();h=yi();if(2!==gg.type)throw Error("Unexpect token after expression.");return h}function Vi(h){const J=[];if("Identifier"===h.type)return[h.name];if("Literal"===h.type)return[h.value];"MemberExpression"===h.type&&(J.push(...Vi(h.object)),
J.push(...Vi(h.property)));return J}function zi(h){return"MemberExpression"===h.object.type?zi(h.object):"datum"===h.object.name}function Se(h){h=ii(h);const J=new Set;h.visit(c=>{"MemberExpression"===c.type&&zi(c)&&J.add(Vi(c).slice(1).join("."))});return J}function zj(h,J,c,t){t=void 0===t?"datum":t;const M=n.isString(J)?J:J.param,la=z(M);var sa=n.stringValue(la+"_store");let Da;try{Da=h.getSelectionComponent(la,M)}catch(db){return"!!".concat(la)}Da.project.timeUnit&&(h=null!==c&&void 0!==c?c:h.component.data.raw,
c=Da.project.timeUnit.clone(),h.parent?c.insertAsParentOf(h):h.parent=c);t="vlSelectionTest(".concat(sa,", ").concat(t)+("global"===Da.resolve?")":", ".concat(n.stringValue(Da.resolve),")"));sa="length(data(".concat(sa,"))");return!1===J.empty?"".concat(sa," \x26\x26 ").concat(t):"!".concat(sa," || ").concat(t)}function jh(h,J,c){const t=z(J),M=c.encoding;let la=c.field,sa;try{sa=h.getSelectionComponent(t,J)}catch(Da){return t}M||la?M&&!la&&(h=sa.project.items.filter(Da=>Da.channel===M),!h.length||
1<h.length?(la=sa.project.items[0].field,Db((h.length?"Multiple ":"No ")+"matching ".concat(n.stringValue(M)," encoding found for selection ").concat(n.stringValue(c.param),". ")+'Using "field": '.concat(n.stringValue(la),"."))):la=h[0].field):(la=sa.project.items[0].field,1<sa.project.items.length&&Db('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n.stringValue(la),".")));return"".concat(sa.name,"[").concat(n.stringValue(fa(la)),"]")}
function ih(h,J,c){return K(J,t=>n.isString(t)?t:(null===t||void 0===t?0:t.param)?zj(h,t,c):ye(t))}function Mh(h,J){if(h)return n.isArray(h)&&!Ua(h)?h.map(c=>oe(c,J)).join(", "):h}function Nh(h,J,c,t){var M,la,sa,Da,db;null!==(M=h.encode)&&void 0!==M?M:h.encode={};null!==(sa=(la=h.encode)[J])&&void 0!==sa?sa:la[J]={};null!==(db=(Da=h.encode[J]).update)&&void 0!==db?db:Da.update={};h.encode[J].update[c]=t}function Wh(h,J,c,t){t=void 0===t?{header:!1}:t;var M=h.combine(),la=Object.assign({},M),sa=M.disable;
const Da=M.orient,db=M.scale,pb=M.labelExpr,Cb=M.title;M=M.zindex;la=(delete la.disable,delete la.orient,delete la.scale,delete la.labelExpr,delete la.title,delete la.zindex,la);if(!sa){for(const md in la){var Jb=kf[md];sa=la[md];if(Jb&&Jb!==J&&"both"!==Jb)delete la[md];else if(Of(sa)){Jb=sa;sa=Object.assign({},Jb);Jb=Jb.condition;sa=(delete sa.condition,sa);Jb=n.array(Jb);const sd=Jd[md];if(sd){const {vgProp:yd,part:Ad}=sd;sa=[...Jb.map(ue=>{var Fe=Object.assign({},ue);ue=ue.test;Fe=(delete Fe.test,
Fe);return Object.assign({},{test:ih(null,ue)},Fe)}),sa];Nh(la,Ad,yd,sa);delete la[md]}else null===sd&&(sa={signal:Jb.map(yd=>{var Ad=Object.assign({},yd);yd=yd.test;Ad=(delete Ad.test,Ad);return"".concat(ih(null,yd)," ? ").concat(mb(Ad)," : ")}).join("")+mb(sa)},la[md]=sa)}else if(eb(sa)&&(Jb=Jd[md])){const {vgProp:sd,part:yd}=Jb;Nh(la,yd,sd,sa);delete la[md]}d(["labelAlign","labelBaseline"],md)&&null===la[md]&&delete la[md]}if("grid"===J){if(la.grid)return la.encode&&({grid:c}=la.encode,la.encode=
Object.assign({},c?{grid:c}:{}),L(la.encode)&&delete la.encode),Object.assign({},{scale:db,orient:Da},la,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:q(M,0)})}else if(t.header||!h.mainExtracted){if(void 0!==pb){var mc,hd;J=pb;null!==(mc=la.encode)&&void 0!==mc&&null!==(hd=mc.labels)&&void 0!==hd&&hd.update&&eb(la.encode.labels.update.text)&&(J=ja(pb,"datum.label",la.encode.labels.update.text.signal));Nh(la,"labels","text",{signal:J})}null===la.labelAlign&&delete la.labelAlign;
if(la.encode){for(const md of Ke)h.hasAxisPart(md)||delete la.encode[md];L(la.encode)&&delete la.encode}h=Mh(Cb,c);return Object.assign({},{scale:db,orient:Da,grid:!1},h?{title:h}:{},la,!1===c.aria?{aria:!1}:{},{zindex:q(M,0)})}}}function ji(h){const {axes:J}=h.component,c=[];for(const t of ti)if(J[t])for(const M of J[t])if(!M.get("disable")&&!M.get("gridScale")){const la="x"===t?"height":"width",sa=h.getSizeSignalRef(la).signal;la!==sa&&c.push({name:la,update:sa})}return c}function Ai(h,J){const {x:c=
[],y:t=[]}=h;return[...c.map(M=>Wh(M,"grid",J)),...t.map(M=>Wh(M,"grid",J)),...c.map(M=>Wh(M,"main",J)),...t.map(M=>Wh(M,"main",J))].filter(M=>M)}function oi(h,J,c,t){return Object.assign.apply(null,[{},...h.map(M=>{if("axisOrient"===M){M="x"===c?"bottom":"left";const la=J["x"===c?"axisBottom":"axisLeft"]||{},sa=J["x"===c?"axisTop":"axisRight"]||{},Da=new Set([...Md(la),...Md(sa)]),db={};for(const pb of Da.values())db[pb]={signal:"".concat(t.signal,' \x3d\x3d\x3d "').concat(M,'" ? ').concat(dc(la[pb]),
" : ").concat(dc(sa[pb]))};return db}return J[M]})])}function xh(h,J,c,t){var M="band"===J?["axisDiscrete","axisBand"]:"point"===J?["axisDiscrete","axisPoint"]:J in ok?["axisQuantitative"]:"time"===J||"utc"===J?["axisTemporal"]:[];const la="x"===h?"axisX":"axisY";J=eb(c)?"axisOrient":"axis".concat(R(c));M=[...M,...M.map(sa=>la+sa.substr(4))];J=["axis",J,la];return{vlOnlyAxisConfig:oi(M,t,h,c),vgAxisConfig:oi(J,t,h,c),axisConfigStyle:tg([...J,...M],t)}}function tg(h,J){const c=[{}];for(const M of h){var t;
if(h=null===(t=J[M])||void 0===t?void 0:t.style){h=n.array(h);for(const la of h)c.push(J.style[la])}}return Object.assign.apply(null,c)}function Bi(h,J,c,t){t=void 0===t?{}:t;J=Tc(h,c,J);if(void 0!==J)return{configFrom:"style",configValue:J};for(const la of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var M;if(void 0!==(null===(M=t[la])||void 0===M?void 0:M[h]))return{configFrom:la,configValue:t[la][h]}}return{}}function yh(h,J,c,t,M){const la=null===J||void 0===J?void 0:J.labelAngle;if(void 0!==
la)return eb(la)?la:wa(la);({configValue:J}=Bi("labelAngle",t,null===J||void 0===J?void 0:J.style,M));if(void 0!==J)return wa(J);if("x"===c&&d(["nominal","ordinal"],h.type)&&(!kd(h)||!h.timeUnit))return 270}function kj(h){return"(((".concat(h.signal," % 360) + 360) % 360)")}function Bj(h,J,c,t){if(void 0!==h)return"x"===c?eb(h)?(t=kj(h),J=eb(J)?"(".concat(J.signal,' \x3d\x3d\x3d "top")'):"top"===J,{signal:"(45 \x3c ".concat(t," \x26\x26 ").concat(t," \x3c 135) || (225 \x3c ").concat(t," \x26\x26 ").concat(t,
' \x3c 315) ? "middle" :')+"(".concat(t," \x3c\x3d 45 || 315 \x3c\x3d ").concat(t,") \x3d\x3d\x3d ").concat(J,' ? "bottom" : "top"')}):45<h&&135>h||225<h&&315>h?"middle":eb(J)?(t=45>=h||315<=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(J.signal," ").concat(t,' "top" ? "bottom" : "top"')}):(45>=h||315<=h)===("top"===J)?"bottom":"top":eb(h)?(h=kj(h),J=eb(J)?"(".concat(J.signal,' \x3d\x3d\x3d "left")'):"left"===J,t=t?'"middle"':"null",{signal:"".concat(h," \x3c\x3d 45 || 315 \x3c\x3d ").concat(h," || (135 \x3c\x3d ").concat(h,
" \x26\x26 ").concat(h," \x3c\x3d 225) ? ").concat(t," : (45 \x3c\x3d ").concat(h," \x26\x26 ").concat(h," \x3c\x3d 135) \x3d\x3d\x3d ").concat(J,' ? "top" : "bottom"')}):45>=h||315<=h||135<=h&&225>=h?t?"middle":null:eb(J)?(t=45<=h&&135>=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(J.signal," ").concat(t,' "left" ? "top" : "bottom"')}):(45<=h&&135>=h)===("left"===J)?"top":"bottom"}function zh(h,J,c){if(void 0!==h){var t=(c="x"===c)?0:90,M=c?"bottom":"left";return eb(h)?(h=kj(h),J=eb(J)?"(".concat(J.signal,
' \x3d\x3d\x3d "').concat(M,'")'):J===M,{signal:"(".concat(t?"(".concat(h," + 90)"):h," % 180 \x3d\x3d\x3d 0) ? ").concat(c?null:'"center"'," :")+"(".concat(t," \x3c ").concat(h," \x26\x26 ").concat(h," \x3c ").concat(180+t,") \x3d\x3d\x3d ").concat(J,' ? "left" : "right"')}):0===(h+t)%180?c?null:"center":eb(J)?(c=t<h&&h<180+t?"\x3d\x3d\x3d":"!\x3d\x3d",J="".concat(J.signal," ").concat(c,' "').concat(M,'"'),{signal:"".concat(J,' ? "left" : "right"')}):(t<h&&h<180+t)===(J===M)?"left":"right"}}function li(h,
J){var c="x"===J?"x2":"y2";J=h.fieldDef(J);h=h.fieldDef(c);c=J?J.title:void 0;h=h?h.title:void 0;if(c&&h)return fe(c,h);if(c)return c;if(h)return h;if(void 0!==c)return c;if(void 0!==h)return h}function ki(h,J,c){return Ka(h,Object.assign({},{prefix:J,suffix:"sort_index"},null!==c&&void 0!==c?c:{}))}function Sj(h,J){return d(["top","bottom"],J)?"column":d(["left","right"],J)?"row":"row"===h?"row":"column"}function Gh(h,J,c,t){return q((J||{})[h],("row"===t?c.headerRow:"column"===t?c.headerColumn:
c.headerFacet)[h],c.header[h])}function Xf(h,J,c,t){const M={};for(const la of h)h=Gh(la,J||{},c,t),void 0!==h&&(M[la]=h);return M}function Xh(h,J){const c=h.component.layoutHeaders[J].title,t=h.config?h.config:void 0;h=h.component.layoutHeaders[J].facetFieldDef?h.component.layoutHeaders[J].facetFieldDef:void 0;const {titleAnchor:M,titleAngle:la,titleOrient:sa}=Xf(["titleAnchor","titleAngle","titleOrient"],h.header,t,J),Da=Sj(J,sa),db=wa(la);return{name:"".concat(J,"-title"),type:"group",role:"".concat(Da,
"-title"),title:Object.assign({},{text:c},"row"===J?{orient:"left"}:{},{style:"guide-title"},ni(db,Da),mi(Da,db,M),rh(t,h,J,aj,Gf))}}function mi(h,J,c){switch(void 0===c?"middle":c){case "start":return{align:"left"};case "end":return{align:"right"}}return(h=zh(J,"row"===h?"left":"top","row"===h?"y":"x"))?{align:h}:{}}function ni(h,J){return(h=Bj(h,"row"===J?"left":"top","row"===J?"y":"x",!0))?{baseline:h}:{}}function ij(h,J){const c=h.component.layoutHeaders[J],t=[];for(const Jb of Rl)if(c[Jb])for(const mc of c[Jb]){a:{var M=
h;var la=J,sa=Jb,Da=c,db=mc;if(db){let hd=null;const {facetFieldDef:md}=Da;var pb=M.config?M.config:void 0;if(md&&db.labels){var {labelOrient:Cb}=Xf(["labelOrient"],md.header,pb,la);if("row"===la&&!d(["top","bottom"],Cb)||"column"===la&&!d(["left","right"],Cb))hd=Wi(md,la,pb)}pb=Ph(M)&&!Nc(M.facet);Cb=db.axes;const sd=0<(null===Cb||void 0===Cb?void 0:Cb.length);if(hd||sd){const yd="row"===la?"height":"width";M=Object.assign({},{name:M.getName("".concat(la,"_").concat(sa)),type:"group",role:"".concat(la,
"-").concat(sa)},Da.facetFieldDef?{from:{data:M.getName("".concat(la,"_domain"))},sort:Ck(md,la)}:{},sd&&pb?{from:{data:M.getName("facet_domain_".concat(la))}}:{},hd?{title:hd}:{},db.sizeSignal?{encode:{update:{[yd]:db.sizeSignal}}}:{},sd?{axes:Cb}:{});break a}}M=null}null!=M&&t.push(M)}return t}function Ck(h,J){const {sort:c}=h;if(Wb(c)){var t;return{field:Ka(c,{expr:"datum"}),order:null!==(t=c.order)&&void 0!==t?t:"ascending"}}return n.isArray(c)?{field:ki(h,J,{expr:"datum"}),order:"ascending"}:
{field:Ka(h,{expr:"datum"}),order:null!==c&&void 0!==c?c:"ascending"}}function Wi(h,J,c){const {format:t,formatType:M,labelAngle:la,labelAnchor:sa,labelOrient:Da,labelExpr:db}=Xf("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),h.header,c,J),pb=Qf({fieldOrDatumDef:h,format:t,formatType:M,expr:"parent",config:c}).signal,Cb=Sj(J,Da);return Object.assign({},{text:{signal:db?ja(ja(db,"datum.label",pb),"datum.value",Ka(h,{expr:"parent"})):pb}},"row"===J?{orient:"left"}:{},{style:"guide-label",
frame:"group"},ni(la,Cb),mi(Cb,la,sa),rh(c,h,J,Ml,wf))}function rh(h,J,c,t,M){const la={};for(const sa of t)M[sa]&&(t=Gh(sa,null===J||void 0===J?void 0:J.header,h,c),void 0!==t&&(la[M[sa]]=t));return la}function pi(h){return[...Ig(h,"width"),...Ig(h,"height"),...Ig(h,"childWidth"),...Ig(h,"childHeight")]}function Ig(h,J){var c="width"===J?"x":"y",t=h.component.layoutSize.get(J);if(!t||"merged"===t)return[];J=h.getSizeSignalRef(J).signal;if("step"===t){if(t=h.getScaleComponent(c)){var M=t.get("type");
const la=t.get("range");if(M in Pg&&Gb(la))return M=h.scaleName(c),Ph(h.parent)&&"independent"===h.parent.component.resolve.scale[c]?[Mg(M,la)]:[Mg(M,la),{name:J,update:Pf(M,t,"domain('".concat(M,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==t?(c=(t=J.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",h=jd(h.config.view,t?"width":"height"),h="isFinite(".concat(c,") ? ").concat(c," : ").concat(h),[{name:J,init:h,on:[{update:h,events:"window:resize"}]}]):
[{name:J,value:t}]}function Mg(h,J){return{name:"".concat(h,"_step"),value:J.step}}function Pf(h,J,c){const t=J.get("type"),M=J.get("padding"),la=q(J.get("paddingOuter"),M);J=J.get("paddingInner");J="band"===t?void 0!==J?J:M:1;return"bandspace(".concat(c,", ").concat(dc(J),", ").concat(dc(la),") * ").concat(h,"_step")}function Uh(h){return"childWidth"===h?"width":"childHeight"===h?"height":h}function dk(h,J){return Md(h).reduce((c,t)=>Object.assign({},c,$h(J,h[t],t,M=>Fc(M.value))),{})}function Hh(h,
J){if(Zh(J)||Ph(J))return"shared";if(ek(J))return h in Zg?"independent":"shared";throw Error("invalid model type for resolve");}function di(h,J){const c=J in Zg?"axis":"legend";return"independent"===h.scale[J]?("shared"===h[c][J]&&Db('Setting the scale to be independent for "'.concat(J,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):h[c][J]||"shared"}function bj(h){return Aj(h,(J,c)=>Math.max(J,c.value))}function Eg(h){return Aj(h,(J,c)=>q(J,c.value))}
function Aj(h,J){var c=h&&h.condition;if(c=!!c&&(n.isArray(c)||zf(c)))return n.array(h.condition).reduce(J,h.value);if(zf(h))return h.value}function tk(h,J,c){h=J.get("selections");if(null!==h&&void 0!==h&&h.length){var t=n.stringValue(c.field);return h.map(M=>{const la=n.stringValue(z(M)+"_store");return"(!length(data(".concat(la,")) || (").concat(M,"[").concat(t,"] \x26\x26 indexof(").concat(M,"[").concat(t,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function Yh(h,J,c,t){h=h.getSizeSignalRef(J).signal;
return{signal:"clamp(".concat(h,", ").concat(c,", ").concat(t,")")}}function cj(h){var J;if(pg(h)){var {encoding:c}=h,t={};for(const $f of["color",...nm]){var M=gd(c[$f]);if(M&&h.getScaleComponent($f)&&("shape"!==$f||!kd(M)||"geojson"!==M.type)){{var la=M=void 0,sa=void 0,Da=void 0,db=void 0,pb=void 0;var Cb=void 0;var Jb=h,mc=$f;let kg=Jb.legend(mc);const {markDef:Vj,encoding:Wk,config:xk}=Jb;var hd=xk.legend;b:{var md=Jb;var sd=mc,yd=md.scaleName(sd);if("trail"===md.mark){if("color"===sd){md={stroke:yd};
break b}if("size"===sd){md={strokeWidth:yd};break b}}md="color"===sd?md.markDef.filled?{fill:yd}:{stroke:yd}:{[sd]:yd}}md=new an({},md);sd=null===(Da=Jb.fieldDef(mc))||void 0===Da?void 0:Da.field;for(const Fg of wg(null!==(J=Jb.component.selection)&&void 0!==J?J:{})){var Ad;if((Da=null!==(Ad=Fg.project.hasField[sd])&&void 0!==Ad?Ad:Fg.project.hasChannel[mc])&&om.defined(Fg)){var ue;yd=null!==(ue=md.get("selections"))&&void 0!==ue?ue:[];yd.push(Fg.name);md.set("selections",yd,!1);Da.hasLegend=!0}}Da=
void 0!==kg?!kg:hd.disable;md.set("disable",Da,void 0!==kg);if(Da)M=md;else{kg=kg||{};sd=Jb.getScaleComponent(mc).get("type");Da=gd(Wk[mc]);var Fe=kd(Da)?null===(Cb=ae(Da.timeUnit))||void 0===Cb?void 0:Cb.unit:void 0;yd=kg.orient||xk.legend.orient||"right";Cb={legend:kg,channel:mc,timeUnit:Fe,scaleType:sd};({legend:Fe}=Cb);Fe=Fe.type;b:{var {channel:ke,timeUnit:df,scaleType:Ye}=Cb;if($a(ke)){if(d(["quarter","month","day"],df)){Cb="symbol";break b}if(Ye in oh){Cb="gradient";break b}}Cb="symbol"}Cb=
q(Fe,Cb);var {legendConfig:hg,legendType:qe,orient:Lf,legend:ig}={legend:kg,legendType:Cb,orient:yd,legendConfig:hd};if(null!==(sa=null!==(la=ig.direction)&&void 0!==la?la:hg[qe?"gradientDirection":"symbolDirection"])&&void 0!==sa)la=sa;else b:{switch(Lf){case "top":case "bottom":la="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:la="gradient"===qe?"horizontal":void 0;break b}la=void 0}hd={legend:kg,channel:mc,model:Jb,markDef:Vj,encoding:Wk,fieldOrDatumDef:Da,
legendConfig:hd,config:xk,scaleType:sd,orient:yd,legendType:Cb,direction:la};for(const Fg of pm)if(!("gradient"===Cb&&Fg.startsWith("symbol")||"symbol"===Cb&&Fg.startsWith("gradient"))&&(la=Fg in qm?qm[Fg](hd):kg[Fg],void 0!==la)){b:{sa=Jb.fieldDef(mc);switch(Fg){case "disable":sa=void 0!==kg;break b;case "values":sa=!(null===kg||void 0===kg||!kg.values);break b;case "title":if("title"===Fg&&la===(null===sa||void 0===sa?void 0:sa.title)){sa=!0;break b}}sa=la===(kg||{})[Fg]}(sa||void 0===xk.legend[Fg])&&
md.set(Fg,la,sa)}hd=null!==(pb=null===(db=kg)||void 0===db?void 0:db.encoding)&&void 0!==pb?pb:{};db=md.get("selections");pb={};mc={fieldOrDatumDef:Da,model:Jb,channel:mc,legendCmpt:md,legendType:Cb};for(const Fg of"labels legend title symbols gradient entries".split(" ")){var Bg;la=dk(null!==(Bg=hd[Fg])&&void 0!==Bg?Bg:{},Jb);la=Fg in rm?rm[Fg](la,mc):la;void 0===la||L(la)||(pb[Fg]=Object.assign({},null!==db&&void 0!==db&&db.length&&kd(Da)?{name:"".concat(z(Da.field),"_legend_").concat(Fg)}:{},null!==
db&&void 0!==db&&db.length?{interactive:!!db}:{},{update:la}))}L(pb)||md.set("encode",pb,!(null===(M=kg)||void 0===M||!M.encoding));M=md}}t[$f]=M}}J=t}else{{const {legends:$f,resolve:kg}=h.component;for(c of h.children){cj(c);for(t of Md(c.component.legends))kg.legend[t]=di(h.component.resolve,t),"shared"===kg.legend[t]&&($f[t]=Di($f[t],c.component.legends[t]),$f[t]||(kg.legend[t]="independent",delete $f[t]))}for(M of Md($f))for(Jb of h.children)Jb.component.legends[M]&&"shared"===kg.legend[M]&&delete Jb.component.legends[M];
J=$f}}return h.component.legends=J}function Di(h,J){if(!h)return J.clone();var c=h.getWithExplicit("orient");const t=J.getWithExplicit("orient");if(!c.explicit||!t.explicit||c.value===t.value){var M=!1;for(const pb of pm)c=Kf(h.getWithExplicit(pb),J.getWithExplicit(pb),pb,"legend",(Cb,Jb)=>{switch(pb){case "symbolType":return Cb="circle"===Jb.value?Jb:Cb,Cb;case "title":return vd(Cb,Jb);case "type":return M=!0,Be("symbol")}return We(Cb,Jb,pb,"legend")}),h.setWithExplicit(pb,c);if(M){var la,sa,Da,
db;null!==(la=h.implicit)&&void 0!==la&&null!==(sa=la.encode)&&void 0!==sa&&sa.gradient&&H(h.implicit,["encode","gradient"]);null!==(Da=h.explicit)&&void 0!==Da&&null!==(db=Da.encode)&&void 0!==db&&db.gradient&&H(h.explicit,["encode","gradient"])}return h}}function dj(h){const J=h.component.legends,c={};for(const M of Md(J)){var t=h.getScaleComponent(M);t=ng(t.get("domains"));if(c[t])for(const la of c[t])Di(la,J[M])||c[t].push(J[M]);else c[t]=[J[M].clone()]}return wg(c).flat().map(M=>{{var la=h.config,
sa,Da=M.combine();M=Object.assign({},Da);const yd=Da.disable;Da=Da.labelExpr;M=(delete M.disable,delete M.labelExpr,delete M.selections,M);if(yd)var db=void 0;else{!1===la.aria&&void 0==M.aria&&(M.aria=!1);if(null!==(sa=M.encode)&&void 0!==sa&&sa.symbols){la=M.encode.symbols.update;!la.fill||"transparent"===la.fill.value||la.stroke||M.stroke||(la.stroke={value:"transparent"});for(var pb of nm)M[pb]&&delete la[pb]}M.title||delete M.title;if(void 0!==Da){var Cb,Jb;pb=Da;null!==(Cb=M.encode)&&void 0!==
Cb&&null!==(Jb=Cb.labels)&&void 0!==Jb&&Jb.update&&eb(M.encode.labels.update.text)&&(pb=ja(Da,"datum.label",M.encode.labels.update.text.signal));Cb=M;Jb={signal:pb};var mc,hd,md,sd;null!==(db=Cb.encode)&&void 0!==db?db:Cb.encode={};null!==(hd=(mc=Cb.encode).labels)&&void 0!==hd?hd:mc.labels={};null!==(sd=(md=Cb.encode.labels).update)&&void 0!==sd?sd:md.update={};Cb.encode.labels.update.text=Jb}db=M}}return db}).filter(M=>void 0!==M)}function lj(h){return h.children.reduce((J,c)=>J.concat(c.assembleProjections()),
ej(h))}function ej(h){var J=h.component.projection;if(!J||J.merged)return[];const c=J.combine(),{name:t}=c;if(J.data){const M={signal:"[".concat(J.size.map(la=>la.signal).join(", "),"]")};J=J.data.reduce((la,sa)=>{sa=eb(sa)?sa.signal:"data('".concat(h.lookupDataSource(sa),"')");la.includes(sa)||la.push(sa);return la},[]);if(0>=J.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:t,size:M,fit:{signal:1<J.length?"[".concat(J.join(", "),"]"):J[0]}},c)]}return[Object.assign({},
{name:t},{translate:{signal:"[width / 2, height / 2]"}},c)]}function Dk(h){var J=h.component,c;if(pg(h))if(h.hasProjection){const la=oa(h.specifiedProjection);var t=!(la&&(null!=la.scale||null!=la.translate));const sa=t?[h.getSizeSignalRef("width"),h.getSizeSignalRef("height")]:void 0;if(t){{t=[];const {encoding:Da}=h;for(M of[["longitude","latitude"],["longitude2","latitude2"]])(gd(Da[M[0]])||gd(Da[M[1]]))&&t.push({signal:h.getName("geojson_".concat(t.length))});h.channelHasField("shape")&&"geojson"===
h.typedFieldDef("shape").type&&t.push({signal:h.getName("geojson_".concat(t.length))});0===t.length&&t.push(h.requestDataName(zg.Main));var M=t}}else M=void 0;h=new sm(h.projectionName(!0),Object.assign({},null!==(c=oa(h.config.projection))&&void 0!==c?c:{},null!==la&&void 0!==la?la:{}),sa,M);h.get("type")||h.set("type","equalEarth",!1);c=h}else c=void 0;else c=Cj(h);J.projection=c}function uk(h,J){const c=a(bn,t=>!n.hasOwnProperty(h.explicit,t)&&!n.hasOwnProperty(J.explicit,t)||n.hasOwnProperty(h.explicit,
t)&&n.hasOwnProperty(J.explicit,t)&&Bh(h.get(t),J.get(t))?!0:!1);if(Bh(h.size,J.size)){if(c)return h;if(Bh(h.explicit,{}))return J;if(Bh(J.explicit,{}))return h}return null}function Cj(h){if(0!==h.children.length){var J;for(var c of h.children)Dk(c);c=a(h.children,t=>{if(t=t.component.projection){if(J)return(t=uk(J,t))&&(J=t),!!t;J=t}return!0});if(J&&c){c=h.projectionName(!0);const t=new sm(c,J.specifiedProjection,J.size,pf(J.data));for(const M of h.children)if(h=M.component.projection)h.isFit&&t.data.push(...M.component.projection.data),
M.renameProjection(h.get("name"),c),h.merged=!0;return t}}}function uj(h,J,c,t){if(Le(J,c)){var M,la;h=pg(h)?null!==(M=null!==(la=h.axis(c))&&void 0!==la?la:h.legend(c))&&void 0!==M?M:{}:{};M=Ka(J,{expr:"datum"});la=Ka(J,{expr:"datum",binSuffix:"end"});return{formulaAs:Ka(J,{binSuffix:"range",forAs:!0}),formula:ub(M,la,h.format,h.formatType,t)}}return{}}function fj(h,J){return"".concat(na(h),"_").concat(J)}function qi(h,J,c){var t;c=null!==(t=Pd(c,void 0))&&void 0!==t?t:{};J=fj(c,J);return h.getName("".concat(J,
"_bins"))}function vk(h,J,c){let t;t="as"in h?n.isString(h.as)?[h.as,"".concat(h.as,"_end")]:[h.as[0],h.as[1]]:[Ka(h,{forAs:!0}),Ka(h,{binSuffix:"end",forAs:!0})];const M=Object.assign({},Pd(J,void 0));J=fj(M,h.field);var la={signal:c.getName("".concat(J,"_bins")),extentSignal:c.getName("".concat(J,"_extent"))};const {signal:sa,extentSignal:Da}=la;if(ab(M.extent)){var db=M.extent;db=jh(c,db.param,db);delete M.extent}h=Object.assign({},{bin:M,field:h.field,as:[t]},sa?{signal:sa}:{},Da?{extentSignal:Da}:
{},db?{span:db}:{});return{key:J,binComponent:h}}function jj(h){return"'"===h[0]&&"'"===h[h.length-1]||'"'===h[0]&&'"'===h[h.length-1]?h.slice(1,-1):h}function wk(h,J){h=U(h);if("number"===J)return"toNumber(".concat(h,")");if("boolean"===J)return"toBoolean(".concat(h,")");if("string"===J)return"toString(".concat(h,")");if("date"===J)return"toDate(".concat(h,")");if("flatten"===J)return h;if(J.startsWith("date:"))return J=jj(J.slice(5,J.length)),"timeParse(".concat(h,",'").concat(J,"')");if(J.startsWith("utc:"))return J=
jj(J.slice(4,J.length)),"utcParse(".concat(h,",'").concat(J,"')");Db('Unrecognized parse "'.concat(J,'".'));return null}function Yg(h){const J={};O(h.filter,c=>{if(Ue(c)){let M=null;if(me(c))M=bd(c.equal);else if(Ze(c))M=bd(c.lte);else if(ff(c))M=bd(c.lt);else if(hf(c))M=bd(c.gt);else if(Vd(c))M=bd(c.gte);else if(ge(c))M=c.range[0];else if(yf(c)){var t;M=(null!==(t=c.oneOf)&&void 0!==t?t:c["in"])[0]}M&&(Hc(M)?J[c.field]="date":n.isNumber(M)?J[c.field]="number":n.isString(M)&&(J[c.field]="string"));
c.timeUnit&&(J[c.field]="date")}});return J}function dg(h){function J(t){if(pe(t))c[t.field]="date";else{var M;if(M="quantitative"===t.type)M=t.aggregate,M=n.isString(M)&&d(["min","max"],M);M?c[t.field]="number":1<Q(t.field)?t.field in c||(c[t.field]="flatten"):tf(t)&&Wb(t.sort)&&1<Q(t.sort.field)&&(t.sort.field in c||(c[t.sort.field]="flatten"))}}const c={};(pg(h)||Ph(h))&&h.forEachFieldDef((t,M)=>{Xe(t)?J(t):(M=ta(M),M=h.fieldDef(M),J(Object.assign({},t,{type:M.type})))});if(pg(h)){const {mark:t,
markDef:M,encoding:la}=h;if(Qd(t)&&!h.encoding.order){const sa=la["horizontal"===M.orient?"y":"x"];!kd(sa)||"quantitative"!==sa.type||sa.field in c||(c[sa.field]="number")}}return c}function og(h){return h instanceof yk||h instanceof Bl||h instanceof Cl}function jl(h){return h.stack.stackBy.reduce((J,c)=>{(c=Ka(c.fieldDef))&&J.push(c);return J},[])}function mj(h){return n.isArray(h)&&h.every(J=>n.isString(J))&&1<h.length}function b(h){function J(c){if(!(c instanceof Xk)){const t=c.clone();if(t instanceof
Ih){const M="scale_"+t.getSource();t.setSource(M);h.model.component.data.outputNodes[M]=t}else(t instanceof gj||t instanceof Xj||t instanceof ml||t instanceof Yk)&&t.addDimensions(h.fields);for(const M of c.children.flatMap(J))M.parent=t;return[t]}return c.children.flatMap(J)}return J}function r(h){if(h instanceof Xk)if(1!==h.numChildren()||h.children[0]instanceof Ih){var J=h.model.component.data.main;W(J);const c=b(h);h=h.children.map(c).flat();for(const t of h)t.parent=J}else J=h.children[0],(J instanceof
gj||J instanceof Xj||J instanceof ml||J instanceof Yk)&&J.addDimensions(h.fields),J.swapWithParent(),r(h);else h.children.map(r)}function W(h){if(h instanceof Ih&&h.type===zg.Main&&1===h.numChildren()){const J=h.children[0];J instanceof Xk||(J.swapWithParent(),W(h))}}function T(h){for(const J of h){for(const c of J.children)if(c.parent!==J)return!1;if(!T(J.children))return!1}return!0}function ia(h,J){let c=!1;for(const t of J)c=h.optimize(t)||c;return c}function Ma(h,J,c){let t=h.sources,M=!1;M=ia(new cn,
t)||M;M=ia(new dn(J),t)||M;t=t.filter(la=>0<la.numChildren());M=ia(new en,t)||M;t=t.filter(la=>0<la.numChildren());c||(M=ia(new fn,t)||M,M=ia(new gn(J),t)||M,M=ia(new hn,t)||M,M=ia(new jn,t)||M,M=ia(new kn,t)||M,M=ia(new ln,t)||M,M=ia(new mn,t)||M,M=ia(new nn,t)||M);h.sources=t;return M}function Ya(h){const J=h.component.scales;for(const pb of Md(J)){var c=h;var t=pb,M=c.getScaleComponent(t).get("type"),{encoding:la}=c;var sa=c.scaleDomain(t);var Da=c.typedFieldDef(t),db=c.config.scale;if("unaggregated"===
sa){const {valid:Cb,reason:Jb}=wc(Da,M);Cb||(Db(Jb),sa=void 0)}else void 0===sa&&db.useUnaggregatedDomain&&({valid:Da}=wc(Da,M),Da&&(sa="unaggregated"));sa!==c.scaleDomain(t)&&(c.specifiedScales[t]=Object.assign({},c.specifiedScales[t],{domain:sa}));c="x"===t&&gd(la.x2)?gd(la.x)?Kf(ac(M,sa,c,"x"),ac(M,sa,c,"x2"),"domain","scale",td):ac(M,sa,c,"x2"):"y"===t&&gd(la.y2)?gd(la.y)?Kf(ac(M,sa,c,"y"),ac(M,sa,c,"y2"),"domain","scale",td):ac(M,sa,c,"y2"):ac(M,sa,c,t);J[pb].setWithExplicit("domains",c);la=
void 0;t=h.component.scales[pb];sa=h.specifiedScales[pb].domain;M=null===(la=h.fieldDef(pb))||void 0===la?void 0:la.bin;la=Zd(sa)&&sa;M=n.isObject(M)&&ab(M.extent)&&M.extent;(la||M)&&t.set("selectionExtent",null!==la&&void 0!==la?la:M,!0);if(h.component.data.isFaceted){for(t=h;!Ph(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[pb])for(const Cb of c.value)Tb(Cb)&&(Cb.data="scale_"+Cb.data.replace("scale_",""))}}}function bb(h){for(var J of h.children){var c=J;pg(c)?Ya(c):bb(c)}c=
h.component.scales;for(const M of Md(c)){let la;J=null;for(const sa of h.children){var t=sa.component.scales[M];t&&(la=void 0===la?t.getWithExplicit("domains"):Kf(la,t.getWithExplicit("domains"),"domains","scale",td),t=t.get("selectionExtent"),J&&t&&J.param!==t.param&&Db("The same selection must be used to override scale domains in a layered view."),J=t)}c[M].setWithExplicit("domains",la);J&&c[M].set("selectionExtent",J,!0)}}function tb(h,J,c){return h.map(t=>{t=He(t,{timeUnit:c,type:J});return{signal:"{data: ".concat(t,
"}")}})}function Kb(h,J,c){var t;c=null===(t=ae(c))||void 0===t?void 0:t.unit;return"temporal"===J||c?tb(h,J,c):[h]}function ac(h,J,c,t){var {encoding:M}=c;M=gd(M[t]);const {type:la}=M,sa=M.timeUnit;if(J&&J.unionWith)return t=ac(h,void 0,c,t),J=Kb(J.unionWith,la,sa),te([...t.value,...J]);if(eb(J))return te([J]);if(J&&"unaggregated"!==J&&!Zd(J))return te(Kb(J,la,sa));var Da=c.stack;if(Da&&t===Da.fieldChannel){if("normalize"===Da.offset)return Be([[0,1]]);J=c.requestDataName(zg.Main);return Be([{data:J,
field:c.vgField(t,{suffix:"start"})},{data:J,field:c.vgField(t,{suffix:"end"})}])}Da=Li[t]&&kd(M)?rc(c,t,h):void 0;if(bf(M))return t=Kb([M.datum],la,sa),Be(t);if("unaggregated"===J)return t=c.requestDataName(zg.Main),{field:J}=M,Be([{data:t,field:Ka({field:J,aggregate:"min"})},{data:t,field:Ka({field:J,aggregate:"max"})}]);if(Pa(M.bin)){if(h in Pg)return"bin-ordinal"===h?Be([]):Be([{data:G(Da)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t,Le(M,t)?{binSuffix:"range"}:{}),sort:!0!==
Da&&n.isObject(Da)?Da:{field:c.vgField(t,{}),op:"min"}}]);({bin:J}=M);if(Pa(J)){const db=qi(c,M.field,J);return Be([new ei(()=>{const pb=c.getSignalName(db);return"[".concat(pb,".start, ").concat(pb,".stop]")})])}return Be([{data:c.requestDataName(zg.Main),field:c.vgField(t,{})}])}return M.timeUnit&&d(["time","utc"],h)&&Nd(M,pg(c)?c.encoding[Xa(t)]:void 0,c.markDef,c.config)?(J=c.requestDataName(zg.Main),Be([{data:J,field:c.vgField(t)},{data:J,field:c.vgField(t,{suffix:"end"})}])):Da?Be([{data:G(Da)?
c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t),sort:Da}]):Be([{data:c.requestDataName(zg.Main),field:c.vgField(t)}])}function Qc(h,J){const {op:c,field:t,order:M}=h;return Object.assign({},{op:null!==c&&void 0!==c?c:J?"sum":"min"},t?{field:fa(t)}:{},M?{order:M}:{})}function rc(h,J,c){if(c in Pg){var t=h.fieldDef(J);c=t.sort;if(vc(c))return{op:"min",field:ki(t,J),order:"ascending"};({stack:t}=h);var M=t?[...t.groupbyField?[t.groupbyField]:[],...t.stackBy.map(la=>la.fieldDef.field)]:
void 0;if(Wb(c))return h=t&&!M.includes(c.field),Qc(c,h);if(c&&c.encoding){const {encoding:la,order:sa}=c;h=h.fieldDef(la);const {aggregate:Da,field:db}=h;J=t&&!M.includes(db);if(ea(Da)||ra(Da))return Qc({field:Ka(h),order:sa},J);if(qa(Da)||!Da)return Qc({op:Da,field:db,order:sa},J)}else{if("descending"===c)return{op:"min",field:h.vgField(J),order:"descending"};if(d(["ascending",void 0],c))return!0}}}function wc(h,J){const {aggregate:c,type:t}=h;return c?n.isString(c)&&!fh[c]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(c,
'" since it produces values outside the origin domain of the source data.')}:"quantitative"===t&&"log"===J?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(ng(h),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(ng(h),").")}}function td(h,J,c,t){if(h.explicit&&J.explicit){var M=h.value,la=J.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(ng(M)," and ").concat(ng(la),
"). Using the union of the two domains.");Db(c)}return{explicit:h.explicit,value:[...h.value,...J.value]}}function be(h){var J=p(h.map(M=>Tb(M)?(M=Object.assign({},M),delete M.sort,M):M),l),c=p(h.map(M=>{if(Tb(M))return M=M.sort,void 0===M||G(M)||("op"in M&&"count"===M.op&&delete M.field,"ascending"===M.order&&delete M.order),M}).filter(M=>void 0!==M),l);if(0!==J.length){if(1===J.length){J=h[0];if(Tb(J)&&0<c.length){var t=c[0];1<c.length?(Db("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
t=!0):n.isObject(t)&&"field"in t&&J.field===t.field&&(t=t.order?{order:t.order}:!0);return Object.assign({},J,{sort:t})}return J}c=p(c.map(M=>{if(G(M)||!("op"in M)||n.isString(M.op)&&M.op in mf)return M;Db("Dropping sort property ".concat(ng(M),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),l);1===c.length?t=c[0]:1<c.length&&(Db("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0);c=p(h.map(M=>Tb(M)?M.data:null),
M=>M);return 1===c.length&&null!==c[0]?Object.assign({},{data:c[0],fields:J.map(M=>M.field)},t?{sort:t}:{}):Object.assign({},{fields:J},t?{sort:t}:{})}}function Re(h){if(Tb(h)&&n.isString(h.field))return h.field;var J=n.isArray(h)?!1:"fields"in h&&!("data"in h);if(J){let c;for(const t of h.fields)if(Tb(t)&&n.isString(t.field))if(!c)c=t.field;else if(c!==t.field)return Db("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
c;Db("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return c}J=n.isArray(h)?!1:"fields"in h&&"data"in h;if(J)return Db("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
h=h.fields[0],n.isString(h)?h:void 0}function ef(h,J){J=h.component.scales[J].get("domains").map(c=>{Tb(c)&&(c.data=h.lookupDataSource(c.data));return c});return be(J)}function Ie(h){return Zh(h)||ek(h)?h.children.reduce((J,c)=>J.concat(Ie(c)),cg(h)):cg(h)}function cg(h){return Md(h.component.scales).reduce((J,c)=>{var t=h.component.scales[c];if(t.merged)return J;var M=t.combine(),la=Object.assign({},M);const sa=M.name,Da=M.type;var db=M.selectionExtent;const pb=M.reverse;la=(delete la.name,delete la.type,
delete la.selectionExtent,delete la.domains,delete la.range,delete la.reverse,la);M=M.range;c in Zg?Gb(M)&&(M={step:{signal:"".concat(sa,"_step")}}):n.isObject(M)&&Tb(M)&&(M=Object.assign({},M,{data:h.lookupDataSource(M.data)}));c=ef(h,c);db?(db=jh(h,db.param,db),t={signal:t.get("type")in Jg&&n.isArray(c)&&c[0]>c[1]?"isValid(".concat(db,") \x26\x26 reverse(").concat(db,")"):db}):t=null;J.push(Object.assign({},{name:sa,type:Da},c?{domain:c}:{},t?{domainRaw:t}:{},{range:M},void 0!==pb?{reverse:pb}:
{},la));return J},[])}function Ff(h){return"x"===h?"width":"y"===h?"height":void 0}function bg(h,J){var c=h.fieldDef(J);if(null!==c&&void 0!==c&&c.bin){const {bin:t,field:M}=c;c=Ff(J);const la=h.getName(c);if(n.isObject(t)&&t.binned&&void 0!==t.step)return new ei(()=>{var sa=h.scaleName(J);sa='(domain("'.concat(sa,'")[1] - domain("').concat(sa,'")[0]) / ').concat(t.step);return"".concat(h.getSignalName(la)," / (").concat(sa,")")});if(Pa(t)){const sa=qi(h,M,t);return new ei(()=>{var Da=h.getSignalName(sa);
Da="(".concat(Da,".stop - ").concat(Da,".start) / ").concat(Da,".step");return"".concat(h.getSignalName(la)," / (").concat(Da,")")})}}}function ag(h,J){const c=J.specifiedScales[h];var {size:t}=J,M=J.getScaleComponent(h).get("type");for(var la of on)if(void 0!==c[la]){const db=we(M,la),pb=nf(h,la);if(db)if(pb)Db(pb);else switch(la){case "range":M=c.range;if(n.isArray(M)){if(h in Zg)return te(M.map(Cb=>{if("width"===Cb||"height"===Cb){Cb=J.getName(Cb);const Jb=J.getSignalName.bind(J);return ei.fromName(Jb,
Cb)}return Cb}))}else if(n.isObject(M))return te({data:J.requestDataName(zg.Main),field:M.field,sort:{op:"min",field:J.vgField(h)}});return te(M);case "scheme":return te(qf(c[la]))}else Db(Bb(M,la,h))}if("x"===h||"y"===h)if(la="x"===h?"width":"height",t=t[la],Ud(t)){if(M in Pg)return te({step:t.step});Db(Ub(la))}const {rangeMin:sa,rangeMax:Da}=c;h=fg(h,J);return(void 0!==sa||void 0!==Da)&&we(M,"rangeMin")&&n.isArray(h)&&2===h.length?te([null!==sa&&void 0!==sa?sa:h[0],null!==Da&&void 0!==Da?Da:h[1]]):
Be(h)}function qf(h){return!n.isString(h)&&h.name?Object.assign({},{scheme:h.name},v(h,["name"])):{scheme:h}}function fg(h,J){const {size:c,config:t,mark:M,encoding:la}=J;var sa=J.getSignalName.bind(J),{type:Da}=gd(la[h]);const db=J.getScaleComponent(h).get("type"),{domain:pb,domainMid:Cb}=J.specifiedScales[h];switch(h){case "x":case "y":if(d(["point","band"],db))if("x"===h&&!c.width){if(Da=Wa(t.view,"width"),Ud(Da))return Da}else if("y"===h&&!c.height&&(Da=Wa(t.view,"height"),Ud(Da)))return Da;Da=
Ff(h);Da=J.getName(Da);return"y"===h&&db in Jg?[ei.fromName(sa,Da),0]:[0,ei.fromName(sa,Da)];case "size":return sa=J.component.scales[h].get("zero"),sa=Ng(M,sa,t),Da=Sg(M,c,J,t),db in sj?Sf(sa,Da,Vf(db,t,pb,h)):[sa,Da];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ei(()=>{const Jb=J.getSignalName("width"),mc=J.getSignalName("height");return"min(".concat(Jb,",").concat(mc,")/2")})];case "strokeWidth":return[t.scale.minStrokeWidth,t.scale.maxStrokeWidth];case "strokeDash":return[[1,
0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===db?"nominal"===Da?"category":"ordinal":void 0!==Cb?"diverging":"rect"===M||"geoshape"===M?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[t.scale.minOpacity,t.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(h));}function Vf(h,J,c,t){switch(h){case "quantile":return J.scale.quantileCount;case "quantize":return J.scale.quantizeCount;
case "threshold":if(void 0!==c&&n.isArray(c))return c.length+1;Db("Domain for ".concat(t," is required for threshold scale."));return 3}}function Sf(h,J,c){const t=()=>{const M=dc(J),la=dc(h),sa="(".concat(M," - ").concat(la,") / (").concat(c," - 1)");return"sequence(".concat(la,", ").concat(M," + ").concat(sa,", ").concat(sa,")")};return eb(J)?new ei(t):{signal:t()}}function Ng(h,J,c){if(J)return eb(J)?{signal:"".concat(J.signal," ? 0 : ").concat(Ng(h,!1,c))}:0;switch(h){case "bar":case "tick":return c.scale.minBandSize;
case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(Ac("size",h));}function Sg(h,J,c,t){c={x:bg(c,"x"),y:bg(c,"y")};switch(h){case "bar":case "tick":{if(void 0!==t.scale.maxBandSize)return t.scale.maxBandSize;const M=Vg(J,c,t.view);return n.isNumber(M)?M-1:new ei(()=>"".concat(M.signal," - 1"))}case "line":case "trail":case "rule":return t.scale.maxStrokeWidth;case "text":return t.scale.maxFontSize;
case "point":case "square":case "circle":{if(t.scale.maxSize)return t.scale.maxSize;const M=Vg(J,c,t.view);return n.isNumber(M)?Math.pow(.95*M,2):new ei(()=>"pow(".concat(.95," * ").concat(M.signal,", 2)"))}}throw Error(Ac("size",h));}function Vg(h,J,c){const t=Ud(h.width)?h.width.step:cf(c,"width"),M=Ud(h.height)?h.height.step:cf(c,"height");return J.x||J.y?new ei(()=>"min(".concat([J.x?J.x.signal:t,J.y?J.y.signal:M].join(", "),")")):Math.min(t,M)}function Sh(h,J){if(pg(h)){{const sa=h.component.scales,
{config:Da,encoding:db,markDef:pb,specifiedScales:Cb}=h;for(const Jb of Md(sa)){var c=Cb[Jb];const mc=sa[Jb];var t=h.getScaleComponent(Jb),M=gd(db[Jb]),la=c[J];const hd=t.get("type"),md=t.get("padding");t=t.get("paddingInner");const sd=we(hd,J),yd=nf(Jb,J);void 0!==la&&(sd?yd&&Db(yd):Db(Bb(hd,J,Jb)));if(sd&&void 0===yd)if(void 0!==la)switch(la=M.timeUnit,M=M.type,J){case "domainMax":case "domainMin":Hc(c[J])||"temporal"===M||la?mc.set(J,{signal:He(c[J],{type:M,timeUnit:la})},!0):mc.set(J,c[J],!0);
break;default:mc.copyKeyFromObject(J,c)}else c=J in tm?tm[J]({model:h,channel:Jb,fieldOrDatumDef:M,scaleType:hd,scalePadding:md,scalePaddingInner:t,domain:c.domain,markDef:pb,config:Da}):Da.scale[J],void 0!==c&&mc.set(J,c,!1)}}}else Lj(h,J)}function bi(h){if(pg(h)){{const J=h.component.scales;for(const c of Qk){const t=J[c];if(!t)continue;const M=ag(c,h);t.setWithExplicit("range",M)}}}else Lj(h,"range")}function Lj(h,J){const c=h.component.scales;for(var t of h.children)"range"===J?bi(t):Sh(t,J);
for(const M of Md(c)){let la;for(const sa of h.children)if(t=sa.component.scales[M])t=t.getWithExplicit(J),la=Kf(la,t,J,"scale",wd((Da,db)=>{switch(J){case "range":if(Da.step&&db.step)return Da.step-db.step}return 0}));c[M].setWithExplicit(J,la)}}function kl(h,J){const c=J.bin;if(Pa(c)){const t=qi(h,J.field,c);return new ei(()=>h.getSignalName(t))}if(cb(c)&&n.isObject(c)&&void 0!==c.step)return{step:c.step}}function Tk(h,J,c){switch(J.type){case "nominal":case "ordinal":var t;if($a(h)||"discrete"===
ca(h))return"shape"===h&&"ordinal"===J.type&&Db(nb(h,"ordinal")),"ordinal";if(h in Zg){if(d(["rect","bar","image","rule"],c.type))return"band"}else if("arc"===c.type&&h in Ah)return"band";h=c[Fa(h)];return Yf(h)||Oe(J)&&null!==(t=J.axis)&&void 0!==t&&t.tickBand?"band":"point";case "temporal":if(!$a(h)){if("discrete"===ca(h))return Db(nb(h,"temporal")),"ordinal";if(kd(J)&&J.timeUnit&&ae(J.timeUnit).utc)return"utc"}return"time";case "quantitative":if($a(h)){if(kd(J)&&Pa(J.bin))return"bin-ordinal"}else if("discrete"===
ca(h))return Db(nb(h,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(J.type,'".'));}function Fi(h){if(pg(h))h.component.scales=Ek(h);else{var J=h.component;{const la=h.component.scales={},sa={},Da=h.component.resolve;for(const db of h.children){Fi(db);for(const pb of Md(db.component.scales)){var c,t;null!==(t=(c=Da.scale)[pb])&&void 0!==t?t:c[pb]=Hh(pb,h);if("shared"===Da.scale[pb]){const Cb=sa[pb],Jb=db.component.scales[pb].getWithExplicit("type");
if(Cb){{var M=lk[Cb.value];const mc=lk[Jb.value];M=M===mc||"ordinal-position"===M&&"time"===mc||"ordinal-position"===mc&&"time"===M}M?sa[pb]=Kf(Cb,Jb,"type","scale",pn):(Da.scale[pb]="independent",delete sa[pb])}else sa[pb]=Jb}}}for(const db of Md(sa)){c=h.scaleName(db,!0);la[db]=new um(c,sa[db]);for(const pb of h.children)if(t=pb.component.scales[db])pb.renameScale(t.get("name"),c),t.merged=!0}h=la}J.scales=h}}function Ek(h){const {encoding:J,mark:c,markDef:t}=h;return Qk.reduce((M,la)=>{var sa=
gd(J[la]);if(sa&&c===ha&&"shape"===la&&"geojson"===sa.type)return M;let Da=sa&&sa.scale;if(sa&&null!==Da&&!1!==Da){var db;null!==(db=Da)&&void 0!==db?db:Da={};var pb=Da;db=Tk(la,sa,t);({type:pb}=pb);if(Li[la]){if(void 0!==pb)if(Pe(la,pb)){var Cb;if(Cb=kd(sa))Cb=pb,sa=sa.type,Cb=!(d(["ordinal","nominal"],sa)?void 0===Cb||Cb in Pg:"temporal"===sa?d([Dg.TIME,Dg.UTC,void 0],Cb):"quantitative"===sa?d([Dg.LOG,Dg.POW,Dg.SQRT,Dg.SYMLOG,Dg.QUANTILE,Dg.QUANTIZE,Dg.THRESHOLD,Dg.LINEAR,void 0],Cb):1);Cb?(sa=
db,sa='FieldDef does not work with "'.concat(pb,'" scale. We are using "').concat(sa,'" scale instead.'),Db(sa)):db=pb}else sa=pb,pb=db,sa='Channel "'.concat(la,'" does not work with "').concat(sa,'" scale. We are using "').concat(pb,'" scale instead.'),Db(sa)}else db=null;M[la]=new um(h.scaleName("".concat(la),!0),{value:db,explicit:Da.type===db})}return M},{})}function pg(h){return"unit"===(null===h||void 0===h?void 0:h.type)}function Ph(h){return"facet"===(null===h||void 0===h?void 0:h.type)}function ek(h){return"concat"===
(null===h||void 0===h?void 0:h.type)}function Zh(h){return"layer"===(null===h||void 0===h?void 0:h.type)}function Gi(h){function J(t,M){t instanceof yk&&!(t.isGenerator||"url"in t.data)&&(h.push(M),M={name:null,source:M.name,transform:[]});if(t instanceof Jh)if(t.parent instanceof yk&&!M.source){var la;M.format=Object.assign({},null!==(la=M.format)&&void 0!==la?la:{},{parse:t.assembleFormatParse()});M.transform.push(...t.assembleTransforms(!0))}else M.transform.push(...t.assembleTransforms());if(t instanceof
Xk)M.name||(M.name="data_".concat(c++)),!M.source||0<M.transform.length?(h.push(M),t.data=M.name):t.data=M.source,h.push(...t.assemble());else switch((t instanceof Bl||t instanceof Cl||t instanceof Dl||t instanceof nl||t instanceof ol||t instanceof El||t instanceof gj||t instanceof Fl||t instanceof ml||t instanceof Yk||t instanceof Sl||t instanceof Tl||t instanceof Ul||t instanceof Vl||t instanceof Wl||t instanceof Xl||t instanceof zk||t instanceof Yl||t instanceof Zl)&&M.transform.push(t.assemble()),
(t instanceof vj||t instanceof wj||t instanceof Zk||t instanceof Xj||t instanceof pl)&&M.transform.push(...t.assemble()),t instanceof Ih&&(M.source&&0===M.transform.length?t.setSource(M.source):t.parent instanceof Ih?t.setSource(M.name):(M.name||(M.name="data_".concat(c++)),t.setSource(M.name),1===t.numChildren()&&(h.push(M),M={name:null,source:M.name,transform:[]}))),t.numChildren()){case 0:t instanceof Ih&&(!M.source||0<M.transform.length)&&h.push(M);break;case 1:J(t.children[0],M);break;default:M.name||
(M.name="data_".concat(c++));la=M.name;!M.source||0<M.transform.length?h.push(M):la=M.source;for(const sa of t.children)J(sa,{name:null,source:la,transform:[]})}}let c=0;return J}function bh(h){const J=[],c=Gi(J);for(const t of h.children)c(t,{source:h.name,name:null,transform:[]});return J}function sh(h,J){const c=[];var t=Gi(c);let M=0;for(const Da of h.sources){Da.hasName()||(Da.dataName="source_".concat(M++));const db=Da.assemble();t(Da,db)}for(const Da of c)0===Da.transform.length&&delete Da.transform;
t=0;for(const Da of c.entries()){const [db,pb]=Da;var la;0!==(null!==(la=pb.transform)&&void 0!==la?la:[]).length||pb.source||c.splice(t++,0,c.splice(db,1)[0])}for(const Da of c)for(const db of null!==(sa=Da.transform)&&void 0!==sa?sa:[]){var sa;"lookup"===db.type&&(db.from=h.outputNodes[db.from].getSource())}for(const Da of c)Da.name in J&&(Da.values=J[Da.name]);return c}function Xi(h,J,c){J="row"===J?"height":"width";return{labels:c,sizeSignal:h.child.component.layoutSize.get(J)?h.child.getSizeSignalRef(J):
void 0,axes:[]}}function Lk(h,J){var {child:c}=h;if(c.component.axes[J]){const {layoutHeaders:M,resolve:la}=h.component;la.axis[J]=di(la,J);if("shared"===la.axis[J]){const sa="x"===J?"column":"row",Da=M[sa];for(const db of c.component.axes[J]){var t;J=db.get("orient");J="top"===J||"left"===J||eb(J)?"header":"footer";null!==(t=Da[J])&&void 0!==t?t:Da[J]=[Xi(h,sa,!1)];(c=Wh(db,"main",h.config,{header:!0}))&&Da[J][0].axes.push(c);db.mainExtracted=!0}}}}function Mi(h){for(const J of h.children)J.parseLayoutSize()}
function Gk(h,J){const c=Uh(J),t=V(c),M=h.component.resolve,la=h.component.layoutSize;let sa;for(const db of h.children){var Da;const pb=db.component.layoutSize.getWithExplicit(c),Cb=null!==(Da=M.scale[t])&&void 0!==Da?Da:Hh(t,h);if("independent"===Cb&&"step"===pb.value){sa=void 0;break}if(sa){if("independent"===Cb&&sa.value!==pb.value){sa=void 0;break}sa=Kf(sa,pb,c,"")}else sa=pb}if(sa){for(const db of h.children)h.renameSignal(db.getName(c),h.getName(J)),db.component.layoutSize.set(c,"merged",!1);
la.setWithExplicit(J,sa)}else la.setWithExplicit(J,{explicit:!1,value:void 0})}function $k(h,J){const c=h.config;var t=h.getScaleComponent("width"===J?"x":"y");if(t)return h=t.get("type"),t=t.get("range"),h in Pg?(J=Wa(c.view,J),Gb(t)||Ud(J)?"step":J):jd(c.view,J);if(h.hasProjection||"arc"===h.mark)return jd(c.view,J);J=Wa(c.view,J);return Ud(J)?J.step:J}function fk(h,J,c){return Ka(J,Object.assign({},{suffix:"by_".concat(Ka(h))},null!==c&&void 0!==c?c:{}))}function wl(h,J){for(const Da of J){var c,
t,M,la;J=Da.data;if(h.name&&Da.hasName()&&h.name!==Da.dataName)continue;const db=null===(c=h.format)||void 0===c?void 0:c.mesh;var sa=null===(t=J.format)||void 0===t?void 0:t.feature;if(db&&sa)continue;const pb=null===(M=h.format)||void 0===M?void 0:M.feature;if(!pb&&!sa||pb===sa)if(sa=null===(la=J.format)||void 0===la?void 0:la.mesh,!db&&!sa||db===sa)if("values"in h&&"values"in J){if(Bh(h.values,J.values))return Da}else if("url"in h&&"url"in J){if(h.url===J.url)return Da}else if(jf(h)&&h.name===
Da.dataName)return Da}return null}function yl(h,J){if(h.data||!h.parent){if(null===h.data)return h=new yk({values:[]}),J.push(h),h;const c=wl(h.data,J);if(c)return Cf(h.data)||(c.data.format=e({},h.data.format,c.data.format)),!c.hasName()&&h.data.name&&(c.dataName=h.data.name),c;h=new yk(h.data);J.push(h);return h}return h.parent.component.data.facetRoot?h.parent.component.data.facetRoot:h.parent.component.data.main}function Tj(h){var J,c,t,M=yl(h,h.component.data.sources);const {outputNodes:la,outputNodeRefCounts:sa}=
h.component.data,Da=h.parent?h.parent.component.data.ancestorParse.clone():new qn,db=h.data;Cf(db)?("sequence"in db?M=new Cl(M,db.sequence):"graticule"in db&&(M=new Bl(M,db.graticule)),Da.parseNothing=!0):null===(null===db||void 0===db?void 0:null===(J=db.format)||void 0===J?void 0:J.parse)&&(Da.parseNothing=!0);M=null!==(c=Jh.makeExplicit(M,h,Da))&&void 0!==c?c:M;M=new zk(M);J=h.parent&&Zh(h.parent);if((pg(h)||Ph(h))&&J){var pb;M=null!==(pb=vj.makeFromEncoding(M,h))&&void 0!==pb?pb:M}if(0<h.transforms.length){pb=
0;for(const qe of h.transforms){var Cb=c=void 0;if("calculate"in qe)Cb=M=new ol(M,qe),c="derived";else if("filter"in qe){var Jb;Cb=Yg(qe);Cb=M=null!==(Jb=Jh.makeWithAncestors(M,{},Cb,Da))&&void 0!==Jb?Jb:M;M=new nl(M,h,qe.filter)}else if("bin"in qe)Cb=M=vj.makeFromTransform(M,qe,h),c="number";else if("timeUnit"in qe)c="date",void 0===Da.getWithExplicit(qe.field).value&&(M=new Jh(M,{[qe.field]:c}),Da.set(qe.field,c,!1)),Cb=M=wj.makeFromTransform(M,qe);else if("aggregate"in qe)Cb=M=gj.makeFromTransform(M,
qe),c="number",Ji(h)&&(M=new zk(M));else if("lookup"in qe)Cb=M=Fl.make(M,h,qe,pb++),c="derived";else if("window"in qe)Cb=M=new ml(M,qe),c="number";else if("joinaggregate"in qe)Cb=M=new Yk(M,qe),c="number";else if("stack"in qe)Cb=M=Xj.makeFromTransform(M,qe),c="derived";else if("fold"in qe)Cb=M=new Sl(M,qe),c="derived";else if("flatten"in qe)Cb=M=new Tl(M,qe),c="derived";else if("pivot"in qe)Cb=M=new Zl(M,qe),c="derived";else if("sample"in qe)M=new Yl(M,qe);else if("impute"in qe)Cb=M=Zk.makeFromTransform(M,
qe),c="derived";else if("density"in qe)Cb=M=new Ul(M,qe),c="derived";else if("quantile"in qe)Cb=M=new Wl(M,qe),c="derived";else if("regression"in qe)Cb=M=new Xl(M,qe),c="derived";else if("loess"in qe)Cb=M=new Vl(M,qe),c="derived";else{Db("Ignoring an invalid transform: ".concat(ng(qe),"."));continue}if(Cb&&void 0!==c)for(const Lf of null!==(mc=Cb.producedFields())&&void 0!==mc?mc:[]){var mc;Da.set(Lf,c,!1)}}}Jb={};if(pg(h)&&h.component.selection)for(md of Md(h.component.selection)){mc=h.component.selection[md];
for(var hd of mc.project.items)!hd.channel&&1<Q(hd.field)&&(Jb[hd.field]="flatten")}var md=Jb;hd=dg(h);M=null!==(t=Jh.makeWithAncestors(M,{},Object.assign({},md,hd),Da))&&void 0!==t?t:M;pg(h)&&(M=pl.parseAll(M,h),M=El.parseAll(M,h));if(pg(h)||Ph(h)){var sd;if(!J){var yd;M=null!==(yd=vj.makeFromEncoding(M,h))&&void 0!==yd?yd:M}M=null!==(sd=wj.makeFromEncoding(M,h))&&void 0!==sd?sd:M;M=ol.parseAllForSortIndex(M,h)}sd=h.getDataName(zg.Raw);t=new Ih(M,sd,zg.Raw,sa);M=la[sd]=t;if(pg(h)){var Ad,ue;if(sd=
gj.makeFromEncoding(M,h))M=sd,Ji(h)&&(M=new zk(M));M=null!==(Ad=Zk.makeFromEncoding(M,h))&&void 0!==Ad?Ad:M;M=null!==(ue=Xj.makeFromEncoding(M,h))&&void 0!==ue?ue:M}if(pg(h)){var Fe;M=null!==(Fe=Dl.make(M,h))&&void 0!==Fe?Fe:M}ue=h.getDataName(zg.Main);Ad=new Ih(M,ue,zg.Main,sa);M=la[ue]=Ad;if(pg(h))for(var ke of Qh(null!==(df=h.component.selection)&&void 0!==df?df:{})){const [qe,Lf]=ke;var df;df=h.getName("lookup_".concat(qe));h.component.data.outputNodes[df]=Lf.materialized=new Ih(new nl(Ad,h,{param:qe}),
df,zg.Lookup,h.component.data.outputNodeRefCounts)}df=null;if(Ph(h)){var Ye;ke=h.getName("facet");{df=M;const {row:qe,column:Lf}=h.facet;if(qe&&Lf){ue=null;for(hg of[qe,Lf])if(Wb(hg.sort)){const {field:ig,op:Bg="min"}=hg.sort;df=ue=new Yk(df,{joinaggregate:[{op:Bg,field:ig,as:fk(hg,hg.sort,{forAs:!0})}],groupby:[Ka(hg)]})}var hg=ue}else hg=null}M=null!==(Ye=hg)&&void 0!==Ye?Ye:M;df=new Xk(M,h,ke,Ad.getSource());la[ke]=df}return Object.assign({},h.component.data,{outputNodes:la,outputNodeRefCounts:sa,
raw:t,main:Ad,facetRoot:df,ancestorParse:Da})}function Ll(h){return ti.reduce((J,c)=>{h.component.scales[c]&&(J[c]=[sl(c,h)]);return J},{})}function Fk(h,J){if(h){if(h.length!==J.length)return;const c=h.length;for(let t=0;t<c;t++){const M=h[t],la=J[t];if(!!M!==!!la)return;if(M&&la){const sa=M.getWithExplicit("orient"),Da=la.getWithExplicit("orient");if(sa.explicit&&Da.explicit&&sa.value!==Da.value)return;h[t]=ql(M,la)}}}else return J.map(c=>c.clone());return h}function ql(h,J){for(const c of vm){const t=
Kf(h.getWithExplicit(c),J.getWithExplicit(c),c,"axis",(M,la)=>{switch(c){case "title":return vd(M,la);case "gridScale":return{explicit:M.explicit,value:q(M.value,la.value)}}return We(M,la,c,"axis")});h.setWithExplicit(c,t)}return h}function rl(h,J,c,t,M){if("disable"===J)return void 0!==c;c=c||{};switch(J){case "titleAngle":case "labelAngle":return h===(eb(c.labelAngle)?c.labelAngle:wa(c.labelAngle));case "values":return!!c.values;case "encode":return!!c.encoding||!!c.labelAngle;case "title":if(h===
li(t,M))return!0}return h===c[J]}function sl(h,J){var c,t,M,la,sa;let Da=J.axis(h);const db=new wm;var pb=gd(J.encoding[h]);const {mark:Cb,config:Jb}=J;var mc=(null===(c=Da)||void 0===c?void 0:c.orient)||(null===(t=Jb["x"===h?"axisX":"axisY"])||void 0===t?void 0:t.orient)||(null===(M=Jb.axis)||void 0===M?void 0:M.orient)||("x"===h?"bottom":"left");t=J.getScaleComponent(h).get("type");c=xh(h,t,mc,J.config);M=void 0!==Da?!Da:Bi("disable",Jb.style,null===(la=Da)||void 0===la?void 0:la.style,c).configValue;
db.set("disable",M,void 0!==Da);if(M)return db;Da=Da||{};la=yh(pb,Da,h,Jb.style,c);pb={fieldOrDatumDef:pb,axis:Da,channel:h,model:J,scaleType:t,orient:mc,labelAngle:la,mark:Cb,config:Jb};for(const md of vm)if(mc=md in xm?xm[md](pb):cd[md]?Da[md]:void 0,la=void 0!==mc,t=rl(mc,md,Da,J,h),la&&t)db.set(md,mc,t);else{const {configValue:sd,configFrom:yd}=cd[md]&&"values"!==md?Bi(md,Jb.style,Da.style,c):{};M=void 0!==sd;la&&!M?db.set(md,mc,t):("vgAxisConfig"!==yd||rn.has(md)&&M||Of(sd)||eb(sd))&&db.set(md,
sd,!1)}const hd=null!==(sa=Da.encoding)&&void 0!==sa?sa:{};sa=Ke.reduce((md,sd)=>{var yd;if(!db.hasAxisPart(sd))return md;var Ad=dk(null!==(yd=hd[sd])&&void 0!==yd?yd:{},J);if("labels"===sd){{var ue;const {encoding:Fe,config:ke}=J;yd=null!==(ue=gd(Fe[h]))&&void 0!==ue?ue:gd(Fe[Xa(h)]);ue=J.axis(h)||{};const {format:df,formatType:Ye}=ue;Ad=Hf(Ye)?Object.assign({},{text:Ae({fieldOrDatumDef:yd,field:"datum.value",format:df,formatType:Ye,config:ke})},Ad):Ad}}void 0===Ad||L(Ad)||(md[sd]={update:Ad});return md},
{});L(sa)||db.set("encode",sa,!!Da.encoding||void 0!==Da.labelAngle);return db}function tl(h){var {encoding:J,size:c}=h;for(const t of ti)h=Fa(t),Ud(c[h])&&ee(J[t])&&(delete c[h],Db(Ub(h)));return c}function el(h,J,c){h=oa(h);var t=Cc("orient",h,c);h.orient=Hi(h.type,J,t);void 0!==t&&t!==h.orient&&(t='Specified orient "'.concat(h.orient,'" overridden with "').concat(t,'".'),Db(t));if("bar"===h.type&&h.orient&&(t=Cc("cornerRadiusEnd",h,c),void 0!==t)){const la="horizontal"===h.orient&&J.x2||"vertical"===
h.orient&&J.y2?["cornerRadius"]:ec[h.orient];for(var M of la)h[M]=t;void 0!==h.cornerRadiusEnd&&delete h.cornerRadiusEnd}void 0===Cc("opacity",h,c)&&(M=d([Bk,ll,u,I],h.type)&&!Bf(J)?.7:void 0,h.opacity=M);void 0===Cc("cursor",h,c)&&(J=J.href||h.href||Cc("href",h,c)?"pointer":h.cursor,h.cursor=J);return h}function Ql(h,J,c){({graticule:c}=c);if(c)return!1;J=nc("filled",h,J);h=h.type;return q(J,h!==Bk&&h!==ck&&h!==Uk)}function Hi(h,J,c){switch(h){case Bk:case u:case I:case Uj:case Jl:case Kl:return}const {x:t,
y:M,x2:la,y2:sa}=J;switch(h){case Rk:if(kd(t)&&(cb(t.bin)||kd(M)&&M.aggregate&&!t.aggregate))break;if(kd(M)&&(cb(M.bin)||kd(t)&&t.aggregate&&!M.aggregate))return"horizontal";if(sa||la){if(c)return c;if(!la&&(kd(t)&&"quantitative"===t.type&&!Pa(t.bin)||Ve(t)))return"horizontal";if(!sa&&(kd(M)&&"quantitative"===M.type&&!Pa(M.bin)||Ve(M)))break}case Uk:if(!(!la||kd(t)&&cb(t.bin)||!sa||kd(M)&&cb(M.bin)))return;case rj:if(sa){if(kd(M)&&cb(M.bin))return"horizontal";break}else if(la)if(kd(t)&&cb(t.bin))break;
else return"horizontal";else if(h===Uk)if(t&&!M)break;else if(M&&!t)return"horizontal";case ck:case ll:{J=ee(t);const Da=ee(M);if(c)return c;if(J&&!Da)return"tick"!==h?"horizontal":"vertical";if(!J&&Da)return"tick"!==h?"vertical":"horizontal";if(J&&Da){c="temporal"===t.type;J="temporal"===M.type;if(c&&!J)return"tick"!==h?"vertical":"horizontal";if(!c&&J)return"tick"!==h?"horizontal":"vertical";if(!t.aggregate&&M.aggregate)return"tick"!==h?"vertical":"horizontal";if(t.aggregate&&!M.aggregate)return"tick"!==
h?"horizontal":"vertical"}else return}}return"vertical"}function Dj(h,J){return Object.assign({},ah(h,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Lg("x",h,{defaultPos:"mid"}),Lg("y",h,{defaultPos:"mid"}),Kg("size",h),Kg("angle",h),J?{shape:{value:J}}:Kg("shape",h))}function al(h,J,c){if(void 0===Cc("align",h,c))return"center"}function zl(h,J,c){if(void 0===Cc("baseline",h,c))return"middle"}function gh(h){var J;const {config:c,markDef:t}=h;var {orient:M}=
t;const la="horizontal"===M?"width":"height";h=h.getScaleComponent("horizontal"===M?"x":"y");M=null!==(J=Cc("size",t,c,{vgChannel:la}))&&void 0!==J?J:c.tick.bandSize;return void 0!==M?M:(J=h?h.get("range"):void 0)&&Gb(J)&&n.isNumber(J.step)?3*J.step/4:3*cf(c.view,la)/4}function Pl(h){if(d([ck,rj,Vk],h.mark)){var J=gb(h.mark,h.encoding);if(0<J.length)return Hk(h,J)}else if(h.mark===Rk&&(J=Qg.some(c=>Cc(c,h.markDef,h.config)),h.stack&&!h.fieldDef("size")&&J))return Ej(h);return Yi(h)}function Hk(h,
J){return[{name:h.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+h.requestDataName(zg.Main),data:h.requestDataName(zg.Main),groupby:J}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Yi(h,{fromPrefix:"faceted_path_"})}]}function Ej(h){const [J]=Yi(h,{fromPrefix:"stack_group_"}),c=h.scaleName(h.stack.fieldChannel),t=db=>{db=void 0===db?{}:db;return h.vgField(h.stack.fieldChannel,db)};var M=(db,pb)=>{pb=[t({prefix:"min",suffix:"start",expr:pb}),
t({prefix:"max",suffix:"start",expr:pb}),t({prefix:"min",suffix:"end",expr:pb}),t({prefix:"max",suffix:"end",expr:pb})];return"".concat(db,"(").concat(pb.map(Cb=>"scale('".concat(c,"',").concat(Cb,")")).join(","),")")};let la;"x"===h.stack.fieldChannel?(M=Object.assign({},y(J.encode.update,["y","yc","y2","height",...Qg]),{x:{signal:M("min","datum")},x2:{signal:M("max","datum")},clip:{value:!0}}),la={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},J.encode.update=Object.assign({},v(J.encode.update,
["y","yc","y2"]),{height:{field:{group:"height"}}})):(M=Object.assign({},y(J.encode.update,["x","xc","x2","width"]),{y:{signal:M("min","datum")},y2:{signal:M("max","datum")},clip:{value:!0}}),la={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},J.encode.update=Object.assign({},v(J.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var sa of Qg){var Da=nc(sa,h.markDef,h.config);J.encode.update[sa]?(M[sa]=J.encode.update[sa],delete J.encode.update[sa]):Da&&(M[sa]=Fc(Da));
Da&&(J.encode.update[sa]={value:0})}sa=[];if(h.stack.groupbyChannel){Da=h.fieldDef(h.stack.groupbyChannel);const db=Ka(Da);db&&sa.push(db);(null!==Da&&void 0!==Da&&Da.bin||null!==Da&&void 0!==Da&&Da.timeUnit)&&sa.push(Ka(Da,{binSuffix:"end"}))}M="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((db,pb)=>{if(J.encode.update[pb])return Object.assign({},db,{[pb]:J.encode.update[pb]});{const Cb=nc(pb,h.markDef,h.config);return void 0!==
Cb?Object.assign({},db,{[pb]:Fc(Cb)}):db}},M);M.stroke&&(M.strokeForeground={value:!0},M.strokeOffset={value:0});return[{type:"group",from:{facet:{data:h.requestDataName(zg.Main),name:"stack_group_"+h.requestDataName(zg.Main),groupby:sa,aggregate:{fields:[t({suffix:"start"}),t({suffix:"start"}),t({suffix:"end"}),t({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:M},marks:[{type:"group",encode:{update:la},marks:[J]}]}]}function Zi(h){const {encoding:J,stack:c,mark:t,markDef:M,config:la}=
h;var sa=J.order;if(!(!n.isArray(sa)&&zf(sa)&&k(sa.value)||!sa&&k(Cc("order",M,la)))){if((n.isArray(sa)||kd(sa))&&!c)return Kc(sa,{expr:"datum"});if(Qd(t)){const Da="horizontal"===M.orient?"y":"x",db=J[Da];if(kd(db)){sa=db.sort;if(n.isArray(sa))return{field:Ka(db,{prefix:Da,suffix:"sort_index",expr:"datum"})};if(Wb(sa))return{field:Ka({aggregate:Bf(h.encoding)?sa.op:void 0,field:sa.field},{expr:"datum"})};if(sa&&sa.encoding)return h=h.fieldDef(sa.encoding),{field:Ka(h,{expr:"datum"}),order:sa.order};
if(null!==sa)return{field:Ka(db,{binSuffix:h.stack&&h.stack.impute?"mid":void 0,expr:"datum"})}}}}}function Yi(h,J){J=void 0===J?{fromPrefix:""}:J;const {mark:c,markDef:t,encoding:M,config:la}=h;var sa=t.clip;var Da=h.getScaleComponent("x");var db=h.getScaleComponent("y");Da=Da&&Da.get("selectionExtent")||db&&db.get("selectionExtent")?!0:void 0;db=(db=h.component.projection)&&!db.isFit?!0:void 0;sa=q(sa,Da,db);Da=pc(t);db=M.key;const pb=Zi(h);var Cb;if(h.component.selection){for(var Jb=Cb=Md(h.component.selection).length,
mc=h.parent;mc&&0===Jb;)Jb=Md(mc.component.selection).length,mc=mc.parent;Cb=Jb?{interactive:0<Cb||!!h.encoding.tooltip}:null}else Cb=null;Jb=Cc("aria",t,la);mc=Gl[c].postEncodingTransform?Gl[c].postEncodingTransform(h):null;return[Object.assign({},{name:h.getName("marks"),type:Gl[c].vgMark},sa?{clip:!0}:{},Da?{style:Da}:{},db?{key:db.field}:{},pb?{sort:pb}:{},Cb?Cb:{},!1===Jb?{aria:Jb}:{},{from:{data:J.fromPrefix+h.requestDataName(zg.Main)},encode:{update:Gl[c].encodeEntry(h)}},mc?{transform:mc}:
{})]}function ri(h,J,c,t,M){if("facet"in h)return new Hl(h,J,c,M);if("layer"in h)return new ym(h,J,c,t,M);if(Te(h))return new zm(h,J,c,t,M);if("vconcat"in h||"hconcat"in h||"concat"in h)return new sn(h,J,c,M);throw Error(Pb(h));}function ul(h,J,c,t){c=void 0===c?{}:c;const M=h.config?Lc(h.config):void 0;c=[].concat(h.assembleSelectionData([]),sh(h.component.data,c));const la=h.assembleProjections(),sa=h.assembleTitle(),Da=h.assembleGroupStyle(),db=h.assembleGroupEncodeEntry(!0);let pb=h.assembleLayoutSignals();
pb=pb.filter(mc=>"width"!==mc.name&&"height"!==mc.name||void 0===mc.value?!0:(J[mc.name]=+mc.value,!1));var Cb=Object.assign({},J);const Jb=J.params;Cb=(delete Cb.params,Cb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},h.description?{description:h.description}:{},Cb,sa?{title:sa}:{},Da?{style:Da}:{},db?{encode:{update:db}}:{},{data:c},0<la.length?{projections:la}:{},h.assembleGroup([...pb,...h.assembleSelectionTopLevelSignals([]),...Yc(Jb)]),M?{config:M}:{},t?{usermeta:t}:
{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function c(J){var t=isNaN(J)?1:Number(J);return t?Array.prototype.reduce.call(this,function(M,la){return Array.isArray(la)?M.push.apply(M,c.call(la,t-1)):M.push(la),M},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(J){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Gj=function(J,
c){c||(c={});"function"===typeof c&&(c={cmp:c});var t="boolean"===typeof c.cycles?c.cycles:!1,M=c.cmp&&function(sa){return function(Da){return function(db,pb){return sa({key:db,value:Da[db]},{key:pb,value:Da[pb]})}}}(c.cmp),la=[];return function db(Da){Da&&Da.toJSON&&"function"===typeof Da.toJSON&&(Da=Da.toJSON());if(void 0!==Da){if("number"==typeof Da)return isFinite(Da)?""+Da:"null";if("object"!==typeof Da)return JSON.stringify(Da);var pb;if(Array.isArray(Da)){var Cb="[";for(pb=0;pb<Da.length;pb++)pb&&
(Cb+=","),Cb+=db(Da[pb])||"null";return Cb+"]"}if(null===Da)return"null";if(-1!==la.indexOf(Da)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Jb=la.push(Da)-1,mc=Object.keys(Da).sort(M&&M(Da));Cb="";for(pb=0;pb<mc.length;pb++){var hd=mc[pb],md=db(Da[hd]);md&&(Cb&&(Cb+=","),Cb+=JSON.stringify(hd)+":"+md)}la.splice(Jb,1);return"{"+Cb+"}"}}(J)};const Bh=function M(c,t){if(c===t)return!0;if(c&&t&&"object"==typeof c&&"object"==typeof t){if(c.constructor!==
t.constructor)return!1;var la;if(Array.isArray(c)){var sa=c.length;if(sa!=t.length)return!1;for(la=sa;0!==la--;)if(!M(c[la],t[la]))return!1;return!0}if(c.constructor===RegExp)return c.source===t.source&&c.flags===t.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===t.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===t.toString();var Da=Object.keys(c);sa=Da.length;if(sa!==Object.keys(t).length)return!1;for(la=sa;0!==la--;)if(!Object.prototype.hasOwnProperty.call(t,
Da[la]))return!1;for(la=sa;0!==la--;)if(sa=Da[la],!M(c[sa],t[sa]))return!1;return!0}return c!==c&&t!==t},pf=function(c){var t={exports:{}};return c(t,t.exports),t.exports}(function(c){var t=function(){function M(Jb,mc){return null!=mc&&Jb instanceof mc}function la(Jb,mc,hd,md,sd){function yd(ke,df){if(null===ke)return null;if(0===df||"object"!=typeof ke)return ke;if(M(ke,db))var Ye=new db;else if(M(ke,pb))Ye=new pb;else if(M(ke,Cb))Ye=new Cb(function(Bg,$f){ke.then(function(kg){Bg(yd(kg,df-1))},function(kg){$f(yd(kg,
df-1))})});else if(la.__isArray(ke))Ye=[];else if(la.__isRegExp(ke))Ye=new RegExp(ke.source,Da(ke)),ke.lastIndex&&(Ye.lastIndex=ke.lastIndex);else if(la.__isDate(ke))Ye=new Date(ke.getTime());else{if(Fe&&g.isBuffer(ke))return Ye=g.allocUnsafe?g.allocUnsafe(ke.length):new g(ke.length),ke.copy(Ye),Ye;if(M(ke,Error))Ye=Object.create(ke);else if("undefined"==typeof md){var hg=Object.getPrototypeOf(ke);Ye=Object.create(hg)}else Ye=Object.create(md),hg=md}if(mc){var qe=Ad.indexOf(ke);if(-1!=qe)return ue[qe];
Ad.push(ke);ue.push(Ye)}M(ke,db)&&ke.forEach(function(Bg,$f){$f=yd($f,df-1);Bg=yd(Bg,df-1);Ye.set($f,Bg)});M(ke,pb)&&ke.forEach(function(Bg){Bg=yd(Bg,df-1);Ye.add(Bg)});for(var Lf in ke){var ig;hg&&(ig=Object.getOwnPropertyDescriptor(hg,Lf));ig&&null==ig.set||(Ye[Lf]=yd(ke[Lf],df-1))}if(Object.getOwnPropertySymbols)for(qe=Object.getOwnPropertySymbols(ke),Lf=0;Lf<qe.length;Lf++)if(ig=qe[Lf],hg=Object.getOwnPropertyDescriptor(ke,ig),!hg||hg.enumerable||sd)Ye[ig]=yd(ke[ig],df-1),hg.enumerable||Object.defineProperty(Ye,
ig,{enumerable:!1});if(sd)for(qe=Object.getOwnPropertyNames(ke),Lf=0;Lf<qe.length;Lf++)ig=qe[Lf],hg=Object.getOwnPropertyDescriptor(ke,ig),hg&&hg.enumerable||(Ye[ig]=yd(ke[ig],df-1),Object.defineProperty(Ye,ig,{enumerable:!1}));return Ye}"object"===typeof mc&&(hd=mc.depth,md=mc.prototype,sd=mc.includeNonEnumerable,mc=mc.circular);var Ad=[],ue=[],Fe="undefined"!=typeof g;"undefined"==typeof mc&&(mc=!0);"undefined"==typeof hd&&(hd=Infinity);return yd(Jb,hd)}function sa(Jb){return Object.prototype.toString.call(Jb)}
function Da(Jb){var mc="";Jb.global&&(mc+="g");Jb.ignoreCase&&(mc+="i");Jb.multiline&&(mc+="m");return mc}try{var db=Map}catch(Jb){db=function(){}}try{var pb=Set}catch(Jb){pb=function(){}}try{var Cb=Promise}catch(Jb){Cb=function(){}}la.clonePrototype=function(Jb){if(null===Jb)return null;var mc=function(){};mc.prototype=Jb;return new mc};la.__objToStr=sa;la.__isDate=function(Jb){return"object"===typeof Jb&&"[object Date]"===sa(Jb)};la.__isArray=function(Jb){return"object"===typeof Jb&&"[object Array]"===
sa(Jb)};la.__isRegExp=function(Jb){return"object"===typeof Jb&&"[object RegExp]"===sa(Jb)};la.__getRegExpFlags=Da;return la}();c.exports&&(c.exports=t)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(c=>Gj(c)).join(","),")")};const ng=Gj,Md=Object.keys,wg=Object.values,Qh=Object.entries;let Hj=42;const xg={theta:1,theta2:1,radius:1,radius2:1},Dh={longitude:1,longitude2:1,latitude:1,latitude2:1},si=Md(Dh),Ch=Object.assign({},{x:1,y:1,x2:1,y2:1},xg,Dh,{color:1,fill:1,stroke:1,opacity:1,
fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nj={row:1,column:1,facet:1},ch=Md(nj),mh=Object.assign({},Ch,nj),ik=Md(mh);var lg=Object.assign({},mh),dh=(delete lg.order,delete lg.detail,delete lg.tooltip,lg),Og=Object.assign({},dh);const Ik=(delete Og.row,delete Og.column,delete Og.facet,Og),jk="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var eh=Object.assign({},Ch);const bl=(delete eh.x,
delete eh.y,delete eh.x2,delete eh.y2,delete eh.latitude,delete eh.longitude,delete eh.latitude2,delete eh.longitude2,delete eh.theta,delete eh.theta2,delete eh.radius,delete eh.radius2,eh),Nl=Md(bl),Zg={x:1,y:1},ti=Md(Zg),Ah={theta:1,radius:1},Jk=Md(Ah);var Ki=Object.assign({},bl);const cl=(delete Ki.text,delete Ki.tooltip,delete Ki.href,delete Ki.url,delete Ki.description,delete Ki.detail,delete Ki.key,delete Ki.order,Ki),Ol=Md(cl),Li=Object.assign({},Zg,Ah,cl),Qk=Md(Li),vl={arc:"always",area:"always",
bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var xl=Object.assign({},vl);const Ok=(delete xl.geoshape,xl),gl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},mf={count:1,min:1,max:1},lh=["count","valid","missing","distinct"],
Rg=["count","sum","distinct","valid","missing"],fh=n.toSet("mean average median q1 q3 min max".split(" ")),qj=Md({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,
limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),fl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Qg=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],nk=n.logger(n.Warn);
let Oi=nk;const Fj="january february march april may june july august september october november december".split(" "),Jj=Fj.map(c=>c.substr(0,3)),Pk="sunday monday tuesday wednesday thursday friday saturday".split(" "),dl=Pk.map(c=>c.substr(0,3)),Mk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},kk=Md(Mk),ze={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Dg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",
SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},lk={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ai={linear:0,
log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ri="linear log pow sqrt symlog time utc".split(" "),oh=n.toSet(Ri),ok=n.toSet(["linear","log","pow","sqrt","symlog"]),sj=n.toSet(["quantile","quantize","threshold"]),hl=Ri.concat(["quantile","quantize","threshold","sequential","identity"]),Jg=n.toSet(hl),Pg=n.toSet(["ordinal","bin-ordinal","point","band"]);var Pi=Object.assign({},{type:1,domain:1,domainMax:1,
domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Nk=(delete Pi.type,delete Pi.domain,delete Pi.range,delete Pi.rangeMax,delete Pi.rangeMin,delete Pi.scheme,Pi),Ni=Md(Nk),Tg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},
Mj=Tg.arc,rj=Tg.area,Rk=Tg.bar,Kl=Tg.image,ck=Tg.line,Bk=Tg.point,Jl=Tg.rect,Uk=Tg.rule,Uj=Tg.text,ll=Tg.tick,Vk=Tg.trail,u=Tg.circle,I=Tg.square,ha=Tg.geoshape,Ra=Md(Tg);n.toSet(Ra);const jb="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),yb=Md({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Ob=Md({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,
text:1,tick:1,trail:1,geoshape:1}),ec={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Gc={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},rd=(c,t)=>{switch(t.fieldTitle){case "plain":return c.field;case "functional":{const {aggregate:M,bin:la,timeUnit:sa,field:Da}=c;ra(M)?c="".concat(Da," for argmax(").concat(M.argmax,")"):ea(M)?c="".concat(Da," for argmin(").concat(M.argmin,
")"):(c=ae(sa),c=(c=M||(null===c||void 0===c?void 0:c.unit)||(null===c||void 0===c?void 0:c.maxbins)&&"timeunit"||Pa(la)&&"bin")?"".concat(c.toUpperCase(),"(").concat(Da,")"):Da)}return c;default:return Xb(c,t)}};let oe=rd;const $e={compatible:!0},Jd={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",
vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},
tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Ke=["domain","grid","labels","ticks","title"],kf={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",
formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",
tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",
translate:"both",values:"both",zindex:"both"},af={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,
labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,
translate:1,values:1,zindex:1},cd=Object.assign({},af,{style:1,labelExpr:1,encoding:1}),Mc=Md({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class Xc{constructor(c,t){this.name=c;this.run=t}hasMatchingType(c){return Te(c)?(c=c.mark,(Qe(c)?c.type:c)===
this.name):!1}}const Dd=new Xc("boxplot",Y),Id=new Xc("errorbar",Qa),rf=new Xc("errorband",Yb),Ee={};oc("boxplot",Y,["box","median","outliers","rule","ticks"]);oc("errorbar",Qa,["ticks","rule"]);oc("errorband",Yb,["band","borders"]);const sf=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Gf={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",
titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},wf={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},aj=Md(Gf),Ml=Md(wf),km=Md({header:1,
headerRow:1,headerColumn:1,headerFacet:1}),nm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Fm=["background","padding"],Gm=Md({align:1,bounds:1,center:1,columns:1,spacing:1}),Hm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},
line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,
maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},xj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),jm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},im={blue:xj[0],orange:xj[1],red:xj[2],teal:xj[3],green:xj[4],yellow:xj[5],purple:xj[6],pink:xj[7],brown:xj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Im=[...Ob,...Mc,...km,"background","padding","legend","lineBreak","scale","style","title","view"],Km=["view",...Ra],Jm="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Lm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class $l{map(c,t){return"facet"in c?this.mapFacet(c,t):"repeat"in c?this.mapRepeat(c,t):"hconcat"in c?this.mapHConcat(c,t):"vconcat"in c?this.mapVConcat(c,t):"concat"in c?this.mapConcat(c,t):this.mapLayerOrUnit(c,
t)}mapLayerOrUnit(c,t){if("layer"in c)return this.mapLayer(c,t);if(Te(c))return this.mapUnit(c,t);throw Error(Pb(c));}mapLayer(c,t){return Object.assign({},c,{layer:c.layer.map(M=>this.mapLayerOrUnit(M,t))})}mapHConcat(c,t){return Object.assign({},c,{hconcat:c.hconcat.map(M=>this.map(M,t))})}mapVConcat(c,t){return Object.assign({},c,{vconcat:c.vconcat.map(M=>this.map(M,t))})}mapConcat(c,t){var M=Object.assign({},c);c=c.concat;M=(delete M.concat,M);return Object.assign({},M,{concat:c.map(la=>this.map(la,
t))})}mapFacet(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}mapRepeat(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}}const Om={zero:1,center:1,normalize:1},Mm=new Set([Mj,Rk,rj,Uk,Bk,u,I,ck,Uj,ll]),Nm=new Set([Rk,rj,Mj]);class tn{constructor(){Rc(this,"name","path-overlay")}hasMatchingType(c,t){if(Te(c)){const {mark:M,encoding:la}=c;c=Qe(M)?M:{type:M};switch(c.type){case "line":case "rule":case "trail":return!!lb(c,t[c.type],la);case "area":return!!lb(c,t[c.type],la)||!!sb(c,
t[c.type])}}return!1}run(c,t,M){const {config:la}=t;var sa=Object.assign({},c),Da=c.params;const db=c.projection;var pb=c.mark;c=c.encoding;sa=(delete sa.params,delete sa.projection,delete sa.mark,delete sa.encoding,sa);c=xa(c,la);pb=Qe(pb)?pb:{type:pb};const Cb=lb(pb,la[pb.type],c),Jb="area"===pb.type&&sb(pb,la[pb.type]);Da=[Object.assign({},Da?{params:Da}:{},{mark:Na(Object.assign({},"area"===pb.type&&void 0===pb.opacity&&void 0===pb.fillOpacity?{opacity:.7}:{},pb)),encoding:v(c,["shape"])})];const mc=
ma(pb,c);let hd=c;if(mc){const {fieldChannel:md,offset:sd}=mc;hd=Object.assign({},c,{[md]:Object.assign({},c[md],sd?{stack:sd}:{})})}Jb&&Da.push(Object.assign({},db?{projection:db}:{},{mark:Object.assign({},{type:"line"},y(pb,["clip","interpolate","tension","tooltip"]),Jb),encoding:hd}));Cb&&Da.push(Object.assign({},db?{projection:db}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},y(pb,["clip","tooltip"]),Cb),encoding:hd}));return M(Object.assign({},sa,{layer:Da}),Object.assign({},t,
{config:hb(la)}))}}class un{constructor(){Rc(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Te(c)){const {encoding:t,mark:M}=c;if("line"===M||Qe(M)&&"line"===M.type)for(const la of jk)if(c=ta(la),c=t[c],t[la]&&(kd(c)&&!cb(c.bin)||bf(c)))return!0}return!1}run(c,t,M){const {encoding:la,mark:sa}=c;var Da=!!la.x2;Da="Line mark is for continuous lines and thus cannot be used with ".concat(Da&&la.y2?"x2 and y2":Da?"x2":"y2",". We will use the rule mark (line segments) instead.");Db(Da);console.log(sa);
return M(Object.assign({},c,{mark:n.isObject(sa)?Object.assign({},sa,{type:"rule"}):"rule"}),t)}}class vn extends $l{constructor(...c){super(...c);Rc(this,"nonFacetUnitNormalizers",[Dd,Id,rf,new tn,new un])}map(c,t){if(Te(c)){const M=uf(c.encoding,"row"),la=uf(c.encoding,"column"),sa=uf(c.encoding,"facet");if(M||la||sa)return this.mapFacetedUnit(c,t)}return super.map(c,t)}mapUnit(c,t){const {parentEncoding:M,parentProjection:la}=t;var sa=Qb(c.encoding,t.repeater);c=Object.assign({},c,sa?{encoding:sa}:
{});if(M||la)return this.mapUnitWithParentEncodingOrProjection(c,t);sa=this.mapLayerOrUnit.bind(this);for(const Da of this.nonFacetUnitNormalizers)if(Da.hasMatchingType(c,t.config))return Da.run(c,t,sa);return c}mapRepeat(c,t){return!n.isArray(c.repeat)&&c.repeat.layer?this.mapLayerRepeat(c,t):this.mapNonLayerRepeat(c,t)}mapLayerRepeat(c,t){var M=Object.assign({},c);const la=c.repeat,sa=c.spec;M=(delete M.repeat,delete M.spec,M);const {row:Da,column:db,layer:pb}=la,{repeater:Cb={},repeaterPrefix:Jb=
""}=t;return Da||db?this.mapRepeat(Object.assign({},c,{repeat:Object.assign({},Da?{row:Da}:{},db?{column:db}:{}),spec:{repeat:{layer:pb},spec:sa}}),t):Object.assign({},M,{layer:pb.map(mc=>{var hd=Object.assign({},Cb,{layer:mc});mc="".concat((sa.name||"")+Jb,"child__layer_").concat(z(mc));hd=this.mapLayerOrUnit(sa,Object.assign({},t,{repeater:hd,repeaterPrefix:mc}));hd.name=mc;return hd})})}mapNonLayerRepeat(c,t){var M,la=c,sa=Object.assign({},la);const Da=la.repeat,db=la.spec;la=la.data;sa=(delete sa.repeat,
delete sa.spec,delete sa.data,sa);!n.isArray(Da)&&c.columns&&(c=v(c,["columns"]),Db(fb("repeat")));const pb=[],{repeater:Cb={},repeaterPrefix:Jb=""}=t,mc=!n.isArray(Da)&&Da.row||[Cb?Cb.row:null],hd=!n.isArray(Da)&&Da.column||[Cb?Cb.column:null];var md=n.isArray(Da)&&Da||[Cb?Cb.repeat:null];for(const yd of md)for(const Ad of mc)for(const ue of hd){var sd={repeat:yd,row:Ad,column:ue,layer:Cb.layer};md=(db.name||"")+Jb+"child__"+(n.isArray(Da)?"".concat(z(yd)):(Da.row?"row_".concat(z(Ad)):"")+(Da.column?
"column_".concat(z(ue)):""));sd=this.map(db,Object.assign({},t,{repeater:sd,repeaterPrefix:md}));sd.name=md;pb.push(v(sd,["data"]))}c=n.isArray(Da)?c.columns:Da.column?Da.column.length:1;return Object.assign({},{data:null!==(M=db.data)&&void 0!==M?M:la,align:"all"},sa,{columns:c,concat:pb})}mapFacet(c,t){const {facet:M}=c;Nc(M)&&c.columns&&(c=v(c,["columns"]),Db(fb("facet")));return super.mapFacet(c,t)}mapUnitWithParentEncodingOrProjection(c,t){const {encoding:M,projection:la}=c,{parentEncoding:sa,
parentProjection:Da,config:db}=t,pb=ad({parentProjection:Da,projection:la});t=qd({parentEncoding:sa,encoding:Qb(M,t.repeater)});return this.mapUnit(Object.assign({},c,pb?{projection:pb}:{},t?{encoding:t}:{}),{config:db})}mapFacetedUnit(c,t){var M=c.encoding,la=Object.assign({},M),sa=M.row;const Da=M.column;M=M.facet;const db=(delete la.row,delete la.column,delete la.facet,la);var pb=Object.assign({},c);la=c.mark;const Cb=c.width,Jb=c.projection,mc=c.height,hd=c.view;c=c.params;pb=(delete pb.mark,
delete pb.width,delete pb.projection,delete pb.height,delete pb.view,delete pb.params,delete pb.encoding,pb);const {facetMapping:md,layout:sd}=this.getFacetMappingAndLayout({row:sa,column:Da,facet:M},t);sa=Qb(db,t.repeater);return this.mapFacet(Object.assign({},pb,sd,{facet:md,spec:Object.assign({},Cb?{width:Cb}:{},mc?{height:mc}:{},hd?{view:hd}:{},Jb?{projection:Jb}:{},{mark:la,encoding:sa},c?{params:c}:{})}),t)}getFacetMappingAndLayout(c,t){const {row:M,column:la,facet:sa}=c;if(M||la){sa&&(t=[...M?
["row"]:[],...la?["column"]:[]],t="Facet encoding dropped as ".concat(t.join(" and ")," ").concat(1<t.length?"are":"is"," also specified."),Db(t));t={};var Da={};for(var db of["row","column"]){const mc=c[db];if(mc){var pb=Object.assign({},mc);pb=(delete pb.align,delete pb.center,delete pb.spacing,delete pb.columns,pb);t[db]=pb;for(var Cb of["align","center","spacing"])if(void 0!==mc[Cb]){var Jb;null!==(Jb=Da[Cb])&&void 0!==Jb?Jb:Da[Cb]={};Da[Cb][db]=mc[Cb]}}}return{facetMapping:t,layout:Da}}Da=Object.assign({},
sa);c=sa.align;Jb=sa.center;db=sa.spacing;Cb=sa.columns;Da=(delete Da.align,delete Da.center,delete Da.spacing,delete Da.columns,Da);t=(t=t.repeater)?Nc(Da)?zd(Da,t):Vb(Da,t):Da;return{facetMapping:t,layout:Object.assign({},c?{align:c}:{},Jb?{center:Jb}:{},db?{spacing:db}:{},Cb?{columns:Cb}:{})}}mapLayer(c,t){var M=Object.assign({},t),la=t.parentEncoding;t=t.parentProjection;M=(delete M.parentEncoding,delete M.parentProjection,M);var sa=Object.assign({},c);const Da=c.encoding;c=c.projection;sa=(delete sa.encoding,
delete sa.projection,sa);la=Object.assign({},M,{parentEncoding:qd({parentEncoding:la,encoding:Da,layer:!0}),parentProjection:ad({parentProjection:t,projection:c})});return super.mapLayer(sa,la)}}class wn extends $l{map(c,t){var M,la;null!==(M=t.emptySelections)&&void 0!==M?M:t.emptySelections={};null!==(la=t.selectionPredicates)&&void 0!==la?la:t.selectionPredicates={};c=ud(c,t);return super.map(c,t)}mapLayerOrUnit(c,t){c=ud(c,t);if(c.encoding){const M={};for(const la of Qh(c.encoding)){const [sa,
Da]=la;M[sa]=de(Da,t)}c=Object.assign({},c,{encoding:M})}return super.mapLayerOrUnit(c,t)}mapUnit(c,t){var M=Object.assign({},c);const la=c.selection;M=(delete M.selection,M);return la?Object.assign({},M,{params:Qh(la).map(sa=>{var [Da,db]=sa,pb=Object.assign({},db);sa=db.init;const Cb=db.bind,Jb=db.empty;pb=(delete pb.init,delete pb.bind,delete pb.empty,pb);"single"===pb.type?(pb.type="point",pb.toggle=!1):"multi"===pb.type&&(pb.type="point");t.emptySelections[Da]="none"!==Jb;for(const hd of wg(null!==
(mc=t.selectionPredicates[Da])&&void 0!==mc?mc:{})){var mc;hd.empty="none"!==Jb}return{name:Da,value:sa,select:pb,bind:Cb}})}):c}}class am extends $l{map(c,t){var M;const la=null!==(M=t.selections)&&void 0!==M?M:[];if(c.params&&!Te(c)){M=[];for(const sa of c.params)sa.select?la.push(sa):M.push(sa);c.params=M}t.selections=la;return super.map(c,ne(c,t))}mapUnit(c,t){var M;const la=t.selections;if(!la||!la.length)return c;const sa=(null!==(M=t.path)&&void 0!==M?M:[]).concat(c.name);t=[];for(const Da of la)if(Da.views&&
Da.views.length)for(const db of Da.views)(E.isString(db)&&(db===c.name||0<=sa.indexOf(db))||E.isArray(db)&&db.map(pb=>sa.indexOf(pb)).every((pb,Cb,Jb)=>-1!==pb&&(0===Cb||pb>Jb[Cb-1])))&&t.push(Da);else t.push(Da);t.length&&(c.params=t);return c}}for(const c of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=am.prototype[c];am.prototype[c]=function(M,la){return t.call(this,M,ne(M,la))}}const Qm=new vn,Rm=new wn,Pm=new am;class Yj{constructor(c,t){c=void 0===c?{}:c;t=void 0===
t?{}:t;this.explicit=c;this.implicit=t}clone(){return new Yj(pf(this.explicit),pf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(c){return q(this.explicit[c],this.implicit[c])}getWithExplicit(c){return void 0!==this.explicit[c]?{explicit:!0,value:this.explicit[c]}:void 0!==this.implicit[c]?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,t){var {value:M,explicit:la}=t;void 0!==M&&this.set(c,M,la)}set(c,t,M){delete this[M?"implicit":
"explicit"][c];this[M?"explicit":"implicit"][c]=t;return this}copyKeyFromSplit(c,t){var {explicit:M,implicit:la}=t;void 0!==M[c]?this.set(c,M[c],!0):void 0!==la[c]&&this.set(c,la[c],!1)}copyKeyFromObject(c,t){void 0!==t[c]&&this.set(c,t[c],!0)}copyAll(c){for(const t of Md(c.combine())){const M=c.getWithExplicit(t);this.setWithExplicit(t,M)}}}class qn extends Yj{constructor(c,t,M){c=void 0===c?{}:c;t=void 0===t?{}:t;M=void 0===M?!1:M;super(c,t);this.explicit=c;this.implicit=t;this.parseNothing=M}clone(){const c=
super.clone();c.parseNothing=this.parseNothing;return c}}let zg;(function(c){c[c.Raw=0]="Raw";c[c.Main=1]="Main";c[c.Row=2]="Row";c[c.Column=3]="Column";c[c.Lookup=4]="Lookup"})(zg||(zg={}));const Tm=/[[\]{}]/,Sm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let lm,mm;class qg{constructor(c,t){this.debugName=t;Rc(this,"_children",[]);Rc(this,"_parent",null);Rc(this,"_hash",void 0);c&&(this.parent=c)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(c){(this._parent=
c)&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,t){this._children.includes(c)?Db("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,c):this._children.push(c)}removeChild(c){c=this._children.indexOf(c);this._children.splice(c,1);return c}remove(){let c=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,c++)}insertAsParentOf(c){const t=c.parent;t.removeChild(this);
this.parent=t;c.parent=this}swapWithParent(){const c=this._parent,t=c.parent;for(const M of this._children)M.parent=c;this._children=[];c.removeChild(this);c.parent.removeChild(c);this.parent=t;c.parent=this}}class Ih extends qg{clone(){const c=new this.constructor;c.debugName="clone_".concat(this.debugName);c._source=this._source;c._name="clone_".concat(this._name);c.type=this.type;c.refCounts=this.refCounts;c.refCounts[c._name]=0;return c}constructor(c,t,M,la){super(c,t);this.type=M;this.refCounts=
la;Rc(this,"_source",void 0);Rc(this,"_name",void 0);this._source=this._name=t;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(N()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class wj extends qg{clone(){return new wj(null,pf(this.formula))}constructor(c,
t){super(c);this.formula=t}static makeFromEncoding(c,t){t=t.reduceFieldDef((M,la)=>{const {field:sa,timeUnit:Da}=la;Da&&(la=Ka(la,{forAs:!0}),M[l({as:la,field:sa,timeUnit:Da})]={as:la,field:sa,timeUnit:Da});return M},{});return L(t)?null:new wj(c,t)}static makeFromTransform(c,t){var M=Object.assign({},t);t=Object.assign({},M);M=M.timeUnit;t=(delete t.timeUnit,t);M=ae(M);t=Object.assign({},t,{timeUnit:M});return new wj(c,{[l(t)]:t})}merge(c){this.formula=Object.assign({},this.formula);for(const t in c.formula)this.formula[t]||
(this.formula[t]=c.formula[t]);for(const t of c.children)c.removeChild(t),t.parent=this;c.remove()}removeFormulas(c){const t={};for(const M of Qh(this.formula)){const [la,sa]=M;c.has(sa.as)||(t[la]=sa)}this.formula=t}producedFields(){return new Set(wg(this.formula).map(c=>c.as))}dependentFields(){return new Set(wg(this.formula).map(c=>c.field))}hash(){return"TimeUnit ".concat(l(this.formula))}assemble(){const c=[];for(const la of wg(this.formula)){const {field:sa,as:Da,timeUnit:db}=la;var t=ae(db),
M=Object.assign({},t);const pb=t.unit;t=t.utc;M=(delete M.unit,delete M.utc,M);c.push(Object.assign({},{field:fa(sa),type:"timeunit"},pb?{units:Cd(pb)}:{},t?{timezone:"utc"}:{},M,{as:[Da,"".concat(Da,"_end")]}))}return c}}class xn{constructor(...c){Rc(this,"hasChannel",void 0);Rc(this,"hasField",void 0);Rc(this,"timeUnit",void 0);Rc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}}}const Wj={defined:c=>"interval"===c.type&&"global"===c.resolve&&c.bind&&"scales"===c.bind,parse:(c,
t)=>{const M=t.scales=[];for(const sa of t.project.items){var la=sa.channel;if(!Li[la])continue;const Da=(la=c.getScaleComponent(la))?la.get("type"):void 0;la&&Da in Jg?(la.set("selectionExtent",{param:t.name,field:sa.field},!0),M.push(sa)):Db("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(c,t,M)=>{const la=t.scales.filter(Da=>0===M.filter(db=>db.name===Da.signals.data).length);if(!c.parent||Kj(c)||0===la.length)return M;c=M.filter(Da=>
Da.name===t.name)[0];let sa=c.update;if(0<=sa.indexOf("vlSelectionResolve"))c.update="{".concat(la.map(Da=>"".concat(n.stringValue(fa(Da.field)),": ").concat(Da.signals.data)).join(", "),"}");else{for(const Da of la){const db="".concat(n.stringValue(fa(Da.field)),": ").concat(Da.signals.data);sa.includes(db)||(sa="".concat(sa.substring(0,sa.length-1),", ").concat(db,"}"))}c.update=sa}return M.concat(la.map(Da=>({name:Da.signals.data})))},signals:(c,t,M)=>{if(c.parent&&!Kj(c))for(const la of t.scales)c=
M.filter(sa=>sa.name===la.signals.data)[0],c.push="outer",delete c.value,delete c.update;return M}},Um={left:"x",center:"xc",right:"x2"},Vm={top:"y",middle:"yc",bottom:"y2"},Wm=new Set(["aria","width","height"]),Am={defined:c=>"point"===c.type&&c.nearest,parse:(c,t)=>{if(t.events)for(const M of t.events)M.markname=c.getName("voronoi")},marks:(c,t,M)=>{const {x:la,y:sa}=t.project.hasChannel;t=c.mark;if(Qd(t))return Db('The "nearest" transform is not supported for '.concat(t," marks.")),M;t={name:c.getName("voronoi"),
type:"path",interactive:!0,from:{data:c.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},$i(c,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:la||!sa?"datum.datum.x || 0":"0"},y:{expr:sa||!la?"datum.datum.y || 0":"0"},size:[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]}]};let Da=0,db=!1;M.forEach((pb,Cb)=>{var Jb;pb=null!==(Jb=pb.name)&&void 0!==Jb?Jb:"";pb===c.component.mark[0].name?
Da=Cb:0<=pb.indexOf("voronoi")&&(db=!0)});db||M.splice(Da+1,0,t);return M}},Bm={defined:c=>"point"===c.type&&"global"===c.resolve&&c.bind&&"scales"!==c.bind&&!Ec(c.bind),parse:(c,t,M)=>ug(t,M),topLevelSignals:(c,t,M)=>{const la=t.name;c=t.project;const sa=t.bind,Da=t.init&&t.init[0],db=Am.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";c.items.forEach((pb,Cb)=>{const Jb=z("".concat(la,"_").concat(pb.field));if(!M.filter(md=>md.name===Jb).length){var mc,hd;M.unshift(Object.assign({},
{name:Jb},Da?{init:Eh(Da[Cb])}:{value:null},{on:t.events?[{events:t.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(db,"[").concat(n.stringValue(pb.field),"] : null")}]:[],bind:null!==(mc=null!==(hd=sa[pb.field])&&void 0!==hd?hd:sa[pb.channel])&&void 0!==mc?mc:sa}))}});return M},signals:(c,t,M)=>{const la=t.name;var sa=t.project;c=M.filter(db=>db.name===la+"_tuple")[0];t=la+"_tuple_fields";sa=sa.items.map(db=>z("".concat(la,"_").concat(db.field)));const Da=sa.map(db=>
"".concat(db," !\x3d\x3d null")).join(" \x26\x26 ");sa.length&&(c.update="".concat(Da," ? {fields: ").concat(t,", values: [").concat(sa.join(", "),"]} : null"));delete c.value;delete c.on;return M}},Cm={defined:c=>"point"===c.type&&!!c.toggle,signals:(c,t,M)=>M.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(c,t)=>{const M=t.name+"_tuple",la=t.name+"_toggle";return"".concat(la," ? null : ").concat(M,", ")+("global"===t.resolve?"".concat(la," ? null : true, "):
"".concat(la," ? null : {unit: ").concat($g(c),"}, "))+"".concat(la," ? ").concat(M," : null")}},om={defined:c=>{const t="global"===c.resolve&&c.bind&&Ec(c.bind);c=1===c.project.items.length&&"_vgsid_"!==c.project.items[0].field;t&&!c&&Db("Legend bindings are only supported for selections over an individual field or encoding channel.");return t&&c},parse:(c,t,M)=>{c=pf(M);c.select=n.isString(c.select)?{type:c.select,toggle:t.toggle}:Object.assign({},c.select,{toggle:t.toggle});ug(t,c);if(E.isObject(M.select)&&
(M.select.on||M.select.clear))for(const sa of t.events){var la;sa.filter=n.array(null!==(la=sa.filter)&&void 0!==la?la:[]);sa.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||sa.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}M=dd(t.bind)?t.bind.legend:"click";M=n.isString(M)?xf(M,"view"):n.array(M);t.bind={legend:{merge:M}}},topLevelSignals:(c,t,M)=>{c=t.name;const la=dd(t.bind)&&t.bind.legend,sa=db=>pb=>{pb=pf(pb);pb.markname=
db;return pb};for(const db of t.project.items){if(!db.hasLegend)continue;var Da="".concat(z(db.field),"_legend");const pb="".concat(c,"_").concat(Da);0===M.filter(Cb=>Cb.name===pb).length&&(Da=la.merge.map(sa("".concat(Da,"_symbols"))).concat(la.merge.map(sa("".concat(Da,"_labels")))).concat(la.merge.map(sa("".concat(Da,"_entries")))),M.unshift(Object.assign({},{name:pb},t.init?{}:{value:null},{on:[{events:Da,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:la.merge,
update:"!event.item || !datum ? null : ".concat(pb),force:!0}]})))}return M},signals:(c,t,M)=>{const la=t.name;var sa=t.project;c=M.find(pb=>pb.name===la+"_tuple");var Da=la+"_tuple_fields";sa=sa.items.filter(pb=>pb.hasLegend).map(pb=>z("".concat(la,"_").concat(z(pb.field),"_legend")));const db=sa.map(pb=>"".concat(pb," !\x3d\x3d null")).join(" \x26\x26 ");Da="".concat(db," ? {fields: ").concat(Da,", values: [").concat(sa.join(", "),"]} : null");t.events&&0<sa.length?c.on.push({events:sa.map(pb=>
({signal:pb})),update:Da}):0<sa.length&&(c.update=Da,delete c.value,delete c.on);c=M.find(pb=>pb.name===la+"_toggle");Da=dd(t.bind)&&t.bind.legend;c&&(t.events?c.on.push(Object.assign({},c.on[0],{events:Da})):c.on[0].events=Da);return M}},Al=[{defined:c=>"point"===c.type,signals:(c,t,M)=>{const la=t.name;var sa=la+"_tuple_fields";const Da=t.project.items.map(db=>{const pb=c.fieldDef(db.channel);return pb&&pb.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(c.vgField(db.channel,
{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(c.vgField(db.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(db.field),"]")}).join(", ");sa="unit: ".concat($g(c),", fields: ").concat(sa,", values");t=t.events;return M.concat([{name:la+"_tuple",on:t?[{events:t,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(sa,": [").concat(Da,"]} : null"),force:!0}]:[]}])}},{defined:c=>
"interval"===c.type,signals:(c,t,M)=>{const la=t.name;var sa=la+"_tuple_fields";const Da=Wj.defined(t),db=t.init?t.init[0]:null,pb=[],Cb=[];if(t.translate&&!Da){const Jb="!event.item || event.item.mark.name !\x3d\x3d ".concat(n.stringValue(la+"_brush"));kh(t,(mc,hd)=>{var md,sd;hd=n.array(null!==(sd=(md=hd.between[0]).filter)&&void 0!==sd?sd:md.filter=[]);hd.includes(Jb)||hd.push(Jb);return mc})}t.project.items.forEach((Jb,mc)=>{const hd=Jb.channel;if("x"!==hd&&"y"!==hd)Db("Interval selections only support x and y encoding channels.");
else{mc=Sk(c,t,Jb,db?db[mc]:null);var md=Jb.signals.data;Jb=Jb.signals.visual;var sd=n.stringValue(c.scaleName(hd)),yd=c.getScaleComponent(hd).get("type")in Jg?"+":"";M.push(...mc);pb.push(md);Cb.push({scaleName:c.scaleName(hd),expr:"(!isArray(".concat(md,") || ")+"(".concat(yd,"invert(").concat(sd,", ").concat(Jb,")[0] \x3d\x3d\x3d ").concat(yd).concat(md,"[0] \x26\x26 ")+"".concat(yd,"invert(").concat(sd,", ").concat(Jb,")[1] \x3d\x3d\x3d ").concat(yd).concat(md,"[1]))")})}});Da||M.push({name:la+
"_scale_trigger",value:{},on:[{events:Cb.map(Jb=>({scale:Jb.scaleName})),update:"".concat(Cb.map(Jb=>Jb.expr).join(" \x26\x26 ")," ? ").concat(la+"_scale_trigger"," : {}")}]});sa="unit: ".concat($g(c),", fields: ").concat(sa,", values");return M.concat(Object.assign({},{name:la+"_tuple"},db?{init:"{".concat(sa,": ").concat(Eh(db),"}")}:{},{on:[{events:[{signal:pb.join(" || ")}],update:"".concat(pb.join(" \x26\x26 ")," ? {").concat(sa,": [").concat(pb,"]} : null")}]}))},marks:(c,t,M)=>{const la=t.name,
{x:sa,y:Da}=t.project.hasChannel,db=sa&&sa.signals.visual,pb=Da&&Da.signals.visual;var Cb="data(".concat(n.stringValue(t.name+"_store"),")");if(Wj.defined(t))return M;const Jb={x:void 0!==sa?{signal:"".concat(db,"[0]")}:{value:0},y:void 0!==Da?{signal:"".concat(pb,"[0]")}:{value:0},x2:void 0!==sa?{signal:"".concat(db,"[1]")}:{field:{group:"width"}},y2:void 0!==Da?{signal:"".concat(pb,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve)for(var mc of Md(Jb))Jb[mc]=[Object.assign({},{test:"".concat(Cb,
".length \x26\x26 ").concat(Cb,"[0].unit \x3d\x3d\x3d ").concat($g(c))},Jb[mc]),{value:0}];mc=t.mark;Cb=Object.assign({},mc);c=mc.fill;t=mc.fillOpacity;mc=mc.cursor;const hd=(delete Cb.fill,delete Cb.fillOpacity,delete Cb.cursor,Cb);Cb=Md(hd).reduce((md,sd)=>{md[sd]=[{test:[void 0!==sa&&"".concat(db,"[0] !\x3d\x3d ").concat(db,"[1]"),void 0!==Da&&"".concat(pb,"[0] !\x3d\x3d ").concat(pb,"[1]")].filter(yd=>yd).join(" \x26\x26 "),value:hd[sd]},{value:null}];return md},{});return[{name:"".concat(la+
"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:t}},update:Jb}},...M,{name:la+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},mc?{cursor:{value:mc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Jb,Cb)}}]}},{defined:()=>!0,parse:(c,t,M)=>{var la;const sa=t.name,Da=null!==(la=t.project)&&void 0!==la?la:t.project=new xn,db={};la={};const pb=new Set,Cb=(Fe,ke)=>{Fe="visual"===ke?Fe.channel:Fe.field;let df=z("".concat(sa,"_").concat(Fe));for(let Ye=
1;pb.has(df);Ye++)df=z("".concat(sa,"_").concat(Fe,"_").concat(Ye));pb.add(df);return{[ke]:df}},Jb=t.type,mc=c.config.selection[Jb],hd=void 0!==M.value?n.array(M.value):null;let {fields:md,encodings:sd}=n.isObject(M.select)?M.select:{};if(!md&&!sd&&hd)for(var yd of hd)if(n.isObject(yd))for(const Fe of Md(yd))Ik[Fe]?(sd||(sd=[])).push(Fe):"interval"===Jb?(Db('Interval selections should be initialized using "x" and/or "y" keys.'),sd=mc.encodings):(md||(md=[])).push(Fe);md||sd||(sd=mc.encodings,md=mc.fields);
for(const Fe of null!==(Ad=sd)&&void 0!==Ad?Ad:[]){var Ad;(Ad=c.fieldDef(Fe))?(M=Ad.field,Ad.aggregate?Db(Wd(Fe,Ad.aggregate)):M?(Ad.timeUnit&&(M=c.vgField(Fe),yd={timeUnit:Ad.timeUnit,as:M,field:Ad.field},la[l(yd)]=yd),db[M]||(yd="E","interval"===Jb?c.getScaleComponent(Fe).get("type")in Jg&&(yd="R"):Ad.bin&&(yd="R-RE"),Ad={field:M,channel:Fe,type:yd},Ad.signals=Object.assign({},Cb(Ad,"data"),Cb(Ad,"visual")),Da.items.push(db[M]=Ad),Da.hasField[M]=Da.hasChannel[Fe]=db[M])):Db(Gd(Fe))):Db(Gd(Fe))}for(const Fe of null!==
(ue=md)&&void 0!==ue?ue:[]){var ue;Da.hasField[Fe]||(c={type:"E",field:Fe},c.signals=Object.assign({},Cb(c,"data")),Da.items.push(c),Da.hasField[Fe]=c)}hd&&(t.init=hd.map(Fe=>Da.items.map(ke=>n.isObject(Fe)?void 0!==Fe[ke.channel]?Fe[ke.channel]:Fe[ke.field]:Fe)));L(la)||(Da.timeUnit=new wj(null,la))},signals:(c,t,M)=>{const la=t.name+"_tuple_fields";return 0<M.filter(sa=>sa.name===la).length?M:M.concat({name:la,value:t.project.items.map(sa=>{sa=Object.assign({},sa);sa=(delete sa.signals,delete sa.hasLegend,
sa);sa.field=fa(sa.field);return sa})})}},Cm,Bm,Wj,om,{defined:c=>void 0!==c.clear&&!1!==c.clear,parse:(c,t)=>{t.clear&&(t.clear=n.isString(t.clear)?xf(t.clear,"view"):t.clear)},topLevelSignals:(c,t,M)=>{if(Bm.defined(t))for(const la of t.project.items)c=M.findIndex(sa=>sa.name===z("".concat(t.name,"_").concat(la.field))),-1!==c&&M[c].on.push({events:t.clear,update:"null"});return M},signals:(c,t,M)=>{function la(sa,Da){-1!==sa&&M[sa].on&&M[sa].on.push({events:t.clear,update:Da})}if("interval"===
t.type)for(const sa of t.project.items)c=M.findIndex(Da=>Da.name===sa.signals.visual),la(c,"[0, 0]"),-1===c&&(c=M.findIndex(Da=>Da.name===sa.signals.data),la(c,"null"));else c=M.findIndex(sa=>sa.name===t.name+"_tuple"),la(c,"null"),Cm.defined(t)&&(c=M.findIndex(sa=>sa.name===t.name+"_toggle"),la(c,"false"));return M}},{defined:c=>"interval"===c.type&&c.translate,signals:(c,t,M)=>{const la=t.name,sa=Wj.defined(t),Da=la+"_translate_anchor",{x:db,y:pb}=t.project.hasChannel;let Cb=xf(t.translate,"scope");
sa||(Cb=Cb.map(Jb=>(Jb.between[0].markname=la+"_brush",Jb)));M.push({name:Da,value:{},on:[{events:Cb.map(Jb=>Jb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==db?", extent_x: ".concat(sa?Qi(c,"x"):"slice(".concat(db.signals.visual,")")):"")+(void 0!==pb?", extent_y: ".concat(sa?Qi(c,"y"):"slice(".concat(pb.signals.visual,")")):"")+"}"}]},{name:la+"_translate_delta",value:{},on:[{events:Cb,update:"{x: ".concat(Da,".x - x(unit), y: ").concat(Da,".y - y(unit)}")}]});void 0!==db&&rg(c,t,db,"width",
M);void 0!==pb&&rg(c,t,pb,"height",M);return M}},{defined:c=>"interval"===c.type&&c.zoom,signals:(c,t,M)=>{const la=t.name,sa=Wj.defined(t),Da=la+"_zoom_delta",{x:db,y:pb}=t.project.hasChannel,Cb=n.stringValue(c.scaleName("x")),Jb=n.stringValue(c.scaleName("y"));let mc=xf(t.zoom,"scope");sa||(mc=mc.map(hd=>(hd.markname=la+"_brush",hd)));M.push({name:la+"_zoom_anchor",on:[{events:mc,update:sa?"{"+[Cb?"x: invert(".concat(Cb,", x(unit))"):"",Jb?"y: invert(".concat(Jb,", y(unit))"):""].filter(hd=>!!hd).join(", ")+
"}":"{x: x(unit), y: y(unit)}"}]},{name:Da,on:[{events:mc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==db&&Rj(c,t,db,"width",M);void 0!==pb&&Rj(c,t,pb,"height",M);return M}},Am];Hg.prototype.visit=function(c){let t,M,la;if(c(this))return 1;t=vh(this);M=0;for(la=t.length;M<la;++M)if(t[M].visit(c))return 1};var Me,xd,uh,gg,Xm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ym=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Zm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},$m={"if":1};class nl extends qg{clone(){return new nl(null,
this.model,pf(this.filter))}constructor(c,t,M){super(c);this.model=t;this.filter=M;Rc(this,"expr",void 0);Rc(this,"_dependentFields",void 0);this.expr=ih(this.model,this.filter,this);this._dependentFields=Se(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const xm={scale:c=>{var {model:t,channel:M}=c;return t.scaleName(M)},format:c=>{var {fieldOrDatumDef:t,config:M,axis:la}=
c;const {format:sa,formatType:Da}=la;return xc(t,t.type,sa,Da,M,!0)},formatType:c=>{var {axis:t,fieldOrDatumDef:M,scaleType:la}=c;({formatType:c}=t);return ya(c,M,la)},grid:c=>{var {fieldOrDatumDef:t,axis:M,scaleType:la}=c,sa;return null!==(sa=M.grid)&&void 0!==sa?sa:!(la in Pg)&&kd(t)&&!Pa(null===t||void 0===t?void 0:t.bin)&&!cb(null===t||void 0===t?void 0:t.bin)},gridScale:c=>{var {model:t,channel:M}=c;c="x"===M?"y":"x";c=t.getScaleComponent(c)?t.scaleName(c):void 0;return c},labelAlign:c=>{var {axis:t,
labelAngle:M,orient:la,channel:sa}=c;return t.labelAlign||zh(M,la,sa)},labelAngle:c=>{({labelAngle:c}=c);return c},labelBaseline:c=>{var {axis:t,labelAngle:M,orient:la,channel:sa}=c;return t.labelBaseline||Bj(M,la,sa)},labelFlush:c=>{var {axis:t,fieldOrDatumDef:M,channel:la}=c,sa;c=null!==(sa=t.labelFlush)&&void 0!==sa?sa:"x"===la&&d(["quantitative","temporal"],M.type)?!0:void 0;return c},labelOverlap:c=>{var {axis:t,fieldOrDatumDef:M,scaleType:la}=c,sa;if(null!==(sa=t.labelOverlap)&&void 0!==sa)c=
sa;else{c=M.type;sa=kd(M)&&!!M.timeUnit;var Da=kd(M)?M.sort:void 0;c=sa&&!n.isObject(Da)||"nominal"!==c&&"ordinal"!==c?"log"===la||"symlog"===la?"greedy":!0:void 0}return c},orient:c=>{({orient:c}=c);return c},tickCount:c=>{var {channel:t,model:M,axis:la,fieldOrDatumDef:sa,scaleType:Da}=c,db;c=(c="x"===t?"width":"y"===t?"height":void 0)?M.getSizeSignalRef(c):void 0;if(null===(db=la.tickCount)||void 0===db)a:{var {fieldOrDatumDef:pb,scaleType:Cb,size:Jb,values:mc}={fieldOrDatumDef:sa,scaleType:Da,
size:c,values:la.values};if(mc||Cb in Pg||"log"===Cb)db=void 0;else{if(kd(pb)){var hd;if(Pa(pb.bin)){db={signal:"ceil(".concat(Jb.signal,"/10)")};break a}if(pb.timeUnit&&d(["month","hours","day","quarter"],null===(hd=ae(pb.timeUnit))||void 0===hd?void 0:hd.unit)){db=void 0;break a}}db={signal:"ceil(".concat(Jb.signal,"/40)")}}}return db},title:c=>{var {axis:t,model:M,channel:la}=c;if(void 0!==t.title)return t.title;c=li(M,la);if(void 0!==c)return c;c=M.typedFieldDef(la);const sa=M.fieldDef("x"===
la?"x2":"y2");return Fd(c?[ld(c)]:[],kd(sa)?[ld(sa)]:[])},values:c=>{var {axis:t,fieldOrDatumDef:M}=c;c=t.values;c=n.isArray(c)?Je(M,c):eb(c)?c:void 0;return c},zindex:c=>{var {axis:t,fieldOrDatumDef:M,mark:la}=c,sa;c=null!==(sa=t.zindex)&&void 0!==sa?sa:"rect"===la&&vb(M)?1:0;return c}};class ol extends qg{clone(){return new ol(null,pf(this.transform))}constructor(c,t){super(c);this.transform=t;Rc(this,"_dependentFields",void 0);this._dependentFields=Se(this.transform.calculate)}static parseAllForSortIndex(c,
t){t.forEachFieldDef((M,la)=>{if(tf(M)&&vc(M.sort)){const {field:Da,timeUnit:db}=M;var sa=M.sort;sa=sa.map((pb,Cb)=>"".concat(ye({field:Da,timeUnit:db,equal:pb})," ? ").concat(Cb," : ")).join("")+sa.length;c=new ol(c,{calculate:sa,as:ki(M,la,{forAs:!0})})}});return c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(l(this.transform))}}
const bm=["row","column"],Rl=["header","footer"],yn={column:{start:0,end:1},row:{start:1,end:0}},zn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,
labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,
values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),pm=Md(zn);class an extends Yj{}const rm={symbols:function(c,t){var {fieldOrDatumDef:M,model:la,channel:sa,legendCmpt:Da,legendType:db}=t,pb,Cb,Jb,mc;if("symbol"===db){var {markDef:hd,encoding:md,config:sd,mark:yd}=la,Ad=hd.filled&&"trail"!==yd;t=Object.assign({},Bc({},la,jb),tj(la,{filled:Ad}));var ue=null!==(pb=Da.get("symbolOpacity"))&&void 0!==pb?pb:sd.legend.symbolOpacity;
pb=null!==(Cb=Da.get("symbolFillColor"))&&void 0!==Cb?Cb:sd.legend.symbolFillColor;Cb=null!==(Jb=Da.get("symbolStrokeColor"))&&void 0!==Jb?Jb:sd.legend.symbolStrokeColor;Jb=void 0===ue?null!==(mc=bj(md.opacity))&&void 0!==mc?mc:hd.opacity:void 0;if(t.fill)if("fill"===sa||Ad&&"color"===sa)delete t.fill;else if(t.fill.field)if(pb)delete t.fill;else{var Fe;t.fill=Fc(null!==(Fe=sd.legend.symbolBaseFillColor)&&void 0!==Fe?Fe:"black");t.fillOpacity=Fc(null!==Jb&&void 0!==Jb?Jb:1)}else if(n.isArray(t.fill)){var ke,
df,Ye;if(mc=null!==(ke=null!==(df=Eg(null!==(Ye=md.fill)&&void 0!==Ye?Ye:md.color))&&void 0!==df?df:hd.fill)&&void 0!==ke?ke:Ad&&hd.color)t.fill=Fc(mc)}t.stroke&&("stroke"===sa||!Ad&&"color"===sa?delete t.stroke:t.stroke.field||Cb?delete t.stroke:n.isArray(t.stroke)&&(ke=q(Eg(md.stroke||md.color),hd.stroke,Ad?hd.color:void 0))&&(t.stroke={value:ke}));"opacity"!==sa&&((ke=kd(M)&&tk(la,Da,M))?t.opacity=[Object.assign({},{test:ke},Fc(null!==Jb&&void 0!==Jb?Jb:1)),Fc(sd.legend.unselectedOpacity)]:Jb&&
(t.opacity=Fc(Jb)));t=Object.assign({},t,c);return L(t)?void 0:t}},gradient:function(c,t){var {model:M,legendType:la,legendCmpt:sa}=t,Da;if("gradient"===la){var {config:db,markDef:pb,encoding:Cb}=M;t={};var Jb=void 0===(null!==(Da=sa.get("gradientOpacity"))&&void 0!==Da?Da:db.legend.gradientOpacity)?bj(Cb.opacity)||pb.opacity:void 0;Jb&&(t.opacity=Fc(Jb));t=Object.assign({},t,c);return L(t)?void 0:t}},labels:function(c,t){var {fieldOrDatumDef:M,model:la,channel:sa,legendCmpt:Da}=t;t=la.legend(sa)||
{};const db=la.config;var pb=kd(M)?tk(la,Da,M):void 0;pb=pb?[{test:pb,value:1},{value:db.legend.unselectedOpacity}]:void 0;const {format:Cb,formatType:Jb}=t;t=Hf(Jb)?Ae({fieldOrDatumDef:M,field:"datum.value",format:Cb,formatType:Jb,config:db}):void 0;c=Object.assign({},pb?{opacity:pb}:{},t?{text:t}:{},c);return L(c)?void 0:c},entries:function(c,t){({legendCmpt:t}=t);t=t.get("selections");return null!==t&&void 0!==t&&t.length?Object.assign({},c,{fill:{value:"transparent"}}):c}},qm={direction:c=>{({direction:c}=
c);return c},format:c=>{var {fieldOrDatumDef:t,legend:M,config:la}=c;const {format:sa,formatType:Da}=M;return xc(t,t.type,sa,Da,la,!1)},formatType:c=>{var {legend:t,fieldOrDatumDef:M,scaleType:la}=c;({formatType:c}=t);return ya(c,M,la)},gradientLength:c=>{var t,M;const {legend:la,legendConfig:sa}=c;if(null!==(t=null!==(M=la.gradientLength)&&void 0!==M?M:sa.gradientLength)&&void 0!==t)c=t;else{{var {legendConfig:Da,model:db,direction:pb,orient:Cb,scaleType:Jb}=c;const {gradientHorizontalMaxLength:mc,
gradientHorizontalMinLength:hd,gradientVerticalMaxLength:md,gradientVerticalMinLength:sd}=Da;c=Jb in oh?"horizontal"===pb?"top"===Cb||"bottom"===Cb?Yh(db,"width",hd,mc):hd:Yh(db,"height",sd,md):void 0}}return c},labelOverlap:c=>{var {legend:t,legendConfig:M,scaleType:la}=c,sa,Da;c=null!==(sa=null!==(Da=t.labelOverlap)&&void 0!==Da?Da:M.labelOverlap)&&void 0!==sa?sa:d(["quantile","threshold","log","symlog"],la)?"greedy":void 0;return c},symbolType:c=>{var {legend:t,markDef:M,channel:la,encoding:sa}=
c,Da;if(null!==(Da=t.symbolType)&&void 0!==Da)var db=Da;else a:{c=M.type;Da=M.shape;if("shape"!==la&&(Da=null!==(db=Eg(sa.shape))&&void 0!==db?db:Da)){db=Da;break a}switch(c){case "bar":case "rect":case "image":case "square":db="square";break a;case "line":case "trail":case "rule":db="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":db="circle";break a}db=void 0}return db},title:c=>{var {fieldOrDatumDef:t,config:M}=c;return Sb(t,M,{allowDisabling:!0})},
type:c=>{var {legendType:t,scaleType:M,channel:la}=c;if($a(la)&&M in oh){if("gradient"===t)return}else if("symbol"===t)return;return t},values:c=>{var {fieldOrDatumDef:t,legend:M}=c;c=M.values;c=n.isArray(c)?Je(t,c):eb(c)?c:void 0;return c}},bn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class sm extends Yj{constructor(c,t,M,la){super(Object.assign({},t),{name:c});this.specifiedProjection=t;
this.size=M;this.data=la;Rc(this,"merged",!1)}get isFit(){return!!this.data}}class vj extends qg{clone(){return new vj(null,pf(this.bins))}constructor(c,t){super(c);this.bins=t}static makeFromEncoding(c,t){const M=t.reduceFieldDef((la,sa,Da)=>{if(Xe(sa)&&Pa(sa.bin)){const {key:db,binComponent:pb}=vk(sa,sa.bin,t);la[db]=Object.assign({},pb,la[db],uj(t,sa,Da,t.config))}return la},{});return L(M)?null:new vj(c,M)}static makeFromTransform(c,t,M){const {key:la,binComponent:sa}=vk(t,t.bin,M);return new vj(c,
{[la]:sa})}merge(c,t){for(const M of Md(c.bins))M in this.bins?(t(c.bins[M].signal,this.bins[M].signal),this.bins[M].as=p([...this.bins[M].as,...c.bins[M].as],l)):this.bins[M]=c.bins[M];for(const M of c.children)c.removeChild(M),M.parent=this;c.remove()}producedFields(){return new Set(wg(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(wg(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(l(this.bins))}assemble(){return wg(this.bins).flatMap(c=>{const t=[],[M,...la]=c.as;var sa=
c.bin,Da=Object.assign({},sa);sa=sa.extent;Da=(delete Da.extent,Da);Da=Object.assign({},{type:"bin",field:fa(c.field),as:M,signal:c.signal},ab(sa)?{extent:null}:{extent:sa},c.span?{span:{signal:"span(".concat(c.span,")")}}:{},Da);!sa&&c.extentSignal&&(t.push({type:"extent",field:fa(c.field),signal:c.extentSignal}),Da.extent={signal:c.extentSignal});t.push(Da);for(const db of la)for(sa=0;2>sa;sa++)t.push({type:"formula",expr:Ka({field:M[sa]},{expr:"datum"}),as:db[sa]});c.formula&&t.push({type:"formula",
expr:c.formula,as:c.formulaAs});return t})}}class gj extends qg{clone(){return new gj(null,new Set(this.dimensions),pf(this.measures))}constructor(c,t,M){super(c);this.dimensions=t;this.measures=M}get groupBy(){return this.dimensions}static makeFromEncoding(c,t){let M=!1;t.forEachFieldDef(Da=>{Da.aggregate&&(M=!0)});const la={},sa=new Set;if(!M)return null;t.forEachFieldDef((Da,db)=>{const {aggregate:pb,field:Cb}=Da;if(pb)if("count"===pb){var Jb;null!==(Jb=la["*"])&&void 0!==Jb?Jb:la["*"]={};la["*"].count=
new Set([Ka(Da,{forAs:!0})])}else{if(ea(pb)||ra(pb)){var mc;Da=ea(pb)?"argmin":"argmax";Jb=pb[Da];null!==(mc=la[Jb])&&void 0!==mc?mc:la[Jb]={};la[Jb][Da]=new Set([Ka({op:Da,field:Jb},{forAs:!0})])}else{var hd;null!==(hd=la[Cb])&&void 0!==hd?hd:la[Cb]={};la[Cb][pb]=new Set([Ka(Da,{forAs:!0})])}if(Li[db]&&"unaggregated"===t.scaleDomain(db)){var md;null!==(md=la[Cb])&&void 0!==md?md:la[Cb]={};la[Cb].min=new Set([Ka({field:Cb,aggregate:"min"},{forAs:!0})]);la[Cb].max=new Set([Ka({field:Cb,aggregate:"max"},
{forAs:!0})])}}else mc=pg(t)?t.encoding[Xa(db)]:void 0,Xe(Da)&&pg(t)&&Nd(Da,mc,t.markDef,t.config)?(sa.add(Ka(Da,{})),sa.add(Ka(Da,{suffix:"end"})),Da.bin&&Le(Da,db)&&sa.add(Ka(Da,{binSuffix:"range"}))):db in Dh?(db=Ea(db),sa.add(t.getName(db))):sa.add(Ka(Da))});return 0===sa.size+Md(la).length?null:new gj(c,sa,la)}static makeFromTransform(c,t){const M=new Set,la={};for(const pb of t.aggregate){const {op:Cb,field:Jb,as:mc}=pb;if(Cb)if("count"===Cb){var sa;null!==(sa=la["*"])&&void 0!==sa?sa:la["*"]=
{};la["*"].count=new Set([mc?mc:Ka(pb,{forAs:!0})])}else{var Da;null!==(Da=la[Jb])&&void 0!==Da?Da:la[Jb]={};la[Jb][Cb]=new Set([mc?mc:Ka(pb,{forAs:!0})])}}for(const pb of null!==(db=t.groupby)&&void 0!==db?db:[]){var db;M.add(pb)}return 0===M.size+Md(la).length?null:new gj(c,M,la)}merge(c){if(A(this.dimensions,c.dimensions)){var t=this.measures;c=c.measures;for(const la of Md(c)){const sa=c[la];for(const Da of Md(sa))if(la in t){var M;t[la][Da]=new Set([...null!==(M=t[la][Da])&&void 0!==M?M:[],...sa[Da]])}else t[la]=
{[Da]:sa[Da]}}return!0}Oi.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Md(this.measures)])}producedFields(){const c=new Set;for(const t of Md(this.measures))for(const M of Md(this.measures[t])){const la=this.measures[t][M];0===la.size?c.add("".concat(M,"_").concat(t)):la.forEach(c.add,c)}return c}hash(){return"Aggregate ".concat(l({dimensions:this.dimensions,measures:this.measures}))}assemble(){const c=
[],t=[],M=[];for(const la of Md(this.measures))for(const sa of Md(this.measures[la]))for(const Da of this.measures[la][sa])M.push(Da),c.push(sa),t.push("*"===la?null:fa(la));return{type:"aggregate",groupby:[...this.dimensions].map(fa),ops:c,fields:t,as:M}}}class Xk extends qg{constructor(c,t,M,la){super(c);this.model=t;this.name=M;this.data=la;Rc(this,"column",void 0);Rc(this,"row",void 0);Rc(this,"facet",void 0);Rc(this,"childModel",void 0);for(const sa of ch)if(c=t.facet[sa]){const {bin:Da,sort:db}=
c;this[sa]=Object.assign({},{name:t.getName("".concat(sa,"_domain")),fields:[Ka(c),...Pa(Da)?[Ka(c,{binSuffix:"end"})]:[]]},Wb(db)?{sortField:db}:n.isArray(db)?{sortIndexField:ki(c,sa)}:{})}this.childModel=t.child}hash(){let c="Facet";for(const t of ch)this[t]&&(c+=" ".concat(t.charAt(0),":").concat(l(this[t])));return c}get fields(){const c=[];for(const M of ch){var t;null!==(t=this[M])&&void 0!==t&&t.fields&&c.push(...this[M].fields)}return c}dependentFields(){const c=new Set(this.fields);for(const t of ch)this[t]&&
(this[t].sortField&&c.add(this[t].sortField.field),this[t].sortIndexField&&c.add(this[t].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const c={};for(const la of ti){var t=this.childModel.component.scales[la];if(t&&!t.merged){var M=t.get("type");t=t.get("range");M in Pg&&Gb(t)&&(M=ef(this.childModel,la),(M=Re(M))?c[la]=M:Db(Vc(la)))}}return c}assembleRowColumnHeaderData(c,t,M){const la={row:"y",column:"x",facet:void 0}[c],
sa=[],Da=[],db=[];la&&M&&M[la]&&(t?(sa.push("distinct_".concat(M[la])),Da.push("max")):(sa.push(M[la]),Da.push("distinct")),db.push("distinct_".concat(M[la])));const {sortField:pb,sortIndexField:Cb}=this[c];if(pb){const {op:Jb="min",field:mc}=pb;sa.push(mc);Da.push(Jb);db.push(Ka(pb,{forAs:!0}))}else Cb&&(sa.push(Cb),Da.push("max"),db.push(Cb));return{name:this[c].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[c].fields},sa.length?{fields:sa,
ops:Da,as:db}:{})]}}assembleFacetHeaderData(c){const {columns:t}=this.model.layout,{layoutHeaders:M}=this.model.component,la=[],sa={};for(const mc of bm){for(const hd of Rl){var Da,db=null!==(Da=M[mc]&&M[mc][hd])&&void 0!==Da?Da:[];for(const md of db){var pb;if(0<(null===(pb=md.axes)||void 0===pb?void 0:pb.length)){sa[mc]=!0;break}}}sa[mc]&&(db='length(data("'.concat(this.facet.name,'"))'),db="row"===mc?t?{signal:"ceil(".concat(db," / ").concat(t,")")}:1:t?{signal:"min(".concat(db,", ").concat(t,
")")}:{signal:db},la.push({name:"".concat(this.facet.name,"_").concat(mc),transform:[{type:"sequence",start:0,stop:db}]}))}const {row:Cb,column:Jb}=sa;(Cb||Jb)&&la.unshift(this.assembleRowColumnHeaderData("facet",null,c));return la}assemble(){const c=[];var t=null;const M=this.getChildIndependentFieldsWithStep(),{column:la,row:sa,facet:Da}=this;if(la&&sa&&(M.x||M.y)){var db,pb;t="cross_".concat(this.column.name,"_").concat(this.row.name);const Cb=[].concat(null!==(db=M.x)&&void 0!==db?db:[],null!==
(pb=M.y)&&void 0!==pb?pb:[]);db=Cb.map(()=>"distinct");c.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Cb,ops:db}]})}for(const Cb of["column","row"])this[Cb]&&c.push(this.assembleRowColumnHeaderData(Cb,t,M));Da&&(t=this.assembleFacetHeaderData(M))&&c.push(...t);return c}}class Jh extends qg{clone(){return new Jh(null,pf(this._parse))}constructor(c,t){super(c);Rc(this,"_parse",void 0);this._parse=t}hash(){return"Parse ".concat(l(this._parse))}static makeExplicit(c,
t,M){let la={};t=t.data;!Cf(t)&&t&&t.format&&t.format.parse&&(la=t.format.parse);return this.makeWithAncestors(c,la,{},M)}static makeWithAncestors(c,t,M,la){for(var sa of Md(M)){const db=la.getWithExplicit(sa);void 0!==db.value&&(db.explicit||db.value===M[sa]||"derived"===db.value||"flatten"===M[sa]?delete M[sa]:Db(wb(sa,M[sa],db.value)))}for(var Da of Md(t))sa=la.get(Da),void 0!==sa&&(sa===t[Da]?delete t[Da]:Db(wb(Da,t[Da],sa)));t=new Yj(t,M);la.copyAll(t);M={};for(const db of Md(t.combine()))Da=
t.get(db),null!==Da&&(M[db]=Da);return 0===Md(M).length||la.parseNothing?null:new Jh(c,M)}get parse(){return this._parse}merge(c){this._parse=Object.assign({},this._parse,c.parse);c.remove()}assembleFormatParse(){const c={};for(const t of Md(this._parse)){const M=this._parse[t];1===Q(t)&&(c[t]=M)}return c}producedFields(){return new Set(Md(this._parse))}dependentFields(){return new Set(Md(this._parse))}assembleTransforms(c){c=void 0===c?!1:c;return Md(this._parse).filter(t=>c?1<Q(t):!0).map(t=>{const M=
wk(t,this._parse[t]);return M?{type:"formula",expr:M,as:Z(t)}:null}).filter(t=>null!==t)}}class zk extends qg{clone(){return new zk(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class Bl extends qg{clone(){return new Bl(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(l(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class Cl extends qg{clone(){return new Cl(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){var c;return new Set([null!==(c=this.params.as)&&void 0!==c?c:"data"])}hash(){return"Hash ".concat(l(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class yk extends qg{constructor(c){var t;super(null);Rc(this,"_data",void 0);Rc(this,"_name",void 0);Rc(this,"_generator",
void 0);null!==(t=c)&&void 0!==t?t:c={name:"source"};let M;Cf(c)||(M=c.format?Object.assign({},v(c.format,["parse"])):{});if("values"in c)this._data={values:c.values};else if("url"in c)this._data={url:c.url},M.type||(t=/(?:\.([^.]+))?$/.exec(c.url)[1],d(["json","csv","tsv","dsv","topojson"],t)||(t="json"),M.type=t);else if("sphere"in c)this._data={values:[{type:"Sphere"}]};else if(jf(c)||Cf(c))this._data={};this._generator=Cf(c);c.name&&(this._name=c.name);M&&!L(M)&&(this._data.format=M)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=
c}set parent(c){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Il=new WeakMap;class cm{constructor(){Il.set(this,{writable:!0,value:void 0});Yd(this,Il,!1)}setModified(){Yd(this,Il,!0)}get modifiedFlag(){var c=Il.get(this);if(!c)throw new TypeError("attempted to get private field on non-instance");c=c.get?
c.get.call(this):c.value;return c}}class Ak extends cm{getNodeDepths(c,t,M){M.set(c,t);for(const la of c.children)this.getNodeDepths(la,t+1,M);return M}optimize(c){c=[...this.getNodeDepths(c,0,new Map).entries()].sort((t,M)=>M[1]-t[1]);for(const t of c)this.run(t[0]);return this.modifiedFlag}}class dm extends cm{optimize(c){this.run(c);for(const t of c.children)this.optimize(t);return this.modifiedFlag}}class mn extends dm{mergeNodes(c,t){const M=t.shift();for(const la of t)c.removeChild(la),la.parent=
M,la.remove()}run(c){const t=c.children.map(la=>la.hash()),M={};for(let la=0;la<t.length;la++)void 0===M[t[la]]?M[t[la]]=[c.children[la]]:M[t[la]].push(c.children[la]);for(const la of Md(M))1<M[la].length&&(this.setModified(),this.mergeNodes(c,M[la]))}}class dn extends dm{constructor(c){super();Rc(this,"requiresSelectionId",void 0);this.requiresSelectionId=c&&Ji(c)}run(c){!(c instanceof zk)||this.requiresSelectionId&&(og(c.parent)||c.parent instanceof gj||c.parent instanceof Jh)||(this.setModified(),
c.remove())}}class hn extends cm{optimize(c){this.run(c,new Set);return this.modifiedFlag}run(c,t){let M=new Set;c instanceof wj&&(M=c.producedFields(),C(M,t)&&(this.setModified(),c.removeFormulas(t),0===c.producedFields.length&&c.remove()));for(const la of c.children)this.run(la,new Set([...t,...M]))}}class cn extends dm{constructor(){super()}run(c){c instanceof Ih&&!c.isRequired()&&(this.setModified(),c.remove())}}class fn extends Ak{run(c){if(!(og(c)||1<c.numChildren()))for(const t of c.children)t instanceof
Jh&&(c instanceof Jh?(this.setModified(),c.merge(t)):P(c.producedFields(),t.dependentFields())||(this.setModified(),t.swapWithParent()))}}class jn extends Ak{run(c){const t=[...c.children];var M=c.children.filter(sa=>sa instanceof Jh);if(1<c.numChildren()&&1<=M.length){const sa={};var la=new Set;for(const Da of M){M=Da.parse;for(const db of Md(M))db in sa?sa[db]!==M[db]&&la.add(db):sa[db]=M[db]}for(const Da of la)delete sa[Da];if(!L(sa)){this.setModified();la=new Jh(c,sa);for(const Da of t){if(Da instanceof
Jh)for(const db of Md(sa))delete Da.parse[db];c.removeChild(Da);Da.parent=la;Da instanceof Jh&&0===Md(Da.parse).length&&Da.remove()}}}}}class en extends Ak{run(c){c instanceof Ih||0<c.numChildren()||c instanceof Xk||c instanceof yk||(this.setModified(),c.remove())}}class ln extends Ak{run(c){c=c.children.filter(M=>M instanceof wj);const t=c.pop();for(const M of c)this.setModified(),t.merge(M)}}class kn extends Ak{run(c){var t=c.children.filter(sa=>sa instanceof gj);const M={};for(var la of t)t=l(la.groupBy),
t in M||(M[t]=[]),M[t].push(la);for(const sa of Md(M))if(la=M[sa],1<la.length){t=la.pop();for(const Da of la)t.merge(Da)&&(c.removeChild(Da),Da.parent=t,Da.remove(),this.setModified())}}}class gn extends Ak{constructor(c){super();this.model=c}run(c){var t=!(og(c)||c instanceof nl||c instanceof Jh||c instanceof zk);const M=[],la=[];for(const sa of c.children)sa instanceof vj&&(t&&!P(c.producedFields(),sa.dependentFields())?M.push(sa):la.push(sa));if(0<M.length){t=M.pop();for(const sa of M)t.merge(sa,
this.model.renameSignal.bind(this.model));this.setModified();c instanceof vj?c.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(1<la.length){c=la.pop();for(const sa of la)c.merge(sa,this.model.renameSignal.bind(this.model));this.setModified()}}}class nn extends Ak{run(c){var t=[...c.children];if(f(t,sa=>sa instanceof Ih)&&!(1>=c.numChildren())){var M=[];for(const sa of t)if(sa instanceof Ih){for(t=sa;1===t.numChildren();){const [Da]=t.children;if(Da instanceof Ih)t=Da;else break}M.push(...t.children);
if(la)c.removeChild(sa),sa.parent=la.parent,la.parent.removeChild(la),la.parent=t,this.setModified();else var la=t}else M.push(sa);if(M.length){this.setModified();for(const sa of M)sa.parent.removeChild(sa),sa.parent=la}}}}class Yk extends qg{clone(){return new Yk(null,pf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=p(this.transform.groupby.concat(c),t=>t)}dependentFields(){const c=new Set;this.transform.groupby&&this.transform.groupby.forEach(c.add,
c);this.transform.joinaggregate.map(t=>t.field).filter(t=>void 0!==t).forEach(c.add,c);return c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:Ka(c)}hash(){return"JoinAggregateTransform ".concat(l(this.transform))}assemble(){const c=[],t=[],M=[];for(var la of this.transform.joinaggregate)t.push(la.op),M.push(this.getDefaultName(la)),c.push(void 0===la.field?null:la.field);la=this.transform.groupby;
return Object.assign({},{type:"joinaggregate",as:M,ops:t,fields:c},void 0!==la?{groupby:la}:{})}}class Xj extends qg{clone(){return new Xj(null,pf(this._stack))}constructor(c,t){super(c);Rc(this,"_stack",void 0);this._stack=t}static makeFromTransform(c,t){const {stack:M,groupby:la,as:sa,offset:Da="zero"}=t;var db=[];const pb=[];if(void 0!==t.sort)for(const Cb of t.sort)db.push(Cb.field),pb.push(q(Cb.order,"ascending"));db={field:db,order:pb};t=mj(sa)?sa:n.isString(sa)?[sa,"".concat(sa,"_end")]:["".concat(t.stack,
"_start"),"".concat(t.stack,"_end")];return new Xj(c,{stackField:M,groupby:la,offset:Da,sort:db,facetby:[],as:t})}static makeFromEncoding(c,t){var M=t.stack,{encoding:la}=t;if(!M)return null;const {groupbyChannel:sa,fieldChannel:Da,offset:db,impute:pb}=M;let Cb;sa&&(Cb=Sc(la[sa]));M=jl(t);la=t.encoding.order;la=n.isArray(la)||kd(la)?Kc(la):M.reduce((Jb,mc)=>{Jb.field.push(mc);Jb.order.push("y"===Da?"descending":"ascending");return Jb},{field:[],order:[]});return new Xj(c,{dimensionFieldDef:Cb,stackField:t.vgField(Da),
facetby:[],stackby:M,sort:la,offset:db,impute:pb,as:[t.vgField(Da,{suffix:"start",forAs:!0}),t.vgField(Da,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){const c=new Set;c.add(this._stack.stackField);this.getGroupbyFields().forEach(c.add,c);this._stack.facetby.forEach(c.add,c);this._stack.sort.field.forEach(c.add,c);return c}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(l(this._stack))}getGroupbyFields(){const {dimensionFieldDef:c,
impute:t,groupby:M}=this._stack;return c?c.bin?t?[Ka(c,{binSuffix:"mid"})]:[Ka(c,{}),Ka(c,{binSuffix:"end"})]:[Ka(c)]:null!==M&&void 0!==M?M:[]}assemble(){const c=[],{facetby:t,dimensionFieldDef:M,stackField:la,stackby:sa,sort:Da,offset:db,impute:pb,as:Cb}=this._stack;if(pb&&M){const {bandPosition:Jb=.5,bin:mc}=M;mc&&c.push({type:"formula",expr:"".concat(Jb,"*")+Ka(M,{expr:"datum"})+"+".concat(1-Jb,"*")+Ka(M,{expr:"datum",binSuffix:"end"}),as:Ka(M,{binSuffix:"mid",forAs:!0})});c.push({type:"impute",
field:la,groupby:[...sa,...t],key:Ka(M,{binSuffix:"mid"}),method:"value",value:0})}c.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:la,sort:Da,as:Cb,offset:db});return c}}class ml extends qg{clone(){return new ml(null,pf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=p(this.transform.groupby.concat(c),t=>t)}dependentFields(){var c,t;const M=new Set;(null!==(c=this.transform.groupby)&&void 0!==c?c:[]).forEach(M.add,M);(null!==
(t=this.transform.sort)&&void 0!==t?t:[]).forEach(la=>M.add(la.field));this.transform.window.map(la=>la.field).filter(la=>void 0!==la).forEach(M.add,M);return M}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:Ka(c)}hash(){return"WindowTransform ".concat(l(this.transform))}assemble(){const c=[],t=[],M=[],la=[];for(var sa of this.transform.window)t.push(sa.op),M.push(this.getDefaultName(sa)),la.push(void 0===
sa.param?null:sa.param),c.push(void 0===sa.field?null:sa.field);sa=this.transform.frame;const Da=this.transform.groupby;if(sa&&null===sa[0]&&null===sa[1]&&t.every(Jb=>qa(Jb)))return Object.assign({},{type:"joinaggregate",as:M,ops:t,fields:c},void 0!==Da?{groupby:Da}:{});const db=[],pb=[];if(void 0!==this.transform.sort)for(const Jb of this.transform.sort){var Cb;db.push(Jb.field);pb.push(null!==(Cb=Jb.order)&&void 0!==Cb?Cb:"ascending")}Cb=this.transform.ignorePeers;return Object.assign({},{type:"window",
params:la,as:M,ops:t,fields:c,sort:{field:db,order:pb}},void 0!==Cb?{ignorePeers:Cb}:{},void 0!==Da?{groupby:Da}:{},void 0!==sa?{frame:sa}:{})}}class ei{constructor(c){Rc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,t){return new ei(()=>c(t))}}class um extends Yj{constructor(c,t){super({},{name:c});Rc(this,"merged",!1);this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:f(this.get("domains"),c=>n.isArray(c)&&
2===c.length&&0>=c[0]&&0<=c[1])}}const on=["range","scheme"],tm={bins:c=>{var {model:t,fieldOrDatumDef:M}=c;return kd(M)?kl(t,M):void 0},interpolate:c=>{var {channel:t,fieldOrDatumDef:M}=c;c=M.type;c=d(["color","fill","stroke"],t)&&"nominal"!==c?"hcl":void 0;return c},nice:c=>{var {scaleType:t,channel:M,domain:la,fieldOrDatumDef:sa}=c;var Da;c=null!==(Da=Sc(sa))&&void 0!==Da&&Da.bin||n.isArray(la)||d([Dg.TIME,Dg.UTC],t)?void 0:M in Zg?!0:void 0;return c},padding:c=>{var {channel:t,scaleType:M,fieldOrDatumDef:la,
markDef:sa,config:Da}=c;a:{c=Da.scale;var db=Da.bar;if(t in Zg){if(M in oh){if(void 0!==c.continuousPadding){c=c.continuousPadding;break a}const {type:pb,orient:Cb}=sa;if("bar"===pb&&(!kd(la)||!la.bin&&!la.timeUnit)&&("vertical"===Cb&&"x"===t||"horizontal"===Cb&&"y"===t)){c=db.continuousBandSize;break a}}if(M===Dg.POINT){c=c.pointPadding;break a}}c=void 0}return c},paddingInner:c=>{var {scalePadding:t,channel:M,markDef:la,config:sa}=c;if(void 0!==t)c=void 0;else if(M in Zg){const {bandPaddingInner:Da,
barBandPaddingInner:db,rectBandPaddingInner:pb}=sa.scale;c=q(Da,"bar"===la.type?db:pb)}else c=void 0;return c},paddingOuter:c=>{var {scalePadding:t,channel:M,scaleType:la,scalePaddingInner:sa,config:Da}=c;void 0!==t?c=void 0:M in Zg&&la===Dg.BAND?({bandPaddingOuter:c}=Da.scale,c=q(c,eb(sa)?{signal:"".concat(sa.signal,"/2")}:sa/2)):c=void 0;return c},reverse:c=>{var {fieldOrDatumDef:t,scaleType:M,channel:la,config:sa}=c;c=kd(t)?t.sort:void 0;var Da=sa.scale;c="x"===la&&void 0!==Da.xReverse?M in Jg&&
"descending"===c?eb(Da.xReverse)?{signal:"!".concat(Da.xReverse.signal)}:!Da.xReverse:Da.xReverse:M in Jg&&"descending"===c?!0:void 0;return c},zero:c=>{var {channel:t,fieldOrDatumDef:M,domain:la,markDef:sa,scaleType:Da}=c;a:if(la&&"unaggregated"!==la&&Da in Jg){if(n.isArray(la)&&(c=la[la.length-1],0>=la[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==t||"quantitative"!==M.type||Da in sj)if(kd(M)&&M.bin||!d([...ti,...Jk],t))c=!1;else{const {orient:db,type:pb}=sa;c=d(["bar","area","line","trail"],pb)&&
("horizontal"===db&&"y"===t||"vertical"===db&&"x"===t)?!1:!0}else c=!0;return c}},pn=wd((c,t)=>ai[c]-ai[t]);class em{constructor(){Rc(this,"nameMap",void 0);this.nameMap={}}rename(c,t){this.nameMap[c]=t}has(c){return void 0!==this.nameMap[c]}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}class fm{constructor(c,t,M,la,sa,Da,db){var pb,Cb;this.type=t;this.parent=M;this.config=sa;Rc(this,"name",void 0);Rc(this,"size",void 0);Rc(this,"title",void 0);Rc(this,"description",
void 0);Rc(this,"data",void 0);Rc(this,"transforms",void 0);Rc(this,"layout",void 0);Rc(this,"scaleNameMap",void 0);Rc(this,"projectionNameMap",void 0);Rc(this,"signalNameMap",void 0);Rc(this,"component",void 0);Rc(this,"view",void 0);Rc(this,"children",[]);Rc(this,"correctDataNames",Jb=>{Jb.from&&Jb.from.data&&(Jb.from.data=this.lookupDataSource(Jb.from.data));Jb.from&&Jb.from.facet&&Jb.from.facet.data&&(Jb.from.facet.data=this.lookupDataSource(Jb.from.facet.data));return Jb});this.parent=M;this.config=
sa;this.view=oa(db);this.name=null!==(pb=c.name)&&void 0!==pb?pb:la;this.title=Ua(c.title)?{text:c.title}:c.title?oa(c.title):void 0;this.scaleNameMap=M?M.scaleNameMap:new em;this.projectionNameMap=M?M.projectionNameMap:new em;this.signalNameMap=M?M.signalNameMap:new em;this.data=c.data;this.description=c.description;this.transforms=Jc(null!==(Cb=c.transform)&&void 0!==Cb?Cb:[]);this.layout="layer"===t||"unit"===t?{}:Bd(c,t,sa);this.component={data:{sources:M?M.component.data.sources:[],outputNodes:M?
M.component.data.outputNodes:{},outputNodeRefCounts:M?M.component.data.outputNodeRefCounts:{},isFaceted:"facet"in c||M&&M.component.data.isFaceted&&void 0===c.data},layoutSize:new Yj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},Da?pf(Da):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();
this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:c}={};Fi(this);pg(this)?Ya(this):bb(this);for(const t of Ni)Sh(this,t);c||bi(this)}parseProjection(){Dk(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),
"height")}parseLegends(){cj(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var c,t;return null!==(c=null===(t=this.view)||void 0===t?void 0:t.style)&&void 0!==c?c:"cell"}}assembleEncodeFromView(c){c=Object.assign({},c);c=(delete c.style,c);const t={};for(const M of Md(c)){const la=c[M];void 0!==la&&(t[M]=Fc(la))}return t}assembleGroupEncodeEntry(c){let t={};this.view&&(t=this.assembleEncodeFromView(this.view));if(!c&&(this.description&&(t.description=Fc(this.description)),
"unit"===this.type||"layer"===this.type)){var M;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(M=t)&&void 0!==M?M:{})}return L(t)?void 0:t}assembleLayout(){if(this.layout){var c=this.layout,t=Object.assign({},c);c=c.spacing;t=(delete t.spacing,t);var {component:M,config:la}=this;{var sa=M.layoutHeaders;const pb={};for(db of ch){var Da=sa[db];if(null!==Da&&void 0!==Da&&Da.facetFieldDef){const {titleAnchor:Cb,titleOrient:Jb}=Xf(["titleAnchor",
"titleOrient"],Da.facetFieldDef.header,la,db);Da=Sj(db,Jb);const mc=yn[Da][Cb];void 0!==mc&&(pb[Da]=mc)}}var db=L(pb)?void 0:pb}return Object.assign({},{padding:c},this.assembleDefaultLayout(),t,db?{titleBand:db}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:c}=this.component;let t=[];for(const M of ch)c[M].title&&t.push(Xh(this,M));for(const M of bm)t=t.concat(ij(this,M));return t}assembleAxes(){return Ai(this.component.axes,this.config)}assembleLegends(){return dj(this)}assembleProjections(){var c=
Zh(this)||ek(this)?lj(this):ej(this);return c}assembleTitle(){var c,t=null!==(c=this.title)&&void 0!==c?c:{};c=Object.assign({},t);t=t.encoding;c=(delete c.encoding,c);t=Object.assign({},Ia(this.config.title).nonMark,c,t?{encode:{update:t}}:{});if(t.text){if(d(["unit","layer"],this.type)){if(d(["middle",void 0],t.anchor)){var M;null!==(M=t.frame)&&void 0!==M?M:t.frame="group"}}else{var la;null!==(la=t.anchor)&&void 0!==la?la:t.anchor="start"}return L(t)?void 0:t}}assembleGroup(c){c=void 0===c?[]:
c;const t={};c=c.concat(this.assembleSignals());0<c.length&&(t.signals=c);if(c=this.assembleLayout())t.layout=c;t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());c=!this.parent||Ph(this.parent)?Ie(this):[];0<c.length&&(t.scales=c);c=this.assembleAxes();0<c.length&&(t.axes=c);c=this.assembleLegends();0<c.length&&(t.legends=c);return t}getName(c){return z((this.name?"".concat(this.name,"_"):"")+c)}getDataName(c){return this.getName(zg[c].toLowerCase())}requestDataName(c){c=this.getDataName(c);
const t=this.component.data.outputNodeRefCounts;t[c]=(t[c]||0)+1;return c}getSizeSignalRef(c){if(Ph(this.parent)){var t=Uh(c),M=V(t);if((t=this.component.scales[M])&&!t.merged){var la=t.get("type");const sa=t.get("range");if(la in Pg&&Gb(sa)){c=t.get("name");la=ef(this,M);if(la=Re(la))return M=Ka({aggregate:"distinct",field:la},{expr:"datum"}),{signal:Pf(c,t,M)};Db(Vc(M));return null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){const t=this.component.data.outputNodes[c];
return t?t.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,t){this.signalNameMap.rename(c,t)}renameScale(c,t){this.scaleNameMap.rename(c,t)}renameProjection(c,t){this.projectionNameMap.rename(c,t)}scaleName(c,t){if(t)return this.getName(c);if(mh[c]&&Li[c]&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const t=this.component.scales[c];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,t){let M=this.component.selection[c];!M&&this.parent&&(M=this.parent.getSelectionComponent(c,
t));if(!M)throw Error('Cannot find a selection named "'.concat(t,'".'));return M}hasAxisOrientSignalRef(){var c,t;return(null===(c=this.component.axes.x)||void 0===c?void 0:c.some(M=>M.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(M=>M.hasOrientSignalRef()))}}class Dm extends fm{vgField(c,t){t=void 0===t?{}:t;if(c=this.fieldDef(c))return Ka(c,t)}reduceFieldDef(c,t){return Sa(this.getMapping(),(M,la,sa)=>(la=Sc(la))?c(M,la,sa):M,t)}forEachFieldDef(c,t){Oa(this.getMapping(),
(M,la)=>{(M=Sc(M))&&c(M,la)},t)}}class Ul extends qg{clone(){return new Ul(null,pf(this.transform))}constructor(c,t){var M,la,sa;super(c);this.transform=t;this.transform=pf(t);c=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=c[0])&&void 0!==la?la:"value",null!==(sa=c[1])&&void 0!==sa?sa:"density"]}dependentFields(){var c;return new Set([this.transform.density,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(l(this.transform))}assemble(){var c=
this.transform,t=Object.assign({},c);c=c.density;t=(delete t.density,t);return Object.assign({},{type:"kde",field:c},t)}}class Dl extends qg{clone(){return new Dl(null,Object.assign({},this.filter))}constructor(c,t){super(c);this.filter=t}static make(c,t){const {config:M,mark:la,markDef:sa}=t;if("filter"!==Cc("invalid",sa,M))return null;const Da=t.reduceFieldDef((db,pb,Cb)=>{(Cb=!!Li[Cb]&&t.getScaleComponent(Cb))&&Cb.get("type")in Jg&&"count"!==pb.aggregate&&!Qd(la)&&(db[pb.field]=pb);return db},
{});return Md(Da).length?new Dl(c,Da):null}dependentFields(){return new Set(Md(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(l(this.filter))}assemble(){const c=Md(this.filter).reduce((t,M)=>{M=this.filter[M];const la=Ka(M,{expr:"datum"});null!==M&&("temporal"===M.type?t.push("(isDate(".concat(la,") || (isValid(").concat(la,") \x26\x26 isFinite(+").concat(la,")))")):"quantitative"===M.type&&(t.push("isValid(".concat(la,")")),t.push("isFinite(+".concat(la,")"))));
return t},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null}}class Tl extends qg{clone(){return new Tl(this.parent,pf(this.transform))}constructor(c,t){super(c);this.transform=t;this.transform=pf(t);const {flatten:M,as:la=[]}=this.transform;this.transform.as=M.map((sa,Da)=>{var db;return null!==(db=la[Da])&&void 0!==db?db:sa})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(l(this.transform))}assemble(){const {flatten:c,
as:t}=this.transform;return{type:"flatten",fields:c,as:t}}}class Sl extends qg{clone(){return new Sl(null,pf(this.transform))}constructor(c,t){var M,la,sa;super(c);this.transform=t;this.transform=pf(t);c=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=c[0])&&void 0!==la?la:"key",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(l(this.transform))}assemble(){const {fold:c,
as:t}=this.transform;return{type:"fold",fields:c,as:t}}}class pl extends qg{clone(){return new pl(null,pf(this.fields),this.geojson,this.signal)}static parseAll(c,t){if(t.component.projection&&!t.component.projection.isFit)return c;let M=0;for(var la of[["longitude","latitude"],["longitude2","latitude2"]]){const sa=la.map(Da=>{Da=gd(t.encoding[Da]);return kd(Da)?Da.field:bf(Da)?{expr:"".concat(Da.datum)}:zf(Da)?{expr:"".concat(Da.value)}:void 0});if(sa[0]||sa[1])c=new pl(c,sa,null,t.getName("geojson_".concat(M++)))}t.channelHasField("shape")&&
(la=t.typedFieldDef("shape"),"geojson"===la.type&&(c=new pl(c,null,la.field,t.getName("geojson_".concat(M++)))));return c}constructor(c,t,M,la){super(c);this.fields=t;this.geojson=M;this.signal=la}dependentFields(){var c;const t=(null!==(c=this.fields)&&void 0!==c?c:[]).filter(n.isString);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(l(this.fields))}assemble(){return[...this.geojson?
[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[],Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class El extends qg{clone(){return new El(null,this.projection,pf(this.fields),pf(this.as))}constructor(c,t,M,la){super(c);this.projection=t;this.fields=M;this.as=la}static parseAll(c,t){if(!t.projectionName())return c;for(const M of[["longitude","latitude"],["longitude2","latitude2"]]){const la=
M.map(Da=>{Da=gd(t.encoding[Da]);return kd(Da)?Da.field:bf(Da)?{expr:"".concat(Da.datum)}:zf(Da)?{expr:"".concat(Da.value)}:void 0}),sa="longitude2"===M[0]?"2":"";if(la[0]||la[1])c=new El(c,t.projectionName(),la,[t.getName("x".concat(sa)),t.getName("y".concat(sa))])}return c}dependentFields(){return new Set(this.fields.filter(n.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(l(this.fields)," ").concat(l(this.as))}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Zk extends qg{clone(){return new Zk(null,pf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){var c;return new Set([this.transform.impute,this.transform.key,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){const {start:t=0,stop:M,step:la}=c;c=[t,M,...la?[la]:[]].join();return{signal:"sequence(".concat(c,")")}}static makeFromTransform(c,
t){return new Zk(c,t)}static makeFromEncoding(c,t){const M=t.encoding;var la=M.x;const sa=M.y;if(kd(la)&&kd(sa)){const Da=la.impute?la:sa.impute?sa:void 0;if(void 0===Da)return;la=la.impute?sa:sa.impute?la:void 0;const {method:db,value:pb,frame:Cb,keyvals:Jb}=Da.impute;t=gb(t.mark,M);return new Zk(c,Object.assign({},{impute:Da.field,key:la.field},db?{method:db}:{},void 0!==pb?{value:pb}:{},Cb?{frame:Cb}:{},void 0!==Jb?{keyvals:Jb}:{},t.length?{groupby:t}:{}))}return null}hash(){return"Impute ".concat(l(this.transform))}assemble(){const {impute:c,
key:t,keyvals:M,method:la,groupby:sa,value:Da,frame:db=[null,null]}=this.transform,pb=Object.assign({},{type:"impute",field:c,key:t},M?{keyvals:void 0!==(null===M||void 0===M?void 0:M.stop)?this.processSequence(M):M}:{},{method:"value"},sa?{groupby:sa}:{},{value:la&&"value"!==la?null:Da});if(la&&"value"!==la){const Cb=Object.assign({},{type:"window",as:["imputed_".concat(c,"_value")],ops:[la],fields:[c],frame:db,ignorePeers:!1},sa?{groupby:sa}:{}),Jb={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,
"_value : datum.").concat(c),as:c};return[pb,Cb,Jb]}return[pb]}}class Vl extends qg{clone(){return new Vl(null,pf(this.transform))}constructor(c,t){var M,la,sa;super(c);this.transform=t;this.transform=pf(t);c=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=c[0])&&void 0!==la?la:t.on,null!==(sa=c[1])&&void 0!==sa?sa:t.loess]}dependentFields(){var c;return new Set([this.transform.loess,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(l(this.transform))}assemble(){var c=
this.transform,t=Object.assign({},c);const M=c.loess;c=c.on;t=(delete t.loess,delete t.on,t);return Object.assign({},{type:"loess",x:c,y:M},t)}}class Fl extends qg{clone(){return new Fl(null,pf(this.transform),this.secondary)}constructor(c,t,M){super(c);this.transform=t;this.secondary=M}static make(c,t,M,la){const sa=t.component.data.sources,{from:Da}=M;var db=null;if("data"in Da)db=wl(Da.data,sa),db||(db=new yk(Da.data),sa.push(db)),la=t.getName("lookup_".concat(la)),db=new Ih(db,la,zg.Lookup,t.component.data.outputNodeRefCounts),
t.component.data.outputNodes[la]=db;else if("param"in Da){la=Da.param;M=Object.assign({},{as:la},M);let pb;try{pb=t.getSelectionComponent(z(la),la)}catch(Cb){throw Error('Lookups can only be performed on selection parameters. "'.concat(la,'" is a variable parameter.'));}db=pb.materialized;if(!db)throw Error('Cannot define and lookup the "'.concat(la,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new Fl(c,M,db.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
n.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(l({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var c=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:n.array(this.transform.as)}:{});else c=this.transform.as,n.isString(c)||(Db('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),c="_lookup"),c={as:[c]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},c,this.transform.default?{default:this.transform.default}:{})}}class Wl extends qg{clone(){return new Wl(null,pf(this.transform))}constructor(c,t){var M,la,sa;super(c);this.transform=t;this.transform=pf(t);c=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,void 0];this.transform.as=[null!==(la=c[0])&&void 0!==la?la:"prob",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){var c;return new Set([this.transform.quantile,
...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(l(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.quantile;t=(delete t.quantile,t);return Object.assign({},{type:"quantile",field:c},t)}}class Xl extends qg{clone(){return new Xl(null,pf(this.transform))}constructor(c,t){var M,la,sa;super(c);this.transform=t;this.transform=pf(t);c=null!==(M=this.transform.as)&&void 0!==M?M:[void 0,
void 0];this.transform.as=[null!==(la=c[0])&&void 0!==la?la:t.on,null!==(sa=c[1])&&void 0!==sa?sa:t.regression]}dependentFields(){var c;return new Set([this.transform.regression,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(l(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);const M=c.regression;c=c.on;t=(delete t.regression,delete t.on,t);return Object.assign({},
{type:"regression",x:c,y:M},t)}}class Zl extends qg{clone(){return new Zl(null,pf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){var t;this.transform.groupby=p((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(c),M=>M)}producedFields(){}dependentFields(){var c;return new Set([this.transform.pivot,this.transform.value,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}hash(){return"PivotTransform ".concat(l(this.transform))}assemble(){const {pivot:c,value:t,
groupby:M,limit:la,op:sa}=this.transform;return Object.assign({},{type:"pivot",field:c,value:t},void 0!==la?{limit:la}:{},void 0!==sa?{op:sa}:{},void 0!==M?{groupby:M}:{})}}class Yl extends qg{clone(){return new Yl(null,pf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(l(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class Hl extends Dm{constructor(c,
t,M,la){super(c,"facet",t,M,la,c.resolve);Rc(this,"facet",void 0);Rc(this,"child",void 0);Rc(this,"children",void 0);this.child=ri(c.spec,this,this.getName("child"),void 0,la);this.children=[this.child];this.facet=this.initFacet(c.facet)}initFacet(c){if(!Nc(c))return{facet:this.initFacetFieldDef(c,"facet")};var t=Md(c);const M={};for(const la of t){if(!["row","column"].includes(la)){Db(Ac(la,"facet"));break}t=c[la];if(void 0===t.field){Db(ic(t,la));break}M[la]=this.initFacetFieldDef(t,la)}return M}initFacetFieldDef(c,
t){c=ie(c,t);c.header?c.header=oa(c.header):null===c.header&&(c.header=null);return c}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=Tj(this);this.child.parseData()}parseLayoutSize(){Mi(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const la of ch){{var c=void 0,t=la;const {facet:sa,
config:Da,child:db,component:pb}=this;if(this.channelHasField(t)){const Cb=sa[t];var M=Gh("title",null,Da,t);M=Sb(Cb,Da,{allowDisabling:!0,includeDefault:void 0===M||!!M});db.component.layoutHeaders[t].title&&(M=n.isArray(M)?M.join(", "):M,M+=" / ".concat(db.component.layoutHeaders[t].title),db.component.layoutHeaders[t].title=null);const Jb=Gh("labelOrient",Cb.header,Da,t),mc=null!==Cb.header?q(null===(c=Cb.header)||void 0===c?void 0:c.labels,Da.header.labels,!0):!1;c=d(["bottom","right"],Jb)?"footer":
"header";pb.layoutHeaders[t]={title:null!==Cb.header?M:null,facetFieldDef:Cb,[c]:"facet"===t?[]:[Xi(this,t,mc)]}}}}Lk(this,"x");Lk(this,"y")}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){const c={};for(const db of ch)for(const pb of Rl){const Cb=this.component.layoutHeaders[db];var t=Cb[pb],{facetFieldDef:M}=
Cb;if(M&&(M=Gh("titleOrient",M.header,this.config,db),["right","bottom"].includes(M))){var la;M=Sj(db,M);null!==(la=c.titleAnchor)&&void 0!==la?la:c.titleAnchor={};c.titleAnchor[M]="end"}if(null!==t&&void 0!==t&&t[0]){t="row"===db?"height":"width";M="header"===pb?"headerBand":"footerBand";if("facet"!==db&&!this.child.component.layoutSize.get(t)){var sa;null!==(sa=c[M])&&void 0!==sa?sa:c[M]={};c[M][db]=.5}if(Cb.title){var Da;null!==(Da=c.offset)&&void 0!==Da?Da:c.offset={};c.offset["row"===db?"rowTitle":
"columnTitle"]=10}}}return c}assembleDefaultLayout(){const {column:c,row:t}=this.facet,M=c?this.columnDistinctSignal():t?1:void 0;let la="all";t||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(la="none"):la="none";return Object.assign({},this.getHeaderLayoutMixins(),M?{columns:M}:{},{bounds:"full",align:la})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Hl)){const c=
this.getName("column_domain");return{signal:"length(data('".concat(c,"'))")}}}assembleGroup(c){return this.parent&&this.parent instanceof Hl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Ka(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(c)):super.assembleGroup(c)}getCardinalityAggregateForChild(){const c=[],t=[],M=[];if(this.child instanceof Hl){if(this.child.channelHasField("column")){var la=Ka(this.child.facet.column);c.push(la);t.push("distinct");
M.push("distinct_".concat(la))}}else for(la of ti){var sa=this.child.component.scales[la];if(sa&&!sa.merged){var Da=sa.get("type");sa=sa.get("range");Da in Pg&&Gb(sa)&&(Da=ef(this.child,la),(Da=Re(Da))?(c.push(Da),t.push("distinct"),M.push("distinct_".concat(Da))):Db(Vc(la)))}}return{fields:c,ops:t,as:M}}assembleFacet(){const {name:c,data:t}=this.component.data.facetRoot,{row:M,column:la}=this.facet,{fields:sa,ops:Da,as:db}=this.getCardinalityAggregateForChild(),pb=[];for(var Cb of ch){var Jb=this.facet[Cb];
if(Jb){pb.push(Ka(Jb));const {bin:mc,sort:hd}=Jb;Pa(mc)&&pb.push(Ka(Jb,{binSuffix:"end"}));if(Wb(hd)){const {field:md,op:sd="min"}=hd;Jb=fk(Jb,hd);M&&la?(sa.push(Jb),Da.push("max")):(sa.push(md),Da.push(sd));db.push(Jb)}else n.isArray(hd)&&(Jb=ki(Jb,Cb),sa.push(Jb),Da.push("max"),db.push(Jb))}}Cb=!!M&&!!la;return Object.assign({},{name:c,data:t,groupby:pb},Cb||0<sa.length?{aggregate:Object.assign({},Cb?{cross:Cb}:{},sa.length?{fields:sa,ops:Da,as:db}:{})}:{})}facetSortFields(c){var {facet:t}=this;
return(t=t[c])?Wb(t.sort)?[fk(t,t.sort,{expr:"datum"})]:n.isArray(t.sort)?[ki(t,c,{expr:"datum"})]:[Ka(t,{expr:"datum"})]:[]}facetSortOrder(c){const {facet:t}=this;return(c=t[c])?({sort:c}=c,[(Wb(c)?c.order:!n.isArray(c)&&c)||"ascending"]):[]}assembleLabelTitle(){const {facet:c,config:t}=this;if(c.facet)return Wi(c.facet,"facet",t);const M={row:["top","bottom"],column:["left","right"]};for(const sa of bm)if(c[sa]){var la;const Da=Gh("labelOrient",null===(la=c[sa])||void 0===la?void 0:la.header,t,
sa);if(M[sa].includes(Da))return Wi(c[sa],sa,t)}}assembleMarks(){const {child:c}=this,t=bh(this.component.data.facetRoot),M=c.assembleGroupEncodeEntry(!1),la=this.assembleLabelTitle()||c.assembleTitle(),sa=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},la?{title:la}:{},sa?{style:sa}:{},{from:{facet:this.assembleFacet()},sort:{field:ch.map(Da=>this.facetSortFields(Da)).flat(),order:ch.map(Da=>this.facetSortOrder(Da)).flat()}},0<t.length?{data:t}:{},M?{encode:{update:M}}:
{},c.assembleGroup(Rh(this,[])))]}getMapping(){return this.facet}}class sn extends fm{constructor(c,t,M,la){var sa,Da,db,pb;super(c,"concat",t,M,la,c.resolve);Rc(this,"children",void 0);"shared"!==(null===(sa=c.resolve)||void 0===sa?void 0:null===(Da=sa.axis)||void 0===Da?void 0:Da.x)&&"shared"!==(null===(db=c.resolve)||void 0===db?void 0:null===(pb=db.axis)||void 0===pb?void 0:pb.y)||Db("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
this.children=this.getChildren(c).map((Cb,Jb)=>ri(Cb,this,this.getName("concat_".concat(Jb)),void 0,la))}parseData(){this.component.data=Tj(this);for(const c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Md(c.component.selection))this.component.selection[t]=c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(const c of this.children)c.parseAxesAndHeaders()}getChildren(c){return"vconcat"in
c?c.vconcat:"hconcat"in c?c.hconcat:c.concat}parseLayoutSize(){{Mi(this);const c=void 0===this.layout.columns?"height":"childHeight";Gk(this,1===this.layout.columns?"width":"childWidth");Gk(this,c)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,M)=>M.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){this.children.forEach(c=>c.assembleSignals());return[]}assembleLayoutSignals(){const c=pi(this);for(const t of this.children)c.push(...t.assembleLayoutSignals());
return c}assembleSelectionData(c){return this.children.reduce((t,M)=>M.assembleSelectionData(t),c)}assembleMarks(){return this.children.map(c=>{const t=c.assembleTitle(),M=c.assembleGroupStyle(),la=c.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:c.getName("group")},t?{title:t}:{},M?{style:M}:{},la?{encode:{update:la}}:{},c.assembleGroup())})}assembleDefaultLayout(){const c=this.layout.columns;return Object.assign({},null!=c?{columns:c}:{},{bounds:"full",align:"each"})}}const An=
Object.assign({},{disable:1,gridScale:1,scale:1},af,{labelExpr:1,encode:1}),vm=Md(An);class wm extends Yj{constructor(c,t,M){c=void 0===c?{}:c;t=void 0===t?{}:t;M=void 0===M?!1:M;super();this.explicit=c;this.implicit=t;this.mainExtracted=M}clone(){return new wm(pf(this.explicit),pf(this.implicit),this.mainExtracted)}hasAxisPart(c){if("axis"===c)return!0;if("grid"===c||"title"===c)return!!this.get(c);c=this.get(c);return!(!1===c||null===c)}hasOrientSignalRef(){return eb(this.explicit.orient)}}const Bn=
{bottom:"top",top:"bottom",left:"right",right:"left"},rn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Gl={arc:{vgMark:"arc",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Lg("x",c,{defaultPos:"mid"}),Lg("y",c,{defaultPos:"mid"}),ph(c,"radius","arc"),ph(c,"theta","arc"))},area:{vgMark:"area",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),ui("x",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===c.markDef.orient}),ui("y",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===c.markDef.orient}),hj(c))},bar:{vgMark:"rect",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ph(c,"x","bar"),ph(c,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:c=>Dj(c,"circle")},
geoshape:{vgMark:"shape",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:c=>{var {encoding:t}=c;t=t.shape;return[Object.assign({},{type:"geoshape",projection:c.projectionName()},t&&kd(t)&&"geojson"===t.type?{field:Ka(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),
ph(c,"x","image"),ph(c,"y","image"),rk(c,"url"))},line:{vgMark:"line",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Lg("x",c,{defaultPos:"mid"}),Lg("y",c,{defaultPos:"mid"}),Kg("size",c,{vgChannel:"strokeWidth"}),hj(c))},point:{vgMark:"symbol",encodeEntry:c=>Dj(c)},rect:{vgMark:"rect",encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
ph(c,"x","rect"),ph(c,"y","rect"))},rule:{vgMark:"rule",encodeEntry:c=>{var {markDef:t}=c;t=t.orient;return c.encoding.x||c.encoding.y||c.encoding.latitude||c.encoding.longitude?Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ui("x",c,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t}),ui("y",c,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t}),
Kg("size",c,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:c=>Dj(c,"square")},text:{vgMark:"text",encodeEntry:c=>{const {config:t,encoding:M}=c;return Object.assign({},ah(c,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Lg("x",c,{defaultPos:"mid"}),Lg("y",c,{defaultPos:"mid"}),rk(c),Kg("size",c,{vgChannel:"fontSize"}),Kg("angle",c),Zj("align",al(c.markDef,M,t)),Zj("baseline",zl(c.markDef,M,t)),Lg("radius",c,{defaultPos:null}),
Lg("theta",c,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:c=>{const {config:t,markDef:M}=c;var la=M.orient;const sa="horizontal"===la?"width":"height";la="horizontal"===la?"height":"width";return Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Lg("x",c,{defaultPos:"mid",vgChannel:"xc"}),Lg("y",c,{defaultPos:"mid",vgChannel:"yc"}),Kg("size",c,{defaultValue:gh(c),vgChannel:sa}),{[la]:Fc(Cc("thickness",M,t))})}},trail:{vgMark:"trail",
encodeEntry:c=>Object.assign({},ah(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Lg("x",c,{defaultPos:"mid"}),Lg("y",c,{defaultPos:"mid"}),Kg("size",c),hj(c))}};class zm extends Dm{constructor(c,t,M,la,sa){la=void 0===la?{}:la;var Da;super(c,"unit",t,M,sa,void 0,pd(c)?c.view:void 0);Rc(this,"markDef",void 0);Rc(this,"encoding",void 0);Rc(this,"specifiedScales",{});Rc(this,"stack",void 0);Rc(this,"specifiedAxes",{});Rc(this,"specifiedLegends",{});
Rc(this,"specifiedProjection",{});Rc(this,"selection",[]);Rc(this,"children",[]);t=Qe(c.mark)?Object.assign({},c.mark):{type:c.mark};M=t.type;void 0===t.filled&&(t.filled=Ql(t,sa,{graticule:c.data&&"graticule"in c.data}));const db=this.encoding=jg(c.encoding||{},M,t.filled,sa);this.markDef=el(t,db,sa);this.size=tl({encoding:db,size:pd(c)?Object.assign({},la,c.width?{width:c.width}:{},c.height?{height:c.height}:{}):la});this.stack=ma(M,db);this.specifiedScales=this.initScales(M,db);this.specifiedAxes=
this.initAxes(db);this.specifiedLegends=this.initLegends(db);this.specifiedProjection=c.projection;this.selection=(null!==(Da=c.params)&&void 0!==Da?Da:[]).filter(pb=>!!pb.select)}get hasProjection(){const {encoding:c}=this,t=this.mark===ha,M=c&&si.some(la=>ce(c[la]));return t||M}scaleDomain(c){return(c=this.specifiedScales[c])?c.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,t){return Qk.reduce((M,la)=>{const sa=gd(t[la]);if(sa){var Da;M[la]=
this.initScale(null!==(Da=sa.scale)&&void 0!==Da?Da:{})}return M},{})}initScale(c){const {domain:t,range:M}=c;c=oa(c);n.isArray(t)&&(c.domain=t.map(bd));n.isArray(M)&&(c.range=M.map(bd));return c}initAxes(c){return ti.reduce((t,M)=>{var la=c[M];if(ce(la)||"x"===M&&ce(c.x2)||"y"===M&&ce(c.y2))la=ce(la)?la.axis:void 0,t[M]=la?this.initAxis(Object.assign({},la)):la;return t},{})}initAxis(c){var t=Md(c);const M={};for(const la of t)t=c[la],M[la]=Of(t)?kc(t):bd(t);return M}initLegends(c){return Ol.reduce((t,
M)=>{var la=gd(c[M]),sa;if(sa=la)a:{switch(M){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":sa=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":sa=!1;break a}sa=void 0}sa&&(la=la.legend,t[M]=la?oa(la):la);return t},{})}parseData(){this.component.data=Tj(this)}parseLayoutSize(){{const {size:t,component:M}=this;for(const la of ti){const sa=Fa(la);if(t[sa]){var c=t[sa];M.layoutSize.set(sa,Ud(c)?"step":c,!0)}else c=$k(this,
sa),M.layoutSize.set(sa,c,!1)}}}parseSelections(){var c=this.component,t;{var M=this.selection;const Da={},db=this.config.selection;if(M&&M.length)for(const pb of M){M=z(pb.name);var la=pb.select;const Cb=n.isString(la)?la:la.type;la=n.isObject(la)?pf(la):{type:Cb};var sa=Object.assign({},db[Cb]);sa=(delete sa.fields,delete sa.encodings,sa);for(const Jb in sa)if("mark"===Jb&&(la[Jb]=Object.assign({},sa[Jb],la[Jb])),void 0===la[Jb]||!0===la[Jb])la[Jb]=null!==(t=sa[Jb])&&void 0!==t?t:la[Jb];M=Da[M]=
Object.assign({},la,{name:M,type:Cb,init:pb.value,bind:pb.bind,events:n.isString(la.on)?xf(la.on,"scope"):n.array(pf(la.on))});for(const Jb of Al)Jb.defined(M)&&Jb.parse&&Jb.parse(this,M,pb)}t=Da}c.selection=t}parseMarkGroup(){this.component.mark=Pl(this)}parseAxesAndHeaders(){this.component.axes=Ll(this)}assembleSelectionTopLevelSignals(c){return mk(this,c)}assembleSignals(){var c=[...ji(this)];var t=[];for(const la of wg(null!==(M=this.component.selection)&&void 0!==M?M:{})){var M;M=la.name;let sa=
"".concat(M).concat("_tuple",", ")+("global"===la.resolve?"true":"{unit: ".concat($g(this),"}"));for(const Da of Al)Da.defined(la)&&(Da.signals&&(t=Da.signals(this,la,t)),Da.modifyExpr&&(sa=Da.modifyExpr(this,la,sa)));t.push({name:M+"_modify",on:[{events:{signal:la.name+"_tuple"},update:"modify(".concat(n.stringValue(la.name+"_store"),", ").concat(sa,")")}]})}t=nh(t);return[...c,...t]}assembleSelectionData(c){return Kk(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return pi(this)}assembleMarks(){var c;
let t=null!==(c=this.component.mark)&&void 0!==c?c:[];this.parent&&Zh(this.parent)||(t=pk(this,t));return t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return uf(this.encoding,c)}fieldDef(c){return Sc(this.encoding[c])}typedFieldDef(c){c=this.fieldDef(c);return Xe(c)?c:null}}class ym extends fm{constructor(c,t,M,la,sa){super(c,"layer",t,M,sa,c.resolve,c.view);Rc(this,"children",void 0);const Da=Object.assign({},la,c.width?{width:c.width}:
{},c.height?{height:c.height}:{});this.children=c.layer.map((db,pb)=>{if("layer"in db)return new ym(db,this,this.getName("layer_".concat(pb)),Da,sa);if(Te(db))return new zm(db,this,this.getName("layer_".concat(pb)),Da,sa);throw Error(Pb(db));})}parseData(){this.component.data=Tj(this);for(const c of this.children)c.parseData()}parseLayoutSize(){Mi(this);Gk(this,"width");Gk(this,"height")}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Md(c.component.selection))this.component.selection[t]=
c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:M,resolve:la}=this.component,sa={top:0,bottom:0,right:0,left:0};for(var c of this.children){c.parseAxesAndHeaders();for(const Da of Md(c.component.axes))la.axis[Da]=di(this.component.resolve,Da),"shared"===la.axis[Da]&&(M[Da]=Fk(M[Da],c.component.axes[Da]),M[Da]||(la.axis[Da]="independent",delete M[Da]))}for(const Da of ti){for(const db of this.children)if(db.component.axes[Da]){if("independent"===
la.axis[Da]){var t;M[Da]=(null!==(t=M[Da])&&void 0!==t?t:[]).concat(db.component.axes[Da]);for(const pb of db.component.axes[Da]){const {value:Cb,explicit:Jb}=pb.getWithExplicit("orient");eb(Cb)||(0<sa[Cb]&&!Jb&&(c=Bn[Cb],sa[Cb]>sa[c]&&pb.set("orient",c,!1)),sa[Cb]++)}}delete db.component.axes[Da]}if("independent"===la.axis[Da]&&M[Da]&&1<M[Da].length)for(const db of M[Da])db.get("grid")&&!db.explicit.grid&&(db.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,
M)=>M.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleSignals()),ji(this))}assembleLayoutSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleLayoutSignals()),pi(this))}assembleSelectionData(c){return this.children.reduce((t,M)=>M.assembleSelectionData(t),c)}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(const t of this.children)if(c=t.assembleTitle())return c}assembleLayout(){return null}assembleMarks(){return qk(this,
this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,t)=>c.concat(t.assembleLegends()),dj(this))}}m.accessPathDepth=Q;m.accessPathWithDatum=U;m.compile=function(c,t){t=void 0===t?{}:t;t.logger&&(Oi=t.logger);t.fieldTitle&&(oe=t.fieldTitle);try{const mc=$b(n.mergeConfig(t.config,c.config)),hd=Tf(c,mc),md=ri(hd,null,"",void 0,mc);md.parse();{var M=md.component.data,la=md;T(M.sources);let sd=0,yd=0;for(var sa=0;5>sa&&Ma(M,la,!0);sa++)sd++;M.sources.map(r);for(sa=
0;5>sa&&Ma(M,la,!1);sa++)yd++;T(M.sources);5===Math.max(sd,yd)&&Db("Maximum optimization runs(".concat(5,") reached."))}{var Da=hd.autosize;M=mc;la=md;const sd=la.component.layoutSize.get("width"),yd=la.component.layoutSize.get("height");void 0===Da?(Da={type:"pad"},la.hasAxisOrientSignalRef()&&(Da.resize=!0)):n.isString(Da)&&(Da={type:Da});var db;if(db=sd&&yd){var pb=Da.type;db="fit"===pb||"fit-x"===pb||"fit-y"===pb}if(db)if("step"===sd&&"step"===yd)Db(yc()),Da.type="pad";else if("step"===sd||"step"===
yd){pb="step"===sd?"width":"height";Db(yc(V(pb)));db=Da;var Cb=(pb="width"===pb?"height":"width","fit-".concat(V(pb)));db.type=Cb}var Jb=Object.assign({},1===Md(Da).length&&Da.type?"pad"===Da.type?{}:{autosize:Da.type}:{autosize:Da},Kd(M,!1),Kd(c,!0))}return{spec:ul(md,Jb,c.datasets,c.usermeta),normalized:hd}}finally{t.logger&&(Oi=nk),t.fieldTitle&&(oe=rd)}};m.contains=d;m.deepEqual=Bh;m.deleteNestedProperty=H;m.duplicate=pf;m.entries=Qh;m.every=a;m.fieldIntersection=P;m.flatAccessWithDatum=ka;m.getFirstDefined=
q;m.hasIntersection=C;m.hash=l;m.internalField=da;m.isBoolean=G;m.isEmpty=L;m.isEqual=function(c,t){const M=Md(c),la=Md(t);if(M.length!==la.length)return!1;for(const sa of M)if(c[sa]!==t[sa])return!1;return!0};m.isInternalField=aa;m.isNullOrFalse=k;m.isNumeric=ua;m.keys=Md;m.logicalExpr=K;m.mergeDeep=e;m.normalize=Tf;m.normalizeAngle=wa;m.omit=v;m.pick=y;m.prefixGenerator=D;m.removePathFromField=Z;m.replaceAll=ja;m.replacePathInField=fa;m.resetIdCounter=function(){Hj=42};m.setEqual=A;m.some=f;m.stringify=
ng;m.titleCase=R;m.unique=p;m.uniqueId=N;m.vals=wg;m.varName=z;m.version="5.0.0";Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ja,B,qb,F){function g(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function n(p){if(l===setTimeout)return setTimeout(p,0);if((l===g||!l)&&setTimeout)return l=setTimeout,setTimeout(p,0);try{return l(p,0)}catch(A){try{return l.call(null,p,0)}catch(C){return l.call(this,p,0)}}}function E(p){if(k===clearTimeout)return clearTimeout(p);if((k===m||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(p);try{return k(p)}catch(A){try{return k.call(null,
p)}catch(C){return k.call(this,p)}}}function O(){f&&a&&(f=!1,a.length?d=a.concat(d):e=-1,d.length&&x())}function x(){if(!f){var p=n(O);f=!0;for(var A=d.length;A;){a=d;for(d=[];++e<A;)a&&a[e].run();e=-1;A=d.length}a=null;f=!1;E(p)}}function y(p,A){this.fun=p;this.array=A}function v(){}Ja=qb.exports={};try{var l="function"===typeof setTimeout?setTimeout:g}catch(p){l=g}try{var k="function"===typeof clearTimeout?clearTimeout:m}catch(p){k=m}var d=[],f=!1,a,e=-1;Ja.nextTick=function(p){var A=Array(arguments.length-
1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)A[C-1]=arguments[C];d.push(new y(p,A));1!==d.length||f||n(x)};y.prototype.run=function(){this.fun.apply(null,this.array)};Ja.title="browser";Ja.browser=!0;Ja.env={};Ja.argv=[];Ja.version="";Ja.versions={};Ja.on=v;Ja.addListener=v;Ja.once=v;Ja.off=v;Ja.removeListener=v;Ja.removeAllListeners=v;Ja.emit=v;Ja.prependListener=v;Ja.prependOnceListener=v;Ja.listeners=function(p){return[]};Ja.binding=function(p){throw Error("process.binding is not supported");
};Ja.cwd=function(){return"/"};Ja.chdir=function(p){throw Error("process.chdir is not supported");};Ja.umask=function(){return 0}};
shadow$provide[66]=function(Ja,B,qb,F){var g=B(65);(function(m,n){"object"===typeof F&&"undefined"!==typeof qb?qb.exports=n(B(63),B(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],n):(m="undefined"!==typeof globalThis?globalThis:m||self,m.vegaEmbed=n(m.vega,m.vegaLite))})(this,function(m,n){function E(ya){if(ya&&ya.__esModule)return ya;var Ca=Object.create(null);ya&&Object.keys(ya).forEach(function(Za){if("default"!==Za){var Fb=Object.getOwnPropertyDescriptor(ya,Za);Object.defineProperty(Ca,
Za,Fb.get?Fb:{enumerable:!0,get:function(){return ya[Za]}})}});Ca["default"]=ya;return Object.freeze(Ca)}function O(ya,Ca,Za,Fb){function ub(Wb){return Wb instanceof Za?Wb:new Za(function(vc){vc(Wb)})}return new (Za||(Za=Promise))(function(Wb,vc){function Nc(Ld){try{Pc(Fb.next(Ld))}catch(Nd){vc(Nd)}}function ld(Ld){try{Pc(Fb["throw"](Ld))}catch(Nd){vc(Nd)}}function Pc(Ld){Ld.done?Wb(Ld.value):ub(Ld.value).then(Nc,ld)}Pc((Fb=Fb.apply(ya,Ca||[])).next())})}function x(ya,Ca){function Za(Pc){return function(Ld){return Fb([Pc,
Ld])}}function Fb(Pc){if(Wb)throw new TypeError("Generator is already executing.");for(;ub;)try{if(Wb=1,vc&&(Nc=Pc[0]&2?vc["return"]:Pc[0]?vc["throw"]||((Nc=vc["return"])&&Nc.call(vc),0):vc.next)&&!(Nc=Nc.call(vc,Pc[1])).done)return Nc;if(vc=0,Nc)Pc=[Pc[0]&2,Nc.value];switch(Pc[0]){case 0:case 1:Nc=Pc;break;case 4:return ub.label++,{value:Pc[1],done:!1};case 5:ub.label++;vc=Pc[1];Pc=[0];continue;case 7:Pc=ub.ops.pop();ub.trys.pop();continue;default:if(!(Nc=ub.trys,Nc=0<Nc.length&&Nc[Nc.length-1])&&
(6===Pc[0]||2===Pc[0])){ub=0;continue}if(3===Pc[0]&&(!Nc||Pc[1]>Nc[0]&&Pc[1]<Nc[3]))ub.label=Pc[1];else if(6===Pc[0]&&ub.label<Nc[1])ub.label=Nc[1],Nc=Pc;else if(Nc&&ub.label<Nc[2])ub.label=Nc[2],ub.ops.push(Pc);else{Nc[2]&&ub.ops.pop();ub.trys.pop();continue}}Pc=Ca.call(ya,ub)}catch(Ld){Pc=[6,Ld],vc=0}finally{Wb=Nc=0}if(Pc[0]&5)throw Pc[1];return{value:Pc[0]?Pc[1]:void 0,done:!0}}var ub={label:0,sent:function(){if(Nc[0]&1)throw Nc[1];return Nc[1]},trys:[],ops:[]},Wb,vc,Nc,ld;return ld={next:Za(0),
"throw":Za(1),"return":Za(2)},"function"===typeof Symbol&&(ld[Symbol.iterator]=function(){return this}),ld}function y(ya){if(Array.isArray(ya)){var Ca=Array(ya.length);for(ya=0;ya<Ca.length;ya++)Ca[ya]=""+ya;return Ca}if(Object.keys)return Object.keys(ya);Ca=[];for(var Za in ya)va.call(ya,Za)&&Ca.push(Za);return Ca}function v(ya){switch(typeof ya){case "object":return JSON.parse(JSON.stringify(ya));case "undefined":return null;default:return ya}}function l(ya){for(var Ca=0,Za=ya.length,Fb;Ca<Za;)if(Fb=
ya.charCodeAt(Ca),48<=Fb&&57>=Fb)Ca++;else return!1;return!0}function k(ya){return-1===ya.indexOf("/")&&-1===ya.indexOf("~")?ya:ya.replace(/~/g,"~0").replace(/\//g,"~1")}function d(ya){return ya.replace(/~1/g,"/").replace(/~0/g,"~")}function f(ya){if(void 0===ya)return!0;if(ya)if(Array.isArray(ya))for(var Ca=0,Za=ya.length;Ca<Za;Ca++){if(f(ya[Ca]))return!0}else if("object"===typeof ya){Za=y(ya);var Fb=Za.length;for(Ca=0;Ca<Fb;Ca++)if(f(ya[Za[Ca]]))return!0}return!1}function a(ya,Ca){ya=[ya];for(var Za in Ca){var Fb=
"object"===typeof Ca[Za]?JSON.stringify(Ca[Za],null,2):Ca[Za];"undefined"!==typeof Fb&&ya.push(Za+": "+Fb)}return ya.join("\n")}function e(ya,Ca){if(""==Ca)return ya;Ca={op:"_get",path:Ca};p(ya,Ca);return Ca.value}function p(ya,Ca,Za,Fb,ub,Wb){void 0===Za&&(Za=!1);void 0===Fb&&(Fb=!0);void 0===ub&&(ub=!0);void 0===Wb&&(Wb=0);Za&&("function"==typeof Za?Za(Ca,0,ya,Ca.path):C(Ca,0));if(""===Ca.path){ub={newDocument:ya};if("add"===Ca.op)return ub.newDocument=Ca.value,ub;if("replace"===Ca.op)return ub.newDocument=
Ca.value,ub.removed=ya,ub;if("move"===Ca.op||"copy"===Ca.op)return ub.newDocument=e(ya,Ca.from),"move"===Ca.op&&(ub.removed=ya),ub;if("test"===Ca.op){ub.test=P(ya,Ca.value);if(!1===ub.test)throw new X("Test operation failed","TEST_OPERATION_FAILED",Wb,Ca,ya);ub.newDocument=ya;return ub}if("remove"===Ca.op)return ub.removed=ya,ub.newDocument=null,ub;if("_get"===Ca.op)return Ca.value=ya,ub;if(Za)throw new X("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Wb,Ca,ya);return ub}Fb||(ya=v(ya));Fb=(Ca.path||"").split("/");var vc=ya,Nc=1,ld=Fb.length,Pc=void 0,Ld;for(Ld="function"==typeof Za?Za:C;;){var Nd=Fb[Nc];if(ub&&"__proto__"==Nd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Za&&void 0===Pc&&(void 0===vc[Nd]?Pc=Fb.slice(0,Nc).join("/"):Nc==ld-1&&(Pc=Ca.path),void 0!==
Pc&&Ld(Ca,0,ya,Pc));Nc++;if(Array.isArray(vc)){if("-"===Nd)Nd=vc.length;else{if(Za&&!l(Nd))throw new X("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Wb,Ca,ya);l(Nd)&&(Nd=~~Nd)}if(Nc>=ld){if(Za&&"add"===Ca.op&&Nd>vc.length)throw new X("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Wb,Ca,ya);ub=ea[Ca.op].call(Ca,vc,Nd,ya);
if(!1===ub.test)throw new X("Test operation failed","TEST_OPERATION_FAILED",Wb,Ca,ya);return ub}}else if(Nd&&-1!=Nd.indexOf("~")&&(Nd=d(Nd)),Nc>=ld){ub=ca[Ca.op].call(Ca,vc,Nd,ya);if(!1===ub.test)throw new X("Test operation failed","TEST_OPERATION_FAILED",Wb,Ca,ya);return ub}vc=vc[Nd]}}function A(ya,Ca,Za,Fb,ub){void 0===Fb&&(Fb=!0);void 0===ub&&(ub=!0);if(Za&&!Array.isArray(Ca))throw new X("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Fb||(ya=v(ya));Fb=Array(Ca.length);for(var Wb=0,
vc=Ca.length;Wb<vc;Wb++)Fb[Wb]=p(ya,Ca[Wb],Za,!0,ub,Wb),ya=Fb[Wb].newDocument;Fb.newDocument=ya;return Fb}function C(ya,Ca,Za,Fb){if("object"!==typeof ya||null===ya||Array.isArray(ya))throw new X("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ca,ya,Za);if(ca[ya.op]){if("string"!==typeof ya.path)throw new X("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ca,ya,Za);if(0!==ya.path.indexOf("/")&&0<ya.path.length)throw new X('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Ca,ya,Za);if("move"!==ya.op&&"copy"!==ya.op||"string"===typeof ya.from)if("add"!==ya.op&&"replace"!==ya.op&&"test"!==ya.op||void 0!==ya.value){if(("add"===ya.op||"replace"===ya.op||"test"===ya.op)&&f(ya.value))throw new X("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ca,ya,Za);if(Za)if("add"==ya.op){var ub=ya.path.split("/").length;Fb=Fb.split("/").length;if(ub!==Fb+1&&ub!==Fb)throw new X("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Ca,ya,Za);}else if("replace"===ya.op||"remove"===ya.op||"_get"===ya.op){if(ya.path!==Fb)throw new X("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ca,ya,Za);}else if(("move"===ya.op||"copy"===ya.op)&&(ub=D([{op:"_get",path:ya.from,value:void 0}],Za))&&"OPERATION_PATH_UNRESOLVABLE"===ub.name)throw new X("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ca,ya,Za);}else throw new X("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Ca,ya,Za);else throw new X("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ca,ya,Za);}else throw new X("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ca,ya,Za);}function D(ya,Ca,Za){try{if(!Array.isArray(ya))throw new X("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ca)A(v(Ca),v(ya),Za||!0);else{Za=Za||C;for(var Fb=0;Fb<ya.length;Fb++)Za(ya[Fb],
Fb,Ca,void 0)}}catch(ub){if(ub instanceof X)return ub;throw ub;}}function P(ya,Ca){if(ya===Ca)return!0;if(ya&&Ca&&"object"==typeof ya&&"object"==typeof Ca){var Za=Array.isArray(ya),Fb=Array.isArray(Ca);if(Za&&Fb){var ub=ya.length;if(ub!=Ca.length)return!1;for(Za=ub;0!==Za--;)if(!P(ya[Za],Ca[Za]))return!1;return!0}if(Za!=Fb)return!1;Fb=Object.keys(ya);ub=Fb.length;if(ub!==Object.keys(Ca).length)return!1;for(Za=ub;0!==Za--;)if(!Ca.hasOwnProperty(Fb[Za]))return!1;for(Za=ub;0!==Za--;)if(ub=Fb[Za],!P(ya[ub],
Ca[ub]))return!1;return!0}return ya!==ya&&Ca!==Ca}function L(ya,Ca){void 0===Ca&&(Ca=!1);var Za=qa.get(ya.object);G(Za.value,ya.object,ya.patches,"",Ca);ya.patches.length&&A(Za.value,ya.patches);Ca=ya.patches;0<Ca.length&&(ya.patches=[],ya.callback&&ya.callback(Ca));return Ca}function G(ya,Ca,Za,Fb,ub){if(Ca!==ya){"function"===typeof Ca.toJSON&&(Ca=Ca.toJSON());for(var Wb=y(Ca),vc=y(ya),Nc=!1,ld=vc.length-1;0<=ld;ld--){var Pc=vc[ld],Ld=ya[Pc];if(!va.call(Ca,Pc)||void 0===Ca[Pc]&&void 0!==Ld&&!1===
Array.isArray(Ca))Array.isArray(ya)===Array.isArray(Ca)?(ub&&Za.push({op:"test",path:Fb+"/"+k(Pc),value:v(Ld)}),Za.push({op:"remove",path:Fb+"/"+k(Pc)}),Nc=!0):(ub&&Za.push({op:"test",path:Fb,value:ya}),Za.push({op:"replace",path:Fb,value:Ca}));else{var Nd=Ca[Pc];"object"==typeof Ld&&null!=Ld&&"object"==typeof Nd&&null!=Nd?G(Ld,Nd,Za,Fb+"/"+k(Pc),ub):Ld!==Nd&&(ub&&Za.push({op:"test",path:Fb+"/"+k(Pc),value:v(Ld)}),Za.push({op:"replace",path:Fb+"/"+k(Pc),value:v(Nd)}))}}if(Nc||Wb.length!=vc.length)for(ld=
0;ld<Wb.length;ld++)Pc=Wb[ld],va.call(ya,Pc)||void 0===Ca[Pc]||Za.push({op:"add",path:Fb+"/"+k(Pc),value:v(Ca[Pc])})}}function z(ya){var Ca=this;Ca instanceof z||(Ca=new z);Ca.tail=null;Ca.head=null;Ca.length=0;if(ya&&"function"===typeof ya.forEach)ya.forEach(function(ub){Ca.push(ub)});else if(0<arguments.length)for(var Za=0,Fb=arguments.length;Za<Fb;Za++)Ca.push(arguments[Za]);return Ca}function K(ya,Ca,Za,Fb){if(!(this instanceof K))return new K(ya,Ca,Za,Fb);this.list=Fb;this.value=ya;Ca?(Ca.next=
this,this.prev=Ca):this.prev=null;Za?(Za.prev=this,this.next=Za):this.next=null}function H(ya){const [Ca,Za]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(ya).slice(1,3);return{library:Ca,version:Za}}function R(ya,Ca,Za){ya.fields=Ca||[];ya.fname=Za;return ya}function U(ya){return 1===ya.length?Qe(ya[0]):Yf(ya)}function ka(ya){function Ca(){Za.push(vc+ya.substring(Nc,ld));vc="";Nc=ld+1}const Za=[],Fb=ya.length;let ub=null,Wb=0,vc="",Nc,ld,Pc;ya+="";for(Nc=ld=0;ld<Fb;++ld)if(Pc=ya[ld],"\\"===Pc)vc+=
ya.substring(Nc,ld),vc+=ya.substring(++ld,++ld),Nc=ld;else if(Pc===ub)Ca(),ub=null,Wb=-1;else if(!ub)if(Nc===Wb&&'"'===Pc)Nc=ld+1,ub=Pc;else if(Nc===Wb&&"'"===Pc)Nc=ld+1,ub=Pc;else if("."===Pc&&!Wb)ld>Nc?Ca():Nc=ld+1;else if("["===Pc)ld>Nc&&Ca(),Wb=Nc=ld+1;else if("]"===Pc){if(!Wb)throw Error("Access path missing open bracket: "+ya);0<Wb&&Ca();Wb=0;Nc=ld+1}if(Wb)throw Error("Access path missing closing bracket: "+ya);if(ub)throw Error("Access path missing closing quote: "+ya);ld>Nc&&(ld++,Ca());return Za}
function ba(ya,Ca){var Za={},Fb;for(Fb in ya)Object.prototype.hasOwnProperty.call(ya,Fb)&&0>Ca.indexOf(Fb)&&(Za[Fb]=ya[Fb]);if(null!=ya&&"function"===typeof Object.getOwnPropertySymbols){var ub=0;for(Fb=Object.getOwnPropertySymbols(ya);ub<Fb.length;ub++)0>Ca.indexOf(Fb[ub])&&Object.prototype.propertyIsEnumerable.call(ya,Fb[ub])&&(Za[Fb[ub]]=ya[Fb[ub]])}return Za}function fa(ya,Ca,Za){if(Ic(ya))return`[${ya.map(ub=>Ca("string"===typeof ub?ub:JSON.stringify(ub,ja(Za)))).join(", ")}]`;if(ya===Object(ya)){let ub=
"";const {title:Wb,image:vc}=ya;ya=ba(ya,["title","image"]);Wb&&(ub+=`<h2>${Ca(Wb)}</h2>`);vc&&(ub+=`<img src="${Ca(vc)}">`);var Fb=Object.keys(ya);if(0<Fb.length){ub+="\x3ctable\x3e";for(const Nc of Fb)Fb=ya[Nc],void 0!==Fb&&(Fb===Object(Fb)&&(Fb=JSON.stringify(Fb,ja(Za))),ub+=`<tr><td class="key">${Ca(Nc)}:</td><td class="value">${Ca(Fb)}</td></tr>`);ub+="\x3c/table\x3e"}return ub||"{}"}return Ca(ya)}function ja(ya){const Ca=[];return function(Za,Fb){if("object"!==typeof Fb||null===Fb)return Fb;
Za=Ca.indexOf(this)+1;Ca.length=Za;if(Ca.length>ya)return"[Object]";if(0<=Ca.indexOf(Fb))return"[Circular]";Ca.push(Fb);return Fb}}function Z(ya,Ca,Za){function Fb(ld){ld.source===Wb&&(Nc=0,ya.removeEventListener("message",Fb,!1))}function ub(){0>=Nc||(Wb.postMessage(Za,vc),setTimeout(ub,250),--Nc)}var Wb=ya.open(Ca),vc=(new URL(Ca)).origin,Nc=40;ya.addEventListener("message",Fb,!1);setTimeout(ub,250)}function Q(ya){for(var Ca=[],Za=1;Za<arguments.length;Za++)Ca[Za-1]=arguments[Za];for(Za=0;Za<Ca.length;Za++)for(var Fb=
ya,ub=Ca[Za],Wb=0,vc=Object.keys(ub);Wb<vc.length;Wb++){var Nc=vc[Wb];m.writeConfig(Fb,Nc,ub[Nc],!0)}return ya}function q(ya,Ca,Za,Fb){Ca="\x3chtml\x3e\x3chead\x3e"+Ca+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Za="\x3c/code\x3e\x3c/pre\x3e"+Za+"\x3c/body\x3e\x3c/html\x3e";var ub=window.open("");ub.document.write(Ca+ya+Za);ub.document.title=Qf[Fb]+" JSON Source"}function N(ya,Ca){var Za;return ya.$schema?(ya=H(ya.$schema),Ca&&Ca!==ya.library&&console.warn("The given visualization spec is written in "+
Qf[ya.library]+", but mode argument sets "+(null!==(Za=Qf[Ca])&&void 0!==Za?Za:Ca)+"."),Ca=ya.library,we.satisfies(Jf[Ca],"^"+ya.version.slice(1))||console.warn("The input spec uses "+Qf[Ca]+" "+ya.version+", but the current version of "+Qf[Ca]+" is v"+Jf[Ca]+"."),Ca):"mark"in ya||"encoding"in ya||"layer"in ya||"hconcat"in ya||"vconcat"in ya||"facet"in ya||"repeat"in ya?"vega-lite":"marks"in ya||"signals"in ya||"scales"in ya||"axes"in ya?"vega":null!==Ca&&void 0!==Ca?Ca:"vega"}function da(ya){return ya&&
"load"in ya?ya:De.loader(ya)}function aa(ya){var Ca;return null!==(Ca=ya.usermeta&&ya.usermeta.embedOptions)&&void 0!==Ca?Ca:{}}function wa(ya,Ca,Za){var Fb,ub,Wb;void 0===Za&&(Za={});return O(this,void 0,void 0,function(){var vc,Nc,ld,Pc,Ld,Nd,Od,od;return x(this,function(Rd){switch(Rd.label){case 0:if(!m.isString(Ca))return[3,2];Nc=da(Za.loader);Pc=(ld=JSON).parse;return[4,Nc.load(Ca)];case 1:return vc=Pc.apply(ld,[Rd.sent()]),[3,3];case 2:vc=Ca,Rd.label=3;case 3:Ld=aa(vc).loader;if(!Nc||Ld)Nc=
da(null!==(Fb=Za.loader)&&void 0!==Fb?Fb:Ld);return[4,ua(aa(vc),Nc)];case 4:return Nd=Rd.sent(),[4,ua(Za,Nc)];case 5:return Od=Rd.sent(),od=Xa(Xa({},Q(Od,Nd)),{config:m.mergeConfig(null!==(ub=Od.config)&&void 0!==ub?ub:{},null!==(Wb=Nd.config)&&void 0!==Wb?Wb:{})}),[4,$a(ya,vc,od,Nc)];case 6:return[2,Rd.sent()]}})})}function ua(ya,Ca){var Za;return O(this,void 0,void 0,function(){var Fb,ub,Wb,vc,Nc,ld,Pc,Ld;return x(this,function(Nd){switch(Nd.label){case 0:if(!m.isString(ya.config))return[3,2];vc=
(Wb=JSON).parse;return[4,Ca.load(ya.config)];case 1:return ub=vc.apply(Wb,[Nd.sent()]),[3,3];case 2:ub=null!==(Za=ya.config)&&void 0!==Za?Za:{},Nd.label=3;case 3:Fb=ub;if(!m.isString(ya.patch))return[3,5];Ld=(Pc=JSON).parse;return[4,Ca.load(ya.patch)];case 4:return ld=Ld.apply(Pc,[Nd.sent()]),[3,6];case 5:ld=ya.patch,Nd.label=6;case 6:return Nc=ld,[2,Xa(Xa(Xa({},ya),Nc?{patch:Nc}:{}),Fb?{config:Fb}:{})]}})})}function Ea(ya){var Ca;ya=ya.getRootNode?ya.getRootNode():document;return ya instanceof ShadowRoot?
{root:ya,rootContainer:ya}:{root:document,rootContainer:null!==(Ca=document.head)&&void 0!==Ca?Ca:document.body}}function $a(ya,Ca,Za,Fb){var ub,Wb,vc,Nc,ld,Pc;void 0===Za&&(Za={});return O(this,void 0,void 0,function(){function Ld(){Hd&&document.removeEventListener("click",Hd);Sb.finalize()}var Nd,Od,od,Rd,kd,lf,bf,ee,Ve,ce,Xe,zf,tf,Oe,Nf,Aa,Ka,vb,Xb,Sb,hc,lc,id,Sc,gd,Hd,he,ie,Pd,Ne,pe,He,Je,Le,Of,Te,uf,Bf;return x(this,function(Ag){switch(Ag.label){case 0:Nd=Za.theme?m.mergeConfig(Qd[Za.theme],
null!==(ub=Za.config)&&void 0!==ub?ub:{}):Za.config;Od=m.isBoolean(Za.actions)?Za.actions:Q({},Hf,null!==(Wb=Za.actions)&&void 0!==Wb?Wb:{});od=Xa(Xa({},If),Za.i18n);Rd=null!==(vc=Za.renderer)&&void 0!==vc?vc:"canvas";kd=null!==(Nc=Za.logLevel)&&void 0!==Nc?Nc:De.Warn;lf=null!==(ld=Za.downloadFileName)&&void 0!==ld?ld:"visualization";bf="string"===typeof ya?document.querySelector(ya):ya;if(!bf)throw Error(ya+" does not exist");!1!==Za.defaultStyle&&(ee=Ea(bf),Ve=ee.root,ce=ee.rootContainer,Ve.getElementById("vega-embed-style")||
(Xe=document.createElement("style"),Xe.id="vega-embed-style",Xe.innerText=void 0===Za.defaultStyle||!0===Za.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Za.defaultStyle,ce.appendChild(Xe)));zf=N(Ca,Za.mode);tf=Ae[zf](Ca,Nd);"vega-lite"===zf&&tf.$schema&&(Oe=H(tf.$schema),we.satisfies(Jf.vega,"^"+Oe.version.slice(1))||console.warn("The compiled spec uses Vega "+Oe.version+", but current version is v"+Jf.vega+"."));bf.classList.add("vega-embed");Od&&bf.classList.add("has-actions");bf.innerHTML="";Nf=bf;Od&&(Aa=document.createElement("div"),Aa.classList.add("chart-wrapper"),bf.appendChild(Aa),Nf=Aa);(Ka=Za.patch)&&(tf=Ka instanceof Function?Ka(tf):A(tf,
Ka,!0,!1).newDocument);Za.formatLocale&&De.formatLocale(Za.formatLocale);Za.timeFormatLocale&&De.timeFormatLocale(Za.timeFormatLocale);vb=Za.ast;Xb=De.parse(tf,"vega-lite"===zf?{}:Nd,{ast:vb});Sb=new De.View(Xb,Xa({loader:Fb,logLevel:kd,renderer:Rd},vb?{expr:De.expressionInterpreter}:{}));!1!==Za.tooltip&&(hc=void 0,hc="function"===typeof Za.tooltip?Za.tooltip:(new je(!0===Za.tooltip?{}:Za.tooltip)).call,Sb.tooltip(hc));lc=Za.hover;void 0===lc&&(lc="vega"===zf);lc&&(id="boolean"===typeof lc?{}:lc,
Sc=id.hoverSet,gd=id.updateSet,Sb.hover(Sc,gd));Za&&(null!=Za.width&&Sb.width(Za.width),null!=Za.height&&Sb.height(Za.height),null!=Za.padding&&Sb.padding(Za.padding));return[4,Sb.initialize(Nf,Za.bind).runAsync()];case 1:Ag.sent();if(!1!==Od){he=bf;!1!==Za.defaultStyle&&(ie=document.createElement("details"),ie.title=od.CLICK_TO_VIEW_ACTIONS,bf.append(ie),he=ie,Pd=document.createElement("summary"),Pd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
ie.append(Pd),Hd=function(Rf){ie.contains(Rf.target)||ie.removeAttribute("open")},document.addEventListener("click",Hd));Ne=document.createElement("div");he.append(Ne);Ne.classList.add("vega-actions");if(!0===Od||!1!==Od["export"])for(pe=function(Rf){if(!0===Od||!0===Od["export"]||Od["export"][Rf]){var jg=od[Rf.toUpperCase()+"_ACTION"],xa=document.createElement("a");xa.text=jg;xa.href="#";xa.target="_blank";xa.download=lf+"."+Rf;xa.addEventListener("mousedown",function(za){return O(this,void 0,void 0,
function(){var Oa;return x(this,function(Sa){switch(Sa.label){case 0:return za.preventDefault(),[4,Sb.toImageURL(Rf,Za.scaleFactor)];case 1:return this.href=Oa=Sa.sent(),[2]}})})});Ne.append(xa)}},He=0,Je=["svg","png"];He<Je.length;He++)Le=Je[He],pe(Le);if(!0===Od||!1!==Od.source)Of=document.createElement("a"),Of.text=od.SOURCE_ACTION,Of.href="#",Of.addEventListener("click",function(Rf){var jg,xa;q(ab(Ca),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(xa=Za.sourceFooter)&&void 0!==xa?xa:"",
zf);Rf.preventDefault()}),Ne.append(Of);"vega-lite"!==zf||!0!==Od&&!1===Od.compiled||(Te=document.createElement("a"),Te.text=od.COMPILED_ACTION,Te.href="#",Te.addEventListener("click",function(Rf){var jg,xa;q(ab(tf),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(xa=Za.sourceFooter)&&void 0!==xa?xa:"","vega");Rf.preventDefault()}),Ne.append(Te));if(!0===Od||!1!==Od.editor)uf=null!==(Pc=Za.editorUrl)&&void 0!==Pc?Pc:"https://vega.github.io/editor/",Bf=document.createElement("a"),Bf.text=od.EDITOR_ACTION,
Bf.href="#",Bf.addEventListener("click",function(Rf){Z(window,uf,{config:Nd,mode:zf,renderer:Rd,spec:ab(Ca)});Rf.preventDefault()}),Ne.append(Bf)}return[2,{view:Sb,spec:Ca,vgSpec:tf,finalize:Ld}]}})})}function kb(ya,Ca){var Za;void 0===Ca&&(Ca={});return O(this,void 0,void 0,function(){var Fb,ub,Wb,vc;return x(this,function(Nc){switch(Nc.label){case 0:return Fb=document.createElement("div"),Fb.classList.add("vega-embed-wrapper"),ub=document.createElement("div"),Fb.appendChild(ub),Wb=!0===Ca.actions||
!1===Ca.actions?Ca.actions:Xa({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Za=Ca.actions)&&void 0!==Za?Za:{}),[4,wa(ub,ya,Xa({actions:Wb},null!==Ca&&void 0!==Ca?Ca:{}))];case 1:return vc=Nc.sent(),Fb.value=vc.view,[2,Fb]}})})}var ta=E(m),Ta=E(n),Xa=function(){Xa=Object.assign||function(ya){for(var Ca,Za=1,Fb=arguments.length;Za<Fb;Za++){Ca=arguments[Za];for(var ub in Ca)Object.prototype.hasOwnProperty.call(Ca,ub)&&(ya[ub]=Ca[ub])}return ya};return Xa.apply(this,arguments)},Fa=function(){var ya=
function(Ca,Za){ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fb,ub){Fb.__proto__=ub}||function(Fb,ub){for(var Wb in ub)ub.hasOwnProperty(Wb)&&(Fb[Wb]=ub[Wb])};return ya(Ca,Za)};return function(Ca,Za){function Fb(){this.constructor=Ca}ya(Ca,Za);Ca.prototype=null===Za?Object.create(Za):(Fb.prototype=Za.prototype,new Fb)}}(),va=Object.prototype.hasOwnProperty,V=function(ya){function Ca(Za,Fb,ub,Wb,vc){var Nc=this.constructor,ld=ya.call(this,a(Za,{name:Fb,index:ub,operation:Wb,tree:vc}))||
this;ld.name=Fb;ld.index=ub;ld.operation=Wb;ld.tree=vc;Object.setPrototypeOf(ld,Nc.prototype);ld.message=a(Za,{name:Fb,index:ub,operation:Wb,tree:vc});return ld}Fa(Ca,ya);return Ca}(Error),X=V,ca={add:function(ya,Ca,Za){ya[Ca]=this.value;return{newDocument:Za}},remove:function(ya,Ca,Za){var Fb=ya[Ca];delete ya[Ca];return{newDocument:Za,removed:Fb}},replace:function(ya,Ca,Za){var Fb=ya[Ca];ya[Ca]=this.value;return{newDocument:Za,removed:Fb}},move:function(ya,Ca,Za){(ya=e(Za,this.path))&&(ya=v(ya));
Ca=p(Za,{op:"remove",path:this.from}).removed;p(Za,{op:"add",path:this.path,value:Ca});return{newDocument:Za,removed:ya}},copy:function(ya,Ca,Za){ya=e(Za,this.from);p(Za,{op:"add",path:this.path,value:v(ya)});return{newDocument:Za}},test:function(ya,Ca,Za){return{newDocument:Za,test:P(ya[Ca],this.value)}},_get:function(ya,Ca,Za){this.value=ya[Ca];return{newDocument:Za}}},ea={add:function(ya,Ca,Za){l(Ca)?ya.splice(Ca,0,this.value):ya[Ca]=this.value;return{newDocument:Za,index:Ca}},remove:function(ya,
Ca,Za){ya=ya.splice(Ca,1);return{newDocument:Za,removed:ya[0]}},replace:function(ya,Ca,Za){var Fb=ya[Ca];ya[Ca]=this.value;return{newDocument:Za,removed:Fb}},move:ca.move,copy:ca.copy,test:ca.test,_get:ca._get},ra=Object.freeze({__proto__:null,JsonPatchError:X,deepClone:v,getValueByPointer:e,applyOperation:p,applyPatch:A,applyReducer:function(ya,Ca,Za){var Fb=p(ya,Ca);if(!1===Fb.test)throw new X("Test operation failed","TEST_OPERATION_FAILED",Za,Ca,ya);return Fb.newDocument},validator:C,validate:D,
_areEquals:P}),qa=new WeakMap,Ha=function(){return function(ya){this.observers=new Map;this.obj=ya}}(),na=function(){return function(ya,Ca){this.callback=ya;this.observer=Ca}}(),Pa=Object.freeze({__proto__:null,unobserve:function(ya,Ca){Ca.unobserve()},observe:function(ya,Ca){var Za=qa.get(ya);if(Za){var Fb=Za.observers.get(Ca);var ub=Fb&&Fb.observer}else Za=new Ha(ya),qa.set(ya,Za);if(ub)return ub;ub={};Za.value=v(ya);if(Ca){ub.callback=Ca;ub.next=null;var Wb=function(){L(ub)},vc=function(){clearTimeout(ub.next);
ub.next=setTimeout(Wb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",vc),window.addEventListener("keyup",vc),window.addEventListener("mousedown",vc),window.addEventListener("keydown",vc),window.addEventListener("change",vc))}ub.patches=[];ub.object=ya;ub.unobserve=function(){L(ub);clearTimeout(ub.next);Za.observers.delete(ub.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",vc),window.removeEventListener("keyup",vc),window.removeEventListener("mousedown",
vc),window.removeEventListener("keydown",vc),window.removeEventListener("change",vc))};Za.observers.set(Ca,new na(Ca,ub));return ub},generate:L,compare:function(ya,Ca,Za){void 0===Za&&(Za=!1);var Fb=[];G(ya,Ca,Fb,"",Za);return Fb}});Object.assign({},ra,Pa,{JsonPatchError:V,deepClone:v,escapePathComponent:k,unescapePathComponent:d});var cb=/("(?:[^\\"]|\\.)*")|[:,]/g,ab=function(ya,Ca){Ca=Ca||{};var Za=JSON.stringify([1],void 0,void 0===Ca.indent?2:Ca.indent).slice(2,-3);var Fb=""===Za?Infinity:void 0===
Ca.maxLength?80:Ca.maxLength;var ub=Ca.replacer;return function Pc(vc,Nc,ld){vc&&"function"===typeof vc.toJSON&&(vc=vc.toJSON());var Ld=JSON.stringify(vc,ub);if(void 0===Ld)return Ld;ld=Fb-Nc.length-ld;if(Ld.length<=ld){var Nd=Ld.replace(cb,function(Ve,ce){return ce||Ve+" "});if(Nd.length<=ld)return Nd}null!=ub&&(vc=JSON.parse(Ld),ub=void 0);if("object"===typeof vc&&null!==vc){var Od=Nc+Za;var od=[];var Rd=0;if(Array.isArray(vc)){var kd="[";Nd="]";for(ld=vc.length;Rd<ld;Rd++)od.push(Pc(vc[Rd],Od,
Rd===ld-1?0:1)||"null")}else{kd="{";Nd="}";var lf=Object.keys(vc);for(ld=lf.length;Rd<ld;Rd++){var bf=lf[Rd];var ee=JSON.stringify(bf)+": ";bf=Pc(vc[bf],Od,ee.length+(Rd===ld-1?0:1));void 0!==bf&&od.push(ee+bf)}}if(0<od.length)return[kd,Za+od.join(",\n"+Od),Nd].join("\n"+Nc)}return Ld}(ya,"",0)},Ba={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ga="object"===typeof g&&g.env&&g.env.NODE_DEBUG&&/\bsemver\b/i.test(g.env.NODE_DEBUG)?
(...ya)=>console.error("SEMVER",...ya):()=>{},oa=function(ya){var Ca={exports:{}};return ya(Ca,Ca.exports),Ca.exports}(function(ya,Ca){const {MAX_SAFE_COMPONENT_LENGTH:Za}=Ba;Ca=ya.exports={};const Fb=Ca.re=[],ub=Ca.src=[],Wb=Ca.t={};let vc=0;ya=(Nc,ld,Pc)=>{const Ld=vc++;Ga(Ld,ld);Wb[Nc]=Ld;ub[Ld]=ld;Fb[Ld]=new RegExp(ld,Pc?"g":void 0)};ya("NUMERICIDENTIFIER","0|[1-9]\\d*");ya("NUMERICIDENTIFIERLOOSE","[0-9]+");ya("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");ya("MAINVERSION",`(${ub[Wb.NUMERICIDENTIFIER]})\\.`+
`(${ub[Wb.NUMERICIDENTIFIER]})\\.`+`(${ub[Wb.NUMERICIDENTIFIER]})`);ya("MAINVERSIONLOOSE",`(${ub[Wb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Wb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Wb.NUMERICIDENTIFIERLOOSE]})`);ya("PRERELEASEIDENTIFIER",`(?:${ub[Wb.NUMERICIDENTIFIER]}|${ub[Wb.NONNUMERICIDENTIFIER]})`);ya("PRERELEASEIDENTIFIERLOOSE",`(?:${ub[Wb.NUMERICIDENTIFIERLOOSE]}|${ub[Wb.NONNUMERICIDENTIFIER]})`);ya("PRERELEASE",`(?:-(${ub[Wb.PRERELEASEIDENTIFIER]}(?:\\.${ub[Wb.PRERELEASEIDENTIFIER]})*))`);ya("PRERELEASELOOSE",
`(?:-?(${ub[Wb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ub[Wb.PRERELEASEIDENTIFIERLOOSE]})*))`);ya("BUILDIDENTIFIER","[0-9A-Za-z-]+");ya("BUILD",`(?:\\+(${ub[Wb.BUILDIDENTIFIER]}(?:\\.${ub[Wb.BUILDIDENTIFIER]})*))`);ya("FULLPLAIN",`v?${ub[Wb.MAINVERSION]}${ub[Wb.PRERELEASE]}?${ub[Wb.BUILD]}?`);ya("FULL",`^${ub[Wb.FULLPLAIN]}$`);ya("LOOSEPLAIN",`[v=\\s]*${ub[Wb.MAINVERSIONLOOSE]}${ub[Wb.PRERELEASELOOSE]}?${ub[Wb.BUILD]}?`);ya("LOOSE",`^${ub[Wb.LOOSEPLAIN]}$`);ya("GTLT","((?:\x3c|\x3e)?\x3d?)");ya("XRANGEIDENTIFIERLOOSE",
`${ub[Wb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ya("XRANGEIDENTIFIER",`${ub[Wb.NUMERICIDENTIFIER]}|x|X|\\*`);ya("XRANGEPLAIN",`[v=\\s]*(${ub[Wb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Wb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Wb.XRANGEIDENTIFIER]})`+`(?:${ub[Wb.PRERELEASE]})?${ub[Wb.BUILD]}?`+")?)?");ya("XRANGEPLAINLOOSE",`[v=\\s]*(${ub[Wb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Wb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Wb.XRANGEIDENTIFIERLOOSE]})`+`(?:${ub[Wb.PRERELEASELOOSE]})?${ub[Wb.BUILD]}?`+")?)?");ya("XRANGE",
`^${ub[Wb.GTLT]}\\s*${ub[Wb.XRANGEPLAIN]}$`);ya("XRANGELOOSE",`^${ub[Wb.GTLT]}\\s*${ub[Wb.XRANGEPLAINLOOSE]}$`);ya("COERCE",`${"(^|[^\\d])(\\d{1,"}${Za}})`+`(?:\\.(\\d{1,${Za}}))?`+`(?:\\.(\\d{1,${Za}}))?`+"(?:$|[^\\d])");ya("COERCERTL",ub[Wb.COERCE],!0);ya("LONETILDE","(?:~\x3e?)");ya("TILDETRIM",`(\\s*)${ub[Wb.LONETILDE]}\\s+`,!0);Ca.tildeTrimReplace="$1~";ya("TILDE",`^${ub[Wb.LONETILDE]}${ub[Wb.XRANGEPLAIN]}$`);ya("TILDELOOSE",`^${ub[Wb.LONETILDE]}${ub[Wb.XRANGEPLAINLOOSE]}$`);ya("LONECARET","(?:\\^)");
ya("CARETTRIM",`(\\s*)${ub[Wb.LONECARET]}\\s+`,!0);Ca.caretTrimReplace="$1^";ya("CARET",`^${ub[Wb.LONECARET]}${ub[Wb.XRANGEPLAIN]}$`);ya("CARETLOOSE",`^${ub[Wb.LONECARET]}${ub[Wb.XRANGEPLAINLOOSE]}$`);ya("COMPARATORLOOSE",`^${ub[Wb.GTLT]}\\s*(${ub[Wb.LOOSEPLAIN]})$|^$`);ya("COMPARATOR",`^${ub[Wb.GTLT]}\\s*(${ub[Wb.FULLPLAIN]})$|^$`);ya("COMPARATORTRIM",`(\\s*)${ub[Wb.GTLT]}\\s*(${ub[Wb.LOOSEPLAIN]}|${ub[Wb.XRANGEPLAIN]})`,!0);Ca.comparatorTrimReplace="$1$2$3";ya("HYPHENRANGE",`^\\s*(${ub[Wb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${ub[Wb.XRANGEPLAIN]})`+"\\s*$");ya("HYPHENRANGELOOSE",`^\\s*(${ub[Wb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${ub[Wb.XRANGEPLAINLOOSE]})`+"\\s*$");ya("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");ya("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");ya("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const Ia=["includePrerelease","loose","rtl"];var Ua=ya=>ya?"object"!==typeof ya?{loose:!0}:Ia.filter(Ca=>ya[Ca]).reduce((Ca,Za)=>{Ca[Za]=!0;return Ca},{}):{};const eb=/^[0-9]+$/,Gb=(ya,Ca)=>{const Za=eb.test(ya),Fb=eb.test(Ca);
Za&&Fb&&(ya=+ya,Ca=+Ca);return ya===Ca?0:Za&&!Fb?-1:Fb&&!Za?1:ya<Ca?-1:1};var Tb={compareIdentifiers:Gb,rcompareIdentifiers:(ya,Ca)=>Gb(Ca,ya)};const {MAX_LENGTH:kc,MAX_SAFE_INTEGER:bd}=Ba,{re:tc,t:Fc}=oa,{compareIdentifiers:mb}=Tb;class dc{constructor(ya,Ca){Ca=Ua(Ca);if(ya instanceof dc){if(ya.loose===!!Ca.loose&&ya.includePrerelease===!!Ca.includePrerelease)return ya;ya=ya.version}else if("string"!==typeof ya)throw new TypeError(`Invalid Version: ${ya}`);if(ya.length>kc)throw new TypeError(`version is longer than ${kc} characters`);
Ga("SemVer",ya,Ca);this.options=Ca;this.loose=!!Ca.loose;this.includePrerelease=!!Ca.includePrerelease;Ca=ya.trim().match(Ca.loose?tc[Fc.LOOSE]:tc[Fc.FULL]);if(!Ca)throw new TypeError(`Invalid Version: ${ya}`);this.raw=ya;this.major=+Ca[1];this.minor=+Ca[2];this.patch=+Ca[3];if(this.major>bd||0>this.major)throw new TypeError("Invalid major version");if(this.minor>bd||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>bd||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Ca[4]?Ca[4].split(".").map(Za=>{if(/^[0-9]+$/.test(Za)){const Fb=+Za;if(0<=Fb&&Fb<bd)return Fb}return Za}):[];this.build=Ca[5]?Ca[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(ya){Ga("SemVer.compare",this.version,this.options,ya);if(!(ya instanceof dc)){if("string"===typeof ya&&ya===this.version)return 0;
ya=new dc(ya,this.options)}return ya.version===this.version?0:this.compareMain(ya)||this.comparePre(ya)}compareMain(ya){ya instanceof dc||(ya=new dc(ya,this.options));return mb(this.major,ya.major)||mb(this.minor,ya.minor)||mb(this.patch,ya.patch)}comparePre(ya){ya instanceof dc||(ya=new dc(ya,this.options));if(this.prerelease.length&&!ya.prerelease.length)return-1;if(!this.prerelease.length&&ya.prerelease.length)return 1;if(!this.prerelease.length&&!ya.prerelease.length)return 0;let Ca=0;do{const Za=
this.prerelease[Ca],Fb=ya.prerelease[Ca];Ga("prerelease compare",Ca,Za,Fb);if(void 0===Za&&void 0===Fb)return 0;if(void 0===Fb)return 1;if(void 0===Za)return-1;if(Za!==Fb)return mb(Za,Fb)}while(++Ca)}compareBuild(ya){ya instanceof dc||(ya=new dc(ya,this.options));let Ca=0;do{const Za=this.build[Ca],Fb=ya.build[Ca];Ga("prerelease compare",Ca,Za,Fb);if(void 0===Za&&void 0===Fb)return 0;if(void 0===Fb)return 1;if(void 0===Za)return-1;if(Za!==Fb)return mb(Za,Fb)}while(++Ca)}inc(ya,Ca){switch(ya){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Ca);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Ca);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Ca);this.inc("pre",Ca);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Ca);this.inc("pre",Ca);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(ya=this.prerelease.length;0<=--ya;)"number"===typeof this.prerelease[ya]&&(this.prerelease[ya]++,ya=-2);-1===ya&&this.prerelease.push(0)}Ca&&(this.prerelease[0]===Ca?isNaN(this.prerelease[1])&&(this.prerelease=[Ca,0]):this.prerelease=[Ca,0]);break;default:throw Error(`invalid increment argument: ${ya}`);
}this.format();this.raw=this.version;return this}}var Bc=dc;const {MAX_LENGTH:pc}=Ba,{re:Cc,t:nc}=oa;var Uc=(ya,Ca)=>{Ca=Ua(Ca);if(ya instanceof Bc)return ya;if("string"!==typeof ya||ya.length>pc||!(Ca.loose?Cc[nc.LOOSE]:Cc[nc.FULL]).test(ya))return null;try{return new Bc(ya,Ca)}catch(Za){return null}},Tc=(ya,Ca,Za)=>(new Bc(ya,Za)).compare(new Bc(Ca,Za)),Kc=(ya,Ca,Za)=>{ya=new Bc(ya,Za);Ca=new Bc(Ca,Za);return ya.compare(Ca)||ya.compareBuild(Ca)},Fd=(ya,Ca,Za)=>0<Tc(ya,Ca,Za),fe=(ya,Ca,Za)=>0>Tc(ya,
Ca,Za),vd=(ya,Ca,Za)=>0<=Tc(ya,Ca,Za),Rc=(ya,Ca,Za)=>0>=Tc(ya,Ca,Za),Yd=(ya,Ca,Za,Fb)=>{switch(Ca){case "\x3d\x3d\x3d":return"object"===typeof ya&&(ya=ya.version),"object"===typeof Za&&(Za=Za.version),ya===Za;case "!\x3d\x3d":return"object"===typeof ya&&(ya=ya.version),"object"===typeof Za&&(Za=Za.version),ya!==Za;case "":case "\x3d":case "\x3d\x3d":return 0===Tc(ya,Za,Fb);case "!\x3d":return 0!==Tc(ya,Za,Fb);case "\x3e":return 0<Tc(ya,Za,Fb);case "\x3e\x3d":return 0<=Tc(ya,Za,Fb);case "\x3c":return 0>
Tc(ya,Za,Fb);case "\x3c\x3d":return 0>=Tc(ya,Za,Fb);default:throw new TypeError(`Invalid operator: ${Ca}`);}};const {re:Pb,t:fc}=oa;var Hb=function(ya){ya.prototype[Symbol.iterator]=function*(){for(let Ca=this.head;Ca;Ca=Ca.next)yield Ca.value}};z.Node=K;z.create=z;z.prototype.removeNode=function(ya){if(ya.list!==this)throw Error("removing node which does not belong to this list");var Ca=ya.next,Za=ya.prev;Ca&&(Ca.prev=Za);Za&&(Za.next=Ca);ya===this.head&&(this.head=Ca);ya===this.tail&&(this.tail=
Za);ya.list.length--;ya.next=null;ya.prev=null;ya.list=null;return Ca};z.prototype.unshiftNode=function(ya){if(ya!==this.head){ya.list&&ya.list.removeNode(ya);var Ca=this.head;ya.list=this;if(ya.next=Ca)Ca.prev=ya;this.head=ya;this.tail||(this.tail=ya);this.length++}};z.prototype.pushNode=function(ya){if(ya!==this.tail){ya.list&&ya.list.removeNode(ya);var Ca=this.tail;ya.list=this;if(ya.prev=Ca)Ca.next=ya;this.tail=ya;this.head||(this.head=ya);this.length++}};z.prototype.push=function(){for(var ya=
0,Ca=arguments.length;ya<Ca;ya++)this.tail=new K(arguments[ya],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};z.prototype.unshift=function(){for(var ya=0,Ca=arguments.length;ya<Ca;ya++)this.head=new K(arguments[ya],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};z.prototype.pop=function(){if(this.tail){var ya=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return ya}};z.prototype.shift=
function(){if(this.head){var ya=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return ya}};z.prototype.forEach=function(ya,Ca){Ca=Ca||this;for(var Za=this.head,Fb=0;null!==Za;Fb++)ya.call(Ca,Za.value,Fb,this),Za=Za.next};z.prototype.forEachReverse=function(ya,Ca){Ca=Ca||this;for(var Za=this.tail,Fb=this.length-1;null!==Za;Fb--)ya.call(Ca,Za.value,Fb,this),Za=Za.prev};z.prototype.get=function(ya){for(var Ca=0,Za=this.head;null!==Za&&Ca<ya;Ca++)Za=Za.next;
if(Ca===ya&&null!==Za)return Za.value};z.prototype.getReverse=function(ya){for(var Ca=0,Za=this.tail;null!==Za&&Ca<ya;Ca++)Za=Za.prev;if(Ca===ya&&null!==Za)return Za.value};z.prototype.map=function(ya,Ca){Ca=Ca||this;for(var Za=new z,Fb=this.head;null!==Fb;)Za.push(ya.call(Ca,Fb.value,this)),Fb=Fb.next;return Za};z.prototype.mapReverse=function(ya,Ca){Ca=Ca||this;for(var Za=new z,Fb=this.tail;null!==Fb;)Za.push(ya.call(Ca,Fb.value,this)),Fb=Fb.prev;return Za};z.prototype.reduce=function(ya,Ca){var Za=
this.head;if(1<arguments.length)var Fb=Ca;else if(this.head)Za=this.head.next,Fb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=0;null!==Za;ub++)Fb=ya(Fb,Za.value,ub),Za=Za.next;return Fb};z.prototype.reduceReverse=function(ya,Ca){var Za=this.tail;if(1<arguments.length)var Fb=Ca;else if(this.tail)Za=this.tail.prev,Fb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=this.length-1;null!==Za;ub--)Fb=ya(Fb,
Za.value,ub),Za=Za.prev;return Fb};z.prototype.toArray=function(){for(var ya=Array(this.length),Ca=0,Za=this.head;null!==Za;Ca++)ya[Ca]=Za.value,Za=Za.next;return ya};z.prototype.toArrayReverse=function(){for(var ya=Array(this.length),Ca=0,Za=this.tail;null!==Za;Ca++)ya[Ca]=Za.value,Za=Za.prev;return ya};z.prototype.slice=function(ya,Ca){Ca=Ca||this.length;0>Ca&&(Ca+=this.length);ya=ya||0;0>ya&&(ya+=this.length);var Za=new z;if(Ca<ya||0>Ca)return Za;0>ya&&(ya=0);Ca>this.length&&(Ca=this.length);for(var Fb=
0,ub=this.head;null!==ub&&Fb<ya;Fb++)ub=ub.next;for(;null!==ub&&Fb<Ca;Fb++,ub=ub.next)Za.push(ub.value);return Za};z.prototype.sliceReverse=function(ya,Ca){Ca=Ca||this.length;0>Ca&&(Ca+=this.length);ya=ya||0;0>ya&&(ya+=this.length);var Za=new z;if(Ca<ya||0>Ca)return Za;0>ya&&(ya=0);Ca>this.length&&(Ca=this.length);for(var Fb=this.length,ub=this.tail;null!==ub&&Fb>Ca;Fb--)ub=ub.prev;for(;null!==ub&&Fb>ya;Fb--,ub=ub.prev)Za.push(ub.value);return Za};z.prototype.splice=function(ya,Ca,...Za){ya>this.length&&
(ya=this.length-1);0>ya&&(ya=this.length+ya);for(var Fb=0,ub=this.head;null!==ub&&Fb<ya;Fb++)ub=ub.next;ya=[];for(Fb=0;ub&&Fb<Ca;Fb++)ya.push(ub.value),ub=this.removeNode(ub);null===ub&&(ub=this.tail);ub!==this.head&&ub!==this.tail&&(ub=ub.prev);for(Fb=0;Fb<Za.length;Fb++)Ca=ub,ub=Za[Fb],Ca=Ca===this.head?new K(ub,null,Ca,this):new K(ub,Ca,Ca.next,this),null===Ca.next&&(this.tail=Ca),null===Ca.prev&&(this.head=Ca),this.length++,ub=Ca;return ya};z.prototype.reverse=function(){for(var ya=this.head,
Ca=this.tail,Za=ya;null!==Za;Za=Za.prev){var Fb=Za.prev;Za.prev=Za.next;Za.next=Fb}this.head=Ca;this.tail=ya;return this};try{Hb(z)}catch(ya){}const yc=Symbol("max"),Vc=Symbol("length"),Gd=Symbol("lengthCalculator"),Wd=Symbol("allowStale"),La=Symbol("maxAge"),fb=Symbol("dispose"),wb=Symbol("noDisposeOnSet"),Ib=Symbol("lruList"),Zb=Symbol("cache"),ic=Symbol("updateAgeOnGet"),Ac=()=>1;class qc{constructor(ya){"number"===typeof ya&&(ya={max:ya});ya||(ya={});if(ya.max&&("number"!==typeof ya.max||0>ya.max))throw new TypeError("max must be a non-negative number");
this[yc]=ya.max||Infinity;const Ca=ya.length||Ac;this[Gd]="function"!==typeof Ca?Ac:Ca;this[Wd]=ya.stale||!1;if(ya.maxAge&&"number"!==typeof ya.maxAge)throw new TypeError("maxAge must be a number");this[La]=ya.maxAge||0;this[fb]=ya.dispose;this[wb]=ya.noDisposeOnSet||!1;this[ic]=ya.updateAgeOnGet||!1;this.reset()}set max(ya){if("number"!==typeof ya||0>ya)throw new TypeError("max must be a non-negative number");this[yc]=ya||Infinity;Ub(this)}get max(){return this[yc]}set allowStale(ya){this[Wd]=!!ya}get allowStale(){return this[Wd]}set maxAge(ya){if("number"!==
typeof ya)throw new TypeError("maxAge must be a non-negative number");this[La]=ya;Ub(this)}get maxAge(){return this[La]}set lengthCalculator(ya){"function"!==typeof ya&&(ya=Ac);ya!==this[Gd]&&(this[Gd]=ya,this[Vc]=0,this[Ib].forEach(Ca=>{Ca.length=this[Gd](Ca.value,Ca.key);this[Vc]+=Ca.length}));Ub(this)}get lengthCalculator(){return this[Gd]}get length(){return this[Vc]}get itemCount(){return this[Ib].length}rforEach(ya,Ca){Ca=Ca||this;for(let Za=this[Ib].tail;null!==Za;){const Fb=Za.prev;Dc(this,
ya,Za,Ca);Za=Fb}}forEach(ya,Ca){Ca=Ca||this;for(let Za=this[Ib].head;null!==Za;){const Fb=Za.next;Dc(this,ya,Za,Ca);Za=Fb}}keys(){return this[Ib].toArray().map(ya=>ya.key)}values(){return this[Ib].toArray().map(ya=>ya.value)}reset(){this[fb]&&this[Ib]&&this[Ib].length&&this[Ib].forEach(ya=>this[fb](ya.key,ya.value));this[Zb]=new Map;this[Ib]=new z;this[Vc]=0}dump(){return this[Ib].map(ya=>Bb(this,ya)?!1:{k:ya.key,v:ya.value,e:ya.now+(ya.maxAge||0)}).toArray().filter(ya=>ya)}dumpLru(){return this[Ib]}set(ya,
Ca,Za){if((Za=Za||this[La])&&"number"!==typeof Za)throw new TypeError("maxAge must be a number");const Fb=Za?Date.now():0,ub=this[Gd](Ca,ya);if(this[Zb].has(ya)){if(ub>this[yc])return jc(this,this[Zb].get(ya)),!1;const Wb=this[Zb].get(ya).value;if(this[fb]&&!this[wb])this[fb](ya,Wb.value);Wb.now=Fb;Wb.maxAge=Za;Wb.value=Ca;this[Vc]+=ub-Wb.length;Wb.length=ub;this.get(ya);Ub(this);return!0}Za=new zc(ya,Ca,ub,Fb,Za);if(Za.length>this[yc]){if(this[fb])this[fb](ya,Ca);return!1}this[Vc]+=Za.length;this[Ib].unshift(Za);
this[Zb].set(ya,this[Ib].head);Ub(this);return!0}has(ya){if(!this[Zb].has(ya))return!1;ya=this[Zb].get(ya).value;return!Bb(this,ya)}get(ya){return nb(this,ya,!0)}peek(ya){return nb(this,ya,!1)}pop(){const ya=this[Ib].tail;if(!ya)return null;jc(this,ya);return ya.value}del(ya){jc(this,this[Zb].get(ya))}load(ya){this.reset();const Ca=Date.now();for(let Fb=ya.length-1;0<=Fb;Fb--){const ub=ya[Fb];var Za=ub.e||0;0===Za?this.set(ub.k,ub.v):(Za-=Ca,0<Za&&this.set(ub.k,ub.v,Za))}}prune(){this[Zb].forEach((ya,
Ca)=>nb(this,Ca,!1))}}const nb=(ya,Ca,Za)=>{if(Ca=ya[Zb].get(Ca)){const Fb=Ca.value;if(Bb(ya,Fb)){if(jc(ya,Ca),!ya[Wd])return}else Za&&(ya[ic]&&(Ca.value.now=Date.now()),ya[Ib].unshiftNode(Ca));return Fb.value}},Bb=(ya,Ca)=>{if(!Ca||!Ca.maxAge&&!ya[La])return!1;const Za=Date.now()-Ca.now;return Ca.maxAge?Za>Ca.maxAge:ya[La]&&Za>ya[La]},Ub=ya=>{if(ya[Vc]>ya[yc])for(let Ca=ya[Ib].tail;ya[Vc]>ya[yc]&&null!==Ca;){const Za=Ca.prev;jc(ya,Ca);Ca=Za}},jc=(ya,Ca)=>{if(Ca){const Za=Ca.value;if(ya[fb])ya[fb](Za.key,
Za.value);ya[Vc]-=Za.length;ya[Zb].delete(Za.key);ya[Ib].removeNode(Ca)}};class zc{constructor(ya,Ca,Za,Fb,ub){this.key=ya;this.value=Ca;this.length=Za;this.now=Fb;this.maxAge=ub||0}}const Dc=(ya,Ca,Za,Fb)=>{let ub=Za.value;Bb(ya,ub)&&(jc(ya,Za),ya[Wd]||(ub=void 0));ub&&Ca.call(Fb,ub.value,ub.key,ya)};class Wc{constructor(ya,Ca){Ca=Ua(Ca);if(ya instanceof Wc)return ya.loose===!!Ca.loose&&ya.includePrerelease===!!Ca.includePrerelease?ya:new Wc(ya.raw,Ca);if(ya instanceof ge)return this.raw=ya.value,
this.set=[[ya]],this.format(),this;this.options=Ca;this.loose=!!Ca.loose;this.includePrerelease=!!Ca.includePrerelease;this.raw=ya;this.set=ya.split(/\s*\|\|\s*/).map(Za=>this.parseRange(Za.trim())).filter(Za=>Za.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${ya}`);if(1<this.set.length)if(ya=this.set[0],this.set=this.set.filter(Za=>"\x3c0.0.0-0"!==Za[0].value),0===this.set.length)this.set=[ya];else if(1<this.set.length)for(const Za of this.set)if(1===Za.length&&""===Za[0].value){this.set=
[Za];break}this.format()}format(){return this.range=this.set.map(ya=>ya.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(ya){ya=ya.trim();const Ca=`parseRange:${Object.keys(this.options).join(",")}:${ya}`;var Za=Hc.get(Ca);if(Za)return Za;Za=this.options.loose;ya=ya.replace(Za?fd[uc.HYPHENRANGELOOSE]:fd[uc.HYPHENRANGE],Ze(this.options.includePrerelease));Ga("hyphen replace",ya);ya=ya.replace(fd[uc.COMPARATORTRIM],Zc);Ga("comparator trim",ya,fd[uc.COMPARATORTRIM]);ya=ya.replace(fd[uc.TILDETRIM],
$c);ya=ya.replace(fd[uc.CARETTRIM],nd);ya=ya.split(/\s+/).join(" ");const Fb=Za?fd[uc.COMPARATORLOOSE]:fd[uc.COMPARATOR];ya=ya.split(" ").map(Wb=>{var vc=Wb;Wb=this.options;Ga("comp",vc,Wb);vc=ae(vc,Wb);Ga("caret",vc);vc=Xd(vc,Wb);Ga("tildes",vc);vc=me(vc,Wb);Ga("xrange",vc);Ga("replaceStars",vc,Wb);vc=vc.trim().replace(fd[uc.STAR],"");Ga("stars",vc);return vc}).join(" ").split(/\s+/).map(Wb=>{var vc=this.options;Ga("replaceGTE0",Wb,vc);return Wb.trim().replace(fd[vc.includePrerelease?uc.GTE0PRE:
uc.GTE0],"")}).filter(this.options.loose?Wb=>!!Wb.match(Fb):()=>!0).map(Wb=>new ge(Wb,this.options));ya.length;Za=new Map;for(var ub of ya){if("\x3c0.0.0-0"===ub.value)return[ub];Za.set(ub.value,ub)}1<Za.size&&Za.has("")&&Za.delete("");ub=[...Za.values()];Hc.set(Ca,ub);return ub}intersects(ya,Ca){if(!(ya instanceof Wc))throw new TypeError("a Range is required");return this.set.some(Za=>Cd(Za,Ca)&&ya.set.some(Fb=>Cd(Fb,Ca)&&Za.every(ub=>Fb.every(Wb=>ub.intersects(Wb,Ca)))))}test(ya){if(!ya)return!1;
if("string"===typeof ya)try{ya=new Bc(ya,this.options)}catch(Wb){return!1}for(let Wb=0;Wb<this.set.length;Wb++){a:{var Ca=this.set[Wb];var Za=ya,Fb=this.options;for(var ub=0;ub<Ca.length;ub++)if(!Ca[ub].test(Za)){Ca=!1;break a}if(Za.prerelease.length&&!Fb.includePrerelease){for(Fb=0;Fb<Ca.length;Fb++)if(Ga(Ca[Fb].semver),Ca[Fb].semver!==ge.ANY&&0<Ca[Fb].semver.prerelease.length&&(ub=Ca[Fb].semver,ub.major===Za.major&&ub.minor===Za.minor&&ub.patch===Za.patch)){Ca=!0;break a}Ca=!1}else Ca=!0}if(Ca)return!0}return!1}}
var Db=Wc;const Hc=new qc({max:1E3}),{re:fd,t:uc,comparatorTrimReplace:Zc,tildeTrimReplace:$c,caretTrimReplace:nd}=oa,Cd=(ya,Ca)=>{let Za=!0;ya=ya.slice();let Fb=ya.pop();for(;Za&&ya.length;)Za=ya.every(ub=>Fb.intersects(ub,Ca)),Fb=ya.pop();return Za},Ed=ya=>!ya||"x"===ya.toLowerCase()||"*"===ya,Xd=(ya,Ca)=>ya.trim().split(/\s+/).map(Za=>$d(Za,Ca)).join(" "),$d=(ya,Ca)=>ya.replace(Ca.loose?fd[uc.TILDELOOSE]:fd[uc.TILDE],(Za,Fb,ub,Wb,vc)=>{Ga("tilde",ya,Za,Fb,ub,Wb,vc);Ed(Fb)?Za="":Ed(ub)?Za=`>=${Fb}.0.0 <${+Fb+
1}.0.0-0`:Ed(Wb)?Za=`>=${Fb}.${ub}.0 <${Fb}.${+ub+1}.0-0`:vc?(Ga("replaceTilde pr",vc),Za=`>=${Fb}.${ub}.${Wb}-${vc} <${Fb}.${+ub+1}.0-0`):Za=`>=${Fb}.${ub}.${Wb} <${Fb}.${+ub+1}.0-0`;Ga("tilde return",Za);return Za}),ae=(ya,Ca)=>ya.trim().split(/\s+/).map(Za=>Ce(Za,Ca)).join(" "),Ce=(ya,Ca)=>{Ga("caret",ya,Ca);const Za=Ca.includePrerelease?"-0":"";return ya.replace(Ca.loose?fd[uc.CARETLOOSE]:fd[uc.CARET],(Fb,ub,Wb,vc,Nc)=>{Ga("caret",ya,Fb,ub,Wb,vc,Nc);Ed(ub)?Fb="":Ed(Wb)?Fb=`>=${ub}.0.0${Za} <${+ub+
1}.0.0-0`:Ed(vc)?Fb="0"===ub?`>=${ub}.${Wb}.0${Za} <${ub}.${+Wb+1}.0-0`:`>=${ub}.${Wb}.0${Za} <${+ub+1}.0.0-0`:Nc?(Ga("replaceCaret pr",Nc),Fb="0"===ub?"0"===Wb?`>=${ub}.${Wb}.${vc}-${Nc} <${ub}.${Wb}.${+vc+1}-0`:`>=${ub}.${Wb}.${vc}-${Nc} <${ub}.${+Wb+1}.0-0`:`>=${ub}.${Wb}.${vc}-${Nc} <${+ub+1}.0.0-0`):(Ga("no pr"),Fb="0"===ub?"0"===Wb?`>=${ub}.${Wb}.${vc}${Za} <${ub}.${Wb}.${+vc+1}-0`:`>=${ub}.${Wb}.${vc}${Za} <${ub}.${+Wb+1}.0-0`:`>=${ub}.${Wb}.${vc} <${+ub+1}.0.0-0`);Ga("caret return",Fb);return Fb})},
me=(ya,Ca)=>{Ga("replaceXRanges",ya,Ca);return ya.split(/\s+/).map(Za=>ff(Za,Ca)).join(" ")},ff=(ya,Ca)=>{ya=ya.trim();return ya.replace(Ca.loose?fd[uc.XRANGELOOSE]:fd[uc.XRANGE],(Za,Fb,ub,Wb,vc,Nc)=>{Ga("xRange",ya,Za,Fb,ub,Wb,vc,Nc);const ld=Ed(ub),Pc=ld||Ed(Wb);vc=Pc||Ed(vc);"\x3d"===Fb&&vc&&(Fb="");Nc=Ca.includePrerelease?"-0":"";ld?Za="\x3e"===Fb||"\x3c"===Fb?"\x3c0.0.0-0":"*":Fb&&vc?(Pc&&(Wb=0),vc=0,"\x3e"===Fb?(Fb="\x3e\x3d",Pc?(ub=+ub+1,Wb=0):Wb=+Wb+1,vc=0):"\x3c\x3d"===Fb&&(Fb="\x3c",Pc?
ub=+ub+1:Wb=+Wb+1),"\x3c"===Fb&&(Nc="-0"),Za=`${Fb+ub}.${Wb}.${vc}${Nc}`):Pc?Za=`>=${ub}.0.0${Nc} <${+ub+1}.0.0-0`:vc&&(Za=`>=${ub}.${Wb}.0${Nc} <${ub}.${+Wb+1}.0-0`);Ga("xRange return",Za);return Za})},Ze=ya=>(Ca,Za,Fb,ub,Wb,vc,Nc,ld,Pc,Ld,Nd,Od,od)=>{Za=Ed(Fb)?"":Ed(ub)?`>=${Fb}.0.0${ya?"-0":""}`:Ed(Wb)?`>=${Fb}.${ub}.0${ya?"-0":""}`:vc?`>=${Za}`:`>=${Za}${ya?"-0":""}`;ld=Ed(Pc)?"":Ed(Ld)?`<${+Pc+1}.0.0-0`:Ed(Nd)?`<${Pc}.${+Ld+1}.0-0`:Od?`<=${Pc}.${Ld}.${Nd}-${Od}`:ya?`<${Pc}.${Ld}.${+Nd+1}-0`:
`<=${ld}`;return`${Za} ${ld}`.trim()},hf=Symbol("SemVer ANY");class Vd{static get ANY(){return hf}constructor(ya,Ca){Ca=Ua(Ca);if(ya instanceof Vd){if(ya.loose===!!Ca.loose)return ya;ya=ya.value}Ga("comparator",ya,Ca);this.options=Ca;this.loose=!!Ca.loose;this.parse(ya);this.value=this.semver===hf?"":this.operator+this.semver.version;Ga("comp",this)}parse(ya){const Ca=ya.match(this.options.loose?yf[Ue.COMPARATORLOOSE]:yf[Ue.COMPARATOR]);if(!Ca)throw new TypeError(`Invalid comparator: ${ya}`);this.operator=
void 0!==Ca[1]?Ca[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Ca[2]?new Bc(Ca[2],this.options.loose):hf}toString(){return this.value}test(ya){Ga("Comparator.test",ya,this.options.loose);if(this.semver===hf||ya===hf)return!0;if("string"===typeof ya)try{ya=new Bc(ya,this.options)}catch(Ca){return!1}return Yd(ya,this.operator,this.semver,this.options)}intersects(ya,Ca){if(!(ya instanceof Vd))throw new TypeError("a Comparator is required");Ca&&"object"===typeof Ca||(Ca={loose:!!Ca,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new Db(ya.value,Ca)).test(this.value);if(""===ya.operator)return""===ya.value?!0:(new Db(this.value,Ca)).test(ya.semver);const Za=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===ya.operator||"\x3e"===ya.operator),Fb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===ya.operator||"\x3c"===ya.operator),ub=this.semver.version===ya.semver.version,Wb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
ya.operator||"\x3c\x3d"===ya.operator),vc=Yd(this.semver,"\x3c",ya.semver,Ca)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===ya.operator||"\x3c"===ya.operator);ya=Yd(this.semver,"\x3e",ya.semver,Ca)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===ya.operator||"\x3e"===ya.operator);return Za||Fb||ub&&Wb||vc||ya}}var ge=Vd;const {re:yf,t:Ue}=oa;var of=(ya,Ca,Za)=>{try{Ca=new Db(Ca,Za)}catch(Fb){return!1}return Ca.test(ya)};const {ANY:le}=ge;var ye=(ya,Ca,Za,
Fb)=>{ya=new Bc(ya,Fb);Ca=new Db(Ca,Fb);let ub,Wb,vc,Nc;switch(Za){case "\x3e":ub=Fd;Za=Rc;Wb=fe;vc="\x3e";Nc="\x3e\x3d";break;case "\x3c":ub=fe;Za=vd;Wb=Fd;vc="\x3c";Nc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(of(ya,Ca,Fb))return!1;for(let ld=0;ld<Ca.set.length;++ld){let Pc=null,Ld=null;Ca.set[ld].forEach(Nd=>{Nd.semver===le&&(Nd=new ge("\x3e\x3d0.0.0"));Pc=Pc||Nd;Ld=Ld||Nd;ub(Nd.semver,Pc.semver,Fb)?Pc=Nd:Wb(Nd.semver,Ld.semver,Fb)&&(Ld=Nd)});
if(Pc.operator===vc||Pc.operator===Nc||(!Ld.operator||Ld.operator===vc)&&Za(ya,Ld.semver)||Ld.operator===Nc&&Wb(ya,Ld.semver))return!1}return!0};const {ANY:Mf}=ge,Ge=(ya,Ca,Za)=>{if(ya===Ca)return!0;if(1===ya.length&&ya[0].semver===Mf)return 1===Ca.length&&Ca[0].semver===Mf;const Fb=new Set;let ub,Wb;for(const Pc of ya)"\x3e"===Pc.operator||"\x3e\x3d"===Pc.operator?ub=Td(ub,Pc,Za):"\x3c"===Pc.operator||"\x3c\x3d"===Pc.operator?Wb=Zd(Wb,Pc,Za):Fb.add(Pc.semver);if(1<Fb.size)return null;let vc;if(ub&&
Wb&&(vc=Tc(ub.semver,Wb.semver,Za),0<vc||0===vc&&("\x3e\x3d"!==ub.operator||"\x3c\x3d"!==Wb.operator)))return null;for(const Pc of Fb){if(ub&&!of(Pc,String(ub),Za)||Wb&&!of(Pc,String(Wb),Za))return null;for(const Ld of Ca)if(!of(Pc,String(Ld),Za))return!1;return!0}let Nc,ld;for(const Pc of Ca){ld=ld||"\x3e"===Pc.operator||"\x3e\x3d"===Pc.operator;Nc=Nc||"\x3c"===Pc.operator||"\x3c\x3d"===Pc.operator;if(ub)if("\x3e"===Pc.operator||"\x3e\x3d"===Pc.operator){if(ya=Td(ub,Pc,Za),ya===Pc&&ya!==ub)return!1}else if("\x3e\x3d"===
ub.operator&&!of(ub.semver,String(Pc),Za))return!1;if(Wb)if("\x3c"===Pc.operator||"\x3c\x3d"===Pc.operator){if(ya=Zd(Wb,Pc,Za),ya===Pc&&ya!==Wb)return!1}else if("\x3c\x3d"===Wb.operator&&!of(Wb.semver,String(Pc),Za))return!1;if(!Pc.operator&&(Wb||ub)&&0!==vc)return!1}return ub&&Nc&&!Wb&&0!==vc||Wb&&ld&&!ub&&0!==vc?!1:!0},Td=(ya,Ca,Za)=>{if(!ya)return Ca;Za=Tc(ya.semver,Ca.semver,Za);return 0<Za?ya:0>Za?Ca:"\x3e"===Ca.operator&&"\x3e\x3d"===ya.operator?Ca:ya},Zd=(ya,Ca,Za)=>{if(!ya)return Ca;Za=Tc(ya.semver,
Ca.semver,Za);return 0>Za?ya:0<Za?Ca:"\x3c"===Ca.operator&&"\x3c\x3d"===ya.operator?Ca:ya};var we={re:oa.re,src:oa.src,tokens:oa.t,SEMVER_SPEC_VERSION:Ba.SEMVER_SPEC_VERSION,SemVer:Bc,compareIdentifiers:Tb.compareIdentifiers,rcompareIdentifiers:Tb.rcompareIdentifiers,parse:Uc,valid:(ya,Ca)=>(ya=Uc(ya,Ca))?ya.version:null,clean:(ya,Ca)=>(ya=Uc(ya.trim().replace(/^[=v]+/,""),Ca))?ya.version:null,inc:(ya,Ca,Za,Fb)=>{"string"===typeof Za&&(Fb=Za,Za=void 0);try{return(new Bc(ya,Za)).inc(Ca,Fb).version}catch(ub){return null}},
diff:(ya,Ca)=>{if(0===Tc(ya,Ca,void 0))return null;{ya=Uc(ya);Ca=Uc(Ca);var Za=ya.prerelease.length||Ca.prerelease.length;const Fb=Za?"pre":"";Za=Za?"prerelease":"";for(const ub in ya)if(("major"===ub||"minor"===ub||"patch"===ub)&&ya[ub]!==Ca[ub])return Fb+ub;return Za}},major:(ya,Ca)=>(new Bc(ya,Ca)).major,minor:(ya,Ca)=>(new Bc(ya,Ca)).minor,patch:(ya,Ca)=>(new Bc(ya,Ca)).patch,prerelease:(ya,Ca)=>(ya=Uc(ya,Ca))&&ya.prerelease.length?ya.prerelease:null,compare:Tc,rcompare:(ya,Ca,Za)=>Tc(Ca,ya,Za),
compareLoose:(ya,Ca)=>Tc(ya,Ca,!0),compareBuild:Kc,sort:(ya,Ca)=>ya.sort((Za,Fb)=>Kc(Za,Fb,Ca)),rsort:(ya,Ca)=>ya.sort((Za,Fb)=>Kc(Fb,Za,Ca)),gt:Fd,lt:fe,eq:(ya,Ca,Za)=>0===Tc(ya,Ca,Za),neq:(ya,Ca,Za)=>0!==Tc(ya,Ca,Za),gte:vd,lte:Rc,cmp:Yd,coerce:(ya,Ca)=>{if(ya instanceof Bc)return ya;"number"===typeof ya&&(ya=String(ya));if("string"!==typeof ya)return null;Ca=Ca||{};let Za=null;if(Ca.rtl){let Fb;for(;(Fb=Pb[fc.COERCERTL].exec(ya))&&(!Za||Za.index+Za[0].length!==ya.length);)Za&&Fb.index+Fb[0].length===
Za.index+Za[0].length||(Za=Fb),Pb[fc.COERCERTL].lastIndex=Fb.index+Fb[1].length+Fb[2].length;Pb[fc.COERCERTL].lastIndex=-1}else Za=ya.match(Pb[fc.COERCE]);return null===Za?null:Uc(`${Za[2]}.${Za[3]||"0"}.${Za[4]||"0"}`,Ca)},Comparator:ge,Range:Db,satisfies:of,toComparators:(ya,Ca)=>(new Db(ya,Ca)).set.map(Za=>Za.map(Fb=>Fb.value).join(" ").trim().split(" ")),maxSatisfying:(ya,Ca,Za)=>{let Fb=null,ub=null,Wb=null;try{Wb=new Db(Ca,Za)}catch(vc){return null}ya.forEach(vc=>{!Wb.test(vc)||Fb&&-1!==ub.compare(vc)||
(Fb=vc,ub=new Bc(Fb,Za))});return Fb},minSatisfying:(ya,Ca,Za)=>{let Fb=null,ub=null,Wb=null;try{Wb=new Db(Ca,Za)}catch(vc){return null}ya.forEach(vc=>{!Wb.test(vc)||Fb&&1!==ub.compare(vc)||(Fb=vc,ub=new Bc(Fb,Za))});return Fb},minVersion:(ya,Ca)=>{ya=new Db(ya,Ca);Ca=new Bc("0.0.0");if(ya.test(Ca))return Ca;Ca=new Bc("0.0.0-0");if(ya.test(Ca))return Ca;Ca=null;for(let Za=0;Za<ya.set.length;++Za){let Fb=null;ya.set[Za].forEach(ub=>{const Wb=new Bc(ub.semver.version);switch(ub.operator){case "\x3e":0===
Wb.prerelease.length?Wb.patch++:Wb.prerelease.push(0),Wb.raw=Wb.format();case "":case "\x3e\x3d":if(!Fb||0<Tc(Wb,Fb,void 0))Fb=Wb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${ub.operator}`);}});!Fb||Ca&&!(0<Tc(Ca,Fb,void 0))||(Ca=Fb)}return Ca&&ya.test(Ca)?Ca:null},validRange:(ya,Ca)=>{try{return(new Db(ya,Ca)).range||"*"}catch(Za){return null}},outside:ye,gtr:(ya,Ca,Za)=>ye(ya,Ca,"\x3e",Za),ltr:(ya,Ca,Za)=>ye(ya,Ca,"\x3c",Za),intersects:(ya,Ca,Za)=>{ya=new Db(ya,
Za);Ca=new Db(Ca,Za);return ya.intersects(Ca)},simplifyRange:(ya,Ca,Za)=>{var Fb=[],ub=null;let Wb=null;ya=ya.sort((vc,Nc)=>Tc(vc,Nc,Za));for(const vc of ya)of(vc,Ca,Za)?(Wb=vc,ub||(ub=vc)):(Wb&&Fb.push([ub,Wb]),ub=Wb=null);ub&&Fb.push([ub,null]);ub=[];for(const [vc,Nc]of Fb)vc===Nc?ub.push(vc):Nc||vc!==ya[0]?Nc?vc===ya[0]?ub.push(`<=${Nc}`):ub.push(`${vc} - ${Nc}`):ub.push(`>=${vc}`):ub.push("*");Fb=ub.join(" || ");return Fb.length<("string"===typeof Ca.raw?Ca.raw:String(Ca)).length?Fb:Ca},subset:(ya,
Ca,Za)=>{if(ya===Ca)return!0;ya=new Db(ya,Za);Ca=new Db(Ca,Za);let Fb=!1;a:for(const ub of ya.set){for(const Wb of Ca.set)if(ya=Ge(ub,Wb,Za),Fb=Fb||null!==ya,ya)continue a;if(Fb)return!1}return!0}};const nf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Pe={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Qd=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},
rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:nf["category-6"],diverging:nf["fireandice-6"],heatmap:nf["fire-7"],ordinal:nf["fire-7"],ramp:nf["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Pe["six-groups-cat-1"],diverging:Pe["diverging-colors"],heatmap:Pe["diverging-colors"],ordinal:Pe["six-groups-seq"],ramp:Pe["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Qe=ya=>function(Ca){return Ca[ya]},Yf=ya=>{const Ca=ya.length;return function(Za){for(let Fb=0;Fb<Ca;++Fb)Za=Za[ya[Fb]];return Za}};(function(ya,Ca,Za){const Fb=ka(ya);ya=1===Fb.length?Fb[0]:ya;return R((Za&&Za.get||U)(Fb),[ya],Ca||ya)})("id");R(ya=>ya,[],"identity");R(()=>0,[],"zero");
R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Ic=Array.isArray;const xe={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(ya){return String(ya).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class je{constructor(ya){this.options=Object.assign(Object.assign({},xe),ya);var Ca=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){ya=
document.createElement("style");ya.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Ca))throw Error("Invalid HTML ID");Ca="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
Ca);ya.innerHTML=Ca;Ca=document.head;0<Ca.childNodes.length?Ca.insertBefore(ya,Ca.childNodes[0]):Ca.appendChild(ya)}}tooltipHandler(ya,Ca,Za,Fb){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);if(null==Fb||""===Fb)this.el.classList.remove("visible",
`${this.options.theme}-theme`);else{this.el.innerHTML=fa(Fb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);ya=this.el.getBoundingClientRect();var ub=this.options.offsetX;Za=this.options.offsetY;Fb=Ca.clientX+ub;Fb+ya.width>window.innerWidth&&(Fb=+Ca.clientX-ub-ya.width);ub=Ca.clientY+Za;ub+ya.height>window.innerHeight&&(ub=+Ca.clientY-Za-ya.height);Ca={x:Fb,y:ub};var {x:Wb,y:vc}=Ca;this.el.setAttribute("style",`top: ${vc}px; left: ${Wb}px`)}}}
String.prototype.startsWith||(String.prototype.startsWith=function(ya,Ca){return this.substr(!Ca||0>Ca?0:+Ca,ya.length)===ya});var gc,De=ta,re=Ta,gf="undefined"!==typeof window?window:void 0;void 0===re&&(null===(gc=null===gf||void 0===gf?void 0:gf.vl)||void 0===gc?0:gc.compile)&&(re=gf.vl);var Hf={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},If={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Qf={vega:"Vega","vega-lite":"Vega-Lite"},Jf={vega:De.version,"vega-lite":re?re.version:"not available"},Ae={vega:function(ya){return ya},"vega-lite":function(ya,Ca){return re.compile(ya,{config:Ca}).spec}},xc=function(){for(var ya=[],Ca=0;Ca<arguments.length;Ca++)ya[Ca]=arguments[Ca];if(Ca=1<ya.length){if(Ca=m.isString(ya[0]))Ca=ya[0],Ca=!(Ca.startsWith("http://")||Ca.startsWith("https://")||Ca.startsWith("//"));Ca=Ca||ya[0]instanceof HTMLElement||
3===ya.length}return Ca?wa(ya[0],ya[1],ya[2]):kb(ya[0],ya[1])};xc.vegaLite=re;xc.vl=re;xc.container=kb;xc.embed=wa;xc.vega=De;xc["default"]=wa;xc.version="6.15.2";return xc})};
shadow$provide[67]=function(Ja,B,qb,F){(function(g,m){"object"===typeof F&&"undefined"!==typeof qb?qb.exports=m():"function"===typeof define&&define.amd?define(m):(g=g||self,g.CodeMirror=m())})(this,function(){function g(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function m(b){for(var r=b.childNodes.length;0<r;--r)b.removeChild(b.firstChild);return b}function n(b,r){return m(b).appendChild(r)}function E(b,r,W,T){b=document.createElement(b);W&&(b.className=W);T&&(b.style.cssText=T);if("string"==
typeof r)b.appendChild(document.createTextNode(r));else if(r)for(W=0;W<r.length;++W)b.appendChild(r[W]);return b}function O(b,r,W,T){b=E(b,r,W,T);b.setAttribute("role","presentation");return b}function x(b,r){3==r.nodeType&&(r=r.parentNode);if(b.contains)return b.contains(r);do if(11==r.nodeType&&(r=r.host),r==b)return!0;while(r=r.parentNode)}function y(){try{var b=document.activeElement}catch(r){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function v(b,r){var W=b.className;g(r).test(W)||(b.className+=(W?" ":"")+r)}function l(b,r){b=b.split(" ");for(var W=0;W<b.length;W++)b[W]&&!g(b[W]).test(r)&&(r+=" "+b[W]);return r}function k(b){var r=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,r)}}function d(b,r,W){r||(r={});for(var T in b)!b.hasOwnProperty(T)||!1===W&&r.hasOwnProperty(T)||(r[T]=b[T]);return r}function f(b,r,W,T,ia){null==r&&(r=b.search(/[^\s\u00a0]/),-1==r&&(r=b.length));T=T||0;for(ia=
ia||0;;){var Ma=b.indexOf("\t",T);if(0>Ma||Ma>=r)return ia+(r-T);ia+=Ma-T;ia+=W-ia%W;T=Ma+1}}function a(b,r){for(var W=0;W<b.length;++W)if(b[W]==r)return W;return-1}function e(b,r,W){for(var T=0,ia=0;;){var Ma=b.indexOf("\t",T);-1==Ma&&(Ma=b.length);var Ya=Ma-T;if(Ma==b.length||ia+Ya>=r)return T+Math.min(Ya,r-ia);ia+=Ma-T;ia+=W-ia%W;T=Ma+1;if(ia>=r)return T}}function p(b){for(;Ci.length<=b;)Ci.push(A(Ci)+" ");return Ci[b]}function A(b){return b[b.length-1]}function C(b,r){for(var W=[],T=0;T<b.length;T++)W[T]=
r(b[T],T);return W}function D(b,r,W){for(var T=0,ia=W(r);T<b.length&&W(b[T])<=ia;)T++;b.splice(T,0,r)}function P(){}function L(b,r){Object.create?b=Object.create(b):(P.prototype=b,b=new P);r&&d(r,b);return b}function G(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||Fh.test(b))}function z(b,r){return r?-1<r.source.indexOf("\\w")&&G(b)?!0:r.test(b):G(b)}function K(b){for(var r in b)if(b.hasOwnProperty(r)&&b[r])return!1;return!0}function H(b){return 768<=b.charCodeAt(0)&&yi.test(b)}
function R(b,r,W){for(;(0>W?0<r:r<b.length)&&H(b.charAt(r));)r+=W;return r}function U(b,r,W){for(var T=r>W?-1:1;;){if(r==W)return r;var ia=(r+W)/2;ia=0>T?Math.ceil(ia):Math.floor(ia);if(ia==r)return b(ia)?r:W;b(ia)?W=ia:r=ia+T}}function ka(b,r,W,T){if(!b)return T(r,W,"ltr",0);for(var ia=!1,Ma=0;Ma<b.length;++Ma){var Ya=b[Ma];if(Ya.from<W&&Ya.to>r||r==W&&Ya.to==r)T(Math.max(Ya.from,r),Math.min(Ya.to,W),1==Ya.level?"rtl":"ltr",Ma),ia=!0}ia||T(r,W,"ltr")}function ba(b,r,W){var T;ii=null;for(var ia=0;ia<
b.length;++ia){var Ma=b[ia];if(Ma.from<r&&Ma.to>r)return ia;Ma.to==r&&(Ma.from!=Ma.to&&"before"==W?T=ia:ii=ia);Ma.from==r&&(Ma.from!=Ma.to&&"before"!=W?T=ia:ii=ia)}return null!=T?T:ii}function fa(b,r){var W=b.order;null==W&&(W=b.order=Vi(b.text,r));return W}function ja(b,r,W){if(b.removeEventListener)b.removeEventListener(r,W,!1);else if(b.detachEvent)b.detachEvent("on"+r,W);else{var T=(b=b._handlers)&&b[r];T&&(W=a(T,W),-1<W&&(b[r]=T.slice(0,W).concat(T.slice(W+1))))}}function Z(b,r){var W=b._handlers&&
b._handlers[r]||zi;if(W.length)for(var T=Array.prototype.slice.call(arguments,2),ia=0;ia<W.length;++ia)W[ia].apply(null,T)}function Q(b,r,W){"string"==typeof r&&(r={type:r,preventDefault:function(){this.defaultPrevented=!0}});Z(b,W||r.type,b,r);return ua(r)||r.codemirrorIgnore}function q(b){var r=b._handlers&&b._handlers.cursorActivity;if(r){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var W=0;W<r.length;++W)-1==a(b,r[W])&&b.push(r[W])}}function N(b,r){return 0<(b._handlers&&
b._handlers[r]||zi).length}function da(b){b.prototype.on=function(r,W){Se(this,r,W)};b.prototype.off=function(r,W){ja(this,r,W)}}function aa(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function wa(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function ua(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Ea(b){aa(b);wa(b)}function $a(b){var r=b.which;null==r&&(b.button&1?r=1:b.button&2?r=3:b.button&4&&(r=2));Wg&&b.ctrlKey&&1==r&&(r=3);return r}
function kb(b){if(null==jh){var r=E("span","");n(b,E("span",[r,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(jh=1>=r.offsetWidth&&2<r.offsetHeight&&!(vf&&8>Wf))}b=jh?E("span",""):E("span","",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function ta(b,r){2<arguments.length&&(r.dependencies=Array.prototype.slice.call(arguments,2));Ai[b]=r}function Ta(b){if("string"==typeof b&&oi.hasOwnProperty(b))b=oi[b];else if(b&&"string"==
typeof b.name&&oi.hasOwnProperty(b.name)){var r=oi[b.name];"string"==typeof r&&(r={name:r});b=L(r,b);b.name=r.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Ta("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Ta("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Xa(b,r){r=Ta(r);var W=Ai[r.name];if(!W)return Xa(b,"text/plain");b=W(b,r);if(xh.hasOwnProperty(r.name)){W=xh[r.name];for(var T in W)W.hasOwnProperty(T)&&
(b.hasOwnProperty(T)&&(b["_"+T]=b[T]),b[T]=W[T])}b.name=r.name;r.helperType&&(b.helperType=r.helperType);if(r.modeProps)for(var ia in r.modeProps)b[ia]=r.modeProps[ia];return b}function Fa(b,r){b=xh.hasOwnProperty(b)?xh[b]:xh[b]={};d(r,b)}function va(b,r){if(!0===r)return r;if(b.copyState)return b.copyState(r);b={};for(var W in r){var T=r[W];T instanceof Array&&(T=T.concat([]));b[W]=T}return b}function V(b,r){for(var W;b.innerMode;){W=b.innerMode(r);if(!W||W.mode==b)break;r=W.state;b=W.mode}return W||
{mode:b,state:r}}function X(b,r,W){return b.startState?b.startState(r,W):!0}function ca(b,r){r-=b.first;if(0>r||r>=b.size)throw Error("There is no line "+(r+b.first)+" in the document.");for(;!b.lines;)for(var W=0;;++W){var T=b.children[W],ia=T.chunkSize();if(r<ia){b=T;break}r-=ia}return b.lines[r]}function ea(b,r,W){var T=[],ia=r.line;b.iter(r.line,W.line+1,function(Ma){Ma=Ma.text;ia==W.line&&(Ma=Ma.slice(0,W.ch));ia==r.line&&(Ma=Ma.slice(r.ch));T.push(Ma);++ia});return T}function ra(b,r,W){var T=
[];b.iter(r,W,function(ia){T.push(ia.text)});return T}function qa(b,r){if(r-=b.height)for(;b;b=b.parent)b.height+=r}function Ha(b){if(null==b.parent)return null;var r=b.parent;b=a(r.lines,b);for(var W=r.parent;W;r=W,W=W.parent)for(var T=0;W.children[T]!=r;++T)b+=W.children[T].chunkSize();return b+r.first}function na(b,r){var W=b.first;a:do{for(var T=0;T<b.children.length;++T){var ia=b.children[T],Ma=ia.height;if(r<Ma){b=ia;continue a}r-=Ma;W+=ia.chunkSize()}return W}while(!b.lines);for(T=0;T<b.lines.length;++T){ia=
b.lines[T].height;if(r<ia)break;r-=ia}return W+T}function Pa(b,r){return r>=b.first&&r<b.first+b.size}function cb(b,r){return String(b.lineNumberFormatter(r+b.firstLineNumber))}function ab(b,r,W){void 0===W&&(W=null);if(!(this instanceof ab))return new ab(b,r,W);this.line=b;this.ch=r;this.sticky=W}function Ba(b,r){return b.line-r.line||b.ch-r.ch}function Ga(b,r){return b.sticky==r.sticky&&0==Ba(b,r)}function oa(b){return ab(b.line,b.ch)}function Ia(b,r){return 0>Ba(b,r)?r:b}function Ua(b,r){return 0>
Ba(b,r)?b:r}function eb(b,r){if(r.line<b.first)return ab(b.first,0);var W=b.first+b.size-1;if(r.line>W)return ab(W,ca(b,W).text.length);b=ca(b,r.line).text.length;W=r.ch;r=null==W||W>b?ab(r.line,b):0>W?ab(r.line,0):r;return r}function Gb(b,r){for(var W=[],T=0;T<r.length;T++)W[T]=eb(b,r[T]);return W}function Tb(b,r,W,T){var ia=[b.state.modeGen],Ma={};pc(b,r.text,b.doc.mode,W,function(tb,Kb){return ia.push(tb,Kb)},Ma,T);var Ya=W.state;T=function(tb){W.baseTokens=ia;var Kb=b.state.overlays[tb],ac=1,
Qc=0;W.state=!0;pc(b,r.text,Kb.mode,W,function(rc,wc){for(var td=ac;Qc<rc;){var be=ia[ac];be>rc&&ia.splice(ac,1,rc,ia[ac+1],be);ac+=2;Qc=Math.min(rc,be)}if(wc)if(Kb.opaque)ia.splice(td,ac-td,rc,"overlay "+wc),ac=td+2;else for(;td<ac;td+=2)rc=ia[td+1],ia[td+1]=(rc?rc+" ":"")+"overlay "+wc},Ma);W.state=Ya;W.baseTokens=null;W.baseTokenPos=1};for(var bb=0;bb<b.state.overlays.length;++bb)T(bb);return{styles:ia,classes:Ma.bgClass||Ma.textClass?Ma:null}}function kc(b,r,W){if(!r.styles||r.styles[0]!=b.state.modeGen){var T=
bd(b,Ha(r)),ia=r.text.length>b.options.maxHighlightLength&&va(b.doc.mode,T.state),Ma=Tb(b,r,T);ia&&(T.state=ia);r.stateAfter=T.save(!ia);r.styles=Ma.styles;Ma.classes?r.styleClasses=Ma.classes:r.styleClasses&&(r.styleClasses=null);W===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return r.styles}function bd(b,r,W){var T=b.doc,ia=b.display;if(!T.mode.startState)return new yh(T,!0,r);var Ma=Cc(b,r,W),Ya=Ma>T.first&&ca(T,Ma-1).stateAfter,bb=Ya?yh.fromSaved(T,
Ya,Ma):new yh(T,X(T.mode),Ma);T.iter(Ma,r,function(tb){tc(b,tb.text,bb);var Kb=bb.line;tb.stateAfter=Kb==r-1||0==Kb%5||Kb>=ia.viewFrom&&Kb<ia.viewTo?bb.save():null;bb.nextLine()});W&&(T.modeFrontier=bb.line);return bb}function tc(b,r,W,T){var ia=b.doc.mode;b=new tg(r,b.options.tabSize,W);b.start=b.pos=T||0;for(""==r&&Fc(ia,W.state);!b.eol();)mb(ia,b,W.state),b.start=b.pos}function Fc(b,r){if(b.blankLine)return b.blankLine(r);if(b.innerMode&&(b=V(b,r),b.mode.blankLine))return b.mode.blankLine(b.state)}
function mb(b,r,W,T){for(var ia=0;10>ia;ia++){T&&(T[0]=V(b,W).mode);var Ma=b.token(r,W);if(r.pos>r.start)return Ma}throw Error("Mode "+b.name+" failed to advance stream.");}function dc(b,r,W,T){var ia=b.doc,Ma=ia.mode;r=eb(ia,r);var Ya=ca(ia,r.line);W=bd(b,r.line,W);b=new tg(Ya.text,b.options.tabSize,W);var bb;for(T&&(bb=[]);(T||b.pos<r.ch)&&!b.eol();){b.start=b.pos;var tb=mb(Ma,b,W.state);T&&bb.push(new kj(b,tb,va(ia.mode,W.state)))}return T?bb:new kj(b,tb,W.state)}function Bc(b,r){if(b)for(;;){var W=
b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!W)break;b=b.slice(0,W.index)+b.slice(W.index+W[0].length);var T=W[1]?"bgClass":"textClass";null==r[T]?r[T]=W[2]:(new RegExp("(?:^|\\s)"+W[2]+"(?:$|\\s)")).test(r[T])||(r[T]+=" "+W[2])}return b}function pc(b,r,W,T,ia,Ma,Ya){var bb=W.flattenSpans;null==bb&&(bb=b.options.flattenSpans);var tb=0,Kb=null,ac=new tg(r,b.options.tabSize,T),Qc=b.options.addModeClass&&[null];for(""==r&&Bc(Fc(W,T.state),Ma);!ac.eol();){if(ac.pos>b.options.maxHighlightLength){bb=
!1;Ya&&tc(b,r,T,ac.pos);ac.pos=r.length;var rc=null}else rc=Bc(mb(W,ac,T.state,Qc),Ma);if(Qc){var wc=Qc[0].name;wc&&(rc="m-"+(rc?wc+" "+rc:wc))}if(!bb||Kb!=rc){for(;tb<ac.start;)tb=Math.min(ac.start,tb+5E3),ia(tb,Kb);Kb=rc}ac.start=ac.pos}for(;tb<ac.pos;)b=Math.min(ac.pos,tb+5E3),ia(b,Kb),tb=b}function Cc(b,r,W){for(var T,ia,Ma=b.doc,Ya=W?-1:r-(b.doc.mode.innerMode?1E3:100);r>Ya;--r){if(r<=Ma.first)return Ma.first;var bb=ca(Ma,r-1),tb=bb.stateAfter;if(tb&&(!W||r+(tb instanceof Bi?tb.lookAhead:0)<=
Ma.modeFrontier))return r;bb=f(bb.text,null,b.options.tabSize);if(null==ia||T>bb)ia=r-1,T=bb}return ia}function nc(b,r){b.modeFrontier=Math.min(b.modeFrontier,r);if(!(b.highlightFrontier<r-10)){for(var W=b.first,T=r-1;T>W;T--){var ia=ca(b,T).stateAfter;if(ia&&(!(ia instanceof Bi)||T+ia.lookAhead<r)){W=T+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,W)}}function Uc(b,r,W){this.marker=b;this.from=r;this.to=W}function Tc(b,r){if(b)for(var W=0;W<b.length;++W){var T=b[W];if(T.marker==r)return T}}
function Kc(b,r){if(r.full)return null;var W=Pa(b,r.from.line)&&ca(b,r.from.line).markedSpans,T=Pa(b,r.to.line)&&ca(b,r.to.line).markedSpans;if(!W&&!T)return null;b=r.from.ch;var ia=r.to.ch,Ma=0==Ba(r.from,r.to),Ya;if(W)for(var bb=0;bb<W.length;++bb){var tb=W[bb],Kb=tb.marker;if(null==tb.from||(Kb.inclusiveLeft?tb.from<=b:tb.from<b)||!(tb.from!=b||"bookmark"!=Kb.type||Ma&&tb.marker.insertLeft)){var ac=null==tb.to||(Kb.inclusiveRight?tb.to>=b:tb.to>b);(Ya||(Ya=[])).push(new Uc(Kb,tb.from,ac?null:tb.to))}}W=
Ya;var Qc;if(T)for(Ya=0;Ya<T.length;++Ya)if(bb=T[Ya],tb=bb.marker,null==bb.to||(tb.inclusiveRight?bb.to>=ia:bb.to>ia)||bb.from==ia&&"bookmark"==tb.type&&(!Ma||bb.marker.insertLeft))Kb=null==bb.from||(tb.inclusiveLeft?bb.from<=ia:bb.from<ia),(Qc||(Qc=[])).push(new Uc(tb,Kb?null:bb.from-ia,null==bb.to?null:bb.to-ia));T=1==r.text.length;ia=A(r.text).length+(T?b:0);if(W)for(Ma=0;Ma<W.length;++Ma)if(Ya=W[Ma],null==Ya.to)(bb=Tc(Qc,Ya.marker),bb)?T&&(Ya.to=null==bb.to?null:bb.to+ia):Ya.to=b;if(Qc)for(b=
0;b<Qc.length;++b)Ma=Qc[b],null!=Ma.to&&(Ma.to+=ia),null==Ma.from?Tc(W,Ma.marker)||(Ma.from=ia,T&&(W||(W=[])).push(Ma)):(Ma.from+=ia,T&&(W||(W=[])).push(Ma));W&&(W=Fd(W));Qc&&Qc!=W&&(Qc=Fd(Qc));b=[W];if(!T){r=r.text.length-2;var rc;if(0<r&&W)for(T=0;T<W.length;++T)null==W[T].to&&(rc||(rc=[])).push(new Uc(W[T].marker,null,null));for(W=0;W<r;++W)b.push(rc);b.push(Qc)}return b}function Fd(b){for(var r=0;r<b.length;++r){var W=b[r];null!=W.from&&W.from==W.to&&!1!==W.marker.clearWhenEmpty&&b.splice(r--,
1)}return b.length?b:null}function fe(b,r,W){var T=null;b.iter(r.line,W.line+1,function(ac){if(ac.markedSpans)for(var Qc=0;Qc<ac.markedSpans.length;++Qc){var rc=ac.markedSpans[Qc].marker;!rc.readOnly||T&&-1!=a(T,rc)||(T||(T=[])).push(rc)}});if(!T)return null;b=[{from:r,to:W}];for(r=0;r<T.length;++r){W=T[r];for(var ia=W.find(0),Ma=0;Ma<b.length;++Ma){var Ya=b[Ma];if(!(0>Ba(Ya.to,ia.from)||0<Ba(Ya.from,ia.to))){var bb=[Ma,1],tb=Ba(Ya.from,ia.from),Kb=Ba(Ya.to,ia.to);(0>tb||!W.inclusiveLeft&&!tb)&&bb.push({from:Ya.from,
to:ia.from});(0<Kb||!W.inclusiveRight&&!Kb)&&bb.push({from:ia.to,to:Ya.to});b.splice.apply(b,bb);Ma+=bb.length-3}}}return b}function vd(b){var r=b.markedSpans;if(r){for(var W=0;W<r.length;++W)r[W].marker.detachLine(b);b.markedSpans=null}}function Rc(b,r){if(r){for(var W=0;W<r.length;++W)r[W].marker.attachLine(b);b.markedSpans=r}}function Yd(b,r){var W=b.lines.length-r.lines.length;if(0!=W)return W;W=b.find();var T=r.find(),ia=Ba(W.from,T.from)||(b.inclusiveLeft?-1:0)-(r.inclusiveLeft?-1:0);return ia?
-ia:(W=Ba(W.to,T.to)||(b.inclusiveRight?1:0)-(r.inclusiveRight?1:0))?W:r.id-b.id}function Pb(b,r){b=zh&&b.markedSpans;if(b)for(var W,T=0;T<b.length;++T)if(W=b[T],W.marker.collapsed&&null==(r?W.from:W.to)&&(!ia||0>Yd(ia,W.marker)))var ia=W.marker;return ia}function fc(b,r,W,T,ia){b=ca(b,r);if(b=zh&&b.markedSpans)for(r=0;r<b.length;++r){var Ma=b[r];if(Ma.marker.collapsed){var Ya=Ma.marker.find(0),bb=Ba(Ya.from,W)||(Ma.marker.inclusiveLeft?-1:0)-(ia.inclusiveLeft?-1:0),tb=Ba(Ya.to,T)||(Ma.marker.inclusiveRight?
1:0)-(ia.inclusiveRight?1:0);if(!(0<=bb&&0>=tb||0>=bb&&0<=tb)&&(0>=bb&&(Ma.marker.inclusiveRight&&ia.inclusiveLeft?0<=Ba(Ya.to,W):0<Ba(Ya.to,W))||0<=bb&&(Ma.marker.inclusiveRight&&ia.inclusiveLeft?0>=Ba(Ya.from,T):0>Ba(Ya.from,T))))return!0}}}function Hb(b){for(var r;r=Pb(b,!0);)b=r.find(-1,!0).line;return b}function yc(b,r){b=ca(b,r);var W=Hb(b);return b==W?r:Ha(W)}function Vc(b,r){if(r>b.lastLine())return r;var W=ca(b,r);if(!Gd(b,W))return r;for(;b=Pb(W,!1);)W=b.find(1,!0).line;return Ha(W)+1}function Gd(b,
r){var W=zh&&r.markedSpans;if(W)for(var T,ia=0;ia<W.length;++ia)if(T=W[ia],T.marker.collapsed&&(null==T.from||!T.marker.widgetNode&&0==T.from&&T.marker.inclusiveLeft&&Wd(b,r,T)))return!0}function Wd(b,r,W){if(null==W.to)return r=W.marker.find(1,!0),Wd(b,r.line,Tc(r.line.markedSpans,W.marker));if(W.marker.inclusiveRight&&W.to==r.text.length)return!0;for(var T,ia=0;ia<r.markedSpans.length;++ia)if(T=r.markedSpans[ia],T.marker.collapsed&&!T.marker.widgetNode&&T.from==W.to&&(null==T.to||T.to!=W.from)&&
(T.marker.inclusiveLeft||W.marker.inclusiveRight)&&Wd(b,r,T))return!0}function La(b){b=Hb(b);for(var r=0,W=b.parent,T=0;T<W.lines.length;++T){var ia=W.lines[T];if(ia==b)break;else r+=ia.height}for(b=W.parent;b;W=b,b=W.parent)for(T=0;T<b.children.length&&(ia=b.children[T],ia!=W);++T)r+=ia.height;return r}function fb(b){if(0==b.height)return 0;for(var r=b.text.length,W,T=b;W=Pb(T,!0);)W=W.find(0,!0),T=W.from.line,r+=W.from.ch-W.to.ch;for(T=b;W=Pb(T,!1);)b=W.find(0,!0),r-=T.text.length-b.from.ch,T=b.to.line,
r+=T.text.length-b.to.ch;return r}function wb(b){var r=b.display;b=b.doc;r.maxLine=ca(b,b.first);r.maxLineLength=fb(r.maxLine);r.maxLineChanged=!0;b.iter(function(W){var T=fb(W);T>r.maxLineLength&&(r.maxLineLength=T,r.maxLine=W)})}function Ib(b,r){if(!b||/^\s*$/.test(b))return null;r=r.addModeClass?Sj:ki;return r[b]||(r[b]=b.replace(/\S+/g,"cm-$\x26"))}function Zb(b,r){var W=O("span",null,null,sg?"padding-right: .1px":null);W={pre:O("pre",[W],"CodeMirror-line"),content:W,col:0,pos:0,cm:b,trailingSpace:!1,
splitSpaces:b.getOption("lineWrapping")};r.measure={};for(var T=0;T<=(r.rest?r.rest.length:0);T++){var ia=T?r.rest[T-1]:r.line,Ma=void 0;W.pos=0;W.addToken=Ac;var Ya=b.display.measure;if(null!=ih)Ya=ih;else{var bb=n(Ya,document.createTextNode("AA")),tb=hi(bb,0,1).getBoundingClientRect();bb=hi(bb,1,2).getBoundingClientRect();m(Ya);Ya=tb&&tb.left!=tb.right?ih=3>bb.right-tb.right:!1}Ya&&(Ma=fa(ia,b.doc.direction))&&(W.addToken=qc(W.addToken,Ma));W.map=[];var Kb=r!=b.display.externalMeasured&&Ha(ia);
a:{var ac=bb=tb=Ya=void 0,Qc=void 0,rc=void 0,wc=void 0;Ma=W;Kb=kc(b,ia,Kb);var td=ia.markedSpans,be=ia.text,Re=0;if(td)for(var ef=be.length,Ie=0,cg=1,Ff="",bg=0;;){if(bg==Ie){Qc=ac=bb=rc="";tb=Ya=null;bg=Infinity;for(var ag=[],qf=void 0,fg=0;fg<td.length;++fg){var Vf=td[fg],Sf=Vf.marker;if("bookmark"==Sf.type&&Vf.from==Ie&&Sf.widgetNode)ag.push(Sf);else if(Vf.from<=Ie&&(null==Vf.to||Vf.to>Ie||Sf.collapsed&&Vf.to==Ie&&Vf.from==Ie)){null!=Vf.to&&Vf.to!=Ie&&bg>Vf.to&&(bg=Vf.to,ac="");Sf.className&&
(Qc+=" "+Sf.className);Sf.css&&(rc=(rc?rc+";":"")+Sf.css);Sf.startStyle&&Vf.from==Ie&&(bb+=" "+Sf.startStyle);Sf.endStyle&&Vf.to==bg&&(qf||(qf=[])).push(Sf.endStyle,Vf.to);Sf.title&&((Ya||(Ya={})).title=Sf.title);if(Sf.attributes)for(var Ng in Sf.attributes)(Ya||(Ya={}))[Ng]=Sf.attributes[Ng];Sf.collapsed&&(!tb||0>Yd(tb.marker,Sf))&&(tb=Vf)}else Vf.from>Ie&&bg>Vf.from&&(bg=Vf.from)}if(qf)for(fg=0;fg<qf.length;fg+=2)qf[fg+1]==bg&&(ac+=" "+qf[fg]);if(!tb||tb.from==Ie)for(qf=0;qf<ag.length;++qf)nb(Ma,
0,ag[qf]);if(tb&&(tb.from||0)==Ie){nb(Ma,(null==tb.to?ef+1:tb.to)-Ie,tb.marker,null==tb.from);if(null==tb.to)break a;tb.to==Ie&&(tb=!1)}}if(Ie>=ef)break;for(ag=Math.min(ef,bg);;){if(Ff){qf=Ie+Ff.length;tb||(fg=qf>ag?Ff.slice(0,ag-Ie):Ff,Ma.addToken(Ma,fg,wc?wc+Qc:Qc,bb,Ie+fg.length==bg?ac:"",rc,Ya));if(qf>=ag){Ff=Ff.slice(ag-Ie);Ie=ag;break}Ie=qf;bb=""}Ff=be.slice(Re,Re=Kb[cg++]);wc=Ib(Kb[cg++],Ma.cm.options)}}else for(Ya=1;Ya<Kb.length;Ya+=2)Ma.addToken(Ma,be.slice(Re,Re=Kb[Ya]),Ib(Kb[Ya+1],Ma.cm.options))}ia.styleClasses&&
(ia.styleClasses.bgClass&&(W.bgClass=l(ia.styleClasses.bgClass,W.bgClass||"")),ia.styleClasses.textClass&&(W.textClass=l(ia.styleClasses.textClass,W.textClass||"")));0==W.map.length&&W.map.push(0,0,W.content.appendChild(kb(b.display.measure)));0==T?(r.measure.map=W.map,r.measure.cache={}):((r.measure.maps||(r.measure.maps=[])).push(W.map),(r.measure.caches||(r.measure.caches=[])).push({}))}sg&&(Ng=W.content.lastChild,/\bcm-tab\b/.test(Ng.className)||Ng.querySelector&&Ng.querySelector(".cm-tab"))&&
(W.content.className="cm-tab-wrap-hack");Z(b,"renderLine",b,r.line,W.pre);W.pre.className&&(W.textClass=l(W.pre.className,W.textClass||""));return W}function ic(b){var r=E("span","","cm-invalidchar");r.title="\\u"+b.charCodeAt(0).toString(16);r.setAttribute("aria-label",r.title);return r}function Ac(b,r,W,T,ia,Ma,Ya){if(r){if(b.splitSpaces){var bb=b.trailingSpace;if(1<r.length&&!/  /.test(r))bb=r;else{for(var tb="",Kb=0;Kb<r.length;Kb++){var ac=r.charAt(Kb);" "!=ac||!bb||Kb!=r.length-1&&32!=r.charCodeAt(Kb+
1)||(ac="");tb+=ac;bb=" "==ac}bb=tb}}else bb=r;tb=bb;Kb=b.cm.state.specialChars;ac=!1;if(Kb.test(r)){bb=document.createDocumentFragment();for(var Qc=0;;){Kb.lastIndex=Qc;var rc=Kb.exec(r),wc=rc?rc.index-Qc:r.length-Qc;if(wc){var td=document.createTextNode(tb.slice(Qc,Qc+wc));vf&&9>Wf?bb.appendChild(E("span",[td])):bb.appendChild(td);b.map.push(b.pos,b.pos+wc,td);b.col+=wc;b.pos+=wc}if(!rc)break;Qc+=wc+1;"\t"==rc[0]?(rc=b.cm.options.tabSize,rc-=b.col%rc,wc=bb.appendChild(E("span",p(rc),"cm-tab")),
wc.setAttribute("role","presentation"),wc.setAttribute("cm-text","\t"),b.col+=rc):("\r"==rc[0]||"\n"==rc[0]?(wc=bb.appendChild(E("span","\r"==rc[0]?"":"","cm-invalidchar")),wc.setAttribute("cm-text",rc[0])):(wc=b.cm.options.specialCharPlaceholder(rc[0]),wc.setAttribute("cm-text",rc[0]),vf&&9>Wf?bb.appendChild(E("span",[wc])):bb.appendChild(wc)),b.col+=1);b.map.push(b.pos,b.pos+1,wc);b.pos++}}else b.col+=r.length,bb=document.createTextNode(tb),b.map.push(b.pos,b.pos+r.length,bb),vf&&9>Wf&&(ac=!0),
b.pos+=r.length;b.trailingSpace=32==tb.charCodeAt(r.length-1);if(W||T||ia||ac||Ma||Ya){r=W||"";T&&(r+=T);ia&&(r+=ia);T=E("span",[bb],r,Ma);if(Ya)for(var be in Ya)Ya.hasOwnProperty(be)&&"style"!=be&&"class"!=be&&T.setAttribute(be,Ya[be]);return b.content.appendChild(T)}b.content.appendChild(bb)}}function qc(b,r){return function(W,T,ia,Ma,Ya,bb,tb){ia=ia?ia+" cm-force-border":"cm-force-border";for(var Kb=W.pos,ac=Kb+T.length;;){for(var Qc=void 0,rc=0;rc<r.length&&!(Qc=r[rc],Qc.to>Kb&&Qc.from<=Kb);rc++);
if(Qc.to>=ac)return b(W,T,ia,Ma,Ya,bb,tb);b(W,T.slice(0,Qc.to-Kb),ia,Ma,null,bb,tb);Ma=null;T=T.slice(Qc.to-Kb);Kb=Qc.to}}}function nb(b,r,W,T){var ia=!T&&W.widgetNode;ia&&b.map.push(b.pos,b.pos+r,ia);!T&&b.cm.display.input.needsContentAttribute&&(ia||(ia=b.content.appendChild(document.createElement("span"))),ia.setAttribute("cm-marker",W.id));ia&&(b.cm.display.input.setUneditable(ia),b.content.appendChild(ia));b.pos+=r;b.trailingSpace=!1}function Bb(b,r,W){for(var T=this.line=r,ia;T=Pb(T,!1);)T=
T.find(1,!0).line,(ia||(ia=[])).push(T);this.size=(this.rest=ia)?Ha(A(this.rest))-W+1:1;this.node=this.text=null;this.hidden=Gd(b,r)}function Ub(b,r,W){var T=[],ia;for(ia=r;ia<W;)r=new Bb(b.doc,ca(b.doc,ia),ia),ia+=r.size,T.push(r);return T}function jc(b,r){if(b=b.ownsGroup)try{var W=b.delayedCallbacks,T=0;do{for(;T<W.length;T++)W[T].call(null);for(var ia=0;ia<b.ops.length;ia++){var Ma=b.ops[ia];if(Ma.cursorActivityHandlers)for(;Ma.cursorActivityCalled<Ma.cursorActivityHandlers.length;)Ma.cursorActivityHandlers[Ma.cursorActivityCalled++].call(null,
Ma.cm)}}while(T<W.length)}finally{Gh=null,r(b)}}function zc(b,r){var W=b._handlers&&b._handlers[r]||zi;if(W.length){var T=Array.prototype.slice.call(arguments,2);if(Gh)var ia=Gh.delayedCallbacks;else Xf?ia=Xf:(ia=Xf=[],setTimeout(Dc,0));for(var Ma=function(bb){ia.push(function(){return W[bb].apply(null,T)})},Ya=0;Ya<W.length;++Ya)Ma(Ya)}}function Dc(){var b=Xf;Xf=null;for(var r=0;r<b.length;++r)b[r]()}function Wc(b,r,W,T){for(var ia=0;ia<r.changes.length;ia++){var Ma=r.changes[ia];if("text"==Ma){Ma=
b;var Ya=r,bb=Ya.text.className,tb=Hc(Ma,Ya);Ya.text==Ya.node&&(Ya.node=tb.pre);Ya.text.parentNode.replaceChild(tb.pre,Ya.text);Ya.text=tb.pre;tb.bgClass!=Ya.bgClass||tb.textClass!=Ya.textClass?(Ya.bgClass=tb.bgClass,Ya.textClass=tb.textClass,fd(Ma,Ya)):bb&&(Ya.text.className=bb)}else if("gutter"==Ma)uc(b,r,W,T);else if("class"==Ma)fd(b,r);else if("widget"==Ma){Ma=b;Ya=r;bb=T;Ya.alignable&&(Ya.alignable=null);tb=g("CodeMirror-linewidget");for(var Kb=Ya.node.firstChild,ac;Kb;Kb=ac)ac=Kb.nextSibling,
tb.test(Kb.className)&&Ya.node.removeChild(Kb);$c(Ma,Ya,bb)}}r.changes=null}function Db(b){b.node==b.text&&(b.node=E("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),vf&&8>Wf&&(b.node.style.zIndex=2));return b.node}function Hc(b,r){var W=b.display.externalMeasured;return W&&W.line==r.line?(b.display.externalMeasured=null,r.measure=W.measure,W.built):Zb(b,r)}function fd(b,r){var W=r.bgClass?r.bgClass+" "+(r.line.bgClass||
""):r.line.bgClass;W&&(W+=" CodeMirror-linebackground");if(r.background)W?r.background.className=W:(r.background.parentNode.removeChild(r.background),r.background=null);else if(W){var T=Db(r);r.background=T.insertBefore(E("div",null,W),T.firstChild);b.display.input.setUneditable(r.background)}r.line.wrapClass?Db(r).className=r.line.wrapClass:r.node!=r.text&&(r.node.className="");r.text.className=(r.textClass?r.textClass+" "+(r.line.textClass||""):r.line.textClass)||""}function uc(b,r,W,T){r.gutter&&
(r.node.removeChild(r.gutter),r.gutter=null);r.gutterBackground&&(r.node.removeChild(r.gutterBackground),r.gutterBackground=null);if(r.line.gutterClass){var ia=Db(r);r.gutterBackground=E("div",null,"CodeMirror-gutter-background "+r.line.gutterClass,"left: "+(b.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px; width: "+T.gutterTotalWidth+"px");b.display.input.setUneditable(r.gutterBackground);ia.insertBefore(r.gutterBackground,r.text)}ia=r.line.gutterMarkers;if(b.options.lineNumbers||ia){var Ma=
Db(r),Ya=r.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?T.fixedPos:-T.gutterTotalWidth)+"px");b.display.input.setUneditable(Ya);Ma.insertBefore(Ya,r.text);r.line.gutterClass&&(Ya.className+=" "+r.line.gutterClass);!b.options.lineNumbers||ia&&ia["CodeMirror-linenumbers"]||(r.lineNumber=Ya.appendChild(E("div",cb(b.options,W),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+T.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));
if(ia)for(r=0;r<b.display.gutterSpecs.length;++r)W=b.display.gutterSpecs[r].className,(Ma=ia.hasOwnProperty(W)&&ia[W])&&Ya.appendChild(E("div",[Ma],"CodeMirror-gutter-elt","left: "+T.gutterLeft[W]+"px; width: "+T.gutterWidth[W]+"px"))}}function Zc(b,r,W,T){var ia=Hc(b,r);r.text=r.node=ia.pre;ia.bgClass&&(r.bgClass=ia.bgClass);ia.textClass&&(r.textClass=ia.textClass);fd(b,r);uc(b,r,W,T);$c(b,r,T);return r.node}function $c(b,r,W){nd(b,r.line,r,W,!0);if(r.rest)for(var T=0;T<r.rest.length;T++)nd(b,r.rest[T],
r,W,!1)}function nd(b,r,W,T,ia){if(r.widgets){var Ma=Db(W),Ya=0;for(r=r.widgets;Ya<r.length;++Ya){var bb=r[Ya],tb=E("div",[bb.node],"CodeMirror-linewidget"+(bb.className?" "+bb.className:""));bb.handleMouseEvents||tb.setAttribute("cm-ignore-events","true");var Kb=bb,ac=tb,Qc=T;if(Kb.noHScroll){(W.alignable||(W.alignable=[])).push(ac);var rc=Qc.wrapperWidth;ac.style.left=Qc.fixedPos+"px";Kb.coverGutter||(rc-=Qc.gutterTotalWidth,ac.style.paddingLeft=Qc.gutterTotalWidth+"px");ac.style.width=rc+"px"}Kb.coverGutter&&
(ac.style.zIndex=5,ac.style.position="relative",Kb.noHScroll||(ac.style.marginLeft=-Qc.gutterTotalWidth+"px"));b.display.input.setUneditable(tb);ia&&bb.above?Ma.insertBefore(tb,W.gutter||W.text):Ma.appendChild(tb);zc(bb,"redraw")}}}function Cd(b){if(null!=b.height)return b.height;var r=b.doc.cm;if(!r)return 0;if(!x(document.body,b.node)){var W="position: relative;";b.coverGutter&&(W+="margin-left: -"+r.display.gutters.offsetWidth+"px;");b.noHScroll&&(W+="width: "+r.display.wrapper.clientWidth+"px;");
n(r.display.measure,E("div",[b.node],null,W))}return b.height=b.node.parentNode.offsetHeight}function Ed(b,r){for(r=r.target||r.srcElement;r!=b.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==b.sizer&&r!=b.mover)return!0}function Xd(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function $d(b){if(b.cachedPaddingH)return b.cachedPaddingH;var r=n(b.measure,E("pre","x","CodeMirror-line-like"));r=window.getComputedStyle?window.getComputedStyle(r):
r.currentStyle;r={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};isNaN(r.left)||isNaN(r.right)||(b.cachedPaddingH=r);return r}function ae(b){return 50-b.display.nativeBarWidth}function Ce(b){return b.display.scroller.clientWidth-ae(b)-b.display.barWidth}function me(b){return b.display.scroller.clientHeight-ae(b)-b.display.barHeight}function ff(b,r,W){if(b.line==r)return{map:b.measure.map,cache:b.measure.cache};for(var T=0;T<b.rest.length;T++)if(b.rest[T]==r)return{map:b.measure.maps[T],
cache:b.measure.caches[T]};for(r=0;r<b.rest.length;r++)if(Ha(b.rest[r])>W)return{map:b.measure.maps[r],cache:b.measure.caches[r],before:!0}}function Ze(b,r){if(r>=b.display.viewFrom&&r<b.display.viewTo)return b.display.view[Ae(b,r)];if((b=b.display.externalMeasured)&&r>=b.lineN&&r<b.lineN+b.size)return b}function hf(b,r){var W=Ha(r),T=Ze(b,W);T&&!T.text?T=null:T&&T.changes&&(Wc(b,T,W,gf(b)),b.curOp.forceUpdate=!0);if(!T){var ia=Hb(r);T=Ha(ia);ia=b.display.externalMeasured=new Bb(b.doc,ia,T);ia.lineN=
T;T=ia.built=Zb(b,ia);ia.text=T.pre;n(b.display.lineMeasure,T.pre);T=ia}b=ff(T,r,W);return{line:r,view:T,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Vd(b,r,W,T,ia){r.before&&(W=-1);var Ma=W+(T||"");if(r.cache.hasOwnProperty(Ma))b=r.cache[Ma];else{r.rect||(r.rect=r.view.text.getBoundingClientRect());if(!r.hasHeights){var Ya=r.view,bb=r.rect,tb=b.options.lineWrapping,Kb=tb&&Ce(b);if(!Ya.measure.heights||tb&&Ya.measure.width!=Kb){var ac=Ya.measure.heights=[];if(tb)for(Ya.measure.width=
Kb,Ya=Ya.text.firstChild.getClientRects(),tb=0;tb<Ya.length-1;tb++){Kb=Ya[tb];var Qc=Ya[tb+1];2<Math.abs(Kb.bottom-Qc.bottom)&&ac.push((Kb.bottom+Qc.top)/2-bb.top)}ac.push(bb.bottom-bb.top)}r.hasHeights=!0}ac=T;Ya=ge(r.map,W,ac);T=Ya.node;bb=Ya.start;tb=Ya.end;W=Ya.collapse;if(3==T.nodeType){for(var rc=0;4>rc;rc++){for(;bb&&H(r.line.text.charAt(Ya.coverStart+bb));)--bb;for(;Ya.coverStart+tb<Ya.coverEnd&&H(r.line.text.charAt(Ya.coverStart+tb));)++tb;if(vf&&9>Wf&&0==bb&&tb==Ya.coverEnd-Ya.coverStart)var wc=
T.parentNode.getBoundingClientRect();else{wc=hi(T,bb,tb).getClientRects();tb=Xh;if("left"==ac)for(Kb=0;Kb<wc.length&&(tb=wc[Kb]).left==tb.right;Kb++);else for(Kb=wc.length-1;0<=Kb&&(tb=wc[Kb]).left==tb.right;Kb--);wc=tb}if(wc.left||wc.right||0==bb)break;tb=bb;--bb;W="right"}vf&&11>Wf&&((rc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=ji?rc=ji:(ac=n(b.display.measure,E("span","x")),rc=ac.getBoundingClientRect(),ac=hi(ac,0,1).getBoundingClientRect(),rc=ji=
1<Math.abs(rc.left-ac.left)),rc=!rc),rc||(rc=screen.logicalXDPI/screen.deviceXDPI,ac=screen.logicalYDPI/screen.deviceYDPI,wc={left:wc.left*rc,right:wc.right*rc,top:wc.top*ac,bottom:wc.bottom*ac}))}else 0<bb&&(W=ac="right"),wc=b.options.lineWrapping&&1<(rc=T.getClientRects()).length?rc["right"==ac?rc.length-1:0]:T.getBoundingClientRect();!(vf&&9>Wf)||bb||wc&&(wc.left||wc.right)||(wc=(wc=T.parentNode.getClientRects()[0])?{left:wc.left,right:wc.left+re(b.display),top:wc.top,bottom:wc.bottom}:Xh);T=wc.top-
r.rect.top;bb=wc.bottom-r.rect.top;rc=(T+bb)/2;ac=r.view.measure.heights;for(Ya=0;Ya<ac.length-1&&!(rc<ac[Ya]);Ya++);W={left:("right"==W?wc.right:wc.left)-r.rect.left,right:("left"==W?wc.left:wc.right)-r.rect.left,top:Ya?ac[Ya-1]:0,bottom:ac[Ya]};wc.left||wc.right||(W.bogus=!0);b.options.singleCursorHeightPerLine||(W.rtop=T,W.rbottom=bb);b=W;b.bogus||(r.cache[Ma]=b)}return{left:b.left,right:b.right,top:ia?b.rtop:b.top,bottom:ia?b.rbottom:b.bottom}}function ge(b,r,W){for(var T,ia,Ma,Ya,bb,tb,Kb=0;Kb<
b.length;Kb+=3){bb=b[Kb];tb=b[Kb+1];if(r<bb)ia=0,Ma=1,Ya="left";else if(r<tb)ia=r-bb,Ma=ia+1;else if(Kb==b.length-3||r==tb&&b[Kb+3]>r)Ma=tb-bb,ia=Ma-1,r>=tb&&(Ya="right");if(null!=ia){T=b[Kb+2];bb==tb&&W==(T.insertLeft?"left":"right")&&(Ya=W);if("left"==W&&0==ia)for(;Kb&&b[Kb-2]==b[Kb-3]&&b[Kb-1].insertLeft;)T=b[(Kb-=3)+2],Ya="left";if("right"==W&&ia==tb-bb)for(;Kb<b.length-3&&b[Kb+3]==b[Kb+4]&&!b[Kb+5].insertLeft;)T=b[(Kb+=3)+2],Ya="right";break}}return{node:T,start:ia,end:Ma,collapse:Ya,coverStart:bb,
coverEnd:tb}}function yf(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var r=0;r<b.rest.length;r++)b.measure.caches[r]={}}function Ue(b){b.display.externalMeasure=null;m(b.display.lineMeasure);for(var r=0;r<b.display.view.length;r++)yf(b.display.view[r])}function of(b){Ue(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function le(){return xi&&yg?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ye(){return xi&&yg?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Mf(b){var r=0;if(b.widgets)for(var W=0;W<b.widgets.length;++W)b.widgets[W].above&&(r+=Cd(b.widgets[W]));return r}function Ge(b,r,W,T,ia){ia||(ia=Mf(r),W.top+=ia,W.bottom+=
ia);if("line"==T)return W;T||(T="local");r=La(r);r="local"==T?r+b.display.lineSpace.offsetTop:r-b.display.viewOffset;if("page"==T||"window"==T)b=b.display.lineSpace.getBoundingClientRect(),r+=b.top+("window"==T?0:ye()),T=b.left+("window"==T?0:le()),W.left+=T,W.right+=T;W.top+=r;W.bottom+=r;return W}function Td(b,r,W){if("div"==W)return r;var T=r.left;r=r.top;"page"==W?(T-=le(),r-=ye()):"local"!=W&&W||(W=b.display.sizer.getBoundingClientRect(),T+=W.left,r+=W.top);b=b.display.lineSpace.getBoundingClientRect();
return{left:T-b.left,top:r-b.top}}function Zd(b,r,W,T,ia){T||(T=ca(b.doc,r.line));var Ma=T;r=r.ch;T=Vd(b,hf(b,T),r,ia);return Ge(b,Ma,T,W)}function we(b,r,W,T,ia,Ma){function Ya(rc,wc){rc=Vd(b,ia,rc,wc?"right":"left",Ma);wc?rc.left=rc.right:rc.right=rc.left;return Ge(b,T,rc,W)}function bb(rc,wc,td){return Ya(td?rc-1:rc,1==tb[wc].level!=td)}T=T||ca(b.doc,r.line);ia||(ia=hf(b,T));var tb=fa(T,b.doc.direction),Kb=r.ch;r=r.sticky;Kb>=T.text.length?(Kb=T.text.length,r="before"):0>=Kb&&(Kb=0,r="after");
if(!tb)return Ya("before"==r?Kb-1:Kb,"before"==r);var ac=ba(tb,Kb,r),Qc=ii;ac=bb(Kb,ac,"before"==r);null!=Qc&&(ac.other=bb(Kb,Qc,"before"!=r));return ac}function nf(b,r){var W=0;r=eb(b.doc,r);b.options.lineWrapping||(W=re(b.display)*r.ch);r=ca(b.doc,r.line);b=La(r)+b.display.lineSpace.offsetTop;return{left:W,right:W,top:b,bottom:b+r.height}}function Pe(b,r,W,T,ia){b=ab(b,r,W);b.xRel=ia;T&&(b.outside=T);return b}function Qd(b,r,W){var T=b.doc;W+=b.display.viewOffset;if(0>W)return Pe(T.first,0,null,
-1,-1);var ia=na(T,W),Ma=T.first+T.size-1;if(ia>Ma)return Pe(T.first+T.size-1,ca(T,Ma).text.length,null,1,1);0>r&&(r=0);for(var Ya=ca(T,ia);;){Ma=xe(b,Ya,ia,r,W);var bb=void 0;var tb=Ma.ch+(0<Ma.xRel||0<Ma.outside?1:0);if(Ya=zh&&Ya.markedSpans)for(var Kb=0;Kb<Ya.length;++Kb){var ac=Ya[Kb];ac.marker.collapsed&&(null==ac.from||ac.from<tb)&&(null==ac.to||ac.to>tb)&&(!bb||0>Yd(bb,ac.marker))&&(bb=ac.marker)}if(!bb)return Ma;Ma=bb.find(1);if(Ma.line==ia)return Ma;Ya=ca(T,ia=Ma.line)}}function Qe(b,r,W,
T){T-=Mf(r);r=r.text.length;var ia=U(function(Ma){return Vd(b,W,Ma-1).bottom<=T},r,0);r=U(function(Ma){return Vd(b,W,Ma).top>T},ia,r);return{begin:ia,end:r}}function Yf(b,r,W,T){W||(W=hf(b,r));T=Ge(b,r,Vd(b,W,T),"line").top;return Qe(b,r,W,T)}function Ic(b,r,W,T){return b.bottom<=W?!1:b.top>W?!0:(T?b.left:b.right)>r}function xe(b,r,W,T,ia){ia-=La(r);var Ma=hf(b,r),Ya=Mf(r),bb=0,tb=r.text.length,Kb=!0,ac=fa(r,b.doc.direction);ac&&(ac=(b.options.lineWrapping?gc:je)(b,r,W,Ma,ac,T,ia),bb=(Kb=1!=ac.level)?
ac.from:ac.to-1,tb=Kb?ac.to:ac.from-1);var Qc=null,rc=null;ac=U(function(td){var be=Vd(b,Ma,td);be.top+=Ya;be.bottom+=Ya;if(!Ic(be,T,ia,!1))return!1;be.top<=ia&&be.left<=T&&(Qc=td,rc=be);return!0},bb,tb);var wc=!1;rc?(bb=T-rc.left<rc.right-T,Kb=bb==Kb,ac=Qc+(Kb?0:1),Kb=Kb?"after":"before",bb=bb?rc.left:rc.right):(Kb||ac!=tb&&ac!=bb||ac++,Kb=0==ac?"after":ac==r.text.length?"before":Vd(b,Ma,ac-(Kb?1:0)).bottom+Ya<=ia==Kb?"after":"before",wc=we(b,ab(W,ac,Kb),"line",r,Ma),bb=wc.left,wc=ia<wc.top?-1:ia>=
wc.bottom?1:0);ac=R(r.text,ac,1);return Pe(W,ac,Kb,wc,T-bb)}function je(b,r,W,T,ia,Ma,Ya){var bb=U(function(ac){ac=ia[ac];var Qc=1!=ac.level;return Ic(we(b,ab(W,Qc?ac.to:ac.from,Qc?"before":"after"),"line",r,T),Ma,Ya,!0)},0,ia.length-1),tb=ia[bb];if(0<bb){var Kb=1!=tb.level;Kb=we(b,ab(W,Kb?tb.from:tb.to,Kb?"after":"before"),"line",r,T);Ic(Kb,Ma,Ya,!0)&&Kb.top>Ya&&(tb=ia[bb-1])}return tb}function gc(b,r,W,T,ia,Ma,Ya){Ya=Qe(b,r,T,Ya);W=Ya.begin;Ya=Ya.end;/\s/.test(r.text.charAt(Ya-1))&&Ya--;for(var bb=
r=null,tb=0;tb<ia.length;tb++){var Kb=ia[tb];if(!(Kb.from>=Ya||Kb.to<=W)){var ac=Vd(b,T,1!=Kb.level?Math.min(Ya,Kb.to)-1:Math.max(W,Kb.from)).right;ac=ac<Ma?Ma-ac+1E9:ac-Ma;if(!r||bb>ac)r=Kb,bb=ac}}r||(r=ia[ia.length-1]);r.from<W&&(r={from:W,to:r.to,level:r.level});r.to>Ya&&(r={from:r.from,to:Ya,level:r.level});return r}function De(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==mi){mi=E("pre",null,"CodeMirror-line-like");for(var r=0;49>r;++r)mi.appendChild(document.createTextNode("x")),
mi.appendChild(E("br"));mi.appendChild(document.createTextNode("x"))}n(b.measure,mi);r=mi.offsetHeight/50;3<r&&(b.cachedTextHeight=r);m(b.measure);return r||1}function re(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var r=E("span","xxxxxxxxxx"),W=E("pre",[r],"CodeMirror-line-like");n(b.measure,W);r=r.getBoundingClientRect();r=(r.right-r.left)/10;2<r&&(b.cachedCharWidth=r);return r||10}function gf(b){for(var r=b.display,W={},T={},ia=r.gutters.clientLeft,Ma=r.gutters.firstChild,Ya=0;Ma;Ma=
Ma.nextSibling,++Ya){var bb=b.display.gutterSpecs[Ya].className;W[bb]=Ma.offsetLeft+Ma.clientLeft+ia;T[bb]=Ma.clientWidth}return{fixedPos:Hf(r),gutterTotalWidth:r.gutters.offsetWidth,gutterLeft:W,gutterWidth:T,wrapperWidth:r.wrapper.clientWidth}}function Hf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function If(b){var r=De(b.display),W=b.options.lineWrapping,T=W&&Math.max(5,b.display.scroller.clientWidth/re(b.display)-3);return function(ia){if(Gd(b.doc,
ia))return 0;var Ma=0;if(ia.widgets)for(var Ya=0;Ya<ia.widgets.length;Ya++)ia.widgets[Ya].height&&(Ma+=ia.widgets[Ya].height);return W?Ma+(Math.ceil(ia.text.length/T)||1)*r:Ma+r}}function Qf(b){var r=b.doc,W=If(b);r.iter(function(T){var ia=W(T);ia!=T.height&&qa(T,ia)})}function Jf(b,r,W,T){var ia=b.display;if(!W&&"true"==(r.target||r.srcElement).getAttribute("cm-not-content"))return null;W=ia.lineSpace.getBoundingClientRect();try{var Ma=r.clientX-W.left;var Ya=r.clientY-W.top}catch(tb){return null}r=
Qd(b,Ma,Ya);var bb;T&&0<r.xRel&&(bb=ca(b.doc,r.line).text).length==r.ch&&(T=f(bb,bb.length,b.options.tabSize)-bb.length,r=ab(r.line,Math.max(0,Math.round((Ma-$d(b.display).left)/re(b.display))-T)));return r}function Ae(b,r){if(r>=b.display.viewTo)return null;r-=b.display.viewFrom;if(0>r)return null;b=b.display.view;for(var W=0;W<b.length;W++)if(r-=b[W].size,0>r)return W}function xc(b,r,W,T){null==r&&(r=b.doc.first);null==W&&(W=b.doc.first+b.doc.size);T||(T=0);var ia=b.display;T&&W<ia.viewTo&&(null==
ia.updateLineNumbers||ia.updateLineNumbers>r)&&(ia.updateLineNumbers=r);b.curOp.viewChanged=!0;if(r>=ia.viewTo)zh&&yc(b.doc,r)<ia.viewTo&&Ca(b);else if(W<=ia.viewFrom)zh&&Vc(b.doc,W+T)>ia.viewFrom?Ca(b):(ia.viewFrom+=T,ia.viewTo+=T);else if(r<=ia.viewFrom&&W>=ia.viewTo)Ca(b);else if(r<=ia.viewFrom){var Ma=Za(b,W,W+T,1);Ma?(ia.view=ia.view.slice(Ma.index),ia.viewFrom=Ma.lineN,ia.viewTo+=T):Ca(b)}else if(W>=ia.viewTo)(Ma=Za(b,r,r,-1))?(ia.view=ia.view.slice(0,Ma.index),ia.viewTo=Ma.lineN):Ca(b);else{Ma=
Za(b,r,r,-1);var Ya=Za(b,W,W+T,1);Ma&&Ya?(ia.view=ia.view.slice(0,Ma.index).concat(Ub(b,Ma.lineN,Ya.lineN)).concat(ia.view.slice(Ya.index)),ia.viewTo+=T):Ca(b)}if(b=ia.externalMeasured)W<b.lineN?b.lineN+=T:r<b.lineN+b.size&&(ia.externalMeasured=null)}function ya(b,r,W){b.curOp.viewChanged=!0;var T=b.display,ia=b.display.externalMeasured;ia&&r>=ia.lineN&&r<ia.lineN+ia.size&&(T.externalMeasured=null);r<T.viewFrom||r>=T.viewTo||(b=T.view[Ae(b,r)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,W)&&
b.push(W)))}function Ca(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Za(b,r,W,T){var ia=Ae(b,r),Ma=b.display.view;if(!zh||W==b.doc.first+b.doc.size)return{index:ia,lineN:W};for(var Ya=b.display.viewFrom,bb=0;bb<ia;bb++)Ya+=Ma[bb].size;if(Ya!=r){if(0<T){if(ia==Ma.length-1)return null;r=Ya+Ma[ia].size-r;ia++}else r=Ya-r;W+=r}for(;yc(b.doc,W)!=W;){if(ia==(0>T?0:Ma.length-1))return null;W+=T*Ma[ia-(0>T?1:0)].size;ia+=T}return{index:ia,lineN:W}}function Fb(b){b=
b.display.view;for(var r=0,W=0;W<b.length;W++){var T=b[W];T.hidden||T.node&&!T.changes||++r}return r}function ub(b){b.display.input.showSelection(b.display.input.prepareSelection())}function Wb(b,r){void 0===r&&(r=!0);for(var W=b.doc,T={},ia=T.cursors=document.createDocumentFragment(),Ma=T.selection=document.createDocumentFragment(),Ya=0;Ya<W.sel.ranges.length;Ya++)if(r||Ya!=W.sel.primIndex){var bb=W.sel.ranges[Ya];if(!(bb.from().line>=b.display.viewTo||bb.to().line<b.display.viewFrom)){var tb=bb.empty();
(tb||b.options.showCursorWhenSelecting)&&vc(b,bb.head,ia);tb||ld(b,bb,Ma)}}return T}function vc(b,r,W){r=we(b,r,"div",null,null,!b.options.singleCursorHeightPerLine);var T=W.appendChild(E("div","","CodeMirror-cursor"));T.style.left=r.left+"px";T.style.top=r.top+"px";T.style.height=Math.max(0,r.bottom-r.top)*b.options.cursorHeight+"px";r.other&&(b=W.appendChild(E("div","","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=r.other.left+"px",b.style.top=r.other.top+"px",
b.style.height=.85*(r.other.bottom-r.other.top)+"px")}function Nc(b,r){return b.top-r.top||b.left-r.left}function ld(b,r,W){function T(wc,td,be,Re){0>td&&(td=0);td=Math.round(td);Re=Math.round(Re);bb.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+wc+"px;\n                             top: "+td+"px; width: "+(null==be?ac-wc:be)+"px;\n                             height: "+(Re-td)+"px"))}function ia(wc,td,be){function Re(qf,fg){return Zd(b,ab(wc,qf),"div",Ie,fg)}function ef(qf,
fg,Vf){qf=Yf(b,Ie,null,qf);fg="ltr"==fg==("after"==Vf)?"left":"right";Vf="after"==Vf?qf.begin:qf.end-(/\s/.test(Ie.text.charAt(qf.end-1))?2:1);return Re(Vf,fg)[fg]}var Ie=ca(Ya,wc),cg=Ie.text.length,Ff,bg,ag=fa(Ie,Ya.direction);ka(ag,td||0,null==be?cg:be,function(qf,fg,Vf,Sf){var Ng="ltr"==Vf,Sg=Re(qf,Ng?"left":"right"),Vg=Re(fg-1,Ng?"right":"left"),Sh=null==td&&0==qf,bi=null==be&&fg==cg,Lj=0==Sf;Sf=!ag||Sf==ag.length-1;3>=Vg.top-Sg.top?(fg=(Qc?Sh:bi)&&Lj?Kb:(Ng?Sg:Vg).left,T(fg,Sg.top,((Qc?bi:Sh)&&
Sf?ac:(Ng?Vg:Sg).right)-fg,Sg.bottom)):(Ng?(Ng=Qc&&Sh&&Lj?Kb:Sg.left,Sh=Qc?ac:ef(qf,Vf,"before"),qf=Qc?Kb:ef(fg,Vf,"after"),bi=Qc&&bi&&Sf?ac:Vg.right):(Ng=Qc?ef(qf,Vf,"before"):Kb,Sh=!Qc&&Sh&&Lj?ac:Sg.right,qf=!Qc&&bi&&Sf?Kb:Vg.left,bi=Qc?ef(fg,Vf,"after"):ac),T(Ng,Sg.top,Sh-Ng,Sg.bottom),Sg.bottom<Vg.top&&T(Kb,Sg.bottom,null,Vg.top),T(qf,Vg.top,bi-qf,Vg.bottom));if(!Ff||0>Nc(Sg,Ff))Ff=Sg;0>Nc(Vg,Ff)&&(Ff=Vg);if(!bg||0>Nc(Sg,bg))bg=Sg;0>Nc(Vg,bg)&&(bg=Vg)});return{start:Ff,end:bg}}var Ma=b.display,
Ya=b.doc,bb=document.createDocumentFragment(),tb=$d(b.display),Kb=tb.left,ac=Math.max(Ma.sizerWidth,Ce(b)-Ma.sizer.offsetLeft)-tb.right,Qc="ltr"==Ya.direction;Ma=r.from();r=r.to();if(Ma.line==r.line)ia(Ma.line,Ma.ch,r.ch);else{var rc=ca(Ya,Ma.line);tb=ca(Ya,r.line);tb=Hb(rc)==Hb(tb);Ma=ia(Ma.line,Ma.ch,tb?rc.text.length+1:null).end;r=ia(r.line,tb?0:null,r.ch).start;tb&&(Ma.top<r.top-2?(T(Ma.right,Ma.top,null,Ma.bottom),T(Kb,r.top,r.left,r.bottom)):T(Ma.right,Ma.top,r.left-Ma.right,Ma.bottom));Ma.bottom<
r.top&&T(Kb,Ma.bottom,null,r.top)}W.appendChild(bb)}function Pc(b){if(b.state.focused){var r=b.display;clearInterval(r.blinker);var W=!0;r.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?r.blinker=setInterval(function(){b.hasFocus()||od(b);r.cursorDiv.style.visibility=(W=!W)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(r.cursorDiv.style.visibility="hidden")}}function Ld(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||Od(b))}function Nd(b){b.state.delayingBlurEvent=
!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&od(b))},100)}function Od(b,r){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(Z(b,"focus",b,r),b.state.focused=!0,v(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),sg&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),
Pc(b))}function od(b,r){b.state.delayingBlurEvent||(b.state.focused&&(Z(b,"blur",b,r),b.state.focused=!1,Df(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function Rd(b){for(var r=b.display,W=r.lineDiv.offsetTop,T=0;T<r.view.length;T++){var ia=r.view[T],Ma=b.options.lineWrapping,Ya=0;if(!ia.hidden){if(vf&&8>Wf){Ma=ia.node.offsetTop+ia.node.offsetHeight;var bb=Ma-W;W=Ma}else{var tb=ia.node.getBoundingClientRect();
bb=tb.bottom-tb.top;!Ma&&ia.text.firstChild&&(Ya=ia.text.firstChild.getBoundingClientRect().right-tb.left-1)}Ma=ia.line.height-bb;if(.005<Ma||-.005>Ma)if(qa(ia.line,bb),kd(ia.line),ia.rest)for(bb=0;bb<ia.rest.length;bb++)kd(ia.rest[bb]);Ya>b.display.sizerWidth&&(Ya=Math.ceil(Ya/re(b.display)),Ya>b.display.maxLineLength&&(b.display.maxLineLength=Ya,b.display.maxLine=ia.line,b.display.maxLineChanged=!0))}}}function kd(b){if(b.widgets)for(var r=0;r<b.widgets.length;++r){var W=b.widgets[r],T=W.node.parentNode;
T&&(W.height=T.offsetHeight)}}function lf(b,r,W){var T=W&&null!=W.top?Math.max(0,W.top):b.scroller.scrollTop;T=Math.floor(T-b.lineSpace.offsetTop);var ia=W&&null!=W.bottom?W.bottom:T+b.wrapper.clientHeight;T=na(r,T);ia=na(r,ia);if(W&&W.ensure){var Ma=W.ensure.from.line;W=W.ensure.to.line;Ma<T?(T=Ma,ia=na(r,La(ca(r,Ma))+b.wrapper.clientHeight)):Math.min(W,r.lastLine())>=ia&&(T=na(r,La(ca(r,W))-b.wrapper.clientHeight),ia=W)}return{from:T,to:Math.max(ia,T+1)}}function bf(b,r){var W=b.display,T=De(b.display);
0>r.top&&(r.top=0);var ia=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:W.scroller.scrollTop,Ma=me(b),Ya={};r.bottom-r.top>Ma&&(r.bottom=r.top+Ma);var bb=b.doc.height+Xd(W),tb=r.top<T;T=r.bottom>bb-T;r.top<ia?Ya.scrollTop=tb?0:r.top:r.bottom>ia+Ma&&(Ma=Math.min(r.top,(T?bb:r.bottom)-Ma),Ma!=ia&&(Ya.scrollTop=Ma));ia=b.options.fixedGutter?0:W.gutters.offsetWidth;Ma=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:W.scroller.scrollLeft-ia;b=Ce(b)-W.gutters.offsetWidth;if(W=r.right-r.left>b)r.right=
r.left+b;10>r.left?Ya.scrollLeft=0:r.left<Ma?Ya.scrollLeft=Math.max(0,r.left+ia-(W?0:10)):r.right>b+Ma-3&&(Ya.scrollLeft=r.right+(W?0:10)-b);return Ya}function ee(b,r){null!=r&&(Xe(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+r)}function Ve(b){Xe(b);var r=b.getCursor();b.curOp.scrollToPos={from:r,to:r,margin:b.options.cursorScrollMargin}}function ce(b,r,W){null==r&&null==W||Xe(b);null!=r&&(b.curOp.scrollLeft=r);null!=W&&(b.curOp.scrollTop=W)}function Xe(b){var r=
b.curOp.scrollToPos;if(r){b.curOp.scrollToPos=null;var W=nf(b,r.from),T=nf(b,r.to);zf(b,W,T,r.margin)}}function zf(b,r,W,T){r=bf(b,{left:Math.min(r.left,W.left),top:Math.min(r.top,W.top)-T,right:Math.max(r.right,W.right),bottom:Math.max(r.bottom,W.bottom)+T});ce(b,r.scrollLeft,r.scrollTop)}function tf(b,r){2>Math.abs(b.doc.scrollTop-r)||(vh||Ne(b,{top:r}),Oe(b,r,!0),vh&&Ne(b),Hd(b,100))}function Oe(b,r,W){r=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,r));if(b.display.scroller.scrollTop!=
r||W)b.doc.scrollTop=r,b.display.scrollbars.setScrollTop(r),b.display.scroller.scrollTop!=r&&(b.display.scroller.scrollTop=r)}function Nf(b,r,W,T){r=Math.max(0,Math.min(r,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(W?r==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-r))&&!T||(b.doc.scrollLeft=r,Le(b),b.display.scroller.scrollLeft!=r&&(b.display.scroller.scrollLeft=r),b.display.scrollbars.setScrollLeft(r))}function Aa(b){var r=b.display,W=r.gutters.offsetWidth,T=Math.round(b.doc.height+
Xd(b.display));return{clientHeight:r.scroller.clientHeight,viewHeight:r.wrapper.clientHeight,scrollWidth:r.scroller.scrollWidth,clientWidth:r.scroller.clientWidth,viewWidth:r.wrapper.clientWidth,barLeft:b.options.fixedGutter?W:0,docHeight:T,scrollHeight:T+ae(b)+r.barHeight,nativeBarWidth:r.nativeBarWidth,gutterWidth:W}}function Ka(b,r){r||(r=Aa(b));var W=b.display.barWidth,T=b.display.barHeight;vb(b,r);for(r=0;4>r&&W!=b.display.barWidth||T!=b.display.barHeight;r++)W!=b.display.barWidth&&b.options.lineWrapping&&
Rd(b),vb(b,Aa(b)),W=b.display.barWidth,T=b.display.barHeight}function vb(b,r){var W=b.display,T=W.scrollbars.update(r);W.sizer.style.paddingRight=(W.barWidth=T.right)+"px";W.sizer.style.paddingBottom=(W.barHeight=T.bottom)+"px";W.heightForcer.style.borderBottom=T.bottom+"px solid transparent";T.right&&T.bottom?(W.scrollbarFiller.style.display="block",W.scrollbarFiller.style.height=T.bottom+"px",W.scrollbarFiller.style.width=T.right+"px"):W.scrollbarFiller.style.display="";T.bottom&&b.options.coverGutterNextToScrollbar&&
b.options.fixedGutter?(W.gutterFiller.style.display="block",W.gutterFiller.style.height=T.bottom+"px",W.gutterFiller.style.width=r.gutterWidth+"px"):W.gutterFiller.style.display=""}function Xb(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Df(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new Ck[b.options.scrollbarStyle](function(r){b.display.wrapper.insertBefore(r,b.display.scrollbarFiller);Se(r,"mousedown",function(){b.state.focused&&
setTimeout(function(){return b.display.input.focus()},0)});r.setAttribute("cm-not-content","true")},function(r,W){"horizontal"==W?Nf(b,r):tf(b,r)},b);b.display.scrollbars.addClass&&v(b.display.wrapper,b.display.scrollbars.addClass)}function Sb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Wi};b=b.curOp;Gh?Gh.ops.push(b):b.ownsGroup=Gh={ops:[b],delayedCallbacks:[]}}function hc(b){(b=b.curOp)&&jc(b,function(r){for(var W=0;W<r.ops.length;W++)r.ops[W].cm.curOp=null;r=r.ops;for(W=0;W<r.length;W++){var T=r[W],ia=T.cm,Ma=ia.display,Ya=ia.display;!Ya.scrollbarsClipped&&Ya.scroller.offsetWidth&&(Ya.nativeBarWidth=Ya.scroller.offsetWidth-Ya.scroller.clientWidth,Ya.heightForcer.style.height=ae(ia)+"px",Ya.sizer.style.marginBottom=-Ya.nativeBarWidth+"px",Ya.sizer.style.borderRightWidth=ae(ia)+
"px",Ya.scrollbarsClipped=!0);T.updateMaxLine&&wb(ia);T.mustUpdate=T.viewChanged||T.forceUpdate||null!=T.scrollTop||T.scrollToPos&&(T.scrollToPos.from.line<Ma.viewFrom||T.scrollToPos.to.line>=Ma.viewTo)||Ma.maxLineChanged&&ia.options.lineWrapping;T.update=T.mustUpdate&&new rh(ia,T.mustUpdate&&{top:T.scrollTop,ensure:T.scrollToPos},T.forceUpdate)}for(W=0;W<r.length;W++)T=r[W],T.updatedDisplay=T.mustUpdate&&ie(T.cm,T.update);for(W=0;W<r.length;W++)if(T=r[W],ia=T.cm,Ma=ia.display,T.updatedDisplay&&Rd(ia),
T.barMeasure=Aa(ia),Ma.maxLineChanged&&!ia.options.lineWrapping&&(Ya=Ma.maxLine.text.length,Ya=Vd(ia,hf(ia,Ma.maxLine),Ya,void 0),T.adjustWidthTo=Ya.left+3,ia.display.sizerWidth=T.adjustWidthTo,T.barMeasure.scrollWidth=Math.max(Ma.scroller.clientWidth,Ma.sizer.offsetLeft+T.adjustWidthTo+ae(ia)+ia.display.barWidth),T.maxScrollLeft=Math.max(0,Ma.sizer.offsetLeft+T.adjustWidthTo-Ce(ia))),T.updatedDisplay||T.selectionChanged)T.preparedSelection=Ma.input.prepareSelection();for(W=0;W<r.length;W++)T=r[W],
ia=T.cm,null!=T.adjustWidthTo&&(ia.display.sizer.style.minWidth=T.adjustWidthTo+"px",T.maxScrollLeft<ia.doc.scrollLeft&&Nf(ia,Math.min(ia.display.scroller.scrollLeft,T.maxScrollLeft),!0),ia.display.maxLineChanged=!1),Ma=T.focus&&T.focus==y(),T.preparedSelection&&ia.display.input.showSelection(T.preparedSelection,Ma),(T.updatedDisplay||T.startHeight!=ia.doc.height)&&Ka(ia,T.barMeasure),T.updatedDisplay&&Je(ia,T.barMeasure),T.selectionChanged&&Pc(ia),ia.state.focused&&T.updateInput&&ia.display.input.reset(T.typing),
Ma&&Ld(T.cm);for(W=0;W<r.length;W++){var bb=void 0;T=r[W];ia=T.cm;Ma=ia.display;Ya=ia.doc;T.updatedDisplay&&Pd(ia,T.update);null==Ma.wheelStartX||null==T.scrollTop&&null==T.scrollLeft&&!T.scrollToPos||(Ma.wheelStartX=Ma.wheelStartY=null);null!=T.scrollTop&&Oe(ia,T.scrollTop,T.forceScroll);null!=T.scrollLeft&&Nf(ia,T.scrollLeft,!0,!0);if(T.scrollToPos){var tb=eb(Ya,T.scrollToPos.from);var Kb=eb(Ya,T.scrollToPos.to);var ac=T.scrollToPos.margin;null==ac&&(ac=0);ia.options.lineWrapping||tb!=Kb||(tb=tb.ch?
ab(tb.line,"before"==tb.sticky?tb.ch-1:tb.ch,"after"):tb,Kb="before"==tb.sticky?ab(tb.line,tb.ch+1,"before"):tb);for(var Qc=0;5>Qc;Qc++){var rc=!1;bb=we(ia,tb);var wc=Kb&&Kb!=tb?we(ia,Kb):bb;bb={left:Math.min(bb.left,wc.left),top:Math.min(bb.top,wc.top)-ac,right:Math.max(bb.left,wc.left),bottom:Math.max(bb.bottom,wc.bottom)+ac};wc=bf(ia,bb);var td=ia.doc.scrollTop,be=ia.doc.scrollLeft;null!=wc.scrollTop&&(tf(ia,wc.scrollTop),1<Math.abs(ia.doc.scrollTop-td)&&(rc=!0));null!=wc.scrollLeft&&(Nf(ia,wc.scrollLeft),
1<Math.abs(ia.doc.scrollLeft-be)&&(rc=!0));if(!rc)break}Kb=bb;Q(ia,"scrollCursorIntoView")||(ac=ia.display,Qc=ac.sizer.getBoundingClientRect(),tb=null,0>Kb.top+Qc.top?tb=!0:Kb.bottom+Qc.top>(window.innerHeight||document.documentElement.clientHeight)&&(tb=!1),null==tb||Oj||(Kb=E("div","",null,"position: absolute;\n                         top: "+(Kb.top-ac.viewOffset-ia.display.lineSpace.offsetTop)+"px;\n                         height: "+(Kb.bottom-Kb.top+ae(ia)+ac.barHeight)+"px;\n                         left: "+
Kb.left+"px; width: "+Math.max(2,Kb.right-Kb.left)+"px;"),ia.display.lineSpace.appendChild(Kb),Kb.scrollIntoView(tb),ia.display.lineSpace.removeChild(Kb)))}Kb=T.maybeHiddenMarkers;tb=T.maybeUnhiddenMarkers;if(Kb)for(ac=0;ac<Kb.length;++ac)Kb[ac].lines.length||Z(Kb[ac],"hide");if(tb)for(Kb=0;Kb<tb.length;++Kb)tb[Kb].lines.length&&Z(tb[Kb],"unhide");Ma.wrapper.offsetHeight&&(Ya.scrollTop=ia.display.scroller.scrollTop);T.changeObjs&&Z(ia,"changes",ia,T.changeObjs);T.update&&T.update.finish()}})}function lc(b,
r){if(b.curOp)return r();Sb(b);try{return r()}finally{hc(b)}}function id(b,r){return function(){if(b.curOp)return r.apply(b,arguments);Sb(b);try{return r.apply(b,arguments)}finally{hc(b)}}}function Sc(b){return function(){if(this.curOp)return b.apply(this,arguments);Sb(this);try{return b.apply(this,arguments)}finally{hc(this)}}}function gd(b){return function(){var r=this.cm;if(!r||r.curOp)return b.apply(this,arguments);Sb(r);try{return b.apply(this,arguments)}finally{hc(r)}}}function Hd(b,r){b.doc.highlightFrontier<
b.display.viewTo&&b.state.highlight.set(r,k(he,b))}function he(b){var r=b.doc;if(!(r.highlightFrontier>=b.display.viewTo)){var W=+new Date+b.options.workTime,T=bd(b,r.highlightFrontier),ia=[];r.iter(T.line,Math.min(r.first+r.size,b.display.viewTo+500),function(Ma){if(T.line>=b.display.viewFrom){var Ya=Ma.styles,bb=Ma.text.length>b.options.maxHighlightLength?va(r.mode,T.state):null,tb=Tb(b,Ma,T,!0);bb&&(T.state=bb);Ma.styles=tb.styles;bb=Ma.styleClasses;(tb=tb.classes)?Ma.styleClasses=tb:bb&&(Ma.styleClasses=
null);tb=!Ya||Ya.length!=Ma.styles.length||bb!=tb&&(!bb||!tb||bb.bgClass!=tb.bgClass||bb.textClass!=tb.textClass);for(bb=0;!tb&&bb<Ya.length;++bb)tb=Ya[bb]!=Ma.styles[bb];tb&&ia.push(T.line);Ma.stateAfter=T.save()}else Ma.text.length<=b.options.maxHighlightLength&&tc(b,Ma.text,T),Ma.stateAfter=0==T.line%5?T.save():null;T.nextLine();if(+new Date>W)return Hd(b,b.options.workDelay),!0});r.highlightFrontier=T.line;r.modeFrontier=Math.max(r.modeFrontier,T.line);ia.length&&lc(b,function(){for(var Ma=0;Ma<
ia.length;Ma++)ya(b,ia[Ma],"text")})}}function ie(b,r){var W=b.display,T=b.doc;if(r.editorIsHidden)return Ca(b),!1;if(!r.force&&r.visible.from>=W.viewFrom&&r.visible.to<=W.viewTo&&(null==W.updateLineNumbers||W.updateLineNumbers>=W.viewTo)&&W.renderedView==W.view&&0==Fb(b))return!1;Of(b)&&(Ca(b),r.dims=gf(b));var ia=T.first+T.size,Ma=Math.max(r.visible.from-b.options.viewportMargin,T.first),Ya=Math.min(ia,r.visible.to+b.options.viewportMargin);W.viewFrom<Ma&&20>Ma-W.viewFrom&&(Ma=Math.max(T.first,
W.viewFrom));W.viewTo>Ya&&20>W.viewTo-Ya&&(Ya=Math.min(ia,W.viewTo));zh&&(Ma=yc(b.doc,Ma),Ya=Vc(b.doc,Ya));T=Ma!=W.viewFrom||Ya!=W.viewTo||W.lastWrapHeight!=r.wrapperHeight||W.lastWrapWidth!=r.wrapperWidth;ia=b.display;0==ia.view.length||Ma>=ia.viewTo||Ya<=ia.viewFrom?(ia.view=Ub(b,Ma,Ya),ia.viewFrom=Ma):(ia.viewFrom>Ma?ia.view=Ub(b,Ma,ia.viewFrom).concat(ia.view):ia.viewFrom<Ma&&(ia.view=ia.view.slice(Ae(b,Ma))),ia.viewFrom=Ma,ia.viewTo<Ya?ia.view=ia.view.concat(Ub(b,ia.viewTo,Ya)):ia.viewTo>Ya&&
(ia.view=ia.view.slice(0,Ae(b,Ya))));ia.viewTo=Ya;W.viewOffset=La(ca(b.doc,W.viewFrom));b.display.mover.style.top=W.viewOffset+"px";Ya=Fb(b);if(!T&&0==Ya&&!r.force&&W.renderedView==W.view&&(null==W.updateLineNumbers||W.updateLineNumbers>=W.viewTo))return!1;b.hasFocus()?Ma=null:(Ma=y())&&x(b.display.lineDiv,Ma)?(Ma={activeElt:Ma},window.getSelection&&(ia=window.getSelection(),ia.anchorNode&&ia.extend&&x(b.display.lineDiv,ia.anchorNode)&&(Ma.anchorNode=ia.anchorNode,Ma.anchorOffset=ia.anchorOffset,
Ma.focusNode=ia.focusNode,Ma.focusOffset=ia.focusOffset))):Ma=null;4<Ya&&(W.lineDiv.style.display="none");pe(b,W.updateLineNumbers,r.dims);4<Ya&&(W.lineDiv.style.display="");W.renderedView=W.view;(Ya=Ma)&&Ya.activeElt&&Ya.activeElt!=y()&&(Ya.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Ya.activeElt.nodeName)&&Ya.anchorNode&&x(document.body,Ya.anchorNode)&&x(document.body,Ya.focusNode)&&(Ma=window.getSelection(),ia=document.createRange(),ia.setEnd(Ya.anchorNode,Ya.anchorOffset),ia.collapse(!1),Ma.removeAllRanges(),
Ma.addRange(ia),Ma.extend(Ya.focusNode,Ya.focusOffset)));m(W.cursorDiv);m(W.selectionDiv);W.gutters.style.height=W.sizer.style.minHeight=0;T&&(W.lastWrapHeight=r.wrapperHeight,W.lastWrapWidth=r.wrapperWidth,Hd(b,400));W.updateLineNumbers=null;return!0}function Pd(b,r){for(var W=r.viewport,T=!0;;T=!1){if(T&&b.options.lineWrapping&&r.oldDisplayWidth!=Ce(b))T&&(r.visible=lf(b.display,b.doc,W));else if(W&&null!=W.top&&(W={top:Math.min(b.doc.height+Xd(b.display)-me(b),W.top)}),r.visible=lf(b.display,b.doc,
W),r.visible.from>=b.display.viewFrom&&r.visible.to<=b.display.viewTo)break;if(!ie(b,r))break;Rd(b);T=Aa(b);ub(b);Ka(b,T);Je(b,T);r.force=!1}r.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)r.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Ne(b,r){r=new rh(b,r);if(ie(b,r)){Rd(b);Pd(b,r);var W=Aa(b);ub(b);Ka(b,W);Je(b,
W);r.finish()}}function pe(b,r,W){function T(rc){var wc=rc.nextSibling;sg&&Wg&&b.display.currentWheelTarget==rc?rc.style.display="none":rc.parentNode.removeChild(rc);return wc}var ia=b.display,Ma=b.options.lineNumbers,Ya=ia.lineDiv,bb=Ya.firstChild,tb=ia.view;ia=ia.viewFrom;for(var Kb=0;Kb<tb.length;Kb++){var ac=tb[Kb];if(!ac.hidden)if(ac.node&&ac.node.parentNode==Ya){for(;bb!=ac.node;)bb=T(bb);bb=Ma&&null!=r&&r<=ia&&ac.lineNumber;ac.changes&&(-1<a(ac.changes,"gutter")&&(bb=!1),Wc(b,ac,ia,W));bb&&
(m(ac.lineNumber),ac.lineNumber.appendChild(document.createTextNode(cb(b.options,ia))));bb=ac.node.nextSibling}else{var Qc=Zc(b,ac,ia,W);Ya.insertBefore(Qc,bb)}ia+=ac.size}for(;bb;)bb=T(bb)}function He(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function Je(b,r){b.display.sizer.style.minHeight=r.docHeight+"px";b.display.heightForcer.style.top=r.docHeight+"px";b.display.gutters.style.height=r.docHeight+b.display.barHeight+ae(b)+"px"}function Le(b){var r=b.display,W=r.view;if(r.alignWidgets||
r.gutters.firstChild&&b.options.fixedGutter){for(var T=Hf(r)-r.scroller.scrollLeft+b.doc.scrollLeft,ia=r.gutters.offsetWidth,Ma=T+"px",Ya=0;Ya<W.length;Ya++)if(!W[Ya].hidden){b.options.fixedGutter&&(W[Ya].gutter&&(W[Ya].gutter.style.left=Ma),W[Ya].gutterBackground&&(W[Ya].gutterBackground.style.left=Ma));var bb=W[Ya].alignable;if(bb)for(var tb=0;tb<bb.length;tb++)bb[tb].style.left=Ma}b.options.fixedGutter&&(r.gutters.style.left=T+ia+"px")}}function Of(b){if(!b.options.lineNumbers)return!1;var r=b.doc;
r=cb(b.options,r.first+r.size-1);var W=b.display;if(r.length!=W.lineNumChars){var T=W.measure.appendChild(E("div",[E("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ia=T.firstChild.offsetWidth;T=T.offsetWidth-ia;W.lineGutter.style.width="";W.lineNumInnerWidth=Math.max(ia,W.lineGutter.offsetWidth-T)+1;W.lineNumWidth=W.lineNumInnerWidth+T;W.lineNumChars=W.lineNumInnerWidth?r.length:-1;W.lineGutter.style.width=W.lineNumWidth+"px";He(b.display);return!0}return!1}function Te(b,r){for(var W=[],
T=!1,ia=0;ia<b.length;ia++){var Ma=b[ia],Ya=null;"string"!=typeof Ma&&(Ya=Ma.style,Ma=Ma.className);if("CodeMirror-linenumbers"==Ma)if(r)T=!0;else continue;W.push({className:Ma,style:Ya})}r&&!T&&W.push({className:"CodeMirror-linenumbers",style:null});return W}function uf(b){var r=b.gutters,W=b.gutterSpecs;m(r);b.lineGutter=null;for(var T=0;T<W.length;++T){var ia=W[T],Ma=ia.className;ia=ia.style;var Ya=r.appendChild(E("div",null,"CodeMirror-gutter "+Ma));ia&&(Ya.style.cssText=ia);"CodeMirror-linenumbers"==
Ma&&(b.lineGutter=Ya,Ya.style.width=(b.lineNumWidth||1)+"px")}r.style.display=W.length?"":"none";He(b)}function Bf(b){uf(b.display);xc(b);Le(b)}function Ag(b,r,W,T){this.input=W;this.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=E("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=O("div",null,"CodeMirror-code");this.selectionDiv=E("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=E("div",null,"CodeMirror-cursors");this.measure=E("div",null,"CodeMirror-measure");this.lineMeasure=E("div",null,"CodeMirror-measure");this.lineSpace=O("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ia=O("div",[this.lineSpace],"CodeMirror-lines");this.mover=E("div",[ia],null,"position: relative");this.sizer=E("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=E("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=E("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=E("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=E("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");vf&&8>Wf&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);sg||vh&&Gg||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):
b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=r.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Te(T.gutters,T.lineNumbers);uf(this);W.init(this)}function Rf(b){var r=b.wheelDeltaX,W=b.wheelDeltaY;null==r&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(r=b.detail);null==W&&b.detail&&b.axis==b.VERTICAL_AXIS?W=b.detail:null==W&&(W=b.wheelDelta);return{x:r,y:W}}function jg(b){b=Rf(b);b.x*=Ig;b.y*=Ig;return b}function xa(b,r){var W=Rf(r),T=W.x;W=W.y;var ia=b.display,
Ma=ia.scroller,Ya=Ma.scrollWidth>Ma.clientWidth,bb=Ma.scrollHeight>Ma.clientHeight;if(T&&Ya||W&&bb){if(W&&Wg&&sg){Ya=r.target;var tb=ia.view;a:for(;Ya!=Ma;Ya=Ya.parentNode)for(var Kb=0;Kb<tb.length;Kb++)if(tb[Kb].node==Ya){b.display.currentWheelTarget=Ya;break a}}!T||vh||Xg||null==Ig?(W&&null!=Ig&&(r=W*Ig,bb=b.doc.scrollTop,Ya=bb+ia.wrapper.clientHeight,0>r?bb=Math.max(0,bb+r-50):Ya=Math.min(b.doc.height,Ya+r+50),Ne(b,{top:bb,bottom:Ya})),20>pi&&(null==ia.wheelStartX?(ia.wheelStartX=Ma.scrollLeft,
ia.wheelStartY=Ma.scrollTop,ia.wheelDX=T,ia.wheelDY=W,setTimeout(function(){if(null!=ia.wheelStartX){var ac=Ma.scrollLeft-ia.wheelStartX,Qc=Ma.scrollTop-ia.wheelStartY;ac=Qc&&ia.wheelDY&&Qc/ia.wheelDY||ac&&ia.wheelDX&&ac/ia.wheelDX;ia.wheelStartX=ia.wheelStartY=null;ac&&(Ig=(Ig*pi+ac)/(pi+1),++pi)}},200)):(ia.wheelDX+=T,ia.wheelDY+=W))):(W&&bb&&tf(b,Math.max(0,Ma.scrollTop+W*Ig)),Nf(b,Math.max(0,Ma.scrollLeft+T*Ig)),(!W||W&&bb)&&aa(r),ia.wheelStartX=null)}}function za(b,r,W){b=b&&b.options.selectionsMayTouch;
W=r[W];r.sort(function(tb,Kb){return Ba(tb.from(),Kb.from())});W=a(r,W);for(var T=1;T<r.length;T++){var ia=r[T],Ma=r[T-1],Ya=Ba(Ma.to(),ia.from());if(b&&!ia.empty()?0<Ya:0<=Ya){Ya=Ua(Ma.from(),ia.from());var bb=Ia(Ma.to(),ia.to());ia=Ma.empty()?ia.from()==ia.head:Ma.from()==Ma.head;T<=W&&--W;r.splice(--T,2,new Pf(ia?bb:Ya,ia?Ya:bb))}}return new Mg(r,W)}function Oa(b,r){return new Mg([new Pf(b,r||b)],0)}function Sa(b){return b.text?ab(b.from.line+b.text.length-1,A(b.text).length+(1==b.text.length?
b.from.ch:0)):b.to}function gb(b,r){if(0>Ba(b,r.from))return b;if(0>=Ba(b,r.to))return Sa(r);var W=b.line+r.text.length-(r.to.line-r.from.line)-1,T=b.ch;b.line==r.to.line&&(T+=Sa(r).ch-r.to.ch);return ab(W,T)}function ib(b,r){for(var W=[],T=0;T<b.sel.ranges.length;T++){var ia=b.sel.ranges[T];W.push(new Pf(gb(ia.anchor,r),gb(ia.head,r)))}return za(b.cm,W,b.sel.primIndex)}function rb(b,r,W){return b.line==r.line?ab(W.line,b.ch-r.ch+W.ch):ab(W.line+(b.line-r.line),b.ch)}function Eb(b){b.doc.mode=Xa(b.options,
b.doc.modeOption);zb(b)}function zb(b){b.doc.iter(function(r){r.stateAfter&&(r.stateAfter=null);r.styles&&(r.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;Hd(b,100);b.state.modeGen++;b.curOp&&xc(b)}function Mb(b,r){return 0==r.from.ch&&0==r.to.ch&&""==A(r.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Lb(b,r,W,T){function ia(td,be,Re){td.text=be;td.stateAfter&&(td.stateAfter=null);td.styles&&(td.styles=null);null!=td.order&&(td.order=null);vd(td);Rc(td,Re);be=
T?T(td):1;be!=td.height&&qa(td,be);zc(td,"change",td,r)}function Ma(td,be){for(var Re=[];td<be;++td)Re.push(new li(tb[td],W?W[td]:null,T));return Re}var Ya=r.from,bb=r.to,tb=r.text,Kb=ca(b,Ya.line),ac=ca(b,bb.line),Qc=A(tb),rc=W?W[tb.length-1]:null,wc=bb.line-Ya.line;r.full?(b.insert(0,Ma(0,tb.length)),b.remove(tb.length,b.size-tb.length)):Mb(b,r)?(bb=Ma(0,tb.length-1),ia(ac,ac.text,rc),wc&&b.remove(Ya.line,wc),bb.length&&b.insert(Ya.line,bb)):Kb==ac?1==tb.length?ia(Kb,Kb.text.slice(0,Ya.ch)+Qc+Kb.text.slice(bb.ch),
rc):(wc=Ma(1,tb.length-1),wc.push(new li(Qc+Kb.text.slice(bb.ch),rc,T)),ia(Kb,Kb.text.slice(0,Ya.ch)+tb[0],W?W[0]:null),b.insert(Ya.line+1,wc)):1==tb.length?(ia(Kb,Kb.text.slice(0,Ya.ch)+tb[0]+ac.text.slice(bb.ch),W?W[0]:null),b.remove(Ya.line+1,wc)):(ia(Kb,Kb.text.slice(0,Ya.ch)+tb[0],W?W[0]:null),ia(ac,Qc+ac.text.slice(bb.ch),rc),rc=Ma(1,tb.length-1),1<wc&&b.remove(Ya.line+1,wc-1),b.insert(Ya.line+1,rc));zc(b,"change",b,r)}function bc(b,r,W){function T(ia,Ma,Ya){if(ia.linked)for(var bb=0;bb<ia.linked.length;++bb){var tb=
ia.linked[bb];if(tb.doc!=Ma){var Kb=Ya&&tb.sharedHist;if(!W||Kb)r(tb.doc,Kb),T(tb.doc,ia,Kb)}}}T(b,null,!0)}function sc(b,r){if(r.cm)throw Error("This document is already in use.");b.doc=r;r.cm=b;Qf(b);Eb(b);Y(b);b.options.lineWrapping||wb(b);b.options.mode=r.modeOption;xc(b)}function Y(b){("rtl"==b.doc.direction?v:Df)(b.display.lineDiv,"CodeMirror-rtl")}function pa(b){lc(b,function(){Y(b);xc(b)})}function Qa(b){this.done=[];this.undone=[];this.undoDepth=b?b.undoDepth:Infinity;this.lastModTime=this.lastSelTime=
0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b?b.maxGeneration:1}function Va(b,r){var W={from:oa(r.from),to:Sa(r),text:ea(b,r.from,r.to)};oc(b,W,r.from.line,r.to.line+1);bc(b,function(T){return oc(T,W,r.from.line,r.to.line+1)},!0);return W}function xb(b){for(;b.length;)if(A(b).ranges)b.pop();else break}function Rb(b,r,W,T){var ia=b.history;ia.undone.length=0;var Ma=+new Date,Ya;if(Ya=ia.lastOp==T||ia.lastOrigin==r.origin&&r.origin&&("+"==
r.origin.charAt(0)&&ia.lastModTime>Ma-(b.cm?b.cm.options.historyEventDelay:500)||"*"==r.origin.charAt(0))){if(ia.lastOp==T){xb(ia.done);var bb=A(ia.done)}else ia.done.length&&!A(ia.done).ranges?bb=A(ia.done):1<ia.done.length&&!ia.done[ia.done.length-2].ranges?(ia.done.pop(),bb=A(ia.done)):bb=void 0;Ya=bb}if(Ya){var tb=A(bb.changes);0==Ba(r.from,r.to)&&0==Ba(r.from,tb.to)?tb.to=Sa(r):bb.changes.push(Va(b,r))}else for((bb=A(ia.done))&&bb.ranges||Yb(b.sel,ia.done),bb={changes:[Va(b,r)],generation:ia.generation},
ia.done.push(bb);ia.done.length>ia.undoDepth;)ia.done.shift(),ia.done[0].ranges||ia.done.shift();ia.done.push(W);ia.generation=++ia.maxGeneration;ia.lastModTime=ia.lastSelTime=Ma;ia.lastOp=ia.lastSelOp=T;ia.lastOrigin=ia.lastSelOrigin=r.origin;tb||Z(b,"historyAdded")}function Yb(b,r){var W=A(r);W&&W.ranges&&W.equals(b)||r.push(b)}function oc(b,r,W,T){var ia=r["spans_"+b.id],Ma=0;b.iter(Math.max(b.first,W),Math.min(b.first+b.size,T),function(Ya){Ya.markedSpans&&((ia||(ia=r["spans_"+b.id]={}))[Ma]=
Ya.markedSpans);++Ma})}function Ec(b){if(!b)return null;for(var r,W=0;W<b.length;++W)b[W].marker.explicitlyCleared?r||(r=b.slice(0,W)):r&&r.push(b[W]);return r?r.length?r:null:b}function dd(b,r){var W;if(W=r["spans_"+b.id]){for(var T=[],ia=0;ia<r.text.length;++ia)T.push(Ec(W[ia]));W=T}else W=null;b=Kc(b,r);if(!W)return b;if(!b)return W;for(r=0;r<W.length;++r)if(T=W[r],ia=b[r],T&&ia){var Ma=0;a:for(;Ma<ia.length;++Ma){for(var Ya=ia[Ma],bb=0;bb<T.length;++bb)if(T[bb].marker==Ya.marker)continue a;T.push(Ya)}}else ia&&
(W[r]=ia);return W}function Yc(b,r,W){for(var T=[],ia=0;ia<b.length;++ia){var Ma=b[ia];if(Ma.ranges)T.push(W?Mg.prototype.deepCopy.call(Ma):Ma);else{Ma=Ma.changes;var Ya=[];T.push({changes:Ya});for(var bb=0;bb<Ma.length;++bb){var tb=Ma[bb],Kb;Ya.push({from:tb.from,to:tb.to,text:tb.text});if(r)for(var ac in tb)(Kb=ac.match(/^spans_(\d+)$/))&&-1<a(r,Number(Kb[1]))&&(A(Ya)[ac]=tb[ac],delete tb[ac])}}}return T}function Kd(b,r,W,T){return T?(b=b.anchor,W&&(T=0>Ba(r,b),T!=0>Ba(W,b)?(b=r,r=W):T!=0>Ba(r,
W)&&(r=W)),new Pf(b,r)):new Pf(W||r,r)}function Ud(b,r,W,T,ia){null==ia&&(ia=b.cm&&(b.cm.display.shift||b.extend));Wa(b,new Mg([Kd(b.sel.primary(),r,W,ia)],0),T)}function pd(b,r,W){for(var T=[],ia=b.cm&&(b.cm.display.shift||b.extend),Ma=0;Ma<b.sel.ranges.length;Ma++)T[Ma]=Kd(b.sel.ranges[Ma],r[Ma],null,ia);r=za(b.cm,T,b.sel.primIndex);Wa(b,r,W)}function Bd(b,r,W,T){var ia=b.sel.ranges.slice(0);ia[r]=W;Wa(b,za(b.cm,ia,b.sel.primIndex),T)}function jd(b,r,W){W={ranges:r.ranges,update:function(T){this.ranges=
[];for(var ia=0;ia<T.length;ia++)this.ranges[ia]=new Pf(eb(b,T[ia].anchor),eb(b,T[ia].head))},origin:W&&W.origin};Z(b,"beforeSelectionChange",b,W);b.cm&&Z(b.cm,"beforeSelectionChange",b.cm,W);return W.ranges!=r.ranges?za(b.cm,W.ranges,W.ranges.length-1):r}function cf(b,r,W){var T=b.history.done,ia=A(T);ia&&ia.ranges?(T[T.length-1]=r,ob(b,r,W)):Wa(b,r,W)}function Wa(b,r,W){ob(b,r,W);r=b.sel;var T=b.cm?b.cm.curOp.id:NaN,ia=b.history,Ma=W&&W.origin,Ya;if(!(Ya=T==ia.lastSelOp)&&(Ya=Ma&&ia.lastSelOrigin==
Ma)&&!(Ya=ia.lastModTime==ia.lastSelTime&&ia.lastOrigin==Ma)){Ya=A(ia.done);var bb=Ma.charAt(0);Ya="*"==bb||"+"==bb&&Ya.ranges.length==r.ranges.length&&Ya.somethingSelected()==r.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}Ya?ia.done[ia.done.length-1]=r:Yb(r,ia.done);ia.lastSelTime=+new Date;ia.lastSelOrigin=Ma;ia.lastSelOp=T;W&&!1!==W.clearRedo&&xb(ia.undone)}function ob(b,r,W){if(N(b,"beforeSelectionChange")||b.cm&&N(b.cm,"beforeSelectionChange"))r=
jd(b,r,W);var T=W&&W.bias||(0>Ba(r.primary().head,b.sel.primary().head)?-1:1);Ab(b,$b(b,r,T,!0));W&&!1===W.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||Ve(b.cm)}function Ab(b,r){r.equals(b.sel)||(b.sel=r,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,q(b.cm)),zc(b,"cursorActivity",b))}function Nb(b){Ab(b,$b(b,b.sel,null,!1))}function $b(b,r,W,T){for(var ia,Ma=0;Ma<r.ranges.length;Ma++){var Ya=r.ranges[Ma],bb=r.ranges.length==b.sel.ranges.length&&b.sel.ranges[Ma],tb=w(b,Ya.anchor,
bb&&bb.anchor,W,T);bb=w(b,Ya.head,bb&&bb.head,W,T);if(ia||tb!=Ya.anchor||bb!=Ya.head)ia||(ia=r.ranges.slice(0,Ma)),ia[Ma]=new Pf(tb,bb)}return ia?za(b.cm,ia,r.primIndex):r}function Lc(b,r,W,T,ia){var Ma=ca(b,r.line);if(Ma.markedSpans)for(var Ya=0;Ya<Ma.markedSpans.length;++Ya){var bb=Ma.markedSpans[Ya],tb=bb.marker,Kb="selectLeft"in tb?!tb.selectLeft:tb.inclusiveLeft,ac="selectRight"in tb?!tb.selectRight:tb.inclusiveRight;if((null==bb.from||(Kb?bb.from<=r.ch:bb.from<r.ch))&&(null==bb.to||(ac?bb.to>=
r.ch:bb.to>r.ch))){if(ia&&(Z(tb,"beforeCursorEnter"),tb.explicitlyCleared))if(Ma.markedSpans){--Ya;continue}else break;if(tb.atomic){if(W){Ya=tb.find(0>T?1:-1);bb=void 0;if(0>T?ac:Kb)Ya=S(b,Ya,-T,Ya&&Ya.line==r.line?Ma:null);if(Ya&&Ya.line==r.line&&(bb=Ba(Ya,W))&&(0>T?0>bb:0<bb))return Lc(b,Ya,r,T,ia)}W=tb.find(0>T?-1:1);if(0>T?Kb:ac)W=S(b,W,T,W.line==r.line?Ma:null);return W?Lc(b,W,r,T,ia):null}}}return r}function w(b,r,W,T,ia){T=T||1;r=Lc(b,r,W,T,ia)||!ia&&Lc(b,r,W,T,!0)||Lc(b,r,W,-T,ia)||!ia&&
Lc(b,r,W,-T,!0);return r?r:(b.cantEdit=!0,ab(b.first,0))}function S(b,r,W,T){return 0>W&&0==r.ch?r.line>b.first?eb(b,ab(r.line-1)):null:0<W&&r.ch==(T||ca(b,r.line)).text.length?r.line<b.first+b.size-1?ab(r.line+1,0):null:new ab(r.line,r.ch+W)}function ma(b){b.setSelection(ab(b.firstLine(),0),ab(b.lastLine()),wh)}function Na(b,r,W){var T={canceled:!1,from:r.from,to:r.to,text:r.text,origin:r.origin,cancel:function(){return T.canceled=!0}};W&&(T.update=function(ia,Ma,Ya,bb){ia&&(T.from=eb(b,ia));Ma&&
(T.to=eb(b,Ma));Ya&&(T.text=Ya);void 0!==bb&&(T.origin=bb)});Z(b,"beforeChange",b,T);b.cm&&Z(b.cm,"beforeChange",b.cm,T);return T.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:T.from,to:T.to,text:T.text,origin:T.origin}}function hb(b,r,W){if(b.cm){if(!b.cm.curOp)return id(b.cm,hb)(b,r,W);if(b.cm.state.suppressEdits)return}if(N(b,"beforeChange")||b.cm&&N(b.cm,"beforeChange"))if(r=Na(b,r,!0),!r)return;if(W=Bj&&!W&&fe(b,r.from,r.to))for(var T=W.length-1;0<=T;--T)lb(b,{from:W[T].from,to:W[T].to,
text:T?[""]:r.text,origin:r.origin});else lb(b,r)}function lb(b,r){if(1!=r.text.length||""!=r.text[0]||0!=Ba(r.from,r.to)){var W=ib(b,r);Rb(b,r,W,b.cm?b.cm.curOp.id:NaN);cc(b,r,W,Kc(b,r));var T=[];bc(b,function(ia,Ma){Ma||-1!=a(T,ia.history)||(qd(ia.history,r),T.push(ia.history));cc(ia,r,null,Kc(ia,r))})}}function sb(b,r,W){var T=b.cm&&b.cm.state.suppressEdits;if(!T||W){for(var ia=b.history,Ma,Ya=b.sel,bb="undo"==r?ia.done:ia.undone,tb="undo"==r?ia.undone:ia.done,Kb=0;Kb<bb.length&&(Ma=bb[Kb],W?!Ma.ranges||
Ma.equals(b.sel):Ma.ranges);Kb++);if(Kb!=bb.length){for(ia.lastOrigin=ia.lastSelOrigin=null;;)if(Ma=bb.pop(),Ma.ranges){Yb(Ma,tb);if(W&&!Ma.equals(b.sel)){Wa(b,Ma,{clearRedo:!1});return}Ya=Ma}else{if(T){bb.push(Ma);return}break}var ac=[];Yb(Ya,tb);tb.push({changes:ac,generation:ia.generation});ia.generation=Ma.generation||++ia.maxGeneration;var Qc=N(b,"beforeChange")||b.cm&&N(b.cm,"beforeChange");W=function(rc){var wc=Ma.changes[rc];wc.origin=r;if(Qc&&!Na(b,wc,!1))return bb.length=0,{};ac.push(Va(b,
wc));var td=rc?ib(b,wc):A(bb);cc(b,wc,td,dd(b,wc));!rc&&b.cm&&b.cm.scrollIntoView({from:wc.from,to:Sa(wc)});var be=[];bc(b,function(Re,ef){ef||-1!=a(be,Re.history)||(qd(Re.history,wc),be.push(Re.history));cc(Re,wc,null,dd(Re,wc))})};for(T=Ma.changes.length-1;0<=T;--T)if(ia=W(T))return ia.v}}}function Qb(b,r){if(0!=r&&(b.first+=r,b.sel=new Mg(C(b.sel.ranges,function(ia){return new Pf(ab(ia.anchor.line+r,ia.anchor.ch),ab(ia.head.line+r,ia.head.ch))}),b.sel.primIndex),b.cm)){xc(b.cm,b.first,b.first-
r,r);for(var W=b.cm.display,T=W.viewFrom;T<W.viewTo;T++)ya(b.cm,T,"gutter")}}function cc(b,r,W,T){if(b.cm&&!b.cm.curOp)return id(b.cm,cc)(b,r,W,T);if(r.to.line<b.first)Qb(b,r.text.length-1-(r.to.line-r.from.line));else if(!(r.from.line>b.lastLine())){if(r.from.line<b.first){var ia=r.text.length-1-(b.first-r.from.line);Qb(b,ia);r={from:ab(b.first,0),to:ab(r.to.line+ia,r.to.ch),text:[A(r.text)],origin:r.origin}}ia=b.lastLine();r.to.line>ia&&(r={from:r.from,to:ab(ia,ca(b,ia).text.length),text:[r.text[0]],
origin:r.origin});r.removed=ea(b,r.from,r.to);W||(W=ib(b,r));b.cm?Vb(b.cm,r,T):Lb(b,r,T);ob(b,W,wh);b.cantEdit&&w(b,ab(b.firstLine(),0))&&(b.cantEdit=!1)}}function Vb(b,r,W){var T=b.doc,ia=b.display,Ma=r.from,Ya=r.to,bb=!1,tb=Ma.line;b.options.lineWrapping||(tb=Ha(Hb(ca(T,Ma.line))),T.iter(tb,Ya.line+1,function(Kb){if(Kb==ia.maxLine)return bb=!0}));-1<T.sel.contains(r.from,r.to)&&q(b);Lb(T,r,W,If(b));b.options.lineWrapping||(T.iter(tb,Ma.line+r.text.length,function(Kb){var ac=fb(Kb);ac>ia.maxLineLength&&
(ia.maxLine=Kb,ia.maxLineLength=ac,ia.maxLineChanged=!0,bb=!1)}),bb&&(b.curOp.updateMaxLine=!0));nc(T,Ma.line);Hd(b,400);W=r.text.length-(Ya.line-Ma.line)-1;r.full?xc(b):Ma.line!=Ya.line||1!=r.text.length||Mb(b.doc,r)?xc(b,Ma.line,Ya.line+1,W):ya(b,Ma.line,"text");W=N(b,"changes");if((T=N(b,"change"))||W)r={from:Ma,to:Ya,text:r.text,removed:r.removed,origin:r.origin},T&&zc(b,"change",b,r),W&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(r);b.display.selForContextMenu=null}function Oc(b,r,W,T,
ia){T||(T=W);0>Ba(T,W)&&(T=[T,W],W=T[0],T=T[1]);"string"==typeof r&&(r=b.splitLines(r));hb(b,{from:W,to:T,text:r,origin:ia})}function ed(b,r,W,T){W<b.line?b.line+=T:r<b.line&&(b.line=r,b.ch=0)}function zd(b,r,W,T){for(var ia=0;ia<b.length;++ia){var Ma=b[ia],Ya=!0;if(Ma.ranges)for(Ma.copied||(Ma=b[ia]=Ma.deepCopy(),Ma.copied=!0),Ya=0;Ya<Ma.ranges.length;Ya++)ed(Ma.ranges[Ya].anchor,r,W,T),ed(Ma.ranges[Ya].head,r,W,T);else{for(var bb=0;bb<Ma.changes.length;++bb){var tb=Ma.changes[bb];if(W<tb.from.line)tb.from=
ab(tb.from.line+T,tb.from.ch),tb.to=ab(tb.to.line+T,tb.to.ch);else if(r<=tb.to.line){Ya=!1;break}}Ya||(b.splice(0,ia+1),ia=0)}}}function qd(b,r){var W=r.from.line,T=r.to.line;r=r.text.length-(T-W)-1;zd(b.done,W,T,r);zd(b.undone,W,T,r)}function ad(b,r,W,T){var ia=r,Ma=r;"number"==typeof r?Ma=ca(b,Math.max(b.first,Math.min(r,b.first+b.size-1))):ia=Ha(r);if(null==ia)return null;T(Ma,ia)&&b.cm&&ya(b.cm,ia,W);return Ma}function Jc(b){this.lines=b;this.parent=null;for(var r=0,W=0;W<b.length;++W)b[W].parent=
this,r+=b[W].height;this.height=r}function ud(b){this.children=b;for(var r=0,W=0,T=0;T<b.length;++T){var ia=b[T];r+=ia.chunkSize();W+=ia.height;ia.parent=this}this.size=r;this.height=W;this.parent=null}function de(b,r,W,T){var ia=new Uh(b,W,T),Ma=b.cm;Ma&&ia.noHScroll&&(Ma.display.alignWidgets=!0);ad(b,r,"widget",function(Ya){var bb=Ya.widgets||(Ya.widgets=[]);null==ia.insertAt?bb.push(ia):bb.splice(Math.min(bb.length,Math.max(0,ia.insertAt)),0,ia);ia.line=Ya;Ma&&!Gd(b,Ya)&&(bb=La(Ya)<b.scrollTop,
qa(Ya,Ya.height+Cd(ia)),bb&&ee(Ma,ia.height),Ma.curOp.forceUpdate=!0);return!0});Ma&&zc(Ma,"lineWidgetAdded",Ma,ia,"number"==typeof r?r:Ha(r));return ia}function Sd(b,r,W,T,ia){if(T&&T.shared)return ve(b,r,W,T,ia);if(b.cm&&!b.cm.curOp)return id(b.cm,Sd)(b,r,W,T,ia);var Ma=new Hh(b,ia);ia=Ba(r,W);T&&d(T,Ma,!1);if(0<ia||0==ia&&!1!==Ma.clearWhenEmpty)return Ma;Ma.replacedWith&&(Ma.collapsed=!0,Ma.widgetNode=O("span",[Ma.replacedWith],"CodeMirror-widget"),T.handleMouseEvents||Ma.widgetNode.setAttribute("cm-ignore-events",
"true"),T.insertLeft&&(Ma.widgetNode.insertLeft=!0));if(Ma.collapsed){if(fc(b,r.line,r,W,Ma)||r.line!=W.line&&fc(b,W.line,r,W,Ma))throw Error("Inserting collapsed marker partially overlapping an existing one");zh=!0}Ma.addToHistory&&Rb(b,{from:r,to:W,origin:"markText"},b.sel,NaN);var Ya=r.line,bb=b.cm,tb;b.iter(Ya,W.line+1,function(Kb){bb&&Ma.collapsed&&!bb.options.lineWrapping&&Hb(Kb)==bb.display.maxLine&&(tb=!0);Ma.collapsed&&Ya!=r.line&&qa(Kb,0);var ac=new Uc(Ma,Ya==r.line?r.ch:null,Ya==W.line?
W.ch:null);Kb.markedSpans=Kb.markedSpans?Kb.markedSpans.concat([ac]):[ac];ac.marker.attachLine(Kb);++Ya});Ma.collapsed&&b.iter(r.line,W.line+1,function(Kb){Gd(b,Kb)&&qa(Kb,0)});Ma.clearOnEnter&&Se(Ma,"beforeCursorEnter",function(){return Ma.clear()});Ma.readOnly&&(Bj=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());Ma.collapsed&&(Ma.id=++dk,Ma.atomic=!0);if(bb){tb&&(bb.curOp.updateMaxLine=!0);if(Ma.collapsed)xc(bb,r.line,W.line+1);else if(Ma.className||Ma.startStyle||Ma.endStyle||
Ma.css||Ma.attributes||Ma.title)for(T=r.line;T<=W.line;T++)ya(bb,T,"text");Ma.atomic&&Nb(bb.doc);zc(bb,"markerAdded",bb,Ma)}return Ma}function ve(b,r,W,T,ia){T=d(T);T.shared=!1;var Ma=[Sd(b,r,W,T,ia)],Ya=Ma[0],bb=T.widgetNode;bc(b,function(tb){bb&&(T.widgetNode=bb.cloneNode(!0));Ma.push(Sd(tb,eb(tb,r),eb(tb,W),T,ia));for(var Kb=0;Kb<tb.linked.length;++Kb)if(tb.linked[Kb].isParent)return;Ya=A(Ma)});return new di(Ma,Ya)}function ne(b){return b.findMarks(ab(b.first,0),b.clipPos(ab(b.lastLine())),function(r){return r.parent})}
function Tf(b){for(var r=function(T){T=b[T];var ia=[T.primary.doc];bc(T.primary.doc,function(bb){return ia.push(bb)});for(var Ma=0;Ma<T.markers.length;Ma++){var Ya=T.markers[Ma];-1==a(ia,Ya.doc)&&(Ya.parent=null,T.markers.splice(Ma--,1))}},W=0;W<b.length;W++)r(W)}function se(b){var r=this;te(r);if(!Q(r,b)&&!Ed(r.display,b)){aa(b);vf&&(Aj=+new Date);var W=Jf(r,b,!0),T=b.dataTransfer.files;if(W&&!r.isReadOnly())if(T&&T.length&&window.FileReader&&window.File)for(var ia=T.length,Ma=Array(ia),Ya=0,bb=
function(){++Ya==ia&&id(r,function(){W=eb(r.doc,W);var ac={from:W,to:W,text:r.doc.splitLines(Ma.filter(function(Qc){return null!=Qc}).join(r.doc.lineSeparator())),origin:"paste"};hb(r.doc,ac);cf(r.doc,Oa(eb(r.doc,W),eb(r.doc,Sa(ac))))})()},tb=function(ac,Qc){if(r.options.allowDropFileTypes&&-1==a(r.options.allowDropFileTypes,ac.type))bb();else{var rc=new FileReader;rc.onerror=function(){return bb()};rc.onload=function(){var wc=rc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(wc)||(Ma[Qc]=wc);bb()};rc.readAsText(ac)}},
Kb=0;Kb<T.length;Kb++)tb(T[Kb],Kb);else if(r.state.draggingText&&-1<r.doc.sel.contains(W))r.state.draggingText(b),setTimeout(function(){return r.display.input.focus()},20);else try{if(tb=b.dataTransfer.getData("Text")){r.state.draggingText&&!r.state.draggingText.copy&&(Kb=r.listSelections());ob(r.doc,Oa(W,W));if(Kb)for(T=0;T<Kb.length;++T)Oc(r.doc,"",Kb[T].anchor,Kb[T].head,"drag");r.replaceSelection(tb,"around","paste");r.display.input.focus()}}catch(ac){}}}function te(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),
b.display.dragCursor=null)}function Be(b){if(document.getElementsByClassName){for(var r=document.getElementsByClassName("CodeMirror"),W=[],T=0;T<r.length;T++){var ia=r[T].CodeMirror;ia&&W.push(ia)}W.length&&W[0].operation(function(){for(var Ma=0;Ma<W.length;Ma++)b(W[Ma])})}}function wd(){var b;Se(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Be(We)},100))});Se(window,"blur",function(){return Be(od)})}function We(b){var r=b.display;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=
null;r.scrollbarsClipped=!1;b.setSize()}function Kf(b){var r=b.split(/-(?!$)/);b=r[r.length-1];for(var W,T,ia,Ma,Ya=0;Ya<r.length-1;Ya++){var bb=r[Ya];if(/^(cmd|meta|m)$/i.test(bb))Ma=!0;else if(/^a(lt)?$/i.test(bb))W=!0;else if(/^(c|ctrl|control)$/i.test(bb))T=!0;else if(/^s(hift)?$/i.test(bb))ia=!0;else throw Error("Unrecognized modifier name: "+bb);}W&&(b="Alt-"+b);T&&(b="Ctrl-"+b);Ma&&(b="Cmd-"+b);ia&&(b="Shift-"+b);return b}function jf(b){var r={},W;for(W in b)if(b.hasOwnProperty(W)){var T=b[W];
if(!/^(name|fallthrough|(de|at)tach)$/.test(W)){if("..."!=T)for(var ia=C(W.split(" "),Kf),Ma=0;Ma<ia.length;Ma++){if(Ma==ia.length-1){var Ya=ia.join(" ");var bb=T}else Ya=ia.slice(0,Ma+1).join(" "),bb="...";var tb=r[Ya];if(!tb)r[Ya]=bb;else if(tb!=bb)throw Error("Inconsistent bindings for "+Ya);}delete b[W]}}for(var Kb in r)b[Kb]=r[Kb];return b}function Cf(b,r,W,T){r=Zf(r);var ia=r.call?r.call(b,T):r[b];if(!1===ia)return"nothing";if("..."===ia)return"multi";if(null!=ia&&W(ia))return"handled";if(r.fallthrough){if("[object Array]"!=
Object.prototype.toString.call(r.fallthrough))return Cf(b,r.fallthrough,W,T);for(ia=0;ia<r.fallthrough.length;ia++){var Ma=Cf(b,r.fallthrough[ia],W,T);if(Ma)return Ma}}}function xf(b){b="string"==typeof b?b:Yh[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Af(b,r,W){var T=b;r.altKey&&"Alt"!=T&&(b="Alt-"+b);(Ij?r.metaKey:r.ctrlKey)&&"Ctrl"!=T&&(b="Ctrl-"+b);(Ij?r.ctrlKey:r.metaKey)&&"Mod"!=T&&(b="Cmd-"+b);!W&&r.shiftKey&&"Shift"!=T&&(b="Shift-"+b);return b}function Uf(b,r){if(Xg&&
34==b.keyCode&&b["char"])return!1;var W=Yh[b.keyCode];if(null==W||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(W=b.code);return Af(W,b,r)}function Zf(b){return"string"==typeof b?lj[b]:b}function Ug(b,r){for(var W=b.doc.sel.ranges,T=[],ia=0;ia<W.length;ia++){for(var Ma=r(W[ia]);T.length&&0>=Ba(Ma.from,A(T).to);){var Ya=T.pop();if(0>Ba(Ya.from,Ma.from)){Ma.from=Ya.from;break}}T.push(Ma)}lc(b,function(){for(var bb=T.length-1;0<=bb;bb--)Oc(b.doc,"",T[bb].from,T[bb].to,"+delete");Ve(b)})}function Eh(b,
r,W){r=R(b.text,r+W,W);return 0>r||r>b.text.length?null:r}function Rh(b,r,W){b=Eh(b,r.ch,W);return null==b?null:new ab(r.line,b,0>W?"after":"before")}function mk(b,r,W,T,ia){if(b&&("rtl"==r.doc.direction&&(ia=-ia),b=fa(W,r.doc.direction))){b=0>ia?A(b):b[0];var Ma=0>ia==(1==b.level)?"after":"before";if(0<b.level||"rtl"==r.doc.direction){var Ya=hf(r,W);var bb=0>ia?W.text.length-1:0;var tb=Vd(r,Ya,bb).top;bb=U(function(Kb){return Vd(r,Ya,Kb).top==tb},0>ia==(1==b.level)?b.from:b.to-1,bb);"before"==Ma&&
(bb=Eh(W,bb,1))}else bb=0>ia?b.to:b.from;return new ab(T,bb,Ma)}return new ab(T,0>ia?W.text.length:0,0>ia?"before":"after")}function Kk(b,r,W,T){var ia=fa(r,b.doc.direction);if(!ia)return Rh(r,W,T);W.ch>=r.text.length?(W.ch=r.text.length,W.sticky="before"):0>=W.ch&&(W.ch=0,W.sticky="after");var Ma=ba(ia,W.ch,W.sticky),Ya=ia[Ma];if("ltr"==b.doc.direction&&0==Ya.level%2&&(0<T?Ya.to>W.ch:Ya.from<W.ch))return Rh(r,W,T);var bb=function(wc,td){return Eh(r,wc instanceof ab?wc.ch:wc,td)},tb,Kb=function(wc){if(!b.options.lineWrapping)return{begin:0,
end:r.text.length};tb=tb||hf(b,r);return Yf(b,r,tb,wc)},ac=Kb("before"==W.sticky?bb(W,-1):W.ch);if("rtl"==b.doc.direction||1==Ya.level){var Qc=1==Ya.level==0>T,rc=bb(W,Qc?1:-1);if(null!=rc&&(Qc?rc<=Ya.to&&rc<=ac.end:rc>=Ya.from&&rc>=ac.begin))return new ab(W.line,rc,Qc?"before":"after")}Ya=function(wc,td,be){for(var Re=function(Ff,bg){return bg?new ab(W.line,bb(Ff,1),"before"):new ab(W.line,Ff,"after")};0<=wc&&wc<ia.length;wc+=td){var ef=ia[wc],Ie=0<td==(1!=ef.level),cg=Ie?be.begin:bb(be.end,-1);
if(ef.from<=cg&&cg<ef.to)return Re(cg,Ie);cg=Ie?ef.from:bb(ef.to,-1);if(be.begin<=cg&&cg<be.end)return Re(cg,Ie)}};if(Ma=Ya(Ma+T,T,ac))return Ma;ac=0<T?ac.end:bb(ac.begin,-1);return null==ac||0<T&&ac==r.text.length||!(Ma=Ya(0<T?0:ia.length-1,T,Kb(ac)))?null:Ma}function pk(b,r){var W=ca(b.doc,r),T=Hb(W);T!=W&&(r=Ha(T));return mk(!0,b,T,r,1)}function qk(b,r){var W=pk(b,r.line),T=ca(b.doc,W.line);b=fa(T,b.doc.direction);return b&&0!=b[0].level?W:(T=Math.max(W.ch,T.text.search(/\S/)),ab(W.line,r.line==
W.line&&r.ch<=T&&r.ch?0:T,W.sticky))}function nh(b,r,W){if("string"==typeof r&&(r=ej[r],!r))return!1;b.display.input.ensurePolled();var T=b.display.shift,ia=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),W&&(b.display.shift=!1),ia=r(b)!=Kh}finally{b.display.shift=T,b.state.suppressEdits=!1}return ia}function Qi(b,r,W,T){var ia=b.state.keySeq;if(ia){if(xf(r))return"handled";/'$/.test(r)?b.state.keySeq=null:Dk.set(50,function(){b.state.keySeq==ia&&(b.state.keySeq=null,b.display.input.reset())});
if(Kj(b,ia+" "+r,W,T))return!0}return Kj(b,r,W,T)}function Kj(b,r,W,T){a:{for(var ia=0;ia<b.state.keyMaps.length;ia++){var Ma=Cf(r,b.state.keyMaps[ia],T,b);if(Ma){T=Ma;break a}}T=b.options.extraKeys&&Cf(r,b.options.extraKeys,T,b)||Cf(r,b.options.keyMap,T,b)}"multi"==T&&(b.state.keySeq=r);"handled"==T&&zc(b,"keyHandled",b,r,W);if("handled"==T||"multi"==T)aa(W),Pc(b);return!!T}function Sk(b,r){var W=Uf(r,!0);return W?r.shiftKey&&!b.state.keySeq?Qi(b,"Shift-"+W,r,function(T){return nh(b,T,!0)})||Qi(b,
W,r,function(T){if("string"==typeof T?/^go[A-Z]/.test(T):T.motion)return nh(b,T)}):Qi(b,W,r,function(T){return nh(b,T)}):!1}function kh(b,r,W){return Qi(b,"'"+W+"'",r,function(T){return nh(b,T,!0)})}function $h(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=y(),!Q(this,b)){vf&&11>Wf&&27==b.keyCode&&(b.returnValue=!1);var r=b.keyCode;this.display.shift=16==r||b.shiftKey;var W=Sk(this,b);Xg&&(uk=W?r:null,!W&&88==r&&!Wh&&(Wg?b.metaKey:b.ctrlKey)&&this.replaceSelection("",
null,"cut"));vh&&!Wg&&!W&&46==r&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=r||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||rk(this)}}function rk(b){function r(T){18!=T.keyCode&&T.altKey||(Df(W,"CodeMirror-crosshair"),ja(document,"keyup",r),ja(document,"mouseover",r))}var W=b.display.lineDiv;v(W,"CodeMirror-crosshair");Se(document,"keyup",r);Se(document,"mouseover",r)}function th(b){16==b.keyCode&&(this.doc.sel.shift=!1);Q(this,b)}function $i(b){if(!(b.target&&
b.target!=this.display.input.getField()||Ed(this.display,b)||Q(this,b)||b.ctrlKey&&!b.altKey||Wg&&b.metaKey)){var r=b.keyCode,W=b.charCode;if(Xg&&r==uk)uk=null,aa(b);else if(!Xg||b.which&&!(10>b.which)||!Sk(this,b))if(r=String.fromCharCode(null==W?r:W),"\b"!=r&&!kh(this,b,r))this.display.input.onKeyPress(b)}}function Ii(b,r){var W=+new Date;if(fj&&fj.compare(W,b,r))return uj=fj=null,"triple";if(uj&&uj.compare(W,b,r))return fj=new Cj(W,b,r),uj=null,"double";uj=new Cj(W,b,r);fj=null;return"single"}
function oj(b){var r=this.display;if(!(Q(this,b)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=b.shiftKey,Ed(r,b))sg||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!ci(this,b,"gutterClick",!0)){var W=Jf(this,b),T=$a(b),ia=W?Ii(W,T):"single";window.focus();1==T&&this.state.selectingText&&this.state.selectingText(b);if(!W||!gk(this,T,W,ia,b))if(1==T)W?hk(this,W,ia,b):(b.target||b.srcElement)==r.scroller&&aa(b);else if(2==T)W&&
Ud(this.doc,W),setTimeout(function(){return r.input.focus()},20);else if(3==T)if(gi)this.display.input.onContextMenu(b);else Nd(this)}}function gk(b,r,W,T,ia){var Ma="Click";"double"==T?Ma="Double"+Ma:"triple"==T&&(Ma="Triple"+Ma);return Qi(b,Af((1==r?"Left":2==r?"Middle":"Right")+Ma,ia),ia,function(Ya){"string"==typeof Ya&&(Ya=ej[Ya]);if(!Ya)return!1;var bb=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),bb=Ya(b,W)!=Kh}finally{b.state.suppressEdits=!1}return bb})}function hk(b,r,W,T){vf?setTimeout(k(Ld,
b),0):b.curOp.focus=y();var ia=b.getOption("configureMouse");ia=ia?ia(b,W,T):{};null==ia.unit&&(ia.unit=(yj?T.shiftKey&&T.metaKey:T.altKey)?"rectangle":"single"==W?"char":"double"==W?"word":"line");if(null==ia.extend||b.doc.extend)ia.extend=b.doc.extend||T.shiftKey;null==ia.addNew&&(ia.addNew=Wg?T.metaKey:T.ctrlKey);null==ia.moveOnDrag&&(ia.moveOnDrag=!(Wg?T.altKey:T.ctrlKey));var Ma=b.doc.sel,Ya;b.options.dragDrop&&zj&&!b.isReadOnly()&&"single"==W&&-1<(Ya=Ma.contains(r))&&(0>Ba((Ya=Ma.ranges[Ya]).from(),
r)||0<r.xRel)&&(0<Ba(Ya.to(),r)||0>r.xRel)?il(b,T,r,ia):tj(b,T,r,ia)}function il(b,r,W,T){var ia=b.display,Ma=!1,Ya=id(b,function(Kb){sg&&(ia.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:Nd(b));ja(ia.wrapper.ownerDocument,"mouseup",Ya);ja(ia.wrapper.ownerDocument,"mousemove",bb);ja(ia.scroller,"dragstart",tb);ja(ia.scroller,"drop",Ya);Ma||(aa(Kb),T.addNew||Ud(b.doc,W,null,null,T.extend),sg&&!Ei||vf&&9==Wf?setTimeout(function(){ia.wrapper.ownerDocument.body.focus({preventScroll:!0});
ia.input.focus()},20):ia.input.focus())}),bb=function(Kb){Ma=Ma||10<=Math.abs(r.clientX-Kb.clientX)+Math.abs(r.clientY-Kb.clientY)},tb=function(){return Ma=!0};sg&&(ia.scroller.draggable=!0);b.state.draggingText=Ya;Ya.copy=!T.moveOnDrag;Se(ia.wrapper.ownerDocument,"mouseup",Ya);Se(ia.wrapper.ownerDocument,"mousemove",bb);Se(ia.scroller,"dragstart",tb);Se(ia.scroller,"drop",Ya);b.state.delayingBlurEvent=!0;setTimeout(function(){return ia.input.focus()},20);ia.scroller.dragDrop&&ia.scroller.dragDrop()}
function Kg(b,r,W){if("char"==W)return new Pf(r,r);if("word"==W)return b.findWordAt(r);if("line"==W)return new Pf(ab(r.line,0),eb(b.doc,ab(r.line+1,0)));b=W(b,r);return new Pf(b.from,b.to)}function tj(b,r,W,T){function ia(Ie){if(0!=Ba(wc,Ie))if(wc=Ie,"rectangle"==T.unit){var cg=[],Ff=b.options.tabSize,bg=f(ca(tb,W.line).text,W.ch,Ff),ag=f(ca(tb,Ie.line).text,Ie.ch,Ff),qf=Math.min(bg,ag);bg=Math.max(bg,ag);ag=Math.min(W.line,Ie.line);for(var fg=Math.min(b.lastLine(),Math.max(W.line,Ie.line));ag<=fg;ag++){var Vf=
ca(tb,ag).text,Sf=e(Vf,qf,Ff);qf==bg?cg.push(new Pf(ab(ag,Sf),ab(ag,Sf))):Vf.length>Sf&&cg.push(new Pf(ab(ag,Sf),ab(ag,e(Vf,bg,Ff))))}cg.length||cg.push(new Pf(W,W));Wa(tb,za(b,Kb.ranges.slice(0,Qc).concat(cg),Qc),{origin:"*mouse",scroll:!1});b.scrollIntoView(Ie)}else cg=rc,qf=Kg(b,Ie,T.unit),Ie=cg.anchor,0<Ba(qf.anchor,Ie)?(Ff=qf.head,Ie=Ua(cg.from(),qf.anchor)):(Ff=qf.anchor,Ie=Ia(cg.to(),qf.head)),cg=Kb.ranges.slice(0),cg[Qc]=sk(b,new Pf(eb(tb,Ie),Ff)),Wa(tb,za(b,cg,Qc),Oh)}function Ma(Ie){var cg=
++be,Ff=Jf(b,Ie,!0,"rectangle"==T.unit);if(Ff)if(0!=Ba(Ff,wc)){b.curOp.focus=y();ia(Ff);var bg=lf(bb,tb);(Ff.line>=bg.to||Ff.line<bg.from)&&setTimeout(id(b,function(){be==cg&&Ma(Ie)}),150)}else{var ag=Ie.clientY<td.top?-20:Ie.clientY>td.bottom?20:0;ag&&setTimeout(id(b,function(){be==cg&&(bb.scroller.scrollTop+=ag,Ma(Ie))}),50)}}function Ya(Ie){b.state.selectingText=!1;be=Infinity;Ie&&(aa(Ie),bb.input.focus());ja(bb.wrapper.ownerDocument,"mousemove",Re);ja(bb.wrapper.ownerDocument,"mouseup",ef);tb.history.lastSelOrigin=
null}vf&&Nd(b);var bb=b.display,tb=b.doc;aa(r);var Kb=tb.sel,ac=Kb.ranges;if(T.addNew&&!T.extend){var Qc=tb.sel.contains(W);var rc=-1<Qc?ac[Qc]:new Pf(W,W)}else rc=tb.sel.primary(),Qc=tb.sel.primIndex;"rectangle"==T.unit?(T.addNew||(rc=new Pf(W,W)),W=Jf(b,r,!0,!0),Qc=-1):(r=Kg(b,W,T.unit),rc=T.extend?Kd(rc,r.anchor,r.head,T.extend):r);T.addNew?-1==Qc?(Qc=ac.length,Wa(tb,za(b,ac.concat([rc]),Qc),{scroll:!1,origin:"*mouse"})):1<ac.length&&ac[Qc].empty()&&"char"==T.unit&&!T.extend?(Wa(tb,za(b,ac.slice(0,
Qc).concat(ac.slice(Qc+1)),0),{scroll:!1,origin:"*mouse"}),Kb=tb.sel):Bd(tb,Qc,rc,Oh):(Qc=0,Wa(tb,new Mg([rc],0),Oh),Kb=tb.sel);var wc=W,td=bb.wrapper.getBoundingClientRect(),be=0,Re=id(b,function(Ie){0!==Ie.buttons&&$a(Ie)?Ma(Ie):Ya(Ie)}),ef=id(b,Ya);b.state.selectingText=ef;Se(bb.wrapper.ownerDocument,"mousemove",Re);Se(bb.wrapper.ownerDocument,"mouseup",ef)}function sk(b,r){var W=r.anchor,T=r.head,ia=ca(b.doc,W.line);if(0==Ba(W,T)&&W.sticky==T.sticky)return r;ia=fa(ia);if(!ia)return r;var Ma=ba(ia,
W.ch,W.sticky),Ya=ia[Ma];if(Ya.from!=W.ch&&Ya.to!=W.ch)return r;var bb=Ma+(Ya.from==W.ch==(1!=Ya.level)?0:1);if(0==bb||bb==ia.length)return r;T.line!=W.line?b=0<(T.line-W.line)*("ltr"==b.doc.direction?1:-1):(b=ba(ia,T.ch,T.sticky),Ma=b-Ma||(T.ch-W.ch)*(1==Ya.level?-1:1),b=b==bb-1||b==bb?0>Ma:0<Ma);ia=ia[bb+(b?-1:0)];ia=(bb=b==(1==ia.level))?ia.from:ia.to;bb=bb?"after":"before";return W.ch==ia&&W.sticky==bb?r:new Pf(new ab(W.line,ia,bb),T)}function ci(b,r,W,T){if(r.touches){var ia=r.touches[0].clientX;
var Ma=r.touches[0].clientY}else try{ia=r.clientX,Ma=r.clientY}catch(tb){return!1}if(ia>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;T&&aa(r);T=b.display;var Ya=T.lineDiv.getBoundingClientRect();if(Ma>Ya.bottom||!N(b,W))return ua(r);Ma-=Ya.top-T.viewOffset;for(Ya=0;Ya<b.display.gutterSpecs.length;++Ya){var bb=T.gutters.childNodes[Ya];if(bb&&bb.getBoundingClientRect().right>=ia)return ia=na(b.doc,Ma),Z(b,W,b,ia,b.display.gutterSpecs[Ya].className,r),ua(r)}}function Lg(b,r){var W;
(W=Ed(b.display,r))||(W=N(b,"gutterContextMenu")?ci(b,r,"gutterContextMenu",!1):!1);if(!W&&!Q(b,r,"contextmenu")&&!gi)b.display.input.onContextMenu(r)}function Pj(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");of(b)}function Qj(b,r,W){!r!=!(W&&W!=qi)&&(W=b.display.dragFunctions,r=r?Se:ja,r(b.display.scroller,"dragstart",W.start),r(b.display.scroller,"dragenter",W.enter),r(b.display.scroller,"dragover",W.over),r(b.display.scroller,
"dragleave",W.leave),r(b.display.scroller,"drop",W.drop))}function ui(b){b.options.lineWrapping?(v(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(Df(b.display.wrapper,"CodeMirror-wrap"),wb(b));Qf(b);xc(b);of(b);setTimeout(function(){return Ka(b)},100)}function mg(b,r){var W=this;if(!(this instanceof mg))return new mg(b,r);this.options=r=r?d(r):{};d(vk,r,!1);var T=r.value;"string"==typeof T?T=new Eg(T,r.mode,null,r.lineSeparator,r.direction):r.mode&&
(T.modeOption=r.mode);this.doc=T;var ia=new mg.inputStyles[r.inputStyle](this);b=this.display=new Ag(b,T,ia,r);b.wrapper.CodeMirror=this;Pj(this);r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Xb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ef,keySeq:null,specialChars:null};r.autofocus&&!Gg&&b.input.focus();vf&&11>Wf&&setTimeout(function(){return W.display.input.reset(!0)},
20);Ti(this);tk||(wd(),tk=!0);Sb(this);this.curOp.forceUpdate=!0;sc(this,T);r.autofocus&&!Gg||this.hasFocus()?setTimeout(function(){W.hasFocus()&&!W.state.focused&&Od(W)},20):od(this);for(var Ma in jj)if(jj.hasOwnProperty(Ma))jj[Ma](this,r[Ma],qi);Of(this);r.finishInit&&r.finishInit(this);for(T=0;T<wk.length;++T)wk[T](this);hc(this);sg&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Ti(b){function r(){T.activeTouch&&
(ia=setTimeout(function(){return T.activeTouch=null},1E3),Ma=T.activeTouch,Ma.end=+new Date)}function W(bb,tb){if(null==tb.left)return!0;var Kb=tb.left-bb.left;bb=tb.top-bb.top;return 400<Kb*Kb+bb*bb}var T=b.display;Se(T.scroller,"mousedown",id(b,oj));vf&&11>Wf?Se(T.scroller,"dblclick",id(b,function(bb){if(!Q(b,bb)){var tb=Jf(b,bb);!tb||ci(b,bb,"gutterClick",!0)||Ed(b.display,bb)||(aa(bb),bb=b.findWordAt(tb),Ud(b.doc,bb.anchor,bb.head))}})):Se(T.scroller,"dblclick",function(bb){return Q(b,bb)||aa(bb)});
Se(T.scroller,"contextmenu",function(bb){return Lg(b,bb)});Se(T.input.getField(),"contextmenu",function(bb){T.scroller.contains(bb.target)||Lg(b,bb)});var ia,Ma={end:0};Se(T.scroller,"touchstart",function(bb){var tb;if(tb=!Q(b,bb))1!=bb.touches.length?tb=!1:(tb=bb.touches[0],tb=1>=tb.radiusX&&1>=tb.radiusY),tb=!tb;tb&&!ci(b,bb,"gutterClick",!0)&&(T.input.ensurePolled(),clearTimeout(ia),tb=+new Date,T.activeTouch={start:tb,moved:!1,prev:300>=tb-Ma.end?Ma:null},1==bb.touches.length&&(T.activeTouch.left=
bb.touches[0].pageX,T.activeTouch.top=bb.touches[0].pageY))});Se(T.scroller,"touchmove",function(){T.activeTouch&&(T.activeTouch.moved=!0)});Se(T.scroller,"touchend",function(bb){var tb=T.activeTouch;if(tb&&!Ed(T,bb)&&null!=tb.left&&!tb.moved&&300>new Date-tb.start){var Kb=b.coordsChar(T.activeTouch,"page");tb=!tb.prev||W(tb,tb.prev)?new Pf(Kb,Kb):!tb.prev.prev||W(tb,tb.prev.prev)?b.findWordAt(Kb):new Pf(ab(Kb.line,0),eb(b.doc,ab(Kb.line+1,0)));b.setSelection(tb.anchor,tb.head);b.focus();aa(bb)}r()});
Se(T.scroller,"touchcancel",r);Se(T.scroller,"scroll",function(){T.scroller.clientHeight&&(tf(b,T.scroller.scrollTop),Nf(b,T.scroller.scrollLeft,!0),Z(b,"scroll",b))});Se(T.scroller,"mousewheel",function(bb){return xa(b,bb)});Se(T.scroller,"DOMMouseScroll",function(bb){return xa(b,bb)});Se(T.wrapper,"scroll",function(){return T.wrapper.scrollTop=T.wrapper.scrollLeft=0});T.dragFunctions={enter:function(bb){Q(b,bb)||Ea(bb)},over:function(bb){if(!Q(b,bb)){var tb=Jf(b,bb);if(tb){var Kb=document.createDocumentFragment();
vc(b,tb,Kb);b.display.dragCursor||(b.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));n(b.display.dragCursor,Kb)}Ea(bb)}},start:function(bb){if(vf&&(!b.state.draggingText||100>+new Date-Aj))Ea(bb);else if(!Q(b,bb)&&!Ed(b.display,bb)&&(bb.dataTransfer.setData("Text",b.getSelection()),bb.dataTransfer.effectAllowed="copyMove",bb.dataTransfer.setDragImage&&!Ei)){var tb=E("img",null,null,"position: fixed; left: 0; top: 0;");
tb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Xg&&(tb.width=tb.height=1,b.display.wrapper.appendChild(tb),tb._top=tb.offsetTop);bb.dataTransfer.setDragImage(tb,0,0);Xg&&tb.parentNode.removeChild(tb)}},drop:id(b,se),leave:function(bb){Q(b,bb)||te(b)}};var Ya=T.input.getField();Se(Ya,"keyup",function(bb){return th.call(b,bb)});Se(Ya,"keydown",id(b,$h));Se(Ya,"keypress",id(b,$i));Se(Ya,"focus",function(bb){return Od(b,bb)});Se(Ya,"blur",function(bb){return od(b,
bb)})}function ph(b,r,W,T){var ia=b.doc,Ma;null==W&&(W="add");"smart"==W&&(ia.mode.indent?Ma=bd(b,r).state:W="prev");var Ya=b.options.tabSize,bb=ca(ia,r),tb=f(bb.text,null,Ya);bb.stateAfter&&(bb.stateAfter=null);var Kb=bb.text.match(/^\s*/)[0];if(!T&&!/\S/.test(bb.text)){var ac=0;W="not"}else if("smart"==W&&(ac=ia.mode.indent(Ma,bb.text.slice(Kb.length),bb.text),ac==Kh||150<ac)){if(!T)return;W="prev"}"prev"==W?ac=r>ia.first?f(ca(ia,r-1).text,null,Ya):0:"add"==W?ac=tb+b.options.indentUnit:"subtract"==
W?ac=tb-b.options.indentUnit:"number"==typeof W&&(ac=tb+W);ac=Math.max(0,ac);W="";T=0;if(b.options.indentWithTabs)for(b=Math.floor(ac/Ya);b;--b)T+=Ya,W+="\t";T<ac&&(W+=p(ac-T));if(W!=Kb)return Oc(ia,W,ab(r,0),ab(r,Kb.length),"+input"),bb.stateAfter=null,!0;for(Ya=0;Ya<ia.sel.ranges.length;Ya++)if(bb=ia.sel.ranges[Ya],bb.head.line==r&&bb.head.ch<Kb.length){r=ab(r,Kb.length);Bd(ia,Ya,new Pf(r,r));break}}function Ui(b,r,W,T,ia){var Ma=b.doc;b.display.shift=!1;T||(T=Ma.sel);var Ya=+new Date-200,bb="paste"==
ia||b.state.pasteIncoming>Ya,tb=Mh(r),Kb=null;if(bb&&1<T.ranges.length)if(Yg&&Yg.text.join("\n")==r){if(0==T.ranges.length%Yg.text.length){Kb=[];for(var ac=0;ac<Yg.text.length;ac++)Kb.push(Ma.splitLines(Yg.text[ac]))}}else tb.length==T.ranges.length&&b.options.pasteLinesPerSelection&&(Kb=C(tb,function(be){return[be]}));ac=b.curOp.updateInput;for(var Qc=T.ranges.length-1;0<=Qc;Qc--){var rc=T.ranges[Qc],wc=rc.from(),td=rc.to();rc.empty()&&(W&&0<W?wc=ab(wc.line,wc.ch-W):b.state.overwrite&&!bb?td=ab(td.line,
Math.min(ca(Ma,td.line).text.length,td.ch+A(tb).length)):bb&&Yg&&Yg.lineWise&&Yg.text.join("\n")==tb.join("\n")&&(wc=td=ab(wc.line,0)));rc={from:wc,to:td,text:Kb?Kb[Qc%Kb.length]:tb,origin:ia||(bb?"paste":b.state.cutIncoming>Ya?"cut":"+input")};hb(b.doc,rc);zc(b,"inputRead",b,rc)}r&&!bb&&Cg(b,r);Ve(b);2>b.curOp.updateInput&&(b.curOp.updateInput=ac);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function eg(b,r){var W=b.clipboardData&&b.clipboardData.getData("Text");if(W)return b.preventDefault(),
r.isReadOnly()||r.options.disableInput||lc(r,function(){return Ui(r,W,0,null,"paste")}),!0}function Cg(b,r){if(b.options.electricChars&&b.options.smartIndent)for(var W=b.doc.sel,T=W.ranges.length-1;0<=T;T--){var ia=W.ranges[T];if(!(100<ia.head.ch||T&&W.ranges[T-1].head.line==ia.head.line)){var Ma=b.getModeAt(ia.head),Ya=!1;if(Ma.electricChars)for(var bb=0;bb<Ma.electricChars.length;bb++){if(-1<r.indexOf(Ma.electricChars.charAt(bb))){Ya=ph(b,ia.head.line,"smart");break}}else Ma.electricInput&&Ma.electricInput.test(ca(b.doc,
ia.head.line).text.slice(0,ia.head.ch))&&(Ya=ph(b,ia.head.line,"smart"));Ya&&zc(b,"electricInput",b,ia.head.line)}}}function ah(b){for(var r=[],W=[],T=0;T<b.doc.sel.ranges.length;T++){var ia=b.doc.sel.ranges[T].head.line;ia={anchor:ab(ia,0),head:ab(ia+1,0)};W.push(ia);r.push(b.getRange(ia.anchor,ia.head))}return{text:r,ranges:W}}function vi(b,r,W,T){b.setAttribute("autocorrect",W?"":"off");b.setAttribute("autocapitalize",T?"":"off");b.setAttribute("spellcheck",!!r)}function Th(){var b=E("textarea",
null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),r=E("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");sg?b.style.width="1000px":b.setAttribute("wrap","off");Si&&(b.style.border="1px solid black");vi(b);return r}function bk(b,r,W,T,ia){function Ma(be){if("codepoint"==T){var Re=tb.text.charCodeAt(r.ch+(0<W?0:-1));Re=isNaN(Re)?null:new ab(r.line,Math.max(0,Math.min(tb.text.length,r.ch+W*((0<W?55296<=Re&&56320>Re:56320<=
Re&&57343>Re)?2:1))),-W)}else Re=ia?Kk(b.cm,tb,r,W):Rh(tb,r,W);if(null==Re){if(be=!be)be=r.line+Kb,be<b.first||be>=b.first+b.size?be=!1:(r=new ab(be,r.ch,r.sticky),be=tb=ca(b,be));if(be)r=mk(ia,b.cm,tb,r.line,Kb);else return!1}else r=Re;return!0}var Ya=r,bb=W,tb=ca(b,r.line),Kb=ia&&"rtl"==b.direction?-W:W;if("char"==T||"codepoint"==T)Ma();else if("column"==T)Ma(!0);else if("word"==T||"group"==T)for(var ac=null,Qc="group"==T,rc=b.cm&&b.cm.getHelper(r,"wordChars"),wc=!0;!(0>W)||Ma(!wc);wc=!1){var td=
tb.text.charAt(r.ch)||"\n";td=z(td,rc)?"w":Qc&&"\n"==td?"n":!Qc||/\s/.test(td)?null:"p";!Qc||wc||td||(td="s");if(ac&&ac!=td){0>W&&(W=1,Ma(),r.sticky="after");break}td&&(ac=td);if(0<W&&!Ma(!wc))break}bb=w(b,r,Ya,bb,!0);Ga(Ya,bb)&&(bb.hitSide=!0);return bb}function hj(b,r,W,T){var ia=b.doc,Ma=r.left;if("page"==T){var Ya=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*De(b.display),3);Ya=(0<W?r.bottom:r.top)+W*Ya}else"line"==T&&(Ya=0<W?r.bottom+
3:r.top-3);for(;;){r=Qd(b,Ma,Ya);if(!r.outside)break;if(0>W?0>=Ya:Ya>=ia.height){r.hitSide=!0;break}Ya+=5*W}return r}function ak(b,r){var W=Ze(b,r.line);if(!W||W.hidden)return null;var T=ca(b.doc,r.line);W=ff(W,T,r.line);b=fa(T,b.doc.direction);T="left";b&&(T=ba(b,r.ch)%2?"right":"left");r=ge(W.map,r.ch,T);r.offset="right"==r.collapse?r.end:r.start;return r}function Zj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function rg(b,r){r&&(b.bad=!0);return b}
function Rj(b,r,W,T,ia){function Ma(wc){return function(td){return td.id==wc}}function Ya(){ac&&(Kb+=Qc,rc&&(Kb+=Qc),ac=rc=!1)}function bb(wc){wc&&(Ya(),Kb+=wc)}function tb(wc){if(1==wc.nodeType){var td=wc.getAttribute("cm-text");if(td)bb(td);else{td=wc.getAttribute("cm-marker");var be;if(td)wc=b.findMarks(ab(T,0),ab(ia+1,0),Ma(+td)),wc.length&&(be=wc[0].find(0))&&bb(ea(b.doc,be.from,be.to).join(Qc));else if("false"!=wc.getAttribute("contenteditable")&&(be=/^(pre|div|p|li|table|br)$/i.test(wc.nodeName),
/^br$/i.test(wc.nodeName)||0!=wc.textContent.length)){be&&Ya();for(td=0;td<wc.childNodes.length;td++)tb(wc.childNodes[td]);/^(pre|p)$/i.test(wc.nodeName)&&(rc=!0);be&&(ac=!0)}}}else 3==wc.nodeType&&bb(wc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Kb="",ac=!1,Qc=b.doc.lineSeparator(),rc=!1;;){tb(r);if(r==W)break;r=r.nextSibling;rc=!1}return Kb}function $g(b,r,W){if(r==b.display.lineDiv){var T=b.display.lineDiv.childNodes[W];if(!T)return rg(b.clipPos(ab(b.display.viewTo-1)),!0);
r=null;W=0}else for(T=r;;T=T.parentNode){if(!T||T==b.display.lineDiv)return null;if(T.parentNode&&T.parentNode==b.display.lineDiv)break}for(var ia=0;ia<b.display.view.length;ia++){var Ma=b.display.view[ia];if(Ma.node==T)return Ji(Ma,r,W)}}function Ji(b,r,W){function T(ac,Qc,rc){for(var wc=-1;wc<(Kb?Kb.length:0);wc++)for(var td=0>wc?tb.map:Kb[wc],be=0;be<td.length;be+=3){var Re=td[be+2];if(Re==ac||Re==Qc){Qc=Ha(0>wc?b.line:b.rest[wc]);wc=td[be]+rc;if(0>rc||Re!=ac)wc=td[be+(rc?1:0)];return ab(Qc,wc)}}}
var ia=b.text.firstChild,Ma=!1;if(!r||!x(ia,r))return rg(ab(Ha(b.line),0),!0);if(r==ia&&(Ma=!0,r=ia.childNodes[W],W=0,!r))return W=b.rest?A(b.rest):b.line,rg(ab(Ha(W),W.text.length),Ma);var Ya=3==r.nodeType?r:null,bb=r;Ya||1!=r.childNodes.length||3!=r.firstChild.nodeType||(Ya=r.firstChild,W&&(W=Ya.nodeValue.length));for(;bb.parentNode!=ia;)bb=bb.parentNode;var tb=b.measure,Kb=tb.maps;if(r=T(Ya,bb,W))return rg(r,Ma);ia=bb.nextSibling;for(Ya=Ya?Ya.nodeValue.length-W:0;ia;ia=ia.nextSibling){if(r=T(ia,
ia.firstChild,0))return rg(ab(r.line,r.ch-Ya),Ma);Ya+=ia.textContent.length}for(bb=bb.previousSibling;bb;bb=bb.previousSibling){if(r=T(bb,bb.firstChild,-1))return rg(ab(r.line,r.ch+W),Ma);W+=bb.textContent.length}}var ug=navigator.userAgent,Hg=navigator.platform,vh=/gecko\/\d/i.test(ug),Vh=/MSIE \d/.test(ug),qh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ug),fi=/Edge\/(\d+)/.exec(ug),vf=Vh||qh||fi,Wf=vf&&(Vh?document.documentMode||6:+(fi||qh)[1]),sg=!fi&&/WebKit\//.test(ug),wi=sg&&/Qt\/\d+\.\d+/.test(ug),
xi=!fi&&/Chrome\//.test(ug),Xg=/Opera\//.test(ug),Ei=/Apple Computer/.test(navigator.vendor),Nj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ug),Oj=/PhantomJS/.test(ug),Si=Ei&&(/Mobile\/\w+/.test(ug)||2<navigator.maxTouchPoints),yg=/Android/.test(ug),Gg=Si||yg||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ug),Wg=Si||/Mac/.test(Hg),yj=/\bCrOS\b/.test(ug),pj=/win/i.test(Hg),hh=Xg&&ug.match(/Version\/(\d*\.\d*)/);hh&&(hh=Number(hh[1]));hh&&15<=hh&&(Xg=!1,sg=!0);var Ij=Wg&&(wi||Xg&&(null==hh||12.11>
hh)),gi=vh||vf&&9<=Wf,Df=function(b,r){var W=b.className;if(r=g(r).exec(W)){var T=W.slice(r.index+r[0].length);b.className=W.slice(0,r.index)+(T?r[1]+T:"")}};var hi=document.createRange?function(b,r,W,T){var ia=document.createRange();ia.setEnd(T||b,W);ia.setStart(b,r);return ia}:function(b,r,W){var T=document.body.createTextRange();try{T.moveToElementText(b.parentNode)}catch(ia){return T}T.collapse(!0);T.moveEnd("character",W);T.moveStart("character",r);return T};var vg=function(b){b.select()};Si?
vg=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:vf&&(vg=function(b){try{b.select()}catch(r){}});var Ef=function(){this.f=this.id=null;this.time=0;this.handler=k(this.onTimeout,this)};Ef.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};Ef.prototype.set=function(b,r){this.f=r;r=+new Date+b;if(!this.id||r<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=r};var Kh={toString:function(){return"CodeMirror.Pass"}},
wh={scroll:!1},Oh={origin:"*mouse"},Lh={origin:"+move"},Ci=[""],Fh=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,yi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ii=null,Vi=function(){function b(bb){return 247>=bb?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(bb):1424<=bb&&1524>=bb?"R":1536<=bb&&1785>=bb?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(bb-
1536):1774<=bb&&2220>=bb?"r":8192<=bb&&8203>=bb?"w":8204==bb?"b":"L"}function r(bb,tb,Kb){this.level=bb;this.from=tb;this.to=Kb}var W=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,T=/[stwN]/,ia=/[LRr]/,Ma=/[Lb1n]/,Ya=/[1n]/;return function(bb,tb){var Kb="ltr"==tb?"L":"R";if(0==bb.length||"ltr"==tb&&!W.test(bb))return!1;for(var ac=bb.length,Qc=[],rc=0;rc<ac;++rc)Qc.push(b(bb.charCodeAt(rc)));rc=0;for(var wc=Kb;rc<ac;++rc){var td=Qc[rc];"m"==td?Qc[rc]=wc:wc=td}rc=0;for(wc=Kb;rc<ac;++rc)td=Qc[rc],"1"==
td&&"r"==wc?Qc[rc]="n":ia.test(td)&&(wc=td,"r"==td&&(Qc[rc]="R"));rc=1;for(wc=Qc[0];rc<ac-1;++rc)td=Qc[rc],"+"==td&&"1"==wc&&"1"==Qc[rc+1]?Qc[rc]="1":","!=td||wc!=Qc[rc+1]||"1"!=wc&&"n"!=wc||(Qc[rc]=wc),wc=td;for(rc=0;rc<ac;++rc)if(wc=Qc[rc],","==wc)Qc[rc]="N";else if("%"==wc){for(wc=rc+1;wc<ac&&"%"==Qc[wc];++wc);for(td=rc&&"!"==Qc[rc-1]||wc<ac&&"1"==Qc[wc]?"1":"N";rc<wc;++rc)Qc[rc]=td;rc=wc-1}rc=0;for(wc=Kb;rc<ac;++rc)td=Qc[rc],"L"==wc&&"1"==td?Qc[rc]="L":ia.test(td)&&(wc=td);for(wc=0;wc<ac;++wc)if(T.test(Qc[wc])){for(rc=
wc+1;rc<ac&&T.test(Qc[rc]);++rc);td="L"==(wc?Qc[wc-1]:Kb);for(td=td==("L"==(rc<ac?Qc[rc]:Kb))?td?"L":"R":Kb;wc<rc;++wc)Qc[wc]=td;wc=rc-1}Kb=[];var be;for(rc=0;rc<ac;)if(Ma.test(Qc[rc])){wc=rc;for(++rc;rc<ac&&Ma.test(Qc[rc]);++rc);Kb.push(new r(0,wc,rc))}else{var Re=rc;wc=Kb.length;td="rtl"==tb?1:0;for(++rc;rc<ac&&"L"!=Qc[rc];++rc);for(var ef=Re;ef<rc;)if(Ya.test(Qc[ef])){Re<ef&&(Kb.splice(wc,0,new r(1,Re,ef)),wc+=td);Re=ef;for(++ef;ef<rc&&Ya.test(Qc[ef]);++ef);Kb.splice(wc,0,new r(2,Re,ef));wc+=td;
Re=ef}else++ef;Re<rc&&Kb.splice(wc,0,new r(1,Re,rc))}"ltr"==tb&&(1==Kb[0].level&&(be=bb.match(/^\s+/))&&(Kb[0].from=be[0].length,Kb.unshift(new r(0,0,be[0].length))),1==A(Kb).level&&(be=bb.match(/\s+$/))&&(A(Kb).to-=be[0].length,Kb.push(new r(0,ac-be[0].length,ac))));return"rtl"==tb?Kb.reverse():Kb}}(),zi=[],Se=function(b,r,W){b.addEventListener?b.addEventListener(r,W,!1):b.attachEvent?b.attachEvent("on"+r,W):(b=b._handlers||(b._handlers={}),b[r]=(b[r]||zi).concat(W))},zj=function(){if(vf&&9>Wf)return!1;
var b=E("div");return"draggable"in b||"dragDrop"in b}(),jh,ih,Mh=3!="\n\nb".split(/\n/).length?function(b){for(var r=0,W=[],T=b.length;r<=T;){var ia=b.indexOf("\n",r);-1==ia&&(ia=b.length);var Ma=b.slice(r,"\r"==b.charAt(ia-1)?ia-1:ia),Ya=Ma.indexOf("\r");-1!=Ya?(W.push(Ma.slice(0,Ya)),r+=Ya+1):(W.push(Ma),r=ia+1)}return W}:function(b){return b.split(/\r\n?|\n/)},Nh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(r){return!1}}:function(b){try{var r=b.ownerDocument.selection.createRange()}catch(W){}return r&&
r.parentElement()==b?0!=r.compareEndPoints("StartToEnd",r):!1},Wh=function(){var b=E("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),ji=null,Ai={},oi={},xh={},tg=function(b,r,W){this.pos=this.start=0;this.string=b;this.tabSize=r||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=W};tg.prototype.eol=function(){return this.pos>=this.string.length};tg.prototype.sol=function(){return this.pos==this.lineStart};tg.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};tg.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};tg.prototype.eat=function(b){var r=this.string.charAt(this.pos);if("string"==typeof b?r==b:r&&(b.test?b.test(r):b(r)))return++this.pos,r};tg.prototype.eatWhile=function(b){for(var r=this.pos;this.eat(b););return this.pos>r};tg.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};tg.prototype.skipToEnd=function(){this.pos=this.string.length};tg.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};tg.prototype.backUp=function(b){this.pos-=b};tg.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};tg.prototype.indentation=
function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};tg.prototype.match=function(b,r,W){if("string"==typeof b){var T=function(Ma){return W?Ma.toLowerCase():Ma},ia=this.string.substr(this.pos,b.length);if(T(ia)==T(b))return!1!==r&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==r&&(this.pos+=b[0].length);return b}};tg.prototype.current=function(){return this.string.slice(this.start,
this.pos)};tg.prototype.hideFirstChars=function(b,r){this.lineStart+=b;try{return r()}finally{this.lineStart-=b}};tg.prototype.lookAhead=function(b){var r=this.lineOracle;return r&&r.lookAhead(b)};tg.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Bi=function(b,r){this.state=b;this.lookAhead=r},yh=function(b,r,W,T){this.state=r;this.doc=b;this.line=W;this.maxLookAhead=T||0;this.baseTokens=null;this.baseTokenPos=1};yh.prototype.lookAhead=function(b){var r=
this.doc.getLine(this.line+b);null!=r&&b>this.maxLookAhead&&(this.maxLookAhead=b);return r};yh.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};yh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};yh.fromSaved=function(b,r,W){return r instanceof Bi?new yh(b,
va(b.mode,r.state),W,r.lookAhead):new yh(b,va(b.mode,r),W)};yh.prototype.save=function(b){b=!1!==b?va(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Bi(b,this.maxLookAhead):b};var kj=function(b,r,W){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=r||null;this.state=W},Bj=!1,zh=!1,li=function(b,r,W){this.text=b;Rc(this,r);this.height=W?W(this):1};li.prototype.lineNo=function(){return Ha(this)};da(li);var ki={},Sj={},Gh=null,Xf=null,Xh={left:0,right:0,top:0,
bottom:0},mi,ni=function(b,r,W){this.cm=W;var T=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ia=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");T.tabIndex=ia.tabIndex=-1;b(T);b(ia);Se(T,"scroll",function(){T.clientHeight&&r(T.scrollTop,"vertical")});Se(ia,"scroll",function(){ia.clientWidth&&r(ia.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;vf&&8>Wf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
ni.prototype.update=function(b){var r=b.scrollWidth>b.clientWidth+1,W=b.scrollHeight>b.clientHeight+1,T=b.nativeBarWidth;W?(this.vert.style.display="block",this.vert.style.bottom=r?T+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(r?T:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");r?(this.horiz.style.display="block",this.horiz.style.right=W?T+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(W?T:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==T&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:W?T:0,bottom:r?T:0}};ni.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};ni.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};ni.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Wg&&!Nj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Ef;this.disableVert=new Ef};ni.prototype.enableZeroWidthBar=function(b,r,W){function T(){var ia=b.getBoundingClientRect();("vert"==W?document.elementFromPoint(ia.right-1,(ia.top+ia.bottom)/2):document.elementFromPoint((ia.right+
ia.left)/2,ia.bottom-1))!=b?b.style.pointerEvents="none":r.set(1E3,T)}b.style.pointerEvents="auto";r.set(1E3,T)};ni.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var ij=function(){};ij.prototype.update=function(){return{bottom:0,right:0}};ij.prototype.setScrollLeft=function(){};ij.prototype.setScrollTop=function(){};ij.prototype.clear=function(){};var Ck={"native":ni,"null":ij},Wi=0,rh=function(b,r,W){var T=b.display;this.viewport=r;this.visible=
lf(T,b.doc,r);this.editorIsHidden=!T.wrapper.offsetWidth;this.wrapperHeight=T.wrapper.clientHeight;this.wrapperWidth=T.wrapper.clientWidth;this.oldDisplayWidth=Ce(b);this.force=W;this.dims=gf(b);this.events=[]};rh.prototype.signal=function(b,r){N(b,r)&&this.events.push(arguments)};rh.prototype.finish=function(){for(var b=0;b<this.events.length;b++)Z.apply(null,this.events[b])};var pi=0,Ig=null;vf?Ig=-.53:vh?Ig=15:xi?Ig=-.7:Ei&&(Ig=-1/3);var Mg=function(b,r){this.ranges=b;this.primIndex=r};Mg.prototype.primary=
function(){return this.ranges[this.primIndex]};Mg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var W=this.ranges[r],T=b.ranges[r];if(!Ga(W.anchor,T.anchor)||!Ga(W.head,T.head))return!1}return!0};Mg.prototype.deepCopy=function(){for(var b=[],r=0;r<this.ranges.length;r++)b[r]=new Pf(oa(this.ranges[r].anchor),oa(this.ranges[r].head));return new Mg(b,this.primIndex)};Mg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};Mg.prototype.contains=function(b,r){r||(r=b);for(var W=0;W<this.ranges.length;W++){var T=this.ranges[W];if(0<=Ba(r,T.from())&&0>=Ba(b,T.to()))return W}return-1};var Pf=function(b,r){this.anchor=b;this.head=r};Pf.prototype.from=function(){return Ua(this.anchor,this.head)};Pf.prototype.to=function(){return Ia(this.anchor,this.head)};Pf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Jc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,r){for(var W=b,T=b+r;W<T;++W){var ia=this.lines[W];this.height-=ia.height;var Ma=ia;Ma.parent=null;vd(Ma);zc(ia,"delete")}this.lines.splice(b,r)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,r,W){this.height+=W;this.lines=this.lines.slice(0,b).concat(r).concat(this.lines.slice(b));for(b=0;b<r.length;++b)r[b].parent=this},iterN:function(b,r,W){for(r=b+r;b<r;++b)if(W(this.lines[b]))return!0}};
ud.prototype={chunkSize:function(){return this.size},removeInner:function(b,r){this.size-=r;for(var W=0;W<this.children.length;++W){var T=this.children[W],ia=T.chunkSize();if(b<ia){var Ma=Math.min(r,ia-b),Ya=T.height;T.removeInner(b,Ma);this.height-=Ya-T.height;ia==Ma&&(this.children.splice(W--,1),T.parent=null);if(0==(r-=Ma))break;b=0}else b-=ia}25>this.size-r&&(1<this.children.length||!(this.children[0]instanceof Jc))&&(b=[],this.collapse(b),this.children=[new Jc(b)],this.children[0].parent=this)},
collapse:function(b){for(var r=0;r<this.children.length;++r)this.children[r].collapse(b)},insertInner:function(b,r,W){this.size+=r.length;this.height+=W;for(var T=0;T<this.children.length;++T){var ia=this.children[T],Ma=ia.chunkSize();if(b<=Ma){ia.insertInner(b,r,W);if(ia.lines&&50<ia.lines.length){for(r=b=ia.lines.length%25+25;r<ia.lines.length;)W=new Jc(ia.lines.slice(r,r+=25)),ia.height-=W.height,this.children.splice(++T,0,W),W.parent=this;ia.lines=ia.lines.slice(0,b);this.maybeSpill()}break}b-=
Ma}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var r=b.children.splice(b.children.length-5,5);r=new ud(r);if(b.parent){b.size-=r.size;b.height-=r.height;var W=a(b.parent.children,b);b.parent.children.splice(W+1,0,r)}else W=new ud(b.children),W.parent=b,b.children=[W,r],b=W;r.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,r,W){for(var T=0;T<this.children.length;++T){var ia=this.children[T],Ma=ia.chunkSize();if(b<Ma){Ma=Math.min(r,Ma-b);
if(ia.iterN(b,Ma,W))return!0;if(0==(r-=Ma))break;b=0}else b-=Ma}}};var Uh=function(b,r,W){if(W)for(var T in W)W.hasOwnProperty(T)&&(this[T]=W[T]);this.doc=b;this.node=r};Uh.prototype.clear=function(){var b=this.doc.cm,r=this.line.widgets,W=this.line,T=Ha(W);if(null!=T&&r){for(var ia=0;ia<r.length;++ia)r[ia]==this&&r.splice(ia--,1);r.length||(W.widgets=null);var Ma=Cd(this);qa(W,Math.max(0,W.height-Ma));b&&(lc(b,function(){var Ya=-Ma;La(W)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&ee(b,Ya);ya(b,
T,"widget")}),zc(b,"lineWidgetCleared",b,this,T))}};Uh.prototype.changed=function(){var b=this,r=this.height,W=this.doc.cm,T=this.line;this.height=null;var ia=Cd(this)-r;ia&&(Gd(this.doc,T)||qa(T,T.height+ia),W&&lc(W,function(){W.curOp.forceUpdate=!0;La(T)<(W.curOp&&W.curOp.scrollTop||W.doc.scrollTop)&&ee(W,ia);zc(W,"lineWidgetChanged",W,b,Ha(T))}))};da(Uh);var dk=0,Hh=function(b,r){this.lines=[];this.type=r;this.doc=b;this.id=++dk};Hh.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,r=b&&!b.curOp;r&&Sb(b);if(N(this,"clear")){var W=this.find();W&&zc(this,"clear",W.from,W.to)}for(var T=W=null,ia=0;ia<this.lines.length;++ia){var Ma=this.lines[ia],Ya=Tc(Ma.markedSpans,this);b&&!this.collapsed?ya(b,Ha(Ma),"text"):b&&(null!=Ya.to&&(T=Ha(Ma)),null!=Ya.from&&(W=Ha(Ma)));for(var bb=Ma,tb=void 0,Kb=Ma.markedSpans,ac=Ya,Qc=0;Qc<Kb.length;++Qc)Kb[Qc]!=ac&&(tb||(tb=[])).push(Kb[Qc]);bb.markedSpans=tb;null==Ya.from&&this.collapsed&&!Gd(this.doc,Ma)&&b&&qa(Ma,De(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(ia=0;ia<this.lines.length;++ia)Ma=Hb(this.lines[ia]),Ya=fb(Ma),Ya>b.display.maxLineLength&&(b.display.maxLine=Ma,b.display.maxLineLength=Ya,b.display.maxLineChanged=!0);null!=W&&b&&this.collapsed&&xc(b,W,T+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Nb(b.doc));b&&zc(b,"markerCleared",b,this,W,T);r&&hc(b);this.parent&&this.parent.clear()}};Hh.prototype.find=function(b,r){null==b&&"bookmark"==this.type&&
(b=1);for(var W,T,ia=0;ia<this.lines.length;++ia){var Ma=this.lines[ia],Ya=Tc(Ma.markedSpans,this);if(null!=Ya.from&&(W=ab(r?Ma:Ha(Ma),Ya.from),-1==b))return W;if(null!=Ya.to&&(T=ab(r?Ma:Ha(Ma),Ya.to),1==b))return T}return W&&{from:W,to:T}};Hh.prototype.changed=function(){var b=this,r=this.find(-1,!0),W=this,T=this.doc.cm;r&&T&&lc(T,function(){var ia=r.line,Ma=Ha(r.line);if(Ma=Ze(T,Ma))yf(Ma),T.curOp.selectionChanged=T.curOp.forceUpdate=!0;T.curOp.updateMaxLine=!0;Gd(W.doc,ia)||null==W.height||(Ma=
W.height,W.height=null,(Ma=Cd(W)-Ma)&&qa(ia,ia.height+Ma));zc(T,"markerChanged",T,b)})};Hh.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;r.maybeHiddenMarkers&&-1!=a(r.maybeHiddenMarkers,this)||(r.maybeUnhiddenMarkers||(r.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};Hh.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
da(Hh);var di=function(b,r){this.markers=b;this.primary=r;for(r=0;r<b.length;++r)b[r].parent=this};di.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();zc(this,"clear")}};di.prototype.find=function(b,r){return this.primary.find(b,r)};da(di);var bj=0,Eg=function(b,r,W,T,ia){if(!(this instanceof Eg))return new Eg(b,r,W,T,ia);null==W&&(W=0);ud.call(this,[new Jc([new li("",null)])]);this.first=W;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=W;W=ab(W,0);this.sel=Oa(W);this.history=new Qa(null);this.id=++bj;this.modeOption=r;this.lineSep=T;this.direction="rtl"==ia?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Lb(this,{from:W,to:W,text:b});Wa(this,Oa(W),wh)};Eg.prototype=L(ud.prototype,{constructor:Eg,iter:function(b,r,W){W?this.iterN(b-this.first,r-b,W):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
r){for(var W=0,T=0;T<r.length;++T)W+=r[T].height;this.insertInner(b-this.first,r,W)},remove:function(b,r){this.removeInner(b-this.first,r)},getValue:function(b){var r=ra(this,this.first,this.first+this.size);return!1===b?r:r.join(b||this.lineSeparator())},setValue:gd(function(b){var r=ab(this.first,0),W=this.first+this.size-1;hb(this,{from:r,to:ab(W,ca(this,W).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&ce(this.cm,0,0);Wa(this,Oa(r),wh)}),replaceRange:function(b,r,
W,T){r=eb(this,r);W=W?eb(this,W):r;Oc(this,b,r,W,T)},getRange:function(b,r,W){b=ea(this,eb(this,b),eb(this,r));return!1===W?b:b.join(W||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Pa(this,b))return ca(this,b)},getLineNumber:function(b){return Ha(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=ca(this,b));return Hb(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return eb(this,b)},getCursor:function(b){var r=this.sel.primary();return null==b||"head"==b?r.head:"anchor"==b?r.anchor:"end"==b||"to"==b||!1===b?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gd(function(b,r,W){b=eb(this,"number"==typeof b?ab(b,r||0):b);Wa(this,Oa(b,null),W)}),setSelection:gd(function(b,r,W){var T=eb(this,b);b=eb(this,r||b);Wa(this,Oa(T,b),W)}),extendSelection:gd(function(b,
r,W){Ud(this,eb(this,b),r&&eb(this,r),W)}),extendSelections:gd(function(b,r){pd(this,Gb(this,b),r)}),extendSelectionsBy:gd(function(b,r){b=C(this.sel.ranges,b);pd(this,Gb(this,b),r)}),setSelections:gd(function(b,r,W){if(b.length){for(var T=[],ia=0;ia<b.length;ia++)T[ia]=new Pf(eb(this,b[ia].anchor),eb(this,b[ia].head));null==r&&(r=Math.min(b.length-1,this.sel.primIndex));Wa(this,za(this.cm,T,r),W)}}),addSelection:gd(function(b,r,W){var T=this.sel.ranges.slice(0);T.push(new Pf(eb(this,b),eb(this,r||
b)));Wa(this,za(this.cm,T,T.length-1),W)}),getSelection:function(b){for(var r=this.sel.ranges,W,T=0;T<r.length;T++){var ia=ea(this,r[T].from(),r[T].to());W=W?W.concat(ia):ia}return!1===b?W:W.join(b||this.lineSeparator())},getSelections:function(b){for(var r=[],W=this.sel.ranges,T=0;T<W.length;T++){var ia=ea(this,W[T].from(),W[T].to());!1!==b&&(ia=ia.join(b||this.lineSeparator()));r[T]=ia}return r},replaceSelection:function(b,r,W){for(var T=[],ia=0;ia<this.sel.ranges.length;ia++)T[ia]=b;this.replaceSelections(T,
r,W||"+input")},replaceSelections:gd(function(b,r,W){for(var T=[],ia=this.sel,Ma=0;Ma<ia.ranges.length;Ma++){var Ya=ia.ranges[Ma];T[Ma]={from:Ya.from(),to:Ya.to(),text:this.splitLines(b[Ma]),origin:W}}if(b=r&&"end"!=r){b=[];ia=W=ab(this.first,0);for(Ma=0;Ma<T.length;Ma++){var bb=T[Ma];Ya=rb(bb.from,W,ia);var tb=rb(Sa(bb),W,ia);W=bb.to;ia=tb;"around"==r?(bb=this.sel.ranges[Ma],bb=0>Ba(bb.head,bb.anchor),b[Ma]=new Pf(bb?tb:Ya,bb?Ya:tb)):b[Ma]=new Pf(Ya,Ya)}b=new Mg(b,this.sel.primIndex)}r=b;for(b=T.length-
1;0<=b;b--)hb(this,T[b]);r?cf(this,r):this.cm&&Ve(this.cm)}),undo:gd(function(){sb(this,"undo")}),redo:gd(function(){sb(this,"redo")}),undoSelection:gd(function(){sb(this,"undo",!0)}),redoSelection:gd(function(){sb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,r=0,W=0,T=0;T<b.done.length;T++)b.done[T].ranges||++r;for(T=0;T<b.undone.length;T++)b.undone[T].ranges||++W;return{undo:r,redo:W}},clearHistory:function(){var b=
this;this.history=new Qa(this.history);bc(this,function(r){return r.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Yc(this.history.done),undone:Yc(this.history.undone)}},setHistory:function(b){var r=this.history=
new Qa(this.history);r.done=Yc(b.done.slice(0),null,!0);r.undone=Yc(b.undone.slice(0),null,!0)},setGutterMarker:gd(function(b,r,W){return ad(this,b,"gutter",function(T){var ia=T.gutterMarkers||(T.gutterMarkers={});ia[r]=W;!W&&K(ia)&&(T.gutterMarkers=null);return!0})}),clearGutter:gd(function(b){var r=this;this.iter(function(W){W.gutterMarkers&&W.gutterMarkers[b]&&ad(r,W,"gutter",function(){W.gutterMarkers[b]=null;K(W.gutterMarkers)&&(W.gutterMarkers=null);return!0})})}),lineInfo:function(b){if("number"==
typeof b){if(!Pa(this,b))return null;var r=b;b=ca(this,b);if(!b)return null}else if(r=Ha(b),null==r)return null;return{line:r,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:gd(function(b,r,W){return ad(this,b,"gutter"==r?"gutter":"class",function(T){var ia="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(T[ia]){if(g(W).test(T[ia]))return!1;T[ia]+=" "+W}else T[ia]=
W;return!0})}),removeLineClass:gd(function(b,r,W){return ad(this,b,"gutter"==r?"gutter":"class",function(T){var ia="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",Ma=T[ia];if(Ma)if(null==W)T[ia]=null;else{var Ya=Ma.match(g(W));if(!Ya)return!1;var bb=Ya.index+Ya[0].length;T[ia]=Ma.slice(0,Ya.index)+(Ya.index&&bb!=Ma.length?" ":"")+Ma.slice(bb)||null}else return!1;return!0})}),addLineWidget:gd(function(b,r,W){return de(this,b,r,W)}),removeLineWidget:function(b){b.clear()},
markText:function(b,r,W){return Sd(this,eb(this,b),eb(this,r),W,W&&W.type||"range")},setBookmark:function(b,r){r={replacedWith:r&&(null==r.nodeType?r.widget:r),insertLeft:r&&r.insertLeft,clearWhenEmpty:!1,shared:r&&r.shared,handleMouseEvents:r&&r.handleMouseEvents};b=eb(this,b);return Sd(this,b,b,r,"bookmark")},findMarksAt:function(b){b=eb(this,b);var r=[],W=ca(this,b.line).markedSpans;if(W)for(var T=0;T<W.length;++T){var ia=W[T];(null==ia.from||ia.from<=b.ch)&&(null==ia.to||ia.to>=b.ch)&&r.push(ia.marker.parent||
ia.marker)}return r},findMarks:function(b,r,W){b=eb(this,b);r=eb(this,r);var T=[],ia=b.line;this.iter(b.line,r.line+1,function(Ma){if(Ma=Ma.markedSpans)for(var Ya=0;Ya<Ma.length;Ya++){var bb=Ma[Ya];null!=bb.to&&ia==b.line&&b.ch>=bb.to||null==bb.from&&ia!=b.line||null!=bb.from&&ia==r.line&&bb.from>=r.ch||W&&!W(bb.marker)||T.push(bb.marker.parent||bb.marker)}++ia});return T},getAllMarks:function(){var b=[];this.iter(function(r){if(r=r.markedSpans)for(var W=0;W<r.length;++W)null!=r[W].from&&b.push(r[W].marker)});
return b},posFromIndex:function(b){var r,W=this.first,T=this.lineSeparator().length;this.iter(function(ia){ia=ia.text.length+T;if(ia>b)return r=b,!0;b-=ia;++W});return eb(this,ab(W,r))},indexFromPos:function(b){b=eb(this,b);var r=b.ch;if(b.line<this.first||0>b.ch)return 0;var W=this.lineSeparator().length;this.iter(this.first,b.line,function(T){r+=T.text.length+W});return r},copy:function(b){var r=new Eg(ra(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
r.scrollTop=this.scrollTop;r.scrollLeft=this.scrollLeft;r.sel=this.sel;r.extend=!1;b&&(r.history.undoDepth=this.history.undoDepth,r.setHistory(this.getHistory()));return r},linkedDoc:function(b){b||(b={});var r=this.first,W=this.first+this.size;null!=b.from&&b.from>r&&(r=b.from);null!=b.to&&b.to<W&&(W=b.to);r=new Eg(ra(this,r,W),b.mode||this.modeOption,r,this.lineSep,this.direction);b.sharedHist&&(r.history=this.history);(this.linked||(this.linked=[])).push({doc:r,sharedHist:b.sharedHist});r.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=ne(this);for(W=0;W<b.length;W++){var T=b[W],ia=T.find(),Ma=r.clipPos(ia.from);ia=r.clipPos(ia.to);Ba(Ma,ia)&&(Ma=Sd(r,Ma,ia,T.primary,T.primary.type),T.markers.push(Ma),Ma.parent=T)}return r},unlinkDoc:function(b){b instanceof mg&&(b=b.doc);if(this.linked)for(var r=0;r<this.linked.length;++r)if(this.linked[r].doc==b){this.linked.splice(r,1);b.unlinkDoc(this);Tf(ne(this));break}if(b.history==this.history){var W=[b.id];bc(b,function(T){return W.push(T.id)},
!0);b.history=new Qa(null);b.history.done=Yc(this.history.done,W);b.history.undone=Yc(this.history.undone,W)}},iterLinkedDocs:function(b){bc(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Mh(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:gd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(r){return r.order=null}),this.cm&&pa(this.cm))})});
Eg.prototype.eachLine=Eg.prototype.iter;for(var Aj=0,tk=!1,Yh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},cj=0;10>cj;cj++)Yh[cj+48]=Yh[cj+96]=String(cj);for(var Di=65;90>=Di;Di++)Yh[Di]=String.fromCharCode(Di);for(var dj=1;12>=dj;dj++)Yh[dj+111]=Yh[dj+63235]="F"+dj;var lj={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};lj["default"]=Wg?lj.macDefault:lj.pcDefault;var ej={selectAll:ma,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),wh)},killLine:function(b){return Ug(b,function(r){if(r.empty()){var W=ca(b.doc,r.head.line).text.length;return r.head.ch==W&&r.head.line<b.lastLine()?{from:r.head,to:ab(r.head.line+1,0)}:{from:r.head,to:ab(r.head.line,W)}}return{from:r.from(),to:r.to()}})},deleteLine:function(b){return Ug(b,function(r){return{from:ab(r.from().line,0),to:eb(b.doc,ab(r.to().line+1,0))}})},delLineLeft:function(b){return Ug(b,function(r){return{from:ab(r.from().line,0),to:r.from()}})},delWrappedLineLeft:function(b){return Ug(b,
function(r){var W=b.charCoords(r.head,"div").top+5;return{from:b.coordsChar({left:0,top:W},"div"),to:r.from()}})},delWrappedLineRight:function(b){return Ug(b,function(r){var W=b.charCoords(r.head,"div").top+5;W=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:W},"div");return{from:r.from(),to:W}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection(ab(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection(ab(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(r){return pk(b,r.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(r){return qk(b,r.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(r){r=r.head.line;var W=ca(b.doc,r);var T=W;for(var ia;ia=Pb(T,!1);)T=ia.find(1,!0).line;T!=W&&(r=Ha(T));return mk(!0,b,W,r,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(r){r=b.cursorCoords(r.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:r},"div")},Lh)},goLineLeft:function(b){return b.extendSelectionsBy(function(r){r=b.cursorCoords(r.head,"div").top+5;return b.coordsChar({left:0,top:r},"div")},Lh)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(r){var W=b.cursorCoords(r.head,"div").top+5;W=b.coordsChar({left:0,top:W},"div");return W.ch<b.getLine(W.line).search(/\S/)?
qk(b,r.head):W},Lh)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var r=[],W=b.listSelections(),T=b.options.tabSize,ia=0;ia<W.length;ia++){var Ma=W[ia].from();Ma=f(b.getLine(Ma.line),Ma.ch,T);r.push(p(T-Ma%T))}b.replaceSelections(r)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return lc(b,
function(){for(var r=b.listSelections(),W=[],T=0;T<r.length;T++)if(r[T].empty()){var ia=r[T].head,Ma=ca(b.doc,ia.line).text;if(Ma)if(ia.ch==Ma.length&&(ia=new ab(ia.line,ia.ch-1)),0<ia.ch)ia=new ab(ia.line,ia.ch+1),b.replaceRange(Ma.charAt(ia.ch-1)+Ma.charAt(ia.ch-2),ab(ia.line,ia.ch-2),ia,"+transpose");else if(ia.line>b.doc.first){var Ya=ca(b.doc,ia.line-1).text;Ya&&(ia=new ab(ia.line,1),b.replaceRange(Ma.charAt(0)+b.doc.lineSeparator()+Ya.charAt(Ya.length-1),ab(ia.line-1,Ya.length-1),ia,"+transpose"))}W.push(new Pf(ia,
ia))}b.setSelections(W)})},newlineAndIndent:function(b){return lc(b,function(){for(var r=b.listSelections(),W=r.length-1;0<=W;W--)b.replaceRange(b.doc.lineSeparator(),r[W].anchor,r[W].head,"+input");r=b.listSelections();for(W=0;W<r.length;W++)b.indentLine(r[W].from().line,null,!0);Ve(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},Dk=new Ef,uk=null,Cj=function(b,r,W){this.time=b;this.pos=r;this.button=W};Cj.prototype.compare=
function(b,r,W){return this.time+400>b&&0==Ba(r,this.pos)&&W==this.button};var uj,fj,qi={toString:function(){return"CodeMirror.Init"}},vk={},jj={};mg.defaults=vk;mg.optionHandlers=jj;var wk=[];mg.defineInitHook=function(b){return wk.push(b)};var Yg=null,dg=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Ef;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};dg.prototype.init=function(b){function r(bb){for(bb=
bb.target;bb;bb=bb.parentNode){if(bb==Ya)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(bb.className))break}return!1}function W(bb){if(r(bb)&&!Q(Ma,bb)){if(Ma.somethingSelected())Yg={lineWise:!1,text:Ma.getSelections()},"cut"==bb.type&&Ma.replaceSelection("",null,"cut");else if(Ma.options.lineWiseCopyCut){var tb=ah(Ma);Yg={lineWise:!0,text:tb.text};"cut"==bb.type&&Ma.operation(function(){Ma.setSelections(tb.ranges,0,wh);Ma.replaceSelection("",null,"cut")})}else return;if(bb.clipboardData){bb.clipboardData.clearData();
var Kb=Yg.text.join("\n");bb.clipboardData.setData("Text",Kb);if(bb.clipboardData.getData("Text")==Kb){bb.preventDefault();return}}var ac=Th();bb=ac.firstChild;Ma.display.lineSpace.insertBefore(ac,Ma.display.lineSpace.firstChild);bb.value=Yg.text.join("\n");var Qc=document.activeElement;vg(bb);setTimeout(function(){Ma.display.lineSpace.removeChild(ac);Qc.focus();Qc==Ya&&ia.showPrimarySelection()},50)}}var T=this,ia=this,Ma=ia.cm,Ya=ia.div=b.lineDiv;vi(Ya,Ma.options.spellcheck,Ma.options.autocorrect,
Ma.options.autocapitalize);Se(Ya,"paste",function(bb){!r(bb)||Q(Ma,bb)||eg(bb,Ma)||11>=Wf&&setTimeout(id(Ma,function(){return T.updateFromDOM()}),20)});Se(Ya,"compositionstart",function(bb){T.composing={data:bb.data,done:!1}});Se(Ya,"compositionupdate",function(bb){T.composing||(T.composing={data:bb.data,done:!1})});Se(Ya,"compositionend",function(bb){T.composing&&(bb.data!=T.composing.data&&T.readFromDOMSoon(),T.composing.done=!0)});Se(Ya,"touchstart",function(){return ia.forceCompositionEnd()});
Se(Ya,"input",function(){T.composing||T.readFromDOMSoon()});Se(Ya,"copy",W);Se(Ya,"cut",W)};dg.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};dg.prototype.prepareSelection=function(){var b=Wb(this.cm,!1);b.focus=document.activeElement==this.div;return b};dg.prototype.showSelection=function(b,r){b&&this.cm.display.view.length&&((b.focus||r)&&this.showPrimarySelection(),this.showMultipleSelections(b))};dg.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};dg.prototype.showPrimarySelection=function(){var b=this.getSelection(),r=this.cm,W=r.doc.sel.primary(),T=W.from();W=W.to();if(r.display.viewTo==r.display.viewFrom||T.line>=r.display.viewTo||W.line<r.display.viewFrom)b.removeAllRanges();else{var ia=$g(r,b.anchorNode,b.anchorOffset),Ma=$g(r,b.focusNode,b.focusOffset);if(!ia||ia.bad||!Ma||Ma.bad||0!=Ba(Ua(ia,Ma),T)||0!=Ba(Ia(ia,Ma),W))if(ia=r.display.view,T=T.line>=r.display.viewFrom&&
ak(r,T)||{node:ia[0].measure.map[2],offset:0},W=W.line<r.display.viewTo&&ak(r,W),W||(W=ia[ia.length-1].measure,W=W.maps?W.maps[W.maps.length-1]:W.map,W={node:W[W.length-1],offset:W[W.length-2]-W[W.length-3]}),T&&W){ia=b.rangeCount&&b.getRangeAt(0);try{var Ya=hi(T.node,T.offset,W.offset,W.node)}catch(bb){}Ya&&(!vh&&r.state.focused?(b.collapse(T.node,T.offset),Ya.collapsed||(b.removeAllRanges(),b.addRange(Ya))):(b.removeAllRanges(),b.addRange(Ya)),ia&&null==b.anchorNode?b.addRange(ia):vh&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};dg.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};dg.prototype.showMultipleSelections=function(b){n(this.cm.display.cursorDiv,b.cursors);n(this.cm.display.selectionDiv,b.selection)};dg.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};dg.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return x(this.div,b)};dg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};dg.prototype.blur=function(){this.div.blur()};
dg.prototype.getField=function(){return this.div};dg.prototype.supportsTouch=function(){return!0};dg.prototype.receivedFocus=function(){function b(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,b))}var r=this;this.selectionInEditor()?this.pollSelection():lc(this.cm,function(){return r.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};dg.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};dg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),r=this.cm;if(yg&&xi&&this.cm.display.gutterSpecs.length&&Zj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var W=$g(r,b.anchorNode,b.anchorOffset),
T=$g(r,b.focusNode,b.focusOffset);W&&T&&lc(r,function(){Wa(r.doc,Oa(W,T),wh);if(W.bad||T.bad)r.curOp.selectionChanged=!0})}}};dg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,r=b.display,W=b.doc.sel.primary(),T=W.from(),ia=W.to();0==T.ch&&T.line>b.firstLine()&&(T=ab(T.line-1,ca(b.doc,T.line-1).length));ia.ch==ca(b.doc,ia.line).text.length&&ia.line<b.lastLine()&&(ia=ab(ia.line+1,0));if(T.line<r.viewFrom||ia.line>
r.viewTo-1)return!1;var Ma;T.line==r.viewFrom||0==(Ma=Ae(b,T.line))?(W=Ha(r.view[0].line),Ma=r.view[0].node):(W=Ha(r.view[Ma].line),Ma=r.view[Ma-1].node.nextSibling);var Ya=Ae(b,ia.line);Ya==r.view.length-1?(ia=r.viewTo-1,r=r.lineDiv.lastChild):(ia=Ha(r.view[Ya+1].line)-1,r=r.view[Ya+1].node.previousSibling);if(!Ma)return!1;r=b.doc.splitLines(Rj(b,Ma,r,W,ia));for(Ma=ea(b.doc,ab(W,0),ab(ia,ca(b.doc,ia).text.length));1<r.length&&1<Ma.length;)if(A(r)==A(Ma))r.pop(),Ma.pop(),ia--;else if(r[0]==Ma[0])r.shift(),
Ma.shift(),W++;else break;var bb=0;Ya=0;for(var tb=r[0],Kb=Ma[0],ac=Math.min(tb.length,Kb.length);bb<ac&&tb.charCodeAt(bb)==Kb.charCodeAt(bb);)++bb;tb=A(r);Kb=A(Ma);for(ac=Math.min(tb.length-(1==r.length?bb:0),Kb.length-(1==Ma.length?bb:0));Ya<ac&&tb.charCodeAt(tb.length-Ya-1)==Kb.charCodeAt(Kb.length-Ya-1);)++Ya;if(1==r.length&&1==Ma.length&&W==T.line)for(;bb&&bb>T.ch&&tb.charCodeAt(tb.length-Ya-1)==Kb.charCodeAt(Kb.length-Ya-1);)bb--,Ya++;r[r.length-1]=tb.slice(0,tb.length-Ya).replace(/^\u200b+/,
"");r[0]=r[0].slice(bb).replace(/\u200b+$/,"");T=ab(W,bb);W=ab(ia,Ma.length?A(Ma).length-Ya:0);if(1<r.length||r[0]||Ba(T,W))return Oc(b.doc,r,T,W,"+input"),!0};dg.prototype.ensurePolled=function(){this.forceCompositionEnd()};dg.prototype.reset=function(){this.forceCompositionEnd()};dg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};dg.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};dg.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||lc(this.cm,function(){return xc(b.cm)})};dg.prototype.setUneditable=function(b){b.contentEditable="false"};dg.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||id(this.cm,Ui)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};dg.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};dg.prototype.onContextMenu=function(){};dg.prototype.resetPosition=function(){};dg.prototype.needsContentAttribute=!0;var og=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new Ef;this.hasSelection=!1;this.composing=null};og.prototype.init=function(b){function r(Ya){if(!Q(ia,Ya)){if(ia.somethingSelected())Yg={lineWise:!1,
text:ia.getSelections()};else if(ia.options.lineWiseCopyCut){var bb=ah(ia);Yg={lineWise:!0,text:bb.text};"cut"==Ya.type?ia.setSelections(bb.ranges,null,wh):(T.prevInput="",Ma.value=bb.text.join("\n"),vg(Ma))}else return;"cut"==Ya.type&&(ia.state.cutIncoming=+new Date)}}var W=this,T=this,ia=this.cm;this.createField(b);var Ma=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);Si&&(Ma.style.width="0px");Se(Ma,"input",function(){vf&&9<=Wf&&W.hasSelection&&(W.hasSelection=null);T.poll()});
Se(Ma,"paste",function(Ya){Q(ia,Ya)||eg(Ya,ia)||(ia.state.pasteIncoming=+new Date,T.fastPoll())});Se(Ma,"cut",r);Se(Ma,"copy",r);Se(b.scroller,"paste",function(Ya){if(!Ed(b,Ya)&&!Q(ia,Ya))if(Ma.dispatchEvent){var bb=new Event("paste");bb.clipboardData=Ya.clipboardData;Ma.dispatchEvent(bb)}else ia.state.pasteIncoming=+new Date,T.focus()});Se(b.lineSpace,"selectstart",function(Ya){Ed(b,Ya)||aa(Ya)});Se(Ma,"compositionstart",function(){var Ya=ia.getCursor("from");T.composing&&T.composing.range.clear();
T.composing={start:Ya,range:ia.markText(Ya,ia.getCursor("to"),{className:"CodeMirror-composing"})}});Se(Ma,"compositionend",function(){T.composing&&(T.poll(),T.composing.range.clear(),T.composing=null)})};og.prototype.createField=function(b){this.wrapper=Th();this.textarea=this.wrapper.firstChild};og.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};og.prototype.prepareSelection=function(){var b=this.cm,r=b.display,
W=b.doc,T=Wb(b);if(b.options.moveInputWithCursor){b=we(b,W.sel.primary().head,"div");W=r.wrapper.getBoundingClientRect();var ia=r.lineDiv.getBoundingClientRect();T.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,b.top+ia.top-W.top));T.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,b.left+ia.left-W.left))}return T};og.prototype.showSelection=function(b){var r=this.cm.display;n(r.cursorDiv,b.cursors);n(r.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};og.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var r=this.cm;r.somethingSelected()?(this.prevInput="",b=r.getSelection(),this.textarea.value=b,r.state.focused&&vg(this.textarea),vf&&9<=Wf&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",vf&&9<=Wf&&(this.hasSelection=null))}};og.prototype.getField=function(){return this.textarea};og.prototype.supportsTouch=function(){return!1};og.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!Gg||y()!=this.textarea))try{this.textarea.focus()}catch(b){}};og.prototype.blur=function(){this.textarea.blur()};og.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};og.prototype.receivedFocus=function(){this.slowPoll()};og.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};og.prototype.fastPoll=function(){function b(){W.poll()||r?(W.pollingFast=!1,W.slowPoll()):
(r=!0,W.polling.set(60,b))}var r=!1,W=this;W.pollingFast=!0;W.polling.set(20,b)};og.prototype.poll=function(){var b=this,r=this.cm,W=this.textarea,T=this.prevInput;if(this.contextMenuPending||!r.state.focused||Nh(W)&&!T&&!this.composing||r.isReadOnly()||r.options.disableInput||r.state.keySeq)return!1;var ia=W.value;if(ia==T&&!r.somethingSelected())return!1;if(vf&&9<=Wf&&this.hasSelection===ia||Wg&&/[\uf700-\uf7ff]/.test(ia))return r.display.input.reset(),!1;if(r.doc.sel==r.display.selForContextMenu){var Ma=
ia.charCodeAt(0);8203!=Ma||T||(T="");if(8666==Ma)return this.reset(),this.cm.execCommand("undo")}var Ya=0;for(Ma=Math.min(T.length,ia.length);Ya<Ma&&T.charCodeAt(Ya)==ia.charCodeAt(Ya);)++Ya;lc(r,function(){Ui(r,ia.slice(Ya),T.length-Ya,null,b.composing?"*compose":null);1E3<ia.length||-1<ia.indexOf("\n")?W.value=b.prevInput="":b.prevInput=ia;b.composing&&(b.composing.range.clear(),b.composing.range=r.markText(b.composing.start,r.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};og.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};og.prototype.onKeyPress=function(){vf&&9<=Wf&&(this.hasSelection=null);this.fastPoll()};og.prototype.onContextMenu=function(b){function r(){if(null!=Ya.selectionStart){var wc=ia.somethingSelected(),td=""+(wc?Ya.value:"");Ya.value="";Ya.value=td;T.prevInput=wc?"":"";Ya.selectionStart=1;Ya.selectionEnd=td.length;Ma.selForContextMenu=ia.doc.sel}}function W(){if(T.contextMenuPending==W&&(T.contextMenuPending=!1,T.wrapper.style.cssText=
ac,Ya.style.cssText=Kb,vf&&9>Wf&&Ma.scrollbars.setScrollTop(Ma.scroller.scrollTop=tb),null!=Ya.selectionStart)){(!vf||vf&&9>Wf)&&r();var wc=0,td=function(){Ma.selForContextMenu==ia.doc.sel&&0==Ya.selectionStart&&0<Ya.selectionEnd&&""==T.prevInput?id(ia,ma)(ia):10>wc++?Ma.detectingSelectAll=setTimeout(td,500):(Ma.selForContextMenu=null,Ma.input.reset())};Ma.detectingSelectAll=setTimeout(td,200)}}var T=this,ia=T.cm,Ma=ia.display,Ya=T.textarea;T.contextMenuPending&&T.contextMenuPending();var bb=Jf(ia,
b),tb=Ma.scroller.scrollTop;if(bb&&!Xg){ia.options.resetSelectionOnContextMenu&&-1==ia.doc.sel.contains(bb)&&id(ia,Wa)(ia.doc,Oa(bb),wh);var Kb=Ya.style.cssText,ac=T.wrapper.style.cssText;bb=T.wrapper.offsetParent.getBoundingClientRect();T.wrapper.style.cssText="position: static";Ya.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-bb.top-5)+"px; left: "+(b.clientX-bb.left-5)+"px;\n      z-index: 1000; background: "+(vf?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(sg)var Qc=window.scrollY;Ma.input.focus();sg&&window.scrollTo(null,Qc);Ma.input.reset();ia.somethingSelected()||(Ya.value=T.prevInput=" ");T.contextMenuPending=W;Ma.selForContextMenu=ia.doc.sel;clearTimeout(Ma.detectingSelectAll);vf&&9<=Wf&&r();if(gi){Ea(b);var rc=function(){ja(window,"mouseup",rc);setTimeout(W,20)};Se(window,"mouseup",rc)}else setTimeout(W,50)}};og.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};og.prototype.setUneditable=function(){};og.prototype.needsContentAttribute=!1;(function(b){function r(T,ia,Ma,Ya){b.defaults[T]=ia;Ma&&(W[T]=Ya?function(bb,tb,Kb){Kb!=qi&&Ma(bb,tb,Kb)}:Ma)}var W=b.optionHandlers;b.defineOption=r;b.Init=qi;r("value","",function(T,ia){return T.setValue(ia)},!0);r("mode",null,function(T,ia){T.doc.modeOption=ia;Eb(T)},!0);r("indentUnit",2,Eb,!0);r("indentWithTabs",!1);r("smartIndent",
!0);r("tabSize",4,function(T){zb(T);of(T);xc(T)},!0);r("lineSeparator",null,function(T,ia){if(T.doc.lineSep=ia){var Ma=[],Ya=T.doc.first;T.doc.iter(function(tb){for(var Kb=0;;){var ac=tb.text.indexOf(ia,Kb);if(-1==ac)break;Kb=ac+ia.length;Ma.push(ab(Ya,ac))}Ya++});for(var bb=Ma.length-1;0<=bb;bb--)Oc(T.doc,ia,Ma[bb],ab(Ma[bb].line,Ma[bb].ch+ia.length))}});r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(T,ia,Ma){T.state.specialChars=
new RegExp(ia.source+(ia.test("\t")?"":"|\t"),"g");Ma!=qi&&T.refresh()});r("specialCharPlaceholder",ic,function(T){return T.refresh()},!0);r("electricChars",!0);r("inputStyle",Gg?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);r("spellcheck",!1,function(T,ia){return T.getInputField().spellcheck=ia},!0);r("autocorrect",!1,function(T,ia){return T.getInputField().autocorrect=ia},!0);r("autocapitalize",!1,function(T,ia){return T.getInputField().autocapitalize=
ia},!0);r("rtlMoveVisually",!pj);r("wholeLineUpdateBefore",!0);r("theme","default",function(T){Pj(T);Bf(T)},!0);r("keyMap","default",function(T,ia,Ma){ia=Zf(ia);(Ma=Ma!=qi&&Zf(Ma))&&Ma.detach&&Ma.detach(T,ia);ia.attach&&ia.attach(T,Ma||null)});r("extraKeys",null);r("configureMouse",null);r("lineWrapping",!1,ui,!0);r("gutters",[],function(T,ia){T.display.gutterSpecs=Te(ia,T.options.lineNumbers);Bf(T)},!0);r("fixedGutter",!0,function(T,ia){T.display.gutters.style.left=ia?Hf(T.display)+"px":"0";T.refresh()},
!0);r("coverGutterNextToScrollbar",!1,function(T){return Ka(T)},!0);r("scrollbarStyle","native",function(T){Xb(T);Ka(T);T.display.scrollbars.setScrollTop(T.doc.scrollTop);T.display.scrollbars.setScrollLeft(T.doc.scrollLeft)},!0);r("lineNumbers",!1,function(T,ia){T.display.gutterSpecs=Te(T.options.gutters,ia);Bf(T)},!0);r("firstLineNumber",1,Bf,!0);r("lineNumberFormatter",function(T){return T},Bf,!0);r("showCursorWhenSelecting",!1,ub,!0);r("resetSelectionOnContextMenu",!0);r("lineWiseCopyCut",!0);
r("pasteLinesPerSelection",!0);r("selectionsMayTouch",!1);r("readOnly",!1,function(T,ia){"nocursor"==ia&&(od(T),T.display.input.blur());T.display.input.readOnlyChanged(ia)});r("screenReaderLabel",null,function(T,ia){T.display.input.screenReaderLabelChanged(""===ia?null:ia)});r("disableInput",!1,function(T,ia){ia||T.display.input.reset()},!0);r("dragDrop",!0,Qj);r("allowDropFileTypes",null);r("cursorBlinkRate",530);r("cursorScrollMargin",0);r("cursorHeight",1,ub,!0);r("singleCursorHeightPerLine",!0,
ub,!0);r("workTime",100);r("workDelay",100);r("flattenSpans",!0,zb,!0);r("addModeClass",!1,zb,!0);r("pollInterval",100);r("undoDepth",200,function(T,ia){return T.doc.history.undoDepth=ia});r("historyEventDelay",1250);r("viewportMargin",10,function(T){return T.refresh()},!0);r("maxHighlightLength",1E4,zb,!0);r("moveInputWithCursor",!0,function(T,ia){ia||T.display.input.resetPosition()});r("tabindex",null,function(T,ia){return T.display.input.getField().tabIndex=ia||""});r("autofocus",null);r("direction",
"ltr",function(T,ia){return T.doc.setDirection(ia)},!0);r("phrases",null)})(mg);(function(b){var r=b.optionHandlers,W=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(T,ia){var Ma=this.options,Ya=Ma[T];if(Ma[T]!=ia||"mode"==T)Ma[T]=ia,r.hasOwnProperty(T)&&id(this,r[T])(this,ia,Ya),Z(this,"optionChange",this,T)},getOption:function(T){return this.options[T]},getDoc:function(){return this.doc},addKeyMap:function(T,ia){this.state.keyMaps[ia?
"push":"unshift"](Zf(T))},removeKeyMap:function(T){for(var ia=this.state.keyMaps,Ma=0;Ma<ia.length;++Ma)if(ia[Ma]==T||ia[Ma].name==T)return ia.splice(Ma,1),!0},addOverlay:Sc(function(T,ia){var Ma=T.token?T:b.getMode(this.options,T);if(Ma.startState)throw Error("Overlays may not be stateful.");D(this.state.overlays,{mode:Ma,modeSpec:T,opaque:ia&&ia.opaque,priority:ia&&ia.priority||0},function(Ya){return Ya.priority});this.state.modeGen++;xc(this)}),removeOverlay:Sc(function(T){for(var ia=this.state.overlays,
Ma=0;Ma<ia.length;++Ma){var Ya=ia[Ma].modeSpec;if(Ya==T||"string"==typeof T&&Ya.name==T){ia.splice(Ma,1);this.state.modeGen++;xc(this);break}}}),indentLine:Sc(function(T,ia,Ma){"string"!=typeof ia&&"number"!=typeof ia&&(ia=null==ia?this.options.smartIndent?"smart":"prev":ia?"add":"subtract");Pa(this.doc,T)&&ph(this,T,ia,Ma)}),indentSelection:Sc(function(T){for(var ia=this.doc.sel.ranges,Ma=-1,Ya=0;Ya<ia.length;Ya++){var bb=ia[Ya];if(bb.empty())bb.head.line>Ma&&(ph(this,bb.head.line,T,!0),Ma=bb.head.line,
Ya==this.doc.sel.primIndex&&Ve(this));else{var tb=bb.from();bb=bb.to();var Kb=Math.max(Ma,tb.line);Ma=Math.min(this.lastLine(),bb.line-(bb.ch?0:1))+1;for(bb=Kb;bb<Ma;++bb)ph(this,bb,T);bb=this.doc.sel.ranges;0==tb.ch&&ia.length==bb.length&&0<bb[Ya].from().ch&&Bd(this.doc,Ya,new Pf(tb,bb[Ya].to()),wh)}}}),getTokenAt:function(T,ia){return dc(this,T,ia)},getLineTokens:function(T,ia){return dc(this,ab(T),ia,!0)},getTokenTypeAt:function(T){T=eb(this.doc,T);var ia=kc(this,ca(this.doc,T.line)),Ma=0,Ya=(ia.length-
1)/2;T=T.ch;if(0==T)ia=ia[2];else for(;;){var bb=Ma+Ya>>1;if((bb?ia[2*bb-1]:0)>=T)Ya=bb;else if(ia[2*bb+1]<T)Ma=bb+1;else{ia=ia[2*bb+2];break}}Ma=ia?ia.indexOf("overlay "):-1;return 0>Ma?ia:0==Ma?null:ia.slice(0,Ma-1)},getModeAt:function(T){var ia=this.doc.mode;return ia.innerMode?b.innerMode(ia,this.getTokenAt(T).state).mode:ia},getHelper:function(T,ia){return this.getHelpers(T,ia)[0]},getHelpers:function(T,ia){var Ma=[];if(!W.hasOwnProperty(ia))return Ma;var Ya=W[ia];T=this.getModeAt(T);if("string"==
typeof T[ia])Ya[T[ia]]&&Ma.push(Ya[T[ia]]);else if(T[ia])for(var bb=0;bb<T[ia].length;bb++){var tb=Ya[T[ia][bb]];tb&&Ma.push(tb)}else T.helperType&&Ya[T.helperType]?Ma.push(Ya[T.helperType]):Ya[T.name]&&Ma.push(Ya[T.name]);for(ia=0;ia<Ya._global.length;ia++)bb=Ya._global[ia],bb.pred(T,this)&&-1==a(Ma,bb.val)&&Ma.push(bb.val);return Ma},getStateAfter:function(T,ia){var Ma=this.doc;T=Math.max(Ma.first,Math.min(null==T?Ma.first+Ma.size-1:T,Ma.first+Ma.size-1));return bd(this,T+1,ia).state},cursorCoords:function(T,
ia){var Ma=this.doc.sel.primary();T=null==T?Ma.head:"object"==typeof T?eb(this.doc,T):T?Ma.from():Ma.to();return we(this,T,ia||"page")},charCoords:function(T,ia){return Zd(this,eb(this.doc,T),ia||"page")},coordsChar:function(T,ia){T=Td(this,T,ia||"page");return Qd(this,T.left,T.top)},lineAtHeight:function(T,ia){T=Td(this,{top:T,left:0},ia||"page").top;return na(this.doc,T+this.display.viewOffset)},heightAtLine:function(T,ia,Ma){var Ya=!1;if("number"==typeof T){var bb=this.doc.first+this.doc.size-
1;T<this.doc.first?T=this.doc.first:T>bb&&(T=bb,Ya=!0);T=ca(this.doc,T)}return Ge(this,T,{top:0,left:0},ia||"page",Ma||Ya).top+(Ya?this.doc.height-La(T):0)},defaultTextHeight:function(){return De(this.display)},defaultCharWidth:function(){return re(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(T,ia,Ma,Ya,bb){var tb=this.display;T=we(this,eb(this.doc,T));var Kb=T.bottom,ac=T.left;ia.style.position="absolute";ia.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(ia);tb.sizer.appendChild(ia);if("over"==Ya)Kb=T.top;else if("above"==Ya||"near"==Ya){var Qc=Math.max(tb.wrapper.clientHeight,this.doc.height),rc=Math.max(tb.sizer.clientWidth,tb.lineSpace.clientWidth);("above"==Ya||T.bottom+ia.offsetHeight>Qc)&&T.top>ia.offsetHeight?Kb=T.top-ia.offsetHeight:T.bottom+ia.offsetHeight<=Qc&&(Kb=T.bottom);ac+ia.offsetWidth>rc&&(ac=rc-ia.offsetWidth)}ia.style.top=Kb+"px";ia.style.left=ia.style.right="";"right"==bb?(ac=tb.sizer.clientWidth-
ia.offsetWidth,ia.style.right="0px"):("left"==bb?ac=0:"middle"==bb&&(ac=(tb.sizer.clientWidth-ia.offsetWidth)/2),ia.style.left=ac+"px");Ma&&(T=bf(this,{left:ac,top:Kb,right:ac+ia.offsetWidth,bottom:Kb+ia.offsetHeight}),null!=T.scrollTop&&tf(this,T.scrollTop),null!=T.scrollLeft&&Nf(this,T.scrollLeft))},triggerOnKeyDown:Sc($h),triggerOnKeyPress:Sc($i),triggerOnKeyUp:th,triggerOnMouseDown:Sc(oj),execCommand:function(T){if(ej.hasOwnProperty(T))return ej[T].call(null,this)},triggerElectric:Sc(function(T){Cg(this,
T)}),findPosH:function(T,ia,Ma,Ya){var bb=1;0>ia&&(bb=-1,ia=-ia);T=eb(this.doc,T);for(var tb=0;tb<ia&&(T=bk(this.doc,T,bb,Ma,Ya),!T.hitSide);++tb);return T},moveH:Sc(function(T,ia){var Ma=this;this.extendSelectionsBy(function(Ya){return Ma.display.shift||Ma.doc.extend||Ya.empty()?bk(Ma.doc,Ya.head,T,ia,Ma.options.rtlMoveVisually):0>T?Ya.from():Ya.to()},Lh)}),deleteH:Sc(function(T,ia){var Ma=this.doc;this.doc.sel.somethingSelected()?Ma.replaceSelection("",null,"+delete"):Ug(this,function(Ya){var bb=
bk(Ma,Ya.head,T,ia,!1);return 0>T?{from:bb,to:Ya.head}:{from:Ya.head,to:bb}})}),findPosV:function(T,ia,Ma,Ya){var bb=1;0>ia&&(bb=-1,ia=-ia);var tb=eb(this.doc,T);for(T=0;T<ia&&(tb=we(this,tb,"div"),null==Ya?Ya=tb.left:tb.left=Ya,tb=hj(this,tb,bb,Ma),!tb.hitSide);++T);return tb},moveV:Sc(function(T,ia){var Ma=this,Ya=this.doc,bb=[],tb=!this.display.shift&&!Ya.extend&&Ya.sel.somethingSelected();Ya.extendSelectionsBy(function(ac){if(tb)return 0>T?ac.from():ac.to();var Qc=we(Ma,ac.head,"div");null!=ac.goalColumn&&
(Qc.left=ac.goalColumn);bb.push(Qc.left);var rc=hj(Ma,Qc,T,ia);"page"==ia&&ac==Ya.sel.primary()&&ee(Ma,Zd(Ma,rc,"div").top-Qc.top);return rc},Lh);if(bb.length)for(var Kb=0;Kb<Ya.sel.ranges.length;Kb++)Ya.sel.ranges[Kb].goalColumn=bb[Kb]}),findWordAt:function(T){var ia=ca(this.doc,T.line).text,Ma=T.ch,Ya=T.ch;if(ia){var bb=this.getHelper(T,"wordChars");"before"!=T.sticky&&Ya!=ia.length||!Ma?++Ya:--Ma;var tb=ia.charAt(Ma);for(tb=z(tb,bb)?function(Kb){return z(Kb,bb)}:/\s/.test(tb)?function(Kb){return/\s/.test(Kb)}:
function(Kb){return!/\s/.test(Kb)&&!z(Kb)};0<Ma&&tb(ia.charAt(Ma-1));)--Ma;for(;Ya<ia.length&&tb(ia.charAt(Ya));)++Ya}return new Pf(ab(T.line,Ma),ab(T.line,Ya))},toggleOverwrite:function(T){if(null==T||T!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?v(this.display.cursorDiv,"CodeMirror-overwrite"):Df(this.display.cursorDiv,"CodeMirror-overwrite"),Z(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==y()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Sc(function(T,ia){ce(this,T,ia)}),getScrollInfo:function(){var T=this.display.scroller;return{left:T.scrollLeft,top:T.scrollTop,height:T.scrollHeight-ae(this)-this.display.barHeight,width:T.scrollWidth-ae(this)-this.display.barWidth,clientHeight:me(this),clientWidth:Ce(this)}},scrollIntoView:Sc(function(T,ia){null==T?(T={from:this.doc.sel.primary().head,to:null},null==ia&&(ia=this.options.cursorScrollMargin)):"number"==typeof T?T={from:ab(T,0),to:null}:null==T.from&&
(T={from:T,to:null});T.to||(T.to=T.from);T.margin=ia||0;null!=T.from.line?(Xe(this),this.curOp.scrollToPos=T):zf(this,T.from,T.to,T.margin)}),setSize:Sc(function(T,ia){var Ma=this,Ya=function(tb){return"number"==typeof tb||/^\d+$/.test(String(tb))?tb+"px":tb};null!=T&&(this.display.wrapper.style.width=Ya(T));null!=ia&&(this.display.wrapper.style.height=Ya(ia));this.options.lineWrapping&&Ue(this);var bb=this.display.viewFrom;this.doc.iter(bb,this.display.viewTo,function(tb){if(tb.widgets)for(var Kb=
0;Kb<tb.widgets.length;Kb++)if(tb.widgets[Kb].noHScroll){ya(Ma,bb,"widget");break}++bb});this.curOp.forceUpdate=!0;Z(this,"refresh",this)}),operation:function(T){return lc(this,T)},startOperation:function(){return Sb(this)},endOperation:function(){return hc(this)},refresh:Sc(function(){var T=this.display.cachedTextHeight;xc(this);this.curOp.forceUpdate=!0;of(this);ce(this,this.doc.scrollLeft,this.doc.scrollTop);He(this.display);(null==T||.5<Math.abs(T-De(this.display))||this.options.lineWrapping)&&
Qf(this);Z(this,"refresh",this)}),swapDoc:Sc(function(T){var ia=this.doc;ia.cm=null;this.state.selectingText&&this.state.selectingText();sc(this,T);of(this);this.display.input.reset();ce(this,T.scrollLeft,T.scrollTop);this.curOp.forceScroll=!0;zc(this,"swapDoc",this,ia);return ia}),phrase:function(T){var ia=this.options.phrases;return ia&&Object.prototype.hasOwnProperty.call(ia,T)?ia[T]:T},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};da(b);b.registerHelper=function(T,ia,Ma){W.hasOwnProperty(T)||(W[T]=b[T]={_global:[]});W[T][ia]=Ma};b.registerGlobalHelper=function(T,ia,Ma,Ya){b.registerHelper(T,ia,Ya);W[T]._global.push({pred:Ma,val:Ya})}})(mg);var jl="iter insert remove copy getEditor constructor".split(" "),mj;for(mj in Eg.prototype)Eg.prototype.hasOwnProperty(mj)&&0>a(jl,mj)&&(mg.prototype[mj]=function(b){return function(){return b.apply(this.doc,
arguments)}}(Eg.prototype[mj]));da(Eg);mg.inputStyles={textarea:og,contenteditable:dg};mg.defineMode=function(b){mg.defaults.mode||"null"==b||(mg.defaults.mode=b);ta.apply(this,arguments)};mg.defineMIME=function(b,r){oi[b]=r};mg.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});mg.defineMIME("text/plain","null");mg.defineExtension=function(b,r){mg.prototype[b]=r};mg.defineDocExtension=function(b,r){Eg.prototype[b]=r};mg.fromTextArea=function(b,r){function W(){b.value=
bb.getValue()}r=r?d(r):{};r.value=b.value;!r.tabindex&&b.tabIndex&&(r.tabindex=b.tabIndex);!r.placeholder&&b.placeholder&&(r.placeholder=b.placeholder);if(null==r.autofocus){var T=y();r.autofocus=T==b||null!=b.getAttribute("autofocus")&&T==document.body}if(b.form&&(Se(b.form,"submit",W),!r.leaveSubmitMethodAlone)){var ia=b.form;var Ma=ia.submit;try{var Ya=ia.submit=function(){W();ia.submit=Ma;ia.submit();ia.submit=Ya}}catch(tb){}}r.finishInit=function(tb){tb.save=W;tb.getTextArea=function(){return b};
tb.toTextArea=function(){tb.toTextArea=isNaN;W();b.parentNode.removeChild(tb.getWrapperElement());b.style.display="";b.form&&(ja(b.form,"submit",W),r.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=Ma))}};b.style.display="none";var bb=mg(function(tb){return b.parentNode.insertBefore(tb,b.nextSibling)},r);return bb};(function(b){b.off=ja;b.on=Se;b.wheelEventPixels=jg;b.Doc=Eg;b.splitLines=Mh;b.countColumn=f;b.findColumn=e;b.isWordChar=G;b.Pass=Kh;b.signal=Z;b.Line=li;b.changeEnd=
Sa;b.scrollbarModel=Ck;b.Pos=ab;b.cmpPos=Ba;b.modes=Ai;b.mimeModes=oi;b.resolveMode=Ta;b.getMode=Xa;b.modeExtensions=xh;b.extendMode=Fa;b.copyState=va;b.startState=X;b.innerMode=V;b.commands=ej;b.keyMap=lj;b.keyName=Uf;b.isModifierKey=xf;b.lookupKey=Cf;b.normalizeKeyMap=jf;b.StringStream=tg;b.SharedTextMarker=di;b.TextMarker=Hh;b.LineWidget=Uh;b.e_preventDefault=aa;b.e_stopPropagation=wa;b.e_stop=Ea;b.addClass=v;b.contains=x;b.rmClass=Df;b.keyNames=Yh})(mg);mg.version="5.59.4";return mg})};
shadow$provide[68]=function(Ja,B,qb,F){(function(g){"object"===typeof F&&"object"===typeof qb?g(B(67)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.defineMode("clojure",function(m){function n(P,L){if(P.eatSpace()||P.eat(","))return["space",null];if(P.match(A))return[null,"number"];if(P.match(C))return[null,"string-2"];if(P.eat(/^"/))return(L.tokenize=E)(P,L);if(P.eat(/^[(\[{]/))return["open","bracket"];if(P.eat(/^[)\]}]/))return["close","bracket"];
if(P.eat(/^;/))return P.skipToEnd(),["space","comment"];if(P.eat(/^[#'@^`~]/))return[null,"meta"];var G=P.match(D);G=G&&G[0];return G?"comment"===G&&"("===L.lastToken?(L.tokenize=O)(P,L):y(G,d)||":"===G.charAt(0)?["symbol","atom"]:y(G,f)||y(G,a)?["symbol","keyword"]:"("===L.lastToken?["symbol","builtin"]:["symbol","variable"]:(P.next(),P.eatWhile(function(z){return!y(z,p)}),[null,"error"])}function E(P,L){for(var G=!1,z;z=P.next();){if('"'===z&&!G){L.tokenize=n;break}G=!G&&"\\"===z}return[null,"string"]}
function O(P,L){for(var G=1,z;z=P.next();)if(")"===z&&G--,"("===z&&G++,0===G){P.backUp(1);L.tokenize=n;break}return["space","comment"]}function x(P){for(var L={},G=0;G<P.length;++G)L[P[G]]=!0;return L}function y(P,L){if(L instanceof RegExp)return L.test(P);if(L instanceof Object)return L.propertyIsEnumerable(P)}var v=["false","nil","true"],l=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),k="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
g.registerHelper("hintWords","clojure",[].concat(v,l,k));var d=x(v),f=x(l),a=x(k),e=x("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
p=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,A=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,C=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,D=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:n}},token:function(P,L){P.sol()&&"number"!==typeof L.ctx.indentTo&&(L.ctx.indentTo=L.ctx.start+1);var G=L.tokenize(P,L),z=G[0];G=G[1];var K=P.current();"space"!==z&&("("===L.lastToken&&null===L.ctx.indentTo?"symbol"===z&&y(K,e)?L.ctx.indentTo=L.ctx.start+m.indentUnit:L.ctx.indentTo="next":"next"===L.ctx.indentTo&&(L.ctx.indentTo=P.column()),L.lastToken=K);"open"===z?L.ctx={prev:L.ctx,start:P.column(),indentTo:null}:
"close"===z&&(L.ctx=L.ctx.prev||L.ctx);return G},indent:function(P){var L=P.ctx.indentTo;return"number"===typeof L?L:P.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});g.defineMIME("text/x-clojure","clojure");g.defineMIME("text/x-clojurescript","clojure");g.defineMIME("application/edn","clojure")})};
shadow$provide[69]=function(Ja,B,qb,F){(function(g){"object"==typeof F&&"object"==typeof qb?g(B(67)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){var m={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};g.defineMode("xml",function(E,O){function x(ba,fa){function ja(Q){fa.tokenize=Q;return Q(ba,fa)}var Z=ba.next();if("\x3c"==Z){if(ba.eat("!"))return ba.eat("[")?ba.match("CDATA[")?ja(l("atom","]]\x3e")):null:ba.match("--")?ja(l("comment","--\x3e")):ba.match("DOCTYPE",!0,!0)?(ba.eatWhile(/[\w\._\-]/),ja(k(1))):null;if(ba.eat("?"))return ba.eatWhile(/[\w\._\-]/),
fa.tokenize=l("meta","?\x3e"),"meta";U=ba.eat("/")?"closeTag":"openTag";fa.tokenize=y;return"tag bracket"}if("\x26"==Z)return(ba.eat("#")?ba.eat("x")?ba.eatWhile(/[a-fA-F\d]/)&&ba.eat(";"):ba.eatWhile(/[\d]/)&&ba.eat(";"):ba.eatWhile(/[\w\.\-:]/)&&ba.eat(";"))?"atom":"error";ba.eatWhile(/[^&<]/);return null}function y(ba,fa){var ja=ba.next();if("\x3e"==ja||"/"==ja&&ba.eat("\x3e"))return fa.tokenize=x,U="\x3e"==ja?"endTag":"selfcloseTag","tag bracket";if("\x3d"==ja)return U="equals",null;if("\x3c"==
ja)return fa.tokenize=x,fa.state=e,fa.tagName=fa.tagStart=null,(ba=fa.tokenize(ba,fa))?ba+" tag error":"tag error";if(/['"]/.test(ja))return fa.tokenize=v(ja),fa.stringStartCol=ba.column(),fa.tokenize(ba,fa);ba.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function v(ba){var fa=function(ja,Z){for(;!ja.eol();)if(ja.next()==ba){Z.tokenize=y;break}return"string"};fa.isInAttribute=!0;return fa}function l(ba,fa){return function(ja,Z){for(;!ja.eol();){if(ja.match(fa)){Z.tokenize=x;break}ja.next()}return ba}}
function k(ba){return function(fa,ja){for(var Z;null!=(Z=fa.next());){if("\x3c"==Z)return ja.tokenize=k(ba+1),ja.tokenize(fa,ja);if("\x3e"==Z)if(1==ba){ja.tokenize=x;break}else return ja.tokenize=k(ba-1),ja.tokenize(fa,ja)}return"meta"}}function d(ba,fa,ja){this.prev=ba.context;this.tagName=fa||"";this.indent=ba.indented;this.startOfLine=ja;if(H.doNotIndent.hasOwnProperty(fa)||ba.context&&ba.context.noIndent)this.noIndent=!0}function f(ba){ba.context&&(ba.context=ba.context.prev)}function a(ba,fa){for(var ja;ba.context;){ja=
ba.context.tagName;if(!H.contextGrabbers.hasOwnProperty(ja)||!H.contextGrabbers[ja].hasOwnProperty(fa))break;f(ba)}}function e(ba,fa,ja){return"openTag"==ba?(ja.tagStart=fa.column(),p):"closeTag"==ba?A:e}function p(ba,fa,ja){if("word"==ba)return ja.tagName=fa.current(),ka="tag",P;if(H.allowMissingTagName&&"endTag"==ba)return ka="tag bracket",P(ba,fa,ja);ka="error";return p}function A(ba,fa,ja){if("word"==ba){ba=fa.current();ja.context&&ja.context.tagName!=ba&&H.implicitlyClosed.hasOwnProperty(ja.context.tagName)&&
f(ja);if(ja.context&&ja.context.tagName==ba||!1===H.matchClosing)return ka="tag",C;ka="tag error";return D}if(H.allowMissingTagName&&"endTag"==ba)return ka="tag bracket",C(ba,fa,ja);ka="error";return D}function C(ba,fa,ja){if("endTag"!=ba)return ka="error",C;f(ja);return e}function D(ba,fa,ja){ka="error";return C(ba,fa,ja)}function P(ba,fa,ja){if("word"==ba)return ka="attribute",L;if("endTag"==ba||"selfcloseTag"==ba){fa=ja.tagName;var Z=ja.tagStart;ja.tagName=ja.tagStart=null;"selfcloseTag"==ba||
H.autoSelfClosers.hasOwnProperty(fa)?a(ja,fa):(a(ja,fa),ja.context=new d(ja,fa,Z==ja.indented));return e}ka="error";return P}function L(ba,fa,ja){if("equals"==ba)return G;H.allowMissing||(ka="error");return P(ba,fa,ja)}function G(ba,fa,ja){if("string"==ba)return z;if("word"==ba&&H.allowUnquoted)return ka="string",P;ka="error";return P(ba,fa,ja)}function z(ba,fa,ja){return"string"==ba?z:P(ba,fa,ja)}var K=E.indentUnit,H={};E=O.htmlMode?m:n;for(var R in E)H[R]=E[R];for(R in O)H[R]=O[R];var U,ka;x.isInText=
!0;return{startState:function(ba){var fa={tokenize:x,state:e,indented:ba||0,tagName:null,tagStart:null,context:null};null!=ba&&(fa.baseIndent=ba);return fa},token:function(ba,fa){!fa.tagName&&ba.sol()&&(fa.indented=ba.indentation());if(ba.eatSpace())return null;U=null;var ja=fa.tokenize(ba,fa);(ja||U)&&"comment"!=ja&&(ka=null,fa.state=fa.state(U||ja,ba,fa),ka&&(ja="error"==ka?ja+" error":ka));return ja},indent:function(ba,fa,ja){var Z=ba.context;if(ba.tokenize.isInAttribute)return ba.tagStart==ba.indented?
ba.stringStartCol+1:ba.indented+K;if(Z&&Z.noIndent)return g.Pass;if(ba.tokenize!=y&&ba.tokenize!=x)return ja?ja.match(/^(\s*)/)[0].length:0;if(ba.tagName)return!1!==H.multilineTagIndentPastTag?ba.tagStart+ba.tagName.length+2:ba.tagStart+K*(H.multilineTagIndentFactor||1);if(H.alignCDATA&&/<!\[CDATA\[/.test(fa))return 0;if((fa=fa&&/^<(\/)?([\w_:\.-]*)/.exec(fa))&&fa[1])for(;Z;)if(Z.tagName==fa[2]){Z=Z.prev;break}else if(H.implicitlyClosed.hasOwnProperty(Z.tagName))Z=Z.prev;else break;else if(fa)for(;Z;)if((ja=
H.contextGrabbers[Z.tagName])&&ja.hasOwnProperty(fa[2]))Z=Z.prev;else break;for(;Z&&Z.prev&&!Z.startOfLine;)Z=Z.prev;return Z?Z.indent+K:ba.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:H.htmlMode?"html":"xml",helperType:H.htmlMode?"html":"xml",skipAttribute:function(ba){ba.state==G&&(ba.state=P)},xmlCurrentTag:function(ba){return ba.tagName?{name:ba.tagName,close:"closeTag"==ba.type}:null},xmlCurrentContext:function(ba){var fa=[];
for(ba=ba.context;ba;ba=ba.prev)fa.push(ba.tagName);return fa.reverse()}}});g.defineMIME("text/xml","xml");g.defineMIME("application/xml","xml");g.mimeModes.hasOwnProperty("text/html")||g.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[70]=function(Ja,B,qb,F){(function(g){"object"==typeof F&&"object"==typeof qb?g(B(67)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],g):g(CodeMirror)})(function(g){g.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var m=0;m<g.modeInfo.length;m++){var n=g.modeInfo[m];n.mimes&&(n.mime=n.mimes[0])}g.findModeByMIME=function(E){E=E.toLowerCase();for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.mime==E)return x;if(x.mimes)for(var y=0;y<x.mimes.length;y++)if(x.mimes[y]==E)return x}if(/\+xml$/.test(E))return g.findModeByMIME("application/xml");if(/\+json$/.test(E))return g.findModeByMIME("application/json")};g.findModeByExtension=function(E){E=
E.toLowerCase();for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.ext)for(var y=0;y<x.ext.length;y++)if(x.ext[y]==E)return x}};g.findModeByFileName=function(E){for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.file&&x.file.test(E))return x}O=E.lastIndexOf(".");if(E=-1<O&&E.substring(O+1,E.length))return g.findModeByExtension(E)};g.findModeByName=function(E){E=E.toLowerCase();for(var O=0;O<g.modeInfo.length;O++){var x=g.modeInfo[O];if(x.name.toLowerCase()==E)return x;if(x.alias)for(var y=
0;y<x.alias.length;y++)if(x.alias[y].toLowerCase()==E)return x}}})};
shadow$provide[71]=function(Ja,B,qb,F){(function(g){"object"==typeof F&&"object"==typeof qb?g(B(67),B(69),B(70)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],g):g(CodeMirror)})(function(g){g.defineMode("markdown",function(m,n){function E(q,N,da){N.f=N.inline=da;return da(q,N)}function O(q){q.linkTitle=!1;q.linkHref=!1;q.linkText=!1;q.em=!1;q.strong=!1;q.strikethrough=!1;q.quote=0;q.indentedCode=!1;if(q.f==y){var N=P;N||(N=g.innerMode(D,q.htmlState),
N="xml"==N.mode.name&&null===N.state.tagStart&&!N.state.context&&N.state.tokenize.isInText);N&&(q.f=d,q.block=x,q.htmlState=null)}q.trailingSpace=0;q.trailingSpaceNewLine=!1;q.prevLine=q.thisLine;q.thisLine={stream:null};return null}function x(q,N){var da=q.column()===N.indentation,aa=N.prevLine.stream;var wa=!aa||!/\S/.test(aa.string);var ua=N.indentedCode,Ea=N.prevLine.hr,$a=!1!==N.list,kb=(N.listStack[N.listStack.length-1]||0)+3;N.indentedCode=!1;aa=N.indentation;if(null===N.indentationDiff&&(N.indentationDiff=
N.indentation,$a)){for(N.list=null;aa<N.listStack[N.listStack.length-1];)N.listStack.pop(),N.listStack.length?N.indentation=N.listStack[N.listStack.length-1]:N.list=!1;!1!==N.list&&(N.indentationDiff=aa-N.listStack[N.listStack.length-1])}var ta=!wa&&!Ea&&!N.prevLine.header&&(!$a||!ua)&&!N.prevLine.fencedCodeEnd,Ta=(!1===N.list||Ea||wa)&&N.indentation<=kb&&q.match(z);Ea=null;if(4<=N.indentationDiff&&(ua||N.prevLine.fencedCodeEnd||N.prevLine.header||wa))return q.skipToEnd(),N.indentedCode=!0,L.code;
if(q.eatSpace())return null;if(da&&N.indentation<=kb&&(Ea=q.match(R))&&6>=Ea[1].length)return N.quote=0,N.header=Ea[1].length,N.thisLine.header=!0,n.highlightFormatting&&(N.formatting="header"),N.f=N.inline,l(N);if(N.indentation<=kb&&q.eat("\x3e"))return N.quote=da?1:N.quote+1,n.highlightFormatting&&(N.formatting="quote"),q.eatSpace(),l(N);if(!Ta&&!N.setext&&da&&N.indentation<=kb&&(Ea=q.match(K)))return da=Ea[1]?"ol":"ul",N.indentation=aa+q.current().length,N.list=!0,N.quote=0,N.listStack.push(N.indentation),
N.em=!1,N.strong=!1,N.code=!1,N.strikethrough=!1,n.taskLists&&q.match(H,!1)&&(N.taskList=!0),N.f=N.inline,n.highlightFormatting&&(N.formatting=["list","list-"+da]),l(N);if(da&&N.indentation<=kb&&(Ea=q.match(ba,!0))){N.quote=0;N.fencedEndRE=new RegExp(Ea[1]+"+ *$");if(q=n.fencedCodeBlockHighlighting)q=Ea[2]||n.fencedCodeBlockDefaultMode,g.findModeByName&&(da=g.findModeByName(q))&&(q=da.mime||da.mimes[0]),q=g.getMode(m,q),q="null"==q.name?null:q;N.localMode=q;N.localMode&&(N.localState=g.startState(N.localMode));
N.f=N.block=v;n.highlightFormatting&&(N.formatting="code-block");N.code=-1;return l(N)}return N.setext||!(ta&&$a||N.quote||!1!==N.list||N.code||Ta||fa.test(q.string))&&(Ea=q.lookAhead(1))&&(Ea=Ea.match(U))?(N.setext?(N.header=N.setext,N.setext=0,q.skipToEnd(),n.highlightFormatting&&(N.formatting="header")):(N.header="\x3d"==Ea[0].charAt(0)?1:2,N.setext=N.header),N.thisLine.header=!0,N.f=N.inline,l(N)):Ta?(q.skipToEnd(),N.hr=!0,N.thisLine.hr=!0,L.hr):"["===q.peek()?E(q,N,p):E(q,N,N.inline)}function y(q,
N){var da=D.token(q,N.htmlState);if(!P){var aa=g.innerMode(D,N.htmlState);if("xml"==aa.mode.name&&null===aa.state.tagStart&&!aa.state.context&&aa.state.tokenize.isInText||N.md_inside&&-1<q.current().indexOf("\x3e"))N.f=d,N.block=x,N.htmlState=null}return da}function v(q,N){var da=N.listStack[N.listStack.length-1]||0,aa=N.indentation<da;if(N.fencedEndRE&&N.indentation<=da+3&&(aa||q.match(N.fencedEndRE))){n.highlightFormatting&&(N.formatting="code-block");var wa;aa||(wa=l(N));N.localMode=N.localState=
null;N.block=x;N.f=d;N.fencedEndRE=null;N.code=0;N.thisLine.fencedCodeEnd=!0;return aa?(da=N.block,N.f=N.block=da,da(q,N)):wa}if(N.localMode)return N.localMode.token(q,N.localState);q.skipToEnd();return L.code}function l(q){var N=[];if(q.formatting){N.push(L.formatting);"string"===typeof q.formatting&&(q.formatting=[q.formatting]);for(var da=0;da<q.formatting.length;da++)N.push(L.formatting+"-"+q.formatting[da]),"header"===q.formatting[da]&&N.push(L.formatting+"-"+q.formatting[da]+"-"+q.header),"quote"===
q.formatting[da]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=q.quote?N.push(L.formatting+"-"+q.formatting[da]+"-"+q.quote):N.push("error"))}if(q.taskOpen)return N.push("meta"),N.length?N.join(" "):null;if(q.taskClosed)return N.push("property"),N.length?N.join(" "):null;q.linkHref?N.push(L.linkHref,"url"):(q.strong&&N.push(L.strong),q.em&&N.push(L.em),q.strikethrough&&N.push(L.strikethrough),q.emoji&&N.push(L.emoji),q.linkText&&N.push(L.linkText),q.code&&N.push(L.code),q.image&&N.push(L.image),
q.imageAltText&&N.push(L.imageAltText,"link"),q.imageMarker&&N.push(L.imageMarker));q.header&&N.push(L.header,L.header+"-"+q.header);q.quote&&(N.push(L.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=q.quote?N.push(L.quote+"-"+q.quote):N.push(L.quote+"-"+n.maxBlockquoteDepth));!1!==q.list&&((da=(q.listStack.length-1)%3)?1===da?N.push(L.list2):N.push(L.list3):N.push(L.list1));q.trailingSpaceNewLine?N.push("trailing-space-new-line"):q.trailingSpace&&N.push("trailing-space-"+(q.trailingSpace%2?"a":
"b"));return N.length?N.join(" "):null}function k(q,N){if(q.match(ka,!0))return l(N)}function d(q,N){var da=N.text(q,N);if("undefined"!==typeof da)return da;if(N.list)return N.list=null,l(N);if(N.taskList)return" "===q.match(H,!0)[1]?N.taskOpen=!0:N.taskClosed=!0,n.highlightFormatting&&(N.formatting="task"),N.taskList=!1,l(N);N.taskOpen=!1;N.taskClosed=!1;if(N.header&&q.match(/^#+$/,!0))return n.highlightFormatting&&(N.formatting="header"),l(N);da=q.next();if(N.linkTitle){N.linkTitle=!1;var aa=da;
"("===da&&(aa=")");aa=(aa+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");if(q.match(new RegExp("^\\s*(?:[^"+aa+"\\\\]+|\\\\\\\\|\\\\.)"+aa),!0))return L.linkHref}if("`"===da){da=N.formatting;n.highlightFormatting&&(N.formatting="code");q.eatWhile("`");q=q.current().length;if(0!=N.code||N.quote&&1!=q){if(q==N.code)return q=l(N),N.code=0,q;N.formatting=da;return l(N)}N.code=q;return l(N)}if(N.code)return l(N);if("\\"===da&&(q.next(),n.highlightFormatting))return da=l(N),N=L.formatting+"-escape",da?da+
" "+N:N;if("!"===da&&q.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return N.imageMarker=!0,N.image=!0,n.highlightFormatting&&(N.formatting="image"),l(N);if("["===da&&N.imageMarker&&q.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return N.imageMarker=!1,N.imageAltText=!0,n.highlightFormatting&&(N.formatting="image"),l(N);if("]"===da&&N.imageAltText)return n.highlightFormatting&&(N.formatting="image"),da=l(N),N.imageAltText=!1,N.image=!1,N.inline=N.f=a,da;if("["===da&&!N.image){if(N.linkText&&q.match(/^.*?\]/))return l(N);
N.linkText=!0;n.highlightFormatting&&(N.formatting="link");return l(N)}if("]"===da&&N.linkText)return n.highlightFormatting&&(N.formatting="link"),da=l(N),N.linkText=!1,N.inline=N.f=q.match(/\(.*?\)| ?\[.*?\]/,!1)?a:d,da;if("\x3c"===da&&q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=f,n.highlightFormatting&&(N.formatting="link"),da=l(N),(da?da+" ":"")+L.linkInline;if("\x3c"===da&&q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=f,n.highlightFormatting&&(N.formatting=
"link"),da=l(N),(da?da+" ":"")+L.linkEmail;if(n.xml&&"\x3c"===da&&q.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1))return da=q.string.indexOf("\x3e",q.pos),-1!=da&&(da=q.string.substring(q.start,da),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(da)&&(N.md_inside=!0)),q.backUp(1),N.htmlState=g.startState(D),da=y,N.f=N.block=da,da(q,N);if(n.xml&&"\x3c"===da&&q.match(/^\/\w*?>/))return N.md_inside=!1,"tag";if("*"===da||"_"===da){for(var wa=1,ua=1==q.pos?
" ":q.string.charAt(q.pos-2);3>wa&&q.eat(da);)wa++;var Ea=q.peek()||" ",$a=!/\s/.test(Ea)&&(!ja.test(Ea)||/\s/.test(ua)||ja.test(ua)),kb=!/\s/.test(ua)&&(!ja.test(ua)||/\s/.test(Ea)||ja.test(Ea)),ta=aa=null;wa%2&&(N.em||!$a||"*"!==da&&kb&&!ja.test(ua)?N.em!=da||!kb||"*"!==da&&$a&&!ja.test(Ea)||(aa=!1):aa=!0);1<wa&&(N.strong||!$a||"*"!==da&&kb&&!ja.test(ua)?N.strong!=da||!kb||"*"!==da&&$a&&!ja.test(Ea)||(ta=!1):ta=!0);if(null!=ta||null!=aa)return n.highlightFormatting&&(N.formatting=null==aa?"strong":
null==ta?"em":"strong em"),!0===aa&&(N.em=da),!0===ta&&(N.strong=da),q=l(N),!1===aa&&(N.em=!1),!1===ta&&(N.strong=!1),q}else if(" "===da&&(q.eat("*")||q.eat("_"))){if(" "===q.peek())return l(N);q.backUp(1)}if(n.strikethrough)if("~"===da&&q.eatWhile(da)){if(N.strikethrough)return n.highlightFormatting&&(N.formatting="strikethrough"),q=l(N),N.strikethrough=!1,q;if(q.match(/^[^\s]/,!1))return N.strikethrough=!0,n.highlightFormatting&&(N.formatting="strikethrough"),l(N)}else if(" "===da&&q.match("~~",
!0)){if(" "===q.peek())return l(N);q.backUp(2)}if(n.emoji&&":"===da&&q.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return N.emoji=!0,n.highlightFormatting&&(N.formatting="emoji"),q=l(N),N.emoji=!1,q;" "===da&&(q.match(/^ +$/,!1)?N.trailingSpace++:N.trailingSpace&&(N.trailingSpaceNewLine=!0));return l(N)}function f(q,N){if("\x3e"===q.next())return N.f=N.inline=d,n.highlightFormatting&&(N.formatting="link"),q=l(N),(q?q+" ":"")+L.linkInline;q.match(/^[^>]+/,!0);return L.linkInline}function a(q,
N){if(q.eatSpace())return null;q=q.next();return"("===q||"["===q?(N.f=N.inline=e("("===q?")":"]"),n.highlightFormatting&&(N.formatting="link-string"),N.linkHref=!0,l(N)):"error"}function e(q){return function(N,da){if(N.next()===q)return da.f=da.inline=d,n.highlightFormatting&&(da.formatting="link-string"),N=l(da),da.linkHref=!1,N;N.match(Z[q]);da.linkHref=!0;return l(da)}}function p(q,N){return q.match(/^([^\]\\]|\\.)*\]:/,!1)?(N.f=A,q.next(),n.highlightFormatting&&(N.formatting="link"),N.linkText=
!0,l(N)):E(q,N,d)}function A(q,N){if(q.match("]:",!0))return N.f=N.inline=C,n.highlightFormatting&&(N.formatting="link"),q=l(N),N.linkText=!1,q;q.match(/^([^\]\\]|\\.)+/,!0);return L.linkText}function C(q,N){if(q.eatSpace())return null;q.match(/^[^\s]+/,!0);void 0===q.peek()?N.linkTitle=!0:q.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);N.f=N.inline=d;return L.linkHref+" url"}var D=g.getMode(m,"text/html"),P="null"==D.name;void 0===n.highlightFormatting&&
(n.highlightFormatting=!1);void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0);void 0===n.taskLists&&(n.taskLists=!1);void 0===n.strikethrough&&(n.strikethrough=!1);void 0===n.emoji&&(n.emoji=!1);void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0);void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain");void 0===n.xml&&(n.xml=!0);void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var L={header:"header",code:"comment",quote:"quote",list1:"variable-2",
list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"},G;for(G in L)L.hasOwnProperty(G)&&n.tokenTypeOverrides[G]&&(L[G]=n.tokenTypeOverrides[G]);var z=/^([*\-_])(?:\s*\1){2,}\s*$/,K=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,H=/^\[(x| )\](?=\s)/i,R=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,
U=/^ {0,3}(?:={1,}|-{2,})\s*$/,ka=/^[^#!\[\]*_\\<>` "'(~:]+/,ba=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,fa=/^\s*\[[^\]]+?\]:.*$/,ja=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
Z={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},Q={startState:function(){return{f:x,prevLine:{stream:null},thisLine:{stream:null},block:x,htmlState:null,indentation:0,inline:d,text:k,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(q){return{f:q.f,
prevLine:q.prevLine,thisLine:q.thisLine,block:q.block,htmlState:q.htmlState&&g.copyState(D,q.htmlState),indentation:q.indentation,localMode:q.localMode,localState:q.localMode?g.copyState(q.localMode,q.localState):null,inline:q.inline,text:q.text,formatting:!1,linkText:q.linkText,linkTitle:q.linkTitle,linkHref:q.linkHref,code:q.code,em:q.em,strong:q.strong,strikethrough:q.strikethrough,emoji:q.emoji,header:q.header,setext:q.setext,hr:q.hr,taskList:q.taskList,list:q.list,listStack:q.listStack.slice(0),
quote:q.quote,indentedCode:q.indentedCode,trailingSpace:q.trailingSpace,trailingSpaceNewLine:q.trailingSpaceNewLine,md_inside:q.md_inside,fencedEndRE:q.fencedEndRE}},token:function(q,N){N.formatting=!1;if(q!=N.thisLine.stream){N.header=0;N.hr=!1;if(q.match(/^\s*$/,!0))return O(N),null;N.prevLine=N.thisLine;N.thisLine={stream:q};N.taskList=!1;N.trailingSpace=0;N.trailingSpaceNewLine=!1;if(!N.localState&&(N.f=N.block,N.f!=y)){var da=q.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;N.indentation=da;
N.indentationDiff=null;if(0<da)return null}}return N.f(q,N)},innerMode:function(q){return q.block==y?{state:q.htmlState,mode:D}:q.localState?{state:q.localState,mode:q.localMode}:{state:q,mode:Q}},indent:function(q,N,da){return q.block==y&&D.indent?D.indent(q.htmlState,N,da):q.localState&&q.localMode.indent?q.localMode.indent(q.localState,N,da):g.Pass},blankLine:O,getType:l,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Q},"xml");g.defineMIME("text/markdown",
"markdown");g.defineMIME("text/x-markdown","markdown")})};
shadow$provide[72]=function(Ja,B,qb,F){(function(g){"object"==typeof F&&"object"==typeof qb?g(B(67)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],g):g(CodeMirror)})(function(g){g.overlayMode=function(m,n,E){return{startState:function(){return{base:g.startState(m),overlay:g.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(O){return{base:g.copyState(m,O.base),overlay:g.copyState(n,O.overlay),basePos:O.basePos,baseCur:null,
overlayPos:O.overlayPos,overlayCur:null}},token:function(O,x){if(O!=x.streamSeen||Math.min(x.basePos,x.overlayPos)<O.start)x.streamSeen=O,x.basePos=x.overlayPos=O.start;O.start==x.basePos&&(x.baseCur=m.token(O,x.base),x.basePos=O.pos);O.start==x.overlayPos&&(O.pos=O.start,x.overlayCur=n.token(O,x.overlay),x.overlayPos=O.pos);O.pos=Math.min(x.basePos,x.overlayPos);return null==x.overlayCur?x.baseCur:null!=x.baseCur&&x.overlay.combineTokens||E&&null==x.overlay.combineTokens?x.baseCur+" "+x.overlayCur:
x.overlayCur},indent:m.indent&&function(O,x,y){return m.indent(O.base,x,y)},electricChars:m.electricChars,innerMode:function(O){return{state:O.base,mode:m}},blankLine:function(O){var x,y;m.blankLine&&(x=m.blankLine(O.base));n.blankLine&&(y=n.blankLine(O.overlay));return null==y?x:E&&null!=x?x+" "+y:y}}}})};
shadow$provide[73]=function(Ja,B,qb,F){(function(g){"object"==typeof F&&"object"==typeof qb?g(B(67),B(71),B(72)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],g):g(CodeMirror)})(function(g){var m=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;
g.defineMode("gfm",function(n,E){var O=0,x={taskLists:!0,strikethrough:!0,emoji:!0},y;for(y in E)x[y]=E[y];x.name="markdown";return g.overlayMode(g.getMode(n,x),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(v){return{code:v.code,codeBlock:v.codeBlock,ateSpace:v.ateSpace}},token:function(v,l){l.combineTokens=null;if(l.codeBlock){if(v.match(/^```+/))return l.codeBlock=!1,null;v.skipToEnd();return null}v.sol()&&(l.code=!1);if(v.sol()&&v.match(/^```+/))return v.skipToEnd(),
l.codeBlock=!0,null;if("`"===v.peek()){v.next();var k=v.pos;v.eatWhile("`");v=1+v.pos-k;l.code?v===O&&(l.code=!1):(O=v,l.code=!0);return null}if(l.code)return v.next(),null;if(v.eatSpace())return l.ateSpace=!0,null;if(v.sol()||l.ateSpace)if(l.ateSpace=!1,!1!==E.gitHubSpice&&(v.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||v.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return l.combineTokens=!0,"link";if(v.match(m)&&"]("!=v.string.slice(v.start-
2,v.start)&&(0==v.start||/\W/.test(v.string.charAt(v.start-1))))return l.combineTokens=!0,"link";v.next();return null},blankLine:function(v){v.code=!1;return null}})},"markdown");g.defineMIME("text/x-gfm","gfm")})};
shadow$provide[74]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(){function g(){this.disposed=!1}g.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};g.prototype.disposeInternal=function(){};return g}();F["default"]=Ja};
shadow$provide[75]=function(Ja,B,qb,F){function g(m,n){return m>n?1:m<n?-1:0}Object.defineProperty(F,"__esModule",{value:!0});F.binarySearch=function(m,n,E){for(var O,x=E||g,y=0,v=m.length,l=!1;y<v;)E=y+(v-y>>1),O=+x(m[E],n),0>O?y=E+1:(v=E,l=!O);return l?y:~y};F.numberSafeCompareFunction=g;F.includes=function(m,n){return 0<=m.indexOf(n)};F.linearFindNearest=function(m,n,E){var O=m.length;if(m[0]<=n)return 0;if(!(n<=m[O-1]))if(0<E)for(E=1;E<O;++E){if(m[E]<n)return E-1}else if(0>E)for(E=1;E<O;++E){if(m[E]<=
n)return E}else for(E=1;E<O;++E){if(m[E]==n)return E;if(m[E]<n)return m[E-1]-n<n-m[E]?E-1:E}return O-1};F.reverseSubArray=function(m,n,E){for(;n<E;){var O=m[n];m[n]=m[E];m[E]=O;++n;--E}};F.extend=function(m,n){n=Array.isArray(n)?n:[n];for(var E=n.length,O=0;O<E;O++)m[m.length]=n[O]};F.remove=function(m,n){n=m.indexOf(n);var E=-1<n;E&&m.splice(n,1);return E};F.find=function(m,n){for(var E=m.length>>>0,O,x=0;x<E;x++)if(O=m[x],n(O,x,m))return O;return null};F.equals=function(m,n){var E=m.length;if(E!==
n.length)return!1;for(var O=0;O<E;O++)if(m[O]!==n[O])return!1;return!0};F.stableSort=function(m,n){var E=m.length,O=Array(m.length),x;for(x=0;x<E;x++)O[x]={index:x,value:m[x]};O.sort(function(y,v){return n(y.value,v.value)||y.index-v.index});for(x=0;x<m.length;x++)m[x]=O[x].value};F.findIndex=function(m,n){var E;return m.every(function(O,x){E=x;return!n(O,x,m)})?-1:E};F.isSorted=function(m,n,E){var O=n||g;return m.every(function(x,y){if(0===y)return!0;x=O(m[y-1],x);return!(0<x||E&&0===x)})}};
shadow$provide[76]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.TRUE=function(){return!0};F.FALSE=function(){return!1};F.VOID=function(){};F.memoizeOne=function(m){var n=!1,E,O,x;return function(){var y=Array.prototype.slice.call(arguments);n&&this===x&&(0,g.equals)(y,O)||(n=!0,x=this,O=y,E=m.apply(this,arguments));return E}};var g=B(75)};
shadow$provide[77]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["abstract"]=function(){throw Error("Unimplemented abstract method.");};F.getUid=function(m){return m.ol_uid||(m.ol_uid=String(++g))};F.VERSION=void 0;var g=0;F.VERSION="6.5.0"};
shadow$provide[78]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=B(77),m=function(){var n=function(E,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(x[v]=y[v])};return n(E,O)};return function(E,O){function x(){this.constructor=E}n(E,O);E.prototype=null===O?Object.create(O):(x.prototype=O.prototype,new x)}}();Ja=function(n){function E(O){var x=
"Assertion failed. See https://openlayers.org/en/"+("latest"===g.VERSION?g.VERSION:"v"+g.VERSION.split("-")[0])+"/doc/errors/#"+O+" for details.";var y=n.call(this,x)||this;y.code=O;y.name="AssertionError";y.message=x;return y}m(E,n);return E}(Error);F["default"]=Ja};
shadow$provide[79]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.assert=function(m,n){if(!m)throw new g["default"](n);};var g=function(m){return m&&m.__esModule?m:{"default":m}}(B(78))};
shadow$provide[80]=function(Ja,B,qb,F){function g(){return[1,0,0,1,0,0]}function m(k,d){var f=k[0],a=k[1],e=k[2],p=k[3],A=k[4],C=k[5],D=d[0],P=d[1],L=d[2],G=d[3],z=d[4];d=d[5];k[0]=f*D+e*P;k[1]=a*D+p*P;k[2]=f*L+e*G;k[3]=a*L+p*G;k[4]=f*z+e*d+A;k[5]=a*z+p*d+C;return k}function n(k,d,f,a,e,p,A){k[0]=d;k[1]=f;k[2]=a;k[3]=e;k[4]=p;k[5]=A;return k}function E(k,d,f,a,e,p,A,C){var D=Math.sin(p);p=Math.cos(p);k[0]=a*p;k[1]=e*D;k[2]=-a*D;k[3]=e*p;k[4]=A*a*p-C*a*D+d;k[5]=A*e*D+C*e*p+f;return k}function O(k,
d){var f=x(d);(0,v.assert)(0!==f,32);var a=d[0],e=d[1],p=d[2],A=d[3],C=d[4];d=d[5];k[0]=A/f;k[1]=-e/f;k[2]=-p/f;k[3]=a/f;k[4]=(p*d-A*C)/f;k[5]=-(a*d-e*C)/f;return k}function x(k){return k[0]*k[3]-k[1]*k[2]}function y(k){return"matrix("+k.join(", ")+")"}Object.defineProperty(F,"__esModule",{value:!0});F.create=g;F.reset=function(k){return n(k,1,0,0,1,0,0)};F.multiply=m;F.set=n;F.setFromArray=function(k,d){k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=d[3];k[4]=d[4];k[5]=d[5];return k};F.apply=function(k,d){var f=
d[0],a=d[1];d[0]=k[0]*f+k[2]*a+k[4];d[1]=k[1]*f+k[3]*a+k[5];return d};F.rotate=function(k,d){var f=Math.cos(d);d=Math.sin(d);return m(k,n(l,f,d,-d,f,0,0))};F.scale=function(k,d,f){return m(k,n(l,d,0,0,f,0,0))};F.makeScale=function(k,d,f){return n(k,d,0,0,f,0,0)};F.translate=function(k,d,f){return m(k,n(l,1,0,0,1,d,f))};F.compose=E;F.composeCssTransform=function(k,d,f,a,e,p,A){return y(E(g(),k,d,f,a,e,p,A))};F.invert=function(k){return O(k,k)};F.makeInverse=O;F.determinant=x;F.toString=y;var v=B(79),
l=Array(6)};
shadow$provide[81]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[82]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[83]=function(Ja,B,qb,F){function g(U){return U&&U.__esModule?U:{"default":U}}function m(U,ka,ba){return U[0]<=ka&&ka<=U[2]&&U[1]<=ba&&ba<=U[3]}function n(U,ka){var ba=U[1],fa=U[2],ja=U[3],Z=ka[0];ka=ka[1];var Q=H["default"].UNKNOWN;Z<U[0]?Q|=H["default"].LEFT:Z>fa&&(Q|=H["default"].RIGHT);ka<ba?Q|=H["default"].BELOW:ka>ja&&(Q|=H["default"].ABOVE);Q===H["default"].UNKNOWN&&(Q=H["default"].INTERSECTING);return Q}function E(){return[Infinity,Infinity,-Infinity,-Infinity]}function O(U,
ka,ba,fa,ja){return ja?(ja[0]=U,ja[1]=ka,ja[2]=ba,ja[3]=fa,ja):[U,ka,ba,fa]}function x(U){return O(Infinity,Infinity,-Infinity,-Infinity,U)}function y(U,ka){ka[0]<U[0]&&(U[0]=ka[0]);ka[0]>U[2]&&(U[2]=ka[0]);ka[1]<U[1]&&(U[1]=ka[1]);ka[1]>U[3]&&(U[3]=ka[1])}function v(U,ka){for(var ba=0,fa=ka.length;ba<fa;++ba)y(U,ka[ba]);return U}function l(U,ka,ba,fa,ja){for(;ba<fa;ba+=ja)d(U,ka[ba],ka[ba+1]);return U}function k(U,ka){for(var ba=0,fa=ka.length;ba<fa;++ba)v(U,ka[ba]);return U}function d(U,ka,ba){U[0]=
Math.min(U[0],ka);U[1]=Math.min(U[1],ba);U[2]=Math.max(U[2],ka);U[3]=Math.max(U[3],ba)}function f(U){var ka=0;z(U)||(ka=L(U)*A(U));return ka}function a(U){return[U[0],U[1]]}function e(U){return[U[2],U[1]]}function p(U){return[(U[0]+U[2])/2,(U[1]+U[3])/2]}function A(U){return U[3]-U[1]}function C(U,ka,ba){ba=ba?ba:E();G(U,ka)?(ba[0]=U[0]>ka[0]?U[0]:ka[0],ba[1]=U[1]>ka[1]?U[1]:ka[1],ba[2]=U[2]<ka[2]?U[2]:ka[2],ba[3]=U[3]<ka[3]?U[3]:ka[3]):x(ba);return ba}function D(U){return[U[0],U[3]]}function P(U){return[U[2],
U[3]]}function L(U){return U[2]-U[0]}function G(U,ka){return U[0]<=ka[2]&&U[2]>=ka[0]&&U[1]<=ka[3]&&U[3]>=ka[1]}function z(U){return U[2]<U[0]||U[3]<U[1]}Object.defineProperty(F,"__esModule",{value:!0});F.boundingExtent=function(U){for(var ka=E(),ba=0,fa=U.length;ba<fa;++ba)y(ka,U[ba]);return ka};F.buffer=function(U,ka,ba){return ba?(ba[0]=U[0]-ka,ba[1]=U[1]-ka,ba[2]=U[2]+ka,ba[3]=U[3]+ka,ba):[U[0]-ka,U[1]-ka,U[2]+ka,U[3]+ka]};F.clone=function(U,ka){return ka?(ka[0]=U[0],ka[1]=U[1],ka[2]=U[2],ka[3]=
U[3],ka):U.slice()};F.closestSquaredDistanceXY=function(U,ka,ba){ka=ka<U[0]?U[0]-ka:U[2]<ka?ka-U[2]:0;U=ba<U[1]?U[1]-ba:U[3]<ba?ba-U[3]:0;return ka*ka+U*U};F.containsCoordinate=function(U,ka){return m(U,ka[0],ka[1])};F.containsExtent=function(U,ka){return U[0]<=ka[0]&&ka[2]<=U[2]&&U[1]<=ka[1]&&ka[3]<=U[3]};F.containsXY=m;F.coordinateRelationship=n;F.createEmpty=E;F.createOrUpdate=O;F.createOrUpdateEmpty=x;F.createOrUpdateFromCoordinate=function(U,ka){var ba=U[0];U=U[1];return O(ba,U,ba,U,ka)};F.createOrUpdateFromCoordinates=
function(U,ka){ka=x(ka);return v(ka,U)};F.createOrUpdateFromFlatCoordinates=function(U,ka,ba,fa,ja){ja=x(ja);return l(ja,U,ka,ba,fa)};F.createOrUpdateFromRings=function(U,ka){ka=x(ka);return k(ka,U)};F.equals=function(U,ka){return U[0]==ka[0]&&U[2]==ka[2]&&U[1]==ka[1]&&U[3]==ka[3]};F.approximatelyEquals=function(U,ka,ba){return Math.abs(U[0]-ka[0])<ba&&Math.abs(U[2]-ka[2])<ba&&Math.abs(U[1]-ka[1])<ba&&Math.abs(U[3]-ka[3])<ba};F.extend=function(U,ka){ka[0]<U[0]&&(U[0]=ka[0]);ka[2]>U[2]&&(U[2]=ka[2]);
ka[1]<U[1]&&(U[1]=ka[1]);ka[3]>U[3]&&(U[3]=ka[3]);return U};F.extendCoordinate=y;F.extendCoordinates=v;F.extendFlatCoordinates=l;F.extendRings=k;F.extendXY=d;F.forEachCorner=function(U,ka){var ba;return(ba=ka(a(U)))||(ba=ka(e(U)))||(ba=ka(P(U)))?ba:(ba=ka(D(U)))?ba:!1};F.getArea=f;F.getBottomLeft=a;F.getBottomRight=e;F.getCenter=p;F.getCorner=function(U,ka){var ba;ka===K["default"].BOTTOM_LEFT?ba=a(U):ka===K["default"].BOTTOM_RIGHT?ba=e(U):ka===K["default"].TOP_LEFT?ba=D(U):ka===K["default"].TOP_RIGHT?
ba=P(U):(0,R.assert)(!1,13);return ba};F.getEnlargedArea=function(U,ka){return(Math.max(U[2],ka[2])-Math.min(U[0],ka[0]))*(Math.max(U[3],ka[3])-Math.min(U[1],ka[1]))};F.getForViewAndSize=function(U,ka,ba,fa,ja){var Z=ka*fa[0]/2;fa=ka*fa[1]/2;ka=Math.cos(ba);var Q=Math.sin(ba);ba=Z*ka;Z*=Q;ka*=fa;var q=fa*Q,N=U[0],da=U[1];U=N-ba+q;fa=N-ba-q;Q=N+ba-q;ba=N+ba+q;q=da-Z-ka;N=da-Z+ka;var aa=da+Z+ka;Z=da+Z-ka;return O(Math.min(U,fa,Q,ba),Math.min(q,N,aa,Z),Math.max(U,fa,Q,ba),Math.max(q,N,aa,Z),ja)};F.getHeight=
A;F.getIntersectionArea=function(U,ka){U=C(U,ka);return f(U)};F.getIntersection=C;F.getMargin=function(U){return L(U)+A(U)};F.getSize=function(U){return[U[2]-U[0],U[3]-U[1]]};F.getTopLeft=D;F.getTopRight=P;F.getWidth=L;F.intersects=G;F.isEmpty=z;F.returnOrUpdate=function(U,ka){return ka?(ka[0]=U[0],ka[1]=U[1],ka[2]=U[2],ka[3]=U[3],ka):U};F.scaleFromCenter=function(U,ka){var ba=(U[2]-U[0])/2*(ka-1);ka=(U[3]-U[1])/2*(ka-1);U[0]-=ba;U[2]+=ba;U[1]-=ka;U[3]+=ka};F.intersectsSegment=function(U,ka,ba){var fa=
!1,ja=n(U,ka),Z=n(U,ba);if(ja===H["default"].INTERSECTING||Z===H["default"].INTERSECTING)fa=!0;else{var Q=U[0],q=U[1],N=U[2];U=U[3];var da=ba[0];ba=ba[1];ka=(ba-ka[1])/(da-ka[0]);Z&H["default"].ABOVE&&!(ja&H["default"].ABOVE)&&(fa=da-(ba-U)/ka,fa=fa>=Q&&fa<=N);fa||!(Z&H["default"].RIGHT)||ja&H["default"].RIGHT||(fa=ba-(da-N)*ka,fa=fa>=q&&fa<=U);fa||!(Z&H["default"].BELOW)||ja&H["default"].BELOW||(fa=da-(ba-q)/ka,fa=fa>=Q&&fa<=N);fa||!(Z&H["default"].LEFT)||ja&H["default"].LEFT||(fa=ba-(da-Q)*ka,fa=
fa>=q&&fa<=U)}return fa};F.applyTransform=function(U,ka,ba,fa){var ja=[];if(1<fa)for(var Z=U[2]-U[0],Q=U[3]-U[1],q=0;q<fa;++q)ja.push(U[0]+Z*q/fa,U[1],U[2],U[1]+Q*q/fa,U[2]-Z*q/fa,U[3],U[0],U[3]-Q*q/fa);else ja=[U[0],U[1],U[2],U[1],U[2],U[3],U[0],U[3]];ka(ja,ja,2);ka=[];U=[];q=0;for(fa=ja.length;q<fa;q+=2)ka.push(ja[q]),U.push(ja[q+1]);ja=Math.min.apply(null,ka);q=Math.min.apply(null,U);ka=Math.max.apply(null,ka);U=Math.max.apply(null,U);return O(ja,q,ka,U,ba)};F.wrapX=function(U,ka){var ba=ka.getExtent(),
fa=p(U);ka.canWrapX()&&(fa[0]<ba[0]||fa[0]>=ba[2])&&(ka=L(ba),ba=Math.floor((fa[0]-ba[0])/ka)*ka,U[0]-=ba,U[2]-=ba);return U};var K=g(B(81)),H=g(B(82)),R=B(79)};
shadow$provide[84]=function(Ja,B,qb,F){function g(m,n,E,O){m=E-m;n=O-n;return m*m+n*n}Object.defineProperty(F,"__esModule",{value:!0});F.clamp=function(m,n,E){return Math.min(Math.max(m,n),E)};F.squaredSegmentDistance=function(m,n,E,O,x,y){var v=x-E,l=y-O;if(0!==v||0!==l){var k=((m-E)*v+(n-O)*l)/(v*v+l*l);1<k?(E=x,O=y):0<k&&(E+=v*k,O+=l*k)}return g(m,n,E,O)};F.squaredDistance=g;F.solveLinearSystem=function(m){for(var n=m.length,E=0;E<n;E++){for(var O=E,x=Math.abs(m[E][E]),y=E+1;y<n;y++){var v=Math.abs(m[y][E]);
v>x&&(x=v,O=y)}if(0===x)return null;x=m[O];m[O]=m[E];m[E]=x;for(O=E+1;O<n;O++)for(x=-m[O][E]/m[E][E],y=E;y<n+1;y++)m[O][y]=E==y?0:m[O][y]+x*m[E][y]}E=Array(n);for(O=n-1;0<=O;O--)for(E[O]=m[O][n]/m[O][O],x=O-1;0<=x;x--)m[x][n]-=m[x][O]*E[O];return E};F.toDegrees=function(m){return 180*m/Math.PI};F.toRadians=function(m){return m*Math.PI/180};F.modulo=function(m,n){m%=n;return 0>m*n?m+n:m};F.lerp=function(m,n,E){return m+E*(n-m)};F.log2=F.cosh=void 0;Ja=function(){return"cosh"in Math?Math.cosh:function(m){m=
Math.exp(m);return(m+1/m)/2}}();F.cosh=Ja;Ja=function(){return"log2"in Math?Math.log2:function(m){return Math.log(m)*Math.LOG2E}}();F.log2=Ja};
shadow$provide[85]=function(Ja,B,qb,F){function g(l){var k=document.createElement("div");k.style.color=l;return""!==k.style.color?(document.body.appendChild(k),l=getComputedStyle(k).color,document.body.removeChild(k),l):""}function m(l){l[0]=(0,O.clamp)(l[0]+.5|0,0,255);l[1]=(0,O.clamp)(l[1]+.5|0,0,255);l[2]=(0,O.clamp)(l[2]+.5|0,0,255);l[3]=(0,O.clamp)(l[3],0,1);return l}function n(l){var k=l[0];k!=(k|0)&&(k=k+.5|0);var d=l[1];d!=(d|0)&&(d=d+.5|0);var f=l[2];f!=(f|0)&&(f=f+.5|0);return"rgba("+k+
","+d+","+f+","+(void 0===l[3]?1:l[3])+")"}Object.defineProperty(F,"__esModule",{value:!0});F.asString=function(l){return"string"===typeof l?l:n(l)};F.asArray=function(l){return Array.isArray(l)?l:v(l)};F.normalize=m;F.toString=n;F.isStringColor=function(l){y.test(l)&&(l=g(l));return x.test(l)||0===l.indexOf("rgba(")||0===l.indexOf("rgb(")};F.fromString=void 0;var E=B(79),O=B(84),x=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,y=/^([a-z]*)$|^hsla?\(.*\)$/i,v=function(){var l={},k=0;return function(d){if(l.hasOwnProperty(d))var f=
l[d];else{if(1024<=k){f=0;for(var a in l)0===(f++&3)&&(delete l[a],--k)}f=d;y.exec(f)&&(f=g(f));if(x.exec(f)){a=f.length-1;var e=4>=a?1:2;var p=4===a||8===a;a=parseInt(f.substr(1+0*e,e),16);var A=parseInt(f.substr(1+1*e,e),16);var C=parseInt(f.substr(1+2*e,e),16);f=p?parseInt(f.substr(1+3*e,e),16):255;1==e&&(a=(a<<4)+a,A=(A<<4)+A,C=(C<<4)+C,p&&(f=(f<<4)+f));e=[a,A,C,f/255]}else 0==f.indexOf("rgba(")?(e=f.slice(5,-1).split(",").map(Number),m(e)):0==f.indexOf("rgb(")?(e=f.slice(4,-1).split(",").map(Number),
e.push(1),m(e)):(0,E.assert)(!1,14);f=e;l[d]=f;++k}return f}}();F.fromString=v};
shadow$provide[86]=function(Ja,B,qb,F){function g(n,E,O){O=O?(0,m.asString)(O):"null";return E+":"+n+":"+O}Object.defineProperty(F,"__esModule",{value:!0});F.shared=F["default"]=void 0;var m=B(85);Ja=function(){function n(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}n.prototype.clear=function(){this.cache_={};this.cacheSize_=0};n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};n.prototype.expire=function(){if(this.canExpireCache()){var E=0,O;for(O in this.cache_){var x=
this.cache_[O];0!==(E++&3)||x.hasListener()||(delete this.cache_[O],--this.cacheSize_)}}};n.prototype.get=function(E,O,x){E=g(E,O,x);return E in this.cache_?this.cache_[E]:null};n.prototype.set=function(E,O,x,y){E=g(E,O,x);this.cache_[E]=y;++this.cacheSize_};n.prototype.setSize=function(E){this.maxCacheSize_=E;this.expire()};return n}();F["default"]=Ja;Ja=new Ja;F.shared=Ja};
shadow$provide[87]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.stopPropagation=function(g){g.stopPropagation()};F.preventDefault=function(g){g.preventDefault()};F["default"]=void 0;Ja=function(){function g(m){this.type=m;this.target=null}g.prototype.preventDefault=function(){this.propagationStopped=!0};g.prototype.stopPropagation=function(){this.propagationStopped=!0};return g}();F["default"]=Ja};
shadow$provide[88]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[89]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.clear=function(g){for(var m in g)delete g[m]};F.isEmpty=function(g){for(var m in g)return!1;return!m};F.getValues=F.assign=void 0;F.assign="function"===typeof Object.assign?Object.assign:function(g,m){if(void 0===g||null===g)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(g),E=1,O=arguments.length;E<O;++E){var x=arguments[E];if(void 0!==x&&null!==x)for(var y in x)x.hasOwnProperty(y)&&
(n[y]=x[y])}return n};F.getValues="function"===typeof Object.values?Object.values:function(g){var m=[],n;for(n in g)m.push(g[n]);return m}};
shadow$provide[90]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(74));var m=g(B(87)),n=B(76),E=B(89),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===
v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v){var l=x.call(this)||this;l.eventTarget_=v;l.pendingRemovals_=null;l.dispatching_=null;l.listeners_=null;return l}O(y,x);y.prototype.addEventListener=function(v,l){if(v&&l){var k=this.listeners_||(this.listeners_={});v=k[v]||(k[v]=[]);-1===v.indexOf(l)&&v.push(l)}};y.prototype.dispatchEvent=function(v){var l="string"===typeof v?new m["default"](v):v;v=l.type;l.target||(l.target=this.eventTarget_||this);var k=this.listeners_&&
this.listeners_[v];if(k){var d=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});v in d||(d[v]=0,f[v]=0);++d[v];for(var a=0,e=k.length;a<e;++a){var p="handleEvent"in k[a]?k[a].handleEvent(l):k[a].call(this,l);if(!1===p||l.propagationStopped){p=!1;break}}--d[v];if(0===d[v]){l=f[v];for(delete f[v];l--;)this.removeEventListener(v,n.VOID);delete d[v]}return p}};y.prototype.disposeInternal=function(){this.listeners_&&(0,E.clear)(this.listeners_)};y.prototype.getListeners=
function(v){return this.listeners_&&this.listeners_[v]||void 0};y.prototype.hasListener=function(v){return this.listeners_?v?v in this.listeners_:0<Object.keys(this.listeners_).length:!1};y.prototype.removeEventListener=function(v,l){var k=this.listeners_&&this.listeners_[v];k&&(l=k.indexOf(l),-1!==l&&(this.pendingRemovals_&&v in this.pendingRemovals_?(k[l]=n.VOID,++this.pendingRemovals_[v]):(k.splice(l,1),0===k.length&&delete this.listeners_[v])))};return y}(Ja["default"]);F["default"]=B};
shadow$provide[91]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[92]=function(Ja,B,qb,F){function g(n,E,O,x,y){x&&x!==n&&(O=O.bind(x));if(y){var v=O;O=function(){n.removeEventListener(E,O);v.apply(this,arguments)}}x={target:n,type:E,listener:O};n.addEventListener(E,O);return x}Object.defineProperty(F,"__esModule",{value:!0});F.listen=g;F.listenOnce=function(n,E,O,x){return g(n,E,O,x,!0)};F.unlistenByKey=function(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),(0,m.clear)(n))};var m=B(89)};
shadow$provide[93]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}function m(x){if(Array.isArray(x))for(var y=0,v=x.length;y<v;++y)(0,E.unlistenByKey)(x[y]);else(0,E.unlistenByKey)(x)}Object.defineProperty(F,"__esModule",{value:!0});F.unByKey=m;F["default"]=void 0;Ja=g(B(90));var n=g(B(91)),E=B(92),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,
d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(){var v=x.call(this)||this;v.revision_=0;return v}O(y,x);y.prototype.changed=function(){++this.revision_;this.dispatchEvent(n["default"].CHANGE)};y.prototype.getRevision=function(){return this.revision_};y.prototype.on=function(v,l){if(Array.isArray(v)){for(var k=v.length,d=Array(k),f=0;f<k;++f)d[f]=(0,E.listen)(this,
v[f],l);return d}return(0,E.listen)(this,v,l)};y.prototype.once=function(v,l){if(Array.isArray(v)){var k=v.length;var d=Array(k);for(var f=0;f<k;++f)d[f]=(0,E.listenOnce)(this,v[f],l)}else d=(0,E.listenOnce)(this,v,l);return l.ol_key=d};y.prototype.un=function(v,l){var k=l.ol_key;if(k)m(k);else if(Array.isArray(v)){k=0;for(var d=v.length;k<d;++k)this.removeEventListener(v[k],l)}else this.removeEventListener(v,l)};return y}(Ja["default"]);F["default"]=B};
shadow$provide[94]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l){return v.hasOwnProperty(l)?v[l]:v[l]="change:"+l}Object.defineProperty(F,"__esModule",{value:!0});F.getChangeEventType=m;F["default"]=F.ObjectEvent=void 0;Ja=g(B(87));var n=g(B(88));qb=g(B(93));var E=B(89),O=B(77),x=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),y=function(l){function k(d,f,a){d=l.call(this,d)||this;d.key=f;d.oldValue=a;return d}x(k,l);return k}(Ja["default"]);F.ObjectEvent=y;B=function(l){function k(d){var f=l.call(this)||this;(0,O.getUid)(f);f.values_=null;void 0!==d&&f.setProperties(d);return f}x(k,l);k.prototype.get=function(d){var f;this.values_&&this.values_.hasOwnProperty(d)&&
(f=this.values_[d]);return f};k.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};k.prototype.getProperties=function(){return this.values_&&(0,E.assign)({},this.values_)||{}};k.prototype.hasProperties=function(){return!!this.values_};k.prototype.notify=function(d,f){var a=m(d);this.dispatchEvent(new y(a,d,f));a=n["default"].PROPERTYCHANGE;this.dispatchEvent(new y(a,d,f))};k.prototype.set=function(d,f,a){var e=this.values_||(this.values_={});a?e[d]=f:(a=e[d],e[d]=f,a!==
f&&this.notify(d,a))};k.prototype.setProperties=function(d,f){for(var a in d)this.set(a,d[a],f)};k.prototype.applyProperties=function(d){d.values_&&(0,E.assign)(this.values_||(this.values_={}),d.values_)};k.prototype.unset=function(d,f){if(this.values_&&d in this.values_){var a=this.values_[d];delete this.values_[d];(0,E.isEmpty)(this.values_)&&(this.values_=null);f||this.notify(d,a)}};return k}(qb["default"]);var v={};F["default"]=B};
shadow$provide[95]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[96]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(94));var m=g(B(95)),n=B(77),E=B(79),O=B(89),x=B(84),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=l}v(l,k);l.prototype=
null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(k){var d=v.call(this)||this,f=(0,O.assign)({},k);f[m["default"].OPACITY]=void 0!==k.opacity?k.opacity:1;(0,E.assert)("number"===typeof f[m["default"].OPACITY],64);f[m["default"].VISIBLE]=void 0!==k.visible?k.visible:!0;f[m["default"].Z_INDEX]=k.zIndex;f[m["default"].MAX_RESOLUTION]=void 0!==k.maxResolution?k.maxResolution:Infinity;f[m["default"].MIN_RESOLUTION]=void 0!==k.minResolution?k.minResolution:0;f[m["default"].MIN_ZOOM]=
void 0!==k.minZoom?k.minZoom:-Infinity;f[m["default"].MAX_ZOOM]=void 0!==k.maxZoom?k.maxZoom:Infinity;d.className_=void 0!==f.className?k.className:"ol-layer";delete f.className;d.setProperties(f);d.state_=null;return d}y(l,v);l.prototype.getClassName=function(){return this.className_};l.prototype.getLayerState=function(k){k=this.state_||{layer:this,managed:void 0===k?!0:k};var d=this.getZIndex();k.opacity=(0,x.clamp)(Math.round(100*this.getOpacity())/100,0,1);k.sourceState=this.getSourceState();
k.visible=this.getVisible();k.extent=this.getExtent();k.zIndex=void 0!==d?d:!1===k.managed?Infinity:0;k.maxResolution=this.getMaxResolution();k.minResolution=Math.max(this.getMinResolution(),0);k.minZoom=this.getMinZoom();k.maxZoom=this.getMaxZoom();return this.state_=k};l.prototype.getLayersArray=function(k){return(0,n["abstract"])()};l.prototype.getLayerStatesArray=function(k){return(0,n["abstract"])()};l.prototype.getExtent=function(){return this.get(m["default"].EXTENT)};l.prototype.getMaxResolution=
function(){return this.get(m["default"].MAX_RESOLUTION)};l.prototype.getMinResolution=function(){return this.get(m["default"].MIN_RESOLUTION)};l.prototype.getMinZoom=function(){return this.get(m["default"].MIN_ZOOM)};l.prototype.getMaxZoom=function(){return this.get(m["default"].MAX_ZOOM)};l.prototype.getOpacity=function(){return this.get(m["default"].OPACITY)};l.prototype.getSourceState=function(){return(0,n["abstract"])()};l.prototype.getVisible=function(){return this.get(m["default"].VISIBLE)};
l.prototype.getZIndex=function(){return this.get(m["default"].Z_INDEX)};l.prototype.setExtent=function(k){this.set(m["default"].EXTENT,k)};l.prototype.setMaxResolution=function(k){this.set(m["default"].MAX_RESOLUTION,k)};l.prototype.setMinResolution=function(k){this.set(m["default"].MIN_RESOLUTION,k)};l.prototype.setMaxZoom=function(k){this.set(m["default"].MAX_ZOOM,k)};l.prototype.setMinZoom=function(k){this.set(m["default"].MIN_ZOOM,k)};l.prototype.setOpacity=function(k){(0,E.assert)("number"===
typeof k,64);this.set(m["default"].OPACITY,k)};l.prototype.setVisible=function(k){this.set(m["default"].VISIBLE,k)};l.prototype.setZIndex=function(k){this.set(m["default"].Z_INDEX,k)};l.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);v.prototype.disposeInternal.call(this)};return l}(Ja["default"]);F["default"]=B};
shadow$provide[97]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[98]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[99]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F.inView=function(d,f){if(!d.visible)return!1;var a=f.resolution;if(a<d.minResolution||a>=d.maxResolution)return!1;f=f.zoom;return f>d.minZoom&&f<=d.maxZoom};F["default"]=void 0;Ja=g(B(96));var m=g(B(91)),n=g(B(95)),E=g(B(97)),O=g(B(98)),x=B(79),y=B(89),v=B(94),l=B(92),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a){var e=(0,y.assign)({},a);delete e.source;e=d.call(this,e)||this;e.mapPrecomposeKey_=null;e.mapRenderKey_=null;e.sourceChangeKey_=null;e.renderer_=null;a.render&&(e.render=a.render);a.map&&e.setMap(a.map);e.addEventListener((0,
v.getChangeEventType)(n["default"].SOURCE),e.handleSourcePropertyChange_);e.setSource(a.source?a.source:null);return e}k(f,d);f.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};f.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};f.prototype.getSource=function(){return this.get(n["default"].SOURCE)||null};f.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():O["default"].UNDEFINED};f.prototype.handleSourceChange_=
function(){this.changed()};f.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,l.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,l.listen)(a,m["default"].CHANGE,this.handleSourceChange_,this));this.changed()};f.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};f.prototype.render=function(a,e){var p=this.getRenderer();if(p.prepareFrame(a))return p.renderFrame(a,e)};f.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,l.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,l.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,l.listen)(a,E["default"].PRECOMPOSE,function(e){e=e.frameState.layerStatesArray;var p=this.getLayerState(!1);(0,x.assert)(!e.some(function(A){return A.layer===p.layer}),67);e.push(p)},this),this.mapRenderKey_=(0,l.listen)(this,m["default"].CHANGE,a.render,a),
this.changed())};f.prototype.setSource=function(a){this.set(n["default"].SOURCE,a)};f.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};f.prototype.hasRenderer=function(){return!!this.renderer_};f.prototype.createRenderer=function(){return null};f.prototype.disposeInternal=function(){this.setSource(null);d.prototype.disposeInternal.call(this)};return f}(Ja["default"]);F["default"]=B};
shadow$provide[100]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.padNumber=function(g,m,n){g=void 0!==n?g.toFixed(n):""+g;n=g.indexOf(".");n=-1===n?g.length:n;return n>m?g:Array(1+m-n).join("0")+g};F.compareVersions=function(g,m){g=(""+g).split(".");m=(""+m).split(".");for(var n=0;n<Math.max(g.length,m.length);n++){var E=parseInt(g[n]||"0",10),O=parseInt(m[n]||"0",10);if(E>O)return 1;if(O>E)return-1}return 0}};
shadow$provide[101]=function(Ja,B,qb,F){function g(k,d){var f=k[0];k=k[1];var a=d[0],e=d[1];d=a[0];a=a[1];var p=e[0];e=e[1];var A=p-d,C=e-a;f=0===A&&0===C?0:(A*(f-d)+C*(k-a))/(A*A+C*C||0);0>=f?(k=d,f=a):1<=f?(k=p,f=e):(k=d+f*A,f=a+f*C);return[k,f]}function m(k,d,f){d=(0,v.modulo)(d+180,360)-180;var a=Math.abs(3600*d);f=f||0;var e=Math.pow(10,f),p=Math.floor(a/3600),A=Math.floor((a-3600*p)/60);a=Math.ceil((a-3600*p-60*A)*e)/e;60<=a&&(a=0,A+=1);60<=A&&(A=0,p+=1);return p+" "+(0,l.padNumber)(A,2)+" "+
(0,l.padNumber)(a,2,f)+""+(0==d?"":" "+k.charAt(0>d?1:0))}function n(k,d,f){return k?d.replace("{x}",k[0].toFixed(f)).replace("{y}",k[1].toFixed(f)):""}function E(k,d){var f=k[0]-d[0];k=k[1]-d[1];return f*f+k*k}function O(k,d){return n(k,"{x}, {y}",d)}function x(k,d,f){var a=d.getExtent(),e=0;d.canWrapX()&&(k[0]<a[0]||k[0]>a[2])&&(d=f||(0,y.getWidth)(a),e=Math.floor((k[0]-a[0])/d));return e}Object.defineProperty(F,"__esModule",{value:!0});F.add=function(k,d){k[0]+=+d[0];k[1]+=+d[1];return k};F.closestOnCircle=
function(k,d){var f=d.getRadius(),a=d.getCenter();d=a[0];a=a[1];var e=k[0]-d;k=k[1]-a;0===e&&0===k&&(e=1);var p=Math.sqrt(e*e+k*k);return[d+f*e/p,a+f*k/p]};F.closestOnSegment=g;F.createStringXY=function(k){return function(d){return O(d,k)}};F.degreesToStringHDMS=m;F.format=n;F.equals=function(k,d){for(var f=!0,a=k.length-1;0<=a;--a)if(k[a]!=d[a]){f=!1;break}return f};F.rotate=function(k,d){var f=Math.cos(d);d=Math.sin(d);var a=k[1]*f+k[0]*d;k[0]=k[0]*f-k[1]*d;k[1]=a;return k};F.scale=function(k,d){k[0]*=
d;k[1]*=d;return k};F.squaredDistance=E;F.distance=function(k,d){return Math.sqrt(E(k,d))};F.squaredDistanceToSegment=function(k,d){return E(k,g(k,d))};F.toStringHDMS=function(k,d){return k?m("NS",k[1],d)+" "+m("EW",k[0],d):""};F.toStringXY=O;F.wrapX=function(k,d){if(d.canWrapX()){var f=(0,y.getWidth)(d.getExtent());(d=x(k,d,f))&&(k[0]-=d*f)}return k};F.getWorldsAway=x;var y=B(83),v=B(84),l=B(100)};
shadow$provide[102]=function(Ja,B,qb,F){function g(k,d){x.shared.expire()}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(k){return k&&k.__esModule?k:{"default":k}}(B(74));var m=B(76),n=B(77),E=B(80),O=B(83),x=B(86),y=B(99),v=B(101),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,
f){function a(){this.constructor=d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f){var a=k.call(this)||this;a.map_=f;return a}l(d,k);d.prototype.dispatchRenderEvent=function(f,a){(0,n["abstract"])()};d.prototype.calculateMatrices2D=function(f){var a=f.viewState,e=f.coordinateToPixelTransform,p=f.pixelToCoordinateTransform;(0,E.compose)(e,f.size[0]/2,f.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,E.makeInverse)(p,
e)};d.prototype.forEachFeatureAtCoordinate=function(f,a,e,p,A,C,D,P){function L(N,da,aa,wa){return A.call(C,da,N?aa:null,wa)}var G=a.viewState,z=G.projection,K=(0,v.wrapX)(f.slice(),z),H=[[0,0]];z.canWrapX()&&p&&(p=z.getExtent(),p=(0,O.getWidth)(p),H.push([-p,0],[p,0]));p=a.layerStatesArray;z=p.length;for(var R=[],U=[],ka=0;ka<H.length;ka++)for(var ba=z-1;0<=ba;--ba){var fa=p[ba],ja=fa.layer;if(ja.hasRenderer()&&(0,y.inView)(fa,G)&&D.call(P,ja)){var Z=ja.getRenderer();ja=ja.getSource();if(Z&&ja){ja=
ja.getWrapX()?K:f;fa=L.bind(null,fa.managed);U[0]=ja[0]+H[ka][0];U[1]=ja[1]+H[ka][1];var Q=Z.forEachFeatureAtCoordinate(U,a,e,fa,R)}if(Q)return Q}}if(0!==R.length){var q=1/R.length;R.forEach(function(N,da){return N.distanceSq+=da*q});R.sort(function(N,da){return N.distanceSq-da.distanceSq});R.some(function(N){return Q=N.callback(N.feature,N.layer,N.geometry)});return Q}};d.prototype.forEachLayerAtPixel=function(f,a,e,p,A){return(0,n["abstract"])()};d.prototype.hasFeatureAtCoordinate=function(f,a,
e,p,A,C){return void 0!==this.forEachFeatureAtCoordinate(f,a,e,p,m.TRUE,this,A,C)};d.prototype.getMap=function(){return this.map_};d.prototype.renderFrame=function(f){(0,n["abstract"])()};d.prototype.scheduleExpireIconCache=function(f){x.shared.canExpireCache()&&f.postRenderFunctions.push(g)};return d}(Ja["default"]);F["default"]=B};
shadow$provide[103]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(m){return m&&m.__esModule?m:{"default":m}}(B(87));var g=function(){var m=function(n,E){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,E)};return function(n,E){function O(){this.constructor=n}m(n,E);n.prototype=null===E?Object.create(E):(O.prototype=
E.prototype,new O)}}();Ja=function(m){function n(E,O,x,y){E=m.call(this,E)||this;E.inversePixelTransform=O;E.frameState=x;E.context=y;return E}g(n,m);return n}(Ja["default"]);F["default"]=Ja};
shadow$provide[104]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.getFontParameters=F.CLASS_COLLAPSED=F.CLASS_CONTROL=F.CLASS_UNSUPPORTED=F.CLASS_UNSELECTABLE=F.CLASS_SELECTABLE=F.CLASS_HIDDEN=void 0;F.CLASS_HIDDEN="ol-hidden";F.CLASS_SELECTABLE="ol-selectable";F.CLASS_UNSELECTABLE="ol-unselectable";F.CLASS_UNSUPPORTED="ol-unsupported";F.CLASS_CONTROL="ol-control";F.CLASS_COLLAPSED="ol-collapsed";var g=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
m="style variant weight size lineHeight family".split(" ");F.getFontParameters=function(n){n=n.match(g);if(!n)return null;for(var E={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},O=0,x=m.length;O<x;++O){var y=n[O+1];void 0!==y&&(E[m[O]]=y)}E.families=E.family.split(/,\s?/);return E}};
shadow$provide[105]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.PASSIVE_EVENT_LISTENERS=F.IMAGE_DECODE=F.WORKER_OFFSCREEN_CANVAS=F.DEVICE_PIXEL_RATIO=F.MAC=F.WEBKIT=F.SAFARI=F.FIREFOX=void 0;Ja="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";B=-1!==Ja.indexOf("firefox");F.FIREFOX=B;B=-1!==Ja.indexOf("safari")&&-1==Ja.indexOf("chrom");F.SAFARI=B;B=-1!==Ja.indexOf("webkit")&&-1==Ja.indexOf("edge");F.WEBKIT=B;Ja=
-1!==Ja.indexOf("macintosh");F.MAC=Ja;F.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;F.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;F.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ja=function(){var g=!1;try{var m=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("_",null,m);window.removeEventListener("_",null,m)}catch(n){}return g}();
F.PASSIVE_EVENT_LISTENERS=Ja};
shadow$provide[106]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.createCanvasContext2D=function(m,n,E){E=E&&E.length?E.shift():g.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(m||300,n||300):document.createElement("canvas");m&&(E.width=m);n&&(E.height=n);return E.getContext("2d")};F.outerWidth=function(m){var n=m.offsetWidth;m=getComputedStyle(m);return n+=parseInt(m.marginLeft,10)+parseInt(m.marginRight,10)};F.outerHeight=function(m){var n=m.offsetHeight;m=getComputedStyle(m);
return n+=parseInt(m.marginTop,10)+parseInt(m.marginBottom,10)};F.replaceNode=function(m,n){var E=n.parentNode;E&&E.replaceChild(m,n)};F.removeNode=function(m){return m&&m.parentNode?m.parentNode.removeChild(m):null};F.removeChildren=function(m){for(;m.lastChild;)m.removeChild(m.lastChild)};F.replaceChildren=function(m,n){for(var E=m.childNodes,O=0;;++O){var x=E[O],y=n[O];if(!x&&!y)break;x!==y&&(x?y?m.insertBefore(y,x):(m.removeChild(x),--O):m.appendChild(y))}};var g=B(105)};
shadow$provide[107]=function(Ja,B,qb,F){function g(e){return e&&e.__esModule?e:{"default":e}}function m(e,p){k||(k=(0,x.createCanvasContext2D)(1,1));e!=d&&(k.font=e,d=k.font);return k.measureText(p)}function n(e,p){return m(e,p).width}Object.defineProperty(F,"__esModule",{value:!0});F.measureTextWidth=n;F.measureAndCacheTextWidth=function(e,p,A){if(p in A)return A[p];e=n(e,p);return A[p]=e};F.measureTextWidths=function(e,p,A){for(var C=p.length,D=0,P=0;P<C;++P){var L=n(e,p[P]);D=Math.max(D,L);A.push(L)}return D};
F.rotateAtOffset=function(e,p,A,C){0!==p&&(e.translate(A,C),e.rotate(p),e.translate(-A,-C))};F.drawImageOrLabel=function(e,p,A,C,D,P,L,G,z,K,H){e.save();1!==A&&(e.globalAlpha*=A);p&&e.setTransform.apply(e,p);if(C.contextInstructions)for(e.translate(z,K),e.scale(H[0],H[1]),p=C.contextInstructions,A=0,C=p.length;A<C;A+=2)Array.isArray(p[A+1])?e[p[A]].apply(e,p[A+1]):e[p[A]]=p[A+1];else 0>H[0]||0>H[1]?(e.translate(z,K),e.scale(H[0],H[1]),e.drawImage(C,D,P,L,G,0,0,L,G)):e.drawImage(C,D,P,L,G,z,K,L*H[0],
G*H[1]);e.restore()};F.createTransformString=function(e){if(E.WORKER_OFFSCREEN_CANVAS)return(0,v.toString)(e);a||(a=(0,x.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,v.toString)(e);return a.style.transform};F.measureTextHeight=F.registerFont=F.textHeights=F.labelCache=F.checkedFonts=F.defaultLineWidth=F.defaultPadding=F.defaultTextBaseline=F.defaultTextAlign=F.defaultStrokeStyle=F.defaultMiterLimit=F.defaultLineJoin=F.defaultLineDashOffset=F.defaultLineDash=F.defaultLineCap=F.defaultFillStyle=
F.defaultFont=void 0;Ja=g(B(94));qb=g(B(90));var E=B(105),O=B(89),x=B(106),y=B(104),v=B(80);F.defaultFont="10px sans-serif";F.defaultFillStyle="#000";F.defaultLineCap="round";F.defaultLineDash=[];F.defaultLineDashOffset=0;F.defaultLineJoin="round";F.defaultMiterLimit=10;F.defaultStrokeStyle="#000";F.defaultTextAlign="center";F.defaultTextBaseline="middle";F.defaultPadding=[0,0,0,0];F.defaultLineWidth=1;var l=new Ja["default"];F.checkedFonts=l;B=new qb["default"];F.labelCache=B;B.setSize=function(){console.warn("labelCache is deprecated.")};
var k=null,d,f={};F.textHeights=f;B=function(){function e(L,G,z){for(var K=!0,H=0;H<C;++H){var R=A[H];P=n(L+" "+G+" 32px "+R,"wmytzilWMYTZIL@#/\x26?$%10");z!=R&&(R=n(L+" "+G+" 32px "+z+","+R,"wmytzilWMYTZIL@#/\x26?$%10"),K=K&&R!=P)}return K?!0:!1}function p(){for(var L=!0,G=l.getKeys(),z=0,K=G.length;z<K;++z){var H=G[z];100>l.get(H)&&(e.apply(this,H.split("\n"))?((0,O.clear)(f),k=null,d=void 0,l.set(H,100)):(l.set(H,l.get(H)+1,!0),L=!1))}L&&(clearInterval(D),D=void 0)}var A=["monospace","serif"],
C=A.length,D,P;return function(L){if(L=(0,y.getFontParameters)(L))for(var G=L.families,z=0,K=G.length;z<K;++z){var H=G[z],R=L.style+"\n"+L.weight+"\n"+H;void 0===l.get(R)&&(l.set(R,100,!0),e(L.style,L.weight,H)||(l.set(R,0,!0),void 0===D&&(D=setInterval(p,32))))}}}();F.registerFont=B;B=function(){var e;return function(p){var A=f[p];if(void 0==A){if(E.WORKER_OFFSCREEN_CANVAS){A=(0,y.getFontParameters)(p);var C=m(p,"g");A=(isNaN(Number(A.lineHeight))?1.2:Number(A.lineHeight))*(C.actualBoundingBoxAscent+
C.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.margin="0 !important",e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=p,document.body.appendChild(e),A=e.offsetHeight,document.body.removeChild(e);f[p]=A}return A}}();F.measureTextHeight=B;var a=null};
shadow$provide[108]=function(Ja,B,qb,F){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(102));var m=g(B(88)),n=g(B(103)),E=g(B(97)),O=g(B(98)),x=B(104),y=B(107),v=B(99),l=B(92),k=B(106),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,e)};return function(a,
e){function p(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}();B=function(f){function a(e){var p=f.call(this,e)||this;p.fontChangeListenerKey_=(0,l.listen)(y.checkedFonts,m["default"].PROPERTYCHANGE,e.redrawText.bind(e));p.element_=document.createElement("div");var A=p.element_.style;A.position="absolute";A.width="100%";A.height="100%";A.zIndex="0";p.element_.className=x.CLASS_UNSELECTABLE+" ol-layers";e=e.getViewport();e.insertBefore(p.element_,
e.firstChild||null);p.children_=[];p.renderedVisible_=!0;return p}d(a,f);a.prototype.dispatchRenderEvent=function(e,p){var A=this.getMap();A.hasListener(e)&&(e=new n["default"](e,void 0,p),A.dispatchEvent(e))};a.prototype.disposeInternal=function(){(0,l.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);f.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e);this.dispatchRenderEvent(E["default"].PRECOMPOSE,
e);var p=e.layerStatesArray.sort(function(K,H){return K.zIndex-H.zIndex}),A=e.viewState;this.children_.length=0;for(var C=[],D=null,P=0,L=p.length;P<L;++P){var G=p[P];e.layerIndex=P;if((0,v.inView)(G,A)&&(G.sourceState==O["default"].READY||G.sourceState==O["default"].UNDEFINED)){G=G.layer;var z=G.render(e,D);z&&(z!==D&&(this.children_.push(z),D=z),"getDeclutter"in G&&C.push(G))}}for(P=C.length-1;0<=P;--P)C[P].renderDeclutter(e);(0,k.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(E["default"].POSTCOMPOSE,
e);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(e,p,A,C,D){for(var P=p.viewState,L=p.layerStatesArray,G=L.length-1;0<=G;--G){var z=L[G],K=z.layer;if(K.hasRenderer()&&(0,v.inView)(z,P)&&D(K)&&(z=K.getRenderer().getDataAtPixel(e,p,A))&&(K=C(K,z)))return K}};return a}(Ja["default"]);F["default"]=B};
shadow$provide[109]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[110]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.CollectionEvent=void 0;var m=g(B(78));Ja=g(B(94));var n=g(B(109));B=g(B(87));var E=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=
y}x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}(),O=function(x){function y(v,l,k){v=x.call(this,v)||this;v.element=l;v.index=k;return v}E(y,x);return y}(B["default"]);F.CollectionEvent=O;B=function(x){function y(v,l){var k=x.call(this)||this;k.unique_=!!(l||{}).unique;k.array_=v?v:[];if(k.unique_)for(v=0,l=k.array_.length;v<l;++v)k.assertUnique_(k.array_[v],v);k.updateLength_();return k}E(y,x);y.prototype.clear=function(){for(;0<this.getLength();)this.pop()};y.prototype.extend=
function(v){for(var l=0,k=v.length;l<k;++l)this.push(v[l]);return this};y.prototype.forEach=function(v){for(var l=this.array_,k=0,d=l.length;k<d;++k)v(l[k],k,l)};y.prototype.getArray=function(){return this.array_};y.prototype.item=function(v){return this.array_[v]};y.prototype.getLength=function(){return this.get("length")};y.prototype.insertAt=function(v,l){this.unique_&&this.assertUnique_(l);this.array_.splice(v,0,l);this.updateLength_();this.dispatchEvent(new O(n["default"].ADD,l,v))};y.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};y.prototype.push=function(v){this.unique_&&this.assertUnique_(v);var l=this.getLength();this.insertAt(l,v);return this.getLength()};y.prototype.remove=function(v){for(var l=this.array_,k=0,d=l.length;k<d;++k)if(l[k]===v)return this.removeAt(k)};y.prototype.removeAt=function(v){var l=this.array_[v];this.array_.splice(v,1);this.updateLength_();this.dispatchEvent(new O(n["default"].REMOVE,l,v));return l};y.prototype.setAt=function(v,l){var k=this.getLength();
if(v<k)this.unique_&&this.assertUnique_(l,v),k=this.array_[v],this.array_[v]=l,this.dispatchEvent(new O(n["default"].REMOVE,k,v)),this.dispatchEvent(new O(n["default"].ADD,l,v));else{for(;k<v;++k)this.insertAt(k,void 0);this.insertAt(v,l)}};y.prototype.updateLength_=function(){this.set("length",this.array_.length)};y.prototype.assertUnique_=function(v,l){for(var k=0,d=this.array_.length;k<d;++k)if(this.array_[k]===v&&k!==l)throw new m["default"](58);};return y}(Ja["default"]);F["default"]=B};
shadow$provide[111]=function(Ja,B,qb,F){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(96));var m=g(B(110)),n=g(B(109)),E=g(B(91)),O=g(B(88)),x=g(B(98)),y=B(79),v=B(89),l=B(94),k=B(83),d=B(77),f=B(92),a=function(){var e=function(p,A){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,D){C.__proto__=D}||function(C,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(C[P]=D[P])};return e(p,A)};
return function(p,A){function C(){this.constructor=p}e(p,A);p.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();B=function(e){function p(A){var C=A||{};A=(0,v.assign)({},C);delete A.layers;C=C.layers;A=e.call(this,A)||this;A.layersListenerKeys_=[];A.listenerKeys_={};A.addEventListener((0,l.getChangeEventType)("layers"),A.handleLayersChanged_);C?Array.isArray(C)?C=new m["default"](C.slice(),{unique:!0}):(0,y.assert)("function"===typeof C.getArray,43):C=new m["default"](void 0,
{unique:!0});A.setLayers(C);return A}a(p,e);p.prototype.handleLayerChange_=function(){this.changed()};p.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.unlistenByKey);this.layersListenerKeys_.length=0;var A=this.getLayers();this.layersListenerKeys_.push((0,f.listen)(A,n["default"].ADD,this.handleLayersAdd_,this),(0,f.listen)(A,n["default"].REMOVE,this.handleLayersRemove_,this));for(var C in this.listenerKeys_)this.listenerKeys_[C].forEach(f.unlistenByKey);(0,v.clear)(this.listenerKeys_);
A=A.getArray();C=0;for(var D=A.length;C<D;C++){var P=A[C];this.listenerKeys_[(0,d.getUid)(P)]=[(0,f.listen)(P,O["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(P,E["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};p.prototype.handleLayersAdd_=function(A){A=A.element;this.listenerKeys_[(0,d.getUid)(A)]=[(0,f.listen)(A,O["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(A,E["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};p.prototype.handleLayersRemove_=
function(A){A=A.element;A=(0,d.getUid)(A);this.listenerKeys_[A].forEach(f.unlistenByKey);delete this.listenerKeys_[A];this.changed()};p.prototype.getLayers=function(){return this.get("layers")};p.prototype.setLayers=function(A){this.set("layers",A)};p.prototype.getLayersArray=function(A){var C=void 0!==A?A:[];this.getLayers().forEach(function(D){D.getLayersArray(C)});return C};p.prototype.getLayerStatesArray=function(A){var C=void 0!==A?A:[],D=C.length;this.getLayers().forEach(function(G){G.getLayerStatesArray(C)});
A=this.getLayerState();for(var P=C.length;D<P;D++){var L=C[D];L.opacity*=A.opacity;L.visible=L.visible&&A.visible;L.maxResolution=Math.min(L.maxResolution,A.maxResolution);L.minResolution=Math.max(L.minResolution,A.minResolution);L.minZoom=Math.max(L.minZoom,A.minZoom);L.maxZoom=Math.min(L.maxZoom,A.maxZoom);void 0!==A.extent&&(L.extent=void 0!==L.extent?(0,k.getIntersection)(L.extent,A.extent):A.extent)}return C};p.prototype.getSourceState=function(){return x["default"].READY};return p}(Ja["default"]);
F["default"]=B};
shadow$provide[112]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(m){return m&&m.__esModule?m:{"default":m}}(B(87));var g=function(){var m=function(n,E){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,E)};return function(n,E){function O(){this.constructor=n}m(n,E);n.prototype=null===E?Object.create(E):(O.prototype=
E.prototype,new O)}}();Ja=function(m){function n(E,O,x){E=m.call(this,E)||this;E.map=O;E.frameState=void 0!==x?x:null;return E}g(n,m);return n}(Ja["default"]);F["default"]=Ja};
shadow$provide[113]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(m){return m&&m.__esModule?m:{"default":m}}(B(112));var g=function(){var m=function(n,E){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,E)};return function(n,E){function O(){this.constructor=n}m(n,E);n.prototype=null===E?Object.create(E):(O.prototype=
E.prototype,new O)}}();Ja=function(m){function n(E,O,x,y,v){E=m.call(this,E,O,v)||this;E.originalEvent=x;E.pixel_=null;E.coordinate_=null;E.dragging=void 0!==y?y:!1;return E}g(n,m);Object.defineProperty(n.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(E){this.pixel_=E},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(E){this.coordinate_=E},enumerable:!1,configurable:!0});n.prototype.preventDefault=function(){m.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};n.prototype.stopPropagation=function(){m.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return n}(Ja["default"]);F["default"]=Ja};
shadow$provide[114]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=(Ja=B(91))&&Ja.__esModule?Ja:{"default":Ja};F["default"]={SINGLECLICK:"singleclick",CLICK:Ja["default"].CLICK,DBLCLICK:Ja["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[115]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[116]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(90));var m=g(B(91)),n=g(B(113)),E=g(B(114)),O=g(B(115)),x=B(105),y=B(92),v=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=
k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();B=function(l){function k(d,f){var a=l.call(this,d)||this;a.map_=d;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=f?f*x.DEVICE_PIXEL_RATIO:x.DEVICE_PIXEL_RATIO;a.down_=null;d=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=d;a.pointerdownListenerKey_=(0,y.listen)(d,O["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,y.listen)(d,O["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(m["default"].TOUCHMOVE,a.boundHandleTouchMove_,x.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}v(k,l);k.prototype.emulateClick_=function(d){var f=new n["default"](E["default"].CLICK,this.map_,d);this.dispatchEvent(f);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,f=new n["default"](E["default"].DBLCLICK,this.map_,d),this.dispatchEvent(f)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new n["default"](E["default"].SINGLECLICK,this.map_,d);this.dispatchEvent(a)}.bind(this),250)};k.prototype.updateActivePointers_=function(d){d.type==E["default"].POINTERUP||d.type==E["default"].POINTERCANCEL?delete this.trackedTouches_[d.pointerId]:d.type==E["default"].POINTERDOWN&&(this.trackedTouches_[d.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};k.prototype.handlePointerUp_=function(d){this.updateActivePointers_(d);
var f=new n["default"](E["default"].POINTERUP,this.map_,d);this.dispatchEvent(f);this.emulateClicks_&&!f.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(d)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(y.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};k.prototype.isMouseActionButton_=function(d){return 0===d.button};k.prototype.handlePointerDown_=function(d){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(d);
var f=new n["default"](E["default"].POINTERDOWN,this.map_,d);this.dispatchEvent(f);this.down_=d;0===this.dragListenerKeys_.length&&(d=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,y.listen)(d,E["default"].POINTERMOVE,this.handlePointerMove_,this),(0,y.listen)(d,E["default"].POINTERUP,this.handlePointerUp_,this),(0,y.listen)(this.element_,E["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push((0,
y.listen)(this.element_.getRootNode(),E["default"].POINTERUP,this.handlePointerUp_,this)))};k.prototype.handlePointerMove_=function(d){this.isMoving_(d)&&(this.dragging_=!0,d=new n["default"](E["default"].POINTERDRAG,this.map_,d,this.dragging_),this.dispatchEvent(d))};k.prototype.relayEvent_=function(d){this.originalPointerMoveEvent_=d;var f=!(!this.down_||!this.isMoving_(d));this.dispatchEvent(new n["default"](d.type,this.map_,d,f))};k.prototype.handleTouchMove_=function(d){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||d.preventDefault()};k.prototype.isMoving_=function(d){return this.dragging_||Math.abs(d.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(d.clientY-this.down_.clientY)>this.moveTolerance_};k.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,y.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(m["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,y.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(y.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;l.prototype.disposeInternal.call(this)};return k}(Ja["default"]);F["default"]=B};
shadow$provide[117]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[118]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[119]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.DROP=void 0;var g=B(79),m=B(89);F.DROP=Infinity;Ja=function(){function n(E,O){this.priorityFunction_=E;this.keyFunction_=O;this.elements_=[];this.priorities_=[];this.queuedElements_={}}n.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,m.clear)(this.queuedElements_)};n.prototype.dequeue=function(){var E=this.elements_,O=this.priorities_,x=E[0];1==E.length?(E.length=
0,O.length=0):(E[0]=E.pop(),O[0]=O.pop(),this.siftUp_(0));E=this.keyFunction_(x);delete this.queuedElements_[E];return x};n.prototype.enqueue=function(E){(0,g.assert)(!(this.keyFunction_(E)in this.queuedElements_),31);var O=this.priorityFunction_(E);return Infinity!=O?(this.elements_.push(E),this.priorities_.push(O),this.queuedElements_[this.keyFunction_(E)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};n.prototype.getCount=function(){return this.elements_.length};n.prototype.getLeftChildIndex_=
function(E){return 2*E+1};n.prototype.getRightChildIndex_=function(E){return 2*E+2};n.prototype.getParentIndex_=function(E){return E-1>>1};n.prototype.heapify_=function(){var E;for(E=(this.elements_.length>>1)-1;0<=E;E--)this.siftUp_(E)};n.prototype.isEmpty=function(){return 0===this.elements_.length};n.prototype.isKeyQueued=function(E){return E in this.queuedElements_};n.prototype.isQueued=function(E){return this.isKeyQueued(this.keyFunction_(E))};n.prototype.siftUp_=function(E){for(var O=this.elements_,
x=this.priorities_,y=O.length,v=O[E],l=x[E],k=E;E<y>>1;){var d=this.getLeftChildIndex_(E),f=this.getRightChildIndex_(E);d=f<y&&x[f]<x[d]?f:d;O[E]=O[d];x[E]=x[d];E=d}O[E]=v;x[E]=l;this.siftDown_(k,E)};n.prototype.siftDown_=function(E,O){for(var x=this.elements_,y=this.priorities_,v=x[O],l=y[O];O>E;){var k=this.getParentIndex_(O);if(y[k]>l)x[O]=x[k],y[O]=y[k],O=k;else break}x[O]=v;y[O]=l};n.prototype.reprioritize=function(){var E=this.priorityFunction_,O=this.elements_,x=this.priorities_,y=0,v=O.length,
l;for(l=0;l<v;++l){var k=O[l];var d=E(k);Infinity==d?delete this.queuedElements_[this.keyFunction_(k)]:(x[y]=d,O[y++]=k)}O.length=y;x.length=y;this.heapify_()};return n}();F["default"]=Ja};
shadow$provide[120]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[121]=function(Ja,B,qb,F){function g(v){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};return g(v)}function m(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;m=function(){return v};return v}function n(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(F,"__esModule",{value:!0});F.getTilePriority=function(v,
l,k,d,f){if(!(v&&k in v.wantedTiles&&v.wantedTiles[k][l.getKey()]))return O.DROP;l=v.viewState.center;v=d[0]-l[0];d=d[1]-l[1];return 65536*Math.log(f)+Math.sqrt(v*v+d*d)/f};F["default"]=void 0;var E=n(B(91)),O=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==g(v)&&"function"!==typeof v)return{"default":v};var l=m();if(l&&l.has(v))return l.get(v);var k={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)){var a=d?Object.getOwnPropertyDescriptor(v,
f):null;a&&(a.get||a.set)?Object.defineProperty(k,f,a):k[f]=v[f]}k["default"]=v;l&&l.set(v,k);return k}(B(119)),x=n(B(120)),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=l}v(l,k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();Ja=function(v){function l(k,
d){var f=v.call(this,function(a){return k.apply(null,a)},function(a){return a[0].getKey()})||this;f.boundHandleTileChange_=f.handleTileChange.bind(f);f.tileChangeCallback_=d;f.tilesLoading_=0;f.tilesLoadingKeys_={};return f}y(l,v);l.prototype.enqueue=function(k){var d=v.prototype.enqueue.call(this,k);d&&k[0].addEventListener(E["default"].CHANGE,this.boundHandleTileChange_);return d};l.prototype.getTilesLoading=function(){return this.tilesLoading_};l.prototype.handleTileChange=function(k){k=k.target;
var d=k.getState();if(k.hifi&&d===x["default"].LOADED||d===x["default"].ERROR||d===x["default"].EMPTY)k.removeEventListener(E["default"].CHANGE,this.boundHandleTileChange_),k=k.getKey(),k in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[k],--this.tilesLoading_),this.tileChangeCallback_()};l.prototype.loadMoreTiles=function(k,d){for(var f=0,a,e,p;this.tilesLoading_<k&&f<d&&0<this.getCount();)e=this.dequeue()[0],p=e.getKey(),a=e.getState(),a!==x["default"].IDLE||p in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[p]=!0,++this.tilesLoading_,++f,e.load())};return l}(O["default"]);F["default"]=Ja};
shadow$provide[122]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[123]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.METERS_PER_UNIT=void 0;Ja={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};B={};F.METERS_PER_UNIT=B;B[Ja.DEGREES]=12741994*Math.PI/360;B[Ja.FEET]=.3048;B[Ja.METERS]=1;B[Ja.USFEET]=1200/3937;F["default"]=Ja};
shadow$provide[124]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[125]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[126]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.DEFAULT_MAX_ZOOM=42;F.DEFAULT_TILE_SIZE=256};
shadow$provide[127]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=B(123);Ja=function(){function m(n){this.code_=n.code;this.units_=n.units;this.extent_=void 0!==n.extent?n.extent:null;this.worldExtent_=void 0!==n.worldExtent?n.worldExtent:null;this.axisOrientation_=void 0!==n.axisOrientation?n.axisOrientation:"enu";this.global_=void 0!==n.global?n.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=n.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=n.metersPerUnit}m.prototype.canWrapX=function(){return this.canWrapX_};m.prototype.getCode=function(){return this.code_};m.prototype.getExtent=function(){return this.extent_};m.prototype.getUnits=function(){return this.units_};m.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||g.METERS_PER_UNIT[this.units_]};m.prototype.getWorldExtent=function(){return this.worldExtent_};m.prototype.getAxisOrientation=function(){return this.axisOrientation_};
m.prototype.isGlobal=function(){return this.global_};m.prototype.setGlobal=function(n){this.global_=n;this.canWrapX_=!(!n||!this.extent_)};m.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};m.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n};m.prototype.setExtent=function(n){this.extent_=n;this.canWrapX_=!(!this.global_||!n)};m.prototype.setWorldExtent=function(n){this.worldExtent_=n};m.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n};
m.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return m}();F["default"]=Ja};
shadow$provide[128]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F.fromEPSG4326=function(l,k,d){var f=l.length;d=1<d?d:2;void 0===k&&(k=2<d?l.slice():Array(f));for(var a=0;a<f;a+=d){k[a]=O*l[a]/180;var e=6378137*Math.log(Math.tan(Math.PI*(+l[a+1]+90)/360));e>v?e=v:e<-v&&(e=-v);k[a+1]=e}return k};F.toEPSG4326=function(l,k,d){var f=l.length;d=1<d?d:2;void 0===k&&(k=2<d?l.slice():Array(f));for(var a=0;a<f;a+=d)k[a]=180*l[a]/
O,k[a+1]=360*Math.atan(Math.exp(l[a+1]/6378137))/Math.PI-90;return k};F.PROJECTIONS=F.MAX_SAFE_Y=F.WORLD_EXTENT=F.EXTENT=F.HALF_SIZE=F.RADIUS=void 0;Ja=g(B(127));var m=g(B(123)),n=B(84),E=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,d);k.prototype=null===d?Object.create(d):
(f.prototype=d.prototype,new f)}}();F.RADIUS=6378137;var O=6378137*Math.PI;F.HALF_SIZE=O;var x=[-O,-O,O,O];F.EXTENT=x;var y=[-180,-85,180,85];F.WORLD_EXTENT=y;var v=6378137*Math.log(Math.tan(Math.PI/2));F.MAX_SAFE_Y=v;B=function(l){function k(d){return l.call(this,{code:d,units:m["default"].METERS,extent:x,global:!0,worldExtent:y,getPointResolution:function(f,a){return f/(0,n.cosh)(a[1]/6378137)}})||this}E(k,l);return k}(Ja["default"]);B=[new B("EPSG:3857"),new B("EPSG:102100"),new B("EPSG:102113"),
new B("EPSG:900913"),new B("http://www.opengis.net/gml/srs/epsg.xml#3857")];F.PROJECTIONS=B};
shadow$provide[129]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F.PROJECTIONS=F.METERS_PER_UNIT=F.EXTENT=F.RADIUS=void 0;Ja=g(B(127));var m=g(B(123)),n=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}
x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();F.RADIUS=6378137;var E=[-180,-90,180,90];F.EXTENT=E;var O=6378137*Math.PI/180;F.METERS_PER_UNIT=O;B=function(x){function y(v,l){return x.call(this,{code:v,units:m["default"].DEGREES,extent:E,axisOrientation:l,global:!0,metersPerUnit:O,worldExtent:E})||this}n(y,x);return y}(Ja["default"]);B=[new B("CRS:84"),new B("EPSG:4326","neu"),new B("urn:ogc:def:crs:OGC:1.3:CRS84"),new B("urn:ogc:def:crs:OGC:2:84"),new B("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];F.PROJECTIONS=B};
shadow$provide[130]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.clear=function(){g={}};F.get=function(m){return g[m]||g[m.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};F.add=function(m,n){g[m]=n};var g={}};
shadow$provide[131]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.clear=function(){m={}};F.add=function(n,E,O){n=n.getCode();E=E.getCode();n in m||(m[n]={});m[n][E]=O};F.remove=function(n,E){n=n.getCode();E=E.getCode();var O=m[n][E];delete m[n][E];(0,g.isEmpty)(m[n])&&delete m[n];return O};F.get=function(n,E){var O;n in m&&E in m[n]&&(O=m[n][E]);return O};var g=B(89),m={}};
shadow$provide[132]=function(Ja,B,qb,F){function g(l,k,d){d=d||v;var f=(0,y.toRadians)(l[1]),a=(0,y.toRadians)(k[1]),e=(a-f)/2;l=(0,y.toRadians)(k[0]-l[0])/2;l=Math.sin(e)*Math.sin(e)+Math.sin(l)*Math.sin(l)*Math.cos(f)*Math.cos(a);return 2*d*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function m(l,k){for(var d=0,f=0,a=l.length;f<a-1;++f)d+=g(l[f],l[f+1],k);return d}function n(l,k){var d=k||{},f=d.radius||v;d=d.projection||"EPSG:3857";var a=l.getType();a!==x["default"].GEOMETRY_COLLECTION&&(l=l.clone().transform(d,
"EPSG:4326"));d=0;var e;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:break;case x["default"].LINE_STRING:case x["default"].LINEAR_RING:k=l.getCoordinates();d=m(k,f);break;case x["default"].MULTI_LINE_STRING:case x["default"].POLYGON:k=l.getCoordinates();l=0;for(a=k.length;l<a;++l)d+=m(k[l],f);break;case x["default"].MULTI_POLYGON:k=l.getCoordinates();l=0;for(a=k.length;l<a;++l){var p=k[l];var A=0;for(e=p.length;A<e;++A)d+=m(p[A],f)}break;case x["default"].GEOMETRY_COLLECTION:f=
l.getGeometries();l=0;for(a=f.length;l<a;++l)d+=n(f[l],k);break;default:throw Error("Unsupported geometry type: "+a);}return d}function E(l,k){for(var d=0,f=l.length,a=l[f-1][0],e=l[f-1][1],p=0;p<f;p++){var A=l[p][0],C=l[p][1];d+=(0,y.toRadians)(A-a)*(2+Math.sin((0,y.toRadians)(e))+Math.sin((0,y.toRadians)(C)));a=A;e=C}return d*k*k/2}function O(l,k){var d=k||{},f=d.radius||v;d=d.projection||"EPSG:3857";var a=l.getType();a!==x["default"].GEOMETRY_COLLECTION&&(l=l.clone().transform(d,"EPSG:4326"));
d=0;var e;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:case x["default"].LINE_STRING:case x["default"].MULTI_LINE_STRING:case x["default"].LINEAR_RING:break;case x["default"].POLYGON:k=l.getCoordinates();d=Math.abs(E(k[0],f));l=1;for(a=k.length;l<a;++l)d-=Math.abs(E(k[l],f));break;case x["default"].MULTI_POLYGON:k=l.getCoordinates();l=0;for(a=k.length;l<a;++l){var p=k[l];d+=Math.abs(E(p[0],f));var A=1;for(e=p.length;A<e;++A)d-=Math.abs(E(p[A],f))}break;case x["default"].GEOMETRY_COLLECTION:f=
l.getGeometries();l=0;for(a=f.length;l<a;++l)d+=O(f[l],k);break;default:throw Error("Unsupported geometry type: "+a);}return d}Object.defineProperty(F,"__esModule",{value:!0});F.getDistance=g;F.getLength=n;F.getArea=O;F.offset=function(l,k,d,f){var a=f||v;f=(0,y.toRadians)(l[1]);l=(0,y.toRadians)(l[0]);a=k/a;k=Math.asin(Math.sin(f)*Math.cos(a)+Math.cos(f)*Math.sin(a)*Math.cos(d));d=l+Math.atan2(Math.sin(d)*Math.sin(a)*Math.cos(f),Math.cos(a)-Math.sin(f)*Math.sin(k));return[(0,y.toDegrees)(d),(0,y.toDegrees)(k)]};
F.DEFAULT_RADIUS=void 0;var x=function(l){return l&&l.__esModule?l:{"default":l}}(B(122)),y=B(84),v=6371008.8;F.DEFAULT_RADIUS=v};
shadow$provide[133]=function(Ja,B,qb,F){function g(ba){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(fa){return typeof fa}:function(fa){return fa&&"function"===typeof Symbol&&fa.constructor===Symbol&&fa!==Symbol.prototype?"symbol":typeof fa};return g(ba)}function m(){if("function"!==typeof WeakMap)return null;var ba=new WeakMap;m=function(){return ba};return ba}function n(ba,fa,ja){if(void 0!==fa){ja=0;for(var Z=ba.length;ja<Z;++ja)fa[ja]=ba[ja];ba=fa}else ba=ba.slice();
return ba}function E(ba,fa,ja){if(void 0!==fa&&ba!==fa){ja=0;for(var Z=ba.length;ja<Z;++ja)fa[ja]=ba[ja];ba=fa}return ba}function O(ba){(0,G.add)(ba.getCode(),ba);(0,z.add)(ba,ba,n)}function x(ba){ba.forEach(O)}function y(ba){return"string"===typeof ba?(0,G.get)(ba):ba||null}function v(ba){x(ba);ba.forEach(function(fa){ba.forEach(function(ja){fa!==ja&&(0,z.add)(fa,ja,n)})})}function l(ba,fa,ja,Z){ba.forEach(function(Q){fa.forEach(function(q){(0,z.add)(Q,q,ja);(0,z.add)(q,Q,Z)})})}function k(ba){return function(fa,
ja,Z){var Q=fa.length;Z=void 0!==Z?Z:2;ja=void 0!==ja?ja:Array(Q);for(var q=0;q<Q;q+=Z){var N=ba([fa[q],fa[q+1]]);ja[q]=N[0];ja[q+1]=N[1];for(N=Z-1;2<=N;--N)ja[q+N]=fa[q+N]}return ja}}function d(ba,fa){ba=ba.getCode();fa=fa.getCode();(fa=(0,z.get)(ba,fa))||(fa=E);return fa}function f(ba,fa){ba=y(ba);fa=y(fa);return d(ba,fa)}function a(ba,fa,ja){return f(fa,ja)(ba,void 0,ba.length)}function e(ba,fa,ja,Z){fa=f(fa,ja);return(0,K.applyTransform)(ba,fa,void 0,Z)}function p(ba){ka=y(ba)}function A(){v(P.PROJECTIONS);
v(L.PROJECTIONS);l(L.PROJECTIONS,P.PROJECTIONS,P.fromEPSG4326,P.toEPSG4326)}Object.defineProperty(F,"__esModule",{value:!0});F.cloneTransform=n;F.identityTransform=E;F.addProjection=O;F.addProjections=x;F.get=y;F.getPointResolution=function(ba,fa,ja,Z){ba=y(ba);var Q=ba.getPointResolutionFunc();if(Q)fa=Q(fa,ja),Z&&Z!==ba.getUnits()&&(ba=ba.getMetersPerUnit())&&(fa=fa*ba/D.METERS_PER_UNIT[Z]);else{var q=ba.getUnits();q==D["default"].DEGREES&&!Z||Z==D["default"].DEGREES||(Q=d(ba,y("EPSG:4326")),Q===
E&&q!==D["default"].DEGREES?fa*=ba.getMetersPerUnit():(fa=[ja[0]-fa/2,ja[1],ja[0]+fa/2,ja[1],ja[0],ja[1]-fa/2,ja[0],ja[1]+fa/2],fa=Q(fa,fa,2),ja=(0,R.getDistance)(fa.slice(0,2),fa.slice(2,4)),fa=(0,R.getDistance)(fa.slice(4,6),fa.slice(6,8)),fa=(ja+fa)/2),ba=Z?D.METERS_PER_UNIT[Z]:ba.getMetersPerUnit(),void 0!==ba&&(fa/=ba))}return fa};F.addEquivalentProjections=v;F.addEquivalentTransforms=l;F.clearAllProjections=function(){(0,G.clear)();(0,z.clear)()};F.createProjection=function(ba,fa){return ba?
"string"===typeof ba?y(ba):ba:y(fa)};F.createTransformFromCoordinateTransform=k;F.addCoordinateTransforms=function(ba,fa,ja,Z){ba=y(ba);fa=y(fa);(0,z.add)(ba,fa,k(ja));(0,z.add)(fa,ba,k(Z))};F.fromLonLat=function(ba,fa){return a(ba,"EPSG:4326",void 0!==fa?fa:"EPSG:3857")};F.toLonLat=function(ba,fa){ba=a(ba,void 0!==fa?fa:"EPSG:3857","EPSG:4326");fa=ba[0];if(-180>fa||180<fa)ba[0]=(0,H.modulo)(fa+180,360)-180;return ba};F.equivalent=function(ba,fa){if(ba===fa)return!0;var ja=ba.getUnits()===fa.getUnits();
return ba.getCode()===fa.getCode()?ja:d(ba,fa)===n&&ja};F.getTransformFromProjections=d;F.getTransform=f;F.transform=a;F.transformExtent=e;F.transformWithProjections=function(ba,fa,ja){return d(fa,ja)(ba)};F.setUserProjection=p;F.clearUserProjection=function(){ka=null};F.getUserProjection=function(){return ka};F.useGeographic=function(){p("EPSG:4326")};F.toUserCoordinate=function(ba,fa){return ka?a(ba,fa,ka):ba};F.fromUserCoordinate=function(ba,fa){return ka?a(ba,ka,fa):ba};F.toUserExtent=function(ba,
fa){return ka?e(ba,fa,ka):ba};F.fromUserExtent=function(ba,fa){return ka?e(ba,ka,fa):ba};F.createSafeCoordinateTransform=function(ba,fa,ja){return function(Z){var Q=Z[0],q=Z[1],N;if(ba.canWrapX()){var da=ba.getExtent(),aa=(0,K.getWidth)(da);(N=(0,U.getWorldsAway)(Z,ba,aa))&&(Q-=N*aa);Q=(0,H.clamp)(Q,da[0],da[2]);q=(0,H.clamp)(q,da[1],da[3]);Z=ja([Q,q])}else Z=ja(Z);N&&fa.canWrapX()&&(Z[0]+=N*(0,K.getWidth)(fa.getExtent()));return Z}};F.addCommon=A;Object.defineProperty(F,"Projection",{enumerable:!0,
get:function(){return C["default"]}});Object.defineProperty(F,"METERS_PER_UNIT",{enumerable:!0,get:function(){return D.METERS_PER_UNIT}});var C=function(ba){return ba&&ba.__esModule?ba:{"default":ba}}(B(127)),D=function(ba){if(ba&&ba.__esModule)return ba;if(null===ba||"object"!==g(ba)&&"function"!==typeof ba)return{"default":ba};var fa=m();if(fa&&fa.has(ba))return fa.get(ba);var ja={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor,Q;for(Q in ba)if(Object.prototype.hasOwnProperty.call(ba,
Q)){var q=Z?Object.getOwnPropertyDescriptor(ba,Q):null;q&&(q.get||q.set)?Object.defineProperty(ja,Q,q):ja[Q]=ba[Q]}ja["default"]=ba;fa&&fa.set(ba,ja);return ja}(B(123)),P=B(128),L=B(129),G=B(130),z=B(131),K=B(83),H=B(84),R=B(132),U=B(101),ka=null;A()};
shadow$provide[134]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.createExtent=function(m,n,E){return function(O,x,y,v,l){if(O){var k=n?0:y[0]*x,d=n?0:y[1]*x;y=l?l[0]:0;var f=l?l[1]:0;l=m[0]+k/2+y;k=m[2]-k/2+y;y=m[1]+d/2+f;d=m[3]-d/2+f;l>k&&(k=l=(k+l)/2);y>d&&(d=y=(d+y)/2);f=(0,g.clamp)(O[0],l,k);var a=(0,g.clamp)(O[1],y,d);x*=30;v&&E&&(f+=-x*Math.log(1+Math.max(0,l-O[0])/x)+x*Math.log(1+Math.max(0,O[0]-k)/x),a+=-x*Math.log(1+Math.max(0,y-O[1])/x)+x*Math.log(1+Math.max(0,
O[1]-d)/x));return[f,a]}}};F.none=function(m){return m};var g=B(84)};
shadow$provide[135]=function(Ja,B,qb,F){function g(x,y,v,l){var k=(0,E.getWidth)(y)/v[0];y=(0,E.getHeight)(y)/v[1];return l?Math.min(x,Math.max(k,y)):Math.min(x,Math.min(k,y))}function m(x,y,v){var l=Math.min(x,y);l*=Math.log(1+50*Math.max(0,x/y-1))/50+1;v&&(l=Math.max(l,v),l/=Math.log(1+50*Math.max(0,v/x-1))/50+1);return(0,n.clamp)(l,v/2,2*y)}Object.defineProperty(F,"__esModule",{value:!0});F.createSnapToResolutions=function(x,y,v,l){return function(k,d,f,a){if(void 0!==k){var e=x[0],p=x[x.length-
1];f=v?g(e,v,f,l):e;if(a)return void 0===y||y?m(k,f,p):(0,n.clamp)(k,p,f);k=Math.min(f,k);d=Math.floor((0,O.linearFindNearest)(x,k,d));return x[d]>f&&d<x.length-1?x[d+1]:x[d]}}};F.createSnapToPower=function(x,y,v,l,k,d){return function(f,a,e,p){if(void 0!==f){e=k?g(y,k,e,d):y;var A=void 0!==v?v:0;if(p)return void 0===l||l?m(f,e,A):(0,n.clamp)(f,A,e);f=y/Math.pow(x,Math.max(Math.ceil(Math.log(y/e)/Math.log(x)-1E-9),Math.floor(Math.log(y/Math.min(e,f))/Math.log(x)+(-a*(.5-1E-9)+.5))));return(0,n.clamp)(f,
A,e)}}};F.createMinMaxResolution=function(x,y,v,l,k){return function(d,f,a,e){if(void 0!==d)return f=l?g(x,l,a,k):x,void 0!==v&&!v||!e?(0,n.clamp)(d,y,f):m(d,f,y)}};var n=B(84),E=B(83),O=B(75)};
shadow$provide[136]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.disable=function(m){if(void 0!==m)return 0};F.none=function(m){if(void 0!==m)return m};F.createSnapToN=function(m){var n=2*Math.PI/m;return function(E,O){if(O)return E;if(void 0!==E)return E=Math.floor(E/n+.5)*n}};F.createSnapToZero=function(m){var n=m||(0,g.toRadians)(5);return function(E,O){if(O)return E;if(void 0!==E)return Math.abs(E)<=n?0:E}};var g=B(84)};
shadow$provide[137]=function(Ja,B,qb,F){function g(n){return Math.pow(n,3)}function m(n){return 3*n*n-2*n*n*n}Object.defineProperty(F,"__esModule",{value:!0});F.easeIn=g;F.easeOut=function(n){return 1-g(1-n)};F.inAndOut=m;F.linear=function(n){return n};F.upAndDown=function(n){return.5>n?m(2*n):1-m(2*(n-.5))}};
shadow$provide[138]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[139]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.transform2D=function(g,m,n,E,O,x){for(var y=x?x:[],v=0;m<n;m+=E){var l=g[m],k=g[m+1];y[v++]=O[0]*l+O[2]*k+O[4];y[v++]=O[1]*l+O[3]*k+O[5]}x&&y.length!=v&&(y.length=v);return y};F.rotate=function(g,m,n,E,O,x,y){var v=y?y:[],l=Math.cos(O);O=Math.sin(O);var k=x[0];x=x[1];for(var d=0;m<n;m+=E){var f=g[m]-k,a=g[m+1]-x;v[d++]=k+f*l-a*O;v[d++]=x+f*O+a*l;for(f=m+2;f<m+E;++f)v[d++]=g[f]}y&&v.length!=d&&(v.length=d);return v};
F.scale=function(g,m,n,E,O,x,y,v){var l=v?v:[],k=y[0];y=y[1];for(var d=0;m<n;m+=E){var f=g[m]-k,a=g[m+1]-y;l[d++]=k+O*f;l[d++]=y+x*a;for(f=m+2;f<m+E;++f)l[d++]=g[f]}v&&l.length!=d&&(l.length=d);return l};F.translate=function(g,m,n,E,O,x,y){for(var v=y?y:[],l=0;m<n;m+=E){v[l++]=g[m]+O;v[l++]=g[m+1]+x;for(var k=m+2;k<m+E;++k)v[l++]=g[k]}y&&v.length!=l&&(v.length=l);return v}};
shadow$provide[140]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(94));var m=g(B(123)),n=B(77),E=B(80),O=B(83),x=B(133),y=B(76),v=B(139),l=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),k=(0,E.create)();B=function(d){function f(){var a=d.call(this)||this;a.extent_=(0,O.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,y.memoizeOne)(function(e,p,A){if(!A)return this.getSimplifiedGeometry(p);e=this.clone();e.applyTransform(A);return e.getSimplifiedGeometry(p)});return a}l(f,d);f.prototype.simplifyTransformed=
function(a,e){return this.simplifyTransformedInternal(this.getRevision(),a,e)};f.prototype.clone=function(){return(0,n["abstract"])()};f.prototype.closestPointXY=function(a,e,p,A){return(0,n["abstract"])()};f.prototype.containsXY=function(a,e){var p=this.getClosestPoint([a,e]);return p[0]===a&&p[1]===e};f.prototype.getClosestPoint=function(a,e){e=e?e:[NaN,NaN];this.closestPointXY(a[0],a[1],e,Infinity);return e};f.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};f.prototype.computeExtent=
function(a){return(0,n["abstract"])()};f.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,O.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,O.returnOrUpdate)(this.extent_,a)};f.prototype.rotate=function(a,e){(0,n["abstract"])()};f.prototype.scale=function(a,e,p){(0,n["abstract"])()};f.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};f.prototype.getSimplifiedGeometry=
function(a){return(0,n["abstract"])()};f.prototype.getType=function(){return(0,n["abstract"])()};f.prototype.applyTransform=function(a){(0,n["abstract"])()};f.prototype.intersectsExtent=function(a){return(0,n["abstract"])()};f.prototype.translate=function(a,e){(0,n["abstract"])()};f.prototype.transform=function(a,e){var p=(0,x.get)(a);a=p.getUnits()==m["default"].TILE_PIXELS?function(A,C,D){var P=p.getExtent(),L=p.getWorldExtent();P=(0,O.getHeight)(L)/(0,O.getHeight)(P);(0,E.compose)(k,L[0],L[3],
P,-P,0,0,0);(0,v.transform2D)(A,0,A.length,D,k,C);return(0,x.getTransform)(p,e)(A,C,D)}:(0,x.getTransform)(p,e);this.applyTransform(a);return this};return f}(Ja["default"]);F["default"]=B};
shadow$provide[141]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}function m(v){var l;v==n["default"].XY?l=2:v==n["default"].XYZ||v==n["default"].XYM?l=3:v==n["default"].XYZM&&(l=4);return l}Object.defineProperty(F,"__esModule",{value:!0});F.getStrideForLayout=m;F.transformGeom2D=function(v,l,k){var d=v.getFlatCoordinates();return d?(v=v.getStride(),(0,x.transform2D)(d,0,d.length,v,l,k)):null};F["default"]=void 0;Ja=g(B(140));var n=g(B(138)),E=B(77),O=B(83),x=B(139),y=function(){var v=
function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=l}v(l,k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(){var k=v.call(this)||this;k.layout=n["default"].XY;k.stride=2;k.flatCoordinates=null;return k}y(l,v);l.prototype.computeExtent=function(k){return(0,
O.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,k)};l.prototype.getCoordinates=function(){return(0,E["abstract"])()};l.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};l.prototype.getFlatCoordinates=function(){return this.flatCoordinates};l.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};l.prototype.getLayout=function(){return this.layout};
l.prototype.getSimplifiedGeometry=function(k){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>k||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&k<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var d=this.getSimplifiedGeometryInternal(k);if(d.getFlatCoordinates().length<this.flatCoordinates.length)return d;this.simplifiedGeometryMaxMinSquaredTolerance=k;return this};l.prototype.getSimplifiedGeometryInternal=
function(k){return this};l.prototype.getStride=function(){return this.stride};l.prototype.setFlatCoordinates=function(k,d){this.stride=m(k);this.layout=k;this.flatCoordinates=d};l.prototype.setCoordinates=function(k,d){(0,E["abstract"])()};l.prototype.setLayout=function(k,d,f){if(k)d=m(k);else{for(k=0;k<f;++k){if(0===d.length){this.layout=n["default"].XY;this.stride=2;return}d=d[0]}d=d.length;if(2==d)var a=n["default"].XY;else 3==d?a=n["default"].XYZ:4==d&&(a=n["default"].XYZM);k=a}this.layout=k;
this.stride=d};l.prototype.applyTransform=function(k){this.flatCoordinates&&(k(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};l.prototype.rotate=function(k,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,x.rotate)(f,0,f.length,a,k,d,f);this.changed()}};l.prototype.scale=function(k,d,f){void 0===d&&(d=k);f||(f=(0,O.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var e=this.getStride();(0,x.scale)(a,0,a.length,e,k,d,f,a);this.changed()}};
l.prototype.translate=function(k,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,x.translate)(f,0,f.length,a,k,d,f);this.changed()}};return l}(Ja["default"]);F["default"]=B};
shadow$provide[142]=function(Ja,B,qb,F){function g(y,v,l,k,d,f,a){var e=y[v],p=y[v+1],A=y[l]-e,C=y[l+1]-p;if(0!==A||0!==C)if(f=((d-e)*A+(f-p)*C)/(A*A+C*C),1<f)v=l;else if(0<f){for(d=0;d<k;++d)a[d]=(0,x.lerp)(y[v+d],y[l+d],f);a.length=k;return}for(d=0;d<k;++d)a[d]=y[v+d];a.length=k}function m(y,v,l,k,d){var f=y[v],a=y[v+1];for(v+=k;v<l;v+=k){var e=y[v],p=y[v+1];f=(0,x.squaredDistance)(f,a,e,p);f>d&&(d=f);f=e;a=p}return d}function n(y,v,l,k,d){for(var f=0,a=l.length;f<a;++f){var e=l[f];d=m(y,v,e,k,
d);v=e}return d}function E(y,v,l,k,d,f,a,e,p,A,C){if(v==l)return A;if(0===d){var D=(0,x.squaredDistance)(a,e,y[v],y[v+1]);if(D<A){for(C=0;C<k;++C)p[C]=y[v+C];p.length=k;return D}return A}for(var P=C?C:[NaN,NaN],L=v+k;L<l;)if(g(y,L-k,L,k,a,e,P),D=(0,x.squaredDistance)(a,e,P[0],P[1]),D<A){A=D;for(C=0;C<k;++C)p[C]=P[C];p.length=k;L+=k}else L+=k*Math.max((Math.sqrt(D)-Math.sqrt(A))/d|0,1);if(f&&(g(y,l-k,v,k,a,e,P),D=(0,x.squaredDistance)(a,e,P[0],P[1]),D<A)){A=D;for(C=0;C<k;++C)p[C]=P[C];p.length=k}return A}
function O(y,v,l,k,d,f,a,e,p,A,C){C=C?C:[NaN,NaN];for(var D=0,P=l.length;D<P;++D){var L=l[D];A=E(y,v,L,k,d,f,a,e,p,A,C);v=L}return A}Object.defineProperty(F,"__esModule",{value:!0});F.maxSquaredDelta=m;F.arrayMaxSquaredDelta=n;F.multiArrayMaxSquaredDelta=function(y,v,l,k,d){for(var f=0,a=l.length;f<a;++f){var e=l[f];d=n(y,v,e,k,d);v=e[e.length-1]}return d};F.assignClosestPoint=E;F.assignClosestArrayPoint=O;F.assignClosestMultiArrayPoint=function(y,v,l,k,d,f,a,e,p,A,C){C=C?C:[NaN,NaN];for(var D=0,
P=l.length;D<P;++D){var L=l[D];A=O(y,v,L,k,d,f,a,e,p,A,C);v=L[L.length-1]}return A};var x=B(84)};
shadow$provide[143]=function(Ja,B,qb,F){function g(n,E,O,x){for(var y=0,v=O.length;y<v;++y)for(var l=O[y],k=0;k<x;++k)n[E++]=l[k];return E}function m(n,E,O,x,y){y=y?y:[];for(var v=0,l=0,k=O.length;l<k;++l)E=g(n,E,O[l],x),y[v++]=E;y.length=v;return y}Object.defineProperty(F,"__esModule",{value:!0});F.deflateCoordinate=function(n,E,O,x){x=0;for(var y=O.length;x<y;++x)n[E++]=O[x];return E};F.deflateCoordinates=g;F.deflateCoordinatesArray=m;F.deflateMultiCoordinatesArray=function(n,E,O,x,y){y=y?y:[];
for(var v=0,l=0,k=O.length;l<k;++l)E=m(n,E,O[l],x,y[v]),y[v++]=E,E=E[E.length-1];y.length=v;return y}};
shadow$provide[144]=function(Ja,B,qb,F){function g(v,l,k,d,f,a,e){var p=(k-l)/d;if(3>p){for(;l<k;l+=d)a[e++]=v[l],a[e++]=v[l+1];return e}var A=Array(p);A[0]=1;A[p-1]=1;k=[l,k-d];for(var C=0;0<k.length;){for(var D=k.pop(),P=k.pop(),L=0,G=v[P],z=v[P+1],K=v[D],H=v[D+1],R=P+d;R<D;R+=d){var U=v[R],ka=v[R+1];U=(0,y.squaredSegmentDistance)(U,ka,G,z,K,H);U>L&&(C=R,L=U)}L>f&&(A[(C-l)/d]=1,P+d<C&&k.push(P,C),C+d<D&&k.push(C,D))}for(R=0;R<p;++R)A[R]&&(a[e++]=v[l+R*d],a[e++]=v[l+R*d+1]);return e}function m(v,
l,k,d,f,a,e,p){for(var A=0,C=k.length;A<C;++A){var D=k[A];e=g(v,l,D,d,f,a,e);p.push(e);l=D}return e}function n(v,l,k,d,f,a,e){if(k<=l+d){for(;l<k;l+=d)a[e++]=v[l],a[e++]=v[l+1];return e}var p=v[l],A=v[l+1];a[e++]=p;a[e++]=A;var C=p,D=A;for(l+=d;l<k;l+=d)C=v[l],D=v[l+1],(0,y.squaredDistance)(p,A,C,D)>f&&(a[e++]=C,a[e++]=D,p=C,A=D);if(C!=p||D!=A)a[e++]=C,a[e++]=D;return e}function E(v,l){return l*Math.round(v/l)}function O(v,l,k,d,f,a,e){if(l==k)return e;var p=E(v[l],f),A=E(v[l+1],f);l+=d;a[e++]=p;
a[e++]=A;do{var C=E(v[l],f);var D=E(v[l+1],f);l+=d;if(l==k)return a[e++]=C,a[e++]=D,e}while(C==p&&D==A);for(;l<k;){var P=E(v[l],f),L=E(v[l+1],f);l+=d;if(P!=C||L!=D){var G=C-p,z=D-A,K=P-p,H=L-A;G*H==z*K&&(0>G&&K<G||G==K||0<G&&K>G)&&(0>z&&H<z||z==H||0<z&&H>z)||(a[e++]=C,a[e++]=D,p=C,A=D);C=P;D=L}}a[e++]=C;a[e++]=D;return e}function x(v,l,k,d,f,a,e,p){for(var A=0,C=k.length;A<C;++A){var D=k[A];e=O(v,l,D,d,f,a,e);p.push(e);l=D}return e}Object.defineProperty(F,"__esModule",{value:!0});F.simplifyLineString=
function(v,l,k,d,f,a,e){e=void 0!==e?e:[];a||(k=n(v,l,k,d,f,e,0),v=e,l=0,d=2);e.length=g(v,l,k,d,f,e,0);return e};F.douglasPeucker=g;F.douglasPeuckerArray=m;F.douglasPeuckerMultiArray=function(v,l,k,d,f,a,e,p){for(var A=0,C=k.length;A<C;++A){var D=k[A],P=[];e=m(v,l,D,d,f,a,e,P);p.push(P);l=D[D.length-1]}return e};F.radialDistance=n;F.snap=E;F.quantize=O;F.quantizeArray=x;F.quantizeMultiArray=function(v,l,k,d,f,a,e,p){for(var A=0,C=k.length;A<C;++A){var D=k[A],P=[];e=x(v,l,D,d,f,a,e,P);p.push(P);l=
D[D.length-1]}return e};var y=B(84)};
shadow$provide[145]=function(Ja,B,qb,F){function g(n,E,O,x,y){y=void 0!==y?y:[];for(var v=0;E<O;E+=x)y[v++]=n.slice(E,E+x);y.length=v;return y}function m(n,E,O,x,y){y=void 0!==y?y:[];for(var v=0,l=0,k=O.length;l<k;++l){var d=O[l];y[v++]=g(n,E,d,x,y[v]);E=d}y.length=v;return y}Object.defineProperty(F,"__esModule",{value:!0});F.inflateCoordinates=g;F.inflateCoordinatesArray=m;F.inflateMultiCoordinatesArray=function(n,E,O,x,y){y=void 0!==y?y:[];for(var v=0,l=0,k=O.length;l<k;++l){var d=O[l];y[v++]=m(n,
E,d,x,y[v]);E=d[d.length-1]}y.length=v;return y}};
shadow$provide[146]=function(Ja,B,qb,F){function g(n,E,O,x){for(var y=0,v=n[O-x],l=n[O-x+1];E<O;E+=x){var k=n[E],d=n[E+1];y+=l*k-v*d;v=k;l=d}return y/2}function m(n,E,O,x){for(var y=0,v=0,l=O.length;v<l;++v){var k=O[v];y+=g(n,E,k,x);E=k}return y}Object.defineProperty(F,"__esModule",{value:!0});F.linearRing=g;F.linearRings=m;F.linearRingss=function(n,E,O,x){for(var y=0,v=0,l=O.length;v<l;++v){var k=O[v];y+=m(n,E,k,x);E=k[k.length-1]}return y}};
shadow$provide[147]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(138)),n=g(B(122));Ja=g(B(141));var E=B(142),O=B(83),x=B(143),y=B(144),v=B(145),l=B(146),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a,e){var p=d.call(this)||this;p.maxDelta_=-1;p.maxDeltaRevision_=-1;void 0===e||Array.isArray(a[0])?p.setCoordinates(a,e):p.setFlatCoordinates(e,a);return p}k(f,d);f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout)};f.prototype.closestPointXY=function(a,e,p,A){if(A<(0,O.closestSquaredDistanceXY)(this.getExtent(),a,e))return A;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,E.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,E.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,e,p,A)};f.prototype.getArea=function(){return(0,l.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};f.prototype.getCoordinates=function(){return(0,v.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};f.prototype.getSimplifiedGeometryInternal=function(a){var e=[];e.length=(0,y.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,e,0);return new f(e,m["default"].XY)};f.prototype.getType=function(){return n["default"].LINEAR_RING};f.prototype.intersectsExtent=function(a){return!1};f.prototype.setCoordinates=function(a,e){this.setLayout(e,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return f}(Ja["default"]);F["default"]=B};
shadow$provide[148]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(122));Ja=g(B(141));var n=B(83),E=B(143),O=B(84),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=
null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l,k){var d=y.call(this)||this;d.setCoordinates(l,k);return d}x(v,y);v.prototype.clone=function(){var l=new v(this.flatCoordinates.slice(),this.layout);l.applyProperties(this);return l};v.prototype.closestPointXY=function(l,k,d,f){var a=this.flatCoordinates;l=(0,O.squaredDistance)(l,k,a[0],a[1]);if(l<f){f=this.stride;for(k=0;k<f;++k)d[k]=a[k];d.length=f;return l}return f};v.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};v.prototype.computeExtent=function(l){return(0,n.createOrUpdateFromCoordinate)(this.flatCoordinates,l)};v.prototype.getType=function(){return m["default"].POINT};v.prototype.intersectsExtent=function(l){return(0,n.containsXY)(l,this.flatCoordinates[0],this.flatCoordinates[1])};v.prototype.setCoordinates=function(l,k){this.setLayout(k,l,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,E.deflateCoordinate)(this.flatCoordinates,0,l,this.stride);
this.changed()};return v}(Ja["default"]);F["default"]=B};
shadow$provide[149]=function(Ja,B,qb,F){function g(E,O,x,y,v,l){for(var k=0,d=E[x-y],f=E[x-y+1];O<x;O+=y){var a=E[O],e=E[O+1];f<=l?e>l&&0<(a-d)*(l-f)-(v-d)*(e-f)&&k++:e<=l&&0>(a-d)*(l-f)-(v-d)*(e-f)&&k--;d=a;f=e}return 0!==k}function m(E,O,x,y,v,l){if(0===x.length||!g(E,O,x[0],y,v,l))return!1;O=1;for(var k=x.length;O<k;++O)if(g(E,x[O-1],x[O],y,v,l))return!1;return!0}Object.defineProperty(F,"__esModule",{value:!0});F.linearRingContainsExtent=function(E,O,x,y,v){return!(0,n.forEachCorner)(v,function(l){return!g(E,
O,x,y,l[0],l[1])})};F.linearRingContainsXY=g;F.linearRingsContainsXY=m;F.linearRingssContainsXY=function(E,O,x,y,v,l){if(0===x.length)return!1;for(var k=0,d=x.length;k<d;++k){var f=x[k];if(m(E,O,f,y,v,l))return!0;O=f[f.length-1]}return!1};var n=B(83)};
shadow$provide[150]=function(Ja,B,qb,F){function g(E,O,x,y,v,l,k){for(var d,f,a,e,p,A=v[l+1],C=[],D=0,P=x.length;D<P;++D){var L=x[D];a=E[L-y];p=E[L-y+1];for(d=O;d<L;d+=y){e=E[d];f=E[d+1];if(A<=p&&f<=A||p<=A&&A<=f)a=(A-p)/(f-p)*(e-a)+a,C.push(a);a=e;p=f}}D=NaN;P=-Infinity;C.sort(n.numberSafeCompareFunction);a=C[0];d=1;for(f=C.length;d<f;++d)e=C[d],L=Math.abs(e-a),L>P&&(a=(a+e)/2,(0,m.linearRingsContainsXY)(E,O,x,y,a,A)&&(D=a,P=L)),a=e;isNaN(D)&&(D=v[l]);return k?(k.push(D,A,P),k):[D,A,P]}Object.defineProperty(F,
"__esModule",{value:!0});F.getInteriorPointOfArray=g;F.getInteriorPointsOfMultiArray=function(E,O,x,y,v){for(var l=[],k=0,d=x.length;k<d;++k){var f=x[k];l=g(E,O,f,y,v,2*k,l);O=f[f.length-1]}return l};var m=B(149),n=B(75)};
shadow$provide[151]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.forEach=function(g,m,n,E,O){for(var x=[g[m],g[m+1]],y=[],v;m+E<n;m+=E){y[0]=g[m+E];y[1]=g[m+E+1];if(v=O(x,y))return v;x[0]=y[0];x[1]=y[1]}return!1}};
shadow$provide[152]=function(Ja,B,qb,F){function g(y,v,l,k,d){var f=(0,E.extendFlatCoordinates)((0,E.createEmpty)(),y,v,l,k);return(0,E.intersects)(d,f)?(0,E.containsExtent)(d,f)||f[0]>=d[0]&&f[2]<=d[2]||f[1]>=d[1]&&f[3]<=d[3]?!0:(0,O.forEach)(y,v,l,k,function(a,e){return(0,E.intersectsSegment)(d,a,e)}):!1}function m(y,v,l,k,d){return g(y,v,l,k,d)||(0,x.linearRingContainsXY)(y,v,l,k,d[0],d[1])||(0,x.linearRingContainsXY)(y,v,l,k,d[0],d[3])||(0,x.linearRingContainsXY)(y,v,l,k,d[2],d[1])||(0,x.linearRingContainsXY)(y,
v,l,k,d[2],d[3])?!0:!1}function n(y,v,l,k,d){if(!m(y,v,l[0],k,d))return!1;if(1===l.length)return!0;v=1;for(var f=l.length;v<f;++v)if((0,x.linearRingContainsExtent)(y,l[v-1],l[v],k,d)&&!g(y,l[v-1],l[v],k,d))return!1;return!0}Object.defineProperty(F,"__esModule",{value:!0});F.intersectsLineString=g;F.intersectsLineStringArray=function(y,v,l,k,d){for(var f=0,a=l.length;f<a;++f){if(g(y,v,l[f],k,d))return!0;v=l[f]}return!1};F.intersectsLinearRing=m;F.intersectsLinearRingArray=n;F.intersectsLinearRingMultiArray=
function(y,v,l,k,d){for(var f=0,a=l.length;f<a;++f){var e=l[f];if(n(y,v,e,k,d))return!0;v=e[e.length-1]}return!1};var E=B(83),O=B(151),x=B(149)};
shadow$provide[153]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.coordinates=function(g,m,n,E){for(;m<n-E;){for(var O=0;O<E;++O){var x=g[m+O];g[m+O]=g[n-E+O];g[n-E+O]=x}m+=E;n-=E}}};
shadow$provide[154]=function(Ja,B,qb,F){function g(O,x,y,v){for(var l=0,k=O[y-v],d=O[y-v+1];x<y;x+=v){var f=O[x],a=O[x+1];l+=(f-k)*(a+d);k=f;d=a}return 0===l?void 0:0<l}function m(O,x,y,v,l){l=void 0!==l?l:!1;for(var k=0,d=y.length;k<d;++k){var f=y[k];x=g(O,x,f,v);if(0===k){if(l&&x||!l&&!x)return!1}else if(l&&!x||!l&&x)return!1;x=f}return!0}function n(O,x,y,v,l){l=void 0!==l?l:!1;for(var k=0,d=y.length;k<d;++k){var f=y[k],a=g(O,x,f,v);(0===k?l&&a||!l&&!a:l&&!a||!l&&a)&&(0,E.coordinates)(O,x,f,v);
x=f}return x}Object.defineProperty(F,"__esModule",{value:!0});F.linearRingIsClockwise=g;F.linearRingsAreOriented=m;F.linearRingssAreOriented=function(O,x,y,v,l){for(var k=0,d=y.length;k<d;++k){var f=y[k];if(!m(O,x,f,v,l))return!1;f.length&&(x=f[f.length-1])}return!0};F.orientLinearRings=n;F.orientLinearRingsArray=function(O,x,y,v,l){for(var k=0,d=y.length;k<d;++k)x=n(O,x,y[k],v,l);return x};var E=B(153)};
shadow$provide[155]=function(Ja,B,qb,F){function g(z){return z&&z.__esModule?z:{"default":z}}function m(z,K,H,R){var U=z.getFlatCoordinates(),ka=z.getStride(),ba=U.length/ka-1;R=R?R:0;for(var fa=0;fa<=ba;++fa){var ja=fa*ka,Z=R+2*(0,C.modulo)(fa,ba)*Math.PI/ba;U[ja]=K[0]+H*Math.cos(Z);U[ja+1]=K[1]+H*Math.sin(Z)}z.changed()}Object.defineProperty(F,"__esModule",{value:!0});F.circular=function(z,K,H,R){H=H?H:32;for(var U=[],ka=0;ka<H;++ka)(0,k.extend)(U,(0,P.offset)(z,K,2*Math.PI*ka/H,R));U.push(U[0],
U[1]);return new G(U,n["default"].XY,[U.length])};F.fromExtent=function(z){var K=z[0],H=z[1],R=z[2];z=z[3];K=[K,H,K,z,R,z,R,H,K,H];return new G(K,n["default"].XY,[K.length])};F.fromCircle=function(z,K,H){var R=K?K:32,U=z.getStride(),ka=z.getLayout();K=z.getCenter();R=U*(R+1);for(var ba=Array(R),fa=0;fa<R;fa+=U){ba[fa]=0;ba[fa+1]=0;for(var ja=2;ja<U;ja++)ba[fa+ja]=K[ja]}U=new G(ba,ka,[ba.length]);m(U,K,z.getRadius(),H);return U};F.makeRegular=m;F["default"]=void 0;var n=g(B(138)),E=g(B(122)),O=g(B(147)),
x=g(B(148));Ja=g(B(141));var y=B(142),v=B(83),l=B(143),k=B(75),d=B(150),f=B(145),a=B(152),e=B(154),p=B(146),A=B(149),C=B(84),D=B(144),P=B(132),L=function(){var z=function(K,H){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,U){R.__proto__=U}||function(R,U){for(var ka in U)Object.prototype.hasOwnProperty.call(U,ka)&&(R[ka]=U[ka])};return z(K,H)};return function(K,H){function R(){this.constructor=K}z(K,H);K.prototype=null===H?Object.create(H):(R.prototype=H.prototype,new R)}}(),
G=function(z){function K(H,R,U){var ka=z.call(this)||this;ka.ends_=[];ka.flatInteriorPointRevision_=-1;ka.flatInteriorPoint_=null;ka.maxDelta_=-1;ka.maxDeltaRevision_=-1;ka.orientedRevision_=-1;ka.orientedFlatCoordinates_=null;void 0!==R&&U?(ka.setFlatCoordinates(R,H),ka.ends_=U):ka.setCoordinates(H,R);return ka}L(K,z);K.prototype.appendLinearRing=function(H){this.flatCoordinates?(0,k.extend)(this.flatCoordinates,H.getFlatCoordinates()):this.flatCoordinates=H.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);
this.changed()};K.prototype.clone=function(){var H=new K(this.flatCoordinates.slice(),this.layout,this.ends_.slice());H.applyProperties(this);return H};K.prototype.closestPointXY=function(H,R,U,ka){if(ka<(0,v.closestSquaredDistanceXY)(this.getExtent(),H,R))return ka;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,y.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,y.assignClosestArrayPoint)(this.flatCoordinates,
0,this.ends_,this.stride,this.maxDelta_,!0,H,R,U,ka)};K.prototype.containsXY=function(H,R){return(0,A.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H,R)};K.prototype.getArea=function(){return(0,p.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};K.prototype.getCoordinates=function(H){if(void 0!==H){var R=this.getOrientedFlatCoordinates().slice();(0,e.orientLinearRings)(R,0,this.ends_,this.stride,H)}else R=this.flatCoordinates;return(0,f.inflateCoordinatesArray)(R,
0,this.ends_,this.stride)};K.prototype.getEnds=function(){return this.ends_};K.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var H=(0,v.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,d.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};K.prototype.getInteriorPoint=function(){return new x["default"](this.getFlatInteriorPoint(),
n["default"].XYM)};K.prototype.getLinearRingCount=function(){return this.ends_.length};K.prototype.getLinearRing=function(H){return 0>H||this.ends_.length<=H?null:new O["default"](this.flatCoordinates.slice(0===H?0:this.ends_[H-1],this.ends_[H]),this.layout)};K.prototype.getLinearRings=function(){for(var H=this.layout,R=this.flatCoordinates,U=this.ends_,ka=[],ba=0,fa=0,ja=U.length;fa<ja;++fa){var Z=U[fa];ba=new O["default"](R.slice(ba,Z),H);ka.push(ba);ba=Z}return ka};K.prototype.getOrientedFlatCoordinates=
function(){if(this.orientedRevision_!=this.getRevision()){var H=this.flatCoordinates;(0,e.linearRingsAreOriented)(H,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=H:(this.orientedFlatCoordinates_=H.slice(),this.orientedFlatCoordinates_.length=(0,e.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};K.prototype.getSimplifiedGeometryInternal=function(H){var R=[],U=[];R.length=(0,D.quantizeArray)(this.flatCoordinates,
0,this.ends_,this.stride,Math.sqrt(H),R,0,U);return new K(R,n["default"].XY,U)};K.prototype.getType=function(){return E["default"].POLYGON};K.prototype.intersectsExtent=function(H){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,H)};K.prototype.setCoordinates=function(H,R){this.setLayout(R,H,2);this.flatCoordinates||(this.flatCoordinates=[]);H=(0,l.deflateCoordinatesArray)(this.flatCoordinates,0,H,this.stride,this.ends_);this.flatCoordinates.length=
0===H.length?0:H[H.length-1];this.changed()};return K}(Ja["default"]);F["default"]=G};
shadow$provide[156]=function(Ja,B,qb,F){function g(ba){return ba&&ba.__esModule?ba:{"default":ba}}function m(ba,fa){setTimeout(function(){ba(fa)},0)}function n(ba){if(void 0!==ba.extent){var fa=void 0!==ba.smoothExtentConstraint?ba.smoothExtentConstraint:!0;return(0,D.createExtent)(ba.extent,ba.constrainOnlyCenter,fa)}fa=(0,a.createProjection)(ba.projection,"EPSG:3857");return!0!==ba.multiWorld&&fa.isGlobal()?(ba=fa.getExtent().slice(),ba[0]=-Infinity,ba[2]=Infinity,(0,D.createExtent)(ba,!1,!1)):
D.none}function E(ba){var fa=void 0!==ba.minZoom?ba.minZoom:ka,ja=void 0!==ba.maxZoom?ba.maxZoom:28,Z=void 0!==ba.zoomFactor?ba.zoomFactor:2;var Q=void 0!==ba.multiWorld?ba.multiWorld:!1;var q=void 0!==ba.smoothResolutionConstraint?ba.smoothResolutionConstraint:!0,N=void 0!==ba.showFullExtent?ba.showFullExtent:!1;var da=(0,a.createProjection)(ba.projection,"EPSG:3857");var aa=da.getExtent(),wa=ba.constrainOnlyCenter,ua=ba.extent;Q||ua||!da.isGlobal()||(wa=!1,ua=aa);if(void 0!==ba.resolutions)aa=ba.resolutions,
Q=aa[fa],da=void 0!==aa[ja]?aa[ja]:aa[aa.length-1],ba=ba.constrainResolution?(0,L.createSnapToResolutions)(aa,q,!wa&&ua,N):(0,L.createMinMaxResolution)(Q,da,q,!wa&&ua,N);else{aa=(aa?Math.max((0,K.getWidth)(aa),(0,K.getHeight)(aa)):360*a.METERS_PER_UNIT[l["default"].DEGREES]/da.getMetersPerUnit())/f.DEFAULT_TILE_SIZE/Math.pow(2,ka);var Ea=aa/Math.pow(2,28-ka);Q=ba.maxResolution;void 0!==Q?fa=0:Q=aa/Math.pow(Z,fa);da=ba.minResolution;void 0===da&&(da=void 0!==ba.maxZoom?void 0!==ba.maxResolution?Q/
Math.pow(Z,ja):aa/Math.pow(Z,ja):Ea);ja=fa+Math.floor(Math.log(Q/da)/Math.log(Z));da=Q/Math.pow(Z,ja-fa);ba=ba.constrainResolution?(0,L.createSnapToPower)(Z,Q,da,q,!wa&&ua,N):(0,L.createMinMaxResolution)(Q,da,q,!wa&&ua,N)}return{constraint:ba,maxResolution:Q,minResolution:da,minZoom:fa,zoomFactor:Z}}function O(ba){return(void 0!==ba.enableRotation?ba.enableRotation:1)?(ba=ba.constrainRotation,void 0===ba||!0===ba?(0,G.createSnapToZero)():!1===ba?G.none:"number"===typeof ba?(0,G.createSnapToN)(ba):
G.none):G.disable}function x(ba){return ba.sourceCenter&&ba.targetCenter&&!(0,p.equals)(ba.sourceCenter,ba.targetCenter)||ba.sourceResolution!==ba.targetResolution||ba.sourceRotation!==ba.targetRotation?!1:!0}function y(ba,fa,ja,Z,Q){var q=Math.cos(-Q);Q=Math.sin(-Q);var N=ba[0]*q-ba[1]*Q;ba=ba[1]*q+ba[0]*Q;N+=(fa[0]/2-ja[0])*Z;ba+=(ja[1]-fa[1]/2)*Z;Q=-Q;return[N*q-ba*Q,ba*q+N*Q]}Object.defineProperty(F,"__esModule",{value:!0});F.createCenterConstraint=n;F.createResolutionConstraint=E;F.createRotationConstraint=
O;F.isNoopAnimation=x;F["default"]=void 0;Ja=g(B(94));var v=g(B(122)),l=g(B(123)),k=g(B(124)),d=g(B(125)),f=B(126),a=B(133),e=B(76),p=B(101),A=B(79),C=B(89),D=B(134),P=B(84),L=B(135),G=B(136),z=B(137),K=B(83),H=B(75),R=B(155),U=function(){var ba=function(fa,ja){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,Q){Z.__proto__=Q}||function(Z,Q){for(var q in Q)Object.prototype.hasOwnProperty.call(Q,q)&&(Z[q]=Q[q])};return ba(fa,ja)};return function(fa,ja){function Z(){this.constructor=
fa}ba(fa,ja);fa.prototype=null===ja?Object.create(ja):(Z.prototype=ja.prototype,new Z)}}(),ka=0;B=function(ba){function fa(ja){var Z=ba.call(this)||this;ja=(0,C.assign)({},ja);Z.hints_=[0,0];Z.animations_=[];Z.projection_=(0,a.createProjection)(ja.projection,"EPSG:3857");Z.viewportSize_=[100,100];Z.targetCenter_=null;Z.cancelAnchor_=void 0;ja.center&&(ja.center=(0,a.fromUserCoordinate)(ja.center,Z.projection_));ja.extent&&(ja.extent=(0,a.fromUserExtent)(ja.extent,Z.projection_));Z.applyOptions_(ja);
return Z}U(fa,ba);fa.prototype.applyOptions_=function(ja){var Z=E(ja);this.maxResolution_=Z.maxResolution;this.minResolution_=Z.minResolution;this.zoomFactor_=Z.zoomFactor;this.resolutions_=ja.resolutions;this.padding=ja.padding;this.minZoom_=Z.minZoom;var Q=n(ja);Z=Z.constraint;var q=O(ja);this.constraints_={center:Q,resolution:Z,rotation:q};this.setRotation(void 0!==ja.rotation?ja.rotation:0);this.setCenterInternal(void 0!==ja.center?ja.center:null);void 0!==ja.resolution?this.setResolution(ja.resolution):
void 0!==ja.zoom&&this.setZoom(ja.zoom);this.setProperties({});this.options_=ja};fa.prototype.getUpdatedOptions_=function(ja){var Z=(0,C.assign)({},this.options_);void 0!==Z.resolution?Z.resolution=this.getResolution():Z.zoom=this.getZoom();Z.center=this.getCenterInternal();Z.rotation=this.getRotation();return(0,C.assign)({},Z,ja)};fa.prototype.animate=function(ja){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var Z=Array(arguments.length),Q=0;Q<Z.length;++Q){var q=arguments[Q];
q.center&&(q=(0,C.assign)({},q),q.center=(0,a.fromUserCoordinate)(q.center,this.getProjection()));q.anchor&&(q=(0,C.assign)({},q),q.anchor=(0,a.fromUserCoordinate)(q.anchor,this.getProjection()));Z[Q]=q}this.animateInternal.apply(this,Z)};fa.prototype.animateInternal=function(ja){var Z=arguments.length;if(1<Z&&"function"===typeof arguments[Z-1]){var Q=arguments[Z-1];--Z}if(this.isDef()){for(var q=Date.now(),N=this.targetCenter_.slice(),da=this.targetResolution_,aa=this.targetRotation_,wa=[],ua=0;ua<
Z;++ua){var Ea=arguments[ua],$a={start:q,complete:!1,anchor:Ea.anchor,duration:void 0!==Ea.duration?Ea.duration:1E3,easing:Ea.easing||z.inAndOut,callback:Q};Ea.center&&($a.sourceCenter=N,$a.targetCenter=Ea.center.slice(),N=$a.targetCenter);void 0!==Ea.zoom?($a.sourceResolution=da,$a.targetResolution=this.getResolutionForZoom(Ea.zoom),da=$a.targetResolution):Ea.resolution&&($a.sourceResolution=da,$a.targetResolution=Ea.resolution,da=$a.targetResolution);void 0!==Ea.rotation&&($a.sourceRotation=aa,
Ea=(0,P.modulo)(Ea.rotation-aa+Math.PI,2*Math.PI)-Math.PI,$a.targetRotation=aa+Ea,aa=$a.targetRotation);x($a)?$a.complete=!0:q+=$a.duration;wa.push($a)}this.animations_.push(wa);this.setHint(k["default"].ANIMATING,1);this.updateAnimations_()}else Z=arguments[Z-1],Z.center&&this.setCenterInternal(Z.center),void 0!==Z.zoom&&this.setZoom(Z.zoom),void 0!==Z.rotation&&this.setRotation(Z.rotation),Q&&m(Q,!0)};fa.prototype.getAnimating=function(){return 0<this.hints_[k["default"].ANIMATING]};fa.prototype.getInteracting=
function(){return 0<this.hints_[k["default"].INTERACTING]};fa.prototype.cancelAnimations=function(){this.setHint(k["default"].ANIMATING,-this.hints_[k["default"].ANIMATING]);for(var ja,Z=0,Q=this.animations_.length;Z<Q;++Z){var q=this.animations_[Z];q[0].callback&&m(q[0].callback,!1);if(!ja)for(var N=0,da=q.length;N<da;++N){var aa=q[N];if(!aa.complete){ja=aa.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=ja};fa.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&
(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var ja=Date.now(),Z=!1,Q=this.animations_.length-1;0<=Q;--Q){for(var q=this.animations_[Q],N=!0,da=0,aa=q.length;da<aa;++da){var wa=q[da];if(!wa.complete){Z=ja-wa.start;Z=0<wa.duration?Z/wa.duration:1;1<=Z?(wa.complete=!0,Z=1):N=!1;Z=wa.easing(Z);if(wa.sourceCenter){var ua=wa.sourceCenter[0],Ea=wa.sourceCenter[1];this.targetCenter_=[ua+Z*(wa.targetCenter[0]-ua),Ea+Z*(wa.targetCenter[1]-Ea)]}wa.sourceResolution&&
wa.targetResolution&&(ua=1===Z?wa.targetResolution:wa.sourceResolution+Z*(wa.targetResolution-wa.sourceResolution),wa.anchor&&(Ea=this.getViewportSize_(this.getRotation()),Ea=this.constraints_.resolution(ua,0,Ea,!0),this.targetCenter_=this.calculateCenterZoom(Ea,wa.anchor)),this.targetResolution_=ua,this.applyTargetState_(!0));void 0!==wa.sourceRotation&&void 0!==wa.targetRotation&&(Z=1===Z?(0,P.modulo)(wa.targetRotation+Math.PI,2*Math.PI)-Math.PI:wa.sourceRotation+Z*(wa.targetRotation-wa.sourceRotation),
wa.anchor&&(ua=this.constraints_.rotation(Z,!0),this.targetCenter_=this.calculateCenterRotate(ua,wa.anchor)),this.targetRotation_=Z);this.applyTargetState_(!0);Z=!0;if(!wa.complete)break}}N&&(this.animations_[Q]=null,this.setHint(k["default"].ANIMATING,-1),(q=q[0].callback)&&m(q,!0))}this.animations_=this.animations_.filter(Boolean);Z&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};fa.prototype.calculateCenterRotate=function(ja,
Z){var Q=this.getCenterInternal();if(void 0!==Q){var q=[Q[0]-Z[0],Q[1]-Z[1]];(0,p.rotate)(q,ja-this.getRotation());(0,p.add)(q,Z)}return q};fa.prototype.calculateCenterZoom=function(ja,Z){var Q,q=this.getCenterInternal(),N=this.getResolution();void 0!==q&&void 0!==N&&(Q=[Z[0]-ja*(Z[0]-q[0])/N,Z[1]-ja*(Z[1]-q[1])/N]);return Q};fa.prototype.getViewportSize_=function(ja){var Z=this.viewportSize_;if(ja){var Q=Z[0];Z=Z[1];return[Math.abs(Q*Math.cos(ja))+Math.abs(Z*Math.sin(ja)),Math.abs(Q*Math.sin(ja))+
Math.abs(Z*Math.cos(ja))]}return Z};fa.prototype.setViewportSize=function(ja){this.viewportSize_=Array.isArray(ja)?ja.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};fa.prototype.getCenter=function(){var ja=this.getCenterInternal();return ja?(0,a.toUserCoordinate)(ja,this.getProjection()):ja};fa.prototype.getCenterInternal=function(){return this.get(d["default"].CENTER)};fa.prototype.getConstraints=function(){return this.constraints_};fa.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};
fa.prototype.getHints=function(ja){return void 0!==ja?(ja[0]=this.hints_[0],ja[1]=this.hints_[1],ja):this.hints_.slice()};fa.prototype.calculateExtent=function(ja){ja=this.calculateExtentInternal(ja);return(0,a.toUserExtent)(ja,this.getProjection())};fa.prototype.calculateExtentInternal=function(ja){ja=ja||this.getViewportSize_();var Z=this.getCenterInternal();(0,A.assert)(Z,1);var Q=this.getResolution();(0,A.assert)(void 0!==Q,2);var q=this.getRotation();(0,A.assert)(void 0!==q,3);return(0,K.getForViewAndSize)(Z,
Q,q,ja)};fa.prototype.getMaxResolution=function(){return this.maxResolution_};fa.prototype.getMinResolution=function(){return this.minResolution_};fa.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};fa.prototype.setMaxZoom=function(ja){this.applyOptions_(this.getUpdatedOptions_({maxZoom:ja}))};fa.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};fa.prototype.setMinZoom=function(ja){this.applyOptions_(this.getUpdatedOptions_({minZoom:ja}))};
fa.prototype.setConstrainResolution=function(ja){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:ja}))};fa.prototype.getProjection=function(){return this.projection_};fa.prototype.getResolution=function(){return this.get(d["default"].RESOLUTION)};fa.prototype.getResolutions=function(){return this.resolutions_};fa.prototype.getResolutionForExtent=function(ja,Z){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(ja,this.getProjection()),Z)};fa.prototype.getResolutionForExtentInternal=
function(ja,Z){var Q=Z||this.getViewportSize_();Z=(0,K.getWidth)(ja)/Q[0];ja=(0,K.getHeight)(ja)/Q[1];return Math.max(Z,ja)};fa.prototype.getResolutionForValueFunction=function(ja){var Z=ja||2,Q=this.getConstrainedResolution(this.maxResolution_),q=Math.log(Q/this.minResolution_)/Math.log(Z);return function(N){return Q/Math.pow(Z,N*q)}};fa.prototype.getRotation=function(){return this.get(d["default"].ROTATION)};fa.prototype.getValueForResolutionFunction=function(ja){var Z=Math.log(ja||2),Q=this.getConstrainedResolution(this.maxResolution_),
q=Math.log(Q/this.minResolution_)/Z;return function(N){return Math.log(Q/N)/Z/q}};fa.prototype.getViewportSizeMinusPadding_=function(ja){ja=this.getViewportSize_(ja);var Z=this.padding;Z&&(ja=[ja[0]-Z[1]-Z[3],ja[1]-Z[0]-Z[2]]);return ja};fa.prototype.getState=function(){var ja=this.getProjection(),Z=this.getResolution(),Q=this.getRotation(),q=this.getCenterInternal(),N=this.padding;if(N){var da=this.getViewportSizeMinusPadding_();q=y(q,this.getViewportSize_(),[da[0]/2+N[3],da[1]/2+N[0]],Z,Q)}return{center:q.slice(0),
projection:void 0!==ja?ja:null,resolution:Z,rotation:Q,zoom:this.getZoom()}};fa.prototype.getZoom=function(){var ja,Z=this.getResolution();void 0!==Z&&(ja=this.getZoomForResolution(Z));return ja};fa.prototype.getZoomForResolution=function(ja){var Z=this.minZoom_||0,Q;if(this.resolutions_){Z=Q=(0,H.linearFindNearest)(this.resolutions_,ja,1);var q=this.resolutions_[Q];Q=Q==this.resolutions_.length-1?2:q/this.resolutions_[Q+1]}else q=this.maxResolution_,Q=this.zoomFactor_;return Z+Math.log(q/ja)/Math.log(Q)};
fa.prototype.getResolutionForZoom=function(ja){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var Z=(0,P.clamp)(Math.floor(ja),0,this.resolutions_.length-2);return this.resolutions_[Z]/Math.pow(this.resolutions_[Z]/this.resolutions_[Z+1],(0,P.clamp)(ja-Z,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,ja-this.minZoom_)};fa.prototype.fit=function(ja,Z){(0,A.assert)(Array.isArray(ja)||"function"===typeof ja.getSimplifiedGeometry,24);if(Array.isArray(ja)){(0,A.assert)(!(0,K.isEmpty)(ja),
25);var Q=(0,a.fromUserExtent)(ja,this.getProjection());ja=(0,R.fromExtent)(Q)}else ja.getType()===v["default"].CIRCLE?(Q=(0,a.fromUserExtent)(ja.getExtent(),this.getProjection()),ja=(0,R.fromExtent)(Q),ja.rotate(this.getRotation(),(0,K.getCenter)(Q))):ja=(Q=(0,a.getUserProjection)())?ja.clone().transform(Q,this.getProjection()):ja;this.fitInternal(ja,Z)};fa.prototype.fitInternal=function(ja,Z){Z=Z||{};var Q=Z.size;Q||(Q=this.getViewportSizeMinusPadding_());var q=void 0!==Z.padding?Z.padding:[0,0,
0,0],N=void 0!==Z.nearest?Z.nearest:!1;var da=void 0!==Z.minResolution?Z.minResolution:void 0!==Z.maxZoom?this.getResolutionForZoom(Z.maxZoom):0;var aa=ja.getFlatCoordinates(),wa=this.getRotation(),ua=Math.cos(-wa);wa=Math.sin(-wa);var Ea=Infinity,$a=Infinity,kb=-Infinity,ta=-Infinity;ja=ja.getStride();for(var Ta=0,Xa=aa.length;Ta<Xa;Ta+=ja){var Fa=aa[Ta]*ua-aa[Ta+1]*wa,va=aa[Ta]*wa+aa[Ta+1]*ua;Ea=Math.min(Ea,Fa);$a=Math.min($a,va);kb=Math.max(kb,Fa);ta=Math.max(ta,va)}Q=this.getResolutionForExtentInternal([Ea,
$a,kb,ta],[Q[0]-q[1]-q[3],Q[1]-q[0]-q[2]]);Q=isNaN(Q)?da:Math.max(Q,da);Q=this.getConstrainedResolution(Q,N?0:1);wa=-wa;N=(Ea+kb)/2+(q[1]-q[3])/2*Q;q=($a+ta)/2+(q[0]-q[2])/2*Q;ua=this.getConstrainedCenter([N*ua-q*wa,q*ua+N*wa],Q);q=Z.callback?Z.callback:e.VOID;void 0!==Z.duration?this.animateInternal({resolution:Q,center:ua,duration:Z.duration,easing:Z.easing},q):(this.targetResolution_=Q,this.targetCenter_=ua,this.applyTargetState_(!1,!0),m(q,!0))};fa.prototype.centerOn=function(ja,Z,Q){this.centerOnInternal((0,
a.fromUserCoordinate)(ja,this.getProjection()),Z,Q)};fa.prototype.centerOnInternal=function(ja,Z,Q){this.setCenterInternal(y(ja,Z,Q,this.getResolution(),this.getRotation()))};fa.prototype.calculateCenterShift=function(ja,Z,Q,q){var N=this.padding;if(N&&ja){var da=this.getViewportSizeMinusPadding_(-Q);Z=y(ja,q,[da[0]/2+N[3],da[1]/2+N[0]],Z,Q);da=[ja[0]-Z[0],ja[1]-Z[1]]}return da};fa.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};fa.prototype.adjustCenter=
function(ja){var Z=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([Z[0]+ja[0],Z[1]+ja[1]])};fa.prototype.adjustCenterInternal=function(ja){var Z=this.targetCenter_;this.setCenterInternal([Z[0]+ja[0],Z[1]+ja[1]])};fa.prototype.adjustResolution=function(ja,Z){Z=Z&&(0,a.fromUserCoordinate)(Z,this.getProjection());this.adjustResolutionInternal(ja,Z)};fa.prototype.adjustResolutionInternal=function(ja,Z){var Q=this.getAnimating()||this.getInteracting(),q=this.getViewportSize_(this.getRotation());
Q=this.constraints_.resolution(this.targetResolution_*ja,0,q,Q);Z&&(this.targetCenter_=this.calculateCenterZoom(Q,Z));this.targetResolution_*=ja;this.applyTargetState_()};fa.prototype.adjustZoom=function(ja,Z){this.adjustResolution(Math.pow(this.zoomFactor_,-ja),Z)};fa.prototype.adjustRotation=function(ja,Z){Z&&(Z=(0,a.fromUserCoordinate)(Z,this.getProjection()));this.adjustRotationInternal(ja,Z)};fa.prototype.adjustRotationInternal=function(ja,Z){var Q=this.getAnimating()||this.getInteracting();
Q=this.constraints_.rotation(this.targetRotation_+ja,Q);Z&&(this.targetCenter_=this.calculateCenterRotate(Q,Z));this.targetRotation_+=ja;this.applyTargetState_()};fa.prototype.setCenter=function(ja){this.setCenterInternal((0,a.fromUserCoordinate)(ja,this.getProjection()))};fa.prototype.setCenterInternal=function(ja){this.targetCenter_=ja;this.applyTargetState_()};fa.prototype.setHint=function(ja,Z){this.hints_[ja]+=Z;this.changed();return this.hints_[ja]};fa.prototype.setResolution=function(ja){this.targetResolution_=
ja;this.applyTargetState_()};fa.prototype.setRotation=function(ja){this.targetRotation_=ja;this.applyTargetState_()};fa.prototype.setZoom=function(ja){this.setResolution(this.getResolutionForZoom(ja))};fa.prototype.applyTargetState_=function(ja,Z){var Q=this.getAnimating()||this.getInteracting()||Z;Z=this.constraints_.rotation(this.targetRotation_,Q);var q=this.getViewportSize_(Z),N=this.constraints_.resolution(this.targetResolution_,0,q,Q);Q=this.constraints_.center(this.targetCenter_,N,q,Q,this.calculateCenterShift(this.targetCenter_,
N,Z,q));this.get(d["default"].ROTATION)!==Z&&this.set(d["default"].ROTATION,Z);this.get(d["default"].RESOLUTION)!==N&&this.set(d["default"].RESOLUTION,N);this.get(d["default"].CENTER)&&(0,p.equals)(this.get(d["default"].CENTER),Q)||this.set(d["default"].CENTER,Q);this.getAnimating()&&!ja&&this.cancelAnimations();this.cancelAnchor_=void 0};fa.prototype.resolveConstraints=function(ja,Z,Q){ja=void 0!==ja?ja:200;var q=Z||0;Z=this.constraints_.rotation(this.targetRotation_);var N=this.getViewportSize_(Z);
q=this.constraints_.resolution(this.targetResolution_,q,N);N=this.constraints_.center(this.targetCenter_,q,N,!1,this.calculateCenterShift(this.targetCenter_,q,Z,N));0!==ja||this.cancelAnchor_?(Q=Q||(0===ja?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===q&&this.getRotation()===Z&&this.getCenterInternal()&&(0,p.equals)(this.getCenterInternal(),N)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:Z,center:N,resolution:q,duration:ja,easing:z.easeOut,
anchor:Q}))):(this.targetResolution_=q,this.targetRotation_=Z,this.targetCenter_=N,this.applyTargetState_())};fa.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(k["default"].INTERACTING,1)};fa.prototype.endInteraction=function(ja,Z,Q){Q=Q&&(0,a.fromUserCoordinate)(Q,this.getProjection());this.endInteractionInternal(ja,Z,Q)};fa.prototype.endInteractionInternal=function(ja,Z,Q){this.setHint(k["default"].INTERACTING,-1);this.resolveConstraints(ja,Z,Q)};fa.prototype.getConstrainedCenter=
function(ja,Z){var Q=this.getViewportSize_(this.getRotation());return this.constraints_.center(ja,Z||this.getResolution(),Q)};fa.prototype.getConstrainedZoom=function(ja,Z){ja=this.getResolutionForZoom(ja);return this.getZoomForResolution(this.getConstrainedResolution(ja,Z))};fa.prototype.getConstrainedResolution=function(ja,Z){Z=Z||0;var Q=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(ja,Z,Q)};return fa}(Ja["default"]);F["default"]=B};
shadow$provide[157]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.buffer=function(g,m,n){void 0===n&&(n=[0,0]);n[0]=g[0]+2*m;n[1]=g[1]+2*m;return n};F.hasArea=function(g){return 0<g[0]&&0<g[1]};F.scale=function(g,m,n){void 0===n&&(n=[0,0]);n[0]=g[0]*m+.5|0;n[1]=g[1]*m+.5|0;return n};F.toSize=function(g,m){if(Array.isArray(g))return g;void 0===m?m=[g,g]:(m[0]=g,m[1]=g);return m}};
shadow$provide[158]=function(Ja,B,qb,F){function g(q){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"===typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};return g(q)}function m(q){return q&&q.__esModule?q:{"default":q}}function n(){if("function"!==typeof WeakMap)return null;var q=new WeakMap;n=function(){return q};return q}function E(q){if(q&&q.__esModule)return q;if(null===q||"object"!==g(q)&&
"function"!==typeof q)return{"default":q};var N=n();if(N&&N.has(q))return N.get(q);var da={},aa=Object.defineProperty&&Object.getOwnPropertyDescriptor,wa;for(wa in q)if(Object.prototype.hasOwnProperty.call(q,wa)){var ua=aa?Object.getOwnPropertyDescriptor(q,wa):null;ua&&(ua.get||ua.set)?Object.defineProperty(da,wa,ua):da[wa]=q[wa]}da["default"]=q;N&&N.set(q,da);return da}function O(q){var N=null;void 0!==q.keyboardEventTarget&&(N="string"===typeof q.keyboardEventTarget?document.getElementById(q.keyboardEventTarget):
q.keyboardEventTarget);var da={},aa=q.layers&&"function"===typeof q.layers.getLayers?q.layers:new k["default"]({layers:q.layers});da[A["default"].LAYERGROUP]=aa;da[A["default"].TARGET]=q.target;da[A["default"].VIEW]=void 0!==q.view?q.view:new G["default"];if(void 0!==q.controls)if(Array.isArray(q.controls))var wa=new y["default"](q.controls.slice());else(0,U.assert)("function"===typeof q.controls.getArray,47),wa=q.controls;if(void 0!==q.interactions)if(Array.isArray(q.interactions))var ua=new y["default"](q.interactions.slice());
else(0,U.assert)("function"===typeof q.interactions.getArray,48),ua=q.interactions;void 0!==q.overlays?Array.isArray(q.overlays)?q=new y["default"](q.overlays.slice()):((0,U.assert)("function"===typeof q.overlays.getArray,49),q=q.overlays):q=new y["default"];return{controls:wa,interactions:ua,keyboardEventTarget:N,overlays:q,values:da}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var x=E(B(94)),y=m(B(110)),v=m(B(109)),l=m(B(91)),k=m(B(111)),d=m(B(113)),f=m(B(116)),a=m(B(114)),
e=m(B(112)),p=m(B(117)),A=m(B(118)),C=m(B(88)),D=m(B(115)),P=m(B(97)),L=E(B(121)),G=m(B(156)),z=m(B(124)),K=B(105),H=B(76),R=B(80),U=B(79),ka=B(83),ba=B(133),fa=B(157),ja=B(92),Z=B(106),Q=function(){var q=function(N,da){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(aa,wa){aa.__proto__=wa}||function(aa,wa){for(var ua in wa)Object.prototype.hasOwnProperty.call(wa,ua)&&(aa[ua]=wa[ua])};return q(N,da)};return function(N,da){function aa(){this.constructor=N}q(N,da);N.prototype=null===
da?Object.create(da):(aa.prototype=da.prototype,new aa)}}();Ja=function(q){function N(da){var aa=q.call(this)||this,wa=O(da);aa.boundHandleBrowserEvent_=aa.handleBrowserEvent.bind(aa);aa.maxTilesLoading_=void 0!==da.maxTilesLoading?da.maxTilesLoading:16;aa.pixelRatio_=void 0!==da.pixelRatio?da.pixelRatio:K.DEVICE_PIXEL_RATIO;aa.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(aa);aa.coordinateToPixelTransform_=(0,R.create)();aa.pixelToCoordinateTransform_=
(0,R.create)();aa.frameIndex_=0;aa.frameState_=null;aa.previousExtent_=null;aa.viewPropertyListenerKey_=null;aa.viewChangeListenerKey_=null;aa.layerGroupPropertyListenerKeys_=null;aa.viewport_=document.createElement("div");aa.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");aa.viewport_.style.position="relative";aa.viewport_.style.overflow="hidden";aa.viewport_.style.width="100%";aa.viewport_.style.height="100%";aa.overlayContainer_=document.createElement("div");aa.overlayContainer_.style.position=
"absolute";aa.overlayContainer_.style.zIndex="0";aa.overlayContainer_.style.width="100%";aa.overlayContainer_.style.height="100%";aa.overlayContainer_.style.pointerEvents="none";aa.overlayContainer_.className="ol-overlaycontainer";aa.viewport_.appendChild(aa.overlayContainer_);aa.overlayContainerStopEvent_=document.createElement("div");aa.overlayContainerStopEvent_.style.position="absolute";aa.overlayContainerStopEvent_.style.zIndex="0";aa.overlayContainerStopEvent_.style.width="100%";aa.overlayContainerStopEvent_.style.height=
"100%";aa.overlayContainerStopEvent_.style.pointerEvents="none";aa.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";aa.viewport_.appendChild(aa.overlayContainerStopEvent_);aa.mapBrowserEventHandler_=null;aa.moveTolerance_=da.moveTolerance;aa.keyboardEventTarget_=wa.keyboardEventTarget;aa.keyHandlerKeys_=null;aa.controls=wa.controls||new y["default"];aa.interactions=wa.interactions||new y["default"];aa.overlays_=wa.overlays;aa.overlayIdIndex_={};aa.renderer_=null;aa.postRenderFunctions_=
[];aa.tileQueue_=new L["default"](aa.getTilePriority.bind(aa),aa.handleTileChange_.bind(aa));aa.addEventListener((0,x.getChangeEventType)(A["default"].LAYERGROUP),aa.handleLayerGroupChanged_);aa.addEventListener((0,x.getChangeEventType)(A["default"].VIEW),aa.handleViewChanged_);aa.addEventListener((0,x.getChangeEventType)(A["default"].SIZE),aa.handleSizeChanged_);aa.addEventListener((0,x.getChangeEventType)(A["default"].TARGET),aa.handleTargetChanged_);aa.setProperties(wa.values);aa.controls.forEach(function(ua){ua.setMap(this)}.bind(aa));
aa.controls.addEventListener(v["default"].ADD,function(ua){ua.element.setMap(this)}.bind(aa));aa.controls.addEventListener(v["default"].REMOVE,function(ua){ua.element.setMap(null)}.bind(aa));aa.interactions.forEach(function(ua){ua.setMap(this)}.bind(aa));aa.interactions.addEventListener(v["default"].ADD,function(ua){ua.element.setMap(this)}.bind(aa));aa.interactions.addEventListener(v["default"].REMOVE,function(ua){ua.element.setMap(null)}.bind(aa));aa.overlays_.forEach(aa.addOverlayInternal_.bind(aa));
aa.overlays_.addEventListener(v["default"].ADD,function(ua){this.addOverlayInternal_(ua.element)}.bind(aa));aa.overlays_.addEventListener(v["default"].REMOVE,function(ua){var Ea=ua.element.getId();void 0!==Ea&&delete this.overlayIdIndex_[Ea.toString()];ua.element.setMap(null)}.bind(aa));return aa}Q(N,q);N.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};N.prototype.addControl=function(da){this.getControls().push(da)};N.prototype.addInteraction=function(da){this.getInteractions().push(da)};
N.prototype.addLayer=function(da){this.getLayerGroup().getLayers().push(da)};N.prototype.addOverlay=function(da){this.getOverlays().push(da)};N.prototype.addOverlayInternal_=function(da){var aa=da.getId();void 0!==aa&&(this.overlayIdIndex_[aa.toString()]=da);da.setMap(this)};N.prototype.disposeInternal=function(){this.setTarget(null);q.prototype.disposeInternal.call(this)};N.prototype.forEachFeatureAtPixel=function(da,aa,wa){if(this.frameState_)return da=this.getCoordinateFromPixelInternal(da),wa=
void 0!==wa?wa:{},this.renderer_.forEachFeatureAtCoordinate(da,this.frameState_,void 0!==wa.hitTolerance?wa.hitTolerance:0,!1!==wa.checkWrapped,aa,null,void 0!==wa.layerFilter?wa.layerFilter:H.TRUE,null)};N.prototype.getFeaturesAtPixel=function(da,aa){var wa=[];this.forEachFeatureAtPixel(da,function(ua){wa.push(ua)},aa);return wa};N.prototype.forEachLayerAtPixel=function(da,aa,wa){if(this.frameState_)return wa=wa||{},this.renderer_.forEachLayerAtPixel(da,this.frameState_,void 0!==wa.hitTolerance?
wa.hitTolerance:0,aa,wa.layerFilter||H.TRUE)};N.prototype.hasFeatureAtPixel=function(da,aa){if(!this.frameState_)return!1;da=this.getCoordinateFromPixelInternal(da);aa=void 0!==aa?aa:{};return this.renderer_.hasFeatureAtCoordinate(da,this.frameState_,void 0!==aa.hitTolerance?aa.hitTolerance:0,!1!==aa.checkWrapped,void 0!==aa.layerFilter?aa.layerFilter:H.TRUE,null)};N.prototype.getEventCoordinate=function(da){return this.getCoordinateFromPixel(this.getEventPixel(da))};N.prototype.getEventCoordinateInternal=
function(da){return this.getCoordinateFromPixelInternal(this.getEventPixel(da))};N.prototype.getEventPixel=function(da){var aa=this.viewport_.getBoundingClientRect();da="changedTouches"in da?da.changedTouches[0]:da;return[da.clientX-aa.left,da.clientY-aa.top]};N.prototype.getTarget=function(){return this.get(A["default"].TARGET)};N.prototype.getTargetElement=function(){var da=this.getTarget();return void 0!==da?"string"===typeof da?document.getElementById(da):da:null};N.prototype.getCoordinateFromPixel=
function(da){return(0,ba.toUserCoordinate)(this.getCoordinateFromPixelInternal(da),this.getView().getProjection())};N.prototype.getCoordinateFromPixelInternal=function(da){var aa=this.frameState_;return aa?(0,R.apply)(aa.pixelToCoordinateTransform,da.slice()):null};N.prototype.getControls=function(){return this.controls};N.prototype.getOverlays=function(){return this.overlays_};N.prototype.getOverlayById=function(da){da=this.overlayIdIndex_[da.toString()];return void 0!==da?da:null};N.prototype.getInteractions=
function(){return this.interactions};N.prototype.getLayerGroup=function(){return this.get(A["default"].LAYERGROUP)};N.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};N.prototype.getLoading=function(){for(var da=this.getLayerGroup().getLayerStatesArray(),aa=0,wa=da.length;aa<wa;++aa){var ua=da[aa].layer.getSource();if(ua&&ua.loading)return!0}return!1};N.prototype.getPixelFromCoordinate=function(da){da=(0,ba.fromUserCoordinate)(da,this.getView().getProjection());return this.getPixelFromCoordinateInternal(da)};
N.prototype.getPixelFromCoordinateInternal=function(da){var aa=this.frameState_;return aa?(0,R.apply)(aa.coordinateToPixelTransform,da.slice(0,2)):null};N.prototype.getRenderer=function(){return this.renderer_};N.prototype.getSize=function(){return this.get(A["default"].SIZE)};N.prototype.getView=function(){return this.get(A["default"].VIEW)};N.prototype.getViewport=function(){return this.viewport_};N.prototype.getOverlayContainer=function(){return this.overlayContainer_};N.prototype.getOverlayContainerStopEvent=
function(){return this.overlayContainerStopEvent_};N.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};N.prototype.getTilePriority=function(da,aa,wa,ua){return(0,L.getTilePriority)(this.frameState_,da,aa,wa,ua)};N.prototype.handleBrowserEvent=function(da,aa){da=new d["default"](aa||da.type,this,da);this.handleMapBrowserEvent(da)};N.prototype.handleMapBrowserEvent=function(da){if(this.frameState_){var aa=da.originalEvent,wa=aa.type;
if(wa===D["default"].POINTERDOWN||wa===l["default"].WHEEL||wa===l["default"].KEYDOWN){wa=this.getOwnerDocument();var ua=this.viewport_.getRootNode?this.viewport_.getRootNode():wa;aa="host"in ua?ua.elementFromPoint(aa.clientX,aa.clientY):aa.target;if(this.overlayContainerStopEvent_.contains(aa)||!(ua===wa?wa.documentElement:ua).contains(aa))return}da.frameState=this.frameState_;if(!1!==this.dispatchEvent(da))for(aa=this.getInteractions().getArray().slice(),wa=aa.length-1;0<=wa&&(ua=aa[wa],ua.getMap()!==
this||!ua.getActive()||!this.getTargetElement()||ua.handleEvent(da)&&!da.propagationStopped);wa--);}};N.prototype.handlePostRender=function(){var da=this.frameState_,aa=this.tileQueue_;if(!aa.isEmpty()){var wa=this.maxTilesLoading_,ua=wa;if(da){var Ea=da.viewHints;if(Ea[z["default"].ANIMATING]||Ea[z["default"].INTERACTING])wa=(ua=!K.IMAGE_DECODE&&8<Date.now()-da.time)?0:8,ua=ua?0:2}aa.getTilesLoading()<wa&&(aa.reprioritize(),aa.loadMoreTiles(wa,ua))}!da||!this.hasListener(P["default"].RENDERCOMPLETE)||
da.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(P["default"].RENDERCOMPLETE,da);aa=this.postRenderFunctions_;wa=0;for(ua=aa.length;wa<ua;++wa)aa[wa](this,da);aa.length=0};N.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};N.prototype.handleTargetChanged_=function(){var da;this.getTarget()&&(da=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var aa=
0,wa=this.keyHandlerKeys_.length;aa<wa;++aa)(0,ja.unlistenByKey)(this.keyHandlerKeys_[aa]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(l["default"].CONTEXTMENU,this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(l["default"].WHEEL,this.boundHandleBrowserEvent_);void 0!==this.handleResize_&&(removeEventListener(l["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,Z.removeNode)(this.viewport_)}if(da){da.appendChild(this.viewport_);
this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new f["default"](this,this.moveTolerance_);for(var ua in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][ua],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(l["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(l["default"].WHEEL,this.boundHandleBrowserEvent_,K.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);da=this.keyboardEventTarget_?this.keyboardEventTarget_:
da;this.keyHandlerKeys_=[(0,ja.listen)(da,l["default"].KEYDOWN,this.handleBrowserEvent,this),(0,ja.listen)(da,l["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(l["default"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&
(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};N.prototype.handleTileChange_=function(){this.render()};N.prototype.handleViewPropertyChanged_=function(){this.render()};N.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,ja.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,ja.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var da=
this.getView();da&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,ja.listen)(da,C["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,ja.listen)(da,l["default"].CHANGE,this.handleViewPropertyChanged_,this),da.resolveConstraints(0));this.render()};N.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ja.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var da=
this.getLayerGroup();da&&(this.layerGroupPropertyListenerKeys_=[(0,ja.listen)(da,C["default"].PROPERTYCHANGE,this.render,this),(0,ja.listen)(da,l["default"].CHANGE,this.render,this)]);this.render()};N.prototype.isRendered=function(){return!!this.frameState_};N.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};N.prototype.redrawText=function(){for(var da=this.getLayerGroup().getLayerStatesArray(),aa=0,wa=da.length;aa<wa;++aa){var ua=
da[aa].layer;ua.hasRenderer()&&ua.getRenderer().handleFontsChanged()}};N.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};N.prototype.removeControl=function(da){return this.getControls().remove(da)};N.prototype.removeInteraction=function(da){return this.getInteractions().remove(da)};N.prototype.removeLayer=function(da){return this.getLayerGroup().getLayers().remove(da)};N.prototype.removeOverlay=function(da){return this.getOverlays().remove(da)};
N.prototype.renderFrame_=function(da){var aa=this,wa=this.getSize(),ua=this.getView(),Ea=this.frameState_,$a=null;void 0!==wa&&(0,fa.hasArea)(wa)&&ua&&ua.isDef()&&($a=ua.getHints(this.frameState_?this.frameState_.viewHints:void 0),ua=ua.getState(),$a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ka.getForViewAndSize)(ua.center,ua.resolution,ua.rotation,wa),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),
pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:wa,tileQueue:this.tileQueue_,time:da,usedTiles:{},viewState:ua,viewHints:$a,wantedTiles:{}});this.frameState_=$a;this.renderer_.renderFrame($a);$a&&($a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,$a.postRenderFunctions),!Ea||this.previousExtent_&&((0,ka.isEmpty)(this.previousExtent_)||(0,ka.equals)($a.extent,this.previousExtent_))||(this.dispatchEvent(new e["default"](p["default"].MOVESTART,
this,Ea)),this.previousExtent_=(0,ka.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||$a.viewHints[z["default"].ANIMATING]||$a.viewHints[z["default"].INTERACTING]||(0,ka.equals)($a.extent,this.previousExtent_)||(this.dispatchEvent(new e["default"](p["default"].MOVEEND,this,$a)),(0,ka.clone)($a.extent,this.previousExtent_)));this.dispatchEvent(new e["default"](p["default"].POSTRENDER,this,$a));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){aa.postRenderTimeoutHandle_=
void 0;aa.handlePostRender()},0))};N.prototype.setLayerGroup=function(da){this.set(A["default"].LAYERGROUP,da)};N.prototype.setSize=function(da){this.set(A["default"].SIZE,da)};N.prototype.setTarget=function(da){this.set(A["default"].TARGET,da)};N.prototype.setView=function(da){this.set(A["default"].VIEW,da)};N.prototype.updateSize=function(){var da=this.getTargetElement();if(da){var aa=getComputedStyle(da);this.setSize([da.offsetWidth-parseFloat(aa.borderLeftWidth)-parseFloat(aa.paddingLeft)-parseFloat(aa.paddingRight)-
parseFloat(aa.borderRightWidth),da.offsetHeight-parseFloat(aa.borderTopWidth)-parseFloat(aa.paddingTop)-parseFloat(aa.paddingBottom)-parseFloat(aa.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};N.prototype.updateViewportSize_=function(){var da=this.getView();if(da){var aa=void 0,wa=getComputedStyle(this.viewport_);wa.width&&wa.height&&(aa=[parseInt(wa.width,10),parseInt(wa.height,10)]);da.setViewportSize(aa)}};return N}(x["default"]);F["default"]=Ja};
shadow$provide[159]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(94));var m=g(B(117)),n=B(76),E=B(92),O=B(106),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=
null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l){var k=y.call(this)||this,d=l.element;!d||l.target||d.style.pointerEvents||(d.style.pointerEvents="auto");k.element=d?d:null;k.target_=null;k.map_=null;k.listenerKeys=[];l.render&&(k.render=l.render);l.target&&k.setTarget(l.target);return k}x(v,y);v.prototype.disposeInternal=function(){(0,O.removeNode)(this.element);y.prototype.disposeInternal.call(this)};v.prototype.getMap=function(){return this.map_};v.prototype.setMap=
function(l){this.map_&&(0,O.removeNode)(this.element);for(var k=0,d=this.listenerKeys.length;k<d;++k)(0,E.unlistenByKey)(this.listenerKeys[k]);this.listenerKeys.length=0;if(this.map_=l)(this.target_?this.target_:l.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==n.VOID&&this.listenerKeys.push((0,E.listen)(l,m["default"].POSTRENDER,this.render,this)),l.render()};v.prototype.render=function(l){};v.prototype.setTarget=function(l){this.target_="string"===typeof l?document.getElementById(l):
l};return v}(Ja["default"]);F["default"]=B};
shadow$provide[160]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var m=g(B(91)),n=B(104),E=B(75),O=B(99),x=B(106),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=l}v(l,
k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(k){var d=k?k:{};k=v.call(this,{element:document.createElement("div"),render:d.render,target:d.target})||this;k.ulElement_=document.createElement("ul");k.collapsed_=void 0!==d.collapsed?d.collapsed:!0;k.userCollapsed_=k.collapsed_;k.overrideCollapsible_=void 0!==d.collapsible;k.collapsible_=void 0!==d.collapsible?d.collapsible:!0;k.collapsible_||(k.collapsed_=!1);var f=void 0!==d.className?d.className:
"ol-attribution",a=void 0!==d.tipLabel?d.tipLabel:"Attributions",e=void 0!==d.expandClassName?d.expandClassName:f+"-expand",p=void 0!==d.collapseLabel?d.collapseLabel:"",A=void 0!==d.collapseClassName?d.collapseClassName:f+"-collpase";"string"===typeof p?(k.collapseLabel_=document.createElement("span"),k.collapseLabel_.textContent=p,k.collapseLabel_.className=A):k.collapseLabel_=p;d=void 0!==d.label?d.label:"i";"string"===typeof d?(k.label_=document.createElement("span"),k.label_.textContent=d,k.label_.className=
e):k.label_=d;d=k.collapsible_&&!k.collapsed_?k.collapseLabel_:k.label_;e=document.createElement("button");e.setAttribute("type","button");e.title=a;e.appendChild(d);e.addEventListener(m["default"].CLICK,k.handleClick_.bind(k),!1);a=k.element;a.className=f+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL+(k.collapsed_&&k.collapsible_?" "+n.CLASS_COLLAPSED:"")+(k.collapsible_?"":" ol-uncollapsible");a.appendChild(k.ulElement_);a.appendChild(e);k.renderedAttributions_=[];k.renderedVisible_=!0;return k}
y(l,v);l.prototype.collectSourceAttributions_=function(k){for(var d={},f=[],a=!0,e=k.layerStatesArray,p=0,A=e.length;p<A;++p){var C=e[p];if((0,O.inView)(C,k.viewState)){var D=C.layer.getSource();if(D&&(C=D.getAttributions())&&(C=C(k)))if(a=a&&!1!==D.getAttributionsCollapsible(),Array.isArray(C)){D=0;for(var P=C.length;D<P;++D)C[D]in d||(f.push(C[D]),d[C[D]]=!0)}else C in d||(f.push(C),d[C]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return f};l.prototype.updateElement_=function(k){if(k){k=
this.collectSourceAttributions_(k);var d=0<k.length;this.renderedVisible_!=d&&(this.element.style.display=d?"":"none",this.renderedVisible_=d);if(!(0,E.equals)(k,this.renderedAttributions_)){(0,x.removeChildren)(this.ulElement_);d=0;for(var f=k.length;d<f;++d){var a=document.createElement("li");a.innerHTML=k[d];this.ulElement_.appendChild(a)}this.renderedAttributions_=k}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};l.prototype.handleClick_=function(k){k.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};l.prototype.handleToggle_=function(){this.element.classList.toggle(n.CLASS_COLLAPSED);this.collapsed_?(0,x.replaceNode)(this.collapseLabel_,this.label_):(0,x.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};l.prototype.getCollapsible=function(){return this.collapsible_};l.prototype.setCollapsible=function(k){this.collapsible_!==k&&(this.collapsible_=k,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};l.prototype.setCollapsed=function(k){this.userCollapsed_=k;this.collapsible_&&this.collapsed_!==k&&this.handleToggle_()};l.prototype.getCollapsed=function(){return this.collapsed_};l.prototype.render=function(k){this.updateElement_(k.frameState)};return l}(Ja["default"]);F["default"]=B};
shadow$provide[161]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var m=g(B(91)),n=B(104),E=B(137),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===
v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v){var l=v?v:{};v=x.call(this,{element:document.createElement("div"),render:l.render,target:l.target})||this;var k=void 0!==l.className?l.className:"ol-rotate",d=void 0!==l.label?l.label:"",f=void 0!==l.compassClassName?l.compassClassName:"ol-compass";v.label_=null;"string"===typeof d?(v.label_=document.createElement("span"),v.label_.className=f,v.label_.textContent=d):(v.label_=d,v.label_.classList.add(f));f=l.tipLabel?
l.tipLabel:"Reset rotation";d=document.createElement("button");d.className=k+"-reset";d.setAttribute("type","button");d.title=f;d.appendChild(v.label_);d.addEventListener(m["default"].CLICK,v.handleClick_.bind(v),!1);f=v.element;f.className=k+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;f.appendChild(d);v.callResetNorth_=l.resetNorth?l.resetNorth:void 0;v.duration_=void 0!==l.duration?l.duration:250;v.autoHide_=void 0!==l.autoHide?l.autoHide:!0;v.rotation_=void 0;v.autoHide_&&v.element.classList.add(n.CLASS_HIDDEN);
return v}O(y,x);y.prototype.handleClick_=function(v){v.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};y.prototype.resetNorth_=function(){var v=this.getMap().getView();if(v){var l=v.getRotation();void 0!==l&&(0<this.duration_&&0!==l%(2*Math.PI)?v.animate({rotation:0,duration:this.duration_,easing:E.easeOut}):v.setRotation(0))}};y.prototype.render=function(v){if(v=v.frameState){v=v.viewState.rotation;if(v!=this.rotation_){var l="rotate("+v+"rad)";if(this.autoHide_){var k=
this.element.classList.contains(n.CLASS_HIDDEN);k||0!==v?k&&0!==v&&this.element.classList.remove(n.CLASS_HIDDEN):this.element.classList.add(n.CLASS_HIDDEN)}this.label_.style.transform=l}this.rotation_=v}};return y}(Ja["default"]);F["default"]=B};
shadow$provide[162]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var m=g(B(91)),n=B(104),E=B(137),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===
v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v){var l=v?v:{};v=x.call(this,{element:document.createElement("div"),target:l.target})||this;var k=void 0!==l.className?l.className:"ol-zoom",d=void 0!==l.delta?l.delta:1,f=void 0!==l.zoomInClassName?l.zoomInClassName:k+"-in",a=void 0!==l.zoomOutClassName?l.zoomOutClassName:k+"-out",e=void 0!==l.zoomInLabel?l.zoomInLabel:"+",p=void 0!==l.zoomOutLabel?l.zoomOutLabel:"",A=void 0!==l.zoomInTipLabel?l.zoomInTipLabel:"Zoom in",
C=void 0!==l.zoomOutTipLabel?l.zoomOutTipLabel:"Zoom out",D=document.createElement("button");D.className=f;D.setAttribute("type","button");D.title=A;D.appendChild("string"===typeof e?document.createTextNode(e):e);D.addEventListener(m["default"].CLICK,v.handleClick_.bind(v,d),!1);f=document.createElement("button");f.className=a;f.setAttribute("type","button");f.title=C;f.appendChild("string"===typeof p?document.createTextNode(p):p);f.addEventListener(m["default"].CLICK,v.handleClick_.bind(v,-d),!1);
d=v.element;d.className=k+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;d.appendChild(D);d.appendChild(f);v.duration_=void 0!==l.duration?l.duration:250;return v}O(y,x);y.prototype.handleClick_=function(v,l){l.preventDefault();this.zoomByDelta_(v)};y.prototype.zoomByDelta_=function(v){var l=this.getMap().getView();if(l){var k=l.getZoom();void 0!==k&&(v=l.getConstrainedZoom(k+v),0<this.duration_?(l.getAnimating()&&l.cancelAnimations(),l.animate({zoom:v,duration:this.duration_,easing:E.easeOut})):l.setZoom(v))}};
return y}(Ja["default"]);F["default"]=B};
shadow$provide[163]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}function m(){var d=document.body;return!!(d.webkitRequestFullscreen||d.msRequestFullscreen&&document.msFullscreenEnabled||d.requestFullscreen&&document.fullscreenEnabled)}function n(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function E(d){d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.webkitRequestFullscreen&&
d.webkitRequestFullscreen()}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var O=g(B(91)),x=B(104),y=B(92),v=B(106),l=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),
k=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];B=function(d){function f(a){var e=a?a:{};a=d.call(this,{element:document.createElement("div"),target:e.target})||this;a.cssClassName_=void 0!==e.className?e.className:"ol-full-screen";a.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var p=void 0!==e.label?e.label:"";a.labelNode_=
"string"===typeof p?document.createTextNode(p):p;p=void 0!==e.labelActive?e.labelActive:"";a.labelActiveNode_="string"===typeof p?document.createTextNode(p):p;a.button_=document.createElement("button");p=e.tipLabel?e.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,n());a.button_.setAttribute("type","button");a.button_.title=p;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(O["default"].CLICK,a.handleClick_.bind(a),!1);p=a.cssClassName_+" "+x.CLASS_UNSELECTABLE+" "+x.CLASS_CONTROL+
" "+(m()?"":x.CLASS_UNSUPPORTED);var A=a.element;A.className=p;A.appendChild(a.button_);a.keys_=void 0!==e.keys?e.keys:!1;a.source_=e.source;return a}l(f,d);f.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};f.prototype.handleFullScreen_=function(){if(m()){var a=this.getMap();a&&(n()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===
typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():E(a):E(a)))}};f.prototype.handleFullScreenChange_=function(){var a=this.getMap();n()?(this.setClassName_(this.button_,!0),(0,v.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,v.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));
a&&a.updateSize()};f.prototype.setClassName_=function(a,e){var p,A,C,D=this.activeClassName_,P=this.inactiveClassName_;e=e?D:P;(p=a.classList).remove.apply(p,D);(A=a.classList).remove.apply(A,P);(C=a.classList).add.apply(C,e)};f.prototype.setMap=function(a){d.prototype.setMap.call(this,a);if(a){a=0;for(var e=k.length;a<e;++a)this.listenerKeys.push((0,y.listen)(document,k[a],this.handleFullScreenChange_,this))}};return f}(Ja["default"]);F["default"]=B};
shadow$provide[164]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var m=g(B(115)),n=B(94),E=B(133),O=B(92),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=
null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l){var k=l?l:{},d=document.createElement("div");d.className=void 0!==k.className?k.className:"ol-mouse-position";l=y.call(this,{element:d,render:k.render,target:k.target})||this;l.addEventListener((0,n.getChangeEventType)("projection"),l.handleProjectionChanged_);k.coordinateFormat&&l.setCoordinateFormat(k.coordinateFormat);k.projection&&l.setProjection(k.projection);l.undefinedHTML_=void 0!==k.undefinedHTML?k.undefinedHTML:
"\x26#160;";l.renderOnMouseOut_=!!l.undefinedHTML_;l.renderedHTML_=d.innerHTML;l.mapProjection_=null;l.transform_=null;return l}x(v,y);v.prototype.handleProjectionChanged_=function(){this.transform_=null};v.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};v.prototype.getProjection=function(){return this.get("projection")};v.prototype.handleMouseMove=function(l){var k=this.getMap();this.updateHTML_(k.getEventPixel(l))};v.prototype.handleMouseOut=function(l){this.updateHTML_(null)};
v.prototype.setMap=function(l){y.prototype.setMap.call(this,l);l&&(l=l.getViewport(),this.listenerKeys.push((0,O.listen)(l,m["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,O.listen)(l,m["default"].POINTEROUT,this.handleMouseOut,this)))};v.prototype.setCoordinateFormat=function(l){this.set("coordinateFormat",l)};v.prototype.setProjection=function(l){this.set("projection",(0,E.get)(l))};v.prototype.updateHTML_=function(l){var k=this.undefinedHTML_;
if(l&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,E.getTransformFromProjections)(this.mapProjection_,d):E.identityTransform}if(l=this.getMap().getCoordinateFromPixelInternal(l)){if(k=(0,E.getUserProjection)())this.transform_=(0,E.getTransformFromProjections)(this.mapProjection_,k);this.transform_(l,l);k=(k=this.getCoordinateFormat())?k(l):l.toString()}}this.renderedHTML_&&k===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=k)};v.prototype.render=
function(l){l=l.frameState;l?this.mapProjection_!=l.viewState.projection&&(this.mapProjection_=l.viewState.projection,this.transform_=null):this.mapProjection_=null};return v}(Ja["default"]);F["default"]=B};
shadow$provide[165]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[166]=function(Ja,B,qb,F){function g(f){return f&&f.__esModule?f:{"default":f}}function m(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;m=function(){return f};return f}function n(f){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return n(f)}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==n(f)&&"function"!==typeof f)return{"default":f};var a=m();if(a&&a.has(f))return a.get(f);var e={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in f)if(Object.prototype.hasOwnProperty.call(f,A)){var C=p?Object.getOwnPropertyDescriptor(f,A):null;C&&(C.get||C.set)?Object.defineProperty(e,A,C):e[A]=f[A]}e["default"]=f;a&&a.set(f,e);return e}(B(94)),O=g(B(117)),x=g(B(165)),y=B(104),v=B(83),l=B(92),k=B(106),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,e)};return function(a,e){function p(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}();Ja=function(f){function a(e){var p=f.call(this)||this;p.options=e;p.id=e.id;p.insertFirst=void 0!==e.insertFirst?e.insertFirst:!0;p.stopEvent=void 0!==e.stopEvent?e.stopEvent:
!0;p.element=document.createElement("div");p.element.className=void 0!==e.className?e.className:"ol-overlay-container "+y.CLASS_SELECTABLE;p.element.style.position="absolute";p.element.style.pointerEvents="auto";var A=e.autoPan;A&&"object"!==n(A)&&(A={animation:e.autoPanAnimation,margin:e.autoPanMargin});p.autoPan=A||!1;p.rendered={transform_:"",visible:!0};p.mapPostrenderListenerKey=null;p.addEventListener((0,E.getChangeEventType)("element"),p.handleElementChanged);p.addEventListener((0,E.getChangeEventType)("map"),
p.handleMapChanged);p.addEventListener((0,E.getChangeEventType)("offset"),p.handleOffsetChanged);p.addEventListener((0,E.getChangeEventType)("position"),p.handlePositionChanged);p.addEventListener((0,E.getChangeEventType)("positioning"),p.handlePositioningChanged);void 0!==e.element&&p.setElement(e.element);p.setOffset(void 0!==e.offset?e.offset:[0,0]);p.setPositioning(void 0!==e.positioning?e.positioning:x["default"].TOP_LEFT);void 0!==e.position&&p.setPosition(e.position);return p}d(a,f);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,k.removeChildren)(this.element);var e=this.getElement();e&&this.element.appendChild(e)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,k.removeNode)(this.element),(0,l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();e&&(this.mapPostrenderListenerKey=(0,l.listen)(e,O["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),e=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer(),this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(e){this.set("element",e)};a.prototype.setMap=function(e){this.set("map",e)};a.prototype.setOffset=function(e){this.set("offset",e)};a.prototype.setPosition=function(e){this.set("position",e)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(e){var p=this.getMap();if(p&&p.getTargetElement()&&this.get("position")){var A=this.getRect(p.getTargetElement(),p.getSize()),C=this.getElement(),D=this.getRect(C,[(0,k.outerWidth)(C),(0,k.outerHeight)(C)]);e=e||{};C=void 0===e.margin?20:e.margin;if(!(0,v.containsExtent)(A,D)){var P=D[0]-A[0],L=A[2]-D[2],G=D[1]-A[1];D=A[3]-D[3];A=[0,0];0>P?A[0]=P-C:0>L&&(A[0]=Math.abs(L)+C);0>G?A[1]=G-C:0>D&&(A[1]=Math.abs(D)+C);if(0!==A[0]||0!==A[1])if(C=
p.getView().getCenterInternal(),C=p.getPixelFromCoordinateInternal(C))A=[C[0]+A[0],C[1]+A[1]],e=e.animation||{},p.getView().animateInternal({center:p.getCoordinateFromPixelInternal(A),duration:e.duration,easing:e.easing})}}};a.prototype.getRect=function(e,p){var A=e.getBoundingClientRect();e=A.left+window.pageXOffset;A=A.top+window.pageYOffset;return[e,A,e+p[0],A+p[1]]};a.prototype.setPositioning=function(e){this.set("positioning",e)};a.prototype.setVisible=function(e){this.rendered.visible!==e&&
(this.element.style.display=e?"":"none",this.rendered.visible=e)};a.prototype.updatePixelPosition=function(){var e=this.getMap(),p=this.getPosition();e&&e.isRendered()&&p?(p=e.getPixelFromCoordinate(p),e=e.getSize(),this.updateRenderedPosition(p,e)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(e,p){p=this.element.style;var A=this.getOffset(),C=this.getPositioning();this.setVisible(!0);var D=Math.round(e[0]+A[0])+"px";e=Math.round(e[1]+A[1])+"px";var P=A="0%";if(C==x["default"].BOTTOM_RIGHT||
C==x["default"].CENTER_RIGHT||C==x["default"].TOP_RIGHT)A="-100%";else if(C==x["default"].BOTTOM_CENTER||C==x["default"].CENTER_CENTER||C==x["default"].TOP_CENTER)A="-50%";if(C==x["default"].BOTTOM_LEFT||C==x["default"].BOTTOM_CENTER||C==x["default"].BOTTOM_RIGHT)P="-100%";else if(C==x["default"].CENTER_LEFT||C==x["default"].CENTER_CENTER||C==x["default"].CENTER_RIGHT)P="-50%";C="translate("+A+", "+P+") translate("+D+", "+e+")";this.rendered.transform_!=C&&(this.rendered.transform_=C,p.transform=
C,p.msTransform=C)};a.prototype.getOptions=function(){return this.options};return a}(E["default"]);F["default"]=Ja};
shadow$provide[167]=function(Ja,B,qb,F){function g(P){return P&&P.__esModule?P:{"default":P}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(108));Ja=g(B(159));var n=g(B(91)),E=g(B(117)),O=g(B(118)),x=g(B(88)),y=g(B(166)),v=g(B(165));qb=g(B(158));var l=g(B(156)),k=g(B(125)),d=B(104),f=B(83),a=B(94),e=B(92),p=B(155),A=B(106),C=function(){var P=function(L,G){P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,K){z.__proto__=K}||function(z,K){for(var H in K)Object.prototype.hasOwnProperty.call(K,
H)&&(z[H]=K[H])};return P(L,G)};return function(L,G){function z(){this.constructor=L}P(L,G);L.prototype=null===G?Object.create(G):(z.prototype=G.prototype,new z)}}(),D=function(P){function L(){return null!==P&&P.apply(this,arguments)||this}C(L,P);L.prototype.createRenderer=function(){return new m["default"](this)};return L}(qb["default"]);B=function(P){function L(G){var z=this,K=G?G:{};z=P.call(this,{element:document.createElement("div"),render:K.render,target:K.target})||this;z.boundHandleRotationChanged_=
z.handleRotationChanged_.bind(z);z.collapsed_=void 0!==K.collapsed?K.collapsed:!0;z.collapsible_=void 0!==K.collapsible?K.collapsible:!0;z.collapsible_||(z.collapsed_=!1);z.rotateWithView_=void 0!==K.rotateWithView?K.rotateWithView:!1;z.viewExtent_=void 0;G=void 0!==K.className?K.className:"ol-overviewmap";var H=void 0!==K.tipLabel?K.tipLabel:"Overview map",R=void 0!==K.collapseLabel?K.collapseLabel:"";"string"===typeof R?(z.collapseLabel_=document.createElement("span"),z.collapseLabel_.textContent=
R):z.collapseLabel_=R;R=void 0!==K.label?K.label:"";"string"===typeof R?(z.label_=document.createElement("span"),z.label_.textContent=R):z.label_=R;var U=z.collapsible_&&!z.collapsed_?z.collapseLabel_:z.label_;R=document.createElement("button");R.setAttribute("type","button");R.title=H;R.appendChild(U);R.addEventListener(n["default"].CLICK,z.handleClick_.bind(z),!1);z.ovmapDiv_=document.createElement("div");z.ovmapDiv_.className="ol-overviewmap-map";z.view_=K.view;z.ovmap_=new D({view:K.view});var ka=
z.ovmap_;K.layers&&K.layers.forEach(function(Q){ka.addLayer(Q)});K=document.createElement("div");K.className="ol-overviewmap-box";K.style.boxSizing="border-box";z.boxOverlay_=new y["default"]({position:[0,0],positioning:v["default"].CENTER_CENTER,element:K});z.ovmap_.addOverlay(z.boxOverlay_);K=z.element;K.className=G+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(z.collapsed_&&z.collapsible_?" "+d.CLASS_COLLAPSED:"")+(z.collapsible_?"":" ol-uncollapsible");K.appendChild(z.ovmapDiv_);K.appendChild(R);
var ba=z,fa=z.boxOverlay_,ja=function(Q){Q=ka.getEventCoordinateInternal({clientX:Q.clientX,clientY:Q.clientY});fa.setPosition(Q)},Z=function N(q){q=ka.getEventCoordinateInternal(q);ba.getMap().getView().setCenterInternal(q);window.removeEventListener("mousemove",ja);window.removeEventListener("mouseup",N)};z.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",ja);window.addEventListener("mouseup",Z)});return z}C(L,P);L.prototype.setMap=function(G){var z=
this.getMap();G!==z&&(z&&((z=z.getView())&&this.unbindView_(z),this.ovmap_.setTarget(null)),P.prototype.setMap.call(this,G),G&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,e.listen)(G,x["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),G=G.getView()))&&(this.bindView_(G),G.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};L.prototype.handleMapPropertyChange_=function(G){G.key===O["default"].VIEW&&((G=G.oldValue)&&this.unbindView_(G),G=this.getMap().getView(),
this.bindView_(G))};L.prototype.bindView_=function(G){if(!this.view_){var z=new l["default"]({projection:G.getProjection()});this.ovmap_.setView(z)}G.addEventListener((0,a.getChangeEventType)(k["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};L.prototype.unbindView_=function(G){G.removeEventListener((0,a.getChangeEventType)(k["default"].ROTATION),this.boundHandleRotationChanged_)};L.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
L.prototype.validateExtent_=function(){var G=this.getMap(),z=this.ovmap_;if(G.isRendered()&&z.isRendered()){var K=G.getSize();G=G.getView().calculateExtentInternal(K);if(!this.viewExtent_||!(0,f.equals)(G,this.viewExtent_)){this.viewExtent_=G;var H=z.getSize();K=z.getView().calculateExtentInternal(H);var R=z.getPixelFromCoordinateInternal((0,f.getTopLeft)(G)),U=z.getPixelFromCoordinateInternal((0,f.getBottomRight)(G));z=Math.abs(R[0]-U[0]);R=Math.abs(R[1]-U[1]);U=H[0];H=H[1];z<.1*U||R<.1*H||z>.75*
U||R>.75*H?this.resetExtent_():(0,f.containsExtent)(K,G)||this.recenter_()}}};L.prototype.resetExtent_=function(){var G=this.getMap(),z=this.ovmap_,K=G.getSize();G=G.getView().calculateExtentInternal(K);z=z.getView();K=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,f.scaleFromCenter)(G,K);z.fitInternal((0,p.fromExtent)(G))};L.prototype.recenter_=function(){var G=this.getMap(),z=this.ovmap_;G=G.getView();z.getView().setCenterInternal(G.getCenterInternal())};L.prototype.updateBox_=function(){var G=
this.getMap(),z=this.ovmap_;if(G.isRendered()&&z.isRendered()){var K=G.getSize(),H=G.getView(),R=z.getView();z=this.rotateWithView_?0:-H.getRotation();G=this.boxOverlay_;var U=this.boxOverlay_.getElement(),ka=H.getCenterInternal();H=H.getResolution();var ba=R.getResolution();R=K[0]*H/ba;K=K[1]*H/ba;G.setPosition(ka);U&&(U.style.width=R+"px",U.style.height=K+"px",U.style.transform="rotate("+z+"rad)")}};L.prototype.handleClick_=function(G){G.preventDefault();this.handleToggle_()};L.prototype.handleToggle_=
function(){this.element.classList.toggle(d.CLASS_COLLAPSED);this.collapsed_?(0,A.replaceNode)(this.collapseLabel_,this.label_):(0,A.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var G=this.ovmap_;this.collapsed_||(G.isRendered()?(this.viewExtent_=void 0,G.render()):(G.updateSize(),this.resetExtent_(),(0,e.listenOnce)(G,E["default"].POSTRENDER,function(z){this.updateBox_()},this)))};L.prototype.getCollapsible=function(){return this.collapsible_};L.prototype.setCollapsible=
function(G){this.collapsible_!==G&&(this.collapsible_=G,this.element.classList.toggle("ol-uncollapsible"),!G&&this.collapsed_&&this.handleToggle_())};L.prototype.setCollapsed=function(G){this.collapsible_&&this.collapsed_!==G&&this.handleToggle_()};L.prototype.getCollapsed=function(){return this.collapsed_};L.prototype.getRotateWithView=function(){return this.rotateWithView_};L.prototype.setRotateWithView=function(G){this.rotateWithView_!==G&&(this.rotateWithView_=G,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};L.prototype.getOverviewMap=function(){return this.ovmap_};L.prototype.render=function(G){this.validateExtent_();this.updateBox_()};return L}(Ja["default"]);F["default"]=B};
shadow$provide[168]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.Units=void 0;Ja=g(B(159));var m=g(B(123)),n=B(104),E=B(133),O=B(79),x=B(94),y=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),v={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};F.Units=v;var l=[1,2,5],k=25.4/.28;B=function(d){function f(a){var e=a?a:{},p=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";a=d.call(this,{element:document.createElement("div"),render:e.render,target:e.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=p+"-inner";a.element.className=
p+" "+n.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==e.minWidth?e.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,x.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(e.units||v.METRIC);a.scaleBar_=e.bar||!1;a.scaleBarSteps_=e.steps||4;a.scaleBarText_=e.text||!1;a.dpi_=e.dpi||void 0;return a}y(f,d);f.prototype.getUnits=function(){return this.get("units")};f.prototype.handleUnitsChanged_=
function(){this.updateElement_()};f.prototype.setUnits=function(a){this.set("units",a)};f.prototype.setDpi=function(a){this.dpi_=a};f.prototype.updateElement_=function(){var a=this.viewState_;if(a){var e=a.center,p=a.projection,A=this.getUnits(),C=A==v.DEGREES?m["default"].DEGREES:m["default"].METERS;a=(0,E.getPointResolution)(p,a.resolution,e,C);e=this.minWidth_*(this.dpi_||k)/k;C=e*a;p="";A==v.DEGREES?(A=E.METERS_PER_UNIT[m["default"].DEGREES],C*=A,C<A/60?(p="",a*=3600):C<A?(p="",a*=60):p=""):
A==v.IMPERIAL?.9144>C?(p="in",a/=.0254):1609.344>C?(p="ft",a/=.3048):(p="mi",a/=1609.344):A==v.NAUTICAL?(a/=1852,p="nm"):A==v.METRIC?.001>C?(p="m",a*=1E6):1>C?(p="mm",a*=1E3):1E3>C?p="m":(p="km",a/=1E3):A==v.US?.9144>C?(p="in",a*=39.37):1609.344>C?(p="ft",a/=.30480061):(p="mi",a/=1609.3472):(0,O.assert)(!1,33);C=3*Math.floor(Math.log(e*a)/Math.log(10));for(var D,P;;){P=Math.floor(C/3);D=l[(C%3+3)%3]*Math.pow(10,P);A=Math.round(D/a);if(isNaN(A)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(A>=e)break;++C}a=this.scaleBar_?this.createScaleBar(A,D,p):D.toFixed(0>P?-P:0)+" "+p;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=A&&(this.innerElement_.style.width=A+"px",this.renderedWidth_=A);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};f.prototype.createScaleBar=function(a,e,p){for(var A="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
C=[],D=a/this.scaleBarSteps_,P="#ffffff",L=0;L<this.scaleBarSteps_;L++)0===L&&C.push(this.createMarker("absolute",L)),C.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+D+"px;background-color: "+P+';"\x3e\x3c/div\x3e'+this.createMarker("relative",L)+(0===L%2||2===this.scaleBarSteps_?this.createStepText(L,a,!1,e,p):"")+"\x3c/div\x3e"),L===this.scaleBarSteps_-1&&C.push(this.createStepText(L+1,a,!0,e,p)),P="#ffffff"===P?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+A+"\x3c/div\x3e":"")+C.join("")+"\x3c/div\x3e"};f.prototype.createMarker=function(a,e){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};f.prototype.createStepText=function(a,e,p,A,C){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:e/this.scaleBarSteps_*2)+"px;left: "+(p?e+"px":"unset")+';"\x3e'+((0===a?0:Math.round(A/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+C))+"\x3c/div\x3e"};f.prototype.getScaleForResolution=function(){var a=(0,E.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||k,p=this.viewState_.projection.getMetersPerUnit(),A=1E3/25.4;return parseFloat(a.toString())*p*A*e};f.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return f}(Ja["default"]);F["default"]=B};
shadow$provide[169]=function(Ja,B,qb,F){function g(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var m=g(B(91)),n=g(B(115)),E=B(104),O=B(84),x=B(137),y=B(92),v=B(87),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=
d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f){var a=f?f:{};f=k.call(this,{element:document.createElement("div"),render:a.render})||this;f.dragListenerKeys_=[];f.currentResolution_=void 0;f.direction_=0;f.heightLimit_=0;f.widthLimit_=0;f.thumbSize_=null;f.sliderInitialized_=!1;f.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var e=document.createElement("button");e.setAttribute("type",
"button");e.className=a+"-thumb "+E.CLASS_UNSELECTABLE;var p=f.element;p.className=a+" "+E.CLASS_UNSELECTABLE+" "+E.CLASS_CONTROL;p.appendChild(e);p.addEventListener(n["default"].POINTERDOWN,f.handleDraggerStart_.bind(f),!1);p.addEventListener(n["default"].POINTERMOVE,f.handleDraggerDrag_.bind(f),!1);p.addEventListener(n["default"].POINTERUP,f.handleDraggerEnd_.bind(f),!1);p.addEventListener(m["default"].CLICK,f.handleContainerClick_.bind(f),!1);e.addEventListener(m["default"].CLICK,v.stopPropagation,
!1);return f}l(d,k);d.prototype.setMap=function(f){k.prototype.setMap.call(this,f);f&&f.render()};d.prototype.initSlider_=function(){var f=this.element,a=f.offsetWidth,e=f.offsetHeight;if(0===a&&0===e)return this.sliderInitialized_=!1;var p=f.firstElementChild,A=getComputedStyle(p);f=p.offsetWidth+parseFloat(A.marginRight)+parseFloat(A.marginLeft);p=p.offsetHeight+parseFloat(A.marginTop)+parseFloat(A.marginBottom);this.thumbSize_=[f,p];a>e?(this.direction_=1,this.widthLimit_=a-f):(this.direction_=
0,this.heightLimit_=e-p);return this.sliderInitialized_=!0};d.prototype.handleContainerClick_=function(f){var a=this.getMap().getView();f=this.getRelativePosition_(f.offsetX-this.thumbSize_[0]/2,f.offsetY-this.thumbSize_[1]/2);f=this.getResolutionForPosition_(f);f=a.getConstrainedZoom(a.getZoomForResolution(f));a.animateInternal({zoom:f,duration:this.duration_,easing:x.easeOut})};d.prototype.handleDraggerStart_=function(f){if(!this.dragging_&&f.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=f.clientX-parseFloat(a.style.left);this.startY_=f.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){f=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var e=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,y.listen)(e,n["default"].POINTERMOVE,f,this),(0,y.listen)(e,n["default"].POINTERUP,a,this))}}};d.prototype.handleDraggerDrag_=function(f){this.dragging_&&(f=this.getRelativePosition_(f.clientX-
this.startX_,f.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(f),this.getMap().getView().setResolution(this.currentResolution_))};d.prototype.handleDraggerEnd_=function(f){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(y.unlistenByKey),this.dragListenerKeys_.length=0)};d.prototype.setThumbPosition_=function(f){f=this.getPositionForResolution_(f);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*f+"px":a.style.top=this.heightLimit_*f+"px"};d.prototype.getRelativePosition_=function(f,a){f=1===this.direction_?f/this.widthLimit_:a/this.heightLimit_;return(0,O.clamp)(f,0,1)};d.prototype.getResolutionForPosition_=function(f){return this.getMap().getView().getResolutionForValueFunction()(1-f)};d.prototype.getPositionForResolution_=function(f){var a=this.getMap().getView().getValueForResolutionFunction();return(0,O.clamp)(1-a(f),0,1)};d.prototype.render=
function(f){f.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=f=f.frameState.viewState.resolution,this.setThumbPosition_(f))};return d}(Ja["default"]);F["default"]=B};
shadow$provide[170]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(159));var m=g(B(91)),n=B(104),E=B(155),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===
v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v){var l=v?v:{};v=x.call(this,{element:document.createElement("div"),target:l.target})||this;v.extent=l.extent?l.extent:null;var k=void 0!==l.className?l.className:"ol-zoom-extent",d=void 0!==l.label?l.label:"E",f=void 0!==l.tipLabel?l.tipLabel:"Fit to extent";l=document.createElement("button");l.setAttribute("type","button");l.title=f;l.appendChild("string"===typeof d?document.createTextNode(d):d);l.addEventListener(m["default"].CLICK,
v.handleClick_.bind(v),!1);d=v.element;d.className=k+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;d.appendChild(l);return v}O(y,x);y.prototype.handleClick_=function(v){v.preventDefault();this.handleZoomToExtent()};y.prototype.handleZoomToExtent=function(){var v=this.getMap().getView(),l=this.extent?this.extent:v.getProjection().getExtent();v.fitInternal((0,E.fromExtent)(l))};return y}(Ja["default"]);F["default"]=B};
shadow$provide[171]=function(Ja,B,qb,F){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(F,"__esModule",{value:!0});F.defaults=function(a){a=a?a:{};var e=new n["default"];(void 0!==a.zoom?a.zoom:1)&&e.push(new O["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&e.push(new E["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&e.push(new m["default"](a.attributionOptions));return e};Object.defineProperty(F,"Attribution",{enumerable:!0,get:function(){return m["default"]}});
Object.defineProperty(F,"Rotate",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(F,"Zoom",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(F,"Control",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(F,"FullScreen",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(F,"MousePosition",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(F,"OverviewMap",{enumerable:!0,get:function(){return l["default"]}});
Object.defineProperty(F,"ScaleLine",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(F,"ZoomSlider",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(F,"ZoomToExtent",{enumerable:!0,get:function(){return f["default"]}});var m=g(B(160)),n=g(B(110)),E=g(B(161)),O=g(B(162)),x=g(B(159)),y=g(B(163)),v=g(B(164)),l=g(B(167)),k=g(B(168)),d=g(B(169)),f=g(B(170))};
shadow$provide[172]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={ACTIVE:"active"}};
shadow$provide[173]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F.pan=function(O,x,y){var v=O.getCenterInternal();v&&O.animateInternal({duration:void 0!==y?y:250,easing:n.linear,center:O.getConstrainedCenter([v[0]+x[0],v[1]+x[1]])})};F.zoomByDelta=function(O,x,y,v){var l=O.getZoom();void 0!==l&&(x=O.getConstrainedZoom(l+x),x=O.getResolutionForZoom(x),O.getAnimating()&&O.cancelAnimations(),O.animate({resolution:x,anchor:y,
duration:void 0!==v?v:250,easing:n.easeOut}))};F["default"]=void 0;Ja=g(B(94));var m=g(B(172)),n=B(137),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){var v=O.call(this)||
this;y&&y.handleEvent&&(v.handleEvent=y.handleEvent);v.map_=null;v.setActive(!0);return v}E(x,O);x.prototype.getActive=function(){return this.get(m["default"].ACTIVE)};x.prototype.getMap=function(){return this.map_};x.prototype.handleEvent=function(y){return!0};x.prototype.setActive=function(y){this.set(m["default"].ACTIVE,y)};x.prototype.setMap=function(y){this.map_=y};return x}(Ja["default"]);F["default"]=B};
shadow$provide[174]=function(Ja,B,qb,F){function g(x){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"===typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};return g(x)}function m(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;m=function(){return x};return x}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==g(x)&&"function"!==typeof x)return{"default":x};var y=m();if(y&&y.has(x))return y.get(x);var v={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in x)if(Object.prototype.hasOwnProperty.call(x,k)){var d=l?Object.getOwnPropertyDescriptor(x,k):null;d&&(d.get||d.set)?Object.defineProperty(v,k,d):v[k]=x[k]}v["default"]=x;y&&y.set(x,v);return v}(B(173)),E=function(x){return x&&x.__esModule?x:{"default":x}}(B(114)),O=function(){var x=function(y,v){x=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();Ja=function(x){function y(v){var l=x.call(this)||this;v=v?v:{};l.delta_=v.delta?v.delta:1;l.duration_=void 0!==v.duration?v.duration:250;return l}O(y,x);y.prototype.handleEvent=function(v){var l=!1;if(v.type==
E["default"].DBLCLICK){l=v.originalEvent;var k=v.coordinate,d=l.shiftKey?-this.delta_:this.delta_;v=v.map.getView();(0,n.zoomByDelta)(v,d,k,this.duration_);l.preventDefault();l=!0}return!l};return y}(n["default"]);F["default"]=Ja};
shadow$provide[175]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F.centroid=function(O){for(var x=O.length,y=0,v=0,l=0;l<x;l++)y+=O[l].clientX,v+=O[l].clientY;return[y/x,v/x]};F["default"]=void 0;Ja=g(B(173));var m=g(B(114)),n=B(89),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&
(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){var v=y?y:{};y=O.call(this,v)||this;v.handleDownEvent&&(y.handleDownEvent=v.handleDownEvent);v.handleDragEvent&&(y.handleDragEvent=v.handleDragEvent);v.handleMoveEvent&&(y.handleMoveEvent=v.handleMoveEvent);v.handleUpEvent&&(y.handleUpEvent=v.handleUpEvent);v.stopDown&&(y.stopDown=v.stopDown);y.handlingDownUpSequence=
!1;y.trackedPointers_={};y.targetPointers=[];return y}E(x,O);x.prototype.getPointerCount=function(){return this.targetPointers.length};x.prototype.handleDownEvent=function(y){return!1};x.prototype.handleDragEvent=function(y){};x.prototype.handleEvent=function(y){if(!y.originalEvent)return!0;var v=!1;this.updateTrackedPointers_(y);this.handlingDownUpSequence?y.type==m["default"].POINTERDRAG?(this.handleDragEvent(y),y.originalEvent.preventDefault()):y.type==m["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(y)&&0<this.targetPointers.length):y.type==m["default"].POINTERDOWN?(this.handlingDownUpSequence=y=this.handleDownEvent(y),v=this.stopDown(y)):y.type==m["default"].POINTERMOVE&&this.handleMoveEvent(y);return!v};x.prototype.handleMoveEvent=function(y){};x.prototype.handleUpEvent=function(y){return!1};x.prototype.stopDown=function(y){return y};x.prototype.updateTrackedPointers_=function(y){var v=y.type;if(v===m["default"].POINTERDOWN||v===m["default"].POINTERDRAG||v===m["default"].POINTERUP){v=
y.originalEvent;var l=v.pointerId.toString();y.type==m["default"].POINTERUP?delete this.trackedPointers_[l]:y.type==m["default"].POINTERDOWN?this.trackedPointers_[l]=v:l in this.trackedPointers_&&(this.trackedPointers_[l]=v);this.targetPointers=(0,n.getValues)(this.trackedPointers_)}};return x}(Ja["default"]);F["default"]=B};
shadow$provide[176]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.all=function(O){var x=arguments;return function(y){for(var v=!0,l=0,k=x.length;l<k&&(v=v&&x[l](y),v);++l);return v}};F.primaryAction=F.penOnly=F.touchOnly=F.mouseOnly=F.targetNotEditable=F.shiftKeyOnly=F.platformModifierKeyOnly=F.noModifierKeys=F.doubleClick=F.singleClick=F.pointerMove=F.never=F.mouseActionButton=F.click=F.always=F.focusWithTabindex=F.focus=F.altShiftKeysOnly=F.altKeyOnly=void 0;var g=function(O){return O&&
O.__esModule?O:{"default":O}}(B(114));Ja=B(76);var m=B(105),n=B(79);F.altKeyOnly=function(O){O=O.originalEvent;return O.altKey&&!(O.metaKey||O.ctrlKey)&&!O.shiftKey};F.altShiftKeysOnly=function(O){O=O.originalEvent;return O.altKey&&!(O.metaKey||O.ctrlKey)&&O.shiftKey};var E=function(O){return O.target.getTargetElement().contains(document.activeElement)};F.focus=E;F.focusWithTabindex=function(O){return O.map.getTargetElement().hasAttribute("tabindex")?E(O):!0};F.always=Ja.TRUE;F.click=function(O){return O.type==
g["default"].CLICK};F.mouseActionButton=function(O){O=O.originalEvent;return 0==O.button&&!(m.WEBKIT&&m.MAC&&O.ctrlKey)};F.never=Ja.FALSE;F.pointerMove=function(O){return"pointermove"==O.type};F.singleClick=function(O){return O.type==g["default"].SINGLECLICK};F.doubleClick=function(O){return O.type==g["default"].DBLCLICK};F.noModifierKeys=function(O){O=O.originalEvent;return!O.altKey&&!(O.metaKey||O.ctrlKey)&&!O.shiftKey};F.platformModifierKeyOnly=function(O){O=O.originalEvent;return!O.altKey&&(m.MAC?
O.metaKey:O.ctrlKey)&&!O.shiftKey};F.shiftKeyOnly=function(O){O=O.originalEvent;return!O.altKey&&!(O.metaKey||O.ctrlKey)&&O.shiftKey};F.targetNotEditable=function(O){O=O.originalEvent.target.tagName;return"INPUT"!==O&&"SELECT"!==O&&"TEXTAREA"!==O};F.mouseOnly=function(O){O=O.originalEvent;(0,n.assert)(void 0!==O,56);return"mouse"==O.pointerType};F.touchOnly=function(O){O=O.originalEvent;(0,n.assert)(void 0!==O,56);return"touch"===O.pointerType};F.penOnly=function(O){O=O.originalEvent;(0,n.assert)(void 0!==
O,56);return"pen"===O.pointerType};F.primaryAction=function(O){O=O.originalEvent;(0,n.assert)(void 0!==O,56);return O.isPrimary&&0===O.button}};
shadow$provide[177]=function(Ja,B,qb,F){function g(l){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};return g(l)}function m(){if("function"!==typeof WeakMap)return null;var l=new WeakMap;m=function(){return l};return l}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(l){if(l&&l.__esModule)return l;if(null===
l||"object"!==g(l)&&"function"!==typeof l)return{"default":l};var k=m();if(k&&k.has(l))return k.get(l);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in l)if(Object.prototype.hasOwnProperty.call(l,a)){var e=f?Object.getOwnPropertyDescriptor(l,a):null;e&&(e.get||e.set)?Object.defineProperty(d,a,e):d[a]=l[a]}d["default"]=l;k&&k.set(l,d);return d}(B(175)),E=B(76),O=B(176),x=B(137),y=B(101),v=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ja=function(l){function k(d){var f=l.call(this,{stopDown:E.FALSE})||this;d=d?d:{};f.kinetic_=d.kinetic;f.lastCentroid=null;f.panning_=!1;var a=d.condition?d.condition:(0,O.all)(O.noModifierKeys,O.primaryAction);f.condition_=d.onFocusOnly?
(0,O.all)(O.focusWithTabindex,a):a;f.noKinetic_=!1;return f}v(k,l);k.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var f=this.targetPointers,a=(0,n.centroid)(f);if(f.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var e=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],p=d.map.getView();(0,y.scale)(e,p.getResolution());(0,y.rotate)(e,p.getRotation());p.adjustCenterInternal(e)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=f.length;d.originalEvent.preventDefault()};k.prototype.handleUpEvent=function(d){var f=d.map;d=f.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),p=d.getCenterInternal();p=f.getPixelFromCoordinateInternal(p);f=f.getCoordinateFromPixelInternal([p[0]-a*Math.cos(e),p[1]-a*Math.sin(e)]);d.animateInternal({center:d.getConstrainedCenter(f),
duration:500,easing:x.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};k.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return k}(n["default"]);F["default"]=Ja};
shadow$provide[178]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(O){return O&&O.__esModule?O:{"default":O}}(B(175));var g=B(76),m=B(176),n=B(136),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){var v=y?y:{};y=O.call(this,{stopDown:g.FALSE})||this;y.condition_=v.condition?v.condition:m.altShiftKeysOnly;y.lastAngle_=void 0;y.duration_=void 0!==v.duration?v.duration:250;return y}E(x,O);x.prototype.handleDragEvent=function(y){if((0,m.mouseOnly)(y)){var v=y.map,l=v.getView();l.getConstraints().rotation!==n.disable&&(v=v.getSize(),y=y.pixel,y=Math.atan2(v[1]/2-y[1],y[0]-v[0]/2),void 0!==this.lastAngle_&&l.adjustRotationInternal(-(y-
this.lastAngle_)),this.lastAngle_=y)}};x.prototype.handleUpEvent=function(y){if(!(0,m.mouseOnly)(y))return!0;y.map.getView().endInteraction(this.duration_);return!1};x.prototype.handleDownEvent=function(y){return(0,m.mouseOnly)(y)&&(0,m.mouseActionButton)(y)&&this.condition_(y)?(y.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return x}(Ja["default"]);F["default"]=B};
shadow$provide[179]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(74));var m=g(B(155)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x){var y=E.call(this)||this;y.geometry_=null;y.element_=document.createElement("div");y.element_.style.position="absolute";y.element_.style.pointerEvents="auto";y.element_.className="ol-box "+x;y.map_=null;y.startPixel_=null;y.endPixel_=null;return y}n(O,E);O.prototype.disposeInternal=function(){this.setMap(null)};O.prototype.render_=function(){var x=this.startPixel_,y=this.endPixel_,v=this.element_.style;v.left=Math.min(x[0],y[0])+"px";
v.top=Math.min(x[1],y[1])+"px";v.width=Math.abs(y[0]-x[0])+"px";v.height=Math.abs(y[1]-x[1])+"px"};O.prototype.setMap=function(x){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var y=this.element_.style;y.left="inherit";y.top="inherit";y.width="inherit";y.height="inherit"}(this.map_=x)&&this.map_.getOverlayContainer().appendChild(this.element_)};O.prototype.setPixels=function(x,y){this.startPixel_=x;this.endPixel_=y;this.createOrUpdateGeometry();this.render_()};O.prototype.createOrUpdateGeometry=
function(){var x=this.startPixel_,y=this.endPixel_;x=[x,[x[0],y[1]],y,[y[0],x[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);x[4]=x[0].slice();this.geometry_?this.geometry_.setCoordinates([x]):this.geometry_=new m["default"]([x])};O.prototype.getGeometry=function(){return this.geometry_};return O}(Ja["default"]);F["default"]=B};
shadow$provide[180]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.DragBoxEvent=void 0;Ja=g(B(87));qb=g(B(175));var m=g(B(179)),n=B(176),E=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,
v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}(),O=function(x){function y(v,l,k){v=x.call(this,v)||this;v.coordinate=l;v.mapBrowserEvent=k;return v}E(y,x);return y}(Ja["default"]);F.DragBoxEvent=O;B=function(x){function y(v){var l=x.call(this)||this;v=v?v:{};l.box_=new m["default"](v.className||"ol-dragbox");l.minArea_=void 0!==v.minArea?v.minArea:64;v.onBoxEnd&&(l.onBoxEnd=v.onBoxEnd);l.startPixel_=null;l.condition_=v.condition?v.condition:n.mouseActionButton;l.boxEndCondition_=
v.boxEndCondition?v.boxEndCondition:l.defaultBoxEndCondition;return l}E(y,x);y.prototype.defaultBoxEndCondition=function(v,l,k){v=k[0]-l[0];l=k[1]-l[1];return v*v+l*l>=this.minArea_};y.prototype.getGeometry=function(){return this.box_.getGeometry()};y.prototype.handleDragEvent=function(v){this.box_.setPixels(this.startPixel_,v.pixel);this.dispatchEvent(new O("boxdrag",v.coordinate,v))};y.prototype.handleUpEvent=function(v){this.box_.setMap(null);var l=this.boxEndCondition_(v,this.startPixel_,v.pixel);
if(l)this.onBoxEnd(v);this.dispatchEvent(new O(l?"boxend":"boxcancel",v.coordinate,v));return!1};y.prototype.handleDownEvent=function(v){return this.condition_(v)?(this.startPixel_=v.pixel,this.box_.setMap(v.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new O("boxstart",v.coordinate,v)),!0):!1};y.prototype.onBoxEnd=function(v){};return y}(qb["default"]);F["default"]=B};
shadow$provide[181]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(O){return O&&O.__esModule?O:{"default":O}}(B(180));var g=B(83),m=B(137),n=B(176),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){var v=y?y:{};y=O.call(this,{condition:v.condition?v.condition:n.shiftKeyOnly,className:v.className||"ol-dragzoom",minArea:v.minArea})||this;y.duration_=void 0!==v.duration?v.duration:200;y.out_=void 0!==v.out?v.out:!1;return y}E(x,O);x.prototype.onBoxEnd=function(y){var v=this.getMap();y=v.getView();var l=v.getSize(),k=this.getGeometry().getExtent();if(this.out_){var d=y.calculateExtentInternal(l);k=(0,g.createOrUpdateFromCoordinates)([v.getPixelFromCoordinateInternal((0,
g.getBottomLeft)(k)),v.getPixelFromCoordinateInternal((0,g.getTopRight)(k))]);k=y.getResolutionForExtentInternal(k,l);(0,g.scaleFromCenter)(d,1/k);k=d}l=y.getConstrainedResolution(y.getResolutionForExtentInternal(k,l));d=y.getConstrainedCenter((0,g.getCenter)(k),l);y.animateInternal({resolution:l,center:d,duration:this.duration_,easing:m.easeOut})};return x}(Ja["default"]);F["default"]=B};
shadow$provide[182]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[183]=function(Ja,B,qb,F){function g(k){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return g(k)}function m(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;m=function(){return k};return k}function n(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=n(B(91)),O=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==g(k)&&"function"!==typeof k)return{"default":k};var d=m();if(d&&d.has(k))return d.get(k);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in k)if(Object.prototype.hasOwnProperty.call(k,e)){var p=a?Object.getOwnPropertyDescriptor(k,e):null;p&&(p.get||p.set)?Object.defineProperty(f,e,p):f[e]=k[e]}f["default"]=k;d&&d.set(k,f);return f}(B(173)),x=n(B(182)),y=B(176),v=B(101),l=function(){var k=function(d,
f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();Ja=function(k){function d(f){var a=k.call(this)||this;f=f||{};a.defaultCondition_=function(e){return(0,y.noModifierKeys)(e)&&(0,y.targetNotEditable)(e)};a.condition_=void 0!==f.condition?
f.condition:a.defaultCondition_;a.duration_=void 0!==f.duration?f.duration:100;a.pixelDelta_=void 0!==f.pixelDelta?f.pixelDelta:128;return a}l(d,k);d.prototype.handleEvent=function(f){var a=!1;if(f.type==E["default"].KEYDOWN){var e=f.originalEvent,p=e.keyCode;if(this.condition_(f)&&(p==x["default"].DOWN||p==x["default"].LEFT||p==x["default"].RIGHT||p==x["default"].UP)){f=f.map.getView();a=f.getResolution()*this.pixelDelta_;var A=0,C=0;p==x["default"].DOWN?C=-a:p==x["default"].LEFT?A=-a:p==x["default"].RIGHT?
A=a:C=a;p=[A,C];(0,v.rotate)(p,f.getRotation());(0,O.pan)(f,p,this.duration_);e.preventDefault();a=!0}}return!a};return d}(O["default"]);F["default"]=Ja};
shadow$provide[184]=function(Ja,B,qb,F){function g(y){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return g(y)}function m(){if("function"!==typeof WeakMap)return null;var y=new WeakMap;m=function(){return y};return y}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(y){return y&&y.__esModule?y:{"default":y}}(B(91)),
E=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==g(y)&&"function"!==typeof y)return{"default":y};var v=m();if(v&&v.has(y))return v.get(y);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in y)if(Object.prototype.hasOwnProperty.call(y,d)){var f=k?Object.getOwnPropertyDescriptor(y,d):null;f&&(f.get||f.set)?Object.defineProperty(l,d,f):l[d]=y[d]}l["default"]=y;v&&v.set(y,l);return l}(B(173)),O=B(176),x=function(){var y=function(v,l){y=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();Ja=function(y){function v(l){var k=y.call(this)||this;l=l?l:{};k.condition_=l.condition?l.condition:O.targetNotEditable;k.delta_=l.delta?l.delta:1;k.duration_=void 0!==l.duration?l.duration:100;return k}x(v,
y);v.prototype.handleEvent=function(l){var k=!1;if(l.type==n["default"].KEYDOWN||l.type==n["default"].KEYPRESS){var d=l.originalEvent,f=d.charCode;!this.condition_(l)||43!=f&&45!=f||(k=43==f?this.delta_:-this.delta_,l=l.map.getView(),(0,E.zoomByDelta)(l,k,void 0,this.duration_),d.preventDefault(),k=!0)}return!k};return v}(E["default"]);F["default"]=Ja};
shadow$provide[185]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(){function g(m,n,E){this.decay_=m;this.minVelocity_=n;this.delay_=E;this.points_=[];this.initialVelocity_=this.angle_=0}g.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};g.prototype.update=function(m,n){this.points_.push(m,n,Date.now())};g.prototype.end=function(){if(6>this.points_.length)return!1;var m=Date.now()-this.delay_,n=this.points_.length-
3;if(this.points_[n+2]<m)return!1;for(var E=n-3;0<E&&this.points_[E+2]>m;)E-=3;m=this.points_[n+2]-this.points_[E+2];if(m<1E3/60)return!1;var O=this.points_[n]-this.points_[E];n=this.points_[n+1]-this.points_[E+1];this.angle_=Math.atan2(n,O);this.initialVelocity_=Math.sqrt(O*O+n*n)/m;return this.initialVelocity_>this.minVelocity_};g.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};g.prototype.getAngle=function(){return this.angle_};return g}();F["default"]=
Ja};
shadow$provide[186]=function(Ja,B,qb,F){function g(k){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return g(k)}function m(){if("function"!==typeof WeakMap)return null;var k=new WeakMap;m=function(){return k};return k}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.Mode=void 0;var n=function(k){return k&&k.__esModule?k:{"default":k}}(B(91)),
E=function(k){if(k&&k.__esModule)return k;if(null===k||"object"!==g(k)&&"function"!==typeof k)return{"default":k};var d=m();if(d&&d.has(k))return d.get(k);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in k)if(Object.prototype.hasOwnProperty.call(k,e)){var p=a?Object.getOwnPropertyDescriptor(k,e):null;p&&(p.get||p.set)?Object.defineProperty(f,e,p):f[e]=k[e]}f["default"]=k;d&&d.set(k,f);return f}(B(173)),O=B(105),x=B(176),y=B(84),v=function(){var k=function(d,f){k=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),l={TRACKPAD:"trackpad",WHEEL:"wheel"};F.Mode=l;Ja=function(k){function d(f){var a=f?f:{};f=k.call(this,a)||this;f.totalDelta_=0;f.lastDelta_=0;f.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;f.duration_=void 0!==
a.duration?a.duration:250;f.timeout_=void 0!==a.timeout?a.timeout:80;f.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;f.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var e=a.condition?a.condition:x.always;f.condition_=a.onFocusOnly?(0,x.all)(x.focusWithTabindex,e):e;f.lastAnchor_=null;f.startTime_=void 0;f.mode_=void 0;f.trackpadEventGap_=400;f.deltaPerZoom_=300;return f}v(d,k);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};d.prototype.handleEvent=function(f){if(!this.condition_(f)||f.type!==n["default"].WHEEL)return!0;var a=f.map,e=f.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=f.coordinate);if(f.type==n["default"].WHEEL){var p=e.deltaY;O.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(p/=O.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(p*=40)}if(0===p)return!1;this.lastDelta_=p;f=Date.now();void 0===this.startTime_&&
(this.startTime_=f);if(!this.mode_||f-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(p)?l.TRACKPAD:l.WHEEL;e=a.getView();if(this.mode_===l.TRACKPAD&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-p/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
f,!1;this.totalDelta_+=p;p=Math.max(this.timeout_-(f-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),p);return!1};d.prototype.handleWheelZoom_=function(f){f=f.getView();f.getAnimating()&&f.cancelAnimations();var a=-(0,y.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(f.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,E.zoomByDelta)(f,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};d.prototype.setMouseAnchor=function(f){this.useAnchor_=f;f||(this.lastAnchor_=null)};return d}(E["default"]);F["default"]=Ja};
shadow$provide[187]=function(Ja,B,qb,F){function g(y){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return g(y)}function m(){if("function"!==typeof WeakMap)return null;var y=new WeakMap;m=function(){return y};return y}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(y){if(y&&y.__esModule)return y;if(null===
y||"object"!==g(y)&&"function"!==typeof y)return{"default":y};var v=m();if(v&&v.has(y))return v.get(y);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in y)if(Object.prototype.hasOwnProperty.call(y,d)){var f=k?Object.getOwnPropertyDescriptor(y,d):null;f&&(f.get||f.set)?Object.defineProperty(l,d,f):l[d]=y[d]}l["default"]=y;v&&v.set(y,l);return l}(B(175)),E=B(76),O=B(136),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=
d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();Ja=function(y){function v(l){var k=l?l:{};k.stopDown||(k.stopDown=E.FALSE);l=y.call(this,k)||this;l.anchor_=null;l.lastAngle_=void 0;l.rotating_=!1;l.rotationDelta_=0;l.threshold_=void 0!==k.threshold?k.threshold:.3;l.duration_=void 0!==k.duration?k.duration:250;
return l}x(v,y);v.prototype.handleDragEvent=function(l){var k=0,d=this.targetPointers[0],f=this.targetPointers[1];d=Math.atan2(f.clientY-d.clientY,f.clientX-d.clientX);void 0!==this.lastAngle_&&(k=d-this.lastAngle_,this.rotationDelta_+=k,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;l=l.map;d=l.getView();if(d.getConstraints().rotation!==O.disable){f=l.getViewport().getBoundingClientRect();var a=(0,n.centroid)(this.targetPointers);a[0]-=f.left;
a[1]-=f.top;this.anchor_=l.getCoordinateFromPixelInternal(a);this.rotating_&&(l.render(),d.adjustRotationInternal(k,this.anchor_))}};v.prototype.handleUpEvent=function(l){return 2>this.targetPointers.length?(l.map.getView().endInteraction(this.duration_),!1):!0};v.prototype.handleDownEvent=function(l){return 2<=this.targetPointers.length?(l=l.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||l.getView().beginInteraction(),!0):!1};return v}(n["default"]);
F["default"]=Ja};
shadow$provide[188]=function(Ja,B,qb,F){function g(x){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"===typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y};return g(x)}function m(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;m=function(){return x};return x}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==g(x)&&"function"!==typeof x)return{"default":x};var y=m();if(y&&y.has(x))return y.get(x);var v={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor,k;for(k in x)if(Object.prototype.hasOwnProperty.call(x,k)){var d=l?Object.getOwnPropertyDescriptor(x,k):null;d&&(d.get||d.set)?Object.defineProperty(v,k,d):v[k]=x[k]}v["default"]=x;y&&y.set(x,v);return v}(B(175)),E=B(76),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=
k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();Ja=function(x){function y(v){var l=v?v:{};l.stopDown||(l.stopDown=E.FALSE);v=x.call(this,l)||this;v.anchor_=null;v.duration_=void 0!==l.duration?l.duration:400;v.lastDistance_=void 0;v.lastScaleDelta_=1;return v}O(y,x);y.prototype.handleDragEvent=function(v){var l=
1,k=this.targetPointers[0],d=this.targetPointers[1],f=k.clientX-d.clientX;k=k.clientY-d.clientY;f=Math.sqrt(f*f+k*k);void 0!==this.lastDistance_&&(l=this.lastDistance_/f);this.lastDistance_=f;v=v.map;f=v.getView();1!=l&&(this.lastScaleDelta_=l);k=v.getViewport().getBoundingClientRect();d=(0,n.centroid)(this.targetPointers);d[0]-=k.left;d[1]-=k.top;this.anchor_=v.getCoordinateFromPixelInternal(d);v.render();f.adjustResolutionInternal(l,this.anchor_)};y.prototype.handleUpEvent=function(v){return 2>
this.targetPointers.length?(v.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};y.prototype.handleDownEvent=function(v){return 2<=this.targetPointers.length?(v=v.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||v.getView().beginInteraction(),!0):!1};return y}(n["default"]);F["default"]=Ja};
shadow$provide[189]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[190]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.DragAndDropEvent=void 0;Ja=g(B(87));var m=g(B(91)),n=g(B(189));qb=g(B(173));var E=B(76),O=B(133),x=B(92),y=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=
k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),v=function(l){function k(d,f,a,e){d=l.call(this,d)||this;d.features=a;d.file=f;d.projection=e;return d}y(k,l);return k}(Ja["default"]);F.DragAndDropEvent=v;B=function(l){function k(d){var f=d?d:{};d=l.call(this,{handleEvent:E.TRUE})||this;d.readAsBuffer_=!1;d.formats_=[];for(var a=f.formatConstructors?f.formatConstructors:[],e=0,p=a.length;e<p;++e){var A=a[e];"function"===typeof A&&(A=new A);d.formats_.push(A);d.readAsBuffer_=
d.readAsBuffer_||A.getType()===n["default"].ARRAY_BUFFER}d.projection_=f.projection?(0,O.get)(f.projection):null;d.dropListenKeys_=null;d.source_=f.source||null;d.target=f.target?f.target:null;return d}y(k,l);k.prototype.handleResult_=function(d,f){f=f.target.result;var a=this.getMap(),e=this.projection_;e||(e=a.getView().getProjection());var p;a=this.formats_;for(var A=0,C=a.length;A<C;++A){var D=a[A],P=f;this.readAsBuffer_&&D.getType()!==n["default"].ARRAY_BUFFER&&(void 0===p&&(p=(new TextDecoder).decode(f)),
P=p);if((D=this.tryReadFeatures_(D,P,{featureProjection:e}))&&0<D.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(D));this.dispatchEvent(new v("addfeatures",d,D,e));break}}};k.prototype.registerListeners_=function(){var d=this.getMap();d&&(d=this.target?this.target:d.getViewport(),this.dropListenKeys_=[(0,x.listen)(d,m["default"].DROP,this.handleDrop,this),(0,x.listen)(d,m["default"].DRAGENTER,this.handleStop,this),(0,x.listen)(d,m["default"].DRAGOVER,this.handleStop,this),(0,
x.listen)(d,m["default"].DROP,this.handleStop,this)])};k.prototype.setActive=function(d){!this.getActive()&&d&&this.registerListeners_();this.getActive()&&!d&&this.unregisterListeners_();l.prototype.setActive.call(this,d)};k.prototype.setMap=function(d){this.unregisterListeners_();l.prototype.setMap.call(this,d);this.getActive()&&this.registerListeners_()};k.prototype.tryReadFeatures_=function(d,f,a){try{return d.readFeatures(f,a)}catch(e){return null}};k.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(x.unlistenByKey),this.dropListenKeys_=null)};k.prototype.handleDrop=function(d){d=d.dataTransfer.files;for(var f=0,a=d.length;f<a;++f){var e=d.item(f),p=new FileReader;p.addEventListener(m["default"].LOAD,this.handleResult_.bind(this,e));this.readAsBuffer_?p.readAsArrayBuffer(e):p.readAsText(e)}};k.prototype.handleStop=function(d){d.stopPropagation();d.preventDefault();d.dataTransfer.dropEffect="copy"};return k}(qb["default"]);F["default"]=B};
shadow$provide[191]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(n){return n&&n.__esModule?n:{"default":n}}(B(175));var g=B(176),m=function(){var n=function(E,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(x[v]=y[v])};return n(E,O)};return function(E,O){function x(){this.constructor=E}n(E,O);E.prototype=null===O?Object.create(O):
(x.prototype=O.prototype,new x)}}();B=function(n){function E(O){var x=O?O:{};O=n.call(this,x)||this;O.condition_=x.condition?x.condition:g.shiftKeyOnly;O.lastAngle_=void 0;O.lastMagnitude_=void 0;O.lastScaleDelta_=0;O.duration_=void 0!==x.duration?x.duration:400;return O}m(E,n);E.prototype.handleDragEvent=function(O){if((0,g.mouseOnly)(O)){var x=O.map,y=x.getSize(),v=O.pixel;O=v[0]-y[0]/2;v=y[1]/2-v[1];y=Math.atan2(v,O);O=Math.sqrt(O*O+v*v);x=x.getView();void 0!==this.lastAngle_&&x.adjustRotationInternal(this.lastAngle_-
y);this.lastAngle_=y;void 0!==this.lastMagnitude_&&x.adjustResolutionInternal(this.lastMagnitude_/O);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/O);this.lastMagnitude_=O}};E.prototype.handleUpEvent=function(O){if(!(0,g.mouseOnly)(O))return!0;O.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};E.prototype.handleDownEvent=function(O){return(0,g.mouseOnly)(O)&&this.condition_(O)?(O.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return E}(Ja["default"]);F["default"]=B};
shadow$provide[192]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(122));Ja=g(B(141));var n=B(83),E=B(143),O=B(139),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);
v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l,k,d){var f=y.call(this)||this;void 0!==d&&void 0===k?f.setFlatCoordinates(d,l):f.setCenterAndRadius(l,k?k:0,d);return f}x(v,y);v.prototype.clone=function(){var l=new v(this.flatCoordinates.slice(),void 0,this.layout);l.applyProperties(this);return l};v.prototype.closestPointXY=function(l,k,d,f){var a=this.flatCoordinates;l-=a[0];var e=k-a[1];k=l*l+e*e;if(k<f){0===k?f=0:(f=this.getRadius()/Math.sqrt(k),
d[0]=a[0]+f*l,d[1]=a[1]+f*e,f=2);for(;f<this.stride;++f)d[f]=a[f];d.length=this.stride;return k}return f};v.prototype.containsXY=function(l,k){var d=this.flatCoordinates;l-=d[0];k-=d[1];return l*l+k*k<=this.getRadiusSquared_()};v.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};v.prototype.computeExtent=function(l){var k=this.flatCoordinates,d=k[this.stride]-k[0];return(0,n.createOrUpdate)(k[0]-d,k[1]-d,k[0]+d,k[1]+d,l)};v.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
v.prototype.getRadiusSquared_=function(){var l=this.flatCoordinates[this.stride]-this.flatCoordinates[0],k=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return l*l+k*k};v.prototype.getType=function(){return m["default"].CIRCLE};v.prototype.intersectsExtent=function(l){var k=this.getExtent();return(0,n.intersects)(l,k)?(k=this.getCenter(),l[0]<=k[0]&&l[2]>=k[0]||l[1]<=k[1]&&l[3]>=k[1]?!0:(0,n.forEachCorner)(l,this.intersectsCoordinate.bind(this))):!1};v.prototype.setCenter=function(l){var k=
this.stride,d=this.flatCoordinates[k]-this.flatCoordinates[0],f=l.slice();f[k]=f[0]+d;for(d=1;d<k;++d)f[k+d]=l[d];this.setFlatCoordinates(this.layout,f);this.changed()};v.prototype.setCenterAndRadius=function(l,k,d){this.setLayout(d,l,0);this.flatCoordinates||(this.flatCoordinates=[]);d=this.flatCoordinates;l=(0,E.deflateCoordinate)(d,0,l,this.stride);d[l++]=d[0]+k;k=1;for(var f=this.stride;k<f;++k)d[l++]=d[k];d.length=l;this.changed()};v.prototype.getCoordinates=function(){return null};v.prototype.setCoordinates=
function(l,k){};v.prototype.setRadius=function(l){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+l;this.changed()};v.prototype.rotate=function(l,k){var d=this.getCenter(),f=this.getStride();this.setCenter((0,O.rotate)(d,0,d.length,f,l,k,d));this.changed()};v.prototype.translate=function(l,k){var d=this.getCenter(),f=this.getStride();this.setCenter((0,O.translate)(d,0,d.length,f,l,k,d));this.changed()};return v}(Ja["default"]);F["default"]=B};
shadow$provide[193]=function(Ja,B,qb,F){function g(l){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k};return g(l)}function m(){if("function"!==typeof WeakMap)return null;var l=new WeakMap;m=function(){return l};return l}function n(l){if("function"===typeof l)return l;if(Array.isArray(l))var k=l;else(0,x.assert)("function"===typeof l.getZIndex,
41),k=[l];return function(){return k}}Object.defineProperty(F,"__esModule",{value:!0});F.createStyleFunction=n;F["default"]=void 0;var E=function(l){if(l&&l.__esModule)return l;if(null===l||"object"!==g(l)&&"function"!==typeof l)return{"default":l};var k=m();if(k&&k.has(l))return k.get(l);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in l)if(Object.prototype.hasOwnProperty.call(l,a)){var e=f?Object.getOwnPropertyDescriptor(l,a):null;e&&(e.get||e.set)?Object.defineProperty(d,
a,e):d[a]=l[a]}d["default"]=l;k&&k.set(l,d);return d}(B(94)),O=function(l){return l&&l.__esModule?l:{"default":l}}(B(91)),x=B(79),y=B(92),v=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ja=function(l){function k(d){var f=
l.call(this)||this;f.id_=void 0;f.geometryName_="geometry";f.style_=null;f.styleFunction_=void 0;f.geometryChangeKey_=null;f.addEventListener((0,E.getChangeEventType)(f.geometryName_),f.handleGeometryChanged_);d&&("function"===typeof d.getSimplifiedGeometry?f.setGeometry(d):f.setProperties(d));return f}v(k,l);k.prototype.clone=function(){var d=new k(this.hasProperties()?this.getProperties():null);d.setGeometryName(this.getGeometryName());var f=this.getGeometry();f&&d.setGeometry(f.clone());(f=this.getStyle())&&
d.setStyle(f);return d};k.prototype.getGeometry=function(){return this.get(this.geometryName_)};k.prototype.getId=function(){return this.id_};k.prototype.getGeometryName=function(){return this.geometryName_};k.prototype.getStyle=function(){return this.style_};k.prototype.getStyleFunction=function(){return this.styleFunction_};k.prototype.handleGeometryChange_=function(){this.changed()};k.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,y.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var d=this.getGeometry();d&&(this.geometryChangeKey_=(0,y.listen)(d,O["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};k.prototype.setGeometry=function(d){this.set(this.geometryName_,d)};k.prototype.setStyle=function(d){this.styleFunction_=(this.style_=d)?n(d):void 0;this.changed()};k.prototype.setId=function(d){this.id_=d;this.changed()};k.prototype.setGeometryName=function(d){this.removeEventListener((0,E.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=d;this.addEventListener((0,E.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return k}(E["default"]);F["default"]=Ja};
shadow$provide[194]=function(Ja,B,qb,F){function g(E,O,x,y,v,l){if(x==O)return null;if(v<E[O+y-1])return l?(x=E.slice(O,O+y),x[y-1]=v,x):null;if(E[x-1]<v)return l?(x=E.slice(x-y,x),x[y-1]=v,x):null;if(v==E[O+y-1])return E.slice(O,O+y);O/=y;for(x/=y;O<x;)l=O+x>>1,v<E[(l+1)*y-1]?x=l:O=l+1;x=E[O*y-1];if(v==x)return E.slice((O-1)*y,(O-1)*y+y);l=(v-x)/(E[(O+1)*y-1]-x);x=[];for(var k=0;k<y-1;++k)x.push((0,n.lerp)(E[(O-1)*y+k],E[O*y+k],l));x.push(v);return x}Object.defineProperty(F,"__esModule",{value:!0});
F.interpolatePoint=function(E,O,x,y,v,l,k){var d=(x-O)/y;if(1===d)var f=O;else if(2===d){f=O;var a=v}else if(0!==d){var e=E[O],p=E[O+1],A=0;f=[0];for(d=O+y;d<x;d+=y){var C=E[d],D=E[d+1];A+=Math.sqrt((C-e)*(C-e)+(D-p)*(D-p));f.push(A);e=C;p=D}d=v*A;x=(0,m.binarySearch)(f,d);0>x?(a=(d-f[-x-2])/(f[-x-1]-f[-x-2]),f=O+(-x-2)*y):f=O+x*y}O=1<k?k:2;l=l?l:Array(O);for(d=0;d<O;++d)l[d]=void 0===f?NaN:void 0===a?E[f+d]:(0,n.lerp)(E[f+d],E[f+y+d],a);return l};F.lineStringCoordinateAtM=g;F.lineStringsCoordinateAtM=
function(E,O,x,y,v,l,k){if(k)return g(E,O,x[x.length-1],y,v,l);if(v<E[y-1])return l?(E=E.slice(0,y),E[y-1]=v,E):null;if(E[E.length-1]<v)return l?(E=E.slice(E.length-y),E[y-1]=v,E):null;l=0;for(k=x.length;l<k;++l){var d=x[l];if(O!=d){if(v<E[O+y-1])break;else if(v<=E[d-1])return g(E,O,d,y,v,!1);O=d}}return null};var m=B(75),n=B(84)};
shadow$provide[195]=function(Ja,B,qb,F){function g(m,n,E,O){var x=m[n],y=m[n+1],v=0;for(n+=O;n<E;n+=O){var l=m[n],k=m[n+1];v+=Math.sqrt((l-x)*(l-x)+(k-y)*(k-y));x=l;y=k}return v}Object.defineProperty(F,"__esModule",{value:!0});F.lineStringLength=g;F.linearRingLength=function(m,n,E,O){var x=g(m,n,E,O),y=m[E-O]-m[n];m=m[E-O+1]-m[n+1];return x+=Math.sqrt(y*y+m*m)}};
shadow$provide[196]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(138)),n=g(B(122));Ja=g(B(141));var E=B(142),O=B(83),x=B(143),y=B(144),v=B(75),l=B(151),k=B(145),d=B(194),f=B(152),a=B(195),e=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,
C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C,D){var P=p.call(this)||this;P.flatMidpoint_=null;P.flatMidpointRevision_=-1;P.maxDelta_=-1;P.maxDeltaRevision_=-1;void 0===D||Array.isArray(C[0])?P.setCoordinates(C,D):P.setFlatCoordinates(D,C);return P}e(A,p);A.prototype.appendCoordinate=function(C){this.flatCoordinates?(0,v.extend)(this.flatCoordinates,C):this.flatCoordinates=C.slice();
this.changed()};A.prototype.clone=function(){var C=new A(this.flatCoordinates.slice(),this.layout);C.applyProperties(this);return C};A.prototype.closestPointXY=function(C,D,P,L){if(L<(0,O.closestSquaredDistanceXY)(this.getExtent(),C,D))return L;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,E.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,E.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,C,D,P,L)};A.prototype.forEachSegment=function(C){return(0,l.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C)};A.prototype.getCoordinateAtM=function(C,D){if(this.layout!=m["default"].XYM&&this.layout!=m["default"].XYZM)return null;D=void 0!==D?D:!1;return(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C,D)};A.prototype.getCoordinates=function(){return(0,k.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};A.prototype.getCoordinateAt=function(C,D){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C,D,this.stride)};A.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};A.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};A.prototype.getSimplifiedGeometryInternal=function(C){var D=[];D.length=(0,y.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C,D,0);return new A(D,m["default"].XY)};A.prototype.getType=function(){return n["default"].LINE_STRING};A.prototype.intersectsExtent=function(C){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,C)};A.prototype.setCoordinates=function(C,D){this.setLayout(D,
C,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,0,C,this.stride);this.changed()};return A}(Ja["default"]);F["default"]=B};
shadow$provide[197]=function(Ja,B,qb,F){function g(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(138)),n=g(B(122)),E=g(B(196));Ja=g(B(141));var O=B(142),x=B(83),y=B(143),v=B(144),l=B(75),k=B(145),d=B(194),f=B(152),a=function(){var e=function(p,A){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,D){C.__proto__=D}||function(C,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(C[P]=D[P])};return e(p,
A)};return function(p,A){function C(){this.constructor=p}e(p,A);p.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();B=function(e){function p(A,C,D){var P=e.call(this)||this;P.ends_=[];P.maxDelta_=-1;P.maxDeltaRevision_=-1;if(Array.isArray(A[0]))P.setCoordinates(A,C);else if(void 0!==C&&D)P.setFlatCoordinates(C,A),P.ends_=D;else{C=P.getLayout();D=[];for(var L=[],G=0,z=A.length;G<z;++G){var K=A[G];0===G&&(C=K.getLayout());(0,l.extend)(D,K.getFlatCoordinates());L.push(D.length)}P.setFlatCoordinates(C,
D);P.ends_=L}return P}a(p,e);p.prototype.appendLineString=function(A){this.flatCoordinates?(0,l.extend)(this.flatCoordinates,A.getFlatCoordinates().slice()):this.flatCoordinates=A.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};p.prototype.clone=function(){var A=new p(this.flatCoordinates.slice(),this.layout,this.ends_.slice());A.applyProperties(this);return A};p.prototype.closestPointXY=function(A,C,D,P){if(P<(0,x.closestSquaredDistanceXY)(this.getExtent(),
A,C))return P;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,O.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,O.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,A,C,D,P)};p.prototype.getCoordinateAtM=function(A,C,D){if(this.layout!=m["default"].XYM&&this.layout!=m["default"].XYZM||0===this.flatCoordinates.length)return null;C=void 0!==C?C:!1;D=void 0!==D?D:
!1;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,A,C,D)};p.prototype.getCoordinates=function(){return(0,k.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};p.prototype.getEnds=function(){return this.ends_};p.prototype.getLineString=function(A){return 0>A||this.ends_.length<=A?null:new E["default"](this.flatCoordinates.slice(0===A?0:this.ends_[A-1],this.ends_[A]),this.layout)};p.prototype.getLineStrings=function(){for(var A=this.flatCoordinates,
C=this.ends_,D=this.layout,P=[],L=0,G=0,z=C.length;G<z;++G){var K=C[G];L=new E["default"](A.slice(L,K),D);P.push(L);L=K}return P};p.prototype.getFlatMidpoints=function(){for(var A=[],C=this.flatCoordinates,D=0,P=this.ends_,L=this.stride,G=0,z=P.length;G<z;++G){var K=P[G];D=(0,d.interpolatePoint)(C,D,K,L,.5);(0,l.extend)(A,D);D=K}return A};p.prototype.getSimplifiedGeometryInternal=function(A){var C=[],D=[];C.length=(0,v.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,A,C,0,D);return new p(C,
m["default"].XY,D)};p.prototype.getType=function(){return n["default"].MULTI_LINE_STRING};p.prototype.intersectsExtent=function(A){return(0,f.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,A)};p.prototype.setCoordinates=function(A,C){this.setLayout(C,A,2);this.flatCoordinates||(this.flatCoordinates=[]);A=(0,y.deflateCoordinatesArray)(this.flatCoordinates,0,A,this.stride,this.ends_);this.flatCoordinates.length=0===A.length?0:A[A.length-1];this.changed()};return p}(Ja["default"]);
F["default"]=B};
shadow$provide[198]=function(Ja,B,qb,F){function g(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(122)),n=g(B(148));Ja=g(B(141));var E=B(83),O=B(143),x=B(75),y=B(145),v=B(84),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=
d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f,a){var e=k.call(this)||this;a&&!Array.isArray(f[0])?e.setFlatCoordinates(a,f):e.setCoordinates(f,a);return e}l(d,k);d.prototype.appendPoint=function(f){this.flatCoordinates?(0,x.extend)(this.flatCoordinates,f.getFlatCoordinates()):this.flatCoordinates=f.getFlatCoordinates().slice();this.changed()};d.prototype.clone=function(){var f=new d(this.flatCoordinates.slice(),this.layout);f.applyProperties(this);
return f};d.prototype.closestPointXY=function(f,a,e,p){if(p<(0,E.closestSquaredDistanceXY)(this.getExtent(),f,a))return p;for(var A=this.flatCoordinates,C=this.stride,D=0,P=A.length;D<P;D+=C){var L=(0,v.squaredDistance)(f,a,A[D],A[D+1]);if(L<p){p=L;for(L=0;L<C;++L)e[L]=A[D+L];e.length=C}}return p};d.prototype.getCoordinates=function(){return(0,y.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(f){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>f||a<=f?null:new n["default"](this.flatCoordinates.slice(f*this.stride,(f+1)*this.stride),this.layout)};d.prototype.getPoints=function(){for(var f=this.flatCoordinates,a=this.layout,e=this.stride,p=[],A=0,C=f.length;A<C;A+=e){var D=new n["default"](f.slice(A,A+e),a);p.push(D)}return p};d.prototype.getType=function(){return m["default"].MULTI_POINT};d.prototype.intersectsExtent=function(f){for(var a=this.flatCoordinates,e=this.stride,p=0,A=a.length;p<A;p+=e){var C=a[p],D=a[p+
1];if((0,E.containsXY)(f,C,D))return!0}return!1};d.prototype.setCoordinates=function(f,a){this.setLayout(a,f,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,O.deflateCoordinates)(this.flatCoordinates,0,f,this.stride);this.changed()};return d}(Ja["default"]);F["default"]=B};
shadow$provide[199]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.linearRingss=function(m,n,E,O){var x=[];(0,g.createEmpty)();for(var y=0,v=E.length;y<v;++y){var l=E[y];n=(0,g.createOrUpdateFromFlatCoordinates)(m,n,l[0],O);x.push((n[0]+n[2])/2,(n[1]+n[3])/2);n=l[l.length-1]}return x};var g=B(83)};
shadow$provide[200]=function(Ja,B,qb,F){function g(P){return P&&P.__esModule?P:{"default":P}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(138)),n=g(B(122)),E=g(B(198)),O=g(B(155));Ja=g(B(141));var x=B(142),y=B(83),v=B(143),l=B(75),k=B(150),d=B(145),f=B(152),a=B(154),e=B(146),p=B(199),A=B(149),C=B(144),D=function(){var P=function(L,G){P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,K){z.__proto__=K}||function(z,K){for(var H in K)Object.prototype.hasOwnProperty.call(K,
H)&&(z[H]=K[H])};return P(L,G)};return function(L,G){function z(){this.constructor=L}P(L,G);L.prototype=null===G?Object.create(G):(z.prototype=G.prototype,new z)}}();B=function(P){function L(G,z,K){var H=P.call(this)||this;H.endss_=[];H.flatInteriorPointsRevision_=-1;H.flatInteriorPoints_=null;H.maxDelta_=-1;H.maxDeltaRevision_=-1;H.orientedRevision_=-1;H.orientedFlatCoordinates_=null;if(!K&&!Array.isArray(G[0])){z=H.getLayout();var R=G;G=[];K=[];for(var U=0,ka=R.length;U<ka;++U){var ba=R[U];0===
U&&(z=ba.getLayout());for(var fa=G.length,ja=ba.getEnds(),Z=0,Q=ja.length;Z<Q;++Z)ja[Z]+=fa;(0,l.extend)(G,ba.getFlatCoordinates());K.push(ja)}}void 0!==z&&K?(H.setFlatCoordinates(z,G),H.endss_=K):H.setCoordinates(G,z);return H}D(L,P);L.prototype.appendPolygon=function(G){if(this.flatCoordinates){var z=this.flatCoordinates.length;(0,l.extend)(this.flatCoordinates,G.getFlatCoordinates());G=G.getEnds().slice();for(var K=0,H=G.length;K<H;++K)G[K]+=z}else this.flatCoordinates=G.getFlatCoordinates().slice(),
G=G.getEnds().slice(),this.endss_.push();this.endss_.push(G);this.changed()};L.prototype.clone=function(){for(var G=this.endss_.length,z=Array(G),K=0;K<G;++K)z[K]=this.endss_[K].slice();G=new L(this.flatCoordinates.slice(),this.layout,z);G.applyProperties(this);return G};L.prototype.closestPointXY=function(G,z,K,H){if(H<(0,y.closestSquaredDistanceXY)(this.getExtent(),G,z))return H;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,x.multiArrayMaxSquaredDelta)(this.flatCoordinates,
0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,x.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,G,z,K,H)};L.prototype.containsXY=function(G,z){return(0,A.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,G,z)};L.prototype.getArea=function(){return(0,e.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};L.prototype.getCoordinates=function(G){if(void 0!==
G){var z=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(z,0,this.endss_,this.stride,G)}else z=this.flatCoordinates;return(0,d.inflateMultiCoordinatesArray)(z,0,this.endss_,this.stride)};L.prototype.getEndss=function(){return this.endss_};L.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var G=(0,p.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,k.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride,G);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};L.prototype.getInteriorPoints=function(){return new E["default"](this.getFlatInteriorPoints().slice(),m["default"].XYM)};L.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var G=this.flatCoordinates;(0,a.linearRingssAreOriented)(G,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=G:(this.orientedFlatCoordinates_=G.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};L.prototype.getSimplifiedGeometryInternal=function(G){var z=[],K=[];z.length=(0,C.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(G),z,0,K);return new L(z,m["default"].XY,K)};L.prototype.getPolygon=function(G){if(0>G||this.endss_.length<=G)return null;if(0===G)var z=0;else z=this.endss_[G-1],z=z[z.length-
1];G=this.endss_[G].slice();var K=G[G.length-1];if(0!==z)for(var H=0,R=G.length;H<R;++H)G[H]-=z;return new O["default"](this.flatCoordinates.slice(z,K),this.layout,G)};L.prototype.getPolygons=function(){for(var G=this.layout,z=this.flatCoordinates,K=this.endss_,H=[],R=0,U=0,ka=K.length;U<ka;++U){var ba=K[U].slice(),fa=ba[ba.length-1];if(0!==R)for(var ja=0,Z=ba.length;ja<Z;++ja)ba[ja]-=R;R=new O["default"](z.slice(R,fa),G,ba);H.push(R);R=fa}return H};L.prototype.getType=function(){return n["default"].MULTI_POLYGON};
L.prototype.intersectsExtent=function(G){return(0,f.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,G)};L.prototype.setCoordinates=function(G,z){this.setLayout(z,G,3);this.flatCoordinates||(this.flatCoordinates=[]);G=(0,v.deflateMultiCoordinatesArray)(this.flatCoordinates,0,G,this.stride,this.endss_);0===G.length?this.flatCoordinates.length=0:(G=G[G.length-1],this.flatCoordinates.length=0===G.length?0:G[G.length-1]);this.changed()};return L}(Ja["default"]);
F["default"]=B};
shadow$provide[201]=function(Ja,B,qb,F){!function(g,m){"object"==typeof F&&"undefined"!=typeof qb?qb.exports=m():"function"==typeof define&&define.amd?define(m):(g=g||self).RBush=m()}(this,function(){function g(A,C,D,P,L){!function ka(z,K,H,R,U){for(;R>H;){if(600<R-H){var ba=R-H+1,fa=K-H+1,ja=Math.log(ba),Z=.5*Math.exp(2*ja/3);ja=.5*Math.sqrt(ja*Z*(ba-Z)/ba)*(0>fa-ba/2?-1:1);ka(z,K,Math.max(H,Math.floor(K-fa*Z/ba+ja)),Math.min(R,Math.floor(K+(ba-fa)*Z/ba+ja)),U)}ba=z[K];fa=H;Z=R;m(z,H,K);for(0<U(z[R],
ba)&&m(z,H,R);fa<Z;){m(z,fa,Z);fa++;for(Z--;0>U(z[fa],ba);)fa++;for(;0<U(z[Z],ba);)Z--}0===U(z[H],ba)?m(z,H,Z):m(z,++Z,R);Z<=K&&(H=Z+1);K<=Z&&(R=Z-1)}}(A,C,D||0,P||A.length-1,L||n)}function m(A,C,D){var P=A[C];A[C]=A[D];A[D]=P}function n(A,C){return A<C?-1:A>C?1:0}function E(A,C){O(A,0,A.children.length,C,A)}function O(A,C,D,P,L){L||(L=a(null));L.minX=1/0;L.minY=1/0;L.maxX=-1/0;for(L.maxY=-1/0;C<D;C++){var G=A.children[C];x(L,A.leaf?P(G):G)}return L}function x(A,C){return A.minX=Math.min(A.minX,C.minX),
A.minY=Math.min(A.minY,C.minY),A.maxX=Math.max(A.maxX,C.maxX),A.maxY=Math.max(A.maxY,C.maxY),A}function y(A,C){return A.minX-C.minX}function v(A,C){return A.minY-C.minY}function l(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function k(A){return A.maxX-A.minX+(A.maxY-A.minY)}function d(A,C){return A.minX<=C.minX&&A.minY<=C.minY&&C.maxX<=A.maxX&&C.maxY<=A.maxY}function f(A,C){return C.minX<=A.maxX&&C.minY<=A.maxY&&C.maxX>=A.minX&&C.maxY>=A.minY}function a(A){return{children:A,height:1,leaf:!0,minX:1/0,
minY:1/0,maxX:-1/0,maxY:-1/0}}function e(A,C,D,P,L){for(var G=[C,D];G.length;)if(!((D=G.pop())-(C=G.pop())<=P)){var z=C+Math.ceil((D-C)/P/2)*P;g(A,z,C,D,L);G.push(C,z,z,D)}}var p=function(A){void 0===A&&(A=9);this._maxEntries=Math.max(4,A);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return p.prototype.all=function(){return this._all(this.data,[])},p.prototype.search=function(A){var C=this.data,D=[];if(!f(A,C))return D;for(var P=this.toBBox,L=[];C;){for(var G=0;G<C.children.length;G++){var z=
C.children[G],K=C.leaf?P(z):z;f(A,K)&&(C.leaf?D.push(z):d(A,K)?this._all(z,D):L.push(z))}C=L.pop()}return D},p.prototype.collides=function(A){var C=this.data;if(!f(A,C))return!1;for(var D=[];C;){for(var P=0;P<C.children.length;P++){var L=C.children[P],G=C.leaf?this.toBBox(L):L;if(f(A,G)){if(C.leaf||d(A,G))return!0;D.push(L)}}C=D.pop()}return!1},p.prototype.load=function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var C=0;C<A.length;C++)this.insert(A[C]);return this}A=this._build(A.slice(),
0,A.length-1,0);this.data.children.length?this.data.height===A.height?this._splitRoot(this.data,A):(this.data.height<A.height&&(C=this.data,this.data=A,A=C),this._insert(A,this.data.height-A.height-1,!0)):this.data=A;return this},p.prototype.insert=function(A){return A&&this._insert(A,this.data.height-1),this},p.prototype.clear=function(){return this.data=a([]),this},p.prototype.remove=function(A,C){if(!A)return this;for(var D,P,L,G=this.data,z=this.toBBox(A),K=[],H=[];G||K.length;){if(G||(G=K.pop(),
P=K[K.length-1],D=H.pop(),L=!0),G.leaf){a:{var R=A;var U=G.children,ka=C;if(ka){for(var ba=0;ba<U.length;ba++)if(ka(R,U[ba])){R=ba;break a}R=-1}else R=U.indexOf(R)}if(-1!==R)return G.children.splice(R,1),K.push(G),this._condense(K),this}L||G.leaf||!d(G,z)?P?(D++,G=P.children[D],L=!1):G=null:(K.push(G),H.push(D),D=0,P=G,G=G.children[0])}return this},p.prototype.toBBox=function(A){return A},p.prototype.compareMinX=function(A,C){return A.minX-C.minX},p.prototype.compareMinY=function(A,C){return A.minY-
C.minY},p.prototype.toJSON=function(){return this.data},p.prototype.fromJSON=function(A){return this.data=A,this},p.prototype._all=function(A,C){for(var D=[];A;)A.leaf?C.push.apply(C,A.children):D.push.apply(D,A.children),A=D.pop();return C},p.prototype._build=function(A,C,D,P){var L,G=D-C+1,z=this._maxEntries;if(G<=z)return E(L=a(A.slice(C,D+1)),this.toBBox),L;P||(P=Math.ceil(Math.log(G)/Math.log(z)),z=Math.ceil(G/Math.pow(z,P-1)));(L=a([])).leaf=!1;L.height=P;G=Math.ceil(G/z);z=G*Math.ceil(Math.sqrt(z));
for(e(A,C,D,z,this.compareMinX);C<=D;C+=z){var K=Math.min(C+z-1,D);e(A,C,K,G,this.compareMinY);for(var H=C;H<=K;H+=G)L.children.push(this._build(A,H,Math.min(H+G-1,K),P-1))}return E(L,this.toBBox),L},p.prototype._chooseSubtree=function(A,C,D,P){for(;P.push(C),!C.leaf&&P.length-1!==D;){for(var L=1/0,G=1/0,z=void 0,K=0;K<C.children.length;K++){var H=C.children[K],R=l(H),U=(ka=A,ba=H,(Math.max(ba.maxX,ka.maxX)-Math.min(ba.minX,ka.minX))*(Math.max(ba.maxY,ka.maxY)-Math.min(ba.minY,ka.minY))-R);U<G?(G=
U,L=R<L?R:L,z=H):U===G&&R<L&&(L=R,z=H)}C=z||C.children[0]}var ka,ba;return C},p.prototype._insert=function(A,C,D){D=D?A:this.toBBox(A);var P=[],L=this._chooseSubtree(D,this.data,C,P);L.children.push(A);for(x(L,D);0<=C&&P[C].children.length>this._maxEntries;)this._split(P,C),C--;this._adjustParentBBoxes(D,P,C)},p.prototype._split=function(A,C){var D=A[C],P=D.children.length,L=this._minEntries;this._chooseSplitAxis(D,L,P);P=this._chooseSplitIndex(D,L,P);P=a(D.children.splice(P,D.children.length-P));
P.height=D.height;P.leaf=D.leaf;E(D,this.toBBox);E(P,this.toBBox);C?A[C-1].children.push(P):this._splitRoot(D,P)},p.prototype._splitRoot=function(A,C){this.data=a([A,C]);this.data.height=A.height+1;this.data.leaf=!1;E(this.data,this.toBBox)},p.prototype._chooseSplitIndex=function(A,C,D){for(var P,L,G,z,K,H,R,U=1/0,ka=1/0,ba=C;ba<=D-C;ba++){var fa=O(A,0,ba,this.toBBox),ja=O(A,ba,D,this.toBBox),Z=(L=fa,G=ja,z=void 0,K=void 0,H=void 0,R=void 0,z=Math.max(L.minX,G.minX),K=Math.max(L.minY,G.minY),H=Math.min(L.maxX,
G.maxX),R=Math.min(L.maxY,G.maxY),Math.max(0,H-z)*Math.max(0,R-K));fa=l(fa)+l(ja);Z<U?(U=Z,P=ba,ka=fa<ka?fa:ka):Z===U&&fa<ka&&(ka=fa,P=ba)}return P||D-C},p.prototype._chooseSplitAxis=function(A,C,D){var P=A.leaf?this.compareMinX:y,L=A.leaf?this.compareMinY:v;this._allDistMargin(A,C,D,P)<this._allDistMargin(A,C,D,L)&&A.children.sort(P)},p.prototype._allDistMargin=function(A,C,D,P){A.children.sort(P);P=this.toBBox;for(var L=O(A,0,C,P),G=O(A,D-C,D,P),z=k(L)+k(G),K=C;K<D-C;K++){var H=A.children[K];x(L,
A.leaf?P(H):H);z+=k(L)}for(D=D-C-1;D>=C;D--)L=A.children[D],x(G,A.leaf?P(L):L),z+=k(G);return z},p.prototype._adjustParentBBoxes=function(A,C,D){for(;0<=D;D--)x(C[D],A)},p.prototype._condense=function(A){for(var C=A.length-1,D=void 0;0<=C;C--)0===A[C].children.length?0<C?(D=A[C-1].children).splice(D.indexOf(A[C]),1):this.clear():E(A[C],this.toBBox)},p})};
shadow$provide[202]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[203]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=B(77),m=B(157);Ja=function(){function n(E){this.opacity_=E.opacity;this.rotateWithView_=E.rotateWithView;this.rotation_=E.rotation;this.scale_=E.scale;this.scaleArray_=(0,m.toSize)(E.scale);this.displacement_=E.displacement}n.prototype.clone=function(){var E=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(E)?E.slice():E,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};n.prototype.getOpacity=function(){return this.opacity_};n.prototype.getRotateWithView=function(){return this.rotateWithView_};n.prototype.getRotation=function(){return this.rotation_};n.prototype.getScale=function(){return this.scale_};n.prototype.getScaleArray=function(){return this.scaleArray_};n.prototype.getDisplacement=function(){return this.displacement_};n.prototype.getAnchor=function(){return(0,g["abstract"])()};n.prototype.getImage=function(E){return(0,
g["abstract"])()};n.prototype.getHitDetectionImage=function(){return(0,g["abstract"])()};n.prototype.getPixelRatio=function(E){return 1};n.prototype.getImageState=function(){return(0,g["abstract"])()};n.prototype.getImageSize=function(){return(0,g["abstract"])()};n.prototype.getHitDetectionImageSize=function(){return(0,g["abstract"])()};n.prototype.getOrigin=function(){return(0,g["abstract"])()};n.prototype.getSize=function(){return(0,g["abstract"])()};n.prototype.setOpacity=function(E){this.opacity_=
E};n.prototype.setRotateWithView=function(E){this.rotateWithView_=E};n.prototype.setRotation=function(E){this.rotation_=E};n.prototype.setScale=function(E){this.scale_=E;this.scaleArray_=(0,m.toSize)(E)};n.prototype.listenImageChange=function(E){(0,g["abstract"])()};n.prototype.load=function(){(0,g["abstract"])()};n.prototype.unlistenImageChange=function(E){(0,g["abstract"])()};return n}();F["default"]=Ja};
shadow$provide[204]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.asColorLike=function(m){return Array.isArray(m)?(0,g.toString)(m):m};var g=B(85)};
shadow$provide[205]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(202));Ja=g(B(203));var n=B(85),E=B(204),O=B(106),x=B(107),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=
l}v(l,k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(k){var d=v.call(this,{opacity:1,rotateWithView:void 0!==k.rotateWithView?k.rotateWithView:!1,rotation:void 0!==k.rotation?k.rotation:0,scale:void 0!==k.scale?k.scale:1,displacement:void 0!==k.displacement?k.displacement:[0,0]})||this;d.canvas_={};d.hitDetectionCanvas_=null;d.fill_=void 0!==k.fill?k.fill:null;d.origin_=[0,0];d.points_=k.points;d.radius_=void 0!==k.radius?k.radius:k.radius1;d.radius2_=
k.radius2;d.angle_=void 0!==k.angle?k.angle:0;d.stroke_=void 0!==k.stroke?k.stroke:null;d.anchor_=null;d.size_=null;d.imageSize_=null;d.hitDetectionImageSize_=null;d.render();return d}y(l,v);l.prototype.clone=function(){var k=this.getScale();k=new l({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(k)?k.slice():k,displacement:this.getDisplacement().slice()});k.setOpacity(this.getOpacity());return k};l.prototype.getAnchor=function(){return this.anchor_};l.prototype.getAngle=function(){return this.angle_};l.prototype.getFill=function(){return this.fill_};l.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var k=this.createRenderOptions();this.createHitDetectionCanvas_(k)}return this.hitDetectionCanvas_};l.prototype.getImage=function(k){if(!this.canvas_[k||
1]){var d=this.createRenderOptions(),f=(0,O.createCanvasContext2D)(d.size*k||1,d.size*k||1);this.draw_(d,f,0,0,k||1);this.canvas_[k||1]=f.canvas}return this.canvas_[k||1]};l.prototype.getPixelRatio=function(k){return k};l.prototype.getImageSize=function(){return this.imageSize_};l.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};l.prototype.getImageState=function(){return m["default"].LOADED};l.prototype.getOrigin=function(){return this.origin_};l.prototype.getPoints=
function(){return this.points_};l.prototype.getRadius=function(){return this.radius_};l.prototype.getRadius2=function(){return this.radius2_};l.prototype.getSize=function(){return this.size_};l.prototype.getStroke=function(){return this.stroke_};l.prototype.listenImageChange=function(k){};l.prototype.load=function(){};l.prototype.unlistenImageChange=function(k){};l.prototype.createRenderOptions=function(){var k=x.defaultLineCap,d=x.defaultLineJoin,f=0,a=null,e=0,p=0;if(this.stroke_){var A=this.stroke_.getColor();
null===A&&(A=x.defaultStrokeStyle);A=(0,E.asColorLike)(A);p=this.stroke_.getWidth();void 0===p&&(p=x.defaultLineWidth);a=this.stroke_.getLineDash();e=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=x.defaultLineJoin);k=this.stroke_.getLineCap();void 0===k&&(k=x.defaultLineCap);f=this.stroke_.getMiterLimit();void 0===f&&(f=x.defaultMiterLimit)}return{strokeStyle:A,strokeWidth:p,size:2*(this.radius_+p)+1,lineCap:k,lineDash:a,lineDashOffset:e,lineJoin:d,miterLimit:f}};l.prototype.render=
function(){var k=this.createRenderOptions(),d=(0,O.createCanvasContext2D)(k.size,k.size);this.draw_(k,d,0,0,1);this.canvas_={};this.canvas_[1]=d.canvas;d=d.canvas.width;var f=this.getDisplacement();this.hitDetectionImageSize_=[k.size,k.size];this.createHitDetectionCanvas_(k);this.anchor_=[d/2-f[0],d/2+f[1]];this.size_=[d,d];this.imageSize_=[d,d]};l.prototype.draw_=function(k,d,f,a,e){d.setTransform(e,0,0,e,0,0);d.translate(f,a);d.beginPath();var p=this.points_;if(Infinity===p)d.arc(k.size/2,k.size/
2,this.radius_,0,2*Math.PI,!0);else{var A=void 0!==this.radius2_?this.radius2_:this.radius_;A!==this.radius_&&(p*=2);for(f=0;f<=p;f++)a=2*f*Math.PI/p-Math.PI/2+this.angle_,e=0===f%2?this.radius_:A,d.lineTo(k.size/2+e*Math.cos(a),k.size/2+e*Math.sin(a))}this.fill_&&(f=this.fill_.getColor(),null===f&&(f=x.defaultFillStyle),d.fillStyle=(0,E.asColorLike)(f),d.fill());this.stroke_&&(d.strokeStyle=k.strokeStyle,d.lineWidth=k.strokeWidth,d.setLineDash&&k.lineDash&&(d.setLineDash(k.lineDash),d.lineDashOffset=
k.lineDashOffset),d.lineCap=k.lineCap,d.lineJoin=k.lineJoin,d.miterLimit=k.miterLimit,d.stroke());d.closePath()};l.prototype.createHitDetectionCanvas_=function(k){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var d=this.fill_.getColor(),f=0;"string"===typeof d&&(d=(0,n.asArray)(d));null===d?f=1:Array.isArray(d)&&(f=4===d.length?d[3]:1);0===f&&(d=(0,O.createCanvasContext2D)(k.size,k.size),this.hitDetectionCanvas_=d.canvas,this.drawHitDetectionCanvas_(k,d,0,0))}};l.prototype.drawHitDetectionCanvas_=
function(k,d,f,a){d.translate(f,a);d.beginPath();f=this.points_;if(Infinity===f)d.arc(k.size/2,k.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(f*=2);var e;for(e=0;e<=f;e++){var p=2*e*Math.PI/f-Math.PI/2+this.angle_;var A=0===e%2?this.radius_:a;d.lineTo(k.size/2+A*Math.cos(p),k.size/2+A*Math.sin(p))}}d.fillStyle=x.defaultFillStyle;d.fill();this.stroke_&&(d.strokeStyle=k.strokeStyle,d.lineWidth=k.strokeWidth,k.lineDash&&(d.setLineDash(k.lineDash),
d.lineDashOffset=k.lineDashOffset),d.stroke());d.closePath()};return l}(Ja["default"]);F["default"]=B};
shadow$provide[206]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(m){return m&&m.__esModule?m:{"default":m}}(B(205));var g=function(){var m=function(n,E){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,E)};return function(n,E){function O(){this.constructor=n}m(n,E);n.prototype=null===E?Object.create(E):(O.prototype=
E.prototype,new O)}}();Ja=function(m){function n(E){E=E?E:{};return m.call(this,{points:Infinity,fill:E.fill,radius:E.radius,stroke:E.stroke,scale:void 0!==E.scale?E.scale:1,rotation:void 0!==E.rotation?E.rotation:0,rotateWithView:void 0!==E.rotateWithView?E.rotateWithView:!1,displacement:void 0!==E.displacement?E.displacement:[0,0]})||this}g(n,m);n.prototype.clone=function(){var E=this.getScale();E=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(E)?E.slice():E,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});E.setOpacity(this.getOpacity());return E};n.prototype.setRadius=function(E){this.radius_=E;this.render()};return n}(Ja["default"]);F["default"]=Ja};
shadow$provide[207]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(){function g(m){m=m||{};this.color_=void 0!==m.color?m.color:null}g.prototype.clone=function(){var m=this.getColor();return new g({color:Array.isArray(m)?m.slice():m||void 0})};g.prototype.getColor=function(){return this.color_};g.prototype.setColor=function(m){this.color_=m};return g}();F["default"]=Ja};
shadow$provide[208]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(){function g(m){m=m||{};this.color_=void 0!==m.color?m.color:null;this.lineCap_=m.lineCap;this.lineDash_=void 0!==m.lineDash?m.lineDash:null;this.lineDashOffset_=m.lineDashOffset;this.lineJoin_=m.lineJoin;this.miterLimit_=m.miterLimit;this.width_=m.width}g.prototype.clone=function(){var m=this.getColor();return new g({color:Array.isArray(m)?m.slice():m||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};g.prototype.getColor=function(){return this.color_};g.prototype.getLineCap=function(){return this.lineCap_};g.prototype.getLineDash=function(){return this.lineDash_};g.prototype.getLineDashOffset=function(){return this.lineDashOffset_};g.prototype.getLineJoin=function(){return this.lineJoin_};g.prototype.getMiterLimit=
function(){return this.miterLimit_};g.prototype.getWidth=function(){return this.width_};g.prototype.setColor=function(m){this.color_=m};g.prototype.setLineCap=function(m){this.lineCap_=m};g.prototype.setLineDash=function(m){this.lineDash_=m};g.prototype.setLineDashOffset=function(m){this.lineDashOffset_=m};g.prototype.setLineJoin=function(m){this.lineJoin_=m};g.prototype.setMiterLimit=function(m){this.miterLimit_=m};g.prototype.setWidth=function(m){this.width_=m};return g}();F["default"]=Ja};
shadow$provide[209]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}function m(d){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return m(d)}function n(d){return d.getGeometry()}Object.defineProperty(F,"__esModule",{value:!0});F.toFunction=function(d){if("function"!==typeof d){if(Array.isArray(d))var f=d;else(0,v.assert)("function"===
typeof d.getZIndex,41),f=[d];d=function(){return f}}return d};F.createDefaultStyle=function(d,f){k||(d=new O["default"]({color:"rgba(255,255,255,0.4)"}),f=new y["default"]({color:"#3399CC",width:1.25}),k=[new l({image:new E["default"]({fill:d,stroke:f,radius:5}),fill:d,stroke:f})]);return k};F.createEditingStyle=function(){var d={},f=[255,255,255,1],a=[0,153,255,1];d[x["default"].POLYGON]=[new l({fill:new O["default"]({color:[255,255,255,.5]})})];d[x["default"].MULTI_POLYGON]=d[x["default"].POLYGON];
d[x["default"].LINE_STRING]=[new l({stroke:new y["default"]({color:f,width:5})}),new l({stroke:new y["default"]({color:a,width:3})})];d[x["default"].MULTI_LINE_STRING]=d[x["default"].LINE_STRING];d[x["default"].CIRCLE]=d[x["default"].POLYGON].concat(d[x["default"].LINE_STRING]);d[x["default"].POINT]=[new l({image:new E["default"]({radius:6,fill:new O["default"]({color:a}),stroke:new y["default"]({color:f,width:1.5})}),zIndex:Infinity})];d[x["default"].MULTI_POINT]=d[x["default"].POINT];d[x["default"].GEOMETRY_COLLECTION]=
d[x["default"].POLYGON].concat(d[x["default"].LINE_STRING],d[x["default"].POINT]);return d};F["default"]=void 0;var E=g(B(206)),O=g(B(207)),x=g(B(122)),y=g(B(208)),v=B(79),l=function(){function d(f){f=f||{};this.geometry_=null;this.geometryFunction_=n;void 0!==f.geometry&&this.setGeometry(f.geometry);this.fill_=void 0!==f.fill?f.fill:null;this.image_=void 0!==f.image?f.image:null;this.renderer_=void 0!==f.renderer?f.renderer:null;this.stroke_=void 0!==f.stroke?f.stroke:null;this.text_=void 0!==f.text?
f.text:null;this.zIndex_=f.zIndex}d.prototype.clone=function(){var f=this.getGeometry();f&&"object"===m(f)&&(f=f.clone());return new d({geometry:f,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};d.prototype.getRenderer=function(){return this.renderer_};d.prototype.setRenderer=function(f){this.renderer_=f};d.prototype.getGeometry=
function(){return this.geometry_};d.prototype.getGeometryFunction=function(){return this.geometryFunction_};d.prototype.getFill=function(){return this.fill_};d.prototype.setFill=function(f){this.fill_=f};d.prototype.getImage=function(){return this.image_};d.prototype.setImage=function(f){this.image_=f};d.prototype.getStroke=function(){return this.stroke_};d.prototype.setStroke=function(f){this.stroke_=f};d.prototype.getText=function(){return this.text_};d.prototype.setText=function(f){this.text_=
f};d.prototype.getZIndex=function(){return this.zIndex_};d.prototype.setGeometry=function(f){"function"===typeof f?this.geometryFunction_=f:"string"===typeof f?this.geometryFunction_=function(a){return a.get(f)}:f?void 0!==f&&(this.geometryFunction_=function(){return f}):this.geometryFunction_=n;this.geometry_=f};d.prototype.setZIndex=function(f){this.zIndex_=f};return d}(),k=null;F["default"]=l};
shadow$provide[210]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(99));var m=g(B(201)),n=B(89),E=B(209),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===
v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v){v=v?v:{};var l=(0,n.assign)({},v);delete l.style;delete l.renderBuffer;delete l.updateWhileAnimating;delete l.updateWhileInteracting;l=x.call(this,l)||this;l.declutter_=void 0!==v.declutter?v.declutter:!1;l.renderBuffer_=void 0!==v.renderBuffer?v.renderBuffer:100;l.style_=null;l.styleFunction_=void 0;l.setStyle(v.style);l.updateWhileAnimating_=void 0!==v.updateWhileAnimating?v.updateWhileAnimating:!1;l.updateWhileInteracting_=
void 0!==v.updateWhileInteracting?v.updateWhileInteracting:!1;return l}O(y,x);y.prototype.getDeclutter=function(){return this.declutter_};y.prototype.getFeatures=function(v){return x.prototype.getFeatures.call(this,v)};y.prototype.getRenderBuffer=function(){return this.renderBuffer_};y.prototype.getRenderOrder=function(){return this.get("renderOrder")};y.prototype.getStyle=function(){return this.style_};y.prototype.getStyleFunction=function(){return this.styleFunction_};y.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};y.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};y.prototype.renderDeclutter=function(v){v.declutterTree||(v.declutterTree=new m["default"](9));this.getRenderer().renderDeclutter(v)};y.prototype.setRenderOrder=function(v){this.set("renderOrder",v)};y.prototype.setStyle=function(v){this.style_=void 0!==v?v:E.createDefaultStyle;this.styleFunction_=null===v?void 0:(0,E.toFunction)(this.style_);this.changed()};return y}(Ja["default"]);
F["default"]=B};
shadow$provide[211]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};F.fillInstruction=[Ja.FILL];F.strokeInstruction=[Ja.STROKE];F.beginPathInstruction=[Ja.BEGIN_PATH];F.closePathInstruction=[Ja.CLOSE_PATH];F["default"]=Ja};
shadow$provide[212]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(){function g(){}g.prototype.drawCustom=function(m,n,E){};g.prototype.drawGeometry=function(m){};g.prototype.setStyle=function(m){};g.prototype.drawCircle=function(m,n){};g.prototype.drawFeature=function(m,n){};g.prototype.drawGeometryCollection=function(m,n){};g.prototype.drawLineString=function(m,n){};g.prototype.drawMultiLineString=function(m,n){};g.prototype.drawMultiPoint=function(m,
n){};g.prototype.drawMultiPolygon=function(m,n){};g.prototype.drawPoint=function(m,n){};g.prototype.drawPolygon=function(m,n){};g.prototype.drawText=function(m,n){};g.prototype.setFillStrokeStyle=function(m,n){};g.prototype.setImageStyle=function(m,n){};g.prototype.setTextStyle=function(m,n){};return g}();F["default"]=Ja};
shadow$provide[213]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(211)),n=g(B(122)),E=g(B(82));Ja=g(B(212));var O=B(204),x=B(83),y=B(107),v=B(75),l=B(145),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a,e,p,A){var C=d.call(this)||this;C.tolerance=a;C.maxExtent=e;C.pixelRatio=A;C.maxLineWidth=0;C.resolution=p;C.beginGeometryInstruction1_=null;C.beginGeometryInstruction2_=null;C.bufferedMaxExtent_=null;C.instructions=[];C.coordinates=[];C.tmpCoordinate_=[];C.hitDetectionInstructions=[];C.state={};return C}k(f,d);f.prototype.applyPixelRatio=function(a){var e=this.pixelRatio;return 1==e?a:a.map(function(p){return p*
e})};f.prototype.appendFlatPointCoordinates=function(a,e){for(var p=this.getBufferedMaxExtent(),A=this.tmpCoordinate_,C=this.coordinates,D=C.length,P=0,L=a.length;P<L;P+=e)A[0]=a[P],A[1]=a[P+1],(0,x.containsCoordinate)(p,A)&&(C[D++]=A[0],C[D++]=A[1]);return D};f.prototype.appendFlatLineCoordinates=function(a,e,p,A,C,D){var P=this.coordinates,L=P.length,G=this.getBufferedMaxExtent();D&&(e+=A);D=a[e];var z=a[e+1],K=this.tmpCoordinate_,H=!0,R;for(R=e+A;R<p;R+=A){K[0]=a[R];K[1]=a[R+1];var U=(0,x.coordinateRelationship)(G,
K);U!==ka?(H&&(P[L++]=D,P[L++]=z,H=!1),P[L++]=K[0],P[L++]=K[1]):U===E["default"].INTERSECTING?(P[L++]=K[0],P[L++]=K[1],H=!1):H=!0;D=K[0];z=K[1];var ka=U}if(C&&H||R===e+A)P[L++]=D,P[L++]=z;return L};f.prototype.drawCustomCoordinates_=function(a,e,p,A,C){for(var D=0,P=p.length;D<P;++D){var L=p[D];e=this.appendFlatLineCoordinates(a,e,L,A,!1,!1);C.push(e);e=L}return e};f.prototype.drawCustom=function(a,e,p){this.beginGeometry(a,e);var A=a.getType(),C=a.getStride(),D=this.coordinates.length,P;if(A==n["default"].MULTI_POLYGON){A=
a.getOrientedFlatCoordinates();var L=[];for(var G=a.getEndss(),z=P=0,K=G.length;z<K;++z){var H=[];P=this.drawCustomCoordinates_(A,P,G[z],C,H);L.push(H)}this.instructions.push([m["default"].CUSTOM,D,L,a,p,l.inflateMultiCoordinatesArray])}else A==n["default"].POLYGON||A==n["default"].MULTI_LINE_STRING?(L=[],A=A==n["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(A,0,a.getEnds(),C,L),this.instructions.push([m["default"].CUSTOM,D,L,a,p,l.inflateCoordinatesArray])):
A==n["default"].LINE_STRING||A==n["default"].CIRCLE?(A=a.getFlatCoordinates(),C=this.appendFlatLineCoordinates(A,0,A.length,C,!1,!1),this.instructions.push([m["default"].CUSTOM,D,C,a,p,l.inflateCoordinates])):A==n["default"].MULTI_POINT?(A=a.getFlatCoordinates(),C=this.appendFlatPointCoordinates(A,C),C>D&&this.instructions.push([m["default"].CUSTOM,D,C,a,p,l.inflateCoordinates])):A==n["default"].POINT&&(A=a.getFlatCoordinates(),this.coordinates.push(A[0],A[1]),C=this.coordinates.length,this.instructions.push([m["default"].CUSTOM,
D,C,a,p]));this.endGeometry(e)};f.prototype.beginGeometry=function(a,e){this.beginGeometryInstruction1_=[m["default"].BEGIN_GEOMETRY,e,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[m["default"].BEGIN_GEOMETRY,e,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};f.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};f.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var e,p=a.length,A=-1;for(e=0;e<p;++e){var C=a[e];var D=C[0];D==m["default"].END_GEOMETRY?A=e:D==m["default"].BEGIN_GEOMETRY&&(C[2]=e,(0,v.reverseSubArray)(this.hitDetectionInstructions,A,e),A=-1)}};f.prototype.setFillStrokeStyle=function(a,e){var p=this.state;a?(a=a.getColor(),p.fillStyle=(0,O.asColorLike)(a?a:y.defaultFillStyle)):p.fillStyle=void 0;e?(a=e.getColor(),p.strokeStyle=(0,O.asColorLike)(a?a:y.defaultStrokeStyle),a=e.getLineCap(),
p.lineCap=void 0!==a?a:y.defaultLineCap,a=e.getLineDash(),p.lineDash=a?a.slice():y.defaultLineDash,a=e.getLineDashOffset(),p.lineDashOffset=a?a:y.defaultLineDashOffset,a=e.getLineJoin(),p.lineJoin=void 0!==a?a:y.defaultLineJoin,a=e.getWidth(),p.lineWidth=void 0!==a?a:y.defaultLineWidth,e=e.getMiterLimit(),p.miterLimit=void 0!==e?e:y.defaultMiterLimit,p.lineWidth>this.maxLineWidth&&(this.maxLineWidth=p.lineWidth,this.bufferedMaxExtent_=null)):(p.strokeStyle=void 0,p.lineCap=void 0,p.lineDash=null,
p.lineDashOffset=void 0,p.lineJoin=void 0,p.lineWidth=void 0,p.miterLimit=void 0)};f.prototype.createFill=function(a){a=a.fillStyle;var e=[m["default"].SET_FILL_STYLE,a];"string"!==typeof a&&e.push(!0);return e};f.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};f.prototype.createStroke=function(a){return[m["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
f.prototype.updateFillStyle=function(a,e){var p=a.fillStyle;if("string"!==typeof p||a.currentFillStyle!=p)void 0!==p&&this.instructions.push(e.call(this,a)),a.currentFillStyle=p};f.prototype.updateStrokeStyle=function(a,e){var p=a.strokeStyle,A=a.lineCap,C=a.lineDash,D=a.lineDashOffset,P=a.lineJoin,L=a.lineWidth,G=a.miterLimit;if(a.currentStrokeStyle!=p||a.currentLineCap!=A||C!=a.currentLineDash&&!(0,v.equals)(a.currentLineDash,C)||a.currentLineDashOffset!=D||a.currentLineJoin!=P||a.currentLineWidth!=
L||a.currentMiterLimit!=G)void 0!==p&&e.call(this,a),a.currentStrokeStyle=p,a.currentLineCap=A,a.currentLineDash=C,a.currentLineDashOffset=D,a.currentLineJoin=P,a.currentLineWidth=L,a.currentMiterLimit=G};f.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[m["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};f.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,x.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,x.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return f}(Ja["default"]);F["default"]=B};
shadow$provide[214]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(213));var m=g(B(211)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x,y,v,l){x=E.call(this,x,y,v,l)||this;x.hitDetectionImage_=null;x.image_=null;x.imagePixelRatio_=void 0;x.anchorX_=void 0;x.anchorY_=void 0;x.height_=void 0;x.opacity_=void 0;x.originX_=void 0;x.originY_=void 0;x.rotateWithView_=void 0;x.rotation_=void 0;x.scale_=void 0;x.width_=void 0;x.declutterImageWithText_=void 0;return x}n(O,E);O.prototype.drawPoint=function(x,y){if(this.image_){this.beginGeometry(x,y);var v=x.getFlatCoordinates(),
l=x.getStride();x=this.coordinates.length;v=this.appendFlatPointCoordinates(v,l);this.instructions.push([m["default"].DRAW_IMAGE,x,v,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([m["default"].DRAW_IMAGE,x,v,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(y)}};O.prototype.drawMultiPoint=function(x,y){if(this.image_){this.beginGeometry(x,y);var v=x.getFlatCoordinates(),l=x.getStride();x=this.coordinates.length;v=this.appendFlatPointCoordinates(v,l);this.instructions.push([m["default"].DRAW_IMAGE,
x,v,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([m["default"].DRAW_IMAGE,x,v,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(y)}};O.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return E.prototype.finish.call(this)};O.prototype.setImageStyle=
function(x,y){var v=x.getAnchor(),l=x.getSize(),k=x.getHitDetectionImage(),d=x.getImage(this.pixelRatio),f=x.getOrigin();this.imagePixelRatio_=x.getPixelRatio(this.pixelRatio);this.anchorX_=v[0];this.anchorY_=v[1];this.hitDetectionImage_=k;this.image_=d;this.height_=l[1];this.opacity_=x.getOpacity();this.originX_=f[0];this.originY_=f[1];this.rotateWithView_=x.getRotateWithView();this.rotation_=x.getRotation();this.scale_=x.getScaleArray();this.width_=l[0];this.declutterImageWithText_=y};return O}(Ja["default"]);
F["default"]=B};
shadow$provide[215]=function(Ja,B,qb,F){function g(O){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"===typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};return g(O)}function m(){if("function"!==typeof WeakMap)return null;var O=new WeakMap;m=function(){return O};return O}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(O){return O&&O.__esModule?O:{"default":O}}(B(213));
var n=function(O){if(O&&O.__esModule)return O;if(null===O||"object"!==g(O)&&"function"!==typeof O)return{"default":O};var x=m();if(x&&x.has(O))return x.get(O);var y={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor,l;for(l in O)if(Object.prototype.hasOwnProperty.call(O,l)){var k=v?Object.getOwnPropertyDescriptor(O,l):null;k&&(k.get||k.set)?Object.defineProperty(y,l,k):y[l]=O[l]}y["default"]=O;x&&x.set(O,y);return y}(B(211)),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y,v,l,k){return O.call(this,y,v,l,k)||this}E(x,O);x.prototype.drawFlatCoordinates_=function(y,v,l,k){var d=this.coordinates.length;y=this.appendFlatLineCoordinates(y,v,l,k,!1,!1);d=[n["default"].MOVE_TO_LINE_TO,
d,y];this.instructions.push(d);this.hitDetectionInstructions.push(d);return l};x.prototype.drawLineString=function(y,v){var l=this.state,k=l.lineWidth;void 0!==l.strokeStyle&&void 0!==k&&(this.updateStrokeStyle(l,this.applyStroke),this.beginGeometry(y,v),this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,l.lineDash,l.lineDashOffset],n.beginPathInstruction),l=y.getFlatCoordinates(),y=y.getStride(),this.drawFlatCoordinates_(l,
0,l.length,y),this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(v))};x.prototype.drawMultiLineString=function(y,v){var l=this.state,k=l.lineWidth;if(void 0!==l.strokeStyle&&void 0!==k){this.updateStrokeStyle(l,this.applyStroke);this.beginGeometry(y,v);this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,l.strokeStyle,l.lineWidth,l.lineCap,l.lineJoin,l.miterLimit,l.lineDash,l.lineDashOffset],n.beginPathInstruction);l=y.getEnds();k=y.getFlatCoordinates();y=y.getStride();
for(var d=0,f=0,a=l.length;f<a;++f)d=this.drawFlatCoordinates_(k,d,l[f],y);this.hitDetectionInstructions.push(n.strokeInstruction);this.endGeometry(v)}};x.prototype.finish=function(){var y=this.state;void 0!=y.lastStroke&&y.lastStroke!=this.coordinates.length&&this.instructions.push(n.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return O.prototype.finish.call(this)};x.prototype.applyStroke=function(y){void 0!=y.lastStroke&&y.lastStroke!=this.coordinates.length&&(this.instructions.push(n.strokeInstruction),
y.lastStroke=this.coordinates.length);y.lastStroke=0;O.prototype.applyStroke.call(this,y);this.instructions.push(n.beginPathInstruction)};return x}(Ja["default"]);F["default"]=B};
shadow$provide[216]=function(Ja,B,qb,F){function g(y){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return g(y)}function m(){if("function"!==typeof WeakMap)return null;var y=new WeakMap;m=function(){return y};return y}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(y){return y&&y.__esModule?y:{"default":y}}(B(213));
var n=function(y){if(y&&y.__esModule)return y;if(null===y||"object"!==g(y)&&"function"!==typeof y)return{"default":y};var v=m();if(v&&v.has(y))return v.get(y);var l={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in y)if(Object.prototype.hasOwnProperty.call(y,d)){var f=k?Object.getOwnPropertyDescriptor(y,d):null;f&&(f.get||f.set)?Object.defineProperty(l,d,f):l[d]=y[d]}l["default"]=y;v&&v.set(y,l);return l}(B(211)),E=B(107),O=B(144),x=function(){var y=function(v,l){y=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l,k,d,f){return y.call(this,l,k,d,f)||this}x(v,y);v.prototype.drawFlatCoordinatess_=function(l,k,d,f){var a=this.state,e=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var p=d.length;
this.instructions.push(n.beginPathInstruction);this.hitDetectionInstructions.push(n.beginPathInstruction);for(var A=0;A<p;++A){var C=d[A],D=this.coordinates.length;k=this.appendFlatLineCoordinates(l,k,C,f,!0,!a);k=[n["default"].MOVE_TO_LINE_TO,D,k];this.instructions.push(k);this.hitDetectionInstructions.push(k);a&&(this.instructions.push(n.closePathInstruction),this.hitDetectionInstructions.push(n.closePathInstruction));k=C}e&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction));
a&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction));return k};v.prototype.drawCircle=function(l,k){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(l,k);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([n["default"].SET_FILL_STYLE,E.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,
d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);f=l.getFlatCoordinates();l=l.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,l,!1,!1);f=[n["default"].CIRCLE,a];this.instructions.push(n.beginPathInstruction,f);this.hitDetectionInstructions.push(n.beginPathInstruction,f);void 0!==d.fillStyle&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(n.strokeInstruction),
this.hitDetectionInstructions.push(n.strokeInstruction));this.endGeometry(k)}};v.prototype.drawPolygon=function(l,k){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f)this.setFillStrokeStyles_(),this.beginGeometry(l,k),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([n["default"].SET_FILL_STYLE,E.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,
d.lineDashOffset]),d=l.getEnds(),f=l.getOrientedFlatCoordinates(),l=l.getStride(),this.drawFlatCoordinatess_(f,0,d,l),this.endGeometry(k)};v.prototype.drawMultiPolygon=function(l,k){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(l,k);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([n["default"].SET_FILL_STYLE,E.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([n["default"].SET_STROKE_STYLE,
d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=l.getEndss();f=l.getOrientedFlatCoordinates();l=l.getStride();for(var a=0,e=0,p=d.length;e<p;++e)a=this.drawFlatCoordinatess_(f,a,d[e],l);this.endGeometry(k)}};v.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var l=this.tolerance;if(0!==l)for(var k=this.coordinates,d=0,f=k.length;d<f;++d)k[d]=(0,O.snap)(k[d],l);return y.prototype.finish.call(this)};v.prototype.setFillStrokeStyles_=
function(){var l=this.state;void 0!==l.fillStyle&&this.updateFillStyle(l,this.createFill);void 0!==l.strokeStyle&&this.updateStrokeStyle(l,this.applyStroke)};return v}(Ja["default"]);F["default"]=B};
shadow$provide[217]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={POINT:"point",LINE:"line"}};
shadow$provide[218]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.matchingChunk=function(g,m,n,E,O){for(var x=n,y=n,v=0,l=0,k=n,d,f,a,e,p,A;n<E;n+=O){var C=m[n],D=m[n+1];void 0!==a&&(a=C-a,e=D-e,f=Math.sqrt(a*a+e*e),void 0!==p&&(l+=d,d=Math.acos((p*a+A*e)/(d*f)),d>g&&(l>v&&(v=l,x=k,y=n),l=0,k=n-O)),d=f,p=a,A=e);a=C;e=D}return l+f>v?[k,n]:[x,y]}};
shadow$provide[219]=function(Ja,B,qb,F){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.TEXT_ALIGN=void 0;Ja=g(B(213));var m=g(B(211)),n=g(B(122)),E=g(B(217)),O=B(204),x=B(107),y=B(77),v=B(83),l=B(218),k=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,e)};return function(a,
e){function p(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}(),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};F.TEXT_ALIGN=d;B=function(f){function a(e,p,A,C){e=f.call(this,e,p,A,C)||this;e.labels_=null;e.text_="";e.textOffsetX_=0;e.textOffsetY_=0;e.textRotateWithView_=void 0;e.textRotation_=0;e.textFillState_=null;e.fillStates={};e.textStrokeState_=null;e.strokeStates={};e.textState_=
{};e.textStates={};e.textKey_="";e.fillKey_="";e.strokeKey_="";e.declutterImageWithText_=void 0;return e}k(a,f);a.prototype.finish=function(){var e=f.prototype.finish.call(this);e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e};a.prototype.drawText=function(e,p){var A=this.textFillState_,C=this.textStrokeState_,D=this.textState_;if(""!==this.text_&&D&&(A||C)){var P=this.coordinates;A=P.length;var L=e.getType();C=null;var G=e.getStride();if(D.placement!==
E["default"].LINE||L!=n["default"].LINE_STRING&&L!=n["default"].MULTI_LINE_STRING&&L!=n["default"].POLYGON&&L!=n["default"].MULTI_POLYGON){P=D.overflow?null:[];switch(L){case n["default"].POINT:case n["default"].MULTI_POINT:C=e.getFlatCoordinates();break;case n["default"].LINE_STRING:C=e.getFlatMidpoint();break;case n["default"].CIRCLE:C=e.getCenter();break;case n["default"].MULTI_LINE_STRING:C=e.getFlatMidpoints();G=2;break;case n["default"].POLYGON:C=e.getFlatInteriorPoint();D.overflow||P.push(C[2]/
this.resolution);G=3;break;case n["default"].MULTI_POLYGON:G=e.getFlatInteriorPoints();C=[];L=0;for(R=G.length;L<R;L+=3)D.overflow||P.push(G[L+2]/this.resolution),C.push(G[L],G[L+1]);if(0===C.length)return;G=2}L=this.appendFlatPointCoordinates(C,G);if(L===A)return;this.saveTextStates_();if(D.backgroundFill||D.backgroundStroke)this.setFillStrokeStyle(D.backgroundFill,D.backgroundStroke),D.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
D.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,p);C=D.padding;if(C!=x.defaultPadding&&(0>D.scale[0]||0>D.scale[1])){C=D.padding[0];G=D.padding[1];var z=D.padding[2];e=D.padding[3];0>D.scale[0]&&(G=-G,e=-e);0>D.scale[1]&&(C=-C,z=-z);C=[C,G,z,e]}var K=this.pixelRatio;this.instructions.push([m["default"].DRAW_IMAGE,A,L,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,C==x.defaultPadding?x.defaultPadding:C.map(function(ba){return ba*K}),!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]);G=1/K;this.hitDetectionInstructions.push([m["default"].DRAW_IMAGE,A,L,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[G,G],NaN,this.declutterImageWithText_,C,!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,P])}else{if(!(0,v.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;z=void 0;C=e.getFlatCoordinates();if(L==n["default"].LINE_STRING)z=[C.length];else if(L==n["default"].MULTI_LINE_STRING)z=e.getEnds();else if(L==n["default"].POLYGON)z=e.getEnds().slice(0,1);else if(L==n["default"].MULTI_POLYGON){var H=e.getEndss();z=[];L=0;for(var R=H.length;L<R;++L)z.push(H[L][0])}this.beginGeometry(e,p);e=D.textAlign;var U=0,ka=void 0;R=0;for(H=z.length;R<H;++R){void 0==
e?(L=(0,l.matchingChunk)(D.maxAngle,C,U,z[R],G),U=L[0],ka=L[1]):ka=z[R];for(L=U;L<ka;L+=G)P.push(C[L],C[L+1]);L=P.length;U=z[R];this.drawChars_(A,L);A=L}}this.endGeometry(p)}};a.prototype.saveTextStates_=function(){var e=this.textStrokeState_,p=this.textState_,A=this.textFillState_,C=this.strokeKey_;e&&(C in this.strokeStates||(this.strokeStates[C]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));
e=this.textKey_;e in this.textStates||(this.textStates[e]={font:p.font,textAlign:p.textAlign||x.defaultTextAlign,textBaseline:p.textBaseline||x.defaultTextBaseline,scale:p.scale});p=this.fillKey_;A&&(p in this.fillStates||(this.fillStates[p]={fillStyle:A.fillStyle}))};a.prototype.drawChars_=function(e,p){var A=this.textStrokeState_,C=this.textState_,D=this.strokeKey_,P=this.textKey_,L=this.fillKey_;this.saveTextStates_();var G=this.pixelRatio,z=d[C.textBaseline],K=this.textOffsetY_*G,H=this.text_;
A=A?A.lineWidth*Math.abs(C.scale[0])/2:0;this.instructions.push([m["default"].DRAW_CHARS,e,p,z,C.overflow,L,C.maxAngle,G,K,D,A*G,H,P,1]);this.hitDetectionInstructions.push([m["default"].DRAW_CHARS,e,p,z,C.overflow,L,C.maxAngle,1,K,D,A,H,P,1/G])};a.prototype.setTextStyle=function(e,p){var A,C;if(e){if(C=e.getFill()){var D=this.textFillState_;D||(this.textFillState_=D={});D.fillStyle=(0,O.asColorLike)(C.getColor()||x.defaultFillStyle)}else this.textFillState_=D=null;if(A=e.getStroke()){C=this.textStrokeState_;
C||(this.textStrokeState_=C={});var P=A.getLineDash(),L=A.getLineDashOffset(),G=A.getWidth(),z=A.getMiterLimit();C.lineCap=A.getLineCap()||x.defaultLineCap;C.lineDash=P?P.slice():x.defaultLineDash;C.lineDashOffset=void 0===L?x.defaultLineDashOffset:L;C.lineJoin=A.getLineJoin()||x.defaultLineJoin;C.lineWidth=void 0===G?x.defaultLineWidth:G;C.miterLimit=void 0===z?x.defaultMiterLimit:z;C.strokeStyle=(0,O.asColorLike)(A.getColor()||x.defaultStrokeStyle)}else this.textStrokeState_=C=null;A=this.textState_;
P=e.getFont()||x.defaultFont;(0,x.registerFont)(P);L=e.getScaleArray();A.overflow=e.getOverflow();A.font=P;A.maxAngle=e.getMaxAngle();A.placement=e.getPlacement();A.textAlign=e.getTextAlign();A.textBaseline=e.getTextBaseline()||x.defaultTextBaseline;A.backgroundFill=e.getBackgroundFill();A.backgroundStroke=e.getBackgroundStroke();A.padding=e.getPadding()||x.defaultPadding;A.scale=void 0===L?[1,1]:L;P=e.getOffsetX();L=e.getOffsetY();G=e.getRotateWithView();z=e.getRotation();this.text_=e.getText()||
"";this.textOffsetX_=void 0===P?0:P;this.textOffsetY_=void 0===L?0:L;this.textRotateWithView_=void 0===G?!1:G;this.textRotation_=void 0===z?0:z;this.strokeKey_=C?("string"==typeof C.strokeStyle?C.strokeStyle:(0,y.getUid)(C.strokeStyle))+C.lineCap+C.lineDashOffset+"|"+C.lineWidth+C.lineJoin+C.miterLimit+"["+C.lineDash.join()+"]":"";this.textKey_=A.font+A.scale+(A.textAlign||"?")+(A.textBaseline||"?");this.fillKey_=D?"string"==typeof D.fillStyle?D.fillStyle:"|"+(0,y.getUid)(D.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=p};return a}(Ja["default"]);F["default"]=B};
shadow$provide[220]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(213));qb=g(B(214));var m=g(B(215)),n=g(B(216));B=g(B(219));var E={Circle:n["default"],Default:Ja["default"],Image:qb["default"],LineString:m["default"],Polygon:n["default"],Text:B["default"]};B=function(){function O(x,y,v,l){this.tolerance_=x;this.maxExtent_=y;this.pixelRatio_=l;this.resolution_=v;this.buildersByZIndex_={}}O.prototype.finish=
function(){var x={},y;for(y in this.buildersByZIndex_){x[y]=x[y]||{};var v=this.buildersByZIndex_[y],l;for(l in v){var k=v[l].finish();x[y][l]=k}}return x};O.prototype.getBuilder=function(x,y){var v=void 0!==x?x.toString():"0";x=this.buildersByZIndex_[v];void 0===x&&(x={},this.buildersByZIndex_[v]=x);v=x[y];void 0===v&&(v=new E[y](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),x[y]=v);return v};return O}();F["default"]=B};
shadow$provide[221]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(91)),n=g(B(202));Ja=g(B(93));var E=g(B(98)),O=B(77),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,
l);v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l){var k=y.call(this)||this;k.boundHandleImageChange_=k.handleImageChange_.bind(k);k.layer_=l;k.declutterExecutorGroup=null;return k}x(v,y);v.prototype.getFeatures=function(l){return(0,O["abstract"])()};v.prototype.prepareFrame=function(l){return(0,O["abstract"])()};v.prototype.renderFrame=function(l,k){return(0,O["abstract"])()};v.prototype.loadedTileCallback=function(l,k,d){l[k]||(l[k]={});l[k][d.tileCoord.toString()]=
d};v.prototype.createLoadedTileFinder=function(l,k,d){return function(f,a){var e=this.loadedTileCallback.bind(this,d,f);return l.forEachLoadedTile(k,f,a,e)}.bind(this)};v.prototype.forEachFeatureAtCoordinate=function(l,k,d,f,a){};v.prototype.getDataAtPixel=function(l,k,d){return(0,O["abstract"])()};v.prototype.getLayer=function(){return this.layer_};v.prototype.handleFontsChanged=function(){};v.prototype.handleImageChange_=function(l){l.target.getState()===n["default"].LOADED&&this.renderIfReadyAndVisible()};
v.prototype.loadImage=function(l){var k=l.getState();k!=n["default"].LOADED&&k!=n["default"].ERROR&&l.addEventListener(m["default"].CHANGE,this.boundHandleImageChange_);k==n["default"].IDLE&&(l.load(),k=l.getState());return k==n["default"].LOADED};v.prototype.renderIfReadyAndVisible=function(){var l=this.getLayer();l.getVisible()&&l.getSourceState()==E["default"].READY&&l.changed()};return v}(Ja["default"]);F["default"]=B};
shadow$provide[222]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(221));var m=g(B(103)),n=g(B(97)),E=B(80),O=B(83),x=B(106),y=B(107),v=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=
k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();B=function(l){function k(d){d=l.call(this,d)||this;d.container=null;d.tempTransform=(0,E.create)();d.pixelTransform=(0,E.create)();d.inversePixelTransform=(0,E.create)();d.context=null;d.containerReused=!1;return d}v(k,l);k.prototype.useContainer=function(d,f,a){a=this.getLayer().getClassName();var e;if(d&&""===d.style.opacity&&d.className===a){var p=d.firstElementChild;p instanceof HTMLCanvasElement&&(e=p.getContext("2d"))}!e||
0!==e.canvas.width&&e.canvas.style.transform!==f?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=d,this.context=e,this.containerReused=!0);this.container||(d=document.createElement("div"),d.className=a,f=d.style,f.position="absolute",f.width="100%",f.height="100%",e=(0,x.createCanvasContext2D)(),p=e.canvas,d.appendChild(p),f=p.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=d,this.context=e)};k.prototype.clip=function(d,
f,a){var e=f.pixelRatio,p=f.size[0]*e/2,A=f.size[1]*e/2,C=f.viewState.rotation,D=(0,O.getTopLeft)(a),P=(0,O.getTopRight)(a),L=(0,O.getBottomRight)(a);a=(0,O.getBottomLeft)(a);(0,E.apply)(f.coordinateToPixelTransform,D);(0,E.apply)(f.coordinateToPixelTransform,P);(0,E.apply)(f.coordinateToPixelTransform,L);(0,E.apply)(f.coordinateToPixelTransform,a);d.save();(0,y.rotateAtOffset)(d,-C,p,A);d.beginPath();d.moveTo(D[0]*e,D[1]*e);d.lineTo(P[0]*e,P[1]*e);d.lineTo(L[0]*e,L[1]*e);d.lineTo(a[0]*e,a[1]*e);
d.clip();(0,y.rotateAtOffset)(d,C,p,A)};k.prototype.clipUnrotated=function(d,f,a){var e=(0,O.getTopLeft)(a),p=(0,O.getTopRight)(a),A=(0,O.getBottomRight)(a);a=(0,O.getBottomLeft)(a);(0,E.apply)(f.coordinateToPixelTransform,e);(0,E.apply)(f.coordinateToPixelTransform,p);(0,E.apply)(f.coordinateToPixelTransform,A);(0,E.apply)(f.coordinateToPixelTransform,a);f=this.inversePixelTransform;(0,E.apply)(f,e);(0,E.apply)(f,p);(0,E.apply)(f,A);(0,E.apply)(f,a);d.save();d.beginPath();d.moveTo(Math.round(e[0]),
Math.round(e[1]));d.lineTo(Math.round(p[0]),Math.round(p[1]));d.lineTo(Math.round(A[0]),Math.round(A[1]));d.lineTo(Math.round(a[0]),Math.round(a[1]));d.clip()};k.prototype.dispatchRenderEvent_=function(d,f,a){var e=this.getLayer();e.hasListener(d)&&(d=new m["default"](d,this.inversePixelTransform,a,f),e.dispatchEvent(d))};k.prototype.preRender=function(d,f){this.dispatchRenderEvent_(n["default"].PRERENDER,d,f)};k.prototype.postRender=function(d,f){this.dispatchRenderEvent_(n["default"].POSTRENDER,
d,f)};k.prototype.getRenderTransform=function(d,f,a,e,p,A,C){p/=2;A/=2;f=e/f;e=-f;C=-d[0]+C;d=-d[1];return(0,E.compose)(this.tempTransform,p,A,f,e,-a,C,d)};k.prototype.getDataAtPixel=function(d,f,a){a=(0,E.apply)(this.inversePixelTransform,d.slice());var e=this.context,p=this.getLayer().getExtent();if(p&&(d=(0,E.apply)(f.pixelToCoordinateTransform,d.slice()),!(0,O.containsCoordinate)(p,d)))return null;try{var A=Math.round(a[0]),C=Math.round(a[1]),D=document.createElement("canvas"),P=D.getContext("2d");
D.width=1;D.height=1;P.clearRect(0,0,1,1);P.drawImage(e.canvas,A,C,1,1,0,0,1,1);var L=P.getImageData(0,0,1,1).data}catch(G){return"SecurityError"===G.name?new Uint8Array:L}return 0===L[3]?null:L};return k}(Ja["default"]);F["default"]=B};
shadow$provide[223]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[224]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.drawTextOnPath=function(n,E,O,x,y,v,l,k,d,f,a,e){function p(){D=A;P=C;E+=x;A=n[E];C=n[E+1];G+=L;L=Math.sqrt((A-D)*(A-D)+(C-P)*(C-P))}var A=n[E],C=n[E+1],D=0,P=0,L=0,G=0;do p();while(E<O-x&&G+L<v);for(var z=(v-G)/L,K=(0,g.lerp)(D,A,z),H=(0,g.lerp)(P,C,z),R=E-x,U=G,ka=v+k*d(f,y,a);E<O-x&&G+L<ka;)p();z=(ka-G)/L;var ba=(0,g.lerp)(D,A,z);z=(0,g.lerp)(P,C,z);if(e){var fa=[K,H,ba,z];(0,m.rotate)(fa,0,4,2,e,fa,fa);
e=fa[0]>fa[2]}else e=K>ba;fa=Math.PI;var ja=[],Z=R+x===E;E=R;L=0;G=U;A=n[E];C=n[E+1];if(Z)return p(),O=Math.atan2(C-P,A-D),e&&(O+=0<O?-fa:fa),ja[0]=[(ba+K)/2,(z+H)/2,(ka-v)/2,O,y],ja;K=0;for(H=y.length;K<H;){p();ka=Math.atan2(C-P,A-D);e&&(ka+=0<ka?-fa:fa);if(void 0!==Q){var Q=ka-Q;Q+=Q>fa?-2*fa:Q<-fa?2*fa:0;if(Math.abs(Q)>l)return null}Q=ka;z=K;for(ba=0;K<H;++K){R=k*d(f,y[e?H-K-1:K],a);if(E+x<O&&G+L<v+ba+R/2)break;ba+=R}K!==z&&(U=e?y.substring(H-z,H-K):y.substring(z,K),z=(v+ba/2-G)/L,R=(0,g.lerp)(D,
A,z),z=(0,g.lerp)(P,C,z),ja.push([R,z,ba/2,ka,U]),v+=ba)}return ja};var g=B(84),m=B(139)};
shadow$provide[225]=function(Ja,B,qb,F){function g(P){return P[3].declutterBox}function m(P,L){"start"!==L&&"end"!==L||D.test(P)||(L="start"===L?"left":"right");return E.TEXT_ALIGN[L]}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(P){return P&&P.__esModule?P:{"default":P}}(B(211)),E=B(219),O=B(105),x=B(80),y=B(83),v=B(107),l=B(224),k=B(75),d=B(195),f=B(139),a=(0,y.createEmpty)(),e=[],p=[],A=[],C=[],D=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");Ja=function(){function P(L,G,z,K,H){this.overlaps=z;this.pixelRatio=G;this.resolution=L;this.instructions=K.instructions;this.coordinates=K.coordinates;this.coordinateCache_={};this.renderBuffer_=H;this.renderedTransform_=(0,x.create)();this.hitDetectionInstructions=
K.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=K.fillStates||{};this.strokeStates=K.strokeStates||{};this.textStates=K.textStates||{};this.widths_={};this.labels_={}}P.prototype.createLabel=function(L,G,z,K){var H=L+G+z+K;if(this.labels_[H])return this.labels_[H];var R=K?this.strokeStates[K]:null,U=z?this.fillStates[z]:null,ka=this.textStates[G];G=this.pixelRatio;var ba=[ka.scale[0]*G,ka.scale[1]*G],fa=m(L,ka.textAlign||v.defaultTextAlign);G=K&&R.lineWidth?
R.lineWidth:0;L=L.split("\n");var ja=L.length,Z=[],Q=(0,v.measureTextWidths)(ka.font,L,Z),q=(0,v.measureTextHeight)(ka.font),N=Q+G;Q=[];var da=(N+2)*ba[0],aa=(q*ja+G)*ba[1];da={width:0>da?Math.floor(da):Math.ceil(da),height:0>aa?Math.floor(aa):Math.ceil(aa),contextInstructions:Q};1==ba[0]&&1==ba[1]||Q.push("scale",ba);Q.push("font",ka.font);K&&(Q.push("strokeStyle",R.strokeStyle),Q.push("lineWidth",G),Q.push("lineCap",R.lineCap),Q.push("lineJoin",R.lineJoin),Q.push("miterLimit",R.miterLimit),(O.WORKER_OFFSCREEN_CANVAS?
OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(Q.push("setLineDash",[R.lineDash]),Q.push("lineDashOffset",R.lineDashOffset)));z&&Q.push("fillStyle",U.fillStyle);Q.push("textBaseline","middle");Q.push("textAlign","center");R=.5-fa;U=fa*N+R*G;if(K)for(K=0;K<ja;++K)Q.push("strokeText",[L[K],U+R*Z[K],.5*(G+q)+K*q]);if(z)for(K=0;K<ja;++K)Q.push("fillText",[L[K],U+R*Z[K],.5*(G+q)+K*q]);return this.labels_[H]=da};P.prototype.replayTextBackground_=function(L,G,z,K,H,R,
U){L.beginPath();L.moveTo.apply(L,G);L.lineTo.apply(L,z);L.lineTo.apply(L,K);L.lineTo.apply(L,H);L.lineTo.apply(L,G);R&&(this.alignFill_=R[2],this.fill_(L));U&&(this.setStrokeStyle_(L,U),L.stroke())};P.prototype.calculateImageOrLabelDimensions_=function(L,G,z,K,H,R,U,ka,ba,fa,ja,Z,Q,q,N,da){U*=Z[0];ka*=Z[1];U=z-U;ka=K-ka;L=H+ba>L?L-ba:H;G=R+fa>G?G-fa:R;R=q[3]+L*Z[0]+q[1];H=q[0]+G*Z[1]+q[2];var aa=U-q[3];q=ka-q[0];if(N||0!==ja)e[0]=aa,C[0]=aa,e[1]=q,p[1]=q,p[0]=aa+R,A[0]=p[0],A[1]=q+H,C[1]=A[1];if(0!==
ja){var wa=(0,x.compose)((0,x.create)(),z,K,1,1,ja,-z,-K);(0,x.apply)(wa,e);(0,x.apply)(wa,p);(0,x.apply)(wa,A);(0,x.apply)(wa,C);(0,y.createOrUpdate)(Math.min(e[0],p[0],A[0],C[0]),Math.min(e[1],p[1],A[1],C[1]),Math.max(e[0],p[0],A[0],C[0]),Math.max(e[1],p[1],A[1],C[1]),a)}else(0,y.createOrUpdate)(Math.min(aa,aa+R),Math.min(q,q+H),Math.max(aa,aa+R),Math.max(q,q+H),a);Q&&(U=Math.round(U),ka=Math.round(ka));return{drawImageX:U,drawImageY:ka,drawImageW:L,drawImageH:G,originX:ba,originY:fa,declutterBox:{minX:a[0],
minY:a[1],maxX:a[2],maxY:a[3],value:da},canvasTransform:wa,scale:Z}};P.prototype.replayImageOrLabel_=function(L,G,z,K,H,R,U){var ka=K.declutterBox,ba=L.canvas,fa=U?U[2]*K.scale[0]/2:0;ka.minX-fa<=ba.width/G&&0<=ka.maxX+fa&&ka.minY-fa<=ba.height/G&&0<=ka.maxY+fa&&((R||U)&&this.replayTextBackground_(L,e,p,A,C,R,U),(0,v.drawImageOrLabel)(L,K.canvasTransform,H,z,K.originX,K.originY,K.drawImageW,K.drawImageH,K.drawImageX,K.drawImageY,K.scale));return!0};P.prototype.fill_=function(L){if(this.alignFill_){var G=
(0,x.apply)(this.renderedTransform_,[0,0]),z=512*this.pixelRatio;L.save();L.translate(G[0]%z,G[1]%z);L.rotate(this.viewRotation_)}L.fill();this.alignFill_&&L.restore()};P.prototype.setStrokeStyle_=function(L,G){L.strokeStyle=G[1];L.lineWidth=G[2];L.lineCap=G[3];L.lineJoin=G[4];L.miterLimit=G[5];L.setLineDash&&(L.lineDashOffset=G[7],L.setLineDash(G[6]))};P.prototype.drawLabelWithPointPlacement_=function(L,G,z,K){var H=this.textStates[G];G=this.createLabel(L,G,K,z);K=this.strokeStates[z];z=this.pixelRatio;
L=m(L,H.textAlign||v.defaultTextAlign);var R=E.TEXT_ALIGN[H.textBaseline||v.defaultTextBaseline];K=K&&K.lineWidth?K.lineWidth:0;return{label:G,anchorX:L*(G.width/z-2*H.scale[0])+2*(.5-L)*K,anchorY:R*G.height/z+2*(.5-R)*K}};P.prototype.execute_=function(L,G,z,K,H,R,U,ka){if(this.pixelCoordinates_&&(0,k.equals)(z,this.renderedTransform_))var ba=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),ba=(0,f.transform2D)(this.coordinates,0,this.coordinates.length,2,z,this.pixelCoordinates_),
(0,x.setFromArray)(this.renderedTransform_,z);var fa=0,ja=K.length,Z,Q=0,q=0,N=null,da=null,aa=this.coordinateCache_,wa=this.viewRotation_;z=Math.round(1E12*Math.atan2(-z[1],z[0]))/1E12;for(var ua={context:L,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:wa},Ea=this.instructions!=K||this.overlaps?0:200,$a,kb;fa<ja;){var ta=K[fa];switch(ta[0]){case n["default"].BEGIN_GEOMETRY:$a=ta[1];kb=ta[3];$a.getGeometry()?void 0===U||(0,y.intersects)(U,kb.getExtent())?++fa:fa=ta[2]+1:fa=ta[2];
break;case n["default"].BEGIN_PATH:Q>Ea&&(this.fill_(L),Q=0);q>Ea&&(L.stroke(),q=0);if(!Q&&!q){L.beginPath();var Ta=Z=NaN}++fa;break;case n["default"].CIRCLE:var Xa=ta[1];var Fa=ba[Xa];var va=ba[Xa+1];var V=ba[Xa+2]-Fa;Xa=ba[Xa+3]-va;V=Math.sqrt(V*V+Xa*Xa);L.moveTo(Fa+V,va);L.arc(Fa,va,V,0,2*Math.PI,!0);++fa;break;case n["default"].CLOSE_PATH:L.closePath();++fa;break;case n["default"].CUSTOM:Xa=ta[1];var X=ta[2];Fa=ta[4];va=6==ta.length?ta[5]:void 0;ua.geometry=ta[3];ua.feature=$a;fa in aa||(aa[fa]=
[]);V=aa[fa];va?va(ba,Xa,X,2,V):(V[0]=ba[Xa],V[1]=ba[Xa+1],V.length=2);Fa(V,ua);++fa;break;case n["default"].DRAW_IMAGE:Xa=ta[1];X=ta[2];Fa=ta[3];var ca=ta[4];var ea=ta[5];va=ta[6];var ra=ta[7],qa=ta[8],Ha=ta[9],na=ta[10],Pa=ta[11],cb=ta[12];V=ta[13];var ab=ta[14];!Fa&&19<=ta.length&&(ca=ta[18],Fa=ta[19],va=ta[20],V=ta[21],va=this.drawLabelWithPointPlacement_(ca,Fa,va,V),Fa=va.label,ta[3]=Fa,ca=(va.anchorX-ta[22])*this.pixelRatio,ta[4]=ca,ea=(va.anchorY-ta[23])*this.pixelRatio,ta[5]=ea,va=Fa.height,
ta[6]=va,V=Fa.width,ta[13]=V);var Ba=void 0;24<ta.length&&(Ba=ta[24]);if(16<ta.length){var Ga=ta[15];var oa=ta[16];var Ia=ta[17]}else Ga=v.defaultPadding,Ia=oa=!1;na&&z?Pa+=wa:na||z||(Pa-=wa);for(na=0;Xa<X;Xa+=2)if(!(Ba&&Ba[na++]<V/this.pixelRatio)){ta=this.calculateImageOrLabelDimensions_(Fa.width,Fa.height,ba[Xa],ba[Xa+1],V,va,ca,ea,qa,Ha,Pa,cb,H,Ga,oa||Ia,$a);var Ua=[L,G,Fa,ta,ra,oa?N:null,Ia?da:null],eb=void 0,Gb=void 0;if(ka&&ab){if(!ab[Xa]){ab[Xa]=Ua;continue}eb=ab[Xa];delete ab[Xa];Gb=g(eb);
if(ka.collides(Gb))continue}ka&&ka.collides(ta.declutterBox)||(eb&&(ka&&ka.insert(Gb),this.replayImageOrLabel_.apply(this,eb)),ka&&ka.insert(ta.declutterBox),this.replayImageOrLabel_.apply(this,Ua))}++fa;break;case n["default"].DRAW_CHARS:ea=ta[1];Pa=ta[2];Xa=ta[3];ab=ta[4];V=ta[5];cb=ta[6];Ha=ta[7];X=ta[8];va=ta[9];ra=ta[10];ca=ta[11];Fa=ta[12];qa=[ta[13],ta[13]];na=this.textStates[Fa];ta=na.font;Ha=[na.scale[0]*Ha,na.scale[1]*Ha];ta in this.widths_?na=this.widths_[ta]:(na={},this.widths_[ta]=na);
Ba=(0,d.lineStringLength)(ba,ea,Pa,2);Ga=Math.abs(Ha[0])*(0,v.measureAndCacheTextWidth)(ta,ca,na);if(ab||Ga<=Ba)a:if(ab=(Ba-Ga)*E.TEXT_ALIGN[this.textStates[Fa].textAlign],cb=(0,l.drawTextOnPath)(ba,ea,Pa,2,ca,ab,cb,Math.abs(Ha[0]),v.measureAndCacheTextWidth,ta,na,z?0:this.viewRotation_),cb){Pa=[];if(va)for(ab=0,na=cb.length;ab<na;++ab){ta=cb[ab];ca=ta[4];Ba=this.createLabel(ca,Fa,"",va);ca=ta[2]+(0>Ha[0]?-ra:ra);ea=Xa*Ba.height+2*(.5-Xa)*ra*Ha[1]/Ha[0]-X;ta=this.calculateImageOrLabelDimensions_(Ba.width,
Ba.height,ta[0],ta[1],Ba.width,Ba.height,ca,ea,0,0,ta[3],qa,!1,v.defaultPadding,!1,$a);if(ka&&ka.collides(ta.declutterBox))break a;Pa.push([L,G,Ba,ta,1,null,null])}if(V)for(ab=0,na=cb.length;ab<na;++ab){ta=cb[ab];ca=ta[4];Ba=this.createLabel(ca,Fa,V,"");ca=ta[2];ea=Xa*Ba.height-X;ta=this.calculateImageOrLabelDimensions_(Ba.width,Ba.height,ta[0],ta[1],Ba.width,Ba.height,ca,ea,0,0,ta[3],qa,!1,v.defaultPadding,!1,$a);if(ka&&ka.collides(ta.declutterBox))break a;Pa.push([L,G,Ba,ta,1,null,null])}ka&&ka.load(Pa.map(g));
Fa=0;for(va=Pa.length;Fa<va;++Fa)this.replayImageOrLabel_.apply(this,Pa[Fa])}++fa;break;case n["default"].END_GEOMETRY:if(void 0!==R&&($a=ta[1],Fa=R($a,kb)))return Fa;++fa;break;case n["default"].FILL:Ea?Q++:this.fill_(L);++fa;break;case n["default"].MOVE_TO_LINE_TO:Xa=ta[1];X=ta[2];V=ba[Xa];ca=ba[Xa+1];Fa=V+.5|0;va=ca+.5|0;if(Fa!==Z||va!==Ta)L.moveTo(V,ca),Z=Fa,Ta=va;for(Xa+=2;Xa<X;Xa+=2)if(V=ba[Xa],ca=ba[Xa+1],Fa=V+.5|0,va=ca+.5|0,Xa==X-2||Fa!==Z||va!==Ta)L.lineTo(V,ca),Z=Fa,Ta=va;++fa;break;case n["default"].SET_FILL_STYLE:N=
ta;this.alignFill_=ta[2];Q&&(this.fill_(L),Q=0,q&&(L.stroke(),q=0));L.fillStyle=ta[1];++fa;break;case n["default"].SET_STROKE_STYLE:da=ta;q&&(L.stroke(),q=0);this.setStrokeStyle_(L,ta);++fa;break;case n["default"].STROKE:Ea?q++:L.stroke();++fa;break;default:++fa}}Q&&this.fill_(L);q&&L.stroke()};P.prototype.execute=function(L,G,z,K,H,R){this.viewRotation_=K;this.execute_(L,G,z,this.instructions,H,void 0,void 0,R)};P.prototype.executeHitDetection=function(L,G,z,K,H){this.viewRotation_=z;return this.execute_(L,
1,G,this.hitDetectionInstructions,!0,K,H)};return P}();F["default"]=Ja};
shadow$provide[226]=function(Ja,B,qb,F){function g(a){return a&&a.__esModule?a:{"default":a}}function m(a){if(void 0!==f[a])return f[a];for(var e=2*a+1,p=a*a,A=Array(p+1),C=0;C<=a;++C)for(var D=0;D<=a;++D){var P=C*C+D*D;if(P>p)break;var L=A[P];L||(L=[],A[P]=L);L.push(4*((a+C)*e+(a+D))+3);0<C&&L.push(4*((a-C)*e+(a+D))+3);0<D&&(L.push(4*((a+C)*e+(a-D))+3),0<C&&L.push(4*((a-C)*e+(a-D))+3))}e=[];C=0;for(p=A.length;C<p;++C)A[C]&&e.push.apply(e,A[C]);return f[a]=e}Object.defineProperty(F,"__esModule",{value:!0});
F.getPixelIndexArray=m;F["default"]=void 0;var n=g(B(223)),E=g(B(225)),O=B(83),x=B(80),y=B(106),v=B(89),l=B(75),k=B(139),d=[n["default"].POLYGON,n["default"].CIRCLE,n["default"].LINE_STRING,n["default"].IMAGE,n["default"].TEXT,n["default"].DEFAULT];Ja=function(){function a(e,p,A,C,D,P){this.maxExtent_=e;this.overlaps_=C;this.pixelRatio_=A;this.resolution_=p;this.renderBuffer_=P;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,x.create)();this.createExecutors_(D)}
a.prototype.clip=function(e,p){p=this.getClipCoords(p);e.beginPath();e.moveTo(p[0],p[1]);e.lineTo(p[2],p[3]);e.lineTo(p[4],p[5]);e.lineTo(p[6],p[7]);e.clip()};a.prototype.createExecutors_=function(e){for(var p in e){var A=this.executorsByZIndex_[p];void 0===A&&(A={},this.executorsByZIndex_[p]=A);var C=e[p],D=[this.renderBuffer_||0,this.renderBuffer_||0],P;for(P in C)A[P]=new E["default"](this.resolution_,this.pixelRatio_,this.overlaps_,C[P],D)}};a.prototype.hasExecutors=function(e){for(var p in this.executorsByZIndex_)for(var A=
this.executorsByZIndex_[p],C=0,D=e.length;C<D;++C)if(e[C]in A)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(e,p,A,C,D,P){function L(ja,Z){for(var Q=H.getImageData(0,0,G,G).data,q=0,N=U.length;q<N;q++)if(0<Q[U[q]]){if(!P||ba!==n["default"].IMAGE&&ba!==n["default"].TEXT||-1!==P.indexOf(ja))if(q=(U[q]-3)/4,Q=C-q%G,q=C-(q/G|0),ja=D(ja,Z,Q*Q+q*q))return ja;H.clearRect(0,0,G,G);break}}C=Math.round(C);var G=2*C+1,z=(0,x.compose)(this.hitDetectionTransform_,C+.5,C+.5,1/p,-1/p,-A,-e[0],
-e[1]),K=!this.hitDetectionContext_;K&&(this.hitDetectionContext_=(0,y.createCanvasContext2D)(G,G));var H=this.hitDetectionContext_;H.canvas.width!==G||H.canvas.height!==G?(H.canvas.width=G,H.canvas.height=G):K||H.clearRect(0,0,G,G);if(void 0!==this.renderBuffer_){var R=(0,O.createEmpty)();(0,O.extendCoordinate)(R,e);(0,O.buffer)(R,p*(this.renderBuffer_+C),R)}var U=m(C);e=Object.keys(this.executorsByZIndex_).map(Number);e.sort(l.numberSafeCompareFunction);for(p=e.length-1;0<=p;--p){var ka=this.executorsByZIndex_[e[p].toString()];
for(K=d.length-1;0<=K;--K){var ba=d[K];var fa=ka[ba];if(void 0!==fa&&(fa=fa.executeHitDetection(H,z,A,L,R)))return fa}}};a.prototype.getClipCoords=function(e){var p=this.maxExtent_;if(!p)return null;var A=p[0],C=p[1],D=p[2];p=p[3];A=[A,C,A,p,D,p,D,C];(0,k.transform2D)(A,0,8,2,e,A);return A};a.prototype.isEmpty=function(){return(0,v.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(e,p,A,C,D,P,L){var G=Object.keys(this.executorsByZIndex_).map(Number);G.sort(l.numberSafeCompareFunction);
this.maxExtent_&&(e.save(),this.clip(e,A));P=P?P:d;var z,K;L&&G.reverse();var H=0;for(z=G.length;H<z;++H){var R=this.executorsByZIndex_[G[H].toString()];var U=0;for(K=P.length;U<K;++U){var ka=R[P[U]];void 0!==ka&&ka.execute(e,p,A,C,D,L)}}this.maxExtent_&&e.restore()};return a}();var f={};F["default"]=Ja};
shadow$provide[227]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(122));Ja=g(B(212));var n=B(204),E=B(80),O=B(107),x=B(75),y=B(83),v=B(139),l=B(141),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a,e,p,A,C,D,P){var L=d.call(this)||this;L.context_=a;L.pixelRatio_=e;L.extent_=p;L.transform_=A;L.viewRotation_=C;L.squaredTolerance_=D;L.userTransform_=P;L.contextFillState_=null;L.contextStrokeState_=null;L.contextTextState_=null;L.fillState_=null;L.strokeState_=null;L.image_=null;L.imageAnchorX_=0;L.imageAnchorY_=0;L.imageHeight_=0;L.imageOpacity_=0;L.imageOriginX_=0;L.imageOriginY_=0;L.imageRotateWithView_=
!1;L.imageRotation_=0;L.imageScale_=[0,0];L.imageWidth_=0;L.text_="";L.textOffsetX_=0;L.textOffsetY_=0;L.textRotateWithView_=!1;L.textRotation_=0;L.textScale_=[0,0];L.textFillState_=null;L.textStrokeState_=null;L.textState_=null;L.pixelCoordinates_=[];L.tmpLocalTransform_=(0,E.create)();return L}k(f,d);f.prototype.drawImages_=function(a,e,p,A){if(this.image_){a=(0,v.transform2D)(a,e,p,2,this.transform_,this.pixelCoordinates_);e=this.context_;p=this.tmpLocalTransform_;A=e.globalAlpha;1!=this.imageOpacity_&&
(e.globalAlpha=A*this.imageOpacity_);var C=this.imageRotation_;this.imageRotateWithView_&&(C+=this.viewRotation_);for(var D=0,P=a.length;D<P;D+=2){var L=a[D]-this.imageAnchorX_,G=a[D+1]-this.imageAnchorY_;0!==C||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(L+=this.imageAnchorX_,G+=this.imageAnchorY_,(0,E.compose)(p,L,G,1,1,C,-L,-G),e.setTransform.apply(e,p),e.translate(L,G),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,L,G,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=A)}};f.prototype.drawText_=function(a,e,p,A){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,v.transform2D)(a,e,p,A,this.transform_,this.pixelCoordinates_);var C=this.context_,D=this.textRotation_;for(this.textRotateWithView_&&(D+=this.viewRotation_);e<p;e+=A){var P=a[e]+this.textOffsetX_,L=a[e+1]+this.textOffsetY_;if(0!==D||1!=this.textScale_[0]||1!=this.textScale_[1]){var G=(0,E.compose)(this.tmpLocalTransform_,P,L,1,1,D,-P,-L);C.setTransform.apply(C,G);C.translate(P,L);C.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
C.strokeText(this.text_,0,0);this.textFillState_&&C.fillText(this.text_,0,0);C.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&C.strokeText(this.text_,P,L),this.textFillState_&&C.fillText(this.text_,P,L)}}};f.prototype.moveToLineTo_=function(a,e,p,A,C){var D=this.context_;a=(0,v.transform2D)(a,e,p,A,this.transform_,this.pixelCoordinates_);D.moveTo(a[0],a[1]);e=a.length;C&&(e-=2);for(A=2;A<e;A+=2)D.lineTo(a[A],a[A+1]);C&&D.closePath();return p};f.prototype.drawRings_=function(a,e,p,A){for(var C=
0,D=p.length;C<D;++C)e=this.moveToLineTo_(a,e,p[C],A,!0);return e};f.prototype.drawCircle=function(a){if((0,y.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,l.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),p=e[2]-e[0],A=e[3]-e[1];p=Math.sqrt(p*p+A*A);A=this.context_;A.beginPath();A.arc(e[0],e[1],p,0,2*Math.PI);this.fillState_&&
A.fill();this.strokeState_&&A.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};f.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};f.prototype.setTransform=function(a){this.transform_=a};f.prototype.drawGeometry=function(a){switch(a.getType()){case m["default"].POINT:this.drawPoint(a);break;case m["default"].LINE_STRING:this.drawLineString(a);break;case m["default"].POLYGON:this.drawPolygon(a);
break;case m["default"].MULTI_POINT:this.drawMultiPoint(a);break;case m["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case m["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case m["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case m["default"].CIRCLE:this.drawCircle(a)}};f.prototype.drawFeature=function(a,e){(a=e.getGeometryFunction()(a))&&(0,y.intersects)(this.extent_,a.getExtent())&&(this.setStyle(e),this.drawGeometry(a))};f.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var e=0,p=a.length;e<p;++e)this.drawGeometry(a[e])};f.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,y.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,p=a.getFlatCoordinates();e.beginPath();this.moveToLineTo_(p,0,p.length,a.getStride(),!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getExtent();if((0,y.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;var p=a.getFlatCoordinates(),A=0,C=a.getEnds(),D=a.getStride();e.beginPath();for(var P=0,L=C.length;P<L;++P)A=this.moveToLineTo_(p,A,C[P],D,!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};f.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,y.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,y.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,p=a.getOrientedFlatCoordinates(),
A=0,C=a.getEndss(),D=a.getStride();e.beginPath();for(var P=0,L=C.length;P<L;++P)A=this.drawRings_(p,A,C[P],D);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};f.prototype.setContextFillState_=function(a){var e=this.context_,p=this.contextFillState_;p?p.fillStyle!=a.fillStyle&&(p.fillStyle=a.fillStyle,e.fillStyle=a.fillStyle):(e.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};f.prototype.setContextStrokeState_=
function(a){var e=this.context_,p=this.contextStrokeState_;p?(p.lineCap!=a.lineCap&&(p.lineCap=a.lineCap,e.lineCap=a.lineCap),e.setLineDash&&((0,x.equals)(p.lineDash,a.lineDash)||e.setLineDash(p.lineDash=a.lineDash),p.lineDashOffset!=a.lineDashOffset&&(p.lineDashOffset=a.lineDashOffset,e.lineDashOffset=a.lineDashOffset)),p.lineJoin!=a.lineJoin&&(p.lineJoin=a.lineJoin,e.lineJoin=a.lineJoin),p.lineWidth!=a.lineWidth&&(p.lineWidth=a.lineWidth,e.lineWidth=a.lineWidth),p.miterLimit!=a.miterLimit&&(p.miterLimit=
a.miterLimit,e.miterLimit=a.miterLimit),p.strokeStyle!=a.strokeStyle&&(p.strokeStyle=a.strokeStyle,e.strokeStyle=a.strokeStyle)):(e.lineCap=a.lineCap,e.setLineDash&&(e.setLineDash(a.lineDash),e.lineDashOffset=a.lineDashOffset),e.lineJoin=a.lineJoin,e.lineWidth=a.lineWidth,e.miterLimit=a.miterLimit,e.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
f.prototype.setContextTextState_=function(a){var e=this.context_,p=this.contextTextState_,A=a.textAlign?a.textAlign:O.defaultTextAlign;p?(p.font!=a.font&&(p.font=a.font,e.font=a.font),p.textAlign!=A&&(p.textAlign=A,e.textAlign=A),p.textBaseline!=a.textBaseline&&(p.textBaseline=a.textBaseline,e.textBaseline=a.textBaseline)):(e.font=a.font,e.textAlign=A,e.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:A,textBaseline:a.textBaseline})};f.prototype.setFillStrokeStyle=function(a,
e){a?(a=a.getColor(),this.fillState_={fillStyle:(0,n.asColorLike)(a?a:O.defaultFillStyle)}):this.fillState_=null;if(e){a=e.getColor();var p=e.getLineCap(),A=e.getLineDash(),C=e.getLineDashOffset(),D=e.getLineJoin(),P=e.getWidth();e=e.getMiterLimit();this.strokeState_={lineCap:void 0!==p?p:O.defaultLineCap,lineDash:A?A:O.defaultLineDash,lineDashOffset:C?C:O.defaultLineDashOffset,lineJoin:void 0!==D?D:O.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==P?P:O.defaultLineWidth),miterLimit:void 0!==
e?e:O.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(a?a:O.defaultStrokeStyle)}}else this.strokeState_=null};f.prototype.setImageStyle=function(a){if(a){var e=a.getSize();if(e){var p=a.getAnchor(),A=a.getImage(1),C=a.getOrigin(),D=a.getScaleArray();this.imageAnchorX_=p[0];this.imageAnchorY_=p[1];this.imageHeight_=e[1];this.image_=A;this.imageOpacity_=a.getOpacity();this.imageOriginX_=C[0];this.imageOriginY_=C[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*D[0],this.pixelRatio_*D[1]];this.imageWidth_=e[0]}else this.image_=null}else this.image_=null};f.prototype.setTextStyle=function(a){if(a){var e=a.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,n.asColorLike)(e?e:O.defaultFillStyle)}):this.textFillState_=null;var p=a.getStroke();if(p){e=p.getColor();var A=p.getLineCap(),C=p.getLineDash(),D=p.getLineDashOffset(),P=p.getLineJoin(),L=p.getWidth();p=p.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
A?A:O.defaultLineCap,lineDash:C?C:O.defaultLineDash,lineDashOffset:D?D:O.defaultLineDashOffset,lineJoin:void 0!==P?P:O.defaultLineJoin,lineWidth:void 0!==L?L:O.defaultLineWidth,miterLimit:void 0!==p?p:O.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(e?e:O.defaultStrokeStyle)}}else this.textStrokeState_=null;e=a.getFont();A=a.getOffsetX();C=a.getOffsetY();D=a.getRotateWithView();P=a.getRotation();L=a.getScaleArray();p=a.getText();var G=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
e?e:O.defaultFont,textAlign:void 0!==G?G:O.defaultTextAlign,textBaseline:void 0!==a?a:O.defaultTextBaseline};this.text_=void 0!==p?p:"";this.textOffsetX_=void 0!==A?this.pixelRatio_*A:0;this.textOffsetY_=void 0!==C?this.pixelRatio_*C:0;this.textRotateWithView_=void 0!==D?D:!1;this.textRotation_=void 0!==P?P:0;this.textScale_=[this.pixelRatio_*L[0],this.pixelRatio_*L[1]]}else this.text_=""};return f}(Ja["default"]);F["default"]=B};
shadow$provide[228]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[229]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[230]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(90));var m=g(B(91)),n=B(77),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(v.prototype=y.prototype,new v)}}();B=function(O){function x(y,v,l,k){var d=O.call(this)||this;d.extent=y;d.pixelRatio_=l;d.resolution=v;d.state=k;return d}E(x,O);x.prototype.changed=function(){this.dispatchEvent(m["default"].CHANGE)};x.prototype.getExtent=function(){return this.extent};x.prototype.getImage=function(){return(0,n["abstract"])()};x.prototype.getPixelRatio=function(){return this.pixelRatio_};x.prototype.getResolution=function(){return this.resolution};x.prototype.getState=function(){return this.state};
x.prototype.load=function(){(0,n["abstract"])()};return x}(Ja["default"]);F["default"]=B};
shadow$provide[231]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l,k,d){if(l.src&&O.IMAGE_DECODE){var f=!0;l.decode().then(function(){f&&k()})["catch"](function(e){f&&("EncodingError"===e.name&&"Invalid image type."===e.message?k():d())});return function(){f=!1}}var a=[(0,y.listenOnce)(l,n["default"].LOAD,k),(0,y.listenOnce)(l,n["default"].ERROR,d)];return function(){a.forEach(y.unlistenByKey)}}Object.defineProperty(F,"__esModule",{value:!0});F.listenImage=m;
F["default"]=void 0;var n=g(B(91));Ja=g(B(230));var E=g(B(202)),O=B(105),x=B(83),y=B(92),v=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();B=function(l){function k(d,f,a,e,p,A){d=l.call(this,d,f,a,
E["default"].IDLE)||this;d.src_=e;d.image_=new Image;null!==p&&(d.image_.crossOrigin=p);d.unlisten_=null;d.state=E["default"].IDLE;d.imageLoadFunction_=A;return d}v(k,l);k.prototype.getImage=function(){return this.image_};k.prototype.handleImageError_=function(){this.state=E["default"].ERROR;this.unlistenImage_();this.changed()};k.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,x.getHeight)(this.extent)/this.image_.height);this.state=E["default"].LOADED;this.unlistenImage_();
this.changed()};k.prototype.load=function(){if(this.state==E["default"].IDLE||this.state==E["default"].ERROR)this.state=E["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=m(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};k.prototype.setImage=function(d){this.image_=d};k.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return k}(Ja["default"]);F["default"]=B};
shadow$provide[232]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F.get=function(d,f,a,e,p,A){var C=x.shared.get(f,e,A);C||(C=new k(d,f,a,e,p,A),x.shared.set(f,e,A,C));return C};F["default"]=void 0;Ja=g(B(90));var m=g(B(91)),n=g(B(202)),E=B(85),O=B(106),x=B(86),y=B(231),v=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,
A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),l=null,k=function(d){function f(a,e,p,A,C,D){var P=d.call(this)||this;P.hitDetectionImage_=null;P.image_=a?a:new Image;null!==A&&(P.image_.crossOrigin=A);P.canvas_={};P.color_=D;P.unlisten_=null;P.imageState_=C;P.size_=p;P.src_=e;return P}v(f,d);f.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===n["default"].LOADED){l||
(l=(0,O.createCanvasContext2D)(1,1));l.drawImage(this.image_,0,0);try{l.getImageData(0,0,1,1),this.tainted_=!1}catch(a){l=null,this.tainted_=!0}}return!0===this.tainted_};f.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(m["default"].CHANGE)};f.prototype.handleImageError_=function(){this.imageState_=n["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.handleImageLoad_=function(){this.imageState_=n["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};f.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};f.prototype.getImageState=function(){return this.imageState_};f.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
e=this.size_[1],p=(0,O.createCanvasContext2D)(a,e);p.fillRect(0,0,a,e);this.hitDetectionImage_=p.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};f.prototype.getSize=function(){return this.size_};f.prototype.getSrc=function(){return this.src_};f.prototype.load=function(){if(this.imageState_==n["default"].IDLE){this.imageState_=n["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,y.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};f.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var e=document.createElement("canvas");this.canvas_[a]=e;e.width=Math.ceil(this.image_.width*a);e.height=Math.ceil(this.image_.height*a);var p=e.getContext("2d");p.scale(a,a);p.drawImage(this.image_,0,0);p.globalCompositeOperation="multiply";if("multiply"===p.globalCompositeOperation||this.isTainted_())p.fillStyle=(0,E.asString)(this.color_),p.fillRect(0,0,e.width,e.height),p.globalCompositeOperation=
"destination-in",p.drawImage(this.image_,0,0);else{a=p.getImageData(0,0,e.width,e.height);e=a.data;for(var A=this.color_[0]/255,C=this.color_[1]/255,D=this.color_[2]/255,P=this.color_[3],L=0,G=e.length;L<G;L+=4)e[L]*=A,e[L+1]*=C,e[L+2]*=D,e[L+3]*=P;p.putImageData(a,0,0)}}};f.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return f}(Ja["default"]);F["default"]=k};
shadow$provide[233]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(91)),n=g(B(228)),E=g(B(229)),O=g(B(202));Ja=g(B(203));var x=B(85),y=B(79),v=B(232),l=B(77),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,
a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a){var e=a||{};a=d.call(this,{opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1})||this;a.anchor_=void 0!==e.anchor?e.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==
e.anchorOrigin?e.anchorOrigin:E["default"].TOP_LEFT;a.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:n["default"].FRACTION;a.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:n["default"].FRACTION;a.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var p=void 0!==e.img?e.img:null,A=void 0!==e.imgSize?e.imgSize:null,C=e.src;(0,y.assert)(!(void 0!==C&&p),4);(0,y.assert)(!p||p&&A,5);void 0!==C&&0!==C.length||!p||(C=p.src||(0,l.getUid)(p));(0,y.assert)(void 0!==C&&0<C.length,6);var D=void 0!==
e.src?O["default"].IDLE:O["default"].LOADED;a.color_=void 0!==e.color?(0,x.asArray)(e.color):null;a.iconImage_=(0,v.get)(p,C,A,a.crossOrigin_,D,a.color_);a.offset_=void 0!==e.offset?e.offset:[0,0];a.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:E["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==e.size?e.size:null;return a}k(f,d);f.prototype.clone=function(){var a=this.getScale();return new f({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};f.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,e=this.getSize();if(this.anchorXUnits_==
n["default"].FRACTION||this.anchorYUnits_==n["default"].FRACTION){if(!e)return null;a=this.anchor_.slice();this.anchorXUnits_==n["default"].FRACTION&&(a[0]*=e[0]);this.anchorYUnits_==n["default"].FRACTION&&(a[1]*=e[1])}if(this.anchorOrigin_!=E["default"].TOP_LEFT){if(!e)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==E["default"].TOP_RIGHT||this.anchorOrigin_==E["default"].BOTTOM_RIGHT)a[0]=-a[0]+e[0];if(this.anchorOrigin_==E["default"].BOTTOM_LEFT||this.anchorOrigin_==
E["default"].BOTTOM_RIGHT)a[1]=-a[1]+e[1]}return this.normalizedAnchor_=a};f.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};f.prototype.getColor=function(){return this.color_};f.prototype.getImage=function(a){return this.iconImage_.getImage(a)};f.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};f.prototype.getImageSize=function(){return this.iconImage_.getSize()};f.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};f.prototype.getImageState=
function(){return this.iconImage_.getImageState()};f.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};f.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=E["default"].TOP_LEFT){var p=this.getSize(),A=this.iconImage_.getSize();if(!p||!A)return null;a=a.slice();if(this.offsetOrigin_==E["default"].TOP_RIGHT||this.offsetOrigin_==E["default"].BOTTOM_RIGHT)a[0]=A[0]-p[0]-a[0];if(this.offsetOrigin_==
E["default"].BOTTOM_LEFT||this.offsetOrigin_==E["default"].BOTTOM_RIGHT)a[1]=A[1]-p[1]-a[1]}a[0]+=e[0];a[1]+=e[1];return this.origin_=a};f.prototype.getSrc=function(){return this.iconImage_.getSrc()};f.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};f.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(m["default"].CHANGE,a)};f.prototype.load=function(){this.iconImage_.load()};f.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(m["default"].CHANGE,
a)};return f}(Ja["default"]);F["default"]=B};
shadow$provide[234]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(207)),n=g(B(217)),E=B(157);Ja=function(){function O(x){x=x||{};this.font_=x.font;this.rotation_=x.rotation;this.rotateWithView_=x.rotateWithView;this.scale_=x.scale;this.scaleArray_=(0,E.toSize)(void 0!==x.scale?x.scale:1);this.text_=x.text;this.textAlign_=x.textAlign;this.textBaseline_=x.textBaseline;this.fill_=void 0!==x.fill?
x.fill:new m["default"]({color:"#333"});this.maxAngle_=void 0!==x.maxAngle?x.maxAngle:Math.PI/4;this.placement_=void 0!==x.placement?x.placement:n["default"].POINT;this.overflow_=!!x.overflow;this.stroke_=void 0!==x.stroke?x.stroke:null;this.offsetX_=void 0!==x.offsetX?x.offsetX:0;this.offsetY_=void 0!==x.offsetY?x.offsetY:0;this.backgroundFill_=x.backgroundFill?x.backgroundFill:null;this.backgroundStroke_=x.backgroundStroke?x.backgroundStroke:null;this.padding_=void 0===x.padding?null:x.padding}
O.prototype.clone=function(){var x=this.getScale();return new O({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(x)?x.slice():x,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};O.prototype.getOverflow=function(){return this.overflow_};O.prototype.getFont=function(){return this.font_};O.prototype.getMaxAngle=function(){return this.maxAngle_};O.prototype.getPlacement=function(){return this.placement_};O.prototype.getOffsetX=function(){return this.offsetX_};O.prototype.getOffsetY=function(){return this.offsetY_};
O.prototype.getFill=function(){return this.fill_};O.prototype.getRotateWithView=function(){return this.rotateWithView_};O.prototype.getRotation=function(){return this.rotation_};O.prototype.getScale=function(){return this.scale_};O.prototype.getScaleArray=function(){return this.scaleArray_};O.prototype.getStroke=function(){return this.stroke_};O.prototype.getText=function(){return this.text_};O.prototype.getTextAlign=function(){return this.textAlign_};O.prototype.getTextBaseline=function(){return this.textBaseline_};
O.prototype.getBackgroundFill=function(){return this.backgroundFill_};O.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};O.prototype.getPadding=function(){return this.padding_};O.prototype.setOverflow=function(x){this.overflow_=x};O.prototype.setFont=function(x){this.font_=x};O.prototype.setMaxAngle=function(x){this.maxAngle_=x};O.prototype.setOffsetX=function(x){this.offsetX_=x};O.prototype.setOffsetY=function(x){this.offsetY_=x};O.prototype.setPlacement=function(x){this.placement_=
x};O.prototype.setRotateWithView=function(x){this.rotateWithView_=x};O.prototype.setFill=function(x){this.fill_=x};O.prototype.setRotation=function(x){this.rotation_=x};O.prototype.setScale=function(x){this.scale_=x;this.scaleArray_=(0,E.toSize)(void 0!==x?x:1)};O.prototype.setStroke=function(x){this.stroke_=x};O.prototype.setText=function(x){this.text_=x};O.prototype.setTextAlign=function(x){this.textAlign_=x};O.prototype.setTextBaseline=function(x){this.textBaseline_=x};O.prototype.setBackgroundFill=
function(x){this.backgroundFill_=x};O.prototype.setBackgroundStroke=function(x){this.backgroundStroke_=x};O.prototype.setPadding=function(x){this.padding_=x};return O}();F["default"]=Ja};
shadow$provide[235]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});Object.defineProperty(F,"Circle",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(F,"Fill",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(F,"Icon",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(F,"IconImage",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(F,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(F,"RegularShape",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(F,"Stroke",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(F,"Style",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(F,"Text",{enumerable:!0,get:function(){return k["default"]}});var m=g(B(206)),n=g(B(207)),E=g(B(233)),O=g(B(232)),x=g(B(203)),y=g(B(205)),v=g(B(208)),l=g(B(209)),
k=g(B(234))};
shadow$provide[236]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F.createHitDetectionImageData=function(l,k,d,f,a,e,p){var A=l[0]/2;l=l[1]/2;A=(0,x.createCanvasContext2D)(A,l);A.imageSmoothingEnabled=!1;l=A.canvas;p=new m["default"](A,.5,a,null,p);for(var C=d.length,D=Math.floor(16777215/C),P={},L=1;L<=C;++L){var G=d[L-1],z=G.getStyleFunction()||f;if(f){var K=z(G,e);if(K){Array.isArray(K)||(K=[K]);var H="#"+("000000"+(L*
D).toString(16)).slice(-6);z=0;for(var R=K.length;z<R;++z){var U=K[z],ka=U.clone(),ba=ka.getFill();ba&&ba.setColor(H);(ba=ka.getStroke())&&ba.setColor(H);ka.setText(void 0);if(U=U.getImage()){ba=U.getImageSize();if(!ba)continue;var fa=document.createElement("canvas");fa.width=ba[0];fa.height=ba[1];var ja=fa.getContext("2d",{alpha:!1});ja.fillStyle=H;fa=ja.canvas;ja.fillRect(0,0,fa.width,fa.height);ja=ba?ba[0]:fa.width;var Z=ba?ba[1]:fa.height;(0,x.createCanvasContext2D)(ja,Z).drawImage(fa,0,0);ka.setImage(new O.Icon({img:fa,
imgSize:ba,anchor:U.getAnchor(),anchorXUnits:E["default"].PIXELS,anchorYUnits:E["default"].PIXELS,offset:U.getOrigin(),size:U.getSize(),opacity:U.getOpacity(),scale:U.getScale(),rotation:U.getRotation(),rotateWithView:U.getRotateWithView()}))}ba=Number(ka.getZIndex());U=P[ba];U||(U={},P[ba]=U,U[n["default"].POLYGON]=[],U[n["default"].CIRCLE]=[],U[n["default"].LINE_STRING]=[],U[n["default"].POINT]=[]);(ba=ka.getGeometryFunction()(G))&&(0,y.intersects)(a,ba.getExtent())&&U[ba.getType().replace("Multi",
"")].push(ba,ka)}}}}d=Object.keys(P).map(Number).sort(v.numberSafeCompareFunction);L=0;for(f=d.length;L<f;++L){U=P[d[L]];for(var Q in U)for(a=U[Q],z=0,R=a.length;z<R;z+=2)for(p.setStyle(a[z+1]),e=0,C=k.length;e<C;++e)p.setTransform(k[e]),p.drawGeometry(a[z])}return A.getImageData(0,0,l.width,l.height)};F.hitDetect=function(l,k,d){var f=[];d&&(l=4*(Math.round(l[0]/2)+Math.round(l[1]/2)*d.width),d=d.data[l+2]+256*(d.data[l+1]+256*d.data[l]),l=Math.floor(16777215/k.length),d&&0===d%l&&f.push(k[d/l-1]));
return f};var m=g(B(227)),n=g(B(122)),E=g(B(228)),O=B(235),x=B(106),y=B(83),v=B(75)};
shadow$provide[237]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l,k,d,f){if(k.getType()==E["default"].GEOMETRY_COLLECTION){k=k.getGeometries();for(var a=0,e=k.length;a<e;++a)m(l,k[a],d,f)}else l.getBuilder(d.getZIndex(),n["default"].DEFAULT).drawCustom(k,f,d.getRenderer())}Object.defineProperty(F,"__esModule",{value:!0});F.defaultOrder=function(l,k){return parseInt((0,x.getUid)(l),10)-parseInt((0,x.getUid)(k),10)};F.getSquaredTolerance=function(l,k){l=y*l/k;
return l*l};F.getTolerance=function(l,k){return y*l/k};F.renderFeature=function(l,k,d,f,a,e,p){var A=!1,C=d.getImage();if(C){var D=C.getImageState();D==O["default"].LOADED||D==O["default"].ERROR?C.unlistenImageChange(a):(D==O["default"].IDLE&&C.load(),C.getImageState(),C.listenImageChange(a),A=!0)}if(a=d.getGeometryFunction()(k))if(f=a.simplifyTransformed(f,e),d.getRenderer())m(l,f,d,k);else(0,v[f.getType()])(l,f,d,k,p);return A};var n=g(B(223)),E=g(B(122)),O=g(B(202)),x=B(77),y=.5,v={Point:function(l,
k,d,f,a){var e=d.getImage(),p=d.getText();if(a){l=a;var A=e&&p&&p.getText()?{}:void 0}if(e){if(e.getImageState()!=O["default"].LOADED)return;a=l.getBuilder(d.getZIndex(),n["default"].IMAGE);a.setImageStyle(e,A);a.drawPoint(k,f)}p&&p.getText()&&(l=l.getBuilder(d.getZIndex(),n["default"].TEXT),l.setTextStyle(p,A),l.drawText(k,f))},LineString:function(l,k,d,f,a){var e=d.getStroke();if(e){var p=l.getBuilder(d.getZIndex(),n["default"].LINE_STRING);p.setFillStrokeStyle(null,e);p.drawLineString(k,f)}(e=
d.getText())&&e.getText()&&(l=(a||l).getBuilder(d.getZIndex(),n["default"].TEXT),l.setTextStyle(e),l.drawText(k,f))},Polygon:function(l,k,d,f,a){var e=d.getFill(),p=d.getStroke();if(e||p){var A=l.getBuilder(d.getZIndex(),n["default"].POLYGON);A.setFillStrokeStyle(e,p);A.drawPolygon(k,f)}(e=d.getText())&&e.getText()&&(l=(a||l).getBuilder(d.getZIndex(),n["default"].TEXT),l.setTextStyle(e),l.drawText(k,f))},MultiPoint:function(l,k,d,f,a){var e=d.getImage(),p=d.getText();if(a){l=a;var A=e&&p&&p.getText()?
{}:void 0}if(e){if(e.getImageState()!=O["default"].LOADED)return;var C=l.getBuilder(d.getZIndex(),n["default"].IMAGE);C.setImageStyle(e,A);C.drawMultiPoint(k,f)}p&&p.getText()&&(l=(a||l).getBuilder(d.getZIndex(),n["default"].TEXT),l.setTextStyle(p,A),l.drawText(k,f))},MultiLineString:function(l,k,d,f,a){var e=d.getStroke();if(e){var p=l.getBuilder(d.getZIndex(),n["default"].LINE_STRING);p.setFillStrokeStyle(null,e);p.drawMultiLineString(k,f)}(e=d.getText())&&e.getText()&&(l=(a||l).getBuilder(d.getZIndex(),
n["default"].TEXT),l.setTextStyle(e),l.drawText(k,f))},MultiPolygon:function(l,k,d,f,a){var e=d.getFill(),p=d.getStroke();if(p||e){var A=l.getBuilder(d.getZIndex(),n["default"].POLYGON);A.setFillStrokeStyle(e,p);A.drawMultiPolygon(k,f)}(e=d.getText())&&e.getText()&&(l=(a||l).getBuilder(d.getZIndex(),n["default"].TEXT),l.setTextStyle(e),l.drawText(k,f))},GeometryCollection:function(l,k,d,f,a){k=k.getGeometriesArray();var e;var p=0;for(e=k.length;p<e;++p)(0,v[k[p].getType()])(l,k[p],d,f,a)},Circle:function(l,
k,d,f,a){var e=d.getFill(),p=d.getStroke();if(e||p){var A=l.getBuilder(d.getZIndex(),n["default"].CIRCLE);A.setFillStrokeStyle(e,p);A.drawCircle(k,f)}(e=d.getText())&&e.getText()&&(l=(a||l).getBuilder(d.getZIndex(),n["default"].TEXT),l.setTextStyle(e),l.drawText(k,f))}}};
shadow$provide[238]=function(Ja,B,qb,F){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(220));Ja=g(B(222));var n=g(B(226)),E=g(B(124)),O=B(80),x=B(83),y=B(236),v=B(237),l=B(133),k=B(77),d=B(101),f=function(){var a=function(e,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])};return a(e,p)};return function(e,
p){function A(){this.constructor=e}a(e,p);e.prototype=null===p?Object.create(p):(A.prototype=p.prototype,new A)}}();B=function(a){function e(p){p=a.call(this,p)||this;p.boundHandleStyleImageChange_=p.handleStyleImageChange_.bind(p);p.dirty_=!1;p.hitDetectionImageData_=null;p.renderedFeatures_=null;p.renderedRevision_=-1;p.renderedResolution_=NaN;p.renderedExtent_=(0,x.createEmpty)();p.renderedCenter_=null;p.renderedProjection_=null;p.renderedRenderOrder_=null;p.replayGroup_=null;p.replayGroupChanged=
!0;p.declutterExecutorGroup=null;p.clipping=!0;return p}f(e,a);e.prototype.useContainer=function(p,A,C){1>C&&(p=null);a.prototype.useContainer.call(this,p,A,C)};e.prototype.renderWorlds=function(p,A,C){var D=A.extent,P=A.viewState,L=P.center,G=P.resolution,z=P.projection;P=P.rotation;var K=z.getExtent(),H=this.getLayer().getSource(),R=A.pixelRatio,U=A.viewHints;U=!(U[E["default"].ANIMATING]||U[E["default"].INTERACTING]);var ka=this.context,ba=Math.round(A.size[0]*R);A=Math.round(A.size[1]*R);var fa=
H.getWrapX()&&z.canWrapX();z=fa?(0,x.getWidth)(K):null;H=fa?Math.ceil((D[2]-K[2])/z)+1:1;D=fa?Math.floor((D[0]-K[0])/z):0;do K=this.getRenderTransform(L,G,P,R,ba,A,D*z),p.execute(ka,1,K,P,U,void 0,C);while(++D<H)};e.prototype.renderDeclutter=function(p){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,p,p.declutterTree)};e.prototype.renderFrame=function(p,A){var C=p.pixelRatio,D=p.layerStatesArray[p.layerIndex];(0,O.makeScale)(this.pixelTransform,1/C,1/C);(0,O.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var P=(0,O.toString)(this.pixelTransform);this.useContainer(A,P,D.opacity);A=this.context;var L=A.canvas,G=this.replayGroup_,z=this.declutterExecutorGroup;if(!(G&&!G.isEmpty()||z&&!z.isEmpty()))return!this.containerReused&&0<L.width&&(L.width=0),this.container;z=Math.round(p.size[0]*C);C=Math.round(p.size[1]*C);L.width!=z||L.height!=C?(L.width=z,L.height=C,L.style.transform!==P&&(L.style.transform=P)):this.containerReused||A.clearRect(0,0,z,C);this.preRender(A,p);P=p.viewState;
L=P.projection;C=!1;D.extent&&this.clipping&&(L=(0,l.fromUserExtent)(D.extent,L),(C=!(0,x.containsExtent)(L,p.extent)&&(0,x.intersects)(L,p.extent))&&this.clipUnrotated(A,p,L));this.renderWorlds(G,p);C&&A.restore();this.postRender(A,p);p=D.opacity;D=this.container;p!==parseFloat(D.style.opacity)&&(D.style.opacity=1===p?"":String(p));this.renderedRotation_!==P.rotation&&(this.renderedRotation_=P.rotation,this.hitDetectionImageData_=null);return this.container};e.prototype.getFeatures=function(p){return new Promise(function(A){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var C=[this.context.canvas.width,this.context.canvas.height];(0,O.apply)(this.pixelTransform,C);var D=this.renderedCenter_,P=this.renderedResolution_,L=this.renderedRotation_,G=this.renderedProjection_,z=this.renderedExtent_,K=this.getLayer(),H=[],R=C[0]/2,U=C[1]/2;H.push(this.getRenderTransform(D,P,L,.5,R,U,0).slice());var ka=K.getSource(),ba=G.getExtent();if(ka.getWrapX()&&G.canWrapX()&&!(0,x.containsExtent)(ba,z)){G=z[0];ka=(0,x.getWidth)(ba);for(var fa=0,ja;G<ba[0];)--fa,
ja=ka*fa,H.push(this.getRenderTransform(D,P,L,.5,R,U,ja).slice()),G+=ka;fa=0;for(G=z[2];G>ba[2];)++fa,ja=ka*fa,H.push(this.getRenderTransform(D,P,L,.5,R,U,ja).slice()),G-=ka}this.hitDetectionImageData_=(0,y.createHitDetectionImageData)(C,H,this.renderedFeatures_,K.getStyleFunction(),z,P,L)}A((0,y.hitDetect)(p,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};e.prototype.forEachFeatureAtCoordinate=function(p,A,C,D,P){var L=this;if(this.replayGroup_){var G=A.viewState.resolution,z=
A.viewState.rotation,K=this.getLayer(),H={},R=function(ba,fa,ja){var Z=(0,k.getUid)(ba),Q=H[Z];if(!Q){if(0===ja)return H[Z]=!0,D(ba,K,fa);P.push(H[Z]={feature:ba,layer:K,geometry:fa,distanceSq:ja,callback:D})}else if(!0!==Q&&ja<Q.distanceSq){if(0===ja)return H[Z]=!0,P.splice(P.lastIndexOf(Q),1),D(ba,K,fa);Q.geometry=fa;Q.distanceSq=ja}},U,ka=[this.replayGroup_];this.declutterExecutorGroup&&ka.push(this.declutterExecutorGroup);ka.some(function(ba){return U=ba.forEachFeatureAtCoordinate(p,G,z,C,R,ba===
L.declutterExecutorGroup?A.declutterTree.all().map(function(fa){return fa.value}):null)});return U}};e.prototype.handleFontsChanged=function(){var p=this.getLayer();p.getVisible()&&this.replayGroup_&&p.changed()};e.prototype.handleStyleImageChange_=function(p){this.renderIfReadyAndVisible()};e.prototype.prepareFrame=function(p){var A=this.getLayer(),C=A.getSource();if(!C)return!1;var D=p.viewHints[E["default"].ANIMATING],P=p.viewHints[E["default"].INTERACTING],L=A.getUpdateWhileAnimating(),G=A.getUpdateWhileInteracting();
if(!this.dirty_&&!L&&D||!G&&P)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var z=p.extent,K=p.viewState;D=K.projection;var H=K.resolution;P=p.pixelRatio;L=A.getRevision();var R=A.getRenderBuffer();G=A.getRenderOrder();void 0===G&&(G=v.defaultOrder);K=K.center.slice();z=(0,x.buffer)(z,R*H);R=[z.slice()];var U=D.getExtent();if(C.getWrapX()&&D.canWrapX()&&!(0,x.containsExtent)(U,p.extent)){p=(0,x.getWidth)(U);var ka=Math.max((0,x.getWidth)(z)/2,p);z[0]=U[0]-ka;z[2]=U[2]+ka;
(0,d.wrapX)(K,D);ka=(0,x.wrapX)(R[0],D);ka[0]<U[0]&&ka[2]<U[2]?R.push([ka[0]+p,ka[1],ka[2]+p,ka[3]]):ka[0]>U[0]&&ka[2]>U[2]&&R.push([ka[0]-p,ka[1],ka[2]-p,ka[3]])}if(!this.dirty_&&this.renderedResolution_==H&&this.renderedRevision_==L&&this.renderedRenderOrder_==G&&(0,x.containsExtent)(this.renderedExtent_,z))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var ba=new m["default"]((0,v.getTolerance)(H,P),z,H,P),fa;this.getLayer().getDeclutter()&&(fa=new m["default"]((0,v.getTolerance)(H,
P),z,H,P));ka=(0,l.getUserProjection)();if(ka){p=0;for(U=R.length;p<U;++p)C.loadFeatures((0,l.toUserExtent)(R[p],D),H,ka);var ja=(0,l.getTransformFromProjections)(ka,D)}else for(p=0,U=R.length;p<U;++p)C.loadFeatures(R[p],H,D);var Z=(0,v.getSquaredTolerance)(H,P);R=function(Q){var q,N=Q.getStyleFunction()||A.getStyleFunction();N&&(q=N(Q,H));q&&(Q=this.renderFeature(Q,Z,q,ba,ja,fa),this.dirty_=this.dirty_||Q)}.bind(this);p=(0,l.toUserExtent)(z,D);ka=C.getFeaturesInExtent(p);G&&ka.sort(G);p=0;for(U=
ka.length;p<U;++p)R(ka[p]);this.renderedFeatures_=ka;p=ba.finish();p=new n["default"](z,H,P,C.getOverlaps(),p,A.getRenderBuffer());fa&&(this.declutterExecutorGroup=new n["default"](z,H,P,C.getOverlaps(),fa.finish(),A.getRenderBuffer()));this.renderedResolution_=H;this.renderedRevision_=L;this.renderedRenderOrder_=G;this.renderedExtent_=z;this.renderedCenter_=K;this.renderedProjection_=D;this.replayGroup_=p;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};e.prototype.renderFeature=
function(p,A,C,D,P,L){if(!C)return!1;var G=!1;if(Array.isArray(C))for(var z=0,K=C.length;z<K;++z)G=(0,v.renderFeature)(D,p,C[z],A,this.boundHandleStyleImageChange_,P,L)||G;else G=(0,v.renderFeature)(D,p,C,A,this.boundHandleStyleImageChange_,P,L);return G};return e}(Ja["default"]);F["default"]=B};
shadow$provide[239]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(210));var m=g(B(238)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x){return E.call(this,x)||this}n(O,E);O.prototype.createRenderer=function(){return new m["default"](this)};return O}(Ja["default"]);F["default"]=B};
shadow$provide[240]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=function(O){return O&&O.__esModule?O:{"default":O}}(B(201)),m=B(83),n=B(77),E=B(89);Ja=function(){function O(x){this.rbush_=new g["default"](x);this.items_={}}O.prototype.insert=function(x,y){x={minX:x[0],minY:x[1],maxX:x[2],maxY:x[3],value:y};this.rbush_.insert(x);this.items_[(0,n.getUid)(y)]=x};O.prototype.load=function(x,y){for(var v=Array(y.length),l=0,k=y.length;l<k;l++){var d=x[l],
f=y[l];d={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:f};v[l]=d;this.items_[(0,n.getUid)(f)]=d}this.rbush_.load(v)};O.prototype.remove=function(x){x=(0,n.getUid)(x);var y=this.items_[x];delete this.items_[x];return null!==this.rbush_.remove(y)};O.prototype.update=function(x,y){var v=this.items_[(0,n.getUid)(y)];v=[v.minX,v.minY,v.maxX,v.maxY];(0,m.equals)(v,x)||(this.remove(y),this.insert(x,y))};O.prototype.getAll=function(){return this.rbush_.all().map(function(x){return x.value})};O.prototype.getInExtent=
function(x){return this.rbush_.search({minX:x[0],minY:x[1],maxX:x[2],maxY:x[3]}).map(function(y){return y.value})};O.prototype.forEach=function(x){return this.forEach_(this.getAll(),x)};O.prototype.forEachInExtent=function(x,y){return this.forEach_(this.getInExtent(x),y)};O.prototype.forEach_=function(x,y){for(var v,l=0,k=x.length;l<k&&!(v=y(x[l]));l++);return v};O.prototype.isEmpty=function(){return(0,E.isEmpty)(this.items_)};O.prototype.clear=function(){this.rbush_.clear();this.items_={}};O.prototype.getExtent=
function(x){var y=this.rbush_.toJSON();return(0,m.createOrUpdate)(y.minX,y.minY,y.maxX,y.maxY,x)};O.prototype.concat=function(x){this.rbush_.load(x.rbush_.all());for(var y in x.items_)this.items_[y]=x.items_[y]};return O}();F["default"]=Ja};
shadow$provide[241]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}function m(y){return y?Array.isArray(y)?function(v){return y}:"function"===typeof y?y:function(v){return[y]}:null}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(94));var n=g(B(98)),E=B(77),O=B(133),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,
f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l){var k=y.call(this)||this;k.projection_=(0,O.get)(l.projection);k.attributions_=m(l.attributions);k.attributionsCollapsible_=void 0!==l.attributionsCollapsible?l.attributionsCollapsible:!0;k.loading=!1;k.state_=void 0!==l.state?l.state:n["default"].READY;k.wrapX_=void 0!==l.wrapX?l.wrapX:!1;return k}x(v,y);
v.prototype.getAttributions=function(){return this.attributions_};v.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};v.prototype.getProjection=function(){return this.projection_};v.prototype.getResolutions=function(){return(0,E["abstract"])()};v.prototype.getState=function(){return this.state_};v.prototype.getWrapX=function(){return this.wrapX_};v.prototype.getContextOptions=function(){};v.prototype.refresh=function(){this.changed()};v.prototype.setAttributions=
function(l){this.attributions_=m(l);this.changed()};v.prototype.setState=function(l){this.state_=l;this.changed()};return v}(Ja["default"]);F["default"]=B};
shadow$provide[242]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[243]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.all=function(g,m){return[[-Infinity,-Infinity,Infinity,Infinity]]};F.bbox=function(g,m){return[g]};F.tile=function(g){return function(m,n){n=g.getZForResolution(n);m=g.getTileRangeForExtentAndZ(m,n);var E=[];n=[n,0,0];for(n[1]=m.minX;n[1]<=m.maxX;++n[1])for(n[2]=m.minY;n[2]<=m.maxY;++n[2])E.push(g.getTileCoordExtent(n));return E}}};
shadow$provide[244]=function(Ja,B,qb,F){function g(O,x,y,v,l,k,d){var f=new XMLHttpRequest;f.open("GET","function"===typeof O?O(y,v,l):O,!0);x.getType()==m["default"].ARRAY_BUFFER&&(f.responseType="arraybuffer");f.withCredentials=E;f.onload=function(a){if(!f.status||200<=f.status&&300>f.status){a=x.getType();var e=void 0;a==m["default"].JSON||a==m["default"].TEXT?e=f.responseText:a==m["default"].XML?(e=f.responseXML)||(e=(new DOMParser).parseFromString(f.responseText,"application/xml")):a==m["default"].ARRAY_BUFFER&&
(e=f.response);e?k(x.readFeatures(e,{extent:y,featureProjection:l}),x.readProjection(e)):d()}else d()};f.onerror=d;f.send()}Object.defineProperty(F,"__esModule",{value:!0});F.loadFeaturesXhr=g;F.xhr=function(O,x){return function(y,v,l,k,d){var f=this;g(O,x,y,v,l,function(a,e){void 0!==k&&k(a);f.addFeatures(a)},d?d:n.VOID)}};F.setWithCredentials=function(O){E=O};var m=function(O){return O&&O.__esModule?O:{"default":O}}(B(189)),n=B(76),E=!1};
shadow$provide[245]=function(Ja,B,qb,F){function g(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.VectorSourceEvent=void 0;var m=g(B(110)),n=g(B(109));Ja=g(B(87));var E=g(B(91)),O=g(B(88)),x=g(B(240));qb=g(B(241));var y=g(B(98)),v=g(B(242)),l=B(76),k=B(243),d=B(79),f=B(83),a=B(75),e=B(77),p=B(89),A=B(92),C=B(244),D=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,H){K.__proto__=H}||function(K,
H){for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(K[R]=H[R])};return L(G,z)};return function(G,z){function K(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(K.prototype=z.prototype,new K)}}(),P=function(L){function G(z,K,H){z=L.call(this,z)||this;z.feature=K;z.features=H;return z}D(G,L);return G}(Ja["default"]);F.VectorSourceEvent=P;B=function(L){function G(z){var K=z||{};z=L.call(this,{attributions:K.attributions,projection:void 0,state:y["default"].READY,wrapX:void 0!==
K.wrapX?K.wrapX:!0})||this;z.loader_=l.VOID;z.format_=K.format;z.overlaps_=void 0===K.overlaps?!0:K.overlaps;z.url_=K.url;void 0!==K.loader?z.loader_=K.loader:void 0!==z.url_&&((0,d.assert)(z.format_,7),z.loader_=(0,C.xhr)(z.url_,z.format_));z.strategy_=void 0!==K.strategy?K.strategy:k.all;var H=void 0!==K.useSpatialIndex?K.useSpatialIndex:!0;z.featuresRtree_=H?new x["default"]:null;z.loadedExtentsRtree_=new x["default"];z.nullGeometryFeatures_={};z.idIndex_={};z.uidIndex_={};z.featureChangeKeys_=
{};z.featuresCollection_=null;if(Array.isArray(K.features))var R=K.features;else if(K.features){var U=K.features;R=U.getArray()}H||void 0!==U||(U=new m["default"](R));void 0!==R&&z.addFeaturesInternal(R);void 0!==U&&z.bindFeaturesCollection_(U);return z}D(G,L);G.prototype.addFeature=function(z){this.addFeatureInternal(z);this.changed()};G.prototype.addFeatureInternal=function(z){var K=(0,e.getUid)(z);if(this.addToIndex_(K,z)){this.setupChangeEvents_(K,z);var H=z.getGeometry();H?(K=H.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(K,z)):this.nullGeometryFeatures_[K]=z;this.dispatchEvent(new P(v["default"].ADDFEATURE,z))}else this.featuresCollection_&&this.featuresCollection_.remove(z)};G.prototype.setupChangeEvents_=function(z,K){this.featureChangeKeys_[z]=[(0,A.listen)(K,E["default"].CHANGE,this.handleFeatureChange_,this),(0,A.listen)(K,O["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};G.prototype.addToIndex_=function(z,K){var H=!0,R=K.getId();void 0!==R&&(R.toString()in this.idIndex_?
H=!1:this.idIndex_[R.toString()]=K);H&&((0,d.assert)(!(z in this.uidIndex_),30),this.uidIndex_[z]=K);return H};G.prototype.addFeatures=function(z){this.addFeaturesInternal(z);this.changed()};G.prototype.addFeaturesInternal=function(z){for(var K=[],H=[],R=[],U=0,ka=z.length;U<ka;U++){var ba=z[U],fa=(0,e.getUid)(ba);this.addToIndex_(fa,ba)&&H.push(ba)}U=0;for(z=H.length;U<z;U++)ba=H[U],fa=(0,e.getUid)(ba),this.setupChangeEvents_(fa,ba),(ka=ba.getGeometry())?(fa=ka.getExtent(),K.push(fa),R.push(ba)):
this.nullGeometryFeatures_[fa]=ba;this.featuresRtree_&&this.featuresRtree_.load(K,R);U=0;for(K=H.length;U<K;U++)this.dispatchEvent(new P(v["default"].ADDFEATURE,H[U]))};G.prototype.bindFeaturesCollection_=function(z){var K=!1;this.addEventListener(v["default"].ADDFEATURE,function(H){K||(K=!0,z.push(H.feature),K=!1)});this.addEventListener(v["default"].REMOVEFEATURE,function(H){K||(K=!0,z.remove(H.feature),K=!1)});z.addEventListener(n["default"].ADD,function(H){K||(K=!0,this.addFeature(H.element),
K=!1)}.bind(this));z.addEventListener(n["default"].REMOVE,function(H){K||(K=!0,this.removeFeature(H.element),K=!1)}.bind(this));this.featuresCollection_=z};G.prototype.clear=function(z){if(z){for(var K in this.featureChangeKeys_)this.featureChangeKeys_[K].forEach(A.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var H in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[H])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};z=new P(v["default"].CLEAR);this.dispatchEvent(z);this.changed()};G.prototype.forEachFeature=function(z){if(this.featuresRtree_)return this.featuresRtree_.forEach(z);this.featuresCollection_&&this.featuresCollection_.forEach(z)};G.prototype.forEachFeatureAtCoordinateDirect=function(z,K){return this.forEachFeatureInExtent([z[0],z[1],z[0],z[1]],function(H){if(H.getGeometry().intersectsCoordinate(z))return K(H)})};
G.prototype.forEachFeatureInExtent=function(z,K){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(z,K);this.featuresCollection_&&this.featuresCollection_.forEach(K)};G.prototype.forEachFeatureIntersectingExtent=function(z,K){return this.forEachFeatureInExtent(z,function(H){if(H.getGeometry().intersectsExtent(z)&&(H=K(H)))return H})};G.prototype.getFeaturesCollection=function(){return this.featuresCollection_};G.prototype.getFeatures=function(){if(this.featuresCollection_)var z=this.featuresCollection_.getArray();
else this.featuresRtree_&&(z=this.featuresRtree_.getAll(),(0,p.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(z,(0,p.getValues)(this.nullGeometryFeatures_)));return z};G.prototype.getFeaturesAtCoordinate=function(z){var K=[];this.forEachFeatureAtCoordinateDirect(z,function(H){K.push(H)});return K};G.prototype.getFeaturesInExtent=function(z){return this.featuresRtree_?this.featuresRtree_.getInExtent(z):this.featuresCollection_?this.featuresCollection_.getArray():[]};G.prototype.getClosestFeatureToCoordinate=
function(z,K){var H=z[0],R=z[1],U=null,ka=[NaN,NaN],ba=Infinity,fa=[-Infinity,-Infinity,Infinity,Infinity],ja=K?K:l.TRUE;this.featuresRtree_.forEachInExtent(fa,function(Z){if(ja(Z)){var Q=Z.getGeometry(),q=ba;ba=Q.closestPointXY(H,R,ka,ba);ba<q&&(U=Z,Z=Math.sqrt(ba),fa[0]=H-Z,fa[1]=R-Z,fa[2]=H+Z,fa[3]=R+Z)}});return U};G.prototype.getExtent=function(z){return this.featuresRtree_.getExtent(z)};G.prototype.getFeatureById=function(z){z=this.idIndex_[z.toString()];return void 0!==z?z:null};G.prototype.getFeatureByUid=
function(z){z=this.uidIndex_[z];return void 0!==z?z:null};G.prototype.getFormat=function(){return this.format_};G.prototype.getOverlaps=function(){return this.overlaps_};G.prototype.getUrl=function(){return this.url_};G.prototype.handleFeatureChange_=function(z){z=z.target;var K=(0,e.getUid)(z),H=z.getGeometry();H?(H=H.getExtent(),K in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[K],this.featuresRtree_&&this.featuresRtree_.insert(H,z)):this.featuresRtree_&&this.featuresRtree_.update(H,
z)):K in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(z),this.nullGeometryFeatures_[K]=z);H=z.getId();void 0!==H?(K=H.toString(),this.idIndex_[K]!==z&&(this.removeFromIdIndex_(z),this.idIndex_[K]=z)):(this.removeFromIdIndex_(z),this.uidIndex_[K]=z);this.changed();this.dispatchEvent(new P(v["default"].CHANGEFEATURE,z))};G.prototype.hasFeature=function(z){var K=z.getId();return void 0!==K?K in this.idIndex_:(0,e.getUid)(z)in this.uidIndex_};G.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,p.isEmpty)(this.nullGeometryFeatures_)};G.prototype.loadFeatures=function(z,K,H){var R=this.loadedExtentsRtree_,U=this.strategy_(z,K);this.loading=!1;z=function(ja,Z){var Q=U[ja];R.forEachInExtent(Q,function(q){return(0,f.containsExtent)(q.extent,Q)})||(ka.dispatchEvent(new P(v["default"].FEATURESLOADSTART)),ka.loader_.call(ka,Q,K,H,function(q){this.dispatchEvent(new P(v["default"].FEATURESLOADEND,void 0,q))}.bind(ka),function(){this.dispatchEvent(new P(v["default"].FEATURESLOADERROR))}.bind(ka)),
R.insert(Q,{extent:Q.slice()}),ka.loading=ka.loader_!==l.VOID)};for(var ka=this,ba=0,fa=U.length;ba<fa;++ba)z(ba,fa)};G.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();L.prototype.refresh.call(this)};G.prototype.removeLoadedExtent=function(z){var K=this.loadedExtentsRtree_,H;K.forEachInExtent(z,function(R){if((0,f.equals)(R.extent,z))return H=R,!0});H&&K.remove(H)};G.prototype.removeFeature=function(z){var K=(0,e.getUid)(z);K in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[K]:
this.featuresRtree_&&this.featuresRtree_.remove(z);this.removeFeatureInternal(z);this.changed()};G.prototype.removeFeatureInternal=function(z){var K=(0,e.getUid)(z);this.featureChangeKeys_[K].forEach(A.unlistenByKey);delete this.featureChangeKeys_[K];var H=z.getId();void 0!==H&&delete this.idIndex_[H.toString()];delete this.uidIndex_[K];this.dispatchEvent(new P(v["default"].REMOVEFEATURE,z))};G.prototype.removeFromIdIndex_=function(z){var K=!1,H;for(H in this.idIndex_)if(this.idIndex_[H]===z){delete this.idIndex_[H];
K=!0;break}return K};G.prototype.setLoader=function(z){this.loader_=z};G.prototype.setUrl=function(z){(0,d.assert)(this.format_,7);this.setLoader((0,C.xhr)(z,this.format_))};return G}(qb["default"]);F["default"]=B};
shadow$provide[246]=function(Ja,B,qb,F){function g(Z){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"===typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};return g(Z)}function m(){if("function"!==typeof WeakMap)return null;var Z=new WeakMap;m=function(){return Z};return Z}function n(Z){return Z&&Z.__esModule?Z:{"default":Z}}function E(){var Z=(0,H.createEditingStyle)();return function(Q,q){return Z[Q.getGeometry().getType()]}}
function O(Z){if(Z===l["default"].POINT||Z===l["default"].MULTI_POINT)var Q=fa.POINT;else Z===l["default"].LINE_STRING||Z===l["default"].MULTI_LINE_STRING?Q=fa.LINE_STRING:Z===l["default"].POLYGON||Z===l["default"].MULTI_POLYGON?Q=fa.POLYGON:Z===l["default"].CIRCLE&&(Q=fa.CIRCLE);return Q}Object.defineProperty(F,"__esModule",{value:!0});F.createRegularPolygon=function(Z,Q){return function(q,N,da){var aa=(0,R.fromUserCoordinate)(q[0],da);q=(0,R.fromUserCoordinate)(q[q.length-1],da);var wa=Math.sqrt((0,
ka.squaredDistance)(aa,q));N=N?N:(0,D.fromCircle)(new x["default"](aa),Z);var ua=Q;Q||0===Q||(ua=Math.atan2(q[1]-aa[1],q[0]-aa[0]));(0,D.makeRegular)(N,aa,wa,ua);(aa=(0,R.getUserProjection)())&&N.transform(da,aa);return N}};F.createBox=function(){return function(Z,Q,q){Z=(0,K.boundingExtent)([Z[0],Z[Z.length-1]].map(function(N){return(0,R.fromUserCoordinate)(N,q)}));Z=[[(0,K.getBottomLeft)(Z),(0,K.getBottomRight)(Z),(0,K.getTopRight)(Z),(0,K.getTopLeft)(Z),(0,K.getBottomLeft)(Z)]];Q?Q.setCoordinates(Z):
Q=new D["default"](Z);(Z=(0,R.getUserProjection)())&&Q.transform(q,Z);return Q}};F["default"]=F.DrawEvent=void 0;var x=n(B(192));Ja=n(B(87));var y=n(B(91)),v=n(B(193)),l=n(B(122)),k=n(B(172)),d=n(B(196)),f=n(B(113)),a=n(B(114)),e=n(B(197)),p=n(B(198)),A=n(B(200)),C=n(B(148));qb=n(B(175));var D=function(Z){if(Z&&Z.__esModule)return Z;if(null===Z||"object"!==g(Z)&&"function"!==typeof Z)return{"default":Z};var Q=m();if(Q&&Q.has(Z))return Q.get(Z);var q={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor,
da;for(da in Z)if(Object.prototype.hasOwnProperty.call(Z,da)){var aa=N?Object.getOwnPropertyDescriptor(Z,da):null;aa&&(aa.get||aa.set)?Object.defineProperty(q,da,aa):q[da]=Z[da]}q["default"]=Z;Q&&Q.set(Z,q);return q}(B(155)),P=n(B(239)),L=n(B(245)),G=B(76),z=B(176),K=B(83),H=B(209),R=B(133),U=B(94),ka=B(101),ba=function(){var Z=function(Q,q){Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,da){N.__proto__=da}||function(N,da){for(var aa in da)Object.prototype.hasOwnProperty.call(da,
aa)&&(N[aa]=da[aa])};return Z(Q,q)};return function(Q,q){function N(){this.constructor=Q}Z(Q,q);Q.prototype=null===q?Object.create(q):(N.prototype=q.prototype,new N)}}(),fa={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ja=function(Z){function Q(q,N){q=Z.call(this,q)||this;q.feature=N;return q}ba(Q,Z);return Q}(Ja["default"]);F.DrawEvent=ja;B=function(Z){function Q(q){var N=this;q.stopDown||(q.stopDown=G.FALSE);N=Z.call(this,q)||this;N.shouldHandle_=!1;N.downPx_=null;N.freehand_=
!1;N.source_=q.source?q.source:null;N.features_=q.features?q.features:null;N.snapTolerance_=q.snapTolerance?q.snapTolerance:12;N.type_=q.type;N.mode_=O(N.type_);N.stopClick_=!!q.stopClick;N.minPoints_=q.minPoints?q.minPoints:N.mode_===fa.POLYGON?3:2;N.maxPoints_=N.mode_===fa.CIRCLE?2:q.maxPoints?q.maxPoints:Infinity;N.finishCondition_=q.finishCondition?q.finishCondition:G.TRUE;var da=q.geometryFunction;if(!da){var aa=N.mode_;if(aa===fa.CIRCLE)da=function(ua,Ea,$a){Ea=Ea?Ea:new x["default"]([NaN,NaN]);
var kb=(0,R.fromUserCoordinate)(ua[0],$a);ua=(0,ka.squaredDistance)(kb,(0,R.fromUserCoordinate)(ua[ua.length-1],$a));Ea.setCenterAndRadius(kb,Math.sqrt(ua));(ua=(0,R.getUserProjection)())&&Ea.transform($a,ua);return Ea};else{var wa;aa===fa.POINT?wa=C["default"]:aa===fa.LINE_STRING?wa=d["default"]:aa===fa.POLYGON&&(wa=D["default"]);da=function(ua,Ea,$a){Ea?aa===fa.POLYGON?ua[0].length?Ea.setCoordinates([ua[0].concat([ua[0][0]])]):Ea.setCoordinates([]):Ea.setCoordinates(ua):Ea=new wa(ua);return Ea}}}N.geometryFunction_=
da;N.dragVertexDelay_=void 0!==q.dragVertexDelay?q.dragVertexDelay:500;N.finishCoordinate_=null;N.sketchFeature_=null;N.sketchPoint_=null;N.sketchCoords_=null;N.sketchLine_=null;N.sketchLineCoords_=null;N.squaredClickTolerance_=q.clickTolerance?q.clickTolerance*q.clickTolerance:36;N.overlay_=new P["default"]({source:new L["default"]({useSpatialIndex:!1,wrapX:q.wrapX?q.wrapX:!1}),style:q.style?q.style:E(),updateWhileInteracting:!0});N.geometryName_=q.geometryName;N.condition_=q.condition?q.condition:
z.noModifierKeys;N.freehandCondition_=q.freehand?z.always:q.freehandCondition?q.freehandCondition:z.shiftKeyOnly;N.addEventListener((0,U.getChangeEventType)(k["default"].ACTIVE),N.updateState_);return N}ba(Q,Z);Q.prototype.setMap=function(q){Z.prototype.setMap.call(this,q);this.updateState_()};Q.prototype.getOverlay=function(){return this.overlay_};Q.prototype.handleEvent=function(q){q.originalEvent.type===y["default"].CONTEXTMENU&&q.originalEvent.preventDefault();this.freehand_=this.mode_!==fa.POINT&&
this.freehandCondition_(q);var N=q.type===a["default"].POINTERMOVE,da=!0;!this.freehand_&&this.lastDragTime_&&q.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=q.pixel,this.shouldHandle_=!this.freehand_,N=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&q.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(q.coordinate),
da=!1):this.freehand_&&q.type===a["default"].POINTERDOWN?da=!1:N&&2>this.getPointerCount()?(da=q.type===a["default"].POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(q),this.shouldHandle_&&q.originalEvent.preventDefault()):("mouse"===q.originalEvent.pointerType||q.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(q):q.type===a["default"].DBLCLICK&&(da=!1);return Z.prototype.handleEvent.call(this,q)&&da};Q.prototype.handleDownEvent=function(q){this.shouldHandle_=
!this.freehand_;if(this.freehand_)return this.downPx_=q.pixel,this.finishCoordinate_||this.startDrawing_(q.coordinate),!0;if(this.condition_(q))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new f["default"](a["default"].POINTERMOVE,q.map,q.originalEvent,!1,q.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=q.pixel,!0;this.lastDragTime_=void 0;return!1};Q.prototype.handleUpEvent=function(q){var N=!0;if(0===this.getPointerCount())if(this.downTimeout_&&
(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(q),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(q.coordinate),this.mode_!==fa.POINT)break;case this.freehand_||this.atFinish_(q.pixel)&&this.finishCondition_(q):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(q.coordinate)}N=!1}else this.freehand_&&this.abortDrawing();!N&&this.stopClick_&&q.originalEvent.stopPropagation();return N};Q.prototype.handlePointerMove_=
function(q){this.pointerType_=q.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var N=this.downPx_,da=q.pixel,aa=N[0]-da[0];N=N[1]-da[1];aa=aa*aa+N*N;this.shouldHandle_=this.freehand_?aa>this.squaredClickTolerance_:aa<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(q.coordinate):this.createOrUpdateSketchPoint_(q)};Q.prototype.atFinish_=function(q){var N=!1;if(this.sketchFeature_){var da=
!1,aa=[this.finishCoordinate_],wa=this.mode_;wa===fa.POINT?N=!0:wa===fa.CIRCLE?N=2===this.sketchCoords_.length:wa===fa.LINE_STRING?da=this.sketchCoords_.length>this.minPoints_:wa===fa.POLYGON&&(aa=this.sketchCoords_,da=aa[0].length>this.minPoints_,aa=[aa[0][0],aa[0][aa[0].length-2]]);if(da){da=this.getMap();wa=0;for(var ua=aa.length;wa<ua;wa++){var Ea=aa[wa],$a=da.getPixelFromCoordinate(Ea);N=q[0]-$a[0];$a=q[1]-$a[1];if(N=Math.sqrt(N*N+$a*$a)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=
Ea;break}}}}return N};Q.prototype.createOrUpdateSketchPoint_=function(q){q=q.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(q):(this.sketchPoint_=new v["default"](new C["default"](q)),this.updateSketchFeatures_())};Q.prototype.createOrUpdateCustomSketchLine_=function(q){this.sketchLine_||(this.sketchLine_=new v["default"]);q=q.getLinearRing(0);var N=this.sketchLine_.getGeometry();N?(N.setFlatCoordinates(q.getLayout(),q.getFlatCoordinates()),N.changed()):(N=new d["default"](q.getFlatCoordinates(),
q.getLayout()),this.sketchLine_.setGeometry(N))};Q.prototype.startDrawing_=function(q){var N=this.getMap().getView().getProjection();this.finishCoordinate_=q;this.mode_===fa.POINT?this.sketchCoords_=q.slice():this.mode_===fa.POLYGON?(this.sketchCoords_=[[q.slice(),q.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[q.slice(),q.slice()];this.sketchLineCoords_&&(this.sketchLine_=new v["default"](new d["default"](this.sketchLineCoords_)));q=this.geometryFunction_(this.sketchCoords_,
void 0,N);this.sketchFeature_=new v["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(q);this.updateSketchFeatures_();this.dispatchEvent(new ja("drawstart",this.sketchFeature_))};Q.prototype.modifyDrawing_=function(q){var N=this.getMap(),da=this.sketchFeature_.getGeometry(),aa=N.getView().getProjection();if(this.mode_===fa.POINT)var wa=this.sketchCoords_;else this.mode_===fa.POLYGON?(wa=this.sketchCoords_[0],wa=wa[wa.length-1],this.atFinish_(N.getPixelFromCoordinate(q))&&
(q=this.finishCoordinate_.slice())):(wa=this.sketchCoords_,wa=wa[wa.length-1]);wa[0]=q[0];wa[1]=q[1];this.geometryFunction_(this.sketchCoords_,da,aa);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(q);da.getType()===l["default"].POLYGON&&this.mode_!==fa.POLYGON?this.createOrUpdateCustomSketchLine_(da):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};Q.prototype.addToDrawing_=function(q){var N=this.sketchFeature_.getGeometry(),
da=this.getMap().getView().getProjection(),aa;var wa=this.mode_;wa===fa.LINE_STRING||wa===fa.CIRCLE?(this.finishCoordinate_=q.slice(),wa=this.sketchCoords_,wa.length>=this.maxPoints_&&(this.freehand_?wa.pop():aa=!0),wa.push(q.slice()),this.geometryFunction_(wa,N,da)):wa===fa.POLYGON&&(wa=this.sketchCoords_[0],wa.length>=this.maxPoints_&&(this.freehand_?wa.pop():aa=!0),wa.push(q.slice()),aa&&(this.finishCoordinate_=wa[0]),this.geometryFunction_(this.sketchCoords_,N,da));this.updateSketchFeatures_();
aa&&this.finishDrawing()};Q.prototype.removeLastPoint=function(){if(this.sketchFeature_){var q=this.sketchFeature_.getGeometry(),N=this.getMap().getView().getProjection(),da=this.mode_;if(da===fa.LINE_STRING||da===fa.CIRCLE){var aa=this.sketchCoords_;aa.splice(-2,1);2<=aa.length&&(this.finishCoordinate_=aa[aa.length-2].slice(),da=this.finishCoordinate_.slice(),aa[aa.length-1]=da,this.sketchPoint_.setGeometry(new C["default"](da)));this.geometryFunction_(aa,q,N);q.getType()===l["default"].POLYGON&&
this.sketchLine_&&this.createOrUpdateCustomSketchLine_(q)}else if(da===fa.POLYGON){aa=this.sketchCoords_[0];aa.splice(-2,1);var wa=this.sketchLine_.getGeometry();2<=aa.length&&(da=aa[aa.length-2].slice(),aa[aa.length-1]=da,this.sketchPoint_.setGeometry(new C["default"](da)));wa.setCoordinates(aa);this.geometryFunction_(this.sketchCoords_,q,N)}1===aa.length&&this.abortDrawing();this.updateSketchFeatures_()}};Q.prototype.finishDrawing=function(){var q=this.abortDrawing_();if(q){var N=this.sketchCoords_,
da=q.getGeometry(),aa=this.getMap().getView().getProjection();this.mode_===fa.LINE_STRING?(N.pop(),this.geometryFunction_(N,da,aa)):this.mode_===fa.POLYGON&&(N[0].pop(),this.geometryFunction_(N,da,aa),N=da.getCoordinates());this.type_===l["default"].MULTI_POINT?q.setGeometry(new p["default"]([N])):this.type_===l["default"].MULTI_LINE_STRING?q.setGeometry(new e["default"]([N])):this.type_===l["default"].MULTI_POLYGON&&q.setGeometry(new A["default"]([N]));this.dispatchEvent(new ja("drawend",q));this.features_&&
this.features_.push(q);this.source_&&this.source_.addFeature(q)}};Q.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var q=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return q};Q.prototype.abortDrawing=function(){var q=this.abortDrawing_();q&&this.dispatchEvent(new ja("drawabort",q))};Q.prototype.appendCoordinates=function(q){var N=this.mode_,da=!this.sketchFeature_;da&&this.startDrawing_(q[0]);if(N===fa.LINE_STRING||
N===fa.CIRCLE)N=this.sketchCoords_;else if(N===fa.POLYGON)N=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;da&&N.shift();N.pop();for(da=0;da<q.length;da++)this.addToDrawing_(q[da]);q=q[q.length-1];this.addToDrawing_(q);this.modifyDrawing_(q)};Q.prototype.extend=function(q){var N=q.getGeometry();this.sketchFeature_=q;this.sketchCoords_=N.getCoordinates();q=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=q.slice();this.sketchCoords_.push(q.slice());
this.sketchPoint_=new v["default"](new C["default"](q));this.updateSketchFeatures_();this.dispatchEvent(new ja("drawstart",this.sketchFeature_))};Q.prototype.updateSketchFeatures_=function(){var q=[];this.sketchFeature_&&q.push(this.sketchFeature_);this.sketchLine_&&q.push(this.sketchLine_);this.sketchPoint_&&q.push(this.sketchPoint_);var N=this.overlay_.getSource();N.clear(!0);N.addFeatures(q)};Q.prototype.updateState_=function(){var q=this.getMap(),N=this.getActive();q&&N||this.abortDrawing();this.overlay_.setMap(N?
q:null)};return Q}(qb["default"]);F["default"]=B};
shadow$provide[247]=function(Ja,B,qb,F){function g(L){return L&&L.__esModule?L:{"default":L}}function m(){var L=(0,p.createEditingStyle)();return function(G,z){return L[y["default"].POLYGON]}}function n(){var L=(0,p.createEditingStyle)();return function(G,z){return L[y["default"].POINT]}}function E(L){return function(G){return(0,a.boundingExtent)([L,G])}}function O(L,G){return L[0]==G[0]?function(z){return(0,a.boundingExtent)([L,[z[0],G[1]]])}:L[1]==G[1]?function(z){return(0,a.boundingExtent)([L,
[G[0],z[1]]])}:null}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.ExtentEvent=void 0;Ja=g(B(87));var x=g(B(193)),y=g(B(122)),v=g(B(114)),l=g(B(148));qb=g(B(175));var k=g(B(239)),d=g(B(245)),f=B(176),a=B(83),e=B(101),p=B(209),A=B(155),C=B(133),D=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,H){K.__proto__=H}||function(K,H){for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(K[R]=H[R])};return L(G,z)};return function(G,z){function K(){this.constructor=
G}L(G,z);G.prototype=null===z?Object.create(z):(K.prototype=z.prototype,new K)}}(),P=function(L){function G(z){var K=L.call(this,"extentchanged")||this;K.extent=z;return K}D(G,L);return G}(Ja["default"]);F.ExtentEvent=P;B=function(L){function G(z){var K=z||{};var H=L.call(this,K)||this;H.condition_=K.condition?K.condition:f.always;H.extent_=null;H.pointerHandler_=null;H.pixelTolerance_=void 0!==K.pixelTolerance?K.pixelTolerance:10;H.snappedToVertex_=!1;H.extentFeature_=null;H.vertexFeature_=null;
z||(z={});H.extentOverlay_=new k["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.boxStyle?z.boxStyle:m(),updateWhileAnimating:!0,updateWhileInteracting:!0});H.vertexOverlay_=new k["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.pointerStyle?z.pointerStyle:n(),updateWhileAnimating:!0,updateWhileInteracting:!0});z.extent&&H.setExtent(z.extent);return H}D(G,L);G.prototype.snapToVertex_=function(z,K){var H=K.getCoordinateFromPixelInternal(z),
R=function(ba,fa){return(0,e.squaredDistanceToSegment)(H,ba)-(0,e.squaredDistanceToSegment)(H,fa)},U=this.getExtentInternal();if(U){U=[[[U[0],U[1]],[U[0],U[3]]],[[U[0],U[3]],[U[2],U[3]]],[[U[2],U[3]],[U[2],U[1]]],[[U[2],U[1]],[U[0],U[1]]]];U.sort(R);R=U[0];U=(0,e.closestOnSegment)(H,R);var ka=K.getPixelFromCoordinateInternal(U);if((0,e.distance)(z,ka)<=this.pixelTolerance_)return z=K.getPixelFromCoordinateInternal(R[0]),K=K.getPixelFromCoordinateInternal(R[1]),z=(0,e.squaredDistance)(ka,z),K=(0,e.squaredDistance)(ka,
K),(this.snappedToVertex_=Math.sqrt(Math.min(z,K))<=this.pixelTolerance_)&&(U=z>K?R[1]:R[0]),U}return null};G.prototype.handlePointerMove_=function(z){var K=z.pixel;z=z.map;var H=this.snapToVertex_(K,z);H||(H=z.getCoordinateFromPixelInternal(K));this.createOrUpdatePointerFeature_(H)};G.prototype.createOrUpdateExtentFeature_=function(z){var K=this.extentFeature_;K?z?K.setGeometry((0,A.fromExtent)(z)):K.setGeometry(void 0):(this.extentFeature_=K=z?new x["default"]((0,A.fromExtent)(z)):new x["default"]({}),
this.extentOverlay_.getSource().addFeature(K));return K};G.prototype.createOrUpdatePointerFeature_=function(z){var K=this.vertexFeature_;K?K.getGeometry().setCoordinates(z):(this.vertexFeature_=K=new x["default"](new l["default"](z)),this.vertexOverlay_.getSource().addFeature(K));return K};G.prototype.handleEvent=function(z){if(!z.originalEvent||!this.condition_(z))return!0;z.type!=v["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(z);L.prototype.handleEvent.call(this,
z);return!1};G.prototype.handleDownEvent=function(z){var K=z.pixel,H=z.map,R=this.getExtentInternal();z=this.snapToVertex_(K,H);var U=function(ka){var ba=null,fa=null;ka[0]==R[0]?ba=R[2]:ka[0]==R[2]&&(ba=R[0]);ka[1]==R[1]?fa=R[3]:ka[1]==R[3]&&(fa=R[1]);return null!==ba&&null!==fa?[ba,fa]:null};z&&R?(K=z[0]==R[0]||z[0]==R[2]?z[0]:null,H=z[1]==R[1]||z[1]==R[3]?z[1]:null,null!==K&&null!==H?this.pointerHandler_=E(U(z)):null!==K?this.pointerHandler_=O(U([K,R[1]]),U([K,R[3]])):null!==H&&(this.pointerHandler_=
O(U([R[0],H]),U([R[2],H])))):(z=H.getCoordinateFromPixelInternal(K),this.setExtent([z[0],z[1],z[0],z[1]]),this.pointerHandler_=E(z));return!0};G.prototype.handleDragEvent=function(z){this.pointerHandler_&&(z=z.coordinate,this.setExtent(this.pointerHandler_(z)),this.createOrUpdatePointerFeature_(z))};G.prototype.handleUpEvent=function(z){this.pointerHandler_=null;(z=this.getExtentInternal())&&0!==(0,a.getArea)(z)||this.setExtent(null);return!1};G.prototype.setMap=function(z){this.extentOverlay_.setMap(z);
this.vertexOverlay_.setMap(z);L.prototype.setMap.call(this,z)};G.prototype.getExtent=function(){return(0,C.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};G.prototype.getExtentInternal=function(){return this.extent_};G.prototype.setExtent=function(z){this.extent_=z?z:null;this.createOrUpdateExtentFeature_(z);this.dispatchEvent(new P(this.extent_))};return G}(qb["default"]);F["default"]=B};
shadow$provide[248]=function(Ja,B,qb,F){function g(ja){return ja&&ja.__esModule?ja:{"default":ja}}function m(ja){m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"===typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z};return m(ja)}function n(ja,Z){return ja.index-Z.index}function E(ja,Z,Q){var q=Z.geometry;if(q.getType()===d["default"].CIRCLE&&1===Z.index)return(Z=(0,H.getUserProjection)())&&(q=q.clone().transform(Z,
Q)),Q=(0,L.squaredDistance)(q.getCenter(),(0,H.fromUserCoordinate)(ja,Q)),Q=Math.sqrt(Q)-q.getRadius(),Q*Q;ja=(0,H.fromUserCoordinate)(ja,Q);ba[0]=(0,H.fromUserCoordinate)(Z.segment[0],Q);ba[1]=(0,H.fromUserCoordinate)(Z.segment[1],Q);return(0,L.squaredDistanceToSegment)(ja,ba)}function O(ja,Z,Q){var q=Z.geometry;if(q.getType()===d["default"].CIRCLE&&1===Z.index)return Z=q,(q=(0,H.getUserProjection)())&&(Z=Z.clone().transform(q,Q)),(0,H.toUserCoordinate)(Z.getClosestPoint((0,H.fromUserCoordinate)(ja,
Q)),Q);ja=(0,H.fromUserCoordinate)(ja,Q);ba[0]=(0,H.fromUserCoordinate)(Z.segment[0],Q);ba[1]=(0,H.fromUserCoordinate)(Z.segment[1],Q);return(0,H.toUserCoordinate)((0,L.closestOnSegment)(ja,ba),Q)}function x(){var ja=(0,G.createEditingStyle)();return function(Z,Q){return ja[d["default"].POINT]}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.ModifyEvent=void 0;var y=g(B(110)),v=g(B(109));Ja=g(B(87));var l=g(B(91)),k=g(B(193)),d=g(B(122)),f=g(B(114)),a=g(B(148));qb=g(B(175));var e=
g(B(240)),p=g(B(242)),A=g(B(239)),C=g(B(245)),D=B(176),P=B(83),L=B(101),G=B(209),z=B(75),K=B(155),H=B(133),R=B(77),U=function(){var ja=function(Z,Q){ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,N){q.__proto__=N}||function(q,N){for(var da in N)Object.prototype.hasOwnProperty.call(N,da)&&(q[da]=N[da])};return ja(Z,Q)};return function(Z,Q){function q(){this.constructor=Z}ja(Z,Q);Z.prototype=null===Q?Object.create(Q):(q.prototype=Q.prototype,new q)}}(),ka=[0,0,0,0],ba=[],fa=function(ja){function Z(Q,
q,N){Q=ja.call(this,Q)||this;Q.features=q;Q.mapBrowserEvent=N;return Q}U(Z,ja);return Z}(Ja["default"]);F.ModifyEvent=fa;B=function(ja){function Z(Q){var q=ja.call(this,Q)||this;q.boundHandleFeatureChange_=q.handleFeatureChange_.bind(q);q.condition_=Q.condition?Q.condition:D.primaryAction;q.defaultDeleteCondition_=function(da){return(0,D.altKeyOnly)(da)&&(0,D.singleClick)(da)};q.deleteCondition_=Q.deleteCondition?Q.deleteCondition:q.defaultDeleteCondition_;q.insertVertexCondition_=Q.insertVertexCondition?
Q.insertVertexCondition:D.always;q.vertexFeature_=null;q.vertexSegments_=null;q.lastPixel_=[0,0];q.ignoreNextSingleClick_=!1;q.featuresBeingModified_=null;q.rBush_=new e["default"];q.pixelTolerance_=void 0!==Q.pixelTolerance?Q.pixelTolerance:10;q.snappedToVertex_=!1;q.changingFeature_=!1;q.dragSegments_=[];q.overlay_=new A["default"]({source:new C["default"]({useSpatialIndex:!1,wrapX:!!Q.wrapX}),style:Q.style?Q.style:x(),updateWhileAnimating:!0,updateWhileInteracting:!0});q.SEGMENT_WRITERS_={Point:q.writePointGeometry_.bind(q),
LineString:q.writeLineStringGeometry_.bind(q),LinearRing:q.writeLineStringGeometry_.bind(q),Polygon:q.writePolygonGeometry_.bind(q),MultiPoint:q.writeMultiPointGeometry_.bind(q),MultiLineString:q.writeMultiLineStringGeometry_.bind(q),MultiPolygon:q.writeMultiPolygonGeometry_.bind(q),Circle:q.writeCircleGeometry_.bind(q),GeometryCollection:q.writeGeometryCollectionGeometry_.bind(q)};q.source_=null;q.hitDetection_=null;if(Q.features)var N=Q.features;else Q.source&&(q.source_=Q.source,N=new y["default"](q.source_.getFeatures()),
q.source_.addEventListener(p["default"].ADDFEATURE,q.handleSourceAdd_.bind(q)),q.source_.addEventListener(p["default"].REMOVEFEATURE,q.handleSourceRemove_.bind(q)));if(!N)throw Error("The modify interaction requires features, a source or a layer");Q.hitDetection&&(q.hitDetection_=Q.hitDetection);q.features_=N;q.features_.forEach(q.addFeature_.bind(q));q.features_.addEventListener(v["default"].ADD,q.handleFeatureAdd_.bind(q));q.features_.addEventListener(v["default"].REMOVE,q.handleFeatureRemove_.bind(q));
q.lastPointerEvent_=null;q.delta_=[0,0];return q}U(Z,ja);Z.prototype.addFeature_=function(Q){var q=Q.getGeometry();if(q){var N=this.SEGMENT_WRITERS_[q.getType()];N&&N(Q,q)}(q=this.getMap())&&q.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,q);Q.addEventListener(l["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.willModifyFeatures_=function(Q,q){if(!this.featuresBeingModified_){this.featuresBeingModified_=new y["default"];for(var N=this.featuresBeingModified_.getArray(),
da=0,aa=q.length;da<aa;++da){var wa=q[da][0].feature;-1===N.indexOf(wa)&&this.featuresBeingModified_.push(wa)}this.dispatchEvent(new fa("modifystart",this.featuresBeingModified_,Q))}};Z.prototype.removeFeature_=function(Q){this.removeFeatureSegmentData_(Q);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);Q.removeEventListener(l["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.removeFeatureSegmentData_=
function(Q){var q=this.rBush_,N=[];q.forEach(function(ua){Q===ua.feature&&N.push(ua)});for(var da=N.length-1;0<=da;--da){for(var aa=N[da],wa=this.dragSegments_.length-1;0<=wa;--wa)this.dragSegments_[wa][0]===aa&&this.dragSegments_.splice(wa,1);q.remove(aa)}};Z.prototype.setActive=function(Q){this.vertexFeature_&&!Q&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);ja.prototype.setActive.call(this,Q)};Z.prototype.setMap=function(Q){this.overlay_.setMap(Q);ja.prototype.setMap.call(this,
Q)};Z.prototype.getOverlay=function(){return this.overlay_};Z.prototype.handleSourceAdd_=function(Q){Q.feature&&this.features_.push(Q.feature)};Z.prototype.handleSourceRemove_=function(Q){Q.feature&&this.features_.remove(Q.feature)};Z.prototype.handleFeatureAdd_=function(Q){this.addFeature_(Q.element)};Z.prototype.handleFeatureChange_=function(Q){this.changingFeature_||(Q=Q.target,this.removeFeature_(Q),this.addFeature_(Q))};Z.prototype.handleFeatureRemove_=function(Q){this.removeFeature_(Q.element)};
Z.prototype.writePointGeometry_=function(Q,q){var N=q.getCoordinates();Q={feature:Q,geometry:q,segment:[N,N]};this.rBush_.insert(q.getExtent(),Q)};Z.prototype.writeMultiPointGeometry_=function(Q,q){for(var N=q.getCoordinates(),da=0,aa=N.length;da<aa;++da){var wa=N[da];wa={feature:Q,geometry:q,depth:[da],index:da,segment:[wa,wa]};this.rBush_.insert(q.getExtent(),wa)}};Z.prototype.writeLineStringGeometry_=function(Q,q){for(var N=q.getCoordinates(),da=0,aa=N.length-1;da<aa;++da){var wa=N.slice(da,da+
2),ua={feature:Q,geometry:q,index:da,segment:wa};this.rBush_.insert((0,P.boundingExtent)(wa),ua)}};Z.prototype.writeMultiLineStringGeometry_=function(Q,q){for(var N=q.getCoordinates(),da=0,aa=N.length;da<aa;++da)for(var wa=N[da],ua=0,Ea=wa.length-1;ua<Ea;++ua){var $a=wa.slice(ua,ua+2),kb={feature:Q,geometry:q,depth:[da],index:ua,segment:$a};this.rBush_.insert((0,P.boundingExtent)($a),kb)}};Z.prototype.writePolygonGeometry_=function(Q,q){for(var N=q.getCoordinates(),da=0,aa=N.length;da<aa;++da)for(var wa=
N[da],ua=0,Ea=wa.length-1;ua<Ea;++ua){var $a=wa.slice(ua,ua+2),kb={feature:Q,geometry:q,depth:[da],index:ua,segment:$a};this.rBush_.insert((0,P.boundingExtent)($a),kb)}};Z.prototype.writeMultiPolygonGeometry_=function(Q,q){for(var N=q.getCoordinates(),da=0,aa=N.length;da<aa;++da)for(var wa=N[da],ua=0,Ea=wa.length;ua<Ea;++ua)for(var $a=wa[ua],kb=0,ta=$a.length-1;kb<ta;++kb){var Ta=$a.slice(kb,kb+2),Xa={feature:Q,geometry:q,depth:[ua,da],index:kb,segment:Ta};this.rBush_.insert((0,P.boundingExtent)(Ta),
Xa)}};Z.prototype.writeCircleGeometry_=function(Q,q){var N=q.getCenter(),da={feature:Q,geometry:q,index:0,segment:[N,N]};Q={feature:Q,geometry:q,index:1,segment:[N,N]};var aa=[da,Q];da.featureSegments=aa;Q.featureSegments=aa;this.rBush_.insert((0,P.createOrUpdateFromCoordinate)(N),da);(N=(0,H.getUserProjection)())&&this.getMap()&&(da=this.getMap().getView().getProjection(),q=q.clone().transform(N,da),q=(0,K.fromCircle)(q).transform(da,N));this.rBush_.insert(q.getExtent(),Q)};Z.prototype.writeGeometryCollectionGeometry_=
function(Q,q){q=q.getGeometriesArray();for(var N=0;N<q.length;++N){var da=q[N];(0,this.SEGMENT_WRITERS_[da.getType()])(Q,da)}};Z.prototype.createOrUpdateVertexFeature_=function(Q,q,N){var da=this.vertexFeature_;da?da.getGeometry().setCoordinates(Q):(this.vertexFeature_=da=new k["default"](new a["default"](Q)),this.overlay_.getSource().addFeature(da));da.set("features",q);da.set("geometries",N);return da};Z.prototype.handleEvent=function(Q){if(!Q.originalEvent)return!0;this.lastPointerEvent_=Q;var q;
Q.map.getView().getInteracting()||Q.type!=f["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(Q);this.vertexFeature_&&this.deleteCondition_(Q)&&(q=Q.type==f["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());Q.type==f["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return ja.prototype.handleEvent.call(this,Q)&&!q};Z.prototype.handleDragEvent=function(Q){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(Q,this.dragSegments_);for(var q=
[Q.coordinate[0]+this.delta_[0],Q.coordinate[1]+this.delta_[1]],N=[],da=[],aa=0,wa=this.dragSegments_.length;aa<wa;++aa){var ua=this.dragSegments_[aa],Ea=ua[0],$a=Ea.feature;-1===N.indexOf($a)&&N.push($a);$a=Ea.geometry;-1===da.indexOf($a)&&da.push($a);var kb=Ea.depth,ta=void 0,Ta=Ea.segment;for(ua=ua[1];q.length<$a.getStride();)q.push(Ta[ua][q.length]);switch($a.getType()){case d["default"].POINT:ta=q;Ta[0]=q;Ta[1]=q;break;case d["default"].MULTI_POINT:ta=$a.getCoordinates();ta[Ea.index]=q;Ta[0]=
q;Ta[1]=q;break;case d["default"].LINE_STRING:ta=$a.getCoordinates();ta[Ea.index+ua]=q;Ta[ua]=q;break;case d["default"].MULTI_LINE_STRING:ta=$a.getCoordinates();ta[kb[0]][Ea.index+ua]=q;Ta[ua]=q;break;case d["default"].POLYGON:ta=$a.getCoordinates();ta[kb[0]][Ea.index+ua]=q;Ta[ua]=q;break;case d["default"].MULTI_POLYGON:ta=$a.getCoordinates();ta[kb[1]][kb[0]][Ea.index+ua]=q;Ta[ua]=q;break;case d["default"].CIRCLE:Ta[0]=q;Ta[1]=q;if(0===Ea.index)this.changingFeature_=!0,$a.setCenter(q);else{this.changingFeature_=
!0;Ea=Q.map.getView().getProjection();ua=(0,L.distance)((0,H.fromUserCoordinate)($a.getCenter(),Ea),(0,H.fromUserCoordinate)(q,Ea));if(kb=(0,H.getUserProjection)())Ta=$a.clone().transform(kb,Ea),Ta.setRadius(ua),ua=Ta.transform(Ea,kb).getRadius();$a.setRadius(ua)}this.changingFeature_=!1}ta&&this.setGeometryCoordinates_($a,ta)}this.createOrUpdateVertexFeature_(q,N,da)};Z.prototype.handleDownEvent=function(Q){if(!this.condition_(Q))return!1;var q=Q.coordinate;this.handlePointerAtPixel_(Q.pixel,Q.map,
q);this.dragSegments_.length=0;this.featuresBeingModified_=null;var N=this.vertexFeature_;if(N){var da=Q.map.getView().getProjection(),aa=[];N=N.getGeometry().getCoordinates();var wa=(0,P.boundingExtent)([N]);wa=this.rBush_.getInExtent(wa);var ua={};wa.sort(n);for(var Ea=0,$a=wa.length;Ea<$a;++Ea){var kb=wa[Ea],ta=kb.segment,Ta=(0,R.getUid)(kb.geometry),Xa=kb.depth;Xa&&(Ta+="-"+Xa.join("-"));ua[Ta]||(ua[Ta]=Array(2));if(kb.geometry.getType()===d["default"].CIRCLE&&1===kb.index)ta=O(q,kb,da),(0,L.equals)(ta,
N)&&!ua[Ta][0]&&(this.dragSegments_.push([kb,0]),ua[Ta][0]=kb);else if((0,L.equals)(ta[0],N)&&!ua[Ta][0])this.dragSegments_.push([kb,0]),ua[Ta][0]=kb;else if((0,L.equals)(ta[1],N)&&!ua[Ta][1]){if(kb.geometry.getType()!==d["default"].LINE_STRING&&kb.geometry.getType()!==d["default"].MULTI_LINE_STRING||!ua[Ta][0]||0!==ua[Ta][0].index)this.dragSegments_.push([kb,1]),ua[Ta][1]=kb}else(0,R.getUid)(ta)in this.vertexSegments_&&!ua[Ta][0]&&!ua[Ta][1]&&this.insertVertexCondition_(Q)&&aa.push(kb)}aa.length&&
this.willModifyFeatures_(Q,[aa]);for(Q=aa.length-1;0<=Q;--Q)this.insertVertex_(aa[Q],N)}return!!this.vertexFeature_};Z.prototype.handleUpEvent=function(Q){for(var q=this.dragSegments_.length-1;0<=q;--q){var N=this.dragSegments_[q][0],da=N.geometry;if(da.getType()===d["default"].CIRCLE){var aa=da.getCenter(),wa=N.featureSegments[0];N=N.featureSegments[1];wa.segment[0]=aa;wa.segment[1]=aa;N.segment[0]=aa;N.segment[1]=aa;this.rBush_.update((0,P.createOrUpdateFromCoordinate)(aa),wa);if(aa=(0,H.getUserProjection)())wa=
Q.map.getView().getProjection(),da=da.clone().transform(aa,wa),da=(0,K.fromCircle)(da).transform(wa,aa);this.rBush_.update(da.getExtent(),N)}else this.rBush_.update((0,P.boundingExtent)(N.segment),N)}this.featuresBeingModified_&&(this.dispatchEvent(new fa("modifyend",this.featuresBeingModified_,Q)),this.featuresBeingModified_=null);return!1};Z.prototype.handlePointerMove_=function(Q){this.lastPixel_=Q.pixel;this.handlePointerAtPixel_(Q.pixel,Q.map,Q.coordinate)};Z.prototype.handlePointerAtPixel_=
function(Q,q,N){var da=this,aa=N||q.getCoordinateFromPixel(Q),wa=q.getView().getProjection();N=function(Fa,va){return E(aa,Fa,wa)-E(aa,va,wa)};var ua;if(this.hitDetection_){var Ea="object"===m(this.hitDetection_)?function(Fa){return Fa===da.hitDetection_}:void 0;q.forEachFeatureAtPixel(Q,function(Fa,va,V){V=V||Fa.getGeometry();V.getType()===d["default"].POINT&&(ua=V,va=V.getCoordinates(),kb=[{feature:Fa,geometry:V,segment:[va,va]}]);return!0},{layerFilter:Ea})}if(!kb){Ea=(0,H.fromUserExtent)((0,P.createOrUpdateFromCoordinate)(aa,
ka),wa);var $a=q.getView().getResolution()*this.pixelTolerance_;Ea=(0,H.toUserExtent)((0,P.buffer)(Ea,$a,ka),wa);var kb=this.rBush_.getInExtent(Ea)}if(kb&&0<kb.length){Ea=kb.sort(N)[0];N=Ea.segment;$a=O(aa,Ea,wa);var ta=q.getPixelFromCoordinate($a),Ta=(0,L.distance)(Q,ta);if(ua||Ta<=this.pixelTolerance_){Q={};Q[(0,R.getUid)(N)]=!0;this.delta_[0]=$a[0]-aa[0];this.delta_[1]=$a[1]-aa[1];if(Ea.geometry.getType()===d["default"].CIRCLE&&1===Ea.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_($a,
[Ea.feature],[Ea.geometry]);else{Ta=q.getPixelFromCoordinate(N[0]);var Xa=q.getPixelFromCoordinate(N[1]);q=(0,L.squaredDistance)(ta,Ta);ta=(0,L.squaredDistance)(ta,Xa);Ta=Math.sqrt(Math.min(q,ta));(this.snappedToVertex_=Ta<=this.pixelTolerance_)&&($a=q>ta?N[1]:N[0]);this.createOrUpdateVertexFeature_($a,[Ea.feature],[Ea.geometry]);q={};q[(0,R.getUid)(Ea.geometry)]=!0;Ea=1;for($a=kb.length;Ea<$a;++Ea)if(ta=kb[Ea].segment,(0,L.equals)(N[0],ta[0])&&(0,L.equals)(N[1],ta[1])||(0,L.equals)(N[0],ta[1])&&
(0,L.equals)(N[1],ta[0]))Ta=(0,R.getUid)(kb[Ea].geometry),Ta in q||(q[Ta]=!0,Q[(0,R.getUid)(ta)]=!0);else break}this.vertexSegments_=Q;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};Z.prototype.insertVertex_=function(Q,q){for(var N=Q.segment,da=Q.feature,aa=Q.geometry,wa=Q.depth,ua=Q.index,Ea;q.length<aa.getStride();)q.push(0);switch(aa.getType()){case d["default"].MULTI_LINE_STRING:Ea=aa.getCoordinates();Ea[wa[0]].splice(ua+1,
0,q);break;case d["default"].POLYGON:Ea=aa.getCoordinates();Ea[wa[0]].splice(ua+1,0,q);break;case d["default"].MULTI_POLYGON:Ea=aa.getCoordinates();Ea[wa[1]][wa[0]].splice(ua+1,0,q);break;case d["default"].LINE_STRING:Ea=aa.getCoordinates();Ea.splice(ua+1,0,q);break;default:return}this.setGeometryCoordinates_(aa,Ea);Ea=this.rBush_;Ea.remove(Q);this.updateSegmentIndices_(aa,ua,wa,1);Q={segment:[N[0],q],feature:da,geometry:aa,depth:wa,index:ua};Ea.insert((0,P.boundingExtent)(Q.segment),Q);this.dragSegments_.push([Q,
1]);q={segment:[q,N[1]],feature:da,geometry:aa,depth:wa,index:ua+1};Ea.insert((0,P.boundingExtent)(q.segment),q);this.dragSegments_.push([q,0]);this.ignoreNextSingleClick_=!0};Z.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=f["default"].POINTERDRAG){var Q=this.lastPointerEvent_;this.willModifyFeatures_(Q,this.dragSegments_);var q=this.removeVertex_();this.dispatchEvent(new fa("modifyend",this.featuresBeingModified_,Q));this.featuresBeingModified_=null;return q}return!1};
Z.prototype.removeVertex_=function(){var Q=this.dragSegments_,q={},N=!1,da,aa;for(aa=Q.length-1;0<=aa;--aa){var wa=Q[aa];var ua=wa[0];var Ea=(0,R.getUid)(ua.feature);ua.depth&&(Ea+="-"+ua.depth.join("-"));Ea in q||(q[Ea]={});0===wa[1]?(q[Ea].right=ua,q[Ea].index=ua.index):1==wa[1]&&(q[Ea].left=ua,q[Ea].index=ua.index+1)}for(Ea in q){var $a=q[Ea].right;var kb=q[Ea].left;aa=q[Ea].index;var ta=aa-1;ua=void 0!==kb?kb:$a;0>ta&&(ta=0);wa=ua.geometry;var Ta=da=wa.getCoordinates();N=!1;switch(wa.getType()){case d["default"].MULTI_LINE_STRING:2<
da[ua.depth[0]].length&&(da[ua.depth[0]].splice(aa,1),N=!0);break;case d["default"].LINE_STRING:2<da.length&&(da.splice(aa,1),N=!0);break;case d["default"].MULTI_POLYGON:Ta=Ta[ua.depth[1]];case d["default"].POLYGON:Ta=Ta[ua.depth[0]],4<Ta.length&&(aa==Ta.length-1&&(aa=0),Ta.splice(aa,1),N=!0,0===aa&&(Ta.pop(),Ta.push(Ta[0]),ta=Ta.length-1))}N&&(this.setGeometryCoordinates_(wa,da),Ta=[],void 0!==kb&&(this.rBush_.remove(kb),Ta.push(kb.segment[0])),void 0!==$a&&(this.rBush_.remove($a),Ta.push($a.segment[1])),
void 0!==kb&&void 0!==$a&&(kb={depth:ua.depth,feature:ua.feature,geometry:ua.geometry,index:ta,segment:Ta},this.rBush_.insert((0,P.boundingExtent)(kb.segment),kb)),this.updateSegmentIndices_(wa,aa,ua.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Q.length=0)}return N};Z.prototype.setGeometryCoordinates_=function(Q,q){this.changingFeature_=!0;Q.setCoordinates(q);this.changingFeature_=!1};Z.prototype.updateSegmentIndices_=function(Q,
q,N,da){this.rBush_.forEachInExtent(Q.getExtent(),function(aa){aa.geometry===Q&&(void 0===N||void 0===aa.depth||(0,z.equals)(aa.depth,N))&&aa.index>q&&(aa.index+=da)})};return Z}(qb["default"]);F["default"]=B};
shadow$provide[249]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}function m(){var p=(0,v.createEditingStyle)();(0,l.extend)(p[O["default"].POLYGON],p[O["default"].LINE_STRING]);(0,l.extend)(p[O["default"].GEOMETRY_COLLECTION],p[O["default"].LINE_STRING]);return function(A){return A.getGeometry()?p[A.getGeometry().getType()]:null}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.SelectEvent=void 0;var n=g(B(110)),E=g(B(109));Ja=g(B(87));var O=g(B(122));qb=
g(B(173));var x=B(76),y=B(89),v=B(209),l=B(75),k=B(77),d=B(176),f=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}(),a=function(p){function A(C,D,P,L){C=p.call(this,C)||this;C.selected=D;C.deselected=
P;C.mapBrowserEvent=L;return C}f(A,p);return A}(Ja["default"]);F.SelectEvent=a;var e={};B=function(p){function A(C){var D=p.call(this)||this;C=C?C:{};D.boundAddFeature_=D.addFeature_.bind(D);D.boundRemoveFeature_=D.removeFeature_.bind(D);D.condition_=C.condition?C.condition:d.singleClick;D.addCondition_=C.addCondition?C.addCondition:d.never;D.removeCondition_=C.removeCondition?C.removeCondition:d.never;D.toggleCondition_=C.toggleCondition?C.toggleCondition:d.shiftKeyOnly;D.multi_=C.multi?C.multi:
!1;D.filter_=C.filter?C.filter:x.TRUE;D.hitTolerance_=C.hitTolerance?C.hitTolerance:0;D.style_=void 0!==C.style?C.style:m();D.features_=C.features||new n["default"];if(C.layers)if("function"===typeof C.layers)C=C.layers;else{var P=C.layers;C=function(L){return(0,l.includes)(P,L)}}else C=x.TRUE;D.layerFilter_=C;D.featureLayerAssociation_={};return D}f(A,p);A.prototype.addFeatureLayerAssociation_=function(C,D){this.featureLayerAssociation_[(0,k.getUid)(C)]=D};A.prototype.getFeatures=function(){return this.features_};
A.prototype.getHitTolerance=function(){return this.hitTolerance_};A.prototype.getLayer=function(C){return this.featureLayerAssociation_[(0,k.getUid)(C)]};A.prototype.setHitTolerance=function(C){this.hitTolerance_=C};A.prototype.setMap=function(C){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));p.prototype.setMap.call(this,C);C?(this.features_.addEventListener(E["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(E["default"].REMOVE,this.boundRemoveFeature_),
this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(E["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(E["default"].REMOVE,this.boundRemoveFeature_))};A.prototype.addFeature_=function(C){C=C.element;this.style_&&this.applySelectedStyle_(C)};A.prototype.removeFeature_=function(C){C=C.element;this.style_&&this.restorePreviousStyle_(C)};A.prototype.getStyle=function(){return this.style_};A.prototype.applySelectedStyle_=
function(C){var D=(0,k.getUid)(C);D in e||(e[D]=C.getStyle());C.setStyle(this.style_)};A.prototype.restorePreviousStyle_=function(C){for(var D=this.getMap().getInteractions().getArray(),P=D.length-1;0<=P;--P){var L=D[P];if(L!==this&&L instanceof A&&L.getStyle()&&-1!==L.getFeatures().getArray().lastIndexOf(C)){C.setStyle(L.getStyle());return}}D=(0,k.getUid)(C);C.setStyle(e[D]);delete e[D]};A.prototype.removeFeatureLayerAssociation_=function(C){delete this.featureLayerAssociation_[(0,k.getUid)(C)]};
A.prototype.handleEvent=function(C){if(!this.condition_(C))return!0;var D=this.addCondition_(C),P=this.removeCondition_(C),L=this.toggleCondition_(C),G=!D&&!P&&!L,z=C.map,K=this.getFeatures(),H=[],R=[];if(G){(0,y.clear)(this.featureLayerAssociation_);z.forEachFeatureAtPixel(C.pixel,function(ka,ba){if(this.filter_(ka,ba))return R.push(ka),this.addFeatureLayerAssociation_(ka,ba),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(G=K.getLength()-1;0<=G;--G){z=
K.item(G);var U=R.indexOf(z);-1<U?R.splice(U,1):(K.remove(z),H.push(z))}0!==R.length&&K.extend(R)}else{z.forEachFeatureAtPixel(C.pixel,function(ka,ba){if(this.filter_(ka,ba))return!D&&!L||(0,l.includes)(K.getArray(),ka)?(P||L)&&(0,l.includes)(K.getArray(),ka)&&(H.push(ka),this.removeFeatureLayerAssociation_(ka)):(R.push(ka),this.addFeatureLayerAssociation_(ka,ba)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(G=H.length-1;0<=G;--G)K.remove(H[G]);K.extend(R)}(0<
R.length||0<H.length)&&this.dispatchEvent(new a("select",R,H,C));return!0};return A}(qb["default"]);F["default"]=B};
shadow$provide[250]=function(Ja,B,qb,F){function g(D){return D&&D.__esModule?D:{"default":D}}function m(D){if(D.feature)return D.feature;if(D.element)return D.element}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=g(B(109)),E=g(B(91)),O=g(B(122));Ja=g(B(175));var x=g(B(240)),y=g(B(242)),v=B(76),l=B(83),k=B(101),d=B(155),f=B(133),a=B(77),e=B(89),p=B(92),A=function(){var D=function(P,L){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,z){G.__proto__=z}||
function(G,z){for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&(G[K]=z[K])};return D(P,L)};return function(P,L){function G(){this.constructor=P}D(P,L);P.prototype=null===L?Object.create(L):(G.prototype=L.prototype,new G)}}(),C=[];B=function(D){function P(L){var G=L?L:{};G.handleDownEvent||(G.handleDownEvent=v.TRUE);G.stopDown||(G.stopDown=v.FALSE);L=D.call(this,G)||this;L.source_=G.source?G.source:null;L.vertex_=void 0!==G.vertex?G.vertex:!0;L.edge_=void 0!==G.edge?G.edge:!0;L.features_=
G.features?G.features:null;L.featuresListenerKeys_=[];L.featureChangeListenerKeys_={};L.indexedFeaturesExtents_={};L.pendingFeatures_={};L.pixelTolerance_=void 0!==G.pixelTolerance?G.pixelTolerance:10;L.rBush_=new x["default"];L.SEGMENT_WRITERS_={Point:L.writePointGeometry_.bind(L),LineString:L.writeLineStringGeometry_.bind(L),LinearRing:L.writeLineStringGeometry_.bind(L),Polygon:L.writePolygonGeometry_.bind(L),MultiPoint:L.writeMultiPointGeometry_.bind(L),MultiLineString:L.writeMultiLineStringGeometry_.bind(L),
MultiPolygon:L.writeMultiPolygonGeometry_.bind(L),GeometryCollection:L.writeGeometryCollectionGeometry_.bind(L),Circle:L.writeCircleGeometry_.bind(L)};return L}A(P,D);P.prototype.addFeature=function(L,G){G=void 0!==G?G:!0;var z=(0,a.getUid)(L),K=L.getGeometry();if(K){var H=this.SEGMENT_WRITERS_[K.getType()];H&&(this.indexedFeaturesExtents_[z]=K.getExtent((0,l.createEmpty)()),H(L,K))}G&&(this.featureChangeListenerKeys_[z]=(0,p.listen)(L,E["default"].CHANGE,this.handleFeatureChange_,this))};P.prototype.forEachFeatureAdd_=
function(L){this.addFeature(L)};P.prototype.forEachFeatureRemove_=function(L){this.removeFeature(L)};P.prototype.getFeatures_=function(){var L;this.features_?L=this.features_:this.source_&&(L=this.source_.getFeatures());return L};P.prototype.handleEvent=function(L){var G=this.snapTo(L.pixel,L.coordinate,L.map);G.snapped&&(L.coordinate=G.vertex.slice(0,2),L.pixel=G.vertexPixel);return D.prototype.handleEvent.call(this,L)};P.prototype.handleFeatureAdd_=function(L){L=m(L);this.addFeature(L)};P.prototype.handleFeatureRemove_=
function(L){L=m(L);this.removeFeature(L)};P.prototype.handleFeatureChange_=function(L){L=L.target;if(this.handlingDownUpSequence){var G=(0,a.getUid)(L);G in this.pendingFeatures_||(this.pendingFeatures_[G]=L)}else this.updateFeature_(L)};P.prototype.handleUpEvent=function(L){L=(0,e.getValues)(this.pendingFeatures_);L.length&&(L.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};P.prototype.removeFeature=function(L,G){G=void 0!==G?G:!0;var z=(0,a.getUid)(L),K=this.indexedFeaturesExtents_[z];
if(K){var H=this.rBush_,R=[];H.forEachInExtent(K,function(U){L===U.feature&&R.push(U)});for(K=R.length-1;0<=K;--K)H.remove(R[K])}G&&((0,p.unlistenByKey)(this.featureChangeListenerKeys_[z]),delete this.featureChangeListenerKeys_[z])};P.prototype.setMap=function(L){var G=this.getMap(),z=this.featuresListenerKeys_,K=this.getFeatures_();G&&(z.forEach(p.unlistenByKey),z.length=0,K.forEach(this.forEachFeatureRemove_.bind(this)));D.prototype.setMap.call(this,L);L&&(this.features_?z.push((0,p.listen)(this.features_,
n["default"].ADD,this.handleFeatureAdd_,this),(0,p.listen)(this.features_,n["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&z.push((0,p.listen)(this.source_,y["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,p.listen)(this.source_,y["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),K.forEach(this.forEachFeatureAdd_.bind(this)))};P.prototype.snapTo=function(L,G,z){var K=z.getCoordinateFromPixel([L[0]-this.pixelTolerance_,L[1]+this.pixelTolerance_]),H=z.getCoordinateFromPixel([L[0]+
this.pixelTolerance_,L[1]-this.pixelTolerance_]);K=(0,l.boundingExtent)([K,H]);var R=this.rBush_.getInExtent(K);this.vertex_&&!this.edge_&&(R=R.filter(function(q){return q.feature.getGeometry().getType()!==O["default"].CIRCLE}));K=!1;var U=H=null;if(0===R.length)return{snapped:K,vertex:H,vertexPixel:U};var ka=z.getView().getProjection();G=(0,f.fromUserCoordinate)(G,ka);for(var ba,fa=Infinity,ja=0;ja<R.length;++ja){var Z=R[ja];C[0]=(0,f.fromUserCoordinate)(Z.segment[0],ka);C[1]=(0,f.fromUserCoordinate)(Z.segment[1],
ka);var Q=(0,k.squaredDistanceToSegment)(G,C);Q<fa&&(ba=Z,fa=Q)}R=ba.segment;this.vertex_&&!this.edge_?(ba=z.getPixelFromCoordinate(R[0]),ka=z.getPixelFromCoordinate(R[1]),ba=(0,k.squaredDistance)(L,ba),L=(0,k.squaredDistance)(L,ka),ka=Math.sqrt(Math.min(ba,L)),ka<=this.pixelTolerance_&&(K=!0,H=ba>L?R[1]:R[0],U=z.getPixelFromCoordinate(H))):this.edge_&&((fa=ba.feature.getGeometry().getType()===O["default"].CIRCLE)?(H=ba.feature.getGeometry(),(U=(0,f.getUserProjection)())&&(H=H.clone().transform(U,
ka)),H=(0,f.toUserCoordinate)((0,k.closestOnCircle)(G,H),ka)):(C[0]=(0,f.fromUserCoordinate)(R[0],ka),C[1]=(0,f.fromUserCoordinate)(R[1],ka),H=(0,f.toUserCoordinate)((0,k.closestOnSegment)(G,C),ka)),U=z.getPixelFromCoordinate(H),(0,k.distance)(L,U)<=this.pixelTolerance_&&(K=!0,this.vertex_&&!fa&&(ba=z.getPixelFromCoordinate(R[0]),ka=z.getPixelFromCoordinate(R[1]),ba=(0,k.squaredDistance)(U,ba),L=(0,k.squaredDistance)(U,ka),ka=Math.sqrt(Math.min(ba,L)),ka<=this.pixelTolerance_&&(H=ba>L?R[1]:R[0],U=
z.getPixelFromCoordinate(H)))));K&&(U=[Math.round(U[0]),Math.round(U[1])]);return{snapped:K,vertex:H,vertexPixel:U}};P.prototype.updateFeature_=function(L){this.removeFeature(L,!1);this.addFeature(L,!1)};P.prototype.writeCircleGeometry_=function(L,G){var z=this.getMap().getView().getProjection(),K=G;(G=(0,f.getUserProjection)())&&(K=K.clone().transform(G,z));K=(0,d.fromCircle)(K);G&&K.transform(z,G);z=K.getCoordinates()[0];G=0;for(K=z.length-1;G<K;++G){var H=z.slice(G,G+2),R={feature:L,segment:H};
this.rBush_.insert((0,l.boundingExtent)(H),R)}};P.prototype.writeGeometryCollectionGeometry_=function(L,G){G=G.getGeometriesArray();for(var z=0;z<G.length;++z){var K=this.SEGMENT_WRITERS_[G[z].getType()];K&&K(L,G[z])}};P.prototype.writeLineStringGeometry_=function(L,G){G=G.getCoordinates();for(var z=0,K=G.length-1;z<K;++z){var H=G.slice(z,z+2),R={feature:L,segment:H};this.rBush_.insert((0,l.boundingExtent)(H),R)}};P.prototype.writeMultiLineStringGeometry_=function(L,G){G=G.getCoordinates();for(var z=
0,K=G.length;z<K;++z)for(var H=G[z],R=0,U=H.length-1;R<U;++R){var ka=H.slice(R,R+2),ba={feature:L,segment:ka};this.rBush_.insert((0,l.boundingExtent)(ka),ba)}};P.prototype.writeMultiPointGeometry_=function(L,G){for(var z=G.getCoordinates(),K=0,H=z.length;K<H;++K){var R=z[K];R={feature:L,segment:[R,R]};this.rBush_.insert(G.getExtent(),R)}};P.prototype.writeMultiPolygonGeometry_=function(L,G){G=G.getCoordinates();for(var z=0,K=G.length;z<K;++z)for(var H=G[z],R=0,U=H.length;R<U;++R)for(var ka=H[R],ba=
0,fa=ka.length-1;ba<fa;++ba){var ja=ka.slice(ba,ba+2),Z={feature:L,segment:ja};this.rBush_.insert((0,l.boundingExtent)(ja),Z)}};P.prototype.writePointGeometry_=function(L,G){var z=G.getCoordinates();L={feature:L,segment:[z,z]};this.rBush_.insert(G.getExtent(),L)};P.prototype.writePolygonGeometry_=function(L,G){G=G.getCoordinates();for(var z=0,K=G.length;z<K;++z)for(var H=G[z],R=0,U=H.length-1;R<U;++R){var ka=H.slice(R,R+2),ba={feature:L,segment:ka};this.rBush_.insert((0,l.boundingExtent)(ka),ba)}};
return P}(Ja["default"]);F["default"]=B};
shadow$provide[251]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.TranslateEvent=void 0;var m=g(B(110));Ja=g(B(87));var n=g(B(172));qb=g(B(175));var E=B(76),O=B(94),x=B(75),y=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,
d){function f(){this.constructor=k}l(k,d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),v=function(l){function k(d,f,a,e,p){d=l.call(this,d)||this;d.features=f;d.coordinate=a;d.startCoordinate=e;d.mapBrowserEvent=p;return d}y(k,l);return k}(Ja["default"]);F.TranslateEvent=v;B=function(l){function k(d){var f=this;d=d?d:{};f=l.call(this,d)||this;f.lastCoordinate_=null;f.startCoordinate_=null;f.features_=void 0!==d.features?d.features:null;if(d.layers)if("function"===typeof d.layers)var a=
d.layers;else{var e=d.layers;a=function(p){return(0,x.includes)(e,p)}}else a=E.TRUE;f.layerFilter_=a;f.filter_=d.filter?d.filter:E.TRUE;f.hitTolerance_=d.hitTolerance?d.hitTolerance:0;f.lastFeature_=null;f.addEventListener((0,O.getChangeEventType)(n["default"].ACTIVE),f.handleActiveChanged_);return f}y(k,l);k.prototype.handleDownEvent=function(d){this.lastFeature_=this.featuresAtPixel_(d.pixel,d.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=d.coordinate;
this.handleMoveEvent(d);var f=this.features_||new m["default"]([this.lastFeature_]);this.dispatchEvent(new v("translatestart",f,d.coordinate,this.startCoordinate_,d));return!0}return!1};k.prototype.handleUpEvent=function(d){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(d);var f=this.features_||new m["default"]([this.lastFeature_]);this.dispatchEvent(new v("translateend",f,d.coordinate,this.startCoordinate_,d));this.startCoordinate_=null;return!0}return!1};k.prototype.handleDragEvent=
function(d){if(this.lastCoordinate_){var f=d.coordinate,a=f[0]-this.lastCoordinate_[0],e=f[1]-this.lastCoordinate_[1],p=this.features_||new m["default"]([this.lastFeature_]);p.forEach(function(A){var C=A.getGeometry();C.translate(a,e);A.setGeometry(C)});this.lastCoordinate_=f;this.dispatchEvent(new v("translating",p,f,this.startCoordinate_,d))}};k.prototype.handleMoveEvent=function(d){var f=d.map.getViewport();this.featuresAtPixel_(d.pixel,d.map)?(f.classList.remove(this.lastCoordinate_?"ol-grab":
"ol-grabbing"),f.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):f.classList.remove("ol-grab","ol-grabbing")};k.prototype.featuresAtPixel_=function(d,f){return f.forEachFeatureAtPixel(d,function(a,e){if(this.filter_(a,e)&&(!this.features_||(0,x.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};k.prototype.getHitTolerance=function(){return this.hitTolerance_};k.prototype.setHitTolerance=function(d){this.hitTolerance_=
d};k.prototype.setMap=function(d){var f=this.getMap();l.prototype.setMap.call(this,d);this.updateState_(f)};k.prototype.handleActiveChanged_=function(){this.updateState_(null)};k.prototype.updateState_=function(d){var f=this.getMap(),a=this.getActive();f&&a||(f=f||d)&&f.getViewport().classList.remove("ol-grab","ol-grabbing")};return k}(qb["default"]);F["default"]=B};
shadow$provide[252]=function(Ja,B,qb,F){function g(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(F,"__esModule",{value:!0});F.defaults=function(H){H=H?H:{};var R=new m["default"],U=new l["default"](-.005,.05,100);(void 0!==H.altShiftDragRotate?H.altShiftDragRotate:1)&&R.push(new O["default"]);(void 0!==H.doubleClickZoom?H.doubleClickZoom:1)&&R.push(new n["default"]({delta:H.zoomDelta,duration:H.zoomDuration}));(void 0!==H.dragPan?H.dragPan:1)&&R.push(new E["default"]({onFocusOnly:H.onFocusOnly,
kinetic:U}));(void 0!==H.pinchRotate?H.pinchRotate:1)&&R.push(new d["default"]);(void 0!==H.pinchZoom?H.pinchZoom:1)&&R.push(new f["default"]({duration:H.zoomDuration}));if(void 0!==H.keyboard?H.keyboard:1)R.push(new y["default"]),R.push(new v["default"]({delta:H.zoomDelta,duration:H.zoomDuration}));(void 0!==H.mouseWheelZoom?H.mouseWheelZoom:1)&&R.push(new k["default"]({onFocusOnly:H.onFocusOnly,duration:H.zoomDuration}));(void 0!==H.shiftDragZoom?H.shiftDragZoom:1)&&R.push(new x["default"]({duration:H.zoomDuration}));
return R};Object.defineProperty(F,"DoubleClickZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(F,"DragPan",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(F,"DragRotate",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(F,"DragZoom",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(F,"KeyboardPan",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(F,"KeyboardZoom",{enumerable:!0,
get:function(){return v["default"]}});Object.defineProperty(F,"MouseWheelZoom",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(F,"PinchRotate",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(F,"PinchZoom",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(F,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(F,"DragBox",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(F,
"DragRotateAndZoom",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(F,"Draw",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(F,"Extent",{enumerable:!0,get:function(){return C["default"]}});Object.defineProperty(F,"Interaction",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(F,"Modify",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty(F,"Pointer",{enumerable:!0,get:function(){return L["default"]}});
Object.defineProperty(F,"Select",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(F,"Snap",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(F,"Translate",{enumerable:!0,get:function(){return K["default"]}});var m=g(B(110)),n=g(B(174)),E=g(B(177)),O=g(B(178)),x=g(B(181)),y=g(B(183)),v=g(B(184)),l=g(B(185)),k=g(B(186)),d=g(B(187)),f=g(B(188)),a=g(B(190)),e=g(B(180)),p=g(B(191)),A=g(B(246)),C=g(B(247)),D=g(B(173)),P=g(B(248)),L=g(B(175)),G=g(B(249)),
z=g(B(250)),K=g(B(251))};
shadow$provide[253]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(108));Ja=g(B(158));var n=B(89),E=B(171),O=B(252),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);
v.prototype=null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l){l=(0,n.assign)({},l);l.controls||(l.controls=(0,E.defaults)());l.interactions||(l.interactions=(0,O.defaults)({onFocusOnly:!0}));return y.call(this,l)||this}x(v,y);v.prototype.createRenderer=function(){return new m["default"](this)};return v}(Ja["default"]);F["default"]=B};
shadow$provide[254]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}function m(v){for(var l=[],k=0,d=v.length;k<d;++k)l.push(v[k].clone());return l}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=g(B(91));Ja=g(B(140));var E=g(B(122)),O=B(83),x=B(92),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};
return v(l,k)};return function(l,k){function d(){this.constructor=l}v(l,k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(k){var d=v.call(this)||this;d.geometries_=k?k:null;d.changeEventsKeys_=[];d.listenGeometriesChange_();return d}y(l,v);l.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(x.unlistenByKey);this.changeEventsKeys_.length=0};l.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var k=0,
d=this.geometries_.length;k<d;++k)this.changeEventsKeys_.push((0,x.listen)(this.geometries_[k],n["default"].CHANGE,this.changed,this))};l.prototype.clone=function(){var k=new l(null);k.setGeometries(this.geometries_);k.applyProperties(this);return k};l.prototype.closestPointXY=function(k,d,f,a){if(a<(0,O.closestSquaredDistanceXY)(this.getExtent(),k,d))return a;for(var e=this.geometries_,p=0,A=e.length;p<A;++p)a=e[p].closestPointXY(k,d,f,a);return a};l.prototype.containsXY=function(k,d){for(var f=
this.geometries_,a=0,e=f.length;a<e;++a)if(f[a].containsXY(k,d))return!0;return!1};l.prototype.computeExtent=function(k){(0,O.createOrUpdateEmpty)(k);for(var d=this.geometries_,f=0,a=d.length;f<a;++f)(0,O.extend)(k,d[f].getExtent());return k};l.prototype.getGeometries=function(){return m(this.geometries_)};l.prototype.getGeometriesArray=function(){return this.geometries_};l.prototype.getGeometriesArrayRecursive=function(){for(var k=[],d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].getType()===this.getType()?
k=k.concat(d[f].getGeometriesArrayRecursive()):k.push(d[f]);return k};l.prototype.getSimplifiedGeometry=function(k){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>k||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&k<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var d=[],f=this.geometries_,a=!1,e=0,p=f.length;e<p;++e){var A=f[e],C=A.getSimplifiedGeometry(k);d.push(C);
C!==A&&(a=!0)}if(a)return k=new l(null),k.setGeometriesArray(d),k;this.simplifiedGeometryMaxMinSquaredTolerance=k;return this};l.prototype.getType=function(){return E["default"].GEOMETRY_COLLECTION};l.prototype.intersectsExtent=function(k){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)if(d[f].intersectsExtent(k))return!0;return!1};l.prototype.isEmpty=function(){return 0===this.geometries_.length};l.prototype.rotate=function(k,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].rotate(k,
d);this.changed()};l.prototype.scale=function(k,d,f){f||(f=(0,O.getCenter)(this.getExtent()));for(var a=this.geometries_,e=0,p=a.length;e<p;++e)a[e].scale(k,d,f);this.changed()};l.prototype.setGeometries=function(k){this.setGeometriesArray(m(k))};l.prototype.setGeometriesArray=function(k){this.unlistenGeometriesChange_();this.geometries_=k;this.listenGeometriesChange_();this.changed()};l.prototype.applyTransform=function(k){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].applyTransform(k);
this.changed()};l.prototype.translate=function(k,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].translate(k,d);this.changed()};l.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();v.prototype.disposeInternal.call(this)};return l}(Ja["default"]);F["default"]=B};
shadow$provide[255]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.transformGeometryWithOptions=function(O,x,y){var v=y?(0,E.get)(y.featureProjection):null,l=y?(0,E.get)(y.dataProjection):null;v=v&&l&&!(0,E.equivalent)(v,l)?(x?O.clone():O).transform(x?v:l,x?l:v):O;if(x&&y&&void 0!==y.decimals){var k=Math.pow(10,y.decimals);v===O&&(v=O.clone());v.applyTransform(function(d){for(var f=0,a=d.length;f<a;++f)d[f]=Math.round(d[f]*k)/k;return d})}return v};F.transformExtentWithOptions=
function(O,x){var y=x?(0,E.get)(x.featureProjection):null;x=x?(0,E.get)(x.dataProjection):null;return y&&x&&!(0,E.equivalent)(y,x)?(0,E.transformExtent)(O,x,y):O};F["default"]=void 0;var g=function(O){return O&&O.__esModule?O:{"default":O}}(B(123)),m=B(77),n=B(89),E=B(133);Ja=function(){function O(){this.defaultFeatureProjection=this.dataProjection=null}O.prototype.getReadOptions=function(x,y){if(y){x=y.dataProjection?(0,E.get)(y.dataProjection):this.readProjection(x);y.extent&&x&&x.getUnits()===
g["default"].TILE_PIXELS&&(x=(0,E.get)(x),x.setWorldExtent(y.extent));var v={dataProjection:x,featureProjection:y.featureProjection}}return this.adaptOptions(v)};O.prototype.adaptOptions=function(x){return(0,n.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},x)};O.prototype.getType=function(){return(0,m["abstract"])()};O.prototype.readFeature=function(x,y){return(0,m["abstract"])()};O.prototype.readFeatures=function(x,y){return(0,m["abstract"])()};O.prototype.readGeometry=
function(x,y){return(0,m["abstract"])()};O.prototype.readProjection=function(x){return(0,m["abstract"])()};O.prototype.writeFeature=function(x,y){return(0,m["abstract"])()};O.prototype.writeFeatures=function(x,y){return(0,m["abstract"])()};O.prototype.writeGeometry=function(x,y){return(0,m["abstract"])()};return O}();F["default"]=Ja};
shadow$provide[256]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}function m(x){return"string"===typeof x?x:""}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(255));var n=g(B(189)),E=B(77),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=
y}x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(){return x.call(this)||this}O(y,x);y.prototype.getType=function(){return n["default"].TEXT};y.prototype.readFeature=function(v,l){return this.readFeatureFromText(m(v),this.adaptOptions(l))};y.prototype.readFeatureFromText=function(v,l){return(0,E["abstract"])()};y.prototype.readFeatures=function(v,l){return this.readFeaturesFromText(m(v),this.adaptOptions(l))};y.prototype.readFeaturesFromText=
function(v,l){return(0,E["abstract"])()};y.prototype.readGeometry=function(v,l){return this.readGeometryFromText(m(v),this.adaptOptions(l))};y.prototype.readGeometryFromText=function(v,l){return(0,E["abstract"])()};y.prototype.readProjection=function(v){return this.readProjectionFromText(m(v))};y.prototype.readProjectionFromText=function(v){return this.dataProjection};y.prototype.writeFeature=function(v,l){return this.writeFeatureText(v,this.adaptOptions(l))};y.prototype.writeFeatureText=function(v,
l){return(0,E["abstract"])()};y.prototype.writeFeatures=function(v,l){return this.writeFeaturesText(v,this.adaptOptions(l))};y.prototype.writeFeaturesText=function(v,l){return(0,E["abstract"])()};y.prototype.writeGeometry=function(v,l){return this.writeGeometryText(v,this.adaptOptions(l))};y.prototype.writeGeometryText=function(v,l){return(0,E["abstract"])()};return y}(Ja["default"]);F["default"]=B};
shadow$provide[257]=function(Ja,B,qb,F){function g(z){return z&&z.__esModule?z:{"default":z}}function m(z){z=z.getCoordinates();return 0===z.length?"":z.join(" ")}function n(z){z=z.getCoordinates();for(var K=[],H=0,R=z.length;H<R;++H)K.push(z[H].join(" "));return K.join(",")}function E(z){var K=[];z=z.getLinearRings();for(var H=0,R=z.length;H<R;++H)K.push("("+n(z[H])+")");return K.join(",")}function O(z){var K=z.getType(),H=(0,G[K])(z);K=K.toUpperCase();if("function"===typeof z.getFlatCoordinates){z=
z.getLayout();var R="";if(z===v["default"].XYZ||z===v["default"].XYZM)R+="Z";if(z===v["default"].XYM||z===v["default"].XYZM)R+="M";z=R;0<z.length&&(K+=" "+z)}return 0===H.length?K+" EMPTY":K+"("+H+")"}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var x=g(B(193)),y=g(B(254)),v=g(B(138)),l=g(B(122));Ja=g(B(196));qb=g(B(197));var k=g(B(198)),d=g(B(200)),f=g(B(148)),a=g(B(155)),e=g(B(256)),p=B(255),A=function(){var z=function(K,H){z=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(R,U){R.__proto__=U}||function(R,U){for(var ka in U)Object.prototype.hasOwnProperty.call(U,ka)&&(R[ka]=U[ka])};return z(K,H)};return function(K,H){function R(){this.constructor=K}z(K,H);K.prototype=null===H?Object.create(H):(R.prototype=H.prototype,new R)}}(),C={POINT:f["default"],LINESTRING:Ja["default"],POLYGON:a["default"],MULTIPOINT:k["default"],MULTILINESTRING:qb["default"],MULTIPOLYGON:d["default"]},D;for(D in l["default"])l["default"][D].toUpperCase();var P=function(){function z(K){this.wkt=
K;this.index_=-1}z.prototype.isAlpha_=function(K){return"a"<=K&&"z">=K||"A"<=K&&"Z">=K};z.prototype.isNumeric_=function(K,H){return"0"<=K&&"9">=K||"."==K&&!(void 0!==H&&H)};z.prototype.isWhiteSpace_=function(K){return" "==K||"\t"==K||"\r"==K||"\n"==K};z.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};z.prototype.nextToken=function(){var K=this.nextChar_(),H=this.index_,R=K;if("("==K)K=2;else if(","==K)K=5;else if(")"==K)K=3;else if(this.isNumeric_(K)||"-"==K)K=4,R=this.readNumber_();
else if(this.isAlpha_(K))K=1,R=this.readText_();else{if(this.isWhiteSpace_(K))return this.nextToken();if(""===K)K=6;else throw Error("Unexpected character: "+K);}return{position:H,value:R,type:K}};z.prototype.readNumber_=function(){var K=this.index_,H=!1,R=!1;do{if("."==U)H=!0;else if("e"==U||"E"==U)R=!0;var U=this.nextChar_()}while(this.isNumeric_(U,H)||!R&&("e"==U||"E"==U)||R&&("-"==U||"+"==U));return parseFloat(this.wkt.substring(K,this.index_--))};z.prototype.readText_=function(){var K=this.index_;
do var H=this.nextChar_();while(this.isAlpha_(H));return this.wkt.substring(K,this.index_--).toUpperCase()};return z}(),L=function(){function z(K){this.lexer_=K;this.layout_=v["default"].XY}z.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};z.prototype.isTokenType=function(K){return this.token_.type==K};z.prototype.match=function(K){(K=this.isTokenType(K))&&this.consume_();return K};z.prototype.parse=function(){this.consume_();return this.parseGeometry_()};z.prototype.parseGeometryLayout_=
function(){var K=v["default"].XY,H=this.token_;this.isTokenType(1)&&(H=H.value,"Z"===H?K=v["default"].XYZ:"M"===H?K=v["default"].XYM:"ZM"===H&&(K=v["default"].XYZM),K!==v["default"].XY&&this.consume_());return K};z.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var K=[];do K.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return K}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePointText_=function(){if(this.match(2)){var K=
this.parsePoint_();if(this.match(3))return K}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};z.prototype.parseLineStringText_=function(){if(this.match(2)){var K=this.parsePointList_();if(this.match(3))return K}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePolygonText_=function(){if(this.match(2)){var K=this.parseLineStringTextList_();if(this.match(3))return K}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};z.prototype.parseMultiPointText_=function(){if(this.match(2)){var K=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return K}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var K=this.parseLineStringTextList_();if(this.match(3))return K}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var K=
this.parsePolygonTextList_();if(this.match(3))return K}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePoint_=function(){for(var K=[],H=this.layout_.length,R=0;R<H;++R){var U=this.token_;if(this.match(4))K.push(U.value);else break}if(K.length==H)return K;throw Error(this.formatErrorMessage_());};z.prototype.parsePointList_=function(){for(var K=[this.parsePoint_()];this.match(5);)K.push(this.parsePoint_());return K};z.prototype.parsePointTextList_=
function(){for(var K=[this.parsePointText_()];this.match(5);)K.push(this.parsePointText_());return K};z.prototype.parseLineStringTextList_=function(){for(var K=[this.parseLineStringText_()];this.match(5);)K.push(this.parseLineStringText_());return K};z.prototype.parsePolygonTextList_=function(){for(var K=[this.parsePolygonText_()];this.match(5);)K.push(this.parsePolygonText_());return K};z.prototype.isEmptyGeometry_=function(){var K=this.isTokenType(1)&&"EMPTY"==this.token_.value;K&&this.consume_();
return K};z.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};z.prototype.parseGeometry_=function(){var K=this.token_;if(this.match(1)){var H=K.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==H)return K=this.parseGeometryCollectionText_(),new y["default"](K);K=C[H];if(!K)throw Error("Invalid geometry type: "+H);switch(H){case "POINT":H=this.parsePointText_();break;case "LINESTRING":H=
this.parseLineStringText_();break;case "POLYGON":H=this.parsePolygonText_();break;case "MULTIPOINT":H=this.parseMultiPointText_();break;case "MULTILINESTRING":H=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":H=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+H);}H||(H=K===C.POINT?[NaN,NaN]:[]);return new K(H,this.layout_)}throw Error(this.formatErrorMessage_());};return z}();B=function(z){function K(H){var R=z.call(this)||this;H=H?H:{};R.splitCollection_=
void 0!==H.splitCollection?H.splitCollection:!1;return R}A(K,z);K.prototype.parse_=function(H){H=new P(H);return(new L(H)).parse()};K.prototype.readFeatureFromText=function(H,R){return(H=this.readGeometryFromText(H,R))?(R=new x["default"],R.setGeometry(H),R):null};K.prototype.readFeaturesFromText=function(H,R){H=this.readGeometryFromText(H,R);H=this.splitCollection_&&H.getType()==l["default"].GEOMETRY_COLLECTION?H.getGeometriesArray():[H];R=[];for(var U=0,ka=H.length;U<ka;++U){var ba=new x["default"];
ba.setGeometry(H[U]);R.push(ba)}return R};K.prototype.readGeometryFromText=function(H,R){return(H=this.parse_(H))?(0,p.transformGeometryWithOptions)(H,!1,R):null};K.prototype.writeFeatureText=function(H,R){return(H=H.getGeometry())?this.writeGeometryText(H,R):""};K.prototype.writeFeaturesText=function(H,R){if(1==H.length)return this.writeFeatureText(H[0],R);for(var U=[],ka=0,ba=H.length;ka<ba;++ka)U.push(H[ka].getGeometry());H=new y["default"](U);return this.writeGeometryText(H,R)};K.prototype.writeGeometryText=
function(H,R){return O((0,p.transformGeometryWithOptions)(H,!0,R))};return K}(e["default"]);var G={Point:m,LineString:n,Polygon:E,MultiPoint:function(z){var K=[];z=z.getPoints();for(var H=0,R=z.length;H<R;++H)K.push("("+m(z[H])+")");return K.join(",")},MultiLineString:function(z){var K=[];z=z.getLineStrings();for(var H=0,R=z.length;H<R;++H)K.push("("+n(z[H])+")");return K.join(",")},MultiPolygon:function(z){var K=[];z=z.getPolygons();for(var H=0,R=z.length;H<R;++H)K.push("("+E(z[H])+")");return K.join(",")},
GeometryCollection:function(z){var K=[];z=z.getGeometries();for(var H=0,R=z.length;H<R;++H)K.push(O(z[H]));return K.join(",")}};F["default"]=B};
shadow$provide[258]=function(Ja,B,qb,F){function g(y){return y&&y.__esModule?y:{"default":y}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(90));var m=g(B(91)),n=g(B(120)),E=B(77),O=B(137),x=function(){var y=function(v,l){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,d){k.__proto__=d}||function(k,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(k[f]=d[f])};return y(v,l)};return function(v,l){function k(){this.constructor=v}y(v,l);v.prototype=
null===l?Object.create(l):(k.prototype=l.prototype,new k)}}();B=function(y){function v(l,k,d){var f=y.call(this)||this;d=d?d:{};f.tileCoord=l;f.state=k;f.interimTile=null;f.hifi=!0;f.key="";f.transition_=void 0===d.transition?250:d.transition;f.transitionStarts_={};return f}x(v,y);v.prototype.changed=function(){this.dispatchEvent(m["default"].CHANGE)};v.prototype.release=function(){};v.prototype.getKey=function(){return this.key+"/"+this.tileCoord};v.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var l=this.interimTile;do{if(l.getState()==n["default"].LOADED)return this.transition_=0,l;l=l.interimTile}while(l);return this};v.prototype.refreshInterimChain=function(){if(this.interimTile){var l=this.interimTile,k=this;do{if(l.getState()==n["default"].LOADED){l.interimTile=null;break}else l.getState()==n["default"].LOADING?k=l:l.getState()==n["default"].IDLE?k.interimTile=l.interimTile:k=l;l=k.interimTile}while(l)}};v.prototype.getTileCoord=function(){return this.tileCoord};v.prototype.getState=
function(){return this.state};v.prototype.setState=function(l){if(this.state!==n["default"].ERROR&&this.state>l)throw Error("Tile load sequence violation");this.state=l;this.changed()};v.prototype.load=function(){(0,E["abstract"])()};v.prototype.getAlpha=function(l,k){if(!this.transition_)return 1;var d=this.transitionStarts_[l];if(!d)d=k,this.transitionStarts_[l]=d;else if(-1===d)return 1;l=k-d+1E3/60;return l>=this.transition_?1:(0,O.easeIn)(l/this.transition_)};v.prototype.inTransition=function(l){return this.transition_?
-1!==this.transitionStarts_[l]:!1};v.prototype.endTransition=function(l){this.transition_&&(this.transitionStarts_[l]=-1)};return v}(Ja["default"]);F["default"]=B};
shadow$provide[259]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(258));var m=g(B(120)),n=B(106),E=B(231),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=
null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v,l,k,d,f,a){v=x.call(this,v,l,a)||this;v.crossOrigin_=d;v.src_=k;v.key=k;v.image_=new Image;null!==d&&(v.image_.crossOrigin=d);v.unlisten_=null;v.tileLoadFunction_=f;return v}O(y,x);y.prototype.getImage=function(){return this.image_};y.prototype.handleImageError_=function(){this.state=m["default"].ERROR;this.unlistenImage_();var v=(0,n.createCanvasContext2D)(1,1);v.fillStyle="rgba(0,0,0,0)";v.fillRect(0,0,1,1);
this.image_=v.canvas;this.changed()};y.prototype.handleImageLoad_=function(){var v=this.image_;this.state=v.naturalWidth&&v.naturalHeight?m["default"].LOADED:m["default"].EMPTY;this.unlistenImage_();this.changed()};y.prototype.load=function(){this.state==m["default"].ERROR&&(this.state=m["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==m["default"].IDLE&&(this.state=m["default"].LOADING,this.changed(),this.tileLoadFunction_(this,
this.src_),this.unlisten_=(0,E.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};y.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return y}(Ja["default"]);F["default"]=B};
shadow$provide[260]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.ERROR_THRESHOLD=.5;F.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[261]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=B(83),m=B(133),n=B(84);Ja=function(){function E(O,x,y,v,l,k){this.sourceProj_=O;this.targetProj_=x;var d={},f=(0,m.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(D){var P=D[0]+"/"+D[1];d[P]||(d[P]=f(D));return d[P]};this.maxSourceExtent_=v;this.errorThresholdSquared_=l*l;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!v&&!!this.sourceProj_.getExtent()&&(0,g.getWidth)(v)==(0,g.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,g.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,g.getWidth)(this.targetProj_.getExtent()):null;O=(0,g.getTopLeft)(y);x=(0,g.getTopRight)(y);v=(0,g.getBottomRight)(y);l=(0,g.getBottomLeft)(y);var a=this.transformInv_(O),e=this.transformInv_(x),p=this.transformInv_(v),A=this.transformInv_(l);
y=10+(k?Math.max(0,Math.ceil((0,n.log2)((0,g.getArea)(y)/(k*k*65536)))):0);this.addQuad_(O,x,v,l,a,e,p,A,y);if(this.wrapsXInSource_){var C=Infinity;this.triangles_.forEach(function(D,P,L){C=Math.min(C,D.source[0][0],D.source[1][0],D.source[2][0])});this.triangles_.forEach(function(D){if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-C>this.sourceWorldWidth_/2){var P=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];P[0][0]-C>this.sourceWorldWidth_/
2&&(P[0][0]-=this.sourceWorldWidth_);P[1][0]-C>this.sourceWorldWidth_/2&&(P[1][0]-=this.sourceWorldWidth_);P[2][0]-C>this.sourceWorldWidth_/2&&(P[2][0]-=this.sourceWorldWidth_);Math.max(P[0][0],P[1][0],P[2][0])-Math.min(P[0][0],P[1][0],P[2][0])<this.sourceWorldWidth_/2&&(D.source=P)}}.bind(this))}d={}}E.prototype.addTriangle_=function(O,x,y,v,l,k){this.triangles_.push({source:[v,l,k],target:[O,x,y]})};E.prototype.addQuad_=function(O,x,y,v,l,k,d,f,a){var e=(0,g.boundingExtent)([l,k,d,f]),p=this.sourceWorldWidth_?
(0,g.getWidth)(e)/this.sourceWorldWidth_:null,A=this.sourceWorldWidth_,C=this.sourceProj_.canWrapX()&&.5<p&&1>p,D=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var P=(0,g.boundingExtent)([O,x,y,v]);D=.25<(0,g.getWidth)(P)/this.targetWorldWidth_||D}!C&&this.sourceProj_.isGlobal()&&p&&(D=.25<p||D)}if(D||!this.maxSourceExtent_||!(isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(e[3]))||(0,g.intersects)(e,this.maxSourceExtent_)){e=0;if(!(D||isFinite(l[0])&&isFinite(l[1])&&
isFinite(k[0])&&isFinite(k[1])&&isFinite(d[0])&&isFinite(d[1])&&isFinite(f[0])&&isFinite(f[1])))if(0<a)D=!0;else if(e=(isFinite(l[0])&&isFinite(l[1])?0:8)+(isFinite(k[0])&&isFinite(k[1])?0:4)+(isFinite(d[0])&&isFinite(d[1])?0:2)+(isFinite(f[0])&&isFinite(f[1])?0:1),1!=e&&2!=e&&4!=e&&8!=e)return;if(0<a&&(D||(D=this.transformInv_([(O[0]+y[0])/2,(O[1]+y[1])/2]),A=C?((0,n.modulo)(l[0],A)+(0,n.modulo)(d[0],A))/2-(0,n.modulo)(D[0],A):(l[0]+d[0])/2-D[0],D=(l[1]+d[1])/2-D[1],D=A*A+D*D>this.errorThresholdSquared_),
D)){Math.abs(O[0]-y[0])<=Math.abs(O[1]-y[1])?(C=[(x[0]+y[0])/2,(x[1]+y[1])/2],A=this.transformInv_(C),D=[(v[0]+O[0])/2,(v[1]+O[1])/2],e=this.transformInv_(D),this.addQuad_(O,x,C,D,l,k,A,e,a-1),this.addQuad_(D,C,y,v,e,A,d,f,a-1)):(C=[(O[0]+x[0])/2,(O[1]+x[1])/2],A=this.transformInv_(C),D=[(y[0]+v[0])/2,(y[1]+v[1])/2],e=this.transformInv_(D),this.addQuad_(O,C,D,v,l,A,e,f,a-1),this.addQuad_(C,x,y,D,A,k,d,e,a-1));return}if(C){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(e&11)&&this.addTriangle_(O,
y,v,l,d,f);0==(e&14)&&this.addTriangle_(O,y,x,l,d,k);e&&(0==(e&13)&&this.addTriangle_(x,v,O,k,f,l),0==(e&7)&&this.addTriangle_(x,v,y,k,f,d))}};E.prototype.calculateSourceExtent=function(){var O=(0,g.createEmpty)();this.triangles_.forEach(function(x,y,v){x=x.source;(0,g.extendCoordinate)(O,x[0]);(0,g.extendCoordinate)(O,x[1]);(0,g.extendCoordinate)(O,x[2])});return O};E.prototype.getTriangles=function(){return this.triangles_};return E}();F["default"]=Ja};
shadow$provide[262]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.DEFAULT_WMS_VERSION="1.3.0";F.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[263]=function(Ja,B,qb,F){function g(d,f,a,e,p){d.beginPath();d.moveTo(0,0);d.lineTo(f,a);d.lineTo(e,p);d.closePath();d.save();d.clip();d.fillRect(0,0,Math.max(f,e)+1,Math.max(a,p));d.restore()}function m(d,f){return 2<Math.abs(d[4*f]-210)||2<Math.abs(d[4*f+3]-191.25)}function n(d,f,a,e){var p=(0,v.transform)(a,f,d);a=(0,v.getPointResolution)(f,e,a);f=f.getMetersPerUnit();void 0!==f&&(a*=f);f=d.getMetersPerUnit();void 0!==f&&(a/=f);f=d.getExtent();if(!f||(0,x.containsCoordinate)(f,p))d=
(0,v.getPointResolution)(d,a,p)/a,isFinite(d)&&0<d&&(a/=d);return a}Object.defineProperty(F,"__esModule",{value:!0});F.calculateSourceResolution=n;F.calculateSourceExtentResolution=function(d,f,a,e){var p=(0,x.getCenter)(a),A=n(d,f,p,e);(!isFinite(A)||0>=A)&&(0,x.forEachCorner)(a,function(C){A=n(d,f,C,e);return isFinite(A)&&0<A});return A};F.render=function(d,f,a,e,p,A,C,D,P,L,G,z){function K(fa){return Math.round(fa*a)/a}var H=(0,y.createCanvasContext2D)(Math.round(a*d),Math.round(a*f));(0,O.assign)(H,
z);if(0===P.length)return H.canvas;H.scale(a,a);H.globalCompositeOperation="lighter";var R=(0,x.createEmpty)();P.forEach(function(fa,ja,Z){(0,x.extend)(R,fa.extent)});d=(0,x.getWidth)(R);f=(0,x.getHeight)(R);var U=(0,y.createCanvasContext2D)(Math.round(a*d/e),Math.round(a*f/e));(0,O.assign)(U,z);var ka=a/e;P.forEach(function(fa,ja,Z){ja=fa.extent[0]-R[0];Z=-(fa.extent[3]-R[3]);var Q=(0,x.getWidth)(fa.extent),q=(0,x.getHeight)(fa.extent);0<fa.image.width&&0<fa.image.height&&U.drawImage(fa.image,L,
L,fa.image.width-2*L,fa.image.height-2*L,ja*ka,Z*ka,Q*ka,q*ka)});var ba=(0,x.getTopLeft)(C);D.getTriangles().forEach(function(fa,ja,Z){Z=fa.source;var Q=fa.target;fa=Z[0][0];ja=Z[0][1];var q=Z[1][0],N=Z[1][1],da=Z[2][0],aa=Z[2][1];Z=K((Q[0][0]-ba[0])/A);var wa=K(-(Q[0][1]-ba[1])/A),ua=K((Q[1][0]-ba[0])/A),Ea=K(-(Q[1][1]-ba[1])/A),$a=K((Q[2][0]-ba[0])/A);Q=K(-(Q[2][1]-ba[1])/A);q-=fa;N-=ja;da-=fa;aa-=ja;q=[[q,N,0,0,ua-Z],[da,aa,0,0,$a-Z],[0,0,q,N,Ea-wa],[0,0,da,aa,Q-wa]];if(q=(0,l.solveLinearSystem)(q)){H.save();
H.beginPath();void 0===k&&(N=document.createElement("canvas").getContext("2d"),N.globalCompositeOperation="lighter",N.fillStyle="rgba(210, 0, 0, 0.75)",g(N,4,5,4,0),g(N,4,5,0,5),N=N.getImageData(0,0,3,3).data,k=m(N,0)||m(N,4)||m(N,8));if(k||z===E.IMAGE_SMOOTHING_DISABLED)for(H.moveTo(ua,Ea),N=Z-ua,da=wa-Ea,aa=0;4>aa;aa++)H.lineTo(ua+K((aa+1)*N/4),Ea+K(aa*da/3)),3!=aa&&H.lineTo(ua+K((aa+1)*N/4),Ea+K((aa+1)*da/3));else H.moveTo(ua,Ea),H.lineTo(Z,wa);H.lineTo($a,Q);H.clip();H.transform(q[0],q[2],q[1],
q[3],Z,wa);H.translate(R[0]-fa,R[3]-ja);H.scale(e/a,-e/a);H.drawImage(U.canvas,0,0);H.restore()}});G&&(H.save(),H.globalCompositeOperation="source-over",H.strokeStyle="black",H.lineWidth=1,D.getTriangles().forEach(function(fa,ja,Z){var Q=fa.target;fa=(Q[0][0]-ba[0])/A;ja=-(Q[0][1]-ba[1])/A;Z=(Q[1][0]-ba[0])/A;var q=-(Q[1][1]-ba[1])/A,N=(Q[2][0]-ba[0])/A;Q=-(Q[2][1]-ba[1])/A;H.beginPath();H.moveTo(Z,q);H.lineTo(fa,ja);H.lineTo(N,Q);H.closePath();H.stroke()}),H.restore());return H.canvas};var E=B(262),
O=B(89),x=B(83),y=B(106),v=B(133),l=B(84),k};
shadow$provide[264]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=B(260),n=g(B(91));Ja=g(B(258));var E=g(B(120)),O=g(B(261)),x=B(263),y=B(84),v=B(83),l=B(92),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a,e,p,A,C,D,P,L,G,z,K,H){var R=d.call(this,C,E["default"].IDLE)||this;R.renderEdges_=void 0!==K?K:!1;R.contextOptions_=H;R.pixelRatio_=P;R.gutter_=L;R.canvas_=null;R.sourceTileGrid_=e;R.targetTileGrid_=A;R.wrappedTileCoord_=D?D:C;R.sourceTiles_=[];R.sourcesListenerKeys_=null;R.sourceZ_=0;D=A.getTileCoordExtent(R.wrappedTileCoord_);L=R.targetTileGrid_.getExtent();C=R.sourceTileGrid_.getExtent();
D=L?(0,v.getIntersection)(D,L):D;if(0===(0,v.getArea)(D))return R.state=E["default"].EMPTY,R;(L=a.getExtent())&&(C=C?(0,v.getIntersection)(C,L):L);A=A.getResolution(R.wrappedTileCoord_[0]);L=(0,x.calculateSourceExtentResolution)(a,p,D,A);if(!isFinite(L)||0>=L)return R.state=E["default"].EMPTY,R;R.triangulation_=new O["default"](a,p,D,C,L*(void 0!==z?z:m.ERROR_THRESHOLD),A);if(0===R.triangulation_.getTriangles().length)return R.state=E["default"].EMPTY,R;R.sourceZ_=e.getZForResolution(L);p=R.triangulation_.calculateSourceExtent();
C&&(a.canWrapX()?(p[1]=(0,y.clamp)(p[1],C[1],C[3]),p[3]=(0,y.clamp)(p[3],C[1],C[3])):p=(0,v.getIntersection)(p,C));if((0,v.getArea)(p)){a=e.getTileRangeForExtentAndZ(p,R.sourceZ_);for(e=a.minX;e<=a.maxX;e++)for(p=a.minY;p<=a.maxY;p++)(z=G(R.sourceZ_,e,p,P))&&R.sourceTiles_.push(z);0===R.sourceTiles_.length&&(R.state=E["default"].EMPTY)}else R.state=E["default"].EMPTY;return R}k(f,d);f.prototype.getImage=function(){return this.canvas_};f.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(P,
L,G){P&&P.getState()==E["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(P.tileCoord),image:P.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=E["default"].ERROR;else{var e=this.wrappedTileCoord_[0],p=this.targetTileGrid_.getTileSize(e),A="number"===typeof p?p:p[0];p="number"===typeof p?p:p[1];e=this.targetTileGrid_.getResolution(e);var C=this.sourceTileGrid_.getResolution(this.sourceZ_),D=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,x.render)(A,p,this.pixelRatio_,C,this.sourceTileGrid_.getExtent(),e,D,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=E["default"].LOADED}this.changed()};f.prototype.load=function(){if(this.state==E["default"].IDLE){this.state=E["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,p,A){p=e.getState();if(p==E["default"].IDLE||p==E["default"].LOADING){a++;var C=(0,l.listen)(e,n["default"].CHANGE,
function(D){D=e.getState();if(D==E["default"].LOADED||D==E["default"].ERROR||D==E["default"].EMPTY)(0,l.unlistenByKey)(C),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(C)}}.bind(this));this.sourceTiles_.forEach(function(e,p,A){e.getState()==E["default"].IDLE&&e.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};f.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(l.unlistenByKey);this.sourcesListenerKeys_=null};return f}(Ja["default"]);
F["default"]=B};
shadow$provide[265]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=B(79);Ja=function(){function m(n){this.highWaterMark=void 0!==n?n:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}m.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};m.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};m.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)};
m.prototype.forEach=function(n){for(var E=this.oldest_;E;)n(E.value_,E.key_,this),E=E.newer};m.prototype.get=function(n,E){n=this.entries_[n];(0,g.assert)(void 0!==n,15);if(n===this.newest_)return n.value_;n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer);n.newer=null;n.older=this.newest_;this.newest_=this.newest_.newer=n;return n.value_};m.prototype.remove=function(n){var E=this.entries_[n];(0,g.assert)(void 0!==E,15);if(E===
this.newest_){if(this.newest_=E.older)this.newest_.newer=null}else if(E===this.oldest_){if(this.oldest_=E.newer)this.oldest_.older=null}else E.newer.older=E.older,E.older.newer=E.newer;delete this.entries_[n];--this.count_;return E.value_};m.prototype.getCount=function(){return this.count_};m.prototype.getKeys=function(){var n=Array(this.count_),E=0,O;for(O=this.newest_;O;O=O.older)n[E++]=O.key_;return n};m.prototype.getValues=function(){var n=Array(this.count_),E=0,O;for(O=this.newest_;O;O=O.older)n[E++]=
O.value_;return n};m.prototype.peekLast=function(){return this.oldest_.value_};m.prototype.peekLastKey=function(){return this.oldest_.key_};m.prototype.peekFirstKey=function(){return this.newest_.key_};m.prototype.pop=function(){var n=this.oldest_;delete this.entries_[n.key_];n.newer&&(n.newer.older=null);this.oldest_=n.newer;this.oldest_||(this.newest_=null);--this.count_;return n.value_};m.prototype.replace=function(n,E){this.get(n);this.entries_[n].value_=E};m.prototype.set=function(n,E){(0,g.assert)(!(n in
this.entries_),16);E={key_:n,newer:null,older:this.newest_,value_:E};this.newest_?this.newest_.newer=E:this.oldest_=E;this.newest_=E;this.entries_[n]=E;++this.count_};m.prototype.setSize=function(n){this.highWaterMark=n};return m}();F["default"]=Ja};
shadow$provide[266]=function(Ja,B,qb,F){function g(m,n,E){return m+"/"+n+"/"+E}Object.defineProperty(F,"__esModule",{value:!0});F.createOrUpdate=function(m,n,E,O){return void 0!==O?(O[0]=m,O[1]=n,O[2]=E,O):[m,n,E]};F.getKeyZXY=g;F.getKey=function(m){return g(m[0],m[1],m[2])};F.fromKey=function(m){return m.split("/").map(Number)};F.hash=function(m){return(m[1]<<m[0])+m[2]};F.withinExtentAndZ=function(m,n){var E=m[0],O=m[1];m=m[2];return n.getMinZoom()>E||E>n.getMaxZoom()?!1:(n=n.getFullTileRange(E))?
n.containsXY(O,m):!0}};
shadow$provide[267]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(n){return n&&n.__esModule?n:{"default":n}}(B(265));var g=B(266),m=function(){var n=function(E,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(x[v]=y[v])};return n(E,O)};return function(E,O){function x(){this.constructor=E}n(E,O);E.prototype=null===O?Object.create(O):
(x.prototype=O.prototype,new x)}}();B=function(n){function E(){return null!==n&&n.apply(this,arguments)||this}m(E,n);E.prototype.expireCache=function(O){for(;this.canExpireCache()&&!(this.peekLast().getKey()in O);)this.pop().release()};E.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var O=this.peekFirstKey(),x=(0,g.fromKey)(O)[0];this.forEach(function(y){y.tileCoord[0]!==x&&(this.remove((0,g.getKey)(y.tileCoord)),y.release())}.bind(this))}};return E}(Ja["default"]);F["default"]=
B};
shadow$provide[268]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[269]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.createOrUpdate=function(m,n,E,O,x){return void 0!==x?(x.minX=m,x.maxX=n,x.minY=E,x.maxY=O,x):new g(m,n,E,O)};F["default"]=void 0;var g=function(){function m(n,E,O,x){this.minX=n;this.maxX=E;this.minY=O;this.maxY=x}m.prototype.contains=function(n){return this.containsXY(n[1],n[2])};m.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY};m.prototype.containsXY=
function(n,E){return this.minX<=n&&n<=this.maxX&&this.minY<=E&&E<=this.maxY};m.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY};m.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX);n.maxX>this.maxX&&(this.maxX=n.maxX);n.minY<this.minY&&(this.minY=n.minY);n.maxY>this.maxY&&(this.maxY=n.maxY)};m.prototype.getHeight=function(){return this.maxY-this.minY+1};m.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
m.prototype.getWidth=function(){return this.maxX-this.minX+1};m.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY};return m}();F["default"]=g};
shadow$provide[270]=function(Ja,B,qb,F){function g(f){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(f)}function m(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;m=function(){return f};return f}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=function(f){if(f&&f.__esModule)return f;if(null===
f||"object"!==g(f)&&"function"!==typeof f)return{"default":f};var a=m();if(a&&a.has(f))return a.get(f);var e={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in f)if(Object.prototype.hasOwnProperty.call(f,A)){var C=p?Object.getOwnPropertyDescriptor(f,A):null;C&&(C.get||C.set)?Object.defineProperty(e,A,C):e[A]=f[A]}e["default"]=f;a&&a.set(f,e);return e}(B(269)),E=B(126),O=B(79),x=B(84),y=B(83),v=B(266),l=B(75),k=B(157),d=[0,0,0];Ja=function(){function f(a){this.minZoom=void 0!==
a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;(0,O.assert)((0,l.isSorted)(this.resolutions_,function(D,P){return P-D},!0),17);if(!a.origins)for(var e=0,p=this.resolutions_.length-1;e<p;++e)if(!A)var A=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==A){A=void 0;break}this.zoomFactor_=A;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,O.assert)(this.origins_.length==
this.resolutions_.length,20));var C=a.extent;void 0===C||this.origin_||this.origins_||(this.origin_=(0,y.getTopLeft)(C));(0,O.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,O.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:E.DEFAULT_TILE_SIZE;(0,O.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==C?C:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(D,P){D=new n["default"](Math.min(0,D[0]),Math.max(D[0]-1,-1),Math.min(0,D[1]),Math.max(D[1]-1,-1));C&&(P=this.getTileRangeForExtentAndZ(C,P),D.minX=Math.max(P.minX,D.minX),D.maxX=Math.min(P.maxX,D.maxX),D.minY=Math.max(P.minY,D.minY),D.maxY=Math.min(P.maxY,D.maxY));return D},this):C&&this.calculateTileRanges_(C)}f.prototype.forEachTileCoord=function(a,e,p){a=
this.getTileRangeForExtentAndZ(a,e);for(var A=a.minX,C=a.maxX;A<=C;++A)for(var D=a.minY,P=a.maxY;D<=P;++D)p([e,A,D])};f.prototype.forEachTileCoordParentTileRange=function(a,e,p,A){var C=null,D=a[0]-1;if(2===this.zoomFactor_){var P=a[1];var L=a[2]}else C=this.getTileCoordExtent(a,A);for(;D>=this.minZoom;){2===this.zoomFactor_?(P=Math.floor(P/2),L=Math.floor(L/2),a=(0,n.createOrUpdate)(P,P,L,L,p)):a=this.getTileRangeForExtentAndZ(C,D,p);if(e(D,a))return!0;--D}return!1};f.prototype.getExtent=function(){return this.extent_};
f.prototype.getMaxZoom=function(){return this.maxZoom};f.prototype.getMinZoom=function(){return this.minZoom};f.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};f.prototype.getResolution=function(a){return this.resolutions_[a]};f.prototype.getResolutions=function(){return this.resolutions_};f.prototype.getTileCoordChildTileRange=function(a,e,p){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return p=2*a[1],a=2*a[2],(0,n.createOrUpdate)(p,p+1,a,a+1,e);p=this.getTileCoordExtent(a,
p);return this.getTileRangeForExtentAndZ(p,a[0]+1,e)}return null};f.prototype.getTileRangeExtent=function(a,e,p){var A=this.getOrigin(a),C=this.getResolution(a),D=(0,k.toSize)(this.getTileSize(a),this.tmpSize_);a=A[0]+e.minX*D[0]*C;var P=A[0]+(e.maxX+1)*D[0]*C,L=A[1]+e.minY*D[1]*C;e=A[1]+(e.maxY+1)*D[1]*C;return(0,y.createOrUpdate)(a,L,P,e,p)};f.prototype.getTileRangeForExtentAndZ=function(a,e,p){this.getTileCoordForXYAndZ_(a[0],a[3],e,!1,d);var A=d[1],C=d[2];this.getTileCoordForXYAndZ_(a[2],a[1],
e,!0,d);return(0,n.createOrUpdate)(A,d[1],C,d[2],p)};f.prototype.getTileCoordCenter=function(a){var e=this.getOrigin(a[0]),p=this.getResolution(a[0]),A=(0,k.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[e[0]+(a[1]+.5)*A[0]*p,e[1]-(a[2]+.5)*A[1]*p]};f.prototype.getTileCoordExtent=function(a,e){var p=this.getOrigin(a[0]),A=this.getResolution(a[0]),C=(0,k.toSize)(this.getTileSize(a[0]),this.tmpSize_),D=p[0]+a[1]*C[0]*A;a=p[1]-(a[2]+1)*C[1]*A;p=D+C[0]*A;A=a+C[1]*A;return(0,y.createOrUpdate)(D,
a,p,A,e)};f.prototype.getTileCoordForCoordAndResolution=function(a,e,p){return this.getTileCoordForXYAndResolution_(a[0],a[1],e,!1,p)};f.prototype.getTileCoordForXYAndResolution_=function(a,e,p,A,C){var D=this.getZForResolution(p),P=p/this.getResolution(D),L=this.getOrigin(D),G=(0,k.toSize)(this.getTileSize(D),this.tmpSize_);a=P*Math.floor((a-L[0])/p+(A?.5:0))/G[0];e=P*Math.floor((L[1]-e)/p+(A?.5:0))/G[1];A?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,v.createOrUpdate)(D,
a,e,C)};f.prototype.getTileCoordForXYAndZ_=function(a,e,p,A,C){var D=this.getOrigin(p),P=this.getResolution(p),L=(0,k.toSize)(this.getTileSize(p),this.tmpSize_);a=Math.floor((a-D[0])/P+(A?.5:0))/L[0];e=Math.floor((D[1]-e)/P+(A?.5:0))/L[1];A?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,v.createOrUpdate)(p,a,e,C)};f.prototype.getTileCoordForCoordAndZ=function(a,e,p){return this.getTileCoordForXYAndZ_(a[0],a[1],e,!1,p)};f.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
f.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};f.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};f.prototype.getZForResolution=function(a,e){a=(0,l.linearFindNearest)(this.resolutions_,a,e||0);return(0,x.clamp)(a,this.minZoom,this.maxZoom)};f.prototype.calculateTileRanges_=function(a){for(var e=this.resolutions_.length,p=Array(e),A=this.minZoom;A<
e;++A)p[A]=this.getTileRangeForExtentAndZ(a,A);this.fullTileRanges_=p};return f}();F["default"]=Ja};
shadow$provide[271]=function(Ja,B,qb,F){function g(a){return a&&a.__esModule?a:{"default":a}}function m(a,e,p,A){A=void 0!==A?A:x["default"].TOP_LEFT;e=n(a,e,p);return new y["default"]({extent:a,origin:(0,d.getCorner)(a,A),resolutions:e,tileSize:p})}function n(a,e,p,A){e=void 0!==e?e:l.DEFAULT_MAX_ZOOM;var C=(0,d.getHeight)(a);a=(0,d.getWidth)(a);p=(0,f.toSize)(void 0!==p?p:l.DEFAULT_TILE_SIZE);A=0<A?A:Math.max(a/p[0],C/p[1]);e+=1;p=Array(e);for(C=0;C<e;++C)p[C]=A/Math.pow(2,C);return p}function E(a,
e,p,A){a=O(a);return m(a,e,p,A)}function O(a){a=(0,k.get)(a);var e=a.getExtent();e||(a=180*k.METERS_PER_UNIT[v["default"].DEGREES]/a.getMetersPerUnit(),e=(0,d.createOrUpdate)(-a,-a,a,a));return e}Object.defineProperty(F,"__esModule",{value:!0});F.getForProjection=function(a){var e=a.getDefaultTileGrid();e||(e=E(a),a.setDefaultTileGrid(e));return e};F.wrapX=function(a,e,p){var A=e[0],C=a.getTileCoordCenter(e);p=O(p);if((0,d.containsCoordinate)(p,C))return e;e=(0,d.getWidth)(p);C[0]+=e*Math.ceil((p[0]-
C[0])/e);return a.getTileCoordForCoordAndZ(C,A)};F.createForExtent=m;F.createXYZ=function(a){a=a||{};var e=a.extent||(0,k.get)("EPSG:3857").getExtent();a={extent:e,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:n(e,a.maxZoom,a.tileSize,a.maxResolution)};return new y["default"](a)};F.createForProjection=E;F.extentFromProjection=O;var x=g(B(81)),y=g(B(270)),v=g(B(123)),l=B(126),k=B(133),d=B(83),f=B(157)};
shadow$provide[272]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.TileSourceEvent=void 0;Ja=g(B(87));qb=g(B(241));var m=g(B(267)),n=g(B(120)),E=B(77),O=B(79),x=B(133),y=B(266),v=B(271),l=B(157),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,
a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;e.opaque_=void 0!==a.opaque?a.opaque:!1;e.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;e.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var p=[256,256],A=a.tileGrid;
A&&(0,l.toSize)(A.getTileSize(A.getMinZoom()),p);e.tileCache=new m["default"](a.cacheSize||0);e.tmpSize=[0,0];e.key_=a.key||"";e.tileOptions={transition:a.transition};e.zDirection=a.zDirection?a.zDirection:0;return e}k(f,d);f.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};f.prototype.expireCache=function(a,e){(a=this.getTileCacheForProjection(a))&&a.expireCache(e)};f.prototype.forEachLoadedTile=function(a,e,p,A){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var C=
!0,D,P,L=p.minX;L<=p.maxX;++L)for(var G=p.minY;G<=p.maxY;++G)D=(0,y.getKeyZXY)(e,L,G),P=!1,a.containsKey(D)&&(D=a.get(D),(P=D.getState()===n["default"].LOADED)&&(P=!1!==A(D))),P||(C=!1);return C};f.prototype.getGutterForProjection=function(a){return 0};f.prototype.getKey=function(){return this.key_};f.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};f.prototype.getOpaque=function(a){return this.opaque_};f.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
f.prototype.getTile=function(a,e,p,A,C){return(0,E["abstract"])()};f.prototype.getTileGrid=function(){return this.tileGrid};f.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,v.getForProjection)(a)};f.prototype.getTileCacheForProjection=function(a){(0,O.assert)((0,x.equivalent)(this.getProjection(),a),68);return this.tileCache};f.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};f.prototype.getTilePixelSize=function(a,e,p){p=this.getTileGridForProjection(p);
e=this.getTilePixelRatio(e);a=(0,l.toSize)(p.getTileSize(a),this.tmpSize);return 1==e?a:(0,l.scale)(a,e,this.tmpSize)};f.prototype.getTileCoordForTileUrlFunction=function(a,e){e=void 0!==e?e:this.getProjection();var p=this.getTileGridForProjection(e);this.getWrapX()&&e.isGlobal()&&(a=(0,v.wrapX)(p,a,e));return(0,y.withinExtentAndZ)(a,p)?a:null};f.prototype.clear=function(){this.tileCache.clear()};f.prototype.refresh=function(){this.clear();d.prototype.refresh.call(this)};f.prototype.updateCacheSize=
function(a,e){e=this.getTileCacheForProjection(e);a>e.highWaterMark&&(e.highWaterMark=a)};f.prototype.useTile=function(a,e,p,A){};return f}(qb["default"]);Ja=function(d){function f(a,e){a=d.call(this,a)||this;a.tile=e;return a}k(f,d);return f}(Ja["default"]);F.TileSourceEvent=Ja;F["default"]=B};
shadow$provide[273]=function(Ja,B,qb,F){function g(x,y){var v=/\{z\}/g,l=/\{x\}/g,k=/\{y\}/g,d=/\{-y\}/g;return function(f,a,e){if(f)return x.replace(v,f[0].toString()).replace(l,f[1].toString()).replace(k,f[2].toString()).replace(d,function(){var p=y.getFullTileRange(f[0]);(0,n.assert)(p,55);return(p.getHeight()-f[2]-1).toString()})}}function m(x){return 1===x.length?x[0]:function(y,v,l){if(y){var k=(0,O.hash)(y);k=(0,E.modulo)(k,x.length);return x[k](y,v,l)}}}Object.defineProperty(F,"__esModule",
{value:!0});F.createFromTemplate=g;F.createFromTemplates=function(x,y){for(var v=x.length,l=Array(v),k=0;k<v;++k)l[k]=g(x[k],y);return m(l)};F.createFromTileUrlFunctions=m;F.nullTileUrlFunction=function(x,y,v){};F.expandUrl=function(x){var y=[],v=/\{([a-z])-([a-z])\}/.exec(x);if(v){for(var l=v[1].charCodeAt(0),k=v[2].charCodeAt(0);l<=k;++l)y.push(x.replace(v[0],String.fromCharCode(l)));return y}if(v=/\{(\d+)-(\d+)\}/.exec(x)){k=parseInt(v[2],10);for(l=parseInt(v[1],10);l<=k;l++)y.push(x.replace(v[0],
l.toString()));return y}y.push(x);return y};var n=B(79),E=B(84),O=B(266)};
shadow$provide[274]=function(Ja,B,qb,F){function g(d){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return g(d)}function m(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;m=function(){return d};return d}function n(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=n(B(268)),O=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==g(d)&&"function"!==typeof d)return{"default":d};var f=m();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in d)if(Object.prototype.hasOwnProperty.call(d,p)){var A=e?Object.getOwnPropertyDescriptor(d,p):null;A&&(A.get||A.set)?Object.defineProperty(a,p,A):a[p]=d[p]}a["default"]=d;f&&f.set(d,a);return a}(B(272)),x=n(B(120)),y=B(273),v=B(266),l=B(77),k=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ja=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;e.generateTileUrlFunction_=e.tileUrlFunction===f.prototype.tileUrlFunction;e.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(e.tileUrlFunction=a.tileUrlFunction);e.urls=null;a.urls?e.setUrls(a.urls):a.url&&e.setUrl(a.url);e.tileLoadingKeys_={};return e}k(f,d);f.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
f.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};f.prototype.getUrls=function(){return this.urls};f.prototype.handleTileChange=function(a){a=a.target;var e=(0,l.getUid)(a),p=a.getState();if(p==x["default"].LOADING){this.tileLoadingKeys_[e]=!0;var A=E["default"].TILELOADSTART}else e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],A=p==x["default"].ERROR?E["default"].TILELOADERROR:
p==x["default"].LOADED?E["default"].TILELOADEND:void 0);void 0!=A&&this.dispatchEvent(new O.TileSourceEvent(A,a))};f.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};f.prototype.setTileUrlFunction=function(a,e){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof e?this.setKey(e):this.changed()};f.prototype.setUrl=function(a){this.urls=a=(0,y.expandUrl)(a);this.setUrls(a)};f.prototype.setUrls=function(a){this.urls=
a;var e=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,y.createFromTemplates)(a,this.tileGrid),e):this.setKey(e)};f.prototype.tileUrlFunction=function(a,e,p){};f.prototype.useTile=function(a,e,p){a=(0,v.getKeyZXY)(a,e,p);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return f}(O["default"]);F["default"]=Ja};
shadow$provide[275]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}function m(p,A){p.getImage().src=A}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=g(B(91)),E=g(B(259)),O=g(B(264)),x=g(B(267)),y=g(B(120));Ja=g(B(274));var v=B(260),l=B(262),k=B(133),d=B(266),f=B(271),a=B(77),e=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,
L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C){var D=p.call(this,{attributions:C.attributions,cacheSize:C.cacheSize,opaque:C.opaque,projection:C.projection,state:C.state,tileGrid:C.tileGrid,tileLoadFunction:C.tileLoadFunction?C.tileLoadFunction:m,tilePixelRatio:C.tilePixelRatio,tileUrlFunction:C.tileUrlFunction,url:C.url,urls:C.urls,wrapX:C.wrapX,transition:C.transition,
key:C.key,attributionsCollapsible:C.attributionsCollapsible,zDirection:C.zDirection})||this;D.crossOrigin=void 0!==C.crossOrigin?C.crossOrigin:null;D.tileClass=void 0!==C.tileClass?C.tileClass:E["default"];D.tileCacheForProjection={};D.tileGridForProjection={};D.reprojectionErrorThreshold_=C.reprojectionErrorThreshold;D.contextOptions_=!1===C.imageSmoothing?l.IMAGE_SMOOTHING_DISABLED:void 0;D.renderReprojectionEdges_=!1;return D}e(A,p);A.prototype.canExpireCache=function(){if(!v.ENABLE_RASTER_REPROJECTION)return p.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var C in this.tileCacheForProjection)if(this.tileCacheForProjection[C].canExpireCache())return!0;return!1};A.prototype.expireCache=function(C,D){if(v.ENABLE_RASTER_REPROJECTION){C=this.getTileCacheForProjection(C);this.tileCache.expireCache(this.tileCache==C?D:{});for(var P in this.tileCacheForProjection){var L=this.tileCacheForProjection[P];L.expireCache(L==C?D:{})}}else p.prototype.expireCache.call(this,C,D)};A.prototype.getContextOptions=function(){return this.contextOptions_};
A.prototype.getGutterForProjection=function(C){return v.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&C&&!(0,k.equivalent)(this.getProjection(),C)?0:this.getGutter()};A.prototype.getGutter=function(){return 0};A.prototype.getKey=function(){return p.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};A.prototype.getOpaque=function(C){return v.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&C&&!(0,k.equivalent)(this.getProjection(),C)?!1:p.prototype.getOpaque.call(this,
C)};A.prototype.getTileGridForProjection=function(C){if(!v.ENABLE_RASTER_REPROJECTION)return p.prototype.getTileGridForProjection.call(this,C);var D=this.getProjection();return!this.tileGrid||D&&!(0,k.equivalent)(D,C)?(D=(0,a.getUid)(C),D in this.tileGridForProjection||(this.tileGridForProjection[D]=(0,f.getForProjection)(C)),this.tileGridForProjection[D]):this.tileGrid};A.prototype.getTileCacheForProjection=function(C){if(!v.ENABLE_RASTER_REPROJECTION)return p.prototype.getTileCacheForProjection.call(this,
C);var D=this.getProjection();if(!D||(0,k.equivalent)(D,C))return this.tileCache;C=(0,a.getUid)(C);C in this.tileCacheForProjection||(this.tileCacheForProjection[C]=new x["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[C]};A.prototype.createTile_=function(C,D,P,L,G,z){C=[C,D,P];L=(D=this.getTileCoordForTileUrlFunction(C,G))?this.tileUrlFunction(D,L,G):void 0;L=new this.tileClass(C,void 0!==L?y["default"].IDLE:y["default"].EMPTY,void 0!==L?L:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);L.key=z;L.addEventListener(n["default"].CHANGE,this.handleTileChange.bind(this));return L};A.prototype.getTile=function(C,D,P,L,G){var z=this.getProjection();if(v.ENABLE_RASTER_REPROJECTION&&z&&G&&!(0,k.equivalent)(z,G)){var K=this.getTileCacheForProjection(G),H=[C,D,P];C=void 0;D=(0,d.getKey)(H);K.containsKey(D)&&(C=K.get(D));P=this.getKey();if(C&&C.key==P)return C;var R=this.getTileGridForProjection(z),U=this.getTileGridForProjection(G),ka=this.getTileCoordForTileUrlFunction(H,
G);L=new O["default"](z,R,G,U,H,ka,this.getTilePixelRatio(L),this.getGutter(),function(ba,fa,ja,Z){return this.getTileInternal(ba,fa,ja,Z,z)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);L.key=P;C?(L.interimTile=C,L.refreshInterimChain(),K.replace(D,L)):K.set(D,L);return L}return this.getTileInternal(C,D,P,L,z||G)};A.prototype.getTileInternal=function(C,D,P,L,G){var z=(0,d.getKeyZXY)(C,D,P),K=this.getKey();if(this.tileCache.containsKey(z)){var H=
this.tileCache.get(z);if(H.key!=K){var R=H;H=this.createTile_(C,D,P,L,G,K);R.getState()==y["default"].IDLE?H.interimTile=R.interimTile:H.interimTile=R;H.refreshInterimChain();this.tileCache.replace(z,H)}}else H=this.createTile_(C,D,P,L,G,K),this.tileCache.set(z,H);return H};A.prototype.setRenderReprojectionEdges=function(C){if(v.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=C){this.renderReprojectionEdges_=C;for(var D in this.tileCacheForProjection)this.tileCacheForProjection[D].clear();
this.changed()}};A.prototype.setTileGridForProjection=function(C,D){v.ENABLE_RASTER_REPROJECTION&&(C=(0,k.get)(C))&&(C=(0,a.getUid)(C),C in this.tileGridForProjection||(this.tileGridForProjection[C]=D))};return A}(Ja["default"]);F["default"]=B};
shadow$provide[276]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.jsonp=function(m,n,E,O){function x(){delete window[v];y.parentNode.removeChild(y)}var y=document.createElement("script"),v="olc_"+(0,g.getUid)(n);y.async=!0;y.src=m+(-1==m.indexOf("?")?"?":"\x26")+(O||"callback")+"\x3d"+v;var l=setTimeout(function(){x();E&&E()},1E4);window[v]=function(k){clearTimeout(l);x();n(k)};document.getElementsByTagName("head")[0].appendChild(y)};var g=B(77)};
shadow$provide[277]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}function m(d){var f=d[0],a=Array(f),e=1<<f-1,p;for(p=0;p<f;++p){var A=48;d[1]&e&&(A+=1);d[2]&e&&(A+=2);a[p]=String.fromCharCode(A);e>>=1}return a.join("")}Object.defineProperty(F,"__esModule",{value:!0});F.quadKey=m;F["default"]=void 0;var n=g(B(98));Ja=g(B(275));var E=B(83),O=B(273),x=B(266),y=B(271),v=B(133),l=B(276),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a){var e=void 0!==a.hidpi?a.hidpi:!1;var p=d.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,v.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:n["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;p.hidpi_=e;p.culture_=void 0!==a.culture?a.culture:"en-us";p.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;p.apiKey_=a.key;p.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+p.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+p.apiKey_+"\x26c\x3d"+p.culture_;(0,l.jsonp)(a,p.handleImageryMetadataResponse.bind(p),
void 0,"jsonp");return p}k(f,d);f.prototype.getApiKey=function(){return this.apiKey_};f.prototype.getImagerySet=function(){return this.imagerySet_};f.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(n["default"].ERROR);else{var e=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var p=this.getProjection();
p=(0,y.extentFromProjection)(p);var A=this.hidpi_?2:1;A=e.imageWidth==e.imageHeight?e.imageWidth/A:[e.imageWidth/A,e.imageHeight/A];this.tileGrid=(0,y.createXYZ)({extent:p,minZoom:e.zoomMin,maxZoom:a,tileSize:A});var C=this.culture_,D=this.hidpi_;this.tileUrlFunction=(0,O.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(L){var G=[0,0,0],z=e.imageUrl.replace("{subdomain}",L).replace("{culture}",C);return function(K,H,R){if(K)return(0,x.createOrUpdate)(K[0],K[1],K[2],G),K=z,D&&(K+="\x26dpi\x3dd1\x26device\x3dmobile"),
K.replace("{quadkey}",m(G))}}));if(e.imageryProviders){var P=(0,v.getTransformFromProjections)((0,v.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(L){var G=[],z=L.viewState,K=this.getTileGrid(),H=K.getZForResolution(z.resolution,this.zDirection),R=K.getTileCoordForCoordAndZ(z.center,H)[0];e.imageryProviders.map(function(U){for(var ka=!1,ba=U.coverageAreas,fa=0,ja=ba.length;fa<ja;++fa){var Z=ba[fa];if(R>=Z.zoomMin&&R<=Z.zoomMax&&(Z=Z.bbox,Z=[Z[1],Z[0],Z[3],Z[2]],Z=(0,E.applyTransform)(Z,
P),(0,E.intersects)(Z,L.extent))){ka=!0;break}}ka&&G.push(U.attribution)});G.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return G}.bind(this))}this.setState(n["default"].READY)}};return f}(Ja["default"]);F["default"]=B};
shadow$provide[278]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(n){return n&&n.__esModule?n:{"default":n}}(B(275));var g=B(271),m=function(){var n=function(E,O){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(x[v]=y[v])};return n(E,O)};return function(E,O){function x(){this.constructor=E}n(E,O);E.prototype=null===O?Object.create(O):
(x.prototype=O.prototype,new x)}}();B=function(n){function E(O){O=O||{};var x=void 0!==O.projection?O.projection:"EPSG:3857",y=void 0!==O.tileGrid?O.tileGrid:(0,g.createXYZ)({extent:(0,g.extentFromProjection)(x),maxResolution:O.maxResolution,maxZoom:O.maxZoom,minZoom:O.minZoom,tileSize:O.tileSize});return n.call(this,{attributions:O.attributions,cacheSize:O.cacheSize,crossOrigin:O.crossOrigin,imageSmoothing:O.imageSmoothing,opaque:O.opaque,projection:x,reprojectionErrorThreshold:O.reprojectionErrorThreshold,
tileGrid:y,tileLoadFunction:O.tileLoadFunction,tilePixelRatio:O.tilePixelRatio,tileUrlFunction:O.tileUrlFunction,url:O.url,urls:O.urls,wrapX:void 0!==O.wrapX?O.wrapX:!0,transition:O.transition,attributionsCollapsible:O.attributionsCollapsible,zDirection:O.zDirection})||this}m(E,n);return E}(Ja["default"]);F["default"]=B};
shadow$provide[279]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(98));Ja=g(B(278));var n=B(89),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){var v=O.call(this,{attributions:y.attributions,cacheSize:y.cacheSize,crossOrigin:y.crossOrigin,maxZoom:void 0!==y.maxZoom?y.maxZoom:18,minZoom:y.minZoom,projection:y.projection,transition:y.transition,wrapX:y.wrapX})||this;v.account_=y.account;v.mapId_=y.map||"";v.config_=y.config||{};v.templateCache_={};v.initializeMap_();return v}E(x,O);x.prototype.getConfig=function(){return this.config_};x.prototype.updateConfig=
function(y){(0,n.assign)(this.config_,y);this.initializeMap_()};x.prototype.setConfig=function(y){this.config_=y||{};this.initializeMap_()};x.prototype.initializeMap_=function(){var y=JSON.stringify(this.config_);if(this.templateCache_[y])this.applyTemplate_(this.templateCache_[y]);else{var v="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(v+="/named/"+this.mapId_);var l=new XMLHttpRequest;l.addEventListener("load",this.handleInitResponse_.bind(this,y));l.addEventListener("error",this.handleInitError_.bind(this));
l.open("POST",v);l.setRequestHeader("Content-type","application/json");l.send(JSON.stringify(this.config_))}};x.prototype.handleInitResponse_=function(y,v){v=v.target;if(!v.status||200<=v.status&&300>v.status){var l=void 0;try{l=JSON.parse(v.responseText)}catch(k){this.setState(m["default"].ERROR);return}this.applyTemplate_(l);this.templateCache_[y]=l;this.setState(m["default"].READY)}else this.setState(m["default"].ERROR)};x.prototype.handleInitError_=function(y){this.setState(m["default"].ERROR)};
x.prototype.applyTemplate_=function(y){this.setUrl("https://"+y.cdn_url.https+"/"+this.account_+"/api/v1/map/"+y.layergroupid+"/{z}/{x}/{y}.png")};return x}(Ja["default"]);F["default"]=B};
shadow$provide[280]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(91)),n=g(B(193)),E=g(B(122)),O=g(B(148));Ja=g(B(245));var x=B(101),y=B(79),v=B(83),l=B(77),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,
a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;e.resolution=void 0;e.distance=void 0!==a.distance?a.distance:20;e.features=[];e.geometryFunction=a.geometryFunction||function(p){p=p.getGeometry();(0,y.assert)(p.getType()==E["default"].POINT,10);return p};e.boundRefresh_=e.refresh.bind(e);e.setSource(a.source||null);return e}k(f,d);f.prototype.clear=
function(a){this.features.length=0;d.prototype.clear.call(this,a)};f.prototype.getDistance=function(){return this.distance};f.prototype.getSource=function(){return this.source};f.prototype.loadFeatures=function(a,e,p){this.source.loadFeatures(a,e,p);e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))};f.prototype.setDistance=function(a){this.distance=a;this.refresh()};f.prototype.setSource=function(a){this.source&&this.source.removeEventListener(m["default"].CHANGE,
this.boundRefresh_);(this.source=a)&&a.addEventListener(m["default"].CHANGE,this.boundRefresh_);this.refresh()};f.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};f.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,v.createEmpty)(),e=this.distance*this.resolution,p=this.source.getFeatures(),A={},C=0,D=p.length;C<D;C++){var P=p[C];(0,l.getUid)(P)in A||!(P=this.geometryFunction(P))||(P=P.getCoordinates(),(0,v.createOrUpdateFromCoordinate)(P,
a),(0,v.buffer)(a,e,a),P=this.source.getFeaturesInExtent(a),P=P.filter(function(L){L=(0,l.getUid)(L);return L in A?!1:A[L]=!0}),this.features.push(this.createCluster(P)))}};f.prototype.createCluster=function(a){for(var e=[0,0],p=a.length-1;0<=p;--p){var A=this.geometryFunction(a[p]);A?(0,x.add)(e,A.getCoordinates()):a.splice(p,1)}(0,x.scale)(e,1/a.length);e=new n["default"](new O["default"](e));e.set("features",a);return e};return f}(Ja["default"]);F["default"]=B};
shadow$provide[281]=function(Ja,B,qb,F){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.CustomTile=void 0;var m=B(126);Ja=g(B(259));var n=g(B(270));qb=g(B(275));var E=g(B(120)),O=B(79),x=B(106),y=B(273),v=B(83),l=B(157),k=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,
e)};return function(a,e){function p(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}(),d=function(f){function a(e,p,A,C,D,P,L){p=f.call(this,p,A,C,D,P,L)||this;p.zoomifyImage_=null;p.tileSize_=e;return p}k(a,f);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=f.prototype.getImage.call(this);if(this.state==E["default"].LOADED){var p=this.tileSize_;if(e.width==p[0]&&e.height==p[1])return this.zoomifyImage_=e;p=(0,
x.createCanvasContext2D)(p[0],p[1]);p.drawImage(e,0,0);return this.zoomifyImage_=p.canvas}return e};return a}(Ja["default"]);F.CustomTile=d;B=function(f){function a(e){var p=this,A=e.size;p=e.tilePixelRatio||1;var C=A[0],D=A[1],P=[],L=e.tileSize||m.DEFAULT_TILE_SIZE;A=L*p;switch(void 0!==e.tierSizeCalculation?e.tierSizeCalculation:"default"){case "default":for(;C>A||D>A;)P.push([Math.ceil(C/A),Math.ceil(D/A)]),A+=A;break;case "truncated":for(var G=C,z=D;G>A||z>A;)P.push([Math.ceil(G/A),Math.ceil(z/
A)]),G>>=1,z>>=1;break;default:(0,O.assert)(!1,53)}P.push([1,1]);P.reverse();A=[p];var K=[0];G=1;for(z=P.length;G<z;G++)A.push(p<<G),K.push(P[G-1][0]*P[G-1][1]+K[G-1]);A.reverse();C=new n["default"]({tileSize:L,extent:e.extent||[0,-D,C,0],resolutions:A});(D=e.url)&&-1==D.indexOf("{TileGroup}")&&-1==D.indexOf("{tileIndex}")&&(D+="{TileGroup}/{z}-{x}-{y}.jpg");D=(0,y.expandUrl)(D);var H=L*p;D=(0,y.createFromTileUrlFunctions)(D.map(function(R){return function(U,ka,ba){if(U){ka=U[0];ba=U[1];U=U[2];var fa=
ba+U*P[ka][0],ja={z:ka,x:ba,y:U,tileIndex:fa,TileGroup:"TileGroup"+((fa+K[ka])/H|0)};return R.replace(/\{(\w+?)\}/g,function(Z,Q){return ja[Q]})}}}));G=d.bind(null,(0,l.toSize)(L*p));p=f.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,tilePixelRatio:p,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:G,tileGrid:C,tileUrlFunction:D,transition:e.transition})||this;p.zDirection=e.zDirection;
e=C.getTileCoordForCoordAndResolution((0,v.getCenter)(C.getExtent()),A[A.length-1]);e=D(e,1,null);A=new Image;A.addEventListener("error",function(){H=L;this.changed()}.bind(p));A.src=e;return p}k(a,f);return a}(qb["default"]);F["default"]=B};
shadow$provide[282]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.Versions=void 0;var g=B(79),m=function(){for(var l=0,k=0,d=arguments.length;k<d;k++)l+=arguments[k].length;l=Array(l);var f=0;for(k=0;k<d;k++)for(var a=arguments[k],e=0,p=a.length;e<p;e++,f++)l[f]=a[e];return l},n={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};F.Versions=n;var E={};E[n.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};E[n.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};E[n.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};E.none={none:{supports:[],formats:[],qualities:[]}};var O=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
x=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,y=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,v={};v[n.VERSION1]=function(l){var k=l.getComplianceLevelSupportedFeatures();void 0===k&&(k=E[n.VERSION1].level0);return{url:void 0===l.imageInfo["@id"]?void 0:l.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:k.supports,formats:m(k.formats,[void 0===l.imageInfo.formats?[]:l.imageInfo.formats]),qualities:m(k.qualities,[void 0===l.imageInfo.qualities?
[]:l.imageInfo.qualities]),resolutions:l.imageInfo.scale_factors,tileSize:void 0!==l.imageInfo.tile_width?void 0!==l.imageInfo.tile_height?[l.imageInfo.tile_width,l.imageInfo.tile_height]:[l.imageInfo.tile_width,l.imageInfo.tile_width]:void 0!=l.imageInfo.tile_height?[l.imageInfo.tile_height,l.imageInfo.tile_height]:void 0}};v[n.VERSION2]=function(l){var k=l.getComplianceLevelSupportedFeatures(),d=Array.isArray(l.imageInfo.profile)&&1<l.imageInfo.profile.length,f=d&&l.imageInfo.profile[1].supports?
l.imageInfo.profile[1].supports:[],a=d&&l.imageInfo.profile[1].formats?l.imageInfo.profile[1].formats:[];d=d&&l.imageInfo.profile[1].qualities?l.imageInfo.profile[1].qualities:[];return{url:l.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===l.imageInfo.sizes?void 0:l.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===l.imageInfo.tiles?void 0:[l.imageInfo.tiles.map(function(e){return e.width})[0],l.imageInfo.tiles.map(function(e){return void 0===e.height?
e.width:e.height})[0]],resolutions:void 0===l.imageInfo.tiles?void 0:l.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:m(k.supports,f),formats:m(k.formats,a),qualities:m(k.qualities,d)}};v[n.VERSION3]=function(l){var k=l.getComplianceLevelSupportedFeatures(),d=void 0===l.imageInfo.extraFormats?k.formats:m(k.formats,l.imageInfo.extraFormats),f=void 0!==l.imageInfo.preferredFormats&&Array.isArray(l.imageInfo.preferredFormats)&&0<l.imageInfo.preferredFormats.length?l.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,e){return void 0===a&&d.includes(e)?e:a},void 0):void 0;return{url:l.imageInfo.id,sizes:void 0===l.imageInfo.sizes?void 0:l.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===l.imageInfo.tiles?void 0:[l.imageInfo.tiles.map(function(a){return a.width})[0],l.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===l.imageInfo.tiles?void 0:l.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
l.imageInfo.extraFeatures?k.supports:m(k.supports,l.imageInfo.extraFeatures),formats:d,qualities:void 0===l.imageInfo.extraQualities?k.qualities:m(k.qualities,l.imageInfo.extraQualities),preferredFormat:f}};Ja=function(){function l(k){this.setImageInfo(k)}l.prototype.setImageInfo=function(k){this.imageInfo="string"==typeof k?JSON.parse(k):k};l.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var k=this.imageInfo["@context"]||"ol-no-context";"string"==typeof k&&(k=[k]);for(var d=
0;d<k.length;d++)switch(k[d]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return n.VERSION1;case "http://iiif.io/api/image/2/context.json":return n.VERSION2;case "http://iiif.io/api/image/3/context.json":return n.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(n.VERSION1)&&this.imageInfo.identifier)return n.VERSION1}(0,g.assert)(!1,61)}};l.prototype.getComplianceLevelEntryFromProfile=function(k){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===k&&(k=this.getImageApiVersion()),k){case n.VERSION1:if(O.test(this.imageInfo.profile))return this.imageInfo.profile;break;case n.VERSION3:if(y.test(this.imageInfo.profile))return this.imageInfo.profile;break;case n.VERSION2:if("string"===typeof this.imageInfo.profile&&x.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
x.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};l.prototype.getComplianceLevelFromProfile=function(k){k=this.getComplianceLevelEntryFromProfile(k);if(void 0!==k)return k=k.match(/level[0-2](?:\.json)?$/g),Array.isArray(k)?k[0].replace(".json",""):void 0};l.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var k=this.getImageApiVersion(),d=this.getComplianceLevelFromProfile(k);return void 0===d?E.none.none:E[k][d]}};l.prototype.getTileSourceOptions=
function(k){k=k||{};var d=this.getImageApiVersion();if(void 0!==d){var f=void 0===d?void 0:v[d](this);if(void 0!==f)return{url:f.url,version:d,size:[this.imageInfo.width,this.imageInfo.height],sizes:f.sizes,format:void 0!==k.format&&f.formats.includes(k.format)?k.format:void 0!==f.preferredFormat?f.preferredFormat:"jpg",supports:f.supports,quality:k.quality&&f.qualities.includes(k.quality)?k.quality:f.qualities.includes("native")?"native":"default",resolutions:Array.isArray(f.resolutions)?f.resolutions.sort(function(a,
e){return e-a}):void 0,tileSize:f.tileSize}}};return l}();F["default"]=Ja};
shadow$provide[283]=function(Ja,B,qb,F){function g(d){return d&&d.__esModule?d:{"default":d}}function m(d){return d.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var n=g(B(270));Ja=g(B(275));var E=B(281),O=B(126),x=B(282),y=B(79),v=B(83),l=B(157),k=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,
A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();B=function(d){function f(a){var e=this;a=a||{};var p=a.url||"";p+=p.lastIndexOf("/")===p.length-1||""===p?"":"/";var A=a.version||x.Versions.VERSION2,C=a.sizes||[];e=a.size;(0,y.assert)(void 0!=e&&Array.isArray(e)&&2==e.length&&!isNaN(e[0])&&0<e[0]&&!isNaN(e[1])&&0<e[1],60);var D=e[0],P=e[1];e=a.tileSize;var L=a.tilePixelRatio||1,G=a.format||
"jpg",z=a.quality||(a.version==x.Versions.VERSION1?"native":"default"),K=a.resolutions||[],H=a.supports||[],R=a.extent||[0,-P,D,0],U=void 0!=C&&Array.isArray(C)&&0<C.length,ka=void 0!==e&&("number"===typeof e&&Number.isInteger(e)&&0<e||Array.isArray(e)&&0<e.length),ba=void 0!=H&&Array.isArray(H)&&(H.includes("regionByPx")||H.includes("regionByPct"))&&(H.includes("sizeByWh")||H.includes("sizeByH")||H.includes("sizeByW")||H.includes("sizeByPct")),fa,ja;K.sort(function(da,aa){return aa-da});if(ka||ba){if(void 0!=
e)if("number"===typeof e&&Number.isInteger(e)&&0<e)var Z=fa=e;else if(Array.isArray(e)&&0<e.length){if(1==e.length||void 0==e[1]&&Number.isInteger(e[0]))fa=e[0],Z=e[0];2==e.length&&(Number.isInteger(e[0])&&Number.isInteger(e[1])?(fa=e[0],Z=e[1]):void 0==e[0]&&Number.isInteger(e[1])&&(fa=e[1],Z=e[1]))}if(void 0===fa||void 0===Z)Z=fa=O.DEFAULT_TILE_SIZE;if(0==K.length)for(var Q=ja=Math.max(Math.ceil(Math.log(D/fa)/Math.LN2),Math.ceil(Math.log(P/Z)/Math.LN2));0<=Q;Q--)K.push(Math.pow(2,Q));else Q=Math.max.apply(Math,
K),ja=Math.round(Math.log(Q)/Math.LN2)}else if(fa=D,Z=P,K=[],U){C.sort(function(da,aa){return da[0]-aa[0]});ja=-1;var q=[];for(Q=0;Q<C.length;Q++){var N=D/C[Q][0];0<K.length&&K[K.length-1]==N?q.push(Q):(K.push(N),ja++)}if(0<q.length)for(Q=0;Q<q.length;Q++)C.splice(q[Q]-Q,1)}else K.push(1),C.push([D,P]),ja=0;R=new n["default"]({tileSize:[fa,Z],extent:R,origin:(0,v.getTopLeft)(R),resolutions:K});e=E.CustomTile.bind(null,(0,l.toSize)(e||256).map(function(da){return da*L}));e=d.call(this,{attributions:a.attributions,
attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:e,tileGrid:R,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(da,aa,wa){var ua;aa=da[0];if(!(aa>ja)){wa=da[1];var Ea=da[2];da=K[aa];if(!(void 0===wa||void 0===Ea||void 0===da||0>wa||Math.ceil(D/da/fa)<=wa||0>Ea||Math.ceil(P/da/Z)<=Ea)){if(ba||ka){var $a=wa*fa*
da,kb=Ea*Z*da,ta=fa*da;Ea=Z*da;aa=fa;wa=Z;$a+ta>D&&(ta=D-$a);kb+Ea>P&&(Ea=P-kb);$a+fa*da>D&&(aa=Math.floor((D-$a+da-1)/da));kb+Z*da>P&&(wa=Math.floor((P-kb+da-1)/da));if(0==$a&&ta==D&&0==kb&&Ea==P)var Ta="full";else!ba||H.includes("regionByPx")?Ta=$a+","+kb+","+ta+","+Ea:H.includes("regionByPct")&&(Ta=m($a/D*100),$a=m(kb/P*100),ta=m(ta/D*100),Ea=m(Ea/P*100),Ta="pct:"+Ta+","+$a+","+ta+","+Ea);A!=x.Versions.VERSION3||ba&&!H.includes("sizeByWh")?!ba||H.includes("sizeByW")?ua=aa+",":H.includes("sizeByH")?
ua=","+wa:H.includes("sizeByWh")?ua=aa+","+wa:H.includes("sizeByPct")&&(ua="pct:"+m(100/da)):ua=aa+","+wa}else Ta="full",U?(ua=C[aa][0],da=C[aa][1],ua=A==x.Versions.VERSION3?ua==D&&da==P?"max":ua+","+da:ua==D?"full":ua+","):ua=A==x.Versions.VERSION3?"max":"full";return p+Ta+"/"+ua+"/0/"+z+"."+G}}},transition:a.transition})||this;e.zDirection=a.zDirection;return e}k(f,d);return f}(Ja["default"]);F["default"]=B};
shadow$provide[284]=function(Ja,B,qb,F){function g(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=B(260),n=g(B(91));Ja=g(B(230));var E=g(B(202)),O=g(B(261)),x=B(263),y=B(83),v=B(92),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=
d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f,a,e,p,A,C,D){var P,L=f.getExtent(),G=(P=a.getExtent())?(0,y.getIntersection)(e,P):e;P=(0,y.getCenter)(G);P=(0,x.calculateSourceResolution)(f,a,P,p);f=new O["default"](f,a,G,L,P*m.ERROR_THRESHOLD,p);G=f.calculateSourceExtent();P=(A=C(G,P,A))?E["default"].IDLE:E["default"].EMPTY;C=A?A.getPixelRatio():1;P=k.call(this,e,p,C,P)||this;P.targetProj_=a;P.maxSourceExtent_=L;P.triangulation_=f;P.targetResolution_=
p;P.targetExtent_=e;P.sourceImage_=A;P.sourcePixelRatio_=C;P.contextOptions_=D;P.canvas_=null;P.sourceListenerKey_=null;return P}l(d,k);d.prototype.disposeInternal=function(){this.state==E["default"].LOADING&&this.unlistenSource_();k.prototype.disposeInternal.call(this)};d.prototype.getImage=function(){return this.canvas_};d.prototype.getProjection=function(){return this.targetProj_};d.prototype.reproject_=function(){var f=this.sourceImage_.getState();if(f==E["default"].LOADED){var a=(0,y.getWidth)(this.targetExtent_)/
this.targetResolution_,e=(0,y.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,x.render)(a,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=f;this.changed()};d.prototype.load=function(){if(this.state==E["default"].IDLE){this.state=E["default"].LOADING;this.changed();var f=
this.sourceImage_.getState();f==E["default"].LOADED||f==E["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,v.listen)(this.sourceImage_,n["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==E["default"].LOADED||a==E["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};d.prototype.unlistenSource_=function(){(0,v.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return d}(Ja["default"]);F["default"]=B};
shadow$provide[285]=function(Ja,B,qb,F){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(F,"__esModule",{value:!0});F.defaultImageLoadFunction=function(a,e){a.getImage().src=e};F["default"]=F.ImageSourceEvent=F.ImageSourceEventType=void 0;Ja=g(B(87));var m=g(B(202)),n=g(B(284));qb=g(B(241));var E=B(260),O=B(262),x=B(77),y=B(83),v=B(133),l=B(75),k=function(){var a=function(e,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,
C){for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])};return a(e,p)};return function(e,p){function A(){this.constructor=e}a(e,p);e.prototype=null===p?Object.create(p):(A.prototype=p.prototype,new A)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};F.ImageSourceEventType=d;var f=function(a){function e(p,A){p=a.call(this,p)||this;p.image=A;return p}k(e,a);return e}(Ja["default"]);F.ImageSourceEvent=f;B=function(a){function e(p){var A=
a.call(this,{attributions:p.attributions,projection:p.projection,state:p.state})||this;A.resolutions_=void 0!==p.resolutions?p.resolutions:null;A.reprojectedImage_=null;A.reprojectedRevision_=0;A.contextOptions_=!1===p.imageSmoothing?O.IMAGE_SMOOTHING_DISABLED:void 0;return A}k(e,a);e.prototype.getResolutions=function(){return this.resolutions_};e.prototype.getContextOptions=function(){return this.contextOptions_};e.prototype.findNearestResolution=function(p){this.resolutions_&&(p=(0,l.linearFindNearest)(this.resolutions_,
p,0),p=this.resolutions_[p]);return p};e.prototype.getImage=function(p,A,C,D){var P=this.getProjection();if(E.ENABLE_RASTER_REPROJECTION&&P&&D&&!(0,v.equivalent)(P,D)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,v.equivalent)(this.reprojectedImage_.getProjection(),D)&&this.reprojectedImage_.getResolution()==A&&(0,y.equals)(this.reprojectedImage_.getExtent(),p))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=
new n["default"](P,D,p,A,C,function(L,G,z){return this.getImageInternal(L,G,z,P)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}P&&(D=P);return this.getImageInternal(p,A,C,D)};e.prototype.getImageInternal=function(p,A,C,D){return(0,x["abstract"])()};e.prototype.handleImageChange=function(p){p=p.target;switch(p.getState()){case m["default"].LOADING:this.loading=!0;this.dispatchEvent(new f(d.IMAGELOADSTART,p));break;case m["default"].LOADED:this.loading=
!1;this.dispatchEvent(new f(d.IMAGELOADEND,p));break;case m["default"].ERROR:this.loading=!1,this.dispatchEvent(new f(d.IMAGELOADERROR,p))}};return e}(qb["default"]);F["default"]=B};
shadow$provide[286]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.appendParams=function(g,m){var n=[];Object.keys(m).forEach(function(O){null!==m[O]&&void 0!==m[O]&&n.push(O+"\x3d"+encodeURIComponent(m[O]))});var E=n.join("\x26");g=g.replace(/[?&]$/,"");g=-1===g.indexOf("?")?g+"?":g+"\x26";return g+E}};
shadow$provide[287]=function(Ja,B,qb,F){function g(f){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return g(f)}function m(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;m=function(){return f};return f}function n(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=n(B(91)),O=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==g(f)&&"function"!==typeof f)return{"default":f};var a=m();if(a&&a.has(f))return a.get(f);var e={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor,A;for(A in f)if(Object.prototype.hasOwnProperty.call(f,A)){var C=p?Object.getOwnPropertyDescriptor(f,A):null;C&&(C.get||C.set)?Object.defineProperty(e,A,C):e[A]=f[A]}e["default"]=f;a&&a.set(f,e);return e}(B(285)),x=n(B(231)),y=B(286),v=B(79),l=B(89),k=B(83),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,e)};return function(a,e){function p(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}();Ja=function(f){function a(e){var p=e?e:{};e=f.call(this,{attributions:p.attributions,imageSmoothing:p.imageSmoothing,projection:p.projection,resolutions:p.resolutions})||
this;e.crossOrigin_=void 0!==p.crossOrigin?p.crossOrigin:null;e.hidpi_=void 0!==p.hidpi?p.hidpi:!0;e.url_=p.url;e.imageLoadFunction_=void 0!==p.imageLoadFunction?p.imageLoadFunction:O.defaultImageLoadFunction;e.params_=p.params||{};e.image_=null;e.imageSize_=[0,0];e.renderedRevision_=0;e.ratio_=void 0!==p.ratio?p.ratio:1.5;return e}d(a,f);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(e,p,A,C){if(void 0===this.url_)return null;p=this.findNearestResolution(p);
A=this.hidpi_?A:1;var D=this.image_;if(D&&this.renderedRevision_==this.getRevision()&&D.getResolution()==p&&D.getPixelRatio()==A&&(0,k.containsExtent)(D.getExtent(),e))return D;D={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,l.assign)(D,this.params_);e=e.slice();var P=(e[0]+e[2])/2,L=(e[1]+e[3])/2;if(1!=this.ratio_){var G=this.ratio_*(0,k.getWidth)(e)/2,z=this.ratio_*(0,k.getHeight)(e)/2;e[0]=P-G;e[1]=L-z;e[2]=P+G;e[3]=L+z}G=p/A;z=Math.ceil((0,k.getWidth)(e)/G);var K=Math.ceil((0,k.getHeight)(e)/G);
e[0]=P-G*z/2;e[2]=P+G*z/2;e[1]=L-G*K/2;e[3]=L+G*K/2;this.imageSize_[0]=z;this.imageSize_[1]=K;C=this.getRequestUrl_(e,this.imageSize_,A,C,D);this.image_=new x["default"](e,p,A,C,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(E["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(e,p,A,C,D){C=C.getCode().split(":").pop();
D.SIZE=p[0]+","+p[1];D.BBOX=e.join(",");D.BBOXSR=C;D.IMAGESR=C;D.DPI=Math.round(90*A);e=this.url_;p=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");p==e&&(0,v.assert)(!1,50);return(0,y.appendParams)(p,D)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};a.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())};a.prototype.updateParams=
function(e){(0,l.assign)(this.params_,e);this.image_=null;this.changed()};return a}(O["default"]);F["default"]=Ja};
shadow$provide[288]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(230));var m=g(B(202)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x,y,v,l,k){x=E.call(this,x,y,v,void 0!==k?m["default"].IDLE:m["default"].LOADED)||this;x.loader_=void 0!==k?k:null;x.canvas_=l;x.error_=null;return x}n(O,E);O.prototype.getError=function(){return this.error_};O.prototype.handleLoad_=function(x){x?(this.error_=x,this.state=m["default"].ERROR):this.state=m["default"].LOADED;this.changed()};O.prototype.load=function(){this.state==m["default"].IDLE&&(this.state=m["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};O.prototype.getImage=function(){return this.canvas_};return O}(Ja["default"]);F["default"]=B};
shadow$provide[289]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(288));Ja=g(B(285));var n=B(83),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===
y?Object.create(y):(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){var v=y?y:{};y=O.call(this,{attributions:v.attributions,imageSmoothing:v.imageSmoothing,projection:v.projection,resolutions:v.resolutions,state:v.state})||this;y.canvasFunction_=v.canvasFunction;y.canvas_=null;y.renderedRevision_=0;y.ratio_=void 0!==v.ratio?v.ratio:1.5;return y}E(x,O);x.prototype.getImageInternal=function(y,v,l,k){v=this.findNearestResolution(v);var d=this.canvas_;if(d&&this.renderedRevision_==this.getRevision()&&
d.getResolution()==v&&d.getPixelRatio()==l&&(0,n.containsExtent)(d.getExtent(),y))return d;y=y.slice();(0,n.scaleFromCenter)(y,this.ratio_);var f=(0,n.getWidth)(y)/v,a=(0,n.getHeight)(y)/v;(k=this.canvasFunction_.call(this,y,v,l,[f*l,a*l],k))&&(d=new m["default"](y,v,l,k));this.canvas_=d;this.renderedRevision_=this.getRevision();return d};return x}(Ja["default"]);F["default"]=B};
shadow$provide[290]=function(Ja,B,qb,F){function g(d){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return g(d)}function m(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;m=function(){return d};return d}function n(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=n(B(91)),O=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==g(d)&&"function"!==typeof d)return{"default":d};var f=m();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,p;for(p in d)if(Object.prototype.hasOwnProperty.call(d,p)){var A=e?Object.getOwnPropertyDescriptor(d,p):null;A&&(A.get||A.set)?Object.defineProperty(a,p,A):a[p]=d[p]}a["default"]=d;f&&f.set(d,a);return a}(B(285)),x=n(B(231)),y=B(286),v=B(89),l=B(83),k=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,p){e.__proto__=p}||function(e,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(e[A]=p[A])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ja=function(d){function f(a){var e=d.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;e.crossOrigin_=void 0!==a.crossOrigin?
a.crossOrigin:null;e.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;e.params_=a.params||{};e.url_=a.url;e.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:O.defaultImageLoadFunction;e.hidpi_=void 0!==a.hidpi?a.hidpi:!0;e.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;e.ratio_=void 0!==a.ratio?a.ratio:1;e.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;e.image_=null;e.renderedRevision_=0;return e}k(f,d);f.prototype.getParams=function(){return this.params_};f.prototype.getImageInternal=
function(a,e,p,A){e=this.findNearestResolution(e);p=this.hidpi_?p:1;var C=this.image_;if(C&&this.renderedRevision_==this.getRevision()&&C.getResolution()==e&&C.getPixelRatio()==p&&(0,l.containsExtent)(C.getExtent(),a))return C;1!=this.ratio_&&(a=a.slice(),(0,l.scaleFromCenter)(a,this.ratio_));C=(0,l.getWidth)(a)/e;var D=(0,l.getHeight)(a)/e;C=[C*p,D*p];void 0!==this.url_?(A=this.getUrl(this.url_,this.params_,a,C,A),C=new x["default"](a,e,p,A,this.crossOrigin_,this.imageLoadFunction_),C.addEventListener(E["default"].CHANGE,
this.handleImageChange.bind(this))):C=null;this.image_=C;this.renderedRevision_=this.getRevision();return C};f.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};f.prototype.updateParams=function(a){(0,v.assign)(this.params_,a);this.changed()};f.prototype.getUrl=function(a,e,p,A,C){C=this.metersPerUnit_;var D=this.displayDpi_,P=(0,l.getWidth)(p),L=(0,l.getHeight)(p),G=A[0],z=A[1];D=.0254/D;C=z*P>G*L?P*C/(G*D):L*C/(z*D);p=(0,l.getCenter)(p);A={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(A[0]),SETDISPLAYHEIGHT:Math.round(A[1]),SETVIEWSCALE:C,SETVIEWCENTERX:p[0],SETVIEWCENTERY:p[1]};(0,v.assign)(A,e);return(0,y.appendParams)(a,A)};f.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return f}(O["default"]);F["default"]=Ja};
shadow$provide[291]=function(Ja,B,qb,F){function g(a){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return g(a)}function m(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;m=function(){return a};return a}function n(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=n(B(91)),O=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==g(a)&&"function"!==typeof a)return{"default":a};var e=m();if(e&&e.has(a))return e.get(a);var p={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor,C;for(C in a)if(Object.prototype.hasOwnProperty.call(a,C)){var D=A?Object.getOwnPropertyDescriptor(a,C):null;D&&(D.get||D.set)?Object.defineProperty(p,C,D):p[C]=a[C]}p["default"]=a;e&&e.set(a,p);return p}(B(285)),x=n(B(202)),y=n(B(231)),v=B(89),l=B(106),k=B(83),d=B(133),
f=function(){var a=function(e,p){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(A[D]=C[D])};return a(e,p)};return function(e,p){function A(){this.constructor=e}a(e,p);e.prototype=null===p?Object.create(p):(A.prototype=p.prototype,new A)}}();Ja=function(a){function e(p){var A=void 0!==p.crossOrigin?p.crossOrigin:null,C=void 0!==p.imageLoadFunction?p.imageLoadFunction:O.defaultImageLoadFunction;
var D=a.call(this,{attributions:p.attributions,imageSmoothing:p.imageSmoothing,projection:(0,d.get)(p.projection)})||this;D.url_=p.url;D.imageExtent_=p.imageExtent;D.image_=new y["default"](D.imageExtent_,void 0,1,D.url_,A,C);D.imageSize_=p.imageSize?p.imageSize:null;D.image_.addEventListener(E["default"].CHANGE,D.handleImageChange.bind(D));return D}f(e,a);e.prototype.getImageExtent=function(){return this.imageExtent_};e.prototype.getImageInternal=function(p,A,C,D){return(0,k.intersects)(p,this.image_.getExtent())?
this.image_:null};e.prototype.getUrl=function(){return this.url_};e.prototype.handleImageChange=function(p){if(this.image_.getState()==x["default"].LOADED){var A=this.image_.getExtent(),C=this.image_.getImage();if(this.imageSize_){var D=this.imageSize_[0];var P=this.imageSize_[1]}else D=C.width,P=C.height;var L=(0,k.getHeight)(A)/P;A=Math.ceil((0,k.getWidth)(A)/L);A!=D&&(A=(0,l.createCanvasContext2D)(A,P),(0,v.assign)(A,this.getContextOptions()),L=A.canvas,A.drawImage(C,0,0,D,P,0,0,L.width,L.height),
this.image_.setImage(L))}a.prototype.handleImageChange.call(this,p)};return e}(O["default"]);F["default"]=Ja};
shadow$provide[292]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[293]=function(Ja,B,qb,F){function g(D){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"===typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};return g(D)}function m(){if("function"!==typeof WeakMap)return null;var D=new WeakMap;m=function(){return D};return D}function n(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=B(262),O=n(B(91)),x=function(D){if(D&&D.__esModule)return D;if(null===D||"object"!==g(D)&&"function"!==typeof D)return{"default":D};var P=m();if(P&&P.has(D))return P.get(D);var L={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in D)if(Object.prototype.hasOwnProperty.call(D,z)){var K=G?Object.getOwnPropertyDescriptor(D,z):null;K&&(K.get||K.set)?Object.defineProperty(L,z,K):L[z]=D[z]}L["default"]=D;P&&P.set(D,L);return L}(B(285)),y=n(B(231)),v=n(B(292)),l=B(286),k=B(79),d=
B(89),f=B(263),a=B(100),e=B(83),p=B(133),A=function(){var D=function(P,L){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,z){G.__proto__=z}||function(G,z){for(var K in z)Object.prototype.hasOwnProperty.call(z,K)&&(G[K]=z[K])};return D(P,L)};return function(P,L){function G(){this.constructor=P}D(P,L);P.prototype=null===L?Object.create(L):(G.prototype=L.prototype,new G)}}(),C=[101,101];Ja=function(D){function P(L){var G=L?L:{};L=D.call(this,{attributions:G.attributions,imageSmoothing:G.imageSmoothing,
projection:G.projection,resolutions:G.resolutions})||this;L.crossOrigin_=void 0!==G.crossOrigin?G.crossOrigin:null;L.url_=G.url;L.imageLoadFunction_=void 0!==G.imageLoadFunction?G.imageLoadFunction:x.defaultImageLoadFunction;L.params_=G.params||{};L.v13_=!0;L.updateV13_();L.serverType_=G.serverType;L.hidpi_=void 0!==G.hidpi?G.hidpi:!0;L.image_=null;L.imageSize_=[0,0];L.renderedRevision_=0;L.ratio_=void 0!==G.ratio?G.ratio:1.5;return L}A(P,D);P.prototype.getFeatureInfoUrl=function(L,G,z,K){if(void 0!==
this.url_){z=(0,p.get)(z);var H=this.getProjection();H&&H!==z&&(G=(0,f.calculateSourceResolution)(H,z,L,G),L=(0,p.transform)(L,z,H));var R=(0,e.getForViewAndSize)(L,G,0,C),U={SERVICE:"WMS",VERSION:E.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,d.assign)(U,this.params_,K);K=Math.floor((R[3]-L[1])/G);U[this.v13_?"I":"X"]=Math.floor((L[0]-R[0])/G);U[this.v13_?"J":"Y"]=K;return this.getRequestUrl_(R,C,1,H||z,U)}};P.prototype.getLegendUrl=
function(L,G){if(void 0!==this.url_){var z={SERVICE:"WMS",VERSION:E.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===G||void 0===G.LAYER){var K=this.params_.LAYERS;if(Array.isArray(K)&&1!==K.length)return;z.LAYER=K}void 0!==L&&(K=this.getProjection()?this.getProjection().getMetersPerUnit():1,z.SCALE=L*K/2.8E-4);(0,d.assign)(z,G);return(0,l.appendParams)(this.url_,z)}};P.prototype.getParams=function(){return this.params_};P.prototype.getImageInternal=function(L,G,z,K){if(void 0===
this.url_)return null;G=this.findNearestResolution(G);1==z||this.hidpi_&&void 0!==this.serverType_||(z=1);var H=G/z,R=(0,e.getCenter)(L),U=Math.ceil((0,e.getWidth)(L)/H),ka=Math.ceil((0,e.getHeight)(L)/H);U=(0,e.getForViewAndSize)(R,H,0,[U,ka]);ka=Math.ceil(this.ratio_*(0,e.getWidth)(L)/H);L=Math.ceil(this.ratio_*(0,e.getHeight)(L)/H);R=(0,e.getForViewAndSize)(R,H,0,[ka,L]);if((L=this.image_)&&this.renderedRevision_==this.getRevision()&&L.getResolution()==G&&L.getPixelRatio()==z&&(0,e.containsExtent)(L.getExtent(),
U))return L;U={SERVICE:"WMS",VERSION:E.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,d.assign)(U,this.params_);this.imageSize_[0]=Math.round((0,e.getWidth)(R)/H);this.imageSize_[1]=Math.round((0,e.getHeight)(R)/H);K=this.getRequestUrl_(R,this.imageSize_,z,K,U);this.image_=new y["default"](R,G,z,K,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(O["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
P.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};P.prototype.getRequestUrl_=function(L,G,z,K,H){(0,k.assert)(void 0!==this.url_,9);H[this.v13_?"CRS":"SRS"]=K.getCode();"STYLES"in this.params_||(H.STYLES="");if(1!=z)switch(this.serverType_){case v["default"].GEOSERVER:z=90*z+.5|0;H.FORMAT_OPTIONS="FORMAT_OPTIONS"in H?H.FORMAT_OPTIONS+(";dpi:"+z):"dpi:"+z;break;case v["default"].MAPSERVER:H.MAP_RESOLUTION=90*z;break;case v["default"].CARMENTA_SERVER:case v["default"].QGIS:H.DPI=
90*z;break;default:(0,k.assert)(!1,8)}H.WIDTH=G[0];H.HEIGHT=G[1];G=K.getAxisOrientation();L=this.v13_&&"ne"==G.substr(0,2)?[L[1],L[0],L[3],L[2]]:L;H.BBOX=L.join(",");return(0,l.appendParams)(this.url_,H)};P.prototype.getUrl=function(){return this.url_};P.prototype.setImageLoadFunction=function(L){this.image_=null;this.imageLoadFunction_=L;this.changed()};P.prototype.setUrl=function(L){L!=this.url_&&(this.url_=L,this.image_=null,this.changed())};P.prototype.updateParams=function(L){(0,d.assign)(this.params_,
L);this.updateV13_();this.image_=null;this.changed()};P.prototype.updateV13_=function(){var L=this.params_.VERSION||E.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(L,"1.3")};return P}(x["default"]);F["default"]=Ja};
shadow$provide[294]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.ATTRIBUTION=void 0;Ja=function(m){return m&&m.__esModule?m:{"default":m}}(B(278));var g=function(){var m=function(n,E){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,E)};return function(n,E){function O(){this.constructor=n}m(n,E);n.prototype=null===E?Object.create(E):
(O.prototype=E.prototype,new O)}}();F.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';Ja=function(m){function n(E){E=E||{};return m.call(this,{attributions:void 0!==E.attributions?E.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:E.cacheSize,crossOrigin:void 0!==E.crossOrigin?
E.crossOrigin:"anonymous",imageSmoothing:E.imageSmoothing,maxZoom:void 0!==E.maxZoom?E.maxZoom:19,opaque:void 0!==E.opaque?E.opaque:!0,reprojectionErrorThreshold:E.reprojectionErrorThreshold,tileLoadFunction:E.tileLoadFunction,transition:E.transition,url:void 0!==E.url?E.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:E.wrapX})||this}g(n,m);return n}(Ja["default"]);F["default"]=Ja};
shadow$provide[295]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(m){return m&&m.__esModule?m:{"default":m}}(B(99));var g=function(){var m=function(n,E){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,x){O.__proto__=x}||function(O,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(O[y]=x[y])};return m(n,E)};return function(n,E){function O(){this.constructor=n}m(n,E);n.prototype=null===E?Object.create(E):(O.prototype=
E.prototype,new O)}}();Ja=function(m){function n(E){return m.call(this,E?E:{})||this}g(n,m);return n}(Ja["default"]);F["default"]=Ja};
shadow$provide[296]=function(Ja,B,qb,F){function g(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(222));var m=g(B(124)),n=B(260),E=B(89),O=B(80),x=B(83),y=B(107),v=B(133),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=
d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f){f=k.call(this,f)||this;f.image_=null;return f}l(d,k);d.prototype.getImage=function(){return this.image_?this.image_.getImage():null};d.prototype.prepareFrame=function(f){var a=f.layerStatesArray[f.layerIndex],e=f.pixelRatio,p=f.viewState,A=p.resolution,C=this.getLayer().getSource(),D=f.viewHints;f=f.extent;void 0!==a.extent&&(f=(0,x.getIntersection)(f,(0,v.fromUserExtent)(a.extent,p.projection)));
D[m["default"].ANIMATING]||D[m["default"].INTERACTING]||(0,x.isEmpty)(f)||(C?(a=p.projection,n.ENABLE_RASTER_REPROJECTION||(p=C.getProjection())&&(a=p),(e=C.getImage(f,A,e,a))&&this.loadImage(e)&&(this.image_=e)):this.image_=null);return!!this.image_};d.prototype.renderFrame=function(f,a){var e=this.image_,p=e.getExtent(),A=e.getResolution(),C=e.getPixelRatio(),D=f.layerStatesArray[f.layerIndex],P=f.pixelRatio,L=f.viewState,G=L.center,z=f.size,K=P*A/(L.resolution*C),H=Math.round(z[0]*P),R=Math.round(z[1]*
P);if(z=L.rotation){var U=Math.round(Math.sqrt(H*H+R*R));R=H=U}(0,O.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/P,1/P,z,-H/2,-R/2);(0,O.makeInverse)(this.inversePixelTransform,this.pixelTransform);z=(0,y.createTransformString)(this.pixelTransform);this.useContainer(a,z,D.opacity);a=this.context;U=a.canvas;U.width!=H||U.height!=R?(U.width=H,U.height=R):this.containerReused||a.clearRect(0,0,H,R);var ka=!1;D.extent&&(L=(0,v.fromUserExtent)(D.extent,L.projection),(ka=!(0,x.containsExtent)(L,
f.extent)&&(0,x.intersects)(L,f.extent))&&this.clipUnrotated(a,f,L));e=e.getImage();p=(0,O.compose)(this.tempTransform,H/2,R/2,K,K,0,C*(p[0]-G[0])/A,C*(G[1]-p[3])/A);this.renderedResolution=A*P/C;A=p[4];C=p[5];P=e.width*p[0];p=e.height*p[3];(0,E.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,f);.5<=P&&.5<=p&&(D=D.opacity,G=void 0,1!==D&&(G=this.context.globalAlpha,this.context.globalAlpha=D),this.context.drawImage(e,0,0,+e.width,+e.height,Math.round(A),Math.round(C),Math.round(P),
Math.round(p)),1!==D&&(this.context.globalAlpha=G));this.postRender(a,f);ka&&a.restore();z!==U.style.transform&&(U.style.transform=z);return this.container};return d}(Ja["default"]);F["default"]=B};
shadow$provide[297]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(295));var m=g(B(296)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x){return E.call(this,x)||this}n(O,E);O.prototype.createRenderer=function(){return new m["default"](this)};return O}(Ja["default"]);F["default"]=B};
shadow$provide[298]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[299]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(99));var m=g(B(298)),n=B(89),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){y=y?y:{};var v=(0,n.assign)({},y);delete v.preload;delete v.useInterimTilesOnError;v=O.call(this,v)||this;v.setPreload(void 0!==y.preload?y.preload:0);v.setUseInterimTilesOnError(void 0!==y.useInterimTilesOnError?y.useInterimTilesOnError:!0);return v}E(x,O);x.prototype.getPreload=function(){return this.get(m["default"].PRELOAD)};x.prototype.setPreload=function(y){this.set(m["default"].PRELOAD,y)};x.prototype.getUseInterimTilesOnError=
function(){return this.get(m["default"].USE_INTERIM_TILES_ON_ERROR)};x.prototype.setUseInterimTilesOnError=function(y){this.set(m["default"].USE_INTERIM_TILES_ON_ERROR,y)};return x}(Ja["default"]);F["default"]=B};
shadow$provide[300]=function(Ja,B,qb,F){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(222));var m=g(B(269)),n=g(B(120)),E=B(80),O=B(89),x=B(83),y=B(107),v=B(133),l=B(77),k=B(75),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,e)};return function(a,e){function p(){this.constructor=
a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}();B=function(f){function a(e){e=f.call(this,e)||this;e.extentChanged=!0;e.renderedExtent_=null;e.renderedProjection=null;e.renderedTiles=[];e.newTiles_=!1;e.tmpExtent=(0,x.createEmpty)();e.tmpTileRange_=new m["default"](0,0,0,0);return e}d(a,f);a.prototype.isDrawableTile=function(e){var p=this.getLayer();e=e.getState();p=p.getUseInterimTilesOnError();return e==n["default"].LOADED||e==n["default"].EMPTY||e==n["default"].ERROR&&
!p};a.prototype.getTile=function(e,p,A,C){var D=C.pixelRatio,P=C.viewState.projection;C=this.getLayer();e=C.getSource().getTile(e,p,A,D,P);e.getState()==n["default"].ERROR&&(C.getUseInterimTilesOnError()?0<C.getPreload()&&(this.newTiles_=!0):e.setState(n["default"].LOADED));this.isDrawableTile(e)||(e=e.getInterimTile());return e};a.prototype.loadedTileCallback=function(e,p,A){return this.isDrawableTile(A)?f.prototype.loadedTileCallback.call(this,e,p,A):!1};a.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(e,p){var A=e.layerStatesArray[e.layerIndex],C=e.viewState,D=C.projection,P=C.resolution,L=C.center,G=C.rotation;C=e.pixelRatio;var z=this.getLayer(),K=z.getSource(),H=K.getRevision(),R=K.getTileGridForProjection(D),U=R.getZForResolution(P,K.zDirection),ka=R.getResolution(U),ba=e.extent,fa=A.extent&&(0,v.fromUserExtent)(A.extent,D);fa&&(ba=(0,x.getIntersection)(ba,(0,v.fromUserExtent)(A.extent,D)));var ja=K.getTilePixelRatio(C),Z=Math.round(e.size[0]*ja),Q=Math.round(e.size[1]*
ja);if(G){var q=Math.round(Math.sqrt(Z*Z+Q*Q));Q=Z=q}q=ka*Z/2/ja;var N=ka*Q/2/ja;L=[L[0]-q,L[1]-N,L[0]+q,L[1]+N];var da=R.getTileRangeForExtentAndZ(ba,U);q={};q[U]={};var aa=this.createLoadedTileFinder(K,D,q),wa=this.tmpExtent,ua=this.tmpTileRange_;this.newTiles_=!1;for(var Ea=da.minX;Ea<=da.maxX;++Ea)for(var $a=da.minY;$a<=da.maxY;++$a){N=this.getTile(U,Ea,$a,e);if(this.isDrawableTile(N)){var kb=(0,l.getUid)(this);if(N.getState()==n["default"].LOADED){q[U][N.tileCoord.toString()]=N;var ta=N.inTransition(kb);
this.newTiles_||!ta&&-1!==this.renderedTiles.indexOf(N)||(this.newTiles_=!0)}if(1===N.getAlpha(kb,e.time))continue}ta=R.getTileCoordChildTileRange(N.tileCoord,ua,wa);kb=!1;ta&&(kb=aa(U+1,ta));kb||R.forEachTileCoordParentTileRange(N.tileCoord,aa,ua,wa)}P=ka/P;(0,E.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/ja,1/ja,G,-Z/2,-Q/2);G=(0,y.createTransformString)(this.pixelTransform);this.useContainer(p,G,A.opacity);p=this.context;da=p.canvas;(0,E.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,E.compose)(this.tempTransform,Z/2,Q/2,P,P,0,-Z/2,-Q/2);da.width!=Z||da.height!=Q?(da.width=Z,da.height=Q):this.containerReused||p.clearRect(0,0,Z,Q);fa&&this.clipUnrotated(p,e,fa);(0,O.assign)(p,K.getContextOptions());this.preRender(p,e);this.renderedTiles.length=0;fa=Object.keys(q).map(Number);fa.sort(k.numberSafeCompareFunction);if(1!==A.opacity||this.containerReused&&!K.getOpaque(e.viewState.projection)){var Ta=[];var Xa=[]}else fa=fa.reverse();for(Z=fa.length-1;0<=Z;--Z){Q=fa[Z];N=K.getTilePixelSize(Q,
C,D);Ea=R.getResolution(Q)/ka;aa=N[0]*Ea*P;wa=N[1]*Ea*P;ua=R.getTileCoordForCoordAndZ((0,x.getTopLeft)(L),Q);N=R.getTileCoordExtent(ua);kb=(0,E.apply)(this.tempTransform,[ja*(N[0]-L[0])/ka,ja*(L[3]-N[3])/ka]);var Fa=ja*K.getGutterForProjection(D),va=q[Q],V;for(V in va){N=va[V];$a=N.tileCoord;Ea=kb[0]-(ua[1]-$a[1])*aa;ta=Math.round(Ea+aa);$a=kb[1]-(ua[2]-$a[2])*wa;var X=Math.round($a+wa);Ea=Math.round(Ea);$a=Math.round($a);var ca=ta-Ea,ea=X-$a,ra=U===Q;ta=ra&&1!==N.getAlpha((0,l.getUid)(this),e.time);
if(!ta)if(Ta){p.save();X=[Ea,$a,Ea+ca,$a,Ea+ca,$a+ea,Ea,$a+ea];for(var qa=0,Ha=Ta.length;qa<Ha;++qa)if(U!==Q&&Q<Xa[qa]){var na=Ta[qa];p.beginPath();p.moveTo(X[0],X[1]);p.lineTo(X[2],X[3]);p.lineTo(X[4],X[5]);p.lineTo(X[6],X[7]);p.moveTo(na[6],na[7]);p.lineTo(na[4],na[5]);p.lineTo(na[2],na[3]);p.lineTo(na[0],na[1]);p.clip()}Ta.push(X);Xa.push(Q)}else p.clearRect(Ea,$a,ca,ea);this.drawTileImage(N,e,Ea,$a,ca,ea,Fa,ra,A.opacity);Ta&&!ta&&p.restore();this.renderedTiles.push(N);this.updateUsedTiles(e.usedTiles,
K,N)}}this.renderedRevision=H;this.renderedResolution=ka;this.extentChanged=!this.renderedExtent_||!(0,x.equals)(this.renderedExtent_,L);this.renderedExtent_=L;this.renderedPixelRatio=C;this.renderedProjection=D;this.manageTilePyramid(e,K,R,C,D,ba,U,z.getPreload());this.scheduleExpireCache(e,K);this.postRender(p,e);A.extent&&p.restore();G!==da.style.transform&&(da.style.transform=G);return this.container};a.prototype.drawTileImage=function(e,p,A,C,D,P,L,G,z){var K=this.getTileImage(e);if(K){var H=
(0,l.getUid)(this),R=G?e.getAlpha(H,p.time):1;z*=R;var U=z!==this.context.globalAlpha;U&&(this.context.save(),this.context.globalAlpha=z);this.context.drawImage(K,L,L,K.width-2*L,K.height-2*L,A,C,D,P);U&&this.context.restore();1!==R?p.animate=!0:G&&e.endTransition(H)}};a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};a.prototype.getTileImage=function(e){return e.getImage()};a.prototype.scheduleExpireCache=function(e,p){p.canExpireCache()&&(p=function(A,C,D){C=(0,l.getUid)(A);
C in D.usedTiles&&A.expireCache(D.viewState.projection,D.usedTiles[C])}.bind(null,p),e.postRenderFunctions.push(p))};a.prototype.updateUsedTiles=function(e,p,A){p=(0,l.getUid)(p);p in e||(e[p]={});e[p][A.getKey()]=!0};a.prototype.manageTilePyramid=function(e,p,A,C,D,P,L,G,z){var K=(0,l.getUid)(p);K in e.wantedTiles||(e.wantedTiles[K]={});var H=e.wantedTiles[K];e=e.tileQueue;var R=0,U,ka,ba;for(ba=A.getMinZoom();ba<=L;++ba){var fa=A.getTileRangeForExtentAndZ(P,ba,fa);var ja=A.getResolution(ba);for(U=
fa.minX;U<=fa.maxX;++U)for(ka=fa.minY;ka<=fa.maxY;++ka)if(L-ba<=G){++R;var Z=p.getTile(ba,U,ka,C,D);Z.getState()==n["default"].IDLE&&(H[Z.getKey()]=!0,e.isKeyQueued(Z.getKey())||e.enqueue([Z,K,A.getTileCoordCenter(Z.tileCoord),ja]));void 0!==z&&z(Z)}else p.useTile(ba,U,ka,D)}p.updateCacheSize(R,D)};return a}(Ja["default"]);F["default"]=B};
shadow$provide[301]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(299));var m=g(B(300)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x){return E.call(this,x)||this}n(O,E);O.prototype.createRenderer=function(){return new m["default"](this)};return O}(Ja["default"]);F["default"]=B};
shadow$provide[302]=function(Ja,B,qb,F){function g(ba){return ba&&ba.__esModule?ba:{"default":ba}}function m(ba,fa,ja){if(K)return new ImageData(ba,fa,ja);fa=H.createImageData(fa,ja);fa.data.set(ba);return fa}function n(ba){var fa=!0;try{new ImageData(10,10)}catch(ja){fa=!1}return function(ja){var Z=ja.buffers,Q=ja.meta,q=ja.width,N=ja.height,da=Z.length,aa=Z[0].byteLength;if(ja.imageOps){aa=Array(da);for(ja=0;ja<da;++ja){var wa=ja;var ua=new Uint8ClampedArray(Z[ja]);var Ea=q,$a=N;ua=fa?new ImageData(ua,
Ea,$a):{data:ua,width:Ea,height:$a};aa[wa]=ua}q=ba(aa,Q).data}else{q=new Uint8ClampedArray(aa);N=Array(da);wa=Array(da);for(ja=0;ja<da;++ja)N[ja]=new Uint8ClampedArray(Z[ja]),wa[ja]=[0,0,0,0];for(Z=0;Z<aa;Z+=4){for(ja=0;ja<da;++ja)ua=N[ja],wa[ja][0]=ua[Z],wa[ja][1]=ua[Z+1],wa[ja][2]=ua[Z+2],wa[ja][3]=ua[Z+3];ja=ba(wa,Q);q[Z]=ja[0];q[Z+1]=ja[1];q[Z+2]=ja[2];q[Z+3]=ja[3]}}return q.buffer}}function E(ba,fa){var ja=Object.keys(ba.lib||{}).map(function(Z){return"var "+Z+" \x3d "+ba.lib[Z].toString()+";"}).concat(["var __minion__ \x3d ("+
n.toString()+")(",ba.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);ja=new Blob(ja,{type:"text/javascript"});ja=URL.createObjectURL(ja);ja=new Worker(ja);ja.addEventListener("message",fa);return ja}function O(ba,fa){var ja=n(ba.operation),Z=!1;return{postMessage:function(Q){setTimeout(function(){Z||fa({data:{buffer:ja(Q),meta:Q.meta}})},0)},terminate:function(){Z=
!0}}}function x(ba,fa){var ja=ba.getRenderer();if(!ja)throw Error("Unsupported layer type: "+ba);if(!ja.prepareFrame(fa))return null;ba=fa.size[0];var Z=fa.size[1];if(0===ba||0===Z)return null;fa=ja.renderFrame(fa,null);if(fa)var Q=fa.firstElementChild;if(!(Q instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+Q);if(Q.width===ba&&Q.height===Z)return Q.getContext("2d").getImageData(0,0,ba,Z);ka?(fa=ka.canvas,fa.width!==ba||fa.height!==Z?ka=(0,P.createCanvasContext2D)(ba,Z):ka.clearRect(0,
0,ba,Z)):ka=(0,P.createCanvasContext2D)(ba,Z);ka.drawImage(Q,0,0,ba,Z);return ka.getImageData(0,0,ba,Z)}function y(ba){return ba.map(function(fa){return fa.getLayerState()})}function v(ba){for(var fa=ba.length,ja=Array(fa),Z=0;Z<fa;++Z){var Q=Z,q=void 0,N=ba[Z];N instanceof a["default"]?N instanceof C["default"]?q=new p["default"]({source:N}):N instanceof f["default"]&&(q=new d["default"]({source:N})):q=N;ja[Q]=q}return ja}Object.defineProperty(F,"__esModule",{value:!0});F.newImageData=m;F["default"]=
F.RasterSourceEvent=F.Processor=void 0;Ja=g(B(74));qb=g(B(87));var l=g(B(91)),k=g(B(288)),d=g(B(297)),f=g(B(285)),a=g(B(241)),e=g(B(98)),p=g(B(301)),A=g(B(121)),C=g(B(272)),D=B(89),P=B(106),L=B(80),G=B(83),z=function(){var ba=function(fa,ja){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,Q){Z.__proto__=Q}||function(Z,Q){for(var q in Q)Object.prototype.hasOwnProperty.call(Q,q)&&(Z[q]=Q[q])};return ba(fa,ja)};return function(fa,ja){function Z(){this.constructor=fa}ba(fa,ja);fa.prototype=
null===ja?Object.create(ja):(Z.prototype=ja.prototype,new Z)}}(),K=!0;try{new ImageData(10,10)}catch(ba){K=!1}var H=document.createElement("canvas").getContext("2d"),R=function(ba){function fa(ja){var Z=ba.call(this)||this;Z._imageOps=!!ja.imageOps;var Q=0===ja.threads?0:Z._imageOps?1:ja.threads||1;var q=[];if(Q)for(var N=0;N<Q;++N)q[N]=E(ja,Z._onWorkerMessage.bind(Z,N));else q[0]=O(ja,Z._onWorkerMessage.bind(Z,0));Z._workers=q;Z._queue=[];Z._maxQueueLength=ja.queue||Infinity;Z._running=0;Z._dataLookup=
{};Z._job=null;return Z}z(fa,ba);fa.prototype.process=function(ja,Z,Q){this._enqueue({inputs:ja,meta:Z,callback:Q});this._dispatch()};fa.prototype._enqueue=function(ja){for(this._queue.push(ja);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};fa.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var ja=this._queue.shift();this._job=ja;var Z=ja.inputs[0].width,Q=ja.inputs[0].height,q=ja.inputs.map(function(kb){return kb.data.buffer}),N=this._workers.length;
this._running=N;if(1===N)this._workers[0].postMessage({buffers:q,meta:ja.meta,imageOps:this._imageOps,width:Z,height:Q},q);else for(var da=4*Math.ceil(ja.inputs[0].data.length/4/N),aa=0;aa<N;++aa){for(var wa=aa*da,ua=[],Ea=0,$a=q.length;Ea<$a;++Ea)ua.push(q[Ea].slice(wa,wa+da));this._workers[aa].postMessage({buffers:ua,meta:ja.meta,imageOps:this._imageOps,width:Z,height:Q},ua)}}};fa.prototype._onWorkerMessage=function(ja,Z){this.disposed||(this._dataLookup[ja]=Z.data,--this._running,0===this._running&&
this._resolveJob())};fa.prototype._resolveJob=function(){var ja=this._job,Z=this._workers.length;if(1===Z){var Q=new Uint8ClampedArray(this._dataLookup[0].buffer);var q=this._dataLookup[0].meta}else{var N=ja.inputs[0].data.length;Q=new Uint8ClampedArray(N);q=Array(N);N=4*Math.ceil(N/4/Z);for(var da=0;da<Z;++da){var aa=da*N;Q.set(new Uint8ClampedArray(this._dataLookup[da].buffer),aa);q[da]=this._dataLookup[da].meta}}this._job=null;this._dataLookup={};ja.callback(null,m(Q,ja.inputs[0].width,ja.inputs[0].height),
q);this._dispatch()};fa.prototype.disposeInternal=function(){for(var ja=0;ja<this._workers.length;++ja)this._workers[ja].terminate();this._workers.length=0};return fa}(Ja["default"]);F.Processor=R;var U=function(ba){function fa(ja,Z,Q){ja=ba.call(this,ja)||this;ja.extent=Z.extent;ja.resolution=Z.viewState.resolution/Z.pixelRatio;ja.data=Q;return ja}z(fa,ba);return fa}(qb["default"]);F.RasterSourceEvent=U;B=function(ba){function fa(ja){var Z=ba.call(this,{projection:null})||this;Z.processor_=null;
Z.operationType_=void 0!==ja.operationType?ja.operationType:"pixel";Z.threads_=void 0!==ja.threads?ja.threads:1;Z.layers_=v(ja.sources);for(var Q=Z.changed.bind(Z),q=0,N=Z.layers_.length;q<N;++q)Z.layers_[q].addEventListener(l["default"].CHANGE,Q);Z.tileQueue_=new A["default"](function(){return 1},Z.changed.bind(Z));Z.renderedImageCanvas_=null;Z.frameState_={animate:!1,coordinateToPixelTransform:(0,L.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:y(Z.layers_),pixelRatio:1,
pixelToCoordinateTransform:(0,L.create)(),postRenderFunctions:[],size:[0,0],tileQueue:Z.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};Z.setAttributions(function(da){for(var aa=[],wa=0,ua=ja.sources.length;wa<ua;++wa){var Ea=ja.sources[wa];Ea=(Ea instanceof a["default"]?Ea:Ea.getSource()).getAttributions();"function"===typeof Ea&&(Ea=Ea(da),aa.push.apply(aa,Ea))}return 0!==aa.length?aa:null});void 0!==ja.operation&&Z.setOperation(ja.operation,ja.lib);return Z}
z(fa,ba);fa.prototype.setOperation=function(ja,Z){this.processor_&&this.processor_.dispose();this.processor_=new R({operation:ja,imageOps:"image"===this.operationType_,queue:1,lib:Z,threads:this.threads_});this.changed()};fa.prototype.updateFrameState_=function(ja,Z,Q){var q=(0,D.assign)({},this.frameState_);q.viewState=(0,D.assign)({},q.viewState);var N=(0,G.getCenter)(ja);q.extent=ja.slice();q.size[0]=Math.round((0,G.getWidth)(ja)/Z);q.size[1]=Math.round((0,G.getHeight)(ja)/Z);q.time=Infinity;ja=
q.viewState;ja.center=N;ja.projection=Q;ja.resolution=Z;return q};fa.prototype.allSourcesReady_=function(){for(var ja=!0,Z,Q=0,q=this.layers_.length;Q<q;++Q)if(Z=this.layers_[Q].getSource(),Z.getState()!==e["default"].READY){ja=!1;break}return ja};fa.prototype.getImage=function(ja,Z,Q,q){if(!this.allSourcesReady_())return null;this.requestedFrameState_=Q=this.updateFrameState_(ja,Z,q);if(this.renderedImageCanvas_){q=this.renderedImageCanvas_.getResolution();var N=this.renderedImageCanvas_.getExtent();
Z===q&&(0,G.equals)(ja,N)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();Q.tileQueue.loadMoreTiles(16,16);Q.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};fa.prototype.processSources_=function(){for(var ja=this.requestedFrameState_,Z=this.layers_.length,Q=Array(Z),q=0;q<Z;++q){ja.layerIndex=q;var N=x(this.layers_[q],ja);if(N)Q[q]=N;else return}Z={};this.dispatchEvent(new U("beforeoperations",
ja,Z));this.processor_.process(Q,Z,this.onWorkerComplete_.bind(this,ja))};fa.prototype.onWorkerComplete_=function(ja,Z,Q,q){if(!Z&&Q){Z=ja.extent;var N=ja.viewState.resolution;if(N===this.requestedFrameState_.viewState.resolution&&(0,G.equals)(Z,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var da=this.renderedImageCanvas_.getImage().getContext("2d");else{da=Math.round((0,G.getWidth)(Z)/N);var aa=Math.round((0,G.getHeight)(Z)/N);da=(0,P.createCanvasContext2D)(da,aa);this.renderedImageCanvas_=
new k["default"](Z,N,1,da.canvas)}da.putImageData(Q,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new U("afteroperations",ja,q))}}};fa.prototype.getImageInternal=function(){return null};fa.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();ba.prototype.disposeInternal.call(this)};return fa}(f["default"]);var ka=null;F["default"]=B};
shadow$provide[303]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(O){return O&&O.__esModule?O:{"default":O}}(B(278));B=B(294);var g=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(v.prototype=y.prototype,new v)}}(),m=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',B.ATTRIBUTION],n={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",
opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},E={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};B=function(O){function x(y){var v=y.layer.indexOf("-");v=-1==v?y.layer:y.layer.slice(0,v);v=E[v];var l=n[y.layer];return O.call(this,{attributions:m,cacheSize:y.cacheSize,crossOrigin:"anonymous",
imageSmoothing:y.imageSmoothing,maxZoom:void 0!=y.maxZoom?y.maxZoom:v.maxZoom,minZoom:void 0!=y.minZoom?y.minZoom:v.minZoom,opaque:l.opaque,reprojectionErrorThreshold:y.reprojectionErrorThreshold,tileLoadFunction:y.tileLoadFunction,transition:y.transition,url:void 0!==y.url?y.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+y.layer+"/{z}/{x}/{y}."+l.extension,wrapX:y.wrapX})||this}g(x,O);return x}(Ja["default"]);F["default"]=B};
shadow$provide[304]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(v){return v&&v.__esModule?v:{"default":v}}(B(275));var g=B(286),m=B(89),n=B(83),E=B(84),O=B(157),x=B(266),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=l}v(l,
k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(k){var d=k?k:{};k=v.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition})||this;k.params_=d.params||{};k.hidpi_=void 0!==
d.hidpi?d.hidpi:!0;k.tmpExtent_=(0,n.createEmpty)();k.setKey(k.getKeyForParams_());return k}y(l,v);l.prototype.getKeyForParams_=function(){var k=0,d=[],f;for(f in this.params_)d[k++]=f+"-"+this.params_[f];return d.join("/")};l.prototype.getParams=function(){return this.params_};l.prototype.getRequestUrl_=function(k,d,f,a,e,p){var A=this.urls;if(A)return e=e.getCode().split(":").pop(),p.SIZE=d[0]+","+d[1],p.BBOX=f.join(","),p.BBOXSR=e,p.IMAGESR=e,p.DPI=Math.round(p.DPI?p.DPI*a:90*a),1==A.length?A=
A[0]:(k=(0,E.modulo)((0,x.hash)(k),A.length),A=A[k]),A=A.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,g.appendParams)(A,p)};l.prototype.getTilePixelRatio=function(k){return this.hidpi_?k:1};l.prototype.updateParams=function(k){(0,m.assign)(this.params_,k);this.setKey(this.getKeyForParams_())};l.prototype.tileUrlFunction=function(k,d,f){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(f));if(!(a.getResolutions().length<=k[0])){1==d||
this.hidpi_||(d=1);var e=a.getTileCoordExtent(k,this.tmpExtent_);a=(0,O.toSize)(a.getTileSize(k[0]),this.tmpSize);1!=d&&(a=(0,O.scale)(a,d,this.tmpSize));var p={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,m.assign)(p,this.params_);return this.getRequestUrl_(k,a,e,d,f,p)}};return l}(Ja["default"]);F["default"]=B};
shadow$provide[305]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(258));var m=g(B(120));qb=g(B(278));var n=B(106),E=B(266),O=B(157),x=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=
l}v(l,k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}(),y=function(v){function l(k,d,f){k=v.call(this,k,m["default"].LOADED)||this;k.tileSize_=d;k.text_=f;k.canvas_=null;return k}x(l,v);l.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var k=this.tileSize_,d=(0,n.createCanvasContext2D)(k[0],k[1]);d.strokeStyle="grey";d.strokeRect(.5,.5,k[0]+.5,k[1]+.5);d.fillStyle="grey";d.strokeStyle="white";d.textAlign="center";d.textBaseline="middle";d.font="24px sans-serif";
d.lineWidth=4;d.strokeText(this.text_,k[0]/2,k[1]/2,k[0]);d.fillText(this.text_,k[0]/2,k[1]/2,k[0]);return this.canvas_=d.canvas};l.prototype.load=function(){};return l}(Ja["default"]);B=function(v){function l(k){k=k||{};return v.call(this,{opaque:!1,projection:k.projection,tileGrid:k.tileGrid,wrapX:void 0!==k.wrapX?k.wrapX:!0,zDirection:k.zDirection})||this}x(l,v);l.prototype.getTile=function(k,d,f){var a=(0,E.getKeyZXY)(k,d,f);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var e=
(0,O.toSize)(this.tileGrid.getTileSize(k));k=[k,d,f];d=this.getTileCoordForTileUrlFunction(k);e=new y(k,e,d?"z:"+d[0]+" x:"+d[1]+" y:"+d[2]:"none");this.tileCache.set(a,e);return e};return l}(qb["default"]);F["default"]=B};
shadow$provide[306]=function(Ja,B,qb,F){function g(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(98));Ja=g(B(275));var n=B(83),E=B(79),O=B(273),x=B(271),y=B(133),v=B(276),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=
d}k(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f){var a=k.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:(0,y.get)("EPSG:3857"),reprojectionErrorThreshold:f.reprojectionErrorThreshold,state:m["default"].LOADING,tileLoadFunction:f.tileLoadFunction,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition})||this;a.tileJSON_=null;a.tileSize_=f.tileSize;if(f.url)if(f.jsonp)(0,
v.jsonp)(f.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var e=new XMLHttpRequest;e.addEventListener("load",a.onXHRLoad_.bind(a));e.addEventListener("error",a.onXHRError_.bind(a));e.open("GET",f.url);e.send()}else f.tileJSON?a.handleTileJSONResponse(f.tileJSON):(0,E.assert)(!1,51);return a}l(d,k);d.prototype.onXHRLoad_=function(f){f=f.target;if(!f.status||200<=f.status&&300>f.status){var a=void 0;try{a=JSON.parse(f.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
d.prototype.onXHRError_=function(f){this.handleTileJSONError()};d.prototype.getTileJSON=function(){return this.tileJSON_};d.prototype.handleTileJSONResponse=function(f){var a=(0,y.get)("EPSG:4326"),e=this.getProjection();if(void 0!==f.bounds){var p=(0,y.getTransformFromProjections)(a,e);p=(0,n.applyTransform)(f.bounds,p)}var A=f.minzoom||0,C=f.maxzoom||22;this.tileGrid=e=(0,x.createXYZ)({extent:(0,x.extentFromProjection)(e),maxZoom:C,minZoom:A,tileSize:this.tileSize_});this.tileUrlFunction=(0,O.createFromTemplates)(f.tiles,
e);if(void 0!==f.attribution&&!this.getAttributions()){var D=void 0!==p?p:a.getExtent();this.setAttributions(function(P){return(0,n.intersects)(D,P.extent)?[f.attribution]:null})}this.tileJSON_=f;this.setState(m["default"].READY)};d.prototype.handleTileJSONError=function(){this.setState(m["default"].ERROR)};return d}(Ja["default"]);F["default"]=B};
shadow$provide[307]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=B(262);Ja=g(B(275));var n=g(B(292)),E=B(286),O=B(79),x=B(89),y=B(83),v=B(157),l=B(263),k=B(100),d=B(133),f=B(84),a=B(266),e=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,
C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C){var D=C?C:{},P=D.params||{};C=p.call(this,{attributions:D.attributions,cacheSize:D.cacheSize,crossOrigin:D.crossOrigin,imageSmoothing:D.imageSmoothing,opaque:!("TRANSPARENT"in P?P.TRANSPARENT:1),projection:D.projection,reprojectionErrorThreshold:D.reprojectionErrorThreshold,tileClass:D.tileClass,tileGrid:D.tileGrid,tileLoadFunction:D.tileLoadFunction,
url:D.url,urls:D.urls,wrapX:void 0!==D.wrapX?D.wrapX:!0,transition:D.transition})||this;C.gutter_=void 0!==D.gutter?D.gutter:0;C.params_=P;C.v13_=!0;C.serverType_=D.serverType;C.hidpi_=void 0!==D.hidpi?D.hidpi:!0;C.tmpExtent_=(0,y.createEmpty)();C.updateV13_();C.setKey(C.getKeyForParams_());return C}e(A,p);A.prototype.getFeatureInfoUrl=function(C,D,P,L){P=(0,d.get)(P);var G=this.getProjection(),z=this.getTileGrid();z||(z=this.getTileGridForProjection(P));D=z.getZForResolution(D,this.zDirection);D=
z.getTileCoordForCoordAndZ(C,D);if(!(z.getResolutions().length<=D[0])){var K=z.getResolution(D[0]),H=z.getTileCoordExtent(D,this.tmpExtent_);z=(0,v.toSize)(z.getTileSize(D[0]),this.tmpSize);var R=this.gutter_;0!==R&&(z=(0,v.buffer)(z,R,this.tmpSize),H=(0,y.buffer)(H,K*R,H));G&&G!==P&&(K=(0,l.calculateSourceResolution)(G,P,C,K),H=(0,d.transformExtent)(H,P,G),C=(0,d.transform)(C,P,G));R={SERVICE:"WMS",VERSION:m.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,x.assign)(R,this.params_,L);L=Math.floor((H[3]-C[1])/K);R[this.v13_?"I":"X"]=Math.floor((C[0]-H[0])/K);R[this.v13_?"J":"Y"]=L;return this.getRequestUrl_(D,z,H,1,G||P,R)}};A.prototype.getLegendUrl=function(C,D){if(void 0!==this.urls[0]){var P={SERVICE:"WMS",VERSION:m.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===D||void 0===D.LAYER){var L=this.params_.LAYERS;if(Array.isArray(L)&&1!==L.length)return;P.LAYER=L}void 0!==C&&(L=this.getProjection()?this.getProjection().getMetersPerUnit():
1,P.SCALE=C*L/2.8E-4);(0,x.assign)(P,D);return(0,E.appendParams)(this.urls[0],P)}};A.prototype.getGutter=function(){return this.gutter_};A.prototype.getParams=function(){return this.params_};A.prototype.getRequestUrl_=function(C,D,P,L,G,z){var K=this.urls;if(K){z.WIDTH=D[0];z.HEIGHT=D[1];z[this.v13_?"CRS":"SRS"]=G.getCode();"STYLES"in this.params_||(z.STYLES="");if(1!=L)switch(this.serverType_){case n["default"].GEOSERVER:D=90*L+.5|0;z.FORMAT_OPTIONS="FORMAT_OPTIONS"in z?z.FORMAT_OPTIONS+(";dpi:"+
D):"dpi:"+D;break;case n["default"].MAPSERVER:z.MAP_RESOLUTION=90*L;break;case n["default"].CARMENTA_SERVER:case n["default"].QGIS:z.DPI=90*L;break;default:(0,O.assert)(!1,52)}G=G.getAxisOrientation();this.v13_&&"ne"==G.substr(0,2)&&(G=P[0],P[0]=P[1],P[1]=G,G=P[2],P[2]=P[3],P[3]=G);z.BBOX=P.join(",");1==K.length?K=K[0]:(C=(0,f.modulo)((0,a.hash)(C),K.length),K=K[C]);return(0,E.appendParams)(K,z)}};A.prototype.getTilePixelRatio=function(C){return this.hidpi_&&void 0!==this.serverType_?C:1};A.prototype.getKeyForParams_=
function(){var C=0,D=[],P;for(P in this.params_)D[C++]=P+"-"+this.params_[P];return D.join("/")};A.prototype.updateParams=function(C){(0,x.assign)(this.params_,C);this.updateV13_();this.setKey(this.getKeyForParams_())};A.prototype.updateV13_=function(){var C=this.params_.VERSION||m.DEFAULT_WMS_VERSION;this.v13_=0<=(0,k.compareVersions)(C,"1.3")};A.prototype.tileUrlFunction=function(C,D,P){var L=this.getTileGrid();L||(L=this.getTileGridForProjection(P));if(!(L.getResolutions().length<=C[0])){1==D||
this.hidpi_&&void 0!==this.serverType_||(D=1);var G=L.getResolution(C[0]),z=L.getTileCoordExtent(C,this.tmpExtent_);L=(0,v.toSize)(L.getTileSize(C[0]),this.tmpSize);var K=this.gutter_;0!==K&&(L=(0,v.buffer)(L,K,this.tmpSize),z=(0,y.buffer)(z,G*K,z));1!=D&&(L=(0,v.scale)(L,D,this.tmpSize));G={SERVICE:"WMS",VERSION:m.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,x.assign)(G,this.params_);return this.getRequestUrl_(C,L,z,D,P,G)}};return A}(Ja["default"]);F["default"]=B};
shadow$provide[308]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=F.CustomTile=void 0;var m=g(B(91)),n=g(B(98));Ja=g(B(258));qb=g(B(272));var E=g(B(120)),O=B(83),x=B(79),y=B(273),v=B(271),l=B(266),k=B(133),d=B(92),f=B(276),a=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&
(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}(),e=function(p){function A(C,D,P,L,G,z){C=p.call(this,C,D)||this;C.src_=P;C.extent_=L;C.preemptive_=G;C.grid_=null;C.keys_=null;C.data_=null;C.jsonp_=z;return C}a(A,p);A.prototype.getImage=function(){return null};A.prototype.getData=function(C){if(!this.grid_||!this.keys_)return null;var D=this.grid_[Math.floor((1-(C[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof D)return null;C=D.charCodeAt(Math.floor((C[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*D.length));93<=C&&C--;35<=C&&C--;C-=32;D=null;C in this.keys_&&(C=this.keys_[C],D=this.data_&&C in this.data_?this.data_[C]:C);return D};A.prototype.forDataAtCoordinate=function(C,D,P){this.state==E["default"].EMPTY&&!0===P?(this.state=E["default"].IDLE,(0,d.listenOnce)(this,m["default"].CHANGE,function(L){D(this.getData(C))},this),this.loadInternal_()):
!0===P?setTimeout(function(){D(this.getData(C))}.bind(this),0):D(this.getData(C))};A.prototype.getKey=function(){return this.src_};A.prototype.handleError_=function(){this.state=E["default"].ERROR;this.changed()};A.prototype.handleLoad_=function(C){this.grid_=C.grid;this.keys_=C.keys;this.data_=C.data;this.state=E["default"].LOADED;this.changed()};A.prototype.loadInternal_=function(){if(this.state==E["default"].IDLE)if(this.state=E["default"].LOADING,this.jsonp_)(0,f.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var C=new XMLHttpRequest;C.addEventListener("load",this.onXHRLoad_.bind(this));C.addEventListener("error",this.onXHRError_.bind(this));C.open("GET",this.src_);C.send()}};A.prototype.onXHRLoad_=function(C){C=C.target;if(!C.status||200<=C.status&&300>C.status){var D=void 0;try{D=JSON.parse(C.responseText)}catch(P){this.handleError_();return}this.handleLoad_(D)}else this.handleError_()};A.prototype.onXHRError_=function(C){this.handleError_()};A.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(E["default"].EMPTY)};return A}(Ja["default"]);F.CustomTile=e;B=function(p){function A(C){var D=p.call(this,{projection:(0,k.get)("EPSG:3857"),state:n["default"].LOADING})||this;D.preemptive_=void 0!==C.preemptive?C.preemptive:!0;D.tileUrlFunction_=y.nullTileUrlFunction;D.template_=void 0;D.jsonp_=C.jsonp||!1;if(C.url)if(D.jsonp_)(0,f.jsonp)(C.url,D.handleTileJSONResponse.bind(D),D.handleTileJSONError.bind(D));else{var P=new XMLHttpRequest;P.addEventListener("load",
D.onXHRLoad_.bind(D));P.addEventListener("error",D.onXHRError_.bind(D));P.open("GET",C.url);P.send()}else C.tileJSON?D.handleTileJSONResponse(C.tileJSON):(0,x.assert)(!1,51);return D}a(A,p);A.prototype.onXHRLoad_=function(C){C=C.target;if(!C.status||200<=C.status&&300>C.status){var D=void 0;try{D=JSON.parse(C.responseText)}catch(P){this.handleTileJSONError();return}this.handleTileJSONResponse(D)}else this.handleTileJSONError()};A.prototype.onXHRError_=function(C){this.handleTileJSONError()};A.prototype.getTemplate=
function(){return this.template_};A.prototype.forDataAtCoordinateAndResolution=function(C,D,P,L){this.tileGrid?(D=this.tileGrid.getZForResolution(D,this.zDirection),D=this.tileGrid.getTileCoordForCoordAndZ(C,D),this.getTile(D[0],D[1],D[2],1,this.getProjection()).forDataAtCoordinate(C,P,L)):!0===L?setTimeout(function(){P(null)},0):P(null)};A.prototype.handleTileJSONError=function(){this.setState(n["default"].ERROR)};A.prototype.handleTileJSONResponse=function(C){var D=(0,k.get)("EPSG:4326"),P=this.getProjection();
if(void 0!==C.bounds){var L=(0,k.getTransformFromProjections)(D,P);L=(0,O.applyTransform)(C.bounds,L)}var G=C.minzoom||0,z=C.maxzoom||22;this.tileGrid=P=(0,v.createXYZ)({extent:(0,v.extentFromProjection)(P),maxZoom:z,minZoom:G});this.template_=C.template;if(G=C.grids){this.tileUrlFunction_=(0,y.createFromTemplates)(G,P);if(void 0!==C.attribution){var K=void 0!==L?L:D.getExtent();this.setAttributions(function(H){return(0,O.intersects)(K,H.extent)?[C.attribution]:null})}this.setState(n["default"].READY)}else this.setState(n["default"].ERROR)};
A.prototype.getTile=function(C,D,P,L,G){var z=(0,l.getKeyZXY)(C,D,P);if(this.tileCache.containsKey(z))return this.tileCache.get(z);C=[C,D,P];D=this.getTileCoordForTileUrlFunction(C,G);L=this.tileUrlFunction_(D,L,G);L=new e(C,void 0!==L?E["default"].IDLE:E["default"].EMPTY,void 0!==L?L:"",this.tileGrid.getTileCoordExtent(C),this.preemptive_,this.jsonp_);this.tileCache.set(z,L);return L};A.prototype.useTile=function(C,D,P){C=(0,l.getKeyZXY)(C,D,P);this.tileCache.containsKey(C)&&this.tileCache.get(C)};
return A}(qb["default"]);F["default"]=B};
shadow$provide[309]=function(Ja,B,qb,F){function g(E){return E&&E.__esModule?E:{"default":E}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(258));var m=g(B(120)),n=function(){var E=function(O,x){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var l in v)Object.prototype.hasOwnProperty.call(v,l)&&(y[l]=v[l])};return E(O,x)};return function(O,x){function y(){this.constructor=O}E(O,x);O.prototype=null===x?Object.create(x):
(y.prototype=x.prototype,new y)}}();B=function(E){function O(x,y,v,l,k,d){x=E.call(this,x,y,d)||this;x.extent=null;x.format_=l;x.features_=null;x.projection=null;x.tileLoadFunction_=k;x.url_=v;x.key=v;return x}n(O,E);O.prototype.getFormat=function(){return this.format_};O.prototype.getFeatures=function(){return this.features_};O.prototype.load=function(){this.state==m["default"].IDLE&&(this.setState(m["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};O.prototype.onLoad=function(x,y){this.setFeatures(x)};O.prototype.onError=function(){this.setState(m["default"].ERROR)};O.prototype.setFeatures=function(x){this.features_=x;this.setState(m["default"].LOADED)};O.prototype.setLoader=function(x){this.loader_=x};return O}(Ja["default"]);F["default"]=B};
shadow$provide[310]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(O){return O&&O.__esModule?O:{"default":O}}(B(258));var g=B(106),m=B(77),n=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(v.prototype=y.prototype,new v)}}(),E=[];B=function(O){function x(y,v,l,k){y=O.call(this,y,v,{transition:0})||this;y.context_={};y.executorGroups={};y.declutterExecutorGroups={};y.loadingSourceTiles=0;y.errorSourceTileKeys={};y.hitDetectionImageData={};y.replayState_={};y.sourceTiles=null;y.getSourceTiles=k.bind(void 0,y);y.sourceZ=-1;y.hifi=!1;y.wrappedTileCoord=l;return y}n(x,O);x.prototype.getContext=function(y){y=(0,m.getUid)(y);y in this.context_||(this.context_[y]=(0,g.createCanvasContext2D)(1,
1,E));return this.context_[y]};x.prototype.hasContext=function(y){return(0,m.getUid)(y)in this.context_};x.prototype.getImage=function(y){return this.hasContext(y)?this.getContext(y).canvas:null};x.prototype.getReplayState=function(y){y=(0,m.getUid)(y);y in this.replayState_||(this.replayState_[y]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[y]};x.prototype.load=
function(){this.getSourceTiles()};x.prototype.release=function(){for(var y in this.context_)E.push(this.context_[y].canvas),delete this.context_[y];O.prototype.release.call(this)};return x}(Ja["default"]);F["default"]=B};
shadow$provide[311]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}function m(p,A){p.setLoader(function(C,D,P){(0,f.loadFeaturesXhr)(A,p.getFormat(),C,D,P,p.onLoad.bind(p),p.onError.bind(p))})}Object.defineProperty(F,"__esModule",{value:!0});F.defaultLoadFunction=m;F["default"]=void 0;var n=g(B(91)),E=g(B(309)),O=g(B(267)),x=g(B(120));Ja=g(B(274));var y=g(B(310)),v=B(83),l=B(271),k=B(75),d=B(266),f=B(244),a=B(157),e=function(){var p=function(A,C){p=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}();B=function(p){function A(C){var D=C.projection||"EPSG:3857";var P=C.extent||(0,l.extentFromProjection)(D);P=C.tileGrid||(0,l.createXYZ)({extent:P,maxResolution:C.maxResolution,maxZoom:void 0!==C.maxZoom?C.maxZoom:
22,minZoom:C.minZoom,tileSize:C.tileSize||512});D=p.call(this,{attributions:C.attributions,attributionsCollapsible:C.attributionsCollapsible,cacheSize:C.cacheSize,opaque:!1,projection:D,state:C.state,tileGrid:P,tileLoadFunction:C.tileLoadFunction?C.tileLoadFunction:m,tileUrlFunction:C.tileUrlFunction,url:C.url,urls:C.urls,wrapX:void 0===C.wrapX?!0:C.wrapX,transition:C.transition,zDirection:void 0===C.zDirection?1:C.zDirection})||this;D.format_=C.format?C.format:null;D.loadingTiles_={};D.sourceTileCache=
new O["default"](D.tileCache.highWaterMark);D.overlaps_=void 0==C.overlaps?!0:C.overlaps;D.tileClass=C.tileClass?C.tileClass:E["default"];D.tileGrids_={};return D}e(A,p);A.prototype.getFeaturesInExtent=function(C){var D=[],P=this.tileCache;if(0===P.getCount())return D;var L=(0,d.fromKey)(P.peekFirstKey())[0],G=this.tileGrid;P.forEach(function(z){if(z.tileCoord[0]===L&&z.getState()===x["default"].LOADED){z=z.getSourceTiles();for(var K=0,H=z.length;K<H;++K){var R=z[K],U=R.tileCoord;if((0,v.intersects)(C,
G.getTileCoordExtent(U))&&(R=R.getFeatures())){U=0;for(var ka=R.length;U<ka;++U){var ba=R[U],fa=ba.getGeometry();(0,v.intersects)(C,fa.getExtent())&&D.push(ba)}}}}});return D};A.prototype.getOverlaps=function(){return this.overlaps_};A.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};A.prototype.expireCache=function(C,D){p.prototype.expireCache.call(this,C,D);this.sourceTileCache.expireCache({})};A.prototype.getSourceTiles=function(C,D,P){var L=P.wrappedTileCoord,G=
this.getTileGridForProjection(D),z=G.getTileCoordExtent(L);L=G.getResolution(L[0]);(0,v.buffer)(z,-L,z);var K=this.tileGrid;(G=K.getExtent())&&(0,v.getIntersection)(z,G,z);var H=K.getZForResolution(L,1);L=K.getMinZoom();G=P.sourceTiles;if(G&&0<G.length&&G[0].tileCoord[0]===H){var R=G;var U=!0;var ka=H}else{R=[];ka=H+1;do--ka,U=!0,K.forEachTileCoord(z,ka,function(ba){var fa=this.tileUrlFunction(ba,C,D);if(void 0!==fa)if(this.sourceTileCache.containsKey(fa)){var ja=this.sourceTileCache.get(fa);ba=ja.getState();
if(ba===x["default"].LOADED||ba===x["default"].ERROR||ba===x["default"].EMPTY){R.push(ja);return}}else ka===H&&(ja=new this.tileClass(ba,x["default"].IDLE,fa,this.format_,this.tileLoadFunction),ja.extent=K.getTileCoordExtent(ba),ja.projection=D,ja.resolution=K.getResolution(ba[0]),this.sourceTileCache.set(fa,ja),ja.addEventListener(n["default"].CHANGE,this.handleTileChange.bind(this)),ja.load());U=U&&ja&&ja.getState()===x["default"].LOADED;ja&&ja.getState()!==x["default"].EMPTY&&P.getState()===x["default"].IDLE&&
(P.loadingSourceTiles++,ja.addEventListener(n["default"].CHANGE,function Q(){var q=ja.getState(),N=ja.getKey();if(q===x["default"].LOADED||q===x["default"].ERROR)q===x["default"].LOADED?(ja.removeEventListener(n["default"].CHANGE,Q),P.loadingSourceTiles--,delete P.errorSourceTileKeys[N]):q===x["default"].ERROR&&(P.errorSourceTileKeys[N]=!0),q=Object.keys(P.errorSourceTileKeys).length,0===P.loadingSourceTiles-q&&(P.hifi=0===q,P.sourceZ=H,P.setState(x["default"].LOADED))}))}.bind(this)),U||(R.length=
0);while(!U&&ka>L)}P.getState()===x["default"].IDLE&&P.setState(x["default"].LOADING);U&&(P.hifi=H===ka,P.sourceZ=ka,P.getState()<x["default"].LOADED?P.setState(x["default"].LOADED):G&&(0,k.equals)(R,G)||(P.sourceTiles=R));return R};A.prototype.getTile=function(C,D,P,L,G){var z=(0,d.getKeyZXY)(C,D,P),K=this.getKey();if(this.tileCache.containsKey(z)){var H=this.tileCache.get(z);if(H.key===K)return H}D=[C,D,P];P=this.getTileCoordForTileUrlFunction(D,G);var R=this.getTileGrid().getExtent(),U=this.getTileGridForProjection(G);
if(P&&R){var ka=U.getTileCoordExtent(P);(0,v.buffer)(ka,-U.getResolution(C),ka);(0,v.intersects)(R,ka)||(P=null)}var ba=!0;null!==P&&(R=this.tileGrid,C=U.getResolution(C),ka=R.getZForResolution(C,1),U=U.getTileCoordExtent(P),(0,v.buffer)(U,-C,U),R.forEachTileCoord(U,ka,function(fa){ba=ba&&!this.tileUrlFunction(fa,L,G)}.bind(this)));D=new y["default"](D,ba?x["default"].EMPTY:x["default"].IDLE,P,this.getSourceTiles.bind(this,L,G));D.key=K;H?(D.interimTile=H,D.refreshInterimChain(),this.tileCache.replace(z,
D)):this.tileCache.set(z,D);return D};A.prototype.getTileGridForProjection=function(C){var D=C.getCode(),P=this.tileGrids_[D];P||(P=this.tileGrid,P=(0,l.createForProjection)(C,void 0,P?P.getTileSize(P.getMinZoom()):void 0),this.tileGrids_[D]=P);return P};A.prototype.getTilePixelRatio=function(C){return C};A.prototype.getTilePixelSize=function(C,D,P){P=this.getTileGridForProjection(P);C=(0,a.toSize)(P.getTileSize(C),this.tmpSize);return[Math.round(C[0]*D),Math.round(C[1]*D)]};A.prototype.updateCacheSize=
function(C,D){p.prototype.updateCacheSize.call(this,2*C,D)};return A}(Ja["default"]);F["default"]=B};
shadow$provide[312]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[313]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.createFromCapabilitiesMatrixSet=function(O,x,y){var v=[],l=[],k=[],d=[],f=[],a=void 0!==y?y:[];y=O.SupportedCRS;y=(0,m.get)(y);var e=y.getMetersPerUnit(),p="ne"==y.getAxisOrientation().substr(0,2);O.TileMatrix.sort(function(A,C){return C.ScaleDenominator-A.ScaleDenominator});O.TileMatrix.forEach(function(A){if(0<a.length?(0,g.find)(a,function(L){return A.Identifier==L.TileMatrix?!0:-1===A.Identifier.indexOf(":")?
O.Identifier+":"+A.Identifier===L.TileMatrix:!1}):1){l.push(A.Identifier);var C=2.8E-4*A.ScaleDenominator/e,D=A.TileWidth,P=A.TileHeight;p?k.push([A.TopLeftCorner[1],A.TopLeftCorner[0]]):k.push(A.TopLeftCorner);v.push(C);d.push(D==P?D:[D,P]);f.push([A.MatrixWidth,A.MatrixHeight])}});return new E({extent:x,origins:k,resolutions:v,matrixIds:l,tileSizes:d,sizes:f})};F["default"]=void 0;Ja=function(O){return O&&O.__esModule?O:{"default":O}}(B(270));var g=B(75),m=B(133),n=function(){var O=function(x,y){O=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}}(),E=function(O){function x(y){var v=O.call(this,{extent:y.extent,origin:y.origin,origins:y.origins,resolutions:y.resolutions,tileSize:y.tileSize,tileSizes:y.tileSizes,sizes:y.sizes})||
this;v.matrixIds_=y.matrixIds;return v}n(x,O);x.prototype.getMatrixId=function(y){return this.matrixIds_[y]};x.prototype.getMatrixIds=function(){return this.matrixIds_};return x}(Ja["default"]);F["default"]=E};
shadow$provide[314]=function(Ja,B,qb,F){function g(k){return k&&k.__esModule?k:{"default":k}}Object.defineProperty(F,"__esModule",{value:!0});F.optionsFromCapabilities=function(k,d){var f=k.Contents.Layer;f=(0,v.find)(f,function(ka,ba,fa){return ka.Identifier==d.layer});if(null===f)return null;var a=k.Contents.TileMatrixSet;var e=1<f.TileMatrixSetLink.length?"projection"in d?(0,v.findIndex)(f.TileMatrixSetLink,function(ka,ba,fa){ba=(0,v.find)(a,function(Z){return Z.Identifier==ka.TileMatrixSet}).SupportedCRS;
fa=(0,y.get)(ba);var ja=(0,y.get)(d.projection);return fa&&ja?(0,y.equivalent)(fa,ja):ba==d.projection}):(0,v.findIndex)(f.TileMatrixSetLink,function(ka,ba,fa){return ka.TileMatrixSet==d.matrixSet}):0;0>e&&(e=0);var p=f.TileMatrixSetLink[e].TileMatrixSet,A=f.TileMatrixSetLink[e].TileMatrixSetLimits,C=f.Format[0];"format"in d&&(C=d.format);e=(0,v.findIndex)(f.Style,function(ka,ba,fa){return"style"in d?ka.Title==d.style:ka.isDefault});0>e&&(e=0);e=f.Style[e].Identifier;var D={};"Dimension"in f&&f.Dimension.forEach(function(ka,
ba,fa){ba=ka.Identifier;fa=ka.Default;void 0===fa&&(fa=ka.Value[0]);D[ba]=fa});var P=k.Contents.TileMatrixSet,L=(0,v.find)(P,function(ka,ba,fa){return ka.Identifier==p}),G;(P=L.SupportedCRS)&&(G=(0,y.get)(P));"projection"in d&&(P=(0,y.get)(d.projection),!P||G&&!(0,y.equivalent)(P,G)||(G=P));var z="ne"==G.getAxisOrientation().substr(0,2);P=L.TileMatrix[0];var K={MinTileCol:0,MinTileRow:0,MaxTileCol:P.MatrixWidth-1,MaxTileRow:P.MatrixHeight-1};if(A){K=A[A.length-1];var H=(0,v.find)(L.TileMatrix,function(ka){return ka.Identifier===
K.TileMatrix||L.Identifier+":"+ka.Identifier===K.TileMatrix});H&&(P=H)}H=2.8E-4*P.ScaleDenominator/G.getMetersPerUnit();z=z?[P.TopLeftCorner[1],P.TopLeftCorner[0]]:P.TopLeftCorner;var R=P.TileWidth*H;P=P.TileHeight*H;P=[z[0]+R*K.MinTileCol,z[1]-P*(1+K.MaxTileRow),z[0]+R*(1+K.MaxTileCol),z[1]-P*K.MinTileRow];null===G.getExtent()&&G.setExtent(P);A=(0,O.createFromCapabilitiesMatrixSet)(L,P,A);var U=[];P=d.requestEncoding;P=void 0!==P?P:"";if("OperationsMetadata"in k&&"GetTile"in k.OperationsMetadata)for(k=
k.OperationsMetadata.GetTile.DCP.HTTP.Get,H=0,z=k.length;H<z;++H)if(k[H].Constraint)if(R=(0,v.find)(k[H].Constraint,function(ka){return"GetEncoding"==ka.name}).AllowedValues.Value,""===P&&(P=R[0]),P===m["default"].KVP)(0,v.includes)(R,m["default"].KVP)&&U.push(k[H].href);else break;else k[H].href&&(P=m["default"].KVP,U.push(k[H].href));0===U.length&&(P=m["default"].REST,f.ResourceURL.forEach(function(ka){"tile"===ka.resourceType&&(C=ka.format,U.push(ka.template))}));return{urls:U,layer:d.layer,matrixSet:p,
format:C,projection:G,requestEncoding:P,tileGrid:A,style:e,dimensions:D,wrapX:!1,crossOrigin:d.crossOrigin}};F["default"]=void 0;Ja=g(B(275));var m=g(B(312)),n=B(286),E=B(89),O=B(313),x=B(273),y=B(133),v=B(75),l=function(){var k=function(d,f){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)Object.prototype.hasOwnProperty.call(e,p)&&(a[p]=e[p])};return k(d,f)};return function(d,f){function a(){this.constructor=d}k(d,f);d.prototype=
null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();B=function(k){function d(f){var a=void 0!==f.requestEncoding?f.requestEncoding:m["default"].KVP;var e=f.tileGrid;var p=f.urls;void 0===p&&void 0!==f.url&&(p=(0,x.expandUrl)(f.url));e=k.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:f.tileClass,tileGrid:e,tileLoadFunction:f.tileLoadFunction,
tilePixelRatio:f.tilePixelRatio,urls:p,wrapX:void 0!==f.wrapX?f.wrapX:!1,transition:f.transition})||this;e.version_=void 0!==f.version?f.version:"1.0.0";e.format_=void 0!==f.format?f.format:"image/jpeg";e.dimensions_=void 0!==f.dimensions?f.dimensions:{};e.layer_=f.layer;e.matrixSet_=f.matrixSet;e.style_=f.style;e.requestEncoding_=a;e.setKey(e.getKeyForDimensions_());p&&0<p.length&&(e.tileUrlFunction=(0,x.createFromTileUrlFunctions)(p.map(e.createFromWMTSTemplate.bind(e))));return e}l(d,k);d.prototype.setUrls=
function(f){this.urls=f;var a=f.join("\n");this.setTileUrlFunction((0,x.createFromTileUrlFunctions)(f.map(this.createFromWMTSTemplate.bind(this))),a)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};
d.prototype.getVersion=function(){return this.version_};d.prototype.getKeyForDimensions_=function(){var f=0,a=[],e;for(e in this.dimensions_)a[f++]=e+"-"+this.dimensions_[e];return a.join("/")};d.prototype.updateDimensions=function(f){(0,E.assign)(this.dimensions_,f);this.setKey(this.getKeyForDimensions_())};d.prototype.createFromWMTSTemplate=function(f){var a=this.requestEncoding_,e={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==m["default"].KVP&&(0,E.assign)(e,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});f=a==m["default"].KVP?(0,n.appendParams)(f,e):f.replace(/\{(\w+?)\}/g,function(C,D){return D.toLowerCase()in e?e[D.toLowerCase()]:C});var p=this.tileGrid,A=this.dimensions_;return function(C,D,P){if(C){var L={TileMatrix:p.getMatrixId(C[0]),TileCol:C[1],TileRow:C[2]};(0,E.assign)(L,A);C=f;return C=a==m["default"].KVP?(0,n.appendParams)(C,L):C.replace(/\{(\w+?)\}/g,function(G,z){return L[z]})}}};return d}(Ja["default"]);F["default"]=B};
shadow$provide[315]=function(Ja,B,qb,F){function g(fa){return fa&&fa.__esModule?fa:{"default":fa}}Object.defineProperty(F,"__esModule",{value:!0});Object.defineProperty(F,"BingMaps",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(F,"CartoDB",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(F,"Cluster",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(F,"IIIF",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(F,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(F,"ImageArcGISRest",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(F,"ImageCanvas",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(F,"ImageMapGuide",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(F,"ImageStatic",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(F,"ImageWMS",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(F,"OSM",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(F,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(F,"Source",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(F,"Stamen",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(F,"Tile",{enumerable:!0,get:function(){return A["default"]}});Object.defineProperty(F,"TileArcGISRest",{enumerable:!0,get:function(){return C["default"]}});
Object.defineProperty(F,"TileDebug",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(F,"TileImage",{enumerable:!0,get:function(){return P["default"]}});Object.defineProperty(F,"TileJSON",{enumerable:!0,get:function(){return L["default"]}});Object.defineProperty(F,"TileWMS",{enumerable:!0,get:function(){return G["default"]}});Object.defineProperty(F,"UrlTile",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(F,"UTFGrid",{enumerable:!0,get:function(){return K["default"]}});
Object.defineProperty(F,"Vector",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(F,"VectorTile",{enumerable:!0,get:function(){return R["default"]}});Object.defineProperty(F,"WMTS",{enumerable:!0,get:function(){return U["default"]}});Object.defineProperty(F,"XYZ",{enumerable:!0,get:function(){return ka["default"]}});Object.defineProperty(F,"Zoomify",{enumerable:!0,get:function(){return ba["default"]}});var m=g(B(277)),n=g(B(279)),E=g(B(280)),O=g(B(283)),x=g(B(285)),y=g(B(287)),
v=g(B(289)),l=g(B(290)),k=g(B(291)),d=g(B(293)),f=g(B(294)),a=g(B(302)),e=g(B(241)),p=g(B(303)),A=g(B(272)),C=g(B(304)),D=g(B(305)),P=g(B(275)),L=g(B(306)),G=g(B(307)),z=g(B(274)),K=g(B(308)),H=g(B(245)),R=g(B(311)),U=g(B(314)),ka=g(B(278)),ba=g(B(281))};
shadow$provide[316]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.toContext=function(x,y){var v=x.canvas,l=y?y:{};y=l.pixelRatio||m.DEVICE_PIXEL_RATIO;if(l=l.size)v.width=l[0]*y,v.height=l[1]*y,v.style.width=l[0]+"px",v.style.height=l[1]+"px";v=[0,0,v.width,v.height];l=(0,n.scale)((0,n.create)(),y,y);return new g["default"](x,y,v,l,0)};F.getVectorContext=function(x){var y=x.frameState,v=(0,n.multiply)(x.inversePixelTransform.slice(),y.coordinateToPixelTransform),l=(0,E.getSquaredTolerance)(y.viewState.resolution,
y.pixelRatio),k,d=(0,O.getUserProjection)();d&&(k=(0,O.getTransformFromProjections)(d,y.viewState.projection));return new g["default"](x.context,y.pixelRatio,y.extent,v,y.viewState.rotation,l,k)};F.getRenderPixel=function(x,y){y=y.slice(0);(0,n.apply)(x.inversePixelTransform.slice(),y);return y};var g=function(x){return x&&x.__esModule?x:{"default":x}}(B(227)),m=B(105),n=B(80),E=B(237),O=B(133)};
shadow$provide[317]=function(Ja,B,qb,F){function g(E,O,x){for(var y=[],v=E(0),l=E(1),k=O(v),d=O(l),f=[l,v],a=[d,k],e=[1,0],p={},A=1E5,C,D,P,L,G;0<--A&&0<e.length;)P=e.pop(),v=f.pop(),k=a.pop(),l=P.toString(),l in p||(y.push(k[0],k[1]),p[l]=!0),L=e.pop(),l=f.pop(),d=a.pop(),G=(P+L)/2,C=E(G),D=O(C),(0,n.squaredSegmentDistance)(D[0],D[1],k[0],k[1],d[0],d[1])<x?(y.push(d[0],d[1]),l=L.toString(),p[l]=!0):(e.push(L,G,G,P),a.push(d,D,D,k),f.push(l,C,C,v));return y}Object.defineProperty(F,"__esModule",{value:!0});
F.greatCircleArc=function(E,O,x,y,v,l){var k=(0,m.get)("EPSG:4326"),d=Math.cos((0,n.toRadians)(O)),f=Math.sin((0,n.toRadians)(O)),a=Math.cos((0,n.toRadians)(y)),e=Math.sin((0,n.toRadians)(y)),p=Math.cos((0,n.toRadians)(x-E)),A=Math.sin((0,n.toRadians)(x-E)),C=f*e+d*a*p;return g(function(D){if(1<=C)return[x,y];var P=D*Math.acos(C);D=Math.cos(P);var L=Math.sin(P),G=Math.atan2(A*a,d*e-f*a*p);P=Math.asin(f*D+d*L*Math.cos(G));D=(0,n.toRadians)(E)+Math.atan2(Math.sin(G)*L*d,D-f*Math.sin(P));return[(0,n.toDegrees)(D),
(0,n.toDegrees)(P)]},(0,m.getTransform)(k,v),l)};F.meridian=function(E,O,x,y,v){var l=(0,m.get)("EPSG:4326");return g(function(k){return[E,O+(x-O)*k]},(0,m.getTransform)(l,y),v)};F.parallel=function(E,O,x,y,v){var l=(0,m.get)("EPSG:4326");return g(function(k){return[O+(x-O)*k,E]},(0,m.getTransform)(l,y),v)};var m=B(133),n=B(84)};
shadow$provide[318]=function(Ja,B,qb,F){function g(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(110)),n=g(B(97)),E=g(B(193)),O=g(B(207)),x=g(B(138)),y=g(B(196)),v=g(B(148)),l=g(B(208)),k=g(B(209)),d=g(B(234));Ja=g(B(239));var f=g(B(245)),a=B(83),e=B(89),p=B(84),A=B(101),C=B(133),D=B(316),P=B(317),L=function(){var K=function(H,R){K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,ka){U.__proto__=ka}||function(U,
ka){for(var ba in ka)Object.prototype.hasOwnProperty.call(ka,ba)&&(U[ba]=ka[ba])};return K(H,R)};return function(H,R){function U(){this.constructor=H}K(H,R);H.prototype=null===R?Object.create(R):(U.prototype=R.prototype,new U)}}(),G=new l["default"]({color:"rgba(0,0,0,0.2)"}),z=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];B=function(K){function H(R){var U=this;R=R?R:{};U=(0,e.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},R);delete U.maxLines;delete U.strokeStyle;
delete U.targetSize;delete U.showLabels;delete U.lonLabelFormatter;delete U.latLabelFormatter;delete U.lonLabelPosition;delete U.latLabelPosition;delete U.lonLabelStyle;delete U.latLabelStyle;delete U.intervals;U=K.call(this,U)||this;U.projection_=null;U.maxLat_=Infinity;U.maxLon_=Infinity;U.minLat_=-Infinity;U.minLon_=-Infinity;U.maxX_=Infinity;U.maxY_=Infinity;U.minX_=-Infinity;U.minY_=-Infinity;U.targetSize_=void 0!==R.targetSize?R.targetSize:100;U.maxLines_=void 0!==R.maxLines?R.maxLines:100;
U.meridians_=[];U.parallels_=[];U.strokeStyle_=void 0!==R.strokeStyle?R.strokeStyle:G;U.fromLonLatTransform_=void 0;U.toLonLatTransform_=void 0;U.projectionCenterLonLat_=null;U.bottomLeft_=null;U.bottomRight_=null;U.topLeft_=null;U.topRight_=null;U.meridiansLabels_=null;U.parallelsLabels_=null;R.showLabels&&(U.lonLabelFormatter_=void 0==R.lonLabelFormatter?A.degreesToStringHDMS.bind(U,"EW"):R.lonLabelFormatter,U.latLabelFormatter_=void 0==R.latLabelFormatter?A.degreesToStringHDMS.bind(U,"NS"):R.latLabelFormatter,
U.lonLabelPosition_=void 0==R.lonLabelPosition?0:R.lonLabelPosition,U.latLabelPosition_=void 0==R.latLabelPosition?1:R.latLabelPosition,U.lonLabelStyleBase_=new k["default"]({text:void 0!==R.lonLabelStyle?R.lonLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new O["default"]({color:"rgba(0,0,0,1)"}),stroke:new l["default"]({color:"rgba(255,255,255,1)",width:3})})}),U.lonLabelStyle_=function(ka){ka=ka.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ka);
return this.lonLabelStyleBase_}.bind(U),U.latLabelStyleBase_=new k["default"]({text:void 0!==R.latLabelStyle?R.latLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new O["default"]({color:"rgba(0,0,0,1)"}),stroke:new l["default"]({color:"rgba(255,255,255,1)",width:3})})}),U.latLabelStyle_=function(ka){ka=ka.get("graticule_label");this.latLabelStyleBase_.getText().setText(ka);return this.latLabelStyleBase_}.bind(U),U.meridiansLabels_=[],U.parallelsLabels_=[],
U.addEventListener(n["default"].POSTRENDER,U.drawLabels_.bind(U)));U.intervals_=void 0!==R.intervals?R.intervals:z;U.setSource(new f["default"]({loader:U.loaderFunction.bind(U),strategy:U.strategyFunction.bind(U),features:new m["default"],overlaps:!1,useSpatialIndex:!1,wrapX:R.wrapX}));U.featurePool_=[];U.lineStyle_=new k["default"]({stroke:U.strokeStyle_});U.loadedExtent_=null;U.renderedExtent_=null;U.setRenderOrder(null);return U}L(H,K);H.prototype.strategyFunction=function(R,U){R=R.slice();this.projection_&&
this.getSource().getWrapX()&&(0,a.wrapX)(R,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,R,U)?R=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[R]};H.prototype.loaderFunction=function(R,U,ka){this.loadedExtent_=R;var ba=this.getSource(),fa=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];R=(0,a.getIntersection)(fa,R);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,R))if(this.renderedExtent_=R,!(0,
a.isEmpty)(R)){fa=(0,a.getCenter)(R);var ja=U*U/4;this.projection_&&(0,C.equivalent)(this.projection_,ka)||this.updateProjectionInfo_(ka);this.createGraticule_(R,fa,U,ja);ka=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ka+=this.meridians_.length);for(this.parallelsLabels_&&(ka+=this.parallels_.length);ka>this.featurePool_.length;)U=new E["default"],this.featurePool_.push(U);ba=ba.getFeaturesCollection();ba.clear();R=ka=0;for(fa=this.meridians_.length;R<fa;++R)U=this.featurePool_[ka++],
U.setGeometry(this.meridians_[R]),U.setStyle(this.lineStyle_),ba.push(U);R=0;for(fa=this.parallels_.length;R<fa;++R)U=this.featurePool_[ka++],U.setGeometry(this.parallels_[R]),U.setStyle(this.lineStyle_),ba.push(U)}};H.prototype.addMeridian_=function(R,U,ka,ba,fa,ja){U=this.getMeridian_(R,U,ka,ba,ja);(0,a.intersects)(U.getExtent(),fa)&&(this.meridiansLabels_&&(R=this.lonLabelFormatter_(R),ja in this.meridiansLabels_?this.meridiansLabels_[ja].text=R:this.meridiansLabels_[ja]={geom:new v["default"]([]),
text:R}),this.meridians_[ja++]=U);return ja};H.prototype.addParallel_=function(R,U,ka,ba,fa,ja){U=this.getParallel_(R,U,ka,ba,ja);(0,a.intersects)(U.getExtent(),fa)&&(this.parallelsLabels_&&(R=this.latLabelFormatter_(R),ja in this.parallelsLabels_?this.parallelsLabels_[ja].text=R:this.parallelsLabels_[ja]={geom:new v["default"]([]),text:R}),this.parallels_[ja++]=U);return ja};H.prototype.drawLabels_=function(R){var U=R.frameState.viewState.rotation,ka=R.frameState.extent,ba=(0,a.getCenter)(ka),fa=
ka;if(U){var ja=(0,a.getWidth)(ka),Z=(0,a.getHeight)(ka),Q=Math.abs(Math.cos(U)),q=Math.abs(Math.sin(U));fa=(q*Z-Q*ja)/(q*q-Q*Q);ja=(q*ja-Q*Z)/(q*q-Q*Q);fa=[ba[0]-fa/2,ba[1]-ja/2,ba[0]+fa/2,ba[1]+ja/2]}Z=ja=0;Q=.5>this.latLabelPosition_;var N=this.projection_.getExtent();q=(0,a.getWidth)(N);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(N,ka)&&(ja=Math.floor((ka[0]-N[0])/q),Z=Math.ceil((ka[2]-N[2])/q),Q=Q!==Math.abs(U)>Math.PI/2);R=(0,D.getVectorContext)(R);for(N=
ja;N<=Z;++N){var da=this.meridians_.length+this.parallels_.length,aa;if(this.meridiansLabels_){var wa=0;for(aa=this.meridiansLabels_.length;wa<aa;++wa){var ua=this.meridians_[wa];if(U||0!==N){ua=ua.clone();ua.translate(N*q,0);ua.rotate(-U,ba);var Ea=this.getMeridianPoint_(ua,fa,wa);Ea.rotate(U,ba)}else Ea=this.getMeridianPoint_(ua,ka,wa);ua=this.featurePool_[da++];ua.setGeometry(Ea);ua.set("graticule_label",this.meridiansLabels_[wa].text);R.drawFeature(ua,this.lonLabelStyle_(ua))}}if(this.parallelsLabels_&&
(N===ja&&Q||N===Z&&!Q))for(wa=0,aa=this.parallels_.length;wa<aa;++wa)ua=this.parallels_[wa],U||0!==N?(ua=ua.clone(),ua.translate(N*q,0),ua.rotate(-U,ba),Ea=this.getParallelPoint_(ua,fa,wa),Ea.rotate(U,ba)):Ea=this.getParallelPoint_(ua,ka,wa),ua=this.featurePool_[da++],ua.setGeometry(Ea),ua.set("graticule_label",this.parallelsLabels_[wa].text),R.drawFeature(ua,this.latLabelStyle_(ua))}};H.prototype.createGraticule_=function(R,U,ka,ba){ka=this.getInterval_(ka);if(-1==ka)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var fa=!1,ja=this.projection_.getExtent(),Z=(0,a.getWidth)(ja);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(ja,R)&&((0,a.getWidth)(R)>=Z?(R[0]=ja[0],R[2]=ja[2]):fa=!0);U=[(0,p.clamp)(U[0],this.minX_,this.maxX_),(0,p.clamp)(U[1],this.minY_,this.maxY_)];ja=this.toLonLatTransform_(U);isNaN(ja[1])&&(ja[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?
this.maxLat_:this.minLat_);U=(0,p.clamp)(ja[0],this.minLon_,this.maxLon_);ja=(0,p.clamp)(ja[1],this.minLat_,this.maxLat_);Z=this.maxLines_;var Q=R;fa||(Q=[(0,p.clamp)(R[0],this.minX_,this.maxX_),(0,p.clamp)(R[1],this.minY_,this.maxY_),(0,p.clamp)(R[2],this.minX_,this.maxX_),(0,p.clamp)(R[3],this.minY_,this.maxY_)]);var q=(0,a.applyTransform)(Q,this.toLonLatTransform_,void 0,8),N=q[3],da=q[2],aa=q[1];q=q[0];fa||((0,a.containsCoordinate)(Q,this.bottomLeft_)&&(q=this.minLon_,aa=this.minLat_),(0,a.containsCoordinate)(Q,
this.bottomRight_)&&(da=this.maxLon_,aa=this.minLat_),(0,a.containsCoordinate)(Q,this.topLeft_)&&(q=this.minLon_,N=this.maxLat_),(0,a.containsCoordinate)(Q,this.topRight_)&&(da=this.maxLon_,N=this.maxLat_),N=(0,p.clamp)(N,ja,this.maxLat_),da=(0,p.clamp)(da,U,this.maxLon_),aa=(0,p.clamp)(aa,this.minLat_,ja),q=(0,p.clamp)(q,this.minLon_,U));U=Math.floor(U/ka)*ka;var wa=(0,p.clamp)(U,this.minLon_,this.maxLon_);var ua=this.addMeridian_(wa,aa,N,ba,R,0);Q=0;if(fa)for(;(wa-=ka)>=q&&Q++<Z;)ua=this.addMeridian_(wa,
aa,N,ba,R,ua);else for(;wa!=this.minLon_&&Q++<Z;)wa=Math.max(wa-ka,this.minLon_),ua=this.addMeridian_(wa,aa,N,ba,R,ua);wa=(0,p.clamp)(U,this.minLon_,this.maxLon_);Q=0;if(fa)for(;(wa+=ka)<=da&&Q++<Z;)ua=this.addMeridian_(wa,aa,N,ba,R,ua);else for(;wa!=this.maxLon_&&Q++<Z;)wa=Math.min(wa+ka,this.maxLon_),ua=this.addMeridian_(wa,aa,N,ba,R,ua);this.meridians_.length=ua;this.meridiansLabels_&&(this.meridiansLabels_.length=ua);ja=Math.floor(ja/ka)*ka;fa=(0,p.clamp)(ja,this.minLat_,this.maxLat_);ua=this.addParallel_(fa,
q,da,ba,R,0);for(Q=0;fa!=this.minLat_&&Q++<Z;)fa=Math.max(fa-ka,this.minLat_),ua=this.addParallel_(fa,q,da,ba,R,ua);fa=(0,p.clamp)(ja,this.minLat_,this.maxLat_);for(Q=0;fa!=this.maxLat_&&Q++<Z;)fa=Math.min(fa+ka,this.maxLat_),ua=this.addParallel_(fa,q,da,ba,R,ua);this.parallels_.length=ua;this.parallelsLabels_&&(this.parallelsLabels_.length=ua)}};H.prototype.getInterval_=function(R){var U=this.projectionCenterLonLat_[0],ka=this.projectionCenterLonLat_[1],ba=-1;R=Math.pow(this.targetSize_*R,2);for(var fa=
[],ja=[],Z=0,Q=this.intervals_.length;Z<Q;++Z){var q=(0,p.clamp)(this.intervals_[Z]/2,0,90),N=(0,p.clamp)(ka,-90+q,90-q);fa[0]=U-q;fa[1]=N-q;ja[0]=U+q;ja[1]=N+q;this.fromLonLatTransform_(fa,fa);this.fromLonLatTransform_(ja,ja);if(Math.pow(ja[0]-fa[0],2)+Math.pow(ja[1]-fa[1],2)<=R)break;ba=this.intervals_[Z]}return ba};H.prototype.getMeridian_=function(R,U,ka,ba,fa){R=(0,P.meridian)(R,U,ka,this.projection_,ba);(U=this.meridians_[fa])?(U.setFlatCoordinates(x["default"].XY,R),U.changed()):(U=new y["default"](R,
x["default"].XY),this.meridians_[fa]=U);return U};H.prototype.getMeridianPoint_=function(R,U,ka){R=R.getFlatCoordinates();var ba=1,fa=R.length-1;R[ba]>R[fa]&&(ba=fa,fa=1);var ja=Math.max(U[1],R[ba]),Z=Math.min(U[3],R[fa]);U=(0,p.clamp)(U[1]+Math.abs(U[1]-U[3])*this.lonLabelPosition_,ja,Z);ka=this.meridiansLabels_[ka].geom;ka.setCoordinates([R[ba-1]+(R[fa-1]-R[ba-1])*(U-R[ba])/(R[fa]-R[ba]),U]);return ka};H.prototype.getMeridians=function(){return this.meridians_};H.prototype.getParallel_=function(R,
U,ka,ba,fa){R=(0,P.parallel)(R,U,ka,this.projection_,ba);(fa=this.parallels_[fa])?(fa.setFlatCoordinates(x["default"].XY,R),fa.changed()):fa=new y["default"](R,x["default"].XY);return fa};H.prototype.getParallelPoint_=function(R,U,ka){R=R.getFlatCoordinates();var ba=0,fa=R.length-2;R[ba]>R[fa]&&(ba=fa,fa=0);var ja=Math.max(U[0],R[ba]),Z=Math.min(U[2],R[fa]);U=(0,p.clamp)(U[0]+Math.abs(U[0]-U[2])*this.latLabelPosition_,ja,Z);ka=this.parallelsLabels_[ka].geom;ka.setCoordinates([U,R[ba+1]+(R[fa+1]-R[ba+
1])*(U-R[ba])/(R[fa]-R[ba])]);return ka};H.prototype.getParallels=function(){return this.parallels_};H.prototype.updateProjectionInfo_=function(R){var U=(0,C.get)("EPSG:4326"),ka=R.getWorldExtent();this.maxLat_=ka[3];this.maxLon_=ka[2];this.minLat_=ka[1];this.minLon_=ka[0];var ba=(0,C.getTransform)(R,U);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=ba;else{var fa=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(ja,Z,Q){Q=Q||2;ja=ba(ja,Z,Q);Z=0;for(var q=ja.length;Z<
q;Z+=Q)ja[Z]<fa&&(ja[Z]+=360);return ja}}this.fromLonLatTransform_=(0,C.getTransform)(U,R);U=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=U[0];this.maxX_=U[2];this.minY_=U[1];this.maxY_=U[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,
this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(R.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=R};return H}(Ja["default"]);F["default"]=B};
shadow$provide[319]=function(Ja,B,qb,F){function g(E,O){for(var x=m.length,y=0;y<x;++y)try{var v=E.getContext(m[y],O);if(v)return v}catch(l){}return null}Object.defineProperty(F,"__esModule",{value:!0});F.getContext=g;F.getSupportedExtensions=function(){if(!n){var E=document.createElement("canvas");(E=g(E))&&(n=E.getSupportedExtensions())}return n};F.FLOAT=F.UNSIGNED_INT=F.UNSIGNED_SHORT=F.UNSIGNED_BYTE=F.DYNAMIC_DRAW=F.STATIC_DRAW=F.STREAM_DRAW=F.ELEMENT_ARRAY_BUFFER=F.ARRAY_BUFFER=void 0;F.ARRAY_BUFFER=
34962;F.ELEMENT_ARRAY_BUFFER=34963;F.STREAM_DRAW=35040;F.STATIC_DRAW=35044;F.DYNAMIC_DRAW=35048;F.UNSIGNED_BYTE=5121;F.UNSIGNED_SHORT=5123;F.UNSIGNED_INT=5125;F.FLOAT=5126;var m=["experimental-webgl","webgl","webkit-3d","moz-webgl"],n};
shadow$provide[320]=function(Ja,B,qb,F){function g(O){switch(O){case m.ARRAY_BUFFER:return Float32Array;case m.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(F,"__esModule",{value:!0});F.getArrayClassForType=g;F["default"]=F.BufferUsage=void 0;var m=B(319),n=B(79),E={STATIC_DRAW:m.STATIC_DRAW,STREAM_DRAW:m.STREAM_DRAW,DYNAMIC_DRAW:m.DYNAMIC_DRAW};F.BufferUsage=E;Ja=function(){function O(x,y){this.array=null;this.type=x;(0,n.assert)(x===m.ARRAY_BUFFER||x===
m.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==y?y:E.STATIC_DRAW}O.prototype.ofSize=function(x){this.array=new (g(this.type))(x)};O.prototype.fromArray=function(x){this.array=g(this.type).from(x)};O.prototype.fromArrayBuffer=function(x){this.array=new (g(this.type))(x)};O.prototype.getType=function(){return this.type};O.prototype.getArray=function(){return this.array};O.prototype.getUsage=function(){return this.usage};O.prototype.getSize=function(){return this.array?this.array.length:0};return O}();
F["default"]=Ja};
shadow$provide[321]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[322]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=function(){function g(m){var n=this.gl_=m.webGlContext;this.scaleRatio_=m.scaleRatio||1;this.renderTargetTexture_=n.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=n.createFramebuffer();var E=n.createShader(n.VERTEX_SHADER);n.shaderSource(E,m.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
n.compileShader(E);var O=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(O,m.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");n.compileShader(O);this.renderTargetProgram_=n.createProgram();n.attachShader(this.renderTargetProgram_,E);n.attachShader(this.renderTargetProgram_,O);n.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),n.STATIC_DRAW);this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];m.uniforms&&Object.keys(m.uniforms).forEach(function(x){this.uniforms_.push({value:m.uniforms[x],
location:n.getUniformLocation(this.renderTargetProgram_,x)})}.bind(this))}g.prototype.getGL=function(){return this.gl_};g.prototype.init=function(m){m=this.getGL();var n=[m.drawingBufferWidth*this.scaleRatio_,m.drawingBufferHeight*this.scaleRatio_];m.bindFramebuffer(m.FRAMEBUFFER,this.getFrameBuffer());m.viewport(0,0,n[0],n[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var E=m.RGBA,O=m.RGBA,
x=m.UNSIGNED_BYTE;m.bindTexture(m.TEXTURE_2D,this.renderTargetTexture_);m.texImage2D(m.TEXTURE_2D,0,E,n[0],n[1],0,O,x,null);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,this.renderTargetTexture_,0)}};g.prototype.apply=function(m,n){var E=this.getGL(),O=m.size;E.bindFramebuffer(E.FRAMEBUFFER,
n?n.getFrameBuffer():null);E.activeTexture(E.TEXTURE0);E.bindTexture(E.TEXTURE_2D,this.renderTargetTexture_);E.clearColor(0,0,0,0);E.clear(E.COLOR_BUFFER_BIT);E.enable(E.BLEND);E.blendFunc(E.ONE,E.ONE_MINUS_SRC_ALPHA);E.viewport(0,0,E.drawingBufferWidth,E.drawingBufferHeight);E.bindBuffer(E.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);E.useProgram(this.renderTargetProgram_);E.enableVertexAttribArray(this.renderTargetAttribLocation_);E.vertexAttribPointer(this.renderTargetAttribLocation_,2,E.FLOAT,
!1,0,0);E.uniform2f(this.renderTargetUniformLocation_,O[0],O[1]);E.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(m);E.drawArrays(E.TRIANGLES,0,6)};g.prototype.getFrameBuffer=function(){return this.frameBuffer_};g.prototype.applyUniforms=function(m){var n=this.getGL(),E,O=1;this.uniforms_.forEach(function(x){E="function"===typeof x.value?x.value(m):x.value;if(E instanceof HTMLCanvasElement||E instanceof ImageData)x.texture||(x.texture=n.createTexture()),n.activeTexture(n["TEXTURE"+
O]),n.bindTexture(n.TEXTURE_2D,x.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),E instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,E.width,E.height,0,n.UNSIGNED_BYTE,new Uint8Array(E.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,E),n.uniform1i(x.location,O++);else if(Array.isArray(E))switch(E.length){case 2:n.uniform2f(x.location,
E[0],E[1]);break;case 3:n.uniform3f(x.location,E[0],E[1],E[2]);break;case 4:n.uniform4f(x.location,E[0],E[1],E[2],E[3])}else"number"===typeof E&&n.uniform1f(x.location,E)})};return g}();F["default"]=Ja};
shadow$provide[323]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};F.fromTransform=function(g,m){g[0]=m[0];g[1]=m[1];g[4]=m[2];g[5]=m[3];g[12]=m[4];g[13]=m[5];return g}};
shadow$provide[324]=function(Ja,B,qb,F){function g(A){return A&&A.__esModule?A:{"default":A}}function m(A){for(var C=0,D=0;D<A.length;D++){var P=A[D];C+=P.size*n(P.type)}return C}function n(A){switch(A){case p.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case p.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case p.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(F,"__esModule",{value:!0});F.computeAttributesStride=m;F["default"]=
F.AttributeType=F.DefaultUniform=F.ShaderType=void 0;var E=g(B(321));Ja=g(B(74));var O=g(B(322)),x=B(319),y=B(79),v=B(89),l=B(80),k=B(323),d=B(77),f=B(75),a=function(){var A=function(C,D){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var G in L)Object.prototype.hasOwnProperty.call(L,G)&&(P[G]=L[G])};return A(C,D)};return function(C,D){function P(){this.constructor=C}A(C,D);C.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)}}();
F.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var e={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};F.DefaultUniform=e;var p={UNSIGNED_BYTE:x.UNSIGNED_BYTE,UNSIGNED_SHORT:x.UNSIGNED_SHORT,UNSIGNED_INT:x.UNSIGNED_INT,FLOAT:x.FLOAT};F.AttributeType=p;B=function(A){function C(D){var P=A.call(this)||this;D=D||{};P.boundHandleWebGLContextLost_=P.handleWebGLContextLost.bind(P);
P.boundHandleWebGLContextRestored_=P.handleWebGLContextRestored.bind(P);P.canvas_=document.createElement("canvas");P.canvas_.style.position="absolute";P.canvas_.style.left="0";P.gl_=(0,x.getContext)(P.canvas_);var L=P.getGL();P.bufferCache_={};P.currentProgram_=null;(0,y.assert)((0,f.includes)((0,x.getSupportedExtensions)(),"OES_element_index_uint"),63);L.getExtension("OES_element_index_uint");P.canvas_.addEventListener(E["default"].LOST,P.boundHandleWebGLContextLost_);P.canvas_.addEventListener(E["default"].RESTORED,
P.boundHandleWebGLContextRestored_);P.offsetRotateMatrix_=(0,l.create)();P.offsetScaleMatrix_=(0,l.create)();P.tmpMat4_=(0,k.create)();P.uniformLocations_={};P.attribLocations_={};P.uniforms_=[];if(D.uniforms)for(var G in D.uniforms)P.uniforms_.push({name:G,value:D.uniforms[G]});P.postProcessPasses_=D.postProcesses?D.postProcesses.map(function(z){return new O["default"]({webGlContext:L,scaleRatio:z.scaleRatio,vertexShader:z.vertexShader,fragmentShader:z.fragmentShader,uniforms:z.uniforms})}):[new O["default"]({webGlContext:L})];
P.shaderCompileErrors_=null;P.startTime_=Date.now();return P}a(C,A);C.prototype.bindBuffer=function(D){var P=this.getGL(),L=(0,d.getUid)(D),G=this.bufferCache_[L];G||(G=P.createBuffer(),G={buffer:D,webGlBuffer:G},this.bufferCache_[L]=G);P.bindBuffer(D.getType(),G.webGlBuffer)};C.prototype.flushBufferData=function(D){var P=this.getGL();this.bindBuffer(D);P.bufferData(D.getType(),D.getArray(),D.getUsage())};C.prototype.deleteBuffer=function(D){var P=this.getGL();D=(0,d.getUid)(D);var L=this.bufferCache_[D];
P.isContextLost()||P.deleteBuffer(L.buffer);delete this.bufferCache_[D]};C.prototype.disposeInternal=function(){this.canvas_.removeEventListener(E["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(E["default"].RESTORED,this.boundHandleWebGLContextRestored_)};C.prototype.prepareDraw=function(D){var P=this.getGL(),L=this.getCanvas(),G=D.size,z=D.pixelRatio;L.width=G[0]*z;L.height=G[1]*z;L.style.width=G[0]+"px";L.style.height=G[1]+"px";P.useProgram(this.currentProgram_);
for(L=this.postProcessPasses_.length-1;0<=L;L--)this.postProcessPasses_[L].init(D);P.bindTexture(P.TEXTURE_2D,null);P.clearColor(0,0,0,0);P.clear(P.COLOR_BUFFER_BIT);P.enable(P.BLEND);P.blendFunc(P.ONE,P.ONE_MINUS_SRC_ALPHA);P.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};C.prototype.prepareDrawToRenderTarget=function(D,P,L){var G=this.getGL(),z=P.getSize();G.bindFramebuffer(G.FRAMEBUFFER,P.getFramebuffer());G.viewport(0,0,z[0],z[1]);G.bindTexture(G.TEXTURE_2D,P.getTexture());
G.clearColor(0,0,0,0);G.clear(G.COLOR_BUFFER_BIT);G.enable(G.BLEND);G.blendFunc(G.ONE,L?G.ZERO:G.ONE_MINUS_SRC_ALPHA);G.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};C.prototype.drawElements=function(D,P){var L=this.getGL();L.drawElements(L.TRIANGLES,P-D,L.UNSIGNED_INT,4*D)};C.prototype.finalizeDraw=function(D){for(var P=0;P<this.postProcessPasses_.length;P++)this.postProcessPasses_[P].apply(D,this.postProcessPasses_[P+1]||null)};C.prototype.getCanvas=function(){return this.canvas_};
C.prototype.getGL=function(){return this.gl_};C.prototype.applyFrameState=function(D){var P=D.size,L=D.viewState.rotation,G=(0,l.reset)(this.offsetScaleMatrix_);(0,l.scale)(G,2/P[0],2/P[1]);P=(0,l.reset)(this.offsetRotateMatrix_);0!==L&&(0,l.rotate)(P,-L);this.setUniformMatrixValue(e.OFFSET_SCALE_MATRIX,(0,k.fromTransform)(this.tmpMat4_,G));this.setUniformMatrixValue(e.OFFSET_ROTATION_MATRIX,(0,k.fromTransform)(this.tmpMat4_,P));this.setUniformFloatValue(e.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(e.ZOOM,D.viewState.zoom);this.setUniformFloatValue(e.RESOLUTION,D.viewState.resolution)};C.prototype.applyUniforms=function(D){var P=this.getGL(),L,G=0;this.uniforms_.forEach(function(z){L="function"===typeof z.value?z.value(D):z.value;if(L instanceof HTMLCanvasElement||L instanceof HTMLImageElement||L instanceof ImageData)z.texture||(z.prevValue=void 0,z.texture=P.createTexture()),P.activeTexture(P["TEXTURE"+G]),P.bindTexture(P.TEXTURE_2D,z.texture),P.texParameteri(P.TEXTURE_2D,
P.TEXTURE_MIN_FILTER,P.LINEAR),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),L instanceof HTMLImageElement&&!L.complete||z.prevValue===L||(z.prevValue=L,P.texImage2D(P.TEXTURE_2D,0,P.RGBA,P.RGBA,P.UNSIGNED_BYTE,L)),P.uniform1i(this.getUniformLocation(z.name),G++);else if(Array.isArray(L)&&6===L.length)this.setUniformMatrixValue(z.name,(0,k.fromTransform)(this.tmpMat4_,L));else if(Array.isArray(L)&&4>=L.length)switch(L.length){case 2:P.uniform2f(this.getUniformLocation(z.name),
L[0],L[1]);break;case 3:P.uniform3f(this.getUniformLocation(z.name),L[0],L[1],L[2]);break;case 4:P.uniform4f(this.getUniformLocation(z.name),L[0],L[1],L[2],L[3])}else"number"===typeof L&&P.uniform1f(this.getUniformLocation(z.name),L)}.bind(this))};C.prototype.useProgram=function(D){if(D==this.currentProgram_)return!1;this.getGL().useProgram(D);this.currentProgram_=D;this.uniformLocations_={};this.attribLocations_={};return!0};C.prototype.compileShader=function(D,P){var L=this.getGL();P=L.createShader(P);
L.shaderSource(P,D);L.compileShader(P);return P};C.prototype.getProgram=function(D,P){var L=this.getGL();D=this.compileShader(D,L.FRAGMENT_SHADER);P=this.compileShader(P,L.VERTEX_SHADER);this.shaderCompileErrors_=null;L.getShaderInfoLog(D)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+L.getShaderInfoLog(D));L.getShaderInfoLog(P)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+L.getShaderInfoLog(P)));var G=L.createProgram();L.attachShader(G,
D);L.attachShader(G,P);L.linkProgram(G);return G};C.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};C.prototype.getUniformLocation=function(D){void 0===this.uniformLocations_[D]&&(this.uniformLocations_[D]=this.getGL().getUniformLocation(this.currentProgram_,D));return this.uniformLocations_[D]};C.prototype.getAttributeLocation=function(D){void 0===this.attribLocations_[D]&&(this.attribLocations_[D]=this.getGL().getAttribLocation(this.currentProgram_,D));return this.attribLocations_[D]};
C.prototype.makeProjectionTransform=function(D,P){var L=D.size,G=D.viewState.rotation,z=D.viewState.resolution;D=D.viewState.center;(0,l.reset)(P);(0,l.compose)(P,0,0,2/(z*L[0]),2/(z*L[1]),-G,-D[0],-D[1]);return P};C.prototype.setUniformFloatValue=function(D,P){this.getGL().uniform1f(this.getUniformLocation(D),P)};C.prototype.setUniformMatrixValue=function(D,P){this.getGL().uniformMatrix4fv(this.getUniformLocation(D),!1,P)};C.prototype.enableAttributeArray_=function(D,P,L,G,z){D=this.getAttributeLocation(D);
0>D||(this.getGL().enableVertexAttribArray(D),this.getGL().vertexAttribPointer(D,P,L,!1,G,z))};C.prototype.enableAttributes=function(D){for(var P=m(D),L=0,G=0;G<D.length;G++){var z=D[G];this.enableAttributeArray_(z.name,z.size,z.type||x.FLOAT,P,L);L+=z.size*n(z.type)}};C.prototype.handleWebGLContextLost=function(){(0,v.clear)(this.bufferCache_);this.currentProgram_=null};C.prototype.handleWebGLContextRestored=function(){};C.prototype.createTexture=function(D,P,L){var G=this.getGL();L=L||G.createTexture();
var z=G.RGBA,K=G.RGBA,H=G.UNSIGNED_BYTE;G.bindTexture(G.TEXTURE_2D,L);P?G.texImage2D(G.TEXTURE_2D,0,z,K,H,P):G.texImage2D(G.TEXTURE_2D,0,z,D[0],D[1],0,K,H,null);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.LINEAR);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_S,G.CLAMP_TO_EDGE);G.texParameteri(G.TEXTURE_2D,G.TEXTURE_WRAP_T,G.CLAMP_TO_EDGE);return L};return C}(Ja["default"]);F["default"]=B};
shadow$provide[325]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}function m(l,k,d,f,a){l[k+0]=d;l[k+1]=f;l[k+2]=a}Object.defineProperty(F,"__esModule",{value:!0});F.writePointFeatureToBuffers=function(l,k,d,f,a,e){var p=3+a,A=l[k+0],C=l[k+1],D=y;D.length=a;for(a=0;a<D.length;a++)D[a]=l[k+2+a];l=e?e.vertexPosition:0;e=e?e.indexPosition:0;k=l/p;m(d,l,A,C,0);D.length&&d.set(D,l+3);l+=p;m(d,l,A,C,1);D.length&&d.set(D,l+3);l+=p;m(d,l,A,C,2);D.length&&d.set(D,l+3);l+=p;m(d,l,
A,C,3);D.length&&d.set(D,l+3);f[e++]=k;f[e++]=k+1;f[e++]=k+3;f[e++]=k+1;f[e++]=k+2;f[e++]=k+3;v.vertexPosition=l+p;v.indexPosition=e;return v};F.getBlankImageData=function(){var l=document.createElement("canvas").getContext("2d").createImageData(1,1);l.data[0]=255;l.data[1]=255;l.data[2]=255;l.data[3]=255;return l};F.colorEncodeId=function(l,k){k=k||[];k[0]=Math.floor(l/256/256/256)/255;k[1]=Math.floor(l/256/256)%256/255;k[2]=Math.floor(l/256)%256/255;k[3]=l%256/255;return k};F.colorDecodeId=function(l){var k=
0+Math.round(4278190080*l[0]);k+=Math.round(16711680*l[1]);k+=Math.round(65280*l[2]);return k+=Math.round(255*l[3])};F["default"]=F.WebGLWorkerMessageType=void 0;Ja=g(B(221));var n=g(B(103)),E=g(B(97)),O=g(B(324)),x=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,d);k.prototype=
null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();F.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};B=function(l){function k(d,f){d=l.call(this,d)||this;f=f||{};d.helper=new O["default"]({postProcesses:f.postProcesses,uniforms:f.uniforms});void 0!==f.className&&(d.helper.getCanvas().className=f.className);return d}x(k,l);k.prototype.disposeInternal=function(){this.helper.dispose();l.prototype.disposeInternal.call(this)};k.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
k.prototype.dispatchRenderEvent_=function(d,f){var a=this.getLayer();a.hasListener(d)&&(d=new n["default"](d,null,f,null),a.dispatchEvent(d))};k.prototype.preRender=function(d){this.dispatchRenderEvent_(E["default"].PRERENDER,d)};k.prototype.postRender=function(d){this.dispatchRenderEvent_(E["default"].POSTRENDER,d)};return k}(Ja["default"]);var y=[],v={vertexPosition:0,indexPosition:0};F["default"]=B};
shadow$provide[326]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=B(75),m=new Uint8Array(4);Ja=function(){function n(E,O){this.helper_=E;E=E.getGL();this.texture_=E.createTexture();this.framebuffer_=E.createFramebuffer();this.size_=O||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}n.prototype.setSize=function(E){(0,g.equals)(E,this.size_)||(this.size_[0]=E[0],this.size_[1]=E[1],this.updateSize_())};n.prototype.getSize=
function(){return this.size_};n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};n.prototype.readAll=function(){if(this.dataCacheDirty_){var E=this.size_,O=this.helper_.getGL();O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer_);O.readPixels(0,0,E[0],E[1],O.RGBA,O.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};n.prototype.readPixel=function(E,O){if(0>E||0>O||E>this.size_[0]||O>=this.size_[1])return m[0]=0,m[1]=0,m[2]=0,m[3]=0,m;this.readAll();E=Math.floor(E)+(this.size_[1]-
Math.floor(O)-1)*this.size_[0];m[0]=this.data_[4*E];m[1]=this.data_[4*E+1];m[2]=this.data_[4*E+2];m[3]=this.data_[4*E+3];return m};n.prototype.getTexture=function(){return this.texture_};n.prototype.getFramebuffer=function(){return this.framebuffer_};n.prototype.updateSize_=function(){var E=this.size_,O=this.helper_.getGL();this.texture_=this.helper_.createTexture(E,null,this.texture_);O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer_);O.viewport(0,0,E[0],E[1]);O.framebufferTexture2D(O.FRAMEBUFFER,
O.COLOR_ATTACHMENT0,O.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(E[0]*E[1]*4)};return n}();F["default"]=Ja};
shadow$provide[327]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.create=function(){return new Worker(g)};Ja=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var g=URL.createObjectURL(Ja)};
shadow$provide[328]=function(Ja,B,qb,F){function g(L){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"===typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};return g(L)}function m(){if("function"!==typeof WeakMap)return null;var L=new WeakMap;m=function(){return L};return L}function n(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;
var E=n(B(210)),O=n(B(122)),x=n(B(242)),y=n(B(124)),v=n(B(320)),l=function(L){if(L&&L.__esModule)return L;if(null===L||"object"!==g(L)&&"function"!==typeof L)return{"default":L};var G=m();if(G&&G.has(L))return G.get(L);var z={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in L)if(Object.prototype.hasOwnProperty.call(L,H)){var R=K?Object.getOwnPropertyDescriptor(L,H):null;R&&(R.get||R.set)?Object.defineProperty(z,H,R):z[H]=L[H]}z["default"]=L;G&&G.set(L,z);return z}(B(325)),k=n(B(326)),
d=B(319),f=B(324),a=B(80),e=B(79),p=B(83),A=B(327),C=B(77),D=B(92),P=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,H){K.__proto__=H}||function(K,H){for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(K[R]=H[R])};return L(G,z)};return function(G,z){function K(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(K.prototype=z.prototype,new K)}}();Ja=function(L){function G(z,K){var H=this;H=K.uniforms||{};var R=(0,a.create)();
H[f.DefaultUniform.PROJECTION_MATRIX]=R;H=L.call(this,z,{className:K.className,uniforms:H,postProcesses:K.postProcesses})||this;H.sourceRevision_=-1;H.verticesBuffer_=new v["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);H.hitVerticesBuffer_=new v["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);H.indicesBuffer_=new v["default"](d.ELEMENT_ARRAY_BUFFER,d.DYNAMIC_DRAW);H.program_=H.helper.getProgram(K.fragmentShader,K.vertexShader);H.hitDetectionEnabled_=K.hitFragmentShader&&K.hitVertexShader?!0:!1;H.hitProgram_=
H.hitDetectionEnabled_&&H.helper.getProgram(K.hitFragmentShader,K.hitVertexShader);z=K.attributes?K.attributes.map(function(U){return{name:"a_"+U.name,size:1,type:f.AttributeType.FLOAT}}):[];H.attributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT}].concat(z);H.hitDetectionAttributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:f.AttributeType.FLOAT},
{name:"a_featureUid",size:1,type:f.AttributeType.FLOAT}].concat(z);H.customAttributes=K.attributes?K.attributes:[];H.previousExtent_=(0,p.createEmpty)();H.currentTransform_=R;H.renderTransform_=(0,a.create)();H.invertRenderTransform_=(0,a.create)();H.renderInstructions_=new Float32Array(0);H.hitRenderInstructions_=new Float32Array(0);H.hitRenderTarget_=H.hitDetectionEnabled_&&new k["default"](H.helper);H.worker_=(0,A.create)();H.worker_.addEventListener("message",function(U){var ka=U.data;if(ka.type===
l.WebGLWorkerMessageType.GENERATE_BUFFERS){var ba=ka.projectionTransform;ka.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(ka.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(ka.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(ka.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=ba;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);
ka.hitDetection?this.hitRenderInstructions_=new Float32Array(U.data.renderInstructions):this.renderInstructions_=new Float32Array(U.data.renderInstructions);this.getLayer().changed()}}.bind(H));H.featureCache_={};H.featureCount_=0;K=H.getLayer().getSource();H.sourceListenKeys_=[(0,D.listen)(K,x["default"].ADDFEATURE,H.handleSourceFeatureAdded_,H),(0,D.listen)(K,x["default"].CHANGEFEATURE,H.handleSourceFeatureChanged_,H),(0,D.listen)(K,x["default"].REMOVEFEATURE,H.handleSourceFeatureDelete_,H),(0,
D.listen)(K,x["default"].CLEAR,H.handleSourceFeatureClear_,H)];K.forEachFeature(function(U){this.featureCache_[(0,C.getUid)(U)]={feature:U,properties:U.getProperties(),geometry:U.getGeometry()};this.featureCount_++}.bind(H));return H}P(G,L);G.prototype.handleSourceFeatureAdded_=function(z){z=z.feature;this.featureCache_[(0,C.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()};this.featureCount_++};G.prototype.handleSourceFeatureChanged_=function(z){z=z.feature;this.featureCache_[(0,
C.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()}};G.prototype.handleSourceFeatureDelete_=function(z){z=z.feature;delete this.featureCache_[(0,C.getUid)(z)];this.featureCount_--};G.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};G.prototype.renderFrame=function(z){this.preRender(z);var K=this.indicesBuffer_.getSize();this.helper.drawElements(0,K);this.helper.finalizeDraw(z);K=this.helper.getCanvas();var H=z.layerStatesArray[z.layerIndex].opacity;
H!==parseFloat(K.style.opacity)&&(K.style.opacity=String(H));this.hitDetectionEnabled_&&(this.renderHitDetection(z),this.hitRenderTarget_.clearCachedData());this.postRender(z);return K};G.prototype.prepareFrame=function(z){var K=this.getLayer(),H=K.getSource(),R=z.viewState,U=!z.viewHints[y["default"].ANIMATING]&&!z.viewHints[y["default"].INTERACTING],ka=!(0,p.equals)(this.previousExtent_,z.extent),ba=this.sourceRevision_<H.getRevision();ba&&(this.sourceRevision_=H.getRevision());U&&(ka||ba)&&(U=
R.projection,R=R.resolution,K=K instanceof E["default"]?K.getRenderBuffer():0,K=(0,p.buffer)(z.extent,K*R),H.loadFeatures(K,R,U),this.rebuildBuffers_(z),this.previousExtent_=z.extent.slice());this.helper.makeProjectionTransform(z,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(z);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);
return!0};G.prototype.rebuildBuffers_=function(z){var K=(0,a.create)();this.helper.makeProjectionTransform(z,K);z=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===z||(this.renderInstructions_=new Float32Array(z));this.hitDetectionEnabled_&&(z=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===z||(this.hitRenderInstructions_=new Float32Array(z)));var H,R=[],U=[],ka=0,ba=
0;for(ja in this.featureCache_)if(z=this.featureCache_[ja],(H=z.geometry)&&H.getType()===O["default"].POINT){R[0]=H.getFlatCoordinates()[0];R[1]=H.getFlatCoordinates()[1];(0,a.apply)(K,R);H=(0,l.colorEncodeId)(ba+6,U);this.renderInstructions_[ka++]=R[0];this.renderInstructions_[ka++]=R[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ba++]=R[0],this.hitRenderInstructions_[ba++]=R[1],this.hitRenderInstructions_[ba++]=H[0],this.hitRenderInstructions_[ba++]=H[1],this.hitRenderInstructions_[ba++]=
H[2],this.hitRenderInstructions_[ba++]=H[3],this.hitRenderInstructions_[ba++]=Number(ja));for(var fa=0;fa<this.customAttributes.length;fa++)H=this.customAttributes[fa].callback(z.feature,z.properties),this.renderInstructions_[ka++]=H,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ba++]=H)}var ja={type:l.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};ja.projectionTransform=K;this.worker_.postMessage(ja,
[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(ja={type:l.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},ja.projectionTransform=K,ja.hitDetection=!0,this.worker_.postMessage(ja,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};G.prototype.forEachFeatureAtCoordinate=function(z,K,H,R,U){(0,e.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&
(z=(0,a.apply)(K.coordinateToPixelTransform,z.slice()),z=this.hitRenderTarget_.readPixel(z[0]/2,z[1]/2),z=[z[0]/255,z[1]/255,z[2]/255,z[3]/255],z=(0,l.colorDecodeId)(z),z=Math.floor(this.hitRenderInstructions_[z]).toString(),z=this.getLayer().getSource().getFeatureByUid(z)))return R(z,this.getLayer(),null)};G.prototype.renderHitDetection=function(z){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(z.size[0]/2),Math.floor(z.size[1]/2)]),this.helper.useProgram(this.hitProgram_),
this.helper.prepareDrawToRenderTarget(z,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),z=this.indicesBuffer_.getSize(),this.helper.drawElements(0,z))};G.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(z){(0,D.unlistenByKey)(z)});this.sourceListenKeys_=null;L.prototype.disposeInternal.call(this)};return G}(l["default"]);
F["default"]=Ja};
shadow$provide[329]=function(Ja,B,qb,F){function g(l){return l&&l.__esModule?l:{"default":l}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(239));var m=g(B(328)),n=B(89),E=B(84),O=B(106),x=B(94),y=function(){var l=function(k,d){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return l(k,d)};return function(k,d){function f(){this.constructor=k}l(k,
d);k.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),v=["#00f","#0ff","#0f0","#ff0","#f00"];B=function(l){function k(d){var f=this;d=d?d:{};f=(0,n.assign)({},d);delete f.gradient;delete f.radius;delete f.blur;delete f.weight;f=l.call(this,f)||this;f.gradient_=null;f.addEventListener((0,x.getChangeEventType)("gradient"),f.handleGradientChanged_);f.setGradient(d.gradient?d.gradient:v);f.setBlur(void 0!==d.blur?d.blur:15);f.setRadius(void 0!==d.radius?d.radius:8);var a=d.weight?
d.weight:"weight";f.weightFunction_="string"===typeof a?function(e){return e.get(a)}:a;f.setRenderOrder(null);return f}y(k,l);k.prototype.getBlur=function(){return this.get("blur")};k.prototype.getGradient=function(){return this.get("gradient")};k.prototype.getRadius=function(){return this.get("radius")};k.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),f=(0,O.createCanvasContext2D)(1,256),a=f.createLinearGradient(0,0,1,256),e=1/(d.length-1),p=0,A=d.length;p<A;++p)a.addColorStop(p*
e,d[p]);f.fillStyle=a;f.fillRect(0,0,1,256);this.gradient_=f.canvas};k.prototype.setBlur=function(d){this.set("blur",d)};k.prototype.setGradient=function(d){this.set("gradient",d)};k.prototype.setRadius=function(d){this.set("radius",d)};k.prototype.createRenderer=function(){return new m["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,E.clamp)(d,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};k.prototype.renderDeclutter=function(){};return k}(Ja["default"]);F["default"]=B};
shadow$provide[330]=function(Ja,B,qb,F){function g(G){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(G)?G:new Uint8Array(G||0);this.type=this.pos=0;this.length=this.buf.length}function m(G,z,K){var H=K.buf;var R=H[K.pos++];var U=(R&112)>>4;if(128>R)return E(G,U,z);R=H[K.pos++];U|=(R&127)<<3;if(128>R)return E(G,U,z);R=H[K.pos++];U|=(R&127)<<10;if(128>R)return E(G,U,z);R=H[K.pos++];U|=(R&127)<<17;if(128>R)return E(G,U,z);R=H[K.pos++];U|=(R&127)<<24;if(128>R)return E(G,U,z);R=H[K.pos++];if(128>R)return E(G,
U|(R&1)<<31,z);throw Error("Expected varint not more than 10 bytes");}function n(G){return G.type===g.Bytes?G.readVarint()+G.pos:G.pos+1}function E(G,z,K){return K?4294967296*z+(G>>>0):4294967296*(z>>>0)+(G>>>0)}function O(G,z,K){z=16383>=z?1:2097151>=z?2:268435455>=z?3:Math.floor(Math.log(z)/(7*Math.LN2));K.realloc(z);for(var H=K.pos-1;H>=G;H--)K.buf[H+z]=K.buf[H]}function x(G,z){for(var K=0;K<G.length;K++)z.writeVarint(G[K])}function y(G,z){for(var K=0;K<G.length;K++)z.writeSVarint(G[K])}function v(G,
z){for(var K=0;K<G.length;K++)z.writeFloat(G[K])}function l(G,z){for(var K=0;K<G.length;K++)z.writeDouble(G[K])}function k(G,z){for(var K=0;K<G.length;K++)z.writeBoolean(G[K])}function d(G,z){for(var K=0;K<G.length;K++)z.writeFixed32(G[K])}function f(G,z){for(var K=0;K<G.length;K++)z.writeSFixed32(G[K])}function a(G,z){for(var K=0;K<G.length;K++)z.writeFixed64(G[K])}function e(G,z){for(var K=0;K<G.length;K++)z.writeSFixed64(G[K])}function p(G,z){return(G[z]|G[z+1]<<8|G[z+2]<<16)+16777216*G[z+3]}function A(G,
z,K){G[K]=z;G[K+1]=z>>>8;G[K+2]=z>>>16;G[K+3]=z>>>24}function C(G,z){return(G[z]|G[z+1]<<8|G[z+2]<<16)+(G[z+3]<<24)}qb.exports=g;var D=B(22);g.Varint=0;g.Fixed64=1;g.Bytes=2;g.Fixed32=5;var P=1/4294967296,L="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");g.prototype={destroy:function(){this.buf=null},readFields:function(G,z,K){for(K=K||this.length;this.pos<K;){var H=this.readVarint(),R=H>>3,U=this.pos;this.type=H&7;G(R,z,this);this.pos===U&&this.skip(H)}return z},readMessage:function(G,
z){return this.readFields(G,z,this.readVarint()+this.pos)},readFixed32:function(){var G=p(this.buf,this.pos);this.pos+=4;return G},readSFixed32:function(){var G=C(this.buf,this.pos);this.pos+=4;return G},readFixed64:function(){var G=p(this.buf,this.pos)+4294967296*p(this.buf,this.pos+4);this.pos+=8;return G},readSFixed64:function(){var G=p(this.buf,this.pos)+4294967296*C(this.buf,this.pos+4);this.pos+=8;return G},readFloat:function(){var G=D.read(this.buf,this.pos,!0,23,4);this.pos+=4;return G},readDouble:function(){var G=
D.read(this.buf,this.pos,!0,52,8);this.pos+=8;return G},readVarint:function(G){var z=this.buf;var K=z[this.pos++];var H=K&127;if(128>K)return H;K=z[this.pos++];H|=(K&127)<<7;if(128>K)return H;K=z[this.pos++];H|=(K&127)<<14;if(128>K)return H;K=z[this.pos++];H|=(K&127)<<21;if(128>K)return H;K=z[this.pos];return m(H|(K&15)<<28,G,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var G=this.readVarint();return 1===G%2?(G+1)/-2:G/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var G=this.readVarint()+this.pos,z=this.pos;this.pos=G;if(12<=G-z&&L)return L.decode(this.buf.subarray(z,G));for(var K=this.buf,H="";z<G;){var R=K[z],U=null,ka=239<R?4:223<R?3:191<R?2:1;if(z+ka>G)break;if(1===ka)128>R&&(U=R);else if(2===ka){var ba=K[z+1];128===(ba&192)&&(U=(R&31)<<6|ba&63,127>=U&&(U=null))}else if(3===ka){ba=K[z+1];var fa=K[z+2];128===(ba&192)&&128===(fa&192)&&(U=(R&15)<<12|(ba&63)<<6|fa&63,2047>=U||55296<=U&&57343>=U)&&(U=null)}else if(4===ka){ba=K[z+1];fa=
K[z+2];var ja=K[z+3];128===(ba&192)&&128===(fa&192)&&128===(ja&192)&&(U=(R&15)<<18|(ba&63)<<12|(fa&63)<<6|ja&63,65535>=U||1114112<=U)&&(U=null)}null===U?(U=65533,ka=1):65535<U&&(U-=65536,H+=String.fromCharCode(U>>>10&1023|55296),U=56320|U&1023);H+=String.fromCharCode(U);z+=ka}return H},readBytes:function(){var G=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,G);this.pos=G;return z},readPackedVarint:function(G,z){if(this.type!==g.Bytes)return G.push(this.readVarint(z));var K=n(this);for(G=
G||[];this.pos<K;)G.push(this.readVarint(z));return G},readPackedSVarint:function(G){if(this.type!==g.Bytes)return G.push(this.readSVarint());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readSVarint());return G},readPackedBoolean:function(G){if(this.type!==g.Bytes)return G.push(this.readBoolean());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readBoolean());return G},readPackedFloat:function(G){if(this.type!==g.Bytes)return G.push(this.readFloat());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readFloat());
return G},readPackedDouble:function(G){if(this.type!==g.Bytes)return G.push(this.readDouble());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readDouble());return G},readPackedFixed32:function(G){if(this.type!==g.Bytes)return G.push(this.readFixed32());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readFixed32());return G},readPackedSFixed32:function(G){if(this.type!==g.Bytes)return G.push(this.readSFixed32());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readSFixed32());return G},readPackedFixed64:function(G){if(this.type!==
g.Bytes)return G.push(this.readFixed64());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readFixed64());return G},readPackedSFixed64:function(G){if(this.type!==g.Bytes)return G.push(this.readSFixed64());var z=n(this);for(G=G||[];this.pos<z;)G.push(this.readSFixed64());return G},skip:function(G){G&=7;if(G===g.Varint)for(;127<this.buf[this.pos++];);else if(G===g.Bytes)this.pos=this.readVarint()+this.pos;else if(G===g.Fixed32)this.pos+=4;else if(G===g.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
G);},writeTag:function(G,z){this.writeVarint(G<<3|z)},realloc:function(G){for(var z=this.length||16;z<this.pos+G;)z*=2;z!==this.length&&(G=new Uint8Array(z),G.set(this.buf),this.buf=G,this.length=z)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(G){this.realloc(4);A(this.buf,G,this.pos);this.pos+=4},writeSFixed32:function(G){this.realloc(4);A(this.buf,G,this.pos);this.pos+=4},writeFixed64:function(G){this.realloc(8);A(this.buf,G&-1,
this.pos);A(this.buf,Math.floor(G*P),this.pos+4);this.pos+=8},writeSFixed64:function(G){this.realloc(8);A(this.buf,G&-1,this.pos);A(this.buf,Math.floor(G*P),this.pos+4);this.pos+=8},writeVarint:function(G){G=+G||0;if(268435455<G||0>G){if(0<=G){var z=G%4294967296|0;var K=G/4294967296|0}else z=~(-G%4294967296),K=~(-G/4294967296),z^4294967295?z=z+1|0:(z=0,K=K+1|0);if(1.8446744073709552E19<=G||-1.8446744073709552E19>G)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);G=z;this.buf[this.pos++]=
G&127|128;G>>>=7;this.buf[this.pos++]=G&127|128;G>>>=7;this.buf[this.pos++]=G&127|128;G>>>=7;this.buf[this.pos++]=G&127|128;this.buf[this.pos]=G>>>7&127;this.buf[this.pos++]|=(K&7)<<4|((K>>>=3)?128:0);K&&(this.buf[this.pos++]=K&127|((K>>>=7)?128:0),K&&(this.buf[this.pos++]=K&127|((K>>>=7)?128:0),K&&(this.buf[this.pos++]=K&127|((K>>>=7)?128:0),K&&(this.buf[this.pos++]=K&127|((K>>>=7)?128:0),K&&(this.buf[this.pos++]=K&127)))))}else this.realloc(4),this.buf[this.pos++]=G&127|(127<G?128:0),127>=G||(this.buf[this.pos++]=
(G>>>=7)&127|(127<G?128:0),127>=G||(this.buf[this.pos++]=(G>>>=7)&127|(127<G?128:0),127>=G||(this.buf[this.pos++]=G>>>7&127)))},writeSVarint:function(G){this.writeVarint(0>G?2*-G-1:2*G)},writeBoolean:function(G){this.writeVarint(!!G)},writeString:function(G){G=String(G);this.realloc(4*G.length);this.pos++;for(var z=this.pos,K=this.buf,H=this.pos,R=0,U,ka;R<G.length;R++){U=G.charCodeAt(R);if(55295<U&&57344>U)if(ka)if(56320>U){K[H++]=239;K[H++]=191;K[H++]=189;ka=U;continue}else U=ka-55296<<10|U-56320|
65536,ka=null;else{56319<U||R+1===G.length?(K[H++]=239,K[H++]=191,K[H++]=189):ka=U;continue}else ka&&(K[H++]=239,K[H++]=191,K[H++]=189,ka=null);128>U?K[H++]=U:(2048>U?K[H++]=U>>6|192:(65536>U?K[H++]=U>>12|224:(K[H++]=U>>18|240,K[H++]=U>>12&63|128),K[H++]=U>>6&63|128),K[H++]=U&63|128)}this.pos=H;K=this.pos-z;128<=K&&O(z,K,this);this.pos=z-1;this.writeVarint(K);this.pos+=K},writeFloat:function(G){this.realloc(4);D.write(this.buf,G,this.pos,!0,23,4);this.pos+=4},writeDouble:function(G){this.realloc(8);
D.write(this.buf,G,this.pos,!0,52,8);this.pos+=8},writeBytes:function(G){var z=G.length;this.writeVarint(z);this.realloc(z);for(var K=0;K<z;K++)this.buf[this.pos++]=G[K]},writeRawMessage:function(G,z){this.pos++;var K=this.pos;G(z,this);G=this.pos-K;128<=G&&O(K,G,this);this.pos=K-1;this.writeVarint(G);this.pos+=G},writeMessage:function(G,z,K){this.writeTag(G,g.Bytes);this.writeRawMessage(z,K)},writePackedVarint:function(G,z){z.length&&this.writeMessage(G,x,z)},writePackedSVarint:function(G,z){z.length&&
this.writeMessage(G,y,z)},writePackedBoolean:function(G,z){z.length&&this.writeMessage(G,k,z)},writePackedFloat:function(G,z){z.length&&this.writeMessage(G,v,z)},writePackedDouble:function(G,z){z.length&&this.writeMessage(G,l,z)},writePackedFixed32:function(G,z){z.length&&this.writeMessage(G,d,z)},writePackedSFixed32:function(G,z){z.length&&this.writeMessage(G,f,z)},writePackedFixed64:function(G,z){z.length&&this.writeMessage(G,a,z)},writePackedSFixed64:function(G,z){z.length&&this.writeMessage(G,
e,z)},writeBytesField:function(G,z){this.writeTag(G,g.Bytes);this.writeBytes(z)},writeFixed32Field:function(G,z){this.writeTag(G,g.Fixed32);this.writeFixed32(z)},writeSFixed32Field:function(G,z){this.writeTag(G,g.Fixed32);this.writeSFixed32(z)},writeFixed64Field:function(G,z){this.writeTag(G,g.Fixed64);this.writeFixed64(z)},writeSFixed64Field:function(G,z){this.writeTag(G,g.Fixed64);this.writeSFixed64(z)},writeVarintField:function(G,z){this.writeTag(G,g.Varint);this.writeVarint(z)},writeSVarintField:function(G,
z){this.writeTag(G,g.Varint);this.writeSVarint(z)},writeStringField:function(G,z){this.writeTag(G,g.Bytes);this.writeString(z)},writeFloatField:function(G,z){this.writeTag(G,g.Fixed32);this.writeFloat(z)},writeDoubleField:function(G,z){this.writeTag(G,g.Fixed64);this.writeDouble(z)},writeBooleanField:function(G,z){this.writeVarintField(G,!!z)}}};
shadow$provide[331]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var g=function(d){return d&&d.__esModule?d:{"default":d}}(B(122)),m=B(80),n=B(83),E=B(75),O=B(150),x=B(133),y=B(194),v=B(199),l=B(139),k=(0,m.create)();Ja=function(){function d(f,a,e,p,A){this.id_=A;this.type_=f;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=e;this.properties_=p}d.prototype.get=function(f){return this.properties_[f]};d.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===g["default"].POINT?(0,n.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,n.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var f=(0,n.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,O.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,f,0)}return this.flatInteriorPoints_};d.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var f=(0,v.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,O.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,f)}return this.flatInteriorPoints_};d.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,y.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var f=this.flatCoordinates_,a=0,e=this.ends_,p=0,A=e.length;p<A;++p){var C=e[p];a=(0,y.interpolatePoint)(f,a,C,2,.5);(0,E.extend)(this.flatMidpoints_,a);a=C}}return this.flatMidpoints_};d.prototype.getId=function(){return this.id_};d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};d.prototype.getGeometry=function(){return this};d.prototype.getSimplifiedGeometry=function(f){return this};d.prototype.simplifyTransformed=function(f,a){return this};d.prototype.getProperties=
function(){return this.properties_};d.prototype.getStride=function(){return 2};d.prototype.getStyleFunction=function(){};d.prototype.getType=function(){return this.type_};d.prototype.transform=function(f){f=(0,x.get)(f);var a=f.getExtent();f=f.getWorldExtent();a&&f&&(a=(0,n.getHeight)(f)/(0,n.getHeight)(a),(0,m.compose)(k,f[0],f[3],a,-a,0,0,0),(0,l.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,k,this.flatCoordinates_))};d.prototype.getEnds=function(){return this.ends_};return d}();
Ja.prototype.getEndss=Ja.prototype.getEnds;Ja.prototype.getFlatCoordinates=Ja.prototype.getOrientedFlatCoordinates;F["default"]=Ja};
shadow$provide[332]=function(Ja,B,qb,F){function g(R){g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"===typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};return g(R)}function m(R){return R&&R.__esModule?R:{"default":R}}function n(){if("function"!==typeof WeakMap)return null;var R=new WeakMap;n=function(){return R};return R}function E(R,U,ka){if(3===R){R={keys:[],values:[],features:[]};var ba=
ka.readVarint()+ka.pos;ka.readFields(O,R,ba);R.length=R.features.length;R.length&&(U[R.name]=R)}}function O(R,U,ka){if(15===R)U.version=ka.readVarint();else if(1===R)U.name=ka.readString();else if(5===R)U.extent=ka.readVarint();else if(2===R)U.features.push(ka.pos);else if(3===R)U.keys.push(ka.readString());else if(4===R){R=null;for(var ba=ka.readVarint()+ka.pos;ka.pos<ba;)R=ka.readVarint()>>3,R=1===R?ka.readString():2===R?ka.readFloat():3===R?ka.readDouble():4===R?ka.readVarint64():5===R?ka.readVarint():
6===R?ka.readSVarint():7===R?ka.readBoolean():null;U.values.push(R)}}function x(R,U,ka){if(1==R)U.id=ka.readVarint();else if(2==R)for(R=ka.readVarint()+ka.pos;ka.pos<R;){var ba=U.layer.keys[ka.readVarint()],fa=U.layer.values[ka.readVarint()];U.properties[ba]=fa}else 3==R?U.type=ka.readVarint():4==R&&(U.geometry=ka.pos)}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var y=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==g(R)&&"function"!==typeof R)return{"default":R};
var U=n();if(U&&U.has(R))return U.get(R);var ka={},ba=Object.defineProperty&&Object.getOwnPropertyDescriptor,fa;for(fa in R)if(Object.prototype.hasOwnProperty.call(R,fa)){var ja=ba?Object.getOwnPropertyDescriptor(R,fa):null;ja&&(ja.get||ja.set)?Object.defineProperty(ka,fa,ja):ka[fa]=R[fa]}ka["default"]=R;U&&U.set(R,ka);return ka}(B(255)),v=m(B(189)),l=m(B(138)),k=m(B(122)),d=m(B(196)),f=m(B(197)),a=m(B(198)),e=m(B(200)),p=m(B(330)),A=m(B(148)),C=m(B(155)),D=m(B(127)),P=m(B(331)),L=m(B(123)),G=B(79),
z=B(133),K=B(154),H=function(){var R=function(U,ka){R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ba,fa){ba.__proto__=fa}||function(ba,fa){for(var ja in fa)Object.prototype.hasOwnProperty.call(fa,ja)&&(ba[ja]=fa[ja])};return R(U,ka)};return function(U,ka){function ba(){this.constructor=U}R(U,ka);U.prototype=null===ka?Object.create(ka):(ba.prototype=ka.prototype,new ba)}}();Ja=function(R){function U(ka){var ba=R.call(this)||this;ka=ka?ka:{};ba.dataProjection=new D["default"]({code:"",
units:L["default"].TILE_PIXELS});ba.featureClass_=ka.featureClass?ka.featureClass:P["default"];ba.geometryName_=ka.geometryName;ba.layerName_=ka.layerName?ka.layerName:"layer";ba.layers_=ka.layers?ka.layers:null;ba.idProperty_=ka.idProperty;return ba}H(U,R);U.prototype.readRawGeometry_=function(ka,ba,fa,ja){ka.pos=ba.geometry;ba=ka.readVarint()+ka.pos;for(var Z=1,Q=0,q=0,N=0,da=0,aa=0;ka.pos<ba;)Q||(Q=ka.readVarint(),Z=Q&7,Q>>=3),Q--,1===Z||2===Z?(q+=ka.readSVarint(),N+=ka.readSVarint(),1===Z&&da>
aa&&(ja.push(da),aa=da),fa.push(q,N),da+=2):7===Z?da>aa&&(fa.push(fa[aa],fa[aa+1]),da+=2):(0,G.assert)(!1,59);da>aa&&ja.push(da)};U.prototype.createFeature_=function(ka,ba,fa){var ja=ba.type;if(0===ja)return null;var Z=ba.properties;if(this.idProperty_){var Q=Z[this.idProperty_];delete Z[this.idProperty_]}else Q=ba.id;Z[this.layerName_]=ba.layer.name;var q=[];var N=[];this.readRawGeometry_(ka,ba,q,N);ka=N.length;if(1===ja)var da=1===ka?k["default"].POINT:k["default"].MULTI_POINT;else 2===ja?da=1===
ka?k["default"].LINE_STRING:k["default"].MULTI_LINE_STRING:3===ja&&(da=k["default"].POLYGON);ja=da;if(this.featureClass_===P["default"])q=new this.featureClass_(ja,q,N,Z,Q),q.transform(fa.dataProjection);else{if(ja==k["default"].POLYGON){ja=[];ba=ka=da=0;for(var aa=N.length;ba<aa;++ba){var wa=N[ba];if((0,K.linearRingIsClockwise)(q,da,wa,2)){if(0===ja.length)continue;ja[ja.length-1].push(N[ka])}else ja.push(N.slice(ka,ba+1));ka=ba+1;da=wa}N=1<ja.length?new e["default"](q,l["default"].XY,ja):new C["default"](q,
l["default"].XY,N)}else N=ja===k["default"].POINT?new A["default"](q,l["default"].XY):ja===k["default"].LINE_STRING?new d["default"](q,l["default"].XY):ja===k["default"].POLYGON?new C["default"](q,l["default"].XY,N):ja===k["default"].MULTI_POINT?new a["default"](q,l["default"].XY):ja===k["default"].MULTI_LINE_STRING?new f["default"](q,l["default"].XY,N):null;q=new this.featureClass_;this.geometryName_&&q.setGeometryName(this.geometryName_);fa=(0,y.transformGeometryWithOptions)(N,!1,fa);q.setGeometry(fa);
q.setId(Q);q.setProperties(Z,!0)}return q};U.prototype.getType=function(){return v["default"].ARRAY_BUFFER};U.prototype.readFeatures=function(ka,ba){var fa=this.layers_;ba=this.adaptOptions(ba);var ja=(0,z.get)(ba.dataProjection);ja.setWorldExtent(ba.extent);ba.dataProjection=ja;ka=new p["default"](ka);var Z=ka.readFields(E,{}),Q=[],q;for(q in Z)if(!fa||-1!=fa.indexOf(q)){var N=Z[q];ja.setExtent(N?[0,0,N.extent,N.extent]:null);for(var da=0,aa=N.length;da<aa;++da){var wa=ka,ua=N;wa.pos=ua.features[da];
var Ea=wa.readVarint()+wa.pos;ua={layer:ua,type:0,properties:{}};wa.readFields(x,ua,Ea);Q.push(this.createFeature_(ka,ua,ba))}}return Q};U.prototype.readProjection=function(ka){return this.dataProjection};U.prototype.setLayers=function(ka){this.layers_=ka};return U}(y["default"]);F["default"]=Ja};
shadow$provide[333]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;F["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[334]=function(Ja,B,qb,F){function g(L){return L&&L.__esModule?L:{"default":L}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var m=g(B(220)),n=g(B(226));Ja=g(B(300));var E=g(B(91));qb=g(B(223));var O=g(B(120)),x=g(B(333)),y=g(B(124)),v=B(80),l=B(83),k=B(89),d=B(236),f=B(237),a=B(77),e=B(92),p=B(157),A=B(101),C=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,H){K.__proto__=H}||function(K,H){for(var R in H)Object.prototype.hasOwnProperty.call(H,
R)&&(K[R]=H[R])};return L(G,z)};return function(G,z){function K(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(K.prototype=z.prototype,new K)}}(),D={image:[qb["default"].POLYGON,qb["default"].CIRCLE,qb["default"].LINE_STRING,qb["default"].IMAGE,qb["default"].TEXT],hybrid:[qb["default"].POLYGON,qb["default"].LINE_STRING],vector:[]},P={image:[qb["default"].DEFAULT],hybrid:[qb["default"].IMAGE,qb["default"].TEXT,qb["default"].DEFAULT],vector:[qb["default"].POLYGON,qb["default"].CIRCLE,
qb["default"].LINE_STRING,qb["default"].IMAGE,qb["default"].TEXT,qb["default"].DEFAULT]};B=function(L){function G(z){z=L.call(this,z)||this;z.boundHandleStyleImageChange_=z.handleStyleImageChange_.bind(z);z.dirty_=!1;z.renderedPixelToCoordinateTransform_=null;z.renderTileImageQueue_={};z.tileListenerKeys_={};z.tmpTransform_=(0,v.create)();return z}C(G,L);G.prototype.prepareTile=function(z,K,H,R){var U=(0,a.getUid)(z),ka=z.getState();(ka===O["default"].LOADED&&z.hifi||ka===O["default"].ERROR)&&U in
this.tileListenerKeys_&&((0,e.unlistenByKey)(this.tileListenerKeys_[U]),delete this.tileListenerKeys_[U]);if(ka===O["default"].LOADED||ka===O["default"].ERROR)if(this.updateExecutorGroup_(z,K,H),this.tileImageNeedsRender_(z,K,H)){var ba=!0;R&&(this.renderTileImageQueue_[U]=z)}return ba};G.prototype.getTile=function(z,K,H,R){var U=R.pixelRatio,ka=R.viewState,ba=ka.resolution;ka=ka.projection;var fa=this.getLayer(),ja=fa.getSource().getTile(z,K,H,U,ka);if(ja.getState()<O["default"].LOADED)ja.wantedResolution=
ba,ba=(0,a.getUid)(ja),ba in this.tileListenerKeys_||(U=(0,e.listen)(ja,E["default"].CHANGE,this.prepareTile.bind(this,ja,U,ka,!0)),this.tileListenerKeys_[ba]=U);else{var Z=R.viewHints;(Z[y["default"].ANIMATING]||Z[y["default"].INTERACTING])&&ja.wantedResolution||(ja.wantedResolution=ba);this.prepareTile(ja,U,ka,!1)&&fa.getRenderMode()!==x["default"].VECTOR&&this.renderTileImage_(ja,R)}return L.prototype.getTile.call(this,z,K,H,R)};G.prototype.isDrawableTile=function(z){var K=this.getLayer();return L.prototype.isDrawableTile.call(this,
z)&&(K.getRenderMode()===x["default"].VECTOR?(0,a.getUid)(K)in z.executorGroups:z.hasContext(K))};G.prototype.getTileImage=function(z){return z.getImage(this.getLayer())};G.prototype.prepareFrame=function(z){var K=this.getLayer().getRevision();this.renderedLayerRevision_!=K&&(this.renderedTiles.length=0);this.renderedLayerRevision_=K;return L.prototype.prepareFrame.call(this,z)};G.prototype.updateExecutorGroup_=function(z,K,H){var R=this.getLayer(),U=R.getRevision(),ka=R.getRenderOrder()||null,ba=
z.wantedResolution,fa=z.getReplayState(R);if(fa.dirty||fa.renderedResolution!==ba||fa.renderedRevision!=U||fa.renderedRenderOrder!=ka||fa.renderedZ!==z.sourceZ){var ja=R.getSource(),Z=R.getDeclutter(),Q=ja.getTileGrid(),q=ja.getTileGridForProjection(H).getTileCoordExtent(z.wrappedTileCoord),N=ja.getSourceTiles(K,H,z),da=(0,a.getUid)(R);delete z.hitDetectionImageData[da];z.executorGroups[da]=[];Z&&(z.declutterExecutorGroups[da]=[]);H=function(Ea,$a){var kb=N[Ea];if(kb.getState()!=O["default"].LOADED)return"continue";
$a=Q.getTileCoordExtent(kb.tileCoord);Ea=(0,l.getIntersection)(q,$a);$a=(0,l.equals)($a,Ea)?null:(0,l.buffer)(Ea,R.getRenderBuffer()*ba,aa.tmpExtent);fa.dirty=!1;var ta=new m["default"](0,Ea,ba,K),Ta=Z?new m["default"](0,Ea,ba,K):void 0,Xa=(0,f.getSquaredTolerance)(ba,K),Fa=function(ca){var ea,ra=ca.getStyleFunction()||R.getStyleFunction();ra&&(ea=ra(ca,ba));ea&&(ca=this.renderFeature(ca,Xa,ea,ta,Ta),this.dirty_=this.dirty_||ca,fa.dirty=fa.dirty||ca)};kb=kb.getFeatures();ka&&ka!==fa.renderedRenderOrder&&
kb.sort(ka);for(var va=0,V=kb.length;va<V;++va){var X=kb[va];$a&&!(0,l.intersects)($a,X.getGeometry().getExtent())||Fa.call(aa,X)}$a=ta.finish();Ea=R.getRenderMode()!==x["default"].VECTOR&&Z&&1===N.length?null:Ea;$a=new n["default"](Ea,ba,K,ja.getOverlaps(),$a,R.getRenderBuffer());z.executorGroups[da].push($a);Ta&&(Ea=new n["default"](Ea,ba,K,ja.getOverlaps(),Ta.finish(),R.getRenderBuffer()),z.declutterExecutorGroups[da].push(Ea))};for(var aa=this,wa=0,ua=N.length;wa<ua;++wa)H(wa,ua);fa.renderedRevision=
U;fa.renderedZ=z.sourceZ;fa.renderedRenderOrder=ka;fa.renderedResolution=ba}};G.prototype.forEachFeatureAtCoordinate=function(z,K,H,R,U){var ka=K.viewState.resolution,ba=K.viewState.rotation;H=void 0==H?0:H;var fa=this.getLayer(),ja=fa.getSource().getTileGridForProjection(K.viewState.projection),Z=(0,l.boundingExtent)([z]);(0,l.buffer)(Z,ka*H,Z);for(var Q={},q=function(Ea,$a,kb){var ta=Ea.getId();void 0===ta&&(ta=(0,a.getUid)(Ea));var Ta=Q[ta];if(!Ta){if(0===kb)return Q[ta]=!0,R(Ea,fa,$a);U.push(Q[ta]=
{feature:Ea,layer:fa,geometry:$a,distanceSq:kb,callback:R})}else if(!0!==Ta&&kb<Ta.distanceSq){if(0===kb)return Q[ta]=!0,U.splice(U.lastIndexOf(Ta),1),R(Ea,fa,$a);Ta.geometry=$a;Ta.distanceSq=kb}},N=this.renderedTiles,da,aa=function(Ea,$a){Ea=N[Ea];$a=ja.getTileCoordExtent(Ea.wrappedTileCoord);if(!(0,l.intersects)($a,Z))return"continue";$a=(0,a.getUid)(fa);var kb=[Ea.executorGroups[$a]],ta=Ea.declutterExecutorGroups[$a];ta&&kb.push(ta);kb.some(function(Ta){for(var Xa=Ta===ta?K.declutterTree.all().map(function(V){return V.value}):
null,Fa=0,va=Ta.length;Fa<va;++Fa)if(da=Ta[Fa].forEachFeatureAtCoordinate(z,ka,ba,H,q,Xa))return!0})},wa=0,ua=N.length;!da&&wa<ua;++wa)aa(wa,ua);return da};G.prototype.getFeatures=function(z){return new Promise(function(K,H){H=this.getLayer();for(var R=(0,a.getUid)(H),U=H.getSource(),ka=this.renderedProjection,ba=ka.getExtent(),fa=this.renderedResolution,ja=U.getTileGridForProjection(ka),Z=(0,v.apply)(this.renderedPixelToCoordinateTransform_,z.slice()),Q=ja.getTileCoordForCoordAndResolution(Z,fa),
q,N=0,da=this.renderedTiles.length;N<da;++N)if(Q.toString()===this.renderedTiles[N].tileCoord.toString()){q=this.renderedTiles[N];if(q.getState()===O["default"].LOADED&&q.hifi){Q=ja.getTileCoordExtent(q.tileCoord);U.getWrapX()&&ka.canWrapX()&&!(0,l.containsExtent)(ba,Q)&&(0,A.wrapX)(Z,ka);break}q=void 0}!q||0<q.loadingSourceTiles?K([]):(U=ja.getTileCoordExtent(q.wrappedTileCoord),U=(0,l.getTopLeft)(U),Z=[(Z[0]-U[0])/fa,(U[1]-Z[1])/fa],U=q.getSourceTiles().reduce(function(aa,wa){return aa.concat(wa.getFeatures())},
[]),ka=q.hitDetectionImageData[R],ka||this.animatingOrInteracting_||(ka=(0,p.toSize)(ja.getTileSize(ja.getZForResolution(fa))),Q=[ka[0]/2,ka[1]/2],ba=this.renderedRotation_,fa=[this.getRenderTransform(ja.getTileCoordCenter(q.wrappedTileCoord),fa,0,.5,Q[0],Q[1],0)],ka=(0,d.createHitDetectionImageData)(ka,fa,U,H.getStyleFunction(),ja.getTileCoordExtent(q.wrappedTileCoord),q.getReplayState(H).renderedResolution,ba),q.hitDetectionImageData[R]=ka),K((0,d.hitDetect)(Z,U,ka)))}.bind(this))};G.prototype.handleFontsChanged=
function(){(0,k.clear)(this.renderTileImageQueue_);var z=this.getLayer();z.getVisible()&&void 0!==this.renderedLayerRevision_&&z.changed()};G.prototype.handleStyleImageChange_=function(z){this.renderIfReadyAndVisible()};G.prototype.renderDeclutter=function(z){var K=z.viewHints;K=!(K[y["default"].ANIMATING]||K[y["default"].INTERACTING]);for(var H=this.renderedTiles,R=0,U=H.length;R<U;++R){var ka=H[R],ba=ka.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(ba)for(var fa=ba.length-1;0<=fa;--fa)ba[fa].execute(this.context,
1,this.getTileRenderTransform(ka,z),z.viewState.rotation,K,void 0,z.declutterTree)}};G.prototype.getTileRenderTransform=function(z,K){var H=K.pixelRatio,R=K.viewState,U=R.center,ka=R.resolution;R=R.rotation;var ba=K.size,fa=Math.round(ba[0]*H);ba=Math.round(ba[1]*H);K=this.getLayer().getSource().getTileGridForProjection(K.viewState.projection);var ja=z.tileCoord;z=K.getTileCoordExtent(z.wrappedTileCoord);z=K.getTileCoordExtent(ja,this.tmpExtent)[0]-z[0];return(0,v.multiply)((0,v.scale)(this.inversePixelTransform.slice(),
1/H,1/H),this.getRenderTransform(U,ka,R,H,fa,ba,z))};G.prototype.renderFrame=function(z,K){var H=z.viewHints;H=!(H[y["default"].ANIMATING]||H[y["default"].INTERACTING]);this.renderQueuedTileImages_(H,z);L.prototype.renderFrame.call(this,z,K);this.renderedPixelToCoordinateTransform_=z.pixelToCoordinateTransform.slice();this.renderedRotation_=z.viewState.rotation;K=this.getLayer();var R=K.getRenderMode();if(R===x["default"].IMAGE)return this.container;var U=K.getSource();U=z.usedTiles[(0,a.getUid)(U)];
for(var ka in this.renderTileImageQueue_)U&&ka in U||delete this.renderTileImageQueue_[ka];ka=this.context;R=P[R];U=z.viewState.rotation;for(var ba=this.renderedTiles,fa=[],ja=[],Z=ba.length-1;0<=Z;--Z)for(var Q=ba[Z],q=this.getTileRenderTransform(Q,z),N=Q.executorGroups[(0,a.getUid)(K)],da=!1,aa=0,wa=N.length;aa<wa;++aa){var ua=N[aa];if(ua.hasExecutors(R)){var Ea=Q.tileCoord[0],$a=void 0;if(!da&&($a=ua.getClipCoords(q))){ka.save();for(var kb=0,ta=fa.length;kb<ta;++kb){var Ta=fa[kb];Ea<ja[kb]&&(ka.beginPath(),
ka.moveTo($a[0],$a[1]),ka.lineTo($a[2],$a[3]),ka.lineTo($a[4],$a[5]),ka.lineTo($a[6],$a[7]),ka.moveTo(Ta[6],Ta[7]),ka.lineTo(Ta[4],Ta[5]),ka.lineTo(Ta[2],Ta[3]),ka.lineTo(Ta[0],Ta[1]),ka.clip())}}ua.execute(ka,1,q,U,H,R);!da&&$a&&(ka.restore(),fa.push($a),ja.push(Ea),da=!0)}}return this.container};G.prototype.renderQueuedTileImages_=function(z,K){for(var H in this.renderTileImageQueue_){if(!z&&8<Date.now()-K.time){K.animate=!0;break}var R=this.renderTileImageQueue_[H];delete this.renderTileImageQueue_[H];
this.renderTileImage_(R,K)}};G.prototype.renderFeature=function(z,K,H,R,U){if(!H)return!1;var ka=!1;if(Array.isArray(H))for(var ba=0,fa=H.length;ba<fa;++ba)ka=(0,f.renderFeature)(R,z,H[ba],K,this.boundHandleStyleImageChange_,void 0,U)||ka;else ka=(0,f.renderFeature)(R,z,H,K,this.boundHandleStyleImageChange_,void 0,U);return ka};G.prototype.tileImageNeedsRender_=function(z,K,H){H=this.getLayer();K=z.getReplayState(H);H=H.getRevision();var R=z.sourceZ;return K.renderedTileResolution!==z.wantedResolution||
K.renderedTileRevision!==H||K.renderedTileZ!==R};G.prototype.renderTileImage_=function(z,K){var H=this.getLayer(),R=z.getReplayState(H),U=H.getRevision(),ka=z.executorGroups[(0,a.getUid)(H)];R.renderedTileRevision=U;R.renderedTileZ=z.sourceZ;U=z.wrappedTileCoord;var ba=U[0],fa=H.getSource(),ja=K.pixelRatio,Z=K.viewState.projection,Q=fa.getTileGridForProjection(Z),q=Q.getResolution(z.tileCoord[0]);q*=K.pixelRatio/z.wantedResolution;var N=Q.getResolution(ba);K=z.getContext(H);ja=Math.round(Math.max(ja,
q/ja));ba=fa.getTilePixelSize(ba,ja,Z);K.canvas.width=ba[0];K.canvas.height=ba[1];ja/=q;1!==ja&&(ba=(0,v.reset)(this.tmpTransform_),(0,v.scale)(ba,ja,ja),K.setTransform.apply(K,ba));U=Q.getTileCoordExtent(U,this.tmpExtent);q/=N;Q=(0,v.reset)(this.tmpTransform_);(0,v.scale)(Q,q,-q);(0,v.translate)(Q,-U[0],-U[3]);U=0;for(q=ka.length;U<q;++U)ka[U].execute(K,ja,Q,0,!0,D[H.getRenderMode()]);R.renderedTileResolution=z.wantedResolution};return G}(Ja["default"]);F["default"]=B};
shadow$provide[335]=function(Ja,B,qb,F){function g(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(210));var m=g(B(334)),n=g(B(298)),E=g(B(333)),O=B(79),x=B(89),y=function(){var v=function(l,k){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return v(l,k)};return function(l,k){function d(){this.constructor=
l}v(l,k);l.prototype=null===k?Object.create(k):(d.prototype=k.prototype,new d)}}();B=function(v){function l(k){k=k?k:{};var d=(0,x.assign)({},k);delete d.preload;delete d.useInterimTilesOnError;d=v.call(this,d)||this;var f=k.renderMode||E["default"].HYBRID;(0,O.assert)(void 0==f||f==E["default"].IMAGE||f==E["default"].HYBRID||f==E["default"].VECTOR,28);d.renderMode_=f;d.setPreload(k.preload?k.preload:0);d.setUseInterimTilesOnError(void 0!==k.useInterimTilesOnError?k.useInterimTilesOnError:!0);return d}
y(l,v);l.prototype.createRenderer=function(){return new m["default"](this)};l.prototype.getFeatures=function(k){return v.prototype.getFeatures.call(this,k)};l.prototype.getRenderMode=function(){return this.renderMode_};l.prototype.getPreload=function(){return this.get(n["default"].PRELOAD)};l.prototype.getUseInterimTilesOnError=function(){return this.get(n["default"].USE_INTERIM_TILES_ON_ERROR)};l.prototype.setPreload=function(k){this.set(n["default"].PRELOAD,k)};l.prototype.setUseInterimTilesOnError=
function(k){this.set(n["default"].USE_INTERIM_TILES_ON_ERROR,k)};return l}(Ja["default"]);F["default"]=B};
shadow$provide[336]=function(Ja,B,qb,F){var g={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},m=/(italic|oblique)$/i,n={};qb.exports=function(E,O,x){var y=n[E];if(!y){Array.isArray(E)||(E=[E]);y=400;for(var v="normal",l=[],k=0,d=E.length;k<
d;++k){var f=E[k].split(" "),a=f[f.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(v=a,f.pop(),a=f[f.length-1].toLowerCase()):m.test(a)&&(a=a.replace(m,""),v=f[f.length-1].replace(a,""));for(var e in g)if(a==e||a==e.replace("-","")||a==e.replace("-"," ")){y=g[e];f.pop();break}"number"==typeof a&&(y=a);f=f.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==f.indexOf(" ")&&(f='"'+f+'"');l.push(f)}y=n[E]=[v,y,l]}return y[0]+" "+y[1]+" "+O+"px"+(x?"/"+x:"")+" "+y[2]}};
shadow$provide[337]=function(Ja,B,qb,F){var g=B(24).Buffer;(function(m,n){"object"===typeof F&&"undefined"!==typeof qb?n(F):"function"===typeof define&&define.amd?define(["exports"],n):(m=m||self,n(m.mapboxGlStyleSpecification={}))})(this,function(m){function n(w,S){const ma={};for(const Na in S)void 0!==w[Na]&&(ma[Na]=w[Na]);for(const Na in w)void 0===ma[Na]&&(ma[Na]=w[Na]);return ma}function E(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function O(w,
S){return S={exports:{}},w(S,S.exports),S.exports}function x(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function y(w,S,ma){if(w&&re.isObject(w)&&w instanceof x)return w;var Na=new x;Na.parse(w,S,ma);return Na}function v(w){for(var S=0;S<Ic.layout.length;S++)for(const ma in Ic[Ic.layout[S]])if(ma===w)return Ic[Ic.layout[S]][ma];for(S=0;S<Ic.paint.length;S++)for(const ma in Ic[Ic.paint[S]])if(ma===
w)return Ic[Ic.paint[S]][ma];return null}function l(w,S){for(const ma in w.sources)S(w.sources[ma])}function k(w,S){for(const ma of w.layers)S(ma)}function d(w,S,ma){function Na(hb,lb){const sb=hb[lb];sb&&Object.keys(sb).forEach(Qb=>{ma({path:[hb.id,lb,Qb],key:Qb,value:sb[Qb],reference:v(Qb),set(cc){sb[Qb]=cc}})})}k(w,hb=>{S.paint&&Na(hb,"paint");S.layout&&Na(hb,"layout")})}function f(w,S){for(const ma in w)0===ma.indexOf("layout")&&S(w[ma],ma)}function a(w,S){for(const ma in w)0===ma.indexOf("paint")&&
S(w[ma],ma)}function e(w,S){return"string"===typeof S&&"@"===S[0]?e(w,w.constants[S]):S}function p(w,S,ma){w[ma]=w[S];delete w[S]}function A(w){function S(hb){const lb=Pc.parse(hb),sb=lb.pathname.split("/");if("mapbox:"!==lb.protocol)return hb;if("fontstack"===lb.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===lb.hostname)return`mapbox://fonts/${sb[2]}/{fontstack}/{range}.pbf`}function ma(hb){function lb(sb){return sb.split(",").map(Qb=>Qb.trim())}if(Array.isArray(hb))return hb;
if("string"===typeof hb)return lb(hb);if("object"===typeof hb)return hb.stops.forEach(sb=>{sb[1]=lb(sb[1])}),hb;throw Error("unexpected font value");}w.version=8;l(w,hb=>{"video"===hb.type&&void 0!==hb.url&&p(hb,"url","urls");"video"===hb.type&&hb.coordinates.forEach(lb=>lb.reverse())});k(w,hb=>{f(hb,lb=>{void 0!==lb["symbol-min-distance"]&&p(lb,"symbol-min-distance","symbol-spacing")});a(hb,lb=>{void 0!==lb["background-image"]&&p(lb,"background-image","background-pattern");void 0!==lb["line-image"]&&
p(lb,"line-image","line-pattern");void 0!==lb["fill-image"]&&p(lb,"fill-image","fill-pattern")})});d(w,{paint:!0,layout:!0},hb=>{const lb=e(w,hb.value);Array.isArray(lb.stops)&&lb.stops.forEach(sb=>{sb[1]=e(w,sb[1])});hb.set(lb)});delete w.constants;k(w,hb=>{f(hb,lb=>{delete lb["text-max-size"];delete lb["icon-max-size"]});a(hb,lb=>{lb["text-size"]&&(hb.layout||(hb.layout={}),hb.layout["text-size"]=lb["text-size"],delete lb["text-size"]);lb["icon-size"]&&(hb.layout||(hb.layout={}),hb.layout["icon-size"]=
lb["icon-size"],delete lb["icon-size"])})});w.glyphs&&(w.glyphs=S(w.glyphs));k(w,hb=>{f(hb,lb=>{lb["text-font"]&&(lb["text-font"]=ma(lb["text-font"]))})});var Na=0;for(let hb=w.layers.length-1;0<=hb;hb--)if("symbol"!==w.layers[hb].type){Na=hb+1;break}Na=w.layers.splice(Na);Na.reverse();w.layers=w.layers.concat(Na);return w}function C(w,...S){for(const ma of S)for(const Na in ma)w[Na]=ma[Na];return w}function D(w,S){return{kind:"array",itemType:w,N:S}}function P(w){if("array"===w.kind){const S=P(w.itemType);
return"number"===typeof w.N?`array<${S}, ${w.N}>`:"value"===w.itemType.kind?"array":`array<${S}>`}return w.kind}function L(w,S){if("error"===S.kind)return null;if("array"===w.kind){if("array"===S.kind&&(0===S.N&&"value"===S.itemType.kind||!L(w.itemType,S.itemType))&&("number"!==typeof w.N||w.N===S.N))return null}else{if(w.kind===S.kind)return null;if("value"===w.kind)for(const ma of zf)if(!L(ma,S))return null}return`Expected ${P(w)} but found ${P(S)} instead.`}function G(w,S){return S.some(ma=>ma.kind===
w.kind)}function z(w,S){return S.some(ma=>"null"===ma?null===w:"array"===ma?Array.isArray(w):"object"===ma?w&&!Array.isArray(w)&&"object"===typeof w:ma===typeof w)}function K(w,S,ma,Na){return"number"===typeof w&&0<=w&&255>=w&&"number"===typeof S&&0<=S&&255>=S&&"number"===typeof ma&&0<=ma&&255>=ma?"undefined"===typeof Na||"number"===typeof Na&&0<=Na&&1>=Na?null:`Invalid rgba value [${[w,S,ma,Na].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof Na?[w,S,ma,Na]:[w,
S,ma]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function H(w){if(null===w||"string"===typeof w||"boolean"===typeof w||"number"===typeof w||w instanceof Oe||w instanceof Nf||w instanceof Ka||w instanceof vb)return!0;if(Array.isArray(w)){for(const S of w)if(!H(S))return!1;return!0}if("object"===typeof w){for(const S in w)if(!H(w[S]))return!1;return!0}return!1}function R(w){if(null===w)return Od;if("string"===typeof w)return Rd;if("boolean"===typeof w)return kd;if("number"===typeof w)return od;
if(w instanceof Oe)return lf;if(w instanceof Nf)return Ve;if(w instanceof Ka)return ce;if(w instanceof vb)return Xe;if(Array.isArray(w)){const S=w.length;let ma;for(const Na of w)if(w=R(Na),ma){if(ma!==w){ma=ee;break}}else ma=w;return D(ma||ee,S)}return bf}function U(w){const S=typeof w;return null===w?"":"string"===S||"number"===S||"boolean"===S?String(w):w instanceof Oe||w instanceof Ka||w instanceof vb?w.toString():JSON.stringify(w)}function ka(w,S){w[0]=Math.min(w[0],S[0]);w[1]=Math.min(w[1],
S[1]);w[2]=Math.max(w[2],S[0]);w[3]=Math.max(w[3],S[1])}function ba(w,S){return w[0]<=S[0]||w[2]>=S[2]||w[1]<=S[1]||w[3]>=S[3]?!1:!0}function fa(w,S){let ma=!1;for(let sb=0,Qb=S.length;sb<Qb;sb++){const cc=S[sb];for(let Vb=0,Oc=cc.length;Vb<Oc-1;Vb++){{var Na=cc[Vb],hb=cc[Vb+1];var lb=w[0]-Na[0];Na=w[1]-Na[1];const ed=w[0]-hb[0];hb=w[1]-hb[1];lb=0===lb*hb-ed*Na&&0>=lb*ed&&0>=Na*hb}if(lb)return!1;lb=cc[Vb];hb=cc[Vb+1];lb[1]>w[1]!==hb[1]>w[1]&&w[0]<(hb[0]-lb[0])*(w[1]-lb[1])/(hb[1]-lb[1])+lb[0]&&(ma=
!ma)}}return ma}function ja(w,S,ma,Na){const hb=Na[0]-ma[0];Na=Na[1]-ma[1];w=(w[0]-ma[0])*Na-hb*(w[1]-ma[1]);S=(S[0]-ma[0])*Na-hb*(S[1]-ma[1]);return 0<w&&0>S||0>w&&0<S?!0:!1}function Z(w,S){for(var ma=0;ma<w.length;++ma)if(!fa(w[ma],S))return!1;for(ma=0;ma<w.length-1;++ma){a:{var Na=w[ma];var hb=w[ma+1],lb=S;for(const ed of lb)for(let zd=0;zd<ed.length-1;++zd){lb=Na;var sb=hb,Qb=ed[zd],cc=ed[zd+1],Vb=[cc[0]-Qb[0],cc[1]-Qb[1]],Oc=[sb[0]-lb[0],sb[1]-lb[1]];if(0===Vb[0]*Oc[1]-Vb[1]*Oc[0]?0:ja(lb,sb,
Qb,cc)&&ja(Qb,cc,lb,sb)){Na=!0;break a}}Na=!1}if(Na)return!1}return!0}function Q(w,S,ma){const Na=[];for(let lb=0;lb<w.length;lb++){const sb=[];for(let Qb=0;Qb<w[lb].length;Qb++){{var hb=w[lb][Qb];const cc=Math.pow(2,ma.z);hb=[Math.round((180+hb[0])/360*cc*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+hb[1]*Math.PI/360)))/360*cc*8192)]}ka(S,hb);sb.push(hb)}Na.push(sb)}return Na}function q(w,S,ma){const Na=[];for(let hb=0;hb<w.length;hb++){const lb=Q(w[hb],S,ma);Na.push(lb)}return Na}
function N(w,S,ma,Na){if(w[0]<ma[0]||w[0]>ma[2]){const hb=.5*Na;let lb=w[0]-ma[0]>hb?-Na:ma[0]-w[0]>hb?Na:0;0===lb&&(lb=w[0]-ma[2]>hb?-Na:ma[2]-w[0]>hb?Na:0);w[0]+=lb}ka(S,w)}function da(w,S,ma,Na){const hb=8192*Math.pow(2,Na.z);Na=[8192*Na.x,8192*Na.y];const lb=[];for(const sb of w)for(const Qb of sb)w=[Qb.x+Na[0],Qb.y+Na[1]],N(w,S,ma,hb),lb.push(w);return lb}function aa(w,S,ma,Na){const hb=8192*Math.pow(2,Na.z);Na=[8192*Na.x,8192*Na.y];const lb=[];for(const sb of w){w=[];for(const Qb of sb){const cc=
[Qb.x+Na[0],Qb.y+Na[1]];ka(S,cc);w.push(cc)}lb.push(w)}if(S[2]-S[0]<=hb/2){S[0]=S[1]=Infinity;S[2]=S[3]=-Infinity;for(const sb of lb)for(const Qb of sb)N(Qb,S,ma,hb)}return lb}function wa(w,S){var ma=[Infinity,Infinity,-Infinity,-Infinity],Na=[Infinity,Infinity,-Infinity,-Infinity];const hb=w.canonicalID();if("Polygon"===S.type){const lb=Q(S.coordinates,Na,hb),sb=da(w.geometry(),ma,Na,hb);if(!ba(ma,Na))return!1;for(const Qb of sb)if(!fa(Qb,lb))return!1}if("MultiPolygon"===S.type){S=q(S.coordinates,
Na,hb);w=da(w.geometry(),ma,Na,hb);if(!ba(ma,Na))return!1;for(const lb of w){a:{ma=lb;Na=S;for(w=0;w<Na.length;w++)if(fa(ma,Na[w])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function ua(w,S){var ma=[Infinity,Infinity,-Infinity,-Infinity],Na=[Infinity,Infinity,-Infinity,-Infinity];const hb=w.canonicalID();if("Polygon"===S.type){const lb=Q(S.coordinates,Na,hb),sb=aa(w.geometry(),ma,Na,hb);if(!ba(ma,Na))return!1;for(const Qb of sb)if(!Z(Qb,lb))return!1}if("MultiPolygon"===S.type){S=q(S.coordinates,
Na,hb);w=aa(w.geometry(),ma,Na,hb);if(!ba(ma,Na))return!1;for(const lb of w){a:{ma=lb;Na=S;for(w=0;w<Na.length;w++)if(Z(ma,Na[w])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function Ea(w){if(w instanceof Pd&&("get"===w.name&&1===w.args.length||"feature-state"===w.name||"has"===w.name&&1===w.args.length||"properties"===w.name||"geometry-type"===w.name||"id"===w.name||/^filter-/.test(w.name))||w instanceof pe)return!1;let S=!0;w.eachChild(ma=>{S&&!Ea(ma)&&(S=!1)});return S}function $a(w){if(w instanceof
Pd&&"feature-state"===w.name)return!1;let S=!0;w.eachChild(ma=>{S&&!$a(ma)&&(S=!1)});return S}function kb(w,S){if(w instanceof Pd&&0<=S.indexOf(w.name))return!1;let ma=!0;w.eachChild(Na=>{ma&&!kb(Na,S)&&(ma=!1)});return ma}function ta(w){if(w instanceof He)return ta(w.boundExpression);if(w instanceof Pd&&"error"===w.name||w instanceof Ne||w instanceof pe)return!1;const S=w instanceof Hd||w instanceof lc;let ma=!0;w.eachChild(Na=>{ma=S?ma&&ta(Na):ma&&Na instanceof Xb});return ma?Ea(w)&&kb(w,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function Ta(w,S){const ma=w.length-1;let Na=0,hb=ma,lb,sb,Qb;for(;Na<=hb;)if(lb=Math.floor((Na+hb)/2),sb=w[lb],Qb=w[lb+1],sb<=S){if(lb===ma||S<Qb)return lb;Na=lb+1}else if(sb>S)hb=lb-1;else throw new Sb("Input is not a number.");return 0}function Xa(w,S,ma,Na){this.cx=3*w;this.bx=3*(ma-w)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*S;this.by=3*(Na-S)-this.cy;this.ay=1-this.cy-this.by;this.p1x=w;this.p1y=Na;this.p2x=ma;this.p2y=Na}function Fa(w,S,ma){return w*(1-ma)+S*ma}function va(w){return w>
Ag?Math.pow(w,1/3):w/Bf+Te}function V(w){return w>uf?w*w*w:Bf*(w-Te)}function X(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function ca(w){w/=255;return.04045>=w?w/12.92:Math.pow((w+.055)/1.055,2.4)}function ea(w){var S=ca(w.r);const ma=ca(w.g),Na=ca(w.b),hb=va((.4124564*S+.3575761*ma+.1804375*Na)/.95047),lb=va(.2126729*S+.7151522*ma+.072175*Na);S=va((.0193339*S+.119192*ma+.9503041*Na)/1.08883);return{l:116*lb-16,a:500*(hb-lb),b:200*(lb-S),alpha:w.a}}function ra(w){let S=(w.l+
16)/116,ma=isNaN(w.a)?S:S+w.a/500,Na=isNaN(w.b)?S:S-w.b/200;S=1*V(S);ma=.95047*V(ma);Na=1.08883*V(Na);return new Oe(X(3.2404542*ma-1.5371385*S-.4985314*Na),X(-.969266*ma+1.8760108*S+.041556*Na),X(.0556434*ma-.2040259*S+1.0572252*Na),w.alpha)}function qa(w,S,ma,Na){Na-=ma;w-=ma;return 0===Na?0:1===S?w/Na:(Math.pow(S,w)-1)/(Math.pow(S,Na)-1)}function Ha(w,S){return"\x3d\x3d"===w||"!\x3d"===w?"boolean"===S.kind||"string"===S.kind||"number"===S.kind||"null"===S.kind||"value"===S.kind:"string"===S.kind||
"number"===S.kind||"value"===S.kind}function na(w,S,ma,Na){return 0===Na.compare(S,ma)}function Pa(w,S,ma){const Na="\x3d\x3d"!==w&&"!\x3d"!==w;return class hb{constructor(lb,sb,Qb){this.type=kd;this.lhs=lb;this.rhs=sb;this.collator=Qb;this.hasUntypedArgument="value"===lb.type.kind||"value"===sb.type.kind}static parse(lb,sb){if(3!==lb.length&&4!==lb.length)return sb.error("Expected two or three arguments.");var Qb=lb[0];let cc=sb.parse(lb[1],1,ee);if(!cc)return null;if(!Ha(Qb,cc.type))return sb.concat(1).error(`"${Qb}" comparisons are not supported for type '${P(cc.type)}'.`);
let Vb=sb.parse(lb[2],2,ee);if(!Vb)return null;if(!Ha(Qb,Vb.type))return sb.concat(2).error(`"${Qb}" comparisons are not supported for type '${P(Vb.type)}'.`);if(cc.type.kind!==Vb.type.kind&&"value"!==cc.type.kind&&"value"!==Vb.type.kind)return sb.error(`Cannot compare types '${P(cc.type)}' and '${P(Vb.type)}'.`);Na&&("value"===cc.type.kind&&"value"!==Vb.type.kind?cc=new lc(Vb.type,[cc]):"value"!==cc.type.kind&&"value"===Vb.type.kind&&(Vb=new lc(cc.type,[Vb])));Qb=null;if(4===lb.length){if("string"!==
cc.type.kind&&"string"!==Vb.type.kind&&"value"!==cc.type.kind&&"value"!==Vb.type.kind)return sb.error("Cannot use collator to compare non-string types.");Qb=sb.parse(lb[3],3,Ve);if(!Qb)return null}return new hb(cc,Vb,Qb)}evaluate(lb){const sb=this.lhs.evaluate(lb),Qb=this.rhs.evaluate(lb);if(Na&&this.hasUntypedArgument){var cc=R(sb),Vb=R(Qb);if(cc.kind!==Vb.kind||"string"!==cc.kind&&"number"!==cc.kind)throw new Sb(`Expected arguments for "${w}" to be (string, string) or (number, number), but found (${cc.kind}, ${Vb.kind}) instead.`);
}return this.collator&&!Na&&this.hasUntypedArgument&&(cc=R(sb),Vb=R(Qb),"string"!==cc.kind||"string"!==Vb.kind)?S(lb,sb,Qb):this.collator?ma(lb,sb,Qb,this.collator.evaluate(lb)):S(lb,sb,Qb)}eachChild(lb){lb(this.lhs);lb(this.rhs);this.collator&&lb(this.collator)}outputDefined(){return!0}serialize(){const lb=[w];this.eachChild(sb=>{lb.push(sb.serialize())});return lb}}}function cb(w,[S,ma,Na,hb]){S=S.evaluate(w);ma=ma.evaluate(w);Na=Na.evaluate(w);w=hb?hb.evaluate(w):1;if(hb=K(S,ma,Na,w))throw new Sb(hb);
return new Oe(S/255*w,ma/255*w,Na/255*w,w)}function ab(w,S){w=S[w];return"undefined"===typeof w?null:w}function Ba(w){return{result:"success",value:w}}function Ga(w){return{result:"error",value:w}}function oa(w){return"data-driven"===w["property-type"]||"cross-faded-data-driven"===w["property-type"]}function Ia(w){return!!w.expression&&-1<w.expression.parameters.indexOf("zoom")}function Ua(w){return!!w.expression&&w.expression.interpolated}function eb(w){return w instanceof Number?"number":w instanceof
String?"string":w instanceof Boolean?"boolean":Array.isArray(w)?"array":null===w?"null":typeof w}function Gb(w){return"object"===typeof w&&null!==w&&!Array.isArray(w)}function Tb(w){return w}function kc(w,S){var ma="color"===S.type,Na=w.stops&&"object"===typeof w.stops[0][0],hb=Na||void 0!==w.property;hb=Na||!hb;var lb=w.type||(Ua(S)?"exponential":"interval");ma&&(w=C({},w),w.stops&&(w.stops=w.stops.map(ed=>[ed[0],Oe.parse(ed[1])])),w.default=w.default?Oe.parse(w.default):Oe.parse(S.default));if(w.colorSpace&&
"rgb"!==w.colorSpace&&!Oa[w.colorSpace])throw Error(`Unknown color space: ${w.colorSpace}`);let sb,Qb,cc;if("exponential"===lb)sb=mb;else if("interval"===lb)sb=Fc;else if("categorical"===lb){sb=tc;Qb=Object.create(null);for(var Vb of w.stops)Qb[Vb[0]]=Vb[1];cc=typeof w.stops[0][0]}else if("identity"===lb)sb=dc;else throw Error(`Unknown function type "${lb}"`);if(Na){ma={};Na=[];for(Vb=0;Vb<w.stops.length;Vb++)hb=w.stops[Vb],lb=hb[0].zoom,void 0===ma[lb]&&(ma[lb]={zoom:lb,type:w.type,property:w.property,
default:w.default,stops:[]},Na.push(lb)),ma[lb].stops.push([hb[0].value,hb[1]]);const ed=[];for(var Oc of Na)ed.push([ma[Oc].zoom,kc(ma[Oc],S)]);Oc={name:"linear"};return{kind:"composite",interpolationType:Oc,interpolationFactor:Sa.interpolationFactor.bind(void 0,Oc),zoomStops:ed.map(zd=>zd[0]),evaluate({zoom:zd},qd){return mb({stops:ed,base:w.base},S,zd).evaluate(zd,qd)}}}return hb?(Oc="exponential"===lb?{name:"exponential",base:void 0!==w.base?w.base:1}:null,{kind:"camera",interpolationType:Oc,
interpolationFactor:Sa.interpolationFactor.bind(void 0,Oc),zoomStops:w.stops.map(ed=>ed[0]),evaluate:({zoom:ed})=>sb(w,S,ed,Qb,cc)}):{kind:"source",evaluate(ed,zd){ed=zd&&zd.properties?zd.properties[w.property]:void 0;return void 0===ed?bd(w.default,S.default):sb(w,S,ed,Qb,cc)}}}function bd(w,S,ma){if(void 0!==w)return w;if(void 0!==S)return S;if(void 0!==ma)return ma}function tc(w,S,ma,Na,hb){return bd(typeof ma===hb?Na[ma]:void 0,w.default,S.default)}function Fc(w,S,ma){if("number"!==eb(ma))return bd(w.default,
S.default);S=w.stops.length;if(1===S||ma<=w.stops[0][0])return w.stops[0][1];if(ma>=w.stops[S-1][0])return w.stops[S-1][1];ma=Ta(w.stops.map(Na=>Na[0]),ma);return w.stops[ma][1]}function mb(w,S,ma){const Na=void 0!==w.base?w.base:1;if("number"!==eb(ma))return bd(w.default,S.default);var hb=w.stops.length;if(1===hb||ma<=w.stops[0][0])return w.stops[0][1];if(ma>=w.stops[hb-1][0])return w.stops[hb-1][1];hb=Ta(w.stops.map(Vb=>Vb[0]),ma);const lb=Bc(ma,Na,w.stops[hb][0],w.stops[hb+1][0]),sb=w.stops[hb][1],
Qb=w.stops[hb+1][1];let cc=Of[S.type]||Tb;if(w.colorSpace&&"rgb"!==w.colorSpace){const Vb=Oa[w.colorSpace];cc=(Oc,ed)=>Vb.reverse(Vb.interpolate(Vb.forward(Oc),Vb.forward(ed),lb))}return"function"===typeof sb.evaluate?{evaluate(...Vb){const Oc=sb.evaluate.apply(void 0,Vb);Vb=Qb.evaluate.apply(void 0,Vb);if(void 0!==Oc&&void 0!==Vb)return cc(Oc,Vb,lb)}}:cc(sb,Qb,lb)}function dc(w,S,ma){"color"===S.type?ma=Oe.parse(ma):"formatted"===S.type?ma=Ka.fromString(ma.toString()):"resolvedImage"===S.type?ma=
vb.fromString(ma.toString()):eb(ma)===S.type||"enum"===S.type&&S.values[ma]||(ma=void 0);return bd(ma,w.default,S.default)}function Bc(w,S,ma,Na){Na-=ma;w-=ma;return 0===Na?0:1===S?w/Na:(Math.pow(S,w)-1)/(Math.pow(S,Na)-1)}function pc(w){return Array.isArray(w)&&0<w.length&&"string"===typeof w[0]&&w[0]in oc}function Cc(w,S){if(S){var ma={color:lf,string:Rd,number:od,enum:Rd,boolean:kd,formatted:ce,resolvedImage:Xe};ma="array"===S.type?D(ma[S.value]||ee,S.length):ma[S.type]}else ma=void 0;ma=new Je(oc,
[],ma);return(w=ma.parse(w,void 0,void 0,void 0,S&&"string"===S.type?{typeAnnotation:"coerce"}:void 0))?Ba(new Ec(w,S)):Ga(ma.errors)}function nc(w,S){w=Cc(w,S);if("error"===w.result)return w;var ma=w.value.expression;const Na=Ea(ma);if(!Na&&!oa(S))return Ga([new Ld("","data expressions not supported")]);const hb=kb(ma,["zoom"]);if(!hb&&!Ia(S))return Ga([new Ld("","zoom expressions not supported")]);if((ma=Uc(ma))||hb){if(ma instanceof Ld)return Ga([ma]);if(ma instanceof Sa&&!Ua(S))return Ga([new Ld("",
'"interpolate" expressions cannot be used with this property')])}else return Ga([new Ld("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!ma)return Ba(Na?new dd("constant",w.value):new dd("source",w.value));S=ma instanceof Sa?ma.interpolation:void 0;return Ba(Na?new Yc("camera",w.value,ma.labels,S):new Yc("composite",w.value,ma.labels,S))}function Uc(w){let S=null;if(w instanceof ib)S=Uc(w.result);else if(w instanceof gb)for(const ma of w.args){if(S=
Uc(ma))break}else(w instanceof Le||w instanceof Sa)&&w.input instanceof Pd&&"zoom"===w.input.name&&(S=w);if(S instanceof Ld)return S;w.eachChild(ma=>{ma=Uc(ma);ma instanceof Ld?S=ma:!S&&ma?S=new Ld("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):S&&ma&&S!==ma&&(S=new Ld("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return S}function Tc(w){return"object"===typeof w?["literal",w]:w}function Kc(w,
S){let ma=w.stops;if(!ma)return Fd(w,S);const Na=ma&&"object"===typeof ma[0][0],hb=Na||void 0!==w.property,lb=Na||!hb;ma=ma.map(sb=>!hb&&S.tokens&&"string"===typeof sb[1]?[sb[0],Vc(sb[1])]:[sb[0],Tc(sb[1])]);return Na?vd(w,S,ma):lb?Pb(w,S,ma):Yd(w,S,ma)}function Fd(w,S){const ma=["get",w.property];if(void 0===w.default)return"string"===S.type?["string",ma]:ma;if("enum"===S.type)return["match",ma,Object.keys(S.values),ma,w.default];w=["color"===S.type?"to-color":S.type,ma,Tc(w.default)];"array"===
S.type&&w.splice(1,0,S.value,S.length||null);return w}function fe(w){switch(w.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function vd(w,S,ma){const Na={},hb={};var lb=[];for(let cc=0;cc<ma.length;cc++){const Vb=ma[cc],Oc=Vb[0].zoom;void 0===Na[Oc]&&(Na[Oc]={zoom:Oc,type:w.type,property:w.property,default:w.default},hb[Oc]=[],lb.push(Oc));hb[Oc].push([Vb[0].value,Vb[1]])}if("exponential"===yc({},S)){var sb=[fe(w),["linear"],["zoom"]];
for(var Qb of lb)lb=Yd(Na[Qb],S,hb[Qb]),Hb(sb,Qb,lb,!1);return sb}Qb=["step",["zoom"]];for(sb of lb)lb=Yd(Na[sb],S,hb[sb]),Hb(Qb,sb,lb,!0);fc(Qb);return Qb}function Rc(w,S){w=w.default;var ma=S.default;w=Tc(void 0!==w?w:void 0!==ma?ma:void 0);return void 0===w&&"resolvedImage"===S.type?"":w}function Yd(w,S,ma){const Na=yc(w,S);var hb=["get",w.property];if("categorical"===Na&&"boolean"===typeof ma[0][0]){var lb=["case"];for(const sb of ma)lb.push(["\x3d\x3d",hb,sb[0]],sb[1]);lb.push(Rc(w,S));return lb}if("categorical"===
Na){hb=["match",hb];for(const sb of ma)Hb(hb,sb[0],sb[1],!1);hb.push(Rc(w,S));return hb}if("interval"===Na){S=["step",["number",hb]];for(const sb of ma)Hb(S,sb[0],sb[1],!0);fc(S);return void 0===w.default?S:["case",["\x3d\x3d",["typeof",hb],"number"],S,Tc(w.default)]}if("exponential"===Na){S=void 0!==w.base?w.base:1;S=[fe(w),1===S?["linear"]:["exponential",S],["number",hb]];for(lb of ma)Hb(S,lb[0],lb[1],!1);return void 0===w.default?S:["case",["\x3d\x3d",["typeof",hb],"number"],S,Tc(w.default)]}throw Error(`Unknown property function type ${Na}`);
}function Pb(w,S,ma,Na=["zoom"]){var hb=yc(w,S);S=!1;if("interval"===hb)w=["step",Na],S=!0;else if("exponential"===hb)hb=void 0!==w.base?w.base:1,w=[fe(w),1===hb?["linear"]:["exponential",hb],Na];else throw Error(`Unknown zoom function type "${hb}"`);for(const lb of ma)Hb(w,lb[0],lb[1],S);fc(w);return w}function fc(w){"step"===w[0]&&3===w.length&&(w.push(0),w.push(w[3]))}function Hb(w,S,ma,Na){3<w.length&&S===w[w.length-2]||(Na&&2===w.length||w.push(S),w.push(ma))}function yc(w,S){return w.type?w.type:
S.expression.interpolated?"exponential":"interval"}function Vc(w){const S=["concat"],ma=/{([^{}]+)}/g;let Na=0;for(let hb=ma.exec(w);null!==hb;hb=ma.exec(w)){const lb=w.slice(Na,ma.lastIndex-hb[0].length);Na=ma.lastIndex;0<lb.length&&S.push(lb);S.push(["get",hb[1]])}if(1===S.length)return w;if(Na<w.length)S.push(w.slice(Na));else if(2===S.length)return["to-string",S[1]];return S}function Gd(w){if(!0===w||!1===w)return!0;if(!Array.isArray(w)||0===w.length)return!1;switch(w[0]){case "has":return 2<=
w.length&&"$id"!==w[1]&&"$type"!==w[1];case "in":return 3<=w.length&&("string"!==typeof w[1]||Array.isArray(w[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==w.length||Array.isArray(w[1])||Array.isArray(w[2]);case "any":case "all":for(const S of w.slice(1))if(!Gd(S)&&"boolean"!==typeof S)return!1;return!0;default:return!0}}function Wd(w,S){return w<S?-1:w>S?1:0}function La(w){if(!Array.isArray(w))return!1;
if("within"===w[0])return!0;for(let S=1;S<w.length;S++)if(La(w[S]))return!0;return!1}function fb(w){if(!w)return!0;const S=w[0];return 1>=w.length?"any"!==S:"\x3d\x3d"===S?wb(w[1],w[2],"\x3d\x3d"):"!\x3d"===S?ic(wb(w[1],w[2],"\x3d\x3d")):"\x3c"===S||"\x3e"===S||"\x3c\x3d"===S||"\x3e\x3d"===S?wb(w[1],w[2],S):"any"===S?["any"].concat(w.slice(1).map(fb)):"all"===S?["all"].concat(w.slice(1).map(fb)):"none"===S?["all"].concat(w.slice(1).map(fb).map(ic)):"in"===S?Ib(w[1],w.slice(2)):"!in"===S?ic(Ib(w[1],
w.slice(2))):"has"===S?Zb(w[1]):"!has"===S?ic(Zb(w[1])):"within"===S?w:!0}function wb(w,S,ma){switch(w){case "$type":return[`filter-type-${ma}`,S];case "$id":return[`filter-id-${ma}`,S];default:return[`filter-${ma}`,w,S]}}function Ib(w,S){if(0===S.length)return!1;switch(w){case "$type":return["filter-type-in",["literal",S]];case "$id":return["filter-id-in",["literal",S]];default:return 200<S.length&&!S.some(ma=>typeof ma!==typeof S[0])?["filter-in-large",w,["literal",S.sort(Wd)]]:["filter-in-small",
w,["literal",S]]}}function Zb(w){switch(w){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",w]}}function ic(w){return["!",w]}function Ac(w){return qc(w,{})}function qc(w,S){if(Gd(w))return w;if(!w)return!0;const ma=w[0];if(1>=w.length)return"any"!==ma;if("\x3d\x3d"===ma||"!\x3d"===ma||"\x3c"===ma||"\x3e"===ma||"\x3c\x3d"===ma||"\x3e\x3d"===ma){const [,Na,hb]=w;w=nb(Na,hb,ma,S)}else{if("any"===ma)return w=w.slice(1).map(Na=>{var hb={};Na=qc(Na,hb);{const lb=[];for(const sb in hb)lb.push(["\x3d\x3d",
["typeof","$id"===sb?["id"]:["get",sb]],hb[sb]]);hb=0===lb.length?!0:1===lb.length?lb[0]:["all"].concat(lb)}return!0===hb?Na:["case",hb,Na,!1]}),["any"].concat(w);if("all"===ma)return w=w.slice(1).map(Na=>qc(Na,S)),1<w.length?["all"].concat(w):[].concat(...w);if("none"===ma)return["!",qc(["any"].concat(w.slice(1)),{})];w="in"===ma?Bb(w[1],w.slice(2)):"!in"===ma?Bb(w[1],w.slice(2),!0):"has"===ma?Ub(w[1]):"!has"===ma?["!",Ub(w[1])]:!0}return w}function nb(w,S,ma,Na){let hb;if("$type"===w)return[ma,
["geometry-type"],S];hb="$id"===w?["id"]:["get",w];Na&&null!==S&&(Na[w]=typeof S);return"\x3d\x3d"===ma&&"$id"!==w&&null===S?["all",["has",w],["\x3d\x3d",hb,null]]:"!\x3d"===ma&&"$id"!==w&&null===S?["any",["!",["has",w]],["!\x3d",hb,null]]:[ma,hb,S]}function Bb(w,S,ma=!1){if(0===S.length)return ma;let Na;Na="$type"===w?["geometry-type"]:"$id"===w?["id"]:["get",w];w=!0;const hb=typeof S[0];for(var lb of S)if(typeof lb!==hb){w=!1;break}return!w||"string"!==hb&&"number"!==hb?[ma?"all":"any"].concat(S.map(sb=>
[ma?"!\x3d":"\x3d\x3d",Na,sb])):(lb=S.sort().filter((sb,Qb)=>0===Qb||S[Qb-1]!==sb),["match",Na,lb,!ma,ma])}function Ub(w){return"$type"===w?!0:"$id"===w?["!\x3d",["id"],null]:["has",w]}function jc(w){const S=[];k(w,ma=>{ma.filter&&(ma.filter=Ac(ma.filter))});d(w,{paint:!0,layout:!0},({path:ma,value:Na,reference:hb,set:lb})=>{pc(Na)||("object"!==typeof Na||Array.isArray(Na)?hb.tokens&&"string"===typeof Na&&lb(Vc(Na)):(lb(Kc(Na,hb)),S.push(ma.join("."))))});return w}function zc(w,S){const ma={};for(const Na in w)"ref"!==
Na&&(ma[Na]=w[Na]);pd.forEach(Na=>{Na in S&&(ma[Na]=S[Na])});return ma}function Dc(w,S){if(Array.isArray(w)){if(!Array.isArray(S)||w.length!==S.length)return!1;for(var ma=0;ma<w.length;ma++)if(!Dc(w[ma],S[ma]))return!1;return!0}if("object"===typeof w&&null!==w&&null!==S){if("object"!==typeof S||Object.keys(w).length!==Object.keys(S).length)return!1;for(ma in w)if(!Dc(w[ma],S[ma]))return!1;return!0}return w===S}function Wc(w,S,ma,Na){w=w||{};S=S||{};let hb;for(hb in w)if(w.hasOwnProperty(hb)&&!S.hasOwnProperty(hb)){var lb=
hb,sb=Na;ma.push({command:Bd.removeSource,args:[lb]});sb[lb]=!0}for(hb in S)if(S.hasOwnProperty(hb))if(!w.hasOwnProperty(hb))ma.push({command:Bd.addSource,args:[hb,S[hb]]});else if(!Dc(w[hb],S[hb])){if(lb="geojson"===w[hb].type&&"geojson"===S[hb].type)a:{var Qb=void 0;lb=w;sb=S;var cc=hb;for(Qb in lb[cc])if(lb[cc].hasOwnProperty(Qb)&&"data"!==Qb&&!Dc(lb[cc][Qb],sb[cc][Qb])){lb=!1;break a}for(Qb in sb[cc])if(sb[cc].hasOwnProperty(Qb)&&"data"!==Qb&&!Dc(lb[cc][Qb],sb[cc][Qb])){lb=!1;break a}lb=!0}if(lb)ma.push({command:Bd.setGeoJSONSourceData,
args:[hb,S[hb].data]});else{lb=hb;sb=S;cc=ma;Qb=lb;var Vb=Na;cc.push({command:Bd.removeSource,args:[Qb]});Vb[Qb]=!0;cc.push({command:Bd.addSource,args:[lb,sb[lb]]})}}}function Db(w,S,ma,Na,hb,lb){w=w||{};S=S||{};let sb;for(sb in w)w.hasOwnProperty(sb)&&(Dc(w[sb],S[sb])||ma.push({command:lb,args:[Na,sb,S[sb],hb]}));for(sb in S)S.hasOwnProperty(sb)&&!w.hasOwnProperty(sb)&&(Dc(w[sb],S[sb])||ma.push({command:lb,args:[Na,sb,S[sb],hb]}))}function Hc(w){return w.id}function fd(w,S){w[S.id]=S;return w}function uc(w,
S,ma){w=w||[];S=S||[];var Na=w.map(Hc);const hb=S.map(Hc);w=w.reduce(fd,{});S=S.reduce(fd,{});const lb=Na.slice(),sb=Object.create(null);let Qb;var cc;let Vb,Oc,ed;for(cc=Qb=0;Qb<Na.length;Qb++)Vb=Na[Qb],S.hasOwnProperty(Vb)?cc++:(ma.push({command:Bd.removeLayer,args:[Vb]}),lb.splice(lb.indexOf(Vb,cc),1));for(cc=Qb=0;Qb<hb.length;Qb++)Vb=hb[hb.length-1-Qb],lb[lb.length-1-Qb]!==Vb&&(w.hasOwnProperty(Vb)?(ma.push({command:Bd.removeLayer,args:[Vb]}),lb.splice(lb.lastIndexOf(Vb,lb.length-cc),1)):cc++,
Oc=lb[lb.length-Qb],ma.push({command:Bd.addLayer,args:[S[Vb],Oc]}),lb.splice(lb.length-Qb,0,Vb),sb[Vb]=!0);for(Qb=0;Qb<hb.length;Qb++)if(Vb=hb[Qb],cc=w[Vb],Na=S[Vb],!sb[Vb]&&!Dc(cc,Na))if(Dc(cc.source,Na.source)&&Dc(cc["source-layer"],Na["source-layer"])&&Dc(cc.type,Na.type)){Db(cc.layout,Na.layout,ma,Vb,null,Bd.setLayoutProperty);Db(cc.paint,Na.paint,ma,Vb,null,Bd.setPaintProperty);Dc(cc.filter,Na.filter)||ma.push({command:Bd.setFilter,args:[Vb,Na.filter]});Dc(cc.minzoom,Na.minzoom)&&Dc(cc.maxzoom,
Na.maxzoom)||ma.push({command:Bd.setLayerZoomRange,args:[Vb,Na.minzoom,Na.maxzoom]});for(ed in cc)cc.hasOwnProperty(ed)&&"layout"!==ed&&"paint"!==ed&&"filter"!==ed&&"metadata"!==ed&&"minzoom"!==ed&&"maxzoom"!==ed&&(0===ed.indexOf("paint.")?Db(cc[ed],Na[ed],ma,Vb,ed.slice(6),Bd.setPaintProperty):Dc(cc[ed],Na[ed])||ma.push({command:Bd.setLayerProperty,args:[Vb,ed,Na[ed]]}));for(ed in Na)Na.hasOwnProperty(ed)&&!cc.hasOwnProperty(ed)&&"layout"!==ed&&"paint"!==ed&&"filter"!==ed&&"metadata"!==ed&&"minzoom"!==
ed&&"maxzoom"!==ed&&(0===ed.indexOf("paint.")?Db(cc[ed],Na[ed],ma,Vb,ed.slice(6),Bd.setPaintProperty):Dc(cc[ed],Na[ed])||ma.push({command:Bd.setLayerProperty,args:[Vb,ed,Na[ed]]}))}else ma.push({command:Bd.removeLayer,args:[Vb]}),Oc=lb[lb.lastIndexOf(Vb)+1],ma.push({command:Bd.addLayer,args:[Na,Oc]})}function Zc(w){const S=w.key;return(w=w.value)?[new jd(S,w,"constants have been deprecated as of v8")]:[]}function $c(w){return w instanceof Number||w instanceof String||w instanceof Boolean?w.valueOf():
w}function nd(w){if(Array.isArray(w))return w.map(nd);if(w instanceof Object&&!(w instanceof Number||w instanceof String||w instanceof Boolean)){const S={};for(const ma in w)S[ma]=nd(w[ma]);return S}return $c(w)}function Cd(w){const S=w.key,ma=w.value,Na=w.valueSpec||{},hb=w.objectElementValidators||{},lb=w.style;w=w.styleSpec;let sb=[];var Qb=eb(ma);if("object"!==Qb)return[new jd(S,ma,`object expected, ${Qb} found`)];for(const Vb in ma){var cc=Vb.split(".")[0];Qb=Na[cc]||Na["*"];if(hb[cc])cc=hb[cc];
else if(Na[cc])cc=ye;else if(hb["*"])cc=hb["*"];else if(Na["*"])cc=ye;else{sb.push(new jd(S,ma[Vb],`unknown property "${Vb}"`));continue}sb=sb.concat(cc({key:(S?`${S}.`:S)+Vb,value:ma[Vb],valueSpec:Qb,style:lb,styleSpec:w,object:ma,objectKey:Vb},ma))}for(const Vb in Na)hb[Vb]||Na[Vb].required&&void 0===Na[Vb]["default"]&&void 0===ma[Vb]&&sb.push(new jd(S,ma,`missing required property "${Vb}"`));return sb}function Ed(w){const S=w.value;var ma=w.valueSpec;const Na=w.style,hb=w.styleSpec,lb=w.key;w=
w.arrayElementValidator||ye;if("array"!==eb(S))return[new jd(lb,S,`array expected, ${eb(S)} found`)];if(ma.length&&S.length!==ma.length)return[new jd(lb,S,`array length ${ma.length} expected, length ${S.length} found`)];if(ma["min-length"]&&S.length<ma["min-length"])return[new jd(lb,S,`array length at least ${ma["min-length"]} expected, length ${S.length} found`)];let sb={type:ma.value,values:ma.values};7>hb.$version&&(sb.function=ma.function);"object"===eb(ma.value)&&(sb=ma.value);ma=[];for(let Qb=
0;Qb<S.length;Qb++)ma=ma.concat(w({array:S,arrayIndex:Qb,value:S[Qb],valueSpec:sb,style:Na,styleSpec:hb,key:`${lb}[${Qb}]`}));return ma}function Xd(w){const S=w.key,ma=w.value;w=w.valueSpec;let Na=eb(ma);"number"===Na&&ma!==ma&&(Na="NaN");return"number"!==Na?[new jd(S,ma,`number expected, ${Na} found`)]:"minimum"in w&&ma<w.minimum?[new jd(S,ma,`${ma} is less than the minimum value ${w.minimum}`)]:"maximum"in w&&ma>w.maximum?[new jd(S,ma,`${ma} is greater than the maximum value ${w.maximum}`)]:[]}
function $d(w){function S(qd){let ad=[];const Jc=qd.value,ud=qd.key;if("array"!==eb(Jc))return[new jd(ud,Jc,`array expected, ${eb(Jc)} found`)];if(2!==Jc.length)return[new jd(ud,Jc,`array length 2 expected, length ${Jc.length} found`)];if(ed){if("object"!==eb(Jc[0]))return[new jd(ud,Jc,`object expected, ${eb(Jc[0])} found`)];if(void 0===Jc[0].zoom)return[new jd(ud,Jc,"object stop key must have zoom")];if(void 0===Jc[0].value)return[new jd(ud,Jc,"object stop key must have value")];if(cc&&cc>$c(Jc[0].zoom))return[new jd(ud,
Jc[0].zoom,"stop zoom values must appear in ascending order")];$c(Jc[0].zoom)!==cc&&(cc=$c(Jc[0].zoom),Qb=void 0,sb={});ad=ad.concat(Cd({key:`${ud}[0]`,value:Jc[0],valueSpec:{zoom:{}},style:qd.style,styleSpec:qd.styleSpec,objectElementValidators:{zoom:Xd,value:ma}}))}else ad=ad.concat(ma({key:`${ud}[0]`,value:Jc[0],valueSpec:{},style:qd.style,styleSpec:qd.styleSpec},Jc));return pc(nd(Jc[1]))?ad.concat([new jd(`${ud}[1]`,Jc[1],"expressions are not allowed in function stops.")]):ad.concat(ye({key:`${ud}[1]`,
value:Jc[1],valueSpec:Na,style:qd.style,styleSpec:qd.styleSpec}))}function ma(qd,ad){var Jc=eb(qd.value);const ud=$c(qd.value);ad=null!==qd.value?qd.value:ad;if(!lb)lb=Jc;else if(Jc!==lb)return[new jd(qd.key,ad,`${Jc} stop domain type must match previous stop domain type ${lb}`)];if("number"!==Jc&&"string"!==Jc&&"boolean"!==Jc)return[new jd(qd.key,ad,"stop domain value must be a number, string, or boolean")];if("number"!==Jc&&"categorical"!==hb)return Jc=`number expected, ${Jc} found`,oa(Na)&&void 0===
hb&&(Jc+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new jd(qd.key,ad,Jc)];if("categorical"===hb&&"number"===Jc&&(!isFinite(ud)||Math.floor(ud)!==ud))return[new jd(qd.key,ad,`integer expected, found ${ud}`)];if("categorical"!==hb&&"number"===Jc&&void 0!==Qb&&ud<Qb)return[new jd(qd.key,ad,"stop domain values must appear in ascending order")];Qb=ud;if("categorical"===hb&&ud in sb)return[new jd(qd.key,ad,"stop domain values must be unique")];sb[ud]=!0;return[]}
const Na=w.valueSpec,hb=$c(w.value.type);let lb,sb={},Qb,cc;const Vb="categorical"!==hb&&void 0===w.value.property,Oc=!Vb,ed="array"===eb(w.value.stops)&&"array"===eb(w.value.stops[0])&&"object"===eb(w.value.stops[0][0]),zd=Cd({key:w.key,value:w.value,valueSpec:w.styleSpec.function,style:w.style,styleSpec:w.styleSpec,objectElementValidators:{stops:function(qd){if("identity"===hb)return[new jd(qd.key,qd.value,'identity function may not have a "stops" property')];let ad=[];const Jc=qd.value;ad=ad.concat(Ed({key:qd.key,
value:Jc,valueSpec:qd.valueSpec,style:qd.style,styleSpec:qd.styleSpec,arrayElementValidator:S}));"array"===eb(Jc)&&0===Jc.length&&ad.push(new jd(qd.key,Jc,"array must have at least one stop"));return ad},default:function(qd){return ye({key:qd.key,value:qd.value,valueSpec:Na,style:qd.style,styleSpec:qd.styleSpec})}}});"identity"===hb&&Vb&&zd.push(new jd(w.key,w.value,'missing required property "property"'));"identity"===hb||w.value.stops||zd.push(new jd(w.key,w.value,'missing required property "stops"'));
"exponential"===hb&&w.valueSpec.expression&&!Ua(w.valueSpec)&&zd.push(new jd(w.key,w.value,"exponential functions not supported"));8<=w.styleSpec.$version&&(Oc&&!oa(w.valueSpec)?zd.push(new jd(w.key,w.value,"property functions not supported")):Vb&&!Ia(w.valueSpec)&&zd.push(new jd(w.key,w.value,"zoom functions not supported")));"categorical"!==hb&&!ed||void 0!==w.value.property||zd.push(new jd(w.key,w.value,'"property" property is required'));return zd}function ae(w){var S=("property"===w.expressionContext?
nc:Cc)(nd(w.value),w.valueSpec);if("error"===S.result)return S.value.map(ma=>new jd(`${w.key}${ma.key}`,w.value,ma.message));S=S.value.expression||S.value._styleExpression.expression;if("property"===w.expressionContext&&"text-font"===w.propertyKey&&!S.outputDefined())return[new jd(w.key,w.value,`Invalid data expression for "${w.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===w.expressionContext&&"layout"===w.propertyType&&!$a(S))return[new jd(w.key,
w.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===w.expressionContext&&!$a(S))return[new jd(w.key,w.value,'"feature-state" data expressions are not supported with filters.')];if(w.expressionContext&&0===w.expressionContext.indexOf("cluster")){if(!kb(S,["zoom","feature-state"]))return[new jd(w.key,w.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===w.expressionContext&&!Ea(S))return[new jd(w.key,
w.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ce(w){const S=w.key,ma=w.value;w=w.valueSpec;const Na=[];Array.isArray(w.values)?-1===w.values.indexOf($c(ma))&&Na.push(new jd(S,ma,`expected one of [${w.values.join(", ")}], ${JSON.stringify(ma)} found`)):-1===Object.keys(w.values).indexOf($c(ma))&&Na.push(new jd(S,ma,`expected one of [${Object.keys(w.values).join(", ")}], ${JSON.stringify(ma)} found`));return Na}function me(w){return Gd(nd(w.value))?
ae(C({},w,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ff(w)}function ff(w){const S=w.value,ma=w.key;if("array"!==eb(S))return[new jd(ma,S,`array expected, ${eb(S)} found`)];var Na=w.styleSpec;let hb,lb=[];if(1>S.length)return[new jd(ma,S,"filter array must have at least 1 element")];lb=lb.concat(Ce({key:`${ma}[0]`,value:S[0],valueSpec:Na.filter_operator,style:w.style,styleSpec:w.styleSpec}));switch($c(S[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=S.length&&"$type"===
$c(S[1])&&lb.push(new jd(ma,S,`"$type" cannot be use with operator "${S[0]}"`));case "\x3d\x3d":case "!\x3d":3!==S.length&&lb.push(new jd(ma,S,`filter array for operator "${S[0]}" must have 3 elements`));case "in":case "!in":2<=S.length&&(hb=eb(S[1]),"string"!==hb&&lb.push(new jd(`${ma}[1]`,S[1],`string expected, ${hb} found`)));for(let sb=2;sb<S.length;sb++)hb=eb(S[sb]),"$type"===$c(S[1])?lb=lb.concat(Ce({key:`${ma}[${sb}]`,value:S[sb],valueSpec:Na.geometry_type,style:w.style,styleSpec:w.styleSpec})):
"string"!==hb&&"number"!==hb&&"boolean"!==hb&&lb.push(new jd(`${ma}[${sb}]`,S[sb],`string, number, or boolean expected, ${hb} found`));break;case "any":case "all":case "none":for(Na=1;Na<S.length;Na++)lb=lb.concat(ff({key:`${ma}[${Na}]`,value:S[Na],style:w.style,styleSpec:w.styleSpec}));break;case "has":case "!has":hb=eb(S[1]);2!==S.length?lb.push(new jd(ma,S,`filter array for "${S[0]}" operator must have 2 elements`)):"string"!==hb&&lb.push(new jd(`${ma}[1]`,S[1],`string expected, ${hb} found`));
break;case "within":hb=eb(S[1]),2!==S.length?lb.push(new jd(ma,S,`filter array for "${S[0]}" operator must have 2 elements`)):"object"!==hb&&lb.push(new jd(`${ma}[1]`,S[1],`object expected, ${hb} found`))}return lb}function Ze(w,S){const ma=w.key,Na=w.style,hb=w.styleSpec,lb=w.value,sb=w.objectKey;var Qb=hb[`${S}_${w.layerType}`];if(!Qb)return[];const cc=sb.match(/^(.*)-transition$/);if("paint"===S&&cc&&Qb[cc[1]]&&Qb[cc[1]].transition)return ye({key:ma,value:lb,valueSpec:hb.transition,style:Na,styleSpec:hb});
Qb=w.valueSpec||Qb[sb];if(!Qb)return[new jd(ma,lb,`unknown property "${sb}"`)];var Vb;if("string"===eb(lb)&&oa(Qb)&&!Qb.tokens&&(Vb=/^{([^}]+)}$/.exec(lb)))return[new jd(ma,lb,`"${sb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Vb[1])} }\`.`)];Vb=[];"symbol"===w.layerType&&("text-field"===sb&&Na&&!Na.glyphs&&Vb.push(new jd(ma,lb,'use of "text-field" requires a style "glyphs" property')),"text-font"===sb&&
Gb(nd(lb))&&"identity"===$c(lb.type)&&Vb.push(new jd(ma,lb,'"text-font" does not support identity functions')));return Vb.concat(ye({key:w.key,value:lb,valueSpec:Qb,style:Na,styleSpec:hb,expressionContext:"property",propertyType:S,propertyKey:sb}))}function hf(w){return Ze(w,"paint")}function Vd(w){return Ze(w,"layout")}function ge(w){let S=[];const ma=w.value,Na=w.key;var hb=w.style;const lb=w.styleSpec;ma.type||ma.ref||S.push(new jd(Na,ma,'either "type" or "ref" is required'));let sb=$c(ma.type);
const Qb=$c(ma.ref);if(ma.id){var cc=$c(ma.id);for(let Vb=0;Vb<w.arrayIndex;Vb++){const Oc=hb.layers[Vb];$c(Oc.id)===cc&&S.push(new jd(Na,ma.id,`duplicate layer id "${ma.id}", previously used at line ${Oc.id.__line__}`))}}if("ref"in ma){["type","source","source-layer","filter","layout"].forEach(Oc=>{Oc in ma&&S.push(new jd(Na,ma[Oc],`"${Oc}" is prohibited for ref layers`))});let Vb;hb.layers.forEach(Oc=>{$c(Oc.id)===Qb&&(Vb=Oc)});Vb?Vb.ref?S.push(new jd(Na,ma.ref,"ref cannot reference another ref layer")):
sb=$c(Vb.type):S.push(new jd(Na,ma.ref,`ref layer "${Qb}" not found`))}else"background"!==sb&&"sky"!==sb&&(ma.source?(cc=(hb=hb.sources&&hb.sources[ma.source])&&$c(hb.type),hb?"vector"===cc&&"raster"===sb?S.push(new jd(Na,ma.source,`layer "${ma.id}" requires a raster source`)):"raster"===cc&&"raster"!==sb?S.push(new jd(Na,ma.source,`layer "${ma.id}" requires a vector source`)):"vector"!==cc||ma["source-layer"]?"raster-dem"===cc&&"hillshade"!==sb?S.push(new jd(Na,ma.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==sb||!ma.paint||!ma.paint["line-gradient"]||"geojson"===cc&&hb.lineMetrics||S.push(new jd(Na,ma,`layer "${ma.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):S.push(new jd(Na,ma,`layer "${ma.id}" must specify a "source-layer"`)):S.push(new jd(Na,ma.source,`source "${ma.source}" not found`))):S.push(new jd(Na,ma,'missing required property "source"')));return S=S.concat(Cd({key:Na,value:ma,valueSpec:lb.layer,style:w.style,styleSpec:w.styleSpec,
objectElementValidators:{["*"](){return[]},type(){return ye({key:`${Na}.type`,value:ma.type,valueSpec:lb.layer.type,style:w.style,styleSpec:w.styleSpec,object:ma,objectKey:"type"})},filter:me,layout(Vb){return Cd({layer:ma,key:Vb.key,value:Vb.value,style:Vb.style,styleSpec:Vb.styleSpec,objectElementValidators:{["*"](Oc){return Vd(C({layerType:sb},Oc))}}})},paint(Vb){return Cd({layer:ma,key:Vb.key,value:Vb.value,style:Vb.style,styleSpec:Vb.styleSpec,objectElementValidators:{["*"](Oc){return hf(C({layerType:sb},
Oc))}}})}}}))}function yf(w){const S=w.value;w=w.key;const ma=eb(S);return"string"!==ma?[new jd(w,S,`string expected, ${ma} found`)]:[]}function Ue(w){const S=w.value,ma=w.key;var Na=w.styleSpec;const hb=w.style;if(!S.type)return[new jd(ma,S,'"type" is required')];const lb=$c(S.type);switch(lb){case "vector":case "raster":case "raster-dem":return w=Cd({key:ma,value:S,valueSpec:Na[`source_${lb.replace("-","_")}`],style:w.style,styleSpec:Na,objectElementValidators:Wa});case "geojson":w=Cd({key:ma,value:S,
valueSpec:Na.source_geojson,style:hb,styleSpec:Na,objectElementValidators:Wa});if(S.cluster)for(const sb in S.clusterProperties){const [Qb,cc]=S.clusterProperties[sb];Na="string"===typeof Qb?[Qb,["accumulated"],["get",sb]]:Qb;w.push(...ae({key:`${ma}.${sb}.map`,value:cc,expressionContext:"cluster-map"}));w.push(...ae({key:`${ma}.${sb}.reduce`,value:Na,expressionContext:"cluster-reduce"}))}return w;case "video":return Cd({key:ma,value:S,valueSpec:Na.source_video,style:hb,styleSpec:Na});case "image":return Cd({key:ma,
value:S,valueSpec:Na.source_image,style:hb,styleSpec:Na});case "canvas":return[new jd(ma,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ce({key:`${ma}.type`,value:S.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:hb,styleSpec:Na})}}function of(w){const S=w.value,ma=w.styleSpec,Na=ma.light;w=w.style;let hb=[];var lb=eb(S);if(void 0===S)return hb;if("object"!==lb)return hb=hb.concat([new jd("light",
S,`object expected, ${lb} found`)]);for(const sb in S)hb=(lb=sb.match(/^(.*)-transition$/))&&Na[lb[1]]&&Na[lb[1]].transition?hb.concat(ye({key:sb,value:S[sb],valueSpec:ma.transition,style:w,styleSpec:ma})):Na[sb]?hb.concat(ye({key:sb,value:S[sb],valueSpec:Na[sb],style:w,styleSpec:ma})):hb.concat([new jd(sb,S[sb],`unknown property "${sb}"`)]);return hb}function le(w){const S=w.value,ma=w.key;var Na=w.style;const hb=w.styleSpec,lb=hb.terrain;w=[];var sb=eb(S);if(void 0===S)return w;if("object"!==sb)return w=
w.concat([new jd("terrain",S,`object expected, ${sb} found`)]);for(var Qb in S)w=(sb=Qb.match(/^(.*)-transition$/))&&lb[sb[1]]&&lb[sb[1]].transition?w.concat(ye({key:Qb,value:S[Qb],valueSpec:hb.transition,style:Na,styleSpec:hb})):lb[Qb]?w.concat(ye({key:Qb,value:S[Qb],valueSpec:lb[Qb],style:Na,styleSpec:hb})):w.concat([new jd(Qb,S[Qb],`unknown property "${Qb}"`)]);S.source?(Qb=(Na=Na.sources&&Na.sources[S.source])&&$c(Na.type),Na?"raster-dem"!==Qb&&w.push(new jd(ma,S.source,`terrain cannot be used with a source of type ${Qb}, it only be used with a "raster-dem" source type`)):
w.push(new jd(ma,S.source,`source "${S.source}" not found`))):w.push(new jd(ma,S,'terrain is missing required property "source"'));return w}function ye(w){const S=w.value,ma=w.valueSpec,Na=w.styleSpec;return ma.expression&&Gb($c(S))?$d(w):ma.expression&&pc(nd(S))?ae(w):ma.type&&ob[ma.type]?ob[ma.type](w):Cd(C({},w,{valueSpec:ma.type?Na[ma.type]:ma}))}function Mf(w){const S=w.value,ma=w.key;w=yf(w);if(w.length)return w;-1===S.indexOf("{fontstack}")&&w.push(new jd(ma,S,'"glyphs" url must include a "{fontstack}" token'));
-1===S.indexOf("{range}")&&w.push(new jd(ma,S,'"glyphs" url must include a "{range}" token'));return w}function Ge(w,S=Ic){let ma=[];ma=ma.concat(ye({key:"",value:w,valueSpec:S.$root,styleSpec:S,style:w,objectElementValidators:{glyphs:Mf,["*"](){return[]}}}));w.constants&&(ma=ma.concat(Zc({key:"constants",value:w.constants,style:w,styleSpec:S})));return Td(ma)}function Td(w){return[].concat(w).sort((S,ma)=>S.line-ma.line)}function Zd(w){return function(...S){return Td(w.apply(this,S))}}function we(w){if(w instanceof
String||"string"===typeof w||w instanceof g)try{return Ab.parse(w.toString())}catch(S){throw new cf(S);}return w}function nf(w,S=Ic){try{w=we(w)}catch(ma){return[ma]}return Ge(w,S)}function Pe(w,S){return w&&"string"===eb(w)?!!w.match(S):!0}function Qd(w,S,ma){const Na=new Set(S),hb=[];Object.keys(w).forEach(lb=>{Na.has(lb)||hb.push(new jd(ma?`${ma}.${lb}`:null,w[lb],`Unsupported property "${lb}"`))});return hb}function Qe(w){const S=[];let ma=0;Object.keys(w).forEach((Na,hb)=>{{var lb=w[Na];const sb=
[];sb.push(...Qd(lb,["type","url","tileSize"],"source"));Pe(lb.url,/^mapbox:\/\/([^/]*)$/)||sb.push(new jd(`sources[${hb}]`,lb.url,"Source url must be a valid Mapbox tileset url"));hb=sb}hb.length||(lb=ma,Na=w[Na],Na=Na.url?Na.url.split(",").length:0,ma=lb+Na);S.push(...hb)});15<ma&&S.push(new jd("sources",null,"Styles must contain 15 or fewer sources"));return S}function Yf(w,S){const ma=[];S=Qd(w,[...S,"owner","id","cacheControl","draft","created","modified","visibility"]);ma.push(...S);(8<w.version||
8>w.version)&&ma.push(new jd("version",w.version,"Style version must be 8"));Pe(w.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||ma.push(new jd("glyphs",w.glyphs,"Styles must reference glyphs hosted by Mapbox"));Pe(w.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||ma.push(new jd("sprite",w.sprite,"Styles must reference sprites hosted by Mapbox"));Pe(w.visibility,/^(public|private)$/)||ma.push(new jd("visibility",w.visibility,"Style visibility must be public or private"));
return ma}var Ic={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},xe=/("(?:[^\\"]|\\.)*")|[:,]/g,je=function(w,S){S=S||{};var ma=JSON.stringify([1],void 0,void 0===S.indent?2:S.indent).slice(2,-3);var Na=""===ma?Infinity:void 0===S.maxLength?
80:S.maxLength;var hb=S.replacer;return function Vb(sb,Qb,cc){sb&&"function"===typeof sb.toJSON&&(sb=sb.toJSON());var Oc=JSON.stringify(sb,hb);if(void 0===Oc)return Oc;cc=Na-Qb.length-cc;if(Oc.length<=cc){var ed=Oc.replace(xe,function(ve,ne){return ne||ve+" "});if(ed.length<=cc)return ed}null!=hb&&(sb=JSON.parse(Oc),hb=void 0);if("object"===typeof sb&&null!==sb){var zd=Qb+ma;var qd=[];var ad=0;if(Array.isArray(sb)){var Jc="[";ed="]";for(cc=sb.length;ad<cc;ad++)qd.push(Vb(sb[ad],zd,ad===cc-1?0:1)||
"null")}else{Jc="{";ed="}";var ud=Object.keys(sb);for(cc=ud.length;ad<cc;ad++){var de=ud[ad];var Sd=JSON.stringify(de)+": ";de=Vb(sb[de],zd,Sd.length+(ad===cc-1?0:1));void 0!==de&&qd.push(Sd+de)}}if(0<qd.length)return[Jc,ma+qd.join(",\n"+zd),ed].join("\n"+Qb)}return Oc}(w,"",0)},gc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof Ja?Ja:"undefined"!==typeof self?self:{},De=O(function(w,S){(function(ma){function Na(se){throw RangeError(Sd[se]);}function hb(se,
te){for(var Be=se.length,wd=[];Be--;)wd[Be]=te(se[Be]);return wd}function lb(se,te){var Be=se.split("@"),wd="";1<Be.length&&(wd=Be[0]+"@",se=Be[1]);se=se.replace(de,".");se=se.split(".");te=hb(se,te).join(".");return wd+te}function sb(se){for(var te=[],Be=0,wd=se.length,We,Kf;Be<wd;)We=se.charCodeAt(Be++),55296<=We&&56319>=We&&Be<wd?(Kf=se.charCodeAt(Be++),56320==(Kf&64512)?te.push(((We&1023)<<10)+(Kf&1023)+65536):(te.push(We),Be--)):te.push(We);return te}function Qb(se){return hb(se,function(te){var Be=
"";65535<te&&(te-=65536,Be+=ne(te>>>10&1023|55296),te=56320|te&1023);return Be+=ne(te)}).join("")}function cc(se,te){return se+22+75*(26>se)-((0!=te)<<5)}function Vb(se,te,Be){var wd=0;se=Be?ve(se/700):se>>1;for(se+=ve(se/te);455<se;wd+=36)se=ve(se/35);return ve(wd+36*se/(se+38))}function Oc(se){var te=[],Be=se.length,wd=0,We=128,Kf=72,jf,Cf;var xf=se.lastIndexOf("-");0>xf&&(xf=0);for(jf=0;jf<xf;++jf)128<=se.charCodeAt(jf)&&Na("not-basic"),te.push(se.charCodeAt(jf));for(xf=0<xf?xf+1:0;xf<Be;){jf=
wd;var Af=1;for(Cf=36;;Cf+=36){xf>=Be&&Na("invalid-input");var Uf=se.charCodeAt(xf++);Uf=10>Uf-48?Uf-22:26>Uf-65?Uf-65:26>Uf-97?Uf-97:36;(36<=Uf||Uf>ve((2147483647-wd)/Af))&&Na("overflow");wd+=Uf*Af;var Zf=Cf<=Kf?1:Cf>=Kf+26?26:Cf-Kf;if(Uf<Zf)break;Uf=36-Zf;Af>ve(2147483647/Uf)&&Na("overflow");Af*=Uf}Af=te.length+1;Kf=Vb(wd-jf,Af,0==jf);ve(wd/Af)>2147483647-We&&Na("overflow");We+=ve(wd/Af);wd%=Af;te.splice(wd++,0,We)}return Qb(te)}function ed(se){var te,Be,wd,We=[];se=sb(se);var Kf=se.length;var jf=
128;var Cf=0;var xf=72;for(wd=0;wd<Kf;++wd){var Af=se[wd];128>Af&&We.push(ne(Af))}for((te=Be=We.length)&&We.push("-");te<Kf;){var Uf=2147483647;for(wd=0;wd<Kf;++wd)Af=se[wd],Af>=jf&&Af<Uf&&(Uf=Af);var Zf=te+1;Uf-jf>ve((2147483647-Cf)/Zf)&&Na("overflow");Cf+=(Uf-jf)*Zf;jf=Uf;for(wd=0;wd<Kf;++wd)if(Af=se[wd],Af<jf&&2147483647<++Cf&&Na("overflow"),Af==jf){var Ug=Cf;for(Uf=36;;Uf+=36){Af=Uf<=xf?1:Uf>=xf+26?26:Uf-xf;if(Ug<Af)break;var Eh=Ug-Af;Ug=36-Af;We.push(ne(cc(Af+Eh%Ug,0)));Ug=ve(Eh/Ug)}We.push(ne(cc(Ug,
0)));xf=Vb(Cf,Zf,te==Be);Cf=0;++te}++Cf;++jf}return We.join("")}var zd=S&&!S.nodeType&&S,qd=w&&!w.nodeType&&w,ad="object"==typeof gc&&gc;if(ad.global===ad||ad.window===ad||ad.self===ad)ma=ad;var Jc=/^xn--/,ud=/[^\x20-\x7E]/,de=/[\x2E\u3002\uFF0E\uFF61]/g,Sd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},ve=Math.floor,ne=String.fromCharCode,Tf;ad={version:"1.3.2",ucs2:{decode:sb,encode:Qb},
decode:Oc,encode:ed,toASCII:function(se){return lb(se,function(te){return ud.test(te)?"xn--"+ed(te):te})},toUnicode:function(se){return lb(se,function(te){return Jc.test(te)?Oc(te.slice(4).toLowerCase()):te})}};if(zd&&qd)if(w.exports==zd)qd.exports=ad;else for(Tf in ad)ad.hasOwnProperty(Tf)&&(zd[Tf]=ad[Tf]);else ma.punycode=ad})(gc)}),re={isString:function(w){return"string"===typeof w},isObject:function(w){return"object"===typeof w&&null!==w},isNull:function(w){return null===w},isNullOrUndefined:function(w){return null==
w}},gf=function(w,S,ma,Na){ma=ma||"\x3d";var hb={};if("string"!==typeof w||0===w.length)return hb;var lb=/\+/g;w=w.split(S||"\x26");S=1E3;Na&&"number"===typeof Na.maxKeys&&(S=Na.maxKeys);Na=w.length;0<S&&Na>S&&(Na=S);for(S=0;S<Na;++S){var sb=w[S].replace(lb,"%20"),Qb=sb.indexOf(ma);if(0<=Qb){var cc=sb.substr(0,Qb);sb=sb.substr(Qb+1)}else cc=sb,sb="";cc=decodeURIComponent(cc);sb=decodeURIComponent(sb);Object.prototype.hasOwnProperty.call(hb,cc)?Array.isArray(hb[cc])?hb[cc].push(sb):hb[cc]=[hb[cc],
sb]:hb[cc]=sb}return hb},Hf=function(w){switch(typeof w){case "string":return w;case "boolean":return w?"true":"false";case "number":return isFinite(w)?w:"";default:return""}},If=function(w,S,ma,Na){S=S||"\x26";ma=ma||"\x3d";null===w&&(w=void 0);return"object"===typeof w?Object.keys(w).map(function(hb){var lb=encodeURIComponent(Hf(hb))+ma;return Array.isArray(w[hb])?w[hb].map(function(sb){return lb+encodeURIComponent(Hf(sb))}).join(S):lb+encodeURIComponent(Hf(w[hb]))}).join(S):Na?encodeURIComponent(Hf(Na))+
ma+encodeURIComponent(Hf(w)):""},Qf=O(function(w,S){S.decode=S.parse=gf;S.encode=S.stringify=If}),Jf=/^([a-z0-9.+-]+:)/i,Ae=/:[0-9]*$/,xc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ya="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Ca=["'"].concat(ya),Za=["%","/","?",";","#"].concat(Ca),Fb=["/","?","#"],ub=/^[+a-z0-9A-Z_-]{0,63}$/,Wb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vc={javascript:!0,"javascript:":!0},Nc={javascript:!0,"javascript:":!0},ld={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,
"ftp:":!0,"gopher:":!0,"file:":!0};x.prototype.parse=function(w,S,ma){if(!re.isString(w))throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var Na=w.indexOf("?");Na=-1!==Na&&Na<w.indexOf("#")?"?":"#";w=w.split(Na);w[0]=w[0].replace(/\\/g,"/");w=w.join(Na);Na=w.trim();if(!ma&&1===w.split("#").length&&(w=xc.exec(Na)))return this.href=this.path=Na,this.pathname=w[1],w[2]?(this.search=w[2],this.query=S?Qf.parse(this.search.substr(1)):this.search.substr(1)):S&&(this.search="",this.query=
{}),this;if(w=Jf.exec(Na)){w=w[0];var hb=w.toLowerCase();this.protocol=hb;Na=Na.substr(w.length)}if(ma||w||Na.match(/^\/\/[^@\/]+@[^@\/]+/)){var lb="//"===Na.substr(0,2);!lb||w&&Nc[w]||(Na=Na.substr(2),this.slashes=!0)}if(!Nc[w]&&(lb||w&&!ld[w])){lb=-1;for(ma=0;ma<Fb.length;ma++)w=Na.indexOf(Fb[ma]),-1!==w&&(-1===lb||w<lb)&&(lb=w);lb=-1===lb?Na.lastIndexOf("@"):Na.lastIndexOf("@",lb);-1!==lb&&(ma=Na.slice(0,lb),Na=Na.slice(lb+1),this.auth=decodeURIComponent(ma));lb=-1;for(ma=0;ma<Za.length;ma++)w=
Na.indexOf(Za[ma]),-1!==w&&(-1===lb||w<lb)&&(lb=w);-1===lb&&(lb=Na.length);this.host=Na.slice(0,lb);Na=Na.slice(lb);this.parseHost();this.hostname=this.hostname||"";lb="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!lb){var sb=this.hostname.split(/\./);ma=0;for(w=sb.length;ma<w;ma++){var Qb=sb[ma];if(Qb&&!Qb.match(ub)){for(var cc="",Vb=0,Oc=Qb.length;Vb<Oc;Vb++)cc=127<Qb.charCodeAt(Vb)?cc+"x":cc+Qb[Vb];if(!cc.match(ub)){w=sb.slice(0,ma);ma=sb.slice(ma+1);if(Qb=Qb.match(Wb))w.push(Qb[1]),
ma.unshift(Qb[2]);ma.length&&(Na="/"+ma.join(".")+Na);this.hostname=w.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();lb||(this.hostname=De.toASCII(this.hostname));ma=this.port?":"+this.port:"";this.host=(this.hostname||"")+ma;this.href+=this.host;lb&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Na[0]&&(Na="/"+Na))}if(!vc[hb])for(ma=0,w=Ca.length;ma<w;ma++)lb=Ca[ma],-1!==Na.indexOf(lb)&&(Qb=encodeURIComponent(lb),Qb===lb&&(Qb=escape(lb)),
Na=Na.split(lb).join(Qb));ma=Na.indexOf("#");-1!==ma&&(this.hash=Na.substr(ma),Na=Na.slice(0,ma));ma=Na.indexOf("?");-1!==ma?(this.search=Na.substr(ma),this.query=Na.substr(ma+1),S&&(this.query=Qf.parse(this.query)),Na=Na.slice(0,ma)):S&&(this.search="",this.query={});Na&&(this.pathname=Na);ld[hb]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)ma=this.pathname||"",this.path=ma+(this.search||"");this.href=this.format();return this};x.prototype.format=function(){var w=
this.auth||"";w&&(w=encodeURIComponent(w),w=w.replace(/%3A/i,":"),w+="@");var S=this.protocol||"",ma=this.pathname||"",Na=this.hash||"",hb=!1,lb="";this.host?hb=w+this.host:this.hostname&&(hb=w+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(hb+=":"+this.port));this.query&&re.isObject(this.query)&&Object.keys(this.query).length&&(lb=Qf.stringify(this.query));w=this.search||lb&&"?"+lb||"";S&&":"!==S.substr(-1)&&(S+=":");this.slashes||(!S||ld[S])&&!1!==hb?(hb="//"+
(hb||""),ma&&"/"!==ma.charAt(0)&&(ma="/"+ma)):hb||(hb="");Na&&"#"!==Na.charAt(0)&&(Na="#"+Na);w&&"?"!==w.charAt(0)&&(w="?"+w);ma=ma.replace(/[?#]/g,function(sb){return encodeURIComponent(sb)});w=w.replace("#","%23");return S+hb+ma+w+Na};x.prototype.resolve=function(w){return this.resolveObject(y(w,!1,!0)).format()};x.prototype.resolveObject=function(w){if(re.isString(w)){var S=new x;S.parse(w,!1,!0);w=S}S=new x;for(var ma=Object.keys(this),Na=0;Na<ma.length;Na++){var hb=ma[Na];S[hb]=this[hb]}S.hash=
w.hash;if(""===w.href)return S.href=S.format(),S;if(w.slashes&&!w.protocol){ma=Object.keys(w);for(Na=0;Na<ma.length;Na++)hb=ma[Na],"protocol"!==hb&&(S[hb]=w[hb]);ld[S.protocol]&&S.hostname&&!S.pathname&&(S.path=S.pathname="/");S.href=S.format();return S}if(w.protocol&&w.protocol!==S.protocol){if(!ld[w.protocol]){ma=Object.keys(w);for(Na=0;Na<ma.length;Na++)hb=ma[Na],S[hb]=w[hb];S.href=S.format();return S}S.protocol=w.protocol;if(w.host||Nc[w.protocol])S.pathname=w.pathname;else{for(var lb=(w.pathname||
"").split("/");lb.length&&!(w.host=lb.shift()););w.host||(w.host="");w.hostname||(w.hostname="");""!==lb[0]&&lb.unshift("");2>lb.length&&lb.unshift("");S.pathname=lb.join("/")}S.search=w.search;S.query=w.query;S.host=w.host||"";S.auth=w.auth;S.hostname=w.hostname||w.host;S.port=w.port;if(S.pathname||S.search)S.path=(S.pathname||"")+(S.search||"");S.slashes=S.slashes||w.slashes;S.href=S.format();return S}ma=S.pathname&&"/"===S.pathname.charAt(0);var sb=w.host||w.pathname&&"/"===w.pathname.charAt(0),
Qb=ma=sb||ma||S.host&&w.pathname;Na=S.pathname&&S.pathname.split("/")||[];lb=w.pathname&&w.pathname.split("/")||[];if(hb=S.protocol&&!ld[S.protocol])S.hostname="",S.port=null,S.host&&(""===Na[0]?Na[0]=S.host:Na.unshift(S.host)),S.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(""===lb[0]?lb[0]=w.host:lb.unshift(w.host)),w.host=null),ma=ma&&(""===lb[0]||""===Na[0]);if(sb)S.host=w.host||""===w.host?w.host:S.host,S.hostname=w.hostname||""===w.hostname?w.hostname:S.hostname,S.search=w.search,
S.query=w.query,Na=lb;else if(lb.length)Na||(Na=[]),Na.pop(),Na=Na.concat(lb),S.search=w.search,S.query=w.query;else if(!re.isNullOrUndefined(w.search))return hb&&(S.hostname=S.host=Na.shift(),hb=S.host&&0<S.host.indexOf("@")?S.host.split("@"):!1)&&(S.auth=hb.shift(),S.host=S.hostname=hb.shift()),S.search=w.search,S.query=w.query,re.isNull(S.pathname)&&re.isNull(S.search)||(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S;if(!Na.length)return S.pathname=null,S.path=S.search?
"/"+S.search:null,S.href=S.format(),S;sb=Na.slice(-1)[0];lb=(S.host||w.host||1<Na.length)&&("."===sb||".."===sb)||""===sb;for(var cc=0,Vb=Na.length;0<=Vb;Vb--)sb=Na[Vb],"."===sb?Na.splice(Vb,1):".."===sb?(Na.splice(Vb,1),cc++):cc&&(Na.splice(Vb,1),cc--);if(!ma&&!Qb)for(;cc--;cc)Na.unshift("..");!ma||""===Na[0]||Na[0]&&"/"===Na[0].charAt(0)||Na.unshift("");lb&&"/"!==Na.join("/").substr(-1)&&Na.push("");Qb=""===Na[0]||Na[0]&&"/"===Na[0].charAt(0);hb&&(S.hostname=S.host=Qb?"":Na.length?Na.shift():"",
hb=S.host&&0<S.host.indexOf("@")?S.host.split("@"):!1)&&(S.auth=hb.shift(),S.host=S.hostname=hb.shift());(ma=ma||S.host&&Na.length)&&!Qb&&Na.unshift("");Na.length?S.pathname=Na.join("/"):(S.pathname=null,S.path=null);re.isNull(S.pathname)&&re.isNull(S.search)||(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:""));S.auth=w.auth||S.auth;S.slashes=S.slashes||w.slashes;S.href=S.format();return S};x.prototype.parseHost=function(){var w=this.host,S=Ae.exec(w);S&&(S=S[0],":"!==S&&(this.port=S.substr(1)),
w=w.substr(0,w.length-S.length));w&&(this.hostname=w)};var Pc={parse:y,resolve:function(w,S){return y(w,!1,!0).resolve(S)},resolveObject:function(w,S){return w?y(w,!1,!0).resolveObject(S):S},format:function(w){re.isString(w)&&(w=y(w));return w instanceof x?w.format():x.prototype.format.call(w)},Url:x};class Ld extends Error{constructor(w,S){super(S);this.message=S;this.key=w}}class Nd{constructor(w,S=[]){this.parent=w;this.bindings={};for(const [ma,Na]of S)this.bindings[ma]=Na}concat(w){return new Nd(this,
w)}get(w){if(this.bindings[w])return this.bindings[w];if(this.parent)return this.parent.get(w);throw Error(`${w} not found in scope.`);}has(w){return this.bindings[w]?!0:this.parent?this.parent.has(w):!1}}const Od={kind:"null"},od={kind:"number"},Rd={kind:"string"},kd={kind:"boolean"},lf={kind:"color"},bf={kind:"object"},ee={kind:"value"},Ve={kind:"collator"},ce={kind:"formatted"},Xe={kind:"resolvedImage"},zf=[Od,od,Rd,kd,lf,ce,bf,D(ee),Xe];var tf=O(function(w,S){function ma(Vb){Vb=Math.round(Vb);
return 0>Vb?0:255<Vb?255:Vb}function Na(Vb){return 0>Vb?0:1<Vb?1:Vb}function hb(Vb){return"%"===Vb[Vb.length-1]?ma(parseFloat(Vb)/100*255):ma(parseInt(Vb))}function lb(Vb){return"%"===Vb[Vb.length-1]?Na(parseFloat(Vb)/100):Na(parseFloat(Vb))}function sb(Vb,Oc,ed){0>ed?ed+=1:1<ed&&--ed;return 1>6*ed?Vb+(Oc-Vb)*ed*6:1>2*ed?Oc:2>3*ed?Vb+(Oc-Vb)*(2/3-ed)*6:Vb}function Qb(Vb){Vb=Vb.replace(/ /g,"").toLowerCase();if(Vb in cc)return cc[Vb].slice();if("#"===Vb[0])return 4===Vb.length?(Vb=parseInt(Vb.substr(1),
16),0<=Vb&&4095>=Vb?[(Vb&3840)>>4|(Vb&3840)>>8,Vb&240|(Vb&240)>>4,Vb&15|(Vb&15)<<4,1]:null):7===Vb.length?(Vb=parseInt(Vb.substr(1),16),0<=Vb&&16777215>=Vb?[(Vb&16711680)>>16,(Vb&65280)>>8,Vb&255,1]:null):null;var Oc=Vb.indexOf("("),ed=Vb.indexOf(")");if(-1!==Oc&&ed+1===Vb.length){var zd=Vb.substr(0,Oc);Oc=Vb.substr(Oc+1,ed-(Oc+1)).split(",");Vb=1;switch(zd){case "rgba":if(4!==Oc.length)break;Vb=lb(Oc.pop());case "rgb":if(3!==Oc.length)break;return[hb(Oc[0]),hb(Oc[1]),hb(Oc[2]),Vb];case "hsla":if(4!==
Oc.length)break;Vb=lb(Oc.pop());case "hsl":if(3===Oc.length)return zd=(parseFloat(Oc[0])%360+360)%360/360,ed=lb(Oc[1]),Oc=lb(Oc[2]),ed=.5>=Oc?Oc*(ed+1):Oc+ed-Oc*ed,Oc=2*Oc-ed,[ma(255*sb(Oc,ed,zd+1/3)),ma(255*sb(Oc,ed,zd)),ma(255*sb(Oc,ed,zd-1/3)),Vb]}}return null}var cc={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,
205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,
220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,
250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,
170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,
192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{S.parseCSSColor=Qb}catch(Vb){}}).parseCSSColor;class Oe{constructor(w,
S,ma,Na=1){this.r=w;this.g=S;this.b=ma;this.a=Na}static parse(w){if(w){if(w instanceof Oe)return w;if("string"===typeof w&&(w=tf(w)))return new Oe(w[0]/255*w[3],w[1]/255*w[3],w[2]/255*w[3],w[3])}}toString(){const [w,S,ma,Na]=this.toArray();return`rgba(${Math.round(w)},${Math.round(S)},${Math.round(ma)},${Na})`}toArray(){const {r:w,g:S,b:ma,a:Na}=this;return 0===Na?[0,0,0,0]:[255*w/Na,255*S/Na,255*ma/Na,Na]}}Oe.black=new Oe(0,0,0,1);Oe.white=new Oe(1,1,1,1);Oe.transparent=new Oe(0,0,0,0);Oe.red=new Oe(1,
0,0,1);Oe.blue=new Oe(0,0,1,1);class Nf{constructor(w,S,ma){this.sensitivity=w?S?"variant":"case":S?"accent":"base";this.locale=ma;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(w,S){return this.collator.compare(w,S)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class Aa{constructor(w,S,ma,Na,hb){this.text=w;this.image=S;this.scale=ma;this.fontStack=Na;this.textColor=hb}}class Ka{constructor(w){this.sections=
w}static fromString(w){return new Ka([new Aa(w,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(w=>0!==w.text.length||w.image&&0!==w.image.name.length)}static factory(w){return w instanceof Ka?w:Ka.fromString(w)}toString(){return 0===this.sections.length?"":this.sections.map(w=>w.text).join("")}serialize(){const w=["format"];for(const S of this.sections){if(S.image){w.push(["image",S.image.name]);continue}w.push(S.text);const ma={};S.fontStack&&(ma["text-font"]=
["literal",S.fontStack.split(",")]);S.scale&&(ma["font-scale"]=S.scale);S.textColor&&(ma["text-color"]=["rgba"].concat(S.textColor.toArray()));w.push(ma)}return w}}class vb{constructor(w){this.name=w.name;this.available=w.available}toString(){return this.name}static fromString(w){return w?new vb({name:w,available:!1}):null}serialize(){return["image",this.name]}}class Xb{constructor(w,S){this.type=w;this.value=S}static parse(w,S){if(2!==w.length)return S.error(`'literal' expression requires exactly one argument, but found ${w.length-
1} instead.`);if(!H(w[1]))return S.error("invalid value");w=w[1];let ma=R(w);S=S.expectedType;"array"!==ma.kind||0!==ma.N||!S||"array"!==S.kind||"number"===typeof S.N&&0!==S.N||(ma=S);return new Xb(ma,w)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Oe?["rgba"].concat(this.value.toArray()):this.value instanceof Ka?this.value.serialize():this.value}}class Sb{constructor(w){this.name=
"ExpressionEvaluationError";this.message=w}toJSON(){return this.message}}const hc={string:Rd,number:od,boolean:kd,object:bf};class lc{constructor(w,S){this.type=w;this.args=S}static parse(w,S){if(2>w.length)return S.error("Expected at least one argument.");let ma=1;var Na=w[0];if("array"===Na){if(2<w.length){Na=w[1];if("string"!==typeof Na||!(Na in hc)||"object"===Na)return S.error('The item type argument of "array" must be one of string, number, boolean',1);Na=hc[Na];ma++}else Na=ee;if(3<w.length){if(null!==
w[2]&&("number"!==typeof w[2]||0>w[2]||w[2]!==Math.floor(w[2])))return S.error('The length argument to "array" must be a positive integer literal',2);var hb=w[2];ma++}hb=D(Na,hb)}else hb=hc[Na];for(Na=[];ma<w.length;ma++){const lb=S.parse(w[ma],ma,ee);if(!lb)return null;Na.push(lb)}return new lc(hb,Na)}evaluate(w){for(let S=0;S<this.args.length;S++){const ma=this.args[S].evaluate(w);if(!L(this.type,R(ma)))return ma;if(S===this.args.length-1)throw new Sb(`Expected value to be of type ${P(this.type)}, but found ${P(R(ma))} instead.`);
}return null}eachChild(w){this.args.forEach(w)}outputDefined(){return this.args.every(w=>w.outputDefined())}serialize(){var w=this.type;const S=[w.kind];if("array"===w.kind){const ma=w.itemType;if("string"===ma.kind||"number"===ma.kind||"boolean"===ma.kind)S.push(ma.kind),w=w.N,("number"===typeof w||1<this.args.length)&&S.push(w)}return S.concat(this.args.map(ma=>ma.serialize()))}}class id{constructor(w){this.type=ce;this.sections=w}static parse(w,S){if(2>w.length)return S.error("Expected at least one argument.");
var ma=w[1];if(!Array.isArray(ma)&&"object"===typeof ma)return S.error("First argument must be an image or text section.");ma=[];var Na=!1;for(let sb=1;sb<=w.length-1;++sb){var hb=w[sb];if(Na&&"object"===typeof hb&&!Array.isArray(hb)){Na=!1;var lb=null;if(hb["font-scale"]&&(lb=S.parse(hb["font-scale"],1,od),!lb))return null;let Qb=null;if(hb["text-font"]&&(Qb=S.parse(hb["text-font"],1,D(Rd)),!Qb))return null;let cc=null;if(hb["text-color"]&&(cc=S.parse(hb["text-color"],1,lf),!cc))return null;hb=ma[ma.length-
1];hb.scale=lb;hb.font=Qb;hb.textColor=cc}else{lb=S.parse(w[sb],1,ee);if(!lb)return null;Na=lb.type.kind;if("string"!==Na&&"value"!==Na&&"null"!==Na&&"resolvedImage"!==Na)return S.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Na=!0;ma.push({content:lb,scale:null,font:null,textColor:null})}}return new id(ma)}evaluate(w){return new Ka(this.sections.map(S=>{const ma=S.content.evaluate(w);return R(ma)===Xe?new Aa("",ma,null,null,null):new Aa(U(ma),null,S.scale?S.scale.evaluate(w):
null,S.font?S.font.evaluate(w).join(","):null,S.textColor?S.textColor.evaluate(w):null)}))}eachChild(w){for(const S of this.sections)w(S.content),S.scale&&w(S.scale),S.font&&w(S.font),S.textColor&&w(S.textColor)}outputDefined(){return!1}serialize(){const w=["format"];for(const S of this.sections){w.push(S.content.serialize());const ma={};S.scale&&(ma["font-scale"]=S.scale.serialize());S.font&&(ma["text-font"]=S.font.serialize());S.textColor&&(ma["text-color"]=S.textColor.serialize());w.push(ma)}return w}}
class Sc{constructor(w){this.type=Xe;this.input=w}static parse(w,S){return 2!==w.length?S.error("Expected two arguments."):(w=S.parse(w[1],1,Rd))?new Sc(w):S.error("No image name provided.")}evaluate(w){const S=this.input.evaluate(w),ma=vb.fromString(S);ma&&w.availableImages&&(ma.available=-1<w.availableImages.indexOf(S));return ma}eachChild(w){w(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const gd={"to-boolean":kd,"to-color":lf,"to-number":od,"to-string":Rd};
class Hd{constructor(w,S){this.type=w;this.args=S}static parse(w,S){if(2>w.length)return S.error("Expected at least one argument.");var ma=w[0];if(("to-boolean"===ma||"to-string"===ma)&&2!==w.length)return S.error("Expected one argument.");ma=gd[ma];const Na=[];for(let hb=1;hb<w.length;hb++){const lb=S.parse(w[hb],hb,ee);if(!lb)return null;Na.push(lb)}return new Hd(ma,Na)}evaluate(w){if("boolean"===this.type.kind)return!!this.args[0].evaluate(w);if("color"===this.type.kind){for(const hb of this.args){var S=
hb.evaluate(w);var ma=null;if(S instanceof Oe)return S;if("string"===typeof S){var Na=w.parseColor(S);if(Na)return Na}else if(Array.isArray(S)&&(ma=3>S.length||4<S.length?`Invalid rbga value ${JSON.stringify(S)}: expected an array containing either three or four numeric values.`:K(S[0],S[1],S[2],S[3]),!ma))return new Oe(S[0]/255,S[1]/255,S[2]/255,S[3])}throw new Sb(ma||`Could not parse color from value '${"string"===typeof S?S:String(JSON.stringify(S))}'`);}if("number"===this.type.kind){S=null;for(Na of this.args){S=
Na.evaluate(w);if(null===S)return 0;ma=Number(S);if(!isNaN(ma))return ma}throw new Sb(`Could not convert ${JSON.stringify(S)} to number.`);}return"formatted"===this.type.kind?Ka.fromString(U(this.args[0].evaluate(w))):"resolvedImage"===this.type.kind?vb.fromString(U(this.args[0].evaluate(w))):U(this.args[0].evaluate(w))}eachChild(w){this.args.forEach(w)}outputDefined(){return this.args.every(w=>w.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new id([{content:this.args[0],scale:null,
font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Sc(this.args[0])).serialize();const w=[`to-${this.type.kind}`];this.eachChild(S=>{w.push(S.serialize())});return w}}const he=["Unknown","Point","LineString","Polygon"];class ie{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?
"number"===typeof this.feature.type?he[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(w){let S=this._parseColorCache[w];S||(S=this._parseColorCache[w]=Oe.parse(w));return S}}class Pd{constructor(w,S,ma,Na){this.name=w;this.type=S;this._evaluate=ma;this.args=Na}evaluate(w){return this._evaluate(w,this.args)}eachChild(w){this.args.forEach(w)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(w=>
w.serialize()))}static parse(w,S){var ma=w[0],Na=Pd.definitions[ma];if(!Na)return S.error(`Unknown expression "${ma}". If you wanted a literal array, use ["literal", [...]].`,0);var hb=Array.isArray(Na)?Na[0]:Na.type;Na=Array.isArray(Na)?[[Na[1],Na[2]]]:Na.overloads;var lb=Na.filter(([Oc])=>!Array.isArray(Oc)||Oc.length===w.length-1);let sb=null;for(const [Oc,ed]of lb){sb=new Je(S.registry,S.path,null,S.scope);const zd=[];var Qb=!1;for(var cc=1;cc<w.length;cc++){var Vb=w[cc];const qd=Array.isArray(Oc)?
Oc[cc-1]:Oc.type;Vb=sb.parse(Vb,1+zd.length,qd);if(!Vb){Qb=!0;break}zd.push(Vb)}if(!Qb)if(Array.isArray(Oc)&&Oc.length!==zd.length)sb.error(`Expected ${Oc.length} arguments, but found ${zd.length} instead.`);else{for(Qb=0;Qb<zd.length;Qb++)cc=Array.isArray(Oc)?Oc[Qb]:Oc.type,Vb=zd[Qb],sb.concat(Qb+1).checkSubtype(cc,Vb.type);if(0===sb.errors.length)return new Pd(ma,hb,ed,zd)}}if(1===lb.length)S.errors.push(...sb.errors);else{ma=(lb.length?lb:Na).map(([Oc])=>{Oc=Array.isArray(Oc)?`(${Oc.map(P).join(", ")})`:
`(${P(Oc.type)}...)`;return Oc}).join(" | ");hb=[];for(Na=1;Na<w.length;Na++){lb=S.parse(w[Na],1+hb.length);if(!lb)return null;hb.push(P(lb.type))}S.error(`Expected arguments of type ${ma}, but found (${hb.join(", ")}) instead.`)}return null}static register(w,S){Pd.definitions=S;for(const ma in S)w[ma]=Pd}}class Ne{constructor(w,S,ma){this.type=Ve;this.locale=ma;this.caseSensitive=w;this.diacriticSensitive=S}static parse(w,S){if(2!==w.length)return S.error("Expected one argument.");w=w[1];if("object"!==
typeof w||Array.isArray(w))return S.error("Collator options argument must be an object.");const ma=S.parse(void 0===w["case-sensitive"]?!1:w["case-sensitive"],1,kd);if(!ma)return null;const Na=S.parse(void 0===w["diacritic-sensitive"]?!1:w["diacritic-sensitive"],1,kd);if(!Na)return null;let hb=null;return w.locale&&(hb=S.parse(w.locale,1,Rd),!hb)?null:new Ne(ma,Na,hb)}evaluate(w){return new Nf(this.caseSensitive.evaluate(w),this.diacriticSensitive.evaluate(w),this.locale?this.locale.evaluate(w):null)}eachChild(w){w(this.caseSensitive);
w(this.diacriticSensitive);this.locale&&w(this.locale)}outputDefined(){return!1}serialize(){const w={};w["case-sensitive"]=this.caseSensitive.serialize();w["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(w.locale=this.locale.serialize());return["collator",w]}}class pe{constructor(w,S){this.type=kd;this.geojson=w;this.geometries=S}static parse(w,S){if(2!==w.length)return S.error(`'within' expression requires exactly one argument, but found ${w.length-1} instead.`);if(H(w[1]))if(w=
w[1],"FeatureCollection"===w.type)for(var ma=0;ma<w.features.length;++ma){const Na=w.features[ma].geometry.type;if("Polygon"===Na||"MultiPolygon"===Na)return new pe(w,w.features[ma].geometry)}else if("Feature"===w.type){if(ma=w.geometry.type,"Polygon"===ma||"MultiPolygon"===ma)return new pe(w,w.geometry)}else if("Polygon"===w.type||"MultiPolygon"===w.type)return new pe(w,w);return S.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(w){if(null!=
w.geometry()&&null!=w.canonicalID()){if("Point"===w.geometryType())return wa(w,this.geometries);if("LineString"===w.geometryType())return ua(w,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class He{constructor(w,S){this.type=S.type;this.name=w;this.boundExpression=S}static parse(w,S){if(2!==w.length||"string"!==typeof w[1])return S.error("'var' expression requires exactly one string literal argument.");w=w[1];return S.scope.has(w)?new He(w,
S.scope.get(w)):S.error(`Unknown variable "${w}". Make sure "${w}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(w){return this.boundExpression.evaluate(w)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Je{constructor(w,S=[],ma,Na=new Nd,hb=[]){this.registry=w;this.path=S;this.key=S.map(lb=>`[${lb}]`).join("");this.scope=Na;this.errors=hb;this.expectedType=ma}parse(w,S,ma,Na,hb={}){return S?this.concat(S,ma,Na)._parse(w,hb):this._parse(w,
hb)}_parse(w,S){function ma(lb,sb,Qb){return"assert"===Qb?new lc(sb,[lb]):"coerce"===Qb?new Hd(sb,[lb]):lb}if(null===w||"string"===typeof w||"boolean"===typeof w||"number"===typeof w)w=["literal",w];if(Array.isArray(w)){if(0===w.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Na=w[0];if("string"!==typeof Na)return this.error(`Expression name must be a string, but found ${typeof Na} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var hb=this.registry[Na];if(hb){w=hb.parse(w,this);if(!w)return null;if(this.expectedType)if(Na=this.expectedType,hb=w.type,("string"===Na.kind||"number"===Na.kind||"boolean"===Na.kind||"object"===Na.kind||"array"===Na.kind)&&"value"===hb.kind)w=ma(w,Na,S.typeAnnotation||"assert");else if(!("color"!==Na.kind&&"formatted"!==Na.kind&&"resolvedImage"!==Na.kind||"value"!==hb.kind&&"string"!==hb.kind))w=ma(w,Na,S.typeAnnotation||"coerce");else if(this.checkSubtype(Na,hb))return null;if(!(w instanceof
Xb)&&"resolvedImage"!==w.type.kind&&ta(w)){S=new ie;try{w=new Xb(w.type,w.evaluate(S))}catch(lb){return this.error(lb.message),null}}return w}return this.error(`Unknown expression "${Na}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof w?this.error("'undefined' value invalid. Use null instead."):"object"===typeof w?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof w} instead.`)}concat(w,S,ma){w=
"number"===typeof w?this.path.concat(w):this.path;ma=ma?this.scope.concat(ma):this.scope;return new Je(this.registry,w,S||null,ma,this.errors)}error(w,...S){S=`${this.key}${S.map(ma=>`[${ma}]`).join("")}`;this.errors.push(new Ld(S,w))}checkSubtype(w,S){(w=L(w,S))&&this.error(w);return w}}class Le{constructor(w,S,ma){this.type=w;this.input=S;this.labels=[];this.outputs=[];for(const [Na,hb]of ma)this.labels.push(Na),this.outputs.push(hb)}static parse(w,S){if(4>w.length-1)return S.error(`Expected at least 4 arguments, but found only ${w.length-
1}.`);if(0!==(w.length-1)%2)return S.error("Expected an even number of arguments.");const ma=S.parse(w[1],1,od);if(!ma)return null;const Na=[];let hb=null;S.expectedType&&"value"!==S.expectedType.kind&&(hb=S.expectedType);for(let sb=1;sb<w.length;sb+=2){const Qb=1===sb?-Infinity:w[sb];var lb=w[sb+1];const cc=sb,Vb=sb+1;if("number"!==typeof Qb)return S.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',cc);
if(Na.length&&Na[Na.length-1][0]>=Qb)return S.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',cc);lb=S.parse(lb,Vb,hb);if(!lb)return null;hb=hb||lb.type;Na.push([Qb,lb])}return new Le(hb,ma,Na)}evaluate(w){var S=this.labels;const ma=this.outputs;if(1===S.length)return ma[0].evaluate(w);const Na=this.input.evaluate(w);if(Na<=S[0])return ma[0].evaluate(w);const hb=S.length;if(Na>=S[hb-1])return ma[hb-1].evaluate(w);S=Ta(S,Na);return ma[S].evaluate(w)}eachChild(w){w(this.input);
for(const S of this.outputs)w(S)}outputDefined(){return this.outputs.every(w=>w.outputDefined())}serialize(){const w=["step",this.input.serialize()];for(let S=0;S<this.labels.length;S++)0<S&&w.push(this.labels[S]),w.push(this.outputs[S].serialize());return w}}Xa.prototype.sampleCurveX=function(w){return((this.ax*w+this.bx)*w+this.cx)*w};Xa.prototype.sampleCurveY=function(w){return((this.ay*w+this.by)*w+this.cy)*w};Xa.prototype.sampleCurveDerivativeX=function(w){return(3*this.ax*w+2*this.bx)*w+this.cx};
Xa.prototype.solveCurveX=function(w,S){"undefined"===typeof S&&(S=1E-6);var ma;var Na=w;for(ma=0;8>ma;ma++){var hb=this.sampleCurveX(Na)-w;if(Math.abs(hb)<S)return Na;var lb=this.sampleCurveDerivativeX(Na);if(1E-6>Math.abs(lb))break;Na-=hb/lb}ma=0;lb=1;Na=w;if(Na<ma)return ma;if(Na>lb)return lb;for(;ma<lb;){hb=this.sampleCurveX(Na);if(Math.abs(hb-w)<S)break;w>hb?ma=Na:lb=Na;Na=.5*(lb-ma)+ma}return Na};Xa.prototype.solve=function(w,S){return this.sampleCurveY(this.solveCurveX(w,S))};var Of=Object.freeze({__proto__:null,
number:Fa,color:function(w,S,ma){return new Oe(Fa(w.r,S.r,ma),Fa(w.g,S.g,ma),Fa(w.b,S.b,ma),Fa(w.a,S.a,ma))},array:function(w,S,ma){return w.map((Na,hb)=>Fa(Na,S[hb],ma))}});const Te=4/29,uf=6/29,Bf=3*uf*uf,Ag=uf*uf*uf,Rf=Math.PI/180,jg=180/Math.PI,xa={forward:ea,reverse:ra,interpolate:function(w,S,ma){return{l:Fa(w.l,S.l,ma),a:Fa(w.a,S.a,ma),b:Fa(w.b,S.b,ma),alpha:Fa(w.alpha,S.alpha,ma)}}},za={forward:function(w){const {l:S,a:ma,b:Na}=ea(w),hb=Math.atan2(Na,ma)*jg;return{h:0>hb?hb+360:hb,c:Math.sqrt(ma*
ma+Na*Na),l:S,alpha:w.a}},reverse:function(w){const S=w.h*Rf,ma=w.c;return ra({l:w.l,a:Math.cos(S)*ma,b:Math.sin(S)*ma,alpha:w.alpha})},interpolate:function(w,S,ma){{var Na=w.h;const hb=S.h-Na;Na+=ma*(180<hb||-180>hb?hb-360*Math.round(hb/360):hb)}return{h:Na,c:Fa(w.c,S.c,ma),l:Fa(w.l,S.l,ma),alpha:Fa(w.alpha,S.alpha,ma)}}};var Oa=Object.freeze({__proto__:null,lab:xa,hcl:za});class Sa{constructor(w,S,ma,Na,hb){this.type=w;this.operator=S;this.interpolation=ma;this.input=Na;this.labels=[];this.outputs=
[];for(const [lb,sb]of hb)this.labels.push(lb),this.outputs.push(sb)}static interpolationFactor(w,S,ma,Na){let hb=0;"exponential"===w.name?hb=qa(S,w.base,ma,Na):"linear"===w.name?hb=qa(S,1,ma,Na):"cubic-bezier"===w.name&&(w=w.controlPoints,hb=(new Xa(w[0],w[1],w[2],w[3])).solve(qa(S,1,ma,Na)));return hb}static parse(w,S){let [ma,Na,hb,...lb]=w;if(!Array.isArray(Na)||0===Na.length)return S.error("Expected an interpolation type expression.",1);if("linear"===Na[0])Na={name:"linear"};else if("exponential"===
Na[0]){var sb=Na[1];if("number"!==typeof sb)return S.error("Exponential interpolation requires a numeric base.",1,1);Na={name:"exponential",base:sb}}else if("cubic-bezier"===Na[0]){sb=Na.slice(1);if(4!==sb.length||sb.some(cc=>"number"!==typeof cc||0>cc||1<cc))return S.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Na={name:"cubic-bezier",controlPoints:sb}}else return S.error(`Unknown interpolation type ${String(Na[0])}`,1,0);if(4>w.length-1)return S.error(`Expected at least 4 arguments, but found only ${w.length-
1}.`);if(0!==(w.length-1)%2)return S.error("Expected an even number of arguments.");hb=S.parse(hb,2,od);if(!hb)return null;w=[];sb=null;"interpolate-hcl"===ma||"interpolate-lab"===ma?sb=lf:S.expectedType&&"value"!==S.expectedType.kind&&(sb=S.expectedType);for(let cc=0;cc<lb.length;cc+=2){const Vb=lb[cc];var Qb=lb[cc+1];const Oc=cc+3,ed=cc+4;if("number"!==typeof Vb)return S.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Oc);if(w.length&&w[w.length-1][0]>=Vb)return S.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Oc);Qb=S.parse(Qb,ed,sb);if(!Qb)return null;sb=sb||Qb.type;w.push([Vb,Qb])}return"number"===sb.kind||"color"===sb.kind||"array"===sb.kind&&"number"===sb.itemType.kind&&"number"===typeof sb.N?new Sa(sb,ma,Na,hb,w):S.error(`Type ${P(sb)} is not interpolatable.`)}evaluate(w){var S=this.labels;const ma=this.outputs;if(1===S.length)return ma[0].evaluate(w);
var Na=this.input.evaluate(w);if(Na<=S[0])return ma[0].evaluate(w);var hb=S.length;if(Na>=S[hb-1])return ma[hb-1].evaluate(w);hb=Ta(S,Na);S=Sa.interpolationFactor(this.interpolation,Na,S[hb],S[hb+1]);Na=ma[hb].evaluate(w);w=ma[hb+1].evaluate(w);return"interpolate"===this.operator?Of[this.type.kind.toLowerCase()](Na,w,S):"interpolate-hcl"===this.operator?za.reverse(za.interpolate(za.forward(Na),za.forward(w),S)):xa.reverse(xa.interpolate(xa.forward(Na),xa.forward(w),S))}eachChild(w){w(this.input);
for(const S of this.outputs)w(S)}outputDefined(){return this.outputs.every(w=>w.outputDefined())}serialize(){var w="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);w=[this.operator,w,this.input.serialize()];for(let S=0;S<this.labels.length;S++)w.push(this.labels[S],this.outputs[S].serialize());return w}}class gb{constructor(w,
S){this.type=w;this.args=S}static parse(w,S){if(2>w.length)return S.error("Expectected at least one argument.");let ma=null;const Na=S.expectedType;Na&&"value"!==Na.kind&&(ma=Na);const hb=[];for(const lb of w.slice(1)){w=S.parse(lb,1+hb.length,ma,void 0,{typeAnnotation:"omit"});if(!w)return null;ma=ma||w.type;hb.push(w)}return Na&&hb.some(lb=>L(Na,lb.type))?new gb(ee,hb):new gb(ma,hb)}evaluate(w){let S=null,ma=0,Na;for(const hb of this.args)if(ma++,(S=hb.evaluate(w))&&S instanceof vb&&!S.available&&
(Na||(Na=S.name),S=null,ma===this.args.length&&(S=Na)),null!==S)break;return S}eachChild(w){this.args.forEach(w)}outputDefined(){return this.args.every(w=>w.outputDefined())}serialize(){const w=["coalesce"];this.eachChild(S=>{w.push(S.serialize())});return w}}class ib{constructor(w,S){this.type=S.type;this.bindings=[].concat(w);this.result=S}evaluate(w){return this.result.evaluate(w)}eachChild(w){for(const S of this.bindings)w(S[1]);w(this.result)}static parse(w,S){if(4>w.length)return S.error(`Expected at least 3 arguments, but found ${w.length-
1} instead.`);const ma=[];for(let Na=1;Na<w.length-1;Na+=2){const hb=w[Na];if("string"!==typeof hb)return S.error(`Expected string, but found ${typeof hb} instead.`,Na);if(/[^a-zA-Z0-9_]/.test(hb))return S.error("Variable names must contain only alphanumeric characters or '_'.",Na);const lb=S.parse(w[Na+1],Na+1);if(!lb)return null;ma.push([hb,lb])}return(w=S.parse(w[w.length-1],w.length-1,S.expectedType,ma))?new ib(ma,w):null}outputDefined(){return this.result.outputDefined()}serialize(){const w=
["let"];for(const [S,ma]of this.bindings)w.push(S,ma.serialize());w.push(this.result.serialize());return w}}class rb{constructor(w,S,ma){this.type=w;this.index=S;this.input=ma}static parse(w,S){if(3!==w.length)return S.error(`Expected 2 arguments, but found ${w.length-1} instead.`);const ma=S.parse(w[1],1,od);w=S.parse(w[2],2,D(S.expectedType||ee));return ma&&w?new rb(w.type.itemType,ma,w):null}evaluate(w){const S=this.index.evaluate(w);w=this.input.evaluate(w);if(0>S)throw new Sb(`Array index out of bounds: ${S} < 0.`);
if(S>=w.length)throw new Sb(`Array index out of bounds: ${S} > ${w.length-1}.`);if(S!==Math.floor(S))throw new Sb(`Array index must be an integer, but found ${S} instead.`);return w[S]}eachChild(w){w(this.index);w(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Eb{constructor(w,S){this.type=kd;this.needle=w;this.haystack=S}static parse(w,S){if(3!==w.length)return S.error(`Expected 2 arguments, but found ${w.length-1} instead.`);const ma=
S.parse(w[1],1,ee);w=S.parse(w[2],2,ee);return ma&&w?G(ma.type,[kd,Rd,od,Od,ee])?new Eb(ma,w):S.error(`Expected first argument to be of type boolean, string, number or null, but found ${P(ma.type)} instead`):null}evaluate(w){const S=this.needle.evaluate(w);w=this.haystack.evaluate(w);if(!w)return!1;if(!z(S,["boolean","string","number","null"]))throw new Sb(`Expected first argument to be of type boolean, string, number or null, but found ${P(R(S))} instead.`);if(!z(w,["string","array"]))throw new Sb(`Expected second argument to be of type array or string, but found ${P(R(w))} instead.`);
return 0<=w.indexOf(S)}eachChild(w){w(this.needle);w(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class zb{constructor(w,S,ma){this.type=od;this.needle=w;this.haystack=S;this.fromIndex=ma}static parse(w,S){if(2>=w.length||5<=w.length)return S.error(`Expected 3 or 4 arguments, but found ${w.length-1} instead.`);const ma=S.parse(w[1],1,ee),Na=S.parse(w[2],2,ee);return ma&&Na?G(ma.type,[kd,Rd,od,Od,ee])?4===w.length?(w=S.parse(w[3],
3,od))?new zb(ma,Na,w):null:new zb(ma,Na):S.error(`Expected first argument to be of type boolean, string, number or null, but found ${P(ma.type)} instead`):null}evaluate(w){const S=this.needle.evaluate(w),ma=this.haystack.evaluate(w);if(!z(S,["boolean","string","number","null"]))throw new Sb(`Expected first argument to be of type boolean, string, number or null, but found ${P(R(S))} instead.`);if(!z(ma,["string","array"]))throw new Sb(`Expected second argument to be of type array or string, but found ${P(R(ma))} instead.`);
return this.fromIndex?(w=this.fromIndex.evaluate(w),ma.indexOf(S,w)):ma.indexOf(S)}eachChild(w){w(this.needle);w(this.haystack);this.fromIndex&&w(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const w=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),w]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Mb{constructor(w,S,ma,Na,hb,lb){this.inputType=w;this.type=S;this.input=
ma;this.cases=Na;this.outputs=hb;this.otherwise=lb}static parse(w,S){if(5>w.length)return S.error(`Expected at least 4 arguments, but found only ${w.length-1}.`);if(1!==w.length%2)return S.error("Expected an even number of arguments.");let ma,Na;S.expectedType&&"value"!==S.expectedType.kind&&(Na=S.expectedType);const hb={},lb=[];for(var sb=2;sb<w.length-1;sb+=2){var Qb=w[sb];const cc=w[sb+1];Array.isArray(Qb)||(Qb=[Qb]);const Vb=S.concat(sb);if(0===Qb.length)return Vb.error("Expected at least one branch label.");
for(const Oc of Qb){if("number"!==typeof Oc&&"string"!==typeof Oc)return Vb.error("Branch labels must be numbers or strings.");if("number"===typeof Oc&&Math.abs(Oc)>Number.MAX_SAFE_INTEGER)return Vb.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Oc&&Math.floor(Oc)!==Oc)return Vb.error("Numeric branch labels must be integer values.");if(!ma)ma=R(Oc);else if(Vb.checkSubtype(ma,R(Oc)))return null;if("undefined"!==typeof hb[String(Oc)])return Vb.error("Branch labels must be unique.");
hb[String(Oc)]=lb.length}Qb=S.parse(cc,sb,Na);if(!Qb)return null;Na=Na||Qb.type;lb.push(Qb)}sb=S.parse(w[1],1,ee);if(!sb)return null;w=S.parse(w[w.length-1],w.length-1,Na);return!w||"value"!==sb.type.kind&&S.concat(1).checkSubtype(ma,sb.type)?null:new Mb(ma,Na,sb,hb,lb,w)}evaluate(w){const S=this.input.evaluate(w);return(R(S)===this.inputType&&this.outputs[this.cases[S]]||this.otherwise).evaluate(w)}eachChild(w){w(this.input);this.outputs.forEach(w);w(this.otherwise)}outputDefined(){return this.outputs.every(w=>
w.outputDefined())&&this.otherwise.outputDefined()}serialize(){const w=["match",this.input.serialize()];var S=Object.keys(this.cases).sort();const ma=[];var Na={};for(const hb of S)S=Na[this.cases[hb]],void 0===S?(Na[this.cases[hb]]=ma.length,ma.push([this.cases[hb],[hb]])):ma[S][1].push(hb);Na=hb=>"number"===this.inputType.kind?Number(hb):hb;for(const [hb,lb]of ma)1===lb.length?w.push(Na(lb[0])):w.push(lb.map(Na)),w.push(this.outputs[hb].serialize());w.push(this.otherwise.serialize());return w}}
class Lb{constructor(w,S,ma){this.type=w;this.branches=S;this.otherwise=ma}static parse(w,S){if(4>w.length)return S.error(`Expected at least 3 arguments, but found only ${w.length-1}.`);if(0!==w.length%2)return S.error("Expected an odd number of arguments.");let ma;S.expectedType&&"value"!==S.expectedType.kind&&(ma=S.expectedType);const Na=[];for(let hb=1;hb<w.length-1;hb+=2){const lb=S.parse(w[hb],hb,kd);if(!lb)return null;const sb=S.parse(w[hb+1],hb+1,ma);if(!sb)return null;Na.push([lb,sb]);ma=
ma||sb.type}return(w=S.parse(w[w.length-1],w.length-1,ma))?new Lb(ma,Na,w):null}evaluate(w){for(const [S,ma]of this.branches)if(S.evaluate(w))return ma.evaluate(w);return this.otherwise.evaluate(w)}eachChild(w){for(const [S,ma]of this.branches)w(S),w(ma);w(this.otherwise)}outputDefined(){return this.branches.every(([,w])=>w.outputDefined())&&this.otherwise.outputDefined()}serialize(){const w=["case"];this.eachChild(S=>{w.push(S.serialize())});return w}}class bc{constructor(w,S,ma,Na){this.type=w;
this.input=S;this.beginIndex=ma;this.endIndex=Na}static parse(w,S){if(2>=w.length||5<=w.length)return S.error(`Expected 3 or 4 arguments, but found ${w.length-1} instead.`);const ma=S.parse(w[1],1,ee),Na=S.parse(w[2],2,od);return ma&&Na?G(ma.type,[D(ee),Rd,ee])?4===w.length?(w=S.parse(w[3],3,od))?new bc(ma.type,ma,Na,w):null:new bc(ma.type,ma,Na):S.error(`Expected first argument to be of type array or string, but found ${P(ma.type)} instead`):null}evaluate(w){const S=this.input.evaluate(w),ma=this.beginIndex.evaluate(w);
if(!z(S,["string","array"]))throw new Sb(`Expected first argument to be of type array or string, but found ${P(R(S))} instead.`);return this.endIndex?(w=this.endIndex.evaluate(w),S.slice(ma,w)):S.slice(ma)}eachChild(w){w(this.input);w(this.beginIndex);this.endIndex&&w(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const w=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),w]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const sc=Pa("\x3d\x3d",function(w,S,ma){return S===ma},na),Y=Pa("!\x3d",function(w,S,ma){return S!==ma},function(w,S,ma,Na){return!na(w,S,ma,Na)}),pa=Pa("\x3c",function(w,S,ma){return S<ma},function(w,S,ma,Na){return 0>Na.compare(S,ma)}),Qa=Pa("\x3e",function(w,S,ma){return S>ma},function(w,S,ma,Na){return 0<Na.compare(S,ma)}),Va=Pa("\x3c\x3d",function(w,S,ma){return S<=ma},function(w,S,ma,Na){return 0>=Na.compare(S,ma)}),xb=Pa("\x3e\x3d",function(w,S,ma){return S>=ma},
function(w,S,ma,Na){return 0<=Na.compare(S,ma)});class Rb{constructor(w,S,ma,Na,hb){this.type=Rd;this.number=w;this.locale=S;this.currency=ma;this.minFractionDigits=Na;this.maxFractionDigits=hb}static parse(w,S){if(3!==w.length)return S.error("Expected two arguments.");const ma=S.parse(w[1],1,od);if(!ma)return null;w=w[2];if("object"!==typeof w||Array.isArray(w))return S.error("NumberFormat options argument must be an object.");let Na=null;if(w.locale&&(Na=S.parse(w.locale,1,Rd),!Na))return null;
let hb=null;if(w.currency&&(hb=S.parse(w.currency,1,Rd),!hb))return null;let lb=null;if(w["min-fraction-digits"]&&(lb=S.parse(w["min-fraction-digits"],1,od),!lb))return null;let sb=null;return w["max-fraction-digits"]&&(sb=S.parse(w["max-fraction-digits"],1,od),!sb)?null:new Rb(ma,Na,hb,lb,sb)}evaluate(w){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(w):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(w):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(w):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(w):void 0})).format(this.number.evaluate(w))}eachChild(w){w(this.number);this.locale&&w(this.locale);this.currency&&w(this.currency);this.minFractionDigits&&w(this.minFractionDigits);this.maxFractionDigits&&w(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const w={};this.locale&&(w.locale=this.locale.serialize());this.currency&&(w.currency=this.currency.serialize());
this.minFractionDigits&&(w["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(w["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),w]}}class Yb{constructor(w){this.type=od;this.input=w}static parse(w,S){return 2!==w.length?S.error(`Expected 1 argument, but found ${w.length-1} instead.`):(w=S.parse(w[1],1))?"array"!==w.type.kind&&"string"!==w.type.kind&&"value"!==w.type.kind?S.error(`Expected argument of type string or array, but found ${P(w.type)} instead.`):
new Yb(w):null}evaluate(w){w=this.input.evaluate(w);if("string"===typeof w||Array.isArray(w))return w.length;throw new Sb(`Expected value to be of type string or array, but found ${P(R(w))} instead.`);}eachChild(w){w(this.input)}outputDefined(){return!1}serialize(){const w=["length"];this.eachChild(S=>{w.push(S.serialize())});return w}}const oc={"\x3d\x3d":sc,"!\x3d":Y,"\x3e":Qa,"\x3c":pa,"\x3e\x3d":xb,"\x3c\x3d":Va,array:lc,at:rb,"boolean":lc,"case":Lb,coalesce:gb,collator:Ne,format:id,image:Sc,
"in":Eb,"index-of":zb,interpolate:Sa,"interpolate-hcl":Sa,"interpolate-lab":Sa,length:Yb,let:ib,literal:Xb,match:Mb,number:lc,"number-format":Rb,object:lc,slice:bc,step:Le,string:lc,"to-boolean":Hd,"to-color":Hd,"to-number":Hd,"to-string":Hd,"var":He,within:pe};Pd.register(oc,{error:[{kind:"error"},[Rd],(w,[S])=>{throw new Sb(S.evaluate(w));}],"typeof":[Rd,[ee],(w,[S])=>P(R(S.evaluate(w)))],"to-rgba":[D(od,4),[lf],(w,[S])=>S.evaluate(w).toArray()],rgb:[lf,[od,od,od],cb],rgba:[lf,[od,od,od,od],cb],
has:{type:kd,overloads:[[[Rd],(w,[S])=>{S=S.evaluate(w);w=w.properties();return S in w}],[[Rd,bf],(w,[S,ma])=>{S=S.evaluate(w);w=ma.evaluate(w);return S in w}]]},get:{type:ee,overloads:[[[Rd],(w,[S])=>ab(S.evaluate(w),w.properties())],[[Rd,bf],(w,[S,ma])=>ab(S.evaluate(w),ma.evaluate(w))]]},"feature-state":[ee,[Rd],(w,[S])=>ab(S.evaluate(w),w.featureState||{})],properties:[bf,[],w=>w.properties()],"geometry-type":[Rd,[],w=>w.geometryType()],id:[ee,[],w=>w.id()],zoom:[od,[],w=>w.globals.zoom],"heatmap-density":[od,
[],w=>w.globals.heatmapDensity||0],"line-progress":[od,[],w=>w.globals.lineProgress||0],"sky-radial-progress":[od,[],w=>w.globals.skyRadialProgress||0],accumulated:[ee,[],w=>void 0===w.globals.accumulated?null:w.globals.accumulated],"+":[od,{type:od},(w,S)=>{let ma=0;for(const Na of S)ma+=Na.evaluate(w);return ma}],"*":[od,{type:od},(w,S)=>{let ma=1;for(const Na of S)ma*=Na.evaluate(w);return ma}],"-":{type:od,overloads:[[[od,od],(w,[S,ma])=>S.evaluate(w)-ma.evaluate(w)],[[od],(w,[S])=>-S.evaluate(w)]]},
"/":[od,[od,od],(w,[S,ma])=>S.evaluate(w)/ma.evaluate(w)],"%":[od,[od,od],(w,[S,ma])=>S.evaluate(w)%ma.evaluate(w)],ln2:[od,[],()=>Math.LN2],pi:[od,[],()=>Math.PI],e:[od,[],()=>Math.E],"^":[od,[od,od],(w,[S,ma])=>Math.pow(S.evaluate(w),ma.evaluate(w))],sqrt:[od,[od],(w,[S])=>Math.sqrt(S.evaluate(w))],log10:[od,[od],(w,[S])=>Math.log(S.evaluate(w))/Math.LN10],ln:[od,[od],(w,[S])=>Math.log(S.evaluate(w))],log2:[od,[od],(w,[S])=>Math.log(S.evaluate(w))/Math.LN2],sin:[od,[od],(w,[S])=>Math.sin(S.evaluate(w))],
cos:[od,[od],(w,[S])=>Math.cos(S.evaluate(w))],tan:[od,[od],(w,[S])=>Math.tan(S.evaluate(w))],asin:[od,[od],(w,[S])=>Math.asin(S.evaluate(w))],acos:[od,[od],(w,[S])=>Math.acos(S.evaluate(w))],atan:[od,[od],(w,[S])=>Math.atan(S.evaluate(w))],min:[od,{type:od},(w,S)=>Math.min(...S.map(ma=>ma.evaluate(w)))],max:[od,{type:od},(w,S)=>Math.max(...S.map(ma=>ma.evaluate(w)))],abs:[od,[od],(w,[S])=>Math.abs(S.evaluate(w))],round:[od,[od],(w,[S])=>{w=S.evaluate(w);return 0>w?-Math.round(-w):Math.round(w)}],
floor:[od,[od],(w,[S])=>Math.floor(S.evaluate(w))],ceil:[od,[od],(w,[S])=>Math.ceil(S.evaluate(w))],"filter-\x3d\x3d":[kd,[Rd,ee],(w,[S,ma])=>w.properties()[S.value]===ma.value],"filter-id-\x3d\x3d":[kd,[ee],(w,[S])=>w.id()===S.value],"filter-type-\x3d\x3d":[kd,[Rd],(w,[S])=>w.geometryType()===S.value],"filter-\x3c":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===typeof ma&&w<ma}],"filter-id-\x3c":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w<
S}],"filter-\x3e":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===typeof ma&&w>ma}],"filter-id-\x3e":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w>S}],"filter-\x3c\x3d":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===typeof ma&&w<=ma}],"filter-id-\x3c\x3d":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w<=S}],"filter-\x3e\x3d":[kd,[Rd,ee],(w,[S,ma])=>{w=w.properties()[S.value];ma=ma.value;return typeof w===
typeof ma&&w>=ma}],"filter-id-\x3e\x3d":[kd,[ee],(w,[S])=>{w=w.id();S=S.value;return typeof w===typeof S&&w>=S}],"filter-has":[kd,[ee],(w,[S])=>S.value in w.properties()],"filter-has-id":[kd,[],w=>null!==w.id()&&void 0!==w.id()],"filter-type-in":[kd,[D(Rd)],(w,[S])=>0<=S.value.indexOf(w.geometryType())],"filter-id-in":[kd,[D(ee)],(w,[S])=>0<=S.value.indexOf(w.id())],"filter-in-small":[kd,[Rd,D(ee)],(w,[S,ma])=>0<=ma.value.indexOf(w.properties()[S.value])],"filter-in-large":[kd,[Rd,D(ee)],(w,[S,ma])=>
{a:{w=w.properties()[S.value];S=ma.value;var Na=0;for(ma=ma.value.length-1;Na<=ma;){const hb=Na+ma>>1;if(S[hb]===w){ma=!0;break a}S[hb]>w?ma=hb-1:Na=hb+1}ma=!1}return ma}],all:{type:kd,overloads:[[[kd,kd],(w,[S,ma])=>S.evaluate(w)&&ma.evaluate(w)],[{type:kd},(w,S)=>{for(const ma of S)if(!ma.evaluate(w))return!1;return!0}]]},any:{type:kd,overloads:[[[kd,kd],(w,[S,ma])=>S.evaluate(w)||ma.evaluate(w)],[{type:kd},(w,S)=>{for(const ma of S)if(ma.evaluate(w))return!0;return!1}]]},"!":[kd,[kd],(w,[S])=>
!S.evaluate(w)],"is-supported-script":[kd,[Rd],(w,[S])=>{const ma=w.globals&&w.globals.isSupportedScript;return ma?ma(S.evaluate(w)):!0}],upcase:[Rd,[Rd],(w,[S])=>S.evaluate(w).toUpperCase()],downcase:[Rd,[Rd],(w,[S])=>S.evaluate(w).toLowerCase()],concat:[Rd,{type:ee},(w,S)=>S.map(ma=>U(ma.evaluate(w))).join("")],"resolved-locale":[Rd,[Ve],(w,[S])=>S.evaluate(w).resolvedLocale()]});class Ec{constructor(w,S){this.expression=w;this._warningHistory={};this._evaluator=new ie;this._defaultValue=S?"color"===
S.type&&Gb(S.default)?new Oe(0,0,0,0):"color"===S.type?Oe.parse(S.default)||null:void 0===S.default?null:S.default:null;this._enumValues=S&&"enum"===S.type?S.values:null}evaluateWithoutErrorHandling(w,S,ma,Na,hb,lb){this._evaluator.globals=w;this._evaluator.feature=S;this._evaluator.featureState=ma;this._evaluator.canonical=Na;this._evaluator.availableImages=hb||null;this._evaluator.formattedSection=lb;return this.expression.evaluate(this._evaluator)}evaluate(w,S,ma,Na,hb,lb){this._evaluator.globals=
w;this._evaluator.feature=S||null;this._evaluator.featureState=ma||null;this._evaluator.canonical=Na;this._evaluator.availableImages=hb||null;this._evaluator.formattedSection=lb||null;try{const sb=this.expression.evaluate(this._evaluator);if(null===sb||void 0===sb||"number"===typeof sb&&sb!==sb)return this._defaultValue;if(this._enumValues&&!(sb in this._enumValues))throw new Sb(`Expected value to be one of ${Object.keys(this._enumValues).map(Qb=>JSON.stringify(Qb)).join(", ")}, but found ${JSON.stringify(sb)} instead.`);
return sb}catch(sb){return this._warningHistory[sb.message]||(this._warningHistory[sb.message]=!0,"undefined"!==typeof console&&console.warn(sb.message)),this._defaultValue}}}class dd{constructor(w,S){this.kind=w;this._styleExpression=S;this.isStateDependent="constant"!==w&&!$a(S.expression)}evaluateWithoutErrorHandling(w,S,ma,Na,hb,lb){return this._styleExpression.evaluateWithoutErrorHandling(w,S,ma,Na,hb,lb)}evaluate(w,S,ma,Na,hb,lb){return this._styleExpression.evaluate(w,S,ma,Na,hb,lb)}}class Yc{constructor(w,
S,ma,Na){this.kind=w;this.zoomStops=ma;this._styleExpression=S;this.isStateDependent="camera"!==w&&!$a(S.expression);this.interpolationType=Na}evaluateWithoutErrorHandling(w,S,ma,Na,hb,lb){return this._styleExpression.evaluateWithoutErrorHandling(w,S,ma,Na,hb,lb)}evaluate(w,S,ma,Na,hb,lb){return this._styleExpression.evaluate(w,S,ma,Na,hb,lb)}interpolationFactor(w,S,ma){return this.interpolationType?Sa.interpolationFactor(this.interpolationType,w,S,ma):0}}class Kd{constructor(w,S){this._parameters=
w;this._specification=S;C(this,kc(this._parameters,this._specification))}static deserialize(w){return new Kd(w._parameters,w._specification)}static serialize(w){return{_parameters:w._parameters,_specification:w._specification}}}const Ud={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var pd="type source source-layer minzoom maxzoom filter layout".split(" ");const Bd={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",
setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class jd{constructor(w,S,ma,Na){this.message=
(w?`${w}: `:"")+ma;Na&&(this.identifier=Na);null!==S&&void 0!==S&&S.__line__&&(this.line=S.__line__)}}class cf{constructor(w){this.error=w;this.message=w.message;this.line=(w=w.message.match(/line (\d+)/))?parseInt(w[1],10):0}}const Wa={promoteId:function({key:w,value:S}){if("string"===eb(S))return yf({key:w,value:S});{const ma=[];for(const Na in S)ma.push(...yf({key:`${w}.${Na}`,value:S[Na]}));return ma}}},ob={["*"](){return[]},array:Ed,"boolean":function(w){const S=w.value;w=w.key;const ma=eb(S);
return"boolean"!==ma?[new jd(w,S,`boolean expected, ${ma} found`)]:[]},number:Xd,color:function(w){const S=w.key;w=w.value;const ma=eb(w);return"string"!==ma?[new jd(S,w,`color expected, ${ma} found`)]:null===tf(w)?[new jd(S,w,`color expected, "${w}" found`)]:[]},constants:Zc,"enum":Ce,filter:me,"function":$d,layer:ge,object:Cd,source:Ue,light:of,terrain:le,string:yf,formatted:function(w){return 0===yf(w).length?[]:ae(w)},resolvedImage:function(w){return 0===yf(w).length?[]:ae(w)}};Ge.source=Zd(Ue);
Ge.light=Zd(of);Ge.terrain=Zd(le);Ge.layer=Zd(ge);Ge.filter=Zd(me);Ge.paintProperty=Zd(hf);Ge.layoutProperty=Zd(Vd);var Ab=O(function(w,S){var ma=function(){function Na(){this.yy={}}var hb=function(Jc,ud,de,Sd){de=de||{};for(Sd=Jc.length;Sd--;de[Jc[Sd]]=ud);return de},lb=[1,12],sb=[1,13],Qb=[1,9],cc=[1,10],Vb=[1,11],Oc=[1,14],ed=[1,15],zd=[14,18,22,24],qd=[18,22],ad=[22,24];hb={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,
TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Jc,ud,
de,Sd,ve,ne,Tf){ud=ne.length-1;switch(ve){case 1:this.$=new String(Jc.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Jc);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;
case 6:return this.$=ne[ud-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=ne[ud-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[ne[ud-2],ne[ud]];break;case 16:this.$={};this.$[ne[ud][0]]=ne[ud][1];break;case 17:this.$=ne[ud-2];ne[ud-2][ne[ud][0]]=ne[ud][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});
break;case 20:this.$=[ne[ud]];break;case 21:this.$=ne[ud-2],ne[ud-2].push(ne[ud])}},table:[{3:5,4:lb,5:6,6:sb,7:3,8:Qb,9:4,10:cc,11:Vb,12:1,13:2,15:7,16:8,17:Oc,23:ed},{1:[3]},{14:[1,16]},hb(zd,[2,7]),hb(zd,[2,8]),hb(zd,[2,9]),hb(zd,[2,10]),hb(zd,[2,11]),hb(zd,[2,12]),hb(zd,[2,3]),hb(zd,[2,4]),hb(zd,[2,5]),hb([14,18,21,22,24],[2,1]),hb(zd,[2,2]),{3:20,4:lb,18:[1,17],19:18,20:19},{3:5,4:lb,5:6,6:sb,7:3,8:Qb,9:4,10:cc,11:Vb,13:23,15:7,16:8,17:Oc,23:ed,24:[1,21],25:22},{1:[2,6]},hb(zd,[2,13]),{18:[1,
24],22:[1,25]},hb(qd,[2,16]),{21:[1,26]},hb(zd,[2,18]),{22:[1,28],24:[1,27]},hb(ad,[2,20]),hb(zd,[2,14]),{3:20,4:lb,20:29},{3:5,4:lb,5:6,6:sb,7:3,8:Qb,9:4,10:cc,11:Vb,13:30,15:7,16:8,17:Oc,23:ed},hb(zd,[2,19]),{3:5,4:lb,5:6,6:sb,7:3,8:Qb,9:4,10:cc,11:Vb,13:31,15:7,16:8,17:Oc,23:ed},hb(qd,[2,17]),hb(qd,[2,15]),hb(ad,[2,21])],defaultActions:{16:[2,6]},parseError:function(Jc,ud){if(ud.recoverable)this.trace(Jc);else throw Error(Jc);},parse:function(Jc){var ud=[0],de=[null],Sd=[],ve=this.table,ne="",
Tf=0,se=0,te=Sd.slice.call(arguments,1),Be=Object.create(this.lexer),wd={};for(We in this.yy)Object.prototype.hasOwnProperty.call(this.yy,We)&&(wd[We]=this.yy[We]);Be.setInput(Jc,wd);wd.lexer=Be;wd.parser=this;"undefined"==typeof Be.yylloc&&(Be.yylloc={});var We=Be.yylloc;Sd.push(We);var Kf=Be.options&&Be.options.ranges;this.parseError="function"===typeof wd.parseError?wd.parseError:Object.getPrototypeOf(this).parseError;for(var jf,Cf,xf,Af={},Uf,Zf;;){Cf=ud[ud.length-1];if(this.defaultActions[Cf])xf=
this.defaultActions[Cf];else{if(null===jf||"undefined"==typeof jf)jf=Be.lex()||1,"number"!==typeof jf&&(jf=this.symbols_[jf]||jf);xf=ve[Cf]&&ve[Cf][jf]}if("undefined"===typeof xf||!xf.length||!xf[0]){Zf=[];for(Uf in ve[Cf])this.terminals_[Uf]&&2<Uf&&Zf.push("'"+this.terminals_[Uf]+"'");var Ug=Be.showPosition?"Parse error on line "+(Tf+1)+":\n"+Be.showPosition()+"\nExpecting "+Zf.join(", ")+", got '"+(this.terminals_[jf]||jf)+"'":"Parse error on line "+(Tf+1)+": Unexpected "+(1==jf?"end of input":
"'"+(this.terminals_[jf]||jf)+"'");this.parseError(Ug,{text:Be.match,token:this.terminals_[jf]||jf,line:Be.yylineno,loc:We,expected:Zf})}if(xf[0]instanceof Array&&1<xf.length)throw Error("Parse Error: multiple actions possible at state: "+Cf+", token: "+jf);switch(xf[0]){case 1:ud.push(jf);de.push(Be.yytext);Sd.push(Be.yylloc);ud.push(xf[1]);jf=null;se=Be.yyleng;ne=Be.yytext;Tf=Be.yylineno;We=Be.yylloc;break;case 2:Zf=this.productions_[xf[1]][1];Af.$=de[de.length-Zf];Af._$={first_line:Sd[Sd.length-
(Zf||1)].first_line,last_line:Sd[Sd.length-1].last_line,first_column:Sd[Sd.length-(Zf||1)].first_column,last_column:Sd[Sd.length-1].last_column};Kf&&(Af._$.range=[Sd[Sd.length-(Zf||1)].range[0],Sd[Sd.length-1].range[1]]);Cf=this.performAction.apply(Af,[ne,se,Tf,wd,xf[1],de,Sd].concat(te));if("undefined"!==typeof Cf)return Cf;Zf&&(ud=ud.slice(0,-2*Zf),de=de.slice(0,-1*Zf),Sd=Sd.slice(0,-1*Zf));ud.push(this.productions_[xf[1]][0]);de.push(Af.$);Sd.push(Af._$);xf=ve[ud[ud.length-2]][ud[ud.length-1]];
ud.push(xf);break;case 3:return!0}}}};lb=function(){return{EOF:1,parseError:function(Jc,ud){if(this.yy.parser)this.yy.parser.parseError(Jc,ud);else throw Error(Jc);},setInput:function(Jc,ud){this.yy=ud||this.yy||{};this._input=Jc;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var Jc=this._input[0];this.yytext+=Jc;this.yyleng++;this.offset++;this.match+=Jc;this.matched+=Jc;Jc.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return Jc},unput:function(Jc){var ud=Jc.length,de=Jc.split(/(?:\r\n?|\n)/g);this._input=Jc+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-ud);this.offset-=ud;Jc=this.match.split(/(?:\r\n?|\n)/g);this.match=
this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);de.length-1&&(this.yylineno-=de.length-1);var Sd=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:de?(de.length===Jc.length?this.yylloc.first_column:0)+Jc[Jc.length-de.length].length-de[0].length:this.yylloc.first_column-ud};this.options.ranges&&(this.yylloc.range=[Sd[0],Sd[0]+this.yyleng-ud]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Jc){this.unput(this.match.slice(Jc))},pastInput:function(){var Jc=this.matched.substr(0,
this.matched.length-this.match.length);return(20<Jc.length?"...":"")+Jc.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Jc=this.match;20>Jc.length&&(Jc+=this._input.substr(0,20-Jc.length));return(Jc.substr(0,20)+(20<Jc.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Jc=this.pastInput(),ud=Array(Jc.length+1).join("-");return Jc+this.upcomingInput()+"\n"+ud+"^"},test_match:function(Jc,ud){var de;if(this.options.backtrack_lexer){var Sd={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Sd.yylloc.range=this.yylloc.range.slice(0))}if(de=Jc[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=de.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:de?de[de.length-1].length-de[de.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Jc[0].length};this.yytext+=Jc[0];this.match+=Jc[0];this.matches=Jc;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Jc[0].length);this.matched+=Jc[0];Jc=this.performAction.call(this,this.yy,this,ud,this.conditionStack[this.conditionStack.length-
1]);this.done&&this._input&&(this.done=!1);if(Jc)return Jc;if(this._backtrack)for(var ve in Sd)this[ve]=Sd[ve];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Jc;this._more||(this.match=this.yytext="");for(var ud=this._currentRules(),de=0;de<ud.length;de++)if((Jc=this._input.match(this.rules[ud[de]]))&&(!Sd||Jc[0].length>Sd[0].length)){var Sd=Jc;var ve=de;if(this.options.backtrack_lexer){Sd=this.test_match(Jc,ud[de]);if(!1!==Sd)return Sd;if(this._backtrack)Sd=
!1;else return!1}else if(!this.options.flex)break}return Sd?(Sd=this.test_match(Sd,ud[ve]),!1!==Sd?Sd:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Jc=this.next();return Jc?Jc:this.lex()},begin:function(Jc){this.conditionStack.push(Jc)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&
this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Jc){Jc=this.conditionStack.length-1-Math.abs(Jc||0);return 0<=Jc?this.conditionStack[Jc]:"INITIAL"},pushState:function(Jc){this.begin(Jc)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Jc,ud,de,Sd){switch(de){case 1:return 6;case 2:return ud.yytext=ud.yytext.substr(1,ud.yyleng-2),
4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,
2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();hb.lexer=lb;Na.prototype=hb;hb.Parser=Na;return new Na}();"undefined"!==typeof E&&(S.parser=ma,S.Parser=ma.Parser,S.parse=function(){return ma.parse.apply(ma,arguments)})});const Nb={StyleExpression:Ec,isExpression:pc,isExpressionFilter:Gd,createExpression:Cc,createPropertyExpression:nc,normalizePropertyExpression:function(w,S){if(Gb(w))return new Kd(w,S);if(pc(w)){w=nc(w,S);if("error"===w.result)throw Error(w.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));
return w.value}{let ma=w;"string"===typeof w&&"color"===S.type&&(ma=Oe.parse(w));return{kind:"constant",evaluate:()=>ma}}},ZoomConstantExpression:dd,ZoomDependentExpression:Yc,StylePropertyFunction:Kd},$b={convertFunction:Kc,createFunction:kc,isFunction:Gb},Lc={eachSource:l,eachLayer:k,eachProperty:d};nf.parsed=nf;nf.latest=nf;m.Color=Oe;m.ParsingError=cf;m.ValidationError=jd;m.composite=function(w){const S=[],ma=[],Na=[];for(const sb in w.sources){var hb=w.sources[sb];"vector"===hb.type&&(hb=/^mapbox:\/\/(.*)/.exec(hb.url))&&
(S.push(sb),ma.push(hb[1]))}if(2>S.length)return w;S.forEach(sb=>{delete w.sources[sb]});const lb=ma.join(",");w.sources[lb]={type:"vector",url:`mapbox://${lb}`};w.layers.forEach(sb=>{if(0<=S.indexOf(sb.source)&&(sb.source=lb,"source-layer"in sb)){if(0<=Na.indexOf(sb["source-layer"]))throw Error("Conflicting source layer names");Na.push(sb["source-layer"])}});return w};m.convertFilter=Ac;m.derefLayers=function(w){w=w.slice();const S=Object.create(null);for(var ma=0;ma<w.length;ma++)S[w[ma].id]=w[ma];
for(ma=0;ma<w.length;ma++)"ref"in w[ma]&&(w[ma]=zc(w[ma],S[w[ma].ref]));return w};m.diff=function(w,S){if(!w)return[{command:Bd.setStyle,args:[S]}];let ma=[];try{if(!Dc(w.version,S.version))return[{command:Bd.setStyle,args:[S]}];Dc(w.center,S.center)||ma.push({command:Bd.setCenter,args:[S.center]});Dc(w.zoom,S.zoom)||ma.push({command:Bd.setZoom,args:[S.zoom]});Dc(w.bearing,S.bearing)||ma.push({command:Bd.setBearing,args:[S.bearing]});Dc(w.pitch,S.pitch)||ma.push({command:Bd.setPitch,args:[S.pitch]});
Dc(w.sprite,S.sprite)||ma.push({command:Bd.setSprite,args:[S.sprite]});Dc(w.glyphs,S.glyphs)||ma.push({command:Bd.setGlyphs,args:[S.glyphs]});Dc(w.transition,S.transition)||ma.push({command:Bd.setTransition,args:[S.transition]});Dc(w.light,S.light)||ma.push({command:Bd.setLight,args:[S.light]});const Na={},hb=[];Wc(w.sources,S.sources,hb,Na);const lb=[];w.layers&&w.layers.forEach(Qb=>{Na[Qb.source]?ma.push({command:Bd.removeLayer,args:[Qb.id]}):lb.push(Qb)});let sb=w.terrain;sb&&Na[sb.source]&&(ma.push({command:Bd.setTerrain,
args:[void 0]}),sb=void 0);ma=ma.concat(hb);Dc(sb,S.terrain)||ma.push({command:Bd.setTerrain,args:[S.terrain]});uc(lb,S.layers,ma)}catch(Na){console.warn("Unable to compute style diff:",Na),ma=[{command:Bd.setStyle,args:[S]}]}return ma};m.expression=Nb;m.featureFilter=function(w){if(null===w||void 0===w)return{filter:()=>!0,needGeometry:!1};Gd(w)||(w=fb(w));const S=Cc(w,Ud);if("error"===S.result)throw Error(S.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));return{filter:(ma,Na,hb)=>S.value.evaluate(ma,
Na,{},hb),needGeometry:La(w)}};m.format=function(w,S=2){w=n(w,Ic.$root);w.layers&&(w.layers=w.layers.map(ma=>n(ma,Ic.layer)));return je(w,{indent:S})};m.function=$b;m.latest=Ic;m.migrate=function(w){let S=!1;7===w.version&&(w=A(w),S=!0);8===w.version&&(jc(w),S=!0);if(!S)throw Error("cannot migrate from",w.version);return w};m.v8=Ic;m.validate=nf;m.validateMapboxApiSupported=function(w){try{w=we(w)}catch(ma){return[ma]}let S=Ge(w,Ic).concat(Yf(w,Object.keys(Ic.$root)));w.sources&&(S=S.concat(Qe(w.sources)));
return S};m.visit=Lc;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[338]=function(Ja,B,qb,F){function g(k,d){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(k,d);var f=document.createElement("canvas");f.width=k;f.height=d;return f}function m(k,d){if(.05<=d){var f="";k=k.split("\n");d=y.slice(0,Math.round(d/.1));for(var a=0,e=k.length;a<e;++a)0<a&&(f+="\n"),f+=k[a].split("").join(d);return f}return k}function n(){v||(v=g(1,1).getContext("2d"));return v}function E(k,
d){return n().measureText(k).width+(k.length-1)*d}function O(k,d,f,a){if(-1!==k.indexOf("\n")){var e=k.split("\n");k=[];for(var p=0,A=e.length;p<A;++p)k.push(O(e[p],d,f,a));return k.join("\n")}e=f+","+d+","+k+","+a;p=l[e];if(!p){var C=k.split(" ");if(1<C.length){k=n();k.font=d;d=k.measureText("M").width*f;f="";k=[];p=0;for(A=C.length;p<A;++p){var D=C[p],P=f+(f?" ":"")+D;E(P,a)<=d?f=P:(f&&k.push(f),f=D)}f&&k.push(f);p=0;for(A=k.length;p<A&&1<A;++p)C=k[p],E(C,a)<.35*d&&(f=0<p?E(k[p-1],a):Infinity,D=
p<A-1?E(k[p+1],a):Infinity,k.splice(p,1),--A,f<D?(k[p-1]+=" "+C,--p):k[p]=C+" "+k[p]);p=0;for(A=k.length-1;p<A;++p)f=k[p],C=k[p+1],E(f,a)>.7*d&&E(C,a)<.6*d&&(f=f.split(" "),D=f.pop(),E(D,a)<.2*d&&(k[p]=f.join(" "),k[p+1]=D+" "+C),--A);p=k.join("\n")}else p=k;p=m(p,a);l[e]=p}return p}Object.defineProperty(F,"__esModule",{value:!0});F.deg2rad=function(k){return k*Math.PI/180};F.createCanvas=g;F.getZoomForResolution=function(k,d){for(var f=0,a=d.length;f<a;++f)if(d[f]<k&&f+1<a)return f+Math.log(d[f]/
k)/Math.log(d[f]/d[f+1]);return a-1};F.applyLetterSpacing=m;F.wrapText=O;F.defaultResolutions=F.assign=void 0;Ja=B(92);qb=function(k){return k&&k.__esModule?k:{"default":k}}(B(91));B=B(107);F.assign="function"===typeof Object.assign?Object.assign:function(k,d){if(void 0===k||null===k)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(k),a=1,e=arguments.length;a<e;++a){var p=arguments[a];if(void 0!==p&&null!==p)for(var A in p)p.hasOwnProperty(A)&&(f[A]=p[A])}return f};
var x=function(){for(var k=[],d=78271.51696402048;24>=k.length;d/=2)k.push(d);return k}();F.defaultResolutions=x;var y=Array(256).join(""),v,l={};B.labelCache&&(0,Ja.listen)(B.labelCache,qb["default"].CLEAR,function(){l={}})};
shadow$provide[339]=function(Ja,B,qb,F){function g(Z){return Z&&Z.__esModule?Z:{"default":Z}}function m(Z,Q,q,N,da){var aa=Z.id;R[aa]||(R[aa]={});aa=R[aa];if(!aa[q]){var wa=(Z[Q]||K)[q];Z=a.latest[Q+"_"+Z.type][q];void 0===wa&&(wa=Z["default"]);Q=D(wa);!Q&&A(wa)&&(wa=C(wa,Z),Q=!0);Q?(Z=z(wa,Z),aa[q]=Z.evaluate.bind(Z)):("color"==Z.type&&(wa=a.Color.parse(wa)),aa[q]=function(){return wa})}H.zoom=N;return aa[q](H,da)}function n(Z,Q,q,N){Z in ba||(ba[Z]=(0,a.featureFilter)(Q).filter);H.zoom=N;return ba[Z](H,
q)}function E(Z,Q){if(Z){if(0===Z.a||0===Q)return;var q=Z.a;return"rgba("+Math.round(255*Z.r/q)+","+Math.round(255*Z.g/q)+","+Math.round(255*Z.b/q)+","+q*(void 0===Q?1:Q)+")"}return Z}function O(Z,Q){var q;do(q=Z.match(fa))&&(Z=q[1]+(Q[q[2]]||"")+q[3]);while(q);return Z}Object.defineProperty(F,"__esModule",{value:!0});F._getValue=F.getValue=m;F.recordStyleLayer=function(Z){ja=Z};F["default"]=function(Z,Q,q,N,da,aa,wa){void 0===N&&(N=p.defaultResolutions);"string"==typeof Q&&(Q=JSON.parse(Q));if(8!=
Q.version)throw Error("glStyle version 8 required.");var ua,Ea;if(aa)if("undefined"!==typeof Image){var $a=new Image;$a.crossOrigin="anonymous";$a.onload=function(){ua=$a;Ea=[$a.width,$a.height];Z.changed();$a.onload=null};$a.src=aa}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var kb=self;kb.postMessage({action:"loadImage",src:aa});kb.addEventListener("message",function(cb){"imageLoaded"===cb.data.action&&cb.data.src===aa&&(ua=cb.data.image,Ea=[ua.width,ua.height])})}var ta=
(0,a.derefLayers)(Q.layers),Ta={};kb=[];for(var Xa,Fa=0,va=ta.length;Fa<va;++Fa){var V=ta[Fa],X=V.id;if("string"==typeof q&&V.source==q||-1!==q.indexOf(X)){var ca=V["source-layer"];if(!Xa){Xa=V.source;var ea=Q.sources[Xa];if(!ea)throw Error('Source "'+Xa+'" is not defined');ea=ea.type;if("vector"!==ea&&"geojson"!==ea)throw Error('Source "'+Xa+'" is not of type "vector" or "geojson", but "'+ea+'"');}(ea=Ta[ca])||(ea=Ta[ca]=[]);ea.push({layer:V,index:Fa});kb.push(X)}delete R[X];delete ba[X]}var ra=
new v["default"],qa=new y["default"],Ha={},na={},Pa=[];Q=function(cb,ab){var Ba=cb.getProperties(),Ga=Ta[Ba.layer];if(Ga){var oa=N.indexOf(ab);-1==oa&&(oa=(0,p.getZoomForResolution)(ab,N));var Ia=L[cb.getGeometry().getType()],Ua={properties:Ba,type:Ia},eb=-1,Gb,Tb=function(tc,Fc){var mb=Ga[tc];tc=mb.layer;Fc=tc.id;var dc=tc.layout||K,Bc=tc.paint||K;if("none"===dc.visibility||"minzoom"in tc&&oa<tc.minzoom||"maxzoom"in tc&&oa>=tc.maxzoom)return"continue";var pc=tc.filter;if(!pc||n(Fc,pc,Ua,oa)){Gb=
tc;var Cc=void 0,nc=pc=void 0,Uc=nc=void 0;Fc=void 0;mb=mb.index;if(3==Ia&&("fill"==tc.type||"fill-extrusion"==tc.type))if(pc=m(tc,"paint",tc.type+"-opacity",oa,Ua),tc.type+"-pattern"in Bc){if(nc=m(tc,"paint",tc.type+"-pattern",oa,Ua))if(Cc="string"===typeof nc?O(nc,Ba):nc.toString(),ua&&da&&da[Cc]){++eb;Fc=Pa[eb];if(!Fc||!Fc.getFill()||Fc.getStroke()||Fc.getText())Fc=Pa[eb]=new x["default"]({fill:new y["default"]});nc=Fc.getFill();Fc.setZIndex(mb);var Tc=Cc+"."+pc;Uc=na[Tc];if(!Uc){var Kc=da[Cc],
Fd=(0,p.createCanvas)(Kc.width,Kc.height),fe=Fd.getContext("2d");fe.globalAlpha=pc;fe.drawImage(ua,Kc.x,Kc.y,Kc.width,Kc.height,0,0,Kc.width,Kc.height);Uc=fe.createPattern(Fd,"repeat");na[Tc]=Uc}nc.setColor(Uc)}}else if(Cc=E(m(tc,"paint",tc.type+"-color",oa,Ua),pc))tc.type+"-outline-color"in Bc&&(Uc=E(m(tc,"paint",tc.type+"-outline-color",oa,Ua),pc)),Uc||(Uc=Cc),++eb,(Fc=Pa[eb])&&Fc.getFill()&&Fc.getStroke()&&!Fc.getText()||(Fc=Pa[eb]=new x["default"]({fill:new y["default"],stroke:new v["default"]})),
nc=Fc.getFill(),nc.setColor(Cc),nc=Fc.getStroke(),nc.setColor(Uc),nc.setWidth(1),Fc.setZIndex(mb);if(1!=Ia&&"line"==tc.type){Cc=!("line-pattern"in Bc)&&"line-color"in Bc?E(m(tc,"paint","line-color",oa,Ua),m(tc,"paint","line-opacity",oa,Ua)):void 0;var vd=m(tc,"paint","line-width",oa,Ua);if(Cc&&0<vd){++eb;Fc=Pa[eb];if(!Fc||!Fc.getStroke()||Fc.getFill()||Fc.getText())Fc=Pa[eb]=new x["default"]({stroke:new v["default"]});nc=Fc.getStroke();nc.setLineCap(m(tc,"layout","line-cap",oa,Ua));nc.setLineJoin(m(tc,
"layout","line-join",oa,Ua));nc.setMiterLimit(m(tc,"layout","line-miter-limit",oa,Ua));nc.setColor(Cc);nc.setWidth(vd);nc.setLineDash(Bc["line-dasharray"]?m(tc,"paint","line-dasharray",oa,Ua).map(function(Zb){return Zb*vd}):null);Fc.setZIndex(mb)}}Cc=!1;nc=null;var Rc=0;Uc=Kc=fe=void 0;if((1==Ia||2==Ia)&&"icon-image"in dc){var Yd=m(tc,"layout","icon-image",oa,Ua);if(Yd&&(fe="string"===typeof Yd?O(Yd,Ba):Yd.toString(),Yd=void 0,ua&&da&&da[fe])){Fd=m(tc,"layout","icon-rotation-alignment",oa,Ua);if(2==
Ia){var Pb=cb.getGeometry();if(Pb.getFlatMidpoint||Pb.getFlatMidpoints)if(Tc=Pb.getExtent(),150<Math.sqrt(Math.max(Math.pow((Tc[2]-Tc[0])/ab,2),Math.pow((Tc[3]-Tc[1])/ab,2)))){Tc="MultiLineString"===Pb.getType()?Pb.getFlatMidpoints():Pb.getFlatMidpoint();ka||(U=[NaN,NaN],ka=new f["default"]("Point",U,[],{},null));Yd=ka;U[0]=Tc[0];U[1]=Tc[1];var fc=m(tc,"layout","symbol-placement",oa,Ua);if("line"===fc&&"map"===Fd){fc=Pb.getStride();Pb=Pb.getFlatCoordinates();for(var Hb=0,yc=Pb.length-fc;Hb<yc;Hb+=
fc){var Vc=Pb[Hb],Gd=Pb[Hb+1],Wd=Pb[Hb+fc],La=Pb[Hb+fc+1],fb=Math.min(Gd,La),wb=Math.max(Vc,Wd),Ib=Math.max(Gd,La);if(Tc[0]>=Math.min(Vc,Wd)&&Tc[0]<=wb&&Tc[1]>=fb&&Tc[1]<=Ib){Rc=Math.atan2(Gd-La,Wd-Vc);break}}}}}if(2!==Ia||Yd){fc=m(tc,"layout","icon-size",oa,Ua);Pb=void 0!==Bc["icon-color"]?m(tc,"paint","icon-color",oa,Ua):null;if(!Pb||0!==Pb.a)if(Tc=fe+"."+fc,null!==Pb&&(Tc+="."+Pb),Kc=Ha[Tc],!Kc)if(Kc=da[fe],null!==Pb){Fd=(0,p.createCanvas)(Kc.width,Kc.height);fe=Fd.getContext("2d");fe.drawImage(ua,
Kc.x,Kc.y,Kc.width,Kc.height,0,0,Kc.width,Kc.height);Hb=fe.getImageData(0,0,Fd.width,Fd.height);yc=0;for(Vc=Hb.data.length;yc<Vc;yc+=4)Gd=Pb.a,0!==Gd&&(Hb.data[yc]=255*Pb.r/Gd,Hb.data[yc+1]=255*Pb.g/Gd,Hb.data[yc+2]=255*Pb.b/Gd),Hb.data[yc+3]=Gd;fe.putImageData(Hb,0,0);Kc=Ha[Tc]=new l["default"]({img:Fd,imgSize:[Fd.width,Fd.height],scale:fc/Kc.pixelRatio})}else Kc=Ha[Tc]=new l["default"]({img:ua,imgSize:Ea,size:[Kc.width,Kc.height],offset:[Kc.x,Kc.y],rotateWithView:"map"===Fd,scale:fc/Kc.pixelRatio});
if(Kc){++eb;Fc=Pa[eb];if(!Fc||!Fc.getImage()||Fc.getFill()||Fc.getStroke())Fc=Pa[eb]=new x["default"];Fc.setGeometry(Yd);Kc.setRotation(Rc+(0,p.deg2rad)(m(tc,"layout","icon-rotate",oa,Ua)));Kc.setOpacity(m(tc,"paint","icon-opacity",oa,Ua));Kc.setAnchor(G[m(tc,"layout","icon-anchor",oa,Ua)]);Fc.setImage(Kc);nc=Fc.getText();Fc.setText(void 0);Fc.setZIndex(mb);Cc=!0;Uc=!1}}else Uc=!0}}if(1==Ia&&"circle-radius"in Bc){++eb;Fc=Pa[eb];if(!Fc||!Fc.getImage()||Fc.getFill()||Fc.getStroke())Fc=Pa[eb]=new x["default"];
nc=m(tc,"paint","circle-radius",oa,Ua);Cc=E(m(tc,"paint","circle-stroke-color",oa,Ua),m(tc,"paint","circle-stroke-opacity",oa,Ua));Bc=E(m(tc,"paint","circle-color",oa,Ua),m(tc,"paint","circle-opacity",oa,Ua));Rc=m(tc,"paint","circle-stroke-width",oa,Ua);Yd=nc+"."+Cc+"."+Bc+"."+Rc;(Kc=Ha[Yd])||(Kc=Ha[Yd]=new d["default"]({radius:nc,stroke:Cc&&0<Rc?new v["default"]({width:Rc,color:Cc}):void 0,fill:Bc?new y["default"]({color:Bc}):void 0}));Fc.setImage(Kc);nc=Fc.getText();Fc.setText(void 0);Fc.setGeometry(void 0);
Fc.setZIndex(mb);Cc=!0}Rc=void 0;"text-field"in dc&&(pc=m(tc,"layout","text-field",oa,Ua).toString(),Rc=O(pc,Ba).trim(),pc=m(tc,"paint","text-opacity",oa,Ua));if(Rc&&pc&&!Uc){if(!Cc){++eb;Fc=Pa[eb];if(!Fc||!Fc.getText()||Fc.getFill()||Fc.getStroke())Fc=Pa[eb]=new x["default"];Fc.setImage(void 0);Fc.setGeometry(void 0)}Fc.getText()||Fc.setText(nc||new k["default"]({padding:[2,2,2,2]}));nc=Fc.getText();Bc=Math.round(m(tc,"layout","text-size",oa,Ua));Yd=m(tc,"layout","text-font",oa,Ua);Uc=m(tc,"layout",
"text-line-height",oa,Ua);Yd=(0,e["default"])(wa?wa(Yd):Yd,Bc,Uc);dc=dc["text-transform"];"uppercase"==dc?Rc=Rc.toUpperCase():"lowercase"==dc&&(Rc=Rc.toLowerCase());dc=m(tc,"layout","text-max-width",oa,Ua);Kc=m(tc,"layout","text-letter-spacing",oa,Ua);Tc=2==Ia?(0,p.applyLetterSpacing)(Rc,Kc):(0,p.wrapText)(Rc,Yd,dc,Kc);nc.setText(Tc);nc.setFont(Yd);nc.setRotation((0,p.deg2rad)(m(tc,"layout","text-rotate",oa,Ua)));Yd=m(tc,"layout","text-anchor",oa,Ua);fc=Cc||1==Ia?"point":m(tc,"layout","symbol-placement",
oa,Ua);nc.setPlacement(fc);dc=m(tc,"paint","text-halo-width",oa,Ua);Cc=m(tc,"layout","text-offset",oa,Ua);Kc=m(tc,"paint","text-translate",oa,Ua);fe=Fd=0;"point"==fc?(Rc="center",-1!==Yd.indexOf("left")?(Rc="left",fe=dc):-1!==Yd.indexOf("right")&&(Rc="right",fe=-dc),nc.setTextAlign(Rc),Rc=m(tc,"layout","text-rotation-alignment",oa,Ua),nc.setRotateWithView("map"==Rc)):(nc.setMaxAngle((0,p.deg2rad)(m(tc,"layout","text-max-angle",oa,Ua))*Rc.length/Tc.length),nc.setTextAlign(),nc.setRotateWithView(!1));
Rc="middle";0==Yd.indexOf("bottom")?(Rc="bottom",Fd=-dc-.5*(Uc-1)*Bc):0==Yd.indexOf("top")&&(Rc="top",Fd=dc+.5*(Uc-1)*Bc);nc.setTextBaseline(Rc);nc.setOffsetX(Cc[0]*Bc+fe+Kc[0]);nc.setOffsetY(Cc[1]*Bc+Fd+Kc[1]);qa.setColor(E(m(tc,"paint","text-color",oa,Ua),pc));nc.setFill(qa);(pc=E(m(tc,"paint","text-halo-color",oa,Ua),pc))?(ra.setColor(pc),dc*=2,pc=.5*Bc,ra.setWidth(dc<=pc?dc:pc),nc.setStroke(ra)):nc.setStroke(void 0);tc=m(tc,"layout","text-padding",oa,Ua);pc=nc.getPadding();tc!==pc[0]&&(pc[0]=
pc[1]=pc[2]=pc[3]=tc);Fc.setZIndex(mb)}}},kc=0,bd=Ga.length;for(;kc<bd;++kc)Tb(kc,bd);if(-1<eb)return Pa.length=eb+1,ja&&("function"===typeof cb.set?cb.set("mapbox-layer",Gb):cb.getProperties()["mapbox-layer"]=Gb),Pa}};Z.setStyle(Q);Z.set("mapbox-source",Xa);Z.set("mapbox-layers",kb);return Q};F._colorWithOpacity=E;F._evaluateFilter=n;F._fromTemplate=O;F._functionCache=F._filterCache=void 0;var x=g(B(209)),y=g(B(207)),v=g(B(208)),l=g(B(233)),k=g(B(234)),d=g(B(206)),f=g(B(331)),a=B(337),e=g(B(336)),
p=B(338),A=a["function"].isFunction,C=a["function"].convertFunction,D=a.expression.isExpression,P=a.expression.createPropertyExpression,L={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},G={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},z=function(Z,Q){Z=P(Z,Q);if("error"===Z.result)throw Error(Z.value.map(function(q){return q.key+": "+q.message}).join(", "));return Z.value},
K={},H={zoom:0},R={};F._functionCache=R;var U,ka,ba={};F._filterCache=ba;var fa=/^([^]*)\{(.*)\}([^]*)$/,ja=!1};
shadow$provide[340]=function(Ja,B,qb,F){(function(){qb.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return g},getLink:function(m){return"https://fonts.google.com/specimen/"+m.replace(/( )/g,"+")},normalizeName:function(m){return m}};var g="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[341]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}function m(x){return"string"===typeof x?(x=JSON.parse(x))?x:null:null!==x?x:null}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(255));var n=g(B(189)),E=B(77),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,
v){function l(){this.constructor=y}x(y,v);y.prototype=null===v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(){return x.call(this)||this}O(y,x);y.prototype.getType=function(){return n["default"].JSON};y.prototype.readFeature=function(v,l){return this.readFeatureFromObject(m(v),this.getReadOptions(v,l))};y.prototype.readFeatures=function(v,l){return this.readFeaturesFromObject(m(v),this.getReadOptions(v,l))};y.prototype.readFeatureFromObject=function(v,l){return(0,E["abstract"])()};
y.prototype.readFeaturesFromObject=function(v,l){return(0,E["abstract"])()};y.prototype.readGeometry=function(v,l){return this.readGeometryFromObject(m(v),this.getReadOptions(v,l))};y.prototype.readGeometryFromObject=function(v,l){return(0,E["abstract"])()};y.prototype.readProjection=function(v){return this.readProjectionFromObject(m(v))};y.prototype.readProjectionFromObject=function(v){return(0,E["abstract"])()};y.prototype.writeFeature=function(v,l){return JSON.stringify(this.writeFeatureObject(v,
l))};y.prototype.writeFeatureObject=function(v,l){return(0,E["abstract"])()};y.prototype.writeFeatures=function(v,l){return JSON.stringify(this.writeFeaturesObject(v,l))};y.prototype.writeFeaturesObject=function(v,l){return(0,E["abstract"])()};y.prototype.writeGeometry=function(v,l){return JSON.stringify(this.writeGeometryObject(v,l))};y.prototype.writeGeometryObject=function(v,l){return(0,E["abstract"])()};return y}(Ja["default"]);F["default"]=B};
shadow$provide[342]=function(Ja,B,qb,F){function g(L){return L&&L.__esModule?L:{"default":L}}function m(L,G){if(!L)return null;switch(L.type){case v["default"].POINT:L=new a["default"](L.coordinates);break;case v["default"].LINE_STRING:L=new l["default"](L.coordinates);break;case v["default"].POLYGON:L=new e["default"](L.coordinates);break;case v["default"].MULTI_POINT:L=new d["default"](L.coordinates);break;case v["default"].MULTI_LINE_STRING:L=new k["default"](L.coordinates);break;case v["default"].MULTI_POLYGON:L=
new f["default"](L.coordinates);break;case v["default"].GEOMETRY_COLLECTION:L=n(L);break;default:throw Error("Unsupported GeoJSON type: "+L.type);}return(0,D.transformGeometryWithOptions)(L,!1,G)}function n(L,G){L=L.geometries.map(function(z){return m(z,G)});return new y["default"](L)}function E(L,G){L=(0,D.transformGeometryWithOptions)(L,!0,G);var z=L.getType();switch(z){case v["default"].POINT:L={type:"Point",coordinates:L.getCoordinates()};break;case v["default"].LINE_STRING:L={type:"LineString",
coordinates:L.getCoordinates()};break;case v["default"].POLYGON:if(G)var K=G.rightHanded;L={type:"Polygon",coordinates:L.getCoordinates(K)};break;case v["default"].MULTI_POINT:L={type:"MultiPoint",coordinates:L.getCoordinates()};break;case v["default"].MULTI_LINE_STRING:L={type:"MultiLineString",coordinates:L.getCoordinates()};break;case v["default"].MULTI_POLYGON:if(G)var H=G.rightHanded;L={type:"MultiPolygon",coordinates:L.getCoordinates(H)};break;case v["default"].GEOMETRY_COLLECTION:L=O(L,G);
break;case v["default"].CIRCLE:L={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+z);}return L}function O(L,G){return{type:"GeometryCollection",geometries:L.getGeometriesArray().map(function(z){var K=(0,A.assign)({},G);delete K.featureProjection;return E(z,K)})}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;var x=g(B(193)),y=g(B(254)),v=g(B(122));Ja=g(B(341));var l=g(B(196)),k=g(B(197)),d=g(B(198)),f=g(B(200)),a=g(B(148)),e=g(B(155)),
p=B(79),A=B(89),C=B(133),D=B(255),P=function(){var L=function(G,z){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,H){K.__proto__=H}||function(K,H){for(var R in H)Object.prototype.hasOwnProperty.call(H,R)&&(K[R]=H[R])};return L(G,z)};return function(G,z){function K(){this.constructor=G}L(G,z);G.prototype=null===z?Object.create(z):(K.prototype=z.prototype,new K)}}();B=function(L){function G(z){var K=z?z:{};z=L.call(this)||this;z.dataProjection=(0,C.get)(K.dataProjection?K.dataProjection:
"EPSG:4326");K.featureProjection&&(z.defaultFeatureProjection=(0,C.get)(K.featureProjection));z.geometryName_=K.geometryName;z.extractGeometryName_=K.extractGeometryName;return z}P(G,L);G.prototype.readFeatureFromObject=function(z,K){z="Feature"===z.type?z:{type:"Feature",geometry:z,properties:null};K=m(z.geometry,K);var H=new x["default"];this.geometryName_?H.setGeometryName(this.geometryName_):this.extractGeometryName_&&H.setGeometryName(z.geometry_name);H.setGeometry(K);"id"in z&&H.setId(z.id);
z.properties&&H.setProperties(z.properties,!0);return H};G.prototype.readFeaturesFromObject=function(z,K){if("FeatureCollection"===z.type){var H=[];z=z.features;for(var R=0,U=z.length;R<U;++R)H.push(this.readFeatureFromObject(z[R],K))}else H=[this.readFeatureFromObject(z,K)];return H};G.prototype.readGeometryFromObject=function(z,K){return m(z,K)};G.prototype.readProjectionFromObject=function(z){z=z.crs;var K;z?"name"==z.type?K=(0,C.get)(z.properties.name):"EPSG"===z.type?K=(0,C.get)("EPSG:"+z.properties.code):
(0,p.assert)(!1,36):K=this.dataProjection;return K};G.prototype.writeFeatureObject=function(z,K){K=this.adaptOptions(K);var H={type:"Feature",geometry:null,properties:null},R=z.getId();void 0!==R&&(H.id=R);if(!z.hasProperties())return H;R=z.getProperties();var U=z.getGeometry();U&&(H.geometry=E(U,K),delete R[z.getGeometryName()]);(0,A.isEmpty)(R)||(H.properties=R);return H};G.prototype.writeFeaturesObject=function(z,K){K=this.adaptOptions(K);for(var H=[],R=0,U=z.length;R<U;++R)H.push(this.writeFeatureObject(z[R],
K));return{type:"FeatureCollection",features:H}};G.prototype.writeGeometryObject=function(z,K){return E(z,this.adaptOptions(K))};return G}(Ja["default"]);F["default"]=B};
shadow$provide[343]=function(Ja,B,qb,F){function g(){if("function"!==typeof WeakMap)return null;var Fa=new WeakMap;g=function(){return Fa};return Fa}function m(Fa){return Fa&&Fa.__esModule?Fa:{"default":Fa}}function n(Fa){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(va){return typeof va}:function(va){return va&&"function"===typeof Symbol&&va.constructor===Symbol&&va!==Symbol.prototype?"symbol":typeof va};return n(Fa)}function E(Fa){if(!Ea){Ea={};for(var va=document.styleSheets,
V=0,X=va.length;V<X;++V){var ca=va[V];try{var ea=ca.rules||ca.cssRules;if(ea){ca=0;for(var ra=ea.length;ca<ra;++ca){var qa=ea[ca];if(5==qa.type){var Ha=qa.cssText.match(wa);Ea[Ha[1].replace(ua,"")]=!0}}}}catch(na){}}}return Fa in Ea}function O(Fa){var va=Fa.toString();if(va in $a)return Fa;for(var V=Fa.map(function(qa){qa=(0,P["default"])(qa,1).split(" ");return[qa.slice(3).join(" ").replace(/"/g,""),qa[1]+qa[0]]}),X=0,ca=V.length;X<ca;++X){var ea=V[X],ra=ea[0];E(ra)||-1===kb.indexOf(ra)||(ea="https://fonts.googleapis.com/css?family\x3d"+
ra.replace(/ /g,"+")+":"+ea[1],document.querySelector('link[href\x3d"'+ea+'"]')||(ra=document.createElement("link"),ra.href=ea,ra.rel="stylesheet",document.head.appendChild(ra)))}$a[va]=!0;return Fa}function x(Fa,va){va&&0===Fa.indexOf(".")&&(Fa=va+Fa);return Fa}function y(Fa,va,V){Fa=x(Fa,va);return(va=Fa.match(ta))?va[1]+V+(2<va.length?va[2]:""):Fa+V}function v(Fa,va,V,X,ca){return new Promise(function(ea,ra){function qa(){Pa||va.sprite&&!Ha?Pa?(Fa.setStyle(Pa),ea()):ra(Error("Something went wrong trying to apply style.")):
(Pa=(0,L["default"])(Fa,va,V,ca,Ha,na,O),Fa.getStyle()?ea():ra(Error("Nothing to show for source ["+V+"]")))}"object"!=n(va)&&(va=JSON.parse(va));if(8!=va.version)return ra(Error("glStyle version 8 required."));if(!(Fa instanceof fa["default"]||Fa instanceof ja["default"]))return ra(Error("Can only apply to VectorLayer or VectorTileLayer"));var Ha,na,Pa;if(va.sprite){var cb=1.5<=window.devicePixelRatio?.5:1;var ab=.5==cb?"@2x":"",Ba=y(va.sprite,X,ab+".json");fetch(Ba,{credentials:"same-origin"}).then(function(Ga){if(Ga.ok||
""===ab)return Ga;Ba=y(va.sprite,X,".json");return fetch(Ba,{credentials:"same-origin"})}).then(function(Ga){if(Ga.ok)return Ga.json();ra(Error("Problem fetching sprite from "+Ba+": "+Ga.statusText))}).then(function(Ga){if(void 0===Ga)return ra(Error("No sprites found."));Ha=Ga;na=y(va.sprite,X,ab+".png");qa()})["catch"](function(Ga){ra(Error("Sprites cannot be loaded: "+Ba+": "+Ga.message))})}else qa()})}function l(Fa,va){function V(){var ca=Fa.getTargetElement();if(ca){var ea=va.layout||{},ra=va.paint||
{};X.paint=ra;X.id="olms-bg-"+ra["background-opacity"]+ra["background-color"];var qa=Fa.getView().getZoom();if(void 0!==ra["background-color"]){var Ha=(0,L.getValue)(X,"paint","background-color",qa,Ta);ca.style.background=N.Color.parse(Ha).toString()}void 0!==ra["background-opacity"]&&(ca.style.opacity=(0,L.getValue)(X,"paint","background-opacity",qa,Ta));"none"==ea.visibility&&(ca.style.backgroundColor="",ca.style.opacity="")}}var X={type:va.type};Fa.getTargetElement()&&V();Fa.on(["change:resolution",
"change:target"],V)}function k(Fa,va){var V;Fa.some(function(X){if(X.id==va)return V=X.source,!0});return V}function d(Fa){var va=Fa.bounds;if(va)return Fa=(0,G.fromLonLat)([va[0],va[1]]),va=(0,G.fromLonLat)([va[2],va[3]]),[Fa[0],Fa[1],va[0],va[1]]}function f(Fa,va,V){Fa=(0,da.assign)({},Fa);var X=new ja["default"]({declutter:!0,visible:!1});va=JSON.stringify(Fa);var ca=aa[va];ca||(ca=aa[va]=new Z["default"]({url:Fa.tiles?void 0:V,tileJSON:Fa.tiles?Fa:void 0}));var ea=ca.on("change",function(){var ra=
ca.getState();if("ready"===ra){var qa=ca.getTileJSON();ra=Array.isArray(qa.tiles)?qa.tiles:[qa.tiles];if(V)for(var Ha=0,na=ra.length;Ha<na;++Ha){var Pa=ra[Ha];0!=Pa.indexOf("http")&&(ra[Ha]=V.replace(/\/?$/,"/")+Pa.replace(/^\//,""))}Ha=ca.getTileGrid();na=d(qa);Pa=qa.minzoom||0;qa=qa.maxzoom||22;var cb=ca.get("ol-source");void 0===cb&&(cb=new q["default"]({attributions:ca.getAttributions(),format:new U["default"],tileGrid:new K["default"]({origin:Ha.getOrigin(0),extent:na||Ha.getExtent(),minZoom:Pa,
resolutions:da.defaultResolutions.slice(0,qa+1),tileSize:512}),urls:ra}),ca.set("ol-source",cb));(0,ka.unByKey)(ea);X.setSource(cb)}else"error"===ra&&(ca.set("ol-source",null),(0,ka.unByKey)(ea),X.setSource(void 0))});"ready"===ca.getState()&&ca.changed();return X}function a(Fa,va){var V=new ba["default"],X=new Z["default"]({transition:0,url:Fa.tiles?void 0:va,tileJSON:Fa.tiles?Fa:void 0,crossOrigin:"anonymous"}),ca=X.on("change",function(){var ea=X.getState();if("ready"===ea){(0,ka.unByKey)(ca);
var ra=X.getTileJSON();ea=d(ra);var qa=X.getTileGrid(),Ha=Fa.tileSize||ra.tileSize||512,na=ra.minzoom||0;ra=ra.maxzoom||22;X.tileGrid=new K["default"]({origin:qa.getOrigin(0),extent:ea||qa.getExtent(),minZoom:na,resolutions:(0,z.createXYZ)({maxZoom:ra,tileSize:Ha}).getResolutions(),tileSize:Ha});V.setSource(X)}else"error"===ea&&((0,ka.unByKey)(ca),V.setSource(void 0))});X.setTileLoadFunction(function(ea,ra){if(-1!=ra.indexOf("{bbox-epsg-3857}")){var qa=X.getTileGrid().getTileCoordExtent(ea.getTileCoord());
ra=ra.replace("{bbox-epsg-3857}",qa.toString())}ea.getImage().src=ra});return V}function e(Fa,va){var V=Fa.data,X,ca;"string"==typeof V?ca=x(V,va):X=Xa.readFeatures(V,{featureProjection:"EPSG:3857"});return new fa["default"]({source:new Q["default"]({attributions:Fa.attribution,features:X,format:Xa,url:ca}),visible:!1})}function p(Fa,va,V){V=V.getZoom();Fa=(0,L.getValue)(Fa,"paint","raster-opacity",V,Ta);va.setOpacity(Fa)}function A(Fa,va,V,X,ca,ea){void 0===ea&&(ea="");var ra=[],qa=va.getView();
qa.isDef()||qa.getRotation()||qa.getResolutions()||(qa=new R["default"]({maxResolution:da.defaultResolutions[0]}),va.setView(qa));"center"in Fa&&!qa.getCenter()&&qa.setCenter((0,G.fromLonLat)(Fa.center));"zoom"in Fa&&void 0===qa.getZoom()&&qa.setResolution(da.defaultResolutions[0]/Math.pow(2,Fa.zoom));qa.getCenter()&&void 0!==qa.getZoom()||qa.fit(qa.getProjection().getExtent(),{nearest:!0,size:va.getSize()});Fa.sprite&&(0==Fa.sprite.indexOf("mapbox://")?Fa.sprite=V+"/sprite"+ea:0!=Fa.sprite.indexOf("http")&&
(Fa.sprite=(X?X+ca:"")+Fa.sprite+ea));var Ha=Fa.layers,na=[],Pa,cb,ab,Ba,Ga,oa;V=function(Gb,Tb){Pa=Ha[Gb];Gb=Pa.type;if("heatmap"!=Gb&&"hillshade"!=Gb)if("background"==Gb)l(va,Pa);else{Ba=Pa.source||k(Ha,Pa.ref);if(Ba!=ab){na.length&&(ra.push(D(Ga,na,Fa,ca,va)),na=[]);cb=Fa.sources[Ba];if(oa=cb.url)if(oa=x(oa,ca),0==oa.indexOf("mapbox://")){var kc=oa.replace("mapbox://","");cb.tiles=["a","b","c","d"].map(function(bd){return"https://"+bd+".tiles.mapbox.com/v4/"+kc+"/{z}/{x}/{y}."+("vector"==cb.type?
"vector.pbf":"png")+ea})}else 0===oa.indexOf("/")&&0===X.indexOf("http")&&(oa=X+oa);"vector"==cb.type?Ga=f(cb,ea,oa):"raster"==cb.type?(Ga=a(cb,oa),Ga.setVisible(Pa.layout?"none"!==Pa.layout.visibility:!0),qa.on("change:resolution",p.bind(Ia,Pa,Ga,qa)),p(Pa,Ga,qa)):"geojson"==cb.type&&(Ga=e(cb,ca));ab=Ba;Ga&&Ga.set("mapbox-source",ab)}na.push(Pa.id)}};for(var Ia=this,Ua=0,eb=Ha.length;Ua<eb;++Ua)V(Ua,eb);ra.push(D(Ga,na,Fa,ca,va));va.set("mapbox-style",Fa);return Promise.all(ra)}function C(Fa,va){var V,
X,ca,ea;var ra=V=X=ca="";if("string"===typeof Fa||Fa instanceof HTMLElement)Fa=new H["default"]({target:Fa});if("string"===typeof va){if(ea=va.match(ta))V=ea[1],ra=2<ea.length?ea[2]:"";ea=new Promise(function(qa,Ha){fetch(va,{credentials:"same-origin"}).then(function(na){return na.json()}).then(function(na){var Pa=document.createElement("A");Pa.href=va;var cb=Pa.href;ca=Pa.pathname.split("/").slice(0,-1).join("/")+"/";X=cb.substr(0,cb.indexOf(ca));A(na,Fa,V,X,ca,ra).then(function(){qa(Fa)})["catch"](Ha)})["catch"](function(na){Ha(Error("Could not load "+
va+": "+na.message))})})}else ea=new Promise(function(qa,Ha){A(va,Fa).then(function(){qa(Fa)})["catch"](Ha)});return ea}function D(Fa,va,V,X,ca){for(var ea=24,ra=0,qa=V.layers,Ha=0,na=qa.length;Ha<na;++Ha){var Pa=qa[Ha];-1!==va.indexOf(Pa.id)&&(ea=Math.min("minzoom"in Pa?Pa.minzoom:0,ea),ra=Math.max("maxzoom"in Pa?Pa.maxzoom:24,ra))}return new Promise(function(cb,ab){var Ba=function(){var Ga=Fa.getSource();if(Ga&&"error"!==Ga.getState()){if("function"===typeof Ga.getTileGrid){var oa=Ga.getTileGrid();
if(oa){var Ia=oa.getMinZoom();(0<ea||0<Ia)&&Fa.setMaxResolution(Math.min(da.defaultResolutions[ea],oa.getResolution(Ia))+1E-9);24>ra&&Fa.setMinResolution(da.defaultResolutions[ra]+1E-9)}}Ga instanceof Q["default"]||Ga instanceof q["default"]?v(Fa,V,va,X).then(function(){Fa.setVisible(!0);cb()},function(Ua){ab(Ua)}):cb()}else ab(Error("Error accessing data for source "+Fa.get("mapbox-source")))};Fa.set("mapbox-layers",va);-1===ca.getLayers().getArray().indexOf(Fa)&&ca.addLayer(Fa);if(Fa.getSource())Ba();
else Fa.once("change:source",Ba)})}Object.defineProperty(F,"__esModule",{value:!0});F.applyStyle=v;F.applyBackground=function(Fa,va){va.layers.some(function(V){if("background"==V.type)return l(Fa,V),!0})};F["default"]=C;F.apply=function(Fa,va){if("string"===typeof Fa||Fa instanceof HTMLElement)Fa=new H["default"]({target:Fa});setTimeout(function(){C(Fa,va)},0);return Fa};F.getLayer=function(Fa,va){Fa=Fa.getLayers().getArray();for(var V=0,X=Fa.length;V<X;++V){var ca=Fa[V].get("mapbox-layers");if(ca&&
-1!==ca.indexOf(va))return Fa[V]}};F.getLayers=function(Fa,va){var V=[];Fa=Fa.getLayers().getArray();for(var X=0,ca=Fa.length;X<ca;++X)Fa[X].get("mapbox-source")===va&&V.push(Fa[X]);return V};F.getSource=function(Fa,va){Fa=Fa.getLayers().getArray();for(var V=0,X=Fa.length;V<X;++V){var ca=Fa[V].getSource();if(Fa[V].get("mapbox-source")===va)return ca}};F._finalizeLayer=D;F._getFonts=O;var P=m(B(336)),L=function(Fa){if(Fa&&Fa.__esModule)return Fa;if(null===Fa||"object"!==n(Fa)&&"function"!==typeof Fa)return{"default":Fa};
var va=g();if(va&&va.has(Fa))return va.get(Fa);var V={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor,ca;for(ca in Fa)if(Object.prototype.hasOwnProperty.call(Fa,ca)){var ea=X?Object.getOwnPropertyDescriptor(Fa,ca):null;ea&&(ea.get||ea.set)?Object.defineProperty(V,ca,ea):V[ca]=Fa[ca]}V["default"]=Fa;va&&va.set(Fa,V);return V}(B(339));Ja=m(B(340));var G=B(133),z=B(271),K=m(B(270)),H=m(B(253)),R=m(B(156));qb=m(B(342));var U=m(B(332)),ka=B(93),ba=m(B(301)),fa=m(B(239)),ja=m(B(335)),Z=m(B(306)),
Q=m(B(245)),q=m(B(311)),N=B(337),da=B(338),aa={},wa=/font-family: ?([^;]*);/,ua=/("|')/g,Ea,$a={},kb=Ja["default"].getNames(),ta=/^(.*)(\?.*)$/,Ta={},Xa=new qb["default"]};
shadow$provide[344]=function(Ja,B,qb,F){function g(p){return p&&p.__esModule?p:{"default":p}}function m(p){return 0!==p.indexOf("mapbox://")?"":p.slice(9)}function n(p,A){var C=m(p);if(!C)return p;if(0!==C.indexOf("sprites/"))throw Error("unexpected sprites url: "+p);p=C.slice(8);return a+"/styles/v1/"+p+"/sprite?access_token\x3d"+A}function E(p,A){var C=m(p);if(!C)return p;if(0!==C.indexOf("fonts/"))throw Error("unexpected fonts url: "+p);p=C.slice(6);return a+"/fonts/v1/"+p+"/0-255.pbf?access_token\x3d"+
A}function O(p,A){var C=m(p);if(!C)return p;if(0!==C.indexOf("styles/"))throw Error("unexpected style url: "+p);p=C.slice(7);return a+"/styles/v1/"+p+"?\x26access_token\x3d"+A}function x(p,A){var C=m(p);return C?"https://{a-d}.tiles.mapbox.com/v4/"+C+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+A:p}Object.defineProperty(F,"__esModule",{value:!0});F.getMapboxPath=m;F.normalizeSpriteUrl=n;F.normalizeGlyphsUrl=E;F.normalizeStyleUrl=O;F.normalizeSourceUrl=x;F["default"]=void 0;Ja=g(B(87));var y=g(B(91)),
v=g(B(332)),l=g(B(98));qb=g(B(335));var k=g(B(311)),d=B(343),f=function(){var p=function(A,C){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(D[L]=P[L])};return p(A,C)};return function(A,C){function D(){this.constructor=A}p(A,C);A.prototype=null===C?Object.create(C):(D.prototype=C.prototype,new D)}}(),a="https://api.mapbox.com",e=function(p){function A(C){var D=p.call(this,y["default"].ERROR)||
this;D.error=C;return D}f(A,p);return A}(Ja["default"]);B=function(p){function A(C){var D="declutter"in C?C.declutter:!0;var P=new k["default"]({state:l["default"].LOADING,format:new v["default"]});D=p.call(this,{source:P,declutter:D,className:C.className,opacity:C.opacity,visible:C.visible,zIndex:C.zIndex,minResolution:C.minResolution,maxResolution:C.maxResolution,minZoom:C.minZoom,maxZoom:C.maxZoom,renderOrder:C.renderOrder,renderBuffer:C.renderBuffer,renderMode:C.renderMode,map:C.map,updateWhileAnimating:C.updateWhileAnimating,
updateWhileInteracting:C.updateWhileInteracting,preload:C.preload,useInterimTilesOnError:C.useInterimTilesOnError})||this;D.sourceId=C.source;D.layers=C.layers;D.accessToken=C.accessToken;D.fetchStyle(C.styleUrl);return D}f(A,p);A.prototype.fetchStyle=function(C){var D=this;C=O(C,this.accessToken);fetch(C).then(function(P){if(!P.ok)throw Error("unexpected response when fetching style: "+P.status);return P.json()}).then(function(P){D.onStyleLoad(P)})["catch"](function(P){D.handleError(P)})};A.prototype.onStyleLoad=
function(C){var D=this,P;if(this.layers){var L={};for(P=0;P<C.layers.length;++P){var G=C.layers[P];G.source&&(L[G.id]=G.source)}G=void 0;for(P=0;P<this.layers.length;++P){var z=L[this.layers[P]];if(!z){this.handleError(Error("could not find source for "+this.layers[P]));return}if(!G)G=z;else if(G!==z){this.handleError(Error("layers can only use a single source, found "+G+" and "+z));return}}P=G;L=this.layers}else L=P=this.sourceId;L||(L=P=Object.keys(C.sources)[0]);C.sprite&&(C.sprite=n(C.sprite,
this.accessToken));C.glyphs&&(C.glyphs=E(C.glyphs,this.accessToken));P=C.sources[P];if("vector"!==P.type)this.handleError(Error("only works for vector sources, found "+P.type));else{var K=this.getSource();K.setUrl(x(P.url,this.accessToken));(0,d.applyStyle)(this,C,L).then(function(){K.setState(l["default"].READY)})["catch"](function(H){D.handleError(H)})}};A.prototype.handleError=function(C){this.dispatchEvent(new e(C));this.getSource().setState(l["default"].ERROR)};return A}(qb["default"]);F["default"]=
B};
shadow$provide[345]=function(Ja,B,qb,F){function g(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(296));var m=g(B(238)),n=g(B(91)),E=g(B(288)),O=g(B(202)),x=g(B(201)),y=g(B(124)),v=B(80),l=B(89),k=B(83),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(p[C]=A[C])};return f(a,e)};return function(a,
e){function p(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)}}();B=function(f){function a(e){var p=f.call(this,e)||this;p.vectorRenderer_=new m["default"](e);p.layerImageRatio_=e.getImageRatio();p.coordinateToVectorPixelTransform_=(0,v.create)();p.renderedPixelToCoordinateTransform_=null;return p}d(a,f);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();f.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(e){return this.vectorRenderer_?
(e=(0,v.apply)(this.coordinateToVectorPixelTransform_,(0,v.apply)(this.renderedPixelToCoordinateTransform_,e.slice())),this.vectorRenderer_.getFeatures(e)):new Promise(function(p,A){p([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(e){var p=e.pixelRatio,A=e.viewState,C=A.resolution,D=e.viewHints,P=this.vectorRenderer_,L=e.extent;1!==this.layerImageRatio_&&(L=L.slice(0),(0,k.scaleFromCenter)(L,this.layerImageRatio_));var G=
(0,k.getWidth)(L)/C,z=(0,k.getHeight)(L)/C;if(!D[y["default"].ANIMATING]&&!D[y["default"].INTERACTING]&&!(0,k.isEmpty)(L)){P.useContainer(null,null,1);D=P.context;var K=(0,l.assign)({},e,{declutterTree:new x["default"](9),extent:L,size:[G,z],viewState:(0,l.assign)({},e.viewState,{rotation:0})}),H=new E["default"](L,C,p,D.canvas,function(R){P.prepareFrame(K)&&P.replayGroupChanged&&(P.clipping=!1,P.renderFrame(K,null),P.renderDeclutter(K),R())});H.addEventListener(n["default"].CHANGE,function(){if(H.getState()===
O["default"].LOADED){this.image_=H;var R=H.getResolution(),U=H.getPixelRatio();this.renderedResolution=R=R*p/U;this.coordinateToVectorPixelTransform_=(0,v.compose)(this.coordinateToVectorPixelTransform_,G/2,z/2,1/R,-1/R,0,-A.center[0],-A.center[1])}}.bind(this));H.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(e,p,A,C,D){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,p,A,C,D):f.prototype.forEachFeatureAtCoordinate.call(this,e,p,A,C,D)};return a}(Ja["default"]);F["default"]=B};
shadow$provide[346]=function(Ja,B,qb,F){function g(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(210));var m=g(B(345)),n=B(89),E=function(){var O=function(x,y){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,l){v.__proto__=l}||function(v,l){for(var k in l)Object.prototype.hasOwnProperty.call(l,k)&&(v[k]=l[k])};return O(x,y)};return function(x,y){function v(){this.constructor=x}O(x,y);x.prototype=null===y?Object.create(y):
(v.prototype=y.prototype,new v)}}();B=function(O){function x(y){y=y?y:{};var v=(0,n.assign)({},y);delete v.imageRatio;v=O.call(this,v)||this;v.imageRatio_=void 0!==y.imageRatio?y.imageRatio:1;return v}E(x,O);x.prototype.getImageRatio=function(){return this.imageRatio_};x.prototype.createRenderer=function(){return new m["default"](this)};return x}(Ja["default"]);F["default"]=B};
shadow$provide[347]=function(Ja,B,qb,F){function g(z){if("number"===typeof z)return L.NUMBER;if("boolean"===typeof z)return L.BOOLEAN;if("string"===typeof z)return(0,P.isStringColor)(z)?L.COLOR|L.STRING:L.STRING;if(!Array.isArray(z))throw Error("Unhandled value type: "+JSON.stringify(z));if(z.every(function(H){return"number"===typeof H}))return 3===z.length||4===z.length?L.COLOR|L.NUMBER_ARRAY:L.NUMBER_ARRAY;if("string"!==typeof z[0])throw Error("Expected an expression operator but received: "+JSON.stringify(z));
var K=G[z[0]];if(void 0===K)throw Error("Unrecognized expression operator: "+JSON.stringify(z));return K.getReturnType(z.slice(1))}function m(z){return 0===Math.log2(z)%1}function n(z){z=z.toString();return-1===z.indexOf(".")?z+".0":z}function E(z){if(2>z.length||4<z.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+z.length+"("+z.map(n).join(", ")+")"}function O(z){z=(0,P.asArray)(z).slice();4>z.length&&z.push(1);return E(z.map(function(K,H){return 3>
H?K/255:K}))}function x(z,K){void 0===z.stringLiteralsMap[K]&&(z.stringLiteralsMap[K]=Object.keys(z.stringLiteralsMap).length);return z.stringLiteralsMap[K]}function y(z,K){return n(x(z,K))}function v(z,K,H){if(Array.isArray(K)&&"string"===typeof K[0]){var R=G[K[0]];if(void 0===R)throw Error("Unrecognized expression operator: "+JSON.stringify(K));return R.toGlsl(z,K.slice(1),H)}R=g(K);if(0<(R&L.NUMBER))return n(K);if(0<(R&L.BOOLEAN))return K.toString();if(0<(R&L.STRING)&&(void 0===H||H==L.STRING))return y(z,
K.toString());if(0<(R&L.COLOR)&&(void 0===H||H==L.COLOR))return O(K);if(0<(R&L.NUMBER_ARRAY))return E(K)}function l(z){for(var K=0;K<z.length;K++){var H=z[K];if(!(g(H)&L.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(H)+" instead");}}function k(z){if(!(g(z)&L.STRING))throw Error("A string value was expected, got "+JSON.stringify(z)+" instead");}function d(z){if(!(g(z)&L.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(z)+" instead");}function f(z,K){if(z.length!==
K)throw Error("Exactly "+K+" arguments were expected, got "+z.length+" instead");}function a(z,K){if(z.length<K)throw Error("At least "+K+" arguments were expected, got "+z.length+" instead");}function e(z,K){if(z.length>K)throw Error("At most "+K+" arguments were expected, got "+z.length+" instead");}function p(z){if(0!==z.length%2)throw Error("An even amount of arguments was expected, got "+z+" instead");}function A(z,K){if(!m(K))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(z));}function C(z){return{getReturnType:function(K){return L.BOOLEAN},toGlsl:function(K,H){f(H,2);for(var R=L.ANY,U=0;U<H.length;U++)R&=g(H[U]);if(0===R)throw Error("All arguments should be of compatible type, got "+JSON.stringify(H)+" instead");return"("+v(K,H[0],R)+" "+z+" "+v(K,H[1],R)+")"}}}function D(z){return{getReturnType:function(K){return L.BOOLEAN},toGlsl:function(K,H){a(H,2);for(var R=0;R<H.length;R++)d(H[R]);R="";R=H.map(function(U){return v(K,U)}).join(" "+z+" ");return"("+
R+")"}}}Object.defineProperty(F,"__esModule",{value:!0});F.getValueType=g;F.isTypeUnique=m;F.numberToGlsl=n;F.arrayToGlsl=E;F.colorToGlsl=O;F.getStringNumberEquivalent=x;F.stringToGlsl=y;F.expressionToGlsl=v;F.Operators=F.ValueTypes=void 0;var P=B(85),L={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};F.ValueTypes=L;var G={};F.Operators=G;G.get={getReturnType:function(z){return L.ANY},toGlsl:function(z,K){f(K,1);k(K[0]);K=K[0].toString();-1===z.attributes.indexOf(K)&&z.attributes.push(K);
return(z.inFragmentShader?"v_":"a_")+K}};G["var"]={getReturnType:function(z){return L.ANY},toGlsl:function(z,K){f(K,1);k(K[0]);K=K[0].toString();-1===z.variables.indexOf(K)&&z.variables.push(K);return"u_"+K}};G.time={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,0);return"u_time"}};G.zoom={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,0);return"u_zoom"}};G.resolution={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,0);return"u_resolution"}};
G["*"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" * "+v(z,K[1])+")"}};G["/"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" / "+v(z,K[1])+")"}};G["+"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" + "+v(z,K[1])+")"}};G["-"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" - "+v(z,K[1])+")"}};
G.clamp={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,3);l(K);var H=v(z,K[1]),R=v(z,K[2]);return"clamp("+v(z,K[0])+", "+H+", "+R+")"}};G["%"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,2);l(K);return"mod("+v(z,K[0])+", "+v(z,K[1])+")"}};G["^"]={getReturnType:function(z){return L.NUMBER},toGlsl:function(z,K){f(K,2);l(K);return"pow("+v(z,K[0])+", "+v(z,K[1])+")"}};G["\x3e"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,K){f(K,2);l(K);
return"("+v(z,K[0])+" \x3e "+v(z,K[1])+")"}};G["\x3e\x3d"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" \x3e\x3d "+v(z,K[1])+")"}};G["\x3c"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" \x3c "+v(z,K[1])+")"}};G["\x3c\x3d"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,K){f(K,2);l(K);return"("+v(z,K[0])+" \x3c\x3d "+v(z,K[1])+")"}};G["\x3d\x3d"]=C("\x3d\x3d");G["!\x3d"]=C("!\x3d");
G["!"]={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,K){f(K,1);d(K[0]);return"(!"+v(z,K[0])+")"}};G.all=D("\x26\x26");G.any=D("||");G.between={getReturnType:function(z){return L.BOOLEAN},toGlsl:function(z,K){f(K,3);l(K);var H=v(z,K[1]),R=v(z,K[2]);z=v(z,K[0]);return"("+z+" \x3e\x3d "+H+" \x26\x26 "+z+" \x3c\x3d "+R+")"}};G.array={getReturnType:function(z){return L.NUMBER_ARRAY},toGlsl:function(z,K){a(K,2);e(K,4);l(K);var H=K.map(function(R){return v(z,R,L.NUMBER)});return"vec"+K.length+
"("+H.join(", ")+")"}};G.color={getReturnType:function(z){return L.COLOR},toGlsl:function(z,K){a(K,3);e(K,4);l(K);3===K.length&&K.push(1);var H=K.map(function(R,U){return v(z,R,L.NUMBER)+(3>U?" / 255.0":"")});return"vec"+K.length+"("+H.join(", ")+")"}};G.interpolate={getReturnType:function(z){for(var K=L.COLOR|L.NUMBER,H=3;H<z.length;H+=2)K&=g(z[H]);return K},toGlsl:function(z,K,H){p(K);a(K,6);var R=K[0];switch(R[0]){case "linear":var U=1;break;case "exponential":U=R[1];break;default:U=null}if(!U)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(R));H=void 0!==H?H:L.ANY;H&=G.interpolate.getReturnType(K);A(K,H);R=v(z,K[1]);for(var ka=null,ba=2;ba<K.length-2;ba+=2){var fa=v(z,K[ba]),ja=v(z,K[ba+1],H),Z=v(z,K[ba+2]),Q=v(z,K[ba+3],H);ka="mix("+(ka||ja)+", "+Q+", pow(clamp(("+R+" - "+fa+") / ("+Z+" - "+fa+"), 0.0, 1.0), "+n(U)+"))"}return ka}};G.match={getReturnType:function(z){for(var K=L.ANY,H=2;H<z.length;H+=2)K&=g(z[H]);return K&=g(z[z.length-1])},toGlsl:function(z,K,H){p(K);a(K,4);H=void 0!==H?H:L.ANY;H&=G.match.getReturnType(K);
A(K,H);for(var R=v(z,K[0]),U=v(z,K[K.length-1],H),ka=null,ba=K.length-3;1<=ba;ba-=2){var fa=v(z,K[ba]),ja=v(z,K[ba+1],H);ka="("+R+" \x3d\x3d "+fa+" ? "+ja+" : "+(ka||U)+")"}return ka}};G["case"]={getReturnType:function(z){for(var K=L.ANY,H=1;H<z.length;H+=2)K&=g(z[H]);return K&=g(z[z.length-1])},toGlsl:function(z,K,H){if(0===K.length%2)throw Error("An odd amount of arguments was expected, got "+K+" instead");a(K,3);H=void 0!==H?H:L.ANY;H&=G["case"].getReturnType(K);A(K,H);for(var R=0;R<K.length-1;R+=
2)d(K[R]);var U=v(z,K[K.length-1],H),ka=null;for(R=K.length-3;0<=R;R-=2){var ba=v(z,K[R]),fa=v(z,K[R+1],H);ka="("+ba+" ? "+fa+" : "+(ka||U)+")"}return ka}}};
shadow$provide[348]=function(Ja,B,qb,F){Object.defineProperty(F,"__esModule",{value:!0});F.parseLiteralStyle=function(n){var E=n.symbol,O=void 0!==E.size?E.size:1,x=E.color||"white",y=E.textureCoord||[0,0,1,1],v=E.offset||[0,0],l=void 0!==E.opacity?E.opacity:1,k=void 0!==E.rotation?E.rotation:0,d={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},f=(0,g.expressionToGlsl)(d,O,g.ValueTypes.NUMBER_ARRAY|g.ValueTypes.NUMBER);v=(0,g.expressionToGlsl)(d,v,g.ValueTypes.NUMBER_ARRAY);y=
(0,g.expressionToGlsl)(d,y,g.ValueTypes.NUMBER_ARRAY);var a=(0,g.expressionToGlsl)(d,k,g.ValueTypes.NUMBER);k={inFragmentShader:!0,variables:d.variables,attributes:[],stringLiteralsMap:d.stringLiteralsMap};x=(0,g.expressionToGlsl)(k,x,g.ValueTypes.COLOR);l=(0,g.expressionToGlsl)(k,l,g.ValueTypes.NUMBER);var e="1.0";O="vec2("+(0,g.expressionToGlsl)(k,O,g.ValueTypes.NUMBER_ARRAY|g.ValueTypes.NUMBER)+").x";switch(E.symbolType){case "square":break;case "image":break;case "circle":e="(1.0-smoothstep(1.-4./"+
O+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":e="(1.0-smoothstep(.5-3./"+O+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+E.symbolType);}var p=(new m).setSizeExpression("vec2("+f+")").setRotationExpression(a).setSymbolOffsetExpression(v).setTextureCoordinateExpression(y).setSymbolRotateWithView(!!E.rotateWithView).setColorExpression("vec4("+
x+".rgb, "+x+".a * "+l+" * "+e+")");n.filter&&(f=(0,g.expressionToGlsl)(k,n.filter,g.ValueTypes.BOOLEAN),p.setFragmentDiscardExpression("!"+f));var A={};k.variables.forEach(function(C){p.addUniform("float u_"+C);A["u_"+C]=function(){if(!n.variables||void 0===n.variables[C])throw Error("The following variable is missing from the style: "+C);var D=n.variables[C];"string"===typeof D&&(D=(0,g.getStringNumberEquivalent)(d,D));return void 0!==D?D:-9999999}});"image"===E.symbolType&&E.src&&(f=new Image,
f.src=E.src,p.addUniform("sampler2D u_texture").setColorExpression(p.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),A.u_texture=f);k.attributes.forEach(function(C){-1===d.attributes.indexOf(C)&&d.attributes.push(C);p.addVarying("v_"+C,"float","a_"+C)});d.attributes.forEach(function(C){p.addAttribute("float a_"+C)});return{builder:p,attributes:d.attributes.map(function(C){return{name:C,callback:function(D,P){D=P[C];"string"===typeof D&&(D=(0,g.getStringNumberEquivalent)(d,D));return void 0!==
D?D:-9999999}}}),uniforms:A}};F.ShaderBuilder=void 0;var g=B(347),m=function(){function n(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}n.prototype.addUniform=function(E){this.uniforms.push(E);return this};n.prototype.addAttribute=function(E){this.attributes.push(E);
return this};n.prototype.addVarying=function(E,O,x){this.varyings.push({name:E,type:O,expression:x});return this};n.prototype.setSizeExpression=function(E){this.sizeExpression=E;return this};n.prototype.setRotationExpression=function(E){this.rotationExpression=E;return this};n.prototype.setSymbolOffsetExpression=function(E){this.offsetExpression=E;return this};n.prototype.setColorExpression=function(E){this.colorExpression=E;return this};n.prototype.setTextureCoordinateExpression=function(E){this.texCoordExpression=
E;return this};n.prototype.setFragmentDiscardExpression=function(E){this.discardExpression=E;return this};n.prototype.setSymbolRotateWithView=function(E){this.rotateWithView=E;return this};n.prototype.getSizeExpression=function(){return this.sizeExpression};n.prototype.getOffsetExpression=function(){return this.offsetExpression};n.prototype.getColorExpression=function(){return this.colorExpression};n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};n.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};n.prototype.getSymbolVertexShader=function(E){var O=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",x=this.attributes,y=this.varyings;E&&(x=x.concat("vec4 a_hitColor"),y=y.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(v){return"uniform "+v+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+x.map(function(v){return"attribute "+v+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+y.map(function(v){return"varying "+v.type+" "+v.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+O+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+y.map(function(v){return"  "+v.name+" \x3d "+v.expression+";"}).join("\n")+"\n}"};n.prototype.getSymbolFragmentShader=
function(E){var O=E?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",x=this.varyings;E&&(x=x.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(y){return"uniform "+y+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+x.map(function(y){return"varying "+y.type+" "+y.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+O+"\n}"};return n}();F.ShaderBuilder=m};
shadow$provide[349]=function(Ja,B,qb,F){function g(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(F,"__esModule",{value:!0});F["default"]=void 0;Ja=g(B(99));var m=g(B(328)),n=B(89),E=B(348),O=function(){var x=function(y,v){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,k){l.__proto__=k}||function(l,k){for(var d in k)Object.prototype.hasOwnProperty.call(k,d)&&(l[d]=k[d])};return x(y,v)};return function(y,v){function l(){this.constructor=y}x(y,v);y.prototype=null===
v?Object.create(v):(l.prototype=v.prototype,new l)}}();B=function(x){function y(v){var l=(0,n.assign)({},v);l=x.call(this,l)||this;l.parseResult_=(0,E.parseLiteralStyle)(v.style);l.hitDetectionDisabled_=!!v.disableHitDetection;return l}O(y,x);y.prototype.createRenderer=function(){return new m["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};y.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();x.prototype.disposeInternal.call(this)};return y}(Ja["default"]);F["default"]=B};
shadow$provide[350]=function(Ja,B,qb,F){function g(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(F,"__esModule",{value:!0});Object.defineProperty(F,"Graticule",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(F,"Group",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(F,"Heatmap",{enumerable:!0,get:function(){return E["default"]}});Object.defineProperty(F,"Image",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(F,
"Layer",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(F,"MapboxVector",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(F,"Tile",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(F,"Vector",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(F,"VectorImage",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(F,"VectorTile",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(F,"WebGLPoints",{enumerable:!0,get:function(){return f["default"]}});var m=g(B(318)),n=g(B(111)),E=g(B(329)),O=g(B(297)),x=g(B(99)),y=g(B(344)),v=g(B(301)),l=g(B(239)),k=g(B(346)),d=g(B(335)),f=g(B(349))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",ha="datascript.db",ia="datascript.pull-api",ja="taoensso.sente",g,la=la||{},ma=this||self;function na(a,b){a=a.split(".");var c=ma;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function pa(){}
function ra(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function sa(a){return"array"==ra(a)}function ta(a){var b=ra(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ua(a){return"function"==ra(a)}function wa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function xa(a){return a[Aa]||(a[Aa]=++Ca)}var Aa="closure_uid_"+(1E9*Math.random()>>>0),Ca=0;function Da(a,b,c){return a.call.apply(a.bind,arguments)}
function Ea(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Fa(a,b,c){Fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Da:Ea;return Fa.apply(null,arguments)}var Ga=Date.now||function(){return+new Date};
function Ha(a,b){function c(){}c.prototype=b.prototype;a.jd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ia(a){Ia[" "](a);return a}Ia[" "]=pa;function Ja(a,b){var c=Ka;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var La=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Na=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Oa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Pa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Qa(a){a:{var b=Ra;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Ta(a){if(!sa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Ua(a,b){b=La(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Va(a){return Array.prototype.concat.apply([],arguments)}function Wa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Xa(a,b){a.sort(b||Ya)}function Za(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||Ya;Xa(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function Ya(a,b){return a>b?1:a<b?-1:0}function $a(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function ab(a){this.mj=a}ab.prototype.toString=function(){return this.mj};var bb=new ab("IFRAME"),cb=new ab("SCRIPT");function db(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function fb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function gb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function hb(a,b,c){return null!==a&&b in a?a[b]:c}var ib="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function jb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ib.length;f++)c=ib[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function kb(a,b){this.lj=a===lb&&b||"";this.Lh=mb}var mb={},lb={},nb=new kb(lb,"");function ob(){}ob.prototype.fd=function(){return this};(new ob).fd("");function pb(a,b){this.dj=a===qb&&b||"";this.Mh=rb}var rb={},qb={};function sb(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function tb(a){return/^[\s\xa0]*$/.test(a)}var ub=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function vb(a){return-1!=wb.toLowerCase().indexOf(a.toLowerCase())}function xb(a,b){return a<b?-1:a>b?1:0};function yb(){}yb.prototype.fd=function(){return this};(new yb).fd("");function Ab(){}Ab.prototype.fd=function(){return this};(new Ab).fd("");var wb;a:{var Bb=ma.navigator;if(Bb){var Cb=Bb.userAgent;if(Cb){wb=Cb;break a}}wb=""}function Db(a){return-1!=wb.indexOf(a)};function Eb(){this.eh="";this.Bh=Fb}function Gb(){var a=Hb;if(a instanceof Eb&&a.constructor===Eb&&a.Bh===Fb)return a.eh;ra(a);return"type_error:SafeHtml"}var Fb={};Eb.prototype.fd=function(a){this.eh=a;return this};(new Eb).fd("\x3c!DOCTYPE html\x3e");var Hb=(new Eb).fd("");(new Eb).fd("\x3cbr\x3e");function Ib(a){var b=new pb(qb,nb instanceof kb&&nb.constructor===kb&&nb.Lh===mb?nb.lj:"type_error:Const");b instanceof pb&&b.constructor===pb&&b.Mh===rb?b=b.dj:(ra(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Jb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Kb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Lb(a,b){a=String(a);var c=a.indexOf(".");-1==c&&(c=a.length);return Kb("0",Math.max(0,b-c))+a};function Mb(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(ta(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Nb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(ta(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return fb(a)}
function Ob(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(ta(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return gb(a)}}function Pb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ta(a)||"string"===typeof a)Na(a,b,c);else for(var d=Ob(a),e=Nb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Qb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ta(a)||"string"===typeof a)return Pa(a,b,void 0);for(var c=Ob(a),d=Nb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Rb(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Rb.prototype;g.getCount=function(){return this.count_};g.getValues=function(){Sb(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){Sb(this);return this.keys_.concat()};
g.containsKey=function(a){return Tb(this.map_,a)};g.le=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Tb(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Ub;Sb(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Ub(a,b){return a===b}g.isEmpty=function(){return 0==this.count_};
g.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};g.remove=function(a){return Tb(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Sb(this),!0):!1};
function Sb(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Tb(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Tb(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}g.get=function(a,b){return Tb(this.map_,a)?this.map_[a]:b};g.set=function(a,b){Tb(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof Rb)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Rb(this)};g.transpose=function(){for(var a=new Rb,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};function Tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Vb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function Yb(a,b){this.count_=this.jb=null;this.uc=a||null;this.si=!!b}function Zb(a){a.jb||(a.jb=new Rb,a.count_=0,a.uc&&Wb(a.uc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=Yb.prototype;g.getCount=function(){Zb(this);return this.count_};g.add=function(a,b){Zb(this);this.uc=null;a=$b(this,a);var c=this.jb.get(a);c||this.jb.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){Zb(this);a=$b(this,a);return this.jb.containsKey(a)?(this.uc=null,this.count_-=this.jb.get(a).length,this.jb.remove(a)):!1};g.clear=function(){this.jb=this.uc=null;this.count_=0};g.isEmpty=function(){Zb(this);return 0==this.count_};g.containsKey=function(a){Zb(this);a=$b(this,a);return this.jb.containsKey(a)};g.le=function(a){var b=this.getValues();return 0<=La(b,a)};g.forEach=function(a,b){Zb(this);this.jb.forEach(function(c,d){Na(c,function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){Zb(this);for(var a=this.jb.getValues(),b=this.jb.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.getValues=function(a){Zb(this);var b=[];if("string"===typeof a)this.containsKey(a)&&(b=Va(b,this.jb.get($b(this,a))));else{a=this.jb.getValues();for(var c=0;c<a.length;c++)b=Va(b,a[c])}return b};
g.set=function(a,b){Zb(this);this.uc=null;a=$b(this,a);this.containsKey(a)&&(this.count_-=this.jb.get(a).length);this.jb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.uc)return this.uc;if(!this.jb)return"";for(var a=[],b=this.jb.getKeys(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.getValues(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.uc=a.join("\x26")};g.clone=function(){var a=new Yb;a.uc=this.uc;this.jb&&(a.jb=this.jb.clone(),a.count_=this.count_);return a};function $b(a,b){b=String(b);a.si&&(b=b.toLowerCase());return b}
g.extend=function(a){for(var b=0;b<arguments.length;b++)Pb(arguments[b],function(c,d){this.add(d,c)},this)};function ac(a,b){null!=a&&this.append.apply(this,arguments)}g=ac.prototype;g.nd="";g.set=function(a){this.nd=""+a};g.append=function(a,b,c){this.nd+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.nd+=arguments[d];return this};g.clear=function(){this.nd=""};g.getLength=function(){return this.nd.length};g.toString=function(){return this.nd};var bc={},cc={},dc,l={},ec=null,gc=null,hc=!0,ic=!0,jc=null,kc=null;function lc(){return new q(null,5,[nc,!0,oc,ic,pc,!1,qc,!1,rc,jc],null)}function sc(){hc=!1;gc=function(){return console.log.apply(console,Wa(arguments))}}function r(a){return null!=a&&!1!==a}function tc(a){return null==a}function uc(a){return a instanceof Array}function vc(a){return"number"===typeof a}function wc(a){return null==a?!0:!1===a?!0:!1}function xc(a){return null!=a}
function yc(a,b){return a[ra(null==b?null:b)]?!0:a._?!0:!1}function zc(a){return null==a?null:a.constructor}function Ac(a,b){var c=zc(b);c=r(r(c)?c.rb:c)?c.kb:ra(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Bc(a){var b=a.kb;return r(b)?b:t.B(a)}
var Cc="undefined"!==typeof Symbol&&"function"===ra(Symbol)?Symbol.iterator:"@@iterator",Dc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ec=null;
function Fc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Gc(a){function b(d,e){d.push(e);return d}var c=[];return w.C?w.C(b,c,a):w.call(null,b,c,a)}function Hc(a){return"symbol"===ra(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ic(){}function Jc(){}function Kc(){}
function Lc(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Lc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ICounted.-count",a);}return a}function Mc(){}function Nc(a){if(null!=a&&null!=a.Ja)a=a.Ja(a);else{var b=Nc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IEmptyableCollection.-empty",a);}return a}function Oc(){}
function Pc(a,b){if(null!=a&&null!=a.la)a=a.la(a,b);else{var c=Pc[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Pc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ICollection.-conj",a);}return a}function Qc(){}
var Rc=function(){function a(d,e,f){var h=x[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Ac("IIndexed.-nth",d);}function b(d,e){var f=x[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):Rc(a,b)};x.C=function(a,b,c){return null!=a&&null!=a.Ra?a.Ra(a,b,c):Rc(a,b,c)};x.Y=3;function Sc(){}
function Tc(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=Tc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Tc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ISeq.-first",a);}return a}function Uc(a){if(null!=a&&null!=a.bb)a=a.bb(a);else{var b=Uc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Uc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ISeq.-rest",a);}return a}function Vc(){}
function Wc(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=Wc[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INext.-next",a);}return a}function Xc(){}
var $c=function(){function a(d,e,f){var h=Yc[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Yc._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Ac("ILookup.-lookup",d);}function b(d,e){var f=Yc[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Yc._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),Yc=function Yc(a){switch(arguments.length){case 2:return Yc.j(arguments[0],arguments[1]);case 3:return Yc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Yc.j=function(a,b){return null!=a&&null!=a.ma?a.ma(a,b):$c(a,b)};Yc.C=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):$c(a,b,c)};Yc.Y=3;
function ad(a,b,c){if(null!=a&&null!=a.da)a=a.da(a,b,c);else{var d=ad[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ad._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IAssociative.-assoc",a);}return a}function bd(a,b){if(null!=a&&null!=a.Yc)a=a.Yc(a,b);else{var c=bd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=bd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IFind.-find",a);}return a}function cd(){}
function dd(a,b){if(null!=a&&null!=a.wa)a=a.wa(a,b);else{var c=dd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IMap.-dissoc",a);}return a}function ed(a){if(null!=a&&null!=a.vf)a=a.key;else{var b=ed[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ed._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IMapEntry.-key",a);}return a}
function fd(a){if(null!=a&&null!=a.wf)a=a.val;else{var b=fd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=fd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IMapEntry.-val",a);}return a}function gd(){}function hd(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=hd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=hd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ISet.-disjoin",a);}return a}
function id(a){if(null!=a&&null!=a.Zc)a=a.Zc(a);else{var b=id[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=id._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IStack.-peek",a);}return a}function jd(a){if(null!=a&&null!=a.$c)a=a.$c(a);else{var b=jd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IStack.-pop",a);}return a}function kd(){}
function ld(a,b,c){if(null!=a&&null!=a.Dc)a=a.Dc(a,b,c);else{var d=ld[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ld._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IVector.-assoc-n",a);}return a}function md(){}function z(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=z[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=z._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDeref.-deref",a);}return a}function nd(){}
function od(a){if(null!=a&&null!=a.ea)a=a.ea(a);else{var b=od[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=od._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IMeta.-meta",a);}return a}function pd(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=pd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=pd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IWithMeta.-with-meta",a);}return a}function qd(){}
var sd=function(){function a(d,e,f){var h=rd[ra(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=rd._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Ac("IReduce.-reduce",d);}function b(d,e){var f=rd[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=rd._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),rd=function rd(a){switch(arguments.length){case 2:return rd.j(arguments[0],arguments[1]);case 3:return rd.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};rd.j=function(a,b){return null!=a&&null!=a.Sa?a.Sa(a,b):sd(a,b)};rd.C=function(a,b,c){return null!=a&&null!=a.Ta?a.Ta(a,b,c):sd(a,b,c)};rd.Y=3;function td(){}
function ud(a,b,c){if(null!=a&&null!=a.va)a=a.va(a,b,c);else{var d=ud[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ud._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IKVReduce.-kv-reduce",a);}return a}function vd(a,b){if(null!=a&&null!=a.ca)a=a.ca(a,b);else{var c=vd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=vd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IEquiv.-equiv",a);}return a}
function wd(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=wd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=wd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IHash.-hash",a);}return a}function xd(){}function yd(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=yd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ISeqable.-seq",a);}return a}function zd(){}function Ad(){}function Bd(){}
function Cd(){}function Dd(a){if(null!=a&&null!=a.qc)a=a.qc(a);else{var b=Dd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IReversible.-rseq",a);}return a}function A(a,b){if(null!=a&&null!=a.qd)a=a.qd(a,b);else{var c=A[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=A._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IWriter.-write",a);}return a}
function Gd(a){if(null!=a&&null!=a.Nc)a=a.Nc(a);else{var b=Gd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Gd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IWriter.-flush",a);}return a}function Hd(){}function Id(a,b,c){if(null!=a&&null!=a.ga)a=a.ga(a,b,c);else{var d=Id[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Id._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IPrintWithWriter.-pr-writer",a);}return a}function Jd(){}
function Kd(a){if(null!=a&&null!=a.Le)a=a.Le(a);else{var b=Kd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Kd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IPending.-realized?",a);}return a}function Ld(a,b,c){if(null!=a&&null!=a.Me)a.Me(a,b,c);else{var d=Ld[ra(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Ld._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IWatchable.-add-watch",a);}}
function Md(a,b){if(null!=a&&null!=a.Ne)a.Ne(a,b);else{var c=Md[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Md._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IWatchable.-remove-watch",a);}}function Nd(a){if(null!=a&&null!=a.od)a=a.od(a);else{var b=Nd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Nd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IEditableCollection.-as-transient",a);}return a}
function Od(a,b){if(null!=a&&null!=a.pd)a=a.pd(a,b);else{var c=Od[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Od._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ITransientCollection.-conj!",a);}return a}function Pd(a){if(null!=a&&null!=a.zd)a=a.zd(a);else{var b=Pd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Pd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("ITransientCollection.-persistent!",a);}return a}
function Qd(a,b,c){if(null!=a&&null!=a.Nd)a=a.Nd(a,b,c);else{var d=Qd[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Qd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("ITransientAssociative.-assoc!",a);}return a}function Rd(a,b){if(null!=a&&null!=a.Ef)a=a.Ef(a,b);else{var c=Rd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Rd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ITransientMap.-dissoc!",a);}return a}
function Ud(){}function Vd(a,b){if(null!=a&&null!=a.Mc)a=a.Mc(a,b);else{var c=Vd[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Vd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IComparable.-compare",a);}return a}function Wd(a){if(null!=a&&null!=a.Zd)a=a.Zd(a);else{var b=Wd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChunk.-drop-first",a);}return a}
function Xd(a){if(null!=a&&null!=a.ae)a=a.ae(a);else{var b=Xd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Xd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChunkedSeq.-chunked-first",a);}return a}function Yd(a){if(null!=a&&null!=a.yd)a=a.yd(a);else{var b=Yd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChunkedSeq.-chunked-rest",a);}return a}
function Zd(a){if(null!=a&&null!=a.ce)a=a.ce(a);else{var b=Zd[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Zd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INamed.-name",a);}return a}function $d(a){if(null!=a&&null!=a.de)a=a.de(a);else{var b=$d[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$d._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INamed.-namespace",a);}return a}
function ae(a,b){if(null!=a&&null!=a.Cc)a=a.Cc(a,b);else{var c=ae[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ae._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IReset.-reset!",a);}return a}
var ce=function(){function a(f,h,k,m,n){var p=be[ra(null==f?null:f)];if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);p=be._;if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);throw Ac("ISwap.-swap!",f);}function b(f,h,k,m){var n=be[ra(null==f?null:f)];if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);n=be._;if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);throw Ac("ISwap.-swap!",f);}function c(f,h,k){var m=be[ra(null==f?null:f)];if(null!=m)return m.C?m.C(f,h,
k):m.call(null,f,h,k);m=be._;if(null!=m)return m.C?m.C(f,h,k):m.call(null,f,h,k);throw Ac("ISwap.-swap!",f);}function d(f,h){var k=be[ra(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=be._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Ac("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.C=c;e.P=b;e.ka=a;return e}(),be=function be(a){switch(arguments.length){case 2:return be.j(arguments[0],arguments[1]);case 3:return be.C(arguments[0],arguments[1],arguments[2]);case 4:return be.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return be.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};be.j=function(a,b){return null!=a&&null!=a.Af?a.Af(a,b):ce(a,b)};
be.C=function(a,b,c){return null!=a&&null!=a.Bf?a.Bf(a,b,c):ce(a,b,c)};be.P=function(a,b,c,d){return null!=a&&null!=a.Cf?a.Cf(a,b,c,d):ce(a,b,c,d)};be.ka=function(a,b,c,d,e){return null!=a&&null!=a.Df?a.Df(a,b,c,d,e):ce(a,b,c,d,e)};be.Y=5;function de(a,b){if(null!=a&&null!=a.fe)a.fe(a,b);else{var c=de[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=de._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IVolatile.-vreset!",a);}}function ee(){}
function fe(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=fe[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=fe._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IIterable.-iterator",a);}return a}function ge(a){this.kj=a;this.J=1073741824;this.T=0}ge.prototype.qd=function(a,b){return this.kj.append(b)};ge.prototype.Nc=function(){return null};function ie(a){var b=new ac,c=new ge(b);a.ga(null,c,lc());c.Nc(null);return t.B(b)}
var je="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ke(a){a=je(a|0,-862048943);return je(a<<15|a>>>-15,461845907)}function le(a,b){a=(a|0)^(b|0);return je(a<<13|a>>>-13,5)+-430675100|0}function me(a,b){a=(a|0)^b;a=je(a^a>>>16,-2048144789);a=je(a^a>>>13,-1028477387);return a^a>>>16}var ne={},oe=0;
function pe(a){255<oe&&(ne={},oe=0);if(null==a)return 0;var b=ne[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=je(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;ne[a]=b;oe+=1;a=b}return a}
function qe(a){if(null!=a&&(a.J&4194304||l===a.Wh))return a.ia(null)^0;if("number"===typeof a){if(r(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=pe(a),a=0===a?a:me(le(0,ke(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wd(a)^0,a}function re(a){return a instanceof B}
function se(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=le(d,ke(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=me(1===(b.length&1)?c^ke(b.charCodeAt(b.length-1)):c,je(2,b.length));a=pe(a.Nb);return b^a+2654435769+(b<<6)+(b>>2)}function te(a,b){if(a.Vc===b.Vc)return 0;if(r(wc(a.Nb)?b.Nb:!1))return-1;if(r(a.Nb)){if(wc(b.Nb))return 1;var c=Ya(a.Nb,b.Nb);return 0===c?Ya(a.name,b.name):c}return Ya(a.name,b.name)}
function B(a,b,c,d,e){this.Nb=a;this.name=b;this.Vc=c;this._hash=d;this.nc=e;this.J=2154168321;this.T=4096}g=B.prototype;g.toString=function(){return this.Vc};g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return b instanceof B?this.Vc===b.Vc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return C.j?C.j(a,this):C.call(null,a,this)};g.j=function(a,b){return C.C?C.C(a,this,b):C.call(null,a,this,b)};g.ea=function(){return this.nc};g.fa=function(a,b){return new B(this.Nb,this.name,this.Vc,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=se(this)};g.ce=function(){return this.name};g.de=function(){return this.Nb};g.ga=function(a,b){return A(b,this.Vc)};
var ue=function ue(a){switch(arguments.length){case 1:return ue.B(arguments[0]);case 2:return ue.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ue.B=function(a){for(;;){if(a instanceof B)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?ue.j(null,a):ue.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof ve)return a.Id;if(a instanceof D)a=a.na;else throw Error("no conversion to symbol");}};
ue.j=function(a,b){var c=null!=a?[t.B(a),"/",t.B(b)].join(""):b;return new B(a,b,c,null,null)};ue.Y=2;function ve(a,b,c){this.val=a;this.Id=b;this.nc=c;this.J=6717441;this.T=0}g=ve.prototype;g.toString=function(){return["#'",t.B(this.Id)].join("")};g.ub=function(){return this.val.O?this.val.O():this.val.call(null)};g.ea=function(){return this.nc};g.fa=function(a,b){return new ve(this.val,this.Id,b)};g.ca=function(a,b){return b instanceof ve?(a=this.Id,b=b.Id,F.j?F.j(a,b):F.call(null,a,b)):!1};
g.ia=function(){return se(this.Id)};g.Dg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Db(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.be(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.O=function(){var a=this.val.O?this.val.O():this.val.call(null);return a.O?a.O():a.call(null)};g.B=function(a){var b=this.val.O?this.val.O():this.val.call(null);return b.B?b.B(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.O?this.val.O():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.C=function(a,b,c){var d=this.val.O?this.val.O():this.val.call(null);return d.C?d.C(a,b,c):d.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.val.O?this.val.O():this.val.call(null);return e.P?e.P(a,b,c,d):e.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){var f=this.val.O?this.val.O():this.val.call(null);return f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Qa=function(a,b,c,d,e,f){var h=this.val.O?this.val.O():this.val.call(null);return h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Ib=function(a,b,c,d,e,f,h){var k=this.val.O?this.val.O():this.val.call(null);return k.Ib?k.Ib(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){var m=this.val.O?this.val.O():this.val.call(null);return m.qb?m.qb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Jb=function(a,b,c,d,e,f,h,k,m){var n=this.val.O?this.val.O():this.val.call(null);return n.Jb?n.Jb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.xb=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.O?this.val.O():this.val.call(null);return p.xb?p.xb(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.yb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.O?this.val.O():this.val.call(null);return u.yb?u.yb(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.val.O?this.val.O():this.val.call(null);return v.zb?v.zb(a,b,c,d,e,f,h,k,m,n,p,u):v.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var y=this.val.O?this.val.O():this.val.call(null);return y.Ab?y.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):y.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){var E=this.val.O?this.val.O():this.val.call(null);return E.Bb?E.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E){var G=this.val.O?this.val.O():this.val.call(null);return G.Cb?G.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G){var I=this.val.O?this.val.O():this.val.call(null);return I.Db?I.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I){var N=this.val.O?this.val.O():this.val.call(null);return N.Eb?N.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){var O=this.val.O?this.val.O():this.val.call(null);return O.Fb?O.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O){var U=this.val.O?this.val.O():this.val.call(null);return U.Gb?U.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U){var ea=this.val.O?this.val.O():this.val.call(null);return ea.Hb?ea.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U)};g.be=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea){var fa=this.val.O?this.val.O():this.val.call(null);return we.uf?we.uf(fa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):we.call(null,fa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea)};
function ye(a){return null!=a?a.T&131072||l===a.vj?!0:a.T?!1:yc(ee,a):yc(ee,a)}function H(a){if(null==a)return null;if(null!=a&&(a.J&8388608||l===a.yf))return a.ha(null);if(uc(a)||"string"===typeof a)return 0===a.length?null:new ze(a,0,null);if(null!=a&&null!=a[Cc])return a=hb(a,Cc).call(a),Ae.B?Ae.B(a):Ae.call(null,a);if(yc(xd,a))return yd(a);throw Error([t.B(a)," is not ISeqable"].join(""));}
function J(a){if(null==a)return null;if(null!=a&&(a.J&64||l===a.qa))return a.Ua(null);a=H(a);return null==a?null:Tc(a)}function Be(a){return null!=a?null!=a&&(a.J&64||l===a.qa)?a.bb(null):(a=H(a))?a.bb(null):Ce:Ce}function K(a){return null==a?null:null!=a&&(a.J&128||l===a.ee)?a.Ma(null):H(Be(a))}
var F=function F(a){switch(arguments.length){case 1:return F.B(arguments[0]);case 2:return F.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return F.F(arguments[0],arguments[1],c)}};F.B=function(){return!0};F.j=function(a,b){return null==a?null==b:a===b||vd(a,b)};F.F=function(a,b,c){for(;;)if(F.j(a,b))if(K(c))a=b,b=J(c),c=K(c);else return F.j(b,J(c));else return!1};
F.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};F.Y=2;function De(a){this.s=a}De.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ee(a){return new De(H(a))}function Fe(a,b){this.value=a;this.iter=b;this.nf=null;this.J=8388672;this.T=0}Fe.prototype.ha=function(){return this};Fe.prototype.Ua=function(){return this.value};
Fe.prototype.bb=function(){null==this.nf&&(this.nf=Ae.B?Ae.B(this.iter):Ae.call(null,this.iter));return this.nf};function Ae(a){var b=a.next();return r(b.done)?null:new Fe(b.value,a)}function Ge(a){var b=0,c=1;for(a=H(a);;)if(null!=a)b+=1,c=je(31,c)+qe(J(a))|0,a=K(a);else return me(le(0,ke(c)),b)}var He=me(le(0,ke(1)),0);function Ie(a){var b=0,c=0;for(a=H(a);;)if(null!=a)b+=1,c=c+qe(J(a))|0,a=K(a);else return me(le(0,ke(c)),b)}var Je=me(le(0,ke(0)),0);Kc["null"]=!0;Lc["null"]=function(){return 0};
Date.prototype.ca=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xc=l;Date.prototype.Mc=function(a,b){if(b instanceof Date)return Ya(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};vd.number=function(a,b){return a===b};Ic["function"]=!0;nd["function"]=!0;od["function"]=function(){return null};wd._=function(a){return xa(a)};function Ke(a){return a+1}function Le(a){this.val=a;this.J=32768;this.T=0}
Le.prototype.ub=function(){return this.val};function Me(a){return new Le(a)}function Ne(a){return a instanceof Le}function Oe(a){return Ne(a)?Pe.B?Pe.B(a):Pe.call(null,a):a}function Pe(a){return z(a)}function Qe(a,b){var c=a.ja(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.xa(null,0),e=1;;)if(e<c){var f=a.xa(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Ne(d))return z(d);e+=1}else return d}
function Re(a,b,c){var d=a.ja(null),e=c;for(c=0;;)if(c<d){var f=a.xa(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Ne(e))return z(e);c+=1}else return e}function Se(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Ne(d))return z(d);e+=1}else return d}function Te(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Ne(e))return z(e);c+=1}else return e}
function Ue(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Ne(c))return z(c);d+=1}else return c}function Ve(a){return null!=a?a.J&2||l===a.Eg?!0:a.J?!1:yc(Kc,a):yc(Kc,a)}function We(a){return null!=a?a.J&16||l===a.Ig?!0:a.J?!1:yc(Qc,a):yc(Qc,a)}function Xe(a,b,c){var d=M.B?M.B(a):M.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.j(Ye?Ye(a,c):Ze.call(null,a,c),b))return c;c+=1}else return-1}
function $e(a,b,c){var d=M.B?M.B(a):M.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.j(Ye?Ye(a,c):Ze.call(null,a,c),b))return c;--c}else return-1}function af(a,b){this.K=a;this.i=b}af.prototype.Za=function(){return this.i<this.K.length};af.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function ze(a,b,c){this.K=a;this.i=b;this.meta=c;this.J=166592766;this.T=139264}g=ze.prototype;g.toString=function(){return ie(this)};
g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M.B?M.B(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.xa=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.Ra=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.oa=function(){return new af(this.K,this.i)};g.ea=function(){return this.meta};g.Ma=function(){return this.i+1<this.K.length?new ze(this.K,this.i+1,null):null};g.ja=function(){var a=this.K.length-this.i;return 0>a?0:a};g.qc=function(){var a=this.ja(null);return 0<a?new bf(this,a-1,null):null};g.ia=function(){return Ge(this)};g.ca=function(a,b){return cf.j?cf.j(this,b):cf.call(null,this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return Ue(this.K,b,this.K[this.i],this.i+1)};
g.Ta=function(a,b,c){return Ue(this.K,b,c,this.i)};g.Ua=function(){return this.K[this.i]};g.bb=function(){return this.i+1<this.K.length?new ze(this.K,this.i+1,null):Ce};g.ha=function(){return this.i<this.K.length?this:null};g.fa=function(a,b){return b===this.meta?this:new ze(this.K,this.i,b)};g.la=function(a,b){return df.j?df.j(b,this):df.call(null,b,this)};ze.prototype[Cc]=function(){return Ee(this)};function P(a){return 0<a.length?new ze(a,0,null):null}
function bf(a,b,c){this.ci=a;this.i=b;this.meta=c;this.J=32374990;this.T=8192}g=bf.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M.B?M.B(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 0<this.i?new bf(this.ci,this.i-1,null):null};g.ja=function(){return this.i+1};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf.j?cf.j(this,b):cf.call(null,this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef?ef(b,this):ff.call(null,b,this)};g.Ta=function(a,b,c){return gf?gf(b,c,this):ff.call(null,b,c,this)};g.Ua=function(){return x(this.ci,this.i)};g.bb=function(){return 0<this.i?new bf(this.ci,this.i-1,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new bf(this.ci,this.i,b)};g.la=function(a,b){return df.j?df.j(b,this):df.call(null,b,this)};
bf.prototype[Cc]=function(){return Ee(this)};function hf(a){return J(K(a))}function jf(a){return J(J(a))}function kf(a){for(;;){var b=K(a);if(null!=b)a=b;else return J(a)}}vd._=function(a,b){return a===b};
var lf=function lf(a){switch(arguments.length){case 0:return lf.O();case 1:return lf.B(arguments[0]);case 2:return lf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return lf.F(arguments[0],arguments[1],c)}};lf.O=function(){return mf};lf.B=function(a){return a};lf.j=function(a,b){return null!=a?Pc(a,b):new nf(null,b,null,1,null)};
lf.F=function(a,b,c){for(;;)if(r(c))a=lf.j(a,b),b=J(c),c=K(c);else return lf.j(a,b)};lf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lf.Y=2;function of(a){return null==a?null:null!=a&&(a.J&4||l===a.Hg)?a.Ja(null):(null!=a?a.J&4||l===a.Hg||(a.J?0:yc(Mc,a)):yc(Mc,a))?Nc(a):null}
function M(a){if(null!=a)if(null!=a&&(a.J&2||l===a.Eg))a=a.ja(null);else if(uc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.J&8388608||l===a.yf))a:{a=H(a);for(var b=0;;){if(Ve(a)){a=b+Lc(a);break a}a=K(a);b+=1}}else a=Lc(a);else a=0;return a}function pf(a,b,c){for(;;){if(null==a)return c;if(0===b)return H(a)?J(a):c;if(We(a))return x(a,b,c);if(H(a))a=K(a),--b;else return c}}
function Ze(a){switch(arguments.length){case 2:return Ye(arguments[0],arguments[1]);case 3:return Q(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function Ye(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.J&16||l===a.Ig))return a.xa(null,b);if(uc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.J&64||l===a.qa)||null!=a&&(a.J&16777216||l===a.Jg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(H(a)){a=J(a);break a}throw Error("Index out of bounds");}if(We(a)){a=x(a,b);break a}if(H(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(yc(Qc,a))return x(a,b);throw Error(["nth not supported on this type ",t.B(Bc(zc(a)))].join(""));}
function Q(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.J&16||l===a.Ig))return a.Ra(null,b,c);if(uc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.J&64||l===a.qa)||null!=a&&(a.J&16777216||l===a.Jg))return 0>b?c:pf(a,b,c);if(yc(Qc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.B(Bc(zc(a)))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.j(arguments[0],arguments[1]);case 3:return C.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};C.j=function(a,b){return null==a?null:null!=a&&(a.J&256||l===a.Xh)?a.ma(null,b):uc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:yc(Xc,a)?Yc(a,b):null};
C.C=function(a,b,c){return null!=a?null!=a&&(a.J&256||l===a.Xh)?a.R(null,b,c):uc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:yc(Xc,a)?Yc(a,b,c):c:c};C.Y=3;var R=function R(a){switch(arguments.length){case 3:return R.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return R.F(arguments[0],arguments[1],arguments[2],c)}};
R.C=function(a,b,c){return null!=a&&(a.J&512||l===a.qj)?a.da(null,b,c):null!=a?ad(a,b,c):qf([b,c])};R.F=function(a,b,c,d){for(;;)if(a=R.C(a,b,c),r(d))b=J(d),c=hf(d),d=K(K(d));else return a};R.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};R.Y=3;
var S=function S(a){switch(arguments.length){case 1:return S.B(arguments[0]);case 2:return S.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return S.F(arguments[0],arguments[1],c)}};S.B=function(a){return a};S.j=function(a,b){return null==a?null:dd(a,b)};S.F=function(a,b,c){for(;;){if(null==a)return null;a=S.j(a,b);if(r(c))b=J(c),c=K(c);else return a}};
S.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};S.Y=2;function rf(a){var b=ua(a);return b?b:null!=a?l===a.Dg?!0:a.rd?!1:yc(Ic,a):yc(Ic,a)}function sf(a,b){this.pa=a;this.meta=b;this.J=393217;this.T=0}g=sf.prototype;g.ea=function(){return this.meta};g.fa=function(a,b){return new sf(this.pa,b)};g.Dg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Db(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.be(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.O=function(){return this.pa.O?this.pa.O():this.pa.call(null)};g.B=function(a){return this.pa.B?this.pa.B(a):this.pa.call(null,a)};g.j=function(a,b){return this.pa.j?this.pa.j(a,b):this.pa.call(null,a,b)};g.C=function(a,b,c){return this.pa.C?this.pa.C(a,b,c):this.pa.call(null,a,b,c)};
g.P=function(a,b,c,d){return this.pa.P?this.pa.P(a,b,c,d):this.pa.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){return this.pa.ka?this.pa.ka(a,b,c,d,e):this.pa.call(null,a,b,c,d,e)};g.Qa=function(a,b,c,d,e,f){return this.pa.Qa?this.pa.Qa(a,b,c,d,e,f):this.pa.call(null,a,b,c,d,e,f)};g.Ib=function(a,b,c,d,e,f,h){return this.pa.Ib?this.pa.Ib(a,b,c,d,e,f,h):this.pa.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){return this.pa.qb?this.pa.qb(a,b,c,d,e,f,h,k):this.pa.call(null,a,b,c,d,e,f,h,k)};
g.Jb=function(a,b,c,d,e,f,h,k,m){return this.pa.Jb?this.pa.Jb(a,b,c,d,e,f,h,k,m):this.pa.call(null,a,b,c,d,e,f,h,k,m)};g.xb=function(a,b,c,d,e,f,h,k,m,n){return this.pa.xb?this.pa.xb(a,b,c,d,e,f,h,k,m,n):this.pa.call(null,a,b,c,d,e,f,h,k,m,n)};g.yb=function(a,b,c,d,e,f,h,k,m,n,p){return this.pa.yb?this.pa.yb(a,b,c,d,e,f,h,k,m,n,p):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.pa.zb?this.pa.zb(a,b,c,d,e,f,h,k,m,n,p,u):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,v){return this.pa.Ab?this.pa.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){return this.pa.Bb?this.pa.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E){return this.pa.Cb?this.pa.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E)};g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G){return this.pa.Db?this.pa.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I){return this.pa.Eb?this.pa.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){return this.pa.Fb?this.pa.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N)};g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O){return this.pa.Gb?this.pa.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U){return this.pa.Hb?this.pa.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U)};g.be=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea){return we.uf?we.uf(this.pa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):we.call(null,this.pa,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea)};function tf(a,b){return ua(a)?new sf(a,b):null==a?null:pd(a,b)}
function uf(a){return null!=a&&(null!=a?a.J&131072||l===a.Ke||(a.J?0:yc(nd,a)):yc(nd,a))?od(a):null}var vf=function vf(a){switch(arguments.length){case 1:return vf.B(arguments[0]);case 2:return vf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return vf.F(arguments[0],arguments[1],c)}};vf.B=function(a){return a};vf.j=function(a,b){return null==a?null:hd(a,b)};
vf.F=function(a,b,c){for(;;){if(null==a)return null;a=vf.j(a,b);if(r(c))b=J(c),c=K(c);else return a}};vf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};vf.Y=2;function wf(a){return null==a||wc(H(a))}function xf(a){return null==a?!1:null!=a?a.J&8||l===a.sj?!0:a.J?!1:yc(Oc,a):yc(Oc,a)}function yf(a){return null==a?!1:null!=a?a.J&4096||l===a.Cj?!0:a.J?!1:yc(gd,a):yc(gd,a)}function zf(a){return null!=a?a.J&16777216||l===a.Jg?!0:a.J?!1:yc(zd,a):yc(zd,a)}
function Af(a){return null==a?!1:null!=a?a.J&1024||l===a.yj?!0:a.J?!1:yc(cd,a):yc(cd,a)}function Bf(a){return null!=a?a.J&67108864||l===a.Bj?!0:a.J?!1:yc(Bd,a):yc(Bd,a)}function Df(a){return null!=a?a.J&16384||l===a.Dj?!0:a.J?!1:yc(kd,a):yc(kd,a)}function Ef(a){return null!=a?a.T&512||l===a.rj?!0:!1:!1}function Ff(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Gf={};function Hf(a){return null==a?!1:null!=a?a.J&64||l===a.qa?!0:a.J?!1:yc(Sc,a):yc(Sc,a)}
function If(a){return null==a?!1:!1===a?!1:!0}function Jf(a){var b=rf(a);return b?b:null!=a?a.J&1||l===a.uj?!0:a.J?!1:yc(Jc,a):yc(Jc,a)}function Kf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Lf(a,b){return C.C(a,b,Gf)===Gf?!1:!0}
var Mf=function Mf(a){switch(arguments.length){case 1:return Mf.B(arguments[0]);case 2:return Mf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return Mf.F(arguments[0],arguments[1],c)}};Mf.B=function(){return!0};Mf.j=function(a,b){return!F.j(a,b)};Mf.F=function(a,b,c){if(F.j(a,b))return!1;a=Nf([a,b]);for(b=c;;){var d=J(b);c=K(b);if(r(b)){if(Lf(a,d))return!1;a=lf.j(a,d);b=c}else return!0}};
Mf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Mf.Y=2;function Of(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Ya(a,b);throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));}if(null!=a?a.T&2048||l===a.Xc||(a.T?0:yc(Ud,a)):yc(Ud,a))return Vd(a,b);if("string"!==typeof a&&!uc(a)&&!0!==a&&!1!==a||zc(a)!==zc(b))throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));return Ya(a,b)}
function Pf(a,b){var c=M(a),d=M(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Of(Ye(a,d),Ye(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Qf(a){return F.j(a,Of)?Of:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Rf(a,b){return H(b)?(b=Sf.B?Sf.B(b):Sf.call(null,b),Za(b,Qf(a)),H(b)):Ce}
function Tf(a){var b=Uf;return Rf(function(c,d){c=b.B?b.B(c):b.call(null,c);d=b.B?b.B(d):b.call(null,d);var e=Qf(Of);return e.j?e.j(c,d):e.call(null,c,d)},a)}function ff(a){switch(arguments.length){case 2:return ef(arguments[0],arguments[1]);case 3:return gf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function ef(a,b){var c=H(b);return c?(b=J(c),c=K(c),w.C?w.C(a,b,c):w.call(null,a,b,c)):a.O?a.O():a.call(null)}
function gf(a,b,c){for(c=H(c);;)if(c){var d=J(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Ne(b))return z(b);c=K(c)}else return b}function Vf(a){a=Sf.B?Sf.B(a):Sf.call(null,a);$a(a);return Wf.B?Wf.B(a):Wf.call(null,a)}function Xf(a,b){a=fe(a);if(r(a.Za()))for(var c=a.next();;)if(a.Za()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Ne(c))return z(c)}else return c;else return b.O?b.O():b.call(null)}
function Yf(a,b,c){for(a=fe(a);;)if(a.Za()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Ne(c))return z(c)}else return c}var w=function w(a){switch(arguments.length){case 2:return w.j(arguments[0],arguments[1]);case 3:return w.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};w.j=function(a,b){return null!=b&&(b.J&524288||l===b.Yh)?b.Sa(null,a):uc(b)?Se(b,a):"string"===typeof b?Se(b,a):yc(qd,b)?rd(b,a):ye(b)?Xf(b,a):ef(a,b)};
w.C=function(a,b,c){return null!=c&&(c.J&524288||l===c.Yh)?c.Ta(null,a,b):uc(c)?Te(c,a,b):"string"===typeof c?Te(c,a,b):yc(qd,c)?rd(c,a,b):ye(c)?Yf(c,a,b):gf(a,b,c)};w.Y=3;function Zf(a,b,c){return null!=c?ud(c,a,b):b}function $f(a){return a}
function ag(a,b){return function(){function c(h,k){return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function bg(a,b,c){return cg(a,b,b.O?b.O():b.call(null),c)}
function cg(a,b,c,d){a=a.B?a.B(b):a.call(null,b);c=w.C(a,c,d);return a.B?a.B(c):a.call(null,c)}var dg=function dg(a){switch(arguments.length){case 0:return dg.O();case 1:return dg.B(arguments[0]);case 2:return dg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return dg.F(arguments[0],arguments[1],c)}};dg.O=function(){return 0};dg.B=function(a){return a};dg.j=function(a,b){return a+b};
dg.F=function(a,b,c){return w.C(dg,a+b,c)};dg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};dg.Y=2;var fg=function fg(a){switch(arguments.length){case 1:return fg.B(arguments[0]);case 2:return fg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return fg.F(arguments[0],arguments[1],c)}};fg.B=function(a){return-a};fg.j=function(a,b){return a-b};
fg.F=function(a,b,c){return w.C(fg,a-b,c)};fg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};fg.Y=2;var gg=function gg(a){switch(arguments.length){case 0:return gg.O();case 1:return gg.B(arguments[0]);case 2:return gg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return gg.F(arguments[0],arguments[1],c)}};gg.O=function(){return 1};gg.B=function(a){return a};
gg.j=function(a,b){return a*b};gg.F=function(a,b,c){return w.C(gg,a*b,c)};gg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};gg.Y=2;var hg=function hg(a){switch(arguments.length){case 1:return hg.B(arguments[0]);case 2:return hg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return hg.F(arguments[0],arguments[1],c)}};hg.B=function(a){return 1/a};hg.j=function(a,b){return a/b};
hg.F=function(a,b,c){return w.C(hg,a/b,c)};hg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};hg.Y=2;var ig=function ig(a){switch(arguments.length){case 1:return ig.B(arguments[0]);case 2:return ig.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return ig.F(arguments[0],arguments[1],c)}};ig.B=function(){return!0};ig.j=function(a,b){return a<b};
ig.F=function(a,b,c){for(;;)if(a<b)if(K(c))a=b,b=J(c),c=K(c);else return b<J(c);else return!1};ig.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ig.Y=2;var jg=function jg(a){switch(arguments.length){case 1:return jg.B(arguments[0]);case 2:return jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return jg.F(arguments[0],arguments[1],c)}};jg.B=function(){return!0};
jg.j=function(a,b){return a<=b};jg.F=function(a,b,c){for(;;)if(a<=b)if(K(c))a=b,b=J(c),c=K(c);else return b<=J(c);else return!1};jg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};jg.Y=2;var kg=function kg(a){switch(arguments.length){case 1:return kg.B(arguments[0]);case 2:return kg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return kg.F(arguments[0],arguments[1],c)}};kg.B=function(){return!0};
kg.j=function(a,b){return a>b};kg.F=function(a,b,c){for(;;)if(a>b)if(K(c))a=b,b=J(c),c=K(c);else return b>J(c);else return!1};kg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};kg.Y=2;var lg=function lg(a){switch(arguments.length){case 1:return lg.B(arguments[0]);case 2:return lg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return lg.F(arguments[0],arguments[1],c)}};lg.B=function(){return!0};
lg.j=function(a,b){return a>=b};lg.F=function(a,b,c){for(;;)if(a>=b)if(K(c))a=b,b=J(c),c=K(c);else return b>=J(c);else return!1};lg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lg.Y=2;var mg=function mg(a){switch(arguments.length){case 1:return mg.B(arguments[0]);case 2:return mg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return mg.F(arguments[0],arguments[1],c)}};mg.B=function(a){return a};
mg.j=function(a,b){return a>b?a:b};mg.F=function(a,b,c){return w.C(mg,a>b?a:b,c)};mg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};mg.Y=2;var ng=function ng(a){switch(arguments.length){case 1:return ng.B(arguments[0]);case 2:return ng.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return ng.F(arguments[0],arguments[1],c)}};ng.B=function(a){return a};
ng.j=function(a,b){return a<b?a:b};ng.F=function(a,b,c){return w.C(ng,a<b?a:b,c)};ng.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ng.Y=2;function pg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function qg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function rg(a,b){return(a%b+b)%b}function sg(a,b){return qg((a-a%b)/b)}function tg(a,b){return a-b*sg(a,b)}
function ug(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var vg=function vg(a){switch(arguments.length){case 1:return vg.B(arguments[0]);case 2:return vg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return vg.F(arguments[0],arguments[1],c)}};vg.B=function(){return!0};vg.j=function(a,b){return vd(a,b)};
vg.F=function(a,b,c){for(;;)if(a===b)if(K(c))a=b,b=J(c),c=K(c);else return b===J(c);else return!1};vg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};vg.Y=2;var t=function t(a){switch(arguments.length){case 0:return t.O();case 1:return t.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(1),0,null);return t.F(arguments[0],c)}};t.O=function(){return""};t.B=function(a){return null==a?"":[a].join("")};
t.F=function(a,b){for(a=new ac(t.B(a));;)if(r(b))a=a.append(t.B(J(b))),b=K(b);else return a.toString()};t.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};t.Y=1;var wg=function wg(a){switch(arguments.length){case 2:return wg.j(arguments[0],arguments[1]);case 3:return wg.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};wg.j=function(a,b){return a.substring(b)};wg.C=function(a,b,c){return a.substring(b,c)};wg.Y=3;
function cf(a,b){if(zf(b))if(Ve(a)&&Ve(b)&&M(a)!==M(b))a=!1;else a:for(a=H(a),b=H(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.j(J(a),J(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return If(a)}function nf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.I=e;this.J=65937646;this.T=8192}g=nf.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 1===this.count?null:this.rest};g.ja=function(){return this.count};g.Zc=function(){return this.first};g.$c=function(){return this.bb(null)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(Ce,this.meta)};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.first};g.bb=function(){return 1===this.count?Ce:this.rest};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new nf(b,this.first,this.rest,this.count,this.I)};g.la=function(a,b){return new nf(this.meta,b,this,this.count+1,null)};
function xg(a){return null!=a?a.J&33554432||l===a.xj?!0:a.J?!1:yc(Ad,a):yc(Ad,a)}nf.prototype[Cc]=function(){return Ee(this)};function yg(a){this.meta=a;this.J=65937614;this.T=8192}g=yg.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null};g.ja=function(){return 0};g.Zc=function(){return null};g.$c=function(){throw Error("Can't pop empty list");};g.ia=function(){return He};
g.ca=function(a,b){return xg(b)||zf(b)?null==H(b):!1};g.Ja=function(){return this};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return null};g.bb=function(){return Ce};g.ha=function(){return null};g.fa=function(a,b){return b===this.meta?this:new yg(b)};g.la=function(a,b){return new nf(this.meta,b,null,1,null)};var Ce=new yg(null);yg.prototype[Cc]=function(){return Ee(this)};
function zg(a){return(null!=a?a.J&134217728||l===a.Zh||(a.J?0:yc(Cd,a)):yc(Cd,a))?(a=Dd(a))?a:Ce:w.C(lf,Ce,a)}var Ag=function Ag(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return Ag.F(c)};Ag.F=function(a){if(a instanceof ze&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Tc(a)),a=Wc(a);else break a;a=b.length;for(var c=Ce;;)if(0<a){var d=a-1;c=Pc(c,b[a-1]);a=d}else return c};Ag.Y=0;Ag.ba=function(a){return this.F(H(a))};
function Bg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.I=d;this.J=65929452;this.T=8192}g=Bg.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null==this.rest?null:H(this.rest)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};
g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.first};g.bb=function(){return null==this.rest?Ce:this.rest};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Bg(b,this.first,this.rest,this.I)};g.la=function(a,b){return new Bg(null,b,this,null)};Bg.prototype[Cc]=function(){return Ee(this)};
function df(a,b){return null==b?new nf(null,a,null,1,null):null!=b&&(b.J&64||l===b.qa)?new Bg(null,a,b,null):new Bg(null,a,H(b),null)}function Cg(a,b){if(a.na===b.na)return 0;if(r(wc(a.Nb)?b.Nb:!1))return-1;if(r(a.Nb)){if(wc(b.Nb))return 1;var c=Ya(a.Nb,b.Nb);return 0===c?Ya(a.name,b.name):c}return Ya(a.name,b.name)}function D(a,b,c,d){this.Nb=a;this.name=b;this.na=c;this._hash=d;this.J=2153775105;this.T=4096}g=D.prototype;g.toString=function(){return[":",t.B(this.na)].join("")};
g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return b instanceof D?this.na===b.na:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return C.j(a,this)};g.j=function(a,b){return C.C(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=se(this)+2654435769|0};g.ce=function(){return this.name};g.de=function(){return this.Nb};g.ga=function(a,b){return A(b,[":",t.B(this.na)].join(""))};function T(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.na===b.na:!1}function Dg(a){if(null!=a&&(a.T&4096||l===a.xf))return a.de(null);throw Error(["Doesn't support namespace: ",t.B(a)].join(""));}function Eg(a){return a instanceof D||a instanceof B}
var Fg=function Fg(a){switch(arguments.length){case 1:return Fg.B(arguments[0]);case 2:return Fg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Fg.B=function(a){if(a instanceof D)return a;if(a instanceof B)return new D(Dg(a),Gg.B?Gg.B(a):Gg.call(null,a),a.Vc,null);if(F.j("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
Fg.j=function(a,b){a=a instanceof D?Gg.B?Gg.B(a):Gg.call(null,a):a instanceof B?Gg.B?Gg.B(a):Gg.call(null,a):a;b=b instanceof D?Gg.B?Gg.B(b):Gg.call(null,b):b instanceof B?Gg.B?Gg.B(b):Gg.call(null,b):b;return new D(a,b,[r(a)?[t.B(a),"/"].join(""):null,t.B(b)].join(""),null)};Fg.Y=2;function Hg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.I=d;this.J=32374988;this.T=1}g=Hg.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
function Ig(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){this.ha(null);return null==this.s?null:K(this.s)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};
g.Ja=function(){return pd(Ce,this.meta)};g.Le=function(){return wc(this.fn)};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){this.ha(null);return null==this.s?null:J(this.s)};g.bb=function(){this.ha(null);return null!=this.s?Be(this.s):Ce};g.ha=function(){Ig(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Hg)a=Ig(a);else return this.s=a,H(this.s)};
g.fa=function(a,b){var c=this;return b===this.meta?c:new Hg(b,function(){return c.ha(null)},null,this.I)};g.la=function(a,b){return df(b,this)};Hg.prototype[Cc]=function(){return Ee(this)};function Jg(a){this.buf=a;this.end=0;this.J=2;this.T=0}Jg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};Jg.prototype.Wb=function(){var a=new Kg(this.buf,0,this.end);this.buf=null;return a};Jg.prototype.ja=function(){return this.end};function Lg(a){return new Jg(Array(a))}
function Kg(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=Kg.prototype;g.ja=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.Zd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Kg(this.K,this.off+1,this.end)};g.Sa=function(a,b){return Ue(this.K,b,this.K[this.off],this.off+1)};g.Ta=function(a,b,c){return Ue(this.K,b,c,this.off)};
function Mg(a,b,c,d){this.Wb=a;this.more=b;this.meta=c;this.I=d;this.J=31850732;this.T=1536}g=Mg.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 1<Lc(this.Wb)?new Mg(Wd(this.Wb),this.more,null,null):null==this.more?null:yd(this.more)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Ua=function(){return x(this.Wb,0)};g.bb=function(){return 1<Lc(this.Wb)?new Mg(Wd(this.Wb),this.more,null,null):null==this.more?Ce:this.more};g.ha=function(){return this};g.ae=function(){return this.Wb};g.yd=function(){return null==this.more?Ce:this.more};g.fa=function(a,b){return b===this.meta?this:new Mg(this.Wb,this.more,b,this.I)};g.la=function(a,b){return df(b,this)};g.$d=function(){return null==this.more?null:this.more};
Mg.prototype[Cc]=function(){return Ee(this)};function Ng(a,b){return 0===Lc(a)?b:new Mg(a,b,null,null)}function Og(a,b){a.add(b)}function Pg(a){return a.Wb()}function Sf(a){var b=[];for(a=H(a);;)if(null!=a)b.push(J(a)),a=K(a);else return b}function Qg(a,b){if(Ve(b))return M(b);var c=0;for(b=H(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var Rg=function Rg(a){if(null==a)return null;var c=K(a);return null==c?H(J(a)):df(J(a),Rg.B?Rg.B(c):Rg.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.O();case 1:return V.B(arguments[0]);case 2:return V.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return V.F(arguments[0],arguments[1],c)}};V.O=function(){return new Hg(null,function(){return null},null,null)};
V.B=function(a){return new Hg(null,function(){return a},null,null)};V.j=function(a,b){return new Hg(null,function(){var c=H(a);return c?Ef(c)?Ng(Xd(c),V.j(Yd(c),b)):df(J(c),V.j(Be(c),b)):b},null,null)};V.F=function(a,b,c){return function h(e,f){return new Hg(null,function(){var k=H(e);return k?Ef(k)?Ng(Xd(k),h(Yd(k),f)):df(J(k),h(Be(k),f)):r(f)?h(J(f),K(f)):null},null,null)}(V.j(a,b),c)};V.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};V.Y=2;
function Sg(a,b,c){return df(a,df(b,c))}function Tg(a){return Nd(a)}function Ug(a){return Pd(a)}var Vg=function Vg(a){switch(arguments.length){case 0:return Vg.O();case 1:return Vg.B(arguments[0]);case 2:return Vg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return Vg.F(arguments[0],arguments[1],c)}};Vg.O=function(){return Nd(mf)};Vg.B=function(a){return a};Vg.j=function(a,b){return Od(a,b)};
Vg.F=function(a,b,c){for(;;)if(a=Od(a,b),r(c))b=J(c),c=K(c);else return a};Vg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Vg.Y=2;var Xg=function Xg(a){switch(arguments.length){case 3:return Xg.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return Xg.F(arguments[0],arguments[1],arguments[2],c)}};Xg.C=function(a,b,c){return Qd(a,b,c)};
Xg.F=function(a,b,c,d){for(;;)if(a=Qd(a,b,c),r(d))b=J(d),c=hf(d),d=K(K(d));else return a};Xg.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};Xg.Y=3;
function Yg(a,b,c){var d=H(c);if(0===b)return a.O?a.O():a.call(null);c=Tc(d);var e=Uc(d);if(1===b)return a.B?a.B(c):a.call(null,c);d=Tc(e);var f=Uc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Tc(f);var h=Uc(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=Tc(h);var k=Uc(h);if(4===b)return a.P?a.P(c,d,e,f):a.call(null,c,d,e,f);h=Tc(k);var m=Uc(k);if(5===b)return a.ka?a.ka(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Tc(m);var n=Uc(m);if(6===b)return a.Qa?a.Qa(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Tc(n);var p=Uc(n);if(7===b)return a.Ib?a.Ib(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Tc(p);var u=Uc(p);if(8===b)return a.qb?a.qb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=Tc(u);var v=Uc(u);if(9===b)return a.Jb?a.Jb(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=Tc(v);var y=Uc(v);if(10===b)return a.xb?a.xb(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);v=Tc(y);var E=Uc(y);if(11===b)return a.yb?a.yb(c,d,e,f,h,k,m,n,p,u,v):a.call(null,c,d,e,f,h,k,m,n,p,u,v);y=Tc(E);var G=Uc(E);
if(12===b)return a.zb?a.zb(c,d,e,f,h,k,m,n,p,u,v,y):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y);E=Tc(G);var I=Uc(G);if(13===b)return a.Ab?a.Ab(c,d,e,f,h,k,m,n,p,u,v,y,E):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E);G=Tc(I);var N=Uc(I);if(14===b)return a.Bb?a.Bb(c,d,e,f,h,k,m,n,p,u,v,y,E,G):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G);I=Tc(N);var O=Uc(N);if(15===b)return a.Cb?a.Cb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I);N=Tc(O);var U=Uc(O);if(16===b)return a.Db?a.Db(c,d,e,f,h,k,m,
n,p,u,v,y,E,G,I,N):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N);O=Tc(U);var ea=Uc(U);if(17===b)return a.Eb?a.Eb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O);U=Tc(ea);var fa=Uc(ea);if(18===b)return a.Fb?a.Fb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U);ea=Tc(fa);fa=Uc(fa);if(19===b)return a.Gb?a.Gb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea);var qa=Tc(fa);Uc(fa);if(20===b)return a.Hb?
a.Hb(c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea,qa):a.call(null,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea,qa);throw Error("Only up to 20 arguments supported on functions");}function Zg(a){return null!=a&&(a.J&128||l===a.ee)?a.Ma(null):H(Be(a))}function $g(a,b,c){return null==c?a.B?a.B(b):a.call(a,b):ah(a,b,Tc(c),Zg(c))}function ah(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):bh(a,b,c,Tc(d),Zg(d))}function bh(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):ch(a,b,c,d,Tc(e),Zg(e))}
function ch(a,b,c,d,e,f){if(null==f)return a.P?a.P(b,c,d,e):a.call(a,b,c,d,e);var h=Tc(f),k=K(f);if(null==k)return a.ka?a.ka(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Tc(k);var m=K(k);if(null==m)return a.Qa?a.Qa(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Tc(m);var n=K(m);if(null==n)return a.Ib?a.Ib(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Tc(n);var p=K(n);if(null==p)return a.qb?a.qb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Tc(p);var u=K(p);if(null==u)return a.Jb?a.Jb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=Tc(u);var v=K(u);if(null==v)return a.xb?a.xb(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=Tc(v);var y=K(v);if(null==y)return a.yb?a.yb(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);v=Tc(y);var E=K(y);if(null==E)return a.zb?a.zb(b,c,d,e,h,f,k,m,n,p,u,v):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v);y=Tc(E);var G=K(E);if(null==G)return a.Ab?a.Ab(b,c,d,e,h,f,k,m,n,p,u,v,y):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y);E=Tc(G);var I=K(G);if(null==I)return a.Bb?a.Bb(b,c,d,e,h,f,k,m,n,p,u,v,y,E):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,v,y,E);G=Tc(I);var N=K(I);if(null==N)return a.Cb?a.Cb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G);I=Tc(N);var O=K(N);if(null==O)return a.Db?a.Db(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I);N=Tc(O);var U=K(O);if(null==U)return a.Eb?a.Eb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N);O=Tc(U);var ea=K(U);if(null==ea)return a.Fb?a.Fb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,v,y,E,G,I,N,O);U=Tc(ea);var fa=K(ea);if(null==fa)return a.Gb?a.Gb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U);ea=Tc(fa);fa=K(fa);if(null==fa)return a.Hb?a.Hb(b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,p,u,v,y,E,G,I,N,O,U,ea];for(c=fa;;)if(c)b.push(Tc(c)),c=K(c);else break;return a.apply(a,b)}
function we(a){switch(arguments.length){case 2:return dh(arguments[0],arguments[1]);case 3:return eh(arguments[0],arguments[1],arguments[2]);case 4:return fh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return gh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new ze(b.slice(5),0,null);return hh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function dh(a,b){if(a.ba){var c=a.Y,d=Qg(c+1,b);return d<=c?Yg(a,d,b):a.ba(b)}b=H(b);return null==b?a.O?a.O():a.call(a):$g(a,Tc(b),Zg(b))}function eh(a,b,c){if(a.ba){b=df(b,c);var d=a.Y;c=Qg(d,c)+1;return c<=d?Yg(a,c,b):a.ba(b)}return $g(a,b,H(c))}function fh(a,b,c,d){return a.ba?(b=Sg(b,c,d),c=a.Y,d=2+Qg(c-1,d),d<=c?Yg(a,d,b):a.ba(b)):ah(a,b,c,H(d))}function gh(a,b,c,d,e){return a.ba?(b=df(b,df(c,df(d,e))),c=a.Y,e=3+Qg(c-2,e),e<=c?Yg(a,e,b):a.ba(b)):bh(a,b,c,d,H(e))}
function hh(a,b,c,d,e,f){return a.ba?(f=Rg(f),b=df(b,df(c,df(d,df(e,f)))),c=a.Y,f=4+Qg(c-3,f),f<=c?Yg(a,f,b):a.ba(b)):ch(a,b,c,d,e,Rg(f))}var ih=function ih(a){switch(arguments.length){case 1:return ih.B(arguments[0]);case 2:return ih.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return ih.F(arguments[0],arguments[1],c)}};ih.B=function(){return!1};ih.j=function(a,b){return!F.j(a,b)};
ih.F=function(a,b,c){return wc(fh(F,a,b,c))};ih.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ih.Y=2;function jh(a){return H(a)?a:null}
function kh(){if("undefined"===typeof bc||"undefined"===typeof cc||"undefined"===typeof dc)dc=function(a){this.Ai=a;this.J=393216;this.T=0},dc.prototype.fa=function(a,b){return new dc(b)},dc.prototype.ea=function(){return this.Ai},dc.prototype.Za=function(){return!1},dc.prototype.next=function(){return Error("No such element")},dc.prototype.remove=function(){return Error("Unsupported operation")},dc.rb=!0,dc.kb="cljs.core/t_cljs$core19792",dc.vb=function(a){return A(a,"cljs.core/t_cljs$core19792")};
return new dc(W)}var lh={},mh={};function nh(a){this.Wd=lh;this._next=a}nh.prototype.Za=function(){this.Wd===lh?(this.Wd=mh,this._next=H(this._next)):this.Wd===this._next&&(this._next=K(this.Wd));return null!=this._next};nh.prototype.next=function(){if(this.Za())return this.Wd=this._next,J(this._next);throw Error("No such element");};nh.prototype.remove=function(){return Error("Unsupported operation")};
function oh(a,b){for(;;){if(null==H(b))return!0;var c=J(b);c=a.B?a.B(c):a.call(null,c);if(r(c))b=K(b);else return!1}}function ph(a,b){for(;;)if(b=H(b)){var c=J(b);c=a.B?a.B(c):a.call(null,c);if(r(c))return c;b=K(b)}else return null}function qh(a){if(Kf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.B(a)].join(""));}
function rh(a){return function(){function b(h,k){return wc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return wc(a.B?a.B(h):a.call(null,h))}function d(){return wc(a.O?a.O():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var v=Array(arguments.length-2);u<v.length;)v[u]=arguments[u+2],++u;u=new ze(v,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return wc(fh(a,m,n,p))}h.Y=2;h.ba=function(m){var n=J(m);m=K(m);var p=J(m);m=Be(m);return k(n,p,m)};
h.F=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new ze(p,0,null)}return f.F(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.Y=2;e.ba=f.ba;e.O=d;e.B=c;e.j=b;e.F=f.F;return e}()}
function sh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.Y=0;b.ba=function(c){H(c);return a};b.F=function(){return a};return b}()}
var th=function th(a){switch(arguments.length){case 0:return th.O();case 1:return th.B(arguments[0]);case 2:return th.j(arguments[0],arguments[1]);case 3:return th.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return th.F(arguments[0],arguments[1],arguments[2],c)}};th.O=function(){return $f};th.B=function(a){return a};
th.j=function(a,b){return function(){function c(m,n,p){m=b.C?b.C(m,n,p):b.call(null,m,n,p);return a.B?a.B(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.B?a.B(m):a.call(null,m)}function e(m){m=b.B?b.B(m):b.call(null,m);return a.B?a.B(m):a.call(null,m)}function f(){var m=b.O?b.O():b.call(null);return a.B?a.B(m):a.call(null,m)}var h=null,k=function(){function m(p,u,v,y){var E=null;if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+
3],++E;E=new ze(G,0,null)}return n.call(this,p,u,v,E)}function n(p,u,v,y){p=gh(b,p,u,v,y);return a.B?a.B(p):a.call(null,p)}m.Y=3;m.ba=function(p){var u=J(p);p=K(p);var v=J(p);p=K(p);var y=J(p);p=Be(p);return n(u,v,y,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=
arguments[v+3],++v;v=new ze(y,0,null)}return k.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.ba=k.ba;h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
th.C=function(a,b,c){return function(){function d(n,p,u){n=c.C?c.C(n,p,u):c.call(null,n,p,u);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function e(n,p){n=c.j?c.j(n,p):c.call(null,n,p);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function f(n){n=c.B?c.B(n):c.call(null,n);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function h(){var n=c.O?c.O():c.call(null);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}var k=null,m=function(){function n(u,
v,y,E){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new ze(I,0,null)}return p.call(this,u,v,y,G)}function p(u,v,y,E){u=gh(c,u,v,y,E);u=b.B?b.B(u):b.call(null,u);return a.B?a.B(u):a.call(null,u)}n.Y=3;n.ba=function(u){var v=J(u);u=K(u);var y=J(u);u=K(u);var E=J(u);u=Be(u);return p(v,y,E,u)};n.F=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.F(n,p,u,y)}throw Error("Invalid arity: "+arguments.length);};k.Y=3;k.ba=m.ba;k.O=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
th.F=function(a,b,c,d){var e=zg(df(a,df(b,df(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){k=dh(J(e),k);for(var m=K(e);;)if(m){var n=J(m);k=n.B?n.B(k):n.call(null,k);m=K(m)}else return k}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()};th.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};
th.Y=3;var uh=function uh(a){switch(arguments.length){case 1:return uh.B(arguments[0]);case 2:return uh.j(arguments[0],arguments[1]);case 3:return uh.C(arguments[0],arguments[1],arguments[2]);case 4:return uh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return uh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};uh.B=function(a){return a};
uh.j=function(a,b){return function(){function c(m,n,p){return a.P?a.P(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.C?a.C(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.B?a.B(b):a.call(null,b)}var h=null,k=function(){function m(p,u,v,y){var E=null;if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new ze(G,0,null)}return n.call(this,p,u,v,E)}function n(p,u,v,y){return hh(a,b,p,u,v,P([y]))}
m.Y=3;m.ba=function(p){var u=J(p);p=K(p);var v=J(p);p=K(p);var y=J(p);p=Be(p);return n(u,v,y,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=arguments[v+3],++v;v=new ze(y,0,null)}return k.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.ba=k.ba;
h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
uh.C=function(a,b,c){return function(){function d(n,p,u){return a.ka?a.ka(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.P?a.P(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.C?a.C(b,c,n):a.call(null,b,c,n)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,v,y,E){var G=null;if(3<arguments.length){G=0;for(var I=Array(arguments.length-3);G<I.length;)I[G]=arguments[G+3],++G;G=new ze(I,0,null)}return p.call(this,u,v,y,G)}function p(u,v,y,E){return hh(a,
b,c,u,v,P([y,E]))}n.Y=3;n.ba=function(u){var v=J(u);u=K(u);var y=J(u);u=K(u);var E=J(u);u=Be(u);return p(v,y,E,u)};n.F=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.F(n,p,u,y)}throw Error("Invalid arity: "+arguments.length);
};k.Y=3;k.ba=m.ba;k.O=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
uh.P=function(a,b,c,d){return function(){function e(p,u,v){return a.Qa?a.Qa(b,c,d,p,u,v):a.call(null,b,c,d,p,u,v)}function f(p,u){return a.ka?a.ka(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.P?a.P(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.C?a.C(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(v,y,E,G){var I=null;if(3<arguments.length){I=0;for(var N=Array(arguments.length-3);I<N.length;)N[I]=arguments[I+3],++I;I=new ze(N,0,null)}return u.call(this,v,y,E,I)}function u(v,
y,E,G){return hh(a,b,c,d,v,P([y,E,G]))}p.Y=3;p.ba=function(v){var y=J(v);v=K(v);var E=J(v);v=K(v);var G=J(v);v=Be(v);return u(y,E,G,v)};p.F=u;return p}();m=function(p,u,v,y){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,v);default:var E=null;if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new ze(G,0,null)}return n.F(p,u,v,E)}throw Error("Invalid arity: "+
arguments.length);};m.Y=3;m.ba=n.ba;m.O=k;m.B=h;m.j=f;m.C=e;m.F=n.F;return m}()};uh.F=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){return gh(a,b,c,d,V.j(e,k))}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()};
uh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};uh.Y=4;
function vh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.C?a.C(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.B?a.B(k):a.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.call(this,n,p,u,y)}function m(n,p,u,v){return gh(a,null==n?b:n,p,u,v)}k.Y=3;k.ba=function(n){var p=
J(n);n=K(n);var u=J(n);n=K(n);var v=J(n);n=Be(n);return m(p,u,v,n)};k.F=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new ze(v,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.Y=3;f.ba=h.ba;f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
function wh(a,b){return new Hg(null,function(){var c=H(b);if(c){if(Ef(c)){for(var d=Xd(c),e=M(d),f=Lg(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.B?a.B(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Ng(Pg(f),wh(a,Yd(c)))}e=function(){var m=J(c);return a.B?a.B(m):a.call(null,m)}();return null==e?wh(a,Be(c)):df(e,wh(a,Be(c)))}return null},null,null)}function xh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.tb=null;this.T=16386;this.J=6455296}g=xh.prototype;
g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return this===b};g.ub=function(){return this.state};g.ea=function(){return this.meta};g.Ff=function(a,b){for(var c=H(this.tb),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f),k=Q(h,0,null);h=Q(h,1,null);h.P?h.P(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=H(c))Ef(c)?(d=Xd(c),c=Yd(c),k=d,e=M(d),d=k):(d=J(c),k=Q(d,0,null),h=Q(d,1,null),h.P?h.P(k,this,a,b):h.call(null,k,this,a,b),c=K(c),d=null,e=0),f=0;else break};
g.Me=function(a,b,c){this.tb=R.C(this.tb,b,c);return this};g.Ne=function(a,b){return this.tb=S.j(this.tb,b)};g.ia=function(){return xa(this)};function yh(a){return new xh(a,null,null)}function zh(a,b){if(a instanceof xh){var c=a.validator;if(null!=c&&!r(c.B?c.B(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.tb&&a.Ff(c,b);return b}return ae(a,b)}
var Ah=function Ah(a){switch(arguments.length){case 2:return Ah.j(arguments[0],arguments[1]);case 3:return Ah.C(arguments[0],arguments[1],arguments[2]);case 4:return Ah.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return Ah.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ah.j=function(a,b){if(a instanceof xh){var c=a.state;b=b.B?b.B(c):b.call(null,c);a=zh(a,b)}else a=be(a,b);return a};Ah.C=function(a,b,c){if(a instanceof xh){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=zh(a,b)}else a=be(a,b,c);return a};Ah.P=function(a,b,c,d){if(a instanceof xh){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=zh(a,b)}else a=be(a,b,c,d);return a};Ah.F=function(a,b,c,d,e){return a instanceof xh?zh(a,gh(b,a.state,c,d,e)):be(a,b,c,d,e)};
Ah.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Ah.Y=4;function Bh(a){return F.j(a.ub(null),!1)?(zh(a,!0),!0):!1}function Ch(a){this.state=a;this.J=32768;this.T=0}Ch.prototype.fe=function(a,b){return this.state=b};Ch.prototype.ub=function(){return this.state};
function Dh(){var a=Eh,b=Fh;return function(){function c(k,m,n){var p=a.B?a.B(k):a.call(null,k);if(r(p))return p;p=a.B?a.B(m):a.call(null,m);if(r(p))return p;p=a.B?a.B(n):a.call(null,n);if(r(p))return p;k=b.B?b.B(k):b.call(null,k);if(r(k))return k;m=b.B?b.B(m):b.call(null,m);return r(m)?m:b.B?b.B(n):b.call(null,n)}function d(k,m){var n=a.B?a.B(k):a.call(null,k);if(r(n))return n;n=a.B?a.B(m):a.call(null,m);if(r(n))return n;k=b.B?b.B(k):b.call(null,k);return r(k)?k:b.B?b.B(m):b.call(null,m)}function e(k){var m=
a.B?a.B(k):a.call(null,k);return r(m)?m:b.B?b.B(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new ze(E,0,null)}return m.call(this,n,p,u,y)}function m(n,p,u,v){n=f.C(n,p,u);return r(n)?n:ph(function(y){var E=a.B?a.B(y):a.call(null,y);return r(E)?E:b.B?b.B(y):b.call(null,y)},v)}k.Y=3;k.ba=function(n){var p=J(n);n=K(n);var u=J(n);n=K(n);var v=J(n);n=Be(n);return m(p,u,v,n)};
k.F=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new ze(v,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.Y=3;f.ba=h.ba;f.O=function(){return null};f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
var Gh=function Gh(a){switch(arguments.length){case 1:return Gh.B(arguments[0]);case 2:return Gh.j(arguments[0],arguments[1]);case 3:return Gh.C(arguments[0],arguments[1],arguments[2]);case 4:return Gh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return Gh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Gh.B=function(a){return function(b){return function(){function c(k,m){m=a.B?a.B(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.B?b.B(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(n,p,u){var v=null;if(2<arguments.length){v=0;for(var y=Array(arguments.length-2);v<y.length;)y[v]=arguments[v+2],++v;v=new ze(y,0,null)}return m.call(this,n,p,v)}function m(n,p,u){p=eh(a,p,u);return b.j?b.j(n,p):b.call(null,n,p)}k.Y=2;k.ba=function(n){var p=
J(n);n=K(n);var u=J(n);n=Be(n);return m(p,u,n)};k.F=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new ze(u,0,null)}return h.F(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.Y=2;f.ba=h.ba;f.O=e;f.B=d;f.j=c;f.F=h.F;return f}()}};
Gh.j=function(a,b){return new Hg(null,function(){var c=H(b);if(c){if(Ef(c)){for(var d=Xd(c),e=M(d),f=Lg(e),h=0;;)if(h<e)Og(f,function(){var k=x(d,h);return a.B?a.B(k):a.call(null,k)}()),h+=1;else break;return Ng(Pg(f),Gh.j(a,Yd(c)))}return df(function(){var k=J(c);return a.B?a.B(k):a.call(null,k)}(),Gh.j(a,Be(c)))}return null},null,null)};
Gh.C=function(a,b,c){return new Hg(null,function(){var d=H(b),e=H(c);if(d&&e){var f=J(d);var h=J(e);f=a.j?a.j(f,h):a.call(null,f,h);d=df(f,Gh.C(a,Be(d),Be(e)))}else d=null;return d},null,null)};Gh.P=function(a,b,c,d){return new Hg(null,function(){var e=H(b),f=H(c),h=H(d);if(e&&f&&h){var k=J(e);var m=J(f),n=J(h);k=a.C?a.C(k,m,n):a.call(null,k,m,n);e=df(k,Gh.P(a,Be(e),Be(f),Be(h)))}else e=null;return e},null,null)};
Gh.F=function(a,b,c,d,e){return Gh.j(function(f){return dh(a,f)},function k(h){return new Hg(null,function(){var m=Gh.j(H,h);return oh($f,m)?df(Gh.j(J,m),k(Gh.j(Be,m))):null},null,null)}(lf.F(e,d,P([c,b]))))};Gh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Gh.Y=4;
var Hh=function Hh(a){switch(arguments.length){case 1:return Hh.B(arguments[0]);case 2:return Hh.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};
Hh.B=function(a){return function(b){var c=new Ch(a);return function(){function d(k,m){var n=z(c),p=c.fe(null,c.ub(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<p?k:Ne(k)?k:Me(k)}function e(k){return b.B?b.B(k):b.call(null,k)}function f(){return b.O?b.O():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.O=f;h.B=e;h.j=d;return h}()}};
Hh.j=function(a,b){return new Hg(null,function(){if(0<a){var c=H(b);return c?df(J(c),Hh.j(a-1,Be(c))):null}return null},null,null)};Hh.Y=2;function Ih(a,b){return new Hg(null,function(){a:for(var c=a,d=b;;)if(d=H(d),0<c&&d)--c,d=Be(d);else break a;return d},null,null)}function Jh(a,b){return Gh.C(function(c){return c},b,Ih(a,b))}
function Kh(a,b){return new Hg(null,function(){a:for(var c=a,d=b;;){d=H(d);var e;if(e=d)e=J(d),e=c.B?c.B(e):c.call(null,e);if(r(e))d=Be(d);else break a}return d},null,null)}function Lh(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.I=null;this.J=32374988;this.T=1}g=Lh.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null==this.next?1<this.count?this.next=new Lh(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Le=function(){return!1};g.Sa=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Ne(c))return z(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Ne(c))return z(c);a+=1}else return c};
g.Ta=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Ne(c))return z(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Ne(c))return z(c);a+=1}else return c};g.Ua=function(){return this.val};g.bb=function(){return null==this.next?1<this.count?this.next=new Lh(null,this.count-1,this.val,null):-1===this.count?this:Ce:this.next};g.ha=function(){return this};
g.fa=function(a,b){return b===this.meta?this:new Lh(b,this.count,this.val,this.next)};g.la=function(a,b){return df(b,this)};function Mh(a){return new Lh(null,-1,a,null)}function Nh(a,b){return 0<a?new Lh(null,a,b,null):Ce}function Oh(a){return new Hg(null,function(){return df(a.O?a.O():a.call(null),Oh(a))},null,null)}function Ph(a,b){return Hh.j(a,Oh(b))}
var Qh=function Qh(a){switch(arguments.length){case 0:return Qh.O();case 1:return Qh.B(arguments[0]);case 2:return Qh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return Qh.F(arguments[0],arguments[1],c)}};Qh.O=function(){return Ce};Qh.B=function(a){return new Hg(null,function(){return a},null,null)};
Qh.j=function(a,b){return new Hg(null,function(){var c=H(a),d=H(b);return c&&d?df(J(c),df(J(d),Qh.j(Be(c),Be(d)))):null},null,null)};Qh.F=function(a,b,c){return new Hg(null,function(){var d=Gh.j(H,lf.F(c,b,P([a])));return oh($f,d)?V.j(Gh.j(J,d),dh(Qh,Gh.j(Be,d))):null},null,null)};Qh.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Qh.Y=2;
function Rh(){return function(a){var b=new Ch(!1);return function(){function c(h,k){if(r(z(b)))return h=a.j?a.j(h," "):a.call(null,h," "),Ne(h)?h:a.j?a.j(h,k):a.call(null,h,k);de(b,!0);return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};
f.O=e;f.B=d;f.j=c;return f}()}}function Sh(a,b){return dh(V,eh(Gh,a,b))}
function Th(a){return function(b){return function(){function c(h,k){return r(a.B?a.B(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return b.O?b.O():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}
function Vh(a,b){return new Hg(null,function(){var c=H(b);if(c){if(Ef(c)){for(var d=Xd(c),e=M(d),f=Lg(e),h=0;;)if(h<e){var k=x(d,h);k=a.B?a.B(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Ng(Pg(f),Vh(a,Yd(c)))}d=J(c);c=Be(c);return r(a.B?a.B(d):a.call(null,d))?df(d,Vh(a,c)):Vh(a,c)}return null},null,null)}function Wh(a,b){return Vh(rh(a),b)}
var Xh=function Xh(a){switch(arguments.length){case 0:return Xh.O();case 1:return Xh.B(arguments[0]);case 2:return Xh.j(arguments[0],arguments[1]);case 3:return Xh.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Xh.O=function(){return mf};Xh.B=function(a){return a};Xh.j=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.Gg)?pd(Pd(w.C(Od,Nd(a),b)),uf(a)):w.C(Pc,a,b):w.C(lf,a,b)};
Xh.C=function(a,b,c){return null!=a&&(a.T&4||l===a.Gg)?pd(Pd(cg(b,Vg,Nd(a),c)),uf(a)):cg(b,lf,a,c)};Xh.Y=3;
var Yh=function Yh(a){switch(arguments.length){case 2:return Yh.j(arguments[0],arguments[1]);case 3:return Yh.C(arguments[0],arguments[1],arguments[2]);case 4:return Yh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(4),0,null);return Yh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Yh.j=function(a,b){return Pd(w.C(function(c,d){return Vg.j(c,a.B?a.B(d):a.call(null,d))},Nd(mf),b))};Yh.C=function(a,b,c){return Xh.j(mf,Gh.C(a,b,c))};Yh.P=function(a,b,c,d){return Xh.j(mf,Gh.P(a,b,c,d))};Yh.F=function(a,b,c,d,e){return Xh.j(mf,hh(Gh,a,b,c,d,P([e])))};Yh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Yh.Y=4;function Zh(a,b){return Pd(w.C(function(c,d){return r(a.B?a.B(d):a.call(null,d))?Vg.j(c,d):c},Nd(mf),b))}
function $h(a,b,c){return new Hg(null,function(){var d=H(c);if(d){var e=Hh.j(a,d);return a===M(e)?df(e,$h(a,b,Ih(b,d))):null}return null},null,null)}function ai(a,b){return w.C(C,a,b)}function bi(a,b,c){var d=Gf;for(b=H(b);;)if(null!=b){a=C.C(a,J(b),d);if(d===a)return c;b=K(b)}else return a}
var ci=function ci(a,b,c){b=H(b);var e=J(b),f=K(b);return f?R.C(a,e,function(){var h=C.j(a,e);return ci.C?ci.C(h,f,c):ci.call(null,h,f,c)}()):R.C(a,e,c)},di=function di(a){switch(arguments.length){case 3:return di.C(arguments[0],arguments[1],arguments[2]);case 4:return di.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return di.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return di.Qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(6),0,null);return di.F(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};di.C=function(a,b,c){b=H(b);var d=J(b);return(b=K(b))?R.C(a,d,di.C(C.j(a,d),b,c)):R.C(a,d,function(){var e=C.j(a,d);return c.B?c.B(e):c.call(null,e)}())};
di.P=function(a,b,c,d){b=H(b);var e=J(b);return(b=K(b))?R.C(a,e,di.P(C.j(a,e),b,c,d)):R.C(a,e,function(){var f=C.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};di.ka=function(a,b,c,d,e){b=H(b);var f=J(b);return(b=K(b))?R.C(a,f,di.ka(C.j(a,f),b,c,d,e)):R.C(a,f,function(){var h=C.j(a,f);return c.C?c.C(h,d,e):c.call(null,h,d,e)}())};
di.Qa=function(a,b,c,d,e,f){b=H(b);var h=J(b);return(b=K(b))?R.C(a,h,di.Qa(C.j(a,h),b,c,d,e,f)):R.C(a,h,function(){var k=C.j(a,h);return c.P?c.P(k,d,e,f):c.call(null,k,d,e,f)}())};di.F=function(a,b,c,d,e,f,h){var k=H(b);b=J(k);return(k=K(k))?R.C(a,b,hh(di,C.j(a,b),k,c,d,P([e,f,h]))):R.C(a,b,hh(c,C.j(a,b),d,e,f,P([h])))};di.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.F(b,a,c,d,e,f,h)};di.Y=6;
var ei=function ei(a){switch(arguments.length){case 3:return ei.C(arguments[0],arguments[1],arguments[2]);case 4:return ei.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ei.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ei.Qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(6),0,null);return ei.F(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ei.C=function(a,b,c){return R.C(a,b,function(){var d=C.j(a,b);return c.B?c.B(d):c.call(null,d)}())};ei.P=function(a,b,c,d){return R.C(a,b,function(){var e=C.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};ei.ka=function(a,b,c,d,e){return R.C(a,b,function(){var f=C.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};ei.Qa=function(a,b,c,d,e,f){return R.C(a,b,function(){var h=C.j(a,b);return c.P?c.P(h,d,e,f):c.call(null,h,d,e,f)}())};
ei.F=function(a,b,c,d,e,f,h){return R.C(a,b,hh(c,C.j(a,b),d,e,f,P([h])))};ei.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.F(b,a,c,d,e,f,h)};ei.Y=6;function fi(a,b){this.La=a;this.K=b}function gi(a){return new fi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function hi(a){return new fi(a.La,Fc(a.K))}function ii(a){a=a.aa;return 32>a?0:a-1>>>5<<5}function ji(a,b,c){for(;;){if(0===b)return c;var d=gi(a);d.K[0]=c;c=d;b-=5}}var ki=function ki(a,b,c,d){var f=hi(c),h=a.aa-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=ki.P?ki.P(a,b,c,d):ki.call(null,a,b,c,d)):a=ji(null,b-5,d),f.K[h]=a);return f};function li(a,b){throw Error(["No item ",t.B(a)," in vector of length ",t.B(b)].join(""));}
function mi(a,b){if(b>=ii(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function ni(a,b){return 0<=b&&b<a.aa?mi(a,b):li(b,a.aa)}
var oi=function oi(a,b,c,d,e){var h=hi(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=oi.ka?oi.ka(a,b,c,d,e):oi.call(null,a,b,c,d,e);h.K[k]=a}return h},pi=function pi(a,b,c){var e=a.aa-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=pi.C?pi.C(a,b,f):pi.call(null,a,b,f);if(null==a&&0===e)return null;c=hi(c);c.K[e]=a;return c}if(0===e)return null;c=hi(c);c.K[e]=null;return c};function qi(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
qi.prototype.Za=function(){return this.i<this.end};qi.prototype.next=function(){32===this.i-this.base&&(this.K=mi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function ri(a,b,c){return new qi(b,b-b%32,b<M(a)?mi(a,b):null,a,b,c)}function si(a,b,c,d){return c<d?ti(a,b,Ye(a,c),c+1,d):b.O?b.O():b.call(null)}
function ti(a,b,c,d,e){var f=c;c=d;for(d=mi(a,d);;)if(c<e){var h=c&31;d=0===h?mi(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Ne(f))return z(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.aa=b;this.shift=c;this.root=d;this.tail=e;this.I=f;this.J=167666463;this.T=139268}g=X.prototype;g.Yc=function(a,b){return 0<=b&&b<this.aa?new Y(b,mi(this,b)[b&31]):null};g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.aa){var e=mi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Ne(d)){e=d;break a}f+=1}else{e=d;break a}if(Ne(e))return z(e);a+=c;d=e}else return d};g.tf=l;g.xa=function(a,b){return ni(this,b)[b&31]};g.Ra=function(a,b,c){return 0<=b&&b<this.aa?mi(this,b)[b&31]:c};
g.Dc=function(a,b,c){if(0<=b&&b<this.aa)return ii(this)<=b?(a=Fc(this.tail),a[b&31]=c,new X(this.meta,this.aa,this.shift,this.root,a,null)):new X(this.meta,this.aa,this.shift,oi(this,this.shift,this.root,b,c),this.tail,null);if(b===this.aa)return this.la(null,c);throw Error(["Index ",t.B(b)," out of bounds  [0,",t.B(this.aa),"]"].join(""));};g.oa=function(){return ri(this,0,this.aa)};g.ea=function(){return this.meta};g.ja=function(){return this.aa};
g.Zc=function(){return 0<this.aa?this.xa(null,this.aa-1):null};g.$c=function(){if(0===this.aa)throw Error("Can't pop empty vector");if(1===this.aa)return pd(mf,this.meta);if(1<this.aa-ii(this))return new X(this.meta,this.aa-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=mi(this,this.aa-2),b=pi(this,this.shift,this.root);b=null==b?Z:b;var c=this.aa-1;return 5<this.shift&&null==b.K[1]?new X(this.meta,c,this.shift-5,b.K[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
g.qc=function(){return 0<this.aa?new bf(this,this.aa-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){if(b instanceof X)if(this.aa===M(b))for(a=this.oa(null),b=b.oa(null);;)if(a.Za()){var c=a.next(),d=b.next();if(!F.j(c,d))return!1}else return!0;else return!1;else return cf(this,b)};g.od=function(){return new ui(this.aa,this.shift,vi.B?vi.B(this.root):vi.call(null,this.root),wi.B?wi.B(this.tail):wi.call(null,this.tail))};
g.Ja=function(){return pd(mf,this.meta)};g.Sa=function(a,b){return si(this,b,0,this.aa)};g.Ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.aa){var e=mi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Ne(d)){e=d;break a}f+=1}else{e=d;break a}if(Ne(e))return z(e);a+=c;d=e}else return d};g.da=function(a,b,c){if("number"===typeof b)return this.Dc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ha=function(){if(0===this.aa)return null;if(32>=this.aa)return new ze(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return xi?xi(this,a,0,0):yi.call(null,this,a,0,0)};g.fa=function(a,b){return b===this.meta?this:new X(b,this.aa,this.shift,this.root,this.tail,this.I)};
g.la=function(a,b){if(32>this.aa-ii(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.aa+1,this.shift,this.root,c,null)}a=(c=this.aa>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=gi(null),c.K[0]=this.root,d=ji(null,this.shift,new fi(null,this.tail)),c.K[1]=d):c=ki(this,this.shift,this.root,new fi(null,this.tail));return new X(this.meta,this.aa+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};
var Z=new fi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),mf=new X(null,0,5,Z,[],He);function zi(a,b){var c=a.length;a=b?a:Fc(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).od(null);;)if(b<c)d=b+1,e=Vg.j(e,a[b]),b=d;else return Pd(e)}X.prototype[Cc]=function(){return Ee(this)};
function Wf(a){return r(Ai.B?Ai.B(a):Ai.call(null,a))?new X(null,2,5,Z,[Bi.B?Bi.B(a):Bi.call(null,a),Ci.B?Ci.B(a):Ci.call(null,a)],null):Df(a)?tf(a,null):uc(a)?zi(a,!0):Pd(w.C(Od,Nd(mf),a))}var Di=function Di(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return Di.F(c)};Di.F=function(a){return a instanceof ze&&0===a.i?zi(a.K,!uc(a.K)):Wf(a)};Di.Y=0;Di.ba=function(a){return this.F(H(a))};
function Ei(a,b,c,d,e){this.ic=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.I=null;this.J=32375020;this.T=1536}g=Ei.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){if(this.off+1<this.node.length){var a=this.ic;var b=this.node,c=this.i,d=this.off+1;a=xi?xi(a,b,c,d):yi.call(null,a,b,c,d);return null==a?null:a}return this.$d()};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return si(this.ic,b,this.i+this.off,M(this.ic))};g.Ta=function(a,b,c){return ti(this.ic,b,c,this.i+this.off,M(this.ic))};g.Ua=function(){return this.node[this.off]};g.bb=function(){if(this.off+1<this.node.length){var a=this.ic;var b=this.node,c=this.i,d=this.off+1;a=xi?xi(a,b,c,d):yi.call(null,a,b,c,d);return null==a?Ce:a}return this.yd(null)};g.ha=function(){return this};
g.ae=function(){var a=this.node;return new Kg(a,this.off,a.length)};g.yd=function(){var a=this.i+this.node.length;if(a<Lc(this.ic)){var b=this.ic,c=mi(this.ic,a);return xi?xi(b,c,a,0):yi.call(null,b,c,a,0)}return Ce};g.fa=function(a,b){return b===this.meta?this:Fi?Fi(this.ic,this.node,this.i,this.off,b):yi.call(null,this.ic,this.node,this.i,this.off,b)};g.la=function(a,b){return df(b,this)};
g.$d=function(){var a=this.i+this.node.length;if(a<Lc(this.ic)){var b=this.ic,c=mi(this.ic,a);return xi?xi(b,c,a,0):yi.call(null,b,c,a,0)}return null};Ei.prototype[Cc]=function(){return Ee(this)};
function yi(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ei(b,ni(b,c),c,d,null);case 4:return xi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function xi(a,b,c,d){return new Ei(a,b,c,d,null)}function Fi(a,b,c,d,e){return new Ei(a,b,c,d,e)}
function Gi(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.I=e;this.J=167666463;this.T=139264}g=Gi.prototype;g.Yc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,Yc(this.v,a)):null};g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.va=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Ne(c))return z(c);d+=1;a+=1}else return c};g.xa=function(a,b){return 0>b||this.end<=this.start+b?li(b,this.end-this.start):x(this.v,this.start+b)};g.Ra=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Dc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.B(b)," out of bounds [0,",t.B(this.ja(null)),"]"].join(""));b=this.meta;c=R.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Hi.ka?Hi.ka(b,c,d,a,null):Hi.call(null,b,c,d,a,null)};g.oa=function(){return null!=this.v&&l===this.v.tf?ri(this.v,this.start,this.end):new nh(this)};g.ea=function(){return this.meta};g.ja=function(){return this.end-this.start};
g.Zc=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.$c=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Hi.ka?Hi.ka(a,b,c,d,null):Hi.call(null,a,b,c,d,null)};g.qc=function(){return this.start!==this.end?new bf(this,this.end-this.start-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(mf,this.meta)};
g.Sa=function(a,b){return null!=this.v&&l===this.v.tf?si(this.v,b,this.start,this.end):Qe(this,b)};g.Ta=function(a,b,c){return null!=this.v&&l===this.v.tf?ti(this.v,b,c,this.start,this.end):Re(this,b,c)};g.da=function(a,b,c){if("number"===typeof b)return this.Dc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ha=function(){var a=this;return function d(c){return c===a.end?null:df(x(a.v,c),new Hg(null,function(){return d(c+1)},null,null))}(a.start)};
g.fa=function(a,b){return b===this.meta?this:Hi.ka?Hi.ka(b,this.v,this.start,this.end,this.I):Hi.call(null,b,this.v,this.start,this.end,this.I)};g.la=function(a,b){a=this.meta;b=ld(this.v,this.end,b);var c=this.start,d=this.end+1;return Hi.ka?Hi.ka(a,b,c,d,null):Hi.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Gi.prototype[Cc]=function(){return Ee(this)};function Hi(a,b,c,d,e){for(;;)if(b instanceof Gi)c=b.start+c,d=b.start+d,b=b.v;else{if(!Df(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>M(b))throw Error("Index out of bounds");return new Gi(a,b,c,d,e)}}function Ii(a,b,c){return Hi(null,a,b|0,c|0,null)}
function Ji(a,b){return a===b.La?b:new fi(a,Fc(b.K))}function vi(a){return new fi({},Fc(a.K))}function wi(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Ff(a,0,b,0,a.length);return b}var Ki=function Ki(a,b,c,d){c=Ji(a.root.La,c);var f=a.aa-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Ki.P?Ki.P(a,b,h,d):Ki.call(null,a,b,h,d)):a=ji(a.root.La,b-5,d)}c.K[f]=a;return c};
function ui(a,b,c,d){this.aa=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.J=275}g=ui.prototype;
g.pd=function(a,b){if(this.root.La){if(32>this.aa-ii(this))this.tail[this.aa&31]=b;else{a=new fi(this.root.La,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.aa>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ji(this.root.La,this.shift,a),this.root=new fi(this.root.La,b),this.shift=c):this.root=Ki(this,this.shift,this.root,a)}this.aa+=1;return this}throw Error("conj! after persistent!");};g.zd=function(){if(this.root.La){this.root.La=null;var a=this.aa-ii(this),b=Array(a);Ff(this.tail,0,b,0,a);return new X(null,this.aa,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Nd=function(a,b,c){if("number"===typeof b)return Li(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Li(a,b,c){if(a.root.La){if(0<=b&&b<a.aa){if(ii(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ji(a.root.La,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.aa)return a.pd(null,c);throw Error(["Index ",t.B(b)," out of bounds for TransientVector of length",t.B(a.aa)].join(""));}throw Error("assoc! after persistent!");}g.ja=function(){if(this.root.La)return this.aa;throw Error("count after persistent!");};
g.xa=function(a,b){if(this.root.La)return ni(this,b)[b&31];throw Error("nth after persistent!");};g.Ra=function(a,b,c){return 0<=b&&b<this.aa?this.xa(null,b):c};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.root.La)return"number"===typeof b?this.Ra(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function Mi(a,b){this.Pd=a;this.ze=b}Mi.prototype.Za=function(){var a=null!=this.Pd&&H(this.Pd);return a?a:null!=this.ze?this.ze.Za():!1};
Mi.prototype.next=function(){if(null!=this.Pd){var a=J(this.Pd);this.Pd=K(this.Pd);return a}if(null!=this.ze&&this.ze.Za())return this.ze.next();throw Error("No such element");};Mi.prototype.remove=function(){return Error("Unsupported operation")};function Ni(a,b,c,d){this.meta=a;this.Tb=b;this.hc=c;this.I=d;this.J=31850700;this.T=0}g=Ni.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=K(this.Tb);return a?new Ni(this.meta,a,this.hc,null):null!=this.hc?new Ni(this.meta,this.hc,null,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(Ce,this.meta)};g.Ua=function(){return J(this.Tb)};g.bb=function(){var a=K(this.Tb);return a?new Ni(this.meta,a,this.hc,null):null==this.hc?this.Ja(null):new Ni(this.meta,this.hc,null,null)};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Ni(b,this.Tb,this.hc,this.I)};g.la=function(a,b){return df(b,this)};Ni.prototype[Cc]=function(){return Ee(this)};
function Oi(a,b,c,d,e){this.meta=a;this.count=b;this.Tb=c;this.hc=d;this.I=e;this.T=139264;this.J=31858766}g=Oi.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,this.count.B?this.count.B(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.oa=function(){return new Mi(this.Tb,fe(this.hc))};g.ea=function(){return this.meta};g.ja=function(){return this.count};g.Zc=function(){return J(this.Tb)};
g.$c=function(){if(r(this.Tb)){var a=K(this.Tb);return a?new Oi(this.meta,this.count-1,a,this.hc,null):new Oi(this.meta,this.count-1,H(this.hc),mf,null)}return this};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return pd(Pi,this.meta)};g.Ua=function(){return J(this.Tb)};g.bb=function(){return Be(H(this))};g.ha=function(){var a=H(this.hc),b=this.Tb;return r(r(b)?b:a)?new Ni(null,this.Tb,H(a),null):null};
g.fa=function(a,b){return b===this.meta?this:new Oi(b,this.count,this.Tb,this.hc,this.I)};g.la=function(a,b){r(this.Tb)?(a=this.hc,b=new Oi(this.meta,this.count+1,this.Tb,lf.j(r(a)?a:mf,b),null)):b=new Oi(this.meta,this.count+1,lf.j(this.Tb,b),mf,null);return b};var Pi=new Oi(null,0,null,mf,He);Oi.prototype[Cc]=function(){return Ee(this)};function Qi(){this.J=2097152;this.T=0}Qi.prototype.equiv=function(a){return this.ca(null,a)};Qi.prototype.ca=function(){return!1};var Ri=new Qi;
function Si(a,b){return If(Af(b)&&!Bf(b)?M(a)===M(b)?(null!=a?a.J&1048576||l===a.wj||(a.J?0:yc(td,a)):yc(td,a))?Zf(function(c,d,e){return F.j(C.C(b,d,Ri),e)?!0:Me(!1)},!0,a):oh(function(c){return F.j(C.C(b,J(c),Ri),hf(c))},a):null:null)}function Ti(a,b,c,d){this.i=0;this.gj=a;this.zg=b;this.fields=c;this.Sg=d}Ti.prototype.Za=function(){var a=this.i<this.zg;return a?a:this.Sg.Za()};Ti.prototype.next=function(){if(this.i<this.zg){var a=Ye(this.fields,this.i);this.i+=1;return new Y(a,Yc(this.gj,a))}return this.Sg.next()};
Ti.prototype.remove=function(){return Error("Unsupported operation")};function Ui(a){this.s=a}Ui.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=Q(a,0,null);a=Q(a,1,null);this.s=K(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Vi(a){this.s=a}Vi.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Wi(a,b){if(b instanceof D)a:{var c=a.length;b=b.na;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].na){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof B)a:for(c=a.length,b=b.Vc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].Vc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.j(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b){this.key=a;this.val=b;this.I=null;this.J=166619935;this.T=0}g=Y.prototype;g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Dc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Dc(null,b,c)};g.ea=function(){return null};g.ja=function(){return 2};g.vf=function(){return this.key};g.wf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};g.qc=function(){return new ze([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Qe(this,b)};g.Ta=function(a,b,c){return Re(this,b,c)};g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new ze([this.key,this.val],0,null)};g.fa=function(a,b){return tf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};function Ai(a){return null!=a?a.J&2048||l===a.zj?!0:!1:!1}function Xi(a,b,c){this.K=a;this.i=b;this.nc=c;this.J=32374990;this.T=0}g=Xi.prototype;
g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.nc};g.Ma=function(){return this.i<this.K.length-2?new Xi(this.K,this.i+2,null):null};g.ja=function(){return(this.K.length-this.i)/2};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return new Y(this.K[this.i],this.K[this.i+1])};g.bb=function(){return this.i<this.K.length-2?new Xi(this.K,this.i+2,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.nc?this:new Xi(this.K,this.i,b)};g.la=function(a,b){return df(b,this)};Xi.prototype[Cc]=function(){return Ee(this)};
function Yi(a,b){this.K=a;this.i=0;this.aa=b}Yi.prototype.Za=function(){return this.i<this.aa};Yi.prototype.next=function(){var a=new Y(this.K[this.i],this.K[this.i+1]);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.aa=b;this.K=c;this.I=d;this.J=16647951;this.T=139268}g=q.prototype;g.Yc=function(a,b){a=Wi(this.K,b);return-1===a?null:new Y(this.K[a],this.K[a+1])};g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.keys=function(){return Ee(Zi.B?Zi.B(this):Zi.call(null,this))};g.entries=function(){return new Ui(H(H(this)))};g.values=function(){return Ee($i.B?$i.B(this):$i.call(null,this))};g.has=function(a){return Lf(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=Wi(this.K,b);return-1===a?c:this.K[a+1]};
g.va=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Ne(c))return z(c);d+=2}else return c};g.oa=function(){return new Yi(this.K,2*this.aa)};g.ea=function(){return this.meta};g.ja=function(){return this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};
g.ca=function(a,b){if(Af(b)&&!Bf(b))if(a=this.K.length,this.aa===b.ja(null))for(var c=0;;)if(c<a){var d=b.R(null,this.K[c],Gf);if(d!==Gf)if(F.j(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.od=function(){return new aj(this.K.length,Fc(this.K))};g.Ja=function(){return pd(W,this.meta)};g.Sa=function(a,b){return Xf(this,b)};g.Ta=function(a,b,c){return Yf(this,b,c)};
g.wa=function(a,b){if(0<=Wi(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Ja(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.aa-1,c,null);F.j(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.da=function(a,b,c){a=Wi(this.K,b);if(-1===a){if(this.aa<bj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.aa+1,e,null)}return pd(ad(Xh.j(cj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=Fc(this.K);b[a+1]=c;return new q(this.meta,this.aa,b,null)};g.ha=function(){var a=this.K;return 0<=a.length-2?new Xi(a,0,null):null};g.fa=function(a,b){return b===this.meta?this:new q(b,this.aa,this.K,this.I)};
g.la=function(a,b){if(Df(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Df(c))a=ad(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var W=new q(null,0,[],Je),bj=8;function qf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Wi(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new q(null,b.length/2,b,null)}q.prototype[Cc]=function(){return Ee(this)};function aj(a,b){this.Bd={};this.Ic=a;this.K=b;this.J=259;this.T=56}g=aj.prototype;
g.ja=function(){if(this.Bd)return sg(this.Ic,2);throw Error("count after persistent!");};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.Bd)return a=Wi(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.pd=function(a,b){if(this.Bd){if(Ai(b))return this.Nd(null,Bi.B?Bi.B(b):Bi.call(null,b),Ci.B?Ci.B(b):Ci.call(null,b));if(Df(b))return this.Nd(null,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));a=H(b);for(b=this;;){var c=J(a);if(r(c))a=K(a),b=Qd(b,Bi.B?Bi.B(c):Bi.call(null,c),Ci.B?Ci.B(c):Ci.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.zd=function(){if(this.Bd)return this.Bd=!1,new q(null,sg(this.Ic,2),this.K,null);throw Error("persistent! called twice");};
g.Nd=function(a,b,c){if(this.Bd){a=Wi(this.K,b);if(-1===a)return this.Ic+2<=2*bj?(this.Ic+=2,this.K.push(b),this.K.push(c),this):Xg.C(dj.j?dj.j(this.Ic,this.K):dj.call(null,this.Ic,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.Ef=function(a,b){if(this.Bd)return a=Wi(this.K,b),0<=a&&(this.K[a]=this.K[this.Ic-2],this.K[a+1]=this.K[this.Ic-1],a=this.K,a.pop(),a.pop(),this.Ic-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.R(null,a,null)};g.j=function(a,b){return this.R(null,a,b)};function dj(a,b){for(var c=Nd(cj),d=0;;)if(d<a)c=Xg.C(c,b[d],b[d+1]),d+=2;else return c}function ej(){this.val=!1}
function fj(a,b){return a===b?!0:T(a,b)?!0:F.j(a,b)}function gj(a,b,c){a=Fc(a);a[b]=c;return a}function hj(a,b){var c=Array(a.length-2);Ff(a,0,c,0,2*b);Ff(a,2*(b+1),c,2*b,c.length-2*b);return c}function ij(a,b,c,d){a=a.dd(b);a.K[c]=d;return a}function jj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Gd(b,f):f;if(Ne(c))return c;e+=2;f=c}else return f}function kj(a){this.K=a;this.i=0;this.Jc=this.xe=null}
kj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.xe=new Y(b,c):null!=c?(b=fe(c),b=b.Za()?this.Jc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};kj.prototype.Za=function(){var a=null!=this.xe;return a?a:(a=null!=this.Jc)?a:this.advance()};
kj.prototype.next=function(){if(null!=this.xe){var a=this.xe;this.xe=null;return a}if(null!=this.Jc)return a=this.Jc.next(),this.Jc.Za()||(this.Jc=null),a;if(this.advance())return this.next();throw Error("No such element");};kj.prototype.remove=function(){return Error("Unsupported operation")};function lj(a,b,c){this.La=a;this.bitmap=b;this.K=c;this.T=131072;this.J=0}g=lj.prototype;
g.dd=function(a){if(a===this.La)return this;var b=ug(this.bitmap),c=Array(0>b?4:2*(b+1));Ff(this.K,0,c,0,2*b);return new lj(a,this.bitmap,c)};g.ve=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=ug(this.bitmap&f-1),k=this.K[2*h],m=this.K[2*h+1];return null==k?(b=m.ve(a,b+5,c,d,e),b===m?this:null!=b?ij(this,a,2*h+1,b):this.bitmap===f?null:mj(this,a,f,h)):fj(d,k)?(e.val=!0,mj(this,a,f,h)):this};
function mj(a,b,c,d){if(a.bitmap===c)return null;a=a.dd(b);b=a.K;var e=b.length;a.bitmap^=c;Ff(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.te=function(){return nj?nj(this.K):oj.call(null,this.K)};g.Gd=function(a,b){return jj(this.K,a,b)};g.Fd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ug(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Fd(a+5,b,c,d):fj(c,e)?f:d};
g.Hc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ug(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=ug(this.bitmap);if(2*m<this.K.length){a=this.dd(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=pj.Hc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?pj.Hc(a,b+5,qe(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new qj(a,m+1,k)}b=Array(2*(m+4));Ff(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Ff(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.dd(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Hc(a,b+5,c,d,e,f),m===h?this:ij(this,a,2*k+1,m);if(fj(d,m))return e===h?this:ij(this,a,2*k+1,e);f.val=!0;f=b+5;d=uj?uj(a,f,m,h,c,d,e):vj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.dd(a);a.K[e]=null;a.K[k]=d;return a};
g.Gc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ug(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ug(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=pj.Gc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?pj.Gc(a+5,qe(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new qj(null,k+1,h)}a=Array(2*
(k+1));Ff(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Ff(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new lj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Gc(a+5,b,c,d,e),k===f?this:new lj(null,this.bitmap,gj(this.K,2*h+1,k));if(fj(c,m))return d===f?this:new lj(null,this.bitmap,gj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=wj?wj(a,m,f,b,c,d):vj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Fc(k);d[c]=null;d[h]=a;return new lj(null,e,d)};
g.se=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ug(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.se(a+5,b,c,d):fj(c,e)?new Y(e,f):d};
g.ue=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ug(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.ue(a+5,b,c),a===h?this:null!=a?new lj(null,this.bitmap,gj(this.K,2*e+1,a)):this.bitmap===d?null:new lj(null,this.bitmap^d,hj(this.K,e))):fj(c,f)?new lj(null,this.bitmap^d,hj(this.K,e)):this};g.oa=function(){return new kj(this.K)};var pj=new lj(null,0,[]);
function xj(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.aa-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new lj(b,k,a)}function yj(a){this.K=a;this.i=0;this.Jc=null}yj.prototype.Za=function(){for(var a=this.K.length;;){if(null!=this.Jc&&this.Jc.Za())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Jc=fe(b))}else return!1}};yj.prototype.next=function(){if(this.Za())return this.Jc.next();throw Error("No such element");};
yj.prototype.remove=function(){return Error("Unsupported operation")};function qj(a,b,c){this.La=a;this.aa=b;this.K=c;this.T=131072;this.J=0}g=qj.prototype;g.dd=function(a){return a===this.La?this:new qj(a,this.aa,Fc(this.K))};g.ve=function(a,b,c,d,e){var f=c>>>b&31,h=this.K[f];if(null==h)return this;b=h.ve(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.aa)return xj(this,a,f);a=ij(this,a,f,b);--a.aa;return a}return ij(this,a,f,b)};g.te=function(){return zj?zj(this.K):Aj.call(null,this.K)};
g.Gd=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Gd(a,b);if(Ne(b))return b;d+=1}else d+=1}else return b};g.Fd=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Fd(a+5,b,c,d):d};g.Hc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=ij(this,a,h,pj.Hc(a,b+5,c,d,e,f)),a.aa+=1,a;b=k.Hc(a,b+5,c,d,e,f);return b===k?this:ij(this,a,h,b)};
g.Gc=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new qj(null,this.aa+1,gj(this.K,f,pj.Gc(a+5,b,c,d,e)));a=h.Gc(a+5,b,c,d,e);return a===h?this:new qj(null,this.aa,gj(this.K,f,a))};g.se=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.se(a+5,b,c,d):d};g.ue=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.ue(a+5,b,c),a===e?this:null==a?8>=this.aa?xj(this,null,d):new qj(null,this.aa-1,gj(this.K,d,a)):new qj(null,this.aa,gj(this.K,d,a))):this};g.oa=function(){return new yj(this.K)};
function Bj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(fj(c,a[d]))return d;d+=2}else return-1}function Cj(a,b,c,d){this.La=a;this.ad=b;this.aa=c;this.K=d;this.T=131072;this.J=0}g=Cj.prototype;g.dd=function(a){if(a===this.La)return this;var b=Array(2*(this.aa+1));Ff(this.K,0,b,0,2*this.aa);return new Cj(a,this.ad,this.aa,b)};
g.ve=function(a,b,c,d,e){b=Bj(this.K,this.aa,d);if(-1===b)return this;e.val=!0;if(1===this.aa)return null;a=this.dd(a);e=a.K;e[b]=e[2*this.aa-2];e[b+1]=e[2*this.aa-1];e[2*this.aa-1]=null;e[2*this.aa-2]=null;--a.aa;return a};g.te=function(){return nj?nj(this.K):oj.call(null,this.K)};g.Gd=function(a,b){return jj(this.K,a,b)};g.Fd=function(a,b,c,d){a=Bj(this.K,this.aa,c);return 0>a?d:fj(c,this.K[a])?this.K[a+1]:d};
g.Hc=function(a,b,c,d,e,f){if(c===this.ad){b=Bj(this.K,this.aa,d);if(-1===b){if(this.K.length>2*this.aa)return b=2*this.aa,c=2*this.aa+1,a=this.dd(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.aa+=1,a;c=this.K.length;b=Array(c+2);Ff(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.aa+1;a===this.La?(this.K=b,this.aa=d,a=this):a=new Cj(this.La,this.ad,d,b);return a}return this.K[b+1]===e?this:ij(this,a,b+1,e)}return(new lj(a,1<<(this.ad>>>b&31),[null,this,null,null])).Hc(a,b,c,d,e,f)};
g.Gc=function(a,b,c,d,e){return b===this.ad?(a=Bj(this.K,this.aa,c),-1===a?(a=2*this.aa,b=Array(a+2),Ff(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Cj(null,this.ad,this.aa+1,b)):F.j(this.K[a+1],d)?this:new Cj(null,this.ad,this.aa,gj(this.K,a+1,d))):(new lj(null,1<<(this.ad>>>a&31),[null,this])).Gc(a,b,c,d,e)};g.se=function(a,b,c,d){a=Bj(this.K,this.aa,c);return 0>a?d:fj(c,this.K[a])?new Y(this.K[a],this.K[a+1]):d};
g.ue=function(a,b,c){a=Bj(this.K,this.aa,c);return-1===a?this:1===this.aa?null:new Cj(null,this.ad,this.aa-1,hj(this.K,sg(a,2)))};g.oa=function(){return new kj(this.K)};function vj(a){switch(arguments.length){case 6:return wj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return uj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function wj(a,b,c,d,e,f){var h=qe(b);if(h===d)return new Cj(null,h,2,[b,c,e,f]);var k=new ej;return pj.Gc(a,h,b,c,k).Gc(a,d,e,f,k)}function uj(a,b,c,d,e,f,h){var k=qe(c);if(k===e)return new Cj(null,k,2,[c,d,f,h]);var m=new ej;return pj.Hc(a,b,k,c,d,m).Hc(a,b,e,f,h,m)}function Dj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=Dj.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ej?Ej(a,b,null):oj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.s);return Ej?Ej(a,b,c):oj.call(null,a,b,c)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1]):J(this.s)};
g.bb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ej?Ej(c,d,null):oj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.s);return Ej?Ej(c,d,e):oj.call(null,c,d,e)}();return null!=b?b:Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Dj(b,this.nodes,this.i,this.s,this.I)};g.la=function(a,b){return df(b,this)};Dj.prototype[Cc]=function(){return Ee(this)};
function oj(a){switch(arguments.length){case 1:return nj(arguments[0]);case 3:return Ej(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function nj(a){return Ej(a,0,null)}function Ej(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Dj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.te(),r(d)))return new Dj(null,a,b+2,d,null);b+=2}else return null;else return new Dj(null,a,b,c,null)}
function Fj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.T=0}g=Fj.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=this.nodes,b=this.i,c=K(this.s);return Gj?Gj(a,b,c):Aj.call(null,a,b,c)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return J(this.s)};g.bb=function(){var a=this.nodes;var b=this.i,c=K(this.s);a=Gj?Gj(a,b,c):Aj.call(null,a,b,c);return null!=a?a:Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Fj(b,this.nodes,this.i,this.s,this.I)};g.la=function(a,b){return df(b,this)};Fj.prototype[Cc]=function(){return Ee(this)};
function Aj(a){switch(arguments.length){case 1:return zj(arguments[0]);case 3:return Gj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function zj(a){return Gj(a,0,null)}function Gj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.te(),r(d)))return new Fj(null,a,b+1,d,null);b+=1}else return null;else return new Fj(null,a,b,c,null)}function Hj(a,b){this.ob=a;this.mh=b;this.seen=!1}
Hj.prototype.Za=function(){return!this.seen||this.mh.Za()};Hj.prototype.next=function(){if(this.seen)return this.mh.next();this.seen=!0;return new Y(null,this.ob)};Hj.prototype.remove=function(){return Error("Unsupported operation")};function Ij(a,b,c,d,e,f){this.meta=a;this.aa=b;this.root=c;this.nb=d;this.ob=e;this.I=f;this.J=16123663;this.T=139268}g=Ij.prototype;g.Yc=function(a,b){return null==b?this.nb?new Y(null,this.ob):null:null==this.root?null:this.root.se(0,qe(b),b,null)};g.toString=function(){return ie(this)};
g.equiv=function(a){return this.ca(null,a)};g.keys=function(){return Ee(Zi.B?Zi.B(this):Zi.call(null,this))};g.entries=function(){return new Ui(H(H(this)))};g.values=function(){return Ee($i.B?$i.B(this):$i.call(null,this))};g.has=function(a){return Lf(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return null==b?this.nb?this.ob:c:null==this.root?c:this.root.Fd(0,qe(b),b,c)};
g.va=function(a,b,c){a=this.nb?b.C?b.C(c,null,this.ob):b.call(null,c,null,this.ob):c;return Ne(a)?z(a):null!=this.root?Oe(this.root.Gd(b,a)):a};g.oa=function(){var a=this.root?fe(this.root):kh();return this.nb?new Hj(this.ob,a):a};g.ea=function(){return this.meta};g.ja=function(){return this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return Si(this,b)};g.od=function(){return new Jj(this.root,this.aa,this.nb,this.ob)};g.Ja=function(){return pd(cj,this.meta)};
g.wa=function(a,b){if(null==b)return this.nb?new Ij(this.meta,this.aa-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.ue(0,qe(b),b);return a===this.root?this:new Ij(this.meta,this.aa-1,a,this.nb,this.ob,null)};
g.da=function(a,b,c){if(null==b)return this.nb&&c===this.ob?this:new Ij(this.meta,this.nb?this.aa:this.aa+1,this.root,!0,c,null);a=new ej;b=(null==this.root?pj:this.root).Gc(0,qe(b),b,c,a);return b===this.root?this:new Ij(this.meta,a.val?this.aa+1:this.aa,b,this.nb,this.ob,null)};g.ha=function(){if(0<this.aa){var a=null!=this.root?this.root.te():null;return this.nb?df(new Y(null,this.ob),a):a}return null};g.fa=function(a,b){return b===this.meta?this:new Ij(b,this.aa,this.root,this.nb,this.ob,this.I)};
g.la=function(a,b){if(Df(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Df(c))a=ad(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var cj=new Ij(null,0,null,!1,null,Je);function Kj(a,b){for(var c=a.length,d=0,e=Nd(cj);;)if(d<c){var f=d+1;e=Qd(e,a[d],b[d]);d=f}else return Pd(e)}Ij.prototype[Cc]=function(){return Ee(this)};function Jj(a,b,c,d){this.La={};this.root=a;this.count=b;this.nb=c;this.ob=d;this.J=259;this.T=56}
function Lj(a,b,c){if(a.La){if(null==b)a.ob!==c&&(a.ob=c),a.nb||(a.count+=1,a.nb=!0);else{var d=new ej;b=(null==a.root?pj:a.root).Hc(a.La,0,qe(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Jj.prototype;g.ja=function(){if(this.La)return this.count;throw Error("count after persistent!");};g.ma=function(a,b){return null==b?this.nb?this.ob:null:null==this.root?null:this.root.Fd(0,qe(b),b)};
g.R=function(a,b,c){return null==b?this.nb?this.ob:c:null==this.root?c:this.root.Fd(0,qe(b),b,c)};g.pd=function(a,b){a:if(this.La)if(Ai(b))a=Lj(this,Bi.B?Bi.B(b):Bi.call(null,b),Ci.B?Ci.B(b):Ci.call(null,b));else if(Df(b))a=Lj(this,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));else for(a=H(b),b=this;;){var c=J(a);if(r(c))a=K(a),b=Lj(b,Bi.B?Bi.B(c):Bi.call(null,c),Ci.B?Ci.B(c):Ci.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.zd=function(){if(this.La){this.La=null;var a=new Ij(null,this.count,this.root,this.nb,this.ob,null)}else throw Error("persistent! called twice");return a};g.Nd=function(a,b,c){return Lj(this,b,c)};g.Ef=function(a,b){if(this.La)null==b?this.nb&&(this.nb=!1,this.ob=null,--this.count):null!=this.root&&(a=new ej,b=this.root.ve(this.La,0,qe(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function Mj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=lf.j(d,a),a=b;else return d}
function Nj(a,b,c,d,e){this.meta=a;this.stack=b;this.xd=c;this.aa=d;this.I=e;this.J=32374990;this.T=0}g=Nj.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=J(this.stack);a=Mj(this.xd?a.right:a.left,K(this.stack),this.xd);return null==a?null:new Nj(null,a,this.xd,this.aa-1,null)};
g.ja=function(){return 0>this.aa?M(K(this))+1:this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){var a=this.stack;return null==a?null:id(a)};g.bb=function(){var a=J(this.stack);a=Mj(this.xd?a.right:a.left,K(this.stack),this.xd);return null!=a?new Nj(null,a,this.xd,this.aa-1,null):Ce};g.ha=function(){return this};
g.fa=function(a,b){return b===this.meta?this:new Nj(b,this.stack,this.xd,this.aa,this.I)};g.la=function(a,b){return df(b,this)};Nj.prototype[Cc]=function(){return Ee(this)};function Oj(a,b,c){return new Nj(null,Mj(a,null,b),b,c,null)}
function Pj(a,b,c,d){return c instanceof Qj?c.left instanceof Qj?new Qj(c.key,c.val,c.left.Wc(),new Rj(a,b,c.right,d)):c.right instanceof Qj?new Qj(c.right.key,c.right.val,new Rj(c.key,c.val,c.left,c.right.left),new Rj(a,b,c.right.right,d)):new Rj(a,b,c,d):new Rj(a,b,c,d)}
function Sj(a,b,c,d){return d instanceof Qj?d.right instanceof Qj?new Qj(d.key,d.val,new Rj(a,b,c,d.left),d.right.Wc()):d.left instanceof Qj?new Qj(d.left.key,d.left.val,new Rj(a,b,c,d.left.left),new Rj(d.key,d.val,d.left.right,d.right)):new Rj(a,b,c,d):new Rj(a,b,c,d)}
function Tj(a,b,c,d){if(c instanceof Qj)return new Qj(a,b,c.Wc(),d);if(d instanceof Rj)return Sj(a,b,c,d.ye());if(d instanceof Qj&&d.left instanceof Rj)return new Qj(d.left.key,d.left.val,new Rj(a,b,c,d.left.left),Sj(d.key,d.val,d.left.right,d.right.ye()));throw Error("red-black tree invariant violation");}
function Uj(a,b,c,d){if(d instanceof Qj)return new Qj(a,b,c,d.Wc());if(c instanceof Rj)return Pj(a,b,c.ye(),d);if(c instanceof Qj&&c.right instanceof Rj)return new Qj(c.right.key,c.right.val,Pj(c.key,c.val,c.left.ye(),c.right.left),new Rj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Vj=function Vj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Vj.C?Vj.C(k,b,c):Vj.call(null,k,b,c)}():c;if(Ne(e))return e;var f=function(){var k=a.key,m=a.val;return b.C?b.C(e,k,m):b.call(null,e,k,m)}();if(Ne(f))return f;if(null!=a.right){var h=a.right;return Vj.C?Vj.C(h,b,f):Vj.call(null,h,b,f)}return f};function Rj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=Rj.prototype;
g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();g.vg=function(a){return a.yg(this)};g.ye=function(){return new Qj(this.key,this.val,this.left,this.right)};g.Wc=function(){return this};g.ug=function(a){return a.xg(this)};g.replace=function(a,b,c,d){return new Rj(a,b,c,d)};
g.xg=function(a){return new Rj(a.key,a.val,this,a.right)};g.yg=function(a){return new Rj(a.key,a.val,a.left,this)};g.Gd=function(a,b){return Vj(this,a,b)};g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Dc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Dc(null,b,c)};
g.ea=function(){return null};g.ja=function(){return 2};g.vf=function(){return this.key};g.wf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};g.qc=function(){return new ze([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Qe(this,b)};g.Ta=function(a,b,c){return Re(this,b,c)};
g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new ze([this.key,this.val],0,null)};g.fa=function(a,b){return pd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Rj.prototype[Cc]=function(){return Ee(this)};function Qj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.T=0}g=Qj.prototype;g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();g.vg=function(a){return new Qj(this.key,this.val,this.left,a)};g.ye=function(){throw Error("red-black tree invariant violation");};g.Wc=function(){return new Rj(this.key,this.val,this.left,this.right)};
g.ug=function(a){return new Qj(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Qj(a,b,c,d)};g.xg=function(a){return this.left instanceof Qj?new Qj(this.key,this.val,this.left.Wc(),new Rj(a.key,a.val,this.right,a.right)):this.right instanceof Qj?new Qj(this.right.key,this.right.val,new Rj(this.key,this.val,this.left,this.right.left),new Rj(a.key,a.val,this.right.right,a.right)):new Rj(a.key,a.val,this,a.right)};
g.yg=function(a){return this.right instanceof Qj?new Qj(this.key,this.val,new Rj(a.key,a.val,a.left,this.left),this.right.Wc()):this.left instanceof Qj?new Qj(this.left.key,this.left.val,new Rj(a.key,a.val,a.left,this.left.left),new Rj(this.key,this.val,this.left.right,this.right)):new Rj(a.key,a.val,a.left,this)};g.Gd=function(a,b){return Vj(this,a,b)};g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};
g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Dc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Dc(null,b,c)};g.ea=function(){return null};g.ja=function(){return 2};g.vf=function(){return this.key};g.wf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};
g.qc=function(){return new ze([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Qe(this,b)};g.Ta=function(a,b,c){return Re(this,b,c)};g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new ze([this.key,this.val],0,null)};g.fa=function(a,b){return pd(new X(null,2,5,Z,[this.key,this.val],null),b)};
g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Qj.prototype[Cc]=function(){return Ee(this)};
var Wj=function Wj(a,b,c,d,e){if(null==b)return new Qj(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return Wj.ka?Wj.ka(a,k,c,d,e):Wj.call(null,a,k,c,d,e)}(),null!=h?b.ug(h):null;h=function(){var k=b.right;return Wj.ka?Wj.ka(a,k,c,d,e):Wj.call(null,a,k,c,d,e)}();return null!=h?b.vg(h):null},Xj=function Xj(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Qj){if(b instanceof Qj){var d=
function(){var e=a.right,f=b.left;return Xj.j?Xj.j(e,f):Xj.call(null,e,f)}();return d instanceof Qj?new Qj(d.key,d.val,new Qj(a.key,a.val,a.left,d.left),new Qj(b.key,b.val,d.right,b.right)):new Qj(a.key,a.val,a.left,new Qj(b.key,b.val,d,b.right))}return new Qj(a.key,a.val,a.left,function(){var e=a.right;return Xj.j?Xj.j(e,b):Xj.call(null,e,b)}())}if(b instanceof Qj)return new Qj(b.key,b.val,function(){var e=b.left;return Xj.j?Xj.j(a,e):Xj.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return Xj.j?Xj.j(e,f):Xj.call(null,e,f)}();return d instanceof Qj?new Qj(d.key,d.val,new Rj(a.key,a.val,a.left,d.left),new Rj(b.key,b.val,d.right,b.right)):Tj(a.key,a.val,a.left,new Rj(b.key,b.val,d,b.right))},Yj=function Yj(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,Xj(b.left,b.right);if(0>f)return f=function(){var h=b.left;return Yj.P?Yj.P(a,h,c,d):Yj.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Rj?Tj(b.key,b.val,
f,b.right):new Qj(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return Yj.P?Yj.P(a,h,c,d):Yj.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Rj?Uj(b.key,b.val,b.left,f):new Qj(b.key,b.val,b.left,f):null}return null},Zj=function Zj(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return Zj.P?Zj.P(a,k,c,d):Zj.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return Zj.P?Zj.P(a,k,c,d):Zj.call(null,a,k,c,d)}())};function ak(a,b,c,d,e){this.rc=a;this.tree=b;this.aa=c;this.meta=d;this.I=e;this.J=418776847;this.T=8192}g=ak.prototype;g.Yc=function(a,b){return bk(this,b)};
g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.R(null,a,b)};g.entries=function(){return new Ui(H(H(this)))};g.toString=function(){return ie(this)};g.keys=function(){return Ee(Zi.B?Zi.B(this):Zi.call(null,this))};
g.values=function(){return Ee($i.B?$i.B(this):$i.call(null,this))};g.equiv=function(a){return this.ca(null,a)};function bk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.rc.j?a.rc.j(b,d):a.rc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Lf(this,a)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=bk(this,b);return null!=a?a.val:c};g.va=function(a,b,c){return null!=this.tree?Oe(Vj(this.tree,b,c)):c};g.ea=function(){return this.meta};
g.ja=function(){return this.aa};g.qc=function(){return 0<this.aa?Oj(this.tree,!1,this.aa):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return Si(this,b)};g.Ja=function(){return new ak(this.rc,null,0,this.meta,0)};g.wa=function(a,b){a=[null];b=Yj(this.rc,this.tree,b,a);return null==b?null==Ye(a,0)?this:new ak(this.rc,null,0,this.meta,null):new ak(this.rc,b.Wc(),this.aa-1,this.meta,null)};
g.da=function(a,b,c){a=[null];var d=Wj(this.rc,this.tree,b,c,a);return null==d?(a=Ye(a,0),F.j(c,a.val)?this:new ak(this.rc,Zj(this.rc,this.tree,b,c),this.aa,this.meta,null)):new ak(this.rc,d.Wc(),this.aa+1,this.meta,null)};g.ha=function(){return 0<this.aa?Oj(this.tree,!0,this.aa):null};g.fa=function(a,b){return b===this.meta?this:new ak(this.rc,this.tree,this.aa,b,this.I)};
g.la=function(a,b){if(Df(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=H(b);;){if(null==b)return a;var c=J(b);if(Df(c))a=ad(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var ck=new ak(Of,null,0,null,Je);ak.prototype[Cc]=function(){return Ee(this)};var dk=function dk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return dk.F(c)};dk.F=function(a){a=H(a);for(var b=Nd(cj);;)if(a){var c=K(K(a));b=Xg.C(b,J(a),hf(a));a=c}else return Pd(b)};dk.Y=0;dk.ba=function(a){return this.F(H(a))};
var ek=function ek(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return ek.F(c)};ek.F=function(a){a=a instanceof ze&&0===a.i?a.K:Gc(a);return qf(a)};ek.Y=0;ek.ba=function(a){return this.F(H(a))};function fk(a,b){this.Ha=a;this.nc=b;this.J=32374988;this.T=0}g=fk.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.nc};g.Ma=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null==a?null:new fk(a,null)};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.Ha.Ua(null).key};g.bb=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null!=a?new fk(a,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.nc?this:new fk(this.Ha,b)};g.la=function(a,b){return df(b,this)};
fk.prototype[Cc]=function(){return Ee(this)};function Zi(a){return(a=H(a))?new fk(a,null):null}function Bi(a){return ed(a)}function gk(a,b){this.Ha=a;this.nc=b;this.J=32374988;this.T=0}g=gk.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();g.ea=function(){return this.nc};g.Ma=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null==a?null:new gk(a,null)};g.ia=function(){return Ge(this)};
g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return ef(b,this)};g.Ta=function(a,b,c){return gf(b,c,this)};g.Ua=function(){return this.Ha.Ua(null).val};g.bb=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:yc(Vc,this.Ha)):yc(Vc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null!=a?new gk(a,null):Ce};g.ha=function(){return this};g.fa=function(a,b){return b===this.nc?this:new gk(this.Ha,b)};g.la=function(a,b){return df(b,this)};
gk.prototype[Cc]=function(){return Ee(this)};function $i(a){return(a=H(a))?new gk(a,null):null}function Ci(a){return fd(a)}var hk=function hk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return hk.F(c)};hk.F=function(a){return r(ph($f,a))?w.j(function(b,c){return lf.j(r(b)?b:W,c)},a):null};hk.Y=0;hk.ba=function(a){return this.F(H(a))};
var ik=function ik(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return ik.F(arguments[0],c)};ik.F=function(a,b){if(r(ph($f,b))){var c=function(d,e){var f=ed(e),h=fd(e);return Lf(d,f)?R.C(d,f,function(){var k=C.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):R.C(d,f,h)};return w.j(function(d,e){return w.C(c,r(d)?d:W,H(e))},b)}return null};ik.Y=1;ik.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function jk(a,b){var c=W;for(b=H(b);;)if(b){var d=J(b),e=C.C(a,d,kk);c=ih.j(e,kk)?R.C(c,d,e):c;b=K(b)}else return pd(c,uf(a))}function lk(a){this.iter=a}lk.prototype.Za=function(){return this.iter.Za()};lk.prototype.next=function(){if(this.iter.Za())return this.iter.next().key;throw Error("No such element");};lk.prototype.remove=function(){return Error("Unsupported operation")};function mk(a,b,c){this.meta=a;this.ed=b;this.I=c;this.J=15077647;this.T=139268}g=mk.prototype;g.toString=function(){return ie(this)};
g.equiv=function(a){return this.ca(null,a)};g.keys=function(){return Ee(H(this))};g.entries=function(){return new Vi(H(H(this)))};g.values=function(){return Ee(H(this))};g.has=function(a){return Lf(this,a)};g.forEach=function(a){for(var b=H(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=H(b))Ef(b)?(c=Xd(b),b=Yd(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=bd(this.ed,b);return r(a)?ed(a):c};g.oa=function(){return new lk(fe(this.ed))};g.ea=function(){return this.meta};g.ja=function(){return Lc(this.ed)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){if(yf(b))if(M(this)===M(b))try{return Zf(function(c,d){return(c=Lf(b,d))?c:Me(!1)},!0,this.ed)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.od=function(){return new nk(Nd(this.ed))};
g.Ja=function(){return pd(ok,this.meta)};g.zf=function(a,b){return new mk(this.meta,dd(this.ed,b),null)};g.ha=function(){return Zi(this.ed)};g.fa=function(a,b){return b===this.meta?this:new mk(b,this.ed,this.I)};g.la=function(a,b){return new mk(this.meta,R.C(this.ed,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var ok=new mk(null,W,Je);function Nf(a){for(var b=a.length,c=Nd(ok),d=0;;)if(d<b)Od(c,a[d]),d+=1;else break;return Pd(c)}mk.prototype[Cc]=function(){return Ee(this)};function nk(a){this.Jd=a;this.T=136;this.J=259}g=nk.prototype;g.pd=function(a,b){this.Jd=Xg.C(this.Jd,b,null);return this};g.zd=function(){return new mk(null,Pd(this.Jd),null)};
g.ja=function(){return M(this.Jd)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return Yc(this.Jd,b,Gf)===Gf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return Yc(this.Jd,a,Gf)===Gf?null:a};
g.j=function(a,b){return Yc(this.Jd,a,Gf)===Gf?b:a};function pk(a){if(yf(a))return tf(a,null);a=H(a);if(null==a)return ok;if(a instanceof ze&&0===a.i)return Nf(a.K);for(var b=Nd(ok);;)if(null!=a){var c=K(a);b=Od(b,Tc(a));a=c}else return Pd(b)}function qk(a){return function e(c,d){return new Hg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=Q(k,0,null);if(k=H(k))if(Lf(f,h))h=Be(k);else{f=df(h,e(Be(k),lf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,ok)}
function rk(a){for(var b=mf;;)if(K(a))b=lf.j(b,J(a)),a=K(a);else return H(b)}function Gg(a){if(null!=a&&(a.T&4096||l===a.xf))return a.ce(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.B(a)].join(""));}function sk(a,b){var c=Nd(W);a=H(a);for(b=H(b);;)if(a&&b)c=Xg.C(c,J(a),J(b)),a=K(a),b=K(b);else return Pd(c)}
var tk=function tk(a){switch(arguments.length){case 2:return tk.j(arguments[0],arguments[1]);case 3:return tk.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return tk.F(arguments[0],arguments[1],arguments[2],c)}};tk.j=function(a,b){return b};tk.C=function(a,b,c){return(a.B?a.B(b):a.call(null,b))>(a.B?a.B(c):a.call(null,c))?b:c};
tk.F=function(a,b,c,d){return w.C(function(e,f){return tk.C(a,e,f)},tk.C(a,b,c),d)};tk.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};tk.Y=3;function uk(){this.K=[]}g=uk.prototype;g.add=function(a){return this.K.push(a)};g.size=function(){return this.K.length};g.clear=function(){return this.K=[]};g.isEmpty=function(){return 0===this.K.length};g.toArray=function(){return this.K};
function vk(){return function(a){var b=new uk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Wf(b.toArray()),b.clear(),a.j?a.j(h,k):a.call(null,h,k)):h}function d(h){if(!r(b.isEmpty())){var k=Wf(b.toArray());b.clear();h=Oe(a.j?a.j(h,k):a.call(null,h,k))}return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}function wk(a,b){return new Hg(null,function(){var c=H(b);if(c){var d=J(c);d=a.B?a.B(d):a.call(null,d);c=r(d)?df(J(c),wk(a,Be(c))):null}else c=null;return c},null,null)}function xk(a,b,c){this.start=a;this.step=b;this.count=c;this.J=82;this.T=0}g=xk.prototype;g.ja=function(){return this.count};g.Ua=function(){return this.start};g.xa=function(a,b){return this.start+b*this.step};
g.Ra=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.Zd=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new xk(this.start+this.step,this.step,this.count-1)};function yk(a,b,c){this.i=a;this.end=b;this.step=c}yk.prototype.Za=function(){return 0<this.step?this.i<this.end:this.i>this.end};yk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function zk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.Wb=e;this.Je=f;this.I=h;this.J=32375006;this.T=140800}g=zk.prototype;g.toString=function(){return ie(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Xe(this,b,0);case 2:return Xe(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Xe(this,b,0)};a.j=function(b,c){return Xe(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return $e(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $e(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $e(this,c,d)};return b}();function Ak(a){if(null==a.Wb){var b=a.ja(null);32<b?(a.Je=new zk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Wb=new xk(a.start,a.step,32)):a.Wb=new xk(a.start,a.step,b)}}
g.xa=function(a,b){if(0<=b&&b<this.ja(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0<=b&&b<this.ja(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.oa=function(){return new yk(this.start,this.end,this.step)};g.ea=function(){return this.meta};
g.Ma=function(){return 0<this.step?this.start+this.step<this.end?new zk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new zk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ja=function(){return Math.ceil((this.end-this.start)/this.step)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ge(this)};g.ca=function(a,b){return cf(this,b)};g.Ja=function(){return Ce};g.Sa=function(a,b){return Qe(this,b)};
g.Ta=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Ne(c))return z(c);a+=this.step}else return c};g.Ua=function(){return this.start};g.bb=function(){var a=this.Ma(null);return null==a?Ce:a};g.ha=function(){return this};g.ae=function(){Ak(this);return this.Wb};g.yd=function(){Ak(this);return null==this.Je?Ce:this.Je};g.fa=function(a,b){return b===this.meta?this:new zk(b,this.start,this.end,this.step,this.Wb,this.Je,this.I)};
g.la=function(a,b){return df(b,this)};g.$d=function(){return H(this.yd(null))};zk.prototype[Cc]=function(){return Ee(this)};var Bk=function Bk(a){switch(arguments.length){case 0:return Bk.O();case 1:return Bk.B(arguments[0]);case 2:return Bk.j(arguments[0],arguments[1]);case 3:return Bk.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Bk.O=function(){return Bk.C(0,Number.MAX_VALUE,1)};Bk.B=function(a){return Bk.C(0,a,1)};
Bk.j=function(a,b){return Bk.C(a,b,1)};Bk.C=function(a,b,c){return 0<c?b<=a?Ce:new zk(null,a,b,c,null,null,null):0>c?b>=a?Ce:new zk(null,a,b,c,null,null,null):b===a?Ce:Mh(a)};Bk.Y=3;function Ck(a,b){return new Hg(null,function(){var c=H(b);return c?df(J(c),Ck(a,Ih(a,c))):null},null,null)}function Dk(a,b){return new X(null,2,5,Z,[wk(a,b),Kh(a,b)],null)}
function Ek(a,b){return new Hg(null,function(){var c=H(b);if(c){var d=J(c),e=a.B?a.B(d):a.call(null,d),f=df(d,wk(function(h){return F.j(e,a.B?a.B(h):a.call(null,h))},K(c)));return df(f,Ek(a,new Hg(null,function(){return Ih(M(f),c)},null,null)))}return null},null,null)}function Fk(a){return Pd(w.C(function(b,c){return Xg.C(b,c,C.C(b,c,0)+1)},Nd(W),a))}
function Gk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.C?a.C(m,n,p):a.call(null,m,n,p),b.C?b.C(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.B?a.B(m):a.call(null,m),b.B?b.B(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.O?a.O():a.call(null),b.O?b.O():b.call(null)],null)}var h=null,k=function(){function m(p,u,v,y){var E=null;
if(3<arguments.length){E=0;for(var G=Array(arguments.length-3);E<G.length;)G[E]=arguments[E+3],++E;E=new ze(G,0,null)}return n.call(this,p,u,v,E)}function n(p,u,v,y){return new X(null,2,5,Z,[gh(a,p,u,v,y),gh(b,p,u,v,y)],null)}m.Y=3;m.ba=function(p){var u=J(p);p=K(p);var v=J(p);p=K(p);var y=J(p);p=Be(p);return n(u,v,y,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var v=null;if(3<arguments.length){v=0;for(var y=Array(arguments.length-3);v<y.length;)y[v]=arguments[v+3],++v;v=new ze(y,0,null)}return k.F(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.Y=3;h.ba=k.ba;h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()}function Hk(a){a:for(var b=a;;)if(b=H(b))b=K(b);else break a;return a}
function Ik(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&F.j(a[0],b)?1===a.length?a[0]:Wf(a):null;throw new TypeError("re-matches must match against a string.");}function Jk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Wf(a);throw new TypeError("re-find must match against a string.");}
var Lk=function Lk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Wf(d);return df(f,new Hg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=wg.j(b,h),Lk.j?Lk.j(a,h):Lk.call(null,a,h)):null},null,null))};function Mk(a,b){if("string"===typeof b)return Lk(a,b);throw new TypeError("re-seq must match against a string.");}
function Nk(a){if(a instanceof RegExp)return a;var b=Jk(/^\(\?([idmsux]*)\)/,a),c=Q(b,0,null);b=Q(b,1,null);a=wg.j(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")}
function Ok(a,b,c,d,e,f,h){var k=kc;kc=null==kc?null:kc-1;try{if(null!=kc&&0>kc)return A(a,"#");A(a,c);if(0===rc.B(f))H(h)&&A(a,function(){var y=Pk.B(f);return r(y)?y:"..."}());else{if(H(h)){var m=J(h);b.C?b.C(m,a,f):b.call(null,m,a,f)}for(var n=K(h),p=rc.B(f)-1;;)if(!n||null!=p&&0===p){H(n)&&0===p&&(A(a,d),A(a,function(){var y=Pk.B(f);return r(y)?y:"..."}()));break}else{A(a,d);var u=J(n);c=a;h=f;b.C?b.C(u,c,h):b.call(null,u,c,h);var v=K(n);c=p-1;n=v;p=c}}return A(a,e)}finally{kc=k}}
function Qk(a,b){b=H(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);A(a,f);e+=1}else if(b=H(b))c=b,Ef(c)?(b=Xd(c),d=Yd(c),c=b,f=M(b),b=d,d=f):(f=J(c),A(a,f),b=K(c),c=null,d=0),e=0;else return null}function Rk(a){if(null==gc)throw Error("No *print-fn* fn set for evaluation environment");gc.call(null,a);return null}var Sk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Tk(a){return['"',t.B(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Sk[b]})),'"'].join("")}function Uk(a,b){return If(C.j(a,pc))?null!=b&&(b.J&131072||l===b.Ke)?null!=uf(b):!1:!1}
function Vk(a,b,c){if(null==a)return A(b,"nil");if(Uk(c,a)){A(b,"^");var d=uf(a);Wk.C?Wk.C(d,b,c):Wk.call(null,d,b,c);A(b," ")}if(a.rb)return a.vb(b);if(null!=a?a.J&2147483648||l===a.Ia||(a.J?0:yc(Hd,a)):yc(Hd,a))return Id(a,b,c);if(!0===a||!1===a)return A(b,t.B(a));if("number"===typeof a)return A(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.B(a));if(null!=a&&a.constructor===Object)return A(b,"#js "),d=Gh.j(function(f){return new Y(null!=Ik(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Fg.B(f):f,a[f])},gb(a)),Xk.P?Xk.P(d,Wk,b,c):Xk.call(null,d,Wk,b,c);if(uc(a))return Ok(b,Wk,"#js ["," ","]",c,a);if("string"==typeof a)return r(oc.B(c))?A(b,Tk(a)):A(b,a);if(ua(a)){var e=a.name;c=r(function(){var f=null==e;return f?f:tb(e)}())?"Function":e;return Qk(b,P(["#object[",c,r(!1)?[' "',t.B(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.B(f);;)if(f.length<h)f=["0",f].join("");else return f},Qk(b,P(['#inst "',t.B(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Qk(b,P(['#"',a.source,'"']));if(Hc(a))return Qk(b,P(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.kb}()))return Qk(b,P(["#object[",a.constructor.kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=r(function(){var f=
null==e;return f?f:tb(e)}())?"Object":e;return null==a.constructor?Qk(b,P(["#object[",c,"]"])):Qk(b,P(["#object[",c," ",t.B(a),"]"]))}function Wk(a,b,c){var d=Yk.B(c);return r(d)?(c=R.C(c,Zk,Vk),d.C?d.C(a,b,c):d.call(null,a,b,c)):Vk(a,b,c)}
function $k(a,b){var c=new ac,d=new ge(c);a:{Wk(J(a),d,b);a=H(K(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);A(d," ");Wk(k,d,b);h+=1}else if(a=H(a))e=a,Ef(e)?(a=Xd(e),f=Yd(e),e=a,k=M(a),a=f,f=k):(k=J(e),A(d," "),Wk(k,d,b),a=K(e),e=null,f=0),h=0;else break a}d.Nc(null);return c}function al(a,b){return wf(a)?"":t.B($k(a,b))}function bl(a,b){if(wf(a))return"\n";a=$k(a,b);a.append("\n");return t.B(a)}function cl(){var a=lc();Rk("\n");return C.j(a,nc),null}
var dl=function dl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return dl.F(c)};dl.F=function(a){return al(a,lc())};dl.Y=0;dl.ba=function(a){return this.F(H(a))};var el=function el(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return el.F(c)};el.F=function(a){return bl(a,lc())};el.Y=0;el.ba=function(a){return this.F(H(a))};
var fl=function fl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return fl.F(c)};fl.F=function(a){return al(a,R.C(lc(),oc,!1))};fl.Y=0;fl.ba=function(a){return this.F(H(a))};var gl=function gl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return gl.F(c)};gl.F=function(a){return bl(a,R.C(lc(),oc,!1))};gl.Y=0;gl.ba=function(a){return this.F(H(a))};
function hl(a){return a instanceof B?ue.j(null,Gg(a)):Fg.j(null,Gg(a))}function il(a){if(r(!1)){var b=H(a),c=H(b),d=J(c);K(c);Q(d,0,null);Q(d,1,null);c=of(a);for(a=null;;){d=a;b=H(b);a=J(b);var e=K(b),f=a;a=Q(f,0,null);b=Q(f,1,null);if(r(f))if(a instanceof D||a instanceof B)if(r(d))if(F.j(d,Dg(a)))c=R.C(c,hl(a),b),a=d,b=e;else return null;else if(d=Dg(a),r(d))c=R.C(c,hl(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function jl(a,b,c,d,e){return Ok(d,function(f,h,k){var m=ed(f);c.C?c.C(m,h,k):c.call(null,m,h,k);A(h," ");f=fd(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[t.B(a),"{"].join(""),", ","}",e,H(b))}function Xk(a,b,c,d){var e=Af(a)?il(a):null,f=Q(e,0,null);e=Q(e,1,null);return r(f)?jl(["#:",t.B(f)].join(""),e,b,c,d):jl(null,a,b,c,d)}Ch.prototype.Ia=l;Ch.prototype.ga=function(a,b,c){A(b,"#object[cljs.core.Volatile ");Wk(new q(null,1,[kl,this.state],null),b,c);return A(b,"]")};ve.prototype.Ia=l;
ve.prototype.ga=function(a,b,c){A(b,"#'");return Wk(this.Id,b,c)};ze.prototype.Ia=l;ze.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Hg.prototype.Ia=l;Hg.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Y.prototype.Ia=l;Y.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Nj.prototype.Ia=l;Nj.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Dj.prototype.Ia=l;Dj.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};
Rj.prototype.Ia=l;Rj.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Xi.prototype.Ia=l;Xi.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Fe.prototype.Ia=l;Fe.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Ei.prototype.Ia=l;Ei.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Bg.prototype.Ia=l;Bg.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};bf.prototype.Ia=l;
bf.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Ij.prototype.Ia=l;Ij.prototype.ga=function(a,b,c){return Xk(this,Wk,b,c)};Fj.prototype.Ia=l;Fj.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Gi.prototype.Ia=l;Gi.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};ak.prototype.Ia=l;ak.prototype.ga=function(a,b,c){return Xk(this,Wk,b,c)};mk.prototype.Ia=l;mk.prototype.ga=function(a,b,c){return Ok(b,Wk,"#{"," ","}",c,this)};Mg.prototype.Ia=l;
Mg.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};xh.prototype.Ia=l;xh.prototype.ga=function(a,b,c){A(b,"#object[cljs.core.Atom ");Wk(new q(null,1,[kl,this.state],null),b,c);return A(b,"]")};gk.prototype.Ia=l;gk.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};Qj.prototype.Ia=l;Qj.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Lh.prototype.Ia=l;Lh.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};X.prototype.Ia=l;
X.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};Ni.prototype.Ia=l;Ni.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};yg.prototype.Ia=l;yg.prototype.ga=function(a,b){return A(b,"()")};Oi.prototype.Ia=l;Oi.prototype.ga=function(a,b,c){return Ok(b,Wk,"#queue ["," ","]",c,H(this))};q.prototype.Ia=l;q.prototype.ga=function(a,b,c){return Xk(this,Wk,b,c)};zk.prototype.Ia=l;zk.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};fk.prototype.Ia=l;
fk.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};nf.prototype.Ia=l;nf.prototype.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,this)};B.prototype.Xc=l;B.prototype.Mc=function(a,b){if(b instanceof B)return te(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};D.prototype.Xc=l;D.prototype.Mc=function(a,b){if(b instanceof D)return Cg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Gi.prototype.Xc=l;
Gi.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};X.prototype.Xc=l;X.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Y.prototype.Xc=l;Y.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Rj.prototype.Xc=l;
Rj.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Qj.prototype.Xc=l;Qj.prototype.Mc=function(a,b){if(Df(b))return Pf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};function ll(a,b){Ld(a,ml,b)}var nl=null;function ol(a){null==nl&&(nl=yh(0));return ue.B([t.B(a),t.B(Ah.j(nl,Ke))].join(""))}function pl(a){this.f=a;this.value=null;this.J=2147516416;this.T=1}
pl.prototype.ub=function(){r(this.f)&&(this.value=this.f.O?this.f.O():this.f.call(null),this.f=null);return this.value};pl.prototype.Le=function(){return wc(this.f)};pl.prototype.ga=function(a,b,c){A(b,"#object[cljs.core.Delay ");Wk(new q(null,2,[ql,null==this.f?rl:sl,kl,this.value],null),b,c);return A(b,"]")};function tl(a){return a instanceof pl?z(a):a}function ul(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Ne(b)?Me(b):b}}
function vl(a){var b=ul(a);return function(){function c(h,k){return w.C(b,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function wl(){}
function xl(a){if(null!=a&&null!=a.Vh)a=a.Vh(a);else{var b=xl[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=xl._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IEncodeJS.-clj-\x3ejs",a);}return a}function yl(a,b){return(null!=a?l===a.Uh||(a.rd?0:yc(wl,a)):yc(wl,a))?xl(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof B?b.B?b.B(a):b.call(null,a):dl.F(P([a]))}
var zl=function zl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return zl.F(arguments[0],c)};
zl.F=function(a,b){b=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;var c=C.C(b,Al,Gg),d=function h(f){if(null==f)return null;if(null!=f?l===f.Uh||(f.rd?0:yc(wl,f)):yc(wl,f))return xl(f);if(f instanceof D)return c.B?c.B(f):c.call(null,f);if(f instanceof B)return t.B(f);if(Af(f)){var k={};f=H(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.xa(null,p),v=Q(u,0,null);u=Q(u,1,null);v=yl(v,d);u=h(u);k[v]=u;p+=1}else if(f=H(f))Ef(f)?(n=Xd(f),f=Yd(f),m=n,n=M(n)):(n=J(f),m=Q(n,0,null),n=Q(n,1,null),m=yl(m,d),n=h(n),k[m]=
n,f=K(f),m=null,n=0),p=0;else break;return k}if(xf(f)){k=[];f=H(Gh.j(h,f));m=null;for(p=n=0;;)if(p<n)v=m.xa(null,p),k.push(v),p+=1;else if(f=H(f))m=f,Ef(m)?(f=Xd(m),p=Yd(m),m=f,n=M(f),f=p):(f=J(m),k.push(f),f=K(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};zl.Y=1;zl.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};function Bl(){}
function Cl(a,b){if(null!=a&&null!=a.Th)a=a.Th(a,b);else{var c=Cl[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Cl._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IEncodeClojure.-js-\x3eclj",a);}return a}
function Dl(a){var b=P([El,!1]),c=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;c=C.j(c,El);var d=r(c)?Fg:t;return function h(f){return(null!=f?l===f.tj||(f.rd?0:yc(Bl,f)):yc(Bl,f))?Cl(f,dh(ek,b)):Hf(f)?Hk(Gh.j(h,f)):Ai(f)?new Y(h(ed(f)),h(fd(f))):xf(f)?Xh.C(of(f),Gh.B(h),f):uc(f)?Pd(w.C(function(k,m){return Vg.j(k,h(m))},Nd(mf),f)):zc(f)===Object?Pd(w.C(function(k,m){return Xg.C(k,d.B?d.B(m):d.call(null,m),h(hb(f,m)))},Nd(W),gb(f))):f}(a)}
function Fl(a){var b=yh(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new ze(h,0,null)}return d.call(this,f)}function d(e){var f=C.C(z(b),e,Gf);return f===Gf?(f=dh(a,e),Ah.P(b,R,e,f),f):f}c.Y=0;c.ba=function(e){e=H(e);return d(e)};c.F=d;return c}()}
var Gl=function Gl(a){switch(arguments.length){case 0:return Gl.O();case 1:return Gl.B(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Gl.O=function(){return Gl.B(1)};Gl.B=function(a){return Math.random()*a};Gl.Y=1;function Hl(a){return Math.floor(Math.random()*a)}function Il(a,b){return Pd(w.C(function(c,d){var e=a.B?a.B(d):a.call(null,d);return Xg.C(c,e,lf.j(C.C(c,e,mf),d))},Nd(W),b))}var Jl=null;
function Kl(){null==Jl&&(Jl=yh(new q(null,3,[Ll,W,Ml,W,Nl,W],null)));return Jl}function Ol(a,b,c){var d=F.j(b,c);if(d)return d;d=Nl.B(a);d=d.B?d.B(b):d.call(null,b);if(d=Lf(d,c))return d;if(Df(c))if(Df(b))if(M(c)===M(b)){d=!0;for(var e=0;;)if(d&&e!==M(c))d=Ol(a,b.B?b.B(e):b.call(null,e),c.B?c.B(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Pl(a){var b=z(Kl());return jh(C.j(Ll.B(b),a))}
function Ql(a,b,c,d){Ah.j(a,function(){return z(b)});Ah.j(c,function(){return z(d)})}
var Rl=function Rl(a,b,c){var e=function(){var f=z(c);return f.B?f.B(a):f.call(null,a)}();e=r(r(e)?e.B?e.B(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=Pl(b);;)if(0<M(f)){var h=J(f);Rl.C?Rl.C(a,h,c):Rl.call(null,a,h,c);f=Be(f)}else return null}();if(r(e))return e;e=function(){for(var f=Pl(a);;)if(0<M(f)){var h=J(f);Rl.C?Rl.C(h,b,c):Rl.call(null,h,b,c);f=Be(f)}else return null}();return r(e)?e:!1};function Sl(a,b,c,d){c=Rl(a,b,c);return r(c)?c:Ol(d,a,b)}
var Tl=function Tl(a,b,c,d,e,f,h,k){var n=w.C(function(u,v){var y=Q(v,0,null);Q(v,1,null);if(Ol(z(c),b,y)){u=null==u||Sl(y,J(u),e,z(c))?v:u;if(!Sl(J(u),y,e,z(c)))throw Error(["Multiple methods in multimethod '",t.B(a),"' match dispatch value: ",t.B(b)," -\x3e ",t.B(y)," and ",t.B(J(u)),", and neither is preferred"].join(""));return u}return u},null,z(d)),p=function(){if(null==n){var u=z(d);u=u.B?u.B(k):u.call(null,k)}else u=!1;return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(p)){if(F.j(z(h),z(c)))return Ah.P(f,
R,b,hf(p)),hf(p);Ql(f,d,h,c);return Tl.qb?Tl.qb(a,b,c,d,e,f,h,k):Tl.call(null,a,b,c,d,e,f,h,k)}return null};function Ul(a,b,c){if(null!=a&&null!=a.gb)a.gb(a,b,c);else{var d=Ul[ra(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Ul._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IMultiFn.-add-method",a);}}function Vl(a,b){throw Error(["No method in multimethod '",t.B(a),"' for dispatch value: ",t.B(b)].join(""));}
function Wl(a,b,c,d,e,f,h){var k=Xl;this.name=a;this.ra=b;this.li=k;this.hierarchy=c;this.df=d;this.cj=e;this.cf=f;this.Ge=h;this.J=4194305;this.T=4352}g=Wl.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Db(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.be(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.O=function(){var a=this.ra.O?this.ra.O():this.ra.call(null),b=Yl(this,a);r(b)||Vl(this.name,a);return b.O?b.O():b.call(null)};g.B=function(a){var b=this.ra.B?this.ra.B(a):this.ra.call(null,a),c=Yl(this,b);r(c)||Vl(this.name,b);return c.B?c.B(a):c.call(null,a)};
g.j=function(a,b){var c=this.ra.j?this.ra.j(a,b):this.ra.call(null,a,b),d=Yl(this,c);r(d)||Vl(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.C=function(a,b,c){var d=this.ra.C?this.ra.C(a,b,c):this.ra.call(null,a,b,c),e=Yl(this,d);r(e)||Vl(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.ra.P?this.ra.P(a,b,c,d):this.ra.call(null,a,b,c,d),f=Yl(this,e);r(f)||Vl(this.name,e);return f.P?f.P(a,b,c,d):f.call(null,a,b,c,d)};
g.ka=function(a,b,c,d,e){var f=this.ra.ka?this.ra.ka(a,b,c,d,e):this.ra.call(null,a,b,c,d,e),h=Yl(this,f);r(h)||Vl(this.name,f);return h.ka?h.ka(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Qa=function(a,b,c,d,e,f){var h=this.ra.Qa?this.ra.Qa(a,b,c,d,e,f):this.ra.call(null,a,b,c,d,e,f),k=Yl(this,h);r(k)||Vl(this.name,h);return k.Qa?k.Qa(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Ib=function(a,b,c,d,e,f,h){var k=this.ra.Ib?this.ra.Ib(a,b,c,d,e,f,h):this.ra.call(null,a,b,c,d,e,f,h),m=Yl(this,k);r(m)||Vl(this.name,k);return m.Ib?m.Ib(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){var m=this.ra.qb?this.ra.qb(a,b,c,d,e,f,h,k):this.ra.call(null,a,b,c,d,e,f,h,k),n=Yl(this,m);r(n)||Vl(this.name,m);return n.qb?n.qb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Jb=function(a,b,c,d,e,f,h,k,m){var n=this.ra.Jb?this.ra.Jb(a,b,c,d,e,f,h,k,m):this.ra.call(null,a,b,c,d,e,f,h,k,m),p=Yl(this,n);r(p)||Vl(this.name,n);return p.Jb?p.Jb(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.xb=function(a,b,c,d,e,f,h,k,m,n){var p=this.ra.xb?this.ra.xb(a,b,c,d,e,f,h,k,m,n):this.ra.call(null,a,b,c,d,e,f,h,k,m,n),u=Yl(this,p);r(u)||Vl(this.name,p);return u.xb?u.xb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.yb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.ra.yb?this.ra.yb(a,b,c,d,e,f,h,k,m,n,p):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p),v=Yl(this,u);r(v)||Vl(this.name,u);return v.yb?v.yb(a,b,c,d,e,f,h,k,m,n,p):v.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.ra.zb?this.ra.zb(a,b,c,d,e,f,h,k,m,n,p,u):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u),y=Yl(this,v);r(y)||Vl(this.name,v);return y.zb?y.zb(a,b,c,d,e,f,h,k,m,n,p,u):y.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var y=this.ra.Ab?this.ra.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v),E=Yl(this,y);r(E)||Vl(this.name,y);return E.Ab?E.Ab(a,b,c,d,e,f,h,k,m,n,p,u,v):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y){var E=this.ra.Bb?this.ra.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y),G=Yl(this,E);r(G)||Vl(this.name,E);return G.Bb?G.Bb(a,b,c,d,e,f,h,k,m,n,p,u,v,y):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E){var G=this.ra.Cb?this.ra.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E),I=Yl(this,G);r(I)||Vl(this.name,G);return I.Cb?I.Cb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G){var I=this.ra.Db?this.ra.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G),N=Yl(this,I);r(N)||Vl(this.name,I);return N.Db?N.Db(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I){var N=this.ra.Eb?this.ra.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I),O=Yl(this,N);r(O)||Vl(this.name,N);return O.Eb?O.Eb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){var O=this.ra.Fb?this.ra.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N),U=Yl(this,O);r(U)||Vl(this.name,O);return U.Fb?U.Fb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O){var U=this.ra.Gb?this.ra.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O),ea=Yl(this,U);r(ea)||Vl(this.name,U);return ea.Gb?ea.Gb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U){var ea=this.ra.Hb?this.ra.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):this.ra.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U),fa=Yl(this,ea);r(fa)||Vl(this.name,ea);return fa.Hb?fa.Hb(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U):fa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U)};
g.be=function(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea){var fa=hh(this.ra,a,b,c,d,P([e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea])),qa=Yl(this,fa);r(qa)||Vl(this.name,fa);return hh(qa,a,b,c,d,P([e,f,h,k,m,n,p,u,v,y,E,G,I,N,O,U,ea]))};g.gb=function(a,b,c){Ah.P(this.df,R,b,c);Ql(this.cf,this.df,this.Ge,this.hierarchy);return this};
function Yl(a,b){F.j(z(a.Ge),z(a.hierarchy))||Ql(a.cf,a.df,a.Ge,a.hierarchy);var c=z(a.cf);c=c.B?c.B(b):c.call(null,b);return r(c)?c:Tl(a.name,b,a.hierarchy,a.df,a.cj,a.cf,a.Ge,a.li)}g.ce=function(){return Zd(this.name)};g.de=function(){return $d(this.name)};g.ia=function(){return xa(this)};function Zl(a){this.Ld=a;this.I=null;this.J=2153775104;this.T=2048}g=Zl.prototype;g.toString=function(){return this.Ld};g.equiv=function(a){return this.ca(null,a)};
g.ca=function(a,b){return b instanceof Zl&&this.Ld===b.Ld};g.ga=function(a,b){return A(b,['#uuid "',t.B(this.Ld),'"'].join(""))};g.ia=function(){null==this.I&&(this.I=qe(this.Ld));return this.I};g.Mc=function(a,b){return Ya(this.Ld,b.Ld)};
function $l(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return new Zl([t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("").toLowerCase())}
function am(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Cg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}am.prototype.__proto__=Error.prototype;am.prototype.Ia=l;
am.prototype.ga=function(a,b,c){A(b,"#error {:message ");Wk(this.message,b,c);r(this.data)&&(A(b,", :data "),Wk(this.data,b,c));r(this.Cg)&&(A(b,", :cause "),Wk(this.Cg,b,c));return A(b,"}")};am.prototype.toString=function(){return ie(this)};function bm(a,b){return new am(a,b,null)}
function cm(){r(Ec)||(Ec=function(){for(var a=Rf(function(e,f){return f.length-e.length},gb(Dc)),b="";;)if(H(a)){var c=K(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.B(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ec}
function dm(a){var b=t.B(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(cm(),"g");b=r(sb(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=Q(f,0,null),d=[d,t.B(b.substring(e,c.lastIndex-f.length)),t.B("$"===f?"/":hb(Dc,f))].join(""),e=c.lastIndex;else{c=[d,t.B(b.substring(e,b.length))].join("");break a}}}a=a instanceof B?ue:t;return a.B?a.B(c):a.call(null,c)}"undefined"!==typeof console&&sc();sc();var em=new D(null,"ns","ns",441598760),fm=new D(null,"expected","expected",1583670997),gm=new D(null,"components","components",-1073188942),hm=new D(null,"div.flex-1","div.flex-1",2004402050),im=new D(null,"data-error","data-error",-1058016301),jm=new D("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),km=new D(null,"apparent-success","apparent-success",242592222),lm=new B(null,aa,aa,770546058,null),om=new D("chsk","error","chsk/error",-984175439),pm=new D(null,
"p2","p2",905500641),qm=new B(null,"defrecord*","defrecord*",-1936366207,null),rm=new D(null,"p1","p1",-936759954),sm=new D(null,"level","level",1290497552),tm=new D("db","current-tx","db/current-tx",1600722132),um=new D(null,"type-tag","type-tag",-1873863267),vm=new D(null,"?err_","?err_",789480858),wm=new D(null,"ms","ms",-1152709733),xm=new D(null,"middleware-fn","middleware-fn",-61585752),ym=new D(null,"readers","readers",-2118263030),zm=new D(null,"line","line",212345235),Am=new B(null,"!\x3d",
"!\x3d",-201205829,null),Bm=new D("db","unique","db/unique",329396388),Cm=new D("db","isComponent","db/isComponent",423352398),Dm=new D(ha,"flush-tuples","datascript.db/flush-tuples",-797350002),Em=new D("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Fm=new B(null,"ns*","ns*",1840949383,null),Gm=new D(null,"lp-timeout","lp-timeout",1149461302),Hm=new D(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",
-1098663220),Im=new D(null,"start-block-t","start-block-t",-373430594),Jm=new D(null,"limit","limit",-1355822363),Km=new D(null,"on-dispose","on-dispose",2105306360),Lm=new D(null,"per-line-prefix","per-line-prefix",846941813),Mm=new D(null,"form-str","form-str",871608859),Nm=new D("db.type","tuple","db.type/tuple",938234914),Om=new D("lookup-ref","unique","lookup-ref/unique",-960647710),Pm=new D(ha,"value-tempids","datascript.db/value-tempids",244806162),Qm=new B(da,"ends-with?","clojure.string/ends-with?",
-745964149,null),Rm=new D(null,"headers","headers",-835030129),Sm=new D(null,"string","string",-1989541586),Tm=new D(null,"avet","avet",1383857032),Um=new D(null,"data","data",-232669377),Vm=new D(null,"factor","factor",-2103172748),Wm=new D("widget.type","codemirror","widget.type/codemirror",2093288987),Xm=new B(null,"identity","identity",-1007039734,null),Ym=new B(null,"max","max",1701898075,null),Zm=new D(null,"end-line","end-line",1837326455),$m=new B(null,"fn*","fn*",-752876845,null),an=new D(null,
"ks","ks",1900203942),bn=new D(ca,"amp","cljs.spec.alpha/amp",831147508),cn=new D("transact","syntax","transact/syntax",-299207078),dn=new D(null,"abort","abort",521193198),en=new D(null,"allow","allow",-1857325745),fn=new D(null,"source","source",-433931539),gn=new D(null,"done-nl","done-nl",-381024340),hn=new D(null,"private","private",-558947994),jn=new D(null,"bindings","bindings",1271397192),kn=new D(ca,"alt","cljs.spec.alpha/alt",523685437),ln=new D(null,"?status","?status",938730360),mn=new B(aa,
"fn","cljs.core/fn",-1065745098,null),nn=new B(null,"median","median",-2084869638,null),ql=new D(null,"status","status",-1997798413),on=new D(null,"version","version",425292698),pn=new D(null,"circle","circle",1903212362),Ml=new D(null,"descendants","descendants",1824886031),qn=new D(null,"report","report",1394055010),rn=new D(null,"strs","strs",1175537277),sn=new D(null,"start","start",-355208981),tn=new D(null,"days","days",-1394072564),un=new D(null,"ns-whitelist","ns-whitelist",-1717299774),vn=
new B(null,"identical?","identical?",-745864205,null),wn=new B(null,"complement","complement",-913606051,null),xn=new B(aa,"deref","cljs.core/deref",1901963335,null),yn=new D("transact","cas","transact/cas",816687170),zn=new D(null,"on-click","on-click",1632826543),An=new D(null,"recur","recur",-437573268),Bn=new D(ca,"nil","cljs.spec.alpha/nil",1733813950),Cn=new D(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Dn=new D("db.fn","cas","db.fn/cas",-379352172),En=new D(null,"deny-spec","deny-spec",
-1074984268),Fn=new D(null,"port","port",1534937262),Gn=new D("chsk","timeout","chsk/timeout",-319776489),Hn=new D(null,"*?data*","*?data*",1047537922),In=new D(null,"http","http",382524695),Jn=new D(null,"mandatory","mandatory",542802336),Kn=new B(null,"resolve-datom","resolve-datom",-294110827,null),Ln=new D(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Mn=new D(null,"udt","udt",2011712751),Nn=new D(null,"length","length",588987862),On=new D(null,"end-column","end-column",1425389514),Pn=new D(null,
"appender-id","appender-id",-1917983538),Rn=new B(null,"with-open","with-open",172119667,null),Sn=new D(null,"timeout-ms","timeout-ms",754221406),Tn=new D(null,"getInitialState","getInitialState",1541760916),Un=new D(null,"ps","ps",292358046),ml=new D("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),Vn=new D(null,"opts","opts",155075701),Wn=new B(null,"list","list",-1889078086,null),Xn=new D(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Yn=new D(null,"not-delivered",
"not-delivered",1599158697),Zn=new B(null,"if-not","if-not",-265415609,null),$n=new D(null,"blacklist","blacklist",1248093170),ao=new D(ia,"expand-rev","datascript.pull-api/expand-rev",2143627459),bo=new D(null,"state","state",-1988618099),co=new D(null,"base-args","base-args",-1268706822),eo=new D(null,"db-before","db-before",-553691536),fo=new B(null,"\x3d\x3d","\x3d\x3d",-234118149,null),go=new B(aa,"unquote","cljs.core/unquote",1013085760,null),ho=new D(null,"return-map","return-map",1620104901),
kk=new D(aa,"not-found","cljs.core/not-found",-1572889185),io=new D(null,"eids","eids",1546550700),jo=new D(null,"no-cache","no-cache",1588056370),ko=new B(null,"compare","compare",1109853757,null),lo=new D(null,"vargs_","vargs_",552132148),mo=new D(null,"server","server",1499190120),no=new D(null,"expand-rev","expand-rev",1249112650),oo=new D(null,"def","def",-1043430536),po=new B(null,"dotimes","dotimes",-818708397,null),qo=new D(null,"raw-console?","raw-console?",-2061489061),ro=new D(null,"conform-keys",
"conform-keys",-1800041814),so=new D(null,"exception","exception",-335277064),to=new D(null,"op","op",-1882987955),uo=new B(null,"finally","finally",-1065347064,null),vo=new B(null,"str","str",-1564826950,null),wo=new B(null,"/","/",-1371932971,null),xo=new B(null,"stddev","stddev",775056588,null),yo=new D(null,"buffering","buffering",-876713613),zo=new B(aa,"string?","cljs.core/string?",-2072921719,null),Ao=new D("ajax","bad-response-type","ajax/bad-response-type",789441015),Bo=new D("db","tupleAttrs",
"db/tupleAttrs",250080092),Co=new D(null,"clean?","clean?",-1675631009),Do=new D(null,"tx-meta","tx-meta",1159283194),Ho=new D(null,"prefix-clauses","prefix-clauses",1294180028),Io=new D(null,"illegal-argument","illegal-argument",-1845493170),Jo=new D(null,"opt-un","opt-un",883442496),Ko=new D(null,"first-open?","first-open?",396686530),Lo=new D("chsk","ws-ping","chsk/ws-ping",191675304),Mo=new D(null,"rule","rule",729973257),No=new D("debug","timeout","debug/timeout",309499949),Oo=new D("widget.codemirror",
"width","widget.codemirror/width",851267293),Po=new D("schema","validation","schema/validation",1178447161),Qo=new D(null,"right-margin","right-margin",-810413306),Ro=new D(null,"wildcard?","wildcard?",-686044101),So=new B(null,"pos?","pos?",-244377722,null),To=new D("query","inputs","query/inputs",1042810394),Uo=new D(null,"wrong-id-type","wrong-id-type",-1213601689),Vo=new D(null,"exponentchar","exponentchar",1986664222),Wo=new D(null,"attribute","attribute",-2074029119),Xo=new B(null,"default",
"default",-347290801,null),Yo=new B(null,"p1__24560#","p1__24560#",629362789,null),Zo=new B(da,"includes?","clojure.string/includes?",-1842146260,null),$o=new D(null,"tx","tx",466630418),ap=new D("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),bp=new B(null,"locking","locking",1542862874,null),cp=new D(null,"uid","uid",-1447769400),dp=new D(null,"directive","directive",793559132),ep=new D(null,"function-components","function-components",1492814963),fp=new B(null,"subs","subs",1453849536,
null),gp=new D(null,"seq","seq",-1817803783),hp=new D(null,"qname","qname",-1983612179),ip=new D(null,"where","where",-2044795965),jp=new B(null,"pr-str","pr-str",-2066912145,null),kp=new D(null,"set","set",304602554),lp=new D(null,"flush?","flush?",-108887231),mp=new B(null,"or-join","or-join",591375469,null),np=new D(null,"handshake?","handshake?",-423743093),op=new D(ca,"name","cljs.spec.alpha/name",205233570),pp=new B(null,"sum","sum",1777518341,null),qp=new B(null,"some?","some?",234752293,null),
rp=new B(null,"min","min",2085523049,null),sp=new D(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),tp=new D(null,"handshake","handshake",68079331),up=new D(null,"error","error",-978969032),vp=new D(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),wp=new D(null,"base","base",185279322),xp=new D(null,"actual","actual",107306363),yp=new D(null,"event","event",301435442),zp=new D(null,"noop","noop",-673731258),Ap=new D(null,"trailing-white-space",
"trailing-white-space",1496006996),Bp=new D(null,"div","div",1057191632),Cp=new B(null,"letfn*","letfn*",-110097810,null),Dp=new D(null,"handshake-data","handshake-data",-278378864),Ep=new D(null,"prefix","prefix",-265908465),Fp=new D("geoplot.style","fill","geoplot.style/fill",-660763808),Gp=new D("parser","binding","parser/binding",-346395752),Hp=new B(null,"$","$",-1580747756,null),Ip=new D("query","binding","query/binding",698240489),Jp=new D(null,"right-params","right-params",-1790676237),Kp=
new D(null,"start-pos","start-pos",668789086),Al=new D(null,"keyword-fn","keyword-fn",-64566675),Lp=new D(null,"first","first",-644103046),Mp=new D(null,"span.text-lg.text-gray-700.py-6.px-1","span.text-lg.text-gray-700.py-6.px-1",404603069),Np=new B(null,"let*","let*",1920721458,null),Op=new D(null,"pathname","pathname",-1420497528),Pp=new B(null,"limit","limit",284709164,null),Qp=new D("widget","children","widget/children",485181574),Rp=new D("db.fn","retractEntity","db.fn/retractEntity",-1423535441),
Sp=new D(null,"component-will-unmount","component-will-unmount",-2058314698),Tp=new B(null,"re-seq","re-seq",-2105554076,null),Up=new B(null,"when-first","when-first",821699168,null),Vp=new D(null,"ns-blacklist","ns-blacklist",1957763142),Wp=new D(null,"?err","?err",549653299),Xp=new D(null,"depth","depth",1768663640),Yp=new D(null,"multi?","multi?",-749311069),Zp=new D(null,"onmessage-fn","onmessage-fn",1633804172),$p=new D(null,"?error","?error",1070752222),aq=new D(null,"href","href",-793805698),
bq=new B(null,"recur","recur",1202958259,null),cq=new D("widget.type","markdown","widget.type/markdown",177221797),dq=new B(null,"variance","variance",-1522424942,null),eq=new D(null,"type","type",1174270348),fq=new D(null,"none","none",1333468478),gq=new B(null,"_","_",-1201019570,null),hq=new D(null,"style","style",-496642736),iq=new D(null,"impl_","impl_",1218818179),jq=new D("parser","rule-var","parser/rule-var",-1584354459),kq=new D(null,"callback","callback",-705136228),lq=new D(null,"reader-error",
"reader-error",1610253121),mq=new B(null,"v","v",1661996586,null),nq=new D(ca,"op","cljs.spec.alpha/op",-1269055252),oq=new B(null,"m","m",-1021758608,null),pq=new B(null,"k","k",-505765866,null),qq=new D(null,"ws","ws",86841443),rq=new D(null,"span","span",1394872991),sq=new D(null,"async?","async?",1523057758),tq=new D("entity-id","missing","entity-id/missing",1234588374),uq=new B(null,"count","count",-514511684,null),vq=new D(null,"no-stacktrace?","no-stacktrace?",1701072694),wq=new D(null,"code",
"code",1586293142),xq=new D(null,"keys","keys",1068423698),yq=new D(null,"qfind","qfind",1529332972),zq=new D(null,"intra-block-nl","intra-block-nl",1808826875),Aq=new D("parser","rule-vars","parser/rule-vars",-1493174969),Bq=new D(null,"gen-max","gen-max",-793680445),pc=new D(null,"meta","meta",1499536964),Cq=new B(null,"not-join","not-join",-645515756,null),Dq=new D(null,"deny","deny",1589338523),Eq=new D("widget.type","html","widget.type/html",-2034153477),Fq=new D(null,"subpattern","subpattern",
45002743),Gq=new D(null,"datoms","datoms",-290874434),Hq=new D(null,"search","search",1564939822),Iq=new D("geoplot.feature","style","geoplot.feature/style",-895485302),Jq=new D(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500","div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",2054366269),Kq=new D("literate","widget","literate/widget",-1743430817),Lq=new D(null,"right","right",-452581833),Mq=new B(null,"println-str","println-str",
-2049216703,null),Nq=new D(null,"host","host",-1558485167),Oq=new D(null,"err","err",-2089457205),Pq=new B(null,"when","when",1064114221,null),Qq=new B(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),Rq=new B(aa,"set?","cljs.core/set?",-1176684971,null),Sq=new D(null,"logical-blocks","logical-blocks",-1466339776),Tq=new D(null,"\x3cserver","\x3cserver",-2135373537),Uq=new B(null,"quot","quot",-1125214196,null),Vq=new D(null,"colinc","colinc",-584873385),Wq=new D(null,"auto","auto",-566279492),
dr=new D(null,"find","find",496279456),fr=new B(null,"\x3e\x3d","\x3e\x3d",1016916022,null),gr=new D(null,"fatal","fatal",1874419888),hr=new D(null,"logical-block","logical-block",-581022564),ir=new D(null,"rate-limit","rate-limit",1748082022),jr=new B(null,"nil?","nil?",1612038930,null),kr=new D(null,"namespaced-keyword","namespaced-keyword",131372895),lr=new D(null,"your-version","your-version",-351781765),mr=new B(null,"or","or",1876275696,null),nr=new D(null,"col","col",-1959363084),or=new D("db",
"fn","db/fn",-1175261470),pr=new D(null,"?ns-str","?ns-str",2012733966),qr=new D("widget.geoplot","height","widget.geoplot/height",774138358),rr=new D("entity-id","syntax","entity-id/syntax",1921317045),sr=new D(null,"current","current",-1088038603),tr=new D(null,"writing","writing",-1486865108),ur=new D(null,"ch-recv","ch-recv",-990916861),vr=new D(null,"start-col","start-col",668080143),wr=new D(null,"into","into",-150836029),xr=new D(null,"suppress-namespaces","suppress-namespaces",2130686956),
yr=new B(null,"set!","set!",250714521,null),zr=new D(null,"uri-str","uri-str",304128675),Ar=new D(null,"parent","parent",-878878779),Br=new D(null,"instance-handle_","instance-handle_",-1923384457),Cr=new D("widget.geoplot","style","widget.geoplot/style",1499653960),Dr=new D(null,"new","new",-2085437848),Er=new D("query","where","query/where",-1935159429),Fr=new D("db","retract","db/retract",-1549825231),Gr=new D(null,"free","free",801364328),Hr=new B(null,"missing?","missing?",-1710383910,null),
Ir=new D(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Jr=new B(aa,"map?","cljs.core/map?",-1390345523,null),Kr=new D(null,"seen","seen",-518999789),Lr=new D(null,"instant","instant",655498374),Mr=new B(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Nr=new B(null,"\x26","\x26",-2144855648,null),Or=new D(null,"ex-kind","ex-kind",1581199296),Pr=new D(null,"internal","internal",-854870097),Qr=new D(null,"reagentRender","reagentRender",-358306383),Rr=new D(null,"right-bracket","right-bracket",
951856080),Sr=new D(null,"last-ws-error","last-ws-error",-820288502),Tr=new D(null,"req-id","req-id",-471642231),Ur=new D(null,"schema","schema",-1582001791),Vr=new D(null,"tx-data","tx-data",934159761),Wr=new D(null,"amp","amp",271690571),Xr=new D("db.unique","value","db.unique/value",276903088),Yr=new D(null,"csrf-token","csrf-token",-1872302856),Zr=new D("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),$r=new D(ca,"cpred","cljs.spec.alpha/cpred",-693471218),as=new D("chsk","state","chsk/state",
-1991397620),bs=new B(null,"-Inf","-Inf",-2123243689,null),Uf=new D("db","id","db/id",-1388397098),cs=new D(null,"iso8601","iso8601",609352650),ds=new D(null,"vars","vars",-2046957217),es=new D(null,"any","any",1705907423),fs=new D(null,"client-uuid","client-uuid",-1717531965),gs=new B(null,"name","name",-810760592,null),hs=new D(null,"operation","operation",-1267664310),Xl=new D(null,"default","default",-1987822328),is=new D(null,"secs","secs",1532330091),js=new B("clojure.core","deref","clojure.core/deref",
188719157,null),ks=new D(null,"padchar","padchar",2018584530),ls=new D(null,"unexpected","unexpected",-1137752424),ms=new D(null,"elidable?","elidable?",248362249),ns=new D(null,"cache?","cache?",-1601953949),rc=new D(null,"print-length","print-length",1931866356),os=new D(null,"nil","nil",99600501),ps=new B(null,"odd?","odd?",-1458588199,null),qs=new D("widget.type","vega-embed","widget.type/vega-embed",-887166019),rs=new D(null,"*","*",-1294732318),ss=new D(null,"json","json",1279968570),ts=new D(null,
"allow-spec","allow-spec",448749872),us=new D("db","retractEntity","db/retractEntity",-1452737935),vs=new D(null,"no-op","no-op",-93046065),ws=new B(null,"zero?","zero?",325758897,null),xs=new D(null,"buffer-block","buffer-block",-10937307),ys=new D(null,"reader-exception","reader-exception",-1938323098),zs=new D(null,"remaining-arg-count","remaining-arg-count",-1216589335),As=new D(null,"recursion","recursion",-749738765),Bs=new B(null,"-","-",-471816912,null),Cs=new D(null,"req-un","req-un",1074571008),
Ds=new B(null,"keyword","keyword",-1843046022,null),Es=new D(null,"forms","forms",2045992350),Fs=new D("db","attrTuples","db/attrTuples",860541631),Gs=new D(null,"cur","cur",1153190599),Hs=new D(null,"branches","branches",-1240337268),Is=new B(null,"def","def",597100991,null),Js=new B(null,"dec","dec",-766002333,null),Ks=new D(ha,"internal","datascript.db/internal",-249301114),Ls=new B(null,"rand","rand",-1745930995,null),Ms=new D(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),
El=new D(null,"keywordize-keys","keywordize-keys",1310784252),Ns=new D("widget","type","widget/type",-1894308144),Os=new D(null,"pos","pos",-864607220),Ps=new D(ca,"v","cljs.spec.alpha/v",552625740),Qs=new D(null,"on-write","on-write",31519475),Rs=new D("transact","upsert","transact/upsert",412688078),Ss=new D(ca,"k","cljs.spec.alpha/k",-1602615178),Ts=new D(null,"kvps","kvps",65308317),Us=new D(null,"output-fn","output-fn",1600951539),Vs=new B(null,"set","set",1945134081,null),Ws=new D(null,"commainterval",
"commainterval",-1980061083),Xs=new D("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Ys=new D(null,"elements","elements",657646735),Zs=new D(null,"send-buffers","send-buffers",-1788003787),$s=new D(null,"total","total",1916810418),at=new D(null,"separator","separator",-1628749125),bt=new B("datascript","Datom","datascript/Datom",-901340080,null),ct=new B(null,"defonce","defonce",-1681484013,null),dt=new D(null,"?content","?content",1697782054),et=new D(null,"div.w-full","div.w-full",
-1626749092),ft=new B(null,"%","%",-950237169,null),gt=new D(null,"form","form",-1624062471),ht=new D(null,"pretty-writer","pretty-writer",-1222834267),it=new B(null,"..","..",-300507420,null),jt=new D(ha,"tx-redundant","datascript.db/tx-redundant",-1117921977),kt=new D(null,"length-computable?","length-computable?",1915473276),lt=new B(null,"not\x3d","not\x3d",1466536204,null),mt=new D(null,"validator","validator",-1966190681),nt=new D(null,"pretty","pretty",-1916372486),ot=new D(null,"unnamespaced-id",
"unnamespaced-id",1976189772),pt=new D(null,"buffer-level","buffer-level",928864731),qt=new B(null,"range","range",-1014743483,null),rt=new D("widget.geoplot","features","widget.geoplot/features",-1949420440),st=new B(da,"blank?","clojure.string/blank?",1772874244,null),tt=new D("rl","all","rl/all",892118056),ut=new D(null,"ever-opened?","ever-opened?",1128459732),vt=new D(null,"fragment","fragment",826775688),sl=new D(null,"pending","pending",-220036727),wt=new D(ca,"invalid","cljs.spec.alpha/invalid",
-1220295119),xt=new D(ca,"pcat","cljs.spec.alpha/pcat",26406623),yt=new D("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),oc=new D(null,"readably","readably",1129599760),zt=new D(null,"contextTypes","contextTypes",-2023853910),At=new D(null,"chsk","chsk",-863703081),Bt=new D(null,"file","file",-1269645878),Ct=new D(null,"error-handler","error-handler",-484945776),Dt=new D(null,"rschema","rschema",-1196134054),Et=new D(null,"progress-fn","progress-fn",-1146547855),Ft=new D(null,
"fill","fill",883462889),Gt=new D(null,"i.zmdi.zmdi-close","i.zmdi.zmdi-close",1663309273),Ht=new D(null,"client-id","client-id",-464622140),It=new D(null,"attrs","attrs",-2090668713),Jt=new D(ia,"recursion","datascript.pull-api/recursion",-1897884534),Kt=new D(null,"months","months",-45571637),Lt=new D(null,"radix","radix",857016463),Mt=new D(null,"send-fn","send-fn",351002041),Nt=new D("parser","with","parser/with",-386255821),Ot=new D(null,"text","text",-1790561697),Pt=new D(null,"distinct","distinct",
-1788879121),Qt=new D(null,"ns-str","ns-str",-2062616499),Rt=new B(null,"uuid","uuid",-504564192,null),St=new D(null,"udt-last-comms_","udt-last-comms_",-145799639),Tt=new D(null,"entity-id","entity-id",1485898093),Ut=new D(null,"wildcard","wildcard",-622473020),Vt=new B(null,"queue","queue",-1198599890,null),Wt=new D(null,"block","block",664686210),Xt=new D(null,"else","else",-1508377146),Yt=new D(null,"variable","variable",-281346492),Zt=new B(null,"case*","case*",-1938255072,null),$t=new D(null,
"params","params",710516235),Nl=new D(null,"ancestors","ancestors",-776045424),au=new D(null,"tuples","tuples",-676032639),bu=new D(null,"listeners","listeners",394544445),cu=new D(null,"retry-count_","retry-count_",20238093),du=new D("db","cardinality","db/cardinality",-104975659),eu=new B(null,"struct-map","struct-map",-1387540878,null),fu=new D(null,"hostname","hostname",2105669933),gu=new D(null,"rest","rest",-1241696419),ku=new D(null,"min-remaining","min-remaining",962687677),mu=new D(null,
"?data","?data",-9471433),nu=new D(null,"offset","offset",296498311),ou=new D(null,"var","var",-769682797),pu=new D(null,"commachar","commachar",652859327),qu=new D(null,"error-level?","error-level?",778415885),ru=new D(null,"ring-req","ring-req",-747861961),su=new D(null,"loaded","loaded",-1246482293),tu=new B(null,"re-find","re-find",1143444147,null),kl=new D(null,"val","val",128701612),uu=new B(aa,"zipmap","cljs.core/zipmap",-1902130674,null),vu=new B(null,"-\x3e","-\x3e",-2139605430,null),wu=
new D(null,"db-after","db-after",-571884666),xu=new D(null,"render","render",-1408033454),yu=new D(null,"entity","entity",-450970276),zu=new D(null,"timeout","timeout",-318625318),Au=new D(null,"arglists","arglists",1661989754),Bu=new B(null,"js*","js*",-1134233646,null),Cu=new D(null,"end-pos","end-pos",-1643883926),Du=new D(null,"auto-run","auto-run",1958400437),Eu=new D(null,"min-version","min-version",-1697197126),Fu=new D(null,"pred-forms","pred-forms",172611832),Gu=new D(null,"hours","hours",
58380855),Hu=new D(null,"trace-evs?","trace-evs?",1502453512),Iu=new B(null,"catch","catch",-1616370245,null),Ju=new B(null,"tuple","tuple",1167864243,null),Ku=new B(null,"count-distinct","count-distinct",-1566572514,null),Lu=new D(null,"get","get",1683182755),Mu=new D(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Nu=new D(null,"kind","kind",-717265803),Ou=new D(null,"method","method",55703592),Pu=new D(null,"val-type","val-type",-279850094),Qu=new B(null,"defn","defn",-126010802,null),
Ru=new D(null,"specs","specs",1426570741),Su=new B(null,"struct","struct",325972931,null),Tu=new D("db.fn","call","db.fn/call",-151594418),Uu=new D(null,"gfn","gfn",791517474),Vu=new D(null,"years","years",-1298579689),Wu=new D(null,"namespaced-map","namespaced-map",1235665380),Xu=new B(null,"prn-str","prn-str",-145225943,null),Yu=new D(ca,"accept","cljs.spec.alpha/accept",370988198),Zu=new B(null,"...","...",-1926939749,null),$u=new D(null,"constructor","constructor",-1953928811),av=new D(null,"childContextTypes",
"childContextTypes",578717991),bv=new D(null,"onerror-fn","onerror-fn",1069372505),cv=new D(null,"xhr","xhr",-177710851),dv=new D(null,"eavt","eavt",-666437073),ev=new D(null,"mins","mins",467369676),fv=new D(null,"tag","tag",-1290361223),gv=new D(null,"hostname_","hostname_",-2091647379),hv=new D(null,"linear","linear",872268697),iv=new B(null,"new","new",-444906321,null),jv=new D("db","cas","db/cas",-451542322),kv=new D(null,"other","other",995793544),lv=new B(null,"\x3e","\x3e",1085014381,null),
mv=new D(null,"?msg-fmt","?msg-fmt",-852453891),nv=new D(null,"sections","sections",-886710106),ov=new D(null,"lines","lines",-700165781),pv=new B(null,"do","do",1686842252,null),qv=new D(null,"colon","colon",-965200945),rv=new D("literate","widgets","literate/widgets",1235755088),sv=new D(null,"color","color",1011675173),tv=new D(null,"edn","edn",1317840885),uv=new D(null,"keys-pred","keys-pred",858984739),vv=new D(null,"?line","?line",-631853385),wv=new D(null,"test","test",577538877),xv=new B(null,
"\x3d","\x3d",-1501502141,null),yv=new D(null,"minpad","minpad",323570901),zv=new B("datascript","DB","datascript/DB",-487332776,null),Yk=new D(null,"alt-impl","alt-impl",670969595),Av=new B(null,"not-empty","not-empty",2029453590,null),Bv=new D(null,"conflict","conflict",1978796605),Cv=new D(null,"datom","datom",-371556090),Dv=new B(ca,"keys","cljs.spec.alpha/keys",1109346032,null),Ev=new D(null,"given","given",716253602),Fv=new B(null,"db","db",-1661185010,null),Gv=new B(null,"with-local-vars",
"with-local-vars",837642072,null),Hv=new D(null,"println","println",1920840330),Iv=new B(null,"aggregate","aggregate",-1142967327,null),Jv=new D(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),Kv=new B(null,"and","and",668631710,null),Lv=new B(null,"try","try",-1273693247,null),Mv=new D(null,"location","location",1815599388),Nv=new D(null,"xml","xml",-1170142052),Ov=new B(null,"throw","throw",595905694,null),Pv=new D(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",
1209242693),Qv=new B(null,"array-map","array-map",1555038968,null),Rv=new D(null,"font-family","font-family",-667419874),Sv=new D(null,"?reply-fn","?reply-fn",-1479510592),Tv=new B(null,"let","let",358118826,null),nc=new D(null,"flush-on-newline","flush-on-newline",-151457939),Uv=new B(null,"print-str","print-str",-699700354,null),Vv=new D(null,"opt-specs","opt-specs",-384905450),Wv=new D("widget.codemirror","value","widget.codemirror/value",1562181971),Xv=new B(null,"meta","meta",-1154898805,null),
Yv=new D(null,"wrong-length","wrong-length",1367572281),Zv=new D(null,"rules","rules",1198912366),$v=new D(null,"rels","rels",1770187185),aw=new D(null,"pred-exprs","pred-exprs",1792271395),bw=new D(null,"timestamp-opts","timestamp-opts",-1359534807),cw=new B(null,"if","if",1181717262,null),dw=new B(null,"get-some","get-some",409442058,null),ew=new D(null,"binding","binding",539932593),fw=new D(null,"character","character",380652989),gw=new D(ca,"kfn","cljs.spec.alpha/kfn",672643897),hw=new D(null,
"eid","eid",559519930),iw=new D(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),jw=new D(null,"reagent-render","reagent-render",-985383853),kw=new B(null,"hash-map","hash-map",-439030950,null),lw=new B(null,"loop*","loop*",615029416,null),mw=new D(null,"min-count","min-count",1594709013),nw=new D(null,"last","last",1105735132),ow=new B(null,"quote","quote",1377916282,null),pw=new B(aa,"vector?","cljs.core/vector?",-1550392028,null),qw=new B(aa,"lift-ns","cljs.core/lift-ns",463499081,null),rw=
new D(null,"k","k",-2146297393),sw=new D(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),tw=new D(null,"hierarchy","hierarchy",-1053470341),uw=new D(null,"qreturn-map","qreturn-map",1841215994),vw=new D(null,"e","e",1381269198),ww=new D(null,"f","f",-1597136552),xw=new D(null,"trace","trace",-1082747415),yw=new D(null,"d","d",1972142424),zw=new D(null,"a","a",-2123407586),Aw=new D("rl","reset","rl/reset",-800926172),Bw=new B(null,"pull","pull",779986722,null),Cw=new D(null,
"ajax-cb","ajax-cb",-807060321),Dw=new B(da,"starts-with?","clojure.string/starts-with?",656256322,null),Ew=new D(null,"w","w",354169001),Fw=new B(null,"fn","fn",465265323,null),Gw=new D(null,"v","v",21465059),Hw=new D("geoplot.style","stroke","geoplot.style/stroke",-1145366218),Iw=new D(null,"last-close","last-close",-2054255782),Jw=new D(null,"strable","strable",1877668047),Kw=new D(null,"p","p",151049309),Lw=new D(null,"componentWillUnmount","componentWillUnmount",1573788814),Mw=new D(null,"n",
"n",562130025),Nw=new D(null,"contextType","contextType",1033066077),Ow=new D(null,"func","func",-238706040),Pw=new D(null,"symbol","symbol",-1038572696),Qw=new D(null,"got","got",-1674745710),Rw=new B(aa,"contains?","cljs.core/contains?",-976526835,null),Sw=new D(null,"indent-t","indent-t",528318969),Tw=new B(null,"lift-ns","lift-ns",602311926,null),Uw=new D(null,"middleware","middleware",1462115504),Vw=new D(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Ww=new D("widget.codemirror",
"mode","widget.codemirror/mode",-517946799),Xw=new D(null,"ref","ref",1289896967),Yw=new D(null,"value","value",305978217),Zw=new D(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),Zk=new D(null,"fallback-impl","fallback-impl",-1501286995),$w=new D(null,"sources","sources",-321166424),ax=new D(null,"display-name","display-name",694513143),bx=new D(null,"enabled?","enabled?",-1376075057),cx=new B(null,"ns","ns",2082130287,null),dx=new D(null,"req","req",-326448303),ex=new D(null,"height","height",1025178622),
fx=new D(null,"ret","ret",-468222814),gx=new D("parser","rule","parser/rule",-464044566),hx=new D(null,"done","done",-889844188),ix=new D(null,"chs","chs",376886120),jx=new D(null,"both","both",-393648840),kx=new D("widget.codemirror","height","widget.codemirror/height",-960842196),lx=new D(null,"ns-filter","ns-filter",108598448),mx=new D(null,"debug","debug",-1608172596),nx=new D(null,"vector","vector",1902966158),ox=new D(null,"req-specs","req-specs",553962313),px=new D(null,"end","end",-268185958),
qx=new D(null,"wrong-type","wrong-type",929556915),rx=new D(null,"connected-uids","connected-uids",1454332231),sx=new B(null,"distinct","distinct",-148347594,null),tx=new B(null,"get-else","get-else",1312024065,null),ux=new D(null,"className","className",-1983287057),vx=new D(null,"buffer-blob","buffer-blob",-1830112173),wx=new D(null,"allows-separator","allows-separator",-818967742),xx=new D(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),yx=new B("clojure.core","unquote","clojure.core/unquote",
843087510,null),zx=new D(null,"appenders","appenders",1245583998),Ax=new D(null,"colon-up-arrow","colon-up-arrow",244853007),Bx=new B(null,"*","*",345799209,null),Cx=new D("rl","peek","rl/peek",-291391771),Dx=new D(null,"flags","flags",1775418075),Ex=new D(null,"eof","eof",-489063237),Fx=new B(null,"-differ?","-differ?",1465687357,null),Gx=new D(null,"ws-kalive-ms","ws-kalive-ms",1442179968),Hx=new B(null,"js","js",-886355190,null),Ix=new D(null,"relative-to","relative-to",-470100051),Jx=new B(null,
"doseq","doseq",221164135,null),Kx=new D("widget","parent","widget/parent",-1665940103),Lx=new B(null,"avg","avg",1837937727,null),Mx=new B(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),Nx=new B(null,"not","not",1044554643,null),Ox=new B(aa,"list?","cljs.core/list?",-684796618,null),Px=new D("geoplot","color","geoplot/color",831577171),Qx=new D(null,"max-eid","max-eid",2134868075),Rx=new D(null,"expand-kvps","expand-kvps",44141154),Sx=new D(null,"unknown","unknown",-935977881),Pk=new D(null,
"more-marker","more-marker",-14717935),Tx=new D(null,"index-access","index-access",-1548960265),Ux=new D(null,"stroke","stroke",1741823555),Vx=new D(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Wx=new D("parser","where","parser/where",-966053850),Xx=new D(null,"aevt","aevt",-585148059),Yx=new D(null,"used-args","used-args",23596256),Zx=new D(null,"nl-t","nl-t",-1608382114),$x=new D(null,"symbols","symbols",1211743),ay=new B(null,"var","var",870848730,null),by=new D(null,"qualifier","qualifier",
125841738),cy=new D(null,"attr","attr",-604132353),dy=new D(null,"doc","doc",1913296891),ey=new D("chsk","bad-package","chsk/bad-package",501893679),fy=new D(null,"cbs-waiting_","cbs-waiting_",-1519029061),rl=new D(null,"ready","ready",1086465795),gy=new B(null,"neg?","neg?",-1902175577,null),hy=new D(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200","div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),iy=new D(null,
"hash_","hash_",-827203612),jy=new D(null,"http-error","http-error",-1040049553),ky=new D("db.cardinality","one","db.cardinality/one",1428352190),ly=new B(null,"untuple","untuple",-606149900,null),my=new D("parser","query","parser/query",1877320671),ny=new D(null,"displayName","displayName",-809144601),oy=new D(ca,"gfn","cljs.spec.alpha/gfn",-593120375),py=new D(null,"added","added",2057651688),qy=new D(null,"?file","?file",1533429675),ry=new B(null,"mod","mod",1510044207,null),sy=new D("widget.codemirror",
"lineNumbers","widget.codemirror/lineNumbers",399725207),ty=new D(null,"i.zmdi.zmdi-bug.text-green-500","i.zmdi.zmdi-bug.text-green-500",-1589227883),uy=new D(null,"qin","qin",1372651151),vy=new B(null,"cond","cond",1606708055,null),wy=new B(null,"\x3c","\x3c",993667236,null),xy=new D(null,"map","map",1371690461),yy=new D(null,"open?","open?",1238443125),zy=new D(null,"element","element",1974019749),Ay=new D(null,"char-format","char-format",-1016499218),By=new B(null,"type","type",-1480165421,null),
Cy=new D(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Dy=new D("parser","pull","parser/pull",-2147427204),Ey=new D(null,"mode","mode",654403691),Fy=new D(null,"max-columns","max-columns",1742323262),Gy=new D(null,"max","max",61366548),Hy=new D(null,"pending-guards","pending-guards",-1255527308),Iy=new D(null,"last-ws-close","last-ws-close",-798104932),Jy=new B(null,"when-let","when-let",-1383043480,null),Ky=new D("db","index","db/index",-1531680669),Ly=new D(null,"url","url",
276297046),My=new D(null,"rattr","rattr",-1122345563),Ny=new D(null,"qwhere","qwhere",-1645067378),Oy=new D(null,"count","count",2139924085),Py=new D(null,"clauses","clauses",1454841241),Qy=new B(null,"empty?","empty?",76408555,null),Ry=new B(null,"re-matches","re-matches",-1865705768,null),Sy=new D(null,"ever-opened?_","ever-opened?_",1641338913),Ty=new D(null,"miser-width","miser-width",-1310049437),Uy=new D(null,"expand","expand",595248157),Vy=new B(null,"binding","binding",-2114503176,null),Wy=
new B(null,"ground","ground",-1460862835,null),Xy=new D(null,"state_","state_",957667102),Yy=new D(null,"index","index",-1531685915),Zy=new D("widget.html","src","widget.html/src",1397441752),$y=new D(null,"class","class",-2030961996),az=new D(null,"packer","packer",66077544),bz=new D("db.unique","identity","db.unique/identity",1675950722),cz=new D(null,"success?","success?",-122854052),dz=new D(ha,"queued-tuples","datascript.db/queued-tuples",-762852029),ez=new B(null,".",".",1975675962,null),fz=
new D(null,"at","at",1476951349),gz=new D("transact","unique","transact/unique",-940992320),hz=new D(null,"span.text-lg.text-gray-400","span.text-lg.text-gray-400",-512663112),mz=new D(null,"splice","splice",449588165),nz=new D(null,"dispatch","dispatch",1319337009),oz=new B(null,"inst","inst",-2008473268,null),pz=new D(ca,"describe","cljs.spec.alpha/describe",1883026911),qz=new D("widget.vega-embed","spec","widget.vega-embed/spec",-1913225774),rz=new B(null,"sample","sample",1719555128,null),sz=
new D("widget","markdown","widget/markdown",-145862203),tz=new D(null,"__html","__html",674048345),uz=new D(null,"max-tx","max-tx",1119558339),vz=new D("lookup-ref","syntax","lookup-ref/syntax",-317304012),wz=new D("widget.geoplot","center","widget.geoplot/center",-530369016),xz=new D(null,"as","as",1148689641),yz=new D(null,"?meta","?meta",-793560773),zz=new D(null,"name","name",1843675177),Az=new D(null,"syms","syms",-1575891762),Bz=new D(null,"vargs","vargs",-966597273),Cz=new D("chsk","bad-event",
"chsk/bad-event",-565206930),Dz=new D(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),Ez=new D("db.type","ref","db.type/ref",-1728373079),Fz=new D(null,"queue","queue",1455835879),Gz=new D(null,"stacktrace-fonts","stacktrace-fonts",830799382),Hz=new D(null,"warn","warn",-436710552),Iz=new B(null,"loop","loop",1244978678,null),Jz=new D("parser","find","parser/find",-801023103),Kz=new D(null,"appender","appender",1267426510),Lz=new D(null,"selector","selector",
762528866),Mz=new D(null,"parameter-from-args","parameter-from-args",-758446196),Nz=new D(null,"miser","miser",-556060186),Oz=new D(null,"ajax","ajax",814345549),Pz=new D(null,"on-set","on-set",-140953470),Qz=new B(null,"inc","inc",324505433,null),Rz=new D(null,"rule-vars","rule-vars",1665972520),Sz=new D(null,"backoff-ms-fn","backoff-ms-fn",772895955),Tz=new D(null,"context","context",-830191113),Uz=new D(null,"chsk-url-fn","chsk-url-fn",1968894294),Vz=new D(null,"colnum","colnum",2023796854),Wz=
new D(null,"raw-resp","raw-resp",-1924342506),Xz=new D(null,"section","section",-300141526),Yz=new D(null,"bracket-info","bracket-info",-1600092774),Zz=new B(null,"even?","even?",-1827825394,null),$z=new B(null,"Inf","Inf",647172781,null),aA=new B(aa,"map","cljs.core/map",-338988913,null),qc=new D(null,"dup","dup",556298533),bA=new D(null,"prefix-context","prefix-context",-1269613591),cA=new D(null,"init-db","init-db",1595181278),dA=new D(null,"timestamp_","timestamp_",-954533417),eA=new D("ajax",
"resp-as-text","ajax/resp-as-text",141416819),fA=new D(null,"socket_","socket_",-361048908),gA=new D(ca,"rep","cljs.spec.alpha/rep",1483217317),hA=new D(null,"fn","fn",-1175266204),iA=new D(null,"args","args",1315556576),jA=new D(null,"suffix","suffix",367373057),kA=new D(null,"old","old",-1825222690),lA=new D(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",2231265),mA=new D(null,"qwith","qwith",-45809392),nA=new B(null,"defn-","defn-",1097765044,null),oA=new D(null,"pattern",
"pattern",242135423),pA=new D(null,"div.p-2","div.p-2",-325121057),qA=new D(null,"required","required",1807647006),rA=new D(null,"priority","priority",1431093715),sA=new D(null,"buffer","buffer",617295198),tA=new D(null,"inherit","inherit",-1840815422),uA=new D(null,"component-did-update","component-did-update",-1468549173),vA=new D(null,"msg_","msg_",-1925147E3),wA=new D(null,"opt-keys","opt-keys",1262688261),xA=new B(null,"when-not","when-not",-1223136340,null),yA=new D(null,"ev","ev",-406827324),
zA=new D(null,"component-did-mount","component-did-mount",-1126910518),AA=new D(null,"console","console",1228072057),BA=new D("parser","in","parser/in",1617442048),CA=new D(null,"hash","hash",-13781596),DA=new B(null,"namespace","namespace",1263021155,null),EA=new D(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",-1334433298),FA=new D(null,"?content-type","?content-type",-2129759049),GA=new D(null,"post","post",269697687),HA=new D(null,
"simple-auto-threading?","simple-auto-threading?",1950754184),IA=new D(null,"arg3","arg3",-1486822496),JA=new D(null,"min-level","min-level",1634684919),KA=new D(null,"arg1","arg1",951899358),LA=new D("db","valueType","db/valueType",1827971944),MA=new D(null,"arg2","arg2",1729550917),NA=new D(null,"list","list",765357683),OA=new D("db","ident","db/ident",-737096),PA=new D(null,"dt","dt",-368444759),QA=new D(null,"min","min",444991522),RA=new D("literate","!transact","literate/!transact",758397308),
SA=new B(null,"re-pattern","re-pattern",1047705161,null),TA=new D("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),UA=new D(null,"column","column",2078222095),VA=new D(null,"key","key",-1516042587),WA=new B(null,"rand-int","rand-int",-495012157,null),XA=new D("chsk","recv","chsk/recv",561097091),YA=new D(null,"up-arrow","up-arrow",1705310333),ZA=new B(null,"contains?","contains?",-1676812576,null),$A=new B(null,"true?","true?",-1600332395,null),aB=new D(null,"?ratio",
"?ratio",-1275760831),bB=new B(null,"+","+",-740910886,null),cB=new D(null,"generator-fn","generator-fn",811851656),dB=new D(null,"req-keys","req-keys",514319221),eB=new D(null,"logical-block-callback","logical-block-callback",1612691194),fB=new D(null,"resp-type","resp-type",1050675962),gB=new D(null,"spying?","spying?",1753444487),hB=new D("db.cardinality","many","db.cardinality/many",772806234),iB=new D(null,"weeks","weeks",1844596125),jB=new D(null,"overflowchar","overflowchar",-1620088106),kB=
new D(null,"with","with",-1536296876),lB=new D(null,"cb","cb",589947841),mB=new D("swap","dissoc","swap/dissoc",-605373782),nB=new D(null,"ppstr","ppstr",1557495252),Ll=new D(null,"parents","parents",-2027538891),oB=new D("chsk","handshake","chsk/handshake",64910686),pB=new D(null,"with-credentials?","with-credentials?",-1773202222),qB=new D(null,"mincol","mincol",1230695445),rB=new D(null,"protocol","protocol",652470118),sB=new D(null,"curr-xhr_","curr-xhr_",-1318773696),tB=new B(null,"if-let","if-let",
1803593690,null),uB=new D(null,"*assert*","*assert*",-160895053),vB=new D("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),wB=new B(null,"condp","condp",1054325175,null),xB=new B(null,"rem","rem",664046770,null),yB=new D(null,"deref","deref",-145586795),zB=new D(null,"in","in",-1531184865),AB=new D(ca,"unknown","cljs.spec.alpha/unknown",651034818),BB=new D(null,"max-iterations","max-iterations",2021275563),CB=new D(null,"output_","output_",-36797880),DB=new D(null,"opt","opt",-794706369),EB=
new D(null,"reason","reason",-2070751759),FB=new D(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),GB=new D(null,"assertion","assertion",-1645134882),HB=new D(null,"config","config",994861415),IB=new D(null,"id","id",-1388402092),JB=new B(null,"?e","?e",-1194391683,null),KB=new D(null,"onclose-fn","onclose-fn",-1388163785),LB=new D(null,"stream","stream",1534941648),MB=new B(null,"p1__24562#","p1__24562#",-386339721,null),NB=new D(null,"results","results",-1134170113),OB=new B(null,
"false?","false?",-1522377573,null),PB=new D("widget","uuid","widget/uuid",-585315811),QB=new B(null,"deftype*","deftype*",962659890,null),RB=new D(null,"rep+","rep+",-281382396),SB=new D(null,"ajax-opts","ajax-opts",-518239109),TB=new B(null,"NaN","NaN",666918153,null),UB=new D(null,"indent","indent",-148200125),VB=new D("chsk","closed","chsk/closed",-922855264),WB=new D(null,"msecs","msecs",1711980553),XB=new B(null,"defmacro","defmacro",2054157304,null),YB=new D("db","add","db/add",235286841),
ZB=new B(null,"vector","vector",-751469611,null),$B=new D(null,"recv-buf-or-n","recv-buf-or-n",1363950355),aC=new D(null,"porrl","porrl",-1693905102),bC=new D(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),cC=new D(null,"else-params","else-params",-832171646),dC=new D(null,"keyword","keyword",811389747),eC=new D(null,"whitelist","whitelist",-979294437),fC=new D(null,"end-block-t","end-block-t",1544648735),gC=new D(null,"tempids","tempids",1767509089),hC=new D(null,"errors","errors",-908790718),
iC=new D(null,"max-count","max-count",1539185305);function jC(a,b,c){if(xg(c)){var d=dh(Ag,Gh.j(a,c));return b.B?b.B(d):b.call(null,d)}return Ai(c)?(d=new Y(function(){var e=ed(c);return a.B?a.B(e):a.call(null,e)}(),function(){var e=fd(c);return a.B?a.B(e):a.call(null,e)}()),b.B?b.B(d):b.call(null,d)):Hf(c)?(d=Hk(Gh.j(a,c)),b.B?b.B(d):b.call(null,d)):Bf(c)?(d=w.C(function(e,f){return lf.j(e,a.B?a.B(f):a.call(null,f))},c,c),b.B?b.B(d):b.call(null,d)):xf(c)?(d=Xh.j(of(c),Gh.j(a,c)),b.B?b.B(d):b.call(null,d)):b.B?b.B(c):b.call(null,c)}
var kC=function kC(a,b){return jC(uh.j(kC,a),a,b)};var lC={};function mC(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.Hj)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function nC(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=Jh(2,d);if(F.j(M(d),1))return d=J(d),a.B?a.B(d):a.call(null,d);d=Wf(d);return a.B?a.B(d):a.call(null,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}
function oC(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?mC(a,b,c):mC(a,b,nC(c));throw["Invalid match arg: ",t.B(b)].join("");}function pC(a,b){var c=new ac;for(b=H(b);;)if(null!=b)c.append(t.B(J(b))),b=K(b),null!=b&&c.append(a);else return c.toString()}
function qC(a,b){if(0>=b||b>=2+M(a))return lf.j(Wf(df("",Gh.j(t,H(a)))),"");if(r(vg.j?vg.j(1,b):vg.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(vg.j?vg.j(2,b):vg.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return lf.j(Wf(df("",Ii(Wf(Gh.j(t,H(a))),0,b))),wg.j(a,b))}function rC(a,b){return sC(a,b,0)}
function sC(a,b,c){if("/(?:)/"===t.B(b))b=qC(a,c);else if(1>c)b=Wf(t.B(a).split(b));else a:for(var d=c,e=mf;;){if(1===d){b=lf.j(e,a);break a}var f=Jk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+M(f));--d;e=lf.j(e,a.substring(0,h));a=f}else{b=lf.j(e,a);break a}}if(0===c&&1<M(b))a:for(c=b;;)if(""===(null==c?null:id(c)))c=null==c?null:jd(c);else break a;else c=b;return c}function tC(a){return tb(null==a?"":String(a))};var uC={},vC,wC,xC,yC;function zC(a,b){if(null!=a&&null!=a.ie)a=a.ie(a,b);else{var c=zC[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=zC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Spec.conform*",a);}return a}function AC(a,b){if(null!=a&&null!=a.je)a=a.je(a,b);else{var c=AC[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=AC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Spec.with-gen*",a);}return a}var BC=yh(W);
function CC(a){if(Eg(a)){var b=z(BC);a=C.j(b,a);if(Eg(a))a:for(;;)if(Eg(a))a=C.j(b,a);else{b=a;break a}else b=a;return b}return a}function DC(a){if(Eg(a)){var b=CC(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.B(a)].join(""));}return a}function EC(a){return null!=a&&l===a.Qe?a:null}function FC(a){var b=nq.B(a);return r(b)?a:b}function GC(a,b){return Eg(a)?a:r(FC(a))?R.C(a,op,b):null!=a&&(a.J&131072||l===a.Ke)?tf(a,R.C(uf(a),op,b)):null}
function HC(a){return Eg(a)?a:r(FC(a))?op.B(a):null!=a&&(a.J&131072||l===a.Ke)?op.B(uf(a)):null}function IC(a){var b=function(){var c=Eg(a)?CC(a):!1;if(r(c))return c;c=EC(a);if(r(c))return c;c=FC(a);return r(c)?c:null}();return r(FC(b))?GC(JC(b,null),HC(b)):b}function KC(a){var b=IC(a);if(r(b))return b;if(Eg(a))throw Error(["Unable to resolve spec: ",t.B(a)].join(""));return null}
function LC(a){if(tC(a))return null;a=Gh.j(dm,rC(a,"$"));if(2<=M(a)&&oh(function(c){return!tC(c)},a)){var b=Gk(rk,kf)(a);a=Q(b,0,null);b=Q(b,1,null);return ue.B([pC(".",a),"/",t.B(b)].join(""))}return null}
var NC=function(){function a(d,e){var f=MC[ra(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=MC._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Ac("Specize.specize*",d);}function b(d){var e=MC[ra(null==d?null:d)];if(null!=e)return e.B?e.B(d):e.call(null,d);e=MC._;if(null!=e)return e.B?e.B(d):e.call(null,d);throw Ac("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.j=a;return c}(),MC=function MC(a){switch(arguments.length){case 1:return MC.B(arguments[0]);case 2:return MC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};MC.B=function(a){return null!=a&&null!=a.sd?a.sd(a):NC(a)};MC.j=function(a,b){return null!=a&&null!=a.td?a.td(a,b):NC(a,b)};MC.Y=2;D.prototype.sd=function(){return MC(DC(this))};D.prototype.td=function(){return MC(DC(this))};B.prototype.sd=function(){return MC(DC(this))};
B.prototype.td=function(){return MC(DC(this))};mk.prototype.sd=function(){return OC(this,this,null,null,null)};mk.prototype.td=function(a,b){return OC(b,this,null,null,null)};
MC._=function(){function a(c){var d=rf(c)?LC(c.name):!1;return r(d)?OC(d,c,null,null,null):OC(AB,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return OC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return OC(d,c,null,null,null)};return b}();
var PC=function PC(a){switch(arguments.length){case 1:return PC.B(arguments[0]);case 2:return PC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};PC.B=function(a){var b=EC(a);return r(b)?b:MC(a)};PC.j=function(a,b){var c=EC(a);return r(c)?c:MC(a,b)};PC.Y=2;function QC(a,b){a=CC(a);return r(FC(a))?R.C(a,oy,b):AC(PC.B(a),b)}
function RC(a,b,c){if(null==c)Ah.C(BC,S,a);else{var d=EC(c);r(d)||(d=FC(c),d=r(d)?d:C.j(z(BC),c));b=r(d)?c:OC(b,c,null,null,null);Ah.P(BC,R,a,GC(b,a))}}function SC(a,b,c){if(r(a)){var d=KC(a);if(r(d))return zC(PC.B(d),b);if(Jf(a))return r(null)?a.B?a.B(b):a.call(null,b):r(a.B?a.B(b):a.call(null,b))?b:wt;throw Error([dl.F(P([c]))," is not a fn, expected predicate fn"].join(""));}return b}function TC(a,b){a=PC.B(a);return!T(wt,zC(a,b))}
function OC(a,b,c,d,e){if(r(EC(b)))return r(c)?QC(b,c):b;if(r(FC(b)))return JC(b,c);if(Eg(b))return a=KC(b),r(c)?QC(a,c):a;if("undefined"===typeof bc||"undefined"===typeof lC||"undefined"===typeof uC||"undefined"===typeof wC)wC=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Dd=k;this.Lf=m;this.rh=n;this.Ei=p;this.J=393216;this.T=0},wC.prototype.fa=function(f,h){return new wC(this.form,this.pred,this.Dd,this.Lf,this.rh,h)},wC.prototype.ea=function(){return this.Ei},wC.prototype.sd=function(){return this},
wC.prototype.td=function(){return this},wC.prototype.Qe=l,wC.prototype.ie=function(f,h){f=this.pred.B?this.pred.B(h):this.pred.call(null,h);return r(this.Lf)?f:r(f)?h:wt},wC.prototype.je=function(f,h){return OC(this.form,this.pred,h,this.Lf,this.rh)},wC.rb=!0,wC.kb="cljs.spec.alpha/t_cljs$spec$alpha22935",wC.vb=function(f){return A(f,"cljs.spec.alpha/t_cljs$spec$alpha22935")};return new wC(a,b,c,d,e,W)}
function UC(a,b,c){var d=H(b);J(d);K(d);d=H(c);J(d);K(d);for(d=c;;){c=a;b=H(b);a=J(b);b=K(b);var e=H(d);d=J(e);e=K(e);var f=d;d=e;if(r(a)){c=SC(a,c,f);if(T(wt,c))return wt;a=c}else return c}}var VC=new q(null,4,[pw,mf,Rq,ok,Ox,Ce,Jr,W],null);
function WC(a,b,c,d){function e(qa,za,Sa,ka){return lf.j(qa,ka)}var f=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c,h=C.j(f,iC),k=C.j(f,Cn),m=C.C(f,Bq,20),n=C.j(f,$r),p=C.j(f,ro),u=C.j(f,pz),v=C.j(f,Pt),y=C.j(f,gw),E=C.j(f,Oy),G=C.j(f,mw),I=C.j(f,Nu),N=C.j(f,bC),O=C.j(f,wr),U=r(O)?of(O):C.j(VC,k),ea=new pl(function(){return PC.B(b)}),fa=function(){return r(y)?y:function(qa){return qa}}();if("undefined"===typeof bc||"undefined"===typeof lC||"undefined"===typeof uC||"undefined"===typeof xC)xC=function(qa,
za,Sa,ka,oa,ya,va,Ba,eb,mc,zb,fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Uh,Fd,he,Td,Qn){this.form=qa;this.zi=za;this.Sh=Sa;this.Dd=ka;this.$i=oa;this.oi=ya;this.pred=va;this.Te=Ba;this.hi=eb;this.vi=mc;this.Qh=zb;this.Ie=fc;this.mi=Xb;this.distinct=Sd;this.spec=eg;this.yi=Cf;this.ui=Wg;this.ni=Zc;this.count=Ed;this.Ri=xe;this.Zb=Uh;this.kind=Fd;this.Mg=he;this.gi=Td;this.Ji=Qn;this.J=393216;this.T=0},xC.prototype.fa=function(qa,za){return new xC(this.form,this.zi,this.Sh,this.Dd,this.$i,this.oi,this.pred,this.Te,
this.hi,this.vi,this.Qh,this.Ie,this.mi,this.distinct,this.spec,this.yi,this.ui,this.ni,this.count,this.Ri,this.Zb,this.kind,this.Mg,this.gi,za)},xC.prototype.ea=function(){return this.Ji},xC.prototype.sd=function(){return this},xC.prototype.td=function(){return this},xC.prototype.Qe=l,xC.prototype.ie=function(qa,za){qa=z(this.spec);if(wc(this.Te.B?this.Te.B(za):this.Te.call(null,za)))return wt;if(r(this.Mg)){var Sa=this.Ie.B?this.Ie.B(za):this.Ie.call(null,za),ka=Q(Sa,0,null),oa=Q(Sa,1,null);Sa=
Q(Sa,2,null);var ya=ka.B?ka.B(za):ka.call(null,za);ka=0;var va=H(za);za=H(va);J(za);K(za);for(za=ya;;){var Ba=va;ya=H(Ba);va=J(ya);ya=K(ya);if(Ba){Ba=zC(qa,va);if(T(wt,Ba))return wt;za=oa.P?oa.P(za,ka,va,Ba):oa.call(null,za,ka,va,Ba);ka+=1;va=ya}else return Sa.B?Sa.B(za):Sa.call(null,za)}}else if(We(za))for(oa=qg(M(za)/101),oa=1>oa?1:oa,ka=0;;){if(ka>=M(za))return za;if(TC(qa,Ye(za,ka)))ka+=oa;else return wt}else for(ka=0,oa=H(za),Sa=H(oa),J(Sa),K(Sa);;){va=H(oa);Sa=J(va);ya=K(va);va=Sa;Ba=oa;if(null==
Ba||F.j(ka,101))return za;if(TC(qa,va))oa=ya,ka+=1;else return wt}},xC.prototype.je=function(qa,za){return WC(this.form,this.pred,this.Zb,za)},xC.rb=!0,xC.kb="cljs.spec.alpha/t_cljs$spec$alpha23511",xC.vb=function(qa){return A(qa,"cljs.spec.alpha/t_cljs$spec$alpha23511")};return new xC(a,h,function(qa){return TC(z(ea),qa)},d,c,m,b,n,p,k,e,function(qa){return Df(qa)&&(wc(O)||Df(O))?new X(null,3,5,Z,[$f,function(za,Sa,ka,oa){return ka===oa?za:R.C(za,Sa,oa)},$f],null):r(Af(qa)?function(){var za=r(I)?
wc(O):I;return r(za)?za:Af(O)}():!1)?new X(null,3,5,Z,[r(p)?of:$f,function(za,Sa,ka,oa){return ka===oa&&wc(p)?za:R.C(za,Ye(r(p)?oa:ka,0),Ye(oa,1))},$f],null):xg(O)||Hf(O)||wc(O)&&(xg(qa)||Hf(qa))?new X(null,3,5,Z,[of,e,zg],null):new X(null,3,5,Z,[function(za){return of(r(O)?O:za)},e,$f],null)},u,v,ea,f,fa,U,E,G,f,I,N,O,W)}function XC(a){return new q(null,2,[nq,Yu,fx,a],null)}function YC(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(a,nq);return F.j(Yu,a)}
var ZC=function ZC(a){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,Un);a=H(d);var e=J(a);a=K(a);var f=C.j(c,an),h=H(f),k=J(h);h=K(h);var m=C.j(c,Es),n=H(m);J(n);n=K(n);var p=C.j(c,fx);c=C.j(c,RB);return oh($f,d)?YC(e)?(d=fx.B(e),d=lf.j(p,r(f)?qf([k,d]):d),a?(a=new q(null,4,[Un,a,an,h,Es,n,fx,d],null),ZC.B?ZC.B(a):ZC.call(null,a)):XC(d)):new q(null,6,[nq,xt,Un,d,fx,p,an,f,Es,m,RB,c],null):null};
function $C(a,b,c,d,e){return r(a)?(d=new q(null,5,[nq,gA,pm,b,mz,d,Es,e,IB,$l()],null),YC(a)?R.F(d,rm,b,P([fx,lf.j(c,fx.B(a))])):R.F(d,rm,a,P([fx,c]))):null}
function aD(a,b,c,d){return r(r(b)?b:c)?(a=Vh(function(e){e=J(e);return d.B?d.B(e):d.call(null,e)},Gh.P(Di,a,function(){var e=H(b);return e?e:Mh(null)}(),function(){var e=H(c);return e?e:Mh(null)}())),new X(null,3,5,Z,[H(Gh.j(J,a)),r(b)?H(Gh.j(hf,a)):null,r(c)?H(Gh.j(function(e){return Ye(e,2)},a)):null],null)):new X(null,3,5,Z,[H(Vh(d,a)),b,c],null)}
function bD(a,b,c){var d=aD(a,b,c,$f);c=Q(d,0,null);b=H(c);a=J(b);var e=K(b),f=Q(d,1,null);b=Q(f,0,null);d=Q(d,2,null);return r(c)?(c=new q(null,4,[nq,kn,Un,c,an,f,Es,d],null),null==e?r(b)&&(YC(a)?(a=fx.B(a),a=XC(new Y(b,a))):a=c):a=c,a):null}function cD(a,b){return r(r(a)?b:a)?bD(P([a,b]),null,null):r(a)?a:b}
var dD=function dD(a){a=DC(a);var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,nq),e=C.j(c,Un);a=C.j(c,rm);var f=C.j(c,pm);c=C.j(c,Es);if(F.j(Yu,d))return!0;if(F.j(null,d))return null;if(F.j(bn,d))return d=dD.B?dD.B(a):dD.call(null,a),r(d)?(a=UC(eD(a),e,K(c)),!T(wt,a)):d;if(F.j(gA,d))return(e=a===f)?e:dD.B?dD.B(a):dD.call(null,a);if(F.j(xt,d))return oh(dD,e);if(F.j(kn,d))return ph(dD,e);throw Error(["No matching clause: ",t.B(d)].join(""));},eD=function eD(a){a=DC(a);var c=null!=a&&(a.J&64||l===
a.qa)?dh(dk,a):a;a=C.j(c,Un);var d=H(a),e=J(d);K(d);var f=C.j(c,an),h=Q(f,0,null),k=C.j(c,nq);d=C.j(c,rm);var m=C.j(c,fx);c=C.j(c,Es);if(F.j(Yu,k))return m;if(F.j(null,k))return null;if(F.j(bn,k))return e=eD.B?eD.B(d):eD.call(null,d),(f=F.j(e,Bn))?d=f:(d=nq.B(DC(d)),f=new mk(null,new q(null,2,[gA,null,xt,null],null),null),d=f.B?f.B(d):f.call(null,d),d=r(d)?wf(e):d,d=r(d)?d:null),r(d)?Bn:UC(e,a,c);if(F.j(gA,k))return fD(d,m,h);if(F.j(xt,k))return fD(e,m,h);if(F.j(kn,k))return c=aD(a,f,c,dD),a=Q(c,
0,null),a=Q(a,0,null),c=Q(c,1,null),c=Q(c,0,null),a=null==a?Bn:eD.B?eD.B(a):eD.call(null,a),r(c)?new Y(c,a):a;throw Error(["No matching clause: ",t.B(k)].join(""));};
function fD(a,b,c){a=DC(a);var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,nq);C.j(d,Un);a=C.j(d,mz);if(F.j(null,e))return b;if(F.j(kn,e)||F.j(Yu,e)||F.j(bn,e))return a=eD(d),F.j(a,Bn)?b:lf.j(b,r(c)?qf([c,a]):a);if(F.j(gA,e)||F.j(xt,e))return d=eD(d),wf(d)||(c=r(c)?qf([c,d]):d,a=r(a)?Xh:lf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.B(e)].join(""));}
var gD=function gD(a,b){a=DC(a);var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,Es),f=C.j(d,pm);a=C.j(d,Un);var h=H(a),k=J(h),m=K(h),n=C.j(d,fx);h=C.j(d,nq);var p=C.j(d,mz),u=C.j(d,an),v=H(u),y=J(v),E=K(v);v=C.j(d,Wr);var G=C.j(d,rm);if(r(d)){if(F.j(Yu,h))return null;if(F.j(null,h))return a=SC(d,b,d),T(wt,a)?null:XC(a);if(F.j(bn,h))return d=gD.j?gD.j(G,b):gD.call(null,G,b),r(d)?F.j(Yu,nq.B(d))?(a=UC(eD(d),a,K(e)),T(wt,a)?null:XC(a)):new q(null,5,[nq,bn,rm,d,Wr,v,Un,a,Es,e],null):null;if(F.j(xt,
h))return cD(ZC(new q(null,4,[Un,df(gD.j?gD.j(k,b):gD.call(null,k,b),m),an,u,Es,e,fx,n],null)),r(dD(k))?function(){var I=ZC(new q(null,4,[Un,m,an,E,Es,K(e),fx,fD(k,n,y)],null));return gD.j?gD.j(I,b):gD.call(null,I,b)}():null);if(F.j(kn,h))return bD(Gh.j(function(I){return gD.j?gD.j(I,b):gD.call(null,I,b)},a),u,e);if(F.j(gA,h))return cD($C(gD.j?gD.j(G,b):gD.call(null,G,b),f,n,p,e),r(dD(G))?function(){var I=$C(f,f,fD(G,n,null),p,e);return gD.j?gD.j(I,b):gD.call(null,I,b)}():null);throw Error(["No matching clause: ",
t.B(h)].join(""));}return null};function hD(a,b){for(;;){var c=H(b),d=J(c);c=K(c);if(wf(b))return r(dD(a))?(a=eD(a),F.j(a,Bn)?null:a):wt;a=gD(a,d);if(r(a))b=c;else return wt}}
var JC=function JC(a,b){if("undefined"===typeof bc||"undefined"===typeof lC||"undefined"===typeof uC||"undefined"===typeof yC)yC=function(d,e,f){this.re=d;this.Dd=e;this.Ki=f;this.J=393216;this.T=0},yC.prototype.fa=function(d,e){return new yC(this.re,this.Dd,e)},yC.prototype.ea=function(){return this.Ki},yC.prototype.sd=function(){return this},yC.prototype.td=function(){return this},yC.prototype.Qe=l,yC.prototype.ie=function(d,e){return null==e||zf(e)?hD(this.re,H(e)):wt},yC.prototype.je=function(d,
e){return JC.j?JC.j(this.re,e):JC.call(null,this.re,e)},yC.rb=!0,yC.kb="cljs.spec.alpha/t_cljs$spec$alpha24358",yC.vb=function(d){return A(d,"cljs.spec.alpha/t_cljs$spec$alpha24358")};return new yC(a,b,W)};
RC(Mu,Ag(Mx,Ag($m,new X(null,1,5,Z,[Yo],null),Ag(uu,Ag(aA,Ss,Yo),Ag(aA,Ps,Yo))),Ag($m,new X(null,1,5,Z,[MB],null),Ag(aA,Ag(mn,new X(null,1,5,Z,[new X(null,2,5,Z,[pq,mq],null)],null),new q(null,2,[Ss,pq,Ps,mq],null)),MB))),OC(Ag(Mx,Ag(mn,new X(null,1,5,Z,[ft],null),Ag(uu,Ag(aA,Ss,ft),Ag(aA,Ps,ft))),Ag(mn,new X(null,1,5,Z,[ft],null),Ag(aA,Ag(mn,new X(null,1,5,Z,[new X(null,2,5,Z,[pq,mq],null)],null),new q(null,2,[Ss,pq,Ps,mq],null)),ft))),function(a){return sk(Gh.j(Ss,a),Gh.j(Ps,a))},null,!0,function(a){return Gh.j(function(b){var c=
Q(b,0,null);b=Q(b,1,null);return new q(null,2,[Ss,c,Ps,b],null)},a)}));var iD={},jD,kD,lD,mD,nD,oD,pD=function pD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return pD.F(c)};pD.F=function(a){return A(ec,dh(fl,a))};pD.Y=0;pD.ba=function(a){return this.F(H(a))};var qD=function qD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return qD.F(c)};qD.F=function(a){return A(ec,dh(dl,a))};qD.Y=0;qD.ba=function(a){return this.F(H(a))};
function rD(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;dh(qD,b);A(ec,"\n")}function sD(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function tD(a,b,c){var d=c;for(c=mf;;){if(wf(d))return new X(null,2,5,Z,[c,b],null);var e=J(d);d=K(d);e=dh(a,new X(null,2,5,Z,[e,b],null));b=Q(e,0,null);e=Q(e,1,null);c=lf.j(c,b);b=e}}function uD(a,b){var c=b;for(b=mf;;){var d=dh(a,new X(null,1,5,Z,[c],null));c=Q(d,0,null);d=Q(d,1,null);if(wc(c))return new X(null,2,5,Z,[b,d],null);b=lf.j(b,c);c=d}}
function vD(a){return new X(null,2,5,Z,[Xh.j(W,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);var u=Q(n,0,null);Q(n,1,null);k.add(new X(null,2,5,Z,[p,u],null));m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);h=Q(f,0,null);Q(f,1,null);return df(new X(null,2,5,Z,[k,h],null),d(Be(e)))}return null}},null,null)}(a)}()),
Xh.j(W,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);Q(n,0,null);n=Q(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);Q(f,0,null);f=Q(f,1,null);return df(new X(null,2,5,Z,[k,f],null),d(Be(e)))}return null}},null,null)}(a)}())],null)}
function wD(a,b){return Xh.j(W,function(){return function e(d){return new Hg(null,function(){for(;;){var f=H(d);if(f){if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=Q(p,0,null);p=Q(p,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?Ng(Pg(m),e(Yd(f))):Ng(Pg(m),null)}h=J(f);m=Q(h,0,null);h=Q(h,1,null);return df(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(Be(f)))}return null}},null,null)}(a)}())}
function xD(){var a=ec;if(null!=a&&null!=a.If)a.If(a);else{var b=xD[ra(null==a?null:a)];if(null!=b)b.B?b.B(a):b.call(null,a);else if(b=xD._,null!=b)b.B?b.B(a):b.call(null,a);else throw Ac("IPrettyFlush.-ppflush",a);}}function yD(a,b){a=z(z(a));return b.B?b.B(a):b.call(null,a)}function zD(a,b,c){Ah.P(z(a),R,b,c)}function AD(a,b){F.j(b,"\n")?(zD(a,Gs,0),zD(a,zm,yD(a,zm)+1)):zD(a,Gs,yD(a,Gs)+1);return A(yD(a,wp),b)}
function BD(a,b){var c=yh(new q(null,4,[Gy,b,Gs,0,zm,0,wp,a],null));if("undefined"===typeof bc||"undefined"===typeof iD||"undefined"===typeof jD)jD=function(d,e,f,h){this.Wa=d;this.Uf=e;this.fields=f;this.Bi=h;this.J=1074167808;this.T=0},jD.prototype.fa=function(d,e){return new jD(this.Wa,this.Uf,this.fields,e)},jD.prototype.ea=function(){return this.Bi},jD.prototype.ub=function(){return this.fields},jD.prototype.Nc=function(){return Gd(this.Wa)},jD.prototype.qd=function(d,e){d=zc(e);if(r(F.j?F.j(String,
d):F.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?zD(this,Gs,yD(this,Gs)+M(e)):(zD(this,Gs,M(e)-d-1),zD(this,zm,yD(this,zm)+M(Vh(function(f){return F.j(f,"\n")},e)))),A(yD(this,wp),e);if(r(F.j?F.j(Number,d):F.call(null,Number,d)))return AD(this,e);throw Error(["No matching clause: ",t.B(d)].join(""));},jD.rb=!0,jD.kb="cljs.pprint/t_cljs$pprint21140",jD.vb=function(d){return A(d,"cljs.pprint/t_cljs$pprint21140")};return new jD(a,b,c,W)}
function CD(a,b,c,d,e,f,h,k,m,n,p,u,v){this.parent=a;this.Pb=b;this.wb=c;this.indent=d;this.Kb=e;this.Lb=f;this.prefix=h;this.Ob=k;this.suffix=m;this.Mb=n;this.G=p;this.D=u;this.I=v;this.J=2230716170;this.T=139264}g=CD.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "parent":return this.parent;case "section":return this.Pb;case "start-col":return this.wb;case "indent":return this.indent;case "done-nl":return this.Kb;case "intra-block-nl":return this.Lb;case "prefix":return this.prefix;case "per-line-prefix":return this.Ob;case "suffix":return this.suffix;case "logical-block-callback":return this.Mb;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.j(new X(null,10,5,Z,[new X(null,2,5,Z,[Ar,this.parent],null),new X(null,2,5,Z,[Xz,this.Pb],null),new X(null,2,5,Z,[vr,this.wb],null),new X(null,2,5,Z,[UB,this.indent],null),new X(null,2,5,Z,[gn,this.Kb],null),new X(null,2,5,Z,[zq,this.Lb],null),new X(null,2,5,Z,[Ep,this.prefix],null),new X(null,2,5,Z,[Lm,this.Ob],null),new X(null,2,5,Z,[jA,this.suffix],null),new X(null,2,5,Z,[eB,
this.Mb],null)],null),this.D))};g.oa=function(){return new Ti(this,10,new X(null,10,5,Z,[Ar,Xz,vr,UB,gn,zq,Ep,Lm,jA,eB],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 10+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1977012399^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.parent,b.parent)&&F.j(this.Pb,b.Pb)&&F.j(this.wb,b.wb)&&F.j(this.indent,b.indent)&&F.j(this.Kb,b.Kb)&&F.j(this.Lb,b.Lb)&&F.j(this.prefix,b.prefix)&&F.j(this.Ob,b.Ob)&&F.j(this.suffix,b.suffix)&&F.j(this.Mb,b.Mb)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,10,[jA,null,UB,null,Ar,null,Xz,null,gn,null,vr,null,Ep,null,Lm,null,eB,null,zq,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ar,b):T.call(null,Ar,b))?new CD(c,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Xz,b):T.call(null,Xz,b))?new CD(this.parent,c,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(vr,b):T.call(null,vr,b))?new CD(this.parent,this.Pb,c,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(UB,b):T.call(null,
UB,b))?new CD(this.parent,this.Pb,this.wb,c,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(gn,b):T.call(null,gn,b))?new CD(this.parent,this.Pb,this.wb,this.indent,c,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(zq,b):T.call(null,zq,b))?new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,c,this.prefix,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Ep,b):T.call(null,Ep,b))?new CD(this.parent,this.Pb,this.wb,this.indent,
this.Kb,this.Lb,c,this.Ob,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(Lm,b):T.call(null,Lm,b))?new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,c,this.suffix,this.Mb,this.G,this.D,null):r(T.j?T.j(jA,b):T.call(null,jA,b))?new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,c,this.Mb,this.G,this.D,null):r(T.j?T.j(eB,b):T.call(null,eB,b))?new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,c,this.G,
this.D,null):new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,10,5,Z,[new Y(Ar,this.parent),new Y(Xz,this.Pb),new Y(vr,this.wb),new Y(UB,this.indent),new Y(gn,this.Kb),new Y(zq,this.Lb),new Y(Ep,this.prefix),new Y(Lm,this.Ob),new Y(jA,this.suffix),new Y(eB,this.Mb)],null),this.D))};
g.fa=function(a,b){return new CD(this.parent,this.Pb,this.wb,this.indent,this.Kb,this.Lb,this.prefix,this.Ob,this.suffix,this.Mb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function DD(a,b){for(b=Ar.B(b);;){if(null==b)return!1;if(a===b)return!0;b=Ar.B(b)}}function ED(a,b,c,d,e,f,h,k){this.ua=a;this.data=b;this.xc=c;this.ta=d;this.sa=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=ED.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "data":return this.data;case "trailing-white-space":return this.xc;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[Um,this.data],null),new X(null,2,5,Z,[Ap,this.xc],null),new X(null,2,5,Z,[Kp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[um,Um,Ap,Kp,Cu],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1809113693^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.data,b.data)&&F.j(this.xc,b.xc)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[Cu,null,Ap,null,um,null,Kp,null,Um,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new ED(this.ua,this.data,this.xc,this.ta,this.sa,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new ED(c,this.data,this.xc,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Um,b):T.call(null,Um,b))?new ED(this.ua,c,this.xc,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Ap,b):T.call(null,Ap,b))?new ED(this.ua,this.data,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Kp,b):T.call(null,Kp,b))?new ED(this.ua,this.data,this.xc,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new ED(this.ua,this.data,this.xc,this.ta,c,this.G,
this.D,null):new ED(this.ua,this.data,this.xc,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(um,this.ua),new Y(Um,this.data),new Y(Ap,this.xc),new Y(Kp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new ED(this.ua,this.data,this.xc,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function FD(a,b,c,d,e,f,h,k){this.ua=a;this.type=b;this.ya=c;this.ta=d;this.sa=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=FD.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "type":return this.type;case "logical-block":return this.ya;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[eq,this.type],null),new X(null,2,5,Z,[hr,this.ya],null),new X(null,2,5,Z,[Kp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};
g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[um,eq,hr,Kp,Cu],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1640656800^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.type,b.type)&&F.j(this.ya,b.ya)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[Cu,null,eq,null,hr,null,um,null,Kp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new FD(this.ua,this.type,this.ya,this.ta,this.sa,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new FD(c,this.type,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(eq,b):T.call(null,eq,b))?new FD(this.ua,c,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(hr,b):T.call(null,hr,b))?new FD(this.ua,this.type,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Kp,b):T.call(null,Kp,b))?new FD(this.ua,this.type,this.ya,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new FD(this.ua,this.type,this.ya,this.ta,c,this.G,
this.D,null):new FD(this.ua,this.type,this.ya,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(um,this.ua),new Y(eq,this.type),new Y(hr,this.ya),new Y(Kp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new FD(this.ua,this.type,this.ya,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function GD(a,b,c,d,e,f,h){this.ua=a;this.ya=b;this.ta=c;this.sa=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=GD.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "logical-block":return this.ya;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[hr,this.ya],null),new X(null,2,5,Z,[Kp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};
g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[um,hr,Kp,Cu],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-414877272^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.ya,b.ya)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[Cu,null,hr,null,um,null,Kp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new GD(this.ua,this.ya,this.ta,this.sa,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new GD(c,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(hr,b):T.call(null,hr,b))?new GD(this.ua,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Kp,b):T.call(null,Kp,b))?new GD(this.ua,this.ya,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new GD(this.ua,this.ya,this.ta,c,this.G,this.D,null):new GD(this.ua,this.ya,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(um,this.ua),new Y(hr,this.ya),new Y(Kp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new GD(this.ua,this.ya,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function HD(a,b,c,d,e,f,h){this.ua=a;this.ya=b;this.ta=c;this.sa=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=HD.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "logical-block":return this.ya;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[hr,this.ya],null),new X(null,2,5,Z,[Kp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[um,hr,Kp,Cu],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1365867980^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.ya,b.ya)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[Cu,null,hr,null,um,null,Kp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new HD(this.ua,this.ya,this.ta,this.sa,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new HD(c,this.ya,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(hr,b):T.call(null,hr,b))?new HD(this.ua,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Kp,b):T.call(null,Kp,b))?new HD(this.ua,this.ya,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new HD(this.ua,this.ya,this.ta,c,this.G,this.D,null):new HD(this.ua,this.ya,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(um,this.ua),new Y(hr,this.ya),new Y(Kp,this.ta),new Y(Cu,this.sa)],null),this.D))};g.fa=function(a,b){return new HD(this.ua,this.ya,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function ID(a,b,c,d,e,f,h,k,m){this.ua=a;this.ya=b;this.lc=c;this.offset=d;this.ta=e;this.sa=f;this.G=h;this.D=k;this.I=m;this.J=2230716170;this.T=139264}g=ID.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type-tag":return this.ua;case "logical-block":return this.ya;case "relative-to":return this.lc;case "offset":return this.offset;case "start-pos":return this.ta;case "end-pos":return this.sa;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.j(new X(null,6,5,Z,[new X(null,2,5,Z,[um,this.ua],null),new X(null,2,5,Z,[hr,this.ya],null),new X(null,2,5,Z,[Ix,this.lc],null),new X(null,2,5,Z,[nu,this.offset],null),new X(null,2,5,Z,[Kp,this.ta],null),new X(null,2,5,Z,[Cu,this.sa],null)],null),this.D))};g.oa=function(){return new Ti(this,6,new X(null,6,5,Z,[um,hr,Ix,nu,Kp,Cu],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};
g.ja=function(){return 6+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1602780238^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ua,b.ua)&&F.j(this.ya,b.ya)&&F.j(this.lc,b.lc)&&F.j(this.offset,b.offset)&&F.j(this.ta,b.ta)&&F.j(this.sa,b.sa)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,6,[nu,null,Cu,null,Ix,null,hr,null,um,null,Kp,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new ID(this.ua,this.ya,this.lc,this.offset,this.ta,this.sa,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(um,b):T.call(null,um,b))?new ID(c,this.ya,this.lc,this.offset,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(hr,b):T.call(null,hr,b))?new ID(this.ua,c,this.lc,this.offset,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Ix,b):T.call(null,Ix,b))?new ID(this.ua,this.ya,c,this.offset,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(nu,b):T.call(null,nu,b))?new ID(this.ua,this.ya,this.lc,c,this.ta,this.sa,this.G,this.D,null):r(T.j?T.j(Kp,b):T.call(null,Kp,b))?new ID(this.ua,
this.ya,this.lc,this.offset,c,this.sa,this.G,this.D,null):r(T.j?T.j(Cu,b):T.call(null,Cu,b))?new ID(this.ua,this.ya,this.lc,this.offset,this.ta,c,this.G,this.D,null):new ID(this.ua,this.ya,this.lc,this.offset,this.ta,this.sa,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,6,5,Z,[new Y(um,this.ua),new Y(hr,this.ya),new Y(Ix,this.lc),new Y(nu,this.offset),new Y(Kp,this.ta),new Y(Cu,this.sa)],null),this.D))};
g.fa=function(a,b){return new ID(this.ua,this.ya,this.lc,this.offset,this.ta,this.sa,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};var JD=function(){var a=yh(W),b=yh(W),c=yh(W),d=yh(W),e=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));return new Wl(ue.j(ba,"write-token"),function(f,h){return um.B(h)},e,a,b,c,d)}();
JD.gb(null,Im,function(a,b){var c=eB.B(z(z(a)));r(c)&&(c.B?c.B(sn):c.call(null,sn));b=hr.B(b);c=Ep.B(b);r(c)&&A(wp.B(z(z(a))),c);a=yD(wp.B(z(z(a))),Gs);zh(vr.B(b),a);return zh(UB.B(b),a)});JD.gb(null,fC,function(a,b){var c=eB.B(z(z(a)));r(c)&&(c.B?c.B(px):c.call(null,px));b=jA.B(hr.B(b));return r(b)?A(wp.B(z(z(a))),b):null});
JD.gb(null,Sw,function(a,b){var c=hr.B(b),d=UB.B(c),e=nu.B(b);b=Ix.B(b);if(r(F.j?F.j(Wt,b):F.call(null,Wt,b)))a=z(vr.B(c));else if(r(F.j?F.j(sr,b):F.call(null,sr,b)))a=yD(wp.B(z(z(a))),Gs);else throw Error(["No matching clause: ",t.B(b)].join(""));return zh(d,e+a)});JD.gb(null,vx,function(a,b){return A(wp.B(z(z(a))),Um.B(b))});
JD.gb(null,Zx,function(a,b){var c=(c=F.j(eq.B(b),Jn))?c:F.j(eq.B(b),Ft)?!1:z(gn.B(hr.B(b)));r(c)?KD.j?KD.j(a,b):KD.call(null,a,b):(b=Ap.B(z(z(a))),r(b)&&A(wp.B(z(z(a))),b));return Ah.P(z(a),R,Ap,null)});
function LD(a,b,c){b=H(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);if(!F.j(um.B(h),Zx)){var k=Ap.B(z(z(a)));r(k)&&A(wp.B(z(z(a))),k)}JD.j(a,h);Ah.P(z(a),R,Ap,Ap.B(h));h=Ap.B(z(z(a)));r(r(c)?h:c)&&(A(wp.B(z(z(a))),h),Ah.P(z(a),R,Ap,null));f+=1}else if(b=H(b))Ef(b)?(d=Xd(b),b=Yd(b),h=d,e=M(d),d=h):(h=J(b),F.j(um.B(h),Zx)||(d=Ap.B(z(z(a))),r(d)&&A(wp.B(z(z(a))),d)),JD.j(a,h),Ah.P(z(a),R,Ap,Ap.B(h)),h=Ap.B(z(z(a))),r(r(c)?h:c)&&(A(wp.B(z(z(a))),h),Ah.P(z(a),R,Ap,null)),b=K(b),d=null,e=0),f=
0;else break}function MD(a,b){var c=yD(wp.B(z(z(a))),Gy),d;(d=null==c)||(a=yD(wp.B(z(z(a))),Gs),b=(b=H(b))?Cu.B(kf(b))-Kp.B(J(b)):0,d=a+b<c);return d}function ND(a,b,c){b=z(gn.B(b));return r(b)?b:!MD(a,c)}function OD(a,b,c){var d=Ty.B(z(z(a))),e=yD(wp.B(z(z(a))),Gy);return r(d)?r(e)?z(vr.B(b))>=e-d?ND(a,b,c):!1:e:d}var PD=function(){var a=yh(W),b=yh(W),c=yh(W),d=yh(W),e=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));return new Wl(ue.j(ba,"emit-nl?"),function(f){return eq.B(f)},e,a,b,c,d)}();
PD.gb(null,hv,function(a,b,c){a=hr.B(a);return ND(b,a,c)});PD.gb(null,Nz,function(a,b,c){a=hr.B(a);return OD(b,a,c)});PD.gb(null,Ft,function(a,b,c,d){a=hr.B(a);var e=z(zq.B(a));return r(e)?e:(d=!MD(b,d))?d:OD(b,a,c)});PD.gb(null,Jn,function(){return!0});function QD(a){var b=J(a),c=hr.B(b);b=H(wk(function(d){return!(F.j(um.B(d),Zx)&&DD(hr.B(d),c))},K(a)));return new X(null,2,5,Z,[b,H(Ih(M(b)+1,a))],null)}
function RD(a){var b=J(a),c=hr.B(b);return H(wk(function(d){var e=hr.B(d);return!(F.j(um.B(d),Zx)&&(F.j(e,c)||DD(e,c)))},K(a)))}function KD(a,b){A(wp.B(z(z(a))),"\n");Ah.P(z(a),R,Ap,null);b=hr.B(b);var c=Lm.B(b);r(c)&&A(wp.B(z(z(a))),c);c=dh(t,Nh(z(UB.B(b))-M(c)," "));A(wp.B(z(z(a))),c);a:for(zh(zq.B(b),!0),zh(gn.B(b),!0),a=Ar.B(b);;)if(r(a))zh(gn.B(a),!0),zh(zq.B(a),!0),a=Ar.B(a);else break a;return null}
function SD(a){var b=H(wk(function(c){return!F.j(um.B(c),Zx)},a));return new X(null,2,5,Z,[b,H(Ih(M(b),a))],null)}var TD=function TD(a,b){var d=SD(b);b=Q(d,0,null);var e=Q(d,1,null);r(b)&&LD(a,b,!1);if(r(e)){d=QD(e);b=Q(d,0,null);d=Q(d,1,null);var f=J(e),h=PD.P(f,a,b,RD(e));r(h)&&(KD(a,f),e=K(e));MD(a,e)?a=e:(e=TD.j?TD.j(a,b):TD.call(null,a,b),F.j(e,b)?(LD(a,b,!1),a=d):a=Xh.j(mf,V.j(e,d)));return a}return null};
function UD(a){for(var b=sA.B(z(z(a)));;){Ah.P(z(a),R,sA,Xh.j(mf,b));if(MD(a,b))return null;var c=TD(a,b);if(b!==c)b=c;else return null}}function VD(a,b){Ah.P(z(a),R,sA,lf.j(sA.B(z(z(a))),b));return MD(a,sA.B(z(z(a))))?null:UD(a)}function WD(a){var b=Ap.B(z(z(a)));return r(b)?(A(wp.B(z(z(a))),b),Ah.P(z(a),R,Ap,null)):null}
function XD(a,b){var c=sC(b,"\n",-1);if(F.j(M(c),1))return b;b=Lm.B(J(Sq.B(z(z(a)))));var d=J(c);if(F.j(yo,Ey.B(z(z(a))))){var e=Os.B(z(z(a))),f=e+M(d);Ah.P(z(a),R,Os,f);VD(a,new ED(vx,d,null,e,f,null,null,null));UD(a);d=sA.B(z(z(a)));r(d)&&(LD(a,d,!0),Ah.P(z(a),R,sA,mf))}else WD(a),A(wp.B(z(z(a))),d);A(wp.B(z(z(a))),"\n");d=H(K(rk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.xa(null,h);A(wp.B(z(z(a))),k);A(wp.B(z(z(a))),"\n");r(b)&&A(wp.B(z(z(a))),b);h+=1}else if(d=H(d))e=d,Ef(e)?(d=Xd(e),h=Yd(e),
e=d,f=M(d),d=h):(d=J(e),A(wp.B(z(z(a))),d),A(wp.B(z(z(a))),"\n"),r(b)&&A(wp.B(z(z(a))),b),d=K(e),e=null,f=0),h=0;else break;Ah.P(z(a),R,yo,tr);return kf(c)}
function YD(a){var b=ZD,c=$D,d=new CD(null,null,yh(0),yh(0),yh(!1),yh(!1),null,null,null,null,null,null,null),e=yh(Kj([Sq,Ty,xs,ht,nv,Ey,Os,Ap,wp,pt,sA],[d,c,d,!0,null,tr,0,null,BD(a,b),1,mf]));if("undefined"===typeof bc||"undefined"===typeof iD||"undefined"===typeof kD)kD=function(f,h,k,m,n,p){this.Wa=f;this.Uf=h;this.Si=k;this.wi=m;this.fields=n;this.Ci=p;this.J=1074167808;this.T=0},kD.prototype.fa=function(f,h){return new kD(this.Wa,this.Uf,this.Si,this.wi,this.fields,h)},kD.prototype.ea=function(){return this.Ci},
kD.prototype.ub=function(){return this.fields},kD.prototype.qd=function(f,h){f=zc(h);if(r(F.j?F.j(String,f):F.call(null,String,f))){var k=XD(this,h);h=k.replace(/\s+$/,"");f=wg.j(k,h.length);var m=Ey.B(z(z(this)));if(F.j(m,tr))return WD(this),A(wp.B(z(z(this))),h),Ah.P(z(this),R,Ap,f);m=Os.B(z(z(this)));k=m+M(k);Ah.P(z(this),R,Os,k);return VD(this,new ED(vx,h,f,m,k,null,null,null))}if(r(F.j?F.j(Number,f):F.call(null,Number,f)))return F.j(Ey.B(z(z(this))),tr)?(WD(this),h=A(wp.B(z(z(this))),h)):F.j(h,
"\n")?h=XD(this,"\n"):(f=Os.B(z(z(this))),k=f+1,Ah.P(z(this),R,Os,k),h=pg(h),h=VD(this,new ED(vx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.B(f)].join(""));},kD.prototype.Nc=function(){this.If(null);return Gd(wp.B(z(z(this))))},kD.prototype.If=function(){return F.j(Ey.B(z(z(this))),yo)?(LD(this,sA.B(z(z(this))),!0),Ah.P(z(this),R,sA,mf)):WD(this)},kD.rb=!0,kD.kb="cljs.pprint/t_cljs$pprint21667",kD.vb=function(f){return A(f,"cljs.pprint/t_cljs$pprint21667")};return new kD(a,
b,c,d,e,W)}function aE(a,b){var c=ec;b=new CD(Sq.B(z(z(c))),null,yh(0),yh(0),yh(!1),yh(!1),a,null,b,null,null,null,null);Ah.P(z(c),R,Sq,b);if(F.j(Ey.B(z(z(c))),tr)){WD(c);var d=eB.B(z(z(c)));r(d)&&(d.B?d.B(sn):d.call(null,sn));r(a)&&A(wp.B(z(z(c))),a);c=yD(wp.B(z(z(c))),Gs);zh(b.wb,c);zh(b.indent,c)}else d=Os.B(z(z(c))),a=d+(r(a)?M(a):0),Ah.P(z(c),R,Os,a),VD(c,new GD(Im,b,d,a,null,null,null))}
function bE(){var a=ec,b=Sq.B(z(z(a))),c=jA.B(b);if(F.j(Ey.B(z(z(a))),tr)){WD(a);r(c)&&A(wp.B(z(z(a))),c);var d=eB.B(z(z(a)));r(d)&&(d.B?d.B(px):d.call(null,px))}else d=Os.B(z(z(a))),c=d+(r(c)?M(c):0),Ah.P(z(a),R,Os,c),VD(a,new HD(fC,b,d,c,null,null,null));Ah.P(z(a),R,Sq,Ar.B(b))}var cE=!0,dE=null,ZD=72,$D=40,eE=null,fE=null,gE=null,hE=null,iE=10,jE=0,kE=null;function lE(a){return(null!=a?a.J&32768||l===a.Fg||(a.J?0:yc(md,a)):yc(md,a))?ht.B(z(z(a))):!1}
function mE(a){var b=kE;r(b)&&(b=jc,b=r(b)?kE>=jc:b);wc(cE)?qD.call(null,a):r(b)?A(ec,"..."):(r(kE)&&(kE+=1),dE.call(null,a));return b}var nE=function nE(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return nE.F(arguments[0],c)};
nE.F=function(a,b){var c=hk.F(P([new q(null,1,[LB,!0],null),dh(dk,b)]));b=iE;var d=fE,e=jc,f=kc,h=eE,k=$D,m=dE,n=cE,p=hE,u=ic,v=ZD,y=gE,E=wp.j(c,iE),G=pn.j(c,fE),I=Nn.j(c,jc),N=sm.j(c,kc),O=ov.j(c,eE),U=Ty.j(c,$D),ea=nz.j(c,dE),fa=nt.j(c,cE),qa=Lt.j(c,hE),za=oc.j(c,ic),Sa=Qo.j(c,ZD),ka=xr.j(c,gE);iE=E;fE=G;jc=I;kc=N;eE=O;$D=U;dE=ea;cE=fa;hE=qa;ic=za;ZD=Sa;gE=ka;try{var oa=new ac,ya=Lf(c,LB)?LB.B(c):!0,va=!0===ya||null==ya?new ge(oa):ya;if(r(cE)){var Ba=wc(lE(va));c=ec;ec=Ba?YD(va):va;try{mE(a),xD()}finally{ec=
c}}else{Ba=ec;ec=va;try{qD.call(null,a)}finally{ec=Ba}}!0===ya&&Rk(t.B(oa));return null==ya?t.B(oa):null}finally{gE=y,ZD=v,ic=u,hE=p,cE=n,dE=m,$D=k,eE=h,kc=f,jc=e,fE=d,iE=b}};nE.Y=1;nE.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function oE(){var a=new X(null,6,5,Z,[dr,new X(null,2,5,Z,[Ag(Bw,JB,new X(null,1,5,Z,[rs],null)),Zu],null),zB,Hp,ip,new X(null,2,5,Z,[JB,PB],null)],null);var b=z(pE);a=qE.j?qE.j(a,b):qE.call(null,a,b);b=new ac;var c=ec;ec=new ge(b);try{var d=ec,e=wc(lE(d)),f=ec;ec=e?YD(d):d;try{e=cE;cE=!0;try{mE(a)}finally{cE=e}F.j(0,yD(ec,Gs))||A(ec,"\n");xD()}finally{ec=f}Rk(t.B(b))}finally{ec=c}}
function rE(a,b){if(wc(b.B?b.B(a):b.call(null,a)))throw Error(["Bad argument: ",t.B(a),". It must be one of ",t.B(b)].join(""));}function sE(){var a=kc;return r(a)?jE>=kc:a}function tE(a){rE(a,new mk(null,new q(null,4,[Jn,null,Nz,null,Ft,null,hv,null],null),null));var b=ec;Ah.P(z(b),R,Ey,yo);var c=Os.B(z(z(b))),d=Sq.B(z(z(b)));VD(b,new FD(Zx,a,d,c,c,null,null,null))}
function uE(a,b){rE(a,new mk(null,new q(null,2,[Wt,null,sr,null],null),null));var c=ec,d=Sq.B(z(z(c)));if(F.j(Ey.B(z(z(c))),tr)){WD(c);var e=UB.B(d);if(r(F.j?F.j(Wt,a):F.call(null,Wt,a)))a=z(vr.B(d));else if(r(F.j?F.j(sr,a):F.call(null,sr,a)))a=yD(wp.B(z(z(c))),Gs);else throw Error(["No matching clause: ",t.B(a)].join(""));zh(e,b+a)}else e=Os.B(z(z(c))),VD(c,new ID(Sw,d,a,b,e,e,null,null,null))}
function vE(a,b,c){b="string"===typeof b?wE(b):b;c=xE(c);a:{var d=new ac,e=wc(a)||!0===a?new ge(d):a,f=yE(b)&&wc(lE(e))?r(lE(e))?e:YD(e):e,h=ec;ec=f;try{try{zE(b,c)}finally{e!==f&&Gd(f)}var k=wc(a)?t.B(d):!0===a?Rk(t.B(d)):null;break a}finally{ec=h}k=void 0}return k}var AE=null;function BE(a,b){a=[t.B(a),"\n",t.B(AE),"\n",t.B(dh(t,Nh(b," "))),"^\n"].join("");throw Error(a);}function CE(a,b,c,d,e,f){this.Uc=a;this.rest=b;this.pos=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=CE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "seq":return this.Uc;case "rest":return this.rest;case "pos":return this.pos;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[gp,this.Uc],null),new X(null,2,5,Z,[gu,this.rest],null),new X(null,2,5,Z,[Os,this.pos],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[gp,gu,Os],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-402038447^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Uc,b.Uc)&&F.j(this.rest,b.rest)&&F.j(this.pos,b.pos)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Os,null,gp,null,gu,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new CE(this.Uc,this.rest,this.pos,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(gp,b):T.call(null,gp,b))?new CE(c,this.rest,this.pos,this.G,this.D,null):r(T.j?T.j(gu,b):T.call(null,gu,b))?new CE(this.Uc,c,this.pos,this.G,this.D,null):r(T.j?T.j(Os,b):T.call(null,Os,b))?new CE(this.Uc,this.rest,c,this.G,this.D,null):new CE(this.Uc,this.rest,this.pos,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(gp,this.Uc),new Y(gu,this.rest),new Y(Os,this.pos)],null),this.D))};
g.fa=function(a,b){return new CE(this.Uc,this.rest,this.pos,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function xE(a){a=H(a);return new CE(a,a,0,null,null,null)}function DE(a){var b=gu.B(a);if(r(b))return new X(null,2,5,Z,[J(b),new CE(gp.B(a),K(b),Os.B(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function EE(a){var b=DE(a);a=Q(b,0,null);b=Q(b,1,null);a="string"===typeof a?wE(a):a;return new X(null,2,5,Z,[a,b],null)}function FE(a,b){return b>=Os.B(a)?(b=Os.B(a)-b,GE.j?GE.j(a,b):GE.call(null,a,b)):new CE(gp.B(a),Ih(b,gp.B(a)),b,null,null,null)}function GE(a,b){var c=Os.B(a)+b;return 0>b?FE(a,c):new CE(gp.B(a),Ih(b,gu.B(a)),c,null,null,null)}function HE(a,b,c,d,e,f,h){this.Fc=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=HE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "func":return this.Fc;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[Ow,this.Fc],null),new X(null,2,5,Z,[oo,this.def],null),new X(null,2,5,Z,[$t,this.params],null),new X(null,2,5,Z,[nu,this.offset],null)],null),this.D))};g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[Ow,oo,$t,nu],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-829256337^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Fc,b.Fc)&&F.j(this.def,b.def)&&F.j(this.params,b.params)&&F.j(this.offset,b.offset)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[nu,null,Ow,null,$t,null,oo,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new HE(this.Fc,this.def,this.params,this.offset,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ow,b):T.call(null,Ow,b))?new HE(c,this.def,this.params,this.offset,this.G,this.D,null):r(T.j?T.j(oo,b):T.call(null,oo,b))?new HE(this.Fc,c,this.params,this.offset,this.G,this.D,null):r(T.j?T.j($t,b):T.call(null,$t,b))?new HE(this.Fc,this.def,c,this.offset,this.G,this.D,null):r(T.j?T.j(nu,b):T.call(null,nu,b))?new HE(this.Fc,this.def,this.params,c,this.G,this.D,null):new HE(this.Fc,this.def,this.params,this.offset,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(Ow,this.Fc),new Y(oo,this.def),new Y($t,this.params),new Y(nu,this.offset)],null),this.D))};g.fa=function(a,b){return new HE(this.Fc,this.def,this.params,this.offset,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function IE(a,b){var c=Q(a,0,null);a=Q(a,1,null);var d=Q(a,0,null);a=Q(a,1,null);d=Lf(new mk(null,new q(null,2,[qv,null,fz,null],null),null),c)?new X(null,2,5,Z,[d,b],null):F.j(d,Mz)?DE(b):F.j(d,zs)?new X(null,2,5,Z,[M(gu.B(b)),b],null):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function JE(a,b){b=tD(IE,b,a);a=Q(b,0,null);b=Q(b,1,null);return new X(null,2,5,Z,[Xh.j(W,a),b],null)}
var KE=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);function LE(a){return Kf(a)?F.j(iE,10)?[t.B(a),r(hE)?".":null].join(""):[t.B(r(hE)?function(){var b=C.j(KE,iE);return r(b)?b:["#",t.B(iE),"r"].join("")}():null),t.B(ME(iE,a))].join(""):null}
function NE(a,b,c){c=DE(c);var d=Q(c,0,null);c=Q(c,1,null);var e=LE(d);a=r(e)?e:a.B?a.B(d):a.call(null,d);d=a.length;e=d+yv.B(b);e=e>=qB.B(b)?e:e+(sg(qB.B(b)-e-1,Vq.B(b))+1)*Vq.B(b);d=dh(t,Nh(e-d,ks.B(b)));r(fz.B(b))?pD.F(P([[t.B(d),t.B(a)].join("")])):pD.F(P([[t.B(a),t.B(d)].join("")]));return c}function OE(a,b){return zg(J(uD(function(c){return 0<c?new X(null,2,5,Z,[tg(c,a),sg(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}
function ME(a,b){return 0===b?"0":dh(t,Gh.j(function(c){return 10>c?pg(sD("0")+c):pg(sD("a")+(c-10))},OE(a,b)))}function PE(a,b){return zg(J(uD(function(c){return new X(null,2,5,Z,[H(zg(Hh.j(a,c))),H(Ih(a,c))],null)},zg(b))))}
function QE(a,b,c){c=DE(c);var d=Q(c,0,null);c=Q(c,1,null);if(Kf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&F.j(d,Math.floor(d))){var e=0>d,f=ME(a,e?-d:d);a=r(qv.B(b))?function(){var h=Gh.j(function(m){return dh(t,m)},PE(Ws.B(b),f)),k=Nh(M(h),pu.B(b));return dh(t,K(Qh.j(k,h)))}():f;a=e?["-",t.B(a)].join(""):r(fz.B(b))?["+",t.B(a)].join(""):a;a=a.length<qB.B(b)?[t.B(dh(t,Nh(qB.B(b)-a.length,ks.B(b)))),t.B(a)].join(""):a;pD.F(P([a]))}else NE(fl,new q(null,5,[qB,
qB.B(b),Vq,1,yv,0,ks,ks.B(b),fz,!0],null),xE(new X(null,1,5,Z,[d],null)));return c}
var RE=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),SE=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),TE=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),UE=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),VE=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function WE(a){var b=sg(a,100),c=tg(a,100);return[0<b?[t.B(Ye(RE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?Ye(RE,c):function(){var d=sg(c,10),e=tg(c,10);return[t.B(0<d?Ye(TE,d):null),0<d&&0<e?"-":null,t.B(0<e?Ye(RE,e):null)].join("")}():null)].join("")}
function XE(a,b){var c=M(a),d=mf;--c;var e=J(a);for(a=K(a);;){if(null==a)return[t.B(dh(t,Ih(1,Qh.j(Mh(", "),d)))),wf(e)||wf(d)?null:", ",t.B(e),!wf(e)&&0<c+b?[" ",t.B(Ye(VE,c+b))].join(""):null].join("");d=wf(e)?d:lf.j(d,[t.B(e)," ",t.B(Ye(VE,c+b))].join(""));--c;e=J(a);a=K(a)}}
function YE(a){var b=sg(a,100),c=tg(a,100);return[0<b?[t.B(Ye(RE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?Ye(SE,c):function(){var d=sg(c,10),e=tg(c,10);return 0<d&&!(0<e)?Ye(UE,d):[t.B(0<d?Ye(TE,d):null),0<d&&0<e?"-":null,t.B(0<e?Ye(SE,e):null)].join("")}():0<b?"th":null)].join("")}
var ZE=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),$E=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function aF(a,b){b=DE(b);var c=Q(b,0,null);b=Q(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=OE(10,c);c=mf;for(var e=M(d)-1;;)if(wf(d)){pD.F(P([dh(t,c)]));break}else{var f=J(d);c=F.j(0,f)?c:lf.j(c,Ye(Ye(a,e),f-1));--e;d=K(d)}}else QE(10,new q(null,5,[qB,0,ks," ",pu,",",Ws,3,qv,!0],null),xE(new X(null,1,5,Z,[c],null)));return b}var bF=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function cF(a,b){a=DE(b);b=Q(a,0,null);a=Q(a,1,null);var c=sD(b);b=c&127;c&=128;var d=C.j(bF,b);0<c&&pD.F(P(["Meta-"]));pD.F(P([r(d)?d:32>b?["Control-",t.B(pg(b+64))].join(""):F.j(b,127)?"Control-?":pg(b)]));return a}
function dF(a,b){var c=DE(b);b=Q(c,0,null);c=Q(c,1,null);a=Ay.B(a);if(r(F.j?F.j("o",a):F.call(null,"o",a)))vE(!0,"\\o~3, '0o",P([sD(b)]));else if(r(F.j?F.j("u",a):F.call(null,"u",a)))vE(!0,"\\u~4, '0x",P([sD(b)]));else if(r(F.j?F.j(null,a):F.call(null,null,a)))A(ec,r(F.j?F.j("\b",b):F.call(null,"\b",b))?"\\backspace":r(F.j?F.j(" ",b):F.call(null," ",b))?"\\space":r(F.j?F.j("\t",b):F.call(null,"\t",b))?"\\tab":r(F.j?F.j("\n",b):F.call(null,"\n",b))?"\\newline":r(F.j?F.j("\f",b):F.call(null,"\f",b))?
"\\formfeed":r(F.j?F.j("\r",b):F.call(null,"\r",b))?"\\return":r(F.j?F.j('"',b):F.call(null,'"',b))?'\\"':r(F.j?F.j("\\",b):F.call(null,"\\",b))?"\\\\":["\\",t.B(b)].join(""));else throw Error(["No matching clause: ",t.B(a)].join(""));return c}function eF(a,b){b=DE(b);a=Q(b,0,null);b=Q(b,1,null);pD.F(P([a]));return b}function fF(a){a=J(a);return F.j(YA,a)||F.j(Ax,a)}
function gF(a,b,c){return hf(tD(function(d,e){if(fF(e))return new X(null,2,5,Z,[null,e],null);e=JE($t.B(d),e);var f=Q(e,0,null);e=Q(e,1,null);var h=vD(f);f=Q(h,0,null);h=Q(h,1,null);f=R.C(f,co,c);return new X(null,2,5,Z,[null,dh(Ow.B(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function hF(a){a=t.B(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.B(a.length-1)],null):new X(null,2,5,Z,[[wg.C(a,0,c),wg.j(a,c+1)].join(""),t.B(c-1)],null):0>c?new X(null,2,5,Z,[wg.C(a,0,b),wg.j(a,b+1)],null):new X(null,2,5,Z,[[wg.C(a,0,1),wg.C(a,2,b)].join(""),wg.j(a,b+1)],null);b=Q(a,0,null);a=Q(a,1,null);a:if(c=M(b),0<c&&F.j(Ye(b,M(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(F.j(Ye(b,c),"0"))--c;else{b=wg.C(b,0,c+1);break a}}a:{c=b;var d=M(c);if(0<d&&
F.j(Ye(c,0),"0"))for(var e=0;;){if(F.j(e,d)||!F.j(Ye(c,e),"0")){c=wg.j(c,e);break a}e+=1}}b=M(b)-M(c);a=0<M(a)&&F.j(Ye(a,0),"+")?wg.j(a,1):a;return wf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function iF(a,b,c,d){if(r(r(c)?c:d)){var e=M(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=F.j(c,0)?new X(null,4,5,Z,[["0",t.B(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=Q(f,0,null);e=Q(f,1,null);d=Q(f,2,null);f=Q(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=Ye(c,d);a=wg.C(c,0,d);if(sD(b)>=sD("5")){a:for(b=M(a)-1,c=b|0;;){if(0>c){b=eh(t,"1",Nh(b+1,"0"));break a}if(F.j("9",a.charAt(c)))--c;else{b=fh(t,wg.C(a,0,c),pg(sD(a.charAt(c))+
1),Nh(b-c,"0"));break a}}a=M(b)>a.length;return new X(null,3,5,Z,[a?wg.C(b,0,M(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function jF(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.B(dh(t,Nh(-b-1,"0"))),t.B(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=Q(d,0,null);var e=Q(d,1,null);d=M(a);c=r(c)?e+c+1:e+1;c=d<c?[t.B(a),t.B(dh(t,Nh(c-d,"0")))].join(""):a;0>b?b=[".",t.B(c)].join(""):(b+=1,b=[wg.C(c,0,b),".",wg.j(c,b)].join(""));return b}
function kF(a,b){return 0>b?[".",t.B(a)].join(""):[wg.C(a,0,b),".",wg.j(a,b)].join("")}
function lF(a,b){var c=Ew.B(a),d=yw.B(a);b=DE(b);var e=Q(b,0,null);b=Q(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=Q(f,0,null);f=Q(f,1,null);f=hF(f);var k=Q(f,0,null),m=Q(f,1,null)+rw.B(a);f=fz.B(a);e=r(f)?f:0>e;f=wc(d)&&M(k)-1<=m;var n=iF(k,m,d,r(c)?c-(r(e)?1:0):null);k=Q(n,0,null);m=Q(n,1,null);n=Q(n,2,null);k=jF(k,r(n)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&F.j(k.charAt(0),"0")&&F.j(k.charAt(1),".")&&k.length>c-(r(e)?1:0):d:c)?wg.j(k,1):k;m=F.j(J(d),".");r(c)?(k=
d.length,k=r(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,r(k>c?jB.B(a):!1)?pD.F(P([dh(t,Nh(c,jB.B(a)))])):pD.F(P([[t.B(dh(t,Nh(c-k,ks.B(a)))),t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):pD.F(P([[t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function mF(a,b){b=DE(b);var c=Q(b,0,null);b=Q(b,1,null);var d=hF(0>c?-c:c);Q(d,0,null);for(Q(d,1,null);;){var e=Q(d,0,null),f=Q(d,1,null),h=Ew.B(a),k=yw.B(a),m=vw.B(a),n=rw.B(a),p=function(){var I=Vo.B(a);return r(I)?I:"E"}();d=function(){var I=fz.B(a);return r(I)?I:0>c}();var u=0>=n,v=f-(n-1),y=t.B(Math.abs(v));p=[t.B(p),0>v?"-":"+",t.B(r(m)?dh(t,Nh(m-y.length,"0")):null),y].join("");var E=p.length;v=M(e);e=[t.B(dh(t,Nh(-n,"0"))),t.B(e),t.B(r(k)?dh(t,Nh(k-(v-1)-(0>n?-n:0),"0")):null)].join("");
v=r(h)?h-E:null;e=iF(e,0,F.j(n,0)?k-1:0<n?k:0>n?k-1:null,r(v)?v-(r(d)?1:0):null);v=Q(e,0,null);Q(e,1,null);y=Q(e,2,null);e=kF(v,n);k=F.j(n,M(v))&&null==k;if(wc(y)){if(r(h)){f=e.length+E;f=r(d)?f+1:f;var G=(u=u&&!F.j(f,h))?f+1:f;f=k&&G<h;r(function(){var I=G>h;I||(I=m,I=r(I)?E-2>m:I);return r(I)?jB.B(a):I}())?pD.F(P([dh(t,Nh(h,jB.B(a)))])):pD.F(P([[t.B(dh(t,Nh(h-G-(f?1:0),ks.B(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else pD.F(P([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[v,f+1],null)}return b}function nF(a,b,c){var d=DE(b),e=Q(d,0,null);Q(d,1,null);d=hF(0>e?-e:e);var f=Q(d,0,null);d=Q(d,1,null);var h=Ew.B(a),k=yw.B(a),m=vw.B(a);d=F.j(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=M(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=lF(new q(null,6,[Ew,h,yw,d,rw,0,jB,jB.B(a),ks,ks.B(a),fz,fz.B(a)],null),b,c),pD.F(P([dh(t,Nh(e," "))])),a):mF(a,b,c)}
function oF(a,b){b=DE(b);var c=Q(b,0,null);b=Q(b,1,null);var d=hF(Math.abs(c)),e=Q(d,0,null),f=Q(d,1,null),h=yw.B(a),k=Mw.B(a);d=Ew.B(a);var m=function(){var p=fz.B(a);return r(p)?p:0>c}(),n=iF(e,f,h,null);e=Q(n,0,null);f=Q(n,1,null);n=Q(n,2,null);h=jF(e,r(n)?f+1:f,h);k=[t.B(dh(t,Nh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);pD.F(P([[r(function(){var p=qv.B(a);return r(p)?m:p}())?0>c?"-":"+":null,t.B(dh(t,Nh(d-h,ks.B(a)))),r(wc(qv.B(a))?m:!1)?0>c?"-":"+":null,k].join("")]));return b}
function pF(a,b){var c=Lz.B(a);c=r(c)?new X(null,2,5,Z,[c,b],null):DE(b);b=Q(c,0,null);c=Q(c,1,null);var d=Py.B(a);b=0>b||b>=M(d)?J(Xt.B(a)):Ye(d,b);return r(b)?gF(b,c,co.B(a)):c}function qF(a,b){var c=DE(b);b=Q(c,0,null);c=Q(c,1,null);var d=Py.B(a);b=r(b)?hf(d):J(d);return r(b)?gF(b,c,co.B(a)):c}function rF(a,b){var c=DE(b),d=Q(c,0,null);c=Q(c,1,null);var e=Py.B(a);e=r(d)?J(e):null;return r(d)?r(e)?gF(e,b,co.B(a)):b:c}
function sF(a,b){var c=BB.B(a),d=J(Py.B(a));d=wf(d)?EE(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=DE(d);var e=Q(d,0,null);d=Q(d,1,null);var f=0;e=xE(e);for(var h=-1;;){if(wc(c)&&F.j(Os.B(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=wf(gu.B(e))&&(wc(qv.B(Jp.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=gF(b,e,co.B(a));if(F.j(YA,J(h)))return d;f+=1;var k=Os.B(e);e=h;h=k}}
function tF(a,b){var c=BB.B(a),d=J(Py.B(a));d=wf(d)?EE(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=DE(d);var e=Q(d,0,null);d=Q(d,1,null);for(var f=0;;){var h=wf(e)&&(wc(qv.B(Jp.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=gF(b,xE(J(e)),xE(K(e)));if(F.j(Ax,J(h)))return d;f+=1;e=K(e)}}
function uF(a,b){var c=BB.B(a),d=J(Py.B(a)),e=wf(d)?EE(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;e=Q(e,1,null);for(var f=-1;;){if(wc(c)&&F.j(Os.B(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=wf(gu.B(e))&&(wc(qv.B(Jp.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=gF(b,e,co.B(a));if(F.j(YA,J(f)))return hf(f);d+=1;var h=Os.B(e);e=f;f=h}}
function vF(a,b){var c=BB.B(a),d=J(Py.B(a)),e=wf(d)?EE(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;for(e=Q(e,1,null);;){var f=wf(gu.B(e))&&(wc(qv.B(Jp.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=gu.B(e);f=r(f)?new X(null,2,5,Z,[J(f),new CE(gp.B(e),K(f),Os.B(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=Q(f,0,null);f=Q(f,1,null);e=gF(b,xE(e),f);if(F.j(Ax,J(e)))return f;e=f;d+=1}}
function wF(a,b){if(r(qv.B(Jp.B(a)))){var c=Py.B(a),d=M(c),e=1<d?Sm.B($t.B(J(J(c)))):r(qv.B(a))?"(":null,f=Ye(c,1<d?1:0);c=2<d?Sm.B($t.B(J(Ye(c,2)))):r(qv.B(a))?")":null;d=DE(b);b=Q(d,0,null);d=Q(d,1,null);if(r(sE()))A(ec,"#");else{var h=jE,k=kE;jE+=1;kE=0;try{aE(e,c),gF(f,xE(b),co.B(a)),bE()}finally{kE=k,jE=h}}a=d}else a=xF(a,b);return a}
function yF(a,b,c){for(var d=mf;;){if(wf(a))return new X(null,2,5,Z,[d,b],null);var e=J(a);a:{var f=new ac,h=ec;ec=new ge(f);try{var k=new X(null,2,5,Z,[gF(e,b,c),t.B(f)],null);break a}finally{ec=h}k=void 0}b=Q(k,0,null);e=Q(k,1,null);if(F.j(YA,J(b)))return new X(null,2,5,Z,[d,hf(b)],null);a=K(a);d=lf.j(d,e)}}
function xF(a,b){var c=function(){var O=Xt.B(a);return r(O)?yF(O,b,co.B(a)):null}(),d=Q(c,0,null);d=Q(d,0,null);c=Q(c,1,null);var e=r(c)?c:b;c=function(){var O=cC.B(a);return r(O)?JE(O,e):null}();var f=Q(c,0,null);c=Q(c,1,null);var h=r(c)?c:e;c=function(){var O=J(ku.B(f));return r(O)?O:0}();var k=function(){var O=J(Fy.B(f));return r(O)?O:yD(ec,Gy)}(),m=Py.B(a);h=yF(m,h,co.B(a));var n=Q(h,0,null);h=Q(h,1,null);var p=function(){var O=M(n)-1+(r(qv.B(a))?1:0)+(r(fz.B(a))?1:0);return 1>O?1:O}();m=w.j(dg,
Gh.j(M,n));var u=qB.B(a),v=yv.B(a),y=Vq.B(a),E=m+p*v;u=E<=u?u:u+y*(1+sg(E-u-1,y));var G=u-m;m=function(){var O=sg(G,p);return v>O?v:O}();y=G-m*p;m=dh(t,Nh(m,ks.B(a)));r(r(d)?yD(wp.B(z(z(ec))),Gs)+c+u>k:d)&&pD.F(P([d]));c=y;for(var I=n,N=function(){var O=qv.B(a);return r(O)?O:F.j(M(I),1)&&wc(fz.B(a))}();;)if(H(I))pD.F(P([[t.B(wc(N)?J(I):null),t.B(r(function(){var O=N;return r(O)?O:(O=K(I))?O:fz.B(a)}())?m:null),t.B(0<c?ks.B(a):null)].join("")])),--c,I=d=r(N)?I:K(I),N=!1;else break;return h}
function zF(a){if("undefined"===typeof bc||"undefined"===typeof iD||"undefined"===typeof lD)lD=function(b,c){this.Wa=b;this.Fi=c;this.J=1074135040;this.T=0},lD.prototype.fa=function(b,c){return new lD(this.Wa,c)},lD.prototype.ea=function(){return this.Fi},lD.prototype.Nc=function(){return Gd(this.Wa)},lD.prototype.qd=function(b,c){b=zc(c);if(r(F.j?F.j(String,b):F.call(null,String,b)))return A(this.Wa,c.toLowerCase());if(r(F.j?F.j(Number,b):F.call(null,Number,b)))return A(this.Wa,pg(c).toLowerCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},lD.rb=!0,lD.kb="cljs.pprint/t_cljs$pprint23080",lD.vb=function(b){return A(b,"cljs.pprint/t_cljs$pprint23080")};return new lD(a,W)}
function AF(a){if("undefined"===typeof bc||"undefined"===typeof iD||"undefined"===typeof mD)mD=function(b,c){this.Wa=b;this.Gi=c;this.J=1074135040;this.T=0},mD.prototype.fa=function(b,c){return new mD(this.Wa,c)},mD.prototype.ea=function(){return this.Gi},mD.prototype.Nc=function(){return Gd(this.Wa)},mD.prototype.qd=function(b,c){b=zc(c);if(r(F.j?F.j(String,b):F.call(null,String,b)))return A(this.Wa,c.toUpperCase());if(r(F.j?F.j(Number,b):F.call(null,Number,b)))return A(this.Wa,pg(c).toUpperCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},mD.rb=!0,mD.kb="cljs.pprint/t_cljs$pprint23101",mD.vb=function(b){return A(b,"cljs.pprint/t_cljs$pprint23101")};return new mD(a,W)}
function BF(a,b){var c=J(a);a=r(r(b)?r(c)?Jb(c):c:b)?[c.toUpperCase(),wg.j(a,1)].join(""):a;return dh(t,J(uD(function(d){if(wf(d))return new X(null,2,5,Z,[null,null],null);var e=/\W\w/g.exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[wg.C(d,0,e),Ye(d,e).toUpperCase()].join(""),wg.j(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function CF(a){var b=yh(!0);if("undefined"===typeof bc||"undefined"===typeof iD||"undefined"===typeof nD)nD=function(c,d,e){this.Wa=c;this.we=d;this.Hi=e;this.J=1074135040;this.T=0},nD.prototype.fa=function(c,d){return new nD(this.Wa,this.we,d)},nD.prototype.ea=function(){return this.Hi},nD.prototype.Nc=function(){return Gd(this.Wa)},nD.prototype.qd=function(c,d){c=zc(d);if(r(F.j?F.j(String,c):F.call(null,String,c)))return A(this.Wa,BF(d.toLowerCase(),z(this.we))),0<d.length?zh(this.we,tb(Ye(d,M(d)-
1))):null;if(r(F.j?F.j(Number,c):F.call(null,Number,c)))return d=pg(d),c=r(z(this.we))?d.toUpperCase():d,A(this.Wa,c),zh(this.we,tb(d));throw Error(["No matching clause: ",t.B(c)].join(""));},nD.rb=!0,nD.kb="cljs.pprint/t_cljs$pprint23122",nD.vb=function(c){return A(c,"cljs.pprint/t_cljs$pprint23122")};return new nD(a,b,W)}
function DF(a){var b=yh(!1);if("undefined"===typeof bc||"undefined"===typeof iD||"undefined"===typeof oD)oD=function(c,d,e){this.Wa=c;this.Xd=d;this.Ii=e;this.J=1074135040;this.T=0},oD.prototype.fa=function(c,d){return new oD(this.Wa,this.Xd,d)},oD.prototype.ea=function(){return this.Ii},oD.prototype.Nc=function(){return Gd(this.Wa)},oD.prototype.qd=function(c,d){c=zc(d);if(r(F.j?F.j(String,c):F.call(null,String,c)))return d=d.toLowerCase(),wc(z(this.Xd))?(c=/\S/g.exec(d),c=r(c)?c.index:c,r(c)?(A(this.Wa,
[wg.C(d,0,c),Ye(d,c).toUpperCase(),wg.j(d,c+1).toLowerCase()].join("")),zh(this.Xd,!0)):A(this.Wa,d)):A(this.Wa,d.toLowerCase());if(r(F.j?F.j(Number,c):F.call(null,Number,c)))return d=pg(d),r(wc(z(this.Xd))?Jb(d):!1)?(zh(this.Xd,!0),A(this.Wa,d.toUpperCase())):A(this.Wa,d.toLowerCase());throw Error(["No matching clause: ",t.B(c)].join(""));},oD.rb=!0,oD.kb="cljs.pprint/t_cljs$pprint23147",oD.vb=function(c){return A(c,"cljs.pprint/t_cljs$pprint23147")};return new oD(a,b,W)}
function EF(a,b){var c=r(qv.B(a))?sr:Wt;uE(c,Mw.B(a));return b}function FF(a,b){a=r(qv.B(a))?r(fz.B(a))?Jn:Ft:r(fz.B(a))?Nz:hv;tE(a);return b}
var GF=Kj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[dp,"A",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),Vq,new X(null,2,5,Z,[1,Number],null),yv,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,b){return NE(fl,a,b)}}],null),new q(null,5,[dp,"S",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),Vq,new X(null,2,5,Z,[1,Number],
null),yv,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,b){return NE(dl,a,b)}}],null),new q(null,5,[dp,"D",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Ws,new X(null,2,5,Z,[3,Number],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,
b){return QE(10,a,b)}}],null),new q(null,5,[dp,"B",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Ws,new X(null,2,5,Z,[3,Number],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,b){return QE(2,a,b)}}],null),new q(null,5,[dp,"O",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],
null),Ws,new X(null,2,5,Z,[3,Number],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,b){return QE(8,a,b)}}],null),new q(null,5,[dp,"X",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Ws,new X(null,2,5,Z,[3,Number],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,b){return QE(16,a,b)}}],
null),new q(null,5,[dp,"R",$t,new q(null,5,[wp,new X(null,2,5,Z,[null,Number],null),qB,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null),pu,new X(null,2,5,Z,[",",String],null),Ws,new X(null,2,5,Z,[3,Number],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(a){return r(J(wp.B(a)))?function(b,c){return QE(wp.B(b),b,c)}:r(function(){var b=fz.B(a);return r(b)?qv.B(a):b}())?function(b,c){return aF(ZE,c)}:r(fz.B(a))?function(b,c){return aF($E,
c)}:r(qv.B(a))?function(b,c){b=DE(c);c=Q(b,0,null);b=Q(b,1,null);if(F.j(0,c))pD.F(P(["zeroth"]));else{var d=OE(1E3,0>c?-c:c);if(M(d)<=M(VE)){var e=Gh.j(WE,Jh(1,d));e=XE(e,1);d=YE(kf(d));pD.F(P([[0>c?"minus ":null,wf(e)||wf(d)?wf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else QE(10,new q(null,5,[qB,0,ks," ",pu,",",Ws,3,qv,!0],null),xE(new X(null,1,5,Z,[c],null))),d=tg(c,100),c=11<d||19>d,d=tg(d,10),pD.F(P([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=DE(c);
b=Q(c,0,null);c=Q(c,1,null);if(F.j(0,b))pD.F(P(["zero"]));else{var d=OE(1E3,0>b?-b:b);M(d)<=M(VE)?(d=Gh.j(WE,d),d=XE(d,0),pD.F(P([[0>b?"minus ":null,d].join("")]))):QE(10,new q(null,5,[qB,0,ks," ",pu,",",Ws,3,qv,!0],null),xE(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[dp,"P",$t,W,Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return function(a,b){b=r(qv.B(a))?GE(b,-1):b;a=r(fz.B(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],
null);var c=DE(b);b=Q(c,0,null);c=Q(c,1,null);pD.F(P([F.j(b,1)?J(a):hf(a)]));return c}}],null),new q(null,5,[dp,"C",$t,new q(null,1,[Ay,new X(null,2,5,Z,[null,String],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(a){return r(qv.B(a))?cF:r(fz.B(a))?dF:eF}],null),new q(null,5,[dp,"F",$t,new q(null,5,[Ew,new X(null,2,5,Z,[null,Number],null),yw,new X(null,2,5,Z,[null,Number],null),rw,new X(null,2,5,Z,[0,Number],null),jB,new X(null,2,5,Z,[null,String],
null),ks,new X(null,2,5,Z,[" ",String],null)],null),Dx,new mk(null,new q(null,1,[fz,null],null),null),Yz,W,cB,function(){return lF}],null),new q(null,5,[dp,"E",$t,new q(null,7,[Ew,new X(null,2,5,Z,[null,Number],null),yw,new X(null,2,5,Z,[null,Number],null),vw,new X(null,2,5,Z,[null,Number],null),rw,new X(null,2,5,Z,[1,Number],null),jB,new X(null,2,5,Z,[null,String],null),ks,new X(null,2,5,Z,[" ",String],null),Vo,new X(null,2,5,Z,[null,String],null)],null),Dx,new mk(null,new q(null,1,[fz,null],null),
null),Yz,W,cB,function(){return mF}],null),new q(null,5,[dp,"G",$t,new q(null,7,[Ew,new X(null,2,5,Z,[null,Number],null),yw,new X(null,2,5,Z,[null,Number],null),vw,new X(null,2,5,Z,[null,Number],null),rw,new X(null,2,5,Z,[1,Number],null),jB,new X(null,2,5,Z,[null,String],null),ks,new X(null,2,5,Z,[" ",String],null),Vo,new X(null,2,5,Z,[null,String],null)],null),Dx,new mk(null,new q(null,1,[fz,null],null),null),Yz,W,cB,function(){return nF}],null),new q(null,5,[dp,"$",$t,new q(null,4,[yw,new X(null,
2,5,Z,[2,Number],null),Mw,new X(null,2,5,Z,[1,Number],null),Ew,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null)],null),Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return oF}],null),new q(null,5,[dp,"%",$t,new q(null,1,[Oy,new X(null,2,5,Z,[1,Number],null)],null),Dx,ok,Yz,W,cB,function(){return function(a,b){a=Oy.B(a);for(var c=0;;)if(c<a)rD(),c+=1;else break;return b}}],null),new q(null,5,[dp,"\x26",$t,new q(null,1,[Oy,new X(null,2,
5,Z,[1,Number],null)],null),Dx,new mk(null,new q(null,1,[nt,null],null),null),Yz,W,cB,function(){return function(a,b){a=Oy.B(a);0<a&&((null!=ec?ec.J&32768||l===ec.Fg||(ec.J?0:yc(md,ec)):yc(md,ec))?F.j(0,yD(wp.B(z(z(ec))),Gs))||rD():rD());--a;for(var c=0;;)if(c<a)rD(),c+=1;else break;return b}}],null),new q(null,5,[dp,"|",$t,new q(null,1,[Oy,new X(null,2,5,Z,[1,Number],null)],null),Dx,ok,Yz,W,cB,function(){return function(a,b){a=Oy.B(a);for(var c=0;;)if(c<a)pD.F(P(["\f"])),c+=1;else break;return b}}],
null),new q(null,5,[dp,"~",$t,new q(null,1,[Mw,new X(null,2,5,Z,[1,Number],null)],null),Dx,ok,Yz,W,cB,function(){return function(a,b){a=Mw.B(a);pD.F(P([dh(t,Nh(a,"~"))]));return b}}],null),new q(null,5,[dp,"\n",$t,W,Dx,new mk(null,new q(null,2,[qv,null,fz,null],null),null),Yz,W,cB,function(){return function(a,b){r(fz.B(a))&&rD();return b}}],null),new q(null,5,[dp,"T",$t,new q(null,2,[Vz,new X(null,2,5,Z,[1,Number],null),Vq,new X(null,2,5,Z,[1,Number],null)],null),Dx,new mk(null,new q(null,2,[fz,null,
nt,null],null),null),Yz,W,cB,function(a){return r(fz.B(a))?function(b,c){var d=Vz.B(b);b=Vq.B(b);var e=d+yD(wp.B(z(z(ec))),Gs);e=0<b?tg(e,b):0;d+=F.j(0,e)?0:b-e;pD.F(P([dh(t,Nh(d," "))]));return c}:function(b,c){var d=Vz.B(b);b=Vq.B(b);var e=yD(wp.B(z(z(ec))),Gs);d=e<d?d-e:F.j(b,0)?0:b-tg(e-d,b);pD.F(P([dh(t,Nh(d," "))]));return c}}],null),new q(null,5,[dp,"*",$t,new q(null,1,[Mw,new X(null,2,5,Z,[1,Number],null)],null),Dx,new mk(null,new q(null,2,[qv,null,fz,null],null),null),Yz,W,cB,function(){return function(a,
b){var c=Mw.B(a);return r(fz.B(a))?FE(b,c):GE(b,r(qv.B(a))?-c:c)}}],null),new q(null,5,[dp,"?",$t,W,Dx,new mk(null,new q(null,1,[fz,null],null),null),Yz,W,cB,function(a){return r(fz.B(a))?function(b,c){var d=EE(c);c=Q(d,0,null);d=Q(d,1,null);return gF(c,d,co.B(b))}:function(b,c){var d=EE(c);c=Q(d,0,null);d=Q(d,1,null);var e=DE(d);d=Q(e,0,null);e=Q(e,1,null);d=xE(d);gF(c,d,co.B(b));return e}}],null),new q(null,5,[dp,"(",$t,W,Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,new q(null,
3,[Lq,")",wx,null,Xt,null],null),cB,function(a){var b=r(function(){var c=fz.B(a);return r(c)?qv.B(a):c}())?AF:r(qv.B(a))?CF:r(fz.B(a))?DF:zF;return function(c,d){a:{var e=J(Py.B(c)),f=ec;ec=b.B?b.B(ec):b.call(null,ec);try{var h=gF(e,d,co.B(c));break a}finally{ec=f}h=void 0}return h}}],null),new q(null,5,[dp,")",$t,W,Dx,ok,Yz,W,cB,function(){return null}],null),new q(null,5,[dp,"[",$t,new q(null,1,[Lz,new X(null,2,5,Z,[null,Number],null)],null),Dx,new mk(null,new q(null,2,[qv,null,fz,null],null),null),
Yz,new q(null,3,[Lq,"]",wx,!0,Xt,nw],null),cB,function(a){return r(qv.B(a))?qF:r(fz.B(a))?rF:pF}],null),new q(null,5,[dp,";",$t,new q(null,2,[ku,new X(null,2,5,Z,[null,Number],null),Fy,new X(null,2,5,Z,[null,Number],null)],null),Dx,new mk(null,new q(null,1,[qv,null],null),null),Yz,new q(null,1,[at,!0],null),cB,function(){return null}],null),new q(null,5,[dp,"]",$t,W,Dx,ok,Yz,W,cB,function(){return null}],null),new q(null,5,[dp,"{",$t,new q(null,1,[BB,new X(null,2,5,Z,[null,Number],null)],null),Dx,
new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,new q(null,2,[Lq,"}",wx,!1],null),cB,function(a){var b=fz.B(a);b=r(b)?qv.B(a):b;return r(b)?vF:r(qv.B(a))?tF:r(fz.B(a))?uF:sF}],null),new q(null,5,[dp,"}",$t,W,Dx,new mk(null,new q(null,1,[qv,null],null),null),Yz,W,cB,function(){return null}],null),new q(null,5,[dp,"\x3c",$t,new q(null,4,[qB,new X(null,2,5,Z,[0,Number],null),Vq,new X(null,2,5,Z,[1,Number],null),yv,new X(null,2,5,Z,[0,Number],null),ks,new X(null,2,5,Z,[" ",String],null)],
null),Dx,new mk(null,new q(null,4,[qv,null,fz,null,jx,null,nt,null],null),null),Yz,new q(null,3,[Lq,"\x3e",wx,!0,Xt,Lp],null),cB,function(){return wF}],null),new q(null,5,[dp,"\x3e",$t,W,Dx,new mk(null,new q(null,1,[qv,null],null),null),Yz,W,cB,function(){return null}],null),new q(null,5,[dp,"^",$t,new q(null,3,[KA,new X(null,2,5,Z,[null,Number],null),MA,new X(null,2,5,Z,[null,Number],null),IA,new X(null,2,5,Z,[null,Number],null)],null),Dx,new mk(null,new q(null,1,[qv,null],null),null),Yz,W,cB,function(){return function(a,
b){var c=KA.B(a),d=MA.B(a),e=IA.B(a),f=r(qv.B(a))?Ax:YA;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?F.j(c,d)?new X(null,2,5,Z,[f,b],null):b:r(c)?F.j(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(qv.B(a))?wf(gu.B(co.B(a))):wf(gu.B(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[dp,"W",$t,W,Dx,new mk(null,new q(null,4,[qv,null,fz,null,jx,null,nt,null],null),null),Yz,W,cB,function(a){if(r(function(){var c=fz.B(a);return r(c)?c:qv.B(a)}())){var b=V.j(r(fz.B(a))?
new X(null,4,5,Z,[sm,null,Nn,null],null):mf,r(qv.B(a))?new X(null,2,5,Z,[nt,!0],null):mf);return function(c,d){d=DE(d);c=Q(d,0,null);d=Q(d,1,null);return r(eh(nE,c,b))?new X(null,2,5,Z,[YA,d],null):d}}return function(c,d){d=DE(d);c=Q(d,0,null);d=Q(d,1,null);return r(mE(c))?new X(null,2,5,Z,[YA,d],null):d}}],null),new q(null,5,[dp,"_",$t,W,Dx,new mk(null,new q(null,3,[qv,null,fz,null,jx,null],null),null),Yz,W,cB,function(){return FF}],null),new q(null,5,[dp,"I",$t,new q(null,1,[Mw,new X(null,2,5,Z,
[0,Number],null)],null),Dx,new mk(null,new q(null,1,[qv,null],null),null),Yz,W,cB,function(){return EF}],null)]),HF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,IF=new mk(null,new q(null,2,[zs,null,Mz,null],null),null);
function JF(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);a=new RegExp(HF.source,"g");var e=a.exec(b);return r(e)?(d=J(e),b=wg.j(b,a.lastIndex),a=c+a.lastIndex,F.j(",",Ye(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[wg.j(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?BE("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function KF(a){var b=Q(a,0,null);a=Q(a,1,null);return new X(null,2,5,Z,[F.j(b.length,0)?null:F.j(b.length,1)&&Lf(new mk(null,new q(null,2,["V",null,"v",null],null),null),Ye(b,0))?Mz:F.j(b.length,1)&&F.j("#",Ye(b,0))?zs:F.j(b.length,2)&&F.j("'",Ye(b,0))?Ye(b,1):parseInt(b,10),a],null)}var LF=new q(null,2,[":",qv,"@",fz],null);
function MF(a,b){return uD(function(c){var d=Q(c,0,null),e=Q(c,1,null);c=Q(c,2,null);if(wf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=C.j(LF,J(d));return r(f)?Lf(c,f)?BE(['Flag "',t.B(J(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[wg.j(d,1),e+1,R.C(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function NF(a,b){var c=Dx.B(a);r(wc(fz.B(c))?fz.B(b):!1)&&BE(['"@" is an illegal flag for format directive "',t.B(dp.B(a)),'"'].join(""),Ye(fz.B(b),1));r(wc(qv.B(c))?qv.B(b):!1)&&BE(['":" is an illegal flag for format directive "',t.B(dp.B(a)),'"'].join(""),Ye(qv.B(b),1));r(wc(jx.B(c))?function(){var d=fz.B(b);return r(d)?qv.B(b):d}():!1)&&BE(['Cannot combine "@" and ":" flags for format directive "',t.B(dp.B(a)),'"'].join(""),function(){var d=Ye(qv.B(b),1),e=Ye(fz.B(b),1);return d<e?d:e}())}
function OF(a,b,c,d){NF(a,c);M(b)>M($t.B(a))&&BE(vE(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',P([dp.B(a),M(b),M($t.B(a))])),hf(J(b)));Hk(Gh.C(function(e,f){var h=J(e);return null==h||Lf(IF,h)||F.j(hf(hf(f)),zc(h))?null:BE(["Parameter ",Gg(J(f)),' has bad type in directive "',t.B(dp.B(a)),'": ',t.B(zc(h))].join(""),hf(e))},b,$t.B(a)));return hk.F(P([Xh.j(W,zg(function(){return function h(f){return new Hg(null,function(){for(;;){var k=
H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),y=Q(v,0,null);v=Q(v,1,null);v=Q(v,0,null);p.add(new X(null,2,5,Z,[y,new X(null,2,5,Z,[v,d],null)],null));u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}m=J(k);p=Q(m,0,null);m=Q(m,1,null);m=Q(m,0,null);return df(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(Be(k)))}return null}},null,null)}($t.B(a))}())),w.C(function(e,f){return eh(R,e,f)},W,Vh(function(e){return J(Ye(e,1))},sk(Zi($t.B(a)),
b))),c]))}
function PF(a,b){b=uD(JF,new X(null,3,5,Z,[a,b,!1],null));a=Q(b,0,null);var c=Q(b,1,null);b=Q(c,0,null);c=Q(c,1,null);b=MF(b,c);Q(b,0,null);b=Q(b,1,null);var d=Q(b,0,null),e=Q(b,1,null);b=Q(b,2,null);c=J(d);var f=C.j(GF,c.toUpperCase()),h=r(f)?OF(f,Gh.j(KF,a),b,e):null;wc(c)&&BE("Format string ended in the middle of a directive",e);wc(f)&&BE(['Directive "',t.B(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new HE(function(){var k=cB.B(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=wg.j(d,1),m=e+1;if(F.j("\n",dp.B(f))&&wc(qv.B(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=xf(n)?pk(n):Nf([n]);for(var p=0;;){var u;(u=F.j(p,M(k)))||(u=Ye(k,p),u=n.B?n.B(u):n.call(null,u),u=wc(u));if(u){n=p;break a}p+=1}}else n=0;k=wg.j(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function QF(a,b){return new HE(function(c,d){pD.F(P([a]));return d},null,new q(null,1,[Sm,a],null),b,null,null,null)}
function RF(a,b){var c=SF(Yz.B(oo.B(a)),nu.B(a),b);b=Q(c,0,null);c=Q(c,1,null);return new X(null,2,5,Z,[new HE(Ow.B(a),oo.B(a),hk.F(P([$t.B(a),wD(b,nu.B(a))])),nu.B(a),null,null,null),c],null)}
function TF(a,b,c){return uD(function(d){if(wf(d))return BE("No closing bracket found.",b);var e=J(d);d=K(d);if(r(Lq.B(Yz.B(oo.B(e)))))e=RF(e,d);else if(F.j(Lq.B(a),dp.B(oo.B(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[Rr,$t.B(e),null,d],null)],null);else{var f=at.B(Yz.B(oo.B(e)));f=r(f)?qv.B($t.B(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[Xt,null,$t.B(e),d],null)],null):r(at.B(Yz.B(oo.B(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[at,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function SF(a,b,c){return hf(uD(function(d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);var h=TF(a,b,d);d=Q(h,0,null);var k=Q(h,1,null);h=Q(k,0,null);var m=Q(k,1,null),n=Q(k,2,null);k=Q(k,3,null);return F.j(h,Rr)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[ik.F(V,P([e,qf([r(f)?Xt:Py,new X(null,1,5,Z,[d],null),Jp,m])])),k],null)],null):F.j(h,Xt)?r(Xt.B(e))?BE('Two else clauses ("~:;") inside bracket construction.',b):wc(Xt.B(a))?BE('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
F.j(Lp,Xt.B(a))&&H(Py.B(e))?BE('The else clause ("~:;") is only allowed in the first position for this directive.',b):F.j(Lp,Xt.B(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[ik.F(V,P([e,new q(null,2,[Xt,new X(null,1,5,Z,[d],null),cC,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[ik.F(V,P([e,new q(null,1,[Py,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):F.j(h,at)?r(f)?BE('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):wc(wx.B(a))?
BE('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[ik.F(V,P([e,new q(null,1,[Py,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[Py,mf],null),!1,c],null)))}function UF(a){return J(uD(function(b){var c=J(b);b=K(b);var d=Yz.B(oo.B(c));return r(Lq.B(d))?RF(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function wE(a){var b=AE;AE=a;try{return UF(J(uD(function(c){var d=Q(c,0,null);c=Q(c,1,null);if(wf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[QF(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?PF(wg.j(d,1),c+1):new X(null,2,5,Z,[QF(wg.C(d,0,e),c),new X(null,2,5,Z,[wg.j(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{AE=b}}
var yE=function yE(a){for(;;){if(wf(a))return!1;var c=nt.B(Dx.B(oo.B(J(a))));r(c)||(c=ph(yE,J(Py.B($t.B(J(a))))),c=r(c)?c:ph(yE,J(Xt.B($t.B(J(a))))));if(r(c))return!0;a=K(a)}};function zE(a,b){tD(function(c,d){if(fF(d))return new X(null,2,5,Z,[null,d],null);d=JE($t.B(c),d);var e=Q(d,0,null);d=Q(d,1,null);var f=vD(e);e=Q(f,0,null);f=Q(f,1,null);e=R.C(e,co,d);return new X(null,2,5,Z,[null,dh(Ow.B(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var VF=Fl(wE),WF=new q(null,6,[ow,"'",ay,"#'",js,"@",yx,"~",xn,"@",go,"~"],null);function XF(a){var b=J(a);b=WF.B?WF.B(b):WF.call(null,b);return r(r(b)?F.j(2,M(a)):b)?(A(ec,b),mE(hf(a)),!0):null}function YF(a){if(r(sE()))A(ec,"#");else{var b=jE,c=kE;jE+=1;kE=0;try{aE("[","]");for(var d=0,e=H(a);;){if(wc(jc)||d<jc){if(e&&(mE(J(e)),K(e))){A(ec," ");tE(hv);a=d+1;var f=K(e);d=a;e=f;continue}}else A(ec,"...");break}bE()}finally{kE=c,jE=b}}return null}
(function(){var a=VF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=xE(d);return zE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()})();
function ZF(a){var b=Bf(a)?null:function(){var m=new ve(function(){return il},qw,Kj([hn,em,zz,Bt,On,UA,zm,Zm,Au,dy,wv],[!0,lm,Tw,"cljs/core.cljs",15,1,10307,10307,Ag(new X(null,1,5,Z,[oq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(il)?il.Ej:null]));return m.B?m.B(a):m.call(null,a)}(),c=Q(b,0,null);b=Q(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.B(c),"{"].join(""):"{";if(r(sE()))A(ec,"#");else{c=jE;b=kE;jE+=1;kE=0;try{aE(e,"}");e=0;for(var f=H(d);;){if(wc(jc)||e<jc){if(f){if(r(sE()))A(ec,
"#");else{d=jE;var h=kE;jE+=1;kE=0;try{aE(null,null),mE(jf(f)),A(ec," "),tE(hv),kE=0,mE(J(K(J(f)))),bE()}finally{kE=h,jE=d}}if(K(f)){A(ec,", ");tE(hv);d=e+1;var k=K(f);e=d;f=k;continue}}}else A(ec,"...");break}bE()}finally{kE=b,jE=c}}return null}function $F(a){return A(ec,dl.F(P([a])))}
var aG=function(){var a=VF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=xE(d);return zE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}(),bG=new q(null,2,["core$future_call","Future","core$promise","Promise"],null);
function cG(a){var b=Jk(/^[^$]+\$[^$]+/,a);b=r(b)?bG.B?bG.B(b):bG.call(null,b):null;return r(b)?b:a}var dG=function(){var a=VF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=xE(d);return zE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}();
function eG(a){return a instanceof Oi?Fz:(null!=a?a.J&32768||l===a.Fg||(a.J?0:yc(md,a)):yc(md,a))?yB:a instanceof B?Pw:Hf(a)?NA:Af(a)?xy:Df(a)?nx:yf(a)?kp:null==a?null:Xl}var fG,gG=yh(W),hG=yh(W),iG=yh(W),jG=yh(W),kG=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));fG=new Wl(ue.j(ba,"simple-dispatch"),eG,kG,gG,hG,iG,jG);
Ul(fG,NA,function(a){if(wc(XF(a)))if(r(sE()))A(ec,"#");else{var b=jE,c=kE;jE+=1;kE=0;try{aE("(",")");for(var d=0,e=H(a);;){if(wc(jc)||d<jc){if(e&&(mE(J(e)),K(e))){A(ec," ");tE(hv);a=d+1;var f=K(e);d=a;e=f;continue}}else A(ec,"...");break}bE()}finally{kE=c,jE=b}}return null});Ul(fG,nx,YF);Ul(fG,xy,ZF);Ul(fG,kp,aG);Ul(fG,null,function(){return A(ec,dl.F(P([null])))});Ul(fG,Xl,$F);dE=fG;function lG(a){return Df(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function mG(a){if(zf(a)){var b=lG(a),c=Q(b,0,null),d=Q(b,1,null),e=H(a),f=J(e),h=K(e);if(r(sE()))A(ec,"#");else{var k=jE,m=kE,n=jE+1;jE=n;kE=0;try{aE(c,d);(function(){var qa=VF("~w~:i");return function(){function za(ka){var oa=null;if(0<arguments.length){oa=0;for(var ya=Array(arguments.length-0);oa<ya.length;)ya[oa]=arguments[oa+0],++oa;oa=new ze(ya,0,null)}return Sa.call(this,oa)}function Sa(ka){ka=xE(ka);return zE(qa,ka)}za.Y=0;za.ba=function(ka){ka=H(ka);return Sa(ka)};za.F=Sa;return za}()})()(f);
for(var p=h;;)if(H(p)){(function(){var qa=VF(" ");return function(za,Sa,ka){return function(){function oa(va){var Ba=null;if(0<arguments.length){Ba=0;for(var eb=Array(arguments.length-0);Ba<eb.length;)eb[Ba]=arguments[Ba+0],++Ba;Ba=new ze(eb,0,null)}return ya.call(this,Ba)}function ya(va){va=xE(va);return zE(ka,va)}oa.Y=0;oa.ba=function(va){va=H(va);return ya(va)};oa.F=ya;return oa}()}(p," ",qa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=J(p);if(zf(u)){var v=lG(u),y=Q(v,0,null),E=Q(v,1,null);if(r(sE()))A(ec,
"#");else{var G=jE,I=kE,N=jE+1;jE=N;kE=0;try{aE(y,E);if(F.j(M(u),3)&&hf(u)instanceof D){var O=u,U=Q(O,0,null),ea=Q(O,1,null),fa=Q(O,2,null);(function(){var qa=VF("~w ~w ");return function(za,Sa,ka){return function(){function oa(va){var Ba=null;if(0<arguments.length){Ba=0;for(var eb=Array(arguments.length-0);Ba<eb.length;)eb[Ba]=arguments[Ba+0],++Ba;Ba=new ze(eb,0,null)}return ya.call(this,Ba)}function ya(va){va=xE(va);return zE(ka,va)}oa.Y=0;oa.ba=function(va){va=H(va);return ya(va)};oa.F=ya;return oa}()}(p,
"~w ~w ",qa,O,U,ea,fa,G,I,N,0,v,y,E,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);zf(fa)?function(){var qa=Df(fa)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",za="string"===typeof qa?VF(qa):qa;return function(Sa,ka,oa){return function(){function ya(Ba){var eb=null;if(0<arguments.length){eb=0;for(var mc=Array(arguments.length-0);eb<mc.length;)mc[eb]=arguments[eb+0],++eb;eb=new ze(mc,0,null)}return va.call(this,eb)}function va(Ba){Ba=xE(Ba);return zE(oa,Ba)}ya.Y=0;ya.ba=function(Ba){Ba=
H(Ba);return va(Ba)};ya.F=va;return ya}()}(p,qa,za,O,U,ea,fa,G,I,N,0,v,y,E,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(fa):mE(fa)}else dh(function(){var qa=VF("~w ~:i~@{~w~^ ~:_~}");return function(za,Sa,ka){return function(){function oa(va){var Ba=null;if(0<arguments.length){Ba=0;for(var eb=Array(arguments.length-0);Ba<eb.length;)eb[Ba]=arguments[Ba+0],++Ba;Ba=new ze(eb,0,null)}return ya.call(this,Ba)}function ya(va){va=xE(va);return zE(ka,va)}oa.Y=0;oa.ba=function(va){va=H(va);return ya(va)};oa.F=ya;return oa}()}(p,
"~w ~:i~@{~w~^ ~:_~}",qa,G,I,N,0,v,y,E,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);bE()}finally{kE=I,jE=G}}K(p)&&function(){var qa=VF("~_");return function(za,Sa,ka){return function(){function oa(va){var Ba=null;if(0<arguments.length){Ba=0;for(var eb=Array(arguments.length-0);Ba<eb.length;)eb[Ba]=arguments[Ba+0],++Ba;Ba=new ze(eb,0,null)}return ya.call(this,Ba)}function ya(va){va=xE(va);return zE(ka,va)}oa.Y=0;oa.ba=function(va){va=H(va);return ya(va)};oa.F=ya;return oa}()}(p,"~_",qa,v,y,E,u,k,m,n,0,b,c,d,
a,e,f,h,f,h)}()()}else mE(u),K(p)&&function(){var qa=VF("~:_");return function(za,Sa,ka){return function(){function oa(va){var Ba=null;if(0<arguments.length){Ba=0;for(var eb=Array(arguments.length-0);Ba<eb.length;)eb[Ba]=arguments[Ba+0],++Ba;Ba=new ze(eb,0,null)}return ya.call(this,Ba)}function ya(va){va=xE(va);return zE(ka,va)}oa.Y=0;oa.ba=function(va){va=H(va);return ya(va)};oa.F=ya;return oa}()}(p,"~:_",qa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=K(p)}else break;bE()}finally{kE=m,jE=k}}}else mE(a)}
var nG=function(){var a=VF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=xE(d);return zE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}();
function oG(a,b){H(a)&&(r(b)?function(){var c=VF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new ze(k,0,null)}return e.call(this,h)}function e(f){f=xE(f);return zE(c,f)}d.Y=0;d.ba=function(f){f=H(f);return e(f)};d.F=e;return d}()}()():function(){var c=VF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new ze(k,0,null)}return e.call(this,h)}function e(f){f=xE(f);return zE(c,f)}d.Y=0;d.ba=function(f){f=H(f);return e(f)};d.F=e;return d}()}()(),function(){var c=VF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new ze(k,0,null)}return e.call(this,h)}function e(f){f=xE(f);return zE(c,f)}d.Y=0;d.ba=function(f){f=H(f);return e(f)};d.F=e;return d}()}()(a))}
function pG(a){H(a)&&function(){var b=VF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new ze(h,0,null)}return d.call(this,f)}function d(e){e=xE(e);return zE(b,e)}c.Y=0;c.ba=function(e){e=H(e);return d(e)};c.F=d;return c}()}()(a)}
function qG(a){if(K(a)){var b=H(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);var e=Af(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);d=Q(e,0,null);e=Q(e,1,null);if(r(sE()))A(ec,"#");else{var f=jE,h=kE;jE+=1;kE=0;try{aE("(",")"),function(){var k=VF("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-
0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=xE(p);return zE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};m.F=n;return m}()}()(a,b),r(c)&&function(){var k=VF(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=xE(p);return zE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};m.F=n;return m}()}()(c),
r(d)&&function(){var k=VF(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=xE(p);return zE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};m.F=n;return m}()}()(d),Df(J(e))?oG(e,r(c)?c:d):pG(e),bE()}finally{kE=h,jE=f}}return null}return rG(a)}
function sG(a){if(r(sE()))A(ec,"#");else{var b=jE,c=kE;jE+=1;kE=0;try{aE("[","]");for(var d=0;;){if(wc(jc)||d<jc){if(H(a)){if(r(sE()))A(ec,"#");else{var e=jE,f=kE;jE+=1;kE=0;try{aE(null,null),mE(J(a)),K(a)&&(A(ec," "),tE(Nz),mE(hf(a))),bE()}finally{kE=f,jE=e}}if(K(Be(a))){A(ec," ");tE(hv);e=d+1;var h=K(Be(a));d=e;a=h;continue}}}else A(ec,"...");break}bE()}finally{kE=c,jE=b}}}
function tG(a){var b=J(a);if(r(sE()))A(ec,"#");else{var c=jE,d=kE;jE+=1;kE=0;try{aE("(",")"),K(a)&&Df(hf(a))?(function(){var e=VF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){k=xE(k);return zE(e,k)}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()}()(b),sG(hf(a)),function(){var e=VF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new ze(n,0,null)}return h.call(this,m)}function h(k){k=xE(k);return zE(e,k)}f.Y=0;f.ba=function(k){k=H(k);return h(k)};f.F=h;return f}()}()(K(Be(a)))):rG(a),bE()}finally{kE=d,jE=c}}return null}
var uG=function(){var a=VF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){d=xE(d);return zE(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}()}(),vG=W;
function rG(a){if(r(sE()))A(ec,"#");else{var b=jE,c=kE;jE+=1;kE=0;try{aE("(",")");uE(Wt,1);for(var d=0,e=H(a);;){if(wc(jc)||d<jc){if(e&&(mE(J(e)),K(e))){A(ec," ");tE(hv);a=d+1;var f=K(e);d=a;e=f;continue}}else A(ec,"...");break}bE()}finally{kE=c,jE=b}}return null}
var wG=function(a){return Xh.j(W,Sh($f,P([function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[ue.B(Gg(J(n))),hf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}k=J(e);return df(new X(null,2,5,Z,[k,new X(null,2,5,Z,[ue.B(Gg(J(k))),hf(k)],null)],null),d(Be(e)))}return null}},null,null)}(a)}()])))}(function(a){return Xh.j(W,
Gh.j(function(b){var c=Q(b,0,null),d=Q(b,1,null);var e=Dg(c);e=r(e)?e:Lf(new mk(null,new q(null,24,[Nr,"null",Zt,"null",qm,"null",Lv,"null",Fm,"null",uo,"null",lw,"null",pv,"null",Cp,"null",cw,"null",iv,"null",cx,"null",QB,"null",Np,"null",Bu,"null",$m,"null",bq,"null",yr,"null",ez,"null",ay,"null",ow,"null",Iu,"null",Ov,"null",Is,"null"],null),null),c);return wc(e)?new X(null,2,5,Z,[ue.j("clojure.core",Gg(c)),d],null):b},a))}(Kj([ez,$m,Up,cw,wB,it,XB,Qu,Iz,Su,Jx,Zn,xA,Is,Pq,Rn,Gv,ct,Jy,cx,po,vy,
Tv,Fw,nA,bp,vu,tB,Vy,eu],[nG,function(a){var b=hf(a),c=J(Be(Be(a)));if(Df(b)){a=vG;vG=F.j(1,M(b))?qf([J(b),"%"]):Xh.j(W,Gh.C(function(d,e){return new X(null,2,5,Z,[d,["%",t.B(e)].join("")],null)},b,Bk.j(1,M(b)+1)));try{return function(){var d=VF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new ze(m,0,null)}return f.call(this,k)}function f(h){h=xE(h);return zE(d,h)}e.Y=
0;e.ba=function(h){h=H(h);return f(h)};e.F=f;return e}()}()(c)}finally{vG=a}}else return rG(a)},tG,uG,function(a){if(3<M(a)){if(r(sE()))A(ec,"#");else{var b=jE,c=kE;jE+=1;kE=0;try{aE("(",")");uE(Wt,1);dh(function(){var k=VF("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new ze(v,0,null)}return n.call(this,u)}function n(p){p=xE(p);return zE(k,p)}m.Y=0;m.ba=function(p){p=H(p);return n(p)};
m.F=n;return m}()}(),a);for(var d=0,e=H(Ih(3,a));;){if(wc(jc)||d<jc){if(e){if(r(sE()))A(ec,"#");else{a=jE;var f=kE;jE+=1;kE=0;try{aE(null,null),mE(J(e)),K(e)&&(A(ec," "),tE(Nz),mE(hf(e))),bE()}finally{kE=f,jE=a}}if(K(Be(e))){A(ec," ");tE(hv);a=d+1;var h=K(Be(e));d=a;e=h;continue}}}else A(ec,"...");break}bE()}finally{kE=c,jE=b}}return null}return rG(a)},nG,qG,qG,tG,nG,tG,uG,uG,nG,uG,tG,tG,nG,tG,function(a){if(K(a)){var b=H(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,
2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);d=Af(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);var e=Q(d,0,null),f=Q(d,1,null);if(r(sE()))A(ec,"#");else{d=jE;var h=kE;jE+=1;kE=0;try{aE("(",")");(function(){var m=VF("~w ~1I~@_~w");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){u=xE(u);
return zE(m,u)}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:H(f))&&function(){var m=VF("~@:_");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){u=xE(u);return zE(m,u)}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()}()();r(c)&&vE(!0,'"~a"~:[~;~:@_~]',P([c,r(e)?e:H(f)]));r(e)&&function(){var m=VF("~w~:[~;~:@_~]");
return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){u=xE(u);return zE(m,u)}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()}()(e,H(f));for(a=f;;){mG(J(a));var k=K(a);if(k)b=k,tE(hv),a=b;else break}bE()}finally{kE=h,jE=d}}return null}return mE(a)},tG,function(a){if(r(sE()))A(ec,"#");else{var b=jE,c=kE;jE+=1;kE=0;try{aE("(",")");uE(Wt,1);mE(J(a));
if(K(a)){A(ec," ");tE(hv);for(var d=0,e=K(a);;){if(wc(jc)||d<jc){if(e){if(r(sE()))A(ec,"#");else{a=jE;var f=kE;jE+=1;kE=0;try{aE(null,null),mE(J(e)),K(e)&&(A(ec," "),tE(Nz),mE(hf(e))),bE()}finally{kE=f,jE=a}}if(K(Be(e))){A(ec," ");tE(hv);a=d+1;var h=K(Be(e));d=a;e=h;continue}}}else A(ec,"...");break}}bE()}finally{kE=c,jE=b}}return null},tG,qG,qG,nG,nG,tG,tG,nG]))),xG,yG=yh(W),zG=yh(W),AG=yh(W),BG=yh(W),CG=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));xG=new Wl(ue.j(ba,"code-dispatch"),eG,CG,yG,zG,AG,BG);
Ul(xG,NA,function(a){if(wc(XF(a))){var b=wG.call(null,J(a));return r(b)?b.B?b.B(a):b.call(null,a):rG(a)}return null});Ul(xG,Pw,function(a){var b=a.B?a.B(vG):a.call(null,vG);return r(b)?pD.F(P([b])):r(gE)?pD.F(P([Gg(a)])):qD.call(null,a)});Ul(xG,nx,YF);Ul(xG,xy,ZF);Ul(xG,kp,aG);Ul(xG,Fz,dG);
Ul(xG,yB,function(a){var b=["#\x3c",t.B(cG(zc(a).name)),"@",t.B(xa(a)),": "].join("");if(r(sE()))A(ec,"#");else{var c=jE,d=kE;jE+=1;kE=0;try{aE(b,"\x3e"),uE(Wt,-(b.length-2)),tE(hv),mE((null!=a?a.T&1||l===a.Aj||(a.T?0:yc(Jd,a)):yc(Jd,a))&&!Kd(a)?Yn:z(a)),bE()}finally{kE=d,jE=c}}return null});Ul(xG,null,qD);Ul(xG,Xl,$F);dE=fG;var DG=/[\s]/;function EG(a){return null==a?null:","===a?!0:DG.test(a)}function FG(a){return null==a?null:!/[^0-9]/.test(a)}
function GG(a,b){return function e(d){return new Hg(null,function(){for(;;){var f=H(d);if(f){if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),v=m;if(u instanceof B||u instanceof D){var y=Gk(Dg,Gg)(u),E=Q(y,0,null);y=Q(y,1,null);var G=u instanceof B?ue:Fg;u=null==E?G.j?G.j(a,y):G.call(null,a,y):F.j("_",E)?G.B?G.B(y):G.call(null,y):u}v.add(u);p+=1}else return!0}()?Ng(Pg(m),e(Yd(f))):Ng(Pg(m),null)}var n=J(f);return df(n instanceof B||n instanceof D?function(){var p=
Gk(Dg,Gg)(n),u=Q(p,0,null);p=Q(p,1,null);var v=n instanceof B?ue:Fg;return null==u?v.j?v.j(a,p):v.call(null,a,p):F.j("_",u)?v.B?v.B(p):v.call(null,p):n}():n,e(Be(f)))}return null}},null,null)}(b)}function HG(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function IG(a){if(null!=a&&null!=a.Ad)a=a.Ad(a);else{var b=IG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=IG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Reader.read-char",a);}return a}function JG(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=JG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=JG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Reader.peek-char",a);}return a}
function KG(a,b){if(null!=a&&null!=a.Kg)a.Kg(a,b);else{var c=KG[ra(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=KG._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IPushbackReader.unread",a);}}function LG(a){if(null!=a&&null!=a.bi)a=a.bi(a);else{var b=LG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=LG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IndexingReader.get-line-number",a);}return a}
function MG(a){if(null!=a&&null!=a.$h)a=a.$h(a);else{var b=MG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=MG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IndexingReader.get-column-number",a);}return a}function NG(a){if(null!=a&&null!=a.ai)a=a.ai(a);else{var b=NG[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=NG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IndexingReader.get-file-name",a);}return a}
function OG(a,b){this.s=a;this.nh=b;this.Td=0}OG.prototype.Ad=function(){if(this.nh>this.Td){var a=this.s.charAt(this.Td);this.Td+=1;return a}return null};OG.prototype.ke=function(){return this.nh>this.Td?this.s.charAt(this.Td):null};function PG(a,b){this.gh=a;this.buf=b;this.Bc=this.qf=1}PG.prototype.Ad=function(){var a=this.Bc<this.qf?this.buf[this.Bc]:this.gh.Ad(null);this.Bc<this.qf&&(this.Bc+=1);return null==a?null:pg(a)};
PG.prototype.ke=function(){var a=this.Bc<this.qf?this.buf[this.Bc]:this.gh.ke(null);return null==a?null:pg(a)};PG.prototype.Kg=function(a,b){if(r(b)){if(0===this.Bc)throw Error("Pushback buffer is full");--this.Bc;return this.buf[this.Bc]=b}return null};function QG(a){return null!=a?l===a.Fj?!0:!1:!1};function RG(a,b,c,d){var e=M(b);a=r(a)?0:10<e?10:e;b=Gh.j(uh.j(SG,!0),Hh.j(a,b));b=dh(t,Ih(1,Qh.j(Mh(" "),b)));e=a<e?"...":null;return[t.B(c),t.B(b),e,t.B(d)].join("")}var SG,TG=yh(W),UG=yh(W),VG=yh(W),WG=yh(W),XG=C.C(W,tw,Kl.O?Kl.O():Kl.call(null));
SG=new Wl(ue.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?os:"string"===typeof b?Sm:b instanceof D?Jw:"number"===typeof b?Jw:b instanceof B?Jw:Df(b)?nx:xg(b)?NA:Af(b)?xy:yf(b)?kp:F.j(b,!0)?Jw:F.j(b,!1)?Jw:zc(b)},XG,TG,UG,VG,WG);SG.gb(null,Sm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.B(b.substring(0,a<d?a:d)),c].join("")});SG.gb(null,Jw,function(a,b){return t.B(b)});SG.gb(null,ze,function(){return"\x3cindexed seq\x3e"});
SG.gb(null,Xi,function(){return"\x3cmap seq\x3e"});SG.gb(null,Dj,function(){return"\x3cmap seq\x3e"});SG.gb(null,Bg,function(){return"\x3ccons\x3e"});SG.gb(null,Hg,function(){return"\x3clazy seq\x3e"});SG.gb(null,os,function(){return"nil"});SG.gb(null,NA,function(a,b){return RG(a,b,"(",")")});SG.gb(null,xy,function(a,b){var c=M(b),d=r(a)?0:c;b=dh(V,Hh.j(d,b));return RG(a,b,"{",c>d?"...}":"}")});SG.gb(null,kp,function(a,b){return RG(a,b,"#{","}")});SG.gb(null,nx,function(a,b){return RG(a,b,"[","]")});
SG.gb(null,Xl,function(a,b){return dl.F(P([zc(b)]))});function YG(a,b,c){b=new q(null,2,[eq,ys,Or,b],null);a=QG(a)?R.F(b,Bt,NG(a),P([zm,LG(a),nr,MG(a)])):b;var d=Bt.B(a);b=zm.B(a);var e=nr.B(a);d=r(d)?[t.B(d)," "].join(""):null;b=r(b)?["[line ",t.B(b),", col ",t.B(e),"]"].join(""):null;c=gh(t,d,b,r(r(d)?d:b)?" ":null,c);throw bm(c,a);}function ZG(a,b){return YG(a,lq,P([dh(t,b)]))}function $G(a,b){return YG(a,Io,P([dh(t,b)]))}function aH(a,b){return YG(a,Ex,P([dh(t,b)]))}
function bH(a,b,c,d){ZG(a,P(["The map literal starting with ",SG.j(!1,J(d)),r(b)?[" on line ",t.B(b)," column ",t.B(c)].join(""):null," contains ",M(d)," form(s). Map literals must contain an even number of forms."]))}function cH(a,b,c){return ZG(a,P(["Invalid ",Gg(b),": ",c,"."]))}function dH(a,b,c){return ZG(a,P(["Invalid character: ",c," found while reading ",Gg(b),"."]))}
function eH(a,b){a:{var c=Sm instanceof D?Sm.na:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.B(c)].join(""));}}return aH(a,P(["Unexpected EOF reading ",Gg(Sm)," starting ",eh(t,c,b),"."]))}function fH(a,b){return $G(a,P(["Invalid digit ",b," in unicode character."]))}function gH(a){return ZG(a,P(["Octal escape sequence must be in range [0, 377]."]))}
function hH(a,b){b=function(c){return function f(e){return new Hg(null,function(){for(var h=e;;)if(h=H(h)){if(Ef(h)){var k=Xd(h),m=M(k),n=Lg(m);a:for(var p=0;;)if(p<m){var u=x(k,p),v=Q(u,0,null);1<Q(u,1,null)&&n.add(v);p+=1}else{k=!0;break a}return k?Ng(Pg(n),f(Yd(h))):Ng(Pg(n),null)}n=J(h);k=Q(n,0,null);if(1<Q(n,1,null))return df(k,f(Be(h)));h=Be(h)}else return null},null,null)}(Fk(c))}(b);return gh(t,a,1<M(b)?"s":null,": ",Ih(1,Qh.j(Mh(", "),b)))}
function iH(a,b,c){b=Gg(b);ZG(a,P([hH([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function jH(a){for(var b=a.Ad(null);;)if(EG.B?EG.B(b):EG.call(null,b))b=a.Ad(null);else return b}var kH=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,lH=/([-+]?[0-9]+)\/([0-9]+)/,mH=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function nH(a,b){a=Jk(a,b);return Q(a,0,null)===b}
function oH(a){if(nH(kH,a)){var b=Wf(Jk(kH,a));if(null!=(b.B?b.B(2):b.call(null,2)))a=0;else{a="-"===(b.B?b.B(1):b.call(null,1));b=null!=(b.B?b.B(3):b.call(null,3))?new X(null,2,5,Z,[b.B?b.B(3):b.call(null,3),10],null):null!=(b.B?b.B(4):b.call(null,4))?new X(null,2,5,Z,[b.B?b.B(4):b.call(null,4),16],null):null!=(b.B?b.B(5):b.call(null,5))?new X(null,2,5,Z,[b.B?b.B(5):b.call(null,5),8],null):null!=(b.B?b.B(7):b.call(null,7))?new X(null,2,5,Z,[b.B?b.B(7):b.call(null,7),parseInt(b.B?b.B(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.B?b.B(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.B?b.B(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else nH(mH,a)?(b=Wf(Jk(mH,a)),a=null!=(b.B?b.B(4):b.call(null,4))?parseFloat(b.B?b.B(1):b.call(null,1)):parseFloat(a)):nH(lH,a)?(b=Wf(Jk(lH,a)),a=b.B?b.B(1):b.call(null,1),b=b.B?b.B(2):b.call(null,2),a=r(Jk(/^\+/,a))?wg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function pH(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?wg.C(a,0,b):null;if(null!=c){b+=1;if(b===M(a))return null;a=wg.j(a,b);return FG(Ye(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var qH=function qH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ze(c.slice(1),0,null):null;return qH.F(arguments[0],c)};qH.F=function(a){for(;;){var b=a.Ad(null);if("\n"===b||"\n"===b||null==b)break}return a};qH.Y=1;qH.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function rH(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new ze(f,0,null)}return b.call(this,c,e)}function b(c){return ZG(c,P(["Unreadable form"]))}a.Y=1;a.ba=function(c){var d=J(c);c=Be(c);return b(d,c)};a.F=b;return a}()};new ac;function sH(a){return"#"!==a?"'"!==a?":"!==a?tH.B?tH.B(a):tH.call(null,a):!1:!1:!1}function uH(a){return"@"===a||"`"===a||"~"===a}function vH(a,b,c,d){if(wc(c))return aH(a,P(["Unexpected EOF while reading start of ",Gg(b),"."]));if(r(r(d)?uH(c):d))return dH(a,b,c);d=new ac;for(KG(a,c);;){if(EG(c)||sH(c)||null==c)return t.B(d);if(uH(c))return dH(a,b,c);d.append(IG(a));c=JG(a)}}
function wH(a,b,c){b=IG(a);if(r(b)){var d=xH.B?xH.B(b):xH.call(null,b);if(r(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);KG(a,b);return zH.C?zH.C(a,b,c):zH.call(null,a,b,c)}return aH(a,P(["Unexpected EOF while reading dispatch character."]))}function FH(a,b){return ZG(a,P(["Unmatched delimiter ",b,"."]))}
function GH(a,b,c){b=1+b;if(M(a)!==b)throw $G(null,P(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=HG(Ye(a,d),c);if(-1===f)return c=Ye(a,d),$G(null,P(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function HH(a,b,c,d,e){for(var f=1,h=HG(b,c);;){if(-1===h)return fH(a,b);if(f!==d){var k=JG(a);var m=EG(k);m||(m=tH.B?tH.B(k):tH.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?$G(a,P(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=HG(k,c);IG(a);if(-1===m)return fH(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function IH(a){var b=IG(a);if(null!=b){b=sH(b)||uH(b)||EG(b)?t.B(b):vH(a,fw,b,!1);var c=b.length;if(1===c)return Ye(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=GH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=ZG(a,P(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return ZG(a,P(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=GH(b,c,8);return 255<(b|0)?gH(a):b}return ZG(a,P(["Unsupported character: ",b,"."]))}return aH(a,P(["Unexpected EOF while reading character."]))}function JH(a){return QG(a)?new X(null,2,5,Z,[LG(a),(MG(a)|0)-1|0],null):null}
function KH(a,b,c,d){var e=JH(c),f=Q(e,0,null);e=Q(e,1,null);b=null==b?null:pg(b);for(var h=Nd(mf);;){var k=jH(c);if(!r(k)){var m=a,n=f,p=e,u=M(h);aH(c,P(["Unexpected EOF while reading ",r(u)?["item ",t.B(u)," of "].join(""):null,Gg(m),r(n)?[", starting at line ",t.B(n)," and column ",t.B(p)].join(""):null,"."]))}if(F.j(b,null==k?null:pg(k)))return Pd(h);m=tH.B?tH.B(k):tH.call(null,k);r(m)?(k=m.C?m.C(c,k,d):m.call(null,c,k,d),h=k!==c?Vg.j(h,k):h):(KG(c,k),k=LH?LH(c,!0,null,d):MH.call(null,c,!0,null,
d),h=k!==c?Vg.j(h,k):h)}}function NH(a,b,c){a=KH(NA,")",a,c);return wf(a)?Ce:dh(Ag,a)}function OH(a,b,c){return KH(nx,"]",a,c)}function PH(a,b,c){var d=JH(a);b=Q(d,0,null);d=Q(d,1,null);c=KH(xy,"}",a,c);var e=M(c),f=Ck(2,c),h=pk(f);!qh(e)&&bH(a,b,d,c);F.j(M(h),M(f))||iH(a,xy,f);if(e<=2*bj)a=Sf(c),a=new q(null,a.length/2,a,null);else a:for(a=Sf(c),b=a.length,d=0,e=Nd(cj);;)if(d<b)c=d+2,e=Qd(e,a[d],a[d+1]),d=c;else{a=Pd(e);break a}return a}
function QH(a,b){for(var c=function(){var h=new ac;h.append(b);return h}(),d=IG(a);;){if(r(function(){var h=EG(d);if(h)return h;h=tH.B?tH.B(d):tH.call(null,d);return r(h)?h:null==d}())){var e=t.B(c);KG(a,d);var f=oH(e);return r(f)?f:ZG(a,P(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=IG(a);c=e;d=f}}
function RH(a){var b=IG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=IG(a),-1===parseInt(b|0,16)?ZG(a,P(["Invalid unicode escape: \\u",b,"."])):HH(a,b,16,4,!0);default:return FG(b)?(b=HH(a,b,8,3,!1),255<(b|0)?gH(a):b):ZG(a,P(["Unsupported escape character: \\",b,"."]))}}
function SH(a){for(var b=new ac,c=IG(a);;){var d=c;if(F.j(null,d))return eH(a,P(['"',b]));if(F.j("\\",d)){d=function(){var f=b;f.append(RH(a));return f}();var e=IG(a);b=d;c=e}else{if(F.j('"',d))return t.B(b);d=function(){var f=b;f.append(c);return f}();e=IG(a);b=d;c=e}}}
function TH(a,b){b=vH(a,Pw,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return wo;default:var c=pH(b);c=r(c)?ue.j(c.B?c.B(0):c.call(null,0),c.B?c.B(1):c.call(null,1)):null;return r(c)?c:cH(a,Pw,b)}else return null}
function UH(a){var b=IG(a);if(EG(b))return ZG(a,P(["A single colon is not a valid keyword."]));b=vH(a,dC,b,!0);var c=pH(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.B?c.B(0):c.call(null,0);c=c.B?c.B(1):c.call(null,1);return":"===Ye(b,0)?cH(a,dC,[":",t.B(b)].join("")):Fg.j(d,c)}return cH(a,dC,[":",t.B(b)].join(""))}
function VH(a,b,c){b=LH?LH(a,!0,null,c):MH.call(null,a,!0,null,c);b=b instanceof D?qf([b,!0]):b instanceof B?new q(null,1,[fv,b],null):"string"===typeof b?new q(null,1,[fv,b],null):b;Af(b)||ZG(a,P(["Metadata cannot be ",SG.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=LH?LH(a,!0,null,c):MH.call(null,a,!0,null,c);return null!=c&&(c.J&131072||l===c.Ke)?tf(c,hk.F(P([uf(c),b]))):ZG(a,P(["Metadata can not be applied to ",SG.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function WH(a,b,c){b=KH(kp,"}",a,c);c=pk(b);F.j(M(b),M(c))||iH(a,kp,b);return c}function XH(a){LH?LH(a,!0,null,!0):MH.call(null,a,!0,null,!0);return a}
function YH(a,b,c){b=IG(a);b=vH(a,Wu,b,!0);var d=null==b?null:pH(b);if(null==d)var e=null;else e=Q(d,0,null),d=Q(d,1,null),e=r(e)?null:d;return r(e)?"{"===jH(a)?(c=KH(Wu,"}",a,c),!qh(M(c))&&bH(a,null,null,c),b=GG(t.B(e),Ck(2,c)),c=Ck(2,Be(c)),F.j(M(pk(b)),M(b))||iH(a,Wu,b),sk(b,c)):ZG(a,P(["Namespaced map with namespace ",b," does not specify a map."])):ZG(a,P(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function ZH(a,b,c){b=LH?LH(a,!0,null,c):MH.call(null,a,!0,null,c);return F.j(TB,b)?Number.NaN:F.j(bs,b)?Number.NEGATIVE_INFINITY:F.j($z,b)?Number.POSITIVE_INFINITY:ZG(a,P([["Invalid token: ##",t.B(b)].join("")]))}function tH(a){switch(a){case '"':return SH;case ":":return UH;case ";":return qH;case "^":return VH;case "(":return NH;case ")":return FH;case "[":return OH;case "]":return FH;case "{":return PH;case "}":return FH;case "\\":return IH;case "#":return wH;default:return null}}
function xH(a){switch(a){case "^":return VH;case "{":return WH;case "\x3c":return rH();case "!":return qH;case "_":return XH;case ":":return YH;case "#":return ZH;default:return null}}
function zH(a,b,c){b=LH?LH(a,!0,null,c):MH.call(null,a,!0,null,c);var d=LH?LH(a,!0,null,c):MH.call(null,a,!0,null,c);b instanceof B||ZG(a,P(["Invalid reader tag: ",SG.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=C.j(ym.B(c),b);e=r(e)?e:W.B?W.B(b):W.call(null,b);if(r(e))return e.B?e.B(d):e.call(null,d);c=Xl.B(c);return r(c)?c.j?c.j(b,d):c.call(null,b,d):ZG(a,P(["No reader function for tag ",SG.j(!1,b),"."]))}
function MH(a){switch(arguments.length){case 1:return $H(W,arguments[0]);case 2:return $H(arguments[0],arguments[1]);case 4:return LH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function $H(a,b){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var c=C.j(a,Ex),d=!Lf(a,Ex);return LH(b,d,c,a)}
function LH(a,b,c,d){try{for(;;){var e=IG(a);if(!EG(e)){if(null==e){if(r(b)){b=a;var f=r(null)?aH(b,P(["EOF while reading, starting at line ",null,"."])):aH(b,P(["EOF while reading."]))}else f=c;return f}if(FG(e)||("+"===e||"-"===e)&&FG(a.ke(null)))return QH(a,e);var h=tH(e);if(r(h)){var k=h.C?h.C(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return TH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof am){b=f instanceof am?f.data:null;if(F.j(ys,eq.B(b)))throw f;a=hk.F(P([new q(null,1,
[eq,ys],null),b,QG(a)?new q(null,3,[zm,LG(a),UA,MG(a),Bt,NG(a)],null):null]));throw new am(f.message,a,f);}a=hk.F(P([new q(null,1,[eq,ys],null),QG(a)?new q(null,3,[zm,LG(a),UA,MG(a),Bt,NG(a)],null):null]));throw new am(f.message,a,f);}throw m;}}function aI(a,b){if(r(r(b)?ih.j(b,""):b)){b=new OG(b,M(b));a:{var c=Array(1);if(Hf(null))for(var d=0,e=H(null);;)if(e&&1>d)c[d]=J(e),d+=1,e=K(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=$H(a,new PG(b,c))}else a=null;return a};var bI=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return C.j(r(d)?b:a,c)}}(),cI=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function dI(a){a=parseInt(a,10);return wc(isNaN(a))?a:null}
function eI(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.B(d)," Failed:  ",t.B(a),"\x3c\x3d",t.B(b),"\x3c\x3d",t.B(c)].join(""));return b}
function fI(a){var b=Ik(cI,a);Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null),m=Q(b,7,null),n=Q(b,8,null),p=Q(b,9,null),u=Q(b,10,null);if(wc(b))throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));a=dI(c);b=function(){var I=dI(d);return r(I)?I:1}();c=function(){var I=dI(e);return r(I)?I:1}();var v=function(){var I=dI(f);return r(I)?I:0}(),y=function(){var I=dI(h);return r(I)?I:0}(),E=function(){var I=dI(k);return r(I)?I:0}(),G=function(){a:if(F.j(3,
M(m)))var I=m;else if(3<M(m))I=wg.C(m,0,3);else for(I=new ac(m);;)if(3>I.getLength())I=I.append("0");else{I=I.toString();break a}I=dI(I);return r(I)?I:0}();n=(F.j(n,"-")?-1:1)*(60*function(){var I=dI(p);return r(I)?I:0}()+function(){var I=dI(u);return r(I)?I:0}());return new X(null,8,5,Z,[a,eI(1,b,12,"timestamp month field must be in range 1..12"),eI(1,c,bI(b,0===rg(a,4)&&(0!==rg(a,100)||0===rg(a,400))),"timestamp day field must be in range 1..last day in month"),eI(0,v,23,"timestamp hour field must be in range 0..23"),
eI(0,y,59,"timestamp minute field must be in range 0..59"),eI(0,E,F.j(y,59)?60:59,"timestamp second field must be in range 0..60"),eI(0,G,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var gI=yh(null),hI=yh(hk.F(P([new q(null,4,[oz,function(a){if("string"===typeof a){var b=fI(a);if(r(b)){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null);b=Q(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Rt,function(a){if("string"===typeof a)return new Zl(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},Vt,function(a){if(Df(a))return Xh.j(Pi,a);throw Error("Queue literal expects a vector for its elements.");},Hx,function(a){if(Df(a)){var b=[];a=H(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);b.push(f);e+=1}else if(a=H(a))c=a,Ef(c)?(a=Xd(c),e=Yd(c),c=a,d=M(a),a=e):(a=J(c),b.push(a),a=K(c),c=null,d=0),e=0;else break;return b}if(Af(a)){b={};a=H(a);c=null;for(e=d=0;;)if(e<d){var h=c.xa(null,e);f=Q(h,0,null);h=Q(h,1,null);f=Gg(f);b[f]=h;e+=1}else if(a=H(a))Ef(a)?(d=Xd(a),a=Yd(a),c=d,d=M(d)):
(d=J(a),c=Q(d,0,null),d=Q(d,1,null),c=Gg(c),b[c]=d,a=K(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function iI(a,b){var c=eh(tk,a,b);return df(c,Wh(function(d){return c===d},b))}function jI(a,b){return M(a)<M(b)?w.C(lf,b,a):w.C(lf,a,b)}var kI=function kI(a){switch(arguments.length){case 1:return kI.B(arguments[0]);case 2:return kI.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return kI.F(arguments[0],arguments[1],c)}};kI.B=function(a){return a};
kI.j=function(a,b){for(;;)if(M(b)<M(a)){var c=a;a=b;b=c}else return w.C(function(d,e){return function(f,h){return Lf(e,h)?f:vf.j(f,h)}}(a,b),a,a)};kI.F=function(a,b,c){a=iI(function(d){return-M(d)},lf.F(c,b,P([a])));return w.C(kI,J(a),Be(a))};kI.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};kI.Y=2;
var lI=function lI(a){switch(arguments.length){case 1:return lI.B(arguments[0]);case 2:return lI.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return lI.F(arguments[0],arguments[1],c)}};lI.B=function(a){return a};lI.j=function(a,b){return M(a)<M(b)?w.C(function(c,d){return Lf(b,d)?vf.j(c,d):c},a,a):w.C(vf,a,b)};lI.F=function(a,b,c){return w.C(lI,a,lf.j(c,b))};
lI.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lI.Y=2;function mI(a,b){return M(a)<=M(b)&&oh(function(c){return Lf(b,c)},a)}function nI(a,b){return M(a)>=M(b)&&oh(function(c){return Lf(a,c)},b)};function oI(a){return w.C(function(b,c){b.push(c);return b},[],a)}function pI(a){return a instanceof Array};var qI=J(Vh(function(a){return 0!=(32&1<<a)},Bk.C(31,-1,-1)))+1,rI=(1<<qI)-1;function sI(a,b,c,d){for(var e=0,f=qg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function tI(a,b,c,d){for(var e=0,f=qg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function uI(a,b,c){var d=b.length,e=sI(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function vI(a,b,c){var d=b.length;a=sI(a,b,d-1,c);return a===d?-1:a}function wI(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function xI(a,b,c,d){return wI(a,0,a.length,b,c,d)}
function yI(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function zI(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function AI(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function BI(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function CI(a){if(null!=a&&null!=a.Xf)a=a.Xf(a);else{var b=CI[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=CI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INode.node-lim-key",a);}return a}function DI(a){if(null!=a&&null!=a.Yg)a=a.keys.length;else{var b=DI[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=DI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("INode.node-len",a);}return a}
function EI(a,b){if(null!=a&&null!=a.Zf)a=a.Zf(a,b);else{var c=EI[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=EI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("INode.node-merge",a);}return a}function FI(a,b){if(null!=a&&null!=a.$f)a=a.$f(a,b);else{var c=FI[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=FI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("INode.node-merge-n-split",a);}return a}
function GI(a,b,c){if(null!=a&&null!=a.Yf)a=a.Yf(a,b,c);else{var d=GI[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=GI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("INode.node-lookup",a);}return a}function HI(a,b,c){if(null!=a&&null!=a.Vf)a=a.Vf(a,b,c);else{var d=HI[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=HI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("INode.node-conj",a);}return a}
function II(a,b,c,d,e,f){if(null!=a&&null!=a.Wf)a=a.Wf(a,b,c,d,e,f);else{var h=II[ra(null==a?null:a)];if(null!=h)a=h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=II._,null!=h)a=h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Ac("INode.node-disj",a);}return a}
function JI(a,b,c,d){if(r(b))return[a];if(16<DI(a))return BI(c,a,d);if(r(r(c)?16>=DI(c):c))return AI(EI(c,a),d);if(r(r(d)?16>=DI(d):d))return AI(c,EI(a,d));if(r(r(c)?null==d||DI(c)<DI(d):c))return a=FI(c,a),BI(a[0],a[1],d);a=FI(a,d);return BI(c,a[0],a[1])}function KI(a,b){this.keys=a;this.hb=b}g=KI.prototype;g.Xf=function(){var a=this.keys;return a[a.length-1]};g.Yg=function(){return this.keys.length};g.Zf=function(a,b){return new KI(this.keys.concat(b.keys),this.hb.concat(b.hb))};
g.$f=function(a,b){a=yI(this.keys,b.keys);b=yI(this.hb,b.hb);return AI(new KI(a[0],b[0]),new KI(a[1],b[1]))};g.Yf=function(a,b,c){a=vI(b,this.keys,c);return-1===a?null:GI(this.hb[a],b,c)};g.Vf=function(a,b,c){a=sI(b,this.keys,this.keys.length-2,c);c=HI(this.hb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(CI);b=zI(b,d,a,e,f,f.length)?d:xI(d,a,e,f);a=xI(this.hb,a,a+1,c);if(32>=a.length)return[new KI(b,a)];c=a.length>>>1;return[new KI(b.slice(0,c),a.slice(0,c)),new KI(b.slice(c),a.slice(c))]}return null};
g.Wf=function(a,b,c,d,e,f){var h=vI(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.hb[h-1]:null;var k=h+1<this.hb.length?this.hb[h+1]:null;c=II(this.hb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(CI);b=zI(b,k,a,h,m,m.length)?k:xI(k,a,h,m);c=xI(this.hb,a,h,c);return JI(new KI(b,c),d,e,f)}return null};function LI(a){this.keys=a}g=LI.prototype;g.Xf=function(){var a=this.keys;return a[a.length-1]};g.Yg=function(){return this.keys.length};g.Zf=function(a,b){return new LI(this.keys.concat(b.keys))};
g.$f=function(a,b){a=yI(this.keys,b.keys);return AI(new LI(a[0]),new LI(a[1]))};g.Yf=function(a,b,c){a=uI(b,this.keys,c);return-1===a?null:this.keys[a]};g.Vf=function(a,b,c){a=sI(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new LI(this.keys.slice(0,b)),new LI(wI(this.keys,b,d,a,a,[c]))]:[new LI(wI(this.keys,0,b,a,a,[c])),new LI(this.keys.slice(b,d))]):[new LI(xI(this.keys,a,a,[c]))]};
g.Wf=function(a,b,c,d,e,f){a=uI(b,this.keys,c);if(-1===a)return null;a=xI(this.keys,a,a+1,[]);return JI(new LI(a),d,e,f)};function MI(a,b,c,d,e,f){this.root=a;this.shift=b;this.aa=c;this.jc=d;this.meta=e;this._hash=f;this.J=2297303311;this.T=8332}g=MI.prototype;g.toString=function(){return ie(this)};g.ma=function(a,b){return GI(this.root,this.jc,b)};g.R=function(a,b,c){a=GI(this.root,this.jc,b);return r(a)?a:c};g.ga=function(a,b,c){return Ok(b,Wk,"#{"," ","}",c,H(this))};g.ea=function(){return this.meta};
g.ja=function(){return this.aa};g.qc=function(){return Dd(NI.B?NI.B(this):NI.call(null,this))};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Ie(this)};g.ca=function(a,b){var c=this;return yf(b)&&this.aa===M(b)&&oh(function(d){return Lf(c,d)},b)};g.od=function(){return this};g.Ja=function(){return new MI(new LI([]),0,0,this.jc,this.meta,null)};g.zf=function(a,b){return OI.C?OI.C(this,b,this.jc):OI.call(null,this,b,this.jc)};
g.Sa=function(a,b){a=NI.B?NI.B(this):NI.call(null,this);return r(a)?rd(a,b):b.O?b.O():b.call(null)};g.Ta=function(a,b,c){a=NI.B?NI.B(this):NI.call(null,this);return r(a)?rd(a,b,c):c};g.pd=function(a,b){return PI.C?PI.C(this,b,this.jc):PI.call(null,this,b,this.jc)};g.zd=function(){return this};g.ha=function(){return NI.B?NI.B(this):NI.call(null,this)};g.fa=function(a,b){return new MI(this.root,this.shift,this.aa,this.jc,b,this._hash)};
g.la=function(a,b){return PI.C?PI.C(this,b,this.jc):PI.call(null,this,b,this.jc)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};
function QI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.hb[rI&b>>>c],c-=qI;else return a.keys}function RI(a,b,c,d){return new MI(b,c,d,a.jc,a.meta,null)}var SI=function SI(a,b,c){var e=rI&b>>>c;if(0<c){var f=a.hb[e],h=c-qI;b=SI.C?SI.C(f,b,h):SI.call(null,f,b,h);return-1===b?e+1<a.hb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function TI(a,b){return SI(a.root,b,a.shift)}
function UI(a,b){for(var c=0;;)if(0<b)c|=a.hb.length-1<<b,b-=qI,a=a.hb,a=a[a.length-1];else return c|a.keys.length-1<<0}var VI=function VI(a,b,c){var e=rI&b>>>c;if(0<c){var f=c-qI,h=a.hb[e];b=VI.C?VI.C(h,b,f):VI.call(null,h,b,f);return-1===b?0<=e-1?(--e,UI(a.hb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function WI(a,b){return VI(a.root,b,a.shift)}function NI(a){if(0<DI(a.root)){var b=UI(a.root,a.shift)+1;return XI.C?XI.C(a,0,b):XI.call(null,a,0,b)}return null}
function YI(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.T=0}g=YI.prototype;g.ja=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.Zd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Kg(this.K,this.off+1,this.end)};g.Sa=function(a,b){return this.off===this.end?b.O?b.O():b.call(null):rd(this.Zd(null),b,this.K[this.off])};
g.Ta=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.j?b.j(c,d):b.call(null,c,d);if(Ne(c))return z(c);a+=1}else return c};function ZI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.T=1536}g=ZI.prototype;g.toString=function(){return ie(this)};g.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,H(this))};
g.Ma=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new ZI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=TI(this.set,this.left);return ih.j(-1,a)&&a<this.right?this.bf(a,this.right):null}return null};g.qc=function(){if(r(this.keys)){var a=this.set,b=WI(this.set,this.left),c=WI(this.set,this.right);return $I.C?$I.C(a,b,c):$I.call(null,a,b,c)}return null};g.ca=function(a,b){return cf(this,b)};
g.Sa=function(a,b){if(null==this.keys)return b.O?b.O():b.call(null);a=this.Ua(null);var c=this.Ma(null);return null==c?a:rd(c,b,a)};g.Ta=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(Ne(c))return z(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=TI(this.set,a),-1!==a&&a<this.right)d=QI(this.set,a),e=rI&a>>>0;else return c}};g.Ua=function(){return r(this.keys)?this.keys[this.idx]:null};
g.bb=function(){var a=this.Ma(null);return r(a)?a:Ce};g.ha=function(){return r(this.keys)?this:null};g.ae=function(){var a=F.j(this.left|rI,this.right|rI)?this.right&rI:this.keys.length;return new YI(this.keys,this.idx,a)};g.yd=function(){var a=this.$d();return r(a)?a:Ce};g.bf=function(a,b){return new ZI(this.set,a,b,QI(this.set,a),rI&a>>>0)};g.$d=function(){var a=TI(this.set,this.left+(this.keys.length-this.idx-1));return ih.j(-1,a)&&a<this.right?this.bf(a,this.right):null};
function XI(a,b,c){return new ZI(a,b,c,QI(a,b),rI&b>>>0)}function aJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.T=0}g=aJ.prototype;g.toString=function(){return ie(this)};g.ga=function(a,b,c){return Ok(b,Wk,"("," ",")",c,H(this))};
g.Ma=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new aJ(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=WI(this.set,this.right);return ih.j(-1,a)&&a>this.left?this.bf(this.left,a):null}return null};g.qc=function(){if(r(this.keys)){var a=-1===this.left?0:TI(this.set,this.left),b=TI(this.set,this.right);return XI(this.set,a,-1===b?this.right+1:b)}return null};g.ca=function(a,b){return cf(this,b)};
g.Ua=function(){return r(this.keys)?this.keys[this.idx]:null};g.bb=function(){var a=this.Ma(null);return r(a)?a:Ce};g.ha=function(){return r(this.keys)?this:null};g.bf=function(a,b){return new aJ(this.set,a,b,QI(this.set,b),rI&b>>>0)};function $I(a,b,c){return new aJ(a,b,c,QI(a,c),rI&c>>>0)}
function bJ(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=DI(e);if(0===h){var m=e.keys;m=sI(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=sI(d,m,k-2,b);f|=m<<h;h-=qI;e=e.hb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=DI(e);if(0===h){k=e.keys;m=tI(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=tI(d,k,m-2,c);f|=m<<h;h-=qI;e=e.hb[m]}return c>b?new ZI(a,b,c,QI(a,b),rI&b>>>0):null}
function cJ(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.B?a.B(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function dJ(a){var b=a.length,c=Nd(mf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Vg.j(c,a.slice(d));break}else 40<=e?(Vg.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,Vg.j(c,a.slice(d,d+e)),d+=e)}return Sf(Pd(c))}function PI(a,b,c){b=HI(a.root,c,b);return null==b?a:1===b.length?RI(a,b[0],a.shift,a.aa+1):RI(a,new KI(b.map(CI),b),a.shift+qI,a.aa+1)}
function OI(a,b,c){b=II(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof KI&&1===b.hb.length?RI(a,b.hb[0],a.shift-qI,a.aa-1):RI(a,b,a.shift,a.aa-1)}function eJ(a,b,c){return bJ(a,b,c,a.jc)}function fJ(a){var b=gJ.P(536870911,null,null,2147483647),c=gJ.P(0,null,null,536870912);a=bJ(a,c,b,a.jc);return null==a?null:Dd(a)}
function hJ(a,b){for(var c=cJ(function(h){return new LI(h)},dJ(b)),d=c,e=0;;){var f=M(d);switch(f){case 0:return new MI(new LI([]),0,0,a,null,null);case 1:return new MI(J(d),e,b.length,a,null,null);default:d=cJ(function(){return function(h){return new KI(h.map(CI),h)}}(d,e,f,c),dJ(d)),e+=qI}}}function iJ(a){return new MI(new LI([]),0,0,a,null,null)};var jJ=Error;function kJ(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.J&8388608||l===a.yf?!0:a.J?!1:yc(xd,a):yc(xd,a))?b:uc(a)||"string"===typeof a),b=b||pI(a);return b}var lJ=vh(lf,mf),mJ=vh(lf,ok);function nJ(a,b,c){return J(w.C(function(d,e){var f=Q(d,0,null);d=Q(d,1,null);e=a.C?a.C(f,e,d):a.call(null,f,e,d);return Ne(e)?Me(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function oJ(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function pJ(a){if(null!=a&&null!=a.Ka)a=a.Ka(a);else{var b=pJ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=pJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDatom.datom-tx",a);}return a}function qJ(a){if(null!=a&&null!=a.ac)a=a.ac(a);else{var b=qJ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=qJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDatom.datom-added",a);}return a}
function rJ(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.kf=d;this._hash=e;this.J=2162164496;this.T=0}g=rJ.prototype;g.Ka=function(){return 0<this.kf?this.kf:-this.kf};g.ac=function(){return 0<this.kf};g.ia=function(){return 0===this._hash?this._hash=sJ.B?sJ.B(this):sJ.call(null,this):this._hash};g.ca=function(a,b){return b instanceof rJ?tJ.j?tJ.j(this,b):tJ.call(null,this,b):!1};g.ha=function(){return uJ.B?uJ.B(this):uJ.call(null,this)};
g.ma=function(a,b){return vJ.C?vJ.C(this,b,null):vJ.call(null,this,b,null)};g.R=function(a,b,c){return vJ.C?vJ.C(this,b,c):vJ.call(null,this,b,c)};g.xa=function(a,b){return wJ?wJ(this,b):xJ.call(null,this,b)};g.Ra=function(a,b,c){return yJ?yJ(this,b,c):xJ.call(null,this,b,c)};g.da=function(a,b,c){return zJ.C?zJ.C(this,b,c):zJ.call(null,this,b,c)};g.ga=function(a,b,c){return Ok(b,Wk,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ka(null),this.ac(null)],null))};
na("datascript.db.Datom",rJ);var gJ=function gJ(a){switch(arguments.length){case 3:return gJ.C(arguments[0],arguments[1],arguments[2]);case 4:return gJ.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return gJ.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};gJ.C=function(a,b,c){return new rJ(a,b,c,536870912,0)};gJ.P=function(a,b,c,d){return new rJ(a,b,c,d,0)};
gJ.ka=function(a,b,c,d,e){return new rJ(a,b,c,r(e)?d:-d,0)};gJ.Y=5;function AJ(a){return a instanceof rJ}function sJ(a){return oJ(oJ(qe(a.e),qe(a.a)),qe(a.v))}function tJ(a,b){return a.e===b.e&&F.j(a.a,b.a)&&F.j(a.v,b.v)}function uJ(a){return new nf(null,a.e,new nf(null,a.a,new nf(null,a.v,new nf(null,a.Ka(null),new nf(null,a.ac(null),null,1,null),2,null),3,null),4,null),5,null)}
function vJ(a,b,c){return F.j(Gw,b)?a.v:F.j("e",b)?a.e:F.j(py,b)?a.ac(null):F.j("v",b)?a.v:F.j(vw,b)?a.e:F.j("a",b)?a.a:F.j($o,b)?a.Ka(null):F.j("added",b)?a.ac(null):F.j("tx",b)?a.Ka(null):F.j(zw,b)?a.a:c}function xJ(a){switch(arguments.length){case 2:return wJ(arguments[0],arguments[1]);case 3:return yJ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function wJ(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ka(null);case 4:return a.ac(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.B(b)].join(""));}}function yJ(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ka(null);case 4:return a.ac(null);default:return c}}
function zJ(a,b,c){switch(b instanceof D?b.na:null){case "e":return gJ.ka(c,a.a,a.v,a.Ka(null),a.ac(null));case "a":return gJ.ka(a.e,c,a.v,a.Ka(null),a.ac(null));case "v":return gJ.ka(a.e,a.a,c,a.Ka(null),a.ac(null));case "tx":return gJ.ka(a.e,a.a,a.v,c,a.ac(null));case "added":return gJ.ka(a.e,a.a,a.v,a.Ka(null),c);default:throw new jJ(["invalid key for #datascript/Datom: ",t.B(b)].join(""));}}function BJ(a,b){return null==a?0:null==b?0:Of(a,b)}function CJ(a,b){return Ya(Bc(zc(a)),Bc(zc(b)))}
function DJ(a,b){try{return F.j(a,b)?0:(null!=a?a.T&2048||l===a.Xc||(a.T?0:yc(Ud,a)):yc(Ud,a))?Vd(a,b):zc(a)===zc(b)?"string"===typeof a||uc(a)||!0===a||!1===a?Ya(a,b):qe(a)-qe(b):CJ(a,b)}catch(d){if(d instanceof Error){var c=d;if(zc(a)===zc(b))throw c;return CJ(a,b)}throw d;}}function EJ(a,b){return null==a?0:null==b?0:DJ(a,b)}function FJ(a,b){var c=a.e-b.e;return 0===c?(c=BJ(a.a,b.a),0===c?(c=EJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}
function GJ(a,b){var c=BJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=EJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function HJ(a,b){var c=BJ(a.a,b.a);return 0===c?(c=EJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function IJ(a,b){return a instanceof D?Vd(a,b):Ya(a,b)}function JJ(a,b){var c=a.e-b.e;return 0===c?(c=IJ(a.a,b.a),0===c?(c=DJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}
function KJ(a,b){var c=IJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=DJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function LJ(a,b){var c=IJ(a.a,b.a);return 0===c?(c=DJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function MJ(){}
function NJ(a,b){if(null!=a&&null!=a.Qg)a=a.Qg(a,b);else{var c=NJ[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=NJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ISearch.-search",a);}return a}function OJ(a,b){return J(NJ(a,b))}
function PJ(a,b,c){if(null!=a&&null!=a.Pg)a=a.Pg(a,b,c);else{var d=PJ[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=PJ._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IIndexAccess.-datoms",a);}return a}function QJ(){}function RJ(a){if(null!=a&&null!=a.ji)a=a.sb;else{var b=RJ[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=RJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDB.-schema",a);}return a}
function SJ(a,b){if(null!=a&&null!=a.Og)a=a.Og(a,b);else{var c=SJ[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=SJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IDB.-attrs-by",a);}return a}function TJ(a,b,c,d,e,f,h,k,m,n,p){this.sb=a;this.mb=b;this.Qb=c;this.Rb=d;this.Xb=e;this.Yb=f;this.Vb=h;this.hash=k;this.G=m;this.D=n;this.I=p;this.J=2230716170;this.T=139264}g=TJ.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "schema":return this.sb;case "eavt":return this.mb;case "aevt":return this.Qb;case "avet":return this.Rb;case "max-eid":return this.Xb;case "max-tx":return this.Yb;case "rschema":return this.Vb;case "hash":return this.hash;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.j(new X(null,8,5,Z,[new X(null,2,5,Z,[Ur,this.sb],null),new X(null,2,5,Z,[dv,this.mb],null),new X(null,2,5,Z,[Xx,this.Qb],null),new X(null,2,5,Z,[Tm,this.Rb],null),new X(null,2,5,Z,[Qx,this.Xb],null),new X(null,2,5,Z,[uz,this.Yb],null),new X(null,2,5,Z,[Dt,this.Vb],null),new X(null,2,5,Z,[CA,this.hash],null)],null),this.D))};
g.oa=function(){return new Ti(this,8,new X(null,8,5,Z,[Ur,dv,Xx,Tm,Qx,uz,Dt,CA],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 8+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1515640948^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.sb,b.sb)&&F.j(this.mb,b.mb)&&F.j(this.Qb,b.Qb)&&F.j(this.Rb,b.Rb)&&F.j(this.Xb,b.Xb)&&F.j(this.Yb,b.Yb)&&F.j(this.Vb,b.Vb)&&F.j(this.hash,b.hash)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,8,[Ur,null,uz,null,CA,null,Xx,null,Tm,null,Qx,null,dv,null,Dt,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new TJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ur,b):T.call(null,Ur,b))?new TJ(c,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(dv,b):T.call(null,dv,b))?new TJ(this.sb,c,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(Xx,b):T.call(null,Xx,b))?new TJ(this.sb,this.mb,c,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(Tm,b):T.call(null,Tm,b))?new TJ(this.sb,this.mb,this.Qb,c,this.Xb,this.Yb,this.Vb,this.hash,this.G,
this.D,null):r(T.j?T.j(Qx,b):T.call(null,Qx,b))?new TJ(this.sb,this.mb,this.Qb,this.Rb,c,this.Yb,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(uz,b):T.call(null,uz,b))?new TJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,c,this.Vb,this.hash,this.G,this.D,null):r(T.j?T.j(Dt,b):T.call(null,Dt,b))?new TJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,c,this.hash,this.G,this.D,null):r(T.j?T.j(CA,b):T.call(null,CA,b))?new TJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,c,this.G,this.D,null):new TJ(this.sb,
this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,8,5,Z,[new Y(Ur,this.sb),new Y(dv,this.mb),new Y(Xx,this.Qb),new Y(Tm,this.Rb),new Y(Qx,this.Xb),new Y(uz,this.Yb),new Y(Dt,this.Vb),new Y(CA,this.hash)],null),this.D))};g.fa=function(a,b){return new TJ(this.sb,this.mb,this.Qb,this.Rb,this.Xb,this.Yb,this.Vb,this.hash,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function UJ(a){var b=S.F(a,Ur,P([dv,Xx,Tm,Qx,uz,Dt,CA]));b=Bf(a)?Xh.j(W,b):b;return new TJ(Ur.B(a),dv.B(a),Xx.B(a),Tm.B(a),Qx.B(a),uz.B(a),Dt.B(a),CA.B(a),null,jh(b),null)}g.Ia=l;g.ga=function(a,b,c){return VJ.C?VJ.C(this,b,c):VJ.call(null,this,b,c)};g.Eg=l;g.ja=function(){return M(this.mb)};g.Zh=l;g.qc=function(){return Dd(this.mb)};g.Wh=l;g.ia=function(){return WJ.B?WJ.B(this):WJ.call(null,this)};g.ca=function(a,b){return XJ.j?XJ.j(this,b):XJ.call(null,this,b)};g.Gg=l;
g.od=function(){return ei.C(ei.C(ei.C(this,dv,Tg),Xx,Tg),Tm,Tg)};g.Hg=l;g.Ja=function(){var a=this.sb;a=YJ?YJ(a):ZJ.call(null,a);return tf(a,uf(this))};g.pd=function(){throw bm("datascript.DB/conj! is not supported",W);};g.zd=function(){return ei.C(ei.C(ei.C(this,dv,Ug),Xx,Ug),Tm,Ug)};g.yf=l;g.ha=function(){return yd(this.mb)};
g.Pg=function(a,b,c){if(F.j(b,Tm)&&(a=J(c),null!=a&&!r($J.j?$J.j(this,a):$J.call(null,this,a))))throw bm(["Attribute ",dl.F(P([a]))," should be marked as :db/index true"].join(""),new q(null,3,[up,Tx,Yy,Tm,gm,c],null));return eJ(C.j(this,b),aK.ka?aK.ka(this,b,c,0,536870912):aK.call(null,this,b,c,0,536870912),aK.ka?aK.ka(this,b,c,2147483647,2147483647):aK.call(null,this,b,c,2147483647,2147483647))};g.Ng=l;g.ji=function(){return this.sb};g.Og=function(a,b){a=this.Vb;return a.B?a.B(b):a.call(null,b)};
g.ki=l;
g.Qg=function(a,b){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null);b=this.mb;var f=this.Qb,h=this.Rb;Lf(SJ(this,hB),c);return r(a)?r(c)?null!=d?r(e)?eJ(b,gJ.P(a,c,d,e),gJ.P(a,c,d,e)):eJ(b,gJ.P(a,c,d,536870912),gJ.P(a,c,d,2147483647)):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},eJ(b,gJ.P(a,c,null,536870912),gJ.P(a,c,null,2147483647))):eJ(b,gJ.P(a,c,null,536870912),gJ.P(a,c,null,2147483647)):null!=d?r(e)?Vh(function(k){return F.j(d,k.v)&&F.j(e,k.Ka(null))},eJ(b,gJ.P(a,null,null,536870912),
gJ.P(a,null,null,2147483647))):Vh(function(k){return F.j(d,k.v)},eJ(b,gJ.P(a,null,null,536870912),gJ.P(a,null,null,2147483647))):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},eJ(b,gJ.P(a,null,null,536870912),gJ.P(a,null,null,2147483647))):eJ(b,gJ.P(a,null,null,536870912),gJ.P(a,null,null,2147483647)):r(c)?null!=d?r(e)?r($J.j?$J.j(this,c):$J.call(null,this,c))?Vh(function(k){return F.j(e,k.Ka(null))},eJ(h,gJ.P(0,c,d,536870912),gJ.P(2147483647,c,d,2147483647))):Vh(function(k){return F.j(d,k.v)&&F.j(e,
k.Ka(null))},eJ(f,gJ.P(0,c,null,536870912),gJ.P(2147483647,c,null,2147483647))):r($J.j?$J.j(this,c):$J.call(null,this,c))?eJ(h,gJ.P(0,c,d,536870912),gJ.P(2147483647,c,d,2147483647)):Vh(function(k){return F.j(d,k.v)},eJ(f,gJ.P(0,c,null,536870912),gJ.P(2147483647,c,null,2147483647))):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},eJ(f,gJ.P(0,c,null,536870912),gJ.P(2147483647,c,null,2147483647))):eJ(f,gJ.P(0,c,null,536870912),gJ.P(2147483647,c,null,2147483647)):null!=d?r(e)?Vh(function(k){return F.j(d,
k.v)&&F.j(e,k.Ka(null))},b):Vh(function(k){return F.j(d,k.v)},b):r(e)?Vh(function(k){return F.j(e,k.Ka(null))},b):b};
function bK(a,b){switch(b instanceof D?b.na:null){case "db.unique/identity":return new X(null,3,5,Z,[Bm,bz,Ky],null);case "db.unique/value":return new X(null,3,5,Z,[Bm,Xr,Ky],null);case "db.cardinality/many":return new X(null,1,5,Z,[hB],null);case "db.type/ref":return new X(null,2,5,Z,[Ez,Ky],null);default:return F.j(Cm,a)&&!0===b?new X(null,1,5,Z,[Cm],null):F.j(Ky,a)&&!0===b?new X(null,1,5,Z,[Ky],null):F.j(Bo,a)?new X(null,2,5,Z,[Nm,Ky],null):mf}}
function cK(a,b){return w.C(function(c,d){return nJ(function(e,f,h){return ei.ka(e,f,R,d,h)},c,Bo.B(d.B?d.B(a):d.call(null,a)))},W,Nm.B(b))}function dK(a){var b=Zf(function(c,d,e){return Zf(function(f,h,k){return w.C(function(m,n){return ei.P(m,n,mJ,d)},f,bK(h,k))},c,e)},W,a);return R.C(b,Fs,cK(a,b))}function eK(a,b,c,d){if(null!=c&&!Lf(d,c))throw bm(["Bad attribute specification for ",dl.F(P([qf([a,qf([b,c])])])),", expected one of ",t.B(d)].join(""),new q(null,4,[up,Po,Wo,a,VA,b,Yw,c],null));}
function fK(a){for(var b=H(a),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null),k=Q(f,1,null),m=Cm.j(k,!1);eK(h,Cm,Cm.B(k),new mk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=m;return r(I)?ih.j(LA.B(k),Ez):I}()))throw bm(["Bad attribute specification for ",dl.F(P([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[up,Po,Wo,h,VA,Cm],null));eK(h,Bm,Bm.B(k),new mk(null,new q(null,2,[bz,null,Xr,null],null),null));eK(h,
LA,LA.B(k),new mk(null,new q(null,1,[Ez,null],null),null));eK(h,du,du.B(k),new mk(null,new q(null,2,[hB,null,ky,null],null),null));if(Lf(k,Bo)){f=new q(null,3,[up,Po,Wo,h,VA,Bo],null);if(F.j(hB,du.B(k)))throw bm([dl.F(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Bo.B(k);if(!zf(n))throw bm([dl.F(P([h]))," :db/tupleAttrs must be a sequential collection, got: ",dl.F(P([n]))].join(""),f);if(wf(n))throw bm([dl.F(P([h]))," :db/tupleAttrs cant be empty"].join(""),f);n=H(n);
for(var p=null,u=0,v=0;;)if(v<u){var y=p.xa(null,v),E=R.C(f,Yw,y);if(Lf(C.j(a,y),Bo))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",dl.F(P([y]))].join(""),E);if(F.j(hB,du.B(C.j(a,y))))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",dl.F(P([y]))].join(""),E);v+=1}else if(n=H(n)){if(Ef(n))u=Xd(n),n=Yd(n),p=u,u=M(u);else{p=J(n);u=R.C(f,Yw,p);if(Lf(C.j(a,p),Bo))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
dl.F(P([p]))].join(""),u);if(F.j(hB,du.B(C.j(a,p))))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",dl.F(P([p]))].join(""),u);n=K(n);p=null;u=0}v=0}else break}e+=1}else if(h=H(b)){b=h;if(Ef(b))c=Xd(b),b=Yd(b),h=c,d=M(c),c=h;else{c=J(b);h=Q(c,0,null);k=Q(c,1,null);var G=Cm.j(k,!1);eK(h,Cm,Cm.B(k),new mk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=G;return r(I)?ih.j(LA.B(k),Ez):I}()))throw bm(["Bad attribute specification for ",dl.F(P([h])),
": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[up,Po,Wo,h,VA,Cm],null));eK(h,Bm,Bm.B(k),new mk(null,new q(null,2,[bz,null,Xr,null],null),null));eK(h,LA,LA.B(k),new mk(null,new q(null,1,[Ez,null],null),null));eK(h,du,du.B(k),new mk(null,new q(null,2,[hB,null,ky,null],null),null));if(Lf(k,Bo)){c=new q(null,3,[up,Po,Wo,h,VA,Bo],null);if(F.j(hB,du.B(k)))throw bm([dl.F(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Bo.B(k);if(!zf(d))throw bm([dl.F(P([h])),
" :db/tupleAttrs must be a sequential collection, got: ",dl.F(P([d]))].join(""),c);if(wf(d))throw bm([dl.F(P([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=H(d);e=null;for(n=f=0;;)if(n<f){p=e.xa(null,n);u=R.C(c,Yw,p);if(Lf(C.j(a,p),Bo))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",dl.F(P([p]))].join(""),u);if(F.j(hB,du.B(C.j(a,p))))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",dl.F(P([p]))].join(""),u);n+=1}else if(d=
H(d)){if(Ef(d))f=Xd(d),d=Yd(d),e=f,f=M(f);else{e=J(d);f=R.C(c,Yw,e);if(Lf(C.j(a,e),Bo))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",dl.F(P([e]))].join(""),f);if(F.j(hB,du.B(C.j(a,e))))throw bm([dl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",dl.F(P([e]))].join(""),f);d=K(d);e=null;f=0}n=0}else break}b=K(b);c=null;d=0}e=0}else break}
function ZJ(a){switch(arguments.length){case 0:return YJ(null);case 1:return YJ(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function YJ(a){fK(a);return UJ(new q(null,8,[Ur,a,Dt,dK(hk.F(P([new q(null,1,[OA,new q(null,1,[Bm,bz],null)],null),a]))),dv,iJ(FJ),Xx,iJ(GJ),Tm,iJ(HJ),Qx,0,uz,536870912,CA,yh(0)],null))}function gK(a){a=vw.B(J(fJ(a)));return r(a)?a:0}
function hK(a,b){var c=J(Kh(AJ,a));if(null!=c)throw bm(["init-db expects list of Datoms, got ",dl.F(P([zc(c)]))].join(""),new q(null,1,[up,cA],null));fK(b);c=dK(hk.F(P([new q(null,1,[OA,new q(null,1,[Bm,bz],null)],null),b])));var d=Ky.B(c),e=pI(a)?a:oI(a);e.sort(JJ);var f=hJ(FJ,e);e.sort(KJ);e=hJ(GJ,e);a=Sf(Vh(function(m){return Lf(d,m.a)},a));a.sort(LJ);a=hJ(HJ,a);var h=gK(f),k=cg(Gh.B(function(m){return m.Ka(null)}),mg,536870912,f);return UJ(new q(null,8,[Ur,b,Dt,c,dv,f,Xx,e,Tm,a,Qx,h,uz,k,CA,yh(0)],
null))}function WJ(a){var b=z(a.hash);return 0===b?zh(a.hash,oJ(qe(a.sb),qe(a.mb))):b}function XJ(a,b){var c;if(c=(b instanceof TJ||!1)&&F.j(RJ(a),RJ(b)))a:for(a=PJ(a,dv,mf),c=PJ(b,dv,mf),b=H(a),a=H(c);;){if(null==b){c=null==a;break a}if(F.j(J(b),J(a)))b=K(b),a=K(a);else{c=!1;break a}}return c}
function VJ(a,b,c){A(b,"#datascript/DB {");A(b,":schema ");Wk(RJ(a),b,c);A(b,", :datoms ");Ok(b,function(d,e,f){return Ok(e,Wk,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,pJ(d)],null))},"["," ","]",c,PJ(a,dv,mf));return A(b,"}")}
function iK(a,b,c,d,e,f,h){if(r(c)){var k=new nf(null,Kn,new nf(null,Fv,new nf(null,b,new nf(null,c,new nf(null,d,new nf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);jK.j?jK.j(c,k):jK.call(null,c,k)}return gJ.P(function(){var m=kK.j?kK.j(a,b):kK.call(null,a,b);return r(m)?m:f}(),c,r(null!=d?lK.j?lK.j(a,c):lK.call(null,a,c):!1)?mK.j?mK.j(a,d):mK.call(null,a,d):d,function(){var m=kK.j?kK.j(a,e):kK.call(null,a,e);return r(m)?m:h}())}
function aK(a,b,c,d,e){var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);b=b instanceof D?b.na:null;switch(b){case "eavt":return iK(a,f,h,k,c,d,e);case "aevt":return iK(a,h,f,k,c,d,e);case "avet":return iK(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.B(b)].join(""));}}function nK(a,b,c,d,e,f,h,k){this.tc=a;this.sc=b;this.yc=c;this.wc=d;this.zc=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=nK.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "db-before":return this.tc;case "db-after":return this.sc;case "tx-data":return this.yc;case "tempids":return this.wc;case "tx-meta":return this.zc;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[eo,this.tc],null),new X(null,2,5,Z,[wu,this.sc],null),new X(null,2,5,Z,[Vr,this.yc],null),new X(null,2,5,Z,[gC,this.wc],null),new X(null,2,5,Z,[Do,this.zc],null)],null),this.D))};g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[eo,wu,Vr,gC,Do],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2022644885^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.tc,b.tc)&&F.j(this.sc,b.sc)&&F.j(this.yc,b.yc)&&F.j(this.wc,b.wc)&&F.j(this.zc,b.zc)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[gC,null,wu,null,eo,null,Vr,null,Do,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new nK(this.tc,this.sc,this.yc,this.wc,this.zc,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(eo,b):T.call(null,eo,b))?new nK(c,this.sc,this.yc,this.wc,this.zc,this.G,this.D,null):r(T.j?T.j(wu,b):T.call(null,wu,b))?new nK(this.tc,c,this.yc,this.wc,this.zc,this.G,this.D,null):r(T.j?T.j(Vr,b):T.call(null,Vr,b))?new nK(this.tc,this.sc,c,this.wc,this.zc,this.G,this.D,null):r(T.j?T.j(gC,b):T.call(null,gC,b))?new nK(this.tc,this.sc,this.yc,c,this.zc,this.G,this.D,null):r(T.j?T.j(Do,b):T.call(null,Do,b))?new nK(this.tc,this.sc,this.yc,this.wc,c,this.G,this.D,
null):new nK(this.tc,this.sc,this.yc,this.wc,this.zc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(eo,this.tc),new Y(wu,this.sc),new Y(Vr,this.yc),new Y(gC,this.wc),new Y(Do,this.zc)],null),this.D))};g.fa=function(a,b){return new nK(this.tc,this.sc,this.yc,this.wc,this.zc,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function oK(a,b,c){return Lf(SJ(a,c),b)}function lK(a,b){return oK(a,b,Ez)}
function $J(a,b){return oK(a,b,Ky)}
function pK(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw bm(["Highest supported entity id is ",dl.F(P([2147483647])),", got ",dl.F(P([b]))].join(""),new q(null,2,[up,Tt,Yw,b],null));return b}if(zf(b)){var c=b,d=Q(c,0,null);c=Q(c,1,null);if(ih.j(M(b),2))throw bm(["Lookup ref should contain 2 elements: ",dl.F(P([b]))].join(""),new q(null,2,[up,vz,Tt,b],null));if(oK(a,d,Bm))return null==c?null:vw.B(J(PJ(a,Tm,b)));throw bm(["Lookup ref attribute should be marked as :db/unique: ",dl.F(P([b]))].join(""),
new q(null,2,[up,Om,Tt,b],null));}if(uc(b))b=P(b);else{if(b instanceof D)return vw.B(J(PJ(a,Tm,new X(null,2,5,Z,[OA,b],null))));throw bm(["Expected number or lookup ref for entity id, got ",dl.F(P([b]))].join(""),new q(null,2,[up,rr,Tt,b],null));}}}function mK(a,b){a=pK(a,b);if(r(a))return a;throw bm(["Nothing found for entity id ",dl.F(P([b]))].join(""),new q(null,2,[up,tq,Tt,b],null));}function kK(a,b){return r(b)?mK(a,b):null}
function jK(a,b){if(a instanceof D||"string"===typeof a)return null;throw bm(["Bad entity attribute ",dl.F(P([a]))," at ",dl.F(P([b])),", expected keyword or string"].join(""),new q(null,3,[up,cn,Wo,a,Tz,b],null));}function qK(a,b){if(null==a)throw bm(["Cannot store nil as a value at ",dl.F(P([b]))].join(""),new q(null,3,[up,cn,Yw,a,Tz,b],null));return null}function rK(a){return ai(a,new X(null,2,5,Z,[eo,uz],null))+1}
function sK(a){return F.j(a,tm)||F.j(a,":db/current-tx")||F.j(a,"datomic.tx")||F.j(a,"datascript.tx")}function tK(a){return"number"===typeof a&&0>a||"string"===typeof a}function uK(a,b){return b>Qx.B(a)&&536870912>b?R.C(a,Qx,b):a}function vK(a,b,c){var d=sK(b)?ei.ka(a,gC,R,b,c):a;d=tK(b)?ei.ka(d,gC,R,b,c):d;if(b=!tK(b))a=wu.B(a),b=c>Qx.B(a)&&536870912>c;a=b?ei.ka(d,gC,R,c,c):d;return ei.P(a,wu,uK,c)}
function wK(a,b){var c=b.ac(null);c=r(c)?oK(a,b.a,Bm):c;if(r(c)&&(c=jh(PJ(a,Tm,new X(null,2,5,Z,[b.a,b.v],null))),null!=c))throw bm(["Cannot add ",dl.F(P([b]))," because of unique constraint: ",dl.F(P([c]))].join(""),new q(null,3,[up,gz,Wo,b.a,Cv,b],null));c=$J(a,b.a);if(r(b.ac(null)))return a=ei.ka(a,dv,PI,b,JJ),a=ei.ka(a,Xx,PI,b,KJ),c=c?ei.ka(a,Tm,PI,b,LJ):a,b=uK(c,b.e),R.C(b,CA,yh(0));b=OJ(a,new X(null,3,5,Z,[b.e,b.a,b.v],null));if(null==b)return a;a=ei.ka(a,dv,OI,b,JJ);a=ei.ka(a,Xx,OI,b,KJ);b=
c?ei.ka(a,Tm,OI,b,LJ):a;return R.C(b,CA,yh(0))}function xK(a,b,c,d,e){return Zf(function(f,h,k){var m=C.j(f,h);r(m)||(m=Gw.B(J(PJ(c,dv,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Wf(Nh(M(Bo.B(C.j(RJ(c),h))),null)));k=R.C(m,k,e);return R.C(f,h,k)},a,b)}function yK(a,b){var c=wu.B(a),d=zw.B(b);a=ei.P(R.C(a,wu,wK(c,b)),Vr,lf,b);if(oK(c,d,Fs)){var e=vw.B(b);b=r(qJ(b))?Gw.B(b):null;var f=C.j(dz.B(a),e);f=r(f)?f:W;d=C.j(SJ(c,Fs),d);c=xK(f,d,c,e,b);return ei.ka(a,dz,R,e,c)}return a}
function zK(a){if(a instanceof D)return F.j("_",Ye(Gg(a),0));if("string"===typeof a)return If(Ik(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw bm(["Bad attribute type: ",dl.F(P([a])),", expected keyword or string"].join(""),new q(null,2,[up,cn,Wo,a],null));}
function AK(a){if(a instanceof D)return zK(a)?Fg.j(Dg(a),wg.j(Gg(a),1)):Fg.j(Dg(a),["_",Gg(a)].join(""));if("string"===typeof a){var b=Ik(/(?:([^\/]+)\/)?([^\/]+)/,a);Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return F.j("_",Ye(b,0))?r(a)?[t.B(a),"/",wg.j(b,1)].join(""):wg.j(b,1):r(a)?[t.B(a),"/_",t.B(b)].join(""):["_",t.B(b)].join("")}throw bm(["Bad attribute type: ",dl.F(P([a])),", expected keyword or string"].join(""),new q(null,2,[up,cn,Wo,a],null));}
function BK(a,b){function c(f,h){return w.C(function(k,m){var n=d(f,m);return null==n?ei.P(k,0,lf,m):ei.ka(k,1,R,m,n)},new X(null,2,5,Z,[mf,W],null),h)}function d(f,h){return vw.B(J(PJ(a,Tm,new X(null,2,5,Z,[f,h],null))))}var e=jh(SJ(a,bz));return null==e?new X(null,2,5,Z,[b,null],null):Zf(function(f,h,k){var m=Q(f,0,null);f=Q(f,1,null);if(Lf(e,h)){if(oK(a,h,hB)&&(pI(k)||xf(k)&&!Af(k))){var n=c(h,k);k=Q(n,0,null);n=Q(n,1,null);return new X(null,2,5,Z,[wf(k)?m:R.C(m,h,k),wf(n)?f:R.C(f,h,n)],null)}n=
d(h,k);return null==n?new X(null,2,5,Z,[R.C(m,h,k),f],null):new X(null,2,5,Z,[m,R.C(f,h,qf([k,n]))],null)}return new X(null,2,5,Z,[R.C(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function CK(a,b){var c=Zf(function(h,k,m){return Zf(function(n,p,u){return R.C(n,u,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=M(c)){b=J(c);a=Q(b,0,null);var d=Q(b,1,null);b=Q(d,0,null);d=Q(d,1,null);var e=hf(c);c=Q(e,0,null);var f=Q(e,1,null);e=Q(f,0,null);f=Q(f,1,null);throw bm(["Conflicting upserts: ",dl.F(P([new X(null,2,5,Z,[b,d],null)]))," resolves to ",dl.F(P([a])),", but ",dl.F(P([new X(null,2,5,Z,[e,f],null)]))," resolves to ",dl.F(P([c]))].join(""),new q(null,3,[up,Rs,GB,new X(null,
3,5,Z,[a,b,d],null),Bv,new X(null,3,5,Z,[c,e,f],null)],null));}d=J(c);b=Q(d,0,null);c=Q(d,1,null);d=Q(c,0,null);c=Q(c,1,null);a=Uf.B(a);if(null!=b&&null!=a&&!tK(a)&&ih.j(b,a))throw bm(["Conflicting upsert: ",dl.F(P([new X(null,2,5,Z,[d,c],null)]))," resolves to ",dl.F(P([b])),", but entity already has :db/id ",dl.F(P([a]))].join(""),new q(null,3,[up,Rs,GB,new X(null,3,5,Z,[b,d,c],null),Bv,new q(null,1,[Uf,a],null)],null));return b}
function DK(a,b,c){return zK(b)||oK(a,b,hB)?pI(c)||xf(c)&&!Af(c)?F.j(M(c),2)&&oK(a,J(c),bz)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function EK(a,b){var c=Uf.B(b);return function f(e){return new Hg(null,function(){for(var h=e;;){var k=H(h);if(k){var m=k,n=J(m),p=Q(n,0,null),u=Q(n,1,null);if(ih.j(p,Uf)){var v=jK(p,qf([Uf,c,p,u])),y=zK(p),E=y?AK(p):p;if(y&&!lK(a,E))throw bm(["Bad attribute ",dl.F(P([p])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new q(null,3,[up,cn,Wo,p,Tz,qf([Uf,c,p,u])],null));if(k=H(function(G,I,N,O,U,ea,fa,qa,za,Sa,ka){return function va(ya){return new Hg(null,function(Ba,
eb,mc,zb,fc,Xb,Sd,eg,Cf,Wg,Zc){return function(){for(;;){var Ed=H(ya);if(Ed){if(Ef(Ed)){var xe=Xd(Ed),Uh=M(xe),Fd=Lg(Uh);a:for(var he=0;;)if(he<Uh){var Td=x(xe,he);Td=lK(a,zb)&&Af(Td)?R.C(Td,AK(Sd),Zc):mc?new X(null,4,5,Z,[YB,Td,zb,Zc],null):new X(null,4,5,Z,[YB,Zc,zb,Td],null);Fd.add(Td);he+=1}else{xe=!0;break a}return xe?Ng(Pg(Fd),va(Yd(Ed))):Ng(Pg(Fd),null)}Fd=J(Ed);return df(lK(a,zb)&&Af(Fd)?R.C(Fd,AK(Sd),Zc):mc?new X(null,4,5,Z,[YB,Fd,zb,Zc],null):new X(null,4,5,Z,[YB,Zc,zb,Fd],null),va(Be(Ed)))}return null}}}(G,
I,N,O,U,ea,fa,qa,za,Sa,ka),null,null)}}(h,v,y,E,null,n,p,u,m,k,c)(DK(a,p,u))))return V.j(k,f(Be(h)))}h=Be(h)}else return null}},null,null)}(b)}function FK(a,b){Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null);jK(d,b);qK(e,b);b=r(f)?f:rK(a);f=wu.B(a);c=mK(f,c);e=lK(f,d)?mK(f,e):e;var h=gJ.P(c,d,e,b);f=oK(f,d,hB)?OJ(f,new X(null,3,5,Z,[c,d,e],null)):OJ(f,new X(null,2,5,Z,[c,d],null));return null==f?yK(a,h):F.j(f.v,e)?ei.P(a,jt,lJ,h):yK(yK(a,gJ.ka(c,d,f.v,b,!1)),h)}
function GK(a,b){var c=rK(a);return yK(a,gJ.ka(b.e,b.a,b.v,c,!1))}function HK(a,b){return Xh.C(ok,th.j(Th(function(c){return oK(a,c.a,Cm)}),Gh.B(function(c){return new X(null,2,5,Z,[Rp,c.v],null)})),b)}function IK(a,b,c,d,e){if(Lf(gC.B(a),d))throw bm(["Conflicting upsert: ",dl.F(P([d]))," resolves both to ",dl.F(P([e]))," and ",dl.F(P([ai(a,new X(null,2,5,Z,[gC,d],null))]))].join(""),new q(null,1,[up,Rs],null));b=R.C(gC.B(b),d,e);a=R.C(a,gC,b);return JK.j?JK.j(a,c):JK.call(null,a,c)}
var KK=new mk(null,new q(null,8,[Tu,null,jv,null,Rp,null,us,null,Fr,null,Xs,null,Dn,null,YB,null],null),null);function LK(a){var b=wu.B(a);RJ(b);SJ(b,Fs);return Zf(function(c,d,e){return Zf(function(f,h,k){k=oh(tc,k)?null:k;var m=Gw.B(J(PJ(b,dv,new X(null,2,5,Z,[d,h],null))));return F.j(k,m)?f:null==k?lf.j(f,tf(new X(null,4,5,Z,[Fr,d,h,m],null),new q(null,1,[Ks,!0],null))):lf.j(f,tf(new X(null,4,5,Z,[YB,d,h,k],null),new q(null,1,[Ks,!0],null)))},c,e)},mf,dz.B(a))}
function MK(a){var b=Pm.B(a);b=w.C(function(c,d){return r(qJ(d))?S.j(c,vw.B(d)):c},b,V.j(Vr.B(a),jt.B(a)));if(wf(b))return S.F(a,Pm,P([jt]));throw bm(["Tempids used only as value in transaction: ",dl.F(P([Rf(Of,$i(b))]))].join(""),new q(null,2,[up,cn,gC,b],null));}
function JK(a,b){if(null!=b&&!zf(b))throw bm(["Bad transaction data ",dl.F(P([b])),", expected sequential collection"].join(""),new q(null,2,[up,cn,Vr,b],null));for(var c=!wf(SJ(wu.B(a),Nm)),d=c?Qh.j(b,Mh(Dm)):b,e=a,f=d;;){if(wf(f))return ei.ka(ei.ka(MK(e),gC,R,tm,rK(e)),wu,ei,uz,Ke);var h=f,k=H(h),m=J(k),n=K(k),p=m,u=n;if(null==p)f=u;else if(F.j(Dm,p))if(Lf(e,dz)){var v=S.j(e,dz);u=V.j(LK(e),u);e=v;f=u}else f=u;else{var y=wu.B(e),E=gC.B(e);if(Af(p)){var G=Uf.B(p);if(sK(G))v=rK(e),e=vK(e,G,v),f=u=
df(R.C(p,Uf,v),u);else if(zf(G))v=mK(y,G),f=u=df(R.C(p,Uf,v),u);else{var I=BK(y,p);v=Q(I,0,null);I=Q(I,1,null);var N=CK(v,I);if(null!=N){if(tK(G)&&Lf(E,G)&&ih.j(N,C.j(E,G)))return IK(a,e,b,G,N);e=vK(e,G,N);f=u=V.j(EK(y,R.C(v,Uf,N)),u)}else if("number"===typeof G||null==G||"string"===typeof G)v=null==G?Qx.B(y)+1:tK(G)?function(){var Xb=C.j(E,G);return r(Xb)?Xb:Qx.B(y)+1}():G,p=R.C(p,Uf,v),e=vK(e,G,v),f=u=V.j(EK(y,p),u);else throw bm(["Expected number, string or lookup ref for :db/id, got ",dl.F(P([G]))].join(""),
new q(null,2,[up,rr,yu,p],null));}}else if(zf(p)){var O=p;I=Q(O,0,null);var U=Q(O,1,null);v=Q(O,2,null);var ea=Q(O,3,null);if(F.j(I,Tu)){v=H(p);p=J(v);v=K(v);var fa=p;p=J(v);v=K(v);f=u=V.j(eh(p,y,v),u)}else if(I instanceof D&&wc(KK.B?KK.B(I):KK.call(null,I))){fa=pK(y,I);if(null==fa)throw bm(["Cant find entity for transaction fn ",dl.F(P([I]))].join(""),new q(null,3,[up,cn,hs,Tu,Vr,p],null));U=Gw.B(OJ(y,new X(null,2,5,Z,[fa,or],null)));v=K(p);if(rf(U))f=u=V.j(eh(U,y,v),u);else throw bm(["Entity ",
dl.F(P([I]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[up,cn,hs,Tu,Vr,p],null));}else{if(tK(U)&&ih.j(I,YB))throw bm(["Can't use tempid in '",dl.F(P([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[up,cn,to,p],null));if(F.j(I,Dn)||F.j(I,jv)){var qa=p;fa=Q(qa,0,null);var za=Q(qa,1,null),Sa=Q(qa,2,null),ka=Q(qa,3,null),oa=Q(qa,4,null),ya=mK(y,za),va=jK(Sa,p),Ba=lK(y,Sa)?mK(y,ka):ka,eb=lK(y,Sa)?mK(y,oa):oa,mc=qK(eb,p),zb=Wf(NJ(y,new X(null,2,5,Z,
[ya,Sa],null)));if(oK(y,Sa,hB))if(r(ph(function(Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Uh,Fd,he){return function(Td){return F.j(Td.v,he)}}(e,f,qa,fa,za,Sa,ka,oa,ya,va,Ba,eb,mc,zb,O,I,U,v,ea,y,E,h,k,m,n,p,u,a,c,d),zb)))e=FK(e,new X(null,4,5,Z,[YB,ya,Sa,eb],null)),f=u;else throw bm([":db.fn/cas failed on datom [",dl.F(P([ya]))," ",dl.F(P([Sa]))," ",dl.F(P([Gh.j(Gw,zb)])),"], expected ",dl.F(P([Ba]))].join(""),new q(null,4,[up,yn,kA,zb,fm,Ba,Dr,eb],null));else if(I=Gw.B(J(zb)),F.j(I,Ba))e=FK(e,new X(null,4,5,Z,[YB,
ya,Sa,eb],null)),f=u;else throw bm([":db.fn/cas failed on datom [",dl.F(P([ya]))," ",dl.F(P([Sa]))," ",dl.F(P([I])),"], expected ",dl.F(P([Ba]))].join(""),new q(null,4,[up,yn,kA,J(zb),fm,Ba,Dr,eb],null));}else if(sK(U))p=vK(e,U,rK(e)),u=df(new X(null,4,5,Z,[I,rK(e),v,ea],null),u),e=p,f=u;else if(lK(y,v)&&sK(ea))p=vK(e,ea,rK(e)),u=df(new X(null,4,5,Z,[I,U,v,rK(e)],null),u),e=p,f=u;else if(lK(y,v)&&tK(ea))fa=C.j(E,ea),null==fa?(p=Qx.B(y)+1,e=ei.ka(vK(e,ea,p),Pm,R,p,ea),f=u=f):(p=fa,e=ei.ka(e,Pm,R,p,
ea),f=u=df(new X(null,4,5,Z,[I,U,v,p],null),u));else if(tK(U)){N=oK(y,v,bz)?vw.B(J(PJ(y,Tm,new X(null,2,5,Z,[v,ea],null)))):null;var fc=C.j(E,U);if(r(function(){var Xb=N;return r(Xb)?(Xb=fc,r(Xb)?ih.j(N,fc):Xb):Xb}()))return IK(a,e,b,U,N);p=function(){var Xb=N;if(r(Xb))return Xb;Xb=fc;return r(Xb)?Xb:Qx.B(y)+1}();e=vK(e,U,p);f=u=df(new X(null,4,5,Z,[I,p,v,ea],null),u)}else{if(wc(Ks.B(uf(p)))&&oK(y,v,Nm))throw bm(["Cant modify tuple attrs directly: ",dl.F(P([p]))].join(""),new q(null,2,[up,cn,Vr,
p],null));if(F.j(I,YB))e=FK(e,p),f=u;else if(F.j(I,Fr)&&null!=ea)fa=pK(y,U),null==fa?f=u:(za=fa,I=lK(y,v)?mK(y,ea):ea,jK(v,p),qK(I,p),v=OJ(y,new X(null,3,5,Z,[za,v,I],null)),null==v?f=u:(e=GK(e,v),f=u));else if(F.j(I,Xs)||F.j(I,Fr))fa=pK(y,U),null==fa?f=u:(za=fa,fa=jK(v,p),zb=Wf(NJ(y,new X(null,2,5,Z,[za,v],null))),e=w.C(GK,e,zb),f=u=V.j(HK(y,zb),u));else if(F.j(I,Rp)||F.j(I,us))fa=pK(y,U),null==fa?f=u:(za=fa,zb=Wf(NJ(y,new X(null,1,5,Z,[za],null))),v=Wf(Sh(function(Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Uh,Fd,
he){return function(Td){return NJ(he,new X(null,3,5,Z,[null,Td,Cf],null))}}(e,f,zb,za,fa,O,I,U,v,ea,y,E,h,k,m,n,p,u,a,c,d),P([SJ(y,Ez)]))),e=w.C(GK,e,V.j(zb,v)),f=u=V.j(HK(y,zb),u));else throw bm(["Unknown operation at ",dl.F(P([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new q(null,3,[up,cn,hs,I,Vr,p],null));}}}else if(AJ(p))I=p,U=Q(I,0,null),v=Q(I,1,null),ea=Q(I,2,null),p=Q(I,3,null),I=Q(I,4,null),r(I)?(e=FK(e,new X(null,5,5,Z,[YB,U,v,ea,p],null)),f=u):f=u=df(new X(null,4,5,Z,[Fr,U,v,ea],null),u);else throw bm(["Bad entity type at ",dl.F(P([p])),", expected map or vector"].join(""),new q(null,2,[up,cn,Vr,p],null));}}};function NK(a,b,c,d,e){this.ld=a;this.pb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=NK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "wildcard?":return this.ld;case "attrs":return this.pb;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[Ro,this.ld],null),new X(null,2,5,Z,[It,this.pb],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[Ro,It],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=90253489^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.ld,b.ld)&&F.j(this.pb,b.pb)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[It,null,Ro,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new NK(this.ld,this.pb,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ro,b):T.call(null,Ro,b))?new NK(c,this.pb,this.G,this.D,null):r(T.j?T.j(It,b):T.call(null,It,b))?new NK(this.ld,c,this.G,this.D,null):new NK(this.ld,this.pb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(Ro,this.ld),new Y(It,this.pb)],null),this.D))};g.fa=function(a,b){return new NK(this.ld,this.pb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function OK(a){if(null!=a&&null!=a.bd)a=a.bd(a);else{var b=OK[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=OK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IPullSpecComponent.-as-spec",a);}return a}function PK(a,b,c,d){this.attr=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=PK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[cy,this.attr],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[cy],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-838771693^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[this.attr,new q(null,1,[cy,this.attr],null)],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[cy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new PK(this.attr,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(cy,b):T.call(null,cy,b))?new PK(c,this.G,this.D,null):new PK(this.attr,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(cy,this.attr)],null),this.D))};g.fa=function(a,b){return new PK(this.attr,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function QK(a,b,c,d,e){this.attr=a;this.Sc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=QK.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "rattr":return this.Sc;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[cy,this.attr],null),new X(null,2,5,Z,[My,this.Sc],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[cy,My],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=158820207^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.Sc,b.Sc)&&F.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[this.Sc,new q(null,1,[cy,this.attr],null)],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[My,null,cy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new QK(this.attr,this.Sc,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(cy,b):T.call(null,cy,b))?new QK(c,this.Sc,this.G,this.D,null):r(T.j?T.j(My,b):T.call(null,My,b))?new QK(this.attr,c,this.G,this.D,null):new QK(this.attr,this.Sc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(cy,this.attr),new Y(My,this.Sc)],null),this.D))};g.fa=function(a,b){return new QK(this.attr,this.Sc,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function RK(a,b,c,d,e){this.attr=a;this.limit=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=RK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "limit":return this.limit;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[cy,this.attr],null),new X(null,2,5,Z,[Jm,this.limit],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[cy,Jm],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=2109320956^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.limit,b.limit)&&F.j(this.D,b.D)};g.bd=function(){return ci(OK(this.attr),new X(null,2,5,Z,[1,Jm],null),this.limit)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Jm,null,cy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new RK(this.attr,this.limit,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(cy,b):T.call(null,cy,b))?new RK(c,this.limit,this.G,this.D,null):r(T.j?T.j(Jm,b):T.call(null,Jm,b))?new RK(this.attr,c,this.G,this.D,null):new RK(this.attr,this.limit,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(cy,this.attr),new Y(Jm,this.limit)],null),this.D))};g.fa=function(a,b){return new RK(this.attr,this.limit,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function SK(a,b,c,d,e){this.attr=a;this.value=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=SK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "value":return this.value;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[cy,this.attr],null),new X(null,2,5,Z,[Yw,this.value],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[cy,Yw],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1499761615^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.value,b.value)&&F.j(this.D,b.D)};g.bd=function(){return ci(OK(this.attr),new X(null,2,5,Z,[1,Xl],null),this.value)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Yw,null,cy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new SK(this.attr,this.value,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(cy,b):T.call(null,cy,b))?new SK(c,this.value,this.G,this.D,null):r(T.j?T.j(Yw,b):T.call(null,Yw,b))?new SK(this.attr,c,this.G,this.D,null):new SK(this.attr,this.value,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(cy,this.attr),new Y(Yw,this.value)],null),this.D))};g.fa=function(a,b){return new SK(this.attr,this.value,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function TK(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=TK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,V.j(mf,this.D))};
g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-163917799^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new TK(this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new TK(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};
g.fa=function(a,b){return new TK(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function UK(a,b,c,d){this.limit=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=UK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "limit":return this.limit;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Jm,this.limit],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Jm],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1552688154^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.limit,b.limit)&&F.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[As,this.limit],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Jm,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new UK(this.limit,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Jm,b):T.call(null,Jm,b))?new UK(c,this.G,this.D,null):new UK(this.limit,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Jm,this.limit)],null),this.D))};g.fa=function(a,b){return new UK(this.limit,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function VK(a,b,c,d,e){this.attr=a;this.Rc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=VK.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "porrl":return this.Rc;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[cy,this.attr],null),new X(null,2,5,Z,[aC,this.Rc],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[cy,aC],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=152088668^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.Rc,b.Rc)&&F.j(this.D,b.D)};g.bd=function(){return ei.P(OK(this.attr),1,lf,OK(this.Rc))};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[aC,null,cy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new VK(this.attr,this.Rc,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(cy,b):T.call(null,cy,b))?new VK(c,this.Rc,this.G,this.D,null):r(T.j?T.j(aC,b):T.call(null,aC,b))?new VK(this.attr,c,this.G,this.D,null):new VK(this.attr,this.Rc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(cy,this.attr),new Y(aC,this.Rc)],null),this.D))};g.fa=function(a,b){return new VK(this.attr,this.Rc,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function WK(a,b,c,d,e){this.attr=a;this.Zb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=WK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attr":return this.attr;case "opts":return this.Zb;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[cy,this.attr],null),new X(null,2,5,Z,[Vn,this.Zb],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[cy,Vn],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-429987476^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.attr,b.attr)&&F.j(this.Zb,b.Zb)&&F.j(this.D,b.D)};g.bd=function(){return ei.P(OK(this.attr),1,hk,this.Zb)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Vn,null,cy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new WK(this.attr,this.Zb,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(cy,b):T.call(null,cy,b))?new WK(c,this.Zb,this.G,this.D,null):r(T.j?T.j(Vn,b):T.call(null,Vn,b))?new WK(this.attr,c,this.G,this.D,null):new WK(this.attr,this.Zb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(cy,this.attr),new Y(Vn,this.Zb)],null),this.D))};g.fa=function(a,b){return new WK(this.attr,this.Zb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function XK(a,b){return b instanceof TK?R.C(a,Ro,!0):ei.P(a,It,Vg,OK(b))}function YK(a,b,c,d){this.hd=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=YK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "specs":return this.hd;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Ru,this.hd],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Ru],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-795554044^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.hd,b.hd)&&F.j(this.D,b.D)};g.bd=function(){var a=new NK(!1,Nd(W),null,null,null);a=w.C(XK,a,this.hd);return new X(null,2,5,Z,[Fq,ei.C(a,It,Ug)],null)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Ru,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new YK(this.hd,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ru,b):T.call(null,Ru,b))?new YK(c,this.G,this.D,null):new YK(this.hd,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Ru,this.hd)],null),this.D))};g.fa=function(a,b){return new YK(this.hd,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};var ZK=new mk(null,new q(null,3,[rs,null,"*",null,Bx,null],null),null);
function $K(a){return a instanceof D||"string"===typeof a?zK(a)?new QK(AK(a),a,null,null,null):new PK(a,null,null,null):null}var aL=new mk(null,new q(null,2,["...",null,Zu,null],null),null);function bL(a){return zf(a)&&F.j(3,M(a))}var cL=new mk(null,new q(null,3,[Pp,null,Jm,null,"limit",null],null),null);
function dL(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);if(r(cL.B?cL.B(b):cL.call(null,b))){b=null==d||"number"===typeof d&&0<d?$K(c):!1;if(r(b))return new RK(b,d,null,null,null);throw bm('Expected ["limit" attr-name (positive-number | nil)]',new q(null,2,[up,Dy,vt,a],null));}return null}var eL=new mk(null,new q(null,3,[Xo,null,Xl,null,"default",null],null),null);
function fL(a){if(zf(a)){a=H(a);var b=J(a);a=K(a);b=$K(b);if(null==b)a=null;else{var c;if(c=qh(M(a)))c=oh(new mk(null,new q(null,3,[Jm,null,Xl,null,xz,null],null),null),Gh.j(J,$h(2,2,a)));a=c?new WK(b,dh(ek,a),null,null,null):null}return a}return null}
function gL(a){var b=Q(a,0,null),c=Q(a,1,null);a=function(){var e=$K(b);if(r(e))return e;e=fL(b);return r(e)?e:bL(b)?dL(b):null}();if(r(a)){var d=function(){var e=r(aL.B?aL.B(c):aL.call(null,c))?new UK(null,null,null,null):"number"===typeof c&&0<c?new UK(c,null,null,null):null;return r(e)?e:hL.B?hL.B(c):hL.call(null,c)}();if(r(d))return new VK(a,d,null,null,null);throw bm("Expected (pattern | recursion-limit)",new q(null,2,[up,Dy,vt,new X(null,2,5,Z,[b,c],null)],null));}throw bm("Expected (attr-name | limit-expr)",
new q(null,2,[up,Dy,vt,new X(null,2,5,Z,[b,c],null)],null));}
function iL(a){var b=$K(a);if(r(b))return b;b=r(ZK.B?ZK.B(a):ZK.call(null,a))?new TK(null,null,null):null;if(r(b))return b;b=Af(a)?gL(J(a)):null;if(r(b))return b;b=fL(a);if(r(b))return b;if(bL(a)){if(b=dL(a),!r(b))b:{var c=Q(a,0,null),d=Q(a,1,null);b=Q(a,2,null);if(r(eL.B?eL.B(c):eL.call(null,c))){c=$K(d);if(r(c)){b=new SK(c,b,null,null,null);break b}throw bm('Expected ["default" attr-name any-value]',new q(null,2,[up,Dy,vt,a],null));}b=null}}else b=null;if(r(b))return b;throw bm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new q(null,2,[up,Dy,vt,a],null));}function jL(a){return Af(a)?xy:r(ZK.B?ZK.B(a):ZK.call(null,a))?Ut:kv}function kL(a){return Xh.C(mf,Gh.B(function(b){return lf.j(W,b)}),a)}function lL(a){a=Il(jL,a);var b=r(jh(C.j(a,Ut)))?new X(null,1,5,Z,[Bx],null):mf;return Xh.C(Xh.j(b,C.j(a,kv)),th.j(Gh.B(kL),vl),C.j(a,xy))}function hL(a){return zf(a)?new YK(Xh.C(mf,Gh.B(iL),lL(a)),null,null,null):null}
function mL(a){var b=null==a?null:hL(a);b=null==b?null:hf(OK(b));if(r(b))return b;throw bm("Cannot parse pull pattern, expected: [attr-spec+]",new q(null,2,[up,Dy,vt,a],null));};function nL(a,b){return w.C(Vg,a,b)}function oL(a,b,c){return Kj([Yp,io,bo,As,Ru,Ro,Ts,oA,NB],[c,b,oA,new q(null,2,[Xp,W,Kr,ok],null),H(It.B(a)),Ro.B(a),Nd(W),a,Nd(mf)])}function pL(a,b,c,d){return R.C(oL(a,b,c),cy,d)}function qL(a,b,c){var d=oA.B(a);return R.F(a,io,b,P([Ru,H(It.B(d)),Ro,Ro.B(d),Ts,Nd(W),NB,function(){var e=NB.B(a);return H(c)?Vg.j(e,c):e}()]))}
function rL(a,b,c){var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,Xp);d=C.j(d,Kr);return R.F(a,Xp,ei.C(e,b,vh(Ke,0)),P([Kr,lf.j(d,c)]))}function sL(a,b,c){return Lf(bi(a,new X(null,2,5,Z,[As,Kr],null),ok),c)?lf.j(b,ei.P(a,NB,Vg,new q(null,1,[Uf,c],null))):null}function tL(a,b){b=Ts.B(b);b=null==b?null:Pd(b);return null==b?null:C.j(b,a)}function uL(a,b){var c=cy.B(a);c=rL(As.B(a),c,b);return R.C(pL(oA.B(a),new X(null,1,5,Z,[b],null),!1,Jt),As,c)}
function vL(a){a=H(a);var b=J(a);a=K(a);var c=H(io.B(b));if(c){b=qL(b,Be(c),tL(Jt,b));c=J(c);var d=sL(b,a,c);return r(d)?d:lf.F(a,b,P([uL(b,c)]))}c=tL(Jt,b);d=NB.B(b);c=H(c)?Vg.j(d,c):d;return lf.j(a,R.F(b,bo,hx,P([NB,c])))}function wL(a,b,c,d,e){var f=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d,h=C.j(f,As);f=C.j(f,oA);var k=C.C(C.j(h,Xp),a,0);return F.j(As.B(C.j(It.B(f),a)),k)?lf.j(e,d):vL(lf.F(e,d,P([new q(null,7,[bo,As,oA,f,cy,a,Yp,b,io,c,As,h,NB,Nd(mf)],null)])))}var xL=new NK(!0,W,null,null,null);
function yL(a,b,c,d,e){a=rL(As.B(a),c,b);return R.C(pL(xL,e,d,c),As,a)}
function zL(a,b,c,d,e,f,h,k){var m=H(k);k=J(m);m=K(m);var n=C.C(h,Jm,1E3),p=function(){var I=xz.B(h);return r(I)?I:b}(),u=jh(r(n)?Xh.C(mf,Hh.B(n),f):f);if(r(u)){var v=lK(a,c);f=v&&oK(a,c,Cm);a=r(e)?oK(a,c,hB):!f;var y=r(e)?function(I){return I.v}:function(I){return I.e};if(Lf(h,Fq))return lf.F(m,k,P([pL(Fq.B(h),Yh.j(y,u),a,p)]));if(Lf(h,As))return wL(p,a,Yh.j(y,u),k,m);if(r(f?e:!1))return lf.F(m,k,P([yL(k,d,p,a,Yh.j(y,u))]));var E=function(){return v?th.j(function(I){return Kj([Uf],[I])},y):y}(),
G=!a;return lf.j(m,ei.ka(k,Ts,Xg,p,function(){var I=Xh.C(mf,Gh.B(E),u);return G?J(I):I}()))}return lf.j(m,Lf(h,Xl)?ei.ka(k,Ts,Xg,p,Xl.B(h)):k)}var AL=Th(function(a){var b=Q(a,0,null);a=Q(a,1,null);return ih.j(b,cy.B(a))});function BL(a,b,c){return pL(R.F(oA.B(a),It,c,P([Ro,!1])),new X(null,1,5,Z,[b],null),!1,ao)}function CL(a,b){return lf.j(Be(a),ei.P(J(a),Ts,nL,Pd(b)))}function DL(a){var b=H(a);a=J(b);b=K(b);var c=Rx.B(a);a=tL(ao,a);return CL(b,nL(c,r(a)?a:W))}
function EL(a,b){var c=H(b);b=J(c);c=K(c);var d=H(Gq.B(b));if(d){var e=J(d);d=Q(e,0,null);e=Q(e,1,null);var f=C.C(ai(b,new X(null,2,5,Z,[oA,It],null)),d,W);return zL(a,d,d,hw.B(b),!0,e,f,lf.j(c,ei.C(b,Gq,Be)))}a=jh(Xh.C(W,AL,ai(b,new X(null,2,5,Z,[oA,It],null))));return r(a)?(b=R.F(b,bo,no,P([Rx,Ts.B(b),Ts,Nd(W)])),lf.F(c,b,P([BL(b,hw.B(b),a)]))):CL(c,Ts.B(b))}
function FL(a,b,c,d,e){var f=Il(function(m){return m.a},PJ(a,dv,new X(null,1,5,Z,[d],null))),h=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,k=C.j(h,cy);h=C.j(h,As);k=null!=k?rL(h,k,d):h;return EL(a,lf.F(c,b,P([new q(null,6,[bo,Uy,Ts,Nd(new q(null,1,[Uf,d],null)),hw,d,oA,e,Gq,H(f),As,k],null)])))}
function GL(a,b){for(;;){var c=H(b);b=J(c);var d=K(c);c=b;if(b=H(io.B(c))){if(r(Ro.B(c))){b=R.F(c,Ru,mf,P([hw,J(b),Ro,!1]));c=d;var e=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;d=C.j(e,hw);e=C.j(e,oA);var f=sL(b,c,d);return r(f)?f:FL(a,b,c,d,e)}if(e=H(Ru.B(c))){f=e;e=J(f);oA.B(c);c=lf.j(d,R.C(c,Ru,Be(f)));b=J(b);d=Q(e,0,null);e=Q(e,1,null);if(F.j(Uf,d))a=r(jh(PJ(a,dv,new X(null,1,5,Z,[b],null))))?lf.j(Be(c),ei.ka(J(c),Ts,Xg,Uf,b)):c;else{f=cy.B(e);var h=F.j(d,f),k=h?PJ(a,dv,new X(null,2,5,Z,[b,f],null)):
PJ(a,Tm,new X(null,2,5,Z,[f,b],null));a=zL(a,d,f,b,h,k,e,c)}return a}b=lf.j(d,qL(c,Be(b),jh(Pd(Ts.B(c)))))}else return lf.j(d,R.C(c,bo,hx))}}
function HL(a,b){for(;;){var c=bo.B(J(b));c=c instanceof D?c.na:null;switch(c){case "expand":c=a;b=EL(a,b);a=c;continue;case "expand-rev":b=DL(b);continue;case "pattern":c=a;b=GL(a,b);a=c;continue;case "recursion":b=vL(b);continue;case "done":c=H(b);b=J(c);c=K(c);var d=b,e=c,f=function(){var h=Pd(NB.B(d));return wc(Yp.B(d))?J(h):h}();if(H(e)){b=lf.j(Be(e),function(){var h=J(e);return r(f)?ei.ka(h,Ts,Xg,cy.B(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.B(c)].join(""));
}}}function IL(a,b,c){c=Xh.C(mf,Gh.B(function(d){return mK(a,d)}),c);return HL(a,new nf(null,oL(b,c,!1),null,1,null))};function JL(a,b,c,d,e){this.Qd=a;this.Vg=b;this.Xg=c;this.Ug=d;this.limit=e;this.J=2147484416;this.T=0}JL.prototype.da=function(a,b,c){return KL.C?KL.C(this,b,c):KL.call(null,this,b,c)};JL.prototype.ma=function(a,b){return Yc(this.Qd,b,null)};JL.prototype.R=function(a,b,c){return Yc(this.Qd,b,c)};JL.prototype.ga=function(a,b,c){return Id(this.Qd,b,c)};function LL(a,b,c,d,e){return new JL(a,b,c,d,e)}
function KL(a,b,c){var d=a.Qd,e=a.Vg,f=a.Xg,h=a.Ug;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(r(k))return LL(d,R.C(S.j(e,k),h,b),R.C(f,b,h),h+1,a);b=LL(R.C(d,b,c),R.C(e,h,b),R.C(f,b,h),h+1,a);return ML.B?ML.B(b):ML.call(null,b)}function ML(a){if(M(a.Qd)>a.limit){var b=a.Qd,c=a.Vg,d=a.Xg,e=a.Ug;a=a.limit;var f=J(c),h=Q(f,0,null);f=Q(f,1,null);return LL(S.j(b,f),S.j(c,h),S.j(d,f),e,a)}return a};function NL(a,b){b="number"===typeof b||zf(b)||b instanceof D?pK(a,b):null;if(r(b)){var c=new Ch(!1),d=new Ch(W);return OL.P?OL.P(a,b,c,d):OL.call(null,a,b,c,d)}return null}function PL(a,b,c){return oK(a,b,hB)?lK(a,b)?w.C(function(d,e){return lf.j(d,NL(a,Gw.B(e)))},ok,c):w.C(function(d,e){return lf.j(d,Gw.B(e))},ok,c):lK(a,b)?NL(a,Gw.B(J(c))):Gw.B(J(c))}
function QL(a,b,c,d){b=jh(NJ(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?oK(a,c,Cm)?NL(a,vw.B(J(b))):w.C(function(e,f){return lf.j(e,NL(a,vw.B(f)))},ok,b):d}function RL(a){return r(a)?Sf(a):null}
function SL(a){TL.B?TL.B(a):TL.call(null,a);return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);p=oK(a.db,p,hB)?new X(null,2,5,Z,[p,RL(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);return df(oK(a.db,k,hB)?new X(null,2,5,Z,[k,RL(f)],null):new X(null,2,5,Z,[k,f],null),d(Be(e)))}return null}},
null,null)}(z(a.cache))}function UL(a,b,c,d){this.db=a;this.Oc=b;this.jg=c;this.cache=d;this.J=2162164483;this.T=0}g=UL.prototype;g.entry_set=function(){return Sf(Gh.j(Sf,SL(this)))};
g.forEach=function(){function a(d,e){for(var f=H(SL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.xa(null,m),p=Q(n,0,null);n=Q(n,1,null);d.call(e,n,p,this);m+=1}else if(f=H(f))Ef(f)?(h=Xd(f),f=Yd(f),p=h,k=M(h),h=p):(h=J(f),p=Q(h,0,null),n=Q(h,1,null),d.call(e,n,p,this),f=K(f),h=null,k=0),m=0;else return null}function b(d){for(var e=H(SL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=Q(m,0,null);m=Q(m,1,null);d.C?d.C(m,n,this):d.call(null,m,n,this);k+=1}else if(e=H(e))Ef(e)?(f=Xd(e),e=Yd(e),n=f,h=
M(f),f=n):(f=J(e),n=Q(f,0,null),m=Q(f,1,null),d.C?d.C(m,n,this):d.call(null,m,n,this),e=K(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.j=a;return c}();g.get=function(a){if(F.j(a,":db/id"))return this.Oc;if(zK(a))return RL(QL(this.db,this.Oc,AK(a),null));var b=VL?VL(this,a):WL.call(null,this,a);return oK(this.db,a,hB)?RL(b):b};g.key_set=function(){return Sf(Zi(this))};
g.entries=function(){return new Ui(H(SL(this)))};g.value_set=function(){return Sf(Gh.j(hf,SL(this)))};g.toString=function(){return ie(this)};g.keys=function(){return Ee(Zi(this))};g.values=function(){return Ee(Gh.j(hf,SL(this)))};g.equiv=function(a){return XL.j?XL.j(this,a):XL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ma=function(a,b){return YL?YL(this,b,null):WL.call(null,this,b,null)};g.R=function(a,b,c){return YL?YL(this,b,c):WL.call(null,this,b,c)};
g.ga=function(a,b,c){return Id(R.C(z(this.cache),Uf,this.Oc),b,c)};g.ja=function(){TL.B?TL.B(this):TL.call(null,this);return M(z(this.cache))};g.ia=function(){return qe(this.Oc)};g.ca=function(a,b){return XL.j?XL.j(this,b):XL.call(null,this,b)};g.ha=function(){TL.B?TL.B(this):TL.call(null,this);return H(z(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Fc(b)))};g.B=function(a){return VL?VL(this,a):WL.call(null,this,a)};g.j=function(a,b){return YL?YL(this,a,b):WL.call(null,this,a,b)};function OL(a,b,c,d){return new UL(a,b,c,d)}
function XL(a,b){return b instanceof UL&&F.j(a.Oc,b.Oc)}function WL(a){switch(arguments.length){case 2:return VL(arguments[0],arguments[1]);case 3:return YL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function VL(a,b){return YL(a,b,null)}
function YL(a,b,c){if(F.j(b,Uf))return a.Oc;if(zK(b))return QL(a.db,a.Oc,AK(b),c);var d=z(a.cache);d=d.B?d.B(b):d.call(null,b);if(null==d){if(r(z(a.jg)))return c;d=jh(NJ(a.db,new X(null,2,5,Z,[a.Oc,b],null)));if(null==d)return c;c=PL(a.db,b,d);b=R.C(z(a.cache),b,c);de(a.cache,b);return c}return d}function ZL(a,b){return Zf(function(c,d,e){return R.C(c,d,oK(a,d,Cm)?oK(a,d,hB)?pk(Gh.j(TL,e)):TL.B?TL.B(e):TL.call(null,e):e)},W,b)}
function $L(a,b){return w.C(function(c,d){var e=zw.B(J(d));return R.C(c,e,PL(a,e,d))},W,Ek(zw,b))}function TL(a){if(!r(z(a.jg))){var b=jh(NJ(a.db,new X(null,1,5,Z,[a.Oc],null)));r(b)&&(b=ZL(a.db,$L(a.db,b)),de(a.cache,b),de(a.jg,!0))}return a}na("datascript.impl.entity.Entity",UL);function aM(){}function bM(a,b,c){if(null!=a&&null!=a.Oa)a=a.Oa(a,b,c);else{var d=bM[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=bM._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("ITraversable.-collect",a);}return a}
function cM(a,b){if(null!=a&&null!=a.Pa)a=a.Pa(a,b);else{var c=cM[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=cM._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ITraversable.-collect-vars",a);}return a}function dM(a,b){return zf(a)&&F.j(M(a),b)}function eM(a,b){return zf(b)?w.C(function(c,d){d=a.B?a.B(d):a.call(null,d);return r(d)?lf.j(c,d):Me(null)},mf,b):null}function fM(a,b){return gM(a,b,mf)}
function gM(a,b,c){return r(a.B?a.B(b):a.call(null,b))?lf.j(c,b):(null!=b?l===b.Na||(b.rd?0:yc(aM,b)):yc(aM,b))?bM(b,a,c):kJ(b)?w.C(function(d,e){return gM(a,e,d)},c,b):c}function hM(a){var b=wf(a);return b?b:dh(Mf,a)}function iM(a,b){return tf(a,new q(null,1,[fn,b],null))}function jM(a){var b=fn.B(uf(a));return r(b)?b:a}function kM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=kM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){return C.C(this.D,b,c)};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.j(mf,this.D))};g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-528488587^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new kM(this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new kM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};g.fa=function(a,b){return new kM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};function lM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=lM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "symbol":return this.symbol;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Pw,this.symbol],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Pw],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=736891289^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.symbol,b.symbol)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Pw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new lM(this.symbol,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Pw,b):T.call(null,Pw,b))?new lM(c,this.G,this.D,null):new lM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Pw,this.symbol)],null),this.D))};
g.fa=function(a,b){return new lM(this.symbol,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.symbol,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.symbol):mM.call(null,b,this.symbol)};function nM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=nM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "symbol":return this.symbol;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Pw,this.symbol],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Pw],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1648766309^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.symbol,b.symbol)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Pw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new nM(this.symbol,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Pw,b):T.call(null,Pw,b))?new nM(c,this.G,this.D,null):new nM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Pw,this.symbol)],null),this.D))};g.fa=function(a,b){return new nM(this.symbol,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.symbol,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.symbol):mM.call(null,b,this.symbol)};function oM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=oM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.j(mf,this.D))};g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-350962559^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new oM(this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new oM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};g.fa=function(a,b){return new oM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};
function pM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=pM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.j(mf,this.D))};
g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1504050517^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new pM(this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new pM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};
g.fa=function(a,b){return new pM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};function qM(a,b,c,d){this.value=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=qM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "value":return this.value;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Yw,this.value],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Yw],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-812884714^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.value,b.value)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Yw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new qM(this.value,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Yw,b):T.call(null,Yw,b))?new qM(c,this.G,this.D,null):new qM(this.value,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Yw,this.value)],null),this.D))};g.fa=function(a,b){return new qM(this.value,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.value,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.value):mM.call(null,b,this.value)};function rM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=rM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "symbol":return this.symbol;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Pw,this.symbol],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Pw],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1509921913^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.symbol,b.symbol)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Pw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new rM(this.symbol,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Pw,b):T.call(null,Pw,b))?new rM(c,this.G,this.D,null):new rM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Pw,this.symbol)],null),this.D))};g.fa=function(a,b){return new rM(this.symbol,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.symbol,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.symbol):mM.call(null,b,this.symbol)};function sM(a){return a instanceof B&&F.j(J(Gg(a)),"?")?new lM(a,null,null,null):null}function tM(a){var b=sM(a);if(r(b))return b;throw bm(["Cannot parse var, expected symbol starting with ?, got: ",dl.F(P([a]))].join(""),new q(null,2,[up,jq,gt,a],null));}
function uM(a){return a instanceof B&&F.j(J(Gg(a)),"$")?new nM(a,null,null,null):null}function vM(a){return a instanceof B?null:new qM(a,null,null,null)}function wM(a){return a instanceof B&&wc(sM(a))&&wc(uM(a))&&wc(F.j(ft,a)?new pM(null,null,null):null)&&wc(F.j(gq,a)?new kM(null,null,null):null)?new rM(a,null,null,null):null}function xM(a){return r(wM(a))?new lM(a,null,null,null):null}function yM(a){var b=sM(a);if(r(b))return b;b=vM(a);return r(b)?b:uM(a)}
function zM(a,b,c,d,e){this.required=a;this.Ec=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=zM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "required":return this.required;case "free":return this.Ec;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[qA,this.required],null),new X(null,2,5,Z,[Gr,this.Ec],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[qA,Gr],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=892963297^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.required,b.required)&&F.j(this.Ec,b.Ec)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Gr,null,qA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new zM(this.required,this.Ec,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(qA,b):T.call(null,qA,b))?new zM(c,this.Ec,this.G,this.D,null):r(T.j?T.j(Gr,b):T.call(null,Gr,b))?new zM(this.required,c,this.G,this.D,null):new zM(this.required,this.Ec,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(qA,this.required),new Y(Gr,this.Ec)],null),this.D))};g.fa=function(a,b){return new zM(this.required,this.Ec,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return gM(b,this.Ec,gM(b,this.required,c))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.required):mM.call(null,b,this.required);b=this.Ec;return mM.j?mM.j(a,b):mM.call(null,a,b)};
function AM(a){if(zf(a)){var b=zf(J(a))?new X(null,2,5,Z,[J(a),K(a)],null):new X(null,2,5,Z,[null,a],null),c=Q(b,0,null);b=Q(b,1,null);c=eM(tM,c);b=eM(tM,b);if(wf(c)&&wf(b))throw bm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[up,Aq,gt,a],null));if(!r(hM(V.j(c,b))))throw bm("Rule variables should be distinct",new q(null,2,[up,Aq,gt,a],null));return new zM(c,b,null,null,null)}throw bm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[up,Aq,gt,a],null));}function BM(a){return V.B(r(qA.B(a))?function(){Yh.j(Pw,qA.B(a));return Yh.j(Pw,Gr.B(a))}():null)}function CM(a){return new X(null,2,5,Z,[M(qA.B(a)),M(Gr.B(a))],null)}function DM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.T=139264}g=DM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return C.C(this.D,b,c)};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.j(mf,this.D))};g.oa=function(){return new Ti(this,0,mf,r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-890522983^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(ok,b)?S.j(pd(Xh.j(W,this),this.G),b):new DM(this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new DM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(mf,this.D))};g.fa=function(a,b){return new DM(b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};
function EM(a,b,c,d){this.Va=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=EM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "variable":return this.Va;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Yt,this.Va],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Yt],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1522792445^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Va,b.Va)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Yt,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new EM(this.Va,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(Yt,b):T.call(null,Yt,b))?new EM(c,this.G,this.D,null):new EM(this.Va,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Yt,this.Va)],null),this.D))};
g.fa=function(a,b){return new EM(this.Va,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.Va,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.Va):mM.call(null,b,this.Va)};function FM(a,b,c,d){this.bindings=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=FM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "bindings":return this.bindings;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[jn,this.bindings],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[jn],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1637239347^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.bindings,b.bindings)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[jn,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new FM(this.bindings,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(jn,b):T.call(null,jn,b))?new FM(c,this.G,this.D,null):new FM(this.bindings,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(jn,this.bindings)],null),this.D))};g.fa=function(a,b){return new FM(this.bindings,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.bindings,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.bindings):mM.call(null,b,this.bindings)};function GM(a,b,c,d){this.binding=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=GM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "binding":return this.binding;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[ew,this.binding],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[ew],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1930368089^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.binding,b.binding)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[ew,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new GM(this.binding,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(ew,b):T.call(null,ew,b))?new GM(c,this.G,this.D,null):new GM(this.binding,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(ew,this.binding)],null),this.D))};g.fa=function(a,b){return new GM(this.binding,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.binding,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.binding):mM.call(null,b,this.binding)};function HM(a){return F.j(gq,a)?iM(new DM(null,null,null),a):null}
function IM(a){var b=HM(a);return r(b)?b:JM.B?JM.B(a):JM.call(null,a)}function KM(a){var b=eM(IM,a);if(r(b)){if(wf(b))throw bm("Tuple binding cannot be empty",new q(null,2,[up,Gp,gt,a],null));return iM(new FM(b,null,null,null),a)}return null}
function JM(a){a:{if(dM(a,2)&&F.j(hf(a),Zu)){var b=J(a);b=JM.B?JM.B(b):JM.call(null,b);if(r(b)){b=iM(new GM(b,null,null,null),a);break a}throw bm("Cannot parse collection binding",new q(null,2,[up,Gp,gt,a],null));}b=null}if(r(b))return b;b=dM(a,1)&&zf(J(a))?iM(new GM(KM(J(a)),null,null,null),a):null;if(r(b))return b;b=KM(a);if(r(b))return b;b=HM(a);if(r(b))return b;b=sM(a);b=r(b)?iM(new EM(b,null,null,null),a):null;if(r(b))return b;throw bm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[up,Gp,gt,a],null));}function LM(a){if(null!=a&&null!=a.Ue)a=a.Ue(a);else{var b=LM[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=LM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IFindVars.-find-vars",a);}return a}lM.prototype.Ue=function(){return new X(null,1,5,Z,[this.symbol],null)};function MM(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=MM.prototype;g.Ue=function(){return LM(kf(this.args))};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[hA,this.fn],null),new X(null,2,5,Z,[iA,this.args],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[hA,iA],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-91097383^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.fn,b.fn)&&F.j(this.args,b.args)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[iA,null,hA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new MM(this.fn,this.args,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(hA,b):T.call(null,hA,b))?new MM(c,this.args,this.G,this.D,null):r(T.j?T.j(iA,b):T.call(null,iA,b))?new MM(this.fn,c,this.G,this.D,null):new MM(this.fn,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(hA,this.fn),new Y(iA,this.args)],null),this.D))};g.fa=function(a,b){return new MM(this.fn,this.args,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return gM(b,this.args,gM(b,this.fn,c))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.fn):mM.call(null,b,this.fn);b=this.args;return mM.j?mM.j(a,b):mM.call(null,a,b)};function NM(a,b,c,d,e,f){this.source=a;this.Va=b;this.pattern=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=NM.prototype;g.Ue=function(){return LM(this.Va)};g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "variable":return this.Va;case "pattern":return this.pattern;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[fn,this.source],null),new X(null,2,5,Z,[Yt,this.Va],null),new X(null,2,5,Z,[oA,this.pattern],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[fn,Yt,oA],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2108867663^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.Va,b.Va)&&F.j(this.pattern,b.pattern)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Yt,null,fn,null,oA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new NM(this.source,this.Va,this.pattern,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fn,b):T.call(null,fn,b))?new NM(c,this.Va,this.pattern,this.G,this.D,null):r(T.j?T.j(Yt,b):T.call(null,Yt,b))?new NM(this.source,c,this.pattern,this.G,this.D,null):r(T.j?T.j(oA,b):T.call(null,oA,b))?new NM(this.source,this.Va,c,this.G,this.D,null):new NM(this.source,this.Va,this.pattern,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(fn,this.source),new Y(Yt,this.Va),new Y(oA,this.pattern)],null),this.D))};
g.fa=function(a,b){return new NM(this.source,this.Va,this.pattern,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.pattern,gM(b,this.Va,gM(b,this.source,c)))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.source):mM.call(null,b,this.source);b=this.Va;a=mM.j?mM.j(a,b):mM.call(null,a,b);b=this.pattern;return mM.j?mM.j(a,b):mM.call(null,a,b)};
function OM(a){if(null!=a&&null!=a.me)a=a.me(a);else{var b=OM[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=OM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IFindElements.find-elements",a);}return a}function PM(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=PM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "elements":return this.elements;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Ys,this.elements],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Ys],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=744809563^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.elements,b.elements)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Ys,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new PM(this.elements,this.G,jh(S.j(this.D,b)),null)};g.me=function(){return this.elements};g.da=function(a,b,c){return r(T.j?T.j(Ys,b):T.call(null,Ys,b))?new PM(c,this.G,this.D,null):new PM(this.elements,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Ys,this.elements)],null),this.D))};g.fa=function(a,b){return new PM(this.elements,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.elements,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.elements):mM.call(null,b,this.elements)};function QM(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=QM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "element":return this.element;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[zy,this.element],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[zy],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=124241361^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.element,b.element)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[zy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new QM(this.element,this.G,jh(S.j(this.D,b)),null)};g.me=function(){return new X(null,1,5,Z,[this.element],null)};
g.da=function(a,b,c){return r(T.j?T.j(zy,b):T.call(null,zy,b))?new QM(c,this.G,this.D,null):new QM(this.element,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(zy,this.element)],null),this.D))};g.fa=function(a,b){return new QM(this.element,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.element,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.element):mM.call(null,b,this.element)};
function RM(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=RM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "element":return this.element;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[zy,this.element],null)],null),this.D))};g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[zy],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-661542332^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.element,b.element)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[zy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new RM(this.element,this.G,jh(S.j(this.D,b)),null)};g.me=function(){return new X(null,1,5,Z,[this.element],null)};g.da=function(a,b,c){return r(T.j?T.j(zy,b):T.call(null,zy,b))?new RM(c,this.G,this.D,null):new RM(this.element,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(zy,this.element)],null),this.D))};g.fa=function(a,b){return new RM(this.element,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.element,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.element):mM.call(null,b,this.element)};function SM(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}g=SM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "elements":return this.elements;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Ys,this.elements],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Ys],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=681530371^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.elements,b.elements)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Ys,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new SM(this.elements,this.G,jh(S.j(this.D,b)),null)};g.me=function(){return this.elements};g.da=function(a,b,c){return r(T.j?T.j(Ys,b):T.call(null,Ys,b))?new SM(c,this.G,this.D,null):new SM(this.elements,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Ys,this.elements)],null),this.D))};g.fa=function(a,b){return new SM(this.elements,b,this.D,this.I)};
g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.elements,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.elements):mM.call(null,b,this.elements)};function TM(a){return a instanceof MM}function UM(a){return a instanceof NM}
function VM(a){var b=sM(a);if(r(b))return b;a:{if(zf(a)&&F.j(J(a),Bw)){if(3<=M(a)&&4>=M(a)){var c=(b=F.j(M(a),4))?Ye(a,1):Hp;b=b?K(K(a)):K(a);var d=Q(b,0,null);b=Q(b,1,null);c=uM(c);d=sM(d);var e=sM(b);r(e)?b=e:(e=xM(b),b=r(e)?e:vM(b));if(r(r(c)?r(d)?b:d:c)){b=new NM(c,d,b,null,null,null);break a}}throw bm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[up,Jz,vt,a],null));}b=null}if(r(b))return b;a:{if(zf(a)&&F.j(J(a),Iv)){if(3<=
M(a)&&(b=H(a),J(b),c=K(b),b=J(c),c=K(c),b=sM(b),c=eM(yM,c),r(r(b)?c:b))){b=new MM(b,c,null,null,null);break a}throw bm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[up,Jz,vt,a],null));}b=null}r(b)?a=b:zf(a)&&2<=M(a)?(b=H(a),a=J(b),b=K(b),a=wM(a),b=eM(yM,b),a=r(r(a)?b:a)?new MM(a,b,null,null,null):null):a=null;return a}
function WM(a){var b=eM(VM,a);b=null==b?null:new PM(b,null,null,null);if(r(b))return b;a:{if(zf(a)&&F.j(M(a),1)&&(b=J(a),zf(b)&&F.j(M(b),2)&&F.j(hf(b),Zu))){b=VM(J(b));b=null==b?null:new QM(b,null,null,null);break a}b=null}if(r(b))return b;zf(a)&&F.j(M(a),2)&&F.j(hf(a),ez)?(b=VM(J(a)),b=null==b?null:new RM(b,null,null,null)):b=null;if(r(b))return b;zf(a)&&F.j(M(a),1)?(b=J(a),b=eM(VM,b),b=null==b?null:new SM(b,null,null,null)):b=null;if(r(b))return b;throw bm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[up,Jz,vt,a],null));}function XM(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=XM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "type":return this.type;case "symbols":return this.symbols;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[eq,this.type],null),new X(null,2,5,Z,[$x,this.symbols],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[eq,$x],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2025547471^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.type,b.type)&&F.j(this.symbols,b.symbols)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[eq,null,$x,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new XM(this.type,this.symbols,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(eq,b):T.call(null,eq,b))?new XM(c,this.symbols,this.G,this.D,null):r(T.j?T.j($x,b):T.call(null,$x,b))?new XM(this.type,c,this.G,this.D,null):new XM(this.type,this.symbols,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(eq,this.type),new Y($x,this.symbols)],null),this.D))};g.fa=function(a,b){return new XM(this.type,this.symbols,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return gM(b,this.symbols,gM(b,this.type,c))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.type):mM.call(null,b,this.type);b=this.symbols;return mM.j?mM.j(a,b):mM.call(null,a,b)};function YM(a,b){if(!wf(b)&&oh(re,b))switch(a instanceof D?a.na:null){case "keys":return new XM(a,Yh.j(Fg,b),null,null,null);case "syms":return new XM(a,Wf(b),null,null,null);case "strs":return new XM(a,Yh.j(t,b),null,null,null);default:return null}else return null}
function ZM(a){var b=uM(a);r(b)||(b=F.j(ft,a)?new pM(null,null,null):null,b=r(b)?b:xM(a));return r(b)?iM(new EM(b,null,null,null),a):JM(a)}function $M(a){var b=eM(ZM,a);if(r(b))return b;throw bm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[up,BA,gt,a],null));}function aN(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=aN.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "pattern":return this.pattern;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[fn,this.source],null),new X(null,2,5,Z,[oA,this.pattern],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[fn,oA],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=575220587^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.pattern,b.pattern)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[fn,null,oA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new aN(this.source,this.pattern,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fn,b):T.call(null,fn,b))?new aN(c,this.pattern,this.G,this.D,null):r(T.j?T.j(oA,b):T.call(null,oA,b))?new aN(this.source,c,this.G,this.D,null):new aN(this.source,this.pattern,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(fn,this.source),new Y(oA,this.pattern)],null),this.D))};g.fa=function(a,b){return new aN(this.source,this.pattern,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return gM(b,this.pattern,gM(b,this.source,c))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.source):mM.call(null,b,this.source);b=this.pattern;return mM.j?mM.j(a,b):mM.call(null,a,b)};function bN(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=bN.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[hA,this.fn],null),new X(null,2,5,Z,[iA,this.args],null)],null),this.D))};
g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[hA,iA],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1523376880^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.fn,b.fn)&&F.j(this.args,b.args)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[iA,null,hA,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new bN(this.fn,this.args,this.G,jh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(hA,b):T.call(null,hA,b))?new bN(c,this.args,this.G,this.D,null):r(T.j?T.j(iA,b):T.call(null,iA,b))?new bN(this.fn,c,this.G,this.D,null):new bN(this.fn,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(hA,this.fn),new Y(iA,this.args)],null),this.D))};
g.fa=function(a,b){return new bN(this.fn,this.args,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.args,gM(b,this.fn,c))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.fn):mM.call(null,b,this.fn);b=this.args;return mM.j?mM.j(a,b):mM.call(null,a,b)};function cN(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=cN.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[hA,this.fn],null),new X(null,2,5,Z,[iA,this.args],null),new X(null,2,5,Z,[ew,this.binding],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[hA,iA,ew],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=589494199^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.fn,b.fn)&&F.j(this.args,b.args)&&F.j(this.binding,b.binding)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[iA,null,hA,null,ew,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new cN(this.fn,this.args,this.binding,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(hA,b):T.call(null,hA,b))?new cN(c,this.args,this.binding,this.G,this.D,null):r(T.j?T.j(iA,b):T.call(null,iA,b))?new cN(this.fn,c,this.binding,this.G,this.D,null):r(T.j?T.j(ew,b):T.call(null,ew,b))?new cN(this.fn,this.args,c,this.G,this.D,null):new cN(this.fn,this.args,this.binding,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(hA,this.fn),new Y(iA,this.args),new Y(ew,this.binding)],null),this.D))};
g.fa=function(a,b){return new cN(this.fn,this.args,this.binding,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.binding,gM(b,this.args,gM(b,this.fn,c)))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.fn):mM.call(null,b,this.fn);b=this.args;a=mM.j?mM.j(a,b):mM.call(null,a,b);b=this.binding;return mM.j?mM.j(a,b):mM.call(null,a,b)};
function dN(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=dN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[fn,this.source],null),new X(null,2,5,Z,[zz,this.name],null),new X(null,2,5,Z,[iA,this.args],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[fn,zz,iA],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-444662011^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.name,b.name)&&F.j(this.args,b.args)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[iA,null,zz,null,fn,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new dN(this.source,this.name,this.args,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fn,b):T.call(null,fn,b))?new dN(c,this.name,this.args,this.G,this.D,null):r(T.j?T.j(zz,b):T.call(null,zz,b))?new dN(this.source,c,this.args,this.G,this.D,null):r(T.j?T.j(iA,b):T.call(null,iA,b))?new dN(this.source,this.name,c,this.G,this.D,null):new dN(this.source,this.name,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(fn,this.source),new Y(zz,this.name),new Y(iA,this.args)],null),this.D))};
g.fa=function(a,b){return new dN(this.source,this.name,this.args,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.args,gM(b,this.name,gM(b,this.source,c)))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.source):mM.call(null,b,this.source);b=this.name;a=mM.j?mM.j(a,b):mM.call(null,a,b);b=this.args;return mM.j?mM.j(a,b):mM.call(null,a,b)};
function eN(a,b,c,d,e,f){this.source=a;this.eb=b;this.za=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=eN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "vars":return this.eb;case "clauses":return this.za;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[fn,this.source],null),new X(null,2,5,Z,[ds,this.eb],null),new X(null,2,5,Z,[Py,this.za],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[fn,ds,Py],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1394671061^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.eb,b.eb)&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[fn,null,Py,null,ds,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new eN(this.source,this.eb,this.za,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fn,b):T.call(null,fn,b))?new eN(c,this.eb,this.za,this.G,this.D,null):r(T.j?T.j(ds,b):T.call(null,ds,b))?new eN(this.source,c,this.za,this.G,this.D,null):r(T.j?T.j(Py,b):T.call(null,Py,b))?new eN(this.source,this.eb,c,this.G,this.D,null):new eN(this.source,this.eb,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(fn,this.source),new Y(ds,this.eb),new Y(Py,this.za)],null),this.D))};
g.fa=function(a,b){return new eN(this.source,this.eb,this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.za,gM(b,this.eb,gM(b,this.source,c)))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.source):mM.call(null,b,this.source);b=this.eb;a=mM.j?mM.j(a,b):mM.call(null,a,b);b=this.za;return mM.j?mM.j(a,b):mM.call(null,a,b)};
function fN(a,b,c,d,e,f){this.source=a;this.mc=b;this.za=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=fN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "source":return this.source;case "rule-vars":return this.mc;case "clauses":return this.za;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[fn,this.source],null),new X(null,2,5,Z,[Rz,this.mc],null),new X(null,2,5,Z,[Py,this.za],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[fn,Rz,Py],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1461934571^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.source,b.source)&&F.j(this.mc,b.mc)&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[Rz,null,fn,null,Py,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new fN(this.source,this.mc,this.za,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(fn,b):T.call(null,fn,b))?new fN(c,this.mc,this.za,this.G,this.D,null):r(T.j?T.j(Rz,b):T.call(null,Rz,b))?new fN(this.source,c,this.za,this.G,this.D,null):r(T.j?T.j(Py,b):T.call(null,Py,b))?new fN(this.source,this.mc,c,this.G,this.D,null):new fN(this.source,this.mc,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y(fn,this.source),new Y(Rz,this.mc),new Y(Py,this.za)],null),this.D))};
g.fa=function(a,b){return new fN(this.source,this.mc,this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.za,gM(b,this.mc,gM(b,this.source,c)))};g.Pa=function(a,b){a=mM.j?mM.j(b,this.source):mM.call(null,b,this.source);b=this.mc;a=mM.j?mM.j(a,b):mM.call(null,a,b);b=this.za;return mM.j?mM.j(a,b):mM.call(null,a,b)};function gN(a,b,c,d){this.za=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.T=139264}
g=gN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "clauses":return this.za;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Py,this.za],null)],null),this.D))};
g.oa=function(){return new Ti(this,1,new X(null,1,5,Z,[Py],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-131856804^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,1,[Py,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new gN(this.za,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Py,b):T.call(null,Py,b))?new gN(c,this.G,this.D,null):new gN(this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,1,5,Z,[new Y(Py,this.za)],null),this.D))};g.fa=function(a,b){return new gN(this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;g.Oa=function(a,b,c){return gM(b,this.za,c)};g.Pa=function(a,b){return mM.j?mM.j(b,this.za):mM.call(null,b,this.za)};
function hN(a){var b=F.j(gq,a)?new kM(null,null,null):null;if(r(b))return b;b=sM(a);return r(b)?b:vM(a)}function iN(a){if(zf(a)){var b=uM(J(a));return r(b)?new X(null,2,5,Z,[b,K(a)],null):new X(null,2,5,Z,[new oM(null,null,null),a],null)}return null}function jN(a){if(zf(a)){var b=H(a);a=J(b);b=K(b);b=null==b?mf:b;var c=wM(a);a=r(c)?c:sM(a);b=eM(yM,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var mM=function mM(a,b){return b instanceof lM?lf.j(a,b):b instanceof eN?Xh.j(a,b.eb):b instanceof fN?(b=b.mc,mM.j?mM.j(a,b):mM.call(null,a,b)):(null!=b?l===b.Na||(b.rd?0:yc(aM,b)):yc(aM,b))?cM(b,a):zf(b)?w.C(mM,a,b):a};function kN(a,b,c){if(wf(a)&&wf(b))throw bm("Join variables should not be empty",new q(null,2,[up,Wx,gt,c],null));}function lN(a,b){kN(null,ds.B(a),b);return a}
function mN(a,b){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;c=C.j(c,Rz);var d=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;c=C.j(d,qA);d=C.j(d,Gr);kN(c,d,b);return a}function Eh(a){if(zf(a)&&F.j(Kv,J(a))){var b=K(a);b=nN.B?nN.B(b):nN.call(null,b);if(r(jh(b)))return new gN(b,null,null,null);throw bm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[up,Wx,gt,a],null));}return null}
function Fh(a){a:{var b=iN(a);if(r(b)){var c=Q(b,0,null);b=Q(b,1,null);var d=H(b);b=J(d);d=K(d);if(F.j(Nx,b)){b=nN.B?nN.B(d):nN.call(null,d);if(r(b)){c=lN(iM(new eN(c,Wf(qk(mM(mf,b))),b,null,null,null),a),a);break a}throw bm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[up,Wx,gt,a],null));}}c=null}if(r(c))return c;a:{b=iN(a);if(r(b)){c=Q(b,0,null);b=Q(b,1,null);d=H(b);b=J(d);var e=K(d);d=J(e);e=K(e);if(F.j(Cq,b)){b=eM(sM,d);d=nN.B?nN.B(e):nN.call(null,e);if(r(r(b)?
d:b)){c=lN(iM(new eN(c,b,d,null,null,null),a),a);break a}throw bm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[up,Wx,gt,a],null));}}c=null}if(r(c))return c;a:{b=iN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=H(b),b=J(d),d=K(d),F.j(mr,b))){b=eM(Dh(),d);if(r(b)){c=mN(iM(new fN(c,new zM(null,Wf(qk(mM(mf,b))),null,null,null),b,null,null,null),a),a);break a}throw bm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[up,Wx,
gt,a],null));}c=null}if(r(c))return c;a:{b=iN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=H(b),b=J(d),e=K(d),d=J(e),e=K(e),F.j(mp,b))){b=AM(d);d=eM(Dh(),e);if(r(r(b)?d:b)){c=mN(iM(new fN(c,b,d,null,null,null),a),a);break a}throw bm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[up,Wx,gt,a],null));}c=null}if(r(c))return c;a:{if(dM(a,1)&&(b=jN(J(a)),r(b))){c=Q(b,0,null);b=Q(b,1,null);c=iM(new bN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(dM(a,2)&&(b=Q(a,0,null),c=Q(a,1,null),d=jN(b),r(d))){b=Q(d,0,null);d=Q(d,1,null);c=JM(c);c=r(c)?iM(new cN(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=iN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=H(b),d=J(b),b=K(b),d=wM(d),e=eM(hN,b),r(d))){if(wf(b))throw bm("rule-expr requires at least one argument",new q(null,2,[up,Wx,gt,a],null));if(null==e)throw bm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[up,Wx,gt,a],null));c=new dN(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=iN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=eM(hN,b),r(b))){if(wf(b))throw bm("Pattern could not be empty",new q(null,2,[up,Wx,gt,a],null));c=iM(new aN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw bm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[up,Wx,gt,a],null));}function nN(a){return eM(Fh,a)}
function oN(a){var b=nN(a);if(r(b))return b;throw bm("Cannot parse :where clause, expected [clause+]",new q(null,2,[up,Wx,gt,a],null));}function pN(a,b,c,d,e){this.eb=a;this.za=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=pN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "vars":return this.eb;case "clauses":return this.za;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ds,this.eb],null),new X(null,2,5,Z,[Py,this.za],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[ds,Py],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1024755006^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.eb,b.eb)&&F.j(this.za,b.za)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[Py,null,ds,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new pN(this.eb,this.za,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ds,b):T.call(null,ds,b))?new pN(c,this.za,this.G,this.D,null):r(T.j?T.j(Py,b):T.call(null,Py,b))?new pN(this.eb,c,this.G,this.D,null):new pN(this.eb,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(ds,this.eb),new Y(Py,this.za)],null),this.D))};g.fa=function(a,b){return new pN(this.eb,this.za,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return gM(b,this.za,gM(b,this.eb,c))};g.Pa=function(a,b){return mM(mM(b,this.eb),this.za)};function qN(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=qN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "name":return this.name;case "branches":return this.branches;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[zz,this.name],null),new X(null,2,5,Z,[Hs,this.branches],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[zz,Hs],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-900273052^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.name,b.name)&&F.j(this.branches,b.branches)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[zz,null,Hs,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new qN(this.name,this.branches,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(zz,b):T.call(null,zz,b))?new qN(c,this.branches,this.G,this.D,null):r(T.j?T.j(Hs,b):T.call(null,Hs,b))?new qN(this.name,c,this.G,this.D,null):new qN(this.name,this.branches,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(zz,this.name),new Y(Hs,this.branches)],null),this.D))};g.fa=function(a,b){return new qN(this.name,this.branches,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return gM(b,this.branches,gM(b,this.name,c))};g.Pa=function(a,b){return mM(mM(b,this.name),this.branches)};
function rN(a){if(zf(a)){var b=H(a),c=J(b),d=K(b);if(zf(c)){b=H(c);var e=J(b);c=K(b);b=function(){var h=wM(e);if(r(h))return h;throw bm("Cannot parse rule name, expected plain-symbol",new q(null,2,[up,gx,gt,a],null));}();c=AM(c);var f=function(){var h=jh(nN(d));if(r(h))return h;throw bm("Rule branch should have clauses",new q(null,2,[up,gx,gt,a],null));}();return new q(null,3,[zz,b,ds,c,Py,f],null)}throw bm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",dl.F(P([c]))].join(""),new q(null,
2,[up,gx,gt,a],null));}throw bm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[up,gx,gt,a],null));}
function sN(a,b){var c=ds.B(J(b)),d=CM(c);b=H(K(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);k=ds.B(k);if(ih.j(d,CM(k)))throw bm(["Arity mismatch for rule '",dl.F(P([Pw.B(a)])),"': ",dl.F(P([BM(c)]))," vs. ",dl.F(P([BM(k)]))].join(""),new q(null,2,[up,gx,Mo,a],null));h+=1}else if(b=H(b)){if(Ef(b))f=Xd(b),b=Yd(b),e=f,f=M(f);else{k=J(b);e=ds.B(k);if(ih.j(d,CM(e)))throw bm(["Arity mismatch for rule '",dl.F(P([Pw.B(a)])),"': ",dl.F(P([BM(c)]))," vs. ",dl.F(P([BM(e)]))].join(""),new q(null,
2,[up,gx,Mo,a],null));b=K(b);e=null;f=0}h=0}else break}
function tN(a){Wf(function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){var f=e;if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var v=0;;)if(v<k){var y=x(h,v),E=Q(y,0,null),G=Q(y,1,null);y=Yh.j(function(){return function(I){return new pN(ds.B(I),Py.B(I),null,null,null)}}(v,y,E,G,h,k,m,f,e),G);G=m;sN(E,y);G.add(new qN(E,y,null,null,null));v+=1}else return!0}()?Ng(Pg(m),d(Yd(f))):Ng(Pg(m),null)}var n=J(f),p=Q(n,0,null),u=Q(n,1,null);n=Yh.j(function(){return function(v){return new pN(ds.B(v),
Py.B(v),null,null,null)}}(n,p,u,f,e),u);sN(p,n);return df(new qN(p,n,null,null,null),d(Be(f)))}return null}},null,null)}(Il(zz,eM(rN,a)))}())}function uN(a,b,c,d,e,f,h,k){this.bc=a;this.fc=b;this.dc=c;this.cc=d;this.ec=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.T=139264}g=uN.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "qfind":return this.bc;case "qwith":return this.fc;case "qreturn-map":return this.dc;case "qin":return this.cc;case "qwhere":return this.ec;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[yq,this.bc],null),new X(null,2,5,Z,[mA,this.fc],null),new X(null,2,5,Z,[uw,this.dc],null),new X(null,2,5,Z,[uy,this.cc],null),new X(null,2,5,Z,[Ny,this.ec],null)],null),this.D))};g.oa=function(){return new Ti(this,5,new X(null,5,5,Z,[yq,mA,uw,uy,Ny],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=181307977^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.bc,b.bc)&&F.j(this.fc,b.fc)&&F.j(this.dc,b.dc)&&F.j(this.cc,b.cc)&&F.j(this.ec,b.ec)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,5,[yq,null,Ny,null,uy,null,mA,null,uw,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new uN(this.bc,this.fc,this.dc,this.cc,this.ec,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(yq,b):T.call(null,yq,b))?new uN(c,this.fc,this.dc,this.cc,this.ec,this.G,this.D,null):r(T.j?T.j(mA,b):T.call(null,mA,b))?new uN(this.bc,c,this.dc,this.cc,this.ec,this.G,this.D,null):r(T.j?T.j(uw,b):T.call(null,uw,b))?new uN(this.bc,this.fc,c,this.cc,this.ec,this.G,this.D,null):r(T.j?T.j(uy,b):T.call(null,uy,b))?new uN(this.bc,this.fc,this.dc,c,this.ec,this.G,this.D,null):r(T.j?T.j(Ny,b):T.call(null,Ny,b))?new uN(this.bc,this.fc,this.dc,this.cc,c,this.G,this.D,
null):new uN(this.bc,this.fc,this.dc,this.cc,this.ec,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,5,5,Z,[new Y(yq,this.bc),new Y(mA,this.fc),new Y(uw,this.dc),new Y(uy,this.cc),new Y(Ny,this.ec)],null),this.D))};g.fa=function(a,b){return new uN(this.bc,this.fc,this.dc,this.cc,this.ec,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return gM(b,this.ec,gM(b,this.cc,gM(b,this.dc,gM(b,this.fc,gM(b,this.bc,c)))))};g.Pa=function(a,b){return mM(mM(mM(mM(mM(b,this.bc),this.fc),this.dc),this.cc),this.ec)};function vN(a){var b=S.F(a,yq,P([mA,uw,uy,Ny]));b=Bf(a)?Xh.j(W,b):b;return new uN(yq.B(a),mA.B(a),uw.B(a),uy.B(a),Ny.B(a),null,jh(b),null)}function wN(a){for(var b=W,c=null;;){var d=J(a);if(r(d))d instanceof D?(c=d,a=K(a)):(b=di.P(b,new X(null,1,5,Z,[c],null),vh(lf,mf),d),a=K(a));else return b}}
function xN(a){var b=fn.B(a);return a instanceof aN?b:null!=b?b instanceof oM?null:b:null}
function yN(a,b,c){var d=pk(mM(mf,yq.B(a))),e=pk(mA.B(a)),f=pk(mM(mf,uy.B(a))),h=pk(mM(mf,Ny.B(a)));f=lI.j(jI(d,e),jI(h,f));d=kI.j(d,e);if(!wf(f))throw bm(["Query for unknown vars: ",dl.F(P([Yh.j(Pw,f)]))].join(""),new q(null,3,[up,my,ds,f,gt,b],null));if(!wf(d))throw bm([":find and :with should not use same variables: ",dl.F(P([Yh.j(Pw,d)]))].join(""),new q(null,3,[up,my,ds,d,gt,b],null));d=uw.B(a);if(null!=d){if(yq.B(a)instanceof RM)throw bm([dl.F(P([eq.B(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[up,my,gt,b],null));if(yq.B(a)instanceof QM)throw bm([dl.F(P([eq.B(d)]))," does not work with collection :find"].join(""),new q(null,2,[up,my,gt,b],null));}d=$x.B(uw.B(a));if(null!=d&&(e=OM(yq.B(a)),!F.j(M(d),M(e))))throw bm(["Count of ",dl.F(P([eq.B(uw.B(a))]))," must match count of :find"].join(""),new q(null,4,[up,my,ho,df(eq.B(uw.B(a)),d),dr,e,gt,b],null));if(1<M(Vh(xc,new X(null,3,5,Z,[xq.B(c),Az.B(c),rn.B(c)],null))))throw bm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[up,my,gt,b],null));var k=mM(mf,uy.B(a)),m=fM(function(p){return p instanceof nM},uy.B(a)),n=fM(function(p){return p instanceof pM},uy.B(a));if(!r(function(){var p=hM(k);return r(p)?(p=hM(m),r(p)?hM(n):p):p}()))throw bm("Vars used in :in should be distinct",new q(null,2,[up,my,gt,b],null));c=mM(mf,mA.B(a));if(!r(hM(c)))throw bm("Vars used in :with should be distinct",new q(null,2,[up,my,gt,b],null));c=gM(function(p){return p instanceof nM},uy.B(a),ok);d=gM(function(p){return p instanceof nM},Ny.B(a),
ok);c=lI.j(d,c);if(!wf(c))throw bm(["Where uses unknown source vars: ",dl.F(P([Yh.j(Pw,c)]))].join(""),new q(null,3,[up,my,ds,c,gt,b],null));c=fM(function(p){return p instanceof dN},Ny.B(a));a=fM(function(p){return p instanceof pM},uy.B(a));if(!wf(c)&&wf(a))throw bm("Missing rules var '%' in :in",new q(null,2,[up,my,gt,b],null));}
function zN(a){if(Af(a))var b=a;else if(zf(a))b=wN(a);else throw bm("Query should be a vector or a map",new q(null,2,[up,my,gt,a],null));var c=b,d=oN(ip.j(c,mf));b=vN(new q(null,5,[yq,WM(dr.B(c)),mA,function(){var e=kB.B(c);if(r(e)){var f=eM(sM,e);if(r(f))e=f;else throw bm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[up,Nt,gt,e],null));}else e=null;return e}(),uw,function(){var e=YM(xq,xq.B(c));if(r(e))return e;e=YM(Az,Az.B(c));return r(e)?e:YM(rn,rn.B(c))}(),uy,$M(function(){var e=
zB.B(c);return r(e)?e:wf(fM(xN,d))?mf:new X(null,1,5,Z,[Hp],null)}()),Ny,d],null));yN(b,a,c);return b};function AN(a,b,c,d,e,f){this.Tc=a;this.sources=b;this.rules=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.T=139264}g=AN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "rels":return this.Tc;case "sources":return this.sources;case "rules":return this.rules;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[$v,this.Tc],null),new X(null,2,5,Z,[$w,this.sources],null),new X(null,2,5,Z,[Zv,this.rules],null)],null),this.D))};g.oa=function(){return new Ti(this,3,new X(null,3,5,Z,[$v,$w,Zv],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1014232958^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Tc,b.Tc)&&F.j(this.sources,b.sources)&&F.j(this.rules,b.rules)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,3,[$w,null,Zv,null,$v,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new AN(this.Tc,this.sources,this.rules,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j($v,b):T.call(null,$v,b))?new AN(c,this.sources,this.rules,this.G,this.D,null):r(T.j?T.j($w,b):T.call(null,$w,b))?new AN(this.Tc,c,this.rules,this.G,this.D,null):r(T.j?T.j(Zv,b):T.call(null,Zv,b))?new AN(this.Tc,this.sources,c,this.G,this.D,null):new AN(this.Tc,this.sources,this.rules,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,3,5,Z,[new Y($v,this.Tc),new Y($w,this.sources),new Y(Zv,this.rules)],null),this.D))};
g.fa=function(a,b){return new AN(this.Tc,this.sources,this.rules,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};function BN(a,b,c,d,e){this.pb=a;this.kd=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.T=139264}g=BN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "attrs":return this.pb;case "tuples":return this.kd;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[It,this.pb],null),new X(null,2,5,Z,[au,this.kd],null)],null),this.D))};g.oa=function(){return new Ti(this,2,new X(null,2,5,Z,[It,au],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1107093117^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.pb,b.pb)&&F.j(this.kd,b.kd)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,2,[au,null,It,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new BN(this.pb,this.kd,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(It,b):T.call(null,It,b))?new BN(c,this.kd,this.G,this.D,null):r(T.j?T.j(au,b):T.call(null,au,b))?new BN(this.pb,c,this.G,this.D,null):new BN(this.pb,this.kd,this.G,R.C(this.D,b,c),null)};g.ha=function(){return H(V.j(new X(null,2,5,Z,[new Y(It,this.pb),new Y(au,this.kd)],null),this.D))};g.fa=function(a,b){return new BN(this.pb,this.kd,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
function CN(a,b){return kI.j(pk(Zi(a)),pk(Zi(b)))}function DN(a,b){return F.j(M(a),M(b))&&oh(function(c){return Lf(b,c)},Zi(a))&&oh(function(c){return Lf(b,c)},Zi(a))}
var EN=function EN(a,b){return F.j(gq,a)?!0:F.j(new X(null,1,5,Z,[Bx],null),a)?zf(b):a instanceof B?F.j(b,a):zf(a)?F.j(kf(a),Bx)?zf(b)&&oh(function(d){var e=Q(d,0,null);d=Q(d,1,null);return EN.j?EN.j(e,d):EN.call(null,e,d)},Gh.C(Di,rk(a),b)):zf(b)&&F.j(M(b),M(a))&&oh(function(d){var e=Q(d,0,null);d=Q(d,1,null);return EN.j?EN.j(e,d):EN.call(null,e,d)},Gh.C(Di,a,b)):a.B?a.B(b):a.call(null,b)};function FN(a){return a instanceof B&&F.j("$",J(Gg(a)))}
function GN(a){return a instanceof B&&F.j("?",J(Gg(a)))}function HN(a){return a instanceof D||"string"===typeof a}function IN(a){return EN(new X(null,2,5,Z,[HN,gq],null),a)}function JN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var KN=function KN(a,b){var d=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,e=C.j(d,It);d=C.j(d,au);var f=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,h=C.j(f,It);f=C.j(f,au);if(F.j(e,h))return new BN(e,Xh.j(Wf(d),f),null,null,null);if(DN(e,h)){if(oh(vc,$i(e))){var k=Wf(function(){return function v(u){return new Hg(null,function(){for(;;){var y=H(u);if(y){if(Ef(y)){var E=Xd(y),G=M(E),I=Lg(G);a:for(var N=0;;)if(N<G){var O=x(E,N),U=Q(O,0,null);O=Q(O,1,null);U=new X(null,2,5,Z,[O,e.B?e.B(U):e.call(null,U)],null);
I.add(U);N+=1}else{E=!0;break a}return E?Ng(Pg(I),v(Yd(y))):Ng(Pg(I),null)}E=J(y);I=Q(E,0,null);E=Q(E,1,null);return df(new X(null,2,5,Z,[E,e.B?e.B(I):e.call(null,I)],null),v(Be(y)))}return null}},null,null)}(h)}()),m=w.j(mg,$i(e))+1;b=Pd(w.C(function(p,u){for(var v=Array(m),y=H(k),E=null,G=0,I=0;;)if(I<G){var N=E.xa(null,I),O=Q(N,0,null);N=Q(N,1,null);v[N]=u[O];I+=1}else if(y=H(y))Ef(y)?(G=Xd(y),y=Yd(y),E=G,G=M(G)):(G=J(y),E=Q(G,0,null),G=Q(G,1,null),v[G]=u[E],y=K(y),E=null,G=0),I=0;else break;return Vg.j(p,
v)},Nd(Wf(d)),f));return new BN(e,b,null,null,null)}var n=sk(Zi(hk.F(P([e,h]))),Bk.O());d=function(){var p=new BN(n,mf,null,null,null);return KN.j?KN.j(p,a):KN.call(null,p,a)}();return KN.j?KN.j(d,b):KN.call(null,d,b)}throw bm(["Cant sum relations with different attrs: ",dl.F(P([e]))," and ",dl.F(P([h]))].join(""),new q(null,1,[up,Er],null));},LN=function LN(a){switch(arguments.length){case 0:return LN.O();case 2:return LN.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));
}};LN.O=function(){return new BN(W,new X(null,1,5,Z,[[]],null),null,null,null)};LN.j=function(a,b){var c=Zi(It.B(a)),d=Zi(It.B(b)),e=Sf(Gh.j(It.B(a),c)),f=Sf(Gh.j(It.B(b),d));return new BN(sk(V.j(c,d),Bk.O()),Pd(w.C(function(h,k){return w.C(function(m,n){return Vg.j(m,JN(k,e,n,f))},h,au.B(b))},Nd(mf),au.B(a))),null,null,null)};LN.Y=2;var MN=function MN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return MN.F(c)};
MN.F=function(a){var b=M(a);return ih.j(Hh.j(b/2,a),Ih(b/2,a))};MN.Y=0;MN.ba=function(a){return this.F(H(a))};var NN=function NN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new ze(c.slice(2),0,null):null;return NN.F(arguments[0],arguments[1],c)};NN.F=function(a,b,c){return w.C(function(d,e){d=J(NJ(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Me(new X(null,2,5,Z,[zw.B(d),Gw.B(d)],null))},null,c)};NN.Y=2;
NN.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};var ON=function ON(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return ON.F(c)};ON.F=function(a){return w.C(function(b,c){return r(c)?c:Me(c)},!0,a)};ON.Y=0;ON.ba=function(a){return this.F(H(a))};var PN=function PN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return PN.F(c)};
PN.F=function(a){return w.C(function(b,c){return r(c)?Me(c):c},null,a)};PN.Y=0;PN.ba=function(a){return this.F(H(a))};
var QN=Kj([$A,Kv,ps,tx,fr,Uv,lv,uq,dw,jr,ly,Qz,wo,Uq,OB,Nx,Xm,Fx,Ju,Tp,Mr,Dw,xv,rp,bB,gs,Hr,Wy,WA,wn,fo,kw,ko,qt,Ym,Qy,Bx,jp,Mq,Xv,ws,Am,Xu,Js,SA,ZB,lt,vo,wy,DA,Ds,Bs,qp,So,Ls,Ry,Wn,ZA,Qm,fp,ry,Zo,Qv,xB,Zz,By,gy,st,Av,mr,vn,Vs,tu],[function(a){return!0===a},ON,function(a){return!qh(a)},function(a,b,c,d){if(null==d)throw bm("get-else: nil default value is not supported",new q(null,1,[up,Er],null));a=J(NJ(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:Gw.B(a)},lg,fl,kg,M,NN,tc,$f,Ke,hg,sg,function(a){return!1===
a},wc,$f,MN,Di,Mk,jg,function(a,b){return 0==a.lastIndexOf(b,0)},F,ng,dg,Gg,function(a,b,c){return null==C.j(NL(a,b),c)},$f,Hl,rh,vg,dk,Of,Bk,mg,wf,gg,dl,gl,uf,function(a){return 0===a},ih,el,function(a){return a-1},Nk,Di,ih,t,ig,Dg,Fg,fg,xc,function(a){return 0<a},Gl,Ik,Ag,Lf,function(a,b){return sb(a,b)},wg,rg,function(a,b){return-1!=a.indexOf(b)},ek,tg,qh,zc,function(a){return 0>a},tC,jh,PN,function(a,b){return a===b},pk,Jk]),RN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Hg(null,
function(){for(;;){var m=H(h);if(m){if(Ef(m)){var n=Xd(m),p=M(n),u=Lg(p);a:for(var v=0;;)if(v<p){var y=x(n,v)-e;u.add(y*y);v+=1}else{n=!0;break a}return n?Ng(Pg(u),k(Yd(m))):Ng(Pg(u),null)}u=J(m)-e;return df(u*u,k(Be(m)))}return null}},null,null)}(d)}())/M(d)}function b(d){return c(d)/M(d)}function c(d){return w.C(dg,0,d)}return Kj([dq,uq,nn,pp,rp,Ym,Ku,sx,Lx,xo,Ls,rz],[a,M,function(d){var e=Rf(Of,d);d=M(d);var f=d>>1,h=Ye(e,f);return qh(d)?(h+Ye(e,f-1))/2:h},c,function(){function d(h,k){return Wf(w.C(function(m,
n){return M(m)<h?Rf(Of,lf.j(m,n)):0>Of(n,kf(m))?Rf(Of,lf.j(rk(m),n)):m},mf,k))}function e(h){return w.C(function(k,m){return 0>Of(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(){function d(h,k){return Wf(w.C(function(m,n){return M(m)<h?Rf(Of,lf.j(m,n)):0<Of(n,J(m))?Rf(Of,lf.j(K(m),n)):m},mf,k))}function e(h){return w.C(function(k,
m){return 0<Of(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(d){return M(qk(d))},pk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return Wf(Ph(f,function(){return Ye(h,Hl(M(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return Ye(f,Hl(M(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.B=function(f){return Ye(f,Hl(M(f)))};e.j=d;return e}(),function(d,e){return Wf(Hh.j(d,Vf(e)))}])}();function SN(a){a="string"===typeof a?aI(new q(null,3,[ym,z(hI),Xl,z(gI),Ex,null],null),a):a;tN(a);return Il(jf,a)}function TN(a){a=Gh.j(Pw,Wf(qk(mM(mf,a))));return new BN(sk(a,Bk.O()),mf,null,null,null)}
function UN(a,b){if(null!=a&&null!=a.ne)a=a.ne(a,b);else{var c=UN[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=UN._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IBinding.in-\x3erel",a);}return a}DM.prototype.ne=function(){return LN.O()};EM.prototype.ne=function(a,b){return new BN(qf([ai(this,new X(null,2,5,Z,[Yt,Pw],null)),0]),new X(null,1,5,Z,[Gc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
GM.prototype.ne=function(a,b){var c=this;if(kJ(b))return wf(b)?TN(c):w.j(KN,Gh.j(function(d){return UN(c.binding,d)},b));throw bm(["Cannot bind value ",dl.F(P([b]))," to collection ",dl.F(P([jM(c)]))].join(""),new q(null,3,[up,Ip,Yw,b,ew,jM(c)],null));};
FM.prototype.ne=function(a,b){if(kJ(b)){if(M(b)<M(this.bindings))throw bm(["Not enough elements in a collection ",dl.F(P([b]))," to bind tuple ",dl.F(P([jM(this)]))].join(""),new q(null,3,[up,Ip,Yw,b,ew,jM(this)],null));return w.j(LN,Gh.C(function(c,d){return UN(c,d)},this.bindings,b))}throw bm(["Cannot bind value ",dl.F(P([b]))," to tuple ",dl.F(P([jM(this)]))].join(""),new q(null,3,[up,Ip,Yw,b,ew,jM(this)],null));};
function VN(a,b){var c=Q(b,0,null);b=Q(b,1,null);return c instanceof EM&&c.Va instanceof nM?ei.ka(a,$w,R,ai(c,new X(null,2,5,Z,[Yt,Pw],null)),b):c instanceof EM&&c.Va instanceof pM?R.C(a,Zv,SN(b)):ei.P(a,$v,lf,UN(c,b))}
function WN(a,b,c){var d=M(b),e=M(c);if(d<e)throw bm(["Extra inputs passed, expected: ",dl.F(P([Yh.j(function(f){return fn.B(uf(f))},b)])),", got: ",dl.F(P([e]))].join(""),new q(null,3,[up,To,fm,b,Qw,c],null));if(d>e)throw bm(["Too few inputs passed, expected: ",dl.F(P([Yh.j(function(f){return fn.B(uf(f))},b)])),", got: ",dl.F(P([e]))].join(""),new q(null,3,[up,To,fm,b,Qw,c],null));return w.C(VN,a,sk(b,c))}var XN=null,YN=null;
function ZN(a,b){var c=a.B?a.B(b):a.call(null,b);return Lf(XN,b)?function(d){d=d[c];return"number"===typeof d?d:zf(d)?pK(YN,d):pI(d)?pK(YN,d):d}:function(d){return d[c]}}function $N(a){if(1===M(a))return J(a);var b=Sf(a);return function(c){return H(b.map(function(d){return d.B?d.B(c):d.call(null,c)}))}}function aO(a,b){for(var c=Nd(W);;){var d=J(b);if(null==d)return Pd(c);var e=a.B?a.B(d):a.call(null,d);b=K(b);c=Xg.C(c,e,lf.j(C.C(c,e,Ce),d))}}
function bO(a,b){var c=au.B(a),d=au.B(b),e=It.B(a),f=It.B(b);a=Wf(CN(It.B(a),It.B(b)));var h=Gh.j(function(v){return ZN(e,v)},a),k=Gh.j(function(v){return ZN(f,v)},a);a=Zi(e);b=Wf(lI.j(pk(Zi(f)),pk(Zi(e))));var m=Sf(Gh.j(e,a)),n=Sf(Gh.j(f,b));h=$N(h);var p=aO(h,c),u=$N(k);c=Pd(w.C(function(v,y){var E=u.B?u.B(y):u.call(null,y);E=C.j(p,E);return null==E?v:w.C(function(G,I){return Vg.j(G,JN(I,m,y,n))},v,E)},Nd(mf),d));return new BN(sk(V.j(a,b),Bk.O()),c,null,null,null)}
function cO(a,b){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,It);c=C.j(c,au);b=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;var e=C.j(b,It);b=C.j(b,au);var f=CN(d,e),h=Gh.j(function(n){return ZN(e,n)},f);h=$N(h);var k=aO(h,b);b=Gh.j(function(n){return ZN(d,n)},f);var m=$N(b);return R.C(a,au,Zh(function(n){n=m.B?m.B(n):m.call(null,n);return null==(k.B?k.B(n):k.call(null,n))},c))}
function dO(a,b){var c=Yh.j(function(d){return d instanceof B?null:d},b);a=NJ(a,c);b=Xh.j(W,Vh(function(d){var e=Q(d,0,null);Q(d,1,null);return GN(e)},Gh.C(Di,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new BN(b,a,null,null,null)}
function eO(a,b){a=Vh(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=J(d);var h=J(e);if(h instanceof B||F.j(f,h))d=K(d),e=K(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=Xh.j(W,Vh(function(d){var e=Q(d,0,null);Q(d,1,null);return GN(e)},Gh.C(Di,b,Bk.O())));return new BN(c,Yh.j(Sf,a),null,null,null)}function fO(a,b){return(null!=a?l===a.ki||(a.rd?0:yc(MJ,a)):yc(MJ,a))?dO(a,b):eO(a,b)}
function gO(a,b){for(var c=mf;;){var d=J(a);if(null==d)return lf.j(c,b);r(jh(CN(It.B(b),It.B(d))))?(a=K(a),b=bO(d,b)):(a=K(a),c=lf.j(c,d))}}function hO(a,b){return ph(function(c){return Lf(It.B(c),b)?c:null},$v.B(a))}function iO(a,b){var c=hO(a,b);if(null==c)return null;a=J(au.B(c));null==a?b=null:(c=It.B(c),b=c.B?c.B(b):c.call(null,b),b=a[b]);return b}function jO(a,b){return ph(function(c){return Lf(It.B(a),c)},b)}
function kO(a,b){var c=Vh(function(e){return jO(e,b)},$v.B(a)),d=w.j(LN,c);return new X(null,2,5,Z,[ei.C(a,$v,function(e){return Wh(pk(c),e)}),d],null)}
function lO(a,b,c,d){a=$w.B(a);b=It.B(b);for(var e=M(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=Ye(d,k);if(m instanceof B){var n=C.j(a,m);null==n?h[k]=C.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Di?function(p){for(var u=f.slice(0),v=0;;)if(v<e){var y=h[v];null!=y&&(u[v]=p[y]);v+=1}else break;return dh(c,u)}:function(p){for(var u=0;;)if(u<e){var v=h[u];null!=v&&(f[u]=p[v]);u+=1}else break;return dh(c,f)}}
function mO(a,b){var c=Q(b,0,null);c=H(c);var d=J(c),e=K(c),f=function(){var m=C.j(QN,d);if(r(m))return m;m=iO(a,d);if(r(m))return m;if(r(null))return null;if(null==hO(a,d))throw bm(["Unknown predicate '",dl.F(P([d]))," in ",dl.F(P([b]))].join(""),new q(null,3,[up,Er,gt,b,ou,d],null));return null}();c=kO(a,Vh(re,e));var h=Q(c,0,null),k=Q(c,1,null);c=r(f)?function(){var m=lO(h,k,f,e);return ei.C(k,au,function(n){return Vh(m,n)})}():R.C(k,au,mf);return ei.P(h,$v,lf,c)}
function nO(a,b){var c=Q(b,0,null);c=H(c);var d=J(c),e=K(c);c=Q(b,1,null);var f=JM(c),h=function(){var n=C.j(QN,d);if(r(n))return n;n=iO(a,d);if(r(n))return n;if(r(null))return null;if(null==hO(a,d))throw bm(["Unknown function '",dl.F(P([d]))," in ",dl.F(P([b]))].join(""),new q(null,3,[up,Er,gt,b,ou,d],null));return null}();c=kO(a,Vh(re,e));var k=Q(c,0,null),m=Q(c,1,null);c=r(h)?function(){var n=lO(k,m,h,e),p=function(){return function y(v){return new Hg(null,function(){for(var E=v;;)if(E=H(E)){if(Ef(E)){var G=
Xd(E),I=M(G),N=Lg(I);a:for(var O=0;;)if(O<I){var U=x(G,O),ea=n(U);null!=ea&&(U=LN.j(new BN(It.B(m),new X(null,1,5,Z,[U],null),null,null,null),UN(f,ea)),N.add(U));O+=1}else{G=!0;break a}return G?Ng(Pg(N),y(Yd(E))):Ng(Pg(N),null)}N=J(E);G=n(N);if(null!=G)return df(LN.j(new BN(It.B(m),new X(null,1,5,Z,[N],null),null,null,null),UN(f,G)),y(Be(E)));E=Be(E)}else return null},null,null)}(au.B(m))}();return wf(p)?LN.j(m,TN(f)):w.j(KN,p)}():LN.j(R.C(m,au,mf),TN(f));return ei.P(k,$v,gO,c)}
function oO(a,b){if(zf(b)){var c=FN(J(b))?hf(b):J(b);if(c instanceof B){if(GN(c)||Lf(new mk(null,new q(null,6,[Kv,null,Nx,null,Cq,null,mp,null,mr,null,gq,null],null),null),c))return!1;if(Lf(Zv.B(a),c))return!0;throw bm(["Unknown rule '",dl.F(P([c]))," in ",dl.F(P([b]))].join(""),new q(null,2,[up,Er,gt,b],null));}}return!1}var pO=yh(0);
function qO(a,b){var c=H(a),d=J(c),e=K(c),f=Ah.j(pO,Ke),h=C.j(Zv.B(b),d);return function n(m){return new Hg(null,function(){for(;;){var p=H(m);if(p){var u=p;if(Ef(u)){var v=Xd(u),y=M(v),E=Lg(y);return function(){for(var va=0;;)if(va<y){var Ba=x(v,va),eb=Ba,mc=H(eb),zb=J(mc),fc=K(mc),Xb=zb,Sd=H(Xb),eg=J(Sd),Cf=K(Sd),Wg=eg,Zc=Cf,Ed=fc,xe=sk(Zc,e);Og(E,kC(function(Uh,Fd,he,Td,Qn,hu,iu,mm,rj,Eo,Xq,Yq,og,Zq,$q,Fo,ju,sj,tj,nm,ar,br,cr,iz,BU,yH){return function(Kk){if(GN(Kk)){var jz=og.B?og.B(Kk):og.call(null,
Kk);return null==jz?ue.B([Gg(Kk),"__auto__",t.B(yH)].join("")):jz}return Kk}}(va,eb,mc,zb,fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Ba,v,y,E,u,p,a,c,d,e,d,e,f,h),Ed));va+=1}else return!0}()?Ng(Pg(E),n(Yd(u))):Ng(Pg(E),null)}var G=J(u),I=G,N=H(I),O=J(N),U=K(N),ea=O,fa=H(ea),qa=J(fa),za=K(fa),Sa=qa,ka=za,oa=U,ya=sk(ka,e);return df(kC(function(va,Ba,eb,mc,zb,fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Uh,Fd,he,Td,Qn,hu,iu,mm){return function(rj){if(GN(rj)){var Eo=Zc.B?Zc.B(rj):Zc.call(null,rj);return null==Eo?ue.B([Gg(rj),"__auto__",
t.B(mm)].join("")):Eo}return rj}}(I,N,O,U,ea,fa,qa,za,Sa,ka,oa,ya,G,u,p,a,c,d,e,d,e,f,h),oa),n(Be(u)))}return null}},null,null)}(h)}function rO(a,b){a=Wh(function(c){var d=Q(c,0,null);c=Q(c,1,null);return F.j(d,c)},Gh.C(Di,a,b));return new X(null,2,5,Z,[Gh.j(J,a),Gh.j(hf,a)],null)}
function sO(a,b){a=H(a);var c=J(a),d=K(a);return function h(f){return new Hg(null,function(){for(;;){var k=H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),y=rO(d,v);v=Q(y,0,null);y=Q(y,1,null);v=new X(null,1,5,Z,[V.F(new X(null,1,5,Z,[Fx],null),v,P([y]))],null);p.add(v);u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}p=J(k);m=rO(d,p);p=Q(m,0,null);m=Q(m,1,null);return df(new X(null,1,5,Z,[V.F(new X(null,1,5,Z,[Fx],null),p,P([m]))],null),h(Be(k)))}return null}},
null,null)}(C.j(b,c))}function tO(a){var b=yh(mf);kC(function(c){r(GN.B?GN.B(c):GN.call(null,c))&&Ah.C(b,lf,c);return c},a);return z(b)}function uO(a,b){function c(e){e=Q(e,0,null);e=H(e);J(e);e=K(e);return oh(d,e)}var d=pk(tO(a));return new X(null,2,5,Z,[Vh(c,b),Wh(c,b)],null)}
function vO(a,b){function c(fc){return ph(function(Xb){return wf(au.B(Xb))},$v.B(fc))}function d(fc,Xb){return w.C(wO,fc,Xb)}for(var e=Vh(GN,b),f=sk(e,Bk.O()),h=new nf(null,new q(null,5,[Ho,mf,bA,a,Py,new X(null,1,5,Z,[b],null),Yx,W,Hy,W],null),null,1,null),k=new BN(f,mf,null,null,null);;){var m=J(h);if(null==m)return k;var n=m,p=Dk(function(){return function(fc){return!oO(a,fc)}}(h,k,n,m,e,f,d,c),Py.B(n)),u=Q(p,0,null),v=Q(p,1,null),y=H(v),E=J(y),G=K(y),I=E,N=G;if(null==I){b=d(bA.B(n),u);b=xO?xO(b,
e):yO.call(null,b,e);var O=new BN(f,b,null,null,null);b=K(h);O=KN(k,O);h=b;k=O}else{var U=I,ea=H(U),fa=J(ea),qa=K(ea),za=fa,Sa=qa,ka=sO(I,Yx.B(n)),oa=uO(V.j(Ho.B(n),u),V.j(ka,Hy.B(n))),ya=Q(oa,0,null),va=Q(oa,1,null);if(r(ph(function(){return function(fc){return F.j(fc,new X(null,1,5,Z,[Ag(Fx)],null))}}(h,k,U,ea,fa,qa,za,Sa,ka,oa,ya,va,p,u,v,y,E,G,I,N,n,m,e,f,d,c),ya)))b=K(h),O=k,h=b,k=O;else{var Ba=V.j(u,ya),eb=d(bA.B(n),Ba);if(r(c(eb)))b=K(h),O=k,h=b,k=O;else{var mc=R.C(Yx.B(n),za,lf.j(C.C(Yx.B(n),
za,mf),Sa)),zb=qO(I,a);b=V.j(function(){return function(fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Uh,Fd,he,Td,Qn,hu,iu,mm,rj,Eo,Xq,Yq,og,Zq,$q,Fo,ju,sj,tj,nm,ar){return function iz(cr){return new Hg(null,function(BU,yH,Kk,jz,AH,BH,zX,AX,BX,CX,DX,EX,FX,GX,HX,CH,IX,JX,KX,LX,MX,NX,OX,DH){return function(){for(;;){var Go=H(cr);if(Go){if(Ef(Go)){var lu=Xd(Go),EH=M(lu),er=Lg(EH);a:for(var kz=0;;)if(kz<EH){var lz=x(lu,kz);lz=new q(null,5,[Ho,AH,bA,BH,Py,Xh.C(mf,vl,P([lz,DH])),Yx,Kk,Hy,CH],null);er.add(lz);kz+=1}else{lu=
!0;break a}return lu?Ng(Pg(er),iz(Yd(Go))):Ng(Pg(er),null)}er=J(Go);return df(new q(null,5,[Ho,AH,bA,BH,Py,Xh.C(mf,vl,P([er,DH])),Yx,Kk,Hy,CH],null),iz(Be(Go)))}return null}}}(fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe,Uh,Fd,he,Td,Qn,hu,iu,mm,rj,Eo,Xq,Yq,og,Zq,$q,Fo,ju,sj,tj,nm,ar),null,null)}}(h,k,mc,zb,Ba,eb,U,ea,fa,qa,za,Sa,ka,oa,ya,va,p,u,v,y,E,G,I,N,n,m,e,f,d,c)(zb)}(),K(h));O=k;h=b;k=O}}}}}
function zO(a,b){if(null!=a?l===a.Ng||(a.rd?0:yc(QJ,a)):yc(QJ,a)){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null),f=Q(b,3,null);return Ii(new X(null,4,5,Z,[r(function(){var h=IN(c);return r(h)?h:HN(c)}())?mK(a,c):c,d,r(function(){if(r(e)){if(HN(d)&&lK(a,d)){var h=IN(e);return r(h)?h:HN(e)}return!1}return e}())?mK(a,e):e,r(IN(f))?mK(a,f):f],null),0,M(b))}return b}
function AO(a,b){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null);b=Q(b,3,null);c=GN(c)?lf.j(ok,c):ok;c=GN(b)?lf.j(c,b):c;return GN(e)&&!GN(d)&&lK(a,d)?lf.j(c,e):c}function BO(a,b){return R.C(a,$v,wh(function(c){var d=jh(jk(It.B(c),b));return null==d?null:R.C(c,It,d)},$v.B(a)))}function CO(a){return Xh.j(ok,Sh(function(b){return Zi(It.B(b))},P([$v.B(a)])))}
function DO(a,b,c){if(mI(b,a))return null;a=lI.j(pk(b),a);throw bm(["Insufficient bindings: ",dl.F(P([a]))," not bound in ",dl.F(P([c]))].join(""),new q(null,3,[up,Er,gt,c,ds,a],null));}function EO(a,b,c){b=Yh.j(function(d){return lI.j(pk(tO(d)),a)},b);if(r(dh(F,b)))return null;throw bm(["All clauses in 'or' must use same set of free vars, had ",dl.F(P([b]))," in ",dl.F(P([c]))].join(""),new q(null,3,[up,Er,gt,c,ds,b],null));}
function FO(a,b,c){for(var d=pk(Wh(a,b)),e=H(c),f=null,h=0,k=0;;)if(k<h){c=f.xa(null,k);var m=jh(lI.j(d,pk(tO(c))));if(null!=m)throw e=m,Rk(al(P([c,a,b,d]),lc())),r(hc)&&cl(),bm(["All clauses in 'or' must use same set of free vars, had ",dl.F(P([e]))," not bound in ",dl.F(P([c]))].join(""),new q(null,3,[up,Er,gt,c,ds,e],null));k+=1}else if(c=H(e)){e=c;if(Ef(e))f=Xd(e),e=Yd(e),c=f,h=M(f),f=c;else{c=J(e);f=jh(lI.j(d,pk(tO(c))));if(null!=f)throw e=f,Rk(al(P([c,a,b,d]),lc())),r(hc)&&cl(),bm(["All clauses in 'or' must use same set of free vars, had ",
dl.F(P([e]))," not bound in ",dl.F(P([c]))].join(""),new q(null,3,[up,Er,gt,c,ds,e],null));e=K(e);f=null;h=0}k=0}else return null}var wO=function wO(a){switch(arguments.length){case 2:return wO.j(arguments[0],arguments[1]);case 3:return wO.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};wO.j=function(a,b){return wO.C(a,b,b)};
wO.C=function(a,b,c){for(;;){var d=EN,e=b;if(r(function(){var O=new X(null,1,5,Z,[new X(null,2,5,Z,[re,Bx],null)],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return DO(CO(a),Vh(GN,K(J(b))),b),mO(a,b);if(r(function(){var O=new X(null,2,5,Z,[new X(null,2,5,Z,[re,Bx],null),gq],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return DO(CO(a),Vh(GN,K(J(b))),b),nO(a,b);if(r(function(){var O=new X(null,2,5,Z,[FN,Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var f=H(b);c=J(f);f=K(f);var h=
YN;YN=C.j($w.B(a),c);try{return wO.C(a,f,b)}finally{YN=h}}else{if(r(function(){var O=new X(null,2,5,Z,[mr,Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var k=b,m=H(k),n=J(m),p=K(m);f=n;h=p;var u=EO(CO(a),h,b),v=Gh.j(function(O){return function(U){return GO.j?GO.j(O,U):GO.call(null,O,U)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=Gh.j(function(){return function(O){return w.j(bO,$v.B(O))}}(a,b,c,k,m,n,p,f,h,u,v,d,e),v);return R.C(J(v),$v,new X(null,1,5,Z,[w.j(KN,b)],null))}if(r(function(){var O=new X(null,
3,5,Z,[mp,new X(null,2,5,Z,[new X(null,1,5,Z,[Bx],null),Bx],null),Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){h=H(b);f=J(h);h=K(h);k=J(h);f=K(h);k=H(k);h=J(k);k=K(k);u=h;h=f;f=CO(a);DO(f,u,c);FO(f,k,h);c=Sg(mp,V.j(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var O=new X(null,3,5,Z,[mp,new X(null,1,5,Z,[Bx],null),Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){n=b;p=H(n);var y=J(p),E=K(p);f=y;var G=J(E),I=K(E);k=G;h=I;var N=pk(k);u=FO(CO(a),N,h);m=BO(a,N);v=Gh.j(function(O,
U,ea,fa,qa,za,Sa,ka,oa,ya,va,Ba,eb,mc,zb){return function(fc){return BO(GO.j?GO.j(zb,fc):GO.call(null,zb,fc),eb)}}(a,b,c,n,p,y,E,f,G,I,k,h,N,u,m,d,e),h);b=Gh.j(function(){return function(O){return w.j(bO,$v.B(O))}}(a,b,c,n,p,y,E,f,G,I,k,h,N,u,m,v,d,e),v);b=w.j(KN,b);return ei.P(a,$v,gO,b)}if(r(function(){var O=new X(null,2,5,Z,[Kv,Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return c=H(b),b=J(c),c=K(c),f=b,b=c,w.C(GO,a,b);if(r(function(){var O=new X(null,2,5,Z,[Nx,Bx],null),U=e;return d.j?
d.j(O,U):d.call(null,O,U)}())){f=H(b);b=J(f);h=K(f);f=b;b=h;f=CO(a);h=pk(tO(b));if(wf(kI.j(f,h)))throw bm(["Insufficient bindings: none of ",dl.F(P([h]))," is bound in ",dl.F(P([c]))].join(""),new q(null,2,[up,Er,gt,c],null));u=null;a=R.C(a,$v,new X(null,1,5,Z,[w.j(bO,$v.B(a))],null));b=w.C(GO,a,b);b=cO(J($v.B(a)),w.j(bO,$v.B(b)));return R.C(a,$v,new X(null,1,5,Z,[b],null))}if(r(function(){var O=new X(null,3,5,Z,[Cq,new X(null,1,5,Z,[Bx],null),Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return b=
H(b),f=J(b),b=K(b),f=J(b),b=K(b),k=f,f=CO(a),u=DO(f,k,c),a=R.C(a,$v,new X(null,1,5,Z,[w.j(bO,$v.B(a))],null)),m=BO(a,k),b=BO(w.C(GO,m,b),k),b=cO(J($v.B(a)),w.j(bO,$v.B(b))),R.C(a,$v,new X(null,1,5,Z,[b],null));if(r(function(){var O=new X(null,1,5,Z,[Bx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){c=YN;b=zO(c,b);f=fO(c,b);h=XN;XN=(null!=c?l===c.Ng||(c.rd?0:yc(QJ,c)):yc(QJ,c))?AO(c,b):XN;try{return ei.P(a,$v,gO,f)}finally{XN=h}}else throw Error(["No matching clause: ",t.B(e)].join(""));}}break}};
wO.Y=3;var GO=function GO(a,b){if(oO(a,b))if(FN(J(b))){var d=YN;YN=C.j($w.B(a),J(b));try{var e=K(b);return GO.j?GO.j(a,e):GO.call(null,a,e)}finally{YN=d}}else return ei.P(a,$v,gO,vO(a,b));else return wO.j(a,b)};function HO(a,b){var c=YN;YN=C.j($w.B(a),Hp);try{return w.C(GO,a,b)}finally{YN=c}}
function yO(a){switch(arguments.length){case 2:return xO(arguments[0],arguments[1]);case 3:return IO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function xO(a,b){a=$v.B(a);return IO(new X(null,1,5,Z,[Array(M(b))],null),a,b)}
function IO(a,b,c){for(;;){var d=J(b);if(null==d)return a;if(wf(au.B(d)))return mf;var e=jk(It.B(d),c);if(wf(e)){var f=a,h=K(b),k=c;a=f;b=h;c=k}else{var m=Sf(Gh.j(function(p,u,v,y){return function(E){return C.j(y,E)}}(a,b,c,e,d),c)),n=M(c);f=function(){return function(p,u,v,y,E,G,I){return function U(O){return new Hg(null,function(ea,fa,qa,za,Sa,ka,oa){return function(){for(var ya=O;;){var va=H(ya);if(va){var Ba=va,eb=J(Ba);if(va=H(function(mc,zb,fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe){return function he(Fd){return new Hg(null,
function(Td,Qn,hu,iu,mm,rj,Eo,Xq,Yq){return function(){for(;;){var og=H(Fd);if(og){if(Ef(og)){var Zq=Xd(og),$q=M(Zq),Fo=Lg($q);return function(){for(var sj=0;;)if(sj<$q){for(var tj=x(Zq,sj),nm=Fo,ar=Fc(mm),br=0;;)if(br<Yq){var cr=Xq[br];null!=cr&&(ar[br]=tj[cr]);br+=1}else break;nm.add(ar);sj+=1}else return!0}()?Ng(Pg(Fo),he(Yd(og))):Ng(Pg(Fo),null)}var ju=J(og);return df(function(){for(var sj=Fc(mm),tj=0;;)if(tj<Yq){var nm=Xq[tj];null!=nm&&(sj[tj]=ju[nm]);tj+=1}else break;return sj}(),he(Be(og)))}return null}}}(mc,
zb,fc,Xb,Sd,eg,Cf,Wg,Zc,Ed,xe),null,null)}}(ya,ea,fa,qa,eb,Ba,va,za,Sa,ka,oa)(au.B(oa))))return V.j(va,U(Be(ya)));ya=Be(ya)}else return null}}}(p,u,v,y,E,G,I),null,null)}}(a,b,c,m,n,e,d)(a)}();h=K(b);k=c;a=f;b=h;c=k}}}function JO(a,b){return pk(Gh.j(Wf,xO(a,b)))}
function KO(a,b){if(null!=a&&null!=a.oe)a=a.oe(a,b);else{var c=KO[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=KO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IContextResolve.-context-resolve",a);}return a}lM.prototype.oe=function(a,b){return iO(b,this.symbol)};nM.prototype.oe=function(a,b){return ai(b,new X(null,2,5,Z,[$w,this.symbol],null))};rM.prototype.oe=function(){var a=C.j(RN,this.symbol);return r(a)?a:null};qM.prototype.oe=function(){return this.value};
function LO(a,b,c){return Yh.P(function(d,e,f){if(TM(d)){e=KO(hA.B(d),b);d=Gh.j(function(k){return KO(k,b)},rk(iA.B(d)));var h=Gh.j(function(k){return Ye(k,f)},c);return dh(e,V.j(d,new X(null,1,5,Z,[h],null)))}return e},a,J(c),Bk.O())}function MO(a){var b=rh(TM);return Wh(tc,Gh.C(function(c,d){return r(b.B?b.B(c):b.call(null,c))?d:null},a,Bk.O()))}
function NO(a,b,c){var d=MO(a);return function h(f){return new Hg(null,function(){for(;;){var k=H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u);Q(v,0,null);v=Q(v,1,null);v=LO(a,b,v);p.add(v);u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}p=J(k);Q(p,0,null);p=Q(p,1,null);return df(LO(a,b,p),h(Be(k)))}return null}},null,null)}(Il(function(f){return Gh.j(function(h){return Ye(f,h)},d)},c))}
function OO(a,b){return w.C(function(c,d){return lf.j(c,a.B?a.B(d):a.call(null,d))},of(b),b)}function PO(a,b){var c=$x.B(a),d=Bk.j(0,M(c));return OO(function(e){return w.C(function(f,h){return R.C(f,Ye(c,h),Ye(e,h))},W,d)},b)}function QO(a,b,c){if(null!=a&&null!=a.pe)a=a.pe(a,b,c);else{var d=QO[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=QO._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IPostProcess.-post-process",a);}return a}
PM.prototype.pe=function(a,b,c){return null==b?c:PO(b,c)};QM.prototype.pe=function(a,b,c){return Xh.C(mf,Gh.B(J),c)};RM.prototype.pe=function(a,b,c){return jf(c)};SM.prototype.pe=function(a,b,c){return null!=b?J(PO(b,new X(null,1,5,Z,[J(c)],null))):J(c)};
function RO(a,b,c){var d=function(){return function h(f){return new Hg(null,function(){for(;;){var k=H(f);if(k){if(Ef(k)){var m=Xd(k),n=M(m),p=Lg(n);a:for(var u=0;;)if(u<n){var v=x(m,u);v=UM(v)?new X(null,2,5,Z,[KO(fn.B(v),b),mL(KO(oA.B(v),b))],null):null;p.add(v);u+=1}else{m=!0;break a}return m?Ng(Pg(p),h(Yd(k))):Ng(Pg(p),null)}p=J(k);return df(UM(p)?new X(null,2,5,Z,[KO(fn.B(p),b),mL(KO(oA.B(p),b))],null):null,h(Be(k)))}return null}},null,null)}(a)}();return function h(f){return new Hg(null,function(){for(;;){var k=
H(f);if(k){var m=k;if(Ef(m)){var n=Xd(m),p=M(n),u=Lg(p);return function(){for(var y=0;;)if(y<p){var E=x(n,y);Og(u,Yh.C(function(){return function(G,I){if(r(G)){var N=Q(G,0,null);G=Q(G,1,null);return IL(N,G,new X(null,1,5,Z,[I],null))}return I}}(y,E,n,p,u,m,k,d),d,E));y+=1}else return!0}()?Ng(Pg(u),h(Yd(m))):Ng(Pg(u),null)}var v=J(m);return df(Yh.C(function(){return function(y,E){if(r(y)){var G=Q(y,0,null);y=Q(y,1,null);return IL(G,y,new X(null,1,5,Z,[E],null))}return E}}(v,m,k,d),d,v),h(Be(m)))}return null}},
null,null)}(c)}var SO=new Ch(LL(W,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;a:for(b=H(b),d=ck;;)if(b)c=K(K(b)),d=R.C(d,J(b),hf(b)),b=c;else break a;return d}(),W,0,100));function TO(a){var b=C.C(z(SO),a,null);return null==b?(b=zN(a),SO.fe(null,R.C(SO.ub(null),a,b)),b):b}
function qE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ze(b.slice(1),0,null):null;return UO(arguments[0],b)}function UO(a,b){var c=TO(a),d=yq.B(c),e=OM(d),f=Sh(LM,P([OM(d)])),h=M(e),k=mA.B(c);f=V.j(f,Gh.j(Pw,k));a=zf(a)?wN(a):a;k=ip.B(a);b=WN(new AN(mf,W,W,null,null,null),uy.B(c),b);f=JO(HO(b,k),f);f=r(kB.B(a))?Yh.j(function(m){return Wf(Ii(m,0,h))},f):f;f=r(ph(TM,e))?NO(e,b,f):f;e=r(ph(UM,e))?RO(e,b,f):f;return QO(d,uw.B(c),e)};function VO(a,b){var c=yh(null);Ah.j(a,function(d){var e=JK;d=new q(null,5,[eo,d,wu,d,Vr,mf,gC,W,Do,null],null);var f=S.F(d,eo,P([wu,Vr,gC,Do]));f=Bf(d)?Xh.j(W,f):f;d=new nK(eo.B(d),wu.B(d),Vr.B(d),gC.B(d),Do.B(d),null,jh(f),null);e=e(d,b);zh(c,e);return wu.B(e)});return z(c)}
function WO(a){var b=pE;a=VO(b,a);b=bu.B(uf(b));b=null==b?null:z(b);b=H(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Q(f,0,null);f=Q(f,1,null);f.B?f.B(a):f.call(null,a);e+=1}else if(b=H(b))Ef(b)?(d=Xd(b),b=Yd(b),c=d,d=M(d)):(c=J(b),Q(c,0,null),c=Q(c,1,null),c.B?c.B(a):c.call(null,a),b=K(b),c=null,d=0),e=0;else break;return a}function XO(a){var b=pE,c=Gl.O();Ah.P(bu.B(uf(b)),R,c,a)}
for(var YO=H(new q(null,2,[bt,function(a){return dh(gJ,a)},zv,function(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,Ur);b=C.j(b,Gq);return hK(Gh.j(function(c){var d=Q(c,0,null),e=Q(c,1,null),f=Q(c,2,null);c=Q(c,3,null);return gJ.P(d,e,f,c)},b),a)}],null)),ZO=null,$O=0,aP=0;;)if(aP<$O){var bP=ZO.xa(null,aP),cP=Q(bP,0,null),dP=Q(bP,1,null),eP=cP,fP=dP;C.j(z(hI),eP);Ah.P(hI,R,eP,fP);aP+=1}else{var gP=H(YO);if(gP){var hP=gP;if(Ef(hP)){var iP=Xd(hP),jP=Yd(hP),kP=iP,lP=M(iP);YO=jP;ZO=kP;$O=lP}else{var mP=
J(hP),nP=Q(mP,0,null),oP=Q(mP,1,null),pP=nP,qP=oP;C.j(z(hI),pP);Ah.P(hI,R,pP,qP);YO=K(hP);ZO=null;$O=0}aP=0}else break};var pE,rP=new q(null,3,[PB,new q(null,1,[Bm,bz],null),Kx,new q(null,2,[LA,Ez,du,ky],null),Qp,new q(null,2,[LA,Ez,du,hB],null)],null),sP=YJ?YJ(rP):ZJ.call(null,rP),tP=P([pc,new q(null,1,[bu,yh(W)],null)]),uP=null!=tP&&(tP.J&64||l===tP.qa)?dh(dk,tP):tP,vP=C.j(uP,pc),wP=C.j(uP,mt);pE=new xh(sP,vP,wP);function xP(a){return WO(new X(null,1,5,Z,[new X(null,2,5,Z,[Rp,a],null)],null))};RC(PB,zo,function(a){return"string"==typeof a});RC(Ns,new mk(null,new q(null,4,[cq,"null",Wm,"null",Eq,"null",qs,"null"],null),null),new mk(null,new q(null,4,[cq,null,Wm,null,Eq,null,qs,null],null),null));
RC(Kq,Ag(Dv,dx,new X(null,2,5,Z,[PB,Ns],null)),function yP(a){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,DB),e=C.j(c,Cs),f=C.j(c,Jo),h=C.j(c,Uu),k=C.j(c,aw),m=C.j(c,uv),n=C.j(c,wA),p=C.j(c,ox),u=C.j(c,dx),v=C.j(c,dB),y=C.j(c,Vv),E=C.j(c,Fu),G=sk(V.j(v,n),V.j(p,y)),I=$l();if("undefined"===typeof bc||"undefined"===typeof lC||"undefined"===typeof uC||"undefined"===typeof vC)vC=function(N,O,U,ea,fa,qa,za,Sa,ka,oa,ya,va,Ba,eb,mc,zb,fc,Xb,Sd){this.xi=N;this.Ze=O;this.Vi=U;this.jj=ea;this.Yi=fa;
this.Dd=qa;this.Zi=za;this.aj=Sa;this.$e=ka;this.wg=oa;this.Wi=ya;this.ij=va;this.req=Ba;this.id=eb;this.hj=mc;this.Xi=zb;this.ti=fc;this.bj=Xb;this.Di=Sd;this.J=393216;this.T=0},vC.prototype.fa=function(N,O){return new vC(this.xi,this.Ze,this.Vi,this.jj,this.Yi,this.Dd,this.Zi,this.aj,this.$e,this.wg,this.Wi,this.ij,this.req,this.id,this.hj,this.Xi,this.ti,this.bj,O)},vC.prototype.ea=function(){return this.Di},vC.prototype.sd=function(){return this},vC.prototype.td=function(){return this},vC.prototype.Qe=
l,vC.prototype.ie=function(N,O){if(r(this.$e.B?this.$e.B(O):this.$e.call(null,O))){N=z(BC);var U=H(O),ea=J(U);K(U);Q(ea,0,null);Q(ea,1,null);for(ea=U=O;;){O=U;var fa=ea;ea=H(fa);U=J(ea);var qa=K(ea);ea=U;U=Q(ea,0,null);ea=Q(ea,1,null);if(r(fa))if(fa=this.Ze.B?this.Ze.B(U):this.Ze.call(null,U),fa=C.j(N,fa),r(fa)){var za=ea;fa=zC(PC.B(fa),za);if(T(wt,fa))return wt;O=fa===ea?O:R.C(O,U,fa);ea=qa;U=O}else ea=qa,U=O;else return O}}else return wt},vC.prototype.je=function(N,O){N=R.C(this.wg,Uu,O);return yP.B?
yP.B(N):yP.call(null,N)},vC.rb=!0,vC.kb="cljs.spec.alpha/t_cljs$spec$alpha22692",vC.vb=function(N){return A(N,"cljs.spec.alpha/t_cljs$spec$alpha22692")};return new vC(c,function(N){var O=G.B?G.B(N):G.call(null,N);return r(O)?O:N},d,e,f,h,a,k,m,c,n,p,u,I,v,y,G,E,W)}(Kj([Cs,Jo,Uu,aw,uv,wA,ox,dx,dB,Vv,Fu,DB],[null,null,null,new X(null,3,5,Z,[function(a){return Af(a)},function(a){return Lf(a,PB)},function(a){return Lf(a,Ns)}],null),function(a){return Af(a)&&Lf(a,PB)&&Lf(a,Ns)},mf,new X(null,2,5,Z,[PB,
Ns],null),new X(null,2,5,Z,[PB,Ns],null),new X(null,2,5,Z,[PB,Ns],null),mf,new X(null,3,5,Z,[Ag(mn,new X(null,1,5,Z,[ft],null),Ag(Jr,ft)),Ag(mn,new X(null,1,5,Z,[ft],null),Ag(Rw,ft,PB)),Ag(mn,new X(null,1,5,Z,[ft],null),Ag(Rw,ft,Ns))],null),null])));RC(rv,Ag(Qq,Kq),WC(Kq,Kq,new q(null,4,[Cn,null,$r,function(a){return xf(a)},bC,!0,pz,Ag(Qq,Kq)],null),null));var zP={},AP,BP,CP,DP={};function EP(a,b){if(null!=a&&null!=a.Hf)a=a.Hf(a,b);else{var c=EP[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=EP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("ReadPort.take!",a);}return a}function FP(a,b,c){if(null!=a&&null!=a.Pe)a=a.Pe(a,b,c);else{var d=FP[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=FP._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("WritePort.put!",a);}return a}
function GP(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=GP[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=GP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Channel.close!",a);}return a}function HP(a){if(null!=a&&null!=a.$b)a=a.$b(a);else{var b=HP[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=HP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Handler.active?",a);}return a}
function IP(a){if(null!=a&&null!=a.Sb)a=a.Sb(a);else{var b=IP[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=IP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Handler.commit",a);}return a}function JP(a,b){if(null!=a&&null!=a.Gf)a=a.Gf(a,b);else{var c=JP[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=JP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Buffer.add!*",a);}return a}
var KP=function KP(a){switch(arguments.length){case 1:return KP.B(arguments[0]);case 2:return KP.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};KP.B=function(a){return a};KP.j=function(a,b){return JP(a,b)};KP.Y=2;function LP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function MP(a){this.length=this.tail=this.head=0;this.K=a}g=MP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.K[this.tail];this.K[this.tail]=null;this.tail=(this.tail+1)%this.K.length;--this.length;return a};g.unshift=function(a){this.K[this.head]=a;this.head=(this.head+1)%this.K.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.K.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.K.length);return this.tail<this.head?(LP(this.K,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.K=a):this.tail>this.head?(LP(this.K,this.tail,a,0,this.K.length-this.tail),LP(this.K,0,a,this.K.length-this.tail,this.head),this.tail=0,this.head=this.length,this.K=a):this.tail===this.head?(this.head=this.tail=0,this.K=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.B?a.B(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function NP(a){return new MP(Array(a))}function OP(a,b){this.buf=a;this.n=b;this.J=2;this.T=0}OP.prototype.Oe=function(){return this.buf.length>=this.n};OP.prototype.Gf=function(a,b){this.buf.unbounded_unshift(b);return this};OP.prototype.ja=function(){return this.buf.length};function PP(a,b){this.buf=a;this.n=b;this.J=2;this.T=0}PP.prototype.Oe=function(){return!1};
PP.prototype.Gf=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};PP.prototype.ja=function(){return this.buf.length};function QP(a){return new PP(NP(a),a)};function RP(){return Db("iPhone")&&!Db("iPod")&&!Db("iPad")};var SP=Db("Opera"),TP=Db("Trident")||Db("MSIE"),UP=Db("Edge"),VP=Db("Gecko")&&!(vb("WebKit")&&!Db("Edge"))&&!(Db("Trident")||Db("MSIE"))&&!Db("Edge"),WP=vb("WebKit")&&!Db("Edge");WP&&Db("Mobile");Db("Macintosh");Db("Windows");Db("Linux")||Db("CrOS");var XP=ma.navigator||null;XP&&(XP.appVersion||"").indexOf("X11");Db("Android");RP();Db("iPad");Db("iPod");RP()||Db("iPad")||Db("iPod");vb("KaiOS");vb("GAFP");function YP(){var a=ma.document;return a?a.documentMode:void 0}var ZP;
a:{var $P="",aQ=function(){var a=wb;if(VP)return/rv:([^\);]+)(\)|;)/.exec(a);if(UP)return/Edge\/([\d\.]+)/.exec(a);if(TP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(WP)return/WebKit\/(\S+)/.exec(a);if(SP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();aQ&&($P=aQ?aQ[1]:"");if(TP){var bQ=YP();if(null!=bQ&&bQ>parseFloat($P)){ZP=String(bQ);break a}}ZP=$P}var Ka={};
function cQ(a){return Ja(a,function(){{var b=0;const e=ub(String(ZP)).split("."),f=ub(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=xb(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||xb(0==c[2].length,0==d[2].length)||xb(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var dQ;
dQ=ma.document&&TP?YP():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!VP&&!TP||TP&&9<=Number(dQ)||VP&&cQ("1.9.1");TP&&cQ("9");function eQ(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var fQ;
function gQ(){var a=ma.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Db("Presto")&&(a=function(){var e=eQ(bb);e.style.display="none";Ib(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Gb());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Fa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Db("Trident")&&!Db("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Yd;c.Yd=null;e()}};return function(e){d.next={Yd:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in eQ(cb)?function(e){var f=eQ(cb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){ma.setTimeout(e,0)}};var hQ=NP(32),iQ=!1,jQ=!1;function kQ(){iQ=!0;jQ=!1;for(var a=0;;){var b=hQ.pop();if(null!=b&&(b.O?b.O():b.call(null),1024>a)){a+=1;continue}break}iQ=!1;return 0<hQ.length?lQ.O?lQ.O():lQ.call(null):null}function lQ(){if(jQ&&iQ)return null;jQ=!0;!ua(ma.setImmediate)||ma.Window&&ma.Window.prototype&&!Db("Edge")&&ma.Window.prototype.setImmediate==ma.setImmediate?(fQ||(fQ=gQ()),fQ(kQ)):ma.setImmediate(kQ)}function mQ(a){hQ.unbounded_unshift(a);lQ()}function nQ(a,b){setTimeout(a,b)};var oQ={},pQ;
function qQ(a){if("undefined"===typeof bc||"undefined"===typeof cc||"undefined"===typeof zP||"undefined"===typeof DP||"undefined"===typeof oQ||"undefined"===typeof pQ)pQ=function(b,c){this.val=b;this.Li=c;this.J=425984;this.T=0},pQ.prototype.fa=function(b,c){return new pQ(this.val,c)},pQ.prototype.ea=function(){return this.Li},pQ.prototype.ub=function(){return this.val},pQ.rb=!0,pQ.kb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels28117",pQ.vb=function(b){return A(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels28117")};return new pQ(a,
W)}function rQ(a,b){this.handler=a;this.val=b}function sQ(a){return HP(a.handler)}function tQ(a,b,c,d,e,f,h){this.Ud=a;this.We=b;this.gd=c;this.Ve=d;this.buf=e;this.closed=f;this.oc=h}function uQ(a){for(;;){var b=a.gd.pop();if(null!=b){var c=b.handler,d=b.val;if(c.$b(null)){var e=c.Sb(null);mQ(function(f){return function(){return f.B?f.B(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.gd.cleanup(sh(!1));a.ge(null)}
tQ.prototype.Pe=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.$b(null))return qQ(!f);if(r(function(){var u=d.buf;return r(u)?wc(d.buf.Oe()):u}())){c.Sb(null);var h=Ne(d.oc.j?d.oc.j(d.buf,b):d.oc.call(null,d.buf,b));c=function(){for(var u=mf;;)if(0<d.Ud.length&&0<M(d.buf)){var v=d.Ud.pop();if(v.$b(null)){var y=v.Sb(null),E=d.buf.buf.pop();u=lf.j(u,function(G,I,N){return function(){return I.B?I.B(N):I.call(null,N)}}(u,y,E,v,h,f,e))}}else return u}();h&&uQ(e);if(H(c)){c=H(c);a=null;for(var k=
0,m=0;;)if(m<k){var n=a.xa(null,m);mQ(n);m+=1}else if(c=H(c))a=c,Ef(a)?(c=Xd(a),m=Yd(a),a=c,k=M(c),c=m):(c=J(a),mQ(c),c=K(a),a=null,k=0),m=0;else break}return qQ(!0)}a=function(){for(;;){var u=d.Ud.pop();if(r(u)){if(r(u.$b(null)))return u}else return null}}();if(r(a)){var p=a.Sb(null);c.Sb(null);mQ(function(){return p.B?p.B(b):p.call(null,b)});return qQ(!0)}64<d.Ve?(d.Ve=0,d.gd.cleanup(sQ)):d.Ve+=1;r(c.he())&&d.gd.unbounded_unshift(new rQ(c,b));return null};
tQ.prototype.Hf=function(a,b){var c=this;if(b.$b(null)){if(null!=c.buf&&0<M(c.buf)){a=b.Sb(null);if(r(a)){var d=c.buf.buf.pop(),e=wc(c.buf.Oe())&&0<c.gd.length?function(){for(var G=mf;;){var I=c.gd.pop(),N=I.handler;I=I.val;N=N.$b(null)?N.Sb(null):!1;G=r(N)?lf.j(G,N):G;I=r(N)?Ne(c.oc.j?c.oc.j(c.buf,I):c.oc.call(null,c.buf,I)):null;if(!(wc(I)&&wc(c.buf.Oe())&&0<c.gd.length))return new X(null,2,5,Z,[I,G],null)}}():null,f=Q(e,0,null),h=Q(e,1,null);r(f)&&uQ(this);for(var k=H(h),m=null,n=0,p=0;;)if(p<
n){var u=m.xa(null,p);mQ(function(G,I,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,p,u,d,e,f,h,a,a,this));p+=1}else{var v=H(k);if(v){u=v;if(Ef(u))k=Xd(u),p=Yd(u),m=k,n=M(k),k=p;else{var y=J(u);mQ(function(G,I,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,p,y,u,v,d,e,f,h,a,a,this));k=K(u);m=null;n=0}p=0}else break}return qQ(d)}return null}a=function(){for(;;){var G=c.gd.pop();if(r(G)){if(HP(G.handler))return G}else return null}}();if(r(a)){var E=IP(a.handler);
b.Sb(null);mQ(function(){return E.B?E.B(!0):E.call(null,!0)});return qQ(a.val)}if(r(c.closed))return r(c.buf)&&(c.oc.B?c.oc.B(c.buf):c.oc.call(null,c.buf)),r(function(){var G=b.$b(null);return r(G)?b.Sb(null):G}())?(a=function(){var G=c.buf;return r(G)?0<M(c.buf):G}(),d=r(a)?c.buf.buf.pop():null,qQ(d)):null;64<c.We?(c.We=0,c.Ud.cleanup(HP)):c.We+=1;r(b.he())&&c.Ud.unbounded_unshift(b)}return null};
tQ.prototype.ge=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var e=a.buf;return r(e)?0===a.gd.length:e}())&&(a.oc.B?a.oc.B(a.buf):a.oc.call(null,a.buf));;){var b=a.Ud.pop();if(null!=b){if(b.$b(null)){var c=b.Sb(null),d=r(function(){var e=a.buf;return r(e)?0<M(a.buf):e}())?a.buf.buf.pop():null;mQ(function(e,f){return function(){return e.B?e.B(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function vQ(a){console.log(a);return null}
function wQ(a,b){var c=r(null)?null:vQ;b=c.B?c.B(b):c.call(null,b);return null==b?a:KP.j(a,b)}
function xQ(a,b){return new tQ(NP(32),0,NP(32),0,a,!1,function(){var c=r(b)?b.B?b.B(KP):b.call(null,KP):KP;return function(){function d(h,k){try{return c.j?c.j(h,k):c.call(null,h,k)}catch(m){return wQ(h,m)}}function e(h){try{return c.B?c.B(h):c.call(null,h)}catch(k){return wQ(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}()}())};function yQ(a,b,c){this.key=a;this.val=b;this.forward=c;this.J=2155872256;this.T=0}yQ.prototype.ha=function(){return new nf(null,this.key,new nf(null,this.val,null,1,null),2,null)};yQ.prototype.ga=function(a,b,c){return Ok(b,Wk,"["," ","]",c,this)};function zQ(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new yQ(a,b,c)}
function AQ(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function BQ(){this.header=zQ(null,null,0);this.level=0;this.J=2155872256;this.T=0}g=BQ.prototype;
g.put=function(a,b){var c=Array(15),d=AQ(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=zQ(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=AQ(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return F.j(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.ha=function(){return function c(b){return new Hg(null,function(){return null==b?null:df(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"{",", ","}",c,this)};var CQ=new BQ;function DQ(a){var b=(new Date).valueOf()+a,c=CQ.ceilingEntry(b);c=r(r(c)?c.key<b+10:c)?c.val:null;if(r(c))return c;var d=xQ(null,null);CQ.put(b,d);nQ(function(){CQ.remove(b);return GP(d)},a);return d};var EQ={},FQ;
function GQ(a){if("undefined"===typeof bc||"undefined"===typeof cc||"undefined"===typeof zP||"undefined"===typeof DP||"undefined"===typeof EQ||"undefined"===typeof FQ)FQ=function(b,c){this.f=b;this.Mi=c;this.J=393216;this.T=0},FQ.prototype.fa=function(b,c){return new FQ(this.f,c)},FQ.prototype.ea=function(){return this.Mi},FQ.prototype.$b=function(){return!0},FQ.prototype.he=function(){return!0},FQ.prototype.Sb=function(){return this.f},FQ.rb=!0,FQ.kb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers30135",FQ.vb=
function(b){return A(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers30135")};return new FQ(a,W)}function HQ(a){try{var b=a[0];return b.B?b.B(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].ge(null),b;throw c;}}function IQ(a,b,c){c=c.Hf(null,GQ(function(d){a[2]=d;a[1]=b;return HQ(a)}));return r(c)?(a[2]=z(c),a[1]=b,An):null}function JQ(a,b,c){b=b.Pe(null,c,GQ(function(d){a[2]=d;a[1]=11;return HQ(a)}));return r(b)?(a[2]=z(b),a[1]=11,An):null}
function KQ(a,b){a=a[6];null!=b&&a.Pe(null,b,GQ(function(){return null}));a.ge(null);return a};function LQ(a,b){return MQ(a,b)}function MQ(a,b){a=F.j(a,0)?null:a;return xQ("number"===typeof a?new OP(NP(a),a):a,b)}
var NQ=function(a){if("undefined"===typeof bc||"undefined"===typeof cc||"undefined"===typeof zP||"undefined"===typeof AP)AP=function(b,c,d){this.f=b;this.Ag=c;this.Ni=d;this.J=393216;this.T=0},AP.prototype.fa=function(b,c){return new AP(this.f,this.Ag,c)},AP.prototype.ea=function(){return this.Ni},AP.prototype.$b=function(){return!0},AP.prototype.he=function(){return this.Ag},AP.prototype.Sb=function(){return this.f},AP.rb=!0,AP.kb="cljs.core.async/t_cljs$core$async30499",AP.vb=function(b){return A(b,
"cljs.core.async/t_cljs$core$async30499")};return new AP(a,!0,W)}(function(){return null});function OQ(a,b){a=FP(a,b,NQ);return r(a)?z(a):!0}function PQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;$a(b);return b}
function QQ(){var a=yh(!0);if("undefined"===typeof bc||"undefined"===typeof cc||"undefined"===typeof zP||"undefined"===typeof BP)BP=function(b,c){this.Cd=b;this.Oi=c;this.J=393216;this.T=0},BP.prototype.fa=function(b,c){return new BP(this.Cd,c)},BP.prototype.ea=function(){return this.Oi},BP.prototype.$b=function(){return z(this.Cd)},BP.prototype.he=function(){return!0},BP.prototype.Sb=function(){zh(this.Cd,null);return!0},BP.rb=!0,BP.kb="cljs.core.async/t_cljs$core$async30537",BP.vb=function(b){return A(b,
"cljs.core.async/t_cljs$core$async30537")};return new BP(a,W)}
function RQ(a,b){if("undefined"===typeof bc||"undefined"===typeof cc||"undefined"===typeof zP||"undefined"===typeof CP)CP=function(c,d,e){this.Cd=c;this.Yd=d;this.Pi=e;this.J=393216;this.T=0},CP.prototype.fa=function(c,d){return new CP(this.Cd,this.Yd,d)},CP.prototype.ea=function(){return this.Pi},CP.prototype.$b=function(){return HP(this.Cd)},CP.prototype.he=function(){return!0},CP.prototype.Sb=function(){IP(this.Cd);return this.Yd},CP.rb=!0,CP.kb="cljs.core.async/t_cljs$core$async30540",CP.vb=function(c){return A(c,
"cljs.core.async/t_cljs$core$async30540")};return new CP(a,b,W)}
function SQ(a,b,c){var d=QQ(),e=M(b),f=PQ(e),h=rA.B(c),k=function(){for(var m=0;;)if(m<e){var n=r(h)?m:f[m],p=Ye(b,n),u=Df(p)?p.B?p.B(0):p.call(null,0):null,v=r(u)?function(){var y=p.B?p.B(1):p.call(null,1);return FP(u,y,RQ(d,function(E,G,I,N,O){return function(U){U=new X(null,2,5,Z,[U,O],null);return a.B?a.B(U):a.call(null,U)}}(m,y,n,p,u,d,e,f,h)))}():EP(p,RQ(d,function(y,E,G){return function(I){I=new X(null,2,5,Z,[I,G],null);return a.B?a.B(I):a.call(null,I)}}(m,n,p,u,d,e,f,h)));if(r(v))return qQ(new X(null,
2,5,Z,[z(v),function(){var y=u;return r(y)?y:p}()],null));m+=1}else return null}();return r(k)?k:Lf(c,Xl)?(k=function(){var m=d.$b(null);return r(m)?d.Sb(null):m}(),r(k)?qQ(new X(null,2,5,Z,[Xl.B(c),Xl],null)):null):null}
function TQ(a,b){var c=MQ(1,null);mQ(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,An):1===k?(h[2]=null,h[1]=2,An):4===k?(k=h[2],h[7]=k,h[1]=r(null==k)?5:6,An):13===k?(h[2]=null,h[1]=14,An):6===k?(k=h[7],JQ(h,b,k)):3===k?KQ(h,h[2]):12===k?(h[2]=null,h[1]=2,An):2===k?IQ(h,4,a):11===k?(h[1]=r(h[2])?12:13,An):9===k?(h[2]=null,h[1]=10,An):5===k?(h[1]=r(!0)?8:9,An):14===k||10===k?(h[2]=h[2],h[1]=7,An):8===k?(k=GP(b),h[2]=k,h[1]=10,An):null}return function(){function h(n){for(;;){a:try{for(;;){var p=
f(n);if(!T(p,An)){var u=p;break a}}}catch(v){u=v;n[2]=u;if(H(n[4]))n[1]=J(n[4]);else throw u;u=An}if(!T(u,An))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.O=k;m.B=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return HQ(e)})}
function UQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new ze(b.slice(3),0,null):null;return VQ(arguments[0],arguments[1],arguments[2],b)}function VQ(a,b,c,d){d=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d;a[1]=b;b=SQ(function(e){a[2]=e;return HQ(a)},c,d);return r(b)?(a[2]=z(b),An):null}
function WQ(a,b){var c=MQ(b,null),d=MQ(1,null);mQ(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[8];m=k[2];var n=Q(m,0,null),p=Q(m,1,null);k[7]=m;k[9]=p;k[8]=n;k[1]=r(null==n)?8:9;return An}return 1===m?(m=Wf(a),k[10]=m,k[2]=null,k[1]=2,An):4===m?(m=k[10],UQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,An):3===m?KQ(k,k[2]):2===m?(m=k[10],m=0<M(m),k[1]=r(m)?4:5,An):11===m?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,An):9===m?(m=k[8],JQ(k,c,m)):5===m?(m=GP(c),k[2]=m,k[1]=6,An):10===m?(k[2]=
k[2],k[1]=6,An):8===m?(p=k[9],m=k[8],m=k[10],m=Zh(function(){var u=p;return function(v){return ih.j(u,v)}}(),m),k[10]=m,k[2]=null,k[1]=2,An):null}return function(){function k(p){for(;;){a:try{for(;;){var u=h(p);if(!T(u,An)){var v=u;break a}}}catch(y){v=y;p[2]=v;if(H(p[4]))p[1]=J(p[4]);else throw v;v=An}if(!T(v,An))return v}}function m(){var p=[null,null,null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.O=m;n.B=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return HQ(f)});return c};function XQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";var v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return XQ.cd[n].apply(null,arguments)})}XQ.cd={};
XQ.cd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Kb(" ",Number(c)-a.length):Kb(" ",Number(c)-a.length)+a};
XQ.cd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Kb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Kb(b,a)+d);return d};XQ.cd.d=function(a,b,c,d,e,f,h,k){return XQ.cd.f(parseInt(a,10),b,c,d,0,f,h,k)};
XQ.cd.i=XQ.cd.d;XQ.cd.u=XQ.cd.d;var YQ=!TP||9<=Number(dQ),ZQ=TP&&!cQ("9");!WP||cQ("528");VP&&cQ("1.9b")||TP&&cQ("8")||SP&&cQ("9.5")||WP&&cQ("528");VP&&!cQ("8")||TP&&cQ("9");var $Q=function(){if(!ma.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ma.addEventListener("test",pa,b),ma.removeEventListener("test",pa,b)}catch(c){}return a}();function aR(){0!=bR&&(cR[xa(this)]=this);this.Od=this.Od;this.Sd=this.Sd}var bR=0,cR={};aR.prototype.Od=!1;aR.prototype.dispose=function(){if(!this.Od&&(this.Od=!0,this.disposeInternal(),0!=bR)){var a=xa(this);if(0!=bR&&this.Sd&&0<this.Sd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete cR[a]}};aR.prototype.disposeInternal=function(){if(this.Sd)for(;this.Sd.length;)this.Sd.shift()()};function dR(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Hd=!1;this.lh=!0}dR.prototype.stopPropagation=function(){this.Hd=!0};dR.prototype.preventDefault=function(){this.defaultPrevented=!0;this.lh=!1};function eR(a,b){dR.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.qe=null;a&&this.init(a,b)}Ha(eR,dR);var fR={2:"touch",3:"pen",4:"mouse"};
eR.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(VP){a:{try{Ia(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=WP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=WP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:fR[a.pointerType]||"";this.state=a.state;this.qe=a;a.defaultPrevented&&this.preventDefault()};eR.prototype.stopPropagation=function(){eR.jd.stopPropagation.call(this);this.qe.stopPropagation?this.qe.stopPropagation():this.qe.cancelBubble=!0};
eR.prototype.preventDefault=function(){eR.jd.preventDefault.call(this);var a=this.qe;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ZQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var gR="closure_listenable_"+(1E6*Math.random()|0),hR=0;function iR(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++hR;this.removed=this.He=!1}function jR(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function kR(a){this.src=a;this.listeners={};this.Be=0}g=kR.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Be++);var h=lR(a,b,d,e);-1<h?(b=a[h],c||(b.He=!1)):(b=new iR(b,this.src,f,!!d,e),b.He=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=lR(e,b,c,d);return-1<b?(jR(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Be--),!0):!1};
function mR(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Ua(a.listeners[c],b);d&&(jR(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Be--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,jR(d[e]);delete this.listeners[c];this.Be--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.Of=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=lR(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return db(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function lR(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var nR="closure_lm_"+(1E6*Math.random()|0),oR={},pR=0;function qR(a,b,c,d,e){if(d&&d.once)return rR(a,b,c,d,e);if(sa(b)){for(var f=0;f<b.length;f++)qR(a,b[f],c,d,e);return null}c=sR(c);return a&&a[gR]?a.listen(b,c,wa(d)?!!d.capture:!!d,e):tR(a,b,c,!1,d,e)}
function tR(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=wa(e)?!!e.capture:!!e,k=uR(a);k||(a[nR]=k=new kR(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=vR();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)$Q||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(wR(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");pR++;return c}
function vR(){var a=xR,b=YQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function rR(a,b,c,d,e){if(sa(b)){for(var f=0;f<b.length;f++)rR(a,b[f],c,d,e);return null}c=sR(c);return a&&a[gR]?a.listenOnce(b,c,wa(d)?!!d.capture:!!d,e):tR(a,b,c,!0,d,e)}
function yR(a,b,c,d,e){if(sa(b))for(var f=0;f<b.length;f++)yR(a,b[f],c,d,e);else d=wa(d)?!!d.capture:!!d,c=sR(c),a&&a[gR]?a.Pc.remove(String(b),c,d,e):a&&(a=uR(a))&&(b=a.Of(b,c,d,e))&&zR(b)}
function zR(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[gR])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(wR(c),d):b.addListener&&b.removeListener&&b.removeListener(d);pR--;(c=uR(b))?(mR(c,a),0==c.Be&&(c.src=null,b[nR]=null)):jR(a)}}}function wR(a){return a in oR?oR[a]:oR[a]="on"+a}
function AR(a,b,c,d){var e=!0;if(a=uR(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=BR(f,d),e=e&&!1!==f)}return e}function BR(a,b){var c=a.listener,d=a.handler||a.src;a.He&&zR(a);return c.call(d,b)}
function xR(a,b){if(a.removed)return!0;if(!YQ){if(!b)a:{b=["window","event"];for(var c=ma,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new eR(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Hd&&0<=e;e--){b.currentTarget=d[e];var f=AR(d[e],a,!0,b);c=c&&f}for(e=0;!b.Hd&&e<d.length;e++)b.currentTarget=
d[e],f=AR(d[e],a,!1,b),c=c&&f}return c}return BR(a,new eR(b,this))}function uR(a){a=a[nR];return a instanceof kR?a:null}var CR="__closure_events_fn_"+(1E9*Math.random()>>>0);function sR(a){if(ua(a))return a;a[CR]||(a[CR]=function(b){return a.handleEvent(b)});return a[CR]};function DR(){aR.call(this);this.Pc=new kR(this);this.Ph=this;this.eg=null}Ha(DR,aR);DR.prototype[gR]=!0;g=DR.prototype;g.addEventListener=function(a,b,c,d){qR(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){yR(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.eg;if(c)for(b=[];c;c=c.eg)b.push(c);c=this.Ph;var d=a.type||a;if("string"===typeof a)a=new dR(a,c);else if(a instanceof dR)a.target=a.target||c;else{var e=a;a=new dR(d,c);jb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Hd&&0<=f;f--){var h=a.currentTarget=b[f];e=ER(h,d,!0,a)&&e}a.Hd||(h=a.currentTarget=c,e=ER(h,d,!0,a)&&e,a.Hd||(e=ER(h,d,!1,a)&&e));if(b)for(f=0;!a.Hd&&f<b.length;f++)h=a.currentTarget=b[f],e=ER(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){DR.jd.disposeInternal.call(this);this.removeAllListeners();this.eg=null};g.listen=function(a,b,c,d){return this.Pc.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.Pc.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return mR(this.Pc,a)};g.removeAllListeners=function(a){return this.Pc?this.Pc.removeAll(a):0};
function ER(a,b,c,d){b=a.Pc.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.He&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.lh}g.getListeners=function(a,b){return this.Pc.getListeners(String(a),b)};g.Of=function(a,b,c,d){return this.Pc.Of(String(a),b,c,d)};g.hasListener=function(a,b){return this.Pc.hasListener(void 0!==a?String(a):void 0,b)};function FR(a,b,c){if(ua(a))c&&(a=Fa(a,c));else if(a&&"function"==typeof a.handleEvent)a=Fa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ma.setTimeout(a,b||0)};function GR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function HR(){}HR.prototype.Bg=null;HR.prototype.getOptions=function(){var a;(a=this.Bg)||(a={},IR(this)&&(a[0]=!0,a[1]=!0),a=this.Bg=a);return a};var JR;function KR(){}Ha(KR,HR);function LR(a){return(a=IR(a))?new ActiveXObject(a):new XMLHttpRequest}function IR(a){if(!a.Wg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Wg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Wg}JR=new KR;function MR(a){DR.call(this);this.headers=new Rb;this.mf=a||null;this.md=!1;this.lf=this.Fa=null;this.Tf="";this.Rd=0;this.Ed=this.Qf=this.Ye=this.Nf=!1;this.hf=0;this.timeoutId_=null;this.kh=NR;this.mg=this.fh=this.Ce=!1}Ha(MR,DR);var NR="",OR=/^https?$/i,PR=["POST","PUT"];g=MR.prototype;g.setWithCredentials=function(a){this.Ce=a};
g.send=function(a,b,c,d){if(this.Fa)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Tf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Tf=a;this.Rd=0;this.Nf=!1;this.md=!0;this.Fa=this.mf?LR(this.mf):LR(JR);this.lf=this.mf?this.mf.getOptions():JR.getOptions();this.Fa.onreadystatechange=Fa(this.bh,this);this.fh&&"onprogress"in this.Fa&&(this.Fa.onprogress=Fa(function(f){this.ah(f,!0)},this),this.Fa.upload&&(this.Fa.upload.onprogress=Fa(this.ah,this)));try{this.Qf=!0,
this.Fa.open(b,String(a),!0),this.Qf=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Pb(d,function(f,h){e.set(h,f)});d=Qa(e.getKeys());c=ma.FormData&&a instanceof ma.FormData;!(0<=La(PR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Fa.setRequestHeader(h,f)},this);this.kh&&(this.Fa.responseType=this.kh);"withCredentials"in this.Fa&&this.Fa.withCredentials!==this.Ce&&(this.Fa.withCredentials=this.Ce);try{QR(this),
0<this.hf&&((this.mg=RR(this.Fa))?(this.Fa.timeout=this.hf,this.Fa.ontimeout=Fa(this.timeout_,this)):this.timeoutId_=FR(this.timeout_,this.hf,this)),this.Ye=!0,this.Fa.send(a),this.Ye=!1}catch(f){this.error_(5,f)}};function RR(a){return TP&&cQ(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Ra(a){return"content-type"==a.toLowerCase()}g.timeout_=function(){"undefined"!=typeof la&&this.Fa&&(this.Rd=8,this.dispatchEvent("timeout"),this.abort(8))};
g.error_=function(a){this.md=!1;this.Fa&&(this.Ed=!0,this.Fa.abort(),this.Ed=!1);this.Rd=a;SR(this);TR(this)};function SR(a){a.Nf||(a.Nf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Fa&&this.md&&(this.md=!1,this.Ed=!0,this.Fa.abort(),this.Ed=!1,this.Rd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),TR(this))};g.disposeInternal=function(){this.Fa&&(this.md&&(this.md=!1,this.Ed=!0,this.Fa.abort(),this.Ed=!1),TR(this,!0));MR.jd.disposeInternal.call(this)};
g.bh=function(){this.Od||(this.Qf||this.Ye||this.Ed?UR(this):this.Ti())};g.Ti=function(){UR(this)};function UR(a){if(a.md&&"undefined"!=typeof la&&(!a.lf[1]||4!=VR(a)||2!=WR(a)))if(a.Ye&&4==VR(a))FR(a.bh,0,a);else if(a.dispatchEvent("readystatechange"),4==VR(a)){a.md=!1;try{YR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Rd=6,SR(a))}finally{TR(a)}}}g.ah=function(a,b){this.dispatchEvent(ZR(a,"progress"));this.dispatchEvent(ZR(a,b?"downloadprogress":"uploadprogress"))};
function ZR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function TR(a,b){if(a.Fa){QR(a);var c=a.Fa,d=a.lf[0]?pa:null;a.Fa=null;a.lf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function QR(a){a.Fa&&a.mg&&(a.Fa.ontimeout=null);a.timeoutId_&&(ma.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function YR(a){var b=WR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Tf).match(Vb)[1]||null,!a&&ma.self&&ma.self.location&&(a=ma.self.location.protocol,a=a.substr(0,a.length-1)),b=!OR.test(a?a.toLowerCase():"");c=b}return c}function VR(a){return a.Fa?a.Fa.readyState:0}function WR(a){try{return 2<VR(a)?a.Fa.status:-1}catch(b){return-1}}
function $R(a){try{return a.Fa?a.Fa.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Fa&&4==VR(this))return a=this.Fa.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Fa&&4==VR(this)?this.Fa.getAllResponseHeaders()||"":""};function aS(){this.vc=[];this.Lc=[]}function bS(a){0==a.vc.length&&(a.vc=a.Lc,a.vc.reverse(),a.Lc=[])}g=aS.prototype;g.enqueue=function(a){this.Lc.push(a)};g.dequeue=function(){bS(this);return this.vc.pop()};g.peek=function(){bS(this);var a=this.vc;return a[a.length-1]};g.getCount=function(){return this.vc.length+this.Lc.length};g.isEmpty=function(){return 0==this.vc.length&&0==this.Lc.length};g.clear=function(){this.vc=[];this.Lc=[]};
g.contains=function(a){return 0<=La(this.vc,a)||0<=La(this.Lc,a)};g.remove=function(a){var b=this.vc;var c=Ma(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Ua(this.Lc,a)};g.getValues=function(){for(var a=[],b=this.vc.length-1;0<=b;--b)a.push(this.vc[b]);var c=this.Lc.length;for(b=0;b<c;++b)a.push(this.Lc[b]);return a};function cS(a){this.map_=new Rb;a&&this.addAll(a)}function dS(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+xa(a):b.substr(0,1)+a}g=cS.prototype;g.getCount=function(){return this.map_.getCount()};g.add=function(a){this.map_.set(dS(a),a)};g.addAll=function(a){a=Nb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Nb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.map_.remove(dS(a))};g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};g.contains=function(a){return this.map_.containsKey(dS(a))};g.intersection=function(a){var b=new cS;a=Nb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.getValues=function(){return this.map_.getValues()};g.clone=function(){return new cS(this)};g.equals=function(a){return this.getCount()==Mb(a)&&eS(this,a)};
function eS(a,b){var c=Mb(b);if(a.getCount()>c)return!1;!(b instanceof cS)&&5<c&&(b=new cS(b));return Qb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.le&&"function"==typeof e.le)d=e.le(d);else if(ta(e)||"string"===typeof e)d=0<=La(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function fS(a,b){aR.call(this);this.Zg=a||0;this.af=b||10;if(this.Zg>this.af)throw Error(gS);this.Qc=new aS;this.vd=new cS;this.delay=0;this.Sf=null;this.De()}Ha(fS,aR);var gS="[goog.structs.Pool] Min can not be greater than max";g=fS.prototype;g.Xe=function(){var a=Ga();if(!(null!=this.Sf&&a-this.Sf<this.delay)){for(var b;0<this.Qc.getCount()&&(b=this.Qc.dequeue(),!this.dg(b));)this.De();!b&&this.getCount()<this.af&&(b=this.Mf());b&&(this.Sf=a,this.vd.add(b));return b}};
function hS(a,b){return a.vd.remove(b)?(a.pf(b),!0):!1}g.pf=function(a){this.vd.remove(a);this.dg(a)&&this.getCount()<this.af?this.Qc.enqueue(a):iS(a)};g.De=function(){for(var a=this.Qc;this.getCount()<this.Zg;)a.enqueue(this.Mf());for(;this.getCount()>this.af&&0<this.Qc.getCount();)iS(a.dequeue())};g.Mf=function(){return{}};function iS(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.dg=function(a){return"function"==typeof a.Rh?a.Rh():!0};
g.contains=function(a){return this.Qc.contains(a)||this.vd.contains(a)};g.getCount=function(){return this.Qc.getCount()+this.vd.getCount()};g.isEmpty=function(){return this.Qc.isEmpty()&&this.vd.isEmpty()};g.disposeInternal=function(){fS.jd.disposeInternal.call(this);if(0<this.vd.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.vd;for(var a=this.Qc;!a.isEmpty();)iS(a.dequeue());delete this.Qc};function jS(a,b){this.key_=a;this.value_=b}jS.prototype.getKey=function(){return this.key_};jS.prototype.getValue=function(){return this.value_};jS.prototype.clone=function(){return new jS(this.key_,this.value_)};function kS(a){this.kc=[];if(a)a:{if(a instanceof kS){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.kc,d=0;d<b.length;d++)c.push(new jS(b[d],a[d]));break a}}else b=gb(a),a=fb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=kS.prototype;g.insert=function(a,b){var c=this.kc;c.push(new jS(a,b));a=c.length-1;b=this.kc;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.kc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ta(a);else{a[0]=a.pop();a=0;b=this.kc;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.kc;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.kc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.kc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.le=function(a){return Oa(this.kc,function(b){return b.getValue()==a})};g.containsKey=function(a){return Oa(this.kc,function(b){return b.getKey()==a})};g.clone=function(){return new kS(this)};g.getCount=function(){return this.kc.length};
g.isEmpty=function(){return 0==this.kc.length};g.clear=function(){Ta(this.kc)};function lS(){kS.call(this)}Ha(lS,kS);lS.prototype.enqueue=function(a,b){this.insert(a,b)};lS.prototype.dequeue=function(){return this.remove()};function mS(a,b){this.Rg=void 0;this.gg=new lS;fS.call(this,a,b)}Ha(mS,fS);g=mS.prototype;g.Xe=function(){var a=mS.jd.Xe.call(this);a&&this.delay&&(this.Rg=ma.setTimeout(Fa(this.Pf,this),this.delay));return a};g.Pf=function(){for(var a=this.gg;0<a.getCount();){var b=this.Xe();if(b)a.dequeue().apply(this,[b]);else break}};g.pf=function(a){mS.jd.pf.call(this,a);this.Pf()};g.De=function(){mS.jd.De.call(this);this.Pf()};
g.disposeInternal=function(){mS.jd.disposeInternal.call(this);ma.clearTimeout(this.Rg);this.gg.clear();this.gg=null};function nS(a,b,c,d){this.ri=a;this.Ce=!!d;mS.call(this,b,c)}Ha(nS,mS);nS.prototype.Mf=function(){var a=new MR,b=this.ri;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.Ce&&a.setWithCredentials(!0);return a};nS.prototype.dg=function(a){return!a.Od&&!a.Fa};function oS(a){a=z(a);throw bm(z(vA.B(a)),S.j(a,vA));}var pS={};
function qS(a,b,c,d){if(r(oS)){var e=new pl(function(){var f=new Date,h=r(a)?a:"?",k=t.B(b),m=null==c?"\x3ctruss/nil\x3e":dl.F(P([c])),n=pS===d?null:d,p=new pl(function(){var v=r(n)?t.B(n):null;var y=["Invariant violation in `",t.B(ja),":",t.B(h),"`. Test form `",t.B(k),"` failed against input val `",t.B(m),"`."].join("");return wc(n)?y:[y," An error was thrown while evaluating test form: [",v,"]."].join("")}),u=function(){if(r(null))try{return null.O?null.O():null.call(null)}catch(v){if(v instanceof
Error)return new q(null,1,[im,v],null);throw v;}else return null}();return Kj([Hn,vA,ms,PA,kl,Qt,Pu,Wp,uB,mu,vv,Mm],[null,p,null,f,c,ja,zc(c),n,!0,u,a,k])});return oS.B?oS.B(e):oS.call(null,e)}return null};var rS=new X(null,3,5,Z,[3,12,0],null);function sS(a){if(null==a||""===a)return null;if("string"===typeof a){var b=C.C(null,ym,ap),c=C.C(null,Xl,ap);r(T.j?T.j(b,ap):T.call(null,b,ap))&&(b=z(hI),b=tS.j?tS.j(ue,b):tS.call(null,ue,b));c=r(T.j?T.j(c,ap):T.call(null,c,ap))?z(gI):c;c=R.F(null,ym,b,P([Xl,c]));return aI(c,a)}throw bm("`read-edn` attempt against non-nil, non-string arg",new q(null,2,[Ev,a,eq,zc(a)],null));}var uS=new pl(function(){return tQ});
function vS(a){var b=z(uS);return a instanceof b}function wS(a){if(null!=a&&(a.T&4096||l===a.xf)){var b=Gg(a);a=Dg(a);return r(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function xS(a){return"string"===typeof a?F.j(a,"")?null:a:null}function yS(a){return"number"===typeof a?qg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}
function zS(a){var b=wS(a);if(!r(b))throw bm(["`as-",Gg(hp),"` failed against: `",dl.F(P([a])),"`"].join(""),new q(null,2,[Ev,a,eq,zc(a)],null));return b}function AS(a,b,c){return cg(vk(),ag(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return a.C?a.C(d,f,e):a.call(null,d,f,e)},$f),b,c)}function BS(a,b){return w.C(function(c,d){c=a.B?a.B(d):a.call(null,d);return r(c)?Me(c):null},null,b)}
var CS=function CS(a){switch(arguments.length){case 1:return CS.B(arguments[0]);case 2:return CS.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};CS.B=function(a){return CS.j(a,null)};CS.j=function(a,b){var c=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,d=C.j(c,QA);b=C.j(c,Gy);c=C.C(c,Vm,1E3);a=Math.pow(2,36<a?36:a);a=qg(.5*(a+Gl.B(a))*c);d=qg(r(d)?a<d?d:a:a);return qg(r(b)?d>b?b:d:d)};CS.Y=2;F.j("default","nodejs");
var DS="undefined"!==typeof window?window:null;function ES(a){a=sC(t.B(a),/-/,2);var b=Q(a,0,null);a=Q(a,1,null);b=Mk(/\d+/,b);b=r(b)?Yh.j(yS,b):null;return new q(null,2,[on,b,by,r(a)?a.toLowerCase():null],null)}
function FS(a){var b=Q(rS,0,null),c=Q(rS,1,null),d=Q(rS,2,null),e=Df(a)?a:on.B(ES(a));a=Q(e,0,null);var f=Q(e,1,null);e=Q(e,2,null);e=Yh.j(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=Q(e,0,null);f=Q(e,1,null);e=Q(e,2,null);if(!(b>a||F.j(b,a)&&(c>f||F.j(c,f)&&d>=e)))throw bm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[Eu,pC(".",new X(null,3,5,Z,[a,f,e],null)),lr,pC(".",new X(null,3,5,Z,[b,
c,d],null))],null));}function GS(a,b){return hb(a,Gg(b),null)}function HS(a,b){return null==b?null==a?W:a:R.C(a,"x-requested-with",b)}var IS=function IS(a){switch(arguments.length){case 3:return IS.C(arguments[0],arguments[1],arguments[2]);case 2:return IS.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(3),0,null);return IS.F(arguments[0],arguments[1],arguments[2],c)}};
IS.C=function(a,b,c){return Lf(a,b)?a:R.C(a,b,c)};IS.F=function(a,b,c,d){return AS(IS,IS.C(a,b,c),d)};IS.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};IS.j=function(a,b){return Zf(function(c,d,e){return Lf(c,d)?c:R.C(c,d,e)},null==a?W:a,b)};IS.Y=3;
var JS=function JS(a){switch(arguments.length){case 2:return JS.j(arguments[0],arguments[1]);case 3:return JS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};JS.j=function(a,b){b=0>b?0:b;var c=M(a);return b>=c?mf:Ii(a,b,c)};JS.C=function(a,b,c){b=0>b?0:b;var d=qg(M(a));c=c>d?d:c;return b>=c?mf:Ii(a,b,c)};JS.Y=3;
var KS=function KS(a){switch(arguments.length){case 2:return KS.j(arguments[0],arguments[1]);case 3:return KS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};KS.j=function(a,b){var c=M(a);return 0>b?(b+=c,Ii(a,0>b?0:b,c)):b>=c?mf:Ii(a,b,c)};KS.C=function(a,b,c){if(0>=c)return mf;var d=qg(M(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Ii(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?mf:Ii(a,b,d)};KS.Y=3;
function LS(a){return 1<M(a)?Ii(a,1,M(a)):mf}function MS(a,b){for(var c=mf;;){var d=H(b);b=J(d);if(d=K(d))c=lf.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}uh.j(w,V);function tS(a,b){b=Zf(function(c,d,e){return Xg.C(c,a.B?a.B(d):a.call(null,d),e)},Tg.B?Tg.B(W):Tg.call(null,W),b);return Ug.B?Ug.B(b):Ug.call(null,b)}function NS(a,b){b=pk(Zi(b));a=yf(a)?a:pk(a);return nI(b,a)}
function OS(a,b,c,d){var e=H(b);if(e){b=Ye(b,0);if(e=K(e))return R.C(a,b,OS(C.j(a,b),e,c,d));if(r(T.j?T.j(d,mB):T.call(null,d,mB)))return S.j(a,b);c=C.C(a,b,c);d=d.B?d.B(c):d.call(null,c);return r(T.j?T.j(d,mB):T.call(null,d,mB))?S.j(a,b):R.C(a,b,d)}return d.B?d.B(a):d.call(null,a)}function PS(a,b,c){return OS(a,b,null,function(d){return S.j(d,c)})}var QS={};
function RS(a,b){return w.C(function(c,d){return null==d?c:Zf(function m(f,h,k){var n=C.C(f,h,QS);if(n===QS)return R.C(f,h,k);if(r(T.j?T.j(k,mB):T.call(null,k,mB)))return S.j(f,h);if(r(r(!1)?Af(k)&&Af(n):!1))return R.C(f,h,Zf(m,n,k));k=a.j?a.j(n,k):a.call(null,n,k);return r(T.j?T.j(k,mB):T.call(null,k,mB))?S.j(f,h):R.C(f,h,k)},r(c)?c:W,d)},null,b)}function SS(a){return RS(function(b,c){return c},a)}function TS(a,b){this.cg=a;this.hg=b}
function US(a,b,c){for(;;){var d=z(b);c=c.B?c.B(d):c.call(null,d);var e=c instanceof TS,f=e?c.cg:c;zh(b,f);return e?c.hg:a.j?a.j(d,f):a.call(null,d,f)}}
function VS(a,b,c,d){if(r(T.j?T.j(d,mB):T.call(null,d,mB)))for(;;){var e=z(b);d=S.j(e,c);zh(b,d);b=C.C(e,c,null);c=mB;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){e=z(b);var f=C.C(e,c,null),h=d.B?d.B(f):d.call(null,f),k=h instanceof TS,m=k?h.cg:h;d=r(T.j?T.j(m,mB):T.call(null,m,mB))?S.j(e,c):R.C(e,c,m);zh(b,d);return k?h.hg:a.j?a.j(f,m):a.call(null,f,m)}}
function WS(a,b,c){var d=XS,e=H(b);if(e)if(K(e))if(r(T.j?T.j(c,mB):T.call(null,c,mB)))for(;;){var f=z(a);e=MS(function(n){return function(p,u){return PS(n,p,u)}}(f,e,e),b);zh(a,e);a=bi(f,b,null);b=mB;return d.j?d.j(a,b):d.call(null,a,b)}else for(;;){f=z(a);var h=bi(f,b,null);c=c.B?c.B(h):c.call(null,h);var k=c instanceof TS,m=k?c.cg:c;e=r(T.j?T.j(m,mB):T.call(null,m,mB))?MS(function(n){return function(p,u){return PS(n,p,u)}}(f,h,c,k,m,e,e),b):ci(f,b,m);zh(a,e);return k?c.hg:d.j?d.j(h,m):d.call(null,
h,m)}else return VS(d,a,Ye(b,0),c);else return US(d,a,c)}function XS(a,b){return b}function YS(a,b){return US(XS,a,b)}function ZS(a,b,c){return WS(a,b,c)}function $S(a){return a}
function aT(a,b,c){a:{var d=H(b);if(d)if(K(d))for(;;){d=z(a);var e=ci(d,b,c);zh(a,e);a=bi(d,b,null);$S.j?$S.j(a,c):$S.call(null,a,c);break a}else b:for(b=Ye(b,0);;){d=z(a);e=R.C(d,b,c);zh(a,e);a=C.C(d,b,null);$S.j?$S.j(a,c):$S.call(null,a,c);break b}else b:for(;;){b=z(a);zh(a,c);$S.j?$S.j(b,c):$S.call(null,b,c);break b}}}function bT(){return(new Date).getTime()}
(function(){var a=GS(DS,"performance");if(r(a)){var b=function(){var c=GS(a,"now");if(r(c))return c;c=GS(a,"mozNow");if(r(c))return c;c=GS(a,"msNow");if(r(c))return c;c=GS(a,"oNow");return r(c)?c:GS(a,"webkitNow")}();return r(b)?function(){return 1E6*qg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();function cT(a,b){this.n=a;this.ag=b}function dT(a,b){this.n=a;this.lg=b}function eT(a,b,c){this.m=a;this.sh=b;this.og=c}
function fT(a){if(Af(a))return Zf(function(c,d,e){var f=Q(e,0,null);e=Q(e,1,null);return R.C(c,d,new cT(f,e))},W,a);if(Df(a)){var b=new Ch(-1);return w.C(function(c,d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);return R.C(c,r(d)?d:b.fe(null,b.ub(null)+1),new cT(e,f))},W,a)}throw bm("`encore/cond!`: no matching clause",W);}
function gT(a){function b(f,h){var k=(new Date).getTime();wc(h)&&6.25E-5>=Math.random()&&(zh(c,null),Ah.j(d,function(u){return Pd(Zf(function(v,y,E){E=Zf(function(G,I,N){var O=C.j(e,I);return r(O)?k>=N.lg+O.ag?S.j(G,I):G:S.j(G,I)},E,E);return wf(E)?Rd(v,y):Xg.C(v,y,E)},Nd(r(u)?u:W),u))}));for(;;){var m=z(d),n=C.j(m,f),p=null==n?null:Zf(function(u,v,y,E,G,I){return function(N,O,U){var ea=C.j(I,O);if(r(ea)){if(U.n<ea.n)return N;U=U.lg+ea.ag-y;return 0>=U?N:null==N?new eT(qf([O,U]),O,U):U>N.og?new eT(R.C(N.m,
O,U),O,U):new eT(R.C(N.m,O,U),N.sh,N.og)}return N}}(m,n,k,c,d,e),null,n);if(r(r(h)?h:p))return h=p,r(h)?(f=h,new X(null,3,5,Z,[f.sh,f.og,f.m],null)):null;h=z(c);r(h)||(n=Zf(function(u,v,y,E,G){return function(I,N,O){return R.C(I,N,function(){var U=C.j(y,N);if(r(U)){var ea=U.lg;return G>=ea+O.ag?new dT(1,G):new dT(U.n+1,ea)}return new dT(1,G)}())}}(h,m,n,p,k,c,d,e),n,e),zh(d,R.C(m,f,n)));return null}}if(wf(a))return new X(null,2,5,Z,[null,sh(null)],null);var c=yh(null),d=yh(null),e=fT(a);return new X(null,
2,5,Z,[d,function(){function f(n,p){if(r(T.j?T.j(n,Aw):T.call(null,n,Aw)))return r(T.j?T.j(p,tt):T.call(null,p,tt))?zh(d,null):Ah.C(d,S,p),null;if(r(T.j?T.j(n,Cx):T.call(null,n,Cx)))return b(p,!0);throw bm("Unrecognized rate limiter command",new q(null,2,[Ev,n,Tr,p],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,p){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,p)}throw Error("Invalid arity: "+
arguments.length);};m.O=k;m.B=h;m.j=f;return m}()],null)}
var hT=function(){function a(d){return new ac(d)}function b(){return new ac}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.O=b;c.B=a;return c}(),iT=function(){function a(e,f){e=e instanceof ac?e:hT.B(t.B(e));f=t.B(f);return e.append(f)}function b(e){return e instanceof ac?e:hT.B(t.B(e))}function c(){return hT.O()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.O=c;d.B=b;d.j=a;return d}();function jT(a,b){if(r(r(" ")?ih.j(" ",""):" ")){var c=Rh(),d=ag(iT,t);return r(a)?bg(th.j(a,c),d,b):bg(c,d,b)}return r(a)?bg(a,ag(iT,t),b):t.B(w.j(iT,b))}
var kT=function kT(a){switch(arguments.length){case 2:return kT.j(arguments[0],arguments[1]);case 3:return kT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};kT.j=function(a,b){return a.substring(b)};kT.C=function(a,b,c){return b>=c?"":a.substring(b,c)};kT.Y=3;
var lT=function lT(a){switch(arguments.length){case 2:return lT.j(arguments[0],arguments[1]);case 3:return lT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};lT.j=function(a,b){return xS(a.substr(b))};lT.C=function(a,b,c){return xS(a.substr(b,c))};lT.Y=3;function mT(a){return void 0===a||null==a?"nil":a}
function nT(a){if(tC("/"))return t.B(w.C(iT,"",a));var b=new Ch(!1),c=new Ch(!0);return t.B(w.C(function(d,e){e=t.B(e);var f=F.j(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?ih.j(-1,e.indexOf("/",k-1)):null;var m=z(b),n=z(c);de(b,k);r(n)&&de(c,f);if(r(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||r(r(n)?n:f)||d.append("/");return d.append(e)},hT.O(),a))}
function oT(){function a(){return Hl(16).toString(16)}var b=(8|3&Hl(16)).toString(16);return[t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("")}Yh.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var pT=function pT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ze(c.slice(0),0,null):null;return pT.F(c)};pT.F=function(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,wm);var c=C.j(b,iB),d=C.j(b,WB),e=C.j(b,Kt),f=C.j(b,is),h=C.j(b,ev),k=C.j(b,tn),m=C.j(b,Gu);b=C.j(b,Vu);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};
pT.Y=0;pT.ba=function(a){return this.F(H(a))};th.j(function(a){return sg(qg(a),1E3)},pT);var qT=new pl(function(){return new nS});function rT(){var a=z(qT).Xe();return void 0===a?null:a}
var sT="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},tT="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},uT=function(){function a(c,d){if(r(sT(d)))return new X(null,2,5,Z,[c,d],null);if(r("undefined"!==typeof FormData?BS(tT,$i(d)):!1)){var e=new FormData;d=H(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=Q(m,0,null);m=Q(m,1,null);e.append(Gg(n),m);k+=1}else if(d=H(d))Ef(d)?(h=Xd(d),d=Yd(d),f=h,h=M(h)):
(h=J(d),f=Q(h,0,null),h=Q(h,1,null),e.append(Gg(f),h),d=K(d),f=null,h=0),k=0;else break;return new X(null,2,5,Z,[c,e],null)}return new X(null,2,5,Z,[c,b(d)],null)}var b=function(){function c(f,h){h=e.B(h);f=tC(h)?f:[t.B(f),"?",t.B(h)].join("");return new X(null,2,5,Z,[f,null],null)}function d(f){if(H(f)){var h=zl(f);f=Ob(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new Yb(null,void 0);h=Nb(h);for(var m=0;m<f.length;m++){var n=f[m],p=h[m];if(sa(p)){var u=k;u.remove(n);0<p.length&&
(u.uc=null,u.jb.set($b(u,n),Wa(p)),u.count_+=p.length)}else k.add(n,p)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.B=d;e.j=c;return e}();return function(c,d,e){d=d instanceof D?d.na:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.B(d)].join(""));}}}();
function vT(a,b,c){var d=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b,e=C.C(d,Ou,Lu);b=C.j(d,$t);var f=C.j(d,Rm),h=C.C(d,Sn,1E4),k=C.C(d,fB,Wq),m=C.j(d,pB),n=rT();if(r(n))try{var p=function(){var N=zu.B(d);return r(N)?N:h}(),u=function(){var N=e instanceof D?e.na:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.B(N)].join(""));}}(),v=uT(a,e,b),y=Q(v,0,null),E=Q(v,1,null),G=function(){var N=tS(function(O){return Gg(O).toLowerCase()},
f);N=HS(N,C.C(N,"x-requested-with","XMLHTTPRequest"));return zl(N)}(),I=function(){var N=Et.B(d);return r(N)?(n.fh=!0,qR(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,fa=O.total,qa=r(r(U)?ih.j(fa,0):U)?ea/fa:null;O=new q(null,5,[aB,qa,kt,U,su,ea,$s,fa,yA,O],null);return N.B?N.B(O):N.call(null,O)})):null}();rR(n,"ready",function(){return hS(z(qT),n)});rR(n,"complete",function(N){var O=YR(n),U=WR(n),ea=ih.j(U,-1)?function(){var za=n.getResponseHeader("content-type"),Sa=function(){if(ih.j(k,
Wq))var ka=k;else null==za?ka=Ot:(ka=t.B(za).toLowerCase(),ka=ih.j(-1,ka.indexOf("/edn"))?tv:ih.j(-1,ka.indexOf("/json"))?ss:ih.j(-1,ka.indexOf("/xml"))?Nv:Ot);try{var oa=ka instanceof D?ka.na:null;switch(oa){case "edn":return sS($R(n));case "json":if(n.Fa){b:{var ya=n.Fa.responseText;if(ma.JSON)try{var va=ma.JSON.parse(ya);break b}catch(mc){}va=GR(ya)}var Ba=va}else Ba=void 0;return Ba;case "xml":try{var eb=n.Fa?n.Fa.responseXML:null}catch(mc){eb=null}return eb;case "text":return $R(n);default:throw Error(["No matching clause: ",
t.B(oa)].join(""));}}catch(mc){return new q(null,2,[Ao,ka,eA,$R(n)],null)}}();return new X(null,3,5,Z,[U,za,Sa],null)}():null,fa=Q(ea,0,null),qa=Q(ea,1,null);ea=Q(ea,2,null);r(I)&&zR(I);N=new q(null,7,[Wz,N,cv,n,cz,O,ln,fa,FA,qa,dt,ea,$p,r(O)?null:r(fa)?fa:C.C(qf([0,null,5,so,6,jy,7,dn,8,zu]),n.Rd,Sx)],null);return c.B?c.B(N):c.call(null,N)});n.hf=Math.max(0,r(p)?p:0);r(m)&&n.setWithCredentials(!0);n.send(y,u,E,G);return n}catch(N){return a=N,hS(z(qT),n),a=new q(null,1,[$p,a],null),c.B?c.B(a):c.call(null,
a),null}else return a=new q(null,1,[$p,vp],null),c.B?c.B(a):c.call(null,a),null}function wT(a){return r(a)?oC(encodeURIComponent(t.B(a),a),"*","%2A"):null}function xT(a,b){Q(b,0,null);return r(a)?decodeURIComponent(t.B(a)):null}
function yT(a){function b(c,d){return[wT(zS(c)),"\x3d",wT(function(){var e=wS(d);return r(e)?e:t.B(d)}())].join("")}return wf(a)?"":pC("\x26",function(){return function e(d){return new Hg(null,function(){for(var f=d;;)if(f=H(f)){if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var v=0;;)if(v<k){var y=x(h,v),E=Q(y,0,null),G=Q(y,1,null);null!=G&&Og(m,zf(G)?pC("\x26",Yh.j(uh.j(b,E),function(){var I=H(G);return I?I:new X(null,1,5,Z,[""],null)}())):b(E,G));v+=1}else return!0}()?Ng(Pg(m),e(Yd(f))):
Ng(Pg(m),null)}var n=J(f),p=Q(n,0,null),u=Q(n,1,null);if(null!=u)return df(zf(u)?pC("\x26",Yh.j(uh.j(b,p),function(){var v=H(u);return v?v:new X(null,1,5,Z,[""],null)}())):b(p,u),e(Be(f)));f=Be(f)}else return null},null,null)}(a)}())}function zT(a,b,c){return R.C(a,b,function(){var d=C.j(a,b);return r(d)?Df(d)?lf.j(d,c):new X(null,2,5,Z,[d,c],null):c}())}
function AT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ze(b.slice(1),0,null):null;return BT(arguments[0],b)}function BT(a,b){var c=Q(b,0,null),d=Q(b,1,null);if(tC(a)||!ih.j(-1,a.indexOf("\x3d")))return W;a=0===a.indexOf("?")?wg.j(a,1):a;a=w.C(function(e,f){var h=sC(f,/=/,2);return r(h)?(f=Q(h,0,null),h=Q(h,1,null),zT(e,xT(f,P([d])),xT(h,P([d])))):e},W,rC(a,/&/));return r(c)?tS(Fg,a):a}
function CT(a,b){var c=sC(t.B(a),/\?/,2);a=Q(c,0,null);c=Q(c,1,null);b=SS(P([r(c)?tS(Fg,AT(c)):null,tS(Fg,b)]));b=yT(b);b="string"===typeof b?tC(b)?null:b:null;return r(b)?[t.B(a),"?",b].join(""):a}function DT(){return!0}function ET(){return!1}function FT(a){return ih.j(-1,a.indexOf("*"))?Nk(oC(oC(["^",t.B(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function GT(a,b){for(;;){if(r(function(){var n=new mk(null,new q(null,2,["*",null,es,null],null),null);return n.B?n.B(a):n.call(null,a)}()))return DT;if(r(function(){var n=Nf([mf,ok,fq]);return n.B?n.B(a):n.call(null,a)}()))return ET;if(a instanceof RegExp)return function(n){return function(p){return Jk(n,p)}}(a,b,DT,ET,FT);if("string"===typeof a){var c=FT(a);if(r(c)){var d=b;a=c;b=d}else return function(n){return function(p){return F.j(p,n)}}(a,b,c,DT,ET,FT)}else if(Df(a)||yf(a)){if(r(function(){var n=
pk(a);return n.B?n.B("*"):n.call(null,"*")}()))return DT;if(F.j(M(a),1))c=J(a),d=b,a=c,b=d;else{var e=w.C(function(n,p,u,v,y){return function(E,G){var I=Q(E,0,null);E=Q(E,1,null);var N=G instanceof RegExp?G:y(G);return r(N)?new X(null,2,5,Z,[I,lf.j(E,N)],null):new X(null,2,5,Z,[lf.j(I,G),E],null)}}(a,b,DT,ET,FT),new X(null,2,5,Z,[ok,mf],null),a),f=Q(e,0,null),h=Q(e,1,null),k=jh(f),m=function(){var n=jh(h);return r(n)?(n=function(p,u,v,y,E,G,I,N,O,U,ea){return function(fa){return BS(function(){return function(qa){return Jk(qa,
fa)}}(p,u,v,y,E,G,I,N,O,U,ea),v)}}(a,b,n,n,e,f,h,k,DT,ET,FT),r(b)?Fl(n):n):null}();if(r(function(){var n=k;return r(n)?m:n}()))return function(n,p,u,v,y,E,G){return function(I){var N=E.B?E.B(I):E.call(null,I);return r(N)?N:G.B?G.B(I):G.call(null,I)}}(a,b,e,f,h,k,m,DT,ET,FT);if(r(k))return k;if(r(m))return m;throw bm("`encore/cond!`: no matching clause",W);}}else throw bm("Unexpected compile spec type",new q(null,2,[Ev,a,eq,zc(a)],null));}}
function HT(a){for(;;){if(Af(a)){var b=C.j(a,ns),c=function(){var h=C.j(a,en);return r(h)?h:C.j(a,eC)}(),d=function(){var h=C.j(a,Dq);return r(h)?h:C.j(a,$n)}(),e=function(){var h=c;return r(h)?GT(h,b):null}(),f=function(){var h=d;return r(h)?GT(h,b):null}();if(F.j(f,DT)||F.j(e,ET))return ET;if(r(function(){var h=e;return r(h)?f:h}()))return function(h,k,m,n,p,u){return function(v){v=t.B(v);return r(p.B?p.B(v):p.call(null,v))?r(u.B?u.B(v):u.call(null,v))?!1:!0:!1}}(a,b,c,d,e,f,DT,ET,FT,GT);if(r(e))return F.j(e,
DT)?DT:function(h,k,m,n,p){return function(u){u=t.B(u);u=p.B?p.B(u):p.call(null,u);return r(u)?!0:!1}}(a,b,c,d,e,f,DT,ET,FT,GT);if(r(f))return F.j(f,ET)?DT:function(h,k,m,n,p,u){return function(v){v=t.B(v);v=u.B?u.B(v):u.call(null,v);return r(v)?!0:!1}}(a,b,c,d,e,f,DT,ET,FT,GT);throw bm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new q(null,2,[ts,c,En,d],null));}a=new q(null,2,[en,a,Dq,null],null)}}th.j(jh,JS);th.j(jh,KS);th.j(xS,kT);th.j(xS,lT);var IT={xh:["BC","AD"],wh:["Before Christ","Anno Domini"],zh:"JFMAMJJASOND".split(""),Gh:"JFMAMJJASOND".split(""),yh:"January February March April May June July August September October November December".split(" "),Fh:"January February March April May June July August September October November December".split(" "),Ch:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ih:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Nh:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Kh:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Eh:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Jh:"Sun Mon Tue Wed Thu Fri Sat".split(" "),nj:"SMTWTFS".split(""),Hh:"SMTWTFS".split(""),Dh:["Q1","Q2","Q3","Q4"],Ah:["1st quarter","2nd quarter","3rd quarter","4th quarter"],th:["AM","PM"],pg:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],tg:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],uh:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],qg:6,pj:[5,6],rg:5},JT=IT;
JT=IT;function KT(a,b,c,d,e){a=new Date(a,b,c);e=e||0;return a.valueOf()+864E5*(((void 0!==d?d:3)-e+7)%7-((a.getDay()+6)%7-e+7)%7)};function LT(){}
function MT(a){if("number"==typeof a){var b=new LT;b.oh=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",Lb(c,2));c=d.join("")}b.ig=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=NT(a);b.kg=[c,c];b.Kd={oj:a,sg:a};b.jf=[];return b}b=new LT;b.ig=a.id;b.oh=-a.std_offset;b.kg=a.names;b.Kd=a.names_ext;b.jf=a.transitions;return b}
function NT(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(Lb(Math.floor(a/60)%100,2),":",Lb(a%60,2));return b.join("")}function OT(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;for(var c=0;c<a.jf.length&&b>=a.jf[c];)c+=2;return 0==c?0:a.jf[c-1]}LT.prototype.getOffset=function(a){return this.oh-OT(this,a)};function PT(a){this.ef=[];this.Ya=JT;"number"==typeof a?QT(this,a):RT(this,a)}var ST=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/];function TT(a){return a.getHours?a.getHours():0}
function RT(a,b){for(UT&&(b=b.replace(/\u200f/g,""));b;){for(var c=b,d=0;d<ST.length;++d){var e=b.match(ST[d]);if(e){var f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));a.ef.push({text:f,type:d});break}}if(c===b)throw Error("Malformed pattern part: "+b);}}
PT.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(var f=0;f<this.ef.length;++f){var h=this.ef[f].text;1==this.ef[f].type?c.push(VT(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function QT(a,b){if(4>b)var c=a.Ya.pg[b];else if(8>b)c=a.Ya.tg[b-4];else if(12>b)c=a.Ya.uh[b-8],c=c.replace("{1}",a.Ya.pg[b-8]),c=c.replace("{0}",a.Ya.tg[b-8]);else{QT(a,10);return}RT(a,c)}function WT(a,b){b=String(b);a=a.Ya||JT;if(void 0!==a.Oh){for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.Oh+e-48):b.charAt(d))}b=c.join("")}return b}var UT=!1;
function XT(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function VT(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.Ya.wh[c]:a.Ya.xh[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),WT(a,Lb(c,h));case "Y":return c=(new Date(KT(d.getFullYear(),d.getMonth(),d.getDate(),a.Ya.rg,a.Ya.qg))).getFullYear(),0>c&&(c=-c),2==h&&(c%=100),WT(a,Lb(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.Ya.zh[c];break a;case 4:h=a.Ya.yh[c];break a;case 3:h=a.Ya.Ch[c];break a;default:h=WT(a,Lb(c+1,h))}return h;
case "k":return XT(e),WT(a,Lb(TT(e)||24,h));case "S":return WT(a,(e.getMilliseconds()/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?Lb(0,h-3):""));case "E":return c=d.getDay(),4<=h?a.Ya.Nh[c]:a.Ya.Eh[c];case "a":return XT(e),h=TT(e),a.Ya.th[12<=h&&24>h?1:0];case "h":return XT(e),WT(a,Lb(TT(e)%12||12,h));case "K":return XT(e),WT(a,Lb(TT(e)%12,h));case "H":return XT(e),WT(a,Lb(TT(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.Ya.Hh[c];break a;case 4:h=a.Ya.Kh[c];break a;case 3:h=a.Ya.Jh[c];break a;
default:h=WT(a,Lb(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.Ya.Gh[c];break a;case 4:h=a.Ya.Fh[c];break a;case 3:h=a.Ya.Ih[c];break a;default:h=WT(a,Lb(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.Ya.Dh[c]:a.Ya.Ah[c];case "d":return WT(a,Lb(d.getDate(),h));case "m":return XT(e),WT(a,Lb(e.getMinutes(),h));case "s":return XT(e),WT(a,Lb(e.getSeconds(),h));case "v":return h=f||MT(c.getTimezoneOffset()),h.ig;case "V":return a=f||MT(c.getTimezoneOffset()),2>=h?
h=a.ig:(h=a,h=0<OT(h,c)?void 0!==h.Kd.vh?h.Kd.vh:h.Kd.DST_GENERIC_LOCATION:void 0!==h.Kd.sg?h.Kd.sg:h.Kd.STD_GENERIC_LOCATION),h;case "w":return c=KT(e.getFullYear(),e.getMonth(),e.getDate(),a.Ya.rg,a.Ya.qg),WT(a,Lb(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||MT(c.getTimezoneOffset()),4>h?a.kg[0<OT(a,c)?2:0]:a.kg[0<OT(a,c)?3:1];case "Z":return b=f||MT(c.getTimezoneOffset()),4>h?(h=-b.getOffset(c),a=[0>h?"-":"+"],h=Math.abs(h),
a.push(Lb(Math.floor(h/60)%100,2),Lb(h%60,2)),h=a.join("")):h=WT(a,NT(b.getOffset(c))),h;default:return""}};function YT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;return ZT(b)}function ZT(a){Q(a,0,null);return new q(null,6,[bx,!0,sq,!1,JA,null,ir,null,Us,tA,hA,function(b){b=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;b=C.j(b,CB);b=P([tl(b)]);var c=R.C(lc(),oc,!1);Rk(al(b,c));return r(hc)?cl():null}],null)}
function $T(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ze(b.slice(0),0,null):null;return aU(b)}
function aU(a){Q(a,0,null);return new q(null,6,[bx,!0,sq,!1,JA,null,ir,null,Us,tA,hA,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof D?c.na:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.B(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(sm.B(c));if(r(d)){if(r(function(){var h=C.j(c,qo);return r(h)?h:ai(c,new X(null,2,5,Z,[yz,qo],null))}())){var e=function(){var h=R.F(c,vA,"",P([Wp,null])),k=Us.B(c);return k.B?k.B(h):k.call(null,h)}(),f=function(){var h=Bz.B(c),k=Wp.B(c);return r(k)?df(e,df(k,h)):df(e,h)}();return d.apply(console,Gc(f))}return d.call(console,tl(CB.B(c)))}return null}}()],null)};Df(rS)?FS(new X(null,3,5,Z,[2,126,2],null)):FS(2.126);var bU=new q(null,1,[oA,cs],null),cU=function cU(a){switch(arguments.length){case 1:return cU.B(arguments[0]);case 2:return cU.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};cU.B=function(a){return cU.j(null,a)};
cU.j=function(a,b){var c=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,d=C.j(c,vq);C.j(c,Gz);var e=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;b=C.j(e,sm);c=C.j(e,Wp);var f=C.j(e,vA),h=C.j(e,pr),k=C.j(e,qy);C.j(e,gv);var m=C.j(e,dA);e=C.j(e,vv);m=tl(m);return[r(m)?[t.B(m)," "].join(""):null,Gg(b).toUpperCase()," [",t.B(r(h)?h:r(k)?k:"?"),":",t.B(r(e)?e:"?"),"] - ",t.B(tl(f)),r(d)?null:r(c)?["\n",t.B(dU?dU(c,a):eU.call(null,c,a))].join(""):null].join("")};cU.Y=2;
var fU=new q(null,6,[JA,mx,lx,new mk(null,new q(null,1,["*",null],null),null),Uw,mf,bw,bU,Us,cU,zx,"undefined"!==typeof window?new q(null,1,[AA,$T.B?$T.B(W):$T.call(null,W)],null):new q(null,1,[Hv,YT.B?YT.B(W):YT.call(null,W)],null)],null);function gU(a){switch(a instanceof D?a.na:null){case "trace":return 0;case "debug":return 1;case "info":return 2;case "warn":return 3;case "error":return 4;case "fatal":return 5;case "report":return 6;default:return null}}
function hU(a){if(r(gU(a)))return a;throw bm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[Ev,a,eq,zc(a)],null));}function iU(a){var b=gU(a);if(r(b))return b;throw bm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[Ev,a,eq,zc(a)],null));}function jU(a,b){return(iU.B?iU.B(a):iU.call(null,a))>=(iU.B?iU.B(b):iU.call(null,b))}
var kU=Fl(function(a){return HT(a)}),lU=Fl(function(a,b){a=kU(a);return a.B?a.B(b):a.call(null,b)});function mU(a,b){a=r(rf.B?rf.B(a):rf.call(null,a))?a.B?a.B(b):a.call(null,b):lU(a,b);return r(a)?!0:!1}var nU=Fl(function(a,b){return BS(function(c){var d=Q(c,0,null);c=Q(c,1,null);return r(lU(d,b))?hU(c):null},a)});function oU(a,b,c){b=Df(b)?nU(b,c):b;a=r(b)?b:a;return hU.B?hU.B(a):hU.call(null,a)}
function pU(a){if(r(a)){var b=Nf([mf,ok]);b=b.B?b.B(a):b.call(null,a);a=r(b)?null:a}else a=null;return a}function qU(a,b){a=pU(a);b=pU(b);return r(r(a)?a:b)?new q(null,2,[en,a,Dq,b],null):null}
function rU(a,b,c){var d=r(c)?c:fU;c=function(){var e=C.j(d,JA);e=r(e)?e:C.j(d,sm);return oU.C?oU.C(a,e,ja):oU.call(null,a,e,ja)}();return r(jU.j?jU.j(b,c):jU.call(null,b,c))?(b=function(){var e=C.j(d,lx);if(r(e))return e;e=C.j(d,un);var f=C.j(d,Vp);return qU.j?qU.j(e,f):qU.call(null,e,f)}(),r(b)?r(mU.j?mU.j(b,ja):mU.call(null,b,ja))?!0:!1:!0):!1}function sU(a){return jT(Gh.B(function(b){b=mT(b);return Bf(b)?dl.F(P([b])):b}),a)}var tU=Fl(function(a,b){a=gT(b);Q(a,0,null);return Q(a,1,null)});
function uU(a){var b=T.j?T.j(Wq,Wq):T.call(null,Wq,Wq),c=T.j?T.j(ww,ww):T.call(null,ww,ww),d=Q(a,0,null);if(r(r(b)?d instanceof Error:b)){b=d;d=null;var e=LS(a);a=r(c)?Q(e,0,null):null;c=r(c)?LS(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}d=r(Af(d)?pc.B(uf(d)):!1)?d:null;e=Oq.B(d);b=r(e)?e:r(b)?null:Wq;d=S.j(d,Oq);e=r(d)?LS(a):a;a=r(c)?Q(e,0,null):null;c=r(c)?LS(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}
function vU(a,b,c,d){if(rU(qn,a,fU)){var e=new Date;c=z(c);c=uU(c);var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);e=lf.j(r(null)?null:W,Kj([Lr,gB,HB,Bz,qy,qu,pr,sm,Wp,Tz,vv,vm,yz,mv],[e,null,fU,c,null,function(){var y=new mk(null,new q(null,2,[gr,null,up,null],null),null);return y.B?y.B(a):y.call(null,a)}(),ja,a,f,null,b,new pl(function(){return f}),h,k]));e=w.C(function(y,E){y=E.B?E.B(y):E.call(null,y);return null==y?Me(null):y},e,Uw.B(fU));if(r(e)){c=null!=e&&(e.J&64||l===e.qa)?dh(dk,
e):e;var m=C.j(c,Bz);e=R.C(e,lo,new pl(function(){return m}));var n=IS.F(e,vA,new pl(function(){if(F.j(null,ww))return"";if(F.j(Kw,ww))return sU(m);if(F.j(ww,ww)){if("string"!==typeof k)throw bm("Timbre format-style logging call without a format pattern (string)",new q(null,2,[sm,a,Mv,[t.B(r(ja)?ja:r(null)?null:"?"),":",t.B(r(b)?b:"?")].join("")],null));var y=r(k)?k:"",E=Yh.j(mT,m);return eh(XQ,y,E)}throw Error(["No matching clause: ",t.B(ww)].join(""));}),P([iy,new pl(function(){return qe(new X(null,
3,5,Z,[d,k,C.C(h,CA,m)],null))})])),p=Fl(C.C(fU,Us,cU)),u=lf.j(bU,C.j(fU,bw)),v=Fl(function(y){return new pl(function(){var E=C.j(n,Lr),G=null!=y&&(y.J&64||l===y.qa)?dh(dk,y):y;G=C.j(G,oA);return r(T.j?T.j(G,cs):T.call(null,G,cs))?(new Date(E)).toISOString():(new PT(G)).format(E)})});Zf(function(y,E,G){if(r(function(){var fa=bx.B(G);return r(fa)?rU(xw,a,G):fa}())){var I=ir.B(G);if(function(){var fa=wf(I);if(fa)return fa;fa=tU(E,I);var qa=tl(iy.B(n));fa=fa.B?fa.B(qa):fa.call(null,qa);return wc(fa)}()){var N=
null!=G&&(G.J&64||l===G.qa)?dh(dk,G):G;y=C.j(N,hA);C.j(N,sq);var O=function(){var fa=Us.B(G);var qa=(qa=null==fa)?qa:T.j?T.j(fa,tA):T.call(null,fa,tA);return r(qa)?p:fa}(),U=function(){var fa=bw.B(G);var qa=(qa=null==fa)?qa:T.j?T.j(fa,tA):T.call(null,fa,tA);return r(qa)?v(u):v(lf.j(u,fa))}(),ea=lf.j(n,new q(null,5,[Pn,E,Kz,G,Us,O,CB,new pl(function(){var fa=R.C(n,dA,U);return O.B?O.B(fa):O.call(null,fa)}),dA,U],null));N=function(){var fa=xm.B(G);return r(fa)?fa.B?fa.B(ea):fa.call(null,ea):ea}();return r(N)?
y.B?y.B(N):y.call(null,N):null}}return null},null,zx.B(fU))}}return null}function eU(a){switch(arguments.length){case 1:return dU(arguments[0],null);case 2:return dU(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function dU(a){var b=a.stack;return r(b)?b:t.B(a)};function wU(a,b){if(null!=a&&null!=a.ph)a=a.ph(a,b);else{var c=wU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=wU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IPacker.pack",a);}return a}function xU(a,b){if(null!=a&&null!=a.qh)a=a.qh(a,b);else{var c=xU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IPacker.unpack",a);}return a};Df(rS)?FS(new X(null,3,5,Z,[2,105,0],null)):FS(2.105);var yU=F.j("default","nodejs"),zU=yh(!1);function AU(a,b){return new q(null,2,[fm,a,xp,new q(null,2,[eq,zc(b),Yw,b],null)],null)}
function CU(a){if(Df(a)){var b=M(a);var c=new mk(null,new q(null,2,[1,null,2,null],null),null);b=c.B?c.B(b):c.call(null,b);if(wc(b))return new q(null,1,[Yv,AU(new mk(null,new q(null,2,[1,null,2,null],null),null),a)],null);b=Q(a,0,null);Q(a,1,null);return b instanceof D?wc(Dg(b))?new q(null,1,[ot,AU(kr,b)],null):null:new q(null,1,[Uo,AU(dC,b)],null)}return new q(null,1,[qx,AU(nx,a)],null)}function DU(a){var b=CU(a);if(r(b))throw bm("Invalid event",new q(null,2,[Ev,a,hC,b],null));}
function EU(a,b){var c=0===b.indexOf("+"),d=wg.j(b,1),e=function(){try{return xU(a,d)}catch(m){var k=m;vU(mx,215,new pl(function(){return new X(null,3,5,Z,["Bad package: %s (%s)",d,k],null)}),-104854477);return new X(null,2,5,Z,[ey,d],null)}}();c=c?e:new X(null,2,5,Z,[e,null],null);var f=Q(c,0,null);c=Q(c,1,null);var h=F.j(0,c)?Cw:c;vU(xw,221,new pl(function(){return new X(null,3,5,Z,["Unpacking: %s -\x3e %s",b,new X(null,2,5,Z,[f,h],null)],null)}),-39615248);return new X(null,2,5,Z,[f,h],null)}
function FU(a,b,c){c=F.j(c,Cw)?0:c;var d=r(c)?new X(null,2,5,Z,[b,c],null):new X(null,1,5,Z,[b],null),e=["+",t.B(wU(a,d))].join("");vU(xw,237,new pl(function(){return new X(null,3,5,Z,["Packing (wrapped): %s -\x3e %s",d,e],null)}),1965280464);return e}function GU(){}GU.prototype.ph=function(a,b){a:{a=kc;var c=jc;jc=kc=null;try{var d=dl.F(P([b]));break a}finally{jc=c,kc=a}d=void 0}return d};GU.prototype.qh=function(a,b){return sS(b)};var HU=new GU;function IU(a){return F.j(a,tv)?HU:a}
function JU(a){if(null!=a&&null!=a.Vd)a=a.Vd(a);else{var b=JU[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=JU._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IChSocket.-chsk-connect!",a);}return a}function KU(a,b){if(null!=a&&null!=a.gf)a=a.gf(a,b);else{var c=KU[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=KU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("IChSocket.-chsk-disconnect!",a);}return a}
function LU(a,b,c){if(null!=a&&null!=a.Ae)a=a.Ae(a,b,c);else{var d=LU[ra(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=LU._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Ac("IChSocket.-chsk-send!",a);}return a}
var MU=function MU(a){switch(arguments.length){case 2:return MU.j(arguments[0],arguments[1]);case 4:return MU.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return MU.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};MU.j=function(a,b){return MU.C(a,b,W)};MU.P=function(a,b,c,d){return MU.C(a,b,new q(null,2,[Sn,c,lB,d],null))};
MU.C=function(a,b,c){vU(xw,904,new pl(function(){return new X(null,3,5,Z,["Chsk send: (%s) %s",R.C(c,lB,If(lB.B(c))),b],null)}),865145878);return LU(a,b,c)};MU.Y=4;function NU(a){vU(Hz,908,new pl(function(){return new X(null,1,5,Z,["Chsk send against closed chsk."],null)}),-904187587);r(a)&&(a.B?a.B(VB):a.call(null,VB));return!1}function OU(a,b){return r(b)?ZS(a,new X(null,1,5,Z,[b],null),function(c){return new TS(mB,c)}):null}
function PU(a,b){var c=YS(Xy.B(a),function(e){var f=b.B?b.B(e):b.call(null,e);f=r(Ko.B(e))?R.C(f,Ko,!1):f;f=r(yy.B(f))?S.j(f,Jv):f;return new TS(f,new X(null,2,5,Z,[e,f],null))}),d=Q(c,0,null);c=Q(c,1,null);return ih.j(d,c)?(d=new X(null,2,5,Z,[d,c],null),OQ(ai(a,new X(null,2,5,Z,[ix,bo],null)),new X(null,2,5,Z,[as,d],null)),d):null}function QU(a,b){var c=yy.B(a);c=r(c)?c:ih.j(b,ls);return r(c)?R.F(S.j(a,Jv),yy,!1,P([Iw,new q(null,2,[Mn,bT(),EB,b],null)])):a}
function RU(a,b){if(null==a||Jf(a))return a;DU(b);var c=Q(b,0,null);Q(b,1,null);return function(d){return OQ(a,new X(null,2,5,Z,[Fg.B([zS(c),".cb"].join("")),d],null))}}
function SU(a,b){vU(xw,982,new pl(function(){return new X(null,2,5,Z,["receive-buffered-evs!: %s",b],null)}),-191122550);for(var c=H(b),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);DU(h);Q(h,0,null);OQ(Tq.B(a),h);f+=1}else if(c=H(c))d=c,Ef(d)?(c=Xd(d),e=Yd(d),d=c,h=M(c),c=e,e=h):(h=J(d),DU(h),Q(h,0,null),OQ(Tq.B(a),h),c=K(d),d=null,e=0),f=0;else return null}function TU(a){return Df(a)?(a=Q(a,0,null),F.j(a,oB)):!1}
function UU(a,b,c){vU(xw,997,new pl(function(){return new X(null,3,5,Z,["receive-handshake! (%s): %s",a,c],null)}),-2021209383);Q(c,0,null);var d=Q(c,1,null),e=Q(d,0,null);Q(d,1,null);var f=Q(d,2,null),h=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;d=C.j(h,ix);h=C.j(h,Sy);h=Bh(h);var k=new q(null,6,[eq,a,yy,!0,ut,!0,cp,e,Dp,f,Ko,h],null);e=new X(null,2,5,Z,[oB,new X(null,4,5,Z,[e,null,f,h],null)],null);DU(e);PU(b,function(m){return hk.F(P([m,k]))});OQ(Pr.B(d),e)}
var VU=function(){var a="undefined"!==typeof require?require:sh(vs);return new pl(function(){if(yU&&"undefined"!==typeof require)try{var b=[t.B("web"),"socket"].join("");return a.B?a.B(b):a.call(null,b)}catch(c){return null}else return null})}();
function WU(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;C.j(a,bv);C.j(a,Zp);C.j(a,KB);C.j(a,zr);C.j(a,Rm);var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,bv);var c=C.j(b,Zp),d=C.j(b,KB),e=C.j(b,zr);C.j(b,Rm);b=GS(ma,"WebSocket");r(b)||(b=GS(ma,"MozWebSocket"),b=r(b)?b:GS(z(VU),"w3cwebsocket"));r(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function XU(a,b,c,d,e,f,h,k,m,n,p,u,v,y,E,G,I,N){this.Ea=a;this.Da=b;this.params=c;this.headers=d;this.Ca=e;this.url=f;this.ib=h;this.state_=k;this.Aa=m;this.cb=n;this.Ga=p;this.Ba=u;this.Xa=v;this.$a=y;this.ab=E;this.G=G;this.D=I;this.I=N;this.J=2230716170;this.T=139264}g=XU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "client-id":return this.Ea;case "chs":return this.Da;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ca;case "url":return this.url;case "ws-kalive-ms":return this.ib;case "state_":return this.state_;case "instance-handle_":return this.Aa;case "retry-count_":return this.cb;case "ever-opened?_":return this.Ga;case "backoff-ms-fn":return this.Ba;case "cbs-waiting_":return this.Xa;case "socket_":return this.$a;
case "udt-last-comms_":return this.ab;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,V.j(new X(null,15,5,Z,[new X(null,2,5,Z,[Ht,this.Ea],null),new X(null,2,5,Z,[ix,this.Da],null),new X(null,2,5,Z,[$t,this.params],null),new X(null,2,5,Z,[Rm,this.headers],null),new X(null,2,5,Z,[az,this.Ca],null),new X(null,2,5,Z,[Ly,this.url],null),new X(null,2,5,Z,[Gx,this.ib],null),new X(null,2,5,Z,[Xy,this.state_],null),new X(null,2,5,Z,[Br,this.Aa],null),new X(null,2,5,Z,[cu,this.cb],
null),new X(null,2,5,Z,[Sy,this.Ga],null),new X(null,2,5,Z,[Sz,this.Ba],null),new X(null,2,5,Z,[fy,this.Xa],null),new X(null,2,5,Z,[fA,this.$a],null),new X(null,2,5,Z,[St,this.ab],null)],null),this.D))};g.oa=function(){return new Ti(this,15,new X(null,15,5,Z,[Ht,ix,$t,Rm,az,Ly,Gx,Xy,Br,cu,Sy,Sz,fy,fA,St],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 15+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1998688700^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Ea,b.Ea)&&F.j(this.Da,b.Da)&&F.j(this.params,b.params)&&F.j(this.headers,b.headers)&&F.j(this.Ca,b.Ca)&&F.j(this.url,b.url)&&F.j(this.ib,b.ib)&&F.j(this.state_,b.state_)&&F.j(this.Aa,b.Aa)&&F.j(this.cb,b.cb)&&F.j(this.Ga,b.Ga)&&F.j(this.Ba,b.Ba)&&F.j(this.Xa,b.Xa)&&F.j(this.$a,b.$a)&&F.j(this.ab,b.ab)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,15,[Gx,null,Sy,null,Ht,null,az,null,ix,null,St,null,$t,null,cu,null,Rm,null,Sz,null,fA,null,Ly,null,Br,null,fy,null,Xy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ht,b):T.call(null,Ht,b))?new XU(c,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(ix,b):T.call(null,ix,b))?new XU(this.Ea,c,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j($t,b):T.call(null,$t,b))?new XU(this.Ea,this.Da,c,this.headers,this.Ca,this.url,this.ib,
this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Rm,b):T.call(null,Rm,b))?new XU(this.Ea,this.Da,this.params,c,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(az,b):T.call(null,az,b))?new XU(this.Ea,this.Da,this.params,this.headers,c,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Ly,b):T.call(null,Ly,b))?new XU(this.Ea,
this.Da,this.params,this.headers,this.Ca,c,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Gx,b):T.call(null,Gx,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,c,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Xy,b):T.call(null,Xy,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,c,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,
this.D,null):r(T.j?T.j(Br,b):T.call(null,Br,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,c,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(cu,b):T.call(null,cu,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,c,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Sy,b):T.call(null,Sy,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,
this.state_,this.Aa,this.cb,c,this.Ba,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(Sz,b):T.call(null,Sz,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,c,this.Xa,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(fy,b):T.call(null,fy,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,c,this.$a,this.ab,this.G,this.D,null):r(T.j?T.j(fA,b):T.call(null,fA,b))?new XU(this.Ea,
this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,c,this.ab,this.G,this.D,null):r(T.j?T.j(St,b):T.call(null,St,b))?new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,c,this.G,this.D,null):new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,15,5,Z,[new Y(Ht,this.Ea),new Y(ix,this.Da),new Y($t,this.params),new Y(Rm,this.headers),new Y(az,this.Ca),new Y(Ly,this.url),new Y(Gx,this.ib),new Y(Xy,this.state_),new Y(Br,this.Aa),new Y(cu,this.cb),new Y(Sy,this.Ga),new Y(Sz,this.Ba),new Y(fy,this.Xa),new Y(fA,this.$a),new Y(St,this.ab)],null),this.D))};
g.fa=function(a,b){return new XU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.cb,this.Ga,this.Ba,this.Xa,this.$a,this.ab,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.gf=function(a,b){zh(this.Aa,null);PU(this,function(c){return QU(c,b)});a=z(this.$a);return r(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Ae=function(a,b,c){var d=this;a=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;var e=C.j(a,Sn);c=C.j(a,lB);C.j(a,lp);DU(b);var f=RU(c,b);if(wc(yy.B(z(d.state_))))return NU(f);var h=r(f)?lT.C(oT(),0,6):null;b=FU(d.Ca,b,h);if(r(h)&&(aT(d.Xa,new X(null,1,5,Z,[h],null),f),r(e))){var k=MQ(1,null);mQ(function(){var n=function(){function u(v){var y=v[1];if(1===y)return y=DQ(e),IQ(v,2,y);if(2===y){y=v[2];var E=OU(d.Xa,h);v[8]=y;v[7]=E;v[1]=r(E)?3:4;return An}return 3===y?(y=v[7],y=y.B?y.B(Gn):y.call(null,Gn),v[2]=
y,v[1]=5,An):4===y?(v[2]=null,v[1]=5,An):5===y?KQ(v,v[2]):null}return function(){function v(G){for(;;){a:try{for(;;){var I=u(G);if(!T(I,An)){var N=I;break a}}}catch(O){N=O;G[2]=N;if(H(G[4]))G[1]=J(G[4]);else throw N;N=An}if(!T(N,An))return N}}function y(){var G=[null,null,null,null,null,null,null,null,null];G[0]=E;G[1]=1;return G}var E=null;E=function(G){switch(arguments.length){case 0:return y.call(this);case 1:return v.call(this,G)}throw Error("Invalid arity: "+arguments.length);};E.O=y;E.B=v;return E}()}(),
p=function(){var u=n();u[6]=k;return u}();return HQ(p)})}try{return z(d.$a).send(b),zh(d.ab,bT()),km}catch(n){var m=n;vU(up,1155,new pl(function(){return new X(null,2,5,Z,[m,"Chsk send error"],null)}),733219331);r(h)&&(b=function(){var p=OU(d.Xa,h);return r(p)?p:f}(),b.B?b.B(om):b.call(null,om));return!1}};
g.Vd=function(){function a(){return F.j(z(b.Aa),d)}var b=this,c=this,d=zh(b.Aa,oT()),e=b.ib;if(r(e)){var f=MQ(1,null);mQ(function(){var h=function(){function m(n){var p=n[1];if(7===p)return n[2]=n[2],n[1]=3,An;if(1===p)return n[2]=null,n[1]=2,An;if(4===p){p=n[2];var u=a();n[7]=p;n[1]=u?5:6;return An}return 6===p?(n[2]=null,n[1]=7,An):3===p?KQ(n,n[2]):2===p?(p=z(b.ab),u=DQ(e),n[8]=p,IQ(n,4,u)):9===p?(n[2]=null,n[1]=10,An):5===p?(p=n[8],u=z(b.ab),p=F.j(p,u),n[1]=p?8:9,An):10===p?(n[9]=n[2],n[2]=null,
n[1]=2,An):8===p?(p=new X(null,1,5,Z,[Lo],null),u=Kj([lp],[!0]),p=c.Ae(null,p,u),n[2]=p,n[1]=10,An):null}return function(){function n(v){for(;;){a:try{for(;;){var y=m(v);if(!T(y,An)){var E=y;break a}}}catch(G){E=G;v[2]=E;if(H(v[4]))v[1]=J(v[4]);else throw E;E=An}if(!T(E,An))return E}}function p(){var v=[null,null,null,null,null,null,null,null,null,null];v[0]=u;v[1]=1;return v}var u=null;u=function(v){switch(arguments.length){case 0:return p.call(this);case 1:return n.call(this,v)}throw Error("Invalid arity: "+
arguments.length);};u.O=p;u.B=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return HQ(k)})}zh(b.cb,0);(function k(){if(a()){var m=function(){if(a()){var E=Ah.j(b.cb,Ke),G=b.Ba.B?b.Ba.B(E):b.Ba.call(null,E),I=bT()+G;vU(Hz,1174,new pl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",E,G],null)}),1294050651);ma.setTimeout(k,G);return PU(c,function(N){return R.C(N,Jv,I)})}return null},n=function(E){vU(up,1187,new pl(function(){var G=Z;try{var I=
Dl(E)}catch(N){I=E}return new X(null,2,5,G,["WebSocket error: %s",I],null)}),1290314027);return PU(c,function(G){return R.C(G,Sr,new q(null,2,[Mn,bT(),yA,E],null))})},p=function(E){E=GS(E,"data");E=EU(b.Ca,E);var G=Q(E,0,null);E=Q(E,1,null);zh(b.ab,bT());if(TU(G)){UU(qq,c,G);zh(b.cb,0);var I=tp}else I=null;if(r(I))return I;F.j(G,Lo)?(OQ(Tq.B(b.Da),new X(null,1,5,Z,[Lo],null)),I=zp):I=null;return r(I)?I:r(E)?(E=OU(b.Xa,E),r(E)?E.B?E.B(G):E.call(null,G):vU(Hz,1231,new pl(function(){return new X(null,
2,5,Z,["Cb reply w/o local cb-fn: %s",G],null)}),883119128)):SU(b.Da,G)},u=function(E){var G=new q(null,5,[Mn,bT(),yA,E,Co,GS(E,"wasClean"),wq,GS(E,"code"),EB,GS(E,"reason")],null);if(r(Co.B(G)))return vU(mx,1257,new pl(function(){return new X(null,1,5,Z,["Clean WebSocket close, will not attempt reconnect"],null)}),-66998053),PU(c,function(I){return R.C(I,Iy,G)});PU(c,function(I){return R.C(QU(I,ls),Iy,G)});return m()},v=function(){try{return WU(new q(null,5,[bv,n,Zp,p,KB,u,Rm,b.headers,zr,CT(b.url,
hk.F(P([b.params,new q(null,2,[Ht,b.Ea,Yr,Yr.B(z(b.state_))],null)])))],null))}catch(G){var E=G;vU(up,1280,new pl(function(){return new X(null,2,5,Z,[E,"WebSocket error"],null)}),370844344);return null}}();if(wc(v))return m();var y=z(b.$a);r(y)&&y.close();return zh(b.$a,v)}return null})();return c};
function YU(a,b){a=hk.F(P([new q(null,7,[Xy,yh(new q(null,4,[eq,qq,yy,!1,ut,!1,Yr,b],null)),Br,yh(null),cu,yh(0),Sy,yh(!1),fy,yh(W),fA,yh(null),St,yh(null)],null),a]));b=S.F(a,Ht,P([ix,$t,Rm,az,Ly,Gx,Xy,Br,cu,Sy,Sz,fy,fA,St]));b=Bf(a)?Xh.j(W,b):b;return new XU(Ht.B(a),ix.B(a),$t.B(a),Rm.B(a),az.B(a),Ly.B(a),Gx.B(a),Xy.B(a),Br.B(a),cu.B(a),Sy.B(a),Sz.B(a),fy.B(a),fA.B(a),St.B(a),null,jh(b),null)}var ZU=pT.F(P([is,60]));
function $U(a,b,c,d,e,f,h,k,m,n,p,u,v,y){this.Ea=a;this.Da=b;this.params=c;this.Ca=d;this.url=e;this.state_=f;this.Aa=h;this.Ga=k;this.Ba=m;this.fb=n;this.lb=p;this.G=u;this.D=v;this.I=y;this.J=2230716170;this.T=139264}g=$U.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "client-id":return this.Ea;case "chs":return this.Da;case "params":return this.params;case "packer":return this.Ca;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Aa;case "ever-opened?_":return this.Ga;case "backoff-ms-fn":return this.Ba;case "ajax-opts":return this.fb;case "curr-xhr_":return this.lb;default:return C.C(this.D,b,c)}};
g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,V.j(new X(null,11,5,Z,[new X(null,2,5,Z,[Ht,this.Ea],null),new X(null,2,5,Z,[ix,this.Da],null),new X(null,2,5,Z,[$t,this.params],null),new X(null,2,5,Z,[az,this.Ca],null),new X(null,2,5,Z,[Ly,this.url],null),new X(null,2,5,Z,[Xy,this.state_],null),new X(null,2,5,Z,[Br,this.Aa],null),new X(null,2,5,Z,[Sy,this.Ga],null),new X(null,2,5,Z,[Sz,this.Ba],null),new X(null,2,5,Z,[SB,this.fb],
null),new X(null,2,5,Z,[sB,this.lb],null)],null),this.D))};g.oa=function(){return new Ti(this,11,new X(null,11,5,Z,[Ht,ix,$t,az,Ly,Xy,Br,Sy,Sz,SB,sB],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 11+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-266770752^Ie(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Ea,b.Ea)&&F.j(this.Da,b.Da)&&F.j(this.params,b.params)&&F.j(this.Ca,b.Ca)&&F.j(this.url,b.url)&&F.j(this.state_,b.state_)&&F.j(this.Aa,b.Aa)&&F.j(this.Ga,b.Ga)&&F.j(this.Ba,b.Ba)&&F.j(this.fb,b.fb)&&F.j(this.lb,b.lb)&&F.j(this.D,b.D)};
g.wa=function(a,b){return Lf(new mk(null,new q(null,11,[sB,null,Sy,null,Ht,null,az,null,ix,null,$t,null,Sz,null,Ly,null,Br,null,SB,null,Xy,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ht,b):T.call(null,Ht,b))?new $U(c,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(ix,b):T.call(null,ix,b))?new $U(this.Ea,c,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j($t,b):T.call(null,$t,b))?new $U(this.Ea,this.Da,c,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(az,b):T.call(null,
az,b))?new $U(this.Ea,this.Da,this.params,c,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Ly,b):T.call(null,Ly,b))?new $U(this.Ea,this.Da,this.params,this.Ca,c,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Xy,b):T.call(null,Xy,b))?new $U(this.Ea,this.Da,this.params,this.Ca,this.url,c,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Br,b):T.call(null,Br,b))?new $U(this.Ea,this.Da,this.params,this.Ca,
this.url,this.state_,c,this.Ga,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Sy,b):T.call(null,Sy,b))?new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,c,this.Ba,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(Sz,b):T.call(null,Sz,b))?new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,c,this.fb,this.lb,this.G,this.D,null):r(T.j?T.j(SB,b):T.call(null,SB,b))?new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,
c,this.lb,this.G,this.D,null):r(T.j?T.j(sB,b):T.call(null,sB,b))?new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,c,this.G,this.D,null):new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,11,5,Z,[new Y(Ht,this.Ea),new Y(ix,this.Da),new Y($t,this.params),new Y(az,this.Ca),new Y(Ly,this.url),new Y(Xy,this.state_),new Y(Br,this.Aa),new Y(Sy,this.Ga),new Y(Sz,this.Ba),new Y(SB,this.fb),new Y(sB,this.lb)],null),this.D))};g.fa=function(a,b){return new $U(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.fb,this.lb,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};
g.gf=function(a,b){zh(this.Aa,null);PU(this,function(c){return QU(c,b)});a=z(this.lb);return r(a)?a.abort():null};
g.Ae=function(a,b,c){function d(n){var p=null!=n&&(n.J&64||l===n.qa)?dh(dk,n):n;n=C.j(p,$p);p=C.j(p,dt);if(r(n)){if(F.j(n,zu))return r(k)?k.B?k.B(Gn):k.call(null,Gn):null;PU(f,function(v){return QU(v,ls)});return r(k)?k.B?k.B(om):k.call(null,om):null}n=EU(e.Ca,p);var u=Q(n,0,null);Q(n,1,null);r(k)?k.B?k.B(u):k.call(null,u):ih.j(u,vB)&&vU(Hz,1404,new pl(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",u],null)}),994312960);return PU(f,function(v){return R.C(v,yy,!0)})}var e=this,
f=this;a=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;var h=C.j(a,Sn);c=C.j(a,lB);C.j(a,lp);DU(b);var k=RU(c,b);if(wc(yy.B(z(e.state_))))return NU(k);var m=Yr.B(z(e.state_));a=e.url;c=hk.F(P([e.fb,new q(null,5,[Ou,GA,Sn,function(){if(r(h))return h;var n=Sn.B(e.fb);return r(n)?n:ZU}(),fB,Ot,Rm,hk.F(P([Rm.B(e.fb),new q(null,1,[Vx,m],null)])),$t,function(){var n=FU(e.Ca,b,r(k)?Cw:null);return hk.F(P([e.params,new q(null,4,[Mn,bT(),Yr,m,Ht,e.Ea,nB,n],null)]))}()],null)]));vT.C?vT.C(a,c,d):vT.call(null,a,c,
d);return km};
g.Vd=function(){var a=this,b=this,c=zh(a.Aa,oT());(function f(e){vU(xw,1414,new pl(function(){return new X(null,1,5,Z,["async-poll-for-update!"],null)}),2103426166);if(F.j(z(a.Aa),c)){var h=function(){if(F.j(z(a.Aa),c)){var k=e+1,m=a.Ba.B?a.Ba.B(k):a.Ba.call(null,k),n=bT()+m;vU(Hz,1422,new pl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),1375761137);ma.setTimeout(function(){return f(k)},m);return PU(b,function(p){return R.C(p,Jv,n)})}return null};
return zh(a.lb,function(){function k(p){var u=null!=p&&(p.J&64||l===p.qa)?dh(dk,p):p;p=C.j(u,$p);u=C.j(u,dt);if(r(p)){if(F.j(p,zu))return f(0);PU(b,function(v){return QU(v,ls)});return h()}p=EU(a.Ca,u);p=Q(p,0,null);(u=TU(p))&&UU(Oz,b,p);PU(b,function(v){return R.C(v,yy,!0)});f(0);if(u)return null;F.j(p,Gn)?(r(z(zU))&&SU(a.Da,new X(null,1,5,Z,[new X(null,1,5,Z,[No],null)],null)),u=zp):u=null;return r(u)?u:SU(a.Da,p)}var m=a.url,n=hk.F(P([a.fb,new q(null,5,[Ou,Lu,Sn,function(){var p=Sn.B(a.fb);return r(p)?
p:ZU}(),fB,Ot,$t,hk.F(P([a.params,new q(null,2,[Mn,bT(),Ht,a.Ea],null),r(yy.B(z(a.state_)))?null:new q(null,1,[np,!0],null)])),Rm,hk.F(P([Rm.B(a.fb),new q(null,1,[Vx,Yr.B(z(a.state_))],null)]))],null)]));return vT.C?vT.C(m,n,k):vT.call(null,m,n,k)}())}return null})(0);return b};
function aV(a,b){a=hk.F(P([new q(null,4,[Xy,yh(new q(null,4,[eq,Oz,yy,!1,ut,!1,Yr,b],null)),Br,yh(null),Sy,yh(!1),sB,yh(null)],null),a]));b=S.F(a,Ht,P([ix,$t,az,Ly,Xy,Br,Sy,Sz,SB,sB]));b=Bf(a)?Xh.j(W,b):b;return new $U(Ht.B(a),ix.B(a),$t.B(a),az.B(a),Ly.B(a),Xy.B(a),Br.B(a),Sy.B(a),Sz.B(a),SB.B(a),sB.B(a),null,jh(b),null)}function bV(a,b,c,d,e,f,h){this.Ac=a;this.pc=b;this.state_=c;this.Ub=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.T=139264}g=bV.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof D?b.na:null){case "ws-chsk-opts":return this.Ac;case "ajax-chsk-opts":return this.pc;case "state_":return this.state_;case "impl_":return this.Ub;default:return C.C(this.D,b,c)}};g.va=function(a,b,c){return w.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Ok(b,function(d){return Ok(b,Wk,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[Zw,this.Ac],null),new X(null,2,5,Z,[Ln,this.pc],null),new X(null,2,5,Z,[Xy,this.state_],null),new X(null,2,5,Z,[iq,this.Ub],null)],null),this.D))};g.oa=function(){return new Ti(this,4,new X(null,4,5,Z,[Zw,Ln,Xy,iq],null),r(this.D)?fe(this.D):kh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1193508708^Ie(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&F.j(this.Ac,b.Ac)&&F.j(this.pc,b.pc)&&F.j(this.state_,b.state_)&&F.j(this.Ub,b.Ub)&&F.j(this.D,b.D)};g.wa=function(a,b){return Lf(new mk(null,new q(null,4,[iq,null,Zw,null,Xy,null,Ln,null],null),null),b)?S.j(pd(Xh.j(W,this),this.G),b):new bV(this.Ac,this.pc,this.state_,this.Ub,this.G,jh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Zw,b):T.call(null,Zw,b))?new bV(c,this.pc,this.state_,this.Ub,this.G,this.D,null):r(T.j?T.j(Ln,b):T.call(null,Ln,b))?new bV(this.Ac,c,this.state_,this.Ub,this.G,this.D,null):r(T.j?T.j(Xy,b):T.call(null,Xy,b))?new bV(this.Ac,this.pc,c,this.Ub,this.G,this.D,null):r(T.j?T.j(iq,b):T.call(null,iq,b))?new bV(this.Ac,this.pc,this.state_,c,this.G,this.D,null):new bV(this.Ac,this.pc,this.state_,this.Ub,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return H(V.j(new X(null,4,5,Z,[new Y(Zw,this.Ac),new Y(Ln,this.pc),new Y(Xy,this.state_),new Y(iq,this.Ub)],null),this.D))};g.fa=function(a,b){return new bV(this.Ac,this.pc,this.state_,this.Ub,b,this.D,this.I)};g.la=function(a,b){return Df(b)?this.da(null,x(b,0),x(b,1)):w.C(Pc,this,b)};g.gf=function(a,b){a=z(this.Ub);return r(a)?KU(a,b):null};g.Ae=function(a,b,c){a=z(this.Ub);if(r(a))return LU(a,b,c);c=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;c=C.j(c,lB);b=RU(c,b);return NU(b)};
g.Vd=function(){function a(){var f=yh(!1);ll(c.state_,function(h,k,m,n){h=z(c.Ub);if(r(h)&&(k=Sy.B(h),r(k))){if(r(z(k)))return null;if(r(Sr.B(n))&&Bh(f))return vU(Hz,1555,new pl(function(){return new X(null,1,5,Z,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),-2074519406),KU(h,Xn),zh(c.Ub,b())}return null});return YU(e,Yr.B(z(c.state_))).Vd(null)}function b(){Md(c.state_,ml);return aV(d,Yr.B(z(c.state_))).Vd(null)}var c=this,d=R.C(c.pc,Xy,c.state_),e=R.C(c.Ac,Xy,c.state_);zh(c.Ub,function(){var f=
a();return r(f)?f:b()}());return this};
function cV(a,b,c,d){var e=function(){switch(a instanceof D?a.na:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof D?d.na:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.B(e)].join(""));}default:throw Error(["No matching clause: ",t.B(h)].join(""));}}();return[t.B(f),"//",nT(P([b,c]))].join("")}
function dV(a,b,c){function d(n){return n.O?n.O():n.call(null)}var e=wc(mo);c=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;var f=C.j(c,Hu),h=C.j(c,Ct);C.j(c,HA);var k=MQ(null,null),m=MQ(1,null);mQ(function(){var n=function(){function u(v){var y=v[1];if(7===y)return v[2]=v[2],v[1]=3,An;if(1===y)return v[2]=null,v[1]=2,An;if(4===y){y=v[10];y=v[2];var E=Q(y,0,null),G=Q(y,1,null),I=F.j(G,k)||null==E;v[7]=G;v[8]=y;v[9]=I;v[10]=E;v[1]=r(I)?5:6;return An}if(15===y)return y=v[10],v[2]=y,v[1]=16,An;if(13===y)return v[2]=
v[2],v[1]=10,An;if(6===y)return y=v[10],v[1]=wc(null==y)?8:9,An;if(3===y)return KQ(v,v[2]);if(12===y)return v[2]=!1,v[1]=13,An;if(2===y)return UQ(v,4,new X(null,2,5,Z,[a,k],null));if(11===y)return v[2]=!0,v[1]=13,An;if(9===y)return v[2]=!1,v[1]=10,An;if(5===y)return v[2]=null,v[1]=7,An;if(14===y)return y=v[10],y=dh(dk,y),v[2]=y,v[1]=16,An;if(16===y){y=v[10];var N=v[2],O=C.j(N,yp);y=d(function(){return function(){try{r(f)&&vU(xw,1754,new pl(function(){return new X(null,2,5,Z,["Pre-handler event: %s",
O],null)}),-216095179);var U=r(e)?function(){try{if(Af(N)&&NS(new mk(null,new q(null,11,[Sv,null,ur,null,Ht,null,rx,null,cp,null,yp,null,IB,null,Zs,null,ru,null,mu,null,Mt,null],null),null),N)){var qa=null!=N&&(N.J&64||l===N.qa)?dh(dk,N):N,za=C.j(qa,ur),Sa=C.j(qa,Mt),ka=C.j(qa,rx),oa=C.j(qa,Zs),ya=C.j(qa,ru),va=C.j(qa,Ht),Ba=C.j(qa,yp),eb=C.j(qa,Sv);var mc=vS(za)&&Jf(Sa)&&ka instanceof xh&&oa instanceof xh&&Af(ya)&&"string"===typeof va&&!tC(va)&&null==CU(Ba)&&(null==eb||Jf(eb))}else mc=!1;var zb=
mc?null:pS}catch(fc){if(fc instanceof Error)zb=fc;else throw fc;}return null==zb?N:qS(1757,"(server-event-msg? event-msg)",N,zb)}():function(){try{if(Af(N)&&NS(new mk(null,new q(null,6,[ur,null,bo,null,yp,null,IB,null,mu,null,Mt,null],null),null),N)){var qa=null!=N&&(N.J&64||l===N.qa)?dh(dk,N):N,za=C.j(qa,ur),Sa=C.j(qa,Mt),ka=C.j(qa,bo),oa=C.j(qa,yp);var ya=vS(za)&&Jf(Sa)&&ka instanceof xh&&null==CU(oa)}else ya=!1;var va=ya?null:pS}catch(Ba){if(Ba instanceof Error)va=Ba;else throw Ba;}return null==
va?N:qS(1758,"(client-event-msg? event-msg)",N,va)}();return b.B?b.B(U):b.call(null,U)}catch(qa){var ea=qa;try{return r(h)?h.j?h.j(ea,N):h.call(null,ea,N):vU(up,1763,new pl(function(){return new X(null,3,5,Z,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),-355729033)}catch(za){var fa=za;return vU(up,1764,new pl(function(){return new X(null,3,5,Z,[fa,"Chsk router `error-handler` error: %s",O],null)}),-2018966676)}}}}());v[11]=y;v[2]=null;v[1]=2;return An}return 10===y?(v[1]=r(v[2])?14:15,
An):8===y?(y=v[10],E=l===y.qa,v[1]=r(y.J&64||E)?11:12,An):null}return function(){function v(G){for(;;){a:try{for(;;){var I=u(G);if(!T(I,An)){var N=I;break a}}}catch(O){N=O;G[2]=N;if(H(G[4]))G[1]=J(G[4]);else throw N;N=An}if(!T(N,An))return N}}function y(){var G=[null,null,null,null,null,null,null,null,null,null,null,null];G[0]=E;G[1]=1;return G}var E=null;E=function(G){switch(arguments.length){case 0:return y.call(this);case 1:return v.call(this,G)}throw Error("Invalid arity: "+arguments.length);
};E.O=y;E.B=v;return E}()}(),p=function(){var u=n();u[6]=m;return u}();return HQ(p)});return function(){return GP(k)}}function eV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new ze(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=Q(d,0,null);d=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d;C.j(d,Hu);C.j(d,Ct);return dV(b,c,d)};var fV={},gV={},hV=[];function iV(a,b){var c=gV[a];if(void 0!==c)return c;try{hV.push(a);var d=fV[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};fV[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ma,iV,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{hV.pop()}return d.exports}iV.cache={};iV.resolve=function(a){return a};
function jV(a){return iV(a,{})};var kV=jV(3);var lV={};var mV={},nV="undefined"!==typeof window&&null!=window.document,oV=new mk(null,new q(null,2,["aria",null,"data",null],null),null);function pV(a){return 2>M(a)?a.toUpperCase():[wg.C(a,0,1).toUpperCase(),wg.j(a,1)].join("")}function qV(a){if("string"===typeof a)return a;a=Gg(a);var b=rC(a,/-/),c=H(b);b=J(c);c=K(c);return r(oV.B?oV.B(b):oV.call(null,b))?a:eh(t,b,Gh.j(pV,c))}
function rV(a){var b=function(){if(rf(a)){var c=a.displayName;r(c)||(c=a.name,c="string"===typeof c&&H(c)?c:null)}else c=!1;if(r(c))return c;c=null!=a&&(a.T&4096||l===a.xf)?Gg(a):!1;if(r(c))return c;c=uf(a);return Af(c)?zz.B(c):null}();return r(b)?oC(t.B(b),"$","."):null}function sV(a){return a instanceof D||a instanceof B}
var tV=function tV(a){switch(arguments.length){case 0:return tV.O();case 1:return tV.B(arguments[0]);case 2:return tV.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(2),0,null);return tV.F(arguments[0],arguments[1],c)}};tV.O=function(){return null};tV.B=function(a){return xf(a)?(a=wh(function(b){return r(b)?sV(b)?Gg(b):b:null},a),H(a)?pC(" ",a):null):sV(a)?Gg(a):a};
tV.j=function(a,b){return r(a)?r(b)?[t.B(tV.B(a))," ",t.B(tV.B(b))].join(""):tV.B(a):tV.B(b)};tV.F=function(a,b,c){return w.C(tV,tV.j(a,b),c)};tV.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};tV.Y=2;var uV=!1;function vV(a){if(Af(a))try{var b=C.j(a,VA)}catch(c){b=null}else b=null;return b}
function wV(a){var b=VA.B(uf(a));if(r(b))return b;b=vV(Q(a,1,null));if(r(b))return b;b=Q(a,0,null);switch(b instanceof D?b.na:null){case "\x3e":case "f\x3e":return vV(Q(a,2,null));case "r\x3e":return a=Q(a,2,null),null==a?null:a.key;default:return null}};var xV=0;function yV(a){return setTimeout(a,16)}var zV=nV?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:yV}().bind(a)}():yV;function AV(a,b){return a.Kf-b.Kf}function BV(){return null}function CV(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function DV(a,b,c){b.push(c);return a.schedule()}function EV(){this.ff=!1}g=EV.prototype;g.flush_after_render=function(){var a=this.Ee;if(null==a)return null;this.Ee=null;return CV(a)};g.queue_render=function(a){null==this.Se&&(this.Se=[]);return DV(this,this.Se,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ff)return null;this.ff=!0;return zV.B?zV.B(a):zV.call(null,a)};g.flush_before_flush=function(){var a=this.Fe;if(null==a)return null;this.Fe=null;return CV(a)};
g.flush_queues=function(){this.flush_before_flush();BV();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ff=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Fe&&(this.Fe=[]);return DV(this,this.Fe,a)};g.add_after_render=function(a){null==this.Ee&&(this.Ee=[]);return DV(this,this.Ee,a)};
g.flush_render=function(){var a=this.Se;if(null==a)return null;this.Se=null;a:{a.sort(AV);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var FV=new EV;function GV(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return FV.queue_render(a)};function HV(a){if(null!=a&&null!=a.ej)a=a.id;else{var b=HV[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=HV._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("Compiler.get-id",a);}return a}function IV(a,b){if(null!=a&&null!=a.hh)a=a.hh(a,b);else{var c=IV[ra(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=IV._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Ac("Compiler.as-element",a);}return a}
function JV(a,b,c,d,e){if(null!=a&&null!=a.ih)a=a.ih(a,b,c,d,e);else{var f=JV[ra(null==a?null:a)];if(null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=JV._,null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Ac("Compiler.make-element",a);}return a};var KV;function LV(a,b){b.rf=null;a:{var c=KV;KV=b;try{var d=a.O?a.O():a.call(null);break a}finally{KV=c}d=void 0}a=b.rf;b.ud=!1;a:{c=b.Md;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function MV(a){var b=KV;if(null!=b){var c=b.rf;null==c?b.rf=[a]:c.push(a)}}function NV(a,b,c){a.tb=R.C(a.tb,b,c);return a.ng=null}
function OV(a,b){a.tb=S.j(a.tb,b);return a.ng=null}function PV(a,b,c){var d=a.ng;d=null==d?a.ng=Zf(function(m,n,p){m.push(n);m.push(p);return m},[],a.tb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.P?k.P(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function QV(a,b,c,d){A(a,["#object[reagent.ratom.",t.B(c)," "].join(""));a:{c=KV;KV=null;try{var e=d;break a}finally{KV=c}e=void 0}Wk(e,a,b);return A(a,"]")}var RV=null;
function SV(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.tb=d;this.J=2154201088;this.T=114690}g=SV.prototype;g.ga=function(a,b,c){return QV(b,c,"RAtom",new q(null,1,[kl,this.ub(null)],null))};g.ea=function(){return this.meta};g.ia=function(){return xa(this)};g.ca=function(a,b){return this===b};g.Cc=function(a,b){a=this.state;this.state=b;null!=this.tb&&PV(this,a,b);return b};g.Af=function(a,b){return this.Cc(null,b.B?b.B(this.state):b.call(null,this.state))};
g.Bf=function(a,b,c){return this.Cc(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.Cf=function(a,b,c,d){return this.Cc(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.Df=function(a,b,c,d,e){return this.Cc(null,gh(b,this.state,c,d,e))};g.Ff=function(a,b){PV(this,a,b)};g.Me=function(a,b,c){return NV(this,b,c)};g.Ne=function(a,b){return OV(this,b)};g.fa=function(a,b){return new SV(this.state,b,this.validator,this.tb)};g.ub=function(){MV(this);return this.state};
var TV=function TV(a){switch(arguments.length){case 1:return TV.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ze(c.slice(1),0,null);return TV.F(arguments[0],c)}};TV.B=function(a){return new SV(a,null,null,null)};TV.F=function(a,b){var c=null!=b&&(b.J&64||l===b.qa)?dh(dk,b):b;b=C.j(c,pc);c=C.j(c,mt);return new SV(a,b,c,null)};TV.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};TV.Y=1;
function UV(a){if(null!=a&&null!=a.fg)a=a.fg(a);else{var b=UV[ra(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=UV._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Ac("IDisposable.dispose!",a);}return a}function VV(a,b,c,d){return a._handle_change(b,c,d)}function WV(a){this.f=a;this.state=null;this.ud=!0;this.$g=!1;this.sf=this.Kc=this.tb=this.Md=null;this.J=2153807872;this.T=114690}g=WV.prototype;g._peek_at=function(){var a=KV;KV=null;try{return this.ub(null)}finally{KV=a}};
g._handle_change=function(a,b,c){return b===c||this.ud?null:null==this.Kc?(this.ud=!0,null==RV&&(RV=[],!1===FV.ff&&FV.schedule()),RV.push(this)):!0===this.Kc?this._run(!1):this.Kc.B?this.Kc.B(this):this.Kc.call(null,this)};
g._update_watching=function(a){var b=pk(a),c=pk(this.Md);this.Md=a;a=H(lI.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);Ld(h,this,VV);f+=1}else if(a=H(a))d=a,Ef(d)?(a=Xd(d),f=Yd(d),d=a,e=M(a),a=f):(a=J(d),Ld(a,this,VV),a=K(d),d=null,e=0),f=0;else break;b=H(lI.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.xa(null,e),Md(a,this),e+=1;else if(b=H(b))c=b,Ef(c)?(b=Xd(c),d=Yd(c),c=b,a=M(b),b=d,d=a):(a=J(c),Md(a,this),b=K(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.ud&&null!=this.Md?this._run(!0):null};g._try_capture=function(a){try{return this.sf=null,LV(a,this)}catch(b){return this.sf=this.state=a=b,this.ud=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):LV(this.f,this);this.$g||(this.state=a,null==this.tb||F.j(b,a)||PV(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,Du);var c=C.j(b,Pz),d=C.j(b,Km);b=C.j(b,jo);null!=a&&(this.Kc=a);null!=c&&(this.Ui=c);null!=d&&(this.dh=d);return null!=b?this.$g=b:null};g.ga=function(a,b,c){return QV(b,c,"Reaction",new q(null,1,[kl,this.ub(null)],null))};g.ia=function(){return xa(this)};g.ca=function(a,b){return this===b};
g.fg=function(){var a=this.state,b=this.Md;this.Kc=this.state=this.Md=null;this.ud=!0;b=H(pk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Md(f,this);e+=1}else if(b=H(b))c=b,Ef(c)?(b=Xd(c),e=Yd(c),c=b,d=M(b),b=e):(b=J(c),Md(b,this),b=K(c),c=null,d=0),e=0;else break;null!=this.dh&&this.dh(a);a=this.Gj;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.B?d.B(this):d.call(null,this),c+=1;else return null};g.Cc=function(a,b){a=this.state;this.state=b;this.Ui(a,b);PV(this,a,b);return b};
g.Af=function(a,b){var c=this;return c.Cc(null,function(){var d=c._peek_at();return b.B?b.B(d):b.call(null,d)}())};g.Bf=function(a,b,c){var d=this;return d.Cc(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.Cf=function(a,b,c,d){var e=this;return e.Cc(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.Df=function(a,b,c,d,e){return this.Cc(null,gh(b,this._peek_at(),c,d,e))};g.Ff=function(a,b){PV(this,a,b)};
g.Me=function(a,b,c){return NV(this,b,c)};g.Ne=function(a,b){a=wf(this.tb);OV(this,b);return!a&&wf(this.tb)&&null==this.Kc?this.fg(null):null};g.ub=function(){var a=this.sf;if(null!=a)throw a;(a=null==KV)&&(XV.O?XV.O():XV.call(null));a&&null==this.Kc?this.ud&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.tb||F.j(a,this.state)||PV(this,a,this.state)):(MV(this),this.ud&&this._run(!1));return this.state};
function XV(){for(;;){var a=RV;if(null==a)return null;RV=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}BV=XV;function YV(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new ze(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.J&64||l===c.qa)?dh(dk,c):c;c=C.j(e,Du);d=C.j(e,Pz);e=C.j(e,Km);b=new WV(b);b._set_opts(new q(null,3,[Du,c,Pz,d,Km,e],null));return b}var ZV=YV(null);
function $V(a,b){var c=aW,d=ZV,e=LV(a,d);null!=d.Md&&(ZV=YV(null),d._set_opts(c),d.f=a,d.Kc=function(){return GV.B?GV.B(b):GV.call(null,b)},b.cljsRatom=d);return e};var bW;function cW(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=gb(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=R.C(f,Fg.B(k),hb(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function dW(a){var b;if(b=rf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.wd);return b}
function eW(a,b){for(;;){var c=a.wd,d=!0===a.di?c.call(a,a):function(){var e=cW(a,a.props);switch(M(e)){case 1:return c.call(a);case 2:return c.call(a,Ye(e,1));case 3:return c.call(a,Ye(e,1),Ye(e,2));case 4:return c.call(a,Ye(e,1),Ye(e,2),Ye(e,3));case 5:return c.call(a,Ye(e,1),Ye(e,2),Ye(e,3),Ye(e,4));default:return c.apply(a,Gc(e).slice(1))}}();if(Df(d))return IV(b,d);if(Jf(d))d=dW(d)?function(e,f,h,k,m){return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var y=Array(arguments.length-
0);v<y.length;)y[v]=arguments[v+0],++v;v=new ze(y,0,null)}return p.call(this,v)}function p(u){return IV(f,eh(Di,m,u))}n.Y=0;n.ba=function(u){u=H(u);return p(u)};n.F=p;return n}()}(a,b,c,null,d):d,a.wd=d;else return d}}var aW=new q(null,1,[jo,!0],null);
function fW(a,b){switch(a instanceof D?a.na:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=Q(e,1,null),e=Af(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.fi;d=null!=d?d:c.fi=TV.B(null);return zh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,cW(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,cW(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,cW(this,c))};case "shouldComponentUpdate":return function(c){var d=uV;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return ih.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,cW(this,this.props),cW(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,cW(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,cW(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,cW(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=hb(this,"cljsRatom");null!=c&&UV(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function gW(a,b){a=fW(a,b);return r(a)?a:b}var hW=new q(null,2,[FB,null,Lw,null],null),iW=function(a){var b=yh(W);return function(c){var d=C.j(z(b),c);if(null!=d)return d;d=a.B?a.B(c):a.call(null,c);Ah.P(b,R,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Gg(a);a=oC(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=rC(a,/-/);var b=H(a);a=J(b);b=K(b);return eh(t,a,Gh.j(pV,b))});
function jW(a){return Zf(function(b,c,d){return R.C(b,Fg.B(iW(c)),d)},W,a)}
function kW(a,b){var c=function(){var h=Qr.B(a);return r(h)?h:xu.B(a)}(),d=null==Qr.B(a),e=function(){var h=ny.B(a);if(r(h))return h;h=rV(c);return r(h)?h:t.B(ol("reagent"))}(),f=Zf(function(h,k,m){return R.C(h,k,gW(k,m))},W,a);return R.F(f,ny,e,P([Ir,d,Qr,c,xu,function(){var h=this,k=hb(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?$V(function(){a:{var m=bW;bW=h;try{var n=eW(h,b);break a}finally{bW=m}n=void 0}return n},h):k._run(!1)}]))}
function lW(a){return Zf(function(b,c,d){c=Gg(c);b[c]=d;return b},{},a)}function mW(a,b){return kW(hk.F(P([hW,jW(a)])),b)}var nW=new X(null,5,5,Z,[av,zt,Nw,Vw,Cy],null);
function oW(a,b){function c(k,m,n){kV.Component.call(this,k,m,n);r(h)&&(h.j?h.j(this,k):h.call(null,this,k));r(f)&&(this.state=f.B?f.B(this):f.call(null,this));this.Kf=xV+=1;return this}a=mW(a,b);b=lW(hh(S,a,ny,Tn,$u,P([xu,Qr,nW])));var d=lW(jk(a,nW)),e=ny.B(a),f=Tn.B(a),h=$u.B(a);jb(c.prototype,kV.Component.prototype,b);r(xu.B(a))&&(c.prototype.render=xu.B(a));r(Qr.B(a))&&(c.prototype.wd=Qr.B(a));r(Ir.B(a))&&(c.prototype.di=Ir.B(a));jb(c,kV.Component,d);r(e)&&(c.displayName=e,c.kb=e,c.vb=function(k){return A(k,
e)});c.rb=!0;return c.prototype.constructor=c}function pW(a,b,c){a=HV(a);return b[a]=c}
function qW(a,b){for(;;){var c=b.wd,d=b.argv,e=dh(c,d);if(Df(e))return IV(a,e);if(Jf(e))c=dW(e)?function(f,h,k,m,n,p){return function(){function u(y){var E=null;if(0<arguments.length){E=0;for(var G=Array(arguments.length-0);E<G.length;)G[E]=arguments[E+0],++E;E=new ze(G,0,null)}return v.call(this,E)}function v(y){return IV(f,eh(Di,p,y))}u.Y=0;u.ba=function(y){y=H(y);return v(y)};u.F=v;return u}()}(a,b,c,null,d,e):e,b.wd=c;else return e}}
function rW(a,b){var c=b.argv,d=b.wd;b=kV.useState(0);Q(b,0,null);var e=Q(b,1,null),f=kV.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.B?e.B(Ke):e.call(null,Ke)}};k.Kf=xV+=1;k.constructor=d;k.wd=d;return f.current=k}();var h=f.current;b=hb(h,"cljsRatom");kV.useEffect(function(){return function(){var k=hb(h,"cljsRatom");return null==k?null:UV(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?$V(function(){a:{var k=bW;bW=h;try{var m=qW(a,h);break a}finally{bW=k}m=void 0}return m},
h):b._run(!1)}function sW(a,b){a=a.argv;b=b.argv;if(!1===uV)try{return F.j(a,b)}catch(c){return!1}else return!1}function tW(a,b){function c(e){return rW(a,e)}var d=hb(b,HV(a));if(r(d))return d;c.displayName=rV(b);d=kV.memo(c,sW);pW(a,b,d);return d};var uW=new mk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function vW(a,b,c,d){var e=W;e=null!=e&&(e.J&64||l===e.qa)?dh(dk,e):e;e=C.j(e,Qs);if(a===document.activeElement&&Lf(uW,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(ih.j(f,c))return FV.add_after_render(function(){return wW.B?wW.B(d):wW.call(null,d)});c=M(f)-a.selectionStart;c=M(b)-c;d.Re=b;a.value=b;rf(e)&&(e.B?e.B(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Re=b;a.value=b;return rf(e)?e.B?e.B(b):e.call(null,b):null}
function wW(a){if(r(a.Jf)){a.Lg=!1;var b=a.ei,c=a.Re,d=a.Rf;return ih.j(b,c)?vW(d,b,c,a):null}return null}function xW(a,b,c){a.Re=c.target.value;r(a.Lg)||(a.Lg=!0,FV.add_after_render(function(){return wW(a)}));return b.B?b.B(c):b.call(null,c)}
function yW(a){var b=bW;if(r(null!=a?function(){var f=a.hasOwnProperty("onChange");return r(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.Jf)||(b.Jf=!0,b.Re=c);r(b.jh)||(b.jh=rf(e)?function(f){b.Rf=f;return e.B?e.B(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.Rf=f;return e.current=f}:function(f){return b.Rf=f});b.ei=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return xW(b,d,f)};a.ref=b.jh}}
var zW=new q(null,4,[ax,"ReagentInput",uA,wW,Sp,function(a){return a.Jf=null},jw,function(a,b,c,d,e){yW(c);return JV(e,a,b,c,d)}],null);var AW={},BW,CW=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,DW={"class":"className","for":"htmlFor",charset:"charSet"};function EW(a,b){return a.hasOwnProperty(b)?hb(a,b):null}function FW(a,b,c){if(sV(b)){var d=EW(DW,Gg(b));null==d?(d=qV(b),b=Gg(b),b=DW[b]=d):b=d}c=GW.B?GW.B(c):GW.call(null,c);a[b]=c;return a}
function GW(a){return"object"!==ra(a)?a:sV(a)?Gg(a):Af(a)?Zf(FW,{},a):xf(a)?zl(a):Jf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){return dh(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}():zl(a)}var HW={};function IW(a,b,c){if(sV(b)){var d=EW(HW,Gg(b));null==d?(d=qV(b),b=Gg(b),b=HW[b]=d):b=d}c=GW(c);a[b]=c;return a}
function JW(a){return"object"!==ra(a)?a:sV(a)?Gg(a):Af(a)?Zf(IW,{},a):xf(a)?zl(a):Jf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ze(f,0,null)}return c.call(this,e)}function c(d){return dh(a,d)}b.Y=0;b.ba=function(d){d=H(d);return c(d)};b.F=c;return b}():zl(a)}
function KW(a,b){var c=b.id;b=b.className;c=null!=c&&null==IB.B(a)?R.C(a,IB,c):a;return r(b)?R.C(c,$y,tV.j(b,function(){var d=$y.B(a);return r(d)?d:ux.B(a)}())):c}function LW(a,b,c,d,e){switch(M(b)-e){case 0:return kV.createElement(c,d);case 1:return kV.createElement(c,d,IV(a,Q(b,e,null)));default:return kV.createElement.apply(null,Zf(function(f,h,k){h>=e&&f.push(IV(a,k));return f},[c,d],b))}}function MW(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ii=d}
function NW(a,b,c){var d=hb(a,HV(c));null==d?dW(a)?a=pW(c,a,a):(d=uf(a),d=R.C(d,jw,a),d=oW(d,c),a=pW(c,a,d)):a=d;c={};c.argv=b;b=wV(b);null!=b&&(c.key=b);return kV.createElement(a,c)}function OW(a,b,c,d){var e={};e.wd=a;e.argv=Ii(b,c,M(b));b=wV(b);null!=b&&(e.key=b);return kV.createElement(tW(d,a),e)}function PW(a,b,c){var d;if(d=rf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?NW(a,b,c):OW(a,b,1,c)}var QW={};
function RW(a,b,c,d){var e=a.tag,f=Q(b,c,null),h=null==f||Af(f),k=function(){var n=h?f:null;var p=$y.B(n);n=KW(r(p)?R.C(n,$y,tV.B(p)):n,a);n=r(a.ii)?JW(n):GW(n);return r(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.fj;if(r(n))return n;n=oW(zW,d);return d.fj=n}(),IV(d,tf(new X(null,6,5,Z,[m,b,e,k,c,d],null),uf(b)));m=vV(uf(b));null!=m&&(k.key=m);return JV(d,b,e,k,c)}
function SW(a,b){return Gc(Gh.j(function(c){return IV(b,c)},a))}
function TW(a,b,c){null==b&&console.error("vec-to-elem",dl.F(P([a])));var d=Q(a,0,null);switch(d instanceof D?d.na:null){case "\x3e":return c=Q(a,1,null),RW(new MW(c,null,null,null),a,2,b);case "r\x3e":c=Q(a,1,null);d=Q(a,2,null);d=r(d)?d:{};var e=vV(uf(a));null!=e&&(d.key=e);return JV(b,a,c,d,3);case "f\x3e":return OW(Q(a,1,null),a,2,b);case "\x3c\x3e":return d=Q(a,1,null),c=null==d||Af(d),d=GW(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=wV(a),null!=e&&(d.key=e),JV(b,a,kV.Fragment,d,c);default:if(sV(d)||
"string"===typeof d)a:for(;;)switch(c=Q(a,0,null),c=Gg(c),d=c.indexOf("\x3e"),d){case -1:d=EW(QW,c);if(null==d){var f=K(Ik(CW,Gg(c)));d=Q(f,0,null);e=Q(f,1,null);f=Q(f,2,null);f=null==f?null:oC(f,/\./," ");var h=ih.j(-1,d.indexOf("-"));d=new MW(d,e,f,h);c=QW[c]=d}else c=d;a=RW(c,a,1,b);break a;case 0:a=null;break a;default:a=tf(new X(null,2,5,Z,[wg.C(c,0,d),R.C(tf(a,null),0,wg.j(c,d+1))],null),uf(a))}else a=c.C?c.C(d,a,b):c.call(null,d,a,b);return a}}
var UW=function(a){var b=ol("G__"),c=r(ep.B(a))?PW:NW;if("undefined"===typeof lV||"undefined"===typeof mV||"undefined"===typeof AW||"undefined"===typeof BW)BW=function(d,e,f,h){this.Zb=d;this.id=e;this.Tg=f;this.Qi=h;this.J=393216;this.T=0},BW.prototype.fa=function(d,e){return new BW(this.Zb,this.id,this.Tg,e)},BW.prototype.ea=function(){return this.Qi},BW.prototype.ej=function(){return this.id},BW.prototype.hh=function(d,e){d=this.Tg;return"object"!==ra(e)?e:Df(e)?TW(e,this,d):Hf(e)?SW(e,this):sV(e)?
Gg(e):(null!=e?e.J&2147483648||l===e.Ia||(e.J?0:yc(Hd,e)):yc(Hd,e))?dl.F(P([e])):e},BW.prototype.ih=function(d,e,f,h,k){return LW(this,e,f,h,k)},BW.rb=!0,BW.kb="reagent.impl.template/t_reagent$impl$template35704",BW.vb=function(d){return A(d,"reagent.impl.template/t_reagent$impl$template35704")};return new BW(a,b,c,W)}(W);var VW=jV(12);var WW=yh(W);function XW(a,b,c){var d=uV;uV=!0;try{return VW.render(a.O?a.O():a.call(null),b,function(){var e=uV;uV=!1;try{return Ah.P(WW,R,b,a),FV.flush_after_render(),null!=c?c.O?c.O():c.call(null):null}finally{uV=e}})}finally{uV=d}}function YW(a){var b=document.getElementById("app");XV();var c=rf(UW)?new X(null,2,5,Z,[UW,UW],null):new X(null,2,5,Z,[UW,kq.B(UW)],null),d=Q(c,0,null);c=Q(c,1,null);return XW(function(){return IV(d,rf(a)?a.O?a.O():a.call(null):a)},b,c)};var ZW=jV(13);var $W=jV(66);var aX=jV(67);jV(68);jV(73);var bX=jV(85);var cX=jV(133);var dX=jV(156);var module$node_modules$ol$style=jV(235);var module$node_modules$ol$Map=jV(253);var eX=jV(257);var fX=jV(315);var gX=jV(350);var hX=function(a,b,c){var d=Q(c,0,null),e=null!=d&&(d.J&64||l===d.qa)?dh(dk,d):d,f=C.j(e,SB),h=C.C(e,Gx,pT.F(P([is,20]))),k=C.C(e,Ht,function(){var ka=fs.B(e);return r(ka)?ka:oT()}()),m=C.j(e,rB),n=C.C(e,az,tv),p=C.j(e,$t),u=C.C(e,eq,Wq),v=C.j(e,Fn),y=C.j(e,Rm),E=C.j(e,Nq);d=C.C(e,$B,QP(2048));var G=C.C(e,Sz,CS),I=C.C(e,iw,!0);null!=Q(c,1,null)&&vU(Hz,1621,new pl(function(){return new X(null,1,5,Z,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),-543788973);Lf(e,
Gm)&&vU(Hz,1622,new pl(function(){return new X(null,1,5,Z,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),1263745681);("string"!==typeof b||tC(b))&&vU(Hz,1625,new pl(function(){return new X(null,1,5,Z,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),1157686431);var N=IU(n);n=function(){if(r(DS)){var ka=DS.location;var oa=r(ka)?new q(null,7,[aq,ka.href,rB,ka.protocol,fu,ka.hostname,Nq,ka.host,Op,ka.pathname,
Hq,ka.search,CA,ka.hash],null):null}else oa=null;ka=r(a)?a:Op.B(oa);var ya=Uz.B(e);if(r(ya))return new X(null,2,5,Z,[ya.C?ya.C(ka,oa,qq):ya.call(null,ka,oa,qq),ya.C?ya.C(ka,oa,Oz):ya.call(null,ka,oa,Oz)],null);r(m)?ya=m:(ya=rB.B(oa),ya=r(ya)?ya:In);oa=r(E)?r(v)?[t.B(E),":",t.B(v)].join(""):E:r(v)?[t.B(fu.B(oa)),":",t.B(v)].join(""):Nq.B(oa);return new X(null,2,5,Z,[cV(ya,oa,ka,qq),cV(ya,oa,ka,Oz)],null)}();c=Q(n,0,null);var O=Q(n,1,null);n=new q(null,3,[Pr,MQ(QP(128),null),bo,MQ(QP(10),null),Tq,function(){var ka=
QP(512);return r(I)?LQ(ka,Gh.B(function(oa){return new X(null,2,5,Z,[XA,oa],null)})):MQ(ka,null)}()],null);h=new q(null,6,[Ht,k,ix,n,$t,p,Rm,y,az,N,Gx,h],null);var U=hk.F(P([h,new q(null,2,[Ly,c,Sz,G],null)])),ea=hk.F(P([h,new q(null,3,[Ly,O,SB,f,Sz,G],null)])),fa=new q(null,2,[Zw,U,Ln,ea],null);f=JU(function(){var ka=u instanceof D?u.na:null;switch(ka){case "ws":return YU(U,b);case "ajax":return aV(ea,b);case "auto":ka=hk.F(P([new q(null,2,[Xy,yh(new q(null,4,[eq,Wq,yy,!1,ut,!1,Yr,b],null)),iq,yh(null)],
null),fa]));var oa=S.F(ka,Zw,P([Ln,Xy,iq]));oa=Bf(ka)?Xh.j(W,oa):oa;return new bV(Zw.B(ka),Ln.B(ka),Xy.B(ka),iq.B(ka),null,jh(oa),null);default:throw Error(["No matching clause: ",t.B(ka)].join(""));}}());if(r(f)){var qa=Xy.B(f),za=Pr.B(n),Sa=uh.j(MU,f);d=WQ(new X(null,3,5,Z,[Pr.B(n),bo.B(n),Tq.B(n)],null),d);G=LQ(1,Gh.B(function(ka){var oa=CU(ka);ka=r(oa)?new X(null,2,5,Z,[Cz,ka],null):ka;oa=Q(ka,0,null);var ya=Q(ka,1,null);return new q(null,6,[ur,za,Mt,Sa,bo,qa,yp,ka,IB,oa,mu,ya],null)}));TQ(d,
G);return new q(null,4,[At,f,ur,G,Mt,Sa,bo,Xy.B(f)],null)}return vU(Hz,1727,new pl(function(){return new X(null,1,5,Z,["Failed to create channel socket"],null)}),-1914130805)}("/chsk",null,P([new q(null,1,[eq,Wq],null)])),iX=null!=hX&&(hX.J&64||l===hX.qa)?dh(dk,hX):hX;C.j(iX,At);var jX=C.j(iX,ur);C.j(iX,Mt);C.j(iX,bo);var kX=yh(function(){return null});function lX(a,b){return oW(new q(null,2,[jw,a,zA,function(c){var d=VW.findDOMNode(c);return b.j?b.j(c,d):b.call(null,c,d)}],null),UW)}
function mX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,kx),c=C.j(a,Oo),d=C.j(a,Wv),e=C.j(a,Ww),f=C.j(a,sy);return lX(function(){return new X(null,1,5,Z,[Bp],null)},function(h,k){h=aX(k,{value:d,mode:e,lineNumbers:f});h.setSize(c,b);return h})}function nX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,qz);return lX(function(){return new X(null,1,5,Z,[Bp],null)},function(c,d){return $W(d,zl(b))})}
function oX(a){return new X(null,2,5,Z,[sp,new q(null,1,[xx,new q(null,1,[tz,ZW(sz.B(a))],null)],null)],null)}function pX(a){return new X(null,2,5,Z,[hm,new q(null,1,[xx,new q(null,1,[tz,Zy.B(a)],null)],null)],null)}
function qX(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;a=C.j(b,Zr);var c=C.j(b,TA),d=C.j(b,jm),e=C.j(b,Iq);return r(a)?(b=hk.F(P([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new eX.default).readFeature(a,zl(b)),r(e)&&a.setStyle(new module$node_modules$ol$style.Style(zl(hk.F(P([W,function(){var f=ai(e,new X(null,2,5,Z,[Fp,Px],null));return r(f)?new q(null,1,[Ft,new module$node_modules$ol$style.Fill({color:bX.asString(f)})],null):
null}(),function(){var f=ai(e,new X(null,2,5,Z,[Hw,Px],null));return r(f)?new q(null,1,[Ux,new module$node_modules$ol$style.Stroke({color:bX.asString(f)})],null):null}()]))))),a):null}
function rX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,qr),c=C.j(a,Cr),d=C.j(a,wz),e=C.j(a,yt),f=C.j(a,Em),h=C.j(a,rt);return new X(null,2,5,Z,[et,new q(null,2,[hq,new q(null,1,[ex,r(b)?b:"500px"],null),Xw,function(k){if(r(k)){var m=null==d?null:zl(d),n=r(e)?function(){var v=null==m?null:cX.fromLonLat(m);console.log(["Center projection: ",pC(" ",d)," (WGS84) to ",t.B(v)," (EPSG:3857)"].join(""));return v}():m;n=r(n)?n:[0,0];var p=r(c)?new module$node_modules$ol$style.Style(zl(hk.F(P([W,
function(){var v=ai(c,new X(null,2,5,Z,[Ft,sv],null));return r(v)?new q(null,1,[Ft,new module$node_modules$ol$style.Fill({color:bX.asString(v)})],null):null}(),function(){var v=ai(c,new X(null,2,5,Z,[Ux,sv],null));return r(v)?new q(null,1,[Ux,new module$node_modules$ol$style.Stroke({color:bX.asString(v)})],null):null}()])))):null,u=new fX.Vector(zl(new q(null,1,["features",Yh.j(qX,h)],null)));p=new gX.Vector(zl(hk.F(P([new q(null,1,[fn,u],null),r(p)?new q(null,1,[hq,p],null):null]))));return new module$node_modules$ol$Map.default({target:k,
layers:[new gX.Tile({source:new fX.OSM}),p],view:new dX.default({center:n,zoom:r(f)?f:4})})}return null}],null)],null)}
function sX(a){return new X(null,2,5,Z,[sw,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[hm,new q(null,1,[VA,PB.B(n)],null),new X(null,2,5,Z,[tX,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}k=J(e);return df(new X(null,3,5,Z,[hm,new q(null,1,[VA,PB.B(k)],null),new X(null,2,5,Z,[tX,k],null)],null),d(Be(e)))}return null}},
null,null)}(Qp.B(a))}()],null)}
function uX(a){return new X(null,2,5,Z,[Pv,function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){if(Ef(e)){var f=Xd(e),h=M(f),k=Lg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[hm,new q(null,1,[VA,PB.B(n)],null),new X(null,2,5,Z,[tX,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Ng(Pg(k),d(Yd(e))):Ng(Pg(k),null)}k=J(e);return df(new X(null,3,5,Z,[hm,new q(null,1,[VA,PB.B(k)],null),new X(null,2,5,Z,[tX,k],null)],null),d(Be(e)))}return null}},
null,null)}(Qp.B(a))}()],null)}
function tX(a){var b=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a,c=C.j(b,PB),d=C.j(b,Ns);b=function(){switch(d instanceof D?d.na:null){case "widget.type/html":return pX;case "widget.type/row":return sX;case "widget.type/column":return uX;case "widget.type/vega-embed":return nX;case "widget.type/codemirror":return mX;case "widget.type/markdown":return oX;case "widget.type/geoplot":return rX;default:return new X(null,2,5,Z,[pA,new X(null,3,5,Z,[rq,"Unknown Widget type ",new X(null,2,5,Z,[wq,t.B(d)],null)],
null)],null)}}();console.log("Render",Gg(d));return tf(new X(null,2,5,Z,[b,a],null),new q(null,1,[VA,c],null))}
function vX(a){return new X(null,4,5,Z,[Ms,new X(null,3,5,Z,[Mp,new q(null,1,[hq,new q(null,1,[Rv,"Cinzel"],null)],null),"Literate"],null),H(a)?function(){return function d(c){return new Hg(null,function(){for(;;){var e=H(c);if(e){var f=e;if(Ef(f)){var h=Xd(f),k=M(h),m=Lg(k);return function(){for(var y=0;;)if(y<k){var E=x(h,y),G=null!=E&&(E.J&64||l===E.qa)?dh(dk,E):E,I=G,N=C.j(G,Uf);Og(m,new X(null,4,5,Z,[Jq,new q(null,1,[VA,N],null),new X(null,3,5,Z,[Hm,new q(null,1,[zn,function(O,U,ea,fa,qa){return function(){return xP(qa)}}(y,
E,G,I,N,h,k,m,f,e)],null),new X(null,1,5,Z,[Gt],null)],null),new X(null,2,5,Z,[lA,tX(I)],null)],null));y+=1}else return!0}()?Ng(Pg(m),d(Yd(f))):Ng(Pg(m),null)}var n=J(f),p=null!=n&&(n.J&64||l===n.qa)?dh(dk,n):n,u=p,v=C.j(p,Uf);return df(new X(null,4,5,Z,[Jq,new q(null,1,[VA,v],null),new X(null,3,5,Z,[Hm,new q(null,1,[zn,function(y,E,G,I){return function(){return xP(I)}}(n,p,u,v,f,e)],null),new X(null,1,5,Z,[Gt],null)],null),new X(null,2,5,Z,[lA,tX(u)],null)],null),d(Be(f)))}return null}},null,null)}(a)}():
new X(null,2,5,Z,[EA,new X(null,3,5,Z,[hz,new q(null,1,[hq,new q(null,1,[Rv,"Cinzel"],null)],null),"Widgets shall be displayed here."],null)],null),new X(null,2,5,Z,[Dz,new X(null,3,5,Z,[hy,new q(null,1,[zn,function(){return WO(new X(null,1,5,Z,[new q(null,6,[PB,t.B($l()),Ns,Wm,Ww,"clojure",kx,"auto",sy,!1,Wv,function(){var b=new ac,c=hc,d=gc;hc=!0;gc=function(e){return b.append(e)};try{oE()}finally{gc=d,hc=c}return t.B(b)}()],null)],null))}],null),new X(null,1,5,Z,[ty],null)],null)],null)],null)}
function wX(a){a=null!=a&&(a.J&64||l===a.qa)?dh(dk,a):a;var b=C.j(a,mu),c=Q(b,0,null);b=Q(b,1,null);console.group("Sente");console.log(jk(a,new X(null,2,5,Z,[IB,mu],null)));console.groupEnd();return F.j(RA,c)?WO(b):null}
function xX(){var a=new X(null,7,5,Z,[dr,new X(null,2,5,Z,[Ag(Bw,JB,new X(null,2,5,Z,[rs,new q(null,1,[Qp,new X(null,1,5,Z,[Bx],null)],null)],null)),Zu],null),zB,Hp,ip,new X(null,2,5,Z,[JB,PB],null),new X(null,1,5,Z,[Ag(Hr,Hp,JB,Kx)],null)],null);var b=z(pE);a=qE.j?qE.j(a,b):qE.call(null,a,b);a=Tf(a);return YW(new X(null,2,5,Z,[vX,a],null))}function yX(){console.log("Welcome to Literate");zh(kX,eV(jX,wX));XO(function(){console.log("Will re-render...");return xX()});return xX()}
na("literate.app.init",yX);try{yX()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);