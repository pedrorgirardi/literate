var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function(Ja,A,rb,E){var k=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;rb.exports=function(){try{if(!Object.assign)return!1;var H=new String("abc");H[5]="de";if("5"===Object.getOwnPropertyNames(H)[0])return!1;var N={};for(H=0;10>H;H++)N["_"+String.fromCharCode(H)]=H;if("0123456789"!==Object.getOwnPropertyNames(N).map(function(v){return N[v]}).join(""))return!1;var x={};"abcdefghijklmnopqrst".split("").forEach(function(v){x[v]=
v});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},x)).join("")?!1:!0}catch(v){return!1}}()?Object.assign:function(H,N){if(null===H||void 0===H)throw new TypeError("Object.assign cannot be called with null or undefined");var x=Object(H);for(var v,u=1;u<arguments.length;u++){var m=Object(arguments[u]);for(var g in m)l.call(m,g)&&(x[g]=m[g]);if(k){v=k(m);for(var d=0;d<v.length;d++)w.call(m,v[d])&&(x[v[d]]=m[v[d]])}}return x}};
shadow$provide[1]=function(Ja,A,rb,E){function k(Z){if(null===Z||"object"!==typeof Z)return null;Z=G&&Z[G]||Z["@@iterator"];return"function"===typeof Z?Z:null}function l(Z){for(var P="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+Z,C=1;C<arguments.length;C++)P+="\x26args[]\x3d"+encodeURIComponent(arguments[C]);return"Minified React error #"+Z+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(Z,P,C){this.props=
Z;this.context=P;this.refs=R;this.updater=C||K}function H(){}function N(Z,P,C){this.props=Z;this.context=P;this.refs=R;this.updater=C||K}function x(Z,P,C){var V,ia={},aa=null,ya=null;if(null!=P)for(V in void 0!==P.ref&&(ya=P.ref),void 0!==P.key&&(aa=""+P.key),P)ja.call(P,V)&&!fa.hasOwnProperty(V)&&(ia[V]=P[V]);var va=arguments.length-2;if(1===va)ia.children=C;else if(1<va){for(var Ia=Array(va),bb=0;bb<va;bb++)Ia[bb]=arguments[bb+2];ia.children=Ia}if(Z&&Z.defaultProps)for(V in va=Z.defaultProps,va)void 0===
ia[V]&&(ia[V]=va[V]);return{$$typeof:y,type:Z,key:aa,ref:ya,props:ia,_owner:T.current}}function v(Z,P){return{$$typeof:y,type:Z.type,key:P,ref:Z.ref,props:Z.props,_owner:Z._owner}}function u(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===y}function m(Z){var P={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Z.replace(/[=:]/g,function(C){return P[C]})}function g(Z,P){return"object"===typeof Z&&null!==Z&&null!=Z.key?m(""+Z.key):P.toString(36)}function d(Z,P,C,V,ia){var aa=typeof Z;if("undefined"===aa||
"boolean"===aa)Z=null;var ya=!1;if(null===Z)ya=!0;else switch(aa){case "string":case "number":ya=!0;break;case "object":switch(Z.$$typeof){case y:case B:ya=!0}}if(ya)return ya=Z,ia=ia(ya),Z=""===V?"."+g(ya,0):V,Array.isArray(ia)?(C="",null!=Z&&(C=Z.replace(ha,"$\x26/")+"/"),d(ia,P,C,"",function(bb){return bb})):null!=ia&&(u(ia)&&(ia=v(ia,C+(!ia.key||ya&&ya.key===ia.key?"":(""+ia.key).replace(ha,"$\x26/")+"/")+Z)),P.push(ia)),1;ya=0;V=""===V?".":V+":";if(Array.isArray(Z))for(var va=0;va<Z.length;va++){aa=
Z[va];var Ia=V+g(aa,va);ya+=d(aa,P,C,Ia,ia)}else if(Ia=k(Z),"function"===typeof Ia)for(Z=Ia.call(Z),va=0;!(aa=Z.next()).done;)aa=aa.value,Ia=V+g(aa,va++),ya+=d(aa,P,C,Ia,ia);else if("object"===aa)throw P=""+Z,Error(l(31,"[object Object]"===P?"object with keys {"+Object.keys(Z).join(", ")+"}":P));return ya}function f(Z,P,C){if(null==Z)return Z;var V=[],ia=0;d(Z,V,"","",function(aa){return P.call(C,aa,ia++)});return V}function a(Z){if(-1===Z._status){var P=Z._result;P=P();Z._status=0;Z._result=P;P.then(function(C){0===
Z._status&&(C=C.default,Z._status=1,Z._result=C)},function(C){0===Z._status&&(Z._status=2,Z._result=C)})}if(1===Z._status)return Z._result;throw Z._result;}function e(){var Z=la.current;if(null===Z)throw Error(l(321));return Z}var n=A(0),y=60103,B=60106;E.Fragment=60107;E.StrictMode=60108;E.Profiler=60114;var D=60109,O=60110,M=60112;E.Suspense=60113;var F=60115,z=60116;"function"===typeof Symbol&&Symbol.for&&(Ja=Symbol.for,y=Ja("react.element"),B=Ja("react.portal"),E.Fragment=Ja("react.fragment"),
E.StrictMode=Ja("react.strict_mode"),E.Profiler=Ja("react.profiler"),D=Ja("react.provider"),O=Ja("react.context"),M=Ja("react.forward_ref"),E.Suspense=Ja("react.suspense"),F=Ja("react.memo"),z=Ja("react.lazy"));var G="function"===typeof Symbol&&Symbol.iterator,K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};w.prototype.isReactComponent={};w.prototype.setState=function(Z,P){if("object"!==typeof Z&&"function"!==typeof Z&&
null!=Z)throw Error(l(85));this.updater.enqueueSetState(this,Z,P,"setState")};w.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};H.prototype=w.prototype;Ja=N.prototype=new H;Ja.constructor=N;n(Ja,w.prototype);Ja.isPureReactComponent=!0;var T={current:null},ja=Object.prototype.hasOwnProperty,fa={key:!0,ref:!0,__self:!0,__source:!0},ha=/\/+/g,la={current:null};Ja={ReactCurrentDispatcher:la,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},
assign:n};E.Children={map:f,forEach:function(Z,P,C){f(Z,function(){P.apply(this,arguments)},C)},count:function(Z){var P=0;f(Z,function(){P++});return P},toArray:function(Z){return f(Z,function(P){return P})||[]},only:function(Z){if(!u(Z))throw Error(l(143));return Z}};E.Component=w;E.PureComponent=N;E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ja;E.cloneElement=function(Z,P,C){if(null===Z||void 0===Z)throw Error(l(267,Z));var V=n({},Z.props),ia=Z.key,aa=Z.ref,ya=Z._owner;if(null!=P){void 0!==
P.ref&&(aa=P.ref,ya=T.current);void 0!==P.key&&(ia=""+P.key);if(Z.type&&Z.type.defaultProps)var va=Z.type.defaultProps;for(Ia in P)ja.call(P,Ia)&&!fa.hasOwnProperty(Ia)&&(V[Ia]=void 0===P[Ia]&&void 0!==va?va[Ia]:P[Ia])}var Ia=arguments.length-2;if(1===Ia)V.children=C;else if(1<Ia){va=Array(Ia);for(var bb=0;bb<Ia;bb++)va[bb]=arguments[bb+2];V.children=va}return{$$typeof:y,type:Z.type,key:ia,ref:aa,props:V,_owner:ya}};E.createContext=function(Z,P){void 0===P&&(P=null);Z={$$typeof:O,_calculateChangedBits:P,
_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null};Z.Provider={$$typeof:D,_context:Z};return Z.Consumer=Z};E.createElement=x;E.createFactory=function(Z){var P=x.bind(null,Z);P.type=Z;return P};E.createRef=function(){return{current:null}};E.forwardRef=function(Z){return{$$typeof:M,render:Z}};E.isValidElement=u;E.lazy=function(Z){return{$$typeof:z,_payload:{_status:-1,_result:Z},_init:a}};E.memo=function(Z,P){return{$$typeof:F,type:Z,compare:void 0===P?null:P}};E.useCallback=
function(Z,P){return e().useCallback(Z,P)};E.useContext=function(Z,P){return e().useContext(Z,P)};E.useDebugValue=function(){};E.useEffect=function(Z,P){return e().useEffect(Z,P)};E.useImperativeHandle=function(Z,P,C){return e().useImperativeHandle(Z,P,C)};E.useLayoutEffect=function(Z,P){return e().useLayoutEffect(Z,P)};E.useMemo=function(Z,P){return e().useMemo(Z,P)};E.useReducer=function(Z,P,C){return e().useReducer(Z,P,C)};E.useRef=function(Z){return e().useRef(Z)};E.useState=function(Z){return e().useState(Z)};
E.version="17.0.1"};
shadow$provide[3]=function(Ja,A,rb,E){rb.exports=A(1)};
shadow$provide[4]=function(Ja,A,rb,E){function k(C,V){var ia=C.length;C.push(V);a:for(;;){var aa=ia-1>>>1,ya=C[aa];if(void 0!==ya&&0<H(ya,V))C[aa]=V,C[ia]=ya,ia=aa;else break a}}function l(C){C=C[0];return void 0===C?null:C}function w(C){var V=C[0];if(void 0!==V){var ia=C.pop();if(ia!==V){C[0]=ia;var aa=0,ya=C.length;a:for(;aa<ya;){var va=2*(aa+1)-1,Ia=C[va],bb=va+1,kb=C[bb];if(void 0!==Ia&&0>H(Ia,ia))void 0!==kb&&0>H(kb,Ia)?(C[aa]=kb,C[bb]=ia,aa=bb):(C[aa]=Ia,C[va]=ia,aa=va);else if(void 0!==kb&&
0>H(kb,ia))C[aa]=kb,C[bb]=ia,aa=bb;else break a}}return V}return null}function H(C,V){var ia=C.sortIndex-V.sortIndex;return 0!==ia?ia:C.id-V.id}function N(C){for(var V=l(T);null!==V;){if(null===V.callback)w(T);else if(V.startTime<=C)w(T),V.sortIndex=V.expirationTime,k(R,V);else break;V=l(T)}}function x(C){P=!1;N(C);if(!Z)if(null!==l(R))Z=!0,e(v);else{var V=l(T);null!==V&&n(x,V.startTime-C)}}function v(C,V){Z=!1;P&&(P=!1,y());la=!0;var ia=ha;try{N(V);for(fa=l(R);null!==fa&&(!(fa.expirationTime>V)||
C&&!E.unstable_shouldYield());){var aa=fa.callback;if("function"===typeof aa){fa.callback=null;ha=fa.priorityLevel;var ya=aa(fa.expirationTime<=V);V=E.unstable_now();"function"===typeof ya?fa.callback=ya:fa===l(R)&&w(R);N(V)}else w(R);fa=l(R)}if(null!==fa)var va=!0;else{var Ia=l(T);null!==Ia&&n(x,Ia.startTime-V);va=!1}return va}finally{fa=null,ha=ia,la=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;E.unstable_now=function(){return u.now()}}else{var m=
Date,g=m.now();E.unstable_now=function(){return m.now()-g}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var d=null,f=null,a=function(){if(null!==d)try{var C=E.unstable_now();d(!0,C);d=null}catch(V){throw setTimeout(a,0),V;}};var e=function(C){null!==d?setTimeout(e,0,C):(d=C,setTimeout(a,0))};var n=function(C,V){f=setTimeout(C,V)};var y=function(){clearTimeout(f)};E.unstable_shouldYield=function(){return!1};Ja=E.unstable_forceFrameRate=function(){}}else{var B=window.setTimeout,
D=window.clearTimeout;"undefined"!==typeof console&&(Ja=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ja&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var O=!1,M=null,
F=-1,z=5,G=0;E.unstable_shouldYield=function(){return E.unstable_now()>=G};Ja=function(){};E.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<C?Math.floor(1E3/C):5};A=new MessageChannel;var K=A.port2;A.port1.onmessage=function(){if(null!==M){var C=E.unstable_now();G=C+z;try{M(!0,C)?K.postMessage(null):(O=!1,M=null)}catch(V){throw K.postMessage(null),V;}}else O=!1};e=function(C){M=
C;O||(O=!0,K.postMessage(null))};n=function(C,V){F=B(function(){C(E.unstable_now())},V)};y=function(){D(F);F=-1}}var R=[],T=[],ja=1,fa=null,ha=3,la=!1,Z=!1,P=!1;E.unstable_IdlePriority=5;E.unstable_ImmediatePriority=1;E.unstable_LowPriority=4;E.unstable_NormalPriority=3;E.unstable_Profiling=null;E.unstable_UserBlockingPriority=2;E.unstable_cancelCallback=function(C){C.callback=null};E.unstable_continueExecution=function(){Z||la||(Z=!0,e(v))};E.unstable_getCurrentPriorityLevel=function(){return ha};
E.unstable_getFirstCallbackNode=function(){return l(R)};E.unstable_next=function(C){switch(ha){case 1:case 2:case 3:var V=3;break;default:V=ha}var ia=ha;ha=V;try{return C()}finally{ha=ia}};E.unstable_pauseExecution=function(){};E.unstable_requestPaint=Ja;E.unstable_runWithPriority=function(C,V){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ia=ha;ha=C;try{return V()}finally{ha=ia}};E.unstable_scheduleCallback=function(C,V,ia){var aa=E.unstable_now();"object"===typeof ia&&null!==
ia?(ia=ia.delay,ia="number"===typeof ia&&0<ia?aa+ia:aa):ia=aa;switch(C){case 1:var ya=-1;break;case 2:ya=250;break;case 5:ya=1073741823;break;case 4:ya=1E4;break;default:ya=5E3}ya=ia+ya;C={id:ja++,callback:V,priorityLevel:C,startTime:ia,expirationTime:ya,sortIndex:-1};ia>aa?(C.sortIndex=ia,k(T,C),null===l(R)&&C===l(T)&&(P?y():P=!0,n(x,ia-aa))):(C.sortIndex=ya,k(R,C),Z||la||(Z=!0,e(v)));return C};E.unstable_wrapCallback=function(C){var V=ha;return function(){var ia=ha;ha=V;try{return C.apply(this,
arguments)}finally{ha=ia}}}};
shadow$provide[6]=function(Ja,A,rb,E){rb.exports=A(4)};
shadow$provide[7]=function(Ja,A,rb,E){function k(q){for(var J="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+q,da=1;da<arguments.length;da++)J+="\x26args[]\x3d"+encodeURIComponent(arguments[da]);return"Minified React error #"+q+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(q,J){w(q,J);w(q+"Capture",J)}function w(q,J){vh[q]=J;for(q=0;q<J.length;q++)Ei.add(J[q])}function H(q){if(Vj.call(Wj,q))return!0;
if(Vj.call(Xj,q))return!1;if(Yj.test(q))return Wj[q]=!0;Xj[q]=!0;return!1}function N(q,J,da,Qa){if(null!==da&&0===da.type)return!1;switch(typeof J){case "function":case "symbol":return!0;case "boolean":if(Qa)return!1;if(null!==da)return!da.acceptsBooleans;q=q.toLowerCase().slice(0,5);return"data-"!==q&&"aria-"!==q;default:return!1}}function x(q,J,da,Qa){if(null===J||"undefined"===typeof J||N(q,J,da,Qa))return!0;if(Qa)return!1;if(null!==da)switch(da.type){case 3:return!J;case 4:return!1===J;case 5:return isNaN(J);
case 6:return isNaN(J)||1>J}return!1}function v(q,J,da,Qa,ib,yb,Ob){this.acceptsBooleans=2===J||3===J||4===J;this.attributeName=Qa;this.attributeNamespace=ib;this.mustUseProperty=da;this.propertyName=q;this.type=J;this.sanitizeURL=yb;this.removeEmptyString=Ob}function u(q){return q[1].toUpperCase()}function m(q,J,da,Qa){var ib=vg.hasOwnProperty(J)?vg[J]:null;(null!==ib?0===ib.type:Qa?0:2<J.length&&("o"===J[0]||"O"===J[0])&&("n"===J[1]||"N"===J[1]))||(x(J,da,ib,Qa)&&(da=null),Qa||null===ib?H(J)&&(null===
da?q.removeAttribute(J):q.setAttribute(J,""+da)):ib.mustUseProperty?q[ib.propertyName]=null===da?3===ib.type?!1:"":da:(J=ib.attributeName,Qa=ib.attributeNamespace,null===da?q.removeAttribute(J):(ib=ib.type,da=3===ib||4===ib&&!0===da?"":""+da,Qa?q.setAttributeNS(Qa,J,da):q.setAttribute(J,da))))}function g(q){if(null===q||"object"!==typeof q)return null;q=ri&&q[ri]||q["@@iterator"];return"function"===typeof q?q:null}function d(q){if(void 0===dh)try{throw Error();}catch(da){var J=da.stack.trim().match(/\n( *(at )?)/);
dh=J&&J[1]||""}return"\n"+dh+q}function f(q,J){if(!q||Aj)return"";Aj=!0;var da=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(J)if(J=function(){throw Error();},Object.defineProperty(J.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(J,[])}catch(Fc){var Qa=Fc}Reflect.construct(q,[],J)}else{try{J.call()}catch(Fc){Qa=Fc}q.call(J.prototype)}else{try{throw Error();}catch(Fc){Qa=Fc}q()}}catch(Fc){if(Fc&&Qa&&"string"===
typeof Fc.stack){for(var ib=Fc.stack.split("\n"),yb=Qa.stack.split("\n"),Ob=ib.length-1,fc=yb.length-1;1<=Ob&&0<=fc&&ib[Ob]!==yb[fc];)fc--;for(;1<=Ob&&0<=fc;Ob--,fc--)if(ib[Ob]!==yb[fc]){if(1!==Ob||1!==fc){do if(Ob--,fc--,0>fc||ib[Ob]!==yb[fc])return"\n"+ib[Ob].replace(" at new "," at ");while(1<=Ob&&0<=fc)}break}}}finally{Aj=!1,Error.prepareStackTrace=da}return(q=q?q.displayName||q.name:"")?d(q):""}function a(q){switch(q.tag){case 5:return d(q.type);case 16:return d("Lazy");case 13:return d("Suspense");
case 19:return d("SuspenseList");case 0:case 2:case 15:return q=f(q.type,!1),q;case 11:return q=f(q.type.render,!1),q;case 22:return q=f(q.type._render,!1),q;case 1:return q=f(q.type,!0),q;default:return""}}function e(q){if(null==q)return null;if("function"===typeof q)return q.displayName||q.name||null;if("string"===typeof q)return q;switch(q){case Zg:return"Fragment";case wg:return"Portal";case bi:return"Profiler";case Eg:return"StrictMode";case Ff:return"Suspense";case Ag:return"SuspenseList"}if("object"===
typeof q)switch(q.$$typeof){case Fi:return(q.displayName||"Context")+".Consumer";case eh:return(q._context.displayName||"Context")+".Provider";case wf:var J=q.render;J=J.displayName||J.name||"";return q.displayName||(""!==J?"ForwardRef("+J+")":"ForwardRef");case ci:return e(q.type);case Jg:return e(q._render);case Gh:J=q._payload;q=q._init;try{return e(q(J))}catch(da){}}return null}function n(q){switch(typeof q){case "boolean":case "number":case "object":case "string":case "undefined":return q;default:return""}}
function y(q){var J=q.type;return(q=q.nodeName)&&"input"===q.toLowerCase()&&("checkbox"===J||"radio"===J)}function B(q){var J=y(q)?"checked":"value",da=Object.getOwnPropertyDescriptor(q.constructor.prototype,J),Qa=""+q[J];if(!q.hasOwnProperty(J)&&"undefined"!==typeof da&&"function"===typeof da.get&&"function"===typeof da.set){var ib=da.get,yb=da.set;Object.defineProperty(q,J,{configurable:!0,get:function(){return ib.call(this)},set:function(Ob){Qa=""+Ob;yb.call(this,Ob)}});Object.defineProperty(q,
J,{enumerable:da.enumerable});return{getValue:function(){return Qa},setValue:function(Ob){Qa=""+Ob},stopTracking:function(){q._valueTracker=null;delete q[J]}}}}function D(q){q._valueTracker||(q._valueTracker=B(q))}function O(q){if(!q)return!1;var J=q._valueTracker;if(!J)return!0;var da=J.getValue(),Qa="";q&&(Qa=y(q)?q.checked?"true":"false":q.value);q=Qa;return q!==da?(J.setValue(q),!0):!1}function M(q){q=q||("undefined"!==typeof document?document:void 0);if("undefined"===typeof q)return null;try{return q.activeElement||
q.body}catch(J){return q.body}}function F(q,J){var da=J.checked;return lg({},J,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=da?da:q._wrapperState.initialChecked})}function z(q,J){var da=null==J.defaultValue?"":J.defaultValue,Qa=null!=J.checked?J.checked:J.defaultChecked;da=n(null!=J.value?J.value:da);q._wrapperState={initialChecked:Qa,initialValue:da,controlled:"checkbox"===J.type||"radio"===J.type?null!=J.checked:null!=J.value}}function G(q,J){J=J.checked;null!=J&&m(q,"checked",
J,!1)}function K(q,J){G(q,J);var da=n(J.value),Qa=J.type;if(null!=da)if("number"===Qa){if(0===da&&""===q.value||q.value!=da)q.value=""+da}else q.value!==""+da&&(q.value=""+da);else if("submit"===Qa||"reset"===Qa){q.removeAttribute("value");return}J.hasOwnProperty("value")?T(q,J.type,da):J.hasOwnProperty("defaultValue")&&T(q,J.type,n(J.defaultValue));null==J.checked&&null!=J.defaultChecked&&(q.defaultChecked=!!J.defaultChecked)}function R(q,J,da){if(J.hasOwnProperty("value")||J.hasOwnProperty("defaultValue")){var Qa=
J.type;if(!("submit"!==Qa&&"reset"!==Qa||void 0!==J.value&&null!==J.value))return;J=""+q._wrapperState.initialValue;da||J===q.value||(q.value=J);q.defaultValue=J}da=q.name;""!==da&&(q.name="");q.defaultChecked=!!q._wrapperState.initialChecked;""!==da&&(q.name=da)}function T(q,J,da){if("number"!==J||M(q.ownerDocument)!==q)null==da?q.defaultValue=""+q._wrapperState.initialValue:q.defaultValue!==""+da&&(q.defaultValue=""+da)}function ja(q){var J="";Gi.Children.forEach(q,function(da){null!=da&&(J+=da)});
return J}function fa(q,J){q=lg({children:void 0},J);if(J=ja(J.children))q.children=J;return q}function ha(q,J,da,Qa){q=q.options;if(J){J={};for(var ib=0;ib<da.length;ib++)J["$"+da[ib]]=!0;for(da=0;da<q.length;da++)ib=J.hasOwnProperty("$"+q[da].value),q[da].selected!==ib&&(q[da].selected=ib),ib&&Qa&&(q[da].defaultSelected=!0)}else{da=""+n(da);J=null;for(ib=0;ib<q.length;ib++){if(q[ib].value===da){q[ib].selected=!0;Qa&&(q[ib].defaultSelected=!0);return}null!==J||q[ib].disabled||(J=q[ib])}null!==J&&
(J.selected=!0)}}function la(q,J){if(null!=J.dangerouslySetInnerHTML)throw Error(k(91));return lg({},J,{value:void 0,defaultValue:void 0,children:""+q._wrapperState.initialValue})}function Z(q,J){var da=J.value;if(null==da){da=J.children;J=J.defaultValue;if(null!=da){if(null!=J)throw Error(k(92));if(Array.isArray(da)){if(!(1>=da.length))throw Error(k(93));da=da[0]}J=da}null==J&&(J="");da=J}q._wrapperState={initialValue:n(da)}}function P(q,J){var da=n(J.value),Qa=n(J.defaultValue);null!=da&&(da=""+
da,da!==q.value&&(q.value=da),null==J.defaultValue&&q.defaultValue!==da&&(q.defaultValue=da));null!=Qa&&(q.defaultValue=""+Qa)}function C(q){var J=q.textContent;J===q._wrapperState.initialValue&&""!==J&&null!==J&&(q.value=J)}function V(q){switch(q){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(q,J){return null==q||"http://www.w3.org/1999/xhtml"===q?V(J):"http://www.w3.org/2000/svg"===q&&
"foreignObject"===J?"http://www.w3.org/1999/xhtml":q}function aa(q,J){if(J){var da=q.firstChild;if(da&&da===q.lastChild&&3===da.nodeType){da.nodeValue=J;return}}q.textContent=J}function ya(q,J,da){return null==J||"boolean"===typeof J||""===J?"":da||"number"!==typeof J||0===J||Vh.hasOwnProperty(q)&&Vh[q]?(""+J).trim():J+"px"}function va(q,J){q=q.style;for(var da in J)if(J.hasOwnProperty(da)){var Qa=0===da.indexOf("--"),ib=ya(da,J[da],Qa);"float"===da&&(da="cssFloat");Qa?q.setProperty(da,ib):q[da]=
ib}}function Ia(q,J){if(J){if(Hi[q]&&(null!=J.children||null!=J.dangerouslySetInnerHTML))throw Error(k(137,q));if(null!=J.dangerouslySetInnerHTML){if(null!=J.children)throw Error(k(60));if(!("object"===typeof J.dangerouslySetInnerHTML&&"__html"in J.dangerouslySetInnerHTML))throw Error(k(61));}if(null!=J.style&&"object"!==typeof J.style)throw Error(k(62));}}function bb(q,J){if(-1===q.indexOf("-"))return"string"===typeof J.is;switch(q){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function kb(q){q=q.target||q.srcElement||window;q.correspondingUseElement&&(q=q.correspondingUseElement);return 3===q.nodeType?q.parentNode:q}function ua(q){if(q=Ge(q)){if("function"!==typeof di)throw Error(k(280));var J=q.stateNode;J&&(J=Ye(J),di(q.stateNode,q.type,J))}}function Ta(q){pf?mh?mh.push(q):mh=[q]:pf=q}function Ya(){if(pf){var q=pf,J=mh;mh=pf=null;ua(q);if(J)for(q=0;q<J.length;q++)ua(J[q])}}function Da(q,J){return q(J)}function ta(q,J,da,Qa,ib){return q(J,da,Qa,ib)}function U(){}
function W(){if(null!==pf||null!==mh)U(),Ya()}function ba(q,J,da){if(ei)return q(J,da);ei=!0;try{return mg(q,J,da)}finally{ei=!1,W()}}function ca(q,J){var da=q.stateNode;if(null===da)return null;var Qa=Ye(da);if(null===Qa)return null;da=Qa[J];a:switch(J){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Qa=!Qa.disabled)||
(q=q.type,Qa=!("button"===q||"input"===q||"select"===q||"textarea"===q));q=!Qa;break a;default:q=!1}if(q)return null;if(da&&"function"!==typeof da)throw Error(k(231,J,typeof da));return da}function ra(q,J,da,Qa,ib,yb,Ob,fc,Fc){var sd=Array.prototype.slice.call(arguments,3);try{J.apply(da,sd)}catch(ve){this.onError(ve)}}function qa(q,J,da,Qa,ib,yb,Ob,fc,Fc){fi=!1;Wh=null;ra.apply(Te,arguments)}function Fa(q,J,da,Qa,ib,yb,Ob,fc,Fc){qa.apply(this,arguments);if(fi){if(fi){var sd=Wh;fi=!1;Wh=null}else throw Error(k(198));
Hh||(Hh=!0,gi=sd)}}function na(q){var J=q,da=q;if(q.alternate)for(;J.return;)J=J.return;else{q=J;do J=q,0!==(J.flags&1026)&&(da=J.return),q=J.return;while(q)}return 3===J.tag?da:null}function Ra(q){if(13===q.tag){var J=q.memoizedState;null===J&&(q=q.alternate,null!==q&&(J=q.memoizedState));if(null!==J)return J.dehydrated}return null}function db(q){if(na(q)!==q)throw Error(k(188));}function $a(q){var J=q.alternate;if(!J){J=na(q);if(null===J)throw Error(k(188));return J!==q?null:q}for(var da=q,Qa=J;;){var ib=
da.return;if(null===ib)break;var yb=ib.alternate;if(null===yb){Qa=ib.return;if(null!==Qa){da=Qa;continue}break}if(ib.child===yb.child){for(yb=ib.child;yb;){if(yb===da)return db(ib),q;if(yb===Qa)return db(ib),J;yb=yb.sibling}throw Error(k(188));}if(da.return!==Qa.return)da=ib,Qa=yb;else{for(var Ob=!1,fc=ib.child;fc;){if(fc===da){Ob=!0;da=ib;Qa=yb;break}if(fc===Qa){Ob=!0;Qa=ib;da=yb;break}fc=fc.sibling}if(!Ob){for(fc=yb.child;fc;){if(fc===da){Ob=!0;da=yb;Qa=ib;break}if(fc===Qa){Ob=!0;Qa=yb;da=ib;break}fc=
fc.sibling}if(!Ob)throw Error(k(189));}}if(da.alternate!==Qa)throw Error(k(190));}if(3!==da.tag)throw Error(k(188));return da.stateNode.current===da?q:J}function Ca(q){q=$a(q);if(!q)return null;for(var J=q;;){if(5===J.tag||6===J.tag)return J;if(J.child)J.child.return=J,J=J.child;else{if(J===q)break;for(;!J.sibling;){if(!J.return||J.return===q)return null;J=J.return}J.sibling.return=J.return;J=J.sibling}}return null}function Ga(q,J){for(var da=q.alternate;null!==J;){if(J===q||J===da)return!0;J=J.return}return!1}
function pa(q,J,da,Qa,ib){return{blockedOn:q,domEventName:J,eventSystemFlags:da|16,nativeEvent:ib,targetContainers:[Qa]}}function Ha(q,J){switch(q){case "focusin":case "focusout":wh=null;break;case "dragenter":case "dragleave":Ih=null;break;case "mouseover":case "mouseout":Xh=null;break;case "pointerover":case "pointerout":Ii.delete(J.pointerId);break;case "gotpointercapture":case "lostpointercapture":si.delete(J.pointerId)}}function Ua(q,J,da,Qa,ib,yb){if(null===q||q.nativeEvent!==yb)return q=pa(J,
da,Qa,ib,yb),null!==J&&(J=Ge(J),null!==J&&ol(J)),q;q.eventSystemFlags|=Qa;J=q.targetContainers;null!==ib&&-1===J.indexOf(ib)&&J.push(ib);return q}function jb(q,J,da,Qa,ib){switch(J){case "focusin":return wh=Ua(wh,q,J,da,Qa,ib),!0;case "dragenter":return Ih=Ua(Ih,q,J,da,Qa,ib),!0;case "mouseover":return Xh=Ua(Xh,q,J,da,Qa,ib),!0;case "pointerover":var yb=ib.pointerId;Ii.set(yb,Ua(Ii.get(yb)||null,q,J,da,Qa,ib));return!0;case "gotpointercapture":return yb=ib.pointerId,si.set(yb,Ua(si.get(yb)||null,
q,J,da,Qa,ib)),!0}return!1}function Fb(q){var J=jf(q.target);if(null!==J){var da=na(J);if(null!==da)if(J=da.tag,13===J){if(J=Ra(da),null!==J){q.blockedOn=J;nh(q.lanePriority,function(){Dg.unstable_runWithPriority(q.priority,function(){Jh(da)})});return}}else if(3===J&&da.stateNode.hydrate){q.blockedOn=3===da.tag?da.stateNode.containerInfo:null;return}}q.blockedOn=null}function Xb(q){if(null!==q.blockedOn)return!1;for(var J=q.targetContainers;0<J.length;){var da=Eb(q.domEventName,q.eventSystemFlags,
J[0],q.nativeEvent);if(null!==da)return J=Ge(da),null!==J&&ol(J),q.blockedOn=da,!1;J.shift()}return!0}function nc(q,J,da){Xb(q)&&da.delete(J)}function md(){for(dj=!1;0<ih.length;){var q=ih[0];if(null!==q.blockedOn){q=Ge(q.blockedOn);null!==q&&zk(q);break}for(var J=q.targetContainers;0<J.length;){var da=Eb(q.domEventName,q.eventSystemFlags,J[0],q.nativeEvent);if(null!==da){q.blockedOn=da;break}J.shift()}null===q.blockedOn&&ih.shift()}null!==wh&&Xb(wh)&&(wh=null);null!==Ih&&Xb(Ih)&&(Ih=null);null!==
Xh&&Xb(Xh)&&(Xh=null);Ii.forEach(nc);si.forEach(nc)}function pc(q,J){q.blockedOn===J&&(q.blockedOn=null,dj||(dj=!0,Dg.unstable_scheduleCallback(Dg.unstable_NormalPriority,md)))}function Hc(q){function J(ib){return pc(ib,q)}if(0<ih.length){pc(ih[0],q);for(var da=1;da<ih.length;da++){var Qa=ih[da];Qa.blockedOn===q&&(Qa.blockedOn=null)}}null!==wh&&pc(wh,q);null!==Ih&&pc(Ih,q);null!==Xh&&pc(Xh,q);Ii.forEach(J);si.forEach(J);for(da=0;da<Kh.length;da++)Qa=Kh[da],Qa.blockedOn===q&&(Qa.blockedOn=null);for(;0<
Kh.length&&(da=Kh[0],null===da.blockedOn);)Fb(da),null===da.blockedOn&&Kh.shift()}function mb(q,J){var da={};da[q.toLowerCase()]=J.toLowerCase();da["Webkit"+q]="webkit"+J;da["Moz"+q]="moz"+J;return da}function hc(q){if(kg[q])return kg[q];if(!jh[q])return q;var J=jh[q],da;for(da in J)if(J.hasOwnProperty(da)&&da in Ji)return kg[q]=J[da];return q}function jc(q,J){for(var da=0;da<q.length;da+=2){var Qa=q[da],ib=q[da+1];ib="on"+(ib[0].toUpperCase()+ib.slice(1));Zj.set(Qa,J);Yh.set(Qa,ib);l(ib,[Qa])}}function rc(q){if(0!==
(1&q))return ag=15,1;if(0!==(2&q))return ag=14,2;if(0!==(4&q))return ag=13,4;var J=24&q;if(0!==J)return ag=12,J;if(0!==(q&32))return ag=11,32;J=192&q;if(0!==J)return ag=10,J;if(0!==(q&256))return ag=9,256;J=3584&q;if(0!==J)return ag=8,J;if(0!==(q&4096))return ag=7,4096;J=4186112&q;if(0!==J)return ag=6,J;J=62914560&q;if(0!==J)return ag=5,J;if(q&67108864)return ag=4,67108864;if(0!==(q&134217728))return ag=3,134217728;J=805306368&q;if(0!==J)return ag=2,J;if(0!==(1073741824&q))return ag=1,1073741824;
ag=8;return q}function Pc(q){switch(q){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sc(q){switch(q){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(k(358,q));}}function Uc(q,J){var da=q.pendingLanes;if(0===da)return ag=0;var Qa=0,ib=0,yb=q.expiredLanes,Ob=q.suspendedLanes,fc=q.pingedLanes;if(0!==yb)Qa=
yb,ib=ag=15;else if(yb=da&134217727,0!==yb){var Fc=yb&~Ob;0!==Fc?(Qa=rc(Fc),ib=ag):(fc&=yb,0!==fc&&(Qa=rc(fc),ib=ag))}else yb=da&~Ob,0!==yb?(Qa=rc(yb),ib=ag):0!==fc&&(Qa=rc(fc),ib=ag);if(0===Qa)return 0;Qa=31-Lh(Qa);Qa=da&((0>Qa?0:1<<Qa)<<1)-1;if(0!==J&&J!==Qa&&0===(J&Ob)){rc(J);if(ib<=ag)return J;ag=ib}J=q.entangledLanes;if(0!==J)for(q=q.entanglements,J&=Qa;0<J;)da=31-Lh(J),ib=1<<da,Qa|=q[da],J&=~ib;return Qa}function Sc(q){q=q.pendingLanes&-1073741825;return 0!==q?q:q&1073741824?1073741824:0}function Lc(q,
J){switch(q){case 15:return 1;case 14:return 2;case 12:return q=Fd(24&~J),0===q?Lc(10,J):q;case 10:return q=Fd(192&~J),0===q?Lc(8,J):q;case 8:return q=Fd(3584&~J),0===q&&(q=Fd(4186112&~J),0===q&&(q=512)),q;case 2:return J=Fd(805306368&~J),0===J&&(J=268435456),J}throw Error(k(358,q));}function Fd(q){return q&-q}function ge(q){for(var J=[],da=0;31>da;da++)J.push(q);return J}function wd(q,J,da){q.pendingLanes|=J;var Qa=J-1;q.suspendedLanes&=Qa;q.pingedLanes&=Qa;q=q.eventTimes;J=31-Lh(J);q[J]=da}function vd(q){return 0===
q?32:31-(oh(q)/Mh|0)|0}function Wd(q,J,da,Qa){Tf||U();var ib=gc,yb=Tf;Tf=!0;try{ta(ib,q,J,da,Qa)}finally{(Tf=yb)||W()}}function Pb(q,J,da,Qa){ej(Nh,gc.bind(null,q,J,da,Qa))}function gc(q,J,da,Qa){if(Bj){var ib;if((ib=0===(J&4))&&0<ih.length&&-1<ti.indexOf(q))q=pa(null,q,J,da,Qa),ih.push(q);else{var yb=Eb(q,J,da,Qa);if(null===yb)ib&&Ha(q,Qa);else{if(ib){if(-1<ti.indexOf(q)){q=pa(yb,q,J,da,Qa);ih.push(q);return}if(jb(yb,q,J,da,Qa))return;Ha(q,Qa)}Zd(q,J,Qa,null,da)}}}}function Eb(q,J,da,Qa){var ib=
kb(Qa);ib=jf(ib);if(null!==ib){var yb=na(ib);if(null===yb)ib=null;else{var Ob=yb.tag;if(13===Ob){ib=Ra(yb);if(null!==ib)return ib;ib=null}else if(3===Ob){if(yb.stateNode.hydrate)return 3===yb.tag?yb.stateNode.containerInfo:null;ib=null}else yb!==ib&&(ib=null)}}Zd(q,J,Qa,ib,da);return null}function zc(){if(Og)return Og;var q,J=ui,da=J.length,Qa,ib="value"in ph?ph.value:ph.textContent,yb=ib.length;for(q=0;q<da&&J[q]===ib[q];q++);var Ob=da-q;for(Qa=1;Qa<=Ob&&J[da-Qa]===ib[yb-Qa];Qa++);return Og=ib.slice(q,
1<Qa?1-Qa:void 0)}function Vc(q){var J=q.keyCode;"charCode"in q?(q=q.charCode,0===q&&13===J&&(q=13)):q=J;10===q&&(q=13);return 32<=q||13===q?q:0}function Ed(){return!0}function Vd(){return!1}function Ka(q){function J(da,Qa,ib,yb,Ob){this._reactName=da;this._targetInst=ib;this.type=Qa;this.nativeEvent=yb;this.target=Ob;this.currentTarget=null;for(var fc in q)q.hasOwnProperty(fc)&&(da=q[fc],this[fc]=da?da(yb):yb[fc]);this.isDefaultPrevented=(null!=yb.defaultPrevented?yb.defaultPrevented:!1===yb.returnValue)?
Ed:Vd;this.isPropagationStopped=Vd;return this}lg(J.prototype,{preventDefault:function(){this.defaultPrevented=!0;var da=this.nativeEvent;da&&(da.preventDefault?da.preventDefault():"unknown"!==typeof da.returnValue&&(da.returnValue=!1),this.isDefaultPrevented=Ed)},stopPropagation:function(){var da=this.nativeEvent;da&&(da.stopPropagation?da.stopPropagation():"unknown"!==typeof da.cancelBubble&&(da.cancelBubble=!0),this.isPropagationStopped=Ed)},persist:function(){},isPersistent:Ed});return J}function eb(q){var J=
this.nativeEvent;return J.getModifierState?J.getModifierState(q):(q=Ki[q])?!!J[q]:!1}function wb(){return eb}function Hb(q,J){switch(q){case "keyup":return-1!==X.indexOf(J.keyCode);case "keydown":return 229!==J.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ac(q){q=q.detail;return"object"===typeof q&&"data"in q?q.data:null}function Lb(q,J){switch(q){case "compositionend":return ac(J);case "keypress":if(32!==J.which)return null;tb=!0;return ab;case "textInput":return q=
J.data,q===ab&&tb?null:q;default:return null}}function Ac(q,J){if(Ib)return"compositionend"===q||!S&&Hb(q,J)?(q=zc(),Og=ui=ph=null,Ib=!1,q):null;switch(q){case "paste":return null;case "keypress":if(!(J.ctrlKey||J.altKey||J.metaKey)||J.ctrlKey&&J.altKey){if(J.char&&1<J.char.length)return J.char;if(J.which)return String.fromCharCode(J.which)}return null;case "compositionend":return Xa&&"ko"!==J.locale?null:J.data;default:return null}}function tc(q){var J=q&&q.nodeName&&q.nodeName.toLowerCase();return"input"===
J?!!dc[q.type]:"textarea"===J?!0:!1}function pb(q,J,da,Qa){Ta(Qa);J=zf(J,"onChange");0<J.length&&(da=new Jf("onChange","change",null,da,Qa),q.push({event:da,listeners:J}))}function Bb(q){De(q,0)}function Ub(q){var J=Td(q);if(O(J))return q}function mc(q,J){if("change"===q)return J}function Bc(){Rc&&(Rc.detachEvent("onpropertychange",Cc),vc=Rc=null)}function Cc(q){if("value"===q.propertyName&&Ub(vc)){var J=[];pb(J,vc,q,kb(q));q=Bb;if(Tf)q(J);else{Tf=!0;try{Da(q,J)}finally{Tf=!1,W()}}}}function Xc(q,
J,da){"focusin"===q?(Bc(),Rc=J,vc=da,Rc.attachEvent("onpropertychange",Cc)):"focusout"===q&&Bc()}function Qb(q){if("selectionchange"===q||"keyup"===q||"keydown"===q)return Ub(vc)}function Ic(q,J){if("click"===q)return Ub(J)}function Dc(q,J){if("input"===q||"change"===q)return Ub(J)}function uc(q,J){return q===J&&(0!==q||1/q===1/J)||q!==q&&J!==J}function Tc(q,J){if(bf(q,J))return!0;if("object"!==typeof q||null===q||"object"!==typeof J||null===J)return!1;var da=Object.keys(q),Qa=Object.keys(J);if(da.length!==
Qa.length)return!1;for(Qa=0;Qa<da.length;Qa++)if(!He.call(J,da[Qa])||!bf(q[da[Qa]],J[da[Qa]]))return!1;return!0}function ad(q){for(;q&&q.firstChild;)q=q.firstChild;return q}function ld(q,J){var da=ad(q);q=0;for(var Qa;da;){if(3===da.nodeType){Qa=q+da.textContent.length;if(q<=J&&Qa>=J)return{node:da,offset:J-q};q=Qa}a:{for(;da;){if(da.nextSibling){da=da.nextSibling;break a}da=da.parentNode}da=void 0}da=ad(da)}}function Cd(q,J){return q&&J?q===J?!0:q&&3===q.nodeType?!1:J&&3===J.nodeType?Cd(q,J.parentNode):
"contains"in q?q.contains(J):q.compareDocumentPosition?!!(q.compareDocumentPosition(J)&16):!1:!1}function Dd(){for(var q=window,J=M();J instanceof q.HTMLIFrameElement;){try{var da="string"===typeof J.contentWindow.location.href}catch(Qa){da=!1}if(da)q=J.contentWindow;else break;J=M(q.document)}return J}function Ud(q){var J=q&&q.nodeName&&q.nodeName.toLowerCase();return J&&("input"===J&&("text"===q.type||"search"===q.type||"tel"===q.type||"url"===q.type||"password"===q.type)||"textarea"===J||"true"===
q.contentEditable)}function ae(q,J,da){var Qa=da.window===da?da.document:9===da.nodeType?da:da.ownerDocument;qf||null==Af||Af!==M(Qa)||(Qa=Af,"selectionStart"in Qa&&Ud(Qa)?Qa={start:Qa.selectionStart,end:Qa.selectionEnd}:(Qa=(Qa.ownerDocument&&Qa.ownerDocument.defaultView||window).getSelection(),Qa={anchorNode:Qa.anchorNode,anchorOffset:Qa.anchorOffset,focusNode:Qa.focusNode,focusOffset:Qa.focusOffset}),Wf&&Tc(Wf,Qa)||(Wf=Qa,Qa=zf(bg,"onSelect"),0<Qa.length&&(J=new Jf("onSelect","select",null,J,da),
q.push({event:J,listeners:Qa}),J.target=Af)))}function oe(q,J,da){var Qa=q.type||"unknown-event";q.currentTarget=da;Fa(Qa,J,void 0,q);q.currentTarget=null}function De(q,J){J=0!==(J&4);for(var da=0;da<q.length;da++){var Qa=q[da],ib=Qa.event;Qa=Qa.listeners;a:{var yb=void 0;if(J)for(var Ob=Qa.length-1;0<=Ob;Ob--){var fc=Qa[Ob],Fc=fc.instance,sd=fc.currentTarget;fc=fc.listener;if(Fc!==yb&&ib.isPropagationStopped())break a;oe(ib,fc,sd);yb=Fc}else for(Ob=0;Ob<Qa.length;Ob++){fc=Qa[Ob];Fc=fc.instance;sd=
fc.currentTarget;fc=fc.listener;if(Fc!==yb&&ib.isPropagationStopped())break a;oe(ib,fc,sd);yb=Fc}}}if(Hh)throw q=gi,Hh=!1,gi=null,q;}function fe(q,J){var da=Xf(J),Qa=q+"__bubble";da.has(Qa)||(df(J,q,2,!1),da.add(Qa))}function ef(q){q[Pg]||(q[Pg]=!0,Ei.forEach(function(J){Kg.has(J)||Ze(J,!1,q,null);Ze(J,!0,q,null)}))}function Ze(q,J,da,Qa){var ib=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,yb=da;"selectionchange"===q&&9!==da.nodeType&&(yb=da.ownerDocument);if(null!==Qa&&!J&&Kg.has(q)){if("scroll"!==
q)return;ib|=2;yb=Qa}var Ob=Xf(yb),fc=q+"__"+(J?"capture":"bubble");Ob.has(fc)||(J&&(ib|=4),df(yb,q,ib,J),Ob.add(fc))}function df(q,J,da,Qa){var ib=Zj.get(J);switch(void 0===ib?2:ib){case 0:ib=Wd;break;case 1:ib=Pb;break;default:ib=gc}da=ib.bind(null,J,da,q);ib=void 0;!Li||"touchstart"!==J&&"touchmove"!==J&&"wheel"!==J||(ib=!0);Qa?void 0!==ib?q.addEventListener(J,da,{capture:!0,passive:ib}):q.addEventListener(J,da,!0):void 0!==ib?q.addEventListener(J,da,{passive:ib}):q.addEventListener(J,da,!1)}function Zd(q,
J,da,Qa,ib){var yb=Qa;if(0===(J&1)&&0===(J&2)&&null!==Qa)a:for(;;){if(null===Qa)return;var Ob=Qa.tag;if(3===Ob||4===Ob){var fc=Qa.stateNode.containerInfo;if(fc===ib||8===fc.nodeType&&fc.parentNode===ib)break;if(4===Ob)for(Ob=Qa.return;null!==Ob;){var Fc=Ob.tag;if(3===Fc||4===Fc)if(Fc=Ob.stateNode.containerInfo,Fc===ib||8===Fc.nodeType&&Fc.parentNode===ib)return;Ob=Ob.return}for(;null!==fc;){Ob=jf(fc);if(null===Ob)return;Fc=Ob.tag;if(5===Fc||6===Fc){Qa=yb=Ob;continue a}fc=fc.parentNode}}Qa=Qa.return}ba(function(){var sd=
yb,ve=kb(da),ff=[];a:{var Ld=Yh.get(q);if(void 0!==Ld){var Ke=Jf,gf=q;switch(q){case "keypress":if(0===Vc(da))break a;case "keydown":case "keyup":Ke=fj;break;case "focusin":gf="focus";Ke=vi;break;case "focusout":gf="blur";Ke=vi;break;case "beforeblur":case "afterblur":Ke=vi;break;case "click":if(2===da.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ke=gj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ke=
Oh;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ke=xg;break;case xh:case Cj:case ak:Ke=Mi;break;case Ph:Ke=hj;break;case "scroll":Ke=Dj;break;case "wheel":Ke=p;break;case "copy":case "cut":case "paste":Ke=Ak;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ke=Qg}var $e=0!==(J&4),cd=!$e&&"scroll"===q,Nc=$e?null!==Ld?Ld+"Capture":null:Ld;$e=[];for(var $c=
sd,Bd;null!==$c;){Bd=$c;var Jd=Bd.stateNode;5===Bd.tag&&null!==Jd&&(Bd=Jd,null!==Nc&&(Jd=ca($c,Nc),null!=Jd&&$e.push(he($c,Jd,Bd))));if(cd)break;$c=$c.return}0<$e.length&&(Ld=new Ke(Ld,gf,null,da,ve),ff.push({event:Ld,listeners:$e}))}}if(0===(J&7)){Ld="mouseover"===q||"pointerover"===q;Ke="mouseout"===q||"pointerout"===q;if(!Ld||0!==(J&16)||!(gf=da.relatedTarget||da.fromElement)||!jf(gf)&&!gf[Ej])if(Ke||Ld){Ld=ve.window===ve?ve:(Ld=ve.ownerDocument)?Ld.defaultView||Ld.parentWindow:window;if(Ke){if(gf=
da.relatedTarget||da.toElement,Ke=sd,gf=gf?jf(gf):null,null!==gf&&(cd=na(gf),gf!==cd||5!==gf.tag&&6!==gf.tag))gf=null}else Ke=null,gf=sd;if(Ke!==gf){$e=gj;Jd="onMouseLeave";Nc="onMouseEnter";$c="mouse";if("pointerout"===q||"pointerover"===q)$e=Qg,Jd="onPointerLeave",Nc="onPointerEnter",$c="pointer";cd=null==Ke?Ld:Td(Ke);Bd=null==gf?Ld:Td(gf);Ld=new $e(Jd,$c+"leave",Ke,da,ve);Ld.target=cd;Ld.relatedTarget=Bd;Jd=null;jf(ve)===sd&&($e=new $e(Nc,$c+"enter",gf,da,ve),$e.target=Bd,$e.relatedTarget=cd,Jd=
$e);cd=Jd;if(Ke&&gf)b:{$e=Ke;Nc=gf;$c=0;for(Bd=$e;Bd;Bd=Ue(Bd))$c++;Bd=0;for(Jd=Nc;Jd;Jd=Ue(Jd))Bd++;for(;0<$c-Bd;)$e=Ue($e),$c--;for(;0<Bd-$c;)Nc=Ue(Nc),Bd--;for(;$c--;){if($e===Nc||null!==Nc&&$e===Nc.alternate)break b;$e=Ue($e);Nc=Ue(Nc)}$e=null}else $e=null;null!==Ke&&Nf(ff,Ld,Ke,$e,!1);null!==gf&&null!==cd&&Nf(ff,cd,gf,$e,!0)}}Ld=sd?Td(sd):window;Ke=Ld.nodeName&&Ld.nodeName.toLowerCase();if("select"===Ke||"input"===Ke&&"file"===Ld.type)var cf=mc;else if(tc(Ld))if(wc)cf=Dc;else{cf=Qb;var Ae=Xc}else(Ke=
Ld.nodeName)&&"input"===Ke.toLowerCase()&&("checkbox"===Ld.type||"radio"===Ld.type)&&(cf=Ic);cf&&(cf=cf(q,sd))?pb(ff,cf,da,ve):(Ae&&Ae(q,Ld,sd),"focusout"===q&&(Ae=Ld._wrapperState)&&Ae.controlled&&"number"===Ld.type&&T(Ld,"number",Ld.value));Ae=sd?Td(sd):window;switch(q){case "focusin":if(tc(Ae)||"true"===Ae.contentEditable)Af=Ae,bg=sd,Wf=null;break;case "focusout":Wf=bg=Af=null;break;case "mousedown":qf=!0;break;case "contextmenu":case "mouseup":case "dragend":qf=!1;ae(ff,da,ve);break;case "selectionchange":if(cg)break;
case "keydown":case "keyup":ae(ff,da,ve)}var hf;if(S)a:{switch(q){case "compositionstart":var Kf="onCompositionStart";break a;case "compositionend":Kf="onCompositionEnd";break a;case "compositionupdate":Kf="onCompositionUpdate";break a}Kf=void 0}else Ib?Hb(q,da)&&(Kf="onCompositionEnd"):"keydown"===q&&229===da.keyCode&&(Kf="onCompositionStart");Kf&&(Xa&&"ko"!==da.locale&&(Ib||"onCompositionStart"!==Kf?"onCompositionEnd"===Kf&&Ib&&(hf=zc()):(ph=ve,ui="value"in ph?ph.value:ph.textContent,Ib=!0)),Ae=
zf(sd,Kf),0<Ae.length&&(Kf=new ij(Kf,q,null,da,ve),ff.push({event:Kf,listeners:Ae}),hf?Kf.data=hf:(hf=ac(da),null!==hf&&(Kf.data=hf))));if(hf=La?Lb(q,da):Ac(q,da))sd=zf(sd,"onBeforeInput"),0<sd.length&&(ve=new ij("onBeforeInput","beforeinput",null,da,ve),ff.push({event:ve,listeners:sd}),ve.data=hf)}De(ff,J)})}function he(q,J,da){return{instance:q,listener:J,currentTarget:da}}function zf(q,J){for(var da=J+"Capture",Qa=[];null!==q;){var ib=q,yb=ib.stateNode;5===ib.tag&&null!==yb&&(ib=yb,yb=ca(q,da),
null!=yb&&Qa.unshift(he(q,yb,ib)),yb=ca(q,J),null!=yb&&Qa.push(he(q,yb,ib)));q=q.return}return Qa}function Ue(q){if(null===q)return null;do q=q.return;while(q&&5!==q.tag);return q?q:null}function Nf(q,J,da,Qa,ib){for(var yb=J._reactName,Ob=[];null!==da&&da!==Qa;){var fc=da,Fc=fc.alternate,sd=fc.stateNode;if(null!==Fc&&Fc===Qa)break;5===fc.tag&&null!==sd&&(fc=sd,ib?(Fc=ca(da,yb),null!=Fc&&Ob.unshift(he(da,Fc,fc))):ib||(Fc=ca(da,yb),null!=Fc&&Ob.push(he(da,Fc,fc))));da=da.return}0!==Ob.length&&q.push({event:J,
listeners:Ob})}function me(){}function te(q,J){switch(q){case "button":case "input":case "select":case "textarea":return!!J.autoFocus}return!1}function kf(q,J){return"textarea"===q||"option"===q||"noscript"===q||"string"===typeof J.children||"number"===typeof J.children||"object"===typeof J.dangerouslySetInnerHTML&&null!==J.dangerouslySetInnerHTML&&null!=J.dangerouslySetInnerHTML.__html}function we(q){1===q.nodeType?q.textContent="":9===q.nodeType&&(q=q.body,null!=q&&(q.textContent=""))}function Od(q){for(;null!=
q;q=q.nextSibling){var J=q.nodeType;if(1===J||3===J)break}return q}function Xd(q){q=q.previousSibling;for(var J=0;q;){if(8===q.nodeType){var da=q.data;if("$"===da||"$!"===da||"$?"===da){if(0===J)return q;J--}else"/$"===da&&J++}q=q.previousSibling}return null}function Be(q){return{$$typeof:Zh,toString:q,valueOf:q}}function jf(q){var J=q[wi];if(J)return J;for(var da=q.parentNode;da;){if(J=da[Ej]||da[wi]){da=J.alternate;if(null!==J.child||null!==da&&null!==da.child)for(q=Xd(q);null!==q;){if(da=q[wi])return da;
q=Xd(q)}return J}q=da;da=q.parentNode}return null}function Ge(q){q=q[wi]||q[Ej];return!q||5!==q.tag&&6!==q.tag&&13!==q.tag&&3!==q.tag?null:q}function Td(q){if(5===q.tag||6===q.tag)return q.stateNode;throw Error(k(33));}function Ye(q){return q[Bk]||null}function Xf(q){var J=q[Zk];void 0===J&&(J=q[Zk]=new Set);return J}function Gc(q){return{current:q}}function xe(q){0>ng||(q.current=$k[ng],$k[ng]=null,ng--)}function le(q,J){ng++;$k[ng]=q.current;q.current=J}function kc(q,J){var da=q.type.contextTypes;
if(!da)return Rg;var Qa=q.stateNode;if(Qa&&Qa.__reactInternalMemoizedUnmaskedChildContext===J)return Qa.__reactInternalMemoizedMaskedChildContext;var ib={},yb;for(yb in da)ib[yb]=J[yb];Qa&&(q=q.stateNode,q.__reactInternalMemoizedUnmaskedChildContext=J,q.__reactInternalMemoizedMaskedChildContext=ib);return ib}function Fe(q){q=q.childContextTypes;return null!==q&&void 0!==q}function ue(){xe(Lg);xe(Sg)}function lf(q,J,da){if(Sg.current!==Rg)throw Error(k(168));le(Sg,J);le(Lg,da)}function Yf(q,J,da){var Qa=
q.stateNode;q=J.childContextTypes;if("function"!==typeof Qa.getChildContext)return da;Qa=Qa.getChildContext();for(var ib in Qa)if(!(ib in q))throw Error(k(108,e(J)||"Unknown",ib));return lg({},da,Qa)}function If(q){q=(q=q.stateNode)&&q.__reactInternalMemoizedMergedChildContext||Rg;Ni=Sg.current;le(Sg,q);le(Lg,Lg.current);return!0}function Sf(q,J,da){var Qa=q.stateNode;if(!Qa)throw Error(k(169));da?(q=Yf(q,J,Ni),Qa.__reactInternalMemoizedMergedChildContext=q,xe(Lg),xe(Sg),le(Sg,q)):xe(Lg);le(Lg,da)}
function Bf(){switch(pl()){case Ck:return 99;case bk:return 98;case ql:return 97;case rl:return 96;case sl:return 95;default:throw Error(k(332));}}function qe(q){switch(q){case 99:return Ck;case 98:return bk;case 97:return ql;case 96:return rl;case 95:return sl;default:throw Error(k(332));}}function yc(q,J){q=qe(q);return tl(q,J)}function wa(q,J,da){q=qe(q);return Dk(q,J,da)}function Ea(){if(null!==Fj){var q=Fj;Fj=null;ck(q)}Za()}function Za(){if(!al&&null!==xi){al=!0;var q=0;try{var J=xi;yc(99,function(){for(;q<
J.length;q++){var da=J[q];do da=da(!0);while(null!==da)}});xi=null}catch(da){throw null!==xi&&(xi=xi.slice(q+1)),Dk(Ck,Ea),da;}finally{al=!1}}}function Cb(q,J){if(q&&q.defaultProps){J=lg({},J);q=q.defaultProps;for(var da in q)void 0===J[da]&&(J[da]=q[da])}return J}function ub(q){var J=Ek.current;xe(Ek);q.type._context._currentValue=J}function Yb(q,J){for(;null!==q;){var da=q.alternate;if((q.childLanes&J)===J)if(null===da||(da.childLanes&J)===J)break;else da.childLanes|=J;else q.childLanes|=J,null!==
da&&(da.childLanes|=J);q=q.return}}function $b(q,J){Gj=q;Oi=Pi=null;q=q.dependencies;null!==q&&null!==q.firstContext&&(0!==(q.lanes&J)&&($h=!0),q.firstContext=null)}function Oc(q,J){if(Oi!==q&&!1!==J&&0!==J){if("number"!==typeof J||1073741823===J)Oi=q,J=1073741823;J={context:q,observedBits:J,next:null};if(null===Pi){if(null===Gj)throw Error(k(308));Pi=J;Gj.dependencies={lanes:0,firstContext:J,responders:null}}else Pi=Pi.next=J}return q._currentValue}function gd(q){q.updateQueue={baseState:q.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mc(q,J){q=q.updateQueue;J.updateQueue===q&&(J.updateQueue={baseState:q.baseState,firstBaseUpdate:q.firstBaseUpdate,lastBaseUpdate:q.lastBaseUpdate,shared:q.shared,effects:q.effects})}function Nd(q,J){return{eventTime:q,lane:J,tag:0,payload:null,callback:null,next:null}}function od(q,J){q=q.updateQueue;if(null!==q){q=q.shared;var da=q.pending;null===da?J.next=J:(J.next=da.next,da.next=J);q.pending=J}}function Id(q,
J){var da=q.updateQueue,Qa=q.alternate;if(null!==Qa&&(Qa=Qa.updateQueue,da===Qa)){var ib=null,yb=null;da=da.firstBaseUpdate;if(null!==da){do{var Ob={eventTime:da.eventTime,lane:da.lane,tag:da.tag,payload:da.payload,callback:da.callback,next:null};null===yb?ib=yb=Ob:yb=yb.next=Ob;da=da.next}while(null!==da);null===yb?ib=yb=J:yb=yb.next=J}else ib=yb=J;da={baseState:Qa.baseState,firstBaseUpdate:ib,lastBaseUpdate:yb,shared:Qa.shared,effects:Qa.effects};q.updateQueue=da}else q=da.lastBaseUpdate,null===
q?da.firstBaseUpdate=J:q.next=J,da.lastBaseUpdate=J}function jd(q,J,da,Qa){var ib=q.updateQueue;hi=!1;var yb=ib.firstBaseUpdate,Ob=ib.lastBaseUpdate,fc=ib.shared.pending;if(null!==fc){ib.shared.pending=null;var Fc=fc,sd=Fc.next;Fc.next=null;null===Ob?yb=sd:Ob.next=sd;Ob=Fc;var ve=q.alternate;if(null!==ve){ve=ve.updateQueue;var ff=ve.lastBaseUpdate;ff!==Ob&&(null===ff?ve.firstBaseUpdate=sd:ff.next=sd,ve.lastBaseUpdate=Fc)}}if(null!==yb){ff=ib.baseState;Ob=0;ve=sd=Fc=null;do{fc=yb.lane;var Ld=yb.eventTime;
if((Qa&fc)===fc){null!==ve&&(ve=ve.next={eventTime:Ld,lane:0,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null});a:{var Ke=q,gf=yb;fc=J;Ld=da;switch(gf.tag){case 1:Ke=gf.payload;if("function"===typeof Ke){ff=Ke.call(Ld,ff,fc);break a}ff=Ke;break a;case 3:Ke.flags=Ke.flags&-4097|64;case 0:Ke=gf.payload;fc="function"===typeof Ke?Ke.call(Ld,ff,fc):Ke;if(null===fc||void 0===fc)break a;ff=lg({},ff,fc);break a;case 2:hi=!0}}null!==yb.callback&&(q.flags|=32,fc=ib.effects,null===fc?ib.effects=
[yb]:fc.push(yb))}else Ld={eventTime:Ld,lane:fc,tag:yb.tag,payload:yb.payload,callback:yb.callback,next:null},null===ve?(sd=ve=Ld,Fc=ff):ve=ve.next=Ld,Ob|=fc;yb=yb.next;if(null===yb)if(fc=ib.shared.pending,null===fc)break;else yb=fc.next,fc.next=null,ib.lastBaseUpdate=fc,ib.shared.pending=null}while(1);null===ve&&(Fc=ff);ib.baseState=Fc;ib.firstBaseUpdate=sd;ib.lastBaseUpdate=ve;dk|=Ob;q.lanes=Ob;q.memoizedState=ff}}function Qd(q,J,da){q=J.effects;J.effects=null;if(null!==q)for(J=0;J<q.length;J++){var Qa=
q[J],ib=Qa.callback;if(null!==ib){Qa.callback=null;Qa=da;if("function"!==typeof ib)throw Error(k(191,ib));ib.call(Qa)}}}function ie(q,J,da,Qa){J=q.memoizedState;da=da(Qa,J);da=null===da||void 0===da?J:lg({},J,da);q.memoizedState=da;0===q.lanes&&(q.updateQueue.baseState=da)}function Gf(q,J,da,Qa,ib,yb,Ob){q=q.stateNode;return"function"===typeof q.shouldComponentUpdate?q.shouldComponentUpdate(Qa,yb,Ob):J.prototype&&J.prototype.isPureReactComponent?!Tc(da,Qa)||!Tc(ib,yb):!0}function tf(q,J,da){var Qa=
!1,ib=Rg,yb=J.contextType;"object"===typeof yb&&null!==yb?yb=Oc(yb):(ib=Fe(J)?Ni:Sg.current,Qa=J.contextTypes,yb=(Qa=null!==Qa&&void 0!==Qa)?kc(q,ib):Rg);J=new J(da,yb);q.memoizedState=null!==J.state&&void 0!==J.state?J.state:null;J.updater=Fk;q.stateNode=J;J._reactInternals=q;Qa&&(q=q.stateNode,q.__reactInternalMemoizedUnmaskedChildContext=ib,q.__reactInternalMemoizedMaskedChildContext=yb);return J}function kd(q,J,da,Qa){q=J.state;"function"===typeof J.componentWillReceiveProps&&J.componentWillReceiveProps(da,
Qa);"function"===typeof J.UNSAFE_componentWillReceiveProps&&J.UNSAFE_componentWillReceiveProps(da,Qa);J.state!==q&&Fk.enqueueReplaceState(J,J.state,null)}function We(q,J,da,Qa){var ib=q.stateNode;ib.props=da;ib.state=q.memoizedState;ib.refs=ul;gd(q);var yb=J.contextType;"object"===typeof yb&&null!==yb?ib.context=Oc(yb):(yb=Fe(J)?Ni:Sg.current,ib.context=kc(q,yb));jd(q,da,ib,Qa);ib.state=q.memoizedState;yb=J.getDerivedStateFromProps;"function"===typeof yb&&(ie(q,J,yb,da),ib.state=q.memoizedState);
"function"===typeof J.getDerivedStateFromProps||"function"===typeof ib.getSnapshotBeforeUpdate||"function"!==typeof ib.UNSAFE_componentWillMount&&"function"!==typeof ib.componentWillMount||(J=ib.state,"function"===typeof ib.componentWillMount&&ib.componentWillMount(),"function"===typeof ib.UNSAFE_componentWillMount&&ib.UNSAFE_componentWillMount(),J!==ib.state&&Fk.enqueueReplaceState(ib,ib.state,null),jd(q,da,ib,Qa),ib.state=q.memoizedState);"function"===typeof ib.componentDidMount&&(q.flags|=4)}function uf(q,
J,da){q=da.ref;if(null!==q&&"function"!==typeof q&&"object"!==typeof q){if(da._owner){if(da=da._owner){if(1!==da.tag)throw Error(k(309));var Qa=da.stateNode}if(!Qa)throw Error(k(147,q));var ib=""+q;if(null!==J&&null!==J.ref&&"function"===typeof J.ref&&J.ref._stringRef===ib)return J.ref;J=function(yb){var Ob=Qa.refs;Ob===ul&&(Ob=Qa.refs={});null===yb?delete Ob[ib]:Ob[ib]=yb};J._stringRef=ib;return J}if("string"!==typeof q)throw Error(k(284));if(!da._owner)throw Error(k(290,q));}return q}function mf(q,
J){if("textarea"!==q.type)throw Error(k(31,"[object Object]"===Object.prototype.toString.call(J)?"object with keys {"+Object.keys(J).join(", ")+"}":J));}function Zf(q){function J(cd,Nc){if(q){var $c=cd.lastEffect;null!==$c?($c.nextEffect=Nc,cd.lastEffect=Nc):cd.firstEffect=cd.lastEffect=Nc;Nc.nextEffect=null;Nc.flags=8}}function da(cd,Nc){if(!q)return null;for(;null!==Nc;)J(cd,Nc),Nc=Nc.sibling;return null}function Qa(cd,Nc){for(cd=new Map;null!==Nc;)null!==Nc.key?cd.set(Nc.key,Nc):cd.set(Nc.index,
Nc),Nc=Nc.sibling;return cd}function ib(cd,Nc){cd=qg(cd,Nc);cd.index=0;cd.sibling=null;return cd}function yb(cd,Nc,$c){cd.index=$c;if(!q)return Nc;$c=cd.alternate;if(null!==$c)return $c=$c.index,$c<Nc?(cd.flags=2,Nc):$c;cd.flags=2;return Nc}function Ob(cd){q&&null===cd.alternate&&(cd.flags=2);return cd}function fc(cd,Nc,$c,Bd){if(null===Nc||6!==Nc.tag)return Nc=Hj($c,cd.mode,Bd),Nc.return=cd,Nc;Nc=ib(Nc,$c);Nc.return=cd;return Nc}function Fc(cd,Nc,$c,Bd){if(null!==Nc&&Nc.elementType===$c.type)return Bd=
ib(Nc,$c.props),Bd.ref=uf(cd,Nc,$c),Bd.return=cd,Bd;Bd=yi($c.type,$c.key,$c.props,null,cd.mode,Bd);Bd.ref=uf(cd,Nc,$c);Bd.return=cd;return Bd}function sd(cd,Nc,$c,Bd){if(null===Nc||4!==Nc.tag||Nc.stateNode.containerInfo!==$c.containerInfo||Nc.stateNode.implementation!==$c.implementation)return Nc=Qi($c,cd.mode,Bd),Nc.return=cd,Nc;Nc=ib(Nc,$c.children||[]);Nc.return=cd;return Nc}function ve(cd,Nc,$c,Bd,Jd){if(null===Nc||7!==Nc.tag)return Nc=zi($c,cd.mode,Bd,Jd),Nc.return=cd,Nc;Nc=ib(Nc,$c);Nc.return=
cd;return Nc}function ff(cd,Nc,$c){if("string"===typeof Nc||"number"===typeof Nc)return Nc=Hj(""+Nc,cd.mode,$c),Nc.return=cd,Nc;if("object"===typeof Nc&&null!==Nc){switch(Nc.$$typeof){case Ri:return $c=yi(Nc.type,Nc.key,Nc.props,null,cd.mode,$c),$c.ref=uf(cd,null,Nc),$c.return=cd,$c;case wg:return Nc=Qi(Nc,cd.mode,$c),Nc.return=cd,Nc}if(Gk(Nc)||g(Nc))return Nc=zi(Nc,cd.mode,$c,null),Nc.return=cd,Nc;mf(cd,Nc)}return null}function Ld(cd,Nc,$c,Bd){var Jd=null!==Nc?Nc.key:null;if("string"===typeof $c||
"number"===typeof $c)return null!==Jd?null:fc(cd,Nc,""+$c,Bd);if("object"===typeof $c&&null!==$c){switch($c.$$typeof){case Ri:return $c.key===Jd?$c.type===Zg?ve(cd,Nc,$c.props.children,Bd,Jd):Fc(cd,Nc,$c,Bd):null;case wg:return $c.key===Jd?sd(cd,Nc,$c,Bd):null}if(Gk($c)||g($c))return null!==Jd?null:ve(cd,Nc,$c,Bd,null);mf(cd,$c)}return null}function Ke(cd,Nc,$c,Bd,Jd){if("string"===typeof Bd||"number"===typeof Bd)return cd=cd.get($c)||null,fc(Nc,cd,""+Bd,Jd);if("object"===typeof Bd&&null!==Bd){switch(Bd.$$typeof){case Ri:return cd=
cd.get(null===Bd.key?$c:Bd.key)||null,Bd.type===Zg?ve(Nc,cd,Bd.props.children,Jd,Bd.key):Fc(Nc,cd,Bd,Jd);case wg:return cd=cd.get(null===Bd.key?$c:Bd.key)||null,sd(Nc,cd,Bd,Jd)}if(Gk(Bd)||g(Bd))return cd=cd.get($c)||null,ve(Nc,cd,Bd,Jd,null);mf(Nc,Bd)}return null}function gf(cd,Nc,$c,Bd){for(var Jd=null,cf=null,Ae=Nc,hf=Nc=0,Kf=null;null!==Ae&&hf<$c.length;hf++){Ae.index>hf?(Kf=Ae,Ae=null):Kf=Ae.sibling;var xf=Ld(cd,Ae,$c[hf],Bd);if(null===xf){null===Ae&&(Ae=Kf);break}q&&Ae&&null===xf.alternate&&
J(cd,Ae);Nc=yb(xf,Nc,hf);null===cf?Jd=xf:cf.sibling=xf;cf=xf;Ae=Kf}if(hf===$c.length)return da(cd,Ae),Jd;if(null===Ae){for(;hf<$c.length;hf++)Ae=ff(cd,$c[hf],Bd),null!==Ae&&(Nc=yb(Ae,Nc,hf),null===cf?Jd=Ae:cf.sibling=Ae,cf=Ae);return Jd}for(Ae=Qa(cd,Ae);hf<$c.length;hf++)Kf=Ke(Ae,cd,hf,$c[hf],Bd),null!==Kf&&(q&&null!==Kf.alternate&&Ae.delete(null===Kf.key?hf:Kf.key),Nc=yb(Kf,Nc,hf),null===cf?Jd=Kf:cf.sibling=Kf,cf=Kf);q&&Ae.forEach(function(Si){return J(cd,Si)});return Jd}function $e(cd,Nc,$c,Bd){var Jd=
g($c);if("function"!==typeof Jd)throw Error(k(150));$c=Jd.call($c);if(null==$c)throw Error(k(151));for(var cf=Jd=null,Ae=Nc,hf=Nc=0,Kf=null,xf=$c.next();null!==Ae&&!xf.done;hf++,xf=$c.next()){Ae.index>hf?(Kf=Ae,Ae=null):Kf=Ae.sibling;var Si=Ld(cd,Ae,xf.value,Bd);if(null===Si){null===Ae&&(Ae=Kf);break}q&&Ae&&null===Si.alternate&&J(cd,Ae);Nc=yb(Si,Nc,hf);null===cf?Jd=Si:cf.sibling=Si;cf=Si;Ae=Kf}if(xf.done)return da(cd,Ae),Jd;if(null===Ae){for(;!xf.done;hf++,xf=$c.next())xf=ff(cd,xf.value,Bd),null!==
xf&&(Nc=yb(xf,Nc,hf),null===cf?Jd=xf:cf.sibling=xf,cf=xf);return Jd}for(Ae=Qa(cd,Ae);!xf.done;hf++,xf=$c.next())xf=Ke(Ae,cd,hf,xf.value,Bd),null!==xf&&(q&&null!==xf.alternate&&Ae.delete(null===xf.key?hf:xf.key),Nc=yb(xf,Nc,hf),null===cf?Jd=xf:cf.sibling=xf,cf=xf);q&&Ae.forEach(function(vl){return J(cd,vl)});return Jd}return function(cd,Nc,$c,Bd){var Jd="object"===typeof $c&&null!==$c&&$c.type===Zg&&null===$c.key;Jd&&($c=$c.props.children);var cf="object"===typeof $c&&null!==$c;if(cf)switch($c.$$typeof){case Ri:a:{cf=
$c.key;for(Jd=Nc;null!==Jd;){if(Jd.key===cf){switch(Jd.tag){case 7:if($c.type===Zg){da(cd,Jd.sibling);Nc=ib(Jd,$c.props.children);Nc.return=cd;cd=Nc;break a}break;default:if(Jd.elementType===$c.type){da(cd,Jd.sibling);Nc=ib(Jd,$c.props);Nc.ref=uf(cd,Jd,$c);Nc.return=cd;cd=Nc;break a}}da(cd,Jd);break}else J(cd,Jd);Jd=Jd.sibling}$c.type===Zg?(Nc=zi($c.props.children,cd.mode,Bd,$c.key),Nc.return=cd,cd=Nc):(Bd=yi($c.type,$c.key,$c.props,null,cd.mode,Bd),Bd.ref=uf(cd,Nc,$c),Bd.return=cd,cd=Bd)}return Ob(cd);
case wg:a:{for(Jd=$c.key;null!==Nc;){if(Nc.key===Jd)if(4===Nc.tag&&Nc.stateNode.containerInfo===$c.containerInfo&&Nc.stateNode.implementation===$c.implementation){da(cd,Nc.sibling);Nc=ib(Nc,$c.children||[]);Nc.return=cd;cd=Nc;break a}else{da(cd,Nc);break}else J(cd,Nc);Nc=Nc.sibling}Nc=Qi($c,cd.mode,Bd);Nc.return=cd;cd=Nc}return Ob(cd)}if("string"===typeof $c||"number"===typeof $c)return $c=""+$c,null!==Nc&&6===Nc.tag?(da(cd,Nc.sibling),Nc=ib(Nc,$c),Nc.return=cd,cd=Nc):(da(cd,Nc),Nc=Hj($c,cd.mode,
Bd),Nc.return=cd,cd=Nc),Ob(cd);if(Gk($c))return gf(cd,Nc,$c,Bd);if(g($c))return $e(cd,Nc,$c,Bd);cf&&mf(cd,$c);if("undefined"===typeof $c&&!Jd)switch(cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(k(152,e(cd.type)||"Component"));}return da(cd,Nc)}}function yf(q){if(q===ii)throw Error(k(174));return q}function Pe(q,J){le(rf,J);le(ji,q);le(qh,ii);q=J.nodeType;switch(q){case 9:case 11:J=(J=J.documentElement)?J.namespaceURI:ia(null,"");break;default:q=8===q?J.parentNode:J,J=q.namespaceURI||
null,q=q.tagName,J=ia(J,q)}xe(qh);le(qh,J)}function nf(){xe(qh);xe(ji);xe(rf)}function Aa(q){yf(rf.current);var J=yf(qh.current),da=ia(J,q.type);J!==da&&(le(ji,q),le(qh,da))}function Pa(q){ji.current===q&&(xe(qh),xe(ji))}function vb(q){for(var J=q;null!==J;){if(13===J.tag){var da=J.memoizedState;if(null!==da&&(da=da.dehydrated,null===da||"$?"===da.data||"$!"===da.data))return J}else if(19===J.tag&&void 0!==J.memoizedProps.revealOrder){if(0!==(J.flags&64))return J}else if(null!==J.child){J.child.return=
J;J=J.child;continue}if(J===q)break;for(;null===J.sibling;){if(null===J.return||J.return===q)return null;J=J.return}J.sibling.return=J.return;J=J.sibling}return null}function Wb(q,J){var da=kh(5,null,null,0);da.elementType="DELETED";da.type="DELETED";da.stateNode=J;da.return=q;da.flags=8;null!==q.lastEffect?(q.lastEffect.nextEffect=da,q.lastEffect=da):q.firstEffect=q.lastEffect=da}function Tb(q,J){switch(q.tag){case 5:var da=q.type;J=1!==J.nodeType||da.toLowerCase()!==J.nodeName.toLowerCase()?null:
J;return null!==J?(q.stateNode=J,!0):!1;case 6:return J=""===q.pendingProps||3!==J.nodeType?null:J,null!==J?(q.stateNode=J,!0):!1;case 13:return!1;default:return!1}}function ic(q){if(fh){var J=Tg;if(J){var da=J;if(!Tb(q,J)){J=Od(da.nextSibling);if(!J||!Tb(q,J)){q.flags=q.flags&-1025|2;fh=!1;Hd=q;return}Wb(Hd,da)}Hd=q;Tg=Od(J.firstChild)}else q.flags=q.flags&-1025|2,fh=!1,Hd=q}}function oc(q){for(q=q.return;null!==q&&5!==q.tag&&3!==q.tag&&13!==q.tag;)q=q.return;Hd=q}function fd(q){if(q!==Hd)return!1;
if(!fh)return oc(q),fh=!0,!1;var J=q.type;if(5!==q.tag||"head"!==J&&"body"!==J&&!kf(J,q.memoizedProps))for(J=Tg;J;)Wb(q,J),J=Od(J.nextSibling);oc(q);if(13===q.tag){q=q.memoizedState;q=null!==q?q.dehydrated:null;if(!q)throw Error(k(317));a:{q=q.nextSibling;for(J=0;q;){if(8===q.nodeType){var da=q.data;if("/$"===da){if(0===J){Tg=Od(q.nextSibling);break a}J--}else"$"!==da&&"$!"!==da&&"$?"!==da||J++}q=q.nextSibling}Tg=null}}else Tg=Hd?Od(q.stateNode.nextSibling):null;return!0}function Wc(){for(var q=0;q<
jj.length;q++)jj[q]._workInProgressVersionPrimary=null;jj.length=0}function nd(){throw Error(k(321));}function Kd(q,J){if(null===J)return!1;for(var da=0;da<J.length&&da<q.length;da++)if(!bf(q[da],J[da]))return!1;return!0}function de(q,J,da,Qa,ib,yb){ek=yb;rg=J;J.memoizedState=null;J.updateQueue=null;J.lanes=0;Ij.current=null===q||null===q.memoizedState?Hl:Il;q=da(Qa,ib);if(fk){yb=0;do{fk=!1;if(!(25>yb))throw Error(k(301));yb+=1;Ug=$g=null;J.updateQueue=null;Ij.current=bl;q=da(Qa,ib)}while(fk)}Ij.current=
Hk;J=null!==$g&&null!==$g.next;ek=0;Ug=$g=rg=null;Ik=!1;if(J)throw Error(k(300));return q}function je(){var q={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Ug?rg.memoizedState=Ug=q:Ug=Ug.next=q;return Ug}function Gd(){if(null===$g){var q=rg.alternate;q=null!==q?q.memoizedState:null}else q=$g.next;var J=null===Ug?rg.memoizedState:Ug.next;if(null!==J)Ug=J,$g=q;else{if(null===q)throw Error(k(310));$g=q;q={memoizedState:$g.memoizedState,baseState:$g.baseState,baseQueue:$g.baseQueue,
queue:$g.queue,next:null};null===Ug?rg.memoizedState=Ug=q:Ug=Ug.next=q}return Ug}function Le(q,J){return"function"===typeof J?J(q):J}function $d(q){var J=Gd(),da=J.queue;if(null===da)throw Error(k(311));da.lastRenderedReducer=q;var Qa=$g,ib=Qa.baseQueue,yb=da.pending;if(null!==yb){if(null!==ib){var Ob=ib.next;ib.next=yb.next;yb.next=Ob}Qa.baseQueue=ib=yb;da.pending=null}if(null!==ib){ib=ib.next;Qa=Qa.baseState;var fc=Ob=yb=null,Fc=ib;do{var sd=Fc.lane;if((ek&sd)===sd)null!==fc&&(fc=fc.next={lane:0,
action:Fc.action,eagerReducer:Fc.eagerReducer,eagerState:Fc.eagerState,next:null}),Qa=Fc.eagerReducer===q?Fc.eagerState:q(Qa,Fc.action);else{var ve={lane:sd,action:Fc.action,eagerReducer:Fc.eagerReducer,eagerState:Fc.eagerState,next:null};null===fc?(Ob=fc=ve,yb=Qa):fc=fc.next=ve;rg.lanes|=sd;dk|=sd}Fc=Fc.next}while(null!==Fc&&Fc!==ib);null===fc?yb=Qa:fc.next=Ob;bf(Qa,J.memoizedState)||($h=!0);J.memoizedState=Qa;J.baseState=yb;J.baseQueue=fc;da.lastRenderedState=Qa}return[J.memoizedState,da.dispatch]}
function Ie(q){var J=Gd(),da=J.queue;if(null===da)throw Error(k(311));da.lastRenderedReducer=q;var Qa=da.dispatch,ib=da.pending,yb=J.memoizedState;if(null!==ib){da.pending=null;var Ob=ib=ib.next;do yb=q(yb,Ob.action),Ob=Ob.next;while(Ob!==ib);bf(yb,J.memoizedState)||($h=!0);J.memoizedState=yb;null===J.baseQueue&&(J.baseState=yb);da.lastRenderedState=yb}return[yb,Qa]}function Ce(q,J,da){var Qa=J._getVersion;Qa=Qa(J._source);var ib=J._workInProgressVersionPrimary;if(null!==ib)q=ib===Qa;else if(q=q.mutableReadLanes,
q=(ek&q)===q)J._workInProgressVersionPrimary=Qa,jj.push(J);if(q)return da(J._source);jj.push(J);throw Error(k(350));}function Qe(q,J,da,Qa){var ib=ah;if(null===ib)throw Error(k(349));var yb=J._getVersion,Ob=yb(J._source),fc=Ij.current,Fc=fc.useState(function(){return Ce(ib,J,da)}),sd=Fc[1],ve=Fc[0];Fc=Ug;var ff=q.memoizedState,Ld=ff.refs,Ke=Ld.getSnapshot,gf=ff.source;ff=ff.subscribe;var $e=rg;q.memoizedState={refs:Ld,source:J,subscribe:Qa};fc.useEffect(function(){Ld.getSnapshot=da;Ld.setSnapshot=
sd;var cd=yb(J._source);if(!bf(Ob,cd)){cd=da(J._source);bf(ve,cd)||(sd(cd),cd=Jc($e),ib.mutableReadLanes|=cd&ib.pendingLanes);cd=ib.mutableReadLanes;ib.entangledLanes|=cd;for(var Nc=ib.entanglements,$c=cd;0<$c;){var Bd=31-Lh($c),Jd=1<<Bd;Nc[Bd]|=cd;$c&=~Jd}}},[da,J,Qa]);fc.useEffect(function(){return Qa(J._source,function(){var cd=Ld.getSnapshot,Nc=Ld.setSnapshot;try{Nc(cd(J._source));var $c=Jc($e);ib.mutableReadLanes|=$c&ib.pendingLanes}catch(Bd){Nc(function(){throw Bd;})}})},[J,Qa]);bf(Ke,da)&&
bf(gf,J)&&bf(ff,Qa)||(q={pending:null,dispatch:null,lastRenderedReducer:Le,lastRenderedState:ve},q.dispatch=sd=Kb.bind(null,rg,q),Fc.queue=q,Fc.baseQueue=null,ve=Ce(ib,J,da),Fc.memoizedState=Fc.baseState=ve);return ve}function Uf(q,J,da){var Qa=Gd();return Qe(Qa,q,J,da)}function ne(q){var J=je();"function"===typeof q&&(q=q());J.memoizedState=J.baseState=q;q=J.queue={pending:null,dispatch:null,lastRenderedReducer:Le,lastRenderedState:q};q=q.dispatch=Kb.bind(null,rg,q);return[J.memoizedState,q]}function sf(q,
J,da,Qa){q={tag:q,create:J,destroy:da,deps:Qa,next:null};J=rg.updateQueue;null===J?(J={lastEffect:null},rg.updateQueue=J,J.lastEffect=q.next=q):(da=J.lastEffect,null===da?J.lastEffect=q.next=q:(Qa=da.next,da.next=q,q.next=Qa,J.lastEffect=q));return q}function Cf(q){var J=je();q={current:q};return J.memoizedState=q}function Bg(){return Gd().memoizedState}function Lf(q,J,da,Qa){var ib=je();rg.flags|=q;ib.memoizedState=sf(1|J,da,void 0,void 0===Qa?null:Qa)}function jg(q,J,da,Qa){var ib=Gd();Qa=void 0===
Qa?null:Qa;var yb=void 0;if(null!==$g){var Ob=$g.memoizedState;yb=Ob.destroy;if(null!==Qa&&Kd(Qa,Ob.deps)){sf(J,da,yb,Qa);return}}rg.flags|=q;ib.memoizedState=sf(1|J,da,yb,Qa)}function xa(q,J){return Lf(516,4,q,J)}function za(q,J){return jg(516,4,q,J)}function Na(q,J){return jg(4,2,q,J)}function Sa(q,J){if("function"===typeof J)return q=q(),J(q),function(){J(null)};if(null!==J&&void 0!==J)return q=q(),J.current=q,function(){J.current=null}}function fb(q,J,da){da=null!==da&&void 0!==da?da.concat([q]):
null;return jg(4,2,Sa.bind(null,J,q),da)}function hb(){}function qb(q,J){var da=Gd();J=void 0===J?null:J;var Qa=da.memoizedState;if(null!==Qa&&null!==J&&Kd(J,Qa[1]))return Qa[0];da.memoizedState=[q,J];return q}function Db(q,J){var da=Gd();J=void 0===J?null:J;var Qa=da.memoizedState;if(null!==Qa&&null!==J&&Kd(J,Qa[1]))return Qa[0];q=q();da.memoizedState=[q,J];return q}function Ab(q,J){var da=Bf();yc(98>da?98:da,function(){q(!0)});yc(97<da?97:da,function(){var Qa=yh.transition;yh.transition=1;try{q(!1),
J()}finally{yh.transition=Qa}})}function Kb(q,J,da){var Qa=bd(),ib=Jc(q),yb={lane:ib,action:da,eagerReducer:null,eagerState:null,next:null},Ob=J.pending;null===Ob?yb.next=yb:(yb.next=Ob.next,Ob.next=yb);J.pending=yb;Ob=q.alternate;if(q===rg||null!==Ob&&Ob===rg)fk=Ik=!0;else{if(0===q.lanes&&(null===Ob||0===Ob.lanes)&&(Ob=J.lastRenderedReducer,null!==Ob))try{var fc=J.lastRenderedState,Fc=Ob(fc,da);yb.eagerReducer=Ob;yb.eagerState=Fc;if(bf(Fc,fc))return}catch(sd){}finally{}ud(q,ib,Qa)}}function Jb(q,
J,da,Qa){J.child=null===q?Je(J,null,da,Qa):Jk(J,q.child,da,Qa)}function cc(q,J,da,Qa,ib){da=da.render;var yb=J.ref;$b(J,ib);Qa=de(q,J,da,Qa,yb,ib);if(null!==q&&!$h)return J.updateQueue=q.updateQueue,J.flags&=-517,q.lanes&=~ib,Ad(q,J,ib);J.flags|=1;Jb(q,J,Qa,ib);return J.child}function xc(q,J,da,Qa,ib,yb){if(null===q){var Ob=da.type;if("function"===typeof Ob&&!Jj(Ob)&&void 0===Ob.defaultProps&&null===da.compare&&void 0===da.defaultProps)return J.tag=15,J.type=Ob,Y(q,J,Ob,Qa,ib,yb);q=yi(da.type,null,
Qa,J,J.mode,yb);q.ref=J.ref;q.return=J;return J.child=q}Ob=q.child;if(0===(ib&yb)&&(ib=Ob.memoizedProps,da=da.compare,da=null!==da?da:Tc,da(ib,Qa)&&q.ref===J.ref))return Ad(q,J,yb);J.flags|=1;q=qg(Ob,Qa);q.ref=J.ref;q.return=J;return J.child=q}function Y(q,J,da,Qa,ib,yb){if(null!==q&&Tc(q.memoizedProps,Qa)&&q.ref===J.ref)if($h=!1,0!==(yb&ib))0!==(q.flags&16384)&&($h=!0);else return J.lanes=q.lanes,Ad(q,J,yb);return Va(q,J,da,Qa,yb)}function oa(q,J,da){var Qa=J.pendingProps,ib=Qa.children,yb=null!==
q?q.memoizedState:null;if("hidden"===Qa.mode||"unstable-defer-without-hiding"===Qa.mode)if(0===(J.mode&4))J.memoizedState={baseLanes:0},xd(J,da);else if(0!==(da&1073741824))J.memoizedState={baseLanes:0},xd(J,null!==yb?yb.baseLanes:da);else return q=null!==yb?yb.baseLanes|da:da,J.lanes=J.childLanes=1073741824,J.memoizedState={baseLanes:q},xd(J,q),null;else null!==yb?(Qa=yb.baseLanes|da,J.memoizedState=null):Qa=da,xd(J,Qa);Jb(q,J,ib,da);return J.child}function Oa(q,J){var da=J.ref;if(null===q&&null!==
da||null!==q&&q.ref!==da)J.flags|=128}function Va(q,J,da,Qa,ib){var yb=Fe(da)?Ni:Sg.current;yb=kc(J,yb);$b(J,ib);da=de(q,J,da,Qa,yb,ib);if(null!==q&&!$h)return J.updateQueue=q.updateQueue,J.flags&=-517,q.lanes&=~ib,Ad(q,J,ib);J.flags|=1;Jb(q,J,da,ib);return J.child}function xb(q,J,da,Qa,ib){if(Fe(da)){var yb=!0;If(J)}else yb=!1;$b(J,ib);if(null===J.stateNode)null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2),tf(J,da,Qa),We(J,da,Qa,ib),Qa=!0;else if(null===q){var Ob=J.stateNode,fc=J.memoizedProps;
Ob.props=fc;var Fc=Ob.context,sd=da.contextType;"object"===typeof sd&&null!==sd?sd=Oc(sd):(sd=Fe(da)?Ni:Sg.current,sd=kc(J,sd));var ve=da.getDerivedStateFromProps,ff="function"===typeof ve||"function"===typeof Ob.getSnapshotBeforeUpdate;ff||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||(fc!==Qa||Fc!==sd)&&kd(J,Ob,Qa,sd);hi=!1;var Ld=J.memoizedState;Ob.state=Ld;jd(J,Qa,Ob,ib);Fc=J.memoizedState;fc!==Qa||Ld!==Fc||Lg.current||hi?("function"===
typeof ve&&(ie(J,da,ve,Qa),Fc=J.memoizedState),(fc=hi||Gf(J,da,fc,Qa,Ld,Fc,sd))?(ff||"function"!==typeof Ob.UNSAFE_componentWillMount&&"function"!==typeof Ob.componentWillMount||("function"===typeof Ob.componentWillMount&&Ob.componentWillMount(),"function"===typeof Ob.UNSAFE_componentWillMount&&Ob.UNSAFE_componentWillMount()),"function"===typeof Ob.componentDidMount&&(J.flags|=4)):("function"===typeof Ob.componentDidMount&&(J.flags|=4),J.memoizedProps=Qa,J.memoizedState=Fc),Ob.props=Qa,Ob.state=Fc,
Ob.context=sd,Qa=fc):("function"===typeof Ob.componentDidMount&&(J.flags|=4),Qa=!1)}else{Ob=J.stateNode;Mc(q,J);fc=J.memoizedProps;sd=J.type===J.elementType?fc:Cb(J.type,fc);Ob.props=sd;ff=J.pendingProps;Ld=Ob.context;Fc=da.contextType;"object"===typeof Fc&&null!==Fc?Fc=Oc(Fc):(Fc=Fe(da)?Ni:Sg.current,Fc=kc(J,Fc));var Ke=da.getDerivedStateFromProps;(ve="function"===typeof Ke||"function"===typeof Ob.getSnapshotBeforeUpdate)||"function"!==typeof Ob.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ob.componentWillReceiveProps||
(fc!==ff||Ld!==Fc)&&kd(J,Ob,Qa,Fc);hi=!1;Ld=J.memoizedState;Ob.state=Ld;jd(J,Qa,Ob,ib);var gf=J.memoizedState;fc!==ff||Ld!==gf||Lg.current||hi?("function"===typeof Ke&&(ie(J,da,Ke,Qa),gf=J.memoizedState),(sd=hi||Gf(J,da,sd,Qa,Ld,gf,Fc))?(ve||"function"!==typeof Ob.UNSAFE_componentWillUpdate&&"function"!==typeof Ob.componentWillUpdate||("function"===typeof Ob.componentWillUpdate&&Ob.componentWillUpdate(Qa,gf,Fc),"function"===typeof Ob.UNSAFE_componentWillUpdate&&Ob.UNSAFE_componentWillUpdate(Qa,gf,
Fc)),"function"===typeof Ob.componentDidUpdate&&(J.flags|=4),"function"===typeof Ob.getSnapshotBeforeUpdate&&(J.flags|=256)):("function"!==typeof Ob.componentDidUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=256),J.memoizedProps=Qa,J.memoizedState=gf),Ob.props=Qa,Ob.state=gf,Ob.context=Fc,Qa=sd):("function"!==typeof Ob.componentDidUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||
(J.flags|=4),"function"!==typeof Ob.getSnapshotBeforeUpdate||fc===q.memoizedProps&&Ld===q.memoizedState||(J.flags|=256),Qa=!1)}return Sb(q,J,da,Qa,yb,ib)}function Sb(q,J,da,Qa,ib,yb){Oa(q,J);var Ob=0!==(J.flags&64);if(!Qa&&!Ob)return ib&&Sf(J,da,!1),Ad(q,J,yb);Qa=J.stateNode;cl.current=J;var fc=Ob&&"function"!==typeof da.getDerivedStateFromError?null:Qa.render();J.flags|=1;null!==q&&Ob?(J.child=Jk(J,q.child,null,yb),J.child=Jk(J,null,fc,yb)):Jb(q,J,fc,yb);J.memoizedState=Qa.state;ib&&Sf(J,da,!0);
return J.child}function Zb(q){var J=q.stateNode;J.pendingContext?lf(q,J.pendingContext,J.pendingContext!==J.context):J.context&&lf(q,J.context,!1);Pe(q,J.containerInfo)}function qc(q,J,da){var Qa=J.pendingProps,ib=of.current,yb=!1,Ob;(Ob=0!==(J.flags&64))||(Ob=null!==q&&null===q.memoizedState?!1:0!==(ib&2));Ob?(yb=!0,J.flags&=-65):null!==q&&null===q.memoizedState||void 0===Qa.fallback||!0===Qa.unstable_avoidThisFallback||(ib|=1);le(of,ib&1);if(null===q){void 0!==Qa.fallback&&ic(J);q=Qa.children;ib=
Qa.fallback;if(yb)return q=Ec(J,q,ib,da),J.child.memoizedState={baseLanes:da},J.memoizedState=gk,q;if("number"===typeof Qa.unstable_expectedLoadTime)return q=Ec(J,q,ib,da),J.child.memoizedState={baseLanes:da},J.memoizedState=gk,J.lanes=33554432,q;da=Ai({mode:"visible",children:q},J.mode,da,null);da.return=J;return J.child=da}if(null!==q.memoizedState){if(yb)return Qa=Zc(q,J,Qa.children,Qa.fallback,da),yb=J.child,ib=q.child.memoizedState,yb.memoizedState=null===ib?{baseLanes:da}:{baseLanes:ib.baseLanes|
da},yb.childLanes=q.childLanes&~da,J.memoizedState=gk,Qa;da=ed(q,J,Qa.children,da);J.memoizedState=null;return da}if(yb)return Qa=Zc(q,J,Qa.children,Qa.fallback,da),yb=J.child,ib=q.child.memoizedState,yb.memoizedState=null===ib?{baseLanes:da}:{baseLanes:ib.baseLanes|da},yb.childLanes=q.childLanes&~da,J.memoizedState=gk,Qa;da=ed(q,J,Qa.children,da);J.memoizedState=null;return da}function Ec(q,J,da,Qa){var ib=q.mode,yb=q.child;J={mode:"hidden",children:J};0===(ib&2)&&null!==yb?(yb.childLanes=0,yb.pendingProps=
J):yb=Ai(J,ib,0,null);da=zi(da,ib,Qa,null);yb.return=q;da.return=q;yb.sibling=da;q.child=yb;return da}function ed(q,J,da,Qa){var ib=q.child;q=ib.sibling;da=qg(ib,{mode:"visible",children:da});0===(J.mode&2)&&(da.lanes=Qa);da.return=J;da.sibling=null;null!==q&&(q.nextEffect=null,q.flags=8,J.firstEffect=J.lastEffect=q);return J.child=da}function Zc(q,J,da,Qa,ib){var yb=J.mode,Ob=q.child;q=Ob.sibling;var fc={mode:"hidden",children:da};0===(yb&2)&&J.child!==Ob?(da=J.child,da.childLanes=0,da.pendingProps=
fc,Ob=da.lastEffect,null!==Ob?(J.firstEffect=da.firstEffect,J.lastEffect=Ob,Ob.nextEffect=null):J.firstEffect=J.lastEffect=null):da=qg(Ob,fc);null!==q?Qa=qg(q,Qa):(Qa=zi(Qa,yb,ib,null),Qa.flags|=2);Qa.return=J;da.return=J;da.sibling=Qa;J.child=da;return Qa}function Pd(q,J){q.lanes|=J;var da=q.alternate;null!==da&&(da.lanes|=J);Yb(q.return,J)}function be(q,J,da,Qa,ib,yb){var Ob=q.memoizedState;null===Ob?q.memoizedState={isBackwards:J,rendering:null,renderingStartTime:0,last:Qa,tail:da,tailMode:ib,
lastEffect:yb}:(Ob.isBackwards=J,Ob.rendering=null,Ob.renderingStartTime=0,Ob.last=Qa,Ob.tail=da,Ob.tailMode=ib,Ob.lastEffect=yb)}function pd(q,J,da){var Qa=J.pendingProps,ib=Qa.revealOrder,yb=Qa.tail;Jb(q,J,Qa.children,da);Qa=of.current;if(0!==(Qa&2))Qa=Qa&1|2,J.flags|=64;else{if(null!==q&&0!==(q.flags&64))a:for(q=J.child;null!==q;){if(13===q.tag)null!==q.memoizedState&&Pd(q,da);else if(19===q.tag)Pd(q,da);else if(null!==q.child){q.child.return=q;q=q.child;continue}if(q===J)break a;for(;null===q.sibling;){if(null===
q.return||q.return===J)break a;q=q.return}q.sibling.return=q.return;q=q.sibling}Qa&=1}le(of,Qa);if(0===(J.mode&2))J.memoizedState=null;else switch(ib){case "forwards":da=J.child;for(ib=null;null!==da;)q=da.alternate,null!==q&&null===vb(q)&&(ib=da),da=da.sibling;da=ib;null===da?(ib=J.child,J.child=null):(ib=da.sibling,da.sibling=null);be(J,!1,ib,da,yb,J.lastEffect);break;case "backwards":da=null;ib=J.child;for(J.child=null;null!==ib;){q=ib.alternate;if(null!==q&&null===vb(q)){J.child=ib;break}q=ib.sibling;
ib.sibling=da;da=ib;ib=q}be(J,!0,da,null,yb,J.lastEffect);break;case "together":be(J,!1,null,null,void 0,J.lastEffect);break;default:J.memoizedState=null}return J.child}function Ad(q,J,da){null!==q&&(J.dependencies=q.dependencies);dk|=J.lanes;if(0!==(da&J.childLanes)){if(null!==q&&J.child!==q.child)throw Error(k(153));if(null!==J.child){q=J.child;da=qg(q,q.pendingProps);J.child=da;for(da.return=J;null!==q.sibling;)q=q.sibling,da=da.sibling=qg(q,q.pendingProps),da.return=J;da.sibling=null}return J.child}return null}
function id(q,J){if(!fh)switch(q.tailMode){case "hidden":J=q.tail;for(var da=null;null!==J;)null!==J.alternate&&(da=J),J=J.sibling;null===da?q.tail=null:da.sibling=null;break;case "collapsed":da=q.tail;for(var Qa=null;null!==da;)null!==da.alternate&&(Qa=da),da=da.sibling;null===Qa?J||null===q.tail?q.tail=null:q.tail.sibling=null:Qa.sibling=null}}function af(q,J,da){var Qa=J.pendingProps;switch(J.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fe(J.type)&&
ue(),null;case 3:nf();xe(Lg);xe(Sg);Wc();Qa=J.stateNode;Qa.pendingContext&&(Qa.context=Qa.pendingContext,Qa.pendingContext=null);if(null===q||null===q.child)fd(J)?J.flags|=4:Qa.hydrate||(J.flags|=256);zh(J);return null;case 5:Pa(J);var ib=yf(rf.current);da=J.type;if(null!==q&&null!=J.stateNode)Kk(q,J,da,Qa,ib),q.ref!==J.ref&&(J.flags|=128);else{if(!Qa){if(null===J.stateNode)throw Error(k(166));return null}q=yf(qh.current);if(fd(J)){Qa=J.stateNode;da=J.type;var yb=J.memoizedProps;Qa[wi]=J;Qa[Bk]=yb;
switch(da){case "dialog":fe("cancel",Qa);fe("close",Qa);break;case "iframe":case "object":case "embed":fe("load",Qa);break;case "video":case "audio":for(q=0;q<Of.length;q++)fe(Of[q],Qa);break;case "source":fe("error",Qa);break;case "img":case "image":case "link":fe("error",Qa);fe("load",Qa);break;case "details":fe("toggle",Qa);break;case "input":z(Qa,yb);fe("invalid",Qa);break;case "select":Qa._wrapperState={wasMultiple:!!yb.multiple};fe("invalid",Qa);break;case "textarea":Z(Qa,yb),fe("invalid",Qa)}Ia(da,
yb);q=null;for(var Ob in yb)yb.hasOwnProperty(Ob)&&(ib=yb[Ob],"children"===Ob?"string"===typeof ib?Qa.textContent!==ib&&(q=["children",ib]):"number"===typeof ib&&Qa.textContent!==""+ib&&(q=["children",""+ib]):vh.hasOwnProperty(Ob)&&null!=ib&&"onScroll"===Ob&&fe("scroll",Qa));switch(da){case "input":D(Qa);R(Qa,yb,!0);break;case "textarea":D(Qa);C(Qa);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(Qa.onclick=me)}Qa=q;J.updateQueue=Qa;null!==Qa&&(J.flags|=4)}else{Ob=
9===ib.nodeType?ib:ib.ownerDocument;q===Vg.html&&(q=V(da));q===Vg.html?"script"===da?(q=Ob.createElement("div"),q.innerHTML="\x3cscript\x3e\x3c/script\x3e",q=q.removeChild(q.firstChild)):"string"===typeof Qa.is?q=Ob.createElement(da,{is:Qa.is}):(q=Ob.createElement(da),"select"===da&&(Ob=q,Qa.multiple?Ob.multiple=!0:Qa.size&&(Ob.size=Qa.size))):q=Ob.createElementNS(q,da);q[wi]=J;q[Bk]=Qa;wl(q,J,!1,!1);J.stateNode=q;Ob=bb(da,Qa);switch(da){case "dialog":fe("cancel",q);fe("close",q);ib=Qa;break;case "iframe":case "object":case "embed":fe("load",
q);ib=Qa;break;case "video":case "audio":for(ib=0;ib<Of.length;ib++)fe(Of[ib],q);ib=Qa;break;case "source":fe("error",q);ib=Qa;break;case "img":case "image":case "link":fe("error",q);fe("load",q);ib=Qa;break;case "details":fe("toggle",q);ib=Qa;break;case "input":z(q,Qa);ib=F(q,Qa);fe("invalid",q);break;case "option":ib=fa(q,Qa);break;case "select":q._wrapperState={wasMultiple:!!Qa.multiple};ib=lg({},Qa,{value:void 0});fe("invalid",q);break;case "textarea":Z(q,Qa);ib=la(q,Qa);fe("invalid",q);break;
default:ib=Qa}Ia(da,ib);var fc=ib;for(yb in fc)if(fc.hasOwnProperty(yb)){var Fc=fc[yb];"style"===yb?va(q,Fc):"dangerouslySetInnerHTML"===yb?(Fc=Fc?Fc.__html:void 0,null!=Fc&&Kj(q,Fc)):"children"===yb?"string"===typeof Fc?("textarea"!==da||""!==Fc)&&aa(q,Fc):"number"===typeof Fc&&aa(q,""+Fc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(vh.hasOwnProperty(yb)?null!=Fc&&"onScroll"===yb&&fe("scroll",q):null!=Fc&&m(q,yb,Fc,Ob))}switch(da){case "input":D(q);
R(q,Qa,!1);break;case "textarea":D(q);C(q);break;case "option":null!=Qa.value&&q.setAttribute("value",""+n(Qa.value));break;case "select":q.multiple=!!Qa.multiple;yb=Qa.value;null!=yb?ha(q,!!Qa.multiple,yb,!1):null!=Qa.defaultValue&&ha(q,!!Qa.multiple,Qa.defaultValue,!0);break;default:"function"===typeof ib.onClick&&(q.onclick=me)}te(da,Qa)&&(J.flags|=4)}null!==J.ref&&(J.flags|=128)}return null;case 6:if(q&&null!=J.stateNode)Jl(q,J,q.memoizedProps,Qa);else{if("string"!==typeof Qa&&null===J.stateNode)throw Error(k(166));
da=yf(rf.current);yf(qh.current);fd(J)?(Qa=J.stateNode,da=J.memoizedProps,Qa[wi]=J,Qa.nodeValue!==da&&(J.flags|=4)):(Qa=(9===da.nodeType?da:da.ownerDocument).createTextNode(Qa),Qa[wi]=J,J.stateNode=Qa)}return null;case 13:xe(of);Qa=J.memoizedState;if(0!==(J.flags&64))return J.lanes=da,J;Qa=null!==Qa;da=!1;null===q?void 0!==J.memoizedProps.fallback&&fd(J):da=null!==q.memoizedState;if(Qa&&!da&&0!==(J.mode&2))if(null===q&&!0!==J.memoizedProps.unstable_avoidThisFallback||0!==(of.current&1))0===bh&&(bh=
3);else{if(0===bh||3===bh)bh=4;null===ah||0===(dk&134217727)&&0===(rh&134217727)||re(ah,fg)}if(Qa||da)J.flags|=4;return null;case 4:return nf(),zh(J),null===q&&ef(J.stateNode.containerInfo),null;case 10:return ub(J),null;case 17:return Fe(J.type)&&ue(),null;case 19:xe(of);Qa=J.memoizedState;if(null===Qa)return null;yb=0!==(J.flags&64);Ob=Qa.rendering;if(null===Ob)if(yb)id(Qa,!1);else{if(0!==bh||null!==q&&0!==(q.flags&64))for(q=J.child;null!==q;){Ob=vb(q);if(null!==Ob){J.flags|=64;id(Qa,!1);yb=Ob.updateQueue;
null!==yb&&(J.updateQueue=yb,J.flags|=4);null===Qa.lastEffect&&(J.firstEffect=null);J.lastEffect=Qa.lastEffect;Qa=da;for(da=J.child;null!==da;)yb=da,q=Qa,yb.flags&=2,yb.nextEffect=null,yb.firstEffect=null,yb.lastEffect=null,Ob=yb.alternate,null===Ob?(yb.childLanes=0,yb.lanes=q,yb.child=null,yb.memoizedProps=null,yb.memoizedState=null,yb.updateQueue=null,yb.dependencies=null,yb.stateNode=null):(yb.childLanes=Ob.childLanes,yb.lanes=Ob.lanes,yb.child=Ob.child,yb.memoizedProps=Ob.memoizedProps,yb.memoizedState=
Ob.memoizedState,yb.updateQueue=Ob.updateQueue,yb.type=Ob.type,q=Ob.dependencies,yb.dependencies=null===q?null:{lanes:q.lanes,firstContext:q.firstContext}),da=da.sibling;le(of,of.current&1|2);return J.child}q=q.sibling}null!==Qa.tail&&gh()>dl&&(J.flags|=64,yb=!0,id(Qa,!1),J.lanes=33554432)}else{if(!yb)if(q=vb(Ob),null!==q){if(J.flags|=64,yb=!0,da=q.updateQueue,null!==da&&(J.updateQueue=da,J.flags|=4),id(Qa,!0),null===Qa.tail&&"hidden"===Qa.tailMode&&!Ob.alternate&&!fh)return J=J.lastEffect=Qa.lastEffect,
null!==J&&(J.nextEffect=null),null}else 2*gh()-Qa.renderingStartTime>dl&&1073741824!==da&&(J.flags|=64,yb=!0,id(Qa,!1),J.lanes=33554432);Qa.isBackwards?(Ob.sibling=J.child,J.child=Ob):(da=Qa.last,null!==da?da.sibling=Ob:J.child=Ob,Qa.last=Ob)}return null!==Qa.tail?(da=Qa.tail,Qa.rendering=da,Qa.tail=da.sibling,Qa.lastEffect=J.lastEffect,Qa.renderingStartTime=gh(),da.sibling=null,J=of.current,le(of,yb?J&1|2:J&1),da):null;case 23:case 24:return Oe(),null!==q&&null!==q.memoizedState!==(null!==J.memoizedState)&&
"unstable-defer-without-hiding"!==Qa.mode&&(J.flags|=4),null}throw Error(k(156,J.tag));}function Wa(q){switch(q.tag){case 1:Fe(q.type)&&ue();var J=q.flags;return J&4096?(q.flags=J&-4097|64,q):null;case 3:nf();xe(Lg);xe(Sg);Wc();J=q.flags;if(0!==(J&64))throw Error(k(285));q.flags=J&-4097|64;return q;case 5:return Pa(q),null;case 13:return xe(of),J=q.flags,J&4096?(q.flags=J&-4097|64,q):null;case 19:return xe(of),null;case 4:return nf(),null;case 10:return ub(q),null;case 23:case 24:return Oe(),null;
default:return null}}function ob(q,J){try{var da="",Qa=J;do da+=a(Qa),Qa=Qa.return;while(Qa)}catch(ib){da="\nError generating stack: "+ib.message+"\n"+ib.stack}return{value:q,source:J,stack:da}}function zb(q,J){try{console.error(J.value)}catch(da){setTimeout(function(){throw da;})}}function Mb(q,J,da){da=Nd(-1,da);da.tag=3;da.payload={element:null};var Qa=J.value;da.callback=function(){kj||(kj=!0,Lk=Qa);zb(q,J)};return da}function bc(q,J,da){da=Nd(-1,da);da.tag=3;var Qa=q.type.getDerivedStateFromError;
if("function"===typeof Qa){var ib=J.value;da.payload=function(){zb(q,J);return Qa(ib)}}var yb=q.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(da.callback=function(){"function"!==typeof Qa&&(null===ki?ki=new Set([this]):ki.add(this),zb(q,J));var Ob=J.stack;this.componentDidCatch(J.value,{componentStack:null!==Ob?Ob:""})});return da}function Kc(q){var J=q.ref;if(null!==J)if("function"===typeof J)try{J(null)}catch(da){Ah(q,da)}else J.current=null}function r(q,J){switch(J.tag){case 0:case 11:case 15:case 22:return;
case 1:if(J.flags&256&&null!==q){var da=q.memoizedProps,Qa=q.memoizedState;q=J.stateNode;J=q.getSnapshotBeforeUpdate(J.elementType===J.type?da:Cb(J.type,da),Qa);q.__reactInternalSnapshotBeforeUpdate=J}return;case 3:J.flags&256&&we(J.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(k(163));}function Q(q,J,da){switch(da.tag){case 0:case 11:case 15:case 22:J=da.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){q=J=J.next;do{if(3===(q.tag&3)){var Qa=q.create;q.destroy=
Qa()}q=q.next}while(q!==J)}J=da.updateQueue;J=null!==J?J.lastEffect:null;if(null!==J){q=J=J.next;do{var ib=q;Qa=ib.next;ib=ib.tag;0!==(ib&4)&&0!==(ib&1)&&(hk(da,q),Ti(da,q));q=Qa}while(q!==J)}return;case 1:q=da.stateNode;da.flags&4&&(null===J?q.componentDidMount():(Qa=da.elementType===da.type?J.memoizedProps:Cb(da.type,J.memoizedProps),q.componentDidUpdate(Qa,J.memoizedState,q.__reactInternalSnapshotBeforeUpdate)));J=da.updateQueue;null!==J&&Qd(da,J,q);return;case 3:J=da.updateQueue;if(null!==J){q=
null;if(null!==da.child)switch(da.child.tag){case 5:q=da.child.stateNode;break;case 1:q=da.child.stateNode}Qd(da,J,q)}return;case 5:q=da.stateNode;null===J&&da.flags&4&&te(da.type,da.memoizedProps)&&q.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===da.memoizedState&&(da=da.alternate,null!==da&&(da=da.memoizedState,null!==da&&(da=da.dehydrated,null!==da&&Hc(da))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(k(163));}function ma(q,J){for(var da=
q;;){if(5===da.tag){var Qa=da.stateNode;if(J)Qa=Qa.style,"function"===typeof Qa.setProperty?Qa.setProperty("display","none","important"):Qa.display="none";else{Qa=da.stateNode;var ib=da.memoizedProps.style;ib=void 0!==ib&&null!==ib&&ib.hasOwnProperty("display")?ib.display:null;Qa.style.display=ya("display",ib)}}else if(6===da.tag)da.stateNode.nodeValue=J?"":da.memoizedProps;else if((23!==da.tag&&24!==da.tag||null===da.memoizedState||da===q)&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===
q)break;for(;null===da.sibling;){if(null===da.return||da.return===q)return;da=da.return}da.sibling.return=da.return;da=da.sibling}}function Ma(q,J){if(lj&&"function"===typeof lj.onCommitFiberUnmount)try{lj.onCommitFiberUnmount(el,J)}catch(yb){}switch(J.tag){case 0:case 11:case 14:case 15:case 22:q=J.updateQueue;if(null!==q&&(q=q.lastEffect,null!==q)){var da=q=q.next;do{var Qa=da,ib=Qa.destroy;Qa=Qa.tag;if(void 0!==ib)if(0!==(Qa&4))hk(J,da);else{Qa=J;try{ib()}catch(yb){Ah(Qa,yb)}}da=da.next}while(da!==
q)}break;case 1:Kc(J);q=J.stateNode;if("function"===typeof q.componentWillUnmount)try{q.props=J.memoizedProps,q.state=J.memoizedState,q.componentWillUnmount()}catch(yb){Ah(J,yb)}break;case 5:Kc(J);break;case 4:Vb(q,J)}}function gb(q){q.alternate=null;q.child=null;q.dependencies=null;q.firstEffect=null;q.lastEffect=null;q.memoizedProps=null;q.memoizedState=null;q.pendingProps=null;q.return=null;q.updateQueue=null}function lb(q){return 5===q.tag||3===q.tag||4===q.tag}function sb(q){a:{for(var J=q.return;null!==
J;){if(lb(J))break a;J=J.return}throw Error(k(160));}var da=J;J=da.stateNode;switch(da.tag){case 5:var Qa=!1;break;case 3:J=J.containerInfo;Qa=!0;break;case 4:J=J.containerInfo;Qa=!0;break;default:throw Error(k(161));}da.flags&16&&(aa(J,""),da.flags&=-17);da=q;a:b:for(;;){for(;null===da.sibling;){if(null===da.return||lb(da.return)){da=null;break a}da=da.return}da.sibling.return=da.return;for(da=da.sibling;5!==da.tag&&6!==da.tag&&18!==da.tag;){if(da.flags&2)continue b;if(null===da.child||4===da.tag)continue b;
else da.child.return=da,da=da.child}if(!(da.flags&2)){da=da.stateNode;break a}}Qa?Rb(q,da,J):ec(q,da,J)}function Rb(q,J,da){var Qa=q.tag,ib=5===Qa||6===Qa;if(ib)q=ib?q.stateNode:q.stateNode.instance,J?8===da.nodeType?da.parentNode.insertBefore(q,J):da.insertBefore(q,J):(8===da.nodeType?(J=da.parentNode,J.insertBefore(q,da)):(J=da,J.appendChild(q)),da=da._reactRootContainer,null!==da&&void 0!==da||null!==J.onclick||(J.onclick=me));else if(4!==Qa&&(q=q.child,null!==q))for(Rb(q,J,da),q=q.sibling;null!==
q;)Rb(q,J,da),q=q.sibling}function ec(q,J,da){var Qa=q.tag,ib=5===Qa||6===Qa;if(ib)q=ib?q.stateNode:q.stateNode.instance,J?da.insertBefore(q,J):da.appendChild(q);else if(4!==Qa&&(q=q.child,null!==q))for(ec(q,J,da),q=q.sibling;null!==q;)ec(q,J,da),q=q.sibling}function Vb(q,J){for(var da=J,Qa=!1,ib,yb;;){if(!Qa){Qa=da.return;a:for(;;){if(null===Qa)throw Error(k(160));ib=Qa.stateNode;switch(Qa.tag){case 5:yb=!1;break a;case 3:ib=ib.containerInfo;yb=!0;break a;case 4:ib=ib.containerInfo;yb=!0;break a}Qa=
Qa.return}Qa=!0}if(5===da.tag||6===da.tag){var Ob=q,fc=da,Fc=fc;a:for(;;)if(Ma(Ob,Fc),null!==Fc.child&&4!==Fc.tag)Fc.child.return=Fc,Fc=Fc.child;else{if(Fc===fc)break a;for(;null===Fc.sibling;){if(null===Fc.return||Fc.return===fc)break a;Fc=Fc.return}Fc.sibling.return=Fc.return;Fc=Fc.sibling}yb?(Ob=ib,fc=da.stateNode,8===Ob.nodeType?Ob.parentNode.removeChild(fc):Ob.removeChild(fc)):ib.removeChild(da.stateNode)}else if(4===da.tag){if(null!==da.child){ib=da.stateNode.containerInfo;yb=!0;da.child.return=
da;da=da.child;continue}}else if(Ma(q,da),null!==da.child){da.child.return=da;da=da.child;continue}if(da===J)break;for(;null===da.sibling;){if(null===da.return||da.return===J)return;da=da.return;4===da.tag&&(Qa=!1)}da.sibling.return=da.return;da=da.sibling}}function Qc(q,J){switch(J.tag){case 0:case 11:case 14:case 15:case 22:var da=J.updateQueue;da=null!==da?da.lastEffect:null;if(null!==da){var Qa=da=da.next;do 3===(Qa.tag&3)&&(q=Qa.destroy,Qa.destroy=void 0,void 0!==q&&q()),Qa=Qa.next;while(Qa!==
da)}return;case 1:return;case 5:da=J.stateNode;if(null!=da){Qa=J.memoizedProps;var ib=null!==q?q.memoizedProps:Qa;q=J.type;var yb=J.updateQueue;J.updateQueue=null;if(null!==yb){da[Bk]=Qa;"input"===q&&"radio"===Qa.type&&null!=Qa.name&&G(da,Qa);bb(q,ib);J=bb(q,Qa);for(ib=0;ib<yb.length;ib+=2){var Ob=yb[ib],fc=yb[ib+1];"style"===Ob?va(da,fc):"dangerouslySetInnerHTML"===Ob?Kj(da,fc):"children"===Ob?aa(da,fc):m(da,Ob,fc,J)}switch(q){case "input":K(da,Qa);break;case "textarea":P(da,Qa);break;case "select":q=
da._wrapperState.wasMultiple,da._wrapperState.wasMultiple=!!Qa.multiple,yb=Qa.value,null!=yb?ha(da,!!Qa.multiple,yb,!1):q!==!!Qa.multiple&&(null!=Qa.defaultValue?ha(da,!!Qa.multiple,Qa.defaultValue,!0):ha(da,!!Qa.multiple,Qa.multiple?[]:"",!1))}}}return;case 6:if(null===J.stateNode)throw Error(k(162));J.stateNode.nodeValue=J.memoizedProps;return;case 3:da=J.stateNode;da.hydrate&&(da.hydrate=!1,Hc(da.containerInfo));return;case 12:return;case 13:null!==J.memoizedState&&(Mk=gh(),ma(J.child,!0));dd(J);
return;case 19:dd(J);return;case 17:return;case 23:case 24:ma(J,null!==J.memoizedState);return}throw Error(k(163));}function dd(q){var J=q.updateQueue;if(null!==J){q.updateQueue=null;var da=q.stateNode;null===da&&(da=q.stateNode=new Kl);J.forEach(function(Qa){var ib=Nk.bind(null,q,Qa);da.has(Qa)||(da.add(Qa),Qa.then(ib,ib))})}}function zd(q,J){return null!==q&&(q=q.memoizedState,null===q||null!==q.dehydrated)?(J=J.memoizedState,null!==J&&null===J.dehydrated):!1}function rd(){dl=gh()+500}function bd(){return 0!==
(Ne&48)?gh():-1!==Cg?Cg:Cg=gh()}function Jc(q){q=q.mode;if(0===(q&2))return 1;if(0===(q&4))return 99===Bf()?1:2;0===ai&&(ai=mj);if(0!==Ll.transition){0!==ik&&(ik=null!==Ok?Ok.pendingLanes:0);q=ai;var J=4186112&~ik;J&=-J;0===J&&(q=4186112&~q,J=q&-q,0===J&&(J=8192));return J}q=Bf();0!==(Ne&4)&&98===q?q=Lc(12,ai):(q=Pc(q),q=Lc(q,ai));return q}function ud(q,J,da){if(50<jk)throw jk=0,kk=null,Error(k(185));q=ee(q,J);if(null===q)return null;wd(q,J,da);q===ah&&(rh|=J,4===bh&&re(q,fg));var Qa=Bf();1===J?0!==
(Ne&8)&&0===(Ne&48)?Pf(q):(Sd(q,da),0===Ne&&(rd(),Ea())):(0===(Ne&4)||98!==Qa&&99!==Qa||(null===Bi?Bi=new Set([q]):Bi.add(q)),Sd(q,da));Ok=q}function ee(q,J){q.lanes|=J;var da=q.alternate;null!==da&&(da.lanes|=J);da=q;for(q=q.return;null!==q;)q.childLanes|=J,da=q.alternate,null!==da&&(da.childLanes|=J),da=q,q=q.return;return 3===da.tag?da.stateNode:null}function Sd(q,J){for(var da=q.callbackNode,Qa=q.suspendedLanes,ib=q.pingedLanes,yb=q.expirationTimes,Ob=q.pendingLanes;0<Ob;){var fc=31-Lh(Ob),Fc=
1<<fc,sd=yb[fc];if(-1===sd){if(0===(Fc&Qa)||0!==(Fc&ib)){sd=J;rc(Fc);var ve=ag;yb[fc]=10<=ve?sd+250:6<=ve?sd+5E3:-1}}else sd<=J&&(q.expiredLanes|=Fc);Ob&=~Fc}Qa=Uc(q,q===ah?fg:0);J=ag;if(0===Qa)null!==da&&(da!==fl&&ck(da),q.callbackNode=null,q.callbackPriority=0);else{if(null!==da){if(q.callbackPriority===J)return;da!==fl&&ck(da)}15===J?(da=Pf.bind(null,q),null===xi?(xi=[da],Fj=Dk(Ck,Za)):xi.push(da),da=fl):14===J?da=wa(99,Pf.bind(null,q)):(da=sc(J),da=wa(da,ye.bind(null,q)));q.callbackPriority=J;
q.callbackNode=da}}function ye(q){Cg=-1;ik=ai=0;if(0!==(Ne&48))throw Error(k(327));var J=q.callbackNode;if(sh()&&q.callbackNode!==J)return null;var da=Uc(q,q===ah?fg:0);if(0===da)return null;var Qa=da,ib=Ne;Ne|=16;var yb=$f();if(ah!==q||fg!==Qa)rd(),dg(q,Qa);do try{for(;null!==Mg&&!Pk();)Df(Mg);break}catch(fc){Xe(q,fc)}while(1);Oi=Pi=Gj=null;Qk.current=yb;Ne=ib;null!==Mg?Qa=0:(ah=null,fg=0,Qa=bh);if(0!==(mj&rh))dg(q,0);else if(0!==Qa){2===Qa&&(Ne|=64,q.hydrate&&(q.hydrate=!1,we(q.containerInfo)),
da=Sc(q),0!==da&&(Qa=vf(q,da)));if(1===Qa)throw J=Qh,dg(q,0),re(q,da),Sd(q,gh()),J;q.finishedWork=q.current.alternate;q.finishedLanes=da;switch(Qa){case 0:case 1:throw Error(k(345));case 2:Vf(q);break;case 3:re(q,da);if((da&62914560)===da&&(Qa=Mk+500-gh(),10<Qa)){if(0!==Uc(q,0))break;ib=q.suspendedLanes;if((ib&da)!==da){bd();q.pingedLanes|=q.suspendedLanes&ib;break}q.timeoutHandle=li(Vf.bind(null,q),Qa);break}Vf(q);break;case 4:re(q,da);if((da&4186112)===da)break;Qa=q.eventTimes;for(ib=-1;0<da;){var Ob=
31-Lh(da);yb=1<<Ob;Ob=Qa[Ob];Ob>ib&&(ib=Ob);da&=~yb}da=ib;da=gh()-da;da=(120>da?120:480>da?480:1080>da?1080:1920>da?1920:3E3>da?3E3:4320>da?4320:1960*Rk(da/1960))-da;if(10<da){q.timeoutHandle=li(Vf.bind(null,q),da);break}Vf(q);break;case 5:Vf(q);break;default:throw Error(k(329));}}Sd(q,gh());return q.callbackNode===J?ye.bind(null,q):null}function re(q,J){J&=~Lj;J&=~rh;q.suspendedLanes|=J;q.pingedLanes&=~J;for(q=q.expirationTimes;0<J;){var da=31-Lh(J),Qa=1<<da;q[da]=-1;J&=~Qa}}function Pf(q){if(0!==
(Ne&48))throw Error(k(327));sh();if(q===ah&&0!==(q.expiredLanes&fg)){var J=fg,da=vf(q,J);0!==(mj&rh)&&(J=Uc(q,J),da=vf(q,J))}else J=Uc(q,0),da=vf(q,J);0!==q.tag&&2===da&&(Ne|=64,q.hydrate&&(q.hydrate=!1,we(q.containerInfo)),J=Sc(q),0!==J&&(da=vf(q,J)));if(1===da)throw da=Qh,dg(q,0),re(q,J),Sd(q,gh()),da;q.finishedWork=q.current.alternate;q.finishedLanes=J;Vf(q);Sd(q,gh());return null}function ke(){if(null!==Bi){var q=Bi;Bi=null;q.forEach(function(J){J.expiredLanes|=24&J.pendingLanes;Sd(J,gh())})}Ea()}
function pe(q,J){var da=Ne;Ne|=1;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}}function Re(q,J){var da=Ne;Ne&=-2;Ne|=8;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}}function xd(q,J){le(lk,Wg);Wg|=J;mj|=J}function Oe(){Wg=lk.current;xe(lk)}function dg(q,J){q.finishedWork=null;q.finishedLanes=0;var da=q.timeoutHandle;-1!==da&&(q.timeoutHandle=-1,Mj(da));if(null!==Mg)for(da=Mg.return;null!==da;){var Qa=da;switch(Qa.tag){case 1:Qa=Qa.type.childContextTypes;null!==Qa&&void 0!==Qa&&ue();break;
case 3:nf();xe(Lg);xe(Sg);Wc();break;case 5:Pa(Qa);break;case 4:nf();break;case 13:xe(of);break;case 19:xe(of);break;case 10:ub(Qa);break;case 23:case 24:Oe()}da=da.return}ah=q;Mg=qg(q.current,null);fg=Wg=mj=J;bh=0;Qh=null;Lj=rh=dk=0}function Xe(q,J){do{var da=Mg;try{Oi=Pi=Gj=null;Ij.current=Hk;if(Ik){for(var Qa=rg.memoizedState;null!==Qa;){var ib=Qa.queue;null!==ib&&(ib.pending=null);Qa=Qa.next}Ik=!1}ek=0;Ug=$g=rg=null;fk=!1;gl.current=null;if(null===da||null===da.return){bh=1;Qh=J;Mg=null;break}a:{var yb=
q,Ob=da.return,fc=da,Fc=J;J=fg;fc.flags|=2048;fc.firstEffect=fc.lastEffect=null;if(null!==Fc&&"object"===typeof Fc&&"function"===typeof Fc.then){var sd=Fc;if(0===(fc.mode&2)){var ve=fc.alternate;ve?(fc.updateQueue=ve.updateQueue,fc.memoizedState=ve.memoizedState,fc.lanes=ve.lanes):(fc.updateQueue=null,fc.memoizedState=null)}var ff=0!==(of.current&1),Ld=Ob;do{var Ke;if(Ke=13===Ld.tag){var gf=Ld.memoizedState;if(null!==gf)Ke=null!==gf.dehydrated?!0:!1;else{var $e=Ld.memoizedProps;Ke=void 0===$e.fallback?
!1:!0!==$e.unstable_avoidThisFallback?!0:ff?!1:!0}}if(Ke){var cd=Ld.updateQueue;if(null===cd){var Nc=new Set;Nc.add(sd);Ld.updateQueue=Nc}else cd.add(sd);if(0===(Ld.mode&2)){Ld.flags|=64;fc.flags|=16384;fc.flags&=-2981;if(1===fc.tag)if(null===fc.alternate)fc.tag=17;else{var $c=Nd(-1,1);$c.tag=2;od(fc,$c)}fc.lanes|=1;break a}Fc=void 0;fc=J;var Bd=yb.pingCache;null===Bd?(Bd=yb.pingCache=new Sk,Fc=new Set,Bd.set(sd,Fc)):(Fc=Bd.get(sd),void 0===Fc&&(Fc=new Set,Bd.set(sd,Fc)));if(!Fc.has(fc)){Fc.add(fc);
var Jd=nj.bind(null,yb,sd,fc);sd.then(Jd,Jd)}Ld.flags|=4096;Ld.lanes=J;break a}Ld=Ld.return}while(null!==Ld);Fc=Error((e(fc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==bh&&(bh=2);Fc=ob(Fc,fc);Ld=Ob;do{switch(Ld.tag){case 3:yb=Fc;Ld.flags|=4096;J&=-J;Ld.lanes|=J;var cf=Mb(Ld,yb,J);Id(Ld,cf);break a;case 1:yb=Fc;var Ae=
Ld.type,hf=Ld.stateNode;if(0===(Ld.flags&64)&&("function"===typeof Ae.getDerivedStateFromError||null!==hf&&"function"===typeof hf.componentDidCatch&&(null===ki||!ki.has(hf)))){Ld.flags|=4096;J&=-J;Ld.lanes|=J;var Kf=bc(Ld,yb,J);Id(Ld,Kf);break a}}Ld=Ld.return}while(null!==Ld)}Qf(da)}catch(xf){J=xf;Mg===da&&null!==da&&(Mg=da.return);continue}break}while(1)}function $f(){var q=Qk.current;Qk.current=Hk;return null===q?Hk:q}function vf(q,J){var da=Ne;Ne|=16;var Qa=$f();ah===q&&fg===J||dg(q,J);do try{for(;null!==
Mg;)Df(Mg);break}catch(ib){Xe(q,ib)}while(1);Oi=Pi=Gj=null;Ne=da;Qk.current=Qa;if(null!==Mg)throw Error(k(261));ah=null;fg=0;return bh}function Df(q){var J=Ml(q.alternate,q,Wg);q.memoizedProps=q.pendingProps;null===J?Qf(q):Mg=J;gl.current=null}function Qf(q){var J=q;do{var da=J.alternate;q=J.return;if(0===(J.flags&2048)){da=af(da,J,Wg);if(null!==da){Mg=da;return}da=J;if(24!==da.tag&&23!==da.tag||null===da.memoizedState||0!==(Wg&1073741824)||0===(da.mode&4)){for(var Qa=0,ib=da.child;null!==ib;)Qa|=
ib.lanes|ib.childLanes,ib=ib.sibling;da.childLanes=Qa}null!==q&&0===(q.flags&2048)&&(null===q.firstEffect&&(q.firstEffect=J.firstEffect),null!==J.lastEffect&&(null!==q.lastEffect&&(q.lastEffect.nextEffect=J.firstEffect),q.lastEffect=J.lastEffect),1<J.flags&&(null!==q.lastEffect?q.lastEffect.nextEffect=J:q.firstEffect=J,q.lastEffect=J))}else{da=Wa(J);if(null!==da){da.flags&=2047;Mg=da;return}null!==q&&(q.firstEffect=q.lastEffect=null,q.flags|=2048)}J=J.sibling;if(null!==J){Mg=J;return}Mg=J=q}while(null!==
J);0===bh&&(bh=5)}function Vf(q){var J=Bf();yc(99,Xg.bind(null,q,J));return null}function Xg(q,J){do sh();while(null!==mk);if(0!==(Ne&48))throw Error(k(327));var da=q.finishedWork;if(null===da)return null;q.finishedWork=null;q.finishedLanes=0;if(da===q.current)throw Error(k(177));q.callbackNode=null;var Qa=da.lanes|da.childLanes,ib=Qa,yb=q.pendingLanes&~ib;q.pendingLanes=ib;q.suspendedLanes=0;q.pingedLanes=0;q.expiredLanes&=ib;q.mutableReadLanes&=ib;q.entangledLanes&=ib;ib=q.entanglements;for(var Ob=
q.eventTimes,fc=q.expirationTimes;0<yb;){var Fc=31-Lh(yb),sd=1<<Fc;ib[Fc]=0;Ob[Fc]=-1;fc[Fc]=-1;yb&=~sd}null!==Bi&&0===(Qa&24)&&Bi.has(q)&&Bi.delete(q);q===ah&&(Mg=ah=null,fg=0);1<da.flags?null!==da.lastEffect?(da.lastEffect.nextEffect=da,Qa=da.firstEffect):Qa=da:Qa=da.firstEffect;if(null!==Qa){ib=Ne;Ne|=32;gl.current=null;ch=Bj;Ob=Dd();if(Ud(Ob)){if("selectionStart"in Ob)fc={start:Ob.selectionStart,end:Ob.selectionEnd};else a:if(fc=(fc=Ob.ownerDocument)&&fc.defaultView||window,(sd=fc.getSelection&&
fc.getSelection())&&0!==sd.rangeCount){fc=sd.anchorNode;yb=sd.anchorOffset;Fc=sd.focusNode;sd=sd.focusOffset;try{fc.nodeType,Fc.nodeType}catch(xf){fc=null;break a}var ve=0,ff=-1,Ld=-1,Ke=0,gf=0,$e=Ob,cd=null;b:for(;;){for(var Nc;;){$e!==fc||0!==yb&&3!==$e.nodeType||(ff=ve+yb);$e!==Fc||0!==sd&&3!==$e.nodeType||(Ld=ve+sd);3===$e.nodeType&&(ve+=$e.nodeValue.length);if(null===(Nc=$e.firstChild))break;cd=$e;$e=Nc}for(;;){if($e===Ob)break b;cd===fc&&++Ke===yb&&(ff=ve);cd===Fc&&++gf===sd&&(Ld=ve);if(null!==
(Nc=$e.nextSibling))break;$e=cd;cd=$e.parentNode}$e=Nc}fc=-1===ff||-1===Ld?null:{start:ff,end:Ld}}else fc=null;fc=fc||{start:0,end:0}}else fc=null;Rh={focusedElem:Ob,selectionRange:fc};Bj=!1;Nj=null;th=!1;ze=Qa;do try{Bh()}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);Nj=null;ze=Qa;do try{for(Ob=q;null!==ze;){var $c=ze.flags;$c&16&&aa(ze.stateNode,"");if($c&128){var Bd=ze.alternate;if(null!==Bd){var Jd=Bd.ref;null!==Jd&&("function"===typeof Jd?Jd(null):Jd.current=
null)}}switch($c&1038){case 2:sb(ze);ze.flags&=-3;break;case 6:sb(ze);ze.flags&=-3;Qc(ze.alternate,ze);break;case 1024:ze.flags&=-1025;break;case 1028:ze.flags&=-1025;Qc(ze.alternate,ze);break;case 4:Qc(ze.alternate,ze);break;case 8:fc=ze;Vb(Ob,fc);var cf=fc.alternate;gb(fc);null!==cf&&gb(cf)}ze=ze.nextEffect}}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);Jd=Rh;Bd=Dd();$c=Jd.focusedElem;Ob=Jd.selectionRange;if(Bd!==$c&&$c&&$c.ownerDocument&&Cd($c.ownerDocument.documentElement,
$c)){null!==Ob&&Ud($c)&&(Bd=Ob.start,Jd=Ob.end,void 0===Jd&&(Jd=Bd),"selectionStart"in $c?($c.selectionStart=Bd,$c.selectionEnd=Math.min(Jd,$c.value.length)):(Jd=(Bd=$c.ownerDocument||document)&&Bd.defaultView||window,Jd.getSelection&&(Jd=Jd.getSelection(),fc=$c.textContent.length,cf=Math.min(Ob.start,fc),Ob=void 0===Ob.end?cf:Math.min(Ob.end,fc),!Jd.extend&&cf>Ob&&(fc=Ob,Ob=cf,cf=fc),fc=ld($c,cf),yb=ld($c,Ob),fc&&yb&&(1!==Jd.rangeCount||Jd.anchorNode!==fc.node||Jd.anchorOffset!==fc.offset||Jd.focusNode!==
yb.node||Jd.focusOffset!==yb.offset)&&(Bd=Bd.createRange(),Bd.setStart(fc.node,fc.offset),Jd.removeAllRanges(),cf>Ob?(Jd.addRange(Bd),Jd.extend(yb.node,yb.offset)):(Bd.setEnd(yb.node,yb.offset),Jd.addRange(Bd))))));Bd=[];for(Jd=$c;Jd=Jd.parentNode;)1===Jd.nodeType&&Bd.push({element:Jd,left:Jd.scrollLeft,top:Jd.scrollTop});"function"===typeof $c.focus&&$c.focus();for($c=0;$c<Bd.length;$c++)Jd=Bd[$c],Jd.element.scrollLeft=Jd.left,Jd.element.scrollTop=Jd.top}Bj=!!ch;Rh=ch=null;q.current=da;ze=Qa;do try{for($c=
q;null!==ze;){var Ae=ze.flags;Ae&36&&Q($c,ze.alternate,ze);if(Ae&128){Bd=void 0;var hf=ze.ref;if(null!==hf){var Kf=ze.stateNode;switch(ze.tag){case 5:Bd=Kf;break;default:Bd=Kf}"function"===typeof hf?hf(Bd):hf.current=Bd}}ze=ze.nextEffect}}catch(xf){if(null===ze)throw Error(k(330));Ah(ze,xf);ze=ze.nextEffect}while(null!==ze);ze=null;Nl();Ne=ib}else q.current=da;if(Ci)Ci=!1,mk=q,Oj=J;else for(ze=Qa;null!==ze;)J=ze.nextEffect,ze.nextEffect=null,ze.flags&8&&(Ae=ze,Ae.sibling=null,Ae.stateNode=null),ze=
J;Qa=q.pendingLanes;0===Qa&&(ki=null);1===Qa?q===kk?jk++:(jk=0,kk=q):jk=0;da=da.stateNode;if(lj&&"function"===typeof lj.onCommitFiberRoot)try{lj.onCommitFiberRoot(el,da,void 0,64===(da.current.flags&64))}catch(xf){}Sd(q,gh());if(kj)throw kj=!1,q=Lk,Lk=null,q;if(0!==(Ne&8))return null;Ea();return null}function Bh(){for(;null!==ze;){var q=ze.alternate;th||null===Nj||(0!==(ze.flags&8)?Ga(ze,Nj)&&(th=!0):13===ze.tag&&zd(q,ze)&&Ga(ze,Nj)&&(th=!0));var J=ze.flags;0!==(J&256)&&r(q,ze);0===(J&512)||Ci||(Ci=
!0,wa(97,function(){sh();return null}));ze=ze.nextEffect}}function sh(){if(90!==Oj){var q=97<Oj?97:Oj;Oj=90;return yc(q,nk)}return!1}function Ti(q,J){ok.push(J,q);Ci||(Ci=!0,wa(97,function(){sh();return null}))}function hk(q,J){hl.push(J,q);Ci||(Ci=!0,wa(97,function(){sh();return null}))}function nk(){if(null===mk)return!1;var q=mk;mk=null;if(0!==(Ne&48))throw Error(k(331));var J=Ne;Ne|=32;var da=hl;hl=[];for(var Qa=0;Qa<da.length;Qa+=2){var ib=da[Qa],yb=da[Qa+1],Ob=ib.destroy;ib.destroy=void 0;if("function"===
typeof Ob)try{Ob()}catch(Fc){if(null===yb)throw Error(k(330));Ah(yb,Fc)}}da=ok;ok=[];for(Qa=0;Qa<da.length;Qa+=2){ib=da[Qa];yb=da[Qa+1];try{var fc=ib.create;ib.destroy=fc()}catch(Fc){if(null===yb)throw Error(k(330));Ah(yb,Fc)}}for(fc=q.current.firstEffect;null!==fc;)q=fc.nextEffect,fc.nextEffect=null,fc.flags&8&&(fc.sibling=null,fc.stateNode=null),fc=q;Ne=J;Ea();return!0}function Pj(q,J,da){J=ob(da,J);J=Mb(q,J,1);od(q,J);J=bd();q=ee(q,1);null!==q&&(wd(q,1,J),Sd(q,J))}function Ah(q,J){if(3===q.tag)Pj(q,
q,J);else for(var da=q.return;null!==da;){if(3===da.tag){Pj(da,q,J);break}else if(1===da.tag){var Qa=da.stateNode;if("function"===typeof da.type.getDerivedStateFromError||"function"===typeof Qa.componentDidCatch&&(null===ki||!ki.has(Qa))){q=ob(J,q);var ib=bc(da,q,1);od(da,ib);ib=bd();da=ee(da,1);if(null!==da)wd(da,1,ib),Sd(da,ib);else if("function"===typeof Qa.componentDidCatch&&(null===ki||!ki.has(Qa)))try{Qa.componentDidCatch(J,q)}catch(yb){}break}}da=da.return}}function nj(q,J,da){var Qa=q.pingCache;
null!==Qa&&Qa.delete(J);J=bd();q.pingedLanes|=q.suspendedLanes&da;ah===q&&(fg&da)===da&&(4===bh||3===bh&&(fg&62914560)===fg&&500>gh()-Mk?dg(q,0):Lj|=da);Sd(q,J)}function Nk(q,J){var da=q.stateNode;null!==da&&da.delete(J);J=0;0===J&&(J=q.mode,0===(J&2)?J=1:0===(J&4)?J=99===Bf()?1:2:(0===ai&&(ai=mj),J=Fd(62914560&~ai),0===J&&(J=4194304)));da=bd();q=ee(q,J);null!==q&&(wd(q,J,da),Sd(q,da))}function Fg(q,J,da,Qa){this.tag=q;this.key=da;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=
null;this.index=0;this.ref=null;this.pendingProps=J;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Qa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function kh(q,J,da,Qa){return new Fg(q,J,da,Qa)}function Jj(q){q=q.prototype;return!(!q||!q.isReactComponent)}function oj(q){if("function"===typeof q)return Jj(q)?1:0;if(void 0!==q&&null!==q){q=q.$$typeof;if(q===wf)return 11;if(q===ci)return 14}return 2}
function qg(q,J){var da=q.alternate;null===da?(da=kh(q.tag,J,q.key,q.mode),da.elementType=q.elementType,da.type=q.type,da.stateNode=q.stateNode,da.alternate=q,q.alternate=da):(da.pendingProps=J,da.type=q.type,da.flags=0,da.nextEffect=null,da.firstEffect=null,da.lastEffect=null);da.childLanes=q.childLanes;da.lanes=q.lanes;da.child=q.child;da.memoizedProps=q.memoizedProps;da.memoizedState=q.memoizedState;da.updateQueue=q.updateQueue;J=q.dependencies;da.dependencies=null===J?null:{lanes:J.lanes,firstContext:J.firstContext};
da.sibling=q.sibling;da.index=q.index;da.ref=q.ref;return da}function yi(q,J,da,Qa,ib,yb){var Ob=2;Qa=q;if("function"===typeof q)Jj(q)&&(Ob=1);else if("string"===typeof q)Ob=5;else a:switch(q){case Zg:return zi(da.children,ib,yb,J);case pk:Ob=8;ib|=16;break;case Eg:Ob=8;ib|=1;break;case bi:return q=kh(12,da,J,ib|8),q.elementType=bi,q.type=bi,q.lanes=yb,q;case Ff:return q=kh(13,da,J,ib),q.type=Ff,q.elementType=Ff,q.lanes=yb,q;case Ag:return q=kh(19,da,J,ib),q.elementType=Ag,q.lanes=yb,q;case pj:return Ai(da,
ib,yb,J);case mi:return q=kh(24,da,J,ib),q.elementType=mi,q.lanes=yb,q;default:if("object"===typeof q&&null!==q)switch(q.$$typeof){case eh:Ob=10;break a;case Fi:Ob=9;break a;case wf:Ob=11;break a;case ci:Ob=14;break a;case Gh:Ob=16;Qa=null;break a;case Jg:Ob=22;break a}throw Error(k(130,null==q?q:typeof q,""));}J=kh(Ob,da,J,ib);J.elementType=q;J.type=Qa;J.lanes=yb;return J}function zi(q,J,da,Qa){q=kh(7,q,Qa,J);q.lanes=da;return q}function Ai(q,J,da,Qa){q=kh(23,q,Qa,J);q.elementType=pj;q.lanes=da;
return q}function Hj(q,J,da){q=kh(6,q,null,J);q.lanes=da;return q}function Qi(q,J,da){J=kh(4,null!==q.children?q.children:[],q.key,J);J.lanes=da;J.stateNode={containerInfo:q.containerInfo,pendingChildren:null,implementation:q.implementation};return J}function ni(q,J,da){this.tag=J;this.containerInfo=q;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=da;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=
ge(0);this.expirationTimes=ge(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=ge(0);this.mutableSourceEagerHydrationData=null}function Ui(q,J,da){var Qa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wg,key:null==Qa?null:""+Qa,children:q,containerInfo:J,implementation:da}}function qj(q,J,da,Qa){var ib=J.current,yb=bd(),Ob=Jc(ib);a:if(da){da=da._reactInternals;
b:{if(na(da)!==da||1!==da.tag)throw Error(k(170));var fc=da;do{switch(fc.tag){case 3:fc=fc.stateNode.context;break b;case 1:if(Fe(fc.type)){fc=fc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}fc=fc.return}while(null!==fc);throw Error(k(171));}if(1===da.tag){var Fc=da.type;if(Fe(Fc)){da=Yf(da,Fc,fc);break a}}da=fc}else da=Rg;null===J.context?J.context=da:J.pendingContext=da;J=Nd(yb,Ob);J.payload={element:q};Qa=void 0===Qa?null:Qa;null!==Qa&&(J.callback=Qa);od(ib,J);ud(ib,Ob,yb);return Ob}
function hh(q){q=q.current;if(!q.child)return null;switch(q.child.tag){case 5:return q.child.stateNode;default:return q.child.stateNode}}function Vi(q,J){q=q.memoizedState;if(null!==q&&null!==q.dehydrated){var da=q.retryLane;q.retryLane=0!==da&&da<J?da:J}}function Qj(q,J){Vi(q,J);(q=q.alternate)&&Vi(q,J)}function Tk(){return null}function rj(q,J,da){var Qa=null!=da&&null!=da.hydrationOptions&&da.hydrationOptions.mutableSources||null;da=new ni(q,J,null!=da&&!0===da.hydrate);J=kh(3,null,null,2===J?
7:1===J?3:0);da.current=J;J.stateNode=da;gd(J);q[Ej]=da.current;ef(8===q.nodeType?q.parentNode:q);if(Qa)for(q=0;q<Qa.length;q++){J=Qa[q];var ib=J._getVersion;ib=ib(J._source);null==da.mutableSourceEagerHydrationData?da.mutableSourceEagerHydrationData=[J,ib]:da.mutableSourceEagerHydrationData.push(J,ib)}this._internalRoot=da}function sj(q){return!(!q||1!==q.nodeType&&9!==q.nodeType&&11!==q.nodeType&&(8!==q.nodeType||" react-mount-point-unstable "!==q.nodeValue))}function og(q,J){J||(J=q?9===q.nodeType?
q.documentElement:q.firstChild:null,J=!(!J||1!==J.nodeType||!J.hasAttribute("data-reactroot")));if(!J)for(var da;da=q.lastChild;)q.removeChild(da);return new rj(q,0,J?{hydrate:!0}:void 0)}function Wi(q,J,da,Qa,ib){var yb=da._reactRootContainer;if(yb){var Ob=yb._internalRoot;if("function"===typeof ib){var fc=ib;ib=function(){var sd=hh(Ob);fc.call(sd)}}qj(J,Ob,q,ib)}else{yb=da._reactRootContainer=og(da,Qa);Ob=yb._internalRoot;if("function"===typeof ib){var Fc=ib;ib=function(){var sd=hh(Ob);Fc.call(sd)}}Re(function(){qj(J,
Ob,q,ib)})}return hh(Ob)}function oi(q,J){var da=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sj(J))throw Error(k(200));return Ui(q,J,null,da)}var Gi=A(3),lg=A(0),Dg=A(6);if(!Gi)throw Error(k(227));var Ei=new Set,vh={},Sh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Yj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Vj=Object.prototype.hasOwnProperty,Xj={},Wj={},vg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(q){vg[q]=new v(q,0,!1,q,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(q){var J=q[0];vg[J]=new v(J,1,!1,q[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(q){vg[q]=
new v(q,2,!1,q.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(q){vg[q]=new v(q,2,!1,q,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(q){vg[q]=new v(q,3,!1,q.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(q){vg[q]=new v(q,3,!0,q,null,!1,!1)});["capture","download"].forEach(function(q){vg[q]=new v(q,4,!1,q,null,!1,!1)});["cols","rows","size","span"].forEach(function(q){vg[q]=new v(q,6,!1,q,null,!1,!1)});["rowSpan","start"].forEach(function(q){vg[q]=new v(q,5,!1,q.toLowerCase(),null,!1,!1)});var tj=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(q){var J=
q.replace(tj,u);vg[J]=new v(J,1,!1,q,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(q){var J=q.replace(tj,u);vg[J]=new v(J,1,!1,q,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(q){var J=q.replace(tj,u);vg[J]=new v(J,1,!1,q,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(q){vg[q]=new v(q,1,!1,q.toLowerCase(),null,!1,!1)});vg.xlinkHref=new v("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(q){vg[q]=new v(q,1,!1,q.toLowerCase(),null,!0,!0)});var Th=Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=60103,wg=60106,Zg=60107,Eg=60108,bi=60114,eh=60109,Fi=60110,wf=60112,Ff=60113,Ag=60120,ci=60115,Gh=60116,Jg=60121,Zh=60128,pk=60129,pj=60130,mi=60131;if("function"===typeof Symbol&&Symbol.for){var ug=Symbol.for;Ri=ug("react.element");wg=ug("react.portal");Zg=ug("react.fragment");
Eg=ug("react.strict_mode");bi=ug("react.profiler");eh=ug("react.provider");Fi=ug("react.context");wf=ug("react.forward_ref");Ff=ug("react.suspense");Ag=ug("react.suspense_list");ci=ug("react.memo");Gh=ug("react.lazy");Jg=ug("react.block");ug("react.scope");Zh=ug("react.opaque.id");pk=ug("react.debug_trace_mode");pj=ug("react.offscreen");mi=ug("react.legacy_hidden")}var ri="function"===typeof Symbol&&Symbol.iterator,dh,Aj=!1,Vg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},Ch,Kj=function(q){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(J,da,Qa,ib){MSApp.execUnsafeLocalFunction(function(){return q(J,da,Qa,ib)})}:q}(function(q,J){if(q.namespaceURI!==Vg.svg||"innerHTML"in q)q.innerHTML=J;else{Ch=Ch||document.createElement("div");Ch.innerHTML="\x3csvg\x3e"+J.valueOf().toString()+"\x3c/svg\x3e";for(J=Ch.firstChild;q.firstChild;)q.removeChild(q.firstChild);for(;J.firstChild;)q.appendChild(J.firstChild)}}),Vh={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dh=["Webkit","ms","Moz","O"];Object.keys(Vh).forEach(function(q){Dh.forEach(function(J){J=J+q.charAt(0).toUpperCase()+q.substring(1);Vh[J]=Vh[q]})});var Hi=lg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),di=null,pf=null,mh=null,mg=Da,Tf=!1,ei=!1,Li=!1;if(Sh)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Li=
!0}});window.addEventListener("test",Xi,Xi);window.removeEventListener("test",Xi,Xi)}catch(q){Li=!1}var fi=!1,Wh=null,Hh=!1,gi=null,Te={onError:function(q){fi=!0;Wh=q}},dj=!1,ih=[],wh=null,Ih=null,Xh=null,Ii=new Map,si=new Map,Kh=[],ti="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),jh=
{animationend:mb("Animation","AnimationEnd"),animationiteration:mb("Animation","AnimationIteration"),animationstart:mb("Animation","AnimationStart"),transitionend:mb("Transition","TransitionEnd")},kg={},Ji={};Sh&&(Ji=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);var xh=hc("animationend"),Cj=hc("animationiteration"),
ak=hc("animationstart"),Ph=hc("transitionend"),Yh=new Map,Zj=new Map,qk=["abort","abort",xh,"animationEnd",Cj,"animationIteration",ak,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ph,"transitionEnd","waiting","waiting"],Di=Dg.unstable_now;Di();var ag=8,Lh=Math.clz32?Math.clz32:vd,oh=Math.log,Mh=Math.LN2,Nh=Dg.unstable_UserBlockingPriority,ej=Dg.unstable_runWithPriority,Bj=!0,ph=null,ui=null,Og=null,Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(q){return q.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Ka(Hg),Uh=lg({},Hg,{view:0,detail:0}),
Dj=Ka(Uh),lh,pi,Yi,Gg=lg({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wb,button:0,buttons:0,relatedTarget:function(q){return void 0===q.relatedTarget?q.fromElement===q.srcElement?q.toElement:q.fromElement:q.relatedTarget},movementX:function(q){if("movementX"in q)return q.movementX;q!==Yi&&(Yi&&"mousemove"===q.type?(lh=q.screenX-Yi.screenX,pi=q.screenY-Yi.screenY):pi=lh=0,Yi=q);return lh},movementY:function(q){return"movementY"in
q?q.movementY:pi}}),gj=Ka(Gg),rk=lg({},Gg,{dataTransfer:0}),Oh=Ka(rk),Zi=lg({},Uh,{relatedTarget:0}),vi=Ka(Zi),$i=lg({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),Mi=Ka($i),aj=lg({},Hg,{clipboardData:function(q){return"clipboardData"in q?q.clipboardData:window.clipboardData}}),Ak=Ka(aj),sk=lg({},Hg,{data:0}),ij=Ka(sk),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},uj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ki={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
Uk=lg({},Uh,{key:function(q){if(q.key){var J=bj[q.key]||q.key;if("Unidentified"!==J)return J}return"keypress"===q.type?(q=Vc(q),13===q?"Enter":String.fromCharCode(q)):"keydown"===q.type||"keyup"===q.type?uj[q.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wb,charCode:function(q){return"keypress"===q.type?Vc(q):0},keyCode:function(q){return"keydown"===q.type||"keyup"===q.type?q.keyCode:0},which:function(q){return"keypress"===
q.type?Vc(q):"keydown"===q.type||"keyup"===q.type?q.keyCode:0}}),fj=Ka(Uk),vj=lg({},Gg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Ka(vj),eg=lg({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wb}),xg=Ka(eg),il=lg({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),hj=Ka(il),b=lg({},Gg,{deltaX:function(q){return"deltaX"in q?q.deltaX:"wheelDeltaX"in q?-q.wheelDeltaX:
0},deltaY:function(q){return"deltaY"in q?q.deltaY:"wheelDeltaY"in q?-q.wheelDeltaY:"wheelDelta"in q?-q.wheelDelta:0},deltaZ:0,deltaMode:0}),p=Ka(b),X=[9,13,27,32],S=Sh&&"CompositionEvent"in window,ea=null;Sh&&"documentMode"in document&&(ea=document.documentMode);var La=Sh&&"TextEvent"in window&&!ea,Xa=Sh&&(!S||ea&&8<ea&&11>=ea),ab=String.fromCharCode(32),tb=!1,Ib=!1,dc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},Rc=null,vc=null,wc=!1;if(Sh){if(Sh){var td="oninput"in document;if(!td){var ce=document.createElement("div");ce.setAttribute("oninput","return;");td="function"===typeof ce.oninput}var Se=td}else Se=!1;wc=Se&&(!document.documentMode||9<document.documentMode)}var bf="function"===typeof Object.is?Object.is:uc,He=Object.prototype.hasOwnProperty,cg=Sh&&"documentMode"in document&&11>=document.documentMode,Af=null,bg=null,Wf=null,qf=!1;jc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);jc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);jc(qk,2);for(var gg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Rf=0;Rf<gg.length;Rf++)Zj.set(gg[Rf],0);w("onMouseEnter",["mouseout","mouseover"]);w("onMouseLeave",
["mouseout","mouseover"]);w("onPointerEnter",["pointerout","pointerover"]);w("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Of)),Pg="_reactListening"+Math.random().toString(36).slice(2),
ch=null,Rh=null,li="function"===typeof setTimeout?setTimeout:void 0,Mj="function"===typeof clearTimeout?clearTimeout:void 0,Vk=0,tk=Math.random().toString(36).slice(2),wi="__reactFiber$"+tk,Bk="__reactProps$"+tk,Ej="__reactContainer$"+tk,Zk="__reactEvents$"+tk,$k=[],ng=-1,Rg={},Sg=Gc(Rg),Lg=Gc(!1),Ni=Rg,el=null,lj=null,tl=Dg.unstable_runWithPriority,Dk=Dg.unstable_scheduleCallback,ck=Dg.unstable_cancelCallback,Pk=Dg.unstable_shouldYield,xl=Dg.unstable_requestPaint,uk=Dg.unstable_now,pl=Dg.unstable_getCurrentPriorityLevel,
Ck=Dg.unstable_ImmediatePriority,bk=Dg.unstable_UserBlockingPriority,ql=Dg.unstable_NormalPriority,rl=Dg.unstable_LowPriority,sl=Dg.unstable_IdlePriority,fl={},Nl=void 0!==xl?xl:function(){},xi=null,Fj=null,al=!1,yl=uk(),gh=1E4>yl?uk:function(){return uk()-yl},Ll=Th.ReactCurrentBatchConfig,Ek=Gc(null),Gj=null,Pi=null,Oi=null,hi=!1,ul=(new Gi.Component).refs,Fk={isMounted:function(q){return(q=q._reactInternals)?na(q)===q:!1},enqueueSetState:function(q,J,da){q=q._reactInternals;var Qa=bd(),ib=Jc(q),
yb=Nd(Qa,ib);yb.payload=J;void 0!==da&&null!==da&&(yb.callback=da);od(q,yb);ud(q,ib,Qa)},enqueueReplaceState:function(q,J,da){q=q._reactInternals;var Qa=bd(),ib=Jc(q),yb=Nd(Qa,ib);yb.tag=1;yb.payload=J;void 0!==da&&null!==da&&(yb.callback=da);od(q,yb);ud(q,ib,Qa)},enqueueForceUpdate:function(q,J){q=q._reactInternals;var da=bd(),Qa=Jc(q),ib=Nd(da,Qa);ib.tag=2;void 0!==J&&null!==J&&(ib.callback=J);od(q,ib);ud(q,Qa,da)}},Gk=Array.isArray,Jk=Zf(!0),Je=Zf(!1),ii={},qh=Gc(ii),ji=Gc(ii),rf=Gc(ii),of=Gc(0),
Hd=null,Tg=null,fh=!1,jj=[],Ij=Th.ReactCurrentDispatcher,yh=Th.ReactCurrentBatchConfig,ek=0,rg=null,$g=null,Ug=null,Ik=!1,fk=!1,Hk={readContext:Oc,useCallback:nd,useContext:nd,useEffect:nd,useImperativeHandle:nd,useLayoutEffect:nd,useMemo:nd,useReducer:nd,useRef:nd,useState:nd,useDebugValue:nd,useDeferredValue:nd,useTransition:nd,useMutableSource:nd,useOpaqueIdentifier:nd,unstable_isNewReconciler:!1},Hl={readContext:Oc,useCallback:function(q,J){je().memoizedState=[q,void 0===J?null:J];return q},useContext:Oc,
useEffect:xa,useImperativeHandle:function(q,J,da){da=null!==da&&void 0!==da?da.concat([q]):null;return Lf(4,2,Sa.bind(null,J,q),da)},useLayoutEffect:function(q,J){return Lf(4,2,q,J)},useMemo:function(q,J){var da=je();J=void 0===J?null:J;q=q();da.memoizedState=[q,J];return q},useReducer:function(q,J,da){var Qa=je();J=void 0!==da?da(J):J;Qa.memoizedState=Qa.baseState=J;q=Qa.queue={pending:null,dispatch:null,lastRenderedReducer:q,lastRenderedState:J};q=q.dispatch=Kb.bind(null,rg,q);return[Qa.memoizedState,
q]},useRef:Cf,useState:ne,useDebugValue:hb,useDeferredValue:function(q){var J=ne(q),da=J[0],Qa=J[1];xa(function(){var ib=yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=ne(!1),J=q[0];q=Ab.bind(null,q[1]);Cf(q);return[q,J]},useMutableSource:function(q,J,da){var Qa=je();Qa.memoizedState={refs:{getSnapshot:J,setSnapshot:null},source:q,subscribe:da};return Qe(Qa,q,J,da)},useOpaqueIdentifier:function(){if(fh){var q=!1,J=Be(function(){q||
(q=!0,da("r:"+(Vk++).toString(36)));throw Error(k(355));}),da=ne(J)[1];0===(rg.mode&2)&&(rg.flags|=516,sf(5,function(){da("r:"+(Vk++).toString(36))},void 0,null));return J}J="r:"+(Vk++).toString(36);ne(J);return J},unstable_isNewReconciler:!1},Il={readContext:Oc,useCallback:qb,useContext:Oc,useEffect:za,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Db,useReducer:$d,useRef:Bg,useState:function(){return $d(Le)},useDebugValue:hb,useDeferredValue:function(q){var J=$d(Le),da=J[0],Qa=J[1];za(function(){var ib=
yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=$d(Le)[0];return[Bg().current,q]},useMutableSource:Uf,useOpaqueIdentifier:function(){return $d(Le)[0]},unstable_isNewReconciler:!1},bl={readContext:Oc,useCallback:qb,useContext:Oc,useEffect:za,useImperativeHandle:fb,useLayoutEffect:Na,useMemo:Db,useReducer:Ie,useRef:Bg,useState:function(){return Ie(Le)},useDebugValue:hb,useDeferredValue:function(q){var J=Ie(Le),da=J[0],Qa=J[1];za(function(){var ib=
yh.transition;yh.transition=1;try{Qa(q)}finally{yh.transition=ib}},[q]);return da},useTransition:function(){var q=Ie(Le)[0];return[Bg().current,q]},useMutableSource:Uf,useOpaqueIdentifier:function(){return Ie(Le)[0]},unstable_isNewReconciler:!1},cl=Th.ReactCurrentOwner,$h=!1,gk={dehydrated:null,retryLane:0};var wl=function(q,J){for(var da=J.child;null!==da;){if(5===da.tag||6===da.tag)q.appendChild(da.stateNode);else if(4!==da.tag&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===J)break;
for(;null===da.sibling;){if(null===da.return||da.return===J)return;da=da.return}da.sibling.return=da.return;da=da.sibling}};var zh=function(){};var Kk=function(q,J,da,Qa){var ib=q.memoizedProps;if(ib!==Qa){q=J.stateNode;yf(qh.current);var yb=null;switch(da){case "input":ib=F(q,ib);Qa=F(q,Qa);yb=[];break;case "option":ib=fa(q,ib);Qa=fa(q,Qa);yb=[];break;case "select":ib=lg({},ib,{value:void 0});Qa=lg({},Qa,{value:void 0});yb=[];break;case "textarea":ib=la(q,ib);Qa=la(q,Qa);yb=[];break;default:"function"!==
typeof ib.onClick&&"function"===typeof Qa.onClick&&(q.onclick=me)}Ia(da,Qa);var Ob;da=null;for(sd in ib)if(!Qa.hasOwnProperty(sd)&&ib.hasOwnProperty(sd)&&null!=ib[sd])if("style"===sd){var fc=ib[sd];for(Ob in fc)fc.hasOwnProperty(Ob)&&(da||(da={}),da[Ob]="")}else"dangerouslySetInnerHTML"!==sd&&"children"!==sd&&"suppressContentEditableWarning"!==sd&&"suppressHydrationWarning"!==sd&&"autoFocus"!==sd&&(vh.hasOwnProperty(sd)?yb||(yb=[]):(yb=yb||[]).push(sd,null));for(sd in Qa){var Fc=Qa[sd];fc=null!=ib?
ib[sd]:void 0;if(Qa.hasOwnProperty(sd)&&Fc!==fc&&(null!=Fc||null!=fc))if("style"===sd)if(fc){for(Ob in fc)!fc.hasOwnProperty(Ob)||Fc&&Fc.hasOwnProperty(Ob)||(da||(da={}),da[Ob]="");for(Ob in Fc)Fc.hasOwnProperty(Ob)&&fc[Ob]!==Fc[Ob]&&(da||(da={}),da[Ob]=Fc[Ob])}else da||(yb||(yb=[]),yb.push(sd,da)),da=Fc;else"dangerouslySetInnerHTML"===sd?(Fc=Fc?Fc.__html:void 0,fc=fc?fc.__html:void 0,null!=Fc&&fc!==Fc&&(yb=yb||[]).push(sd,Fc)):"children"===sd?"string"!==typeof Fc&&"number"!==typeof Fc||(yb=yb||[]).push(sd,
""+Fc):"suppressContentEditableWarning"!==sd&&"suppressHydrationWarning"!==sd&&(vh.hasOwnProperty(sd)?(null!=Fc&&"onScroll"===sd&&fe("scroll",q),yb||fc===Fc||(yb=[])):"object"===typeof Fc&&null!==Fc&&Fc.$$typeof===Zh?Fc.toString():(yb=yb||[]).push(sd,Fc))}da&&(yb=yb||[]).push("style",da);var sd;if(J.updateQueue=yb)J.flags|=4}};var Jl=function(q,J,da,Qa){da!==Qa&&(J.flags|=4)};var Sk="function"===typeof WeakMap?WeakMap:Map,Kl="function"===typeof WeakSet?WeakSet:Set,Rk=Math.ceil,Qk=Th.ReactCurrentDispatcher,
gl=Th.ReactCurrentOwner,Ne=0,ah=null,Mg=null,fg=0,Wg=0,lk=Gc(0),bh=0,Qh=null,mj=0,dk=0,rh=0,Lj=0,Ok=null,Mk=0,dl=Infinity,ze=null,kj=!1,Lk=null,ki=null,Ci=!1,mk=null,Oj=90,ok=[],hl=[],Bi=null,jk=0,kk=null,Cg=-1,ai=0,ik=0,Nj=null,th=!1;var Ml=function(q,J,da){var Qa=J.lanes;if(null!==q)if(q.memoizedProps!==J.pendingProps||Lg.current)$h=!0;else if(0!==(da&Qa))$h=0!==(q.flags&16384)?!0:!1;else{$h=!1;switch(J.tag){case 3:Zb(J);Tg=Hd=null;fh=!1;break;case 5:Aa(J);break;case 1:Fe(J.type)&&If(J);break;case 4:Pe(J,
J.stateNode.containerInfo);break;case 10:Qa=J.memoizedProps.value;var ib=J.type._context;le(Ek,ib._currentValue);ib._currentValue=Qa;break;case 13:if(null!==J.memoizedState){if(0!==(da&J.child.childLanes))return qc(q,J,da);le(of,of.current&1);J=Ad(q,J,da);return null!==J?J.sibling:null}le(of,of.current&1);break;case 19:Qa=0!==(da&J.childLanes);if(0!==(q.flags&64)){if(Qa)return pd(q,J,da);J.flags|=64}ib=J.memoizedState;null!==ib&&(ib.rendering=null,ib.tail=null,ib.lastEffect=null);le(of,of.current);
if(Qa)break;else return null;case 23:case 24:return J.lanes=0,oa(q,J,da)}return Ad(q,J,da)}else $h=!1;J.lanes=0;switch(J.tag){case 2:Qa=J.type;null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2);q=J.pendingProps;ib=kc(J,Sg.current);$b(J,da);ib=de(null,J,Qa,q,ib,da);J.flags|=1;if("object"===typeof ib&&null!==ib&&"function"===typeof ib.render&&void 0===ib.$$typeof){J.tag=1;J.memoizedState=null;J.updateQueue=null;if(Fe(Qa)){var yb=!0;If(J)}else yb=!1;J.memoizedState=null!==ib.state&&void 0!==ib.state?
ib.state:null;gd(J);var Ob=Qa.getDerivedStateFromProps;"function"===typeof Ob&&ie(J,Qa,Ob,q);ib.updater=Fk;J.stateNode=ib;ib._reactInternals=J;We(J,Qa,q,da);J=Sb(null,J,Qa,!0,yb,da)}else J.tag=0,Jb(null,J,ib,da),J=J.child;return J;case 16:ib=J.elementType;a:{null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2);q=J.pendingProps;yb=ib._init;ib=yb(ib._payload);J.type=ib;yb=J.tag=oj(ib);q=Cb(ib,q);switch(yb){case 0:J=Va(null,J,ib,q,da);break a;case 1:J=xb(null,J,ib,q,da);break a;case 11:J=cc(null,
J,ib,q,da);break a;case 14:J=xc(null,J,ib,Cb(ib.type,q),Qa,da);break a}throw Error(k(306,ib,""));}return J;case 0:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),Va(q,J,Qa,ib,da);case 1:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),xb(q,J,Qa,ib,da);case 3:Zb(J);Qa=J.updateQueue;if(null===q||null===Qa)throw Error(k(282));Qa=J.pendingProps;ib=J.memoizedState;ib=null!==ib?ib.element:null;Mc(q,J);jd(J,Qa,null,da);Qa=J.memoizedState.element;if(Qa===ib)Tg=Hd=
null,fh=!1,J=Ad(q,J,da);else{ib=J.stateNode;if(yb=ib.hydrate)Tg=Od(J.stateNode.containerInfo.firstChild),Hd=J,yb=fh=!0;if(yb){q=ib.mutableSourceEagerHydrationData;if(null!=q)for(ib=0;ib<q.length;ib+=2)yb=q[ib],yb._workInProgressVersionPrimary=q[ib+1],jj.push(yb);da=Je(J,null,Qa,da);for(J.child=da;da;)da.flags=da.flags&-3|1024,da=da.sibling}else Jb(q,J,Qa,da),Tg=Hd=null,fh=!1;J=J.child}return J;case 5:return Aa(J),null===q&&ic(J),Qa=J.type,ib=J.pendingProps,yb=null!==q?q.memoizedProps:null,Ob=ib.children,
kf(Qa,ib)?Ob=null:null!==yb&&kf(Qa,yb)&&(J.flags|=16),Oa(q,J),Jb(q,J,Ob,da),J.child;case 6:return null===q&&ic(J),null;case 13:return qc(q,J,da);case 4:return Pe(J,J.stateNode.containerInfo),Qa=J.pendingProps,null===q?J.child=Jk(J,null,Qa,da):Jb(q,J,Qa,da),J.child;case 11:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),cc(q,J,Qa,ib,da);case 7:return Jb(q,J,J.pendingProps,da),J.child;case 8:return Jb(q,J,J.pendingProps.children,da),J.child;case 12:return Jb(q,J,J.pendingProps.children,
da),J.child;case 10:a:{Qa=J.type._context;ib=J.pendingProps;Ob=J.memoizedProps;yb=ib.value;var fc=J.type._context;le(Ek,fc._currentValue);fc._currentValue=yb;if(null!==Ob)if(fc=Ob.value,yb=bf(fc,yb)?0:("function"===typeof Qa._calculateChangedBits?Qa._calculateChangedBits(fc,yb):1073741823)|0,0===yb){if(Ob.children===ib.children&&!Lg.current){J=Ad(q,J,da);break a}}else for(fc=J.child,null!==fc&&(fc.return=J);null!==fc;){var Fc=fc.dependencies;if(null!==Fc){Ob=fc.child;for(var sd=Fc.firstContext;null!==
sd;){if(sd.context===Qa&&0!==(sd.observedBits&yb)){1===fc.tag&&(sd=Nd(-1,da&-da),sd.tag=2,od(fc,sd));fc.lanes|=da;sd=fc.alternate;null!==sd&&(sd.lanes|=da);Yb(fc.return,da);Fc.lanes|=da;break}sd=sd.next}}else Ob=10===fc.tag?fc.type===J.type?null:fc.child:fc.child;if(null!==Ob)Ob.return=fc;else for(Ob=fc;null!==Ob;){if(Ob===J){Ob=null;break}fc=Ob.sibling;if(null!==fc){fc.return=Ob.return;Ob=fc;break}Ob=Ob.return}fc=Ob}Jb(q,J,ib.children,da);J=J.child}return J;case 9:return ib=J.type,yb=J.pendingProps,
Qa=yb.children,$b(J,da),ib=Oc(ib,yb.unstable_observedBits),Qa=Qa(ib),J.flags|=1,Jb(q,J,Qa,da),J.child;case 14:return ib=J.type,yb=Cb(ib,J.pendingProps),yb=Cb(ib.type,yb),xc(q,J,ib,yb,Qa,da);case 15:return Y(q,J,J.type,J.pendingProps,Qa,da);case 17:return Qa=J.type,ib=J.pendingProps,ib=J.elementType===Qa?ib:Cb(Qa,ib),null!==q&&(q.alternate=null,J.alternate=null,J.flags|=2),J.tag=1,Fe(Qa)?(q=!0,If(J)):q=!1,$b(J,da),tf(J,Qa,ib),We(J,Qa,ib,da),Sb(null,J,Qa,!0,q,da);case 19:return pd(q,J,da);case 23:return oa(q,
J,da);case 24:return oa(q,J,da)}throw Error(k(156,J.tag));};rj.prototype.render=function(q){qj(q,this._internalRoot,null,null)};rj.prototype.unmount=function(){var q=this._internalRoot,J=q.containerInfo;qj(null,q,null,function(){J[Ej]=null})};var zk=function(q){if(13===q.tag){var J=bd();ud(q,4,J);Qj(q,4)}};var ol=function(q){if(13===q.tag){var J=bd();ud(q,67108864,J);Qj(q,67108864)}};var Jh=function(q){if(13===q.tag){var J=bd(),da=Jc(q);ud(q,da,J);Qj(q,da)}};var nh=function(q,J){return J()};di=function(q,
J,da){switch(J){case "input":K(q,da);J=da.name;if("radio"===da.type&&null!=J){for(da=q;da.parentNode;)da=da.parentNode;da=da.querySelectorAll("input[name\x3d"+JSON.stringify(""+J)+'][type\x3d"radio"]');for(J=0;J<da.length;J++){var Qa=da[J];if(Qa!==q&&Qa.form===q.form){var ib=Ye(Qa);if(!ib)throw Error(k(90));O(Qa);K(Qa,ib)}}}break;case "textarea":P(q,da);break;case "select":J=da.value,null!=J&&ha(q,!!da.multiple,J,!1)}};Da=pe;ta=function(q,J,da,Qa,ib){var yb=Ne;Ne|=4;try{return yc(98,q.bind(null,J,
da,Qa,ib))}finally{Ne=yb,0===Ne&&(rd(),Ea())}};U=function(){0===(Ne&49)&&(ke(),sh())};mg=function(q,J){var da=Ne;Ne|=2;try{return q(J)}finally{Ne=da,0===Ne&&(rd(),Ea())}};var wj={Events:[Ge,Td,Ye,Ta,Ya,sh,{current:!1}]},vk={findFiberByHostInstance:jf,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},Ol={bundleType:vk.bundleType,version:vk.version,rendererPackageName:vk.rendererPackageName,rendererConfig:vk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Th.ReactCurrentDispatcher,findHostInstanceByFiber:function(q){q=Ca(q);return null===q?null:q.stateNode},findFiberByHostInstance:vk.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Yg.isDisabled&&Yg.supportsFiber)try{el=Yg.inject(Ol),lj=Yg}catch(q){}}E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wj;E.createPortal=oi;E.findDOMNode=function(q){if(null==q)return null;if(1===q.nodeType)return q;var J=q._reactInternals;if(void 0===J){if("function"===typeof q.render)throw Error(k(188));throw Error(k(268,Object.keys(q)));}q=Ca(J);return q=null===q?null:q.stateNode};E.flushSync=function(q,J){var da=Ne;if(0!==(da&48))return q(J);Ne|=1;try{if(q)return yc(99,q.bind(null,J))}finally{Ne=
da,Ea()}};E.hydrate=function(q,J,da){if(!sj(J))throw Error(k(200));return Wi(null,q,J,!0,da)};E.render=function(q,J,da){if(!sj(J))throw Error(k(200));return Wi(null,q,J,!1,da)};E.unmountComponentAtNode=function(q){if(!sj(q))throw Error(k(40));return q._reactRootContainer?(Re(function(){Wi(null,null,q,!1,function(){q._reactRootContainer=null;q[Ej]=null})}),!0):!1};E.unstable_batchedUpdates=pe;E.unstable_createPortal=function(q,J){return oi(q,J,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};E.unstable_renderSubtreeIntoContainer=function(q,J,da,Qa){if(!sj(da))throw Error(k(200));if(null==q||void 0===q._reactInternals)throw Error(k(38));return Wi(q,J,da,!1,Qa)};E.version="17.0.1"};
shadow$provide[12]=function(Ja,A,rb,E){function k(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k)}catch(l){console.error(l)}}k();rb.exports=A(7)};
shadow$provide[13]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=l():"function"===typeof define&&define.amd?define(l):(k="undefined"!==typeof globalThis?globalThis:k||self,k.marked=l())})(this,function(){function k(qa,Fa){for(var na=0;na<Fa.length;na++){var Ra=Fa[na];Ra.enumerable=Ra.enumerable||!1;Ra.configurable=!0;"value"in Ra&&(Ra.writable=!0);Object.defineProperty(qa,Ra.key,Ra)}}function l(qa,Fa,na){Fa&&k(qa.prototype,Fa);na&&k(qa,na);return qa}function w(qa,
Fa){if(qa){if("string"===typeof qa)return H(qa,Fa);var na=Object.prototype.toString.call(qa).slice(8,-1);"Object"===na&&qa.constructor&&(na=qa.constructor.name);if("Map"===na||"Set"===na)return Array.from(qa);if("Arguments"===na||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(na))return H(qa,Fa)}}function H(qa,Fa){if(null==Fa||Fa>qa.length)Fa=qa.length;for(var na=0,Ra=Array(Fa);na<Fa;na++)Ra[na]=qa[na];return Ra}function N(qa,Fa){var na;if("undefined"===typeof Symbol||null==qa[Symbol.iterator]){if(Array.isArray(qa)||
(na=w(qa))||Fa&&qa&&"number"===typeof qa.length){na&&(qa=na);var Ra=0;return function(){return Ra>=qa.length?{done:!0}:{done:!1,value:qa[Ra++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}na=qa[Symbol.iterator]();return na.next.bind(na)}function x(qa){return qa.replace(M,function(Fa,na){na=na.toLowerCase();return"colon"===na?":":"#"===na.charAt(0)?"x"===na.charAt(1)?String.fromCharCode(parseInt(na.substring(2),
16)):String.fromCharCode(+na.substring(1)):""})}function v(qa,Fa,na){var Ra=qa.length;if(0===Ra)return"";for(var db=0;db<Ra;){var $a=qa.charAt(Ra-db-1);if($a!==Fa||na)if($a!==Fa&&na)db++;else break;else db++}return qa.substr(0,Ra-db)}function u(qa,Fa,na){var Ra=Fa.href;Fa=Fa.title?P(Fa.title):null;var db=qa[1].replace(/\\([\[\]])/g,"$1");return"!"!==qa[0].charAt(0)?{type:"link",raw:na,href:Ra,title:Fa,text:db}:{type:"image",raw:na,href:Ra,title:Fa,text:P(db)}}function m(qa,Fa){qa=qa.match(/^(\s+)(?:```)/);
if(null===qa)return Fa;var na=qa[1];return Fa.split("\n").map(function(Ra){var db=Ra.match(/^\s+/);return null===db?Ra:db[0].length>=na.length?Ra.slice(na.length):Ra}).join("\n")}function g(qa){return qa.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function d(qa){var Fa="",na,Ra=qa.length;for(na=0;na<Ra;na++){var db=qa.charCodeAt(na);.5<Math.random()&&(db="x"+
db.toString(16));Fa+="\x26#"+db+";"}return Fa}function f(qa,Fa,na){if("undefined"===typeof qa||null===qa)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(qa)+", string expected");"function"===typeof Fa&&(na=Fa,Fa=null);Fa=W({},f.defaults,Fa||{});ba(Fa);if(na){var Ra=Fa.highlight;try{var db=bb.lex(qa,Fa)}catch(pa){return na(pa)}var $a=function(pa){if(!pa)try{var Ha=U.parse(db,Fa)}catch(Ua){pa=
Ua}Fa.highlight=Ra;return pa?na(pa):na(null,Ha)};if(!Ra||3>Ra.length)return $a();delete Fa.highlight;if(!db.length)return $a();var Ca=0;f.walkTokens(db,function(pa){"code"===pa.type&&(Ca++,setTimeout(function(){Ra(pa.text,pa.lang,function(Ha,Ua){if(Ha)return $a(Ha);null!=Ua&&Ua!==pa.text&&(pa.text=Ua,pa.escaped=!0);Ca--;0===Ca&&$a()})},0))});0===Ca&&$a()}else try{var Ga=bb.lex(qa,Fa);Fa.walkTokens&&f.walkTokens(Ga,Fa.walkTokens);return U.parse(Ga,Fa)}catch(pa){pa.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Fa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ca(pa.message+"",!0)+"\x3c/pre\x3e";throw pa;}}var a=function(qa){var Fa={exports:{}};return qa(Fa,Fa.exports),Fa.exports}(function(qa){function Fa(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}qa.exports={defaults:Fa(),getDefaults:Fa,
changeDefaults:function(na){qa.exports.defaults=na}}}),e=/[&<>"']/,n=/[&<>"']/g,y=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,D={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},O=function(qa){return D[qa]},M=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,F=/(^|[^\[])\^/g,z=/[^\w:]/g,G=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,K={},R=/^[^:]+:\/*[^/]*$/,T=/^([^:]+:)[\s\S]*$/,ja=/^([^:]+:\/*[^/]*)[\s\S]*$/,fa=function(qa,Fa){if(Fa){if(e.test(qa))return qa.replace(n,O)}else if(y.test(qa))return qa.replace(B,
O);return qa},ha=function(qa){for(var Fa=1,na,Ra;Fa<arguments.length;Fa++)for(Ra in na=arguments[Fa],na)Object.prototype.hasOwnProperty.call(na,Ra)&&(qa[Ra]=na[Ra]);return qa},la=a.defaults,Z=function(qa,Fa){qa=qa.replace(/\|/g,function(Ra,db,$a){for(Ra=!1;0<=--db&&"\\"===$a[db];)Ra=!Ra;return Ra?"|":" |"}).split(/ \|/);var na=0;if(qa.length>Fa)qa.splice(Fa);else for(;qa.length<Fa;)qa.push("");for(;na<qa.length;na++)qa[na]=qa[na].trim().replace(/\\\|/g,"|");return qa},P=fa,C=function(){function qa(na){this.options=
na||la}var Fa=qa.prototype;Fa.space=function(na){if(na=this.rules.block.newline.exec(na))return 1<na[0].length?{type:"space",raw:na[0]}:{raw:"\n"}};Fa.code=function(na){if(na=this.rules.block.code.exec(na)){var Ra=na[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:na[0],codeBlockStyle:"indented",text:this.options.pedantic?Ra:v(Ra,"\n")}}};Fa.fences=function(na){if(na=this.rules.block.fences.exec(na)){var Ra=na[0],db=m(Ra,na[3]||"");return{type:"code",raw:Ra,lang:na[2]?na[2].trim():na[2],text:db}}};
Fa.heading=function(na){if(na=this.rules.block.heading.exec(na)){var Ra=na[2].trim();if(/#$/.test(Ra)){var db=v(Ra,"#");if(this.options.pedantic)Ra=db.trim();else if(!db||/ $/.test(db))Ra=db.trim()}return{type:"heading",raw:na[0],depth:na[1].length,text:Ra}}};Fa.nptable=function(na){if(na=this.rules.block.nptable.exec(na))if(na={type:"table",header:Z(na[1].replace(/^ *| *\| *$/g,"")),align:na[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:na[3]?na[3].replace(/\n$/,"").split("\n"):[],raw:na[0]},
na.header.length===na.align.length){var Ra=na.align.length,db;for(db=0;db<Ra;db++)/^ *-+: *$/.test(na.align[db])?na.align[db]="right":/^ *:-+: *$/.test(na.align[db])?na.align[db]="center":/^ *:-+ *$/.test(na.align[db])?na.align[db]="left":na.align[db]=null;Ra=na.cells.length;for(db=0;db<Ra;db++)na.cells[db]=Z(na.cells[db],na.header.length);return na}};Fa.hr=function(na){if(na=this.rules.block.hr.exec(na))return{type:"hr",raw:na[0]}};Fa.blockquote=function(na){if(na=this.rules.block.blockquote.exec(na)){var Ra=
na[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:na[0],text:Ra}}};Fa.list=function(na){var Ra=this.rules.block.list.exec(na);if(Ra){na=Ra[0];var db=Ra[2],$a=1<db.length,Ca={type:"list",raw:na,ordered:$a,start:$a?+db.slice(0,-1):"",loose:!1,items:[]};Ra=Ra[0].match(this.rules.block.item);var Ga=!1,pa,Ha=Ra.length;var Ua=this.rules.block.listItemStart.exec(Ra[0]);for(var jb=0;jb<Ha;jb++){na=pa=Ra[jb];if(jb!==Ha-1){var Fb=this.rules.block.listItemStart.exec(Ra[jb+1]);if(this.options.pedantic?
Fb[1].length>Ua[1].length:Fb[1].length>Ua[0].length||3<Fb[1].length){Ra.splice(jb,2,Ra[jb]+"\n"+Ra[jb+1]);jb--;Ha--;continue}else if(!this.options.pedantic||this.options.smartLists?Fb[2][Fb[2].length-1]!==db[db.length-1]:$a===(1===Fb[2].length))Ua=Ra.slice(jb+1).join("\n"),Ca.raw=Ca.raw.substring(0,Ca.raw.length-Ua.length),jb=Ha-1;Ua=Fb}Fb=pa.length;pa=pa.replace(/^ *([*+-]|\d+[.)]) ?/,"");~pa.indexOf("\n ")&&(Fb-=pa.length,pa=this.options.pedantic?pa.replace(/^ {1,4}/gm,""):pa.replace(new RegExp("^ {1,"+
Fb+"}","gm"),""));Fb=Ga||/\n\n(?!\s*$)/.test(pa);jb!==Ha-1&&(Ga="\n"===pa.charAt(pa.length-1),Fb||(Fb=Ga));Fb&&(Ca.loose=!0);if(this.options.gfm){var Xb=/^\[[ xX]\] /.test(pa);var nc=void 0;Xb&&(nc=" "!==pa[1],pa=pa.replace(/^\[[ xX]\] +/,""))}Ca.items.push({type:"list_item",raw:na,task:Xb,checked:nc,loose:Fb,text:pa})}return Ca}};Fa.html=function(na){if(na=this.rules.block.html.exec(na))return{type:this.options.sanitize?"paragraph":"html",raw:na[0],pre:!this.options.sanitizer&&("pre"===na[1]||"script"===
na[1]||"style"===na[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]}};Fa.def=function(na){if(na=this.rules.block.def.exec(na))return na[3]&&(na[3]=na[3].substring(1,na[3].length-1)),{tag:na[1].toLowerCase().replace(/\s+/g," "),raw:na[0],href:na[2],title:na[3]}};Fa.table=function(na){var Ra=this.rules.block.table.exec(na);if(Ra&&(na={type:"table",header:Z(Ra[1].replace(/^ *| *\| *$/g,"")),align:Ra[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:Ra[3]?
Ra[3].replace(/\n$/,"").split("\n"):[]},na.header.length===na.align.length)){na.raw=Ra[0];Ra=na.align.length;var db;for(db=0;db<Ra;db++)/^ *-+: *$/.test(na.align[db])?na.align[db]="right":/^ *:-+: *$/.test(na.align[db])?na.align[db]="center":/^ *:-+ *$/.test(na.align[db])?na.align[db]="left":na.align[db]=null;Ra=na.cells.length;for(db=0;db<Ra;db++)na.cells[db]=Z(na.cells[db].replace(/^ *\| *| *\| *$/g,""),na.header.length);return na}};Fa.lheading=function(na){if(na=this.rules.block.lheading.exec(na))return{type:"heading",
raw:na[0],depth:"\x3d"===na[2].charAt(0)?1:2,text:na[1]}};Fa.paragraph=function(na){if(na=this.rules.block.paragraph.exec(na))return{type:"paragraph",raw:na[0],text:"\n"===na[1].charAt(na[1].length-1)?na[1].slice(0,-1):na[1]}};Fa.text=function(na){if(na=this.rules.block.text.exec(na))return{type:"text",raw:na[0],text:na[0]}};Fa.escape=function(na){if(na=this.rules.inline.escape.exec(na))return{type:"escape",raw:na[0],text:P(na[1])}};Fa.tag=function(na,Ra,db){if(na=this.rules.inline.tag.exec(na))return!Ra&&
/^<a /i.test(na[0])?Ra=!0:Ra&&/^<\/a>/i.test(na[0])&&(Ra=!1),!db&&/^<(pre|code|kbd|script)(\s|>)/i.test(na[0])?db=!0:db&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(na[0])&&(db=!1),{type:this.options.sanitize?"text":"html",raw:na[0],inLink:Ra,inRawBlock:db,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]}};Fa.link=function(na){if(na=this.rules.inline.link.exec(na)){var Ra=na[2].trim();if(!this.options.pedantic&&/^</.test(Ra)){if(!/>$/.test(Ra))return;var db=
v(Ra.slice(0,-1),"\\");if(0===(Ra.length-db.length)%2)return}else{a:{db=na[2];if(-1!==db.indexOf(")"))for(var $a=db.length,Ca=0,Ga=0;Ga<$a;Ga++)if("\\"===db[Ga])Ga++;else if("("===db[Ga])Ca++;else if(")"===db[Ga]&&(Ca--,0>Ca)){db=Ga;break a}db=-1}-1<db&&($a=(0===na[0].indexOf("!")?5:4)+na[1].length+db,na[2]=na[2].substring(0,db),na[0]=na[0].substring(0,$a).trim(),na[3]="")}db=na[2];$a="";if(this.options.pedantic){if(Ca=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(db))db=Ca[1],$a=Ca[3]}else $a=na[3]?na[3].slice(1,
-1):"";db=db.trim();/^</.test(db)&&(db=this.options.pedantic&&!/>$/.test(Ra)?db.slice(1):db.slice(1,-1));return u(na,{href:db?db.replace(this.rules.inline._escapes,"$1"):db,title:$a?$a.replace(this.rules.inline._escapes,"$1"):$a},na[0])}};Fa.reflink=function(na,Ra){var db;if((db=this.rules.inline.reflink.exec(na))||(db=this.rules.inline.nolink.exec(na)))return na=(db[2]||db[1]).replace(/\s+/g," "),na=Ra[na.toLowerCase()],na&&na.href?u(db,na,db[0]):(Ra=db[0].charAt(0),{type:"text",raw:Ra,text:Ra})};
Fa.emStrong=function(na,Ra,db){void 0===db&&(db="");var $a=this.rules.inline.emStrong.lDelim.exec(na);if($a&&(!$a[3]||!db.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ca=
$a[1]||$a[2]||"";if(!Ca||Ca&&(""===db||this.rules.inline.punctuation.exec(db))){db=$a[0].length-1;var Ga;Ca=db;var pa=0,Ha="*"===$a[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;Ha.lastIndex=0;for(Ra=Ra.slice(-1*na.length+db);null!=($a=Ha.exec(Ra));)if(Ga=$a[1]||$a[2]||$a[3]||$a[4]||$a[5]||$a[6])if(Ga=Ga.length,$a[3]||$a[4])Ca+=Ga;else if(($a[5]||$a[6])&&db%3&&!((db+Ga)%3))pa+=Ga;else if(Ca-=Ga,!(0<Ca)){0>=Ca+pa-Ga&&!Ra.slice(Ha.lastIndex).match(Ha)&&(Ga=Math.min(Ga,
Ga+Ca+pa));if(Math.min(db,Ga)%2)return{type:"em",raw:na.slice(0,db+$a.index+Ga+1),text:na.slice(1,db+$a.index+Ga)};if(0===Math.min(db,Ga)%2)return{type:"strong",raw:na.slice(0,db+$a.index+Ga+1),text:na.slice(2,db+$a.index+Ga-1)}}}}};Fa.codespan=function(na){if(na=this.rules.inline.code.exec(na)){var Ra=na[2].replace(/\n/g," "),db=/[^ ]/.test(Ra),$a=/^ /.test(Ra)&&/ $/.test(Ra);db&&$a&&(Ra=Ra.substring(1,Ra.length-1));Ra=P(Ra,!0);return{type:"codespan",raw:na[0],text:Ra}}};Fa.br=function(na){if(na=
this.rules.inline.br.exec(na))return{type:"br",raw:na[0]}};Fa.del=function(na){if(na=this.rules.inline.del.exec(na))return{type:"del",raw:na[0],text:na[2]}};Fa.autolink=function(na,Ra){if(na=this.rules.inline.autolink.exec(na)){if("@"===na[2]){Ra=P(this.options.mangle?Ra(na[1]):na[1]);var db="mailto:"+Ra}else db=Ra=P(na[1]);return{type:"link",raw:na[0],text:Ra,href:db,tokens:[{type:"text",raw:Ra,text:Ra}]}}};Fa.url=function(na,Ra){if(na=this.rules.inline.url.exec(na)){if("@"===na[2]){Ra=P(this.options.mangle?
Ra(na[0]):na[0]);var db="mailto:"+Ra}else{do Ra=na[0],na[0]=this.rules.inline._backpedal.exec(na[0])[0];while(Ra!==na[0]);Ra=P(na[0]);db="www."===na[1]?"http://"+Ra:Ra}return{type:"link",raw:na[0],text:Ra,href:db,tokens:[{type:"text",raw:Ra,text:Ra}]}}};Fa.inlineText=function(na,Ra,db){if(na=this.rules.inline.text.exec(na))return Ra=Ra?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(na[0]):P(na[0]):na[0]:P(this.options.smartypants?db(na[0]):na[0]),{type:"text",raw:na[0],text:Ra}};
return qa}(),V={exec:function(){}},ia=function(qa,Fa){qa=qa.source||qa;Fa=Fa||"";var na={replace:function(Ra,db){db=db.source||db;db=db.replace(F,"$1");qa=qa.replace(Ra,db);return na},getRegex:function(){return new RegExp(qa,Fa)}};return na},aa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};aa.def=ia(aa.def).replace("label",aa._label).replace("title",aa._title).getRegex();aa.bullet=/(?:[*+-]|\d{1,9}[.)])/;aa.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
aa.item=ia(aa.item,"gm").replace(/bull/g,aa.bullet).getRegex();aa.listItemStart=ia(/^( *)(bull)/).replace("bull",aa.bullet).getRegex();aa.list=ia(aa.list).replace(/bull/g,aa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+aa.def.source+")").getRegex();aa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
aa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;aa.html=ia(aa.html,"i").replace("comment",aa._comment).replace("tag",aa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();aa.paragraph=ia(aa._paragraph).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.blockquote=ia(aa.blockquote).replace("paragraph",aa.paragraph).getRegex();aa.normal=ha({},aa);aa.gfm=ha({},aa.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});aa.gfm.nptable=
ia(aa.gfm.nptable).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.gfm.table=ia(aa.gfm.table).replace("hr",aa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences",
" {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",aa._tag).getRegex();aa.pedantic=ha({},aa.normal,{html:ia("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",aa._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:V,paragraph:ia(aa.normal._paragraph).replace("hr",aa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",aa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ya={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/__[^_]*?\*[^_]*?__|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,
rDelimUnd:/\*\*[^*]*?_[^*]*?\*\*|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};ya.punctuation=ia(ya.punctuation).replace(/punctuation/g,ya._punctuation).getRegex();
ya.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ya.escapedEmSt=/\\\*|\\_/g;ya._comment=ia(aa._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();ya.emStrong.lDelim=ia(ya.emStrong.lDelim).replace(/punct/g,ya._punctuation).getRegex();ya.emStrong.rDelimAst=ia(ya.emStrong.rDelimAst,"g").replace(/punct/g,ya._punctuation).getRegex();ya.emStrong.rDelimUnd=ia(ya.emStrong.rDelimUnd,"g").replace(/punct/g,ya._punctuation).getRegex();ya._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ya._scheme=
/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ya._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ya.autolink=ia(ya.autolink).replace("scheme",ya._scheme).replace("email",ya._email).getRegex();ya._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ya.tag=ia(ya.tag).replace("comment",ya._comment).replace("attribute",ya._attribute).getRegex();ya._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;
ya._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ya._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ya.link=ia(ya.link).replace("label",ya._label).replace("href",ya._href).replace("title",ya._title).getRegex();ya.reflink=ia(ya.reflink).replace("label",ya._label).getRegex();ya.reflinkSearch=ia(ya.reflinkSearch,"g").replace("reflink",ya.reflink).replace("nolink",ya.nolink).getRegex();ya.normal=ha({},ya);ya.pedantic=ha({},ya.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ia(/^!?\[(label)\]\((.*?)\)/).replace("label",ya._label).getRegex(),reflink:ia(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ya._label).getRegex()});ya.gfm=ha({},ya.normal,{escape:ia(ya.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,
_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});ya.gfm.url=ia(ya.gfm.url,"i").replace("email",ya.gfm._extended_email).getRegex();ya.breaks=ha({},ya.gfm,{br:ia(ya.br).replace("{2,}","*").getRegex(),
text:ia(ya.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var va=a.defaults,Ia=function(qa,Fa){if(1>Fa)return"";for(var na="";1<Fa;)Fa&1&&(na+=qa),Fa>>=1,qa+=qa;return na+qa},bb=function(){function qa(na){this.tokens=[];this.tokens.links=Object.create(null);this.options=na||va;this.options.tokenizer=this.options.tokenizer||new C;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;na={block:aa.normal,inline:ya.normal};this.options.pedantic?(na.block=
aa.pedantic,na.inline=ya.pedantic):this.options.gfm&&(na.block=aa.gfm,na.inline=this.options.breaks?ya.breaks:ya.gfm);this.tokenizer.rules=na}qa.lex=function(na,Ra){return(new qa(Ra)).lex(na)};qa.lexInline=function(na,Ra){return(new qa(Ra)).inlineTokens(na)};var Fa=qa.prototype;Fa.lex=function(na){na=na.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(na,this.tokens,!0);this.inline(this.tokens);return this.tokens};Fa.blockTokens=function(na,Ra,db){void 0===Ra&&(Ra=[]);void 0===db&&
(db=!0);this.options.pedantic&&(na=na.replace(/^ +$/gm,""));for(var $a,Ca,Ga;na;)if($a=this.tokenizer.space(na))na=na.substring($a.raw.length),$a.type&&Ra.push($a);else if($a=this.tokenizer.code(na))na=na.substring($a.raw.length),(Ca=Ra[Ra.length-1])&&"paragraph"===Ca.type?(Ca.raw+="\n"+$a.raw,Ca.text+="\n"+$a.text):Ra.push($a);else if($a=this.tokenizer.fences(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.heading(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=
this.tokenizer.nptable(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.hr(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.blockquote(na))na=na.substring($a.raw.length),$a.tokens=this.blockTokens($a.text,[],db),Ra.push($a);else if($a=this.tokenizer.list(na)){na=na.substring($a.raw.length);Ga=$a.items.length;for(Ca=0;Ca<Ga;Ca++)$a.items[Ca].tokens=this.blockTokens($a.items[Ca].text,[],!1);Ra.push($a)}else if($a=this.tokenizer.html(na))na=na.substring($a.raw.length),
Ra.push($a);else if(db&&($a=this.tokenizer.def(na)))na=na.substring($a.raw.length),this.tokens.links[$a.tag]||(this.tokens.links[$a.tag]={href:$a.href,title:$a.title});else if($a=this.tokenizer.table(na))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.lheading(na))na=na.substring($a.raw.length),Ra.push($a);else if(db&&($a=this.tokenizer.paragraph(na)))na=na.substring($a.raw.length),Ra.push($a);else if($a=this.tokenizer.text(na))na=na.substring($a.raw.length),(Ca=Ra[Ra.length-
1])&&"text"===Ca.type?(Ca.raw+="\n"+$a.raw,Ca.text+="\n"+$a.text):Ra.push($a);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);return Ra};Fa.inline=function(na){var Ra,db,$a,Ca=na.length;for(Ra=0;Ra<Ca;Ra++){var Ga=na[Ra];switch(Ga.type){case "paragraph":case "text":case "heading":Ga.tokens=[];this.inlineTokens(Ga.text,Ga.tokens);break;case "table":Ga.tokens={header:[],cells:[]};var pa=Ga.header.length;for(db=0;db<pa;db++)Ga.tokens.header[db]=
[],this.inlineTokens(Ga.header[db],Ga.tokens.header[db]);pa=Ga.cells.length;for(db=0;db<pa;db++){var Ha=Ga.cells[db];Ga.tokens.cells[db]=[];for($a=0;$a<Ha.length;$a++)Ga.tokens.cells[db][$a]=[],this.inlineTokens(Ha[$a],Ga.tokens.cells[db][$a])}break;case "blockquote":this.inline(Ga.tokens);break;case "list":for(pa=Ga.items.length,db=0;db<pa;db++)this.inline(Ga.items[db].tokens)}}return na};Fa.inlineTokens=function(na,Ra,db,$a){void 0===Ra&&(Ra=[]);void 0===db&&(db=!1);void 0===$a&&($a=!1);var Ca,
Ga=na,pa;if(this.tokens.links){var Ha=Object.keys(this.tokens.links);if(0<Ha.length)for(;null!=(Ca=this.tokenizer.rules.inline.reflinkSearch.exec(Ga));)Ha.includes(Ca[0].slice(Ca[0].lastIndexOf("[")+1,-1))&&(Ga=Ga.slice(0,Ca.index)+"["+Ia("a",Ca[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ca=this.tokenizer.rules.inline.blockSkip.exec(Ga));)Ga=Ga.slice(0,Ca.index)+"["+Ia("a",Ca[0].length-2)+"]"+Ga.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);
for(;null!=(Ca=this.tokenizer.rules.inline.escapedEmSt.exec(Ga));)Ga=Ga.slice(0,Ca.index)+"++"+Ga.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;na;){Ua||(pa="");var Ua=!1;if(Ca=this.tokenizer.escape(na))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.tag(na,db,$a))na=na.substring(Ca.raw.length),db=Ca.inLink,$a=Ca.inRawBlock,(Ha=Ra[Ra.length-1])&&"text"===Ca.type&&"text"===Ha.type?(Ha.raw+=Ca.raw,Ha.text+=Ca.text):Ra.push(Ca);else if(Ca=this.tokenizer.link(na))na=
na.substring(Ca.raw.length),"link"===Ca.type&&(Ca.tokens=this.inlineTokens(Ca.text,[],!0,$a)),Ra.push(Ca);else if(Ca=this.tokenizer.reflink(na,this.tokens.links))na=na.substring(Ca.raw.length),Ha=Ra[Ra.length-1],"link"===Ca.type?(Ca.tokens=this.inlineTokens(Ca.text,[],!0,$a),Ra.push(Ca)):Ha&&"text"===Ca.type&&"text"===Ha.type?(Ha.raw+=Ca.raw,Ha.text+=Ca.text):Ra.push(Ca);else if(Ca=this.tokenizer.emStrong(na,Ga,pa))na=na.substring(Ca.raw.length),Ca.tokens=this.inlineTokens(Ca.text,[],db,$a),Ra.push(Ca);
else if(Ca=this.tokenizer.codespan(na))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.br(na))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.del(na))na=na.substring(Ca.raw.length),Ca.tokens=this.inlineTokens(Ca.text,[],db,$a),Ra.push(Ca);else if(Ca=this.tokenizer.autolink(na,d))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(!db&&(Ca=this.tokenizer.url(na,d)))na=na.substring(Ca.raw.length),Ra.push(Ca);else if(Ca=this.tokenizer.inlineText(na,$a,g))na=na.substring(Ca.raw.length),
"_"!==Ca.raw.slice(-1)&&(pa=Ca.raw.slice(-1)),Ua=!0,(Ha=Ra[Ra.length-1])&&"text"===Ha.type?(Ha.raw+=Ca.raw,Ha.text+=Ca.text):Ra.push(Ca);else if(na)if(na="Infinite loop on byte: "+na.charCodeAt(0),this.options.silent){console.error(na);break}else throw Error(na);}return Ra};l(qa,null,[{key:"rules",get:function(){return{block:aa,inline:ya}}}]);return qa}(),kb=a.defaults,ua=function(qa,Fa,na){if(qa){try{var Ra=decodeURIComponent(x(na)).replace(z,"").toLowerCase()}catch(db){return null}if(0===Ra.indexOf("javascript:")||
0===Ra.indexOf("vbscript:")||0===Ra.indexOf("data:"))return null}Fa&&!G.test(na)&&(qa=Fa,K[" "+qa]||(R.test(qa)?K[" "+qa]=qa+"/":K[" "+qa]=v(qa,"/",!0)),qa=K[" "+qa],Fa=-1===qa.indexOf(":"),na="//"===na.substring(0,2)?Fa?na:qa.replace(T,"$1")+na:"/"===na.charAt(0)?Fa?na:qa.replace(ja,"$1")+na:qa+na);try{na=encodeURI(na).replace(/%25/g,"%")}catch(db){return null}return na},Ta=function(){function qa(na){this.options=na||kb}var Fa=qa.prototype;Fa.code=function(na,Ra,db){Ra=(Ra||"").match(/\S*/)[0];if(this.options.highlight){var $a=
this.options.highlight(na,Ra);null!=$a&&$a!==na&&(db=!0,na=$a)}na=na.replace(/\n$/,"")+"\n";return Ra?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+fa(Ra,!0)+'"\x3e'+(db?na:fa(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(db?na:fa(na,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Fa.blockquote=function(na){return"\x3cblockquote\x3e\n"+na+"\x3c/blockquote\x3e\n"};Fa.html=function(na){return na};Fa.heading=function(na,Ra,db,$a){return this.options.headerIds?"\x3ch"+Ra+' id\x3d"'+
this.options.headerPrefix+$a.slug(db)+'"\x3e'+na+"\x3c/h"+Ra+"\x3e\n":"\x3ch"+Ra+"\x3e"+na+"\x3c/h"+Ra+"\x3e\n"};Fa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Fa.list=function(na,Ra,db){var $a=Ra?"ol":"ul";return"\x3c"+$a+(Ra&&1!==db?' start\x3d"'+db+'"':"")+"\x3e\n"+na+"\x3c/"+$a+"\x3e\n"};Fa.listitem=function(na){return"\x3cli\x3e"+na+"\x3c/li\x3e\n"};Fa.checkbox=function(na){return"\x3cinput "+(na?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?
" /":"")+"\x3e "};Fa.paragraph=function(na){return"\x3cp\x3e"+na+"\x3c/p\x3e\n"};Fa.table=function(na,Ra){Ra&&(Ra="\x3ctbody\x3e"+Ra+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+na+"\x3c/thead\x3e\n"+Ra+"\x3c/table\x3e\n"};Fa.tablerow=function(na){return"\x3ctr\x3e\n"+na+"\x3c/tr\x3e\n"};Fa.tablecell=function(na,Ra){var db=Ra.header?"th":"td";return(Ra.align?"\x3c"+db+' align\x3d"'+Ra.align+'"\x3e':"\x3c"+db+"\x3e")+na+"\x3c/"+db+"\x3e\n"};Fa.strong=function(na){return"\x3cstrong\x3e"+
na+"\x3c/strong\x3e"};Fa.em=function(na){return"\x3cem\x3e"+na+"\x3c/em\x3e"};Fa.codespan=function(na){return"\x3ccode\x3e"+na+"\x3c/code\x3e"};Fa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Fa.del=function(na){return"\x3cdel\x3e"+na+"\x3c/del\x3e"};Fa.link=function(na,Ra,db){na=ua(this.options.sanitize,this.options.baseUrl,na);if(null===na)return db;na='\x3ca href\x3d"'+fa(na)+'"';Ra&&(na+=' title\x3d"'+Ra+'"');return na+("\x3e"+db+"\x3c/a\x3e")};Fa.image=function(na,Ra,db){na=
ua(this.options.sanitize,this.options.baseUrl,na);if(null===na)return db;na='\x3cimg src\x3d"'+na+'" alt\x3d"'+db+'"';Ra&&(na+=' title\x3d"'+Ra+'"');return na+=this.options.xhtml?"/\x3e":"\x3e"};Fa.text=function(na){return na};return qa}(),Ya=function(){function qa(){}var Fa=qa.prototype;Fa.strong=function(na){return na};Fa.em=function(na){return na};Fa.codespan=function(na){return na};Fa.del=function(na){return na};Fa.html=function(na){return na};Fa.text=function(na){return na};Fa.link=function(na,
Ra,db){return""+db};Fa.image=function(na,Ra,db){return""+db};Fa.br=function(){return""};return qa}(),Da=function(){function qa(){this.seen={}}var Fa=qa.prototype;Fa.serialize=function(na){return na.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Fa.getNextSafeSlug=function(na,Ra){var db=na,$a=0;if(this.seen.hasOwnProperty(db)){$a=this.seen[na];do $a++,db=na+"-"+$a;while(this.seen.hasOwnProperty(db))}Ra||
(this.seen[na]=$a,this.seen[db]=0);return db};Fa.slug=function(na,Ra){void 0===Ra&&(Ra={});na=this.serialize(na);return this.getNextSafeSlug(na,Ra.dryrun)};return qa}(),ta=a.defaults,U=function(){function qa(na){this.options=na||ta;this.options.renderer=this.options.renderer||new Ta;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Ya;this.slugger=new Da}qa.parse=function(na,Ra){return(new qa(Ra)).parse(na)};qa.parseInline=function(na,Ra){return(new qa(Ra)).parseInline(na)};
var Fa=qa.prototype;Fa.parse=function(na,Ra){void 0===Ra&&(Ra=!0);var db="",$a,Ca,Ga,pa,Ha=na.length;for($a=0;$a<Ha;$a++){var Ua=na[$a];switch(Ua.type){case "space":continue;case "hr":db+=this.renderer.hr();continue;case "heading":db+=this.renderer.heading(this.parseInline(Ua.tokens),Ua.depth,x(this.parseInline(Ua.tokens,this.textRenderer)),this.slugger);continue;case "code":db+=this.renderer.code(Ua.text,Ua.lang,Ua.escaped);continue;case "table":var jb=pa="";var Fb=Ua.header.length;for(Ca=0;Ca<Fb;Ca++)jb+=
this.renderer.tablecell(this.parseInline(Ua.tokens.header[Ca]),{header:!0,align:Ua.align[Ca]});pa+=this.renderer.tablerow(jb);var Xb="";Fb=Ua.cells.length;for(Ca=0;Ca<Fb;Ca++){var nc=Ua.tokens.cells[Ca];jb="";var md=nc.length;for(Ga=0;Ga<md;Ga++)jb+=this.renderer.tablecell(this.parseInline(nc[Ga]),{header:!1,align:Ua.align[Ga]});Xb+=this.renderer.tablerow(jb)}db+=this.renderer.table(pa,Xb);continue;case "blockquote":Xb=this.parse(Ua.tokens);db+=this.renderer.blockquote(Xb);continue;case "list":Ga=
Ua.ordered;md=Ua.start;nc=Ua.loose;Fb=Ua.items.length;Xb="";for(Ca=0;Ca<Fb;Ca++){pa=Ua.items[Ca];var pc=pa.checked;var Hc=pa.task;jb="";if(pa.task){var mb=this.renderer.checkbox(pc);nc?0<pa.tokens.length&&"text"===pa.tokens[0].type?(pa.tokens[0].text=mb+" "+pa.tokens[0].text,pa.tokens[0].tokens&&0<pa.tokens[0].tokens.length&&"text"===pa.tokens[0].tokens[0].type&&(pa.tokens[0].tokens[0].text=mb+" "+pa.tokens[0].tokens[0].text)):pa.tokens.unshift({type:"text",text:mb}):jb+=mb}jb+=this.parse(pa.tokens,
nc);Xb+=this.renderer.listitem(jb,Hc,pc)}db+=this.renderer.list(Xb,Ga,md);continue;case "html":db+=this.renderer.html(Ua.text);continue;case "paragraph":db+=this.renderer.paragraph(this.parseInline(Ua.tokens));continue;case "text":for(Xb=Ua.tokens?this.parseInline(Ua.tokens):Ua.text;$a+1<Ha&&"text"===na[$a+1].type;)Ua=na[++$a],Xb+="\n"+(Ua.tokens?this.parseInline(Ua.tokens):Ua.text);db+=Ra?this.renderer.paragraph(Xb):Xb;continue;default:na='Token with "'+Ua.type+'" type was not found.';if(this.options.silent){console.error(na);
return}throw Error(na);}}return db};Fa.parseInline=function(na,Ra){Ra=Ra||this.renderer;var db="",$a,Ca=na.length;for($a=0;$a<Ca;$a++){var Ga=na[$a];switch(Ga.type){case "escape":db+=Ra.text(Ga.text);break;case "html":db+=Ra.html(Ga.text);break;case "link":db+=Ra.link(Ga.href,Ga.title,this.parseInline(Ga.tokens,Ra));break;case "image":db+=Ra.image(Ga.href,Ga.title,Ga.text);break;case "strong":db+=Ra.strong(this.parseInline(Ga.tokens,Ra));break;case "em":db+=Ra.em(this.parseInline(Ga.tokens,Ra));break;
case "codespan":db+=Ra.codespan(Ga.text);break;case "br":db+=Ra.br();break;case "del":db+=Ra.del(this.parseInline(Ga.tokens,Ra));break;case "text":db+=Ra.text(Ga.text);break;default:na='Token with "'+Ga.type+'" type was not found.';if(this.options.silent){console.error(na);return}throw Error(na);}}return db};return qa}(),W=ha,ba=function(qa){qa&&qa.sanitize&&!qa.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
ca=fa;ha=a.getDefaults;var ra=a.changeDefaults;a=a.defaults;f.options=f.setOptions=function(qa){W(f.defaults,qa);ra(f.defaults);return f};f.getDefaults=ha;f.defaults=a;f.use=function(qa){var Fa=W({},qa);qa.renderer&&function(){var Ra=f.defaults.renderer||new Ta,db=function(Ca){var Ga=Ra[Ca];Ra[Ca]=function(){for(var pa=arguments.length,Ha=Array(pa),Ua=0;Ua<pa;Ua++)Ha[Ua]=arguments[Ua];pa=qa.renderer[Ca].apply(Ra,Ha);!1===pa&&(pa=Ga.apply(Ra,Ha));return pa}},$a;for($a in qa.renderer)db($a);Fa.renderer=
Ra}();qa.tokenizer&&function(){var Ra=f.defaults.tokenizer||new C,db=function(Ca){var Ga=Ra[Ca];Ra[Ca]=function(){for(var pa=arguments.length,Ha=Array(pa),Ua=0;Ua<pa;Ua++)Ha[Ua]=arguments[Ua];pa=qa.tokenizer[Ca].apply(Ra,Ha);!1===pa&&(pa=Ga.apply(Ra,Ha));return pa}},$a;for($a in qa.tokenizer)db($a);Fa.tokenizer=Ra}();if(qa.walkTokens){var na=f.defaults.walkTokens;Fa.walkTokens=function(Ra){qa.walkTokens(Ra);na&&na(Ra)}}f.setOptions(Fa)};f.walkTokens=function(qa,Fa){qa=N(qa);for(var na;!(na=qa()).done;)switch(na=
na.value,Fa(na),na.type){case "table":for(var Ra=N(na.tokens.header),db;!(db=Ra()).done;)f.walkTokens(db.value,Fa);for(na=N(na.tokens.cells);!(Ra=na()).done;)for(Ra=N(Ra.value);!(db=Ra()).done;)f.walkTokens(db.value,Fa);break;case "list":f.walkTokens(na.items,Fa);break;default:na.tokens&&f.walkTokens(na.tokens,Fa)}};f.parseInline=function(qa,Fa){if("undefined"===typeof qa||null===qa)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof qa)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(qa)+", string expected");Fa=W({},f.defaults,Fa||{});ba(Fa);try{var na=bb.lexInline(qa,Fa);Fa.walkTokens&&f.walkTokens(na,Fa.walkTokens);return U.parseInline(na,Fa)}catch(Ra){Ra.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Fa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ca(Ra.message+"",!0)+"\x3c/pre\x3e";throw Ra;}};f.Parser=U;f.parser=U.parse;f.Renderer=Ta;f.TextRenderer=Ya;f.Lexer=bb;f.lexer=bb.lex;f.Tokenizer=C;f.Slugger=
Da;return f.parse=f})};
shadow$provide[14]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={}))})(this,function(k){function l(ta,U,W){ta.fields=U||[];ta.fname=W;return ta}function w(ta){return null==ta?null:ta.fields}function H(ta){return 1===ta.length?R(ta[0]):T(ta)}function N(ta){throw Error(ta);}function x(ta){function U(){W.push(qa+ta.substring(Fa,na));qa="";
Fa=na+1}const W=[],ba=ta.length;let ca=null,ra=0,qa="",Fa,na,Ra;ta+="";for(Fa=na=0;na<ba;++na)(Ra=ta[na],"\\"===Ra)?(qa+=ta.substring(Fa,na),qa+=ta.substring(++na,++na),Fa=na):Ra===ca?(U(),ca=null,ra=-1):ca||(Fa===ra&&'"'===Ra?(Fa=na+1,ca=Ra):Fa===ra&&"'"===Ra?(Fa=na+1,ca=Ra):"."!==Ra||ra?"["===Ra?(na>Fa&&U(),ra=Fa=na+1):"]"===Ra&&(ra||N("Access path missing open bracket: "+ta),0<ra&&U(),ra=0,Fa=na+1):na>Fa?U():Fa=na+1);ra&&N("Access path missing closing bracket: "+ta);ca&&N("Access path missing closing quote: "+
ta);na>Fa&&(na++,U());return W}function v(ta,U,W){const ba=x(ta);ta=1===ba.length?ba[0]:ta;return l((W&&W.get||H)(ba),[ta],U||ta)}function u(ta,U,W){U=[U].concat([].slice.call(W));console[ta].apply(console,U)}function m(ta){return ta===Object(ta)}function g(ta,U,W,ba){if("__proto__"!==U){var ca;if(m(W)&&!C(W))for(ca in ta=m(ta[U])?ta[U]:ta[U]={},W)ba&&(!0===ba||ba[ca])?g(ta,ca,W[ca]):"__proto__"!==ca&&(ta[ca]=W[ca]);else ta[U]=W}}function d(ta,U){function W(ra){ba[ra.name]||(ba[ra.name]=1,ca.push(ra))}
if(null==ta)return U;const ba={},ca=[];U.forEach(W);ta.forEach(W);return ca}function f(ta){return ta[ta.length-1]}function a(ta){return null==ta||""===ta?null:+ta}function e(ta,U,W,ba){const ca=W(ta[0]);ta=W(f(ta));U*=ta-ca;return[ba(ca-U),ba(ta-U)]}function n(ta,U,W,ba,ca){const ra=ba(ta[0]);ta=ba(f(ta));U=null!=U?ba(U):(ra+ta)/2;return[ca(U+(ra-U)*W),ca(U+(ta-U)*W)]}function y(ta){return null!=ta?C(ta)?ta:[ta]:[]}function B(ta){return"function"===typeof ta}function D(ta){for(let U,W,ba=1,ca=arguments.length;ba<
ca;++ba)for(W in U=arguments[ba],U)ta[W]=U[W];return ta}function O(ta,U){return Ta.call(ta,U)}function M(ta){return"[object Date]"===Object.prototype.toString.call(ta)}function F(ta){return"number"===typeof ta}function z(ta){return"string"===typeof ta}function G(ta,U){let W="";for(;0<=--U;)W+=ta;return W}function K(ta){return C(ta)?"["+ta.map(K)+"]":m(ta)||z(ta)?JSON.stringify(ta).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):ta}const R=ta=>function(U){return U[ta]},T=ta=>{const U=ta.length;
return function(W){for(let ba=0;ba<U;++ba)W=W[ta[ba]];return W}},ja=v("id"),fa=l(ta=>ta,[],"identity"),ha=l(()=>0,[],"zero"),la=l(()=>1,[],"one"),Z=l(()=>!0,[],"true"),P=l(()=>!1,[],"false");var C=Array.isArray;const V=ta=>U=>ta*Math.exp(U),ia=ta=>U=>Math.log(ta*U),aa=ta=>U=>Math.sign(U)*Math.log1p(Math.abs(U/ta)),ya=ta=>U=>Math.sign(U)*Math.expm1(Math.abs(U))*ta,va=ta=>U=>0>U?-Math.pow(-U,ta):Math.pow(U,ta),Ia=(ta,U)=>(ta<U||null==ta)&&null!=U?-1:(ta>U||null==U)&&null!=ta?1:(U=U instanceof Date?
+U:U,ta=ta instanceof Date?+ta:ta)!==ta&&U===U?-1:U!==U&&ta===ta?1:0,bb=(ta,U)=>1===ta.length?kb(ta[0],U[0]):ua(ta,U,ta.length),kb=(ta,U)=>function(W,ba){return Ia(ta(W),ta(ba))*U},ua=(ta,U,W)=>{U.push(0);return function(ba,ca){var ra=0;let qa=-1;for(;0===ra&&++qa<W;)ra=ta[qa],ra=Ia(ra(ba),ra(ca));return ra*U[qa]}},Ta=Object.prototype.hasOwnProperty,Ya={},Da=ta=>F(ta)?ta:M(ta)?ta:Date.parse(ta);k.Debug=4;k.Error=1;k.Info=3;k.None=0;k.Warn=2;k.accessor=l;k.accessorFields=w;k.accessorName=function(ta){return null==
ta?null:ta.fname};k.array=y;k.ascending=Ia;k.clampRange=function(ta,U,W){let ba=ta[0];ta=ta[1];let ca;ta<ba&&(ca=ta,ta=ba,ba=ca);ca=ta-ba;return ca>=W-U?[U,W]:[ba=Math.min(Math.max(ba,U),W-ca),ba+ca]};k.compare=function(ta,U,W){W=W||{};U=y(U)||[];const ba=[],ca=[],ra={},qa=W.comparator||bb;y(ta).forEach((Fa,na)=>{null!=Fa&&(ba.push("descending"===U[na]?-1:1),ca.push(Fa=B(Fa)?Fa:v(Fa,null,W)),(w(Fa)||[]).forEach(Ra=>ra[Ra]=1))});return 0===ca.length?null:l(qa(ca,ba),Object.keys(ra))};k.constant=function(ta){return B(ta)?
ta:()=>ta};k.debounce=function(ta,U){let W;return ba=>{W&&clearTimeout(W);W=setTimeout(()=>(U(ba),W=null),ta)}};k.error=N;k.extend=D;k.extent=function(ta,U){let W=0,ba,ca,ra,qa;if(ta&&(ba=ta.length))if(null==U){for(ca=ta[W];W<ba&&(null==ca||ca!==ca);ca=ta[++W]);for(ra=qa=ca;W<ba;++W)ca=ta[W],null!=ca&&(ca<ra&&(ra=ca),ca>qa&&(qa=ca))}else{for(ca=U(ta[W]);W<ba&&(null==ca||ca!==ca);ca=U(ta[++W]));for(ra=qa=ca;W<ba;++W)ca=U(ta[W]),null!=ca&&(ca<ra&&(ra=ca),ca>qa&&(qa=ca))}return[ra,qa]};k.extentIndex=
function(ta,U){const W=ta.length;let ba=-1,ca,ra,qa,Fa,na;if(null==U){for(;++ba<W;)if(ra=ta[ba],null!=ra&&ra>=ra){ca=qa=ra;break}if(ba===W)return[-1,-1];for(Fa=na=ba;++ba<W;)ra=ta[ba],null!=ra&&(ca>ra&&(ca=ra,Fa=ba),qa<ra&&(qa=ra,na=ba))}else{for(;++ba<W;)if(ra=U(ta[ba],ba,ta),null!=ra&&ra>=ra){ca=qa=ra;break}if(ba===W)return[-1,-1];for(Fa=na=ba;++ba<W;)ra=U(ta[ba],ba,ta),null!=ra&&(ca>ra&&(ca=ra,Fa=ba),qa<ra&&(qa=ra,na=ba))}return[Fa,na]};k.falsy=P;k.fastmap=function(ta){function U(ra){return O(W,
ra)&&W[ra]!==Ya}let W={},ba;const ca={size:0,empty:0,object:W,has:U,get(ra){return U(ra)?W[ra]:void 0},set(ra,qa){U(ra)||(++ca.size,W[ra]===Ya&&--ca.empty);W[ra]=qa;return this},delete(ra){U(ra)&&(--ca.size,++ca.empty,W[ra]=Ya);return this},clear(){ca.size=ca.empty=0;ca.object=W={}},test(ra){return arguments.length?(ba=ra,ca):ba},clean(){const ra={};let qa=0;for(const Fa in W){const na=W[Fa];na===Ya||ba&&ba(na)||(ra[Fa]=na,++qa)}ca.size=qa;ca.empty=0;ca.object=W=ra}};ta&&Object.keys(ta).forEach(ra=>
{ca.set(ra,ta[ra])});return ca};k.field=v;k.flush=function(ta,U,W,ba,ca,ra){if(!W&&0!==W)return ra;W=+W;let qa=ta[0],Fa=f(ta);Fa<qa&&(ta=qa,qa=Fa,Fa=ta);ta=Math.abs(U-qa);U=Math.abs(Fa-U);return ta<U&&ta<=W?ba:U<=W?ca:ra};k.hasOwnProperty=O;k.id=ja;k.identity=fa;k.inherits=function(ta,U,W){U=ta.prototype=Object.create(U.prototype);U.constructor=ta;return D(U,W)};k.inrange=function(ta,U,W,ba){let ca=U[0];U=U[U.length-1];let ra;ca>U&&(ra=ca,ca=U,U=ra);return(void 0===W||W?ca<=ta:ca<ta)&&(void 0===ba||
ba?ta<=U:ta<U)};k.isArray=C;k.isBoolean=function(ta){return"boolean"===typeof ta};k.isDate=M;k.isFunction=B;k.isIterable=function(ta){return ta&&B(ta[Symbol.iterator])};k.isNumber=F;k.isObject=m;k.isRegExp=function(ta){return"[object RegExp]"===Object.prototype.toString.call(ta)};k.isString=z;k.key=function(ta,U,W){ta&&(ta=U?y(ta).map(ra=>ra.replace(/\\(.)/g,"$1")):y(ta));const ba=ta&&ta.length,ca=W&&W.get||H;W=ra=>ca(U?[ra]:x(ra));if(ba)if(1===ba){const ra=W(ta[0]);W=function(qa){return""+ra(qa)}}else{const ra=
ta.map(W);W=function(qa){let Fa=""+ra[0](qa),na=0;for(;++na<ba;)Fa+="|"+ra[na](qa);return Fa}}else W=function(){return""};return l(W,ta,"key")};k.lerp=function(ta,U){const W=ta[0];ta=f(ta);return(U=+U)?1===U?ta:W+U*(ta-W):W};k.logger=function(ta,U){let W=ta||0;return{level(ba){return arguments.length?(W=+ba,this):W},error(){1<=W&&u(U||"error","ERROR",arguments);return this},warn(){2<=W&&u(U||"warn","WARN",arguments);return this},info(){3<=W&&u(U||"log","INFO",arguments);return this},debug(){4<=W&&
u(U||"log","DEBUG",arguments);return this}}};k.lruCache=function(ta){ta=+ta||1E4;let U,W,ba;const ca=()=>{U={};W={};ba=0},ra=(qa,Fa)=>{++ba>ta&&(W=U,U={},ba=1);return U[qa]=Fa};ca();return{clear:ca,has:qa=>O(U,qa)||O(W,qa),get:qa=>O(U,qa)?U[qa]:O(W,qa)?ra(qa,W[qa]):void 0,set:(qa,Fa)=>O(U,qa)?U[qa]=Fa:ra(qa,Fa)}};k.merge=function(ta,U,W,ba){const ca=U.length,ra=W.length;if(!ra)return U;if(!ca)return W;ba=ba||new U.constructor(ca+ra);let qa=0,Fa=0,na=0;for(;qa<ca&&Fa<ra;++na)ba[na]=0<ta(U[qa],W[Fa])?
W[Fa++]:U[qa++];for(;qa<ca;++qa,++na)ba[na]=U[qa];for(;Fa<ra;++Fa,++na)ba[na]=W[Fa];return ba};k.mergeConfig=function(...ta){return ta.reduce((U,W)=>{for(const ba in W)"signals"===ba?U.signals=d(U.signals,W.signals):g(U,ba,W[ba],"legend"===ba?{layout:1}:"style"===ba?!0:null);return U},{})};k.one=la;k.pad=function(ta,U,W,ba){W=W||" ";ta+="";U-=ta.length;return 0>=U?ta:"left"===ba?G(W,U)+ta:"center"===ba?G(W,~~(U/2))+ta+G(W,Math.ceil(U/2)):ta+G(W,U)};k.panLinear=function(ta,U){return e(ta,U,a,fa)};
k.panLog=function(ta,U){var W=Math.sign(ta[0]);return e(ta,U,ia(W),V(W))};k.panPow=function(ta,U,W){return e(ta,U,va(W),va(1/W))};k.panSymlog=function(ta,U,W){return e(ta,U,aa(W),ya(W))};k.peek=f;k.quarter=function(ta){return 1+~~((new Date(ta)).getMonth()/3)};k.repeat=G;k.span=function(ta){return ta&&f(ta)-ta[0]||0};k.splitAccessPath=x;k.stringValue=K;k.toBoolean=function(ta){return null==ta||""===ta?null:ta&&"false"!==ta&&"0"!==ta?!!ta:!1};k.toDate=function(ta,U){U=U||Da;return null==ta||""===ta?
null:U(ta)};k.toNumber=a;k.toSet=function(ta){const U={},W=ta.length;for(let ba=0;ba<W;++ba)U[ta[ba]]=!0;return U};k.toString=function(ta){return null==ta||""===ta?null:ta+""};k.truncate=function(ta,U,W,ba){ba=null!=ba?ba:"";ta+="";const ca=ta.length,ra=Math.max(0,U-ba.length);return ca<=U?ta:"left"===W?ba+ta.slice(ca-ra):"center"===W?ta.slice(0,Math.ceil(ra/2))+ba+ta.slice(ca-~~(ra/2)):ta.slice(0,ra)+ba};k.truthy=Z;k.utcquarter=function(ta){return 1+~~((new Date(ta)).getUTCMonth()/3)};k.visitArray=
function(ta,U,W){if(ta)if(U){const ba=ta.length;for(let ca=0;ca<ba;++ca){const ra=U(ta[ca]);ra&&W(ra,ca,ta)}}else ta.forEach(W)};k.writeConfig=g;k.zero=ha;k.zoomLinear=function(ta,U,W){return n(ta,U,W,a,fa)};k.zoomLog=function(ta,U,W){const ba=Math.sign(ta[0]);return n(ta,U,W,ia(ba),V(ba))};k.zoomPow=function(ta,U,W,ba){return n(ta,U,W,va(ba),va(1/ba))};k.zoomSymlog=function(ta,U,W,ba){return n(ta,U,W,aa(ba),ya(ba))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(Ca,Ga){return Ca<Ga?-1:Ca>Ga?1:Ca>=Ga?0:NaN}function w(Ca){function Ga(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);for(;Fb<Xb;){const nc=Fb+Xb>>>1;0>Ha(Ua[nc],jb)?Fb=nc+1:Xb=nc}return Fb}let pa=Ca,Ha=Ca;1===Ca.length&&(pa=(Ua,
jb)=>Ca(Ua)-jb,Ha=H(Ca));return{left:Ga,center:function(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);Xb=Ga(Ua,jb,Fb,Xb-1);return Xb>Fb&&pa(Ua[Xb-1],jb)>-pa(Ua[Xb],jb)?Xb-1:Xb},right:function(Ua,jb,Fb,Xb){null==Fb&&(Fb=0);null==Xb&&(Xb=Ua.length);for(;Fb<Xb;){const nc=Fb+Xb>>>1;0<Ha(Ua[nc],jb)?Xb=nc:Fb=nc+1}return Fb}}}function H(Ca){return(Ga,pa)=>l(Ca(Ga),pa)}function N(Ca){return null===Ca?NaN:+Ca}function*x(Ca,Ga){if(void 0===Ga)for(var pa of Ca)null!=pa&&(pa=+pa)>=pa&&(yield pa);else{pa=
-1;for(let Ha of Ca)null!=(Ha=Ga(Ha,++pa,Ca))&&(Ha=+Ha)>=Ha&&(yield Ha)}}function v(Ca,Ga){let pa=0;if(void 0===Ga)for(var Ha of Ca)null!=Ha&&(Ha=+Ha)>=Ha&&++pa;else{Ha=-1;for(let Ua of Ca)null!=(Ua=Ga(Ua,++Ha,Ca))&&(Ua=+Ua)>=Ua&&++pa}return pa}function u(Ca){return Ca.length|0}function m(Ca){return!(0<Ca)}function g(Ca){return"object"!==typeof Ca||"length"in Ca?Ca:Array.from(Ca)}function d(Ca){return Ga=>Ca(...Ga)}function f(Ca,Ga){let pa=0,Ha,Ua=0,jb=0;if(void 0===Ga)for(var Fb of Ca)null!=Fb&&
(Fb=+Fb)>=Fb&&(Ha=Fb-Ua,Ua+=Ha/++pa,jb+=Ha*(Fb-Ua));else{Fb=-1;for(let Xb of Ca)null!=(Xb=Ga(Xb,++Fb,Ca))&&(Xb=+Xb)>=Xb&&(Ha=Xb-Ua,Ua+=Ha/++pa,jb+=Ha*(Xb-Ua))}if(1<pa)return jb/(pa-1)}function a(Ca,Ga){return(Ca=f(Ca,Ga))?Math.sqrt(Ca):Ca}function e(Ca,Ga){let pa,Ha;if(void 0===Ga)for(var Ua of Ca)null!=Ua&&(void 0===pa?Ua>=Ua&&(pa=Ha=Ua):(pa>Ua&&(pa=Ua),Ha<Ua&&(Ha=Ua)));else{Ua=-1;for(let jb of Ca)null!=(jb=Ga(jb,++Ua,Ca))&&(void 0===pa?jb>=jb&&(pa=Ha=jb):(pa>jb&&(pa=jb),Ha<jb&&(Ha=jb)))}return[pa,
Ha]}function n({_intern:Ca,_key:Ga},pa){Ga=Ga(pa);return Ca.has(Ga)?Ca.get(Ga):pa}function y({_intern:Ca,_key:Ga},pa){Ga=Ga(pa);if(Ca.has(Ga))return Ca.get(Ga);Ca.set(Ga,pa);return pa}function B({_intern:Ca,_key:Ga},pa){Ga=Ga(pa);Ca.has(Ga)&&(pa=Ca.get(pa),Ca.delete(Ga));return pa}function D(Ca){return null!==Ca&&"object"===typeof Ca?Ca.valueOf():Ca}function O(Ca){return Ca}function M(Ca,...Ga){return G(Ca,O,O,Ga)}function F(Ca,Ga,...pa){return G(Ca,O,Ga,pa)}function z(Ca){if(1!==Ca.length)throw Error("duplicate key");
return Ca[0]}function G(Ca,Ga,pa,Ha){return function Xb(jb,Fb){if(Fb>=Ha.length)return pa(jb);const nc=new ra,md=Ha[Fb++];let pc=-1;for(const Hc of jb){const mb=md(Hc,++pc,jb),hc=nc.get(mb);hc?hc.push(Hc):nc.set(mb,[Hc])}for(const [Hc,mb]of nc)nc.set(Hc,Xb(mb,Fb));return Ga(nc)}(Ca,0)}function K(Ca,Ga){return Array.from(Ga,pa=>Ca[pa])}function R(Ca,...Ga){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");Ca=Array.from(Ca);let [pa=l]=Ga;if(1===pa.length||1<Ga.length){const Ha=
Uint32Array.from(Ca,(Ua,jb)=>jb);1<Ga.length?(Ga=Ga.map(Ua=>Ca.map(Ua)),Ha.sort((Ua,jb)=>{for(const Fb of Ga){const Xb=l(Fb[Ua],Fb[jb]);if(Xb)return Xb}})):(pa=Ca.map(pa),Ha.sort((Ua,jb)=>l(pa[Ua],pa[jb])));return K(Ca,Ha)}return Ca.sort(pa)}function T(Ca){return function(){return Ca}}function ja(Ca,Ga,pa){var Ha,Ua=-1,jb;Ga=+Ga;Ca=+Ca;pa=+pa;if(Ca===Ga&&0<pa)return[Ca];if(Ha=Ga<Ca){var Fb=Ca;Ca=Ga;Ga=Fb}if(0===(jb=fa(Ca,Ga,pa))||!isFinite(jb))return[];if(0<jb)for(Ca=Math.ceil(Ca/jb),Ga=Math.floor(Ga/
jb),Ga=Array(Fb=Math.ceil(Ga-Ca+1));++Ua<Fb;)Ga[Ua]=(Ca+Ua)*jb;else for(jb=-jb,Ca=Math.ceil(Ca*jb),Ga=Math.floor(Ga*jb),Ga=Array(Fb=Math.ceil(Ga-Ca+1));++Ua<Fb;)Ga[Ua]=(Ca+Ua)/jb;Ha&&Ga.reverse();return Ga}function fa(Ca,Ga,pa){Ga=(Ga-Ca)/Math.max(0,pa);Ca=Math.floor(Math.log(Ga)/Math.LN10);Ga/=Math.pow(10,Ca);return 0<=Ca?(Ga>=na?10:Ga>=Ra?5:Ga>=db?2:1)*Math.pow(10,Ca):-Math.pow(10,-Ca)/(Ga>=na?10:Ga>=Ra?5:Ga>=db?2:1)}function ha(Ca,Ga,pa){let Ha;for(;;){const Ua=fa(Ca,Ga,pa);if(Ua===Ha||0===Ua||
!isFinite(Ua))return[Ca,Ga];0<Ua?(Ca=Math.floor(Ca/Ua)*Ua,Ga=Math.ceil(Ga/Ua)*Ua):0>Ua&&(Ca=Math.ceil(Ca*Ua)/Ua,Ga=Math.floor(Ga*Ua)/Ua);Ha=Ua}}function la(Ca){return Math.ceil(Math.log(v(Ca))/Math.LN2)+1}function Z(){function Ca(Ua){Array.isArray(Ua)||(Ua=Array.from(Ua));var jb,Fb=Ua.length,Xb=Array(Fb);for(jb=0;jb<Fb;++jb)Xb[jb]=Ga(Ua[jb],jb,Ua);var nc=pa(Xb),md=nc[0];nc=nc[1];var pc=Ha(Xb,md,nc);if(!Array.isArray(pc)){jb=nc;var Hc=+pc;pa===e&&([md,nc]=ha(md,nc,Hc));pc=ja(md,nc,Hc);pc[pc.length-
1]>=nc&&(jb>=nc&&pa===e?(jb=fa(md,nc,Hc),isFinite(jb)&&(0<jb?nc=(Math.floor(nc/jb)+1)*jb:0>jb&&(nc=(Math.ceil(nc*-jb)+1)/-jb))):pc.pop())}for(Hc=pc.length;pc[0]<=md;)pc.shift(),--Hc;for(;pc[Hc-1]>nc;)pc.pop(),--Hc;var mb=Array(Hc+1);for(jb=0;jb<=Hc;++jb){var hc=mb[jb]=[];hc.x0=0<jb?pc[jb-1]:md;hc.x1=jb<Hc?pc[jb]:nc}for(jb=0;jb<Fb;++jb)hc=Xb[jb],md<=hc&&hc<=nc&&mb[W(pc,hc,0,Hc)].push(Ua[jb]);return mb}var Ga=O,pa=e,Ha=la;Ca.value=function(Ua){return arguments.length?(Ga="function"===typeof Ua?Ua:T(Ua),
Ca):Ga};Ca.domain=function(Ua){return arguments.length?(pa="function"===typeof Ua?Ua:T([Ua[0],Ua[1]]),Ca):pa};Ca.thresholds=function(Ua){return arguments.length?(Ha="function"===typeof Ua?Ua:Array.isArray(Ua)?T(Fa.call(Ua)):T(Ua),Ca):Ha};return Ca}function P(Ca,Ga){let pa;if(void 0===Ga)for(var Ha of Ca)null!=Ha&&(pa<Ha||void 0===pa&&Ha>=Ha)&&(pa=Ha);else{Ha=-1;for(let Ua of Ca)null!=(Ua=Ga(Ua,++Ha,Ca))&&(pa<Ua||void 0===pa&&Ua>=Ua)&&(pa=Ua)}return pa}function C(Ca,Ga){let pa;if(void 0===Ga)for(var Ha of Ca)null!=
Ha&&(pa>Ha||void 0===pa&&Ha>=Ha)&&(pa=Ha);else{Ha=-1;for(let Ua of Ca)null!=(Ua=Ga(Ua,++Ha,Ca))&&(pa>Ua||void 0===pa&&Ua>=Ua)&&(pa=Ua)}return pa}function V(Ca,Ga,pa=0,Ha=Ca.length-1,Ua=l){for(;Ha>pa;){if(600<Ha-pa){var jb=Ha-pa+1,Fb=Ga-pa+1,Xb=Math.log(jb),nc=.5*Math.exp(2*Xb/3);Xb=.5*Math.sqrt(Xb*nc*(jb-nc)/jb)*(0>Fb-jb/2?-1:1);V(Ca,Ga,Math.max(pa,Math.floor(Ga-Fb*nc/jb+Xb)),Math.min(Ha,Math.floor(Ga+(jb-Fb)*nc/jb+Xb)),Ua)}jb=Ca[Ga];Fb=pa;nc=Ha;ia(Ca,pa,Ga);for(0<Ua(Ca[Ha],jb)&&ia(Ca,pa,Ha);Fb<nc;){ia(Ca,
Fb,nc);++Fb;for(--nc;0>Ua(Ca[Fb],jb);)++Fb;for(;0<Ua(Ca[nc],jb);)--nc}0===Ua(Ca[pa],jb)?ia(Ca,pa,nc):(++nc,ia(Ca,nc,Ha));nc<=Ga&&(pa=nc+1);Ga<=nc&&(Ha=nc-1)}return Ca}function ia(Ca,Ga,pa){const Ha=Ca[Ga];Ca[Ga]=Ca[pa];Ca[pa]=Ha}function aa(Ca,Ga,pa){Ca=Float64Array.from(x(Ca,pa));if(pa=Ca.length){if(0>=(Ga=+Ga)||2>pa)return C(Ca);if(1<=Ga)return P(Ca);Ga*=pa-1;pa=Math.floor(Ga);var Ha=P(V(Ca,pa).subarray(0,pa+1));Ca=C(Ca.subarray(pa+1));return Ha+(Ca-Ha)*(Ga-pa)}}function ya(Ca,Ga){let pa,Ha=-1,
Ua=-1;if(void 0===Ga)for(const jb of Ca)++Ua,null!=jb&&(pa<jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);else for(let jb of Ca)null!=(jb=Ga(jb,++Ua,Ca))&&(pa<jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);return Ha}function*va(Ca){for(const Ga of Ca)yield*Ga}function Ia(Ca,Ga){let pa,Ha=-1,Ua=-1;if(void 0===Ga)for(const jb of Ca)++Ua,null!=jb&&(pa>jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);else for(let jb of Ca)null!=(jb=Ga(jb,++Ua,Ca))&&(pa>jb||void 0===pa&&jb>=jb)&&(pa=jb,Ha=Ua);return Ha}function bb(Ca,Ga){return[Ca,
Ga]}function kb(Ca,Ga=l){if(1===Ga.length)return Ia(Ca,Ga);let pa,Ha=-1,Ua=-1;for(const jb of Ca)if(++Ua,0>Ha?0===Ga(jb,jb):0>Ga(jb,pa))pa=jb,Ha=Ua;return Ha}function ua(Ca){return function(Ga,pa=0,Ha=Ga.length){for(Ha-=pa=+pa;Ha;){const Ua=Ca()*Ha--|0,jb=Ga[Ha+pa];Ga[Ha+pa]=Ga[Ua+pa];Ga[Ua+pa]=jb}return Ga}}function Ta(Ca){if(!(jb=Ca.length))return[];for(var Ga=-1,pa=C(Ca,Ya),Ha=Array(pa);++Ga<pa;)for(var Ua=-1,jb,Fb=Ha[Ga]=Array(jb);++Ua<jb;)Fb[Ua]=Ca[Ua][Ga];return Ha}function Ya(Ca){return Ca.length}
function Da(Ca){return Ca instanceof Set?Ca:new Set(Ca)}function ta(Ca,Ga){Ca=Ca[Symbol.iterator]();const pa=new Set;for(const Ha of Ga){if(pa.has(Ha))continue;let Ua;for(;{value:Ga,done:Ua}=Ca.next();){if(Ua)return!1;pa.add(Ga);if(Object.is(Ha,Ga))break}}return!0}var U=w(l);const W=U.right;U=U.left;const ba=w(N).center;class ca{constructor(){this._partials=new Float64Array(32);this._n=0}add(Ca){const Ga=this._partials;let pa=0;for(let Ha=0;Ha<this._n&&32>Ha;Ha++){const Ua=Ga[Ha],jb=Ca+Ua;(Ca=Math.abs(Ca)<
Math.abs(Ua)?Ca-(jb-Ua):Ua-(jb-Ca))&&(Ga[pa++]=Ca);Ca=jb}Ga[pa]=Ca;this._n=pa+1;return this}valueOf(){const Ca=this._partials;let Ga=this._n;let pa,Ha=0;if(0<Ga){for(Ha=Ca[--Ga];0<Ga;){var Ua=Ha;pa=Ca[--Ga];Ha=Ua+pa;if(Ua=pa-(Ha-Ua))break}0<Ga&&(0>Ua&&0>Ca[Ga-1]||0<Ua&&0<Ca[Ga-1])&&(pa=2*Ua,Ua=Ha+pa,pa==Ua-Ha&&(Ha=Ua))}return Ha}}class ra extends Map{constructor(Ca=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const [pa,Ha]of Ca)this.set(pa,Ha)}get(Ca){return super.get(n(this,
Ca))}has(Ca){return super.has(n(this,Ca))}set(Ca,Ga){return super.set(y(this,Ca),Ga)}delete(Ca){return super.delete(B(this,Ca))}}class qa extends Set{constructor(Ca=[],Ga=D){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Ga}});for(const pa of Ca)this.add(pa)}has(Ca){return super.has(n(this,Ca))}add(Ca){return super.add(y(this,Ca))}delete(Ca){return super.delete(B(this,Ca))}}var Fa=Array.prototype.slice,na=Math.sqrt(50),Ra=Math.sqrt(10),db=Math.sqrt(2),$a=ua(Math.random);
k.Adder=ca;k.InternMap=ra;k.InternSet=qa;k.ascending=l;k.bin=Z;k.bisect=W;k.bisectCenter=ba;k.bisectLeft=U;k.bisectRight=W;k.bisector=w;k.count=v;k.cross=function(...Ca){const Ga="function"===typeof Ca[Ca.length-1]&&d(Ca.pop());Ca=Ca.map(g);const pa=Ca.map(u),Ha=Ca.length-1,Ua=Array(Ha+1).fill(0),jb=[];if(0>Ha||pa.some(m))return jb;for(;;){jb.push(Ua.map((Xb,nc)=>Ca[nc][Xb]));let Fb=Ha;for(;++Ua[Fb]===pa[Fb];){if(0===Fb)return Ga?jb.map(Ga):jb;Ua[Fb--]=0}}};k.cumsum=function(Ca,Ga){var pa=0,Ha=0;
return Float64Array.from(Ca,void 0===Ga?Ua=>pa+=+Ua||0:Ua=>pa+=+Ga(Ua,Ha++,Ca)||0)};k.descending=function(Ca,Ga){return Ga<Ca?-1:Ga>Ca?1:Ga>=Ca?0:NaN};k.deviation=a;k.difference=function(Ca,...Ga){Ca=new Set(Ca);for(const pa of Ga)for(const Ha of pa)Ca.delete(Ha);return Ca};k.disjoint=function(Ca,Ga){Ga=Ga[Symbol.iterator]();const pa=new Set;for(const Ha of Ca){if(pa.has(Ha))return!1;let Ua;for(;({value:Ca,done:Ua}=Ga.next())&&!Ua;){if(Object.is(Ha,Ca))return!1;pa.add(Ca)}}return!0};k.every=function(Ca,
Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let pa=-1;for(const Ha of Ca)if(!Ga(Ha,++pa,Ca))return!1;return!0};k.extent=e;k.filter=function(Ca,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");const pa=[];let Ha=-1;for(const Ua of Ca)Ga(Ua,++Ha,Ca)&&pa.push(Ua);return pa};k.fsum=function(Ca,Ga){const pa=new ca;if(void 0===Ga)for(var Ha of Ca)(Ha=+Ha)&&pa.add(Ha);else{Ha=-1;for(let Ua of Ca)(Ua=+Ga(Ua,++Ha,Ca))&&pa.add(Ua)}return+pa};k.greatest=
function(Ca,Ga=l){let pa,Ha=!1;if(1===Ga.length){let Ua;for(const jb of Ca)if(Ca=Ga(jb),Ha?0<l(Ca,Ua):0===l(Ca,Ca))pa=jb,Ua=Ca,Ha=!0}else for(const Ua of Ca)if(Ha?0<Ga(Ua,pa):0===Ga(Ua,Ua))pa=Ua,Ha=!0;return pa};k.greatestIndex=function(Ca,Ga=l){if(1===Ga.length)return ya(Ca,Ga);let pa,Ha=-1,Ua=-1;for(const jb of Ca)if(++Ua,0>Ha?0===Ga(jb,jb):0<Ga(jb,pa))pa=jb,Ha=Ua;return Ha};k.group=M;k.groupSort=function(Ca,Ga,pa){return(1===Ga.length?R(F(Ca,Ga,pa),([Ha,Ua],[jb,Fb])=>l(Ua,Fb)||l(Ha,jb)):R(M(Ca,
pa),([Ha,Ua],[jb,Fb])=>Ga(Ua,Fb)||l(Ha,jb))).map(([Ha])=>Ha)};k.groups=function(Ca,...Ga){return G(Ca,Array.from,O,Ga)};k.histogram=Z;k.index=function(Ca,...Ga){return G(Ca,O,z,Ga)};k.indexes=function(Ca,...Ga){return G(Ca,Array.from,z,Ga)};k.intersection=function(Ca,...Ga){Ca=new Set(Ca);Ga=Ga.map(Da);a:for(const pa of Ca)for(const Ha of Ga)if(!Ha.has(pa)){Ca.delete(pa);continue a}return Ca};k.least=function(Ca,Ga=l){let pa,Ha=!1;if(1===Ga.length){let Ua;for(const jb of Ca)if(Ca=Ga(jb),Ha?0>l(Ca,
Ua):0===l(Ca,Ca))pa=jb,Ua=Ca,Ha=!0}else for(const Ua of Ca)if(Ha?0>Ga(Ua,pa):0===Ga(Ua,Ua))pa=Ua,Ha=!0;return pa};k.leastIndex=kb;k.map=function(Ca,Ga){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof Ga)throw new TypeError("mapper is not a function");return Array.from(Ca,(pa,Ha)=>Ga(pa,Ha,Ca))};k.max=P;k.maxIndex=ya;k.mean=function(Ca,Ga){let pa=0,Ha=0;if(void 0===Ga)for(var Ua of Ca)null!=Ua&&(Ua=+Ua)>=Ua&&(++pa,Ha+=Ua);else{Ua=-1;for(let jb of Ca)null!=
(jb=Ga(jb,++Ua,Ca))&&(jb=+jb)>=jb&&(++pa,Ha+=jb)}if(pa)return Ha/pa};k.median=function(Ca,Ga){return aa(Ca,.5,Ga)};k.merge=function(Ca){return Array.from(va(Ca))};k.min=C;k.minIndex=Ia;k.nice=ha;k.pairs=function(Ca,Ga=bb){const pa=[];let Ha,Ua=!1;for(const jb of Ca)Ua&&pa.push(Ga(Ha,jb)),Ha=jb,Ua=!0;return pa};k.permute=K;k.quantile=aa;k.quantileSorted=function(Ca,Ga,pa=N){if(Ha=Ca.length){if(0>=(Ga=+Ga)||2>Ha)return+pa(Ca[0],0,Ca);if(1<=Ga)return+pa(Ca[Ha-1],Ha-1,Ca);var Ha;Ga*=Ha-1;Ha=Math.floor(Ga);
var Ua=+pa(Ca[Ha],Ha,Ca);Ca=+pa(Ca[Ha+1],Ha+1,Ca);return Ua+(Ca-Ua)*(Ga-Ha)}};k.quickselect=V;k.range=function(Ca,Ga,pa){Ca=+Ca;Ga=+Ga;pa=2>(Ua=arguments.length)?(Ga=Ca,Ca=0,1):3>Ua?1:+pa;for(var Ha=-1,Ua=Math.max(0,Math.ceil((Ga-Ca)/pa))|0,jb=Array(Ua);++Ha<Ua;)jb[Ha]=Ca+Ha*pa;return jb};k.reduce=function(Ca,Ga,pa){if("function"!==typeof Ga)throw new TypeError("reducer is not a function");const Ha=Ca[Symbol.iterator]();let Ua,jb,Fb=-1;if(3>arguments.length){({done:Ua,value:pa}=Ha.next());if(Ua)return;
++Fb}for(;{done:Ua,value:jb}=Ha.next(),!Ua;)pa=Ga(pa,jb,++Fb,Ca);return pa};k.reverse=function(Ca){if("function"!==typeof Ca[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(Ca).reverse()};k.rollup=F;k.rollups=function(Ca,Ga,...pa){return G(Ca,Array.from,Ga,pa)};k.scan=function(Ca,Ga){Ca=kb(Ca,Ga);return 0>Ca?void 0:Ca};k.shuffle=$a;k.shuffler=ua;k.some=function(Ca,Ga){if("function"!==typeof Ga)throw new TypeError("test is not a function");let pa=-1;for(const Ha of Ca)if(Ga(Ha,
++pa,Ca))return!0;return!1};k.sort=R;k.subset=function(Ca,Ga){return ta(Ga,Ca)};k.sum=function(Ca,Ga){let pa=0;if(void 0===Ga)for(var Ha of Ca){if(Ha=+Ha)pa+=Ha}else{Ha=-1;for(let Ua of Ca)if(Ua=+Ga(Ua,++Ha,Ca))pa+=Ua}return pa};k.superset=ta;k.thresholdFreedmanDiaconis=function(Ca,Ga,pa){return Math.ceil((pa-Ga)/(2*(aa(Ca,.75)-aa(Ca,.25))*Math.pow(v(Ca),-1/3)))};k.thresholdScott=function(Ca,Ga,pa){return Math.ceil((pa-Ga)/(3.5*a(Ca)*Math.pow(v(Ca),-1/3)))};k.thresholdSturges=la;k.tickIncrement=fa;
k.tickStep=function(Ca,Ga,pa){var Ha=Math.abs(Ga-Ca)/Math.max(0,pa);pa=Math.pow(10,Math.floor(Math.log(Ha)/Math.LN10));Ha/=pa;Ha>=na?pa*=10:Ha>=Ra?pa*=5:Ha>=db&&(pa*=2);return Ga<Ca?-pa:pa};k.ticks=ja;k.transpose=Ta;k.union=function(...Ca){const Ga=new Set;for(const pa of Ca)for(const Ha of pa)Ga.add(Ha);return Ga};k.variance=f;k.zip=function(){return Ta(arguments)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[16]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(D,O){if(0>(O=(D=O?D.toExponential(O-1):D.toExponential()).indexOf("e")))return null;var M=D.slice(0,O);return[1<M.length?M[0]+M.slice(2):M,+D.slice(O+1)]}function w(D){return D=l(Math.abs(D)),D?D[1]:NaN}function H(D,O){return function(M,
F){for(var z=M.length,G=[],K=0,R=D[0],T=0;0<z&&0<R;){T+R+1>F&&(R=Math.max(1,F-T));G.push(M.substring(z-=R,z+R));if((T+=R+1)>F)break;R=D[K=(K+1)%D.length]}return G.reverse().join(O)}}function N(D){return function(O){return O.replace(/[0-9]/g,function(M){return D[+M]})}}function x(D){if(!(O=f.exec(D)))throw Error("invalid format: "+D);var O;return new v({fill:O[1],align:O[2],sign:O[3],symbol:O[4],zero:O[5],width:O[6],comma:O[7],precision:O[8]&&O[8].slice(1),trim:O[9],type:O[10]})}function v(D){this.fill=
void 0===D.fill?" ":D.fill+"";this.align=void 0===D.align?"\x3e":D.align+"";this.sign=void 0===D.sign?"-":D.sign+"";this.symbol=void 0===D.symbol?"":D.symbol+"";this.zero=!!D.zero;this.width=void 0===D.width?void 0:+D.width;this.comma=!!D.comma;this.precision=void 0===D.precision?void 0:+D.precision;this.trim=!!D.trim;this.type=void 0===D.type?"":D.type+""}function u(D,O){O=l(D,O);if(!O)return D+"";D=O[0];O=O[1];return 0>O?"0."+Array(-O).join("0")+D:D.length>O+1?D.slice(0,O+1)+"."+D.slice(O+1):D+
Array(O-D.length+2).join("0")}function m(D){return D}function g(D){function O(fa){function ha(Ya){var Da=bb,ta=kb,U,W;if("c"===Ia)ta=ua(Ya)+ta,Ya="";else{Ya=+Ya;var ba=0>Ya||0>1/Ya;Ya=isNaN(Ya)?ja:ua(Math.abs(Ya),ya);if(va){var ca=Ya.length,ra=1,qa=-1;a:for(;ra<ca;++ra)switch(Ya[ra]){case ".":qa=U=ra;break;case "0":0===qa&&(qa=ra);U=ra;break;default:if(!+Ya[ra])break a;0<qa&&(qa=0)}Ya=0<qa?Ya.slice(0,qa)+Ya.slice(U+1):Ya}ba&&0===+Ya&&"+"!==P&&(ba=!1);Da=(ba?"("===P?P:T:"-"===P||"("===P?"":P)+Da;ta=
("s"===Ia?y[8+a/3]:"")+ta+(ba&&"("===P?")":"");if(Ta)for(ba=-1,U=Ya.length;++ba<U;)if(W=Ya.charCodeAt(ba),48>W||57<W){ta=(46===W?G+Ya.slice(ba+1):Ya.slice(ba))+ta;Ya=Ya.slice(0,ba);break}}aa&&!V&&(Ya=M(Ya,Infinity));W=Da.length+Ya.length+ta.length;ba=W<ia?Array(ia-W+1).join(la):"";aa&&V&&(Ya=M(ba+Ya,ba.length?ia-ta.length:Infinity),ba="");switch(Z){case "\x3c":Ya=Da+Ya+ta+ba;break;case "\x3d":Ya=Da+ba+Ya+ta;break;case "^":Ya=ba.slice(0,W=ba.length>>1)+Da+Ya+ta+ba.slice(W);break;default:Ya=ba+Da+Ya+
ta}return K(Ya)}fa=x(fa);var la=fa.fill,Z=fa.align,P=fa.sign,C=fa.symbol,V=fa.zero,ia=fa.width,aa=fa.comma,ya=fa.precision,va=fa.trim,Ia=fa.type;"n"===Ia?(aa=!0,Ia="g"):e[Ia]||(void 0===ya&&(ya=12),va=!0,Ia="g");if(V||"0"===la&&"\x3d"===Z)V=!0,la="0",Z="\x3d";var bb="$"===C?F:"#"===C&&/[boxX]/.test(Ia)?"0"+Ia.toLowerCase():"",kb="$"===C?z:/[%p]/.test(Ia)?R:"",ua=e[Ia],Ta=/[defgprs%]/.test(Ia);ya=void 0===ya?6:/[gprs]/.test(Ia)?Math.max(1,Math.min(21,ya)):Math.max(0,Math.min(20,ya));ha.toString=function(){return fa+
""};return ha}var M=void 0===D.grouping||void 0===D.thousands?m:H(n.call(D.grouping,Number),D.thousands+""),F=void 0===D.currency?"":D.currency[0]+"",z=void 0===D.currency?"":D.currency[1]+"",G=void 0===D.decimal?".":D.decimal+"",K=void 0===D.numerals?m:N(n.call(D.numerals,String)),R=void 0===D.percent?"%":D.percent+"",T=void 0===D.minus?"":D.minus+"",ja=void 0===D.nan?"NaN":D.nan+"";return{format:O,formatPrefix:function(fa,ha){var la=O((fa=x(fa),fa.type="f",fa));fa=3*Math.max(-8,Math.min(8,Math.floor(w(ha)/
3)));var Z=Math.pow(10,-fa),P=y[8+fa/3];return function(C){return la(Z*C)+P}}}}function d(D){B=g(D);k.format=B.format;k.formatPrefix=B.formatPrefix;return B}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;x.prototype=v.prototype;v.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var a,e={"%":(D,O)=>(100*D).toFixed(O),b:D=>Math.round(D).toString(2),c:D=>D+"",d:function(D){return 1E21<=Math.abs(D=Math.round(D))?D.toLocaleString("en").replace(/,/g,""):D.toString(10)},e:(D,O)=>D.toExponential(O),f:(D,O)=>D.toFixed(O),g:(D,O)=>D.toPrecision(O),o:D=>Math.round(D).toString(8),p:(D,O)=>u(100*D,O),r:u,s:function(D,O){var M=l(D,O);if(!M)return D+"";var F=M[0];M=M[1];M=M-(a=3*Math.max(-8,Math.min(8,Math.floor(M/3))))+1;var z=F.length;return M===z?F:M>z?F+Array(M-
z+1).join("0"):0<M?F.slice(0,M)+"."+F.slice(M):"0."+Array(1-M).join("0")+l(D,Math.max(0,O+M-1))[0]},X:D=>Math.round(D).toString(16).toUpperCase(),x:D=>Math.round(D).toString(16)},n=Array.prototype.map,y="y z a f p n  m  k M G T P E Z Y".split(" "),B;d({thousands:",",grouping:[3],currency:["$",""]});k.FormatSpecifier=v;k.formatDefaultLocale=d;k.formatLocale=g;k.formatSpecifier=x;k.precisionFixed=function(D){return Math.max(0,-w(Math.abs(D)))};k.precisionPrefix=function(D,O){return Math.max(0,3*Math.max(-8,
Math.min(8,Math.floor(w(O)/3)))-w(Math.abs(D)))};k.precisionRound=function(D,O){D=Math.abs(D);O=Math.abs(O)-D;return Math.max(0,w(O)-w(D))+1};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(Ga,pa,Ha,Ua){function jb(Fb){return Ga(Fb=0===arguments.length?new Date:new Date(+Fb)),Fb}jb.floor=function(Fb){return Ga(Fb=new Date(+Fb)),Fb};jb.ceil=function(Fb){return Ga(Fb=new Date(Fb-1)),pa(Fb,1),Ga(Fb),Fb};jb.round=function(Fb){var Xb=jb(Fb),nc=jb.ceil(Fb);return Fb-Xb<
nc-Fb?Xb:nc};jb.offset=function(Fb,Xb){return pa(Fb=new Date(+Fb),null==Xb?1:Math.floor(Xb)),Fb};jb.range=function(Fb,Xb,nc){var md=[],pc;Fb=jb.ceil(Fb);nc=null==nc?1:Math.floor(nc);if(!(Fb<Xb&&0<nc))return md;do md.push(pc=new Date(+Fb)),pa(Fb,nc),Ga(Fb);while(pc<Fb&&Fb<Xb);return md};jb.filter=function(Fb){return l(function(Xb){if(Xb>=Xb)for(;Ga(Xb),!Fb(Xb);)Xb.setTime(Xb-1)},function(Xb,nc){if(Xb>=Xb)if(0>nc)for(;0>=++nc;)for(;pa(Xb,-1),!Fb(Xb););else for(;0<=--nc;)for(;pa(Xb,1),!Fb(Xb););})};
Ha&&(jb.count=function(Fb,Xb){N.setTime(+Fb);x.setTime(+Xb);Ga(N);Ga(x);return Math.floor(Ha(N,x))},jb.every=function(Fb){Fb=Math.floor(Fb);return isFinite(Fb)&&0<Fb?1<Fb?jb.filter(Ua?function(Xb){return 0===Ua(Xb)%Fb}:function(Xb){return 0===jb.count(0,Xb)%Fb}):jb:null});return jb}function w(Ga){return l(function(pa){pa.setDate(pa.getDate()-(pa.getDay()+7-Ga)%7);pa.setHours(0,0,0,0)},function(pa,Ha){pa.setDate(pa.getDate()+7*Ha)},function(pa,Ha){return(Ha-pa-6E4*(Ha.getTimezoneOffset()-pa.getTimezoneOffset()))/
6048E5})}function H(Ga){return l(function(pa){pa.setUTCDate(pa.getUTCDate()-(pa.getUTCDay()+7-Ga)%7);pa.setUTCHours(0,0,0,0)},function(pa,Ha){pa.setUTCDate(pa.getUTCDate()+7*Ha)},function(pa,Ha){return(Ha-pa)/6048E5})}var N=new Date,x=new Date,v=l(function(){},function(Ga,pa){Ga.setTime(+Ga+pa)},function(Ga,pa){return pa-Ga});v.every=function(Ga){Ga=Math.floor(Ga);return isFinite(Ga)&&0<Ga?1<Ga?l(function(pa){pa.setTime(Math.floor(pa/Ga)*Ga)},function(pa,Ha){pa.setTime(+pa+Ha*Ga)},function(pa,Ha){return(Ha-
pa)/Ga}):v:null};var u=v.range,m=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds())},function(Ga,pa){Ga.setTime(+Ga+1E3*pa)},function(Ga,pa){return(pa-Ga)/1E3},function(Ga){return Ga.getUTCSeconds()}),g=m.range,d=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds())},function(Ga,pa){Ga.setTime(+Ga+6E4*pa)},function(Ga,pa){return(pa-Ga)/6E4},function(Ga){return Ga.getMinutes()}),f=d.range,a=l(function(Ga){Ga.setTime(Ga-Ga.getMilliseconds()-1E3*Ga.getSeconds()-6E4*Ga.getMinutes())},
function(Ga,pa){Ga.setTime(+Ga+36E5*pa)},function(Ga,pa){return(pa-Ga)/36E5},function(Ga){return Ga.getHours()}),e=a.range,n=l(Ga=>Ga.setHours(0,0,0,0),(Ga,pa)=>Ga.setDate(Ga.getDate()+pa),(Ga,pa)=>(pa-Ga-6E4*(pa.getTimezoneOffset()-Ga.getTimezoneOffset()))/864E5,Ga=>Ga.getDate()-1),y=n.range,B=w(0),D=w(1),O=w(2),M=w(3),F=w(4),z=w(5),G=w(6),K=B.range,R=D.range,T=O.range,ja=M.range,fa=F.range,ha=z.range,la=G.range,Z=l(function(Ga){Ga.setDate(1);Ga.setHours(0,0,0,0)},function(Ga,pa){Ga.setMonth(Ga.getMonth()+
pa)},function(Ga,pa){return pa.getMonth()-Ga.getMonth()+12*(pa.getFullYear()-Ga.getFullYear())},function(Ga){return Ga.getMonth()}),P=Z.range,C=l(function(Ga){Ga.setMonth(0,1);Ga.setHours(0,0,0,0)},function(Ga,pa){Ga.setFullYear(Ga.getFullYear()+pa)},function(Ga,pa){return pa.getFullYear()-Ga.getFullYear()},function(Ga){return Ga.getFullYear()});C.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?l(function(pa){pa.setFullYear(Math.floor(pa.getFullYear()/Ga)*Ga);pa.setMonth(0,1);pa.setHours(0,
0,0,0)},function(pa,Ha){pa.setFullYear(pa.getFullYear()+Ha*Ga)}):null};var V=C.range,ia=l(function(Ga){Ga.setUTCSeconds(0,0)},function(Ga,pa){Ga.setTime(+Ga+6E4*pa)},function(Ga,pa){return(pa-Ga)/6E4},function(Ga){return Ga.getUTCMinutes()}),aa=ia.range,ya=l(function(Ga){Ga.setUTCMinutes(0,0,0)},function(Ga,pa){Ga.setTime(+Ga+36E5*pa)},function(Ga,pa){return(pa-Ga)/36E5},function(Ga){return Ga.getUTCHours()}),va=ya.range,Ia=l(function(Ga){Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCDate(Ga.getUTCDate()+
pa)},function(Ga,pa){return(pa-Ga)/864E5},function(Ga){return Ga.getUTCDate()-1}),bb=Ia.range,kb=H(0),ua=H(1),Ta=H(2),Ya=H(3),Da=H(4),ta=H(5),U=H(6),W=kb.range,ba=ua.range,ca=Ta.range,ra=Ya.range,qa=Da.range,Fa=ta.range,na=U.range,Ra=l(function(Ga){Ga.setUTCDate(1);Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCMonth(Ga.getUTCMonth()+pa)},function(Ga,pa){return pa.getUTCMonth()-Ga.getUTCMonth()+12*(pa.getUTCFullYear()-Ga.getUTCFullYear())},function(Ga){return Ga.getUTCMonth()}),db=Ra.range,$a=
l(function(Ga){Ga.setUTCMonth(0,1);Ga.setUTCHours(0,0,0,0)},function(Ga,pa){Ga.setUTCFullYear(Ga.getUTCFullYear()+pa)},function(Ga,pa){return pa.getUTCFullYear()-Ga.getUTCFullYear()},function(Ga){return Ga.getUTCFullYear()});$a.every=function(Ga){return isFinite(Ga=Math.floor(Ga))&&0<Ga?l(function(pa){pa.setUTCFullYear(Math.floor(pa.getUTCFullYear()/Ga)*Ga);pa.setUTCMonth(0,1);pa.setUTCHours(0,0,0,0)},function(pa,Ha){pa.setUTCFullYear(pa.getUTCFullYear()+Ha*Ga)}):null};var Ca=$a.range;k.timeDay=n;
k.timeDays=y;k.timeFriday=z;k.timeFridays=ha;k.timeHour=a;k.timeHours=e;k.timeInterval=l;k.timeMillisecond=v;k.timeMilliseconds=u;k.timeMinute=d;k.timeMinutes=f;k.timeMonday=D;k.timeMondays=R;k.timeMonth=Z;k.timeMonths=P;k.timeSaturday=G;k.timeSaturdays=la;k.timeSecond=m;k.timeSeconds=g;k.timeSunday=B;k.timeSundays=K;k.timeThursday=F;k.timeThursdays=fa;k.timeTuesday=O;k.timeTuesdays=T;k.timeWednesday=M;k.timeWednesdays=ja;k.timeWeek=B;k.timeWeeks=K;k.timeYear=C;k.timeYears=V;k.utcDay=Ia;k.utcDays=
bb;k.utcFriday=ta;k.utcFridays=Fa;k.utcHour=ya;k.utcHours=va;k.utcMillisecond=v;k.utcMilliseconds=u;k.utcMinute=ia;k.utcMinutes=aa;k.utcMonday=ua;k.utcMondays=ba;k.utcMonth=Ra;k.utcMonths=db;k.utcSaturday=U;k.utcSaturdays=na;k.utcSecond=m;k.utcSeconds=g;k.utcSunday=kb;k.utcSundays=W;k.utcThursday=Da;k.utcThursdays=qa;k.utcTuesday=Ta;k.utcTuesdays=ca;k.utcWednesday=Ya;k.utcWednesdays=ra;k.utcWeek=kb;k.utcWeeks=W;k.utcYear=$a;k.utcYears=Ca;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(17),A(15)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3))})(this,function(k,l,w,H){function N(va){const Ia=l.array(va).slice(),bb={};Ia.length||l.error("Missing time unit.");Ia.forEach(kb=>{l.hasOwnProperty(D,kb)?bb[kb]=1:l.error(`Invalid time unit: ${kb}.`)});
1<(bb.week||bb.day?1:0)+(bb.quarter||bb.month||bb.date?1:0)+(bb.dayofyear?1:0)&&l.error(`Incompatible time units: ${va}`);Ia.sort((kb,ua)=>D[kb]-D[ua]);return Ia}function x(va){M.setFullYear(va);M.setMonth(0);M.setDate(1);M.setHours(0,0,0,0);return M}function v(va){return w.timeDay.count(x(va.getFullYear())-1,va)}function u(va){return w.timeWeek.count(x(va.getFullYear())-1,va)}function m(va,Ia,bb,kb,ua,Ta,Ya){return 0<=va&&100>va?(Ia=new Date(-1,Ia,bb,kb,ua,Ta,Ya),Ia.setFullYear(va),Ia):new Date(va,
Ia,bb,kb,ua,Ta,Ya)}function g(va){const Ia=Date.UTC(va.getUTCFullYear(),0,1);return w.utcDay.count(Ia-1,va)}function d(va){const Ia=Date.UTC(va.getUTCFullYear(),0,1);return w.utcWeek.count(Ia-1,va)}function f(va){M.setTime(Date.UTC(va,0,1));return M.getUTCDay()}function a(va,Ia,bb,kb,ua,Ta,Ya){return 0<=va&&100>va?(va=new Date(Date.UTC(-1,Ia,bb,kb,ua,Ta,Ya)),va.setUTCFullYear(bb.y),va):new Date(Date.UTC(va,Ia,bb,kb,ua,Ta,Ya))}function e(va,Ia,bb,kb,ua){const Ta=Ia||1,Ya=l.peek(va);Ia=(Fa,na,Ra)=>
{Ra=Ra||Fa;return n(bb[Ra],kb[Ra],Fa===Ya&&Ta,na)};const Da=new Date;va=l.toSet(va);const ta=va.year?Ia("year"):l.constant(2012),U=va.month?Ia("month"):va.quarter?Ia("quarter"):l.zero,W=va.week&&va.day?Ia("day",1,"weekday"):va.week?Ia("week",1):va.day?Ia("day",1):va.date?Ia("date",1):va.dayofyear?Ia("dayofyear",1):l.one,ba=va.hours?Ia("hours"):l.zero,ca=va.minutes?Ia("minutes"):l.zero,ra=va.seconds?Ia("seconds"):l.zero,qa=va.milliseconds?Ia("milliseconds"):l.zero;return function(Fa){Da.setTime(+Fa);
Fa=ta(Da);return ua(Fa,U(Da),W(Da,Fa),ba(Da),ca(Da),ra(Da),qa(Da))}}function n(va,Ia,bb,kb){const ua=1>=bb?va:kb?(Ta,Ya)=>kb+bb*Math.floor((va(Ta,Ya)-kb)/bb):(Ta,Ya)=>bb*Math.floor(va(Ta,Ya)/bb);return Ia?(Ta,Ya)=>Ia(ua(Ta,Ya),Ya):ua}function y(va,Ia,bb){return Ia+7*va-(bb+6)%7}const B="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),D=B.reduce((va,Ia,bb)=>(va[Ia]=1+bb,va),{}),O={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",
["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},M=new Date,F={["year"]:va=>va.getFullYear(),["quarter"]:va=>Math.floor(va.getMonth()/3),["month"]:va=>va.getMonth(),["date"]:va=>va.getDate(),["hours"]:va=>va.getHours(),["minutes"]:va=>va.getMinutes(),["seconds"]:va=>va.getSeconds(),["milliseconds"]:va=>va.getMilliseconds(),["dayofyear"]:va=>v(va),["week"]:va=>
u(va),["weekday"]:(va,Ia)=>y(u(va),va.getDay(),x(Ia).getDay()),["day"]:(va,Ia)=>y(1,va.getDay(),x(Ia).getDay())},z={["quarter"]:va=>3*va,["week"]:(va,Ia)=>y(va,0,x(Ia).getDay())},G={["year"]:va=>va.getUTCFullYear(),["quarter"]:va=>Math.floor(va.getUTCMonth()/3),["month"]:va=>va.getUTCMonth(),["date"]:va=>va.getUTCDate(),["hours"]:va=>va.getUTCHours(),["minutes"]:va=>va.getUTCMinutes(),["seconds"]:va=>va.getUTCSeconds(),["milliseconds"]:va=>va.getUTCMilliseconds(),["dayofyear"]:va=>g(va),["week"]:va=>
d(va),["day"]:(va,Ia)=>y(1,va.getUTCDay(),f(Ia)),["weekday"]:(va,Ia)=>y(d(va),va.getUTCDay(),f(Ia))},K={["quarter"]:va=>3*va,["week"]:(va,Ia)=>y(va,0,f(Ia))},R={["year"]:w.timeYear,["quarter"]:w.timeMonth.every(3),["month"]:w.timeMonth,["week"]:w.timeWeek,["date"]:w.timeDay,["day"]:w.timeDay,["dayofyear"]:w.timeDay,["hours"]:w.timeHour,["minutes"]:w.timeMinute,["seconds"]:w.timeSecond,["milliseconds"]:w.timeMillisecond},T={["year"]:w.utcYear,["quarter"]:w.utcMonth.every(3),["month"]:w.utcMonth,["week"]:w.utcWeek,
["date"]:w.utcDay,["day"]:w.utcDay,["dayofyear"]:w.utcDay,["hours"]:w.utcHour,["minutes"]:w.utcMinute,["seconds"]:w.utcSecond,["milliseconds"]:w.utcMillisecond},ja=6048E5,fa=2592E6,ha=31536E6,la="year month date hours minutes seconds milliseconds".split(" "),Z=la.slice(0,-1),P=Z.slice(0,-1),C=P.slice(0,-1),V=C.slice(0,-1),ia=["year","month"],aa=["year"],ya=[[Z,1,1E3],[Z,5,5E3],[Z,15,15E3],[Z,30,3E4],[P,1,6E4],[P,5,3E5],[P,15,9E5],[P,30,18E5],[C,1,36E5],[C,3,108E5],[C,6,216E5],[C,12,432E5],[V,1,864E5],
[["year","week"],1,ja],[ia,1,fa],[ia,3,3*fa],[aa,1,ha]];k.DATE="date";k.DAY="day";k.DAYOFYEAR="dayofyear";k.HOURS="hours";k.MILLISECONDS="milliseconds";k.MINUTES="minutes";k.MONTH="month";k.QUARTER="quarter";k.SECONDS="seconds";k.TIME_UNITS=B;k.WEEK="week";k.YEAR="year";k.dayofyear=function(va){return v(new Date(va))};k.timeBin=function(va){var Ia=va.extent;va=va.maxbins||40;var bb=Math.abs(l.span(Ia))/va;let kb=H.bisector(ua=>ua[2]).right(ya,bb);kb===ya.length?(bb=aa,Ia=H.tickStep(Ia[0]/ha,Ia[1]/
ha,va)):kb?(kb=ya[bb/ya[kb-1][2]<ya[kb][2]/bb?kb-1:kb],bb=kb[0],Ia=kb[1]):(bb=la,Ia=Math.max(H.tickStep(Ia[0],Ia[1],va),1));return{units:bb,step:Ia}};k.timeFloor=function(va,Ia){return e(va,Ia||1,F,z,m)};k.timeInterval=function(va){return R[va]};k.timeOffset=function(va,Ia,bb){return(va=R[va])?va.offset(Ia,bb):void 0};k.timeSequence=function(va,Ia,bb,kb){return(va=R[va])?va.range(Ia,bb,kb):void 0};k.timeUnitSpecifier=function(va,Ia){Ia=l.extend({},O,Ia);va=N(va);const bb=va.length;let kb="",ua,Ta,
Ya;for(ua=0;ua<bb;)for(Ta=va.length;Ta>ua;--Ta)if(Ya=va.slice(ua,Ta).join("-"),null!=Ia[Ya]){kb+=Ia[Ya];ua=Ta;break}return kb.trim()};k.timeUnits=N;k.utcFloor=function(va,Ia){return e(va,Ia||1,G,K,a)};k.utcInterval=function(va){return T[va]};k.utcOffset=function(va,Ia,bb){return(va=T[va])?va.offset(Ia,bb):void 0};k.utcSequence=function(va,Ia,bb,kb){return(va=T[va])?va.range(Ia,bb,kb):void 0};k.utcdayofyear=function(va){return g(new Date(va))};k.utcweek=function(va){return d(new Date(va))};k.week=
function(va){return u(new Date(va))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(17)):"function"===typeof define&&define.amd?define(["exports","d3-time"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(Pb){if(0<=Pb.y&&100>Pb.y){var gc=new Date(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L);gc.setFullYear(Pb.y);return gc}return new Date(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L)}function H(Pb){if(0<=Pb.y&&100>Pb.y){var gc=new Date(Date.UTC(-1,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L));
gc.setUTCFullYear(Pb.y);return gc}return new Date(Date.UTC(Pb.y,Pb.m,Pb.d,Pb.H,Pb.M,Pb.S,Pb.L))}function N(Pb,gc,Eb){return{y:Pb,m:gc,d:Eb,H:0,M:0,S:0,L:0}}function x(Pb){function gc(uc,Tc){return function(ad){var ld=[],Cd=-1,Dd=0,Ud=uc.length,ae,oe;for(ad instanceof Date||(ad=new Date(+ad));++Cd<Ud;)if(37===uc.charCodeAt(Cd)){ld.push(uc.slice(Dd,Cd));null!=(Dd=Sc[ae=uc.charAt(++Cd)])?ae=uc.charAt(++Cd):Dd="e"===ae?" ":"0";if(oe=Tc[ae])ae=oe(ad,Dd);ld.push(ae);Dd=Cd+1}ld.push(uc.slice(Dd,Cd));return ld.join("")}}
function Eb(uc,Tc){return function(ad){var ld=N(1900,void 0,1);if(zc(ld,uc,ad+="",0)!=ad.length)return null;if("Q"in ld)return new Date(ld.Q);if("s"in ld)return new Date(1E3*ld.s+("L"in ld?ld.L:0));!Tc||"Z"in ld||(ld.Z=0);"p"in ld&&(ld.H=ld.H%12+12*ld.p);void 0===ld.m&&(ld.m="q"in ld?ld.q:0);if("V"in ld){if(1>ld.V||53<ld.V)return null;"w"in ld||(ld.w=1);if("Z"in ld){ad=H(N(ld.y,0,1));var Cd=ad.getUTCDay();ad=4<Cd||0===Cd?l.utcMonday.ceil(ad):l.utcMonday(ad);ad=l.utcDay.offset(ad,7*(ld.V-1));ld.y=
ad.getUTCFullYear();ld.m=ad.getUTCMonth();ld.d=ad.getUTCDate()+(ld.w+6)%7}else ad=w(N(ld.y,0,1)),Cd=ad.getDay(),ad=4<Cd||0===Cd?l.timeMonday.ceil(ad):l.timeMonday(ad),ad=l.timeDay.offset(ad,7*(ld.V-1)),ld.y=ad.getFullYear(),ld.m=ad.getMonth(),ld.d=ad.getDate()+(ld.w+6)%7}else if("W"in ld||"U"in ld)"w"in ld||(ld.w="u"in ld?ld.u%7:"W"in ld?1:0),Cd="Z"in ld?H(N(ld.y,0,1)).getUTCDay():w(N(ld.y,0,1)).getDay(),ld.m=0,ld.d="W"in ld?(ld.w+6)%7+7*ld.W-(Cd+5)%7:ld.w+7*ld.U-(Cd+6)%7;return"Z"in ld?(ld.H+=ld.Z/
100|0,ld.M+=ld.Z%100,H(ld)):w(ld)}}function zc(uc,Tc,ad,ld){for(var Cd=0,Dd=Tc.length,Ud=ad.length,ae;Cd<Dd;){if(ld>=Ud)return-1;ae=Tc.charCodeAt(Cd++);if(37===ae){if(ae=Tc.charAt(Cd++),ae=Dc[ae in Sc?Tc.charAt(Cd++):ae],!ae||0>(ld=ae(uc,ad,ld)))return-1}else if(ae!=ad.charCodeAt(ld++))return-1}return ld}var Vc=Pb.dateTime,Ed=Pb.date,Vd=Pb.time,Ka=Pb.periods,eb=Pb.days,wb=Pb.shortDays,Hb=Pb.months,ac=Pb.shortMonths,Lb=m(Ka),Ac=g(Ka),tc=m(eb),pb=g(eb),Bb=m(wb),Ub=g(wb),mc=m(Hb),Bc=g(Hb),Cc=m(ac),Xc=
g(ac),Qb={a:function(uc){return wb[uc.getDay()]},A:function(uc){return eb[uc.getDay()]},b:function(uc){return ac[uc.getMonth()]},B:function(uc){return Hb[uc.getMonth()]},c:null,d:Z,e:Z,f:aa,g:U,G:ba,H:P,I:C,j:V,L:ia,m:ya,M:va,p:function(uc){return Ka[+(12<=uc.getHours())]},q:function(uc){return 1+~~(uc.getMonth()/3)},Q:jc,s:rc,S:Ia,u:bb,U:kb,V:Ta,w:Ya,W:Da,x:null,X:null,y:ta,Y:W,Z:ca,"%":hc},Ic={a:function(uc){return wb[uc.getUTCDay()]},A:function(uc){return eb[uc.getUTCDay()]},b:function(uc){return ac[uc.getUTCMonth()]},
B:function(uc){return Hb[uc.getUTCMonth()]},c:null,d:ra,e:ra,f:db,g:md,G:Hc,H:qa,I:Fa,j:na,L:Ra,m:$a,M:Ca,p:function(uc){return Ka[+(12<=uc.getUTCHours())]},q:function(uc){return 1+~~(uc.getUTCMonth()/3)},Q:jc,s:rc,S:Ga,u:pa,U:Ha,V:jb,w:Fb,W:Xb,x:null,X:null,y:nc,Y:pc,Z:mb,"%":hc},Dc={a:function(uc,Tc,ad){return(Tc=Bb.exec(Tc.slice(ad)))?(uc.w=Ub.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},A:function(uc,Tc,ad){return(Tc=tc.exec(Tc.slice(ad)))?(uc.w=pb.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},
b:function(uc,Tc,ad){return(Tc=Cc.exec(Tc.slice(ad)))?(uc.m=Xc.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},B:function(uc,Tc,ad){return(Tc=mc.exec(Tc.slice(ad)))?(uc.m=Bc.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},c:function(uc,Tc,ad){return zc(uc,Vc,Tc,ad)},d:F,e:F,f:ja,g:B,G:y,H:G,I:G,j:z,L:T,m:M,M:K,p:function(uc,Tc,ad){return(Tc=Lb.exec(Tc.slice(ad)))?(uc.p=Ac.get(Tc[0].toLowerCase()),ad+Tc[0].length):-1},q:O,Q:ha,s:la,S:R,u:f,U:a,V:e,w:d,W:n,x:function(uc,Tc,ad){return zc(uc,Ed,Tc,ad)},X:function(uc,
Tc,ad){return zc(uc,Vd,Tc,ad)},y:B,Y:y,Z:D,"%":fa};Qb.x=gc(Ed,Qb);Qb.X=gc(Vd,Qb);Qb.c=gc(Vc,Qb);Ic.x=gc(Ed,Ic);Ic.X=gc(Vd,Ic);Ic.c=gc(Vc,Ic);return{format:function(uc){var Tc=gc(uc+="",Qb);Tc.toString=function(){return uc};return Tc},parse:function(uc){var Tc=Eb(uc+="",!1);Tc.toString=function(){return uc};return Tc},utcFormat:function(uc){var Tc=gc(uc+="",Ic);Tc.toString=function(){return uc};return Tc},utcParse:function(uc){var Tc=Eb(uc+="",!0);Tc.toString=function(){return uc};return Tc}}}function v(Pb,
gc,Eb){var zc=0>Pb?"-":"";Pb=(zc?-Pb:Pb)+"";var Vc=Pb.length;return zc+(Vc<Eb?Array(Eb-Vc+1).join(gc)+Pb:Pb)}function u(Pb){return Pb.replace(ge,"\\$\x26")}function m(Pb){return new RegExp("^(?:"+Pb.map(u).join("|")+")","i")}function g(Pb){return new Map(Pb.map((gc,Eb)=>[gc.toLowerCase(),Eb]))}function d(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.w=+gc[0],Eb+gc[0].length):-1}function f(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.u=+gc[0],Eb+gc[0].length):-1}function a(Pb,gc,Eb){return(gc=
Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.U=+gc[0],Eb+gc[0].length):-1}function e(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.V=+gc[0],Eb+gc[0].length):-1}function n(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.W=+gc[0],Eb+gc[0].length):-1}function y(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+4)))?(Pb.y=+gc[0],Eb+gc[0].length):-1}function B(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.y=+gc[0]+(68<+gc[0]?1900:2E3),Eb+gc[0].length):-1}function D(Pb,gc,Eb){return(gc=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(gc.slice(Eb,
Eb+6)))?(Pb.Z=gc[1]?0:-(gc[2]+(gc[3]||"00")),Eb+gc[0].length):-1}function O(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+1)))?(Pb.q=3*gc[0]-3,Eb+gc[0].length):-1}function M(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.m=gc[0]-1,Eb+gc[0].length):-1}function F(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.d=+gc[0],Eb+gc[0].length):-1}function z(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+3)))?(Pb.m=0,Pb.d=+gc[0],Eb+gc[0].length):-1}function G(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?
(Pb.H=+gc[0],Eb+gc[0].length):-1}function K(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.M=+gc[0],Eb+gc[0].length):-1}function R(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+2)))?(Pb.S=+gc[0],Eb+gc[0].length):-1}function T(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+3)))?(Pb.L=+gc[0],Eb+gc[0].length):-1}function ja(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb,Eb+6)))?(Pb.L=Math.floor(gc[0]/1E3),Eb+gc[0].length):-1}function fa(Pb,gc,Eb){return(Pb=Fd.exec(gc.slice(Eb,Eb+1)))?Eb+Pb[0].length:-1}function ha(Pb,
gc,Eb){return(gc=Lc.exec(gc.slice(Eb)))?(Pb.Q=+gc[0],Eb+gc[0].length):-1}function la(Pb,gc,Eb){return(gc=Lc.exec(gc.slice(Eb)))?(Pb.s=+gc[0],Eb+gc[0].length):-1}function Z(Pb,gc){return v(Pb.getDate(),gc,2)}function P(Pb,gc){return v(Pb.getHours(),gc,2)}function C(Pb,gc){return v(Pb.getHours()%12||12,gc,2)}function V(Pb,gc){return v(1+l.timeDay.count(l.timeYear(Pb),Pb),gc,3)}function ia(Pb,gc){return v(Pb.getMilliseconds(),gc,3)}function aa(Pb,gc){return ia(Pb,gc)+"000"}function ya(Pb,gc){return v(Pb.getMonth()+
1,gc,2)}function va(Pb,gc){return v(Pb.getMinutes(),gc,2)}function Ia(Pb,gc){return v(Pb.getSeconds(),gc,2)}function bb(Pb){Pb=Pb.getDay();return 0===Pb?7:Pb}function kb(Pb,gc){return v(l.timeSunday.count(l.timeYear(Pb)-1,Pb),gc,2)}function ua(Pb){var gc=Pb.getDay();return 4<=gc||0===gc?l.timeThursday(Pb):l.timeThursday.ceil(Pb)}function Ta(Pb,gc){Pb=ua(Pb);return v(l.timeThursday.count(l.timeYear(Pb),Pb)+(4===l.timeYear(Pb).getDay()),gc,2)}function Ya(Pb){return Pb.getDay()}function Da(Pb,gc){return v(l.timeMonday.count(l.timeYear(Pb)-
1,Pb),gc,2)}function ta(Pb,gc){return v(Pb.getFullYear()%100,gc,2)}function U(Pb,gc){Pb=ua(Pb);return v(Pb.getFullYear()%100,gc,2)}function W(Pb,gc){return v(Pb.getFullYear()%1E4,gc,4)}function ba(Pb,gc){var Eb=Pb.getDay();Pb=4<=Eb||0===Eb?l.timeThursday(Pb):l.timeThursday.ceil(Pb);return v(Pb.getFullYear()%1E4,gc,4)}function ca(Pb){Pb=Pb.getTimezoneOffset();return(0<Pb?"-":(Pb*=-1,"+"))+v(Pb/60|0,"0",2)+v(Pb%60,"0",2)}function ra(Pb,gc){return v(Pb.getUTCDate(),gc,2)}function qa(Pb,gc){return v(Pb.getUTCHours(),
gc,2)}function Fa(Pb,gc){return v(Pb.getUTCHours()%12||12,gc,2)}function na(Pb,gc){return v(1+l.utcDay.count(l.utcYear(Pb),Pb),gc,3)}function Ra(Pb,gc){return v(Pb.getUTCMilliseconds(),gc,3)}function db(Pb,gc){return Ra(Pb,gc)+"000"}function $a(Pb,gc){return v(Pb.getUTCMonth()+1,gc,2)}function Ca(Pb,gc){return v(Pb.getUTCMinutes(),gc,2)}function Ga(Pb,gc){return v(Pb.getUTCSeconds(),gc,2)}function pa(Pb){Pb=Pb.getUTCDay();return 0===Pb?7:Pb}function Ha(Pb,gc){return v(l.utcSunday.count(l.utcYear(Pb)-
1,Pb),gc,2)}function Ua(Pb){var gc=Pb.getUTCDay();return 4<=gc||0===gc?l.utcThursday(Pb):l.utcThursday.ceil(Pb)}function jb(Pb,gc){Pb=Ua(Pb);return v(l.utcThursday.count(l.utcYear(Pb),Pb)+(4===l.utcYear(Pb).getUTCDay()),gc,2)}function Fb(Pb){return Pb.getUTCDay()}function Xb(Pb,gc){return v(l.utcMonday.count(l.utcYear(Pb)-1,Pb),gc,2)}function nc(Pb,gc){return v(Pb.getUTCFullYear()%100,gc,2)}function md(Pb,gc){Pb=Ua(Pb);return v(Pb.getUTCFullYear()%100,gc,2)}function pc(Pb,gc){return v(Pb.getUTCFullYear()%
1E4,gc,4)}function Hc(Pb,gc){var Eb=Pb.getUTCDay();Pb=4<=Eb||0===Eb?l.utcThursday(Pb):l.utcThursday.ceil(Pb);return v(Pb.getUTCFullYear()%1E4,gc,4)}function mb(){return"+0000"}function hc(){return"%"}function jc(Pb){return+Pb}function rc(Pb){return Math.floor(+Pb/1E3)}function Pc(Pb){wd=x(Pb);k.timeFormat=wd.format;k.timeParse=wd.parse;k.utcFormat=wd.utcFormat;k.utcParse=wd.utcParse;return wd}function sc(Pb){return Pb.toISOString()}function Uc(Pb){Pb=new Date(Pb);return isNaN(Pb)?null:Pb}var Sc={"-":"",
_:" ",0:"0"},Lc=/^\s*\d+/,Fd=/^%/,ge=/[\\^$*+?|[\]().{}]/g,wd;Pc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var vd=Date.prototype.toISOString?sc:k.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),
Wd=+new Date("2000-01-01T00:00:00.000Z")?Uc:k.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");k.isoFormat=vd;k.isoParse=Wd;k.timeFormatDefaultLocale=Pc;k.timeFormatLocale=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(16),A(18),A(14),A(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3,k.d3,k.vega,k.vega,k.d3))})(this,function(k,l,w,H,N,x){function v(F){const z={};return G=>z[G]||(z[G]=F(G))}function u(F,z){return G=>{G=F(G);const K=G.indexOf(z);if(0>K)return G;
a:{var R=G.lastIndexOf("e");if(!(0<R)){for(R=G.length;--R>K;){var T=G.charCodeAt(R);if(48<=T&&57>=T){R+=1;break a}}R=void 0}}for(T=R<G.length?G.slice(R):"";--R>K;)if("0"!==G[R]){++R;break}return G.slice(0,R)+T}}function m(F){const z=v(F.format),G=F.formatPrefix;return{format:z,formatPrefix:G,formatFloat(K){K=w.formatSpecifier(K||",");if(null==K.precision){K.precision=12;switch(K.type){case "%":K.precision-=2;break;case "e":--K.precision}return u(z(K),z(".1f")(1)[1])}return z(K)},formatSpan(K,R,T,
ja){ja=w.formatSpecifier(null==ja?",f":ja);T=l.tickStep(K,R,T);K=Math.max(Math.abs(K),Math.abs(R));if(null==ja.precision)switch(ja.type){case "s":return isNaN(R=w.precisionPrefix(T,K))||(ja.precision=R),G(ja,K);case "":case "e":case "g":case "p":case "r":isNaN(R=w.precisionRound(T,K))||(ja.precision=R-("e"===ja.type));break;case "f":case "%":isNaN(R=w.precisionFixed(T))||(ja.precision=R-2*("%"===ja.type))}return z(ja)}}}function g(){return O=m({format:w.format,formatPrefix:w.formatPrefix})}function d(F){return m(w.formatLocale(F))}
function f(F){return arguments.length?O=d(F):O}function a(F,z,G){G=G||{};N.isObject(G)||N.error(`Invalid time multi-format specifier: ${G}`);const K=z(H.SECONDS),R=z(H.MINUTES),T=z(H.HOURS),ja=z(H.DATE),fa=z(H.WEEK),ha=z(H.MONTH),la=z(H.QUARTER),Z=z(H.YEAR),P=F(G[H.MILLISECONDS]||".%L"),C=F(G[H.SECONDS]||":%S"),V=F(G[H.MINUTES]||"%I:%M"),ia=F(G[H.HOURS]||"%I %p"),aa=F(G[H.DATE]||G[H.DAY]||"%a %d"),ya=F(G[H.WEEK]||"%b %d"),va=F(G[H.MONTH]||"%B"),Ia=F(G[H.QUARTER]||"%B"),bb=F(G[H.YEAR]||"%Y");return kb=>
(K(kb)<kb?P:R(kb)<kb?C:T(kb)<kb?V:ja(kb)<kb?ia:ha(kb)<kb?fa(kb)<kb?aa:ya:Z(kb)<kb?la(kb)<kb?va:Ia:bb)(kb)}function e(F){const z=v(F.format),G=v(F.utcFormat);return{timeFormat:K=>N.isString(K)?z(K):a(z,H.timeInterval,K),utcFormat:K=>N.isString(K)?G(K):a(G,H.utcInterval,K),timeParse:v(F.parse),utcParse:v(F.utcParse)}}function n(){return M=e({format:x.timeFormat,parse:x.timeParse,utcFormat:x.utcFormat,utcParse:x.utcParse})}function y(F){return e(x.timeFormatLocale(F))}function B(F){return arguments.length?
M=y(F):M}function D(F,z){var G=arguments.length;G&&2!==G&&N.error("defaultLocale expects either zero or two arguments.");if(G){G=f(F);var K=B(z);G=N.extend({},G,K)}else G=f(),K=B(),G=N.extend({},G,K);return G}let O;g();let M;n();k.defaultLocale=D;k.locale=function(F,z){F=F?d(F):f();z=z?y(z):B();return N.extend({},F,z)};k.numberFormatDefaultLocale=f;k.numberFormatLocale=d;k.resetDefaultLocale=function(){g();n();return D()};k.resetNumberFormatDefaultLocale=g;k.resetTimeFormatDefaultLocale=n;k.timeFormatDefaultLocale=
B;k.timeFormatLocale=y;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ja,A,rb,E){function k(x){var v=x.length;if(0<v%4)throw Error("Invalid string. Length must be a multiple of 4");x=x.indexOf("\x3d");-1===x&&(x=v);return[x,x===v?0:4-x%4]}function l(x,v,u){for(var m=[],g=v;g<u;g+=3)v=(x[g]<<16&16711680)+(x[g+1]<<8&65280)+(x[g+2]&255),m.push(w[v>>18&63]+w[v>>12&63]+w[v>>6&63]+w[v&63]);return m.join("")}E.byteLength=function(x){x=k(x);var v=x[1];return 3*(x[0]+v)/4-v};E.toByteArray=function(x){var v=k(x);var u=v[0];v=v[1];var m=new N(3*(u+
v)/4-v),g=0,d=0<v?u-4:u,f;for(f=0;f<d;f+=4)u=H[x.charCodeAt(f)]<<18|H[x.charCodeAt(f+1)]<<12|H[x.charCodeAt(f+2)]<<6|H[x.charCodeAt(f+3)],m[g++]=u>>16&255,m[g++]=u>>8&255,m[g++]=u&255;2===v&&(u=H[x.charCodeAt(f)]<<2|H[x.charCodeAt(f+1)]>>4,m[g++]=u&255);1===v&&(u=H[x.charCodeAt(f)]<<10|H[x.charCodeAt(f+1)]<<4|H[x.charCodeAt(f+2)]>>2,m[g++]=u>>8&255,m[g++]=u&255);return m};E.fromByteArray=function(x){for(var v=x.length,u=v%3,m=[],g=0,d=v-u;g<d;g+=16383)m.push(l(x,g,g+16383>d?d:g+16383));1===u?(x=x[v-
1],m.push(w[x>>2]+w[x<<4&63]+"\x3d\x3d")):2===u&&(x=(x[v-2]<<8)+x[v-1],m.push(w[x>>10]+w[x>>4&63]+w[x<<2&63]+"\x3d"));return m.join("")};var w=[],H=[],N="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ja=0;64>Ja;++Ja)w[Ja]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ja],H["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ja)]=Ja;H[45]=62;H[95]=63};
shadow$provide[22]=function(Ja,A,rb,E){E.read=function(k,l,w,H,N){var x=8*N-H-1;var v=(1<<x)-1,u=v>>1,m=-7;N=w?N-1:0;var g=w?-1:1,d=k[l+N];N+=g;w=d&(1<<-m)-1;d>>=-m;for(m+=x;0<m;w=256*w+k[l+N],N+=g,m-=8);x=w&(1<<-m)-1;w>>=-m;for(m+=H;0<m;x=256*x+k[l+N],N+=g,m-=8);if(0===w)w=1-u;else{if(w===v)return x?NaN:Infinity*(d?-1:1);x+=Math.pow(2,H);w-=u}return(d?-1:1)*x*Math.pow(2,w-H)};E.write=function(k,l,w,H,N,x){var v,u=8*x-N-1,m=(1<<u)-1,g=m>>1,d=23===N?Math.pow(2,-24)-Math.pow(2,-77):0;x=H?0:x-1;var f=
H?1:-1,a=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,H=m):(H=Math.floor(Math.log(l)/Math.LN2),1>l*(v=Math.pow(2,-H))&&(H--,v*=2),l=1<=H+g?l+d/v:l+d*Math.pow(2,1-g),2<=l*v&&(H++,v/=2),H+g>=m?(l=0,H=m):1<=H+g?(l=(l*v-1)*Math.pow(2,N),H+=g):(l=l*Math.pow(2,g-1)*Math.pow(2,N),H=0));for(;8<=N;k[w+x]=l&255,x+=f,l/=256,N-=8);H=H<<N|l;for(u+=N;0<u;k[w+x]=H&255,x+=f,H/=256,u-=8);k[w+x-f]|=128*a}};
shadow$provide[23]=function(Ja,A,rb,E){var k={}.toString;rb.exports=Array.isArray||function(l){return"[object Array]"==k.call(l)}};
shadow$provide[24]=function(Ja,A,rb,E){function k(){try{var P=new Uint8Array(1);P.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===P.foo()&&"function"===typeof P.subarray&&0===P.subarray(1,1).byteLength}catch(C){return!1}}function l(P,C){if((w.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<C)throw new RangeError("Invalid typed array length");w.TYPED_ARRAY_SUPPORT?(P=new Uint8Array(C),P.__proto__=w.prototype):(null===P&&(P=new w(C)),P.length=C);return P}function w(P,C,V){if(!(w.TYPED_ARRAY_SUPPORT||
this instanceof w))return new w(P,C,V);if("number"===typeof P){if("string"===typeof C)throw Error("If encoding is specified then the first argument must be a string");return x(this,P)}return H(this,P,C,V)}function H(P,C,V,ia){if("number"===typeof C)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&C instanceof ArrayBuffer){C.byteLength;if(0>V||C.byteLength<V)throw new RangeError("'offset' is out of bounds");if(C.byteLength<V+(ia||0))throw new RangeError("'length' is out of bounds");
C=void 0===V&&void 0===ia?new Uint8Array(C):void 0===ia?new Uint8Array(C,V):new Uint8Array(C,V,ia);w.TYPED_ARRAY_SUPPORT?(P=C,P.__proto__=w.prototype):P=v(P,C);return P}if("string"===typeof C){ia=P;P=V;if("string"!==typeof P||""===P)P="utf8";if(!w.isEncoding(P))throw new TypeError('"encoding" must be a valid string encoding');V=g(C,P)|0;ia=l(ia,V);C=ia.write(C,P);C!==V&&(ia=ia.slice(0,C));return ia}return u(P,C)}function N(P){if("number"!==typeof P)throw new TypeError('"size" argument must be a number');
if(0>P)throw new RangeError('"size" argument must not be negative');}function x(P,C){N(C);P=l(P,0>C?0:m(C)|0);if(!w.TYPED_ARRAY_SUPPORT)for(var V=0;V<C;++V)P[V]=0;return P}function v(P,C){var V=0>C.length?0:m(C.length)|0;P=l(P,V);for(var ia=0;ia<V;ia+=1)P[ia]=C[ia]&255;return P}function u(P,C){if(w.isBuffer(C)){var V=m(C.length)|0;P=l(P,V);if(0===P.length)return P;C.copy(P,0,0,V);return P}if(C){if("undefined"!==typeof ArrayBuffer&&C.buffer instanceof ArrayBuffer||"length"in C)return(V="number"!==
typeof C.length)||(V=C.length,V=V!==V),V?l(P,0):v(P,C);if("Buffer"===C.type&&ha(C.data))return v(P,C.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function m(P){if(P>=(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(w.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return P|0}function g(P,C){if(w.isBuffer(P))return P.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(P)||P instanceof ArrayBuffer))return P.byteLength;"string"!==typeof P&&(P=""+P);var V=P.length;if(0===V)return 0;for(var ia=!1;;)switch(C){case "ascii":case "latin1":case "binary":return V;case "utf8":case "utf-8":case void 0:return K(P).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*V;case "hex":return V>>>1;case "base64":return ja.toByteArray(G(P)).length;default:if(ia)return K(P).length;C=(""+
C).toLowerCase();ia=!0}}function d(P,C,V){var ia=!1;if(void 0===C||0>C)C=0;if(C>this.length)return"";if(void 0===V||V>this.length)V=this.length;if(0>=V)return"";V>>>=0;C>>>=0;if(V<=C)return"";for(P||(P="utf8");;)switch(P){case "hex":P=C;C=V;V=this.length;if(!P||0>P)P=0;if(!C||0>C||C>V)C=V;ia="";for(V=P;V<C;++V)P=ia,ia=this[V],ia=16>ia?"0"+ia.toString(16):ia.toString(16),ia=P+ia;return ia;case "utf8":case "utf-8":return n(this,C,V);case "ascii":P="";for(V=Math.min(this.length,V);C<V;++C)P+=String.fromCharCode(this[C]&
127);return P;case "latin1":case "binary":P="";for(V=Math.min(this.length,V);C<V;++C)P+=String.fromCharCode(this[C]);return P;case "base64":return C=0===C&&V===this.length?ja.fromByteArray(this):ja.fromByteArray(this.slice(C,V)),C;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":C=this.slice(C,V);V="";for(P=0;P<C.length;P+=2)V+=String.fromCharCode(C[P]+256*C[P+1]);return V;default:if(ia)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase();ia=!0}}function f(P,C,V){var ia=P[C];
P[C]=P[V];P[V]=ia}function a(P,C,V,ia,aa){if(0===P.length)return-1;"string"===typeof V?(ia=V,V=0):2147483647<V?V=2147483647:-2147483648>V&&(V=-2147483648);V=+V;isNaN(V)&&(V=aa?0:P.length-1);0>V&&(V=P.length+V);if(V>=P.length){if(aa)return-1;V=P.length-1}else if(0>V)if(aa)V=0;else return-1;"string"===typeof C&&(C=w.from(C,ia));if(w.isBuffer(C))return 0===C.length?-1:e(P,C,V,ia,aa);if("number"===typeof C)return C&=255,w.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?aa?Uint8Array.prototype.indexOf.call(P,
C,V):Uint8Array.prototype.lastIndexOf.call(P,C,V):e(P,[C],V,ia,aa);throw new TypeError("val must be string, number or Buffer");}function e(P,C,V,ia,aa){function ya(kb,ua){return 1===va?kb[ua]:kb.readUInt16BE(ua*va)}var va=1,Ia=P.length,bb=C.length;if(void 0!==ia&&(ia=String(ia).toLowerCase(),"ucs2"===ia||"ucs-2"===ia||"utf16le"===ia||"utf-16le"===ia)){if(2>P.length||2>C.length)return-1;va=2;Ia/=2;bb/=2;V/=2}if(aa)for(ia=-1;V<Ia;V++)if(ya(P,V)===ya(C,-1===ia?0:V-ia)){if(-1===ia&&(ia=V),V-ia+1===bb)return ia*
va}else-1!==ia&&(V-=V-ia),ia=-1;else for(V+bb>Ia&&(V=Ia-bb);0<=V;V--){Ia=!0;for(ia=0;ia<bb;ia++)if(ya(P,V+ia)!==ya(C,ia)){Ia=!1;break}if(Ia)return V}return-1}function n(P,C,V){V=Math.min(P.length,V);for(var ia=[];C<V;){var aa=P[C],ya=null,va=239<aa?4:223<aa?3:191<aa?2:1;if(C+va<=V)switch(va){case 1:128>aa&&(ya=aa);break;case 2:var Ia=P[C+1];128===(Ia&192)&&(aa=(aa&31)<<6|Ia&63,127<aa&&(ya=aa));break;case 3:Ia=P[C+1];var bb=P[C+2];128===(Ia&192)&&128===(bb&192)&&(aa=(aa&15)<<12|(Ia&63)<<6|bb&63,2047<
aa&&(55296>aa||57343<aa)&&(ya=aa));break;case 4:Ia=P[C+1];bb=P[C+2];var kb=P[C+3];128===(Ia&192)&&128===(bb&192)&&128===(kb&192)&&(aa=(aa&15)<<18|(Ia&63)<<12|(bb&63)<<6|kb&63,65535<aa&&1114112>aa&&(ya=aa))}null===ya?(ya=65533,va=1):65535<ya&&(ya-=65536,ia.push(ya>>>10&1023|55296),ya=56320|ya&1023);ia.push(ya);C+=va}P=ia.length;if(P<=la)ia=String.fromCharCode.apply(String,ia);else{V="";for(C=0;C<P;)V+=String.fromCharCode.apply(String,ia.slice(C,C+=la));ia=V}return ia}function y(P,C,V){if(0!==P%1||
0>P)throw new RangeError("offset is not uint");if(P+C>V)throw new RangeError("Trying to access beyond buffer length");}function B(P,C,V,ia,aa,ya){if(!w.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>aa||C<ya)throw new RangeError('"value" argument is out of bounds');if(V+ia>P.length)throw new RangeError("Index out of range");}function D(P,C,V,ia){0>C&&(C=65535+C+1);for(var aa=0,ya=Math.min(P.length-V,2);aa<ya;++aa)P[V+aa]=(C&255<<8*(ia?aa:1-aa))>>>8*(ia?aa:1-aa)}
function O(P,C,V,ia){0>C&&(C=4294967295+C+1);for(var aa=0,ya=Math.min(P.length-V,4);aa<ya;++aa)P[V+aa]=C>>>8*(ia?aa:3-aa)&255}function M(P,C,V,ia,aa,ya){if(V+ia>P.length)throw new RangeError("Index out of range");if(0>V)throw new RangeError("Index out of range");}function F(P,C,V,ia,aa){aa||M(P,C,V,4,3.4028234663852886E38,-3.4028234663852886E38);fa.write(P,C,V,ia,23,4);return V+4}function z(P,C,V,ia,aa){aa||M(P,C,V,8,1.7976931348623157E308,-1.7976931348623157E308);fa.write(P,C,V,ia,52,8);return V+
8}function G(P){P=P.trim?P.trim():P.replace(/^\s+|\s+$/g,"");P=P.replace(Z,"");if(2>P.length)return"";for(;0!==P.length%4;)P+="\x3d";return P}function K(P,C){C=C||Infinity;for(var V,ia=P.length,aa=null,ya=[],va=0;va<ia;++va){V=P.charCodeAt(va);if(55295<V&&57344>V){if(!aa){if(56319<V){-1<(C-=3)&&ya.push(239,191,189);continue}else if(va+1===ia){-1<(C-=3)&&ya.push(239,191,189);continue}aa=V;continue}if(56320>V){-1<(C-=3)&&ya.push(239,191,189);aa=V;continue}V=(aa-55296<<10|V-56320)+65536}else aa&&-1<
(C-=3)&&ya.push(239,191,189);aa=null;if(128>V){if(0>--C)break;ya.push(V)}else if(2048>V){if(0>(C-=2))break;ya.push(V>>6|192,V&63|128)}else if(65536>V){if(0>(C-=3))break;ya.push(V>>12|224,V>>6&63|128,V&63|128)}else if(1114112>V){if(0>(C-=4))break;ya.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw Error("Invalid code point");}return ya}function R(P){for(var C=[],V=0;V<P.length;++V)C.push(P.charCodeAt(V)&255);return C}function T(P,C,V,ia){for(var aa=0;aa<ia&&!(aa+V>=C.length||aa>=P.length);++aa)C[aa+
V]=P[aa];return aa}var ja=A(21),fa=A(22),ha=A(23);E.Buffer=w;E.SlowBuffer=function(P){+P!=P&&(P=0);return w.alloc(+P)};E.INSPECT_MAX_BYTES=50;w.TYPED_ARRAY_SUPPORT=void 0!==Ja.TYPED_ARRAY_SUPPORT?Ja.TYPED_ARRAY_SUPPORT:k();E.kMaxLength=w.TYPED_ARRAY_SUPPORT?2147483647:1073741823;w.poolSize=8192;w._augment=function(P){P.__proto__=w.prototype;return P};w.from=function(P,C,V){return H(null,P,C,V)};w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,"undefined"!==
typeof Symbol&&Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0}));w.alloc=function(P,C,V){N(P);P=0>=P?l(null,P):void 0!==C?"string"===typeof V?l(null,P).fill(C,V):l(null,P).fill(C):l(null,P);return P};w.allocUnsafe=function(P){return x(null,P)};w.allocUnsafeSlow=function(P){return x(null,P)};w.isBuffer=function(P){return!(null==P||!P._isBuffer)};w.compare=function(P,C){if(!w.isBuffer(P)||!w.isBuffer(C))throw new TypeError("Arguments must be Buffers");
if(P===C)return 0;for(var V=P.length,ia=C.length,aa=0,ya=Math.min(V,ia);aa<ya;++aa)if(P[aa]!==C[aa]){V=P[aa];ia=C[aa];break}return V<ia?-1:ia<V?1:0};w.isEncoding=function(P){switch(String(P).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};w.concat=function(P,C){if(!ha(P))throw new TypeError('"list" argument must be an Array of Buffers');if(0===P.length)return w.alloc(0);
var V;if(void 0===C)for(V=C=0;V<P.length;++V)C+=P[V].length;C=w.allocUnsafe(C);var ia=0;for(V=0;V<P.length;++V){var aa=P[V];if(!w.isBuffer(aa))throw new TypeError('"list" argument must be an Array of Buffers');aa.copy(C,ia);ia+=aa.length}return C};w.byteLength=g;w.prototype._isBuffer=!0;w.prototype.swap16=function(){var P=this.length;if(0!==P%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<P;C+=2)f(this,C,C+1);return this};w.prototype.swap32=function(){var P=this.length;
if(0!==P%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<P;C+=4)f(this,C,C+3),f(this,C+1,C+2);return this};w.prototype.swap64=function(){var P=this.length;if(0!==P%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<P;C+=8)f(this,C,C+7),f(this,C+1,C+6),f(this,C+2,C+5),f(this,C+3,C+4);return this};w.prototype.toString=function(){var P=this.length|0;return 0===P?"":0===arguments.length?n(this,0,P):d.apply(this,arguments)};w.prototype.equals=
function(P){if(!w.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P?!0:0===w.compare(this,P)};w.prototype.inspect=function(){var P="",C=E.INSPECT_MAX_BYTES;0<this.length&&(P=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(P+=" ... "));return"\x3cBuffer "+P+"\x3e"};w.prototype.compare=function(P,C,V,ia,aa){if(!w.isBuffer(P))throw new TypeError("Argument must be a Buffer");void 0===C&&(C=0);void 0===V&&(V=P?P.length:0);void 0===ia&&(ia=0);void 0===aa&&(aa=
this.length);if(0>C||V>P.length||0>ia||aa>this.length)throw new RangeError("out of range index");if(ia>=aa&&C>=V)return 0;if(ia>=aa)return-1;if(C>=V)return 1;C>>>=0;V>>>=0;ia>>>=0;aa>>>=0;if(this===P)return 0;var ya=aa-ia,va=V-C,Ia=Math.min(ya,va);ia=this.slice(ia,aa);P=P.slice(C,V);for(C=0;C<Ia;++C)if(ia[C]!==P[C]){ya=ia[C];va=P[C];break}return ya<va?-1:va<ya?1:0};w.prototype.includes=function(P,C,V){return-1!==this.indexOf(P,C,V)};w.prototype.indexOf=function(P,C,V){return a(this,P,C,V,!0)};w.prototype.lastIndexOf=
function(P,C,V){return a(this,P,C,V,!1)};w.prototype.write=function(P,C,V,ia){if(void 0===C)ia="utf8",V=this.length,C=0;else if(void 0===V&&"string"===typeof C)ia=C,V=this.length,C=0;else if(isFinite(C))C|=0,isFinite(V)?(V|=0,void 0===ia&&(ia="utf8")):(ia=V,V=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var aa=this.length-C;if(void 0===V||V>aa)V=aa;if(0<P.length&&(0>V||0>C)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");
ia||(ia="utf8");for(aa=!1;;)switch(ia){case "hex":a:{C=Number(C)||0;ia=this.length-C;V?(V=Number(V),V>ia&&(V=ia)):V=ia;ia=P.length;if(0!==ia%2)throw new TypeError("Invalid hex string");V>ia/2&&(V=ia/2);for(ia=0;ia<V;++ia){aa=parseInt(P.substr(2*ia,2),16);if(isNaN(aa)){P=ia;break a}this[C+ia]=aa}P=ia}return P;case "utf8":case "utf-8":return T(K(P,this.length-C),this,C,V);case "ascii":return T(R(P),this,C,V);case "latin1":case "binary":return T(R(P),this,C,V);case "base64":return T(ja.toByteArray(G(P)),
this,C,V);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":ia=P;aa=this.length-C;for(var ya=[],va=0;va<ia.length&&!(0>(aa-=2));++va){var Ia=ia.charCodeAt(va);P=Ia>>8;Ia%=256;ya.push(Ia);ya.push(P)}return T(ya,this,C,V);default:if(aa)throw new TypeError("Unknown encoding: "+ia);ia=(""+ia).toLowerCase();aa=!0}};w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var la=4096;w.prototype.slice=function(P,C){var V=this.length;P=~~P;C=void 0===
C?V:~~C;0>P?(P+=V,0>P&&(P=0)):P>V&&(P=V);0>C?(C+=V,0>C&&(C=0)):C>V&&(C=V);C<P&&(C=P);if(w.TYPED_ARRAY_SUPPORT)C=this.subarray(P,C),C.__proto__=w.prototype;else{V=C-P;C=new w(V,void 0);for(var ia=0;ia<V;++ia)C[ia]=this[ia+P]}return C};w.prototype.readUIntLE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P];for(var ia=1,aa=0;++aa<C&&(ia*=256);)V+=this[P+aa]*ia;return V};w.prototype.readUIntBE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P+--C];for(var ia=1;0<C&&(ia*=256);)V+=this[P+
--C]*ia;return V};w.prototype.readUInt8=function(P,C){C||y(P,1,this.length);return this[P]};w.prototype.readUInt16LE=function(P,C){C||y(P,2,this.length);return this[P]|this[P+1]<<8};w.prototype.readUInt16BE=function(P,C){C||y(P,2,this.length);return this[P]<<8|this[P+1]};w.prototype.readUInt32LE=function(P,C){C||y(P,4,this.length);return(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]};w.prototype.readUInt32BE=function(P,C){C||y(P,4,this.length);return 16777216*this[P]+(this[P+1]<<16|this[P+
2]<<8|this[P+3])};w.prototype.readIntLE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=this[P];for(var ia=1,aa=0;++aa<C&&(ia*=256);)V+=this[P+aa]*ia;V>=128*ia&&(V-=Math.pow(2,8*C));return V};w.prototype.readIntBE=function(P,C,V){P|=0;C|=0;V||y(P,C,this.length);V=C;for(var ia=1,aa=this[P+--V];0<V&&(ia*=256);)aa+=this[P+--V]*ia;aa>=128*ia&&(aa-=Math.pow(2,8*C));return aa};w.prototype.readInt8=function(P,C){C||y(P,1,this.length);return this[P]&128?-1*(255-this[P]+1):this[P]};w.prototype.readInt16LE=
function(P,C){C||y(P,2,this.length);P=this[P]|this[P+1]<<8;return P&32768?P|4294901760:P};w.prototype.readInt16BE=function(P,C){C||y(P,2,this.length);P=this[P+1]|this[P]<<8;return P&32768?P|4294901760:P};w.prototype.readInt32LE=function(P,C){C||y(P,4,this.length);return this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24};w.prototype.readInt32BE=function(P,C){C||y(P,4,this.length);return this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]};w.prototype.readFloatLE=function(P,C){C||y(P,4,this.length);return fa.read(this,
P,!0,23,4)};w.prototype.readFloatBE=function(P,C){C||y(P,4,this.length);return fa.read(this,P,!1,23,4)};w.prototype.readDoubleLE=function(P,C){C||y(P,8,this.length);return fa.read(this,P,!0,52,8)};w.prototype.readDoubleBE=function(P,C){C||y(P,8,this.length);return fa.read(this,P,!1,52,8)};w.prototype.writeUIntLE=function(P,C,V,ia){P=+P;C|=0;V|=0;ia||B(this,P,C,V,Math.pow(2,8*V)-1,0);ia=1;var aa=0;for(this[C]=P&255;++aa<V&&(ia*=256);)this[C+aa]=P/ia&255;return C+V};w.prototype.writeUIntBE=function(P,
C,V,ia){P=+P;C|=0;V|=0;ia||B(this,P,C,V,Math.pow(2,8*V)-1,0);ia=V-1;var aa=1;for(this[C+ia]=P&255;0<=--ia&&(aa*=256);)this[C+ia]=P/aa&255;return C+V};w.prototype.writeUInt8=function(P,C,V){P=+P;C|=0;V||B(this,P,C,1,255,0);w.TYPED_ARRAY_SUPPORT||(P=Math.floor(P));this[C]=P&255;return C+1};w.prototype.writeUInt16LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8):D(this,P,C,!0);return C+2};w.prototype.writeUInt16BE=function(P,C,V){P=+P;C|=0;V||
B(this,P,C,2,65535,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>8,this[C+1]=P&255):D(this,P,C,!1);return C+2};w.prototype.writeUInt32LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[C+3]=P>>>24,this[C+2]=P>>>16,this[C+1]=P>>>8,this[C]=P&255):O(this,P,C,!0);return C+4};w.prototype.writeUInt32BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,4294967295,0);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>24,this[C+1]=P>>>16,this[C+2]=P>>>8,this[C+3]=P&255):O(this,P,C,!1);return C+4};w.prototype.writeIntLE=
function(P,C,V,ia){P=+P;C|=0;ia||(ia=Math.pow(2,8*V-1),B(this,P,C,V,ia-1,-ia));ia=0;var aa=1,ya=0;for(this[C]=P&255;++ia<V&&(aa*=256);)0>P&&0===ya&&0!==this[C+ia-1]&&(ya=1),this[C+ia]=(P/aa>>0)-ya&255;return C+V};w.prototype.writeIntBE=function(P,C,V,ia){P=+P;C|=0;ia||(ia=Math.pow(2,8*V-1),B(this,P,C,V,ia-1,-ia));ia=V-1;var aa=1,ya=0;for(this[C+ia]=P&255;0<=--ia&&(aa*=256);)0>P&&0===ya&&0!==this[C+ia+1]&&(ya=1),this[C+ia]=(P/aa>>0)-ya&255;return C+V};w.prototype.writeInt8=function(P,C,V){P=+P;C|=
0;V||B(this,P,C,1,127,-128);w.TYPED_ARRAY_SUPPORT||(P=Math.floor(P));0>P&&(P=255+P+1);this[C]=P&255;return C+1};w.prototype.writeInt16LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8):D(this,P,C,!0);return C+2};w.prototype.writeInt16BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,2,32767,-32768);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>8,this[C+1]=P&255):D(this,P,C,!1);return C+2};w.prototype.writeInt32LE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,
4,2147483647,-2147483648);w.TYPED_ARRAY_SUPPORT?(this[C]=P&255,this[C+1]=P>>>8,this[C+2]=P>>>16,this[C+3]=P>>>24):O(this,P,C,!0);return C+4};w.prototype.writeInt32BE=function(P,C,V){P=+P;C|=0;V||B(this,P,C,4,2147483647,-2147483648);0>P&&(P=4294967295+P+1);w.TYPED_ARRAY_SUPPORT?(this[C]=P>>>24,this[C+1]=P>>>16,this[C+2]=P>>>8,this[C+3]=P&255):O(this,P,C,!1);return C+4};w.prototype.writeFloatLE=function(P,C,V){return F(this,P,C,!0,V)};w.prototype.writeFloatBE=function(P,C,V){return F(this,P,C,!1,V)};
w.prototype.writeDoubleLE=function(P,C,V){return z(this,P,C,!0,V)};w.prototype.writeDoubleBE=function(P,C,V){return z(this,P,C,!1,V)};w.prototype.copy=function(P,C,V,ia){V||(V=0);ia||0===ia||(ia=this.length);C>=P.length&&(C=P.length);C||(C=0);0<ia&&ia<V&&(ia=V);if(ia===V||0===P.length||0===this.length)return 0;if(0>C)throw new RangeError("targetStart out of bounds");if(0>V||V>=this.length)throw new RangeError("sourceStart out of bounds");if(0>ia)throw new RangeError("sourceEnd out of bounds");ia>
this.length&&(ia=this.length);P.length-C<ia-V&&(ia=P.length-C+V);var aa=ia-V;if(this===P&&V<C&&C<ia)for(ia=aa-1;0<=ia;--ia)P[ia+C]=this[ia+V];else if(1E3>aa||!w.TYPED_ARRAY_SUPPORT)for(ia=0;ia<aa;++ia)P[ia+C]=this[ia+V];else Uint8Array.prototype.set.call(P,this.subarray(V,V+aa),C);return aa};w.prototype.fill=function(P,C,V,ia){if("string"===typeof P){"string"===typeof C?(ia=C,C=0,V=this.length):"string"===typeof V&&(ia=V,V=this.length);if(1===P.length){var aa=P.charCodeAt(0);256>aa&&(P=aa)}if(void 0!==
ia&&"string"!==typeof ia)throw new TypeError("encoding must be a string");if("string"===typeof ia&&!w.isEncoding(ia))throw new TypeError("Unknown encoding: "+ia);}else"number"===typeof P&&(P&=255);if(0>C||this.length<C||this.length<V)throw new RangeError("Out of range index");if(V<=C)return this;C>>>=0;V=void 0===V?this.length:V>>>0;P||(P=0);if("number"===typeof P)for(ia=C;ia<V;++ia)this[ia]=P;else for(P=w.isBuffer(P)?P:K((new w(P,ia)).toString()),aa=P.length,ia=0;ia<V-C;++ia)this[ia+C]=P[ia%aa];
return this};var Z=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[25]=function(Ja,A,rb,E){var k=A(24).Buffer;!function(l,w){"object"==typeof E&&"undefined"!=typeof rb?w(E,A(14),A(20)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],w):w((l="undefined"!=typeof globalThis?globalThis:l||self).vega={},l.vega,l.vega)}(this,function(l,w,H){function N(ua,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Da=yield Ya.sanitize(ua,Ta),ta=Da.href;return Da.localFile?Ya.file(ta):Ya.http(ta,
Ta)})}function x(ua,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ta=w.extend({},Ya.options,Ta);const Da=Ya.fileAccess,ta={href:null};let U,W,ba;var ca=Z.test(ua.replace(P,""));null!=ua&&"string"==typeof ua&&ca||w.error("Sanitize failure, invalid URI: "+w.stringValue(ua));ca=la.test(ua);return(ba=Ta.baseURL)&&!ca&&(ua.startsWith("/")||"/"===ba[ba.length-1]||(ua="/"+ua),ua=ba+ua),W=(U=ua.startsWith("file://"))||"file"===Ta.mode||"http"!==Ta.mode&&!ca&&Da,U?ua=ua.slice(7):
ua.startsWith("//")&&("file"===Ta.defaultProtocol?(ua=ua.slice(2),W=!0):ua=(Ta.defaultProtocol||"http")+":"+ua),Object.defineProperty(ta,"localFile",{value:!!W}),ta.href=ua,Ta.target&&(ta.target=Ta.target+""),Ta.rel&&(ta.rel=Ta.rel+""),"image"===Ta.context&&Ta.crossOrigin&&(ta.crossOrigin=Ta.crossOrigin+""),ta})}function v(ua){return ua?Ta=>new Promise((Ya,Da)=>{ua.readFile(Ta,(ta,U)=>{ta?Da(ta):Ya(U)})}):u}function u(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No file system access.")})}
function m(ua){return ua?function(Ta,Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ta=w.extend({},Da.options.http,Ya);const U=Ya&&Ya.response;ta=yield ua(Ta,ta);return ta.ok?w.isFunction(ta[U])?ta[U]():ta.text():w.error(ta.status+""+ta.statusText)})}:g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){w.error("No HTTP fetch method available.")})}function d(ua,Ta){if(!ua||!ua.length)return"unknown";const Ya=ua.length,Da=ia.length,ta=
ia.map((W,ba)=>ba+1);for(let W,ba,ca=0,ra=0;ca<Ya;++ca)for(ba=Ta?ua[ca][Ta]:ua[ca],W=0;W<Da;++W)if(ta[W]&&null!=(U=ba)&&U==U&&!ia[W](ba)&&(ta[W]=0,++ra,ra===ia.length))return"string";var U;return aa[ta.reduce((W,ba)=>0===W?ba:W,0)-1]}function f(ua,Ta){return Ta.reduce((Ya,Da)=>(Ya[Da]=d(ua,Da),Ya),{})}function a(ua){return new Function("d","return {"+ua.map(function(Ta,Ya){return JSON.stringify(Ta)+": d["+Ya+'] || ""'}).join(",")+"}")}function e(ua){var Ta=Object.create(null),Ya=[];return ua.forEach(function(Da){for(var ta in Da)ta in
Ta||Ya.push(Ta[ta]=ta)}),Ya}function n(ua,Ta){ua+="";var Ya=ua.length;return Ya<Ta?Array(Ta-Ya+1).join(0)+ua:ua}function y(ua){function Ta(ba,ca){function ra(){if($a)return va;if(Ca)return Ca=!1,ya;var pa,Ha,Ua=Ra;if(34===ba.charCodeAt(Ua)){for(;Ra++<na&&34!==ba.charCodeAt(Ra)||34===ba.charCodeAt(++Ra););return(pa=Ra)>=na?$a=!0:10===(Ha=ba.charCodeAt(Ra++))?Ca=!0:13===Ha&&(Ca=!0,10===ba.charCodeAt(Ra)&&++Ra),ba.slice(Ua+1,pa-1).replace(/""/g,'"')}for(;Ra<na;){if(10===(Ha=ba.charCodeAt(pa=Ra++)))Ca=
!0;else if(13===Ha)Ca=!0,10===ba.charCodeAt(Ra)&&++Ra;else if(Ha!==W)continue;return ba.slice(Ua,pa)}return $a=!0,ba.slice(Ua,na)}var qa,Fa=[],na=ba.length,Ra=0,db=0,$a=0>=na,Ca=!1;10===ba.charCodeAt(na-1)&&--na;for(13===ba.charCodeAt(na-1)&&--na;(qa=ra())!==va;){for(var Ga=[];qa!==ya&&qa!==va;)Ga.push(qa),qa=ra();ca&&null==(Ga=ca(Ga,db++))||Fa.push(Ga)}return Fa}function Ya(ba,ca){return ba.map(function(ra){return ca.map(function(qa){return ta(ra[qa])}).join(ua)})}function Da(ba){return ba.map(ta).join(ua)}
function ta(ba){if(null==ba)var ca="";else{if(ba instanceof Date){var ra=ba.getUTCHours();var qa=ba.getUTCMinutes(),Fa=ba.getUTCSeconds(),na=ba.getUTCMilliseconds();ra=isNaN(ba)?"Invalid Date":(0>(ca=ba.getUTCFullYear())?"-"+n(-ca,6):9999<ca?"+"+n(ca,6):n(ca,4))+"-"+n(ba.getUTCMonth()+1,2)+"-"+n(ba.getUTCDate(),2)+(na?"T"+n(ra,2)+":"+n(qa,2)+":"+n(Fa,2)+"."+n(na,3)+"Z":Fa?"T"+n(ra,2)+":"+n(qa,2)+":"+n(Fa,2)+"Z":qa||ra?"T"+n(ra,2)+":"+n(qa,2)+"Z":"")}else ra=U.test(ba+="")?'"'+ba.replace(/"/g,'""')+
'"':ba;ca=ra}return ca}var U=new RegExp('["'+ua+"\n\r]"),W=ua.charCodeAt(0);return{parse:function(ba,ca){var ra,qa;ba=Ta(ba,function(Fa,na){if(ra)return ra(Fa,na-1);qa=Fa;ra=ca?function(Ra,db){var $a=a(Ra);return function(Ca,Ga){return db($a(Ca),Ga,Ra)}}(Fa,ca):a(Fa)});return ba.columns=qa||[],ba},parseRows:Ta,format:function(ba,ca){return null==ca&&(ca=e(ba)),[ca.map(ta).join(ua)].concat(Ya(ba,ca)).join("\n")},formatBody:function(ba,ca){return null==ca&&(ca=e(ba)),Ya(ba,ca).join("\n")},formatRows:function(ba){return ba.map(Da).join("\n")},
formatRow:Da,formatValue:ta}}function B(ua){const Ta=function(Ya,Da){const ta={delimiter:ua};return D(Ya,Da?w.extend(Da,ta):ta)};return Ta.responseType="text",Ta}function D(ua,Ta){return Ta.header&&(ua=Ta.header.map(w.stringValue).join(Ta.delimiter)+"\n"+ua),y(Ta.delimiter).parse(ua+"")}function O(ua,Ta){const Ya=Ta&&Ta.property?w.field(Ta.property):w.identity;!w.isObject(ua)||(Da=ua,"function"==typeof k&&w.isFunction(k.isBuffer)&&k.isBuffer(Da))?Ta=Ya(JSON.parse(ua)):(ua=Ya(ua),!w.isArray(ua)&&w.isIterable(ua)&&
(ua=[...ua]),Ta=Ta&&Ta.copy?JSON.parse(JSON.stringify(ua)):ua);return Ta;var Da}function M(ua){return ua}function F(ua,Ta){return"string"==typeof Ta&&(Ta=ua.objects[Ta]),"GeometryCollection"===Ta.type?{type:"FeatureCollection",features:Ta.geometries.map(function(Ya){return z(ua,Ya)})}:z(ua,Ta)}function z(ua,Ta){var Ya=Ta.id,Da=Ta.bbox,ta=null==Ta.properties?{}:Ta.properties;ua=G(ua,Ta);return null==Ya&&null==Da?{type:"Feature",properties:ta,geometry:ua}:null==Da?{type:"Feature",id:Ya,properties:ta,
geometry:ua}:{type:"Feature",id:Ya,bbox:Da,properties:ta,geometry:ua}}function G(ua,Ta){function Ya(ca){return W(ca)}function Da(ca){for(var ra=[],qa=0,Fa=ca.length;qa<Fa;++qa){var na,Ra=ca[qa],db=ra;db.length&&db.pop();var $a=ba[0>Ra?~Ra:Ra],Ca=0;for(na=$a.length;Ca<na;++Ca)db.push(W($a[Ca],Ca));if(0>Ra)for(Ra=db.length,$a=Ra-na;$a<--Ra;)na=db[$a],db[$a++]=db[Ra],db[Ra]=na}return 2>ra.length&&ra.push(ra[0]),ra}function ta(ca){for(ca=Da(ca);4>ca.length;)ca.push(ca[0]);return ca}function U(ca){return ca.map(ta)}
var W=function(ca){if(null==ca)return M;var ra,qa,Fa=ca.scale[0],na=ca.scale[1],Ra=ca.translate[0],db=ca.translate[1];return function($a,Ca){Ca||(ra=qa=0);Ca=2;var Ga=$a.length,pa=Array(Ga);pa[0]=(ra+=$a[0])*Fa+Ra;for(pa[1]=(qa+=$a[1])*na+db;Ca<Ga;)pa[Ca]=$a[Ca],++Ca;return pa}}(ua.transform),ba=ua.arcs;return function qa(ra){var Fa=ra.type;switch(Fa){case "GeometryCollection":return{type:Fa,geometries:ra.geometries.map(qa)};case "Point":ra=W(ra.coordinates);break;case "MultiPoint":ra=ra.coordinates.map(Ya);
break;case "LineString":ra=Da(ra.arcs);break;case "MultiLineString":ra=ra.arcs.map(Da);break;case "Polygon":ra=U(ra.arcs);break;case "MultiPolygon":ra=ra.arcs.map(U);break;default:return null}return{type:Fa,coordinates:ra}}(Ta)}function K(ua,Ta){function Ya(ca,ra){for(var qa in ca){var Fa=ca[qa];delete ra[Fa.start];delete Fa.start;delete Fa.end;Fa.forEach(function(na){Da[0>na?~na:na]=1});W.push(Fa)}}var Da={},ta={},U={},W=[],ba=-1;return Ta.forEach(function(ca,ra){var qa,Fa=ua.arcs[0>ca?~ca:ca];3>
Fa.length&&!Fa[1][0]&&!Fa[1][1]&&(qa=Ta[++ba],Ta[ba]=ca,Ta[ra]=qa)}),Ta.forEach(function(ca){var ra=function(na){var Ra,db=ua.arcs[0>na?~na:na],$a=db[0];ua.transform?(Ra=[0,0],db.forEach(function(Ca){Ra[0]+=Ca[0];Ra[1]+=Ca[1]})):Ra=db[db.length-1];return 0>na?[Ra,$a]:[$a,Ra]}(ca);var qa=ra[0],Fa=ra[1];(ra=U[qa])?(delete U[ra.end],ra.push(ca),ra.end=Fa,ca=ta[Fa])?(delete ta[ca.start],qa=ca===ra?ra:ra.concat(ca),ta[qa.start=ra.start]=U[qa.end=ca.end]=qa):ta[ra.start]=U[ra.end]=ra:(ra=ta[Fa])?(delete ta[ra.start],
ra.unshift(ca),ra.start=qa,ca=U[qa])?(delete U[ca.end],qa=ca===ra?ra:ca.concat(ra),ta[qa.start=ca.start]=U[qa.end=ra.end]=qa):ta[ra.start]=U[ra.end]=ra:ta[(ra=[ca]).start=qa]=U[ra.end=Fa]=ra}),Ya(U,ta),Ya(ta,U),Ta.forEach(function(ca){Da[0>ca?~ca:ca]||W.push([ca])}),W}function R(ua){return G(ua,T.apply(this,arguments))}function T(ua,Ta,Ya){var Da;if(1<arguments.length)var ta=ja(ua,Ta,Ya);else{var U=0;for(ta=Array(Da=ua.arcs.length);U<Da;++U)ta[U]=U}return{type:"MultiLineString",arcs:K(ua,ta)}}function ja(ua,
Ta,Ya){function Da(ra){var qa=0>ra?~ra:ra;(ca[qa]||(ca[qa]=[])).push({i:ra,g:W})}function ta(ra){ra.forEach(Da)}function U(ra){ra.forEach(ta)}var W,ba=[],ca=[];return function Fa(qa){switch(W=qa,qa.type){case "GeometryCollection":qa.geometries.forEach(Fa);break;case "LineString":ta(qa.arcs);break;case "MultiLineString":case "Polygon":U(qa.arcs);break;case "MultiPolygon":qa.arcs.forEach(U),!0}}(Ta),ca.forEach(null==Ya?function(qa){ba.push(qa[0].i)}:function(qa){Ya(qa[0].g,qa[qa.length-1].g)&&ba.push(qa[0].i)}),
ba}function fa(ua,Ta){let Ya,Da,ta,U;return ua=O(ua,Ta),Ta&&Ta.feature?(Ya=F,ta=Ta.feature):Ta&&Ta.mesh?(Ya=R,ta=Ta.mesh,U=Ia[Ta.filter]):w.error("Missing TopoJSON feature or mesh parameter."),Da=(Da=ua.objects[ta])?Ya(ua,Da,U):w.error("Invalid TopoJSON object: "+ta),Da&&Da.features||[Da]}function ha(ua,Ta){return 1<arguments.length?(bb[ua]=Ta,this):w.hasOwnProperty(bb,ua)?bb[ua]:null}const la=/^([A-Za-z]+:)?\/\//,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
P=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,C=ua=>!(Number.isNaN(+ua)||ua instanceof Date),V={boolean:w.toBoolean,integer:w.toNumber,number:w.toNumber,date:w.toDate,string:w.toString,unknown:w.identity},ia=[ua=>"true"===ua||"false"===ua||!0===ua||!1===ua,ua=>C(ua)&&Number.isInteger(+ua),C,ua=>!Number.isNaN(Date.parse(ua))],aa=["boolean","integer","number","date"];var ya={},va={};D.responseType="text";O.responseType="json";const Ia={interior:(ua,Ta)=>ua!==Ta,exterior:(ua,Ta)=>ua===
Ta};fa.responseType="json";const bb={dsv:D,csv:B(","),tsv:B("\t"),json:O,topojson:fa},kb=function(ua,Ta){return Ya=>({options:Ya||{},sanitize:x,load:N,fileAccess:!!Ta,file:v(Ta),http:m(ua)})}("undefined"!=typeof fetch&&fetch,null);l.format=bb;l.formats=ha;l.inferType=d;l.inferTypes=f;l.loader=kb;l.read=function(ua,Ta,Ya,Da){const ta=ha((Ta=Ta||{}).type||"json");return ta||w.error("Unknown data format type: "+Ta.type),ua=ta(ua,Ta),Ta.parse&&function(U,W,ba,ca){if(U.length){var ra=H.timeFormatDefaultLocale();
ba=ba||ra.timeParse;ca=ca||ra.utcParse;var qa,Fa,na=U.columns||Object.keys(U[0]);"auto"===W&&(W=f(U,na));na=Object.keys(W);var Ra=na.map(Ga=>{var pa=W[Ga];if(pa&&(pa.startsWith("date:")||pa.startsWith("utc:")))return Ga=pa.split(/:(.+)?/,2),pa=Ga[1],("'"===pa[0]&&"'"===pa[pa.length-1]||'"'===pa[0]&&'"'===pa[pa.length-1])&&(pa=pa.slice(1,-1)),("utc"===Ga[0]?ca:ba)(pa);if(!V[pa])throw Error("Illegal format pattern: "+Ga+":"+pa);return V[pa]});var db=0;var $a=U.length;for(Fa=na.length;db<$a;++db)for(ra=
U[db],qa=0;qa<Fa;++qa){var Ca=na[qa];ra[Ca]=Ra[qa](ra[Ca])}}}(ua,Ta.parse,Ya,Da),w.hasOwnProperty(ua,"columns")&&delete ua.columns,ua};l.responseType=function(ua){return(ua=ha(ua))&&ua.responseType||"text"};l.typeParsers=V;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(25),A(20)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(ua){const Ta=ua||l.identity,Ya=[],Da={};Ya.add=ta=>{const U=Ta(ta);Da[U]||(Da[U]=1,Ya.push(ta));return Ya};Ya.remove=ta=>{const U=Ta(ta);Da[U]&&(Da[U]=0,
ta=Ya.indexOf(ta),0<=ta&&Ya.splice(ta,1));return Ya};return Ya}function x(ua,Ta){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield Ta(ua)}catch(Ya){ua.error(Ya)}})}function v(ua){ua=ua===Object(ua)?ua:{data:ua};if(!ua[C]){var Ta=V++;ua[C]=Ta}return ua}function u(ua,Ta){for(const Ya in ua)Ta[Ya]=ua[Ya];return Ta}function m(ua){return ua&&ua.constructor===g}function g(){const ua=[],Ta=[],Ya=[],Da=[],ta=[];let U=null,W=!1;return{constructor:g,insert(ba){ba=l.array(ba);const ca=
ba.length;for(let ra=0;ra<ca;++ra)ua.push(ba[ra]);return this},remove(ba){const ca=l.isFunction(ba)?Da:Ta;ba=l.array(ba);const ra=ba.length;for(let qa=0;qa<ra;++qa)ca.push(ba[qa]);return this},modify(ba,ca,ra){ca={field:ca,value:l.constant(ra)};l.isFunction(ba)?(ca.filter=ba,ta.push(ca)):(ca.tuple=ba,Ya.push(ca));return this},encode(ba,ca){l.isFunction(ba)?ta.push({filter:ba,field:ca}):Ya.push({tuple:ba,field:ca});return this},clean(ba){U=ba;return this},reflow(){W=!0;return this},pulse(ba,ca){function ra(pa,
Ha,Ua){Ua?pa[Ha]=Ua(pa):ba.encode=Ha;W||(Fa[pa[C]]=pa)}const qa={},Fa={};let na,Ra,db,$a,Ca,Ga;na=0;for(Ra=ca.length;na<Ra;++na)qa[ca[na][C]]=1;na=0;for(Ra=Ta.length;na<Ra;++na)Ca=Ta[na],qa[Ca[C]]=-1;na=0;for(Ra=Da.length;na<Ra;++na)$a=Da[na],ca.forEach(pa=>{$a(pa)&&(qa[pa[C]]=-1)});na=0;for(Ra=ua.length;na<Ra;++na)Ca=ua[na],Ga=Ca[C],qa[Ga]?qa[Ga]=1:ba.add.push(v(ua[na]));na=0;for(Ra=ca.length;na<Ra;++na)Ca=ca[na],0>qa[Ca[C]]&&ba.rem.push(Ca);na=0;for(Ra=Ya.length;na<Ra;++na)db=Ya[na],Ca=db.tuple,
$a=db.field,Ga=qa[Ca[C]],0<Ga&&(ra(Ca,$a,db.value),ba.modifies($a));na=0;for(Ra=ta.length;na<Ra;++na)db=ta[na],$a=db.filter,ca.forEach(pa=>{$a(pa)&&0<qa[pa[C]]&&ra(pa,db.field,db.value)}),ba.modifies(db.field);if(W)ba.mod=Ta.length||Da.length?ca.filter(pa=>0<qa[pa[C]]):ca.slice();else for(Ga in Fa)ba.mod.push(Fa[Ga]);(U||null==U&&(Ta.length||Da.length))&&ba.clean(!0);return ba}}}function d(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function f(ua,Ta,Ya,Da){this.id=++ia;this.value=
ua;this.qrank=this.rank=this.stamp=-1;this.flags=0;Ta&&(this._update=Ta);Ya&&this.parameters(Ya,Da)}function a(ua){return function(Ta){const Ya=this.flags;if(0===arguments.length)return!!(Ya&ua);this.flags=Ta?Ya|ua:Ya&~ua;return this}}function e(ua,Ta,Ya){this.id=++ya;this.value=null;Ya&&(this.receive=Ya);ua&&(this._filter=ua);Ta&&(this._apply=Ta)}function n(ua,Ta,Ya){return new e(ua,Ta,Ya)}function y(ua){let Ta;const Ya=new Promise(Da=>Ta=Da);Ya.requests=0;Ya.done=()=>{0===--Ya.requests&&(ua._pending=
null,Ta(ua))};return ua._pending=Ya}function B(ua,Ta,Ya,Da,ta,U){const W=l.extend({},U,va);let ba;l.isFunction(Ya)||(Ya=l.constant(Ya));void 0===Da?ta=ca=>ua.touch(Ya(ca)):l.isFunction(Da)?(ba=new f(null,Da,ta,!1),ta=ca=>{ba.evaluate(ca);ca=Ya(ca);const ra=ba.value;m(ra)?ua.pulse(ca,ra,U):ua.update(ca,ra,W)}):ta=ca=>ua.update(Ya(ca),Da,W);Ta.apply(ta)}function D(ua,Ta,Ya,Da,ta,U){void 0===Da?Ta.targets().add(Ya):(U=U||{},Da=new f(null,O(Ya,Da),ta,!1),Da.modified(U.force),Da.rank=Ta.rank,Ta.targets().add(Da),
Ya&&(Da.skip(!0),Da.value=Ya.value,Da.targets().add(Ya),ua.connect(Ya,[Da])))}function O(ua,Ta){Ta=l.isFunction(Ta)?Ta:l.constant(Ta);return ua?function(Ya,Da){Ya=Ta(Ya,Da);ua.skip()||(ua.skip(Ya!==this.value).value=Ya);return Ya}:Ta}function M(ua,Ta,Ya){this.dataflow=ua;this.stamp=null==Ta?-1:Ta;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Ya||null}function F(ua,Ta){const Ya=[];l.visitArray(ua,Ta,Da=>Ya.push(Da));return Ya}function z(ua,Ta){const Ya={};ua.visit(Ta,Da=>{Ya[Da[C]]=
1});return Da=>Ya[Da[C]]?null:Da}function G(ua,Ta){return ua?(Ya,Da)=>ua(Ya,Da)&&Ta(Ya,Da):Ta}function K(ua,Ta,Ya,Da){const ta=Ya.length;let U=0;this.dataflow=ua;this.stamp=Ta;this.fields=null;this.encode=Da||null;this.pulses=Ya;for(ua=0;ua<ta;++ua)if(Da=Ya[ua],Da.stamp===Ta){if(Da.fields){const W=this.fields||(this.fields={});for(const ba in Da.fields)W[ba]=1}Da.changed(this.ADD)&&(U|=this.ADD);Da.changed(this.REM)&&(U|=this.REM);Da.changed(this.MOD)&&(U|=this.MOD)}this.changes=U}function R(ua){ua.error("Dataflow already running. Use runAsync() to chain invocations.");
return ua}function T(ua,Ta){if(Ta&&Ta.stamp===ua.stamp)return Ta;ua=ua.fork();Ta&&Ta!==Ia&&(ua.source=Ta.source);return ua}function ja(ua){let Ta=[];return{clear:()=>Ta=[],size:()=>Ta.length,peek:()=>Ta[0],push:Ya=>{Ta.push(Ya);return fa(Ta,0,Ta.length-1,ua)},pop:()=>{var Ya=Ta.pop();let Da;if(Ta.length){Da=Ta[0];Ta[0]=Ya;{Ya=Ta;var ta=0;const U=ta,W=Ya.length,ba=Ya[ta];let ca=(ta<<1)+1,ra;for(;ca<W;)ra=ca+1,ra<W&&0<=ua(Ya[ca],Ya[ra])&&(ca=ra),Ya[ta]=Ya[ca],ta=ca,ca=(ta<<1)+1;Ya[ta]=ba;fa(Ya,U,ta,
ua)}}else Da=Ya;return Da}}}function fa(ua,Ta,Ya,Da){let ta,U;const W=ua[Ya];for(;Ya>Ta;)if(U=Ya-1>>1,ta=ua[U],0>Da(W,ta))ua[Ya]=ta,Ya=U;else break;return ua[Ya]=W}function ha(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=H.defaultLocale();try{this._loader=w.loader()}catch(ua){}this._touched=N(l.id);this._input={};this._pulse=null;this._heap=ja((ua,Ta)=>ua.qrank-Ta.qrank);this._postrun=[]}function la(ua){return function(){return this._log[ua].apply(this,arguments)}}
function Z(ua,Ta){f.call(this,ua,null,Ta)}function P(ua){ua=ua&&ua.toLowerCase();return l.hasOwnProperty(kb,ua)?kb[ua]:null}const C=Symbol("vega_id");let V=1;d.prototype={set(ua,Ta,Ya,Da){const ta=this[ua],U=this["_:mod:_"];if(null!=Ta&&0<=Ta){if(ta[Ta]!==Ya||Da)ta[Ta]=Ya,U[Ta+":"+ua]=-1,U[ua]=-1}else if(ta!==Ya||Da)this[ua]=Ya,U[ua]=l.isArray(Ya)?1+Ya.length:-1;return this},modified(ua,Ta){const Ya=this["_:mod:_"];if(!arguments.length){for(var Da in Ya)if(Ya[Da])return!0;return!1}if(l.isArray(ua)){for(Da=
0;Da<ua.length;++Da)if(Ya[ua[Da]])return!0;return!1}return null!=Ta&&0<=Ta?Ta+1<Ya[ua]||!!Ya[Ta+":"+ua]:!!Ya[ua]},clear(){this["_:mod:_"]={};return this}};let ia=0;const aa=new d;f.prototype={targets(){return this._targets||(this._targets=N(l.id))},set(ua){return this.value!==ua?(this.value=ua,1):0},skip:a(1),modified:a(2),parameters(ua,Ta,Ya){Ta=!1!==Ta;const Da=this._argval=this._argval||new d,ta=this._argops=this._argops||[],U=[];let W,ba,ca,ra;const qa=(Fa,na,Ra)=>{Ra instanceof f?(Ra!==this&&
(Ta&&Ra.targets().add(this),U.push(Ra)),ta.push({op:Ra,name:Fa,index:na})):Da.set(Fa,na,Ra)};for(W in ua)if(ba=ua[W],"pulse"===W)l.array(ba).forEach(Fa=>{Fa instanceof f?Fa!==this&&(Fa.targets().add(this),U.push(Fa)):l.error("Pulse parameters must be operator instances.")}),this.source=ba;else if(l.isArray(ba))for(Da.set(W,-1,Array(ca=ba.length)),ra=0;ra<ca;++ra)qa(W,ra,ba[ra]);else qa(W,-1,ba);this.marshall().clear();Ya&&(ta.initonly=!0);return U},marshall(ua){const Ta=this._argval||aa,Ya=this._argops;
let Da,ta,U,W;if(Ya){const ba=Ya.length;for(ta=0;ta<ba;++ta)Da=Ya[ta],U=Da.op,W=U.modified()&&U.stamp===ua,Ta.set(Da.name,Da.index,U.value,W);if(Ya.initonly){for(ta=0;ta<ba;++ta)Da=Ya[ta],Da.op.targets().remove(this);this._update=this._argops=null}}return Ta},detach(){const ua=this._argops;let Ta,Ya;if(ua)for(Ta=0,Ya=ua.length;Ta<Ya;++Ta){var Da=ua[Ta];Da=Da.op;Da._targets&&Da._targets.remove(this)}},evaluate(ua){var Ta=this._update;if(Ta){const Ya=this.marshall(ua.stamp);Ta=Ta.call(this,Ya,ua);Ya.clear();
if(Ta!==this.value)this.value=Ta;else if(!this.modified())return ua.StopPropagation}},run(ua){if(ua.stamp<this.stamp)return ua.StopPropagation;let Ta;this.skip()?(this.skip(!1),Ta=0):Ta=this.evaluate(ua);return this.pulse=Ta||ua}};let ya=0;e.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=N(l.id))},consume(ua){if(!arguments.length)return!!this._consume;this._consume=!!ua;return this},receive(ua){if(this._filter(ua)){const Ta=this.value=this._apply(ua),
Ya=this._targets,Da=Ya?Ya.length:0;for(let ta=0;ta<Da;++ta)Ya[ta].receive(Ta);this._consume&&(ua.preventDefault(),ua.stopPropagation())}},filter(ua){ua=n(ua);this.targets().add(ua);return ua},apply(ua){ua=n(null,ua);this.targets().add(ua);return ua},merge(){const ua=n();this.targets().add(ua);for(let Ta=0,Ya=arguments.length;Ta<Ya;++Ta)arguments[Ta].targets().add(ua);return ua},throttle(ua){let Ta=-1;return this.filter(()=>{const Ya=Date.now();return Ya-Ta>ua?(Ta=Ya,1):0})},debounce(ua){const Ta=
n();this.targets().add(n(null,null,l.debounce(ua,Ya=>{const Da=Ya.dataflow;Ta.receive(Ya);Da&&Da.run&&Da.run()})));return Ta},between(ua,Ta){let Ya=!1;ua.targets().add(n(null,null,()=>Ya=!0));Ta.targets().add(n(null,null,()=>Ya=!1));return this.filter(()=>Ya)},detach(){}};const va={skip:!0},Ia={};M.prototype={StopPropagation:Ia,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(ua){return(new M(this.dataflow)).init(this,ua)},clone(){const ua=this.fork(7);
ua.add=ua.add.slice();ua.rem=ua.rem.slice();ua.mod=ua.mod.slice();ua.source&&(ua.source=ua.source.slice());return ua.materialize(23)},addAll(){let ua=this;ua.source&&ua.add!==ua.rem&&(ua.rem.length||ua.source.length!==ua.add.length)&&(ua=(new M(this.dataflow)).init(this),ua.add=ua.source,ua.rem=[]);return ua},init(ua,Ta){this.stamp=ua.stamp;this.encode=ua.encode;!ua.fields||Ta&64||(this.fields=ua.fields);Ta&1?(this.addF=ua.addF,this.add=ua.add):(this.addF=null,this.add=[]);Ta&2?(this.remF=ua.remF,
this.rem=ua.rem):(this.remF=null,this.rem=[]);Ta&4?(this.modF=ua.modF,this.mod=ua.mod):(this.modF=null,this.mod=[]);Ta&32?this.source=this.srcF=null:(this.srcF=ua.srcF,this.source=ua.source,ua.cleans&&(this.cleans=ua.cleans));return this},runAfter(ua){this.dataflow.runAfter(ua)},changed(ua){ua=ua||7;return ua&1&&this.add.length||ua&2&&this.rem.length||ua&4&&this.mod.length},reflow(ua){if(ua)return this.fork(7).reflow();ua=this.add.length;const Ta=this.source&&this.source.length;Ta&&Ta!==ua&&(this.mod=
this.source,ua&&this.filter(4,z(this,1)));return this},clean(ua){return arguments.length?(this.cleans=!!ua,this):this.cleans},modifies(ua){const Ta=this.fields||(this.fields={});l.isArray(ua)?ua.forEach(Ya=>Ta[Ya]=!0):Ta[ua]=!0;return this},modified(ua,Ta){const Ya=this.fields;return(Ta||this.mod.length)&&Ya?arguments.length?l.isArray(ua)?ua.some(Da=>Ya[Da]):Ya[ua]:!!Ya:!1},filter(ua,Ta){ua&1&&(this.addF=G(this.addF,Ta));ua&2&&(this.remF=G(this.remF,Ta));ua&4&&(this.modF=G(this.modF,Ta));ua&16&&(this.srcF=
G(this.srcF,Ta));return this},materialize(ua){ua=ua||7;ua&1&&this.addF&&(this.add=F(this.add,this.addF),this.addF=null);ua&2&&this.remF&&(this.rem=F(this.rem,this.remF),this.remF=null);ua&4&&this.modF&&(this.mod=F(this.mod,this.modF),this.modF=null);ua&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(ua,Ta){if(ua&16)return l.visitArray(this.source,this.srcF,Ta),this;ua&1&&l.visitArray(this.add,this.addF,Ta);ua&2&&l.visitArray(this.rem,this.remF,Ta);ua&4&&
l.visitArray(this.mod,this.modF,Ta);const Ya=this.source;ua&8&&Ya&&(ua=this.add.length+this.mod.length,ua!==Ya.length&&(ua?l.visitArray(Ya,z(this,5),Ta):l.visitArray(Ya,this.srcF,Ta)));return this}};l.inherits(K,M,{fork(ua){const Ta=(new M(this.dataflow)).init(this,ua&this.NO_FIELDS);void 0!==ua&&(ua&Ta.ADD&&this.visit(Ta.ADD,Ya=>Ta.add.push(Ya)),ua&Ta.REM&&this.visit(Ta.REM,Ya=>Ta.rem.push(Ya)),ua&Ta.MOD&&this.visit(Ta.MOD,Ya=>Ta.mod.push(Ya)));return Ta},changed(ua){return this.changes&ua},modified(ua){const Ta=
this.fields;return Ta&&this.changes&this.MOD?l.isArray(ua)?ua.some(Ya=>Ta[Ya]):Ta[ua]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},visit(ua,Ta){const Ya=this.pulses,Da=Ya.length;let ta=0;if(ua&this.SOURCE)for(;ta<Da;++ta)Ya[ta].visit(ua,Ta);else for(;ta<Da;++ta)Ya[ta].stamp===this.stamp&&Ya[ta].visit(ua,Ta);return this}});const bb={skip:!1,force:!1};ha.prototype={stamp(){return this._clock},loader(ua){return arguments.length?
(this._loader=ua,this):this._loader},locale(ua){return arguments.length?(this._locale=ua,this):this._locale},logger(ua){return arguments.length?(this._log=ua,this):this._log},error:la("error"),warn:la("warn"),info:la("info"),debug:la("debug"),logLevel:la("level"),cleanThreshold:1E4,add:function(ua,Ta,Ya,Da){let ta=1;ua instanceof f||(ua&&ua.prototype instanceof f?ua=new ua:l.isFunction(ua)?ua=new f(null,ua):(ta=0,ua=new f(ua,Ta)));this.rank(ua);ta&&(Da=Ya,Ya=Ta);Ya&&this.connect(ua,ua.parameters(Ya,
Da));this.touch(ua);return ua},connect:function(ua,Ta){const Ya=ua.rank,Da=Ta.length;for(let ta=0;ta<Da;++ta)if(Ya<Ta[ta].rank){this.rerank(ua);break}},rank:function(ua){ua.rank=++this._rank},rerank:function(ua){const Ta=[ua];let Ya,Da,ta;for(;Ta.length;)if(this.rank(Ya=Ta.pop()),Da=Ya._targets)for(ta=Da.length;0<=--ta;)Ta.push(Ya=Da[ta]),Ya===ua&&l.error("Cycle detected in dataflow graph.")},pulse:function(ua,Ta,Ya){this.touch(ua,Ya||bb);Ya=new M(this,this._clock+(this._pulse?0:1));const Da=ua.pulse&&
ua.pulse.source||[];Ya.target=ua;this._input[ua.id]=Ta.pulse(Ya,Da);return this},touch:function(ua,Ta){Ta=Ta||bb;this._pulse?this._enqueue(ua):this._touched.add(ua);Ta.skip&&ua.skip(!0);return this},update:function(ua,Ta,Ya){Ya=Ya||bb;(ua.set(Ta)||Ya.force)&&this.touch(ua,Ya);return this},changeset:g,ingest:function(ua,Ta,Ya){Ta=this.parse(Ta,Ya);return this.pulse(ua,this.changeset().insert(Ta))},parse:function(ua,Ta){const Ya=this.locale();return w.read(ua,Ta,Ya.timeParse,Ya.utcParse)},preload:function(ua,
Ta,Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ta=Da._pending||y(Da);ta.requests+=1;const U=yield Da.request(Ta,Ya);Da.pulse(ua,Da.changeset().remove(l.truthy).insert(U.data||[]));ta.done();return U})},request:function(ua,Ta){const Ya=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Da=0,ta;try{ta=yield Ya.loader().load(ua,{context:"dataflow",response:w.responseType(Ta&&Ta.type)});try{ta=Ya.parse(ta,Ta)}catch(U){Da=-2,Ya.warn("Data ingestion failed",
ua,U)}}catch(U){Da=-1,Ya.warn("Loading failed",ua,U)}return{data:ta,status:Da}})},events:function(ua,Ta,Ya,Da){const ta=this,U=n(Ya,Da);Ya=function(W){W.dataflow=ta;try{U.receive(W)}catch(ba){ta.error(ba)}finally{ta.run()}};ua="string"===typeof ua&&"undefined"!==typeof document?document.querySelectorAll(ua):l.array(ua);Da=ua.length;for(let W=0;W<Da;++W)ua[W].addEventListener(Ta,Ya);return U},on:function(ua,Ta,Ya,Da,ta){(ua instanceof f?D:B)(this,ua,Ta,Ya,Da,ta);return this},evaluate:function(ua,Ta,
Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ta=[];if(Da._pulse)return R(Da);Da._pending&&(yield Da._pending);Ta&&(yield x(Da,Ta));if(!Da._touched.length)return Da.debug("Dataflow invoked, but nothing to do."),Da;var U=++Da._clock;Da._pulse=new M(Da,U,ua);Da._touched.forEach(qa=>Da._enqueue(qa,!0));Da._touched=N(l.id);var W=0;let ba,ca,ra;try{for(;0<Da._heap.size();)ba=Da._heap.pop(),ba.rank!==ba.qrank?Da._enqueue(ba,!0):(ca=ba.run(Da._getPulse(ba,ua)),ca.then?
ca=yield ca:ca.async&&(ta.push(ca.async),ca=Ia),ca!==Ia&&ba._targets&&ba._targets.forEach(qa=>Da._enqueue(qa)),++W)}catch(qa){Da._heap.clear(),ra=qa}Da._input={};Da._pulse=null;Da.debug(`Pulse ${U}: ${W} operators`);ra&&(Da._postrun=[],Da.error(ra));if(Da._postrun.length)for(U=Da._postrun.sort((qa,Fa)=>Fa.priority-qa.priority),Da._postrun=[],W=0;W<U.length;++W)yield x(Da,U[W].callback);Ya&&(yield x(Da,Ya));ta.length&&Promise.all(ta).then(qa=>Da.runAsync(null,()=>{qa.forEach(Fa=>{try{Fa(Da)}catch(na){Da.error(na)}})}));
return Da})},run:function(ua,Ta,Ya){return this._pulse?R(this):(this.evaluate(ua,Ta,Ya),this)},runAsync:function(ua,Ta,Ya){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Da._running;)yield Da._running;const ta=()=>Da._running=null;(Da._running=Da.evaluate(ua,Ta,Ya)).then(ta,ta);return Da._running})},runAfter:function(ua,Ta,Ya){if(this._pulse||Ta)this._postrun.push({priority:Ya||0,callback:ua});else try{ua(this)}catch(Da){this.error(Da)}},_enqueue:function(ua,Ta){const Ya=
ua.stamp<this._clock;Ya&&(ua.stamp=this._clock);if(Ya||Ta)ua.qrank=ua.rank,this._heap.push(ua)},_getPulse:function(ua,Ta){const Ya=ua.source,Da=this._clock;return Ya&&l.isArray(Ya)?new K(this,Da,Ya.map(ta=>ta.pulse),Ta):this._input[ua.id]||T(this._pulse,Ya&&Ya.pulse)}};l.inherits(Z,f,{run(ua){if(ua.stamp<this.stamp)return ua.StopPropagation;let Ta;this.skip()?this.skip(!1):Ta=this.evaluate(ua);Ta=Ta||ua;Ta.then?Ta=Ta.then(Ya=>this.pulse=Ya):Ta!==ua.StopPropagation&&(this.pulse=Ta);return Ta},evaluate(ua){const Ta=
this.marshall(ua.stamp);ua=this.transform(Ta,ua);Ta.clear();return ua},transform(){}});const kb={};k.Dataflow=ha;k.EventStream=e;k.MultiPulse=K;k.Operator=f;k.Parameters=d;k.Pulse=M;k.Transform=Z;k.UniqueList=N;k.asyncCallback=x;k.changeset=g;k.definition=function(ua){return(ua=P(ua))&&ua.Definition||null};k.derive=function(ua){return u(ua,v({}))};k.ingest=v;k.isChangeSet=m;k.isTuple=function(ua){return!(!ua||!ua[C])};k.rederive=u;k.replace=function(ua,Ta){Ta[C]=ua[C];return Ta};k.stableCompare=function(ua,
Ta){return ua?Ta?(Ya,Da)=>ua(Ya,Da)||Ta(Ya)[C]-Ta(Da)[C]:(Ya,Da)=>ua(Ya,Da)||Ya[C]-Da[C]:null};k.transform=P;k.transforms=kb;k.tupleid=function(ua){return ua[C]};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[27]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3))})(this,function(k,l){function*w(C,V){if(null==V)for(var ia of C)null!=ia&&""!==ia&&(ia=+ia)>=ia&&(yield ia);else{ia=-1;for(let aa of C)aa=V(aa,++ia,C),null!=aa&&""!==aa&&(aa=+aa)>=aa&&(yield aa)}}function H(C,V,ia){const aa=Float64Array.from(w(C,
ia));aa.sort(l.ascending);return V.map(ya=>l.quantileSorted(aa,ya))}function N(C,V){return H(C,[.25,.5,.75],V)}function x(C,V){const ia=C.length,aa=l.deviation(C,V);C=N(C,V);return 1.06*(Math.min(aa,(C[2]-C[0])/1.34)||aa||Math.abs(C[0])||1)*Math.pow(ia,-.2)}function v(C,V){const ia=C.length;let aa=0,ya=1,va,Ia;for(;C[aa]===C[ya];)++ya;for(;ya<ia;){for(va=ya+1;C[ya]===C[va];)++va;if(C[ya]-C[ya-1]<V){for(Ia=ya+(aa+va-ya-ya>>1);Ia<ya;)C[Ia++]=C[ya];for(;Ia>ya;)C[Ia--]=C[aa]}aa=ya;ya=va}return C}function u(C,
V){C=C||0;V=null==V?1:V;let ia,aa;if(Z===Z)ia=Z,Z=NaN;else{do{ia=2*k.random()-1;aa=2*k.random()-1;var ya=ia*ia+aa*aa}while(0===ya||1<ya);ya=Math.sqrt(-2*Math.log(ya)/ya);ia*=ya;Z=aa*ya}return C+ia*V}function m(C,V,ia){ia=null==ia?1:ia;C=(C-(V||0))/ia;return Math.exp(-.5*C*C)/(ia*ha)}function g(C,V,ia){C=(C-(V||0))/(null==ia?1:ia);V=Math.abs(C);37<V?ia=0:(ia=Math.exp(-V*V/2),7.07106781186547>V?(ia*=(((((.0352624965998911*V+.700383064443688)*V+6.37396220353165)*V+33.912866078383)*V+112.079291497871)*
V+221.213596169931)*V+220.206867912376,ia/=((((((.0883883476483184*V+1.75566716318264)*V+16.064177579207)*V+86.7807322029461)*V+296.564248779674)*V+637.333633378831)*V+793.826512519948)*V+440.413735824752):ia=ia/(V+1/(V+2/(V+3/(V+4/(V+.65)))))/2.506628274631);return 0<C?1-ia:ia}function d(C,V,ia){if(0>C||1<C)return NaN;C=2*C-1;var aa=-Math.log((1-C)*(1+C));6.25>aa?(aa-=3.125,aa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+
(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):16>aa?(aa=Math.sqrt(aa)-
3.25,aa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):
Number.isFinite(aa)?(aa=Math.sqrt(aa)-5,aa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa)*aa):aa=Infinity;C*=
aa;return(V||0)+(null==ia?1:ia)*la*C}function f(C,V){let ia,aa;const ya={mean(va){return arguments.length?(ia=va||0,ya):ia},stdev(va){return arguments.length?(aa=null==va?1:va,ya):aa},sample:()=>u(ia,aa),pdf:va=>m(va,ia,aa),cdf:va=>g(va,ia,aa),icdf:va=>d(va,ia,aa)};return ya.mean(C).stdev(V)}function a(C,V){V=null==V?1:V;return Math.exp((C||0)+u()*V)}function e(C,V,ia){if(0>=C)return 0;ia=null==ia?1:ia;V=(Math.log(C)-(V||0))/ia;return Math.exp(-.5*V*V)/(ia*ha*C)}function n(C,V,ia){return g(Math.log(C),
V,ia)}function y(C,V,ia){return Math.exp(d(C,V,ia))}function B(C,V){null==V&&(V=null==C?1:C,C=0);return C+(V-C)*k.random()}function D(C,V,ia){null==ia&&(ia=null==V?1:V,V=0);return C>=V&&C<=ia?1/(ia-V):0}function O(C,V,ia){null==ia&&(ia=null==V?1:V,V=0);return C<V?0:C>ia?1:(C-V)/(ia-V)}function M(C,V,ia){null==ia&&(ia=null==V?1:V,V=0);return 0<=C&&1>=C?V+C*(ia-V):NaN}function F(C,V,ia,aa){aa-=C*C;ia=1E-24>Math.abs(aa)?0:(ia-C*V)/aa;return[V-ia*C,ia]}function z(C,V,ia,aa){C=C.filter(Ya=>{let Da=V(Ya);
Ya=ia(Ya);return null!=Da&&(Da=+Da)>=Da&&null!=Ya&&(Ya=+Ya)>=Ya});aa&&C.sort((Ya,Da)=>V(Ya)-V(Da));aa=C.length;const ya=new Float64Array(aa),va=new Float64Array(aa);let Ia=0,bb=0,kb=0,ua,Ta;for(Ta of C)ya[Ia]=C=+V(Ta),va[Ia]=ua=+ia(Ta),++Ia,bb+=(C-bb)/Ia,kb+=(ua-kb)/Ia;for(Ia=0;Ia<aa;++Ia)ya[Ia]-=bb,va[Ia]-=kb;return[ya,va,bb,kb]}function G(C,V,ia,aa){let ya=-1,va;for(const Ia of C)C=V(Ia),va=ia(Ia),null!=C&&(C=+C)>=C&&null!=va&&(va=+va)>=va&&aa(C,va,++ya)}function K(C,V,ia,aa,ya){let va=0,Ia=0;G(C,
V,ia,(bb,kb)=>{bb=kb-ya(bb);kb-=aa;va+=bb*bb;Ia+=kb*kb});return 1-va/Ia}function R(C,V,ia){let aa=0,ya=0,va=0,Ia=0,bb=0;G(C,V,ia,(Ta,Ya)=>{++bb;aa+=(Ta-aa)/bb;ya+=(Ya-ya)/bb;va+=(Ta*Ya-va)/bb;Ia+=(Ta*Ta-Ia)/bb});const kb=F(aa,ya,va,Ia),ua=Ta=>kb[0]+kb[1]*Ta;return{coef:kb,predict:ua,rSquared:K(C,V,ia,ya,ua)}}function T(C,V,ia){const [aa,ya,va,Ia]=z(C,V,ia);var bb=aa.length,kb=0;let ua=0;var Ta=0;let Ya=0,Da=0,ta,U,W,ba;for(ta=0;ta<bb;)U=aa[ta],W=ya[ta++],ba=U*U,kb+=(ba-kb)/ta,ua+=(ba*U-ua)/ta,Ta+=
(ba*ba-Ta)/ta,Ya+=(U*W-Ya)/ta,Da+=(ba*W-Da)/ta;bb=Ta-kb*kb;Ta=kb*bb-ua*ua;const ca=(Da*kb-Ya*ua)/Ta,ra=(Ya*bb-Da*ua)/Ta,qa=-ca*kb;kb=Fa=>{Fa-=va;return ca*Fa*Fa+ra*Fa+qa+Ia};return{coef:[qa-ra*va+ca*va*va+Ia,ra-2*ca*va,ca],predict:kb,rSquared:K(C,V,ia,Ia,kb)}}function ja(C,V,ia,aa){const ya=Array(C);let va,Ia,bb;for(va=0;va<C;++va)ya[va]=0;for(va=C-1;0<=va;--va)for(Ia=V[va],bb=1,ya[va]+=Ia,C=1;C<=va;++C)bb*=(va+1-C)/C,ya[va-C]+=Ia*Math.pow(ia,C)*bb;ya[0]+=aa;return ya}function fa(C){const V=C.length-
1,ia=[];let aa,ya,va,Ia,bb;for(aa=0;aa<V;++aa){Ia=aa;for(ya=aa+1;ya<V;++ya)Math.abs(C[aa][ya])>Math.abs(C[aa][Ia])&&(Ia=ya);for(va=aa;va<V+1;++va)bb=C[va][aa],C[va][aa]=C[va][Ia],C[va][Ia]=bb;for(ya=aa+1;ya<V;++ya)for(va=V;va>=aa;va--)C[va][ya]-=C[va][aa]*C[aa][ya]/C[aa][aa]}for(ya=V-1;0<=ya;--ya){bb=0;for(va=ya+1;va<V;++va)bb+=C[va][ya]*ia[va];ia[ya]=(C[V][ya]-bb)/C[ya][ya]}return ia}k.random=Math.random;const ha=Math.sqrt(2*Math.PI),la=Math.SQRT2;let Z=NaN;const P=.1*Math.PI/180;k.bandwidthNRD=
x;k.bin=function(C){var V=C.maxbins||20;const ia=C.base||10,aa=Math.log(ia),ya=C.divide||[5,2];let va=C.extent[0],Ia=C.extent[1];let bb,kb,ua,Ta;const Ya=C.span||Ia-va||Math.abs(va)||1;if(C.step)var Da=C.step;else if(C.steps){kb=Ya/V;ua=0;for(Ta=C.steps.length;ua<Ta&&C.steps[ua]<kb;++ua);Da=C.steps[Math.max(0,ua-1)]}else{Da=Math.ceil(Math.log(V)/aa);bb=C.minstep||0;for(Da=Math.max(bb,Math.pow(ia,Math.round(Math.log(Ya)/aa)-Da));Math.ceil(Ya/Da)>V;)Da*=ia;ua=0;for(Ta=ya.length;ua<Ta;++ua)kb=Da/ya[ua],
kb>=bb&&Ya/kb<=V&&(Da=kb)}kb=Math.log(Da);V=Math.pow(ia,-(0<=kb?0:~~(-kb/aa)+1)-1);if(C.nice||void 0===C.nice)kb=Math.floor(va/Da+V)*Da,va=va<kb?kb-Da:kb,Ia=Math.ceil(Ia/Da)*Da;return{start:va,stop:Ia===va?va+Da:Ia,step:Da}};k.bootstrapCI=function(C,V,ia,aa){if(!C.length)return[void 0,void 0];C=Float64Array.from(w(C,aa));aa=C.length;let ya,va,Ia,bb;Ia=0;for(bb=Array(V);Ia<V;++Ia){for(va=ya=0;va<aa;++va)ya+=C[~~(k.random()*aa)];bb[Ia]=ya/aa}bb.sort(l.ascending);return[l.quantile(bb,ia/2),l.quantile(bb,
1-ia/2)]};k.cumulativeLogNormal=n;k.cumulativeNormal=g;k.cumulativeUniform=O;k.densityLogNormal=e;k.densityNormal=m;k.densityUniform=D;k.dotbin=function(C,V,ia,aa){aa=aa||(Da=>Da);const ya=C.length,va=new Float64Array(ya);let Ia=0,bb=1,kb=aa(C[0]),ua=kb,Ta=kb+V,Ya;for(;bb<ya;++bb){Ya=aa(C[bb]);if(Ya>=Ta){for(ua=(kb+ua)/2;Ia<bb;++Ia)va[Ia]=ua;Ta=Ya+V;kb=Ya}ua=Ya}for(ua=(kb+ua)/2;Ia<bb;++Ia)va[Ia]=ua;return ia?v(va,V+V/4):va};k.quantileLogNormal=y;k.quantileNormal=d;k.quantileUniform=M;k.quantiles=
H;k.quartiles=N;k.randomInteger=function(C,V){null==V&&(V=C,C=0);let ia,aa,ya;const va={min(Ia){return arguments.length?(ia=Ia||0,ya=aa-ia,va):ia},max(Ia){return arguments.length?(aa=Ia||0,ya=aa-ia,va):aa},sample(){return ia+Math.floor(ya*k.random())},pdf(Ia){return Ia===Math.floor(Ia)&&Ia>=ia&&Ia<aa?1/ya:0},cdf(Ia){Ia=Math.floor(Ia);return Ia<ia?0:Ia>=aa?1:(Ia-ia+1)/ya},icdf(Ia){return 0<=Ia&&1>=Ia?ia-1+Math.floor(Ia*ya):NaN}};return va.min(C).max(V)};k.randomKDE=function(C,V){const ia=f();let aa=
0;const ya={data(va){return arguments.length?(aa=(C=va)?va.length:0,ya.bandwidth(V)):C},bandwidth(va){if(!arguments.length)return V;V=va;!V&&C&&(V=x(C));return ya},sample(){return C[~~(k.random()*aa)]+V*ia.sample()},pdf(va){let Ia=0,bb=0;for(;bb<aa;++bb)Ia+=ia.pdf((va-C[bb])/V);return Ia/V/aa},cdf(va){let Ia=0,bb=0;for(;bb<aa;++bb)Ia+=ia.cdf((va-C[bb])/V);return Ia/aa},icdf(){throw Error("KDE icdf not supported.");}};return ya.data(C)};k.randomLCG=function(C){return function(){C=(1103515245*C+12345)%
2147483647;return C/2147483647}};k.randomLogNormal=function(C,V){let ia,aa;const ya={mean(va){return arguments.length?(ia=va||0,ya):ia},stdev(va){return arguments.length?(aa=null==va?1:va,ya):aa},sample:()=>a(ia,aa),pdf:va=>e(va,ia,aa),cdf:va=>n(va,ia,aa),icdf:va=>y(va,ia,aa)};return ya.mean(C).stdev(V)};k.randomMixture=function(C,V){let ia=0,aa;const ya={weights(va){if(arguments.length){{var Ia=V=va||[];const bb=[];let kb=0,ua;for(ua=0;ua<ia;++ua)kb+=bb[ua]=null==Ia[ua]?1:+Ia[ua];for(ua=0;ua<ia;++ua)bb[ua]/=
kb;aa=bb}return ya}return V},distributions(va){return arguments.length?(va?(ia=va.length,C=va):(ia=0,C=[]),ya.weights(V)):C},sample(){const va=k.random();let Ia=C[ia-1],bb=aa[0],kb=0;for(;kb<ia-1;bb+=aa[++kb])if(va<bb){Ia=C[kb];break}return Ia.sample()},pdf(va){let Ia=0,bb=0;for(;bb<ia;++bb)Ia+=aa[bb]*C[bb].pdf(va);return Ia},cdf(va){let Ia=0,bb=0;for(;bb<ia;++bb)Ia+=aa[bb]*C[bb].cdf(va);return Ia},icdf(){throw Error("Mixture icdf not supported.");}};return ya.distributions(C).weights(V)};k.randomNormal=
f;k.randomUniform=function(C,V){let ia,aa;const ya={min(va){return arguments.length?(ia=va||0,ya):ia},max(va){return arguments.length?(aa=null==va?1:va,ya):aa},sample:()=>B(ia,aa),pdf:va=>D(va,ia,aa),cdf:va=>O(va,ia,aa),icdf:va=>M(va,ia,aa)};null==V&&(V=null==C?1:C,C=0);return ya.min(C).max(V)};k.regressionExp=function(C,V,ia){const [aa,,ya,va]=z(C,V,ia);let Ia=0,bb=0,kb=0,ua=0,Ta=0,Ya,Da,ta;G(C,V,ia,(ca,ra)=>{Ya=aa[Ta++];Da=Math.log(ra);ta=Ya*ra;Ia+=(ra*Da-Ia)/Ta;bb+=(ta-bb)/Ta;kb+=(ta*Da-kb)/Ta;
ua+=(Ya*ta-ua)/Ta});const [U,W]=F(bb/va,Ia/va,kb/va,ua/va),ba=ca=>Math.exp(U+W*(ca-ya));return{coef:[Math.exp(U-W*ya),W],predict:ba,rSquared:K(C,V,ia,va,ba)}};k.regressionLinear=R;k.regressionLoess=function(C,V,ia,aa){const [ya,va,Ia,bb]=z(C,V,ia,!0);C=ya.length;V=Math.max(2,~~(aa*C));aa=new Float64Array(C);ia=new Float64Array(C);var kb=(new Float64Array(C)).fill(1);for(var ua=-1;2>=++ua;){var Ta=[0,V-1];for(let qa=0;qa<C;++qa){var Ya=ya[qa],Da=Ta[0],ta=Ta[1],U=0,W=0,ba=0,ca=0;let Fa=0;const na=1/
Math.abs(ya[Ya-ya[Da]>ya[ta]-Ya?Da:ta]-Ya||1);for(;Da<=ta;++Da){const $a=ya[Da],Ca=va[Da];var ra=Math.abs(Ya-$a)*na;const Ga=(ra=1-ra*ra*ra)*ra*ra*kb[Da];ra=$a*Ga;U+=Ga;W+=ra;ba+=Ca*Ga;ca+=Ca*ra;Fa+=$a*ra}const [Ra,db]=F(W/U,ba/U,ca/U,Fa/U);aa[qa]=Ra+db*Ya;ia[qa]=Math.abs(va[qa]-aa[qa]);Ya=ya;ta=qa+1;U=Ta;W=Ya[ta];ba=U[0];ca=U[1]+1;if(!(ca>=Ya.length))for(;ta>ba&&Ya[ca]-W<=W-Ya[ba];)U[0]=++ba,U[1]=ca,++ca}if(2===ua)break;Ta=l.median(ia);if(1E-12>Math.abs(Ta))break;for(let qa=0,Fa,na;qa<C;++qa)Fa=
ia[qa]/(6*Ta),kb[qa]=1<=Fa?1E-12:(na=1-Fa*Fa)*na}C=ya.length;V=[];kb=ia=0;for(ua=[];ia<C;++ia)Ta=ya[ia]+Ia,ua[0]===Ta?ua[1]+=(aa[ia]-ua[1])/++kb:(kb=0,ua[1]+=bb,ua=[Ta,aa[ia]],V.push(ua));ua[1]+=bb;return aa=V};k.regressionLog=function(C,V,ia){let aa=0,ya=0,va=0,Ia=0,bb=0;G(C,V,ia,(Ta,Ya)=>{++bb;Ta=Math.log(Ta);aa+=(Ta-aa)/bb;ya+=(Ya-ya)/bb;va+=(Ta*Ya-va)/bb;Ia+=(Ta*Ta-Ia)/bb});const kb=F(aa,ya,va,Ia),ua=Ta=>kb[0]+kb[1]*Math.log(Ta);return{coef:kb,predict:ua,rSquared:K(C,V,ia,ya,ua)}};k.regressionPoly=
function(C,V,ia,aa){if(1===aa)return R(C,V,ia);if(2===aa)return T(C,V,ia);const [ya,va,Ia,bb]=z(C,V,ia);var kb=ya.length;const ua=[],Ta=[],Ya=aa+1;let Da,ta,U,W;for(Da=0;Da<Ya;++Da){for(U=ta=0;ta<kb;++ta)U+=Math.pow(ya[ta],Da)*va[ta];ua.push(U);W=new Float64Array(Ya);for(aa=0;aa<Ya;++aa){for(U=ta=0;ta<kb;++ta)U+=Math.pow(ya[ta],Da+aa);W[aa]=U}Ta.push(W)}Ta.push(ua);const ba=fa(Ta);kb=ca=>{ca-=Ia;let ra=bb+ba[0]+ba[1]*ca+ba[2]*ca*ca;for(Da=3;Da<Ya;++Da)ra+=ba[Da]*Math.pow(ca,Da);return ra};return{coef:ja(Ya,
ba,-Ia,bb),predict:kb,rSquared:K(C,V,ia,bb,kb)}};k.regressionPow=function(C,V,ia){let aa=0,ya=0,va=0,Ia=0,bb=0,kb=0;G(C,V,ia,(Ya,Da)=>{Ya=Math.log(Ya);const ta=Math.log(Da);++kb;aa+=(Ya-aa)/kb;ya+=(ta-ya)/kb;va+=(Ya*ta-va)/kb;Ia+=(Ya*Ya-Ia)/kb;bb+=(Da-bb)/kb});const ua=F(aa,ya,va,Ia),Ta=Ya=>ua[0]*Math.pow(Ya,ua[1]);ua[0]=Math.exp(ua[0]);return{coef:ua,predict:Ta,rSquared:K(C,V,ia,bb,Ta)}};k.regressionQuad=T;k.sampleCurve=function(C,V,ia,aa){ia=ia||25;aa=Math.max(ia,aa||200);var ya=Ta=>[Ta,C(Ta)],
va=V[0];const Ia=V[1],bb=Ia-va;var kb=bb/aa;V=[[va,C(va)]];const ua=[];if(ia===aa){for(kb=1;kb<aa;++kb)V.push(ya(va+kb/ia*bb));V.push([Ia,C(Ia)]);return V}ua.push([Ia,C(Ia)]);for(aa=ia;0<--aa;)ua.push(ya(va+aa/ia*bb));ia=V[0];for(ya=ua[ua.length-1];ya;)va=(ia[0]+ya[0])/2,va=[va,C(va)],va[0]-ia[0]>=kb&&Math.abs(Math.atan2(ya[1]-ia[1],ya[0]-ia[0])-Math.atan2(va[1]-ia[1],va[0]-ia[0]))>P?ua.push(va):(ia=ya,V.push(ya),ua.pop()),ya=ua[ua.length-1];return V};k.sampleLogNormal=a;k.sampleNormal=u;k.sampleUniform=
B;k.setRandom=function(C){k.random=C};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26),A(27),A(15),A(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega))})(this,function(k,l,w,H,N,x){function v(Ka){return eb=>{const wb=Ka.length;let Hb=1,ac=String(Ka[0](eb));for(;Hb<wb;++Hb)ac+="|"+Ka[Hb](eb);
return ac}}function u(Ka){return Ka&&Ka.length?1===Ka.length?Ka[0]:v(Ka):function(){return""}}function m(Ka,eb){return wb=>l.extend({name:Ka,out:wb||Ka},vd,eb)}function g(Ka,eb){return Ka.idx-eb.idx}function d(Ka){const eb={};Ka.forEach(Hb=>eb[Hb.name]=Hb);const wb=Hb=>{Hb.req&&Hb.req.forEach(ac=>{eb[ac]||wb(eb[ac]=Wd[ac]())})};Ka.forEach(wb);return Object.values(eb).sort(g)}function f(){this.missing=this.valid=0;this._ops.forEach(Ka=>Ka.init(this))}function a(Ka,eb){null==Ka||""===Ka?++this.missing:
Ka===Ka&&(++this.valid,this._ops.forEach(wb=>wb.add(this,Ka,eb)))}function e(Ka,eb){null==Ka||""===Ka?--this.missing:Ka===Ka&&(--this.valid,this._ops.forEach(wb=>wb.rem(this,Ka,eb)))}function n(Ka){this._out.forEach(eb=>Ka[eb.out]=eb.value(this));return Ka}function y(Ka,eb){function wb(Lb){this._ops=Hb;this._out=ac;this.cell=Lb;this.init()}eb=eb||l.identity;const Hb=d(Ka),ac=Ka.slice().sort(g);wb.prototype.init=f;wb.prototype.add=a;wb.prototype.rem=e;wb.prototype.set=n;wb.prototype.get=eb;wb.fields=
Ka.map(Lb=>Lb.out);return wb}function B(Ka){this._key=Ka?l.field(Ka):w.tupleid;this.reset()}function D(Ka){w.Transform.call(this,null,Ka);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function O(Ka){w.Transform.call(this,null,Ka)}function M(Ka,eb,wb){let Hb=eb||[],ac=wb||[],Lb={},Ac=0;return{add:tc=>ac.push(tc),remove:tc=>Lb[Ka(tc)]=++Ac,size:()=>
Hb.length,data:(tc,pb)=>{Ac&&(Hb=Hb.filter(Bb=>!Lb[Ka(Bb)]),Lb={},Ac=0);pb&&tc&&Hb.sort(tc);ac.length&&(Hb=tc?l.merge(tc,Hb,ac.sort(tc)):Hb.concat(ac),ac=[]);return Hb}}}function F(Ka){w.Transform.call(this,[],Ka)}function z(Ka){w.Operator.call(this,null,G,Ka)}function G(Ka){return this.value&&!Ka.modified()?this.value:l.compare(Ka.fields,Ka.orders)}function K(Ka){w.Transform.call(this,null,Ka)}function R(Ka){w.Transform.call(this,null,Ka)}function T(Ka,eb){var wb=Ka["function"];l.hasOwnProperty(gc,
wb)||l.error("Unknown distribution function: "+wb);wb=gc[wb]();for(const Hb in Ka)if("field"===Hb)wb.data((Ka.from||eb()).map(Ka[Hb]));else if("distributions"===Hb)wb[Hb](Ka[Hb].map(ac=>T(ac,eb)));else if("function"===typeof wb[Hb])wb[Hb](Ka[Hb]);return wb}function ja(Ka){w.Transform.call(this,null,Ka)}function fa(Ka){return()=>Ka.materialize(Ka.SOURCE).source}function ha(Ka,eb){return Ka?Ka.map((wb,Hb)=>eb[Hb]||l.accessorName(wb)):null}function la(Ka,eb,wb){const Hb=[],ac=mc=>mc(pb);let Lb,Ac,tc,
pb,Bb,Ub;if(null==eb)Hb.push(Ka.map(wb));else for(Lb={},Ac=0,tc=Ka.length;Ac<tc;++Ac)pb=Ka[Ac],Bb=eb.map(ac),Ub=Lb[Bb],Ub||(Lb[Bb]=Ub=[],Ub.dims=Bb,Hb.push(Ub)),Ub.push(wb(pb));return Hb}function Z(Ka){w.Transform.call(this,null,Ka)}function P(Ka){w.Operator.call(this,null,C,Ka);this.modified(!0)}function C(Ka){const eb=Ka.expr;return this.value&&!Ka.modified("expr")?this.value:l.accessor(wb=>eb(wb,Ka),l.accessorFields(eb),l.accessorName(eb))}function V(Ka){w.Transform.call(this,[void 0,void 0],Ka)}
function ia(Ka,eb){w.Operator.call(this,Ka);this.parent=eb;this.count=0}function aa(Ka){w.Transform.call(this,{},Ka);this._keys=l.fastmap();const eb=this._targets=[];eb.active=0;eb.forEach=wb=>{for(let Hb=0,ac=eb.active;Hb<ac;++Hb)wb(eb[Hb],Hb,eb)}}function ya(Ka){w.Operator.call(this,null,va,Ka)}function va(Ka){return this.value&&!Ka.modified()?this.value:l.isArray(Ka.name)?l.array(Ka.name).map(eb=>l.field(eb)):l.field(Ka.name,Ka.as)}function Ia(Ka){w.Transform.call(this,l.fastmap(),Ka)}function bb(Ka){w.Transform.call(this,
[],Ka)}function kb(Ka){w.Transform.call(this,[],Ka)}function ua(Ka){w.Transform.call(this,null,Ka)}function Ta(Ka){w.Transform.call(this,[],Ka)}function Ya(Ka){w.Transform.call(this,[],Ka)}function Da(Ka){var eb=Ka.method||Eb.value;if(null==Eb[eb])l.error("Unrecognized imputation method: "+eb);else{if(eb===Eb.value){var wb=void 0!==Ka.value?Ka.value:0;return()=>wb}return Eb[eb]}}function ta(Ka){const eb=Ka.field;return wb=>wb?eb(wb):NaN}function U(Ka,eb,wb,Hb){var ac=Qb=>Qb(mc),Lb=[];Hb=Hb?Hb.slice():
[];var Ac={},tc={},pb,Bb;Hb.forEach((Qb,Ic)=>Ac[Qb]=Ic+1);var Ub=0;for(Bb=Ka.length;Ub<Bb;++Ub){var mc=Ka[Ub];var Bc=wb(mc);var Cc=Ac[Bc]||(Ac[Bc]=Hb.push(Bc));var Xc=(Bc=eb?eb.map(ac):zc)+"";(pb=tc[Xc])||(pb=tc[Xc]=[],Lb.push(pb),pb.values=Bc);pb[Cc-1]=mc}Lb.domain=Hb;return Lb}function W(Ka){D.call(this,Ka)}function ba(Ka){w.Transform.call(this,null,Ka)}function ca(Ka){w.Operator.call(this,null,ra,Ka)}function ra(Ka){return this.value&&!Ka.modified()?this.value:l.key(Ka.fields,Ka.flat)}function qa(Ka){w.Transform.call(this,
[],Ka);this._pending=null}function Fa(Ka){return Ka.modified("async")&&!(Ka.modified("values")||Ka.modified("url")||Ka.modified("format"))}function na(Ka,eb,wb){wb.forEach(w.ingest);eb=eb.fork(eb.NO_FIELDS&eb.NO_SOURCE);eb.rem=Ka.value;Ka.value=eb.source=eb.add=wb;Ka._pending=null;eb.rem.length&&eb.clean(!0);return eb}function Ra(Ka){w.Transform.call(this,{},Ka)}function db(Ka){w.Operator.call(this,null,$a,Ka)}function $a(Ka){if(this.value&&!Ka.modified())return this.value;Ka=Ka.extents;const eb=
Ka.length;let wb=Infinity,Hb=-Infinity,ac,Lb;for(ac=0;ac<eb;++ac)Lb=Ka[ac],Lb[0]<wb&&(wb=Lb[0]),Lb[1]>Hb&&(Hb=Lb[1]);return[wb,Hb]}function Ca(Ka){w.Operator.call(this,null,Ga,Ka)}function Ga(Ka){return this.value&&!Ka.modified()?this.value:Ka.values.reduce((eb,wb)=>eb.concat(wb),[])}function pa(Ka){w.Transform.call(this,null,Ka)}function Ha(Ka){D.call(this,Ka)}function Ua(Ka,eb){const wb=Ka.field,Hb=Ka.value,ac=("count"===Ka.op?"__count__":Ka.op)||"sum",Lb=l.accessorFields(wb).concat(l.accessorFields(Hb)),
Ac=Fb(wb,Ka.limit||0,eb);eb.changed()&&Ka.set("__pivot__",null,null,!0);return{key:Ka.key,groupby:Ka.groupby,ops:Ac.map(()=>ac),fields:Ac.map(tc=>jb(tc,wb,Hb,Lb)),as:Ac.map(tc=>tc+""),modified:Ka.modified.bind(Ka)}}function jb(Ka,eb,wb,Hb){return l.accessor(ac=>eb(ac)===Ka?wb(ac):NaN,Hb,Ka+"")}function Fb(Ka,eb,wb){const Hb={},ac=[];wb.visit(wb.SOURCE,Lb=>{Lb=Ka(Lb);Hb[Lb]||(Hb[Lb]=1,ac.push(Lb))});ac.sort(l.ascending);return eb?ac.slice(0,eb):ac}function Xb(Ka){aa.call(this,Ka)}function nc(Ka){w.Transform.call(this,
null,Ka)}function md(Ka){w.Transform.call(this,null,Ka)}function pc(Ka){w.Transform.call(this,null,Ka)}function Hc(Ka){w.Transform.call(this,null,Ka)}function mb(Ka){w.Transform.call(this,[],Ka);this.count=0}function hc(Ka){w.Transform.call(this,null,Ka)}function jc(Ka){w.Transform.call(this,null,Ka);this.modified(!0)}function rc(Ka){w.Transform.call(this,null,Ka)}function Pc(Ka){w.Transform.call(this,l.fastmap(),Ka)}function sc(Ka){w.Transform.call(this,null,Ka)}function Uc(Ka,eb,wb,Hb){const ac=
Ed[Ka](eb,wb);return{init:ac.init||l.zero,update:function(Lb,Ac){Ac[Hb]=ac.next(Lb)}}}function Sc(Ka){function eb(Cc){l.array(l.accessorFields(Cc)).forEach(Xc=>pb[Xc]=1)}const wb=l.array(Ka.ops),Hb=l.array(Ka.fields),ac=l.array(Ka.params),Lb=l.array(Ka.as),Ac=this.outputs=[],tc=this.windows=[],pb={},Bb={},Ub=[],mc=[];let Bc=!0;eb(Ka.sort);wb.forEach((Cc,Xc)=>{const Qb=Hb[Xc],Ic=l.accessorName(Qb),Dc=Lb[Xc]||Cc+(Ic?"_"+Ic:"");eb(Qb);Ac.push(Dc);l.hasOwnProperty(Ed,Cc)?tc.push(Uc(Cc,Hb[Xc],ac[Xc],Dc)):
(null==Qb&&"count"!==Cc&&l.error("Null aggregate field specified."),"count"===Cc?Ub.push(Dc):(Bc=!1,Xc=Bb[Ic],Xc||(Xc=Bb[Ic]=[],Xc.field=Qb,mc.push(Xc)),Xc.push(Wd[Cc](Dc))))});if(Ub.length||mc.length)this.cell=Lc(mc,Ub,Bc);this.inputs=Object.keys(pb)}function Lc(Ka,eb,wb){Ka=Ka.map(pb=>y(pb,pb.field));const Hb={num:0,agg:null,store:!1,count:eb};if(!wb)for(var ac=Ka.length,Lb=Hb.agg=Array(ac),Ac=0;Ac<ac;++Ac)Lb[Ac]=new Ka[Ac](Hb);if(Hb.store)var tc=Hb.data=new B;Hb.add=function(pb){Hb.num+=1;if(!wb){tc&&
tc.add(pb);for(let Bb=0;Bb<ac;++Bb)Lb[Bb].add(Lb[Bb].get(pb),pb)}};Hb.rem=function(pb){--Hb.num;if(!wb){tc&&tc.rem(pb);for(let Bb=0;Bb<ac;++Bb)Lb[Bb].rem(Lb[Bb].get(pb),pb)}};Hb.set=function(pb){let Bb,Ub;tc&&tc.values();Bb=0;for(Ub=eb.length;Bb<Ub;++Bb)pb[eb[Bb]]=Hb.num;if(!wb)for(Bb=0,Ub=Lb.length;Bb<Ub;++Bb)Lb[Bb].set(pb)};Hb.init=function(){Hb.num=0;tc&&tc.reset();for(let pb=0;pb<ac;++pb)Lb[pb].init()};return Hb}function Fd(Ka){w.Transform.call(this,{},Ka);this._mlen=0;this._mods=[]}function ge(Ka,
eb,wb,Hb){var ac=Hb.sort;const Lb=ac&&!Hb.ignorePeers;Hb=Hb.frame||[null,0];Ka=Ka.data(wb);wb=Ka.length;const Ac=Lb?N.bisector(ac):null;ac={i0:0,i1:0,p0:0,p1:0,index:0,data:Ka,compare:ac||l.constant(-1)};eb.init();for(let mc=0;mc<wb;++mc){var tc=ac,pb=Hb,Bb=mc,Ub=wb;tc.p0=tc.i0;tc.p1=tc.i1;tc.i0=null==pb[0]?0:Math.max(0,Bb-Math.abs(pb[0]));tc.i1=null==pb[1]?Ub:Math.min(Ub,Bb+Math.abs(pb[1])+1);tc.index=Bb;if(Lb){{tc=ac;pb=Ac;Bb=tc.i0;Ub=tc.i1-1;const Bc=tc.compare,Cc=tc.data,Xc=Cc.length-1;0<Bb&&
!Bc(Cc[Bb],Cc[Bb-1])&&(tc.i0=pb.left(Cc,Cc[Bb]));Ub<Xc&&!Bc(Cc[Ub],Cc[Ub+1])&&(tc.i1=pb.right(Cc,Cc[Ub]))}}eb.update(ac,Ka[mc])}}var wd=()=>{};const vd={init:wd,add:wd,rem:wd,idx:0},Wd={values:{init:Ka=>Ka.cell.store=!0,value:Ka=>Ka.cell.data.values(),idx:-1},count:{value:Ka=>Ka.cell.num},__count__:{value:Ka=>Ka.missing+Ka.valid},missing:{value:Ka=>Ka.missing},valid:{value:Ka=>Ka.valid},sum:{init:Ka=>Ka.sum=0,value:Ka=>Ka.sum,add:(Ka,eb)=>Ka.sum+=+eb,rem:(Ka,eb)=>Ka.sum-=eb},product:{init:Ka=>Ka.product=
1,value:Ka=>Ka.valid?Ka.product:void 0,add:(Ka,eb)=>Ka.product*=eb,rem:(Ka,eb)=>Ka.product/=eb},mean:{init:Ka=>Ka.mean=0,value:Ka=>Ka.valid?Ka.mean:void 0,add:(Ka,eb)=>(Ka.mean_d=eb-Ka.mean,Ka.mean+=Ka.mean_d/Ka.valid),rem:(Ka,eb)=>(Ka.mean_d=eb-Ka.mean,Ka.mean-=Ka.valid?Ka.mean_d/Ka.valid:Ka.mean)},average:{value:Ka=>Ka.valid?Ka.mean:void 0,req:["mean"],idx:1},variance:{init:Ka=>Ka.dev=0,value:Ka=>1<Ka.valid?Ka.dev/(Ka.valid-1):void 0,add:(Ka,eb)=>Ka.dev+=Ka.mean_d*(eb-Ka.mean),rem:(Ka,eb)=>Ka.dev-=
Ka.mean_d*(eb-Ka.mean),req:["mean"],idx:1},variancep:{value:Ka=>1<Ka.valid?Ka.dev/Ka.valid:void 0,req:["variance"],idx:2},stdev:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/(Ka.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/Ka.valid):void 0,req:["variance"],idx:2},stderr:{value:Ka=>1<Ka.valid?Math.sqrt(Ka.dev/(Ka.valid*(Ka.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ka=>Ka.cell.data.distinct(Ka.get),req:["values"],idx:3},ci0:{value:Ka=>Ka.cell.data.ci0(Ka.get),
req:["values"],idx:3},ci1:{value:Ka=>Ka.cell.data.ci1(Ka.get),req:["values"],idx:3},median:{value:Ka=>Ka.cell.data.q2(Ka.get),req:["values"],idx:3},q1:{value:Ka=>Ka.cell.data.q1(Ka.get),req:["values"],idx:3},q3:{value:Ka=>Ka.cell.data.q3(Ka.get),req:["values"],idx:3},min:{init:Ka=>Ka.min=void 0,value:Ka=>Ka.min=Number.isNaN(Ka.min)?Ka.cell.data.min(Ka.get):Ka.min,add:(Ka,eb)=>{if(eb<Ka.min||void 0===Ka.min)Ka.min=eb},rem:(Ka,eb)=>{eb<=Ka.min&&(Ka.min=NaN)},req:["values"],idx:4},max:{init:Ka=>Ka.max=
void 0,value:Ka=>Ka.max=Number.isNaN(Ka.max)?Ka.cell.data.max(Ka.get):Ka.max,add:(Ka,eb)=>{if(eb>Ka.max||void 0===Ka.max)Ka.max=eb},rem:(Ka,eb)=>{eb>=Ka.max&&(Ka.max=NaN)},req:["values"],idx:4},argmin:{init:Ka=>Ka.argmin=void 0,value:Ka=>Ka.argmin||Ka.cell.data.argmin(Ka.get),add:(Ka,eb,wb)=>{eb<Ka.min&&(Ka.argmin=wb)},rem:(Ka,eb)=>{eb<=Ka.min&&(Ka.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ka=>Ka.argmax=void 0,value:Ka=>Ka.argmax||Ka.cell.data.argmax(Ka.get),add:(Ka,eb,wb)=>{eb>Ka.max&&
(Ka.argmax=wb)},rem:(Ka,eb)=>{eb>=Ka.max&&(Ka.argmax=void 0)},req:["max","values"],idx:3}};wd=Object.keys(Wd);wd.forEach(Ka=>{Wd[Ka]=m(Ka,Wd[Ka])});var Pb=B.prototype;Pb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Pb.add=function(Ka){this._add.push(Ka)};Pb.rem=function(Ka){this._rem.push(Ka)};Pb.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ka=this._add;var eb=this._rem;const wb=this._key,Hb=Ka.length,ac=eb.length,Lb=Array(Hb-ac),
Ac={};let tc,pb;for(tc=0;tc<ac;++tc)Ac[wb(eb[tc])]=1;for(eb=tc=0;tc<Hb;++tc)Ac[wb(pb=Ka[tc])]?Ac[wb(pb)]=0:Lb[eb++]=pb;this._rem=[];return this._add=Lb};Pb.distinct=function(Ka){const eb=this.values(),wb={};let Hb=eb.length,ac=0,Lb;for(;0<=--Hb;)Lb=Ka(eb[Hb])+"",l.hasOwnProperty(wb,Lb)||(wb[Lb]=1,++ac);return ac};Pb.extent=function(Ka){if(this._get!==Ka||!this._ext){const eb=this.values(),wb=l.extentIndex(eb,Ka);this._ext=[eb[wb[0]],eb[wb[1]]];this._get=Ka}return this._ext};Pb.argmin=function(Ka){return this.extent(Ka)[0]||
{}};Pb.argmax=function(Ka){return this.extent(Ka)[1]||{}};Pb.min=function(Ka){const eb=this.extent(Ka)[0];return null!=eb?Ka(eb):void 0};Pb.max=function(Ka){const eb=this.extent(Ka)[1];return null!=eb?Ka(eb):void 0};Pb.quartile=function(Ka){this._get===Ka&&this._q||(this._q=H.quartiles(this.values(),Ka),this._get=Ka);return this._q};Pb.q1=function(Ka){return this.quartile(Ka)[0]};Pb.q2=function(Ka){return this.quartile(Ka)[1]};Pb.q3=function(Ka){return this.quartile(Ka)[2]};Pb.ci=function(Ka){this._get===
Ka&&this._ci||(this._ci=H.bootstrapCI(this.values(),1E3,.05,Ka),this._get=Ka);return this._ci};Pb.ci0=function(Ka){return this.ci(Ka)[0]};Pb.ci1=function(Ka){return this.ci(Ka)[1]};D.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:wd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean",
"default":!1},{name:"key",type:"field"}]};l.inherits(D,w.Transform,{transform(Ka,eb){const wb=this,Hb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),ac=Ka.modified();wb.stamp=Hb.stamp;wb.value&&(ac||eb.modified(wb._inputs,!0))?(wb._prev=wb.value,wb.value=ac?wb.init(Ka):{},eb.visit(eb.SOURCE,Lb=>wb.add(Lb))):(wb.value=wb.value||wb.init(Ka),eb.visit(eb.REM,Lb=>wb.rem(Lb)),eb.visit(eb.ADD,Lb=>wb.add(Lb)));Hb.modifies(wb._outputs);wb._drop=!1!==Ka.drop;Ka.cross&&1<wb._dims.length&&(wb._drop=!1,wb.cross());eb.clean()&&
wb._drop&&Hb.clean(!0).runAfter(()=>this.clean());return wb.changes(Hb)},cross(){function Ka(tc){let pb,Bb,Ub,mc;for(pb in tc)for(Ub=tc[pb].tuple,Bb=0;Bb<Ac;++Bb)Lb[Bb][mc=Ub[ac[Bb]]]=mc}function eb(tc,pb,Bb){const Ub=ac[Bb],mc=Lb[Bb++];for(const Bc in mc){const Cc=tc?tc+"|"+Bc:Bc;pb[Ub]=mc[Bc];Bb<Ac?eb(Cc,pb,Bb):Hb[Cc]||wb.cell(Cc,pb)}}const wb=this,Hb=wb.value,ac=wb._dnames,Lb=ac.map(()=>({})),Ac=ac.length;Ka(wb._prev);Ka(Hb);eb("",{},0)},init(Ka){function eb(Qb){Qb=l.array(l.accessorFields(Qb));
const Ic=Qb.length;let Dc=0,uc;for(;Dc<Ic;++Dc)ac[uc=Qb[Dc]]||(ac[uc]=1,wb.push(uc))}const wb=this._inputs=[],Hb=this._outputs=[],ac={};this._dims=l.array(Ka.groupby);this._dnames=this._dims.map(Qb=>{const Ic=l.accessorName(Qb);eb(Qb);Hb.push(Ic);return Ic});this.cellkey=Ka.key?Ka.key:u(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Lb=Ka.fields||[null],Ac=Ka.ops||["count"];Ka=Ka.as||[];const tc=Lb.length,pb={};let Bb,Ub,mc,Bc,Cc,Xc;tc!==Ac.length&&l.error("Unmatched number of fields and aggregate ops.");
for(Xc=0;Xc<tc;++Xc)Bb=Lb[Xc],Ub=Ac[Xc],null==Bb&&"count"!==Ub&&l.error("Null aggregate field specified."),Bc=l.accessorName(Bb),Cc=Ka[Xc]||Ub+(Bc?"_"+Bc:""),Hb.push(Cc),"count"===Ub?this._counts.push(Cc):(mc=pb[Bc],mc||(eb(Bb),mc=pb[Bc]=[],mc.field=Bb,this._measures.push(mc)),"count"!==Ub&&(this._countOnly=!1),mc.push(Wd[Ub](Cc)));this._measures=this._measures.map(Qb=>y(Qb,Qb.field));return{}},cellkey:u(),cell(Ka,eb){let wb=this.value[Ka];wb?0===wb.num&&this._drop&&wb.stamp<this.stamp?(wb.stamp=
this.stamp,this._adds[this._alen++]=wb):wb.stamp<this.stamp&&(wb.stamp=this.stamp,this._mods[this._mlen++]=wb):(wb=this.value[Ka]=this.newcell(Ka,eb),this._adds[this._alen++]=wb);return wb},newcell(Ka,eb){Ka={key:Ka,num:0,agg:null,tuple:this.newtuple(eb,this._prev&&this._prev[Ka]),stamp:this.stamp,store:!1};if(!this._countOnly){eb=this._measures;const wb=eb.length;Ka.agg=Array(wb);for(let Hb=0;Hb<wb;++Hb)Ka.agg[Hb]=new eb[Hb](Ka)}Ka.store&&(Ka.data=new B);return Ka},newtuple(Ka,eb){const wb=this._dnames,
Hb=this._dims,ac=Hb.length,Lb={};for(let Ac=0;Ac<ac;++Ac)Lb[wb[Ac]]=Hb[Ac](Ka);return eb?w.replace(eb.tuple,Lb):w.ingest(Lb)},clean(){const Ka=this.value;for(const eb in Ka)0===Ka[eb].num&&delete Ka[eb]},add(Ka){var eb=this.cellkey(Ka);eb=this.cell(eb,Ka);eb.num+=1;if(!this._countOnly){eb.store&&eb.data.add(Ka);eb=eb.agg;for(let wb=0,Hb=eb.length;wb<Hb;++wb)eb[wb].add(eb[wb].get(Ka),Ka)}},rem(Ka){var eb=this.cellkey(Ka);eb=this.cell(eb,Ka);--eb.num;if(!this._countOnly){eb.store&&eb.data.rem(Ka);eb=
eb.agg;for(let wb=0,Hb=eb.length;wb<Hb;++wb)eb[wb].rem(eb[wb].get(Ka),Ka)}},celltuple(Ka){const eb=Ka.tuple,wb=this._counts;Ka.store&&Ka.data.values();for(let Hb=0,ac=wb.length;Hb<ac;++Hb)eb[wb[Hb]]=Ka.num;if(!this._countOnly){Ka=Ka.agg;for(let Hb=0,ac=Ka.length;Hb<ac;++Hb)Ka[Hb].set(eb)}return eb},changes(Ka){const eb=this._adds,wb=this._mods;var Hb=this._prev;const ac=this._drop,Lb=Ka.add,Ac=Ka.rem,tc=Ka.mod;let pb;var Bb;if(Hb)for(Bb in Hb)pb=Hb[Bb],ac&&!pb.num||Ac.push(pb.tuple);Hb=0;for(Bb=this._alen;Hb<
Bb;++Hb)Lb.push(this.celltuple(eb[Hb])),eb[Hb]=null;Hb=0;for(Bb=this._mlen;Hb<Bb;++Hb)pb=wb[Hb],(0===pb.num&&ac?Ac:tc).push(this.celltuple(pb)),wb[Hb]=null;this._alen=this._mlen=0;this._prev=null;return Ka}});O.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,
"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(O,w.Transform,{transform(Ka,eb){const wb=!1!==Ka.interval,Hb=this._bins(Ka),ac=Hb.start,Lb=Hb.step,Ac=Ka.as||["bin0","bin1"],tc=Ac[0],
pb=Ac[1];Ka.modified()?(eb=eb.reflow(!0),Ka=eb.SOURCE):Ka=eb.modified(l.accessorFields(Ka.field))?eb.ADD_MOD:eb.ADD;eb.visit(Ka,wb?Bb=>{const Ub=Hb(Bb);Bb[tc]=Ub;Bb[pb]=null==Ub?null:ac+Lb*(1+(Ub-ac)/Lb)}:Bb=>Bb[tc]=Hb(Bb));return eb.modifies(wb?Ac:tc)},_bins(Ka){if(this.value&&!Ka.modified())return this.value;const eb=Ka.field,wb=H.bin(Ka),Hb=wb.step;let ac=wb.start,Lb=ac+Math.ceil((wb.stop-ac)/Hb)*Hb;var Ac;null!=(Ac=Ka.anchor)&&(Ac-=ac+Hb*Math.floor((Ac-ac)/Hb),ac+=Ac,Lb+=Ac);Ac=function(tc){tc=
l.toNumber(eb(tc));return null==tc?null:tc<ac?-Infinity:tc>Lb?Infinity:(tc=Math.max(ac,Math.min(tc,Lb-Hb)),ac+Hb*Math.floor(1E-14+(tc-ac)/Hb))};Ac.start=ac;Ac.stop=wb.stop;Ac.step=Hb;return this.value=l.accessor(Ac,l.accessorFields(eb),Ka.name||"bin_"+l.accessorName(eb))}});F.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(F,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.ALL),Hb=M(w.tupleid,this.value,wb.materialize(wb.ADD).add),ac=Ka.sort;Ka=eb.changed()||
ac&&(Ka.modified("sort")||eb.modified(ac.fields));wb.visit(wb.REM,Hb.remove);this.modified(Ka);this.value=wb.source=Hb.data(w.stableCompare(ac),Ka);eb.source&&eb.source.root&&(this.value.root=eb.source.root);return wb}});l.inherits(z,w.Operator);K.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",
type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(K,w.Transform,{transform(Ka,eb){var wb=Ub=>mc=>{mc=tc(mc);var Bc=Lb;switch(Ka.case){case "upper":mc=mc.toUpperCase();break;case "lower":mc=mc.toLowerCase()}mc=mc.match(Bc)||[];var Cc;Bc=0;for(var Xc=mc.length;Bc<Xc;++Bc)Ac.test(Cc=mc[Bc])||Ub(Cc)};const Hb=this._parameterCheck(Ka,eb),ac=this._counts,Lb=this._match,Ac=this._stop,tc=Ka.field,pb=Ka.as||["text","count"],Bb=wb(Ub=>ac[Ub]=1+(ac[Ub]||
0));wb=wb(Ub=>--ac[Ub]);Hb?eb.visit(eb.SOURCE,Bb):(eb.visit(eb.ADD,Bb),eb.visit(eb.REM,wb));return this._finish(eb,pb)},_parameterCheck(Ka,eb){let wb=!1;if(Ka.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ka.stopwords||"")+"$","i"),wb=!0;if(Ka.modified("pattern")||!this._match)this._match=new RegExp(Ka.pattern||"[\\w']+","g"),wb=!0;if(Ka.modified("field")||eb.modified(Ka.field.fields))wb=!0;wb&&(this._counts={});return wb},_finish(Ka,eb){const wb=this._counts,Hb=this._tuples||(this._tuples=
{}),ac=eb[0],Lb=eb[1];Ka=Ka.fork(Ka.NO_SOURCE|Ka.NO_FIELDS);let Ac,tc,pb;for(Ac in wb)tc=Hb[Ac],pb=wb[Ac]||0,!tc&&pb?(Hb[Ac]=tc=w.ingest({}),tc[ac]=Ac,tc[Lb]=pb,Ka.add.push(tc)):0===pb?(tc&&Ka.rem.push(tc),wb[Ac]=null,Hb[Ac]=null):tc[Lb]!==pb&&(tc[Lb]=pb,Ka.mod.push(tc));return Ka.modifies(eb)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(R,w.Transform,{transform(Ka,eb){const wb=
eb.fork(eb.NO_SOURCE),Hb=Ka.as||["a","b"],ac=Hb[0],Lb=Hb[1];var Ac=!this.value||eb.changed(eb.ADD_REM)||Ka.modified("as")||Ka.modified("filter"),tc=this.value;if(Ac){tc&&(wb.rem=tc);eb=tc=eb.materialize(eb.SOURCE).source;Ka=Ka.filter||l.truthy;Ac=[];tc={};for(var pb=eb.length,Bb=0,Ub,mc;Bb<pb;++Bb)for(tc[ac]=mc=eb[Bb],Ub=0;Ub<pb;++Ub)tc[Lb]=eb[Ub],Ka(tc)&&(Ac.push(w.ingest(tc)),tc={},tc[ac]=mc);wb.add=this.value=Ac}else wb.mod=tc;wb.source=this.value;return wb.modifies(Hb)}});const gc={kde:H.randomKDE,
mixture:H.randomMixture,normal:H.randomNormal,lognormal:H.randomLogNormal,uniform:H.randomUniform};Pb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ja.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Pb.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Pb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ja,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ka.modified()){const Hb=T(Ka.distribution,fa(eb));eb=Ka.steps||Ka.minsteps||25;const ac=Ka.steps||Ka.maxsteps||200;let Lb=Ka.method||"pdf";"pdf"!==Lb&&"cdf"!==Lb&&l.error("Invalid density method: "+Lb);Ka.extent||Hb.data||l.error("Missing density extent parameter.");
Lb=Hb[Lb];const Ac=Ka.as||["value","density"];Ka=Ka.extent||l.extent(Hb.data());Ka=H.sampleCurve(Lb,Ka,eb,ac).map(tc=>{const pb={};pb[Ac[0]]=tc[0];pb[Ac[1]]=tc[1];return w.ingest(pb)});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=Ka}return wb}});Z.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(Z,w.Transform,{transform(Ka,eb){if(this.value&&!Ka.modified()&&!eb.changed())return eb;var wb=eb.materialize(eb.SOURCE).source;const Hb=la(eb.source,Ka.groupby,l.identity),ac=Ka.smooth||!1,Lb=Ka.field;wb=Ka.step||l.span(l.extent(wb,Lb))/30;const Ac=w.stableCompare((Bc,Cc)=>Lb(Bc)-Lb(Cc));Ka=Ka.as||"bin";const tc=Hb.length;let pb=Infinity,Bb=-Infinity,Ub=0,mc;for(;Ub<tc;++Ub){const Bc=Hb[Ub].sort(Ac);mc=-1;for(const Cc of H.dotbin(Bc,wb,ac,Lb))Cc<pb&&(pb=Cc),Cc>Bb&&(Bb=Cc),Bc[++mc][Ka]=
Cc}this.value={start:pb,stop:Bb,step:wb};return eb.reflow(!0).modifies(Ka)}});l.inherits(P,w.Operator);V.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(V,w.Transform,{transform(Ka,eb){var wb=this.value;const Hb=Ka.field;Ka=eb.changed()||eb.modified(Hb.fields)||Ka.modified("field");let ac=wb[0],Lb=wb[1];if(Ka||null==ac)ac=Infinity,Lb=-Infinity;eb.visit(Ka?eb.SOURCE:eb.ADD,Ac=>{Ac=l.toNumber(Hb(Ac));null!=Ac&&(Ac<ac&&(ac=Ac),Ac>Lb&&(Lb=Ac))});Number.isFinite(ac)&&
Number.isFinite(Lb)||((wb=l.accessorName(Hb))&&(wb=` for field "${wb}"`),eb.dataflow.warn(`Infinite extent${wb}: [${ac}, ${Lb}]`),ac=Lb=void 0);this.value=[ac,Lb]}});l.inherits(ia,w.Operator,{connect(Ka){this.detachSubflow=Ka.detachSubflow;this.targets().add(Ka);return Ka.source=this},add(Ka){this.count+=1;this.value.add.push(Ka)},rem(Ka){--this.count;this.value.rem.push(Ka)},mod(Ka){this.value.mod.push(Ka)},init(Ka){this.value.init(Ka,Ka.NO_SOURCE)},evaluate(){return this.value}});l.inherits(aa,
w.Transform,{activate(Ka){this._targets[this._targets.active++]=Ka},subflow(Ka,eb,wb,Hb){const ac=this.value;let Lb=l.hasOwnProperty(ac,Ka)&&ac[Ka],Ac;Lb?Lb.value.stamp<wb.stamp&&(Lb.init(wb),this.activate(Lb)):(Ac=Hb||(Ac=this._group[Ka])&&Ac.tuple,Hb=wb.dataflow,Lb=new ia(wb.fork(wb.NO_SOURCE),this),Hb.add(Lb).connect(eb(Hb,Ka,Ac)),ac[Ka]=Lb,this.activate(Lb));return Lb},clean(){const Ka=this.value;for(const eb in Ka)if(0===Ka[eb].count){const wb=Ka[eb].detachSubflow;wb&&wb();delete Ka[eb]}},initTargets(){const Ka=
this._targets,eb=Ka.length;for(let wb=0;wb<eb&&null!=Ka[wb];++wb)Ka[wb]=null;Ka.active=0},transform(Ka,eb){const wb=eb.dataflow,Hb=Ka.key,ac=Ka.subflow,Lb=this._keys,Ac=Ka.modified("key"),tc=pb=>this.subflow(pb,ac,eb);this._group=Ka.group||{};this.initTargets();eb.visit(eb.REM,pb=>{const Bb=w.tupleid(pb),Ub=Lb.get(Bb);void 0!==Ub&&(Lb.delete(Bb),tc(Ub).rem(pb))});eb.visit(eb.ADD,pb=>{const Bb=Hb(pb);Lb.set(w.tupleid(pb),Bb);tc(Bb).add(pb)});Ac||eb.modified(Hb.fields)?eb.visit(eb.MOD,pb=>{const Bb=
w.tupleid(pb),Ub=Lb.get(Bb),mc=Hb(pb);Ub===mc?tc(mc).mod(pb):(Lb.set(Bb,mc),tc(Ub).rem(pb),tc(mc).add(pb))}):eb.changed(eb.MOD)&&eb.visit(eb.MOD,pb=>{tc(Lb.get(w.tupleid(pb))).mod(pb)});Ac&&eb.visit(eb.REFLOW,pb=>{const Bb=w.tupleid(pb),Ub=Lb.get(Bb),mc=Hb(pb);Ub!==mc&&(Lb.set(Bb,mc),tc(Ub).rem(pb),tc(mc).add(pb))});eb.clean()?wb.runAfter(()=>{this.clean();Lb.clean()}):Lb.empty>wb.cleanThreshold&&wb.runAfter(Lb.clean);return eb}});l.inherits(ya,w.Operator);Ia.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(Ia,w.Transform,{transform(Ka,eb){function wb(mc){const Bc=w.tupleid(mc),Cc=Bb(mc,Ka),Xc=ac.get(Bc);Cc&&Xc?(ac.delete(Bc),Ac.push(mc)):Cc||Xc?Ub&&Cc&&!Xc&&pb.push(mc):(ac.set(Bc,1),tc.push(mc))}const Hb=eb.dataflow,ac=this.value,Lb=eb.fork(),Ac=Lb.add,tc=Lb.rem,pb=Lb.mod,Bb=Ka.expr;let Ub=!0;eb.visit(eb.REM,mc=>{const Bc=w.tupleid(mc);ac.has(Bc)?ac.delete(Bc):tc.push(mc)});eb.visit(eb.ADD,mc=>{Bb(mc,Ka)?Ac.push(mc):ac.set(w.tupleid(mc),1)});
eb.visit(eb.MOD,wb);Ka.modified()&&(Ub=!1,eb.visit(eb.REFLOW,wb));ac.empty>Hb.cleanThreshold&&Hb.runAfter(ac.clean);return Lb}});bb.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(bb,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE),Hb=Ka.fields,ac=ha(Hb,Ka.as||[]),Lb=Ka.index||null,Ac=ac.length;wb.rem=this.value;eb.visit(eb.SOURCE,tc=>{const pb=Hb.map(Xc=>
Xc(tc)),Bb=pb.reduce((Xc,Qb)=>Math.max(Xc,Qb.length),0);let Ub=0,mc,Bc,Cc;for(;Ub<Bb;++Ub){Bc=w.derive(tc);for(mc=0;mc<Ac;++mc)Bc[ac[mc]]=null==(Cc=pb[mc][Ub])?null:Cc;Lb&&(Bc[Lb]=Ub);wb.add.push(Bc)}});this.value=wb.source=wb.add;Lb&&wb.modifies(Lb);return wb.modifies(ac)}});kb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(kb,w.Transform,{transform(Ka,eb){const wb=
eb.fork(eb.NO_SOURCE),Hb=Ka.fields,ac=Hb.map(l.accessorName);Ka=Ka.as||["key","value"];const Lb=Ka[0],Ac=Ka[1],tc=Hb.length;wb.rem=this.value;eb.visit(eb.SOURCE,pb=>{for(let Bb=0,Ub;Bb<tc;++Bb)Ub=w.derive(pb),Ub[Lb]=ac[Bb],Ub[Ac]=Hb[Bb](pb),wb.add.push(Ub)});this.value=wb.source=wb.add;return wb.modifies(Ka)}});ua.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(ua,w.Transform,
{transform(Ka,eb){const wb=Ka.expr,Hb=Ka.as,ac=Ka.modified(),Lb=Ka.initonly?eb.ADD:ac?eb.SOURCE:eb.modified(wb.fields)||eb.modified(Hb)?eb.ADD_MOD:eb.ADD;ac&&(eb=eb.materialize().reflow(!0));Ka.initonly||eb.modifies(Hb);return eb.visit(Lb,Ac=>Ac[Hb]=wb(Ac,Ka))}});l.inherits(Ta,w.Transform,{transform(Ka,eb){eb=eb.fork(eb.ALL);const wb=Ka.generator;let Hb=this.value,ac=Ka.size-Hb.length,Lb,Ac;if(0<ac){for(Lb=[];0<=--ac;)Lb.push(Ac=w.ingest(wb(Ka))),Hb.push(Ac);eb.add=eb.add.length?eb.materialize(eb.ADD).add.concat(Lb):
Lb}else Ka=Hb.slice(0,-ac),eb.rem=eb.rem.length?eb.materialize(eb.REM).rem.concat(Ka):Ka,Hb=Hb.slice(-ac);eb.source=this.value=Hb;return eb}});const Eb={value:"value",median:N.median,mean:N.mean,min:N.min,max:N.max},zc=[];Ya.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median",
"max","min"]},{name:"value","default":0}]};l.inherits(Ya,w.Transform,{transform(Ka,eb){var wb=eb.fork(eb.ALL),Hb=Da(Ka),ac=ta(Ka),Lb=l.accessorName(Ka.field),Ac=l.accessorName(Ka.key),tc=(Ka.groupby||[]).map(l.accessorName);Ka=U(eb.source,Ka.groupby,Ka.key,Ka.keyvals);eb=[];var pb=this.value,Bb=Ka.domain.length,Ub,mc,Bc;var Cc=0;for(mc=Ka.length;Cc<mc;++Cc){var Xc=Ka[Cc];var Qb=Xc.values;var Ic=NaN;for(Ub=0;Ub<Bb;++Ub)if(null==Xc[Ub]){var Dc=Ka.domain[Ub];var uc={_impute:!0};var Tc=0;for(Bc=Qb.length;Tc<
Bc;++Tc)uc[tc[Tc]]=Qb[Tc];uc[Ac]=Dc;uc[Lb]=Number.isNaN(Ic)?Ic=Hb(Xc,ac):Ic;eb.push(w.ingest(uc))}}eb.length&&(wb.add=wb.materialize(wb.ADD).add.concat(eb));pb.length&&(wb.rem=wb.materialize(wb.REM).rem.concat(pb));this.value=eb;return wb}});W.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:wd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};
l.inherits(W,D,{transform(Ka,eb){const wb=this,Hb=Ka.modified();let ac;wb.value&&(Hb||eb.modified(wb._inputs,!0))?(ac=wb.value=Hb?wb.init(Ka):{},eb.visit(eb.SOURCE,Lb=>wb.add(Lb))):(ac=wb.value=wb.value||this.init(Ka),eb.visit(eb.REM,Lb=>wb.rem(Lb)),eb.visit(eb.ADD,Lb=>wb.add(Lb)));wb.changes();eb.visit(eb.SOURCE,Lb=>{l.extend(Lb,ac[wb.cellkey(Lb)].tuple)});return eb.reflow(Hb).modifies(this._outputs)},changes(){const Ka=this._adds,eb=this._mods;let wb,Hb;wb=0;for(Hb=this._alen;wb<Hb;++wb)this.celltuple(Ka[wb]),
Ka[wb]=null;wb=0;for(Hb=this._mlen;wb<Hb;++wb)this.celltuple(eb[wb]),eb[wb]=null;this._alen=this._mlen=0}});ba.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(ba,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS);if(!this.value||eb.changed()||Ka.modified()){eb=eb.materialize(eb.SOURCE).source;const Hb=la(eb,Ka.groupby,Ka.field),ac=(Ka.groupby||[]).map(l.accessorName),Lb=Ka.bandwidth,Ac=Ka.cumulative?"cdf":"pdf",tc=Ka.as||["value","density"],
pb=[];let Bb=Ka.extent,Ub=Ka.steps||Ka.minsteps||25,mc=Ka.steps||Ka.maxsteps||200;"pdf"!==Ac&&"cdf"!==Ac&&l.error("Invalid density method: "+Ac);"shared"===Ka.resolve&&(Bb||(Bb=l.extent(eb,Ka.field)),Ub=mc=Ka.steps||mc);Hb.forEach(Bc=>{const Cc=H.randomKDE(Bc,Lb)[Ac],Xc=Ka.counts?Bc.length:1,Qb=Bb||l.extent(Bc);H.sampleCurve(Cc,Qb,Ub,mc).forEach(Ic=>{const Dc={};for(let uc=0;uc<ac.length;++uc)Dc[ac[uc]]=Bc.dims[uc];Dc[tc[0]]=Ic[0];Dc[tc[1]]=Ic[1]*Xc;pb.push(w.ingest(Dc))})});this.value&&(wb.rem=this.value);
this.value=wb.add=wb.source=pb}return wb}});l.inherits(ca,w.Operator);l.inherits(qa,w.Transform,{transform(Ka,eb){const wb=eb.dataflow;return this._pending?na(this,eb,this._pending):Fa(Ka)?eb.StopPropagation:Ka.values?na(this,eb,wb.parse(Ka.values,Ka.format)):Ka.async?{async:wb.request(Ka.url,Ka.format).then(Hb=>{this._pending=l.array(Hb.data);return ac=>ac.touch(this)})}:wb.request(Ka.url,Ka.format).then(Hb=>na(this,eb,l.array(Hb.data)))}});Ra.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Ra,w.Transform,{transform(Ka,eb){const wb=Ka.fields,Hb=Ka.index,ac=Ka.values,Lb=null==Ka.default?null:Ka.default;var Ac=Ka.modified();const tc=wb.length;let pb=Ac?eb.SOURCE:eb.ADD,Bb=eb,Ub=Ka.as,mc;ac?(mc=ac.length,1<tc&&!Ub&&l.error('Multi-field lookup requires explicit "as" parameter.'),
Ub&&Ub.length!==tc*mc&&l.error('The "as" parameter has too few output field names.'),Ub=Ub||ac.map(l.accessorName),Ka=function(Bc){for(var Cc=0,Xc=0,Qb,Ic;Cc<tc;++Cc)if(Ic=Hb.get(wb[Cc](Bc)),null==Ic)for(Qb=0;Qb<mc;++Qb,++Xc)Bc[Ub[Xc]]=Lb;else for(Qb=0;Qb<mc;++Qb,++Xc)Bc[Ub[Xc]]=ac[Qb](Ic)}):(Ub||l.error("Missing output field names."),Ka=function(Bc){for(var Cc=0,Xc;Cc<tc;++Cc)Xc=Hb.get(wb[Cc](Bc)),Bc[Ub[Cc]]=null==Xc?Lb:Xc});Ac?Bb=eb.reflow(!0):(Ac=wb.some(Bc=>eb.modified(Bc.fields)),pb|=Ac?eb.MOD:
0);eb.visit(pb,Ka);return Bb.modifies(Ub)}});l.inherits(db,w.Operator);l.inherits(Ca,w.Operator);l.inherits(pa,w.Transform,{transform(Ka,eb){this.modified(Ka.modified());this.value=Ka;return eb.fork(eb.NO_SOURCE|eb.NO_FIELDS)}});Ha.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:wd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};l.inherits(Ha,D,{_transform:D.prototype.transform,transform(Ka,eb){return this._transform(Ua(Ka,eb),eb)}});l.inherits(Xb,aa,{transform(Ka,eb){const wb=Ka.subflow,Hb=Ka.field,ac=Lb=>this.subflow(w.tupleid(Lb),wb,eb,Lb);(Ka.modified("field")||Hb&&eb.modified(l.accessorFields(Hb)))&&l.error("PreFacet does not support field modification.");this.initTargets();Hb?(eb.visit(eb.MOD,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>Ac.mod(tc))}),eb.visit(eb.ADD,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>
Ac.add(w.ingest(tc)))}),eb.visit(eb.REM,Lb=>{const Ac=ac(Lb);Hb(Lb).forEach(tc=>Ac.rem(tc))})):(eb.visit(eb.MOD,Lb=>ac(Lb).mod(Lb)),eb.visit(eb.ADD,Lb=>ac(Lb).add(Lb)),eb.visit(eb.REM,Lb=>ac(Lb).rem(Lb)));eb.clean()&&eb.runAfter(()=>this.clean());return eb}});nc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(nc,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE),Hb=Ka.fields,
ac=ha(Ka.fields,Ka.as||[]),Lb=Hb?(tc,pb)=>{for(let Bb=0,Ub=Hb.length;Bb<Ub;++Bb)pb[ac[Bb]]=Hb[Bb](tc);return pb}:w.rederive;let Ac;this.value?Ac=this.value:(eb=eb.addAll(),Ac=this.value={});eb.visit(eb.REM,tc=>{tc=w.tupleid(tc);wb.rem.push(Ac[tc]);Ac[tc]=null});eb.visit(eb.ADD,tc=>{const pb=Lb(tc,w.ingest({}));Ac[w.tupleid(tc)]=pb;wb.add.push(pb)});eb.visit(eb.MOD,tc=>{wb.mod.push(Lb(tc,Ac[w.tupleid(tc)]))});return wb}});l.inherits(md,w.Transform,{transform(Ka,eb){this.value=Ka.value;return Ka.modified("value")?
eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});pc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(pc,w.Transform,{transform(Ka,eb){const wb=eb.fork(eb.NO_SOURCE|eb.NO_FIELDS),Hb=Ka.as||["prob","value"];if(this.value&&!Ka.modified()&&!eb.changed())return wb.source=
this.value,wb;eb=eb.materialize(eb.SOURCE).source;eb=la(eb,Ka.groupby,Ka.field);const ac=(Ka.groupby||[]).map(l.accessorName),Lb=[],Ac=Ka.step||.01,tc=Ka.probs||N.range(Ac/2,1-1E-14,Ac),pb=tc.length;eb.forEach(Bb=>{const Ub=H.quantiles(Bb,tc);for(let mc=0;mc<pb;++mc){const Bc={};for(let Cc=0;Cc<ac.length;++Cc)Bc[ac[Cc]]=Bb.dims[Cc];Bc[Hb[0]]=tc[mc];Bc[Hb[1]]=Ub[mc];Lb.push(w.ingest(Bc))}});this.value&&(wb.rem=this.value);this.value=wb.add=wb.source=Lb;return wb}});l.inherits(Hc,w.Transform,{transform(Ka,
eb){let wb,Hb;this.value?Hb=this.value:(wb=eb=eb.addAll(),Hb=this.value={});Ka.derive&&(wb=eb.fork(eb.NO_SOURCE),eb.visit(eb.REM,ac=>{ac=w.tupleid(ac);wb.rem.push(Hb[ac]);Hb[ac]=null}),eb.visit(eb.ADD,ac=>{const Lb=w.derive(ac);Hb[w.tupleid(ac)]=Lb;wb.add.push(Lb)}),eb.visit(eb.MOD,ac=>{const Lb=Hb[w.tupleid(ac)];for(const Ac in ac)Lb[Ac]=ac[Ac],wb.modifies(Ac);wb.mod.push(Lb)}));return wb}});mb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(mb,
w.Transform,{transform(Ka,eb){function wb(Ub){let mc,Bc;tc.length<Lb?tc.push(Ub):(Bc=~~((pb+1)*H.random()),Bc<tc.length&&Bc>=Bb&&(mc=tc[Bc],Ac[w.tupleid(mc)]&&Hb.rem.push(mc),tc[Bc]=Ub));++pb}const Hb=eb.fork(eb.NO_SOURCE);var ac=Ka.modified("size");const Lb=Ka.size,Ac=this.value.reduce((Ub,mc)=>(Ub[w.tupleid(mc)]=1,Ub),{});let tc=this.value,pb=this.count,Bb=0;eb.rem.length&&(eb.visit(eb.REM,Ub=>{const mc=w.tupleid(Ub);Ac[mc]&&(Ac[mc]=-1,Hb.rem.push(Ub));--pb}),tc=tc.filter(Ub=>-1!==Ac[w.tupleid(Ub)]));
(eb.rem.length||ac)&&tc.length<Lb&&eb.source&&(Bb=pb=tc.length,eb.visit(eb.SOURCE,Ub=>{Ac[w.tupleid(Ub)]||wb(Ub)}),Bb=-1);if(ac&&tc.length>Lb){Ka=tc.length-Lb;for(ac=0;ac<Ka;++ac)Ac[w.tupleid(tc[ac])]=-1,Hb.rem.push(tc[ac]);tc=tc.slice(Ka)}eb.mod.length&&eb.visit(eb.MOD,Ub=>{Ac[w.tupleid(Ub)]&&Hb.mod.push(Ub)});eb.add.length&&eb.visit(eb.ADD,wb);if(eb.add.length||0>Bb)Hb.add=tc.filter(Ub=>!Ac[w.tupleid(Ub)]);this.count=pb;this.value=Hb.source=tc;return Hb}});hc.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(hc,w.Transform,{transform(Ka,eb){if(!this.value||Ka.modified()){var wb=eb.materialize().fork(eb.MOD),Hb=Ka.as||"data";wb.rem=this.value?eb.rem.concat(this.value):eb.rem;this.value=N.range(Ka.start,Ka.stop,Ka.step||1).map(ac=>{const Lb={};Lb[Hb]=ac;return w.ingest(Lb)});wb.add=eb.add.concat(this.value);return wb}}});
l.inherits(jc,w.Transform,{transform(Ka,eb){this.value=eb.source;return eb.changed()?eb.fork(eb.NO_SOURCE|eb.NO_FIELDS):eb.StopPropagation}});const Vc=["unit0","unit1"];rc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:x.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Vc}]};l.inherits(rc,w.Transform,{transform(Ka,eb){const wb=Ka.field,Hb=!1!==Ka.interval;var ac="utc"===Ka.timezone;const Lb=this._floor(Ka,eb),Ac=(ac?x.utcInterval:x.timeInterval)(Lb.unit).offset;ac=Ka.as||Vc;const tc=ac[0],pb=ac[1],Bb=Lb.step;let Ub=Lb.start||Infinity,mc=Lb.stop||-Infinity,Bc=eb.ADD;if(Ka.modified()||eb.modified(l.accessorFields(wb)))eb=eb.reflow(!0),Bc=eb.SOURCE,Ub=Infinity,
mc=-Infinity;eb.visit(Bc,Cc=>{var Xc=wb(Cc);let Qb;null==Xc?(Cc[tc]=null,Hb&&(Cc[pb]=null)):(Cc[tc]=Xc=Qb=Lb(Xc),Hb&&(Cc[pb]=Qb=Ac(Xc,Bb)),Xc<Ub&&(Ub=Xc),Qb>mc&&(mc=Qb))});Lb.start=Ub;Lb.stop=mc;return eb.modifies(Hb?ac:tc)},_floor(Ka,eb){var wb="utc"===Ka.timezone;const {units:Hb,step:ac}=Ka.units?{units:Ka.units,step:Ka.step||1}:x.timeBin({extent:Ka.extent||l.extent(eb.materialize(eb.SOURCE).source,Ka.field),maxbins:Ka.maxbins});Ka=x.timeUnits(Hb);eb=this.value||{};wb=(wb?x.utcFloor:x.timeFloor)(Ka,
ac);wb.unit=l.peek(Ka);wb.units=Ka;wb.step=ac;wb.start=eb.start;wb.stop=eb.stop;return this.value=wb}});l.inherits(Pc,w.Transform,{transform(Ka,eb){const wb=eb.dataflow,Hb=Ka.field,ac=this.value,Lb=tc=>ac.set(Hb(tc),tc);let Ac=!0;Ka.modified("field")||eb.modified(Hb.fields)?(ac.clear(),eb.visit(eb.SOURCE,Lb)):eb.changed()?(eb.visit(eb.REM,tc=>ac.delete(Hb(tc))),eb.visit(eb.ADD,Lb)):Ac=!1;this.modified(Ac);ac.empty>wb.cleanThreshold&&wb.runAfter(ac.clean);return eb.fork()}});l.inherits(sc,w.Transform,
{transform(Ka,eb){if(!this.value||Ka.modified("field")||Ka.modified("sort")||eb.changed()||Ka.sort&&eb.modified(Ka.sort.fields))this.value=(Ka.sort?eb.source.slice().sort(w.stableCompare(Ka.sort)):eb.source).map(Ka.field)}});const Ed={row_number:function(){return{next:Ka=>Ka.index+1}},rank:function(){let Ka;return{init:()=>Ka=1,next:eb=>{const wb=eb.index,Hb=eb.data;return wb&&eb.compare(Hb[wb-1],Hb[wb])?Ka=wb+1:Ka}}},dense_rank:function(){let Ka;return{init:()=>Ka=1,next:eb=>{const wb=eb.index,Hb=
eb.data;return wb&&eb.compare(Hb[wb-1],Hb[wb])?++Ka:Ka}}},percent_rank:function(){const Ka=Ed.rank(),eb=Ka.next;return{init:Ka.init,next:wb=>(eb(wb)-1)/(wb.data.length-1)}},cume_dist:function(){let Ka;return{init:()=>Ka=0,next:eb=>{const wb=eb.data,Hb=eb.compare;eb=eb.index;if(Ka<eb){for(;eb+1<wb.length&&!Hb(wb[eb],wb[eb+1]);)++eb;Ka=eb}return(1+Ka)/wb.length}}},ntile:function(Ka,eb){eb=+eb;0<eb||l.error("ntile num must be greater than zero.");Ka=Ed.cume_dist();const wb=Ka.next;return{init:Ka.init,
next:Hb=>Math.ceil(eb*wb(Hb))}},lag:function(Ka,eb){eb=+eb||1;return{next:wb=>{const Hb=wb.index-eb;return 0<=Hb?Ka(wb.data[Hb]):null}}},lead:function(Ka,eb){eb=+eb||1;return{next:wb=>{const Hb=wb.index+eb;wb=wb.data;return Hb<wb.length?Ka(wb[Hb]):null}}},first_value:function(Ka){return{next:eb=>Ka(eb.data[eb.i0])}},last_value:function(Ka){return{next:eb=>Ka(eb.data[eb.i1-1])}},nth_value:function(Ka,eb){eb=+eb;0<eb||l.error("nth_value nth must be greater than zero.");return{next:wb=>{const Hb=wb.i0+
(eb-1);return Hb<wb.i1?Ka(wb.data[Hb]):null}}},prev_value:function(Ka){let eb;return{init:()=>eb=null,next:wb=>{wb=Ka(wb.data[wb.index]);return null!=wb?eb=wb:eb}}},next_value:function(Ka){let eb,wb;return{init:()=>(eb=null,wb=-1),next:Hb=>{var ac=Hb.data;if(Hb.index<=wb)ac=eb;else{a:{Hb=Hb.index;for(let Lb=ac.length;Hb<Lb;++Hb)if(null!=Ka(ac[Hb]))break a;Hb=-1}ac=0>(wb=Hb)?(wb=ac.length,eb=null):eb=Ka(ac[wb])}return ac}}}};Pb=Object.keys(Ed);const Vd=Sc.prototype;Vd.init=function(){this.windows.forEach(Ka=>
Ka.init());this.cell&&this.cell.init()};Vd.update=function(Ka,eb){const wb=this.cell,Hb=this.windows,ac=Ka.data,Lb=Hb&&Hb.length;let Ac;if(wb){for(Ac=Ka.p0;Ac<Ka.i0;++Ac)wb.rem(ac[Ac]);for(Ac=Ka.p1;Ac<Ka.i1;++Ac)wb.add(ac[Ac]);wb.set(eb)}for(Ac=0;Ac<Lb;++Ac)Hb[Ac].update(Ka,eb)};Fd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Pb.concat(wd)},{name:"params",type:"number","null":!0,
array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(Fd,w.Transform,{transform(Ka,eb){this.stamp=eb.stamp;const wb=Ka.modified(),Hb=w.stableCompare(Ka.sort),ac=u(Ka.groupby),Lb=tc=>this.group(ac(tc));let Ac=this.state;if(!Ac||wb)Ac=this.state=new Sc(Ka);wb||eb.modified(Ac.inputs)?(this.value={},eb.visit(eb.SOURCE,
tc=>Lb(tc).add(tc))):(eb.visit(eb.REM,tc=>Lb(tc).remove(tc)),eb.visit(eb.ADD,tc=>Lb(tc).add(tc)));for(let tc=0,pb=this._mlen;tc<pb;++tc)ge(this._mods[tc],Ac,Hb,Ka);this._mlen=0;this._mods=[];return eb.reflow(wb).modifies(Ac.outputs)},group(Ka){let eb=this.value[Ka];eb||(eb=this.value[Ka]=M(w.tupleid),eb.stamp=-1);eb.stamp<this.stamp&&(eb.stamp=this.stamp,this._mods[this._mlen++]=eb);return eb}});k.aggregate=D;k.bin=O;k.collect=F;k.compare=z;k.countpattern=K;k.cross=R;k.density=ja;k.dotbin=Z;k.expression=
P;k.extent=V;k.facet=aa;k.field=ya;k.filter=Ia;k.flatten=bb;k.fold=kb;k.formula=ua;k.generate=Ta;k.impute=Ya;k.joinaggregate=W;k.kde=ba;k.key=ca;k.load=qa;k.lookup=Ra;k.multiextent=db;k.multivalues=Ca;k.params=pa;k.pivot=Ha;k.prefacet=Xb;k.project=nc;k.proxy=md;k.quantile=pc;k.relay=Hc;k.sample=mb;k.sequence=hc;k.sieve=jc;k.subflow=ia;k.timeunit=rc;k.tupleindex=Pc;k.values=sc;k.window=Fd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function w(){return new l}const H=Math.PI,N=2*H,x=N-1E-6;l.prototype=w.prototype={constructor:l,moveTo:function(v,u){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=
this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(v,u){this._+="L"+(this._x1=+v)+","+(this._y1=+u)},quadraticCurveTo:function(v,u,m,g){this._+="Q"+ +v+","+ +u+","+(this._x1=+m)+","+(this._y1=+g)},bezierCurveTo:function(v,u,m,g,d,f){this._+="C"+ +v+","+ +u+","+ +m+","+ +g+","+(this._x1=+d)+","+(this._y1=+f)},arcTo:function(v,u,m,g,d){v=+v;u=+u;m=+m;g=+g;d=+d;var f=this._x1,a=this._y1,e=m-v,n=g-u,y=f-v,B=a-u,D=y*y+B*B;if(0>d)throw Error("negative radius: "+d);if(null===this._x1)this._+="M"+(this._x1=
v)+","+(this._y1=u);else if(1E-6<D)if(1E-6<Math.abs(B*e-n*y)&&d){m-=f;g-=a;var O=e*e+n*n;a=Math.sqrt(O);f=Math.sqrt(D);D=d*Math.tan((H-Math.acos((O+D-(m*m+g*g))/(2*a*f)))/2);f=D/f;D/=a;1E-6<Math.abs(f-1)&&(this._+="L"+(v+f*y)+","+(u+f*B));this._+="A"+d+","+d+",0,0,"+ +(B*m>y*g)+","+(this._x1=v+D*e)+","+(this._y1=u+D*n)}else this._+="L"+(this._x1=v)+","+(this._y1=u)},arc:function(v,u,m,g,d,f){v=+v;u=+u;m=+m;f=!!f;var a=m*Math.cos(g),e=m*Math.sin(g),n=v+a,y=u+e,B=1^f;g=f?g-d:d-g;if(0>m)throw Error("negative radius: "+
m);if(null===this._x1)this._+="M"+n+","+y;else if(1E-6<Math.abs(this._x1-n)||1E-6<Math.abs(this._y1-y))this._+="L"+n+","+y;m&&(0>g&&(g=g%N+N),g>x?this._+="A"+m+","+m+",0,1,"+B+","+(v-a)+","+(u-e)+"A"+m+","+m+",0,1,"+B+","+(this._x1=n)+","+(this._y1=y):1E-6<g&&(this._+="A"+m+","+m+",0,"+ +(g>=H)+","+B+","+(this._x1=v+m*Math.cos(d))+","+(this._y1=u+m*Math.sin(d))))},rect:function(v,u,m,g){this._+="M"+(this._x0=this._x1=+v)+","+(this._y0=this._y1=+u)+"h"+ +m+"v"+ +g+"h"+-m+"Z"},toString:function(){return this._}};
k.path=w;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(29)):"function"===typeof define&&define.amd?define(["exports","d3-path"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(pb){return function(){return pb}}function H(pb){return 1<=pb?jc:-1>=pb?-jc:Math.asin(pb)}function N(pb){return pb.innerRadius}function x(pb){return pb.outerRadius}function v(pb){return pb.startAngle}function u(pb){return pb.endAngle}function m(pb){return pb&&
pb.padAngle}function g(pb,Bb,Ub,mc,Bc,Cc,Xc){var Qb=pb-Ub,Ic=Bb-mc;Xc=(Xc?Cc:-Cc)/mb(Qb*Qb+Ic*Ic);Ic*=Xc;Qb*=-Xc;var Dc=pb+Ic,uc=Bb+Qb,Tc=Ub+Ic,ad=mc+Qb;Ub=(Dc+Tc)/2;mc=(uc+ad)/2;Bb=Tc-Dc;pb=ad-uc;Xc=Bb*Bb+pb*pb;Cc=Bc-Cc;ad=Dc*ad-Tc*uc;var ld=(0>pb?-1:1)*mb(md(0,Cc*Cc*Xc-ad*ad));Dc=(ad*pb-Bb*ld)/Xc;uc=(-ad*Bb-pb*ld)/Xc;Tc=(ad*pb+Bb*ld)/Xc;Bb=(-ad*Bb+pb*ld)/Xc;pb=Dc-Ub;Xc=uc-mc;Ub=Tc-Ub;mc=Bb-mc;pb*pb+Xc*Xc>Ub*Ub+mc*mc&&(Dc=Tc,uc=Bb);return{cx:Dc,cy:uc,x01:-Ic,y01:-Qb,x11:Dc*(Bc/Cc-1),y11:uc*(Bc/Cc-
1)}}function d(pb){return"object"===typeof pb&&"length"in pb?pb:Array.from(pb)}function f(pb){this._context=pb}function a(pb){return new f(pb)}function e(pb){return pb[0]}function n(pb){return pb[1]}function y(pb,Bb){function Ub(Qb){var Ic,Dc=(Qb=d(Qb)).length,uc,Tc=!1,ad;null==Bc&&(Xc=Cc(ad=l.path()));for(Ic=0;Ic<=Dc;++Ic)!(Ic<Dc&&mc(uc=Qb[Ic],Ic,Qb))===Tc&&((Tc=!Tc)?Xc.lineStart():Xc.lineEnd()),Tc&&Xc.point(+pb(uc,Ic,Qb),+Bb(uc,Ic,Qb));if(ad)return Xc=null,ad+""||null}var mc=w(!0),Bc=null,Cc=a,
Xc=null;pb="function"===typeof pb?pb:void 0===pb?e:w(pb);Bb="function"===typeof Bb?Bb:void 0===Bb?n:w(Bb);Ub.x=function(Qb){return arguments.length?(pb="function"===typeof Qb?Qb:w(+Qb),Ub):pb};Ub.y=function(Qb){return arguments.length?(Bb="function"===typeof Qb?Qb:w(+Qb),Ub):Bb};Ub.defined=function(Qb){return arguments.length?(mc="function"===typeof Qb?Qb:w(!!Qb),Ub):mc};Ub.curve=function(Qb){return arguments.length?(Cc=Qb,null!=Bc&&(Xc=Cc(Bc)),Ub):Cc};Ub.context=function(Qb){return arguments.length?
(null==Qb?Bc=Xc=null:Xc=Cc(Bc=Qb),Ub):Bc};return Ub}function B(pb,Bb,Ub){function mc(uc){var Tc,ad,ld=(uc=d(uc)).length,Cd,Dd=!1,Ud,ae=Array(ld),oe=Array(ld);null==Qb&&(Dc=Ic(Ud=l.path()));for(Tc=0;Tc<=ld;++Tc){if(!(Tc<ld&&Xc(Cd=uc[Tc],Tc,uc))===Dd)if(Dd=!Dd){var De=Tc;Dc.areaStart();Dc.lineStart()}else{Dc.lineEnd();Dc.lineStart();for(ad=Tc-1;ad>=De;--ad)Dc.point(ae[ad],oe[ad]);Dc.lineEnd();Dc.areaEnd()}Dd&&(ae[Tc]=+pb(Cd,Tc,uc),oe[Tc]=+Bb(Cd,Tc,uc),Dc.point(Cc?+Cc(Cd,Tc,uc):ae[Tc],Ub?+Ub(Cd,Tc,uc):
oe[Tc]))}if(Ud)return Dc=null,Ud+""||null}function Bc(){return y().defined(Xc).curve(Ic).context(Qb)}var Cc=null,Xc=w(!0),Qb=null,Ic=a,Dc=null;pb="function"===typeof pb?pb:void 0===pb?e:w(+pb);Bb="function"===typeof Bb?Bb:void 0===Bb?w(0):w(+Bb);Ub="function"===typeof Ub?Ub:void 0===Ub?n:w(+Ub);mc.x=function(uc){return arguments.length?(pb="function"===typeof uc?uc:w(+uc),Cc=null,mc):pb};mc.x0=function(uc){return arguments.length?(pb="function"===typeof uc?uc:w(+uc),mc):pb};mc.x1=function(uc){return arguments.length?
(Cc=null==uc?null:"function"===typeof uc?uc:w(+uc),mc):Cc};mc.y=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:w(+uc),Ub=null,mc):Bb};mc.y0=function(uc){return arguments.length?(Bb="function"===typeof uc?uc:w(+uc),mc):Bb};mc.y1=function(uc){return arguments.length?(Ub=null==uc?null:"function"===typeof uc?uc:w(+uc),mc):Ub};mc.lineX0=mc.lineY0=function(){return Bc().x(pb).y(Bb)};mc.lineY1=function(){return Bc().x(pb).y(Ub)};mc.lineX1=function(){return Bc().x(Cc).y(Bb)};mc.defined=
function(uc){return arguments.length?(Xc="function"===typeof uc?uc:w(!!uc),mc):Xc};mc.curve=function(uc){return arguments.length?(Ic=uc,null!=Qb&&(Dc=Ic(Qb)),mc):Ic};mc.context=function(uc){return arguments.length?(null==uc?Qb=Dc=null:Dc=Ic(Qb=uc),mc):Qb};return mc}function D(pb,Bb){return Bb<pb?-1:Bb>pb?1:Bb>=pb?0:NaN}function O(pb){return pb}function M(pb){this._curve=pb}function F(pb){function Bb(Ub){return new M(pb(Ub))}Bb._curve=pb;return Bb}function z(pb){var Bb=pb.curve;pb.angle=pb.x;delete pb.x;
pb.radius=pb.y;delete pb.y;pb.curve=function(Ub){return arguments.length?Bb(F(Ub)):Bb()._curve};return pb}function G(){return z(y().curve(sc))}function K(){var pb=B().curve(sc),Bb=pb.curve,Ub=pb.lineX0,mc=pb.lineX1,Bc=pb.lineY0,Cc=pb.lineY1;pb.angle=pb.x;delete pb.x;pb.startAngle=pb.x0;delete pb.x0;pb.endAngle=pb.x1;delete pb.x1;pb.radius=pb.y;delete pb.y;pb.innerRadius=pb.y0;delete pb.y0;pb.outerRadius=pb.y1;delete pb.y1;pb.lineStartAngle=function(){return z(Ub())};delete pb.lineX0;pb.lineEndAngle=
function(){return z(mc())};delete pb.lineX1;pb.lineInnerRadius=function(){return z(Bc())};delete pb.lineY0;pb.lineOuterRadius=function(){return z(Cc())};delete pb.lineY1;pb.curve=function(Xc){return arguments.length?Bb(F(Xc)):Bb()._curve};return pb}function R(pb,Bb){return[(Bb=+Bb)*Math.cos(pb-=Math.PI/2),Bb*Math.sin(pb)]}function T(pb){return pb.source}function ja(pb){return pb.target}function fa(pb){function Bb(){var Qb,Ic=Pc.call(arguments),Dc=Ub.apply(this,Ic),uc=mc.apply(this,Ic);Xc||(Xc=Qb=
l.path());pb(Xc,+Bc.apply(this,(Ic[0]=Dc,Ic)),+Cc.apply(this,Ic),+Bc.apply(this,(Ic[0]=uc,Ic)),+Cc.apply(this,Ic));if(Qb)return Xc=null,Qb+""||null}var Ub=T,mc=ja,Bc=e,Cc=n,Xc=null;Bb.source=function(Qb){return arguments.length?(Ub=Qb,Bb):Ub};Bb.target=function(Qb){return arguments.length?(mc=Qb,Bb):mc};Bb.x=function(Qb){return arguments.length?(Bc="function"===typeof Qb?Qb:w(+Qb),Bb):Bc};Bb.y=function(Qb){return arguments.length?(Cc="function"===typeof Qb?Qb:w(+Qb),Bb):Cc};Bb.context=function(Qb){return arguments.length?
(Xc=null==Qb?null:Qb,Bb):Xc};return Bb}function ha(pb,Bb,Ub,mc,Bc){pb.moveTo(Bb,Ub);pb.bezierCurveTo(Bb=(Bb+mc)/2,Ub,Bb,Bc,mc,Bc)}function la(pb,Bb,Ub,mc,Bc){pb.moveTo(Bb,Ub);pb.bezierCurveTo(Bb,Ub=(Ub+Bc)/2,mc,Ub,mc,Bc)}function Z(pb,Bb,Ub,mc,Bc){var Cc=R(Bb,Ub);Bb=R(Bb,Ub=(Ub+Bc)/2);Ub=R(mc,Ub);mc=R(mc,Bc);pb.moveTo(Cc[0],Cc[1]);pb.bezierCurveTo(Bb[0],Bb[1],Ub[0],Ub[1],mc[0],mc[1])}function P(){}function C(pb,Bb,Ub){pb._context.bezierCurveTo((2*pb._x0+pb._x1)/3,(2*pb._y0+pb._y1)/3,(pb._x0+2*pb._x1)/
3,(pb._y0+2*pb._y1)/3,(pb._x0+4*pb._x1+Bb)/6,(pb._y0+4*pb._y1+Ub)/6)}function V(pb){this._context=pb}function ia(pb){this._context=pb}function aa(pb){this._context=pb}function ya(pb,Bb){this._basis=new V(pb);this._beta=Bb}function va(pb,Bb,Ub){pb._context.bezierCurveTo(pb._x1+pb._k*(pb._x2-pb._x0),pb._y1+pb._k*(pb._y2-pb._y0),pb._x2+pb._k*(pb._x1-Bb),pb._y2+pb._k*(pb._y1-Ub),pb._x2,pb._y2)}function Ia(pb,Bb){this._context=pb;this._k=(1-Bb)/6}function bb(pb,Bb){this._context=pb;this._k=(1-Bb)/6}function kb(pb,
Bb){this._context=pb;this._k=(1-Bb)/6}function ua(pb,Bb,Ub){var mc=pb._x1,Bc=pb._y1,Cc=pb._x2,Xc=pb._y2;if(1E-12<pb._l01_a){var Qb=2*pb._l01_2a+3*pb._l01_a*pb._l12_a+pb._l12_2a,Ic=3*pb._l01_a*(pb._l01_a+pb._l12_a);mc=(mc*Qb-pb._x0*pb._l12_2a+pb._x2*pb._l01_2a)/Ic;Bc=(Bc*Qb-pb._y0*pb._l12_2a+pb._y2*pb._l01_2a)/Ic}1E-12<pb._l23_a&&(Qb=2*pb._l23_2a+3*pb._l23_a*pb._l12_a+pb._l12_2a,Ic=3*pb._l23_a*(pb._l23_a+pb._l12_a),Cc=(Cc*Qb+pb._x1*pb._l23_2a-Bb*pb._l12_2a)/Ic,Xc=(Xc*Qb+pb._y1*pb._l23_2a-Ub*pb._l12_2a)/
Ic);pb._context.bezierCurveTo(mc,Bc,Cc,Xc,pb._x2,pb._y2)}function Ta(pb,Bb){this._context=pb;this._alpha=Bb}function Ya(pb,Bb){this._context=pb;this._alpha=Bb}function Da(pb,Bb){this._context=pb;this._alpha=Bb}function ta(pb){this._context=pb}function U(pb,Bb,Ub){var mc=pb._x1-pb._x0;Bb-=pb._x1;var Bc=(pb._y1-pb._y0)/(mc||0>Bb&&-0);pb=(Ub-pb._y1)/(Bb||0>mc&&-0);return((0>Bc?-1:1)+(0>pb?-1:1))*Math.min(Math.abs(Bc),Math.abs(pb),.5*Math.abs((Bc*Bb+pb*mc)/(mc+Bb)))||0}function W(pb,Bb){var Ub=pb._x1-
pb._x0;return Ub?(3*(pb._y1-pb._y0)/Ub-Bb)/2:Bb}function ba(pb,Bb,Ub){var mc=pb._x0,Bc=pb._x1,Cc=pb._y1,Xc=(Bc-mc)/3;pb._context.bezierCurveTo(mc+Xc,pb._y0+Xc*Bb,Bc-Xc,Cc-Xc*Ub,Bc,Cc)}function ca(pb){this._context=pb}function ra(pb){this._context=new qa(pb)}function qa(pb){this._context=pb}function Fa(pb){this._context=pb}function na(pb){var Bb,Ub=pb.length-1,mc=Array(Ub),Bc=Array(Ub),Cc=Array(Ub);mc[0]=0;Bc[0]=2;Cc[0]=pb[0]+2*pb[1];for(Bb=1;Bb<Ub-1;++Bb)mc[Bb]=1,Bc[Bb]=4,Cc[Bb]=4*pb[Bb]+2*pb[Bb+
1];mc[Ub-1]=2;Bc[Ub-1]=7;Cc[Ub-1]=8*pb[Ub-1]+pb[Ub];for(Bb=1;Bb<Ub;++Bb){var Xc=mc[Bb]/Bc[Bb-1];Bc[Bb]-=Xc;Cc[Bb]-=Xc*Cc[Bb-1]}mc[Ub-1]=Cc[Ub-1]/Bc[Ub-1];for(Bb=Ub-2;0<=Bb;--Bb)mc[Bb]=(Cc[Bb]-mc[Bb+1])/Bc[Bb];Bc[Ub-1]=(pb[Ub]+mc[Ub-1])/2;for(Bb=0;Bb<Ub-1;++Bb)Bc[Bb]=2*pb[Bb+1]-mc[Bb+1];return[mc,Bc]}function Ra(pb,Bb){this._context=pb;this._t=Bb}function db(pb,Bb){if(1<(Xc=pb.length))for(var Ub=1,mc,Bc,Cc=pb[Bb[0]],Xc,Qb=Cc.length;Ub<Xc;++Ub)for(Bc=Cc,Cc=pb[Bb[Ub]],mc=0;mc<Qb;++mc)Cc[mc][1]+=Cc[mc][0]=
isNaN(Bc[mc][1])?Bc[mc][0]:Bc[mc][1]}function $a(pb){pb=pb.length;for(var Bb=Array(pb);0<=--pb;)Bb[pb]=pb;return Bb}function Ca(pb,Bb){return pb[Bb]}function Ga(pb){const Bb=[];Bb.key=pb;return Bb}function pa(pb){var Bb=pb.map(Ha);return $a(pb).sort(function(Ub,mc){return Bb[Ub]-Bb[mc]})}function Ha(pb){for(var Bb=-1,Ub=0,mc=pb.length,Bc,Cc=-Infinity;++Bb<mc;)(Bc=+pb[Bb][1])>Cc&&(Cc=Bc,Ub=Bb);return Ub}function Ua(pb){var Bb=pb.map(jb);return $a(pb).sort(function(Ub,mc){return Bb[Ub]-Bb[mc]})}function jb(pb){for(var Bb=
0,Ub=-1,mc=pb.length,Bc;++Ub<mc;)if(Bc=+pb[Ub][1])Bb+=Bc;return Bb}var Fb=Math.abs,Xb=Math.atan2,nc=Math.cos,md=Math.max,pc=Math.min,Hc=Math.sin,mb=Math.sqrt,hc=Math.PI,jc=hc/2,rc=2*hc,Pc=Array.prototype.slice;f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(pb,Bb):this._context.moveTo(pb,Bb);break;case 1:this._point=2;default:this._context.lineTo(pb,Bb)}}};var sc=F(a);M.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(pb,Bb){this._curve.point(Bb*Math.sin(pb),Bb*-Math.cos(pb))}};var Uc={draw:function(pb,Bb){Bb=Math.sqrt(Bb/hc);pb.moveTo(Bb,0);pb.arc(0,0,Bb,0,rc)}},Sc=
{draw:function(pb,Bb){Bb=Math.sqrt(Bb/5)/2;pb.moveTo(-3*Bb,-Bb);pb.lineTo(-Bb,-Bb);pb.lineTo(-Bb,-3*Bb);pb.lineTo(Bb,-3*Bb);pb.lineTo(Bb,-Bb);pb.lineTo(3*Bb,-Bb);pb.lineTo(3*Bb,Bb);pb.lineTo(Bb,Bb);pb.lineTo(Bb,3*Bb);pb.lineTo(-Bb,3*Bb);pb.lineTo(-Bb,Bb);pb.lineTo(-3*Bb,Bb);pb.closePath()}},Lc=Math.sqrt(1/3),Fd=2*Lc,ge={draw:function(pb,Bb){Bb=Math.sqrt(Bb/Fd);var Ub=Bb*Lc;pb.moveTo(0,-Bb);pb.lineTo(Ub,0);pb.lineTo(0,Bb);pb.lineTo(-Ub,0);pb.closePath()}},wd=Math.sin(hc/10)/Math.sin(7*hc/10),vd=Math.sin(rc/
10)*wd,Wd=-Math.cos(rc/10)*wd;wd={draw:function(pb,Bb){Bb=Math.sqrt(.8908130915292852*Bb);var Ub=vd*Bb,mc=Wd*Bb;pb.moveTo(0,-Bb);pb.lineTo(Ub,mc);for(var Bc=1;5>Bc;++Bc){var Cc=rc*Bc/5,Xc=Math.cos(Cc);Cc=Math.sin(Cc);pb.lineTo(Cc*Bb,-Xc*Bb);pb.lineTo(Xc*Ub-Cc*mc,Cc*Ub+Xc*mc)}pb.closePath()}};var Pb={draw:function(pb,Bb){Bb=Math.sqrt(Bb);var Ub=-Bb/2;pb.rect(Ub,Ub,Bb,Bb)}},gc=Math.sqrt(3),Eb={draw:function(pb,Bb){Bb=-Math.sqrt(Bb/(3*gc));pb.moveTo(0,2*Bb);pb.lineTo(-gc*Bb,-Bb);pb.lineTo(gc*Bb,-Bb);
pb.closePath()}},zc=Math.sqrt(3)/2,Vc=1/Math.sqrt(12),Ed=3*(Vc/2+1),Vd={draw:function(pb,Bb){var Ub=Math.sqrt(Bb/Ed);Bb=Ub/2;var mc=Ub*Vc;Ub=Ub*Vc+Ub;var Bc=-Bb;pb.moveTo(Bb,mc);pb.lineTo(Bb,Ub);pb.lineTo(Bc,Ub);pb.lineTo(-.5*Bb-zc*mc,zc*Bb+-.5*mc);pb.lineTo(-.5*Bb-zc*Ub,zc*Bb+-.5*Ub);pb.lineTo(-.5*Bc-zc*Ub,zc*Bc+-.5*Ub);pb.lineTo(-.5*Bb+zc*mc,-.5*mc-zc*Bb);pb.lineTo(-.5*Bb+zc*Ub,-.5*Ub-zc*Bb);pb.lineTo(-.5*Bc+zc*Ub,-.5*Ub-zc*Bc);pb.closePath()}},Ka=[Uc,Sc,ge,Pb,wd,Eb,Vd];V.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:C(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pb,Bb):this._context.moveTo(pb,Bb);break;case 1:this._point=2;
break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};ia.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;this._x2=pb;this._y2=Bb;break;case 1:this._point=2;this._x3=pb;this._y3=Bb;break;case 2:this._point=3;this._x4=pb;this._y4=Bb;this._context.moveTo((this._x0+4*this._x1+pb)/6,(this._y0+
4*this._y1+Bb)/6);break;default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pb,Bb){pb=+pb;Bb=+Bb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=
3;var Ub=(this._x0+4*this._x1+pb)/6,mc=(this._y0+4*this._y1+Bb)/6;this._line?this._context.lineTo(Ub,mc):this._context.moveTo(Ub,mc);break;case 3:this._point=4;default:C(this,pb,Bb)}this._x0=this._x1;this._x1=pb;this._y0=this._y1;this._y1=Bb}};ya.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var pb=this._x,Bb=this._y,Ub=pb.length-1;if(0<Ub)for(var mc=pb[0],Bc=Bb[0],Cc=pb[Ub]-mc,Xc=Bb[Ub]-Bc,Qb=-1,Ic;++Qb<=Ub;)Ic=Qb/Ub,this._basis.point(this._beta*
pb[Qb]+(1-this._beta)*(mc+Ic*Cc),this._beta*Bb[Qb]+(1-this._beta)*(Bc+Ic*Xc));this._x=this._y=null;this._basis.lineEnd()},point:function(pb,Bb){this._x.push(+pb);this._y.push(+Bb)}};var eb=function Ub(Bb){function mc(Bc){return 1===Bb?new V(Bc):new ya(Bc,Bb)}mc.beta=function(Bc){return Ub(+Bc)};return mc}(.85);Ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:va(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bb,Ub){Bb=+Bb;Ub=+Ub;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bb,Ub):this._context.moveTo(Bb,Ub);break;case 1:this._point=2;this._x1=Bb;this._y1=Ub;break;case 2:this._point=3;default:va(this,Bb,Ub)}this._x0=this._x1;this._x1=this._x2;this._x2=Bb;this._y0=this._y1;this._y1=this._y2;this._y2=Ub}};var wb=function mc(Ub){function Bc(Cc){return new Ia(Cc,
Ub)}Bc.tension=function(Cc){return mc(+Cc)};return Bc}(0);bb.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Ub,mc){Ub=+Ub;mc=+mc;switch(this._point){case 0:this._point=1;this._x3=Ub;this._y3=mc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ub,this._y4=mc);break;case 2:this._point=3;this._x5=Ub;this._y5=mc;break;default:va(this,Ub,mc)}this._x0=this._x1;this._x1=this._x2;this._x2=Ub;this._y0=this._y1;this._y1=this._y2;this._y2=mc}};var Hb=function Bc(mc){function Cc(Xc){return new bb(Xc,mc)}Cc.tension=function(Xc){return Bc(+Xc)};return Cc}(0);kb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(mc,Bc){mc=+mc;Bc=+Bc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:va(this,mc,Bc)}this._x0=this._x1;this._x1=this._x2;this._x2=mc;this._y0=this._y1;this._y1=this._y2;this._y2=Bc}};var ac=function Cc(Bc){function Xc(Qb){return new kb(Qb,Bc)}Xc.tension=function(Qb){return Cc(+Qb)};return Xc}(0);Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Bc,Cc){Bc=+Bc;Cc=+Cc;if(this._point){var Xc=this._x2-Bc,Qb=this._y2-Cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Xc*Xc+Qb*Qb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Bc,Cc):this._context.moveTo(Bc,Cc);break;case 1:this._point=
2;break;case 2:this._point=3;default:ua(this,Bc,Cc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Bc;this._y0=this._y1;this._y1=this._y2;this._y2=Cc}};var Lb=function Xc(Cc){function Qb(Ic){return Cc?new Ta(Ic,Cc):new Ia(Ic,0)}Qb.alpha=function(Ic){return Xc(+Ic)};return Qb}(.5);Ya.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Cc,Xc){Cc=+Cc;Xc=+Xc;if(this._point){var Qb=this._x2-Cc,Ic=this._y2-
Xc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Qb*Qb+Ic*Ic,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Cc;this._y3=Xc;break;case 1:this._point=2;this._context.moveTo(this._x4=Cc,this._y4=Xc);break;case 2:this._point=3;this._x5=Cc;this._y5=Xc;break;default:ua(this,Cc,Xc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Cc;this._y0=this._y1;this._y1=this._y2;this._y2=Xc}};var Ac=function Qb(Xc){function Ic(Dc){return Xc?
new Ya(Dc,Xc):new bb(Dc,0)}Ic.alpha=function(Dc){return Qb(+Dc)};return Ic}(.5);Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Xc,Qb){Xc=+Xc;Qb=+Qb;if(this._point){var Ic=
this._x2-Xc,Dc=this._y2-Qb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ic*Ic+Dc*Dc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ua(this,Xc,Qb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Xc;this._y0=this._y1;this._y1=
this._y2;this._y2=Qb}};var tc=function Ic(Qb){function Dc(uc){return Qb?new Da(uc,Qb):new kb(uc,0)}Dc.alpha=function(uc){return Ic(+uc)};return Dc}(.5);ta.prototype={areaStart:P,areaEnd:P,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Qb,Ic){Qb=+Qb;Ic=+Ic;this._point?this._context.lineTo(Qb,Ic):(this._point=1,this._context.moveTo(Qb,Ic))}};ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ba(this,this._t0,W(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Qb,Ic){var Dc=NaN;Qb=+Qb;Ic=+Ic;if(Qb!==this._x1||Ic!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qb,Ic):this._context.moveTo(Qb,Ic);break;case 1:this._point=2;
break;case 2:this._point=3;ba(this,W(this,Dc=U(this,Qb,Ic)),Dc);break;default:ba(this,this._t0,Dc=U(this,Qb,Ic))}this._x0=this._x1;this._x1=Qb;this._y0=this._y1;this._y1=Ic;this._t0=Dc}}};(ra.prototype=Object.create(ca.prototype)).point=function(Qb,Ic){ca.prototype.point.call(this,Ic,Qb)};qa.prototype={moveTo:function(Qb,Ic){this._context.moveTo(Ic,Qb)},closePath:function(){this._context.closePath()},lineTo:function(Qb,Ic){this._context.lineTo(Ic,Qb)},bezierCurveTo:function(Qb,Ic,Dc,uc,Tc,ad){this._context.bezierCurveTo(Ic,
Qb,uc,Dc,ad,Tc)}};Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Qb=this._x,Ic=this._y,Dc=Qb.length;if(Dc)if(this._line?this._context.lineTo(Qb[0],Ic[0]):this._context.moveTo(Qb[0],Ic[0]),2===Dc)this._context.lineTo(Qb[1],Ic[1]);else for(var uc=na(Qb),Tc=na(Ic),ad=0,ld=1;ld<Dc;++ad,++ld)this._context.bezierCurveTo(uc[0][ad],Tc[0][ad],uc[1][ad],Tc[1][ad],Qb[ld],Ic[ld]);(this._line||0!==this._line&&
1===Dc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Qb,Ic){this._x.push(+Qb);this._y.push(+Ic)}};Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Qb,Ic){Qb=+Qb;Ic=+Ic;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Qb,Ic):this._context.moveTo(Qb,Ic);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Ic),this._context.lineTo(Qb,Ic);else{var Dc=this._x*(1-this._t)+Qb*this._t;this._context.lineTo(Dc,this._y);this._context.lineTo(Dc,Ic)}}this._x=Qb;this._y=Ic}};k.arc=function(){function Qb(){var Ud,ae=+Ic.apply(this,arguments),oe=+Dc.apply(this,arguments),De=ad.apply(this,arguments)-
jc,fe=ld.apply(this,arguments)-jc,ef=Fb(fe-De),Ze=fe>De;Dd||(Dd=Ud=l.path());if(oe<ae){var df=oe;oe=ae;ae=df}if(1E-12<oe)if(ef>rc-1E-12)Dd.moveTo(oe*nc(De),oe*Hc(De)),Dd.arc(0,0,oe,De,fe,!Ze),1E-12<ae&&(Dd.moveTo(ae*nc(fe),ae*Hc(fe)),Dd.arc(0,0,ae,fe,De,Ze));else{var Zd=De,he=fe;df=De;var zf=fe,Ue=ef,Nf=ef,me=Cd.apply(this,arguments)/2,te=1E-12<me&&(Tc?+Tc.apply(this,arguments):mb(ae*ae+oe*oe)),kf=pc(Fb(oe-ae)/2,+uc.apply(this,arguments)),we=kf,Od=kf;if(1E-12<te){var Xd=H(te/ae*Hc(me));me=H(te/oe*
Hc(me));1E-12<(Ue-=2*Xd)?(Xd*=Ze?1:-1,df+=Xd,zf-=Xd):(Ue=0,df=zf=(De+fe)/2);1E-12<(Nf-=2*me)?(me*=Ze?1:-1,Zd+=me,he-=me):(Nf=0,Zd=he=(De+fe)/2)}De=oe*nc(Zd);fe=oe*Hc(Zd);Xd=ae*nc(zf);me=ae*Hc(zf);if(1E-12<kf){var Be=oe*nc(he),jf=oe*Hc(he),Ge=ae*nc(df),Td=ae*Hc(df);if(ef=ef<hc){var Ye=Ge-De;ef=Td-fe;te=Xd-Be;var Xf=me-jf,Gc=Xf*Ye-te*ef;1E-12>Gc*Gc?Ye=void 0:(Gc=(te*(fe-jf)-Xf*(De-Be))/Gc,Ye=[De+Gc*Ye,fe+Gc*ef]);ef=Ye}ef&&(we=De-Ye[0],Od=fe-Ye[1],ef=Be-Ye[0],te=jf-Ye[1],we=(we*ef+Od*te)/(mb(we*we+Od*
Od)*mb(ef*ef+te*te)),Od=1/Hc((1<we?0:-1>we?hc:Math.acos(we))/2),Ye=mb(Ye[0]*Ye[0]+Ye[1]*Ye[1]),we=pc(kf,(ae-Ye)/(Od-1)),Od=pc(kf,(oe-Ye)/(Od+1)))}1E-12<Nf?1E-12<Od?(Zd=g(Ge,Td,De,fe,oe,Od,Ze),he=g(Be,jf,Xd,me,oe,Od,Ze),Dd.moveTo(Zd.cx+Zd.x01,Zd.cy+Zd.y01),Od<kf?Dd.arc(Zd.cx,Zd.cy,Od,Xb(Zd.y01,Zd.x01),Xb(he.y01,he.x01),!Ze):(Dd.arc(Zd.cx,Zd.cy,Od,Xb(Zd.y01,Zd.x01),Xb(Zd.y11,Zd.x11),!Ze),Dd.arc(0,0,oe,Xb(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Xb(he.cy+he.y11,he.cx+he.x11),!Ze),Dd.arc(he.cx,he.cy,Od,Xb(he.y11,he.x11),
Xb(he.y01,he.x01),!Ze))):(Dd.moveTo(De,fe),Dd.arc(0,0,oe,Zd,he,!Ze)):Dd.moveTo(De,fe);1E-12<ae&&1E-12<Ue?1E-12<we?(Zd=g(Xd,me,Be,jf,ae,-we,Ze),he=g(De,fe,Ge,Td,ae,-we,Ze),Dd.lineTo(Zd.cx+Zd.x01,Zd.cy+Zd.y01),we<kf?Dd.arc(Zd.cx,Zd.cy,we,Xb(Zd.y01,Zd.x01),Xb(he.y01,he.x01),!Ze):(Dd.arc(Zd.cx,Zd.cy,we,Xb(Zd.y01,Zd.x01),Xb(Zd.y11,Zd.x11),!Ze),Dd.arc(0,0,ae,Xb(Zd.cy+Zd.y11,Zd.cx+Zd.x11),Xb(he.cy+he.y11,he.cx+he.x11),Ze),Dd.arc(he.cx,he.cy,we,Xb(he.y11,he.x11),Xb(he.y01,he.x01),!Ze))):Dd.arc(0,0,ae,zf,
df,Ze):Dd.lineTo(Xd,me)}else Dd.moveTo(0,0);Dd.closePath();if(Ud)return Dd=null,Ud+""||null}var Ic=N,Dc=x,uc=w(0),Tc=null,ad=v,ld=u,Cd=m,Dd=null;Qb.centroid=function(){var Ud=(+Ic.apply(this,arguments)+ +Dc.apply(this,arguments))/2,ae=(+ad.apply(this,arguments)+ +ld.apply(this,arguments))/2-hc/2;return[nc(ae)*Ud,Hc(ae)*Ud]};Qb.innerRadius=function(Ud){return arguments.length?(Ic="function"===typeof Ud?Ud:w(+Ud),Qb):Ic};Qb.outerRadius=function(Ud){return arguments.length?(Dc="function"===typeof Ud?
Ud:w(+Ud),Qb):Dc};Qb.cornerRadius=function(Ud){return arguments.length?(uc="function"===typeof Ud?Ud:w(+Ud),Qb):uc};Qb.padRadius=function(Ud){return arguments.length?(Tc=null==Ud?null:"function"===typeof Ud?Ud:w(+Ud),Qb):Tc};Qb.startAngle=function(Ud){return arguments.length?(ad="function"===typeof Ud?Ud:w(+Ud),Qb):ad};Qb.endAngle=function(Ud){return arguments.length?(ld="function"===typeof Ud?Ud:w(+Ud),Qb):ld};Qb.padAngle=function(Ud){return arguments.length?(Cd="function"===typeof Ud?Ud:w(+Ud),
Qb):Cd};Qb.context=function(Ud){return arguments.length?(Dd=null==Ud?null:Ud,Qb):Dd};return Qb};k.area=B;k.areaRadial=K;k.curveBasis=function(Qb){return new V(Qb)};k.curveBasisClosed=function(Qb){return new ia(Qb)};k.curveBasisOpen=function(Qb){return new aa(Qb)};k.curveBundle=eb;k.curveCardinal=wb;k.curveCardinalClosed=Hb;k.curveCardinalOpen=ac;k.curveCatmullRom=Lb;k.curveCatmullRomClosed=Ac;k.curveCatmullRomOpen=tc;k.curveLinear=a;k.curveLinearClosed=function(Qb){return new ta(Qb)};k.curveMonotoneX=
function(Qb){return new ca(Qb)};k.curveMonotoneY=function(Qb){return new ra(Qb)};k.curveNatural=function(Qb){return new Fa(Qb)};k.curveStep=function(Qb){return new Ra(Qb,.5)};k.curveStepAfter=function(Qb){return new Ra(Qb,1)};k.curveStepBefore=function(Qb){return new Ra(Qb,0)};k.line=y;k.lineRadial=G;k.linkHorizontal=function(){return fa(ha)};k.linkRadial=function(){var Qb=fa(Z);Qb.angle=Qb.x;delete Qb.x;Qb.radius=Qb.y;delete Qb.y;return Qb};k.linkVertical=function(){return fa(la)};k.pie=function(){function Qb(Cd){var Dd,
Ud=(Cd=d(Cd)).length;var ae=0;var oe=Array(Ud),De=Array(Ud),fe=+Tc.apply(this,arguments);var ef=Math.min(rc,Math.max(-rc,ad.apply(this,arguments)-fe));var Ze=Math.min(Math.abs(ef)/Ud,ld.apply(this,arguments)),df=Ze*(0>ef?-1:1),Zd;for(Dd=0;Dd<Ud;++Dd)0<(Zd=De[oe[Dd]=Dd]=+Ic(Cd[Dd],Dd,Cd))&&(ae+=Zd);null!=Dc?oe.sort(function(zf,Ue){return Dc(De[zf],De[Ue])}):null!=uc&&oe.sort(function(zf,Ue){return uc(Cd[zf],Cd[Ue])});Dd=0;for(ef=ae?(ef-Ud*df)/ae:0;Dd<Ud;++Dd,fe=he){ae=oe[Dd];Zd=De[ae];var he=fe+(0<
Zd?Zd*ef:0)+df;De[ae]={data:Cd[ae],index:Dd,value:Zd,startAngle:fe,endAngle:he,padAngle:Ze}}return De}var Ic=O,Dc=D,uc=null,Tc=w(0),ad=w(rc),ld=w(0);Qb.value=function(Cd){return arguments.length?(Ic="function"===typeof Cd?Cd:w(+Cd),Qb):Ic};Qb.sortValues=function(Cd){return arguments.length?(Dc=Cd,uc=null,Qb):Dc};Qb.sort=function(Cd){return arguments.length?(uc=Cd,Dc=null,Qb):uc};Qb.startAngle=function(Cd){return arguments.length?(Tc="function"===typeof Cd?Cd:w(+Cd),Qb):Tc};Qb.endAngle=function(Cd){return arguments.length?
(ad="function"===typeof Cd?Cd:w(+Cd),Qb):ad};Qb.padAngle=function(Cd){return arguments.length?(ld="function"===typeof Cd?Cd:w(+Cd),Qb):ld};return Qb};k.pointRadial=R;k.radialArea=K;k.radialLine=G;k.stack=function(){function Qb(ad){var ld=Array.from(Ic.apply(this,arguments),Ga),Cd=ld.length,Dd=-1;for(const ae of ad){var Ud=0;for(++Dd;Ud<Cd;++Ud)(ld[Ud][Dd]=[0,+Tc(ae,ld[Ud].key,Dd,ad)]).data=ae}Ud=0;for(Dd=d(Dc(ld));Ud<Cd;++Ud)ld[Dd[Ud]].index=Ud;uc(ld,Dd);return ld}var Ic=w([]),Dc=$a,uc=db,Tc=Ca;Qb.keys=
function(ad){return arguments.length?(Ic="function"===typeof ad?ad:w(Array.from(ad)),Qb):Ic};Qb.value=function(ad){return arguments.length?(Tc="function"===typeof ad?ad:w(+ad),Qb):Tc};Qb.order=function(ad){return arguments.length?(Dc=null==ad?$a:"function"===typeof ad?ad:w(Array.from(ad)),Qb):Dc};Qb.offset=function(ad){return arguments.length?(uc=null==ad?db:ad,Qb):uc};return Qb};k.stackOffsetDiverging=function(Qb,Ic){if(0<(Dd=Qb.length))for(var Dc,uc=0,Tc,ad,ld,Cd,Dd,Ud=Qb[Ic[0]].length;uc<Ud;++uc)for(Dc=
ld=Cd=0;Dc<Dd;++Dc)0<(ad=(Tc=Qb[Ic[Dc]][uc])[1]-Tc[0])?(Tc[0]=ld,Tc[1]=ld+=ad):0>ad?(Tc[1]=Cd,Tc[0]=Cd+=ad):(Tc[0]=0,Tc[1]=ad)};k.stackOffsetExpand=function(Qb,Ic){if(0<(uc=Qb.length)){for(var Dc,uc,Tc=0,ad=Qb[0].length,ld;Tc<ad;++Tc){for(ld=Dc=0;Dc<uc;++Dc)ld+=Qb[Dc][Tc][1]||0;if(ld)for(Dc=0;Dc<uc;++Dc)Qb[Dc][Tc][1]/=ld}db(Qb,Ic)}};k.stackOffsetNone=db;k.stackOffsetSilhouette=function(Qb,Ic){if(0<(Tc=Qb.length)){for(var Dc=0,uc=Qb[Ic[0]],Tc,ad=uc.length;Dc<ad;++Dc){for(var ld=0,Cd=0;ld<Tc;++ld)Cd+=
Qb[ld][Dc][1]||0;uc[Dc][1]+=uc[Dc][0]=-Cd/2}db(Qb,Ic)}};k.stackOffsetWiggle=function(Qb,Ic){if(0<(ld=Qb.length)&&0<(ad=(Tc=Qb[Ic[0]]).length)){for(var Dc=0,uc=1,Tc,ad,ld;uc<ad;++uc){for(var Cd=0,Dd=0,Ud=0;Cd<ld;++Cd){var ae=Qb[Ic[Cd]],oe=ae[uc][1]||0;ae=(oe-(ae[uc-1][1]||0))/2;for(var De=0;De<Cd;++De){var fe=Qb[Ic[De]];ae+=(fe[uc][1]||0)-(fe[uc-1][1]||0)}Dd+=oe;Ud+=ae*oe}Tc[uc-1][1]+=Tc[uc-1][0]=Dc;Dd&&(Dc-=Ud/Dd)}Tc[uc-1][1]+=Tc[uc-1][0]=Dc;db(Qb,Ic)}};k.stackOrderAppearance=pa;k.stackOrderAscending=
Ua;k.stackOrderDescending=function(Qb){return Ua(Qb).reverse()};k.stackOrderInsideOut=function(Qb){var Ic=Qb.length,Dc=Qb.map(jb),uc=pa(Qb),Tc=0,ad=0,ld=[],Cd=[];for(Qb=0;Qb<Ic;++Qb){var Dd=uc[Qb];Tc<ad?(Tc+=Dc[Dd],ld.push(Dd)):(ad+=Dc[Dd],Cd.push(Dd))}return Cd.reverse().concat(ld)};k.stackOrderNone=$a;k.stackOrderReverse=function(Qb){return $a(Qb).reverse()};k.symbol=function(Qb,Ic){function Dc(){var Tc;uc||(uc=Tc=l.path());Qb.apply(this,arguments).draw(uc,+Ic.apply(this,arguments));if(Tc)return uc=
null,Tc+""||null}var uc=null;Qb="function"===typeof Qb?Qb:w(Qb||Uc);Ic="function"===typeof Ic?Ic:w(void 0===Ic?64:+Ic);Dc.type=function(Tc){return arguments.length?(Qb="function"===typeof Tc?Tc:w(Tc),Dc):Qb};Dc.size=function(Tc){return arguments.length?(Ic="function"===typeof Tc?Tc:w(+Tc),Dc):Ic};Dc.context=function(Tc){return arguments.length?(uc=null==Tc?null:Tc,Dc):uc};return Dc};k.symbolCircle=Uc;k.symbolCross=Sc;k.symbolDiamond=ge;k.symbolSquare=Pb;k.symbolStar=wd;k.symbolTriangle=Eb;k.symbolWye=
Vd;k.symbols=Ka;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ja,A,rb,E){!function(k,l){"object"==typeof E&&"undefined"!=typeof rb?l(E):"function"==typeof define&&define.amd?define(["exports"],l):l((k="undefined"!=typeof globalThis?globalThis:k||self).vega={})}(this,function(k){function l(w,H){if("undefined"!=typeof document&&document.createElement){const N=document.createElement("canvas");if(N&&N.getContext)return N.width=w,N.height=H,N}return null}k.canvas=l;k.domCanvas=l;k.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[32]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(ca,ra,qa){ca.prototype=ra.prototype=qa;qa.constructor=ca}function w(ca,ra){ca=Object.create(ca.prototype);for(var qa in ra)ca[qa]=ra[qa];return ca}function H(){}function N(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function v(ca){var ra,qa;ca=(ca+
"").trim().toLowerCase();return(ra=ia.exec(ca))?(qa=ra[1].length,ra=parseInt(ra[1],16),6===qa?u(ra):3===qa?new f(ra>>8&15|ra>>4&240,ra>>4&15|ra&240,(ra&15)<<4|ra&15,1):8===qa?m(ra>>24&255,ra>>16&255,ra>>8&255,(ra&255)/255):4===qa?m(ra>>12&15|ra>>8&240,ra>>8&15|ra>>4&240,ra>>4&15|ra&240,((ra&15)<<4|ra&15)/255):null):(ra=aa.exec(ca))?new f(ra[1],ra[2],ra[3],1):(ra=ya.exec(ca))?new f(255*ra[1]/100,255*ra[2]/100,255*ra[3]/100,1):(ra=va.exec(ca))?m(ra[1],ra[2],ra[3],ra[4]):(ra=Ia.exec(ca))?m(255*ra[1]/
100,255*ra[2]/100,255*ra[3]/100,ra[4]):(ra=bb.exec(ca))?y(ra[1],ra[2]/100,ra[3]/100,1):(ra=kb.exec(ca))?y(ra[1],ra[2]/100,ra[3]/100,ra[4]):ua.hasOwnProperty(ca)?u(ua[ca]):"transparent"===ca?new f(NaN,NaN,NaN,0):null}function u(ca){return new f(ca>>16&255,ca>>8&255,ca&255,1)}function m(ca,ra,qa,Fa){0>=Fa&&(ca=ra=qa=NaN);return new f(ca,ra,qa,Fa)}function g(ca){ca instanceof H||(ca=v(ca));if(!ca)return new f;ca=ca.rgb();return new f(ca.r,ca.g,ca.b,ca.opacity)}function d(ca,ra,qa,Fa){return 1===arguments.length?
g(ca):new f(ca,ra,qa,null==Fa?1:Fa)}function f(ca,ra,qa,Fa){this.r=+ca;this.g=+ra;this.b=+qa;this.opacity=+Fa}function a(){return"#"+n(this.r)+n(this.g)+n(this.b)}function e(){var ca=this.opacity;ca=isNaN(ca)?1:Math.max(0,Math.min(1,ca));return(1===ca?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ca?")":", "+ca+")")}function n(ca){ca=Math.max(0,Math.min(255,Math.round(ca)||
0));return(16>ca?"0":"")+ca.toString(16)}function y(ca,ra,qa,Fa){0>=Fa?ca=ra=qa=NaN:0>=qa||1<=qa?ca=ra=NaN:0>=ra&&(ca=NaN);return new O(ca,ra,qa,Fa)}function B(ca){if(ca instanceof O)return new O(ca.h,ca.s,ca.l,ca.opacity);ca instanceof H||(ca=v(ca));if(!ca)return new O;if(ca instanceof O)return ca;ca=ca.rgb();var ra=ca.r/255,qa=ca.g/255,Fa=ca.b/255,na=Math.min(ra,qa,Fa),Ra=Math.max(ra,qa,Fa),db=NaN,$a=Ra-na,Ca=(Ra+na)/2;$a?(db=ra===Ra?(qa-Fa)/$a+6*(qa<Fa):qa===Ra?(Fa-ra)/$a+2:(ra-qa)/$a+4,$a/=.5>
Ca?Ra+na:2-Ra-na,db*=60):$a=0<Ca&&1>Ca?0:db;return new O(db,$a,Ca,ca.opacity)}function D(ca,ra,qa,Fa){return 1===arguments.length?B(ca):new O(ca,ra,qa,null==Fa?1:Fa)}function O(ca,ra,qa,Fa){this.h=+ca;this.s=+ra;this.l=+qa;this.opacity=+Fa}function M(ca,ra,qa){return 255*(60>ca?ra+(qa-ra)*ca/60:180>ca?qa:240>ca?ra+(qa-ra)*(240-ca)/60:ra)}function F(ca){if(ca instanceof G)return new G(ca.l,ca.a,ca.b,ca.opacity);if(ca instanceof la)return Z(ca);ca instanceof f||(ca=g(ca));var ra=ja(ca.r),qa=ja(ca.g),
Fa=ja(ca.b),na=K(.2225045*ra+.7168786*qa+.0606169*Fa);if(ra===qa&&qa===Fa)var Ra=ra=na;else Ra=K((.4360747*ra+.3850649*qa+.1430804*Fa)/.96422),ra=K((.0139322*ra+.0971045*qa+.7141733*Fa)/.82521);return new G(116*na-16,500*(Ra-na),200*(na-ra),ca.opacity)}function z(ca,ra,qa,Fa){return 1===arguments.length?F(ca):new G(ca,ra,qa,null==Fa?1:Fa)}function G(ca,ra,qa,Fa){this.l=+ca;this.a=+ra;this.b=+qa;this.opacity=+Fa}function K(ca){return ca>W?Math.pow(ca,1/3):ca/U+Da}function R(ca){return ca>ta?ca*ca*
ca:U*(ca-Da)}function T(ca){return 255*(.0031308>=ca?12.92*ca:1.055*Math.pow(ca,1/2.4)-.055)}function ja(ca){return.04045>=(ca/=255)?ca/12.92:Math.pow((ca+.055)/1.055,2.4)}function fa(ca){if(ca instanceof la)return new la(ca.h,ca.c,ca.l,ca.opacity);ca instanceof G||(ca=F(ca));if(0===ca.a&&0===ca.b)return new la(NaN,0<ca.l&&100>ca.l?0:NaN,ca.l,ca.opacity);var ra=Math.atan2(ca.b,ca.a)*Ya;return new la(0>ra?ra+360:ra,Math.sqrt(ca.a*ca.a+ca.b*ca.b),ca.l,ca.opacity)}function ha(ca,ra,qa,Fa){return 1===
arguments.length?fa(ca):new la(ca,ra,qa,null==Fa?1:Fa)}function la(ca,ra,qa,Fa){this.h=+ca;this.c=+ra;this.l=+qa;this.opacity=+Fa}function Z(ca){if(isNaN(ca.h))return new G(ca.l,0,0,ca.opacity);var ra=ca.h*Ta;return new G(ca.l,Math.cos(ra)*ca.c,Math.sin(ra)*ca.c,ca.opacity)}function P(ca,ra,qa,Fa){if(1===arguments.length){var na=ca;if(na instanceof C)na=new C(na.h,na.s,na.l,na.opacity);else{na instanceof f||(na=g(na));var Ra=na.g/255,db=na.b/255,$a=(ba*db+na.r/255*-1.7884503806-3.5172982438*Ra)/(ba+
-1.7884503806-3.5172982438);db-=$a;var Ca=(1.97294*(Ra-$a)- -.29227*db)/-.90649;db=(Ra=Math.sqrt(Ca*Ca+db*db)/(1.97294*$a*(1-$a)))?Math.atan2(Ca,db)*Ya-120:NaN;na=new C(0>db?db+360:db,Ra,$a,na.opacity)}}else na=new C(ca,ra,qa,null==Fa?1:Fa);return na}function C(ca,ra,qa,Fa){this.h=+ca;this.s=+ra;this.l=+qa;this.opacity=+Fa}var V=1/.7,ia=/^#([0-9a-f]{3,8})$/,aa=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ya=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
va=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Ia=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,bb=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,kb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l(H,v,{copy:function(ca){return Object.assign(new this.constructor,this,ca)},displayable:function(){return this.rgb().displayable()},hex:N,formatHex:N,formatHsl:function(){return B(this).formatHsl()},formatRgb:x,toString:x});l(f,d,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new f(this.r*ca,this.g*ca,this.b*ca,this.opacity)},darker:function(ca){ca=null==ca?.7:
Math.pow(.7,ca);return new f(this.r*ca,this.g*ca,this.b*ca,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:a,formatHex:a,formatRgb:e,toString:e}));l(O,D,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new O(this.h,this.s,this.l*ca,this.opacity)},darker:function(ca){ca=null==ca?.7:Math.pow(.7,ca);return new O(this.h,this.s,this.l*ca,this.opacity)},
rgb:function(){var ca=this.h%360+360*(0>this.h),ra=isNaN(ca)||isNaN(this.s)?0:this.s,qa=this.l;ra=qa+(.5>qa?qa:1-qa)*ra;qa=2*qa-ra;return new f(M(240<=ca?ca-240:ca+120,qa,ra),M(ca,qa,ra),M(120>ca?ca+240:ca-120,qa,ra),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ca=this.opacity;ca=isNaN(ca)?1:Math.max(0,Math.min(1,ca));return(1===ca?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+
"%, "+100*(this.l||0)+"%"+(1===ca?")":", "+ca+")")}}));const Ta=Math.PI/180,Ya=180/Math.PI,Da=4/29,ta=6/29,U=3*ta*ta,W=ta*ta*ta;l(G,z,w(H,{brighter:function(ca){return new G(this.l+18*(null==ca?1:ca),this.a,this.b,this.opacity)},darker:function(ca){return new G(this.l-18*(null==ca?1:ca),this.a,this.b,this.opacity)},rgb:function(){var ca=(this.l+16)/116,ra=isNaN(this.a)?ca:ca+this.a/500,qa=isNaN(this.b)?ca:ca-this.b/200;ra=.96422*R(ra);ca=1*R(ca);qa=.82521*R(qa);return new f(T(3.1338561*ra-1.6168667*
ca-.4906146*qa),T(-.9787684*ra+1.9161415*ca+.033454*qa),T(.0719453*ra-.2289914*ca+1.4052427*qa),this.opacity)}}));l(la,ha,w(H,{brighter:function(ca){return new la(this.h,this.c,this.l+18*(null==ca?1:ca),this.opacity)},darker:function(ca){return new la(this.h,this.c,this.l-18*(null==ca?1:ca),this.opacity)},rgb:function(){return Z(this).rgb()}}));var ba=1.78277*-.29227-.1347134789;l(C,P,w(H,{brighter:function(ca){ca=null==ca?V:Math.pow(V,ca);return new C(this.h,this.s,this.l*ca,this.opacity)},darker:function(ca){ca=
null==ca?.7:Math.pow(.7,ca);return new C(this.h,this.s,this.l*ca,this.opacity)},rgb:function(){var ca=isNaN(this.h)?0:(this.h+120)*Ta,ra=+this.l,qa=isNaN(this.s)?0:this.s*ra*(1-ra),Fa=Math.cos(ca);ca=Math.sin(ca);return new f(255*(ra+qa*(-.14861*Fa+1.78277*ca)),255*(ra+qa*(-.29227*Fa+-.90649*ca)),255*(ra+1.97294*qa*Fa),this.opacity)}}));k.color=v;k.cubehelix=P;k.gray=function(ca,ra){return new G(ca,0,0,null==ra?1:ra)};k.hcl=ha;k.hsl=D;k.lab=z;k.lch=function(ca,ra,qa,Fa){return 1===arguments.length?
fa(ca):new la(qa,ra,ca,null==Fa?1:Fa)};k.rgb=d;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(32)):"function"===typeof define&&define.amd?define(["exports","d3-color"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(ta,U,W,ba,ca){var ra=ta*ta,qa=ra*ta;return((1-3*ta+3*ra-qa)*U+(4-6*ra+3*qa)*W+(1+3*ta+3*ra-3*qa)*ba+qa*ca)/6}function H(ta){var U=ta.length-1;return function(W){var ba=0>=W?W=0:1<=W?(W=1,U-1):Math.floor(W*U),ca=ta[ba],ra=ta[ba+1];return w((W-ba/U)*U,0<ba?
ta[ba-1]:2*ca-ra,ca,ra,ba<U-1?ta[ba+2]:2*ra-ca)}}function N(ta){var U=ta.length;return function(W){var ba=Math.floor((0>(W%=1)?++W:W)*U);return w((W-ba/U)*U,ta[(ba+U-1)%U],ta[ba%U],ta[(ba+1)%U],ta[(ba+2)%U])}}function x(ta,U){return function(W){return ta+W*U}}function v(ta,U,W){return ta=Math.pow(ta,W),U=Math.pow(U,W)-ta,W=1/W,function(ba){return Math.pow(ta+ba*U,W)}}function u(ta,U){var W=U-ta;return W?x(ta,180<W||-180>W?W-360*Math.round(W/360):W):fa(isNaN(ta)?U:ta)}function m(ta){return 1===(ta=
+ta)?g:function(U,W){return W-U?v(U,W,ta):fa(isNaN(U)?W:U)}}function g(ta,U){var W=U-ta;return W?x(ta,W):fa(isNaN(ta)?U:ta)}function d(ta){return function(U){var W=U.length,ba=Array(W),ca=Array(W),ra=Array(W),qa;for(qa=0;qa<W;++qa){var Fa=l.rgb(U[qa]);ba[qa]=Fa.r||0;ca[qa]=Fa.g||0;ra[qa]=Fa.b||0}ba=ta(ba);ca=ta(ca);ra=ta(ra);Fa.opacity=1;return function(na){Fa.r=ba(na);Fa.g=ca(na);Fa.b=ra(na);return Fa+""}}}function f(ta,U){U||(U=[]);var W=ta?Math.min(U.length,ta.length):0,ba=U.slice(),ca;return function(ra){for(ca=
0;ca<W;++ca)ba[ca]=ta[ca]*(1-ra)+U[ca]*ra;return ba}}function a(ta){return ArrayBuffer.isView(ta)&&!(ta instanceof DataView)}function e(ta,U){var W=U?U.length:0,ba=ta?Math.min(W,ta.length):0,ca=Array(ba),ra=Array(W),qa;for(qa=0;qa<ba;++qa)ca[qa]=F(ta[qa],U[qa]);for(;qa<W;++qa)ra[qa]=U[qa];return function(Fa){for(qa=0;qa<ba;++qa)ra[qa]=ca[qa](Fa);return ra}}function n(ta,U){var W=new Date;return ta=+ta,U=+U,function(ba){return W.setTime(ta*(1-ba)+U*ba),W}}function y(ta,U){return ta=+ta,U=+U,function(W){return ta*
(1-W)+U*W}}function B(ta,U){var W={},ba={},ca;if(null===ta||"object"!==typeof ta)ta={};if(null===U||"object"!==typeof U)U={};for(ca in U)ca in ta?W[ca]=F(ta[ca],U[ca]):ba[ca]=U[ca];return function(ra){for(ca in W)ba[ca]=W[ca](ra);return ba}}function D(ta){return function(){return ta}}function O(ta){return function(U){return ta(U)+""}}function M(ta,U){var W=P.lastIndex=C.lastIndex=0,ba,ca,ra,qa=-1,Fa=[],na=[];ta+="";for(U+="";(ba=P.exec(ta))&&(ca=C.exec(U));)(ra=ca.index)>W&&(ra=U.slice(W,ra),Fa[qa]?
Fa[qa]+=ra:Fa[++qa]=ra),(ba=ba[0])===(ca=ca[0])?Fa[qa]?Fa[qa]+=ca:Fa[++qa]=ca:(Fa[++qa]=null,na.push({i:qa,x:y(ba,ca)})),W=C.lastIndex;W<U.length&&(ra=U.slice(W),Fa[qa]?Fa[qa]+=ra:Fa[++qa]=ra);return 2>Fa.length?na[0]?O(na[0].x):D(U):(U=na.length,function(Ra){for(var db=0,$a;db<U;++db)Fa[($a=na[db]).i]=$a.x(Ra);return Fa.join("")})}function F(ta,U){var W=typeof U,ba;return null==U||"boolean"===W?fa(U):("number"===W?y:"string"===W?(ba=l.color(U))?(U=ba,ha):M:U instanceof l.color?ha:U instanceof Date?
n:a(U)?f:Array.isArray(U)?e:"function"!==typeof U.valueOf&&"function"!==typeof U.toString||isNaN(U)?B:y)(ta,U)}function z(ta,U,W,ba,ca,ra){var qa,Fa,na;if(qa=Math.sqrt(ta*ta+U*U))ta/=qa,U/=qa;if(na=ta*W+U*ba)W-=ta*na,ba-=U*na;if(Fa=Math.sqrt(W*W+ba*ba))W/=Fa,ba/=Fa,na/=Fa;ta*ba<U*W&&(ta=-ta,U=-U,na=-na,qa=-qa);return{translateX:ca,translateY:ra,rotate:Math.atan2(U,ta)*V,skewX:Math.atan(na)*V,scaleX:qa,scaleY:Fa}}function G(ta,U,W,ba){function ca(Ra){return Ra.length?Ra.pop()+" ":""}function ra(Ra,
db,$a,Ca,Ga,pa){Ra!==$a||db!==Ca?(Ga=Ga.push("translate(",null,U,null,W),pa.push({i:Ga-4,x:y(Ra,$a)},{i:Ga-2,x:y(db,Ca)})):($a||Ca)&&Ga.push("translate("+$a+U+Ca+W)}function qa(Ra,db,$a,Ca){Ra!==db?(180<Ra-db?db+=360:180<db-Ra&&(Ra+=360),Ca.push({i:$a.push(ca($a)+"rotate(",null,ba)-2,x:y(Ra,db)})):db&&$a.push(ca($a)+"rotate("+db+ba)}function Fa(Ra,db,$a,Ca){Ra!==db?Ca.push({i:$a.push(ca($a)+"skewX(",null,ba)-2,x:y(Ra,db)}):db&&$a.push(ca($a)+"skewX("+db+ba)}function na(Ra,db,$a,Ca,Ga,pa){Ra!==$a||
db!==Ca?(Ga=Ga.push(ca(Ga)+"scale(",null,",",null,")"),pa.push({i:Ga-4,x:y(Ra,$a)},{i:Ga-2,x:y(db,Ca)})):1===$a&&1===Ca||Ga.push(ca(Ga)+"scale("+$a+","+Ca+")")}return function(Ra,db){var $a=[],Ca=[];Ra=ta(Ra);db=ta(db);ra(Ra.translateX,Ra.translateY,db.translateX,db.translateY,$a,Ca);qa(Ra.rotate,db.rotate,$a,Ca);Fa(Ra.skewX,db.skewX,$a,Ca);na(Ra.scaleX,Ra.scaleY,db.scaleX,db.scaleY,$a,Ca);Ra=db=null;return function(Ga){for(var pa=-1,Ha=Ca.length,Ua;++pa<Ha;)$a[(Ua=Ca[pa]).i]=Ua.x(Ga);return $a.join("")}}}
function K(ta){return((ta=Math.exp(ta))+1/ta)/2}function R(ta){return function(U,W){var ba=ta((U=l.hsl(U)).h,(W=l.hsl(W)).h),ca=g(U.s,W.s),ra=g(U.l,W.l),qa=g(U.opacity,W.opacity);return function(Fa){U.h=ba(Fa);U.s=ca(Fa);U.l=ra(Fa);U.opacity=qa(Fa);return U+""}}}function T(ta){return function(U,W){var ba=ta((U=l.hcl(U)).h,(W=l.hcl(W)).h),ca=g(U.c,W.c),ra=g(U.l,W.l),qa=g(U.opacity,W.opacity);return function(Fa){U.h=ba(Fa);U.c=ca(Fa);U.l=ra(Fa);U.opacity=qa(Fa);return U+""}}}function ja(ta){return function ba(W){function ca(ra,
qa){var Fa=ta((ra=l.cubehelix(ra)).h,(qa=l.cubehelix(qa)).h),na=g(ra.s,qa.s),Ra=g(ra.l,qa.l),db=g(ra.opacity,qa.opacity);return function($a){ra.h=Fa($a);ra.s=na($a);ra.l=Ra(Math.pow($a,W));ra.opacity=db($a);return ra+""}}W=+W;ca.gamma=ba;return ca}(1)}var fa=ta=>()=>ta,ha=function W(U){function ba(ra,qa){var Fa=ca((ra=l.rgb(ra)).r,(qa=l.rgb(qa)).r),na=ca(ra.g,qa.g),Ra=ca(ra.b,qa.b),db=g(ra.opacity,qa.opacity);return function($a){ra.r=Fa($a);ra.g=na($a);ra.b=Ra($a);ra.opacity=db($a);return ra+""}}
var ca=m(U);ba.gamma=W;return ba}(1),la=d(H),Z=d(N),P=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C=new RegExp(P.source,"g"),V=180/Math.PI,ia={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},aa,ya=G(function(U){U=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(U+"");return U.isIdentity?ia:z(U.a,U.b,U.c,U.d,U.e,U.f)},"px, ","px)","deg)"),va=G(function(U){if(null==U)return ia;aa||(aa=document.createElementNS("http://www.w3.org/2000/svg","g"));aa.setAttribute("transform",
U);if(!(U=aa.transform.baseVal.consolidate()))return ia;U=U.matrix;return z(U.a,U.b,U.c,U.d,U.e,U.f)},", ",")",")"),Ia=function ra(W,ba,ca){function qa(Fa,na){var Ra=Fa[0],db=Fa[1],$a=Fa[2];Fa=na[2];var Ca=na[0]-Ra,Ga=na[1]-db,pa=Ca*Ca+Ga*Ga;if(1E-12>pa){var Ha=Math.log(Fa/$a)/W;Fa=function(Fb){return[Ra+Fb*Ca,db+Fb*Ga,$a*Math.exp(W*Fb*Ha)]}}else{var Ua=Math.sqrt(pa);na=(Fa*Fa-$a*$a+ca*pa)/(2*$a*ba*Ua);Fa=(Fa*Fa-$a*$a-ca*pa)/(2*Fa*ba*Ua);var jb=Math.log(Math.sqrt(na*na+1)-na);Ha=(Math.log(Math.sqrt(Fa*
Fa+1)-Fa)-jb)/W;Fa=function(Fb){Fb*=Ha;var Xb=K(jb),nc=W*Fb+jb;var md=((nc=Math.exp(2*nc))-1)/(nc+1);var pc=jb;nc=((pc=Math.exp(pc))-1/pc)/2;md=$a/(ba*Ua)*(Xb*md-nc);return[Ra+md*Ca,db+md*Ga,$a*Xb/K(W*Fb+jb)]}}Fa.duration=1E3*Ha*W/Math.SQRT2;return Fa}qa.rho=function(Fa){Fa=Math.max(.001,+Fa);var na=Fa*Fa;return ra(Fa,na,na*na)};return qa}(Math.SQRT2,2,4),bb=R(u),kb=R(g),ua=T(u),Ta=T(g),Ya=ja(u),Da=ja(g);k.interpolate=F;k.interpolateArray=function(W,ba){return(a(ba)?f:e)(W,ba)};k.interpolateBasis=
H;k.interpolateBasisClosed=N;k.interpolateCubehelix=Ya;k.interpolateCubehelixLong=Da;k.interpolateDate=n;k.interpolateDiscrete=function(W){var ba=W.length;return function(ca){return W[Math.max(0,Math.min(ba-1,Math.floor(ca*ba)))]}};k.interpolateHcl=ua;k.interpolateHclLong=Ta;k.interpolateHsl=bb;k.interpolateHslLong=kb;k.interpolateHue=function(W,ba){var ca=u(+W,+ba);return function(ra){ra=ca(ra);return ra-360*Math.floor(ra/360)}};k.interpolateLab=function(W,ba){var ca=g((W=l.lab(W)).l,(ba=l.lab(ba)).l),
ra=g(W.a,ba.a),qa=g(W.b,ba.b),Fa=g(W.opacity,ba.opacity);return function(na){W.l=ca(na);W.a=ra(na);W.b=qa(na);W.opacity=Fa(na);return W+""}};k.interpolateNumber=y;k.interpolateNumberArray=f;k.interpolateObject=B;k.interpolateRgb=ha;k.interpolateRgbBasis=la;k.interpolateRgbBasisClosed=Z;k.interpolateRound=function(W,ba){return W=+W,ba=+ba,function(ca){return Math.round(W*(1-ca)+ba*ca)}};k.interpolateString=M;k.interpolateTransformCss=ya;k.interpolateTransformSvg=va;k.interpolateZoom=Ia;k.piecewise=
function(W,ba){void 0===ba&&(ba=W,W=F);for(var ca=0,ra=ba.length-1,qa=ba[0],Fa=Array(0>ra?0:ra);ca<ra;)Fa[ca]=W(qa,qa=ba[++ca]);return function(na){var Ra=Math.max(0,Math.min(ra-1,Math.floor(na*=ra)));return Fa[Ra](na-Ra)}};k.quantize=function(W,ba){for(var ca=Array(ba),ra=0;ra<ba;++ra)ca[ra]=W(ra/(ba-1));return ca};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(33),A(16),A(17),A(19)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),l):(k=k||self,l(k.d3=k.d3||{},k.d3,k.d3,k.d3,k.d3,k.d3))})(this,function(k,l,w,H,N,x){function v(mb,hc){switch(arguments.length){case 0:break;case 1:this.range(mb);break;default:this.range(hc).domain(mb)}return this}function u(mb,hc){switch(arguments.length){case 0:break;
case 1:"function"===typeof mb?this.interpolator(mb):this.range(mb);break;default:this.domain(mb),"function"===typeof hc?this.interpolator(hc):this.range(hc)}return this}function m(){function mb(sc){var Uc=sc+"",Sc=hc.get(Uc);if(!Sc){if(Pc!==Xb)return Pc;hc.set(Uc,Sc=jc.push(sc))}return rc[(Sc-1)%rc.length]}var hc=new Map,jc=[],rc=[],Pc=Xb;mb.domain=function(sc){if(!arguments.length)return jc.slice();jc=[];hc=new Map;for(const Uc of sc){const Sc=Uc+"";hc.has(Sc)||hc.set(Sc,jc.push(Uc))}return mb};
mb.range=function(sc){return arguments.length?(rc=Array.from(sc),mb):rc.slice()};mb.unknown=function(sc){return arguments.length?(Pc=sc,mb):Pc};mb.copy=function(){return m(jc,rc).unknown(Pc)};v.apply(mb,arguments);return mb}function g(){function mb(){var vd=jc().length,Wd=sc<Pc,Pb=Wd?sc:Pc,gc=Wd?Pc:sc;Uc=(gc-Pb)/Math.max(1,vd-Fd+2*ge);Lc&&(Uc=Math.floor(Uc));Pb+=(gc-Pb-Uc*(vd-Fd))*wd;Sc=Uc*(1-Fd);Lc&&(Pb=Math.round(Pb),Sc=Math.round(Sc));vd=l.range(vd).map(function(Eb){return Pb+Uc*Eb});return rc(Wd?
vd.reverse():vd)}var hc=m().unknown(void 0),jc=hc.domain,rc=hc.range,Pc=0,sc=1,Uc,Sc,Lc=!1,Fd=0,ge=0,wd=.5;delete hc.unknown;hc.domain=function(vd){return arguments.length?(jc(vd),mb()):jc()};hc.range=function(vd){return arguments.length?([Pc,sc]=vd,Pc=+Pc,sc=+sc,mb()):[Pc,sc]};hc.rangeRound=function(vd){return[Pc,sc]=vd,Pc=+Pc,sc=+sc,Lc=!0,mb()};hc.bandwidth=function(){return Sc};hc.step=function(){return Uc};hc.round=function(vd){return arguments.length?(Lc=!!vd,mb()):Lc};hc.padding=function(vd){return arguments.length?
(Fd=Math.min(1,ge=+vd),mb()):Fd};hc.paddingInner=function(vd){return arguments.length?(Fd=Math.min(1,vd),mb()):Fd};hc.paddingOuter=function(vd){return arguments.length?(ge=+vd,mb()):ge};hc.align=function(vd){return arguments.length?(wd=Math.max(0,Math.min(1,vd)),mb()):wd};hc.copy=function(){return g(jc(),[Pc,sc]).round(Lc).paddingInner(Fd).paddingOuter(ge).align(wd)};return v.apply(mb(),arguments)}function d(mb){var hc=mb.copy;mb.padding=mb.paddingOuter;delete mb.paddingInner;delete mb.paddingOuter;
mb.copy=function(){return d(hc())};return mb}function f(mb){return function(){return mb}}function a(mb){return+mb}function e(mb){return mb}function n(mb,hc){return(hc-=mb=+mb)?function(jc){return(jc-mb)/hc}:f(isNaN(hc)?NaN:.5)}function y(mb,hc){if(mb>hc){var jc=mb;mb=hc;hc=jc}return function(rc){return Math.max(mb,Math.min(hc,rc))}}function B(mb,hc,jc){var rc=mb[0];mb=mb[1];var Pc=hc[0];hc=hc[1];mb<rc?(rc=n(mb,rc),Pc=jc(hc,Pc)):(rc=n(rc,mb),Pc=jc(Pc,hc));return function(sc){return Pc(rc(sc))}}function D(mb,
hc,jc){var rc=Math.min(mb.length,hc.length)-1,Pc=Array(rc),sc=Array(rc),Uc=-1;mb[rc]<mb[0]&&(mb=mb.slice().reverse(),hc=hc.slice().reverse());for(;++Uc<rc;)Pc[Uc]=n(mb[Uc],mb[Uc+1]),sc[Uc]=jc(hc[Uc],hc[Uc+1]);return function(Sc){var Lc=l.bisect(mb,Sc,1,rc)-1;return sc[Lc](Pc[Lc](Sc))}}function O(mb,hc){return hc.domain(mb.domain()).range(mb.range()).interpolate(mb.interpolate()).clamp(mb.clamp()).unknown(mb.unknown())}function M(){function mb(){var vd=Math.min(jc.length,rc.length);Lc!==e&&(Lc=y(jc[0],
jc[vd-1]));Fd=2<vd?D:B;ge=wd=null;return hc}function hc(vd){return isNaN(vd=+vd)?Sc:(ge||(ge=Fd(jc.map(sc),rc,Pc)))(sc(Lc(vd)))}var jc=nc,rc=nc,Pc=w.interpolate,sc,Uc,Sc,Lc=e,Fd,ge,wd;hc.invert=function(vd){return Lc(Uc((wd||(wd=Fd(rc,jc.map(sc),w.interpolateNumber)))(vd)))};hc.domain=function(vd){return arguments.length?(jc=Array.from(vd,a),mb()):jc.slice()};hc.range=function(vd){return arguments.length?(rc=Array.from(vd),mb()):rc.slice()};hc.rangeRound=function(vd){return rc=Array.from(vd),Pc=w.interpolateRound,
mb()};hc.clamp=function(vd){return arguments.length?(Lc=vd?!0:e,mb()):Lc!==e};hc.interpolate=function(vd){return arguments.length?(Pc=vd,mb()):Pc};hc.unknown=function(vd){return arguments.length?(Sc=vd,hc):Sc};return function(vd,Wd){sc=vd;Uc=Wd;return mb()}}function F(mb,hc,jc,rc){jc=l.tickStep(mb,hc,jc);var Pc;rc=H.formatSpecifier(null==rc?",f":rc);switch(rc.type){case "s":return mb=Math.max(Math.abs(mb),Math.abs(hc)),null!=rc.precision||isNaN(Pc=H.precisionPrefix(jc,mb))||(rc.precision=Pc),H.formatPrefix(rc,
mb);case "":case "e":case "g":case "p":case "r":null!=rc.precision||isNaN(Pc=H.precisionRound(jc,Math.max(Math.abs(mb),Math.abs(hc))))||(rc.precision=Pc-("e"===rc.type));break;case "f":case "%":null!=rc.precision||isNaN(Pc=H.precisionFixed(jc))||(rc.precision=Pc-2*("%"===rc.type))}return H.format(rc)}function z(mb){var hc=mb.domain;mb.ticks=function(jc){var rc=hc();return l.ticks(rc[0],rc[rc.length-1],null==jc?10:jc)};mb.tickFormat=function(jc,rc){var Pc=hc();return F(Pc[0],Pc[Pc.length-1],null==
jc?10:jc,rc)};mb.nice=function(jc){null==jc&&(jc=10);var rc=hc(),Pc=0,sc=rc.length-1,Uc=rc[Pc],Sc=rc[sc],Lc=10;if(Sc<Uc){var Fd=Uc;Uc=Sc;Sc=Fd;Fd=Pc;Pc=sc;sc=Fd}for(;0<Lc--;){Fd=l.tickIncrement(Uc,Sc,jc);if(Fd===ge)return rc[Pc]=Uc,rc[sc]=Sc,hc(rc);if(0<Fd)Uc=Math.floor(Uc/Fd)*Fd,Sc=Math.ceil(Sc/Fd)*Fd;else if(0>Fd)Uc=Math.ceil(Uc*Fd)/Fd,Sc=Math.floor(Sc*Fd)/Fd;else break;var ge=Fd}return mb};return mb}function G(){var mb=M()(e,e);mb.copy=function(){return O(mb,G())};v.apply(mb,arguments);return z(mb)}
function K(mb){function hc(rc){return isNaN(rc=+rc)?jc:rc}var jc;hc.invert=hc;hc.domain=hc.range=function(rc){return arguments.length?(mb=Array.from(rc,a),hc):mb.slice()};hc.unknown=function(rc){return arguments.length?(jc=rc,hc):jc};hc.copy=function(){return K(mb).unknown(jc)};mb=arguments.length?Array.from(mb,a):[0,1];return z(hc)}function R(mb,hc){mb=mb.slice();var jc=0,rc=mb.length-1,Pc=mb[jc],sc=mb[rc];if(sc<Pc){var Uc=jc;jc=rc;rc=Uc;Uc=Pc;Pc=sc;sc=Uc}mb[jc]=hc.floor(Pc);mb[rc]=hc.ceil(sc);return mb}
function T(mb){return Math.log(mb)}function ja(mb){return Math.exp(mb)}function fa(mb){return-Math.log(-mb)}function ha(mb){return-Math.exp(-mb)}function la(mb){return isFinite(mb)?+("1e"+mb):0>mb?0:mb}function Z(mb){return 10===mb?la:mb===Math.E?Math.exp:function(hc){return Math.pow(mb,hc)}}function P(mb){return mb===Math.E?Math.log:10===mb&&Math.log10||2===mb&&Math.log2||(mb=Math.log(mb),function(hc){return Math.log(hc)/mb})}function C(mb){return function(hc){return-mb(-hc)}}function V(mb){function hc(){sc=
P(Pc);Uc=Z(Pc);0>rc()[0]?(sc=C(sc),Uc=C(Uc),mb(fa,ha)):mb(T,ja);return jc}var jc=mb(T,ja),rc=jc.domain,Pc=10,sc,Uc;jc.base=function(Sc){return arguments.length?(Pc=+Sc,hc()):Pc};jc.domain=function(Sc){return arguments.length?(rc(Sc),hc()):rc()};jc.ticks=function(Sc){var Lc=rc(),Fd=Lc[0];Lc=Lc[Lc.length-1];var ge;if(ge=Lc<Fd)wd=Fd,Fd=Lc,Lc=wd;var wd=sc(Fd),vd=sc(Lc),Wd=null==Sc?10:+Sc,Pb=[];if(!(Pc%1)&&vd-wd<Wd){wd=Math.floor(wd);vd=Math.ceil(vd);if(0<Fd)for(;wd<=vd;++wd){var gc=1;for(Sc=Uc(wd);gc<
Pc;++gc){var Eb=Sc*gc;if(!(Eb<Fd)){if(Eb>Lc)break;Pb.push(Eb)}}}else for(;wd<=vd;++wd)for(gc=Pc-1,Sc=Uc(wd);1<=gc;--gc)if(Eb=Sc*gc,!(Eb<Fd)){if(Eb>Lc)break;Pb.push(Eb)}2*Pb.length<Wd&&(Pb=l.ticks(Fd,Lc,Wd))}else Pb=l.ticks(wd,vd,Math.min(vd-wd,Wd)).map(Uc);return ge?Pb.reverse():Pb};jc.tickFormat=function(Sc,Lc){null==Lc&&(Lc=10===Pc?".0e":",");"function"!==typeof Lc&&(Lc=H.format(Lc));if(Infinity===Sc)return Lc;null==Sc&&(Sc=10);var Fd=Math.max(1,Pc*Sc/jc.ticks().length);return function(ge){var wd=
ge/Uc(Math.round(sc(ge)));wd*Pc<Pc-.5&&(wd*=Pc);return wd<=Fd?Lc(ge):""}};jc.nice=function(){return rc(R(rc(),{floor:function(Sc){return Uc(Math.floor(sc(Sc)))},ceil:function(Sc){return Uc(Math.ceil(sc(Sc)))}}))};return jc}function ia(){var mb=V(M()).domain([1,10]);mb.copy=function(){return O(mb,ia()).base(mb.base())};v.apply(mb,arguments);return mb}function aa(mb){return function(hc){return Math.sign(hc)*Math.log1p(Math.abs(hc/mb))}}function ya(mb){return function(hc){return Math.sign(hc)*Math.expm1(Math.abs(hc))*
mb}}function va(mb){var hc=1,jc=mb(aa(hc),ya(hc));jc.constant=function(rc){return arguments.length?mb(aa(hc=+rc),ya(hc)):hc};return z(jc)}function Ia(){var mb=va(M());mb.copy=function(){return O(mb,Ia()).constant(mb.constant())};return v.apply(mb,arguments)}function bb(mb){return function(hc){return 0>hc?-Math.pow(-hc,mb):Math.pow(hc,mb)}}function kb(mb){return 0>mb?-Math.sqrt(-mb):Math.sqrt(mb)}function ua(mb){return 0>mb?-mb*mb:mb*mb}function Ta(mb){var hc=mb(e,e),jc=1;hc.exponent=function(rc){return arguments.length?
(jc=+rc,1===jc?mb(e,e):.5===jc?mb(kb,ua):mb(bb(jc),bb(1/jc))):jc};return z(hc)}function Ya(){var mb=Ta(M());mb.copy=function(){return O(mb,Ya()).exponent(mb.exponent())};v.apply(mb,arguments);return mb}function Da(mb){return Math.sign(mb)*mb*mb}function ta(){function mb(sc){sc=hc(sc);sc=Math.sign(sc)*Math.sqrt(Math.abs(sc));return isNaN(sc)?Pc:rc?Math.round(sc):sc}var hc=M()(e,e),jc=[0,1],rc=!1,Pc;mb.invert=function(sc){return hc.invert(Da(sc))};mb.domain=function(sc){return arguments.length?(hc.domain(sc),
mb):hc.domain()};mb.range=function(sc){return arguments.length?(hc.range((jc=Array.from(sc,a)).map(Da)),mb):jc.slice()};mb.rangeRound=function(sc){return mb.range(sc).round(!0)};mb.round=function(sc){return arguments.length?(rc=!!sc,mb):rc};mb.clamp=function(sc){return arguments.length?(hc.clamp(sc),mb):hc.clamp()};mb.unknown=function(sc){return arguments.length?(Pc=sc,mb):Pc};mb.copy=function(){return ta(hc.domain(),jc).round(rc).clamp(hc.clamp()).unknown(Pc)};v.apply(mb,arguments);return z(mb)}
function U(){function mb(){var Uc=0,Sc=Math.max(1,rc.length);for(Pc=Array(Sc-1);++Uc<Sc;)Pc[Uc-1]=l.quantileSorted(jc,Uc/Sc);return hc}function hc(Uc){return isNaN(Uc=+Uc)?sc:rc[l.bisect(Pc,Uc)]}var jc=[],rc=[],Pc=[],sc;hc.invertExtent=function(Uc){Uc=rc.indexOf(Uc);return 0>Uc?[NaN,NaN]:[0<Uc?Pc[Uc-1]:jc[0],Uc<Pc.length?Pc[Uc]:jc[jc.length-1]]};hc.domain=function(Uc){if(!arguments.length)return jc.slice();jc=[];for(let Sc of Uc)null==Sc||isNaN(Sc=+Sc)||jc.push(Sc);jc.sort(l.ascending);return mb()};
hc.range=function(Uc){return arguments.length?(rc=Array.from(Uc),mb()):rc.slice()};hc.unknown=function(Uc){return arguments.length?(sc=Uc,hc):sc};hc.quantiles=function(){return Pc.slice()};hc.copy=function(){return U().domain(jc).range(rc).unknown(sc)};return v.apply(hc,arguments)}function W(){function mb(Lc){return Lc<=Lc?Uc[l.bisect(sc,Lc,0,Pc)]:Sc}function hc(){var Lc=-1;for(sc=Array(Pc);++Lc<Pc;)sc[Lc]=((Lc+1)*rc-(Lc-Pc)*jc)/(Pc+1);return mb}var jc=0,rc=1,Pc=1,sc=[.5],Uc=[0,1],Sc;mb.domain=function(Lc){return arguments.length?
([jc,rc]=Lc,jc=+jc,rc=+rc,hc()):[jc,rc]};mb.range=function(Lc){return arguments.length?(Pc=(Uc=Array.from(Lc)).length-1,hc()):Uc.slice()};mb.invertExtent=function(Lc){Lc=Uc.indexOf(Lc);return 0>Lc?[NaN,NaN]:1>Lc?[jc,sc[0]]:Lc>=Pc?[sc[Pc-1],rc]:[sc[Lc-1],sc[Lc]]};mb.unknown=function(Lc){return arguments.length?(Sc=Lc,mb):mb};mb.thresholds=function(){return sc.slice()};mb.copy=function(){return W().domain([jc,rc]).range(Uc).unknown(Sc)};return v.apply(z(mb),arguments)}function ba(){function mb(sc){return sc<=
sc?jc[l.bisect(hc,sc,0,Pc)]:rc}var hc=[.5],jc=[0,1],rc,Pc=1;mb.domain=function(sc){return arguments.length?(hc=Array.from(sc),Pc=Math.min(hc.length,jc.length-1),mb):hc.slice()};mb.range=function(sc){return arguments.length?(jc=Array.from(sc),Pc=Math.min(hc.length,jc.length-1),mb):jc.slice()};mb.invertExtent=function(sc){sc=jc.indexOf(sc);return[hc[sc-1],hc[sc]]};mb.unknown=function(sc){return arguments.length?(rc=sc,mb):rc};mb.copy=function(){return ba().domain(hc).range(jc).unknown(rc)};return v.apply(mb,
arguments)}function ca(mb){return new Date(mb)}function ra(mb){return mb instanceof Date?+mb:+new Date(+mb)}function qa(mb,hc,jc,rc,Pc,sc,Uc,Sc,Lc){function Fd(wb){return(Uc(wb)<wb?Pb:sc(wb)<wb?gc:Pc(wb)<wb?Eb:rc(wb)<wb?zc:hc(wb)<wb?jc(wb)<wb?Vc:Ed:mb(wb)<wb?Vd:Ka)(wb)}function ge(wb,Hb,ac){null==wb&&(wb=10);if("number"===typeof wb){var Lb=Math.abs(ac-Hb)/wb,Ac=l.bisector(function(tc){return tc[2]}).right(eb,Lb);Ac===eb.length?(Hb=l.tickStep(Hb/Hc,ac/Hc,wb),wb=mb):Ac?(Ac=eb[Lb/eb[Ac-1][2]<eb[Ac][2]/
Lb?Ac-1:Ac],Hb=Ac[1],wb=Ac[0]):(Hb=Math.max(l.tickStep(Hb,ac,wb),1),wb=Sc);return wb.every(Hb)}return wb}var wd=M()(e,e),vd=wd.invert,Wd=wd.domain,Pb=Lc(".%L"),gc=Lc(":%S"),Eb=Lc("%I:%M"),zc=Lc("%I %p"),Vc=Lc("%a %d"),Ed=Lc("%b %d"),Vd=Lc("%B"),Ka=Lc("%Y"),eb=[[Uc,1,1E3],[Uc,5,5E3],[Uc,15,15E3],[Uc,30,3E4],[sc,1,6E4],[sc,5,3E5],[sc,15,9E5],[sc,30,18E5],[Pc,1,36E5],[Pc,3,108E5],[Pc,6,216E5],[Pc,12,432E5],[rc,1,864E5],[rc,2,1728E5],[jc,1,md],[hc,1,pc],[hc,3,3*pc],[mb,1,Hc]];wd.invert=function(wb){return new Date(vd(wb))};
wd.domain=function(wb){return arguments.length?Wd(Array.from(wb,ra)):Wd().map(ca)};wd.ticks=function(wb){var Hb=Wd(),ac=Hb[0];Hb=Hb[Hb.length-1];var Lb=Hb<ac;if(Lb){var Ac=ac;ac=Hb;Hb=Ac}Ac=(Ac=ge(wb,ac,Hb))?Ac.range(ac,Hb+1):[];return Lb?Ac.reverse():Ac};wd.tickFormat=function(wb,Hb){return null==Hb?Fd:Lc(Hb)};wd.nice=function(wb){var Hb=Wd();return(wb=ge(wb,Hb[0],Hb[Hb.length-1]))?Wd(R(Hb,wb)):wd};wd.copy=function(){return O(wd,qa(mb,hc,jc,rc,Pc,sc,Uc,Sc,Lc))};return wd}function Fa(){function mb(wd){return isNaN(wd=
+wd)?ge:Lc(0===Uc?.5:(wd=(Sc(wd)-Pc)*Uc,Fd?Math.max(0,Math.min(1,wd)):wd))}function hc(wd){return function(vd){var Wd,Pb;return arguments.length?([Wd,Pb]=vd,Lc=wd(Wd,Pb),mb):[Lc(0),Lc(1)]}}var jc=0,rc=1,Pc,sc,Uc,Sc,Lc=e,Fd=!1,ge;mb.domain=function(wd){return arguments.length?([jc,rc]=wd,Pc=Sc(jc=+jc),sc=Sc(rc=+rc),Uc=Pc===sc?0:1/(sc-Pc),mb):[jc,rc]};mb.clamp=function(wd){return arguments.length?(Fd=!!wd,mb):Fd};mb.interpolator=function(wd){return arguments.length?(Lc=wd,mb):Lc};mb.range=hc(w.interpolate);
mb.rangeRound=hc(w.interpolateRound);mb.unknown=function(wd){return arguments.length?(ge=wd,mb):ge};return function(wd){Sc=wd;Pc=wd(jc);sc=wd(rc);Uc=Pc===sc?0:1/(sc-Pc);return mb}}function na(mb,hc){return hc.domain(mb.domain()).interpolator(mb.interpolator()).clamp(mb.clamp()).unknown(mb.unknown())}function Ra(){var mb=z(Fa()(e));mb.copy=function(){return na(mb,Ra())};return u.apply(mb,arguments)}function db(){var mb=V(Fa()).domain([1,10]);mb.copy=function(){return na(mb,db()).base(mb.base())};return u.apply(mb,
arguments)}function $a(){var mb=va(Fa());mb.copy=function(){return na(mb,$a()).constant(mb.constant())};return u.apply(mb,arguments)}function Ca(){var mb=Ta(Fa());mb.copy=function(){return na(mb,Ca()).exponent(mb.exponent())};return u.apply(mb,arguments)}function Ga(){function mb(rc){if(!isNaN(rc=+rc))return jc((l.bisect(hc,rc,1)-1)/(hc.length-1))}var hc=[],jc=e;mb.domain=function(rc){if(!arguments.length)return hc.slice();hc=[];for(let Pc of rc)null==Pc||isNaN(Pc=+Pc)||hc.push(Pc);hc.sort(l.ascending);
return mb};mb.interpolator=function(rc){return arguments.length?(jc=rc,mb):jc};mb.range=function(){return hc.map((rc,Pc)=>jc(Pc/(hc.length-1)))};mb.quantiles=function(rc){return Array.from({length:rc+1},(Pc,sc)=>l.quantile(hc,sc/rc))};mb.copy=function(){return Ga(jc).domain(hc)};return u.apply(mb,arguments)}function pa(){function mb(gc){return isNaN(gc=+gc)?Pb:(gc=.5+((gc=+vd(gc))-Sc)*(sc*gc<sc*Sc?Fd:ge),wd(Wd?Math.max(0,Math.min(1,gc)):gc))}function hc(gc){return function(Eb){var zc,Vc,Ed;return arguments.length?
([zc,Vc,Ed]=Eb,wd=w.piecewise(gc,[zc,Vc,Ed]),mb):[wd(0),wd(.5),wd(1)]}}var jc=0,rc=.5,Pc=1,sc=1,Uc,Sc,Lc,Fd,ge,wd=e,vd,Wd=!1,Pb;mb.domain=function(gc){return arguments.length?([jc,rc,Pc]=gc,Uc=vd(jc=+jc),Sc=vd(rc=+rc),Lc=vd(Pc=+Pc),Fd=Uc===Sc?0:.5/(Sc-Uc),ge=Sc===Lc?0:.5/(Lc-Sc),sc=Sc<Uc?-1:1,mb):[jc,rc,Pc]};mb.clamp=function(gc){return arguments.length?(Wd=!!gc,mb):Wd};mb.interpolator=function(gc){return arguments.length?(wd=gc,mb):wd};mb.range=hc(w.interpolate);mb.rangeRound=hc(w.interpolateRound);
mb.unknown=function(gc){return arguments.length?(Pb=gc,mb):Pb};return function(gc){vd=gc;Uc=gc(jc);Sc=gc(rc);Lc=gc(Pc);Fd=Uc===Sc?0:.5/(Sc-Uc);ge=Sc===Lc?0:.5/(Lc-Sc);sc=Sc<Uc?-1:1;return mb}}function Ha(){var mb=z(pa()(e));mb.copy=function(){return na(mb,Ha())};return u.apply(mb,arguments)}function Ua(){var mb=V(pa()).domain([.1,1,10]);mb.copy=function(){return na(mb,Ua()).base(mb.base())};return u.apply(mb,arguments)}function jb(){var mb=va(pa());mb.copy=function(){return na(mb,jb()).constant(mb.constant())};
return u.apply(mb,arguments)}function Fb(){var mb=Ta(pa());mb.copy=function(){return na(mb,Fb()).exponent(mb.exponent())};return u.apply(mb,arguments)}const Xb=Symbol("implicit");var nc=[0,1],md=6048E5,pc=2592E6,Hc=31536E6;k.scaleBand=g;k.scaleDiverging=Ha;k.scaleDivergingLog=Ua;k.scaleDivergingPow=Fb;k.scaleDivergingSqrt=function(){return Fb.apply(null,arguments).exponent(.5)};k.scaleDivergingSymlog=jb;k.scaleIdentity=K;k.scaleImplicit=Xb;k.scaleLinear=G;k.scaleLog=ia;k.scaleOrdinal=m;k.scalePoint=
function(){return d(g.apply(null,arguments).paddingInner(1))};k.scalePow=Ya;k.scaleQuantile=U;k.scaleQuantize=W;k.scaleRadial=ta;k.scaleSequential=Ra;k.scaleSequentialLog=db;k.scaleSequentialPow=Ca;k.scaleSequentialQuantile=Ga;k.scaleSequentialSqrt=function(){return Ca.apply(null,arguments).exponent(.5)};k.scaleSequentialSymlog=$a;k.scaleSqrt=function(){return Ya.apply(null,arguments).exponent(.5)};k.scaleSymlog=Ia;k.scaleThreshold=ba;k.scaleTime=function(){return v.apply(qa(N.timeYear,N.timeMonth,
N.timeWeek,N.timeDay,N.timeHour,N.timeMinute,N.timeSecond,N.timeMillisecond,x.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};k.scaleUtc=function(){return v.apply(qa(N.utcYear,N.utcMonth,N.utcWeek,N.utcDay,N.utcHour,N.utcMinute,N.utcSecond,N.utcMillisecond,x.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};k.tickFormat=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(15),A(34),A(33),A(18)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3,k.d3,k.vega))})(this,function(k,l,w,H,N,x){function v(U,W,ba){W=U-W+2*ba;return U?0<W?W:1:0}function u(U){return function(W){let ba=W[0];W=W[1];let ca;W<ba&&(ca=
ba,ba=W,W=ca);return[U.invert(ba),U.invert(W)]}}function m(U){return function(W){const ba=U.range();let ca=W[0];W=W[1];let ra=-1,qa;let Fa;if(W<ca){var na=ca;ca=W;W=na}na=0;for(Fa=ba.length;na<Fa;++na)ba[na]>=ca&&ba[na]<=W&&(0>ra&&(ra=na),qa=na);if(!(0>ra))return ca=U.invertExtent(ba[ra]),W=U.invertExtent(ba[qa]),[void 0===ca[0]?ca[1]:ca[0],void 0===W[1]?W[0]:W[1]]}}function g(){function U(){var Ca=ba().length;const Ga=ra[1]<ra[0],pa=ra[1-Ga],Ha=v(Ca,Ra,db);let Ua=ra[Ga-0];qa=(pa-Ua)/(Ha||1);na&&
(qa=Math.floor(qa));Ua+=(pa-Ua-qa*(Ca-Ra))*$a;Fa=qa*(1-Ra);na&&(Ua=Math.round(Ua),Fa=Math.round(Fa));Ca=w.range(Ca).map(jb=>Ua+qa*jb);return ca(Ga?Ca.reverse():Ca)}const W=H.scaleOrdinal().unknown(void 0),ba=W.domain,ca=W.range;let ra=[0,1],qa,Fa,na=!1,Ra=0,db=0,$a=.5;delete W.unknown;W.domain=function(Ca){return arguments.length?(ba(Ca),U()):ba()};W.range=function(Ca){return arguments.length?(ra=[+Ca[0],+Ca[1]],U()):ra.slice()};W.rangeRound=function(Ca){ra=[+Ca[0],+Ca[1]];na=!0;return U()};W.bandwidth=
function(){return Fa};W.step=function(){return qa};W.round=function(Ca){return arguments.length?(na=!!Ca,U()):na};W.padding=function(Ca){return arguments.length?(Ra=db=Math.max(0,Math.min(1,Ca)),U()):Ra};W.paddingInner=function(Ca){return arguments.length?(Ra=Math.max(0,Math.min(1,Ca)),U()):Ra};W.paddingOuter=function(Ca){return arguments.length?(db=Math.max(0,Math.min(1,Ca)),U()):db};W.align=function(Ca){return arguments.length?($a=Math.max(0,Math.min(1,Ca)),U()):$a};W.invertRange=function(Ca){if(null!=
Ca[0]&&null!=Ca[1]){var Ga=ra[1]<ra[0],pa=Ga?ca().reverse():ca(),Ha=pa.length-1,Ua=+Ca[0],jb=+Ca[1];if(Ua===Ua&&jb===jb){if(jb<Ua){var Fb=Ua;Ua=jb;jb=Fb}if(!(jb<pa[0]||Ua>ra[1-Ga]))return Ca=Math.max(0,w.bisectRight(pa,Ua)-1),jb=Ua===jb?Ca:w.bisectRight(pa,jb)-1,Ua-pa[Ca]>Fa+1E-10&&++Ca,Ga&&(Fb=Ca,Ca=Ha-jb,jb=Ha-Fb),Ca>jb?void 0:ba().slice(Ca,jb+1)}}};W.invert=function(Ca){return(Ca=W.invertRange([Ca,Ca]))?Ca[0]:Ca};W.copy=function(){return g().domain(ba()).range(ra).round(na).paddingInner(Ra).paddingOuter(db).align($a)};
return U()}function d(U){const W=U.copy;U.padding=U.paddingOuter;delete U.paddingInner;U.copy=function(){return d(W())};return U}function f(){function U(ca){return null==ca||ca!==ca?void 0:ba[(w.bisect(W,ca)-1)%ba.length]}let W=[],ba=[];U.domain=function(ca){return arguments.length?(W=V.call(ca,l.toNumber),U):W.slice()};U.range=function(ca){return arguments.length?(ba=ia.call(ca),U):ba.slice()};U.tickFormat=function(ca,ra){return H.tickFormat(W[0],l.peek(W),null==ca?10:ca,ra)};U.copy=function(){return f().domain(U.domain()).range(U.range())};
return U}function a(U,W,ba){const ca=function(){const ra=W();ra.invertRange||(ra.invertRange=ra.invert?u(ra):ra.invertExtent?m(ra):void 0);ra.type=U;return ra};ca.metadata=l.toSet(l.array(ba));return ca}function e(U,W,ba){return 1<arguments.length?(aa[U]=a(U,W,ba),this):n(U)?aa[U]:void 0}function n(U){return l.hasOwnProperty(aa,U)}function y(U,W){return(U=aa[U])&&U.metadata[W]}function B(U){return y(U,"discrete")}function D(U){return y(U,"discretizing")}function O(U){return y(U,"log")}function M(U){return y(U,
"temporal")}function F(U,W,ba){return N.piecewise(z(W||"rgb",ba),U)}function z(U,W){U=C[G(U)];return null!=W&&U&&U.gamma?U.gamma(W):U}function G(U){return"interpolate"+U.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function K(U){const W=U.length/6|0,ba=Array(W);for(let ca=0;ca<W;)ba[ca]="#"+U.slice(6*ca,6*++ca);return ba}function R(U,W){for(const ba in U)T(ba,W(U[ba]))}function T(U,W){U=U&&U.toLowerCase();return 1<arguments.length?(va[U]=W,this):va[U]}function ja(U,W,ba){var ca=
U.range();let ra=ca[0],qa=l.peek(ca);ca=bb;ra>qa&&(ca=qa,qa=ra,ra=ca,ca=kb);ra=Math.floor(ra);qa=Math.ceil(qa);W=W.map(Fa=>[Fa,U(Fa)]).filter(Fa=>ra<=Fa[1]&&Fa[1]<=qa).sort(ca).map(Fa=>Fa[0]);if(0<ba&&1<W.length){for(ca=[W[0],l.peek(W)];W.length>ba&&3<=W.length;)W=W.filter((Fa,na)=>!(na%2));3>W.length&&(W=ca)}return W}function fa(U,W){return U.bins?ja(U,U.bins):U.ticks?U.ticks(W):U.domain()}function ha(U,W,ba,ca,ra,qa){const Fa=W.type;let na=Ia;if("time"===Fa||"time"===ra)na=U.timeFormat(ca);else if("utc"===
Fa||"utc"===ra)na=U.utcFormat(ca);else if(O(Fa)){const Ra=U.formatFloat(ca);if(qa||W.bins)na=Ra;else{const db=la(W,ba,!1);na=$a=>db($a)?Ra($a):""}}else W.tickFormat?(W=W.domain(),na=U.formatSpan(W[0],W[W.length-1],ba,ca)):ca&&(na=U.format(ca));return na}function la(U,W,ba){const ca=fa(U,W),ra=U.base(),qa=Math.log(ra),Fa=Math.max(1,ra*W/ca.length);U=na=>{na/=Math.pow(ra,Math.round(Math.log(na)/qa));na*ra<ra-.5&&(na*=ra);return na<=Fa};return ba?ca.filter(U):U}function Z(U,W){U.bins?(U=U.bins,W=U.slice(0,
-1),W.max=l.peek(U),U=W):"log"===U.type?U=la(U,W,!0):ua[U.type]?(U=U[ua[U.type]](),U=[-Infinity].concat(U),U.max=Infinity):U=fa(U,W);return U}function P(U,W,ba,ca,ra,qa,Fa){if(Ta[W.type]&&"time"!==qa&&"utc"!==qa){{ba=W[Ta[W.type]]();qa=ba.length;Fa=1<qa?ba[1]-ba[0]:ba[0];let na;for(na=1;na<qa;++na)Fa=Math.min(Fa,ba[na]-ba[na-1]);U=U.formatSpan(0,Fa,30,ra)}}else U=ha(U,W,ba,ra,qa,Fa);return"symbol"===ca&&(ua[W.type]||W.bins)?Ya(U):"discrete"===ca?Da(U):ta(U)}var C=function(U){if(U&&U.__esModule)return U;
var W=Object.create(null);U&&Object.keys(U).forEach(function(ba){if("default"!==ba){var ca=Object.getOwnPropertyDescriptor(U,ba);Object.defineProperty(W,ba,ca.get?ca:{enumerable:!0,get:function(){return U[ba]}})}});W["default"]=U;return Object.freeze(W)}(N),V=Array.prototype.map;const ia=Array.prototype.slice,aa={};e("identity",H.scaleIdentity);e("linear",H.scaleLinear,"continuous");e("log",H.scaleLog,["continuous","log"]);e("pow",H.scalePow,"continuous");e("sqrt",H.scaleSqrt,"continuous");e("symlog",
H.scaleSymlog,"continuous");e("time",H.scaleTime,["continuous","temporal"]);e("utc",H.scaleUtc,["continuous","temporal"]);e("sequential",H.scaleSequential,["continuous","interpolating"]);e("sequential-linear",H.scaleSequential,["continuous","interpolating"]);e("sequential-log",H.scaleSequentialLog,["continuous","interpolating","log"]);e("sequential-pow",H.scaleSequentialPow,["continuous","interpolating"]);e("sequential-sqrt",H.scaleSequentialSqrt,["continuous","interpolating"]);e("sequential-symlog",
H.scaleSequentialSymlog,["continuous","interpolating"]);e("diverging-linear",H.scaleDiverging,["continuous","interpolating"]);e("diverging-log",H.scaleDivergingLog,["continuous","interpolating","log"]);e("diverging-pow",H.scaleDivergingPow,["continuous","interpolating"]);e("diverging-sqrt",H.scaleDivergingSqrt,["continuous","interpolating"]);e("diverging-symlog",H.scaleDivergingSymlog,["continuous","interpolating"]);e("quantile",H.scaleQuantile,["discretizing","quantile"]);e("quantize",H.scaleQuantize,
"discretizing");e("threshold",H.scaleThreshold,"discretizing");e("bin-ordinal",f,["discrete","discretizing"]);e("ordinal",H.scaleOrdinal,"discrete");e("band",g,"discrete");e("point",function(){return d(g().paddingInner(1))},"discrete");const ya=["clamp","base","constant","exponent"],va={};R({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},K);R({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},U=>F(K(U)));const Ia=U=>l.isArray(U)?U.map(W=>String(W)):String(U),bb=(U,W)=>U[1]-W[1],kb=(U,W)=>W[1]-U[1],ua={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},Ta={["quantile"]:"quantiles",["quantize"]:"domain"},Ya=U=>(W,ba,ca)=>{ba=ca[ba+1];ca=ca.max;ca=null!=ca?ca:Infinity;ba=null!=
ba?ba:ca;W=Number.isFinite(W)?U(W):null;ba=Number.isFinite(ba)?U(ba):null;return W&&ba?W+"  "+ba:ba?"\x3c "+ba:" "+W},Da=U=>(W,ba)=>ba?U(W):null,ta=U=>W=>U(W);Object.defineProperty(k,"scaleImplicit",{enumerable:!0,get:function(){return H.scaleImplicit}});k.Band="band";k.BinOrdinal="bin-ordinal";k.DiscreteLegend="discrete";k.Diverging="diverging";k.GradientLegend="gradient";k.Identity="identity";k.Linear="linear";k.Log="log";k.Ordinal="ordinal";k.Point="point";k.Pow="pow";k.Quantile="quantile";k.Quantize=
"quantize";k.Sequential="sequential";k.Sqrt="sqrt";k.SymbolLegend="symbol";k.Symlog="symlog";k.Threshold="threshold";k.Time="time";k.UTC="utc";k.bandSpace=v;k.domainCaption=function(U,W,ba){ba=ba||{};var ca=Math.max(3,ba.maxlen||7);{var ra=ba.format;const qa=(ba=ba.formatType)||W.type;l.isString(ra)&&M(qa)&&(ra=ra.replace(/%a/g,"%A").replace(/%b/g,"%B"));U=ra||"time"!==qa?ra||"utc"!==qa?P(U,W,5,null,ra,ba,!0):U.utcFormat("%A, %d %B %Y, %X UTC"):U.timeFormat("%A, %d %B %Y, %X")}if(D(W.type))return ca=
Z(W).slice(1).map(U),W=ca.length,`${W} boundar${1===W?"y":"ies"}: ${ca.join(", ")}`;if(B(W.type))return ra=W.domain(),W=ra.length,ca=W>ca?ra.slice(0,ca-2).map(U).join(", ")+", ending with "+ra.slice(-1).map(U):ra.map(U).join(", "),`${W} value${1===W?"":"s"}: ${ca}`;ca=W.domain();return`values from ${U(ca[0])} to ${U(l.peek(ca))}`};k.interpolate=z;k.interpolateColors=F;k.interpolateRange=function(U,W){const ba=W[0],ca=l.peek(W)-ba;return function(ra){return U(ba+ra*ca)}};k.isContinuous=function(U){return y(U,
"continuous")};k.isDiscrete=B;k.isDiscretizing=D;k.isInterpolating=function(U){return y(U,"interpolating")};k.isLogarithmic=O;k.isQuantile=function(U){return y(U,"quantile")};k.isTemporal=M;k.isValidScaleType=n;k.labelFormat=P;k.labelFraction=function(U){var W=U.domain();const ba=W.length-1;let ca=+W[0];W=+l.peek(W);let ra=W-ca;"threshold"===U.type&&(U=ba?ra/ba:.1,ca-=U,W+=U,ra=W-ca);return qa=>(qa-ca)/ra};k.labelValues=Z;k.quantizeInterpolator=function(U,W){const ba=Array(W),ca=W+1;for(let ra=0;ra<
W;)ba[ra]=U(++ra/ca);return ba};k.scale=e;k.scaleCopy=function(U){const W=U.type;U=U.copy();U.type=W;return U};k.scaleFraction=function(U,W,ba){var ca=ba-W;let ra,qa;return ca&&Number.isFinite(ca)?(ca=(ra=U.type).indexOf("-"),ra=0>ca?ra:ra.slice(ca+1),qa=e(ra)().domain([W,ba]).range([0,1]),ya.forEach(Fa=>U[Fa]?qa[Fa](U[Fa]()):0),qa):l.constant(.5)};k.scheme=T;k.tickCount=function(U,W,ba){let ca;l.isNumber(W)&&(U.bins&&(W=Math.max(W,U.bins.length)),null!=ba&&(W=Math.min(W,Math.floor(l.span(U.domain())/
ba||1))));l.isObject(W)&&(ca=W.step,W=W.interval);l.isString(W)&&(W="time"===U.type?x.timeInterval(W):"utc"==U.type?x.utcInterval(W):l.error("Only time and utc scales accept interval strings."),ca&&(W=W.every(ca)));return W};k.tickFormat=ha;k.tickValues=fa;k.validTicks=ja;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(30),A(29),A(31),A(25),A(35)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.d3,k.d3,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x,v){function u(Y,oa,Oa){const Va=Y.gradient;let xb=Y.id,Sb="radial"===Va?"p_":"";xb||(xb=Y.id="gradient_"+
Be++,"radial"===Va?(Y.x1=m(Y.x1,.5),Y.y1=m(Y.y1,.5),Y.r1=m(Y.r1,0),Y.x2=m(Y.x2,.5),Y.y2=m(Y.y2,.5),Y.r2=m(Y.r2,.5),Sb="p_"):(Y.x1=m(Y.x1,0),Y.y1=m(Y.y1,0),Y.x2=m(Y.x2,1),Y.y2=m(Y.y2,0)));oa[xb]=Y;return"url("+(Oa||"")+"#"+Sb+xb+")"}function m(Y,oa){return null!=Y?Y:oa}function g(Y,oa,Oa){Y=l.hasOwnProperty(jf,Y)&&jf[Y];var Va=null;Y&&(Va=Y.curve||Y[oa||"vertical"],Y.tension&&null!=Oa&&(Va=Va[Y.tension](Oa)));return Va}function d(Y){const oa=[];let Oa,Va,xb,Sb;var Zb;const qc=Y.slice().replace(Td[0],
"###$1").split(Td[1]).slice(1);Y=0;for(Sb=qc.length;Y<Sb;++Y){var Ec=qc[Y];var ed=Ec.slice(1).trim().replace(Td[2],"$1###$2").replace(Td[3],"$1###$2").split(Td[4]);Va=Ec.charAt(0);Ec=[Va];xb=0;for(Zb=ed.length;xb<Zb;++xb)(Oa=+ed[xb])===Oa&&Ec.push(Oa);ed=Ge[Va.toLowerCase()];if(Ec.length-1>ed)for(Zb=Ec.length,xb=1,oa.push([Va].concat(Ec.slice(xb,xb+=ed))),Va="M"===Va?"L":"m"===Va?"l":Va;xb<Zb;xb+=ed)oa.push([Va].concat(Ec.slice(xb,xb+ed)));else oa.push(Ec)}return oa}function f(Y,oa,Oa,Va,xb,Sb,Zb,
qc,Ec){const ed=Fe.call(arguments);if(le[ed])return le[ed];var Zc=Zb*Ye;const Pd=Math.sin(Zc);Zc=Math.cos(Zc);Oa=Math.abs(Oa);Va=Math.abs(Va);var be=Zc*(qc-Y)*.5+Pd*(Ec-oa)*.5,pd=Zc*(Ec-oa)*.5-Pd*(qc-Y)*.5;be=be*be/(Oa*Oa)+pd*pd/(Va*Va);1<be&&(be=Math.sqrt(be),Oa*=be,Va*=be);var Ad=Zc/Oa,id=Pd/Oa,af=-Pd/Va,Wa=Zc/Va;be=Ad*qc+id*Ec;pd=af*qc+Wa*Ec;Ad=Ad*Y+id*oa;id=af*Y+Wa*oa;af=1/((Ad-be)*(Ad-be)+(id-pd)*(id-pd))-.25;0>af&&(af=0);Wa=Math.sqrt(af);Sb==xb&&(Wa=-Wa);af=.5*(be+Ad)-Wa*(id-pd);Wa=.5*(pd+id)+
Wa*(Ad-be);be=Math.atan2(pd-Wa,be-af);pd=Math.atan2(id-Wa,Ad-af)-be;0>pd&&1===Sb?pd+=Gc:0<pd&&0===Sb&&(pd-=Gc);Ad=Math.ceil(Math.abs(pd/(Xf+.001)));id=[];for(let ob=0;ob<Ad;++ob)id[ob]=[af,Wa,be+ob*pd/Ad,be+(ob+1)*pd/Ad,Oa,Va,Pd,Zc];return le[ed]=id}function a(Y,oa,Oa,Va,xb,Sb){var Zb=null,qc=0,Ec=0,ed=0,Zc=0;null==Oa&&(Oa=0);null==Va&&(Va=0);null==xb&&(xb=1);null==Sb&&(Sb=xb);Y.beginPath&&Y.beginPath();for(var Pd=0,be=oa.length;Pd<be;++Pd){var pd=oa[Pd];if(1!==xb||1!==Sb){var Ad=xb;var id=Sb;var af=
ue[0]=pd[0];if("a"===af||"A"===af)ue[1]=Ad*pd[1],ue[2]=id*pd[2],ue[3]=pd[3],ue[4]=pd[4],ue[5]=pd[5],ue[6]=Ad*pd[6],ue[7]=id*pd[7];else if("h"===af||"H"===af)ue[1]=Ad*pd[1];else if("v"===af||"V"===af)ue[1]=id*pd[1];else{af=1;for(var Wa=pd.length;af<Wa;++af)ue[af]=(1==af%2?Ad:id)*pd[af]}pd=ue}switch(pd[0]){case "l":qc+=pd[1];Ec+=pd[2];Y.lineTo(qc+Oa,Ec+Va);break;case "L":qc=pd[1];Ec=pd[2];Y.lineTo(qc+Oa,Ec+Va);break;case "h":qc+=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "H":qc=pd[1];Y.lineTo(qc+Oa,Ec+
Va);break;case "v":Ec+=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "V":Ec=pd[1];Y.lineTo(qc+Oa,Ec+Va);break;case "m":qc+=pd[1];Ec+=pd[2];Y.moveTo(qc+Oa,Ec+Va);break;case "M":qc=pd[1];Ec=pd[2];Y.moveTo(qc+Oa,Ec+Va);break;case "c":Ad=qc+pd[5];id=Ec+pd[6];ed=qc+pd[3];Zc=Ec+pd[4];Y.bezierCurveTo(qc+pd[1]+Oa,Ec+pd[2]+Va,ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "C":qc=pd[5];Ec=pd[6];ed=pd[3];Zc=pd[4];Y.bezierCurveTo(pd[1]+Oa,pd[2]+Va,ed+Oa,Zc+Va,qc+Oa,Ec+Va);break;case "s":Ad=qc+pd[3];id=Ec+pd[4];ed=
2*qc-ed;Zc=2*Ec-Zc;Y.bezierCurveTo(ed+Oa,Zc+Va,qc+pd[1]+Oa,Ec+pd[2]+Va,Ad+Oa,id+Va);ed=qc+pd[1];Zc=Ec+pd[2];qc=Ad;Ec=id;break;case "S":Ad=pd[3];id=pd[4];ed=2*qc-ed;Zc=2*Ec-Zc;Y.bezierCurveTo(ed+Oa,Zc+Va,pd[1]+Oa,pd[2]+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=pd[1];Zc=pd[2];break;case "q":Ad=qc+pd[3];id=Ec+pd[4];ed=qc+pd[1];Zc=Ec+pd[2];Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "Q":Ad=pd[3];id=pd[4];Y.quadraticCurveTo(pd[1]+Oa,pd[2]+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=pd[1];Zc=pd[2];break;
case "t":Ad=qc+pd[1];id=Ec+pd[2];null===Zb[0].match(/[QqTt]/)?(ed=qc,Zc=Ec):"t"===Zb[0]?(ed=2*qc-ob,Zc=2*Ec-zb):"q"===Zb[0]&&(ed=2*qc-ed,Zc=2*Ec-Zc);var ob=ed;var zb=Zc;Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;ed=qc+pd[1];Zc=Ec+pd[2];break;case "T":Ad=pd[1];id=pd[2];ed=2*qc-ed;Zc=2*Ec-Zc;Y.quadraticCurveTo(ed+Oa,Zc+Va,Ad+Oa,id+Va);qc=Ad;Ec=id;break;case "a":e(Y,qc+Oa,Ec+Va,[pd[1],pd[2],pd[3],pd[4],pd[5],pd[6]+qc+Oa,pd[7]+Ec+Va]);qc+=pd[6];Ec+=pd[7];break;case "A":e(Y,qc+Oa,Ec+Va,[pd[1],
pd[2],pd[3],pd[4],pd[5],pd[6]+Oa,pd[7]+Va]);qc=pd[6];Ec=pd[7];break;case "z":case "Z":Y.closePath()}Zb=pd}}function e(Y,oa,Oa,Va){oa=f(Va[5],Va[6],Va[0],Va[1],Va[3],Va[4],Va[2],oa,Oa);for(Oa=0;Oa<oa.length;++Oa){a:{var xb=oa[Oa];Va=Fe.call(xb);if(kc[Va]){Va=kc[Va];break a}var Sb=xb[0],Zb=xb[1],qc=xb[2],Ec=xb[3],ed=xb[4],Zc=xb[5],Pd=xb[6],be=xb[7];xb=be*ed;const Ad=-Pd*Zc;ed*=Pd;Zc*=be;var pd=Math.cos(qc);const id=Math.sin(qc);Pd=Math.cos(Ec);be=Math.sin(Ec);qc=.5*(Ec-qc);Ec=Math.sin(.5*qc);Ec=8/3*
Ec*Ec/Math.sin(qc);qc=Sb+pd-Ec*id;pd=Zb+id+Ec*pd;Sb+=Pd;Zb+=be;be=Sb+Ec*be;Pd=Zb-Ec*Pd;Va=kc[Va]=[xb*qc+Ad*pd,ed*qc+Zc*pd,xb*be+Ad*Pd,ed*be+Zc*Pd,xb*Sb+Ad*Zb,ed*Sb+Zc*Zb]}Y.bezierCurveTo(Va[0],Va[1],Va[2],Va[3],Va[4],Va[5])}}function n(Y){return l.hasOwnProperty(lf,Y)?lf[Y]:y(Y)}function y(Y){if(!l.hasOwnProperty(Yf,Y)){const oa=d(Y);Yf[Y]={draw:function(Oa,Va){a(Oa,oa,0,0,Math.sqrt(Va)/2)}}}return Yf[Y]}function B(Y){return Y.x}function D(Y){return Y.y}function O(Y){return Y.width}function M(Y){return Y.height}
function F(Y){return"function"===typeof Y?Y:()=>+Y}function z(Y,oa,Oa){return Math.max(oa,Math.min(Y,Oa))}function G(){function Y(Zc,Pd,be){var pd;Pd=null!=Pd?Pd:+oa.call(this,Zc);be=null!=be?be:+Oa.call(this,Zc);var Ad=+Va.call(this,Zc),id=+xb.call(this,Zc),af=Math.min(Ad,id)/2,Wa=z(+Sb.call(this,Zc),0,af),ob=z(+Zb.call(this,Zc),0,af),zb=z(+qc.call(this,Zc),0,af);Zc=z(+Ec.call(this,Zc),0,af);ed||(ed=pd=H.path());0>=Wa&&0>=ob&&0>=zb&&0>=Zc?ed.rect(Pd,be,Ad,id):(Ad=Pd+Ad,id=be+id,ed.moveTo(Pd+Wa,be),
ed.lineTo(Ad-ob,be),ed.bezierCurveTo(Ad-.448084975506*ob,be,Ad,be+.448084975506*ob,Ad,be+ob),ed.lineTo(Ad,id-Zc),ed.bezierCurveTo(Ad,id-.448084975506*Zc,Ad-.448084975506*Zc,id,Ad-Zc,id),ed.lineTo(Pd+zb,id),ed.bezierCurveTo(Pd+.448084975506*zb,id,Pd,id-.448084975506*zb,Pd,id-zb),ed.lineTo(Pd,be+Wa),ed.bezierCurveTo(Pd,be+.448084975506*Wa,Pd+.448084975506*Wa,be,Pd+Wa,be),ed.closePath());if(pd)return ed=null,pd+""||null}var oa=B,Oa=D,Va=O,xb=M,Sb=F(0),Zb=Sb,qc=Sb,Ec=Sb,ed=null;Y.x=function(Zc){return arguments.length?
(oa=F(Zc),Y):oa};Y.y=function(Zc){return arguments.length?(Oa=F(Zc),Y):Oa};Y.width=function(Zc){return arguments.length?(Va=F(Zc),Y):Va};Y.height=function(Zc){return arguments.length?(xb=F(Zc),Y):xb};Y.cornerRadius=function(Zc,Pd,be,pd){return arguments.length?(Sb=F(Zc),Zb=null!=Pd?F(Pd):Sb,Ec=null!=be?F(be):Sb,qc=null!=pd?F(pd):Zb,Y):Sb};Y.context=function(Zc){return arguments.length?(ed=null==Zc?null:Zc,Y):ed};return Y}function K(){function Y(Zc){var Pd,be=Zc.length,pd,Ad=!1,id;null==Sb&&(Sb=id=
H.path());for(Pd=0;Pd<=be;++Pd)if(!(Pd<be&&xb(pd=Zc[Pd],Pd,Zc))===Ad&&(Ad=!Ad)&&(Zb=0),Ad){{var af=+oa(pd,Pd,Zc),Wa=+Oa(pd,Pd,Zc);const r=+Va(pd,Pd,Zc)/2;if(Zb){var ob=Ec-Wa,zb=af-qc;if(ob||zb){var Mb=Math.sqrt(ob*ob+zb*zb),bc=(ob/=Mb)*ed;Mb=(zb/=Mb)*ed;var Kc=Math.atan2(zb,ob);Sb.moveTo(qc-bc,Ec-Mb);Sb.lineTo(af-ob*r,Wa-zb*r);Sb.arc(af,Wa,r,Kc-Math.PI,Kc);Sb.lineTo(qc+bc,Ec+Mb);Sb.arc(qc,Ec,ed,Kc,Kc+Math.PI)}else Sb.arc(af,Wa,r,0,Gc);Sb.closePath()}else Zb=1;qc=af;Ec=Wa;ed=r}}if(id)return Sb=null,
id+""||null}var oa,Oa,Va,xb,Sb=null,Zb,qc,Ec,ed;Y.x=function(Zc){return arguments.length?(oa=Zc,Y):oa};Y.y=function(Zc){return arguments.length?(Oa=Zc,Y):Oa};Y.size=function(Zc){return arguments.length?(Va=Zc,Y):Va};Y.defined=function(Zc){return arguments.length?(xb=Zc,Y):xb};Y.context=function(Zc){return arguments.length?(Sb=null==Zc?null:Zc,Y):Sb};return Y}function R(Y,oa){return null!=Y?Y:oa}function T(Y){return Y.cornerRadius||Y.cornerRadiusTopLeft||Y.cornerRadiusTopRight||Y.cornerRadiusBottomRight||
Y.cornerRadiusBottomLeft}function ja(Y,oa,Oa,Va){return Za.context(Y)(oa,Oa,Va)}function fa(Y,oa,Oa){var Va=oa.clip;Y=Y._defs;oa=oa.clip_id||(oa.clip_id="clip"+Yb++);Y=Y.clipping[oa]||(Y.clipping[oa]={id:oa});l.isFunction(Va)?Y.path=Va(null):T(Oa)?Y.path=ja(null,Oa,0,0):(Y.width=Oa.width||0,Y.height=Oa.height||0);return"url(#"+oa+")"}function ha(Y){this.clear();Y&&this.union(Y)}function la(Y){this.mark=Y;this.bounds=this.bounds||new ha}function Z(Y){la.call(this,Y);this.items=this.items||[]}function P(Y){this._pending=
0;this._loader=Y||x.loader()}function C(Y,oa,Oa){if(oa.stroke&&0!==oa.opacity&&0!==oa.strokeOpacity){const Va=null!=oa.strokeWidth?+oa.strokeWidth:1;Y.expand(Va+(Oa?oa.strokeJoin&&"miter"!==oa.strokeJoin?0:Va:0))}return Y}function V(Y,oa){Oc=Y;oa?(Nd=oa*Ye,od=Qd=Math.cos(Nd),Id=Math.sin(Nd),jd=-Id):(od=Qd=1,Nd=Id=jd=0);return uf}function ia(Y,oa,Oa,Va){Oa=(Y-oa)/(Y+Oa-2*oa);0<Oa&&1>Oa&&Va(Y+(oa-Y)*Oa)}function aa(Y,oa,Oa,Va,xb){const Sb=Va-Y+3*oa-3*Oa,Zb=Y+Oa-2*oa;var qc=Y-oa;let Ec=0,ed=0;1E-14<
Math.abs(Sb)?(qc=Zb*Zb+qc*Sb,0<=qc&&(qc=Math.sqrt(qc),Ec=(-Zb+qc)/Sb,ed=(-Zb-qc)/Sb)):Ec=.5*qc/Zb;0<Ec&&1>Ec&&xb(ya(Ec,Y,oa,Oa,Va));0<ed&&1>ed&&xb(ya(ed,Y,oa,Oa,Va))}function ya(Y,oa,Oa,Va,xb){const Sb=1-Y,Zb=Sb*Sb,qc=Y*Y;return Zb*Sb*oa+3*Zb*Y*Oa+3*Sb*qc*Va+qc*Y*xb}function va(Y){return function(oa,Oa){if(!mf)return!0;Y(mf,oa);Zf.clear().union(oa.bounds).intersect(Oa).round();const {x1:Va,y1:xb,x2:Sb,y2:Zb}=Zf;for(oa=xb;oa<=Zb;++oa)for(Oa=Va;Oa<=Sb;++Oa)if(mf.isPointInPath(Oa,oa))return!0;return!1}}
function Ia(Y,oa){return oa.contains(Y.x||0,Y.y||0)}function bb(Y,oa){const Oa=Y.x||0,Va=Y.y||0;return oa.intersects(Zf.set(Oa,Va,Oa+(Y.width||0),Va+(Y.height||0)))}function kb(Y,oa){const Oa=Y.x||0,Va=Y.y||0;return ua(oa,Oa,Va,null!=Y.x2?Y.x2:Oa,null!=Y.y2?Y.y2:Va)}function ua(Y,oa,Oa,Va,xb){const {x1:Sb,y1:Zb,x2:qc,y2:Ec}=Y;Y=Va-oa;xb-=Oa;Va=0;let ed=1,Zc,Pd,be,pd;for(pd=0;4>pd;++pd){0===pd&&(Zc=-Y,Pd=-(Sb-oa));1===pd&&(Zc=Y,Pd=qc-oa);2===pd&&(Zc=-xb,Pd=-(Zb-Oa));3===pd&&(Zc=xb,Pd=Ec-Oa);if(1E-10>
Math.abs(Zc)&&0>Pd)return!1;be=Pd/Zc;if(0>Zc){if(be>ed)return!1;be>Va&&(Va=be)}else if(0<Zc){if(be<Va)return!1;be<ed&&(ed=be)}}return!0}function Ta(Y,oa){Y.globalCompositeOperation=oa.blend||"source-over"}function Ya(Y,oa){return null==Y?oa:Y}function Da(Y,oa){const Oa=oa.length;for(let Va=0;Va<Oa;++Va)Y.addColorStop(oa[Va].offset,oa[Va].color);return Y}function ta(Y,oa,Oa){const Va=Oa.width(),xb=Oa.height();if("radial"===oa.gradient)Y=Y.createRadialGradient(Oa.x1+Ya(oa.x1,.5)*Va,Oa.y1+Ya(oa.y1,.5)*
xb,Math.max(Va,xb)*Ya(oa.r1,0),Oa.x1+Ya(oa.x2,.5)*Va,Oa.y1+Ya(oa.y2,.5)*xb,Math.max(Va,xb)*Ya(oa.r2,.5));else{const Sb=Ya(oa.x1,0),Zb=Ya(oa.y1,0),qc=Ya(oa.x2,1),Ec=Ya(oa.y2,0);if(Sb===qc||Zb===Ec||Va===xb)Y=Y.createLinearGradient(Oa.x1+Sb*Va,Oa.y1+Zb*xb,Oa.x1+qc*Va,Oa.y1+Ec*xb);else{Oa=N.canvas(Math.ceil(Va),Math.ceil(xb));const ed=Oa.getContext("2d");ed.scale(Va,xb);ed.fillStyle=Da(ed.createLinearGradient(Sb,Zb,qc,Ec),oa.stops);ed.fillRect(0,0,Va,xb);return Y.createPattern(Oa,"no-repeat")}}return Da(Y,
oa.stops)}function U(Y,oa,Oa){Oa*=null==oa.fillOpacity?1:oa.fillOpacity;return 0<Oa?(Y.globalAlpha=Oa,oa=(Oa=oa.fill)&&Oa.gradient?ta(Y,Oa,oa.bounds):Oa,Y.fillStyle=oa,!0):!1}function W(Y,oa,Oa){var Va=null!=(Va=oa.strokeWidth)?Va:1;if(0>=Va)return!1;Oa*=null==oa.strokeOpacity?1:oa.strokeOpacity;return 0<Oa?(Y.globalAlpha=Oa,Oa=(Oa=oa.stroke)&&Oa.gradient?ta(Y,Oa,oa.bounds):Oa,Y.strokeStyle=Oa,Y.lineWidth=Va,Y.lineCap=oa.strokeCap||"butt",Y.lineJoin=oa.strokeJoin||"miter",Y.miterLimit=oa.strokeMiterLimit||
10,Y.setLineDash&&(Y.setLineDash(oa.strokeDash||yf),Y.lineDashOffset=oa.strokeDashOffset||0),!0):!1}function ba(Y,oa){return Y.zindex-oa.zindex||Y.index-oa.index}function ca(Y){if(!Y.zdirty)return Y.zitems;var oa=Y.items,Oa=[],Va;var xb=0;for(Va=oa.length;xb<Va;++xb){var Sb=oa[xb];Sb.index=xb;Sb.zindex&&Oa.push(Sb)}Y.zdirty=!1;return Y.zitems=Oa.sort(ba)}function ra(Y,oa){var Oa=Y.items,Va;if(Oa&&Oa.length){var xb=ca(Y);if(xb&&xb.length){Y=0;for(Va=Oa.length;Y<Va;++Y)Oa[Y].zindex||oa(Oa[Y]);Oa=xb}Y=
0;for(Va=Oa.length;Y<Va;++Y)oa(Oa[Y])}}function qa(Y,oa){var Oa=Y.items,Va,xb;if(!Oa||!Oa.length)return null;const Sb=ca(Y);Sb&&Sb.length&&(Oa=Sb);for(xb=Oa.length;0<=--xb;)if(Va=oa(Oa[xb]))return Va;if(Oa===Sb)for(Oa=Y.items,xb=Oa.length;0<=--xb;)if(!Oa[xb].zindex&&(Va=oa(Oa[xb])))return Va;return null}function Fa(Y){return function(oa,Oa,Va){ra(Oa,xb=>{Va&&!Va.intersects(xb.bounds)||Ra(Y,oa,xb,xb)})}}function na(Y){return function(oa,Oa,Va){!Oa.items.length||Va&&!Va.intersects(Oa.bounds)||Ra(Y,
oa,Oa.items[0],Oa.items)}}function Ra(Y,oa,Oa,Va){var xb=null==Oa.opacity?1:Oa.opacity;0===xb||Y(oa,Va)||(Ta(oa,Oa),Oa.fill&&U(oa,Oa,xb)&&oa.fill(),Oa.stroke&&W(oa,Oa,xb)&&oa.stroke())}function db(Y){Y=Y||l.truthy;return function(oa,Oa,Va,xb,Sb,Zb){Va*=oa.pixelRatio;xb*=oa.pixelRatio;return qa(Oa,qc=>{const Ec=qc.bounds;if((!Ec||Ec.contains(Sb,Zb))&&Ec&&Y(oa,qc,Va,xb,Sb,Zb))return qc})}}function $a(Y,oa){return function(Oa,Va,xb,Sb){var Zb=Array.isArray(Va)?Va[0]:Va,qc=null==oa?Zb.fill:oa,Ec=Zb.stroke&&
Oa.isPointInStroke;if(Ec){var ed=Zb.strokeWidth;Zb=Zb.strokeCap;Oa.lineWidth=null!=ed?ed:1;Oa.lineCap=null!=Zb?Zb:"butt"}return Y(Oa,Va)?!1:qc&&Oa.isPointInPath(xb,Sb)||Ec&&Oa.isPointInStroke(xb,Sb)}}function Ca(Y,oa){return"translate("+Y+","+oa+")"}function Ga(Y,oa,Oa){function Va(xb,Sb){var Zb=Sb.x||0,qc=Sb.y||0,Ec=Sb.angle||0;xb.translate(Zb,qc);Ec&&xb.rotate(Ec*=Ye);xb.beginPath();oa(xb,Sb);Ec&&xb.rotate(-Ec);xb.translate(-Zb,-qc)}return{type:Y,tag:"path",nested:!1,attr:function(xb,Sb){var Zb=
Ca(Sb.x||0,Sb.y||0)+(Sb.angle?" rotate("+(Sb.angle+")"):"");xb("transform",Zb);xb("d",oa(null,Sb))},bound:function(xb,Sb){oa(V(xb,Sb.angle),Sb);return C(xb,Sb).translate(Sb.x||0,Sb.y||0)},draw:Fa(Va),pick:db($a(Va)),isect:Oa||va(Va)}}function pa(Y,oa,Oa){function Va(Sb,Zb){Sb.beginPath();oa(Sb,Zb)}const xb=$a(Va);return{type:Y,tag:"path",nested:!0,attr:function(Sb,Zb){Zb=Zb.mark.items;Zb.length&&Sb("d",oa(null,Zb))},bound:function(Sb,Zb){Zb=Zb.items;if(0===Zb.length)return Sb;oa(V(Sb),Zb);return C(Sb,
Zb[0])},draw:na(Va),pick:function(Sb,Zb,qc,Ec,ed,Zc){var Pd=Zb.items;Zb=Zb.bounds;if(!Pd||!Pd.length||Zb&&!Zb.contains(ed,Zc))return null;qc*=Sb.pixelRatio;Ec*=Sb.pixelRatio;return xb(Sb,Pd,qc,Ec)?Pd[0]:null},isect:Ia,tip:Oa}}function Ha(Y,oa){Y.beginPath();T(oa)?ja(Y,oa,0,0):Y.rect(0,0,oa.width||0,oa.height||0);Y.clip()}function Ua(Y){const oa=Ya(Y.strokeWidth,1);return null!=Y.strokeOffset?Y.strokeOffset:Y.stroke&&.5<oa&&1.5>oa?.5-Math.abs(oa-1):0}function jb(Y,oa,Oa,Va){const xb=Ua(oa);Y.beginPath();
ja(Y,oa,(Oa||0)+xb,(Va||0)+xb)}function Fb(Y,oa){var Oa=Y.image;if(!Oa||Y.url&&Y.url!==Oa.url)Oa={complete:!1,width:0,height:0},oa.loadImage(Y.url).then(Va=>{Y.image=Va;Y.image.url=Y.url});return Oa}function Xb(Y,oa){return null!=Y.width?Y.width:oa&&oa.width?!1!==Y.aspect&&Y.height?Y.height*oa.width/oa.height:oa.width:0}function nc(Y,oa){return null!=Y.height?Y.height:oa&&oa.height?!1!==Y.aspect&&Y.width?Y.width*oa.height/oa.width:oa.height:0}function md(Y,oa){return"center"===Y?oa/2:"right"===Y?
oa:0}function pc(Y,oa){return"middle"===Y?oa/2:"bottom"===Y?oa:0}function Hc(Y,oa){var Oa=oa.path;if(null==Oa)return!0;var Va=oa.x||0,xb=oa.y||0,Sb=oa.scaleX||1,Zb=oa.scaleY||1,qc=(oa.angle||0)*Ye,Ec=oa.pathCache;Ec&&Ec.path===Oa||((oa.pathCache=Ec=d(Oa)).path=Oa);qc&&Y.rotate&&Y.translate?(Y.translate(Va,xb),Y.rotate(qc),a(Y,Ec,0,0,Sb,Zb),Y.rotate(-qc),Y.translate(-Va,-xb)):a(Y,Ec,Va,xb,Sb,Zb)}function mb(Y,oa){Y.beginPath();ja(Y,oa)}function hc(Y,oa,Oa){if(oa.stroke&&W(Y,oa,Oa)){Oa=oa.x||0;var Va=
oa.y||0;var xb=null!=oa.x2?oa.x2:Oa;oa=null!=oa.y2?oa.y2:Va;Y.beginPath();Y.moveTo(Oa,Va);Y.lineTo(xb,oa);return!0}return!1}function jc(Y){Gd.width=Y&&mf?Pc:rc}function rc(Y,oa){oa=Fd(Y,oa);Y=Uc(Y);return~~(.8*oa.length*Y)}function Pc(Y,oa){return 0>=Uc(Y)||!(oa=Fd(Y,oa))?0:sc(oa,vd(Y))}function sc(Y,oa){const Oa=`(${oa}) ${Y}`;let Va=je.get(Oa);void 0===Va&&(mf.font=oa,Va=mf.measureText(Y).width,je.set(Oa,Va));return Va}function Uc(Y){return null!=Y.fontSize?+Y.fontSize||0:11}function Sc(Y){return null!=
Y.lineHeight?Y.lineHeight:Uc(Y)+2}function Lc(Y){Y=Y.lineBreak&&Y.text&&!l.isArray(Y.text)?Y.text.split(Y.lineBreak):Y.text;return l.isArray(Y)?1<Y.length?Y:Y[0]:Y}function Fd(Y,oa){oa=null==oa?"":(oa+"").trim();if(0<Y.limit&&oa.length){var Oa=+Y.limit,Va=ge(Y);if(!(Va(oa)<Oa)){var xb=Y.ellipsis||"",Sb="rtl"===Y.dir;Y=0;var Zb=oa.length;Oa-=Va(xb);if(Sb){for(;Y<Zb;)Sb=Y+Zb>>>1,Va(oa.slice(Sb))>Oa?Y=Sb+1:Zb=Sb;oa=xb+oa.slice(Y)}else{for(;Y<Zb;)Sb=1+(Y+Zb>>>1),Va(oa.slice(0,Sb))<Oa?Y=Sb:Zb=Sb-1;oa=
oa.slice(0,Y)+xb}}}return oa}function ge(Y){if(Gd.width===Pc){const oa=vd(Y);return Oa=>sc(Oa,oa)}{const oa=Uc(Y);return Oa=>~~(.8*Oa.length*oa)}}function wd(Y,oa){Y=Y.font;return(oa&&Y?String(Y).replace(/"/g,"'"):Y)||"sans-serif"}function vd(Y,oa){return(Y.fontStyle?Y.fontStyle+" ":"")+(Y.fontVariant?Y.fontVariant+" ":"")+(Y.fontWeight?Y.fontWeight+" ":"")+Uc(Y)+"px "+wd(Y,oa)}function Wd(Y){var oa=Y.baseline,Oa=Uc(Y);return Math.round("top"===oa?.79*Oa:"middle"===oa?.3*Oa:"bottom"===oa?-.21*Oa:
"line-top"===oa?.29*Oa+.5*Sc(Y):"line-bottom"===oa?.29*Oa-.5*Sc(Y):0)}function Pb(Y){var oa=Y.x||0,Oa=Y.y||0,Va=Y.radius||0;Va&&(Y=(Y.theta||0)-Xf,oa+=Va*Math.cos(Y),Oa+=Va*Math.sin(Y));$d.x1=oa;$d.y1=Oa;return $d}function gc(Y,oa,Oa){var Va=Gd.height(oa),xb=oa.align,Sb=Pb(oa),Zb=Sb.x1;Sb=Sb.y1;var qc=oa.dx||0,Ec=(oa.dy||0)+Wd(oa)-Math.round(.8*Va),ed=Lc(oa);l.isArray(ed)?(Va+=Sc(oa)*(ed.length-1),ed=ed.reduce((Zc,Pd)=>Math.max(Zc,Gd.width(oa,Pd)),0)):ed=Gd.width(oa,ed);"center"===xb?qc-=ed/2:"right"===
xb&&(qc-=ed);Y.set(qc+=Zb,Ec+=Sb,qc+ed,Ec+Va);if(oa.angle&&!Oa)Y.rotate(oa.angle*Ye,Zb,Sb);else if(2===Oa)return Y.rotatedPoints(oa.angle*Ye,Zb,Sb);return Y}function Eb(Y,oa,Oa){var Va=Qe[Y.mark.marktype];oa=oa||Va.bound;Va.nested&&(Y=Y.mark);return oa(Y.bounds||(Y.bounds=new ha),Y,Oa)}function zc(Y,oa,Oa){var Va=Qe[Y.marktype],xb=Va.bound,Sb=Y.items,Zb=Sb&&Sb.length;if(Va.nested)return Zb?Y=Sb[0]:(Uf.mark=Y,Y=Uf),Oa=Eb(Y,xb,Oa),oa=oa&&oa.union(Oa)||Oa;oa=oa||Y.bounds&&Y.bounds.clear()||new ha;if(Zb)for(Va=
0,Zb=Sb.length;Va<Zb;++Va)oa.union(Eb(Sb[Va],xb,Oa));return Y.bounds=oa}function Vc(Y,oa){return JSON.stringify(Y,ne,oa)}function Ed(Y){Y="string"===typeof Y?JSON.parse(Y):Y;return Vd(Y)}function Vd(Y){var oa=Y.marktype,Oa=Y.items,Va;if(Oa){var xb=0;for(Va=Oa.length;xb<Va;++xb){var Sb=oa?"mark":"group";Oa[xb][Sb]=Y;Oa[xb].zindex&&(Oa[xb][Sb].zdirty=!0);"group"===(oa||Sb)&&Vd(Oa[xb])}}oa&&zc(Y);return Y}function Ka(Y){arguments.length?this.root=Ed(Y):(this.root=eb({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new Z(this.root)])}function eb(Y,oa){oa={bounds:new ha,clip:!!Y.clip,group:oa,interactive:!1===Y.interactive?!1:!0,items:[],marktype:Y.marktype,name:Y.name||void 0,role:Y.role||void 0,zindex:Y.zindex||0};null!=Y.aria&&(oa.aria=Y.aria);Y.description&&(oa.description=Y.description);return oa}function wb(Y,oa,Oa){!Y&&"undefined"!==typeof document&&document.createElement&&(Y=document);return Y?Oa?Y.createElementNS(Oa,oa):Y.createElement(oa):null}function Hb(Y,oa){oa=oa.toLowerCase();
Y=Y.childNodes;for(var Oa=0,Va=Y.length;Oa<Va;++Oa)if(Y[Oa].tagName.toLowerCase()===oa)return Y[Oa]}function ac(Y,oa,Oa,Va){oa=Y.childNodes[oa];if(!oa||oa.tagName.toLowerCase()!==Oa.toLowerCase()){var xb=oa||null;oa=wb(Y.ownerDocument,Oa,Va);Y.insertBefore(oa,xb)}return oa}function Lb(Y,oa){for(var Oa=Y.childNodes,Va=Oa.length;Va>oa;)Y.removeChild(Oa[--Va]);return Y}function Ac(Y){return"mark-"+Y.marktype+(Y.role?" role-"+Y.role:"")+(Y.name?" "+Y.name:"")}function tc(Y,oa){const Oa=oa.getBoundingClientRect();
return[Y.clientX-Oa.left-(oa.clientLeft||0),Y.clientY-Oa.top-(oa.clientTop||0)]}function pb(Y,oa){this._active=null;this._handlers={};this._loader=Y||x.loader();this._tooltip=oa||Bb}function Bb(Y,oa,Oa,Va){Y.element().setAttribute("title",Va||"")}function Ub(Y){this._bgcolor=this._el=null;this._loader=new P(Y)}function mc(Y,oa){pb.call(this,Y,oa);this._touch=this._down=null;this._first=!0;this._events={}}function Bc(Y,oa){("touchstart"===oa||"touchmove"===oa||"touchend"===oa?["touchstart","touchmove",
"touchend"]:[oa]).forEach(Oa=>Cc(Y,Oa))}function Cc(Y,oa){const Oa=Y.canvas();Oa&&!Y._events[oa]&&(Y._events[oa]=1,Oa.addEventListener(oa,Y[oa]?Va=>Y[oa](Va):Va=>Y.fire(oa,Va)))}function Xc(Y,oa,Oa){return function(Va){const xb=this._active,Sb=this.pickEvent(Va);Sb!==xb&&(xb&&xb.exit||this.fire(Oa,Va),this._active=Sb,this.fire(oa,Va));this.fire(Y,Va)}}function Qb(Y){return function(oa){this.fire(Y,oa);this._active=null}}function Ic(Y){Ub.call(this,Y);this._options={};this._redraw=!1;this._dirty=new ha;
this._tempb=new ha}function Dc(Y,oa){pb.call(this,Y,oa);const Oa=this;Oa._hrefHandler=Bg(Oa,(Va,xb)=>{xb&&xb.href&&Oa.handleHref(Va,xb,xb.href)});Oa._tooltipHandler=Bg(Oa,(Va,xb)=>{Oa.handleTooltip(Va,xb,"mouseout"!==Va.type)})}function uc(Y,oa){var Oa=!1===oa.aria;Y("aria-hidden",Oa||void 0);if(Oa||null==oa.description)for(const Va in za)Y(za[Va],void 0);else Oa=oa.mark.marktype,Y("aria-label",oa.description),Y("role",oa.ariaRole||("group"===Oa?"graphics-object":"graphics-symbol")),Y("aria-roledescription",
oa.ariaRoleDescription||`${Oa} mark`)}function Tc(Y){return!1===Y.aria?{["aria-hidden"]:!0}:jg[Y.role]?null:xa[Y.role]?ld(Y,xa[Y.role]):ad(Y)}function ad(Y){const oa=Y.marktype,Oa="group"===oa||"text"===oa||Y.items.some(Va=>null!=Va.description&&!1!==Va.aria);return Lf(Oa?"graphics-object":"graphics-symbol",`${oa} mark container`,Y.description)}function ld(Y,oa){try{const Oa=Y.items[0],Va=oa.caption||(()=>"");return Lf(oa.role||"graphics-symbol",oa.desc,Oa.description||Va(Oa))}catch(Oa){return null}}
function Cd(Y){try{return l.array(l.peek(Y.items).items[0].text).join(" ")}catch(oa){return null}}function Dd(Y){Y=Y.map(oa=>oa+("fill"===oa||"stroke"===oa?" color":""));return 2>Y.length?Y[0]:Y.slice(0,-1).join(", ")+" and "+l.peek(Y)}function Ud(){let Y="",oa="",Oa="";const Va=[],xb=(Zb,qc)=>{null!=qc&&(oa+=` ${Zb}="${Na(qc).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Sb},Sb={open(Zb,...qc){oa&&(Y+=`${oa}>${Oa}`,oa=Oa="");Va.push(Zb);
oa="\x3c"+Zb;for(const Ec of qc)for(const ed in Ec)xb(ed,Ec[ed]);return Sb},close(){const Zb=Va.pop();Y=oa?Y+(oa+(Oa?`>${Oa}</${Zb}>`:"/\x3e")):Y+`</${Zb}>`;oa=Oa="";return Sb},attr:xb,text:Zb=>(Oa+=Na(Zb),Sb),toString:()=>Y};return Sb}function ae(Y,oa){Y.open(oa.tagName);if(oa.hasAttributes()){var Oa=oa.attributes,Va=Oa.length;for(var xb=0;xb<Va;++xb)Y.attr(Oa[xb].name,Oa[xb].value)}if(oa.hasChildNodes())for(oa=oa.childNodes,Oa=oa.length,Va=0;Va<Oa;Va++)xb=oa[Va],3===xb.nodeType?Y.text(xb.nodeValue):
ae(Y,xb);return Y.close()}function oe(Y){Ub.call(this,Y);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function De(Y,oa){for(;Y&&Y.dirty!==oa;Y=Y.mark.group)if(Y.dirty=oa,Y.mark&&Y.mark.dirty!==oa)Y.mark.dirty=oa;else break}function fe(Y,oa,Oa){oa=oa.lastChild.previousSibling;let Va,xb=0;ra(Oa,Sb=>{Va=Y.mark(oa,Sb,Va);++xb});Lb(oa,1+xb)}function ef(Y,oa,Oa,Va,xb){let Sb=Y._svg;if(!Sb){var Zb=oa.ownerDocument;Sb=wb(Zb,Va,qb);Y._svg=Sb;Y.mark&&(Sb.__data__=Y,Sb.__values__={fill:"default"},
"g"===Va&&(Va=wb(Zb,"path",qb),Sb.appendChild(Va),Va.__data__=Y,Va=wb(Zb,"g",qb),Sb.appendChild(Va),Va.__data__=Y,Zb=wb(Zb,"path",qb),Sb.appendChild(Zb),Zb.__data__=Y,Zb.__values__={fill:"default"}))}(Sb.ownerSVGElement!==xb||Sb.parentNode&&1<Sb.parentNode.childNodes.length&&Sb.previousSibling!=Oa)&&oa.insertBefore(Sb,Oa?Oa.nextSibling:oa.firstChild);return Sb}function Ze(Y,oa,Oa){if(oa!==Kb[Y]){if(Oa){var Va=Ab;null!=oa?Va.setAttributeNS(Oa,Y,oa):Va.removeAttributeNS(Oa,Y)}else he(Ab,Y,oa);Kb[Y]=
oa}}function df(Y,oa,Oa){Oa!==Kb[oa]&&(null==Oa?Y.style.removeProperty(oa):Y.style.setProperty(oa,Oa+""),Kb[oa]=Oa)}function Zd(Y,oa){for(const Oa in oa)he(Y,Oa,oa[Oa])}function he(Y,oa,Oa){null!=Oa?Y.setAttribute(oa,Oa):Y.removeAttribute(oa)}function zf(){let Y;return"undefined"===typeof window?"":(Y=window.location).hash?Y.href.slice(0,-Y.hash.length):Y.href}function Ue(Y){Ub.call(this,Y);this._text=null;this._defs={gradient:{},clipping:{}}}function Nf(Y,oa,Oa,Va,xb){if(null==oa)return Y;"bgrect"===
Va&&!1===Oa.interactive&&(Y["pointer-events"]="none");if("bgfore"===Va&&(!1===Oa.interactive&&(Y["pointer-events"]="none"),Y.display="none",null!==oa.fill))return Y;"image"===Va&&!1===oa.smooth&&(Y.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===Va&&(Y["font-family"]=wd(oa),Y["font-size"]=Uc(oa)+"px",Y["font-style"]=oa.fontStyle,Y["font-variant"]=oa.fontVariant,Y["font-weight"]=oa.fontWeight);for(const Sb in fb)Oa=oa[Sb],Va=fb[Sb],("transparent"!==Oa||"fill"!==Va&&"stroke"!==
Va)&&null!=Oa&&(Oa&&Oa.gradient&&(Oa=u(Oa,xb.gradient,"")),Y[Va]=Oa);return Y}function me(Y,oa,Oa,Va){if(Y.bounds&&oa.intersects(Y.bounds)&&("group"===Y.marktype||!1!==Y.interactive&&(!Oa||Oa(Y)))){const Sb=Y.items;var xb=Y.marktype;Y=Sb.length;let Zb=0;if("group"===xb)for(;Zb<Y;++Zb)te(Sb[Zb],oa,Oa,Va);else for(Oa=Qe[xb].isect;Zb<Y;++Zb)xb=Sb[Zb],kf(xb,oa,Oa)&&Va.push(xb)}return Va}function te(Y,oa,Oa,Va){Oa&&Oa(Y.mark)&&kf(Y,oa,Qe.group.isect)&&Va.push(Y);const xb=Y.items,Sb=xb&&xb.length;if(Sb){const Zb=
Y.x||0;Y=Y.y||0;oa.translate(-Zb,-Y);for(let qc=0;qc<Sb;++qc)me(xb[qc],oa,Oa,Va);oa.translate(Zb,Y)}return Va}function kf(Y,oa,Oa){const Va=Y.bounds;return oa.encloses(Va)||oa.intersects(Va)&&Oa(Y,oa)}function we(Y,oa,Oa){return Y===oa?!0:"path"===Oa?Od(Y,oa):Y instanceof Date&&oa instanceof Date?+Y===+oa:l.isNumber(Y)&&l.isNumber(oa)?1E-9>=Math.abs(Y-oa):Y&&oa&&(l.isObject(Y)||l.isObject(oa))?Xd(Y,oa):Y==oa}function Od(Y,oa){return we(d(Y),d(oa))}function Xd(Y,oa){var Oa=Object.keys(Y),Va=Object.keys(oa),
xb;if(Oa.length!==Va.length)return!1;Oa.sort();Va.sort();for(xb=Oa.length-1;0<=xb;xb--)if(Oa[xb]!=Va[xb])return!1;for(xb=Oa.length-1;0<=xb;xb--)if(Va=Oa[xb],!we(Y[Va],oa[Va],Va))return!1;return typeof Y===typeof oa}let Be=0;const jf={basis:{curve:w.curveBasis},"basis-closed":{curve:w.curveBasisClosed},"basis-open":{curve:w.curveBasisOpen},bundle:{curve:w.curveBundle,tension:"beta",value:.85},cardinal:{curve:w.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:w.curveCardinalOpen,tension:"tension",
value:0},"cardinal-closed":{curve:w.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:w.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:w.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:w.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:w.curveLinear},"linear-closed":{curve:w.curveLinearClosed},monotone:{horizontal:w.curveMonotoneY,vertical:w.curveMonotoneX},natural:{curve:w.curveNatural},step:{curve:w.curveStep},"step-after":{curve:w.curveStepAfter},
"step-before":{curve:w.curveStepBefore}},Ge={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Td=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Ye=Math.PI/180,Xf=Math.PI/2,Gc=2*Math.PI,xe=Math.sqrt(3)/2;var le={},kc={},Fe=[].join;const ue=["l",0,0,0,0,0,0,0],lf={circle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(oa,0);Y.arc(0,0,oa,0,Gc)}},cross:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=oa/2.5;Y.moveTo(-oa,-Oa);Y.lineTo(-oa,Oa);Y.lineTo(-Oa,Oa);Y.lineTo(-Oa,oa);Y.lineTo(Oa,
oa);Y.lineTo(Oa,Oa);Y.lineTo(oa,Oa);Y.lineTo(oa,-Oa);Y.lineTo(Oa,-Oa);Y.lineTo(Oa,-oa);Y.lineTo(-Oa,-oa);Y.lineTo(-Oa,-Oa);Y.closePath()}},diamond:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(0,-oa);Y.lineTo(oa,0);Y.lineTo(0,oa);Y.closePath()}},square:{draw:function(Y,oa){oa=Math.sqrt(oa);var Oa=-oa/2;Y.rect(Oa,Oa,oa,oa)}},arrow:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=oa/7,Va=oa/2.5,xb=oa/8;Y.moveTo(-Oa,oa);Y.lineTo(Oa,oa);Y.lineTo(Oa,-xb);Y.lineTo(Va,-xb);Y.lineTo(0,-oa);
Y.lineTo(-Va,-xb);Y.lineTo(-Oa,-xb);Y.closePath()}},wedge:{draw:function(Y,oa){var Oa=Math.sqrt(oa)/2;oa=xe*Oa;var Va=oa-.5773502691896257*Oa;Oa/=4;Y.moveTo(0,-oa-Va);Y.lineTo(-Oa,oa-Va);Y.lineTo(Oa,oa-Va);Y.closePath()}},triangle:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa,Va=Oa-.5773502691896257*oa;Y.moveTo(0,-Oa-Va);Y.lineTo(-oa,Oa-Va);Y.lineTo(oa,Oa-Va);Y.closePath()}},"triangle-up":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(0,-Oa);Y.lineTo(-oa,Oa);Y.lineTo(oa,Oa);
Y.closePath()}},"triangle-down":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(0,Oa);Y.lineTo(-oa,-Oa);Y.lineTo(oa,-Oa);Y.closePath()}},"triangle-right":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(Oa,0);Y.lineTo(-Oa,-oa);Y.lineTo(-Oa,oa);Y.closePath()}},"triangle-left":{draw:function(Y,oa){oa=Math.sqrt(oa)/2;var Oa=xe*oa;Y.moveTo(-Oa,0);Y.lineTo(Oa,-oa);Y.lineTo(Oa,oa);Y.closePath()}},stroke:{draw:function(Y,oa){oa=Math.sqrt(oa)/2;Y.moveTo(-oa,0);Y.lineTo(oa,0)}}};
var Yf={};const If=Y=>Y.x||0,Sf=Y=>Y.y||0,Bf=Y=>!1!==Y.defined,qe=w.arc().startAngle(Y=>Y.startAngle||0).endAngle(Y=>Y.endAngle||0).padAngle(Y=>Y.padAngle||0).innerRadius(Y=>Y.innerRadius||0).outerRadius(Y=>Y.outerRadius||0).cornerRadius(Y=>Y.cornerRadius||0),yc=w.area().x(If).y1(Sf).y0(Y=>(Y.y||0)+(Y.height||0)).defined(Bf),wa=w.area().y(Sf).x1(If).x0(Y=>(Y.x||0)+(Y.width||0)).defined(Bf),Ea=w.line().x(If).y(Sf).defined(Bf),Za=G().x(If).y(Sf).width(Y=>Y.width||0).height(Y=>Y.height||0).cornerRadius(Y=>
R(Y.cornerRadiusTopLeft,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusTopRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomRight,Y.cornerRadius)||0,Y=>R(Y.cornerRadiusBottomLeft,Y.cornerRadius)||0),Cb=w.symbol().type(Y=>n(Y.shape||"circle")).size(Y=>R(Y.size,64)),ub=K().x(If).y(Sf).defined(Bf).size(Y=>Y.size||1);var Yb=1;ha.prototype={clone(){return new ha(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===
+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(Y){return this.x1===Y.x1&&this.y1===Y.y1&&this.x2===Y.x2&&this.y2===Y.y2},set(Y,oa,Oa,Va){Oa<Y?(this.x2=Y,this.x1=Oa):(this.x1=Y,this.x2=Oa);Va<oa?(this.y2=oa,this.y1=Va):(this.y1=oa,this.y2=Va);return this},add(Y,oa){Y<this.x1&&(this.x1=Y);oa<this.y1&&(this.y1=oa);Y>this.x2&&(this.x2=Y);oa>this.y2&&(this.y2=oa);return this},expand(Y){this.x1-=Y;this.y1-=Y;this.x2+=Y;this.y2+=Y;return this},
round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(Y){this.x1*=Y;this.y1*=Y;this.x2*=Y;this.y2*=Y;return this},translate(Y,oa){this.x1+=Y;this.x2+=Y;this.y1+=oa;this.y2+=oa;return this},rotate(Y,oa,Oa){Y=this.rotatedPoints(Y,oa,Oa);return this.clear().add(Y[0],Y[1]).add(Y[2],Y[3]).add(Y[4],Y[5]).add(Y[6],Y[7])},rotatedPoints(Y,oa,Oa){var {x1:Va,y1:xb,x2:Sb,y2:Zb}=this,qc=Math.cos(Y);Y=Math.sin(Y);var Ec=oa-oa*qc+
Oa*Y;oa=Oa-oa*Y-Oa*qc;return[qc*Va-Y*xb+Ec,Y*Va+qc*xb+oa,qc*Va-Y*Zb+Ec,Y*Va+qc*Zb+oa,qc*Sb-Y*xb+Ec,Y*Sb+qc*xb+oa,qc*Sb-Y*Zb+Ec,Y*Sb+qc*Zb+oa]},union(Y){Y.x1<this.x1&&(this.x1=Y.x1);Y.y1<this.y1&&(this.y1=Y.y1);Y.x2>this.x2&&(this.x2=Y.x2);Y.y2>this.y2&&(this.y2=Y.y2);return this},intersect(Y){Y.x1>this.x1&&(this.x1=Y.x1);Y.y1>this.y1&&(this.y1=Y.y1);Y.x2<this.x2&&(this.x2=Y.x2);Y.y2<this.y2&&(this.y2=Y.y2);return this},encloses(Y){return Y&&this.x1<=Y.x1&&this.x2>=Y.x2&&this.y1<=Y.y1&&this.y2>=Y.y2},
alignsWith(Y){return Y&&(this.x1==Y.x1||this.x2==Y.x2||this.y1==Y.y1||this.y2==Y.y2)},intersects(Y){return Y&&!(this.x2<Y.x1||this.x1>Y.x2||this.y2<Y.y1||this.y1>Y.y2)},contains(Y,oa){return!(Y<this.x1||Y>this.x2||oa<this.y1||oa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};l.inherits(Z,la);P.prototype={pending(){return this._pending},sanitizeURL(Y){const oa=this;oa._pending+=1;return oa._loader.sanitize(Y,{context:"href"}).then(Oa=>{--oa._pending;return Oa}).catch(()=>
{--oa._pending;return null})},loadImage(Y){const oa=this,Oa=N.image();oa._pending+=1;return oa._loader.sanitize(Y,{context:"image"}).then(Va=>{const xb=Va.href;if(!xb||!Oa)throw{url:xb};const Sb=new Oa;Va=l.hasOwnProperty(Va,"crossOrigin")?Va.crossOrigin:"anonymous";null!=Va&&(Sb.crossOrigin=Va);Sb.onload=()=>{--oa._pending};Sb.onerror=()=>{--oa._pending};Sb.src=xb;return Sb}).catch(Va=>{--oa._pending;return{complete:!1,width:0,height:0,src:Va&&Va.url||""}})},ready(){const Y=this;return new Promise(oa=>
{function Oa(Va){Y.pending()?setTimeout(()=>{Oa(!0)},10):oa(Va)}Oa(!1)})}};const $b=Gc-1E-8;let Oc,gd,Mc,Nd,od,Id,jd,Qd;const ie=(Y,oa)=>{Y=gd=Y;oa=Mc=oa;return Oc.add(Y,oa)},Gf=Y=>Oc.add(Y,Oc.y1),tf=Y=>Oc.add(Oc.x1,Y),kd=(Y,oa)=>Oc.add(od*Y+jd*oa,Id*Y+Qd*oa),We=(Y,oa)=>ie(od*Y+jd*oa,Id*Y+Qd*oa),uf={beginPath(){},closePath(){},moveTo:We,lineTo:We,rect(Y,oa,Oa,Va){Nd?(kd(Y+Oa,oa),kd(Y+Oa,oa+Va),kd(Y,oa+Va),We(Y,oa)):(Oc.add(Y+Oa,oa+Va),ie(Y,oa))},quadraticCurveTo(Y,oa,Oa,Va){const xb=Id*Y+Qd*oa,Sb=
od*Oa+jd*Va;Oa=Id*Oa+Qd*Va;ia(gd,od*Y+jd*oa,Sb,Gf);ia(Mc,xb,Oa,tf);ie(Sb,Oa)},bezierCurveTo(Y,oa,Oa,Va,xb,Sb){const Zb=Id*Y+Qd*oa,qc=Id*Oa+Qd*Va,Ec=od*xb+jd*Sb;xb=Id*xb+Qd*Sb;aa(gd,od*Y+jd*oa,od*Oa+jd*Va,Ec,Gf);aa(Mc,Zb,qc,xb,tf);ie(Ec,xb)},arc(Y,oa,Oa,Va,xb,Sb){Va+=Nd;xb+=Nd;gd=Oa*Math.cos(xb)+Y;Mc=Oa*Math.sin(xb)+oa;if(Math.abs(xb-Va)>$b)Oc.add(Y-Oa,oa-Oa),Oc.add(Y+Oa,oa+Oa);else{const Zb=Ec=>Oc.add(Oa*Math.cos(Ec)+Y,Oa*Math.sin(Ec)+oa);let qc;Zb(Va);Zb(xb);if(xb!==Va)if(Va%=Gc,0>Va&&(Va+=Gc),xb%=
Gc,0>xb&&(xb+=Gc),xb<Va&&(Sb=!Sb,qc=Va,Va=xb,xb=qc),Sb)for(xb-=Gc,qc=Va-Va%Xf,Va=0;4>Va&&qc>xb;++Va,qc-=Xf)Zb(qc);else for(qc=Va-Va%Xf+Xf,Va=0;4>Va&&qc<xb;++Va,qc+=Xf)Zb(qc)}}};var mf=(mf=N.canvas(1,1))?mf.getContext("2d"):null;const Zf=new ha;var yf=[],Pe=Ga("arc",function(Y,oa){return qe.context(Y)(oa)}),nf=pa("area",function(Y,oa){const Oa=oa[0];return("horizontal"===Oa.orient?wa:yc).curve(g(Oa.interpolate||"linear",Oa.orient,Oa.tension)).context(Y)(oa)},function(Y,oa){oa="horizontal"===Y[0].orient?
oa[1]:oa[0];for(var Oa="horizontal"===Y[0].orient?"y":"x",Va=Y.length,xb=Infinity,Sb,Zb;0<=--Va;)!1!==Y[Va].defined&&(Zb=Math.abs(Y[Va][Oa]-oa),Zb<xb&&(xb=Zb,Sb=Y[Va]));return Sb});const Aa=$a(jb),Pa=$a(jb,!1),vb=$a(jb,!0);var Wb={type:"group",tag:"g",nested:!1,attr:function(Y,oa){Y("transform",Ca(oa.x||0,oa.y||0))},bound:function(Y,oa){if(!oa.clip&&oa.items){const Oa=oa.items,Va=Oa.length;for(let xb=0;xb<Va;++xb)Y.union(Oa[xb].bounds)}(oa.clip||oa.width||oa.height)&&!oa.noBound&&Y.add(0,0).add(oa.width||
0,oa.height||0);C(Y,oa);return Y.translate(oa.x||0,oa.y||0)},draw:function(Y,oa,Oa){ra(oa,Va=>{const xb=Va.x||0,Sb=Va.y||0,Zb=Va.strokeForeground,qc=null==Va.opacity?1:Va.opacity;(Va.stroke||Va.fill)&&qc&&(jb(Y,Va,xb,Sb),Ta(Y,Va),Va.fill&&U(Y,Va,qc)&&Y.fill(),Va.stroke&&!Zb&&W(Y,Va,qc)&&Y.stroke());Y.save();Y.translate(xb,Sb);Va.clip&&Ha(Y,Va);Oa&&Oa.translate(-xb,-Sb);ra(Va,Ec=>{this.draw(Y,Ec,Oa)});Oa&&Oa.translate(xb,Sb);Y.restore();Zb&&Va.stroke&&qc&&(jb(Y,Va,xb,Sb),Ta(Y,Va),W(Y,Va,qc)&&Y.stroke())})},
pick:function(Y,oa,Oa,Va,xb,Sb){if(oa.bounds&&!oa.bounds.contains(xb,Sb)||!oa.items)return null;const Zb=Oa*Y.pixelRatio,qc=Va*Y.pixelRatio;return qa(oa,Ec=>{let ed,Zc;var Pd=Ec.bounds;if(!Pd||Pd.contains(xb,Sb)){ed=Ec.x||0;Zc=Ec.y||0;Pd=ed+(Ec.width||0);var be=Zc+(Ec.height||0),pd=Ec.clip;if(!pd||!(xb<ed||xb>Pd||Sb<Zc||Sb>be)){Y.save();Y.translate(ed,Zc);ed=xb-ed;Zc=Sb-Zc;if(pd&&T(Ec)&&!vb(Y,Ec,Zb,qc))return Y.restore(),null;be=Ec.strokeForeground;if((pd=!1!==oa.interactive)&&be&&Ec.stroke&&Pa(Y,
Ec,Zb,qc))return Y.restore(),Ec;Pd=qa(Ec,Ad=>(!1!==Ad.interactive||"group"===Ad.marktype)&&Ad.bounds&&Ad.bounds.contains(ed,Zc)?this.pick(Ad,Oa,Va,ed,Zc):null);!Pd&&pd&&(Ec.fill||!be&&Ec.stroke)&&Aa(Y,Ec,Zb,qc)&&(Pd=Ec);Y.restore();return Pd||null}}})},isect:bb,content:function(Y,oa,Oa){oa=oa.clip?fa(Oa,oa,oa):null;Y("clip-path",oa)},background:function(Y,oa){Y("class","background");Y("aria-hidden",!0);{const Oa=Ua(oa);Y("d",ja(null,oa,Oa,Oa))}},foreground:function(Y,oa){Y("class","foreground");Y("aria-hidden",
!0);if(oa.strokeForeground){{const Oa=Ua(oa);Y("d",ja(null,oa,Oa,Oa))}}else Y("d","")}},Tb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ic={type:"image",tag:"image",nested:!1,attr:function(Y,oa,Oa){var Va=Fb(oa,Oa);Oa=Xb(oa,Va);const xb=nc(oa,Va),Sb=(oa.x||0)-md(oa.align,Oa),Zb=(oa.y||0)-pc(oa.baseline,xb);Va=!Va.src&&Va.toDataURL?Va.toDataURL():Va.src||"";Y("href",Va,Tb["xmlns:xlink"],"xlink:href");Y("transform",Ca(Sb,Zb));Y("width",Oa);Y("height",
xb);Y("preserveAspectRatio",!1===oa.aspect?"none":"xMidYMid")},bound:function(Y,oa){var Oa=oa.image;const Va=Xb(oa,Oa);Oa=nc(oa,Oa);const xb=(oa.x||0)-md(oa.align,Va);oa=(oa.y||0)-pc(oa.baseline,Oa);return Y.set(xb,oa,xb+Va,oa+Oa)},draw:function(Y,oa,Oa){ra(oa,Va=>{if(!Oa||Oa.intersects(Va.bounds)){var xb=Fb(Va,this),Sb=Xb(Va,xb),Zb=nc(Va,xb),qc=(Va.x||0)-md(Va.align,Sb),Ec=(Va.y||0)-pc(Va.baseline,Zb),ed;if(!1!==Va.aspect){var Zc=xb.width/xb.height;var Pd=Va.width/Va.height;Zc===Zc&&Pd===Pd&&Zc!==
Pd&&(Pd<Zc?(Zc=Sb/Zc,Ec+=(Zb-Zc)/2,Zb=Zc):(Zc*=Zb,qc+=(Sb-Zc)/2,Sb=Zc))}if(xb.complete||xb.toDataURL)Ta(Y,Va),Y.globalAlpha=null!=(ed=Va.opacity)?ed:1,Y.imageSmoothingEnabled=!1!==Va.smooth,Y.drawImage(xb,qc,Ec,Sb,Zb)}})},pick:db(),isect:l.truthy,get:Fb,xOffset:md,yOffset:pc},oc=pa("line",function(Y,oa){const Oa=oa[0];return Ea.curve(g(Oa.interpolate||"linear",Oa.orient,Oa.tension)).context(Y)(oa)},function(Y,oa){for(var Oa=Math.pow(Y[0].strokeWidth||1,2),Va=Y.length,xb,Sb;0<=--Va;)if(!1!==Y[Va].defined&&
(xb=Y[Va].x-oa[0],Sb=Y[Va].y-oa[1],xb=xb*xb+Sb*Sb,xb<Oa))return Y[Va];return null}),fd={type:"path",tag:"path",nested:!1,attr:function(Y,oa){var Oa=oa.scaleY||1;1===(oa.scaleX||1)&&1===Oa||Y("vector-effect","non-scaling-stroke");Oa=Ca(oa.x||0,oa.y||0)+(oa.angle?" rotate("+(oa.angle+")"):"")+(oa.scaleX||oa.scaleY?" scale("+((oa.scaleX||1)+","+(oa.scaleY||1)+")"):"");Y("transform",Oa);Y("d",oa.path)},bound:function(Y,oa){return Hc(V(Y,oa.angle),oa)?Y.set(0,0,0,0):C(Y,oa,!0)},draw:Fa(Hc),pick:db($a(Hc)),
isect:va(Hc)},Wc={type:"rect",tag:"path",nested:!1,attr:function(Y,oa){Y("d",ja(null,oa))},bound:function(Y,oa){var Oa,Va;return C(Y.set(Oa=oa.x||0,Va=oa.y||0,Oa+oa.width||0,Va+oa.height||0),oa)},draw:Fa(mb),pick:db($a(mb)),isect:bb},nd={type:"rule",tag:"line",nested:!1,attr:function(Y,oa){Y("transform",Ca(oa.x||0,oa.y||0));Y("x2",null!=oa.x2?oa.x2-(oa.x||0):0);Y("y2",null!=oa.y2?oa.y2-(oa.y||0):0)},bound:function(Y,oa){var Oa,Va;return C(Y.set(Oa=oa.x||0,Va=oa.y||0,null!=oa.x2?oa.x2:Oa,null!=oa.y2?
oa.y2:Va),oa)},draw:function(Y,oa,Oa){ra(oa,Va=>{if(!Oa||Oa.intersects(Va.bounds)){var xb=null==Va.opacity?1:Va.opacity;xb&&hc(Y,Va,xb)&&(Ta(Y,Va),Y.stroke())}})},pick:db(function(Y,oa,Oa,Va){return Y.isPointInStroke?hc(Y,oa,1)&&Y.isPointInStroke(Oa,Va):!1}),isect:kb},Kd=Ga("shape",function(Y,oa){return(oa.mark.shape||oa.shape).context(Y)(oa)}),de=Ga("symbol",function(Y,oa){return Cb.context(Y)(oa)},Ia);const je=l.lruCache();var Gd={height:Uc,measureWidth:Pc,estimateWidth:rc,width:rc,canvas:jc};jc(!0);
const Le={left:"start",center:"middle",right:"end"},$d=new ha;var Ie={type:"text",tag:"text",nested:!1,attr:function(Y,oa){var Oa=oa.dx||0,Va=(oa.dy||0)+Wd(oa),xb=Pb(oa),Sb=xb.x1;xb=xb.y1;var Zb=oa.angle||0;Y("text-anchor",Le[oa.align]||"start");if(Zb){if(oa=Ca(Sb,xb)+" rotate("+(Zb+")"),Oa||Va)oa+=" "+Ca(Oa,Va)}else oa=Ca(Sb+Oa,xb+Va);Y("transform",oa)},bound:gc,draw:function(Y,oa,Oa){ra(oa,Va=>{var xb=null==Va.opacity?1:Va.opacity,Sb;if(!(Oa&&!Oa.intersects(Va.bounds)||0===xb||0>=Va.fontSize||null==
Va.text||0===Va.text.length)){Y.font=vd(Va);Y.textAlign=Va.align||"left";var Zb=Pb(Va);var qc=Zb.x1;Zb=Zb.y1;Va.angle&&(Y.save(),Y.translate(qc,Zb),Y.rotate(Va.angle*Ye),qc=Zb=0);qc+=Va.dx||0;Zb+=(Va.dy||0)+Wd(Va);var Ec=Lc(Va);Ta(Y,Va);if(l.isArray(Ec)){var ed=Sc(Va);for(Sb=0;Sb<Ec.length;++Sb){var Zc=Fd(Va,Ec[Sb]);Va.fill&&U(Y,Va,xb)&&Y.fillText(Zc,qc,Zb);Va.stroke&&W(Y,Va,xb)&&Y.strokeText(Zc,qc,Zb);Zb+=ed}}else Zc=Fd(Va,Ec),Va.fill&&U(Y,Va,xb)&&Y.fillText(Zc,qc,Zb),Va.stroke&&W(Y,Va,xb)&&Y.strokeText(Zc,
qc,Zb);Va.angle&&Y.restore()}})},pick:db(function(Y,oa,Oa,Va,xb,Sb){if(0>=oa.fontSize)return!1;if(!oa.angle)return!0;Oa=Pb(oa);Y=Oa.x1;Oa=Oa.y1;Va=gc($d,oa,1);var Zb=-oa.angle*Ye;oa=Math.cos(Zb);Zb=Math.sin(Zb);return Va.contains(oa*xb-Zb*Sb+(Y-oa*Y+Zb*Oa),Zb*xb+oa*Sb+(Oa-Zb*Y-oa*Oa))}),isect:function(Y,oa){Y=gc($d,Y,2);return ua(oa,Y[0],Y[1],Y[2],Y[3])||ua(oa,Y[0],Y[1],Y[4],Y[5])||ua(oa,Y[4],Y[5],Y[6],Y[7])||ua(oa,Y[2],Y[3],Y[6],Y[7])}},Ce=pa("trail",function(Y,oa){return ub.context(Y)(oa)},function(Y,
oa){for(var Oa=Y.length,Va,xb;0<=--Oa;)if(!1!==Y[Oa].defined&&(Va=Y[Oa].x-oa[0],xb=Y[Oa].y-oa[1],xb=Va*Va+xb*xb,Va=Y[Oa].size||1,xb<Va*Va))return Y[Oa];return null}),Qe={arc:Pe,area:nf,group:Wb,image:ic,line:oc,path:fd,rect:Wc,rule:nd,shape:Kd,symbol:de,text:Ie,trail:Ce},Uf={mark:null};const ne="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Ka.prototype={toJSON(Y){return Vc(this.root,Y||0)},mark(Y,oa,Oa){oa=oa||this.root.items[0];Y=eb(Y,oa);oa.items[Oa]=Y;Y.zindex&&(Y.group.zdirty=!0);return Y}};pb.prototype={initialize(Y,oa,Oa){this._el=Y;this._obj=Oa||null;return this.origin(oa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(Y){return arguments.length?(this._origin=Y||[0,0],this):this._origin.slice()},scene(Y){if(!arguments.length)return this._scene;this._scene=Y;return this},on(){},off(){},_handlerIndex(Y,
oa,Oa){for(let Va=Y?Y.length:0;0<=--Va;)if(Y[Va].type===oa&&(!Oa||Y[Va].handler===Oa))return Va;return-1},handlers(Y){const oa=this._handlers,Oa=[];if(Y)Oa.push(...oa[this.eventName(Y)]);else for(const Va in oa)Oa.push(...oa[Va]);return Oa},eventName(Y){const oa=Y.indexOf(".");return 0>oa?Y:Y.slice(0,oa)},handleHref(Y,oa,Oa){this._loader.sanitize(Oa,{context:"href"}).then(Va=>{const xb=new MouseEvent(Y.type,Y),Sb=wb(null,"a");for(const Zb in Va)Sb.setAttribute(Zb,Va[Zb]);Sb.dispatchEvent(xb)}).catch(()=>
{})},handleTooltip(Y,oa,Oa){if(oa&&null!=oa.tooltip){var Va=this.canvas(),xb=this._origin,Sb=oa&&oa.mark,Zb;if(Sb&&(Zb=Qe[Sb.marktype]).tip){Va=tc(Y,Va);Va[0]-=xb[0];for(Va[1]-=xb[1];oa=oa.mark.group;)Va[0]-=oa.x||0,Va[1]-=oa.y||0;oa=Zb.tip(Sb.items,Va)}this._tooltip.call(this._obj,this,Y,oa,Oa&&oa&&oa.tooltip||null)}},getItemBoundingClientRect(Y){var oa=this.canvas();if(oa){var Oa=oa.getBoundingClientRect(),Va=this._origin,xb=Y.bounds;oa=xb.width();var Sb=xb.height(),Zb=xb.x1+Va[0]+Oa.left;for(Oa=
xb.y1+Va[1]+Oa.top;Y.mark&&(Y=Y.mark.group);)Zb+=Y.x||0,Oa+=Y.y||0;return{x:Zb,y:Oa,width:oa,height:Sb,left:Zb,top:Oa,right:Zb+oa,bottom:Oa+Sb}}}};Ub.prototype={initialize(Y,oa,Oa,Va,xb){this._el=Y;return this.resize(oa,Oa,Va,xb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(Y){if(0===arguments.length)return this._bgcolor;this._bgcolor=Y;return this},resize(Y,oa,Oa,Va){this._width=Y;this._height=oa;this._origin=Oa||[0,0];this._scale=Va||1;return this},dirty(){},
render(Y){const oa=this;oa._call=function(){oa._render(Y)};oa._call();oa._call=null;return oa},_render(){},renderAsync(Y){const oa=this.render(Y);return this._ready?this._ready.then(()=>oa):Promise.resolve(oa)},_load(Y,oa){var Oa=this;Y=Oa._loader[Y](oa);if(!Oa._ready){const Va=Oa._call;Oa._ready=Oa._loader.ready().then(xb=>{xb&&Va();Oa._ready=null})}return Y},sanitizeURL(Y){return this._load("sanitizeURL",Y)},loadImage(Y){return this._load("loadImage",Y)}};l.inherits(mc,pb,{initialize(Y,oa,Oa){this._canvas=
Y&&Hb(Y,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(Va=>Bc(this,Va));return pb.prototype.initialize.call(this,Y,oa,Oa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(Y){this.fire("mousewheel",Y)},mousemove:Xc("mousemove","mouseover","mouseout"),
dragover:Xc("dragover","dragenter","dragleave"),mouseout:Qb("mouseout"),dragleave:Qb("dragleave"),mousedown(Y){this._down=this._active;this.fire("mousedown",Y)},click(Y){this._down===this._active&&(this.fire("click",Y),this._down=null)},touchstart(Y){this._touch=this.pickEvent(Y.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",Y,!0)},touchmove(Y){this.fire("touchmove",Y,!0)},touchend(Y){this.fire("touchend",Y,!0);this._touch=null},fire(Y,oa,Oa){Oa=Oa?
this._touch:this._active;const Va=this._handlers[Y];oa.vegaType=Y;"click"===Y&&Oa&&Oa.href?this.handleHref(oa,Oa,Oa.href):("mousemove"===Y||"mouseout"===Y)&&this.handleTooltip(oa,Oa,"mouseout"!==Y);if(Va)for(let xb=0,Sb=Va.length;xb<Sb;++xb)Va[xb].handler.call(this._obj,oa,Oa)},on(Y,oa){const Oa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Oa],Y,oa)&&(Bc(this,Y),(Va[Oa]||(Va[Oa]=[])).push({type:Y,handler:oa}));return this},off(Y,oa){var Oa=this.eventName(Y);Oa=this._handlers[Oa];Y=
this._handlerIndex(Oa,Y,oa);0<=Y&&Oa.splice(Y,1);return this},pickEvent(Y){Y=tc(Y,this._canvas);const oa=this._origin;return this.pick(this._scene,Y[0],Y[1],Y[0]-oa[0],Y[1]-oa[1])},pick(Y,oa,Oa,Va,xb){const Sb=this.context();return Qe[Y.marktype].pick.call(this,Sb,Y,oa,Oa,Va,xb)}});var sf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Cf=Ub.prototype;l.inherits(Ic,Ub,{initialize(Y,oa,Oa,Va,xb,Sb){this._options=Sb||{};this._canvas=this._options.externalContext?null:N.canvas(1,1,this._options.type);
Y&&this._canvas&&(Lb(Y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Cf.initialize.call(this,Y,oa,Oa,Va,xb)},resize(Y,oa,Oa,Va){Cf.resize.call(this,Y,oa,Oa,Va);if(this._canvas){{Y=this._canvas;oa=this._width;Oa=this._height;Va=this._origin;var xb=this._scale,Sb=this._options.context;const qc="undefined"!==typeof HTMLElement&&Y instanceof HTMLElement&&null!=Y.parentNode,Ec=Y.getContext("2d");xb=qc?sf:xb;Y.width=oa*xb;Y.height=Oa*xb;for(var Zb in Sb)Ec[Zb]=Sb[Zb];qc&&
1!==xb&&(Y.style.width=oa+"px",Y.style.height=Oa+"px");Ec.pixelRatio=xb;Ec.setTransform(xb,0,0,xb,xb*Va[0],xb*Va[1])}}else(Zb=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),Zb.scale(this._scale,this._scale),Zb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(Y){const oa=this._tempb.clear().union(Y.bounds);
for(Y=Y.mark.group;Y;)oa.translate(Y.x||0,Y.y||0),Y=Y.mark.group;this._dirty.union(oa)},_render(Y){const oa=this.context(),Oa=this._origin,Va=this._width,xb=this._height,Sb=this._dirty;var Zb=(new ha).set(0,0,Va,xb).translate(-Oa[0],-Oa[1]);oa.save();this._redraw||Sb.empty()?Zb=(this._redraw=!1,Zb.expand(1)):(Zb=Zb.intersect(Sb),Zb.expand(1).round(),oa.pixelRatio%1&&Zb.scale(oa.pixelRatio).round().scale(1/oa.pixelRatio),Zb.translate(-(Oa[0]%1),-(Oa[1]%1)),oa.beginPath(),oa.rect(Zb.x1,Zb.y1,Zb.width(),
Zb.height()),oa.clip());this.clear(-Oa[0],-Oa[1],Va,xb);this.draw(oa,Y,Zb);oa.restore();Sb.clear();return this},draw(Y,oa,Oa){const Va=Qe[oa.marktype];if(oa.clip){var xb=oa.clip;Y.save();l.isFunction(xb)?(Y.beginPath(),xb(Y),Y.clip()):Ha(Y,oa.group)}Va.draw.call(this,Y,oa,Oa);oa.clip&&Y.restore()},clear(Y,oa,Oa,Va){const xb=this._options,Sb=this.context();"pdf"===xb.type||xb.externalContext||Sb.clearRect(Y,oa,Oa,Va);null!=this._bgcolor&&(Sb.fillStyle=this._bgcolor,Sb.fillRect(Y,oa,Oa,Va))}});const Bg=
(Y,oa)=>Oa=>{let Va=Oa.target.__data__;Va=Array.isArray(Va)?Va[0]:Va;Oa.vegaType=Oa.type;oa.call(Y._obj,Oa,Va)};l.inherits(Dc,pb,{initialize(Y,oa,Oa){let Va=this._svg;Va&&(Va.removeEventListener("click",this._hrefHandler),Va.removeEventListener("mousemove",this._tooltipHandler),Va.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=Va=Y&&Hb(Y,"svg"))Va.addEventListener("click",this._hrefHandler),Va.addEventListener("mousemove",this._tooltipHandler),Va.addEventListener("mouseout",this._tooltipHandler);
return pb.prototype.initialize.call(this,Y,oa,Oa)},canvas(){return this._svg},on(Y,oa){const Oa=this.eventName(Y),Va=this._handlers;0>this._handlerIndex(Va[Oa],Y,oa)&&(Y={type:Y,handler:oa,listener:Bg(this,oa)},(Va[Oa]||(Va[Oa]=[])).push(Y),this._svg&&this._svg.addEventListener(Oa,Y.listener));return this},off(Y,oa){const Oa=this.eventName(Y),Va=this._handlers[Oa];Y=this._handlerIndex(Va,Y,oa);0<=Y&&(this._svg&&this._svg.removeEventListener(Oa,Va[Y].listener),Va.splice(Y,1));return this}});const Lf=
(Y,oa,Oa)=>({["role"]:Y,["aria-roledescription"]:oa,["aria-label"]:Oa||void 0}),jg=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),xa={axis:{desc:"axis",caption:function(Y){var oa=Y.datum;const Oa=Y.orient,Va=oa.title?Cd(Y):null;var xb=Y.context;oa=xb.scales[oa.scale].value;xb=xb.dataflow.locale();const Sb=oa.type;return`${"left"===Oa||"right"===Oa?"Y":"X"}-axis`+(Va?` titled '${Va}'`:
"")+` for a ${v.isDiscrete(Sb)?"discrete":Sb} scale`+` with ${v.domainCaption(xb,oa,Y)}`}},legend:{desc:"legend",caption:function(Y){var oa=Y.datum;const Oa=oa.title?Cd(Y):null,Va=`${oa.type||""} legend`.trim();var xb=oa.scales;oa=Object.keys(xb);var Sb=Y.context;xb=Sb.scales[xb[oa[0]]].value;Sb=Sb.dataflow.locale();return(Va.length?Va[0].toUpperCase()+Va.slice(1):Va)+(Oa?` titled '${Oa}'`:"")+` for ${Dd(oa)}`+` with ${v.domainCaption(Sb,xb,Y)}`}},"title-text":{desc:"title",caption:Y=>`Title text '${l.array(Y.text).join(" ")}'`},
"title-subtitle":{desc:"subtitle",caption:Y=>`Subtitle text '${l.array(Y.text).join(" ")}'`}},za={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Na=Y=>(Y+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Sa=Y=>ae(Ud(),Y)+"",fb={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",
strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},hb={fill:"none","stroke-miterlimit":10},qb=Tb.xmlns,Db=Ub.prototype;l.inherits(oe,Ub,{initialize(Y,oa,Oa,Va,xb){this._defs={};this._clearDefs();Y&&(this._svg=ac(Y,0,"svg",qb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",qb),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Tb["xmlns:xlink"]),this._svg.setAttribute("version",Tb.version),this._svg.setAttribute("class","marks"),Lb(Y,
1),this._root=ac(this._svg,0,"g",qb),Zd(this._root,hb),Lb(this._svg,1));this.background(this._bgcolor);return Db.initialize.call(this,Y,oa,Oa,Va,xb)},background(Y){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",Y);return Db.background.apply(this,arguments)},resize(Y,oa,Oa,Va){Db.resize.call(this,Y,oa,Oa,Va);this._svg&&(Zd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",
`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const Y=this._svg,oa=this._bgcolor;if(!Y)return null;let Oa;oa&&(Y.removeAttribute("style"),Oa=ac(Y,0,"rect",qb),Zd(Oa,{width:this._width,height:this._height,fill:oa}));const Va=Sa(Y);oa&&(Y.removeChild(Oa),this._svg.style.setProperty("background-color",oa));return Va},_render(Y){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,Y),Lb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;
return this},dirty(Y){Y.dirty!==this._dirtyID&&(Y.dirty=this._dirtyID,this._dirty.push(Y))},isDirty(Y){return this._dirtyAll||!Y._svg||Y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const Y=this._dirty;if(!Y.length||!this._dirtyID)return!0;const oa=++this._dirtyID;let Oa;let Va,xb,Sb,Zb;Sb=0;for(Zb=Y.length;Sb<Zb;++Sb){Oa=Y[Sb];var qc=Oa.mark;qc.marktype!==Va&&(Va=qc.marktype,xb=Qe[Va]);qc.zdirty&&qc.dirty!==oa&&(this._dirtyAll=!1,De(Oa,oa),qc.items.forEach(Ec=>{Ec.dirty=oa}));qc.zdirty||
(Oa.exit?(xb.nested&&qc.items.length?(qc=qc.items[0],qc._svg&&this._update(xb,qc._svg,qc)):Oa._svg&&(qc=Oa._svg.parentNode)&&qc.removeChild(Oa._svg),Oa._svg=null):(Oa=xb.nested?qc.items[0]:Oa,Oa._update!==oa&&(Oa._svg&&Oa._svg.ownerSVGElement?this._update(xb,Oa._svg,Oa):(this._dirtyAll=!1,De(Oa,oa)),Oa._update=oa)))}return!this._dirtyAll},mark(Y,oa,Oa){if(!this.isDirty(oa))return oa._svg;const Va=this._svg,xb=Qe[oa.marktype];var Sb=!1===oa.interactive?"none":null;const Zb="g"===xb.tag;let qc=null,
Ec=0;const ed=ef(oa,Y,Oa,"g",Va);ed.setAttribute("class",Ac(oa));Y=Tc(oa);for(const Zc in Y)he(ed,Zc,Y[Zc]);Zb||he(ed,"pointer-events",Sb);he(ed,"clip-path",oa.clip?fa(this,oa,oa.group):null);Sb=Zc=>{const Pd=this.isDirty(Zc),be=ef(Zc,ed,qc,xb.tag,Va);Pd&&(this._update(xb,be,Zc),Zb&&fe(this,be,Zc));qc=be;++Ec};xb.nested?oa.items.length&&Sb(oa.items[0]):ra(oa,Sb);Lb(ed,Ec);return ed},_update(Y,oa,Oa){Ab=oa;Kb=oa.__values__;uc(Ze,Oa);Y.attr(Ze,Oa,this);const Va=Jb[Y.type];Va&&Va.call(this,Y,oa,Oa);
Ab&&this.style(Ab,Oa)},style(Y,oa){if(null!=oa)for(const Oa in fb){let Va="font"===Oa?wd(oa):oa[Oa];if(Va===Kb[Oa])continue;const xb=fb[Oa];null==Va?Y.removeAttribute(xb):(Va&&Va.gradient&&(Va=u(Va,this._defs.gradient,zf())),Y.setAttribute(xb,Va+""));Kb[Oa]=Va}},defs(){const Y=this._svg,oa=this._defs;let Oa=oa.el;var Va=0;for(var xb in oa.gradient){Oa||(oa.el=Oa=ac(Y,1,"defs",qb));{var Sb=void 0;let Ec,ed;var Zb=Oa,qc=oa.gradient[xb];"radial"===qc.gradient?(Sb=ac(Zb,Va++,"pattern",qb),Zd(Sb,{id:"p_"+
qc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Sb=ac(Sb,0,"rect",qb),Zd(Sb,{width:1,height:1,fill:`url(${zf()}#${qc.id})`}),Zb=ac(Zb,Va++,"radialGradient",qb),Zd(Zb,{id:qc.id,fx:qc.x1,fy:qc.y1,fr:qc.r1,cx:qc.x2,cy:qc.y2,r:qc.r2})):(Zb=ac(Zb,Va++,"linearGradient",qb),Zd(Zb,{id:qc.id,x1:qc.x1,x2:qc.x2,y1:qc.y1,y2:qc.y2}));ed=0;for(Ec=qc.stops.length;ed<Ec;++ed)Sb=ac(Zb,ed,"stop",qb),Sb.setAttribute("offset",qc.stops[ed].offset),Sb.setAttribute("stop-color",
qc.stops[ed].color);Lb(Zb,ed)}}for(const Ec in oa.clipping)Oa||(oa.el=Oa=ac(Y,1,"defs",qb)),Zb=Oa,qc=oa.clipping[Ec],xb=Va,Zb=ac(Zb,xb,"clipPath",qb),Zb.setAttribute("id",qc.id),qc.path?(Va=ac(Zb,0,"path",qb),Va.setAttribute("d",qc.path)):(Va=ac(Zb,0,"rect",qb),Zd(Va,{x:0,y:0,width:qc.width,height:qc.height})),Lb(Zb,1),Va=xb+1;Oa&&(0===Va?(Y.removeChild(Oa),oa.el=null):Lb(Oa,Va))},_clearDefs(){const Y=this._defs;Y.gradient={};Y.clipping={}}});let Ab=null,Kb=null;const Jb={group(Y,oa,Oa){const Va=
Ab=oa.childNodes[2];Kb=Va.__values__;Y.foreground(Ze,Oa,this);Kb=oa.__values__;Ab=oa.childNodes[1];Y.content(Ze,Oa,this);oa=Ab=oa.childNodes[0];Y.background(Ze,Oa,this);Y=!1===Oa.mark.interactive?"none":null;Y!==Kb.events&&(he(Va,"pointer-events",Y),he(oa,"pointer-events",Y),Kb.events=Y);Oa.strokeForeground&&Oa.stroke?(Y=Oa.fill,he(Va,"display",null),this.style(oa,Oa),he(oa,"stroke",null),Y&&(Oa.fill=null),Kb=Va.__values__,this.style(Va,Oa),Y&&(Oa.fill=Y),Ab=null):he(Va,"display","none")},image(Y,
oa,Oa){!1===Oa.smooth?(df(oa,"image-rendering","optimizeSpeed"),df(oa,"image-rendering","pixelated")):df(oa,"image-rendering",null)},text(Y,oa,Oa){Y=Lc(Oa);let Va,xb,Sb;l.isArray(Y)?(Va=Y.map(Zb=>Fd(Oa,Zb)),Y=Va.join("\n"),Y!==Kb.text&&(Lb(oa,0),xb=oa.ownerDocument,Sb=Sc(Oa),Va.forEach((Zb,qc)=>{const Ec=wb(xb,"tspan",qb);Ec.__data__=Oa;Ec.textContent=Zb;qc&&(Ec.setAttribute("x",0),Ec.setAttribute("dy",Sb));oa.appendChild(Ec)}),Kb.text=Y)):(Va=Fd(Oa,Y),Va!==Kb.text&&(oa.textContent=Va,Kb.text=Va));
he(oa,"font-family",wd(Oa));he(oa,"font-size",Uc(Oa)+"px");he(oa,"font-style",Oa.fontStyle);he(oa,"font-variant",Oa.fontVariant);he(oa,"font-weight",Oa.fontWeight)}};l.inherits(Ue,Ub,{svg(){return this._text},_render(Y){const oa=Ud();oa.open("svg",l.extend({},Tb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const Oa=this._bgcolor;Oa&&"transparent"!==Oa&&"none"!==Oa&&oa.open("rect",{width:this._width,height:this._height,
fill:Oa}).close();oa.open("g",hb,{transform:"translate("+this._origin+")"});this.mark(oa,Y);oa.close();this.defs(oa);this._text=oa.close()+"";return this},mark(Y,oa){const Oa=Qe[oa.marktype],Va=Oa.tag,xb=[uc,Oa.attr];Y.open("g",{"class":Ac(oa),"clip-path":oa.clip?fa(this,oa,oa.group):null},Tc(oa),{"pointer-events":"g"!==Va&&!1===oa.interactive?"none":null});const Sb=Zb=>{const qc=this.href(Zb);qc&&Y.open("a",qc);Y.open(Va,this.attr(oa,Zb,xb,"g"!==Va?Va:null));if("text"===Va){var Ec=Lc(Zb);if(l.isArray(Ec)){var ed=
{x:0,dy:Sc(Zb)};for(var Zc=0;Zc<Ec.length;++Zc)Y.open("tspan",Zc?ed:null).text(Fd(Zb,Ec[Zc])).close()}else Y.text(Fd(Zb,Ec))}else"g"===Va&&(Ec=Zb.strokeForeground,ed=Zb.fill,Zc=Zb.stroke,Ec&&Zc&&(Zb.stroke=null),Y.open("path",this.attr(oa,Zb,Oa.background,"bgrect")).close(),Y.open("g",this.attr(oa,Zb,Oa.content)),ra(Zb,Pd=>this.mark(Y,Pd)),Y.close(),Ec&&Zc?(ed&&(Zb.fill=null),Zb.stroke=Zc,Y.open("path",this.attr(oa,Zb,Oa.foreground,"bgrect")).close(),ed&&(Zb.fill=ed)):Y.open("path",this.attr(oa,Zb,
Oa.foreground,"bgfore")).close());Y.close();qc&&Y.close()};Oa.nested?oa.items&&oa.items.length&&Sb(oa.items[0]):ra(oa,Sb);return Y.close()},href(Y){const oa=Y.href;if(oa){if(Y=this._hrefs&&this._hrefs[oa])return Y;this.sanitizeURL(oa).then(Oa=>{Oa["xlink:href"]=Oa.href;Oa.href=null;(this._hrefs||(this._hrefs={}))[oa]=Oa})}return null},attr(Y,oa,Oa,Va){const xb={},Sb=(Zb,qc,Ec,ed)=>{xb[ed||Zb]=qc};Array.isArray(Oa)?Oa.forEach(Zb=>Zb(Sb,oa,this)):Oa(Sb,oa,this);Va&&Nf(xb,oa,Y,Va,this._defs);return xb},
defs(Y){var oa=this._defs.gradient;const Oa=this._defs.clipping;if(0!==Object.keys(oa).length+Object.keys(Oa).length){Y.open("defs");for(const xb in oa){var Va=oa[xb];const Sb=Va.stops;"radial"===Va.gradient?(Y.open("pattern",{id:"p_"+xb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Y.open("rect",{width:"1",height:"1",fill:"url(#"+xb+")"}).close(),Y.close(),Y.open("radialGradient",{id:xb,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):Y.open("linearGradient",
{id:xb,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2});for(Va=0;Va<Sb.length;++Va)Y.open("stop",{offset:Sb[Va].offset,"stop-color":Sb[Va].color}).close();Y.close()}for(const xb in Oa)oa=Oa[xb],Y.open("clipPath",{id:xb}),oa.path?Y.open("path",{d:oa.path}).close():Y.open("rect",{x:0,y:0,width:oa.width,height:oa.height}).close(),Y.close();Y.close()}}});const cc={};cc.canvas=cc.png={renderer:Ic,headless:Ic,handler:mc};cc.svg={renderer:oe,headless:Ue,handler:Dc};cc.none={};const xc=new ha;k.Bounds=ha;k.CanvasHandler=
mc;k.CanvasRenderer=Ic;k.Gradient=function(Y,oa){var Oa=[],Va;return Va={gradient:"linear",x1:Y?Y[0]:0,y1:Y?Y[1]:0,x2:oa?oa[0]:1,y2:oa?oa[1]:0,stops:Oa,stop:function(xb,Sb){Oa.push({offset:xb,color:Sb});return Va}}};k.GroupItem=Z;k.Handler=pb;k.Item=la;k.Marks=Qe;k.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};k.Renderer=Ub;k.ResourceLoader=P;k.SVGHandler=Dc;k.SVGRenderer=oe;k.SVGStringRenderer=Ue;k.Scenegraph=Ka;k.boundClip=function(Y){const oa=Y.clip;if(l.isFunction(oa))oa(V(xc.clear()));
else if(oa)xc.set(0,0,Y.group.width,Y.group.height);else return;Y.bounds.intersect(xc)};k.boundContext=V;k.boundItem=Eb;k.boundMark=zc;k.boundStroke=C;k.domChild=ac;k.domClear=Lb;k.domCreate=wb;k.domFind=Hb;k.font=vd;k.fontFamily=wd;k.fontSize=Uc;k.intersect=function(Y,oa,Oa){const Va=[];oa=(new ha).union(oa);const xb=Y.marktype;return xb?me(Y,oa,Oa,Va):"group"===xb?te(Y,oa,Oa,Va):l.error("Intersect scene must be mark node or group item.")};k.intersectBoxLine=ua;k.intersectPath=va;k.intersectPoint=
Ia;k.intersectRule=kb;k.lineHeight=Sc;k.markup=Ud;k.multiLineOffset=function(Y){const oa=Lc(Y);return(l.isArray(oa)?oa.length-1:0)*Sc(Y)};k.pathCurves=g;k.pathEqual=Od;k.pathParse=d;k.pathRectangle=G;k.pathRender=a;k.pathSymbols=n;k.pathTrail=K;k.point=tc;k.renderModule=function(Y,oa){Y=String(Y||"").toLowerCase();return 1<arguments.length?(cc[Y]=oa,this):cc[Y]};k.resetSVGClipId=function(){Yb=1};k.resetSVGDefIds=function(){Yb=1;Be=0};k.sceneEqual=we;k.sceneFromJSON=Ed;k.scenePickVisit=qa;k.sceneToJSON=
Vc;k.sceneVisit=ra;k.sceneZOrder=ca;k.serializeXML=Sa;k.textMetrics=Gd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(36),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(W){l.Transform.call(this,null,W)}function x(W,ba,ca){return ba(W.bounds.clear(),W,ca)}function v(W){l.Transform.call(this,
0,W)}function u(W){return W._signals[":vega_identifier:"]||(W._signals[":vega_identifier:"]=W.add(0))}function m(W){l.Transform.call(this,null,W)}function g(W){const ba=W.groups;W=W.parent;return ba&&1===ba.size?ba.get(Object.keys(ba.object)[0]):ba&&W?ba.lookup(W):null}function d(W){l.Transform.call(this,null,W)}function f(W){l.Transform.call(this,null,W)}function a(W,ba,ca){return W[ba]===ca?0:(W[ba]=ca,1)}function e(W){W=W.items[0].orient;return"left"===W||"right"===W}function n(W,ba,ca,ra){ba=
ba.items[0];var qa=ba.datum,Fa=null!=ba.translate?ba.translate:.5,na=ba.orient,Ra=+qa.grid;var db=[qa.ticks?Ra++:-1,qa.labels?Ra++:-1,Ra+ +qa.domain];Ra=ba.range;var $a=ba.offset,Ca=ba.position,Ga=ba.minExtent,pa=ba.maxExtent;qa=qa.title&&ba.items[db[2]].items[0];var Ha=ba.titlePadding,Ua=ba.bounds,jb=qa&&w.multiLineOffset(qa),Fb;Da.clear().union(Ua);Ua.clear();-1<(Fb=db[0])&&Ua.union(ba.items[Fb].bounds);-1<(Fb=db[1])&&Ua.union(ba.items[Fb].bounds);switch(na){case "top":ca=Ca||0;ra=-$a;Ga=Math.max(Ga,
Math.min(pa,-Ua.y1));Ua.add(0,-Ga).add(Ra,0);qa&&y(W,qa,Ga,Ha,jb,0,-1,Ua);break;case "left":ca=-$a;ra=Ca||0;Ga=Math.max(Ga,Math.min(pa,-Ua.x1));Ua.add(-Ga,0).add(0,Ra);qa&&y(W,qa,Ga,Ha,jb,1,-1,Ua);break;case "right":ca+=$a;ra=Ca||0;Ga=Math.max(Ga,Math.min(pa,Ua.x2));Ua.add(0,0).add(Ga,Ra);qa&&y(W,qa,Ga,Ha,jb,1,1,Ua);break;case "bottom":ca=Ca||0;ra+=$a;Ga=Math.max(Ga,Math.min(pa,Ua.y2));Ua.add(0,0).add(Ra,Ga);qa&&y(W,qa,Ga,Ha,0,0,1,Ua);break;default:ca=ba.x,ra=ba.y}w.boundStroke(Ua.translate(ca,ra),
ba);a(ba,"x",ca+Fa)|a(ba,"y",ra+Fa)&&(ba.bounds=Da,W.dirty(ba),ba.bounds=Ua,W.dirty(ba));return ba.mark.bounds.clear().union(Ua)}function y(W,ba,ca,ra,qa,Fa,na,Ra){const db=ba.bounds;ba.auto&&(ca=na*(ca+qa+ra),qa=ra=0,W.dirty(ba),Fa?ra=(ba.x||0)-(ba.x=ca):qa=(ba.y||0)-(ba.y=ca),ba.mark.bounds.clear().union(db.translate(-ra,-qa)),W.dirty(ba));Ra.union(db)}function B(W){return(new w.Bounds).set(0,0,W.width||0,W.height||0)}function D(W){const ba=W.bounds.clone();return ba.empty()?ba.set(0,0,0,0):ba.translate(-(W.x||
0),-(W.y||0))}function O(W,ba,ca){W=H.isObject(W)?W[ba]:W;return null!=W?W:void 0!==ca?ca:0}function M(W){return 0>W?Math.ceil(-W):0}function F(W,ba,ca){var ra=!ca.nodirty,qa="flush"===ca.bounds?B:D,Fa=Da.set(0,0,0,0),na=O(ca.align,"column"),Ra=O(ca.align,"row"),db=O(ca.padding,"column"),$a=O(ca.padding,"row"),Ca=ca.columns||ba.length,Ga=0>=Ca?1:Math.ceil(ba.length/Ca),pa=ba.length,Ha=Array(pa),Ua=Array(Ca),jb=0,Fb=Array(pa),Xb=Array(Ga),nc=0,md=Array(pa),pc=Array(pa),Hc=Array(pa),mb,hc,jc;for(mb=
0;mb<Ca;++mb)Ua[mb]=0;for(mb=0;mb<Ga;++mb)Xb[mb]=0;for(mb=0;mb<pa;++mb){var rc=ba[mb];var Pc=Hc[mb]=qa(rc);rc.x=rc.x||0;md[mb]=0;rc.y=rc.y||0;pc[mb]=0;rc=mb%Ca;var sc=~~(mb/Ca);jb=Math.max(jb,hc=Math.ceil(Pc.x2));nc=Math.max(nc,jc=Math.ceil(Pc.y2));Ua[rc]=Math.max(Ua[rc],hc);Xb[sc]=Math.max(Xb[sc],jc);Ha[mb]=db+M(Pc.x1);Fb[mb]=$a+M(Pc.y1);ra&&W.dirty(ba[mb])}for(mb=0;mb<pa;++mb)0===mb%Ca&&(Ha[mb]=0),mb<Ca&&(Fb[mb]=0);if("each"===na)for(rc=1;rc<Ca;++rc){qa=0;for(mb=rc;mb<pa;mb+=Ca)qa<Ha[mb]&&(qa=Ha[mb]);
for(mb=rc;mb<pa;mb+=Ca)Ha[mb]=qa+Ua[rc-1]}else if("all"===na){for(mb=qa=0;mb<pa;++mb)mb%Ca&&qa<Ha[mb]&&(qa=Ha[mb]);for(mb=0;mb<pa;++mb)mb%Ca&&(Ha[mb]=qa+jb)}else for(na=!1,rc=1;rc<Ca;++rc)for(mb=rc;mb<pa;mb+=Ca)Ha[mb]+=Ua[rc-1];if("each"===Ra)for(sc=1;sc<Ga;++sc){qa=0;mb=sc*Ca;for(rc=mb+Ca;mb<rc;++mb)qa<Fb[mb]&&(qa=Fb[mb]);for(mb=sc*Ca;mb<rc;++mb)Fb[mb]=qa+Xb[sc-1]}else if("all"===Ra){qa=0;for(mb=Ca;mb<pa;++mb)qa<Fb[mb]&&(qa=Fb[mb]);for(mb=Ca;mb<pa;++mb)Fb[mb]=qa+nc}else for(Ra=!1,sc=1;sc<Ga;++sc)for(mb=
sc*Ca,rc=mb+Ca;mb<rc;++mb)Fb[mb]+=Xb[sc-1];for(mb=sc=0;mb<pa;++mb)sc=Ha[mb]+(mb%Ca?sc:0),md[mb]+=sc-ba[mb].x;for(rc=0;rc<Ca;++rc)for(Ha=0,mb=rc;mb<pa;mb+=Ca)Ha+=Fb[mb],pc[mb]+=Ha-ba[mb].y;if(na&&O(ca.center,"column")&&1<Ga)for(mb=0;mb<pa;++mb)Pc="all"===na?jb:Ua[mb%Ca],sc=Pc-Hc[mb].x2-ba[mb].x-md[mb],0<sc&&(md[mb]+=sc/2);if(Ra&&O(ca.center,"row")&&1!==Ca)for(mb=0;mb<pa;++mb)Pc="all"===Ra?nc:Xb[~~(mb/Ca)],Ha=Pc-Hc[mb].y2-ba[mb].y-pc[mb],0<Ha&&(pc[mb]+=Ha/2);for(mb=0;mb<pa;++mb)Fa.union(Hc[mb].translate(md[mb],
pc[mb]));sc=O(ca.anchor,"x");Ha=O(ca.anchor,"y");switch(O(ca.anchor,"column")){case "end":sc-=Fa.width();break;case "middle":sc-=Fa.width()/2}switch(O(ca.anchor,"row")){case "end":Ha-=Fa.height();break;case "middle":Ha-=Fa.height()/2}sc=Math.round(sc);Ha=Math.round(Ha);Fa.clear();for(mb=0;mb<pa;++mb)ba[mb].mark.bounds.clear();for(mb=0;mb<pa;++mb)rc=ba[mb],rc.x+=md[mb]+=sc,rc.y+=pc[mb]+=Ha,Fa.union(rc.mark.bounds.union(rc.bounds.translate(md[mb],pc[mb]))),ra&&W.dirty(rc);return Fa}function z(W,ba){return"x1"===
ba?W.x||0:"y1"===ba?W.y||0:"x2"===ba?(W.x||0)+(W.width||0):"y2"===ba?(W.y||0)+(W.height||0):void 0}function G(W,ba){return W.bounds[ba]}function K(W,ba,ca,ra,qa,Fa,na,Ra,db,$a,Ca,Ga,pa,Ha){var Ua=ca.length,jb=ra=0,Fb,Xb;if(!Ua)return ra;for(Fb=Ca;Fb<Ua;Fb+=Ga)ca[Fb]&&(ra=na(ra,db(ca[Fb],$a)));if(!ba.length)return ra;ba.length>qa&&(W.warn("Grid headers exceed limit: "+qa),ba=ba.slice(0,qa));ra+=Fa;qa=0;for(Fa=ba.length;qa<Fa;++qa)W.dirty(ba[qa]),ba[qa].mark.bounds.clear();Fb=Ca;qa=0;for(Fa=ba.length;qa<
Fa;++qa,Fb+=Ga){db=ba[qa];Ca=db.mark.bounds;for(Ua=Fb;0<=Ua&&null==(Xb=ca[Ua]);Ua-=pa);if(Ra){Ua=null==Ha?Xb.x:Math.round(Xb.bounds.x1+Ha*Xb.bounds.width());var nc=ra}else Ua=ra,nc=null==Ha?Xb.y:Math.round(Xb.bounds.y1+Ha*Xb.bounds.height());Ca.union(db.bounds.translate(Ua-(db.x||0),nc-(db.y||0)));db.x=Ua;db.y=nc;W.dirty(db);jb=na(jb,Ca[$a])}return jb}function R(W,ba,ca,ra,qa,Fa){if(ba){W.dirty(ba);var na=ca;ra?na=Math.round(qa.x1+Fa*qa.width()):ca=Math.round(qa.y1+Fa*qa.height());ba.bounds.translate(na-
(ba.x||0),ca-(ba.y||0));ba.mark.bounds.clear().union(ba.bounds);ba.x=na;ba.y=ca;W.dirty(ba)}}function T(W,ba){const ca=W[ba]||{};return(ra,qa)=>null!=ca[ra]?ca[ra]:null!=W[ra]?W[ra]:qa}function ja(W,ba){let ca=-Infinity;W.forEach(ra=>{null!=ra.offset&&(ca=Math.max(ca,ra.offset))});return-Infinity<ca?ca:ba}function fa(W,ba,ca,ra,qa,Fa,na){const Ra=T(ca,ba);ca=ja(W,Ra("offset",0));const db=Ra("anchor","start"),$a="end"===db?1:"middle"===db?.5:0;W={align:"each",bounds:Ra("bounds","flush"),columns:"vertical"===
Ra("direction")?1:W.length,padding:Ra("margin",8),center:Ra("center"),nodirty:!0};switch(ba){case "left":W.anchor={x:Math.floor(ra.x1)-ca,column:"end",y:$a*(na||ra.height()+2*ra.y1),row:db};break;case "right":W.anchor={x:Math.ceil(ra.x2)+ca,y:$a*(na||ra.height()+2*ra.y1),row:db};break;case "top":W.anchor={y:Math.floor(qa.y1)-ca,row:"end",x:$a*(Fa||qa.width()+2*qa.x1),column:db};break;case "bottom":W.anchor={y:Math.ceil(qa.y2)+ca,x:$a*(Fa||qa.width()+2*qa.x1),column:db};break;case "top-left":W.anchor=
{x:ca,y:ca};break;case "top-right":W.anchor={x:Fa-ca,y:ca,column:"end"};break;case "bottom-left":W.anchor={x:ca,y:na-ca,row:"end"};break;case "bottom-right":W.anchor={x:Fa-ca,y:na-ca,column:"end",row:"end"}}return W}function ha(W,ba){ba=ba.items[0];var ca=ba.datum,ra=ba.orient,qa=ba.bounds,Fa=ba.x,na=ba.y;ba._bounds?ba._bounds.clear().union(qa):ba._bounds=qa.clone();qa.clear();var Ra=ba.items[0].items[0];var db=ba.padding,$a=db-Ra.x,Ca=db-Ra.y;if(ba.datum.title){var Ga=ba.items[1].items[0],pa=Ga.anchor,
Ha=ba.titlePadding||0,Ua=db-Ga.x,jb=db-Ga.y;switch(Ga.orient){case "left":$a+=Math.ceil(Ga.bounds.width())+Ha;break;case "right":case "bottom":break;default:Ca+=Ga.bounds.height()+Ha}($a||Ca)&&P(W,Ra,$a,Ca);switch(Ga.orient){case "left":jb+=Z(ba,Ra,Ga,pa,1,1);break;case "right":Ua+=Z(ba,Ra,Ga,"end",0,0)+Ha;jb+=Z(ba,Ra,Ga,pa,1,1);break;case "bottom":Ua+=Z(ba,Ra,Ga,pa,0,0);jb+=Z(ba,Ra,Ga,"end",-1,0,1)+Ha;break;default:Ua+=Z(ba,Ra,Ga,pa,0,0)}(Ua||jb)&&P(W,Ga,Ua,jb);0>(Ua=Math.round(Ga.bounds.x1-db))&&
(P(W,Ra,-Ua,0),P(W,Ga,-Ua,0))}else($a||Ca)&&P(W,Ra,$a,Ca);qa=la(ba,qa);W=2*ba.padding;Ra=2*ba.padding;qa.empty()||(W=Math.ceil(qa.width()+W),Ra=Math.ceil(qa.height()+Ra));"symbol"===ca.type&&C(ba.items[0].items[0].items[0].items);"none"!==ra&&(ba.x=Fa=0,ba.y=na=0);ba.width=W;ba.height=Ra;w.boundStroke(qa.set(Fa,na,Fa+W,na+Ra),ba);ba.mark.bounds.clear().union(qa);return ba}function la(W,ba){W.items.forEach(ca=>ba.union(ca.bounds));ba.x1=W.padding;ba.y1=W.padding;return ba}function Z(W,ba,ca,ra,qa,
Fa,na){const Ra=ca.datum.vgrad;W=("symbol"===W.datum.type||!Fa&&Ra||na?ba:ba.items[0]).bounds[qa?"y2":"x2"]-W.padding;ba=Ra&&Fa?W:0;Fa=Ra&&Fa?0:W;ca=0>=qa?0:w.multiLineOffset(ca);return Math.round("start"===ra?ba:"end"===ra?Fa-ca:.5*(W-ca))}function P(W,ba,ca,ra){ba.x+=ca;ba.y+=ra;ba.bounds.translate(ca,ra);ba.mark.bounds.translate(ca,ra);W.dirty(ba)}function C(W){const ba=W.reduce((ca,ra)=>{ca[ra.column]=Math.max(ra.bounds.x2-ra.x,ca[ra.column]||0);return ca},{});W.forEach(ca=>{ca.width=ba[ca.column];
ca.height=ca.bounds.y2-ca.y})}function V(W,ba,ca,ra,qa){var Fa=ba.items[0],na=Fa.orient,Ra=Fa.anchor,db=Fa.offset,$a=Fa.padding,Ca=Fa.items[0].items[0],Ga=Fa.items[1]&&Fa.items[1].items[0],pa="left"===na||"right"===na?ra:ca,Ha=0,Ua=ca=0;"group"!==Fa.frame?"left"===na?(Ha=qa.y2,pa=qa.y1):"right"===na?(Ha=qa.y1,pa=qa.y2):(Ha=qa.x1,pa=qa.x2):"left"===na&&(Ha=ra,pa=0);ra="start"===Ra?Ha:"end"===Ra?pa:(Ha+pa)/2;if(Ga&&Ga.text){switch(na){case "top":case "bottom":Ua=Ca.bounds.height()+$a;break;case "left":ca=
Ca.bounds.width()+$a;break;case "right":ca=-Ca.bounds.width()-$a}Da.clear().union(Ga.bounds);Da.translate(ca-(Ga.x||0),Ua-(Ga.y||0));a(Ga,"x",ca)|a(Ga,"y",Ua)&&(W.dirty(Ga),Ga.bounds.clear().union(Da),Ga.mark.bounds.clear().union(Da),W.dirty(Ga));Da.clear().union(Ga.bounds)}else Da.clear();Da.union(Ca.bounds);switch(na){case "top":na=ra;qa=qa.y1-Da.height()-db;break;case "left":na=qa.x1-Da.width()-db;qa=ra;break;case "right":na=qa.x2+Da.width()+db;qa=ra;break;case "bottom":na=ra;qa=qa.y2+db;break;
default:na=Fa.x,qa=Fa.y}a(Fa,"x",na)|a(Fa,"y",qa)&&(Da.translate(na,qa),W.dirty(Fa),Fa.bounds.clear().union(Da),ba.bounds.clear().union(Da),W.dirty(Fa));return Fa.bounds}function ia(W){l.Transform.call(this,null,W)}function aa(W){return W&&"legend-entry"!==W.mark.role}function ya(W,ba,ca){var ra=ba.items,qa=Math.max(0,ba.width||0),Fa=Math.max(0,ba.height||0),na=(new w.Bounds).set(0,0,qa,Fa),Ra=na.clone(),db=na.clone(),$a=[],Ca,Ga;var pa=0;for(Ga=ra.length;pa<Ga;++pa){var Ha=ra[pa];switch(Ha.role){case "axis":var Ua=
e(Ha)?Ra:db;Ua.union(n(W,Ha,qa,Fa));break;case "title":var jb=Ha;break;case "legend":$a.push(ha(W,Ha));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Ra.union(Ha.bounds);db.union(Ha.bounds);break;default:na.union(Ha.bounds)}}if($a.length){const Fb={};$a.forEach(Xb=>{Ca=Xb.orient||"right";"none"!==Ca&&(Fb[Ca]||(Fb[Ca]=[])).push(Xb)});for(const Xb in Fb)ra=Fb[Xb],F(W,ra,fa(ra,Xb,ca.legends,Ra,db,qa,Fa));
$a.forEach(Xb=>{const nc=Xb.bounds;nc.equals(Xb._bounds)||(Xb.bounds=Xb._bounds,W.dirty(Xb),Xb.bounds=nc,W.dirty(Xb));if(ca.autosize&&"fit"===ca.autosize.type)switch(Xb.orient){case "left":case "right":na.add(nc.x1,0).add(nc.x2,0);break;case "top":case "bottom":na.add(0,nc.y1).add(0,nc.y2)}else na.union(nc)})}na.union(Ra).union(db);jb&&na.union(V(W,jb,qa,Fa,na));ba.clip&&na.set(0,0,ba.width||0,ba.height||0);va(W,ba,na,ca)}function va(W,ba,ca,ra){ra=ra.autosize||{};const qa=ra.type;if(!(1>W._autosize)&&
qa){var Fa=W._width,na=W._height,Ra=Math.max(0,ba.width||0),db=Math.max(0,Math.ceil(-ca.x1));ba=Math.max(0,ba.height||0);var $a=Math.max(0,Math.ceil(-ca.y1)),Ca=Math.max(0,Math.ceil(ca.x2-Ra));ca=Math.max(0,Math.ceil(ca.y2-ba));if("padding"===ra.contains){const Ga=W.padding();Fa-=Ga.left+Ga.right;na-=Ga.top+Ga.bottom}"none"===qa?($a=db=0,Ra=Fa,ba=na):"fit"===qa?(Ra=Math.max(0,Fa-db-Ca),ba=Math.max(0,na-$a-ca)):"fit-x"===qa?(Ra=Math.max(0,Fa-db-Ca),na=ba+$a+ca):"fit-y"===qa?(Fa=Ra+db+Ca,ba=Math.max(0,
na-$a-ca)):"pad"===qa&&(Fa=Ra+db+Ca,na=ba+$a+ca);W._resizeView(Fa,na,Ra,ba,[db,$a],ra.resize)}}H.inherits(N,l.Transform,{transform(W,ba){const ca=ba.dataflow,ra=W.mark,qa=ra.marktype,Fa=w.Marks[qa],na=Fa.bound;let Ra=ra.bounds,db;if(Fa.nested)ra.items.length&&ca.dirty(ra.items[0]),Ra=x(ra,na),ra.items.forEach($a=>{$a.bounds.clear().union(Ra)});else if("group"===qa||W.modified())switch(ba.visit(ba.MOD,$a=>ca.dirty($a)),Ra.clear(),ra.items.forEach($a=>Ra.union(x($a,na))),ra.role){case "axis":case "legend":case "title":ba.reflow()}else db=
ba.changed(ba.REM),ba.visit(ba.ADD,$a=>{Ra.union(x($a,na))}),ba.visit(ba.MOD,$a=>{db=db||Ra.alignsWith($a.bounds);ca.dirty($a);Ra.union(x($a,na))}),db&&(Ra.clear(),ra.items.forEach($a=>Ra.union($a.bounds)));w.boundClip(ra);return ba.modifies("bounds")}});v.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};H.inherits(v,l.Transform,{transform(W,ba){const ca=u(ba.dataflow),ra=W.as;let qa=ca.value;ba.visit(ba.ADD,Fa=>Fa[ra]=Fa[ra]||++qa);ca.set(this.value=
qa);return ba}});H.inherits(m,l.Transform,{transform(W,ba){let ca=this.value;ca||(ca=ba.dataflow.scenegraph().mark(W.markdef,g(W),W.index),ca.group.context=W.context,W.context.group||(W.context.group=ca.group),ca.source=this.source,ca.clip=W.clip,ca.interactive=W.interactive,this.value=ca);const ra="group"===ca.marktype?w.GroupItem:w.Item;ba.visit(ba.ADD,qa=>ra.call(qa,ca));if(W.modified("clip")||W.modified("interactive"))ca.clip=W.clip,ca.interactive=!!W.interactive,ca.zdirty=!0,ba.reflow();ca.items=
ba.source;return ba}});const Ia={parity:W=>W.filter((ba,ca)=>ca%2?ba.opacity=0:1),greedy:(W,ba)=>{let ca;return W.filter((ra,qa)=>qa&&bb(ca.bounds,ra.bounds,ba)?ra.opacity=0:(ca=ra,1))}},bb=(W,ba,ca)=>ca>Math.max(ba.x1-W.x2,W.x1-ba.x2,ba.y1-W.y2,W.y1-ba.y2),kb=(W,ba)=>{for(var ca=1,ra=W.length,qa=W[0].bounds;ca<ra;++ca)if(bb(qa,qa=W[ca].bounds,ba))return!0},ua=W=>{W=W.bounds;return 1<W.width()&&1<W.height()},Ta=(W,ba,ca)=>{W=W.range();var ra=new w.Bounds;"top"===ba||"bottom"===ba?ra.set(W[0],-Infinity,
W[1],Infinity):ra.set(-Infinity,W[0],Infinity,W[1]);ra.expand(ca||1);return qa=>ra.encloses(qa.bounds)},Ya=W=>{W.forEach(ba=>ba.opacity=1);return W};H.inherits(d,l.Transform,{transform(W,ba){const ca=Ia[W.method]||Ia.parity,ra=W.separation||0;let qa=ba.materialize(ba.SOURCE).source,Fa,na;if(qa&&qa.length){if(!W.method)return W.modified("method")&&(Ya(qa),ba=ba.reflow(W.modified()).modifies("opacity")),ba;qa=qa.filter(ua);if(qa.length){W.sort&&(qa=qa.slice().sort(W.sort));Fa=Ya(qa);ba=ba.reflow(W.modified()).modifies("opacity");
if(3<=Fa.length&&kb(Fa,ra)){do Fa=ca(Fa,ra);while(3<=Fa.length&&kb(Fa,ra));3>Fa.length&&!H.peek(qa).opacity&&(1<Fa.length&&(H.peek(Fa).opacity=0),H.peek(qa).opacity=1)}W.boundScale&&0<=W.boundTolerance&&(na=Ta(W.boundScale,W.boundOrient,+W.boundTolerance),qa.forEach(db=>{na(db)||(db.opacity=0)}));var Ra=Fa[0].mark.bounds.clear();qa.forEach(db=>{db.opacity&&Ra.union(db.bounds)});return ba}}}});H.inherits(f,l.Transform,{transform(W,ba){const ca=ba.dataflow;ba.visit(ba.ALL,ra=>ca.dirty(ra));ba.fields&&
ba.fields.zindex&&(W=ba.source&&ba.source[0])&&(W.mark.zdirty=!0)}});const Da=new w.Bounds,ta=(W,ba)=>Math.floor(Math.min(W,ba)),U=(W,ba)=>Math.ceil(Math.max(W,ba));H.inherits(ia,l.Transform,{transform(W,ba){const ca=ba.dataflow;W.mark.items.forEach(ra=>{if(W.layout){var qa=W.layout;var Fa=ra.items;for(var na=Fa.length,Ra=0,db,$a,Ca={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Ra<na;++Ra)if(db=Fa[Ra],$a=db.items,"group"===db.marktype)switch(db.role){case "axis":case "legend":case "title":break;
case "row-header":Ca.rowheaders.push(...$a);break;case "row-footer":Ca.rowfooters.push(...$a);break;case "column-header":Ca.colheaders.push(...$a);break;case "column-footer":Ca.colfooters.push(...$a);break;case "row-title":Ca.rowtitle=$a[0];break;case "column-title":Ca.coltitle=$a[0];break;default:Ca.marks.push(...$a)}Fa=Ca;$a=Fa.marks;Ca="flush"===qa.bounds?z:G;na=qa.offset;var Ga=qa.columns||$a.length,pa=0>=Ga?1:Math.ceil($a.length/Ga),Ha=pa*Ga;Ra=F(ca,$a,qa);Ra.empty()&&Ra.set(0,0,0,0);if(Fa.rowheaders){db=
O(qa.headerBand,"row",null);var Ua=K(ca,Fa.rowheaders,$a,Ga,pa,-O(na,"rowHeader"),ta,0,Ca,"x1",0,Ga,1,db)}if(Fa.colheaders){db=O(qa.headerBand,"column",null);var jb=K(ca,Fa.colheaders,$a,Ga,Ga,-O(na,"columnHeader"),ta,1,Ca,"y1",0,1,Ga,db)}if(Fa.rowfooters){db=O(qa.footerBand,"row",null);var Fb=K(ca,Fa.rowfooters,$a,Ga,pa,O(na,"rowFooter"),U,0,Ca,"x2",Ga-1,Ga,1,db)}if(Fa.colfooters){db=O(qa.footerBand,"column",null);var Xb=K(ca,Fa.colfooters,$a,Ga,Ga,O(na,"columnFooter"),U,1,Ca,"y2",Ha-Ga,1,Ga,db)}Fa.rowtitle&&
(db=O(qa.titleAnchor,"row"),$a=O(na,"rowTitle"),$a="end"===db?Fb+$a:Ua-$a,db=O(qa.titleBand,"row",.5),R(ca,Fa.rowtitle,$a,0,Ra,db));Fa.coltitle&&(db=O(qa.titleAnchor,"column"),$a=O(na,"columnTitle"),$a="end"===db?Xb+$a:jb-$a,db=O(qa.titleBand,"column",.5),R(ca,Fa.coltitle,$a,1,Ra,db))}ya(ca,ra,W)});return aa(W.mark.group)?ba.reflow():ba}});k.bound=N;k.identifier=v;k.mark=m;k.overlap=d;k.render=f;k.viewlayout=ia;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(35),A(14),A(15),A(33)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.d3))})(this,function(k,l,w,H,N,x){function v(aa){l.Transform.call(this,null,aa)}function u(aa){l.Transform.call(this,null,aa)}function m(){return l.ingest({})}
function g(aa){const ya=H.fastmap().test(va=>va.exit);ya.lookup=va=>ya.get(aa(va));return ya}function d(aa){l.Transform.call(this,null,aa)}function f(aa){l.Transform.call(this,[],aa)}function a(aa){l.Transform.call(this,{},aa)}function e(aa){l.Transform.call(this,null,aa)}function n(aa){return w.isContinuous(aa)&&aa!==w.Sequential}function y(aa){l.Transform.call(this,null,aa);this.modified(!0)}function B(aa,ya,va){w.isLogarithmic(aa)&&Math.abs(ya.reduce((Ia,bb)=>Ia+(0>bb?-1:0<bb?1:0),0))!==ya.length&&
va.warn("Log scale domain includes zero: "+H.stringValue(ya));return ya}function D(aa,ya,va){return H.isFunction(aa)&&(ya||va)?w.interpolateRange(aa,O(ya||[0,1],va)):aa}function O(aa,ya){return ya?aa.slice().reverse():aa}function M(aa){l.Transform.call(this,null,aa)}function F(aa){l.Transform.call(this,null,aa)}function z(aa,ya,va,Ia,bb){ya=(ya-aa.sum)/2;for(var kb=aa.length,ua=0,Ta;ua<kb;++ua)Ta=aa[ua],Ta[Ia]=ya,Ta[bb]=ya+=Math.abs(va(Ta))}function G(aa,ya,va,Ia,bb){ya=1/aa.sum;for(var kb=0,ua=aa.length,
Ta=0,Ya=0,Da;Ta<ua;++Ta)Da=aa[Ta],Da[Ia]=kb,Da[bb]=kb=ya*(Ya+=Math.abs(va(Da)))}function K(aa,ya,va,Ia,bb){for(var kb=ya=0,ua=aa.length,Ta=0,Ya,Da;Ta<ua;++Ta)Da=aa[Ta],Ya=+va(Da),0>Ya?(Da[Ia]=kb,Da[bb]=kb+=Ya):(Da[Ia]=ya,Da[bb]=ya+=Ya)}function R(aa,ya,va,Ia){var bb=[],kb=W=>W(Da),ua;if(null==ya)bb.push(aa.slice());else{var Ta={};var Ya=0;for(ua=aa.length;Ya<ua;++Ya){var Da=aa[Ya];var ta=ya.map(kb);var U=Ta[ta];U||(Ta[ta]=U=[],bb.push(U));U.push(Da)}}kb=ta=0;for(aa=bb.length;ta<aa;++ta){U=bb[ta];
ya=Ya=0;for(ua=U.length;Ya<ua;++Ya)ya+=Math.abs(Ia(U[Ya]));U.sum=ya;ya>kb&&(kb=ya);va&&U.sort(va)}bb.max=kb;return bb}H.inherits(v,l.Transform,{transform(aa,ya){if(this.value&&!aa.modified())return ya.StopPropagation;var va=ya.dataflow.locale();ya=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);var Ia=this.value,bb=aa.scale,kb=w.tickCount(bb,null==aa.count?aa.values?aa.values.length:10:aa.count,aa.minstep),ua=aa.format||w.tickFormat(va,bb,kb,aa.formatSpecifier,aa.formatType,!!aa.values),Ta=aa.values?w.validTicks(bb,
aa.values,kb):w.tickValues(bb,kb);Ia&&(ya.rem=Ia);Ia=Ta.map((Ya,Da)=>l.ingest({index:Da/(Ta.length-1||1),value:Ya,label:ua(Ya)}));aa.extra&&Ia.length&&Ia.push(l.ingest({index:-1,extra:{value:Ia[0].value},label:""}));ya.source=Ia;this.value=ya.add=Ia;return ya}});H.inherits(u,l.Transform,{transform(aa,ya){var va=ya.dataflow,Ia=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),bb=aa.item||m,kb=aa.key||l.tupleid,ua=this.value;H.isArray(Ia.encode)&&(Ia.encode=null);ua&&(aa.modified("key")||ya.modified(kb))&&H.error("DataJoin does not support modified key function or fields.");
ua||(ya=ya.addAll(),this.value=ua=g(kb));ya.visit(ya.ADD,Ta=>{const Ya=kb(Ta);let Da=ua.get(Ya);Da?Da.exit?(ua.empty--,Ia.add.push(Da)):Ia.mod.push(Da):(Da=bb(Ta),ua.set(Ya,Da),Ia.add.push(Da));Da.datum=Ta;Da.exit=!1});ya.visit(ya.MOD,Ta=>{var Ya=kb(Ta);if(Ya=ua.get(Ya))Ya.datum=Ta,Ia.mod.push(Ya)});ya.visit(ya.REM,Ta=>{var Ya=kb(Ta);Ya=ua.get(Ya);Ta!==Ya.datum||Ya.exit||(Ia.rem.push(Ya),Ya.exit=!0,++ua.empty)});ya.changed(ya.ADD_MOD)&&Ia.modifies("datum");(ya.clean()||aa.clean&&ua.empty>va.cleanThreshold)&&
va.runAfter(ua.clean);return Ia}});H.inherits(d,l.Transform,{transform(aa,ya){var va=ya.fork(ya.ADD_REM),Ia=aa.mod||!1,bb=aa.encoders,kb=ya.encode;if(H.isArray(kb))if(va.changed()||kb.every(U=>bb[U]))kb=kb[0],va.encode=null;else return ya.StopPropagation;var ua="enter"===kb,Ta=bb.update||H.falsy,Ya=bb.enter||H.falsy,Da=bb.exit||H.falsy,ta=(kb&&!ua?bb[kb]:Ta)||H.falsy;ya.changed(ya.ADD)&&(ya.visit(ya.ADD,U=>{Ya(U,aa);Ta(U,aa)}),va.modifies(Ya.output),va.modifies(Ta.output),ta!==H.falsy&&ta!==Ta&&(ya.visit(ya.ADD,
U=>{ta(U,aa)}),va.modifies(ta.output)));ya.changed(ya.REM)&&Da!==H.falsy&&(ya.visit(ya.REM,U=>{Da(U,aa)}),va.modifies(Da.output));if(ua||ta!==H.falsy)kb=ya.MOD|(aa.modified()?ya.REFLOW:0),ua?(ya.visit(kb,U=>{const W=Ya(U,aa)||Ia;(ta(U,aa)||W)&&va.mod.push(U)}),va.mod.length&&va.modifies(Ya.output)):ya.visit(kb,U=>{(ta(U,aa)||Ia)&&va.mod.push(U)}),va.mod.length&&va.modifies(ta.output);return va.changed()?va:ya.StopPropagation}});H.inherits(f,l.Transform,{transform(aa,ya){if(null!=this.value&&!aa.modified())return ya.StopPropagation;
var va=ya.dataflow.locale(),Ia=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),bb=this.value,kb=aa.type||w.SymbolLegend,ua=aa.scale,Ta=+aa.limit,Ya=w.tickCount(ua,null==aa.count?5:aa.count,aa.minstep),Da=!!aa.values||kb===w.SymbolLegend,ta=aa.format||w.labelFormat(va,ua,Ya,kb,aa.formatSpecifier,aa.formatType,Da),U=aa.values||w.labelValues(ua,Ya),W;bb&&(Ia.rem=bb);if(kb===w.SymbolLegend){if(Ta&&U.length>Ta){ya.dataflow.warn("Symbol legend count exceeds limit, filtering items.");bb=U.slice(0,Ta-1);var ba=!0}else bb=
U;if(H.isFunction(W=aa.size)){aa.values||0!==ua(bb[0])||(bb=bb.slice(1));var ca=bb.reduce((qa,Fa)=>Math.max(qa,W(Fa,aa)),0)}else W=H.constant(ca=W||8);bb=bb.map((qa,Fa)=>l.ingest({index:Fa,label:ta(qa,Fa,bb),value:qa,offset:ca,size:W(qa,aa)}));ba&&(ba=U[bb.length],bb.push(l.ingest({index:bb.length,label:`\u2026${U.length-bb.length} entries`,value:ba,offset:ca,size:W(ba,aa)})))}else if(kb===w.GradientLegend){ya=ua.domain();var ra=w.scaleFraction(ua,ya[0],H.peek(ya));3>U.length&&!aa.values&&ya[0]!==
H.peek(ya)&&(U=[ya[0],H.peek(ya)]);bb=U.map((qa,Fa)=>l.ingest({index:Fa,label:ta(qa,Fa,U),value:qa,perc:ra(qa)}))}else W=U.length-1,ra=w.labelFraction(ua),bb=U.map((qa,Fa)=>l.ingest({index:Fa,label:ta(qa,Fa,U),value:qa,perc:Fa?ra(qa):0,perc2:Fa===W?1:ra(U[Fa+1])}));Ia.source=bb;this.value=Ia.add=bb;return Ia}});const T=aa=>aa.source.x,ja=aa=>aa.source.y,fa=aa=>aa.target.x,ha=aa=>aa.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},
{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};H.inherits(a,l.Transform,{transform(aa,ya){var va=aa.sourceX||T,Ia=aa.sourceY||ja,bb=
aa.targetX||fa,kb=aa.targetY||ha,ua=aa.as||"path",Ta=aa.shape||"line",Ya=C.get(Ta+"-"+(aa.orient||"vertical"))||C.get(Ta);Ya||H.error("LinkPath unsupported type: "+aa.shape+(aa.orient?"-"+aa.orient:""));ya.visit(ya.SOURCE,Da=>{Da[ua]=Ya(va(Da),Ia(Da),bb(Da),kb(Da))});return ya.reflow(aa.modified()).modifies(ua)}});const la=(aa,ya,va,Ia)=>"M"+aa+","+ya+"L"+va+","+Ia,Z=(aa,ya,va,Ia)=>{var bb=va-aa,kb=Ia-ya,ua=Math.sqrt(bb*bb+kb*kb)/2;return"M"+aa+","+ya+"A"+ua+","+ua+" "+180*Math.atan2(kb,bb)/Math.PI+
" 0 1 "+va+","+Ia},P=(aa,ya,va,Ia)=>{var bb=va-aa;const kb=Ia-ya,ua=.2*(bb+kb);bb=.2*(kb-bb);return"M"+aa+","+ya+"C"+(aa+ua)+","+(ya+bb)+" "+(va+bb)+","+(Ia-ua)+" "+va+","+Ia},C=H.fastmap({line:la,"line-radial":(aa,ya,va,Ia)=>la(ya*Math.cos(aa),ya*Math.sin(aa),Ia*Math.cos(va),Ia*Math.sin(va)),arc:Z,"arc-radial":(aa,ya,va,Ia)=>Z(ya*Math.cos(aa),ya*Math.sin(aa),Ia*Math.cos(va),Ia*Math.sin(va)),curve:P,"curve-radial":(aa,ya,va,Ia)=>P(ya*Math.cos(aa),ya*Math.sin(aa),Ia*Math.cos(va),Ia*Math.sin(va)),"orthogonal-horizontal":(aa,
ya,va,Ia)=>"M"+aa+","+ya+"V"+Ia+"H"+va,"orthogonal-vertical":(aa,ya,va,Ia)=>"M"+aa+","+ya+"H"+va+"V"+Ia,"orthogonal-radial":(aa,ya,va,Ia)=>{const bb=Math.cos(va),kb=Math.sin(va);return"M"+ya*Math.cos(aa)+","+ya*Math.sin(aa)+"A"+ya+","+ya+" 0 0,"+((Math.abs(va-aa)>Math.PI?va<=aa:va>aa)?1:0)+" "+ya*bb+","+ya*kb+"L"+Ia*bb+","+Ia*kb},"diagonal-horizontal":(aa,ya,va,Ia)=>{const bb=(aa+va)/2;return"M"+aa+","+ya+"C"+bb+","+ya+" "+bb+","+Ia+" "+va+","+Ia},"diagonal-vertical":(aa,ya,va,Ia)=>{const bb=(ya+
Ia)/2;return"M"+aa+","+ya+"C"+aa+","+bb+" "+va+","+bb+" "+va+","+Ia},"diagonal-radial":(aa,ya,va,Ia)=>{const bb=Math.cos(aa);aa=Math.sin(aa);const kb=Math.cos(va);va=Math.sin(va);const ua=(ya+Ia)/2;return"M"+ya*bb+","+ya*aa+"C"+ua*bb+","+ua*aa+" "+ua*kb+","+ua*va+" "+Ia*kb+","+Ia*va}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};H.inherits(e,l.Transform,{transform(aa,ya){var va=aa.as||["startAngle","endAngle"],Ia=va[0],bb=va[1],kb=aa.startAngle||0,ua=null!=aa.endAngle?aa.endAngle:2*Math.PI,Ta=ya.source,Ya=Ta.map(aa.field||H.one),Da=Ya.length,ta=kb;kb=(ua-kb)/N.sum(Ya);ua=N.range(Da);var U;aa.sort&&ua.sort((ca,ra)=>Ya[ca]-Ya[ra]);for(U=0;U<Da;++U){var W=Ya[ua[U]];var ba=Ta[ua[U]];ba[Ia]=ta;ba[bb]=ta+=W*kb}this.value=Ya;return ya.reflow(aa.modified()).modifies(va)}});
const V=H.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));H.inherits(y,l.Transform,{transform(aa,ya){var va=ya.dataflow,Ia=this.value;var bb=aa.type;var kb="";if(bb===w.Sequential)bb=w.Sequential+"-"+w.Linear;else{var ua=aa.type;if(ua=w.isContinuous(ua)&&ua!==w.Time&&ua!==w.UTC&&(aa.scheme||aa.range&&aa.range.length&&aa.range.every(H.isString)))kb=
aa.rawDomain?aa.rawDomain.length:aa.domain?aa.domain.length+ +(null!=aa.domainMid):0,kb=2===kb?w.Sequential+"-":3===kb?w.Diverging+"-":"";bb=(kb+bb||w.Linear).toLowerCase()}Ia&&bb===Ia.type||(this.value=Ia=w.scale(bb)());for(bb in aa)V[bb]||"padding"===bb&&n(Ia.type)||(H.isFunction(Ia[bb])?Ia[bb](aa[bb]):va.warn("Unsupported scale property: "+bb));kb=bb=Ia;(ua=aa.domainRaw)?(Ia.domain(B(Ia.type,ua,va)),ua=ua.length):ua=-1;if(-1<ua)va=ua;else{var Ta=aa.domain;ua=Ia.type;var Ya;!(Ya=aa.zero)&&(Ya=void 0===
aa.zero)&&(Ya=Ia.type,Ya=!Ia.bins&&(Ya===w.Linear||Ya===w.Pow||Ya===w.Sqrt));if(Ta){if(n(ua)&&aa.padding&&Ta[0]!==H.peek(Ta)){var Da=aa.range,ta=aa.padding;var U=aa.exponent;var W=aa.constant;Da=Math.abs(H.peek(Da)-Da[0]);ta=Da/(Da-2*ta);U=ua===w.Log?H.zoomLog(Ta,null,ta):ua===w.Sqrt?H.zoomPow(Ta,null,ta,.5):ua===w.Pow?H.zoomPow(Ta,null,ta,U||1):ua===w.Symlog?H.zoomSymlog(Ta,null,ta,W||1):H.zoomLinear(Ta,null,ta);Ta=Ta.slice();Ta[0]=U[0];Ta[Ta.length-1]=U[1]}if(Ya||null!=aa.domainMin||null!=aa.domainMax||
null!=aa.domainMid)U=(Ta=Ta.slice()).length-1||1,Ya&&(0<Ta[0]&&(Ta[0]=0),0>Ta[U]&&(Ta[U]=0)),null!=aa.domainMin&&(Ta[0]=aa.domainMin),null!=aa.domainMax&&(Ta[U]=aa.domainMax),null!=aa.domainMid&&(Ya=aa.domainMid,W=Ya>Ta[U]?U+1:Ya<Ta[0]?0:U,W!==U&&va.warn("Scale domainMid exceeds domain min or max.",Ya),Ta.splice(W,0,Ya));Ia.domain(B(ua,Ta,va));ua===w.Ordinal&&Ia.unknown(aa.domainImplicit?w.scaleImplicit:void 0);aa.nice&&Ia.nice&&Ia.nice(!0!==aa.nice&&w.tickCount(Ia,aa.nice)||null);va=Ta.length}else va=
0}(ua=aa.bins)&&!H.isArray(ua)&&(Ya=kb.domain(),Ia=Ya[0],Ya=H.peek(Ya),Ta=ua.step,U=null==ua.start?Ia:ua.start,ua=null==ua.stop?Ya:ua.stop,Ta||H.error("Scale bins parameter missing step property."),U<Ia&&(U=Ta*Math.ceil(Ia/Ta)),ua>Ya&&(ua=Ta*Math.floor(Ya/Ta)),ua=N.range(U,ua+Ta/2,Ta));ua?kb.bins=ua:kb.bins&&delete kb.bins;kb.type===w.BinOrdinal&&(ua?aa.domain||aa.domainRaw||(kb.domain(ua),va=ua.length):kb.bins=kb.domain());Ia=va;a:{kb=bb.type;va=aa.round||!1;ua=aa.range;if(null!=aa.rangeStep)kb!==
w.Band&&kb!==w.Point&&H.error("Only band and point scales support rangeStep."),ua=[0,aa.rangeStep*w.bandSpace(Ia,kb===w.Point?1:(null!=aa.paddingInner?aa.paddingInner:aa.padding)||0,(null!=aa.paddingOuter?aa.paddingOuter:aa.padding)||0)];else if(aa.scheme&&(ua=aa.schemeExtent,H.isArray(aa.scheme)?Ya=w.interpolateColors(aa.scheme,aa.interpolate,aa.interpolateGamma):(Ya=aa.scheme.toLowerCase(),(Ya=w.scheme(Ya))||H.error(`Unrecognized scheme name: ${aa.scheme}`)),Ia=kb===w.Threshold?Ia+1:kb===w.BinOrdinal?
Ia-1:kb===w.Quantile||kb===w.Quantize?+aa.schemeCount||5:Ia,ua=w.isInterpolating(kb)?D(Ya,ua,aa.reverse):H.isFunction(Ya)?w.quantizeInterpolator(D(Ya,ua),Ia):kb===w.Ordinal?Ya:Ya.slice(0,Ia),H.isFunction(ua)))if(bb.interpolator){bb.interpolator(ua);break a}else H.error(`Scale type ${kb} does not support interpolating color schemes.`);ua&&w.isInterpolating(kb)?bb.interpolator(w.interpolateColors(O(ua,aa.reverse),aa.interpolate,aa.interpolateGamma)):(ua&&aa.interpolate&&bb.interpolate?bb.interpolate(w.interpolate(aa.interpolate,
aa.interpolateGamma)):H.isFunction(bb.round)?bb.round(va):H.isFunction(bb.rangeRound)&&bb.interpolate(va?x.interpolateRound:x.interpolate),ua&&bb.range(O(ua,aa.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});H.inherits(M,l.Transform,{transform(aa,ya){const va=aa.modified("sort")||ya.changed(ya.ADD)||ya.modified(aa.sort.fields)||ya.modified("datum");va&&ya.source.sort(l.stableCompare(aa.sort));this.modified(va);return ya}});const ia=["y0","y1"];F.Definition={type:"Stack",metadata:{modifies:!0},
params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ia}]};H.inherits(F,l.Transform,{transform(aa,ya){var va=aa.as||ia,Ia=va[0],bb=va[1],kb=l.stableCompare(aa.sort),ua=aa.field||H.one,Ta="center"===aa.offset?z:"normalize"===aa.offset?G:K,Ya;kb=R(ya.source,aa.groupby,kb,ua);var Da=0;var ta=kb.length;for(Ya=kb.max;Da<
ta;++Da)Ta(kb[Da],Ya,ua,Ia,bb);return ya.reflow(aa.modified()).modifies(va)}});k.axisticks=v;k.datajoin=u;k.encode=d;k.legendentries=f;k.linkpath=a;k.pie=e;k.scale=y;k.sortitems=M;k.stack=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15)):"function"===typeof define&&define.amd?define(["exports","d3-array"],l):(k=k||self,l(k.d3=k.d3||{},k.d3))})(this,function(k,l){function w(Wa){return 1<Wa?0:-1>Wa?me:Math.acos(Wa)}function H(Wa){return 1<Wa?te:-1>Wa?-te:Math.asin(Wa)}function N(Wa){return(Wa=kc(Wa/2))*Wa}function x(){}function v(Wa,ob){if(Wa&&If.hasOwnProperty(Wa.type))If[Wa.type](Wa,ob)}function u(Wa,ob,zb){var Mb=-1;zb=Wa.length-
zb;for(ob.lineStart();++Mb<zb;){var bc=Wa[Mb];ob.point(bc[0],bc[1],bc[2])}ob.lineEnd()}function m(Wa,ob){var zb=-1,Mb=Wa.length;for(ob.polygonStart();++zb<Mb;)u(Wa[zb],ob,1);ob.polygonEnd()}function g(Wa,ob){if(Wa&&Yf.hasOwnProperty(Wa.type))Yf[Wa.type](Wa,ob);else v(Wa,ob)}function d(){Cb.point=a}function f(){e(qe,yc)}function a(Wa,ob){Cb.point=e;qe=Wa;yc=ob;Wa*=Xd;ob*=Xd;wa=Wa;Ea=Td(ob=ob/2+kf);Za=kc(ob)}function e(Wa,ob){Wa*=Xd;ob*=Xd;ob=ob/2+kf;var zb=Wa-wa,Mb=0<=zb?1:-1,bc=Mb*zb;zb=Td(ob);ob=
kc(ob);var Kc=Za*ob,r=Ea*zb+Kc*Td(bc);Mb=Kc*Mb*kc(bc);Sf.add(Ge(Mb,r));wa=Wa;Ea=zb;Za=ob}function n(Wa){return[Ge(Wa[1],Wa[0]),H(Wa[2])]}function y(Wa){var ob=Wa[0];Wa=Wa[1];var zb=Td(Wa);return[zb*Td(ob),zb*kc(ob),kc(Wa)]}function B(Wa,ob){return Wa[0]*ob[0]+Wa[1]*ob[1]+Wa[2]*ob[2]}function D(Wa,ob){return[Wa[1]*ob[2]-Wa[2]*ob[1],Wa[2]*ob[0]-Wa[0]*ob[2],Wa[0]*ob[1]-Wa[1]*ob[0]]}function O(Wa,ob){Wa[0]+=ob[0];Wa[1]+=ob[1];Wa[2]+=ob[2]}function M(Wa,ob){return[Wa[0]*ob,Wa[1]*ob,Wa[2]*ob]}function F(Wa){var ob=
ue(Wa[0]*Wa[0]+Wa[1]*Wa[1]+Wa[2]*Wa[2]);Wa[0]/=ob;Wa[1]/=ob;Wa[2]/=ob}function z(Wa,ob){jd.push(Qd=[ub=Wa,$b=Wa]);ob<Yb&&(Yb=ob);ob>Oc&&(Oc=ob)}function G(Wa,ob){var zb=y([Wa*Xd,ob*Xd]);if(od){var Mb=D(od,zb);Mb=D([Mb[1],-Mb[0],0],Mb);F(Mb);Mb=n(Mb);var bc=Wa-gd,Kc=0<bc?1:-1,r=Mb[0]*Od*Kc;bc=180<Be(bc);bc^(Kc*gd<r&&r<Kc*Wa)?(Mb=Mb[1]*Od,Mb>Oc&&(Oc=Mb)):(r=(r+360)%360-180,bc^(Kc*gd<r&&r<Kc*Wa))?(Mb=-Mb[1]*Od,Mb<Yb&&(Yb=Mb)):(ob<Yb&&(Yb=ob),ob>Oc&&(Oc=ob));bc?Wa<gd?ha(ub,Wa)>ha(ub,$b)&&($b=Wa):ha(Wa,
$b)>ha(ub,$b)&&(ub=Wa):$b>=ub?(Wa<ub&&(ub=Wa),Wa>$b&&($b=Wa)):Wa>gd?ha(ub,Wa)>ha(ub,$b)&&($b=Wa):ha(Wa,$b)>ha(ub,$b)&&(ub=Wa)}else jd.push(Qd=[ub=Wa,$b=Wa]);ob<Yb&&(Yb=ob);ob>Oc&&(Oc=ob);od=zb;gd=Wa}function K(){ie.point=G}function R(){Qd[0]=ub;Qd[1]=$b;ie.point=z;od=null}function T(Wa,ob){if(od){var zb=Wa-gd;Id.add(180<Be(zb)?zb+(0<zb?360:-360):zb)}else Mc=Wa,Nd=ob;Cb.point(Wa,ob);G(Wa,ob)}function ja(){Cb.lineStart()}function fa(){T(Mc,Nd);Cb.lineEnd();1E-6<Be(Id)&&(ub=-($b=180));Qd[0]=ub;Qd[1]=
$b;od=null}function ha(Wa,ob){return 0>(ob-=Wa)?ob+360:ob}function la(Wa,ob){return Wa[0]-ob[0]}function Z(Wa,ob){return Wa[0]<=Wa[1]?Wa[0]<=ob&&ob<=Wa[1]:ob<Wa[0]||Wa[1]<ob}function P(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob);C(zb*Td(Wa),zb*kc(Wa),kc(ob))}function C(Wa,ob,zb){++Gf;kd+=(Wa-kd)/Gf;We+=(ob-We)/Gf;uf+=(zb-uf)/Gf}function V(){oc.point=ia}function ia(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob);Wb=zb*Td(Wa);Tb=zb*kc(Wa);ic=kc(ob);oc.point=aa;C(Wb,Tb,ic)}function aa(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob),Mb=
zb*Td(Wa);Wa=zb*kc(Wa);ob=kc(ob);var bc=Ge(ue((bc=Tb*ob-ic*Wa)*bc+(bc=ic*Mb-Wb*ob)*bc+(bc=Wb*Wa-Tb*Mb)*bc),Wb*Mb+Tb*Wa+ic*ob);tf+=bc;mf+=bc*(Wb+(Wb=Mb));Zf+=bc*(Tb+(Tb=Wa));yf+=bc*(ic+(ic=ob));C(Wb,Tb,ic)}function ya(){oc.point=P}function va(){oc.point=bb}function Ia(){kb(Pa,vb);oc.point=P}function bb(Wa,ob){Pa=Wa;vb=ob;Wa*=Xd;ob*=Xd;oc.point=kb;var zb=Td(ob);Wb=zb*Td(Wa);Tb=zb*kc(Wa);ic=kc(ob);C(Wb,Tb,ic)}function kb(Wa,ob){Wa*=Xd;ob*=Xd;var zb=Td(ob),Mb=zb*Td(Wa);Wa=zb*kc(Wa);ob=kc(ob);zb=Tb*ob-
ic*Wa;var bc=ic*Mb-Wb*ob,Kc=Wb*Wa-Tb*Mb,r=Gc(zb,bc,Kc),Q=H(r);r=r&&-Q/r;Pe.add(r*zb);nf.add(r*bc);Aa.add(r*Kc);tf+=Q;mf+=Q*(Wb+(Wb=Mb));Zf+=Q*(Tb+(Tb=Wa));yf+=Q*(ic+(ic=ob));C(Wb,Tb,ic)}function ua(Wa){return function(){return Wa}}function Ta(Wa,ob){function zb(Mb,bc){return Mb=Wa(Mb,bc),ob(Mb[0],Mb[1])}Wa.invert&&ob.invert&&(zb.invert=function(Mb,bc){return Mb=ob.invert(Mb,bc),Mb&&Wa.invert(Mb[0],Mb[1])});return zb}function Ya(Wa,ob){return[Be(Wa)>me?Wa+Math.round(-Wa/we)*we:Wa,ob]}function Da(Wa,
ob,zb){return(Wa%=we)?ob||zb?Ta(U(Wa),W(ob,zb)):U(Wa):ob||zb?W(ob,zb):Ya}function ta(Wa){return function(ob,zb){return ob+=Wa,[ob>me?ob-we:ob<-me?ob+we:ob,zb]}}function U(Wa){var ob=ta(Wa);ob.invert=ta(-Wa);return ob}function W(Wa,ob){function zb(Q,ma){var Ma=Td(ma),gb=Td(Q)*Ma;Q=kc(Q)*Ma;ma=kc(ma);Ma=ma*Mb+gb*bc;return[Ge(Q*Kc-Ma*r,gb*Mb-ma*bc),H(Ma*Kc+Q*r)]}var Mb=Td(Wa),bc=kc(Wa),Kc=Td(ob),r=kc(ob);zb.invert=function(Q,ma){var Ma=Td(ma),gb=Td(Q)*Ma;Q=kc(Q)*Ma;ma=kc(ma);Ma=ma*Kc-Q*r;return[Ge(Q*
Kc+ma*r,gb*Mb+Ma*bc),H(Ma*Mb-gb*bc)]};return zb}function ba(Wa){function ob(zb){zb=Wa(zb[0]*Xd,zb[1]*Xd);return zb[0]*=Od,zb[1]*=Od,zb}Wa=Da(Wa[0]*Xd,Wa[1]*Xd,2<Wa.length?Wa[2]*Xd:0);ob.invert=function(zb){zb=Wa.invert(zb[0]*Xd,zb[1]*Xd);return zb[0]*=Od,zb[1]*=Od,zb};return ob}function ca(Wa,ob,zb,Mb,bc,Kc){if(zb){var r=Td(ob),Q=kc(ob);zb*=Mb;if(null==bc)bc=ob+Mb*we,Kc=ob-zb/2;else if(bc=ra(r,bc),Kc=ra(r,Kc),0<Mb?bc<Kc:bc>Kc)bc+=Mb*we;for(;0<Mb?bc>Kc:bc<Kc;bc-=zb)ob=n([r,-Q*Td(bc),-Q*kc(bc)]),Wa.point(ob[0],
ob[1])}}function ra(Wa,ob){ob=y(ob);ob[0]-=Wa;F(ob);Wa=w(-ob[1]);return((0>-ob[2]?-Wa:Wa)+we-1E-6)%we}function qa(){var Wa=[],ob;return{point:function(zb,Mb,bc){ob.push([zb,Mb,bc])},lineStart:function(){Wa.push(ob=[])},lineEnd:x,rejoin:function(){1<Wa.length&&Wa.push(Wa.pop().concat(Wa.shift()))},result:function(){var zb=Wa;Wa=[];ob=null;return zb}}}function Fa(Wa,ob){return 1E-6>Be(Wa[0]-ob[0])&&1E-6>Be(Wa[1]-ob[1])}function na(Wa,ob,zb,Mb){this.x=Wa;this.z=ob;this.o=zb;this.e=Mb;this.v=!1;this.n=
this.p=null}function Ra(Wa,ob,zb,Mb,bc){var Kc=[],r=[];Wa.forEach(function(lb){if(!(0>=(sb=lb.length-1))){var sb,Rb=lb[0],ec=lb[sb];if(Fa(Rb,ec)){if(!Rb[2]&&!ec[2]){bc.lineStart();for(Q=0;Q<sb;++Q)bc.point((Rb=lb[Q])[0],Rb[1]);bc.lineEnd();return}ec[0]+=2E-6}Kc.push(sb=new na(Rb,lb,null,!0));r.push(sb.o=new na(Rb,null,sb,!1));Kc.push(sb=new na(ec,lb,null,!1));r.push(sb.o=new na(ec,null,sb,!0))}});if(Kc.length){r.sort(ob);db(Kc);db(r);var Q=0;for(Wa=r.length;Q<Wa;++Q)r[Q].e=zb=!zb;zb=Kc[0];for(var ma;;){for(var Ma=
zb,gb=!0;Ma.v;)if((Ma=Ma.n)===zb)return;ob=Ma.z;bc.lineStart();do{Ma.v=Ma.o.v=!0;if(Ma.e){if(gb)for(Q=0,Wa=ob.length;Q<Wa;++Q)bc.point((ma=ob[Q])[0],ma[1]);else Mb(Ma.x,Ma.n.x,1,bc);Ma=Ma.n}else{if(gb)for(ob=Ma.p.z,Q=ob.length-1;0<=Q;--Q)bc.point((ma=ob[Q])[0],ma[1]);else Mb(Ma.x,Ma.p.x,-1,bc);Ma=Ma.p}Ma=Ma.o;ob=Ma.z;gb=!gb}while(!Ma.v);bc.lineEnd()}}}function db(Wa){if(ob=Wa.length){for(var ob,zb=0,Mb=Wa[0],bc;++zb<ob;)Mb.n=bc=Wa[zb],bc.p=Mb,Mb=bc;Mb.n=bc=Wa[0];bc.p=Mb}}function $a(Wa){return Be(Wa[0])<=
me?Wa[0]:Fe(Wa[0])*((Be(Wa[0])+me)%we-me)}function Ca(Wa,ob){var zb=$a(ob);ob=ob[1];var Mb=kc(ob),bc=[kc(zb),-Td(zb),0],Kc=0,r=0,Q=new l.Adder;1===Mb?ob=te+1E-6:-1===Mb&&(ob=-te-1E-6);Mb=0;for(var ma=Wa.length;Mb<ma;++Mb)if(gb=(Ma=Wa[Mb]).length){var Ma,gb,lb=Ma[gb-1],sb=$a(lb),Rb=lb[1]/2+kf,ec=kc(Rb),Vb=Td(Rb);for(Rb=0;Rb<gb;++Rb,sb=dd,ec=zd,Vb=rd,lb=Qc){var Qc=Ma[Rb],dd=$a(Qc);rd=Qc[1]/2+kf;var zd=kc(rd),rd=Td(rd),bd=dd-sb,Jc=0<=bd?1:-1,ud=Jc*bd,ee=ud>me;ec*=zd;Q.add(Ge(ec*Jc*kc(ud),Vb*rd+ec*Td(ud)));
Kc+=ee?bd+Jc*we:bd;ee^sb>=zb^dd>=zb&&(lb=D(y(lb),y(Qc)),F(lb),sb=D(bc,lb),F(sb),sb=(ee^0<=bd?-1:1)*H(sb[2]),ob>sb||ob===sb&&(lb[0]||lb[1]))&&(r+=ee^0<=bd?1:-1)}}return(-1E-6>Kc||1E-6>Kc&&-1E-12>Q)^r&1}function Ga(Wa,ob,zb,Mb){return function(bc){function Kc(bd,Jc){Wa(bd,Jc)&&bc.point(bd,Jc)}function r(bd,Jc){sb.point(bd,Jc)}function Q(){rd.point=r;sb.lineStart()}function ma(){rd.point=Kc;sb.lineEnd()}function Ma(bd,Jc){zd.push([bd,Jc]);ec.point(bd,Jc)}function gb(){ec.lineStart();zd=[]}function lb(){Ma(zd[0][0],
zd[0][1]);ec.lineEnd();var bd=ec.clean(),Jc=Rb.result(),ud=Jc.length,ee;zd.pop();Qc.push(zd);zd=null;if(ud)if(bd&1){if(ud=Jc[0],0<(Jc=ud.length-1)){Vb||(bc.polygonStart(),Vb=!0);bc.lineStart();for(bd=0;bd<Jc;++bd)bc.point((ee=ud[bd])[0],ee[1]);bc.lineEnd()}}else 1<ud&&bd&2&&Jc.push(Jc.pop().concat(Jc.shift())),dd.push(Jc.filter(pa))}var sb=ob(bc),Rb=qa(),ec=ob(Rb),Vb=!1,Qc,dd,zd,rd={point:Kc,lineStart:Q,lineEnd:ma,polygonStart:function(){rd.point=Ma;rd.lineStart=gb;rd.lineEnd=lb;dd=[];Qc=[]},polygonEnd:function(){rd.point=
Kc;rd.lineStart=Q;rd.lineEnd=ma;dd=l.merge(dd);var bd=Ca(Qc,Mb);dd.length?(Vb||(bc.polygonStart(),Vb=!0),Ra(dd,Ha,bd,zb,bc)):bd&&(Vb||(bc.polygonStart(),Vb=!0),bc.lineStart(),zb(null,null,1,bc),bc.lineEnd());Vb&&(bc.polygonEnd(),Vb=!1);dd=Qc=null},sphere:function(){bc.polygonStart();bc.lineStart();zb(null,null,1,bc);bc.lineEnd();bc.polygonEnd()}};return rd}}function pa(Wa){return 1<Wa.length}function Ha(Wa,ob){return(0>(Wa=Wa.x)[0]?Wa[1]-te-1E-6:te-Wa[1])-(0>(ob=ob.x)[0]?ob[1]-te-1E-6:te-ob[1])}function Ua(Wa){function ob(ma,
Ma){return Td(ma)*Td(Ma)>bc}function zb(ma,Ma,gb){var lb=y(ma),sb=y(Ma),Rb=[1,0,0];sb=D(lb,sb);var ec=B(sb,sb);lb=sb[0];var Vb=ec-lb*lb;if(!Vb)return!gb&&ma;ec=bc*ec/Vb;Vb=-bc*lb/Vb;lb=D(Rb,sb);Rb=M(Rb,ec);sb=M(sb,Vb);O(Rb,sb);sb=B(Rb,lb);ec=B(lb,lb);Vb=sb*sb-ec*(B(Rb,Rb)-1);if(!(0>Vb)){var Qc=ue(Vb);Vb=M(lb,(-sb-Qc)/ec);O(Vb,Rb);Vb=n(Vb);if(!gb)return Vb;gb=ma[0];var dd=Ma[0];ma=ma[1];Ma=Ma[1];if(dd<gb){var zd=gb;gb=dd;dd=zd}var rd=dd-gb,bd=1E-6>Be(rd-me);!bd&&Ma<ma&&(zd=ma,ma=Ma,Ma=zd);if(bd||1E-6>
rd?bd?0<ma+Ma^Vb[1]<(1E-6>Be(Vb[0]-gb)?ma:Ma):ma<=Vb[1]&&Vb[1]<=Ma:rd>me^(gb<=Vb[0]&&Vb[0]<=dd))return Ma=M(lb,(-sb+Qc)/ec),O(Ma,Rb),[Vb,n(Ma)]}}function Mb(ma,Ma){var gb=r?Wa:me-Wa,lb=0;ma<-gb?lb|=1:ma>gb&&(lb|=2);Ma<-gb?lb|=4:Ma>gb&&(lb|=8);return lb}var bc=Td(Wa),Kc=6*Xd,r=0<bc,Q=1E-6<Be(bc);return Ga(ob,function(ma){var Ma,gb,lb,sb,Rb;return{lineStart:function(){sb=lb=!1;Rb=1},point:function(ec,Vb){var Qc=[ec,Vb],dd=ob(ec,Vb);Vb=r?dd?0:Mb(ec,Vb):dd?Mb(ec+(0>ec?me:-me),Vb):0;!Ma&&(sb=lb=dd)&&ma.lineStart();
dd!==lb&&(ec=zb(Ma,Qc),!ec||Fa(Ma,ec)||Fa(Qc,ec))&&(Qc[2]=1);if(dd!==lb)Rb=0,dd?(ma.lineStart(),ec=zb(Qc,Ma),ma.point(ec[0],ec[1])):(ec=zb(Ma,Qc),ma.point(ec[0],ec[1],2),ma.lineEnd()),Ma=ec;else if(Q&&Ma&&r^dd){var zd;Vb&gb||!(zd=zb(Qc,Ma,!0))||(Rb=0,r?(ma.lineStart(),ma.point(zd[0][0],zd[0][1]),ma.point(zd[1][0],zd[1][1]),ma.lineEnd()):(ma.point(zd[1][0],zd[1][1]),ma.lineEnd(),ma.lineStart(),ma.point(zd[0][0],zd[0][1],3)))}!dd||Ma&&Fa(Ma,Qc)||ma.point(Qc[0],Qc[1]);Ma=Qc;lb=dd;gb=Vb},lineEnd:function(){lb&&
ma.lineEnd();Ma=null},clean:function(){return Rb|(sb&&lb)<<1}}},function(ma,Ma,gb,lb){ca(lb,Wa,Kc,gb,ma,Ma)},r?[0,-Wa]:[-me,Wa-me])}function jb(Wa,ob,zb,Mb,bc,Kc){var r=Wa[0],Q=Wa[1],ma=0,Ma=1,gb=ob[0]-r,lb=ob[1]-Q;zb-=r;if(gb||!(0<zb)){zb/=gb;if(0>gb){if(zb<ma)return;zb<Ma&&(Ma=zb)}else if(0<gb){if(zb>Ma)return;zb>ma&&(ma=zb)}zb=bc-r;if(gb||!(0>zb)){zb/=gb;if(0>gb){if(zb>Ma)return;zb>ma&&(ma=zb)}else if(0<gb){if(zb<ma)return;zb<Ma&&(Ma=zb)}zb=Mb-Q;if(lb||!(0<zb)){zb/=lb;if(0>lb){if(zb<ma)return;
zb<Ma&&(Ma=zb)}else if(0<lb){if(zb>Ma)return;zb>ma&&(ma=zb)}zb=Kc-Q;if(lb||!(0>zb)){zb/=lb;if(0>lb){if(zb>Ma)return;zb>ma&&(ma=zb)}else if(0<lb){if(zb<ma)return;zb<Ma&&(Ma=zb)}0<ma&&(Wa[0]=r+ma*gb,Wa[1]=Q+ma*lb);1>Ma&&(ob[0]=r+Ma*gb,ob[1]=Q+Ma*lb);return!0}}}}}function Fb(Wa,ob,zb,Mb){function bc(ma,Ma,gb,lb){var sb=0,Rb=0;if(null==ma||(sb=Kc(ma,gb))!==(Rb=Kc(Ma,gb))||0>Q(ma,Ma)^0<gb){do lb.point(0===sb||3===sb?Wa:zb,1<sb?Mb:ob);while((sb=(sb+gb+4)%4)!==Rb)}else lb.point(Ma[0],Ma[1])}function Kc(ma,
Ma){return 1E-6>Be(ma[0]-Wa)?0<Ma?0:3:1E-6>Be(ma[0]-zb)?0<Ma?2:1:1E-6>Be(ma[1]-ob)?0<Ma?1:0:0<Ma?3:2}function r(ma,Ma){return Q(ma.x,Ma.x)}function Q(ma,Ma){var gb=Kc(ma,1),lb=Kc(Ma,1);return gb!==lb?gb-lb:0===gb?Ma[1]-ma[1]:1===gb?ma[0]-Ma[0]:2===gb?ma[1]-Ma[1]:Ma[0]-ma[0]}return function(ma){function Ma(ye,re){Wa<=ye&&ye<=zb&&ob<=re&&re<=Mb&&lb.point(ye,re)}function gb(ye,re){var Pf=Wa<=ye&&ye<=zb&&ob<=re&&re<=Mb;ec&&Vb.push([ye,re]);if(ud)Qc=ye,dd=re,zd=Pf,ud=!1,Pf&&(lb.lineStart(),lb.point(ye,
re));else if(Pf&&Jc)lb.point(ye,re);else{var ke=[rd=Math.max(-1E9,Math.min(1E9,rd)),bd=Math.max(-1E9,Math.min(1E9,bd))],pe=[ye=Math.max(-1E9,Math.min(1E9,ye)),re=Math.max(-1E9,Math.min(1E9,re))];jb(ke,pe,Wa,ob,zb,Mb)?(Jc||(lb.lineStart(),lb.point(ke[0],ke[1])),lb.point(pe[0],pe[1]),Pf||lb.lineEnd(),ee=!1):Pf&&(lb.lineStart(),lb.point(ye,re),ee=!1)}rd=ye;bd=re;Jc=Pf}var lb=ma,sb=qa(),Rb,ec,Vb,Qc,dd,zd,rd,bd,Jc,ud,ee,Sd={point:Ma,lineStart:function(){Sd.point=gb;ec&&ec.push(Vb=[]);ud=!0;Jc=!1;rd=bd=
NaN},lineEnd:function(){Rb&&(gb(Qc,dd),zd&&Jc&&sb.rejoin(),Rb.push(sb.result()));Sd.point=Ma;Jc&&lb.lineEnd()},polygonStart:function(){lb=sb;Rb=[];ec=[];ee=!0},polygonEnd:function(){for(var ye,re=ye=0,Pf=ec.length;re<Pf;++re){var ke=ec[re],pe=1,Re=ke.length,xd=ke[0],Oe=xd[0];for(xd=xd[1];pe<Re;++pe){var dg=Oe;var Xe=xd;xd=ke[pe];Oe=xd[0];xd=xd[1];Xe<=Mb?xd>Mb&&(Oe-dg)*(Mb-Xe)>(xd-Xe)*(Wa-dg)&&++ye:xd<=Mb&&(Oe-dg)*(Mb-Xe)<(xd-Xe)*(Wa-dg)&&--ye}}re=ee&&ye;Pf=(Rb=l.merge(Rb)).length;if(re||Pf)ma.polygonStart(),
re&&(ma.lineStart(),bc(null,null,1,ma),ma.lineEnd()),Pf&&Ra(Rb,r,ye,bc,ma),ma.polygonEnd();lb=ma;Rb=ec=Vb=null}};return Sd}}function Xb(){je.point=je.lineEnd=x}function nc(Wa,ob){Wa*=Xd;ob*=Xd;nd=Wa;Kd=kc(ob);de=Td(ob);je.point=md}function md(Wa,ob){Wa*=Xd;ob*=Xd;var zb=kc(ob);ob=Td(ob);var Mb=Be(Wa-nd),bc=Td(Mb);Mb=kc(Mb);Mb*=ob;var Kc=de*zb-Kd*ob*bc;bc=Kd*zb+de*ob*bc;Wc.add(Ge(ue(Mb*Mb+Kc*Kc),bc));nd=Wa;Kd=zb;de=ob}function pc(Wa){Wc=new l.Adder;g(Wa,je);return+Wc}function Hc(Wa,ob){Gd[0]=Wa;Gd[1]=
ob;return pc(Le)}function mb(Wa,ob){return Wa&&Ie.hasOwnProperty(Wa.type)?Ie[Wa.type](Wa,ob):!1}function hc(Wa,ob){for(var zb,Mb,bc,Kc=0,r=Wa.length;Kc<r;Kc++){Mb=Hc(Wa[Kc],ob);if(0===Mb||0<Kc&&(bc=Hc(Wa[Kc],Wa[Kc-1]),0<bc&&zb<=bc&&Mb<=bc&&(zb+Mb-bc)*(1-Math.pow((zb-Mb)/bc,2))<1E-12*bc))return!0;zb=Mb}return!1}function jc(Wa,ob){return!!Ca(Wa.map(rc),Pc(ob))}function rc(Wa){return Wa=Wa.map(Pc),Wa.pop(),Wa}function Pc(Wa){return[Wa[0]*Xd,Wa[1]*Xd]}function sc(Wa,ob,zb){var Mb=l.range(Wa,ob-1E-6,zb).concat(ob);
return function(bc){return Mb.map(function(Kc){return[bc,Kc]})}}function Uc(Wa,ob,zb){var Mb=l.range(Wa,ob-1E-6,zb).concat(ob);return function(bc){return Mb.map(function(Kc){return[Kc,bc]})}}function Sc(){function Wa(){return{type:"MultiLineString",coordinates:ob()}}function ob(){return l.range(Ye(Kc/sb)*sb,bc,sb).map(Qc).concat(l.range(Ye(Ma/Rb)*Rb,ma,Rb).map(dd)).concat(l.range(Ye(Mb/gb)*gb,zb,gb).filter(function(rd){return 1E-6<Be(rd%sb)}).map(ec)).concat(l.range(Ye(Q/lb)*lb,r,lb).filter(function(rd){return 1E-6<
Be(rd%Rb)}).map(Vb))}var zb,Mb,bc,Kc,r,Q,ma,Ma,gb=10,lb=gb,sb=90,Rb=360,ec,Vb,Qc,dd,zd=2.5;Wa.lines=function(){return ob().map(function(rd){return{type:"LineString",coordinates:rd}})};Wa.outline=function(){return{type:"Polygon",coordinates:[Qc(Kc).concat(dd(ma).slice(1),Qc(bc).reverse().slice(1),dd(Ma).reverse().slice(1))]}};Wa.extent=function(rd){return arguments.length?Wa.extentMajor(rd).extentMinor(rd):Wa.extentMinor()};Wa.extentMajor=function(rd){if(!arguments.length)return[[Kc,Ma],[bc,ma]];Kc=
+rd[0][0];bc=+rd[1][0];Ma=+rd[0][1];ma=+rd[1][1];Kc>bc&&(rd=Kc,Kc=bc,bc=rd);Ma>ma&&(rd=Ma,Ma=ma,ma=rd);return Wa.precision(zd)};Wa.extentMinor=function(rd){if(!arguments.length)return[[Mb,Q],[zb,r]];Mb=+rd[0][0];zb=+rd[1][0];Q=+rd[0][1];r=+rd[1][1];Mb>zb&&(rd=Mb,Mb=zb,zb=rd);Q>r&&(rd=Q,Q=r,r=rd);return Wa.precision(zd)};Wa.step=function(rd){return arguments.length?Wa.stepMajor(rd).stepMinor(rd):Wa.stepMinor()};Wa.stepMajor=function(rd){if(!arguments.length)return[sb,Rb];sb=+rd[0];Rb=+rd[1];return Wa};
Wa.stepMinor=function(rd){if(!arguments.length)return[gb,lb];gb=+rd[0];lb=+rd[1];return Wa};Wa.precision=function(rd){if(!arguments.length)return zd;zd=+rd;ec=sc(Q,r,90);Vb=Uc(Mb,zb,zd);Qc=sc(Ma,ma,90);dd=Uc(Kc,bc,zd);return Wa};return Wa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Lc(){Lf.point=Fd}function Fd(Wa,ob){Lf.point=ge;ne=Cf=Wa;sf=Bg=ob}function ge(Wa,ob){Uf.add(Bg*Wa-Cf*ob);Cf=Wa;Bg=ob}function wd(){ge(ne,sf)}function vd(Wa,
ob){fb+=Wa;hb+=ob;++qb}function Wd(){xb.point=Pb}function Pb(Wa,ob){xb.point=gc;vd(Oa=Wa,Va=ob)}function gc(Wa,ob){var zb=Wa-Oa,Mb=ob-Va;zb=ue(zb*zb+Mb*Mb);Db+=zb*(Oa+Wa)/2;Ab+=zb*(Va+ob)/2;Kb+=zb;vd(Oa=Wa,Va=ob)}function Eb(){xb.point=vd}function zc(){xb.point=Ed}function Vc(){Vd(Y,oa)}function Ed(Wa,ob){xb.point=Vd;vd(Y=Oa=Wa,oa=Va=ob)}function Vd(Wa,ob){var zb=Wa-Oa,Mb=ob-Va;zb=ue(zb*zb+Mb*Mb);Db+=zb*(Oa+Wa)/2;Ab+=zb*(Va+ob)/2;Kb+=zb;zb=Va*Wa-Oa*ob;Jb+=zb*(Oa+Wa);cc+=zb*(Va+ob);xc+=3*zb;vd(Oa=
Wa,Va=ob)}function Ka(Wa){this._context=Wa}function eb(Wa,ob){Pd.point=wb;qc=ed=Wa;Ec=Zc=ob}function wb(Wa,ob){ed-=Wa;Zc-=ob;Sb.add(ue(ed*ed+Zc*Zc));ed=Wa;Zc=ob}function Hb(){this._string=[]}function ac(Wa){return"m0,"+Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+-2*Wa+"a"+Wa+","+Wa+" 0 1,1 0,"+2*Wa+"z"}function Lb(Wa){return function(ob){var zb=new Ac,Mb;for(Mb in Wa)zb[Mb]=Wa[Mb];zb.stream=ob;return zb}}function Ac(){}function tc(Wa,ob,zb){var Mb=Wa.clipExtent&&Wa.clipExtent();Wa.scale(150).translate([0,0]);null!=
Mb&&Wa.clipExtent(null);g(zb,Wa.stream(Sa));ob(Sa.result());null!=Mb&&Wa.clipExtent(Mb);return Wa}function pb(Wa,ob,zb){return tc(Wa,function(Mb){var bc=ob[1][0]-ob[0][0],Kc=ob[1][1]-ob[0][1],r=Math.min(bc/(Mb[1][0]-Mb[0][0]),Kc/(Mb[1][1]-Mb[0][1]));bc=+ob[0][0]+(bc-r*(Mb[1][0]+Mb[0][0]))/2;Mb=+ob[0][1]+(Kc-r*(Mb[1][1]+Mb[0][1]))/2;Wa.scale(150*r).translate([bc,Mb])},zb)}function Bb(Wa,ob,zb){return tc(Wa,function(Mb){var bc=+ob,Kc=bc/(Mb[1][0]-Mb[0][0]);bc=(bc-Kc*(Mb[1][0]+Mb[0][0]))/2;Mb=-Kc*Mb[0][1];
Wa.scale(150*Kc).translate([bc,Mb])},zb)}function Ub(Wa,ob,zb){return tc(Wa,function(Mb){var bc=+ob,Kc=bc/(Mb[1][1]-Mb[0][1]),r=-Kc*Mb[0][0];Mb=(bc-Kc*(Mb[1][1]+Mb[0][1]))/2;Wa.scale(150*Kc).translate([r,Mb])},zb)}function mc(Wa){return Lb({point:function(ob,zb){ob=Wa(ob,zb);this.stream.point(ob[0],ob[1])}})}function Bc(Wa,ob){function zb(Mb,bc,Kc,r,Q,ma,Ma,gb,lb,sb,Rb,ec,Vb,Qc){var dd=Ma-Mb,zd=gb-bc,rd=dd*dd+zd*zd;if(rd>4*ob&&Vb--){var bd=r+sb,Jc=Q+Rb,ud=ma+ec,ee=ue(bd*bd+Jc*Jc+ud*ud),Sd=H(ud/=ee),
ye=1E-6>Be(Be(ud)-1)||1E-6>Be(Kc-lb)?(Kc+lb)/2:Ge(Jc,bd),re=Wa(ye,Sd);Sd=re[0];re=re[1];var Pf=Sd-Mb,ke=re-bc,pe=zd*Pf-dd*ke;if(pe*pe/rd>ob||.3<Be((dd*Pf+zd*ke)/rd-.5)||r*sb+Q*Rb+ma*ec<be)zb(Mb,bc,Kc,r,Q,ma,Sd,re,ye,bd/=ee,Jc/=ee,ud,Vb,Qc),Qc.point(Sd,re),zb(Sd,re,ye,bd,Jc,ud,Ma,gb,lb,sb,Rb,ec,Vb,Qc)}}return function(Mb){function bc(Sd,ye){Sd=Wa(Sd,ye);Mb.point(Sd[0],Sd[1])}function Kc(){zd=NaN;ee.point=r;Mb.lineStart()}function r(Sd,ye){var re=y([Sd,ye]);ye=Wa(Sd,ye);zb(zd,rd,dd,bd,Jc,ud,zd=ye[0],
rd=ye[1],dd=Sd,bd=re[0],Jc=re[1],ud=re[2],16,Mb);Mb.point(zd,rd)}function Q(){ee.point=bc;Mb.lineEnd()}function ma(){Kc();ee.point=Ma;ee.lineEnd=gb}function Ma(Sd,ye){r(lb=Sd,ye);sb=zd;Rb=rd;ec=bd;Vb=Jc;Qc=ud;ee.point=r}function gb(){zb(zd,rd,dd,bd,Jc,ud,sb,Rb,lb,ec,Vb,Qc,16,Mb);ee.lineEnd=Q;Q()}var lb,sb,Rb,ec,Vb,Qc,dd,zd,rd,bd,Jc,ud,ee={point:bc,lineStart:Kc,lineEnd:Q,polygonStart:function(){Mb.polygonStart();ee.lineStart=ma},polygonEnd:function(){Mb.polygonEnd();ee.lineStart=Kc}};return ee}}function Cc(Wa){return Lb({point:function(ob,
zb){ob=Wa(ob,zb);return this.stream.point(ob[0],ob[1])}})}function Xc(Wa,ob,zb,Mb,bc){function Kc(r,Q){r*=Mb;Q*=bc;return[ob+Wa*r,zb-Wa*Q]}Kc.invert=function(r,Q){return[(r-ob)/Wa*Mb,(zb-Q)/Wa*bc]};return Kc}function Qb(Wa,ob,zb,Mb,bc,Kc){function r(ec,Vb){ec*=Mb;Vb*=bc;return[ma*ec-Ma*Vb+ob,zb-Ma*ec-ma*Vb]}if(!Kc)return Xc(Wa,ob,zb,Mb,bc);var Q=Td(Kc);Kc=kc(Kc);var ma=Q*Wa,Ma=Kc*Wa,gb=Q/Wa,lb=Kc/Wa,sb=(Kc*zb-Q*ob)/Wa,Rb=(Kc*ob+Q*zb)/Wa;r.invert=function(ec,Vb){return[Mb*(gb*ec-lb*Vb+sb),bc*(Rb-lb*
ec-gb*Vb)]};return r}function Ic(Wa){return Dc(function(){return Wa})()}function Dc(Wa){function ob(xd){return ke(xd[0]*Xd,xd[1]*Xd)}function zb(xd){return(xd=ke.invert(xd[0],xd[1]))&&[xd[0]*Od,xd[1]*Od]}function Mb(){var xd=Qb(r,0,0,Qc,dd,Vb).apply(null,Kc(Ma,gb));xd=Qb(r,Q-xd[0],ma-xd[1],Qc,dd,Vb);ec=Da(lb,sb,Rb);Pf=Ta(Kc,xd);ke=Ta(ec,Pf);xd=Pf;re=+ye?Bc(xd,ye):mc(xd);return bc()}function bc(){pe=Re=null;return ob}var Kc,r=150,Q=480,ma=250,Ma=0,gb=0,lb=0,sb=0,Rb=0,ec,Vb=0,Qc=1,dd=1,zd=null,rd=fd,
bd=null,Jc,ud,ee,Sd=Ce,ye=.5,re,Pf,ke,pe,Re;ob.stream=function(xd){return pe&&Re===xd?pe:pe=pd(Cc(ec)(rd(re(Sd(Re=xd)))))};ob.preclip=function(xd){return arguments.length?(rd=xd,zd=void 0,bc()):rd};ob.postclip=function(xd){return arguments.length?(Sd=xd,bd=Jc=ud=ee=null,bc()):Sd};ob.clipAngle=function(xd){return arguments.length?(rd=+xd?Ua(zd=xd*Xd):(zd=null,fd),bc()):zd*Od};ob.clipExtent=function(xd){return arguments.length?(Sd=null==xd?(bd=Jc=ud=ee=null,Ce):Fb(bd=+xd[0][0],Jc=+xd[0][1],ud=+xd[1][0],
ee=+xd[1][1]),bc()):null==bd?null:[[bd,Jc],[ud,ee]]};ob.scale=function(xd){return arguments.length?(r=+xd,Mb()):r};ob.translate=function(xd){return arguments.length?(Q=+xd[0],ma=+xd[1],Mb()):[Q,ma]};ob.center=function(xd){return arguments.length?(Ma=xd[0]%360*Xd,gb=xd[1]%360*Xd,Mb()):[Ma*Od,gb*Od]};ob.rotate=function(xd){return arguments.length?(lb=xd[0]%360*Xd,sb=xd[1]%360*Xd,Rb=2<xd.length?xd[2]%360*Xd:0,Mb()):[lb*Od,sb*Od,Rb*Od]};ob.angle=function(xd){return arguments.length?(Vb=xd%360*Xd,Mb()):
Vb*Od};ob.reflectX=function(xd){return arguments.length?(Qc=xd?-1:1,Mb()):0>Qc};ob.reflectY=function(xd){return arguments.length?(dd=xd?-1:1,Mb()):0>dd};ob.precision=function(xd){if(arguments.length){var Oe=Pf;var dg=ye=xd*xd;Oe=(re=+dg?Bc(Oe,dg):mc(Oe),bc())}else Oe=ue(ye);return Oe};ob.fitExtent=function(xd,Oe){return pb(ob,xd,Oe)};ob.fitSize=function(xd,Oe){return pb(ob,[[0,0],xd],Oe)};ob.fitWidth=function(xd,Oe){return Bb(ob,xd,Oe)};ob.fitHeight=function(xd,Oe){return Ub(ob,xd,Oe)};return function(){Kc=
Wa.apply(this,arguments);ob.invert=Kc.invert&&zb;return Mb()}}function uc(Wa){var ob=0,zb=me/3,Mb=Dc(Wa);Wa=Mb(ob,zb);Wa.parallels=function(bc){return arguments.length?Mb(ob=bc[0]*Xd,zb=bc[1]*Xd):[ob*Od,zb*Od]};return Wa}function Tc(Wa){function ob(Mb,bc){return[Mb*zb,kc(bc)/zb]}var zb=Td(Wa);ob.invert=function(Mb,bc){return[Mb/zb,H(bc*zb)]};return ob}function ad(Wa,ob){function zb(Q,ma){ma=ue(Kc-2*bc*kc(ma))/bc;return[ma*kc(Q*=bc),r-ma*Td(Q)]}var Mb=kc(Wa),bc=(Mb+kc(ob))/2;if(1E-6>Be(bc))return Tc(Wa);
var Kc=1+Mb*(2*bc-Mb),r=ue(Kc)/bc;zb.invert=function(Q,ma){ma=r-ma;var Ma=Ge(Q,Be(ma))*Fe(ma);0>ma*bc&&(Ma-=me*Fe(Q)*Fe(ma));return[Ma/bc,H((Kc-(Q*Q+ma*ma)*bc*bc)/(2*bc))]};return zb}function ld(){return uc(ad).scale(155.424).center([0,33.6442])}function Cd(){return ld().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Dd(Wa){var ob=Wa.length;return{point:function(zb,Mb){for(var bc=-1;++bc<ob;)Wa[bc].point(zb,Mb)},sphere:function(){for(var zb=-1;++zb<
ob;)Wa[zb].sphere()},lineStart:function(){for(var zb=-1;++zb<ob;)Wa[zb].lineStart()},lineEnd:function(){for(var zb=-1;++zb<ob;)Wa[zb].lineEnd()},polygonStart:function(){for(var zb=-1;++zb<ob;)Wa[zb].polygonStart()},polygonEnd:function(){for(var zb=-1;++zb<ob;)Wa[zb].polygonEnd()}}}function Ud(Wa){return function(ob,zb){var Mb=Td(ob),bc=Td(zb);Mb=Wa(Mb*bc);return Infinity===Mb?[2,0]:[Mb*bc*kc(ob),Mb*kc(zb)]}}function ae(Wa){return function(ob,zb){var Mb=ue(ob*ob+zb*zb),bc=Wa(Mb),Kc=kc(bc);bc=Td(bc);
return[Ge(ob*Kc,Mb*bc),H(Mb&&zb*Kc/Mb)]}}function oe(Wa,ob){return[Wa,xe(lf((te+ob)/2))]}function De(Wa){function ob(){var lb=me*bc(),sb=zb(ba(zb.rotate()).invert([0,0]));return r(null==Q?[[sb[0]-lb,sb[1]-lb],[sb[0]+lb,sb[1]+lb]]:Wa===oe?[[Math.max(sb[0]-lb,Q),ma],[Math.min(sb[0]+lb,Ma),gb]]:[[Q,Math.max(sb[1]-lb,ma)],[Ma,Math.min(sb[1]+lb,gb)]])}var zb=Ic(Wa),Mb=zb.center,bc=zb.scale,Kc=zb.translate,r=zb.clipExtent,Q=null,ma,Ma,gb;zb.scale=function(lb){return arguments.length?(bc(lb),ob()):bc()};
zb.translate=function(lb){return arguments.length?(Kc(lb),ob()):Kc()};zb.center=function(lb){return arguments.length?(Mb(lb),ob()):Mb()};zb.clipExtent=function(lb){return arguments.length?(null==lb?Q=ma=Ma=gb=null:(Q=+lb[0][0],ma=+lb[0][1],Ma=+lb[1][0],gb=+lb[1][1]),ob()):null==Q?null:[[Q,ma],[Ma,gb]]};return ob()}function fe(Wa,ob){function zb(r,Q){0<Kc?Q<-te+1E-6&&(Q=-te+1E-6):Q>te-1E-6&&(Q=te-1E-6);Q=Kc/le(lf((te+Q)/2),bc);return[Q*kc(bc*r),Kc-Q*Td(bc*r)]}var Mb=Td(Wa),bc=Wa===ob?kc(Wa):xe(Mb/
Td(ob))/xe(lf((te+ob)/2)/lf((te+Wa)/2)),Kc=Mb*le(lf((te+Wa)/2),bc)/bc;if(!bc)return oe;zb.invert=function(r,Q){Q=Kc-Q;var ma=Fe(bc)*ue(r*r+Q*Q),Ma=Ge(r,Be(Q))*Fe(Q);0>Q*bc&&(Ma-=me*Fe(r)*Fe(Q));return[Ma/bc,2*jf(le(Kc/ma,1/bc))-te]};return zb}function ef(Wa,ob){return[Wa,ob]}function Ze(Wa,ob){function zb(r,Q){Q=Kc-Q;r*=bc;return[Q*kc(r),Kc-Q*Td(r)]}var Mb=Td(Wa),bc=Wa===ob?kc(Wa):(Mb-Td(ob))/(ob-Wa),Kc=Mb/bc+Wa;if(1E-6>Be(bc))return ef;zb.invert=function(r,Q){Q=Kc-Q;var ma=Ge(r,Be(Q))*Fe(Q);0>Q*
bc&&(ma-=me*Fe(r)*Fe(Q));return[ma/bc,Kc-Fe(bc)*ue(r*r+Q*Q)]};return zb}function df(Wa,ob){ob=H(af*kc(ob));var zb=ob*ob,Mb=zb*zb*zb;return[Wa*Td(ob)/(af*(1.340264+3*-.081106*zb+Mb*(7*8.93E-4+.034164*zb))),ob*(1.340264+-.081106*zb+Mb*(8.93E-4+.003796*zb))]}function Zd(Wa,ob){var zb=Td(ob),Mb=Td(Wa)*zb;return[zb*kc(Wa)/Mb,kc(ob)/Mb]}function he(Wa,ob){var zb=ob*ob,Mb=zb*zb;return[Wa*(.8707-.131979*zb+Mb*(-.013791+Mb*(.003971*zb-.001529*Mb))),ob*(1.007226+zb*(.015085+Mb*(-.044475+.028874*zb-.005916*
Mb)))]}function zf(Wa,ob){return[Td(ob)*kc(Wa),kc(ob)]}function Ue(Wa,ob){var zb=Td(ob),Mb=1+Td(Wa)*zb;return[zb*kc(Wa)/Mb,kc(ob)/Mb]}function Nf(Wa,ob){return[xe(lf((te+ob)/2)),-Wa]}var me=Math.PI,te=me/2,kf=me/4,we=2*me,Od=180/me,Xd=me/180,Be=Math.abs,jf=Math.atan,Ge=Math.atan2,Td=Math.cos,Ye=Math.ceil,Xf=Math.exp,Gc=Math.hypot,xe=Math.log,le=Math.pow,kc=Math.sin,Fe=Math.sign||function(Wa){return 0<Wa?1:0>Wa?-1:0},ue=Math.sqrt,lf=Math.tan,Yf={Feature:function(Wa,ob){v(Wa.geometry,ob)},FeatureCollection:function(Wa,
ob){Wa=Wa.features;for(var zb=-1,Mb=Wa.length;++zb<Mb;)v(Wa[zb].geometry,ob)}},If={Sphere:function(Wa,ob){ob.sphere()},Point:function(Wa,ob){Wa=Wa.coordinates;ob.point(Wa[0],Wa[1],Wa[2])},MultiPoint:function(Wa,ob){for(var zb=Wa.coordinates,Mb=-1,bc=zb.length;++Mb<bc;)Wa=zb[Mb],ob.point(Wa[0],Wa[1],Wa[2])},LineString:function(Wa,ob){u(Wa.coordinates,ob,0)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)u(Wa[zb],ob,0)},Polygon:function(Wa,ob){m(Wa.coordinates,
ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)m(Wa[zb],ob)},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;for(var zb=-1,Mb=Wa.length;++zb<Mb;)v(Wa[zb],ob)}},Sf=new l.Adder,Bf=new l.Adder,qe,yc,wa,Ea,Za,Cb={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Sf=new l.Adder;Cb.lineStart=d;Cb.lineEnd=f},polygonEnd:function(){var Wa=+Sf;Bf.add(0>Wa?we+Wa:Wa);this.lineStart=this.lineEnd=this.point=x},sphere:function(){Bf.add(we)}},ub,Yb,$b,Oc,gd,Mc,Nd,
od,Id,jd,Qd,ie={point:z,lineStart:K,lineEnd:R,polygonStart:function(){ie.point=T;ie.lineStart=ja;ie.lineEnd=fa;Id=new l.Adder;Cb.polygonStart()},polygonEnd:function(){Cb.polygonEnd();ie.point=z;ie.lineStart=K;ie.lineEnd=R;0>Sf?(ub=-($b=180),Yb=-(Oc=90)):1E-6<Id?Oc=90:-1E-6>Id&&(Yb=-90);Qd[0]=ub;Qd[1]=$b},sphere:function(){ub=-($b=180);Yb=-(Oc=90)}},Gf,tf,kd,We,uf,mf,Zf,yf,Pe,nf,Aa,Pa,vb,Wb,Tb,ic,oc={sphere:x,point:P,lineStart:V,lineEnd:ya,polygonStart:function(){oc.lineStart=va;oc.lineEnd=Ia},polygonEnd:function(){oc.lineStart=
V;oc.lineEnd=ya}};Ya.invert=Ya;var fd=Ga(function(){return!0},function(Wa){var ob=NaN,zb=NaN,Mb=NaN,bc;return{lineStart:function(){Wa.lineStart();bc=1},point:function(Kc,r){var Q=0<Kc?me:-me,ma=Be(Kc-ob);if(1E-6>Be(ma-me))Wa.point(ob,zb=0<(zb+r)/2?te:-te),Wa.point(Mb,zb),Wa.lineEnd(),Wa.lineStart(),Wa.point(Q,zb),Wa.point(Kc,zb),bc=0;else if(Mb!==Q&&ma>=me){1E-6>Be(ob-Mb)&&(ob-=1E-6*Mb);1E-6>Be(Kc-Q)&&(Kc-=1E-6*Q);ma=ob;var Ma=zb,gb=Kc,lb,sb,Rb=kc(ma-gb);zb=1E-6<Be(Rb)?jf((kc(Ma)*(sb=Td(r))*kc(gb)-
kc(r)*(lb=Td(Ma))*kc(ma))/(lb*sb*Rb)):(Ma+r)/2;Wa.point(Mb,zb);Wa.lineEnd();Wa.lineStart();Wa.point(Q,zb);bc=0}Wa.point(ob=Kc,zb=r);Mb=Q},lineEnd:function(){Wa.lineEnd();ob=zb=NaN},clean:function(){return 2-bc}}},function(Wa,ob,zb,Mb){null==Wa?(zb*=te,Mb.point(-me,zb),Mb.point(0,zb),Mb.point(me,zb),Mb.point(me,0),Mb.point(me,-zb),Mb.point(0,-zb),Mb.point(-me,-zb),Mb.point(-me,0),Mb.point(-me,zb)):1E-6<Be(Wa[0]-ob[0])?(Wa=Wa[0]<ob[0]?me:-me,zb=zb*Wa/2,Mb.point(-Wa,zb),Mb.point(0,zb),Mb.point(Wa,zb)):
Mb.point(ob[0],ob[1])},[-me,-te]),Wc,nd,Kd,de,je={sphere:x,point:x,lineStart:function(){je.point=nc;je.lineEnd=Xb},lineEnd:x,polygonStart:x,polygonEnd:x},Gd=[null,null],Le={type:"LineString",coordinates:Gd},$d={Feature:function(Wa,ob){return mb(Wa.geometry,ob)},FeatureCollection:function(Wa,ob){Wa=Wa.features;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(mb(Wa[zb].geometry,ob))return!0;return!1}},Ie={Sphere:function(){return!0},Point:function(Wa,ob){return 0===Hc(Wa.coordinates,ob)},MultiPoint:function(Wa,
ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(0===Hc(Wa[zb],ob))return!0;return!1},LineString:function(Wa,ob){return hc(Wa.coordinates,ob)},MultiLineString:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(hc(Wa[zb],ob))return!0;return!1},Polygon:function(Wa,ob){return jc(Wa.coordinates,ob)},MultiPolygon:function(Wa,ob){Wa=Wa.coordinates;for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(jc(Wa[zb],ob))return!0;return!1},GeometryCollection:function(Wa,ob){Wa=Wa.geometries;
for(var zb=-1,Mb=Wa.length;++zb<Mb;)if(mb(Wa[zb],ob))return!0;return!1}},Ce=Wa=>Wa,Qe=new l.Adder,Uf=new l.Adder,ne,sf,Cf,Bg,Lf={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Lf.lineStart=Lc;Lf.lineEnd=wd},polygonEnd:function(){Lf.lineStart=Lf.lineEnd=Lf.point=x;Qe.add(Be(Uf));Uf=new l.Adder},result:function(){var Wa=Qe/2;Qe=new l.Adder;return Wa}},jg=Infinity,xa=jg,za=-jg,Na=za,Sa={point:function(Wa,ob){Wa<jg&&(jg=Wa);Wa>za&&(za=Wa);ob<xa&&(xa=ob);ob>Na&&(Na=ob)},lineStart:x,lineEnd:x,polygonStart:x,
polygonEnd:x,result:function(){var Wa=[[jg,xa],[za,Na]];za=Na=-(xa=jg=Infinity);return Wa}},fb=0,hb=0,qb=0,Db=0,Ab=0,Kb=0,Jb=0,cc=0,xc=0,Y,oa,Oa,Va,xb={point:vd,lineStart:Wd,lineEnd:Eb,polygonStart:function(){xb.lineStart=zc;xb.lineEnd=Vc},polygonEnd:function(){xb.point=vd;xb.lineStart=Wd;xb.lineEnd=Eb},result:function(){var Wa=xc?[Jb/xc,cc/xc]:Kb?[Db/Kb,Ab/Kb]:qb?[fb/qb,hb/qb]:[NaN,NaN];fb=hb=qb=Db=Ab=Kb=Jb=cc=xc=0;return Wa}};Ka.prototype={_radius:4.5,pointRadius:function(Wa){return this._radius=
Wa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(Wa,ob){switch(this._point){case 0:this._context.moveTo(Wa,ob);this._point=1;break;case 1:this._context.lineTo(Wa,ob);break;default:this._context.moveTo(Wa+this._radius,ob),this._context.arc(Wa,ob,this._radius,0,we)}},result:x};var Sb=new l.Adder,Zb,qc,Ec,ed,Zc,Pd={point:x,lineStart:function(){Pd.point=
eb},lineEnd:function(){Zb&&wb(qc,Ec);Pd.point=x},polygonStart:function(){Zb=!0},polygonEnd:function(){Zb=null},result:function(){var Wa=+Sb;Sb=new l.Adder;return Wa}};Hb.prototype={_radius:4.5,_circle:ac(4.5),pointRadius:function(Wa){(Wa=+Wa)!==this._radius&&(this._radius=Wa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(Wa,
ob){switch(this._point){case 0:this._string.push("M",Wa,",",ob);this._point=1;break;case 1:this._string.push("L",Wa,",",ob);break;default:null==this._circle&&(this._circle=ac(this._radius)),this._string.push("M",Wa,",",ob,this._circle)}},result:function(){if(this._string.length){var Wa=this._string.join("");this._string=[];return Wa}return null}};Ac.prototype={constructor:Ac,point:function(Wa,ob){this.stream.point(Wa,ob)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},
lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Td(30*Xd),pd=Lb({point:function(Wa,ob){this.stream.point(Wa*Xd,ob*Xd)}}),Ad=Ud(function(Wa){return ue(2/(1+Wa))});Ad.invert=ae(function(Wa){return 2*H(Wa/2)});var id=Ud(function(Wa){return(Wa=w(Wa))&&Wa/kc(Wa)});id.invert=ae(function(Wa){return Wa});oe.invert=function(Wa,ob){return[Wa,2*jf(Xf(ob))-te]};ef.invert=ef;var af=ue(3)/2;df.invert=function(Wa,
ob){for(var zb=ob,Mb=zb*zb,bc=Mb*Mb*Mb,Kc=0,r;12>Kc&&!(r=zb*(1.340264+-.081106*Mb+bc*(8.93E-4+.003796*Mb))-ob,Mb=1.340264+3*-.081106*Mb+bc*(7*8.93E-4+.034164*Mb),zb-=r/=Mb,Mb=zb*zb,bc=Mb*Mb*Mb,1E-12>Be(r));++Kc);return[af*Wa*(1.340264+3*-.081106*Mb+bc*(7*8.93E-4+.034164*Mb))/Td(zb),H(kc(zb)/af)]};Zd.invert=ae(jf);he.invert=function(Wa,ob){var zb=ob,Mb=25;do{var bc=zb*zb;var Kc=bc*bc;zb-=Kc=(zb*(1.007226+bc*(.015085+Kc*(-.044475+.028874*bc-.005916*Kc)))-ob)/(1.007226+bc*(.045255+Kc*(-.311325+.259866*
bc-.005916*11*Kc)))}while(1E-6<Be(Kc)&&0<--Mb);return[Wa/(.8707+(bc=zb*zb)*(-.131979+bc*(-.013791+bc*bc*bc*(.003971-.001529*bc)))),zb]};zf.invert=ae(H);Ue.invert=ae(function(Wa){return 2*jf(Wa)});Nf.invert=function(Wa,ob){return[-ob,2*jf(Xf(Wa))-te]};k.geoAlbers=Cd;k.geoAlbersUsa=function(){function Wa(sb){var Rb=sb[0];sb=sb[1];return gb=null,(Kc.point(Rb,sb),gb)||(Q.point(Rb,sb),gb)||(Ma.point(Rb,sb),gb)}function ob(){zb=Mb=null;return Wa}var zb,Mb,bc=Cd(),Kc,r=ld().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),Q,ma=ld().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ma,gb,lb={point:function(sb,Rb){gb=[sb,Rb]}};Wa.invert=function(sb){var Rb=bc.scale(),ec=bc.translate(),Vb=(sb[0]-ec[0])/Rb;Rb=(sb[1]-ec[1])/Rb;return(.12<=Rb&&.234>Rb&&-.425<=Vb&&-.214>Vb?r:.166<=Rb&&.234>Rb&&-.214<=Vb&&-.115>Vb?ma:bc).invert(sb)};Wa.stream=function(sb){return zb&&Mb===sb?zb:zb=Dd([bc.stream(Mb=sb),r.stream(sb),ma.stream(sb)])};Wa.precision=function(sb){if(!arguments.length)return bc.precision();bc.precision(sb);
r.precision(sb);ma.precision(sb);return ob()};Wa.scale=function(sb){if(!arguments.length)return bc.scale();bc.scale(sb);r.scale(.35*sb);ma.scale(sb);return Wa.translate(bc.translate())};Wa.translate=function(sb){if(!arguments.length)return bc.translate();var Rb=bc.scale(),ec=+sb[0],Vb=+sb[1];Kc=bc.translate(sb).clipExtent([[ec-.455*Rb,Vb-.238*Rb],[ec+.455*Rb,Vb+.238*Rb]]).stream(lb);Q=r.translate([ec-.307*Rb,Vb+.201*Rb]).clipExtent([[ec-.425*Rb+1E-6,Vb+.12*Rb+1E-6],[ec-.214*Rb-1E-6,Vb+.234*Rb-1E-6]]).stream(lb);
Ma=ma.translate([ec-.205*Rb,Vb+.212*Rb]).clipExtent([[ec-.214*Rb+1E-6,Vb+.166*Rb+1E-6],[ec-.115*Rb-1E-6,Vb+.234*Rb-1E-6]]).stream(lb);return ob()};Wa.fitExtent=function(sb,Rb){return pb(Wa,sb,Rb)};Wa.fitSize=function(sb,Rb){return pb(Wa,[[0,0],sb],Rb)};Wa.fitWidth=function(sb,Rb){return Bb(Wa,sb,Rb)};Wa.fitHeight=function(sb,Rb){return Ub(Wa,sb,Rb)};return Wa.scale(1070)};k.geoArea=function(Wa){Bf=new l.Adder;g(Wa,Cb);return 2*Bf};k.geoAzimuthalEqualArea=function(){return Ic(Ad).scale(124.75).clipAngle(179.999)};
k.geoAzimuthalEqualAreaRaw=Ad;k.geoAzimuthalEquidistant=function(){return Ic(id).scale(79.4188).clipAngle(179.999)};k.geoAzimuthalEquidistantRaw=id;k.geoBounds=function(Wa){var ob,zb,Mb;Oc=$b=-(ub=Yb=Infinity);jd=[];g(Wa,ie);if(ob=jd.length){jd.sort(la);Wa=1;var bc=jd[0];for(zb=[bc];Wa<ob;++Wa){var Kc=jd[Wa];Z(bc,Kc[0])||Z(bc,Kc[1])?(ha(bc[0],Kc[1])>ha(bc[0],bc[1])&&(bc[1]=Kc[1]),ha(Kc[0],bc[1])>ha(bc[0],bc[1])&&(bc[0]=Kc[0])):zb.push(bc=Kc)}var r=-Infinity;ob=zb.length-1;Wa=0;for(bc=zb[ob];Wa<=ob;bc=
Kc,++Wa)Kc=zb[Wa],(Mb=ha(bc[1],Kc[0]))>r&&(r=Mb,ub=Kc[0],$b=bc[1])}jd=Qd=null;return Infinity===ub||Infinity===Yb?[[NaN,NaN],[NaN,NaN]]:[[ub,Yb],[$b,Oc]]};k.geoCentroid=function(Wa){Gf=tf=kd=We=uf=mf=Zf=yf=0;Pe=new l.Adder;nf=new l.Adder;Aa=new l.Adder;g(Wa,oc);Wa=+Pe;var ob=+nf,zb=+Aa,Mb=Gc(Wa,ob,zb);return 1E-12>Mb&&(Wa=mf,ob=Zf,zb=yf,1E-6>tf&&(Wa=kd,ob=We,zb=uf),Mb=Gc(Wa,ob,zb),1E-12>Mb)?[NaN,NaN]:[Ge(ob,Wa)*Od,H(zb/Mb)*Od]};k.geoCircle=function(){function Wa(){var Q=ob.apply(this,arguments),ma=
zb.apply(this,arguments)*Xd,Ma=Mb.apply(this,arguments)*Xd;bc=[];Kc=Da(-Q[0]*Xd,-Q[1]*Xd,0).invert;ca(r,ma,Ma,1);Q={type:"Polygon",coordinates:[bc]};bc=Kc=null;return Q}var ob=ua([0,0]),zb=ua(90),Mb=ua(6),bc,Kc,r={point:function(Q,ma){bc.push(Q=Kc(Q,ma));Q[0]*=Od;Q[1]*=Od}};Wa.center=function(Q){return arguments.length?(ob="function"===typeof Q?Q:ua([+Q[0],+Q[1]]),Wa):ob};Wa.radius=function(Q){return arguments.length?(zb="function"===typeof Q?Q:ua(+Q),Wa):zb};Wa.precision=function(Q){return arguments.length?
(Mb="function"===typeof Q?Q:ua(+Q),Wa):Mb};return Wa};k.geoClipAntimeridian=fd;k.geoClipCircle=Ua;k.geoClipExtent=function(){var Wa=0,ob=0,zb=960,Mb=500,bc,Kc,r;return r={stream:function(Q){return bc&&Kc===Q?bc:bc=Fb(Wa,ob,zb,Mb)(Kc=Q)},extent:function(Q){return arguments.length?(Wa=+Q[0][0],ob=+Q[0][1],zb=+Q[1][0],Mb=+Q[1][1],bc=Kc=null,r):[[Wa,ob],[zb,Mb]]}}};k.geoClipRectangle=Fb;k.geoConicConformal=function(){return uc(fe).scale(109.5).parallels([30,30])};k.geoConicConformalRaw=fe;k.geoConicEqualArea=
ld;k.geoConicEqualAreaRaw=ad;k.geoConicEquidistant=function(){return uc(Ze).scale(131.154).center([0,13.9389])};k.geoConicEquidistantRaw=Ze;k.geoContains=function(Wa,ob){return(Wa&&$d.hasOwnProperty(Wa.type)?$d[Wa.type]:mb)(Wa,ob)};k.geoDistance=Hc;k.geoEqualEarth=function(){return Ic(df).scale(177.158)};k.geoEqualEarthRaw=df;k.geoEquirectangular=function(){return Ic(ef).scale(152.63)};k.geoEquirectangularRaw=ef;k.geoGnomonic=function(){return Ic(Zd).scale(144.049).clipAngle(60)};k.geoGnomonicRaw=
Zd;k.geoGraticule=Sc;k.geoGraticule10=function(){return Sc()()};k.geoIdentity=function(){function Wa(){ec=zb*Kc;Vb=zb*r;zd=rd=null;return ob}function ob(bd){var Jc=bd[0]*ec;bd=bd[1]*Vb;if(Q){var ud=bd*ma-Jc*Ma;Jc=Jc*ma+bd*Ma;bd=ud}return[Jc+Mb,bd+bc]}var zb=1,Mb=0,bc=0,Kc=1,r=1,Q=0,ma,Ma,gb=null,lb,sb,Rb,ec=1,Vb=1,Qc=Lb({point:function(bd,Jc){bd=ob([bd,Jc]);this.stream.point(bd[0],bd[1])}}),dd=Ce,zd,rd;ob.invert=function(bd){var Jc=bd[0]-Mb;bd=bd[1]-bc;if(Q){var ud=bd*ma+Jc*Ma;Jc=Jc*ma-bd*Ma;bd=ud}return[Jc/
ec,bd/Vb]};ob.stream=function(bd){return zd&&rd===bd?zd:zd=Qc(dd(rd=bd))};ob.postclip=function(bd){return arguments.length?(dd=bd,gb=lb=sb=Rb=null,Wa()):dd};ob.clipExtent=function(bd){return arguments.length?(dd=null==bd?(gb=lb=sb=Rb=null,Ce):Fb(gb=+bd[0][0],lb=+bd[0][1],sb=+bd[1][0],Rb=+bd[1][1]),Wa()):null==gb?null:[[gb,lb],[sb,Rb]]};ob.scale=function(bd){return arguments.length?(zb=+bd,Wa()):zb};ob.translate=function(bd){return arguments.length?(Mb=+bd[0],bc=+bd[1],Wa()):[Mb,bc]};ob.angle=function(bd){return arguments.length?
(Q=bd%360*Xd,Ma=kc(Q),ma=Td(Q),Wa()):Q*Od};ob.reflectX=function(bd){return arguments.length?(Kc=bd?-1:1,Wa()):0>Kc};ob.reflectY=function(bd){return arguments.length?(r=bd?-1:1,Wa()):0>r};ob.fitExtent=function(bd,Jc){return pb(ob,bd,Jc)};ob.fitSize=function(bd,Jc){return pb(ob,[[0,0],bd],Jc)};ob.fitWidth=function(bd,Jc){return Bb(ob,bd,Jc)};ob.fitHeight=function(bd,Jc){return Ub(ob,bd,Jc)};return ob};k.geoInterpolate=function(Wa,ob){var zb=Wa[0]*Xd,Mb=Wa[1]*Xd;Wa=ob[0]*Xd;ob=ob[1]*Xd;var bc=Td(Mb),
Kc=kc(Mb),r=Td(ob),Q=kc(ob),ma=bc*Td(zb),Ma=bc*kc(zb),gb=r*Td(Wa),lb=r*kc(Wa),sb=2*H(ue(N(ob-Mb)+bc*r*N(Wa-zb))),Rb=kc(sb);Wa=sb?function(ec){var Vb=kc(ec*=sb)/Rb,Qc=kc(sb-ec)/Rb;ec=Qc*ma+Vb*gb;var dd=Qc*Ma+Vb*lb;Vb=Qc*Kc+Vb*Q;return[Ge(dd,ec)*Od,Ge(Vb,ue(ec*ec+dd*dd))*Od]}:function(){return[zb*Od,Mb*Od]};Wa.distance=sb;return Wa};k.geoLength=pc;k.geoMercator=function(){return De(oe).scale(961/we)};k.geoMercatorRaw=oe;k.geoNaturalEarth1=function(){return Ic(he).scale(175.295)};k.geoNaturalEarth1Raw=
he;k.geoOrthographic=function(){return Ic(zf).scale(249.5).clipAngle(90.000001)};k.geoOrthographicRaw=zf;k.geoPath=function(Wa,ob){function zb(r){r&&("function"===typeof Mb&&Kc.pointRadius(+Mb.apply(this,arguments)),g(r,bc(Kc)));return Kc.result()}var Mb=4.5,bc,Kc;zb.area=function(r){g(r,bc(Lf));return Lf.result()};zb.measure=function(r){g(r,bc(Pd));return Pd.result()};zb.bounds=function(r){g(r,bc(Sa));return Sa.result()};zb.centroid=function(r){g(r,bc(xb));return xb.result()};zb.projection=function(r){return arguments.length?
(bc=null==r?(Wa=null,Ce):(Wa=r).stream,zb):Wa};zb.context=function(r){if(!arguments.length)return ob;Kc=null==r?(ob=null,new Hb):new Ka(ob=r);"function"!==typeof Mb&&Kc.pointRadius(Mb);return zb};zb.pointRadius=function(r){if(!arguments.length)return Mb;Mb="function"===typeof r?r:(Kc.pointRadius(+r),+r);return zb};return zb.projection(Wa).context(ob)};k.geoProjection=Ic;k.geoProjectionMutator=Dc;k.geoRotation=ba;k.geoStereographic=function(){return Ic(Ue).scale(250).clipAngle(142)};k.geoStereographicRaw=
Ue;k.geoStream=g;k.geoTransform=function(Wa){return{stream:Lb(Wa)}};k.geoTransverseMercator=function(){var Wa=De(Nf),ob=Wa.center,zb=Wa.rotate;Wa.center=function(Mb){return arguments.length?ob([-Mb[1],Mb[0]]):(Mb=ob(),[Mb[1],-Mb[0]])};Wa.rotate=function(Mb){return arguments.length?zb([Mb[0],Mb[1],2<Mb.length?Mb[2]+90:90]):(Mb=zb(),[Mb[0],Mb[1],Mb[2]-90])};return zb([0,0,90]).scale(159.155)};k.geoTransverseMercatorRaw=Nf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(39),A(15)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],l):l(k.d3=k.d3||{},k.d3,k.d3)})(this,function(k,l,w){function H(xa){return 1<xa?Za:-1>xa?-Za:Math.asin(xa)}function N(xa){return 1<xa?0:-1>xa?Ea:Math.acos(xa)}function x(xa){return 0<xa?Math.sqrt(xa):0}function v(xa){return(Fe(xa)-Fe(-xa))/2}function u(xa){return(Fe(xa)+Fe(-xa))/2}function m(xa){function za(fb,
hb){var qb=kc(fb),Db=kc(hb);hb=yc(hb);qb*=Db;qb=-((1-qb?lf((1+qb)/2)/(1-qb):-.5)+Sa/(1+qb));return[qb*Db*yc(fb),qb*hb]}var Na=wa(xa/2),Sa=2*lf(kc(xa/2))/(Na*Na);za.invert=function(fb,hb){var qb=x(fb*fb+hb*hb),Db=-xa/2,Ab=50;if(!qb)return[0,0];do{var Kb=Db/2;var Jb=kc(Kb);Kb=yc(Kb);var cc=Kb/Jb,xc=-lf(Gc(Jb));Db-=Jb=(2/cc*xc-Sa*cc-qb)/(-xc/(Kb*Kb)+1-Sa/(2*Jb*Jb))*(0>Jb?.7:1)}while(1E-6<Gc(Jb)&&0<--Ab);Ab=yc(Db);return[le(fb*Ab,qb*kc(Db)),H(hb*Ab/qb)]};return za}function g(xa,za){var Na=kc(za);var Sa=
(Sa=N(Na*kc(xa/=2)))?Sa/Math.sin(Sa):1;return[2*Na*yc(xa)*Sa,yc(za)*Sa]}function d(xa){function za(Db,Ab){var Kb=kc(Ab),Jb=kc(Db/=2);return[(1+Kb)*yc(Db),(fb*Ab>-le(Jb,hb)-.001?0:10*-fb)+qb+yc(Ab)*Sa-(1+Kb)*Na*Jb]}var Na=yc(xa),Sa=kc(xa),fb=0<=xa?1:-1,hb=wa(fb*xa),qb=(1+Na-Sa)/2;za.invert=function(Db,Ab){var Kb=0,Jb=0,cc=50;do{var xc=kc(Kb),Y=yc(Kb),oa=kc(Jb),Oa=yc(Jb),Va=1+oa,xb=Va*Y-Db,Sb=qb+Oa*Sa-Va*Na*xc-Ab,Zb=Va*xc/2,qc=-Y*Oa;Y=Na*Va*Y/2;oa=Sa*oa+Na*xc*Oa;xc=qc*Y-oa*Zb;qc=(Sb*qc-xb*oa)/xc/2;
xb=(xb*Y-Sb*Zb)/xc;2<Gc(xb)&&(xb/=2);Kb-=qc;Jb-=xb}while((1E-6<Gc(qc)||1E-6<Gc(xb))&&0<--cc);return fb*Jb>-le(kc(Kb),hb)-.001?[2*Kb,Jb]:null};return za}function f(xa,za){za=wa(za/2);var Na=x(1-za*za),Sa=1+Na*kc(xa/=2);xa=yc(xa)*Na/Sa;za/=Sa;Sa=xa*xa;Na=za*za;return[4/3*xa*(3+Sa-3*Na),4/3*za*(3+3*Sa-Na)]}function a(xa,za){var Na=Gc(za);return Na<Cb?[xa,lf(wa(Cb+za/2))]:[xa*kc(Na)*(2*Yb-1/yc(Na)),qe(za)*(2*Yb*(Na-Cb)-lf(wa(Na/2)))]}function e(xa){function za(Sa,fb){fb=l.geoAzimuthalEquidistantRaw(Sa,
fb);if(Gc(Sa)>Za){Sa=le(fb[1],fb[0]);var hb=x(fb[0]*fb[0]+fb[1]*fb[1]),qb=Na*Bf((Sa-Za)/Na)+Za,Db=le(yc(Sa-=qb),2-kc(Sa));Sa=qb+H(Ea/hb*yc(Db))-Db;fb[0]=hb*kc(Sa);fb[1]=hb*yc(Sa)}return fb}var Na=2*Ea/xa;za.invert=function(Sa,fb){var hb=x(Sa*Sa+fb*fb);if(hb>Za){var qb=le(fb,Sa);Sa=Na*Bf((qb-Za)/Na)+Za;fb=qb>Sa?-1:1;qb=hb*kc(Sa-qb);qb=1/wa(fb*N((qb-Ea)/x(Ea*(Ea-2*qb)+hb*hb)));qb=Sa+2*xe((qb+fb*x(qb*qb-3))/3);Sa=hb*kc(qb);fb=hb*yc(qb)}return l.geoAzimuthalEquidistantRaw.invert(Sa,fb)};return za}function n(xa,
za){function Na(Sa,fb){Sa=l.geoAzimuthalEqualAreaRaw(Sa/za,fb);Sa[0]*=xa;return Sa}2>arguments.length&&(za=xa);if(1===za)return l.geoAzimuthalEqualAreaRaw;if(Infinity===za)return y;Na.invert=function(Sa,fb){Sa=l.geoAzimuthalEqualAreaRaw.invert(Sa/xa,fb);Sa[0]*=za;return Sa};return Na}function y(xa,za){return[xa*kc(za)/kc(za/=2),2*yc(za)]}function B(xa,za,Na){var Sa=100;Na=void 0===Na?0:+Na;za=+za;do{var fb=xa(Na);var hb=xa(Na+1E-6);fb===hb&&(hb=fb+1E-6);Na-=fb=-1E-6*(fb-za)/(fb-hb)}while(0<Sa--&&
1E-6<Gc(fb));return 0>Sa?NaN:Na}function D(xa,za,Na){void 0===za&&(za=40);void 0===Na&&(Na=1E-12);return function(Sa,fb,hb,qb){hb=void 0===hb?0:+hb;qb=void 0===qb?0:+qb;for(var Db=0;Db<za;Db++){var Ab=xa(hb,qb),Kb=Ab[0]-Sa,Jb=Ab[1]-fb;if(Gc(Kb)<Na&&Gc(Jb)<Na)break;var cc=Kb*Kb+Jb*Jb;if(cc>xc)hb-=oa/=2,qb-=Va/=2;else{var xc=cc;cc=(0<hb?-1:1)*Na;var Y=(0<qb?-1:1)*Na;var oa=xa(hb+cc,qb);var Oa=xa(hb,qb+Y);var Va=(oa[0]-Ab[0])/cc;cc=(oa[1]-Ab[1])/cc;oa=(Oa[0]-Ab[0])/Y;Ab=(Oa[1]-Ab[1])/Y;Y=Ab*Va-cc*oa;
Y=(.5>Gc(Y)?.5:1)/Y;oa=(Jb*oa-Kb*Ab)*Y;Va=(Kb*cc-Jb*Va)*Y;hb+=oa;qb+=Va;if(Gc(oa)<Na&&Gc(Va)<Na)break}}return[hb,qb]}}function O(){function xa(Na,Sa){if(-1.4>Na+Sa){var fb=(Na-Sa+1.6)*(Na+Sa+1.4)/8;Na+=fb;Sa-=.8*fb*yc(Sa+Ea/2)}fb=za(Na,Sa);Na=(1-kc(Na*Sa))/12;0>fb[1]&&(fb[0]*=1+Na);0<fb[1]&&(fb[1]*=1+Na/1.5*fb[0]*fb[0]);return fb}var za=n(1.68,2);xa.invert=D(xa);return xa}function M(xa,za){xa*=yc(za);var Na=30,Sa;do za-=Sa=(za+yc(za)-xa)/(1+kc(za));while(1E-6<Gc(Sa)&&0<--Na);return za/2}function F(xa,
za,Na){function Sa(fb,hb){return[xa*fb*kc(hb=M(Na,hb)),za*yc(hb)]}Sa.invert=function(fb,hb){return hb=H(hb/za),[fb/(xa*kc(hb)),H((2*hb+yc(2*hb))/Na)]};return Sa}function z(xa,za){var Na=M(Ea,za);return[2.00276*xa/(1/kc(za)+1.11072/kc(Na)),(za+Yb*yc(Na))/2.00276]}function G(xa){var za=0,Na=l.geoProjectionMutator(xa);xa=Na(za);xa.parallel=function(Sa){return arguments.length?Na(za=Sa*Mc):za*gd};return xa}function K(xa,za){return[xa*kc(za),za]}function R(xa){function za(Sa,fb){var hb=Na+xa-fb;Sa=hb?
Sa*kc(fb)/hb:hb;return[hb*yc(Sa),Na-hb*kc(Sa)]}if(!xa)return K;var Na=1/wa(xa);za.invert=function(Sa,fb){var hb=x(Sa*Sa+(fb=Na-fb)*fb),qb=Na+xa-hb;return[hb/kc(qb)*le(Sa,fb),qb]};return za}function T(xa){function za(Na,Sa){Na=(Sa=Za-Sa)?Na*xa*yc(Sa)/Sa:Sa;return[Sa*yc(Na)/xa,Za-Sa*kc(Na)]}za.invert=function(Na,Sa){Na*=xa;var fb=Za-Sa;Sa=x(Na*Na+fb*fb);Na=le(Na,fb);return[(Sa?Sa/yc(Sa):1)*Na/xa,Za-Sa]};return za}function ja(xa,za,Na,Sa,fb,hb){var qb=kc(hb);if(1<Gc(xa)||1<Gc(hb))xa=N(Na*fb+za*Sa*qb);
else{xa=yc(xa/2);var Db=yc(hb/2);xa=2*H(x(xa*xa+za*Sa*Db*Db))}return 1E-6<Gc(xa)?[xa,le(Sa*yc(hb),za*fb-Na*Sa*qb)]:[0,0]}function fa(xa,za,Na){return N((xa*xa+za*za-Na*Na)/(2*xa*za))}function ha(xa,za,Na){var Sa=[[xa[0],xa[1],yc(xa[1]),kc(xa[1])],[za[0],za[1],yc(za[1]),kc(za[1])],[Na[0],Na[1],yc(Na[1]),kc(Na[1])]];xa=Sa[2];for(Na=0;3>Na;++Na,xa=za)za=Sa[Na],xa.v=ja(za[1]-xa[1],xa[3],xa[2],za[3],za[2],za[0]-xa[0]),xa.point=[0,0];xa=fa(Sa[0].v[0],Sa[2].v[0],Sa[1].v[0]);var fb=fa(Sa[0].v[0],Sa[1].v[0],
Sa[2].v[0]),hb=Ea-xa;Sa[2].point[1]=0;Sa[0].point[0]=-(Sa[1].point[0]=Sa[0].v[0]/2);var qb=[Sa[2].point[0]=Sa[0].point[0]+Sa[2].v[0]*kc(xa),2*(Sa[0].point[1]=Sa[1].point[1]=Sa[2].v[0]*yc(xa))];return function(Db,Ab){var Kb=yc(Ab),Jb=kc(Ab),cc=Array(3),xc;for(xc=0;3>xc;++xc){var Y=Sa[xc];cc[xc]=ja(Ab-Y[1],Y[3],Y[2],Jb,Kb,Db-Y[0]);if(!cc[xc][0])return Y.point;var oa=cc[xc];Y=cc[xc][1]-Y.v[1];Y-=2*Ea*ue((Y+Ea)/(2*Ea));oa[1]=Y}Db=qb.slice();for(xc=0;3>xc;++xc)Ab=fa(Sa[xc].v[0],cc[xc][0],cc[2==xc?0:xc+
1][0]),0>cc[xc][1]&&(Ab=-Ab),xc?1==xc?(Ab=fb-Ab,Db[0]-=cc[xc][0]*kc(Ab),Db[1]-=cc[xc][0]*yc(Ab)):(Ab=hb-Ab,Db[0]+=cc[xc][0]*kc(Ab),Db[1]+=cc[xc][0]*yc(Ab)):(Db[0]+=cc[xc][0]*kc(Ab),Db[1]-=cc[xc][0]*yc(Ab));Db[0]/=3;Db[1]/=3;return Db}}function la(xa){return xa[0]*=Mc,xa[1]*=Mc,xa}function Z(xa,za,Na){var Sa=l.geoCentroid({type:"MultiPoint",coordinates:[xa,za,Na]});Sa=[-Sa[0],-Sa[1]];var fb=l.geoRotation(Sa);xa=ha(la(fb(xa)),la(fb(za)),la(fb(Na)));xa.invert=D(xa);xa=l.geoProjection(xa).rotate(Sa);
var hb=xa.center;delete xa.rotate;xa.center=function(qb){return arguments.length?hb(fb(qb)):fb.invert(hb())};return xa.clipAngle(90)}function P(xa,za){za=x(1-yc(za));return[2/$b*xa*za,$b*(1-za)]}function C(xa){function za(Sa,fb){return[Sa,(Sa?Sa/yc(Sa):1)*(yc(fb)*kc(Sa)-Na*kc(fb))]}var Na=wa(xa);za.invert=Na?function(Sa,fb){Sa&&(fb*=yc(Sa)/Sa);var hb=kc(Sa);return[Sa,2*le(x(hb*hb+Na*Na-fb*fb)-hb,Na-fb)]}:function(Sa,fb){return[Sa,H(Sa?fb*wa(Sa)/Sa:fb)]};return za}function V(xa,za){return[Qd*xa*(2*
kc(2*za/3)-1)/$b,Qd*$b*yc(za/3)]}function ia(xa){function za(Sa,fb){return[Sa*Na,yc(fb)/Na]}var Na=kc(xa);za.invert=function(Sa,fb){return[Sa/Na,H(fb*Na)]};return za}function aa(xa){function za(Sa,fb){return[Sa*Na,(1+Na)*wa(fb/2)]}var Na=kc(xa);za.invert=function(Sa,fb){return[Sa/Na,2*xe(fb/(1+Na))]};return za}function ya(xa,za){var Na=x(8/(3*Ea));return[Na*xa*(1-Gc(za)/Ea),Na*za]}function va(xa,za){var Na=x(4-3*yc(Gc(za)));return[2/x(6*Ea)*xa*Na,qe(za)*x(2*Ea/3)*(2-Na)]}function Ia(xa,za){var Na=
x(Ea*(4+Ea));return[2/Na*xa*(1+x(1-4*za*za/(Ea*Ea))),4/Na*za]}function bb(xa,za){var Na=(2+Za)*yc(za);za/=2;for(var Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);Sa++)fb=kc(za),za-=fb=(za+yc(za)*(fb+2)-Na)/(2*fb*(1+fb));return[2/x(Ea*(4+Ea))*xa*(1+kc(za)),2*x(Ea/(4+Ea))*yc(za)]}function kb(xa,za){return[xa*(1+kc(za))/x(2+Ea),2*za/x(2+Ea)]}function ua(xa,za){for(var Na=(1+Za)*yc(za),Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);Sa++)za-=fb=(za+yc(za)-Na)/(1+kc(za));Na=x(2+Ea);return[xa*(1+kc(za))/Na,2*za/Na]}function Ta(xa,
za){var Na=yc(xa/=2);xa=kc(xa);var Sa=x(kc(za)),fb=kc(za/=2);za=yc(za)/(fb+Yb*xa*Sa);var hb=x(2/(1+za*za));Na=x((Yb*fb+(xa+Na)*Sa)/(Yb*fb+(xa-Na)*Sa));return[ie*(hb*(Na-1/Na)-2*lf(Na)),ie*(hb*za*(Na+1/Na)-2*xe(za))]}function Ya(xa,za){za=wa(za/2);return[xa*Gf*x(1-za*za),(1+Gf)*za]}function Da(xa,za){var Na=za/2,Sa=kc(Na);return[2*xa/$b*kc(za)*Sa*Sa,$b*wa(Na)]}function ta(xa){function za(Ab,Kb){var Jb=kc(Kb),cc=yc(Kb);return[Jb/(fb+xa*Jb)*Ab,fb*Kb+xa*cc]}function Na(Ab,Kb){Ab=za(Ab,Kb);return[Ab[0]*
Db,Ab[1]/Db]}function Sa(Ab){return Na(0,Ab)[1]}var fb=1-xa,hb=za(Ea,0)[0]-za(-Ea,0)[0],qb=za(0,Za)[1]-za(0,-Za)[1],Db=x(2*qb/hb);Na.invert=function(Ab,Kb){Kb=B(Sa,Kb);return[Ab/Db*(xa+fb/kc(Kb)),Kb]};return Na}function U(xa){return[2*xa[0],2*xe(yc(xa[1]*Mc))*gd]}function W(xa,za){function Na(hb,qb){hb=l.geoAzimuthalEquidistantRaw(hb,qb);qb=hb[0];var Db=hb[1],Ab=qb*qb+Db*Db;if(Ab>fb){var Kb=x(Ab);qb=le(Db,qb);Ab=Sa*Bf(qb/Sa);Db=qb-Ab;var Jb=xa*kc(Db),cc=(xa*yc(Db)-Db*yc(Jb))/(Za-Jb),xc=ba(Db,cc),
Y=(Ea-xa)/ca(xc,Jb,Ea);qb=Kb;var oa=50,Oa;do qb-=Oa=(xa+ca(xc,Jb,qb)*Y-Kb)/(xc(qb)*Y);while(1E-6<Gc(Oa)&&0<--oa);Db*=yc(qb);qb<Za&&(Db-=cc*(qb-Za));Kb=yc(Ab);Ab=kc(Ab);hb[0]=qb*Ab-Db*Kb;hb[1]=qb*Kb+Db*Ab}return hb}var Sa=2*Ea/za,fb=xa*xa;Na.invert=function(hb,qb){var Db=hb*hb+qb*qb;if(Db>fb){var Ab=x(Db);qb=le(qb,hb);Db=Sa*Bf(qb/Sa);qb-=Db;hb=Ab*kc(qb);qb=Ab*yc(qb);Ab=hb-Za;for(var Kb=yc(hb),Jb=qb/Kb,cc=hb<Za?Infinity:0,xc=10;;){var Y=xa*yc(Jb),oa=xa*kc(Jb),Oa=yc(oa),Va=Za-oa,xb=(Y-Jb*Oa)/Va,Sb=ba(Jb,
xb);if(1E-12>Gc(cc)||!--xc)break;Jb-=cc=(Jb*Kb-xb*Ab-qb)/(Kb-2*Ab*(Va*(oa+Jb*Y*kc(oa)-Oa)-Y*(Y-Jb*Oa))/(Va*Va))}Ab=xa+ca(Sb,oa,hb)*(Ea-xa)/ca(Sb,oa,Ea);qb=Db+Jb;hb=Ab*kc(qb);qb=Ab*yc(qb)}return l.geoAzimuthalEquidistantRaw.invert(hb,qb)};return Na}function ba(xa,za){return function(Na){var Sa=xa*kc(Na);Na<Za&&(Sa-=za);return x(1+Sa*Sa)}}function ca(xa,za,Na){var Sa=(Na-za)/50;Na=xa(za)+xa(Na);for(var fb=1;50>fb;++fb)Na+=2*xa(za+=Sa);return.5*Na*Sa}function ra(xa,za,Na,Sa,fb,hb,qb,Db){function Ab(Kb,
Jb){if(!Jb)return[xa*Kb/Ea,0];var cc=Jb*Jb,xc=xa+cc*(za+cc*(Na+cc*Sa)),Y=Jb*(fb-1+cc*(hb-Db+cc*qb));Y=(xc*xc+Y*Y)/(2*Y);Kb=Kb*H(xc/Y)/Ea;return[Y*yc(Kb),Jb*(1+cc*Db)+Y*(1-kc(Kb))]}8>arguments.length&&(Db=0);Ab.invert=function(Kb,Jb){var cc=Ea*Kb/xa,xc=Jb,Y=50;do{var oa=xc*xc,Oa=xa+oa*(za+oa*(Na+oa*Sa)),Va=xc*(fb-1+oa*(hb-Db+oa*qb)),xb=Oa*Oa+Va*Va,Sb=2*Va;var Zb=xb/Sb;var qc=Zb*Zb;var Ec=H(Oa/Zb)/Ea;var ed=cc*Ec,Zc=Oa*Oa,Pd=(2*za+oa*(4*Na+6*oa*Sa))*xc,be=fb+oa*(3*hb+5*oa*qb);Va=(2*(Oa*Pd+Va*(be-1))*
Sb-2*xb*(be-1))/(Sb*Sb);xb=kc(ed);be=yc(ed);Sb=Zb*xb;ed=Zb*be;qc=cc/Ea*(1/x(1-Zc/qc))*(Pd*Zb-Oa*Va)/qc;Oa=ed-Kb;oa=xc*(1+oa*Db)+Zb-Sb-Jb;Zb=Va*be+Sb*qc;Zc=Sb*Ec;Va=1+Va-(Va*xb-ed*qc);Ec*=ed;xb=Zb*Ec-Va*Zc;if(!xb)break;cc-=Zb=(oa*Zb-Oa*Va)/xb;xc-=Ec=(Oa*Ec-oa*Zc)/xb}while((1E-6<Gc(Zb)||1E-6<Gc(Ec))&&0<--Y);return[cc,xc]};return Ab}function qa(xa,za){var Na=xa*xa,Sa=za*za;return[xa*(1-.162388*Sa)*(.87-9.52426E-4*Na*Na),za*(1+Sa/12)]}function Fa(xa){function za(Sa,fb){var hb=0<Sa?-.5:.5;Sa=xa(Sa+hb*
Ea,fb);Sa[0]-=hb*Na;return Sa}var Na=xa(Za,0)[0]-xa(-Za,0)[0];xa.invert&&(za.invert=function(Sa,fb){var hb=0<Sa?-.5:.5;Sa=xa.invert(Sa+hb*Na,fb);hb=Sa[0]-hb*Ea;hb<-Ea?hb+=2*Ea:hb>Ea&&(hb-=2*Ea);Sa[0]=hb;return Sa});return za}function na(xa,za){var Na=qe(xa),Sa=qe(za),fb=kc(za),hb=kc(xa)*fb;xa=yc(xa)*fb;za=yc(Sa*za);xa=Gc(le(xa,za));za=H(hb);1E-6<Gc(xa-Za)&&(xa%=Za);hb=Ra(xa>Ea/4?Za-xa:xa,za);xa>Ea/4&&(za=hb[0],hb[0]=-hb[1],hb[1]=-za);return hb[0]*=Na,hb[1]*=-Sa,hb}function Ra(xa,za){if(za===Za)return[0,
0];var Na=yc(za),Sa=Na*Na,fb=Sa*Sa,hb=1+fb,qb=1+3*fb,Db=1-fb,Ab=H(1/x(hb)),Kb=Db+Sa*hb*Ab,Jb=(1-Na)/Kb,cc=x(Jb),xc=Jb*hb,Y=x(xc),oa=cc*Db;if(0===xa)return[0,-(oa+Sa*Y)];var Oa=kc(za),Va=1/Oa,xb=2*Na*Oa;Ab=(-Kb*Oa-(1-Na)*(-3*Sa+Ab*qb)*xb)/(Kb*Kb);Na=-Va*xb;hb=-Va*(Sa*hb*Ab+Jb*qb*xb);Db=-2*Va*(.5*Ab/cc*Db-2*Sa*cc*xb);cc=4*xa/Ea;if(xa>.222*Ea||za<Ea/4&&xa>.175*Ea){za=(oa+Sa*x(xc*(1+fb)-oa*oa))/(1+fb);if(xa>Ea/4)return[za,za];fb=za;Va=.5*za;za=.5*(Va+fb);xa=50;do{xb=x(xc-za*za);xb=za*(Db+Na*xb)+hb*H(za/
Y)-cc;if(!xb)break;0>xb?Va=za:fb=za;za=.5*(Va+fb)}while(1E-6<Gc(fb-Va)&&0<--xa)}else{za=1E-6;xa=25;do xb=za*za,fb=x(xc-xb),qb=Db+Na*fb,Va=za*qb+hb*H(za/Y)-cc,xb=qb+(hb-Na*xb)/fb,za-=fb=fb?Va/xb:0;while(1E-6<Gc(fb)&&0<--xa)}return[za,-oa-Sa*x(xc-za*za)]}function db(xa,za){if(1E-6>za){var Na=yc(xa);var Sa=kc(xa);var fb=za*(xa-Na*Sa)/4;return[Na-fb*Sa,Sa+fb*Na,1-za*Na*Na/2,xa-fb]}if(.999999<=za){fb=(1-za)/4;Sa=u(xa);Na=Fe(2*xa);Na=(Na-1)/(Na+1);za=1/Sa;var hb=Sa*v(xa);return[Na+fb*(hb-xa)/(Sa*Sa),za-
fb*Na*za*(hb-xa),za+fb*Na*za*(hb+xa),2*xe(Fe(xa))-Za+fb*(hb-xa)/Sa]}var qb=[1,0,0,0,0,0,0,0,0],Db=[x(za),0,0,0,0,0,0,0,0],Ab=0;Sa=x(1-za);for(hb=1;1E-6<Gc(Db[Ab]/qb[Ab])&&8>Ab;)fb=qb[Ab++],Db[Ab]=(fb-Sa)/2,qb[Ab]=(fb+Sa)/2,Sa=x(fb*Sa),hb*=2;za=hb*qb[Ab]*xa;do Na=Db[Ab]*yc(Sa=za)/qb[Ab],za=(H(Na)+za)/2;while(--Ab);return[yc(za),Na=kc(za),Na/kc(za-Sa),za]}function $a(xa,za){if(!za)return xa;if(1===za)return lf(wa(xa/2+Cb));var Na=1,Sa=x(1-za),fb=x(za);for(za=0;1E-6<Gc(fb);za++)xa%Ea?(fb=xe(Sa*wa(xa)/
Na),0>fb&&(fb+=Ea),xa+=fb+~~(xa/Ea)*Ea):xa+=xa,fb=(Na+Sa)/2,Sa=x(Na*Sa),fb=((Na=fb)-Sa)/2;return xa/(Sf(2,za)*Na)}function Ca(xa,za){var Na=(Yb-1)/(Yb+1),Sa=x(1-Na*Na),fb=$a(Za,Sa*Sa),hb=lf(wa(Ea/4+Gc(za)/2));hb=Fe(-1*hb)/x(Na);Na=hb*kc(-1*xa);var qb=hb*yc(-1*xa);xa=Na*Na;hb=qb+1;qb=1-xa-qb*qb;xa=[.5*((0<=Na?Za:-Za)-le(qb,2*Na)),-.25*lf(qb*qb+4*xa)+.5*lf(hb*hb+xa)];Na=xa[0];xa=xa[1];Sa*=Sa;hb=Gc(Na);qb=Gc(xa);qb=v(qb);if(hb){var Db=1/yc(hb);hb=1/(wa(hb)*wa(hb));qb=-(hb+Sa*qb*qb*Db*Db-1+Sa);qb=(-qb+
x(qb*qb-4*(Sa-1)*hb))/2;Sa=[$a(xe(1/x(qb)),Sa)*qe(Na),$a(xe(x((qb/hb-1)/Sa)),1-Sa)*qe(xa)]}else Sa=[0,$a(xe(qb),1-Sa)*qe(xa)];return[-Sa[1],(0<=za?1:-1)*(.5*fb-Sa[0])]}function Ga(xa){function za(hb,qb){var Db=fb(hb,qb);hb=Db[0];qb=Db[1];Db=yc(qb);qb=kc(qb);var Ab=kc(hb),Kb=N(Na*Db+Sa*qb*Ab),Jb=yc(Kb);Kb=1E-6<Gc(Jb)?Kb/Jb:1;return[Kb*Sa*yc(hb),(Gc(hb)>Za?Kb:-Kb)*(Na*qb-Sa*Db*Ab)]}var Na=yc(xa),Sa=kc(xa),fb=pa(xa);fb.invert=pa(-xa);za.invert=function(hb,qb){var Db=x(hb*hb+qb*qb),Ab=-yc(Db),Kb=kc(Db),
Jb=Db*Kb,cc=-qb*Ab,xc=Db*Na,Y=x(Jb*Jb+cc*cc-xc*xc);Jb=le(Jb*xc+cc*Y,cc*xc-Jb*Y);hb=(Db>Za?-1:1)*le(hb*Ab,Db*kc(Jb)*Kb+qb*yc(Jb)*Ab);return fb.invert(hb,Jb)};return za}function pa(xa){var za=yc(xa),Na=kc(xa);return function(Sa,fb){var hb=kc(fb),qb=kc(Sa)*hb;Sa=yc(Sa)*hb;fb=yc(fb);return[le(Sa,qb*Na-fb*za),H(fb*Na+qb*za)]}}function Ha(xa){function za(Jb,cc){var xc=Gc(cc);if(xc>Na){var Y=If(xa-1,Yf(0,ue((Jb+Ea)/Db)));Jb+=Ea*(xa-1)/xa-Y*Db;Jb=P(Jb,xc);Jb[0]=Jb[0]*Oc/Sa-Oc*(xa-1)/(2*xa)+Y*Oc/xa;Jb[1]=
fb+4*(Jb[1]-hb)*qb/Oc;0>cc&&(Jb[1]=-Jb[1])}else Jb=Zf(Jb,cc);Jb[0]*=Ab;Jb[1]/=Kb;return Jb}var Na=mf*Mc,Sa=P(Ea,Na)[0]-P(-Ea,Na)[0],fb=Zf(0,Na)[1],hb=P(0,Na)[1],qb=$b-hb,Db=Oc/xa,Ab=4/Oc,Kb=fb+qb*qb*4/Oc;za.invert=function(Jb,cc){Jb/=Ab;cc*=Kb;var xc=Gc(cc);if(xc>fb){var Y=If(xa-1,Yf(0,ue((Jb+Ea)/Db)));Jb=(Jb+Ea*(xa-1)/xa-Y*Db)*Sa/Oc;Jb=P.invert(Jb,.25*(xc-fb)*Oc/qb+hb);Jb[0]-=Ea*(xa-1)/xa-Y*Db;0>cc&&(Jb[1]=-Jb[1]);return Jb}return Zf.invert(Jb,cc)};return za}function Ua(xa,za){return[xa,za&1?89.999999:
mf]}function jb(xa,za){return[xa,za&1?-89.999999:-mf]}function Fb(xa){return[.999999*xa[0],xa[1]]}function Xb(xa){var za=[].concat(w.range(-180,180+xa/2,xa).map(Ua),w.range(180,-180-xa/2,-xa).map(jb));return{type:"Polygon",coordinates:[180===xa?za.map(Fb):za]}}function nc(xa){function za(Jb,cc){var xc=1-yc(cc);if(xc&&2>xc){var Y=Za-cc,oa=25;do{var Oa=yc(Y);var Va=kc(Y);cc=fb+le(Oa,Na-Va);Va=1+Kb-2*Na*Va;Y-=Oa=(Y-Ab*fb-Na*Oa+Va*cc-.5*xc*qb)/(2*Na*Oa*cc)}while(1E-12<Gc(Oa)&&0<--oa);xc=hb*x(Va);Jb=Jb*
cc/Ea}else xc=hb*(xa+xc),Jb=Jb*fb/Ea;return[xc*yc(Jb),Db-xc*kc(Jb)]}var Na=1+xa,Sa=yc(1/Na),fb=H(Sa),hb=2*x(Ea/(qb=Ea+4*fb*Na)),qb,Db=.5*hb*(Na+x(xa*(2+xa))),Ab=xa*xa,Kb=Na*Na;za.invert=function(Jb,cc){var xc=Jb*Jb+(cc-=Db)*cc;cc=(1+Kb-xc/(hb*hb))/(2*Na);var Y=N(cc),oa=yc(Y),Oa=fb+le(oa,Na-cc);return[H(Jb/x(xc))*Ea/Oa,H(1-2*(Y-Ab*fb-Na*oa+(1+Kb-2*Na*cc)*Oa)/qb)]};return za}function md(xa,za){return-.7109889596207567<za?(xa=Id(xa,za),xa[1]+=.0528035274542,xa):K(xa,za)}function pc(xa,za){return.7109889596207567<
Gc(za)?(xa=Id(xa,za),xa[1]-=0<za?.0528035274542:-.0528035274542,xa):K(xa,za)}function Hc(xa,za,Na,Sa){function fb(cc){return x(1+xa*kc(2*cc)+za*kc(4*cc))}function hb(cc){cc*=Na;return(2*cc+(1+xa-za/2)*yc(2*cc)+(xa+za)/2*yc(4*cc)+za/2*yc(6*cc))/Na}function qb(cc){return fb(cc)*yc(cc)}var Db=x(4*Ea/(2*Na+(1+xa-za/2)*yc(2*Na)+(xa+za)/2*yc(4*Na)+za/2*yc(6*Na))),Ab=x(Sa*yc(Na)*x((1+xa*kc(2*Na)+za*kc(4*Na))/(1+xa+za))),Kb=Na*hb(1),Jb=function(cc,xc){var Y=Na*B(hb,Kb*yc(xc)/Na,xc/Ea);isNaN(Y)&&(Y=Na*qe(xc));
xc=Db*fb(Y);return[xc*Ab*cc/Ea*kc(Y),xc/Ab*yc(Y)]};Jb.invert=function(cc,xc){xc=B(qb,xc*Ab/Db);return[cc*Ea/(kc(xc)*Db*Ab*fb(xc)),H(Na*hb(xc/Na)/Kb)]};0===Na&&(Db=x(Sa/Ea),Jb=function(cc,xc){return[cc*Db,yc(xc)/Db]},Jb.invert=function(cc,xc){return[cc/Db,H(xc*Db)]});return Jb}function mb(xa,za,Na,Sa,fb,hb,qb,Db,Ab,Kb,Jb){if(Jb.nanEncountered)return NaN;var cc=Na-za;var xc=xa(za+.25*cc);var Y=xa(Na-.25*cc);if(isNaN(xc))Jb.nanEncountered=!0;else if(isNaN(Y))Jb.nanEncountered=!0;else{var oa=cc*(Sa+4*
xc+fb)/12;var Oa=cc*(fb+4*Y+hb)/12;var Va=oa+Oa;qb=(Va-qb)/15;if(Kb>Ab)return Jb.maxDepthCount++,Va+qb;if(Math.abs(qb)<Db)return Va+qb;cc=za+.5*cc;za=mb(xa,za,cc,Sa,xc,fb,oa,.5*Db,Ab,Kb+1,Jb);if(isNaN(za))return Jb.nanEncountered=!0,NaN;xa=mb(xa,cc,Na,fb,Y,hb,Oa,.5*Db,Ab,Kb+1,Jb);return isNaN(xa)?(Jb.nanEncountered=!0,NaN):za+xa}}function hc(xa,za,Na,Sa,fb){void 0===Sa&&(Sa=1E-8);void 0===fb&&(fb=20);var hb=xa(za),qb=xa(.5*(za+Na)),Db=xa(Na);return mb(xa,za,Na,hb,qb,Db,(hb+4*qb+Db)*(Na-za)/6,Sa,fb,
1,{maxDepthCount:0,nanEncountered:!1})}function jc(xa,za,Na){function Sa(Jb){return xa+(1-xa)*Sf(1-Sf(Jb,za),1/za)}function fb(Jb){var cc=0,xc=1E3,Y=500;do Db[Y]>Jb?xc=Y:cc=Y,Y=cc+xc>>1;while(Y>cc);(cc=Db[Y+1]-Db[Y])&&(cc=(Jb-Db[Y+1])/cc);return(Y+1+cc)/1E3}for(var hb=1/hc(Sa,0,1,1E-4),qb=1.00000001*hb,Db=[],Ab=0;1E3>=Ab;Ab++)Db.push(hc(Sa,0,Ab/1E3,1E-4)*qb);var Kb=2*fb(1)/Ea*hb/Na;Na=function(Jb,cc){var xc=fb(Gc(yc(cc)));Jb*=Sa(xc);xc/=Kb;return[Jb,0<=cc?xc:-xc]};Na.invert=function(Jb,cc){var xc;
cc*=Kb;1>Gc(cc)&&(xc=qe(cc)*H(hc(Sa,0,Gc(cc),1E-4)*hb));return[Jb/Sa(Gc(cc)),xc]};return Na}function rc(xa,za){for(var Na=-1,Sa=xa.length,fb=xa[0],hb,qb,Db,Ab=[];++Na<Sa;){hb=xa[Na];qb=(hb[0]-fb[0])/za;Db=(hb[1]-fb[1])/za;for(var Kb=0;Kb<za;++Kb)Ab.push([fb[0]+Kb*qb,fb[1]+Kb*Db]);fb=hb}Ab.push(hb);return Ab}function Pc(xa){var za=[],Na,Sa=xa[0].length;for(Na=0;Na<Sa;++Na){var fb=xa[0][Na];var hb=fb[0][0];var qb=fb[0][1];var Db=fb[1][1];var Ab=fb[2][0];fb=fb[2][1];za.push(rc([[hb+1E-6,qb+1E-6],[hb+
1E-6,Db-1E-6],[Ab-1E-6,Db-1E-6],[Ab-1E-6,fb+1E-6]],30))}for(Na=xa[1].length-1;0<=Na;--Na)fb=xa[1][Na],hb=fb[0][0],qb=fb[0][1],Db=fb[1][1],Ab=fb[2][0],fb=fb[2][1],za.push(rc([[Ab-1E-6,fb-1E-6],[Ab-1E-6,Db+1E-6],[hb+1E-6,Db+1E-6],[hb+1E-6,qb-1E-6]],30));return{type:"Polygon",coordinates:[w.merge(za)]}}function sc(xa,za,Na){function Sa(Ab,Kb){for(var Jb=0>Kb?-1:1,cc=za[+(0>Kb)],xc=0,Y=cc.length-1;xc<Y&&Ab>cc[xc][2][0];++xc);Ab=xa(Ab-cc[xc][1][0],Kb);Ab[0]+=xa(cc[xc][1][0],Jb*Kb>Jb*cc[xc][0][1]?cc[xc][0][1]:
Kb)[0];return Ab}var fb,hb;Na?Sa.invert=Na(Sa):xa.invert&&(Sa.invert=function(Ab,Kb){for(var Jb=hb[+(0>Kb)],cc=za[+(0>Kb)],xc=0,Y=Jb.length;xc<Y;++xc){var oa=Jb[xc];if(oa[0][0]<=Ab&&Ab<oa[1][0]&&oa[0][1]<=Kb&&Kb<oa[1][1])return Jb=xa.invert(Ab-xa(cc[xc][1][0],0)[0],Kb),Jb[0]+=cc[xc][1][0],cc=Sa(Jb[0],Jb[1]),Ab=[Ab,Kb],1E-6>Gc(cc[0]-Ab[0])&&1E-6>Gc(cc[1]-Ab[1])?Jb:null}});var qb=l.geoProjection(Sa),Db=qb.stream;qb.stream=function(Ab){var Kb=qb.rotate(),Jb=Db(Ab),cc=(qb.rotate([0,0]),Db(Ab));qb.rotate(Kb);
Jb.sphere=function(){l.geoStream(fb,cc)};return Jb};qb.lobes=function(Ab){if(!arguments.length)return za.map(function(Kb){return Kb.map(function(Jb){return[[Jb[0][0]*gd,Jb[0][1]*gd],[Jb[1][0]*gd,Jb[1][1]*gd],[Jb[2][0]*gd,Jb[2][1]*gd]]})});fb=Pc(Ab);za=Ab.map(function(Kb){return Kb.map(function(Jb){return[[Jb[0][0]*Mc,Jb[0][1]*Mc],[Jb[1][0]*Mc,Jb[1][1]*Mc],[Jb[2][0]*Mc,Jb[2][1]*Mc]]})});hb=za.map(function(Kb){return Kb.map(function(Jb){var cc=xa(Jb[0][0],Jb[0][1])[0],xc=xa(Jb[2][0],Jb[2][1])[0],Y=
xa(Jb[1][0],Jb[0][1])[1];Jb=xa(Jb[1][0],Jb[1][1])[1];if(Y>Jb){var oa=Y;Y=Jb;Jb=oa}return[[cc,Y],[xc,Jb]]})});return qb};null!=za&&qb.lobes(za);return qb}function Uc(xa,za){return[3/Oc*xa*x(Ea*Ea/3-za*za),za]}function Sc(xa){function za(Na,Sa){if(1E-6>Gc(Gc(Sa)-Za))return[0,0>Sa?-2:2];Sa=yc(Sa);Sa=Sf((1+Sa)/(1-Sa),xa/2);var fb=.5*(Sa+1/Sa)+kc(Na*=xa);return[2*yc(Na)/fb,(Sa-1/Sa)/fb]}za.invert=function(Na,Sa){var fb=Gc(Sa);if(1E-6>Gc(fb-2))return Na?null:[0,qe(Sa)*Za];if(2<fb)return null;Na/=2;Sa/=
2;fb=Na*Na;var hb=Sa*Sa;Sa=2*Sa/(1+fb+hb);Sa=Sf((1+Sa)/(1-Sa),1/xa);return[le(2*Na,1-fb-hb)/xa,H((Sa-1)/(Sa+1))]};return za}function Lc(xa,za){return[xa*(1+x(kc(za)))/2,za/(kc(za/2)*kc(xa/6))]}function Fd(xa,za){var Na=xa*xa,Sa=za*za;return[xa*(.975534+Sa*(-.119161+-.0143059*Na+-.0547009*Sa)),za*(1.00384+Na*(.0802894+-.02855*Sa+1.99025E-4*Na)+Sa*(.0998909+-.0491032*Sa))]}function ge(xa,za){return[yc(xa)/kc(za),wa(za)*kc(xa)]}function wd(xa){function za(fb,hb){var qb=hb-xa,Db=1E-6>Gc(qb)?fb*Na:1E-6>
Gc(Db=Cb+hb/2)||1E-6>Gc(Gc(Db)-Za)?0:fb*qb/lf(wa(Db)/Sa);return[Db,qb]}var Na=kc(xa),Sa=wa(Cb+xa/2);za.invert=function(fb,hb){var qb,Db=hb+xa;return[1E-6>Gc(hb)?fb/Na:1E-6>Gc(qb=Cb+Db/2)||1E-6>Gc(Gc(qb)-Za)?0:fb*lf(wa(qb)/Sa)/hb,Db]};return za}function vd(xa,za){return[xa,1.25*lf(wa(Cb+.4*za))]}function Wd(xa){function za(Sa,fb){var hb=kc(fb),qb=2/(1+hb*kc(Sa));Sa=qb*hb*yc(Sa);fb=qb*yc(fb);qb=Na;hb=xa[qb];for(var Db=hb[0],Ab=hb[1],Kb;0<=--qb;)hb=xa[qb],Db=hb[0]+Sa*(Kb=Db)-fb*Ab,Ab=hb[1]+Sa*Ab+fb*
Kb;Db=Sa*(Kb=Db)-fb*Ab;return[Db,Sa*Ab+fb*Kb]}var Na=xa.length-1;za.invert=function(Sa,fb){var hb=20,qb=Sa,Db=fb;do{for(var Ab=Na,Kb=xa[Ab],Jb=Kb[0],cc=Kb[1],xc=0,Y=0,oa;0<=--Ab;)Kb=xa[Ab],xc=Jb+qb*(oa=xc)-Db*Y,Y=cc+qb*Y+Db*oa,Jb=Kb[0]+qb*(oa=Jb)-Db*cc,cc=Kb[1]+qb*cc+Db*oa;xc=Jb+qb*(oa=xc)-Db*Y;Y=cc+qb*Y+Db*oa;Jb=qb*(oa=Jb)-Db*cc-Sa;cc=qb*cc+Db*oa-fb;Kb=xc*xc+Y*Y;qb-=Ab=(Jb*xc+cc*Y)/Kb;Db-=Jb=(cc*xc-Jb*Y)/Kb}while(1E-12<Gc(Ab)+Gc(Jb)&&0<--hb);if(hb)return Sa=x(qb*qb+Db*Db),fb=2*xe(.5*Sa),hb=yc(fb),
[le(qb*hb,Sa*kc(fb)),Sa?H(Db*hb/Sa):0]};return za}function Pb(xa,za){xa=l.geoProjection(Wd(xa)).rotate(za).clipAngle(90);var Na=l.geoRotation(za),Sa=xa.center;delete xa.rotate;xa.center=function(fb){return arguments.length?Sa(Na(fb)):Na.invert(Sa())};return xa}function gc(xa,za){za=H(7*yc(za)/(3*nd));return[nd*xa*(2*kc(2*za/3)-1)/Kd,9*yc(za/3)/Kd]}function Eb(xa,za){for(var Na=(1+ub)*yc(za),Sa=0,fb;25>Sa&&!(za-=fb=(yc(za/2)+yc(za)-Na)/(.5*kc(za/2)+kc(za)),1E-6>Gc(fb));Sa++);return[xa*(1+2*kc(za)/
kc(za/2))/(3*Yb),2*x(3)*yc(za/2)/x(2+Yb)]}function zc(xa,za){var Na=x(6/(4+Ea)),Sa=(1+Ea/4)*yc(za);za/=2;for(var fb=0,hb;25>fb&&!(za-=hb=(za/2+yc(za)-Sa)/(.5+kc(za)),1E-6>Gc(hb));fb++);return[Na*(.5+kc(za))*xa/1.5,Na*za]}function Vc(xa,za){var Na=za*za,Sa=Na*Na,fb=Na*Sa;return[xa*(.84719-.13063*Na+fb*fb*(-.04515+.05494*Na-.02326*Sa+.00331*fb)),za*(1.01183+Sa*Sa*(-.02625+.01926*Na-.00396*Sa))]}function Ed(xa,za){return[xa*(1+kc(za))/2,2*(za-wa(za/2))]}function Vd(xa,za){var Na=yc(za),Sa=kc(za),fb=
qe(xa);if(0===xa||Gc(za)===Za)return[0,za];if(0===za)return[xa,0];if(Gc(xa)===Za)return[xa*Sa,Za*Na];xa=Ea/(2*xa)-2*xa/Ea;var hb=2*za/Ea,qb=(1-hb*hb)/(Na-hb),Db=xa*xa,Ab=qb*qb;hb=1+Db/Ab;var Kb=1+Ab/Db,Jb=(xa*Na/qb-xa/2)/hb,cc=(Ab*Na/Db+qb/2)/Kb;Na=cc*cc-(Ab*Na*Na/Db+qb*Na-1)/Kb;return[Za*(Jb+x(Jb*Jb+Sa*Sa/hb)*fb),Za*(cc+x(0>Na?0:Na)*qe(-za*xa)*fb)]}function Ka(xa,za){var Na=za*za;return[xa,za*(1.0148+Na*Na*(.23185+Na*(-.14499+.02406*Na)))]}function eb(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=wa(za);
xa*=yc(za);return[yc(xa)/Na,za+(1-kc(xa))/Na]}function wb(xa,za){var Na=ac(xa[1],xa[0]),Sa=ac(za[1],za[0]),fb=le(Na[0]*Sa[1]-Na[1]*Sa[0],Na[0]*Sa[0]+Na[1]*Sa[1]);Na=x(Na[0]*Na[0]+Na[1]*Na[1])/x(Sa[0]*Sa[0]+Sa[1]*Sa[1]);return Hb([1,0,xa[0][0],0,1,xa[0][1]],Hb([Na,0,0,0,Na,0],Hb([kc(fb),yc(fb),0,-yc(fb),kc(fb),0],[1,0,-za[0][0],0,1,-za[0][1]])))}function Hb(xa,za){return[xa[0]*za[0]+xa[1]*za[3],xa[0]*za[1]+xa[1]*za[4],xa[0]*za[2]+xa[1]*za[5]+xa[2],xa[3]*za[0]+xa[4]*za[3],xa[3]*za[1]+xa[4]*za[4],xa[3]*
za[2]+xa[4]*za[5]+xa[5]]}function ac(xa,za){return[xa[0]-za[0],xa[1]-za[1]]}function Lb(xa,za){function Na(Db,Ab){Db.edges=Bb(Db.face);if(Ab.face){var Kb=Db.shared=pb(Db.face,Ab.face),Jb=wb(Kb.map(Ab.project),Kb.map(Db.project));Db.transform=Ab.transform?Hb(Ab.transform,Jb):Jb;Jb=Ab.edges;for(var cc=0,xc=Jb.length;cc<xc;++cc)tc(Kb[0],Jb[cc][1])&&tc(Kb[1],Jb[cc][0])&&(Jb[cc]=Db),tc(Kb[0],Jb[cc][0])&&tc(Kb[1],Jb[cc][1])&&(Jb[cc]=Db);Jb=Db.edges;cc=0;for(xc=Jb.length;cc<xc;++cc)tc(Kb[0],Jb[cc][0])&&
tc(Kb[1],Jb[cc][1])&&(Jb[cc]=Ab),tc(Kb[0],Jb[cc][1])&&tc(Kb[1],Jb[cc][0])&&(Jb[cc]=Ab)}else Db.transform=Ab.transform;Db.children&&Db.children.forEach(function(Y){Na(Y,Db)});return Db}function Sa(Db,Ab){var Kb=za(Db,Ab);Db=Kb.project([Db*gd,Ab*gd]);if(Kb=Kb.transform)return[Kb[0]*Db[0]+Kb[1]*Db[1]+Kb[2],-(Kb[3]*Db[0]+Kb[4]*Db[1]+Kb[5])];Db[1]=-Db[1];return Db}function fb(Db,Ab){var Kb=Db.project.invert,Jb=Db.transform,cc=Ab;if(Jb){var xc=1/(Jb[0]*Jb[4]-Jb[1]*Jb[3]);Jb=[xc*Jb[4],-xc*Jb[1],xc*(Jb[1]*
Jb[5]-Jb[2]*Jb[4]),-xc*Jb[3],xc*Jb[0],xc*(Jb[2]*Jb[3]-Jb[0]*Jb[5])];cc=[Jb[0]*cc[0]+Jb[1]*cc[1]+Jb[2],Jb[3]*cc[0]+Jb[4]*cc[1]+Jb[5]]}if(Jb=Kb)Kb=Y=Kb(cc),Kb=za(Kb[0]*Mc,Kb[1]*Mc),Jb=Db===Kb;if(Jb)return Y;var Y;Db=Db.children;Kb=0;for(cc=Db&&Db.length;Kb<cc;++Kb)if(Y=fb(Db[Kb],Ab))return Y}Na(xa,{transform:null});Ub(xa)&&(Sa.invert=function(Db,Ab){return(Db=fb(xa,[Db,-Ab]))&&(Db[0]*=Mc,Db[1]*=Mc,Db)});var hb=l.geoProjection(Sa),qb=hb.stream;hb.stream=function(Db){var Ab=hb.rotate(),Kb=qb(Db),Jb=(hb.rotate([0,
0]),qb(Db));hb.rotate(Ab);Kb.sphere=function(){Jb.polygonStart();Jb.lineStart();Ac(Jb,xa);Jb.lineEnd();Jb.polygonEnd()};return Kb};return hb.angle(-30)}function Ac(xa,za,Na){var Sa,fb=za.edges,hb=fb.length;var qb={type:"MultiPoint",coordinates:za.face};var Db=za.face.filter(function(cc){return 90!==Gc(cc[1])}),Ab=l.geoBounds({type:"MultiPoint",coordinates:Db});Db=!1;var Kb=-1,Jb=Ab[1][0]-Ab[0][0];Ab=180===Jb||360===Jb?[(Ab[0][0]+Ab[1][0])/2,(Ab[0][1]+Ab[1][1])/2]:l.geoCentroid(qb);if(Na)for(;++Kb<
hb&&fb[Kb]!==Na;);++Kb;for(Jb=0;Jb<hb;++Jb)qb=fb[(Jb+Kb)%hb],Array.isArray(qb)?(Db||(xa.point((Sa=l.geoInterpolate(qb[0],Ab)(1E-6))[0],Sa[1]),Db=!0),xa.point((Sa=l.geoInterpolate(qb[1],Ab)(1E-6))[0],Sa[1])):(Db=!1,qb!==Na&&Ac(xa,qb,za))}function tc(xa,za){return xa&&za&&xa[0]===za[0]&&xa[1]===za[1]}function pb(xa,za){for(var Na,Sa,fb=xa.length,hb=null,qb=0;qb<fb;++qb){Na=xa[qb];for(var Db=za.length;0<=--Db;)if(Sa=za[Db],Na[0]===Sa[0]&&Na[1]===Sa[1]){if(hb)return[hb,Na];hb=Na}}}function Bb(xa){for(var za=
xa.length,Na=[],Sa=xa[za-1],fb=0;fb<za;++fb)Na.push([Sa,Sa=xa[fb]]);return Na}function Ub(xa){return xa.project.invert||xa.children&&xa.children.some(Ub)}function mc(xa,za){xa=P(xa,za);return[xa[0]*$d,xa[1]]}function Bc(xa,za){for(var Na=0,Sa=xa.length,fb=0;Na<Sa;++Na)fb+=xa[Na]*za[Na];return fb}function Cc(xa,za){return[xa[1]*za[2]-xa[2]*za[1],xa[2]*za[0]-xa[0]*za[2],xa[0]*za[1]-xa[1]*za[0]]}function Xc(xa){return[le(xa[1],xa[0])*gd,H(Yf(-1,If(1,xa[2])))*gd]}function Qb(xa){var za=xa[0]*Mc;xa=xa[1]*
Mc;var Na=kc(xa);return[Na*kc(za),Na*yc(za),yc(xa)]}function Ic(xa,za){return{type:"FeatureCollection",features:xa.features.map(function(Na){return Dc(Na,za)})}}function Dc(xa,za){return{type:"Feature",id:xa.id,properties:xa.properties,geometry:Tc(xa.geometry,za)}}function uc(xa,za){return{type:"GeometryCollection",geometries:xa.geometries.map(function(Na){return Tc(Na,za)})}}function Tc(xa,za){if(!xa)return null;if("GeometryCollection"===xa.type)return uc(xa,za);switch(xa.type){case "Point":var Na=
Uf;break;case "MultiPoint":Na=Uf;break;case "LineString":Na=ne;break;case "MultiLineString":Na=ne;break;case "Polygon":Na=sf;break;case "MultiPolygon":Na=sf;break;case "Sphere":Na=sf;break;default:return null}l.geoStream(xa,za(Na));return Na.result()}function ad(xa){function za(Sa,fb){var hb=Gc(Sa)<Za;fb=xa(hb?Sa:0<Sa?Sa-Ea:Sa+Ea,fb);Sa=(fb[0]-fb[1])*ub;fb=(fb[0]+fb[1])*ub;if(hb)return[Sa,fb];hb=Na*ub;var qb=0<Sa^0<fb?-1:1;return[qb*Sa-qe(fb)*hb,qb*fb-qe(Sa)*hb]}var Na=xa(Za,0)[0]-xa(-Za,0)[0];xa.invert&&
(za.invert=function(Sa,fb){var hb=(Sa+fb)*ub,qb=(fb-Sa)*ub,Db=Gc(hb)<.5*Na&&Gc(qb)<.5*Na;if(!Db){var Ab=Na*ub,Kb=0<hb^0<qb?-1:1;Sa=-Kb*Sa+(0<qb?1:-1)*Ab;fb=-Kb*fb+(0<hb?1:-1)*Ab;hb=(-Sa-fb)*ub;qb=(Sa-fb)*ub}fb=xa.invert(hb,qb);Db||(fb[0]+=0<hb?Ea:-Ea);return fb});return l.geoProjection(za).rotate([-90,-90,45]).clipAngle(179.999)}function ld(xa){function za(Sa,fb){Sa=Na?wa(Sa*Na/2)/Na:Sa/2;if(!fb)return[2*Sa,-xa];Sa=2*xe(Sa*yc(fb));var hb=1/wa(fb);return[yc(Sa)*hb,fb+(1-kc(Sa))*hb-xa]}var Na=yc(xa);
za.invert=function(Sa,fb){if(1E-6>Gc(fb+=xa))return[Na?2*xe(Na*Sa/2)/Na:Sa,0];var hb=Sa*Sa+fb*fb,qb=0,Db=10;do{var Ab=wa(qb);var Kb=1/kc(qb),Jb=hb-2*fb*qb+qb*qb;qb-=Ab=(Ab*Jb+2*(qb-fb))/(2+Jb*Kb*Kb+2*(qb-fb)*Ab)}while(1E-6<Gc(Ab)&&0<--Db);Sa*=Ab=wa(qb);fb=wa(Gc(fb)<Gc(qb+1/Ab)?.5*H(Sa):.5*N(Sa)+Ea/4)/yc(qb);return[Na?2*xe(Na*fb)/Na:2*fb,qb]};return za}function Cd(xa,za){var Na=If(18,36*Gc(za)/Ea),Sa=ue(Na);Na-=Sa;var fb=(Ab=Cf[Sa])[0],hb=Ab[1],qb=(Ab=Cf[++Sa])[0],Db=Ab[1];Sa=(Ab=Cf[If(19,++Sa)])[0];
Ab=Ab[1];var Ab;return[xa*(qb+Na*(Sa-fb)/2+Na*Na*(Sa-2*qb+fb)/2),(0<za?Za:-Za)*(Db+Na*(Ab-hb)/2+Na*Na*(Ab-2*Db+hb)/2)]}function Dd(xa){function za(Na,Sa){var fb=kc(Sa),hb=(xa-1)/(xa-fb*kc(Na));return[hb*fb*yc(Na),hb*yc(Sa)]}za.invert=function(Na,Sa){var fb=Na*Na+Sa*Sa,hb=x(fb);fb=(xa-x(1-fb*(xa+1)/(xa-1)))/((xa-1)/hb+hb/(xa-1));return[le(Na*fb,hb*x(1-fb*fb)),hb?H(Sa*fb/hb):0]};return za}function Ud(xa,za){function Na(qb,Db){qb=Sa(qb,Db);Db=qb[1];var Ab=Db*hb/(xa-1)+fb;return[qb[0]*fb/Ab,Db/Ab]}var Sa=
Dd(xa);if(!za)return Sa;var fb=kc(za),hb=yc(za);Na.invert=function(qb,Db){var Ab=(xa-1)/(xa-1-Db*hb);return Sa.invert(Ab*qb,Ab*Db*fb)};return Na}function ae(xa){return 0<xa.length}function oe(xa){return-90===xa||90===xa?[0,xa]:[-180,Math.floor(1E4*xa)/1E4]}function De(xa){var za=xa[0],Na=xa[1],Sa=!1;-179.9999>=za?(za=-180,Sa=!0):179.9999<=za&&(za=180,Sa=!0);-89.9999>=Na?(Na=-90,Sa=!0):89.9999<=Na&&(Na=90,Sa=!0);return Sa?[za,Na]:xa}function fe(xa){return xa.map(De)}function ef(xa,za,Na){for(var Sa=
0,fb=xa.length;Sa<fb;++Sa){var hb=xa[Sa].slice();Na.push({index:-1,polygon:za,ring:hb});for(var qb=0,Db=hb.length;qb<Db;++qb){var Ab=hb[qb],Kb=Ab[0],Jb=Ab[1];if(-179.9999>=Kb||179.9999<=Kb||-89.9999>=Jb||89.9999<=Jb){hb[qb]=De(Ab);for(Ab=qb+1;Ab<Db;++Ab){var cc=hb[Ab];Kb=cc[0];cc=cc[1];if(-179.9999<Kb&&179.9999>Kb&&-89.9999<cc&&89.9999>cc)break}if(Ab!==qb+1){qb?(qb={index:-1,polygon:za,ring:hb.slice(0,qb+1)},qb.ring[qb.ring.length-1]=oe(Jb),Na[Na.length-1]=qb):Na.pop();if(Ab>=Db)break;Na.push({index:-1,
polygon:za,ring:hb=hb.slice(Ab-1)});hb[0]=oe(hb[0][1]);qb=-1;Db=hb.length}}}}}function Ze(xa){var za,Na=xa.length,Sa={},fb={};for(za=0;za<Na;++za){var hb=xa[za];var qb=hb.ring[0];var Db=hb.ring[hb.ring.length-1];qb[0]===Db[0]&&qb[1]===Db[1]?(hb.polygon.push(hb.ring),xa[za]=null):(hb.index=za,Sa[qb]=fb[Db]=hb)}for(za=0;za<Na;++za)if(hb=xa[za]){qb=hb.ring[0];Db=hb.ring[hb.ring.length-1];var Ab=fb[qb];var Kb=Sa[Db];delete Sa[qb];delete fb[Db];qb[0]===Db[0]&&qb[1]===Db[1]?hb.polygon.push(hb.ring):Ab?
(delete fb[qb],delete Sa[Ab.ring[0]],Ab.ring.pop(),xa[Ab.index]=null,hb={index:-1,polygon:Ab.polygon,ring:Ab.ring.concat(hb.ring)},Ab===Kb?hb.polygon.push(hb.ring):(hb.index=Na++,xa.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb))):Kb?(delete Sa[Db],delete fb[Kb.ring[Kb.ring.length-1]],hb.ring.pop(),hb={index:Na++,polygon:Kb.polygon,ring:hb.ring.concat(Kb.ring)},xa[Kb.index]=null,xa.push(Sa[hb.ring[0]]=fb[hb.ring[hb.ring.length-1]]=hb)):(hb.ring.push(hb.ring[0]),hb.polygon.push(hb.ring))}}function df(xa){var za=
{type:"Feature",geometry:Zd(xa.geometry)};null!=xa.id&&(za.id=xa.id);null!=xa.bbox&&(za.bbox=xa.bbox);null!=xa.properties&&(za.properties=xa.properties);return za}function Zd(xa){if(null==xa)return xa;switch(xa.type){case "GeometryCollection":var za={type:"GeometryCollection",geometries:xa.geometries.map(Zd)};break;case "Point":za={type:"Point",coordinates:De(xa.coordinates)};break;case "MultiPoint":case "LineString":za={type:xa.type,coordinates:fe(xa.coordinates)};break;case "MultiLineString":za=
{type:"MultiLineString",coordinates:xa.coordinates.map(fe)};break;case "Polygon":var Na=[];ef(xa.coordinates,Na,za=[]);Ze(za);za={type:"Polygon",coordinates:Na};break;case "MultiPolygon":za=[];Na=-1;var Sa=xa.coordinates.length;for(var fb=Array(Sa);++Na<Sa;)ef(xa.coordinates[Na],fb[Na]=[],za);Ze(za);za={type:"MultiPolygon",coordinates:fb.filter(ae)};break;default:return xa}null!=xa.bbox&&(za.bbox=xa.bbox);return za}function he(xa,za){za=wa(za/2);var Na=yc(Cb*za);return[xa*(.74482-.34588*Na*Na),1.70711*
za]}function zf(xa,za,Na){var Sa=l.geoInterpolate(za,Na);Na=Sa(.5);za=l.geoRotation([-Na[0],-Na[1]])(za);Sa=Sa.distance/2;var fb=-H(yc(za[1]*Mc)/yc(Sa));Na=[-Na[0],-Na[1],-(0<za[0]?Ea-fb:fb)*gd];xa=l.geoProjection(xa(Sa)).rotate(Na);var hb=l.geoRotation(Na),qb=xa.center;delete xa.rotate;xa.center=function(Db){return arguments.length?qb(hb(Db)):hb.invert(qb())};return xa.clipAngle(90)}function Ue(xa){function za(Sa,fb){Sa=l.geoGnomonicRaw(Sa,fb);Sa[0]*=Na;return Sa}var Na=kc(xa);za.invert=function(Sa,
fb){return l.geoGnomonicRaw.invert(Sa/Na,fb)};return za}function Nf(xa,za){return zf(Ue,xa,za)}function me(xa){function za(Db,Ab){var Kb=N(kc(Ab)*kc(Db-Na));Db=N(kc(Ab)*kc(Db-Sa));Kb*=Kb;Db*=Db;return[(Kb-Db)/(2*xa),(0>Ab?-1:1)*x(4*fb*Db-(fb-Kb+Db)*(fb-Kb+Db))/(2*xa)]}if(!(xa*=2))return l.geoAzimuthalEquidistantRaw;var Na=-xa/2,Sa=-Na,fb=xa*xa,hb=wa(Sa),qb=.5/yc(Sa);za.invert=function(Db,Ab){var Kb=Ab*Ab,Jb=kc(x(Kb+(cc=Db+Na)*cc));Db=kc(x(Kb+(cc=Db+Sa)*cc));var cc,xc;return[le(xc=Jb-Db,cc=(Jb+Db)*
hb),(0>Ab?-1:1)*N(x(cc*cc+xc*xc)*qb)]};return za}function te(xa,za){return zf(me,xa,za)}function kf(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=Gc(za/Za),Sa=H(Na);if(1E-6>Gc(xa)||1E-6>Gc(Gc(za)-Za))return[0,qe(za)*Ea*wa(Sa/2)];var fb=kc(Sa);Sa=Gc(Ea/xa-xa/Ea)/2;var hb=Sa*Sa;fb/=Na+fb-1;Na=fb*(2/Na-1);var qb=Na*Na,Db=qb+hb,Ab=fb-qb,Kb=hb+fb;return[qe(xa)*Ea*(Sa*Ab+x(hb*Ab*Ab-Db*(fb*fb-qb)))/Db,qe(za)*Ea*(Na*Kb-Sa*x((hb+1)*Db-Kb*Kb))/Db]}function we(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=Gc(za/Za),
Sa=H(Na);if(1E-6>Gc(xa)||1E-6>Gc(Gc(za)-Za))return[0,qe(za)*Ea*wa(Sa/2)];var fb=kc(Sa);Sa=Gc(Ea/xa-xa/Ea)/2;var hb=Sa*Sa;Na=fb*(x(1+hb)-Sa*fb)/(1+hb*Na*Na);return[qe(xa)*Ea*Na,qe(za)*Ea*x(1-Na*(2*Sa+Na))]}function Od(xa,za){if(1E-6>Gc(za))return[xa,0];var Na=za/Za,Sa=H(Na);if(1E-6>Gc(xa)||1E-6>Gc(Gc(za)-Za))return[0,Ea*wa(Sa/2)];za=(Ea/xa-xa/Ea)/2;Na/=1+kc(Sa);return[Ea*(qe(xa)*x(za*za+1-Na*Na)-za),Ea*Na]}function Xd(xa,za){if(!za)return[xa,0];var Na=Gc(za);if(!xa||Na===Za)return[0,za];var Sa=Na/
Za;Na=Sa*Sa;var fb=(8*Sa-Na*(Na+2)-5)/(2*Na*(Sa-1)),hb=fb*fb,qb=Sa*fb,Db=Na+hb+2*qb;Sa+=3*fb;fb=xa/Za;fb+=1/fb;fb=qe(Gc(xa)-Za)*x(fb*fb-4);var Ab=fb*fb;Na=(fb*(Db+hb-1)+2*x(Db*(Na+hb*Ab-1)+(1-Na)*(Na*(Sa*Sa+4*hb)+12*qb*hb+4*hb*hb)))/(4*Db+Ab);return[qe(xa)*Za*Na,qe(za)*Za*x(1+fb*Gc(Na)-Na*Na)]}function Be(xa,za,Na,Sa,fb){function hb(qb,Db){Db=Na*yc(Sa*Db);var Ab=x(1-Db*Db),Kb=x(2/(1+Ab*kc(qb*=fb)));return[xa*Ab*Kb*yc(qb),za*Db*Kb]}hb.invert=function(qb,Db){var Ab=qb/xa,Kb=Db/za;Ab=x(Ab*Ab+Kb*Kb);
Kb=2*H(Ab/2);return[le(qb*wa(Kb),xa*Ab)/fb,Ab&&H(Db*yc(Kb)/(za*Na*Ab))/Sa]};return hb}function jf(xa,za,Na,Sa){var fb=Ea/3;xa=Yf(xa,1E-6);za=Yf(za,1E-6);xa=If(xa,Za);za=If(za,Ea-1E-6);Na=Yf(Na,0);Na=If(Na,99.999999);Sa=Yf(Sa,1E-6);var hb=Sa/100;Na=N((Na/100+1)*kc(fb))/fb;fb=yc(xa)/yc(Na*Za);Sa=za/Ea;za=x(hb*yc(xa/2)/yc(za/2));xa=za/x(Sa*fb*Na);za=1/(za*x(Sa*fb*Na));return Be(xa,za,fb,Na,Sa)}function Ge(){var xa=65*Mc,za=60*Mc,Na=20,Sa=200,fb=l.geoProjectionMutator(jf),hb=fb(xa,za,Na,Sa);hb.poleline=
function(qb){return arguments.length?fb(xa=+qb*Mc,za,Na,Sa):xa*gd};hb.parallels=function(qb){return arguments.length?fb(xa,za=+qb*Mc,Na,Sa):za*gd};hb.inflation=function(qb){return arguments.length?fb(xa,za,Na=+qb,Sa):Na};hb.ratio=function(qb){return arguments.length?fb(xa,za,Na,Sa=+qb):Sa};return hb.scale(163.775)}function Td(xa,za){return[xa*x(1-3*za*za/(Ea*Ea)),za]}function Ye(xa,za){var Na=kc(za),Sa=kc(xa)*Na,fb=1-Sa;za=kc(xa=le(yc(xa)*Na,-yc(za)));xa=yc(xa);Na=x(1-Sa*Sa);return[xa*Na-za*fb,-za*
Na-xa*fb]}function Xf(xa,za){var Na=g(xa,za);return[(Na[0]+xa/Za)/2,(Na[1]+za)/2]}var Gc=Math.abs,xe=Math.atan,le=Math.atan2,kc=Math.cos,Fe=Math.exp,ue=Math.floor,lf=Math.log,Yf=Math.max,If=Math.min,Sf=Math.pow,Bf=Math.round,qe=Math.sign||function(xa){return 0<xa?1:0>xa?-1:0},yc=Math.sin,wa=Math.tan,Ea=Math.PI,Za=Ea/2,Cb=Ea/4,ub=Math.SQRT1_2,Yb=x(2),$b=x(Ea),Oc=2*Ea,gd=180/Ea,Mc=Ea/180;g.invert=function(xa,za){if(!(xa*xa+4*za*za>Ea*Ea+1E-6)){var Na=xa,Sa=za,fb=25;do{var hb=yc(Na),qb=yc(Na/2),Db=kc(Na/
2),Ab=yc(Sa),Kb=kc(Sa),Jb=yc(2*Sa),cc=Ab*Ab,xc=Kb*Kb,Y=qb*qb,oa=1-xc*Db*Db,Oa=oa?N(Kb*Db)*x(Va=1/oa):Va=0,Va;oa=2*Oa*Kb*qb-xa;var xb=Oa*Ab-za,Sb=Va*(xc*Y+Oa*Kb*Db*cc),Zb=Va*(.5*hb*Jb-2*Oa*Ab*qb);hb=.25*Va*(Jb*qb-Oa*Ab*xc*hb);Kb=Va*(cc*Db+Oa*Y*Kb);Db=Zb*hb-Kb*Sb;if(!Db)break;Zb=(xb*Zb-oa*Kb)/Db;oa=(oa*hb-xb*Sb)/Db;Na-=Zb;Sa-=oa}while((1E-6<Gc(Zb)||1E-6<Gc(oa))&&0<--fb);return[Na,Sa]}};f.invert=function(xa,za){xa*=.375;za*=.375;if(!xa&&1<Gc(za))return null;var Na=1+xa*xa+za*za,Sa=x((Na-x(Na*Na-4*za*
za))/2);Na=H(Sa)/3;Sa?(Sa=Gc(za/Sa),Sa=lf(Sa+x(Sa*Sa-1))/3):(Sa=Gc(xa),Sa=lf(Sa+x(Sa*Sa+1))/3);var fb=kc(Na),hb=u(Sa),qb=hb*hb-fb*fb;return[2*qe(xa)*le(v(Sa)*fb,.25-qb),2*qe(za)*le(hb*yc(Na),.25+qb)]};var Nd=x(8),od=lf(1+Yb);a.invert=function(xa,za){if((fb=Gc(za))<od)return[xa,2*xe(Fe(za))-Za];var Na=Cb,Sa=25,fb;do{var hb=kc(Na/2);var qb=wa(Na/2);Na-=hb=(Nd*(Na-Cb)-lf(qb)-fb)/(Nd-hb*hb/(2*qb))}while(1E-12<Gc(hb)&&0<--Sa);return[xa/(kc(Na)*(Nd-1/yc(Na))),qe(za)*Na]};y.invert=function(xa,za){za=2*H(za/
2);return[xa*kc(za/2)/kc(za),za]};var Id=F(Yb/Za,Yb,Ea);z.invert=function(xa,za){var Na=2.00276*za;za=0>za?-Cb:Cb;var Sa=25;do{var fb=Na-Yb*yc(za);za-=fb=(yc(2*za)+2*za-Ea*yc(fb))/(2*kc(2*za)+2+Ea*kc(fb)*Yb*kc(za))}while(1E-6<Gc(fb)&&0<--Sa);fb=Na-Yb*yc(za);return[xa*(1/kc(fb)+1.11072/kc(za))/2.00276,fb]};K.invert=function(xa,za){return[xa/kc(za),za]};var jd=F(1,4/Ea,Ea);P.invert=function(xa,za){var Na=(Na=za/$b-1)*Na;return[0<Na?xa*x(Ea/Na)/2:0,H(1-Na)]};var Qd=x(3);V.invert=function(xa,za){za=3*
H(za/(Qd*$b));return[$b*xa/(Qd*(2*kc(2*za/3)-1)),za]};ya.invert=function(xa,za){var Na=x(8/(3*Ea));za/=Na;return[xa/(Na*(1-Gc(za)/Ea)),za]};va.invert=function(xa,za){var Na=2-Gc(za)/x(2*Ea/3);return[xa*x(6*Ea)/(2*Na),qe(za)*H((4-Na*Na)/3)]};Ia.invert=function(xa,za){var Na=x(Ea*(4+Ea))/2;return[xa*Na/(1+x(1-za*za*(4+Ea)/(4*Ea))),za*Na/2]};bb.invert=function(xa,za){za=za*x((4+Ea)/Ea)/2;var Na=H(za),Sa=kc(Na);return[xa/(2/x(Ea*(4+Ea))*(1+Sa)),H((Na+za*(Sa+2))/(2+Za))]};kb.invert=function(xa,za){var Na=
x(2+Ea);za=za*Na/2;return[Na*xa/(1+kc(za)),za]};ua.invert=function(xa,za){var Na=1+Za,Sa=x(Na/2);return[2*xa*Sa/(1+kc(za*=Sa)),H((za+yc(za))/Na)]};var ie=3+2*Yb;Ta.invert=function(xa,za){if(!(fb=f.invert(xa/1.2,1.065*za)))return null;var Na=fb[0];fb=fb[1];var Sa=20,fb;xa/=ie;za/=ie;do{var hb=Na/2,qb=fb/2,Db=yc(hb),Ab=kc(hb),Kb=yc(qb),Jb=kc(qb),cc=kc(fb),xc=x(cc),Y=Kb/(Jb+Yb*Ab*xc),oa=Y*Y,Oa=x(2/(1+oa)),Va=(Yb*Jb+(Ab+Db)*xc)/(Yb*Jb+(Ab-Db)*xc),xb=x(Va),Sb=xb-1/xb,Zb=xb+1/xb;qb=Oa*Sb-2*lf(xb)-xa;hb=
Oa*Y*Zb-2*xe(Y)-za;var qc=Kb&&ub*xc*Db*oa/Kb,Ec=(Yb*Ab*Jb+xc)/(2*(Jb+Yb*Ab*xc)*(Jb+Yb*Ab*xc)*xc),ed=-.5*Y*Oa*Oa*Oa,Zc=ed*qc;ed*=Ec;var Pd=(Pd=2*Jb+Yb*xc*(Ab-Db))*Pd*xb;Ab=(Yb*Ab*Jb*xc+cc)/Pd;Kb=-(Yb*Db*Kb)/(xc*Pd);Db=Sb*Zc-2*Ab/xb+Oa*(Ab+Ab/Va);xb=Sb*ed-2*Kb/xb+Oa*(Kb+Kb/Va);qc=Y*Zb*Zc-2*qc/(1+oa)+Oa*Zb*qc+Oa*Y*(Ab-Ab/Va);oa=Y*Zb*ed-2*Ec/(1+oa)+Oa*Zb*Ec+Oa*Y*(Kb-Kb/Va);Y=xb*qc-oa*Db;if(!Y)break;oa=(hb*xb-qb*oa)/Y;qb=(qb*qc-hb*Db)/Y;Na-=oa;fb=Yf(-Za,If(Za,fb-qb))}while((1E-6<Gc(oa)||1E-6<Gc(qb))&&
0<--Sa);return 1E-6>Gc(Gc(fb)-Za)?[0,fb]:Sa&&[Na,fb]};var Gf=kc(35*Mc);Ya.invert=function(xa,za){za/=1+Gf;return[xa&&xa/(Gf*x(1-za*za)),2*xe(za)]};Da.invert=function(xa,za){var Na=xe(za/$b);za=kc(Na);Na*=2;return[xa*$b/2/(kc(Na)*za*za),Na]};var tf=ra(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),kd=ra(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),We=ra(5/6*Ea,-.62636,-.0344,0,1.3493,-.05524,0,.045);qa.invert=function(xa,za){var Na=xa,Sa=za,fb=50,hb;do{var qb=Sa*Sa;Sa-=hb=
(Sa*(1+qb/12)-za)/(1+qb/4)}while(1E-6<Gc(hb)&&0<--fb);fb=50;xa/=1-.162388*qb;do{var Db=(Db=Na*Na)*Db;Na-=hb=(Na*(.87-9.52426E-4*Db)-xa)/(.87-.00476213*Db)}while(1E-6<Gc(hb)&&0<--fb);return[Na,Sa]};var uf=ra(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);na.invert=function(xa,za){1<Gc(xa)&&(xa=2*qe(xa)-xa);1<Gc(za)&&(za=2*qe(za)-za);var Na=qe(xa),Sa=qe(za),fb=-Na*xa,hb=-Sa*za;za=1>hb/fb;xa=za?hb:fb;var qb=za?fb:hb,Db=0,Ab=1;fb=.5;for(var Kb=50;;){hb=fb*fb;var Jb=x(fb),cc=H(1/x(1+hb)),xc=1-
hb+fb*(1+hb)*cc,Y=(1-Jb)/xc,oa=x(Y),Oa=Y*(1+hb),Va=oa*(1-hb),xb=x(Oa-xa*xa);Va=qb+Va+fb*xb;if(1E-12>Gc(Ab-Db)||0===--Kb||0===Va)break;0<Va?Db=fb:Ab=fb;fb=.5*(Db+Ab)}Kb?(qb=H(Jb),Kb=kc(qb),Db=1/Kb,Ab=2*Jb*Kb,Jb=(-xc*Kb-(1-Jb)*(-3*fb+cc*(1+3*hb))*Ab)/(xc*xc),fb=[Ea/4*(xa*(-2*Db*(.5*Jb/oa*(1-hb)-2*fb*oa*Ab)+-Db*Ab*xb)+-Db*(fb*(1+hb)*Jb+Y*(1+3*hb)*Ab)*H(xa/x(Oa))),qb]):fb=null;xa=fb[0];fb=fb[1];hb=kc(fb);za&&(xa=-Za-xa);return[Na*(le(yc(xa)*hb,-yc(fb))+Ea),Sa*H(kc(xa)*hb)]};Ca.invert=function(xa,za){var Na=
(Yb-1)/(Yb+1),Sa=x(1-Na*Na);za=.5*$a(Za,Sa*Sa)-za;xa=-xa;Sa*=Sa;if(za)if(za=db(za,Sa),xa){xa=db(xa,1-Sa);var fb=xa[1]*xa[1]+Sa*za[0]*za[0]*xa[0]*xa[0];za=[[za[0]*xa[2]/fb,za[1]*za[2]*xa[0]*xa[1]/fb],[za[1]*xa[1]/fb,-za[0]*za[2]*xa[0]*xa[2]/fb],[za[2]*xa[1]*xa[2]/fb,-Sa*za[0]*za[1]*xa[0]/fb]]}else za=[[za[0],0],[za[1],0],[za[2],0]];else xa=db(xa,1-Sa),za=[[0,xa[0]/xa[1]],[1/xa[1],0],[xa[2]/xa[1],0]];Sa=za[0];za=za[1];xa=za[0]*za[0]+za[1]*za[1];Sa=[(Sa[0]*za[0]+Sa[1]*za[1])/xa,(Sa[1]*za[0]-Sa[0]*za[1])/
xa];return[le(Sa[1],Sa[0])/-1,2*xe(Fe(-.5*lf(Na*Sa[0]*Sa[0]+Na*Sa[1]*Sa[1])))-Za]};var mf=H(1-1/3)*gd,Zf=ia(0);md.invert=function(xa,za){return-.7109889596207567<za?Id.invert(xa,za-.0528035274542):K.invert(xa,za)};pc.invert=function(xa,za){return.7109889596207567<Gc(za)?Id.invert(xa,za+(0<za?.0528035274542:-.0528035274542)):K.invert(xa,za)};var yf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],
[140,-90],[180,0]]]],Pe=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Aa=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Pa=[[[[-180,35],
[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],vb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Uc.invert=function(xa,za){return[Oc/3*xa/x(Ea*Ea/3-za*za),za]};var Wb=Ea/Yb;Lc.invert=function(xa,za){var Na=Gc(xa),Sa=Gc(za),fb=1E-6,hb=Za;Sa<Wb?hb*=Sa/Wb:fb+=6*N(Wb/Sa);for(var qb=0;25>qb;qb++){var Db=
yc(hb),Ab=x(kc(hb)),Kb=yc(hb/2),Jb=kc(hb/2),cc=yc(fb/6),xc=kc(fb/6),Y=.5*fb*(1+Ab)-Na,oa=hb/(Jb*xc)-Sa;Db=Ab?-.25*fb*Db/Ab:0;Ab=.5*(1+Ab);Kb=(1+.5*hb*Kb/Jb)/(Jb*xc);cc=hb/Jb*(cc/6)/(xc*xc);Jb=Db*cc-Kb*Ab;cc=(Y*cc-oa*Ab)/Jb;Y=(oa*Db-Y*Kb)/Jb;hb-=cc;fb-=Y;if(1E-6>Gc(cc)&&1E-6>Gc(Y))break}return[0>xa?-fb:fb,0>za?-hb:hb]};Fd.invert=function(xa,za){var Na=qe(xa)*Ea,Sa=za/2,fb=50;do{var hb=Na*Na,qb=Sa*Sa,Db=Na*Sa,Ab=Na*(.975534+qb*(-.119161+-.0143059*hb+-.0547009*qb))-xa,Kb=Sa*(1.00384+hb*(.0802894+-.02855*
qb+1.99025E-4*hb)+qb*(.0998909+-.0491032*qb))-za,Jb=.975534-qb*(.119161+.0429177*hb+.0547009*qb),cc=-Db*(.238322+.2188036*qb+.0286118*hb);Db*=.1605788+7.961E-4*hb+-.0571*qb;qb=1.00384+hb*(.0802894+1.99025E-4*hb)+qb*(3*(.0998909-.02855*hb)-.245516*qb);hb=cc*Db-qb*Jb;cc=(Kb*cc-Ab*qb)/hb;Ab=(Ab*Db-Kb*Jb)/hb;Na-=cc;Sa-=Ab}while((1E-6<Gc(cc)||1E-6<Gc(Ab))&&0<--fb);return fb&&[Na,Sa]};ge.invert=function(xa,za){var Na=xa*xa,Sa=za*za+1,fb=Na+Sa;Na=xa?ub*x((fb-x(fb*fb-4*Na))/Na):1/x(Sa);return[H(xa*Na),qe(za)*
N(Na)]};vd.invert=function(xa,za){return[xa,2.5*xe(Fe(.8*za))-.625*Ea]};var Tb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],ic=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],oc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],fd=[[.9245,0],[0,0],[.01943,0]],Wc=[[.721316,
0],[0,0],[-.00881625,-.00617325]],nd=x(6),Kd=x(7);gc.invert=function(xa,za){za=3*H(za*Kd/9);return[xa*Kd/(nd*(2*kc(2*za/3)-1)),H(3*yc(za)*nd/7)]};Eb.invert=function(xa,za){za=za*x(2+Yb)/(2*x(3));var Na=2*H(za);return[3*Yb*xa/(1+2*kc(Na)/kc(Na/2)),H((za+yc(Na))/(1+ub))]};zc.invert=function(xa,za){var Na=x(6/(4+Ea));za/=Na;1E-6>Gc(Gc(za)-Za)&&(za=0>za?-Za:Za);return[1.5*xa/(Na*(.5+kc(za))),H((za/2+yc(za))/(1+Ea/4))]};Vc.invert=function(xa,za){var Na=za,Sa=25;do{var fb=Na*Na;var hb=fb*fb;Na-=fb=(Na*
(1.01183+hb*hb*(-.02625+.01926*fb-.00396*hb))-za)/(1.01183+hb*hb*(-.23625+.21186*fb+-.05148*hb))}while(1E-12<Gc(fb)&&0<--Sa);fb=Na*Na;hb=fb*fb;za=fb*hb;return[xa/(.84719-.13063*fb+za*za*(-.04515+.05494*fb-.02326*hb+.00331*za)),Na]};Ed.invert=function(xa,za){for(var Na=za/2,Sa=0,fb=Infinity;10>Sa&&1E-6<Gc(fb);++Sa)fb=kc(za/2),za-=fb=(za-wa(za/2)-Na)/(1-.5/(fb*fb));return[2*xa/(1+kc(za)),za]};var de=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,
0]]]];Vd.invert=function(xa,za){xa/=Za;za/=Za;var Na=xa*xa,Sa=Na+za*za,fb=Ea*Ea;return[xa?(Sa-1+x((1-Sa)*(1-Sa)+4*Na))/(2*xa)*Za:0,B(function(hb){return Sa*(Ea*yc(hb)-2*hb)*Ea+4*hb*hb*(za-yc(hb))+2*Ea*hb-fb*za},0)]};var je=5*.23185;Ka.invert=function(xa,za){1.790857183<za?za=1.790857183:-1.790857183>za&&(za=-1.790857183);var Na=za;do{var Sa=Na*Na;Na-=Sa=(Na*(1.0148+Sa*Sa*(.23185+Sa*(-.14499+.02406*Sa)))-za)/(1.0148+Sa*Sa*(je+Sa*(-1.01493+.21654*Sa)))}while(1E-6<Gc(Sa));return[xa,Na]};eb.invert=function(xa,
za){if(1E-6>Gc(za))return[xa,0];var Na=xa*xa+za*za,Sa=.5*za,fb=10;do{var hb=wa(Sa);var qb=1/kc(Sa),Db=Na-2*za*Sa+Sa*Sa;Sa-=hb=(hb*Db+2*(Sa-za))/(2+Db*qb*qb+2*(Sa-za)*hb)}while(1E-6<Gc(hb)&&0<--fb);hb=wa(Sa);return[(Gc(za)<Gc(Sa+1/hb)?H(xa*hb):qe(za)*qe(xa)*(N(Gc(xa*hb))+Za))/yc(Sa),Sa]};var Gd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Le=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(xa){return xa.map(function(za){return Gd[za]})}),$d=2/x(3);mc.invert=function(xa,
za){return P.invert(xa/$d,za)};var Ie=()=>{},Ce=[],Qe=[],Uf={point:function(xa,za){Ce.push([xa,za])},result:function(){var xa=Ce.length?2>Ce.length?{type:"Point",coordinates:Ce[0]}:{type:"MultiPoint",coordinates:Ce}:null;Ce=[];return xa}},ne={lineStart:Ie,point:function(xa,za){Ce.push([xa,za])},lineEnd:function(){Ce.length&&(Qe.push(Ce),Ce=[])},result:function(){var xa=Qe.length?2>Qe.length?{type:"LineString",coordinates:Qe[0]}:{type:"MultiLineString",coordinates:Qe}:null;Qe=[];return xa}},sf={polygonStart:Ie,
lineStart:Ie,point:function(xa,za){Ce.push([xa,za])},lineEnd:function(){var xa=Ce.length;if(xa){do Ce.push(Ce[0].slice());while(4>++xa);Qe.push(Ce);Ce=[]}},polygonEnd:Ie,result:function(){if(!Qe.length)return null;var xa=[],za=[];Qe.forEach(function(Na){if(4>(fb=Na.length))var Sa=!1;else{Sa=0;for(var fb,hb=Na[fb-1][1]*Na[0][0]-Na[fb-1][0]*Na[0][1];++Sa<fb;)hb+=Na[Sa-1][1]*Na[Sa][0]-Na[Sa-1][0]*Na[Sa][1];Sa=0>=hb}Sa?xa.push([Na]):za.push(Na)});za.forEach(function(Na){var Sa=Na[0];xa.some(function(fb){for(var hb=
fb[0],qb=Sa[0],Db=Sa[1],Ab=!1,Kb=0,Jb=hb.length,cc=Jb-1;Kb<Jb;cc=Kb++){var xc=hb[Kb],Y=xc[0];xc=xc[1];var oa=hb[cc];cc=oa[0];oa=oa[1];xc>Db^oa>Db&&qb<(cc-Y)*(Db-xc)/(oa-xc)+Y&&(Ab=!Ab)}if(Ab)return fb.push(Na),!0})||xa.push([Na])});Qe=[];return xa.length?1<xa.length?{type:"MultiPolygon",coordinates:xa}:{type:"Polygon",coordinates:xa[0]}:null}},Cf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,
.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Cf.forEach(function(xa){xa[1]*=1.0144});Cd.invert=function(xa,za){var Na=za/Za,Sa=90*Na,fb=If(18,Gc(Sa/5)),hb=Yf(0,ue(fb));do{var qb=Cf[hb][1],Db=Cf[hb+1][1],Ab=Cf[If(19,hb+2)][1],Kb=Ab-qb;qb=Ab-2*Db+qb;Db=2*(Gc(Na)-Db)/Kb;Kb=qb/Kb;Kb=Db*(1-Kb*Db*(1-2*Kb*Db));if(0<=Kb||1===hb){Sa=(0<=za?5:-5)*(Kb+fb);Na=50;do fb=If(18,Gc(Sa)/5),hb=ue(fb),Kb=fb-hb,qb=Cf[hb][1],Db=Cf[hb+1][1],Ab=Cf[If(19,hb+2)][1],
Sa-=(fb=(0<=za?Za:-Za)*(Db+Kb*(Ab-qb)/2+Kb*Kb*(Ab-2*Db+qb)/2)-za)*gd;while(1E-12<Gc(fb)&&0<--Na);break}}while(0<=--hb);za=Cf[hb][0];fb=Cf[hb+1][0];hb=Cf[If(19,hb+2)][0];return[xa/(fb+Kb*(hb-za)/2+Kb*Kb*(hb-2*fb+za)/2),Sa*Mc]};he.invert=function(xa,za){za/=1.70711;var Na=yc(Cb*za);return[xa/(.74482-.34588*Na*Na),2*xe(za)]};kf.invert=function(xa,za){if(1E-6>Gc(za))return[xa,0];if(1E-6>Gc(xa))return[0,Za*yc(2*xe(za/Ea))];var Na=(xa/=Ea)*xa,Sa=(za/=Ea)*za,fb=Na+Sa,hb=fb*fb,qb=-Gc(za)*(1+fb),Db=qb-2*Sa+
Na,Ab=-2*qb+1+2*Sa+hb,Kb=Sa/Ab+(2*Db*Db*Db/(Ab*Ab*Ab)-9*qb*Db/(Ab*Ab))/27,Jb=(qb-Db*Db/(3*Ab))/Ab;qb=2*x(-Jb/3);Kb=N(3*Kb/(Jb*qb))/3;return[Ea*(fb-1+x(1+2*(Na-Sa)+hb))/(2*xa),qe(za)*Ea*(-qb*kc(Kb+Ea/3)-Db/(3*Ab))]};we.invert=function(xa,za){if(!xa)return[0,Za*yc(2*xe(za/Ea))];var Na=Gc(xa/Ea),Sa=(1-Na*Na-(za/=Ea)*za)/(2*Na),fb=x(Sa*Sa+1);return[qe(xa)*Ea*(fb-Sa),qe(za)*Za*yc(2*le(x((1-2*Sa*Na)*(Sa+fb)-Na),x(fb+Sa+Na)))]};Od.invert=function(xa,za){if(!za)return[xa,0];za/=Ea;var Na=(Ea*Ea*(1-za*za)-
xa*xa)/(2*Ea*xa);return[xa?Ea*(qe(xa)*x(Na*Na+1)-Na):0,Za*yc(2*xe(za))]};Xd.invert=function(xa,za){if(!xa||!za)return[xa,za];var Na=qe(za);za=Gc(za)/Ea;var Sa=qe(xa)*xa/Za,fb=(Sa*Sa-1+4*za*za)/Gc(Sa),hb=fb*fb,qb=za*(2-(.5<za?If(za,Gc(xa)):0));za=xa*xa+za*za;var Db=50;do{var Ab=qb*qb;var Kb=(8*qb-Ab*(Ab+2)-5)/(2*Ab*(qb-1));var Jb=(3*qb-Ab*qb-10)/(2*Ab*qb),cc=Kb*Kb,xc=qb*Kb,Y=qb+Kb,oa=Y*Y,Oa=qb+3*Kb,Va=-2*Y*(4*xc*cc+(1-4*Ab+3*Ab*Ab)*(1+Jb)+cc*(-6+14*Ab-hb+(-8+8*Ab-2*hb)*Jb)+xc*(-8+12*Ab+(-10+10*Ab-
hb)*Jb));Ab=x(oa*(Ab+cc*hb-1)+(1-Ab)*(Ab*(Oa*Oa+4*cc)+cc*(12*xc+4*cc)));qb-=Kb=(fb*(oa+cc-1)+2*Ab-Sa*(4*oa+hb))/(fb*(2*Kb*Jb+2*Y*(1+Jb))+Va/Ab-8*Y*(fb*(-1+cc+oa)+2*Ab)*(1+Jb)/(hb+4*oa))}while(1E-6<Kb*za*za&&0<--Db);return[qe(xa)*(x(fb*fb+4)+fb)*Ea/4,Na*Za*qb]};var Bg=4*Ea+3*x(3),Lf=2*x(2*Ea*x(3)/Bg),jg=F(Lf*x(3)/Ea,Lf,Bg/6);Td.invert=function(xa,za){return[xa/x(1-3*za*za/(Ea*Ea)),za]};Ye.invert=function(xa,za){var Na=(xa*xa+za*za)/-2,Sa=x(-Na*(2+Na)),fb=za*Na+xa*Sa;xa=xa*Na-za*Sa;za=x(xa*xa+fb*fb);
return[le(Sa*fb,za*(1+Na)),za?-H(Sa*xa/za):0]};Xf.invert=function(xa,za){var Na=xa,Sa=za,fb=25;do{var hb=kc(Sa),qb=yc(Sa),Db=yc(2*Sa),Ab=qb*qb,Kb=hb*hb,Jb=yc(Na),cc=kc(Na/2),xc=yc(Na/2),Y=xc*xc,oa=1-Kb*cc*cc,Oa=oa?N(hb*cc)*x(Va=1/oa):Va=0,Va;oa=.5*(2*Oa*hb*xc+Na/Za)-xa;var xb=.5*(Oa*qb+Sa)-za,Sb=.5*Va*(Kb*Y+Oa*hb*cc*Ab)+.5/Za,Zb=Va*(Jb*Db/4-Oa*qb*xc);qb=.125*Va*(Db*xc-Oa*qb*Kb*Jb);Ab=.5*Va*(Ab*cc+Oa*Y*hb)+.5;hb=Zb*qb-Ab*Sb;Zb=(xb*Zb-oa*Ab)/hb;oa=(oa*qb-xb*Sb)/hb;Na-=Zb;Sa-=oa}while((1E-6<Gc(Zb)||
1E-6<Gc(oa))&&0<--fb);return[Na,Sa]};k.geoAiry=function(){var xa=Za,za=l.geoProjectionMutator(m),Na=za(xa);Na.radius=function(Sa){return arguments.length?za(xa=Sa*Mc):xa*gd};return Na.scale(179.976).clipAngle(147)};k.geoAiryRaw=m;k.geoAitoff=function(){return l.geoProjection(g).scale(152.63)};k.geoAitoffRaw=g;k.geoArmadillo=function(){var xa=20*Mc,za=0<=xa?1:-1,Na=wa(za*xa),Sa=l.geoProjectionMutator(d),fb=Sa(xa),hb=fb.stream;fb.parallel=function(qb){if(!arguments.length)return xa*gd;Na=wa((za=0<=
(xa=qb*Mc)?1:-1)*xa);return Sa(xa)};fb.stream=function(qb){var Db=fb.rotate(),Ab=hb(qb),Kb=(fb.rotate([0,0]),hb(qb)),Jb=fb.precision();fb.rotate(Db);Ab.sphere=function(){Kb.polygonStart();Kb.lineStart();for(var cc=-180*za;180>za*cc;cc+=90*za)Kb.point(cc,90*za);if(xa)for(;-180<=za*(cc-=3*za*Jb);)Kb.point(cc,za*-le(kc(cc*Mc/2),Na)*gd);Kb.lineEnd();Kb.polygonEnd()};return Ab};return fb.scale(218.695).center([0,28.0974])};k.geoArmadilloRaw=d;k.geoAugust=function(){return l.geoProjection(f).scale(66.1603)};
k.geoAugustRaw=f;k.geoBaker=function(){return l.geoProjection(a).scale(112.314)};k.geoBakerRaw=a;k.geoBerghaus=function(){var xa=5,za=l.geoProjectionMutator(e),Na=za(xa),Sa=Na.stream,fb=-kc(.01*Mc),hb=yc(.01*Mc);Na.lobes=function(qb){return arguments.length?za(xa=+qb):xa};Na.stream=function(qb){var Db=Na.rotate(),Ab=Sa(qb),Kb=(Na.rotate([0,0]),Sa(qb));Na.rotate(Db);Ab.sphere=function(){Kb.polygonStart();Kb.lineStart();for(var Jb=0,cc=360/xa,xc=2*Ea/xa,Y=90-180/xa,oa=Za;Jb<xa;++Jb,Y-=cc,oa-=xc)Kb.point(le(hb*
kc(oa),fb)*gd,H(hb*yc(oa))*gd),-90>Y?(Kb.point(-90,-180-Y-.01),Kb.point(-90,-180-Y+.01)):(Kb.point(90,Y+.01),Kb.point(90,Y-.01));Kb.lineEnd();Kb.polygonEnd()};return Ab};return Na.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};k.geoBerghausRaw=e;k.geoBertin1953=function(){return l.geoProjection(O()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};k.geoBertin1953Raw=O;k.geoBoggs=function(){return l.geoProjection(z).scale(160.857)};k.geoBoggsRaw=z;k.geoBonne=function(){return G(R).scale(123.082).center([0,
26.1441]).parallel(45)};k.geoBonneRaw=R;k.geoBottomley=function(){var xa=.5,za=l.geoProjectionMutator(T),Na=za(xa);Na.fraction=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(158.837)};k.geoBottomleyRaw=T;k.geoBromley=function(){return l.geoProjection(jd).scale(152.63)};k.geoBromleyRaw=jd;k.geoChamberlin=Z;k.geoChamberlinRaw=ha;k.geoChamberlinAfrica=function(){return Z([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};k.geoCollignon=function(){return l.geoProjection(P).scale(95.6464).center([0,
30])};k.geoCollignonRaw=P;k.geoCraig=function(){return G(C).scale(249.828).clipAngle(90)};k.geoCraigRaw=C;k.geoCraster=function(){return l.geoProjection(V).scale(156.19)};k.geoCrasterRaw=V;k.geoCylindricalEqualArea=function(){return G(ia).parallel(38.58).scale(195.044)};k.geoCylindricalEqualAreaRaw=ia;k.geoCylindricalStereographic=function(){return G(aa).scale(124.75)};k.geoCylindricalStereographicRaw=aa;k.geoEckert1=function(){return l.geoProjection(ya).scale(165.664)};k.geoEckert1Raw=ya;k.geoEckert2=
function(){return l.geoProjection(va).scale(165.664)};k.geoEckert2Raw=va;k.geoEckert3=function(){return l.geoProjection(Ia).scale(180.739)};k.geoEckert3Raw=Ia;k.geoEckert4=function(){return l.geoProjection(bb).scale(180.739)};k.geoEckert4Raw=bb;k.geoEckert5=function(){return l.geoProjection(kb).scale(173.044)};k.geoEckert5Raw=kb;k.geoEckert6=function(){return l.geoProjection(ua).scale(173.044)};k.geoEckert6Raw=ua;k.geoEisenlohr=function(){return l.geoProjection(Ta).scale(62.5271)};k.geoEisenlohrRaw=
Ta;k.geoFahey=function(){return l.geoProjection(Ya).scale(137.152)};k.geoFaheyRaw=Ya;k.geoFoucaut=function(){return l.geoProjection(Da).scale(135.264)};k.geoFoucautRaw=Da;k.geoFoucautSinusoidal=function(){var xa=.5,za=l.geoProjectionMutator(ta),Na=za(xa);Na.alpha=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(168.725)};k.geoFoucautSinusoidalRaw=ta;k.geoGilbert=function(xa){function za(hb){return Sa([hb[0]/2,H(wa(hb[1]/2*Mc))*gd])}function Na(hb){za[hb]=function(){return arguments.length?
(Sa[hb].apply(Sa,arguments),za):Sa[hb]()}}null==xa&&(xa=l.geoOrthographic);var Sa=xa(),fb=l.geoEquirectangular().scale(gd).precision(0).clipAngle(null).translate([0,0]);Sa.invert&&(za.invert=function(hb){return U(Sa.invert(hb))});za.stream=function(hb){var qb=Sa.stream(hb);hb=fb.stream({point:function(Db,Ab){qb.point(Db/2,H(wa(-Ab/2*Mc))*gd)},lineStart:function(){qb.lineStart()},lineEnd:function(){qb.lineEnd()},polygonStart:function(){qb.polygonStart()},polygonEnd:function(){qb.polygonEnd()}});hb.sphere=
qb.sphere;return hb};za.rotate=function(hb){return arguments.length?(fb.rotate(hb),za):fb.rotate()};za.center=function(hb){return arguments.length?(Sa.center([hb[0]/2,H(wa(hb[1]/2*Mc))*gd]),za):U(Sa.center())};Na("angle");Na("clipAngle");Na("clipExtent");Na("fitExtent");Na("fitHeight");Na("fitSize");Na("fitWidth");Na("scale");Na("translate");Na("precision");return za.scale(249.5)};k.geoGingery=function(){var xa=6,za=30*Mc,Na=kc(za),Sa=yc(za),fb=l.geoProjectionMutator(W),hb=fb(za,xa),qb=hb.stream,
Db=-kc(.01*Mc),Ab=yc(.01*Mc);hb.radius=function(Kb){if(!arguments.length)return za*gd;Na=kc(za=Kb*Mc);Sa=yc(za);return fb(za,xa)};hb.lobes=function(Kb){return arguments.length?fb(za,xa=+Kb):xa};hb.stream=function(Kb){var Jb=hb.rotate(),cc=qb(Kb),xc=(hb.rotate([0,0]),qb(Kb));hb.rotate(Jb);cc.sphere=function(){xc.polygonStart();xc.lineStart();for(var Y=0,oa=2*Ea/xa,Oa=0;Y<xa;++Y,Oa-=oa)xc.point(le(Ab*kc(Oa),Db)*gd,H(Ab*yc(Oa))*gd),xc.point(le(Sa*kc(Oa-oa/2),Na)*gd,H(Sa*yc(Oa-oa/2))*gd);xc.lineEnd();
xc.polygonEnd()};return cc};return hb.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};k.geoGingeryRaw=W;k.geoGinzburg4=function(){return l.geoProjection(tf).scale(149.995)};k.geoGinzburg4Raw=tf;k.geoGinzburg5=function(){return l.geoProjection(kd).scale(153.93)};k.geoGinzburg5Raw=kd;k.geoGinzburg6=function(){return l.geoProjection(We).scale(130.945)};k.geoGinzburg6Raw=We;k.geoGinzburg8=function(){return l.geoProjection(qa).scale(131.747)};k.geoGinzburg8Raw=qa;k.geoGinzburg9=function(){return l.geoProjection(uf).scale(131.087)};
k.geoGinzburg9Raw=uf;k.geoGringorten=function(){return l.geoProjection(Fa(na)).scale(239.75)};k.geoGringortenRaw=na;k.geoGuyou=function(){return l.geoProjection(Fa(Ca)).scale(151.496)};k.geoGuyouRaw=Ca;k.geoHammer=function(){var xa=2,za=l.geoProjectionMutator(n),Na=za(xa);Na.coefficient=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(169.529)};k.geoHammerRaw=n;k.geoHammerRetroazimuthal=function(){var xa=0,za=l.geoProjectionMutator(Ga),Na=za(xa),Sa=Na.rotate,fb=Na.stream,hb=l.geoCircle();
Na.parallel=function(qb){if(!arguments.length)return xa*gd;var Db=Na.rotate();return za(xa=qb*Mc).rotate(Db)};Na.rotate=function(qb){if(!arguments.length)return qb=Sa.call(Na),qb[1]+=xa*gd,qb;Sa.call(Na,[qb[0],qb[1]-xa*gd]);hb.center([-qb[0],-qb[1]]);return Na};Na.stream=function(qb){qb=fb(qb);qb.sphere=function(){qb.polygonStart();var Db=hb.radius(89.99)().coordinates[0],Ab=Db.length-1,Kb=-1,Jb;for(qb.lineStart();++Kb<Ab;)qb.point((Jb=Db[Kb])[0],Jb[1]);qb.lineEnd();Db=hb.radius(90.01)().coordinates[0];
for(qb.lineStart();0<=--Kb;)qb.point((Jb=Db[Kb])[0],Jb[1]);qb.lineEnd();qb.polygonEnd()};return qb};return Na.scale(79.4187).parallel(45).clipAngle(179.999)};k.geoHammerRetroazimuthalRaw=Ga;k.geoHealpix=function(){var xa=4,za=l.geoProjectionMutator(Ha),Na=za(xa),Sa=Na.stream;Na.lobes=function(fb){return arguments.length?za(xa=+fb):xa};Na.stream=function(fb){var hb=Na.rotate(),qb=Sa(fb),Db=(Na.rotate([0,0]),Sa(fb));Na.rotate(hb);qb.sphere=function(){l.geoStream(Xb(180/xa),Db)};return qb};return Na.scale(239.75)};
k.geoHealpixRaw=Ha;k.geoHill=function(){var xa=1,za=l.geoProjectionMutator(nc),Na=za(xa);Na.ratio=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(167.774).center([0,18.67])};k.geoHillRaw=nc;k.geoHomolosine=function(){return l.geoProjection(pc).scale(152.63)};k.geoHomolosineRaw=pc;k.geoHufnagel=function(){var xa=1,za=0,Na=45*Mc,Sa=2,fb=l.geoProjectionMutator(Hc),hb=fb(xa,za,Na,Sa);hb.a=function(qb){return arguments.length?fb(xa=+qb,za,Na,Sa):xa};hb.b=function(qb){return arguments.length?
fb(xa,za=+qb,Na,Sa):za};hb.psiMax=function(qb){return arguments.length?fb(xa,za,Na=+qb*Mc,Sa):Na*gd};hb.ratio=function(qb){return arguments.length?fb(xa,za,Na,Sa=+qb):Sa};return hb.scale(180.739)};k.geoHufnagelRaw=Hc;k.geoHyperelliptical=function(){var xa=0,za=2.5,Na=1.183136,Sa=l.geoProjectionMutator(jc),fb=Sa(xa,za,Na);fb.alpha=function(hb){return arguments.length?Sa(xa=+hb,za,Na):xa};fb.k=function(hb){return arguments.length?Sa(xa,za=+hb,Na):za};fb.gamma=function(hb){return arguments.length?Sa(xa,
za,Na=+hb):Na};return fb.scale(152.63)};k.geoHyperellipticalRaw=jc;k.geoInterrupt=sc;k.geoInterruptedBoggs=function(){return sc(z,yf).scale(160.857)};k.geoInterruptedHomolosine=function(){return sc(pc,Pe).scale(152.63)};k.geoInterruptedMollweide=function(){return sc(Id,nf).scale(169.529)};k.geoInterruptedMollweideHemispheres=function(){return sc(Id,Aa).scale(169.529).rotate([20,0])};k.geoInterruptedSinuMollweide=function(){return sc(md,Pa,D).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};k.geoInterruptedSinusoidal=
function(){return sc(K,vb).scale(152.63).rotate([-20,0])};k.geoKavrayskiy7=function(){return l.geoProjection(Uc).scale(158.837)};k.geoKavrayskiy7Raw=Uc;k.geoLagrange=function(){var xa=.5,za=l.geoProjectionMutator(Sc),Na=za(xa);Na.spacing=function(Sa){return arguments.length?za(xa=+Sa):xa};return Na.scale(124.75)};k.geoLagrangeRaw=Sc;k.geoLarrivee=function(){return l.geoProjection(Lc).scale(97.2672)};k.geoLarriveeRaw=Lc;k.geoLaskowski=function(){return l.geoProjection(Fd).scale(139.98)};k.geoLaskowskiRaw=
Fd;k.geoLittrow=function(){return l.geoProjection(ge).scale(144.049).clipAngle(89.999)};k.geoLittrowRaw=ge;k.geoLoximuthal=function(){return G(wd).parallel(40).scale(158.837)};k.geoLoximuthalRaw=wd;k.geoMiller=function(){return l.geoProjection(vd).scale(108.318)};k.geoMillerRaw=vd;k.geoModifiedStereographic=Pb;k.geoModifiedStereographicRaw=Wd;k.geoModifiedStereographicAlaska=function(){return Pb(Tb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};k.geoModifiedStereographicGs48=
function(){return Pb(ic,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};k.geoModifiedStereographicGs50=function(){return Pb(oc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};k.geoModifiedStereographicMiller=function(){return Pb(fd,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};k.geoModifiedStereographicLee=function(){return Pb(Wc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};k.geoMollweide=function(){return l.geoProjection(Id).scale(169.529)};
k.geoMollweideRaw=Id;k.geoMtFlatPolarParabolic=function(){return l.geoProjection(gc).scale(164.859)};k.geoMtFlatPolarParabolicRaw=gc;k.geoMtFlatPolarQuartic=function(){return l.geoProjection(Eb).scale(188.209)};k.geoMtFlatPolarQuarticRaw=Eb;k.geoMtFlatPolarSinusoidal=function(){return l.geoProjection(zc).scale(166.518)};k.geoMtFlatPolarSinusoidalRaw=zc;k.geoNaturalEarth2=function(){return l.geoProjection(Vc).scale(175.295)};k.geoNaturalEarth2Raw=Vc;k.geoNellHammer=function(){return l.geoProjection(Ed).scale(152.63)};
k.geoNellHammerRaw=Ed;k.geoInterruptedQuarticAuthalic=function(){return sc(n(Infinity),de).rotate([20,0]).scale(152.63)};k.geoNicolosi=function(){return l.geoProjection(Vd).scale(127.267)};k.geoNicolosiRaw=Vd;k.geoPatterson=function(){return l.geoProjection(Ka).scale(139.319)};k.geoPattersonRaw=Ka;k.geoPolyconic=function(){return l.geoProjection(eb).scale(103.74)};k.geoPolyconicRaw=eb;k.geoPolyhedral=Lb;k.geoPolyhedralButterfly=function(xa){xa=xa||function(Na){Na=l.geoCentroid({type:"MultiPoint",
coordinates:Na});return l.geoGnomonic().scale(1).translate([0,0]).rotate([-Na[0],-Na[1]])};var za=Le.map(function(Na){return{face:Na,project:xa(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=za[Na])&&(Na.children||(Na.children=[])).push(za[Sa])});return Lb(za[0],function(Na,Sa){return za[Na<-Ea/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ea/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(101.858).center([0,45])};k.geoPolyhedralCollignon=function(xa){xa=xa||function(Na){Na=l.geoCentroid({type:"MultiPoint",coordinates:Na});
return l.geoProjection(mc).translate([0,0]).scale(1).rotate(0<Na[1]?[-Na[0],0]:[180-Na[0],180])};var za=Le.map(function(Na){return{face:Na,project:xa(Na)}});[-1,0,0,1,0,1,4,5].forEach(function(Na,Sa){(Na=za[Na])&&(Na.children||(Na.children=[])).push(za[Sa])});return Lb(za[0],function(Na,Sa){return za[Na<-Ea/2?0>Sa?6:4:0>Na?0>Sa?2:0:Na<Ea/2?0>Sa?3:1:0>Sa?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};k.geoPolyhedralWaterman=function(xa){xa=xa||function(hb){hb=6===hb.length?l.geoCentroid({type:"MultiPoint",
coordinates:hb}):hb[0];return l.geoGnomonic().scale(1).translate([0,0]).rotate([-hb[0],-hb[1]])};var za=Le.map(function(hb){hb=hb.map(Qb);for(var qb=hb.length,Db=hb[qb-1],Ab,Kb=[],Jb=0;Jb<qb;++Jb)Ab=hb[Jb],Kb.push(Xc([.9486832980505138*Db[0]+.31622776601683794*Ab[0],.9486832980505138*Db[1]+.31622776601683794*Ab[1],.9486832980505138*Db[2]+.31622776601683794*Ab[2]]),Xc([.9486832980505138*Ab[0]+.31622776601683794*Db[0],.9486832980505138*Ab[1]+.31622776601683794*Db[1],.9486832980505138*Ab[2]+.31622776601683794*
Db[2]])),Db=Ab;return Kb}),Na=[],Sa=[-1,0,0,1,0,1,4,5];za.forEach(function(hb,qb){for(var Db=Le[qb],Ab=Db.length,Kb=Na[qb]=[],Jb=0;Jb<Ab;++Jb)za.push([Db[Jb],hb[(2*Jb+2)%(2*Ab)],hb[(2*Jb+1)%(2*Ab)]]),Sa.push(qb),Kb.push(Cc(Qb(hb[(2*Jb+2)%(2*Ab)]),Qb(hb[(2*Jb+1)%(2*Ab)])))});var fb=za.map(function(hb){return{project:xa(hb),face:hb}});Sa.forEach(function(hb,qb){(hb=fb[hb])&&(hb.children||(hb.children=[])).push(fb[qb])});return Lb(fb[0],function(hb,qb){var Db=kc(qb);Db=[Db*kc(hb),Db*yc(hb),yc(qb)];hb=
hb<-Ea/2?0>qb?6:4:0>hb?0>qb?2:0:hb<Ea/2?0>qb?3:1:0>qb?7:5;qb=Na[hb];return fb[0>Bc(qb[0],Db)?8+3*hb:0>Bc(qb[1],Db)?3*hb+9:0>Bc(qb[2],Db)?3*hb+10:hb]}).angle(-30).scale(110.625).center([0,45])};k.geoProject=function(xa,za){za=za.stream;if(!za)throw Error("invalid projection");switch(xa&&xa.type){case "Feature":var Na=Dc;break;case "FeatureCollection":Na=Ic;break;default:Na=Tc}return Na(xa,za)};k.geoGringortenQuincuncial=function(){return ad(na).scale(176.423)};k.geoPeirceQuincuncial=function(){return ad(Ca).scale(111.48)};
k.geoQuantize=function(xa,za){function Na(Ab){var Kb=Ab.length,Jb=2,cc=Array(Kb);cc[0]=+Ab[0].toFixed(za);for(cc[1]=+Ab[1].toFixed(za);Jb<Kb;)cc[Jb]=Ab[Jb],++Jb;return cc}function Sa(Ab){for(var Kb=Na(Ab[0]),Jb=[Kb],cc=1;cc<Ab.length;cc++){var xc=Na(Ab[cc]);if(2<xc.length||xc[0]!=Kb[0]||xc[1]!=Kb[1])Jb.push(xc),Kb=xc}1===Jb.length&&1<Ab.length&&Jb.push(Na(Ab[Ab.length-1]));return Jb}function fb(Ab){return Ab.map(Sa)}function hb(Ab){if(null==Ab)return Ab;switch(Ab.type){case "GeometryCollection":var Kb=
{type:"GeometryCollection",geometries:Ab.geometries.map(hb)};break;case "Point":Kb={type:"Point",coordinates:Na(Ab.coordinates)};break;case "MultiPoint":Kb={type:Ab.type,coordinates:Ab.coordinates.map(Na)};break;case "LineString":Kb={type:Ab.type,coordinates:Sa(Ab.coordinates)};break;case "MultiLineString":case "Polygon":Kb={type:Ab.type,coordinates:fb(Ab.coordinates)};break;case "MultiPolygon":Kb={type:"MultiPolygon",coordinates:Ab.coordinates.map(fb)};break;default:return Ab}null!=Ab.bbox&&(Kb.bbox=
Ab.bbox);return Kb}function qb(Ab){var Kb={type:"Feature",properties:Ab.properties,geometry:hb(Ab.geometry)};null!=Ab.id&&(Kb.id=Ab.id);null!=Ab.bbox&&(Kb.bbox=Ab.bbox);return Kb}if(!(0<=(za=+za)&&20>=za))throw Error("invalid digits");if(null!=xa)switch(xa.type){case "Feature":return qb(xa);case "FeatureCollection":var Db={type:"FeatureCollection",features:xa.features.map(qb)};null!=xa.bbox&&(Db.bbox=xa.bbox);return Db;default:return hb(xa)}return xa};k.geoQuincuncial=ad;k.geoRectangularPolyconic=
function(){return G(ld).scale(131.215)};k.geoRectangularPolyconicRaw=ld;k.geoRobinson=function(){return l.geoProjection(Cd).scale(152.63)};k.geoRobinsonRaw=Cd;k.geoSatellite=function(){var xa=2,za=0,Na=l.geoProjectionMutator(Ud),Sa=Na(xa,za);Sa.distance=function(fb){return arguments.length?Na(xa=+fb,za):xa};Sa.tilt=function(fb){return arguments.length?Na(xa,za=fb*Mc):za*gd};return Sa.scale(432.147).clipAngle(N(1/xa)*gd-1E-6)};k.geoSatelliteRaw=Ud;k.geoSinuMollweide=function(){return l.geoProjection(md).rotate([-20,
-55]).scale(164.263).center([0,-5.4036])};k.geoSinuMollweideRaw=md;k.geoSinusoidal=function(){return l.geoProjection(K).scale(152.63)};k.geoSinusoidalRaw=K;k.geoStitch=function(xa){if(null==xa)return xa;switch(xa.type){case "Feature":return df(xa);case "FeatureCollection":var za={type:"FeatureCollection",features:xa.features.map(df)};null!=xa.bbox&&(za.bbox=xa.bbox);return za;default:return Zd(xa)}};k.geoTimes=function(){return l.geoProjection(he).scale(146.153)};k.geoTimesRaw=he;k.geoTwoPointAzimuthal=
Nf;k.geoTwoPointAzimuthalRaw=Ue;k.geoTwoPointAzimuthalUsa=function(){return Nf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};k.geoTwoPointEquidistant=te;k.geoTwoPointEquidistantRaw=me;k.geoTwoPointEquidistantUsa=function(){return te([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};k.geoVanDerGrinten=function(){return l.geoProjection(kf).scale(79.4183)};k.geoVanDerGrintenRaw=kf;k.geoVanDerGrinten2=function(){return l.geoProjection(we).scale(79.4183)};k.geoVanDerGrinten2Raw=we;k.geoVanDerGrinten3=
function(){return l.geoProjection(Od).scale(79.4183)};k.geoVanDerGrinten3Raw=Od;k.geoVanDerGrinten4=function(){return l.geoProjection(Xd).scale(127.16)};k.geoVanDerGrinten4Raw=Xd;k.geoWagner=Ge;k.geoWagner7=function(){return Ge().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};k.geoWagnerRaw=jf;k.geoWagner4=function(){return l.geoProjection(jg).scale(176.84)};k.geoWagner4Raw=jg;k.geoWagner6=function(){return l.geoProjection(Td).scale(152.63)};k.geoWagner6Raw=Td;k.geoWiechel=function(){return l.geoProjection(Ye).rotate([0,
-90,45]).scale(124.75).clipAngle(179.999)};k.geoWiechelRaw=Ye;k.geoWinkel3=function(){return l.geoProjection(Xf).scale(158.837)};k.geoWinkel3Raw=Xf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(39),A(40)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.d3,k.d3))})(this,function(k,l,w){function H(m,g){return function f(){const a=g();a.type=m;a.path=l.geoPath().projection(a);a.copy=a.copy||function(){const e=f();v.forEach(n=>{if(a[n])e[n](a[n]())});e.path.pointRadius(a.path.pointRadius());
return e};return a}}function N(m,g){if(!m||"string"!==typeof m)throw Error("Projection type must be a name string.");m=m.toLowerCase();return 1<arguments.length?(u[m]=H(m,g),this):u[m]||null}const x=l.geoPath(),v="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),u={albers:l.geoAlbers,albersusa:l.geoAlbersUsa,azimuthalequalarea:l.geoAzimuthalEqualArea,azimuthalequidistant:l.geoAzimuthalEquidistant,
conicconformal:l.geoConicConformal,conicequalarea:l.geoConicEqualArea,conicequidistant:l.geoConicEquidistant,equalEarth:l.geoEqualEarth,equirectangular:l.geoEquirectangular,gnomonic:l.geoGnomonic,identity:l.geoIdentity,mercator:l.geoMercator,mollweide:w.geoMollweide,naturalEarth1:l.geoNaturalEarth1,orthographic:l.geoOrthographic,stereographic:l.geoStereographic,transversemercator:l.geoTransverseMercator};for(const m in u)N(m,u[m]);k.getProjectionPath=function(m){return m&&m.path||x};k.projection=
N;k.projectionProperties=v;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(15),A(27),A(41),A(39),A(32),A(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.d3,k.vega))})(this,function(k,l,w,H,N,x,v,u,m){function g(){}
function d(){function Da(qa,Fa){return Fa.map(na=>ta(qa,na))}function ta(qa,Fa){var na=[],Ra=[];U(qa,Fa,db=>{ra(db,qa,Fa);for(var $a=0,Ca=db.length,Ga=db[Ca-1][1]*db[0][0]-db[Ca-1][0]*db[0][1];++$a<Ca;)Ga+=db[$a-1][1]*db[$a][0]-db[$a-1][0]*db[$a][1];0<Ga?na.push([db]):Ra.push(db)});Ra.forEach(db=>{for(var $a=0,Ca=na.length,Ga;$a<Ca;++$a){a:{var pa=(Ga=na[$a])[0];for(var Ha=db,Ua=-1,jb=Ha.length;++Ua<jb;){b:{var Fb=pa;for(var Xb=Ha[Ua],nc=Xb[0],md=Xb[1],pc=-1,Hc=0,mb=Fb.length,hc=mb-1;Hc<mb;hc=Hc++){var jc=
Fb[Hc],rc=jc[0],Pc=jc[1],sc=Fb[hc];hc=sc[0];var Uc=sc[1],Sc,Lc=jc;jc=sc;sc=Xb;if(Sc=(jc[0]-Lc[0])*(sc[1]-Lc[1])===(sc[0]-Lc[0])*(jc[1]-Lc[1]))Lc=Lc[Sc=+(Lc[0]===jc[0])],sc=sc[Sc],jc=jc[Sc],Sc=Lc<=sc&&sc<=jc||jc<=sc&&sc<=Lc;if(Sc){Fb=0;break b}Pc>md!==Uc>md&&nc<(hc-rc)*(md-Pc)/(Uc-Pc)+rc&&(pc=-pc)}Fb=pc}if(Fb){pa=Fb;break a}}pa=0}if(-1!==pa){Ga.push(db);break}}});return{type:"MultiPolygon",value:Fa,coordinates:na}}function U(qa,Fa,na){function Ra(Fb){var Xb=[Fb[0][0]+Ga,Fb[0][1]+Ca];Fb=[Fb[1][0]+Ga,
Fb[1][1]+Ca];var nc=2*Xb[0]+Xb[1]*(ba+1)*4,md=2*Fb[0]+Fb[1]*(ba+1)*4,pc,Hc;(pc=$a[nc])?(Hc=db[md])?(delete $a[pc.end],delete db[Hc.start],pc===Hc?(pc.ring.push(Fb),na(pc.ring)):db[pc.start]=$a[Hc.end]={start:pc.start,end:Hc.end,ring:pc.ring.concat(Hc.ring)}):(delete $a[pc.end],pc.ring.push(Fb),$a[pc.end=md]=pc):(pc=db[md])?(Hc=$a[nc])?(delete db[pc.start],delete $a[Hc.end],pc===Hc?(pc.ring.push(Fb),na(pc.ring)):db[Hc.start]=$a[pc.end]={start:Hc.start,end:pc.end,ring:Hc.ring.concat(pc.ring)}):(delete db[pc.start],
pc.ring.unshift(Xb),db[pc.start=nc]=pc):db[nc]=$a[md]={start:nc,end:md,ring:[Xb,Fb]}}var db=[],$a=[],Ca;var Ga=Ca=-1;var pa=qa[0]>=Fa;for(Ta[pa<<1].forEach(Ra);++Ga<ba-1;){var Ha=pa;pa=qa[Ga+1]>=Fa;Ta[Ha|pa<<1].forEach(Ra)}for(Ta[pa<<0].forEach(Ra);++Ca<ca-1;){Ga=-1;pa=qa[Ca*ba+ba]>=Fa;var Ua=qa[Ca*ba]>=Fa;for(Ta[pa<<1|Ua<<2].forEach(Ra);++Ga<ba-1;){Ha=pa;pa=qa[Ca*ba+ba+Ga+1]>=Fa;var jb=Ua;Ua=qa[Ca*ba+Ga+1]>=Fa;Ta[Ha|pa<<1|Ua<<2|jb<<3].forEach(Ra)}Ta[pa|Ua<<3].forEach(Ra)}Ga=-1;Ua=qa[Ca*ba]>=Fa;for(Ta[Ua<<
2].forEach(Ra);++Ga<ba-1;)jb=Ua,Ua=qa[Ca*ba+Ga+1]>=Fa,Ta[Ua<<2|jb<<3].forEach(Ra);Ta[Ua<<3].forEach(Ra)}function W(qa,Fa,na){qa.forEach(Ra=>{var db=Ra[0],$a=Ra[1],Ca=db|0,Ga=$a|0,pa=Fa[Ga*ba+Ca];if(0<db&&db<ba&&Ca===db){var Ha=Fa[Ga*ba+Ca-1];Ra[0]=db+(na-Ha)/(pa-Ha)-.5}0<$a&&$a<ca&&Ga===$a&&(Ha=Fa[(Ga-1)*ba+Ca],Ra[1]=$a+(na-Ha)/(pa-Ha)-.5)})}var ba=1,ca=1,ra=W;Da.contour=ta;Da.size=function(qa){if(!arguments.length)return[ba,ca];var Fa=Math.floor(qa[0]),na=Math.floor(qa[1]);0<=Fa&&0<=na||w.error("invalid size");
return ba=Fa,ca=na,Da};Da.smooth=function(qa){return arguments.length?(ra=qa?W:g,Da):ra===W};return Da}function f(Da,ta,U){return function(W){var ba=w.extent(W);W=U?Math.min(ba[0],0):ba[0];ba=ba[1];var ca=ba-W;ca=ta?H.tickStep(W,ba,Da):ca/(Da+1);return H.range(W+ca,ba,ca)}}function a(Da){l.Transform.call(this,null,Da)}function e(Da,ta,U){const W=f(U.levels||10,U.nice,!1!==U.zero);return"shared"!==U.resolve?W:W(Da.map(ba=>H.max(ta(ba).values)))}function n(Da,ta,U,W){var ba=W.scale||ta.scale;let ca=
W.translate||ta.translate;w.isFunction(ba)&&(ba=ba(U,W));w.isFunction(ca)&&(ca=ca(U,W));if(1!==ba&&null!=ba||ca)U=(w.isNumber(ba)?ba:ba[0])||1,ba=(w.isNumber(ba)?ba:ba[1])||1,Da.forEach(y(ta,U,ba,ca&&ca[0]||0,ca&&ca[1]||0))}function y(Da,ta,U,W,ba){function ca(db){db.forEach(ra)}function ra(db){Ra&&db.reverse();db.forEach(qa)}function qa(db){db[0]=(db[0]-Fa)*ta+W;db[1]=(db[1]-na)*U+ba}const Fa=Da.x1||0,na=Da.y1||0,Ra=0>ta*U;return function(db){db.coordinates.forEach(ca);return db}}function B(Da,ta,
U){Da=0<=Da?Da:N.bandwidthNRD(ta,U);return Math.round((Math.sqrt(4*Da*Da+1)-1)/2)}function D(Da){return w.isFunction(Da)?Da:w.constant(+Da)}function O(){function Da(Fa,na){const Ra=B(ba[0],Fa,ta)>>qa,db=B(ba[1],Fa,U)>>qa,$a=Ra?Ra+2:0,Ca=db?db+2:0,Ga=2*$a+(ca>>qa),pa=2*Ca+(ra>>qa),Ha=new Float32Array(Ga*pa),Ua=new Float32Array(Ga*pa);let jb=Ha;Fa.forEach(Fb=>{const Xb=$a+(+ta(Fb)>>qa),nc=Ca+(+U(Fb)>>qa);0<=Xb&&Xb<Ga&&0<=nc&&nc<pa&&(Ha[Xb+nc*Ga]+=+W(Fb))});0<Ra&&0<db?(M(Ga,pa,Ha,Ua,Ra),F(Ga,pa,Ua,Ha,
db),M(Ga,pa,Ha,Ua,Ra),F(Ga,pa,Ua,Ha,db),M(Ga,pa,Ha,Ua,Ra),F(Ga,pa,Ua,Ha,db)):0<Ra?(M(Ga,pa,Ha,Ua,Ra),M(Ga,pa,Ua,Ha,Ra),M(Ga,pa,Ha,Ua,Ra),jb=Ua):0<db&&(F(Ga,pa,Ha,Ua,db),F(Ga,pa,Ua,Ha,db),F(Ga,pa,Ha,Ua,db),jb=Ua);Fa=na?Math.pow(2,-2*qa):1/H.sum(jb);for(let Fb=0,Xb=Ga*pa;Fb<Xb;++Fb)jb[Fb]*=Fa;return{values:jb,scale:1<<qa,width:Ga,height:pa,x1:$a,y1:Ca,x2:$a+(ca>>qa),y2:Ca+(ra>>qa)}}var ta=Fa=>Fa[0],U=Fa=>Fa[1],W=w.one,ba=[-1,-1],ca=960,ra=500,qa=2;Da.x=function(Fa){return arguments.length?(ta=D(Fa),
Da):ta};Da.y=function(Fa){return arguments.length?(U=D(Fa),Da):U};Da.weight=function(Fa){return arguments.length?(W=D(Fa),Da):W};Da.size=function(Fa){if(!arguments.length)return[ca,ra];var na=+Fa[0],Ra=+Fa[1];0<=na&&0<=Ra||w.error("invalid size");return ca=na,ra=Ra,Da};Da.cellSize=function(Fa){if(!arguments.length)return 1<<qa;1<=(Fa=+Fa)||w.error("invalid cell size");qa=Math.floor(Math.log(Fa)/Math.LN2);return Da};Da.bandwidth=function(Fa){if(!arguments.length)return ba;Fa=w.array(Fa);1===Fa.length&&
(Fa=[+Fa[0],+Fa[0]]);2!==Fa.length&&w.error("invalid bandwidth");return ba=Fa,Da};return Da}function M(Da,ta,U,W,ba){const ca=(ba<<1)+1;for(let ra=0;ra<ta;++ra)for(let qa=0,Fa=0;qa<Da+ba;++qa)qa<Da&&(Fa+=U[qa+ra*Da]),qa>=ba&&(qa>=ca&&(Fa-=U[qa-ca+ra*Da]),W[qa-ba+ra*Da]=Fa/Math.min(qa+1,Da-1+ca-qa,ca))}function F(Da,ta,U,W,ba){const ca=(ba<<1)+1;for(let ra=0;ra<Da;++ra)for(let qa=0,Fa=0;qa<ta+ba;++qa)qa<ta&&(Fa+=U[ra+qa*Da]),qa>=ba&&(qa>=ca&&(Fa-=U[ra+(qa-ca)*Da]),W[ra+(qa-ba)*Da]=Fa/Math.min(qa+1,
ta-1+ca-qa,ca))}function z(Da){l.Transform.call(this,null,Da)}function G(Da,ta){Ya.forEach(U=>null!=ta[U]?Da[U](ta[U]):0);return Da}function K(Da,ta){var U=[],W=Ra=>Ra(qa),ba;if(null==ta)U.push(Da);else{var ca={};var ra=0;for(ba=Da.length;ra<ba;++ra){var qa=Da[ra];var Fa=ta.map(W);var na=ca[Fa];na||(ca[Fa]=na=[],na.dims=Fa,U.push(na));na.push(qa)}}return U}function R(Da){l.Transform.call(this,null,Da)}function T(Da){l.Transform.call(this,null,Da)}function ja(Da){l.Transform.call(this,null,Da)}function fa(Da,
ta){const U=Da.pointRadius();Da.context(null);null!=ta&&Da.pointRadius(ta);return U}function ha(Da){l.Transform.call(this,null,Da)}function la(Da){l.Transform.call(this,null,Da)}function Z(Da,ta,U){const W=null==U?ba=>Da(ta(ba)):ba=>{var ca=Da.pointRadius();ba=Da.pointRadius(U)(ta(ba));Da.pointRadius(ca);return ba};W.context=ba=>{Da.context(ba);return W};return W}function P(Da){l.Transform.call(this,[],Da);this.generator=v.geoGraticule()}function C(Da){l.Transform.call(this,null,Da)}function V(Da,
ta){let U;w.isFunction(Da)?(U=W=>u.rgb(Da(W,ta)),U.dep=aa(Da)):U=w.constant(u.rgb(Da||"#888"));return U}function ia(Da,ta){let U;w.isFunction(Da)?(U=W=>Da(W,ta),U.dep=aa(Da)):Da?U=w.constant(Da):(U=W=>W.$value/W.$max||0,U.dep=!0);return U}function aa(Da){if(!w.isFunction(Da))return!1;Da=w.toSet(w.accessorFields(Da));return Da.$x||Da.$y||Da.$value||Da.$max}function ya(Da,ta,U,W){const ba=Da.width;var ca=Da.height;const ra=Da.x1||0,qa=Da.y1||0,Fa=Da.x2||ba;ca=Da.y2||ca;const na=Da.values;Da=na?Ga=>
na[Ga]:w.zero;const Ra=m.canvas(Fa-ra,ca-qa),db=Ra.getContext("2d"),$a=db.getImageData(0,0,Fa-ra,ca-qa),Ca=$a.data;for(let Ga=qa,pa=0;Ga<ca;++Ga){ta.$y=Ga-qa;for(let Ha=ra,Ua=Ga*ba;Ha<Fa;++Ha,pa+=4){ta.$x=Ha-ra;ta.$value=Da(Ha+Ua);const jb=U(ta);Ca[pa+0]=jb.r;Ca[pa+1]=jb.g;Ca[pa+2]=jb.b;Ca[pa+3]=~~(255*W(ta))}}db.putImageData($a,0,0);return Ra}function va(Da){l.Transform.call(this,null,Da);this.modified(!0)}function Ia(Da,ta){const U=kb(ta.fit);ta.extent?Da.fitExtent(ta.extent,U):ta.size?Da.fitSize(ta.size,
U):0}function bb(Da){const ta=x.projection((Da||"mercator").toLowerCase());ta||w.error("Unrecognized projection type: "+Da);return ta()}function kb(Da){Da=w.array(Da);return 1===Da.length?Da[0]:{type:"FeatureCollection",features:Da.reduce((ta,U)=>ta.concat(ua(U)),[])}}function ua(Da){return"FeatureCollection"===Da.type?Da.features:w.array(Da).filter(ta=>null!=ta).map(ta=>"Feature"===ta.type?ta:{type:"Feature",geometry:ta})}const Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,
.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};w.inherits(a,l.Transform,{transform(Da,ta){if(this.value&&!ta.changed()&&!Da.modified())return ta.StopPropagation;var U=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS);ta=ta.materialize(ta.SOURCE).source;var W=Da.field||w.identity,ba=d().smooth(!1!==Da.smooth),
ca=Da.thresholds||e(ta,W,Da),ra=null===Da.as?null:Da.as||"contour",qa=[];ta.forEach(Fa=>{const na=W(Fa),Ra=ba.size([na.width,na.height])(na.values,w.isArray(ca)?ca:ca(na.values));n(Ra,na,Fa,Da);Ra.forEach(db=>{qa.push(l.rederive(Fa,l.ingest(null!=ra?{[ra]:db}:db)))})});this.value&&(U.rem=this.value);this.value=U.source=U.add=qa;return U}});z.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",
type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ya="x y weight size cellSize bandwidth".split(" ");w.inherits(z,l.Transform,{transform(Da,ta){function U(Fa,na){for(let Ra=0;Ra<ba.length;++Ra)Fa[ba[Ra]]=na[Ra];return Fa}if(this.value&&!ta.changed()&&!Da.modified())return ta.StopPropagation;
var W=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS);ta=ta.materialize(ta.SOURCE).source;ta=K(ta,Da.groupby);var ba=(Da.groupby||[]).map(w.accessorName),ca=G(O(),Da),ra=Da.as||"grid",qa=[];qa=ta.map(Fa=>l.ingest(U({[ra]:ca(Fa,Da.counts)},Fa.dims)));this.value&&(W.rem=this.value);this.value=W.source=W.add=qa;return W}});R.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",
type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};w.inherits(R,l.Transform,{transform(Da,ta){if(this.value&&!ta.changed()&&!Da.modified())return ta.StopPropagation;var U=ta.fork(ta.NO_SOURCE|ta.NO_FIELDS),W=d().smooth(!1!==Da.smooth),ba=Da.values,ca=Da.thresholds||f(Da.count||10,Da.nice,
!!ba),ra=Da.size;if(!ba){ba=ta.materialize(ta.SOURCE).source;Da=G(O(),Da)(ba,!0);var qa=y(Da,Da.scale||1,Da.scale||1,0,0);ra=[Da.width,Da.height];ba=Da.values}ca=w.isArray(ca)?ca:ca(ba);ba=W.size(ra)(ba,ca);qa&&ba.forEach(qa);this.value&&(U.rem=this.value);this.value=U.source=U.add=(ba||[]).map(l.ingest);return U}});T.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};w.inherits(T,l.Transform,{transform(Da,ta){var U=this._features,
W=this._points,ba=Da.fields,ca=ba&&ba[0],ra=ba&&ba[1],qa=Da.geojson||!ba&&w.identity;ba=ta.ADD;Da=Da.modified()||ta.changed(ta.REM)||ta.modified(w.accessorFields(qa))||ca&&ta.modified(w.accessorFields(ca))||ra&&ta.modified(w.accessorFields(ra));if(!this.value||Da)ba=ta.SOURCE,this._features=U=[],this._points=W=[];qa&&ta.visit(ba,Fa=>U.push(qa(Fa)));ca&&ra&&(ta.visit(ba,Fa=>{var na=ca(Fa);Fa=ra(Fa);null!=na&&null!=Fa&&(na=+na)===na&&(Fa=+Fa)===Fa&&W.push([na,Fa])}),U=U.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:W}}));this.value={type:"FeatureCollection",features:U}}});ja.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};w.inherits(ja,l.Transform,{transform(Da,ta){var U=ta.fork(ta.ALL),W=this.value,ba=Da.field||w.identity,ca=Da.as||"path",ra=U.SOURCE;!W||Da.modified()?(this.value=W=x.getProjectionPath(Da.projection),U.materialize().reflow()):
ra=ba===w.identity||ta.modified(ba.fields)?U.ADD_MOD:U.ADD;Da=fa(W,Da.pointRadius);U.visit(ra,qa=>qa[ca]=W(ba(qa)));W.pointRadius(Da);return U.modifies(ca)}});ha.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};w.inherits(ha,l.Transform,{transform(Da,ta){function U(na){const Ra=W([ba(na),ca(na)]);Ra?(na[qa]=Ra[0],na[Fa]=
Ra[1]):(na[qa]=void 0,na[Fa]=void 0)}var W=Da.projection,ba=Da.fields[0],ca=Da.fields[1],ra=Da.as||["x","y"],qa=ra[0],Fa=ra[1];Da.modified()?ta=ta.materialize().reflow(!0).visit(ta.SOURCE,U):(Da=ta.modified(ba.fields)||ta.modified(ca.fields),ta.visit(Da?ta.ADD_MOD:ta.ADD,U));return ta.modifies(ra)}});la.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",
type:"string","default":"shape"}]};w.inherits(la,l.Transform,{transform(Da,ta){ta=ta.fork(ta.ALL);var U=this.value,W=Da.as||"shape",ba=ta.ADD;if(!U||Da.modified())this.value=U=Z(x.getProjectionPath(Da.projection),Da.field||w.field("datum"),Da.pointRadius),ta.materialize().reflow(),ba=ta.SOURCE;ta.visit(ba,ca=>ca[W]=U);return ta.modifies(W)}});P.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};w.inherits(P,l.Transform,{transform(Da,ta){var U=this.value,W=this.generator;if(!U.length||
Da.modified())for(const ba in Da)if(w.isFunction(W[ba]))W[ba](Da[ba]);Da=W();U.length?ta.mod.push(l.replace(U[0],Da)):ta.add.push(l.ingest(Da));U[0]=Da;return ta}});C.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};w.inherits(C,l.Transform,{transform(Da,ta){if(!ta.changed()&&
!Da.modified())return ta.StopPropagation;var U=ta.materialize(ta.SOURCE).source,W="shared"===Da.resolve,ba=Da.field||w.identity,ca=ia(Da.opacity,Da),ra=V(Da.color,Da),qa=Da.as||"image",Fa={$x:0,$y:0,$value:0,$max:W?H.max(U.map(na=>H.max(ba(na).values))):0};U.forEach(na=>{const Ra=ba(na),db=w.extend({},na,Fa);W||(db.$max=H.max(Ra.values||[]));na[qa]=ya(Ra,db,ra.dep?ra:w.constant(ra(db)),ca.dep?ca:w.constant(ca(db)))});return ta.reflow(!0).modifies(qa)}});w.inherits(va,l.Transform,{transform(Da,ta){let U=
this.value;!U||Da.modified("type")?(this.value=U=bb(Da.type),x.projectionProperties.forEach(W=>{if(null!=Da[W]){var ba=U,ca=Da[W];if(w.isFunction(ba[W]))ba[W](ca)}})):x.projectionProperties.forEach(W=>{if(Da.modified(W)){var ba=U,ca=Da[W];if(w.isFunction(ba[W]))ba[W](ca)}});null!=Da.pointRadius&&U.path.pointRadius(Da.pointRadius);Da.fit&&Ia(U,Da);return ta.fork(ta.NO_SOURCE|ta.NO_FIELDS)}});k.contour=R;k.geojson=T;k.geopath=ja;k.geopoint=ha;k.geoshape=la;k.graticule=P;k.heatmap=C;k.isocontour=a;k.kde2d=
z;k.projection=va;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(g,d,f,a){if(isNaN(d)||isNaN(f))return g;var e,n=g._root;a={data:a};var y=g._x0,B=g._y0,D=g._x1,O=g._y1,M,F,z,G;if(!n)return g._root=a,g;for(;n.length;)if((z=d>=(M=(y+D)/2))?y=M:D=M,(G=f>=(F=(B+O)/2))?B=F:O=F,e=n,!(n=n[z|=G<<1]))return e[z]=a,g;var K=+g._x.call(null,n.data);var R=
+g._y.call(null,n.data);if(d===K&&f===R)return a.next=n,e?e[z]=a:g._root=a,g;do e=e?e[z]=Array(4):g._root=Array(4),(z=d>=(M=(y+D)/2))?y=M:D=M,(G=f>=(F=(B+O)/2))?B=F:O=F;while((z|=G<<1)===(G=(R>=F)<<1|K>=M));return e[G]=n,e[z]=a,g}function w(g,d,f,a,e){this.node=g;this.x0=d;this.y0=f;this.x1=a;this.y1=e}function H(g){return g[0]}function N(g){return g[1]}function x(g,d,f){d=new v(null==d?H:d,null==f?N:f,NaN,NaN,NaN,NaN);return null==g?d:d.addAll(g)}function v(g,d,f,a,e,n){this._x=g;this._y=d;this._x0=
f;this._y0=a;this._x1=e;this._y1=n;this._root=void 0}function u(g){for(var d={data:g.data},f=d;g=g.next;)f=f.next={data:g.data};return d}var m=x.prototype=v.prototype;m.copy=function(){var g=new v(this._x,this._y,this._x0,this._y0,this._x1,this._y1),d=this._root,f,a;if(!d)return g;if(!d.length)return g._root=u(d),g;for(f=[{source:d,target:g._root=Array(4)}];d=f.pop();)for(var e=0;4>e;++e)if(a=d.source[e])a.length?f.push({source:a,target:d.target[e]=Array(4)}):d.target[e]=u(a);return g};m.add=function(g){const d=
+this._x.call(null,g),f=+this._y.call(null,g);return l(this.cover(d,f),d,f,g)};m.addAll=function(g){var d,f,a=g.length,e,n,y=Array(a),B=Array(a),D=Infinity,O=Infinity,M=-Infinity,F=-Infinity;for(f=0;f<a;++f)isNaN(e=+this._x.call(null,d=g[f]))||isNaN(n=+this._y.call(null,d))||(y[f]=e,B[f]=n,e<D&&(D=e),e>M&&(M=e),n<O&&(O=n),n>F&&(F=n));if(D>M||O>F)return this;this.cover(D,O).cover(M,F);for(f=0;f<a;++f)l(this,y[f],B[f],g[f]);return this};m.cover=function(g,d){if(isNaN(g=+g)||isNaN(d=+d))return this;
var f=this._x0,a=this._y0,e=this._x1,n=this._y1;if(isNaN(f))e=(f=Math.floor(g))+1,n=(a=Math.floor(d))+1;else{for(var y=e-f||1,B=this._root,D,O;f>g||g>=e||a>d||d>=n;)switch(O=(d<a)<<1|g<f,D=Array(4),D[O]=B,B=D,y*=2,O){case 0:e=f+y;n=a+y;break;case 1:f=e-y;n=a+y;break;case 2:e=f+y;a=n-y;break;case 3:f=e-y,a=n-y}this._root&&this._root.length&&(this._root=B)}this._x0=f;this._y0=a;this._x1=e;this._y1=n;return this};m.data=function(){var g=[];this.visit(function(d){if(!d.length){do g.push(d.data);while(d=
d.next)}});return g};m.extent=function(g){return arguments.length?this.cover(+g[0][0],+g[0][1]).cover(+g[1][0],+g[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};m.find=function(g,d,f){var a=this._x0,e=this._y0,n,y,B,D,O=this._x1,M=this._y1,F=[],z=this._root,G;z&&F.push(new w(z,a,e,O,M));null==f?f=Infinity:(a=g-f,e=d-f,O=g+f,M=d+f,f*=f);for(;G=F.pop();)if(!(!(z=G.node)||(n=G.x0)>O||(y=G.y0)>M||(B=G.x1)<a||(D=G.y1)<e))if(z.length){G=(n+B)/2;var K=(y+D)/2;F.push(new w(z[3],
G,K,B,D),new w(z[2],n,K,G,D),new w(z[1],G,y,B,K),new w(z[0],n,y,G,K));if(z=(d>=K)<<1|g>=G)G=F[F.length-1],F[F.length-1]=F[F.length-1-z],F[F.length-1-z]=G}else if(G=g-+this._x.call(null,z.data),K=d-+this._y.call(null,z.data),G=G*G+K*K,G<f){var R=Math.sqrt(f=G);a=g-R;e=d-R;O=g+R;M=d+R;R=z.data}return R};m.remove=function(g){if(isNaN(D=+this._x.call(null,g))||isNaN(O=+this._y.call(null,g)))return this;var d,f=this._root,a,e=this._x0,n=this._y0,y=this._x1,B=this._y1,D,O,M,F,z,G;if(!f)return this;if(f.length)for(;;){(z=
D>=(M=(e+y)/2))?e=M:y=M;(G=O>=(F=(n+B)/2))?n=F:B=F;if(!(d=f,f=f[z|=G<<1]))return this;if(!f.length)break;if(d[z+1&3]||d[z+2&3]||d[z+3&3]){var K=d;var R=z}}for(;f.data!==g;)if(!(a=f,f=f.next))return this;(g=f.next)&&delete f.next;if(a)return g?a.next=g:delete a.next,this;if(!d)return this._root=g,this;g?d[z]=g:delete d[z];(f=d[0]||d[1]||d[2]||d[3])&&f===(d[3]||d[2]||d[1]||d[0])&&!f.length&&(K?K[R]=f:this._root=f);return this};m.removeAll=function(g){for(var d=0,f=g.length;d<f;++d)this.remove(g[d]);
return this};m.root=function(){return this._root};m.size=function(){var g=0;this.visit(function(d){if(!d.length){do++g;while(d=d.next)}});return g};m.visit=function(g){var d=[],f,a=this._root,e,n,y,B;for(a&&d.push(new w(a,this._x0,this._y0,this._x1,this._y1));f=d.pop();)if(!g(a=f.node,n=f.x0,y=f.y0,B=f.x1,f=f.y1)&&a.length){var D=(n+B)/2,O=(y+f)/2;(e=a[3])&&d.push(new w(e,D,O,B,f));(e=a[2])&&d.push(new w(e,n,O,D,f));(e=a[1])&&d.push(new w(e,D,y,B,O));(e=a[0])&&d.push(new w(e,n,y,D,O))}return this};
m.visitAfter=function(g){var d=[],f=[],a;for(this._root&&d.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));a=d.pop();){var e=a.node;if(e.length){var n,y=a.x0,B=a.y0,D=a.x1,O=a.y1,M=(y+D)/2,F=(B+O)/2;(n=e[0])&&d.push(new w(n,y,B,M,F));(n=e[1])&&d.push(new w(n,M,B,D,F));(n=e[2])&&d.push(new w(n,y,F,M,O));(n=e[3])&&d.push(new w(n,M,F,D,O))}f.push(a)}for(;a=f.pop();)g(a.node,a.x0,a.y0,a.x1,a.y1);return this};m.x=function(g){return arguments.length?(this._x=g,this):this._x};m.y=function(g){return arguments.length?
(this._y=g,this):this._y};k.quadtree=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){for(var v=0,u=arguments.length,m={},g;v<u;++v){if(!(g=arguments[v]+"")||g in m||/[\s.]/.test(g))throw Error("illegal type: "+g);m[g]=[]}return new w(m)}function w(v){this._=v}function H(v,u){return v.trim().split(/^|\s+/).map(function(m){var g="",d=m.indexOf(".");0<=d&&(g=m.slice(d+
1),m=m.slice(0,d));if(m&&!u.hasOwnProperty(m))throw Error("unknown type: "+m);return{type:m,name:g}})}function N(v,u,m){for(var g=0,d=v.length;g<d;++g)if(v[g].name===u){v[g]=x;v=v.slice(0,g).concat(v.slice(g+1));break}null!=m&&v.push({name:u,value:m});return v}var x={value:()=>{}};w.prototype=l.prototype={constructor:w,on:function(v,u){var m=this._,g=H(v+"",m),d,f=-1,a=g.length;if(2>arguments.length)for(;++f<a;){var e;if(e=d=(v=g[f]).type){a:{e=m[d];for(var n=0,y=e.length;n<y;++n)if((d=e[n]).name===
v.name){d=d.value;break a}d=void 0}e=d}if(e)return d}else{if(null!=u&&"function"!==typeof u)throw Error("invalid callback: "+u);for(;++f<a;)if(d=(v=g[f]).type)m[d]=N(m[d],v.name,u);else if(null==u)for(d in m)m[d]=N(m[d],v.name,null);return this}},copy:function(){var v={},u=this._,m;for(m in u)v[m]=u[m].slice();return new w(v)},call:function(v,u){if(0<(d=arguments.length-2))for(var m=Array(d),g=0,d,f;g<d;++g)m[g]=arguments[g+2];if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);f=this._[v];
g=0;for(d=f.length;g<d;++g)f[g].value.apply(u,m)},apply:function(v,u,m){if(!this._.hasOwnProperty(v))throw Error("unknown type: "+v);v=this._[v];for(var g=0,d=v.length;g<d;++g)v[g].value.apply(u,m)}};k.dispatch=l;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(){return y||(O(w),y=D.now()+B)}function w(){y=0}function H(){this._call=this._time=this._next=null}function N(M,F,z){var G=new H;G.restart(M,F,z);return G}function x(){l();++g;for(var M=a,F;M;)0<=(F=y-M._time)&&M._call.call(null,F),M=M._next;--g}function v(){y=(n=D.now())+B;g=
d=0;try{x()}finally{g=0;for(var M,F=a,z,G=Infinity;F;)F._call?(G>F._time&&(G=F._time),M=F,F=F._next):(z=F._next,F._next=null,F=M?M._next=z:a=z);e=M;m(G);y=0}}function u(){var M=D.now(),F=M-n;1E3<F&&(B-=F,n=M)}function m(M){g||(d&&(d=clearTimeout(d)),24<M-y?(Infinity>M&&(d=setTimeout(v,M-D.now()-B)),f&&(f=clearInterval(f))):(f||(n=D.now(),f=setInterval(u,1E3)),g=1,O(v)))}var g=0,d=0,f=0,a,e,n=0,y=0,B=0,D="object"===typeof performance&&performance.now?performance:Date,O="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(M){setTimeout(M,17)};H.prototype=N.prototype={constructor:H,restart:function(M,F,z){if("function"!==typeof M)throw new TypeError("callback is not a function");z=(null==z?l():+z)+(null==F?0:+F);this._next||e===this||(e?e._next=this:a=this,e=this);this._call=M;this._time=z;m()},stop:function(){this._call&&(this._call=null,this._time=Infinity,m())}};k.interval=function(M,F,z){var G=new H,K=F;if(null==F)return G.restart(M,F,z),G;G._restart=G.restart;
G.restart=function(R,T,ja){T=+T;ja=null==ja?l():+ja;G._restart(function la(ha){ha+=K;G._restart(la,K+=T,ja);R(ha)},T,ja)};G.restart(M,F,z);return G};k.now=l;k.timeout=function(M,F,z){var G=new H;F=null==F?0:+F;G.restart(K=>{G.stop();M(K+F)},F,z);return G};k.timer=N;k.timerFlush=x;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(43),A(44),A(45)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],l):(k=k||self,l(k.d3=k.d3||{},k.d3,k.d3,k.d3))})(this,function(k,l,w,H){function N(e){return function(){return e}}function x(e){return e.x+e.vx}function v(e){return e.y+e.vy}function u(e){return e.index}function m(e,n){e=e.get(n);if(!e)throw Error("node not found: "+n);return e}function g(){let e=
1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function d(e){return e.x}function f(e){return e.y}var a=Math.PI*(3-Math.sqrt(5));k.forceCenter=function(e,n){function y(){var O,M=B.length,F=0,z=0;for(O=0;O<M;++O){var G=B[O];F+=G.x;z+=G.y}F=(F/M-e)*D;z=(z/M-n)*D;for(O=0;O<M;++O)G=B[O],G.x-=F,G.y-=z}var B,D=1;null==e&&(e=0);null==n&&(n=0);y.initialize=function(O){B=O};y.x=function(O){return arguments.length?(e=+O,y):e};y.y=function(O){return arguments.length?(n=+O,y):n};y.strength=function(O){return arguments.length?
(D=+O,y):D};return y};k.forceCollide=function(e){function n(){function G(C,V,ia,aa,ya){var va=C.data;C=C.r;var Ia=la+C;if(va)va.index>ja.index&&(V=fa-va.x-va.vx,ia=ha-va.y-va.vy,aa=V*V+ia*ia,aa<Ia*Ia&&(0===V&&(V=1E-6*(M()-.5),aa+=V*V),0===ia&&(ia=1E-6*(M()-.5),aa+=ia*ia),aa=(Ia-(aa=Math.sqrt(aa)))/aa*F,ja.vx+=(V*=aa)*(Ia=(C*=C)/(Z+C)),ja.vy+=(ia*=aa)*Ia,va.vx-=V*(Ia=1-Ia),va.vy-=ia*Ia));else return V>fa+Ia||aa<fa-Ia||ia>ha+Ia||ya<ha-Ia}for(var K,R=D.length,T,ja,fa,ha,la,Z,P=0;P<z;++P)for(T=l.quadtree(D,
x,v).visitAfter(y),K=0;K<R;++K)ja=D[K],la=O[ja.index],Z=la*la,fa=ja.x+ja.vx,ha=ja.y+ja.vy,T.visit(G)}function y(G){if(G.data)return G.r=O[G.data.index];for(var K=G.r=0;4>K;++K)G[K]&&G[K].r>G.r&&(G.r=G[K].r)}function B(){if(D){var G,K=D.length;O=Array(K);for(G=0;G<K;++G){var R=D[G];O[R.index]=+e(R,G,D)}}}var D,O,M,F=1,z=1;"function"!==typeof e&&(e=N(null==e?1:+e));n.initialize=function(G,K){D=G;M=K;B()};n.iterations=function(G){return arguments.length?(z=+G,n):z};n.strength=function(G){return arguments.length?
(F=+G,n):F};n.radius=function(G){return arguments.length?(e="function"===typeof G?G:N(+G),B(),n):e};return n};k.forceLink=function(e){function n(ha){for(var la=0,Z=e.length;la<fa;++la)for(var P=0,C,V,ia,aa,ya;P<Z;++P)C=e[P],V=C.source,C=C.target,ia=C.x+C.vx-V.x-V.vx||1E-6*(ja()-.5),aa=C.y+C.vy-V.y-V.vy||1E-6*(ja()-.5),ya=Math.sqrt(ia*ia+aa*aa),ya=(ya-G[P])/ya*ha*F[P],ia*=ya,aa*=ya,C.vx-=ia*(ya=T[P]),C.vy-=aa*ya,V.vx+=ia*(ya=1-ya),V.vy+=aa*ya}function y(){if(K){var ha=K.length,la=e.length,Z=new Map(K.map((C,
V)=>[O(C,V,K),C]));var P=0;for(R=Array(ha);P<la;++P)ha=e[P],ha.index=P,"object"!==typeof ha.source&&(ha.source=m(Z,ha.source)),"object"!==typeof ha.target&&(ha.target=m(Z,ha.target)),R[ha.source.index]=(R[ha.source.index]||0)+1,R[ha.target.index]=(R[ha.target.index]||0)+1;P=0;for(T=Array(la);P<la;++P)ha=e[P],T[P]=R[ha.source.index]/(R[ha.source.index]+R[ha.target.index]);F=Array(la);B();G=Array(la);D()}}function B(){if(K)for(var ha=0,la=e.length;ha<la;++ha)F[ha]=+M(e[ha],ha,e)}function D(){if(K)for(var ha=
0,la=e.length;ha<la;++ha)G[ha]=+z(e[ha],ha,e)}var O=u,M=function(ha){return 1/Math.min(R[ha.source.index],R[ha.target.index])},F,z=N(30),G,K,R,T,ja,fa=1;null==e&&(e=[]);n.initialize=function(ha,la){K=ha;ja=la;y()};n.links=function(ha){return arguments.length?(e=ha,y(),n):e};n.id=function(ha){return arguments.length?(O=ha,n):O};n.iterations=function(ha){return arguments.length?(fa=+ha,n):fa};n.strength=function(ha){return arguments.length?(M="function"===typeof ha?ha:N(+ha),B(),n):M};n.distance=function(ha){return arguments.length?
(z="function"===typeof ha?ha:N(+ha),D(),n):z};return n};k.forceManyBody=function(){function e(ja){var fa=D.length,ha=l.quadtree(D,d,f).visitAfter(y);F=ja;for(ja=0;ja<fa;++ja)O=D[ja],ha.visit(B)}function n(){if(D){var ja,fa=D.length;G=Array(fa);for(ja=0;ja<fa;++ja){var ha=D[ja];G[ha.index]=+z(ha,ja,D)}}}function y(ja){var fa=0,ha,la,Z=0,P,C,V;if(ja.length){for(P=C=V=0;4>V;++V)(ha=ja[V])&&(la=Math.abs(ha.value))&&(fa+=ha.value,Z+=la,P+=la*ha.x,C+=la*ha.y);ja.x=P/Z;ja.y=C/Z}else{ha=ja;ha.x=ha.data.x;
ha.y=ha.data.y;do fa+=G[ha.data.index];while(ha=ha.next)}ja.value=fa}function B(ja,fa,ha,la){if(!ja.value)return!0;ha=ja.x-O.x;var Z=ja.y-O.y;fa=la-fa;la=ha*ha+Z*Z;if(fa*fa/T<la)return la<R&&(0===ha&&(ha=1E-6*(M()-.5),la+=ha*ha),0===Z&&(Z=1E-6*(M()-.5),la+=Z*Z),la<K&&(la=Math.sqrt(K*la)),O.vx+=ha*ja.value*F/la,O.vy+=Z*ja.value*F/la),!0;if(!(ja.length||la>=R)){if(ja.data!==O||ja.next)0===ha&&(ha=1E-6*(M()-.5),la+=ha*ha),0===Z&&(Z=1E-6*(M()-.5),la+=Z*Z),la<K&&(la=Math.sqrt(K*la));do ja.data!==O&&(fa=
G[ja.data.index]*F/la,O.vx+=ha*fa,O.vy+=Z*fa);while(ja=ja.next)}}var D,O,M,F,z=N(-30),G,K=1,R=Infinity,T=.81;e.initialize=function(ja,fa){D=ja;M=fa;n()};e.strength=function(ja){return arguments.length?(z="function"===typeof ja?ja:N(+ja),n(),e):z};e.distanceMin=function(ja){return arguments.length?(K=ja*ja,e):Math.sqrt(K)};e.distanceMax=function(ja){return arguments.length?(R=ja*ja,e):Math.sqrt(R)};e.theta=function(ja){return arguments.length?(T=ja*ja,e):Math.sqrt(T)};return e};k.forceRadial=function(e,
n,y){function B(G){for(var K=0,R=O.length;K<R;++K){var T=O[K],ja=T.x-n||1E-6,fa=T.y-y||1E-6,ha=Math.sqrt(ja*ja+fa*fa);ha=(z[K]-ha)*F[K]*G/ha;T.vx+=ja*ha;T.vy+=fa*ha}}function D(){if(O){var G,K=O.length;F=Array(K);z=Array(K);for(G=0;G<K;++G)z[G]=+e(O[G],G,O),F[G]=isNaN(z[G])?0:+M(O[G],G,O)}}var O,M=N(.1),F,z;"function"!==typeof e&&(e=N(+e));null==n&&(n=0);null==y&&(y=0);B.initialize=function(G){O=G;D()};B.strength=function(G){return arguments.length?(M="function"===typeof G?G:N(+G),D(),B):M};B.radius=
function(G){return arguments.length?(e="function"===typeof G?G:N(+G),D(),B):e};B.x=function(G){return arguments.length?(n=+G,B):n};B.y=function(G){return arguments.length?(y=+G,B):y};return B};k.forceSimulation=function(e){function n(){y();ja.call("tick",O);M<F&&(T.stop(),ja.call("end",O))}function y(ha){var la,Z=e.length;void 0===ha&&(ha=1);for(var P=0;P<ha;++P)for(M+=(G-M)*z,R.forEach(function(V){V(M)}),la=0;la<Z;++la){var C=e[la];null==C.fx?C.x+=C.vx*=K:(C.x=C.fx,C.vx=0);null==C.fy?C.y+=C.vy*=
K:(C.y=C.fy,C.vy=0)}return O}function B(){for(var ha=0,la=e.length,Z;ha<la;++ha){Z=e[ha];Z.index=ha;null!=Z.fx&&(Z.x=Z.fx);null!=Z.fy&&(Z.y=Z.fy);if(isNaN(Z.x)||isNaN(Z.y)){var P=10*Math.sqrt(.5+ha),C=ha*a;Z.x=P*Math.cos(C);Z.y=P*Math.sin(C)}if(isNaN(Z.vx)||isNaN(Z.vy))Z.vx=Z.vy=0}}function D(ha){ha.initialize&&ha.initialize(e,fa);return ha}var O,M=1,F=.001,z=1-Math.pow(F,1/300),G=0,K=.6,R=new Map,T=H.timer(n),ja=w.dispatch("tick","end"),fa=g();null==e&&(e=[]);B();return O={tick:y,restart:function(){return T.restart(n),
O},stop:function(){return T.stop(),O},nodes:function(ha){return arguments.length?(e=ha,B(),R.forEach(D),O):e},alpha:function(ha){return arguments.length?(M=+ha,O):M},alphaMin:function(ha){return arguments.length?(F=+ha,O):F},alphaDecay:function(ha){return arguments.length?(z=+ha,O):+z},alphaTarget:function(ha){return arguments.length?(G=+ha,O):G},velocityDecay:function(ha){return arguments.length?(K=1-ha,O):1-K},randomSource:function(ha){return arguments.length?(fa=ha,R.forEach(D),O):fa},force:function(ha,
la){return 1<arguments.length?(null==la?R.delete(ha):R.set(ha,D(la)),O):R.get(ha)},find:function(ha,la,Z){var P,C=e.length;Z=null==Z?Infinity:Z*Z;for(P=0;P<C;++P){var V=e[P];var ia=ha-V.x;var aa=la-V.y;ia=ia*ia+aa*aa;if(ia<Z){var ya=V;Z=ia}}return ya},on:function(ha,la){return 1<arguments.length?(ja.on(ha,la),O):ja.on(ha)}}};k.forceX=function(e){function n(F){for(var z=0,G=D.length,K;z<G;++z)K=D[z],K.vx+=(M[z]-K.x)*O[z]*F}function y(){if(D){var F,z=D.length;O=Array(z);M=Array(z);for(F=0;F<z;++F)O[F]=
isNaN(M[F]=+e(D[F],F,D))?0:+B(D[F],F,D)}}var B=N(.1),D,O,M;"function"!==typeof e&&(e=N(null==e?0:+e));n.initialize=function(F){D=F;y()};n.strength=function(F){return arguments.length?(B="function"===typeof F?F:N(+F),y(),n):B};n.x=function(F){return arguments.length?(e="function"===typeof F?F:N(+F),y(),n):e};return n};k.forceY=function(e){function n(F){for(var z=0,G=D.length,K;z<G;++z)K=D[z],K.vy+=(M[z]-K.y)*O[z]*F}function y(){if(D){var F,z=D.length;O=Array(z);M=Array(z);for(F=0;F<z;++F)O[F]=isNaN(M[F]=
+e(D[F],F,D))?0:+B(D[F],F,D)}}var B=N(.1),D,O,M;"function"!==typeof e&&(e=N(null==e?0:+e));n.initialize=function(F){D=F;y()};n.strength=function(F){return arguments.length?(B="function"===typeof F?F:N(+F),y(),n):B};n.y=function(F){return arguments.length?(e="function"===typeof F?F:N(+F),y(),n):e};return n};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(46)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(e){l.Transform.call(this,null,e)}function x(e,n){return()=>e.touch(n).run()}function v(e,n){e=H.forceSimulation(e);const y=e.stop,
B=e.restart;let D=!1;e.stopped=()=>D;e.restart=()=>(D=!1,B());e.stop=()=>(D=!0,y());return u(e,n,!0).on("end",()=>D=!0)}function u(e,n,y,B){var D=w.array(n.forces),O;var M=0;for(O=d.length;M<O;++M){var F=d[M];if("forces"!==F&&n.modified(F))e[F](n[F])}M=0;for(O=D.length;M<O;++M){var z="forces"+M;if(y||n.modified("forces",M)){F=void 0;var G=D[M];w.hasOwnProperty(g,G.force)||w.error("Unrecognized force: "+G.force);var K=g[G.force]();for(F in G)w.isFunction(K[F])&&m(K[F],G[F],G);F=K}else{if(F=B)a:{K=
F=void 0;G=D[M];var R=B;for(K in G)if(w.isFunction(F=G[K])&&R.modified(w.accessorFields(F))){F=1;break a}F=0}F=F?e.force(z):null}F&&e.force(z,F)}for(O=e.numForces||0;M<O;++M)e.force("forces"+M,null);e.numForces=D.length;return e}function m(e,n,y){e(w.isFunction(n)?B=>n(B,y):n)}const g={center:H.forceCenter,collide:H.forceCollide,nbody:H.forceManyBody,link:H.forceLink,x:H.forceX,y:H.forceY},d=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],f=["static","iterations"],a=["x","y","vx","vy"];
N.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":a}]};w.inherits(N,l.Transform,{transform(e,n){var y=this.value,B=n.changed(n.ADD_REM),D=e.modified(d),O=e.iterations||300;y?(B&&(n.modifies("index"),
y.nodes(n.source)),(D||n.changed(n.MOD))&&u(y,e,0,n)):(this.value=y=v(n.source,e),y.on("tick",x(n.dataflow,this)),e.static||(B=!0,y.tick()),n.modifies("index"));if(D||B||e.modified(f)||n.changed()&&e.restart)if(y.alpha(Math.max(y.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(y.alphaMin(),1/O)),e.static)for(y.stop();0<=--O;)y.tick();else if(y.stopped()&&y.restart(),!B)return n.StopPropagation;return this.finish(e,n)},finish(e,n){const y=n.dataflow;for(let F=this._argops,z=0,G=F.length,K;z<G;++z)if(K=
F[z],"forces"===K.name&&"link"===K.op._argval.force)for(var B=K.op._argops,D=0,O=B.length,M;D<O;++D)if("links"===B[D].name&&(M=B[D].op.source)){y.pulse(M,y.changeset().reflow());break}return n.reflow(e.modified()).modifies(a)}});k.force=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(U,W){return U.parent===W.parent?1:2}function w(U,W){return U+W.x}function H(U,W){return Math.max(U,W.y)}function N(U){for(var W;W=U.children;)U=W[0];return U}function x(U){for(var W;W=U.children;)U=W[W.length-1];return U}function v(U){var W=0,ba=U.children,ca=ba&&ba.length;if(ca)for(;0<=
--ca;)W+=ba[ca].value;else W=1;U.value=W}function u(U,W){U instanceof Map?(U=[void 0,U],void 0===W&&(W=g)):void 0===W&&(W=m);U=new a(U);for(var ba,ca=[U],ra,qa,Fa,na;ba=ca.pop();)if((qa=W(ba.data))&&(na=(qa=Array.from(qa)).length))for(ba.children=qa,Fa=na-1;0<=Fa;--Fa)ca.push(ra=qa[Fa]=new a(qa[Fa])),ra.parent=ba,ra.depth=ba.depth+1;return U.eachBefore(f)}function m(U){return U.children}function g(U){return Array.isArray(U)?U[1]:null}function d(U){void 0!==U.data.value&&(U.value=U.data.value);U.data=
U.data.data}function f(U){var W=0;do U.height=W;while((U=U.parent)&&U.height<++W)}function a(U){this.data=U;this.depth=this.height=0;this.parent=null}function e(U){var W=0;U=Array.from(U);for(var ba=U.length,ca,ra;ba;)ra=Math.random()*ba--|0,ca=U[ba],U[ba]=U[ra],U[ra]=ca;ba=U.length;ca=[];for(var qa;W<ba;)if(ra=U[W],qa&&y(qa,ra))++W;else{a:if(W=ca,B(ra,W))W=[ra];else{for(ca=0;ca<W.length;++ca)if(n(ra,W[ca])&&B(D(W[ca],ra),W)){W=[W[ca],ra];break a}for(ca=0;ca<W.length-1;++ca)for(qa=ca+1;qa<W.length;++qa)if(n(D(W[ca],
W[qa]),ra)&&n(D(W[ca],ra),W[qa])&&n(D(W[qa],ra),W[ca])&&B(O(W[ca],W[qa],ra),W)){W=[W[ca],W[qa],ra];break a}throw Error();}a:{W=ca=W;switch(W.length){case 1:W=W[0];W={x:W.x,y:W.y,r:W.r};break a;case 2:W=D(W[0],W[1]);break a;case 3:W=O(W[0],W[1],W[2]);break a}W=void 0}qa=W;W=0}return qa}function n(U,W){var ba=U.r-W.r,ca=W.x-U.x;U=W.y-U.y;return 0>ba||ba*ba<ca*ca+U*U}function y(U,W){var ba=U.r-W.r+1E-9*Math.max(U.r,W.r,1),ca=W.x-U.x;U=W.y-U.y;return 0<ba&&ba*ba>ca*ca+U*U}function B(U,W){for(var ba=0;ba<
W.length;++ba)if(!y(U,W[ba]))return!1;return!0}function D(U,W){var ba=U.x,ca=U.y;U=U.r;var ra=W.x,qa=W.y;W=W.r;var Fa=ra-ba,na=qa-ca,Ra=W-U,db=Math.sqrt(Fa*Fa+na*na);return{x:(ba+ra+Fa/db*Ra)/2,y:(ca+qa+na/db*Ra)/2,r:(db+U+W)/2}}function O(U,W,ba){var ca=U.x,ra=U.y;U=U.r;var qa=W.x,Fa=W.y,na=W.r,Ra=ba.x,db=ba.y,$a=ba.r;ba=ca-qa;W=ca-Ra;var Ca=ra-Fa,Ga=ra-db,pa=na-U,Ha=$a-U,Ua=ca*ca+ra*ra-U*U;Fa=Ua-qa*qa-Fa*Fa+na*na;db=Ua-Ra*Ra-db*db+$a*$a;Ra=W*Ca-ba*Ga;qa=(Ca*db-Ga*Fa)/(2*Ra)-ca;Ca=(Ga*pa-Ca*Ha)/
Ra;Ga=(W*Fa-ba*db)/(2*Ra)-ra;ba=(ba*Ha-W*pa)/Ra;W=Ca*Ca+ba*ba-1;pa=2*(U+qa*Ca+Ga*ba);U=qa*qa+Ga*Ga-U*U;U=-(W?(pa+Math.sqrt(pa*pa-4*W*U))/(2*W):U/pa);return{x:ca+qa+Ca*U,y:ra+Ga+ba*U,r:U}}function M(U,W,ba){var ca=U.x-W.x,ra=U.y-W.y,qa=ca*ca+ra*ra;if(qa){var Fa=W.r+ba.r;Fa*=Fa;var na=U.r+ba.r;na*=na;if(Fa>na){var Ra=(qa+na-Fa)/(2*qa);Fa=Math.sqrt(Math.max(0,na/qa-Ra*Ra));ba.x=U.x-Ra*ca-Fa*ra;ba.y=U.y-Ra*ra+Fa*ca}else Ra=(qa+Fa-na)/(2*qa),Fa=Math.sqrt(Math.max(0,Fa/qa-Ra*Ra)),ba.x=W.x+Ra*ca-Fa*ra,ba.y=
W.y+Ra*ra+Fa*ca}else ba.x=W.x+ba.r,ba.y=W.y}function F(U,W){var ba=U.r+W.r-1E-6,ca=W.x-U.x;U=W.y-U.y;return 0<ba&&ba*ba>ca*ca+U*U}function z(U){var W=U._,ba=U.next._,ca=W.r+ba.r;U=(W.x*ba.r+ba.x*W.r)/ca;W=(W.y*ba.r+ba.y*W.r)/ca;return U*U+W*W}function G(U){this._=U;this.previous=this.next=null}function K(U){if(!(ba=(U="object"===typeof U&&"length"in U?U:Array.from(U)).length))return 0;var W,ba;var ca=U[0];ca.x=0;ca.y=0;if(!(1<ba))return ca.r;var ra=U[1];ca.x=-ra.r;ra.x=ca.r;ra.y=0;if(!(2<ba))return ca.r+
ra.r;M(ra,ca,W=U[2]);ca=new G(ca);ra=new G(ra);W=new G(W);ca.next=W.previous=ra;ra.next=ca.previous=W;W.next=ra.previous=ca;var qa=3;a:for(;qa<ba;++qa){M(ca._,ra._,W=U[qa]);W=new G(W);var Fa=ra.next;var na=ca.previous;var Ra=ra._.r;var db=ca._.r;do if(Ra<=db){if(F(Fa._,W._)){ra=Fa;ca.next=ra;ra.previous=ca;--qa;continue a}Ra+=Fa._.r;Fa=Fa.next}else{if(F(na._,W._)){ca=na;ca.next=ra;ra.previous=ca;--qa;continue a}db+=na._.r;na=na.previous}while(Fa!==na.next);W.previous=ca;W.next=ra;ca.next=ra.previous=
ra=W;for(Fa=z(ca);(W=W.next)!==ra;)(na=z(W))<Fa&&(ca=W,Fa=na);ra=ca.next}ca=[ra._];for(W=ra;(W=W.next)!==ra;)ca.push(W._);W=e(ca);for(qa=0;qa<ba;++qa)ca=U[qa],ca.x-=W.x,ca.y-=W.y;return W.r}function R(U){if("function"!==typeof U)throw Error();return U}function T(){return 0}function ja(U){return function(){return U}}function fa(U){return Math.sqrt(U.value)}function ha(U){return function(W){W.children||(W.r=Math.max(0,+U(W)||0))}}function la(U,W){return function(ba){if(ca=ba.children){var ca,ra,qa=
ca.length,Fa=U(ba)*W||0;if(Fa)for(ra=0;ra<qa;++ra)ca[ra].r+=Fa;var na=K(ca);if(Fa)for(ra=0;ra<qa;++ra)ca[ra].r-=Fa;ba.r=na+Fa}}}function Z(U){return function(W){var ba=W.parent;W.r*=U;ba&&(W.x=ba.x+U*W.x,W.y=ba.y+U*W.y)}}function P(U){U.x0=Math.round(U.x0);U.y0=Math.round(U.y0);U.x1=Math.round(U.x1);U.y1=Math.round(U.y1)}function C(U,W,ba,ca,ra){var qa=U.children,Fa=-1,na=qa.length;for(ca=U.value&&(ca-W)/U.value;++Fa<na;)U=qa[Fa],U.y0=ba,U.y1=ra,U.x0=W,U.x1=W+=U.value*ca}function V(U){return U.id}
function ia(U){return U.parentId}function aa(U,W){return U.parent===W.parent?1:2}function ya(U){var W=U.children;return W?W[0]:U.t}function va(U){var W=U.children;return W?W[W.length-1]:U.t}function Ia(U,W){this._=U;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=W}function bb(U){U=new Ia(U,0);for(var W,ba=[U],ca,ra,qa;W=ba.pop();)if(ra=W._.children)for(W.children=Array(ca=ra.length),qa=ca-1;0<=qa;--qa)ba.push(ca=W.children[qa]=new Ia(ra[qa],qa)),
ca.parent=W;(U.parent=new Ia(null,0)).children=[U];return U}function kb(U,W,ba,ca,ra){var qa=U.children,Fa=-1,na=qa.length;for(ra=U.value&&(ra-ba)/U.value;++Fa<na;)U=qa[Fa],U.x0=W,U.x1=ca,U.y0=ba,U.y1=ba+=U.value*ra}function ua(U,W,ba,ca,ra,qa){for(var Fa=[],na=W.children,Ra,db,$a=Ra=0,Ca=na.length,Ga,pa=W.value,Ha,Ua,jb,Fb,Xb,nc;Ra<Ca;){W=ra-ba;Ga=qa-ca;do Ha=na[$a++].value;while(!Ha&&$a<Ca);Ua=jb=Ha;nc=Math.max(Ga/W,W/Ga)/(pa*U);Fb=Ha*Ha*nc;for(Xb=Math.max(jb/Fb,Fb/Ua);$a<Ca;++$a){Ha+=db=na[$a].value;
db<Ua&&(Ua=db);db>jb&&(jb=db);Fb=Ha*Ha*nc;Fb=Math.max(jb/Fb,Fb/Ua);if(Fb>Xb){Ha-=db;break}Xb=Fb}Fa.push(Ra={value:Ha,dice:W<Ga,children:na.slice(Ra,$a)});Ra.dice?C(Ra,ba,ca,ra,pa?ca+=Ga*Ha/pa:qa):kb(Ra,ba,ca,pa?ba+=W*Ha/pa:ra,qa);pa-=Ha;Ra=$a}return Fa}a.prototype=u.prototype={constructor:a,count:function(){return this.eachAfter(v)},each:function(U,W){let ba=-1;for(const ca of this)U.call(W,ca,++ba,this);return this},eachAfter:function(U,W){for(var ba,ca=[this],ra=[],qa,Fa,na=-1;ba=ca.pop();)if(ra.push(ba),
ba=ba.children)for(qa=0,Fa=ba.length;qa<Fa;++qa)ca.push(ba[qa]);for(;ba=ra.pop();)U.call(W,ba,++na,this);return this},eachBefore:function(U,W){for(var ba,ca=[this],ra,qa=-1;ba=ca.pop();)if(U.call(W,ba,++qa,this),ba=ba.children)for(ra=ba.length-1;0<=ra;--ra)ca.push(ba[ra]);return this},find:function(U,W){let ba=-1;for(const ca of this)if(U.call(W,ca,++ba,this))return ca},sum:function(U){return this.eachAfter(function(W){for(var ba=+U(W.data)||0,ca=W.children,ra=ca&&ca.length;0<=--ra;)ba+=ca[ra].value;
W.value=ba})},sort:function(U){return this.eachBefore(function(W){W.children&&W.children.sort(U)})},path:function(U){var W=this;var ba=W;var ca=U;if(ba!==ca){var ra=ba.ancestors(),qa=ca.ancestors(),Fa=null;ba=ra.pop();for(ca=qa.pop();ba===ca;)Fa=ba,ba=ra.pop(),ca=qa.pop();ba=Fa}for(ca=[W];W!==ba;)W=W.parent,ca.push(W);for(W=ca.length;U!==ba;)ca.splice(W,0,U),U=U.parent;return ca},ancestors:function(){for(var U=this,W=[U];U=U.parent;)W.push(U);return W},descendants:function(){return Array.from(this)},
leaves:function(){var U=[];this.eachBefore(function(W){W.children||U.push(W)});return U},links:function(){var U=this,W=[];U.each(function(ba){ba!==U&&W.push({source:ba.parent,target:ba})});return W},copy:function(){return u(this).eachBefore(d)},[Symbol.iterator]:function*(){var U,W=[this],ba;do{var ca=W.reverse();for(W=[];U=ca.pop();)if(yield U,U=U.children){var ra=0;for(ba=U.length;ra<ba;++ra)W.push(U[ra])}}while(W.length)}};var Ta={depth:-1},Ya={};Ia.prototype=Object.create(a.prototype);var Da=
(1+Math.sqrt(5))/2,ta=function ba(W){function ca(ra,qa,Fa,na,Ra){ua(W,ra,qa,Fa,na,Ra)}ca.ratio=function(ra){return ba(1<(ra=+ra)?ra:1)};return ca}(Da);Da=function ca(ba){function ra(qa,Fa,na,Ra,db){if(($a=qa._squarify)&&$a.ratio===ba)for(var $a,Ca,Ga,pa=-1,Ha,Ua=$a.length,jb=qa.value;++pa<Ua;){qa=$a[pa];Ca=qa.children;Ga=qa.value=0;for(Ha=Ca.length;Ga<Ha;++Ga)qa.value+=Ca[Ga].value;qa.dice?C(qa,Fa,na,Ra,jb?na+=(db-na)*qa.value/jb:db):kb(qa,Fa,na,jb?Fa+=(Ra-Fa)*qa.value/jb:Ra,db);jb-=qa.value}else qa._squarify=
$a=ua(ba,qa,Fa,na,Ra,db),$a.ratio=ba}ra.ratio=function(qa){return ca(1<(qa=+qa)?qa:1)};return ra}(Da);k.cluster=function(){function ba(na){var Ra,db=0;na.eachAfter(function(Ha){var Ua=Ha.children;if(Ua){var jb=Ua.reduce(w,0)/Ua.length;Ha.x=jb;Ha.y=1+Ua.reduce(H,0)}else Ha.x=Ra?db+=ca(Ha,Ra):0,Ha.y=0,Ra=Ha});var $a=N(na),Ca=x(na),Ga=$a.x-ca($a,Ca)/2,pa=Ca.x+ca(Ca,$a)/2;return na.eachAfter(Fa?function(Ha){Ha.x=(Ha.x-na.x)*ra;Ha.y=(na.y-Ha.y)*qa}:function(Ha){Ha.x=(Ha.x-Ga)/(pa-Ga)*ra;Ha.y=(1-(na.y?
Ha.y/na.y:1))*qa})}var ca=l,ra=1,qa=1,Fa=!1;ba.separation=function(na){return arguments.length?(ca=na,ba):ca};ba.size=function(na){return arguments.length?(Fa=!1,ra=+na[0],qa=+na[1],ba):Fa?null:[ra,qa]};ba.nodeSize=function(na){return arguments.length?(Fa=!0,ra=+na[0],qa=+na[1],ba):Fa?[ra,qa]:null};return ba};k.hierarchy=u;k.pack=function(){function ba(na){na.x=ra/2;na.y=qa/2;ca?na.eachBefore(ha(ca)).eachAfter(la(Fa,.5)).eachBefore(Z(1)):na.eachBefore(ha(fa)).eachAfter(la(T,1)).eachAfter(la(Fa,na.r/
Math.min(ra,qa))).eachBefore(Z(Math.min(ra,qa)/(2*na.r)));return na}var ca=null,ra=1,qa=1,Fa=T;ba.radius=function(na){return arguments.length?(ca=null==na?null:R(na),ba):ca};ba.size=function(na){return arguments.length?(ra=+na[0],qa=+na[1],ba):[ra,qa]};ba.padding=function(na){return arguments.length?(Fa="function"===typeof na?na:ja(+na),ba):Fa};return ba};k.packEnclose=e;k.packSiblings=function(ba){K(ba);return ba};k.partition=function(){function ba(Ra){var db=Ra.height+1;Ra.x0=Ra.y0=Fa;Ra.x1=ra;
Ra.y1=qa/db;Ra.eachBefore(ca(qa,db));na&&Ra.eachBefore(P);return Ra}function ca(Ra,db){return function($a){$a.children&&C($a,$a.x0,Ra*($a.depth+1)/db,$a.x1,Ra*($a.depth+2)/db);var Ca=$a.x0,Ga=$a.y0,pa=$a.x1-Fa,Ha=$a.y1-Fa;pa<Ca&&(Ca=pa=(Ca+pa)/2);Ha<Ga&&(Ga=Ha=(Ga+Ha)/2);$a.x0=Ca;$a.y0=Ga;$a.x1=pa;$a.y1=Ha}}var ra=1,qa=1,Fa=0,na=!1;ba.round=function(Ra){return arguments.length?(na=!!Ra,ba):na};ba.size=function(Ra){return arguments.length?(ra=+Ra[0],qa=+Ra[1],ba):[ra,qa]};ba.padding=function(Ra){return arguments.length?
(Fa=+Ra,ba):Fa};return ba};k.stratify=function(){function ba(qa){var Fa=Array.from(qa),na=Fa.length,Ra,db,$a=new Map;for(Ra=0;Ra<na;++Ra){var Ca=Fa[Ra];var Ga=Fa[Ra]=new a(Ca);if(null!=(db=ca(Ca,Ra,qa))&&(db+="")){var pa=Ga.id=db;$a.set(pa,$a.has(pa)?Ya:Ga)}null!=(db=ra(Ca,Ra,qa))&&(db+="")&&(Ga.parent=db)}for(Ra=0;Ra<na;++Ra)if(Ga=Fa[Ra],db=Ga.parent){qa=$a.get(db);if(!qa)throw Error("missing: "+db);if(qa===Ya)throw Error("ambiguous: "+db);qa.children?qa.children.push(Ga):qa.children=[Ga];Ga.parent=
qa}else{if(Ha)throw Error("multiple roots");var Ha=Ga}if(!Ha)throw Error("no root");Ha.parent=Ta;Ha.eachBefore(function(Ua){Ua.depth=Ua.parent.depth+1;--na}).eachBefore(f);Ha.parent=null;if(0<na)throw Error("cycle");return Ha}var ca=V,ra=ia;ba.id=function(qa){return arguments.length?(ca=R(qa),ba):ca};ba.parentId=function(qa){return arguments.length?(ra=R(qa),ba):ra};return ba};k.tree=function(){function ba($a){var Ca=bb($a);Ca.eachAfter(ca);Ca.parent.m=-Ca.z;Ca.eachBefore(ra);if(db)$a.eachBefore(qa);
else{var Ga=$a,pa=$a,Ha=$a;$a.eachBefore(function(Xb){Xb.x<Ga.x&&(Ga=Xb);Xb.x>pa.x&&(pa=Xb);Xb.depth>Ha.depth&&(Ha=Xb)});Ca=Ga===pa?1:Fa(Ga,pa)/2;var Ua=Ca-Ga.x,jb=na/(pa.x+Ca+Ua),Fb=Ra/(Ha.depth||1);$a.eachBefore(function(Xb){Xb.x=(Xb.x+Ua)*jb;Xb.y=Xb.depth*Fb})}return $a}function ca($a){var Ca=$a.children,Ga=$a.parent.children,pa=$a.i?Ga[$a.i-1]:null;if(Ca){for(var Ha=0,Ua=0,jb=$a.children,Fb=jb.length,Xb;0<=--Fb;)Xb=jb[Fb],Xb.z+=Ha,Xb.m+=Ha,Ha+=Xb.s+(Ua+=Xb.c);Ca=(Ca[0].z+Ca[Ca.length-1].z)/2;
pa?($a.z=pa.z+Fa($a._,pa._),$a.m=$a.z-Ca):$a.z=Ca}else pa&&($a.z=pa.z+Fa($a._,pa._));Ca=$a.parent;Ga=$a.parent.A||Ga[0];if(pa){Ua=Ha=$a;jb=Ha.parent.children[0];Fb=Ha.m;Xb=Ua.m;for(var nc=pa.m,md=jb.m,pc;pa=va(pa),Ha=ya(Ha),pa&&Ha;){jb=ya(jb);Ua=va(Ua);Ua.a=$a;pc=pa.z+nc-Ha.z-Fb+Fa(pa._,Ha._);if(0<pc){var Hc=pa.a.parent===$a.parent?pa.a:Ga,mb=$a,hc=pc,jc=hc/(mb.i-Hc.i);mb.c-=jc;mb.s+=hc;Hc.c+=jc;mb.z+=hc;mb.m+=hc;Fb+=pc;Xb+=pc}nc+=pa.m;Fb+=Ha.m;md+=jb.m;Xb+=Ua.m}pa&&!va(Ua)&&(Ua.t=pa,Ua.m+=nc-Xb);
Ha&&!ya(jb)&&(jb.t=Ha,jb.m+=Fb-md,Ga=$a)}Ca.A=Ga}function ra($a){$a._.x=$a.z+$a.parent.m;$a.m+=$a.parent.m}function qa($a){$a.x*=na;$a.y=$a.depth*Ra}var Fa=aa,na=1,Ra=1,db=null;ba.separation=function($a){return arguments.length?(Fa=$a,ba):Fa};ba.size=function($a){return arguments.length?(db=!1,na=+$a[0],Ra=+$a[1],ba):db?null:[na,Ra]};ba.nodeSize=function($a){return arguments.length?(db=!0,na=+$a[0],Ra=+$a[1],ba):db?[na,Ra]:null};return ba};k.treemap=function(){function ba(Ha){Ha.x0=Ha.y0=0;Ha.x1=
Fa;Ha.y1=na;Ha.eachBefore(ca);Ra=[0];qa&&Ha.eachBefore(P);return Ha}function ca(Ha){var Ua=Ra[Ha.depth],jb=Ha.x0+Ua,Fb=Ha.y0+Ua,Xb=Ha.x1-Ua,nc=Ha.y1-Ua;Xb<jb&&(jb=Xb=(jb+Xb)/2);nc<Fb&&(Fb=nc=(Fb+nc)/2);Ha.x0=jb;Ha.y0=Fb;Ha.x1=Xb;Ha.y1=nc;Ha.children&&(Ua=Ra[Ha.depth+1]=db(Ha)/2,jb+=pa(Ha)-Ua,Fb+=$a(Ha)-Ua,Xb-=Ca(Ha)-Ua,nc-=Ga(Ha)-Ua,Xb<jb&&(jb=Xb=(jb+Xb)/2),nc<Fb&&(Fb=nc=(Fb+nc)/2),ra(Ha,jb,Fb,Xb,nc))}var ra=ta,qa=!1,Fa=1,na=1,Ra=[0],db=T,$a=T,Ca=T,Ga=T,pa=T;ba.round=function(Ha){return arguments.length?
(qa=!!Ha,ba):qa};ba.size=function(Ha){return arguments.length?(Fa=+Ha[0],na=+Ha[1],ba):[Fa,na]};ba.tile=function(Ha){return arguments.length?(ra=R(Ha),ba):ra};ba.padding=function(Ha){return arguments.length?ba.paddingInner(Ha).paddingOuter(Ha):ba.paddingInner()};ba.paddingInner=function(Ha){return arguments.length?(db="function"===typeof Ha?Ha:ja(+Ha),ba):db};ba.paddingOuter=function(Ha){return arguments.length?ba.paddingTop(Ha).paddingRight(Ha).paddingBottom(Ha).paddingLeft(Ha):ba.paddingTop()};
ba.paddingTop=function(Ha){return arguments.length?($a="function"===typeof Ha?Ha:ja(+Ha),ba):$a};ba.paddingRight=function(Ha){return arguments.length?(Ca="function"===typeof Ha?Ha:ja(+Ha),ba):Ca};ba.paddingBottom=function(Ha){return arguments.length?(Ga="function"===typeof Ha?Ha:ja(+Ha),ba):Ga};ba.paddingLeft=function(Ha){return arguments.length?(pa="function"===typeof Ha?Ha:ja(+Ha),ba):pa};return ba};k.treemapBinary=function(ba,ca,ra,qa,Fa){function na(pa,Ha,Ua,jb,Fb,Xb,nc){if(pa>=Ha-1)pa=Ra[pa],
pa.x0=jb,pa.y0=Fb,pa.x1=Xb,pa.y1=nc;else{for(var md=Ga[pa],pc=Ua/2+md,Hc=pa+1,mb=Ha-1;Hc<mb;){var hc=Hc+mb>>>1;Ga[hc]<pc?Hc=hc+1:mb=hc}pc-Ga[Hc-1]<Ga[Hc]-pc&&pa+1<Hc&&--Hc;md=Ga[Hc]-md;pc=Ua-md;Xb-jb>nc-Fb?(Ua=Ua?(jb*pc+Xb*md)/Ua:Xb,na(pa,Hc,md,jb,Fb,Ua,nc),na(Hc,Ha,pc,Ua,Fb,Xb,nc)):(Ua=Ua?(Fb*pc+nc*md)/Ua:nc,na(pa,Hc,md,jb,Fb,Xb,Ua),na(Hc,Ha,pc,jb,Ua,Xb,nc))}}var Ra=ba.children,db,$a=Ra.length,Ca,Ga=Array($a+1);for(Ga[0]=Ca=db=0;db<$a;++db)Ga[db+1]=Ca+=Ra[db].value;na(0,$a,ba.value,ca,ra,qa,Fa)};
k.treemapDice=C;k.treemapResquarify=Da;k.treemapSlice=kb;k.treemapSliceDice=function(ba,ca,ra,qa,Fa){(ba.depth&1?kb:C)(ba,ca,ra,qa,Fa)};k.treemapSquarify=ta;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(48)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(F,z,G){const K={};F.each(R=>{const T=R.data;G(T)&&(K[z(T)]=R)});F.lookup=K;return F}function x(F){l.Transform.call(this,null,F)}function v(){function F(R,
T){if(T>=G.length)return R;const ja=R.length,fa=G[T++],ha={},la={};let Z=-1,P,C,V;for(;++Z<ja;)P=fa(C=R[Z])+"",(V=ha[P])?V.push(C):ha[P]=[C];for(P in ha)la[P]=F(ha[P],T);return la}function z(R,T){if(++T>G.length)return R;const ja=[];for(const fa in R)ja.push({key:fa,values:z(R[fa],T)});return ja}const G=[],K={entries:R=>z(F(R,0),0),key:R=>(G.push(R),K)};return K}function u(F){l.Transform.call(this,null,F)}function m(F,z,G){for(let K,R=0,T=z.length;R<T;++R)if(K=z[R],K in G)F[K](G[K])}function g(F){u.call(this,
F)}function d(F){u.call(this,F)}function f(F){l.Transform.call(this,null,F)}function a(F){u.call(this,F)}function e(F){l.Transform.call(this,[],F)}function n(F){u.call(this,F)}x.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const y=F=>F.values;w.inherits(x,l.Transform,{transform(F,z){z.source||w.error("Nest transform requires an upstream data source.");var G=F.generate,K=F.modified(),R=z.clone(),T=this.value;
if(!T||K||z.changed())T&&T.each(ja=>{ja.children&&l.isTuple(ja.data)&&R.rem.push(ja.data)}),this.value=T=H.hierarchy({values:w.array(F.keys).reduce((ja,fa)=>{ja.key(fa);return ja},v()).entries(R.source)},y),G&&T.each(ja=>{ja.children&&(ja=l.ingest(ja.data),R.add.push(ja),R.source.push(ja))}),N(T,l.tupleid,l.tupleid);R.source.root=T;return R}});const B=(F,z)=>F.parent===z.parent?1:2;w.inherits(u,l.Transform,{transform(F,z){z.source&&z.source.root||w.error(this.constructor.name+" transform requires a backing tree data source.");
const G=this.layout(F.method),K=this.fields,R=z.source.root,T=F.as||K;F.field?R.sum(F.field):R.count();F.sort&&R.sort(l.stableCompare(F.sort,ja=>ja.data));m(G,this.params,F);G.separation&&G.separation(!1!==F.separation?B:w.one);try{this.value=G(R)}catch(ja){w.error(ja)}R.each(ja=>{{const fa=ja.data,ha=K.length-1;for(let la=0;la<ha;++la)fa[T[la]]=ja[K[la]];fa[T[ha]]=ja.children?ja.children.length:0}});return z.reflow(F.modified()).modifies(T).modifies("leaf")}});var D=["x","y","r","depth","children"];
g.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(g,u,{layout:H.pack,params:["radius","size","padding"],fields:D});D="x0 y0 x1 y1 depth children".split(" ");d.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(d,u,{layout:H.partition,params:["size","round","padding"],fields:D});f.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};w.inherits(f,l.Transform,{transform(F,
z){z.source||w.error("Stratify transform requires an upstream data source.");let G=this.value;const K=F.modified(),R=z.fork(z.ALL).materialize(z.SOURCE);z=!G||K||z.changed(z.ADD_REM)||z.modified(F.key.fields)||z.modified(F.parentKey.fields);R.source=R.source.slice();z&&(G=R.source.length?N(H.stratify().id(F.key).parentId(F.parentKey)(R.source),F.key,w.truthy):N(H.stratify()([{}]),F.key,F.key));R.source.root=this.value=G;return R}});const O={tidy:H.tree,cluster:H.cluster};D=["x","y","depth","children"];
a.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(a,u,{layout(F){F=F||"tidy";if(w.hasOwnProperty(O,F))return O[F]();w.error("Unrecognized Tree layout method: "+
F)},params:["size","nodeSize"],fields:D});e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};w.inherits(e,l.Transform,{transform(F,z){F=this.value;const G=z.source&&z.source.root,K=z.fork(z.NO_SOURCE),R={};G||w.error("TreeLinks transform requires a tree data source.");z.changed(z.ADD_REM)?(K.rem=F,z.visit(z.SOURCE,T=>R[l.tupleid(T)]=1),G.each(T=>{const ja=T.data;(T=T.parent&&T.parent.data)&&R[l.tupleid(ja)]&&R[l.tupleid(T)]&&K.add.push(l.ingest({source:T,target:ja}))}),
this.value=K.add):z.changed(z.MOD)&&(z.visit(z.MOD,T=>R[l.tupleid(T)]=1),F.forEach(T=>{(R[l.tupleid(T.source)]||R[l.tupleid(T.target)])&&K.mod.push(T)}));return K}});const M={binary:H.treemapBinary,dice:H.treemapDice,slice:H.treemapSlice,slicedice:H.treemapSliceDice,squarify:H.treemapSquarify,resquarify:H.treemapResquarify};D="x0 y0 x1 y1 depth children".split(" ");n.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",
type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",
type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,"default":D}]};w.inherits(n,u,{layout(){const F=H.treemap();F.ratio=z=>{const G=F.tile();G.ratio&&F.tile(G.ratio(z))};F.method=z=>{w.hasOwnProperty(M,z)?F.tile(M[z]):w.error("Unrecognized Treemap layout method: "+z)};return F},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:D});k.nest=x;k.pack=
g;k.partition=d;k.stratify=f;k.tree=a;k.treelinks=e;k.treemap=n;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(31),A(26),A(36),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N){function x(Z,P){const C=Z.bitmap();(P||[]).forEach(V=>C.set(Z(V.boundary[0]),Z(V.boundary[3])));return[C,
void 0]}function v(Z,P,C,V){const ia=Z.width,aa=Z.height,ya=C||V,va=l.canvas(ia,aa).getContext("2d");P.forEach(Da=>u(va,Da,ya));P=new Uint32Array(va.getImageData(0,0,ia,aa).data.buffer);C=Z.bitmap();const Ia=ya&&Z.bitmap();let bb,kb,ua,Ta,Ya;for(kb=0;kb<aa;++kb)for(bb=0;bb<ia;++bb)if(Ya=P[kb*ia+bb]&4278190080)ua=Z(bb),Ta=Z(kb),V||C.set(ua,Ta),ya&&Ya^268435456&&Ia.set(ua,Ta);return[C,Ia]}function u(Z,P,C){if(P.length){var V=P[0].mark.marktype;"group"===V?P.forEach(ia=>{ia.items.forEach(aa=>u(Z,aa.items,
C))}):H.Marks[V].draw(Z,{items:C?P.map(m):P})}}function m(Z){Z=w.rederive(Z,{});Z.stroke&&(Z.strokeOpacity=1);Z.fill&&(Z.fillOpacity=.0625,Z.stroke="#000",Z.strokeOpacity=1,Z.strokeWidth=2);return Z}function g(Z,P){const C=new Uint32Array(~~((Z*P+32)/32));return{array:C,get:(V,ia)=>{V=ia*Z+V;return C[V>>>5]&1<<(V&31)},set:(V,ia)=>{V=ia*Z+V;C[V>>>5]|=1<<(V&31)},clear:(V,ia)=>{V=ia*Z+V;C[V>>>5]&=~(1<<(V&31))},getRange:(V,ia,aa,ya)=>{let va,Ia,bb;for(;ya>=ia;--ya){var kb=ya*Z+V;va=ya*Z+aa;Ia=kb>>>5;
bb=va>>>5;if(Ia===bb){if(C[Ia]&F[kb&31]&z[(va&31)+1])return!0}else{if(C[Ia]&F[kb&31]||C[bb]&z[(va&31)+1])return!0;for(kb=Ia+1;kb<bb;++kb)if(C[kb])return!0}}return!1},setRange:(V,ia,aa,ya)=>{let va,Ia,bb;for(;ia<=ya;++ia){var kb=ia*Z+V;va=ia*Z+aa;Ia=kb>>>5;bb=va>>>5;if(Ia===bb)C[Ia]|=F[kb&31]&z[(va&31)+1];else for(C[Ia]|=F[kb&31],C[bb]|=z[(va&31)+1],kb=Ia+1;kb<bb;++kb)C[kb]|=4294967295}},clearRange:(V,ia,aa,ya)=>{let va,Ia,bb;for(;ia<=ya;++ia){var kb=ia*Z+V;va=ia*Z+aa;Ia=kb>>>5;bb=va>>>5;if(Ia===bb)C[Ia]&=
z[kb&31]|F[(va&31)+1];else for(C[Ia]&=z[kb&31],C[bb]&=F[(va&31)+1],kb=Ia+1;kb<bb;++kb)C[kb]&=0}},outOfBounds:(V,ia,aa,ya)=>0>V||0>ia||ya>=P||aa>=Z}}function d(Z,P,C){const V=Math.max(1,Math.sqrt(Z*P/1E6)),ia=~~((Z+2*C+V)/V),aa=~~((P+2*C+V)/V),ya=va=>~~((va+C)/V);ya.invert=va=>va*V-C;ya.bitmap=()=>g(ia,aa);ya.ratio=V;ya.padding=C;ya.width=Z;ya.height=P;return ya}function f(Z,P,C,V,ia,aa){C/=2;return 0>Z-C||Z+C>ia||0>P-(C=V/2)||P+C>aa}function a(Z,P,C,V,ia,aa,ya,va){ia=ia*aa/(2*V);V=Z(P-ia);P=Z(P+ia);
ia=Z(C-(aa/=2));Z=Z(C+aa);return ya.outOfBounds(V,ia,P,Z)||ya.getRange(V,ia,P,Z)||va&&va.getRange(V,ia,P,Z)}function e(Z,P,C,V){const ia=Z.width,aa=Z.height,ya=P[0],va=P[1],Ia=V.length;return function(bb){const kb=bb.boundary,ua=bb.datum.fontSize;if(0>kb[2]||0>kb[5]||kb[0]>ia||kb[3]>aa)return!1;let Ta=0,Ya,Da;let ta,U;let W;let ba;let ca,ra;for(let Hc=0;Hc<Ia;++Hc){Ya=(C[Hc]&3)-1;Da=(C[Hc]>>>2&3)-1;var qa=0===Ya&&0===Da||0>V[Hc];var Fa=Ya&&Da?Math.SQRT1_2:1;ta=0>V[Hc]?-1:1;U=kb[1+Ya]+V[Hc]*Ya*Fa;
ba=kb[4+Da]+ta*ua*Da/2+V[Hc]*Da*Fa;Fa=ba-ua/2;W=ba+ua/2;var na=Z(U);ca=Z(Fa);ra=Z(W);if(!Ta){var Ra=na;var db=ca;var $a=ra;var Ca=ya,Ga=va,pa=U,Ha=U,Ua=Fa,jb=W,Fb=kb,Xb=qa;if(!Ca.outOfBounds(Ra,db,na,$a)&&(Xb&&Ga?!Ga.getRange(Ra,db,na,$a)&&Fb[0]<=pa&&Ha<=Fb[2]&&Fb[3]<=Ua&&jb<=Fb[5]:!Ca.getRange(Ra,db,na,$a)))Ta=H.textMetrics.width(bb.datum,bb.datum.text);else continue}db=U+ta*Ta*Ya/2;U=db-Ta/2;Ra=db+Ta/2;na=Z(U);$a=Z(Ra);Ca=na;Ga=$a;pa=ca;Ha=ra;Ua=ya;jb=va;Fb=U;Xb=Ra;var nc=Fa,md=W,pc=kb;if(!Ua.outOfBounds(Ca,
pa,Ga,Ha)&&(qa&&jb?!jb.getRange(Ca,pa,Ga,Ha)&&pc[0]<=Fb&&Xb<=pc[2]&&pc[3]<=nc&&md<=pc[5]:!Ua.getRange(Ca,pa,Ga,Ha)))return bb.x=Ya?0>Ya*ta?Ra:U:db,bb.y=Da?0>Da*ta?W:Fa:ba,bb.align=R[Ya*ta+1],bb.baseline=T[Da*ta+1],ya.setRange(na,ca,$a,ra),!0}return!1}}function n(Z,P,C,V,ia,aa,ya,va,Ia,bb,kb){if(!Z.length)return Z;var ua=Math.max(V.length,ia.length);V=y(V,ua);ia=B(ia,ua);ua=D(Z[0].datum);const Ta="group"===ua&&Z[0].datum.items[Ia].marktype,Ya="area"===Ta,Da=O(ua,Ta,va,Ia);P=d(P[0],P[1],bb);bb=Ya&&
"naive"===kb;va=Z.map(W=>({datum:W,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:Da(W)}));if(!bb){C&&va.sort((W,ba)=>C(W.datum,ba.datum));var ta=!1;for(bb=0;bb<ia.length&&!ta;++bb)ta=5===ia[bb]||0>V[bb];ua&&(ya||Ya)&&(aa=[Z.map(W=>W.datum)].concat(aa));ta=aa.length?v(P,aa,ta,Ya):x(P,ya&&va)}const U=Ya?fa[kb](P,ta,ya,Ia):e(P,ta,ia,V);va.forEach(W=>W.opacity=+U(W));return va}function y(Z,P){const C=new Float64Array(P),V=Z.length;for(let ia=0;ia<V;++ia)C[ia]=Z[ia]||0;for(Z=V;Z<P;++Z)C[Z]=
C[V-1];return C}function B(Z,P){const C=new Int8Array(P),V=Z.length;for(let ia=0;ia<V;++ia)C[ia]|=ja[Z[ia]];for(Z=V;Z<P;++Z)C[Z]=C[V-1];return C}function D(Z){return Z&&Z.mark&&Z.mark.marktype}function O(Z,P,C,V){const ia=aa=>[aa.x,aa.x,aa.x,aa.y,aa.y,aa.y];return Z?"line"===Z||"area"===Z?aa=>ia(aa.datum):"line"===P?aa=>{aa=aa.datum.items[V].items;return ia(aa.length?aa["start"===C?0:aa.length-1]:{x:NaN,y:NaN})}:aa=>{aa=aa.datum.bounds;return[aa.x1,(aa.x1+aa.x2)/2,aa.x2,aa.y1,(aa.y1+aa.y2)/2,aa.y2]}:
ia}function M(Z){w.Transform.call(this,null,Z)}const F=new Uint32Array(33),z=new Uint32Array(33);z[0]=0;F[0]=~z[0];for(let Z=1;32>=Z;++Z)z[Z]=z[Z-1]<<1|1,F[Z]=~z[Z];const G=[-1,-1,1,1],K=[-1,1,-1,1],R=["right","center","left"],T=["bottom","middle","top"],ja={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},fa={naive:function(Z,P,C,V){const ia=Z.width,aa=Z.height;return function(ya){const va=ya.datum.datum.items[V].items,Ia=va.length,bb=ya.datum.fontSize,
kb=H.textMetrics.width(ya.datum,ya.datum.text);let ua=0;let Ta,Ya,Da,ta,U;for(let ba=0;ba<Ia;++ba){var W=va[ba].x;Ya=va[ba].y;Ta=void 0===va[ba].x2?W:va[ba].x2;Da=void 0===va[ba].y2?Ya:va[ba].y2;ta=(W+Ta)/2;U=(Ya+Da)/2;W=Math.abs(Ta-W+Da-Ya);W>=ua&&(ua=W,ya.x=ta,ya.y=U)}ta=kb/2;U=bb/2;W=ya.x-ta;Ta=ya.x+ta;Ya=ya.y-U;Da=ya.y+U;ya.align="center";0>W&&Ta<=ia?ya.align="left":0<=W&&ia<Ta&&(ya.align="right");ya.baseline="middle";0>Ya&&Da<=aa?ya.baseline="top":0<=Ya&&aa<Da&&(ya.baseline="bottom");return!0}},
"reduced-search":function(Z,P,C,V){function ia(bb,kb,ua,Ta,Ya){bb=Z.invert(bb);kb=Z.invert(kb);let Da=ua,ta=ya,U;if(!f(bb,kb,Ta,Ya,aa,ya)&&!a(Z,bb,kb,Ya,Ta,Da,va,Ia)&&!a(Z,bb,kb,Ya,Ta,Ya,va,null)){for(;1<=ta-Da;)U=(Da+ta)/2,a(Z,bb,kb,Ya,Ta,U,va,Ia)?ta=U:Da=U;if(Da>ua)return[bb,kb,Da,!0]}}const aa=Z.width,ya=Z.height,va=P[0],Ia=P[1];return function(bb){const kb=bb.datum.datum.items[V].items,ua=kb.length,Ta=bb.datum.fontSize,Ya=H.textMetrics.width(bb.datum,bb.datum.text);let Da=C?Ta:0,ta=!1,U=!1,W=
0;let ba;let ca;let ra,qa,Fa,na,Ra,db,$a,Ca;for(let Ua=0;Ua<ua;++Ua){var Ga=kb[Ua].x;var pa=kb[Ua].y;ba=void 0===kb[Ua].x2?Ga:kb[Ua].x2;ca=void 0===kb[Ua].y2?pa:kb[Ua].y2;if(Ga>ba){var Ha=Ga;Ga=ba;ba=Ha}pa>ca&&(Ha=pa,pa=ca,ca=Ha);qa=Z(Ga);na=Z(ba);Fa=~~((qa+na)/2);Ra=Z(pa);$a=Z(ca);db=~~((Ra+$a)/2);for(Ha=Fa;Ha>=qa;--Ha)for(ra=db;ra>=Ra;--ra)(Ca=ia(Ha,ra,Da,Ya,Ta))&&([bb.x,bb.y,Da,ta]=Ca);for(Ha=Fa;Ha<=na;++Ha)for(ra=db;ra<=$a;++ra)(Ca=ia(Ha,ra,Da,Ya,Ta))&&([bb.x,bb.y,Da,ta]=Ca);ta||C||(Ha=Math.abs(ba-
Ga+ca-pa),Ga=(Ga+ba)/2,pa=(pa+ca)/2,Ha>=W&&!f(Ga,pa,Ya,Ta,aa,ya)&&!a(Z,Ga,pa,Ta,Ya,Ta,va,null)&&(W=Ha,bb.x=Ga,bb.y=pa,U=!0))}return ta||U?(Ga=Ya/2,pa=Ta/2,va.setRange(Z(bb.x-Ga),Z(bb.y-pa),Z(bb.x+Ga),Z(bb.y+pa)),bb.align="center",bb.baseline="middle",!0):!1}},floodfill:function(Z,P,C,V){const ia=Z.width,aa=Z.height,ya=P[0],va=P[1],Ia=Z.bitmap();return function(bb){const kb=bb.datum.datum.items[V].items,ua=kb.length,Ta=bb.datum.fontSize,Ya=H.textMetrics.width(bb.datum,bb.datum.text),Da=[];let ta=C?
Ta:0,U=!1,W=!1,ba=0,ca,ra,qa,Fa,na,Ra;var db;for(let Ga=0;Ga<ua;++Ga){ca=kb[Ga].x;qa=kb[Ga].y;ra=void 0===kb[Ga].x2?ca:kb[Ga].x2;Fa=void 0===kb[Ga].y2?qa:kb[Ga].y2;for(Da.push([Z((ca+ra)/2),Z((qa+Fa)/2)]);Da.length;)if([$a,Ca]=Da.pop(),!(ya.get($a,Ca)||va.get($a,Ca)||Ia.get($a,Ca))){Ia.set($a,Ca);for(db=0;4>db;++db)na=$a+G[db],Ra=Ca+K[db],Ia.outOfBounds(na,Ra,na,Ra)||Da.push([na,Ra]);na=Z.invert($a);Ra=Z.invert(Ca);var $a=ta;var Ca=aa;if(!f(na,Ra,Ya,Ta,ia,aa)&&!a(Z,na,Ra,Ta,Ya,$a,ya,va)&&!a(Z,na,
Ra,Ta,Ya,Ta,ya,null)){for(;1<=Ca-$a;)db=($a+Ca)/2,a(Z,na,Ra,Ta,Ya,db,ya,va)?Ca=db:$a=db;$a>ta&&(bb.x=na,bb.y=Ra,ta=$a,U=!0)}}U||C||($a=Math.abs(ra-ca+Fa-qa),na=(ca+ra)/2,Ra=(qa+Fa)/2,$a>=ba&&!f(na,Ra,Ya,Ta,ia,aa)&&!a(Z,na,Ra,Ta,Ya,Ta,ya,null)&&(ba=$a,bb.x=na,bb.y=Ra,W=!0))}return U||W?(na=Ya/2,Ra=Ta/2,ya.setRange(Z(bb.x-na),Z(bb.y-Ra),Z(bb.x+na),Z(bb.y+Ra)),bb.align="center",bb.baseline="middle",!0):!1}}},ha=["x","y","opacity","align","baseline"],la="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
M.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:la},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:ha.length,default:ha}]};N.inherits(M,w.Transform,{transform(Z,P){function C(aa){aa=Z[aa];return N.isFunction(aa)&&P.modified(aa.fields)}const V=Z.modified();if(V||P.changed(P.ADD_REM)||C("sort")){Z.size&&2===Z.size.length||N.error("Size parameter should be specified as a [width, height] array.");var ia=Z.as||ha;n(P.materialize(P.SOURCE).source,Z.size,Z.sort,N.array(Z.offset||1),N.array(Z.anchor||la),Z.avoidMarks||[],!1===Z.avoidBaseMark?
!1:!0,Z.lineAnchor||"end",Z.markIndex||0,Z.padding||0,Z.method||"naive").forEach(aa=>{const ya=aa.datum;ya[ia[0]]=aa.x;ya[ia[1]]=aa.y;ya[ia[2]]=aa.opacity;ya[ia[3]]=aa.align;ya[ia[4]]=aa.baseline});return P.reflow(V).modifies(ia)}}});k.label=M;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(27),A(26),A(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,l,w,H){function N(m,g){var d=[],f=function(O){return O(y)},a;if(null==g)d.push(m);else{var e={};var n=0;for(a=m.length;n<a;++n){var y=m[n];var B=g.map(f);var D=e[B];
D||(e[B]=D=[],D.dims=B,d.push(D));D.push(y)}}return d}function x(m){w.Transform.call(this,null,m)}function v(m){w.Transform.call(this,null,m)}x.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};H.inherits(x,w.Transform,{transform(m,g){const d=g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||
m.modified()){g=g.materialize(g.SOURCE).source;g=N(g,m.groupby);const f=(m.groupby||[]).map(H.accessorName),a=f.length,e=m.as||[H.accessorName(m.x),H.accessorName(m.y)],n=[];g.forEach(y=>{l.regressionLoess(y,m.x,m.y,m.bandwidth||.3).forEach(B=>{const D={};for(let O=0;O<a;++O)D[f[O]]=y.dims[O];D[e[0]]=B[0];D[e[1]]=B[1];n.push(w.ingest(D))})});this.value&&(d.rem=this.value);this.value=d.add=d.source=n}return d}});const u={linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,
quad:l.regressionQuad,poly:l.regressionPoly};v.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(u)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};H.inherits(v,w.Transform,{transform(m,g){const d=
g.fork(g.NO_SOURCE|g.NO_FIELDS);if(!this.value||g.changed()||m.modified()){var f=g.materialize(g.SOURCE).source;f=N(f,m.groupby);const a=(m.groupby||[]).map(H.accessorName),e=m.method||"linear",n=m.order||3,y="poly"===e?n:"quad"===e?2:1,B=m.as||[H.accessorName(m.x),H.accessorName(m.y)],D=u[e],O=[];let M=m.extent;H.hasOwnProperty(u,e)||H.error("Invalid regression method: "+e);null!=M&&"log"===e&&0>=M[0]&&(g.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),M=null);f.forEach(F=>
{if(F.length<=y)g.dataflow.warn("Skipping regression with more parameters than data points.");else{var z=D(F,m.x,m.y,n);if(m.params)O.push(w.ingest({keys:F.dims,coef:z.coef,rSquared:z.rSquared}));else{var G=M||H.extent(F,m.x),K=R=>{const T={};for(let ja=0;ja<a.length;++ja)T[a[ja]]=F.dims[ja];T[B[0]]=R[0];T[B[1]]=R[1];O.push(w.ingest(T))};"linear"===e?G.forEach(R=>K([R,z.predict(R)])):l.sampleCurve(z.predict,G,25,200).forEach(K)}}});this.value&&(d.rem=this.value);this.value=d.add=d.source=O}return d}});
k.loess=x;k.regression=v;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[52]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k=k||self,l(k.d3=k.d3||{}))})(this,function(k){function l(K,R){K/=Math.abs(K)+Math.abs(R);return(0<R?3-K:1+K)/4}function w(K,R,T,ja){K-=T;R-=ja;return K*K+R*R}function H(K,R,T,ja,fa,ha){ja=(ja-R)*(fa-K);K=(T-K)*(ha-R);return Math.abs(ja-K)>=3.3306690738754716E-16*Math.abs(ja+K)?ja-K:0}function N(K,R,T,ja,fa,ha){return 0>(H(fa,ha,K,R,
T,ja)||H(K,R,T,ja,fa,ha)||H(T,ja,fa,ha,K,R))}function x(K,R,T,ja){if(20>=ja-T)for(var fa=T+1;fa<=ja;fa++){for(var ha=K[fa],la=R[ha],Z=fa-1;Z>=T&&R[K[Z]]>la;)K[Z+1]=K[Z--];K[Z+1]=ha}else{fa=T+1;ha=ja;v(K,T+ja>>1,fa);R[K[T]]>R[K[ja]]&&v(K,T,ja);R[K[fa]]>R[K[ja]]&&v(K,fa,ja);R[K[T]]>R[K[fa]]&&v(K,T,fa);la=K[fa];for(Z=R[la];;){do fa++;while(R[K[fa]]<Z);do ha--;while(R[K[ha]]>Z);if(ha<fa)break;v(K,fa,ha)}K[T+1]=K[ha];K[ha]=la;ja-fa+1>=ha-T?(x(K,R,fa,ja),x(K,R,T,ha-1)):(x(K,R,T,ha-1),x(K,R,fa,ja))}}function v(K,
R,T){const ja=K[R];K[R]=K[T];K[T]=ja}function u(K){return K[0]}function m(K){return K[1]}function g(K){return K[0]}function d(K){return K[1]}function f(K){const {triangles:R,coords:T}=K;for(K=0;K<R.length;K+=3){const ja=2*R[K],fa=2*R[K+1],ha=2*R[K+2];if(1E-10<(T[ha]-T[ja])*(T[fa+1]-T[ja+1])-(T[fa]-T[ja])*(T[ha+1]-T[ja+1]))return!1}return!0}function a(K,R,T){return[K+Math.sin(K+R)*T,R+Math.cos(K-R)*T]}function*e(K,R,T,ja){let fa=0;for(const ha of K)yield R.call(ja,ha,fa,K),yield T.call(ja,ha,fa,K),
++fa}const n=Math.pow(2,-52),y=new Uint32Array(512);class B{static from(K,R=u,T=m){const ja=K.length,fa=new Float64Array(2*ja);for(let ha=0;ha<ja;ha++){const la=K[ha];fa[2*ha]=R(la);fa[2*ha+1]=T(la)}return new B(fa)}constructor(K){const R=K.length>>1;if(0<R&&"number"!==typeof K[0])throw Error("Expected coords to contain numbers.");this.coords=K;K=Math.max(2*R-5,0);this._triangles=new Uint32Array(3*K);this._halfedges=new Int32Array(3*K);this._hashSize=Math.ceil(Math.sqrt(R));this._hullPrev=new Uint32Array(R);
this._hullNext=new Uint32Array(R);this._hullTri=new Uint32Array(R);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(R);this._dists=new Float64Array(R);this.update()}update(){const {coords:K,_hullPrev:R,_hullNext:T,_hullTri:ja,_hullHash:fa}=this;var ha=K.length>>1,la=Infinity,Z=Infinity,P=-Infinity,C=-Infinity;for(var V=0;V<ha;V++){var ia=K[2*V];var aa=K[2*V+1];ia<la&&(la=ia);aa<Z&&(Z=aa);ia>P&&(P=ia);aa>C&&(C=aa);this._ids[V]=V}P=(la+P)/2;Z=(Z+C)/2;la=Infinity;for(C=
0;C<ha;C++)if(V=w(P,Z,K[2*C],K[2*C+1]),V<la){var ya=C;la=V}Z=K[2*ya];C=K[2*ya+1];la=Infinity;for(P=0;P<ha;P++)if(P!==ya&&(V=w(Z,C,K[2*P],K[2*P+1]),V<la&&0<V)){var va=P;la=V}la=K[2*va];P=K[2*va+1];aa=Infinity;for(V=0;V<ha;V++)if(V!==ya&&V!==va){ia=la-Z;var Ia=P-C;var bb=K[2*V]-Z;var kb=K[2*V+1]-C,ua=ia*ia+Ia*Ia,Ta=bb*bb+kb*kb,Ya=.5/(ia*kb-Ia*bb);Ia=(kb*ua-Ia*Ta)*Ya;ia=(ia*Ta-bb*ua)*Ya;ia=Ia*Ia+ia*ia;if(ia<aa){var Da=V;aa=ia}}V=K[2*Da];ia=K[2*Da+1];if(Infinity===aa){for(ya=0;ya<ha;ya++)this._dists[ya]=
K[2*ya]-K[0]||K[2*ya+1]-K[1];x(this._ids,this._dists,0,ha-1);ya=new Uint32Array(ha);va=0;for(let ta=0,U=-Infinity;ta<ha;ta++)Da=this._ids[ta],this._dists[Da]>U&&(ya[va++]=Da,U=this._dists[Da]);this.hull=ya.subarray(0,va);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{N(Z,C,la,P,V,ia)&&(aa=va,bb=la,ua=P,va=Da,la=V,P=ia,Da=aa,V=bb,ia=ua);bb=la-Z;aa=P-C;ua=V-Z;kb=ia-C;Ta=bb*bb+aa*aa;Ya=ua*ua+kb*kb;Ia=.5/(bb*kb-aa*ua);aa=Z+(kb*Ta-aa*Ya)*Ia;bb=C+(bb*Ya-ua*Ta)*Ia;this._cx=aa;this._cy=
bb;for(ua=0;ua<ha;ua++)this._dists[ua]=w(K[2*ua],K[2*ua+1],aa,bb);x(this._ids,this._dists,0,ha-1);this._hullStart=ya;ha=3;T[ya]=R[Da]=va;T[va]=R[ya]=Da;T[Da]=R[va]=ya;ja[ya]=0;ja[va]=1;ja[Da]=2;fa.fill(-1);fa[this._hashKey(Z,C)]=ya;fa[this._hashKey(la,P)]=va;fa[this._hashKey(V,ia)]=Da;this.trianglesLen=0;this._addTriangle(ya,va,Da,-1,-1,-1);for(let ta=0,U,W;ta<this._ids.length;ta++){Z=this._ids[ta];C=K[2*Z];la=K[2*Z+1];if(0<ta&&Math.abs(C-U)<=n&&Math.abs(la-W)<=n)continue;U=C;W=la;if(Z===ya||Z===
va||Z===Da)continue;P=0;for(let ca=0,ra=this._hashKey(C,la);ca<this._hashSize&&(P=fa[(ra+ca)%this._hashSize],-1===P||P===T[P]);ca++);V=P=R[P];let ba;for(;ba=T[V],!N(C,la,K[2*V],K[2*V+1],K[2*ba],K[2*ba+1]);)if(V=ba,V===P){V=-1;break}if(-1!==V){ia=this._addTriangle(V,Z,T[V],-1,-1,ja[V]);ja[Z]=this._legalize(ia+2);ja[V]=ia;ha++;for(aa=T[V];ba=T[aa],N(C,la,K[2*aa],K[2*aa+1],K[2*ba],K[2*ba+1]);)ia=this._addTriangle(aa,Z,ba,ja[Z],-1,ja[aa]),ja[Z]=this._legalize(ia+2),T[aa]=aa,ha--,aa=ba;if(V===P)for(;ba=
R[V],N(C,la,K[2*ba],K[2*ba+1],K[2*V],K[2*V+1]);)ia=this._addTriangle(ba,Z,V,-1,ja[V],ja[ba]),this._legalize(ia+2),ja[ba]=ia,T[V]=V,ha--,V=ba;this._hullStart=R[Z]=V;T[V]=R[aa]=Z;T[Z]=aa;fa[this._hashKey(C,la)]=Z;fa[this._hashKey(K[2*V],K[2*V+1])]=V}}this.hull=new Uint32Array(ha);for(let ta=0,U=this._hullStart;ta<ha;ta++)this.hull[ta]=U,U=T[U];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(K,R){return Math.floor(l(K-
this._cx,R-this._cy)*this._hashSize)%this._hashSize}_legalize(K){const {_triangles:R,_halfedges:T,coords:ja}=this;let fa=0;for(var ha;;){const ya=T[K];var la=K-K%3;ha=la+(K+2)%3;if(-1===ya){if(0===fa)break;K=y[--fa];continue}const va=ya-ya%3,Ia=va+(ya+2)%3;var Z=R[ha],P=R[K],C=R[la+(K+1)%3];la=R[Ia];{var V=ja[2*la],ia=ja[2*la+1];var aa=ja[2*Z]-V;const bb=ja[2*Z+1]-ia,kb=ja[2*P]-V;P=ja[2*P+1]-ia;V=ja[2*C]-V;ia=ja[2*C+1]-ia;C=kb*kb+P*P;const ua=V*V+ia*ia;aa=0>aa*(P*ua-C*ia)-bb*(kb*ua-C*V)+(aa*aa+bb*
bb)*(kb*ia-P*V)}if(aa){R[K]=la;R[ya]=Z;Z=T[Ia];if(-1===Z){la=this._hullStart;do{if(this._hullTri[la]===Ia){this._hullTri[la]=K;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(K,Z);this._link(ya,T[ha]);this._link(ha,Ia);ha=va+(ya+1)%3;fa<y.length&&(y[fa++]=ha)}else{if(0===fa)break;K=y[--fa]}}return ha}_link(K,R){this._halfedges[K]=R;-1!==R&&(this._halfedges[R]=K)}_addTriangle(K,R,T,ja,fa,ha){const la=this.trianglesLen;this._triangles[la]=K;this._triangles[la+1]=R;this._triangles[la+
2]=T;this._link(la,ja);this._link(la+1,fa);this._link(la+2,ha);this.trianglesLen+=3;return la}}class D{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(K,R){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(K,R){this._+=`L${this._x1=+K},${this._y1=+R}`}arc(K,R,T){K=+K;R=+R;T=+T;const ja=K+T,fa=R;if(0>T)throw Error("negative radius");if(null===this._x1)this._+=`M${ja},${fa}`;else if(1E-6<
Math.abs(this._x1-ja)||1E-6<Math.abs(this._y1-fa))this._+="L"+ja+","+fa;T&&(this._+=`A${T},${T},0,1,1,${K-T},${R}A${T},${T},0,1,1,${this._x1=ja},${this._y1=fa}`)}rect(K,R,T,ja){this._+=`M${this._x0=this._x1=+K},${this._y0=this._y1=+R}h${+T}v${+ja}h${-T}Z`}value(){return this._||null}}class O{constructor(){this._=[]}moveTo(K,R){this._.push([K,R])}closePath(){this._.push(this._[0].slice())}lineTo(K,R){this._.push([K,R])}value(){return this._.length?this._:null}}class M{constructor(K,[R,T,ja,fa]=[0,
0,960,500]){if(!((ja=+ja)>=(R=+R)&&(fa=+fa)>=(T=+T)))throw Error("invalid bounds");this.delaunay=K;this._circumcenters=new Float64Array(2*K.points.length);this.vectors=new Float64Array(2*K.points.length);this.xmax=ja;this.xmin=R;this.ymax=fa;this.ymin=T;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:K,hull:R,triangles:T},vectors:ja}=this;var fa=this.circumcenters=this._circumcenters.subarray(0,T.length/3*2);for(let aa=0,ya=0,va=T.length,Ia,bb;aa<
va;aa+=3,ya+=2){var ha=2*T[aa],la=2*T[aa+1],Z=2*T[aa+2],P=K[ha];ha=K[ha+1];var C=K[Z],V=K[Z+1];Z=K[la]-P;la=K[la+1]-ha;var ia=C-P;const kb=V-ha,ua=Z*Z+la*la,Ta=ia*ia+kb*kb,Ya=2*(Z*kb-la*ia);Ya?1E-8>Math.abs(Ya)?(Ia=(P+C)/2,bb=(ha+V)/2):(C=1/Ya,Ia=P+(kb*ua-la*Ta)*C,bb=ha+(Z*Ta-ia*ua)*C):(Ia=(P+C)/2-1E8*kb,bb=(ha+V)/2+1E8*ia);fa[ya]=Ia;fa[ya+1]=bb}fa=R[R.length-1];ha=4*fa;Z=K[2*fa];la=K[2*fa+1];ja.fill(0);for(ia=0;ia<R.length;++ia)fa=R[ia],P=ha,C=Z,V=la,ha=4*fa,Z=K[2*fa],la=K[2*fa+1],ja[P+2]=ja[ha]=
V-la,ja[P+3]=ja[ha+1]=Z-C}render(K){const R=null==K?K=new D:void 0,{delaunay:{halfedges:T,inedges:ja,hull:fa},circumcenters:ha,vectors:la}=this;if(1>=fa.length)return null;for(let ia=0,aa=T.length;ia<aa;++ia){var Z=T[ia];if(!(Z<ia)){var P=2*Math.floor(ia/3);Z=2*Math.floor(Z/3);this._renderSegment(ha[P],ha[P+1],ha[Z],ha[Z+1],K)}}P=fa[fa.length-1];for(Z=0;Z<fa.length;++Z){var C=P;P=fa[Z];var V=2*Math.floor(ja[P]/3);const ia=ha[V];V=ha[V+1];C*=4;(C=this._project(ia,V,la[C+2],la[C+3]))&&this._renderSegment(ia,
V,C[0],C[1],K)}return R&&R.value()}renderBounds(K){const R=null==K?K=new D:void 0;K.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return R&&R.value()}renderCell(K,R){const T=null==R?R=new D:void 0;K=this._clip(K);if(null!==K&&K.length){R.moveTo(K[0],K[1]);for(var ja=K.length;K[0]===K[ja-2]&&K[1]===K[ja-1]&&1<ja;)ja-=2;for(let fa=2;fa<ja;fa+=2)K[fa]===K[fa-2]&&K[fa+1]===K[fa-1]||R.lineTo(K[fa],K[fa+1]);R.closePath();return T&&T.value()}}*cellPolygons(){var {delaunay:{points:K}}=
this;for(let R=0,T=K.length/2;R<T;++R)if(K=this.cellPolygon(R))K.index=R,yield K}cellPolygon(K){const R=new O;this.renderCell(K,R);return R.value()}_renderSegment(K,R,T,ja,fa){const ha=this._regioncode(K,R),la=this._regioncode(T,ja);if(0===ha&&0===la)fa.moveTo(K,R),fa.lineTo(T,ja);else if(K=this._clipSegment(K,R,T,ja,ha,la))fa.moveTo(K[0],K[1]),fa.lineTo(K[2],K[3])}contains(K,R,T){return(R=+R,R!==R)||(T=+T,T!==T)?!1:this.delaunay._step(K,R,T)===K}*neighbors(K){const R=this._clip(K);if(R)for(const T of this.delaunay.neighbors(K))if(K=
this._clip(T))a:for(let ja=0,fa=R.length;ja<fa;ja+=2)for(let ha=0,la=K.length;ha<la;ha+=2)if(R[ja]==K[ha]&&R[ja+1]==K[ha+1]&&R[(ja+2)%fa]==K[(ha+la-2)%la]&&R[(ja+3)%fa]==K[(ha+la-1)%la]){yield T;break a}}_cell(K){const {circumcenters:R,delaunay:{inedges:T,halfedges:ja,triangles:fa}}=this,ha=T[K];if(-1===ha)return null;const la=[];let Z=ha;do{const P=Math.floor(Z/3);la.push(R[2*P],R[2*P+1]);Z=2===Z%3?Z-2:Z+1;if(fa[Z]!==K)break;Z=ja[Z]}while(Z!==ha&&-1!==Z);return la}_clip(K){if(0===K&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const R=this._cell(K);if(null===R)return null;const {vectors:T}=this,ja=4*K;return T[ja]||T[ja+1]?this._clipInfinite(K,R,T[ja],T[ja+1],T[ja+2],T[ja+3]):this._clipFinite(K,R)}_clipFinite(K,R){const T=R.length;let ja=null;let fa=R[T-2],ha=R[T-1];let la=this._regioncode(fa,ha),Z;for(let ia=0;ia<T;ia+=2){var P=fa;var C=ha;fa=R[ia];ha=R[ia+1];var V=la;la=this._regioncode(fa,ha);if(0===V&&0===la)Z=0,ja?ja.push(fa,ha):ja=[fa,ha];else{let aa,
ya;if(0===V){if(null===(P=this._clipSegment(P,C,fa,ha,V,la)))continue;[C,V,aa,ya]=P}else{if(null===(P=this._clipSegment(fa,ha,P,C,la,V)))continue;[aa,ya,C,V]=P;P=Z;Z=this._edgecode(C,V);P&&Z&&this._edge(K,P,Z,ja,ja.length);ja?ja.push(C,V):ja=[C,V]}P=Z;Z=this._edgecode(aa,ya);P&&Z&&this._edge(K,P,Z,ja,ja.length);ja?ja.push(aa,ya):ja=[aa,ya]}}if(ja)P=Z,Z=this._edgecode(ja[0],ja[1]),P&&Z&&this._edge(K,P,Z,ja,ja.length);else if(this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ja}_clipSegment(K,R,T,ja,fa,ha){for(;;){if(0===fa&&0===ha)return[K,R,T,ja];if(fa&ha)return null;var la=void 0;let Z;la=fa||ha;la&8?(la=K+(T-K)*(this.ymax-R)/(ja-R),Z=this.ymax):la&4?(la=K+(T-K)*(this.ymin-R)/(ja-R),Z=this.ymin):la&2?(Z=R+(ja-R)*(this.xmax-K)/(T-K),la=this.xmax):(Z=R+(ja-R)*(this.xmin-K)/(T-K),la=this.xmin);fa?(K=la,R=Z,fa=this._regioncode(K,R)):(T=la,ja=Z,ha=this._regioncode(T,ja))}}_clipInfinite(K,R,T,
ja,fa,ha){R=Array.from(R);let la;(la=this._project(R[0],R[1],T,ja))&&R.unshift(la[0],la[1]);(la=this._project(R[R.length-2],R[R.length-1],fa,ha))&&R.push(la[0],la[1]);if(R=this._clipFinite(K,R))for(let Z=0,P=R.length,C,V=this._edgecode(R[P-2],R[P-1]);Z<P;Z+=2)C=V,V=this._edgecode(R[Z],R[Z+1]),C&&V&&(Z=this._edge(K,C,V,R,Z),P=R.length);else this.contains(K,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(R=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return R}_edge(K,
R,T,ja,fa){for(;R!==T;){let ha,la;switch(R){case 5:R=4;continue;case 4:R=6;ha=this.xmax;la=this.ymin;break;case 6:R=2;continue;case 2:R=10;ha=this.xmax;la=this.ymax;break;case 10:R=8;continue;case 8:R=9;ha=this.xmin;la=this.ymax;break;case 9:R=1;continue;case 1:R=5,ha=this.xmin,la=this.ymin}ja[fa]===ha&&ja[fa+1]===la||!this.contains(K,ha,la)||(ja.splice(fa,0,ha,la),fa+=2)}if(4<ja.length)for(K=0;K<ja.length;K+=2)if(R=(K+2)%ja.length,T=(K+4)%ja.length,ja[K]===ja[R]&&ja[R]===ja[T]||ja[K+1]===ja[R+1]&&
ja[R+1]===ja[T+1])ja.splice(R,2),K-=2;return fa}_project(K,R,T,ja){let fa=Infinity,ha,la,Z;if(0>ja){if(R<=this.ymin)return null;(ha=(this.ymin-R)/ja)<fa&&(Z=this.ymin,la=K+(fa=ha)*T)}else if(0<ja){if(R>=this.ymax)return null;(ha=(this.ymax-R)/ja)<fa&&(Z=this.ymax,la=K+(fa=ha)*T)}if(0<T){if(K>=this.xmax)return null;(ha=(this.xmax-K)/T)<fa&&(la=this.xmax,Z=R+ha*ja)}else if(0>T){if(K<=this.xmin)return null;(ha=(this.xmin-K)/T)<fa&&(la=this.xmin,Z=R+ha*ja)}return[la,Z]}_edgecode(K,R){return(K===this.xmin?
1:K===this.xmax?2:0)|(R===this.ymin?4:R===this.ymax?8:0)}_regioncode(K,R){return(K<this.xmin?1:K>this.xmax?2:0)|(R<this.ymin?4:R>this.ymax?8:0)}}const F=2*Math.PI,z=Math.pow;class G{static from(K,R=g,T=d,ja){if("length"in K){{const fa=K.length,ha=new Float64Array(2*fa);for(let la=0;la<fa;++la){const Z=K[la];ha[2*la]=R.call(ja,Z,la,K);ha[2*la+1]=T.call(ja,Z,la,K)}K=ha}}else K=Float64Array.from(e(K,R,T,ja));return new G(K)}constructor(K){this._delaunator=new B(K);this.inedges=new Int32Array(K.length/
2);this._hullIndex=new Int32Array(K.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var K=this._delaunator;const R=this.points;if(K.hull&&2<K.hull.length&&f(K)){this.collinear=Int32Array.from({length:R.length/2},(la,Z)=>Z).sort((la,Z)=>R[2*la]-R[2*Z]||R[2*la+1]-R[2*Z+1]);K=this.collinear[0];var T=this.collinear[this.collinear.length-1];K=[R[2*K],R[2*K+1],R[2*T],R[2*T+1]];K=1E-8*Math.hypot(K[3]-K[1],K[2]-K[0]);for(let la=
0,Z=R.length/2;la<Z;++la)T=a(R[2*la],R[2*la+1],K),R[2*la]=T[0],R[2*la+1]=T[1];this._delaunator=new B(R)}else delete this.collinear;K=this.halfedges=this._delaunator.halfedges;T=this.hull=this._delaunator.hull;const ja=this.triangles=this._delaunator.triangles,fa=this.inedges.fill(-1),ha=this._hullIndex.fill(-1);for(let la=0,Z=K.length;la<Z;++la){const P=ja[2===la%3?la-2:la+1];if(-1===K[la]||-1===fa[P])fa[P]=la}for(let la=0,Z=T.length;la<Z;++la)ha[T[la]]=la;2>=T.length&&0<T.length&&(this.triangles=
(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=T[0],this.triangles[1]=T[1],this.triangles[2]=T[1],fa[T[0]]=1,2===T.length&&(fa[T[1]]=0))}voronoi(K){return new M(this,K)}*neighbors(K){const {inedges:R,hull:T,_hullIndex:ja,halfedges:fa,triangles:ha,collinear:la}=this;if(la){var Z=la.indexOf(K);0<Z&&(yield la[Z-1]);Z<la.length-1&&(yield la[Z+1])}else{var P=R[K];if(-1!==P){var C=P;do{yield(Z=ha[C]);C=2===C%3?C-2:C+1;if(ha[C]!==K)break;C=fa[C];if(-1===C){K=T[(ja[K]+
1)%T.length];K!==Z&&(yield K);break}}while(C!==P)}}}find(K,R,T=0){if((K=+K,K!==K)||(R=+R,R!==R))return-1;const ja=T;let fa;for(;0<=(fa=this._step(T,K,R))&&fa!==T&&fa!==ja;)T=fa;return fa}_step(K,R,T){const {inedges:ja,hull:fa,_hullIndex:ha,halfedges:la,triangles:Z,points:P}=this;if(-1===ja[K]||!P.length)return(K+1)%(P.length>>1);let C=K,V=z(R-P[2*K],2)+z(T-P[2*K+1],2);const ia=ja[K];let aa=ia;do{let ya=Z[aa];const va=z(R-P[2*ya],2)+z(T-P[2*ya+1],2);va<V&&(V=va,C=ya);aa=2===aa%3?aa-2:aa+1;if(Z[aa]!==
K)break;aa=la[aa];if(-1===aa){aa=fa[(ha[K]+1)%fa.length];if(aa!==ya&&z(R-P[2*aa],2)+z(T-P[2*aa+1],2)<V)return aa;break}}while(aa!==ia);return C}render(K){const R=null==K?K=new D:void 0,{points:T,halfedges:ja,triangles:fa}=this;for(let la=0,Z=ja.length;la<Z;++la){var ha=ja[la];if(ha<la)continue;const P=2*fa[la];ha=2*fa[ha];K.moveTo(T[P],T[P+1]);K.lineTo(T[ha],T[ha+1])}this.renderHull(K);return R&&R.value()}renderPoints(K,R=2){const T=null==K?K=new D:void 0,{points:ja}=this;for(let fa=0,ha=ja.length;fa<
ha;fa+=2){const la=ja[fa],Z=ja[fa+1];K.moveTo(la+R,Z);K.arc(la,Z,R,0,F)}return T&&T.value()}renderHull(K){const R=null==K?K=new D:void 0,{hull:T,points:ja}=this;var fa=2*T[0];const ha=T.length;K.moveTo(ja[fa],ja[fa+1]);for(fa=1;fa<ha;++fa){const la=2*T[fa];K.lineTo(ja[la],ja[la+1])}K.closePath();return R&&R.value()}hullPolygon(){const K=new O;this.renderHull(K);return K.value()}renderTriangle(K,R){const T=null==R?R=new D:void 0,{points:ja,triangles:fa}=this,ha=2*fa[K*=3],la=2*fa[K+1];K=2*fa[K+2];
R.moveTo(ja[ha],ja[ha+1]);R.lineTo(ja[la],ja[la+1]);R.lineTo(ja[K],ja[K+1]);R.closePath();return T&&T.value()}*trianglePolygons(){const {triangles:K}=this;for(let R=0,T=K.length/3;R<T;++R)yield this.trianglePolygon(R)}trianglePolygon(K){const R=new O;this.renderTriangle(K,R);return R.value()}}k.Delaunay=G;k.Voronoi=M;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(26),A(14),A(52)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,l,w,H){function N(v){l.Transform.call(this,null,v)}N.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},
{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const x=[-1E5,-1E5,1E5,1E5];w.inherits(N,l.Transform,{transform(v,u){const m=v.as||"path",g=u.source;if(!g||!g.length)return u;var d=v.size;d=d?[0,0,d[0],d[1]]:(d=v.extent)?[d[0][0],d[0][1],d[1][0],d[1][1]]:x;d=this.value=H.Delaunay.from(g,v.x,v.y).voronoi(d);
for(let e=0,n=g.length;e<n;++e){var f=d.cellPolygon(e),a=g[e];if(f){{const y=f[0][0],B=f[0][1];let D=f.length-1;for(;f[D][0]===y&&f[D][1]===B;--D);f="M"+f.slice(0,D+1).join("L")+"Z"}}else f=null;a[m]=f}return u.reflow(v.modified()).modifies(m)}});k.voronoi=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[54]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(31),A(26),A(14),A(35),A(27)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x){function v(){function D(P){P.width=P.height=1;var C=Math.sqrt(P.getContext("2d").getImageData(0,
0,1,1).data.length>>2);P.width=2048/C;P.height=2048/C;P=P.getContext("2d");P.fillStyle=P.strokeStyle="red";P.textAlign="center";return{context:P,ratio:C}}function O(P,C,V){for(var ia=C.x,aa=C.y,ya=Math.sqrt(M[0]*M[0]+M[1]*M[1]),va=fa(M),Ia=.5>la()?1:-1,bb=-Ia,kb,ua;kb=va(bb+=Ia);){ua=~~kb[0];kb=~~kb[1];if(Math.min(Math.abs(ua),Math.abs(kb))>=ya)break;C.x=ia+ua;C.y=aa+kb;if(!(0>C.x+C.x0||0>C.y+C.y0||C.x+C.x1>M[0]||C.y+C.y1>M[1])){if(!(ua=!V)){a:{ua=M[0];ua>>=5;kb=C.sprite;var Ta=C.width>>5;var Ya=
C.x-(Ta<<4);for(var Da=Ya&127,ta=32-Da,U=C.y1-C.y0,W=(C.y+C.y0)*ua+(Ya>>5),ba=0;ba<U;ba++){for(var ca=Ya=0;ca<=Ta;ca++)if((Ya<<ta|(ca<Ta?(Ya=kb[ba*Ta+ca])>>>Da:0))&P[W+ca]){ua=!0;break a}W+=ua}ua=!1}ua=!ua}if(ua&&(!V||C.x+C.x1>V[0].x&&C.x+C.x0<V[1].x&&C.y+C.y1>V[0].y&&C.y+C.y0<V[1].y)){V=C.sprite;ia=C.width>>5;aa=M[0]>>5;bb=C.x-(ia<<4);ya=bb&127;va=32-ya;Ia=C.y1-C.y0;bb=(C.y+C.y0)*aa+(bb>>5);for(kb=0;kb<Ia;kb++){for(Ta=ua=0;Ta<=ia;Ta++)P[bb+Ta]=P[bb+Ta]|ua<<va|(Ta<ia?(ua=V[kb*ia+Ta])>>>ya:0);bb+=
aa}C.sprite=null;return!0}}}return!1}var M=[256,256],F,z,G,K,R,T,ja,fa=g,ha=[],la=Math.random,Z={layout:function(){for(var P=D(l.canvas()),C=d((M[0]>>5)*M[1]),V=null,ia=ha.length,aa=-1,ya=[],va=ha.map(bb=>({text:F(bb),font:z(bb),style:K(bb),weight:R(bb),rotate:T(bb),size:~~(G(bb)+1E-14),padding:ja(bb),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:bb})).sort((bb,kb)=>kb.size-bb.size);++aa<ia;){var Ia=va[aa];Ia.x=M[0]*(la()+.5)>>1;Ia.y=M[1]*(la()+.5)>>1;u(P,Ia,va,aa);Ia.hasText&&O(C,
Ia,V)&&(ya.push(Ia),V?m(V,Ia):V=[{x:Ia.x+Ia.x0,y:Ia.y+Ia.y0},{x:Ia.x+Ia.x1,y:Ia.y+Ia.y1}],Ia.x-=M[0]>>1,Ia.y-=M[1]>>1)}return ya},words:function(P){return arguments.length?(ha=P,Z):ha},size:function(P){return arguments.length?(M=[+P[0],+P[1]],Z):M},font:function(P){return arguments.length?(z=f(P),Z):z},fontStyle:function(P){return arguments.length?(K=f(P),Z):K},fontWeight:function(P){return arguments.length?(R=f(P),Z):R},rotate:function(P){return arguments.length?(T=f(P),Z):T},text:function(P){return arguments.length?
(F=f(P),Z):F},spiral:function(P){return arguments.length?(fa=n[P]||P,Z):fa},fontSize:function(P){return arguments.length?(G=f(P),Z):G},padding:function(P){return arguments.length?(ja=f(P),Z):ja},random:function(P){return arguments.length?(la=P,Z):la}};return Z}function u(D,O,M,F){if(!O.sprite){var z=D.context,G=D.ratio;z.clearRect(0,0,2048/G,2048/G);var K=D=0,R=0,T=M.length;for(--F;++F<T;){O=M[F];z.save();z.font=O.style+" "+O.weight+" "+~~((O.size+1)/G)+"px "+O.font;var ja=z.measureText(O.text+"m").width*
G;var fa=O.size<<1;if(O.rotate){var ha=Math.sin(O.rotate*e),la=Math.cos(O.rotate*e),Z=ja*la,P=ja*ha;la*=fa;ja=fa*ha;ja=Math.max(Math.abs(Z+ja),Math.abs(Z-ja))+31>>5<<5;fa=~~Math.max(Math.abs(P+la),Math.abs(P-la))}else ja=ja+31>>5<<5;fa>R&&(R=fa);2048<=D+ja&&(D=0,K+=R,R=0);if(2048<=K+fa)break;z.translate((D+(ja>>1))/G,(K+(fa>>1))/G);O.rotate&&z.rotate(O.rotate*e);z.fillText(O.text,0,0);O.padding&&(z.lineWidth=2*O.padding,z.strokeText(O.text,0,0));z.restore();O.width=ja;O.height=fa;O.xoff=D;O.yoff=
K;O.x1=ja>>1;O.y1=fa>>1;O.x0=-O.x1;O.y0=-O.y1;O.hasText=!0;D+=ja}T=z.getImageData(0,0,2048/G,2048/G).data;for(Z=[];0<=--F;)if(O=M[F],O.hasText){ja=O.width;z=ja>>5;fa=O.y1-O.y0;for(G=0;G<fa*z;G++)Z[G]=0;D=O.xoff;if(null==D)break;K=O.yoff;P=0;ha=-1;for(R=0;R<fa;R++){for(G=0;G<ja;G++)la=T[2048*(K+R)+(D+G)<<2]?1<<31-G%32:0,Z[z*R+(G>>5)]|=la,P|=la;P?ha=R:(O.y0++,fa--,R--,K++)}O.y1=O.y0+ha;O.sprite=Z.slice(0,(O.y1-O.y0)*z)}}}function m(D,O){var M=D[0];D=D[1];O.x+O.x0<M.x&&(M.x=O.x+O.x0);O.y+O.y0<M.y&&(M.y=
O.y+O.y0);O.x+O.x1>D.x&&(D.x=O.x+O.x1);O.y+O.y1>D.y&&(D.y=O.y+O.y1)}function g(D){var O=D[0]/D[1];return function(M){return[O*(M*=.1)*Math.cos(M),M*Math.sin(M)]}}function d(D){for(var O=[],M=-1;++M<D;)O[M]=0;return O}function f(D){return"function"===typeof D?D:function(){return D}}function a(D){w.Transform.call(this,v(),D)}var e=Math.PI/180,n={archimedean:g,rectangular:function(D){var O=4*D[0]/D[1],M=0,F=0;return function(z){var G=0>z?-1:1;switch(Math.sqrt(1+4*G*z)-G&3){case 0:M+=O;break;case 1:F+=
4;break;case 2:M-=O;break;default:F-=4}return[M,F]}}};const y="x y font fontSize fontStyle fontWeight angle".split(" "),B="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",
expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":y}]};H.inherits(a,w.Transform,{transform(D,O){function M(ja){ja=D[ja];return H.isFunction(ja)&&O.modified(ja.fields)}!D.size||D.size[0]&&D.size[1]||H.error("Wordcloud size dimensions must be non-zero.");
const F=D.modified();if(F||O.changed(O.ADD_REM)||B.some(M)){var z=O.materialize(O.SOURCE).source,G=this.value,K=D.as||y,R=D.fontSize||14,T;H.isFunction(R)?T=D.fontSizeRange:R=H.constant(R);if(T){const ja=R,fa=N.scale("sqrt")().domain(H.extent(z,ja)).range(T);R=ha=>fa(ja(ha))}z.forEach(ja=>{ja[K[0]]=NaN;ja[K[1]]=NaN;ja[K[3]]=0});z=G.words(z).text(D.text).size(D.size||[500,500]).padding(D.padding||1).spiral(D.spiral||"archimedean").rotate(D.rotate||0).font(D.font||"sans-serif").fontStyle(D.fontStyle||
"normal").fontWeight(D.fontWeight||"normal").fontSize(R).random(x.random).layout();R=G.size();G=R[0]>>1;R=R[1]>>1;T=z.length;for(let ja=0,fa,ha;ja<T;++ja)fa=z[ja],ha=fa.datum,ha[K[0]]=fa.x+G,ha[K[1]]=fa.y+R,ha[K[2]]=fa.font,ha[K[3]]=fa.size,ha[K[4]]=fa.style,ha[K[5]]=fa.weight,ha[K[6]]=fa.rotate;return O.reflow(F).modifies(K)}}});k.wordcloud=a;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[55]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(15),A(26),A(14)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l((k.vega=k.vega||{},k.vega.transforms={}),k.d3,k.vega,k.vega))})(this,function(k,l,w,H){function N(){let n=8,y=[],B=new Uint32Array(0),D=x(0,n),O=x(0,n);return{data:()=>y,seen:()=>{var M=B;var F=y.length;M.length>=F||(F=new M.constructor(F),
F.set(M),M=F);return B=M},add(M){for(let F=0,z=y.length,G=M.length,K;F<G;++F)K=M[F],K._index=z++,y.push(K)},remove(M,F){const z=y.length;M=Array(z-M);const G=y;let K,R,T;for(R=0;!F[R]&&R<z;++R)M[R]=y[R],G[R]=R;for(T=R;R<z;++R)K=y[R],F[R]?G[R]=-1:(G[R]=T,D[T]=D[R],O[T]=O[R],M[T]=K,K._index=T++),D[R]=0;y=M;return G},size:()=>y.length,curr:()=>D,prev:()=>O,reset:M=>O[M]=D[M],all:()=>257>n?255:65537>n?65535:4294967295,set(M,F){D[M]|=F},clear(M,F){D[M]&=~F},resize(M,F){if(M>D.length||F>n)n=Math.max(F,
n),D=x(M,n,D),O=x(M,n)}}}function x(n,y,B){n=(257>y?f:65537>y?a:e)(n);B&&n.set(B);return n}function v(n,y,B){const D=1<<y;return{one:D,zero:~D,range:B.slice(),bisect:n.bisect,index:n.index,size:n.size,onAdd(O,M){var F=this.bisect(this.range,O.value);O=O.index;const z=F[0];F=F[1];const G=O.length;let K;for(K=0;K<z;++K)M[O[K]]|=D;for(K=F;K<G;++K)M[O[K]]|=D;return this}}}function u(){let n=new Uint32Array(0),y=[],B=0;return{insert:function(D,O,M){if(!O.length)return[];const F=B,z=O.length,G=new Uint32Array(z);
let K=Array(z);var R;for(R=0;R<z;++R)K[R]=D(O[R]),G[R]=R;K=m(K,G);if(F){D=y;O=n;y=Array(F+z);n=new Uint32Array(F+z);{R=K;var T=y,ja=n;let fa=0,ha=0,la;for(la=0;fa<F&&ha<z;++la)D[fa]<R[ha]?(T[la]=D[fa],ja[la]=O[fa++]):(T[la]=R[ha],ja[la]=G[ha++]+M);for(;fa<F;++fa,++la)T[la]=D[fa],ja[la]=O[fa];for(;ha<z;++ha,++la)T[la]=R[ha],ja[la]=G[ha]+M}}else{if(0<M)for(R=0;R<z;++R)G[R]+=M;y=K;n=G}B=F+z;return{index:G,value:K}},remove:function(D,O){const M=B;let F,z,G;for(z=0;!O[n[z]]&&z<M;++z);for(G=z;z<M;++z)O[F=
n[z]]||(n[G]=F,y[G]=y[z],++G);B=M-D},bisect:function(D,O){let M;O?M=O.length:(O=y,M=B);return[l.bisectLeft(O,D[0],0,M),l.bisectRight(O,D[1],0,M)]},reindex:function(D){for(let O=0,M=B;O<M;++O)n[O]=D[n[O]]},index:()=>n,size:()=>B}}function m(n,y){n.sort.call(y,(B,D)=>{B=n[B];D=n[D];return B<D?-1:B>D?1:0});return l.permute(n,y)}function g(n){w.Transform.call(this,N(),n);this._dims=this._indices=null}function d(n){w.Transform.call(this,null,n)}const f=n=>new Uint8Array(n),a=n=>new Uint16Array(n),e=n=>
new Uint32Array(n);g.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};H.inherits(g,w.Transform,{transform(n,y){return this._dims?n.modified("fields")||n.fields.some(B=>y.modified(B.fields))?this.reinit(n,y):this.eval(n,y):this.init(n,y)},init(n,y){const B=n.fields,D=n.query,O=this._indices={},M=this._dims=[],F=D.length;let z=0;for(var G;z<F;++z)G=B[z].fname,
G=O[G]||(O[G]=u()),M.push(v(G,z,D[z]));return this.eval(n,y)},reinit(n,y){const B=y.materialize().fork(),D=n.fields,O=n.query,M=this._indices,F=this._dims,z=this.value,G=z.curr(),K=z.prev(),R=z.all(),T=B.rem=B.add,ja=B.mod,fa=O.length,ha={};let la;var Z;let P,C,V,ia;K.set(G);y.rem.length&&(P=this.remove(n,y,B));y.add.length&&z.add(y.add);if(y.mod.length){C={};var aa=y.mod;V=0;for(Z=aa.length;V<Z;++V)C[aa[V]._index]=1}for(V=0;V<fa;++V)if(ia=D[V],!F[V]||n.modified("fields",V)||y.modified(ia.fields))Z=
ia.fname,(aa=ha[Z])||(M[Z]=la=u(),ha[Z]=aa=la.insert(ia,y.source,0)),F[V]=v(la,V,O[V]).onAdd(aa,G);V=0;for(Z=z.data().length;V<Z;++V)P[V]||(K[V]!==G[V]?T.push(V):C[V]&&G[V]!==R&&ja.push(V));z.mask=(1<<fa)-1;return B},eval(n,y){const B=y.materialize().fork(),D=this._dims.length;let O=0;y.rem.length&&(this.remove(n,y,B),O|=(1<<D)-1);n.modified("query")&&!n.modified("fields")&&(O|=this.update(n,y,B));y.add.length&&(this.insert(n,y,B),O|=(1<<D)-1);y.mod.length&&(this.modify(y,B),O|=(1<<D)-1);this.value.mask=
O;return B},insert(n,y,B){y=y.add;var D=this.value;const O=this._dims,M=this._indices;n=n.fields;const F={};B=B.add;const z=D.size()+y.length,G=O.length;let K=D.size();D.resize(z,G);D.add(y);const R=D.curr(),T=D.prev(),ja=D.all();for(D=0;D<G;++D){var fa=n[D].fname;fa=F[fa]||(F[fa]=M[fa].insert(n[D],y,K));O[D].onAdd(fa,R)}for(;K<z;++K)T[K]=ja,R[K]!==ja&&B.push(K)},modify(n,y){y=y.mod;var B=this.value;const D=B.curr();B=B.all();n=n.mod;let O,M,F;O=0;for(M=n.length;O<M;++O)F=n[O]._index,D[F]!==B&&y.push(F)},
remove(n,y,B){n=this._indices;var D=this.value;const O=D.curr(),M=D.prev();D=D.all();const F={};B=B.rem;const z=y.rem;let G,K,R,T;G=0;for(K=z.length;G<K;++G)R=z[G]._index,F[R]=1,M[R]=T=O[R],O[R]=D,T!==D&&B.push(R);for(R in n)n[R].remove(K,F);this.reindex(y,K,F);return F},reindex(n,y,B){const D=this._indices,O=this.value;n.runAfter(()=>{const M=O.remove(y,B);for(const F in D)D[F].reindex(M)})},update(n,y,B){const D=this._dims,O=n.query;y=y.stamp;const M=D.length;let F=0,z,G;for(G=B.filters=0;G<M;++G)n.modified("query",
G)&&(z=G,++F);if(1===F)F=D[z].one,this.incrementOne(D[z],O[z],B.add,B.rem);else for(F=G=0;G<M;++G)n.modified("query",G)&&(F|=D[G].one,this.incrementAll(D[G],O[G],y,B.add),B.rem=B.add);return F},incrementAll(n,y,B,D){var O=this.value;const M=O.seen(),F=O.curr();O=O.prev();const z=n.index();var G=n.bisect(n.range),K=n.bisect(y);const R=K[0];K=K[1];const T=G[0];G=G[1];const ja=n.one;let fa,ha,la;if(R<T)for(fa=R,ha=Math.min(T,K);fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;
else if(R>T)for(fa=T,ha=Math.min(R,G);fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;if(K>G)for(fa=Math.max(R,G),ha=K;fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;else if(K<G)for(fa=Math.max(T,K),ha=G;fa<ha;++fa)la=z[fa],M[la]!==B&&(O[la]=F[la],M[la]=B,D.push(la)),F[la]^=ja;n.range=y.slice()},incrementOne(n,y,B,D){const O=this.value.curr(),M=n.index();var F=n.bisect(n.range),z=n.bisect(y);const G=z[0];z=z[1];const K=F[0];F=F[1];const R=n.one;
let T,ja,fa;if(G<K)for(T=G,ja=Math.min(K,z);T<ja;++T)fa=M[T],O[fa]^=R,B.push(fa);else if(G>K)for(T=K,ja=Math.min(G,F);T<ja;++T)fa=M[T],O[fa]^=R,D.push(fa);if(z>F)for(T=Math.max(G,F),ja=z;T<ja;++T)fa=M[T],O[fa]^=R,B.push(fa);else if(z<F)for(T=Math.max(K,z),ja=F;T<ja;++T)fa=M[T],O[fa]^=R,D.push(fa);n.range=y.slice()}});d.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",
required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};H.inherits(d,w.Transform,{transform(n,y){const B=~(n.ignore||0);n=n.filter;const D=n.mask;if(0===(D&B))return y.StopPropagation;y=y.fork(y.ALL);const O=n.data(),M=n.curr(),F=n.prev(),z=G=>M[G]&B?null:O[G];y.filter(y.MOD,z);D&D-1?(y.filter(y.ADD,G=>{const K=M[G]&B;return!K&&K^F[G]&B?O[G]:null}),y.filter(y.REM,G=>{const K=M[G]&B;return!K||K^K^F[G]&B?null:O[G]})):(y.filter(y.ADD,z),y.filter(y.REM,G=>(M[G]&B)===D?O[G]:
null));return y.filter(y.SOURCE,G=>z(G._index))}});k.crossfilter=g;k.resolvefilter=d;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[56]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega))})(this,function(k,l){function w(U){this.type=U}function H(U){switch(U.type){case "ArrayExpression":return U.elements;case "BinaryExpression":case "LogicalExpression":return[U.left,U.right];case "CallExpression":return[U.callee].concat(U.arguments);
case "ConditionalExpression":return[U.test,U.consequent,U.alternate];case "MemberExpression":return[U.object,U.property];case "ObjectExpression":return U.properties;case "Property":return[U.key,U.value];case "UnaryExpression":return[U.argument];default:return[]}}function N(U,W){if(!U)throw Error("ASSERT: "+W);}function x(U){return 48<=U&&57>=U}function v(U){return 0<="0123456789abcdefABCDEF".indexOf(U)}function u(U){return 0<="01234567".indexOf(U)}function m(U){return 10===U||13===U||8232===U||8233===
U}function g(U){return 36===U||95===U||65<=U&&90>=U||97<=U&&122>=U||92===U||128<=U&&ua.test(String.fromCharCode(U))}function d(U){return 36===U||95===U||65<=U&&90>=U||97<=U&&122>=U||48<=U&&57>=U||92===U||128<=U&&Ta.test(String.fromCharCode(U))}function f(){for(;Ia<bb;){const U=va.charCodeAt(Ia);if(32===U||9===U||11===U||12===U||160===U||5760<=U&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(U)||m(U))++Ia;else break}}function a(U){var W=0;var ba=
"u"===U?4:2;for(U=0;U<ba;++U)if(Ia<bb&&v(va[Ia])){var ca=va[Ia++];W=16*W+"0123456789abcdef".indexOf(ca.toLowerCase())}else T({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(W)}function e(){var U=va.charCodeAt(Ia++);var W=String.fromCharCode(U);92===U&&(117!==va.charCodeAt(Ia)&&T({},"Unexpected token %0","ILLEGAL"),++Ia,(U=a("u"))&&"\\"!==U&&g(U.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),W=U);for(;Ia<bb;){U=va.charCodeAt(Ia);if(!d(U))break;++Ia;W+=String.fromCharCode(U);92===
U&&(W=W.substr(0,W.length-1),117!==va.charCodeAt(Ia)&&T({},"Unexpected token %0","ILLEGAL"),++Ia,(U=a("u"))&&"\\"!==U&&d(U.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),W+=U)}return W}function n(){var U=Ia,W=va.charCodeAt(Ia),ba=va[Ia];switch(W){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ia,{type:7,value:String.fromCharCode(W),start:U,end:Ia};default:var ca=va.charCodeAt(Ia+1);if(61===ca)switch(W){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ia+=
2,{type:7,value:String.fromCharCode(W)+String.fromCharCode(ca),start:U,end:Ia};case 33:case 61:return Ia+=2,61===va.charCodeAt(Ia)&&++Ia,{type:7,value:va.slice(U,Ia),start:U,end:Ia}}}W=va.substr(Ia,4);if("\x3e\x3e\x3e\x3d"===W)return Ia+=4,{type:7,value:W,start:U,end:Ia};W=W.substr(0,3);if("\x3e\x3e\x3e"===W||"\x3c\x3c\x3d"===W||"\x3e\x3e\x3d"===W)return Ia+=3,{type:7,value:W,start:U,end:Ia};W=W.substr(0,2);if(ba===W[1]&&0<="+-\x3c\x3e\x26|".indexOf(ba)||"\x3d\x3e"===W)return Ia+=2,{type:7,value:W,
start:U,end:Ia};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(ba))return++Ia,{type:7,value:ba,start:U,end:Ia};T({},"Unexpected token %0","ILLEGAL")}function y(){var U=va[Ia];N(x(U.charCodeAt(0))||"."===U,"Numeric literal must start with a decimal digit or a decimal point");var W=Ia;var ba="";if("."!==U){ba=va[Ia++];U=va[Ia];if("0"===ba){if("x"===U||"X"===U){++Ia;for(ba="";Ia<bb&&v(va[Ia]);)ba+=va[Ia++];0===ba.length&&T({},"Unexpected token %0","ILLEGAL");g(va.charCodeAt(Ia))&&T({},"Unexpected token %0",
"ILLEGAL");return W={type:6,value:parseInt("0x"+ba,16),start:W,end:Ia}}if(u(U)){for(ba="0"+va[Ia++];Ia<bb&&u(va[Ia]);)ba+=va[Ia++];(g(va.charCodeAt(Ia))||x(va.charCodeAt(Ia)))&&T({},"Unexpected token %0","ILLEGAL");return W={type:6,value:parseInt(ba,8),octal:!0,start:W,end:Ia}}U&&x(U.charCodeAt(0))&&T({},"Unexpected token %0","ILLEGAL")}for(;x(va.charCodeAt(Ia));)ba+=va[Ia++];U=va[Ia]}if("."===U){for(ba+=va[Ia++];x(va.charCodeAt(Ia));)ba+=va[Ia++];U=va[Ia]}if("e"===U||"E"===U){ba+=va[Ia++];U=va[Ia];
if("+"===U||"-"===U)ba+=va[Ia++];if(x(va.charCodeAt(Ia)))for(;x(va.charCodeAt(Ia));)ba+=va[Ia++];else T({},"Unexpected token %0","ILLEGAL")}g(va.charCodeAt(Ia))&&T({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(ba),start:W,end:Ia}}function B(U,W){let ba=U;0<=W.indexOf("u")&&(ba=ba.replace(/\\u\{([0-9a-fA-F]+)\}/g,(ca,ra)=>{if(1114111>=parseInt(ra,16))return"x";T({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(ba)}catch(ca){T({},
"Invalid regular expression")}try{return new RegExp(U,W)}catch(ca){return null}}function D(){f();if(Ia>=bb)return{type:2,start:Ia,end:Ia};var U=va.charCodeAt(Ia);if(g(U)){U=Ia;if(92===va.charCodeAt(Ia))var W=e();else a:{for(W=Ia++;Ia<bb;){var ba=va.charCodeAt(Ia);if(92===ba){Ia=W;W=e();break a}if(d(ba))++Ia;else break}W=va.slice(W,Ia)}return{type:1===W.length?3:Ya.hasOwnProperty(W)?4:"null"===W?5:"true"===W||"false"===W?1:3,value:W,start:U,end:Ia}}if(40===U||41===U||59===U)return n();if(39===U||34===
U){var ca="";ba=!1;U=va[Ia];N("'"===U||'"'===U,"String literal must starts with a quote");W=Ia;for(++Ia;Ia<bb;){var ra=va[Ia++];if(ra===U){U="";break}else if("\\"===ra)if((ra=va[Ia++])&&m(ra.charCodeAt(0)))"\r"===ra&&"\n"===va[Ia]&&++Ia;else switch(ra){case "u":case "x":if("{"===va[Ia]){++Ia;var qa=va[Ia];ra=0;for("}"===qa&&T({},"Unexpected token %0","ILLEGAL");Ia<bb;){qa=va[Ia++];if(!v(qa))break;ra=16*ra+"0123456789abcdef".indexOf(qa.toLowerCase())}(1114111<ra||"}"!==qa)&&T({},"Unexpected token %0",
"ILLEGAL");ra=65535>=ra?String.fromCharCode(ra):String.fromCharCode((ra-65536>>10)+55296,(ra-65536&1023)+56320);ca+=ra}else ca+=a(ra);break;case "n":ca+="\n";break;case "r":ca+="\r";break;case "t":ca+="\t";break;case "b":ca+="\b";break;case "f":ca+="\f";break;case "v":ca+="\x0B";break;default:u(ra)?(qa="01234567".indexOf(ra),0!==qa&&(ba=!0),Ia<bb&&u(va[Ia])&&(ba=!0,qa=8*qa+"01234567".indexOf(va[Ia++]),0<="0123".indexOf(ra)&&Ia<bb&&u(va[Ia])&&(qa=8*qa+"01234567".indexOf(va[Ia++]))),ca+=String.fromCharCode(qa)):
ca+=ra}else if(m(ra.charCodeAt(0)))break;else ca+=ra}""!==U&&T({},"Unexpected token %0","ILLEGAL");return{type:8,value:ca,octal:ba,start:W,end:Ia}}return 46===U?x(va.charCodeAt(Ia+1))?y():n():x(U)?y():n()}function O(){const U=kb;Ia=U.end;kb=D();Ia=U.end;return U}function M(){const U=Ia;kb=D();Ia=U}function F(U,W,ba){const ca=new w("||"===U||"\x26\x26"===U?"LogicalExpression":"BinaryExpression");ca.operator=U;ca.left=W;ca.right=ba;return ca}function z(U){const W=new w("Identifier");W.name=U;return W}
function G(U){const W=new w("Literal");W.value=U.value;W.raw=va.slice(U.start,U.end);U.regex&&("//"===W.raw&&(W.raw="/(?:)/"),W.regex=U.regex);return W}function K(U,W,ba){const ca=new w("MemberExpression");ca.computed="["===U;ca.object=W;ca.property=ba;ca.computed||(ba.member=!0);return ca}function R(U,W,ba){const ca=new w("Property");ca.key=W;ca.value=ba;ca.kind=U;return ca}function T(U,W){var ba=Array.prototype.slice.call(arguments,2),ca=W.replace(/%(\d)/g,(qa,Fa)=>{N(Fa<ba.length,"Message reference must be in range");
return ba[Fa]});var ra=Error(ca);ra.index=Ia;ra.description=ca;throw ra;}function ja(U){2===U.type&&T(U,"Unexpected end of input");6===U.type&&T(U,"Unexpected number");8===U.type&&T(U,"Unexpected string");3===U.type&&T(U,"Unexpected identifier");4===U.type&&T(U,"Unexpected reserved word");T(U,"Unexpected token %0",U.value)}function fa(U){const W=O();7===W.type&&W.value===U||ja(W)}function ha(U){return 7===kb.type&&kb.value===U}function la(){Ia=kb.start;const U=O();return 8===U.type||6===U.type?(U.octal&&
T(U,"Octal literals are not allowed in strict mode."),G(U)):z(U.value)}function Z(){if(ha("(")){fa("(");var U=aa();fa(")");return U}if(ha("[")){U=[];Ia=kb.start;for(fa("[");!ha("]");)ha(",")?(O(),U.push(null)):(U.push(ia()),ha("]")||fa(","));O();var W=new w("ArrayExpression");W.elements=U;return U=W}if(ha("{")){U=[];W={};var ba=String;Ia=kb.start;for(fa("{");!ha("}");){Ia=kb.start;var ca=kb;if(3===ca.type){var ra=la();fa(":");ca=ia();ca=R("init",ra,ca)}else 2===ca.type||7===ca.type?(ja(ca),ca=void 0):
(ra=la(),fa(":"),ca=ia(),ca=R("init",ra,ca));ra="Identifier"===ca.key.type?ca.key.name:ba(ca.key.value);ra="$"+ra;Object.prototype.hasOwnProperty.call(W,ra)?T({},"Duplicate data property in object literal not allowed in strict mode"):W[ra]=!0;U.push(ca);ha("}")||fa(",")}fa("}");W=new w("ObjectExpression");W.properties=U;return U=W}U=kb.type;Ia=kb.start;if(3===U||Da[kb.value])W=z(O().value);else if(8===U||6===U)kb.octal&&T(kb,"Octal literals are not allowed in strict mode."),W=G(O());else{if(4===U)throw Error("Disabled.");
if(1===U)U=O(),U.value="true"===U.value,W=G(U);else if(5===U)U=O(),U.value=null,W=G(U);else if(ha("/")||ha("/\x3d")){var qa;kb=null;f();U=Ia;W=va[Ia];N("/"===W,"Regular expression literal must start with a slash");ba=va[Ia++];for(ra=ca=!1;Ia<bb;)if(W=va[Ia++],ba+=W,"\\"===W)W=va[Ia++],m(W.charCodeAt(0))&&T({},"Invalid regular expression: missing /"),ba+=W;else if(m(W.charCodeAt(0)))T({},"Invalid regular expression: missing /");else if(ca)"]"===W&&(ca=!1);else if("/"===W){ra=!0;break}else"["===W&&
(ca=!0);ra||T({},"Invalid regular expression: missing /");W=ba.substr(1,ba.length-2);for(qa=ra="";Ia<bb;){ca=va[Ia];if(!d(ca.charCodeAt(0)))break;++Ia;"\\"===ca&&Ia<bb?T({},"Unexpected token %0","ILLEGAL"):(qa+=ca,ra+=ca)}0<=qa.search(/[^gimuy]/g)&&T({},"Invalid regular expression",qa);ca=qa;qa=B(W,ca);W=G({literal:ba+ra,value:qa,regex:{pattern:W,flags:ca},start:U,end:Ia});M()}else ja(O())}return W}function P(){var U;for(U=Z();;)if(ha(".")){fa(".");Ia=kb.start;var W=O();3===W.type||4===W.type||1===
W.type||5===W.type||ja(W);W=z(W.value);U=K(".",U,W)}else if(ha("(")){W=[];fa("(");if(!ha(")"))for(;Ia<bb;){W.push(ia());if(ha(")"))break;fa(",")}fa(")");{const ba=new w("CallExpression");ba.callee=U;ba.arguments=W;U=ba}}else if(ha("["))fa("["),W=aa(),fa("]"),U=K("[",U,W);else break;if(7===kb.type&&(ha("++")||ha("--")))throw Error("Disabled.");return U}function C(){if(7!==kb.type&&4!==kb.type)var U=P();else{if(ha("++")||ha("--"))throw Error("Disabled.");if(ha("+")||ha("-")||ha("~")||ha("!")){var W=
O();U=C();{W=W.value;const ba=new w("UnaryExpression");ba.operator=W;ba.argument=U;ba.prefix=!0;U=ba}}else{if(4===kb.type&&"delete"===kb.value||4===kb.type&&"void"===kb.value||4===kb.type&&"typeof"===kb.value)throw Error("Disabled.");U=P()}}return U}function V(U){let W=0;if(7!==U.type&&4!==U.type)return 0;switch(U.value){case "||":W=1;break;case "\x26\x26":W=2;break;case "|":W=3;break;case "^":W=4;break;case "\x26":W=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":W=6;break;
case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":W=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":W=8;break;case "+":case "-":W=9;break;case "*":case "/":case "%":W=11}return W}function ia(){var U=kb;var W=C();var ba=kb;var ca=V(ba);if(0===ca)var ra=W;else{ba.prec=ca;O();U=[U,kb];var qa=C();for(ra=[W,ba,qa];0<(ca=V(kb));){for(;2<ra.length&&ca<=ra[ra.length-2].prec;)qa=ra.pop(),ba=ra.pop().value,W=ra.pop(),U.pop(),W=F(ba,W,qa),ra.push(W);ba=O();ba.prec=
ca;ra.push(ba);U.push(kb);W=C();ra.push(W)}ca=ra.length-1;W=ra[ca];for(U.pop();1<ca;)U.pop(),W=F(ra[ca-1].value,ra[ca-2],W),ca-=2;ra=W}ha("?")&&(O(),U=ia(),fa(":"),ca=ia(),W=new w("ConditionalExpression"),W.test=ra,W.consequent=U,W.alternate=ca,ra=W);return ra}function aa(){const U=ia();if(ha(","))throw Error("Disabled.");return U}function ya(U){function W(ba,ca,ra){return qa=>{{let Fa=U(qa[0]);ca&&(Fa=ca+"("+Fa+")",0===ca.lastIndexOf("new ",0)&&(Fa="("+Fa+")"));qa=Fa+"."+ba+(0>ra?"":0===ra?"()":
"("+qa.slice(1).map(U).join(",")+")")}return qa}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(ba){3>ba.length&&l.error("Missing arguments to clamp function.");3<ba.length&&l.error("Too many arguments to clamp function.");
ba=ba.map(U);return"Math.max("+ba[1]+", Math.min("+ba[2]+","+ba[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:W("getDate","new Date",0),day:W("getDay","new Date",0),year:W("getFullYear","new Date",0),month:W("getMonth","new Date",0),hours:W("getHours","new Date",0),minutes:W("getMinutes","new Date",0),seconds:W("getSeconds","new Date",0),milliseconds:W("getMilliseconds","new Date",0),time:W("getTime","new Date",0),timezoneoffset:W("getTimezoneOffset","new Date",0),utcdate:W("getUTCDate",
"new Date",0),utcday:W("getUTCDay","new Date",0),utcyear:W("getUTCFullYear","new Date",0),utcmonth:W("getUTCMonth","new Date",0),utchours:W("getUTCHours","new Date",0),utcminutes:W("getUTCMinutes","new Date",0),utcseconds:W("getUTCSeconds","new Date",0),utcmilliseconds:W("getUTCMilliseconds","new Date",0),length:W("length",null,-1),join:W("join",null),indexof:W("indexOf",null),lastindexof:W("lastIndexOf",null),slice:W("slice",null),reverse:function(ba){return"("+U(ba[0])+").slice().reverse()"},parseFloat:"parseFloat",
parseInt:"parseInt",upper:W("toUpperCase","String",0),lower:W("toLowerCase","String",0),substring:W("substring","String"),split:W("split","String"),replace:W("replace","String"),trim:W("trim","String",0),regexp:"RegExp",test:W("test","RegExp"),if:function(ba){3>ba.length&&l.error("Missing arguments to if function.");3<ba.length&&l.error("Too many arguments to if function.");ba=ba.map(U);return"("+ba[0]+"?"+ba[1]+":"+ba[2]+")"}}}w.prototype.visit=function(U){let W,ba,ca;if(U(this))return 1;W=H(this);
ba=0;for(ca=W.length;ba<ca;++ba)if(W[ba].visit(U))return 1};var va,Ia,bb,kb,ua=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ta=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Ya={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Da={"if":1};var ta={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};k.ASTNode=w;k.ArrayExpression="ArrayExpression";k.BinaryExpression="BinaryExpression";k.CallExpression="CallExpression";k.ConditionalExpression="ConditionalExpression";k.Identifier="Identifier";k.Literal="Literal";k.LogicalExpression="LogicalExpression";k.MemberExpression="MemberExpression";k.ObjectExpression="ObjectExpression";
k.Property="Property";k.RawCode="RawCode";k.UnaryExpression="UnaryExpression";k.codegen=function(U){function W(Ha){if(l.isString(Ha))return Ha;const Ua=pa[Ha.type];null==Ua&&l.error("Unsupported type: "+Ha.type);return Ua(Ha)}function ba(Ha){Ha={code:W(Ha),globals:Object.keys($a),fields:Object.keys(Ca)};$a={};Ca={};return Ha}U=U||{};const ca=U.allowed?l.toSet(U.allowed):{},ra=U.forbidden?l.toSet(U.forbidden):{},qa=U.constants||ta,Fa=(U.functions||ya)(W),na=U.globalvar,Ra=U.fieldvar,db=l.isFunction(na)?
na:Ha=>`${na}["${Ha}"]`;let $a={},Ca={},Ga=0;const pa={Literal:Ha=>Ha.raw,Identifier:Ha=>{Ha=Ha.name;if(0<Ga)return Ha;if(l.hasOwnProperty(ra,Ha))return l.error("Illegal identifier: "+Ha);if(l.hasOwnProperty(qa,Ha))return qa[Ha];if(l.hasOwnProperty(ca,Ha))return Ha;$a[Ha]=1;return db(Ha)},MemberExpression:Ha=>{const Ua=!Ha.computed,jb=W(Ha.object);Ua&&(Ga+=1);Ha=W(Ha.property);if(jb===Ra){var Fb=Ca;var Xb=(Xb=Ha&&Ha.length-1)&&('"'===Ha[0]&&'"'===Ha[Xb]||"'"===Ha[0]&&"'"===Ha[Xb])?Ha.slice(1,-1):
Ha;Fb[Xb]=1}Ua&&--Ga;return jb+(Ua?"."+Ha:"["+Ha+"]")},CallExpression:Ha=>{"Identifier"!==Ha.callee.type&&l.error("Illegal callee type: "+Ha.callee.type);const Ua=Ha.callee.name;Ha=Ha.arguments;const jb=l.hasOwnProperty(Fa,Ua)&&Fa[Ua];jb||l.error("Unrecognized function: "+Ua);return l.isFunction(jb)?jb(Ha):jb+"("+Ha.map(W).join(",")+")"},ArrayExpression:Ha=>"["+Ha.elements.map(W).join(",")+"]",BinaryExpression:Ha=>"("+W(Ha.left)+Ha.operator+W(Ha.right)+")",UnaryExpression:Ha=>"("+Ha.operator+W(Ha.argument)+
")",ConditionalExpression:Ha=>"("+W(Ha.test)+"?"+W(Ha.consequent)+":"+W(Ha.alternate)+")",LogicalExpression:Ha=>"("+W(Ha.left)+Ha.operator+W(Ha.right)+")",ObjectExpression:Ha=>"{"+Ha.properties.map(W).join(",")+"}",Property:Ha=>{Ga+=1;const Ua=W(Ha.key);--Ga;return Ua+":"+W(Ha.value)}};ba.functions=Fa;ba.constants=qa;return ba};k.constants=ta;k.functions=ya;k.parse=function(U){va=U;Ia=0;bb=va.length;kb=null;M();U=aa();if(2!==kb.type)throw Error("Unexpect token after expression.");return U};Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[57]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(56)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega))})(this,function(k,l,w){function H(d){return(f,a)=>{f=d(f);return f<a?-1:f>a?1:f>=a?0:NaN}}function N(d,f){var a=f.fields;f=f.values;for(var e=a.length,n=0,y,B;n<e;++n)if(B=a[n],B.getter=l.field.getter||l.field(B.field),
y=B.getter(d),l.isDate(y)&&(y=l.toNumber(y)),l.isDate(f[n])&&(f[n]=l.toNumber(f[n])),l.isDate(f[n][0])&&(f[n]=f[n].map(l.toNumber)),"E"===B.type){if(l.isArray(f[n])?0>f[n].indexOf(y):y!==f[n])return!1}else if("R"===B.type){if(!l.inrange(y,f[n]))return!1}else if("R-RE"===B.type){if(!l.inrange(y,f[n],!0,!1))return!1}else if("R-E"===B.type){if(!l.inrange(y,f[n],!1,!1))return!1}else if("R-LE"===B.type&&!l.inrange(y,f[n],!1,!0))return!1;return!0}const x=l.field("_vgsid_"),v=function(d){function f(n,y,
B,D){null==B&&(B=0);null==D&&(D=n.length);for(;B<D;){const O=B+D>>>1;0>e(n[O],y)?B=O+1:D=O}return B}let a=d,e=d;1===d.length&&(a=(n,y)=>d(n)-y,e=H(d));return{left:f,center:function(n,y,B,D){null==B&&(B=0);null==D&&(D=n.length);D=f(n,y,B,D-1);return D>B&&a(n[D-1],y)>-a(n[D],y)?D-1:D},right:function(n,y,B,D){null==B&&(B=0);null==D&&(D=n.length);for(;B<D;){const O=B+D>>>1;0<e(n[O],y)?D=O:B=O+1}return B}}}(x),u=v.left,m=v.right;var g={E_union:function(d,f){if(!d.length)return f;for(var a=0,e=f.length;a<
e;++a)0>d.indexOf(f[a])&&d.push(f[a]);return d},E_intersect:function(d,f){return d.length?d.filter(a=>0<=f.indexOf(a)):f},R_union:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];d[0]>a&&(d[0]=a);d[1]<e&&(d[1]=e);return d},R_intersect:function(d,f){var a=l.toNumber(f[0]),e=l.toNumber(f[1]);a>e&&(a=f[1],e=f[0]);if(!d.length)return[a,e];if(e<d[0]||d[1]<a)return[];d[0]<a&&(d[0]=a);d[1]>e&&(d[1]=e);return d}};k.selectionIdTest=function(d,f,a){var e=
this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;f=x(f);const n=u(d,f);if(n===d.length||x(d[n])!==f)return!1;if(e&&a){if(1===e.size)return!0;if(m(d,f)-n<e.size)return!1}return!0};k.selectionResolve=function(d,f,a,e){d=(d=this.context.data[d])?d.values.value:[];for(var n={},y={},B={},D,O,M,F,z,G,K=d.length,R=0,T,ja;R<K;++R){D=d[R];M=D.unit;O=D.fields;D=D.values;T=0;for(ja=O.length;T<ja;++T)F=O[T],z=n[F.field]||(n[F.field]={}),G=z[M]||(z[M]=
[]),B[F.field]=F=F.type.charAt(0),F=g[F+"_union"],z[M]=F(G,l.array(D[T]));a&&(G=y[M]||(y[M]=[]),G.push(l.array(D).reduce((fa,ha,la)=>(fa[O[la].field]=ha,fa),{})))}f=f||"union";Object.keys(n).forEach(fa=>{n[fa]=Object.keys(n[fa]).map(ha=>n[fa][ha]).reduce((ha,la)=>void 0===ha?la:g[B[fa]+"_"+f](ha,la))});d=Object.keys(y);a&&d.length&&(n[e?"vlPoint":"vlMulti"]="union"===f?{["or"]:d.reduce((fa,ha)=>(fa.push(...y[ha]),fa),[])}:{["and"]:d.map(fa=>({["or"]:y[fa]}))});return n};k.selectionTest=function(d,
f,a){var e=this.context.data[d];d=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;for(var n=d.length,y=0,B,D,O,M;y<n;++y)if(B=d[y],e&&a){if(D=D||{},O=D[M=B.unit]||0,-1!==O){B=N(f,B);D[M]=B?-1:++O;if(B&&1===e.size)return!0;if(!B&&O===e.get(M).count)return!1}}else if(B=N(f,B),a^B)return B;return n&&a};k.selectionTuples=function(d,f){return d.map(a=>l.extend({values:f.fields.map(e=>(e.getter||(e.getter=l.field(e.field)))(a.datum))},f))};k.selectionVisitor=function(d,
f,a,e){f[0].type!==w.Literal&&l.error("First argument to selection functions must be a string literal.");d=f[0].value;f=2<=f.length&&l.peek(f).value;const n=":"+d;"intersect"!==f||l.hasOwnProperty(e,"@unit")||(e["@unit"]=a.getData(d).indataRef(a,"unit"));l.hasOwnProperty(e,n)||(e[n]=a.getData(d).tuplesRef())};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[58]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(56),A(39),A(32),A(26),A(35),A(36),A(57),A(27),A(18),A(15)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.d3,k.d3,k.vega,k.vega,k.vega,k.vega,k.vega,k.vega,
k.d3))})(this,function(k,l,w,H,N,x,v,u,m,g,d,f){function a(Eb){return(Eb=this.context.data[Eb])?Eb.values.value:[]}function e(Eb,zc,Vc){return(Vc=(Eb=this.context.data[Eb]["index:"+zc])?Eb.value.get(Vc):void 0)?Vc.count:Vc}function n(Eb,zc){const Vc=this.context.dataflow;Vc.pulse(this.context.data[Eb].input,Vc.changeset().remove(l.truthy).insert(zc));return 1}function y(Eb,zc,Vc){if(Eb){const Ed=this.context.dataflow;Ed.pulse(Eb.mark.source,Ed.changeset().encode(Eb,zc))}return void 0!==Vc?Vc:Eb}function B(Eb,
zc,Vc){if(!Number.isInteger(Eb)||!Number.isInteger(zc))return"";Uc.setYear(2E3);Uc.setMonth(Eb);Uc.setDate(zc);return rc.call(this,Uc,Vc)}function D(Eb){return B.call(this,Eb,1,"%B")}function O(Eb){return B.call(this,Eb,1,"%b")}function M(Eb){return B.call(this,0,2+Eb,"%A")}function F(Eb){return B.call(this,0,2+Eb,"%a")}function z(Eb,zc,Vc,Ed){zc[0].type!==w.Literal&&l.error("First argument to data functions must be a string literal.");Eb=zc[0].value;zc=":"+Eb;if(!l.hasOwnProperty(zc,Ed))try{Ed[zc]=
Vc.getData(Eb).tuplesRef()}catch(Vd){}}function G(Eb,zc,Vc,Ed){zc[0].type!==w.Literal&&l.error("First argument to indata must be a string literal.");zc[1].type!==w.Literal&&l.error("Second argument to indata must be a string literal.");Eb=zc[0].value;zc=zc[1].value;const Vd="@"+zc;l.hasOwnProperty(Vd,Ed)||(Ed[Vd]=Vc.getData(Eb).indataRef(Vc,zc))}function K(Eb,zc,Vc,Ed){if(zc[0].type===w.Literal)R(Vc,Ed,zc[0].value);else for(Eb in Vc.scales)R(Vc,Ed,Eb)}function R(Eb,zc,Vc){const Ed="%"+Vc;if(!l.hasOwnProperty(zc,
Ed))try{zc[Ed]=Eb.scaleRef(Vc)}catch(Vd){}}function T(Eb,zc){let Vc;return l.isFunction(Eb)?Eb:l.isString(Eb)?(Vc=zc.scales[Eb])&&Vc.value:void 0}function ja(Eb,zc,Vc){zc.__bandwidth=Vd=>Vd&&Vd.bandwidth?Vd.bandwidth():0;Vc._bandwidth=K;Vc._range=K;Vc._scale=K;const Ed=Vd=>"_["+(Vd.type===w.Literal?l.stringValue("%"+Vd.value):l.stringValue("%")+"+"+Eb(Vd))+"]";return{_bandwidth:Vd=>`this.__bandwidth(${Ed(Vd[0])})`,_range:Vd=>`${Ed(Vd[0])}.range()`,_scale:Vd=>`${Ed(Vd[0])}(${Eb(Vd[1])})`}}function fa(Eb,
zc){return function(Vc,Ed,Vd){return Vc?(Vc=T(Vc,(Vd||this).context))&&Vc.path[Eb](Ed):zc(Ed)}}function ha(Eb){const zc=this.context.group;let Vc=!1;if(zc)for(;Eb;){if(Eb===zc){Vc=!0;break}Eb=Eb.mark.group}return Vc}function la(Eb,zc,Vc){try{Eb[zc].apply(Eb,["EXPRESSION"].concat([].slice.call(Vc)))}catch(Ed){Eb.warn(Ed)}return Vc[Vc.length-1]}function Z(){return la(this.context.dataflow,"warn",arguments)}function P(){return la(this.context.dataflow,"info",arguments)}function C(){return la(this.context.dataflow,
"debug",arguments)}function V(Eb){Eb/=255;return.03928>=Eb?Eb/12.92:Math.pow((Eb+.055)/1.055,2.4)}function ia(Eb){var zc=N.rgb(Eb);Eb=V(zc.r);const Vc=V(zc.g);zc=V(zc.b);return.2126*Eb+.7152*Vc+.0722*zc}function aa(Eb,zc){Eb=ia(Eb);zc=ia(zc);return(Math.max(Eb,zc)+.05)/(Math.min(Eb,zc)+.05)}function ya(){const Eb=[].slice.call(arguments);Eb.unshift({});return l.extend(...Eb)}function va(Eb,zc){if(Eb===zc||Eb!==Eb&&zc!==zc)Eb=!0;else if(l.isArray(Eb))if(l.isArray(zc)&&Eb.length===zc.length)a:{for(let Vc=
0,Ed=Eb.length;Vc<Ed;++Vc)if(!va(Eb[Vc],zc[Vc])){Eb=!1;break a}Eb=!0}else Eb=!1;else Eb=l.isObject(Eb)&&l.isObject(zc)?Ia(Eb,zc):!1;return Eb}function Ia(Eb,zc){for(const Vc in Eb)if(!va(Eb[Vc],zc[Vc]))return!1;return!0}function bb(Eb){return zc=>Ia(Eb,zc)}function kb(Eb,zc,Vc,Ed,Vd,Ka){const eb=this.context.dataflow,wb=this.context.data[Eb],Hb=wb.input;Eb=eb.stamp();let ac=wb.changes,Lb;if(!1===eb._trigger||!(Hb.value.length||zc||Ed))return 0;if(!ac||ac.stamp<Eb)wb.changes=ac=eb.changeset(),ac.stamp=
Eb,eb.runAfter(()=>{wb.modified=!0;eb.pulse(Hb,ac).run()},!0,1);Vc&&(Vc=!0===Vc?l.truthy:l.isArray(Vc)||x.isTuple(Vc)?Vc:bb(Vc),ac.remove(Vc));zc&&ac.insert(zc);Ed&&(Vc=bb(Ed),Hb.value.some(Vc)?ac.remove(Vc):ac.insert(Ed));if(Vd)for(Lb in Ka)ac.modify(Vd,Lb,Ka[Lb]);return 1}function ua(Eb){var zc=Eb.touches;Eb=zc[0].clientX-zc[1].clientX;zc=zc[0].clientY-zc[1].clientY;return Math.sqrt(Eb*Eb+zc*zc)}function Ta(Eb){Eb=Eb.touches;return Math.atan2(Eb[0].clientY-Eb[1].clientY,Eb[0].clientX-Eb[1].clientX)}
function Ya(Eb,zc){zc=Fd[zc]||(Fd[zc]=l.field(zc));return l.isArray(Eb)?Eb.map(zc):zc(Eb)}function Da(Eb){return l.isArray(Eb)||ArrayBuffer.isView(Eb)?Eb:null}function ta(Eb){return Da(Eb)||(l.isString(Eb)?Eb:null)}function U(Eb,...zc){return Da(Eb).join(...zc)}function W(Eb,...zc){return ta(Eb).indexOf(...zc)}function ba(Eb,...zc){return ta(Eb).lastIndexOf(...zc)}function ca(Eb,...zc){return ta(Eb).slice(...zc)}function ra(Eb,zc,Vc){l.isFunction(Vc)&&l.error("Function argument passed to replace.");
return String(Eb).replace(zc,Vc)}function qa(Eb){return Da(Eb).slice().reverse()}function Fa(Eb,zc,Vc){return v.bandSpace(Eb||0,zc||0,Vc||0)}function na(Eb,zc){return(Eb=T(Eb,(zc||this).context))&&Eb.bandwidth?Eb.bandwidth():0}function Ra(Eb,zc){return(Eb=T(Eb,(zc||this).context))?Eb.copy():void 0}function db(Eb,zc){return(Eb=T(Eb,(zc||this).context))?Eb.domain():[]}function $a(Eb,zc,Vc){return(Eb=T(Eb,(Vc||this).context))?l.isArray(zc)?(Eb.invertRange||Eb.invert)(zc):(Eb.invert||Eb.invertExtent)(zc):
void 0}function Ca(Eb,zc){return(Eb=T(Eb,(zc||this).context))&&Eb.range?Eb.range():[]}function Ga(Eb,zc,Vc){return(Eb=T(Eb,(Vc||this).context))?Eb(zc):void 0}function pa(Eb,zc,Vc,Ed,Vd){Eb=T(Eb,(Vd||this).context);const Ka=u.Gradient(zc,Vc);zc=Eb.domain();Vc=zc[0];Vd=l.peek(zc);let eb=l.identity;Vd-Vc?eb=v.scaleFraction(Eb,Vc,Vd):Eb=(Eb.interpolator?v.scale("sequential")().interpolator(Eb.interpolator()):v.scale("linear")().interpolate(Eb.interpolate()).range(Eb.range())).domain([Vc=0,Vd=1]);Eb.ticks&&
(zc=Eb.ticks(+Ed||15),Vc!==zc[0]&&zc.unshift(Vc),Vd!==l.peek(zc)&&zc.push(Vd));zc.forEach(wb=>Ka.stop(eb(wb),Eb(wb)));return Ka}function Ha(Eb,zc,Vc){const Ed=T(Eb,(Vc||this).context);return function(Vd){return Ed?Ed.path.context(Vd)(zc):""}}function Ua(Eb){let zc=null;return function(Vc){return Vc?u.pathRender(Vc,zc=zc||u.pathParse(Eb)):Eb}}function jb(Eb,zc){Eb=a.call(zc,Eb);return Eb.root&&Eb.root.lookup||{}}function Fb(Eb,zc,Vc){Eb=jb(Eb,this);zc=Eb[zc];Vc=Eb[Vc];return zc&&Vc?zc.path(Vc).map(ge):
void 0}function Xb(Eb,zc){return(Eb=jb(Eb,this)[zc])?Eb.ancestors().map(ge):void 0}function nc(){const Eb="undefined"!==typeof window&&window||null;return Eb?Eb.screen:{}}function md(){const Eb="undefined"!==typeof window&&window||null;return Eb?[Eb.innerWidth,Eb.innerHeight]:[void 0,void 0]}function pc(){var Eb=this.context.dataflow;return(Eb=Eb.container&&Eb.container())?[Eb.clientWidth,Eb.clientHeight]:[void 0,void 0]}function Hc(Eb){let zc=null;if(Eb){const Vc=l.array(Eb.marktype),Ed=l.array(Eb.markname);
zc=Vd=>(!Vc.length||Vc.some(Ka=>Vd.marktype===Ka))&&(!Ed.length||Ed.some(Ka=>Vd.name===Ka))}return zc}function mb(Eb,zc,Vc){if(1===arguments.length)return wd[Eb];wd[Eb]=zc;Vc&&(Wd[Eb]=Vc);gc&&(gc.functions[Eb]="this."+Eb);return this}var hc=Eb=>function(zc,Vc){return this.context.dataflow.locale()[Eb](Vc)(zc)};const jc=hc("format"),rc=hc("timeFormat"),Pc=hc("utcFormat"),sc=hc("timeParse");hc=hc("utcParse");const Uc=new Date(2E3,0,1),Sc=fa("area",H.geoArea),Lc=fa("bounds",H.geoBounds);H=fa("centroid",
H.geoCentroid);const Fd={},ge=Eb=>Eb.data,wd={random(){return g.random()},cumulativeNormal:g.cumulativeNormal,cumulativeLogNormal:g.cumulativeLogNormal,cumulativeUniform:g.cumulativeUniform,densityNormal:g.densityNormal,densityLogNormal:g.densityLogNormal,densityUniform:g.densityUniform,quantileNormal:g.quantileNormal,quantileLogNormal:g.quantileLogNormal,quantileUniform:g.quantileUniform,sampleNormal:g.sampleNormal,sampleLogNormal:g.sampleLogNormal,sampleUniform:g.sampleUniform,isArray:l.isArray,
isBoolean:l.isBoolean,isDate:l.isDate,isDefined(Eb){return void 0!==Eb},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:x.isTuple,isValid(Eb){return null!=Eb&&Eb===Eb},toBoolean:l.toBoolean,toDate:l.toDate,toNumber:l.toNumber,toString:l.toString,indexof:W,join:U,lastindexof:ba,replace:ra,reverse:qa,slice:ca,flush:l.flush,lerp:l.lerp,merge:ya,pad:l.pad,peek:l.peek,pluck:Ya,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:N.rgb,lab:N.lab,hcl:N.hcl,hsl:N.hsl,
luminance:ia,contrast:aa,sequence:f.range,format:jc,utcFormat:Pc,utcParse:hc,utcOffset:d.utcOffset,utcSequence:d.utcSequence,timeFormat:rc,timeParse:sc,timeOffset:d.timeOffset,timeSequence:d.timeSequence,timeUnitSpecifier:d.timeUnitSpecifier,monthFormat:D,monthAbbrevFormat:O,dayFormat:M,dayAbbrevFormat:F,quarter:l.quarter,utcquarter:l.utcquarter,week:d.week,utcweek:d.utcweek,dayofyear:d.dayofyear,utcdayofyear:d.utcdayofyear,warn:Z,info:P,debug:C,extent:l.extent,inScope:ha,intersect:function(Eb,zc,
Vc){if(!Eb)return[];const [Ed,Vd]=Eb;Eb=(new u.Bounds).set(Ed[0],Ed[1],Vd[0],Vd[1]);Vc=Vc||this.context.dataflow.scenegraph().root;return u.intersect(Vc,Eb,Hc(zc))},clampRange:l.clampRange,pinchDistance:ua,pinchAngle:Ta,screen:nc,containerSize:pc,windowSize:md,bandspace:Fa,setdata:n,pathShape:Ua,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:y,modify:kb},vd="view item group xy x y".split(" "),
Wd={},Pb={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Eb=>`_[${l.stringValue("$"+Eb)}]`,functions:function(Eb){const zc=w.functions(Eb);vd.forEach(Vc=>zc[Vc]="event.vega."+Vc);for(const Vc in wd)zc[Vc]="this."+Vc;l.extend(zc,ja(Eb,wd,Wd));return zc},constants:w.constants,visitors:Wd},gc=w.codegen(Pb);mb("bandwidth",na,K);mb("copy",Ra,K);mb("domain",db,K);mb("range",Ca,K);mb("invert",$a,K);mb("scale",Ga,K);mb("gradient",pa,K);mb("geoArea",Sc,K);mb("geoBounds",Lc,K);
mb("geoCentroid",H,K);mb("geoShape",Ha,K);mb("indata",e,G);mb("data",a,z);mb("treePath",Fb,z);mb("treeAncestors",Xb,z);mb("vlSelectionTest",m.selectionTest,m.selectionVisitor);mb("vlSelectionIdTest",m.selectionIdTest,m.selectionVisitor);mb("vlSelectionResolve",m.selectionResolve,m.selectionVisitor);mb("vlSelectionTuples",m.selectionTuples);k.DataPrefix=":";k.IndexPrefix="@";k.ScalePrefix="%";k.SignalPrefix="$";k.bandspace=Fa;k.bandwidth=na;k.codeGenerator=gc;k.codegenParams=Pb;k.containerSize=pc;
k.contrast=aa;k.copy=Ra;k.data=a;k.dataVisitor=z;k.dayAbbrevFormat=F;k.dayFormat=M;k.debug=C;k.domain=db;k.encode=y;k.expressionFunction=mb;k.format=jc;k.functionContext=wd;k.geoArea=Sc;k.geoBounds=Lc;k.geoCentroid=H;k.geoShape=Ha;k.inScope=ha;k.indata=e;k.indataVisitor=G;k.indexof=W;k.info=P;k.invert=$a;k.join=U;k.lastindexof=ba;k.luminance=ia;k.merge=ya;k.modify=kb;k.monthAbbrevFormat=O;k.monthFormat=D;k.parseExpression=function(Eb,zc){const Vc={};let Ed;try{Eb=l.isString(Eb)?Eb:l.stringValue(Eb)+
"",Ed=w.parse(Eb)}catch(Vd){l.error("Expression parse error: "+Eb)}Ed.visit(Vd=>{if(Vd.type===w.CallExpression){var Ka=Vd.callee.name,eb=Pb.visitors[Ka];eb&&eb(Ka,Vd.arguments,zc,Vc)}});Eb=gc(Ed);Eb.globals.forEach(Vd=>{const Ka="$"+Vd;!l.hasOwnProperty(Vc,Ka)&&zc.getSignal(Vd)&&(Vc[Ka]=zc.signalRef(Vd))});return{$expr:l.extend({code:Eb.code},zc.options.ast?{ast:Ed}:null),$fields:Eb.fields,$params:Vc}};k.pathShape=Ua;k.pinchAngle=Ta;k.pinchDistance=ua;k.pluck=Ya;k.range=Ca;k.replace=ra;k.reverse=
qa;k.scale=Ga;k.scaleGradient=pa;k.scaleVisitor=K;k.screen=nc;k.setdata=n;k.slice=ca;k.timeFormat=rc;k.timeParse=sc;k.treeAncestors=Xb;k.treePath=Fb;k.utcFormat=Pc;k.utcParse=hc;k.warn=Z;k.windowSize=md;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[59]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega))})(this,function(k,l,w){function H(a,e,n){";"!==n[n.length-1]&&(n="return("+n+");");e=Function(...e.concat(n));return a&&a.functions?e.bind(a.functions):e}function N(a,e,n){if(!a||!l.isObject(a))return a;for(let y=0,
B=d.length,D;y<B;++y)if(D=d[y],l.hasOwnProperty(a,D.key))return D.parse(a,e,n);return a}function x(a,e,n,y){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=y||g;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};n&&(this.functions=Object.create(n),this.functions.context=this)}function v(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const u=l.toSet(["rule"]),m=l.toSet(["group","image","rect"]);var g={operator:(a,e)=>H(a,["_"],e.code),parameter:(a,e)=>H(a,["datum","_"],e.code),event:(a,e)=>H(a,["event"],e.code),handler:(a,e)=>H(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:n,channels:y}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var B in y){const D="o["+l.stringValue(B)+"]";e+=`$=${y[B].code};if(${D}!==$)${D}=$,m=1;`}B="";u[n]||(y.x2&&(y.x?(m[n]&&(B+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),B+="o.width\x3do.x2-o.x;"):B+="o.x\x3do.x2-(o.width||0);"),y.xc&&(B+="o.x\x3do.xc-(o.width||0)/2;"),y.y2&&(y.y?(m[n]&&(B+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),B+="o.height\x3do.y2-o.y;"):B+="o.y\x3do.y2-(o.height||0);"),y.yc&&(B+="o.y\x3do.yc-(o.height||0)/2;"));e+=B;return H(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(l.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let n;a=Function("a","b","var u, v; return "+a.map((y,B)=>{const D=e[B];let O;y.path?(O=`a${y.path}`,y=`b${y.path}`):((n=n||{})["f"+B]=y,O=`this.f${B}(a)`,y=`this.f${B}(b)`);B=-D;return`((u = ${O}) < (v = ${y}) || u == null) && v != null ? ${B}
  : (u > v || v == null) && u != null ? ${D}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${B}
  : v !== v && u === u ? ${D} : `}).join("")+"0;");return n?a.bind(n):a}}},d=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||l.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const n="k:"+a.$key+"_"+!!a.$flat;return e.fn[n]||(e.fn[n]=l.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,n){a.$params&&e.parseParameters(a.$params,n);n="e:"+a.$expr.code+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const n="f:"+a.$field+"_"+a.$name;return e.fn[n]||(e.fn[n]=l.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const n={};for(const y in a){const B=a[y];n[y]=l.accessor(e.encodeExpression(B.$expr),B.$fields);n[y].output=B.$output}return n}},{key:"$compare",parse:function(a,e){const n="c:"+a.$compare+"_"+a.$order,y=l.array(a.$compare).map(B=>B&&B.$tupleid?w.tupleid:B);return e.fn[n]||(e.fn[n]=l.compare(y,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const n=a.$subflow;return function(y,B,D){const O=e.fork().parse(n);y=O.get(n.operators[0].id);(B=O.signals.parent)&&B.set(D);y.detachSubflow=()=>e.detach(O);return y}}},{key:"$tupleid",parse:function(){return w.tupleid}}];const f={skip:!0};x.prototype=v.prototype={fork(){const a=new v(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(n=>
n!==a);const e=Object.keys(a.nodes);for(const n of e)a.nodes[n]._targets=null;for(const n of e)a.nodes[n].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const n=this,y=n.dataflow,B=a.value;n.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&B&&(B.$ingest?y.ingest(e,B.$ingest,B.$format):B.$request?y.preload(e,B.$request,B.$format):y.pulse(e,y.changeset().insert(B)));a.root&&(n.root=e);if(a.parent){let D=n.get(a.parent.$ref);D?(y.connect(D,[e]),e.targets().add(D)):
(n.unresolved=n.unresolved||[]).push(()=>{D=n.get(a.parent.$ref);y.connect(D,[e]);e.targets().add(D)})}a.signal&&(n.signals[a.signal]=e);a.scale&&(n.scales[a.scale]=e);if(a.data)for(const D in a.data){const O=n.data[D]||(n.data[D]={});a.data[D].forEach(M=>O[M]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,n,y,B){this.dataflow.on(e,n,y,B,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,n=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);n.forEach(y=>
e.parseOperator(y));n.forEach(y=>e.parseOperatorParameters(y));(a.streams||[]).forEach(y=>e.parseStream(y));(a.updates||[]).forEach(y=>e.parseUpdate(y));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||l.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const n=this;for(const y in a){const B=a[y];e[y]=l.isArray(B)?B.map(D=>N(D,n,e)):N(B,n,e)}return e},parseStream:function(a){var e=this,n=null!=a.filter?e.eventExpression(a.filter):void 0,y=null!=a.stream?e.get(a.stream):void 0;if(a.source)y=e.events(a.source,a.type,n);else if(a.merge){var B=a.merge.map(D=>e.get(D));y=B[0].merge.apply(B[0],B.slice(1))}a.between&&(B=a.between.map(D=>e.get(D)),y=y.between(B[0],B[1]));a.filter&&(y=y.filter(n));
null!=a.throttle&&(y=y.throttle(+a.throttle));null!=a.debounce&&(y=y.debounce(+a.debounce));null==y&&l.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&y.consume(!0);e.stream(a,y)},parseUpdate:function(a){var e=l.isObject(e=a.source)?e.$ref:e;e=this.get(e);var n=a.update,y=void 0;e||l.error("Source not defined: "+a.source);var B=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);n&&n.$expr&&(n.$params&&(y=this.parseParameters(n.$params)),n=this.handlerExpression(n.$expr));
this.update(a,e,B,n,y)},getState:function(a){var e=this,n={};if(a.signals){var y=n.signals={};Object.keys(e.signals).forEach(D=>{const O=e.signals[D];a.signals(D,O)&&(y[D]=O.value)})}if(a.data){var B=n.data={};Object.keys(e.data).forEach(D=>{const O=e.data[D];a.data(D,O)&&(B[D]=O.input.value)})}e.subcontext&&!1!==a.recurse&&(n.subcontext=e.subcontext.map(D=>D.getState(a)));return n},setState:function(a){var e=this,n=e.dataflow,y=a.data,B=a.signals;Object.keys(B||{}).forEach(D=>{n.update(e.signals[D],
B[D],f)});Object.keys(y||{}).forEach(D=>{n.pulse(e.data[D].input,n.changeset().remove(l.truthy).insert(y[D]))});(a.subcontext||[]).forEach((D,O)=>{(O=e.subcontext[O])&&O.setState(D)})}};k.context=function(a,e,n,y){return new x(a,e,n,y)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[60]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(26),A(36),A(15),A(58),A(59),A(45),A(20)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.vega))})(this,function(k,l,w,H,N,x,v,u,m){function g(pa){const Ha=pa.container();
Ha&&(Ha.setAttribute("role","graphics-document"),Ha.setAttribute("aria-roleDescription","visualization"),d(Ha,pa.description()))}function d(pa,Ha){pa&&(null==Ha?pa.removeAttribute("aria-label"):pa.setAttribute("aria-label",Ha))}function f(pa){pa.add(null,Ha=>{pa._background=Ha.bg;pa._resize=1;return Ha.bg},{bg:pa._signals.background})}function a(pa){const Ha=pa._signals.cursor||(pa._signals.cursor=pa.add({user:"default",item:null}));pa.on(pa.events("view","mousemove"),Ha,(Ua,jb)=>{const Fb=(Ua=Ha.value)?
l.isString(Ua)?Ua:Ua.user:"default";jb=jb.item&&jb.item.cursor||null;return Ua&&Fb===Ua.user&&jb==Ua.item?Ua:{user:Fb,item:jb}});pa.add(null,function(Ua){Ua=Ua.cursor;let jb=this.value;l.isString(Ua)||(jb=Ua.item,Ua=Ua.user);e(pa,Ua&&"default"!==Ua?Ua:jb||Ua);return jb},{cursor:Ha})}function e(pa,Ha){if(pa=pa.globalCursor()?"undefined"!==typeof document&&document.body:pa.container())return null==Ha?pa.style.removeProperty("cursor"):pa.style.cursor=Ha}function n(pa,Ha){pa=pa._runtime.data;l.hasOwnProperty(pa,
Ha)||l.error("Unrecognized data set: "+Ha);return pa[Ha]}function y(pa,Ha){w.isChangeSet(Ha)||l.error("Second argument to changes must be a changeset.");pa=n(this,pa);pa.modified=!0;return this.pulse(pa.input,Ha)}function B(pa){var Ha=pa.padding();return Math.max(0,pa._viewWidth+Ha.left+Ha.right)}function D(pa){var Ha=pa.padding();return Math.max(0,pa._viewHeight+Ha.top+Ha.bottom)}function O(pa){var Ha=pa.padding();pa=pa._origin;return[Ha.left+pa[0],Ha.top+pa[1]]}function M(pa){var Ha=O(pa),Ua=B(pa),
jb=D(pa);pa._renderer.background(pa.background());pa._renderer.resize(Ua,jb,Ha);pa._handler.origin(Ha);pa._resizeListeners.forEach(Fb=>{try{Fb(Ua,jb)}catch(Xb){pa.error(Xb)}})}function F(pa,Ha,Ua){var jb=pa._renderer;jb=jb&&jb.canvas();if(jb){var Fb=O(pa);var Xb=Ha.changedTouches?Ha.changedTouches[0]:Ha;Xb=H.point(Xb,jb);Xb[0]-=Fb[0];Xb[1]-=Fb[1]}Ha.dataflow=pa;Ha.item=Ua;Ha.vega=z(pa,Ua,Xb);return Ha}function z(pa,Ha,Ua){function jb(nc){var md=Xb,pc;if(nc)for(pc=Ha;pc;pc=pc.mark.group)if(pc.mark.name===
nc){md=pc;break}return md&&md.mark&&md.mark.interactive?md:{}}function Fb(nc){if(!nc)return Ua;l.isString(nc)&&(nc=jb(nc));const md=Ua.slice();for(;nc;)md[0]-=nc.x||0,md[1]-=nc.y||0,nc=nc.mark&&nc.mark.group;return md}const Xb=Ha?"group"===Ha.mark.marktype?Ha:Ha.mark.group:null;return{view:l.constant(pa),item:l.constant(Ha||{}),group:jb,xy:Fb,x:nc=>Fb(nc)[0],y:nc=>Fb(nc)[1]}}function G(pa){pa=l.extend({defaults:{}},pa);const Ha=(Ua,jb)=>{jb.forEach(Fb=>{l.isArray(Ua[Fb])&&(Ua[Fb]=l.toSet(Ua[Fb]))})};
Ha(pa.defaults,["prevent","allow"]);Ha(pa,["view","window","selector"]);return pa}function K(pa,Ha,Ua){const jb=pa._eventConfig&&pa._eventConfig[Ha];return!1===jb||l.isObject(jb)&&!jb[Ua]?(pa.warn(`Blocked ${Ha} ${Ua} event listener.`),!1):!0}function R(pa){return pa.item}function T(pa){return pa.item.mark.source}function ja(pa){return function(Ha,Ua){return Ua.vega.view().changeset().encode(Ua.item,pa)}}function fa(pa,Ha,Ua){pa=document.createElement(pa);for(const jb in Ha)pa.setAttribute(jb,Ha[jb]);
null!=Ua&&(pa.textContent=Ua);return pa}function ha(pa,Ha,Ua){if(Ha){var jb=Ua.param,Fb=Ua.state;Fb||(Fb=Ua.state={elements:null,active:!1,set:null,update:Xb=>{Xb!==pa.signal(jb.signal)&&pa.runAsync(null,()=>{Fb.source=!0;pa.signal(jb.signal,Xb)})}},jb.debounce&&(Fb.update=l.debounce(jb.debounce,Fb.update)));la(Fb,Ha,jb,pa.signal(jb.signal));Fb.active||(pa.on(pa._signals[jb.signal],null,()=>{Fb.source?Fb.source=!1:Fb.set(pa.signal(jb.signal))}),Fb.active=!0);return Fb}}function la(pa,Ha,Ua,jb){const Fb=
fa("div",{"class":"vega-bind"}),Xb="radio"===Ua.input?Fb:Fb.appendChild(fa("label"));Xb.appendChild(fa("span",{"class":"vega-bind-name"},Ua.name||Ua.signal));Ha.appendChild(Fb);Ha=Z;switch(Ua.input){case "checkbox":Ha=P;break;case "select":Ha=C;break;case "radio":Ha=V;break;case "range":Ha=ia}Ha(pa,Xb,Ua,jb)}function Z(pa,Ha,Ua,jb){const Fb=fa("input");for(const Xb in Ua)"signal"!==Xb&&"element"!==Xb&&Fb.setAttribute("input"===Xb?"type":Xb,Ua[Xb]);Fb.setAttribute("name",Ua.signal);Fb.value=jb;Ha.appendChild(Fb);
Fb.addEventListener("input",()=>pa.update(Fb.value));pa.elements=[Fb];pa.set=Xb=>Fb.value=Xb}function P(pa,Ha,Ua,jb){Ua={type:"checkbox",name:Ua.signal};jb&&(Ua.checked=!0);const Fb=fa("input",Ua);Ha.appendChild(Fb);Fb.addEventListener("change",()=>pa.update(Fb.checked));pa.elements=[Fb];pa.set=Xb=>Fb.checked=!!Xb||null}function C(pa,Ha,Ua,jb){const Fb=fa("select",{name:Ua.signal}),Xb=Ua.labels||[];Ua.options.forEach((nc,md)=>{const pc={value:nc};aa(nc,jb)&&(pc.selected=!0);Fb.appendChild(fa("option",
pc,(Xb[md]||nc)+""))});Ha.appendChild(Fb);Fb.addEventListener("change",()=>{pa.update(Ua.options[Fb.selectedIndex])});pa.elements=[Fb];pa.set=nc=>{for(let md=0,pc=Ua.options.length;md<pc;++md)if(aa(Ua.options[md],nc)){Fb.selectedIndex=md;break}}}function V(pa,Ha,Ua,jb){const Fb=fa("span",{"class":"vega-bind-radio"}),Xb=Ua.labels||[];Ha.appendChild(Fb);pa.elements=Ua.options.map((nc,md)=>{var pc={type:"radio",name:Ua.signal,value:nc};aa(nc,jb)&&(pc.checked=!0);pc=fa("input",pc);pc.addEventListener("change",
()=>pa.update(nc));md=fa("label",{},(Xb[md]||nc)+"");md.prepend(pc);Fb.appendChild(md);return pc});pa.set=nc=>{const md=pa.elements,pc=md.length;for(let Hc=0;Hc<pc;++Hc)aa(md[Hc].value,nc)&&(md[Hc].checked=!0)}}function ia(pa,Ha,Ua,jb){jb=void 0!==jb?jb:(+Ua.max+ +Ua.min)/2;const Fb=null!=Ua.max?Ua.max:Math.max(100,+jb)||100,Xb=Ua.min||Math.min(0,Fb,+jb)||0,nc=Ua.step||N.tickStep(Xb,Fb,100),md=fa("input",{type:"range",name:Ua.signal,min:Xb,max:Fb,step:nc});md.value=jb;const pc=fa("span",{},+jb);Ha.appendChild(md);
Ha.appendChild(pc);Ha=()=>{pc.textContent=md.value;pa.update(+md.value)};md.addEventListener("input",Ha);md.addEventListener("change",Ha);pa.elements=[md];pa.set=Hc=>{md.value=Hc;pc.textContent=Hc}}function aa(pa,Ha){return pa===Ha||pa+""===Ha+""}function ya(pa,Ha,Ua,jb,Fb,Xb){Ha=Ha||new jb(pa.loader());return Ha.initialize(Ua,B(pa),D(pa),O(pa),Fb,Xb).background(pa.background())}function va(pa,Ha){return Ha?function(){try{Ha.apply(this,arguments)}catch(Ua){pa.error(Ua)}}:null}function Ia(pa,Ha,Ua,
jb){const Fb=(new jb(pa.loader(),va(pa,pa.tooltip()))).scene(pa.scenegraph().root).initialize(Ua,O(pa),pa);Ha&&Ha.handlers().forEach(Xb=>{Fb.on(Xb.type,Xb.handler)});return Fb}function bb(pa,Ha){if("string"===typeof Ha)if("undefined"!==typeof document){if(Ha=document.querySelector(Ha),!Ha)return pa.error("Signal bind element not found: "+Ha),null}else return pa.error("DOM document instance not found."),null;if(Ha)try{Ha.innerHTML=""}catch(Ua){Ha=null,pa.error(Ua)}return Ha}function kb(pa){l.isObject(pa)?
pa={top:+pa.top||0,bottom:+pa.bottom||0,left:+pa.left||0,right:+pa.right||0}:(pa=+pa||0,pa={top:pa,bottom:pa,left:pa,right:pa});return pa}function ua(pa,Ha,Ua,jb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Fb=H.renderModule(Ha);(Fb=Fb&&Fb.headless)||l.error("Unrecognized renderer type: "+Ha);yield pa.runAsync();return ya(pa,null,null,Fb,Ua,jb).renderAsync(pa._scenegraph.root)})}function Ta(pa,Ha,Ua){return v.context(pa,w.transforms,x.functionContext,Ua).parse(Ha)}function Ya(pa,
Ha){var Ua=pa.autosize();pa=pa.padding();return Ha-(Ua&&"padding"===Ua.contains?pa.left+pa.right:0)}function Da(pa,Ha){var Ua=pa.autosize();pa=pa.padding();return Ha-(Ua&&"padding"===Ua.contains?pa.top+pa.bottom:0)}function ta(pa){function Ha(){pa._autosize=pa._resize=1}var Ua=pa._signals,jb=Ua.width,Fb=Ua.height;Ua=Ua.padding;pa._resizeWidth=pa.add(null,nc=>{pa._width=nc.size;pa._viewWidth=Ya(pa,nc.size);Ha()},{size:jb});pa._resizeHeight=pa.add(null,nc=>{pa._height=nc.size;pa._viewHeight=Da(pa,nc.size);
Ha()},{size:Fb});const Xb=pa.add(null,Ha,{pad:Ua});pa._resizeWidth.rank=jb.rank+1;pa._resizeHeight.rank=Fb.rank+1;Xb.rank=Ua.rank+1}function U(pa,Ha){return Ha.modified&&l.isArray(Ha.input.value)&&pa.indexOf("_:vega:_")}function W(pa,Ha){return!("parent"===pa||Ha instanceof w.transforms.proxy)}function ba(pa,Ha,Ua,jb){(pa=pa.element())&&pa.setAttribute("title",ca(jb))}function ca(pa){return null==pa?"":l.isArray(pa)?"["+pa.map(qa).join(", ")+"]":l.isObject(pa)&&!l.isDate(pa)?ra(pa):pa+""}function ra(pa){return Object.keys(pa).map(Ha=>
{const Ua=pa[Ha];return Ha+": "+(l.isArray(Ua)?"["+Ua.map(qa).join(", ")+"]":qa(Ua))}).join("\n")}function qa(pa){return l.isArray(pa)?"[]":l.isObject(pa)&&!l.isDate(pa)?"{}":pa}function Fa(pa,Ha){Ha=Ha||{};w.Dataflow.call(this);Ha.loader&&this.loader(Ha.loader);Ha.logger&&this.logger(Ha.logger);null!=Ha.logLevel&&this.logLevel(Ha.logLevel);if(Ha.locale||pa.locale){var Ua=l.extend({},pa.locale,Ha.locale);this.locale(m.locale(Ua.number,Ua.time))}this._elBind=this._el=null;this._renderType=Ha.renderer||
H.RenderType.Canvas;this._scenegraph=new H.Scenegraph;Ua=this._scenegraph.root;this._renderer=null;this._tooltip=Ha.tooltip||ba;this._redraw=!0;this._handler=(new H.CanvasHandler).scene(Ua);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=G(pa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const jb=Ta(this,pa,Ha.expr);this._runtime=jb;this._signals=jb.signals;this._bind=(pa.bindings||[]).map(Fb=>({state:null,
param:l.extend({},Fb)}));jb.root&&jb.root.set(Ua);Ua.source=jb.data.root.input;this.pulse(jb.data.root.input,this.changeset().insert(Ua.items));this._width=this.width();this._height=this.height();this._viewWidth=Ya(this,this._width);this._viewHeight=Da(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;ta(this);f(this);a(this);this.description(pa.description);Ha.hover&&this.hover();Ha.container&&this.initialize(Ha.container,Ha.bind)}function na(pa,Ha){return l.hasOwnProperty(pa._signals,
Ha)?pa._signals[Ha]:l.error("Unrecognized signal name: "+l.stringValue(Ha))}function Ra(pa,Ha){pa=(pa._targets||[]).filter(Ua=>Ua._update&&Ua._update.handler===Ha);return pa.length?pa[0]:null}function db(pa,Ha,Ua,jb){let Fb=Ra(Ua,jb);Fb||(Fb=va(pa,()=>jb(Ha,Ua.value)),Fb.handler=jb,pa.on(Ua,null,Fb));return pa}function $a(pa,Ha,Ua){(Ua=Ra(Ha,Ua))&&Ha._targets.remove(Ua);return pa}const Ca={trap:!1};var Ga={skip:!0};l.inherits(Fa,w.Dataflow,{evaluate(pa,Ha,Ua){const jb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield w.Dataflow.prototype.evaluate.call(jb,
pa,Ha);if(jb._redraw||jb._resize)try{jb._renderer&&(jb._resize&&(jb._resize=0,M(jb)),yield jb._renderer.renderAsync(jb._scenegraph.root)),jb._redraw=!1}catch(Fb){jb.error(Fb)}Ua&&w.asyncCallback(jb,Ua);return jb})},dirty(pa){this._redraw=!0;this._renderer&&this._renderer.dirty(pa)},description(pa){if(arguments.length){const Ha=null!=pa?pa+"":null;Ha!==this._desc&&d(this._el,this._desc=Ha);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},
signal(pa,Ha,Ua){const jb=na(this,pa);return 1===arguments.length?jb.value:this.update(jb,Ha,Ua)},width(pa){return arguments.length?this.signal("width",pa):this.signal("width")},height(pa){return arguments.length?this.signal("height",pa):this.signal("height")},padding(pa){return arguments.length?this.signal("padding",kb(pa)):kb(this.signal("padding"))},autosize(pa){return arguments.length?this.signal("autosize",pa):this.signal("autosize")},background(pa){return arguments.length?this.signal("background",
pa):this.signal("background")},renderer(pa){if(!arguments.length)return this._renderType;H.renderModule(pa)||l.error("Unrecognized renderer type: "+pa);pa!==this._renderType&&(this._renderType=pa,this._resetRenderer());return this},tooltip(pa){if(!arguments.length)return this._tooltip;pa!==this._tooltip&&(this._tooltip=pa,this._resetRenderer());return this},loader(pa){if(!arguments.length)return this._loader;pa!==this._loader&&(w.Dataflow.prototype.loader.call(this,pa),this._resetRenderer());return this},
resize(){this._autosize=1;return this.touch(na(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(pa,Ha,Ua,jb,Fb,Xb){this.runAfter(nc=>{let md=0;nc._autosize=0;nc.width()!==Ua&&(md=1,nc.signal("width",Ua,Ga),nc._resizeWidth.skip(!0));nc.height()!==jb&&(md=1,nc.signal("height",jb,Ga),nc._resizeHeight.skip(!0));nc._viewWidth!==pa&&(nc._resize=1,nc._viewWidth=pa);nc._viewHeight!==Ha&&(nc._resize=1,nc._viewHeight=Ha);
if(nc._origin[0]!==Fb[0]||nc._origin[1]!==Fb[1])nc._resize=1,nc._origin=Fb;md&&nc.run("enter");Xb&&nc.runAfter(pc=>pc.resize())},!1,1)},addEventListener(pa,Ha,Ua){let jb=Ha;Ua&&!1===Ua.trap||(jb=va(this,Ha),jb.raw=Ha);this._handler.on(pa,jb);return this},removeEventListener(pa,Ha){for(var Ua=this._handler.handlers(pa),jb=Ua.length,Fb,Xb;0<=--jb;)if(Xb=Ua[jb].type,Fb=Ua[jb].handler,pa===Xb&&(Ha===Fb||Ha===Fb.raw)){this._handler.off(Xb,Fb);break}return this},addResizeListener(pa){const Ha=this._resizeListeners;
0>Ha.indexOf(pa)&&Ha.push(pa);return this},removeResizeListener(pa){var Ha=this._resizeListeners;pa=Ha.indexOf(pa);0<=pa&&Ha.splice(pa,1);return this},addSignalListener(pa,Ha){return db(this,pa,na(this,pa),Ha)},removeSignalListener(pa,Ha){return $a(this,na(this,pa),Ha)},addDataListener(pa,Ha){return db(this,pa,n(this,pa).values,Ha)},removeDataListener(pa,Ha){return $a(this,n(this,pa).values,Ha)},globalCursor(pa){if(arguments.length){if(this._globalCursor!==!!pa){const Ha=e(this,null);this._globalCursor=
!!pa;Ha&&e(this,Ha)}return this}return this._globalCursor},preventDefault(pa){return arguments.length?(this._preventDefault=pa,this):this._preventDefault},timer:function(pa,Ha){this._timers.push(u.interval(function(Ua){pa({timestamp:Date.now(),elapsed:Ua})},Ha))},events:function(pa,Ha,Ua){var jb=this,Fb=new w.EventStream(Ua);Ua=function(pc,Hc){jb.runAsync(null,()=>{var mb;if(mb="view"===pa){var hc=jb._eventConfig.defaults;mb=hc.prevent;hc=hc.allow;mb=!1===mb||!0===hc?!1:!0===mb||!1===hc?!0:mb?mb[Ha]:
hc?!hc[Ha]:jb.preventDefault()}mb&&pc.preventDefault();Fb.receive(F(jb,pc,Hc))})};var Xb;if("timer"===pa)K(jb,"timer",Ha)&&jb.timer(Ua,Ha);else if("view"===pa)K(jb,"view",Ha)&&jb.addEventListener(Ha,Ua,Ca);else if("window"===pa?K(jb,"window",Ha)&&"undefined"!==typeof window&&(Xb=[window]):"undefined"!==typeof document&&K(jb,"selector",Ha)&&(Xb=document.querySelectorAll(pa)),Xb){for(var nc=0,md=Xb.length;nc<md;++nc)Xb[nc].addEventListener(Ha,Ua);jb._eventListeners.push({type:Ha,sources:Xb,handler:Ua})}else jb.warn("Can not resolve event source: "+
pa);return Fb},finalize:function(){var pa=this._tooltip,Ha=this._timers,Ua=this._eventListeners,jb;for(jb=Ha.length;0<=--jb;)Ha[jb].stop();for(jb=Ua.length;0<=--jb;){var Fb=Ua[jb];for(Ha=Fb.sources.length;0<=--Ha;)Fb.sources[Ha].removeEventListener(Fb.type,Fb.handler)}pa&&pa.call(this,this._handler,null,null,null);return this},hover:function(pa,Ha){pa=[pa||"hover"];Ha=[Ha||"update",pa[0]];this.on(this.events("view","mouseover",R),T,ja(pa));this.on(this.events("view","mouseout",R),T,ja(Ha));return this},
data:function(pa,Ha){return 2>arguments.length?n(this,pa).values.value:y.call(this,pa,w.changeset().remove(l.truthy).insert(Ha))},change:y,insert:function(pa,Ha){return y.call(this,pa,w.changeset().insert(Ha))},remove:function(pa,Ha){return y.call(this,pa,w.changeset().remove(Ha))},scale:function(pa){var Ha=this._runtime.scales;l.hasOwnProperty(Ha,pa)||l.error("Unrecognized scale or projection: "+pa);return Ha[pa].value},initialize:function(pa,Ha){const Ua=this;var jb=Ua._renderType;const Fb=Ua._eventConfig.bind;
var Xb=H.renderModule(jb);pa=Ua._el=pa?bb(Ua,pa):null;g(Ua);Xb||Ua.error("Unrecognized renderer type: "+jb);jb=Xb.handler||H.CanvasHandler;Xb=pa?Xb.renderer:Xb.headless;Ua._renderer=Xb?ya(Ua,Ua._renderer,pa,Xb):null;Ua._handler=Ia(Ua,Ua._handler,pa,jb);Ua._redraw=!0;pa&&"none"!==Fb&&(Ha=Ha?Ua._elBind=bb(Ua,Ha):pa.appendChild(fa("form",{"class":"vega-bindings"})),Ua._bind.forEach(nc=>{nc.param.element&&"container"!==Fb&&(nc.element=bb(Ua,nc.param.element))}),Ua._bind.forEach(nc=>{ha(Ua,nc.element||
Ha,nc)}));return Ua},toImageURL:function(pa,Ha){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa!==H.RenderType.Canvas&&pa!==H.RenderType.SVG&&pa!==H.RenderType.PNG&&l.error("Unrecognized image type: "+pa);var jb=yield ua(Ua,pa,Ha);pa===H.RenderType.SVG?(jb=jb.svg(),jb=new Blob([jb],{type:"image/svg+xml"}),jb=window.URL.createObjectURL(jb)):jb=jb.canvas().toDataURL("image/png");return jb})},toCanvas:function(pa,Ha){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ua(Ua,
H.RenderType.Canvas,pa,Ha)).canvas()})},toSVG:function(pa){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield ua(Ha,H.RenderType.SVG,pa)).svg()})},getState:function(pa){return this._runtime.getState(pa||{data:U,signals:W,recurse:!0})},setState:function(pa){this.runAsync(null,Ha=>{Ha._trigger=!1;Ha._runtime.setState(pa)},Ha=>{Ha._trigger=!0});return this}});k.View=Fa;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[61]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E):"function"===typeof define&&define.amd?define(["exports"],l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={}))})(this,function(k){function l(g,d,f,a,e){const n=g.length;let y=0,B;for(;d<n;++d)if(B=g[d],y||B!==f)e&&0<=e.indexOf(B)?--y:a&&0<=a.indexOf(B)&&++y;else break;return d}function w(g){const d=[],f=g.length;let a=0,e=0;for(;e<f;)e=l(g,e,",","[{","]}"),d.push(g.substring(a,
e).trim()),a=++e;if(0===d.length)throw"Empty event selector: "+g;return d}function H(g){if("["===g[0]){var d=g;var f=d.length;g=l(d,1,"]","[","]");if(g===f)throw"Empty between selector: "+d;f=w(d.substring(1,g));if(2!==f.length)throw"Between selector must have two elements: "+d;d=d.slice(g+1).trim();if("\x3e"!==d[0])throw"Expected '\x3e' after between selector: "+d;f=f.map(H);d=H(d.slice(1).trim());d.between?d={between:f,stream:d}:d.between=f}else{{f={source:u};const a=[];let e=[0,0],n=0,y=0,B=g.length,
D=0,O;if("}"===g[B-1]){D=g.lastIndexOf("{");if(0<=D){try{e=N(g.substring(D+1,B-1))}catch(M){throw"Invalid throttle specification: "+g;}g=g.slice(0,D).trim();B=g.length}else throw"Unmatched right brace: "+g;D=0}if(!B)throw g;"@"===g[0]&&(n=++D);O=l(g,D,":");O<B&&(a.push(g.substring(y,O).trim()),y=D=++O);D=l(g,D,"[");if(D===B)a.push(g.substring(y,B).trim());else if(a.push(g.substring(y,D).trim()),d=[],y=++D,y===B)throw"Unmatched left bracket: "+g;for(;D<B;){D=l(g,D,"]");if(D===B)throw"Unmatched left bracket: "+
g;d.push(g.substring(y,D).trim());if(D<B-1&&"["!==g[++D])throw"Expected left bracket: "+g;y=++D}if(!(B=a.length)||x.test(a[B-1]))throw"Invalid event selector: "+g;1<B?(f.type=a[1],n?f.markname=a[0].slice(1):m[a[0]]?f.marktype=a[0]:f.source=a[0]):f.type=a[0];"!"===f.type.slice(-1)&&(f.consume=!0,f.type=f.type.slice(0,-1));null!=d&&(f.filter=d);e[0]&&(f.throttle=e[0]);e[1]&&(f.debounce=e[1]);d=f}}return d}function N(g){const d=g.split(",");if(!g.length||2<d.length)throw g;return d.map(f=>{f=+f;if(f!==
f)throw g;return f})}const x=/[[\]{}]/,v={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let u,m;k.selector=function(g,d,f){u=d||"view";m=f||v;return w(g.trim()).map(H)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[62]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?l(E,A(14),A(58),A(61),A(35),A(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(k="undefined"!==typeof globalThis?globalThis:k||self,l(k.vega={},k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,l,w,H,N,x){function v(Aa){return l.isObject(Aa)?Aa:{type:Aa||"pad"}}function u(Aa){l.isObject(Aa)?Aa=Aa.signal?
Aa:{top:+Aa.top||0,bottom:+Aa.bottom||0,left:+Aa.left||0,right:+Aa.right||0}:(Aa=+Aa||0,Aa={top:Aa,bottom:Aa,left:Aa,right:Aa});return Aa}function m(Aa,Pa,vb,Wb){return null!=vb?(l.isObject(vb)&&!l.isArray(vb)||l.isArray(vb)&&vb.length&&l.isObject(vb[0])?Aa.update[Pa]=vb:Aa[Wb||"enter"][Pa]={value:vb},1):0}function g(Aa,Pa,vb){for(const Wb in Pa)m(Aa,Wb,Pa[Wb]);for(const Wb in vb)m(Aa,Wb,vb[Wb],"update")}function d(Aa,Pa,vb){for(const Wb in Pa)vb&&l.hasOwnProperty(vb,Wb)||(Aa[Wb]=l.extend(Aa[Wb]||
{},Pa[Wb]));return Aa}function f(Aa,Pa){return Pa&&(Pa.enter&&Pa.enter[Aa]||Pa.update&&Pa.update[Aa])}function a(Aa,Pa,vb,Wb,Tb){const ic={},oc={};let fd,Wc;Wc="lineBreak";"text"!==Pa||null==Tb[Wc]||f(Wc,Aa)||e(ic,Wc,Tb[Wc]);if("legend"==vb||String(vb).startsWith("axis"))vb=null;vb="frame"===vb?Tb.group:"mark"===vb?l.extend({},Tb.mark,Tb[Pa]):null;for(Wc in vb)(Pa=f(Wc,Aa)||("fill"===Wc||"stroke"===Wc)&&(f("fill",Aa)||f("stroke",Aa)))||e(ic,Wc,vb[Wc]);l.array(Wb).forEach(nd=>{nd=Tb.style&&Tb.style[nd];
for(const Kd in nd)f(Kd,Aa)||e(ic,Kd,nd[Kd])});Aa=l.extend({},Aa);for(Wc in ic)vb=ic[Wc],vb.signal?(fd=fd||{})[Wc]=vb:oc[Wc]=vb;Aa.enter=l.extend(oc,Aa.enter);fd&&(Aa.update=l.extend(fd,Aa.update));return Aa}function e(Aa,Pa,vb){Aa[Pa]=vb&&vb.signal?{signal:vb.signal}:{value:vb}}function n(Aa){if(null!=Aa.gradient)return y(Aa);if(Aa.signal)var Pa=`(${Aa.signal})`;else Aa.color?(Pa=Aa.color,Pa=Pa.c?me("hcl",Pa.h,Pa.c,Pa.l):Pa.h||Pa.s?me("hsl",Pa.h,Pa.s,Pa.l):Pa.l||Pa.a?me("lab",Pa.l,Pa.a,Pa.b):Pa.r||
Pa.g||Pa.b?me("rgb",Pa.r,Pa.g,Pa.b):null):Pa=null!=Aa.field?D(Aa.field):void 0!==Aa.value?l.stringValue(Aa.value):void 0;if(null!=Aa.scale){{const vb=Nf(Aa.scale);null!=Aa.range?Pa=`lerp(_range(${vb}), ${+Aa.range})`:(void 0!==Pa&&(Pa=`_scale(${vb}, ${Pa})`),Aa.band&&(Pa=(Pa?Pa+"+":"")+`_bandwidth(${vb})`+(1===+Aa.band?"":"*"+B(Aa.band)),Aa.extra&&(Pa=`(datum.extra ? _scale(${vb}, datum.extra.value) : ${Pa})`)),null==Pa&&(Pa="0"))}}void 0===Pa&&(Pa=null);null!=Aa.exponent&&(Pa=`pow(${Pa},${B(Aa.exponent)})`);
null!=Aa.mult&&(Pa+=`*${B(Aa.mult)}`);null!=Aa.offset&&(Pa+=`+${B(Aa.offset)}`);Aa.round&&(Pa=`round(${Pa})`);return Pa}function y(Aa){const Pa=[Aa.start,Aa.stop,Aa.count].map(vb=>null==vb?null:l.stringValue(vb));for(;Pa.length&&null==l.peek(Pa);)Pa.pop();Pa.unshift(Nf(Aa.gradient));return`gradient(${Pa.join(",")})`}function B(Aa){return l.isObject(Aa)?"("+n(Aa)+")":Aa}function D(Aa){return O(l.isObject(Aa)?Aa:{datum:Aa})}function O(Aa){let Pa;if(Aa.signal){Pa="datum";var vb=Aa.signal}else if(Aa.group||
Aa.parent){vb=Math.max(1,Aa.level||1);for(Pa="item";0<vb--;)Pa+=".mark.group";Aa.parent?(vb=Aa.parent,Pa+=".datum"):vb=Aa.group}else Aa.datum?(Pa="datum",vb=Aa.datum):l.error("Invalid field reference: "+l.stringValue(Aa));Aa.signal||(vb=l.isString(vb)?l.splitAccessPath(vb).map(l.stringValue).join("]["):O(vb));return Pa+"["+vb+"]"}function M(Aa){let Pa="";Aa.forEach(vb=>{const Wb=n(vb);Pa+=vb.test?`(${vb.test})?${Wb}:`:Wb});":"===l.peek(Pa)&&(Pa+="null");return Pa}function F(Aa,Pa,vb,Wb,Tb,ic){const oc=
{};ic=ic||{};ic.encoders={$encode:oc};Aa=a(Aa,Pa,vb,Wb,Tb.config);for(const Kd in Aa){{vb=Aa[Kd];Wb=Pa;var fd=ic,Wc=Tb;const de={},je={};for(const Gd in vb)if(null!=vb[Gd]){var nd=vb[Gd];nd=l.isArray(nd)?M(nd):n(nd);de[Gd]=z(nd,Wc,fd,je)}vb={$expr:{marktype:Wb,channels:de},$fields:Object.keys(je),$output:Object.keys(vb)}}oc[Kd]=vb}return ic}function z(Aa,Pa,vb,Wb){Aa=w.parseExpression(Aa,Pa);Aa.$fields.forEach(Tb=>Wb[Tb]=1);l.extend(vb,Aa.$params);return Aa.$expr}function G(Aa,Pa){l.error(Aa+' for "outer" push: '+
l.stringValue(Pa))}function K(Aa,Pa){const vb=Aa.name;if("outer"===Aa.push)Pa.signals[vb]||G("No prior signal definition",vb),te.forEach(Wb=>{void 0!==Aa[Wb]&&G("Invalid property ",Wb)});else{const Wb=Pa.addSignal(vb,Aa.value);!1===Aa.react&&(Wb.react=!1);Aa.bind&&Pa.addBinding(vb,Aa.bind)}}function R(Aa,Pa,vb,Wb){this.id=-1;this.type=Aa;this.value=Pa;this.params=vb;Wb&&(this.parent=Wb)}function T(Aa){const Pa={$ref:Aa.id};0>Aa.id&&(Aa.refs=Aa.refs||[]).push(Pa);return Pa}function ja(Aa,Pa){return Pa?
{$field:Aa,$name:Pa}:{$field:Aa}}function fa(Aa,Pa){Aa={$key:Aa};Pa&&(Aa.$flat=!0);return Aa}function ha(Aa,Pa){return(Aa&&Aa.signal?"$"+Aa.signal:Aa||"")+(Aa&&Pa?"_":"")+(Pa&&Pa.signal?"$"+Pa.signal:Pa||"")}function la(Aa){return Aa&&Aa.signal}function Z(Aa){if(la(Aa))return!0;if(l.isObject(Aa))for(const Pa in Aa)if(Z(Aa[Pa]))return!0;return!1}function P(Aa,Pa){return null!=Aa?Aa:Pa}function C(Aa){return Aa&&Aa.signal||Aa}function V(Aa,Pa){return(Aa.merge?aa:Aa.stream?ya:Aa.type?va:l.error("Invalid stream specification: "+
l.stringValue(Aa)))(Aa,Pa)}function ia(Aa){return"scope"===Aa?"view":Aa||"view"}function aa(Aa,Pa){const vb=Aa.merge.map(Wb=>V(Wb,Pa));Aa=Ia({merge:vb},Aa,Pa);return Pa.addStream(Aa).id}function ya(Aa,Pa){const vb=V(Aa.stream,Pa);Aa=Ia({stream:vb},Aa,Pa);return Pa.addStream(Aa).id}function va(Aa,Pa){let vb;"timer"===Aa.type?(vb=Pa.event("timer",Aa.throttle),Aa={between:Aa.between,filter:Aa.filter}):vb=Pa.event(ia(Aa.source),Aa.type);Aa=Ia({stream:vb},Aa,Pa);return 1===Object.keys(Aa).length?vb:Pa.addStream(Aa).id}
function Ia(Aa,Pa,vb){let Wb=Pa.between;Wb&&(2!==Wb.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(Pa)),Aa.between=[V(Wb[0],vb),V(Wb[1],vb)]);Wb=Pa.filter?[].concat(Pa.filter):[];(Pa.marktype||Pa.markname||Pa.markrole)&&Wb.push(bb(Pa.marktype,Pa.markname,Pa.markrole));"scope"===Pa.source&&Wb.push("inScope(event.item)");Wb.length&&(Aa.filter=w.parseExpression("("+Wb.join(")\x26\x26(")+")",vb).$expr);null!=(Wb=Pa.throttle)&&(Aa.throttle=+Wb);null!=(Wb=Pa.debounce)&&
(Aa.debounce=+Wb);Pa.consume&&(Aa.consume=!0);return Aa}function bb(Aa,Pa,vb){return"event.item"+(Aa&&"*"!==Aa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Aa+"'":"")+(vb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+vb+"'":"")+(Pa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Pa+"'":"")}function kb(Aa,Pa,vb){const Wb=Aa.encode,Tb={target:vb};vb=Aa.events;let ic=Aa.update,oc=[];vb||l.error("Signal update missing events specification.");l.isString(vb)&&(vb=H.selector(vb,Pa.isSubscope()?"scope":"view"));
vb=l.array(vb).filter(fd=>fd.signal||fd.scale?(oc.push(fd),0):1);1<oc.length&&(oc=[Ta(oc)]);vb.length&&oc.push(1<vb.length?{merge:vb}:vb[0]);null!=Wb&&(ic&&l.error("Signal encode and update are mutually exclusive."),ic="encode(item(),"+l.stringValue(Wb)+")");Tb.update=l.isString(ic)?w.parseExpression(ic,Pa):null!=ic.expr?w.parseExpression(ic.expr,Pa):null!=ic.value?ic.value:null!=ic.signal?{$expr:we,$params:{$value:Pa.signalRef(ic.signal)}}:l.error("Invalid signal update specification.");Aa.force&&
(Tb.options={force:!0});oc.forEach(fd=>Pa.addUpdate(l.extend(ua(fd,Pa),Tb)))}function ua(Aa,Pa){return{source:Aa.signal?Pa.signalRef(Aa.signal):Aa.scale?Pa.scaleRef(Aa.scale):V(Aa,Pa)}}function Ta(Aa){return{signal:"["+Aa.map(Pa=>Pa.scale?'scale("'+Pa.scale+'")':Pa.signal)+"]"}}function Ya(Aa,Pa){const vb=Pa.getSignal(Aa.name);let Wb=Aa.update;Aa.init&&(Wb?l.error("Signals can not include both init and update expressions."):(Wb=Aa.init,vb.initonly=!0));Wb&&(Wb=w.parseExpression(Wb,Pa),vb.update=Wb.$expr,
vb.params=Wb.$params);Aa.on&&Aa.on.forEach(Tb=>kb(Tb,Pa,vb.id))}function Da(Aa,Pa){return l.isObject(Aa)?Aa.signal?Pa.signalRef(Aa.signal):l.error("Unsupported object: "+l.stringValue(Aa)):Aa}function ta(Aa,Pa){return Aa.signal?Pa.signalRef(Aa.signal):Aa.map(vb=>Da(vb,Pa))}function U(Aa){l.error("Can not find data set: "+l.stringValue(Aa))}function W(Aa,Pa,vb){if(Aa)return Aa.signal?vb.signalRef(Aa.signal):(l.isArray(Aa)?ba:Aa.fields?ra:ca)(Aa,Pa,vb);null==Pa.domainMin&&null==Pa.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}
function ba(Aa,Pa,vb){return Aa.map(Wb=>Da(Wb,vb))}function ca(Aa,Pa,vb){const Wb=vb.getData(Aa.data);Wb||U(Aa.data);return N.isDiscrete(Pa.type)?Wb.valuesRef(vb,Aa.field,Fa(Aa.sort,!1)):N.isQuantile(Pa.type)?Wb.domainRef(vb,Aa.field):Wb.extentRef(vb,Aa.field)}function ra(Aa,Pa,vb){const Wb=Aa.data,Tb=Aa.fields.reduce((ic,oc)=>{if(l.isString(oc))oc={data:Wb,field:oc};else if(l.isArray(oc)||oc.signal){{var fd=oc;oc="_:vega:_"+gd++;const Wc=Ge({});l.isArray(fd)?Wc.value={$ingest:fd}:fd.signal&&(fd=
"setdata("+l.stringValue(oc)+","+fd.signal+")",Wc.params.input=vb.signalRef(fd));vb.addDataPipeline(oc,[Wc,ub({})]);oc={data:oc,field:"data"}}}ic.push(oc);return ic},[]);return(N.isDiscrete(Pa.type)?qa:N.isQuantile(Pa.type)?na:Ra)(Aa,vb,Tb)}function qa(Aa,Pa,vb){const Wb=Fa(Aa.sort,!0);Aa=vb.map(ic=>{const oc=Pa.getData(ic.data);oc||U(ic.data);return oc.countsRef(Pa,ic.field,Wb)});const Tb={groupby:kf,pulse:Aa};Wb&&(Aa=Wb.op||"count",vb=Wb.field?ha(Aa,Wb.field):"count",Tb.ops=[Mc[Aa]],Tb.fields=[Pa.fieldRef(vb)],
Tb.as=[vb]);Aa=Pa.add(Xd(Tb));Aa=Pa.add(Ge({pulse:T(Aa)}));vb=Pa.add(Oc({field:kf,sort:Pa.sortRef(Wb),pulse:T(Aa)}));return T(vb)}function Fa(Aa,Pa){Aa&&(Aa.field||Aa.op?Aa.field||"count"===Aa.op?Pa&&Aa.field&&Aa.op&&!Mc[Aa.op]&&l.error("Multiple domain scales can not be sorted using "+Aa.op):l.error("No field provided for sort aggregate op: "+Aa.op):l.isObject(Aa)?Aa.field="key":Aa={field:"key"});return Aa}function na(Aa,Pa,vb){Aa=vb.map(Wb=>{const Tb=Pa.getData(Wb.data);Tb||U(Wb.data);return Tb.domainRef(Pa,
Wb.field)});return T(Pa.add(If({values:Aa})))}function Ra(Aa,Pa,vb){Aa=vb.map(Wb=>{const Tb=Pa.getData(Wb.data);Tb||U(Wb.data);return Tb.extentRef(Pa,Wb.field)});return T(Pa.add(Yf({extents:Aa})))}function db(Aa,Pa,vb){const Wb=Pa.config.range;let Tb=Aa.range;if(Tb.signal)return Pa.signalRef(Tb.signal);if(l.isString(Tb)){if(Wb&&l.hasOwnProperty(Wb,Tb))return Aa=l.extend({},Aa,{range:Wb[Tb]}),db(Aa,Pa,vb);"width"===Tb?Tb=[0,{signal:"width"}]:"height"===Tb?Tb=N.isDiscrete(Aa.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Tb))}else{if(Tb.scheme){vb.scheme=l.isArray(Tb.scheme)?ta(Tb.scheme,Pa):Da(Tb.scheme,Pa);Tb.extent&&(vb.schemeExtent=ta(Tb.extent,Pa));Tb.count&&(vb.schemeCount=Da(Tb.count,Pa));return}if(Tb.step){vb.rangeStep=Da(Tb.step,Pa);return}if(N.isDiscrete(Aa.type)&&!l.isArray(Tb))return W(Tb,Aa,Pa);l.isArray(Tb)||l.error("Unsupported range type: "+l.stringValue(Tb))}return Tb.map(ic=>(l.isArray(ic)?ta:Da)(ic,Pa))}function $a(Aa,
Pa,vb){return l.isArray(Aa)?Aa.map(Wb=>$a(Wb,Pa,vb)):l.isObject(Aa)?Aa.signal?vb.signalRef(Aa.signal):"fit"===Pa?Aa:l.error("Unsupported parameter object: "+l.stringValue(Aa)):Aa}function Ca(Aa){Aa.type="group";Aa.interactive=Aa.interactive||!1;return Aa}function Ga(Aa,Pa){const vb=(Wb,Tb)=>P(Aa[Wb],P(Pa[Wb],Tb));vb.isVertical=Wb=>"vertical"===P(Aa.direction,Pa.direction||(Wb?Pa.symbolDirection:Pa.gradientDirection));vb.gradientLength=()=>P(Aa.gradientLength,Pa.gradientLength||Pa.gradientWidth);vb.gradientThickness=
()=>P(Aa.gradientThickness,Pa.gradientThickness||Pa.gradientHeight);vb.entryColumns=()=>P(Aa.columns,P(Pa.columns,+vb.isVertical(!0)));return vb}function pa(Aa,Pa){return(Aa=Pa&&(Pa.update&&Pa.update[Aa]||Pa.enter&&Pa.enter[Aa]))&&Aa.signal?Aa:Aa?Aa.value:null}function Ha(Aa,Pa,vb){return`item.anchor === '${"start"}' ? ${Aa} : item.anchor === '${"end"}' ? ${Pa} : ${vb}`}function Ua(Aa,Pa){return Pa?Aa?l.isObject(Aa)?Object.assign({},Aa,{offset:Ua(Aa.offset,Pa)}):{value:Aa,offset:Pa}:Pa:Aa}function jb(Aa,
Pa){Pa?(Aa.name=Pa.name,Aa.style=Pa.style||Aa.style,Aa.interactive=!!Pa.interactive,Aa.encode=d(Aa.encode,Pa,od)):Aa.interactive=!1;return Aa}function Fb(Aa,Pa,vb,Wb){Aa=Ga(Aa,vb);var Tb=Aa.isVertical();vb=Aa.gradientThickness();const ic=Aa.gradientLength();let oc,fd,Wc;Tb?(Tb=[0,1],fd=[0,0],Wc=vb,vb=ic):(Tb=[0,0],fd=[1,0],Wc=ic);Pa={enter:oc={opacity:Id,x:Id,y:Id,width:Ue(Wc),height:Ue(vb)},update:l.extend({},oc,{opacity:jd,fill:{gradient:Pa,start:Tb,stop:fd}}),exit:{opacity:Id}};g(Pa,{stroke:Aa("gradientStrokeColor"),
strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return jb({type:"rect",role:"legend-gradient",encode:Pa},Wb)}function Xb(Aa,Pa,vb,Wb,Tb){Aa=Ga(Aa,vb);const ic=Aa.isVertical();vb=Aa.gradientThickness();const oc=Aa.gradientLength();var fd;let Wc,nd,Kd,de="";ic?(fd="y",nd="y2",Wc="x",Kd="width",de="1-"):(fd="x",nd="x2",Wc="y",Kd="height");Pa={opacity:Id,fill:{scale:Pa,field:"value"}};Pa[fd]={signal:de+"datum.perc",mult:oc};Pa[Wc]=Id;Pa[nd]={signal:de+"datum.perc2",mult:oc};Pa[Kd]=
Ue(vb);fd={enter:Pa,update:l.extend({},Pa,{opacity:jd}),exit:{opacity:Id}};g(fd,{stroke:Aa("gradientStrokeColor"),strokeWidth:Aa("gradientStrokeWidth")},{opacity:Aa("gradientOpacity")});return jb({type:"rect",role:"legend-band",key:"value",from:Tb,encode:fd},Wb)}function nc(Aa,Pa,vb,Wb){const Tb=Ga(Aa,Pa);var ic=Tb.isVertical();const oc=Ue(Tb.gradientThickness()),fd=Tb.gradientLength();let Wc=Tb("labelOverlap"),nd,Kd,de,je="";const Gd={enter:nd={opacity:Id},update:Kd={opacity:jd,text:{field:"label"}},
exit:{opacity:Id}};g(Gd,{fill:Tb("labelColor"),fillOpacity:Tb("labelOpacity"),font:Tb("labelFont"),fontSize:Tb("labelFontSize"),fontStyle:Tb("labelFontStyle"),fontWeight:Tb("labelFontWeight"),limit:P(Aa.labelLimit,Pa.gradientLabelLimit)});ic?(nd.align={value:"left"},nd.baseline=Kd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},ic="y",de="x",je="1-"):(nd.align=Kd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},nd.baseline={value:"top"},
ic="x",de="y");nd[ic]=Kd[ic]={signal:je+"datum.perc",mult:fd};nd[de]=Kd[de]=oc;oc.offset=P(Aa.labelOffset,Pa.gradientLabelOffset)||0;Wc=Wc?{separation:Tb("labelSeparation"),method:Wc,order:"datum.index"}:void 0;return jb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Wb,encode:Gd,overlap:Wc},vb)}function md(Aa,Pa,vb,Wb,Tb){var ic=Ga(Aa,Pa);const oc=vb.entries,fd=!(!oc||!oc.interactive),Wc=oc?oc.name:void 0,nd=ic("clipHeight"),Kd=ic("symbolOffset"),de={data:"value"},je=`(${Tb}) ? datum.${"offset"} : datum.${"size"}`,
Gd=nd?Ue(nd):{field:"size"},Le=`max(1, ${Tb})`;let $d,Ie;Gd.mult=.5;var Ce={enter:$d={opacity:Id,x:{signal:je,mult:.5,offset:Kd},y:Gd},update:Ie={opacity:jd,x:$d.x,y:$d.y},exit:{opacity:Id}};let Qe=null,Uf=null;Aa.fill||(Qe=Pa.symbolBaseFillColor,Uf=Pa.symbolBaseStrokeColor);g(Ce,{fill:ic("symbolFillColor",Qe),shape:ic("symbolType"),size:ic("symbolSize"),stroke:ic("symbolStrokeColor",Uf),strokeDash:ic("symbolDash"),strokeDashOffset:ic("symbolDashOffset"),strokeWidth:ic("symbolStrokeWidth")},{opacity:ic("symbolOpacity")});
Nd.forEach(ne=>{Aa[ne]&&(Ie[ne]=$d[ne]={scale:Aa[ne],field:"value"})});Pa=jb({type:"symbol",role:"legend-symbol",key:"value",from:de,clip:nd?!0:void 0,encode:Ce},vb.symbols);Ce=Ue(Kd);Ce.offset=ic("labelOffset");Ce={enter:$d={opacity:Id,x:{signal:je,offset:Ce},y:Gd},update:Ie={opacity:jd,text:{field:"label"},x:$d.x,y:$d.y},exit:{opacity:Id}};g(Ce,{align:ic("labelAlign"),baseline:ic("labelBaseline"),fill:ic("labelColor"),fillOpacity:ic("labelOpacity"),font:ic("labelFont"),fontSize:ic("labelFontSize"),
fontStyle:ic("labelFontStyle"),fontWeight:ic("labelFontWeight"),limit:ic("labelLimit")});vb=jb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:de,encode:Ce},vb.labels);Ce={enter:{noBound:{value:!nd},width:Id,height:nd?Ue(nd):Id,opacity:Id},exit:{opacity:Id},update:Ie={opacity:jd,row:{signal:null},column:{signal:null}}};ic.isVertical(!0)?(ic=`ceil(item.mark.items.length / ${Le})`,Ie.row.signal=`${"datum.index"}%${ic}`,Ie.column.signal=`floor(${"datum.index"} / ${ic})`,ic={field:["row",
"datum.index"]}):(Ie.row.signal=`floor(${"datum.index"} / ${Le})`,Ie.column.signal=`${"datum.index"} % ${Le}`,ic={field:"datum.index"});Ie.column.signal=`(${Tb})?${Ie.column.signal}:${"datum.index"}`;Wb={facet:{data:Wb,name:"value",groupby:"index"}};return Ca({role:"scope",from:Wb,encode:d(Ce,oc,od),marks:[Pa,vb],name:Wc,interactive:fd,sort:ic})}function pc(Aa,Pa){Aa=Ga(Aa,Pa);return{align:Aa("gridAlign"),columns:Aa.entryColumns(),center:{row:!0,column:!1},padding:{row:Aa("rowPadding"),column:Aa("columnPadding")}}}
function Hc(Aa,Pa,vb,Wb){Pa=Ga(Aa,Pa);const Tb={enter:{opacity:Id},update:{opacity:jd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Id}};g(Tb,{orient:Pa("titleOrient"),_anchor:Pa("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Gf},baseline:{signal:tf},text:Aa.title,fill:Pa("titleColor"),fillOpacity:Pa("titleOpacity"),font:Pa("titleFont"),fontSize:Pa("titleFontSize"),fontStyle:Pa("titleFontStyle"),fontWeight:Pa("titleFontWeight"),limit:Pa("titleLimit"),lineHeight:Pa("titleLineHeight")},{align:Pa("titleAlign"),baseline:Pa("titleBaseline")});return jb({type:"text",role:"legend-title",style:"guide-title",from:Wb,encode:Tb},vb)}function mb(Aa,Pa){let vb;l.isObject(Aa)&&(Aa.signal?vb=Aa.signal:Aa.path?vb="pathShape("+
hc(Aa.path)+")":Aa.sphere&&(vb="geoShape("+hc(Aa.sphere)+', {type: "Sphere"})'));return vb?Pa.signalRef(vb):!!Aa}function hc(Aa){return l.isObject(Aa)&&Aa.signal?Aa.signal:l.stringValue(Aa)}function jc(Aa){const Pa=Aa.role||"";return Pa.indexOf("axis")&&Pa.indexOf("legend")&&Pa.indexOf("title")?"group"===Aa.type?"scope":Pa||"mark":Pa}function rc(Aa){return{marktype:Aa.type,name:Aa.name||void 0,role:Aa.role||jc(Aa),zindex:+Aa.zindex||void 0,aria:Aa.aria,description:Aa.description}}function Pc(Aa,Pa){return Aa&&
Aa.signal?Pa.signalRef(Aa.signal):!1===Aa?!1:!0}function sc(Aa,Pa){const vb=x.definition(Aa.type);vb||l.error("Unrecognized transform type: "+l.stringValue(Aa.type));var Wb=vb.type.toLowerCase();var Tb=Uc(vb,Aa,Pa);Wb=new R(Wb,null,Tb,void 0);Aa.signal&&Pa.addSignal(Aa.signal,Pa.proxy(Wb));Wb.metadata=vb.metadata||{};return Wb}function Uc(Aa,Pa,vb){const Wb={},Tb=Aa.params.length;for(let ic=0;ic<Tb;++ic){const oc=Aa.params[ic];Wb[oc.name]=Sc(oc,Pa,vb)}return Wb}function Sc(Aa,Pa,vb){const Wb=Aa.type,
Tb=Pa[Aa.name];if("index"===Wb)return Fd(Aa,Pa,vb);if(void 0===Tb)Aa.required&&l.error("Missing required "+l.stringValue(Pa.type)+" parameter: "+l.stringValue(Aa.name));else return"param"===Wb?ge(Aa,Pa,vb):"projection"===Wb?vb.projectionRef(Pa[Aa.name]):Aa.array&&!la(Tb)?Tb.map(ic=>Lc(Aa,ic,vb)):Lc(Aa,Tb,vb)}function Lc(Aa,Pa,vb){const Wb=Aa.type;return la(Pa)?"expr"===Wb?l.error("Expression references can not be signals."):"field"===Wb?vb.fieldRef(Pa):"compare"===Wb?vb.compareRef(Pa):vb.signalRef(Pa.signal):
(Aa=Aa.expr||"field"===Wb)&&Pa&&Pa.expr?vb.exprRef(Pa.expr,Pa.as):Aa&&Pa&&Pa.field?ja(Pa.field,Pa.as):"expr"===Wb?w.parseExpression(Pa,vb):"data"===Wb?T(vb.getData(Pa).values):"field"===Wb?ja(Pa):"compare"===Wb?vb.compareRef(Pa):Pa}function Fd(Aa,Pa,vb){l.isString(Pa.from)||l.error('Lookup "from" parameter must be a string literal.');return vb.getData(Pa.from).lookupRef(vb,Pa.key)}function ge(Aa,Pa,vb){Pa=Pa[Aa.name];return Aa.array?(l.isArray(Pa)||l.error("Expected an array of sub-parameters. Instead: "+
l.stringValue(Pa)),Pa.map(Wb=>wd(Aa,Wb,vb))):wd(Aa,Pa,vb)}function wd(Aa,Pa,vb){const Wb=Aa.params.length;let Tb;for(let ic=0;ic<Wb;++ic){Tb=Aa.params[ic];for(const oc in Tb.key)if(Tb.key[oc]!==Pa[oc]){Tb=null;break}if(Tb)break}Tb||l.error("Unsupported parameter: "+l.stringValue(Pa));Aa=l.extend(Uc(Tb,Pa,vb),Tb.key);return T(vb.add(Bf(Aa)))}function vd(Aa,Pa,vb){let Wb,Tb,ic,oc;if(!Aa)ic=T(vb.add(Ge(null,[{}])));else if(Wb=Aa.facet)Pa||l.error("Only group marks can be faceted."),null!=Wb.field?ic=
oc=Wd(Wb,vb):(Aa.data?oc=T(vb.getData(Aa.data).aggregate):(Pa=sc(l.extend({type:"aggregate",groupby:l.array(Wb.groupby)},Wb.aggregate),vb),Pa.params.key=vb.keyRef(Wb.groupby),Pa.params.pulse=Wd(Wb,vb),ic=oc=T(vb.add(Pa))),Tb=vb.keyRef(Wb.groupby,!0));ic||(ic=Wd(Aa,vb));return{key:Tb,pulse:ic,parent:oc}}function Wd(Aa,Pa){return Aa.$ref?Aa:Aa.data&&Aa.data.$ref?Aa.data:T(Pa.getData(Aa.data).output)}function Pb(Aa,Pa,vb,Wb,Tb){this.scope=Aa;this.input=Pa;this.output=vb;this.values=Wb;this.aggregate=
Tb;this.index={}}function gc(Aa){return l.isString(Aa)?Aa:null}function Eb(Aa,Pa,vb){const Wb=ha(vb.op,vb.field);let Tb;if(Pa.ops)for(let ic=0,oc=Pa.as.length;ic<oc;++ic){if(Pa.as[ic]===Wb)return}else Pa.ops=["count"],Pa.fields=[null],Pa.as=["count"];vb.op&&(Pa.ops.push((Tb=vb.op.signal)?Aa.signalRef(Tb):vb.op),Pa.fields.push(Aa.fieldRef(vb.field)),Pa.as.push(Wb))}function zc(Aa,Pa,vb,Wb,Tb,ic,oc){vb=Pa[vb]||(Pa[vb]={});var fd=l.isObject(ic)?("descending"===ic.order?"-":"+")+ha(ic.op,ic.field):"";
let Wc=gc(Tb);if(null!=Wc){Aa=Pa.scope;Wc+=fd?"|"+fd:"";var nd=vb[Wc]}nd||(nd=ic?{field:kf,pulse:Pa.countsRef(Aa,Tb,ic)}:{field:Aa.fieldRef(Tb),pulse:T(Pa.output)},fd&&(nd.sort=Aa.sortRef(ic)),Aa=Aa.add(new R(Wb,void 0,nd,void 0)),oc&&(Pa.index[Tb]=Aa),nd=T(Aa),null!=Wc&&(vb[Wc]=nd));return nd}function Vc(Aa,Pa,vb){var Wb=Aa.from.facet;const Tb=Wb.name,ic=Wd(Wb,Pa);let oc;Wb.name||l.error("Facet must have a name: "+l.stringValue(Wb));Wb.data||l.error("Facet must reference a data set: "+l.stringValue(Wb));
Wb.field?oc=Pa.add(qe({field:Pa.fieldRef(Wb.field),pulse:ic})):Wb.groupby?oc=Pa.add(xe({key:Pa.keyRef(Wb.groupby),group:T(Pa.proxy(vb.parent)),pulse:ic})):l.error("Facet must specify groupby or field: "+l.stringValue(Wb));Pa=Pa.fork();vb=Pa.add(Ge());Wb=Pa.add(ub({pulse:T(vb)}));Pa.addData(Tb,new Pb(Pa,vb,vb,Wb));Pa.addSignal("parent",null);oc.params.subflow={$subflow:Pa.parse(Aa).toRuntime()}}function Ed(Aa,Pa,vb){vb=Pa.add(qe({pulse:vb.pulse}));Pa=Pa.fork();Pa.add(ub());Pa.addSignal("parent",null);
vb.params.subflow={$subflow:Pa.parse(Aa).toRuntime()}}function Vd(Aa,Pa,vb){const Wb=Aa.remove,Tb=Aa.insert,ic=Aa.toggle,oc=Aa.modify,fd=Aa.values,Wc=Pa.add(new R("operator",void 0,void 0,void 0));Aa="if("+Aa.trigger+',modify("'+vb+'",'+[Tb,Wb,ic,oc,fd].map(nd=>null==nd?"null":nd).join(",")+"),0)";Pa=w.parseExpression(Aa,Pa);Wc.update=Pa.$expr;Wc.params=Pa.$params}function Ka(Aa,Pa){var vb=jc(Aa),Wb="group"===Aa.type,Tb=Aa.from&&Aa.from.facet;const ic=Aa.overlap;let oc=Aa.layout||"scope"===vb||"frame"===
vb,fd,Wc,nd,Kd,de,je;const Gd="mark"===vb||oc||Tb,Le=vd(Aa.from,Wb,Pa);Wc=Pa.add(Ye({key:Le.key||(Aa.key?ja(Aa.key):void 0),pulse:Le.pulse,clean:!Wb}));const $d=T(Wc);Wc=nd=Pa.add(Ge({pulse:$d}));Wc=Pa.add(lf({markdef:rc(Aa),interactive:Pc(Aa.interactive,Pa),clip:mb(Aa.clip,Pa),context:{$context:!0},groups:Pa.lookup(),parent:Pa.signals.parent?Pa.signalRef("parent"):null,index:Pa.markpath(),pulse:T(Wc)}));var Ie=T(Wc);Wc=Kd=Pa.add(Xf(F(Aa.encode,Aa.type,vb,Aa.style,Pa,{mod:!1,pulse:Ie})));Wc.params.parent=
Pa.encode();Aa.transform&&Aa.transform.forEach(Qe=>{Qe=sc(Qe,Pa);const Uf=Qe.metadata;(Uf.generates||Uf.changes)&&l.error("Mark transforms should not generate new data.");Uf.nomod||(Kd.params.mod=!0);Qe.params.pulse=T(Wc);Pa.add(Wc=Qe)});Aa.sort&&(Wc=Pa.add(Yb({sort:Pa.compareRef(Aa.sort),pulse:T(Wc)})));vb=T(Wc);if(Tb||oc)oc=Pa.add($b({layout:Pa.objectProperty(Aa.layout),legends:Pa.legends,mark:Ie,pulse:vb})),je=T(oc);const Ce=Pa.add(jf({mark:Ie,pulse:je||vb}));Ie=T(Ce);Wb&&(Gd&&(fd=Pa.operators,
fd.pop(),oc&&fd.pop()),Pa.pushState(vb,je||Ie,$d),Tb?Vc(Aa,Pa,Le):Gd?Ed(Aa,Pa,Le):Pa.parse(Aa),Pa.popState(),Gd&&(oc&&fd.push(oc),fd.push(Ce)));ic&&(Ie=eb(ic,Ie,Pa));Wb=Pa.add(Za({pulse:Ie}));Tb=Pa.add(ub({pulse:T(Wb)},void 0,Pa.parent()));null!=Aa.name&&(de=Aa.name,Pa.addData(de,new Pb(Pa,nd,Wb,Tb)),Aa.on&&Aa.on.forEach(Qe=>{(Qe.insert||Qe.remove||Qe.toggle)&&l.error("Marks only support modify triggers.");Vd(Qe,Pa,de)}))}function eb(Aa,Pa,vb){const Wb=Aa.method,Tb=Aa.bound,ic=Aa.separation;Pa={separation:la(ic)?
vb.signalRef(ic.signal):ic,method:la(Wb)?vb.signalRef(Wb.signal):Wb,pulse:Pa};Aa.order&&(Pa.sort=vb.compareRef({field:Aa.order}));Tb&&(Aa=Tb.tolerance,Pa.boundTolerance=la(Aa)?vb.signalRef(Aa.signal):+Aa,Pa.boundScale=vb.scaleRef(Tb.scale),Pa.boundOrient=Tb.orient);return T(vb.add(Sf(Pa)))}function wb(Aa,Pa){const vb=Pa.config.legend,Wb=Aa.encode||{},Tb=Ga(Aa,vb),ic=Wb.legend||{},oc=ic.name||void 0,fd=ic.interactive,Wc=ic.style,nd={};let Kd=0,de,je;Nd.forEach(Ce=>Aa[Ce]?(nd[Ce]=Aa[Ce],Kd=Kd||Aa[Ce]):
0);Kd||l.error("Missing valid scale for legend.");var Gd=Hb(Aa,Pa.scaleType(Kd));const Le={title:null!=Aa.title,scales:nd,type:Gd,vgrad:"symbol"!==Gd&&Tb.isVertical()},$d=T(Pa.add(Ge(null,[Le]))),Ie=T(Pa.add(Fe(je={type:Gd,scale:Pa.scaleRef(Kd),count:Pa.objectProperty(Tb("tickCount")),limit:Pa.property(Tb("symbolLimit")),values:Pa.objectProperty(Aa.values),minstep:Pa.property(Aa.tickMinStep),formatType:Pa.property(Aa.formatType),formatSpecifier:Pa.property(Aa.format)})));"gradient"===Gd?(Gd=[Fb(Aa,
Kd,vb,Wb.gradient),nc(Aa,vb,Wb.labels,Ie)],je.count=je.count||Pa.signalRef(`max(2,2*floor((${C(Tb.gradientLength())})/100))`)):"discrete"===Gd?Gd=[Xb(Aa,Kd,vb,Wb.gradient,Ie),nc(Aa,vb,Wb.labels,Ie)]:(de=pc(Aa,vb),Gd=[md(Aa,vb,Wb,Ie,C(de.columns))],je.size=Ac(Aa,Pa,Gd[0].marks));Gd=[Ca({role:"legend-entry",from:$d,encode:{enter:{x:{value:0},y:{value:0}}},marks:Gd,layout:de,interactive:fd})];Le.title&&Gd.push(Hc(Aa,vb,Wb.title,$d));return Ka(Ca({role:"legend",from:$d,encode:d(Lb(Tb,Aa,vb),ic,od),marks:Gd,
aria:Tb("aria"),description:Tb("description"),zindex:Tb("zindex"),name:oc,interactive:fd,style:Wc}),Pa)}function Hb(Aa,Pa){let vb=Aa.type||"symbol";Aa.type||1!==ac(Aa)||!Aa.fill&&!Aa.stroke||(vb=N.isContinuous(Pa)?"gradient":N.isDiscretizing(Pa)?"discrete":"symbol");return"gradient"!==vb?vb:N.isDiscretizing(Pa)?"discrete":"gradient"}function ac(Aa){return Nd.reduce((Pa,vb)=>Pa+(Aa[vb]?1:0),0)}function Lb(Aa,Pa,vb){const Wb={enter:{},update:{}};g(Wb,{orient:Aa("orient"),offset:Aa("offset"),padding:Aa("padding"),
titlePadding:Aa("titlePadding"),cornerRadius:Aa("cornerRadius"),fill:Aa("fillColor"),stroke:Aa("strokeColor"),strokeWidth:vb.strokeWidth,strokeDash:vb.strokeDash,x:Aa("legendX"),y:Aa("legendY"),format:Pa.format,formatType:Pa.formatType});return Wb}function Ac(Aa,Pa,vb){const Wb=C(tc("size",Aa,vb));Aa=C(tc("strokeWidth",Aa,vb));(vb=pa("fontSize",vb[1].encode))||(vb=(vb=Pa.config.style["guide-label"])&&vb.fontSize);vb=C(vb);return w.parseExpression(`max(ceil(sqrt(${Wb})+${Aa}),${vb})`,Pa)}function tc(Aa,
Pa,vb){return Pa[Aa]?`scale("${Pa[Aa]}",datum)`:pa(Aa,vb[0].encode)}function pb(Aa,Pa){Aa=l.isString(Aa)?{text:Aa}:Aa;const vb=Ga(Aa,Pa.config.title),Wb=Aa.encode||{};var Tb=Wb.group||{};const ic=Tb.name||void 0,oc=Tb.interactive,fd=Tb.style,Wc=[],nd=T(Pa.add(Ge(null,[{}])));Wc.push(Ub(Aa,vb,Bb(Aa),nd));Aa.subtitle&&Wc.push(mc(Aa,vb,Wb.subtitle,nd));Aa={enter:{},update:{}};g(Aa,{orient:vb("orient"),anchor:vb("anchor"),align:{signal:Qd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:vb("limit"),frame:vb("frame"),offset:vb("offset")||0,padding:vb("subtitlePadding")});Tb=d(Aa,Tb,od);return Ka(Ca({role:"title",from:nd,encode:Tb,marks:Wc,aria:vb("aria"),description:vb("description"),zindex:vb("zindex"),name:ic,interactive:oc,style:fd}),Pa)}function Bb(Aa){const Pa=Aa.encode;return Pa&&Pa.title||l.extend({name:Aa.name,interactive:Aa.interactive,style:Aa.style},Pa)}function Ub(Aa,Pa,vb,Wb){var Tb={value:0};Tb={enter:{opacity:Tb},update:{opacity:{value:1}},exit:{opacity:Tb}};
g(Tb,{text:Aa.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Pa("dx"),dy:Pa("dy"),fill:Pa("color"),font:Pa("font"),fontSize:Pa("fontSize"),fontStyle:Pa("fontStyle"),fontWeight:Pa("fontWeight"),lineHeight:Pa("lineHeight")},{align:Pa("align"),angle:Pa("angle"),baseline:Pa("baseline")});return jb({type:"text",role:"title-text",style:"group-title",from:Wb,encode:Tb},vb)}function mc(Aa,Pa,vb,Wb){var Tb={value:0};
Tb={enter:{opacity:Tb},update:{opacity:{value:1}},exit:{opacity:Tb}};g(Tb,{text:Aa.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Pa("dx"),dy:Pa("dy"),fill:Pa("subtitleColor"),font:Pa("subtitleFont"),fontSize:Pa("subtitleFontSize"),fontStyle:Pa("subtitleFontStyle"),fontWeight:Pa("subtitleFontWeight"),lineHeight:Pa("subtitleLineHeight")},{align:Pa("align"),angle:Pa("angle"),baseline:Pa("baseline")});return jb({type:"text",
role:"title-subtitle",style:"group-subtitle",from:Wb,encode:Tb},vb)}function Bc(Aa,Pa){const vb=[];Aa.transform&&Aa.transform.forEach(Wb=>{vb.push(sc(Wb,Pa))});Aa.on&&Aa.on.forEach(Wb=>{Vd(Wb,Pa,Aa.name)});Pa.addDataPipeline(Aa.name,Cc(Aa,Pa,vb))}function Cc(Aa,Pa,vb){const Wb=[];let Tb=null,ic=!1,oc=!1,fd,Wc,nd,Kd;Aa.values?la(Aa.values)||Z(Aa.format)?(Wb.push(Qb(Pa,Aa)),Wb.push(Tb=Xc())):Wb.push(Tb=Xc({$ingest:Aa.values,$format:Aa.format})):Aa.url?Z(Aa.url)||Z(Aa.format)?(Wb.push(Qb(Pa,Aa)),Wb.push(Tb=
Xc())):Wb.push(Tb=Xc({$request:Aa.url,$format:Aa.format})):Aa.source&&(Tb=fd=l.array(Aa.source).map(de=>T(Pa.getData(de).output)),Wb.push(null));Aa=0;for(Wc=vb.length;Aa<Wc;++Aa)nd=vb[Aa],Kd=nd.metadata,Tb||Kd.source||Wb.push(Tb=Xc()),Wb.push(nd),Kd.generates&&(oc=!0),Kd.modifies&&!oc&&(ic=!0),Kd.source?Tb=nd:Kd.changes&&(Tb=null);fd&&(Wc=fd.length-1,Wb[0]=Ea({derive:ic,pulse:Wc?fd:fd[0]}),(ic||Wc)&&Wb.splice(1,0,Xc()));Tb||Wb.push(Xc());Wb.push(ub({}));return Wb}function Xc(Aa){Aa=Ge({},Aa);Aa.metadata=
{source:!0};return Aa}function Qb(Aa,Pa){return ue({url:Pa.url?Aa.property(Pa.url):void 0,async:Pa.async?Aa.property(Pa.async):void 0,values:Pa.values?Aa.property(Pa.values):void 0,format:Aa.objectProperty(Pa.format)})}function Ic(Aa,Pa,vb,Wb){let Tb;if(Pa&&l.hasOwnProperty(Pa,Aa))return Pa[Aa];if(l.hasOwnProperty(vb,Aa))return vb[Aa];if(Aa.startsWith("title")){switch(Aa){case "titleColor":Tb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Tb=Aa[5].toLowerCase()+Aa.slice(6)}return Wb["guide-title"][Tb]}if(Aa.startsWith("label")){switch(Aa){case "labelColor":Tb=
"fill";break;case "labelFont":case "labelFontSize":Tb=Aa[5].toLowerCase()+Aa.slice(6)}return Wb["guide-label"][Tb]}return null}function Dc(Aa){const Pa={};for(const vb of Aa)if(vb)for(const Wb in vb)Pa[Wb]=1;return Object.keys(Pa)}function uc(Aa,Pa,vb,Wb){var Tb=Ga(Aa,Pa);Pa=Aa.orient;let ic,oc;const fd={enter:ic={opacity:Id},update:oc={opacity:jd},exit:{opacity:Id}};g(fd,{stroke:Tb("domainColor"),strokeCap:Tb("domainCap"),strokeDash:Tb("domainDash"),strokeDashOffset:Tb("domainDashOffset"),strokeWidth:Tb("domainWidth"),
strokeOpacity:Tb("domainOpacity")});Tb={scale:Aa.scale,range:0};Aa={scale:Aa.scale,range:1};ic.x=oc.x=We(Pa,Tb,Id);ic.x2=oc.x2=We(Pa,Aa);ic.y=oc.y=uf(Pa,Tb,Id);ic.y2=oc.y2=uf(Pa,Aa);return jb({type:"rule",role:"axis-domain",from:Wb,encode:fd},vb)}function Tc(Aa,Pa,vb,Wb,Tb){var ic=Ga(Aa,Pa);Pa=Aa.orient;var oc=Aa.gridScale;const fd=kd(Pa,1,-1);a:{var Wc=Aa.offset;if(1!==fd)if(l.isObject(Wc)){for(var nd=Wc=l.extend({},Wc);null!=nd.mult;)if(l.isObject(nd.mult))nd=nd.mult=l.extend({},nd.mult);else{nd.mult=
la(fd)?{signal:`(${nd.mult}) * (${fd.signal})`}:nd.mult*fd;break a}nd.mult=fd}else Wc=la(fd)?{signal:`(${fd.signal}) * (${Wc||0})`}:fd*(Wc||0)}const Kd=Wc;let de;const je={enter:Wc={opacity:Id},update:de={opacity:jd},exit:nd={opacity:Id}};g(je,{stroke:ic("gridColor"),strokeCap:ic("gridCap"),strokeDash:ic("gridDash"),strokeDashOffset:ic("gridDashOffset"),strokeOpacity:ic("gridOpacity"),strokeWidth:ic("gridWidth")});Aa={scale:Aa.scale,field:"value",band:Tb.band,extra:Tb.extra,offset:Tb.offset,round:ic("tickRound")};
ic=We(Pa,{signal:"height"},{signal:"width"});Tb=oc?{scale:oc,range:0,mult:fd,offset:Kd}:{value:0,offset:Kd};oc=oc?{scale:oc,range:1,mult:fd,offset:Kd}:l.extend(ic,{mult:fd,offset:Kd});Wc.x=de.x=We(Pa,Aa,Tb);Wc.y=de.y=uf(Pa,Aa,Tb);Wc.x2=de.x2=uf(Pa,oc);Wc.y2=de.y2=We(Pa,oc);nd.x=We(Pa,Aa);nd.y=uf(Pa,Aa);return jb({type:"rule",role:"axis-grid",key:"value",from:Wb,encode:je},vb)}function ad(Aa,Pa,vb,Wb,Tb,ic){const oc=Ga(Aa,Pa);Pa=Aa.orient;const fd=kd(Pa,-1,1);let Wc,nd,Kd;const de={enter:Wc={opacity:Id},
update:Kd={opacity:jd},exit:nd={opacity:Id}};g(de,{stroke:oc("tickColor"),strokeCap:oc("tickCap"),strokeDash:oc("tickDash"),strokeDashOffset:oc("tickDashOffset"),strokeOpacity:oc("tickOpacity"),strokeWidth:oc("tickWidth")});Tb=Ue(Tb);Tb.mult=fd;Aa={scale:Aa.scale,field:"value",band:ic.band,extra:ic.extra,offset:ic.offset,round:oc("tickRound")};Kd.y=Wc.y=We(Pa,Id,Aa);Kd.y2=Wc.y2=We(Pa,Tb);nd.x=We(Pa,Aa);Kd.x=Wc.x=uf(Pa,Id,Aa);Kd.x2=Wc.x2=uf(Pa,Tb);nd.y=uf(Pa,Aa);return jb({type:"rule",role:"axis-tick",
key:"value",from:Wb,encode:de},vb)}function ld(Aa,Pa,vb,Wb,Tb){return{signal:'flush(range("'+Aa+'"), scale("'+Aa+'", datum.value), '+Pa+","+vb+","+Wb+","+Tb+")"}}function Cd(Aa,Pa,vb,Wb,Tb,ic){Pa=Ga(Aa,Pa);const oc=Aa.orient;Aa=Aa.scale;var fd=kd(oc,-1,1),Wc=C(Pa("labelFlush")),nd=C(Pa("labelFlushOffset")),Kd=Pa("labelAlign"),de=Pa("labelBaseline");let je=0===Wc||!!Wc;var Gd=Ue(Tb);Gd.mult=fd;Gd.offset=Ue(Pa("labelPadding")||0);Gd.offset.mult=fd;fd={scale:Aa,field:"value",band:.5,offset:Ua(ic.offset,
Pa("labelOffset"))};ic=je?ld(Aa,Wc,'"left"','"right"','"center"'):{value:"center"};Tb=la(oc)?yf(`${oc.signal} === '${"right"}'`,"left","right"):"right"===oc?{value:"left"}:{value:"right"};ic=We(oc,ic,Tb);Tb=We(oc,mf(oc,"bottom","top"),je?ld(Aa,Wc,'"top"','"bottom"','"middle"'):{value:"middle"});Wc=ld(Aa,Wc,`-(${nd})`,nd,0);je=je&&nd;Gd={opacity:Id,x:We(oc,fd,Gd),y:uf(oc,fd,Gd)};Gd={enter:Gd,update:nd={opacity:jd,text:{field:"label"},x:Gd.x,y:Gd.y,align:ic,baseline:Tb},exit:{opacity:Id,x:Gd.x,y:Gd.y}};
g(Gd,{dx:!Kd&&je?We(oc,Wc):null,dy:!de&&je?uf(oc,Wc):null});g(Gd,{angle:Pa("labelAngle"),fill:Pa("labelColor"),fillOpacity:Pa("labelOpacity"),font:Pa("labelFont"),fontSize:Pa("labelFontSize"),fontWeight:Pa("labelFontWeight"),fontStyle:Pa("labelFontStyle"),limit:Pa("labelLimit"),lineHeight:Pa("labelLineHeight")},{align:Kd,baseline:de});Kd=Pa("labelBound");de=(de=Pa("labelOverlap"))||Kd?{separation:Pa("labelSeparation"),method:de,order:"datum.index",bound:Kd?{scale:Aa,orient:oc,tolerance:Kd}:null}:
void 0;nd.align!==ic&&(nd.align=nf(nd.align,ic));nd.baseline!==Tb&&(nd.baseline=nf(nd.baseline,Tb));return jb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Wb,encode:Gd,overlap:de},vb)}function Dd(Aa,Pa,vb,Wb){Pa=Ga(Aa,Pa);const Tb=Aa.orient,ic=kd(Tb,-1,1);let oc,fd;const Wc={enter:oc={opacity:Id,anchor:Ue(Pa("titleAnchor",null)),align:{signal:Qd}},update:fd=l.extend({},oc,{opacity:jd,text:Ue(Aa.title)}),exit:{opacity:Id}};Aa={signal:`lerp(range("${Aa.scale}"), ${Ha(0,1,.5)})`};
fd.x=We(Tb,Aa);fd.y=uf(Tb,Aa);Aa=la(ic)?{signal:`(${ic.signal}) * ${90}`}:{value:90*ic};oc.angle=We(Tb,Id,Aa);oc.baseline=We(Tb,mf(Tb,"bottom","top"),{value:"bottom"});fd.angle=oc.angle;fd.baseline=oc.baseline;g(Wc,{fill:Pa("titleColor"),fillOpacity:Pa("titleOpacity"),font:Pa("titleFont"),fontSize:Pa("titleFontSize"),fontStyle:Pa("titleFontStyle"),fontWeight:Pa("titleFontWeight"),limit:Pa("titleLimit"),lineHeight:Pa("titleLineHeight")},{align:Pa("titleAlign"),angle:Pa("titleAngle"),baseline:Pa("titleBaseline")});
Ud(Pa,Tb,Wc,vb);Wc.update.align=nf(Wc.update.align,oc.align);Wc.update.angle=nf(Wc.update.angle,oc.angle);Wc.update.baseline=nf(Wc.update.baseline,oc.baseline);return jb({type:"text",role:"axis-title",style:"guide-title",from:Wb,encode:Wc},vb)}function Ud(Aa,Pa,vb,Wb){const Tb=(oc,fd)=>null!=oc?(vb.update[fd]=nf(Ue(oc),vb.update[fd]),!1):f(fd,Wb)?!1:!0,ic=Tb(Aa("titleX"),"x");Aa=Tb(Aa("titleY"),"y");vb.enter.auto=Aa===ic?Ue(Aa):We(Pa,Ue(Aa),Ue(ic))}function ae(Aa,Pa,vb){const Wb=l.array(Aa.signals),
Tb=l.array(Aa.scales);vb||Wb.forEach(ic=>K(ic,Pa));l.array(Aa.projections).forEach(ic=>{{const oc=Pa.config.projection||{},fd={};for(const Wc in ic)"name"!==Wc&&(fd[Wc]=$a(ic[Wc],Wc,Pa));for(const Wc in oc)null==fd[Wc]&&(fd[Wc]=$a(oc[Wc],Wc,Pa));Pa.addProjection(ic.name,fd)}});Tb.forEach(ic=>{{const oc=ic.type||"linear";N.isValidScaleType(oc)||l.error("Unrecognized scale type: "+l.stringValue(oc));Pa.addScale(ic.name,{type:oc,domain:void 0})}});l.array(Aa.data).forEach(ic=>Bc(ic,Pa));Tb.forEach(ic=>
{{const Wc=Pa.getScale(ic.name).params;let nd;Wc.domain=W(ic.domain,ic,Pa);null!=ic.range&&(Wc.range=db(ic,Pa,Wc));if(null!=ic.interpolate){var oc=ic.interpolate,fd=Wc;fd.interpolate=Da(oc.type||oc);null!=oc.gamma&&(fd.interpolateGamma=Da(oc.gamma))}null!=ic.nice&&(oc=ic.nice,oc=l.isObject(oc)?{interval:Da(oc.interval),step:Da(oc.step)}:Da(oc),Wc.nice=oc);null!=ic.bins&&(oc=ic.bins,oc=oc.signal||l.isArray(oc)?ta(oc,Pa):Pa.objectProperty(oc),Wc.bins=oc);for(nd in ic)l.hasOwnProperty(Wc,nd)||"name"===
nd||(Wc[nd]=Da(ic[nd],Pa))}});(vb||Wb).forEach(ic=>Ya(ic,Pa));l.array(Aa.axes).forEach(ic=>{var oc=Pa.config,fd=oc.style,Wc=oc.axis,nd="band"===Pa.scaleType(ic.scale)&&oc.axisBand,Kd=ic.orient;if(la(Kd)){var de=Dc([oc.axisX,oc.axisY]);var je=Dc([oc.axisTop,oc.axisBottom,oc.axisLeft,oc.axisRight]);var Gd={};for(ne of de)Gd[ne]=We(Kd,Ic(ne,oc.axisX,Wc,fd),Ic(ne,oc.axisY,Wc,fd));de={};for(ne of je){je=de;var Le=ne;var $d=Kd.signal;var Ie=Ic(ne,oc.axisTop,Wc,fd),Ce=Ic(ne,oc.axisBottom,Wc,fd),Qe=Ic(ne,
oc.axisLeft,Wc,fd),Uf=Ic(ne,oc.axisRight,Wc,fd);$d={signal:(null!=Qe?`${$d} === '${"left"}' ? (${Pe(Qe)}) : `:"")+(null!=Ce?`${$d} === '${"bottom"}' ? (${Pe(Ce)}) : `:"")+(null!=Uf?`${$d} === '${"right"}' ? (${Pe(Uf)}) : `:"")+(null!=Ie?`${$d} === '${"top"}' ? (${Pe(Ie)}) : `:"")+"(null)"};je[Le]=$d}}else Gd="top"===Kd||"bottom"===Kd?oc.axisX:oc.axisY,de=oc["axis"+Kd[0].toUpperCase()+Kd.slice(1)];Gd=Gd||de||nd?l.extend({},Wc,Gd,de,nd):Wc;var ne=ic.encode||{};oc=ne.axis||{};fd=oc.name||void 0;Wc=oc.interactive;
nd=oc.style;$d=Kd=Ga(ic,Gd);de=$d("tickBand");je=$d("tickOffset");de?de.signal?(Le={signal:`(${de.signal}) === 'extent' ? 1 : 0.5`},$d={signal:`(${de.signal}) === 'extent'`},l.isObject(je)||(je={signal:`(${de.signal}) === 'extent' ? 0 : ${je}`})):"extent"===de?(Le=1,$d=!0,je=0):(Le=.5,$d=!1):(Le=$d("bandPosition"),$d=$d("tickExtra"));Le={extra:$d,band:Le,offset:je};$d={scale:ic.scale,ticks:!!Kd("ticks"),labels:!!Kd("labels"),grid:!!Kd("grid"),domain:!!Kd("domain"),title:null!=ic.title};de=T(Pa.add(Ge({},
[$d])));Ie=T(Pa.add(Be({scale:Pa.scaleRef(ic.scale),extra:Pa.property(Le.extra),count:Pa.objectProperty(ic.tickCount),values:Pa.objectProperty(ic.values),minstep:Pa.property(ic.tickMinStep),formatType:Pa.property(ic.formatType),formatSpecifier:Pa.property(ic.format)})));je=[];$d.grid&&je.push(Tc(ic,Gd,ne.grid,Ie,Le));if($d.ticks){var sf=Kd("tickSize");je.push(ad(ic,Gd,ne.ticks,Ie,sf,Le))}$d.labels&&(sf=$d.ticks?sf:0,je.push(Cd(ic,Gd,ne.labels,Ie,sf,Le)));$d.domain&&je.push(uc(ic,Gd,ne.domain,de));
$d.title&&je.push(Dd(ic,Gd,ne.title,de));sf=Kd;Gd={enter:{},update:{}};g(Gd,{orient:sf("orient"),offset:sf("offset")||0,position:P(ic.position,0),titlePadding:sf("titlePadding"),minExtent:sf("minExtent"),maxExtent:sf("maxExtent"),range:{signal:`abs(span(range("${ic.scale}")))`},translate:sf("translate"),format:ic.format,formatType:ic.formatType});ic=Gd;return ic=Ka(Ca({role:"axis",from:de,encode:d(ic,oc,od),marks:je,aria:Kd("aria"),description:Kd("description"),zindex:Kd("zindex"),name:fd,interactive:Wc,
style:nd}),Pa)});l.array(Aa.marks).forEach(ic=>Ka(ic,Pa));l.array(Aa.legends).forEach(ic=>wb(ic,Pa));Aa.title&&pb(Aa.title,Pa);Pa.parseLambdas();return Pa}function oe(Aa,Pa){var vb=Pa.config;const Wb=T(Pa.root=Pa.add(new R("operator",void 0,void 0,void 0))),Tb=fe(Aa,vb);Tb.forEach(fd=>K(fd,Pa));Pa.description=Aa.description||vb.description;Pa.eventConfig=vb.events;Pa.legends=Pa.objectProperty(vb.legend&&vb.legend.layout);Pa.locale=vb.locale;vb=Pa.add(Ge());const ic=Pa.add(Xf(F(d({enter:{x:{value:0},
y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},Aa.encode),"group","frame",Aa.style,Pa,{pulse:T(vb)}))),oc=Pa.add($b({layout:Pa.objectProperty(Aa.layout),legends:Pa.legends,autosize:Pa.signalRef("autosize"),mark:Wb,pulse:T(ic)}));Pa.operators.pop();Pa.pushState(T(ic),T(oc),null);ae(Aa,Pa,Tb);Pa.operators.push(oc);Aa=Pa.add(jf({mark:Wb,pulse:T(oc)}));Aa=Pa.add(Za({pulse:T(Aa)}));Aa=Pa.add(ub({pulse:T(Aa)}));Pa.addData("root",new Pb(Pa,vb,vb,Aa));return Pa}function De(Aa,Pa){return Pa&&
Pa.signal?{name:Aa,update:Pa.signal}:{name:Aa,value:Pa}}function fe(Aa,Pa){const vb=oc=>P(Aa[oc],Pa[oc]),Wb=[De("background",vb("background")),De("autosize",v(vb("autosize"))),De("padding",u(vb("padding"))),De("width",vb("width")||0),De("height",vb("height")||0)],Tb=Wb.reduce((oc,fd)=>(oc[fd.name]=fd,oc),{}),ic={};l.array(Aa.signals).forEach(oc=>{l.hasOwnProperty(Tb,oc.name)?oc=l.extend(Tb[oc.name],oc):Wb.push(oc);ic[oc.name]=oc});l.array(Pa.signals).forEach(oc=>{l.hasOwnProperty(ic,oc.name)||l.hasOwnProperty(Tb,
oc.name)||Wb.push(oc)});return Wb}function ef(Aa,Pa){this.config=Aa||{};this.options=Pa||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ze(Aa){this.config=Aa.config;this.options=Aa.options;this.legends=Aa.legends;this.field=Object.create(Aa.field);
this.signals=Object.create(Aa.signals);this.lambdas=Object.create(Aa.lambdas);this.scales=Object.create(Aa.scales);this.events=Object.create(Aa.events);this.data=Object.create(Aa.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++Aa._nextsub[0];this._nextsub=Aa._nextsub;this._parent=Aa._parent.slice();this._encode=Aa._encode.slice();this._lookup=Aa._lookup.slice();this._markpath=Aa._markpath}function df(Aa){return(l.isArray(Aa)?Zd:he)(Aa)}function Zd(Aa){const Pa=Aa.length;
let vb="[";for(let Wb=0;Wb<Pa;++Wb){const Tb=Aa[Wb];vb+=(0<Wb?",":"")+(l.isObject(Tb)?Tb.signal||df(Tb):l.stringValue(Tb))}return vb+"]"}function he(Aa){let Pa="{",vb=0,Wb,Tb;for(Wb in Aa)Tb=Aa[Wb],Pa+=(1<++vb?",":"")+l.stringValue(Wb)+":"+(l.isObject(Tb)?Tb.signal||df(Tb):l.stringValue(Tb));return Pa+"}"}function zf(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,
titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",
symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Ue=Aa=>l.isObject(Aa)&&!l.isArray(Aa)?l.extend({},
Aa):{value:Aa},Nf=Aa=>l.isString(Aa)?l.stringValue(Aa):Aa.signal?`(${Aa.signal})`:D(Aa),me=(Aa,Pa,vb,Wb)=>`(${Aa}(${[Pa,vb,Wb].map(n).join(",")})+'')`,te=["value","update","init","react","bind"],kf=ja("key"),we={code:"_.$value",ast:{type:"Identifier",value:"value"}},Od=Aa=>(Pa,vb,Wb)=>new R(Aa,vb,Pa||void 0,Wb),Xd=Od("aggregate"),Be=Od("axisticks"),jf=Od("bound"),Ge=Od("collect"),Td=Od("compare"),Ye=Od("datajoin"),Xf=Od("encode"),Gc=Od("expression"),xe=Od("facet"),le=Od("field"),kc=Od("key"),Fe=Od("legendentries"),
ue=Od("load"),lf=Od("mark"),Yf=Od("multiextent"),If=Od("multivalues"),Sf=Od("overlap"),Bf=Od("params"),qe=Od("prefacet"),yc=Od("projection"),wa=Od("proxy"),Ea=Od("relay"),Za=Od("render"),Cb=Od("scale"),ub=Od("sieve"),Yb=Od("sortitems"),$b=Od("viewlayout"),Oc=Od("values");let gd=0;const Mc={min:"min",max:"max",count:"sum"},Nd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),od={name:1,style:1,interactive:1},Id={value:0},jd={value:1},Qd=Ha(l.stringValue("left"),l.stringValue("right"),
l.stringValue("center")),ie=Ha('"top"','"bottom"','"middle"'),Gf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ha('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Qd}`,tf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${ie}) : "top"`;Pb.fromEntries=
function(Aa,Pa){const vb=Pa.length,Wb=Pa[vb-1],Tb=Pa[vb-2];let ic=Pa[0],oc=null,fd=1;ic&&"load"===ic.type&&(ic=Pa[1]);for(Aa.add(Pa[0]);fd<vb;++fd)Pa[fd].params.pulse=T(Pa[fd-1]),Aa.add(Pa[fd]),"aggregate"===Pa[fd].type&&(oc=Pa[fd]);return new Pb(Aa,ic,Tb,Wb,oc)};Pb.prototype={countsRef(Aa,Pa,vb){const Wb=this.counts||(this.counts={}),Tb=gc(Pa);if(null!=Tb){Aa=this.scope;var ic=Wb[Tb]}ic?vb&&vb.field&&Eb(Aa,ic.agg.params,vb):(ic={groupby:Aa.fieldRef(Pa,"key"),pulse:T(this.output)},vb&&vb.field&&Eb(Aa,
ic,vb),vb=Aa.add(Xd(ic)),ic=Aa.add(Ge({pulse:T(vb)})),ic={agg:vb,ref:T(ic)},null!=Tb&&(Wb[Tb]=ic));return ic.ref},tuplesRef(){return T(this.values)},extentRef(Aa,Pa){return zc(Aa,this,"extent","extent",Pa,!1)},domainRef(Aa,Pa){return zc(Aa,this,"domain","values",Pa,!1)},valuesRef(Aa,Pa,vb){return zc(Aa,this,"vals","values",Pa,vb||!0)},lookupRef(Aa,Pa){return zc(Aa,this,"lookup","tupleindex",Pa,!1)},indataRef(Aa,Pa){return zc(Aa,this,"indata","tupleindex",Pa,!0,!0)}};const kd=(Aa,Pa,vb)=>{la(Aa)?(Aa=
Aa.signal,Pa=yf(`${Aa} === '${"left"}' || ${Aa} === '${"top"}'`,Pa,vb)):Pa="left"===Aa||"top"===Aa?Pa:vb;return Pa},We=(Aa,Pa,vb)=>{la(Aa)?(Aa=Aa.signal,Pa=Zf(`${Aa} === '${"top"}' || ${Aa} === '${"bottom"}'`,Pa,vb)):Pa="bottom"===Aa||"top"===Aa?Pa:vb;return Pa},uf=(Aa,Pa,vb)=>{la(Aa)?(Aa=Aa.signal,Pa=Zf(`${Aa} !== '${"top"}' && ${Aa} !== '${"bottom"}'`,Pa,vb)):Pa="bottom"===Aa||"top"===Aa?vb:Pa;return Pa},mf=(Aa,Pa,vb)=>la(Aa)?yf(`${Aa.signal} === '${"top"}'`,Pa,vb):"top"===Aa?{value:Pa}:{value:vb},
Zf=(Aa,Pa,vb)=>{Pa=null!=Pa?Ue(Pa):Pa;vb=null!=vb?Ue(vb):vb;if(null!=Pa&&1!==Object.keys(Pa).length||null!=vb&&1!==Object.keys(vb).length)return[l.extend({test:Aa},Pa)].concat(vb||[]);Pa=Pa?Pa.signal||l.stringValue(Pa.value):null;vb=vb?vb.signal||l.stringValue(vb.value):null;return{signal:`${Aa} ? (${Pa}) : (${vb})`}},yf=(Aa,Pa,vb)=>({signal:`${Aa} ? (${Pe(Pa)}) : (${Pe(vb)})`}),Pe=Aa=>la(Aa)?Aa.signal:null==Aa?null:l.stringValue(Aa),nf=(Aa,Pa)=>{const vb=Aa.signal;return vb&&vb.endsWith("(null)")?
{signal:vb.slice(0,-6)+Pa.signal}:Aa};ef.prototype=Ze.prototype={parse(Aa){return ae(Aa,this)},fork(){return new Ze(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(Aa){this.operators.push(Aa);Aa.id=this.id();Aa.refs&&(Aa.refs.forEach(Pa=>{Pa.$ref=
Aa.id}),Aa.refs=null);return Aa},proxy(Aa){Aa=Aa instanceof R?T(Aa):Aa;return this.add(wa({value:Aa}))},addStream(Aa){this.streams.push(Aa);Aa.id=this.id();return Aa},addUpdate(Aa){this.updates.push(Aa);return Aa},finish(){function Aa(Wb,Tb,ic){Wb&&(Wb=Wb.data||(Wb.data={}),Tb=Wb[Tb]||(Wb[Tb]=[]),Tb.push(ic))}let Pa,vb;this.root&&(this.root.root=!0);for(Pa in this.signals)this.signals[Pa].signal=Pa;for(Pa in this.scales)this.scales[Pa].scale=Pa;for(Pa in this.data){vb=this.data[Pa];Aa(vb.input,Pa,
"input");Aa(vb.output,Pa,"output");Aa(vb.values,Pa,"values");for(const Wb in vb.index)Aa(vb.index[Wb],Pa,"index:"+Wb)}return this},pushState(Aa,Pa,vb){this._encode.push(T(this.add(ub({pulse:Aa}))));this._parent.push(Pa);this._lookup.push(vb?T(this.proxy(vb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const Aa=
this._markpath;return++Aa[Aa.length-1]},fieldRef(Aa,Pa){if(l.isString(Aa))return ja(Aa,Pa);Aa.signal||l.error("Unsupported field reference: "+l.stringValue(Aa));Aa=Aa.signal;var vb=this.field[Aa];vb||(vb={name:this.signalRef(Aa)},Pa&&(vb.as=Pa),this.field[Aa]=vb=T(this.add(le(vb))));return vb},compareRef(Aa){let Pa=!1;const vb=Tb=>la(Tb)?(Pa=!0,this.signalRef(Tb.signal)):Tb&&Tb.expr?(Pa=!0,this.exprRef(Tb.expr)):Tb,Wb=l.array(Aa.field).map(vb);Aa=l.array(Aa.order).map(vb);return Pa?T(this.add(Td({fields:Wb,
orders:Aa}))):{$compare:Wb,$order:Aa}},keyRef(Aa,Pa){let vb=!1;const Wb=this.signals;Aa=l.array(Aa).map(Tb=>la(Tb)?(vb=!0,T(Wb[Tb.signal])):Tb);return vb?T(this.add(kc({fields:Aa,flat:Pa}))):fa(Aa,Pa)},sortRef(Aa){if(!Aa)return Aa;const Pa=ha(Aa.op,Aa.field);Aa=Aa.order||"ascending";return Aa.signal?T(this.add(Td({fields:Pa,orders:this.signalRef(Aa.signal)}))):{$compare:Pa,$order:Aa}},event(Aa,Pa){const vb=Aa+":"+Pa;if(!this.events[vb]){const Wb=this.id();this.streams.push({id:Wb,source:Aa,type:Pa});
this.events[vb]=Wb}return this.events[vb]},hasOwnSignal(Aa){return l.hasOwnProperty(this.signals,Aa)},addSignal(Aa,Pa){this.hasOwnSignal(Aa)&&l.error("Duplicate signal name: "+l.stringValue(Aa));Pa=Pa instanceof R?Pa:this.add(new R("operator",Pa,void 0,void 0));return this.signals[Aa]=Pa},getSignal(Aa){this.signals[Aa]||l.error("Unrecognized signal name: "+l.stringValue(Aa));return this.signals[Aa]},signalRef(Aa){if(this.signals[Aa])return T(this.signals[Aa]);l.hasOwnProperty(this.lambdas,Aa)||(this.lambdas[Aa]=
this.add(new R("operator",null,void 0,void 0)));return T(this.lambdas[Aa])},parseLambdas(){const Aa=Object.keys(this.lambdas);for(let vb=0,Wb=Aa.length;vb<Wb;++vb){var Pa=Aa[vb];const Tb=w.parseExpression(Pa,this);Pa=this.lambdas[Pa];Pa.params=Tb.$params;Pa.update=Tb.$expr}},property(Aa){return Aa&&Aa.signal?this.signalRef(Aa.signal):Aa},objectProperty(Aa){return Aa&&l.isObject(Aa)?this.signalRef(Aa.signal||df(Aa)):Aa},exprRef(Aa,Pa){Aa={expr:w.parseExpression(Aa,this)};Pa&&(Aa.expr.$name=Pa);return T(this.add(Gc(Aa)))},
addBinding(Aa,Pa){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(Aa));this.bindings.push(l.extend({signal:Aa},Pa))},addScaleProj(Aa,Pa){l.hasOwnProperty(this.scales,Aa)&&l.error("Duplicate scale or projection name: "+l.stringValue(Aa));this.scales[Aa]=this.add(Pa)},addScale(Aa,Pa){this.addScaleProj(Aa,Cb(Pa))},addProjection(Aa,Pa){this.addScaleProj(Aa,yc(Pa))},getScale(Aa){this.scales[Aa]||l.error("Unrecognized scale name: "+l.stringValue(Aa));return this.scales[Aa]},
scaleRef(Aa){return T(this.getScale(Aa))},scaleType(Aa){return this.getScale(Aa).params.type},projectionRef(Aa){return this.scaleRef(Aa)},projectionType(Aa){return this.scaleType(Aa)},addData(Aa,Pa){l.hasOwnProperty(this.data,Aa)&&l.error("Duplicate data set name: "+l.stringValue(Aa));return this.data[Aa]=Pa},getData(Aa){this.data[Aa]||l.error("Undefined data set name: "+l.stringValue(Aa));return this.data[Aa]},addDataPipeline(Aa,Pa){l.hasOwnProperty(this.data,Aa)&&l.error("Duplicate data set name: "+
l.stringValue(Aa));return this.addData(Aa,Pb.fromEntries(this,Pa))}};k.AxisDomainRole="axis-domain";k.AxisGridRole="axis-grid";k.AxisLabelRole="axis-label";k.AxisRole="axis";k.AxisTickRole="axis-tick";k.AxisTitleRole="axis-title";k.DataScope=Pb;k.FrameRole="frame";k.LegendEntryRole="legend-entry";k.LegendLabelRole="legend-label";k.LegendRole="legend";k.LegendSymbolRole="legend-symbol";k.LegendTitleRole="legend-title";k.MarkRole="mark";k.Scope=ef;k.ScopeRole="scope";k.config=zf;k.parse=function(Aa,
Pa,vb){l.isObject(Aa)||l.error("Input Vega specification must be an object.");Pa=l.mergeConfig(zf(),Pa,Aa.config);return oe(Aa,new ef(Pa,vb)).toRuntime()};k.signal=K;k.signalUpdates=Ya;k.stream=V;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[63]=function(Ja,A,rb,E){function k(K){if(K&&K.__esModule)return K;var R=Object.create(null);K&&Object.keys(K).forEach(function(T){if("default"!==T){var ja=Object.getOwnPropertyDescriptor(K,T);Object.defineProperty(R,T,ja.get?ja:{enumerable:!0,get:function(){return K[T]}})}});R["default"]=K;return Object.freeze(R)}Object.defineProperty(E,"__esModule",{value:!0});var l=A(14),w=A(26),H=A(28),N=A(37),x=A(38),v=A(42),u=A(47),m=A(49),g=A(50),d=A(51),f=A(53);rb=A(54);Ja=A(55);var a=A(27),
e=A(18),n=A(25),y=A(36),B=A(35),D=A(41),O=A(60),M=A(20),F=A(58),z=A(62),G=A(59);A=k(H);N=k(N);x=k(x);v=k(v);u=k(u);m=k(m);g=k(g);d=k(d);f=k(f);rb=k(rb);Ja=k(Ja);l.extend(w.transforms,A,N,x,v,u,g,m,d,f,rb,Ja);Object.keys(l).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return l[K]}})});Object.keys(a).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return a[K]}})});Object.keys(e).forEach(function(K){"default"!==
K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return e[K]}})});Object.keys(n).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return n[K]}})});Object.keys(y).forEach(function(K){"default"!==K&&Object.defineProperty(E,K,{enumerable:!0,get:function(){return y[K]}})});Object.defineProperty(E,"Dataflow",{enumerable:!0,get:function(){return w.Dataflow}});Object.defineProperty(E,"EventStream",{enumerable:!0,get:function(){return w.EventStream}});Object.defineProperty(E,
"MultiPulse",{enumerable:!0,get:function(){return w.MultiPulse}});Object.defineProperty(E,"Operator",{enumerable:!0,get:function(){return w.Operator}});Object.defineProperty(E,"Parameters",{enumerable:!0,get:function(){return w.Parameters}});Object.defineProperty(E,"Pulse",{enumerable:!0,get:function(){return w.Pulse}});Object.defineProperty(E,"Transform",{enumerable:!0,get:function(){return w.Transform}});Object.defineProperty(E,"changeset",{enumerable:!0,get:function(){return w.changeset}});Object.defineProperty(E,
"definition",{enumerable:!0,get:function(){return w.definition}});Object.defineProperty(E,"ingest",{enumerable:!0,get:function(){return w.ingest}});Object.defineProperty(E,"isTuple",{enumerable:!0,get:function(){return w.isTuple}});Object.defineProperty(E,"transform",{enumerable:!0,get:function(){return w.transform}});Object.defineProperty(E,"transforms",{enumerable:!0,get:function(){return w.transforms}});Object.defineProperty(E,"tupleid",{enumerable:!0,get:function(){return w.tupleid}});Object.defineProperty(E,
"interpolate",{enumerable:!0,get:function(){return B.interpolate}});Object.defineProperty(E,"interpolateColors",{enumerable:!0,get:function(){return B.interpolateColors}});Object.defineProperty(E,"interpolateRange",{enumerable:!0,get:function(){return B.interpolateRange}});Object.defineProperty(E,"quantizeInterpolator",{enumerable:!0,get:function(){return B.quantizeInterpolator}});Object.defineProperty(E,"scale",{enumerable:!0,get:function(){return B.scale}});Object.defineProperty(E,"scheme",{enumerable:!0,
get:function(){return B.scheme}});Object.defineProperty(E,"projection",{enumerable:!0,get:function(){return D.projection}});Object.defineProperty(E,"View",{enumerable:!0,get:function(){return O.View}});Object.defineProperty(E,"defaultLocale",{enumerable:!0,get:function(){return M.defaultLocale}});Object.defineProperty(E,"formatLocale",{enumerable:!0,get:function(){return M.numberFormatDefaultLocale}});Object.defineProperty(E,"locale",{enumerable:!0,get:function(){return M.locale}});Object.defineProperty(E,
"resetDefaultLocale",{enumerable:!0,get:function(){return M.resetDefaultLocale}});Object.defineProperty(E,"timeFormatLocale",{enumerable:!0,get:function(){return M.timeFormatDefaultLocale}});Object.defineProperty(E,"expressionFunction",{enumerable:!0,get:function(){return F.expressionFunction}});Object.defineProperty(E,"parse",{enumerable:!0,get:function(){return z.parse}});Object.defineProperty(E,"runtimeContext",{enumerable:!0,get:function(){return G.context}});E.version="5.19.1"};
shadow$provide[64]=function(Ja,A,rb,E){var k=A(24).Buffer;(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?w(E):"function"===typeof define&&define.amd?define(["exports"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,w(l.vegaLite={}))})(this,function(l){function w(h,I,c){h.fields=I||[];h.fname=c;return h}function H(h){return 1===h.length?Fk(h[0]):Gk(h)}function N(h){function I(){c.push(sa+h.substring(Ba,cb));sa="";Ba=cb+1}const c=[],t=h.length;let L=null,ka=0,sa="",Ba,cb,nb;h+=
"";for(Ba=cb=0;cb<t;++cb)if(nb=h[cb],"\\"===nb)sa+=h.substring(Ba,cb),sa+=h.substring(++cb,++cb),Ba=cb;else if(nb===L)I(),L=null,ka=-1;else if(!L)if(Ba===ka&&'"'===nb)Ba=cb+1,L=nb;else if(Ba===ka&&"'"===nb)Ba=cb+1,L=nb;else if("."===nb&&!ka)cb>Ba?I():Ba=cb+1;else if("["===nb)cb>Ba&&I(),ka=Ba=cb+1;else if("]"===nb){if(!ka)throw Error("Access path missing open bracket: "+h);0<ka&&I();ka=0;Ba=cb+1}if(ka)throw Error("Access path missing closing bracket: "+h);if(L)throw Error("Access path missing closing quote: "+
h);cb>Ba&&(cb++,I());return c}function x(h,I,c){I=[I].concat([].slice.call(c));console[h].apply(console,I)}function v(h){return h===Object(h)}function u(...h){return h.reduce((I,c)=>{for(const t in c)"signals"===t?I.signals=g(I.signals,c.signals):m(I,t,c[t],"legend"===t?{layout:1}:"style"===t?!0:null);return I},{})}function m(h,I,c,t){if("__proto__"!==I){var L;if(v(c)&&!Je(c))for(L in h=v(h[I])?h[I]:h[I]={},c)t&&(!0===t||t[L])?m(h,L,c[L]):"__proto__"!==L&&(h[L]=c[L]);else h[I]=c}}function g(h,I){function c(ka){t[ka.name]||
(t[ka.name]=1,L.push(ka))}if(null==h)return I;const t={},L=[];I.forEach(c);h.forEach(c);return L}function d(h){return null!=h?Je(h)?h:[h]:[]}function f(h){return"boolean"===typeof h}function a(h){return"number"===typeof h}function e(h){return"string"===typeof h}function n(h){return Je(h)?"["+h.map(n)+"]":v(h)||e(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}function y(h){const I={},c=h.length;for(let t=0;t<c;++t)I[h[t]]=!0;return I}function B(h,I){if(h.not)B(h.not,
I);else if(h.and)for(const c of h.and)B(c,I);else if(h.or)for(const c of h.or)B(c,I);else I(h)}function D(h,I){return h.not?{not:D(h.not,I)}:h.and?{and:h.and.map(c=>D(c,I))}:h.or?{or:h.or.map(c=>D(c,I))}:I(h)}function O(h,I){const c={};for(const t of I)ii.call(h,t)&&(c[t]=h[t]);return c}function M(h,I){h=Object.assign({},h);for(const c of I)delete h[c];return h}function F(h){if(a(h))return h;h=e(h)?h:qh(h);if(250>h.length)return h;let I=0;for(let c=0;c<h.length;c++){const t=h.charCodeAt(c);I=(I<<
5)-I+t;I&=I}return I}function z(h){return!1===h||null===h}function G(h,I){return-1<h.indexOf(I)}function K(h,I){let c=0;for(const t of h.entries()){const [L,ka]=t;if(I(ka,L,c++))return!0}return!1}function R(h,I){let c=0;for(const t of h.entries()){const [L,ka]=t;if(!I(ka,L,c++))return!1}return!0}function T(h,...I){for(const t of I){I=h;var c=null!==t&&void 0!==t?t:{};for(const L of Hd(c))m(I,L,c[L],!0)}return h}function ja(h,I){const c=[],t={};for(const L of h)h=I(L),h in t||(t[h]=1,c.push(L));return c}
function fa(h,I){if(h.size!==I.size)return!1;for(const c of h)if(!I.has(c))return!1;return!0}function ha(h,I){for(const c of h)if(I.has(c))return!0;return!1}function la(h){const I=new Set;for(const c of h){const t=N(c).map((L,ka)=>0===ka?L:"[".concat(L,"]"));h=t.map((L,ka)=>t.slice(0,ka+1).join(""));for(const L of h)I.add(L)}return I}function Z(h,I){return void 0===h||void 0===I?!0:ha(la(h),la(I))}function P(h){return 0===Hd(h).length}function C(h){return!0===h||!1===h}function V(h){const I=h.replace(/\W/g,
"_");return(h.match(/^\d+/)?"_":"")+I}function ia(h,I){return h.not?"!("+ia(h.not,I)+")":h.and?"("+h.and.map(c=>ia(c,I)).join(") \x26\x26 (")+")":h.or?"("+h.or.map(c=>ia(c,I)).join(") || (")+")":I(h)}function aa(h,I){if(0===I.length)return!0;const c=I.shift();c in h&&aa(h[c],I)&&delete h[c];return P(h)}function ya(h){return h.charAt(0).toUpperCase()+h.substr(1)}function va(h,I){I=void 0===I?"datum":I;h=N(h);const c=[];for(let t=1;t<=h.length;t++){const L="[".concat(h.slice(0,t).map(n).join("]["),
"]");c.push("".concat(I).concat(L))}return c.join(" \x26\x26 ")}function Ia(h,I){return"".concat(void 0===I?"datum":I,"[").concat(n(N(h).join(".")),"]")}function bb(h){return h.replace(/(\[|\]|\.|'|")/g,"\\$1")}function kb(h){return"".concat(N(h).map(bb).join("\\."))}function ua(h,I,c){return h.replace(new RegExp(I.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),c)}function Ta(h){return"".concat(N(h).join("."))}function Ya(h){return h?N(h).length:0}function Da(...h){for(const I of h)if(void 0!==I)return I}
function ta(h){const I=++jj;return h?String(h)+I:I}function U(h){return W(h)?h:"__".concat(h)}function W(h){return 0===h.indexOf("__")}function ba(h){if(void 0!==h)return(h%360+360)%360}function ca(h){return a(h)?!0:!isNaN(h)&&!isNaN(parseFloat(h))}function ra(h){return h&&h.condition}function qa(h){return!!h&&!!h.argmin}function Fa(h){return!!h&&!!h.argmax}function na(h){return e(h)&&!!Ik[h]}function Ra(h){return e(h)&&G(Hk,h)}function db(h){switch(h){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function $a(h){return"color"===h||"fill"===h||"stroke"===h}function Ca(h){return Ga(h)!==h}function Ga(h){switch(h){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return h}function pa(h){if(h in bl)switch(h){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return h}
function Ha(h){switch(h){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Ua(h){switch(h){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function jb(h){switch(h){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Fb(h){return"width"===h?"x":"y"}function Xb(h){switch(h){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Ok;case "x":case "y":case "latitude":case "longitude":return dl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function nc(h){switch(h){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function md(h){f(h)&&
(h=Tb(h,void 0));return"bin"+Hd(h).map(I=>mb(h[I])?V("_".concat(I,"_").concat(fh(h[I]))):V("_".concat(I,"_").concat(h[I]))).join("")}function pc(h){return!0===h||v(h)&&!h.binned}function Hc(h){return"binned"===h||v(h)&&!0===h.binned}function mb(h){return null===h||void 0===h?void 0:h.selection}function hc(h){switch(h){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function jc(h,I,c){I in h?Object.defineProperty(h,I,{value:c,enumerable:!0,configurable:!0,writable:!0}):h[I]=c;return h}function rc(h,I,c){I=I.get(h);if(!I)throw new TypeError("attempted to set private field on non-instance");if(I.set)I.set.call(h,c);else{if(!I.writable)throw new TypeError("attempted to set read only private field");I.value=c}return c}function Pc(h){return"Invalid specification ".concat(JSON.stringify(h),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function sc(h){return"".concat("width"==h?"Width":"Height",' "container" only works for single views and layered views.')}function Uc(h){const I="width"==h?"x":"y";return"".concat("width"==h?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(I,'".')}function Sc(h){return h?'Dropping "fit-'.concat(h,'" because spec has discrete ').concat(Ua(h),"."):'Dropping "fit" because spec has discrete size.'}function Lc(h){return"Unknown field for ".concat(h,". Cannot calculate view size.")}
function Fd(h){return'Cannot project a selection on encoding channel "'.concat(h,'", which has no field.')}function ge(h,I){return'Cannot project a selection on encoding channel "'.concat(h,'" as it uses an aggregate function ("').concat(I,'").')}function wd(h){return"Selection not supported for ".concat(h," yet.")}function vd(h){return'The "columns" property cannot be used when "'.concat(h,'" has nested row/column.')}function Wd(h,I,c){return'An ancestor parsed field "'.concat(h,'" as ').concat(c,
" but a child wants to parse the field as ").concat(I,".")}function Pb(h){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(h," are dropped.")}function gc(h,I){const {fill:c,stroke:t}=I;return"Dropping color ".concat(h," as the plot also has ").concat(c&&t?"fill and stroke":c?"fill":"stroke",".")}function Eb(h,I){return"Dropping ".concat(of(h),' from channel "').concat(I,'" since it does not contain any data field, datum, value, or signal.')}function zc(h,
I,c){return"".concat(h,' dropped as it is incompatible with "').concat(I,'"').concat(c?" when ".concat(c):"",".")}function Vc(h){return"".concat(h,"-encoding is dropped as ").concat(h," is not a valid encoding channel.")}function Ed(h,I){return'Using discrete channel "'.concat(h,'" to encode "').concat(I,'" field can be misleading as it does not encode ').concat("ordinal"===I?"order":"magnitude",".")}function Vd(h,I,c){return"".concat(c,"-scale's \"").concat(I,'" is dropped as it does not work with ').concat(h,
" scale.")}function Ka(h){return'The step for "'.concat(h,'" is dropped because the ').concat("width"===h?"x":"y"," is continuous.")}function eb(h){return'Cannot stack "'.concat(h,'" if there is already "').concat(h,'2".')}function wb(h,I){return"Invalid ".concat(h,": ").concat(of(I),".")}function Hb(h){return"1D error band does not support ".concat(h,".")}function ac(h){return"Channel ".concat(h,' is required for "binned" bin.')}function Lb(...h){kj.warn(...h)}function Ac(h){if(h&&v(h))for(const I of ok)if(I in
h)return!0;return!1}function tc(h){ca(h)&&(h=+h);if(a(h))return h-1;{var I=h.toLowerCase();const c=Lk.indexOf(I);if(-1!==c)return c;I=I.substr(0,3);I=ki.indexOf(I);if(-1!==I)return I;throw Error(wb("month",h));}}function pb(h){ca(h)&&(h=+h);if(a(h))return h%7;{var I=h.toLowerCase();const c=Ci.indexOf(I);if(-1!==c)return c;I=I.substr(0,3);I=mk.indexOf(I);if(-1!==I)return I;throw Error(wb("day",h));}}function Bb(h,I){const c=[];I&&void 0!==h.day&&1<Hd(h).length&&(Lb("Dropping day from datetime ".concat(of(h),
" as day cannot be combined with other units.")),h=rf(h),delete h.day);void 0!==h.year?c.push(h.year):c.push(2012);if(void 0!==h.month){var t=I?tc(h.month):h.month;c.push(t)}else if(void 0!==h.quarter){if(I)if(t=h.quarter,ca(t)&&(t=+t),a(t))4<t&&Lb(wb("quarter",t)),--t;else throw Error(wb("quarter",t));else t=h.quarter;c.push(a(t)?3*t:t+"*3")}else c.push(0);void 0!==h.date?c.push(h.date):void 0!==h.day?(I=I?pb(h.day):h.day,c.push(a(I)?I+1:I+"+1")):c.push(1);for(const L of["hours","minutes","seconds",
"milliseconds"])I=h[L],c.push("undefined"===typeof I?0:I);return c}function Ub(h){const I=Bb(h,!0).join(", ");return h.utc?"utc(".concat(I,")"):"datetime(".concat(I,")")}function mc(h){const I=Bb(h,!0);return h.utc?+new Date(Date.UTC(...I)):+new Date(...I)}function Bc(h){const I=[];for(const c of ok)Cc(h,c)&&I.push(c);return I}function Cc(h,I){const c=h.indexOf(I);return 0>c||0<c&&"seconds"===I&&"i"===h.charAt(c-1)||h.length>c+3&&"day"===I&&"o"===h.charAt(c+3)||0<c&&"year"===I&&"f"===h.charAt(c-1)?
!1:!0}function Xc(h){if(h)return h=Bc(h),"timeUnitSpecifier(".concat(qh(h),", ").concat(qh(hl),")")}function Qb(h){if(h){var I;e(h)?I={unit:h}:v(h)&&(I=Object.assign({},h,h.unit?{unit:h.unit}:{}));I.unit.startsWith("utc")&&(I.utc=!0,I.unit=I.unit.substr(3));return I}}function Ic(h){var I=Qb(h);h=Object.assign({},I);I=I.utc;const c=(delete h.utc,h);return c.unit?(I?"utc":"")+Hd(c).map(t=>V("".concat("unit"===t?"":"_".concat(t,"_")).concat(c[t]))).join(""):(I?"utc":"")+"timeunit"+Hd(c).map(t=>V("_".concat(t,
"_").concat(c[t]))).join("")}function Dc(h){return h&&!!h.signal}function uc(h){return!!h.step}function Tc(h){return Je(h)?!1:"field"in h&&"data"in h}function ad(h){return h&&!!h.field&&void 0!==h.equal}function ld(h){return h&&!!h.field&&void 0!==h.lt}function Cd(h){return h&&!!h.field&&void 0!==h.lte}function Dd(h){return h&&!!h.field&&void 0!==h.gt}function Ud(h){return h&&!!h.field&&void 0!==h.gte}function ae(h){return h&&h.field&&(Je(h.range)&&2===h.range.length||Dc(h.range))?!0:!1}function oe(h){return h&&
!!h.field&&(Je(h.oneOf)||Je(h.in))}function De(h){return oe(h)||ad(h)||ae(h)||ld(h)||Dd(h)||Cd(h)||Ud(h)}function fe(h,I){return fd(h,{timeUnit:I,wrapTime:!0})}function ef(h,I){return h.map(c=>fe(c,I))}function Ze(h,I){I=void 0===I?!0:I;var c,{field:t}=h;const L=null===(c=Qb(h.timeUnit))||void 0===c?void 0:c.unit;if(L){{({end:c}={end:!1});t=va(t);const Ba=L.startsWith("utc")?"utc":"";const cb={};for(sa of ok)if(Cc(L,sa)){var ka=sa;ka="quarter"===ka?"(".concat(Ba,"quarter(").concat(t,")-1)"):"".concat(Ba).concat(ka,
"(").concat(t,")");cb[sa]=ka;ka=sa}c&&(cb[ka]+="+1");var sa=cb;c=Bb(sa,!1).join(", ");sa=sa.utc?"utc(".concat(c,")"):"datetime(".concat(c,")")}sa="time("+sa+")"}else sa=kd(h,{expr:"datum"});if(ad(h))return sa+"\x3d\x3d\x3d"+fe(h.equal,L);if(ld(h))return I=h.lt,"".concat(sa,"\x3c").concat(fe(I,L));if(Dd(h))return I=h.gt,"".concat(sa,"\x3e").concat(fe(I,L));if(Cd(h))return I=h.lte,"".concat(sa,"\x3c\x3d").concat(fe(I,L));if(Ud(h))return I=h.gte,"".concat(sa,"\x3e\x3d").concat(fe(I,L));if(oe(h))return"indexof([".concat(ef(h.oneOf,
L).join(","),"], ").concat(sa,") !\x3d\x3d -1");if(h&&h.field&&void 0!==h.valid)return df(sa,h.valid);if(ae(h)){({range:c}=h);h=Dc(c)?{signal:"".concat(c.signal,"[0]")}:c[0];c=Dc(c)?{signal:"".concat(c.signal,"[1]")}:c[1];if(null!==h&&null!==c&&I)return"inrange("+sa+", ["+fe(h,L)+", "+fe(c,L)+"])";I=[];null!==h&&I.push("".concat(sa," \x3e\x3d ").concat(fe(h,L)));null!==c&&I.push("".concat(sa," \x3c\x3d ").concat(fe(c,L)));return 0<I.length?I.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(h)));
}function df(h,I){return void 0===I||I?"isValid(".concat(h,") \x26\x26 isFinite(+").concat(h,")"):"!isValid(".concat(h,") || !isFinite(+").concat(h,")")}function Zd(h){if(De(h)&&h.timeUnit){var I;return Object.assign({},h,{timeUnit:null===(I=Qb(h.timeUnit))||void 0===I?void 0:I.unit})}return h}function he(h){if(h)switch(h=h.toLowerCase(),h){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function zf(h){return null===h||void 0===h?void 0:h.selection}function Ue(h,I){switch(I){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!G(["point","band","identity"],h);case "bins":return!G(["point","band","identity","ordinal"],h);case "round":return h in th||"band"===h||"point"===h;case "padding":case "rangeMin":case "rangeMax":return h in th||G(["point","band"],h);case "paddingOuter":case "align":return G(["point",
"band"],h);case "paddingInner":return"band"===h;case "domainMax":case "domainMid":case "domainMin":case "clamp":return h in th;case "nice":return h in th||"quantize"===h||"threshold"===h;case "exponent":return"pow"===h;case "base":return"log"===h;case "constant":return"symlog"===h;case "zero":return h in Jh&&!G(["log","time","utc","threshold","quantile"],h)}}function Nf(h,I){switch(I){case "interpolate":case "scheme":case "domainMid":if(!$a(h))return'Cannot use the scale property "'.concat(h,'" with non-color channel.')}}
function me(h,I){if(!rh[h])return!1;switch(h){case "x":case "y":case "theta":case "radius":return I in th||G(["band","point"],I);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return I in th||I in zk||G(["band","point","ordinal"],I);case "color":case "fill":case "stroke":return"band"!==I;case "strokeDash":return"ordinal"===I||I in zk;case "shape":return"ordinal"===I}}function te(h){return h&&!!h.expr}function kf(h){const I=Hd(h||{}),c={};for(const t of I)c[t]=
Gd(h[t]);return c}function we(h){return G(["line","area","trail"],h)}function Od(h){return h.type}function Xd(h){const {channel:I,channelDef:c,markDef:t,scale:L,config:ka}=h;h=Ye(h);return $b(c)&&!Ra(c.aggregate)&&L&&L.get("type")in th&&!1===L.get("zero")?Be({fieldDef:c,channel:I,markDef:t,ref:h,config:ka}):h}function Be(h){var {fieldDef:I,channel:c,markDef:t,ref:L,config:ka}=h;if(we(t.type)||null===ne("invalid",t,ka))return L;{h=jf(I,!0);const sa="y"===Ga(c)?{field:{group:"height"}}:{value:0};h=
Object.assign({},{test:h},sa)}return[h,L]}function jf(h,I){I=void 0===I?!0:I;return df(e(h)?h:kd(h,{expr:"datum"}),!I)}function Ge(h,I,c,t){const L={};I&&(L.scale=I);gd(h)?({datum:h}=h,Ac(h)?L.signal=Ub(h):Dc(h)?L.signal=h.signal:te(h)?L.signal=h.expr:L.value=h):L.field=kd(h,c);if(t){const {offset:ka,band:sa}=t;ka&&(L.offset=ka);sa&&(L.band=sa)}return L}function Td(h){var {scaleName:I,fieldOrDatumDef:c,fieldOrDatumDef2:t,offset:L,startSuffix:ka,band:sa=.5}=h,Ba=0<sa&&1>sa?"datum":void 0;h=kd(c,{expr:Ba,
suffix:ka});const cb=void 0!==t?kd(t,{expr:Ba}):kd(c,{suffix:"end",expr:Ba});Ba={};0===sa||1===sa?(Ba.scale=I,Ba.field=0===sa?h:cb):(h="".concat(sa," * ").concat(h," + ").concat(1-sa," * ").concat(cb),Ba.signal='scale("'.concat(I,'", ').concat(h,")"));L&&(Ba.offset=L);return Ba}function Ye(h){var {channel:I,channelDef:c,channel2Def:t,markDef:L,config:ka,scaleName:sa,scale:Ba,stack:cb,offset:nb,defaultRef:Gb,band:Nb}=h;if(c){if(od(c)){var lc,Yc;if(Id(c)){var hd;Nb=null!==(hd=Nb)&&void 0!==hd?hd:Za({channel:I,
fieldDef:c,fieldDef2:t,markDef:L,stack:cb,config:ka,isMidPoint:!0});const {bin:qd,timeUnit:Md,type:Rd}=c;if(pc(qd)||Nb&&Md&&"temporal"===Rd)return cb&&cb.impute?Ge(c,sa,{binSuffix:"mid"},{offset:nb}):Nb?Td({scaleName:sa,fieldOrDatumDef:c,band:Nb,offset:nb}):Ge(c,sa,nd(c,I)?{binSuffix:"range"}:{},{offset:nb});if(Hc(qd)){if($b(t))return Td({scaleName:sa,fieldOrDatumDef:c,fieldOrDatumDef2:t,band:Nb,offset:nb});Lb(ac("x"===I?"x2":"y2"))}}h=null===Ba||void 0===Ba?void 0:Ba.get("type");return Ge(c,sa,h in
nh?{binSuffix:"range"}:{},{offset:nb,band:"band"===h?null!==(lc=null!==(Yc=Nb)&&void 0!==Yc?Yc:c.band)&&void 0!==lc?lc:.5:void 0})}if(jd(c))return lc=nb?{offset:nb}:{},Object.assign({},Xf(I,c.value),lc)}"function"===typeof Gb&&(Gb=Gb());return Gb?Object.assign({},Gb,nb?{offset:nb}:{}):Gb}function Xf(h,I){return G(["x","x2"],h)&&"width"===I?{field:{group:"width"}}:G(["y","y2"],h)&&"height"===I?{field:{group:"height"}}:$d(I)}function Gc(h){return h&&"number"!==h&&"time"!==h}function xe(h,I,c){return"".concat(h,
"(").concat(I).concat(c?", ".concat(JSON.stringify(c)):"",")")}function le(h){var {fieldOrDatumDef:I,format:c,formatType:t,expr:L,normalizeStack:ka,config:sa}=h;if(Gc(t))return Fe({fieldOrDatumDef:I,format:c,formatType:t,expr:L,config:sa});h=kc(I,L,ka);if(oc(I)){var Ba,cb;var nb=$b(I)?null===(Ba=Qb(I.timeUnit))||void 0===Ba?void 0:Ba.unit:void 0,Gb=c,Nb=sa.timeFormat;Ba=Qd(I)&&(null===(cb=I.scale)||void 0===cb?void 0:cb.type)===Cg.UTC;!nb||Gb?(Gb=e(Gb)?Gb:Nb,h="".concat(Ba?"utc":"time","Format(").concat(h,
", '").concat(Gb,"')")):nb?(cb=Xc(nb),nb=Ba||nb.startsWith("utc"),h="".concat(nb?"utc":"time","Format(").concat(h,", ").concat(cb,")")):h=void 0;return h?{signal:h}:void 0}c=Yf(Oc(I),c,sa);return $b(I)&&pc(I.bin)?(cb=kd(I,{expr:L,binSuffix:"end"}),{signal:Bf(h,cb,c,t,sa)}):c||"quantitative"===Oc(I)?{signal:"".concat(If(h,c))}:{signal:"isValid(".concat(h,") ? ").concat(h,' : ""+').concat(h)}}function kc(h,I,c){if($b(h))return c?"".concat(kd(h,{expr:I,suffix:"end"}),"-").concat(kd(h,{expr:I,suffix:"start"})):
kd(h,{expr:I});({datum:h}=h);h=Ac(h)?Ub(h):"".concat(JSON.stringify(h));return h}function Fe(h){var {fieldOrDatumDef:I,format:c,formatType:t,expr:L,normalizeStack:ka,config:sa,field:Ba}=h,cb;Ba=null!==(cb=Ba)&&void 0!==cb?cb:kc(I,L,ka);return $b(I)&&pc(I.bin)?(h=kd(I,{expr:L,binSuffix:"end"}),{signal:Bf(Ba,h,c,t,sa)}):{signal:xe(t,Ba,c)}}function ue(h,I,c,t,L,ka){if(!Gc(t)){if(oc(h)){var sa;h=$b(h)?null===(sa=Qb(h.timeUnit))||void 0===sa?void 0:sa.unit:void 0;c=c?c:h?{signal:Xc(h)}:ka?void 0:L.timeFormat;
return c}return Yf(I,c,L)}}function lf(h,I,c){if(h&&(Dc(h)||"number"===h||"time"===h))return h;if(oc(I)&&"time"!==c&&"utc"!==c)return"time"}function Yf(h,I,c){if(e(I))return I;if("quantitative"===h)return c.numberFormat}function If(h,I){return"format(".concat(h,', "').concat(I||"",'")')}function Sf(h,I,c,t){var L;return Gc(c)?xe(c,h,I):If(h,null!==(L=e(I)?I:void 0)&&void 0!==L?L:t.numberFormat)}function Bf(h,I,c,t,L){const ka=Sf(h,c,t,L);I=Sf(I,c,t,L);return"".concat(df(h,!1),' ? "null" : ').concat(ka,
' + "').concat("  ",'" + ').concat(I)}function qe(h){return!!h&&("count"===h.op||!!h.field)}function yc(h){return!!h&&Je(h)}function wa(h){return"row"in h||"column"in h}function Ea(h){const {field:I,timeUnit:c,bin:t,aggregate:L}=h;return Object.assign({},c?{timeUnit:c}:{},t?{bin:t}:{},L?{aggregate:L}:{},{field:I})}function Za(h){var {channel:I,fieldDef:c,fieldDef2:t,markDef:L,stack:ka,config:sa,isMidPoint:Ba}=h;if(od(c)&&void 0!==c.band)return c.band;if($b(c)){const {timeUnit:cb,bin:nb}=c;if(cb&&
!t)return Ba?sf("timeUnitBandPosition",L,sa):G(["rect","bar","image","arc"],L.type)?sf("timeUnitBand",L,sa):0;if(pc(nb))return G(["rect","bar","image","arc"],L.type)&&!Ba?1:.5}if((null===ka||void 0===ka?void 0:ka.fieldChannel)===I&&Ba)return.5}function Cb(h,I,c,t,L,ka){return pc(I.bin)||I.timeUnit&&Id(I)&&"temporal"===I.type?!!Za({channel:h,fieldDef:I,fieldDef2:c,stack:t,markDef:L,config:ka}):!1}function ub(h){h=h&&h.condition;return!!h&&!Je(h)&&$b(h)}function Yb(h){h=h&&h.condition;return!!h&&!Je(h)&&
od(h)}function $b(h){return!!h&&(!!h.field||"count"===h.aggregate)}function Oc(h){return h&&h.type}function gd(h){return!!h&&"datum"in h}function Mc(h){return Id(h)&&!We(h)||Nd(h)}function Nd(h){return gd(h)&&a(h.datum)}function od(h){return $b(h)||gd(h)}function Id(h){return!!h&&("field"in h||"count"===h.aggregate)&&"type"in h}function jd(h){return h&&"value"in h&&"value"in h}function Qd(h){return!!h&&("scale"in h||"sort"in h)}function ie(h){return h&&("axis"in h||"stack"in h||"impute"in h)}function Gf(h){return!!h&&
("format"in h||"formatType"in h)}function tf(h){return M(h,["legend","axis","header","scale"])}function kd(h,I){I=void 0===I?{}:I;let c=h.field;const t=I.prefix;let L=I.suffix,ka="";if("count"===h.aggregate)c=U("count");else{let nb;if(!I.nofn)if("op"in h)nb=h.op;else{const {bin:Gb,aggregate:Nb,timeUnit:lc}=h;if(pc(Gb)){var sa,Ba;nb=md(Gb);L=(null!==(sa=I.binSuffix)&&void 0!==sa?sa:"")+(null!==(Ba=I.suffix)&&void 0!==Ba?Ba:"")}else if(Nb)Fa(Nb)?(ka='["'.concat(c,'"]'),c="argmax_".concat(Nb.argmax)):
qa(Nb)?(ka='["'.concat(c,'"]'),c="argmin_".concat(Nb.argmin)):nb=String(Nb);else if(lc){var cb;nb=Ic(lc);L=(!G(["range","mid"],I.binSuffix)&&I.binSuffix||"")+(null!==(cb=I.suffix)&&void 0!==cb?cb:"")}}nb&&(c=c?"".concat(nb,"_").concat(c):nb)}L&&(c="".concat(c,"_").concat(L));t&&(c="".concat(t,"_").concat(c));return I.forAs?Ta(c):I.expr?Ia(c,I.expr)+ka:kb(c)+ka}function We(h){switch(h.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return $b(h)&&!!h.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(h.type,
'".'));}function uf(h,I){const {field:c,bin:t,timeUnit:L,aggregate:ka}=h;if("count"===ka)return I.countTitle;if(pc(t))return"".concat(c," (binned)");if(L){var sa;if(h=null===(sa=Qb(L))||void 0===sa?void 0:sa.unit)return"".concat(c," (").concat(Bc(h).join("-"),")")}else if(ka)return Fa(ka)?"".concat(c," for max ").concat(ka.argmax):qa(ka)?"".concat(c," for min ").concat(ka.argmin):"".concat(ya(ka)," of ").concat(c);return c}function mf(h,I,c){var {allowDisabling:t,includeDefault:L=!0}=c,ka;c=null===
(ka=Zf(h))||void 0===ka?void 0:ka.title;if(!$b(h))return c;I=L?cf(h,I):void 0;if(t)return Da(c,h.title,I);var sa;return null!==(sa=null!==c&&void 0!==c?c:h.title)&&void 0!==sa?sa:I}function Zf(h){if(ie(h)&&h.axis)return h.axis;if(h&&"legend"in h&&h.legend)return h.legend;if(h&&"header"in h&&h.header)return h.header}function yf(h){if(Gf(h)){const {format:c,formatType:t}=h;return{format:c,formatType:t}}{var I;h=null!==(I=Zf(h))&&void 0!==I?I:{};const {format:c,formatType:t}=h;return{format:c,formatType:t}}}
function Pe(h,I){var c;switch(I){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in h&&Je(h.sort))return"ordinal";const {aggregate:t,bin:L,timeUnit:ka}=h;if(ka)return"temporal";if(L||t&&!Fa(t)&&!qa(t))return"quantitative";if(Qd(h)&&(null===(c=h.scale)||void 0===c?0:c.type))switch(ai[h.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}
function nf(h){if($b(h))return h;if(ub(h))return h.condition}function Aa(h){if(od(h))return h;if(Yb(h))return h.condition}function Pa(h,I,c,t){t=void 0===t?{}:t;return e(h)||a(h)||f(h)?(c=e(h)?"string":a(h)?"number":"boolean",I="Channel ".concat(I," is a ").concat(c,". Converted to {value: ").concat(of(h),"}."),Lb(I),{value:h}):od(h)?vb(h,I,c,t):Yb(h)?Object.assign({},h,{condition:vb(h.condition,I,c,t)}):h}function vb(h,I,c,t){if(Gf(h)){var L=Object.assign({},h),ka=h.formatType;L=(delete L.format,
delete L.formatType,L);if(Gc(ka)&&!c.customFormatTypes)return Lb(Pb(I)),vb(L,I,c,t)}else if((ka=ie(h)?"axis":h&&"legend"in h?"legend":h&&"header"in h?"header":null)&&h[ka]){var sa=h[ka];L=Object.assign({},sa);sa=sa.formatType;L=(delete L.format,delete L.formatType,L);if(Gc(sa)&&!c.customFormatTypes)return Lb(Pb(I)),vb(Object.assign({},h,{[ka]:L}),I,c,t)}if($b(h))return Wb(h,I,t);I=h.type;I||({datum:I}=h,I=a(I)?"quantitative":e(I)?"nominal":Ac(I)?"temporal":void 0,h=Object.assign({},h,{type:I}));return h}
function Wb(h,I,c){({compositeMark:c=!1}=void 0===c?{}:c);const {aggregate:t,timeUnit:L,bin:ka,field:sa}=h;h=Object.assign({},h);c||!t||na(t)||Fa(t)||qa(t)||(Lb('Invalid aggregation operator "'.concat(t,'".')),delete h.aggregate);L&&(h.timeUnit=Qb(L));sa&&(h.field="".concat(sa));pc(ka)&&(h.bin=Tb(ka,I));!Hc(ka)||I in fg||Lb("Channel ".concat(I,' should not be used with "binned" bin.'));if(Id(h)){({type:c}=h);var Ba=he(c);c!==Ba&&(h.type=Ba);"quantitative"!==c&&Ra(t)&&(c='Invalid field type "'.concat(c,
'" for aggregate: "').concat(t,'", using "quantitative" instead.'),Lb(c),h.type="quantitative")}else Ca(I)||(c=Pe(h,I),h.type=c);if(Id(h)){const {compatible:cb,warning:nb}=ic(h,I)||{};!1===cb&&Lb(nb)}if("sort"in h&&e(h.sort)){({sort:I}=h);if(I in Bd)return Object.assign({},h,{sort:{encoding:I}});c=I.substr(1);if("-"===I.charAt(0)&&c in Bd)return Object.assign({},h,{sort:{encoding:c,order:"descending"}})}return h&&"header"in h&&({header:I}=h,Ba=I,c=Object.assign({},Ba),Ba=Ba.orient,c=(delete c.orient,
c),Ba)?Object.assign({},h,{header:Object.assign({},c,{labelOrient:I.labelOrient||Ba,titleOrient:I.titleOrient||Ba})}):h}function Tb(h,I){return f(h)?{maxbins:hc(I)}:"binned"===h?{binned:!0}:h.maxbins||h.step?h:Object.assign({},h,{maxbins:hc(I)})}function ic(h,I){const c=h.type;if("geojson"===c&&"shape"!==I)return{compatible:!1,warning:"Channel ".concat(I," should not be used with a geojson data.")};switch(I){case "row":case "column":case "facet":return We(h)?Ae:{compatible:!1,warning:"".concat(I,
" encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ae;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==c?{compatible:!1,warning:"Channel ".concat(I," should be used with a quantitative field only, not ").concat(h.type," field.")}:Ae;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
c||h.sort?Ae:{compatible:!1,warning:"Channel ".concat(I," should not be used with an unsorted discrete field.")};case "strokeDash":return G(["ordinal","nominal"],h.type)?Ae:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return G(["ordinal","nominal","geojson"],h.type)?Ae:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==h.type||"sort"in h?Ae:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function oc(h){var {formatType:I}=yf(h),c;if(!(c="time"===I)){if(I=!I)I=h&&("temporal"===h.type||$b(h)&&!!h.timeUnit);c=I}return c}function fd(h,I){var {timeUnit:c,type:t,wrapTime:L,undefinedIfExprNotRequired:ka}=I;var sa=(I=c&&(null===(sa=Qb(c))||void 0===sa?void 0:sa.unit))||"temporal"===t;let Ba;te(h)?Ba=h.expr:Dc(h)?Ba=h.signal:Ac(h)?(sa=!0,Ba=Ub(h)):(e(h)||a(h))&&sa&&(Ba="datetime(".concat(JSON.stringify(h),")"),Oj[I]&&(a(h)&&1E4>h||e(h)&&isNaN(Date.parse(h)))&&(Ba=Ub({[I]:h})));return Ba?L&&
sa?"time(".concat(Ba,")"):Ba:ka?void 0:JSON.stringify(h)}function Wc(h,I){const {type:c}=h;return I.map(t=>{const L=fd(t,{timeUnit:$b(h)?h.timeUnit:void 0,type:c,undefinedIfExprNotRequired:!0});return void 0!==L?{signal:L}:t})}function nd(h,I){return pc(h.bin)?!!rh[I]&&G(["ordinal","nominal"],h.type):(console.warn("Only call this method for binned field defs."),!1)}function Kd(h){var I=Object.assign({},h),c=h.anchor;const t=h.frame,L=h.offset,ka=h.orient;var sa=h.color,Ba=h.subtitleColor,cb=h.subtitleFont;
const nb=h.subtitleFontSize,Gb=h.subtitleFontStyle,Nb=h.subtitleFontWeight,lc=h.subtitleLineHeight;h=h.subtitlePadding;I=(delete I.anchor,delete I.frame,delete I.offset,delete I.orient,delete I.color,delete I.subtitleColor,delete I.subtitleFont,delete I.subtitleFontSize,delete I.subtitleFontStyle,delete I.subtitleFontWeight,delete I.subtitleLineHeight,delete I.subtitlePadding,I);sa=Object.assign({},I,sa?{fill:sa}:{});c=Object.assign({},c?{anchor:c}:{},t?{frame:t}:{},L?{offset:L}:{},ka?{orient:ka}:
{});Ba=Object.assign({},Ba?{subtitleColor:Ba}:{},cb?{subtitleFont:cb}:{},nb?{subtitleFontSize:nb}:{},Gb?{subtitleFontStyle:Gb}:{},Nb?{subtitleFontWeight:Nb}:{},lc?{subtitleLineHeight:lc}:{},h?{subtitlePadding:h}:{});cb=O(sa,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:sa,subtitleMarkConfig:cb,nonMark:c,subtitle:Ba}}function de(h){return e(h)||Je(h)&&e(h[0])}function je(h){const I=Je(h.condition)?h.condition.map(Le):Le(h.condition);return Object.assign({},Gd(h),{condition:I})}function Gd(h){if(te(h)){var I=
Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return h}function Le(h){if(te(h)){var I=Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return h}function $d(h){if(te(h)){var I=Object.assign({},h);h=h.expr;I=(delete I.expr,I);return Object.assign({},{signal:h},I)}return Dc(h)?h:void 0!==h?{value:h}:void 0}function Ie(h){return Dc(h)?h.signal:n(h.value)}function Ce(h){return Dc(h)?h.signal:null==h?null:n(h)}function Qe(h,
I,c){for(const t of c)c=sf(t,I.markDef,I.config),void 0!==c&&(h[t]=$d(c));return h}function Uf(h){var I;return[].concat(h.type,null!==(I=h.style)&&void 0!==I?I:[])}function ne(h,I,c,t){t=void 0===t?{}:t;const {vgChannel:L,ignoreVgConfig:ka}=t;if(L&&void 0!==I[L])return I[L];if(void 0!==I[h])return I[h];if(!ka||L&&L!==h)return sf(h,I,c,t)}function sf(h,I,c,t){({vgChannel:t}=void 0===t?{}:t);return Da(t?Cf(h,I,c.style):void 0,Cf(h,I,c.style),t?c[I.type][t]:void 0,c[I.type][h],t?c.mark[t]:c.mark[h])}
function Cf(h,I,c){return Bg(h,Uf(I),c)}function Bg(h,I,c){I=d(I);let t;for(const L of I)(I=c[L])&&void 0!==I[h]&&(t=I[h]);return t}function Lf(h,I){return d(h).reduce((c,t)=>{var L;c.field.push(kd(t,I));c.order.push(null!==(L=t.sort)&&void 0!==L?L:"ascending");return c},{field:[],order:[]})}function jg(h,I){const c=[...h];I.forEach(t=>{for(const L of c)if(ji(L,t))return;c.push(t)});return c}function xa(h,I){return ji(h,I)||!I?h:h?[...d(h),...d(I)].join(", "):I}function za(h,I){const c=h.value;I=
I.value;if(null==c||null===I)return{explicit:h.explicit,value:null};if((de(c)||Dc(c))&&(de(I)||Dc(I)))return{explicit:h.explicit,value:xa(c,I)};if(de(c)||Dc(c))return{explicit:h.explicit,value:c};if(de(I)||Dc(I))return{explicit:h.explicit,value:I};if(!(de(c)||Dc(c)||de(I)||Dc(I)))return{explicit:h.explicit,value:jg(c,I)};throw Error("It should never reach here");}function Na(h){return"mark"in h}function Sa(h,I){return(h=h&&h[I])?Je(h)?K(h,c=>!!c.field):$b(h)||ub(h):!1}function fb(h){return K(Jl,I=>
Sa(h,I)?(I=h[I],Je(I)?K(I,c=>!!c.aggregate):(I=nf(I))&&!!I.aggregate):!1)}function hb(h,I){const c=[],t=[],L=[],ka=[],sa={};Jb(h,(Ba,cb)=>{if($b(Ba)){var nb=Object.assign({},Ba),Gb=Ba.field;const lc=Ba.aggregate,Yc=Ba.bin,hd=Ba.timeUnit;nb=(delete nb.field,delete nb.aggregate,delete nb.bin,delete nb.timeUnit,nb);if(lc||hd||Yc){var Nb=Zf(Ba);const qd=Nb&&Nb.title;Nb=kd(Ba,{forAs:!0});nb=Object.assign({},qd?[]:{title:mf(Ba,I,{allowDisabling:!0})},nb,{field:Nb});if(lc){let Md;Fa(lc)?(Md="argmax",Nb=
kd({op:"argmax",field:lc.argmax},{forAs:!0}),nb.field="".concat(Nb,".").concat(Gb)):qa(lc)?(Md="argmin",Nb=kd({op:"argmin",field:lc.argmin},{forAs:!0}),nb.field="".concat(Nb,".").concat(Gb)):"boxplot"!==lc&&"errorbar"!==lc&&"errorband"!==lc&&(Md=lc);Md&&(Ba={op:Md,as:Nb},Gb&&(Ba.field=Gb),ka.push(Ba))}else c.push(Nb),Id(Ba)&&pc(Yc)?(t.push({bin:Yc,field:Gb,as:Nb}),c.push(kd(Ba,{binSuffix:"end"})),nd(Ba,cb)&&c.push(kd(Ba,{binSuffix:"range"})),cb in fg&&(sa[cb+"2"]={field:Nb+"_end"}),nb.bin="binned",
Ca(cb)||(nb.type="quantitative")):hd&&(L.push({timeUnit:hd,field:Gb,as:Nb}),(Gb=Id(Ba)&&"temporal"!==Ba.type&&"time")&&("text"===cb||"tooltip"===cb?nb.formatType=Gb:ah[cb]?nb.legend=Object.assign({},{formatType:Gb},nb.legend):cb in fg&&(nb.axis=Object.assign({},{formatType:Gb},nb.axis))));sa[cb]=nb}else c.push(Gb),sa[cb]=h[cb]}else sa[cb]=h[cb]});return{bins:t,timeUnits:L,aggregate:ka,groupby:c,encoding:sa}}function qb(h,I,c){c=Xb(I)[c];return c&&("binned"!==c||(c=h["x2"===I?"x":"y"],$b(c)&&$b(h[I])&&
Hc(c.bin)))?!0:!1}function Db(h,I,c,t){return Hd(h).reduce((L,ka)=>{if(!Kk[ka])return Lb(Vc(ka)),L;const sa=h[ka];"angle"!==ka||"arc"!==I||h.theta||(Lb("Arc marks uses theta channel rather than angle, replacing angle with theta."),ka="theta");if(!qb(h,ka,I))return Lb(zc(ka,I)),L;if("size"===ka&&"line"===I){const Ba=nf(h[ka]);if(null===Ba||void 0===Ba?0:Ba.aggregate)return Lb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),L}if("color"===ka&&(c?"fill"in
h:"stroke"in h))return Lb(gc("encoding",{fill:"fill"in h,stroke:"stroke"in h})),L;if("detail"===ka||"order"===ka&&!Je(sa)&&!jd(sa)||"tooltip"===ka&&Je(sa))sa&&(L[ka]=d(sa).reduce((Ba,cb)=>{$b(cb)?Ba.push(Wb(cb,ka)):Lb(Eb(cb,ka));return Ba},[]));else{if("tooltip"===ka&&null===sa)L[ka]=null;else if(!($b(sa)||gd(sa)||jd(sa)||sa&&"condition"in sa||Dc(sa)))return Lb(Eb(sa,ka)),L;L[ka]=Pa(sa,ka,t)}return L},{})}function Ab(h,I){const c={};for(const t of Hd(h)){const L=Pa(h[t],t,I,{compositeMark:!0});c[t]=
L}return c}function Kb(h){const I=[];for(const c of Hd(h))if(Sa(h,c)){const t=d(h[c]);for(const L of t)$b(L)?I.push(L):ub(L)&&I.push(L.condition)}return I}function Jb(h,I,c){if(h)for(const t of Hd(h)){const L=h[t];if(Je(L))for(const ka of L)I.call(c,ka,t);else I.call(c,L,t)}}function cc(h,I,c,t){return h?Hd(h).reduce((L,ka)=>{const sa=h[ka];return Je(sa)?sa.reduce((Ba,cb)=>I.call(t,Ba,cb,ka),L):I.call(t,L,sa,ka)},c):c}function xc(h,I){return Hd(I).reduce((c,t)=>{switch(t){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return c;
case "order":if("line"===h||"trail"===h)return c;case "detail":case "key":t=I[t];if(Je(t)||$b(t))for(var L of d(t))L.aggregate||c.push(kd(L,{}));return c;case "size":if("trail"===h)return c;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(L=nf(I[t]))&&!L.aggregate&&c.push(kd(L,{})),c}},[])}function Y(h,I,c,t){t=void 0===t?!0:t;if("tooltip"in c)return{tooltip:c.tooltip};h=h.map(L=>{var {fieldPrefix:ka,titlePrefix:sa}=
L;L=t?" of ".concat(oa(I)):"";return{field:ka+I.field,type:I.type,title:Dc(sa)?{signal:sa+'"'.concat(escape(L),'"')}:sa+L}});c=Kb(c).map(tf);return{tooltip:[...h,...ja(c,F)]}}function oa(h){const {title:I,field:c}=h;return Da(I,c)}function Oa(h,I,c,t,L){const {scale:ka,axis:sa}=c;return Ba=>{var {partName:cb,mark:nb,positionPrefix:Gb,endPositionPrefix:Nb,extraEncoding:lc={}}=Ba;Ba=oa(c);return Va(h,cb,L,{mark:nb,encoding:Object.assign({},{[I]:Object.assign({},{field:Gb+"_"+c.field,type:c.type},void 0!==
Ba?{title:Ba}:{},void 0!==ka?{scale:ka}:{},void 0!==sa?{axis:sa}:{})},e(Nb)?{[I+"2"]:{field:Nb+"_"+c.field}}:{},t,lc)})}}function Va(h,I,c,t){const {clip:L,color:ka,opacity:sa}=h,Ba=h.type;return h[I]||void 0===h[I]&&c[I]?[Object.assign({},t,{mark:Object.assign({},c[I],L?{clip:L}:{},ka?{color:ka}:{},sa?{opacity:sa}:{},Od(t.mark)?t.mark:{type:t.mark},{style:"".concat(Ba,"-").concat(I)},f(h[I])?{}:h[I])})]:[]}function xb(h,I,c){({encoding:h}=h);I="vertical"===I?"y":"x";const t=h[I+"2"],L=h[I+"Error"],
ka=h[I+"Error2"];return{continuousAxisChannelDef:Sb(h[I],c),continuousAxisChannelDef2:Sb(t,c),continuousAxisChannelDefError:Sb(L,c),continuousAxisChannelDefError2:Sb(ka,c),continuousAxis:I}}function Sb(h,I){if(h&&h.aggregate){var c=Object.assign({},h);h=h.aggregate;c=(delete c.aggregate,c);h!==I&&(I="Continuous axis should not have customized aggregation function ".concat(h,"; ").concat(I," already agregates the axis."),Lb(I));return c}return h}function Zb(h,I){const {mark:c,encoding:t}=h,{x:L,y:ka}=
t;if(Od(c)&&c.orient)return c.orient;if(Mc(L)){if(Mc(ka)){h=$b(L)&&L.aggregate;const sa=$b(ka)&&ka.aggregate;if(!h&&sa===I)return"vertical";if(sa||h!==I){if(h===I&&sa===I)throw Error("Both x and y cannot have aggregate");return oc(ka)&&!oc(L)?"horizontal":"vertical"}}return"horizontal"}if(Mc(ka))return"vertical";throw Error("Need a valid continuous axis for ".concat(I,"s"));}function qc(h){return a(h)?"tukey":h}function Ec(h,I){var {config:c}=I,t,L=h=Object.assign({},h,{encoding:Ab(h.encoding,c)});
I=Object.assign({},L);var ka=L.mark;L=L.selection;I=(delete I.mark,delete I.encoding,delete I.selection,delete I.projection,I);ka=Od(ka)?ka:{type:ka};L&&Lb(wd("boxplot"));L=null!==(t=ka.extent)&&void 0!==t?t:c.boxplot.extent;var sa=ne("size",ka,c);t=qc(L);var Ba;{var cb=h;h=Zb(cb,"boxplot");const {continuousAxisChannelDef:hg,continuousAxis:Ng}=xb(cb,h,"boxplot");var nb=hg.field,Gb=qc(L),Nb=[...ed(nb),{op:"median",field:nb,as:"mid_box_"+nb},{op:"min",field:nb,as:("min-max"===Gb?"lower_whisker_":"min_")+
nb},{op:"max",field:nb,as:("min-max"===Gb?"upper_whisker_":"max_")+nb}];nb="min-max"===Gb||"tukey"===Gb?[]:[{calculate:'datum["upper_box_'.concat(nb,'"] - datum["lower_box_').concat(nb,'"]'),as:"iqr_"+nb},{calculate:'min(datum["upper_box_'.concat(nb,'"] + datum["iqr_').concat(nb,'"] * ').concat(L,', datum["max_').concat(nb,'"])'),as:"upper_whisker_"+nb},{calculate:'max(datum["lower_box_'.concat(nb,'"] - datum["iqr_').concat(nb,'"] * ').concat(L,', datum["min_').concat(nb,'"])'),as:"lower_whisker_"+
nb}];cb=Object.assign({},cb.encoding);Gb=(delete cb[Ng],cb);cb=Object.assign({},Gb);Gb=Gb.tooltip;cb=(delete cb.tooltip,cb);if(Gb){var lc;if(Je(Gb)){for(var Yc of Gb)Yc.aggregate?(Ba||(Ba=[]),Ba.push(Yc)):(lc||(lc=[]),lc.push(Yc));Ba&&(cb.tooltip=Ba)}else Gb.aggregate?cb.tooltip=Gb:lc=Gb;Je(lc)&&1===lc.length&&(lc=lc[0]);Ba={customTooltipWithoutAggregatedField:lc,filteredEncoding:cb}}else Ba={filteredEncoding:cb};const {customTooltipWithoutAggregatedField:yg,filteredEncoding:Pl}=Ba,{bins:Rj,timeUnits:jl,
aggregate:dm,groupby:em,encoding:Dm}=hb(Pl,c);Ba=[...Rj,...jl,{aggregate:[...dm,...Nb],groupby:em},...nb];Ba={bins:Rj,timeUnits:jl,transform:Ba,groupby:em,aggregate:dm,continuousAxisChannelDef:hg,continuousAxis:Ng,encodingWithoutContinuousAxis:Dm,ticksOrient:"vertical"===h?"horizontal":"vertical",boxOrient:h,customTooltipWithoutAggregatedField:yg}}const {bins:hd,timeUnits:qd,transform:Md,continuousAxisChannelDef:Rd,continuousAxis:Ee,groupby:Hf,aggregate:se,encodingWithoutContinuousAxis:Ef,ticksOrient:Yd,
boxOrient:sg,customTooltipWithoutAggregatedField:Mf}=Ba;lc=Object.assign({},Ef);Ba=Ef.color;Nb=Ef.size;lc=(delete lc.color,delete lc.size,lc);Yc=Oa(ka,Ee,Rd,lc,c.boxplot);h=Oa(ka,Ee,Rd,Ef,c.boxplot);Nb=Oa(ka,Ee,Rd,Object.assign({},lc,Nb?{size:Nb}:{}),c.boxplot);nb=Y([{fieldPrefix:"min-max"===t?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===t?"lower_whisker_":
"min_",titlePrefix:"Min"}],Rd,Ef);cb={type:"tick",color:"black",opacity:1,orient:Yd,invalid:null,aria:!1};Gb="min-max"===t?nb:Y([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Rd,Ef);Yc=[...Yc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Gb}),...Yc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
extraEncoding:Gb}),...Yc({partName:"ticks",mark:cb,positionPrefix:"lower_whisker",extraEncoding:Gb}),...Yc({partName:"ticks",mark:cb,positionPrefix:"upper_whisker",extraEncoding:Gb})];sa=[..."tukey"!==t?Yc:[],...h({partName:"box",mark:Object.assign({},{type:"bar"},sa?{size:sa}:{},{orient:sg,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:nb}),...Nb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},v(c.boxplot.median)&&
c.boxplot.median.color?{color:c.boxplot.median.color}:{},sa?{size:sa}:{},{orient:Yd,aria:!1}),positionPrefix:"mid_box",extraEncoding:nb})];if("min-max"===t){var Ve;return Object.assign({},I,{transform:(null!==(Ve=I.transform)&&void 0!==Ve?Ve:[]).concat(Md),layer:sa})}Ve='datum["lower_box_'.concat(Rd.field,'"]');t='datum["upper_box_'.concat(Rd.field,'"]');h="(".concat(t," - ").concat(Ve,")");Ve="".concat(Ve," - ").concat(L," * ").concat(h);h="".concat(t," + ").concat(L," * ").concat(h);Nb='datum["'.concat(Rd.field,
'"]');L={joinaggregate:ed(Rd.field),groupby:Hf};t={transform:[{filter:"(".concat(Ve," \x3c\x3d ").concat(Nb,") \x26\x26 (").concat(Nb," \x3c\x3d ").concat(h,")")},{aggregate:[{op:"min",field:Rd.field,as:"lower_whisker_"+Rd.field},{op:"max",field:Rd.field,as:"upper_whisker_"+Rd.field},{op:"min",field:"lower_box_"+Rd.field,as:"lower_box_"+Rd.field},{op:"max",field:"upper_box_"+Rd.field,as:"upper_box_"+Rd.field},...se],groupby:Hf}],layer:Yc};lc=Object.assign({},lc);lc=(delete lc.tooltip,lc);const {scale:pg,
axis:Ig}=Rd;Yc=oa(Rd);nb=M(Ig,["title"]);c=Va(ka,"outliers",c.boxplot,{transform:[{filter:"(".concat(Nb," \x3c ").concat(Ve,") || (").concat(Nb," \x3e ").concat(h,")")}],mark:"point",encoding:Object.assign({},{[Ee]:Object.assign({},{field:Rd.field,type:Rd.type},void 0!==Yc?{title:Yc}:{},void 0!==pg?{scale:pg}:{},P(nb)?{}:{axis:nb})},lc,Ba?{color:Ba}:{},Mf?{tooltip:Mf}:{})})[0];ka=[...hd,...qd,L];c?c={transform:ka,layer:[c,t]}:(c=t,c.transform.unshift(...ka));return Object.assign({},I,{layer:[c,{transform:Md,
layer:sa}]})}function ed(h){return[{op:"q1",field:h,as:"lower_box_"+h},{op:"q3",field:h,as:"upper_box_"+h}]}function Zc(h,I){({config:I}=I);h=Object.assign({},h,{encoding:Ab(h.encoding,I)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:L,encodingWithoutContinuousAxis:ka,ticksOrient:sa,markDef:Ba,outerSpec:cb,tooltipEncoding:nb}=be(h,"errorbar",I);delete ka.size;h=Oa(Ba,L,t,ka,I.errorbar);I=Ba.thickness;var Gb=Ba.size;Gb=Object.assign({},{type:"tick",orient:sa,aria:!1},void 0!==I?{thickness:I}:
{},void 0!==Gb?{size:Gb}:{});h=[...h({partName:"ticks",mark:Gb,positionPrefix:"lower",extraEncoding:nb}),...h({partName:"ticks",mark:Gb,positionPrefix:"upper",extraEncoding:nb}),...h({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==I?{size:I}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:nb})];return Object.assign({},cb,{transform:c},1<h.length?{layer:h}:Object.assign({},h[0]))}function Pd(h,I){var {encoding:c}=h;if(!(!od(c.x)&&!od(c.y)||
od(c.x2)||od(c.y2)||od(c.xError)||od(c.xError2)||od(c.yError)||od(c.yError2)))return{orient:Zb(h,I),inputType:"raw"};var t=od(c.x2)||od(c.y2);var L=od(c.xError)||od(c.xError2)||od(c.yError)||od(c.yError2);h=c.x;const ka=c.y;if(t){if(L)throw Error("".concat(I," cannot be both type aggregated-upper-lower and aggregated-error"));t=c.x2;c=c.y2;if(od(t)&&od(c))throw Error("".concat(I," cannot have both x2 and y2"));if(od(t)){if(Mc(h))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(I));
}if(od(c)){if(Mc(ka))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(I));}}else{t=c.xError;L=c.yError;const sa=c.yError2;if(od(c.xError2)&&!od(t))throw Error("".concat(I," cannot have xError2 without xError"));if(od(sa)&&!od(L))throw Error("".concat(I," cannot have yError2 without yError"));if(od(t)&&od(L))throw Error("".concat(I," cannot have both xError and yError with both are quantiative"));if(od(t)){if(Mc(h))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(od(L)){if(Mc(ka))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function be(h,I,c){var t,L=Object.assign({},h),ka=h.mark,sa=h.encoding,Ba=h.selection;L=(delete L.mark,delete L.encoding,delete L.selection,delete L.projection,L);ka=Od(ka)?ka:{type:ka};Ba&&Lb(wd(I));const {orient:cb,
inputType:nb}=Pd(h,I),{continuousAxisChannelDef:Gb,continuousAxisChannelDef2:Nb,continuousAxisChannelDefError:lc,continuousAxisChannelDefError2:Yc,continuousAxis:hd}=xb(h,cb,I);Ba=[];h=[];var qd=Gb.field,Md=!1;if("raw"===nb){var Rd=ka.center?ka.center:ka.extent?"iqr"===ka.extent?"median":"mean":c.errorbar.center;var Ee=ka.extent?ka.extent:"mean"===Rd?"stderr":"iqr";"median"===Rd!==("iqr"===Ee)&&(Ba=Ee,Ba="".concat(Rd," is not usually used with ").concat(Ba," for ").concat(I,"."),Lb(Ba));"stderr"===
Ee||"stdev"===Ee?(Ba=[{op:Ee,field:qd,as:"extent_"+qd},{op:Rd,field:qd,as:"center_"+qd}],h=[{calculate:'datum["center_'.concat(qd,'"] + datum["extent_').concat(qd,'"]'),as:"upper_"+qd},{calculate:'datum["center_'.concat(qd,'"] - datum["extent_').concat(qd,'"]'),as:"lower_"+qd}],qd={fieldPrefix:"center_",titlePrefix:ya(Rd)},Md=Ee,Md={fieldPrefix:"upper_",titlePrefix:ya(Rd)+" + "+Md},I=Ee,I=ya(Rd)+" - "+I,Rd=[qd,Md,{fieldPrefix:"lower_",titlePrefix:I}],Md=!0):("ci"===Ee?(I="mean",Rd="ci0",Ee="ci1"):
(I="median",Rd="q1",Ee="q3"),Ba=[{op:Rd,field:qd,as:"lower_"+qd},{op:Ee,field:qd,as:"upper_"+qd},{op:I,field:qd,as:"center_"+qd}],Rd=[{fieldPrefix:"upper_",titlePrefix:mf({field:qd,aggregate:Ee,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:mf({field:qd,aggregate:Rd,type:"quantitative"},c,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:mf({field:qd,aggregate:I,type:"quantitative"},c,{allowDisabling:!1})}])}else{if(ka.center||ka.extent){I=ka.center;var Hf=ka.extent;
I="".concat(Hf?"extent ":"").concat(Hf&&I?"and ":"").concat(I?"center ":"").concat(Hf&&I?"are ":"is ","not needed when data are aggregated.");Lb(I)}"aggregated-upper-lower"===nb?(Rd=[],h=[{calculate:'datum["'.concat(Nb.field,'"]'),as:"upper_"+qd},{calculate:'datum["'.concat(qd,'"]'),as:"lower_"+qd}]):"aggregated-error"===nb&&(Rd=[{fieldPrefix:"",titlePrefix:qd}],h=[{calculate:'datum["'.concat(qd,'"] + datum["').concat(lc.field,'"]'),as:"upper_"+qd}],Yc?h.push({calculate:'datum["'.concat(qd,'"] + datum["').concat(Yc.field,
'"]'),as:"lower_"+qd}):h.push({calculate:'datum["'.concat(qd,'"] - datum["').concat(lc.field,'"]'),as:"lower_"+qd}));for(Ee of h)Rd.push({fieldPrefix:Ee.as.substring(0,6),titlePrefix:ua(ua(Ee.calculate,'datum["',""),'"]',"")})}h={postAggregateCalculates:h,errorBarSpecificAggregate:Ba,tooltipSummary:Rd,tooltipTitleWithFieldName:Md};const {errorBarSpecificAggregate:se,postAggregateCalculates:Ef,tooltipSummary:Yd,tooltipTitleWithFieldName:sg}=h;sa=Object.assign({},sa);h="x"===hd?"x2":"y2";Ba="x"===hd?
"xError":"yError";qd="x"===hd?"xError2":"yError2";sa=(delete sa[hd],delete sa[h],delete sa[Ba],delete sa[qd],sa);const {bins:Mf,timeUnits:Ve,aggregate:pg,groupby:Ig,encoding:hg}=hb(sa,c);c=[...pg,...se];sa="raw"!==nb?[]:Ig;h=Y(Yd,Gb,hg,sg);return{transform:[...null!==(t=L.transform)&&void 0!==t?t:[],...Mf,...Ve,...0===c.length?[]:[{aggregate:c,groupby:sa}],...Ef],groupby:sa,continuousAxisChannelDef:Gb,continuousAxis:hd,encodingWithoutContinuousAxis:hg,ticksOrient:"vertical"===cb?"horizontal":"vertical",
markDef:ka,outerSpec:L,tooltipEncoding:h}}function pd(h,I){({config:I}=I);h=Object.assign({},h,{encoding:Ab(h.encoding,I)});const {transform:c,continuousAxisChannelDef:t,continuousAxis:L,encodingWithoutContinuousAxis:ka,markDef:sa,outerSpec:Ba,tooltipEncoding:cb}=be(h,"errorband",I);I=Oa(sa,L,t,ka,I.errorband);h=void 0!==h.encoding.x&&void 0!==h.encoding.y;let nb={type:h?"area":"rect"},Gb={type:h?"line":"rule"};const Nb=Object.assign({},sa.interpolate?{interpolate:sa.interpolate}:{},sa.tension&&sa.interpolate?
{tension:sa.tension}:{});h?(nb=Object.assign({},nb,Nb,{ariaRoleDescription:"errorband"}),Gb=Object.assign({},Gb,Nb,{aria:!1})):sa.interpolate?Lb(Hb("interpolate")):sa.tension&&Lb(Hb("tension"));return Object.assign({},Ba,{transform:c,layer:[...I({partName:"band",mark:nb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:cb}),...I({partName:"borders",mark:Gb,positionPrefix:"lower",extraEncoding:cb}),...I({partName:"borders",mark:Gb,positionPrefix:"upper",extraEncoding:cb})]})}function Ad(h,
I,c){I=new hf(h,I);vl[h]={normalizer:I,parts:c}}function id(h){const I=[];for(const L of h||[]){var c=L,t=Object.assign({},c);h=c.expr;c=c.bind;t=(delete t.expr,delete t.bind,t);c&&h?(h=Object.assign({},t,{bind:c,init:h}),I.push(h)):(h=Object.assign({},t,h?{update:h}:{},c?{bind:c}:{}),I.push(h))}return I}function af(h){return!!h&&("legend"===h||!!h.legend)}function Wa(h){return af(h)&&v(h)}function ob(h,I){const c={};for(const t of Em)h&&void 0!==h[t]&&(c[t]=Gd(h[t]));I&&(c.params=h.params);return c}
function zb(h){return v(h)&&void 0!==h.step}function Mb(h){return h.view||h.width||h.height}function bc(h,I,c){const t={},{spacing:L,columns:ka}=c[I];void 0!==L&&(t.spacing=L);void 0!==ka&&("facet"in h&&!wa(h.facet)||"concat"in h)&&(t.columns=ka);"vconcat"in h&&(t.columns=1);for(const cb of Fm)if(void 0!==h[cb])if("spacing"===cb){var sa,Ba;I=h[cb];t[cb]=a(I)?I:{row:null!==(sa=I.row)&&void 0!==sa?sa:L,column:null!==(Ba=I.column)&&void 0!==Ba?Ba:L}}else t[cb]=h[cb];return t}function Kc(h,I){var c;return null!==
(c=h[I])&&void 0!==c?c:h["width"===I?"continuousWidth":"continuousHeight"]}function r(h,I){h=Q(h,I);return zb(h)?h.step:20}function Q(h,I){var c;I=null!==(c=h[I])&&void 0!==c?c:h["width"===I?"discreteWidth":"discreteHeight"];return Da(I,{step:h.step})}function ma(h){var I=Hd(h||{});const c={};for(const t of I)I=h[t],c[t]=ra(I)?je(I):Gd(I);return c}function Ma(h){h=void 0===h?{}:h;var I=Object.assign({},h),c=h.color,t=h.font;h=h.fontSize;I=(delete I.color,delete I.font,delete I.fontSize,I);t=t?{text:{font:t},
style:{"guide-label":{font:t},"guide-title":{font:t},"group-title":{font:t},"group-subtitle":{font:t}}}:{};c?(c=void 0===c?{}:c,c={signals:[{name:"color",value:v(c)?Object.assign({},fm,c):fm}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},
axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):c={};h=h?{signals:[{name:"fontSize",value:v(h)?Object.assign({},gm,h):gm}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=u({},Gm,t,c,h,I||{});I=M(h,Hm);for(var L of["background","lineBreak","padding"])h[L]&&(I[L]=Gd(h[L]));for(var ka of Nc)h[ka]&&(I[ka]=kf(h[ka]));for(var sa of Ug)h[sa]&&(I[sa]=ma(h[sa]));for(const cb of hm)h[cb]&&(I[cb]=kf(h[cb]));h.legend&&(I.legend=kf(h.legend));h.scale&&(I.scale=kf(h.scale));if(h.style){L=h.style;ka=
Hd(L);sa={};for(Ba of ka)sa[Ba]=ma(L[Ba]);var Ba=sa;I.style=Ba}h.title&&(I.title=kf(h.title));h.view&&(I.view=kf(h.view));return I}function gb(h){h=rf(h);for(var I of Im)delete h[I];if(h.axis)for(var c in h.axis)ra(h.axis[c])&&delete h.axis[c];if(h.legend)for(var t of Jm)delete h.legend[t];if(h.mark){for(var L of cd)delete h.mark[L];h.mark.tooltip&&v(h.mark.tooltip)&&delete h.mark.tooltip}h.params&&(h.signals=(h.signals||[]).concat(id(h.params)),delete h.params);for(var ka of Km){for(const cb of cd)delete h[ka][cb];
if(I=Lm[ka])for(const cb of I)delete h[ka][cb];c=I=void 0;t=h;L=ka;var sa=void 0,Ba=t[L];"view"===L&&(sa="cell");Ba=Object.assign({},Ba,t.style[null!==(c=sa)&&void 0!==c?c:L]);P(Ba)||(t.style[null!==(I=sa)&&void 0!==I?I:L]=Ba);delete t[L]}for(const cb of Hd(vl))delete h[cb];{ka=h;const {titleMarkConfig:cb,subtitleMarkConfig:nb,subtitle:Gb}=Kd(ka.title);P(cb)||(ka.style["group-title"]=Object.assign({},ka.style["group-title"],cb));P(nb)||(ka.style["group-subtitle"]=Object.assign({},ka.style["group-subtitle"],
nb));P(Gb)?delete ka.title:ka.title=Gb}for(const cb in h)v(h[cb])&&P(h[cb])&&delete h[cb];return P(h)?void 0:h}function lb(h,I){const c="x"===I?"y":"radius";var t=h[I];h=h[c];if($b(t)&&$b(h))if("quantitative"===Oc(t)&&"quantitative"===Oc(h)){if(t.stack)return I;if(h.stack)return c;const sa=$b(t)&&!!t.aggregate,Ba=$b(h)&&!!h.aggregate;if(sa!==Ba)return sa?I:c;var L,ka;t=null===(L=t.scale)||void 0===L?void 0:L.type;L=null===(ka=h.scale)||void 0===ka?void 0:ka.type;if(t&&"linear"!==t)return c;if(L&&
"linear"!==L)return I}else{if("quantitative"===Oc(t))return I;if("quantitative"===Oc(h))return c}else{if("quantitative"===Oc(t))return I;if("quantitative"===Oc(h))return c}}function sb(h){switch(h){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Rb(h,I,c){c=void 0===c?{}:c;h=Od(h)?h.type:h;if(!Mm.has(h))return null;const t=lb(I,"x")||lb(I,"theta");if(!t)return null;const L=I[t];var ka=$b(L)?kd(L,{}):void 0;let sa=sb(t),Ba=I[sa],cb=$b(Ba)?kd(Ba,
{}):void 0;cb===ka&&(sa=Ba=cb=void 0);ka=Mg.reduce((Gb,Nb)=>{if("tooltip"!==Nb&&Sa(I,Nb)){var lc=I[Nb];for(const Yc of d(lc)){lc=nf(Yc);if(lc.aggregate)continue;const hd=kd(lc,{});hd&&hd===cb||Gb.push({channel:Nb,fieldDef:lc})}}return Gb},[]);let nb;void 0!==L.stack?nb=f(L.stack)?L.stack?"zero":null:L.stack:0<ka.length&&Nm.has(h)&&(nb="zero");if(!(nb&&nb in Om)||fb(I)&&0===ka.length)return null;if(L.scale&&L.scale.type&&L.scale.type!==Cg.LINEAR){if(c.disallowNonLinearStack)return null;Lb("Cannot stack non-linear scale (".concat(L.scale.type,
")."))}if(od(I[Ha(t)]))return void 0!==L.stack&&Lb(eb(t)),null;$b(L)&&L.aggregate&&!G(Hl,L.aggregate)&&Lb('Stacking is applied even though the aggregate function is non-summative ("'.concat(L.aggregate,'").'));return{groupbyChannel:Ba?sa:void 0,groupbyField:cb,fieldChannel:t,impute:null===L.impute?!1:we(h),stackBy:ka,offset:nb}}function ec(h){h=Object.assign({},h);h=(delete h.point,delete h.line,h);return 1<Hd(h).length?h:h.type}function Vb(h){for(const I of["line","area","rule","trail"])h[I]&&(h=
Object.assign({},h,{[I]:M(h[I],["point","line"])}));return h}function Qc(h,I,c){I=void 0===I?{}:I;if("transparent"===h.point)return{opacity:0};if(h.point)return v(h.point)?h.point:{};if(void 0!==h.point)return null;if(I.point||c.shape)return v(I.point)?I.point:{}}function dd(h,I){I=void 0===I?{}:I;if(h.line)return!0===h.line?{}:h.line;if(void 0!==h.line)return null;if(I.line)return!0===I.line?{}:I.line}function zd(h,I){return I?ee(h,I):h}function rd(h,I,c){const t=I[h];if(t&&!e(t)&&"repeat"in t){if(t.repeat in
c)return Object.assign({},I,{[h]:c[t.repeat]});Lb('Unknown repeated value "'.concat(t.repeat,'".'))}else return I}function bd(h,I){h=rd("field",h,I);if(void 0!==h){if(null===h)return null;"sort"in h&&qe(h.sort)&&(I=rd("field",h.sort,I),h=Object.assign({},h,I?{sort:I}:{}));return h}}function Jc(h,I){if($b(h))return bd(h,I);I=rd("datum",h,I);I===h||I.type||(I.type="nominal");return I}function ud(h,I){if(od(h)){if(I=Jc(h,I))return I;if(h&&"condition"in h)return{condition:h.condition}}else{if(Yb(h)){if(I=
Jc(h.condition,I))return Object.assign({},h,{condition:I});h=Object.assign({},h);return delete h.condition,h}return h}}function ee(h,I){const c={};for(const L in h)if(ii.call(h,L)){var t=h[L];Je(t)?c[L]=t.map(ka=>ud(ka,I)).filter(ka=>ka):(t=ud(t,I),void 0!==t&&(c[L]=t))}return c}function Sd(h){var {parentEncoding:I,encoding:c={},layer:t}=h;h={};if(I){var L=new Set([...Hd(I),...Hd(c)]);for(const ka of L){L=c[ka];const sa=I[ka];if(od(L))L=Object.assign({},sa,L),h[ka]=L;else if(Yb(L))h[ka]=Object.assign({},
L,{condition:Object.assign({},sa,L.condition)});else if(L||null===L)h[ka]=L;else if(t||jd(sa)||Dc(sa)||od(sa)||Je(sa))h[ka]=sa}}else h=c;return!h||P(h)?void 0:h}function ye(h){const {parentProjection:I,projection:c}=h;if(I&&c){{const {parentProjection:t,projection:L}={parentProjection:I,projection:c};h="Layer's shared projection ".concat(of(t)," is overridden by a child projection ").concat(of(L),".")}Lb(h)}return null!==c&&void 0!==c?c:I}function re(h,I){void 0===I&&(I=Ma(h.config));var c=I;c=void 0===
c?{}:c;c=Pm.map(h,{config:c});const {width:t,height:L}=h;{let {width:ka,height:sa}={width:t,height:L,autosize:h.autosize};h=Na(c)||"layer"in c;const Ba={};h?"container"==ka&&"container"==sa?(Ba.type="fit",Ba.contains="padding"):"container"==ka?(Ba.type="fit-x",Ba.contains="padding"):"container"==sa&&(Ba.type="fit-y",Ba.contains="padding"):("container"==ka&&(Lb(sc("width")),ka=void 0),"container"==sa&&(Lb(sc("height")),sa=void 0));I=Object.assign({},{type:"pad"},Ba,I?Pf(I.autosize):{},Pf(c.autosize));
"fit"!==I.type||h||(Lb('Autosize "fit" only works for single views and layered views.'),I.type="pad");"container"==ka&&"fit"!=I.type&&"fit-x"!=I.type&&Lb(Uc("width"));"container"==sa&&"fit"!=I.type&&"fit-y"!=I.type&&Lb(Uc("height"));h=ji(I,{type:"pad"})?void 0:I}return Object.assign({},c,h?{autosize:h}:{})}function Pf(h){return e(h)?{type:h}:null!==h&&void 0!==h?h:{}}function ke(h){return{explicit:!0,value:h}}function pe(h){return{explicit:!1,value:h}}function Re(h){return(I,c,t,L)=>{const ka=h(I.value,
c.value);return 0<ka?I:0>ka?c:xd(I,c,t,L)}}function xd(h,I,c,t){if(h.explicit&&I.explicit){var L=h.value;I=I.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(of(L)," and ").concat(of(I),"). Using ").concat(of(L),".");Lb(c)}return h}function Oe(h,I,c,t,L){L=void 0===L?xd:L;return void 0===h||void 0===h.value?I:h.explicit&&!I.explicit?h:I.explicit&&!h.explicit?I:ji(h.value,I.value)?h:L(h,I,c,t)}function dg(h){return"name"in h&&!("url"in h)&&!("values"in h)&&
!Xe(h)}function Xe(h){return h&&("sequence"in h||"sphere"in h||"graticule"in h)}function $f(h){return h.map(I=>"filter"in I?{filter:D(I.filter,Zd)}:I)}function vf(h,I,c){im=I||"view";jm=c||Qm;return Qf(h.trim()).map(Vf)}function Df(h,I,c,t,L){const ka=h.length;let sa=0,Ba;for(;I<ka;++I)if(Ba=h[I],sa||Ba!==c)L&&0<=L.indexOf(Ba)?--sa:t&&0<=t.indexOf(Ba)&&++sa;else break;return I}function Qf(h){const I=[],c=h.length;let t=0,L=0;for(;L<c;)L=Df(h,L,",","[{","]}"),I.push(h.substring(t,L).trim()),t=++L;
if(0===I.length)throw"Empty event selector: "+h;return I}function Vf(h){if("["===h[0]){var I=h;var c=I.length;h=Df(I,1,"]","[","]");if(h===c)throw"Empty between selector: "+I;c=Qf(I.substring(1,h));if(2!==c.length)throw"Between selector must have two elements: "+I;I=I.slice(h+1).trim();if("\x3e"!==I[0])throw"Expected '\x3e' after between selector: "+I;c=c.map(Vf);I=Vf(I.slice(1).trim());I.between?I={between:c,stream:I}:I.between=c}else{{c={source:im};const t=[];let L=[0,0],ka=0,sa=0,Ba=h.length,cb=
0,nb;if("}"===h[Ba-1]){cb=h.lastIndexOf("{");if(0<=cb){try{L=Xg(h.substring(cb+1,Ba-1))}catch(Gb){throw"Invalid throttle specification: "+h;}h=h.slice(0,cb).trim();Ba=h.length}else throw"Unmatched right brace: "+h;cb=0}if(!Ba)throw h;"@"===h[0]&&(ka=++cb);nb=Df(h,cb,":");nb<Ba&&(t.push(h.substring(sa,nb).trim()),sa=cb=++nb);cb=Df(h,cb,"[");if(cb===Ba)t.push(h.substring(sa,Ba).trim());else if(t.push(h.substring(sa,cb).trim()),I=[],sa=++cb,sa===Ba)throw"Unmatched left bracket: "+h;for(;cb<Ba;){cb=Df(h,
cb,"]");if(cb===Ba)throw"Unmatched left bracket: "+h;I.push(h.substring(sa,cb).trim());if(cb<Ba-1&&"["!==h[++cb])throw"Expected left bracket: "+h;sa=++cb}if(!(Ba=t.length)||Rm.test(t[Ba-1]))throw"Invalid event selector: "+h;1<Ba?(c.type=t[1],ka?c.markname=t[0].slice(1):jm[t[0]]?c.marktype=t[0]:c.source=t[0]):c.type=t[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=I&&(c.filter=I);L[0]&&(c.throttle=L[0]);L[1]&&(c.debounce=L[1]);I=c}}return I}function Xg(h){const I=h.split(",");
if(!h.length||2<I.length)throw h;return I.map(c=>{c=+c;if(c!==c)throw h;return c})}function Bh(h,I,c,t){var L=!!I&&"condition"in I&&I.condition;I=t(I);return L?(L=d(L).map(ka=>{const sa=t(ka);ka=ka.selection?Xh(h,ka.selection):Kh(h,ka.test);return Object.assign({},{test:ka},sa)}),{[c]:[...L,...void 0!==I?[I]:[]]}):void 0!==I?{[c]:I}:{}}function sh(h,I){I=void 0===I?"text":I;return Bh(h,h.encoding[I],I,c=>Ti(c,h.config))}function Ti(h,I,c){c=void 0===c?"datum":c;if(h){if(jd(h))return $d(h.value);if(od(h)){const {format:t,
formatType:L}=yf(h);return le({fieldOrDatumDef:h,format:t,formatType:L,expr:c,config:I})}}}function hk(h,I){I=void 0===I?{}:I;const {encoding:c,markDef:t,config:L,stack:ka}=h,sa=c.tooltip;if(Je(sa))return{tooltip:Pj({tooltip:sa},ka,L,I)};{const Ba=I.reactiveGeom?"datum.datum":"datum";return Bh(h,sa,"tooltip",cb=>{const nb=Ti(cb,L,Ba);if(nb)return nb;if(null!==cb){cb=ne("tooltip",t,L);!0===cb&&(cb={content:"encoding"});if(e(cb))return{value:cb};if(v(cb))return Dc(cb)?cb:"encoding"===cb.content?Pj(c,
ka,L,I):{signal:Ba}}})}}function nk(h,I,c,t){function L(cb,nb){var Gb,Nb=Ga(nb);cb=Id(cb)?cb:Object.assign({},cb,{type:h[Nb].type});Nb=cb.title||cf(cb,c);Nb=d(Nb).join(", ");if(nb in fg){const hd="x"===nb?"x2":"y2";var lc=nf(h[hd]);if(Hc(cb.bin)&&lc){var Yc=kd(cb,{expr:sa});lc=kd(lc,{expr:sa});const {format:qd,formatType:Md}=yf(cb);Yc=Bf(Yc,lc,qd,Md,c);ka[hd]=!0}else if(I&&I.fieldChannel===nb&&"normalize"===I.offset){const {format:qd,formatType:Md}=yf(cb);Yc=le({fieldOrDatumDef:cb,format:qd,formatType:Md,
expr:sa,config:c,normalizeStack:!0}).signal}}Yc=null!==(Gb=Yc)&&void 0!==Gb?Gb:Ti(cb,c,sa).signal;Ba.push({channel:nb,key:Nb,value:Yc})}({reactiveGeom:t}=void 0===t?{}:t);const ka={},sa=t?"datum.datum":"datum",Ba=[];Jb(h,(cb,nb)=>{$b(cb)?L(cb,nb):ub(cb)&&L(cb.condition,nb)});t={};for(const cb of Ba){const {channel:nb,key:Gb,value:Nb}=cb;ka[nb]||t[Gb]||(t[Gb]=Nb)}return t}function Pj(h,I,c,t){({reactiveGeom:t}=void 0===t?{}:t);h=nk(h,I,c,{reactiveGeom:t});h=fh(h).map(L=>{var [ka,sa]=L;return'"'.concat(ka,
'": ').concat(sa)});return 0<h.length?{signal:"{".concat(h.join(", "),"}")}:void 0}function Ah(h){const {markDef:I,config:c}=h,t=ne("aria",I,c);return!1===t?{}:Object.assign({},t?{aria:t}:{},nj(h),Nk(h))}function nj(h){const {mark:I,markDef:c,config:t}=h;if(!1===t.aria)return{};h=ne("ariaRoleDescription",c,t);return null!=h?{ariaRoleDescription:{value:h}}:I in jk?{}:{ariaRoleDescription:{value:I}}}function Nk(h){const {encoding:I,markDef:c,config:t,stack:L}=h;var ka=I.description;if(ka)return Bh(h,
ka,"description",sa=>Ti(sa,h.config));ka=ne("description",c,t);if(null!=ka)return{description:$d(ka)};if(!1===t.aria)return{};ka=nk(I,L,t);if(!P(ka))return{description:{signal:fh(ka).map((sa,Ba)=>{var [cb,nb]=sa;return'"'.concat(0<Ba?"; ":"").concat(cb,': " + (').concat(nb,")")}).join(" + ")}}}function Fg(h,I,c){c=void 0===c?{}:c;const {markDef:t,encoding:L,config:ka}=I,{vgChannel:sa}=c;let {defaultRef:Ba,defaultValue:cb}=c;if(void 0===Ba){var nb;cb=null!==(nb=cb)&&void 0!==nb?nb:ne(h,t,ka,{vgChannel:sa,
ignoreVgConfig:!0});void 0!==cb&&(Ba=$d(cb))}return Bh(I,L[h],null!==sa&&void 0!==sa?sa:h,Gb=>Ye({channel:h,channelDef:Gb,markDef:t,config:ka,scaleName:I.scaleName(h),scale:I.getScaleComponent(h),stack:null,defaultRef:Ba}))}function kh(h,I){I=void 0===I?{filled:void 0}:I;var c,t,L,ka;const {markDef:sa,encoding:Ba,config:cb}=h,{type:nb}=sa;I=null!==(c=I.filled)&&void 0!==c?c:ne("filled",sa,cb);c=G(["bar","point","circle","square","geoshape"],nb)?"transparent":void 0;c=null!==(t=null!==(L=ne(!0===I?
"color":void 0,sa,cb,{vgChannel:"fill"}))&&void 0!==L?L:cb.mark[!0===I&&"color"])&&void 0!==t?t:c;t=null!==(ka=ne(!1===I?"color":void 0,sa,cb,{vgChannel:"stroke"}))&&void 0!==ka?ka:cb.mark[!1===I&&"color"];ka=I?"fill":"stroke";L=Object.assign({},c?{fill:$d(c)}:{},t?{stroke:$d(t)}:{});sa.color&&(I?sa.fill:sa.stroke)&&Lb(gc("property",{fill:"fill"in sa,stroke:"stroke"in sa}));return Object.assign({},L,Fg("color",h,{vgChannel:ka,defaultValue:I?c:t}),Fg("fill",h,{defaultValue:Ba.fill?c:void 0}),Fg("stroke",
h,{defaultValue:Ba.stroke?t:void 0}))}function Jj(h){const {encoding:I,mark:c}=h,t=I.order;return!we(c)&&jd(t)?Bh(h,t,"zindex",L=>$d(L.value)):{}}function oj(h,I){h=jb(h);if(I=I[h])return I}function qg(h,I,c){var {defaultPos:t,vgChannel:L,isMidPoint:ka}=c;const {encoding:sa,markDef:Ba,config:cb,stack:nb}=I;c=sa[h];const Gb=sa[Ha(h)],Nb=I.scaleName(h),lc=I.getScaleComponent(h),Yc=oj(h,Ba),hd=yi({model:I,defaultPos:t,channel:h,scaleName:Nb,scale:lc});if(!c&&h in fg&&(sa.latitude||sa.longitude))I={field:I.getName(h)};
else a:{I={channel:h,channelDef:c,channel2Def:Gb,markDef:Ba,config:cb,isMidPoint:ka,scaleName:Nb,scale:lc,stack:nb,offset:Yc,defaultRef:hd};const {channel:qd,channelDef:Md,isMidPoint:Rd,scaleName:Ee,stack:Hf,offset:se,markDef:Ef,config:Yd}=I;if(od(Md)&&Hf&&qd===Hf.fieldChannel){if($b(Md)&&(I=Za({channel:qd,fieldDef:Md,isMidPoint:Rd,markDef:Ef,stack:Hf,config:Yd}),void 0!==I)){I=Td({scaleName:Ee,fieldOrDatumDef:Md,startSuffix:"start",band:I,offset:se});break a}I=Ge(Md,Ee,{suffix:"end"},{offset:se})}else I=
Xd(I)}return I?{[L||h]:I}:void 0}function yi(h){var {model:I,defaultPos:c,channel:t,scaleName:L,scale:ka}=h;const {markDef:sa,config:Ba}=I;return()=>{var cb=Ga(t),nb=pa(t);nb=ne(t,sa,Ba,{vgChannel:nb});if(void 0!==nb)return Xf(t,nb);switch(c){case "zeroOrMin":case "zeroOrMax":if(L&&(nb=ka.get("type"),!G([Cg.LOG,Cg.TIME,Cg.UTC],nb)&&ka.domainDefinitelyIncludesZero()))return{scale:L,value:0};if("zeroOrMin"===c)return"y"===cb?{field:{group:"height"}}:{value:0};switch(cb){case "radius":return{signal:"min(".concat(I.width.signal,
",").concat(I.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return cb=I[Ua(t)],Object.assign({},cb,{mult:.5})}}}function zi(h,I,c,t){t=void 0===t?"middle":t;if("radius"===h||"theta"===h)return pa(h);var L="x"===h?"align":"baseline";I=ne(L,I,c);Dc(I)?(Lb("The ".concat(L," for range marks cannot be an expression")),L=void 0):L=I;return"x"===h?Sm[L||("top"===t?"left":"center")]:Tm[L||t]}function Ai(h,I,c){var {defaultPos:t,
defaultPos2:L,range:ka}=c;return ka?Hj(h,I,{defaultPos:t,defaultPos2:L}):qg(h,I,{defaultPos:t})}function Hj(h,I,c){var {defaultPos:t,defaultPos2:L}=c;const {markDef:ka,config:sa}=I;var Ba=Ha(h);c=Ua(h);{const {encoding:se,mark:Ef,markDef:Yd,stack:sg,config:Mf}=I;var cb=Ga(Ba);const Ve=Ua(Ba),pg=pa(Ba);var nb=se[cb];const Ig=I.scaleName(cb),hg=I.getScaleComponent(cb);cb=Ba in se||Ba in Yd?oj(Ba,I.markDef):oj(cb,I.markDef);if(nb||"x2"!==Ba&&"y2"!==Ba||!se.latitude&&!se.longitude){var {channel:Gb,channelDef:Nb,
channel2Def:lc,markDef:Yc,config:hd,scaleName:qd,scale:Md,stack:Rd,offset:Ee,defaultRef:Hf}={channel:Ba,channelDef:nb,channel2Def:se[Ba],markDef:Yd,config:Mf,scaleName:Ig,scale:hg,stack:sg,offset:cb,defaultRef:void 0};nb=od(Nb)&&Rd&&Gb.charAt(0)===Rd.fieldChannel.charAt(0)?Ge(Nb,qd,{suffix:"start"},{offset:Ee}):Xd({channel:Gb,channelDef:lc,scaleName:qd,scale:Md,stack:Rd,markDef:Yc,config:hd,offset:Ee,defaultRef:Hf});Ba=void 0!==nb?{[pg]:nb}:Qi(Ba,Yd)||Qi(Ba,{[Ba]:Cf(Ba,Yd,Mf.style),[Ve]:Cf(Ve,Yd,
Mf.style)})||Qi(Ba,Mf[Ef])||Qi(Ba,Mf.mark)||{[pg]:yi({model:I,defaultPos:L,channel:Ba,scaleName:Ig,scale:hg})()}}else Ba={[pg]:{field:I.getName(Ba)}}}c=Ba[c]?zi(h,ka,sa):pa(h);return Object.assign({},qg(h,I,{defaultPos:t,vgChannel:c}),Ba)}function Qi(h,I){const c=Ua(h),t=pa(h);if(void 0!==I[t])return{[t]:Xf(h,I[t])};if(void 0!==I[h])return{[t]:Xf(h,I[h])};if(I[c])return{[c]:Xf(h,I[c])}}function ni(h,I,c){var t,L;const {config:ka,encoding:sa,markDef:Ba,stack:cb}=h;var nb=Ha(I),Gb=Ua(I),Nb=sa[I];nb=
sa[nb];var lc=h.getScaleComponent(I),Yc=lc?lc.get("type"):void 0,hd=h.scaleName(I);const qd=Ba.orient;Gb=null!==(t=null!==(L=sa[Gb])&&void 0!==L?L:sa.size)&&void 0!==t?t:ne("size",Ba,ka,{vgChannel:Gb});t="bar"===c&&("x"===I?"vertical"===qd:"horizontal"===qd);if($b(Nb)&&(pc(Nb.bin)||Hc(Nb.bin)||Nb.timeUnit&&!nb)&&!Gb&&!(Yc in nh)){var Md,Rd;c=Za({channel:I,fieldDef:Nb,stack:cb,markDef:Ba,config:ka});h=null===(Md=h.component.axes[I])||void 0===Md?void 0:Md[0];h=null!==(Rd=null===h||void 0===h?void 0:
h.get("translate"))&&void 0!==Rd?Rd:.5;a:{I={fieldDef:Nb,fieldDef2:nb,channel:I,markDef:Ba,scaleName:hd,band:c,axisTranslate:h,spacing:I in fg?ne("binSpacing",Ba,ka):void 0,reverse:lc.get("reverse"),config:ka};var {fieldDef:Ee,fieldDef2:Hf,channel:se,band:Ef,scaleName:Yd,markDef:sg,spacing:Mf=0,axisTranslate:Ve,reverse:pg,config:Ig}=I;I=Ha(se);Nb=pa(se);h=pa(I);c=oj(se,sg);if(pc(Ee.bin)||Ee.timeUnit)I={[h]:qj({channel:se,fieldDef:Ee,scaleName:Yd,markDef:sg,band:(1-Ef)/2,offset:Ui(I,Mf,pg,Ve,c),config:Ig}),
[Nb]:qj({channel:se,fieldDef:Ee,scaleName:Yd,markDef:sg,band:1-(1-Ef)/2,offset:Ui(se,Mf,pg,Ve,c),config:Ig})};else{if(Hc(Ee.bin)){var hg=Ge(Ee,Yd,{},{offset:Ui(I,Mf,pg,Ve,c)});if($b(Hf)){I={[h]:hg,[Nb]:Ge(Hf,Yd,{},{offset:Ui(se,Mf,pg,Ve,c)})};break a}if(v(Ee.bin)&&Ee.bin.step){I={[h]:hg,[Nb]:{signal:'scale("'.concat(Yd,'", ').concat(kd(Ee,{expr:"datum"})," + ").concat(Ee.bin.step,")"),offset:Ui(se,Mf,pg,Ve,c)}};break a}}Lb(ac(I));I=void 0}}return I}if((od(Nb)&&Yc in nh||t)&&!nb){{var Ng;const {markDef:yg,
encoding:Pl,config:Rj,stack:jl}=h;Md=yg.orient;lc=h.scaleName(I);hd=h.getScaleComponent(I);Rd=Ua(I);nb=Ha(I);Md="horizontal"===Md&&"y"===I||"vertical"===Md&&"x"===I;t=ne(Md?"size":Rd,yg,Rj,{vgChannel:Rd});if(Pl.size||void 0!==t)Md?hg=Fg("size",h,{vgChannel:Rd,defaultValue:t}):Lb('Cannot apply size to non-oriented mark "'.concat(yg.type,'".'));Md=null!==(Ng=od(Nb)?Za({channel:I,fieldDef:Nb,markDef:yg,stack:jl,config:Rj}):void 0)&&void 0!==Ng?Ng:1;hg||(Yc=Rd,Ng=lc,t=hd,hg=Rj,L=Md,t?(Yc=t.get("type"),
"point"===Yc||"band"===Yc?void 0!==hg[c].discreteBandSize?c={value:hg[c].discreteBandSize}:Yc===Cg.POINT?(c=t.get("range"),c=uc(c)&&a(c.step)?{value:c.step-2}:{value:18}):c={scale:Ng,band:L}:c={value:hg[c].continuousBandSize}):(Ng=r(hg.view,Yc),c=Da(hg[c].discreteBandSize,Ng-2),c=void 0!==c?{value:c}:void 0),hg={[Rd]:c});t="band"!==(null===hd||void 0===hd?void 0:hd.get("type"))||!("band"in hg[Rd]);c=zi(I,yg,Rj,t?"middle":"top");Ng=oj(I,yg);I=Xd({channel:I,channelDef:Nb,markDef:yg,config:Rj,scaleName:lc,
scale:hd,stack:jl,offset:Ng,defaultRef:yi({model:h,defaultPos:"mid",channel:I,scaleName:lc,scale:hd}),band:t?.5:(1-Md)/2});Rd?I=Object.assign({},{[c]:I},hg):(Nb=pa(nb),h=hg[Rd],h=Ng?Object.assign({},h,{offset:Ng}):h,I={[c]:I,[Nb]:Je(I)?[I[0],Object.assign({},I[1],{offset:h})]:Object.assign({},I,{offset:h})})}return I}return Hj(I,h,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Ui(h,I,c,t,L){if(h in bl)return 0;h="x"===h||"y2"===h?-I/2:I/2;if(Dc(c)||Dc(L)||Dc(t))return c=Ce(c),L=Ce(L),
t=(t=Ce(t))?"".concat(t," + "):"",c=c?"(".concat(c," ? -1 : 1) * "):"",h=L?"(".concat(L," + ").concat(h,")"):h,{signal:t+c+h};L=L||0;return t+(c?-L-h:+L+h)}function qj(h){var {channel:I,fieldDef:c,scaleName:t,markDef:L,band:ka,offset:sa,config:Ba}=h;h=Td({scaleName:t,fieldOrDatumDef:c,band:ka,offset:sa});return Be({fieldDef:c,channel:I,markDef:L,ref:h,config:Ba})}function hh(h,I){const {fill:c,stroke:t}="include"===I.color?kh(h):{};return Object.assign({},Qj(h.markDef,I),Vi(h,"fill",c),Vi(h,"stroke",
t),Fg("opacity",h),Fg("fillOpacity",h),Fg("strokeOpacity",h),Fg("strokeWidth",h),Fg("strokeDash",h),Jj(h),hk(h),sh(h,"href"),Ah(h))}function Vi(h,I,c){const {config:t,mark:L,markDef:ka}=h;return"hide"===ne("invalid",ka,t)&&c&&!we(L)&&(h=Tk(h,{invalid:!0,channels:Lj}))?{[I]:[{test:h,value:null},...d(c)]}:c?{[I]:c}:{}}function Qj(h,I){return Bi.reduce((c,t)=>{Um.has(t)||void 0===h[t]||"ignore"===I[t]||(c[t]=$d(h[t]));return c},{})}function Tk(h,I){var {invalid:c=!1,channels:t}=I;I=t.reduce((L,ka)=>
{var sa=h.getScaleComponent(ka);sa&&(sa=sa.get("type"),(ka=h.vgField(ka,{expr:"datum"}))&&sa in Jh&&(L[ka]=!0));return L},{});I=Hd(I);if(0<I.length){const L=c?"||":"\x26\x26";return I.map(ka=>jf(ka,c)).join(" ".concat(L," "))}}function rj(h){const {config:I,markDef:c}=h;return ne("invalid",c,I)&&(h=sj(h,{channels:Wg}))?{defined:{signal:h}}:{}}function sj(h,I){var {invalid:c=!1,channels:t}=I;I=t.reduce((L,ka)=>{var sa=h.getScaleComponent(ka);sa&&(sa=sa.get("type"),(ka=h.vgField(ka,{expr:"datum"}))&&
sa in Jh&&(L[ka]=!0));return L},{});I=Hd(I);if(0<I.length){const L=c?"||":"\x26\x26";return I.map(ka=>jf(ka,c)).join(" ".concat(L," "))}}function og(h,I){if(void 0!==I)return{[h]:$d(I)}}function Wi(h,I){h=n(h.scaleName(I));return"domain(".concat(h,")")}function oi(h){var I;return h.parent&&Lg(h.parent)&&(null!==(I=!h.parent.parent)&&void 0!==I?I:oi(h.parent.parent))}function Gi(h,I,c){var t;const L=null===(t=h.fieldDef(I))||void 0===t?void 0:t.field;Zg(h,ka=>{var sa;const Ba=null!==(sa=ka.project.hasField[L])&&
void 0!==sa?sa:ka.project.hasChannel[I];if(Ba&&km.has(ka)){var cb;sa=null!==(cb=c.get("selections"))&&void 0!==cb?cb:[];sa.push(ka.name);c.set("selections",sa,!1);Ba.hasLegend=!0}})}function lg(h,I,c,t,L){var ka,sa=I.name,Ba=sa+"_translate_anchor";sa+="_translate_delta";var cb=c.channel;const nb=Sj.has(I);I=L.filter(Nb=>Nb.name===c.signals[nb?"data":"visual"])[0];t=h.getSizeSignalRef(t).signal;h=h.getScaleComponent(cb);L=h.get("type");const Gb=nb&&"x"===cb?"-":"";Ba="".concat(Ba,".extent_").concat(cb);
cb="".concat(Gb).concat(sa,".").concat(cb," / ")+(nb?"".concat(t):"span(".concat(Ba,")"));Ba="".concat(nb?"log"===L?"panLog":"pow"===L?"panPow":"panLinear":"panLinear","(").concat(Ba,", ").concat(cb)+(nb&&"pow"===L?", ".concat(null!==(ka=h.get("exponent"))&&void 0!==ka?ka:1):"")+")";I.on.push({events:{signal:sa},update:nb?Ba:"clampRange(".concat(Ba,", 0, ").concat(t,")")})}function Dg(h,I,c,t,L){var ka,sa=I.name;const Ba=c.channel,cb=Sj.has(I);I=L.filter(Nb=>Nb.name===c.signals[cb?"data":"visual"])[0];
t=h.getSizeSignalRef(t).signal;L=h.getScaleComponent(Ba);const nb=L.get("type"),Gb=cb?Wi(h,Ba):I.name;h=sa+"_zoom_delta";sa="".concat(sa).concat("_zoom_anchor",".").concat(Ba);sa="".concat(cb?"log"===nb?"zoomLog":"pow"===nb?"zoomPow":"zoomLinear":"zoomLinear","(").concat(Gb,", ").concat(sa,", ").concat(h)+(cb&&"pow"===nb?", ".concat(null!==(ka=L.get("exponent"))&&void 0!==ka?ka:1):"")+")";I.on.push({events:{signal:h},update:cb?sa:"clampRange(".concat(sa,", 0, ").concat(t,")")})}function Ei(h,I){for(const c of Vm)c.has(h)&&
I(c)}function vh(h,I,c){I=void 0===I?!0:I;c=void 0===c?Jk:c;return Je(h)?(h=h.map(t=>vh(t,I,c)),I?"[".concat(h.join(", "),"]"):h):Ac(h)?I?c(Ub(h)):c(mc(h)):I?c(JSON.stringify(h)):h}function Sh(h,I){Zg(h,(c,t)=>{const L=c.name;let ka=t.modifyExpr(h,c);I.push(...t.signals(h,c));Ei(c,sa=>{sa.signals&&(I=sa.signals(h,c,I));sa.modifyExpr&&(ka=sa.modifyExpr(h,c,ka))});I.push({name:L+"_modify",on:[{events:{signal:c.name+"_tuple"},update:"modify(".concat(n(c.name+"_store"),", ").concat(ka,")")}]})});return tj(I)}
function Yj(h,I){h.component.selection&&Hd(h.component.selection).length&&(h=n(h.getName("cell")),I.unshift({name:"facet",value:{},on:[{events:vf("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(h,").datum")}]}));return tj(I)}function Vj(h,I){let c=!1;Zg(h,(t,L)=>{const ka=t.name,sa=n(ka+"_store");if(0===I.filter(Ba=>Ba.name===ka).length){const Ba="global"===t.resolve?"union":t.resolve,cb="multi"===t.type?", true)":")";I.push({name:t.name,update:"".concat("vlSelectionResolve",
"(").concat(sa,", ").concat(n(Ba)).concat(cb)})}c=!0;L.topLevelSignals&&(I=L.topLevelSignals(h,t,I));Ei(t,Ba=>{Ba.topLevelSignals&&(I=Ba.topLevelSignals(h,t,I))})});c&&0===I.filter(t=>"unit"===t.name).length&&I.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return tj(I)}function Xj(h,I){const c=[...I];Zg(h,t=>{const L={name:t.name+"_store"};if(t.init){const ka=t.project.items.map(Ba=>{Ba=Object.assign({},Ba);return delete Ba.signals,Ba}),sa=t.init.map(Ba=>
vh(Ba,!1));L.values="interval"===t.type?[{unit:Eg(h,{escape:!1}),fields:ka,values:sa}]:sa.map(Ba=>({unit:Eg(h,{escape:!1}),fields:ka,values:Ba}))}c.filter(ka=>ka.name===t.name+"_store").length||c.push(L)});return c}function Wj(h,I){Zg(h,(c,t)=>{I=t.marks?t.marks(h,c,I):I;Ei(c,L=>{L.marks&&(I=L.marks(h,c,I))})});return I}function vg(h,I){for(const c of h.children)ng(c)&&(I=Wj(c,I));return I}function tj(h){return h.map(I=>{I.on&&!I.on.length&&delete I.on;return I})}function Th(h,I,c,t){const L=c.channel,
ka=c.signals.visual;c=c.signals.data;const sa=Sj.has(I),Ba=n(h.scaleName(L));var cb=h.getScaleComponent(L);cb=cb?cb.get("type"):void 0;const nb=lc=>"scale(".concat(Ba,", ").concat(lc,")"),Gb=h.getSizeSignalRef("x"===L?"width":"height").signal,Nb="".concat(L,"(unit)");h=Ri(I,(lc,Yc)=>[...lc,{events:Yc.between[0],update:"[".concat(Nb,", ").concat(Nb,"]")},{events:Yc,update:"[".concat(ka,"[0], clamp(").concat(Nb,", 0, ").concat(Gb,")]")}]);h.push({events:{signal:I.name+"_scale_trigger"},update:cb in
Jh?"[".concat(nb("".concat(c,"[0]")),", ").concat(nb("".concat(c,"[1]")),"]"):"[0, 0]"});return sa?[{name:c,on:[]}]:[Object.assign({},{name:ka},t?{init:vh(t,!0,nb)}:{value:[]},{on:h}),Object.assign({},{name:c},t?{init:vh(t)}:{},{on:[{events:{signal:ka},update:"".concat(ka,"[0] \x3d\x3d\x3d ").concat(ka,"[1] ? null : invert(").concat(Ba,", ").concat(ka,")")}]})]}function Ri(h,I){return h.events.reduce((c,t)=>t.between?I(c,t):(Lb("".concat(t," is not an ordered event stream for interval selections.")),
c),[])}function wg(h,I){const c=I.name;var t=c+"_tuple_fields";const L=I.project.items.map(ka=>{const sa=h.fieldDef(ka.channel);return sa&&sa.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ka.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(h.vgField(ka.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n(ka.field),"]")}).join(", ");t="unit: ".concat(Eg(h),", fields: ").concat(t,
", values");I=I.events;return[{name:c+"_tuple",on:I?[{events:I,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(t,": [").concat(L,"]} : null"),force:!0}]:[]}]}function Zg(h,I){if(h=h.component.selection)for(const c of Tg(h))if(!0===I(c,Wm[c.type]))break}function Eg(h,I){({escape:I}=void 0===I?{escape:!0}:I);I=I?n(h.name):h.name;for(h=h.parent;h&&!Rg(h);)h=h.parent;if(h){const {facet:c}=h;for(const t of zh)c[t]&&(I+=" + '__facet_".concat(t,"_' + (facet[").concat(n(h.vgField(t)),
"])"))}return I}function bi(h){let I=!1;Zg(h,c=>{I=I||c.project.items.some(t=>"_vgsid_"===t.field)});return I}function eh(h){this.type=h}function Fi(h){switch(h.type){case "ArrayExpression":return h.elements;case "BinaryExpression":case "LogicalExpression":return[h.left,h.right];case "CallExpression":return[h.callee].concat(h.arguments);case "ConditionalExpression":return[h.test,h.consequent,h.alternate];case "MemberExpression":return[h.object,h.property];case "ObjectExpression":return h.properties;
case "Property":return[h.key,h.value];case "UnaryExpression":return[h.argument];default:return[]}}function wf(h,I){if(!h)throw Error("ASSERT: "+I);}function Ff(h){return 48<=h&&57>=h}function Ag(h){return 0<="0123456789abcdefABCDEF".indexOf(h)}function ci(h){return 0<="01234567".indexOf(h)}function Gh(h){return 10===h||13===h||8232===h||8233===h}function Jg(h){return 36===h||95===h||65<=h&&90>=h||97<=h&&122>=h||92===h||128<=h&&Xm.test(String.fromCharCode(h))}function Zh(h){return 36===h||95===h||
65<=h&&90>=h||97<=h&&122>=h||48<=h&&57>=h||92===h||128<=h&&Ym.test(String.fromCharCode(h))}function pk(){for(;yd<uh;){const h=Me.charCodeAt(yd);if(32===h||9===h||11===h||12===h||160===h||5760<=h&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(h)||Gh(h))++yd;else break}}function pj(h){var I=0;var c="u"===h?4:2;for(h=0;h<c;++h)if(yd<uh&&Ag(Me[yd])){var t=Me[yd++];I=16*I+"0123456789abcdef".indexOf(t.toLowerCase())}else pf({},"Unexpected token %0",
"ILLEGAL");return String.fromCharCode(I)}function mi(){var h=Me.charCodeAt(yd++);var I=String.fromCharCode(h);92===h&&(117!==Me.charCodeAt(yd)&&pf({},"Unexpected token %0","ILLEGAL"),++yd,(h=pj("u"))&&"\\"!==h&&Jg(h.charCodeAt(0))||pf({},"Unexpected token %0","ILLEGAL"),I=h);for(;yd<uh;){h=Me.charCodeAt(yd);if(!Zh(h))break;++yd;I+=String.fromCharCode(h);92===h&&(I=I.substr(0,I.length-1),117!==Me.charCodeAt(yd)&&pf({},"Unexpected token %0","ILLEGAL"),++yd,(h=pj("u"))&&"\\"!==h&&Zh(h.charCodeAt(0))||
pf({},"Unexpected token %0","ILLEGAL"),I+=h)}return I}function ug(){var h=yd,I=Me.charCodeAt(yd),c=Me[yd];switch(I){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++yd,{type:7,value:String.fromCharCode(I),start:h,end:yd};default:var t=Me.charCodeAt(yd+1);if(61===t)switch(I){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return yd+=2,{type:7,value:String.fromCharCode(I)+String.fromCharCode(t),start:h,end:yd};
case 33:case 61:return yd+=2,61===Me.charCodeAt(yd)&&++yd,{type:7,value:Me.slice(h,yd),start:h,end:yd}}}I=Me.substr(yd,4);if("\x3e\x3e\x3e\x3d"===I)return yd+=4,{type:7,value:I,start:h,end:yd};I=I.substr(0,3);if("\x3e\x3e\x3e"===I||"\x3c\x3c\x3d"===I||"\x3e\x3e\x3d"===I)return yd+=3,{type:7,value:I,start:h,end:yd};I=I.substr(0,2);if(c===I[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===I)return yd+=2,{type:7,value:I,start:h,end:yd};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++yd,{type:7,
value:c,start:h,end:yd};pf({},"Unexpected token %0","ILLEGAL")}function ri(){var h=Me[yd];wf(Ff(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");var I=yd;var c="";if("."!==h){c=Me[yd++];h=Me[yd];if("0"===c){if("x"===h||"X"===h){++yd;for(c="";yd<uh&&Ag(Me[yd]);)c+=Me[yd++];0===c.length&&pf({},"Unexpected token %0","ILLEGAL");Jg(Me.charCodeAt(yd))&&pf({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt("0x"+c,16),start:I,end:yd}}if(ci(h)){for(c=
"0"+Me[yd++];yd<uh&&ci(Me[yd]);)c+=Me[yd++];(Jg(Me.charCodeAt(yd))||Ff(Me.charCodeAt(yd)))&&pf({},"Unexpected token %0","ILLEGAL");return I={type:6,value:parseInt(c,8),octal:!0,start:I,end:yd}}h&&Ff(h.charCodeAt(0))&&pf({},"Unexpected token %0","ILLEGAL")}for(;Ff(Me.charCodeAt(yd));)c+=Me[yd++];h=Me[yd]}if("."===h){for(c+=Me[yd++];Ff(Me.charCodeAt(yd));)c+=Me[yd++];h=Me[yd]}if("e"===h||"E"===h){c+=Me[yd++];h=Me[yd];if("+"===h||"-"===h)c+=Me[yd++];if(Ff(Me.charCodeAt(yd)))for(;Ff(Me.charCodeAt(yd));)c+=
Me[yd++];else pf({},"Unexpected token %0","ILLEGAL")}Jg(Me.charCodeAt(yd))&&pf({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:I,end:yd}}function dh(h,I){let c=h;0<=I.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,(t,L)=>{if(1114111>=parseInt(L,16))return"x";pf({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(t){pf({},"Invalid regular expression")}try{return new RegExp(h,I)}catch(t){return null}}function Aj(){pk();
if(yd>=uh)return{type:2,start:yd,end:yd};var h=Me.charCodeAt(yd);if(Jg(h)){h=yd;if(92===Me.charCodeAt(yd))var I=mi();else a:{for(I=yd++;yd<uh;){var c=Me.charCodeAt(yd);if(92===c){yd=I;I=mi();break a}if(Zh(c))++yd;else break}I=Me.slice(I,yd)}return{type:1===I.length?3:Zm.hasOwnProperty(I)?4:"null"===I?5:"true"===I||"false"===I?1:3,value:I,start:h,end:yd}}if(40===h||41===h||59===h)return ug();if(39===h||34===h){var t="";c=!1;h=Me[yd];wf("'"===h||'"'===h,"String literal must starts with a quote");I=
yd;for(++yd;yd<uh;){var L=Me[yd++];if(L===h){h="";break}else if("\\"===L)if((L=Me[yd++])&&Gh(L.charCodeAt(0)))"\r"===L&&"\n"===Me[yd]&&++yd;else switch(L){case "u":case "x":if("{"===Me[yd]){++yd;var ka=Me[yd];L=0;for("}"===ka&&pf({},"Unexpected token %0","ILLEGAL");yd<uh;){ka=Me[yd++];if(!Ag(ka))break;L=16*L+"0123456789abcdef".indexOf(ka.toLowerCase())}(1114111<L||"}"!==ka)&&pf({},"Unexpected token %0","ILLEGAL");L=65535>=L?String.fromCharCode(L):String.fromCharCode((L-65536>>10)+55296,(L-65536&1023)+
56320);t+=L}else t+=pj(L);break;case "n":t+="\n";break;case "r":t+="\r";break;case "t":t+="\t";break;case "b":t+="\b";break;case "f":t+="\f";break;case "v":t+="\x0B";break;default:ci(L)?(ka="01234567".indexOf(L),0!==ka&&(c=!0),yd<uh&&ci(Me[yd])&&(c=!0,ka=8*ka+"01234567".indexOf(Me[yd++]),0<="0123".indexOf(L)&&yd<uh&&ci(Me[yd])&&(ka=8*ka+"01234567".indexOf(Me[yd++]))),t+=String.fromCharCode(ka)):t+=L}else if(Gh(L.charCodeAt(0)))break;else t+=L}""!==h&&pf({},"Unexpected token %0","ILLEGAL");return{type:8,
value:t,octal:c,start:I,end:yd}}return 46===h?Ff(Me.charCodeAt(yd+1))?ri():ug():Ff(h)?ri():ug()}function Vg(){const h=ig;yd=h.end;ig=Aj();yd=h.end;return h}function Ch(){const h=yd;ig=Aj();yd=h}function Kj(h,I,c){const t=new eh("||"===h||"\x26\x26"===h?"LogicalExpression":"BinaryExpression");t.operator=h;t.left=I;t.right=c;return t}function Vh(h){const I=new eh("Identifier");I.name=h;return I}function Dh(h){const I=new eh("Literal");I.value=h.value;I.raw=Me.slice(h.start,h.end);h.regex&&("//"===I.raw&&
(I.raw="/(?:)/"),I.regex=h.regex);return I}function Hi(h,I,c){const t=new eh("MemberExpression");t.computed="["===h;t.object=I;t.property=c;t.computed||(c.member=!0);return t}function di(h,I,c){const t=new eh("Property");t.key=I;t.value=c;t.kind=h;return t}function pf(h,I){var c=Array.prototype.slice.call(arguments,2),t=I.replace(/%(\d)/g,(ka,sa)=>{wf(sa<c.length,"Message reference must be in range");return c[sa]});var L=Error(t);L.index=yd;L.description=t;throw L;}function mh(h){2===h.type&&pf(h,
"Unexpected end of input");6===h.type&&pf(h,"Unexpected number");8===h.type&&pf(h,"Unexpected string");3===h.type&&pf(h,"Unexpected identifier");4===h.type&&pf(h,"Unexpected reserved word");pf(h,"Unexpected token %0",h.value)}function mg(h){const I=Vg();7===I.type&&I.value===h||mh(I)}function Tf(h){return 7===ig.type&&ig.value===h}function ei(){yd=ig.start;const h=Vg();return 8===h.type||6===h.type?(h.octal&&pf(h,"Octal literals are not allowed in strict mode."),Dh(h)):Vh(h.value)}function Li(){if(Tf("(")){mg("(");
var h=gi();mg(")");return h}if(Tf("[")){h=[];yd=ig.start;for(mg("[");!Tf("]");)Tf(",")?(Vg(),h.push(null)):(h.push(Hh()),Tf("]")||mg(","));Vg();var I=new eh("ArrayExpression");I.elements=h;return h=I}if(Tf("{")){h=[];I={};var c=String;yd=ig.start;for(mg("{");!Tf("}");){yd=ig.start;var t=ig;if(3===t.type){var L=ei();mg(":");t=Hh();t=di("init",L,t)}else 2===t.type||7===t.type?(mh(t),t=void 0):(L=ei(),mg(":"),t=Hh(),t=di("init",L,t));L="Identifier"===t.key.type?t.key.name:c(t.key.value);L="$"+L;Object.prototype.hasOwnProperty.call(I,
L)?pf({},"Duplicate data property in object literal not allowed in strict mode"):I[L]=!0;h.push(t);Tf("}")||mg(",")}mg("}");I=new eh("ObjectExpression");I.properties=h;return h=I}h=ig.type;yd=ig.start;if(3===h||$m[ig.value])I=Vh(Vg().value);else if(8===h||6===h)ig.octal&&pf(ig,"Octal literals are not allowed in strict mode."),I=Dh(Vg());else{if(4===h)throw Error("Disabled.");if(1===h)h=Vg(),h.value="true"===h.value,I=Dh(h);else if(5===h)h=Vg(),h.value=null,I=Dh(h);else if(Tf("/")||Tf("/\x3d")){var ka;
ig=null;pk();h=yd;I=Me[yd];wf("/"===I,"Regular expression literal must start with a slash");c=Me[yd++];for(L=t=!1;yd<uh;)if(I=Me[yd++],c+=I,"\\"===I)I=Me[yd++],Gh(I.charCodeAt(0))&&pf({},"Invalid regular expression: missing /"),c+=I;else if(Gh(I.charCodeAt(0)))pf({},"Invalid regular expression: missing /");else if(t)"]"===I&&(t=!1);else if("/"===I){L=!0;break}else"["===I&&(t=!0);L||pf({},"Invalid regular expression: missing /");I=c.substr(1,c.length-2);for(ka=L="";yd<uh;){t=Me[yd];if(!Zh(t.charCodeAt(0)))break;
++yd;"\\"===t&&yd<uh?pf({},"Unexpected token %0","ILLEGAL"):(ka+=t,L+=t)}0<=ka.search(/[^gimuy]/g)&&pf({},"Invalid regular expression",ka);t=ka;ka=dh(I,t);I=Dh({literal:c+L,value:ka,regex:{pattern:I,flags:t},start:h,end:yd});Ch()}else mh(Vg())}return I}function Xi(){var h;for(h=Li();;)if(Tf(".")){mg(".");yd=ig.start;var I=Vg();3===I.type||4===I.type||1===I.type||5===I.type||mh(I);I=Vh(I.value);h=Hi(".",h,I)}else if(Tf("(")){I=[];mg("(");if(!Tf(")"))for(;yd<uh;){I.push(Hh());if(Tf(")"))break;mg(",")}mg(")");
{const c=new eh("CallExpression");c.callee=h;c.arguments=I;h=c}}else if(Tf("["))mg("["),I=gi(),mg("]"),h=Hi("[",h,I);else break;if(7===ig.type&&(Tf("++")||Tf("--")))throw Error("Disabled.");return h}function fi(){if(7!==ig.type&&4!==ig.type)var h=Xi();else{if(Tf("++")||Tf("--"))throw Error("Disabled.");if(Tf("+")||Tf("-")||Tf("~")||Tf("!")){var I=Vg();h=fi();{I=I.value;const c=new eh("UnaryExpression");c.operator=I;c.argument=h;c.prefix=!0;h=c}}else{if(4===ig.type&&"delete"===ig.value||4===ig.type&&
"void"===ig.value||4===ig.type&&"typeof"===ig.value)throw Error("Disabled.");h=Xi()}}return h}function Wh(h){let I=0;if(7!==h.type&&4!==h.type)return 0;switch(h.value){case "||":I=1;break;case "\x26\x26":I=2;break;case "|":I=3;break;case "^":I=4;break;case "\x26":I=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":I=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":I=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":I=8;break;
case "+":case "-":I=9;break;case "*":case "/":case "%":I=11}return I}function Hh(){var h=ig;var I=fi();var c=ig;var t=Wh(c);if(0===t)var L=I;else{c.prec=t;Vg();h=[h,ig];var ka=fi();for(L=[I,c,ka];0<(t=Wh(ig));){for(;2<L.length&&t<=L[L.length-2].prec;)ka=L.pop(),c=L.pop().value,I=L.pop(),h.pop(),I=Kj(c,I,ka),L.push(I);c=Vg();c.prec=t;L.push(c);h.push(ig);I=fi();L.push(I)}t=L.length-1;I=L[t];for(h.pop();1<t;)h.pop(),I=Kj(L[t-1].value,L[t-2],I),t-=2;L=I}Tf("?")&&(Vg(),h=Hh(),mg(":"),t=Hh(),I=new eh("ConditionalExpression"),
I.test=L,I.consequent=h,I.alternate=t,L=I);return L}function gi(){const h=Hh();if(Tf(","))throw Error("Disabled.");return h}function Te(h){Me=h;yd=0;uh=Me.length;ig=null;Ch();h=gi();if(2!==ig.type)throw Error("Unexpect token after expression.");return h}function dj(h){const I=[];if("Identifier"===h.type)return[h.name];if("Literal"===h.type)return[h.value];"MemberExpression"===h.type&&(I.push(...dj(h.object)),I.push(...dj(h.property)));return I}function ih(h){return"MemberExpression"===h.object.type?
ih(h.object):"datum"===h.object.name}function wh(h){h=Te(h);const I=new Set;h.visit(c=>{"MemberExpression"===c.type&&ih(c)&&I.add(dj(c).slice(1).join("."))});return I}function Ih(h,I){const c={},t=h.config.selection;for(const sa of Hd(null!==I&&void 0!==I?I:{})){const Ba=rf(I[sa]);var L=Object.assign({},t[Ba.type]);L=(delete L.fields,delete L.encodings,L);for(const nb in L)if(!("encodings"===nb&&Ba.fields||"fields"===nb&&Ba.encodings)&&("mark"===nb&&(Ba[nb]=Object.assign({},L[nb],Ba[nb])),void 0===
Ba[nb]||!0===Ba[nb])){var ka;Ba[nb]=null!==(ka=L[nb])&&void 0!==ka?ka:Ba[nb]}L=V(sa);const cb=c[L]=Object.assign({},Ba,{name:L,events:e(Ba.on)?vf(Ba.on,"scope"):rf(Ba.on)});Ei(cb,nb=>{nb.has(cb)&&nb.parse&&nb.parse(h,cb,Ba,I[sa])})}return c}function Xh(h,I,c,t){t=void 0===t?"datum":t;const L=[];I=ia(I,function(ka){var sa=V(ka);ka=h.getSelectionComponent(sa,ka);sa=n(sa+"_store");if(ka.project.timeUnit){const Ba=null!==c&&void 0!==c?c:h.component.data.raw,cb=ka.project.timeUnit.clone();Ba.parent?cb.insertAsParentOf(Ba):
Ba.parent=cb}"none"!==ka.empty&&L.push(sa);return"vlSelectionTest(".concat(sa,", ").concat(t)+("global"===ka.resolve?")":", ".concat(n(ka.resolve),")"))});return(L.length?"!("+L.map(ka=>"length(data(".concat(ka,"))")).join(" || ")+") || ":"")+"(".concat(I,")")}function Ii(h,I){const c=I.encoding;let t=I.field;if(!c&&!t)t=h.project.items[0].field,1<h.project.items.length&&Lb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(n(t),"."));else if(c&&
!t){const L=h.project.items.filter(ka=>ka.channel===c);!L.length||1<L.length?(t=h.project.items[0].field,Lb((L.length?"Multiple ":"No ")+"matching ".concat(n(c)," encoding found for selection ").concat(n(I.selection),". ")+'Using "field": '.concat(n(t),"."))):t=L[0].field}return"".concat(h.name,"[").concat(n(t),"]")}function si(h,I){Zg(h,c=>{const t=c.name,L=h.getName("lookup_".concat(t));h.component.data.outputNodes[L]=c.materialized=new Eh(new kl(I,h,{selection:t}),L,zg.Lookup,h.component.data.outputNodeRefCounts)})}
function Kh(h,I,c){return ia(I,t=>e(t)?t:(null===t||void 0===t?0:t.selection)?Xh(h,t.selection,c):Ze(t))}function ti(h,I){if(h)return Je(h)&&!de(h)?h.map(c=>cf(c,I)).join(", "):h}function jh(h,I,c,t){var L,ka,sa;h.encode=null!==(L=h.encode)&&void 0!==L?L:{};h.encode[I]=null!==(ka=h.encode[I])&&void 0!==ka?ka:{};h.encode[I].update=null!==(sa=h.encode[I].update)&&void 0!==sa?sa:{};h.encode[I].update[c]=t}function kg(h,I,c,t){t=void 0===t?{header:!1}:t;var L=h.combine(),ka=Object.assign({},L),sa=L.disable;
const Ba=L.orient,cb=L.scale,nb=L.labelExpr,Gb=L.title;L=L.zindex;ka=(delete ka.disable,delete ka.orient,delete ka.scale,delete ka.labelExpr,delete ka.title,delete ka.zindex,ka);if(!sa){for(const hd in ka){var Nb=ek[hd];sa=ka[hd];if(Nb&&Nb!==I&&"both"!==Nb)delete ka[hd];else if(ra(sa)){Nb=sa;sa=Object.assign({},Nb);Nb=Nb.condition;sa=(delete sa.condition,sa);Nb=d(Nb);const qd=Ij[hd];if(qd){const {vgProp:Md,part:Rd}=qd;sa=[...Nb.map(Ee=>{var Hf=Object.assign({},Ee);Ee=Ee.test;Hf=(delete Hf.test,Hf);
return Object.assign({},{test:Kh(null,Ee)},Hf)}),sa];jh(ka,Rd,Md,sa);delete ka[hd]}else null===qd&&(sa={signal:Nb.map(Md=>{var Rd=Object.assign({},Md);Md=Md.test;Rd=(delete Rd.test,Rd);return"".concat(Kh(null,Md)," ? ").concat(Ie(Rd)," : ")}).join("")+Ie(sa)},ka[hd]=sa)}else if(Dc(sa)&&(Nb=Ij[hd])){const {vgProp:qd,part:Md}=Nb;jh(ka,Md,qd,sa);delete ka[hd]}}if("grid"===I){if(ka.grid)return ka.encode&&({grid:c}=ka.encode,ka.encode=Object.assign({},c?{grid:c}:{}),P(ka.encode)&&delete ka.encode),Object.assign({},
{scale:cb,orient:Ba},ka,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Da(L,0)})}else if(t.header||!h.mainExtracted){if(void 0!==nb){var lc,Yc;I=nb;(null===(lc=ka.encode)||void 0===lc?0:null===(Yc=lc.labels)||void 0===Yc?0:Yc.update)&&Dc(ka.encode.labels.update.text)&&(I=ua(nb,"datum.label",ka.encode.labels.update.text.signal));jh(ka,"labels","text",{signal:I})}null===ka.labelAlign&&delete ka.labelAlign;if(ka.encode){for(const hd of yh)h.hasAxisPart(hd)||delete ka.encode[hd];
P(ka.encode)&&delete ka.encode}h=ti(Gb,c);return Object.assign({},{scale:cb,orient:Ba,grid:!1},h?{title:h}:{},ka,!1===c.aria?{aria:!1}:{},{zindex:Da(L,0)})}}}function Ji(h){const {axes:I}=h.component,c=[];for(const t of Wg)if(I[t])for(const L of I[t])if(!L.get("disable")&&!L.get("gridScale")){const ka="x"===t?"height":"width",sa=h.getSizeSignalRef(ka).signal;ka!==sa&&c.push({name:ka,update:sa})}return c}function xh(h,I){const {x:c=[],y:t=[]}=h;return[...c.map(L=>kg(L,"grid",I)),...t.map(L=>kg(L,"grid",
I)),...c.map(L=>kg(L,"main",I)),...t.map(L=>kg(L,"main",I))].filter(L=>L)}function Cj(h,I,c,t){return Object.assign.apply(null,[{},...h.map(L=>{if("axisOrient"===L){L="x"===c?"bottom":"left";const ka=I["x"===c?"axisBottom":"axisLeft"]||{},sa=I["x"===c?"axisTop":"axisRight"]||{},Ba=new Set([...Hd(ka),...Hd(sa)]),cb={};for(const nb of Ba.values())cb[nb]={signal:"".concat(t.signal,' \x3d\x3d\x3d "').concat(L,'" ? ').concat(Ce(ka[nb])," : ").concat(Ce(sa[nb]))};return cb}return I[L]})])}function ak(h,
I,c,t){var L="band"===I?["axisDiscrete","axisBand"]:"point"===I?["axisDiscrete","axisPoint"]:I in Ml?["axisQuantitative"]:"time"===I||"utc"===I?["axisTemporal"]:[];const ka="x"===h?"axisX":"axisY";I=Dc(c)?"axisOrient":"axis"+ya(c);L=[...L,...L.map(sa=>ka+sa.substr(4))];I=["axis",I,ka];return{vlOnlyAxisConfig:Cj(L,t,h,c),vgAxisConfig:Cj(I,t,h,c),axisConfigStyle:Ph([...I,...L],t)}}function Ph(h,I){const c=[{}];for(const L of h){var t;if(h=null===(t=I[L])||void 0===t?void 0:t.style){h=d(h);for(const ka of h)c.push(I.style[ka])}}return Object.assign.apply(null,
c)}function Yh(h,I,c,t){t=void 0===t?{}:t;I=Bg(h,c,I);if(void 0!==I)return{configFrom:"style",configValue:I};for(const ka of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var L;if(void 0!==(null===(L=t[ka])||void 0===L?void 0:L[h]))return{configFrom:ka,configValue:t[ka][h]}}return{}}function Zj(h,I,c,t,L){const ka=null===I||void 0===I?void 0:I.labelAngle;if(void 0!==ka)return Dc(ka)?ka:ba(ka);({configValue:I}=Yh("labelAngle",t,null===I||void 0===I?void 0:I.style,L));if(void 0!==I)return ba(I);
if("x"===c&&G(["nominal","ordinal"],h.type)&&(!$b(h)||!h.timeUnit))return 270}function qk(h){return"(((".concat(h.signal," % 360) + 360) % 360)")}function Di(h,I,c,t){if(void 0!==h)return"x"===c?Dc(h)?(t=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "top")'):"top"===I,{signal:"(45 \x3c ".concat(t," \x26\x26 ").concat(t," \x3c 135) || (225 \x3c ").concat(t," \x26\x26 ").concat(t,' \x3c 315) ? "middle" :')+"(".concat(t," \x3c\x3d 45 || 315 \x3c\x3d ").concat(t,") \x3d\x3d\x3d ").concat(I,' ? "bottom" : "top"')}):
45<h&&135>h||225<h&&315>h?"middle":Dc(I)?(t=45>=h||315<=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(t,' "top" ? "bottom" : "top"')}):(45>=h||315<=h)===("top"===I)?"bottom":"top":Dc(h)?(h=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "left")'):"left"===I,t=t?'"middle"':"null",{signal:"".concat(h," \x3c\x3d 45 || 315 \x3c\x3d ").concat(h," || (135 \x3c\x3d ").concat(h," \x26\x26 ").concat(h," \x3c\x3d 225) ? ").concat(t," : (45 \x3c\x3d ").concat(h," \x26\x26 ").concat(h,
" \x3c\x3d 135) \x3d\x3d\x3d ").concat(I,' ? "top" : "bottom"')}):45>=h||315<=h||135<=h&&225>=h?t?"middle":null:Dc(I)?(t=45<=h&&135>=h?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(I.signal," ").concat(t,' "left" ? "top" : "bottom"')}):(45<=h&&135>=h)===("left"===I)?"top":"bottom"}function ag(h,I,c){if(void 0!==h){var t=(c="x"===c)?0:90,L=c?"bottom":"left";return Dc(h)?(h=qk(h),I=Dc(I)?"(".concat(I.signal,' \x3d\x3d\x3d "').concat(L,'")'):I===L,{signal:"(".concat(t?"("+h+" + 90)":h," % 180 \x3d\x3d\x3d 0) ? ").concat(c?
null:'"center"'," :")+"(".concat(t," \x3c ").concat(h," \x26\x26 ").concat(h," \x3c ").concat(180+t,") \x3d\x3d\x3d ").concat(I,' ? "left" : "right"')}):0===(h+t)%180?c?null:"center":Dc(I)?(c=t<h&&h<180+t?"\x3d\x3d\x3d":"!\x3d\x3d",I="".concat(I.signal," ").concat(c,' "').concat(L,'"'),{signal:"".concat(I,' ? "left" : "right"')}):(t<h&&h<180+t)===(I===L)?"left":"right"}}function Lh(h,I){var c="x"===I?"x2":"y2";I=h.fieldDef(I);h=h.fieldDef(c);c=I?I.title:void 0;h=h?h.title:void 0;if(c&&h)return xa(c,
h);if(c)return c;if(h)return h;if(void 0!==c)return c;if(void 0!==h)return h}function oh(h,I,c){return kd(h,Object.assign({},{prefix:I,suffix:"sort_index"},null!==c&&void 0!==c?c:{}))}function Mh(h,I){return G(["top","bottom"],I)?"column":G(["left","right"],I)?"row":"row"===h?"row":"column"}function Nh(h,I,c,t){return Da((I||{})[h],("row"===t?c.headerRow:"column"===t?c.headerColumn:c.headerFacet)[h],c.header[h])}function ej(h,I,c,t){const L={};for(const ka of h)h=Nh(ka,I||{},c,t),void 0!==h&&(L[ka]=
h);return L}function Bj(h,I){const c=h.component.layoutHeaders[I].title,t=h.config?h.config:void 0;h=h.component.layoutHeaders[I].facetFieldDef?h.component.layoutHeaders[I].facetFieldDef:void 0;const {titleAnchor:L,titleAngle:ka,titleOrient:sa}=ej(["titleAnchor","titleAngle","titleOrient"],h.header,t,I),Ba=Mh(I,sa),cb=ba(ka);return{name:"".concat(I,"-title"),type:"group",role:"".concat(Ba,"-title"),title:Object.assign({},{text:c},"row"===I?{orient:"left"}:{},{style:"guide-title"},ui(cb,Ba),ph(Ba,
cb,L),Uh(t,h,I,an,lm))}}function ph(h,I,c){switch(void 0===c?"middle":c){case "start":return{align:"left"};case "end":return{align:"right"}}return(h=ag(I,"row"===h?"left":"top","row"===h?"y":"x"))?{align:h}:{}}function ui(h,I){return(h=Di(h,"row"===I?"left":"top","row"===I?"y":"x",!0))?{baseline:h}:{}}function Og(h,I){const c=h.component.layoutHeaders[I],t=[];for(const Nb of Ql)if(c[Nb])for(const lc of c[Nb]){a:{var L=h;var ka=I,sa=Nb,Ba=c,cb=lc;if(cb){let Yc=null;const {facetFieldDef:hd}=Ba;var nb=
L.config?L.config:void 0;if(hd&&cb.labels){var {labelOrient:Gb}=ej(["labelOrient"],hd.header,nb,ka);if("row"===ka&&!G(["top","bottom"],Gb)||"column"===ka&&!G(["left","right"],Gb))Yc=Jf(hd,ka,nb)}nb=Rg(L)&&!wa(L.facet);Gb=cb.axes;const qd=0<(null===Gb||void 0===Gb?void 0:Gb.length);if(Yc||qd){const Md="row"===ka?"height":"width";L=Object.assign({},{name:L.getName("".concat(ka,"_").concat(sa)),type:"group",role:"".concat(ka,"-").concat(sa)},Ba.facetFieldDef?{from:{data:L.getName(ka+"_domain")},sort:Hg(hd,
ka)}:{},qd&&nb?{from:{data:L.getName("facet_domain_".concat(ka))}}:{},Yc?{title:Yc}:{},cb.sizeSignal?{encode:{update:{[Md]:cb.sizeSignal}}}:{},qd?{axes:Gb}:{});break a}}L=null}null!=L&&t.push(L)}return t}function Hg(h,I){const {sort:c}=h;if(qe(c)){var t;return{field:kd(c,{expr:"datum"}),order:null!==(t=c.order)&&void 0!==t?t:"ascending"}}return Je(c)?{field:oh(h,I,{expr:"datum"}),order:"ascending"}:{field:kd(h,{expr:"datum"}),order:null!==c&&void 0!==c?c:"ascending"}}function Jf(h,I,c){const {format:t,
formatType:L,labelAngle:ka,labelAnchor:sa,labelOrient:Ba,labelExpr:cb}=ej("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),h.header,c,I),nb=le({fieldOrDatumDef:h,format:t,formatType:L,expr:"parent",config:c}).signal,Gb=Mh(I,Ba);return Object.assign({},{text:{signal:cb?ua(ua(cb,"datum.label",nb),"datum.value",kd(h,{expr:"parent"})):nb}},"row"===I?{orient:"left"}:{},{style:"guide-label",frame:"group"},ui(ka,Gb),ph(Gb,ka,sa),Uh(c,h,I,bn,mm))}function Uh(h,I,c,t,L){const ka=
{};for(const sa of t)L[sa]&&(t=Nh(sa,null===I||void 0===I?void 0:I.header,h,c),void 0!==t&&(ka[L[sa]]=t));return ka}function Dj(h){return[...lh(h,"width"),...lh(h,"height"),...lh(h,"childWidth"),...lh(h,"childHeight")]}function lh(h,I){var c="width"===I?"x":"y",t=h.component.layoutSize.get(I);if(!t||"merged"===t)return[];I=h.getSizeSignalRef(I).signal;if("step"===t){if(t=h.getScaleComponent(c)){var L=t.get("type");const ka=t.get("range");if(L in nh&&uc(ka))return L=h.scaleName(c),Rg(h.parent)&&"independent"===
h.parent.component.resolve.scale[c]?[{name:L+"_step",value:ka.step}]:[{name:L+"_step",value:ka.step},{name:I,update:pi(L,t,"domain('".concat(L,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==t?(c=(t=I.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",h=Kc(h.config.view,t?"width":"height"),h="isFinite(".concat(c,") ? ").concat(c," : ").concat(h),[{name:I,init:h,on:[{update:h,events:"window:resize"}]}]):[{name:I,value:t}]}function pi(h,
I,c){const t=I.get("type"),L=I.get("padding"),ka=Da(I.get("paddingOuter"),L);I=I.get("paddingInner");I="band"===t?void 0!==I?I:L:1;return"bandspace(".concat(c,", ").concat(Ce(I),", ").concat(Ce(ka),") * ").concat(h,"_step")}function Yi(h){return"childWidth"===h?"width":"childHeight"===h?"height":h}function Gg(h,I){return Hd(h).reduce((c,t)=>Object.assign({},c,Bh(I,h[t],t,L=>$d(L.value))),{})}function gj(h,I){const c=I in fg?"axis":"legend";return"independent"===h.scale[I]?("shared"===h[c][I]&&Lb('Setting the scale to be independent for "'.concat(I,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):h[c][I]||"shared"}function rk(h){return Zi(h,(I,c)=>Math.max(I,c.value))}function Oh(h){return Zi(h,(I,c)=>Da(I,c.value))}function Zi(h,I){var c=h&&h.condition;if(c=!!c&&(Je(c)||jd(c)))return d(h.condition).reduce(I,h.value);if(jd(h))return h.value}function vi(h,I,c){h=I.get("selections");if(null!==h&&void 0!==h&&h.length){var t=n(c.field);return h.map(L=>{const ka=n(V(L)+"_store");return"(!length(data(".concat(ka,
")) || (").concat(L,"[").concat(t,"] \x26\x26 indexof(").concat(L,"[").concat(t,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function $i(h,I,c,t){h=h.getSizeSignalRef(I).signal;return{signal:"clamp(".concat(h,", ").concat(c,", ").concat(t,")")}}function Mi(h){var I;if(ng(h)){var {encoding:c}=h,t={};for(const Mf of["color",...nm]){var L=Aa(c[Mf]);if(L&&h.getScaleComponent(Mf)&&("shape"!==Mf||!$b(L)||"geojson"!==L.type)){a:{var ka=L=void 0,sa=void 0,Ba=void 0,cb=void 0;var nb=void 0;var Gb=h,Nb=
Mf;let Ve=Gb.legend(Nb);const {markDef:pg,encoding:Ig,config:hg}=Gb;var lc=hg.legend;b:{var Yc=Gb;var hd=Nb,qd=Yc.scaleName(hd);if("trail"===Yc.mark){if("color"===hd){Yc={stroke:qd};break b}if("size"===hd){Yc={strokeWidth:qd};break b}}Yc="color"===hd?Yc.markDef.filled?{fill:qd}:{stroke:qd}:{[hd]:qd}}Yc=new cn({},Yc);Gi(Gb,Nb,Yc);hd=void 0!==Ve?!Ve:lc.disable;Yc.set("disable",hd,void 0!==Ve);if(hd){L=Yc;break a}Ve=Ve||{};qd=Gb.getScaleComponent(Nb).get("type");hd=Aa(Ig[Nb]);var Md=$b(hd)?null===(nb=
Qb(hd.timeUnit))||void 0===nb?void 0:nb.unit:void 0;const Ng=Ve.orient||hg.legend.orient||"right";nb={legend:Ve,channel:Nb,timeUnit:Md,scaleType:qd};({legend:Md}=nb);Md=Md.type;b:{var {channel:Rd,timeUnit:Ee,scaleType:Hf}=nb;if($a(Rd)){if(G(["quarter","month","day"],Ee)){nb="symbol";break b}if(Hf in th){nb="gradient";break b}}nb="symbol"}nb=Da(Md,nb);var {legendConfig:se,legendType:Ef,orient:Yd,legend:sg}={legend:Ve,legendType:nb,orient:Ng,legendConfig:lc};if(null!==(sa=null!==(ka=sg.direction)&&
void 0!==ka?ka:se[Ef?"gradientDirection":"symbolDirection"])&&void 0!==sa)ka=sa;else b:{switch(Yd){case "top":case "bottom":ka="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ka="gradient"===Ef?"horizontal":void 0;break b}ka=void 0}lc={legend:Ve,channel:Nb,model:Gb,markDef:pg,encoding:Ig,fieldOrDatumDef:hd,legendConfig:lc,config:hg,scaleType:qd,orient:Ng,legendType:nb,direction:ka};for(const yg of om)if(!("gradient"===nb&&yg.startsWith("symbol")||"symbol"===nb&&
yg.startsWith("gradient"))&&(ka=yg in pm?pm[yg](lc):Ve[yg],void 0!==ka)){b:{sa=Gb.fieldDef(Nb);switch(yg){case "disable":sa=void 0!==Ve;break b;case "values":sa=!(null===Ve||void 0===Ve||!Ve.values);break b;case "title":if("title"===yg&&ka===(null===sa||void 0===sa?void 0:sa.title)){sa=!0;break b}}sa=ka===(Ve||{})[yg]}(sa||void 0===hg.legend[yg])&&Yc.set(yg,ka,sa)}lc=null!==(cb=null===(Ba=Ve)||void 0===Ba?void 0:Ba.encoding)&&void 0!==cb?cb:{};Ba=Yc.get("selections");cb={};Nb={fieldOrDatumDef:hd,
model:Gb,channel:Nb,legendCmpt:Yc,legendType:nb};for(const yg of"labels legend title symbols gradient entries".split(" "))ka=Gg(null!==(I=lc[yg])&&void 0!==I?I:{},Gb),ka=yg in qm?qm[yg](ka,Nb):ka,void 0===ka||P(ka)||(cb[yg]=Object.assign({},(null===Ba||void 0===Ba?0:Ba.length)&&$b(hd)?{name:"".concat(V(hd.field),"_legend_").concat(yg)}:{},(null===Ba||void 0===Ba?0:Ba.length)?{interactive:!!Ba}:{},{update:ka}));P(cb)||Yc.set("encode",cb,!(null===(L=Ve)||void 0===L||!L.encoding));L=Yc}t[Mf]=L}}I=t}else{{const {legends:Mf,
resolve:Ve}=h.component;for(c of h.children){Mi(c);for(t of Hd(c.component.legends))Ve.legend[t]=gj(h.component.resolve,t),"shared"===Ve.legend[t]&&(Mf[t]=aj(Mf[t],c.component.legends[t]),Mf[t]||(Ve.legend[t]="independent",delete Mf[t]))}for(L of Hd(Mf))for(Gb of h.children)Gb.component.legends[L]&&"shared"===Ve.legend[L]&&delete Gb.component.legends[L];I=Mf}}return h.component.legends=I}function aj(h,I){if(!h)return I.clone();var c=h.getWithExplicit("orient");const t=I.getWithExplicit("orient");
if(!c.explicit||!t.explicit||c.value===t.value){var L=!1;for(const nb of om)c=Oe(h.getWithExplicit(nb),I.getWithExplicit(nb),nb,"legend",(Gb,Nb)=>{switch(nb){case "symbolType":return Gb="circle"===Nb.value?Nb:Gb,Gb;case "title":return za(Gb,Nb);case "type":return L=!0,pe("symbol")}return xd(Gb,Nb,nb,"legend")}),h.setWithExplicit(nb,c);if(L){var ka,sa,Ba,cb;(null===(ka=h.implicit)||void 0===ka?0:null===(sa=ka.encode)||void 0===sa?0:sa.gradient)&&aa(h.implicit,["encode","gradient"]);(null===(Ba=h.explicit)||
void 0===Ba?0:null===(cb=Ba.encode)||void 0===cb?0:cb.gradient)&&aa(h.explicit,["encode","gradient"])}return h}}function Ak(h){const I=h.component.legends,c={};for(const L of Hd(I)){var t=h.getScaleComponent(L);t=of(t.get("domains"));if(c[t])for(const ka of c[t])aj(ka,I[L])||c[t].push(I[L]);else c[t]=[I[L].clone()]}return Tg(c).flat().map(L=>{{var ka=h.config,sa,Ba=L.combine();L=Object.assign({},Ba);const hd=Ba.disable;Ba=Ba.labelExpr;L=(delete L.disable,delete L.labelExpr,delete L.selections,L);
if(hd)var cb=void 0;else{!1===ka.aria&&void 0==L.aria&&(L.aria=!1);if(null===(sa=L.encode)||void 0===sa?0:sa.symbols){ka=L.encode.symbols.update;!ka.fill||"transparent"===ka.fill.value||ka.stroke||L.stroke||(ka.stroke={value:"transparent"});for(var nb of nm)L[nb]&&delete ka[nb]}L.title||delete L.title;if(void 0!==Ba){var Gb,Nb;nb=Ba;(null===(Gb=L.encode)||void 0===Gb?0:null===(Nb=Gb.labels)||void 0===Nb?0:Nb.update)&&Dc(L.encode.labels.update.text)&&(nb=ua(Ba,"datum.label",L.encode.labels.update.text.signal));
Gb=L;Nb={signal:nb};var lc,Yc;Gb.encode=null!==(cb=Gb.encode)&&void 0!==cb?cb:{};Gb.encode.labels=null!==(lc=Gb.encode.labels)&&void 0!==lc?lc:{};Gb.encode.labels.update=null!==(Yc=Gb.encode.labels.update)&&void 0!==Yc?Yc:{};Gb.encode.labels.update.text=Nb}cb=L}}return cb}).filter(L=>void 0!==L)}function sk(h){return h.children.reduce((I,c)=>I.concat(c.assembleProjections()),ij(h))}function ij(h){var I=h.component.projection;if(!I||I.merged)return[];const c=I.combine(),{name:t}=c;if(I.data){const L=
{signal:"[".concat(I.size.map(ka=>ka.signal).join(", "),"]")};I=I.data.reduce((ka,sa)=>{sa=Dc(sa)?sa.signal:"data('".concat(h.lookupDataSource(sa),"')");G(ka,sa)||ka.push(sa);return ka},[]);if(0>=I.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:t,size:L,fit:{signal:1<I.length?"[".concat(I.join(", "),"]"):I[0]}},c)]}return[Object.assign({},{name:t},{translate:{signal:"[width / 2, height / 2]"}},c)]}function bj(h){var I=h.component;if(ng(h))if(h.hasProjection){var c;
const ka=h.specifiedProjection;var t=!(ka&&(null!=ka.scale||null!=ka.translate));const sa=t?[h.getSizeSignalRef("width"),h.getSizeSignalRef("height")]:void 0;if(t){{t=[];const {encoding:Ba}=h;for(L of[["longitude","latitude"],["longitude2","latitude2"]])(Aa(Ba[L[0]])||Aa(Ba[L[1]]))&&t.push({signal:h.getName("geojson_".concat(t.length))});h.channelHasField("shape")&&"geojson"===h.typedFieldDef("shape").type&&t.push({signal:h.getName("geojson_".concat(t.length))});0===t.length&&t.push(h.requestDataName(zg.Main));
var L=t}}else L=void 0;h=new rm(h.projectionName(!0),Object.assign({},null!==(c=h.config.projection)&&void 0!==c?c:{},null!==ka&&void 0!==ka?ka:{}),sa,L)}else h=void 0;else h=Ki(h);I.projection=h}function uj(h,I){const c=R(dn,t=>!ii.call(h.explicit,t)&&!ii.call(I.explicit,t)||ii.call(h.explicit,t)&&ii.call(I.explicit,t)&&of(h.get(t))===of(I.get(t))?!0:!1);if(of(h.size)===of(I.size)){if(c)return h;if(of(h.explicit)===of({}))return I;if(of(I.explicit)===of({}))return h}return null}function Ki(h){if(0!==
h.children.length){var I;for(var c of h.children)bj(c);c=R(h.children,t=>{if(t=t.component.projection){if(I)return(t=uj(I,t))&&(I=t),!!t;I=t}return!0});if(I&&c){c=h.projectionName(!0);const t=new rm(c,I.specifiedProjection,I.size,rf(I.data));for(const L of h.children)if(h=L.component.projection)h.isFit&&t.data.push(...L.component.projection.data),L.renameProjection(h.get("name"),c),h.merged=!0;return t}}}function Uk(h,I,c,t){if(nd(I,c)){var L,ka;h=ng(h)?null!==(L=null!==(ka=h.axis(c))&&void 0!==ka?
ka:h.legend(c))&&void 0!==L?L:{}:{};L=kd(I,{expr:"datum"});ka=kd(I,{expr:"datum",binSuffix:"end"});return{formulaAs:kd(I,{binSuffix:"range",forAs:!0}),formula:Bf(L,ka,h.format,h.formatType,t)}}return{}}function fj(h,I){return"".concat(md(h),"_").concat(I)}function vj(h,I,c){var t;c=null!==(t=Tb(c,void 0))&&void 0!==t?t:{};I=fj(c,I);return h.getName("".concat(I,"_bins"))}function Qg(h,I,c){let t;t="as"in h?e(h.as)?[h.as,"".concat(h.as,"_end")]:[h.as[0],h.as[1]]:[kd(h,{forAs:!0}),kd(h,{binSuffix:"end",
forAs:!0})];const L=Object.assign({},Tb(I,void 0));I=fj(L,h.field);var ka={signal:c.getName("".concat(I,"_bins")),extentSignal:c.getName("".concat(I,"_extent"))};const {signal:sa,extentSignal:Ba}=ka;if(mb(L.extent)){var cb=L.extent;ka=cb.selection;cb=Ii(c.getSelectionComponent(V(ka),ka),cb);delete L.extent}h=Object.assign({},{bin:L,field:h.field,as:[t]},sa?{signal:sa}:{},Ba?{extentSignal:Ba}:{},cb?{span:cb}:{});return{key:I,binComponent:h}}function eg(h){return"'"===h[0]&&"'"===h[h.length-1]||'"'===
h[0]&&'"'===h[h.length-1]?h.slice(1,-1):h}function xg(h,I){h=va(h);if("number"===I)return"toNumber(".concat(h,")");if("boolean"===I)return"toBoolean(".concat(h,")");if("string"===I)return"toString(".concat(h,")");if("date"===I)return"toDate(".concat(h,")");if("flatten"===I)return h;if(0===I.indexOf("date:"))return I=eg(I.slice(5,I.length)),"timeParse(".concat(h,",'").concat(I,"')");if(0===I.indexOf("utc:"))return I=eg(I.slice(4,I.length)),"utcParse(".concat(h,",'").concat(I,"')");Lb('Unrecognized parse "'.concat(I,
'".'));return null}function il(h){const I={};B(h.filter,c=>{if(De(c)){let L=null;if(ad(c))L=Gd(c.equal);else if(Cd(c))L=Gd(c.lte);else if(ld(c))L=Gd(c.lt);else if(Dd(c))L=Gd(c.gt);else if(Ud(c))L=Gd(c.gte);else if(ae(c))L=c.range[0];else if(oe(c)){var t;L=(null!==(t=c.oneOf)&&void 0!==t?t:c["in"])[0]}L&&(Ac(L)?I[c.field]="date":a(L)?I[c.field]="number":e(L)&&(I[c.field]="string"));c.timeUnit&&(I[c.field]="date")}});return I}function hj(h){function I(t){if(oc(t))c[t.field]="date";else{var L;if(L="quantitative"===
t.type)L=t.aggregate,L=e(L)&&G(["min","max"],L);L?c[t.field]="number":1<Ya(t.field)?t.field in c||(c[t.field]="flatten"):Qd(t)&&qe(t.sort)&&1<Ya(t.sort.field)&&(t.sort.field in c||(c[t.sort.field]="flatten"))}}const c={};(ng(h)||Rg(h))&&h.forEachFieldDef((t,L)=>{Id(t)?I(t):(L=Ga(L),L=h.fieldDef(L),I(Object.assign({},t,{type:L.type})))});if(ng(h)){const {mark:t,markDef:L,encoding:ka}=h;if(we(t)&&!h.encoding.order){const sa=ka["horizontal"===L.orient?"y":"x"];!$b(sa)||"quantitative"!==sa.type||sa.field in
c||(c[sa.field]="number")}}return c}function b(h){return h instanceof wk||h instanceof zl||h instanceof Al}function p(h){return h.stack.stackBy.reduce((I,c)=>{(c=kd(c.fieldDef))&&I.push(c);return I},[])}function X(h){return Je(h)&&h.every(I=>e(I))&&1<h.length}function S(h){function I(c){if(!(c instanceof Wk)){const t=c.clone();if(t instanceof Eh){const L="scale_"+t.getSource();t.setSource(L);h.model.component.data.outputNodes[L]=t}else(t instanceof cj||t instanceof Tj||t instanceof ll||t instanceof
Xk)&&t.addDimensions(h.fields);for(const L of c.children.flatMap(I))L.parent=t;return[t]}return c.children.flatMap(I)}return I}function ea(h){if(h instanceof Wk)if(1!==h.numChildren()||h.children[0]instanceof Eh){var I=h.model.component.data.main;La(I);const c=S(h);h=h.children.map(c).flat();for(const t of h)t.parent=I}else I=h.children[0],(I instanceof cj||I instanceof Tj||I instanceof ll||I instanceof Xk)&&I.addDimensions(h.fields),I.swapWithParent(),ea(h);else h.children.map(ea)}function La(h){if(h instanceof
Eh&&h.type===zg.Main&&1===h.numChildren()){const I=h.children[0];I instanceof Wk||(I.swapWithParent(),La(h))}}function Xa(h){for(const I of h){for(const c of I.children)if(c.parent!==I)return!1;if(!Xa(I.children))return!1}return!0}function ab(h,I){let c=!1;for(const t of I)c=h.optimize(t)||c;return c}function tb(h,I,c){let t=h.sources,L=!1;L=ab(new en,t)||L;L=ab(new fn(I),t)||L;t=t.filter(ka=>0<ka.numChildren());L=ab(new gn,t)||L;t=t.filter(ka=>0<ka.numChildren());c||(L=ab(new hn,t)||L,L=ab(new jn(I),
t)||L,L=ab(new kn,t)||L,L=ab(new ln,t)||L,L=ab(new mn,t)||L,L=ab(new nn,t)||L,L=ab(new on,t)||L,L=ab(new pn,t)||L);h.sources=t;return L}function Ib(h){const I=h.component.scales;for(const nb of Hd(I)){var c=h;var t=nb,L=c.getScaleComponent(t).get("type"),{encoding:ka}=c;var sa=c.scaleDomain(t);var Ba=c.typedFieldDef(t),cb=c.config.scale;if("unaggregated"===sa){const {valid:Gb,reason:Nb}=Se(Ba,L);Gb||(Lb(Nb),sa=void 0)}else void 0===sa&&cb.useUnaggregatedDomain&&({valid:Ba}=Se(Ba,L),Ba&&(sa="unaggregated"));
sa!==c.scaleDomain(t)&&(c.specifiedScales[t]=Object.assign({},c.specifiedScales[t],{domain:sa}));c="x"===t&&Aa(ka.x2)?Aa(ka.x)?Oe(wc(L,sa,c,"x"),wc(L,sa,c,"x2"),"domain","scale",bf):wc(L,sa,c,"x2"):"y"===t&&Aa(ka.y2)?Aa(ka.y)?Oe(wc(L,sa,c,"y"),wc(L,sa,c,"y2"),"domain","scale",bf):wc(L,sa,c,"y2"):wc(L,sa,c,t);I[nb].setWithExplicit("domains",c);ka=void 0;t=h.component.scales[nb];sa=h.specifiedScales[nb].domain;L=null===(ka=h.fieldDef(nb))||void 0===ka?void 0:ka.bin;ka=zf(sa)&&sa;L=v(L)&&mb(L.extent)&&
L.extent;(ka||L)&&t.set("selectionExtent",null!==ka&&void 0!==ka?ka:L,!0);if(h.component.data.isFaceted){for(t=h;!Rg(t)&&t.parent;)t=t.parent;if("shared"===t.component.resolve.scale[nb])for(const Gb of c.value)Tc(Gb)&&(Gb.data="scale_"+Gb.data.replace("scale_",""))}}}function dc(h){for(var I of h.children){var c=I;ng(c)?Ib(c):dc(c)}c=h.component.scales;for(const L of Hd(c)){let ka;I=null;for(const sa of h.children){var t=sa.component.scales[L];t&&(ka=void 0===ka?t.getWithExplicit("domains"):Oe(ka,
t.getWithExplicit("domains"),"domains","scale",bf),t=t.get("selectionExtent"),I&&t&&I.selection!==t.selection&&Lb("The same selection must be used to override scale domains in a layered view."),I=t)}c[L].setWithExplicit("domains",ka);I&&c[L].set("selectionExtent",I,!0)}}function Rc(h,I,c){return h.map(t=>{t=fd(t,{timeUnit:c,type:I});return{signal:"{data: ".concat(t,"}")}})}function vc(h,I,c){var t;c=null===(t=Qb(c))||void 0===t?void 0:t.unit;return"temporal"===I||c?Rc(h,I,c):[h]}function wc(h,I,c,
t){var {encoding:L}=c;L=Aa(L[t]);const {type:ka}=L,sa=L.timeUnit;if(I&&I.unionWith)return t=wc(h,void 0,c,t),I=vc(I.unionWith,ka,sa),ke([...t.value,...I]);if(Dc(I))return ke([I]);if(I&&"unaggregated"!==I&&!zf(I))return ke(vc(I,ka,sa));var Ba=c.stack;if(Ba&&t===Ba.fieldChannel){if("normalize"===Ba.offset)return pe([[0,1]]);I=c.requestDataName(zg.Main);return pe([{data:I,field:c.vgField(t,{suffix:"start"})},{data:I,field:c.vgField(t,{suffix:"end"})}])}Ba=rh[t]&&$b(L)?ce(c,t,h):void 0;if(gd(L))return t=
vc([L.datum],ka,sa),pe(t);if("unaggregated"===I)return t=c.requestDataName(zg.Main),{field:I}=L,pe([{data:t,field:kd({field:I,aggregate:"min"})},{data:t,field:kd({field:I,aggregate:"max"})}]);if(pc(L.bin)){if(h in nh)return"bin-ordinal"===h?pe([]):pe([{data:C(Ba)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t,nd(L,t)?{binSuffix:"range"}:{}),sort:!0!==Ba&&v(Ba)?Ba:{field:c.vgField(t,{}),op:"min"}}]);({bin:I}=L);if(pc(I)){const cb=vj(c,L.field,I);return pe([new qi(()=>{const nb=
c.getSignalName(cb);return"[".concat(nb,".start, ").concat(nb,".stop]")})])}return pe([{data:c.requestDataName(zg.Main),field:c.vgField(t,{})}])}return L.timeUnit&&G(["time","utc"],h)&&Cb(t,L,ng(c)?c.encoding[Ha(t)]:void 0,c.stack,c.markDef,c.config)?(I=c.requestDataName(zg.Main),pe([{data:I,field:c.vgField(t)},{data:I,field:c.vgField(t,{suffix:"end"})}])):Ba?pe([{data:C(Ba)?c.requestDataName(zg.Main):c.requestDataName(zg.Raw),field:c.vgField(t),sort:Ba}]):pe([{data:c.requestDataName(zg.Main),field:c.vgField(t)}])}
function td(h,I){const {op:c,field:t,order:L}=h;return Object.assign({},{op:null!==c&&void 0!==c?c:I?"sum":"min"},t?{field:kb(t)}:{},L?{order:L}:{})}function ce(h,I,c){if(c in nh){var t=h.fieldDef(I);c=t.sort;if(yc(c))return{op:"min",field:oh(t,I),order:"ascending"};({stack:t}=h);var L=t?[...t.groupbyField?[t.groupbyField]:[],...t.stackBy.map(ka=>ka.fieldDef.field)]:void 0;if(qe(c))return h=t&&!G(L,c.field),td(c,h);if(c&&c.encoding){const {encoding:ka,order:sa}=c;h=h.fieldDef(ka);const {aggregate:Ba,
field:cb}=h;I=t&&!G(L,cb);if(qa(Ba)||Fa(Ba))return td({field:kd(h),order:sa},I);if(na(Ba)||!Ba)return td({op:Ba,field:cb,order:sa},I)}else{if("descending"===c)return{op:"min",field:h.vgField(I),order:"descending"};if(G(["ascending",void 0],c))return!0}}}function Se(h,I){const {aggregate:c,type:t}=h;return c?e(c)&&!Il[c]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(c,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===t&&"log"===I?{valid:!1,
reason:"Unaggregated domain is currently unsupported for log scale (".concat(of(h),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(of(h),").")}}function bf(h,I,c,t){if(h.explicit&&I.explicit){var L=h.value,ka=I.value;c="Conflicting ".concat(t.toString(),' property "').concat(c.toString(),'" (').concat(of(L)," and ").concat(of(ka),"). Using the union of the two domains.");Lb(c)}return{explicit:h.explicit,value:[...h.value,...I.value]}}function He(h){var I=
ja(h.map(L=>Tc(L)?(L=Object.assign({},L),delete L.sort,L):L),F),c=ja(h.map(L=>{if(Tc(L))return L=L.sort,void 0===L||C(L)||("op"in L&&"count"===L.op&&delete L.field,"ascending"===L.order&&delete L.order),L}).filter(L=>void 0!==L),F);if(0!==I.length){if(1===I.length){I=h[0];if(Tc(I)&&0<c.length){var t=c[0];1<c.length?(Lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0):v(t)&&"field"in t&&I.field===t.field&&(t=t.order?{order:t.order}:!0);return Object.assign({},
I,{sort:t})}return I}c=ja(c.map(L=>{if(C(L)||!("op"in L)||e(L.op)&&L.op in fk)return L;Lb("Dropping sort property ".concat(of(L),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),F);1===c.length?t=c[0]:1<c.length&&(Lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),t=!0);c=ja(h.map(L=>Tc(L)?L.data:null),L=>L);return 1===c.length&&null!==c[0]?Object.assign({},{data:c[0],fields:I.map(L=>L.field)},t?{sort:t}:{}):Object.assign({},
{fields:I},t?{sort:t}:{})}}function cg(h){if(Tc(h)&&e(h.field))return h.field;var I=Je(h)?!1:"fields"in h&&!("data"in h);if(I){let c;for(const t of h.fields)if(Tc(t)&&e(t.field))if(!c)c=t.field;else if(c!==t.field)return Lb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),c;Lb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return c}I=Je(h)?!1:"fields"in h&&"data"in h;if(I)return Lb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),h=h.fields[0],e(h)?h:void 0}function Af(h,I){I=h.component.scales[I].get("domains").map(c=>{Tc(c)&&(c.data=h.lookupDataSource(c.data));return c});return He(I)}function bg(h){return Lg(h)||Sg(h)?h.children.reduce((I,c)=>I.concat(bg(c)),Wf(h)):Wf(h)}function Wf(h){return Hd(h.component.scales).reduce((I,
c)=>{var t=h.component.scales[c];if(t.merged)return I;var L=t.combine(),ka=Object.assign({},L);t=L.name;const sa=L.type,Ba=L.selectionExtent,cb=L.reverse;ka=(delete ka.name,delete ka.type,delete ka.selectionExtent,delete ka.domains,delete ka.range,delete ka.reverse,ka);L=L.range;c in fg?uc(L)&&(L={step:{signal:t+"_step"}}):v(L)&&Tc(L)&&(L=Object.assign({},L,{data:h.lookupDataSource(L.data)}));if(Ba){var nb=Ba.selection;nb=h.getSelectionComponent(nb,V(nb));nb={signal:Ii(nb,Ba)}}c=Af(h,c);I.push(Object.assign({},
{name:t,type:sa},c?{domain:c}:{},nb?{domainRaw:nb}:{},{range:L},void 0!==cb?{reverse:cb}:{},ka));return I},[])}function qf(h){return"x"===h?"width":"y"===h?"height":void 0}function gg(h,I){const c=h.fieldDef(I);if(c&&c.bin&&pc(c.bin)){const t=vj(h,c.field,c.bin);I=qf(I);const L=h.getName(I);return new qi(()=>{var ka=h.getSignalName(t);ka="(".concat(ka,".stop - ").concat(ka,".start) / ").concat(ka,".step");return"".concat(h.getSignalName(L)," / (").concat(ka,")")})}}function Rf(h,I){const c=I.specifiedScales[h];
var {size:t}=I,L=I.getScaleComponent(h).get("type");for(var ka of qn)if(void 0!==c[ka]){const cb=Ue(L,ka),nb=Nf(h,ka);if(cb)if(nb)Lb(nb);else switch(ka){case "range":L=c.range;if(Je(L)){if(h in fg)return ke(L.map(Gb=>{if("width"===Gb||"height"===Gb){Gb=I.getName(Gb);const Nb=I.getSignalName.bind(I);return qi.fromName(Nb,Gb)}return Gb}))}else if(v(L))return ke({data:I.requestDataName(zg.Main),field:L.field,sort:{op:"min",field:I.vgField(h)}});return ke(L);case "scheme":return ke(Of(c[ka]))}else Lb(Vd(L,
ka,h))}if("x"===h||"y"===h)if(ka="x"===h?"width":"height",t=t[ka],zb(t)){if(L in nh)return ke({step:t.step});Lb(Ka(ka))}const {rangeMin:sa,rangeMax:Ba}=c;h=Kg(h,I);return(void 0!==sa||void 0!==Ba)&&Ue(L,"rangeMin")&&Je(h)&&2===h.length?ke([null!==sa&&void 0!==sa?sa:h[0],null!==Ba&&void 0!==Ba?Ba:h[1]]):pe(h)}function Of(h){return!e(h)&&h.name?Object.assign({},{scheme:h.name},M(h,["name"])):{scheme:h}}function Kg(h,I){const {size:c,config:t,mark:L,encoding:ka}=I;var sa=I.getSignalName.bind(I),{type:Ba}=
Aa(ka[h]);const cb=I.getScaleComponent(h).get("type"),{domain:nb,domainMid:Gb}=I.specifiedScales[h];switch(h){case "x":case "y":if(G(["point","band"],cb))if("x"===h&&!c.width){if(Ba=Q(t.view,"width"),zb(Ba))return Ba}else if("y"===h&&!c.height&&(Ba=Q(t.view,"height"),zb(Ba)))return Ba;Ba=qf(h);Ba=I.getName(Ba);return"y"===h&&cb in Jh?[qi.fromName(sa,Ba),0]:[0,qi.fromName(sa,Ba)];case "size":return sa=I.component.scales[h].get("zero"),sa=Rh(L,sa,t),Ba=li(L,c,I,t),cb in zk?ch(sa,Ba,Pg(cb,t,nb,h)):[sa,
Ba];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new qi(()=>{const Nb=I.getSignalName("width"),lc=I.getSignalName("height");return"min(".concat(Nb,",").concat(lc,")/2")})];case "strokeWidth":return[t.scale.minStrokeWidth,t.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===cb?"nominal"===Ba?"category":"ordinal":void 0!==Gb?"diverging":"rect"===L||
"geoshape"===L?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[t.scale.minOpacity,t.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(h));}function Pg(h,I,c,t){switch(h){case "quantile":return I.scale.quantileCount;case "quantize":return I.scale.quantizeCount;case "threshold":if(void 0!==c&&Je(c))return c.length+1;Lb("Domain for ".concat(t," is required for threshold scale."));return 3}}function ch(h,I,c){const t=()=>{const L=Ce(I),ka=Ce(h),sa=
"(".concat(L," - ").concat(ka,") / (").concat(c," - 1)");return"sequence(".concat(ka,", ").concat(L," + ").concat(sa,", ").concat(sa,")")};return Dc(I)?new qi(t):{signal:t()}}function Rh(h,I,c){if(I)return Dc(I)?{signal:"".concat(I.signal," ? 0 : ").concat(Rh(h,!1,c))}:0;switch(h){case "bar":case "tick":return c.scale.minBandSize;case "line":case "trail":case "rule":return c.scale.minStrokeWidth;case "text":return c.scale.minFontSize;case "point":case "square":case "circle":return c.scale.minSize}throw Error(zc("size",
h));}function li(h,I,c,t){c={x:gg(c,"x"),y:gg(c,"y")};switch(h){case "bar":case "tick":{if(void 0!==t.scale.maxBandSize)return t.scale.maxBandSize;const L=Mj(I,c,t.view);return a(L)?L-1:new qi(()=>"".concat(L.signal," - 1"))}case "line":case "trail":case "rule":return t.scale.maxStrokeWidth;case "text":return t.scale.maxFontSize;case "point":case "square":case "circle":{if(t.scale.maxSize)return t.scale.maxSize;const L=Mj(I,c,t.view);return a(L)?Math.pow(.95*L,2):new qi(()=>"pow(".concat(.95," * ").concat(L.signal,
", 2)"))}}throw Error(zc("size",h));}function Mj(h,I,c){const t=zb(h.width)?h.width.step:r(c,"width"),L=zb(h.height)?h.height.step:r(c,"height");return I.x||I.y?new qi(()=>"min(".concat([I.x?I.x.signal:t,I.y?I.y.signal:L].join(", "),")")):Math.min(t,L)}function Vk(h,I){if(ng(h)){{const sa=h.component.scales,{config:Ba,encoding:cb,markDef:nb,specifiedScales:Gb}=h;for(const Nb of Hd(sa)){var c=Gb[Nb];const lc=sa[Nb];var t=h.getScaleComponent(Nb),L=Aa(cb[Nb]),ka=c[I];const Yc=t.get("type"),hd=t.get("padding");
t=t.get("paddingInner");const qd=Ue(Yc,I),Md=Nf(Nb,I);void 0!==ka&&(qd?Md&&Lb(Md):Lb(Vd(Yc,I,Nb)));if(qd&&void 0===Md)if(void 0!==ka)switch(ka=L.timeUnit,L=L.type,I){case "domainMax":case "domainMin":Ac(c[I])||"temporal"===L||ka?lc.set(I,{signal:fd(c[I],{type:L,timeUnit:ka})},!0):lc.set(I,c[I],!0);break;default:lc.copyKeyFromObject(I,c)}else c=I in sm?sm[I]({model:h,channel:Nb,fieldOrDatumDef:L,scaleType:Yc,scalePadding:hd,scalePaddingInner:t,domain:c.domain,markDef:nb,config:Ba}):Ba.scale[I],void 0!==
c&&lc.set(I,c,!1)}}}else wi(h,I)}function tk(h){if(ng(h)){{const I=h.component.scales;for(const c of Lj){const t=I[c];if(!t)continue;const L=Rf(c,h);t.setWithExplicit("range",L)}}}else wi(h,"range")}function wi(h,I){const c=h.component.scales;for(var t of h.children)"range"===I?tk(t):Vk(t,I);for(const L of Hd(c)){let ka;for(const sa of h.children)if(t=sa.component.scales[L])t=t.getWithExplicit(I),ka=Oe(ka,t,I,"scale",Re((Ba,cb)=>{switch(I){case "range":if(Ba.step&&cb.step)return Ba.step-cb.step}return 0}));
c[L].setWithExplicit(I,ka)}}function Bk(h,I){const c=I.bin;if(pc(c)){const t=vj(h,I.field,c);return new qi(()=>h.getSignalName(t))}if(Hc(c)&&v(c)&&void 0!==c.step)return{step:c.step}}function Ej(h,I,c){var t;switch(I.type){case "nominal":case "ordinal":if($a(h)||"discrete"===nc(h))return"shape"===h&&"ordinal"===I.type&&Lb(Ed(h,"ordinal")),"ordinal";if(h in fg){if(G(["rect","bar","image","rule"],c))return"band"}else if("arc"===c&&h in lk)return"band";return void 0!==I.band||ie(I)&&(null===(t=I.axis)||
void 0===t?0:t.tickBand)?"band":"point";case "temporal":if(!$a(h)){if("discrete"===nc(h))return Lb(Ed(h,"temporal")),"ordinal";if($b(I)&&I.timeUnit&&Qb(I.timeUnit).utc)return"utc"}return"time";case "quantitative":if($a(h)){if($b(I)&&pc(I.bin))return"bin-ordinal"}else if("discrete"===nc(h))return Lb(Ed(h,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(I.type,'".'));}function Zk(h){if(ng(h))h.component.scales=$k(h);else{var I=h.component;{const Ba=
h.component.scales={},cb={};var c=h.component.resolve;for(const nb of h.children){Zk(nb);for(const Gb of Hd(nb.component.scales)){var t,L=c.scale;if(null!==(t=c.scale[Gb])&&void 0!==t)var ka=t;else{ka=Gb;var sa=h;if(Lg(sa)||Rg(sa))ka="shared";else if(Sg(sa))ka=ka in fg?"independent":"shared";else throw Error("invalid model type for resolve");}L[Gb]=ka;if("shared"===c.scale[Gb])if(L=cb[Gb],ka=nb.component.scales[Gb].getWithExplicit("type"),L){{sa=ai[L.value];const Nb=ai[ka.value];sa=sa===Nb||"ordinal-position"===
sa&&"time"===Nb||"ordinal-position"===Nb&&"time"===sa}sa?cb[Gb]=Oe(L,ka,"type","scale",rn):(c.scale[Gb]="independent",delete cb[Gb])}else cb[Gb]=ka}}for(const nb of Hd(cb)){t=h.scaleName(nb,!0);Ba[nb]=new tm(t,cb[nb]);for(const Gb of h.children)if(c=Gb.component.scales[nb])Gb.renameScale(c.get("name"),t),c.merged=!0}h=Ba}I.scales=h}}function $k(h){const {encoding:I,mark:c}=h;return Lj.reduce((t,L)=>{var ka=Aa(I[L]);if(ka&&c===Ke&&"shape"===L&&"geojson"===ka.type)return t;let sa=ka&&ka.scale;if(ka&&
null!==sa&&!1!==sa){var Ba;sa=null!==(Ba=sa)&&void 0!==Ba?Ba:{};var cb=sa;Ba=Ej(L,ka,c);({type:cb}=cb);if(rh[L]){if(void 0!==cb)if(me(L,cb)){var nb;if(nb=$b(ka))nb=cb,ka=ka.type,nb=!(G(["ordinal","nominal"],ka)?void 0===nb||nb in nh:"temporal"===ka?G([Cg.TIME,Cg.UTC,void 0],nb):"quantitative"===ka?G([Cg.LOG,Cg.POW,Cg.SQRT,Cg.SYMLOG,Cg.QUANTILE,Cg.QUANTIZE,Cg.THRESHOLD,Cg.LINEAR,void 0],nb):1);nb?(ka=Ba,ka='FieldDef does not work with "'.concat(cb,'" scale. We are using "').concat(ka,'" scale instead.'),
Lb(ka)):Ba=cb}else ka=cb,cb=Ba,ka='Channel "'.concat(L,'" does not work with "').concat(ka,'" scale. We are using "').concat(cb,'" scale instead.'),Lb(ka)}else Ba=null;t[L]=new tm(h.scaleName(L+"",!0),{value:Ba,explicit:sa.type===Ba})}return t},{})}function ng(h){return"unit"===(null===h||void 0===h?void 0:h.type)}function Rg(h){return"facet"===(null===h||void 0===h?void 0:h.type)}function Sg(h){return"concat"===(null===h||void 0===h?void 0:h.type)}function Lg(h){return"layer"===(null===h||void 0===
h?void 0:h.type)}function Ni(h){function I(t,L){t instanceof wk&&!(t.isGenerator||"url"in t.data)&&(h.push(L),L={name:null,source:L.name,transform:[]});if(t instanceof Fh)if(t.parent instanceof wk&&!L.source){var ka;L.format=Object.assign({},null!==(ka=L.format)&&void 0!==ka?ka:{},{parse:t.assembleFormatParse()});L.transform.push(...t.assembleTransforms(!0))}else L.transform.push(...t.assembleTransforms());if(t instanceof Wk){L.name||(L.name="data_".concat(c++));!L.source||0<L.transform.length?(h.push(L),
t.data=L.name):t.data=L.source;for(const sa of t.assemble())h.push(sa)}else switch((t instanceof zl||t instanceof Al||t instanceof Bl||t instanceof kl||t instanceof ml||t instanceof Cl||t instanceof nl||t instanceof cj||t instanceof Dl||t instanceof ll||t instanceof Xk||t instanceof Rl||t instanceof Sl||t instanceof Tl||t instanceof Ul||t instanceof Vl||t instanceof Wl||t instanceof xk||t instanceof Xl||t instanceof Yl)&&L.transform.push(t.assemble()),(t instanceof xj||t instanceof yj||t instanceof
Yk||t instanceof Tj)&&L.transform.push(...t.assemble()),t instanceof Eh&&(L.source&&0===L.transform.length?t.setSource(L.source):t.parent instanceof Eh?t.setSource(L.name):(L.name||(L.name="data_".concat(c++)),t.setSource(L.name),1===t.numChildren()&&(h.push(L),L={name:null,source:L.name,transform:[]}))),t.numChildren()){case 0:t instanceof Eh&&(!L.source||0<L.transform.length)&&h.push(L);break;case 1:I(t.children[0],L);break;default:L.name||(L.name="data_".concat(c++));ka=L.name;!L.source||0<L.transform.length?
h.push(L):ka=L.source;for(const sa of t.children)I(sa,{name:null,source:ka,transform:[]})}}let c=0;return I}function el(h){const I=[],c=Ni(I);for(const t of h.children)c(t,{source:h.name,name:null,transform:[]});return I}function lj(h,I){const c=[];var t=Ni(c);let L=0;for(const Ba of h.sources){Ba.hasName()||(Ba.dataName="source_".concat(L++));const cb=Ba.assemble();t(Ba,cb)}for(const Ba of c)0===Ba.transform.length&&delete Ba.transform;t=0;for(const Ba of c.entries()){const [cb,nb]=Ba;var ka;0!==
(null!==(ka=nb.transform)&&void 0!==ka?ka:[]).length||nb.source||c.splice(t++,0,c.splice(cb,1)[0])}for(const Ba of c)for(const cb of null!==(sa=Ba.transform)&&void 0!==sa?sa:[]){var sa;"lookup"===cb.type&&(cb.from=h.outputNodes[cb.from].getSource())}for(const Ba of c)Ba.name in I&&(Ba.values=I[Ba.name]);return c}function tl(h,I,c){I="row"===I?"height":"width";return{labels:c,sizeSignal:h.child.component.layoutSize.get(I)?h.child.getSizeSignalRef(I):void 0,axes:[]}}function Dk(h,I){var {child:c}=h;
if(c.component.axes[I]){const {layoutHeaders:L,resolve:ka}=h.component;ka.axis[I]=gj(ka,I);if("shared"===ka.axis[I]){const sa="x"===I?"column":"row",Ba=L[sa];for(const cb of c.component.axes[I]){var t;I=cb.get("orient");I="top"===I||"left"===I||Dc(I)?"header":"footer";Ba[I]=null!==(t=Ba[I])&&void 0!==t?t:[tl(h,sa,!1)];(c=kg(cb,"main",h.config,{header:!0}))&&Ba[I][0].axes.push(c);cb.mainExtracted=!0}}}}function ck(h){for(const I of h.children)I.parseLayoutSize()}function Pk(h,I){const c=Yi(I),t=Fb(c),
L=h.component.resolve,ka=h.component.layoutSize;let sa;for(const Ba of h.children){const cb=Ba.component.layoutSize.getWithExplicit(c),nb=L.scale[t];if("independent"===nb&&"step"===cb.value){sa=void 0;break}if(sa){if("independent"===nb&&sa.value!==cb.value){sa=void 0;break}sa=Oe(sa,cb,c,"")}else sa=cb}if(sa){for(const Ba of h.children)h.renameSignal(Ba.getName(c),h.getName(I)),Ba.component.layoutSize.set(c,"merged",!1);ka.setWithExplicit(I,sa)}else ka.setWithExplicit(I,{explicit:!1,value:void 0})}
function xl(h,I){const c=h.config;var t=h.getScaleComponent("width"===I?"x":"y");if(t)return h=t.get("type"),t=t.get("range"),h in nh?(I=Q(c.view,I),uc(t)||zb(I)?"step":I):Kc(c.view,I);if(h.hasProjection||"arc"===h.mark)return Kc(c.view,I);I=Q(c.view,I);return zb(I)?I.step:I}function uk(h,I,c){return kd(I,Object.assign({},{suffix:"by_".concat(kd(h))},null!==c&&void 0!==c?c:{}))}function pl(h,I){for(const Ba of I){var c,t,L,ka;I=Ba.data;if(h.name&&Ba.hasName()&&h.name!==Ba.dataName)continue;const cb=
null===(c=h.format)||void 0===c?void 0:c.mesh;var sa=null===(t=I.format)||void 0===t?void 0:t.feature;if(cb&&sa)continue;const nb=null===(L=h.format)||void 0===L?void 0:L.feature;if(!nb&&!sa||nb===sa)if(sa=null===(ka=I.format)||void 0===ka?void 0:ka.mesh,!cb&&!sa||cb===sa)if("values"in h&&"values"in I){if(ji(h.values,I.values))return Ba}else if("url"in h&&"url"in I){if(h.url===I.url)return Ba}else if(dg(h)&&h.name===Ba.dataName)return Ba}return null}function Ck(h,I){if(h.data||!h.parent){if(null===
h.data)return h=new wk({values:[]}),I.push(h),h;const c=pl(h.data,I);if(c)return Xe(h.data)||(c.data.format=T({},h.data.format,c.data.format)),!c.hasName()&&h.data.name&&(c.dataName=h.data.name),c;h=new wk(h.data);I.push(h);return h}return h.parent.component.data.facetRoot?h.parent.component.data.facetRoot:h.parent.component.data.main}function bk(h){var I,c,t,L=Ck(h,h.component.data.sources);const {outputNodes:ka,outputNodeRefCounts:sa}=h.component.data,Ba=h.parent?h.parent.component.data.ancestorParse.clone():
new sn,cb=h.data;Xe(cb)?("sequence"in cb?L=new Al(L,cb.sequence):"graticule"in cb&&(L=new zl(L,cb.graticule)),Ba.parseNothing=!0):null===(null===cb||void 0===cb?void 0:null===(I=cb.format)||void 0===I?void 0:I.parse)&&(Ba.parseNothing=!0);L=null!==(c=Fh.makeExplicit(L,h,Ba))&&void 0!==c?c:L;L=new xk(L);I=h.parent&&Lg(h.parent);if((ng(h)||Rg(h))&&I){var nb;L=null!==(nb=xj.makeFromEncoding(L,h))&&void 0!==nb?nb:L}if(0<h.transforms.length){nb=0;for(const Yd of h.transforms){var Gb=c=void 0;if("calculate"in
Yd)Gb=L=new ml(L,Yd),c="derived";else if("filter"in Yd){var Nb;Gb=il(Yd);Gb=L=null!==(Nb=Fh.makeWithAncestors(L,{},Gb,Ba))&&void 0!==Nb?Nb:L;L=new kl(L,h,Yd.filter)}else if("bin"in Yd)Gb=L=xj.makeFromTransform(L,Yd,h),c="number";else if("timeUnit"in Yd)c="date",void 0===Ba.getWithExplicit(Yd.field).value&&(L=new Fh(L,{[Yd.field]:c}),Ba.set(Yd.field,c,!1)),Gb=L=yj.makeFromTransform(L,Yd);else if("aggregate"in Yd)Gb=L=cj.makeFromTransform(L,Yd),c="number",bi(h)&&(L=new xk(L));else if("lookup"in Yd)Gb=
L=Dl.make(L,h,Yd,nb++),c="derived";else if("window"in Yd)Gb=L=new ll(L,Yd),c="number";else if("joinaggregate"in Yd)Gb=L=new Xk(L,Yd),c="number";else if("stack"in Yd)Gb=L=Tj.makeFromTransform(L,Yd),c="derived";else if("fold"in Yd)Gb=L=new Rl(L,Yd),c="derived";else if("flatten"in Yd)Gb=L=new Sl(L,Yd),c="derived";else if("pivot"in Yd)Gb=L=new Yl(L,Yd),c="derived";else if("sample"in Yd)L=new Xl(L,Yd);else if("impute"in Yd)Gb=L=Yk.makeFromTransform(L,Yd),c="derived";else if("density"in Yd)Gb=L=new Tl(L,
Yd),c="derived";else if("quantile"in Yd)Gb=L=new Vl(L,Yd),c="derived";else if("regression"in Yd)Gb=L=new Wl(L,Yd),c="derived";else if("loess"in Yd)Gb=L=new Ul(L,Yd),c="derived";else{Lb("Ignoring an invalid transform: ".concat(of(Yd),"."));continue}if(Gb&&void 0!==c)for(const sg of null!==(lc=Gb.producedFields())&&void 0!==lc?lc:[]){var lc;Ba.set(sg,c,!1)}}}Nb={};if(ng(h)&&h.component.selection)for(hd of Hd(h.component.selection)){lc=h.component.selection[hd];for(var Yc of lc.project.items)!Yc.channel&&
1<Ya(Yc.field)&&(Nb[Yc.field]="flatten")}var hd=Nb;Yc=hj(h);L=null!==(t=Fh.makeWithAncestors(L,{},Object.assign({},hd,Yc),Ba))&&void 0!==t?t:L;ng(h)&&(L=nl.parseAll(L,h),L=Cl.parseAll(L,h));if(ng(h)||Rg(h)){var qd;if(!I){var Md;L=null!==(Md=xj.makeFromEncoding(L,h))&&void 0!==Md?Md:L}L=null!==(qd=yj.makeFromEncoding(L,h))&&void 0!==qd?qd:L;L=ml.parseAllForSortIndex(L,h)}qd=h.getDataName(zg.Raw);t=new Eh(L,qd,zg.Raw,sa);L=ka[qd]=t;if(ng(h)){var Rd,Ee;if(qd=cj.makeFromEncoding(L,h))L=qd,bi(h)&&(L=new xk(L));
L=null!==(Rd=Yk.makeFromEncoding(L,h))&&void 0!==Rd?Rd:L;L=null!==(Ee=Tj.makeFromEncoding(L,h))&&void 0!==Ee?Ee:L}if(ng(h)){var Hf;L=null!==(Hf=Bl.make(L,h))&&void 0!==Hf?Hf:L}Ee=h.getDataName(zg.Main);Rd=new Eh(L,Ee,zg.Main,sa);L=ka[Ee]=Rd;ng(h)&&si(h,Rd);Hf=null;if(Rg(h)){var se;Ee=h.getName("facet");{Hf=L;const {row:Yd,column:sg}=h.facet;if(Yd&&sg){qd=null;for(Ef of[Yd,sg])if(qe(Ef.sort)){const {field:Mf,op:Ve="min"}=Ef.sort;Hf=qd=new Xk(Hf,{joinaggregate:[{op:Ve,field:Mf,as:uk(Ef,Ef.sort,{forAs:!0})}],
groupby:[kd(Ef)]})}var Ef=qd}else Ef=null}L=null!==(se=Ef)&&void 0!==se?se:L;Hf=new Wk(L,h,Ee,Rd.getSource());ka[Ee]=Hf}return Object.assign({},h.component.data,{outputNodes:ka,outputNodeRefCounts:sa,raw:t,main:Rd,facetRoot:Hf,ancestorParse:Ba})}function ql(h){return Wg.reduce((I,c)=>{h.component.scales[c]&&(I[c]=[Nl(c,h)]);return I},{})}function rl(h,I){if(h){if(h.length!==I.length)return;const c=h.length;for(let t=0;t<c;t++){const L=h[t],ka=I[t];if(!!L!==!!ka)return;if(L&&ka){const sa=L.getWithExplicit("orient"),
Ba=ka.getWithExplicit("orient");if(sa.explicit&&Ba.explicit&&sa.value!==Ba.value)return;h[t]=sl(L,ka)}}}else return I.map(c=>c.clone());return h}function sl(h,I){for(const c of um){const t=Oe(h.getWithExplicit(c),I.getWithExplicit(c),c,"axis",(L,ka)=>{switch(c){case "title":return za(L,ka);case "gridScale":return{explicit:L.explicit,value:Da(L.value,ka.value)}}return xd(L,ka,c,"axis")});h.setWithExplicit(c,t)}return h}function fl(h,I,c,t,L){if("disable"===I)return void 0!==c;c=c||{};switch(I){case "titleAngle":case "labelAngle":return h===
(Dc(c.labelAngle)?c.labelAngle:ba(c.labelAngle));case "values":return!!c.values;case "encode":return!!c.encoding||!!c.labelAngle;case "title":if(h===Lh(t,L))return!0}return h===c[I]}function Nl(h,I){var c,t,L,ka,sa;let Ba=I.axis(h);const cb=new vm;var nb=Aa(I.encoding[h]);const {mark:Gb,config:Nb}=I;var lc=(null===(c=Ba)||void 0===c?void 0:c.orient)||(null===(t=Nb["x"===h?"axisX":"axisY"])||void 0===t?void 0:t.orient)||(null===(L=Nb.axis)||void 0===L?void 0:L.orient)||("x"===h?"bottom":"left");t=
I.getScaleComponent(h).get("type");c=ak(h,t,lc,I.config);L=void 0!==Ba?!Ba:Yh("disable",Nb.style,null===(ka=Ba)||void 0===ka?void 0:ka.style,c).configValue;cb.set("disable",L,void 0!==Ba);if(L)return cb;Ba=Ba||{};ka=Zj(nb,Ba,h,Nb.style,c);nb={fieldOrDatumDef:nb,axis:Ba,channel:h,model:I,scaleType:t,orient:lc,labelAngle:ka,mark:Gb,config:Nb};for(const hd of um)if(lc=hd in wm?wm[hd](nb):$g[hd]?Ba[hd]:void 0,ka=void 0!==lc,t=fl(lc,hd,Ba,I,h),ka&&t)cb.set(hd,lc,t);else{const {configValue:qd,configFrom:Md}=
$g[hd]&&"values"!==hd?Yh(hd,Nb.style,Ba.style,c):{};L=void 0!==qd;ka&&!L?cb.set(hd,lc,t):("vgAxisConfig"!==Md||tn.has(hd)&&L||ra(qd)||Dc(qd))&&cb.set(hd,qd,!1)}const Yc=null!==(sa=Ba.encoding)&&void 0!==sa?sa:{};sa=yh.reduce((hd,qd)=>{var Md;if(!cb.hasAxisPart(qd))return hd;var Rd=Gg(null!==(Md=Yc[qd])&&void 0!==Md?Md:{},I);if("labels"===qd){{var Ee;const {encoding:Hf,config:se}=I;Md=null!==(Ee=Aa(Hf[h]))&&void 0!==Ee?Ee:Aa(Hf[Ha(h)]);Ee=I.axis(h)||{};const {format:Ef,formatType:Yd}=Ee;Rd=Gc(Yd)?
Object.assign({},{text:Fe({fieldOrDatumDef:Md,field:"datum.value",format:Ef,formatType:Yd,config:se})},Rd):Rd}}void 0===Rd||P(Rd)||(hd[qd]={update:Rd});return hd},{});P(sa)||cb.set("encode",sa,!!Ba.encoding||void 0!==Ba.labelAngle);return cb}function xi(h,I,c){switch(h){case yb:case ff:case Ld:case Fc:case Ob:case Qa:return}const {x:t,y:L,x2:ka,y2:sa}=I;switch(h){case da:if($b(t)&&(Hc(t.bin)||$b(L)&&L.aggregate&&!t.aggregate))break;if($b(L)&&(Hc(L.bin)||$b(t)&&t.aggregate&&!L.aggregate))return"horizontal";
if(sa||ka){if(c)return c;if(!ka&&($b(t)&&"quantitative"===t.type&&!pc(t.bin)||Nd(t)))return"horizontal";if(!sa&&($b(L)&&"quantitative"===L.type&&!pc(L.bin)||Nd(L)))break}case fc:if(!(!ka||$b(t)&&Hc(t.bin)||!sa||$b(L)&&Hc(L.bin)))return;case J:if(sa){if($b(L)&&Hc(L.bin))return"horizontal";break}else if(ka)if($b(t)&&Hc(t.bin))break;else return"horizontal";else if(h===fc)if(t&&!L)break;else if(L&&!t)return"horizontal";case ib:case sd:I=Mc(t);var Ba=Mc(L);if(I&&!Ba)return"tick"!==h?"horizontal":"vertical";
if(!I&&Ba)return"tick"!==h?"vertical":"horizontal";if(I&&Ba){I="temporal"===t.type;Ba="temporal"===L.type;if(I&&!Ba)return"tick"!==h?"vertical":"horizontal";if(!I&&Ba)return"tick"!==h?"horizontal":"vertical";if(!t.aggregate&&L.aggregate)return"tick"!==h?"vertical":"horizontal";if(t.aggregate&&!L.aggregate)return"tick"!==h?"horizontal":"vertical";if(c)return c}else{if(c)return c;return}}return"vertical"}function Fj(h,I){return Object.assign({},hh(h,{align:"ignore",baseline:"ignore",color:"include",
size:"include",orient:"ignore",theta:"ignore"}),qg("x",h,{defaultPos:"mid"}),qg("y",h,{defaultPos:"mid"}),Fg("size",h),Fg("angle",h),I?{shape:{value:I}}:Fg("shape",h))}function al(h,I,c){if(void 0===ne("align",h,c))return"center"}function yl(h,I,c){if(void 0===ne("baseline",h,c))return"middle"}function gh(h){var I;const {config:c,markDef:t}=h;var {orient:L}=t;const ka="horizontal"===L?"width":"height";h=h.getScaleComponent("horizontal"===L?"x":"y");L=null!==(I=ne("size",t,c,{vgChannel:ka}))&&void 0!==
I?I:c.tick.bandSize;return void 0!==L?L:(I=h?h.get("range"):void 0)&&uc(I)&&a(I.step)?3*I.step/4:3*r(c.view,ka)/4}function Ll(h){if(G([ib,J,ve],h.mark)){var I=xc(h.mark,h.encoding);if(0<I.length)return Ek(h,I)}else if(G([da],h.mark)&&(I=kk.some(c=>ne(c,h.markDef,h.config)),h.stack&&!h.fieldDef("size")&&I))return Gj(h);return Oi(h)}function Ek(h,I){return[{name:h.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+h.requestDataName(zg.Main),data:h.requestDataName(zg.Main),groupby:I}},
encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Oi(h,{fromPrefix:"faceted_path_"})}]}function Gj(h){const [I]=Oi(h,{fromPrefix:"stack_group_"}),c=h.scaleName(h.stack.fieldChannel),t=cb=>{cb=void 0===cb?{}:cb;return h.vgField(h.stack.fieldChannel,cb)};var L=(cb,nb)=>{nb=[t({prefix:"min",suffix:"start",expr:nb}),t({prefix:"max",suffix:"start",expr:nb}),t({prefix:"min",suffix:"end",expr:nb}),t({prefix:"max",suffix:"end",expr:nb})];return"".concat(cb,"(").concat(nb.map(Gb=>
"scale('".concat(c,"',").concat(Gb,")")).join(","),")")};let ka;"x"===h.stack.fieldChannel?(L=Object.assign({},O(I.encode.update,["y","yc","y2","height",...kk]),{x:{signal:L("min","datum")},x2:{signal:L("max","datum")},clip:{value:!0}}),ka={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},I.encode.update=Object.assign({},M(I.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(L=Object.assign({},O(I.encode.update,["x","xc","x2","width"]),{y:{signal:L("min","datum")},y2:{signal:L("max",
"datum")},clip:{value:!0}}),ka={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},I.encode.update=Object.assign({},M(I.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var sa of kk){var Ba=sf(sa,h.markDef,h.config);I.encode.update[sa]?(L[sa]=I.encode.update[sa],delete I.encode.update[sa]):Ba&&(L[sa]=$d(Ba));Ba&&(I.encode.update[sa]={value:0})}sa=h.fieldDef(h.stack.groupbyChannel);Ba=kd(sa)?[kd(sa)]:[];((null===sa||void 0===sa?0:sa.bin)||(null===sa||void 0===sa?0:sa.timeUnit))&&
Ba.push(kd(sa,{binSuffix:"end"}));L="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((cb,nb)=>{if(I.encode.update[nb])return Object.assign({},cb,{[nb]:I.encode.update[nb]});{const Gb=sf(nb,h.markDef,h.config);return void 0!==Gb?Object.assign({},cb,{[nb]:$d(Gb)}):cb}},L);L.stroke&&(L.strokeForeground={value:!0},L.strokeOffset={value:0});return[{type:"group",from:{facet:{data:h.requestDataName(zg.Main),name:"stack_group_"+h.requestDataName(zg.Main),
groupby:Ba,aggregate:{fields:[t({suffix:"start"}),t({suffix:"start"}),t({suffix:"end"}),t({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:L},marks:[{type:"group",encode:{update:ka},marks:[I]}]}]}function Pi(h){const {encoding:I,stack:c,mark:t,markDef:L,config:ka}=h;var sa=I.order;if(!(!Je(sa)&&jd(sa)&&z(sa.value)||!sa&&z(ne("order",L,ka)))){if((Je(sa)||$b(sa))&&!c)return Lf(sa,{expr:"datum"});if(we(t)){const Ba="horizontal"===L.orient?"y":"x",cb=I[Ba];if($b(cb)){sa=cb.sort;if(Je(sa))return{field:kd(cb,
{prefix:Ba,suffix:"sort_index",expr:"datum"})};if(qe(sa))return{field:kd({aggregate:fb(h.encoding)?sa.op:void 0,field:sa.field},{expr:"datum"})};if(sa&&sa.encoding)return h=h.fieldDef(sa.encoding),{field:kd(h,{expr:"datum"}),order:sa.order};if(null!==sa)return{field:kd(cb,{binSuffix:h.stack&&h.stack.impute?"mid":void 0,expr:"datum"})}}}}}function Oi(h,I){I=void 0===I?{fromPrefix:""}:I;const {mark:c,markDef:t,encoding:L,config:ka}=h;var sa=t.clip;var Ba=h.getScaleComponent("x");var cb=h.getScaleComponent("y");
Ba=Ba&&Ba.get("selectionExtent")||cb&&cb.get("selectionExtent")?!0:void 0;cb=(cb=h.component.projection)&&!cb.isFit?!0:void 0;sa=Da(sa,Ba,cb);Ba=Uf(t);cb=L.key;const nb=Pi(h);var Gb;if(h.component.selection){for(var Nb=Gb=Hd(h.component.selection).length,lc=h.parent;lc&&0===Nb;)Nb=Hd(lc.component.selection).length,lc=lc.parent;Gb=Nb?{interactive:0<Gb||!!h.encoding.tooltip}:null}else Gb=null;Nb=ne("aria",t,ka);lc=El[c].postEncodingTransform?El[c].postEncodingTransform(h):null;return[Object.assign({},
{name:h.getName("marks"),type:El[c].vgMark},sa?{clip:!0}:{},Ba?{style:Ba}:{},cb?{key:cb.field}:{},nb?{sort:nb}:{},Gb?Gb:{},!1===Nb?{aria:Nb}:{},{from:{data:I.fromPrefix+h.requestDataName(zg.Main)},encode:{update:El[c].encodeEntry(h)}},lc?{transform:lc}:{})]}function hi(h,I,c,t,L){if("facet"in h)return new Fl(h,I,c,L);if("layer"in h)return new xm(h,I,c,t,L);if(Na(h))return new ym(h,I,c,t,L);if("vconcat"in h||"hconcat"in h||"concat"in h)return new un(h,I,c,L);throw Error(Pc(h));}function ul(h,I,c,t){c=
void 0===c?{}:c;const L=h.config?gb(h.config):void 0;c=[].concat(h.assembleSelectionData([]),lj(h.component.data,c));const ka=h.assembleProjections(),sa=h.assembleTitle(),Ba=h.assembleGroupStyle(),cb=h.assembleGroupEncodeEntry(!0);let nb=h.assembleLayoutSignals();nb=nb.filter(lc=>"width"!==lc.name&&"height"!==lc.name||void 0===lc.value?!0:(I[lc.name]=+lc.value,!1));var Gb=Object.assign({},I);const Nb=I.params;Gb=(delete Gb.params,Gb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
h.description?{description:h.description}:{},Gb,sa?{title:sa}:{},Ba?{style:Ba}:{},cb?{encode:{update:cb}}:{},{data:c},0<ka.length?{projections:ka}:{},h.assembleGroup([...nb,...h.assembleSelectionTopLevelSignals([]),...id(Nb)]),L?{config:L}:{},t?{usermeta:t}:{})}const Fk=h=>function(I){return I[h]},Gk=h=>{const I=h.length;return function(c){for(let t=0;t<I;++t)c=c[h[t]];return c}};(function(h,I,c){const t=N(h);h=1===t.length?t[0]:h;return w((c&&c.get||H)(t),[h],I||h)})("id");const Jk=w(h=>h,[],"identity");
w(()=>0,[],"zero");w(()=>1,[],"one");w(()=>!0,[],"true");w(()=>!1,[],"false");var Je=Array.isArray;const ii=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function c(I){var t=isNaN(I)?1:Number(I);return t?Array.prototype.reduce.call(this,function(L,ka){return Array.isArray(ka)?L.push.apply(L,c.call(ka,t-1)):L.push(ka),L},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(I){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var qh=function(I,c){c||(c={});"function"===typeof c&&(c={cmp:c});var t="boolean"===typeof c.cycles?c.cycles:!1,L=c.cmp&&function(sa){return function(Ba){return function(cb,nb){return sa({key:cb,value:Ba[cb]},{key:nb,value:Ba[nb]})}}}(c.cmp),ka=[];return function cb(Ba){Ba&&Ba.toJSON&&"function"===typeof Ba.toJSON&&(Ba=Ba.toJSON());if(void 0!==Ba){if("number"==typeof Ba)return isFinite(Ba)?
""+Ba:"null";if("object"!==typeof Ba)return JSON.stringify(Ba);var nb;if(Array.isArray(Ba)){var Gb="[";for(nb=0;nb<Ba.length;nb++)nb&&(Gb+=","),Gb+=cb(Ba[nb])||"null";return Gb+"]"}if(null===Ba)return"null";if(-1!==ka.indexOf(Ba)){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Nb=ka.push(Ba)-1,lc=Object.keys(Ba).sort(L&&L(Ba));Gb="";for(nb=0;nb<lc.length;nb++){var Yc=lc[nb],hd=cb(Ba[Yc]);hd&&(Gb&&(Gb+=","),Gb+=JSON.stringify(Yc)+":"+hd)}ka.splice(Nb,
1);return"{"+Gb+"}"}}(I)};const ji=function L(c,t){if(c===t)return!0;if(c&&t&&"object"==typeof c&&"object"==typeof t){if(c.constructor!==t.constructor)return!1;var ka;if(Array.isArray(c)){var sa=c.length;if(sa!=t.length)return!1;for(ka=sa;0!==ka--;)if(!L(c[ka],t[ka]))return!1;return!0}if(c.constructor===RegExp)return c.source===t.source&&c.flags===t.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===t.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===t.toString();
var Ba=Object.keys(c);sa=Ba.length;if(sa!==Object.keys(t).length)return!1;for(ka=sa;0!==ka--;)if(!Object.prototype.hasOwnProperty.call(t,Ba[ka]))return!1;for(ka=sa;0!==ka--;)if(sa=Ba[ka],!L(c[sa],t[sa]))return!1;return!0}return c!==c&&t!==t},rf=function(c,t,L){return L={path:t,exports:{},require:function(ka,sa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},c(L,L.exports),L.exports}(function(c){var t=function(){function L(Nb,lc){return null!=lc&&Nb instanceof
lc}function ka(Nb,lc,Yc,hd,qd){function Md(se,Ef){if(null===se)return null;if(0===Ef||"object"!=typeof se)return se;if(L(se,cb))var Yd=new cb;else if(L(se,nb))Yd=new nb;else if(L(se,Gb))Yd=new Gb(function(Ig,hg){se.then(function(Ng){Ig(Md(Ng,Ef-1))},function(Ng){hg(Md(Ng,Ef-1))})});else if(ka.__isArray(se))Yd=[];else if(ka.__isRegExp(se))Yd=new RegExp(se.source,Ba(se)),se.lastIndex&&(Yd.lastIndex=se.lastIndex);else if(ka.__isDate(se))Yd=new Date(se.getTime());else{if(Hf&&k.isBuffer(se))return Yd=
k.allocUnsafe?k.allocUnsafe(se.length):new k(se.length),se.copy(Yd),Yd;if(L(se,Error))Yd=Object.create(se);else if("undefined"==typeof hd){var sg=Object.getPrototypeOf(se);Yd=Object.create(sg)}else Yd=Object.create(hd),sg=hd}if(lc){var Mf=Rd.indexOf(se);if(-1!=Mf)return Ee[Mf];Rd.push(se);Ee.push(Yd)}L(se,cb)&&se.forEach(function(Ig,hg){hg=Md(hg,Ef-1);Ig=Md(Ig,Ef-1);Yd.set(hg,Ig)});L(se,nb)&&se.forEach(function(Ig){Ig=Md(Ig,Ef-1);Yd.add(Ig)});for(var Ve in se){var pg;sg&&(pg=Object.getOwnPropertyDescriptor(sg,
Ve));pg&&null==pg.set||(Yd[Ve]=Md(se[Ve],Ef-1))}if(Object.getOwnPropertySymbols)for(Mf=Object.getOwnPropertySymbols(se),Ve=0;Ve<Mf.length;Ve++)if(pg=Mf[Ve],sg=Object.getOwnPropertyDescriptor(se,pg),!sg||sg.enumerable||qd)Yd[pg]=Md(se[pg],Ef-1),sg.enumerable||Object.defineProperty(Yd,pg,{enumerable:!1});if(qd)for(Mf=Object.getOwnPropertyNames(se),Ve=0;Ve<Mf.length;Ve++)pg=Mf[Ve],sg=Object.getOwnPropertyDescriptor(se,pg),sg&&sg.enumerable||(Yd[pg]=Md(se[pg],Ef-1),Object.defineProperty(Yd,pg,{enumerable:!1}));
return Yd}"object"===typeof lc&&(Yc=lc.depth,hd=lc.prototype,qd=lc.includeNonEnumerable,lc=lc.circular);var Rd=[],Ee=[],Hf="undefined"!=typeof k;"undefined"==typeof lc&&(lc=!0);"undefined"==typeof Yc&&(Yc=Infinity);return Md(Nb,Yc)}function sa(Nb){return Object.prototype.toString.call(Nb)}function Ba(Nb){var lc="";Nb.global&&(lc+="g");Nb.ignoreCase&&(lc+="i");Nb.multiline&&(lc+="m");return lc}try{var cb=Map}catch(Nb){cb=function(){}}try{var nb=Set}catch(Nb){nb=function(){}}try{var Gb=Promise}catch(Nb){Gb=
function(){}}ka.clonePrototype=function(Nb){if(null===Nb)return null;var lc=function(){};lc.prototype=Nb;return new lc};ka.__objToStr=sa;ka.__isDate=function(Nb){return"object"===typeof Nb&&"[object Date]"===sa(Nb)};ka.__isArray=function(Nb){return"object"===typeof Nb&&"[object Array]"===sa(Nb)};ka.__isRegExp=function(Nb){return"object"===typeof Nb&&"[object RegExp]"===sa(Nb)};ka.__getRegExpFlags=Ba;return ka}();c.exports&&(c.exports=t)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(c=>
qh(c)).join(","),")")};const of=qh,Hd=Object.keys,Tg=Object.values,fh=Object.entries;let jj=42;const Ij={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,
gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},yh=["domain","grid","labels",
"ticks","title"],ek={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",
labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",
titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,
domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,
tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},$g=Object.assign({},rg,{style:1,labelExpr:1,encoding:1}),Ug=Hd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,
axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Ik={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},fk={count:1,min:1,max:1},Hk=["count","valid","missing","distinct"],
Hl=["count","sum","distinct","valid","missing"],Il=y("mean average median q1 q3 min max".split(" ")),bl={theta:1,theta2:1,radius:1,radius2:1},cl={longitude:1,longitude2:1,latitude:1,latitude2:1},$h=Hd(cl),gk=Object.assign({},{x:1,y:1,x2:1,y2:1},bl,cl,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),wl={row:1,column:1,facet:1},zh=Hd(wl),Kk=Object.assign({},gk,wl),Jl=
Hd(Kk);var Sk=Object.assign({},Kk),Kl=(delete Sk.order,delete Sk.detail,delete Sk.tooltip,Sk),Rk=Object.assign({},Kl);const Qk=(delete Rk.row,delete Rk.column,delete Rk.facet,Rk),gl="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Ne=Object.assign({},gk);const ah=(delete Ne.x,delete Ne.y,delete Ne.x2,delete Ne.y2,delete Ne.latitude,delete Ne.longitude,delete Ne.latitude2,delete Ne.longitude2,delete Ne.theta,delete Ne.theta2,delete Ne.radius,delete Ne.radius2,Ne),Mg=Hd(ah),fg={x:1,y:1},Wg=
Hd(fg),lk={theta:1,radius:1},bh=Hd(lk);var Qh=Object.assign({},ah);const mj=(delete Qh.text,delete Qh.tooltip,delete Qh.href,delete Qh.url,delete Qh.description,delete Qh.detail,delete Qh.key,delete Qh.order,Qh),dk=Hd(mj),rh=Object.assign({},fg,lk,mj),Lj=Hd(rh),Ok={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Mk=Object.assign({},Ok);const dl=
(delete Mk.geoshape,Mk),ze=function(c,t){let L=c||0;return{level(ka){return arguments.length?(L=+ka,this):L},error(){1<=L&&x(t||"error","ERROR",arguments);return this},warn(){2<=L&&x(t||"warn","WARN",arguments);return this},info(){3<=L&&x(t||"log","INFO",arguments);return this},debug(){4<=L&&x(t||"log","DEBUG",arguments);return this}}}(2);let kj=ze;const Lk="january february march april may june july august september october november december".split(" "),ki=Lk.map(c=>c.substr(0,3)),Ci="sunday monday tuesday wednesday thursday friday saturday".split(" "),
mk=Ci.map(c=>c.substr(0,3)),Oj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},ok=Hd(Oj),hl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Bi=Hd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,
shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),jk={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},kk=["cornerRadius","cornerRadiusTopLeft",
"cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Cg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},ai={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal",
"bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ik={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Nj="linear log pow sqrt symlog time utc".split(" "),th=y(Nj),Ml=y(["linear","log","pow","sqrt","symlog"]),zk=y(["quantile","quantize","threshold"]),ol=Nj.concat(["quantile","quantize","threshold",
"sequential","identity"]),Jh=y(ol),nh=y(["ordinal","bin-ordinal","point","band"]);var wj=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const vk=(delete wj.type,delete wj.domain,delete wj.range,delete wj.rangeMax,delete wj.rangeMin,delete wj.scheme,wj),Ol=Hd(vk),Yg={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},q=Yg.arc,J=Yg.area,da=Yg.bar,Qa=Yg.image,ib=Yg.line,yb=Yg.point,Ob=Yg.rect,fc=Yg.rule,Fc=Yg.text,sd=Yg.tick,ve=Yg.trail,ff=Yg.circle,Ld=Yg.square,Ke=Yg.geoshape,gf=Hd(Yg);y(gf);const $e="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),cd=Hd({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),Nc=Hd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),$c={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Bd={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Jd=(c,t)=>{switch(t.fieldTitle){case "plain":return c.field;case "functional":{const {aggregate:L,
bin:ka,timeUnit:sa,field:Ba}=c;Fa(L)?c="".concat(Ba," for argmax(").concat(L.argmax,")"):qa(L)?c="".concat(Ba," for argmin(").concat(L.argmin,")"):(c=Qb(sa),c=(c=L||(null===c||void 0===c?void 0:c.unit)||(null===c||void 0===c?void 0:c.maxbins)&&"timeunit"||pc(ka)&&"bin")?c.toUpperCase()+"("+Ba+")":Ba)}return c;default:return uf(c,t)}};let cf=Jd;const Ae={compatible:!0};class hf{constructor(c,t){this.name=c;this.run=t}hasMatchingType(c){return Na(c)?(c=c.mark,(Od(c)?c.type:c)===this.name):!1}}const Kf=
new hf("boxplot",Ec),xf=new hf("errorbar",Zc),Si=new hf("errorband",pd),vl={};Ad("boxplot",Ec,["box","median","outliers","rule","ticks"]);Ad("errorbar",Zc,["ticks","rule"]);Ad("errorband",pd,["band","borders"]);const Jm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],lm={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",
titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},mm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},an=Hd(lm),bn=Hd(mm),hm=Hd({header:1,headerRow:1,headerColumn:1,
headerFacet:1}),nm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Em=["background","padding"],Fm=Hd({align:1,bounds:1,center:1,columns:1,spacing:1}),Gm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,
continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},
projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",
encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},zj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),gm={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},fm={blue:zj[0],orange:zj[1],red:zj[2],teal:zj[3],green:zj[4],yellow:zj[5],purple:zj[6],pink:zj[7],
brown:zj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Hm=[...Nc,...Ug,...hm,"background","padding","legend","lineBreak","scale","style","title","view"],Km=["view",...gf],Im="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Lm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class vn{map(c,t){return"facet"in c?this.mapFacet(c,t):"repeat"in c?this.mapRepeat(c,t):"hconcat"in c?this.mapHConcat(c,t):"vconcat"in c?this.mapVConcat(c,t):"concat"in c?this.mapConcat(c,t):this.mapLayerOrUnit(c,
t)}mapLayerOrUnit(c,t){if("layer"in c)return this.mapLayer(c,t);if(Na(c))return this.mapUnit(c,t);throw Error(Pc(c));}mapLayer(c,t){return Object.assign({},c,{layer:c.layer.map(L=>this.mapLayerOrUnit(L,t))})}mapHConcat(c,t){return Object.assign({},c,{hconcat:c.hconcat.map(L=>this.map(L,t))})}mapVConcat(c,t){return Object.assign({},c,{vconcat:c.vconcat.map(L=>this.map(L,t))})}mapConcat(c,t){var L=Object.assign({},c);c=c.concat;L=(delete L.concat,L);return Object.assign({},L,{concat:c.map(ka=>this.map(ka,
t))})}mapFacet(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}mapRepeat(c,t){return Object.assign({},c,{spec:this.map(c.spec,t)})}}const Om={zero:1,center:1,normalize:1},Mm=new Set([q,da,J,fc,yb,ff,Ld,ib,Fc,sd]),Nm=new Set([da,J,q]);class wn{constructor(){jc(this,"name","path-overlay")}hasMatchingType(c,t){if(Na(c)){const {mark:L,encoding:ka}=c;c=Od(L)?L:{type:L};switch(c.type){case "line":case "rule":case "trail":return!!Qc(c,t[c.type],ka);case "area":return!!Qc(c,t[c.type],ka)||!!dd(c,
t[c.type])}}return!1}run(c,t,L){const {config:ka}=t;var sa=Object.assign({},c),Ba=c.selection;const cb=c.projection;var nb=c.mark;c=c.encoding;sa=(delete sa.selection,delete sa.projection,delete sa.mark,delete sa.encoding,sa);c=Ab(c,ka);nb=Od(nb)?nb:{type:nb};const Gb=Qc(nb,ka[nb.type],c),Nb="area"===nb.type&&dd(nb,ka[nb.type]);Ba=[Object.assign({},Ba?{selection:Ba}:{},{mark:ec(Object.assign({},"area"===nb.type&&void 0===nb.opacity&&void 0===nb.fillOpacity?{opacity:.7}:{},nb)),encoding:M(c,["shape"])})];
const lc=Rb(nb,c);let Yc=c;if(lc){const {fieldChannel:hd,offset:qd}=lc;Yc=Object.assign({},c,{[hd]:Object.assign({},c[hd],qd?{stack:qd}:{})})}Nb&&Ba.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"line"},O(nb,["clip","interpolate","tension","tooltip"]),Nb),encoding:Yc}));Gb&&Ba.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},O(nb,["clip","tooltip"]),Gb),encoding:Yc}));return L(Object.assign({},sa,{layer:Ba}),Object.assign({},
t,{config:Vb(ka)}))}}class xn{constructor(){jc(this,"name","RangeStep")}hasMatchingType(c){if(Na(c)&&c.encoding)for(const L of Wg){const ka=c.encoding[L];if(ka&&od(ka)){var t;if(null===ka||void 0===ka?0:null===(t=ka.scale)||void 0===t?0:t.rangeStep)return!0}}return!1}run(c){const t={};let L=Object.assign({},c.encoding);for(const nb of Wg){const Gb=Ua(nb);var ka=L[nb];if(ka&&od(ka)){var sa;if(null===ka||void 0===ka?0:null===(sa=ka.scale)||void 0===sa?0:sa.rangeStep){var Ba=Object.assign({},ka);ka=
ka.scale;Ba=(delete Ba.scale,Ba);var cb=Object.assign({},ka);cb=(delete cb.rangeStep,cb);t[Gb]={step:ka.rangeStep};Lb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');L=Object.assign({},L,{[nb]:Object.assign({},Ba,P(cb)?{}:{scale:cb})})}}}return Object.assign({},t,c,{encoding:L})}}class yn{constructor(){jc(this,"name","RuleForRangedLine")}hasMatchingType(c){if(Na(c)){const {encoding:t,
mark:L}=c;if("line"===L)for(const ka of gl)if(c=Ga(ka),c=t[c],t[ka]&&($b(c)&&!Hc(c.bin)||gd(c)))return!0}return!1}run(c,t,L){var {encoding:ka}=c,sa=!!ka.x2;ka="Line mark is for continuous lines and thus cannot be used with ".concat(sa&&ka.y2?"x2 and y2":sa?"x2":"y2",". We will use the rule mark (line segments) instead.");Lb(ka);return L(Object.assign({},c,{mark:"rule"}),t)}}class zn extends vn{constructor(...c){super(...c);jc(this,"nonFacetUnitNormalizers",[Kf,xf,Si,new wn,new yn,new xn])}map(c,t){if(Na(c)){const L=
Sa(c.encoding,"row"),ka=Sa(c.encoding,"column"),sa=Sa(c.encoding,"facet");if(L||ka||sa)return this.mapFacetedUnit(c,t)}return super.map(c,t)}mapUnit(c,t){const {parentEncoding:L,parentProjection:ka}=t;var sa=zd(c.encoding,t.repeater);c=Object.assign({},c,sa?{encoding:sa}:{});if(L||ka)return this.mapUnitWithParentEncodingOrProjection(c,t);sa=this.mapLayerOrUnit.bind(this);for(const Ba of this.nonFacetUnitNormalizers)if(Ba.hasMatchingType(c,t.config))return Ba.run(c,t,sa);return c}mapRepeat(c,t){return!Je(c.repeat)&&
c.repeat.layer?this.mapLayerRepeat(c,t):this.mapNonLayerRepeat(c,t)}mapLayerRepeat(c,t){var L=Object.assign({},c);const ka=c.repeat,sa=c.spec;L=(delete L.repeat,delete L.spec,L);const {row:Ba,column:cb,layer:nb}=ka,{repeater:Gb={},repeaterPrefix:Nb=""}=t;return Ba||cb?this.mapRepeat(Object.assign({},c,{repeat:Object.assign({},Ba?{row:Ba}:{},cb?{column:cb}:{}),spec:{repeat:{layer:nb},spec:sa}}),t):Object.assign({},L,{layer:nb.map(lc=>{var Yc=Object.assign({},Gb,{layer:lc});lc=(sa.name||"")+Nb+"child__layer_".concat(V(lc));
Yc=this.mapLayerOrUnit(sa,Object.assign({},t,{repeater:Yc,repeaterPrefix:lc}));Yc.name=lc;return Yc})})}mapNonLayerRepeat(c,t){var L,ka=c,sa=Object.assign({},ka);const Ba=ka.repeat,cb=ka.spec;ka=ka.data;sa=(delete sa.repeat,delete sa.spec,delete sa.data,sa);!Je(Ba)&&c.columns&&(c=M(c,["columns"]),Lb(vd("repeat")));const nb=[],{repeater:Gb={},repeaterPrefix:Nb=""}=t,lc=!Je(Ba)&&Ba.row||[Gb?Gb.row:null],Yc=!Je(Ba)&&Ba.column||[Gb?Gb.column:null];var hd=Je(Ba)&&Ba||[Gb?Gb.repeat:null];for(const Md of hd)for(const Rd of lc)for(const Ee of Yc){var qd=
{repeat:Md,row:Rd,column:Ee,layer:Gb.layer};hd=(cb.name||"")+Nb+"child__"+(Je(Ba)?"".concat(V(Md)):(Ba.row?"row_".concat(V(Rd)):"")+(Ba.column?"column_".concat(V(Ee)):""));qd=this.map(cb,Object.assign({},t,{repeater:qd,repeaterPrefix:hd}));qd.name=hd;nb.push(M(qd,["data"]))}c=Je(Ba)?c.columns:Ba.column?Ba.column.length:1;return Object.assign({},{data:null!==(L=cb.data)&&void 0!==L?L:ka,align:"all"},sa,{columns:c,concat:nb})}mapFacet(c,t){const {facet:L}=c;wa(L)&&c.columns&&(c=M(c,["columns"]),Lb(vd("facet")));
return super.mapFacet(c,t)}mapUnitWithParentEncodingOrProjection(c,t){const {encoding:L,projection:ka}=c,{parentEncoding:sa,parentProjection:Ba,config:cb}=t,nb=ye({parentProjection:Ba,projection:ka});t=Sd({parentEncoding:sa,encoding:zd(L,t.repeater)});return this.mapUnit(Object.assign({},c,nb?{projection:nb}:{},t?{encoding:t}:{}),{config:cb})}mapFacetedUnit(c,t){var L=c.encoding,ka=Object.assign({},L),sa=L.row;const Ba=L.column;L=L.facet;const cb=(delete ka.row,delete ka.column,delete ka.facet,ka);
var nb=Object.assign({},c);ka=c.mark;const Gb=c.width,Nb=c.projection,lc=c.height,Yc=c.view;c=c.selection;nb=(delete nb.mark,delete nb.width,delete nb.projection,delete nb.height,delete nb.view,delete nb.selection,delete nb.encoding,nb);const {facetMapping:hd,layout:qd}=this.getFacetMappingAndLayout({row:sa,column:Ba,facet:L},t);sa=zd(cb,t.repeater);return this.mapFacet(Object.assign({},nb,qd,{facet:hd,spec:Object.assign({},Gb?{width:Gb}:{},lc?{height:lc}:{},Yc?{view:Yc}:{},Nb?{projection:Nb}:{},
{mark:ka,encoding:sa},c?{selection:c}:{})}),t)}getFacetMappingAndLayout(c,t){const {row:L,column:ka,facet:sa}=c;if(L||ka){sa&&(t=[...L?["row"]:[],...ka?["column"]:[]],t="Facet encoding dropped as ".concat(t.join(" and ")," ").concat(1<t.length?"are":"is"," also specified."),Lb(t));t={};var Ba={};for(var cb of["row","column"]){const lc=c[cb];if(lc){var nb=Object.assign({},lc);nb=(delete nb.align,delete nb.center,delete nb.spacing,delete nb.columns,nb);t[cb]=nb;for(var Gb of["align","center","spacing"])if(void 0!==
lc[Gb]){var Nb;Ba[Gb]=null!==(Nb=Ba[Gb])&&void 0!==Nb?Nb:{};Ba[Gb][cb]=lc[Gb]}}}return{facetMapping:t,layout:Ba}}Ba=Object.assign({},sa);c=sa.align;Nb=sa.center;cb=sa.spacing;Gb=sa.columns;Ba=(delete Ba.align,delete Ba.center,delete Ba.spacing,delete Ba.columns,Ba);t=(t=t.repeater)?wa(Ba)?ee(Ba,t):bd(Ba,t):Ba;return{facetMapping:t,layout:Object.assign({},c?{align:c}:{},Nb?{center:Nb}:{},cb?{spacing:cb}:{},Gb?{columns:Gb}:{})}}mapLayer(c,t){var L=Object.assign({},t),ka=t.parentEncoding;t=t.parentProjection;
L=(delete L.parentEncoding,delete L.parentProjection,L);var sa=Object.assign({},c);const Ba=c.encoding;c=c.projection;sa=(delete sa.encoding,delete sa.projection,sa);ka=Object.assign({},L,{parentEncoding:Sd({parentEncoding:ka,encoding:Ba,layer:!0}),parentProjection:ye({parentProjection:t,projection:c})});return super.mapLayer(sa,ka)}}const Pm=new zn;class Uj{constructor(c,t){c=void 0===c?{}:c;t=void 0===t?{}:t;this.explicit=c;this.implicit=t}clone(){return new Uj(rf(this.explicit),rf(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(c){return Da(this.explicit[c],this.implicit[c])}getWithExplicit(c){return void 0!==this.explicit[c]?{explicit:!0,value:this.explicit[c]}:void 0!==this.implicit[c]?{explicit:!1,value:this.implicit[c]}:{explicit:!1,value:void 0}}setWithExplicit(c,t){void 0!==t.value&&this.set(c,t.value,t.explicit)}set(c,t,L){delete this[L?"implicit":"explicit"][c];this[L?"explicit":"implicit"][c]=t;return this}copyKeyFromSplit(c,t){void 0!==t.explicit[c]?this.set(c,t.explicit[c],!0):
void 0!==t.implicit[c]&&this.set(c,t.implicit[c],!1)}copyKeyFromObject(c,t){void 0!==t[c]&&this.set(c,t[c],!0)}copyAll(c){for(const t of Hd(c.combine())){const L=c.getWithExplicit(t);this.setWithExplicit(t,L)}}}class sn extends Uj{constructor(c,t,L){c=void 0===c?{}:c;t=void 0===t?{}:t;L=void 0===L?!1:L;super(c,t);this.explicit=c;this.implicit=t;this.parseNothing=L}clone(){const c=super.clone();c.parseNothing=this.parseNothing;return c}}let zg;(function(c){c[c.Raw=0]="Raw";c[c.Main=1]="Main";c[c.Row=
2]="Row";c[c.Column=3]="Column";c[c.Lookup=4]="Lookup"})(zg||(zg={}));const Rm=/[[\]{}]/,Qm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let im,jm;const Sm={left:"x",center:"xc",right:"x2"},Tm={top:"y",middle:"yc",bottom:"y2"},Um=new Set(["aria"]),zm={has:c=>"interval"!==c.type&&c.nearest,parse:(c,t)=>{if(t.events)for(const L of t.events)L.markname=c.getName("voronoi")},marks:(c,t,L)=>{const {x:ka,y:sa}=t.project.hasChannel;t=c.mark;if(we(t))return Lb('The "nearest" transform is not supported for '.concat(t,
" marks.")),L;t={name:c.getName("voronoi"),type:"path",interactive:!0,from:{data:c.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},hk(c,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:ka||!sa?"datum.datum.x || 0":"0"},y:{expr:sa||!ka?"datum.datum.y || 0":"0"},size:[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]}]};let Ba=0,cb=!1;L.forEach((nb,Gb)=>{var Nb;nb=null!==(Nb=nb.name)&&
void 0!==Nb?Nb:"";nb===c.component.mark[0].name?Ba=Gb:0<=nb.indexOf("voronoi")&&(cb=!0)});cb||L.splice(Ba+1,0,t);return L}};class tg{constructor(c,t){this.debugName=t;jc(this,"_children",[]);jc(this,"_parent",null);jc(this,"_hash",void 0);c&&(this.parent=c)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(c){(this._parent=c)&&c.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(c,t){-1<this._children.indexOf(c)?
Lb("Attempt to add the same child twice."):void 0!==t?this._children.splice(t,0,c):this._children.push(c)}removeChild(c){c=this._children.indexOf(c);this._children.splice(c,1);return c}remove(){let c=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,c++)}insertAsParentOf(c){const t=c.parent;t.removeChild(this);this.parent=t;c.parent=this}swapWithParent(){const c=this._parent,t=c.parent;for(const L of this._children)L.parent=c;this._children=
[];c.removeChild(this);c.parent.removeChild(c);this.parent=t;c.parent=this}}class Eh extends tg{clone(){const c=new this.constructor;c.debugName="clone_"+this.debugName;c._source=this._source;c._name="clone_"+this._name;c.type=this.type;c.refCounts=this.refCounts;c.refCounts[c._name]=0;return c}constructor(c,t,L,ka){super(c,t);this.type=L;this.refCounts=ka;jc(this,"_source",void 0);jc(this,"_name",void 0);this._source=this._name=t;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=
0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(ta()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(c){this._source=c}}class yj extends tg{clone(){return new yj(null,rf(this.formula))}constructor(c,t){super(c);this.formula=t}static makeFromEncoding(c,t){const L=t.reduceFieldDef((ka,sa,Ba)=>{const {field:cb,timeUnit:nb}=sa,Gb=ng(t)?
t.encoding[Ha(Ba)]:void 0;Ba=ng(t)&&Cb(Ba,sa,Gb,t.stack,t.markDef,t.config);nb&&(sa=kd(sa,{forAs:!0}),ka[F({as:sa,field:cb,timeUnit:nb})]=Object.assign({},{as:sa,field:cb,timeUnit:nb},Ba?{band:!0}:{}));return ka},{});return P(L)?null:new yj(c,L)}static makeFromTransform(c,t){var L=Object.assign({},t);t=Object.assign({},L);L=L.timeUnit;t=(delete t.timeUnit,t);L=Qb(L);t=Object.assign({},t,{timeUnit:L});return new yj(c,{[F(t)]:t})}merge(c){this.formula=Object.assign({},this.formula);for(const t in c.formula)if(!this.formula[t]||
c.formula[t].band)this.formula[t]=c.formula[t];for(const t of c.children)c.removeChild(t),t.parent=this;c.remove()}removeFormulas(c){const t={};for(const L of fh(this.formula)){const [ka,sa]=L;c.has(sa.as)||(t[ka]=sa)}this.formula=t}producedFields(){return new Set(Tg(this.formula).map(c=>c.as))}dependentFields(){return new Set(Tg(this.formula).map(c=>c.field))}hash(){return"TimeUnit ".concat(F(this.formula))}assemble(){const c=[];for(const ka of Tg(this.formula)){const {field:sa,as:Ba,timeUnit:cb}=
ka;var t=Qb(cb),L=Object.assign({},t);const nb=t.unit;t=t.utc;L=(delete L.unit,delete L.utc,L);c.push(Object.assign({},{field:kb(sa),type:"timeunit"},nb?{units:Bc(nb)}:{},t?{timezone:"utc"}:{},L,{as:[Ba,"".concat(Ba,"_end")]}))}return c}}class An{constructor(...c){jc(this,"hasChannel",void 0);jc(this,"hasField",void 0);jc(this,"timeUnit",void 0);jc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}}}const Am={has:c=>"single"===c.type&&"global"===c.resolve&&c.bind&&"scales"!==c.bind&&
!af(c.bind),parse:(c,t,L,ka)=>{ka.on||delete t.events;ka.clear||delete t.clear},topLevelSignals:(c,t,L)=>{const ka=t.name;c=t.project;const sa=t.bind,Ba=t.init&&t.init[0],cb=zm.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";c.items.forEach((nb,Gb)=>{const Nb=V("".concat(ka,"_").concat(nb.field));if(!L.filter(hd=>hd.name===Nb).length){var lc,Yc;L.unshift(Object.assign({},{name:Nb},Ba?{init:vh(Ba[Gb])}:{value:null},{on:t.events?[{events:t.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(cb,
"[").concat(n(nb.field),"] : null")}]:[],bind:null!==(lc=null!==(Yc=sa[nb.field])&&void 0!==Yc?Yc:sa[nb.channel])&&void 0!==lc?lc:sa}))}});return L},signals:(c,t,L)=>{const ka=t.name;var sa=t.project;c=L.filter(cb=>cb.name===ka+"_tuple")[0];t=ka+"_tuple_fields";sa=sa.items.map(cb=>V("".concat(ka,"_").concat(cb.field)));const Ba=sa.map(cb=>"".concat(cb," !\x3d\x3d null")).join(" \x26\x26 ");sa.length&&(c.update="".concat(Ba," ? {fields: ").concat(t,", values: [").concat(sa.join(", "),"]} : null"));
delete c.value;delete c.on;return L}},Bm={has:c=>"multi"===c.type&&!!c.toggle,signals:(c,t,L)=>L.concat({name:t.name+"_toggle",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(c,t)=>{const L=t.name+"_tuple",ka=t.name+"_toggle";return"".concat(ka," ? null : ").concat(L,", ")+("global"===t.resolve?"".concat(ka," ? null : true, "):"".concat(ka," ? null : {unit: ").concat(Eg(c),"}, "))+"".concat(ka," ? ").concat(L," : null")}},Sj={has:c=>"interval"===c.type&&"global"===c.resolve&&c.bind&&
"scales"===c.bind,parse:(c,t)=>{const L=t.scales=[];for(const sa of t.project.items){var ka=sa.channel;if(!rh[ka])continue;const Ba=(ka=c.getScaleComponent(ka))?ka.get("type"):void 0;ka&&Ba in Jh?(ka.set("selectionExtent",{selection:t.name,field:sa.field},!0),L.push(sa)):Lb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(c,t,L)=>{const ka=t.scales.filter(Ba=>0===L.filter(cb=>cb.name===Ba.signals.data).length);if(!c.parent||oi(c)||0===
ka.length)return L;c=L.filter(Ba=>Ba.name===t.name)[0];let sa=c.update;if(0<=sa.indexOf("vlSelectionResolve"))c.update="{".concat(ka.map(Ba=>"".concat(n(Ba.field),": ").concat(Ba.signals.data)).join(", "),"}");else{for(const Ba of ka){const cb="".concat(n(Ba.field),": ").concat(Ba.signals.data);0>sa.indexOf(cb)&&(sa="".concat(sa.substring(0,sa.length-1),", ").concat(cb,"}"))}c.update=sa}return L.concat(ka.map(Ba=>({name:Ba.signals.data})))},signals:(c,t,L)=>{if(c.parent&&!oi(c))for(const ka of t.scales)c=
L.filter(sa=>sa.name===ka.signals.data)[0],c.push="outer",delete c.value,delete c.update;return L}},km={has:c=>{const t="global"===c.resolve&&c.bind&&af(c.bind);c=1===c.project.items.length&&"_vgsid_"!==c.project.items[0].field;t&&!c&&Lb("Legend bindings are only supported for selections over an individual field or encoding channel.");return t&&c},parse:(c,t,L,ka)=>{ka.on||delete t.events;ka.clear||delete t.clear;if(ka.on||ka.clear)for(const Ba of t.events){var sa;Ba.filter=d(null!==(sa=Ba.filter)&&
void 0!==sa?sa:[]);0>Ba.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&Ba.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}c=Wa(t.bind)?t.bind.legend:"click";c=e(c)?vf(c,"view"):d(c);t.bind={legend:{merge:c}}},topLevelSignals:(c,t,L)=>{c=t.name;const ka=Wa(t.bind)&&t.bind.legend,sa=cb=>nb=>{nb=rf(nb);nb.markname=cb;return nb};for(const cb of t.project.items){if(!cb.hasLegend)continue;var Ba="".concat(V(cb.field),"_legend");const nb=
"".concat(c,"_").concat(Ba);0===L.filter(Gb=>Gb.name===nb).length&&(Ba=ka.merge.map(sa("".concat(Ba,"_symbols"))).concat(ka.merge.map(sa("".concat(Ba,"_labels")))).concat(ka.merge.map(sa("".concat(Ba,"_entries")))),L.unshift(Object.assign({},{name:nb},t.init?{}:{value:null},{on:[{events:Ba,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:ka.merge,update:"!event.item || !datum ? null : ".concat(nb),force:!0}]})))}return L},signals:(c,t,L)=>{const ka=t.name;var sa=t.project;
c=L.find(nb=>nb.name===ka+"_tuple");var Ba=ka+"_tuple_fields";sa=sa.items.filter(nb=>nb.hasLegend).map(nb=>V("".concat(ka,"_").concat(V(nb.field),"_legend")));const cb=sa.map(nb=>"".concat(nb," !\x3d\x3d null")).join(" \x26\x26 ");Ba="".concat(cb," ? {fields: ").concat(Ba,", values: [").concat(sa.join(", "),"]} : null");t.events&&0<sa.length?c.on.push({events:sa.map(nb=>({signal:nb})),update:Ba}):0<sa.length&&(c.update=Ba,delete c.value,delete c.on);c=L.find(nb=>nb.name===ka+"_toggle");Ba=Wa(t.bind)&&
t.bind.legend;c&&(t.events?c.on.push(Object.assign({},c.on[0],{events:Ba})):c.on[0].events=Ba);return L}},Vm=[{has:()=>!0,parse:(c,t,L)=>{var ka;const sa=t.name,Ba=null!==(ka=t.project)&&void 0!==ka?ka:t.project=new An,cb={};ka={};const nb=new Set,Gb=(hd,qd)=>{hd="visual"===qd?hd.channel:hd.field;let Md=V("".concat(sa,"_").concat(hd));for(let Rd=1;nb.has(Md);Rd++)Md=V("".concat(sa,"_").concat(hd,"_").concat(Rd));nb.add(Md);return{[qd]:Md}};if(!L.fields&&!L.encodings){const hd=c.config.selection[L.type];
if(L.init)for(const qd of d(L.init))for(const Md of Hd(qd))Qk[Md]?(L.encodings||(L.encodings=[])).push(Md):"interval"===L.type?(Lb('Interval selections should be initialized using "x" and/or "y" keys.'),L.encodings=hd.encodings):(L.fields||(L.fields=[])).push(Md);else L.encodings=hd.encodings,L.fields=hd.fields}for(var Nb of null!==(lc=L.fields)&&void 0!==lc?lc:[]){var lc;lc={type:"E",field:Nb};lc.signals=Object.assign({},Gb(lc,"data"));Ba.items.push(lc);Ba.hasField[Nb]=lc}for(const hd of null!==
(Yc=L.encodings)&&void 0!==Yc?Yc:[]){var Yc;(Nb=c.fieldDef(hd))?(Yc=Nb.field,Nb.aggregate?Lb(ge(hd,Nb.aggregate)):Yc?(Nb.timeUnit&&(Yc=c.vgField(hd),lc={timeUnit:Nb.timeUnit,as:Yc,field:Nb.field},ka[F(lc)]=lc),cb[Yc]||(lc="E","interval"===t.type?c.getScaleComponent(hd).get("type")in Jh&&(lc="R"):Nb.bin&&(lc="R-RE"),Nb={field:Yc,channel:hd,type:lc},Nb.signals=Object.assign({},Gb(Nb,"data"),Gb(Nb,"visual")),Ba.items.push(cb[Yc]=Nb),Ba.hasField[Yc]=Ba.hasChannel[hd]=cb[Yc])):Lb(Fd(hd))):Lb(Fd(hd))}L.init&&
(c=hd=>Ba.items.map(qd=>void 0!==hd[qd.channel]?hd[qd.channel]:hd[qd.field]),"interval"===L.type?t.init=c(L.init):(L=d(L.init),t.init=L.map(c)));P(ka)||(Ba.timeUnit=new yj(null,ka))},signals:(c,t,L)=>{const ka=t.name+"_tuple_fields";return 0<L.filter(sa=>sa.name===ka).length?L:L.concat({name:ka,value:t.project.items.map(sa=>{sa=Object.assign({},sa);sa=(delete sa.signals,delete sa.hasLegend,sa);sa.field=kb(sa.field);return sa})})}},Bm,Sj,km,{has:c=>"interval"===c.type&&c.translate,signals:(c,t,L)=>
{const ka=t.name,sa=Sj.has(t),Ba=ka+"_translate_anchor",{x:cb,y:nb}=t.project.hasChannel;let Gb=vf(t.translate,"scope");sa||(Gb=Gb.map(Nb=>(Nb.between[0].markname=ka+"_brush",Nb)));L.push({name:Ba,value:{},on:[{events:Gb.map(Nb=>Nb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==cb?", extent_x: "+(sa?Wi(c,"x"):"slice(".concat(cb.signals.visual,")")):"")+(void 0!==nb?", extent_y: "+(sa?Wi(c,"y"):"slice(".concat(nb.signals.visual,")")):"")+"}"}]},{name:ka+"_translate_delta",value:{},on:[{events:Gb,
update:"{x: ".concat(Ba,".x - x(unit), y: ").concat(Ba,".y - y(unit)}")}]});void 0!==cb&&lg(c,t,cb,"width",L);void 0!==nb&&lg(c,t,nb,"height",L);return L}},{has:c=>"interval"===c.type&&c.zoom,signals:(c,t,L)=>{const ka=t.name,sa=Sj.has(t),Ba=ka+"_zoom_delta",{x:cb,y:nb}=t.project.hasChannel,Gb=n(c.scaleName("x")),Nb=n(c.scaleName("y"));let lc=vf(t.zoom,"scope");sa||(lc=lc.map(Yc=>(Yc.markname=ka+"_brush",Yc)));L.push({name:ka+"_zoom_anchor",on:[{events:lc,update:sa?"{"+[Gb?"x: invert(".concat(Gb,
", x(unit))"):"",Nb?"y: invert(".concat(Nb,", y(unit))"):""].filter(Yc=>!!Yc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:Ba,on:[{events:lc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==cb&&Dg(c,t,cb,"width",L);void 0!==nb&&Dg(c,t,nb,"height",L);return L}},Am,zm,{has:c=>void 0!==c.clear&&!1!==c.clear,parse:(c,t,L)=>{L.clear&&(t.clear=e(L.clear)?vf(L.clear,"scope"):L.clear)},topLevelSignals:(c,t,L)=>{if(Am.has(t))for(const ka of t.project.items)c=L.findIndex(sa=>
sa.name===V("".concat(t.name,"_").concat(ka.field))),-1!==c&&L[c].on.push({events:t.clear,update:"null"});return L},signals:(c,t,L)=>{function ka(sa,Ba){-1!==sa&&L[sa].on&&L[sa].on.push({events:t.clear,update:Ba})}if("interval"===t.type)for(const sa of t.project.items)c=L.findIndex(Ba=>Ba.name===sa.signals.visual),ka(c,"[0, 0]"),-1===c&&(c=L.findIndex(Ba=>Ba.name===sa.signals.data),ka(c,"null"));else c=L.findIndex(sa=>sa.name===t.name+"_tuple"),ka(c,"null"),Bm.has(t)&&(c=L.findIndex(sa=>sa.name===
t.name+"_toggle"),ka(c,"false"));return L}}],Wm={single:{signals:wg,modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"true":"{unit: ".concat(Eg(c),"}"))},multi:{signals:wg,modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"null":"{unit: ".concat(Eg(c),"}"))},interval:{signals:(c,t)=>{const L=t.name;var ka=L+"_tuple_fields",sa=Sj.has(t);const Ba=[],cb=[],nb=[];if(t.translate&&!sa){const Gb="!event.item || event.item.mark.name !\x3d\x3d ".concat(n(L+"_brush"));Ri(t,(Nb,lc)=>{var Yc;
lc=d(null!==(Yc=lc.between[0].filter)&&void 0!==Yc?Yc:lc.between[0].filter=[]);0>lc.indexOf(Gb)&&lc.push(Gb);return Nb})}t.project.items.forEach((Gb,Nb)=>{const lc=Gb.channel;if("x"!==lc&&"y"!==lc)Lb("Interval selections only support x and y encoding channels.");else{Nb=Th(c,t,Gb,t.init?t.init[Nb]:null);var Yc=Gb.signals.data;Gb=Gb.signals.visual;var hd=n(c.scaleName(lc)),qd=c.getScaleComponent(lc).get("type")in Jh?"+":"";Ba.push(...Nb);cb.push(Yc);nb.push({scaleName:c.scaleName(lc),expr:"(!isArray(".concat(Yc,
") || ")+"(".concat(qd,"invert(").concat(hd,", ").concat(Gb,")[0] \x3d\x3d\x3d ").concat(qd).concat(Yc,"[0] \x26\x26 ")+"".concat(qd,"invert(").concat(hd,", ").concat(Gb,")[1] \x3d\x3d\x3d ").concat(qd).concat(Yc,"[1]))")})}});sa||Ba.push({name:L+"_scale_trigger",value:{},on:[{events:nb.map(Gb=>({scale:Gb.scaleName})),update:nb.map(Gb=>Gb.expr).join(" \x26\x26 ")+" ? ".concat(L+"_scale_trigger"," : {}")}]});sa=t.init;ka="unit: ".concat(Eg(c),", fields: ").concat(ka,", values");return Ba.concat(Object.assign({},
{name:L+"_tuple"},sa?{init:"{".concat(ka,": ").concat(vh(sa),"}")}:{},{on:[{events:[{signal:cb.join(" || ")}],update:cb.join(" \x26\x26 ")+" ? {".concat(ka,": [").concat(cb,"]} : null")}]}))},modifyExpr:(c,t)=>t.name+"_tuple, "+("global"===t.resolve?"true":"{unit: ".concat(Eg(c),"}")),marks:(c,t,L)=>{const ka=t.name,{x:sa,y:Ba}=t.project.hasChannel,cb=sa&&sa.signals.visual,nb=Ba&&Ba.signals.visual;var Gb="data(".concat(n(t.name+"_store"),")");if(Sj.has(t))return L;const Nb={x:void 0!==sa?{signal:"".concat(cb,
"[0]")}:{value:0},y:void 0!==Ba?{signal:"".concat(nb,"[0]")}:{value:0},x2:void 0!==sa?{signal:"".concat(cb,"[1]")}:{field:{group:"width"}},y2:void 0!==Ba?{signal:"".concat(nb,"[1]")}:{field:{group:"height"}}};if("global"===t.resolve)for(var lc of Hd(Nb))Nb[lc]=[Object.assign({},{test:"".concat(Gb,".length \x26\x26 ").concat(Gb,"[0].unit \x3d\x3d\x3d ").concat(Eg(c))},Nb[lc]),{value:0}];lc=t.mark;Gb=Object.assign({},lc);c=lc.fill;t=lc.fillOpacity;lc=lc.cursor;const Yc=(delete Gb.fill,delete Gb.fillOpacity,
delete Gb.cursor,Gb);Gb=Hd(Yc).reduce((hd,qd)=>{hd[qd]=[{test:[void 0!==sa&&"".concat(cb,"[0] !\x3d\x3d ").concat(cb,"[1]"),void 0!==Ba&&"".concat(nb,"[0] !\x3d\x3d ").concat(nb,"[1]")].filter(Md=>Md).join(" \x26\x26 "),value:Yc[qd]},{value:null}];return hd},{});return[{name:ka+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:t}},update:Nb}},...L,{name:ka+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},lc?{cursor:{value:lc}}:{},{fill:{value:"transparent"}}),
update:Object.assign({},Nb,Gb)}}]}}};eh.prototype.visit=function(c){let t,L,ka;if(c(this))return 1;t=Fi(this);L=0;for(ka=t.length;L<ka;++L)if(t[L].visit(c))return 1};var Me,yd,uh,ig,Xm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ym=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Zm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},$m={"if":1};class kl extends tg{clone(){return new kl(null,
this.model,rf(this.filter))}constructor(c,t,L){super(c);this.model=t;this.filter=L;jc(this,"expr",void 0);jc(this,"_dependentFields",void 0);this.expr=Kh(this.model,this.filter,this);this._dependentFields=wh(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const wm={scale:c=>{var {model:t,channel:L}=c;return t.scaleName(L)},format:c=>{var {fieldOrDatumDef:t,config:L,axis:ka}=
c;const {format:sa,formatType:Ba}=ka;return ue(t,t.type,sa,Ba,L,!0)},formatType:c=>{var {axis:t,fieldOrDatumDef:L,scaleType:ka}=c;({formatType:c}=t);return lf(c,L,ka)},grid:c=>{var {fieldOrDatumDef:t,axis:L,scaleType:ka}=c;if($b(t)&&Hc(t.bin))return!1;var sa;return null!==(sa=L.grid)&&void 0!==sa?sa:!(ka in nh)&&$b(t)&&!pc(null===t||void 0===t?void 0:t.bin)},gridScale:c=>{var {model:t,channel:L}=c;c="x"===L?"y":"x";c=t.getScaleComponent(c)?t.scaleName(c):void 0;return c},labelAlign:c=>{var {axis:t,
labelAngle:L,orient:ka,channel:sa}=c;return t.labelAlign||ag(L,ka,sa)},labelAngle:c=>{({labelAngle:c}=c);return c},labelBaseline:c=>{var {axis:t,labelAngle:L,orient:ka,channel:sa}=c;return t.labelBaseline||Di(L,ka,sa)},labelFlush:c=>{var {axis:t,fieldOrDatumDef:L,channel:ka}=c,sa;c=null!==(sa=t.labelFlush)&&void 0!==sa?sa:"x"===ka&&G(["quantitative","temporal"],L.type)?!0:void 0;return c},labelOverlap:c=>{var {axis:t,fieldOrDatumDef:L,scaleType:ka}=c,sa;if(null!==(sa=t.labelOverlap)&&void 0!==sa)c=
sa;else{c=L.type;sa=$b(L)&&!!L.timeUnit;var Ba=$b(L)?L.sort:void 0;c=sa&&!v(Ba)||"nominal"!==c&&"ordinal"!==c?"log"===ka||"symlog"===ka?"greedy":!0:void 0}return c},orient:c=>{({orient:c}=c);return c},tickCount:c=>{var {channel:t,model:L,axis:ka,fieldOrDatumDef:sa,scaleType:Ba}=c,cb;c=(c="x"===t?"width":"y"===t?"height":void 0)?L.getSizeSignalRef(c):void 0;if(null===(cb=ka.tickCount)||void 0===cb)a:{var {fieldOrDatumDef:nb,scaleType:Gb,size:Nb,values:lc}={fieldOrDatumDef:sa,scaleType:Ba,size:c,values:ka.values};
if(lc||Gb in nh||"log"===Gb)cb=void 0;else{if($b(nb)){var Yc;if(pc(nb.bin)){cb={signal:"ceil(".concat(Nb.signal,"/10)")};break a}if(nb.timeUnit&&G(["month","hours","day","quarter"],null===(Yc=Qb(nb.timeUnit))||void 0===Yc?void 0:Yc.unit)){cb=void 0;break a}}cb={signal:"ceil(".concat(Nb.signal,"/40)")}}}return cb},title:c=>{var {axis:t,model:L,channel:ka}=c;if(void 0!==t.title)return t.title;c=Lh(L,ka);if(void 0!==c)return c;c=L.typedFieldDef(ka);const sa=L.fieldDef("x"===ka?"x2":"y2");return jg(c?
[Ea(c)]:[],$b(sa)?[Ea(sa)]:[])},values:c=>{var {axis:t,fieldOrDatumDef:L}=c;c=t.values;c=Je(c)?Wc(L,c):Dc(c)?c:void 0;return c},zindex:c=>{var {axis:t,fieldOrDatumDef:L,mark:ka}=c,sa;c=null!==(sa=t.zindex)&&void 0!==sa?sa:"rect"===ka&&We(L)?1:0;return c}};class ml extends tg{clone(){return new ml(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t;jc(this,"_dependentFields",void 0);this._dependentFields=wh(this.transform.calculate)}static parseAllForSortIndex(c,t){t.forEachFieldDef((L,
ka)=>{if(Qd(L)&&yc(L.sort)){const {field:Ba,timeUnit:cb}=L;var sa=L.sort;sa=sa.map((nb,Gb)=>"".concat(Ze({field:Ba,timeUnit:cb,equal:nb})," ? ").concat(Gb," : ")).join("")+sa.length;c=new ml(c,{calculate:sa,as:oh(L,ka,{forAs:!0})})}});return c}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(F(this.transform))}}const Zl=["row","column"],
Ql=["header","footer"],Bn={column:{start:0,end:1},row:{start:1,end:0}},Cn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},
{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),om=Hd(Cn);class cn extends Uj{}const qm={symbols:function(c,t){var {fieldOrDatumDef:L,model:ka,channel:sa,legendCmpt:Ba,legendType:cb}=t,nb,Gb,Nb,lc;if("symbol"===cb){var {markDef:Yc,encoding:hd,config:qd,mark:Md}=ka,Rd=Yc.filled&&"trail"!==Md;t=Object.assign({},Qe({},ka,$e),kh(ka,{filled:Rd}));var Ee=null!==(nb=Ba.get("symbolOpacity"))&&void 0!==nb?nb:qd.legend.symbolOpacity;nb=null!==
(Gb=Ba.get("symbolFillColor"))&&void 0!==Gb?Gb:qd.legend.symbolFillColor;Gb=null!==(Nb=Ba.get("symbolStrokeColor"))&&void 0!==Nb?Nb:qd.legend.symbolStrokeColor;Nb=void 0===Ee?null!==(lc=rk(hd.opacity))&&void 0!==lc?lc:Yc.opacity:void 0;if(t.fill)if("fill"===sa||Rd&&"color"===sa)delete t.fill;else if(t.fill.field)if(nb)delete t.fill;else{var Hf;t.fill=$d(null!==(Hf=qd.legend.symbolBaseFillColor)&&void 0!==Hf?Hf:"black");t.fillOpacity=$d(null!==Nb&&void 0!==Nb?Nb:1)}else if(Je(t.fill)){var se,Ef,Yd;
if(lc=null!==(se=null!==(Ef=Oh(null!==(Yd=hd.fill)&&void 0!==Yd?Yd:hd.color))&&void 0!==Ef?Ef:Yc.fill)&&void 0!==se?se:Rd&&Yc.color)t.fill=$d(lc)}t.stroke&&("stroke"===sa||!Rd&&"color"===sa?delete t.stroke:t.stroke.field||Gb?delete t.stroke:Je(t.stroke)&&(se=Da(Oh(hd.stroke||hd.color),Yc.stroke,Rd?Yc.color:void 0))&&(t.stroke={value:se}));"opacity"!==sa&&((se=$b(L)&&vi(ka,Ba,L))?t.opacity=[Object.assign({},{test:se},$d(null!==Nb&&void 0!==Nb?Nb:1)),$d(qd.legend.unselectedOpacity)]:Nb&&(t.opacity=
$d(Nb)));t=Object.assign({},t,c);return P(t)?void 0:t}},gradient:function(c,t){var {model:L,legendType:ka,legendCmpt:sa}=t,Ba;if("gradient"===ka){var {config:cb,markDef:nb,encoding:Gb}=L;t={};var Nb=void 0===(null!==(Ba=sa.get("gradientOpacity"))&&void 0!==Ba?Ba:cb.legend.gradientOpacity)?rk(Gb.opacity)||nb.opacity:void 0;Nb&&(t.opacity=$d(Nb));t=Object.assign({},t,c);return P(t)?void 0:t}},labels:function(c,t){var {fieldOrDatumDef:L,model:ka,channel:sa,legendCmpt:Ba}=t;t=ka.legend(sa)||{};const cb=
ka.config;var nb=$b(L)?vi(ka,Ba,L):void 0;nb=nb?[{test:nb,value:1},{value:cb.legend.unselectedOpacity}]:void 0;const {format:Gb,formatType:Nb}=t;t=Gc(Nb)?Fe({fieldOrDatumDef:L,field:"datum.value",format:Gb,formatType:Nb,config:cb}):void 0;c=Object.assign({},nb?{opacity:nb}:{},t?{text:t}:{},c);return P(c)?void 0:c},entries:function(c,t){({legendCmpt:t}=t);t=t.get("selections");return(null===t||void 0===t?0:t.length)?Object.assign({},c,{fill:{value:"transparent"}}):c}},pm={direction:c=>{({direction:c}=
c);return c},format:c=>{var {fieldOrDatumDef:t,legend:L,config:ka}=c;const {format:sa,formatType:Ba}=L;return ue(t,t.type,sa,Ba,ka,!1)},formatType:c=>{var {legend:t,fieldOrDatumDef:L,scaleType:ka}=c;({formatType:c}=t);return lf(c,L,ka)},gradientLength:c=>{var t,L;const {legend:ka,legendConfig:sa}=c;if(null!==(t=null!==(L=ka.gradientLength)&&void 0!==L?L:sa.gradientLength)&&void 0!==t)c=t;else{{var {legendConfig:Ba,model:cb,direction:nb,orient:Gb,scaleType:Nb}=c;const {gradientHorizontalMaxLength:lc,
gradientHorizontalMinLength:Yc,gradientVerticalMaxLength:hd,gradientVerticalMinLength:qd}=Ba;c=Nb in th?"horizontal"===nb?"top"===Gb||"bottom"===Gb?$i(cb,"width",Yc,lc):Yc:$i(cb,"height",qd,hd):void 0}}return c},labelOverlap:c=>{var {legend:t,legendConfig:L,scaleType:ka}=c,sa,Ba;c=null!==(sa=null!==(Ba=t.labelOverlap)&&void 0!==Ba?Ba:L.labelOverlap)&&void 0!==sa?sa:G(["quantile","threshold","log","symlog"],ka)?"greedy":void 0;return c},symbolType:c=>{var {legend:t,markDef:L,channel:ka,encoding:sa}=
c,Ba;if(null!==(Ba=t.symbolType)&&void 0!==Ba)var cb=Ba;else a:{c=L.type;Ba=L.shape;if("shape"!==ka&&(Ba=null!==(cb=Oh(sa.shape))&&void 0!==cb?cb:Ba)){cb=Ba;break a}switch(c){case "bar":case "rect":case "image":case "square":cb="square";break a;case "line":case "trail":case "rule":cb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":cb="circle";break a}cb=void 0}return cb},title:c=>{var {fieldOrDatumDef:t,config:L}=c;return mf(t,L,{allowDisabling:!0})},
type:c=>{var {legendType:t,scaleType:L,channel:ka}=c;if($a(ka)&&L in th){if("gradient"===t)return}else if("symbol"===t)return;return t},values:c=>{var {fieldOrDatumDef:t,legend:L}=c;c=L.values;c=Je(c)?Wc(t,c):Dc(c)?c:void 0;return c}},dn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class rm extends Uj{constructor(c,t,L,ka){super(Object.assign({},t),{name:c});this.specifiedProjection=t;this.size=
L;this.data=ka;jc(this,"merged",!1)}get isFit(){return!!this.data}}class xj extends tg{clone(){return new xj(null,rf(this.bins))}constructor(c,t){super(c);this.bins=t}static makeFromEncoding(c,t){const L=t.reduceFieldDef((ka,sa,Ba)=>{if(Id(sa)&&pc(sa.bin)){const {key:cb,binComponent:nb}=Qg(sa,sa.bin,t);ka[cb]=Object.assign({},nb,ka[cb],Uk(t,sa,Ba,t.config))}return ka},{});return P(L)?null:new xj(c,L)}static makeFromTransform(c,t,L){const {key:ka,binComponent:sa}=Qg(t,t.bin,L);return new xj(c,{[ka]:sa})}merge(c,
t){for(const L of Hd(c.bins))L in this.bins?(t(c.bins[L].signal,this.bins[L].signal),this.bins[L].as=ja([...this.bins[L].as,...c.bins[L].as],F)):this.bins[L]=c.bins[L];for(const L of c.children)c.removeChild(L),L.parent=this;c.remove()}producedFields(){return new Set(Tg(this.bins).map(c=>c.as).flat(2))}dependentFields(){return new Set(Tg(this.bins).map(c=>c.field))}hash(){return"Bin ".concat(F(this.bins))}assemble(){return Tg(this.bins).flatMap(c=>{const t=[],[L,...ka]=c.as;var sa=c.bin,Ba=Object.assign({},
sa);sa=sa.extent;Ba=(delete Ba.extent,Ba);Ba=Object.assign({},{type:"bin",field:kb(c.field),as:L,signal:c.signal},mb(sa)?{extent:null}:{extent:sa},c.span?{span:{signal:"span(".concat(c.span,")")}}:{},Ba);!sa&&c.extentSignal&&(t.push({type:"extent",field:kb(c.field),signal:c.extentSignal}),Ba.extent={signal:c.extentSignal});t.push(Ba);for(const cb of ka)for(sa=0;2>sa;sa++)t.push({type:"formula",expr:kd({field:L[sa]},{expr:"datum"}),as:cb[sa]});c.formula&&t.push({type:"formula",expr:c.formula,as:c.formulaAs});
return t})}}class cj extends tg{clone(){return new cj(null,new Set(this.dimensions),rf(this.measures))}constructor(c,t,L){super(c);this.dimensions=t;this.measures=L}get groupBy(){return this.dimensions}static makeFromEncoding(c,t){let L=!1;t.forEachFieldDef(Ba=>{Ba.aggregate&&(L=!0)});const ka={},sa=new Set;if(!L)return null;t.forEachFieldDef((Ba,cb)=>{const {aggregate:nb,field:Gb}=Ba;if(nb)if("count"===nb){var Nb;ka["*"]=null!==(Nb=ka["*"])&&void 0!==Nb?Nb:{};ka["*"].count=new Set([kd(Ba,{forAs:!0})])}else{if(qa(nb)||
Fa(nb)){var lc;Ba=qa(nb)?"argmin":"argmax";Nb=nb[Ba];ka[Nb]=null!==(lc=ka[Nb])&&void 0!==lc?lc:{};ka[Nb][Ba]=new Set([kd({op:Ba,field:Nb},{forAs:!0})])}else{var Yc;ka[Gb]=null!==(Yc=ka[Gb])&&void 0!==Yc?Yc:{};ka[Gb][nb]=new Set([kd(Ba,{forAs:!0})])}if(rh[cb]&&"unaggregated"===t.scaleDomain(cb)){var hd;ka[Gb]=null!==(hd=ka[Gb])&&void 0!==hd?hd:{};ka[Gb].min=new Set([kd({field:Gb,aggregate:"min"},{forAs:!0})]);ka[Gb].max=new Set([kd({field:Gb,aggregate:"max"},{forAs:!0})])}}else lc=ng(t)?t.encoding[Ha(cb)]:
void 0,Id(Ba)&&ng(t)&&Cb(cb,Ba,lc,t.stack,t.markDef,t.config)?(sa.add(kd(Ba,{})),sa.add(kd(Ba,{suffix:"end"})),Ba.bin&&nd(Ba,cb)&&sa.add(kd(Ba,{binSuffix:"range"}))):cb in cl?(cb=db(cb),sa.add(t.getName(cb))):sa.add(kd(Ba))});return 0===sa.size+Hd(ka).length?null:new cj(c,sa,ka)}static makeFromTransform(c,t){const L=new Set,ka={};for(const nb of t.aggregate){const {op:Gb,field:Nb,as:lc}=nb;if(Gb)if("count"===Gb){var sa;ka["*"]=null!==(sa=ka["*"])&&void 0!==sa?sa:{};ka["*"].count=new Set([lc?lc:kd(nb,
{forAs:!0})])}else{var Ba;ka[Nb]=null!==(Ba=ka[Nb])&&void 0!==Ba?Ba:{};ka[Nb][Gb]=new Set([lc?lc:kd(nb,{forAs:!0})])}}for(const nb of null!==(cb=t.groupby)&&void 0!==cb?cb:[]){var cb;L.add(nb)}return 0===L.size+Hd(ka).length?null:new cj(c,L,ka)}merge(c){if(fa(this.dimensions,c.dimensions)){var t=this.measures;c=c.measures;for(const ka of Hd(c)){const sa=c[ka];for(const Ba of Hd(sa))if(ka in t){var L;t[ka][Ba]=new Set([...null!==(L=t[ka][Ba])&&void 0!==L?L:[],...sa[Ba]])}else t[ka]={[Ba]:sa[Ba]}}return!0}kj.debug(...["different dimensions, cannot merge"]);
return!1}addDimensions(c){c.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Hd(this.measures)])}producedFields(){const c=new Set;for(const t of Hd(this.measures))for(const L of Hd(this.measures[t])){const ka=this.measures[t][L];0===ka.size?c.add("".concat(L,"_").concat(t)):ka.forEach(c.add,c)}return c}hash(){return"Aggregate ".concat(F({dimensions:this.dimensions,measures:this.measures}))}assemble(){const c=[],t=[],L=[];for(const ka of Hd(this.measures))for(const sa of Hd(this.measures[ka]))for(const Ba of this.measures[ka][sa])L.push(Ba),
c.push(sa),t.push("*"===ka?null:kb(ka));return{type:"aggregate",groupby:[...this.dimensions].map(kb),ops:c,fields:t,as:L}}}class Wk extends tg{constructor(c,t,L,ka){super(c);this.model=t;this.name=L;this.data=ka;jc(this,"column",void 0);jc(this,"row",void 0);jc(this,"facet",void 0);jc(this,"childModel",void 0);for(const sa of zh)if(c=t.facet[sa]){const {bin:Ba,sort:cb}=c;this[sa]=Object.assign({},{name:t.getName("".concat(sa,"_domain")),fields:[kd(c),...pc(Ba)?[kd(c,{binSuffix:"end"})]:[]]},qe(cb)?
{sortField:cb}:Je(cb)?{sortIndexField:oh(c,sa)}:{})}this.childModel=t.child}hash(){let c="Facet";for(const t of zh)this[t]&&(c+=" ".concat(t.charAt(0),":").concat(F(this[t])));return c}get fields(){const c=[];for(const L of zh){var t;(null===(t=this[L])||void 0===t?0:t.fields)&&c.push(...this[L].fields)}return c}dependentFields(){const c=new Set(this.fields);for(const t of zh)this[t]&&(this[t].sortField&&c.add(this[t].sortField.field),this[t].sortIndexField&&c.add(this[t].sortIndexField));return c}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const c=
{};for(const ka of Wg){var t=this.childModel.component.scales[ka];if(t&&!t.merged){var L=t.get("type");t=t.get("range");L in nh&&uc(t)&&(L=Af(this.childModel,ka),(L=cg(L))?c[ka]=L:Lb(Lc(ka)))}}return c}assembleRowColumnHeaderData(c,t,L){const ka={row:"y",column:"x"}[c],sa=[],Ba=[],cb=[];L&&L[ka]&&(t?(sa.push("distinct_".concat(L[ka])),Ba.push("max")):(sa.push(L[ka]),Ba.push("distinct")),cb.push("distinct_".concat(L[ka])));const {sortField:nb,sortIndexField:Gb}=this[c];if(nb){const {op:Nb="min",field:lc}=
nb;sa.push(lc);Ba.push(Nb);cb.push(kd(nb,{forAs:!0}))}else Gb&&(sa.push(Gb),Ba.push("max"),cb.push(Gb));return{name:this[c].name,source:null!==t&&void 0!==t?t:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[c].fields},sa.length?{fields:sa,ops:Ba,as:cb}:{})]}}assembleFacetHeaderData(c){const {columns:t}=this.model.layout,{layoutHeaders:L}=this.model.component,ka=[],sa={};for(const lc of Zl){for(const Yc of Ql){var Ba,cb=null!==(Ba=L[lc]&&L[lc][Yc])&&void 0!==Ba?Ba:[];for(const hd of cb){var nb;
if(0<(null===(nb=hd.axes)||void 0===nb?void 0:nb.length)){sa[lc]=!0;break}}}sa[lc]&&(cb='length(data("'.concat(this.facet.name,'"))'),cb="row"===lc?t?{signal:"ceil(".concat(cb," / ").concat(t,")")}:1:t?{signal:"min(".concat(cb,", ").concat(t,")")}:{signal:cb},ka.push({name:"".concat(this.facet.name,"_").concat(lc),transform:[{type:"sequence",start:0,stop:cb}]}))}const {row:Gb,column:Nb}=sa;(Gb||Nb)&&ka.unshift(this.assembleRowColumnHeaderData("facet",null,c));return ka}assemble(){const c=[];var t=
null;const L=this.getChildIndependentFieldsWithStep(),{column:ka,row:sa,facet:Ba}=this;if(ka&&sa&&(L.x||L.y)){var cb,nb;t="cross_".concat(this.column.name,"_").concat(this.row.name);const Gb=[].concat(null!==(cb=L.x)&&void 0!==cb?cb:[],null!==(nb=L.y)&&void 0!==nb?nb:[]);cb=Gb.map(()=>"distinct");c.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Gb,ops:cb}]})}for(const Gb of["column","row"])this[Gb]&&c.push(this.assembleRowColumnHeaderData(Gb,t,L));Ba&&(t=this.assembleFacetHeaderData(L))&&
c.push(...t);return c}}class Fh extends tg{clone(){return new Fh(null,rf(this._parse))}constructor(c,t){super(c);jc(this,"_parse",void 0);this._parse=t}hash(){return"Parse ".concat(F(this._parse))}static makeExplicit(c,t,L){let ka={};t=t.data;!Xe(t)&&t&&t.format&&t.format.parse&&(ka=t.format.parse);return this.makeWithAncestors(c,ka,{},L)}static makeWithAncestors(c,t,L,ka){for(var sa of Hd(L)){const cb=ka.getWithExplicit(sa);void 0!==cb.value&&(cb.explicit||cb.value===L[sa]||"derived"===cb.value||
"flatten"===L[sa]?delete L[sa]:Lb(Wd(sa,L[sa],cb.value)))}for(var Ba of Hd(t))sa=ka.get(Ba),void 0!==sa&&(sa===t[Ba]?delete t[Ba]:Lb(Wd(Ba,t[Ba],sa)));t=new Uj(t,L);ka.copyAll(t);L={};for(const cb of Hd(t.combine()))Ba=t.get(cb),null!==Ba&&(L[cb]=Ba);return 0===Hd(L).length||ka.parseNothing?null:new Fh(c,L)}get parse(){return this._parse}merge(c){this._parse=Object.assign({},this._parse,c.parse);c.remove()}assembleFormatParse(){const c={};for(const t of Hd(this._parse)){const L=this._parse[t];1===
Ya(t)&&(c[t]=L)}return c}producedFields(){return new Set(Hd(this._parse))}dependentFields(){return new Set(Hd(this._parse))}assembleTransforms(c){c=void 0===c?!1:c;return Hd(this._parse).filter(t=>c?1<Ya(t):!0).map(t=>{const L=xg(t,this._parse[t]);return L?{type:"formula",expr:L,as:Ta(t)}:null}).filter(t=>null!==t)}}class xk extends tg{clone(){return new xk(null)}constructor(c){super(c)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class zl extends tg{clone(){return new zl(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(F(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Al extends tg{clone(){return new Al(null,this.params)}constructor(c,t){super(c);this.params=t}dependentFields(){return new Set}producedFields(){var c;return new Set([null!==(c=this.params.as)&&
void 0!==c?c:"data"])}hash(){return"Hash ".concat(F(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class wk extends tg{constructor(c){var t;super(null);jc(this,"_data",void 0);jc(this,"_name",void 0);jc(this,"_generator",void 0);c=null!==(t=c)&&void 0!==t?t:{name:"source"};let L;Xe(c)||(L=c.format?Object.assign({},M(c.format,["parse"])):{});if("values"in c)this._data={values:c.values};else if("url"in c)this._data={url:c.url},L.type||(t=/(?:\.([^.]+))?$/.exec(c.url)[1],
G(["json","csv","tsv","dsv","topojson"],t)||(t="json"),L.type=t);else if("sphere"in c)this._data={values:[{type:"Sphere"}]};else if(dg(c)||Xe(c))this._data={};this._generator=Xe(c);c.name&&(this._name=c.name);L&&!P(L)&&(this._data.format=L)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(c){this._name=c}set parent(c){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Gl=new WeakMap;class $l{constructor(){Gl.set(this,{writable:!0,value:void 0});rc(this,Gl,!1)}setModified(){rc(this,Gl,!0)}get modifiedFlag(){var c=Gl.get(this);if(!c)throw new TypeError("attempted to get private field on non-instance");c=c.get?c.get.call(this):c.value;return c}}class yk extends $l{getNodeDepths(c,
t,L){L.set(c,t);for(const ka of c.children)this.getNodeDepths(ka,t+1,L);return L}optimize(c){c=[...this.getNodeDepths(c,0,new Map).entries()].sort((t,L)=>L[1]-t[1]);for(const t of c)this.run(t[0]);return this.modifiedFlag}}class am extends $l{optimize(c){this.run(c);for(const t of c.children)this.optimize(t);return this.modifiedFlag}}class on extends am{mergeNodes(c,t){const L=t.shift();for(const ka of t)c.removeChild(ka),ka.parent=L,ka.remove()}run(c){const t=c.children.map(ka=>ka.hash()),L={};for(let ka=
0;ka<t.length;ka++)void 0===L[t[ka]]?L[t[ka]]=[c.children[ka]]:L[t[ka]].push(c.children[ka]);for(const ka of Hd(L))1<L[ka].length&&(this.setModified(),this.mergeNodes(c,L[ka]))}}class fn extends am{constructor(c){super();jc(this,"requiresSelectionId",void 0);this.requiresSelectionId=c&&bi(c)}run(c){!(c instanceof xk)||this.requiresSelectionId&&(b(c.parent)||c.parent instanceof cj||c.parent instanceof Fh)||(this.setModified(),c.remove())}}class kn extends $l{optimize(c){this.run(c,new Set);return this.modifiedFlag}run(c,
t){let L=new Set;c instanceof yj&&(L=c.producedFields(),ha(L,t)&&(this.setModified(),c.removeFormulas(t),0===c.producedFields.length&&c.remove()));for(const ka of c.children)this.run(ka,new Set([...t,...L]))}}class en extends am{constructor(){super()}run(c){c instanceof Eh&&!c.isRequired()&&(this.setModified(),c.remove())}}class hn extends yk{run(c){if(!(b(c)||1<c.numChildren()))for(const t of c.children)t instanceof Fh&&(c instanceof Fh?(this.setModified(),c.merge(t)):Z(c.producedFields(),t.dependentFields())||
(this.setModified(),t.swapWithParent()))}}class ln extends yk{run(c){const t=[...c.children];var L=c.children.filter(sa=>sa instanceof Fh);if(1<c.numChildren()&&1<=L.length){const sa={};var ka=new Set;for(const Ba of L){L=Ba.parse;for(const cb of Hd(L))cb in sa?sa[cb]!==L[cb]&&ka.add(cb):sa[cb]=L[cb]}for(const Ba of ka)delete sa[Ba];if(!P(sa)){this.setModified();ka=new Fh(c,sa);for(const Ba of t){if(Ba instanceof Fh)for(const cb of Hd(sa))delete Ba.parse[cb];c.removeChild(Ba);Ba.parent=ka;Ba instanceof
Fh&&0===Hd(Ba.parse).length&&Ba.remove()}}}}}class gn extends yk{run(c){c instanceof Eh||0<c.numChildren()||c instanceof Wk||c instanceof wk||(this.setModified(),c.remove())}}class nn extends yk{run(c){c=c.children.filter(L=>L instanceof yj);const t=c.pop();for(const L of c)this.setModified(),t.merge(L)}}class mn extends yk{run(c){var t=c.children.filter(sa=>sa instanceof cj);const L={};for(var ka of t)t=F(ka.groupBy),t in L||(L[t]=[]),L[t].push(ka);for(const sa of Hd(L))if(ka=L[sa],1<ka.length){t=
ka.pop();for(const Ba of ka)t.merge(Ba)&&(c.removeChild(Ba),Ba.parent=t,Ba.remove(),this.setModified())}}}class jn extends yk{constructor(c){super();this.model=c}run(c){var t=!(b(c)||c instanceof kl||c instanceof Fh||c instanceof xk);const L=[],ka=[];for(const sa of c.children)sa instanceof xj&&(t&&!Z(c.producedFields(),sa.dependentFields())?L.push(sa):ka.push(sa));if(0<L.length){t=L.pop();for(const sa of L)t.merge(sa,this.model.renameSignal.bind(this.model));this.setModified();c instanceof xj?c.merge(t,
this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(1<ka.length){c=ka.pop();for(const sa of ka)c.merge(sa,this.model.renameSignal.bind(this.model));this.setModified()}}}class pn extends yk{run(c){var t=[...c.children];if(K(t,sa=>sa instanceof Eh)&&!(1>=c.numChildren())){var L=[];for(const sa of t)if(sa instanceof Eh){for(t=sa;1===t.numChildren();){const [Ba]=t.children;if(Ba instanceof Eh)t=Ba;else break}L.push(...t.children);if(ka)c.removeChild(sa),sa.parent=ka.parent,ka.parent.removeChild(ka),
ka.parent=t,this.setModified();else var ka=t}else L.push(sa);if(L.length){this.setModified();for(const sa of L)sa.parent.removeChild(sa),sa.parent=ka}}}}class Xk extends tg{clone(){return new Xk(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=ja(this.transform.groupby.concat(c),t=>t)}dependentFields(){const c=new Set;this.transform.groupby&&this.transform.groupby.forEach(c.add,c);this.transform.joinaggregate.map(t=>t.field).filter(t=>void 0!==
t).forEach(c.add,c);return c}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:kd(c)}hash(){return"JoinAggregateTransform ".concat(F(this.transform))}assemble(){const c=[],t=[],L=[];for(var ka of this.transform.joinaggregate)t.push(ka.op),L.push(this.getDefaultName(ka)),c.push(void 0===ka.field?null:ka.field);ka=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:L,ops:t,fields:c},
void 0!==ka?{groupby:ka}:{})}}class Tj extends tg{clone(){return new Tj(null,rf(this._stack))}constructor(c,t){super(c);jc(this,"_stack",void 0);this._stack=t}static makeFromTransform(c,t){const {stack:L,groupby:ka,as:sa,offset:Ba="zero"}=t;var cb=[];const nb=[];if(void 0!==t.sort)for(const Gb of t.sort)cb.push(Gb.field),nb.push(Da(Gb.order,"ascending"));cb={field:cb,order:nb};t=X(sa)?sa:e(sa)?[sa,sa+"_end"]:[t.stack+"_start",t.stack+"_end"];return new Tj(c,{stackField:L,groupby:ka,offset:Ba,sort:cb,
facetby:[],as:t})}static makeFromEncoding(c,t){var L=t.stack,{encoding:ka}=t;if(!L)return null;const {groupbyChannel:sa,fieldChannel:Ba,offset:cb,impute:nb}=L;let Gb;sa&&(Gb=nf(ka[sa]));L=p(t);ka=t.encoding.order;ka=Je(ka)||$b(ka)?Lf(ka):L.reduce((Nb,lc)=>{Nb.field.push(lc);Nb.order.push("y"===Ba?"descending":"ascending");return Nb},{field:[],order:[]});return new Tj(c,{dimensionFieldDef:Gb,stackField:t.vgField(Ba),facetby:[],stackby:L,sort:ka,offset:cb,impute:nb,as:[t.vgField(Ba,{suffix:"start",
forAs:!0}),t.vgField(Ba,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(c){this._stack.facetby.push(...c)}dependentFields(){const c=new Set;c.add(this._stack.stackField);this.getGroupbyFields().forEach(c.add,c);this._stack.facetby.forEach(c.add,c);this._stack.sort.field.forEach(c.add,c);return c}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(F(this._stack))}getGroupbyFields(){const {dimensionFieldDef:c,impute:t,groupby:L}=this._stack;return c?
c.bin?t?[kd(c,{binSuffix:"mid"})]:[kd(c,{}),kd(c,{binSuffix:"end"})]:[kd(c)]:null!==L&&void 0!==L?L:[]}assemble(){const c=[],{facetby:t,dimensionFieldDef:L,stackField:ka,stackby:sa,sort:Ba,offset:cb,impute:nb,as:Gb}=this._stack;if(nb&&L){const {band:Nb=.5,bin:lc}=L;lc&&c.push({type:"formula",expr:"".concat(Nb,"*")+kd(L,{expr:"datum"})+"+".concat(1-Nb,"*")+kd(L,{expr:"datum",binSuffix:"end"}),as:kd(L,{binSuffix:"mid",forAs:!0})});c.push({type:"impute",field:ka,groupby:[...sa,...t],key:kd(L,{binSuffix:"mid"}),
method:"value",value:0})}c.push({type:"stack",groupby:[...this.getGroupbyFields(),...t],field:ka,sort:Ba,as:Gb,offset:cb});return c}}class ll extends tg{clone(){return new ll(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){this.transform.groupby=ja(this.transform.groupby.concat(c),t=>t)}dependentFields(){var c,t;const L=new Set;(null!==(c=this.transform.groupby)&&void 0!==c?c:[]).forEach(L.add,L);(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(ka=>L.add(ka.field));
this.transform.window.map(ka=>ka.field).filter(ka=>void 0!==ka).forEach(L.add,L);return L}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(c){var t;return null!==(t=c.as)&&void 0!==t?t:kd(c)}hash(){return"WindowTransform ".concat(F(this.transform))}assemble(){const c=[],t=[],L=[],ka=[];for(var sa of this.transform.window)t.push(sa.op),L.push(this.getDefaultName(sa)),ka.push(void 0===sa.param?null:sa.param),c.push(void 0===sa.field?null:sa.field);sa=this.transform.frame;
const Ba=this.transform.groupby;if(sa&&null===sa[0]&&null===sa[1]&&t.every(Nb=>na(Nb)))return Object.assign({},{type:"joinaggregate",as:L,ops:t,fields:c},void 0!==Ba?{groupby:Ba}:{});const cb=[],nb=[];if(void 0!==this.transform.sort)for(const Nb of this.transform.sort){var Gb;cb.push(Nb.field);nb.push(null!==(Gb=Nb.order)&&void 0!==Gb?Gb:"ascending")}Gb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:ka,as:L,ops:t,fields:c,sort:{field:cb,order:nb}},void 0!==Gb?{ignorePeers:Gb}:
{},void 0!==Ba?{groupby:Ba}:{},void 0!==sa?{frame:sa}:{})}}class qi{constructor(c){jc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:c})}static fromName(c,t){return new qi(()=>c(t))}}class tm extends Uj{constructor(c,t){super({},{name:c});jc(this,"merged",!1);this.setWithExplicit("type",t)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:K(this.get("domains"),c=>Je(c)&&2===c.length&&0>=c[0]&&0<=c[1])}}const qn=["range","scheme"],sm={bins:c=>{var {model:t,
fieldOrDatumDef:L}=c;return $b(L)?Bk(t,L):void 0},interpolate:c=>{var {channel:t,fieldOrDatumDef:L}=c;c=L.type;c=G(["color","fill","stroke"],t)&&"nominal"!==c?"hcl":void 0;return c},nice:c=>{var {scaleType:t,channel:L,fieldOrDatumDef:ka}=c;var sa;c=(null===(sa=nf(ka))||void 0===sa?0:sa.bin)||G([Cg.TIME,Cg.UTC],t)?void 0:L in fg?!0:void 0;return c},padding:c=>{var {channel:t,scaleType:L,fieldOrDatumDef:ka,markDef:sa,config:Ba}=c;a:{c=Ba.scale;var cb=Ba.bar;if(t in fg){if(L in th){if(void 0!==c.continuousPadding){c=
c.continuousPadding;break a}const {type:nb,orient:Gb}=sa;if("bar"===nb&&(!$b(ka)||!ka.bin&&!ka.timeUnit)&&("vertical"===Gb&&"x"===t||"horizontal"===Gb&&"y"===t)){c=cb.continuousBandSize;break a}}if(L===Cg.POINT){c=c.pointPadding;break a}}c=void 0}return c},paddingInner:c=>{var {scalePadding:t,channel:L,markDef:ka,config:sa}=c;if(void 0!==t)c=void 0;else if(L in fg){const {bandPaddingInner:Ba,barBandPaddingInner:cb,rectBandPaddingInner:nb}=sa.scale;c=Da(Ba,"bar"===ka.type?cb:nb)}else c=void 0;return c},
paddingOuter:c=>{var {scalePadding:t,channel:L,scaleType:ka,scalePaddingInner:sa,config:Ba}=c;void 0!==t?c=void 0:L in fg&&ka===Cg.BAND?({bandPaddingOuter:c}=Ba.scale,c=Da(c,Dc(sa)?{signal:"".concat(sa.signal,"/2")}:sa/2)):c=void 0;return c},reverse:c=>{var {fieldOrDatumDef:t,scaleType:L,channel:ka,config:sa}=c;c=$b(t)?t.sort:void 0;var Ba=sa.scale;c="x"===ka&&void 0!==Ba.xReverse?L in Jh&&"descending"===c?Dc(Ba.xReverse)?{signal:"!".concat(Ba.xReverse.signal)}:!Ba.xReverse:Ba.xReverse:L in Jh&&"descending"===
c?!0:void 0;return c},zero:c=>{var {channel:t,fieldOrDatumDef:L,domain:ka,markDef:sa,scaleType:Ba}=c;a:if(ka&&"unaggregated"!==ka&&Ba in Jh){if(Je(ka)&&(c=ka[ka.length-1],0>=ka[0]&&0<=c)){c=!0;break a}c=!1}else if("size"!==t||"quantitative"!==L.type||Ba in zk)if($b(L)&&L.bin||!G([...Wg,...bh],t))c=!1;else{const {orient:cb,type:nb}=sa;c=G(["bar","area","line","trail"],nb)&&("horizontal"===cb&&"y"===t||"vertical"===cb&&"x"===t)?!1:!0}else c=!0;return c}},rn=Re((c,t)=>ik[c]-ik[t]);class bm{constructor(){jc(this,
"nameMap",void 0);this.nameMap={}}rename(c,t){this.nameMap[c]=t}has(c){return void 0!==this.nameMap[c]}get(c){for(;this.nameMap[c]&&c!==this.nameMap[c];)c=this.nameMap[c];return c}}class cm{constructor(c,t,L,ka,sa,Ba,cb){var nb,Gb;this.type=t;this.parent=L;this.config=sa;jc(this,"name",void 0);jc(this,"size",void 0);jc(this,"title",void 0);jc(this,"description",void 0);jc(this,"data",void 0);jc(this,"transforms",void 0);jc(this,"layout",void 0);jc(this,"scaleNameMap",void 0);jc(this,"projectionNameMap",
void 0);jc(this,"signalNameMap",void 0);jc(this,"component",void 0);jc(this,"view",void 0);jc(this,"children",[]);jc(this,"correctDataNames",Nb=>{Nb.from&&Nb.from.data&&(Nb.from.data=this.lookupDataSource(Nb.from.data));Nb.from&&Nb.from.facet&&Nb.from.facet.data&&(Nb.from.facet.data=this.lookupDataSource(Nb.from.facet.data));return Nb});this.parent=L;this.config=sa;this.view=kf(cb);this.name=null!==(nb=c.name)&&void 0!==nb?nb:ka;this.title=de(c.title)?{text:c.title}:c.title?this.initTitle(c.title):
void 0;this.scaleNameMap=L?L.scaleNameMap:new bm;this.projectionNameMap=L?L.projectionNameMap:new bm;this.signalNameMap=L?L.signalNameMap:new bm;this.data=c.data;this.description=c.description;this.transforms=$f(null!==(Gb=c.transform)&&void 0!==Gb?Gb:[]);this.layout="layer"===t||"unit"===t?{}:bc(c,t,sa);this.component={data:{sources:L?L.component.data.sources:[],outputNodes:L?L.component.data.outputNodes:{},outputNodeRefCounts:L?L.component.data.outputNodeRefCounts:{},isFaceted:"facet"in c||L&&L.component.data.isFaceted&&
void 0===c.data},layoutSize:new Uj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},Ba?rf(Ba):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(c){const t=Hd(c),L={text:Gd(c.text)};for(const ka of t)L[ka]=Gd(c[ka]);return L}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:c}={};Zk(this);ng(this)?Ib(this):dc(this);for(const t of Ol)Vk(this,t);c||tk(this)}parseProjection(){bj(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Mi(this)}assembleGroupStyle(){if("unit"===
this.type||"layer"===this.type){var c,t;return null!==(c=null===(t=this.view)||void 0===t?void 0:t.style)&&void 0!==c?c:"cell"}}assembleEncodeFromView(c){c=Object.assign({},c);c=(delete c.style,c);const t={};for(const L of Hd(c)){const ka=c[L];void 0!==ka&&(t[L]=$d(ka))}return t}assembleGroupEncodeEntry(c){let t={};this.view&&(t=this.assembleEncodeFromView(this.view));if(!c&&(this.description&&(t.description=$d(this.description)),"unit"===this.type||"layer"===this.type)){var L;return Object.assign({},
{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(L=t)&&void 0!==L?L:{})}return P(t)?void 0:t}assembleLayout(){if(this.layout){var c=this.layout,t=Object.assign({},c);c=c.spacing;t=(delete t.spacing,t);var {component:L,config:ka}=this;{var sa=L.layoutHeaders;const nb={};for(cb of zh){var Ba=sa[cb];if(null===Ba||void 0===Ba?0:Ba.facetFieldDef){const {titleAnchor:Gb,titleOrient:Nb}=ej(["titleAnchor","titleOrient"],Ba.facetFieldDef.header,ka,cb);Ba=Mh(cb,Nb);const lc=
Bn[Ba][Gb];void 0!==lc&&(nb[Ba]=lc)}}var cb=P(nb)?void 0:nb}return Object.assign({},{padding:c},this.assembleDefaultLayout(),t,cb?{titleBand:cb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:c}=this.component;let t=[];for(const L of zh)c[L].title&&t.push(Bj(this,L));for(const L of Zl)t=t.concat(Og(this,L));return t}assembleAxes(){return xh(this.component.axes,this.config)}assembleLegends(){return Ak(this)}assembleProjections(){var c=Lg(this)||Sg(this)?sk(this):ij(this);
return c}assembleTitle(){var c,t=null!==(c=this.title)&&void 0!==c?c:{};c=Object.assign({},t);t=t.encoding;c=(delete c.encoding,c);t=Object.assign({},Kd(this.config.title).nonMark,c,t?{encode:{update:t}}:{});if(t.text){if(G(["unit","layer"],this.type)){if(G(["middle",void 0],t.anchor)){var L;t.frame=null!==(L=t.frame)&&void 0!==L?L:"group"}}else{var ka;t.anchor=null!==(ka=t.anchor)&&void 0!==ka?ka:"start"}return P(t)?void 0:t}}assembleGroup(c){c=void 0===c?[]:c;const t={};c=c.concat(this.assembleSignals());
0<c.length&&(t.signals=c);if(c=this.assembleLayout())t.layout=c;t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());c=!this.parent||Rg(this.parent)?bg(this):[];0<c.length&&(t.scales=c);c=this.assembleAxes();0<c.length&&(t.axes=c);c=this.assembleLegends();0<c.length&&(t.legends=c);return t}getName(c){return V((this.name?this.name+"_":"")+c)}getDataName(c){return this.getName(zg[c].toLowerCase())}requestDataName(c){c=this.getDataName(c);const t=this.component.data.outputNodeRefCounts;
t[c]=(t[c]||0)+1;return c}getSizeSignalRef(c){if(Rg(this.parent)){var t=Yi(c),L=Fb(t);if((t=this.component.scales[L])&&!t.merged){var ka=t.get("type");const sa=t.get("range");if(ka in nh&&uc(sa)){c=t.get("name");ka=Af(this,L);if(ka=cg(ka))return L=kd({aggregate:"distinct",field:ka},{expr:"datum"}),{signal:pi(c,t,L)};Lb(Lc(L));return null}}}return{signal:this.signalNameMap.get(this.getName(c))}}lookupDataSource(c){const t=this.component.data.outputNodes[c];return t?t.getSource():c}getSignalName(c){return this.signalNameMap.get(c)}renameSignal(c,
t){this.signalNameMap.rename(c,t)}renameScale(c,t){this.scaleNameMap.rename(c,t)}renameProjection(c,t){this.projectionNameMap.rename(c,t)}scaleName(c,t){if(t)return this.getName(c);if(Kk[c]&&rh[c]&&this.component.scales[c]||this.scaleNameMap.has(this.getName(c)))return this.scaleNameMap.get(this.getName(c))}projectionName(c){if(c)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(c){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const t=this.component.scales[c];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(c):void 0}getSelectionComponent(c,t){let L=this.component.selection[c];!L&&this.parent&&(L=this.parent.getSelectionComponent(c,t));if(!L)throw Error('Cannot find a selection named "'.concat(t,'".'));return L}hasAxisOrientSignalRef(){var c,t;return(null===(c=this.component.axes.x)||void 0===c?void 0:c.some(L=>L.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(L=>L.hasOrientSignalRef()))}}
class Cm extends cm{vgField(c,t){t=void 0===t?{}:t;if(c=this.fieldDef(c))return kd(c,t)}reduceFieldDef(c,t){return cc(this.getMapping(),(L,ka,sa)=>(ka=nf(ka))?c(L,ka,sa):L,t)}forEachFieldDef(c,t){Jb(this.getMapping(),(L,ka)=>{(L=nf(L))&&c(L,ka)},t)}}class Tl extends tg{clone(){return new Tl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?
ka:"value",null!==(sa=c[1])&&void 0!==sa?sa:"density"]}dependentFields(){var c;return new Set([this.transform.density,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.density;t=(delete t.density,t);return Object.assign({},{type:"kde",field:c},t)}}class Bl extends tg{clone(){return new Bl(null,Object.assign({},this.filter))}constructor(c,
t){super(c);this.filter=t}static make(c,t){const {config:L,mark:ka,markDef:sa}=t;if("filter"!==ne("invalid",sa,L))return null;const Ba=t.reduceFieldDef((cb,nb,Gb)=>{(Gb=!!rh[Gb]&&t.getScaleComponent(Gb))&&Gb.get("type")in Jh&&"count"!==nb.aggregate&&!we(ka)&&(cb[nb.field]=nb);return cb},{});return Hd(Ba).length?new Bl(c,Ba):null}dependentFields(){return new Set(Hd(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(F(this.filter))}assemble(){const c=Hd(this.filter).reduce((t,
L)=>{L=this.filter[L];const ka=kd(L,{expr:"datum"});null!==L&&("temporal"===L.type?t.push("(isDate(".concat(ka,") || (isValid(").concat(ka,") \x26\x26 isFinite(+").concat(ka,")))")):"quantitative"===L.type&&(t.push("isValid(".concat(ka,")")),t.push("isFinite(+".concat(ka,")"))));return t},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null}}class Sl extends tg{clone(){return new Sl(this.parent,rf(this.transform))}constructor(c,t){super(c);this.transform=t;this.transform=rf(t);const {flatten:L,
as:ka=[]}=this.transform;this.transform.as=L.map((sa,Ba)=>{var cb;return null!==(cb=ka[Ba])&&void 0!==cb?cb:sa})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(F(this.transform))}assemble(){const {flatten:c,as:t}=this.transform;return{type:"flatten",fields:c,as:t}}}class Rl extends tg{clone(){return new Rl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=
rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:"key",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(F(this.transform))}assemble(){const {fold:c,as:t}=this.transform;return{type:"fold",fields:c,as:t}}}class nl extends tg{clone(){return new nl(null,rf(this.fields),this.geojson,this.signal)}static parseAll(c,
t){if(t.component.projection&&!t.component.projection.isFit)return c;let L=0;for(var ka of[["longitude","latitude"],["longitude2","latitude2"]]){const sa=ka.map(Ba=>{Ba=Aa(t.encoding[Ba]);return $b(Ba)?Ba.field:gd(Ba)?{expr:"".concat(Ba.datum)}:jd(Ba)?{expr:"".concat(Ba.value)}:void 0});if(sa[0]||sa[1])c=new nl(c,sa,null,t.getName("geojson_".concat(L++)))}t.channelHasField("shape")&&(ka=t.typedFieldDef("shape"),"geojson"===ka.type&&(c=new nl(c,null,ka.field,t.getName("geojson_".concat(L++)))));return c}constructor(c,
t,L,ka){super(c);this.fields=t;this.geojson=L;this.signal=ka}dependentFields(){var c;const t=(null!==(c=this.fields)&&void 0!==c?c:[]).filter(e);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(F(this.fields))}assemble(){return Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class Cl extends tg{clone(){return new Cl(null,
this.projection,rf(this.fields),rf(this.as))}constructor(c,t,L,ka){super(c);this.projection=t;this.fields=L;this.as=ka}static parseAll(c,t){if(!t.projectionName())return c;for(const L of[["longitude","latitude"],["longitude2","latitude2"]]){const ka=L.map(Ba=>{Ba=Aa(t.encoding[Ba]);return $b(Ba)?Ba.field:gd(Ba)?{expr:"".concat(Ba.datum)}:jd(Ba)?{expr:"".concat(Ba.value)}:void 0}),sa="longitude2"===L[0]?"2":"";if(ka[0]||ka[1])c=new Cl(c,t.projectionName(),ka,[t.getName("x"+sa),t.getName("y"+sa)])}return c}dependentFields(){return new Set(this.fields.filter(e))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection,
" ").concat(F(this.fields)," ").concat(F(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Yk extends tg{clone(){return new Yk(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){var c;return new Set([this.transform.impute,this.transform.key,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(c){const {start:t=0,stop:L,step:ka}=c;
c=[t,L,...ka?[ka]:[]].join();return{signal:"sequence(".concat(c,")")}}static makeFromTransform(c,t){return new Yk(c,t)}static makeFromEncoding(c,t){const L=t.encoding;var ka=L.x;const sa=L.y;if($b(ka)&&$b(sa)){const Ba=ka.impute?ka:sa.impute?sa:void 0;if(void 0===Ba)return;ka=ka.impute?sa:sa.impute?ka:void 0;const {method:cb,value:nb,frame:Gb,keyvals:Nb}=Ba.impute;t=xc(t.mark,L);return new Yk(c,Object.assign({},{impute:Ba.field,key:ka.field},cb?{method:cb}:{},void 0!==nb?{value:nb}:{},Gb?{frame:Gb}:
{},void 0!==Nb?{keyvals:Nb}:{},t.length?{groupby:t}:{}))}return null}hash(){return"Impute ".concat(F(this.transform))}assemble(){const {impute:c,key:t,keyvals:L,method:ka,groupby:sa,value:Ba,frame:cb=[null,null]}=this.transform,nb=Object.assign({},{type:"impute",field:c,key:t},L?{keyvals:void 0!==(null===L||void 0===L?void 0:L.stop)?this.processSequence(L):L}:{},{method:"value"},sa?{groupby:sa}:{},{value:ka&&"value"!==ka?null:Ba});if(ka&&"value"!==ka){const Gb=Object.assign({},{type:"window",as:["imputed_".concat(c,
"_value")],ops:[ka],fields:[c],frame:cb,ignorePeers:!1},sa?{groupby:sa}:{}),Nb={type:"formula",expr:"datum.".concat(c," \x3d\x3d\x3d null ? datum.imputed_").concat(c,"_value : datum.").concat(c),as:c};return[nb,Gb,Nb]}return[nb]}}class Ul extends tg{clone(){return new Ul(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:t.on,null!==(sa=
c[1])&&void 0!==sa?sa:t.loess]}dependentFields(){var c;return new Set([this.transform.loess,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);const L=c.loess;c=c.on;t=(delete t.loess,delete t.on,t);return Object.assign({},{type:"loess",x:c,y:L},t)}}class Dl extends tg{clone(){return new Dl(null,rf(this.transform),
this.secondary)}constructor(c,t,L){super(c);this.transform=t;this.secondary=L}static make(c,t,L,ka){const sa=t.component.data.sources,{from:Ba}=L;var cb=null;if("data"in Ba)cb=pl(Ba.data,sa),cb||(cb=new wk(Ba.data),sa.push(cb)),ka=t.getName("lookup_".concat(ka)),cb=new Eh(cb,ka,zg.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[ka]=cb;else if("selection"in Ba&&(ka=Ba.selection,L=Object.assign({},{as:ka},L),cb=t.getSelectionComponent(V(ka),ka).materialized,!cb))throw Error('Cannot define and lookup the "'.concat(ka,
'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new Dl(c,L,cb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?d(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(F({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var c=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:d(this.transform.as)}:
{});else c=this.transform.as,e(c)||(Lb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),c="_lookup"),c={as:[c]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},c,this.transform.default?{default:this.transform.default}:{})}}class Vl extends tg{clone(){return new Vl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=
t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:"prob",null!==(sa=c[1])&&void 0!==sa?sa:"value"]}dependentFields(){var c;return new Set([this.transform.quantile,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(F(this.transform))}assemble(){var c=this.transform,t=Object.assign({},c);c=c.quantile;t=(delete t.quantile,
t);return Object.assign({},{type:"quantile",field:c},t)}}class Wl extends tg{clone(){return new Wl(null,rf(this.transform))}constructor(c,t){var L,ka,sa;super(c);this.transform=t;this.transform=rf(t);c=null!==(L=this.transform.as)&&void 0!==L?L:[void 0,void 0];this.transform.as=[null!==(ka=c[0])&&void 0!==ka?ka:t.on,null!==(sa=c[1])&&void 0!==sa?sa:t.regression]}dependentFields(){var c;return new Set([this.transform.regression,this.transform.on,...null!==(c=this.transform.groupby)&&void 0!==c?c:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(F(this.transform))}assemble(){var c=
this.transform,t=Object.assign({},c);const L=c.regression;c=c.on;t=(delete t.regression,delete t.on,t);return Object.assign({},{type:"regression",x:c,y:L},t)}}class Yl extends tg{clone(){return new Yl(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}addDimensions(c){var t;this.transform.groupby=ja((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(c),L=>L)}producedFields(){}dependentFields(){var c;return new Set([this.transform.pivot,this.transform.value,...null!==(c=this.transform.groupby)&&
void 0!==c?c:[]])}hash(){return"PivotTransform ".concat(F(this.transform))}assemble(){const {pivot:c,value:t,groupby:L,limit:ka,op:sa}=this.transform;return Object.assign({},{type:"pivot",field:c,value:t},void 0!==ka?{limit:ka}:{},void 0!==sa?{op:sa}:{},void 0!==L?{groupby:L}:{})}}class Xl extends tg{clone(){return new Xl(null,rf(this.transform))}constructor(c,t){super(c);this.transform=t}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(F(this.transform))}assemble(){return{type:"sample",
size:this.transform.sample}}}class Fl extends Cm{constructor(c,t,L,ka){super(c,"facet",t,L,ka,c.resolve);jc(this,"facet",void 0);jc(this,"child",void 0);jc(this,"children",void 0);this.child=hi(c.spec,this,this.getName("child"),void 0,ka);this.children=[this.child];this.facet=this.initFacet(c.facet)}initFacet(c){if(!wa(c))return{facet:this.initFacetFieldDef(c,"facet")};var t=Hd(c);const L={};for(const ka of t){if(!G(["row","column"],ka)){Lb(zc(ka,"facet"));break}t=c[ka];if(void 0===t.field){Lb(Eb(t,
ka));break}L[ka]=this.initFacetFieldDef(t,ka)}return L}initFacetFieldDef(c,t){var L=Object.assign({},c);c=c.header;L=(delete L.header,L);t=Wb(L,t);c&&(t.header=kf(c));return t}channelHasField(c){return!!this.facet[c]}fieldDef(c){return this.facet[c]}parseData(){this.component.data=bk(this);this.child.parseData()}parseLayoutSize(){ck(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();
for(const sa of zh){{var c=void 0,t=sa;const {facet:Ba,config:cb,child:nb,component:Gb}=this;if(this.channelHasField(t)){const Nb=Ba[t];var L=Nh("title",null,cb,t);L=mf(Nb,cb,{allowDisabling:!0,includeDefault:void 0===L||!!L});nb.component.layoutHeaders[t].title&&(L=Je(L)?L.join(", "):L,L+=" / "+nb.component.layoutHeaders[t].title,nb.component.layoutHeaders[t].title=null);var ka=Nh("labelOrient",Nb,cb,t);const lc=null!==(c=Nb.header)&&void 0!==c?c:{};c=Da(lc.labels,cb.header.labels,!0);ka=G(["bottom",
"right"],ka)?"footer":"header";Gb.layoutHeaders[t]={title:L,facetFieldDef:Nb,[ka]:"facet"===t?[]:[tl(this,t,c)]}}}}Dk(this,"x");Dk(this,"y")}assembleSelectionTopLevelSignals(c){return this.child.assembleSelectionTopLevelSignals(c)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(c){return this.child.assembleSelectionData(c)}getHeaderLayoutMixins(){const c={};for(const cb of zh)for(const nb of Ql){const Gb=this.component.layoutHeaders[cb];var t=Gb[nb],{facetFieldDef:L}=
Gb;if(L&&(L=Nh("titleOrient",L.header,this.config,cb),G(["right","bottom"],L))){var ka;L=Mh(cb,L);c.titleAnchor=null!==(ka=c.titleAnchor)&&void 0!==ka?ka:{};c.titleAnchor[L]="end"}if(null===t||void 0===t?0:t[0]){t="row"===cb?"height":"width";L="header"===nb?"headerBand":"footerBand";if("facet"!==cb&&!this.child.component.layoutSize.get(t)){var sa;c[L]=null!==(sa=c[L])&&void 0!==sa?sa:{};c[L][cb]=.5}if(Gb.title){var Ba;c.offset=null!==(Ba=c.offset)&&void 0!==Ba?Ba:{};c.offset["row"===cb?"rowTitle":
"columnTitle"]=10}}}return c}assembleDefaultLayout(){const {column:c,row:t}=this.facet,L=c?this.columnDistinctSignal():t?1:void 0;let ka="all";t||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(ka="none"):ka="none";return Object.assign({},this.getHeaderLayoutMixins(),L?{columns:L}:{},{bounds:"full",align:ka})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Fl)){const c=
this.getName("column_domain");return{signal:"length(data('".concat(c,"'))")}}}assembleGroup(c){return this.parent&&this.parent instanceof Fl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:kd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(c)):super.assembleGroup(c)}getCardinalityAggregateForChild(){const c=[],t=[],L=[];if(this.child instanceof Fl){if(this.child.channelHasField("column")){var ka=kd(this.child.facet.column);c.push(ka);t.push("distinct");
L.push("distinct_".concat(ka))}}else for(ka of Wg){var sa=this.child.component.scales[ka];if(sa&&!sa.merged){var Ba=sa.get("type");sa=sa.get("range");Ba in nh&&uc(sa)&&(Ba=Af(this.child,ka),(Ba=cg(Ba))?(c.push(Ba),t.push("distinct"),L.push("distinct_".concat(Ba))):Lb(Lc(ka)))}}return{fields:c,ops:t,as:L}}assembleFacet(){const {name:c,data:t}=this.component.data.facetRoot,{row:L,column:ka}=this.facet,{fields:sa,ops:Ba,as:cb}=this.getCardinalityAggregateForChild(),nb=[];for(var Gb of zh){var Nb=this.facet[Gb];
if(Nb){nb.push(kd(Nb));const {bin:lc,sort:Yc}=Nb;pc(lc)&&nb.push(kd(Nb,{binSuffix:"end"}));if(qe(Yc)){const {field:hd,op:qd="min"}=Yc;Nb=uk(Nb,Yc);L&&ka?(sa.push(Nb),Ba.push("max")):(sa.push(hd),Ba.push(qd));cb.push(Nb)}else Je(Yc)&&(Nb=oh(Nb,Gb),sa.push(Nb),Ba.push("max"),cb.push(Nb))}}Gb=!!L&&!!ka;return Object.assign({},{name:c,data:t,groupby:nb},Gb||0<sa.length?{aggregate:Object.assign({},Gb?{cross:Gb}:{},sa.length?{fields:sa,ops:Ba,as:cb}:{})}:{})}facetSortFields(c){var {facet:t}=this;return(t=
t[c])?qe(t.sort)?[uk(t,t.sort,{expr:"datum"})]:Je(t.sort)?[oh(t,c,{expr:"datum"})]:[kd(t,{expr:"datum"})]:[]}facetSortOrder(c){const {facet:t}=this;return(c=t[c])?({sort:c}=c,[(qe(c)?c.order:!Je(c)&&c)||"ascending"]):[]}assembleLabelTitle(){const {facet:c,config:t}=this;if(c.facet)return Jf(c.facet,"facet",t);const L={row:["top","bottom"],column:["left","right"]};for(const sa of Zl)if(c[sa]){var ka;const Ba=Nh("labelOrient",null===(ka=c[sa])||void 0===ka?void 0:ka.header,t,sa);if(G(L[sa],Ba))return Jf(c[sa],
sa,t)}}assembleMarks(){const {child:c}=this,t=el(this.component.data.facetRoot),L=c.assembleGroupEncodeEntry(!1),ka=this.assembleLabelTitle()||c.assembleTitle(),sa=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},ka?{title:ka}:{},sa?{style:sa}:{},{from:{facet:this.assembleFacet()},sort:{field:zh.map(Ba=>this.facetSortFields(Ba)).flat(),order:zh.map(Ba=>this.facetSortOrder(Ba)).flat()}},0<t.length?{data:t}:{},L?{encode:{update:L}}:{},c.assembleGroup(Yj(this,[])))]}getMapping(){return this.facet}}
class un extends cm{constructor(c,t,L,ka){var sa,Ba,cb,nb;super(c,"concat",t,L,ka,c.resolve);jc(this,"children",void 0);"shared"!==(null===(sa=c.resolve)||void 0===sa?void 0:null===(Ba=sa.axis)||void 0===Ba?void 0:Ba.x)&&"shared"!==(null===(cb=c.resolve)||void 0===cb?void 0:null===(nb=cb.axis)||void 0===nb?void 0:nb.y)||Lb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(c).map((Gb,Nb)=>hi(Gb,this,this.getName("concat_"+
Nb),void 0,ka))}parseData(){this.component.data=bk(this);for(const c of this.children)c.parseData()}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Hd(c.component.selection))this.component.selection[t]=c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){for(const c of this.children)c.parseAxesAndHeaders()}getChildren(c){return"vconcat"in c?c.vconcat:"hconcat"in c?c.hconcat:c.concat}parseLayoutSize(){{ck(this);
const c=void 0===this.layout.columns?"height":"childHeight";Pk(this,1===this.layout.columns?"width":"childWidth");Pk(this,c)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,L)=>L.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){this.children.forEach(c=>c.assembleSignals());return[]}assembleLayoutSignals(){const c=Dj(this);for(const t of this.children)c.push(...t.assembleLayoutSignals());return c}assembleSelectionData(c){return this.children.reduce((t,
L)=>L.assembleSelectionData(t),c)}assembleMarks(){return this.children.map(c=>{const t=c.assembleTitle(),L=c.assembleGroupStyle(),ka=c.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:c.getName("group")},t?{title:t}:{},L?{style:L}:{},ka?{encode:{update:ka}}:{},c.assembleGroup())})}assembleDefaultLayout(){const c=this.layout.columns;return Object.assign({},null!=c?{columns:c}:{},{bounds:"full",align:"each"})}}const Dn=Object.assign({},{disable:1,gridScale:1,scale:1},rg,{labelExpr:1,
encode:1}),um=Hd(Dn);class vm extends Uj{constructor(c,t,L){c=void 0===c?{}:c;t=void 0===t?{}:t;L=void 0===L?!1:L;super();this.explicit=c;this.implicit=t;this.mainExtracted=L}clone(){return new vm(rf(this.explicit),rf(this.implicit),this.mainExtracted)}hasAxisPart(c){if("axis"===c)return!0;if("grid"===c||"title"===c)return!!this.get(c);c=this.get(c);return!(!1===c||null===c)}hasOrientSignalRef(){return Dc(this.explicit.orient)}}const En={bottom:"top",top:"bottom",left:"right",right:"left"},tn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
El={arc:{vgMark:"arc",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),ni(c,"radius","arc"),ni(c,"theta","arc"))},area:{vgMark:"area",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Ai("x",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===c.markDef.orient}),
Ai("y",c,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===c.markDef.orient}),rj(c))},bar:{vgMark:"rect",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","bar"),ni(c,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:c=>Fj(c,"circle")},geoshape:{vgMark:"shape",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:c=>{var {encoding:t}=c;t=t.shape;return[Object.assign({},{type:"geoshape",projection:c.projectionName()},t&&$b(t)&&"geojson"===t.type?{field:kd(t,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","image"),ni(c,"y","image"),sh(c,"url"))},line:{vgMark:"line",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),Fg("size",c,{vgChannel:"strokeWidth"}),rj(c))},point:{vgMark:"symbol",encodeEntry:c=>Fj(c)},rect:{vgMark:"rect",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ni(c,"x","rect"),ni(c,"y","rect"))},rule:{vgMark:"rule",encodeEntry:c=>{var {markDef:t}=c;t=t.orient;return c.encoding.x||c.encoding.y||c.encoding.latitude||
c.encoding.longitude?Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ai("x",c,{defaultPos:"horizontal"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==t}),Ai("y",c,{defaultPos:"vertical"===t?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==t}),Fg("size",c,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:c=>Fj(c,"square")},text:{vgMark:"text",encodeEntry:c=>{const {config:t,encoding:L}=
c;return Object.assign({},hh(c,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),sh(c),Fg("size",c,{vgChannel:"fontSize"}),Fg("angle",c),og("align",al(c.markDef,L,t)),og("baseline",yl(c.markDef,L,t)),qg("radius",c,{defaultPos:null,isMidPoint:!0}),qg("theta",c,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:c=>{const {config:t,markDef:L}=c;var ka=L.orient;const sa="horizontal"===
ka?"width":"height";ka="horizontal"===ka?"height":"width";return Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),qg("x",c,{defaultPos:"mid",vgChannel:"xc"}),qg("y",c,{defaultPos:"mid",vgChannel:"yc"}),Fg("size",c,{defaultValue:gh(c),vgChannel:sa}),{[ka]:$d(ne("thickness",L,t))})}},trail:{vgMark:"trail",encodeEntry:c=>Object.assign({},hh(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
qg("x",c,{defaultPos:"mid"}),qg("y",c,{defaultPos:"mid"}),Fg("size",c),rj(c))}};class ym extends Cm{constructor(c,t,L,ka,sa){ka=void 0===ka?{}:ka;super(c,"unit",t,L,sa,void 0,Mb(c)?c.view:void 0);jc(this,"markDef",void 0);jc(this,"encoding",void 0);jc(this,"specifiedScales",{});jc(this,"stack",void 0);jc(this,"specifiedAxes",{});jc(this,"specifiedLegends",{});jc(this,"specifiedProjection",{});jc(this,"selection",{});jc(this,"children",[]);var Ba=Od(c.mark)?Object.assign({},c.mark):{type:c.mark};t=
Ba.type;if(void 0===Ba.filled){({graticule:L}={graticule:c.data&&"graticule"in c.data});if(L)L=!1;else{L=sf("filled",Ba,sa);var cb=Ba.type;L=Da(L,cb!==yb&&cb!==ib&&cb!==fc)}Ba.filled=L}L=this.encoding=Db(c.encoding||{},t,Ba.filled,sa);Ba=kf(Ba);cb=ne("orient",Ba,sa);Ba.orient=xi(Ba.type,L,cb);void 0!==cb&&cb!==Ba.orient&&(cb='Specified orient "'.concat(Ba.orient,'" overridden with "').concat(cb,'".'),Lb(cb));if("bar"===Ba.type&&Ba.orient&&(cb=ne("cornerRadiusEnd",Ba,sa),void 0!==cb)){const lc="horizontal"===
Ba.orient&&L.x2||"vertical"===Ba.orient&&L.y2?["cornerRadius"]:$c[Ba.orient];for(var nb of lc)Ba[nb]=cb;void 0!==Ba.cornerRadiusEnd&&delete Ba.cornerRadiusEnd}void 0===ne("opacity",Ba,sa)&&(nb=G([yb,sd,ff,Ld],Ba.type)&&!fb(L)?.7:void 0,Ba.opacity=nb);void 0===ne("cursor",Ba,sa)&&(nb=Ba,sa=L.href||nb.href||ne("href",nb,sa)?"pointer":nb.cursor,Ba.cursor=sa);this.markDef=sa=Ba;ka={encoding:L,size:Mb(c)?Object.assign({},ka,c.width?{width:c.width}:{},c.height?{height:c.height}:{}):ka};var {encoding:Gb,
size:Nb}=ka;for(const lc of Wg)ka=Ua(lc),zb(Nb[ka])&&Mc(Gb[lc])&&(delete Nb[ka],Lb(Ka(ka)));this.size=Nb;this.stack=Rb(t,L);this.specifiedScales=this.initScales(t,L);this.specifiedAxes=this.initAxes(L);this.specifiedLegends=this.initLegends(L);this.specifiedProjection=c.projection;this.selection=c.selection}get hasProjection(){const {encoding:c}=this,t=this.mark===Ke,L=c&&$h.some(ka=>od(c[ka]));return t||L}scaleDomain(c){return(c=this.specifiedScales[c])?c.domain:void 0}axis(c){return this.specifiedAxes[c]}legend(c){return this.specifiedLegends[c]}initScales(c,
t){return Lj.reduce((L,ka)=>{const sa=Aa(t[ka]);if(sa){var Ba;L[ka]=this.initScale(null!==(Ba=sa.scale)&&void 0!==Ba?Ba:{})}return L},{})}initScale(c){const {domain:t,range:L}=c;c=kf(c);Je(t)&&(c.domain=t.map(Gd));Je(L)&&(c.range=L.map(Gd));return c}initAxes(c){return Wg.reduce((t,L)=>{var ka=c[L];if(od(ka)||"x"===L&&od(c.x2)||"y"===L&&od(c.y2))ka=od(ka)?ka.axis:void 0,t[L]=ka?this.initAxis(Object.assign({},ka)):ka;return t},{})}initAxis(c){var t=Hd(c);const L={};for(const ka of t)t=c[ka],L[ka]=ra(t)?
je(t):Gd(t);return L}initLegends(c){return dk.reduce((t,L)=>{var ka=Aa(c[L]),sa;if(sa=ka)a:{switch(L){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":sa=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":sa=!1;break a}sa=void 0}sa&&(ka=ka.legend,t[L]=ka?kf(ka):ka);return t},{})}parseData(){this.component.data=bk(this)}parseLayoutSize(){{const {size:t,component:L}=this;for(const ka of Wg){const sa=Ua(ka);if(t[sa]){var c=
t[sa];L.layoutSize.set(sa,zb(c)?"step":c,!0)}else c=xl(this,sa),L.layoutSize.set(sa,c,!1)}}}parseSelections(){this.component.selection=Ih(this,this.selection)}parseMarkGroup(){this.component.mark=Ll(this)}parseAxesAndHeaders(){this.component.axes=ql(this)}assembleSelectionTopLevelSignals(c){return Vj(this,c)}assembleSignals(){return[...Ji(this),...Sh(this,[])]}assembleSelectionData(c){return Xj(this,c)}assembleLayout(){return null}assembleLayoutSignals(){return Dj(this)}assembleMarks(){var c;let t=
null!==(c=this.component.mark)&&void 0!==c?c:[];this.parent&&Lg(this.parent)||(t=Wj(this,t));return t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(c){return Sa(this.encoding,c)}fieldDef(c){return nf(this.encoding[c])}typedFieldDef(c){c=this.fieldDef(c);return Id(c)?c:null}}class xm extends cm{constructor(c,t,L,ka,sa){super(c,"layer",t,L,sa,c.resolve,c.view);jc(this,"children",void 0);const Ba=Object.assign({},ka,c.width?{width:c.width}:
{},c.height?{height:c.height}:{});this.children=c.layer.map((cb,nb)=>{if("layer"in cb)return new xm(cb,this,this.getName("layer_"+nb),Ba,sa);if(Na(cb))return new ym(cb,this,this.getName("layer_"+nb),Ba,sa);throw Error(Pc(cb));})}parseData(){this.component.data=bk(this);for(const c of this.children)c.parseData()}parseLayoutSize(){ck(this);Pk(this,"width");Pk(this,"height")}parseSelections(){this.component.selection={};for(const c of this.children){c.parseSelections();for(const t of Hd(c.component.selection))this.component.selection[t]=
c.component.selection[t]}}parseMarkGroup(){for(const c of this.children)c.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:L,resolve:ka}=this.component,sa={top:0,bottom:0,right:0,left:0};for(var c of this.children){c.parseAxesAndHeaders();for(const Ba of Hd(c.component.axes))ka.axis[Ba]=gj(this.component.resolve,Ba),"shared"===ka.axis[Ba]&&(L[Ba]=rl(L[Ba],c.component.axes[Ba]),L[Ba]||(ka.axis[Ba]="independent",delete L[Ba]))}for(const Ba of Wg){for(const cb of this.children)if(cb.component.axes[Ba]){if("independent"===
ka.axis[Ba]){var t;L[Ba]=(null!==(t=L[Ba])&&void 0!==t?t:[]).concat(cb.component.axes[Ba]);for(const nb of cb.component.axes[Ba]){const {value:Gb,explicit:Nb}=nb.getWithExplicit("orient");Dc(Gb)||(0<sa[Gb]&&!Nb&&(c=En[Gb],sa[Gb]>sa[c]&&nb.set("orient",c,!1)),sa[Gb]++)}}delete cb.component.axes[Ba]}if("independent"===ka.axis[Ba]&&L[Ba]&&1<L[Ba].length)for(const cb of L[Ba])cb.get("grid")&&!cb.explicit.grid&&(cb.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(c){return this.children.reduce((t,
L)=>L.assembleSelectionTopLevelSignals(t),c)}assembleSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleSignals()),Ji(this))}assembleLayoutSignals(){return this.children.reduce((c,t)=>c.concat(t.assembleLayoutSignals()),Dj(this))}assembleSelectionData(c){return this.children.reduce((t,L)=>L.assembleSelectionData(t),c)}assembleTitle(){let c=super.assembleTitle();if(c)return c;for(const t of this.children)if(c=t.assembleTitle())return c}assembleLayout(){return null}assembleMarks(){return vg(this,
this.children.flatMap(c=>c.assembleMarks()))}assembleLegends(){return this.children.reduce((c,t)=>c.concat(t.assembleLegends()),Ak(this))}}l.accessPathDepth=Ya;l.accessPathWithDatum=va;l.compile=function(c,t){t=void 0===t?{}:t;t.logger&&(kj=t.logger);t.fieldTitle&&(cf=t.fieldTitle);try{const lc=Ma(u(t.config,c.config)),Yc=re(c,lc),hd=hi(Yc,null,"",void 0,lc);hd.parse();{var L=hd.component.data,ka=hd;Xa(L.sources);let qd=0,Md=0;for(var sa=0;5>sa&&tb(L,ka,!0);sa++)qd++;L.sources.map(ea);for(sa=0;5>
sa&&tb(L,ka,!1);sa++)Md++;Xa(L.sources);5===Math.max(qd,Md)&&Lb("Maximum optimization runs(".concat(5,") reached."))}{var Ba=Yc.autosize;L=lc;ka=hd;const qd=ka.component.layoutSize.get("width"),Md=ka.component.layoutSize.get("height");void 0===Ba?(Ba={type:"pad"},ka.hasAxisOrientSignalRef()&&(Ba.resize=!0)):e(Ba)&&(Ba={type:Ba});var cb;if(cb=qd&&Md){var nb=Ba.type;cb="fit"===nb||"fit-x"===nb||"fit-y"===nb}if(cb)if("step"===qd&&"step"===Md)Lb(Sc()),Ba.type="pad";else if("step"===qd||"step"===Md){nb=
"step"===qd?"width":"height";Lb(Sc(Fb(nb)));cb=Ba;var Gb=(nb="width"===nb?"height":"width","fit-".concat(Fb(nb)));cb.type=Gb}var Nb=Object.assign({},1===Hd(Ba).length&&Ba.type?"pad"===Ba.type?{}:{autosize:Ba.type}:{autosize:Ba},ob(L,!1),ob(c,!0))}return{spec:ul(hd,Nb,c.datasets,c.usermeta),normalized:Yc}}finally{t.logger&&(kj=ze),t.fieldTitle&&(cf=Jd)}};l.contains=G;l.deepEqual=ji;l.deleteNestedProperty=aa;l.duplicate=rf;l.entries=fh;l.every=R;l.fieldIntersection=Z;l.flatAccessWithDatum=Ia;l.getFirstDefined=
Da;l.hasIntersection=ha;l.hash=F;l.internalField=U;l.isBoolean=C;l.isEmpty=P;l.isEqual=function(c,t){const L=Hd(c),ka=Hd(t);if(L.length!==ka.length)return!1;for(const sa of L)if(c[sa]!==t[sa])return!1;return!0};l.isInternalField=W;l.isNullOrFalse=z;l.isNumeric=ca;l.keys=Hd;l.logicalExpr=ia;l.mergeDeep=T;l.normalize=re;l.normalizeAngle=ba;l.omit=M;l.pick=O;l.prefixGenerator=la;l.removePathFromField=Ta;l.replaceAll=ua;l.replacePathInField=kb;l.resetIdCounter=function(){jj=42};l.setEqual=fa;l.some=K;
l.stringify=of;l.titleCase=ya;l.unique=ja;l.uniqueId=ta;l.vals=Tg;l.varName=V;l.version="4.17.0";Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[65]=function(Ja,A,rb,E){function k(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function w(n){if(m===setTimeout)return setTimeout(n,0);if((m===k||!m)&&setTimeout)return m=setTimeout,setTimeout(n,0);try{return m(n,0)}catch(y){try{return m.call(null,n,0)}catch(B){return m.call(this,n,0)}}}function H(n){if(g===clearTimeout)return clearTimeout(n);if((g===l||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(n);try{return g(n)}catch(y){try{return g.call(null,
n)}catch(B){return g.call(this,n)}}}function N(){f&&a&&(f=!1,a.length?d=a.concat(d):e=-1,d.length&&x())}function x(){if(!f){var n=w(N);f=!0;for(var y=d.length;y;){a=d;for(d=[];++e<y;)a&&a[e].run();e=-1;y=d.length}a=null;f=!1;H(n)}}function v(n,y){this.fun=n;this.array=y}function u(){}Ja=rb.exports={};try{var m="function"===typeof setTimeout?setTimeout:k}catch(n){m=k}try{var g="function"===typeof clearTimeout?clearTimeout:l}catch(n){g=l}var d=[],f=!1,a,e=-1;Ja.nextTick=function(n){var y=Array(arguments.length-
1);if(1<arguments.length)for(var B=1;B<arguments.length;B++)y[B-1]=arguments[B];d.push(new v(n,y));1!==d.length||f||w(x)};v.prototype.run=function(){this.fun.apply(null,this.array)};Ja.title="browser";Ja.browser=!0;Ja.env={};Ja.argv=[];Ja.version="";Ja.versions={};Ja.on=u;Ja.addListener=u;Ja.once=u;Ja.off=u;Ja.removeListener=u;Ja.removeAllListeners=u;Ja.emit=u;Ja.prependListener=u;Ja.prependOnceListener=u;Ja.listeners=function(n){return[]};Ja.binding=function(n){throw Error("process.binding is not supported");
};Ja.cwd=function(){return"/"};Ja.chdir=function(n){throw Error("process.chdir is not supported");};Ja.umask=function(){return 0}};
shadow$provide[66]=function(Ja,A,rb,E){var k=A(65);(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=w(A(63),A(64)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],w):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=w(l.vega,l.vegaLite))})(this,function(l,w){function H(wa){if(wa&&wa.__esModule)return wa;var Ea=Object.create(null);wa&&Object.keys(wa).forEach(function(Za){if("default"!==Za){var Cb=Object.getOwnPropertyDescriptor(wa,Za);Object.defineProperty(Ea,
Za,Cb.get?Cb:{enumerable:!0,get:function(){return wa[Za]}})}});Ea["default"]=wa;return Object.freeze(Ea)}function N(wa,Ea,Za,Cb){function ub(Yb){return Yb instanceof Za?Yb:new Za(function($b){$b(Yb)})}return new (Za||(Za=Promise))(function(Yb,$b){function Oc(Nd){try{Mc(Cb.next(Nd))}catch(od){$b(od)}}function gd(Nd){try{Mc(Cb["throw"](Nd))}catch(od){$b(od)}}function Mc(Nd){Nd.done?Yb(Nd.value):ub(Nd.value).then(Oc,gd)}Mc((Cb=Cb.apply(wa,Ea||[])).next())})}function x(wa,Ea){function Za(Mc){return function(Nd){return Cb([Mc,
Nd])}}function Cb(Mc){if(Yb)throw new TypeError("Generator is already executing.");for(;ub;)try{if(Yb=1,$b&&(Oc=Mc[0]&2?$b["return"]:Mc[0]?$b["throw"]||((Oc=$b["return"])&&Oc.call($b),0):$b.next)&&!(Oc=Oc.call($b,Mc[1])).done)return Oc;if($b=0,Oc)Mc=[Mc[0]&2,Oc.value];switch(Mc[0]){case 0:case 1:Oc=Mc;break;case 4:return ub.label++,{value:Mc[1],done:!1};case 5:ub.label++;$b=Mc[1];Mc=[0];continue;case 7:Mc=ub.ops.pop();ub.trys.pop();continue;default:if(!(Oc=ub.trys,Oc=0<Oc.length&&Oc[Oc.length-1])&&
(6===Mc[0]||2===Mc[0])){ub=0;continue}if(3===Mc[0]&&(!Oc||Mc[1]>Oc[0]&&Mc[1]<Oc[3]))ub.label=Mc[1];else if(6===Mc[0]&&ub.label<Oc[1])ub.label=Oc[1],Oc=Mc;else if(Oc&&ub.label<Oc[2])ub.label=Oc[2],ub.ops.push(Mc);else{Oc[2]&&ub.ops.pop();ub.trys.pop();continue}}Mc=Ea.call(wa,ub)}catch(Nd){Mc=[6,Nd],$b=0}finally{Yb=Oc=0}if(Mc[0]&5)throw Mc[1];return{value:Mc[0]?Mc[1]:void 0,done:!0}}var ub={label:0,sent:function(){if(Oc[0]&1)throw Oc[1];return Oc[1]},trys:[],ops:[]},Yb,$b,Oc,gd;return gd={next:Za(0),
"throw":Za(1),"return":Za(2)},"function"===typeof Symbol&&(gd[Symbol.iterator]=function(){return this}),gd}function v(wa){if(Array.isArray(wa)){var Ea=Array(wa.length);for(wa=0;wa<Ea.length;wa++)Ea[wa]=""+wa;return Ea}if(Object.keys)return Object.keys(wa);Ea=[];for(var Za in wa)ta.call(wa,Za)&&Ea.push(Za);return Ea}function u(wa){switch(typeof wa){case "object":return JSON.parse(JSON.stringify(wa));case "undefined":return null;default:return wa}}function m(wa){for(var Ea=0,Za=wa.length,Cb;Ea<Za;)if(Cb=
wa.charCodeAt(Ea),48<=Cb&&57>=Cb)Ea++;else return!1;return!0}function g(wa){return-1===wa.indexOf("/")&&-1===wa.indexOf("~")?wa:wa.replace(/~/g,"~0").replace(/\//g,"~1")}function d(wa){return wa.replace(/~1/g,"/").replace(/~0/g,"~")}function f(wa){if(void 0===wa)return!0;if(wa)if(Array.isArray(wa))for(var Ea=0,Za=wa.length;Ea<Za;Ea++){if(f(wa[Ea]))return!0}else if("object"===typeof wa){Za=v(wa);var Cb=Za.length;for(Ea=0;Ea<Cb;Ea++)if(f(wa[Za[Ea]]))return!0}return!1}function a(wa,Ea){wa=[wa];for(var Za in Ea){var Cb=
"object"===typeof Ea[Za]?JSON.stringify(Ea[Za],null,2):Ea[Za];"undefined"!==typeof Cb&&wa.push(Za+": "+Cb)}return wa.join("\n")}function e(wa,Ea){if(""==Ea)return wa;Ea={op:"_get",path:Ea};n(wa,Ea);return Ea.value}function n(wa,Ea,Za,Cb,ub,Yb){void 0===Za&&(Za=!1);void 0===Cb&&(Cb=!0);void 0===ub&&(ub=!0);void 0===Yb&&(Yb=0);Za&&("function"==typeof Za?Za(Ea,0,wa,Ea.path):B(Ea,0));if(""===Ea.path){ub={newDocument:wa};if("add"===Ea.op)return ub.newDocument=Ea.value,ub;if("replace"===Ea.op)return ub.newDocument=
Ea.value,ub.removed=wa,ub;if("move"===Ea.op||"copy"===Ea.op)return ub.newDocument=e(wa,Ea.from),"move"===Ea.op&&(ub.removed=wa),ub;if("test"===Ea.op){ub.test=O(wa,Ea.value);if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,wa);ub.newDocument=wa;return ub}if("remove"===Ea.op)return ub.removed=wa,ub.newDocument=null,ub;if("_get"===Ea.op)return Ea.value=wa,ub;if(Za)throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Yb,Ea,wa);return ub}Cb||(wa=u(wa));Cb=(Ea.path||"").split("/");var $b=wa,Oc=1,gd=Cb.length,Mc=void 0,Nd;for(Nd="function"==typeof Za?Za:B;;){var od=Cb[Oc];if(ub&&"__proto__"==od)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Za&&void 0===Mc&&(void 0===$b[od]?Mc=Cb.slice(0,Oc).join("/"):Oc==gd-1&&(Mc=Ea.path),void 0!==
Mc&&Nd(Ea,0,wa,Mc));Oc++;if(Array.isArray($b)){if("-"===od)od=$b.length;else{if(Za&&!m(od))throw new W("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Yb,Ea,wa);m(od)&&(od=~~od)}if(Oc>=gd){if(Za&&"add"===Ea.op&&od>$b.length)throw new W("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Yb,Ea,wa);ub=ca[Ea.op].call(Ea,$b,od,wa);
if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,wa);return ub}}else if(od&&-1!=od.indexOf("~")&&(od=d(od)),Oc>=gd){ub=ba[Ea.op].call(Ea,$b,od,wa);if(!1===ub.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Yb,Ea,wa);return ub}$b=$b[od]}}function y(wa,Ea,Za,Cb,ub){void 0===Cb&&(Cb=!0);void 0===ub&&(ub=!0);if(Za&&!Array.isArray(Ea))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Cb||(wa=u(wa));Cb=Array(Ea.length);for(var Yb=0,
$b=Ea.length;Yb<$b;Yb++)Cb[Yb]=n(wa,Ea[Yb],Za,!0,ub,Yb),wa=Cb[Yb].newDocument;Cb.newDocument=wa;return Cb}function B(wa,Ea,Za,Cb){if("object"!==typeof wa||null===wa||Array.isArray(wa))throw new W("Operation is not an object","OPERATION_NOT_AN_OBJECT",Ea,wa,Za);if(ba[wa.op]){if("string"!==typeof wa.path)throw new W("Operation `path` property is not a string","OPERATION_PATH_INVALID",Ea,wa,Za);if(0!==wa.path.indexOf("/")&&0<wa.path.length)throw new W('Operation `path` property must start with "/"',
"OPERATION_PATH_INVALID",Ea,wa,Za);if("move"!==wa.op&&"copy"!==wa.op||"string"===typeof wa.from)if("add"!==wa.op&&"replace"!==wa.op&&"test"!==wa.op||void 0!==wa.value){if(("add"===wa.op||"replace"===wa.op||"test"===wa.op)&&f(wa.value))throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Ea,wa,Za);if(Za)if("add"==wa.op){var ub=wa.path.split("/").length;Cb=Cb.split("/").length;if(ub!==Cb+1&&ub!==Cb)throw new W("Cannot perform an `add` operation at the desired path",
"OPERATION_PATH_CANNOT_ADD",Ea,wa,Za);}else if("replace"===wa.op||"remove"===wa.op||"_get"===wa.op){if(wa.path!==Cb)throw new W("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Ea,wa,Za);}else if(("move"===wa.op||"copy"===wa.op)&&(ub=D([{op:"_get",path:wa.from,value:void 0}],Za))&&"OPERATION_PATH_UNRESOLVABLE"===ub.name)throw new W("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Ea,wa,Za);}else throw new W("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",Ea,wa,Za);else throw new W("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Ea,wa,Za);}else throw new W("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ea,wa,Za);}function D(wa,Ea,Za){try{if(!Array.isArray(wa))throw new W("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Ea)y(u(Ea),u(wa),Za||!0);else{Za=Za||B;for(var Cb=0;Cb<wa.length;Cb++)Za(wa[Cb],
Cb,Ea,void 0)}}catch(ub){if(ub instanceof W)return ub;throw ub;}}function O(wa,Ea){if(wa===Ea)return!0;if(wa&&Ea&&"object"==typeof wa&&"object"==typeof Ea){var Za=Array.isArray(wa),Cb=Array.isArray(Ea);if(Za&&Cb){var ub=wa.length;if(ub!=Ea.length)return!1;for(Za=ub;0!==Za--;)if(!O(wa[Za],Ea[Za]))return!1;return!0}if(Za!=Cb)return!1;Cb=Object.keys(wa);ub=Cb.length;if(ub!==Object.keys(Ea).length)return!1;for(Za=ub;0!==Za--;)if(!Ea.hasOwnProperty(Cb[Za]))return!1;for(Za=ub;0!==Za--;)if(ub=Cb[Za],!O(wa[ub],
Ea[ub]))return!1;return!0}return wa!==wa&&Ea!==Ea}function M(wa,Ea){void 0===Ea&&(Ea=!1);var Za=qa.get(wa.object);F(Za.value,wa.object,wa.patches,"",Ea);wa.patches.length&&y(Za.value,wa.patches);Ea=wa.patches;0<Ea.length&&(wa.patches=[],wa.callback&&wa.callback(Ea));return Ea}function F(wa,Ea,Za,Cb,ub){if(Ea!==wa){"function"===typeof Ea.toJSON&&(Ea=Ea.toJSON());for(var Yb=v(Ea),$b=v(wa),Oc=!1,gd=$b.length-1;0<=gd;gd--){var Mc=$b[gd],Nd=wa[Mc];if(!ta.call(Ea,Mc)||void 0===Ea[Mc]&&void 0!==Nd&&!1===
Array.isArray(Ea))Array.isArray(wa)===Array.isArray(Ea)?(ub&&Za.push({op:"test",path:Cb+"/"+g(Mc),value:u(Nd)}),Za.push({op:"remove",path:Cb+"/"+g(Mc)}),Oc=!0):(ub&&Za.push({op:"test",path:Cb,value:wa}),Za.push({op:"replace",path:Cb,value:Ea}));else{var od=Ea[Mc];"object"==typeof Nd&&null!=Nd&&"object"==typeof od&&null!=od?F(Nd,od,Za,Cb+"/"+g(Mc),ub):Nd!==od&&(ub&&Za.push({op:"test",path:Cb+"/"+g(Mc),value:u(Nd)}),Za.push({op:"replace",path:Cb+"/"+g(Mc),value:u(od)}))}}if(Oc||Yb.length!=$b.length)for(gd=
0;gd<Yb.length;gd++)Mc=Yb[gd],ta.call(wa,Mc)||void 0===Ea[Mc]||Za.push({op:"add",path:Cb+"/"+g(Mc),value:u(Ea[Mc])})}}function z(wa){var Ea=this;Ea instanceof z||(Ea=new z);Ea.tail=null;Ea.head=null;Ea.length=0;if(wa&&"function"===typeof wa.forEach)wa.forEach(function(ub){Ea.push(ub)});else if(0<arguments.length)for(var Za=0,Cb=arguments.length;Za<Cb;Za++)Ea.push(arguments[Za]);return Ea}function G(wa,Ea,Za,Cb){if(!(this instanceof G))return new G(wa,Ea,Za,Cb);this.list=Cb;this.value=wa;Ea?(Ea.next=
this,this.prev=Ea):this.prev=null;Za?(Za.prev=this,this.next=Za):this.next=null}function K(wa){const [Ea,Za]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(wa).slice(1,3);return{library:Ea,version:Za}}function R(wa,Ea,Za){wa.fields=Ea||[];wa.fname=Za;return wa}function T(wa){return 1===wa.length?Ye(wa[0]):Xf(wa)}function ja(wa){function Ea(){Za.push($b+wa.substring(Oc,gd));$b="";Oc=gd+1}const Za=[],Cb=wa.length;let ub=null,Yb=0,$b="",Oc,gd,Mc;wa+="";for(Oc=gd=0;gd<Cb;++gd)if(Mc=wa[gd],"\\"===Mc)$b+=
wa.substring(Oc,gd),$b+=wa.substring(++gd,++gd),Oc=gd;else if(Mc===ub)Ea(),ub=null,Yb=-1;else if(!ub)if(Oc===Yb&&'"'===Mc)Oc=gd+1,ub=Mc;else if(Oc===Yb&&"'"===Mc)Oc=gd+1,ub=Mc;else if("."===Mc&&!Yb)gd>Oc?Ea():Oc=gd+1;else if("["===Mc)gd>Oc&&Ea(),Yb=Oc=gd+1;else if("]"===Mc){if(!Yb)throw Error("Access path missing open bracket: "+wa);0<Yb&&Ea();Yb=0;Oc=gd+1}if(Yb)throw Error("Access path missing closing bracket: "+wa);if(ub)throw Error("Access path missing closing quote: "+wa);gd>Oc&&(gd++,Ea());return Za}
function fa(wa,Ea){var Za={},Cb;for(Cb in wa)Object.prototype.hasOwnProperty.call(wa,Cb)&&0>Ea.indexOf(Cb)&&(Za[Cb]=wa[Cb]);if(null!=wa&&"function"===typeof Object.getOwnPropertySymbols){var ub=0;for(Cb=Object.getOwnPropertySymbols(wa);ub<Cb.length;ub++)0>Ea.indexOf(Cb[ub])&&Object.prototype.propertyIsEnumerable.call(wa,Cb[ub])&&(Za[Cb[ub]]=wa[Cb[ub]])}return Za}function ha(wa,Ea,Za){if(Gc(wa))return`[${wa.map(ub=>Ea("string"===typeof ub?ub:JSON.stringify(ub,la(Za)))).join(", ")}]`;if(wa===Object(wa)){let ub=
"";const {title:Yb,image:$b}=wa;wa=fa(wa,["title","image"]);Yb&&(ub+=`<h2>${Ea(Yb)}</h2>`);$b&&(ub+=`<img src="${Ea($b)}">`);var Cb=Object.keys(wa);if(0<Cb.length){ub+="\x3ctable\x3e";for(const Oc of Cb)Cb=wa[Oc],void 0!==Cb&&(Cb===Object(Cb)&&(Cb=JSON.stringify(Cb,la(Za))),ub+=`<tr><td class="key">${Ea(Oc)}:</td><td class="value">${Ea(Cb)}</td></tr>`);ub+="\x3c/table\x3e"}return ub||"{}"}return Ea(wa)}function la(wa){const Ea=[];return function(Za,Cb){if("object"!==typeof Cb||null===Cb)return Cb;
Za=Ea.indexOf(this)+1;Ea.length=Za;if(Ea.length>wa)return"[Object]";if(0<=Ea.indexOf(Cb))return"[Circular]";Ea.push(Cb);return Cb}}function Z(wa,Ea,Za){function Cb(gd){gd.source===Yb&&(Oc=0,wa.removeEventListener("message",Cb,!1))}function ub(){0>=Oc||(Yb.postMessage(Za,$b),setTimeout(ub,250),--Oc)}var Yb=wa.open(Ea),$b=(new URL(Ea)).origin,Oc=40;wa.addEventListener("message",Cb,!1);setTimeout(ub,250)}function P(wa){for(var Ea=[],Za=1;Za<arguments.length;Za++)Ea[Za-1]=arguments[Za];for(Za=0;Za<Ea.length;Za++)for(var Cb=
wa,ub=Ea[Za],Yb=0,$b=Object.keys(ub);Yb<$b.length;Yb++){var Oc=$b[Yb];l.writeConfig(Cb,Oc,ub[Oc],!0)}return wa}function C(wa,Ea,Za,Cb){Ea="\x3chtml\x3e\x3chead\x3e"+Ea+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Za="\x3c/code\x3e\x3c/pre\x3e"+Za+"\x3c/body\x3e\x3c/html\x3e";var ub=window.open("");ub.document.write(Ea+wa+Za);ub.document.title=Sf[Cb]+" JSON Source"}function V(wa,Ea){var Za;return wa.$schema?(wa=K(wa.$schema),Ea&&Ea!==wa.library&&console.warn("The given visualization spec is written in "+
Sf[wa.library]+", but mode argument sets "+(null!==(Za=Sf[Ea])&&void 0!==Za?Za:Ea)+"."),Ea=wa.library,Be.satisfies(Bf[Ea],"^"+wa.version.slice(1))||console.warn("The input spec uses "+Sf[Ea]+" "+wa.version+", but the current version of "+Sf[Ea]+" is v"+Bf[Ea]+"."),Ea):"mark"in wa||"encoding"in wa||"layer"in wa||"hconcat"in wa||"vconcat"in wa||"facet"in wa||"repeat"in wa?"vega-lite":"marks"in wa||"signals"in wa||"scales"in wa||"axes"in wa?"vega":null!==Ea&&void 0!==Ea?Ea:"vega"}function ia(wa){return wa&&
"load"in wa?wa:Fe.loader(wa)}function aa(wa){var Ea;return null!==(Ea=wa.usermeta&&wa.usermeta.embedOptions)&&void 0!==Ea?Ea:{}}function ya(wa,Ea,Za){var Cb,ub,Yb;void 0===Za&&(Za={});return N(this,void 0,void 0,function(){var $b,Oc,gd,Mc,Nd,od,Id,jd;return x(this,function(Qd){switch(Qd.label){case 0:if(!l.isString(Ea))return[3,2];Oc=ia(Za.loader);Mc=(gd=JSON).parse;return[4,Oc.load(Ea)];case 1:return $b=Mc.apply(gd,[Qd.sent()]),[3,3];case 2:$b=Ea,Qd.label=3;case 3:Nd=aa($b).loader;if(!Oc||Nd)Oc=
ia(null!==(Cb=Za.loader)&&void 0!==Cb?Cb:Nd);return[4,va(aa($b),Oc)];case 4:return od=Qd.sent(),[4,va(Za,Oc)];case 5:return Id=Qd.sent(),jd=Ya(Ya({},P(Id,od)),{config:l.mergeConfig(null!==(ub=Id.config)&&void 0!==ub?ub:{},null!==(Yb=od.config)&&void 0!==Yb?Yb:{})}),[4,bb(wa,$b,jd,Oc)];case 6:return[2,Qd.sent()]}})})}function va(wa,Ea){var Za;return N(this,void 0,void 0,function(){var Cb,ub,Yb,$b,Oc,gd,Mc,Nd;return x(this,function(od){switch(od.label){case 0:if(!l.isString(wa.config))return[3,2];$b=
(Yb=JSON).parse;return[4,Ea.load(wa.config)];case 1:return ub=$b.apply(Yb,[od.sent()]),[3,3];case 2:ub=null!==(Za=wa.config)&&void 0!==Za?Za:{},od.label=3;case 3:Cb=ub;if(!l.isString(wa.patch))return[3,5];Nd=(Mc=JSON).parse;return[4,Ea.load(wa.patch)];case 4:return gd=Nd.apply(Mc,[od.sent()]),[3,6];case 5:gd=wa.patch,od.label=6;case 6:return Oc=gd,[2,Ya(Ya(Ya({},wa),Oc?{patch:Oc}:{}),Cb?{config:Cb}:{})]}})})}function Ia(wa){var Ea;wa=wa.getRootNode?wa.getRootNode():document;return wa instanceof ShadowRoot?
{root:wa,rootContainer:wa}:{root:document,rootContainer:null!==(Ea=document.head)&&void 0!==Ea?Ea:document.body}}function bb(wa,Ea,Za,Cb){var ub,Yb,$b,Oc,gd,Mc;void 0===Za&&(Za={});return N(this,void 0,void 0,function(){function Nd(){Kd&&document.removeEventListener("click",Kd);Tb.finalize()}var od,Id,jd,Qd,ie,Gf,tf,kd,We,uf,mf,Zf,yf,Pe,nf,Aa,Pa,vb,Wb,Tb,ic,oc,fd,Wc,nd,Kd,de,je,Gd,Le,$d,Ie,Ce,Qe,Uf,ne,sf,Cf;return x(this,function(Bg){switch(Bg.label){case 0:od=Za.theme?l.mergeConfig(Td[Za.theme],
null!==(ub=Za.config)&&void 0!==ub?ub:{}):Za.config;Id=l.isBoolean(Za.actions)?Za.actions:P({},Yf,null!==(Yb=Za.actions)&&void 0!==Yb?Yb:{});jd=Ya(Ya({},If),Za.i18n);Qd=null!==($b=Za.renderer)&&void 0!==$b?$b:"canvas";ie=null!==(Oc=Za.logLevel)&&void 0!==Oc?Oc:Fe.Warn;Gf=null!==(gd=Za.downloadFileName)&&void 0!==gd?gd:"visualization";tf="string"===typeof wa?document.querySelector(wa):wa;if(!tf)throw Error(wa+" does not exist");!1!==Za.defaultStyle&&(kd=Ia(tf),We=kd.root,uf=kd.rootContainer,We.getElementById("vega-embed-style")||
(mf=document.createElement("style"),mf.id="vega-embed-style",mf.innerText=void 0===Za.defaultStyle||!0===Za.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Za.defaultStyle,uf.appendChild(mf)));Zf=V(Ea,Za.mode);yf=qe[Zf](Ea,od);"vega-lite"===Zf&&yf.$schema&&(Pe=K(yf.$schema),Be.satisfies(Bf.vega,"^"+Pe.version.slice(1))||console.warn("The compiled spec uses Vega "+Pe.version+", but current version is v"+Bf.vega+"."));tf.classList.add("vega-embed");Id&&tf.classList.add("has-actions");tf.innerHTML="";nf=tf;Id&&(Aa=document.createElement("div"),Aa.classList.add("chart-wrapper"),tf.appendChild(Aa),nf=Aa);(Pa=Za.patch)&&(yf=Pa instanceof Function?Pa(yf):y(yf,
Pa,!0,!1).newDocument);Za.formatLocale&&Fe.formatLocale(Za.formatLocale);Za.timeFormatLocale&&Fe.timeFormatLocale(Za.timeFormatLocale);vb=Za.ast;Wb=Fe.parse(yf,"vega-lite"===Zf?{}:od,{ast:vb});Tb=new Fe.View(Wb,Ya({loader:Cb,logLevel:ie,renderer:Qd},vb?{expr:Fe.expressionInterpreter}:{}));!1!==Za.tooltip&&(ic=void 0,ic="function"===typeof Za.tooltip?Za.tooltip:(new le(!0===Za.tooltip?{}:Za.tooltip)).call,Tb.tooltip(ic));oc=Za.hover;void 0===oc&&(oc="vega"===Zf);oc&&(fd="boolean"===typeof oc?{}:oc,
Wc=fd.hoverSet,nd=fd.updateSet,Tb.hover(Wc,nd));Za&&(null!=Za.width&&Tb.width(Za.width),null!=Za.height&&Tb.height(Za.height),null!=Za.padding&&Tb.padding(Za.padding));return[4,Tb.initialize(nf,Za.bind).runAsync()];case 1:Bg.sent();if(!1!==Id){de=tf;!1!==Za.defaultStyle&&(je=document.createElement("details"),je.title=jd.CLICK_TO_VIEW_ACTIONS,tf.append(je),de=je,Gd=document.createElement("summary"),Gd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
je.append(Gd),Kd=function(Lf){je.contains(Lf.target)||je.removeAttribute("open")},document.addEventListener("click",Kd));Le=document.createElement("div");de.append(Le);Le.classList.add("vega-actions");if(!0===Id||!1!==Id["export"])for($d=function(Lf){if(!0===Id||!0===Id["export"]||Id["export"][Lf]){var jg=jd[Lf.toUpperCase()+"_ACTION"],xa=document.createElement("a");xa.text=jg;xa.href="#";xa.target="_blank";xa.download=Gf+"."+Lf;xa.addEventListener("mousedown",function(za){return N(this,void 0,void 0,
function(){var Na;return x(this,function(Sa){switch(Sa.label){case 0:return za.preventDefault(),[4,Tb.toImageURL(Lf,Za.scaleFactor)];case 1:return this.href=Na=Sa.sent(),[2]}})})});Le.append(xa)}},Ie=0,Ce=["svg","png"];Ie<Ce.length;Ie++)Qe=Ce[Ie],$d(Qe);if(!0===Id||!1!==Id.source)Uf=document.createElement("a"),Uf.text=jd.SOURCE_ACTION,Uf.href="#",Uf.addEventListener("click",function(Lf){var jg,xa;C($a(Ea),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(xa=Za.sourceFooter)&&void 0!==xa?xa:"",
Zf);Lf.preventDefault()}),Le.append(Uf);"vega-lite"!==Zf||!0!==Id&&!1===Id.compiled||(ne=document.createElement("a"),ne.text=jd.COMPILED_ACTION,ne.href="#",ne.addEventListener("click",function(Lf){var jg,xa;C($a(yf),null!==(jg=Za.sourceHeader)&&void 0!==jg?jg:"",null!==(xa=Za.sourceFooter)&&void 0!==xa?xa:"","vega");Lf.preventDefault()}),Le.append(ne));if(!0===Id||!1!==Id.editor)sf=null!==(Mc=Za.editorUrl)&&void 0!==Mc?Mc:"https://vega.github.io/editor/",Cf=document.createElement("a"),Cf.text=jd.EDITOR_ACTION,
Cf.href="#",Cf.addEventListener("click",function(Lf){Z(window,sf,{config:od,mode:Zf,renderer:Qd,spec:$a(Ea)});Lf.preventDefault()}),Le.append(Cf)}return[2,{view:Tb,spec:Ea,vgSpec:yf,finalize:Nd}]}})})}function kb(wa,Ea){var Za;void 0===Ea&&(Ea={});return N(this,void 0,void 0,function(){var Cb,ub,Yb,$b;return x(this,function(Oc){switch(Oc.label){case 0:return Cb=document.createElement("div"),Cb.classList.add("vega-embed-wrapper"),ub=document.createElement("div"),Cb.appendChild(ub),Yb=!0===Ea.actions||
!1===Ea.actions?Ea.actions:Ya({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Za=Ea.actions)&&void 0!==Za?Za:{}),[4,ya(ub,wa,Ya({actions:Yb},null!==Ea&&void 0!==Ea?Ea:{}))];case 1:return $b=Oc.sent(),Cb.value=$b.view,[2,Cb]}})})}var ua=H(l),Ta=H(w),Ya=function(){Ya=Object.assign||function(wa){for(var Ea,Za=1,Cb=arguments.length;Za<Cb;Za++){Ea=arguments[Za];for(var ub in Ea)Object.prototype.hasOwnProperty.call(Ea,ub)&&(wa[ub]=Ea[ub])}return wa};return Ya.apply(this,arguments)},Da=function(){var wa=
function(Ea,Za){wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Cb,ub){Cb.__proto__=ub}||function(Cb,ub){for(var Yb in ub)ub.hasOwnProperty(Yb)&&(Cb[Yb]=ub[Yb])};return wa(Ea,Za)};return function(Ea,Za){function Cb(){this.constructor=Ea}wa(Ea,Za);Ea.prototype=null===Za?Object.create(Za):(Cb.prototype=Za.prototype,new Cb)}}(),ta=Object.prototype.hasOwnProperty,U=function(wa){function Ea(Za,Cb,ub,Yb,$b){var Oc=this.constructor,gd=wa.call(this,a(Za,{name:Cb,index:ub,operation:Yb,tree:$b}))||
this;gd.name=Cb;gd.index=ub;gd.operation=Yb;gd.tree=$b;Object.setPrototypeOf(gd,Oc.prototype);gd.message=a(Za,{name:Cb,index:ub,operation:Yb,tree:$b});return gd}Da(Ea,wa);return Ea}(Error),W=U,ba={add:function(wa,Ea,Za){wa[Ea]=this.value;return{newDocument:Za}},remove:function(wa,Ea,Za){var Cb=wa[Ea];delete wa[Ea];return{newDocument:Za,removed:Cb}},replace:function(wa,Ea,Za){var Cb=wa[Ea];wa[Ea]=this.value;return{newDocument:Za,removed:Cb}},move:function(wa,Ea,Za){(wa=e(Za,this.path))&&(wa=u(wa));
Ea=n(Za,{op:"remove",path:this.from}).removed;n(Za,{op:"add",path:this.path,value:Ea});return{newDocument:Za,removed:wa}},copy:function(wa,Ea,Za){wa=e(Za,this.from);n(Za,{op:"add",path:this.path,value:u(wa)});return{newDocument:Za}},test:function(wa,Ea,Za){return{newDocument:Za,test:O(wa[Ea],this.value)}},_get:function(wa,Ea,Za){this.value=wa[Ea];return{newDocument:Za}}},ca={add:function(wa,Ea,Za){m(Ea)?wa.splice(Ea,0,this.value):wa[Ea]=this.value;return{newDocument:Za,index:Ea}},remove:function(wa,
Ea,Za){wa=wa.splice(Ea,1);return{newDocument:Za,removed:wa[0]}},replace:function(wa,Ea,Za){var Cb=wa[Ea];wa[Ea]=this.value;return{newDocument:Za,removed:Cb}},move:ba.move,copy:ba.copy,test:ba.test,_get:ba._get},ra=Object.freeze({__proto__:null,JsonPatchError:W,deepClone:u,getValueByPointer:e,applyOperation:n,applyPatch:y,applyReducer:function(wa,Ea,Za){var Cb=n(wa,Ea);if(!1===Cb.test)throw new W("Test operation failed","TEST_OPERATION_FAILED",Za,Ea,wa);return Cb.newDocument},validator:B,validate:D,
_areEquals:O}),qa=new WeakMap,Fa=function(){return function(wa){this.observers=new Map;this.obj=wa}}(),na=function(){return function(wa,Ea){this.callback=wa;this.observer=Ea}}(),Ra=Object.freeze({__proto__:null,unobserve:function(wa,Ea){Ea.unobserve()},observe:function(wa,Ea){var Za=qa.get(wa);if(Za){var Cb=Za.observers.get(Ea);var ub=Cb&&Cb.observer}else Za=new Fa(wa),qa.set(wa,Za);if(ub)return ub;ub={};Za.value=u(wa);if(Ea){ub.callback=Ea;ub.next=null;var Yb=function(){M(ub)},$b=function(){clearTimeout(ub.next);
ub.next=setTimeout(Yb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",$b),window.addEventListener("keyup",$b),window.addEventListener("mousedown",$b),window.addEventListener("keydown",$b),window.addEventListener("change",$b))}ub.patches=[];ub.object=wa;ub.unobserve=function(){M(ub);clearTimeout(ub.next);Za.observers.delete(ub.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",$b),window.removeEventListener("keyup",$b),window.removeEventListener("mousedown",
$b),window.removeEventListener("keydown",$b),window.removeEventListener("change",$b))};Za.observers.set(Ea,new na(Ea,ub));return ub},generate:M,compare:function(wa,Ea,Za){void 0===Za&&(Za=!1);var Cb=[];F(wa,Ea,Cb,"",Za);return Cb}});Object.assign({},ra,Ra,{JsonPatchError:U,deepClone:u,escapePathComponent:g,unescapePathComponent:d});var db=/("(?:[^\\"]|\\.)*")|[:,]/g,$a=function(wa,Ea){Ea=Ea||{};var Za=JSON.stringify([1],void 0,void 0===Ea.indent?2:Ea.indent).slice(2,-3);var Cb=""===Za?Infinity:void 0===
Ea.maxLength?80:Ea.maxLength;var ub=Ea.replacer;return function Mc($b,Oc,gd){$b&&"function"===typeof $b.toJSON&&($b=$b.toJSON());var Nd=JSON.stringify($b,ub);if(void 0===Nd)return Nd;gd=Cb-Oc.length-gd;if(Nd.length<=gd){var od=Nd.replace(db,function(We,uf){return uf||We+" "});if(od.length<=gd)return od}null!=ub&&($b=JSON.parse(Nd),ub=void 0);if("object"===typeof $b&&null!==$b){var Id=Oc+Za;var jd=[];var Qd=0;if(Array.isArray($b)){var ie="[";od="]";for(gd=$b.length;Qd<gd;Qd++)jd.push(Mc($b[Qd],Id,
Qd===gd-1?0:1)||"null")}else{ie="{";od="}";var Gf=Object.keys($b);for(gd=Gf.length;Qd<gd;Qd++){var tf=Gf[Qd];var kd=JSON.stringify(tf)+": ";tf=Mc($b[tf],Id,kd.length+(Qd===gd-1?0:1));void 0!==tf&&jd.push(kd+tf)}}if(0<jd.length)return[ie,Za+jd.join(",\n"+Id),od].join("\n"+Oc)}return Nd}(wa,"",0)},Ca={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ga="object"===typeof k&&k.env&&k.env.NODE_DEBUG&&/\bsemver\b/i.test(k.env.NODE_DEBUG)?
(...wa)=>console.error("SEMVER",...wa):()=>{},pa=function(wa){var Ea={exports:{}};return wa(Ea,Ea.exports),Ea.exports}(function(wa,Ea){const {MAX_SAFE_COMPONENT_LENGTH:Za}=Ca;Ea=wa.exports={};const Cb=Ea.re=[],ub=Ea.src=[],Yb=Ea.t={};let $b=0;wa=(Oc,gd,Mc)=>{const Nd=$b++;Ga(Nd,gd);Yb[Oc]=Nd;ub[Nd]=gd;Cb[Nd]=new RegExp(gd,Mc?"g":void 0)};wa("NUMERICIDENTIFIER","0|[1-9]\\d*");wa("NUMERICIDENTIFIERLOOSE","[0-9]+");wa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");wa("MAINVERSION",`(${ub[Yb.NUMERICIDENTIFIER]})\\.`+
`(${ub[Yb.NUMERICIDENTIFIER]})\\.`+`(${ub[Yb.NUMERICIDENTIFIER]})`);wa("MAINVERSIONLOOSE",`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${ub[Yb.NUMERICIDENTIFIERLOOSE]})`);wa("PRERELEASEIDENTIFIER",`(?:${ub[Yb.NUMERICIDENTIFIER]}|${ub[Yb.NONNUMERICIDENTIFIER]})`);wa("PRERELEASEIDENTIFIERLOOSE",`(?:${ub[Yb.NUMERICIDENTIFIERLOOSE]}|${ub[Yb.NONNUMERICIDENTIFIER]})`);wa("PRERELEASE",`(?:-(${ub[Yb.PRERELEASEIDENTIFIER]}(?:\\.${ub[Yb.PRERELEASEIDENTIFIER]})*))`);wa("PRERELEASELOOSE",
`(?:-?(${ub[Yb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ub[Yb.PRERELEASEIDENTIFIERLOOSE]})*))`);wa("BUILDIDENTIFIER","[0-9A-Za-z-]+");wa("BUILD",`(?:\\+(${ub[Yb.BUILDIDENTIFIER]}(?:\\.${ub[Yb.BUILDIDENTIFIER]})*))`);wa("FULLPLAIN",`v?${ub[Yb.MAINVERSION]}${ub[Yb.PRERELEASE]}?${ub[Yb.BUILD]}?`);wa("FULL",`^${ub[Yb.FULLPLAIN]}$`);wa("LOOSEPLAIN",`[v=\\s]*${ub[Yb.MAINVERSIONLOOSE]}${ub[Yb.PRERELEASELOOSE]}?${ub[Yb.BUILD]}?`);wa("LOOSE",`^${ub[Yb.LOOSEPLAIN]}$`);wa("GTLT","((?:\x3c|\x3e)?\x3d?)");wa("XRANGEIDENTIFIERLOOSE",
`${ub[Yb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);wa("XRANGEIDENTIFIER",`${ub[Yb.NUMERICIDENTIFIER]}|x|X|\\*`);wa("XRANGEPLAIN",`[v=\\s]*(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIER]})`+`(?:${ub[Yb.PRERELEASE]})?${ub[Yb.BUILD]}?`+")?)?");wa("XRANGEPLAINLOOSE",`[v=\\s]*(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${ub[Yb.XRANGEIDENTIFIERLOOSE]})`+`(?:${ub[Yb.PRERELEASELOOSE]})?${ub[Yb.BUILD]}?`+")?)?");wa("XRANGE",
`^${ub[Yb.GTLT]}\\s*${ub[Yb.XRANGEPLAIN]}$`);wa("XRANGELOOSE",`^${ub[Yb.GTLT]}\\s*${ub[Yb.XRANGEPLAINLOOSE]}$`);wa("COERCE",`${"(^|[^\\d])(\\d{1,"}${Za}})`+`(?:\\.(\\d{1,${Za}}))?`+`(?:\\.(\\d{1,${Za}}))?`+"(?:$|[^\\d])");wa("COERCERTL",ub[Yb.COERCE],!0);wa("LONETILDE","(?:~\x3e?)");wa("TILDETRIM",`(\\s*)${ub[Yb.LONETILDE]}\\s+`,!0);Ea.tildeTrimReplace="$1~";wa("TILDE",`^${ub[Yb.LONETILDE]}${ub[Yb.XRANGEPLAIN]}$`);wa("TILDELOOSE",`^${ub[Yb.LONETILDE]}${ub[Yb.XRANGEPLAINLOOSE]}$`);wa("LONECARET","(?:\\^)");
wa("CARETTRIM",`(\\s*)${ub[Yb.LONECARET]}\\s+`,!0);Ea.caretTrimReplace="$1^";wa("CARET",`^${ub[Yb.LONECARET]}${ub[Yb.XRANGEPLAIN]}$`);wa("CARETLOOSE",`^${ub[Yb.LONECARET]}${ub[Yb.XRANGEPLAINLOOSE]}$`);wa("COMPARATORLOOSE",`^${ub[Yb.GTLT]}\\s*(${ub[Yb.LOOSEPLAIN]})$|^$`);wa("COMPARATOR",`^${ub[Yb.GTLT]}\\s*(${ub[Yb.FULLPLAIN]})$|^$`);wa("COMPARATORTRIM",`(\\s*)${ub[Yb.GTLT]}\\s*(${ub[Yb.LOOSEPLAIN]}|${ub[Yb.XRANGEPLAIN]})`,!0);Ea.comparatorTrimReplace="$1$2$3";wa("HYPHENRANGE",`^\\s*(${ub[Yb.XRANGEPLAIN]})`+
"\\s+-\\s+"+`(${ub[Yb.XRANGEPLAIN]})`+"\\s*$");wa("HYPHENRANGELOOSE",`^\\s*(${ub[Yb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${ub[Yb.XRANGEPLAINLOOSE]})`+"\\s*$");wa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");wa("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");wa("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const Ha=["includePrerelease","loose","rtl"];var Ua=wa=>wa?"object"!==typeof wa?{loose:!0}:Ha.filter(Ea=>wa[Ea]).reduce((Ea,Za)=>{Ea[Za]=!0;return Ea},{}):{};const jb=/^[0-9]+$/,Fb=(wa,Ea)=>{const Za=jb.test(wa),Cb=jb.test(Ea);
Za&&Cb&&(wa=+wa,Ea=+Ea);return wa===Ea?0:Za&&!Cb?-1:Cb&&!Za?1:wa<Ea?-1:1};var Xb={compareIdentifiers:Fb,rcompareIdentifiers:(wa,Ea)=>Fb(Ea,wa)};const {MAX_LENGTH:nc,MAX_SAFE_INTEGER:md}=Ca,{re:pc,t:Hc}=pa,{compareIdentifiers:mb}=Xb;class hc{constructor(wa,Ea){Ea=Ua(Ea);if(wa instanceof hc){if(wa.loose===!!Ea.loose&&wa.includePrerelease===!!Ea.includePrerelease)return wa;wa=wa.version}else if("string"!==typeof wa)throw new TypeError(`Invalid Version: ${wa}`);if(wa.length>nc)throw new TypeError(`version is longer than ${nc} characters`);
Ga("SemVer",wa,Ea);this.options=Ea;this.loose=!!Ea.loose;this.includePrerelease=!!Ea.includePrerelease;Ea=wa.trim().match(Ea.loose?pc[Hc.LOOSE]:pc[Hc.FULL]);if(!Ea)throw new TypeError(`Invalid Version: ${wa}`);this.raw=wa;this.major=+Ea[1];this.minor=+Ea[2];this.patch=+Ea[3];if(this.major>md||0>this.major)throw new TypeError("Invalid major version");if(this.minor>md||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>md||0>this.patch)throw new TypeError("Invalid patch version");
this.prerelease=Ea[4]?Ea[4].split(".").map(Za=>{if(/^[0-9]+$/.test(Za)){const Cb=+Za;if(0<=Cb&&Cb<md)return Cb}return Za}):[];this.build=Ea[5]?Ea[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(wa){Ga("SemVer.compare",this.version,this.options,wa);if(!(wa instanceof hc)){if("string"===typeof wa&&wa===this.version)return 0;
wa=new hc(wa,this.options)}return wa.version===this.version?0:this.compareMain(wa)||this.comparePre(wa)}compareMain(wa){wa instanceof hc||(wa=new hc(wa,this.options));return mb(this.major,wa.major)||mb(this.minor,wa.minor)||mb(this.patch,wa.patch)}comparePre(wa){wa instanceof hc||(wa=new hc(wa,this.options));if(this.prerelease.length&&!wa.prerelease.length)return-1;if(!this.prerelease.length&&wa.prerelease.length)return 1;if(!this.prerelease.length&&!wa.prerelease.length)return 0;let Ea=0;do{const Za=
this.prerelease[Ea],Cb=wa.prerelease[Ea];Ga("prerelease compare",Ea,Za,Cb);if(void 0===Za&&void 0===Cb)return 0;if(void 0===Cb)return 1;if(void 0===Za)return-1;if(Za!==Cb)return mb(Za,Cb)}while(++Ea)}compareBuild(wa){wa instanceof hc||(wa=new hc(wa,this.options));let Ea=0;do{const Za=this.build[Ea],Cb=wa.build[Ea];Ga("prerelease compare",Ea,Za,Cb);if(void 0===Za&&void 0===Cb)return 0;if(void 0===Cb)return 1;if(void 0===Za)return-1;if(Za!==Cb)return mb(Za,Cb)}while(++Ea)}inc(wa,Ea){switch(wa){case "premajor":this.minor=
this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Ea);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Ea);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Ea);this.inc("pre",Ea);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Ea);this.inc("pre",Ea);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&
0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(wa=this.prerelease.length;0<=--wa;)"number"===typeof this.prerelease[wa]&&(this.prerelease[wa]++,wa=-2);-1===wa&&this.prerelease.push(0)}Ea&&(this.prerelease[0]===Ea?isNaN(this.prerelease[1])&&(this.prerelease=[Ea,0]):this.prerelease=[Ea,0]);break;default:throw Error(`invalid increment argument: ${wa}`);
}this.format();this.raw=this.version;return this}}var jc=hc;const {MAX_LENGTH:rc}=Ca,{re:Pc,t:sc}=pa;var Uc=(wa,Ea)=>{Ea=Ua(Ea);if(wa instanceof jc)return wa;if("string"!==typeof wa||wa.length>rc||!(Ea.loose?Pc[sc.LOOSE]:Pc[sc.FULL]).test(wa))return null;try{return new jc(wa,Ea)}catch(Za){return null}},Sc=(wa,Ea,Za)=>(new jc(wa,Za)).compare(new jc(Ea,Za)),Lc=(wa,Ea,Za)=>{wa=new jc(wa,Za);Ea=new jc(Ea,Za);return wa.compare(Ea)||wa.compareBuild(Ea)},Fd=(wa,Ea,Za)=>0<Sc(wa,Ea,Za),ge=(wa,Ea,Za)=>0>Sc(wa,
Ea,Za),wd=(wa,Ea,Za)=>0<=Sc(wa,Ea,Za),vd=(wa,Ea,Za)=>0>=Sc(wa,Ea,Za),Wd=(wa,Ea,Za,Cb)=>{switch(Ea){case "\x3d\x3d\x3d":return"object"===typeof wa&&(wa=wa.version),"object"===typeof Za&&(Za=Za.version),wa===Za;case "!\x3d\x3d":return"object"===typeof wa&&(wa=wa.version),"object"===typeof Za&&(Za=Za.version),wa!==Za;case "":case "\x3d":case "\x3d\x3d":return 0===Sc(wa,Za,Cb);case "!\x3d":return 0!==Sc(wa,Za,Cb);case "\x3e":return 0<Sc(wa,Za,Cb);case "\x3e\x3d":return 0<=Sc(wa,Za,Cb);case "\x3c":return 0>
Sc(wa,Za,Cb);case "\x3c\x3d":return 0>=Sc(wa,Za,Cb);default:throw new TypeError(`Invalid operator: ${Ea}`);}};const {re:Pb,t:gc}=pa;var Eb=function(wa){wa.prototype[Symbol.iterator]=function*(){for(let Ea=this.head;Ea;Ea=Ea.next)yield Ea.value}};z.Node=G;z.create=z;z.prototype.removeNode=function(wa){if(wa.list!==this)throw Error("removing node which does not belong to this list");var Ea=wa.next,Za=wa.prev;Ea&&(Ea.prev=Za);Za&&(Za.next=Ea);wa===this.head&&(this.head=Ea);wa===this.tail&&(this.tail=
Za);wa.list.length--;wa.next=null;wa.prev=null;wa.list=null;return Ea};z.prototype.unshiftNode=function(wa){if(wa!==this.head){wa.list&&wa.list.removeNode(wa);var Ea=this.head;wa.list=this;if(wa.next=Ea)Ea.prev=wa;this.head=wa;this.tail||(this.tail=wa);this.length++}};z.prototype.pushNode=function(wa){if(wa!==this.tail){wa.list&&wa.list.removeNode(wa);var Ea=this.tail;wa.list=this;if(wa.prev=Ea)Ea.next=wa;this.tail=wa;this.head||(this.head=wa);this.length++}};z.prototype.push=function(){for(var wa=
0,Ea=arguments.length;wa<Ea;wa++)this.tail=new G(arguments[wa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};z.prototype.unshift=function(){for(var wa=0,Ea=arguments.length;wa<Ea;wa++)this.head=new G(arguments[wa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};z.prototype.pop=function(){if(this.tail){var wa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return wa}};z.prototype.shift=
function(){if(this.head){var wa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return wa}};z.prototype.forEach=function(wa,Ea){Ea=Ea||this;for(var Za=this.head,Cb=0;null!==Za;Cb++)wa.call(Ea,Za.value,Cb,this),Za=Za.next};z.prototype.forEachReverse=function(wa,Ea){Ea=Ea||this;for(var Za=this.tail,Cb=this.length-1;null!==Za;Cb--)wa.call(Ea,Za.value,Cb,this),Za=Za.prev};z.prototype.get=function(wa){for(var Ea=0,Za=this.head;null!==Za&&Ea<wa;Ea++)Za=Za.next;
if(Ea===wa&&null!==Za)return Za.value};z.prototype.getReverse=function(wa){for(var Ea=0,Za=this.tail;null!==Za&&Ea<wa;Ea++)Za=Za.prev;if(Ea===wa&&null!==Za)return Za.value};z.prototype.map=function(wa,Ea){Ea=Ea||this;for(var Za=new z,Cb=this.head;null!==Cb;)Za.push(wa.call(Ea,Cb.value,this)),Cb=Cb.next;return Za};z.prototype.mapReverse=function(wa,Ea){Ea=Ea||this;for(var Za=new z,Cb=this.tail;null!==Cb;)Za.push(wa.call(Ea,Cb.value,this)),Cb=Cb.prev;return Za};z.prototype.reduce=function(wa,Ea){var Za=
this.head;if(1<arguments.length)var Cb=Ea;else if(this.head)Za=this.head.next,Cb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=0;null!==Za;ub++)Cb=wa(Cb,Za.value,ub),Za=Za.next;return Cb};z.prototype.reduceReverse=function(wa,Ea){var Za=this.tail;if(1<arguments.length)var Cb=Ea;else if(this.tail)Za=this.tail.prev,Cb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var ub=this.length-1;null!==Za;ub--)Cb=wa(Cb,
Za.value,ub),Za=Za.prev;return Cb};z.prototype.toArray=function(){for(var wa=Array(this.length),Ea=0,Za=this.head;null!==Za;Ea++)wa[Ea]=Za.value,Za=Za.next;return wa};z.prototype.toArrayReverse=function(){for(var wa=Array(this.length),Ea=0,Za=this.tail;null!==Za;Ea++)wa[Ea]=Za.value,Za=Za.prev;return wa};z.prototype.slice=function(wa,Ea){Ea=Ea||this.length;0>Ea&&(Ea+=this.length);wa=wa||0;0>wa&&(wa+=this.length);var Za=new z;if(Ea<wa||0>Ea)return Za;0>wa&&(wa=0);Ea>this.length&&(Ea=this.length);for(var Cb=
0,ub=this.head;null!==ub&&Cb<wa;Cb++)ub=ub.next;for(;null!==ub&&Cb<Ea;Cb++,ub=ub.next)Za.push(ub.value);return Za};z.prototype.sliceReverse=function(wa,Ea){Ea=Ea||this.length;0>Ea&&(Ea+=this.length);wa=wa||0;0>wa&&(wa+=this.length);var Za=new z;if(Ea<wa||0>Ea)return Za;0>wa&&(wa=0);Ea>this.length&&(Ea=this.length);for(var Cb=this.length,ub=this.tail;null!==ub&&Cb>Ea;Cb--)ub=ub.prev;for(;null!==ub&&Cb>wa;Cb--,ub=ub.prev)Za.push(ub.value);return Za};z.prototype.splice=function(wa,Ea,...Za){wa>this.length&&
(wa=this.length-1);0>wa&&(wa=this.length+wa);for(var Cb=0,ub=this.head;null!==ub&&Cb<wa;Cb++)ub=ub.next;wa=[];for(Cb=0;ub&&Cb<Ea;Cb++)wa.push(ub.value),ub=this.removeNode(ub);null===ub&&(ub=this.tail);ub!==this.head&&ub!==this.tail&&(ub=ub.prev);for(Cb=0;Cb<Za.length;Cb++)Ea=ub,ub=Za[Cb],Ea=Ea===this.head?new G(ub,null,Ea,this):new G(ub,Ea,Ea.next,this),null===Ea.next&&(this.tail=Ea),null===Ea.prev&&(this.head=Ea),this.length++,ub=Ea;return wa};z.prototype.reverse=function(){for(var wa=this.head,
Ea=this.tail,Za=wa;null!==Za;Za=Za.prev){var Cb=Za.prev;Za.prev=Za.next;Za.next=Cb}this.head=Ea;this.tail=wa;return this};try{Eb(z)}catch(wa){}const zc=Symbol("max"),Vc=Symbol("length"),Ed=Symbol("lengthCalculator"),Vd=Symbol("allowStale"),Ka=Symbol("maxAge"),eb=Symbol("dispose"),wb=Symbol("noDisposeOnSet"),Hb=Symbol("lruList"),ac=Symbol("cache"),Lb=Symbol("updateAgeOnGet"),Ac=()=>1;class tc{constructor(wa){"number"===typeof wa&&(wa={max:wa});wa||(wa={});if(wa.max&&("number"!==typeof wa.max||0>wa.max))throw new TypeError("max must be a non-negative number");
this[zc]=wa.max||Infinity;const Ea=wa.length||Ac;this[Ed]="function"!==typeof Ea?Ac:Ea;this[Vd]=wa.stale||!1;if(wa.maxAge&&"number"!==typeof wa.maxAge)throw new TypeError("maxAge must be a number");this[Ka]=wa.maxAge||0;this[eb]=wa.dispose;this[wb]=wa.noDisposeOnSet||!1;this[Lb]=wa.updateAgeOnGet||!1;this.reset()}set max(wa){if("number"!==typeof wa||0>wa)throw new TypeError("max must be a non-negative number");this[zc]=wa||Infinity;Ub(this)}get max(){return this[zc]}set allowStale(wa){this[Vd]=!!wa}get allowStale(){return this[Vd]}set maxAge(wa){if("number"!==
typeof wa)throw new TypeError("maxAge must be a non-negative number");this[Ka]=wa;Ub(this)}get maxAge(){return this[Ka]}set lengthCalculator(wa){"function"!==typeof wa&&(wa=Ac);wa!==this[Ed]&&(this[Ed]=wa,this[Vc]=0,this[Hb].forEach(Ea=>{Ea.length=this[Ed](Ea.value,Ea.key);this[Vc]+=Ea.length}));Ub(this)}get lengthCalculator(){return this[Ed]}get length(){return this[Vc]}get itemCount(){return this[Hb].length}rforEach(wa,Ea){Ea=Ea||this;for(let Za=this[Hb].tail;null!==Za;){const Cb=Za.prev;Cc(this,
wa,Za,Ea);Za=Cb}}forEach(wa,Ea){Ea=Ea||this;for(let Za=this[Hb].head;null!==Za;){const Cb=Za.next;Cc(this,wa,Za,Ea);Za=Cb}}keys(){return this[Hb].toArray().map(wa=>wa.key)}values(){return this[Hb].toArray().map(wa=>wa.value)}reset(){this[eb]&&this[Hb]&&this[Hb].length&&this[Hb].forEach(wa=>this[eb](wa.key,wa.value));this[ac]=new Map;this[Hb]=new z;this[Vc]=0}dump(){return this[Hb].map(wa=>Bb(this,wa)?!1:{k:wa.key,v:wa.value,e:wa.now+(wa.maxAge||0)}).toArray().filter(wa=>wa)}dumpLru(){return this[Hb]}set(wa,
Ea,Za){if((Za=Za||this[Ka])&&"number"!==typeof Za)throw new TypeError("maxAge must be a number");const Cb=Za?Date.now():0,ub=this[Ed](Ea,wa);if(this[ac].has(wa)){if(ub>this[zc])return mc(this,this[ac].get(wa)),!1;const Yb=this[ac].get(wa).value;if(this[eb]&&!this[wb])this[eb](wa,Yb.value);Yb.now=Cb;Yb.maxAge=Za;Yb.value=Ea;this[Vc]+=ub-Yb.length;Yb.length=ub;this.get(wa);Ub(this);return!0}Za=new Bc(wa,Ea,ub,Cb,Za);if(Za.length>this[zc]){if(this[eb])this[eb](wa,Ea);return!1}this[Vc]+=Za.length;this[Hb].unshift(Za);
this[ac].set(wa,this[Hb].head);Ub(this);return!0}has(wa){if(!this[ac].has(wa))return!1;wa=this[ac].get(wa).value;return!Bb(this,wa)}get(wa){return pb(this,wa,!0)}peek(wa){return pb(this,wa,!1)}pop(){const wa=this[Hb].tail;if(!wa)return null;mc(this,wa);return wa.value}del(wa){mc(this,this[ac].get(wa))}load(wa){this.reset();const Ea=Date.now();for(let Cb=wa.length-1;0<=Cb;Cb--){const ub=wa[Cb];var Za=ub.e||0;0===Za?this.set(ub.k,ub.v):(Za-=Ea,0<Za&&this.set(ub.k,ub.v,Za))}}prune(){this[ac].forEach((wa,
Ea)=>pb(this,Ea,!1))}}const pb=(wa,Ea,Za)=>{if(Ea=wa[ac].get(Ea)){const Cb=Ea.value;if(Bb(wa,Cb)){if(mc(wa,Ea),!wa[Vd])return}else Za&&(wa[Lb]&&(Ea.value.now=Date.now()),wa[Hb].unshiftNode(Ea));return Cb.value}},Bb=(wa,Ea)=>{if(!Ea||!Ea.maxAge&&!wa[Ka])return!1;const Za=Date.now()-Ea.now;return Ea.maxAge?Za>Ea.maxAge:wa[Ka]&&Za>wa[Ka]},Ub=wa=>{if(wa[Vc]>wa[zc])for(let Ea=wa[Hb].tail;wa[Vc]>wa[zc]&&null!==Ea;){const Za=Ea.prev;mc(wa,Ea);Ea=Za}},mc=(wa,Ea)=>{if(Ea){const Za=Ea.value;if(wa[eb])wa[eb](Za.key,
Za.value);wa[Vc]-=Za.length;wa[ac].delete(Za.key);wa[Hb].removeNode(Ea)}};class Bc{constructor(wa,Ea,Za,Cb,ub){this.key=wa;this.value=Ea;this.length=Za;this.now=Cb;this.maxAge=ub||0}}const Cc=(wa,Ea,Za,Cb)=>{let ub=Za.value;Bb(wa,ub)&&(mc(wa,Za),wa[Vd]||(ub=void 0));ub&&Ea.call(Cb,ub.value,ub.key,wa)};class Xc{constructor(wa,Ea){Ea=Ua(Ea);if(wa instanceof Xc)return wa.loose===!!Ea.loose&&wa.includePrerelease===!!Ea.includePrerelease?wa:new Xc(wa.raw,Ea);if(wa instanceof he)return this.raw=wa.value,
this.set=[[wa]],this.format(),this;this.options=Ea;this.loose=!!Ea.loose;this.includePrerelease=!!Ea.includePrerelease;this.raw=wa;this.set=wa.split(/\s*\|\|\s*/).map(Za=>this.parseRange(Za.trim())).filter(Za=>Za.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${wa}`);if(1<this.set.length)if(wa=this.set[0],this.set=this.set.filter(Za=>"\x3c0.0.0-0"!==Za[0].value),0===this.set.length)this.set=[wa];else if(1<this.set.length)for(const Za of this.set)if(1===Za.length&&""===Za[0].value){this.set=
[Za];break}this.format()}format(){return this.range=this.set.map(wa=>wa.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(wa){wa=wa.trim();const Ea=`parseRange:${Object.keys(this.options).join(",")}:${wa}`;var Za=Ic.get(Ea);if(Za)return Za;Za=this.options.loose;wa=wa.replace(Za?Dc[uc.HYPHENRANGELOOSE]:Dc[uc.HYPHENRANGE],Ze(this.options.includePrerelease));Ga("hyphen replace",wa);wa=wa.replace(Dc[uc.COMPARATORTRIM],Tc);Ga("comparator trim",wa,Dc[uc.COMPARATORTRIM]);wa=wa.replace(Dc[uc.TILDETRIM],
ad);wa=wa.replace(Dc[uc.CARETTRIM],ld);wa=wa.split(/\s+/).join(" ");const Cb=Za?Dc[uc.COMPARATORLOOSE]:Dc[uc.COMPARATOR];wa=wa.split(" ").map(Yb=>{var $b=Yb;Yb=this.options;Ga("comp",$b,Yb);$b=oe($b,Yb);Ga("caret",$b);$b=Ud($b,Yb);Ga("tildes",$b);$b=fe($b,Yb);Ga("xrange",$b);Ga("replaceStars",$b,Yb);$b=$b.trim().replace(Dc[uc.STAR],"");Ga("stars",$b);return $b}).join(" ").split(/\s+/).map(Yb=>{var $b=this.options;Ga("replaceGTE0",Yb,$b);return Yb.trim().replace(Dc[$b.includePrerelease?uc.GTE0PRE:
uc.GTE0],"")}).filter(this.options.loose?Yb=>!!Yb.match(Cb):()=>!0).map(Yb=>new he(Yb,this.options));wa.length;Za=new Map;for(var ub of wa){if("\x3c0.0.0-0"===ub.value)return[ub];Za.set(ub.value,ub)}1<Za.size&&Za.has("")&&Za.delete("");ub=[...Za.values()];Ic.set(Ea,ub);return ub}intersects(wa,Ea){if(!(wa instanceof Xc))throw new TypeError("a Range is required");return this.set.some(Za=>Cd(Za,Ea)&&wa.set.some(Cb=>Cd(Cb,Ea)&&Za.every(ub=>Cb.every(Yb=>ub.intersects(Yb,Ea)))))}test(wa){if(!wa)return!1;
if("string"===typeof wa)try{wa=new jc(wa,this.options)}catch(Yb){return!1}for(let Yb=0;Yb<this.set.length;Yb++){a:{var Ea=this.set[Yb];var Za=wa,Cb=this.options;for(var ub=0;ub<Ea.length;ub++)if(!Ea[ub].test(Za)){Ea=!1;break a}if(Za.prerelease.length&&!Cb.includePrerelease){for(Cb=0;Cb<Ea.length;Cb++)if(Ga(Ea[Cb].semver),Ea[Cb].semver!==he.ANY&&0<Ea[Cb].semver.prerelease.length&&(ub=Ea[Cb].semver,ub.major===Za.major&&ub.minor===Za.minor&&ub.patch===Za.patch)){Ea=!0;break a}Ea=!1}else Ea=!0}if(Ea)return!0}return!1}}
var Qb=Xc;const Ic=new tc({max:1E3}),{re:Dc,t:uc,comparatorTrimReplace:Tc,tildeTrimReplace:ad,caretTrimReplace:ld}=pa,Cd=(wa,Ea)=>{let Za=!0;wa=wa.slice();let Cb=wa.pop();for(;Za&&wa.length;)Za=wa.every(ub=>Cb.intersects(ub,Ea)),Cb=wa.pop();return Za},Dd=wa=>!wa||"x"===wa.toLowerCase()||"*"===wa,Ud=(wa,Ea)=>wa.trim().split(/\s+/).map(Za=>ae(Za,Ea)).join(" "),ae=(wa,Ea)=>wa.replace(Ea.loose?Dc[uc.TILDELOOSE]:Dc[uc.TILDE],(Za,Cb,ub,Yb,$b)=>{Ga("tilde",wa,Za,Cb,ub,Yb,$b);Dd(Cb)?Za="":Dd(ub)?Za=`>=${Cb}.0.0 <${+Cb+
1}.0.0-0`:Dd(Yb)?Za=`>=${Cb}.${ub}.0 <${Cb}.${+ub+1}.0-0`:$b?(Ga("replaceTilde pr",$b),Za=`>=${Cb}.${ub}.${Yb}-${$b} <${Cb}.${+ub+1}.0-0`):Za=`>=${Cb}.${ub}.${Yb} <${Cb}.${+ub+1}.0-0`;Ga("tilde return",Za);return Za}),oe=(wa,Ea)=>wa.trim().split(/\s+/).map(Za=>De(Za,Ea)).join(" "),De=(wa,Ea)=>{Ga("caret",wa,Ea);const Za=Ea.includePrerelease?"-0":"";return wa.replace(Ea.loose?Dc[uc.CARETLOOSE]:Dc[uc.CARET],(Cb,ub,Yb,$b,Oc)=>{Ga("caret",wa,Cb,ub,Yb,$b,Oc);Dd(ub)?Cb="":Dd(Yb)?Cb=`>=${ub}.0.0${Za} <${+ub+
1}.0.0-0`:Dd($b)?Cb="0"===ub?`>=${ub}.${Yb}.0${Za} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.0${Za} <${+ub+1}.0.0-0`:Oc?(Ga("replaceCaret pr",Oc),Cb="0"===ub?"0"===Yb?`>=${ub}.${Yb}.${$b}-${Oc} <${ub}.${Yb}.${+$b+1}-0`:`>=${ub}.${Yb}.${$b}-${Oc} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.${$b}-${Oc} <${+ub+1}.0.0-0`):(Ga("no pr"),Cb="0"===ub?"0"===Yb?`>=${ub}.${Yb}.${$b}${Za} <${ub}.${Yb}.${+$b+1}-0`:`>=${ub}.${Yb}.${$b}${Za} <${ub}.${+Yb+1}.0-0`:`>=${ub}.${Yb}.${$b} <${+ub+1}.0.0-0`);Ga("caret return",Cb);return Cb})},
fe=(wa,Ea)=>{Ga("replaceXRanges",wa,Ea);return wa.split(/\s+/).map(Za=>ef(Za,Ea)).join(" ")},ef=(wa,Ea)=>{wa=wa.trim();return wa.replace(Ea.loose?Dc[uc.XRANGELOOSE]:Dc[uc.XRANGE],(Za,Cb,ub,Yb,$b,Oc)=>{Ga("xRange",wa,Za,Cb,ub,Yb,$b,Oc);const gd=Dd(ub),Mc=gd||Dd(Yb);$b=Mc||Dd($b);"\x3d"===Cb&&$b&&(Cb="");Oc=Ea.includePrerelease?"-0":"";gd?Za="\x3e"===Cb||"\x3c"===Cb?"\x3c0.0.0-0":"*":Cb&&$b?(Mc&&(Yb=0),$b=0,"\x3e"===Cb?(Cb="\x3e\x3d",Mc?(ub=+ub+1,Yb=0):Yb=+Yb+1,$b=0):"\x3c\x3d"===Cb&&(Cb="\x3c",Mc?
ub=+ub+1:Yb=+Yb+1),"\x3c"===Cb&&(Oc="-0"),Za=`${Cb+ub}.${Yb}.${$b}${Oc}`):Mc?Za=`>=${ub}.0.0${Oc} <${+ub+1}.0.0-0`:$b&&(Za=`>=${ub}.${Yb}.0${Oc} <${ub}.${+Yb+1}.0-0`);Ga("xRange return",Za);return Za})},Ze=wa=>(Ea,Za,Cb,ub,Yb,$b,Oc,gd,Mc,Nd,od,Id,jd)=>{Za=Dd(Cb)?"":Dd(ub)?`>=${Cb}.0.0${wa?"-0":""}`:Dd(Yb)?`>=${Cb}.${ub}.0${wa?"-0":""}`:$b?`>=${Za}`:`>=${Za}${wa?"-0":""}`;gd=Dd(Mc)?"":Dd(Nd)?`<${+Mc+1}.0.0-0`:Dd(od)?`<${Mc}.${+Nd+1}.0-0`:Id?`<=${Mc}.${Nd}.${od}-${Id}`:wa?`<${Mc}.${Nd}.${+od+1}-0`:
`<=${gd}`;return`${Za} ${gd}`.trim()},df=Symbol("SemVer ANY");class Zd{static get ANY(){return df}constructor(wa,Ea){Ea=Ua(Ea);if(wa instanceof Zd){if(wa.loose===!!Ea.loose)return wa;wa=wa.value}Ga("comparator",wa,Ea);this.options=Ea;this.loose=!!Ea.loose;this.parse(wa);this.value=this.semver===df?"":this.operator+this.semver.version;Ga("comp",this)}parse(wa){const Ea=wa.match(this.options.loose?zf[Ue.COMPARATORLOOSE]:zf[Ue.COMPARATOR]);if(!Ea)throw new TypeError(`Invalid comparator: ${wa}`);this.operator=
void 0!==Ea[1]?Ea[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Ea[2]?new jc(Ea[2],this.options.loose):df}toString(){return this.value}test(wa){Ga("Comparator.test",wa,this.options.loose);if(this.semver===df||wa===df)return!0;if("string"===typeof wa)try{wa=new jc(wa,this.options)}catch(Ea){return!1}return Wd(wa,this.operator,this.semver,this.options)}intersects(wa,Ea){if(!(wa instanceof Zd))throw new TypeError("a Comparator is required");Ea&&"object"===typeof Ea||(Ea={loose:!!Ea,includePrerelease:!1});
if(""===this.operator)return""===this.value?!0:(new Qb(wa.value,Ea)).test(this.value);if(""===wa.operator)return""===wa.value?!0:(new Qb(this.value,Ea)).test(wa.semver);const Za=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===wa.operator||"\x3e"===wa.operator),Cb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===wa.operator||"\x3c"===wa.operator),ub=this.semver.version===wa.semver.version,Yb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===
wa.operator||"\x3c\x3d"===wa.operator),$b=Wd(this.semver,"\x3c",wa.semver,Ea)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===wa.operator||"\x3c"===wa.operator);wa=Wd(this.semver,"\x3e",wa.semver,Ea)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===wa.operator||"\x3e"===wa.operator);return Za||Cb||ub&&Yb||$b||wa}}var he=Zd;const {re:zf,t:Ue}=pa;var Nf=(wa,Ea,Za)=>{try{Ea=new Qb(Ea,Za)}catch(Cb){return!1}return Ea.test(wa)};const {ANY:me}=he;var te=(wa,Ea,Za,
Cb)=>{wa=new jc(wa,Cb);Ea=new Qb(Ea,Cb);let ub,Yb,$b,Oc;switch(Za){case "\x3e":ub=Fd;Za=vd;Yb=ge;$b="\x3e";Oc="\x3e\x3d";break;case "\x3c":ub=ge;Za=wd;Yb=Fd;$b="\x3c";Oc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(Nf(wa,Ea,Cb))return!1;for(let gd=0;gd<Ea.set.length;++gd){let Mc=null,Nd=null;Ea.set[gd].forEach(od=>{od.semver===me&&(od=new he("\x3e\x3d0.0.0"));Mc=Mc||od;Nd=Nd||od;ub(od.semver,Mc.semver,Cb)?Mc=od:Yb(od.semver,Nd.semver,Cb)&&(Nd=od)});
if(Mc.operator===$b||Mc.operator===Oc||(!Nd.operator||Nd.operator===$b)&&Za(wa,Nd.semver)||Nd.operator===Oc&&Yb(wa,Nd.semver))return!1}return!0};const {ANY:kf}=he,we=(wa,Ea,Za)=>{if(wa===Ea)return!0;if(1===wa.length&&wa[0].semver===kf)return 1===Ea.length&&Ea[0].semver===kf;const Cb=new Set;let ub,Yb;for(const Mc of wa)"\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator?ub=Od(ub,Mc,Za):"\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator?Yb=Xd(Yb,Mc,Za):Cb.add(Mc.semver);if(1<Cb.size)return null;let $b;if(ub&&
Yb&&($b=Sc(ub.semver,Yb.semver,Za),0<$b||0===$b&&("\x3e\x3d"!==ub.operator||"\x3c\x3d"!==Yb.operator)))return null;for(const Mc of Cb){if(ub&&!Nf(Mc,String(ub),Za)||Yb&&!Nf(Mc,String(Yb),Za))return null;for(const Nd of Ea)if(!Nf(Mc,String(Nd),Za))return!1;return!0}let Oc,gd;for(const Mc of Ea){gd=gd||"\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator;Oc=Oc||"\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator;if(ub)if("\x3e"===Mc.operator||"\x3e\x3d"===Mc.operator){if(wa=Od(ub,Mc,Za),wa===Mc&&wa!==ub)return!1}else if("\x3e\x3d"===
ub.operator&&!Nf(ub.semver,String(Mc),Za))return!1;if(Yb)if("\x3c"===Mc.operator||"\x3c\x3d"===Mc.operator){if(wa=Xd(Yb,Mc,Za),wa===Mc&&wa!==Yb)return!1}else if("\x3c\x3d"===Yb.operator&&!Nf(Yb.semver,String(Mc),Za))return!1;if(!Mc.operator&&(Yb||ub)&&0!==$b)return!1}return ub&&Oc&&!Yb&&0!==$b||Yb&&gd&&!ub&&0!==$b?!1:!0},Od=(wa,Ea,Za)=>{if(!wa)return Ea;Za=Sc(wa.semver,Ea.semver,Za);return 0<Za?wa:0>Za?Ea:"\x3e"===Ea.operator&&"\x3e\x3d"===wa.operator?Ea:wa},Xd=(wa,Ea,Za)=>{if(!wa)return Ea;Za=Sc(wa.semver,
Ea.semver,Za);return 0>Za?wa:0<Za?Ea:"\x3c"===Ea.operator&&"\x3c\x3d"===wa.operator?Ea:wa};var Be={re:pa.re,src:pa.src,tokens:pa.t,SEMVER_SPEC_VERSION:Ca.SEMVER_SPEC_VERSION,SemVer:jc,compareIdentifiers:Xb.compareIdentifiers,rcompareIdentifiers:Xb.rcompareIdentifiers,parse:Uc,valid:(wa,Ea)=>(wa=Uc(wa,Ea))?wa.version:null,clean:(wa,Ea)=>(wa=Uc(wa.trim().replace(/^[=v]+/,""),Ea))?wa.version:null,inc:(wa,Ea,Za,Cb)=>{"string"===typeof Za&&(Cb=Za,Za=void 0);try{return(new jc(wa,Za)).inc(Ea,Cb).version}catch(ub){return null}},
diff:(wa,Ea)=>{if(0===Sc(wa,Ea,void 0))return null;{wa=Uc(wa);Ea=Uc(Ea);var Za=wa.prerelease.length||Ea.prerelease.length;const Cb=Za?"pre":"";Za=Za?"prerelease":"";for(const ub in wa)if(("major"===ub||"minor"===ub||"patch"===ub)&&wa[ub]!==Ea[ub])return Cb+ub;return Za}},major:(wa,Ea)=>(new jc(wa,Ea)).major,minor:(wa,Ea)=>(new jc(wa,Ea)).minor,patch:(wa,Ea)=>(new jc(wa,Ea)).patch,prerelease:(wa,Ea)=>(wa=Uc(wa,Ea))&&wa.prerelease.length?wa.prerelease:null,compare:Sc,rcompare:(wa,Ea,Za)=>Sc(Ea,wa,Za),
compareLoose:(wa,Ea)=>Sc(wa,Ea,!0),compareBuild:Lc,sort:(wa,Ea)=>wa.sort((Za,Cb)=>Lc(Za,Cb,Ea)),rsort:(wa,Ea)=>wa.sort((Za,Cb)=>Lc(Cb,Za,Ea)),gt:Fd,lt:ge,eq:(wa,Ea,Za)=>0===Sc(wa,Ea,Za),neq:(wa,Ea,Za)=>0!==Sc(wa,Ea,Za),gte:wd,lte:vd,cmp:Wd,coerce:(wa,Ea)=>{if(wa instanceof jc)return wa;"number"===typeof wa&&(wa=String(wa));if("string"!==typeof wa)return null;Ea=Ea||{};let Za=null;if(Ea.rtl){let Cb;for(;(Cb=Pb[gc.COERCERTL].exec(wa))&&(!Za||Za.index+Za[0].length!==wa.length);)Za&&Cb.index+Cb[0].length===
Za.index+Za[0].length||(Za=Cb),Pb[gc.COERCERTL].lastIndex=Cb.index+Cb[1].length+Cb[2].length;Pb[gc.COERCERTL].lastIndex=-1}else Za=wa.match(Pb[gc.COERCE]);return null===Za?null:Uc(`${Za[2]}.${Za[3]||"0"}.${Za[4]||"0"}`,Ea)},Comparator:he,Range:Qb,satisfies:Nf,toComparators:(wa,Ea)=>(new Qb(wa,Ea)).set.map(Za=>Za.map(Cb=>Cb.value).join(" ").trim().split(" ")),maxSatisfying:(wa,Ea,Za)=>{let Cb=null,ub=null,Yb=null;try{Yb=new Qb(Ea,Za)}catch($b){return null}wa.forEach($b=>{!Yb.test($b)||Cb&&-1!==ub.compare($b)||
(Cb=$b,ub=new jc(Cb,Za))});return Cb},minSatisfying:(wa,Ea,Za)=>{let Cb=null,ub=null,Yb=null;try{Yb=new Qb(Ea,Za)}catch($b){return null}wa.forEach($b=>{!Yb.test($b)||Cb&&1!==ub.compare($b)||(Cb=$b,ub=new jc(Cb,Za))});return Cb},minVersion:(wa,Ea)=>{wa=new Qb(wa,Ea);Ea=new jc("0.0.0");if(wa.test(Ea))return Ea;Ea=new jc("0.0.0-0");if(wa.test(Ea))return Ea;Ea=null;for(let Za=0;Za<wa.set.length;++Za){let Cb=null;wa.set[Za].forEach(ub=>{const Yb=new jc(ub.semver.version);switch(ub.operator){case "\x3e":0===
Yb.prerelease.length?Yb.patch++:Yb.prerelease.push(0),Yb.raw=Yb.format();case "":case "\x3e\x3d":if(!Cb||0<Sc(Yb,Cb,void 0))Cb=Yb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${ub.operator}`);}});!Cb||Ea&&!(0<Sc(Ea,Cb,void 0))||(Ea=Cb)}return Ea&&wa.test(Ea)?Ea:null},validRange:(wa,Ea)=>{try{return(new Qb(wa,Ea)).range||"*"}catch(Za){return null}},outside:te,gtr:(wa,Ea,Za)=>te(wa,Ea,"\x3e",Za),ltr:(wa,Ea,Za)=>te(wa,Ea,"\x3c",Za),intersects:(wa,Ea,Za)=>{wa=new Qb(wa,
Za);Ea=new Qb(Ea,Za);return wa.intersects(Ea)},simplifyRange:(wa,Ea,Za)=>{var Cb=[],ub=null;let Yb=null;wa=wa.sort(($b,Oc)=>Sc($b,Oc,Za));for(const $b of wa)Nf($b,Ea,Za)?(Yb=$b,ub||(ub=$b)):(Yb&&Cb.push([ub,Yb]),ub=Yb=null);ub&&Cb.push([ub,null]);ub=[];for(const [$b,Oc]of Cb)$b===Oc?ub.push($b):Oc||$b!==wa[0]?Oc?$b===wa[0]?ub.push(`<=${Oc}`):ub.push(`${$b} - ${Oc}`):ub.push(`>=${$b}`):ub.push("*");Cb=ub.join(" || ");return Cb.length<("string"===typeof Ea.raw?Ea.raw:String(Ea)).length?Cb:Ea},subset:(wa,
Ea,Za)=>{if(wa===Ea)return!0;wa=new Qb(wa,Za);Ea=new Qb(Ea,Za);let Cb=!1;a:for(const ub of wa.set){for(const Yb of Ea.set)if(wa=we(ub,Yb,Za),Cb=Cb||null!==wa,wa)continue a;if(Cb)return!1}return!0}};const jf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Ge={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Td=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},
rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",
grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:jf["category-6"],diverging:jf["fireandice-6"],heatmap:jf["fire-7"],ordinal:jf["fire-7"],ramp:jf["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Ge["six-groups-cat-1"],diverging:Ge["diverging-colors"],heatmap:Ge["diverging-colors"],ordinal:Ge["six-groups-seq"],ramp:Ge["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Ye=wa=>function(Ea){return Ea[wa]},Xf=wa=>{const Ea=wa.length;return function(Za){for(let Cb=0;Cb<Ea;++Cb)Za=Za[wa[Cb]];return Za}};(function(wa,Ea,Za){const Cb=ja(wa);wa=1===Cb.length?Cb[0]:wa;return R((Za&&Za.get||T)(Cb),[wa],Ea||wa)})("id");R(wa=>wa,[],"identity");R(()=>0,[],"zero");
R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Gc=Array.isArray;const xe={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(wa){return String(wa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class le{constructor(wa){this.options=Object.assign(Object.assign({},xe),wa);var Ea=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){wa=
document.createElement("style");wa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Ea))throw Error("Invalid HTML ID");Ea="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
Ea);wa.innerHTML=Ea;Ea=document.head;0<Ea.childNodes.length?Ea.insertBefore(wa,Ea.childNodes[0]):Ea.appendChild(wa)}}tooltipHandler(wa,Ea,Za,Cb){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);if(null==Cb||""===Cb)this.el.classList.remove("visible",
`${this.options.theme}-theme`);else{this.el.innerHTML=ha(Cb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",`${this.options.theme}-theme`);wa=this.el.getBoundingClientRect();var ub=this.options.offsetX;Za=this.options.offsetY;Cb=Ea.clientX+ub;Cb+wa.width>window.innerWidth&&(Cb=+Ea.clientX-ub-wa.width);ub=Ea.clientY+Za;ub+wa.height>window.innerHeight&&(ub=+Ea.clientY-Za-wa.height);Ea={x:Cb,y:ub};var {x:Yb,y:$b}=Ea;this.el.setAttribute("style",`top: ${$b}px; left: ${Yb}px`)}}}
String.prototype.startsWith||(String.prototype.startsWith=function(wa,Ea){return this.substr(!Ea||0>Ea?0:+Ea,wa.length)===wa});var kc,Fe=ua,ue=Ta,lf="undefined"!==typeof window?window:void 0;void 0===ue&&(null===(kc=null===lf||void 0===lf?void 0:lf.vl)||void 0===kc?0:kc.compile)&&(ue=lf.vl);var Yf={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},If={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Sf={vega:"Vega","vega-lite":"Vega-Lite"},Bf={vega:Fe.version,"vega-lite":ue?ue.version:"not available"},qe={vega:function(wa){return wa},"vega-lite":function(wa,Ea){return ue.compile(wa,{config:Ea}).spec}},yc=function(){for(var wa=[],Ea=0;Ea<arguments.length;Ea++)wa[Ea]=arguments[Ea];if(Ea=1<wa.length){if(Ea=l.isString(wa[0]))Ea=wa[0],Ea=!(Ea.startsWith("http://")||Ea.startsWith("https://")||Ea.startsWith("//"));Ea=Ea||wa[0]instanceof HTMLElement||
3===wa.length}return Ea?ya(wa[0],wa[1],wa[2]):kb(wa[0],wa[1])};yc.vegaLite=ue;yc.vl=ue;yc.container=kb;yc.embed=ya;yc.vega=Fe;yc["default"]=ya;yc.version="6.15.1";return yc})};
shadow$provide[67]=function(Ja,A,rb,E){(function(k,l){"object"===typeof E&&"undefined"!==typeof rb?rb.exports=l():"function"===typeof define&&define.amd?define(l):(k=k||self,k.CodeMirror=l())})(this,function(){function k(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function l(b){for(var p=b.childNodes.length;0<p;--p)b.removeChild(b.firstChild);return b}function w(b,p){return l(b).appendChild(p)}function H(b,p,X,S){b=document.createElement(b);X&&(b.className=X);S&&(b.style.cssText=S);if("string"==
typeof p)b.appendChild(document.createTextNode(p));else if(p)for(X=0;X<p.length;++X)b.appendChild(p[X]);return b}function N(b,p,X,S){b=H(b,p,X,S);b.setAttribute("role","presentation");return b}function x(b,p){3==p.nodeType&&(p=p.parentNode);if(b.contains)return b.contains(p);do if(11==p.nodeType&&(p=p.host),p==b)return!0;while(p=p.parentNode)}function v(){try{var b=document.activeElement}catch(p){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function u(b,p){var X=b.className;k(p).test(X)||(b.className+=(X?" ":"")+p)}function m(b,p){b=b.split(" ");for(var X=0;X<b.length;X++)b[X]&&!k(b[X]).test(p)&&(p+=" "+b[X]);return p}function g(b){var p=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,p)}}function d(b,p,X){p||(p={});for(var S in b)!b.hasOwnProperty(S)||!1===X&&p.hasOwnProperty(S)||(p[S]=b[S]);return p}function f(b,p,X,S,ea){null==p&&(p=b.search(/[^\s\u00a0]/),-1==p&&(p=b.length));S=S||0;for(ea=
ea||0;;){var La=b.indexOf("\t",S);if(0>La||La>=p)return ea+(p-S);ea+=La-S;ea+=X-ea%X;S=La+1}}function a(b,p){for(var X=0;X<b.length;++X)if(b[X]==p)return X;return-1}function e(b,p,X){for(var S=0,ea=0;;){var La=b.indexOf("\t",S);-1==La&&(La=b.length);var Xa=La-S;if(La==b.length||ea+Xa>=p)return S+Math.min(Xa,p-ea);ea+=La-S;ea+=X-ea%X;S=La+1;if(ea>=p)return S}}function n(b){for(;Li.length<=b;)Li.push(y(Li)+" ");return Li[b]}function y(b){return b[b.length-1]}function B(b,p){for(var X=[],S=0;S<b.length;S++)X[S]=
p(b[S],S);return X}function D(b,p,X){for(var S=0,ea=X(p);S<b.length&&X(b[S])<=ea;)S++;b.splice(S,0,p)}function O(){}function M(b,p){Object.create?b=Object.create(b):(O.prototype=b,b=new O);p&&d(p,b);return b}function F(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||Xi.test(b))}function z(b,p){return p?-1<p.source.indexOf("\\w")&&F(b)?!0:p.test(b):F(b)}function G(b){for(var p in b)if(b.hasOwnProperty(p)&&b[p])return!1;return!0}function K(b){return 768<=b.charCodeAt(0)&&fi.test(b)}
function R(b,p,X){for(;(0>X?0<p:p<b.length)&&K(b.charAt(p));)p+=X;return p}function T(b,p,X){for(var S=p>X?-1:1;;){if(p==X)return p;var ea=(p+X)/2;ea=0>S?Math.ceil(ea):Math.floor(ea);if(ea==p)return b(ea)?p:X;b(ea)?X=ea:p=ea+S}}function ja(b,p,X,S){if(!b)return S(p,X,"ltr",0);for(var ea=!1,La=0;La<b.length;++La){var Xa=b[La];if(Xa.from<X&&Xa.to>p||p==X&&Xa.to==p)S(Math.max(Xa.from,p),Math.min(Xa.to,X),1==Xa.level?"rtl":"ltr",La),ea=!0}ea||S(p,X,"ltr")}function fa(b,p,X){var S;Wh=null;for(var ea=0;ea<
b.length;++ea){var La=b[ea];if(La.from<p&&La.to>p)return ea;La.to==p&&(La.from!=La.to&&"before"==X?S=ea:Wh=ea);La.from==p&&(La.from!=La.to&&"before"!=X?S=ea:Wh=ea)}return null!=S?S:Wh}function ha(b,p){var X=b.order;null==X&&(X=b.order=Hh(b.text,p));return X}function la(b,p,X){if(b.removeEventListener)b.removeEventListener(p,X,!1);else if(b.detachEvent)b.detachEvent("on"+p,X);else{var S=(b=b._handlers)&&b[p];S&&(X=a(S,X),-1<X&&(b[p]=S.slice(0,X).concat(S.slice(X+1))))}}function Z(b,p){var X=b._handlers&&
b._handlers[p]||gi;if(X.length)for(var S=Array.prototype.slice.call(arguments,2),ea=0;ea<X.length;++ea)X[ea].apply(null,S)}function P(b,p,X){"string"==typeof p&&(p={type:p,preventDefault:function(){this.defaultPrevented=!0}});Z(b,X||p.type,b,p);return va(p)||p.codemirrorIgnore}function C(b){var p=b._handlers&&b._handlers.cursorActivity;if(p){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var X=0;X<p.length;++X)-1==a(b,p[X])&&b.push(p[X])}}function V(b,p){return 0<(b._handlers&&
b._handlers[p]||gi).length}function ia(b){b.prototype.on=function(p,X){Te(this,p,X)};b.prototype.off=function(p,X){la(this,p,X)}}function aa(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function ya(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function va(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Ia(b){aa(b);ya(b)}function bb(b){var p=b.which;null==p&&(b.button&1?p=1:b.button&2?p=3:b.button&4&&(p=2));dh&&b.ctrlKey&&1==p&&(p=3);return p}
function kb(b){if(null==ih){var p=H("span","");w(b,H("span",[p,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(ih=1>=p.offsetWidth&&2<p.offsetHeight&&!(wf&&8>Ff))}b=ih?H("span",""):H("span","",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function ua(b,p){2<arguments.length&&(p.dependencies=Array.prototype.slice.call(arguments,2));Kh[b]=p}function Ta(b){if("string"==typeof b&&ti.hasOwnProperty(b))b=ti[b];else if(b&&"string"==
typeof b.name&&ti.hasOwnProperty(b.name)){var p=ti[b.name];"string"==typeof p&&(p={name:p});b=M(p,b);b.name=p.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Ta("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Ta("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Ya(b,p){p=Ta(p);var X=Kh[p.name];if(!X)return Ya(b,"text/plain");b=X(b,p);if(jh.hasOwnProperty(p.name)){X=jh[p.name];for(var S in X)X.hasOwnProperty(S)&&
(b.hasOwnProperty(S)&&(b["_"+S]=b[S]),b[S]=X[S])}b.name=p.name;p.helperType&&(b.helperType=p.helperType);if(p.modeProps)for(var ea in p.modeProps)b[ea]=p.modeProps[ea];return b}function Da(b,p){b=jh.hasOwnProperty(b)?jh[b]:jh[b]={};d(p,b)}function ta(b,p){if(!0===p)return p;if(b.copyState)return b.copyState(p);b={};for(var X in p){var S=p[X];S instanceof Array&&(S=S.concat([]));b[X]=S}return b}function U(b,p){for(var X;b.innerMode;){X=b.innerMode(p);if(!X||X.mode==b)break;p=X.state;b=X.mode}return X||
{mode:b,state:p}}function W(b,p,X){return b.startState?b.startState(p,X):!0}function ba(b,p){p-=b.first;if(0>p||p>=b.size)throw Error("There is no line "+(p+b.first)+" in the document.");for(;!b.lines;)for(var X=0;;++X){var S=b.children[X],ea=S.chunkSize();if(p<ea){b=S;break}p-=ea}return b.lines[p]}function ca(b,p,X){var S=[],ea=p.line;b.iter(p.line,X.line+1,function(La){La=La.text;ea==X.line&&(La=La.slice(0,X.ch));ea==p.line&&(La=La.slice(p.ch));S.push(La);++ea});return S}function ra(b,p,X){var S=
[];b.iter(p,X,function(ea){S.push(ea.text)});return S}function qa(b,p){if(p-=b.height)for(;b;b=b.parent)b.height+=p}function Fa(b){if(null==b.parent)return null;var p=b.parent;b=a(p.lines,b);for(var X=p.parent;X;p=X,X=X.parent)for(var S=0;X.children[S]!=p;++S)b+=X.children[S].chunkSize();return b+p.first}function na(b,p){var X=b.first;a:do{for(var S=0;S<b.children.length;++S){var ea=b.children[S],La=ea.height;if(p<La){b=ea;continue a}p-=La;X+=ea.chunkSize()}return X}while(!b.lines);for(S=0;S<b.lines.length;++S){ea=
b.lines[S].height;if(p<ea)break;p-=ea}return X+S}function Ra(b,p){return p>=b.first&&p<b.first+b.size}function db(b,p){return String(b.lineNumberFormatter(p+b.firstLineNumber))}function $a(b,p,X){void 0===X&&(X=null);if(!(this instanceof $a))return new $a(b,p,X);this.line=b;this.ch=p;this.sticky=X}function Ca(b,p){return b.line-p.line||b.ch-p.ch}function Ga(b,p){return b.sticky==p.sticky&&0==Ca(b,p)}function pa(b){return $a(b.line,b.ch)}function Ha(b,p){return 0>Ca(b,p)?p:b}function Ua(b,p){return 0>
Ca(b,p)?b:p}function jb(b,p){if(p.line<b.first)return $a(b.first,0);var X=b.first+b.size-1;if(p.line>X)return $a(X,ba(b,X).text.length);b=ba(b,p.line).text.length;X=p.ch;p=null==X||X>b?$a(p.line,b):0>X?$a(p.line,0):p;return p}function Fb(b,p){for(var X=[],S=0;S<p.length;S++)X[S]=jb(b,p[S]);return X}function Xb(b,p,X,S){var ea=[b.state.modeGen],La={};rc(b,p.text,b.doc.mode,X,function(tb,Ib){return ea.push(tb,Ib)},La,S);var Xa=X.state;S=function(tb){X.baseTokens=ea;var Ib=b.state.overlays[tb],dc=1,
Rc=0;X.state=!0;rc(b,p.text,Ib.mode,X,function(vc,wc){for(var td=dc;Rc<vc;){var ce=ea[dc];ce>vc&&ea.splice(dc,1,vc,ea[dc+1],ce);dc+=2;Rc=Math.min(vc,ce)}if(wc)if(Ib.opaque)ea.splice(td,dc-td,vc,"overlay "+wc),dc=td+2;else for(;td<dc;td+=2)vc=ea[td+1],ea[td+1]=(vc?vc+" ":"")+"overlay "+wc},La);X.state=Xa;X.baseTokens=null;X.baseTokenPos=1};for(var ab=0;ab<b.state.overlays.length;++ab)S(ab);return{styles:ea,classes:La.bgClass||La.textClass?La:null}}function nc(b,p,X){if(!p.styles||p.styles[0]!=b.state.modeGen){var S=
md(b,Fa(p)),ea=p.text.length>b.options.maxHighlightLength&&ta(b.doc.mode,S.state),La=Xb(b,p,S);ea&&(S.state=ea);p.stateAfter=S.save(!ea);p.styles=La.styles;La.classes?p.styleClasses=La.classes:p.styleClasses&&(p.styleClasses=null);X===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return p.styles}function md(b,p,X){var S=b.doc,ea=b.display;if(!S.mode.startState)return new xh(S,!0,p);var La=Pc(b,p,X),Xa=La>S.first&&ba(S,La-1).stateAfter,ab=Xa?xh.fromSaved(S,
Xa,La):new xh(S,W(S.mode),La);S.iter(La,p,function(tb){pc(b,tb.text,ab);var Ib=ab.line;tb.stateAfter=Ib==p-1||0==Ib%5||Ib>=ea.viewFrom&&Ib<ea.viewTo?ab.save():null;ab.nextLine()});X&&(S.modeFrontier=ab.line);return ab}function pc(b,p,X,S){var ea=b.doc.mode;b=new kg(p,b.options.tabSize,X);b.start=b.pos=S||0;for(""==p&&Hc(ea,X.state);!b.eol();)mb(ea,b,X.state),b.start=b.pos}function Hc(b,p){if(b.blankLine)return b.blankLine(p);if(b.innerMode&&(b=U(b,p),b.mode.blankLine))return b.mode.blankLine(b.state)}
function mb(b,p,X,S){for(var ea=0;10>ea;ea++){S&&(S[0]=U(b,X).mode);var La=b.token(p,X);if(p.pos>p.start)return La}throw Error("Mode "+b.name+" failed to advance stream.");}function hc(b,p,X,S){var ea=b.doc,La=ea.mode;p=jb(ea,p);var Xa=ba(ea,p.line);X=md(b,p.line,X);b=new kg(Xa.text,b.options.tabSize,X);var ab;for(S&&(ab=[]);(S||b.pos<p.ch)&&!b.eol();){b.start=b.pos;var tb=mb(La,b,X.state);S&&ab.push(new Cj(b,tb,ta(ea.mode,X.state)))}return S?ab:new Cj(b,tb,X.state)}function jc(b,p){if(b)for(;;){var X=
b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!X)break;b=b.slice(0,X.index)+b.slice(X.index+X[0].length);var S=X[1]?"bgClass":"textClass";null==p[S]?p[S]=X[2]:(new RegExp("(?:^|\\s)"+X[2]+"(?:$|\\s)")).test(p[S])||(p[S]+=" "+X[2])}return b}function rc(b,p,X,S,ea,La,Xa){var ab=X.flattenSpans;null==ab&&(ab=b.options.flattenSpans);var tb=0,Ib=null,dc=new kg(p,b.options.tabSize,S),Rc=b.options.addModeClass&&[null];for(""==p&&jc(Hc(X,S.state),La);!dc.eol();){if(dc.pos>b.options.maxHighlightLength){ab=
!1;Xa&&pc(b,p,S,dc.pos);dc.pos=p.length;var vc=null}else vc=jc(mb(X,dc,S.state,Rc),La);if(Rc){var wc=Rc[0].name;wc&&(vc="m-"+(vc?wc+" "+vc:wc))}if(!ab||Ib!=vc){for(;tb<dc.start;)tb=Math.min(dc.start,tb+5E3),ea(tb,Ib);Ib=vc}dc.start=dc.pos}for(;tb<dc.pos;)b=Math.min(dc.pos,tb+5E3),ea(b,Ib),tb=b}function Pc(b,p,X){for(var S,ea,La=b.doc,Xa=X?-1:p-(b.doc.mode.innerMode?1E3:100);p>Xa;--p){if(p<=La.first)return La.first;var ab=ba(La,p-1),tb=ab.stateAfter;if(tb&&(!X||p+(tb instanceof Ji?tb.lookAhead:0)<=
La.modeFrontier))return p;ab=f(ab.text,null,b.options.tabSize);if(null==ea||S>ab)ea=p-1,S=ab}return ea}function sc(b,p){b.modeFrontier=Math.min(b.modeFrontier,p);if(!(b.highlightFrontier<p-10)){for(var X=b.first,S=p-1;S>X;S--){var ea=ba(b,S).stateAfter;if(ea&&(!(ea instanceof Ji)||S+ea.lookAhead<p)){X=S+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,X)}}function Uc(b,p,X){this.marker=b;this.from=p;this.to=X}function Sc(b,p){if(b)for(var X=0;X<b.length;++X){var S=b[X];if(S.marker==p)return S}}
function Lc(b,p){if(p.full)return null;var X=Ra(b,p.from.line)&&ba(b,p.from.line).markedSpans,S=Ra(b,p.to.line)&&ba(b,p.to.line).markedSpans;if(!X&&!S)return null;b=p.from.ch;var ea=p.to.ch,La=0==Ca(p.from,p.to),Xa;if(X)for(var ab=0;ab<X.length;++ab){var tb=X[ab],Ib=tb.marker;if(null==tb.from||(Ib.inclusiveLeft?tb.from<=b:tb.from<b)||!(tb.from!=b||"bookmark"!=Ib.type||La&&tb.marker.insertLeft)){var dc=null==tb.to||(Ib.inclusiveRight?tb.to>=b:tb.to>b);(Xa||(Xa=[])).push(new Uc(Ib,tb.from,dc?null:tb.to))}}X=
Xa;var Rc;if(S)for(Xa=0;Xa<S.length;++Xa)if(ab=S[Xa],tb=ab.marker,null==ab.to||(tb.inclusiveRight?ab.to>=ea:ab.to>ea)||ab.from==ea&&"bookmark"==tb.type&&(!La||ab.marker.insertLeft))Ib=null==ab.from||(tb.inclusiveLeft?ab.from<=ea:ab.from<ea),(Rc||(Rc=[])).push(new Uc(tb,Ib?null:ab.from-ea,null==ab.to?null:ab.to-ea));S=1==p.text.length;ea=y(p.text).length+(S?b:0);if(X)for(La=0;La<X.length;++La)if(Xa=X[La],null==Xa.to)(ab=Sc(Rc,Xa.marker),ab)?S&&(Xa.to=null==ab.to?null:ab.to+ea):Xa.to=b;if(Rc)for(b=
0;b<Rc.length;++b)La=Rc[b],null!=La.to&&(La.to+=ea),null==La.from?Sc(X,La.marker)||(La.from=ea,S&&(X||(X=[])).push(La)):(La.from+=ea,S&&(X||(X=[])).push(La));X&&(X=Fd(X));Rc&&Rc!=X&&(Rc=Fd(Rc));b=[X];if(!S){p=p.text.length-2;var vc;if(0<p&&X)for(S=0;S<X.length;++S)null==X[S].to&&(vc||(vc=[])).push(new Uc(X[S].marker,null,null));for(X=0;X<p;++X)b.push(vc);b.push(Rc)}return b}function Fd(b){for(var p=0;p<b.length;++p){var X=b[p];null!=X.from&&X.from==X.to&&!1!==X.marker.clearWhenEmpty&&b.splice(p--,
1)}return b.length?b:null}function ge(b,p,X){var S=null;b.iter(p.line,X.line+1,function(dc){if(dc.markedSpans)for(var Rc=0;Rc<dc.markedSpans.length;++Rc){var vc=dc.markedSpans[Rc].marker;!vc.readOnly||S&&-1!=a(S,vc)||(S||(S=[])).push(vc)}});if(!S)return null;b=[{from:p,to:X}];for(p=0;p<S.length;++p){X=S[p];for(var ea=X.find(0),La=0;La<b.length;++La){var Xa=b[La];if(!(0>Ca(Xa.to,ea.from)||0<Ca(Xa.from,ea.to))){var ab=[La,1],tb=Ca(Xa.from,ea.from),Ib=Ca(Xa.to,ea.to);(0>tb||!X.inclusiveLeft&&!tb)&&ab.push({from:Xa.from,
to:ea.from});(0<Ib||!X.inclusiveRight&&!Ib)&&ab.push({from:ea.to,to:Xa.to});b.splice.apply(b,ab);La+=ab.length-3}}}return b}function wd(b){var p=b.markedSpans;if(p){for(var X=0;X<p.length;++X)p[X].marker.detachLine(b);b.markedSpans=null}}function vd(b,p){if(p){for(var X=0;X<p.length;++X)p[X].marker.attachLine(b);b.markedSpans=p}}function Wd(b,p){var X=b.lines.length-p.lines.length;if(0!=X)return X;X=b.find();var S=p.find(),ea=Ca(X.from,S.from)||(b.inclusiveLeft?-1:0)-(p.inclusiveLeft?-1:0);return ea?
-ea:(X=Ca(X.to,S.to)||(b.inclusiveRight?1:0)-(p.inclusiveRight?1:0))?X:p.id-b.id}function Pb(b,p){b=Ph&&b.markedSpans;if(b)for(var X,S=0;S<b.length;++S)if(X=b[S],X.marker.collapsed&&null==(p?X.from:X.to)&&(!ea||0>Wd(ea,X.marker)))var ea=X.marker;return ea}function gc(b,p,X,S,ea){b=ba(b,p);if(b=Ph&&b.markedSpans)for(p=0;p<b.length;++p){var La=b[p];if(La.marker.collapsed){var Xa=La.marker.find(0),ab=Ca(Xa.from,X)||(La.marker.inclusiveLeft?-1:0)-(ea.inclusiveLeft?-1:0),tb=Ca(Xa.to,S)||(La.marker.inclusiveRight?
1:0)-(ea.inclusiveRight?1:0);if(!(0<=ab&&0>=tb||0>=ab&&0<=tb)&&(0>=ab&&(La.marker.inclusiveRight&&ea.inclusiveLeft?0<=Ca(Xa.to,X):0<Ca(Xa.to,X))||0<=ab&&(La.marker.inclusiveRight&&ea.inclusiveLeft?0>=Ca(Xa.from,S):0>Ca(Xa.from,S))))return!0}}}function Eb(b){for(var p;p=Pb(b,!0);)b=p.find(-1,!0).line;return b}function zc(b,p){b=ba(b,p);var X=Eb(b);return b==X?p:Fa(X)}function Vc(b,p){if(p>b.lastLine())return p;var X=ba(b,p);if(!Ed(b,X))return p;for(;b=Pb(X,!1);)X=b.find(1,!0).line;return Fa(X)+1}function Ed(b,
p){var X=Ph&&p.markedSpans;if(X)for(var S,ea=0;ea<X.length;++ea)if(S=X[ea],S.marker.collapsed&&(null==S.from||!S.marker.widgetNode&&0==S.from&&S.marker.inclusiveLeft&&Vd(b,p,S)))return!0}function Vd(b,p,X){if(null==X.to)return p=X.marker.find(1,!0),Vd(b,p.line,Sc(p.line.markedSpans,X.marker));if(X.marker.inclusiveRight&&X.to==p.text.length)return!0;for(var S,ea=0;ea<p.markedSpans.length;++ea)if(S=p.markedSpans[ea],S.marker.collapsed&&!S.marker.widgetNode&&S.from==X.to&&(null==S.to||S.to!=X.from)&&
(S.marker.inclusiveLeft||X.marker.inclusiveRight)&&Vd(b,p,S))return!0}function Ka(b){b=Eb(b);for(var p=0,X=b.parent,S=0;S<X.lines.length;++S){var ea=X.lines[S];if(ea==b)break;else p+=ea.height}for(b=X.parent;b;X=b,b=X.parent)for(S=0;S<b.children.length&&(ea=b.children[S],ea!=X);++S)p+=ea.height;return p}function eb(b){if(0==b.height)return 0;for(var p=b.text.length,X,S=b;X=Pb(S,!0);)X=X.find(0,!0),S=X.from.line,p+=X.from.ch-X.to.ch;for(S=b;X=Pb(S,!1);)b=X.find(0,!0),p-=S.text.length-b.from.ch,S=b.to.line,
p+=S.text.length-b.to.ch;return p}function wb(b){var p=b.display;b=b.doc;p.maxLine=ba(b,b.first);p.maxLineLength=eb(p.maxLine);p.maxLineChanged=!0;b.iter(function(X){var S=eb(X);S>p.maxLineLength&&(p.maxLineLength=S,p.maxLine=X)})}function Hb(b,p){if(!b||/^\s*$/.test(b))return null;p=p.addModeClass?qk:Zj;return p[b]||(p[b]=b.replace(/\S+/g,"cm-$\x26"))}function ac(b,p){var X=N("span",null,null,Ag?"padding-right: .1px":null);X={pre:N("pre",[X],"CodeMirror-line"),content:X,col:0,pos:0,cm:b,trailingSpace:!1,
splitSpaces:b.getOption("lineWrapping")};p.measure={};for(var S=0;S<=(p.rest?p.rest.length:0);S++){var ea=S?p.rest[S-1]:p.line,La=void 0;X.pos=0;X.addToken=Ac;var Xa=b.display.measure;if(null!=wh)Xa=wh;else{var ab=w(Xa,document.createTextNode("AA")),tb=Hi(ab,0,1).getBoundingClientRect();ab=Hi(ab,1,2).getBoundingClientRect();l(Xa);Xa=tb&&tb.left!=tb.right?wh=3>ab.right-tb.right:!1}Xa&&(La=ha(ea,b.doc.direction))&&(X.addToken=tc(X.addToken,La));X.map=[];var Ib=p!=b.display.externalMeasured&&Fa(ea);
a:{var dc=ab=tb=Xa=void 0,Rc=void 0,vc=void 0,wc=void 0;La=X;Ib=nc(b,ea,Ib);var td=ea.markedSpans,ce=ea.text,Se=0;if(td)for(var bf=ce.length,He=0,cg=1,Af="",bg=0;;){if(bg==He){Rc=dc=ab=vc="";tb=Xa=null;bg=Infinity;for(var Wf=[],qf=void 0,gg=0;gg<td.length;++gg){var Rf=td[gg],Of=Rf.marker;if("bookmark"==Of.type&&Rf.from==He&&Of.widgetNode)Wf.push(Of);else if(Rf.from<=He&&(null==Rf.to||Rf.to>He||Of.collapsed&&Rf.to==He&&Rf.from==He)){null!=Rf.to&&Rf.to!=He&&bg>Rf.to&&(bg=Rf.to,dc="");Of.className&&
(Rc+=" "+Of.className);Of.css&&(vc=(vc?vc+";":"")+Of.css);Of.startStyle&&Rf.from==He&&(ab+=" "+Of.startStyle);Of.endStyle&&Rf.to==bg&&(qf||(qf=[])).push(Of.endStyle,Rf.to);Of.title&&((Xa||(Xa={})).title=Of.title);if(Of.attributes)for(var Kg in Of.attributes)(Xa||(Xa={}))[Kg]=Of.attributes[Kg];Of.collapsed&&(!tb||0>Wd(tb.marker,Of))&&(tb=Rf)}else Rf.from>He&&bg>Rf.from&&(bg=Rf.from)}if(qf)for(gg=0;gg<qf.length;gg+=2)qf[gg+1]==bg&&(dc+=" "+qf[gg]);if(!tb||tb.from==He)for(qf=0;qf<Wf.length;++qf)pb(La,
0,Wf[qf]);if(tb&&(tb.from||0)==He){pb(La,(null==tb.to?bf+1:tb.to)-He,tb.marker,null==tb.from);if(null==tb.to)break a;tb.to==He&&(tb=!1)}}if(He>=bf)break;for(Wf=Math.min(bf,bg);;){if(Af){qf=He+Af.length;tb||(gg=qf>Wf?Af.slice(0,Wf-He):Af,La.addToken(La,gg,wc?wc+Rc:Rc,ab,He+gg.length==bg?dc:"",vc,Xa));if(qf>=Wf){Af=Af.slice(Wf-He);He=Wf;break}He=qf;ab=""}Af=ce.slice(Se,Se=Ib[cg++]);wc=Hb(Ib[cg++],La.cm.options)}}else for(Xa=1;Xa<Ib.length;Xa+=2)La.addToken(La,ce.slice(Se,Se=Ib[Xa]),Hb(Ib[Xa+1],La.cm.options))}ea.styleClasses&&
(ea.styleClasses.bgClass&&(X.bgClass=m(ea.styleClasses.bgClass,X.bgClass||"")),ea.styleClasses.textClass&&(X.textClass=m(ea.styleClasses.textClass,X.textClass||"")));0==X.map.length&&X.map.push(0,0,X.content.appendChild(kb(b.display.measure)));0==S?(p.measure.map=X.map,p.measure.cache={}):((p.measure.maps||(p.measure.maps=[])).push(X.map),(p.measure.caches||(p.measure.caches=[])).push({}))}Ag&&(Kg=X.content.lastChild,/\bcm-tab\b/.test(Kg.className)||Kg.querySelector&&Kg.querySelector(".cm-tab"))&&
(X.content.className="cm-tab-wrap-hack");Z(b,"renderLine",b,p.line,X.pre);X.pre.className&&(X.textClass=m(X.pre.className,X.textClass||""));return X}function Lb(b){var p=H("span","","cm-invalidchar");p.title="\\u"+b.charCodeAt(0).toString(16);p.setAttribute("aria-label",p.title);return p}function Ac(b,p,X,S,ea,La,Xa){if(p){if(b.splitSpaces){var ab=b.trailingSpace;if(1<p.length&&!/  /.test(p))ab=p;else{for(var tb="",Ib=0;Ib<p.length;Ib++){var dc=p.charAt(Ib);" "!=dc||!ab||Ib!=p.length-1&&32!=p.charCodeAt(Ib+
1)||(dc="");tb+=dc;ab=" "==dc}ab=tb}}else ab=p;tb=ab;Ib=b.cm.state.specialChars;dc=!1;if(Ib.test(p)){ab=document.createDocumentFragment();for(var Rc=0;;){Ib.lastIndex=Rc;var vc=Ib.exec(p),wc=vc?vc.index-Rc:p.length-Rc;if(wc){var td=document.createTextNode(tb.slice(Rc,Rc+wc));wf&&9>Ff?ab.appendChild(H("span",[td])):ab.appendChild(td);b.map.push(b.pos,b.pos+wc,td);b.col+=wc;b.pos+=wc}if(!vc)break;Rc+=wc+1;"\t"==vc[0]?(vc=b.cm.options.tabSize,vc-=b.col%vc,wc=ab.appendChild(H("span",n(vc),"cm-tab")),
wc.setAttribute("role","presentation"),wc.setAttribute("cm-text","\t"),b.col+=vc):("\r"==vc[0]||"\n"==vc[0]?(wc=ab.appendChild(H("span","\r"==vc[0]?"":"","cm-invalidchar")),wc.setAttribute("cm-text",vc[0])):(wc=b.cm.options.specialCharPlaceholder(vc[0]),wc.setAttribute("cm-text",vc[0]),wf&&9>Ff?ab.appendChild(H("span",[wc])):ab.appendChild(wc)),b.col+=1);b.map.push(b.pos,b.pos+1,wc);b.pos++}}else b.col+=p.length,ab=document.createTextNode(tb),b.map.push(b.pos,b.pos+p.length,ab),wf&&9>Ff&&(dc=!0),
b.pos+=p.length;b.trailingSpace=32==tb.charCodeAt(p.length-1);if(X||S||ea||dc||La||Xa){p=X||"";S&&(p+=S);ea&&(p+=ea);S=H("span",[ab],p,La);if(Xa)for(var ce in Xa)Xa.hasOwnProperty(ce)&&"style"!=ce&&"class"!=ce&&S.setAttribute(ce,Xa[ce]);return b.content.appendChild(S)}b.content.appendChild(ab)}}function tc(b,p){return function(X,S,ea,La,Xa,ab,tb){ea=ea?ea+" cm-force-border":"cm-force-border";for(var Ib=X.pos,dc=Ib+S.length;;){for(var Rc=void 0,vc=0;vc<p.length&&!(Rc=p[vc],Rc.to>Ib&&Rc.from<=Ib);vc++);
if(Rc.to>=dc)return b(X,S,ea,La,Xa,ab,tb);b(X,S.slice(0,Rc.to-Ib),ea,La,null,ab,tb);La=null;S=S.slice(Rc.to-Ib);Ib=Rc.to}}}function pb(b,p,X,S){var ea=!S&&X.widgetNode;ea&&b.map.push(b.pos,b.pos+p,ea);!S&&b.cm.display.input.needsContentAttribute&&(ea||(ea=b.content.appendChild(document.createElement("span"))),ea.setAttribute("cm-marker",X.id));ea&&(b.cm.display.input.setUneditable(ea),b.content.appendChild(ea));b.pos+=p;b.trailingSpace=!1}function Bb(b,p,X){for(var S=this.line=p,ea;S=Pb(S,!1);)S=
S.find(1,!0).line,(ea||(ea=[])).push(S);this.size=(this.rest=ea)?Fa(y(this.rest))-X+1:1;this.node=this.text=null;this.hidden=Ed(b,p)}function Ub(b,p,X){var S=[],ea;for(ea=p;ea<X;)p=new Bb(b.doc,ba(b.doc,ea),ea),ea+=p.size,S.push(p);return S}function mc(b,p){if(b=b.ownsGroup)try{var X=b.delayedCallbacks,S=0;do{for(;S<X.length;S++)X[S].call(null);for(var ea=0;ea<b.ops.length;ea++){var La=b.ops[ea];if(La.cursorActivityHandlers)for(;La.cursorActivityCalled<La.cursorActivityHandlers.length;)La.cursorActivityHandlers[La.cursorActivityCalled++].call(null,
La.cm)}}while(S<X.length)}finally{Di=null,p(b)}}function Bc(b,p){var X=b._handlers&&b._handlers[p]||gi;if(X.length){var S=Array.prototype.slice.call(arguments,2);if(Di)var ea=Di.delayedCallbacks;else ag?ea=ag:(ea=ag=[],setTimeout(Cc,0));for(var La=function(ab){ea.push(function(){return X[ab].apply(null,S)})},Xa=0;Xa<X.length;++Xa)La(Xa)}}function Cc(){var b=ag;ag=null;for(var p=0;p<b.length;++p)b[p]()}function Xc(b,p,X,S){for(var ea=0;ea<p.changes.length;ea++){var La=p.changes[ea];if("text"==La){La=
b;var Xa=p,ab=Xa.text.className,tb=Ic(La,Xa);Xa.text==Xa.node&&(Xa.node=tb.pre);Xa.text.parentNode.replaceChild(tb.pre,Xa.text);Xa.text=tb.pre;tb.bgClass!=Xa.bgClass||tb.textClass!=Xa.textClass?(Xa.bgClass=tb.bgClass,Xa.textClass=tb.textClass,Dc(La,Xa)):ab&&(Xa.text.className=ab)}else if("gutter"==La)uc(b,p,X,S);else if("class"==La)Dc(b,p);else if("widget"==La){La=b;Xa=p;ab=S;Xa.alignable&&(Xa.alignable=null);tb=k("CodeMirror-linewidget");for(var Ib=Xa.node.firstChild,dc;Ib;Ib=dc)dc=Ib.nextSibling,
tb.test(Ib.className)&&Xa.node.removeChild(Ib);ad(La,Xa,ab)}}p.changes=null}function Qb(b){b.node==b.text&&(b.node=H("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),wf&&8>Ff&&(b.node.style.zIndex=2));return b.node}function Ic(b,p){var X=b.display.externalMeasured;return X&&X.line==p.line?(b.display.externalMeasured=null,p.measure=X.measure,X.built):ac(b,p)}function Dc(b,p){var X=p.bgClass?p.bgClass+" "+(p.line.bgClass||
""):p.line.bgClass;X&&(X+=" CodeMirror-linebackground");if(p.background)X?p.background.className=X:(p.background.parentNode.removeChild(p.background),p.background=null);else if(X){var S=Qb(p);p.background=S.insertBefore(H("div",null,X),S.firstChild);b.display.input.setUneditable(p.background)}p.line.wrapClass?Qb(p).className=p.line.wrapClass:p.node!=p.text&&(p.node.className="");p.text.className=(p.textClass?p.textClass+" "+(p.line.textClass||""):p.line.textClass)||""}function uc(b,p,X,S){p.gutter&&
(p.node.removeChild(p.gutter),p.gutter=null);p.gutterBackground&&(p.node.removeChild(p.gutterBackground),p.gutterBackground=null);if(p.line.gutterClass){var ea=Qb(p);p.gutterBackground=H("div",null,"CodeMirror-gutter-background "+p.line.gutterClass,"left: "+(b.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px; width: "+S.gutterTotalWidth+"px");b.display.input.setUneditable(p.gutterBackground);ea.insertBefore(p.gutterBackground,p.text)}ea=p.line.gutterMarkers;if(b.options.lineNumbers||ea){var La=
Qb(p),Xa=p.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px");b.display.input.setUneditable(Xa);La.insertBefore(Xa,p.text);p.line.gutterClass&&(Xa.className+=" "+p.line.gutterClass);!b.options.lineNumbers||ea&&ea["CodeMirror-linenumbers"]||(p.lineNumber=Xa.appendChild(H("div",db(b.options,X),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+S.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));
if(ea)for(p=0;p<b.display.gutterSpecs.length;++p)X=b.display.gutterSpecs[p].className,(La=ea.hasOwnProperty(X)&&ea[X])&&Xa.appendChild(H("div",[La],"CodeMirror-gutter-elt","left: "+S.gutterLeft[X]+"px; width: "+S.gutterWidth[X]+"px"))}}function Tc(b,p,X,S){var ea=Ic(b,p);p.text=p.node=ea.pre;ea.bgClass&&(p.bgClass=ea.bgClass);ea.textClass&&(p.textClass=ea.textClass);Dc(b,p);uc(b,p,X,S);ad(b,p,S);return p.node}function ad(b,p,X){ld(b,p.line,p,X,!0);if(p.rest)for(var S=0;S<p.rest.length;S++)ld(b,p.rest[S],
p,X,!1)}function ld(b,p,X,S,ea){if(p.widgets){var La=Qb(X),Xa=0;for(p=p.widgets;Xa<p.length;++Xa){var ab=p[Xa],tb=H("div",[ab.node],"CodeMirror-linewidget"+(ab.className?" "+ab.className:""));ab.handleMouseEvents||tb.setAttribute("cm-ignore-events","true");var Ib=ab,dc=tb,Rc=S;if(Ib.noHScroll){(X.alignable||(X.alignable=[])).push(dc);var vc=Rc.wrapperWidth;dc.style.left=Rc.fixedPos+"px";Ib.coverGutter||(vc-=Rc.gutterTotalWidth,dc.style.paddingLeft=Rc.gutterTotalWidth+"px");dc.style.width=vc+"px"}Ib.coverGutter&&
(dc.style.zIndex=5,dc.style.position="relative",Ib.noHScroll||(dc.style.marginLeft=-Rc.gutterTotalWidth+"px"));b.display.input.setUneditable(tb);ea&&ab.above?La.insertBefore(tb,X.gutter||X.text):La.appendChild(tb);Bc(ab,"redraw")}}}function Cd(b){if(null!=b.height)return b.height;var p=b.doc.cm;if(!p)return 0;if(!x(document.body,b.node)){var X="position: relative;";b.coverGutter&&(X+="margin-left: -"+p.display.gutters.offsetWidth+"px;");b.noHScroll&&(X+="width: "+p.display.wrapper.clientWidth+"px;");
w(p.display.measure,H("div",[b.node],null,X))}return b.height=b.node.parentNode.offsetHeight}function Dd(b,p){for(p=p.target||p.srcElement;p!=b.wrapper;p=p.parentNode)if(!p||1==p.nodeType&&"true"==p.getAttribute("cm-ignore-events")||p.parentNode==b.sizer&&p!=b.mover)return!0}function Ud(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function ae(b){if(b.cachedPaddingH)return b.cachedPaddingH;var p=w(b.measure,H("pre","x","CodeMirror-line-like"));p=window.getComputedStyle?window.getComputedStyle(p):
p.currentStyle;p={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};isNaN(p.left)||isNaN(p.right)||(b.cachedPaddingH=p);return p}function oe(b){return 50-b.display.nativeBarWidth}function De(b){return b.display.scroller.clientWidth-oe(b)-b.display.barWidth}function fe(b){return b.display.scroller.clientHeight-oe(b)-b.display.barHeight}function ef(b,p,X){if(b.line==p)return{map:b.measure.map,cache:b.measure.cache};for(var S=0;S<b.rest.length;S++)if(b.rest[S]==p)return{map:b.measure.maps[S],
cache:b.measure.caches[S]};for(p=0;p<b.rest.length;p++)if(Fa(b.rest[p])>X)return{map:b.measure.maps[p],cache:b.measure.caches[p],before:!0}}function Ze(b,p){if(p>=b.display.viewFrom&&p<b.display.viewTo)return b.display.view[qe(b,p)];if((b=b.display.externalMeasured)&&p>=b.lineN&&p<b.lineN+b.size)return b}function df(b,p){var X=Fa(p),S=Ze(b,X);S&&!S.text?S=null:S&&S.changes&&(Xc(b,S,X,lf(b)),b.curOp.forceUpdate=!0);if(!S){var ea=Eb(p);S=Fa(ea);ea=b.display.externalMeasured=new Bb(b.doc,ea,S);ea.lineN=
S;S=ea.built=ac(b,ea);ea.text=S.pre;w(b.display.lineMeasure,S.pre);S=ea}b=ef(S,p,X);return{line:p,view:S,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function Zd(b,p,X,S,ea){p.before&&(X=-1);var La=X+(S||"");if(p.cache.hasOwnProperty(La))b=p.cache[La];else{p.rect||(p.rect=p.view.text.getBoundingClientRect());if(!p.hasHeights){var Xa=p.view,ab=p.rect,tb=b.options.lineWrapping,Ib=tb&&De(b);if(!Xa.measure.heights||tb&&Xa.measure.width!=Ib){var dc=Xa.measure.heights=[];if(tb)for(Xa.measure.width=
Ib,Xa=Xa.text.firstChild.getClientRects(),tb=0;tb<Xa.length-1;tb++){Ib=Xa[tb];var Rc=Xa[tb+1];2<Math.abs(Ib.bottom-Rc.bottom)&&dc.push((Ib.bottom+Rc.top)/2-ab.top)}dc.push(ab.bottom-ab.top)}p.hasHeights=!0}dc=S;Xa=he(p.map,X,dc);S=Xa.node;ab=Xa.start;tb=Xa.end;X=Xa.collapse;if(3==S.nodeType){for(var vc=0;4>vc;vc++){for(;ab&&K(p.line.text.charAt(Xa.coverStart+ab));)--ab;for(;Xa.coverStart+tb<Xa.coverEnd&&K(p.line.text.charAt(Xa.coverStart+tb));)++tb;if(wf&&9>Ff&&0==ab&&tb==Xa.coverEnd-Xa.coverStart)var wc=
S.parentNode.getBoundingClientRect();else{wc=Hi(S,ab,tb).getClientRects();tb=Lh;if("left"==dc)for(Ib=0;Ib<wc.length&&(tb=wc[Ib]).left==tb.right;Ib++);else for(Ib=wc.length-1;0<=Ib&&(tb=wc[Ib]).left==tb.right;Ib--);wc=tb}if(wc.left||wc.right||0==ab)break;tb=ab;--ab;X="right"}wf&&11>Ff&&((vc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=si?vc=si:(dc=w(b.display.measure,H("span","x")),vc=dc.getBoundingClientRect(),dc=Hi(dc,0,1).getBoundingClientRect(),vc=si=
1<Math.abs(vc.left-dc.left)),vc=!vc),vc||(vc=screen.logicalXDPI/screen.deviceXDPI,dc=screen.logicalYDPI/screen.deviceYDPI,wc={left:wc.left*vc,right:wc.right*vc,top:wc.top*dc,bottom:wc.bottom*dc}))}else 0<ab&&(X=dc="right"),wc=b.options.lineWrapping&&1<(vc=S.getClientRects()).length?vc["right"==dc?vc.length-1:0]:S.getBoundingClientRect();!(wf&&9>Ff)||ab||wc&&(wc.left||wc.right)||(wc=(wc=S.parentNode.getClientRects()[0])?{left:wc.left,right:wc.left+ue(b.display),top:wc.top,bottom:wc.bottom}:Lh);S=wc.top-
p.rect.top;ab=wc.bottom-p.rect.top;vc=(S+ab)/2;dc=p.view.measure.heights;for(Xa=0;Xa<dc.length-1&&!(vc<dc[Xa]);Xa++);X={left:("right"==X?wc.right:wc.left)-p.rect.left,right:("left"==X?wc.left:wc.right)-p.rect.left,top:Xa?dc[Xa-1]:0,bottom:dc[Xa]};wc.left||wc.right||(X.bogus=!0);b.options.singleCursorHeightPerLine||(X.rtop=S,X.rbottom=ab);b=X;b.bogus||(p.cache[La]=b)}return{left:b.left,right:b.right,top:ea?b.rtop:b.top,bottom:ea?b.rbottom:b.bottom}}function he(b,p,X){for(var S,ea,La,Xa,ab,tb,Ib=0;Ib<
b.length;Ib+=3){ab=b[Ib];tb=b[Ib+1];if(p<ab)ea=0,La=1,Xa="left";else if(p<tb)ea=p-ab,La=ea+1;else if(Ib==b.length-3||p==tb&&b[Ib+3]>p)La=tb-ab,ea=La-1,p>=tb&&(Xa="right");if(null!=ea){S=b[Ib+2];ab==tb&&X==(S.insertLeft?"left":"right")&&(Xa=X);if("left"==X&&0==ea)for(;Ib&&b[Ib-2]==b[Ib-3]&&b[Ib-1].insertLeft;)S=b[(Ib-=3)+2],Xa="left";if("right"==X&&ea==tb-ab)for(;Ib<b.length-3&&b[Ib+3]==b[Ib+4]&&!b[Ib+5].insertLeft;)S=b[(Ib+=3)+2],Xa="right";break}}return{node:S,start:ea,end:La,collapse:Xa,coverStart:ab,
coverEnd:tb}}function zf(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var p=0;p<b.rest.length;p++)b.measure.caches[p]={}}function Ue(b){b.display.externalMeasure=null;l(b.display.lineMeasure);for(var p=0;p<b.display.view.length;p++)zf(b.display.view[p])}function Nf(b){Ue(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function me(){return Gh&&ug?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function te(){return Gh&&ug?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function kf(b){var p=0;if(b.widgets)for(var X=0;X<b.widgets.length;++X)b.widgets[X].above&&(p+=Cd(b.widgets[X]));return p}function we(b,p,X,S,ea){ea||(ea=kf(p),X.top+=ea,X.bottom+=
ea);if("line"==S)return X;S||(S="local");p=Ka(p);p="local"==S?p+b.display.lineSpace.offsetTop:p-b.display.viewOffset;if("page"==S||"window"==S)b=b.display.lineSpace.getBoundingClientRect(),p+=b.top+("window"==S?0:te()),S=b.left+("window"==S?0:me()),X.left+=S,X.right+=S;X.top+=p;X.bottom+=p;return X}function Od(b,p,X){if("div"==X)return p;var S=p.left;p=p.top;"page"==X?(S-=me(),p-=te()):"local"!=X&&X||(X=b.display.sizer.getBoundingClientRect(),S+=X.left,p+=X.top);b=b.display.lineSpace.getBoundingClientRect();
return{left:S-b.left,top:p-b.top}}function Xd(b,p,X,S,ea){S||(S=ba(b.doc,p.line));var La=S;p=p.ch;S=Zd(b,df(b,S),p,ea);return we(b,La,S,X)}function Be(b,p,X,S,ea,La){function Xa(vc,wc){vc=Zd(b,ea,vc,wc?"right":"left",La);wc?vc.left=vc.right:vc.right=vc.left;return we(b,S,vc,X)}function ab(vc,wc,td){return Xa(td?vc-1:vc,1==tb[wc].level!=td)}S=S||ba(b.doc,p.line);ea||(ea=df(b,S));var tb=ha(S,b.doc.direction),Ib=p.ch;p=p.sticky;Ib>=S.text.length?(Ib=S.text.length,p="before"):0>=Ib&&(Ib=0,p="after");
if(!tb)return Xa("before"==p?Ib-1:Ib,"before"==p);var dc=fa(tb,Ib,p),Rc=Wh;dc=ab(Ib,dc,"before"==p);null!=Rc&&(dc.other=ab(Ib,Rc,"before"!=p));return dc}function jf(b,p){var X=0;p=jb(b.doc,p);b.options.lineWrapping||(X=ue(b.display)*p.ch);p=ba(b.doc,p.line);b=Ka(p)+b.display.lineSpace.offsetTop;return{left:X,right:X,top:b,bottom:b+p.height}}function Ge(b,p,X,S,ea){b=$a(b,p,X);b.xRel=ea;S&&(b.outside=S);return b}function Td(b,p,X){var S=b.doc;X+=b.display.viewOffset;if(0>X)return Ge(S.first,0,null,
-1,-1);var ea=na(S,X),La=S.first+S.size-1;if(ea>La)return Ge(S.first+S.size-1,ba(S,La).text.length,null,1,1);0>p&&(p=0);for(var Xa=ba(S,ea);;){La=xe(b,Xa,ea,p,X);var ab=void 0;var tb=La.ch+(0<La.xRel||0<La.outside?1:0);if(Xa=Ph&&Xa.markedSpans)for(var Ib=0;Ib<Xa.length;++Ib){var dc=Xa[Ib];dc.marker.collapsed&&(null==dc.from||dc.from<tb)&&(null==dc.to||dc.to>tb)&&(!ab||0>Wd(ab,dc.marker))&&(ab=dc.marker)}if(!ab)return La;La=ab.find(1);if(La.line==ea)return La;Xa=ba(S,ea=La.line)}}function Ye(b,p,X,
S){S-=kf(p);p=p.text.length;var ea=T(function(La){return Zd(b,X,La-1).bottom<=S},p,0);p=T(function(La){return Zd(b,X,La).top>S},ea,p);return{begin:ea,end:p}}function Xf(b,p,X,S){X||(X=df(b,p));S=we(b,p,Zd(b,X,S),"line").top;return Ye(b,p,X,S)}function Gc(b,p,X,S){return b.bottom<=X?!1:b.top>X?!0:(S?b.left:b.right)>p}function xe(b,p,X,S,ea){ea-=Ka(p);var La=df(b,p),Xa=kf(p),ab=0,tb=p.text.length,Ib=!0,dc=ha(p,b.doc.direction);dc&&(dc=(b.options.lineWrapping?kc:le)(b,p,X,La,dc,S,ea),ab=(Ib=1!=dc.level)?
dc.from:dc.to-1,tb=Ib?dc.to:dc.from-1);var Rc=null,vc=null;dc=T(function(td){var ce=Zd(b,La,td);ce.top+=Xa;ce.bottom+=Xa;if(!Gc(ce,S,ea,!1))return!1;ce.top<=ea&&ce.left<=S&&(Rc=td,vc=ce);return!0},ab,tb);var wc=!1;vc?(ab=S-vc.left<vc.right-S,Ib=ab==Ib,dc=Rc+(Ib?0:1),Ib=Ib?"after":"before",ab=ab?vc.left:vc.right):(Ib||dc!=tb&&dc!=ab||dc++,Ib=0==dc?"after":dc==p.text.length?"before":Zd(b,La,dc-(Ib?1:0)).bottom+Xa<=ea==Ib?"after":"before",wc=Be(b,$a(X,dc,Ib),"line",p,La),ab=wc.left,wc=ea<wc.top?-1:ea>=
wc.bottom?1:0);dc=R(p.text,dc,1);return Ge(X,dc,Ib,wc,S-ab)}function le(b,p,X,S,ea,La,Xa){var ab=T(function(dc){dc=ea[dc];var Rc=1!=dc.level;return Gc(Be(b,$a(X,Rc?dc.to:dc.from,Rc?"before":"after"),"line",p,S),La,Xa,!0)},0,ea.length-1),tb=ea[ab];if(0<ab){var Ib=1!=tb.level;Ib=Be(b,$a(X,Ib?tb.from:tb.to,Ib?"after":"before"),"line",p,S);Gc(Ib,La,Xa,!0)&&Ib.top>Xa&&(tb=ea[ab-1])}return tb}function kc(b,p,X,S,ea,La,Xa){Xa=Ye(b,p,S,Xa);X=Xa.begin;Xa=Xa.end;/\s/.test(p.text.charAt(Xa-1))&&Xa--;for(var ab=
p=null,tb=0;tb<ea.length;tb++){var Ib=ea[tb];if(!(Ib.from>=Xa||Ib.to<=X)){var dc=Zd(b,S,1!=Ib.level?Math.min(Xa,Ib.to)-1:Math.max(X,Ib.from)).right;dc=dc<La?La-dc+1E9:dc-La;if(!p||ab>dc)p=Ib,ab=dc}}p||(p=ea[ea.length-1]);p.from<X&&(p={from:X,to:p.to,level:p.level});p.to>Xa&&(p={from:p.from,to:Xa,level:p.level});return p}function Fe(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==oh){oh=H("pre",null,"CodeMirror-line-like");for(var p=0;49>p;++p)oh.appendChild(document.createTextNode("x")),
oh.appendChild(H("br"));oh.appendChild(document.createTextNode("x"))}w(b.measure,oh);p=oh.offsetHeight/50;3<p&&(b.cachedTextHeight=p);l(b.measure);return p||1}function ue(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var p=H("span","xxxxxxxxxx"),X=H("pre",[p],"CodeMirror-line-like");w(b.measure,X);p=p.getBoundingClientRect();p=(p.right-p.left)/10;2<p&&(b.cachedCharWidth=p);return p||10}function lf(b){for(var p=b.display,X={},S={},ea=p.gutters.clientLeft,La=p.gutters.firstChild,Xa=0;La;La=
La.nextSibling,++Xa){var ab=b.display.gutterSpecs[Xa].className;X[ab]=La.offsetLeft+La.clientLeft+ea;S[ab]=La.clientWidth}return{fixedPos:Yf(p),gutterTotalWidth:p.gutters.offsetWidth,gutterLeft:X,gutterWidth:S,wrapperWidth:p.wrapper.clientWidth}}function Yf(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function If(b){var p=Fe(b.display),X=b.options.lineWrapping,S=X&&Math.max(5,b.display.scroller.clientWidth/ue(b.display)-3);return function(ea){if(Ed(b.doc,
ea))return 0;var La=0;if(ea.widgets)for(var Xa=0;Xa<ea.widgets.length;Xa++)ea.widgets[Xa].height&&(La+=ea.widgets[Xa].height);return X?La+(Math.ceil(ea.text.length/S)||1)*p:La+p}}function Sf(b){var p=b.doc,X=If(b);p.iter(function(S){var ea=X(S);ea!=S.height&&qa(S,ea)})}function Bf(b,p,X,S){var ea=b.display;if(!X&&"true"==(p.target||p.srcElement).getAttribute("cm-not-content"))return null;X=ea.lineSpace.getBoundingClientRect();try{var La=p.clientX-X.left;var Xa=p.clientY-X.top}catch(tb){return null}p=
Td(b,La,Xa);var ab;S&&0<p.xRel&&(ab=ba(b.doc,p.line).text).length==p.ch&&(S=f(ab,ab.length,b.options.tabSize)-ab.length,p=$a(p.line,Math.max(0,Math.round((La-ae(b.display).left)/ue(b.display))-S)));return p}function qe(b,p){if(p>=b.display.viewTo)return null;p-=b.display.viewFrom;if(0>p)return null;b=b.display.view;for(var X=0;X<b.length;X++)if(p-=b[X].size,0>p)return X}function yc(b,p,X,S){null==p&&(p=b.doc.first);null==X&&(X=b.doc.first+b.doc.size);S||(S=0);var ea=b.display;S&&X<ea.viewTo&&(null==
ea.updateLineNumbers||ea.updateLineNumbers>p)&&(ea.updateLineNumbers=p);b.curOp.viewChanged=!0;if(p>=ea.viewTo)Ph&&zc(b.doc,p)<ea.viewTo&&Ea(b);else if(X<=ea.viewFrom)Ph&&Vc(b.doc,X+S)>ea.viewFrom?Ea(b):(ea.viewFrom+=S,ea.viewTo+=S);else if(p<=ea.viewFrom&&X>=ea.viewTo)Ea(b);else if(p<=ea.viewFrom){var La=Za(b,X,X+S,1);La?(ea.view=ea.view.slice(La.index),ea.viewFrom=La.lineN,ea.viewTo+=S):Ea(b)}else if(X>=ea.viewTo)(La=Za(b,p,p,-1))?(ea.view=ea.view.slice(0,La.index),ea.viewTo=La.lineN):Ea(b);else{La=
Za(b,p,p,-1);var Xa=Za(b,X,X+S,1);La&&Xa?(ea.view=ea.view.slice(0,La.index).concat(Ub(b,La.lineN,Xa.lineN)).concat(ea.view.slice(Xa.index)),ea.viewTo+=S):Ea(b)}if(b=ea.externalMeasured)X<b.lineN?b.lineN+=S:p<b.lineN+b.size&&(ea.externalMeasured=null)}function wa(b,p,X){b.curOp.viewChanged=!0;var S=b.display,ea=b.display.externalMeasured;ea&&p>=ea.lineN&&p<ea.lineN+ea.size&&(S.externalMeasured=null);p<S.viewFrom||p>=S.viewTo||(b=S.view[qe(b,p)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==a(b,X)&&
b.push(X)))}function Ea(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Za(b,p,X,S){var ea=qe(b,p),La=b.display.view;if(!Ph||X==b.doc.first+b.doc.size)return{index:ea,lineN:X};for(var Xa=b.display.viewFrom,ab=0;ab<ea;ab++)Xa+=La[ab].size;if(Xa!=p){if(0<S){if(ea==La.length-1)return null;p=Xa+La[ea].size-p;ea++}else p=Xa-p;X+=p}for(;zc(b.doc,X)!=X;){if(ea==(0>S?0:La.length-1))return null;X+=S*La[ea-(0>S?1:0)].size;ea+=S}return{index:ea,lineN:X}}function Cb(b){b=
b.display.view;for(var p=0,X=0;X<b.length;X++){var S=b[X];S.hidden||S.node&&!S.changes||++p}return p}function ub(b){b.display.input.showSelection(b.display.input.prepareSelection())}function Yb(b,p){void 0===p&&(p=!0);for(var X=b.doc,S={},ea=S.cursors=document.createDocumentFragment(),La=S.selection=document.createDocumentFragment(),Xa=0;Xa<X.sel.ranges.length;Xa++)if(p||Xa!=X.sel.primIndex){var ab=X.sel.ranges[Xa];if(!(ab.from().line>=b.display.viewTo||ab.to().line<b.display.viewFrom)){var tb=ab.empty();
(tb||b.options.showCursorWhenSelecting)&&$b(b,ab.head,ea);tb||gd(b,ab,La)}}return S}function $b(b,p,X){p=Be(b,p,"div",null,null,!b.options.singleCursorHeightPerLine);var S=X.appendChild(H("div","","CodeMirror-cursor"));S.style.left=p.left+"px";S.style.top=p.top+"px";S.style.height=Math.max(0,p.bottom-p.top)*b.options.cursorHeight+"px";p.other&&(b=X.appendChild(H("div","","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=p.other.left+"px",b.style.top=p.other.top+"px",
b.style.height=.85*(p.other.bottom-p.other.top)+"px")}function Oc(b,p){return b.top-p.top||b.left-p.left}function gd(b,p,X){function S(wc,td,ce,Se){0>td&&(td=0);td=Math.round(td);Se=Math.round(Se);ab.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+wc+"px;\n                             top: "+td+"px; width: "+(null==ce?dc-wc:ce)+"px;\n                             height: "+(Se-td)+"px"))}function ea(wc,td,ce){function Se(qf,gg){return Xd(b,$a(wc,qf),"div",He,gg)}function bf(qf,
gg,Rf){qf=Xf(b,He,null,qf);gg="ltr"==gg==("after"==Rf)?"left":"right";Rf="after"==Rf?qf.begin:qf.end-(/\s/.test(He.text.charAt(qf.end-1))?2:1);return Se(Rf,gg)[gg]}var He=ba(Xa,wc),cg=He.text.length,Af,bg,Wf=ha(He,Xa.direction);ja(Wf,td||0,null==ce?cg:ce,function(qf,gg,Rf,Of){var Kg="ltr"==Rf,Pg=Se(qf,Kg?"left":"right"),ch=Se(gg-1,Kg?"right":"left"),Rh=null==td&&0==qf,li=null==ce&&gg==cg,Mj=0==Of;Of=!Wf||Of==Wf.length-1;3>=ch.top-Pg.top?(gg=(Rc?Rh:li)&&Mj?Ib:(Kg?Pg:ch).left,S(gg,Pg.top,((Rc?li:Rh)&&
Of?dc:(Kg?ch:Pg).right)-gg,Pg.bottom)):(Kg?(Kg=Rc&&Rh&&Mj?Ib:Pg.left,Rh=Rc?dc:bf(qf,Rf,"before"),qf=Rc?Ib:bf(gg,Rf,"after"),li=Rc&&li&&Of?dc:ch.right):(Kg=Rc?bf(qf,Rf,"before"):Ib,Rh=!Rc&&Rh&&Mj?dc:Pg.right,qf=!Rc&&li&&Of?Ib:ch.left,li=Rc?bf(gg,Rf,"after"):dc),S(Kg,Pg.top,Rh-Kg,Pg.bottom),Pg.bottom<ch.top&&S(Ib,Pg.bottom,null,ch.top),S(qf,ch.top,li-qf,ch.bottom));if(!Af||0>Oc(Pg,Af))Af=Pg;0>Oc(ch,Af)&&(Af=ch);if(!bg||0>Oc(Pg,bg))bg=Pg;0>Oc(ch,bg)&&(bg=ch)});return{start:Af,end:bg}}var La=b.display,
Xa=b.doc,ab=document.createDocumentFragment(),tb=ae(b.display),Ib=tb.left,dc=Math.max(La.sizerWidth,De(b)-La.sizer.offsetLeft)-tb.right,Rc="ltr"==Xa.direction;La=p.from();p=p.to();if(La.line==p.line)ea(La.line,La.ch,p.ch);else{var vc=ba(Xa,La.line);tb=ba(Xa,p.line);tb=Eb(vc)==Eb(tb);La=ea(La.line,La.ch,tb?vc.text.length+1:null).end;p=ea(p.line,tb?0:null,p.ch).start;tb&&(La.top<p.top-2?(S(La.right,La.top,null,La.bottom),S(Ib,p.top,p.left,p.bottom)):S(La.right,La.top,p.left-La.right,La.bottom));La.bottom<
p.top&&S(Ib,La.bottom,null,p.top)}X.appendChild(ab)}function Mc(b){if(b.state.focused){var p=b.display;clearInterval(p.blinker);var X=!0;p.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?p.blinker=setInterval(function(){b.hasFocus()||jd(b);p.cursorDiv.style.visibility=(X=!X)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(p.cursorDiv.style.visibility="hidden")}}function Nd(b){b.hasFocus()||(b.display.input.focus(),b.state.focused||Id(b))}function od(b){b.state.delayingBlurEvent=
!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,b.state.focused&&jd(b))},100)}function Id(b,p){b.state.delayingBlurEvent&&!b.state.draggingText&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(Z(b,"focus",b,p),b.state.focused=!0,u(b.display.wrapper,"CodeMirror-focused"),b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Ag&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),
Mc(b))}function jd(b,p){b.state.delayingBlurEvent||(b.state.focused&&(Z(b,"blur",b,p),b.state.focused=!1,Dh(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function Qd(b){for(var p=b.display,X=p.lineDiv.offsetTop,S=0;S<p.view.length;S++){var ea=p.view[S],La=b.options.lineWrapping,Xa=0;if(!ea.hidden){if(wf&&8>Ff){La=ea.node.offsetTop+ea.node.offsetHeight;var ab=La-X;X=La}else{var tb=ea.node.getBoundingClientRect();
ab=tb.bottom-tb.top;!La&&ea.text.firstChild&&(Xa=ea.text.firstChild.getBoundingClientRect().right-tb.left-1)}La=ea.line.height-ab;if(.005<La||-.005>La)if(qa(ea.line,ab),ie(ea.line),ea.rest)for(ab=0;ab<ea.rest.length;ab++)ie(ea.rest[ab]);Xa>b.display.sizerWidth&&(Xa=Math.ceil(Xa/ue(b.display)),Xa>b.display.maxLineLength&&(b.display.maxLineLength=Xa,b.display.maxLine=ea.line,b.display.maxLineChanged=!0))}}}function ie(b){if(b.widgets)for(var p=0;p<b.widgets.length;++p){var X=b.widgets[p],S=X.node.parentNode;
S&&(X.height=S.offsetHeight)}}function Gf(b,p,X){var S=X&&null!=X.top?Math.max(0,X.top):b.scroller.scrollTop;S=Math.floor(S-b.lineSpace.offsetTop);var ea=X&&null!=X.bottom?X.bottom:S+b.wrapper.clientHeight;S=na(p,S);ea=na(p,ea);if(X&&X.ensure){var La=X.ensure.from.line;X=X.ensure.to.line;La<S?(S=La,ea=na(p,Ka(ba(p,La))+b.wrapper.clientHeight)):Math.min(X,p.lastLine())>=ea&&(S=na(p,Ka(ba(p,X))-b.wrapper.clientHeight),ea=X)}return{from:S,to:Math.max(ea,S+1)}}function tf(b,p){var X=b.display,S=Fe(b.display);
0>p.top&&(p.top=0);var ea=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:X.scroller.scrollTop,La=fe(b),Xa={};p.bottom-p.top>La&&(p.bottom=p.top+La);var ab=b.doc.height+Ud(X),tb=p.top<S;S=p.bottom>ab-S;p.top<ea?Xa.scrollTop=tb?0:p.top:p.bottom>ea+La&&(La=Math.min(p.top,(S?ab:p.bottom)-La),La!=ea&&(Xa.scrollTop=La));ea=b.options.fixedGutter?0:X.gutters.offsetWidth;La=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:X.scroller.scrollLeft-ea;b=De(b)-X.gutters.offsetWidth;if(X=p.right-p.left>b)p.right=
p.left+b;10>p.left?Xa.scrollLeft=0:p.left<La?Xa.scrollLeft=Math.max(0,p.left+ea-(X?0:10)):p.right>b+La-3&&(Xa.scrollLeft=p.right+(X?0:10)-b);return Xa}function kd(b,p){null!=p&&(mf(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+p)}function We(b){mf(b);var p=b.getCursor();b.curOp.scrollToPos={from:p,to:p,margin:b.options.cursorScrollMargin}}function uf(b,p,X){null==p&&null==X||mf(b);null!=p&&(b.curOp.scrollLeft=p);null!=X&&(b.curOp.scrollTop=X)}function mf(b){var p=
b.curOp.scrollToPos;if(p){b.curOp.scrollToPos=null;var X=jf(b,p.from),S=jf(b,p.to);Zf(b,X,S,p.margin)}}function Zf(b,p,X,S){p=tf(b,{left:Math.min(p.left,X.left),top:Math.min(p.top,X.top)-S,right:Math.max(p.right,X.right),bottom:Math.max(p.bottom,X.bottom)+S});uf(b,p.scrollLeft,p.scrollTop)}function yf(b,p){2>Math.abs(b.doc.scrollTop-p)||(Eg||Le(b,{top:p}),Pe(b,p,!0),Eg&&Le(b),Kd(b,100))}function Pe(b,p,X){p=Math.max(0,Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,p));if(b.display.scroller.scrollTop!=
p||X)b.doc.scrollTop=p,b.display.scrollbars.setScrollTop(p),b.display.scroller.scrollTop!=p&&(b.display.scroller.scrollTop=p)}function nf(b,p,X,S){p=Math.max(0,Math.min(p,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(X?p==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-p))&&!S||(b.doc.scrollLeft=p,Qe(b),b.display.scroller.scrollLeft!=p&&(b.display.scroller.scrollLeft=p),b.display.scrollbars.setScrollLeft(p))}function Aa(b){var p=b.display,X=p.gutters.offsetWidth,S=Math.round(b.doc.height+
Ud(b.display));return{clientHeight:p.scroller.clientHeight,viewHeight:p.wrapper.clientHeight,scrollWidth:p.scroller.scrollWidth,clientWidth:p.scroller.clientWidth,viewWidth:p.wrapper.clientWidth,barLeft:b.options.fixedGutter?X:0,docHeight:S,scrollHeight:S+oe(b)+p.barHeight,nativeBarWidth:p.nativeBarWidth,gutterWidth:X}}function Pa(b,p){p||(p=Aa(b));var X=b.display.barWidth,S=b.display.barHeight;vb(b,p);for(p=0;4>p&&X!=b.display.barWidth||S!=b.display.barHeight;p++)X!=b.display.barWidth&&b.options.lineWrapping&&
Qd(b),vb(b,Aa(b)),X=b.display.barWidth,S=b.display.barHeight}function vb(b,p){var X=b.display,S=X.scrollbars.update(p);X.sizer.style.paddingRight=(X.barWidth=S.right)+"px";X.sizer.style.paddingBottom=(X.barHeight=S.bottom)+"px";X.heightForcer.style.borderBottom=S.bottom+"px solid transparent";S.right&&S.bottom?(X.scrollbarFiller.style.display="block",X.scrollbarFiller.style.height=S.bottom+"px",X.scrollbarFiller.style.width=S.right+"px"):X.scrollbarFiller.style.display="";S.bottom&&b.options.coverGutterNextToScrollbar&&
b.options.fixedGutter?(X.gutterFiller.style.display="block",X.gutterFiller.style.height=S.bottom+"px",X.gutterFiller.style.width=p.gutterWidth+"px"):X.gutterFiller.style.display=""}function Wb(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Dh(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new ej[b.options.scrollbarStyle](function(p){b.display.wrapper.insertBefore(p,b.display.scrollbarFiller);Te(p,"mousedown",function(){b.state.focused&&
setTimeout(function(){return b.display.input.focus()},0)});p.setAttribute("cm-not-content","true")},function(p,X){"horizontal"==X?nf(b,p):yf(b,p)},b);b.display.scrollbars.addClass&&u(b.display.wrapper,b.display.scrollbars.addClass)}function Tb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Bj};b=b.curOp;Di?Di.ops.push(b):b.ownsGroup=Di={ops:[b],delayedCallbacks:[]}}function ic(b){(b=b.curOp)&&mc(b,function(p){for(var X=0;X<p.ops.length;X++)p.ops[X].cm.curOp=null;p=p.ops;for(X=0;X<p.length;X++){var S=p[X],ea=S.cm,La=ea.display,Xa=ea.display;!Xa.scrollbarsClipped&&Xa.scroller.offsetWidth&&(Xa.nativeBarWidth=Xa.scroller.offsetWidth-Xa.scroller.clientWidth,Xa.heightForcer.style.height=oe(ea)+"px",Xa.sizer.style.marginBottom=-Xa.nativeBarWidth+"px",Xa.sizer.style.borderRightWidth=oe(ea)+
"px",Xa.scrollbarsClipped=!0);S.updateMaxLine&&wb(ea);S.mustUpdate=S.viewChanged||S.forceUpdate||null!=S.scrollTop||S.scrollToPos&&(S.scrollToPos.from.line<La.viewFrom||S.scrollToPos.to.line>=La.viewTo)||La.maxLineChanged&&ea.options.lineWrapping;S.update=S.mustUpdate&&new ph(ea,S.mustUpdate&&{top:S.scrollTop,ensure:S.scrollToPos},S.forceUpdate)}for(X=0;X<p.length;X++)S=p[X],S.updatedDisplay=S.mustUpdate&&je(S.cm,S.update);for(X=0;X<p.length;X++)if(S=p[X],ea=S.cm,La=ea.display,S.updatedDisplay&&Qd(ea),
S.barMeasure=Aa(ea),La.maxLineChanged&&!ea.options.lineWrapping&&(Xa=La.maxLine.text.length,Xa=Zd(ea,df(ea,La.maxLine),Xa,void 0),S.adjustWidthTo=Xa.left+3,ea.display.sizerWidth=S.adjustWidthTo,S.barMeasure.scrollWidth=Math.max(La.scroller.clientWidth,La.sizer.offsetLeft+S.adjustWidthTo+oe(ea)+ea.display.barWidth),S.maxScrollLeft=Math.max(0,La.sizer.offsetLeft+S.adjustWidthTo-De(ea))),S.updatedDisplay||S.selectionChanged)S.preparedSelection=La.input.prepareSelection();for(X=0;X<p.length;X++)S=p[X],
ea=S.cm,null!=S.adjustWidthTo&&(ea.display.sizer.style.minWidth=S.adjustWidthTo+"px",S.maxScrollLeft<ea.doc.scrollLeft&&nf(ea,Math.min(ea.display.scroller.scrollLeft,S.maxScrollLeft),!0),ea.display.maxLineChanged=!1),La=S.focus&&S.focus==v(),S.preparedSelection&&ea.display.input.showSelection(S.preparedSelection,La),(S.updatedDisplay||S.startHeight!=ea.doc.height)&&Pa(ea,S.barMeasure),S.updatedDisplay&&Ce(ea,S.barMeasure),S.selectionChanged&&Mc(ea),ea.state.focused&&S.updateInput&&ea.display.input.reset(S.typing),
La&&Nd(S.cm);for(X=0;X<p.length;X++){var ab=void 0;S=p[X];ea=S.cm;La=ea.display;Xa=ea.doc;S.updatedDisplay&&Gd(ea,S.update);null==La.wheelStartX||null==S.scrollTop&&null==S.scrollLeft&&!S.scrollToPos||(La.wheelStartX=La.wheelStartY=null);null!=S.scrollTop&&Pe(ea,S.scrollTop,S.forceScroll);null!=S.scrollLeft&&nf(ea,S.scrollLeft,!0,!0);if(S.scrollToPos){var tb=jb(Xa,S.scrollToPos.from);var Ib=jb(Xa,S.scrollToPos.to);var dc=S.scrollToPos.margin;null==dc&&(dc=0);ea.options.lineWrapping||tb!=Ib||(tb=tb.ch?
$a(tb.line,"before"==tb.sticky?tb.ch-1:tb.ch,"after"):tb,Ib="before"==tb.sticky?$a(tb.line,tb.ch+1,"before"):tb);for(var Rc=0;5>Rc;Rc++){var vc=!1;ab=Be(ea,tb);var wc=Ib&&Ib!=tb?Be(ea,Ib):ab;ab={left:Math.min(ab.left,wc.left),top:Math.min(ab.top,wc.top)-dc,right:Math.max(ab.left,wc.left),bottom:Math.max(ab.bottom,wc.bottom)+dc};wc=tf(ea,ab);var td=ea.doc.scrollTop,ce=ea.doc.scrollLeft;null!=wc.scrollTop&&(yf(ea,wc.scrollTop),1<Math.abs(ea.doc.scrollTop-td)&&(vc=!0));null!=wc.scrollLeft&&(nf(ea,wc.scrollLeft),
1<Math.abs(ea.doc.scrollLeft-ce)&&(vc=!0));if(!vc)break}Ib=ab;P(ea,"scrollCursorIntoView")||(dc=ea.display,Rc=dc.sizer.getBoundingClientRect(),tb=null,0>Ib.top+Rc.top?tb=!0:Ib.bottom+Rc.top>(window.innerHeight||document.documentElement.clientHeight)&&(tb=!1),null==tb||pj||(Ib=H("div","",null,"position: absolute;\n                         top: "+(Ib.top-dc.viewOffset-ea.display.lineSpace.offsetTop)+"px;\n                         height: "+(Ib.bottom-Ib.top+oe(ea)+dc.barHeight)+"px;\n                         left: "+
Ib.left+"px; width: "+Math.max(2,Ib.right-Ib.left)+"px;"),ea.display.lineSpace.appendChild(Ib),Ib.scrollIntoView(tb),ea.display.lineSpace.removeChild(Ib)))}Ib=S.maybeHiddenMarkers;tb=S.maybeUnhiddenMarkers;if(Ib)for(dc=0;dc<Ib.length;++dc)Ib[dc].lines.length||Z(Ib[dc],"hide");if(tb)for(Ib=0;Ib<tb.length;++Ib)tb[Ib].lines.length&&Z(tb[Ib],"unhide");La.wrapper.offsetHeight&&(Xa.scrollTop=ea.display.scroller.scrollTop);S.changeObjs&&Z(ea,"changes",ea,S.changeObjs);S.update&&S.update.finish()}})}function oc(b,
p){if(b.curOp)return p();Tb(b);try{return p()}finally{ic(b)}}function fd(b,p){return function(){if(b.curOp)return p.apply(b,arguments);Tb(b);try{return p.apply(b,arguments)}finally{ic(b)}}}function Wc(b){return function(){if(this.curOp)return b.apply(this,arguments);Tb(this);try{return b.apply(this,arguments)}finally{ic(this)}}}function nd(b){return function(){var p=this.cm;if(!p||p.curOp)return b.apply(this,arguments);Tb(p);try{return b.apply(this,arguments)}finally{ic(p)}}}function Kd(b,p){b.doc.highlightFrontier<
b.display.viewTo&&b.state.highlight.set(p,g(de,b))}function de(b){var p=b.doc;if(!(p.highlightFrontier>=b.display.viewTo)){var X=+new Date+b.options.workTime,S=md(b,p.highlightFrontier),ea=[];p.iter(S.line,Math.min(p.first+p.size,b.display.viewTo+500),function(La){if(S.line>=b.display.viewFrom){var Xa=La.styles,ab=La.text.length>b.options.maxHighlightLength?ta(p.mode,S.state):null,tb=Xb(b,La,S,!0);ab&&(S.state=ab);La.styles=tb.styles;ab=La.styleClasses;(tb=tb.classes)?La.styleClasses=tb:ab&&(La.styleClasses=
null);tb=!Xa||Xa.length!=La.styles.length||ab!=tb&&(!ab||!tb||ab.bgClass!=tb.bgClass||ab.textClass!=tb.textClass);for(ab=0;!tb&&ab<Xa.length;++ab)tb=Xa[ab]!=La.styles[ab];tb&&ea.push(S.line);La.stateAfter=S.save()}else La.text.length<=b.options.maxHighlightLength&&pc(b,La.text,S),La.stateAfter=0==S.line%5?S.save():null;S.nextLine();if(+new Date>X)return Kd(b,b.options.workDelay),!0});p.highlightFrontier=S.line;p.modeFrontier=Math.max(p.modeFrontier,S.line);ea.length&&oc(b,function(){for(var La=0;La<
ea.length;La++)wa(b,ea[La],"text")})}}function je(b,p){var X=b.display,S=b.doc;if(p.editorIsHidden)return Ea(b),!1;if(!p.force&&p.visible.from>=X.viewFrom&&p.visible.to<=X.viewTo&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo)&&X.renderedView==X.view&&0==Cb(b))return!1;Uf(b)&&(Ea(b),p.dims=lf(b));var ea=S.first+S.size,La=Math.max(p.visible.from-b.options.viewportMargin,S.first),Xa=Math.min(ea,p.visible.to+b.options.viewportMargin);X.viewFrom<La&&20>La-X.viewFrom&&(La=Math.max(S.first,
X.viewFrom));X.viewTo>Xa&&20>X.viewTo-Xa&&(Xa=Math.min(ea,X.viewTo));Ph&&(La=zc(b.doc,La),Xa=Vc(b.doc,Xa));S=La!=X.viewFrom||Xa!=X.viewTo||X.lastWrapHeight!=p.wrapperHeight||X.lastWrapWidth!=p.wrapperWidth;ea=b.display;0==ea.view.length||La>=ea.viewTo||Xa<=ea.viewFrom?(ea.view=Ub(b,La,Xa),ea.viewFrom=La):(ea.viewFrom>La?ea.view=Ub(b,La,ea.viewFrom).concat(ea.view):ea.viewFrom<La&&(ea.view=ea.view.slice(qe(b,La))),ea.viewFrom=La,ea.viewTo<Xa?ea.view=ea.view.concat(Ub(b,ea.viewTo,Xa)):ea.viewTo>Xa&&
(ea.view=ea.view.slice(0,qe(b,Xa))));ea.viewTo=Xa;X.viewOffset=Ka(ba(b.doc,X.viewFrom));b.display.mover.style.top=X.viewOffset+"px";Xa=Cb(b);if(!S&&0==Xa&&!p.force&&X.renderedView==X.view&&(null==X.updateLineNumbers||X.updateLineNumbers>=X.viewTo))return!1;b.hasFocus()?La=null:(La=v())&&x(b.display.lineDiv,La)?(La={activeElt:La},window.getSelection&&(ea=window.getSelection(),ea.anchorNode&&ea.extend&&x(b.display.lineDiv,ea.anchorNode)&&(La.anchorNode=ea.anchorNode,La.anchorOffset=ea.anchorOffset,
La.focusNode=ea.focusNode,La.focusOffset=ea.focusOffset))):La=null;4<Xa&&(X.lineDiv.style.display="none");$d(b,X.updateLineNumbers,p.dims);4<Xa&&(X.lineDiv.style.display="");X.renderedView=X.view;(Xa=La)&&Xa.activeElt&&Xa.activeElt!=v()&&(Xa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Xa.activeElt.nodeName)&&Xa.anchorNode&&x(document.body,Xa.anchorNode)&&x(document.body,Xa.focusNode)&&(La=window.getSelection(),ea=document.createRange(),ea.setEnd(Xa.anchorNode,Xa.anchorOffset),ea.collapse(!1),La.removeAllRanges(),
La.addRange(ea),La.extend(Xa.focusNode,Xa.focusOffset)));l(X.cursorDiv);l(X.selectionDiv);X.gutters.style.height=X.sizer.style.minHeight=0;S&&(X.lastWrapHeight=p.wrapperHeight,X.lastWrapWidth=p.wrapperWidth,Kd(b,400));X.updateLineNumbers=null;return!0}function Gd(b,p){for(var X=p.viewport,S=!0;;S=!1){if(S&&b.options.lineWrapping&&p.oldDisplayWidth!=De(b))S&&(p.visible=Gf(b.display,b.doc,X));else if(X&&null!=X.top&&(X={top:Math.min(b.doc.height+Ud(b.display)-fe(b),X.top)}),p.visible=Gf(b.display,b.doc,
X),p.visible.from>=b.display.viewFrom&&p.visible.to<=b.display.viewTo)break;if(!je(b,p))break;Qd(b);S=Aa(b);ub(b);Pa(b,S);Ce(b,S);p.force=!1}p.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)p.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function Le(b,p){p=new ph(b,p);if(je(b,p)){Qd(b);Gd(b,p);var X=Aa(b);ub(b);Pa(b,X);Ce(b,
X);p.finish()}}function $d(b,p,X){function S(vc){var wc=vc.nextSibling;Ag&&dh&&b.display.currentWheelTarget==vc?vc.style.display="none":vc.parentNode.removeChild(vc);return wc}var ea=b.display,La=b.options.lineNumbers,Xa=ea.lineDiv,ab=Xa.firstChild,tb=ea.view;ea=ea.viewFrom;for(var Ib=0;Ib<tb.length;Ib++){var dc=tb[Ib];if(!dc.hidden)if(dc.node&&dc.node.parentNode==Xa){for(;ab!=dc.node;)ab=S(ab);ab=La&&null!=p&&p<=ea&&dc.lineNumber;dc.changes&&(-1<a(dc.changes,"gutter")&&(ab=!1),Xc(b,dc,ea,X));ab&&
(l(dc.lineNumber),dc.lineNumber.appendChild(document.createTextNode(db(b.options,ea))));ab=dc.node.nextSibling}else{var Rc=Tc(b,dc,ea,X);Xa.insertBefore(Rc,ab)}ea+=dc.size}for(;ab;)ab=S(ab)}function Ie(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function Ce(b,p){b.display.sizer.style.minHeight=p.docHeight+"px";b.display.heightForcer.style.top=p.docHeight+"px";b.display.gutters.style.height=p.docHeight+b.display.barHeight+oe(b)+"px"}function Qe(b){var p=b.display,X=p.view;if(p.alignWidgets||
p.gutters.firstChild&&b.options.fixedGutter){for(var S=Yf(p)-p.scroller.scrollLeft+b.doc.scrollLeft,ea=p.gutters.offsetWidth,La=S+"px",Xa=0;Xa<X.length;Xa++)if(!X[Xa].hidden){b.options.fixedGutter&&(X[Xa].gutter&&(X[Xa].gutter.style.left=La),X[Xa].gutterBackground&&(X[Xa].gutterBackground.style.left=La));var ab=X[Xa].alignable;if(ab)for(var tb=0;tb<ab.length;tb++)ab[tb].style.left=La}b.options.fixedGutter&&(p.gutters.style.left=S+ea+"px")}}function Uf(b){if(!b.options.lineNumbers)return!1;var p=b.doc;
p=db(b.options,p.first+p.size-1);var X=b.display;if(p.length!=X.lineNumChars){var S=X.measure.appendChild(H("div",[H("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ea=S.firstChild.offsetWidth;S=S.offsetWidth-ea;X.lineGutter.style.width="";X.lineNumInnerWidth=Math.max(ea,X.lineGutter.offsetWidth-S)+1;X.lineNumWidth=X.lineNumInnerWidth+S;X.lineNumChars=X.lineNumInnerWidth?p.length:-1;X.lineGutter.style.width=X.lineNumWidth+"px";Ie(b.display);return!0}return!1}function ne(b,p){for(var X=[],
S=!1,ea=0;ea<b.length;ea++){var La=b[ea],Xa=null;"string"!=typeof La&&(Xa=La.style,La=La.className);if("CodeMirror-linenumbers"==La)if(p)S=!0;else continue;X.push({className:La,style:Xa})}p&&!S&&X.push({className:"CodeMirror-linenumbers",style:null});return X}function sf(b){var p=b.gutters,X=b.gutterSpecs;l(p);b.lineGutter=null;for(var S=0;S<X.length;++S){var ea=X[S],La=ea.className;ea=ea.style;var Xa=p.appendChild(H("div",null,"CodeMirror-gutter "+La));ea&&(Xa.style.cssText=ea);"CodeMirror-linenumbers"==
La&&(b.lineGutter=Xa,Xa.style.width=(b.lineNumWidth||1)+"px")}p.style.display=X.length?"":"none";Ie(b)}function Cf(b){sf(b.display);yc(b);Qe(b)}function Bg(b,p,X,S){this.input=X;this.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=H("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=N("div",null,"CodeMirror-code");this.selectionDiv=H("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=H("div",null,"CodeMirror-cursors");this.measure=H("div",null,"CodeMirror-measure");this.lineMeasure=H("div",null,"CodeMirror-measure");this.lineSpace=N("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ea=N("div",[this.lineSpace],"CodeMirror-lines");this.mover=H("div",[ea],null,"position: relative");this.sizer=H("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=H("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=H("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=H("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=H("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");wf&&8>Ff&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Ag||Eg&&ri||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):
b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=p.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=ne(S.gutters,S.lineNumbers);sf(this);X.init(this)}function Lf(b){var p=b.wheelDeltaX,X=b.wheelDeltaY;null==p&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(p=b.detail);null==X&&b.detail&&b.axis==b.VERTICAL_AXIS?X=b.detail:null==X&&(X=b.wheelDelta);return{x:p,y:X}}function jg(b){b=Lf(b);b.x*=Og;b.y*=Og;return b}function xa(b,p){var X=Lf(p),S=X.x;X=X.y;var ea=b.display,
La=ea.scroller,Xa=La.scrollWidth>La.clientWidth,ab=La.scrollHeight>La.clientHeight;if(S&&Xa||X&&ab){if(X&&dh&&Ag){Xa=p.target;var tb=ea.view;a:for(;Xa!=La;Xa=Xa.parentNode)for(var Ib=0;Ib<tb.length;Ib++)if(tb[Ib].node==Xa){b.display.currentWheelTarget=Xa;break a}}!S||Eg||Jg||null==Og?(X&&null!=Og&&(p=X*Og,ab=b.doc.scrollTop,Xa=ab+ea.wrapper.clientHeight,0>p?ab=Math.max(0,ab+p-50):Xa=Math.min(b.doc.height,Xa+p+50),Le(b,{top:ab,bottom:Xa})),20>ui&&(null==ea.wheelStartX?(ea.wheelStartX=La.scrollLeft,
ea.wheelStartY=La.scrollTop,ea.wheelDX=S,ea.wheelDY=X,setTimeout(function(){if(null!=ea.wheelStartX){var dc=La.scrollLeft-ea.wheelStartX,Rc=La.scrollTop-ea.wheelStartY;dc=Rc&&ea.wheelDY&&Rc/ea.wheelDY||dc&&ea.wheelDX&&dc/ea.wheelDX;ea.wheelStartX=ea.wheelStartY=null;dc&&(Og=(Og*ui+dc)/(ui+1),++ui)}},200)):(ea.wheelDX+=S,ea.wheelDY+=X))):(X&&ab&&yf(b,Math.max(0,La.scrollTop+X*Og)),nf(b,Math.max(0,La.scrollLeft+S*Og)),(!X||X&&ab)&&aa(p),ea.wheelStartX=null)}}function za(b,p,X){b=b&&b.options.selectionsMayTouch;
X=p[X];p.sort(function(tb,Ib){return Ca(tb.from(),Ib.from())});X=a(p,X);for(var S=1;S<p.length;S++){var ea=p[S],La=p[S-1],Xa=Ca(La.to(),ea.from());if(b&&!ea.empty()?0<Xa:0<=Xa){Xa=Ua(La.from(),ea.from());var ab=Ha(La.to(),ea.to());ea=La.empty()?ea.from()==ea.head:La.from()==La.head;S<=X&&--X;p.splice(--S,2,new Jf(ea?ab:Xa,ea?Xa:ab))}}return new Hg(p,X)}function Na(b,p){return new Hg([new Jf(b,p||b)],0)}function Sa(b){return b.text?$a(b.from.line+b.text.length-1,y(b.text).length+(1==b.text.length?
b.from.ch:0)):b.to}function fb(b,p){if(0>Ca(b,p.from))return b;if(0>=Ca(b,p.to))return Sa(p);var X=b.line+p.text.length-(p.to.line-p.from.line)-1,S=b.ch;b.line==p.to.line&&(S+=Sa(p).ch-p.to.ch);return $a(X,S)}function hb(b,p){for(var X=[],S=0;S<b.sel.ranges.length;S++){var ea=b.sel.ranges[S];X.push(new Jf(fb(ea.anchor,p),fb(ea.head,p)))}return za(b.cm,X,b.sel.primIndex)}function qb(b,p,X){return b.line==p.line?$a(X.line,b.ch-p.ch+X.ch):$a(X.line+(b.line-p.line),b.ch)}function Db(b){b.doc.mode=Ya(b.options,
b.doc.modeOption);Ab(b)}function Ab(b){b.doc.iter(function(p){p.stateAfter&&(p.stateAfter=null);p.styles&&(p.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;Kd(b,100);b.state.modeGen++;b.curOp&&yc(b)}function Kb(b,p){return 0==p.from.ch&&0==p.to.ch&&""==y(p.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function Jb(b,p,X,S){function ea(td,ce,Se){td.text=ce;td.stateAfter&&(td.stateAfter=null);td.styles&&(td.styles=null);null!=td.order&&(td.order=null);wd(td);vd(td,Se);ce=
S?S(td):1;ce!=td.height&&qa(td,ce);Bc(td,"change",td,p)}function La(td,ce){for(var Se=[];td<ce;++td)Se.push(new Yh(tb[td],X?X[td]:null,S));return Se}var Xa=p.from,ab=p.to,tb=p.text,Ib=ba(b,Xa.line),dc=ba(b,ab.line),Rc=y(tb),vc=X?X[tb.length-1]:null,wc=ab.line-Xa.line;p.full?(b.insert(0,La(0,tb.length)),b.remove(tb.length,b.size-tb.length)):Kb(b,p)?(ab=La(0,tb.length-1),ea(dc,dc.text,vc),wc&&b.remove(Xa.line,wc),ab.length&&b.insert(Xa.line,ab)):Ib==dc?1==tb.length?ea(Ib,Ib.text.slice(0,Xa.ch)+Rc+Ib.text.slice(ab.ch),
vc):(wc=La(1,tb.length-1),wc.push(new Yh(Rc+Ib.text.slice(ab.ch),vc,S)),ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0],X?X[0]:null),b.insert(Xa.line+1,wc)):1==tb.length?(ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0]+dc.text.slice(ab.ch),X?X[0]:null),b.remove(Xa.line+1,wc)):(ea(Ib,Ib.text.slice(0,Xa.ch)+tb[0],X?X[0]:null),ea(dc,Rc+dc.text.slice(ab.ch),vc),vc=La(1,tb.length-1),1<wc&&b.remove(Xa.line+1,wc-1),b.insert(Xa.line+1,vc));Bc(b,"change",b,p)}function cc(b,p,X){function S(ea,La,Xa){if(ea.linked)for(var ab=0;ab<ea.linked.length;++ab){var tb=
ea.linked[ab];if(tb.doc!=La){var Ib=Xa&&tb.sharedHist;if(!X||Ib)p(tb.doc,Ib),S(tb.doc,ea,Ib)}}}S(b,null,!0)}function xc(b,p){if(p.cm)throw Error("This document is already in use.");b.doc=p;p.cm=b;Sf(b);Db(b);Y(b);b.options.lineWrapping||wb(b);b.options.mode=p.modeOption;yc(b)}function Y(b){("rtl"==b.doc.direction?u:Dh)(b.display.lineDiv,"CodeMirror-rtl")}function oa(b){oc(b,function(){Y(b);yc(b)})}function Oa(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=
0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function Va(b,p){var X={from:pa(p.from),to:Sa(p),text:ca(b,p.from,p.to)};qc(b,X,p.from.line,p.to.line+1);cc(b,function(S){return qc(S,X,p.from.line,p.to.line+1)},!0);return X}function xb(b){for(;b.length;)if(y(b).ranges)b.pop();else break}function Sb(b,p,X,S){var ea=b.history;ea.undone.length=0;var La=+new Date,Xa;if(Xa=ea.lastOp==S||ea.lastOrigin==p.origin&&p.origin&&("+"==p.origin.charAt(0)&&
ea.lastModTime>La-(b.cm?b.cm.options.historyEventDelay:500)||"*"==p.origin.charAt(0))){if(ea.lastOp==S){xb(ea.done);var ab=y(ea.done)}else ea.done.length&&!y(ea.done).ranges?ab=y(ea.done):1<ea.done.length&&!ea.done[ea.done.length-2].ranges?(ea.done.pop(),ab=y(ea.done)):ab=void 0;Xa=ab}if(Xa){var tb=y(ab.changes);0==Ca(p.from,p.to)&&0==Ca(p.from,tb.to)?tb.to=Sa(p):ab.changes.push(Va(b,p))}else for((ab=y(ea.done))&&ab.ranges||Zb(b.sel,ea.done),ab={changes:[Va(b,p)],generation:ea.generation},ea.done.push(ab);ea.done.length>
ea.undoDepth;)ea.done.shift(),ea.done[0].ranges||ea.done.shift();ea.done.push(X);ea.generation=++ea.maxGeneration;ea.lastModTime=ea.lastSelTime=La;ea.lastOp=ea.lastSelOp=S;ea.lastOrigin=ea.lastSelOrigin=p.origin;tb||Z(b,"historyAdded")}function Zb(b,p){var X=y(p);X&&X.ranges&&X.equals(b)||p.push(b)}function qc(b,p,X,S){var ea=p["spans_"+b.id],La=0;b.iter(Math.max(b.first,X),Math.min(b.first+b.size,S),function(Xa){Xa.markedSpans&&((ea||(ea=p["spans_"+b.id]={}))[La]=Xa.markedSpans);++La})}function Ec(b){if(!b)return null;
for(var p,X=0;X<b.length;++X)b[X].marker.explicitlyCleared?p||(p=b.slice(0,X)):p&&p.push(b[X]);return p?p.length?p:null:b}function ed(b,p){var X;if(X=p["spans_"+b.id]){for(var S=[],ea=0;ea<p.text.length;++ea)S.push(Ec(X[ea]));X=S}else X=null;b=Lc(b,p);if(!X)return b;if(!b)return X;for(p=0;p<X.length;++p)if(S=X[p],ea=b[p],S&&ea){var La=0;a:for(;La<ea.length;++La){for(var Xa=ea[La],ab=0;ab<S.length;++ab)if(S[ab].marker==Xa.marker)continue a;S.push(Xa)}}else ea&&(X[p]=ea);return X}function Zc(b,p,X){for(var S=
[],ea=0;ea<b.length;++ea){var La=b[ea];if(La.ranges)S.push(X?Hg.prototype.deepCopy.call(La):La);else{La=La.changes;var Xa=[];S.push({changes:Xa});for(var ab=0;ab<La.length;++ab){var tb=La[ab],Ib;Xa.push({from:tb.from,to:tb.to,text:tb.text});if(p)for(var dc in tb)(Ib=dc.match(/^spans_(\d+)$/))&&-1<a(p,Number(Ib[1]))&&(y(Xa)[dc]=tb[dc],delete tb[dc])}}}return S}function Pd(b,p,X,S){return S?(b=b.anchor,X&&(S=0>Ca(p,b),S!=0>Ca(X,b)?(b=p,p=X):S!=0>Ca(p,X)&&(p=X)),new Jf(b,p)):new Jf(X||p,p)}function be(b,
p,X,S,ea){null==ea&&(ea=b.cm&&(b.cm.display.shift||b.extend));Wa(b,new Hg([Pd(b.sel.primary(),p,X,ea)],0),S)}function pd(b,p,X){for(var S=[],ea=b.cm&&(b.cm.display.shift||b.extend),La=0;La<b.sel.ranges.length;La++)S[La]=Pd(b.sel.ranges[La],p[La],null,ea);p=za(b.cm,S,b.sel.primIndex);Wa(b,p,X)}function Ad(b,p,X,S){var ea=b.sel.ranges.slice(0);ea[p]=X;Wa(b,za(b.cm,ea,b.sel.primIndex),S)}function id(b,p,X){X={ranges:p.ranges,update:function(S){this.ranges=[];for(var ea=0;ea<S.length;ea++)this.ranges[ea]=
new Jf(jb(b,S[ea].anchor),jb(b,S[ea].head))},origin:X&&X.origin};Z(b,"beforeSelectionChange",b,X);b.cm&&Z(b.cm,"beforeSelectionChange",b.cm,X);return X.ranges!=p.ranges?za(b.cm,X.ranges,X.ranges.length-1):p}function af(b,p,X){var S=b.history.done,ea=y(S);ea&&ea.ranges?(S[S.length-1]=p,ob(b,p,X)):Wa(b,p,X)}function Wa(b,p,X){ob(b,p,X);p=b.sel;var S=b.cm?b.cm.curOp.id:NaN,ea=b.history,La=X&&X.origin,Xa;if(!(Xa=S==ea.lastSelOp)&&(Xa=La&&ea.lastSelOrigin==La)&&!(Xa=ea.lastModTime==ea.lastSelTime&&ea.lastOrigin==
La)){Xa=y(ea.done);var ab=La.charAt(0);Xa="*"==ab||"+"==ab&&Xa.ranges.length==p.ranges.length&&Xa.somethingSelected()==p.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}Xa?ea.done[ea.done.length-1]=p:Zb(p,ea.done);ea.lastSelTime=+new Date;ea.lastSelOrigin=La;ea.lastSelOp=S;X&&!1!==X.clearRedo&&xb(ea.undone)}function ob(b,p,X){if(V(b,"beforeSelectionChange")||b.cm&&V(b.cm,"beforeSelectionChange"))p=id(b,p,X);var S=X&&X.bias||(0>Ca(p.primary().head,b.sel.primary().head)?
-1:1);zb(b,bc(b,p,S,!0));X&&!1===X.scroll||!b.cm||"nocursor"==b.cm.getOption("readOnly")||We(b.cm)}function zb(b,p){p.equals(b.sel)||(b.sel=p,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,C(b.cm)),Bc(b,"cursorActivity",b))}function Mb(b){zb(b,bc(b,b.sel,null,!1))}function bc(b,p,X,S){for(var ea,La=0;La<p.ranges.length;La++){var Xa=p.ranges[La],ab=p.ranges.length==b.sel.ranges.length&&b.sel.ranges[La],tb=r(b,Xa.anchor,ab&&ab.anchor,X,S);ab=r(b,Xa.head,ab&&ab.head,X,S);if(ea||tb!=Xa.anchor||
ab!=Xa.head)ea||(ea=p.ranges.slice(0,La)),ea[La]=new Jf(tb,ab)}return ea?za(b.cm,ea,p.primIndex):p}function Kc(b,p,X,S,ea){var La=ba(b,p.line);if(La.markedSpans)for(var Xa=0;Xa<La.markedSpans.length;++Xa){var ab=La.markedSpans[Xa],tb=ab.marker,Ib="selectLeft"in tb?!tb.selectLeft:tb.inclusiveLeft,dc="selectRight"in tb?!tb.selectRight:tb.inclusiveRight;if((null==ab.from||(Ib?ab.from<=p.ch:ab.from<p.ch))&&(null==ab.to||(dc?ab.to>=p.ch:ab.to>p.ch))){if(ea&&(Z(tb,"beforeCursorEnter"),tb.explicitlyCleared))if(La.markedSpans){--Xa;
continue}else break;if(tb.atomic){if(X){Xa=tb.find(0>S?1:-1);ab=void 0;if(0>S?dc:Ib)Xa=Q(b,Xa,-S,Xa&&Xa.line==p.line?La:null);if(Xa&&Xa.line==p.line&&(ab=Ca(Xa,X))&&(0>S?0>ab:0<ab))return Kc(b,Xa,p,S,ea)}X=tb.find(0>S?-1:1);if(0>S?Ib:dc)X=Q(b,X,S,X.line==p.line?La:null);return X?Kc(b,X,p,S,ea):null}}}return p}function r(b,p,X,S,ea){S=S||1;p=Kc(b,p,X,S,ea)||!ea&&Kc(b,p,X,S,!0)||Kc(b,p,X,-S,ea)||!ea&&Kc(b,p,X,-S,!0);return p?p:(b.cantEdit=!0,$a(b.first,0))}function Q(b,p,X,S){return 0>X&&0==p.ch?p.line>
b.first?jb(b,$a(p.line-1)):null:0<X&&p.ch==(S||ba(b,p.line)).text.length?p.line<b.first+b.size-1?$a(p.line+1,0):null:new $a(p.line,p.ch+X)}function ma(b){b.setSelection($a(b.firstLine(),0),$a(b.lastLine()),mg)}function Ma(b,p,X){var S={canceled:!1,from:p.from,to:p.to,text:p.text,origin:p.origin,cancel:function(){return S.canceled=!0}};X&&(S.update=function(ea,La,Xa,ab){ea&&(S.from=jb(b,ea));La&&(S.to=jb(b,La));Xa&&(S.text=Xa);void 0!==ab&&(S.origin=ab)});Z(b,"beforeChange",b,S);b.cm&&Z(b.cm,"beforeChange",
b.cm,S);return S.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:S.from,to:S.to,text:S.text,origin:S.origin}}function gb(b,p,X){if(b.cm){if(!b.cm.curOp)return fd(b.cm,gb)(b,p,X);if(b.cm.state.suppressEdits)return}if(V(b,"beforeChange")||b.cm&&V(b.cm,"beforeChange"))if(p=Ma(b,p,!0),!p)return;if(X=ak&&!X&&ge(b,p.from,p.to))for(var S=X.length-1;0<=S;--S)lb(b,{from:X[S].from,to:X[S].to,text:S?[""]:p.text,origin:p.origin});else lb(b,p)}function lb(b,p){if(1!=p.text.length||""!=p.text[0]||0!=Ca(p.from,
p.to)){var X=hb(b,p);Sb(b,p,X,b.cm?b.cm.curOp.id:NaN);ec(b,p,X,Lc(b,p));var S=[];cc(b,function(ea,La){La||-1!=a(S,ea.history)||(rd(ea.history,p),S.push(ea.history));ec(ea,p,null,Lc(ea,p))})}}function sb(b,p,X){var S=b.cm&&b.cm.state.suppressEdits;if(!S||X){for(var ea=b.history,La,Xa=b.sel,ab="undo"==p?ea.done:ea.undone,tb="undo"==p?ea.undone:ea.done,Ib=0;Ib<ab.length&&(La=ab[Ib],X?!La.ranges||La.equals(b.sel):La.ranges);Ib++);if(Ib!=ab.length){for(ea.lastOrigin=ea.lastSelOrigin=null;;)if(La=ab.pop(),
La.ranges){Zb(La,tb);if(X&&!La.equals(b.sel)){Wa(b,La,{clearRedo:!1});return}Xa=La}else{if(S){ab.push(La);return}break}var dc=[];Zb(Xa,tb);tb.push({changes:dc,generation:ea.generation});ea.generation=La.generation||++ea.maxGeneration;var Rc=V(b,"beforeChange")||b.cm&&V(b.cm,"beforeChange");X=function(vc){var wc=La.changes[vc];wc.origin=p;if(Rc&&!Ma(b,wc,!1))return ab.length=0,{};dc.push(Va(b,wc));var td=vc?hb(b,wc):y(ab);ec(b,wc,td,ed(b,wc));!vc&&b.cm&&b.cm.scrollIntoView({from:wc.from,to:Sa(wc)});
var ce=[];cc(b,function(Se,bf){bf||-1!=a(ce,Se.history)||(rd(Se.history,wc),ce.push(Se.history));ec(Se,wc,null,ed(Se,wc))})};for(S=La.changes.length-1;0<=S;--S)if(ea=X(S))return ea.v}}}function Rb(b,p){if(0!=p&&(b.first+=p,b.sel=new Hg(B(b.sel.ranges,function(ea){return new Jf($a(ea.anchor.line+p,ea.anchor.ch),$a(ea.head.line+p,ea.head.ch))}),b.sel.primIndex),b.cm)){yc(b.cm,b.first,b.first-p,p);for(var X=b.cm.display,S=X.viewFrom;S<X.viewTo;S++)wa(b.cm,S,"gutter")}}function ec(b,p,X,S){if(b.cm&&!b.cm.curOp)return fd(b.cm,
ec)(b,p,X,S);if(p.to.line<b.first)Rb(b,p.text.length-1-(p.to.line-p.from.line));else if(!(p.from.line>b.lastLine())){if(p.from.line<b.first){var ea=p.text.length-1-(b.first-p.from.line);Rb(b,ea);p={from:$a(b.first,0),to:$a(p.to.line+ea,p.to.ch),text:[y(p.text)],origin:p.origin}}ea=b.lastLine();p.to.line>ea&&(p={from:p.from,to:$a(ea,ba(b,ea).text.length),text:[p.text[0]],origin:p.origin});p.removed=ca(b,p.from,p.to);X||(X=hb(b,p));b.cm?Vb(b.cm,p,S):Jb(b,p,S);ob(b,X,mg);b.cantEdit&&r(b,$a(b.firstLine(),
0))&&(b.cantEdit=!1)}}function Vb(b,p,X){var S=b.doc,ea=b.display,La=p.from,Xa=p.to,ab=!1,tb=La.line;b.options.lineWrapping||(tb=Fa(Eb(ba(S,La.line))),S.iter(tb,Xa.line+1,function(Ib){if(Ib==ea.maxLine)return ab=!0}));-1<S.sel.contains(p.from,p.to)&&C(b);Jb(S,p,X,If(b));b.options.lineWrapping||(S.iter(tb,La.line+p.text.length,function(Ib){var dc=eb(Ib);dc>ea.maxLineLength&&(ea.maxLine=Ib,ea.maxLineLength=dc,ea.maxLineChanged=!0,ab=!1)}),ab&&(b.curOp.updateMaxLine=!0));sc(S,La.line);Kd(b,400);X=p.text.length-
(Xa.line-La.line)-1;p.full?yc(b):La.line!=Xa.line||1!=p.text.length||Kb(b.doc,p)?yc(b,La.line,Xa.line+1,X):wa(b,La.line,"text");X=V(b,"changes");if((S=V(b,"change"))||X)p={from:La,to:Xa,text:p.text,removed:p.removed,origin:p.origin},S&&Bc(b,"change",b,p),X&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(p);b.display.selForContextMenu=null}function Qc(b,p,X,S,ea){S||(S=X);0>Ca(S,X)&&(S=[S,X],X=S[0],S=S[1]);"string"==typeof p&&(p=b.splitLines(p));gb(b,{from:X,to:S,text:p,origin:ea})}function dd(b,
p,X,S){X<b.line?b.line+=S:p<b.line&&(b.line=p,b.ch=0)}function zd(b,p,X,S){for(var ea=0;ea<b.length;++ea){var La=b[ea],Xa=!0;if(La.ranges)for(La.copied||(La=b[ea]=La.deepCopy(),La.copied=!0),Xa=0;Xa<La.ranges.length;Xa++)dd(La.ranges[Xa].anchor,p,X,S),dd(La.ranges[Xa].head,p,X,S);else{for(var ab=0;ab<La.changes.length;++ab){var tb=La.changes[ab];if(X<tb.from.line)tb.from=$a(tb.from.line+S,tb.from.ch),tb.to=$a(tb.to.line+S,tb.to.ch);else if(p<=tb.to.line){Xa=!1;break}}Xa||(b.splice(0,ea+1),ea=0)}}}
function rd(b,p){var X=p.from.line,S=p.to.line;p=p.text.length-(S-X)-1;zd(b.done,X,S,p);zd(b.undone,X,S,p)}function bd(b,p,X,S){var ea=p,La=p;"number"==typeof p?La=ba(b,Math.max(b.first,Math.min(p,b.first+b.size-1))):ea=Fa(p);if(null==ea)return null;S(La,ea)&&b.cm&&wa(b.cm,ea,X);return La}function Jc(b){this.lines=b;this.parent=null;for(var p=0,X=0;X<b.length;++X)b[X].parent=this,p+=b[X].height;this.height=p}function ud(b){this.children=b;for(var p=0,X=0,S=0;S<b.length;++S){var ea=b[S];p+=ea.chunkSize();
X+=ea.height;ea.parent=this}this.size=p;this.height=X;this.parent=null}function ee(b,p,X,S){var ea=new Uh(b,X,S),La=b.cm;La&&ea.noHScroll&&(La.display.alignWidgets=!0);bd(b,p,"widget",function(Xa){var ab=Xa.widgets||(Xa.widgets=[]);null==ea.insertAt?ab.push(ea):ab.splice(Math.min(ab.length,Math.max(0,ea.insertAt)),0,ea);ea.line=Xa;La&&!Ed(b,Xa)&&(ab=Ka(Xa)<b.scrollTop,qa(Xa,Xa.height+Cd(ea)),ab&&kd(La,ea.height),La.curOp.forceUpdate=!0);return!0});La&&Bc(La,"lineWidgetAdded",La,ea,"number"==typeof p?
p:Fa(p));return ea}function Sd(b,p,X,S,ea){if(S&&S.shared)return ye(b,p,X,S,ea);if(b.cm&&!b.cm.curOp)return fd(b.cm,Sd)(b,p,X,S,ea);var La=new lh(b,ea);ea=Ca(p,X);S&&d(S,La,!1);if(0<ea||0==ea&&!1!==La.clearWhenEmpty)return La;La.replacedWith&&(La.collapsed=!0,La.widgetNode=N("span",[La.replacedWith],"CodeMirror-widget"),S.handleMouseEvents||La.widgetNode.setAttribute("cm-ignore-events","true"),S.insertLeft&&(La.widgetNode.insertLeft=!0));if(La.collapsed){if(gc(b,p.line,p,X,La)||p.line!=X.line&&gc(b,
X.line,p,X,La))throw Error("Inserting collapsed marker partially overlapping an existing one");Ph=!0}La.addToHistory&&Sb(b,{from:p,to:X,origin:"markText"},b.sel,NaN);var Xa=p.line,ab=b.cm,tb;b.iter(Xa,X.line+1,function(Ib){ab&&La.collapsed&&!ab.options.lineWrapping&&Eb(Ib)==ab.display.maxLine&&(tb=!0);La.collapsed&&Xa!=p.line&&qa(Ib,0);var dc=new Uc(La,Xa==p.line?p.ch:null,Xa==X.line?X.ch:null);Ib.markedSpans=Ib.markedSpans?Ib.markedSpans.concat([dc]):[dc];dc.marker.attachLine(Ib);++Xa});La.collapsed&&
b.iter(p.line,X.line+1,function(Ib){Ed(b,Ib)&&qa(Ib,0)});La.clearOnEnter&&Te(La,"beforeCursorEnter",function(){return La.clear()});La.readOnly&&(ak=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());La.collapsed&&(La.id=++Dj,La.atomic=!0);if(ab){tb&&(ab.curOp.updateMaxLine=!0);if(La.collapsed)yc(ab,p.line,X.line+1);else if(La.className||La.startStyle||La.endStyle||La.css||La.attributes||La.title)for(S=p.line;S<=X.line;S++)wa(ab,S,"text");La.atomic&&Mb(ab.doc);Bc(ab,"markerAdded",
ab,La)}return La}function ye(b,p,X,S,ea){S=d(S);S.shared=!1;var La=[Sd(b,p,X,S,ea)],Xa=La[0],ab=S.widgetNode;cc(b,function(tb){ab&&(S.widgetNode=ab.cloneNode(!0));La.push(Sd(tb,jb(tb,p),jb(tb,X),S,ea));for(var Ib=0;Ib<tb.linked.length;++Ib)if(tb.linked[Ib].isParent)return;Xa=y(La)});return new pi(La,Xa)}function re(b){return b.findMarks($a(b.first,0),b.clipPos($a(b.lastLine())),function(p){return p.parent})}function Pf(b){for(var p=function(S){S=b[S];var ea=[S.primary.doc];cc(S.primary.doc,function(ab){return ea.push(ab)});
for(var La=0;La<S.markers.length;La++){var Xa=S.markers[La];-1==a(ea,Xa.doc)&&(Xa.parent=null,S.markers.splice(La--,1))}},X=0;X<b.length;X++)p(X)}function ke(b){var p=this;pe(p);if(!P(p,b)&&!Dd(p.display,b)){aa(b);wf&&(gj=+new Date);var X=Bf(p,b,!0),S=b.dataTransfer.files;if(X&&!p.isReadOnly())if(S&&S.length&&window.FileReader&&window.File)for(var ea=S.length,La=Array(ea),Xa=0,ab=function(){++Xa==ea&&fd(p,function(){X=jb(p.doc,X);var dc={from:X,to:X,text:p.doc.splitLines(La.filter(function(Rc){return null!=
Rc}).join(p.doc.lineSeparator())),origin:"paste"};gb(p.doc,dc);af(p.doc,Na(jb(p.doc,X),jb(p.doc,Sa(dc))))})()},tb=function(dc,Rc){if(p.options.allowDropFileTypes&&-1==a(p.options.allowDropFileTypes,dc.type))ab();else{var vc=new FileReader;vc.onerror=function(){return ab()};vc.onload=function(){var wc=vc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(wc)||(La[Rc]=wc);ab()};vc.readAsText(dc)}},Ib=0;Ib<S.length;Ib++)tb(S[Ib],Ib);else if(p.state.draggingText&&-1<p.doc.sel.contains(X))p.state.draggingText(b),setTimeout(function(){return p.display.input.focus()},
20);else try{if(tb=b.dataTransfer.getData("Text")){p.state.draggingText&&!p.state.draggingText.copy&&(Ib=p.listSelections());ob(p.doc,Na(X,X));if(Ib)for(S=0;S<Ib.length;++S)Qc(p.doc,"",Ib[S].anchor,Ib[S].head,"drag");p.replaceSelection(tb,"around","paste");p.display.input.focus()}}catch(dc){}}}function pe(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=null)}function Re(b){if(document.getElementsByClassName){for(var p=document.getElementsByClassName("CodeMirror"),
X=[],S=0;S<p.length;S++){var ea=p[S].CodeMirror;ea&&X.push(ea)}X.length&&X[0].operation(function(){for(var La=0;La<X.length;La++)b(X[La])})}}function xd(){var b;Te(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Re(Oe)},100))});Te(window,"blur",function(){return Re(jd)})}function Oe(b){var p=b.display;p.cachedCharWidth=p.cachedTextHeight=p.cachedPaddingH=null;p.scrollbarsClipped=!1;b.setSize()}function dg(b){var p=b.split(/-(?!$)/);b=p[p.length-1];for(var X,S,ea,La,Xa=0;Xa<p.length-
1;Xa++){var ab=p[Xa];if(/^(cmd|meta|m)$/i.test(ab))La=!0;else if(/^a(lt)?$/i.test(ab))X=!0;else if(/^(c|ctrl|control)$/i.test(ab))S=!0;else if(/^s(hift)?$/i.test(ab))ea=!0;else throw Error("Unrecognized modifier name: "+ab);}X&&(b="Alt-"+b);S&&(b="Ctrl-"+b);La&&(b="Cmd-"+b);ea&&(b="Shift-"+b);return b}function Xe(b){var p={},X;for(X in b)if(b.hasOwnProperty(X)){var S=b[X];if(!/^(name|fallthrough|(de|at)tach)$/.test(X)){if("..."!=S)for(var ea=B(X.split(" "),dg),La=0;La<ea.length;La++){if(La==ea.length-
1){var Xa=ea.join(" ");var ab=S}else Xa=ea.slice(0,La+1).join(" "),ab="...";var tb=p[Xa];if(!tb)p[Xa]=ab;else if(tb!=ab)throw Error("Inconsistent bindings for "+Xa);}delete b[X]}}for(var Ib in p)b[Ib]=p[Ib];return b}function $f(b,p,X,S){p=Vf(p);var ea=p.call?p.call(b,S):p[b];if(!1===ea)return"nothing";if("..."===ea)return"multi";if(null!=ea&&X(ea))return"handled";if(p.fallthrough){if("[object Array]"!=Object.prototype.toString.call(p.fallthrough))return $f(b,p.fallthrough,X,S);for(ea=0;ea<p.fallthrough.length;ea++){var La=
$f(b,p.fallthrough[ea],X,S);if(La)return La}}}function vf(b){b="string"==typeof b?b:Oh[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Df(b,p,X){var S=b;p.altKey&&"Alt"!=S&&(b="Alt-"+b);(Kj?p.metaKey:p.ctrlKey)&&"Ctrl"!=S&&(b="Ctrl-"+b);(Kj?p.ctrlKey:p.metaKey)&&"Mod"!=S&&(b="Cmd-"+b);!X&&p.shiftKey&&"Shift"!=S&&(b="Shift-"+b);return b}function Qf(b,p){if(Jg&&34==b.keyCode&&b["char"])return!1;var X=Oh[b.keyCode];if(null==X||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(X=b.code);
return Df(X,b,p)}function Vf(b){return"string"==typeof b?Mi[b]:b}function Xg(b,p){for(var X=b.doc.sel.ranges,S=[],ea=0;ea<X.length;ea++){for(var La=p(X[ea]);S.length&&0>=Ca(La.from,y(S).to);){var Xa=S.pop();if(0>Ca(Xa.from,La.from)){La.from=Xa.from;break}}S.push(La)}oc(b,function(){for(var ab=S.length-1;0<=ab;ab--)Qc(b.doc,"",S[ab].from,S[ab].to,"+delete");We(b)})}function Bh(b,p,X){p=R(b.text,p+X,X);return 0>p||p>b.text.length?null:p}function sh(b,p,X){b=Bh(b,p.ch,X);return null==b?null:new $a(p.line,
b,0>X?"after":"before")}function Ti(b,p,X,S,ea){if(b&&("rtl"==p.doc.direction&&(ea=-ea),b=ha(X,p.doc.direction))){b=0>ea?y(b):b[0];var La=0>ea==(1==b.level)?"after":"before";if(0<b.level||"rtl"==p.doc.direction){var Xa=df(p,X);var ab=0>ea?X.text.length-1:0;var tb=Zd(p,Xa,ab).top;ab=T(function(Ib){return Zd(p,Xa,Ib).top==tb},0>ea==(1==b.level)?b.from:b.to-1,ab);"before"==La&&(ab=Bh(X,ab,1))}else ab=0>ea?b.to:b.from;return new $a(S,ab,La)}return new $a(S,0>ea?X.text.length:0,0>ea?"before":"after")}
function hk(b,p,X,S){var ea=ha(p,b.doc.direction);if(!ea)return sh(p,X,S);X.ch>=p.text.length?(X.ch=p.text.length,X.sticky="before"):0>=X.ch&&(X.ch=0,X.sticky="after");var La=fa(ea,X.ch,X.sticky),Xa=ea[La];if("ltr"==b.doc.direction&&0==Xa.level%2&&(0<S?Xa.to>X.ch:Xa.from<X.ch))return sh(p,X,S);var ab=function(wc,td){return Bh(p,wc instanceof $a?wc.ch:wc,td)},tb,Ib=function(wc){if(!b.options.lineWrapping)return{begin:0,end:p.text.length};tb=tb||df(b,p);return Xf(b,p,tb,wc)},dc=Ib("before"==X.sticky?
ab(X,-1):X.ch);if("rtl"==b.doc.direction||1==Xa.level){var Rc=1==Xa.level==0>S,vc=ab(X,Rc?1:-1);if(null!=vc&&(Rc?vc<=Xa.to&&vc<=dc.end:vc>=Xa.from&&vc>=dc.begin))return new $a(X.line,vc,Rc?"before":"after")}Xa=function(wc,td,ce){for(var Se=function(Af,bg){return bg?new $a(X.line,ab(Af,1),"before"):new $a(X.line,Af,"after")};0<=wc&&wc<ea.length;wc+=td){var bf=ea[wc],He=0<td==(1!=bf.level),cg=He?ce.begin:ab(ce.end,-1);if(bf.from<=cg&&cg<bf.to)return Se(cg,He);cg=He?bf.from:ab(bf.to,-1);if(ce.begin<=
cg&&cg<ce.end)return Se(cg,He)}};if(La=Xa(La+S,S,dc))return La;dc=0<S?dc.end:ab(dc.begin,-1);return null==dc||0<S&&dc==p.text.length||!(La=Xa(0<S?0:ea.length-1,S,Ib(dc)))?null:La}function nk(b,p){var X=ba(b.doc,p),S=Eb(X);S!=X&&(p=Fa(S));return Ti(!0,b,S,p,1)}function Pj(b,p){var X=nk(b,p.line),S=ba(b.doc,X.line);b=ha(S,b.doc.direction);return b&&0!=b[0].level?X:(S=Math.max(X.ch,S.text.search(/\S/)),$a(X.line,p.line==X.line&&p.ch<=S&&p.ch?0:S,X.sticky))}function Ah(b,p,X){if("string"==typeof p&&(p=
aj[p],!p))return!1;b.display.input.ensurePolled();var S=b.display.shift,ea=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),X&&(b.display.shift=!1),ea=p(b)!=mh}finally{b.display.shift=S,b.state.suppressEdits=!1}return ea}function nj(b,p,X,S){var ea=b.state.keySeq;if(ea){if(vf(p))return"handled";/'$/.test(p)?b.state.keySeq=null:Ak.set(50,function(){b.state.keySeq==ea&&(b.state.keySeq=null,b.display.input.reset())});if(Nk(b,ea+" "+p,X,S))return!0}return Nk(b,p,X,S)}function Nk(b,p,X,S){a:{for(var ea=
0;ea<b.state.keyMaps.length;ea++){var La=$f(p,b.state.keyMaps[ea],S,b);if(La){S=La;break a}}S=b.options.extraKeys&&$f(p,b.options.extraKeys,S,b)||$f(p,b.options.keyMap,S,b)}"multi"==S&&(b.state.keySeq=p);"handled"==S&&Bc(b,"keyHandled",b,p,X);if("handled"==S||"multi"==S)aa(X),Mc(b);return!!S}function Fg(b,p){var X=Qf(p,!0);return X?p.shiftKey&&!b.state.keySeq?nj(b,"Shift-"+X,p,function(S){return Ah(b,S,!0)})||nj(b,X,p,function(S){if("string"==typeof S?/^go[A-Z]/.test(S):S.motion)return Ah(b,S)}):
nj(b,X,p,function(S){return Ah(b,S)}):!1}function kh(b,p,X){return nj(b,"'"+X+"'",p,function(S){return Ah(b,S,!0)})}function Jj(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=v(),!P(this,b)){wf&&11>Ff&&27==b.keyCode&&(b.returnValue=!1);var p=b.keyCode;this.display.shift=16==p||b.shiftKey;var X=Fg(this,b);Jg&&(sk=X?p:null,!X&&88==p&&!Ii&&(dh?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));Eg&&!dh&&!X&&46==p&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");
18!=p||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||oj(this)}}function oj(b){function p(S){18!=S.keyCode&&S.altKey||(Dh(X,"CodeMirror-crosshair"),la(document,"keyup",p),la(document,"mouseover",p))}var X=b.display.lineDiv;u(X,"CodeMirror-crosshair");Te(document,"keyup",p);Te(document,"mouseover",p)}function qg(b){16==b.keyCode&&(this.doc.sel.shift=!1);P(this,b)}function yi(b){if(!(b.target&&b.target!=this.display.input.getField()||Dd(this.display,b)||P(this,b)||b.ctrlKey&&!b.altKey||
dh&&b.metaKey)){var p=b.keyCode,X=b.charCode;if(Jg&&p==sk)sk=null,aa(b);else if(!Jg||b.which&&!(10>b.which)||!Fg(this,b))if(p=String.fromCharCode(null==X?p:X),"\b"!=p&&!kh(this,b,p))this.display.input.onKeyPress(b)}}function zi(b,p){var X=+new Date;if(uj&&uj.compare(X,b,p))return bj=uj=null,"triple";if(bj&&bj.compare(X,b,p))return uj=new ij(X,b,p),bj=null,"double";bj=new ij(X,b,p);uj=null;return"single"}function Ai(b){var p=this.display;if(!(P(this,b)||p.activeTouch&&p.input.supportsTouch()))if(p.input.ensurePolled(),
p.shift=b.shiftKey,Dd(p,b))Ag||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));else if(!Vi(this,b,"gutterClick",!0)){var X=Bf(this,b),S=bb(b),ea=X?zi(X,S):"single";window.focus();1==S&&this.state.selectingText&&this.state.selectingText(b);if(!X||!Hj(this,S,X,ea,b))if(1==S)X?Qi(this,X,ea,b):(b.target||b.srcElement)==p.scroller&&aa(b);else if(2==S)X&&be(this.doc,X),setTimeout(function(){return p.input.focus()},20);else if(3==S)if(Vh)this.display.input.onContextMenu(b);
else od(this)}}function Hj(b,p,X,S,ea){var La="Click";"double"==S?La="Double"+La:"triple"==S&&(La="Triple"+La);return nj(b,Df((1==p?"Left":2==p?"Middle":"Right")+La,ea),ea,function(Xa){"string"==typeof Xa&&(Xa=aj[Xa]);if(!Xa)return!1;var ab=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),ab=Xa(b,X)!=mh}finally{b.state.suppressEdits=!1}return ab})}function Qi(b,p,X,S){wf?setTimeout(g(Nd,b),0):b.curOp.focus=v();var ea=b.getOption("configureMouse");ea=ea?ea(b,X,S):{};null==ea.unit&&(ea.unit=(Aj?S.shiftKey&&
S.metaKey:S.altKey)?"rectangle":"single"==X?"char":"double"==X?"word":"line");if(null==ea.extend||b.doc.extend)ea.extend=b.doc.extend||S.shiftKey;null==ea.addNew&&(ea.addNew=dh?S.metaKey:S.ctrlKey);null==ea.moveOnDrag&&(ea.moveOnDrag=!(dh?S.altKey:S.ctrlKey));var La=b.doc.sel,Xa;b.options.dragDrop&&dj&&!b.isReadOnly()&&"single"==X&&-1<(Xa=La.contains(p))&&(0>Ca((Xa=La.ranges[Xa]).from(),p)||0<p.xRel)&&(0<Ca(Xa.to(),p)||0>p.xRel)?ni(b,S,p,ea):qj(b,S,p,ea)}function ni(b,p,X,S){var ea=b.display,La=!1,
Xa=fd(b,function(Ib){Ag&&(ea.scroller.draggable=!1);b.state.draggingText=!1;b.state.delayingBlurEvent&&(b.hasFocus()?b.state.delayingBlurEvent=!1:od(b));la(ea.wrapper.ownerDocument,"mouseup",Xa);la(ea.wrapper.ownerDocument,"mousemove",ab);la(ea.scroller,"dragstart",tb);la(ea.scroller,"drop",Xa);La||(aa(Ib),S.addNew||be(b.doc,X,null,null,S.extend),Ag&&!Zh||wf&&9==Ff?setTimeout(function(){ea.wrapper.ownerDocument.body.focus({preventScroll:!0});ea.input.focus()},20):ea.input.focus())}),ab=function(Ib){La=
La||10<=Math.abs(p.clientX-Ib.clientX)+Math.abs(p.clientY-Ib.clientY)},tb=function(){return La=!0};Ag&&(ea.scroller.draggable=!0);b.state.draggingText=Xa;Xa.copy=!S.moveOnDrag;Te(ea.wrapper.ownerDocument,"mouseup",Xa);Te(ea.wrapper.ownerDocument,"mousemove",ab);Te(ea.scroller,"dragstart",tb);Te(ea.scroller,"drop",Xa);b.state.delayingBlurEvent=!0;setTimeout(function(){return ea.input.focus()},20);ea.scroller.dragDrop&&ea.scroller.dragDrop()}function Ui(b,p,X){if("char"==X)return new Jf(p,p);if("word"==
X)return b.findWordAt(p);if("line"==X)return new Jf($a(p.line,0),jb(b.doc,$a(p.line+1,0)));b=X(b,p);return new Jf(b.from,b.to)}function qj(b,p,X,S){function ea(He){if(0!=Ca(wc,He))if(wc=He,"rectangle"==S.unit){var cg=[],Af=b.options.tabSize,bg=f(ba(tb,X.line).text,X.ch,Af),Wf=f(ba(tb,He.line).text,He.ch,Af),qf=Math.min(bg,Wf);bg=Math.max(bg,Wf);Wf=Math.min(X.line,He.line);for(var gg=Math.min(b.lastLine(),Math.max(X.line,He.line));Wf<=gg;Wf++){var Rf=ba(tb,Wf).text,Of=e(Rf,qf,Af);qf==bg?cg.push(new Jf($a(Wf,
Of),$a(Wf,Of))):Rf.length>Of&&cg.push(new Jf($a(Wf,Of),$a(Wf,e(Rf,bg,Af))))}cg.length||cg.push(new Jf(X,X));Wa(tb,za(b,Ib.ranges.slice(0,Rc).concat(cg),Rc),{origin:"*mouse",scroll:!1});b.scrollIntoView(He)}else cg=vc,qf=Ui(b,He,S.unit),He=cg.anchor,0<Ca(qf.anchor,He)?(Af=qf.head,He=Ua(cg.from(),qf.anchor)):(Af=qf.anchor,He=Ha(cg.to(),qf.head)),cg=Ib.ranges.slice(0),cg[Rc]=hh(b,new Jf(jb(tb,He),Af)),Wa(tb,za(b,cg,Rc),Tf)}function La(He){var cg=++ce,Af=Bf(b,He,!0,"rectangle"==S.unit);if(Af)if(0!=Ca(Af,
wc)){b.curOp.focus=v();ea(Af);var bg=Gf(ab,tb);(Af.line>=bg.to||Af.line<bg.from)&&setTimeout(fd(b,function(){ce==cg&&La(He)}),150)}else{var Wf=He.clientY<td.top?-20:He.clientY>td.bottom?20:0;Wf&&setTimeout(fd(b,function(){ce==cg&&(ab.scroller.scrollTop+=Wf,La(He))}),50)}}function Xa(He){b.state.selectingText=!1;ce=Infinity;He&&(aa(He),ab.input.focus());la(ab.wrapper.ownerDocument,"mousemove",Se);la(ab.wrapper.ownerDocument,"mouseup",bf);tb.history.lastSelOrigin=null}wf&&od(b);var ab=b.display,tb=
b.doc;aa(p);var Ib=tb.sel,dc=Ib.ranges;if(S.addNew&&!S.extend){var Rc=tb.sel.contains(X);var vc=-1<Rc?dc[Rc]:new Jf(X,X)}else vc=tb.sel.primary(),Rc=tb.sel.primIndex;"rectangle"==S.unit?(S.addNew||(vc=new Jf(X,X)),X=Bf(b,p,!0,!0),Rc=-1):(p=Ui(b,X,S.unit),vc=S.extend?Pd(vc,p.anchor,p.head,S.extend):p);S.addNew?-1==Rc?(Rc=dc.length,Wa(tb,za(b,dc.concat([vc]),Rc),{scroll:!1,origin:"*mouse"})):1<dc.length&&dc[Rc].empty()&&"char"==S.unit&&!S.extend?(Wa(tb,za(b,dc.slice(0,Rc).concat(dc.slice(Rc+1)),0),
{scroll:!1,origin:"*mouse"}),Ib=tb.sel):Ad(tb,Rc,vc,Tf):(Rc=0,Wa(tb,new Hg([vc],0),Tf),Ib=tb.sel);var wc=X,td=ab.wrapper.getBoundingClientRect(),ce=0,Se=fd(b,function(He){0!==He.buttons&&bb(He)?La(He):Xa(He)}),bf=fd(b,Xa);b.state.selectingText=bf;Te(ab.wrapper.ownerDocument,"mousemove",Se);Te(ab.wrapper.ownerDocument,"mouseup",bf)}function hh(b,p){var X=p.anchor,S=p.head,ea=ba(b.doc,X.line);if(0==Ca(X,S)&&X.sticky==S.sticky)return p;ea=ha(ea);if(!ea)return p;var La=fa(ea,X.ch,X.sticky),Xa=ea[La];
if(Xa.from!=X.ch&&Xa.to!=X.ch)return p;var ab=La+(Xa.from==X.ch==(1!=Xa.level)?0:1);if(0==ab||ab==ea.length)return p;S.line!=X.line?b=0<(S.line-X.line)*("ltr"==b.doc.direction?1:-1):(b=fa(ea,S.ch,S.sticky),La=b-La||(S.ch-X.ch)*(1==Xa.level?-1:1),b=b==ab-1||b==ab?0>La:0<La);ea=ea[ab+(b?-1:0)];ea=(ab=b==(1==ea.level))?ea.from:ea.to;ab=ab?"after":"before";return X.ch==ea&&X.sticky==ab?p:new Jf(new $a(X.line,ea,ab),S)}function Vi(b,p,X,S){if(p.touches){var ea=p.touches[0].clientX;var La=p.touches[0].clientY}else try{ea=
p.clientX,La=p.clientY}catch(tb){return!1}if(ea>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;S&&aa(p);S=b.display;var Xa=S.lineDiv.getBoundingClientRect();if(La>Xa.bottom||!V(b,X))return va(p);La-=Xa.top-S.viewOffset;for(Xa=0;Xa<b.display.gutterSpecs.length;++Xa){var ab=S.gutters.childNodes[Xa];if(ab&&ab.getBoundingClientRect().right>=ea)return ea=na(b.doc,La),Z(b,X,b,ea,b.display.gutterSpecs[Xa].className,p),va(p)}}function Qj(b,p){var X;(X=Dd(b.display,p))||(X=V(b,"gutterContextMenu")?
Vi(b,p,"gutterContextMenu",!1):!1);if(!X&&!P(b,p,"contextmenu")&&!Vh)b.display.input.onContextMenu(p)}function Tk(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");Nf(b)}function rj(b,p,X){!p!=!(X&&X!=Ki)&&(X=b.display.dragFunctions,p=p?Te:la,p(b.display.scroller,"dragstart",X.start),p(b.display.scroller,"dragenter",X.enter),p(b.display.scroller,"dragover",X.over),p(b.display.scroller,"dragleave",X.leave),p(b.display.scroller,
"drop",X.drop))}function sj(b){b.options.lineWrapping?(u(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(Dh(b.display.wrapper,"CodeMirror-wrap"),wb(b));Sf(b);yc(b);Nf(b);setTimeout(function(){return Pa(b)},100)}function og(b,p){var X=this;if(!(this instanceof og))return new og(b,p);this.options=p=p?d(p):{};d(Uk,p,!1);var S=p.value;"string"==typeof S?S=new Gg(S,p.mode,null,p.lineSeparator,p.direction):p.mode&&(S.modeOption=p.mode);this.doc=S;var ea=
new og.inputStyles[p.inputStyle](this);b=this.display=new Bg(b,S,ea,p);b.wrapper.CodeMirror=this;Tk(this);p.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Wb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new pf,keySeq:null,specialChars:null};p.autofocus&&!ri&&b.input.focus();wf&&11>Ff&&setTimeout(function(){return X.display.input.reset(!0)},
20);Wi(this);rk||(xd(),rk=!0);Tb(this);this.curOp.forceUpdate=!0;xc(this,S);p.autofocus&&!ri||this.hasFocus()?setTimeout(function(){X.hasFocus()&&!X.state.focused&&Id(X)},20):jd(this);for(var La in fj)if(fj.hasOwnProperty(La))fj[La](this,p[La],Ki);Uf(this);p.finishInit&&p.finishInit(this);for(S=0;S<vj.length;++S)vj[S](this);ic(this);Ag&&p.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Wi(b){function p(){S.activeTouch&&
(ea=setTimeout(function(){return S.activeTouch=null},1E3),La=S.activeTouch,La.end=+new Date)}function X(ab,tb){if(null==tb.left)return!0;var Ib=tb.left-ab.left;ab=tb.top-ab.top;return 400<Ib*Ib+ab*ab}var S=b.display;Te(S.scroller,"mousedown",fd(b,Ai));wf&&11>Ff?Te(S.scroller,"dblclick",fd(b,function(ab){if(!P(b,ab)){var tb=Bf(b,ab);!tb||Vi(b,ab,"gutterClick",!0)||Dd(b.display,ab)||(aa(ab),ab=b.findWordAt(tb),be(b.doc,ab.anchor,ab.head))}})):Te(S.scroller,"dblclick",function(ab){return P(b,ab)||aa(ab)});
Te(S.scroller,"contextmenu",function(ab){return Qj(b,ab)});Te(S.input.getField(),"contextmenu",function(ab){S.scroller.contains(ab.target)||Qj(b,ab)});var ea,La={end:0};Te(S.scroller,"touchstart",function(ab){var tb;if(tb=!P(b,ab))1!=ab.touches.length?tb=!1:(tb=ab.touches[0],tb=1>=tb.radiusX&&1>=tb.radiusY),tb=!tb;tb&&!Vi(b,ab,"gutterClick",!0)&&(S.input.ensurePolled(),clearTimeout(ea),tb=+new Date,S.activeTouch={start:tb,moved:!1,prev:300>=tb-La.end?La:null},1==ab.touches.length&&(S.activeTouch.left=
ab.touches[0].pageX,S.activeTouch.top=ab.touches[0].pageY))});Te(S.scroller,"touchmove",function(){S.activeTouch&&(S.activeTouch.moved=!0)});Te(S.scroller,"touchend",function(ab){var tb=S.activeTouch;if(tb&&!Dd(S,ab)&&null!=tb.left&&!tb.moved&&300>new Date-tb.start){var Ib=b.coordsChar(S.activeTouch,"page");tb=!tb.prev||X(tb,tb.prev)?new Jf(Ib,Ib):!tb.prev.prev||X(tb,tb.prev.prev)?b.findWordAt(Ib):new Jf($a(Ib.line,0),jb(b.doc,$a(Ib.line+1,0)));b.setSelection(tb.anchor,tb.head);b.focus();aa(ab)}p()});
Te(S.scroller,"touchcancel",p);Te(S.scroller,"scroll",function(){S.scroller.clientHeight&&(yf(b,S.scroller.scrollTop),nf(b,S.scroller.scrollLeft,!0),Z(b,"scroll",b))});Te(S.scroller,"mousewheel",function(ab){return xa(b,ab)});Te(S.scroller,"DOMMouseScroll",function(ab){return xa(b,ab)});Te(S.wrapper,"scroll",function(){return S.wrapper.scrollTop=S.wrapper.scrollLeft=0});S.dragFunctions={enter:function(ab){P(b,ab)||Ia(ab)},over:function(ab){if(!P(b,ab)){var tb=Bf(b,ab);if(tb){var Ib=document.createDocumentFragment();
$b(b,tb,Ib);b.display.dragCursor||(b.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));w(b.display.dragCursor,Ib)}Ia(ab)}},start:function(ab){if(wf&&(!b.state.draggingText||100>+new Date-gj))Ia(ab);else if(!P(b,ab)&&!Dd(b.display,ab)&&(ab.dataTransfer.setData("Text",b.getSelection()),ab.dataTransfer.effectAllowed="copyMove",ab.dataTransfer.setDragImage&&!Zh)){var tb=H("img",null,null,"position: fixed; left: 0; top: 0;");
tb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Jg&&(tb.width=tb.height=1,b.display.wrapper.appendChild(tb),tb._top=tb.offsetTop);ab.dataTransfer.setDragImage(tb,0,0);Jg&&tb.parentNode.removeChild(tb)}},drop:fd(b,ke),leave:function(ab){P(b,ab)||pe(b)}};var Xa=S.input.getField();Te(Xa,"keyup",function(ab){return qg.call(b,ab)});Te(Xa,"keydown",fd(b,Jj));Te(Xa,"keypress",fd(b,yi));Te(Xa,"focus",function(ab){return Id(b,ab)});Te(Xa,"blur",function(ab){return jd(b,
ab)})}function oi(b,p,X,S){var ea=b.doc,La;null==X&&(X="add");"smart"==X&&(ea.mode.indent?La=md(b,p).state:X="prev");var Xa=b.options.tabSize,ab=ba(ea,p),tb=f(ab.text,null,Xa);ab.stateAfter&&(ab.stateAfter=null);var Ib=ab.text.match(/^\s*/)[0];if(!S&&!/\S/.test(ab.text)){var dc=0;X="not"}else if("smart"==X&&(dc=ea.mode.indent(La,ab.text.slice(Ib.length),ab.text),dc==mh||150<dc)){if(!S)return;X="prev"}"prev"==X?dc=p>ea.first?f(ba(ea,p-1).text,null,Xa):0:"add"==X?dc=tb+b.options.indentUnit:"subtract"==
X?dc=tb-b.options.indentUnit:"number"==typeof X&&(dc=tb+X);dc=Math.max(0,dc);X="";S=0;if(b.options.indentWithTabs)for(b=Math.floor(dc/Xa);b;--b)S+=Xa,X+="\t";S<dc&&(X+=n(dc-S));if(X!=Ib)return Qc(ea,X,$a(p,0),$a(p,Ib.length),"+input"),ab.stateAfter=null,!0;for(Xa=0;Xa<ea.sel.ranges.length;Xa++)if(ab=ea.sel.ranges[Xa],ab.head.line==p&&ab.head.ch<Ib.length){p=$a(p,Ib.length);Ad(ea,Xa,new Jf(p,p));break}}function Gi(b,p,X,S,ea){var La=b.doc;b.display.shift=!1;S||(S=La.sel);var Xa=+new Date-200,ab="paste"==
ea||b.state.pasteIncoming>Xa,tb=Ih(p),Ib=null;if(ab&&1<S.ranges.length)if(Qg&&Qg.text.join("\n")==p){if(0==S.ranges.length%Qg.text.length){Ib=[];for(var dc=0;dc<Qg.text.length;dc++)Ib.push(La.splitLines(Qg.text[dc]))}}else tb.length==S.ranges.length&&b.options.pasteLinesPerSelection&&(Ib=B(tb,function(ce){return[ce]}));dc=b.curOp.updateInput;for(var Rc=S.ranges.length-1;0<=Rc;Rc--){var vc=S.ranges[Rc],wc=vc.from(),td=vc.to();vc.empty()&&(X&&0<X?wc=$a(wc.line,wc.ch-X):b.state.overwrite&&!ab?td=$a(td.line,
Math.min(ba(La,td.line).text.length,td.ch+y(tb).length)):ab&&Qg&&Qg.lineWise&&Qg.text.join("\n")==tb.join("\n")&&(wc=td=$a(wc.line,0)));vc={from:wc,to:td,text:Ib?Ib[Rc%Ib.length]:tb,origin:ea||(ab?"paste":b.state.cutIncoming>Xa?"cut":"+input")};gb(b.doc,vc);Bc(b,"inputRead",b,vc)}p&&!ab&&Dg(b,p);We(b);2>b.curOp.updateInput&&(b.curOp.updateInput=dc);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function lg(b,p){var X=b.clipboardData&&b.clipboardData.getData("Text");if(X)return b.preventDefault(),
p.isReadOnly()||p.options.disableInput||oc(p,function(){return Gi(p,X,0,null,"paste")}),!0}function Dg(b,p){if(b.options.electricChars&&b.options.smartIndent)for(var X=b.doc.sel,S=X.ranges.length-1;0<=S;S--){var ea=X.ranges[S];if(!(100<ea.head.ch||S&&X.ranges[S-1].head.line==ea.head.line)){var La=b.getModeAt(ea.head),Xa=!1;if(La.electricChars)for(var ab=0;ab<La.electricChars.length;ab++){if(-1<p.indexOf(La.electricChars.charAt(ab))){Xa=oi(b,ea.head.line,"smart");break}}else La.electricInput&&La.electricInput.test(ba(b.doc,
ea.head.line).text.slice(0,ea.head.ch))&&(Xa=oi(b,ea.head.line,"smart"));Xa&&Bc(b,"electricInput",b,ea.head.line)}}}function Ei(b){for(var p=[],X=[],S=0;S<b.doc.sel.ranges.length;S++){var ea=b.doc.sel.ranges[S].head.line;ea={anchor:$a(ea,0),head:$a(ea+1,0)};X.push(ea);p.push(b.getRange(ea.anchor,ea.head))}return{text:p,ranges:X}}function vh(b,p,X,S){b.setAttribute("autocorrect",X?"":"off");b.setAttribute("autocapitalize",S?"":"off");b.setAttribute("spellcheck",!!p)}function Sh(){var b=H("textarea",
null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),p=H("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Ag?b.style.width="1000px":b.setAttribute("wrap","off");mi&&(b.style.border="1px solid black");vh(b);return p}function Yj(b,p,X,S,ea){function La(ce){if("codepoint"==S){var Se=tb.text.charCodeAt(p.ch+(0<X?0:-1));Se=isNaN(Se)?null:new $a(p.line,Math.max(0,Math.min(tb.text.length,p.ch+X*((0<X?55296<=Se&&56320>Se:56320<=
Se&&57343>Se)?2:1))),-X)}else Se=ea?hk(b.cm,tb,p,X):sh(tb,p,X);if(null==Se){if(ce=!ce)ce=p.line+Ib,ce<b.first||ce>=b.first+b.size?ce=!1:(p=new $a(ce,p.ch,p.sticky),ce=tb=ba(b,ce));if(ce)p=Ti(ea,b.cm,tb,p.line,Ib);else return!1}else p=Se;return!0}var Xa=p,ab=X,tb=ba(b,p.line),Ib=ea&&"rtl"==b.direction?-X:X;if("char"==S||"codepoint"==S)La();else if("column"==S)La(!0);else if("word"==S||"group"==S)for(var dc=null,Rc="group"==S,vc=b.cm&&b.cm.getHelper(p,"wordChars"),wc=!0;!(0>X)||La(!wc);wc=!1){var td=
tb.text.charAt(p.ch)||"\n";td=z(td,vc)?"w":Rc&&"\n"==td?"n":!Rc||/\s/.test(td)?null:"p";!Rc||wc||td||(td="s");if(dc&&dc!=td){0>X&&(X=1,La(),p.sticky="after");break}td&&(dc=td);if(0<X&&!La(!wc))break}ab=r(b,p,Xa,ab,!0);Ga(Xa,ab)&&(ab.hitSide=!0);return ab}function Vj(b,p,X,S){var ea=b.doc,La=p.left;if("page"==S){var Xa=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Fe(b.display),3);Xa=(0<X?p.bottom:p.top)+X*Xa}else"line"==S&&(Xa=0<X?p.bottom+
3:p.top-3);for(;;){p=Td(b,La,Xa);if(!p.outside)break;if(0>X?0>=Xa:Xa>=ea.height){p.hitSide=!0;break}Xa+=5*X}return p}function Xj(b,p){var X=Ze(b,p.line);if(!X||X.hidden)return null;var S=ba(b.doc,p.line);X=ef(X,S,p.line);b=ha(S,b.doc.direction);S="left";b&&(S=fa(b,p.ch)%2?"right":"left");p=he(X.map,p.ch,S);p.offset="right"==p.collapse?p.end:p.start;return p}function Wj(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function vg(b,p){p&&(b.bad=!0);return b}
function tj(b,p,X,S,ea){function La(wc){return function(td){return td.id==wc}}function Xa(){dc&&(Ib+=Rc,vc&&(Ib+=Rc),dc=vc=!1)}function ab(wc){wc&&(Xa(),Ib+=wc)}function tb(wc){if(1==wc.nodeType){var td=wc.getAttribute("cm-text");if(td)ab(td);else{td=wc.getAttribute("cm-marker");var ce;if(td)wc=b.findMarks($a(S,0),$a(ea+1,0),La(+td)),wc.length&&(ce=wc[0].find(0))&&ab(ca(b.doc,ce.from,ce.to).join(Rc));else if("false"!=wc.getAttribute("contenteditable")&&(ce=/^(pre|div|p|li|table|br)$/i.test(wc.nodeName),
/^br$/i.test(wc.nodeName)||0!=wc.textContent.length)){ce&&Xa();for(td=0;td<wc.childNodes.length;td++)tb(wc.childNodes[td]);/^(pre|p)$/i.test(wc.nodeName)&&(vc=!0);ce&&(dc=!0)}}}else 3==wc.nodeType&&ab(wc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Ib="",dc=!1,Rc=b.doc.lineSeparator(),vc=!1;;){tb(p);if(p==X)break;p=p.nextSibling;vc=!1}return Ib}function Th(b,p,X){if(p==b.display.lineDiv){var S=b.display.lineDiv.childNodes[X];if(!S)return vg(b.clipPos($a(b.display.viewTo-1)),!0);
p=null;X=0}else for(S=p;;S=S.parentNode){if(!S||S==b.display.lineDiv)return null;if(S.parentNode&&S.parentNode==b.display.lineDiv)break}for(var ea=0;ea<b.display.view.length;ea++){var La=b.display.view[ea];if(La.node==S)return Ri(La,p,X)}}function Ri(b,p,X){function S(dc,Rc,vc){for(var wc=-1;wc<(Ib?Ib.length:0);wc++)for(var td=0>wc?tb.map:Ib[wc],ce=0;ce<td.length;ce+=3){var Se=td[ce+2];if(Se==dc||Se==Rc){Rc=Fa(0>wc?b.line:b.rest[wc]);wc=td[ce]+vc;if(0>vc||Se!=dc)wc=td[ce+(vc?1:0)];return $a(Rc,wc)}}}
var ea=b.text.firstChild,La=!1;if(!p||!x(ea,p))return vg($a(Fa(b.line),0),!0);if(p==ea&&(La=!0,p=ea.childNodes[X],X=0,!p))return X=b.rest?y(b.rest):b.line,vg($a(Fa(X),X.text.length),La);var Xa=3==p.nodeType?p:null,ab=p;Xa||1!=p.childNodes.length||3!=p.firstChild.nodeType||(Xa=p.firstChild,X&&(X=Xa.nodeValue.length));for(;ab.parentNode!=ea;)ab=ab.parentNode;var tb=b.measure,Ib=tb.maps;if(p=S(Xa,ab,X))return vg(p,La);ea=ab.nextSibling;for(Xa=Xa?Xa.nodeValue.length-X:0;ea;ea=ea.nextSibling){if(p=S(ea,
ea.firstChild,0))return vg($a(p.line,p.ch-Xa),La);Xa+=ea.textContent.length}for(ab=ab.previousSibling;ab;ab=ab.previousSibling){if(p=S(ab,ab.firstChild,-1))return vg($a(p.line,p.ch+X),La);X+=ab.textContent.length}}var wg=navigator.userAgent,Zg=navigator.platform,Eg=/gecko\/\d/i.test(wg),bi=/MSIE \d/.test(wg),eh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wg),Fi=/Edge\/(\d+)/.exec(wg),wf=bi||eh||Fi,Ff=wf&&(bi?document.documentMode||6:+(Fi||eh)[1]),Ag=!Fi&&/WebKit\//.test(wg),ci=Ag&&/Qt\/\d+\.\d+/.test(wg),
Gh=!Fi&&/Chrome\//.test(wg),Jg=/Opera\//.test(wg),Zh=/Apple Computer/.test(navigator.vendor),pk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(wg),pj=/PhantomJS/.test(wg),mi=Zh&&(/Mobile\/\w+/.test(wg)||2<navigator.maxTouchPoints),ug=/Android/.test(wg),ri=mi||ug||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(wg),dh=mi||/Mac/.test(Zg),Aj=/\bCrOS\b/.test(wg),Vg=/win/i.test(Zg),Ch=Jg&&wg.match(/Version\/(\d*\.\d*)/);Ch&&(Ch=Number(Ch[1]));Ch&&15<=Ch&&(Jg=!1,Ag=!0);var Kj=dh&&(ci||Jg&&(null==Ch||12.11>
Ch)),Vh=Eg||wf&&9<=Ff,Dh=function(b,p){var X=b.className;if(p=k(p).exec(X)){var S=X.slice(p.index+p[0].length);b.className=X.slice(0,p.index)+(S?p[1]+S:"")}};var Hi=document.createRange?function(b,p,X,S){var ea=document.createRange();ea.setEnd(S||b,X);ea.setStart(b,p);return ea}:function(b,p,X){var S=document.body.createTextRange();try{S.moveToElementText(b.parentNode)}catch(ea){return S}S.collapse(!0);S.moveEnd("character",X);S.moveStart("character",p);return S};var di=function(b){b.select()};mi?
di=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:wf&&(di=function(b){try{b.select()}catch(p){}});var pf=function(){this.f=this.id=null;this.time=0;this.handler=g(this.onTimeout,this)};pf.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};pf.prototype.set=function(b,p){this.f=p;p=+new Date+b;if(!this.id||p<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=p};var mh={toString:function(){return"CodeMirror.Pass"}},
mg={scroll:!1},Tf={origin:"*mouse"},ei={origin:"+move"},Li=[""],Xi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,fi=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Wh=null,Hh=function(){function b(ab){return 247>=ab?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ab):1424<=ab&&1524>=ab?"R":1536<=ab&&1785>=ab?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ab-
1536):1774<=ab&&2220>=ab?"r":8192<=ab&&8203>=ab?"w":8204==ab?"b":"L"}function p(ab,tb,Ib){this.level=ab;this.from=tb;this.to=Ib}var X=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,S=/[stwN]/,ea=/[LRr]/,La=/[Lb1n]/,Xa=/[1n]/;return function(ab,tb){var Ib="ltr"==tb?"L":"R";if(0==ab.length||"ltr"==tb&&!X.test(ab))return!1;for(var dc=ab.length,Rc=[],vc=0;vc<dc;++vc)Rc.push(b(ab.charCodeAt(vc)));vc=0;for(var wc=Ib;vc<dc;++vc){var td=Rc[vc];"m"==td?Rc[vc]=wc:wc=td}vc=0;for(wc=Ib;vc<dc;++vc)td=Rc[vc],"1"==
td&&"r"==wc?Rc[vc]="n":ea.test(td)&&(wc=td,"r"==td&&(Rc[vc]="R"));vc=1;for(wc=Rc[0];vc<dc-1;++vc)td=Rc[vc],"+"==td&&"1"==wc&&"1"==Rc[vc+1]?Rc[vc]="1":","!=td||wc!=Rc[vc+1]||"1"!=wc&&"n"!=wc||(Rc[vc]=wc),wc=td;for(vc=0;vc<dc;++vc)if(wc=Rc[vc],","==wc)Rc[vc]="N";else if("%"==wc){for(wc=vc+1;wc<dc&&"%"==Rc[wc];++wc);for(td=vc&&"!"==Rc[vc-1]||wc<dc&&"1"==Rc[wc]?"1":"N";vc<wc;++vc)Rc[vc]=td;vc=wc-1}vc=0;for(wc=Ib;vc<dc;++vc)td=Rc[vc],"L"==wc&&"1"==td?Rc[vc]="L":ea.test(td)&&(wc=td);for(wc=0;wc<dc;++wc)if(S.test(Rc[wc])){for(vc=
wc+1;vc<dc&&S.test(Rc[vc]);++vc);td="L"==(wc?Rc[wc-1]:Ib);for(td=td==("L"==(vc<dc?Rc[vc]:Ib))?td?"L":"R":Ib;wc<vc;++wc)Rc[wc]=td;wc=vc-1}Ib=[];var ce;for(vc=0;vc<dc;)if(La.test(Rc[vc])){wc=vc;for(++vc;vc<dc&&La.test(Rc[vc]);++vc);Ib.push(new p(0,wc,vc))}else{var Se=vc;wc=Ib.length;td="rtl"==tb?1:0;for(++vc;vc<dc&&"L"!=Rc[vc];++vc);for(var bf=Se;bf<vc;)if(Xa.test(Rc[bf])){Se<bf&&(Ib.splice(wc,0,new p(1,Se,bf)),wc+=td);Se=bf;for(++bf;bf<vc&&Xa.test(Rc[bf]);++bf);Ib.splice(wc,0,new p(2,Se,bf));wc+=td;
Se=bf}else++bf;Se<vc&&Ib.splice(wc,0,new p(1,Se,vc))}"ltr"==tb&&(1==Ib[0].level&&(ce=ab.match(/^\s+/))&&(Ib[0].from=ce[0].length,Ib.unshift(new p(0,0,ce[0].length))),1==y(Ib).level&&(ce=ab.match(/\s+$/))&&(y(Ib).to-=ce[0].length,Ib.push(new p(0,dc-ce[0].length,dc))));return"rtl"==tb?Ib.reverse():Ib}}(),gi=[],Te=function(b,p,X){b.addEventListener?b.addEventListener(p,X,!1):b.attachEvent?b.attachEvent("on"+p,X):(b=b._handlers||(b._handlers={}),b[p]=(b[p]||gi).concat(X))},dj=function(){if(wf&&9>Ff)return!1;
var b=H("div");return"draggable"in b||"dragDrop"in b}(),ih,wh,Ih=3!="\n\nb".split(/\n/).length?function(b){for(var p=0,X=[],S=b.length;p<=S;){var ea=b.indexOf("\n",p);-1==ea&&(ea=b.length);var La=b.slice(p,"\r"==b.charAt(ea-1)?ea-1:ea),Xa=La.indexOf("\r");-1!=Xa?(X.push(La.slice(0,Xa)),p+=Xa+1):(X.push(La),p=ea+1)}return X}:function(b){return b.split(/\r\n?|\n/)},Xh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(p){return!1}}:function(b){try{var p=b.ownerDocument.selection.createRange()}catch(X){}return p&&
p.parentElement()==b?0!=p.compareEndPoints("StartToEnd",p):!1},Ii=function(){var b=H("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),si=null,Kh={},ti={},jh={},kg=function(b,p,X){this.pos=this.start=0;this.string=b;this.tabSize=p||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=X};kg.prototype.eol=function(){return this.pos>=this.string.length};kg.prototype.sol=function(){return this.pos==this.lineStart};kg.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};kg.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};kg.prototype.eat=function(b){var p=this.string.charAt(this.pos);if("string"==typeof b?p==b:p&&(b.test?b.test(p):b(p)))return++this.pos,p};kg.prototype.eatWhile=function(b){for(var p=this.pos;this.eat(b););return this.pos>p};kg.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};kg.prototype.skipToEnd=function(){this.pos=this.string.length};kg.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};kg.prototype.backUp=function(b){this.pos-=b};kg.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};kg.prototype.indentation=
function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)};kg.prototype.match=function(b,p,X){if("string"==typeof b){var S=function(La){return X?La.toLowerCase():La},ea=this.string.substr(this.pos,b.length);if(S(ea)==S(b))return!1!==p&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==p&&(this.pos+=b[0].length);return b}};kg.prototype.current=function(){return this.string.slice(this.start,
this.pos)};kg.prototype.hideFirstChars=function(b,p){this.lineStart+=b;try{return p()}finally{this.lineStart-=b}};kg.prototype.lookAhead=function(b){var p=this.lineOracle;return p&&p.lookAhead(b)};kg.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var Ji=function(b,p){this.state=b;this.lookAhead=p},xh=function(b,p,X,S){this.state=p;this.doc=b;this.line=X;this.maxLookAhead=S||0;this.baseTokens=null;this.baseTokenPos=1};xh.prototype.lookAhead=function(b){var p=
this.doc.getLine(this.line+b);null!=p&&b>this.maxLookAhead&&(this.maxLookAhead=b);return p};xh.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var p=this.baseTokens[this.baseTokenPos+1];return{type:p&&p.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};xh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};xh.fromSaved=function(b,p,X){return p instanceof Ji?new xh(b,
ta(b.mode,p.state),X,p.lookAhead):new xh(b,ta(b.mode,p),X)};xh.prototype.save=function(b){b=!1!==b?ta(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Ji(b,this.maxLookAhead):b};var Cj=function(b,p,X){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=p||null;this.state=X},ak=!1,Ph=!1,Yh=function(b,p,X){this.text=b;vd(this,p);this.height=X?X(this):1};Yh.prototype.lineNo=function(){return Fa(this)};ia(Yh);var Zj={},qk={},Di=null,ag=null,Lh={left:0,right:0,top:0,
bottom:0},oh,Mh=function(b,p,X){this.cm=X;var S=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ea=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");S.tabIndex=ea.tabIndex=-1;b(S);b(ea);Te(S,"scroll",function(){S.clientHeight&&p(S.scrollTop,"vertical")});Te(ea,"scroll",function(){ea.clientWidth&&p(ea.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;wf&&8>Ff&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
Mh.prototype.update=function(b){var p=b.scrollWidth>b.clientWidth+1,X=b.scrollHeight>b.clientHeight+1,S=b.nativeBarWidth;X?(this.vert.style.display="block",this.vert.style.bottom=p?S+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(p?S:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");p?(this.horiz.style.display="block",this.horiz.style.right=X?S+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-b.barLeft-(X?S:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==S&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:X?S:0,bottom:p?S:0}};Mh.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Mh.prototype.setScrollTop=function(b){this.vert.scrollTop!=
b&&(this.vert.scrollTop=b);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Mh.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=dh&&!pk?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new pf;this.disableVert=new pf};Mh.prototype.enableZeroWidthBar=function(b,p,X){function S(){var ea=b.getBoundingClientRect();("vert"==X?document.elementFromPoint(ea.right-1,(ea.top+ea.bottom)/2):document.elementFromPoint((ea.right+
ea.left)/2,ea.bottom-1))!=b?b.style.pointerEvents="none":p.set(1E3,S)}b.style.pointerEvents="auto";p.set(1E3,S)};Mh.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Nh=function(){};Nh.prototype.update=function(){return{bottom:0,right:0}};Nh.prototype.setScrollLeft=function(){};Nh.prototype.setScrollTop=function(){};Nh.prototype.clear=function(){};var ej={"native":Mh,"null":Nh},Bj=0,ph=function(b,p,X){var S=b.display;this.viewport=p;this.visible=
Gf(S,b.doc,p);this.editorIsHidden=!S.wrapper.offsetWidth;this.wrapperHeight=S.wrapper.clientHeight;this.wrapperWidth=S.wrapper.clientWidth;this.oldDisplayWidth=De(b);this.force=X;this.dims=lf(b);this.events=[]};ph.prototype.signal=function(b,p){V(b,p)&&this.events.push(arguments)};ph.prototype.finish=function(){for(var b=0;b<this.events.length;b++)Z.apply(null,this.events[b])};var ui=0,Og=null;wf?Og=-.53:Eg?Og=15:Gh?Og=-.7:Zh&&(Og=-1/3);var Hg=function(b,p){this.ranges=b;this.primIndex=p};Hg.prototype.primary=
function(){return this.ranges[this.primIndex]};Hg.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var p=0;p<this.ranges.length;p++){var X=this.ranges[p],S=b.ranges[p];if(!Ga(X.anchor,S.anchor)||!Ga(X.head,S.head))return!1}return!0};Hg.prototype.deepCopy=function(){for(var b=[],p=0;p<this.ranges.length;p++)b[p]=new Jf(pa(this.ranges[p].anchor),pa(this.ranges[p].head));return new Hg(b,this.primIndex)};Hg.prototype.somethingSelected=
function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;return!1};Hg.prototype.contains=function(b,p){p||(p=b);for(var X=0;X<this.ranges.length;X++){var S=this.ranges[X];if(0<=Ca(p,S.from())&&0>=Ca(b,S.to()))return X}return-1};var Jf=function(b,p){this.anchor=b;this.head=p};Jf.prototype.from=function(){return Ua(this.anchor,this.head)};Jf.prototype.to=function(){return Ha(this.anchor,this.head)};Jf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Jc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(b,p){for(var X=b,S=b+p;X<S;++X){var ea=this.lines[X];this.height-=ea.height;var La=ea;La.parent=null;wd(La);Bc(ea,"delete")}this.lines.splice(b,p)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,p,X){this.height+=X;this.lines=this.lines.slice(0,b).concat(p).concat(this.lines.slice(b));for(b=0;b<p.length;++b)p[b].parent=this},iterN:function(b,p,X){for(p=b+p;b<p;++b)if(X(this.lines[b]))return!0}};
ud.prototype={chunkSize:function(){return this.size},removeInner:function(b,p){this.size-=p;for(var X=0;X<this.children.length;++X){var S=this.children[X],ea=S.chunkSize();if(b<ea){var La=Math.min(p,ea-b),Xa=S.height;S.removeInner(b,La);this.height-=Xa-S.height;ea==La&&(this.children.splice(X--,1),S.parent=null);if(0==(p-=La))break;b=0}else b-=ea}25>this.size-p&&(1<this.children.length||!(this.children[0]instanceof Jc))&&(b=[],this.collapse(b),this.children=[new Jc(b)],this.children[0].parent=this)},
collapse:function(b){for(var p=0;p<this.children.length;++p)this.children[p].collapse(b)},insertInner:function(b,p,X){this.size+=p.length;this.height+=X;for(var S=0;S<this.children.length;++S){var ea=this.children[S],La=ea.chunkSize();if(b<=La){ea.insertInner(b,p,X);if(ea.lines&&50<ea.lines.length){for(p=b=ea.lines.length%25+25;p<ea.lines.length;)X=new Jc(ea.lines.slice(p,p+=25)),ea.height-=X.height,this.children.splice(++S,0,X),X.parent=this;ea.lines=ea.lines.slice(0,b);this.maybeSpill()}break}b-=
La}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var p=b.children.splice(b.children.length-5,5);p=new ud(p);if(b.parent){b.size-=p.size;b.height-=p.height;var X=a(b.parent.children,b);b.parent.children.splice(X+1,0,p)}else X=new ud(b.children),X.parent=b,b.children=[X,p],b=X;p.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,p,X){for(var S=0;S<this.children.length;++S){var ea=this.children[S],La=ea.chunkSize();if(b<La){La=Math.min(p,La-b);
if(ea.iterN(b,La,X))return!0;if(0==(p-=La))break;b=0}else b-=La}}};var Uh=function(b,p,X){if(X)for(var S in X)X.hasOwnProperty(S)&&(this[S]=X[S]);this.doc=b;this.node=p};Uh.prototype.clear=function(){var b=this.doc.cm,p=this.line.widgets,X=this.line,S=Fa(X);if(null!=S&&p){for(var ea=0;ea<p.length;++ea)p[ea]==this&&p.splice(ea--,1);p.length||(X.widgets=null);var La=Cd(this);qa(X,Math.max(0,X.height-La));b&&(oc(b,function(){var Xa=-La;Ka(X)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&kd(b,Xa);wa(b,
S,"widget")}),Bc(b,"lineWidgetCleared",b,this,S))}};Uh.prototype.changed=function(){var b=this,p=this.height,X=this.doc.cm,S=this.line;this.height=null;var ea=Cd(this)-p;ea&&(Ed(this.doc,S)||qa(S,S.height+ea),X&&oc(X,function(){X.curOp.forceUpdate=!0;Ka(S)<(X.curOp&&X.curOp.scrollTop||X.doc.scrollTop)&&kd(X,ea);Bc(X,"lineWidgetChanged",X,b,Fa(S))}))};ia(Uh);var Dj=0,lh=function(b,p){this.lines=[];this.type=p;this.doc=b;this.id=++Dj};lh.prototype.clear=function(){if(!this.explicitlyCleared){var b=
this.doc.cm,p=b&&!b.curOp;p&&Tb(b);if(V(this,"clear")){var X=this.find();X&&Bc(this,"clear",X.from,X.to)}for(var S=X=null,ea=0;ea<this.lines.length;++ea){var La=this.lines[ea],Xa=Sc(La.markedSpans,this);b&&!this.collapsed?wa(b,Fa(La),"text"):b&&(null!=Xa.to&&(S=Fa(La)),null!=Xa.from&&(X=Fa(La)));for(var ab=La,tb=void 0,Ib=La.markedSpans,dc=Xa,Rc=0;Rc<Ib.length;++Rc)Ib[Rc]!=dc&&(tb||(tb=[])).push(Ib[Rc]);ab.markedSpans=tb;null==Xa.from&&this.collapsed&&!Ed(this.doc,La)&&b&&qa(La,Fe(b.display))}if(b&&
this.collapsed&&!b.options.lineWrapping)for(ea=0;ea<this.lines.length;++ea)La=Eb(this.lines[ea]),Xa=eb(La),Xa>b.display.maxLineLength&&(b.display.maxLine=La,b.display.maxLineLength=Xa,b.display.maxLineChanged=!0);null!=X&&b&&this.collapsed&&yc(b,X,S+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&Mb(b.doc));b&&Bc(b,"markerCleared",b,this,X,S);p&&ic(b);this.parent&&this.parent.clear()}};lh.prototype.find=function(b,p){null==b&&"bookmark"==this.type&&
(b=1);for(var X,S,ea=0;ea<this.lines.length;++ea){var La=this.lines[ea],Xa=Sc(La.markedSpans,this);if(null!=Xa.from&&(X=$a(p?La:Fa(La),Xa.from),-1==b))return X;if(null!=Xa.to&&(S=$a(p?La:Fa(La),Xa.to),1==b))return S}return X&&{from:X,to:S}};lh.prototype.changed=function(){var b=this,p=this.find(-1,!0),X=this,S=this.doc.cm;p&&S&&oc(S,function(){var ea=p.line,La=Fa(p.line);if(La=Ze(S,La))zf(La),S.curOp.selectionChanged=S.curOp.forceUpdate=!0;S.curOp.updateMaxLine=!0;Ed(X.doc,ea)||null==X.height||(La=
X.height,X.height=null,(La=Cd(X)-La)&&qa(ea,ea.height+La));Bc(S,"markerChanged",S,b)})};lh.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var p=this.doc.cm.curOp;p.maybeHiddenMarkers&&-1!=a(p.maybeHiddenMarkers,this)||(p.maybeUnhiddenMarkers||(p.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};lh.prototype.detachLine=function(b){this.lines.splice(a(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};
ia(lh);var pi=function(b,p){this.markers=b;this.primary=p;for(p=0;p<b.length;++p)b[p].parent=this};pi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)this.markers[b].clear();Bc(this,"clear")}};pi.prototype.find=function(b,p){return this.primary.find(b,p)};ia(pi);var Yi=0,Gg=function(b,p,X,S,ea){if(!(this instanceof Gg))return new Gg(b,p,X,S,ea);null==X&&(X=0);ud.call(this,[new Jc([new Yh("",null)])]);this.first=X;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=X;X=$a(X,0);this.sel=Na(X);this.history=new Oa(null);this.id=++Yi;this.modeOption=p;this.lineSep=S;this.direction="rtl"==ea?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));Jb(this,{from:X,to:X,text:b});Wa(this,Na(X),mg)};Gg.prototype=M(ud.prototype,{constructor:Gg,iter:function(b,p,X){X?this.iterN(b-this.first,p-b,X):this.iterN(this.first,this.first+this.size,b)},insert:function(b,
p){for(var X=0,S=0;S<p.length;++S)X+=p[S].height;this.insertInner(b-this.first,p,X)},remove:function(b,p){this.removeInner(b-this.first,p)},getValue:function(b){var p=ra(this,this.first,this.first+this.size);return!1===b?p:p.join(b||this.lineSeparator())},setValue:nd(function(b){var p=$a(this.first,0),X=this.first+this.size-1;gb(this,{from:p,to:$a(X,ba(this,X).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&uf(this.cm,0,0);Wa(this,Na(p),mg)}),replaceRange:function(b,p,
X,S){p=jb(this,p);X=X?jb(this,X):p;Qc(this,b,p,X,S)},getRange:function(b,p,X){b=ca(this,jb(this,b),jb(this,p));return!1===X?b:b.join(X||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&b.text},getLineHandle:function(b){if(Ra(this,b))return ba(this,b)},getLineNumber:function(b){return Fa(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=ba(this,b));return Eb(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(b){return jb(this,b)},getCursor:function(b){var p=this.sel.primary();return null==b||"head"==b?p.head:"anchor"==b?p.anchor:"end"==b||"to"==b||!1===b?p.to():p.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:nd(function(b,p,X){b=jb(this,"number"==typeof b?$a(b,p||0):b);Wa(this,Na(b,null),X)}),setSelection:nd(function(b,p,X){var S=jb(this,b);b=jb(this,p||b);Wa(this,Na(S,b),X)}),extendSelection:nd(function(b,
p,X){be(this,jb(this,b),p&&jb(this,p),X)}),extendSelections:nd(function(b,p){pd(this,Fb(this,b),p)}),extendSelectionsBy:nd(function(b,p){b=B(this.sel.ranges,b);pd(this,Fb(this,b),p)}),setSelections:nd(function(b,p,X){if(b.length){for(var S=[],ea=0;ea<b.length;ea++)S[ea]=new Jf(jb(this,b[ea].anchor),jb(this,b[ea].head));null==p&&(p=Math.min(b.length-1,this.sel.primIndex));Wa(this,za(this.cm,S,p),X)}}),addSelection:nd(function(b,p,X){var S=this.sel.ranges.slice(0);S.push(new Jf(jb(this,b),jb(this,p||
b)));Wa(this,za(this.cm,S,S.length-1),X)}),getSelection:function(b){for(var p=this.sel.ranges,X,S=0;S<p.length;S++){var ea=ca(this,p[S].from(),p[S].to());X=X?X.concat(ea):ea}return!1===b?X:X.join(b||this.lineSeparator())},getSelections:function(b){for(var p=[],X=this.sel.ranges,S=0;S<X.length;S++){var ea=ca(this,X[S].from(),X[S].to());!1!==b&&(ea=ea.join(b||this.lineSeparator()));p[S]=ea}return p},replaceSelection:function(b,p,X){for(var S=[],ea=0;ea<this.sel.ranges.length;ea++)S[ea]=b;this.replaceSelections(S,
p,X||"+input")},replaceSelections:nd(function(b,p,X){for(var S=[],ea=this.sel,La=0;La<ea.ranges.length;La++){var Xa=ea.ranges[La];S[La]={from:Xa.from(),to:Xa.to(),text:this.splitLines(b[La]),origin:X}}if(b=p&&"end"!=p){b=[];ea=X=$a(this.first,0);for(La=0;La<S.length;La++){var ab=S[La];Xa=qb(ab.from,X,ea);var tb=qb(Sa(ab),X,ea);X=ab.to;ea=tb;"around"==p?(ab=this.sel.ranges[La],ab=0>Ca(ab.head,ab.anchor),b[La]=new Jf(ab?tb:Xa,ab?Xa:tb)):b[La]=new Jf(Xa,Xa)}b=new Hg(b,this.sel.primIndex)}p=b;for(b=S.length-
1;0<=b;b--)gb(this,S[b]);p?af(this,p):this.cm&&We(this.cm)}),undo:nd(function(){sb(this,"undo")}),redo:nd(function(){sb(this,"redo")}),undoSelection:nd(function(){sb(this,"undo",!0)}),redoSelection:nd(function(){sb(this,"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,p=0,X=0,S=0;S<b.done.length;S++)b.done[S].ranges||++p;for(S=0;S<b.undone.length;S++)b.undone[S].ranges||++X;return{undo:p,redo:X}},clearHistory:function(){var b=
this;this.history=new Oa(this.history.maxGeneration);cc(this,function(p){return p.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Zc(this.history.done),undone:Zc(this.history.undone)}},setHistory:function(b){var p=
this.history=new Oa(this.history.maxGeneration);p.done=Zc(b.done.slice(0),null,!0);p.undone=Zc(b.undone.slice(0),null,!0)},setGutterMarker:nd(function(b,p,X){return bd(this,b,"gutter",function(S){var ea=S.gutterMarkers||(S.gutterMarkers={});ea[p]=X;!X&&G(ea)&&(S.gutterMarkers=null);return!0})}),clearGutter:nd(function(b){var p=this;this.iter(function(X){X.gutterMarkers&&X.gutterMarkers[b]&&bd(p,X,"gutter",function(){X.gutterMarkers[b]=null;G(X.gutterMarkers)&&(X.gutterMarkers=null);return!0})})}),
lineInfo:function(b){if("number"==typeof b){if(!Ra(this,b))return null;var p=b;b=ba(this,b);if(!b)return null}else if(p=Fa(b),null==p)return null;return{line:p,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:nd(function(b,p,X){return bd(this,b,"gutter"==p?"gutter":"class",function(S){var ea="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass";if(S[ea]){if(k(X).test(S[ea]))return!1;
S[ea]+=" "+X}else S[ea]=X;return!0})}),removeLineClass:nd(function(b,p,X){return bd(this,b,"gutter"==p?"gutter":"class",function(S){var ea="text"==p?"textClass":"background"==p?"bgClass":"gutter"==p?"gutterClass":"wrapClass",La=S[ea];if(La)if(null==X)S[ea]=null;else{var Xa=La.match(k(X));if(!Xa)return!1;var ab=Xa.index+Xa[0].length;S[ea]=La.slice(0,Xa.index)+(Xa.index&&ab!=La.length?" ":"")+La.slice(ab)||null}else return!1;return!0})}),addLineWidget:nd(function(b,p,X){return ee(this,b,p,X)}),removeLineWidget:function(b){b.clear()},
markText:function(b,p,X){return Sd(this,jb(this,b),jb(this,p),X,X&&X.type||"range")},setBookmark:function(b,p){p={replacedWith:p&&(null==p.nodeType?p.widget:p),insertLeft:p&&p.insertLeft,clearWhenEmpty:!1,shared:p&&p.shared,handleMouseEvents:p&&p.handleMouseEvents};b=jb(this,b);return Sd(this,b,b,p,"bookmark")},findMarksAt:function(b){b=jb(this,b);var p=[],X=ba(this,b.line).markedSpans;if(X)for(var S=0;S<X.length;++S){var ea=X[S];(null==ea.from||ea.from<=b.ch)&&(null==ea.to||ea.to>=b.ch)&&p.push(ea.marker.parent||
ea.marker)}return p},findMarks:function(b,p,X){b=jb(this,b);p=jb(this,p);var S=[],ea=b.line;this.iter(b.line,p.line+1,function(La){if(La=La.markedSpans)for(var Xa=0;Xa<La.length;Xa++){var ab=La[Xa];null!=ab.to&&ea==b.line&&b.ch>=ab.to||null==ab.from&&ea!=b.line||null!=ab.from&&ea==p.line&&ab.from>=p.ch||X&&!X(ab.marker)||S.push(ab.marker.parent||ab.marker)}++ea});return S},getAllMarks:function(){var b=[];this.iter(function(p){if(p=p.markedSpans)for(var X=0;X<p.length;++X)null!=p[X].from&&b.push(p[X].marker)});
return b},posFromIndex:function(b){var p,X=this.first,S=this.lineSeparator().length;this.iter(function(ea){ea=ea.text.length+S;if(ea>b)return p=b,!0;b-=ea;++X});return jb(this,$a(X,p))},indexFromPos:function(b){b=jb(this,b);var p=b.ch;if(b.line<this.first||0>b.ch)return 0;var X=this.lineSeparator().length;this.iter(this.first,b.line,function(S){p+=S.text.length+X});return p},copy:function(b){var p=new Gg(ra(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
p.scrollTop=this.scrollTop;p.scrollLeft=this.scrollLeft;p.sel=this.sel;p.extend=!1;b&&(p.history.undoDepth=this.history.undoDepth,p.setHistory(this.getHistory()));return p},linkedDoc:function(b){b||(b={});var p=this.first,X=this.first+this.size;null!=b.from&&b.from>p&&(p=b.from);null!=b.to&&b.to<X&&(X=b.to);p=new Gg(ra(this,p,X),b.mode||this.modeOption,p,this.lineSep,this.direction);b.sharedHist&&(p.history=this.history);(this.linked||(this.linked=[])).push({doc:p,sharedHist:b.sharedHist});p.linked=
[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=re(this);for(X=0;X<b.length;X++){var S=b[X],ea=S.find(),La=p.clipPos(ea.from);ea=p.clipPos(ea.to);Ca(La,ea)&&(La=Sd(p,La,ea,S.primary,S.primary.type),S.markers.push(La),La.parent=S)}return p},unlinkDoc:function(b){b instanceof og&&(b=b.doc);if(this.linked)for(var p=0;p<this.linked.length;++p)if(this.linked[p].doc==b){this.linked.splice(p,1);b.unlinkDoc(this);Pf(re(this));break}if(b.history==this.history){var X=[b.id];cc(b,function(S){return X.push(S.id)},
!0);b.history=new Oa(null);b.history.done=Zc(this.history.done,X);b.history.undone=Zc(this.history.undone,X)}},iterLinkedDocs:function(b){cc(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(b){return this.lineSep?b.split(this.lineSep):Ih(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:nd(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(p){return p.order=null}),this.cm&&oa(this.cm))})});
Gg.prototype.eachLine=Gg.prototype.iter;for(var gj=0,rk=!1,Oh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zi=0;10>Zi;Zi++)Oh[Zi+48]=Oh[Zi+96]=String(Zi);for(var vi=65;90>=vi;vi++)Oh[vi]=String.fromCharCode(vi);for(var $i=1;12>=$i;$i++)Oh[$i+111]=Oh[$i+63235]="F"+$i;var Mi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp",
"Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter",
"Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Mi["default"]=dh?Mi.macDefault:Mi.pcDefault;var aj={selectAll:ma,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),
b.getCursor("head"),mg)},killLine:function(b){return Xg(b,function(p){if(p.empty()){var X=ba(b.doc,p.head.line).text.length;return p.head.ch==X&&p.head.line<b.lastLine()?{from:p.head,to:$a(p.head.line+1,0)}:{from:p.head,to:$a(p.head.line,X)}}return{from:p.from(),to:p.to()}})},deleteLine:function(b){return Xg(b,function(p){return{from:$a(p.from().line,0),to:jb(b.doc,$a(p.to().line+1,0))}})},delLineLeft:function(b){return Xg(b,function(p){return{from:$a(p.from().line,0),to:p.from()}})},delWrappedLineLeft:function(b){return Xg(b,
function(p){var X=b.charCoords(p.head,"div").top+5;return{from:b.coordsChar({left:0,top:X},"div"),to:p.from()}})},delWrappedLineRight:function(b){return Xg(b,function(p){var X=b.charCoords(p.head,"div").top+5;X=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:X},"div");return{from:p.from(),to:X}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection($a(b.firstLine(),
0))},goDocEnd:function(b){return b.extendSelection($a(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(p){return nk(b,p.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(p){return Pj(b,p.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(p){p=p.head.line;var X=ba(b.doc,p);var S=X;for(var ea;ea=Pb(S,!1);)S=ea.find(1,!0).line;S!=X&&(p=Fa(S));return Ti(!0,b,X,p,-1)},{origin:"+move",
bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:p},"div")},ei)},goLineLeft:function(b){return b.extendSelectionsBy(function(p){p=b.cursorCoords(p.head,"div").top+5;return b.coordsChar({left:0,top:p},"div")},ei)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(p){var X=b.cursorCoords(p.head,"div").top+5;X=b.coordsChar({left:0,top:X},"div");return X.ch<b.getLine(X.line).search(/\S/)?
Pj(b,p.head):X},ei)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,
"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,"codepoint")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},
indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},insertSoftTab:function(b){for(var p=[],X=b.listSelections(),S=b.options.tabSize,ea=0;ea<X.length;ea++){var La=X[ea].from();La=f(b.getLine(La.line),La.ch,S);p.push(n(S-La%S))}b.replaceSelections(p)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return oc(b,
function(){for(var p=b.listSelections(),X=[],S=0;S<p.length;S++)if(p[S].empty()){var ea=p[S].head,La=ba(b.doc,ea.line).text;if(La)if(ea.ch==La.length&&(ea=new $a(ea.line,ea.ch-1)),0<ea.ch)ea=new $a(ea.line,ea.ch+1),b.replaceRange(La.charAt(ea.ch-1)+La.charAt(ea.ch-2),$a(ea.line,ea.ch-2),ea,"+transpose");else if(ea.line>b.doc.first){var Xa=ba(b.doc,ea.line-1).text;Xa&&(ea=new $a(ea.line,1),b.replaceRange(La.charAt(0)+b.doc.lineSeparator()+Xa.charAt(Xa.length-1),$a(ea.line-1,Xa.length-1),ea,"+transpose"))}X.push(new Jf(ea,
ea))}b.setSelections(X)})},newlineAndIndent:function(b){return oc(b,function(){for(var p=b.listSelections(),X=p.length-1;0<=X;X--)b.replaceRange(b.doc.lineSeparator(),p[X].anchor,p[X].head,"+input");p=b.listSelections();for(X=0;X<p.length;X++)b.indentLine(p[X].from().line,null,!0);We(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},Ak=new pf,sk=null,ij=function(b,p,X){this.time=b;this.pos=p;this.button=X};ij.prototype.compare=
function(b,p,X){return this.time+400>b&&0==Ca(p,this.pos)&&X==this.button};var bj,uj,Ki={toString:function(){return"CodeMirror.Init"}},Uk={},fj={};og.defaults=Uk;og.optionHandlers=fj;var vj=[];og.defineInitHook=function(b){return vj.push(b)};var Qg=null,eg=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new pf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};eg.prototype.init=function(b){function p(ab){for(ab=
ab.target;ab;ab=ab.parentNode){if(ab==Xa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ab.className))break}return!1}function X(ab){if(p(ab)&&!P(La,ab)){if(La.somethingSelected())Qg={lineWise:!1,text:La.getSelections()},"cut"==ab.type&&La.replaceSelection("",null,"cut");else if(La.options.lineWiseCopyCut){var tb=Ei(La);Qg={lineWise:!0,text:tb.text};"cut"==ab.type&&La.operation(function(){La.setSelections(tb.ranges,0,mg);La.replaceSelection("",null,"cut")})}else return;if(ab.clipboardData){ab.clipboardData.clearData();
var Ib=Qg.text.join("\n");ab.clipboardData.setData("Text",Ib);if(ab.clipboardData.getData("Text")==Ib){ab.preventDefault();return}}var dc=Sh();ab=dc.firstChild;La.display.lineSpace.insertBefore(dc,La.display.lineSpace.firstChild);ab.value=Qg.text.join("\n");var Rc=document.activeElement;di(ab);setTimeout(function(){La.display.lineSpace.removeChild(dc);Rc.focus();Rc==Xa&&ea.showPrimarySelection()},50)}}var S=this,ea=this,La=ea.cm,Xa=ea.div=b.lineDiv;vh(Xa,La.options.spellcheck,La.options.autocorrect,
La.options.autocapitalize);Te(Xa,"paste",function(ab){!p(ab)||P(La,ab)||lg(ab,La)||11>=Ff&&setTimeout(fd(La,function(){return S.updateFromDOM()}),20)});Te(Xa,"compositionstart",function(ab){S.composing={data:ab.data,done:!1}});Te(Xa,"compositionupdate",function(ab){S.composing||(S.composing={data:ab.data,done:!1})});Te(Xa,"compositionend",function(ab){S.composing&&(ab.data!=S.composing.data&&S.readFromDOMSoon(),S.composing.done=!0)});Te(Xa,"touchstart",function(){return ea.forceCompositionEnd()});
Te(Xa,"input",function(){S.composing||S.readFromDOMSoon()});Te(Xa,"copy",X);Te(Xa,"cut",X)};eg.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};eg.prototype.prepareSelection=function(){var b=Yb(this.cm,!1);b.focus=document.activeElement==this.div;return b};eg.prototype.showSelection=function(b,p){b&&this.cm.display.view.length&&((b.focus||p)&&this.showPrimarySelection(),this.showMultipleSelections(b))};eg.prototype.getSelection=
function(){return this.cm.display.wrapper.ownerDocument.getSelection()};eg.prototype.showPrimarySelection=function(){var b=this.getSelection(),p=this.cm,X=p.doc.sel.primary(),S=X.from();X=X.to();if(p.display.viewTo==p.display.viewFrom||S.line>=p.display.viewTo||X.line<p.display.viewFrom)b.removeAllRanges();else{var ea=Th(p,b.anchorNode,b.anchorOffset),La=Th(p,b.focusNode,b.focusOffset);if(!ea||ea.bad||!La||La.bad||0!=Ca(Ua(ea,La),S)||0!=Ca(Ha(ea,La),X))if(ea=p.display.view,S=S.line>=p.display.viewFrom&&
Xj(p,S)||{node:ea[0].measure.map[2],offset:0},X=X.line<p.display.viewTo&&Xj(p,X),X||(X=ea[ea.length-1].measure,X=X.maps?X.maps[X.maps.length-1]:X.map,X={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}),S&&X){ea=b.rangeCount&&b.getRangeAt(0);try{var Xa=Hi(S.node,S.offset,X.offset,X.node)}catch(ab){}Xa&&(!Eg&&p.state.focused?(b.collapse(S.node,S.offset),Xa.collapsed||(b.removeAllRanges(),b.addRange(Xa))):(b.removeAllRanges(),b.addRange(Xa)),ea&&null==b.anchorNode?b.addRange(ea):Eg&&this.startGracePeriod());
this.rememberSelection()}else b.removeAllRanges()}};eg.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=!0})},20)};eg.prototype.showMultipleSelections=function(b){w(this.cm.display.cursorDiv,b.cursors);w(this.cm.display.selectionDiv,b.selection)};eg.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=
b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};eg.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return x(this.div,b)};eg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};eg.prototype.blur=function(){this.div.blur()};
eg.prototype.getField=function(){return this.div};eg.prototype.supportsTouch=function(){return!0};eg.prototype.receivedFocus=function(){function b(){p.cm.state.focused&&(p.pollSelection(),p.polling.set(p.cm.options.pollInterval,b))}var p=this;this.selectionInEditor()?this.pollSelection():oc(this.cm,function(){return p.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};eg.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||
b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};eg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),p=this.cm;if(ug&&Gh&&this.cm.display.gutterSpecs.length&&Wj(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var X=Th(p,b.anchorNode,b.anchorOffset),
S=Th(p,b.focusNode,b.focusOffset);X&&S&&oc(p,function(){Wa(p.doc,Na(X,S),mg);if(X.bad||S.bad)p.curOp.selectionChanged=!0})}}};eg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=this.cm,p=b.display,X=b.doc.sel.primary(),S=X.from(),ea=X.to();0==S.ch&&S.line>b.firstLine()&&(S=$a(S.line-1,ba(b.doc,S.line-1).length));ea.ch==ba(b.doc,ea.line).text.length&&ea.line<b.lastLine()&&(ea=$a(ea.line+1,0));if(S.line<p.viewFrom||ea.line>
p.viewTo-1)return!1;var La;S.line==p.viewFrom||0==(La=qe(b,S.line))?(X=Fa(p.view[0].line),La=p.view[0].node):(X=Fa(p.view[La].line),La=p.view[La-1].node.nextSibling);var Xa=qe(b,ea.line);Xa==p.view.length-1?(ea=p.viewTo-1,p=p.lineDiv.lastChild):(ea=Fa(p.view[Xa+1].line)-1,p=p.view[Xa+1].node.previousSibling);if(!La)return!1;p=b.doc.splitLines(tj(b,La,p,X,ea));for(La=ca(b.doc,$a(X,0),$a(ea,ba(b.doc,ea).text.length));1<p.length&&1<La.length;)if(y(p)==y(La))p.pop(),La.pop(),ea--;else if(p[0]==La[0])p.shift(),
La.shift(),X++;else break;var ab=0;Xa=0;for(var tb=p[0],Ib=La[0],dc=Math.min(tb.length,Ib.length);ab<dc&&tb.charCodeAt(ab)==Ib.charCodeAt(ab);)++ab;tb=y(p);Ib=y(La);for(dc=Math.min(tb.length-(1==p.length?ab:0),Ib.length-(1==La.length?ab:0));Xa<dc&&tb.charCodeAt(tb.length-Xa-1)==Ib.charCodeAt(Ib.length-Xa-1);)++Xa;if(1==p.length&&1==La.length&&X==S.line)for(;ab&&ab>S.ch&&tb.charCodeAt(tb.length-Xa-1)==Ib.charCodeAt(Ib.length-Xa-1);)ab--,Xa++;p[p.length-1]=tb.slice(0,tb.length-Xa).replace(/^\u200b+/,
"");p[0]=p[0].slice(ab).replace(/\u200b+$/,"");S=$a(X,ab);X=$a(ea,La.length?y(La).length-Xa:0);if(1<p.length||p[0]||Ca(S,X))return Qc(b.doc,p,S,X,"+input"),!0};eg.prototype.ensurePolled=function(){this.forceCompositionEnd()};eg.prototype.reset=function(){this.forceCompositionEnd()};eg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};eg.prototype.readFromDOMSoon=function(){var b=this;
null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};eg.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||oc(this.cm,function(){return yc(b.cm)})};eg.prototype.setUneditable=function(b){b.contentEditable="false"};eg.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||fd(this.cm,Gi)(this.cm,
String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};eg.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};eg.prototype.onContextMenu=function(){};eg.prototype.resetPosition=function(){};eg.prototype.needsContentAttribute=!0;var xg=function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new pf;this.hasSelection=!1;this.composing=null};xg.prototype.init=function(b){function p(Xa){if(!P(ea,Xa)){if(ea.somethingSelected())Qg={lineWise:!1,
text:ea.getSelections()};else if(ea.options.lineWiseCopyCut){var ab=Ei(ea);Qg={lineWise:!0,text:ab.text};"cut"==Xa.type?ea.setSelections(ab.ranges,null,mg):(S.prevInput="",La.value=ab.text.join("\n"),di(La))}else return;"cut"==Xa.type&&(ea.state.cutIncoming=+new Date)}}var X=this,S=this,ea=this.cm;this.createField(b);var La=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);mi&&(La.style.width="0px");Te(La,"input",function(){wf&&9<=Ff&&X.hasSelection&&(X.hasSelection=null);S.poll()});
Te(La,"paste",function(Xa){P(ea,Xa)||lg(Xa,ea)||(ea.state.pasteIncoming=+new Date,S.fastPoll())});Te(La,"cut",p);Te(La,"copy",p);Te(b.scroller,"paste",function(Xa){if(!Dd(b,Xa)&&!P(ea,Xa))if(La.dispatchEvent){var ab=new Event("paste");ab.clipboardData=Xa.clipboardData;La.dispatchEvent(ab)}else ea.state.pasteIncoming=+new Date,S.focus()});Te(b.lineSpace,"selectstart",function(Xa){Dd(b,Xa)||aa(Xa)});Te(La,"compositionstart",function(){var Xa=ea.getCursor("from");S.composing&&S.composing.range.clear();
S.composing={start:Xa,range:ea.markText(Xa,ea.getCursor("to"),{className:"CodeMirror-composing"})}});Te(La,"compositionend",function(){S.composing&&(S.poll(),S.composing.range.clear(),S.composing=null)})};xg.prototype.createField=function(b){this.wrapper=Sh();this.textarea=this.wrapper.firstChild};xg.prototype.screenReaderLabelChanged=function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};xg.prototype.prepareSelection=function(){var b=this.cm,p=b.display,
X=b.doc,S=Yb(b);if(b.options.moveInputWithCursor){b=Be(b,X.sel.primary().head,"div");X=p.wrapper.getBoundingClientRect();var ea=p.lineDiv.getBoundingClientRect();S.teTop=Math.max(0,Math.min(p.wrapper.clientHeight-10,b.top+ea.top-X.top));S.teLeft=Math.max(0,Math.min(p.wrapper.clientWidth-10,b.left+ea.left-X.left))}return S};xg.prototype.showSelection=function(b){var p=this.cm.display;w(p.cursorDiv,b.cursors);w(p.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=
b.teLeft+"px")};xg.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var p=this.cm;p.somethingSelected()?(this.prevInput="",b=p.getSelection(),this.textarea.value=b,p.state.focused&&di(this.textarea),wf&&9<=Ff&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",wf&&9<=Ff&&(this.hasSelection=null))}};xg.prototype.getField=function(){return this.textarea};xg.prototype.supportsTouch=function(){return!1};xg.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&
(!ri||v()!=this.textarea))try{this.textarea.focus()}catch(b){}};xg.prototype.blur=function(){this.textarea.blur()};xg.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};xg.prototype.receivedFocus=function(){this.slowPoll()};xg.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){b.poll();b.cm.state.focused&&b.slowPoll()})};xg.prototype.fastPoll=function(){function b(){X.poll()||p?(X.pollingFast=!1,X.slowPoll()):
(p=!0,X.polling.set(60,b))}var p=!1,X=this;X.pollingFast=!0;X.polling.set(20,b)};xg.prototype.poll=function(){var b=this,p=this.cm,X=this.textarea,S=this.prevInput;if(this.contextMenuPending||!p.state.focused||Xh(X)&&!S&&!this.composing||p.isReadOnly()||p.options.disableInput||p.state.keySeq)return!1;var ea=X.value;if(ea==S&&!p.somethingSelected())return!1;if(wf&&9<=Ff&&this.hasSelection===ea||dh&&/[\uf700-\uf7ff]/.test(ea))return p.display.input.reset(),!1;if(p.doc.sel==p.display.selForContextMenu){var La=
ea.charCodeAt(0);8203!=La||S||(S="");if(8666==La)return this.reset(),this.cm.execCommand("undo")}var Xa=0;for(La=Math.min(S.length,ea.length);Xa<La&&S.charCodeAt(Xa)==ea.charCodeAt(Xa);)++Xa;oc(p,function(){Gi(p,ea.slice(Xa),S.length-Xa,null,b.composing?"*compose":null);1E3<ea.length||-1<ea.indexOf("\n")?X.value=b.prevInput="":b.prevInput=ea;b.composing&&(b.composing.range.clear(),b.composing.range=p.markText(b.composing.start,p.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};xg.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};xg.prototype.onKeyPress=function(){wf&&9<=Ff&&(this.hasSelection=null);this.fastPoll()};xg.prototype.onContextMenu=function(b){function p(){if(null!=Xa.selectionStart){var wc=ea.somethingSelected(),td=""+(wc?Xa.value:"");Xa.value="";Xa.value=td;S.prevInput=wc?"":"";Xa.selectionStart=1;Xa.selectionEnd=td.length;La.selForContextMenu=ea.doc.sel}}function X(){if(S.contextMenuPending==X&&(S.contextMenuPending=!1,S.wrapper.style.cssText=
dc,Xa.style.cssText=Ib,wf&&9>Ff&&La.scrollbars.setScrollTop(La.scroller.scrollTop=tb),null!=Xa.selectionStart)){(!wf||wf&&9>Ff)&&p();var wc=0,td=function(){La.selForContextMenu==ea.doc.sel&&0==Xa.selectionStart&&0<Xa.selectionEnd&&""==S.prevInput?fd(ea,ma)(ea):10>wc++?La.detectingSelectAll=setTimeout(td,500):(La.selForContextMenu=null,La.input.reset())};La.detectingSelectAll=setTimeout(td,200)}}var S=this,ea=S.cm,La=ea.display,Xa=S.textarea;S.contextMenuPending&&S.contextMenuPending();var ab=Bf(ea,
b),tb=La.scroller.scrollTop;if(ab&&!Jg){ea.options.resetSelectionOnContextMenu&&-1==ea.doc.sel.contains(ab)&&fd(ea,Wa)(ea.doc,Na(ab),mg);var Ib=Xa.style.cssText,dc=S.wrapper.style.cssText;ab=S.wrapper.offsetParent.getBoundingClientRect();S.wrapper.style.cssText="position: static";Xa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-ab.top-5)+"px; left: "+(b.clientX-ab.left-5)+"px;\n      z-index: 1000; background: "+(wf?"rgba(255, 255, 255, .05)":"transparent")+
";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Ag)var Rc=window.scrollY;La.input.focus();Ag&&window.scrollTo(null,Rc);La.input.reset();ea.somethingSelected()||(Xa.value=S.prevInput=" ");S.contextMenuPending=X;La.selForContextMenu=ea.doc.sel;clearTimeout(La.detectingSelectAll);wf&&9<=Ff&&p();if(Vh){Ia(b);var vc=function(){la(window,"mouseup",vc);setTimeout(X,20)};Te(window,"mouseup",vc)}else setTimeout(X,50)}};xg.prototype.readOnlyChanged=
function(b){b||this.reset();this.textarea.disabled="nocursor"==b;this.textarea.readOnly=!!b};xg.prototype.setUneditable=function(){};xg.prototype.needsContentAttribute=!1;(function(b){function p(S,ea,La,Xa){b.defaults[S]=ea;La&&(X[S]=Xa?function(ab,tb,Ib){Ib!=Ki&&La(ab,tb,Ib)}:La)}var X=b.optionHandlers;b.defineOption=p;b.Init=Ki;p("value","",function(S,ea){return S.setValue(ea)},!0);p("mode",null,function(S,ea){S.doc.modeOption=ea;Db(S)},!0);p("indentUnit",2,Db,!0);p("indentWithTabs",!1);p("smartIndent",
!0);p("tabSize",4,function(S){Ab(S);Nf(S);yc(S)},!0);p("lineSeparator",null,function(S,ea){if(S.doc.lineSep=ea){var La=[],Xa=S.doc.first;S.doc.iter(function(tb){for(var Ib=0;;){var dc=tb.text.indexOf(ea,Ib);if(-1==dc)break;Ib=dc+ea.length;La.push($a(Xa,dc))}Xa++});for(var ab=La.length-1;0<=ab;ab--)Qc(S.doc,ea,La[ab],$a(La[ab].line,La[ab].ch+ea.length))}});p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(S,ea,La){S.state.specialChars=
new RegExp(ea.source+(ea.test("\t")?"":"|\t"),"g");La!=Ki&&S.refresh()});p("specialCharPlaceholder",Lb,function(S){return S.refresh()},!0);p("electricChars",!0);p("inputStyle",ri?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);p("spellcheck",!1,function(S,ea){return S.getInputField().spellcheck=ea},!0);p("autocorrect",!1,function(S,ea){return S.getInputField().autocorrect=ea},!0);p("autocapitalize",!1,function(S,ea){return S.getInputField().autocapitalize=
ea},!0);p("rtlMoveVisually",!Vg);p("wholeLineUpdateBefore",!0);p("theme","default",function(S){Tk(S);Cf(S)},!0);p("keyMap","default",function(S,ea,La){ea=Vf(ea);(La=La!=Ki&&Vf(La))&&La.detach&&La.detach(S,ea);ea.attach&&ea.attach(S,La||null)});p("extraKeys",null);p("configureMouse",null);p("lineWrapping",!1,sj,!0);p("gutters",[],function(S,ea){S.display.gutterSpecs=ne(ea,S.options.lineNumbers);Cf(S)},!0);p("fixedGutter",!0,function(S,ea){S.display.gutters.style.left=ea?Yf(S.display)+"px":"0";S.refresh()},
!0);p("coverGutterNextToScrollbar",!1,function(S){return Pa(S)},!0);p("scrollbarStyle","native",function(S){Wb(S);Pa(S);S.display.scrollbars.setScrollTop(S.doc.scrollTop);S.display.scrollbars.setScrollLeft(S.doc.scrollLeft)},!0);p("lineNumbers",!1,function(S,ea){S.display.gutterSpecs=ne(S.options.gutters,ea);Cf(S)},!0);p("firstLineNumber",1,Cf,!0);p("lineNumberFormatter",function(S){return S},Cf,!0);p("showCursorWhenSelecting",!1,ub,!0);p("resetSelectionOnContextMenu",!0);p("lineWiseCopyCut",!0);
p("pasteLinesPerSelection",!0);p("selectionsMayTouch",!1);p("readOnly",!1,function(S,ea){"nocursor"==ea&&(jd(S),S.display.input.blur());S.display.input.readOnlyChanged(ea)});p("screenReaderLabel",null,function(S,ea){S.display.input.screenReaderLabelChanged(""===ea?null:ea)});p("disableInput",!1,function(S,ea){ea||S.display.input.reset()},!0);p("dragDrop",!0,rj);p("allowDropFileTypes",null);p("cursorBlinkRate",530);p("cursorScrollMargin",0);p("cursorHeight",1,ub,!0);p("singleCursorHeightPerLine",!0,
ub,!0);p("workTime",100);p("workDelay",100);p("flattenSpans",!0,Ab,!0);p("addModeClass",!1,Ab,!0);p("pollInterval",100);p("undoDepth",200,function(S,ea){return S.doc.history.undoDepth=ea});p("historyEventDelay",1250);p("viewportMargin",10,function(S){return S.refresh()},!0);p("maxHighlightLength",1E4,Ab,!0);p("moveInputWithCursor",!0,function(S,ea){ea||S.display.input.resetPosition()});p("tabindex",null,function(S,ea){return S.display.input.getField().tabIndex=ea||""});p("autofocus",null);p("direction",
"ltr",function(S,ea){return S.doc.setDirection(ea)},!0);p("phrases",null)})(og);(function(b){var p=b.optionHandlers,X=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(S,ea){var La=this.options,Xa=La[S];if(La[S]!=ea||"mode"==S)La[S]=ea,p.hasOwnProperty(S)&&fd(this,p[S])(this,ea,Xa),Z(this,"optionChange",this,S)},getOption:function(S){return this.options[S]},getDoc:function(){return this.doc},addKeyMap:function(S,ea){this.state.keyMaps[ea?
"push":"unshift"](Vf(S))},removeKeyMap:function(S){for(var ea=this.state.keyMaps,La=0;La<ea.length;++La)if(ea[La]==S||ea[La].name==S)return ea.splice(La,1),!0},addOverlay:Wc(function(S,ea){var La=S.token?S:b.getMode(this.options,S);if(La.startState)throw Error("Overlays may not be stateful.");D(this.state.overlays,{mode:La,modeSpec:S,opaque:ea&&ea.opaque,priority:ea&&ea.priority||0},function(Xa){return Xa.priority});this.state.modeGen++;yc(this)}),removeOverlay:Wc(function(S){for(var ea=this.state.overlays,
La=0;La<ea.length;++La){var Xa=ea[La].modeSpec;if(Xa==S||"string"==typeof S&&Xa.name==S){ea.splice(La,1);this.state.modeGen++;yc(this);break}}}),indentLine:Wc(function(S,ea,La){"string"!=typeof ea&&"number"!=typeof ea&&(ea=null==ea?this.options.smartIndent?"smart":"prev":ea?"add":"subtract");Ra(this.doc,S)&&oi(this,S,ea,La)}),indentSelection:Wc(function(S){for(var ea=this.doc.sel.ranges,La=-1,Xa=0;Xa<ea.length;Xa++){var ab=ea[Xa];if(ab.empty())ab.head.line>La&&(oi(this,ab.head.line,S,!0),La=ab.head.line,
Xa==this.doc.sel.primIndex&&We(this));else{var tb=ab.from();ab=ab.to();var Ib=Math.max(La,tb.line);La=Math.min(this.lastLine(),ab.line-(ab.ch?0:1))+1;for(ab=Ib;ab<La;++ab)oi(this,ab,S);ab=this.doc.sel.ranges;0==tb.ch&&ea.length==ab.length&&0<ab[Xa].from().ch&&Ad(this.doc,Xa,new Jf(tb,ab[Xa].to()),mg)}}}),getTokenAt:function(S,ea){return hc(this,S,ea)},getLineTokens:function(S,ea){return hc(this,$a(S),ea,!0)},getTokenTypeAt:function(S){S=jb(this.doc,S);var ea=nc(this,ba(this.doc,S.line)),La=0,Xa=(ea.length-
1)/2;S=S.ch;if(0==S)ea=ea[2];else for(;;){var ab=La+Xa>>1;if((ab?ea[2*ab-1]:0)>=S)Xa=ab;else if(ea[2*ab+1]<S)La=ab+1;else{ea=ea[2*ab+2];break}}La=ea?ea.indexOf("overlay "):-1;return 0>La?ea:0==La?null:ea.slice(0,La-1)},getModeAt:function(S){var ea=this.doc.mode;return ea.innerMode?b.innerMode(ea,this.getTokenAt(S).state).mode:ea},getHelper:function(S,ea){return this.getHelpers(S,ea)[0]},getHelpers:function(S,ea){var La=[];if(!X.hasOwnProperty(ea))return La;var Xa=X[ea];S=this.getModeAt(S);if("string"==
typeof S[ea])Xa[S[ea]]&&La.push(Xa[S[ea]]);else if(S[ea])for(var ab=0;ab<S[ea].length;ab++){var tb=Xa[S[ea][ab]];tb&&La.push(tb)}else S.helperType&&Xa[S.helperType]?La.push(Xa[S.helperType]):Xa[S.name]&&La.push(Xa[S.name]);for(ea=0;ea<Xa._global.length;ea++)ab=Xa._global[ea],ab.pred(S,this)&&-1==a(La,ab.val)&&La.push(ab.val);return La},getStateAfter:function(S,ea){var La=this.doc;S=Math.max(La.first,Math.min(null==S?La.first+La.size-1:S,La.first+La.size-1));return md(this,S+1,ea).state},cursorCoords:function(S,
ea){var La=this.doc.sel.primary();S=null==S?La.head:"object"==typeof S?jb(this.doc,S):S?La.from():La.to();return Be(this,S,ea||"page")},charCoords:function(S,ea){return Xd(this,jb(this.doc,S),ea||"page")},coordsChar:function(S,ea){S=Od(this,S,ea||"page");return Td(this,S.left,S.top)},lineAtHeight:function(S,ea){S=Od(this,{top:S,left:0},ea||"page").top;return na(this.doc,S+this.display.viewOffset)},heightAtLine:function(S,ea,La){var Xa=!1;if("number"==typeof S){var ab=this.doc.first+this.doc.size-
1;S<this.doc.first?S=this.doc.first:S>ab&&(S=ab,Xa=!0);S=ba(this.doc,S)}return we(this,S,{top:0,left:0},ea||"page",La||Xa).top+(Xa?this.doc.height-Ka(S):0)},defaultTextHeight:function(){return Fe(this.display)},defaultCharWidth:function(){return ue(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(S,ea,La,Xa,ab){var tb=this.display;S=Be(this,jb(this.doc,S));var Ib=S.bottom,dc=S.left;ea.style.position="absolute";ea.setAttribute("cm-ignore-events",
"true");this.display.input.setUneditable(ea);tb.sizer.appendChild(ea);if("over"==Xa)Ib=S.top;else if("above"==Xa||"near"==Xa){var Rc=Math.max(tb.wrapper.clientHeight,this.doc.height),vc=Math.max(tb.sizer.clientWidth,tb.lineSpace.clientWidth);("above"==Xa||S.bottom+ea.offsetHeight>Rc)&&S.top>ea.offsetHeight?Ib=S.top-ea.offsetHeight:S.bottom+ea.offsetHeight<=Rc&&(Ib=S.bottom);dc+ea.offsetWidth>vc&&(dc=vc-ea.offsetWidth)}ea.style.top=Ib+"px";ea.style.left=ea.style.right="";"right"==ab?(dc=tb.sizer.clientWidth-
ea.offsetWidth,ea.style.right="0px"):("left"==ab?dc=0:"middle"==ab&&(dc=(tb.sizer.clientWidth-ea.offsetWidth)/2),ea.style.left=dc+"px");La&&(S=tf(this,{left:dc,top:Ib,right:dc+ea.offsetWidth,bottom:Ib+ea.offsetHeight}),null!=S.scrollTop&&yf(this,S.scrollTop),null!=S.scrollLeft&&nf(this,S.scrollLeft))},triggerOnKeyDown:Wc(Jj),triggerOnKeyPress:Wc(yi),triggerOnKeyUp:qg,triggerOnMouseDown:Wc(Ai),execCommand:function(S){if(aj.hasOwnProperty(S))return aj[S].call(null,this)},triggerElectric:Wc(function(S){Dg(this,
S)}),findPosH:function(S,ea,La,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);S=jb(this.doc,S);for(var tb=0;tb<ea&&(S=Yj(this.doc,S,ab,La,Xa),!S.hitSide);++tb);return S},moveH:Wc(function(S,ea){var La=this;this.extendSelectionsBy(function(Xa){return La.display.shift||La.doc.extend||Xa.empty()?Yj(La.doc,Xa.head,S,ea,La.options.rtlMoveVisually):0>S?Xa.from():Xa.to()},ei)}),deleteH:Wc(function(S,ea){var La=this.doc;this.doc.sel.somethingSelected()?La.replaceSelection("",null,"+delete"):Xg(this,function(Xa){var ab=
Yj(La,Xa.head,S,ea,!1);return 0>S?{from:ab,to:Xa.head}:{from:Xa.head,to:ab}})}),findPosV:function(S,ea,La,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);var tb=jb(this.doc,S);for(S=0;S<ea&&(tb=Be(this,tb,"div"),null==Xa?Xa=tb.left:tb.left=Xa,tb=Vj(this,tb,ab,La),!tb.hitSide);++S);return tb},moveV:Wc(function(S,ea){var La=this,Xa=this.doc,ab=[],tb=!this.display.shift&&!Xa.extend&&Xa.sel.somethingSelected();Xa.extendSelectionsBy(function(dc){if(tb)return 0>S?dc.from():dc.to();var Rc=Be(La,dc.head,"div");null!=dc.goalColumn&&
(Rc.left=dc.goalColumn);ab.push(Rc.left);var vc=Vj(La,Rc,S,ea);"page"==ea&&dc==Xa.sel.primary()&&kd(La,Xd(La,vc,"div").top-Rc.top);return vc},ei);if(ab.length)for(var Ib=0;Ib<Xa.sel.ranges.length;Ib++)Xa.sel.ranges[Ib].goalColumn=ab[Ib]}),findWordAt:function(S){var ea=ba(this.doc,S.line).text,La=S.ch,Xa=S.ch;if(ea){var ab=this.getHelper(S,"wordChars");"before"!=S.sticky&&Xa!=ea.length||!La?++Xa:--La;var tb=ea.charAt(La);for(tb=z(tb,ab)?function(Ib){return z(Ib,ab)}:/\s/.test(tb)?function(Ib){return/\s/.test(Ib)}:
function(Ib){return!/\s/.test(Ib)&&!z(Ib)};0<La&&tb(ea.charAt(La-1));)--La;for(;Xa<ea.length&&tb(ea.charAt(Xa));)++Xa}return new Jf($a(S.line,La),$a(S.line,Xa))},toggleOverwrite:function(S){if(null==S||S!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?u(this.display.cursorDiv,"CodeMirror-overwrite"):Dh(this.display.cursorDiv,"CodeMirror-overwrite"),Z(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==v()},isReadOnly:function(){return!(!this.options.readOnly&&
!this.doc.cantEdit)},scrollTo:Wc(function(S,ea){uf(this,S,ea)}),getScrollInfo:function(){var S=this.display.scroller;return{left:S.scrollLeft,top:S.scrollTop,height:S.scrollHeight-oe(this)-this.display.barHeight,width:S.scrollWidth-oe(this)-this.display.barWidth,clientHeight:fe(this),clientWidth:De(this)}},scrollIntoView:Wc(function(S,ea){null==S?(S={from:this.doc.sel.primary().head,to:null},null==ea&&(ea=this.options.cursorScrollMargin)):"number"==typeof S?S={from:$a(S,0),to:null}:null==S.from&&
(S={from:S,to:null});S.to||(S.to=S.from);S.margin=ea||0;null!=S.from.line?(mf(this),this.curOp.scrollToPos=S):Zf(this,S.from,S.to,S.margin)}),setSize:Wc(function(S,ea){var La=this,Xa=function(tb){return"number"==typeof tb||/^\d+$/.test(String(tb))?tb+"px":tb};null!=S&&(this.display.wrapper.style.width=Xa(S));null!=ea&&(this.display.wrapper.style.height=Xa(ea));this.options.lineWrapping&&Ue(this);var ab=this.display.viewFrom;this.doc.iter(ab,this.display.viewTo,function(tb){if(tb.widgets)for(var Ib=
0;Ib<tb.widgets.length;Ib++)if(tb.widgets[Ib].noHScroll){wa(La,ab,"widget");break}++ab});this.curOp.forceUpdate=!0;Z(this,"refresh",this)}),operation:function(S){return oc(this,S)},startOperation:function(){return Tb(this)},endOperation:function(){return ic(this)},refresh:Wc(function(){var S=this.display.cachedTextHeight;yc(this);this.curOp.forceUpdate=!0;Nf(this);uf(this,this.doc.scrollLeft,this.doc.scrollTop);Ie(this.display);(null==S||.5<Math.abs(S-Fe(this.display))||this.options.lineWrapping)&&
Sf(this);Z(this,"refresh",this)}),swapDoc:Wc(function(S){var ea=this.doc;ea.cm=null;this.state.selectingText&&this.state.selectingText();xc(this,S);Nf(this);this.display.input.reset();uf(this,S.scrollLeft,S.scrollTop);this.curOp.forceScroll=!0;Bc(this,"swapDoc",this,ea);return ea}),phrase:function(S){var ea=this.options.phrases;return ea&&Object.prototype.hasOwnProperty.call(ea,S)?ea[S]:S},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};ia(b);b.registerHelper=function(S,ea,La){X.hasOwnProperty(S)||(X[S]=b[S]={_global:[]});X[S][ea]=La};b.registerGlobalHelper=function(S,ea,La,Xa){b.registerHelper(S,ea,Xa);X[S]._global.push({pred:La,val:Xa})}})(og);var il="iter insert remove copy getEditor constructor".split(" "),hj;for(hj in Gg.prototype)Gg.prototype.hasOwnProperty(hj)&&0>a(il,hj)&&(og.prototype[hj]=function(b){return function(){return b.apply(this.doc,
arguments)}}(Gg.prototype[hj]));ia(Gg);og.inputStyles={textarea:xg,contenteditable:eg};og.defineMode=function(b){og.defaults.mode||"null"==b||(og.defaults.mode=b);ua.apply(this,arguments)};og.defineMIME=function(b,p){ti[b]=p};og.defineMode("null",function(){return{token:function(b){return b.skipToEnd()}}});og.defineMIME("text/plain","null");og.defineExtension=function(b,p){og.prototype[b]=p};og.defineDocExtension=function(b,p){Gg.prototype[b]=p};og.fromTextArea=function(b,p){function X(){b.value=
ab.getValue()}p=p?d(p):{};p.value=b.value;!p.tabindex&&b.tabIndex&&(p.tabindex=b.tabIndex);!p.placeholder&&b.placeholder&&(p.placeholder=b.placeholder);if(null==p.autofocus){var S=v();p.autofocus=S==b||null!=b.getAttribute("autofocus")&&S==document.body}if(b.form&&(Te(b.form,"submit",X),!p.leaveSubmitMethodAlone)){var ea=b.form;var La=ea.submit;try{var Xa=ea.submit=function(){X();ea.submit=La;ea.submit();ea.submit=Xa}}catch(tb){}}p.finishInit=function(tb){tb.save=X;tb.getTextArea=function(){return b};
tb.toTextArea=function(){tb.toTextArea=isNaN;X();b.parentNode.removeChild(tb.getWrapperElement());b.style.display="";b.form&&(la(b.form,"submit",X),p.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=La))}};b.style.display="none";var ab=og(function(tb){return b.parentNode.insertBefore(tb,b.nextSibling)},p);return ab};(function(b){b.off=la;b.on=Te;b.wheelEventPixels=jg;b.Doc=Gg;b.splitLines=Ih;b.countColumn=f;b.findColumn=e;b.isWordChar=F;b.Pass=mh;b.signal=Z;b.Line=Yh;b.changeEnd=
Sa;b.scrollbarModel=ej;b.Pos=$a;b.cmpPos=Ca;b.modes=Kh;b.mimeModes=ti;b.resolveMode=Ta;b.getMode=Ya;b.modeExtensions=jh;b.extendMode=Da;b.copyState=ta;b.startState=W;b.innerMode=U;b.commands=aj;b.keyMap=Mi;b.keyName=Qf;b.isModifierKey=vf;b.lookupKey=$f;b.normalizeKeyMap=Xe;b.StringStream=kg;b.SharedTextMarker=pi;b.TextMarker=lh;b.LineWidget=Uh;b.e_preventDefault=aa;b.e_stopPropagation=ya;b.e_stop=Ia;b.addClass=u;b.contains=x;b.rmClass=Dh;b.keyNames=Oh})(og);og.version="5.59.2";return og})};
shadow$provide[68]=function(Ja,A,rb,E){(function(k){"object"===typeof E&&"object"===typeof rb?k(A(67)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){k.defineMode("clojure",function(l){function w(O,M){if(O.eatSpace()||O.eat(","))return["space",null];if(O.match(y))return[null,"number"];if(O.match(B))return[null,"string-2"];if(O.eat(/^"/))return(M.tokenize=H)(O,M);if(O.eat(/^[(\[{]/))return["open","bracket"];if(O.eat(/^[)\]}]/))return["close","bracket"];
if(O.eat(/^;/))return O.skipToEnd(),["space","comment"];if(O.eat(/^[#'@^`~]/))return[null,"meta"];var F=O.match(D);F=F&&F[0];return F?"comment"===F&&"("===M.lastToken?(M.tokenize=N)(O,M):v(F,d)||":"===F.charAt(0)?["symbol","atom"]:v(F,f)||v(F,a)?["symbol","keyword"]:"("===M.lastToken?["symbol","builtin"]:["symbol","variable"]:(O.next(),O.eatWhile(function(z){return!v(z,n)}),[null,"error"])}function H(O,M){for(var F=!1,z;z=O.next();){if('"'===z&&!F){M.tokenize=w;break}F=!F&&"\\"===z}return[null,"string"]}
function N(O,M){for(var F=1,z;z=O.next();)if(")"===z&&F--,"("===z&&F++,0===F){O.backUp(1);M.tokenize=w;break}return["space","comment"]}function x(O){for(var M={},F=0;F<O.length;++F)M[O[F]]=!0;return M}function v(O,M){if(M instanceof RegExp)return M.test(O);if(M instanceof Object)return M.propertyIsEnumerable(O)}var u=["false","nil","true"],m=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),g="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
k.registerHelper("hintWords","clojure",[].concat(u,m,g));var d=x(u),f=x(m),a=x(g),e=x("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
n=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,y=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,B=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,D=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:w}},token:function(O,M){O.sol()&&"number"!==typeof M.ctx.indentTo&&(M.ctx.indentTo=M.ctx.start+1);var F=M.tokenize(O,M),z=F[0];F=F[1];var G=O.current();"space"!==z&&("("===M.lastToken&&null===M.ctx.indentTo?"symbol"===z&&v(G,e)?M.ctx.indentTo=M.ctx.start+l.indentUnit:M.ctx.indentTo="next":"next"===M.ctx.indentTo&&(M.ctx.indentTo=O.column()),M.lastToken=G);"open"===z?M.ctx={prev:M.ctx,start:O.column(),indentTo:null}:
"close"===z&&(M.ctx=M.ctx.prev||M.ctx);return F},indent:function(O){var M=O.ctx.indentTo;return"number"===typeof M?M:O.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});k.defineMIME("text/x-clojure","clojure");k.defineMIME("text/x-clojurescript","clojure");k.defineMIME("application/edn","clojure")})};
shadow$provide[69]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(){function k(){this.disposed=!1}k.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};k.prototype.disposeInternal=function(){};return k}();E["default"]=Ja};
shadow$provide[70]=function(Ja,A,rb,E){function k(l,w){return l>w?1:l<w?-1:0}Object.defineProperty(E,"__esModule",{value:!0});E.binarySearch=function(l,w,H){for(var N,x=H||k,v=0,u=l.length,m=!1;v<u;)H=v+(u-v>>1),N=+x(l[H],w),0>N?v=H+1:(u=H,m=!N);return m?v:~v};E.numberSafeCompareFunction=k;E.includes=function(l,w){return 0<=l.indexOf(w)};E.linearFindNearest=function(l,w,H){var N=l.length;if(l[0]<=w)return 0;if(!(w<=l[N-1]))if(0<H)for(H=1;H<N;++H){if(l[H]<w)return H-1}else if(0>H)for(H=1;H<N;++H){if(l[H]<=
w)return H}else for(H=1;H<N;++H){if(l[H]==w)return H;if(l[H]<w)return l[H-1]-w<w-l[H]?H-1:H}return N-1};E.reverseSubArray=function(l,w,H){for(;w<H;){var N=l[w];l[w]=l[H];l[H]=N;++w;--H}};E.extend=function(l,w){w=Array.isArray(w)?w:[w];for(var H=w.length,N=0;N<H;N++)l[l.length]=w[N]};E.remove=function(l,w){w=l.indexOf(w);var H=-1<w;H&&l.splice(w,1);return H};E.find=function(l,w){for(var H=l.length>>>0,N,x=0;x<H;x++)if(N=l[x],w(N,x,l))return N;return null};E.equals=function(l,w){var H=l.length;if(H!==
w.length)return!1;for(var N=0;N<H;N++)if(l[N]!==w[N])return!1;return!0};E.stableSort=function(l,w){var H=l.length,N=Array(l.length),x;for(x=0;x<H;x++)N[x]={index:x,value:l[x]};N.sort(function(v,u){return w(v.value,u.value)||v.index-u.index});for(x=0;x<l.length;x++)l[x]=N[x].value};E.findIndex=function(l,w){var H;return l.every(function(N,x){H=x;return!w(N,x,l)})?-1:H};E.isSorted=function(l,w,H){var N=w||k;return l.every(function(x,v){if(0===v)return!0;x=N(l[v-1],x);return!(0<x||H&&0===x)})}};
shadow$provide[71]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.TRUE=function(){return!0};E.FALSE=function(){return!1};E.VOID=function(){};E.memoizeOne=function(l){var w=!1,H,N,x;return function(){var v=Array.prototype.slice.call(arguments);w&&this===x&&(0,k.equals)(v,N)||(w=!0,x=this,N=v,H=l.apply(this,arguments));return H}};var k=A(70)};
shadow$provide[72]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["abstract"]=function(){throw Error("Unimplemented abstract method.");};E.getUid=function(l){return l.ol_uid||(l.ol_uid=String(++k))};E.VERSION=void 0;var k=0;E.VERSION="6.5.0"};
shadow$provide[73]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(72),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):(x.prototype=N.prototype,new x)}}();Ja=function(w){function H(N){var x=
"Assertion failed. See https://openlayers.org/en/"+("latest"===k.VERSION?k.VERSION:"v"+k.VERSION.split("-")[0])+"/doc/errors/#"+N+" for details.";var v=w.call(this,x)||this;v.code=N;v.name="AssertionError";v.message=x;return v}l(H,w);return H}(Error);E["default"]=Ja};
shadow$provide[74]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.assert=function(l,w){if(!l)throw new k["default"](w);};var k=function(l){return l&&l.__esModule?l:{"default":l}}(A(73))};
shadow$provide[75]=function(Ja,A,rb,E){function k(){return[1,0,0,1,0,0]}function l(g,d){var f=g[0],a=g[1],e=g[2],n=g[3],y=g[4],B=g[5],D=d[0],O=d[1],M=d[2],F=d[3],z=d[4];d=d[5];g[0]=f*D+e*O;g[1]=a*D+n*O;g[2]=f*M+e*F;g[3]=a*M+n*F;g[4]=f*z+e*d+y;g[5]=a*z+n*d+B;return g}function w(g,d,f,a,e,n,y){g[0]=d;g[1]=f;g[2]=a;g[3]=e;g[4]=n;g[5]=y;return g}function H(g,d,f,a,e,n,y,B){var D=Math.sin(n);n=Math.cos(n);g[0]=a*n;g[1]=e*D;g[2]=-a*D;g[3]=e*n;g[4]=y*a*n-B*a*D+d;g[5]=y*e*D+B*e*n+f;return g}function N(g,
d){var f=x(d);(0,u.assert)(0!==f,32);var a=d[0],e=d[1],n=d[2],y=d[3],B=d[4];d=d[5];g[0]=y/f;g[1]=-e/f;g[2]=-n/f;g[3]=a/f;g[4]=(n*d-y*B)/f;g[5]=-(a*d-e*B)/f;return g}function x(g){return g[0]*g[3]-g[1]*g[2]}function v(g){return"matrix("+g.join(", ")+")"}Object.defineProperty(E,"__esModule",{value:!0});E.create=k;E.reset=function(g){return w(g,1,0,0,1,0,0)};E.multiply=l;E.set=w;E.setFromArray=function(g,d){g[0]=d[0];g[1]=d[1];g[2]=d[2];g[3]=d[3];g[4]=d[4];g[5]=d[5];return g};E.apply=function(g,d){var f=
d[0],a=d[1];d[0]=g[0]*f+g[2]*a+g[4];d[1]=g[1]*f+g[3]*a+g[5];return d};E.rotate=function(g,d){var f=Math.cos(d);d=Math.sin(d);return l(g,w(m,f,d,-d,f,0,0))};E.scale=function(g,d,f){return l(g,w(m,d,0,0,f,0,0))};E.makeScale=function(g,d,f){return w(g,d,0,0,f,0,0)};E.translate=function(g,d,f){return l(g,w(m,1,0,0,1,d,f))};E.compose=H;E.composeCssTransform=function(g,d,f,a,e,n,y){return v(H(k(),g,d,f,a,e,n,y))};E.invert=function(g){return N(g,g)};E.makeInverse=N;E.determinant=x;E.toString=v;var u=A(74),
m=Array(6)};
shadow$provide[76]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[77]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[78]=function(Ja,A,rb,E){function k(T){return T&&T.__esModule?T:{"default":T}}function l(T,ja,fa){return T[0]<=ja&&ja<=T[2]&&T[1]<=fa&&fa<=T[3]}function w(T,ja){var fa=T[1],ha=T[2],la=T[3],Z=ja[0];ja=ja[1];var P=K["default"].UNKNOWN;Z<T[0]?P|=K["default"].LEFT:Z>ha&&(P|=K["default"].RIGHT);ja<fa?P|=K["default"].BELOW:ja>la&&(P|=K["default"].ABOVE);P===K["default"].UNKNOWN&&(P=K["default"].INTERSECTING);return P}function H(){return[Infinity,Infinity,-Infinity,-Infinity]}function N(T,
ja,fa,ha,la){return la?(la[0]=T,la[1]=ja,la[2]=fa,la[3]=ha,la):[T,ja,fa,ha]}function x(T){return N(Infinity,Infinity,-Infinity,-Infinity,T)}function v(T,ja){ja[0]<T[0]&&(T[0]=ja[0]);ja[0]>T[2]&&(T[2]=ja[0]);ja[1]<T[1]&&(T[1]=ja[1]);ja[1]>T[3]&&(T[3]=ja[1])}function u(T,ja){for(var fa=0,ha=ja.length;fa<ha;++fa)v(T,ja[fa]);return T}function m(T,ja,fa,ha,la){for(;fa<ha;fa+=la)d(T,ja[fa],ja[fa+1]);return T}function g(T,ja){for(var fa=0,ha=ja.length;fa<ha;++fa)u(T,ja[fa]);return T}function d(T,ja,fa){T[0]=
Math.min(T[0],ja);T[1]=Math.min(T[1],fa);T[2]=Math.max(T[2],ja);T[3]=Math.max(T[3],fa)}function f(T){var ja=0;z(T)||(ja=M(T)*y(T));return ja}function a(T){return[T[0],T[1]]}function e(T){return[T[2],T[1]]}function n(T){return[(T[0]+T[2])/2,(T[1]+T[3])/2]}function y(T){return T[3]-T[1]}function B(T,ja,fa){fa=fa?fa:H();F(T,ja)?(fa[0]=T[0]>ja[0]?T[0]:ja[0],fa[1]=T[1]>ja[1]?T[1]:ja[1],fa[2]=T[2]<ja[2]?T[2]:ja[2],fa[3]=T[3]<ja[3]?T[3]:ja[3]):x(fa);return fa}function D(T){return[T[0],T[3]]}function O(T){return[T[2],
T[3]]}function M(T){return T[2]-T[0]}function F(T,ja){return T[0]<=ja[2]&&T[2]>=ja[0]&&T[1]<=ja[3]&&T[3]>=ja[1]}function z(T){return T[2]<T[0]||T[3]<T[1]}Object.defineProperty(E,"__esModule",{value:!0});E.boundingExtent=function(T){for(var ja=H(),fa=0,ha=T.length;fa<ha;++fa)v(ja,T[fa]);return ja};E.buffer=function(T,ja,fa){return fa?(fa[0]=T[0]-ja,fa[1]=T[1]-ja,fa[2]=T[2]+ja,fa[3]=T[3]+ja,fa):[T[0]-ja,T[1]-ja,T[2]+ja,T[3]+ja]};E.clone=function(T,ja){return ja?(ja[0]=T[0],ja[1]=T[1],ja[2]=T[2],ja[3]=
T[3],ja):T.slice()};E.closestSquaredDistanceXY=function(T,ja,fa){ja=ja<T[0]?T[0]-ja:T[2]<ja?ja-T[2]:0;T=fa<T[1]?T[1]-fa:T[3]<fa?fa-T[3]:0;return ja*ja+T*T};E.containsCoordinate=function(T,ja){return l(T,ja[0],ja[1])};E.containsExtent=function(T,ja){return T[0]<=ja[0]&&ja[2]<=T[2]&&T[1]<=ja[1]&&ja[3]<=T[3]};E.containsXY=l;E.coordinateRelationship=w;E.createEmpty=H;E.createOrUpdate=N;E.createOrUpdateEmpty=x;E.createOrUpdateFromCoordinate=function(T,ja){var fa=T[0];T=T[1];return N(fa,T,fa,T,ja)};E.createOrUpdateFromCoordinates=
function(T,ja){ja=x(ja);return u(ja,T)};E.createOrUpdateFromFlatCoordinates=function(T,ja,fa,ha,la){la=x(la);return m(la,T,ja,fa,ha)};E.createOrUpdateFromRings=function(T,ja){ja=x(ja);return g(ja,T)};E.equals=function(T,ja){return T[0]==ja[0]&&T[2]==ja[2]&&T[1]==ja[1]&&T[3]==ja[3]};E.approximatelyEquals=function(T,ja,fa){return Math.abs(T[0]-ja[0])<fa&&Math.abs(T[2]-ja[2])<fa&&Math.abs(T[1]-ja[1])<fa&&Math.abs(T[3]-ja[3])<fa};E.extend=function(T,ja){ja[0]<T[0]&&(T[0]=ja[0]);ja[2]>T[2]&&(T[2]=ja[2]);
ja[1]<T[1]&&(T[1]=ja[1]);ja[3]>T[3]&&(T[3]=ja[3]);return T};E.extendCoordinate=v;E.extendCoordinates=u;E.extendFlatCoordinates=m;E.extendRings=g;E.extendXY=d;E.forEachCorner=function(T,ja){var fa;return(fa=ja(a(T)))||(fa=ja(e(T)))||(fa=ja(O(T)))?fa:(fa=ja(D(T)))?fa:!1};E.getArea=f;E.getBottomLeft=a;E.getBottomRight=e;E.getCenter=n;E.getCorner=function(T,ja){var fa;ja===G["default"].BOTTOM_LEFT?fa=a(T):ja===G["default"].BOTTOM_RIGHT?fa=e(T):ja===G["default"].TOP_LEFT?fa=D(T):ja===G["default"].TOP_RIGHT?
fa=O(T):(0,R.assert)(!1,13);return fa};E.getEnlargedArea=function(T,ja){return(Math.max(T[2],ja[2])-Math.min(T[0],ja[0]))*(Math.max(T[3],ja[3])-Math.min(T[1],ja[1]))};E.getForViewAndSize=function(T,ja,fa,ha,la){var Z=ja*ha[0]/2;ha=ja*ha[1]/2;ja=Math.cos(fa);var P=Math.sin(fa);fa=Z*ja;Z*=P;ja*=ha;var C=ha*P,V=T[0],ia=T[1];T=V-fa+C;ha=V-fa-C;P=V+fa-C;fa=V+fa+C;C=ia-Z-ja;V=ia-Z+ja;var aa=ia+Z+ja;Z=ia+Z-ja;return N(Math.min(T,ha,P,fa),Math.min(C,V,aa,Z),Math.max(T,ha,P,fa),Math.max(C,V,aa,Z),la)};E.getHeight=
y;E.getIntersectionArea=function(T,ja){T=B(T,ja);return f(T)};E.getIntersection=B;E.getMargin=function(T){return M(T)+y(T)};E.getSize=function(T){return[T[2]-T[0],T[3]-T[1]]};E.getTopLeft=D;E.getTopRight=O;E.getWidth=M;E.intersects=F;E.isEmpty=z;E.returnOrUpdate=function(T,ja){return ja?(ja[0]=T[0],ja[1]=T[1],ja[2]=T[2],ja[3]=T[3],ja):T};E.scaleFromCenter=function(T,ja){var fa=(T[2]-T[0])/2*(ja-1);ja=(T[3]-T[1])/2*(ja-1);T[0]-=fa;T[2]+=fa;T[1]-=ja;T[3]+=ja};E.intersectsSegment=function(T,ja,fa){var ha=
!1,la=w(T,ja),Z=w(T,fa);if(la===K["default"].INTERSECTING||Z===K["default"].INTERSECTING)ha=!0;else{var P=T[0],C=T[1],V=T[2];T=T[3];var ia=fa[0];fa=fa[1];ja=(fa-ja[1])/(ia-ja[0]);Z&K["default"].ABOVE&&!(la&K["default"].ABOVE)&&(ha=ia-(fa-T)/ja,ha=ha>=P&&ha<=V);ha||!(Z&K["default"].RIGHT)||la&K["default"].RIGHT||(ha=fa-(ia-V)*ja,ha=ha>=C&&ha<=T);ha||!(Z&K["default"].BELOW)||la&K["default"].BELOW||(ha=ia-(fa-C)/ja,ha=ha>=P&&ha<=V);ha||!(Z&K["default"].LEFT)||la&K["default"].LEFT||(ha=fa-(ia-P)*ja,ha=
ha>=C&&ha<=T)}return ha};E.applyTransform=function(T,ja,fa,ha){var la=[];if(1<ha)for(var Z=T[2]-T[0],P=T[3]-T[1],C=0;C<ha;++C)la.push(T[0]+Z*C/ha,T[1],T[2],T[1]+P*C/ha,T[2]-Z*C/ha,T[3],T[0],T[3]-P*C/ha);else la=[T[0],T[1],T[2],T[1],T[2],T[3],T[0],T[3]];ja(la,la,2);ja=[];T=[];C=0;for(ha=la.length;C<ha;C+=2)ja.push(la[C]),T.push(la[C+1]);la=Math.min.apply(null,ja);C=Math.min.apply(null,T);ja=Math.max.apply(null,ja);T=Math.max.apply(null,T);return N(la,C,ja,T,fa)};E.wrapX=function(T,ja){var fa=ja.getExtent(),
ha=n(T);ja.canWrapX()&&(ha[0]<fa[0]||ha[0]>=fa[2])&&(ja=M(fa),fa=Math.floor((ha[0]-fa[0])/ja)*ja,T[0]-=fa,T[2]-=fa);return T};var G=k(A(76)),K=k(A(77)),R=A(74)};
shadow$provide[79]=function(Ja,A,rb,E){function k(l,w,H,N){l=H-l;w=N-w;return l*l+w*w}Object.defineProperty(E,"__esModule",{value:!0});E.clamp=function(l,w,H){return Math.min(Math.max(l,w),H)};E.squaredSegmentDistance=function(l,w,H,N,x,v){var u=x-H,m=v-N;if(0!==u||0!==m){var g=((l-H)*u+(w-N)*m)/(u*u+m*m);1<g?(H=x,N=v):0<g&&(H+=u*g,N+=m*g)}return k(l,w,H,N)};E.squaredDistance=k;E.solveLinearSystem=function(l){for(var w=l.length,H=0;H<w;H++){for(var N=H,x=Math.abs(l[H][H]),v=H+1;v<w;v++){var u=Math.abs(l[v][H]);
u>x&&(x=u,N=v)}if(0===x)return null;x=l[N];l[N]=l[H];l[H]=x;for(N=H+1;N<w;N++)for(x=-l[N][H]/l[H][H],v=H;v<w+1;v++)l[N][v]=H==v?0:l[N][v]+x*l[H][v]}H=Array(w);for(N=w-1;0<=N;N--)for(H[N]=l[N][w]/l[N][N],x=N-1;0<=x;x--)l[x][w]-=l[x][N]*H[N];return H};E.toDegrees=function(l){return 180*l/Math.PI};E.toRadians=function(l){return l*Math.PI/180};E.modulo=function(l,w){l%=w;return 0>l*w?l+w:l};E.lerp=function(l,w,H){return l+H*(w-l)};E.log2=E.cosh=void 0;Ja=function(){return"cosh"in Math?Math.cosh:function(l){l=
Math.exp(l);return(l+1/l)/2}}();E.cosh=Ja;Ja=function(){return"log2"in Math?Math.log2:function(l){return Math.log(l)*Math.LOG2E}}();E.log2=Ja};
shadow$provide[80]=function(Ja,A,rb,E){function k(m){var g=document.createElement("div");g.style.color=m;return""!==g.style.color?(document.body.appendChild(g),m=getComputedStyle(g).color,document.body.removeChild(g),m):""}function l(m){m[0]=(0,N.clamp)(m[0]+.5|0,0,255);m[1]=(0,N.clamp)(m[1]+.5|0,0,255);m[2]=(0,N.clamp)(m[2]+.5|0,0,255);m[3]=(0,N.clamp)(m[3],0,1);return m}function w(m){var g=m[0];g!=(g|0)&&(g=g+.5|0);var d=m[1];d!=(d|0)&&(d=d+.5|0);var f=m[2];f!=(f|0)&&(f=f+.5|0);return"rgba("+g+
","+d+","+f+","+(void 0===m[3]?1:m[3])+")"}Object.defineProperty(E,"__esModule",{value:!0});E.asString=function(m){return"string"===typeof m?m:w(m)};E.asArray=function(m){return Array.isArray(m)?m:u(m)};E.normalize=l;E.toString=w;E.isStringColor=function(m){v.test(m)&&(m=k(m));return x.test(m)||0===m.indexOf("rgba(")||0===m.indexOf("rgb(")};E.fromString=void 0;var H=A(74),N=A(79),x=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,v=/^([a-z]*)$|^hsla?\(.*\)$/i,u=function(){var m={},g=0;return function(d){if(m.hasOwnProperty(d))var f=
m[d];else{if(1024<=g){f=0;for(var a in m)0===(f++&3)&&(delete m[a],--g)}f=d;v.exec(f)&&(f=k(f));if(x.exec(f)){a=f.length-1;var e=4>=a?1:2;var n=4===a||8===a;a=parseInt(f.substr(1+0*e,e),16);var y=parseInt(f.substr(1+1*e,e),16);var B=parseInt(f.substr(1+2*e,e),16);f=n?parseInt(f.substr(1+3*e,e),16):255;1==e&&(a=(a<<4)+a,y=(y<<4)+y,B=(B<<4)+B,n&&(f=(f<<4)+f));e=[a,y,B,f/255]}else 0==f.indexOf("rgba(")?(e=f.slice(5,-1).split(",").map(Number),l(e)):0==f.indexOf("rgb(")?(e=f.slice(4,-1).split(",").map(Number),
e.push(1),l(e)):(0,H.assert)(!1,14);f=e;m[d]=f;++g}return f}}();E.fromString=u};
shadow$provide[81]=function(Ja,A,rb,E){function k(w,H,N){N=N?(0,l.asString)(N):"null";return H+":"+w+":"+N}Object.defineProperty(E,"__esModule",{value:!0});E.shared=E["default"]=void 0;var l=A(80);Ja=function(){function w(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}w.prototype.clear=function(){this.cache_={};this.cacheSize_=0};w.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};w.prototype.expire=function(){if(this.canExpireCache()){var H=0,N;for(N in this.cache_){var x=
this.cache_[N];0!==(H++&3)||x.hasListener()||(delete this.cache_[N],--this.cacheSize_)}}};w.prototype.get=function(H,N,x){H=k(H,N,x);return H in this.cache_?this.cache_[H]:null};w.prototype.set=function(H,N,x,v){H=k(H,N,x);this.cache_[H]=v;++this.cacheSize_};w.prototype.setSize=function(H){this.maxCacheSize_=H;this.expire()};return w}();E["default"]=Ja;Ja=new Ja;E.shared=Ja};
shadow$provide[82]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.stopPropagation=function(k){k.stopPropagation()};E.preventDefault=function(k){k.preventDefault()};E["default"]=void 0;Ja=function(){function k(l){this.type=l;this.target=null}k.prototype.preventDefault=function(){this.propagationStopped=!0};k.prototype.stopPropagation=function(){this.propagationStopped=!0};return k}();E["default"]=Ja};
shadow$provide[83]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PROPERTYCHANGE:"propertychange"}};
shadow$provide[84]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(k){for(var l in k)delete k[l]};E.isEmpty=function(k){for(var l in k)return!1;return!l};E.getValues=E.assign=void 0;E.assign="function"===typeof Object.assign?Object.assign:function(k,l){if(void 0===k||null===k)throw new TypeError("Cannot convert undefined or null to object");for(var w=Object(k),H=1,N=arguments.length;H<N;++H){var x=arguments[H];if(void 0!==x&&null!==x)for(var v in x)x.hasOwnProperty(v)&&
(w[v]=x[v])}return w};E.getValues="function"===typeof Object.values?Object.values:function(k){var l=[],w;for(w in k)l.push(k[w]);return l}};
shadow$provide[85]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(69));var l=k(A(82)),w=A(71),H=A(84),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=x.call(this)||this;m.eventTarget_=u;m.pendingRemovals_=null;m.dispatching_=null;m.listeners_=null;return m}N(v,x);v.prototype.addEventListener=function(u,m){if(u&&m){var g=this.listeners_||(this.listeners_={});u=g[u]||(g[u]=[]);-1===u.indexOf(m)&&u.push(m)}};v.prototype.dispatchEvent=function(u){var m="string"===typeof u?new l["default"](u):u;u=m.type;m.target||(m.target=this.eventTarget_||this);var g=this.listeners_&&
this.listeners_[u];if(g){var d=this.dispatching_||(this.dispatching_={}),f=this.pendingRemovals_||(this.pendingRemovals_={});u in d||(d[u]=0,f[u]=0);++d[u];for(var a=0,e=g.length;a<e;++a){var n="handleEvent"in g[a]?g[a].handleEvent(m):g[a].call(this,m);if(!1===n||m.propagationStopped){n=!1;break}}--d[u];if(0===d[u]){m=f[u];for(delete f[u];m--;)this.removeEventListener(u,w.VOID);delete d[u]}return n}};v.prototype.disposeInternal=function(){this.listeners_&&(0,H.clear)(this.listeners_)};v.prototype.getListeners=
function(u){return this.listeners_&&this.listeners_[u]||void 0};v.prototype.hasListener=function(u){return this.listeners_?u?u in this.listeners_:0<Object.keys(this.listeners_).length:!1};v.prototype.removeEventListener=function(u,m){var g=this.listeners_&&this.listeners_[u];g&&(m=g.indexOf(m),-1!==m&&(this.pendingRemovals_&&u in this.pendingRemovals_?(g[m]=w.VOID,++this.pendingRemovals_[u]):(g.splice(m,1),0===g.length&&delete this.listeners_[u])))};return v}(Ja["default"]);E["default"]=A};
shadow$provide[86]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[87]=function(Ja,A,rb,E){function k(w,H,N,x,v){x&&x!==w&&(N=N.bind(x));if(v){var u=N;N=function(){w.removeEventListener(H,N);u.apply(this,arguments)}}x={target:w,type:H,listener:N};w.addEventListener(H,N);return x}Object.defineProperty(E,"__esModule",{value:!0});E.listen=k;E.listenOnce=function(w,H,N,x){return k(w,H,N,x,!0)};E.unlistenByKey=function(w){w&&w.target&&(w.target.removeEventListener(w.type,w.listener),(0,l.clear)(w))};var l=A(84)};
shadow$provide[88]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}function l(x){if(Array.isArray(x))for(var v=0,u=x.length;v<u;++v)(0,H.unlistenByKey)(x[v]);else(0,H.unlistenByKey)(x)}Object.defineProperty(E,"__esModule",{value:!0});E.unByKey=l;E["default"]=void 0;Ja=k(A(85));var w=k(A(86)),H=A(87),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,
d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(){var u=x.call(this)||this;u.revision_=0;return u}N(v,x);v.prototype.changed=function(){++this.revision_;this.dispatchEvent(w["default"].CHANGE)};v.prototype.getRevision=function(){return this.revision_};v.prototype.on=function(u,m){if(Array.isArray(u)){for(var g=u.length,d=Array(g),f=0;f<g;++f)d[f]=(0,H.listen)(this,
u[f],m);return d}return(0,H.listen)(this,u,m)};v.prototype.once=function(u,m){if(Array.isArray(u)){var g=u.length;var d=Array(g);for(var f=0;f<g;++f)d[f]=(0,H.listenOnce)(this,u[f],m)}else d=(0,H.listenOnce)(this,u,m);return m.ol_key=d};v.prototype.un=function(u,m){var g=m.ol_key;if(g)l(g);else if(Array.isArray(u)){g=0;for(var d=u.length;g<d;++g)this.removeEventListener(u[g],m)}else this.removeEventListener(u,m)};return v}(Ja["default"]);E["default"]=A};
shadow$provide[89]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m){return u.hasOwnProperty(m)?u[m]:u[m]="change:"+m}Object.defineProperty(E,"__esModule",{value:!0});E.getChangeEventType=l;E["default"]=E.ObjectEvent=void 0;Ja=k(A(82));var w=k(A(83));rb=k(A(88));var H=A(84),N=A(72),x=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,
e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),v=function(m){function g(d,f,a){d=m.call(this,d)||this;d.key=f;d.oldValue=a;return d}x(g,m);return g}(Ja["default"]);E.ObjectEvent=v;A=function(m){function g(d){var f=m.call(this)||this;(0,N.getUid)(f);f.values_=null;void 0!==d&&f.setProperties(d);return f}x(g,m);g.prototype.get=function(d){var f;this.values_&&this.values_.hasOwnProperty(d)&&
(f=this.values_[d]);return f};g.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};g.prototype.getProperties=function(){return this.values_&&(0,H.assign)({},this.values_)||{}};g.prototype.hasProperties=function(){return!!this.values_};g.prototype.notify=function(d,f){var a=l(d);this.dispatchEvent(new v(a,d,f));a=w["default"].PROPERTYCHANGE;this.dispatchEvent(new v(a,d,f))};g.prototype.set=function(d,f,a){var e=this.values_||(this.values_={});a?e[d]=f:(a=e[d],e[d]=f,a!==
f&&this.notify(d,a))};g.prototype.setProperties=function(d,f){for(var a in d)this.set(a,d[a],f)};g.prototype.applyProperties=function(d){d.values_&&(0,H.assign)(this.values_||(this.values_={}),d.values_)};g.prototype.unset=function(d,f){if(this.values_&&d in this.values_){var a=this.values_[d];delete this.values_[d];(0,H.isEmpty)(this.values_)&&(this.values_=null);f||this.notify(d,a)}};return g}(rb["default"]);var u={};E["default"]=A};
shadow$provide[90]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}};
shadow$provide[91]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(89));var l=k(A(90)),w=A(72),H=A(74),N=A(84),x=A(79),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=
null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=u.call(this)||this,f=(0,N.assign)({},g);f[l["default"].OPACITY]=void 0!==g.opacity?g.opacity:1;(0,H.assert)("number"===typeof f[l["default"].OPACITY],64);f[l["default"].VISIBLE]=void 0!==g.visible?g.visible:!0;f[l["default"].Z_INDEX]=g.zIndex;f[l["default"].MAX_RESOLUTION]=void 0!==g.maxResolution?g.maxResolution:Infinity;f[l["default"].MIN_RESOLUTION]=void 0!==g.minResolution?g.minResolution:0;f[l["default"].MIN_ZOOM]=
void 0!==g.minZoom?g.minZoom:-Infinity;f[l["default"].MAX_ZOOM]=void 0!==g.maxZoom?g.maxZoom:Infinity;d.className_=void 0!==f.className?g.className:"ol-layer";delete f.className;d.setProperties(f);d.state_=null;return d}v(m,u);m.prototype.getClassName=function(){return this.className_};m.prototype.getLayerState=function(g){g=this.state_||{layer:this,managed:void 0===g?!0:g};var d=this.getZIndex();g.opacity=(0,x.clamp)(Math.round(100*this.getOpacity())/100,0,1);g.sourceState=this.getSourceState();
g.visible=this.getVisible();g.extent=this.getExtent();g.zIndex=void 0!==d?d:!1===g.managed?Infinity:0;g.maxResolution=this.getMaxResolution();g.minResolution=Math.max(this.getMinResolution(),0);g.minZoom=this.getMinZoom();g.maxZoom=this.getMaxZoom();return this.state_=g};m.prototype.getLayersArray=function(g){return(0,w["abstract"])()};m.prototype.getLayerStatesArray=function(g){return(0,w["abstract"])()};m.prototype.getExtent=function(){return this.get(l["default"].EXTENT)};m.prototype.getMaxResolution=
function(){return this.get(l["default"].MAX_RESOLUTION)};m.prototype.getMinResolution=function(){return this.get(l["default"].MIN_RESOLUTION)};m.prototype.getMinZoom=function(){return this.get(l["default"].MIN_ZOOM)};m.prototype.getMaxZoom=function(){return this.get(l["default"].MAX_ZOOM)};m.prototype.getOpacity=function(){return this.get(l["default"].OPACITY)};m.prototype.getSourceState=function(){return(0,w["abstract"])()};m.prototype.getVisible=function(){return this.get(l["default"].VISIBLE)};
m.prototype.getZIndex=function(){return this.get(l["default"].Z_INDEX)};m.prototype.setExtent=function(g){this.set(l["default"].EXTENT,g)};m.prototype.setMaxResolution=function(g){this.set(l["default"].MAX_RESOLUTION,g)};m.prototype.setMinResolution=function(g){this.set(l["default"].MIN_RESOLUTION,g)};m.prototype.setMaxZoom=function(g){this.set(l["default"].MAX_ZOOM,g)};m.prototype.setMinZoom=function(g){this.set(l["default"].MIN_ZOOM,g)};m.prototype.setOpacity=function(g){(0,H.assert)("number"===
typeof g,64);this.set(l["default"].OPACITY,g)};m.prototype.setVisible=function(g){this.set(l["default"].VISIBLE,g)};m.prototype.setZIndex=function(g){this.set(l["default"].Z_INDEX,g)};m.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=null);u.prototype.disposeInternal.call(this)};return m}(Ja["default"]);E["default"]=A};
shadow$provide[92]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[93]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[94]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E.inView=function(d,f){if(!d.visible)return!1;var a=f.resolution;if(a<d.minResolution||a>=d.maxResolution)return!1;f=f.zoom;return f>d.minZoom&&f<=d.maxZoom};E["default"]=void 0;Ja=k(A(91));var l=k(A(86)),w=k(A(90)),H=k(A(92)),N=k(A(93)),x=A(74),v=A(84),u=A(89),m=A(87),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=(0,v.assign)({},a);delete e.source;e=d.call(this,e)||this;e.mapPrecomposeKey_=null;e.mapRenderKey_=null;e.sourceChangeKey_=null;e.renderer_=null;a.render&&(e.render=a.render);a.map&&e.setMap(a.map);e.addEventListener((0,
u.getChangeEventType)(w["default"].SOURCE),e.handleSourcePropertyChange_);e.setSource(a.source?a.source:null);return e}g(f,d);f.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};f.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};f.prototype.getSource=function(){return this.get(w["default"].SOURCE)||null};f.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():N["default"].UNDEFINED};f.prototype.handleSourceChange_=
function(){this.changed()};f.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,m.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,m.listen)(a,l["default"].CHANGE,this.handleSourceChange_,this));this.changed()};f.prototype.getFeatures=function(a){return this.renderer_.getFeatures(a)};f.prototype.render=function(a,e){var n=this.getRenderer();if(n.prepareFrame(a))return n.renderFrame(a,e)};f.prototype.setMap=
function(a){this.mapPrecomposeKey_&&((0,m.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,m.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,m.listen)(a,H["default"].PRECOMPOSE,function(e){e=e.frameState.layerStatesArray;var n=this.getLayerState(!1);(0,x.assert)(!e.some(function(y){return y.layer===n.layer}),67);e.push(n)},this),this.mapRenderKey_=(0,m.listen)(this,l["default"].CHANGE,a.render,a),
this.changed())};f.prototype.setSource=function(a){this.set(w["default"].SOURCE,a)};f.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};f.prototype.hasRenderer=function(){return!!this.renderer_};f.prototype.createRenderer=function(){return null};f.prototype.disposeInternal=function(){this.setSource(null);d.prototype.disposeInternal.call(this)};return f}(Ja["default"]);E["default"]=A};
shadow$provide[95]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.padNumber=function(k,l,w){k=void 0!==w?k.toFixed(w):""+k;w=k.indexOf(".");w=-1===w?k.length:w;return w>l?k:Array(1+l-w).join("0")+k};E.compareVersions=function(k,l){k=(""+k).split(".");l=(""+l).split(".");for(var w=0;w<Math.max(k.length,l.length);w++){var H=parseInt(k[w]||"0",10),N=parseInt(l[w]||"0",10);if(H>N)return 1;if(N>H)return-1}return 0}};
shadow$provide[96]=function(Ja,A,rb,E){function k(g,d){var f=g[0];g=g[1];var a=d[0],e=d[1];d=a[0];a=a[1];var n=e[0];e=e[1];var y=n-d,B=e-a;f=0===y&&0===B?0:(y*(f-d)+B*(g-a))/(y*y+B*B||0);0>=f?(g=d,f=a):1<=f?(g=n,f=e):(g=d+f*y,f=a+f*B);return[g,f]}function l(g,d,f){d=(0,u.modulo)(d+180,360)-180;var a=Math.abs(3600*d);f=f||0;var e=Math.pow(10,f),n=Math.floor(a/3600),y=Math.floor((a-3600*n)/60);a=Math.ceil((a-3600*n-60*y)*e)/e;60<=a&&(a=0,y+=1);60<=y&&(y=0,n+=1);return n+" "+(0,m.padNumber)(y,2)+" "+
(0,m.padNumber)(a,2,f)+""+(0==d?"":" "+g.charAt(0>d?1:0))}function w(g,d,f){return g?d.replace("{x}",g[0].toFixed(f)).replace("{y}",g[1].toFixed(f)):""}function H(g,d){var f=g[0]-d[0];g=g[1]-d[1];return f*f+g*g}function N(g,d){return w(g,"{x}, {y}",d)}function x(g,d,f){var a=d.getExtent(),e=0;d.canWrapX()&&(g[0]<a[0]||g[0]>a[2])&&(d=f||(0,v.getWidth)(a),e=Math.floor((g[0]-a[0])/d));return e}Object.defineProperty(E,"__esModule",{value:!0});E.add=function(g,d){g[0]+=+d[0];g[1]+=+d[1];return g};E.closestOnCircle=
function(g,d){var f=d.getRadius(),a=d.getCenter();d=a[0];a=a[1];var e=g[0]-d;g=g[1]-a;0===e&&0===g&&(e=1);var n=Math.sqrt(e*e+g*g);return[d+f*e/n,a+f*g/n]};E.closestOnSegment=k;E.createStringXY=function(g){return function(d){return N(d,g)}};E.degreesToStringHDMS=l;E.format=w;E.equals=function(g,d){for(var f=!0,a=g.length-1;0<=a;--a)if(g[a]!=d[a]){f=!1;break}return f};E.rotate=function(g,d){var f=Math.cos(d);d=Math.sin(d);var a=g[1]*f+g[0]*d;g[0]=g[0]*f-g[1]*d;g[1]=a;return g};E.scale=function(g,d){g[0]*=
d;g[1]*=d;return g};E.squaredDistance=H;E.distance=function(g,d){return Math.sqrt(H(g,d))};E.squaredDistanceToSegment=function(g,d){return H(g,k(g,d))};E.toStringHDMS=function(g,d){return g?l("NS",g[1],d)+" "+l("EW",g[0],d):""};E.toStringXY=N;E.wrapX=function(g,d){if(d.canWrapX()){var f=(0,v.getWidth)(d.getExtent());(d=x(g,d,f))&&(g[0]-=d*f)}return g};E.getWorldsAway=x;var v=A(78),u=A(79),m=A(95)};
shadow$provide[97]=function(Ja,A,rb,E){function k(g,d){x.shared.expire()}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(g){return g&&g.__esModule?g:{"default":g}}(A(69));var l=A(71),w=A(72),H=A(75),N=A(78),x=A(81),v=A(94),u=A(96),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,
f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=g.call(this)||this;a.map_=f;return a}m(d,g);d.prototype.dispatchRenderEvent=function(f,a){(0,w["abstract"])()};d.prototype.calculateMatrices2D=function(f){var a=f.viewState,e=f.coordinateToPixelTransform,n=f.pixelToCoordinateTransform;(0,H.compose)(e,f.size[0]/2,f.size[1]/2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,H.makeInverse)(n,
e)};d.prototype.forEachFeatureAtCoordinate=function(f,a,e,n,y,B,D,O){function M(V,ia,aa,ya){return y.call(B,ia,V?aa:null,ya)}var F=a.viewState,z=F.projection,G=(0,u.wrapX)(f.slice(),z),K=[[0,0]];z.canWrapX()&&n&&(n=z.getExtent(),n=(0,N.getWidth)(n),K.push([-n,0],[n,0]));n=a.layerStatesArray;z=n.length;for(var R=[],T=[],ja=0;ja<K.length;ja++)for(var fa=z-1;0<=fa;--fa){var ha=n[fa],la=ha.layer;if(la.hasRenderer()&&(0,v.inView)(ha,F)&&D.call(O,la)){var Z=la.getRenderer();la=la.getSource();if(Z&&la){la=
la.getWrapX()?G:f;ha=M.bind(null,ha.managed);T[0]=la[0]+K[ja][0];T[1]=la[1]+K[ja][1];var P=Z.forEachFeatureAtCoordinate(T,a,e,ha,R)}if(P)return P}}if(0!==R.length){var C=1/R.length;R.forEach(function(V,ia){return V.distanceSq+=ia*C});R.sort(function(V,ia){return V.distanceSq-ia.distanceSq});R.some(function(V){return P=V.callback(V.feature,V.layer,V.geometry)});return P}};d.prototype.forEachLayerAtPixel=function(f,a,e,n,y){return(0,w["abstract"])()};d.prototype.hasFeatureAtCoordinate=function(f,a,
e,n,y,B){return void 0!==this.forEachFeatureAtCoordinate(f,a,e,n,l.TRUE,this,y,B)};d.prototype.getMap=function(){return this.map_};d.prototype.renderFrame=function(f){(0,w["abstract"])()};d.prototype.scheduleExpireIconCache=function(f){x.shared.canExpireCache()&&f.postRenderFunctions.push(k)};return d}(Ja["default"]);E["default"]=A};
shadow$provide[98]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(l){return l&&l.__esModule?l:{"default":l}}(A(82));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ja=function(l){function w(H,N,x,v){H=l.call(this,H)||this;H.inversePixelTransform=N;H.frameState=x;H.context=v;return H}k(w,l);return w}(Ja["default"]);E["default"]=Ja};
shadow$provide[99]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.getFontParameters=E.CLASS_COLLAPSED=E.CLASS_CONTROL=E.CLASS_UNSUPPORTED=E.CLASS_UNSELECTABLE=E.CLASS_SELECTABLE=E.CLASS_HIDDEN=void 0;E.CLASS_HIDDEN="ol-hidden";E.CLASS_SELECTABLE="ol-selectable";E.CLASS_UNSELECTABLE="ol-unselectable";E.CLASS_UNSUPPORTED="ol-unsupported";E.CLASS_CONTROL="ol-control";E.CLASS_COLLAPSED="ol-collapsed";var k=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[\.\d]+(?:\%|in|[cem]m|ex|p[ctx])?))?\s*([-,\"\'\sa-z]+?)\s*$/i,
l="style variant weight size lineHeight family".split(" ");E.getFontParameters=function(w){w=w.match(k);if(!w)return null;for(var H={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},N=0,x=l.length;N<x;++N){var v=w[N+1];void 0!==v&&(H[l[N]]=v)}H.families=H.family.split(/,\s?/);return H}};
shadow$provide[100]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.PASSIVE_EVENT_LISTENERS=E.IMAGE_DECODE=E.WORKER_OFFSCREEN_CANVAS=E.DEVICE_PIXEL_RATIO=E.MAC=E.WEBKIT=E.SAFARI=E.FIREFOX=void 0;Ja="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";A=-1!==Ja.indexOf("firefox");E.FIREFOX=A;A=-1!==Ja.indexOf("safari")&&-1==Ja.indexOf("chrom");E.SAFARI=A;A=-1!==Ja.indexOf("webkit")&&-1==Ja.indexOf("edge");E.WEBKIT=A;Ja=
-1!==Ja.indexOf("macintosh");E.MAC=Ja;E.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;E.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;E.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ja=function(){var k=!1;try{var l=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("_",null,l);window.removeEventListener("_",null,l)}catch(w){}return k}();
E.PASSIVE_EVENT_LISTENERS=Ja};
shadow$provide[101]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createCanvasContext2D=function(l,w,H){H=H&&H.length?H.shift():k.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(l||300,w||300):document.createElement("canvas");l&&(H.width=l);w&&(H.height=w);return H.getContext("2d")};E.outerWidth=function(l){var w=l.offsetWidth;l=getComputedStyle(l);return w+=parseInt(l.marginLeft,10)+parseInt(l.marginRight,10)};E.outerHeight=function(l){var w=l.offsetHeight;l=getComputedStyle(l);
return w+=parseInt(l.marginTop,10)+parseInt(l.marginBottom,10)};E.replaceNode=function(l,w){var H=w.parentNode;H&&H.replaceChild(l,w)};E.removeNode=function(l){return l&&l.parentNode?l.parentNode.removeChild(l):null};E.removeChildren=function(l){for(;l.lastChild;)l.removeChild(l.lastChild)};E.replaceChildren=function(l,w){for(var H=l.childNodes,N=0;;++N){var x=H[N],v=w[N];if(!x&&!v)break;x!==v&&(x?v?l.insertBefore(v,x):(l.removeChild(x),--N):l.appendChild(v))}};var k=A(100)};
shadow$provide[102]=function(Ja,A,rb,E){function k(e){return e&&e.__esModule?e:{"default":e}}function l(e,n){g||(g=(0,x.createCanvasContext2D)(1,1));e!=d&&(g.font=e,d=g.font);return g.measureText(n)}function w(e,n){return l(e,n).width}Object.defineProperty(E,"__esModule",{value:!0});E.measureTextWidth=w;E.measureAndCacheTextWidth=function(e,n,y){if(n in y)return y[n];e=w(e,n);return y[n]=e};E.measureTextWidths=function(e,n,y){for(var B=n.length,D=0,O=0;O<B;++O){var M=w(e,n[O]);D=Math.max(D,M);y.push(M)}return D};
E.rotateAtOffset=function(e,n,y,B){0!==n&&(e.translate(y,B),e.rotate(n),e.translate(-y,-B))};E.drawImageOrLabel=function(e,n,y,B,D,O,M,F,z,G,K){e.save();1!==y&&(e.globalAlpha*=y);n&&e.setTransform.apply(e,n);if(B.contextInstructions)for(e.translate(z,G),e.scale(K[0],K[1]),n=B.contextInstructions,y=0,B=n.length;y<B;y+=2)Array.isArray(n[y+1])?e[n[y]].apply(e,n[y+1]):e[n[y]]=n[y+1];else 0>K[0]||0>K[1]?(e.translate(z,G),e.scale(K[0],K[1]),e.drawImage(B,D,O,M,F,0,0,M,F)):e.drawImage(B,D,O,M,F,z,G,M*K[0],
F*K[1]);e.restore()};E.createTransformString=function(e){if(H.WORKER_OFFSCREEN_CANVAS)return(0,u.toString)(e);a||(a=(0,x.createCanvasContext2D)(1,1).canvas);a.style.transform=(0,u.toString)(e);return a.style.transform};E.measureTextHeight=E.registerFont=E.textHeights=E.labelCache=E.checkedFonts=E.defaultLineWidth=E.defaultPadding=E.defaultTextBaseline=E.defaultTextAlign=E.defaultStrokeStyle=E.defaultMiterLimit=E.defaultLineJoin=E.defaultLineDashOffset=E.defaultLineDash=E.defaultLineCap=E.defaultFillStyle=
E.defaultFont=void 0;Ja=k(A(89));rb=k(A(85));var H=A(100),N=A(84),x=A(101),v=A(99),u=A(75);E.defaultFont="10px sans-serif";E.defaultFillStyle="#000";E.defaultLineCap="round";E.defaultLineDash=[];E.defaultLineDashOffset=0;E.defaultLineJoin="round";E.defaultMiterLimit=10;E.defaultStrokeStyle="#000";E.defaultTextAlign="center";E.defaultTextBaseline="middle";E.defaultPadding=[0,0,0,0];E.defaultLineWidth=1;var m=new Ja["default"];E.checkedFonts=m;A=new rb["default"];E.labelCache=A;A.setSize=function(){console.warn("labelCache is deprecated.")};
var g=null,d,f={};E.textHeights=f;A=function(){function e(M,F,z){for(var G=!0,K=0;K<B;++K){var R=y[K];O=w(M+" "+F+" 32px "+R,"wmytzilWMYTZIL@#/\x26?$%10");z!=R&&(R=w(M+" "+F+" 32px "+z+","+R,"wmytzilWMYTZIL@#/\x26?$%10"),G=G&&R!=O)}return G?!0:!1}function n(){for(var M=!0,F=m.getKeys(),z=0,G=F.length;z<G;++z){var K=F[z];100>m.get(K)&&(e.apply(this,K.split("\n"))?((0,N.clear)(f),g=null,d=void 0,m.set(K,100)):(m.set(K,m.get(K)+1,!0),M=!1))}M&&(clearInterval(D),D=void 0)}var y=["monospace","serif"],
B=y.length,D,O;return function(M){if(M=(0,v.getFontParameters)(M))for(var F=M.families,z=0,G=F.length;z<G;++z){var K=F[z],R=M.style+"\n"+M.weight+"\n"+K;void 0===m.get(R)&&(m.set(R,100,!0),e(M.style,M.weight,K)||(m.set(R,0,!0),void 0===D&&(D=setInterval(n,32))))}}}();E.registerFont=A;A=function(){var e;return function(n){var y=f[n];if(void 0==y){if(H.WORKER_OFFSCREEN_CANVAS){y=(0,v.getFontParameters)(n);var B=l(n,"g");y=(isNaN(Number(y.lineHeight))?1.2:Number(y.lineHeight))*(B.actualBoundingBoxAscent+
B.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.margin="0 !important",e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=n,document.body.appendChild(e),y=e.offsetHeight,document.body.removeChild(e);f[n]=y}return y}}();E.measureTextHeight=A;var a=null};
shadow$provide[103]=function(Ja,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(97));var l=k(A(83)),w=k(A(98)),H=k(A(92)),N=k(A(93)),x=A(99),v=A(102),u=A(94),m=A(87),g=A(101),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){var n=f.call(this,e)||this;n.fontChangeListenerKey_=(0,m.listen)(v.checkedFonts,l["default"].PROPERTYCHANGE,e.redrawText.bind(e));n.element_=document.createElement("div");var y=n.element_.style;y.position="absolute";y.width="100%";y.height="100%";y.zIndex="0";n.element_.className=x.CLASS_UNSELECTABLE+" ol-layers";e=e.getViewport();e.insertBefore(n.element_,
e.firstChild||null);n.children_=[];n.renderedVisible_=!0;return n}d(a,f);a.prototype.dispatchRenderEvent=function(e,n){var y=this.getMap();y.hasListener(e)&&(e=new w["default"](e,void 0,n),y.dispatchEvent(e))};a.prototype.disposeInternal=function(){(0,m.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);f.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e);this.dispatchRenderEvent(H["default"].PRECOMPOSE,
e);var n=e.layerStatesArray.sort(function(G,K){return G.zIndex-K.zIndex}),y=e.viewState;this.children_.length=0;for(var B=[],D=null,O=0,M=n.length;O<M;++O){var F=n[O];e.layerIndex=O;if((0,u.inView)(F,y)&&(F.sourceState==N["default"].READY||F.sourceState==N["default"].UNDEFINED)){F=F.layer;var z=F.render(e,D);z&&(z!==D&&(this.children_.push(z),D=z),"getDeclutter"in F&&B.push(F))}}for(O=B.length-1;0<=O;--O)B[O].renderDeclutter(e);(0,g.replaceChildren)(this.element_,this.children_);this.dispatchRenderEvent(H["default"].POSTCOMPOSE,
e);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(e,n,y,B,D){for(var O=n.viewState,M=n.layerStatesArray,F=M.length-1;0<=F;--F){var z=M[F],G=z.layer;if(G.hasRenderer()&&(0,u.inView)(z,O)&&D(G)&&(z=G.getRenderer().getDataAtPixel(e,n,y))&&(G=B(G,z)))return G}};return a}(Ja["default"]);E["default"]=A};
shadow$provide[104]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ADD:"add",REMOVE:"remove"}};
shadow$provide[105]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CollectionEvent=void 0;var l=k(A(73));Ja=k(A(89));var w=k(A(104));A=k(A(82));var H=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=
v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}(),N=function(x){function v(u,m,g){u=x.call(this,u)||this;u.element=m;u.index=g;return u}H(v,x);return v}(A["default"]);E.CollectionEvent=N;A=function(x){function v(u,m){var g=x.call(this)||this;g.unique_=!!(m||{}).unique;g.array_=u?u:[];if(g.unique_)for(u=0,m=g.array_.length;u<m;++u)g.assertUnique_(g.array_[u],u);g.updateLength_();return g}H(v,x);v.prototype.clear=function(){for(;0<this.getLength();)this.pop()};v.prototype.extend=
function(u){for(var m=0,g=u.length;m<g;++m)this.push(u[m]);return this};v.prototype.forEach=function(u){for(var m=this.array_,g=0,d=m.length;g<d;++g)u(m[g],g,m)};v.prototype.getArray=function(){return this.array_};v.prototype.item=function(u){return this.array_[u]};v.prototype.getLength=function(){return this.get("length")};v.prototype.insertAt=function(u,m){this.unique_&&this.assertUnique_(m);this.array_.splice(u,0,m);this.updateLength_();this.dispatchEvent(new N(w["default"].ADD,m,u))};v.prototype.pop=
function(){return this.removeAt(this.getLength()-1)};v.prototype.push=function(u){this.unique_&&this.assertUnique_(u);var m=this.getLength();this.insertAt(m,u);return this.getLength()};v.prototype.remove=function(u){for(var m=this.array_,g=0,d=m.length;g<d;++g)if(m[g]===u)return this.removeAt(g)};v.prototype.removeAt=function(u){var m=this.array_[u];this.array_.splice(u,1);this.updateLength_();this.dispatchEvent(new N(w["default"].REMOVE,m,u));return m};v.prototype.setAt=function(u,m){var g=this.getLength();
if(u<g)this.unique_&&this.assertUnique_(m,u),g=this.array_[u],this.array_[u]=m,this.dispatchEvent(new N(w["default"].REMOVE,g,u)),this.dispatchEvent(new N(w["default"].ADD,m,u));else{for(;g<u;++g)this.insertAt(g,void 0);this.insertAt(u,m)}};v.prototype.updateLength_=function(){this.set("length",this.array_.length)};v.prototype.assertUnique_=function(u,m){for(var g=0,d=this.array_.length;g<d;++g)if(this.array_[g]===u&&g!==m)throw new l["default"](58);};return v}(Ja["default"]);E["default"]=A};
shadow$provide[106]=function(Ja,A,rb,E){function k(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(91));var l=k(A(105)),w=k(A(104)),H=k(A(86)),N=k(A(83)),x=k(A(93)),v=A(74),u=A(84),m=A(89),g=A(78),d=A(72),f=A(87),a=function(){var e=function(n,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,D){B.__proto__=D}||function(B,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(B[O]=D[O])};return e(n,y)};
return function(n,y){function B(){this.constructor=n}e(n,y);n.prototype=null===y?Object.create(y):(B.prototype=y.prototype,new B)}}();A=function(e){function n(y){var B=y||{};y=(0,u.assign)({},B);delete y.layers;B=B.layers;y=e.call(this,y)||this;y.layersListenerKeys_=[];y.listenerKeys_={};y.addEventListener((0,m.getChangeEventType)("layers"),y.handleLayersChanged_);B?Array.isArray(B)?B=new l["default"](B.slice(),{unique:!0}):(0,v.assert)("function"===typeof B.getArray,43):B=new l["default"](void 0,
{unique:!0});y.setLayers(B);return y}a(n,e);n.prototype.handleLayerChange_=function(){this.changed()};n.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.unlistenByKey);this.layersListenerKeys_.length=0;var y=this.getLayers();this.layersListenerKeys_.push((0,f.listen)(y,w["default"].ADD,this.handleLayersAdd_,this),(0,f.listen)(y,w["default"].REMOVE,this.handleLayersRemove_,this));for(var B in this.listenerKeys_)this.listenerKeys_[B].forEach(f.unlistenByKey);(0,u.clear)(this.listenerKeys_);
y=y.getArray();B=0;for(var D=y.length;B<D;B++){var O=y[B];this.listenerKeys_[(0,d.getUid)(O)]=[(0,f.listen)(O,N["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(O,H["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()};n.prototype.handleLayersAdd_=function(y){y=y.element;this.listenerKeys_[(0,d.getUid)(y)]=[(0,f.listen)(y,N["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,f.listen)(y,H["default"].CHANGE,this.handleLayerChange_,this)];this.changed()};n.prototype.handleLayersRemove_=
function(y){y=y.element;y=(0,d.getUid)(y);this.listenerKeys_[y].forEach(f.unlistenByKey);delete this.listenerKeys_[y];this.changed()};n.prototype.getLayers=function(){return this.get("layers")};n.prototype.setLayers=function(y){this.set("layers",y)};n.prototype.getLayersArray=function(y){var B=void 0!==y?y:[];this.getLayers().forEach(function(D){D.getLayersArray(B)});return B};n.prototype.getLayerStatesArray=function(y){var B=void 0!==y?y:[],D=B.length;this.getLayers().forEach(function(F){F.getLayerStatesArray(B)});
y=this.getLayerState();for(var O=B.length;D<O;D++){var M=B[D];M.opacity*=y.opacity;M.visible=M.visible&&y.visible;M.maxResolution=Math.min(M.maxResolution,y.maxResolution);M.minResolution=Math.max(M.minResolution,y.minResolution);M.minZoom=Math.max(M.minZoom,y.minZoom);M.maxZoom=Math.min(M.maxZoom,y.maxZoom);void 0!==y.extent&&(M.extent=void 0!==M.extent?(0,g.getIntersection)(M.extent,y.extent):y.extent)}return B};n.prototype.getSourceState=function(){return x["default"].READY};return n}(Ja["default"]);
E["default"]=A};
shadow$provide[107]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(l){return l&&l.__esModule?l:{"default":l}}(A(82));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ja=function(l){function w(H,N,x){H=l.call(this,H)||this;H.map=N;H.frameState=void 0!==x?x:null;return H}k(w,l);return w}(Ja["default"]);E["default"]=Ja};
shadow$provide[108]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(l){return l&&l.__esModule?l:{"default":l}}(A(107));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ja=function(l){function w(H,N,x,v,u){H=l.call(this,H,N,u)||this;H.originalEvent=x;H.pixel_=null;H.coordinate_=null;H.dragging=void 0!==v?v:!1;return H}k(w,l);Object.defineProperty(w.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(H){this.pixel_=H},enumerable:!1,configurable:!0});Object.defineProperty(w.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));
return this.coordinate_},set:function(H){this.coordinate_=H},enumerable:!1,configurable:!0});w.prototype.preventDefault=function(){l.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};w.prototype.stopPropagation=function(){l.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};return w}(Ja["default"]);E["default"]=Ja};
shadow$provide[109]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=(Ja=A(86))&&Ja.__esModule?Ja:{"default":Ja};E["default"]={SINGLECLICK:"singleclick",CLICK:Ja["default"].CLICK,DBLCLICK:Ja["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[110]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[111]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(85));var l=k(A(86)),w=k(A(108)),H=k(A(109)),N=k(A(110)),x=A(100),v=A(87),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=
g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(m){function g(d,f){var a=m.call(this,d)||this;a.map_=d;a.emulateClicks_=!1;a.dragging_=!1;a.dragListenerKeys_=[];a.moveTolerance_=f?f*x.DEVICE_PIXEL_RATIO:x.DEVICE_PIXEL_RATIO;a.down_=null;d=a.map_.getViewport();a.activePointers_=0;a.trackedTouches_={};a.element_=d;a.pointerdownListenerKey_=(0,v.listen)(d,N["default"].POINTERDOWN,a.handlePointerDown_,a);a.relayedListenerKey_=(0,v.listen)(d,N["default"].POINTERMOVE,
a.relayEvent_,a);a.boundHandleTouchMove_=a.handleTouchMove_.bind(a);a.element_.addEventListener(l["default"].TOUCHMOVE,a.boundHandleTouchMove_,x.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return a}u(g,m);g.prototype.emulateClick_=function(d){var f=new w["default"](H["default"].CLICK,this.map_,d);this.dispatchEvent(f);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,f=new w["default"](H["default"].DBLCLICK,this.map_,d),this.dispatchEvent(f)):this.clickTimeoutId_=
setTimeout(function(){this.clickTimeoutId_=void 0;var a=new w["default"](H["default"].SINGLECLICK,this.map_,d);this.dispatchEvent(a)}.bind(this),250)};g.prototype.updateActivePointers_=function(d){d.type==H["default"].POINTERUP||d.type==H["default"].POINTERCANCEL?delete this.trackedTouches_[d.pointerId]:d.type==H["default"].POINTERDOWN&&(this.trackedTouches_[d.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};g.prototype.handlePointerUp_=function(d){this.updateActivePointers_(d);
var f=new w["default"](H["default"].POINTERUP,this.map_,d);this.dispatchEvent(f);this.emulateClicks_&&!f.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(d)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(v.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};g.prototype.isMouseActionButton_=function(d){return 0===d.button};g.prototype.handlePointerDown_=function(d){this.emulateClicks_=0===this.activePointers_;this.updateActivePointers_(d);
var f=new w["default"](H["default"].POINTERDOWN,this.map_,d);this.dispatchEvent(f);this.down_=d;0===this.dragListenerKeys_.length&&(d=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,v.listen)(d,H["default"].POINTERMOVE,this.handlePointerMove_,this),(0,v.listen)(d,H["default"].POINTERUP,this.handlePointerUp_,this),(0,v.listen)(this.element_,H["default"].POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==d&&this.dragListenerKeys_.push((0,
v.listen)(this.element_.getRootNode(),H["default"].POINTERUP,this.handlePointerUp_,this)))};g.prototype.handlePointerMove_=function(d){this.isMoving_(d)&&(this.dragging_=!0,d=new w["default"](H["default"].POINTERDRAG,this.map_,d,this.dragging_),this.dispatchEvent(d))};g.prototype.relayEvent_=function(d){this.originalPointerMoveEvent_=d;var f=!(!this.down_||!this.isMoving_(d));this.dispatchEvent(new w["default"](d.type,this.map_,d,f))};g.prototype.handleTouchMove_=function(d){this.originalPointerMoveEvent_&&
!this.originalPointerMoveEvent_.defaultPrevented||d.preventDefault()};g.prototype.isMoving_=function(d){return this.dragging_||Math.abs(d.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(d.clientY-this.down_.clientY)>this.moveTolerance_};g.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,v.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(l["default"].TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&
((0,v.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(v.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;m.prototype.disposeInternal.call(this)};return g}(Ja["default"]);E["default"]=A};
shadow$provide[112]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}};
shadow$provide[113]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[114]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DROP=void 0;var k=A(74),l=A(84);E.DROP=Infinity;Ja=function(){function w(H,N){this.priorityFunction_=H;this.keyFunction_=N;this.elements_=[];this.priorities_=[];this.queuedElements_={}}w.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,l.clear)(this.queuedElements_)};w.prototype.dequeue=function(){var H=this.elements_,N=this.priorities_,x=H[0];1==H.length?(H.length=
0,N.length=0):(H[0]=H.pop(),N[0]=N.pop(),this.siftUp_(0));H=this.keyFunction_(x);delete this.queuedElements_[H];return x};w.prototype.enqueue=function(H){(0,k.assert)(!(this.keyFunction_(H)in this.queuedElements_),31);var N=this.priorityFunction_(H);return Infinity!=N?(this.elements_.push(H),this.priorities_.push(N),this.queuedElements_[this.keyFunction_(H)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};w.prototype.getCount=function(){return this.elements_.length};w.prototype.getLeftChildIndex_=
function(H){return 2*H+1};w.prototype.getRightChildIndex_=function(H){return 2*H+2};w.prototype.getParentIndex_=function(H){return H-1>>1};w.prototype.heapify_=function(){var H;for(H=(this.elements_.length>>1)-1;0<=H;H--)this.siftUp_(H)};w.prototype.isEmpty=function(){return 0===this.elements_.length};w.prototype.isKeyQueued=function(H){return H in this.queuedElements_};w.prototype.isQueued=function(H){return this.isKeyQueued(this.keyFunction_(H))};w.prototype.siftUp_=function(H){for(var N=this.elements_,
x=this.priorities_,v=N.length,u=N[H],m=x[H],g=H;H<v>>1;){var d=this.getLeftChildIndex_(H),f=this.getRightChildIndex_(H);d=f<v&&x[f]<x[d]?f:d;N[H]=N[d];x[H]=x[d];H=d}N[H]=u;x[H]=m;this.siftDown_(g,H)};w.prototype.siftDown_=function(H,N){for(var x=this.elements_,v=this.priorities_,u=x[N],m=v[N];N>H;){var g=this.getParentIndex_(N);if(v[g]>m)x[N]=x[g],v[N]=v[g],N=g;else break}x[N]=u;v[N]=m};w.prototype.reprioritize=function(){var H=this.priorityFunction_,N=this.elements_,x=this.priorities_,v=0,u=N.length,
m;for(m=0;m<u;++m){var g=N[m];var d=H(g);Infinity==d?delete this.queuedElements_[this.keyFunction_(g)]:(x[v]=d,N[v++]=g)}N.length=v;x.length=v;this.heapify_()};return w}();E["default"]=Ja};
shadow$provide[115]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[116]=function(Ja,A,rb,E){function k(u){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};return k(u)}function l(){if("function"!==typeof WeakMap)return null;var u=new WeakMap;l=function(){return u};return u}function w(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E.getTilePriority=function(u,
m,g,d,f){if(!(u&&g in u.wantedTiles&&u.wantedTiles[g][m.getKey()]))return N.DROP;m=u.viewState.center;u=d[0]-m[0];d=d[1]-m[1];return 65536*Math.log(f)+Math.sqrt(u*u+d*d)/f};E["default"]=void 0;var H=w(A(86)),N=function(u){if(u&&u.__esModule)return u;if(null===u||"object"!==k(u)&&"function"!==typeof u)return{"default":u};var m=l();if(m&&m.has(u))return m.get(u);var g={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,f;for(f in u)if(Object.prototype.hasOwnProperty.call(u,f)){var a=d?Object.getOwnPropertyDescriptor(u,
f):null;a&&(a.get||a.set)?Object.defineProperty(g,f,a):g[f]=u[f]}g["default"]=u;m&&m.set(u,g);return g}(A(114)),x=w(A(115)),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();Ja=function(u){function m(g,
d){var f=u.call(this,function(a){return g.apply(null,a)},function(a){return a[0].getKey()})||this;f.boundHandleTileChange_=f.handleTileChange.bind(f);f.tileChangeCallback_=d;f.tilesLoading_=0;f.tilesLoadingKeys_={};return f}v(m,u);m.prototype.enqueue=function(g){var d=u.prototype.enqueue.call(this,g);d&&g[0].addEventListener(H["default"].CHANGE,this.boundHandleTileChange_);return d};m.prototype.getTilesLoading=function(){return this.tilesLoading_};m.prototype.handleTileChange=function(g){g=g.target;
var d=g.getState();if(g.hifi&&d===x["default"].LOADED||d===x["default"].ERROR||d===x["default"].EMPTY)g.removeEventListener(H["default"].CHANGE,this.boundHandleTileChange_),g=g.getKey(),g in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[g],--this.tilesLoading_),this.tileChangeCallback_()};m.prototype.loadMoreTiles=function(g,d){for(var f=0,a,e,n;this.tilesLoading_<g&&f<d&&0<this.getCount();)e=this.dequeue()[0],n=e.getKey(),a=e.getState(),a!==x["default"].IDLE||n in this.tilesLoadingKeys_||
(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++f,e.load())};return m}(N["default"]);E["default"]=Ja};
shadow$provide[117]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[118]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.METERS_PER_UNIT=void 0;Ja={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};A={};E.METERS_PER_UNIT=A;A[Ja.DEGREES]=12741994*Math.PI/360;A[Ja.FEET]=.3048;A[Ja.METERS]=1;A[Ja.USFEET]=1200/3937;E["default"]=Ja};
shadow$provide[119]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ANIMATING:0,INTERACTING:1}};
shadow$provide[120]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[121]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.DEFAULT_MAX_ZOOM=42;E.DEFAULT_TILE_SIZE=256};
shadow$provide[122]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(118);Ja=function(){function l(w){this.code_=w.code;this.units_=w.units;this.extent_=void 0!==w.extent?w.extent:null;this.worldExtent_=void 0!==w.worldExtent?w.worldExtent:null;this.axisOrientation_=void 0!==w.axisOrientation?w.axisOrientation:"enu";this.global_=void 0!==w.global?w.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=w.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=w.metersPerUnit}l.prototype.canWrapX=function(){return this.canWrapX_};l.prototype.getCode=function(){return this.code_};l.prototype.getExtent=function(){return this.extent_};l.prototype.getUnits=function(){return this.units_};l.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||k.METERS_PER_UNIT[this.units_]};l.prototype.getWorldExtent=function(){return this.worldExtent_};l.prototype.getAxisOrientation=function(){return this.axisOrientation_};
l.prototype.isGlobal=function(){return this.global_};l.prototype.setGlobal=function(w){this.global_=w;this.canWrapX_=!(!w||!this.extent_)};l.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};l.prototype.setDefaultTileGrid=function(w){this.defaultTileGrid_=w};l.prototype.setExtent=function(w){this.extent_=w;this.canWrapX_=!(!this.global_||!w)};l.prototype.setWorldExtent=function(w){this.worldExtent_=w};l.prototype.setGetPointResolution=function(w){this.getPointResolutionFunc_=w};
l.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return l}();E["default"]=Ja};
shadow$provide[123]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E.fromEPSG4326=function(m,g,d){var f=m.length;d=1<d?d:2;void 0===g&&(g=2<d?m.slice():Array(f));for(var a=0;a<f;a+=d){g[a]=N*m[a]/180;var e=6378137*Math.log(Math.tan(Math.PI*(+m[a+1]+90)/360));e>u?e=u:e<-u&&(e=-u);g[a+1]=e}return g};E.toEPSG4326=function(m,g,d){var f=m.length;d=1<d?d:2;void 0===g&&(g=2<d?m.slice():Array(f));for(var a=0;a<f;a+=d)g[a]=180*m[a]/
N,g[a+1]=360*Math.atan(Math.exp(m[a+1]/6378137))/Math.PI-90;return g};E.PROJECTIONS=E.MAX_SAFE_Y=E.WORLD_EXTENT=E.EXTENT=E.HALF_SIZE=E.RADIUS=void 0;Ja=k(A(122));var l=k(A(118)),w=A(79),H=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):
(f.prototype=d.prototype,new f)}}();E.RADIUS=6378137;var N=6378137*Math.PI;E.HALF_SIZE=N;var x=[-N,-N,N,N];E.EXTENT=x;var v=[-180,-85,180,85];E.WORLD_EXTENT=v;var u=6378137*Math.log(Math.tan(Math.PI/2));E.MAX_SAFE_Y=u;A=function(m){function g(d){return m.call(this,{code:d,units:l["default"].METERS,extent:x,global:!0,worldExtent:v,getPointResolution:function(f,a){return f/(0,w.cosh)(a[1]/6378137)}})||this}H(g,m);return g}(Ja["default"]);A=[new A("EPSG:3857"),new A("EPSG:102100"),new A("EPSG:102113"),
new A("EPSG:900913"),new A("http://www.opengis.net/gml/srs/epsg.xml#3857")];E.PROJECTIONS=A};
shadow$provide[124]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E.PROJECTIONS=E.METERS_PER_UNIT=E.EXTENT=E.RADIUS=void 0;Ja=k(A(122));var l=k(A(118)),w=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}
x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();E.RADIUS=6378137;var H=[-180,-90,180,90];E.EXTENT=H;var N=6378137*Math.PI/180;E.METERS_PER_UNIT=N;A=function(x){function v(u,m){return x.call(this,{code:u,units:l["default"].DEGREES,extent:H,axisOrientation:m,global:!0,metersPerUnit:N,worldExtent:H})||this}w(v,x);return v}(Ja["default"]);A=[new A("CRS:84"),new A("EPSG:4326","neu"),new A("urn:ogc:def:crs:OGC:1.3:CRS84"),new A("urn:ogc:def:crs:OGC:2:84"),new A("http://www.opengis.net/gml/srs/epsg.xml#4326",
"neu")];E.PROJECTIONS=A};
shadow$provide[125]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(){k={}};E.get=function(l){return k[l]||k[l.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};E.add=function(l,w){k[l]=w};var k={}};
shadow$provide[126]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.clear=function(){l={}};E.add=function(w,H,N){w=w.getCode();H=H.getCode();w in l||(l[w]={});l[w][H]=N};E.remove=function(w,H){w=w.getCode();H=H.getCode();var N=l[w][H];delete l[w][H];(0,k.isEmpty)(l[w])&&delete l[w];return N};E.get=function(w,H){var N;w in l&&H in l[w]&&(N=l[w][H]);return N};var k=A(84),l={}};
shadow$provide[127]=function(Ja,A,rb,E){function k(m,g,d){d=d||u;var f=(0,v.toRadians)(m[1]),a=(0,v.toRadians)(g[1]),e=(a-f)/2;m=(0,v.toRadians)(g[0]-m[0])/2;m=Math.sin(e)*Math.sin(e)+Math.sin(m)*Math.sin(m)*Math.cos(f)*Math.cos(a);return 2*d*Math.atan2(Math.sqrt(m),Math.sqrt(1-m))}function l(m,g){for(var d=0,f=0,a=m.length;f<a-1;++f)d+=k(m[f],m[f+1],g);return d}function w(m,g){var d=g||{},f=d.radius||u;d=d.projection||"EPSG:3857";var a=m.getType();a!==x["default"].GEOMETRY_COLLECTION&&(m=m.clone().transform(d,
"EPSG:4326"));d=0;var e;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:break;case x["default"].LINE_STRING:case x["default"].LINEAR_RING:g=m.getCoordinates();d=l(g,f);break;case x["default"].MULTI_LINE_STRING:case x["default"].POLYGON:g=m.getCoordinates();m=0;for(a=g.length;m<a;++m)d+=l(g[m],f);break;case x["default"].MULTI_POLYGON:g=m.getCoordinates();m=0;for(a=g.length;m<a;++m){var n=g[m];var y=0;for(e=n.length;y<e;++y)d+=l(n[y],f)}break;case x["default"].GEOMETRY_COLLECTION:f=
m.getGeometries();m=0;for(a=f.length;m<a;++m)d+=w(f[m],g);break;default:throw Error("Unsupported geometry type: "+a);}return d}function H(m,g){for(var d=0,f=m.length,a=m[f-1][0],e=m[f-1][1],n=0;n<f;n++){var y=m[n][0],B=m[n][1];d+=(0,v.toRadians)(y-a)*(2+Math.sin((0,v.toRadians)(e))+Math.sin((0,v.toRadians)(B)));a=y;e=B}return d*g*g/2}function N(m,g){var d=g||{},f=d.radius||u;d=d.projection||"EPSG:3857";var a=m.getType();a!==x["default"].GEOMETRY_COLLECTION&&(m=m.clone().transform(d,"EPSG:4326"));
d=0;var e;switch(a){case x["default"].POINT:case x["default"].MULTI_POINT:case x["default"].LINE_STRING:case x["default"].MULTI_LINE_STRING:case x["default"].LINEAR_RING:break;case x["default"].POLYGON:g=m.getCoordinates();d=Math.abs(H(g[0],f));m=1;for(a=g.length;m<a;++m)d-=Math.abs(H(g[m],f));break;case x["default"].MULTI_POLYGON:g=m.getCoordinates();m=0;for(a=g.length;m<a;++m){var n=g[m];d+=Math.abs(H(n[0],f));var y=1;for(e=n.length;y<e;++y)d-=Math.abs(H(n[y],f))}break;case x["default"].GEOMETRY_COLLECTION:f=
m.getGeometries();m=0;for(a=f.length;m<a;++m)d+=N(f[m],g);break;default:throw Error("Unsupported geometry type: "+a);}return d}Object.defineProperty(E,"__esModule",{value:!0});E.getDistance=k;E.getLength=w;E.getArea=N;E.offset=function(m,g,d,f){var a=f||u;f=(0,v.toRadians)(m[1]);m=(0,v.toRadians)(m[0]);a=g/a;g=Math.asin(Math.sin(f)*Math.cos(a)+Math.cos(f)*Math.sin(a)*Math.cos(d));d=m+Math.atan2(Math.sin(d)*Math.sin(a)*Math.cos(f),Math.cos(a)-Math.sin(f)*Math.sin(g));return[(0,v.toDegrees)(d),(0,v.toDegrees)(g)]};
E.DEFAULT_RADIUS=void 0;var x=function(m){return m&&m.__esModule?m:{"default":m}}(A(117)),v=A(79),u=6371008.8;E.DEFAULT_RADIUS=u};
shadow$provide[128]=function(Ja,A,rb,E){function k(fa){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ha){return typeof ha}:function(ha){return ha&&"function"===typeof Symbol&&ha.constructor===Symbol&&ha!==Symbol.prototype?"symbol":typeof ha};return k(fa)}function l(){if("function"!==typeof WeakMap)return null;var fa=new WeakMap;l=function(){return fa};return fa}function w(fa,ha,la){if(void 0!==ha){la=0;for(var Z=fa.length;la<Z;++la)ha[la]=fa[la];fa=ha}else fa=fa.slice();
return fa}function H(fa,ha,la){if(void 0!==ha&&fa!==ha){la=0;for(var Z=fa.length;la<Z;++la)ha[la]=fa[la];fa=ha}return fa}function N(fa){(0,F.add)(fa.getCode(),fa);(0,z.add)(fa,fa,w)}function x(fa){fa.forEach(N)}function v(fa){return"string"===typeof fa?(0,F.get)(fa):fa||null}function u(fa){x(fa);fa.forEach(function(ha){fa.forEach(function(la){ha!==la&&(0,z.add)(ha,la,w)})})}function m(fa,ha,la,Z){fa.forEach(function(P){ha.forEach(function(C){(0,z.add)(P,C,la);(0,z.add)(C,P,Z)})})}function g(fa){return function(ha,
la,Z){var P=ha.length;Z=void 0!==Z?Z:2;la=void 0!==la?la:Array(P);for(var C=0;C<P;C+=Z){var V=fa([ha[C],ha[C+1]]);la[C]=V[0];la[C+1]=V[1];for(V=Z-1;2<=V;--V)la[C+V]=ha[C+V]}return la}}function d(fa,ha){fa=fa.getCode();ha=ha.getCode();(ha=(0,z.get)(fa,ha))||(ha=H);return ha}function f(fa,ha){fa=v(fa);ha=v(ha);return d(fa,ha)}function a(fa,ha,la){return f(ha,la)(fa,void 0,fa.length)}function e(fa,ha,la,Z){ha=f(ha,la);return(0,G.applyTransform)(fa,ha,void 0,Z)}function n(fa){ja=v(fa)}function y(){u(O.PROJECTIONS);
u(M.PROJECTIONS);m(M.PROJECTIONS,O.PROJECTIONS,O.fromEPSG4326,O.toEPSG4326)}Object.defineProperty(E,"__esModule",{value:!0});E.cloneTransform=w;E.identityTransform=H;E.addProjection=N;E.addProjections=x;E.get=v;E.getPointResolution=function(fa,ha,la,Z){fa=v(fa);var P=fa.getPointResolutionFunc();if(P)ha=P(ha,la),Z&&Z!==fa.getUnits()&&(fa=fa.getMetersPerUnit())&&(ha=ha*fa/D.METERS_PER_UNIT[Z]);else{var C=fa.getUnits();C==D["default"].DEGREES&&!Z||Z==D["default"].DEGREES||(P=d(fa,v("EPSG:4326")),P===
H&&C!==D["default"].DEGREES?ha*=fa.getMetersPerUnit():(ha=[la[0]-ha/2,la[1],la[0]+ha/2,la[1],la[0],la[1]-ha/2,la[0],la[1]+ha/2],ha=P(ha,ha,2),la=(0,R.getDistance)(ha.slice(0,2),ha.slice(2,4)),ha=(0,R.getDistance)(ha.slice(4,6),ha.slice(6,8)),ha=(la+ha)/2),fa=Z?D.METERS_PER_UNIT[Z]:fa.getMetersPerUnit(),void 0!==fa&&(ha/=fa))}return ha};E.addEquivalentProjections=u;E.addEquivalentTransforms=m;E.clearAllProjections=function(){(0,F.clear)();(0,z.clear)()};E.createProjection=function(fa,ha){return fa?
"string"===typeof fa?v(fa):fa:v(ha)};E.createTransformFromCoordinateTransform=g;E.addCoordinateTransforms=function(fa,ha,la,Z){fa=v(fa);ha=v(ha);(0,z.add)(fa,ha,g(la));(0,z.add)(ha,fa,g(Z))};E.fromLonLat=function(fa,ha){return a(fa,"EPSG:4326",void 0!==ha?ha:"EPSG:3857")};E.toLonLat=function(fa,ha){fa=a(fa,void 0!==ha?ha:"EPSG:3857","EPSG:4326");ha=fa[0];if(-180>ha||180<ha)fa[0]=(0,K.modulo)(ha+180,360)-180;return fa};E.equivalent=function(fa,ha){if(fa===ha)return!0;var la=fa.getUnits()===ha.getUnits();
return fa.getCode()===ha.getCode()?la:d(fa,ha)===w&&la};E.getTransformFromProjections=d;E.getTransform=f;E.transform=a;E.transformExtent=e;E.transformWithProjections=function(fa,ha,la){return d(ha,la)(fa)};E.setUserProjection=n;E.clearUserProjection=function(){ja=null};E.getUserProjection=function(){return ja};E.useGeographic=function(){n("EPSG:4326")};E.toUserCoordinate=function(fa,ha){return ja?a(fa,ha,ja):fa};E.fromUserCoordinate=function(fa,ha){return ja?a(fa,ja,ha):fa};E.toUserExtent=function(fa,
ha){return ja?e(fa,ha,ja):fa};E.fromUserExtent=function(fa,ha){return ja?e(fa,ja,ha):fa};E.createSafeCoordinateTransform=function(fa,ha,la){return function(Z){var P=Z[0],C=Z[1],V;if(fa.canWrapX()){var ia=fa.getExtent(),aa=(0,G.getWidth)(ia);(V=(0,T.getWorldsAway)(Z,fa,aa))&&(P-=V*aa);P=(0,K.clamp)(P,ia[0],ia[2]);C=(0,K.clamp)(C,ia[1],ia[3]);Z=la([P,C])}else Z=la(Z);V&&ha.canWrapX()&&(Z[0]+=V*(0,G.getWidth)(ha.getExtent()));return Z}};E.addCommon=y;Object.defineProperty(E,"Projection",{enumerable:!0,
get:function(){return B["default"]}});Object.defineProperty(E,"METERS_PER_UNIT",{enumerable:!0,get:function(){return D.METERS_PER_UNIT}});var B=function(fa){return fa&&fa.__esModule?fa:{"default":fa}}(A(122)),D=function(fa){if(fa&&fa.__esModule)return fa;if(null===fa||"object"!==k(fa)&&"function"!==typeof fa)return{"default":fa};var ha=l();if(ha&&ha.has(fa))return ha.get(fa);var la={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor,P;for(P in fa)if(Object.prototype.hasOwnProperty.call(fa,
P)){var C=Z?Object.getOwnPropertyDescriptor(fa,P):null;C&&(C.get||C.set)?Object.defineProperty(la,P,C):la[P]=fa[P]}la["default"]=fa;ha&&ha.set(fa,la);return la}(A(118)),O=A(123),M=A(124),F=A(125),z=A(126),G=A(78),K=A(79),R=A(127),T=A(96),ja=null;y()};
shadow$provide[129]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createExtent=function(l,w,H){return function(N,x,v,u,m){if(N){var g=w?0:v[0]*x,d=w?0:v[1]*x;v=m?m[0]:0;var f=m?m[1]:0;m=l[0]+g/2+v;g=l[2]-g/2+v;v=l[1]+d/2+f;d=l[3]-d/2+f;m>g&&(g=m=(g+m)/2);v>d&&(d=v=(d+v)/2);f=(0,k.clamp)(N[0],m,g);var a=(0,k.clamp)(N[1],v,d);x*=30;u&&H&&(f+=-x*Math.log(1+Math.max(0,m-N[0])/x)+x*Math.log(1+Math.max(0,N[0]-g)/x),a+=-x*Math.log(1+Math.max(0,v-N[1])/x)+x*Math.log(1+Math.max(0,
N[1]-d)/x));return[f,a]}}};E.none=function(l){return l};var k=A(79)};
shadow$provide[130]=function(Ja,A,rb,E){function k(x,v,u,m){var g=(0,H.getWidth)(v)/u[0];v=(0,H.getHeight)(v)/u[1];return m?Math.min(x,Math.max(g,v)):Math.min(x,Math.min(g,v))}function l(x,v,u){var m=Math.min(x,v);m*=Math.log(1+50*Math.max(0,x/v-1))/50+1;u&&(m=Math.max(m,u),m/=Math.log(1+50*Math.max(0,u/x-1))/50+1);return(0,w.clamp)(m,u/2,2*v)}Object.defineProperty(E,"__esModule",{value:!0});E.createSnapToResolutions=function(x,v,u,m){return function(g,d,f,a){if(void 0!==g){var e=x[0],n=x[x.length-
1];f=u?k(e,u,f,m):e;if(a)return void 0===v||v?l(g,f,n):(0,w.clamp)(g,n,f);g=Math.min(f,g);d=Math.floor((0,N.linearFindNearest)(x,g,d));return x[d]>f&&d<x.length-1?x[d+1]:x[d]}}};E.createSnapToPower=function(x,v,u,m,g,d){return function(f,a,e,n){if(void 0!==f){e=g?k(v,g,e,d):v;var y=void 0!==u?u:0;if(n)return void 0===m||m?l(f,e,y):(0,w.clamp)(f,y,e);f=v/Math.pow(x,Math.max(Math.ceil(Math.log(v/e)/Math.log(x)-1E-9),Math.floor(Math.log(v/Math.min(e,f))/Math.log(x)+(-a*(.5-1E-9)+.5))));return(0,w.clamp)(f,
y,e)}}};E.createMinMaxResolution=function(x,v,u,m,g){return function(d,f,a,e){if(void 0!==d)return f=m?k(x,m,a,g):x,void 0!==u&&!u||!e?(0,w.clamp)(d,v,f):l(d,f,v)}};var w=A(79),H=A(78),N=A(70)};
shadow$provide[131]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.disable=function(l){if(void 0!==l)return 0};E.none=function(l){if(void 0!==l)return l};E.createSnapToN=function(l){var w=2*Math.PI/l;return function(H,N){if(N)return H;if(void 0!==H)return H=Math.floor(H/w+.5)*w}};E.createSnapToZero=function(l){var w=l||(0,k.toRadians)(5);return function(H,N){if(N)return H;if(void 0!==H)return Math.abs(H)<=w?0:H}};var k=A(79)};
shadow$provide[132]=function(Ja,A,rb,E){function k(w){return Math.pow(w,3)}function l(w){return 3*w*w-2*w*w*w}Object.defineProperty(E,"__esModule",{value:!0});E.easeIn=k;E.easeOut=function(w){return 1-k(1-w)};E.inAndOut=l;E.linear=function(w){return w};E.upAndDown=function(w){return.5>w?l(2*w):1-l(2*(w-.5))}};
shadow$provide[133]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[134]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.transform2D=function(k,l,w,H,N,x){for(var v=x?x:[],u=0;l<w;l+=H){var m=k[l],g=k[l+1];v[u++]=N[0]*m+N[2]*g+N[4];v[u++]=N[1]*m+N[3]*g+N[5]}x&&v.length!=u&&(v.length=u);return v};E.rotate=function(k,l,w,H,N,x,v){var u=v?v:[],m=Math.cos(N);N=Math.sin(N);var g=x[0];x=x[1];for(var d=0;l<w;l+=H){var f=k[l]-g,a=k[l+1]-x;u[d++]=g+f*m-a*N;u[d++]=x+f*N+a*m;for(f=l+2;f<l+H;++f)u[d++]=k[f]}v&&u.length!=d&&(u.length=d);return u};
E.scale=function(k,l,w,H,N,x,v,u){var m=u?u:[],g=v[0];v=v[1];for(var d=0;l<w;l+=H){var f=k[l]-g,a=k[l+1]-v;m[d++]=g+N*f;m[d++]=v+x*a;for(f=l+2;f<l+H;++f)m[d++]=k[f]}u&&m.length!=d&&(m.length=d);return m};E.translate=function(k,l,w,H,N,x,v){for(var u=v?v:[],m=0;l<w;l+=H){u[m++]=k[l]+N;u[m++]=k[l+1]+x;for(var g=l+2;g<l+H;++g)u[m++]=k[g]}v&&u.length!=m&&(u.length=m);return u}};
shadow$provide[135]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(89));var l=k(A(118)),w=A(72),H=A(75),N=A(78),x=A(128),v=A(71),u=A(134),m=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),g=(0,H.create)();A=function(d){function f(){var a=d.call(this)||this;a.extent_=(0,N.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,v.memoizeOne)(function(e,n,y){if(!y)return this.getSimplifiedGeometry(n);e=this.clone();e.applyTransform(y);return e.getSimplifiedGeometry(n)});return a}m(f,d);f.prototype.simplifyTransformed=
function(a,e){return this.simplifyTransformedInternal(this.getRevision(),a,e)};f.prototype.clone=function(){return(0,w["abstract"])()};f.prototype.closestPointXY=function(a,e,n,y){return(0,w["abstract"])()};f.prototype.containsXY=function(a,e){var n=this.getClosestPoint([a,e]);return n[0]===a&&n[1]===e};f.prototype.getClosestPoint=function(a,e){e=e?e:[NaN,NaN];this.closestPointXY(a[0],a[1],e,Infinity);return e};f.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};f.prototype.computeExtent=
function(a){return(0,w["abstract"])()};f.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,N.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,N.returnOrUpdate)(this.extent_,a)};f.prototype.rotate=function(a,e){(0,w["abstract"])()};f.prototype.scale=function(a,e,n){(0,w["abstract"])()};f.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};f.prototype.getSimplifiedGeometry=
function(a){return(0,w["abstract"])()};f.prototype.getType=function(){return(0,w["abstract"])()};f.prototype.applyTransform=function(a){(0,w["abstract"])()};f.prototype.intersectsExtent=function(a){return(0,w["abstract"])()};f.prototype.translate=function(a,e){(0,w["abstract"])()};f.prototype.transform=function(a,e){var n=(0,x.get)(a);a=n.getUnits()==l["default"].TILE_PIXELS?function(y,B,D){var O=n.getExtent(),M=n.getWorldExtent();O=(0,N.getHeight)(M)/(0,N.getHeight)(O);(0,H.compose)(g,M[0],M[3],
O,-O,0,0,0);(0,u.transform2D)(y,0,y.length,D,g,B);return(0,x.getTransform)(n,e)(y,B,D)}:(0,x.getTransform)(n,e);this.applyTransform(a);return this};return f}(Ja["default"]);E["default"]=A};
shadow$provide[136]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}function l(u){var m;u==w["default"].XY?m=2:u==w["default"].XYZ||u==w["default"].XYM?m=3:u==w["default"].XYZM&&(m=4);return m}Object.defineProperty(E,"__esModule",{value:!0});E.getStrideForLayout=l;E.transformGeom2D=function(u,m,g){var d=u.getFlatCoordinates();return d?(u=u.getStride(),(0,x.transform2D)(d,0,d.length,u,m,g)):null};E["default"]=void 0;Ja=k(A(135));var w=k(A(133)),H=A(72),N=A(78),x=A(134),v=function(){var u=
function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(){var g=u.call(this)||this;g.layout=w["default"].XY;g.stride=2;g.flatCoordinates=null;return g}v(m,u);m.prototype.computeExtent=function(g){return(0,
N.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,g)};m.prototype.getCoordinates=function(){return(0,H["abstract"])()};m.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};m.prototype.getFlatCoordinates=function(){return this.flatCoordinates};m.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};m.prototype.getLayout=function(){return this.layout};
m.prototype.getSimplifiedGeometry=function(g){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>g||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&g<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var d=this.getSimplifiedGeometryInternal(g);if(d.getFlatCoordinates().length<this.flatCoordinates.length)return d;this.simplifiedGeometryMaxMinSquaredTolerance=g;return this};m.prototype.getSimplifiedGeometryInternal=
function(g){return this};m.prototype.getStride=function(){return this.stride};m.prototype.setFlatCoordinates=function(g,d){this.stride=l(g);this.layout=g;this.flatCoordinates=d};m.prototype.setCoordinates=function(g,d){(0,H["abstract"])()};m.prototype.setLayout=function(g,d,f){if(g)d=l(g);else{for(g=0;g<f;++g){if(0===d.length){this.layout=w["default"].XY;this.stride=2;return}d=d[0]}d=d.length;if(2==d)var a=w["default"].XY;else 3==d?a=w["default"].XYZ:4==d&&(a=w["default"].XYZM);g=a}this.layout=g;
this.stride=d};m.prototype.applyTransform=function(g){this.flatCoordinates&&(g(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};m.prototype.rotate=function(g,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,x.rotate)(f,0,f.length,a,g,d,f);this.changed()}};m.prototype.scale=function(g,d,f){void 0===d&&(d=g);f||(f=(0,N.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var e=this.getStride();(0,x.scale)(a,0,a.length,e,g,d,f,a);this.changed()}};
m.prototype.translate=function(g,d){var f=this.getFlatCoordinates();if(f){var a=this.getStride();(0,x.translate)(f,0,f.length,a,g,d,f);this.changed()}};return m}(Ja["default"]);E["default"]=A};
shadow$provide[137]=function(Ja,A,rb,E){function k(v,u,m,g,d,f,a){var e=v[u],n=v[u+1],y=v[m]-e,B=v[m+1]-n;if(0!==y||0!==B)if(f=((d-e)*y+(f-n)*B)/(y*y+B*B),1<f)u=m;else if(0<f){for(d=0;d<g;++d)a[d]=(0,x.lerp)(v[u+d],v[m+d],f);a.length=g;return}for(d=0;d<g;++d)a[d]=v[u+d];a.length=g}function l(v,u,m,g,d){var f=v[u],a=v[u+1];for(u+=g;u<m;u+=g){var e=v[u],n=v[u+1];f=(0,x.squaredDistance)(f,a,e,n);f>d&&(d=f);f=e;a=n}return d}function w(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){var e=m[f];d=l(v,u,e,g,
d);u=e}return d}function H(v,u,m,g,d,f,a,e,n,y,B){if(u==m)return y;if(0===d){var D=(0,x.squaredDistance)(a,e,v[u],v[u+1]);if(D<y){for(B=0;B<g;++B)n[B]=v[u+B];n.length=g;return D}return y}for(var O=B?B:[NaN,NaN],M=u+g;M<m;)if(k(v,M-g,M,g,a,e,O),D=(0,x.squaredDistance)(a,e,O[0],O[1]),D<y){y=D;for(B=0;B<g;++B)n[B]=O[B];n.length=g;M+=g}else M+=g*Math.max((Math.sqrt(D)-Math.sqrt(y))/d|0,1);if(f&&(k(v,m-g,u,g,a,e,O),D=(0,x.squaredDistance)(a,e,O[0],O[1]),D<y)){y=D;for(B=0;B<g;++B)n[B]=O[B];n.length=g}return y}
function N(v,u,m,g,d,f,a,e,n,y,B){B=B?B:[NaN,NaN];for(var D=0,O=m.length;D<O;++D){var M=m[D];y=H(v,u,M,g,d,f,a,e,n,y,B);u=M}return y}Object.defineProperty(E,"__esModule",{value:!0});E.maxSquaredDelta=l;E.arrayMaxSquaredDelta=w;E.multiArrayMaxSquaredDelta=function(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){var e=m[f];d=w(v,u,e,g,d);u=e[e.length-1]}return d};E.assignClosestPoint=H;E.assignClosestArrayPoint=N;E.assignClosestMultiArrayPoint=function(v,u,m,g,d,f,a,e,n,y,B){B=B?B:[NaN,NaN];for(var D=0,
O=m.length;D<O;++D){var M=m[D];y=N(v,u,M,g,d,f,a,e,n,y,B);u=M[M.length-1]}return y};var x=A(79)};
shadow$provide[138]=function(Ja,A,rb,E){function k(w,H,N,x){for(var v=0,u=N.length;v<u;++v)for(var m=N[v],g=0;g<x;++g)w[H++]=m[g];return H}function l(w,H,N,x,v){v=v?v:[];for(var u=0,m=0,g=N.length;m<g;++m)H=k(w,H,N[m],x),v[u++]=H;v.length=u;return v}Object.defineProperty(E,"__esModule",{value:!0});E.deflateCoordinate=function(w,H,N,x){x=0;for(var v=N.length;x<v;++x)w[H++]=N[x];return H};E.deflateCoordinates=k;E.deflateCoordinatesArray=l;E.deflateMultiCoordinatesArray=function(w,H,N,x,v){v=v?v:[];
for(var u=0,m=0,g=N.length;m<g;++m)H=l(w,H,N[m],x,v[u]),v[u++]=H,H=H[H.length-1];v.length=u;return v}};
shadow$provide[139]=function(Ja,A,rb,E){function k(u,m,g,d,f,a,e){var n=(g-m)/d;if(3>n){for(;m<g;m+=d)a[e++]=u[m],a[e++]=u[m+1];return e}var y=Array(n);y[0]=1;y[n-1]=1;g=[m,g-d];for(var B=0;0<g.length;){for(var D=g.pop(),O=g.pop(),M=0,F=u[O],z=u[O+1],G=u[D],K=u[D+1],R=O+d;R<D;R+=d){var T=u[R],ja=u[R+1];T=(0,v.squaredSegmentDistance)(T,ja,F,z,G,K);T>M&&(B=R,M=T)}M>f&&(y[(B-m)/d]=1,O+d<B&&g.push(O,B),B+d<D&&g.push(B,D))}for(R=0;R<n;++R)y[R]&&(a[e++]=u[m+R*d],a[e++]=u[m+R*d+1]);return e}function l(u,
m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y];e=k(u,m,D,d,f,a,e);n.push(e);m=D}return e}function w(u,m,g,d,f,a,e){if(g<=m+d){for(;m<g;m+=d)a[e++]=u[m],a[e++]=u[m+1];return e}var n=u[m],y=u[m+1];a[e++]=n;a[e++]=y;var B=n,D=y;for(m+=d;m<g;m+=d)B=u[m],D=u[m+1],(0,v.squaredDistance)(n,y,B,D)>f&&(a[e++]=B,a[e++]=D,n=B,y=D);if(B!=n||D!=y)a[e++]=B,a[e++]=D;return e}function H(u,m){return m*Math.round(u/m)}function N(u,m,g,d,f,a,e){if(m==g)return e;var n=H(u[m],f),y=H(u[m+1],f);m+=d;a[e++]=n;
a[e++]=y;do{var B=H(u[m],f);var D=H(u[m+1],f);m+=d;if(m==g)return a[e++]=B,a[e++]=D,e}while(B==n&&D==y);for(;m<g;){var O=H(u[m],f),M=H(u[m+1],f);m+=d;if(O!=B||M!=D){var F=B-n,z=D-y,G=O-n,K=M-y;F*K==z*G&&(0>F&&G<F||F==G||0<F&&G>F)&&(0>z&&K<z||z==K||0<z&&K>z)||(a[e++]=B,a[e++]=D,n=B,y=D);B=O;D=M}}a[e++]=B;a[e++]=D;return e}function x(u,m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y];e=N(u,m,D,d,f,a,e);n.push(e);m=D}return e}Object.defineProperty(E,"__esModule",{value:!0});E.simplifyLineString=
function(u,m,g,d,f,a,e){e=void 0!==e?e:[];a||(g=w(u,m,g,d,f,e,0),u=e,m=0,d=2);e.length=k(u,m,g,d,f,e,0);return e};E.douglasPeucker=k;E.douglasPeuckerArray=l;E.douglasPeuckerMultiArray=function(u,m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y],O=[];e=l(u,m,D,d,f,a,e,O);n.push(O);m=D[D.length-1]}return e};E.radialDistance=w;E.snap=H;E.quantize=N;E.quantizeArray=x;E.quantizeMultiArray=function(u,m,g,d,f,a,e,n){for(var y=0,B=g.length;y<B;++y){var D=g[y],O=[];e=x(u,m,D,d,f,a,e,O);n.push(O);m=
D[D.length-1]}return e};var v=A(79)};
shadow$provide[140]=function(Ja,A,rb,E){function k(w,H,N,x,v){v=void 0!==v?v:[];for(var u=0;H<N;H+=x)v[u++]=w.slice(H,H+x);v.length=u;return v}function l(w,H,N,x,v){v=void 0!==v?v:[];for(var u=0,m=0,g=N.length;m<g;++m){var d=N[m];v[u++]=k(w,H,d,x,v[u]);H=d}v.length=u;return v}Object.defineProperty(E,"__esModule",{value:!0});E.inflateCoordinates=k;E.inflateCoordinatesArray=l;E.inflateMultiCoordinatesArray=function(w,H,N,x,v){v=void 0!==v?v:[];for(var u=0,m=0,g=N.length;m<g;++m){var d=N[m];v[u++]=l(w,
H,d,x,v[u]);H=d[d.length-1]}v.length=u;return v}};
shadow$provide[141]=function(Ja,A,rb,E){function k(w,H,N,x){for(var v=0,u=w[N-x],m=w[N-x+1];H<N;H+=x){var g=w[H],d=w[H+1];v+=m*g-u*d;u=g;m=d}return v/2}function l(w,H,N,x){for(var v=0,u=0,m=N.length;u<m;++u){var g=N[u];v+=k(w,H,g,x);H=g}return v}Object.defineProperty(E,"__esModule",{value:!0});E.linearRing=k;E.linearRings=l;E.linearRingss=function(w,H,N,x){for(var v=0,u=0,m=N.length;u<m;++u){var g=N[u];v+=l(w,H,g,x);H=g[g.length-1]}return v}};
shadow$provide[142]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117));Ja=k(A(136));var H=A(137),N=A(78),x=A(138),v=A(139),u=A(140),m=A(141),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e){var n=d.call(this)||this;n.maxDelta_=-1;n.maxDeltaRevision_=-1;void 0===e||Array.isArray(a[0])?n.setCoordinates(a,e):n.setFlatCoordinates(e,a);return n}g(f,d);f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout)};f.prototype.closestPointXY=function(a,e,n,y){if(y<(0,N.closestSquaredDistanceXY)(this.getExtent(),a,e))return y;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,H.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,H.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,e,n,y)};f.prototype.getArea=function(){return(0,m.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};f.prototype.getCoordinates=function(){return(0,u.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};f.prototype.getSimplifiedGeometryInternal=function(a){var e=[];e.length=(0,v.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,e,0);return new f(e,l["default"].XY)};f.prototype.getType=function(){return w["default"].LINEAR_RING};f.prototype.intersectsExtent=function(a){return!1};f.prototype.setCoordinates=function(a,e){this.setLayout(e,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,
0,a,this.stride);this.changed()};return f}(Ja["default"]);E["default"]=A};
shadow$provide[143]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117));Ja=k(A(136));var w=A(78),H=A(138),N=A(79),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g){var d=v.call(this)||this;d.setCoordinates(m,g);return d}x(u,v);u.prototype.clone=function(){var m=new u(this.flatCoordinates.slice(),this.layout);m.applyProperties(this);return m};u.prototype.closestPointXY=function(m,g,d,f){var a=this.flatCoordinates;m=(0,N.squaredDistance)(m,g,a[0],a[1]);if(m<f){f=this.stride;for(g=0;g<f;++g)d[g]=a[g];d.length=f;return m}return f};u.prototype.getCoordinates=function(){return this.flatCoordinates?
this.flatCoordinates.slice():[]};u.prototype.computeExtent=function(m){return(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates,m)};u.prototype.getType=function(){return l["default"].POINT};u.prototype.intersectsExtent=function(m){return(0,w.containsXY)(m,this.flatCoordinates[0],this.flatCoordinates[1])};u.prototype.setCoordinates=function(m,g){this.setLayout(g,m,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,H.deflateCoordinate)(this.flatCoordinates,0,m,this.stride);
this.changed()};return u}(Ja["default"]);E["default"]=A};
shadow$provide[144]=function(Ja,A,rb,E){function k(H,N,x,v,u,m){for(var g=0,d=H[x-v],f=H[x-v+1];N<x;N+=v){var a=H[N],e=H[N+1];f<=m?e>m&&0<(a-d)*(m-f)-(u-d)*(e-f)&&g++:e<=m&&0>(a-d)*(m-f)-(u-d)*(e-f)&&g--;d=a;f=e}return 0!==g}function l(H,N,x,v,u,m){if(0===x.length||!k(H,N,x[0],v,u,m))return!1;N=1;for(var g=x.length;N<g;++N)if(k(H,x[N-1],x[N],v,u,m))return!1;return!0}Object.defineProperty(E,"__esModule",{value:!0});E.linearRingContainsExtent=function(H,N,x,v,u){return!(0,w.forEachCorner)(u,function(m){return!k(H,
N,x,v,m[0],m[1])})};E.linearRingContainsXY=k;E.linearRingsContainsXY=l;E.linearRingssContainsXY=function(H,N,x,v,u,m){if(0===x.length)return!1;for(var g=0,d=x.length;g<d;++g){var f=x[g];if(l(H,N,f,v,u,m))return!0;N=f[f.length-1]}return!1};var w=A(78)};
shadow$provide[145]=function(Ja,A,rb,E){function k(H,N,x,v,u,m,g){for(var d,f,a,e,n,y=u[m+1],B=[],D=0,O=x.length;D<O;++D){var M=x[D];a=H[M-v];n=H[M-v+1];for(d=N;d<M;d+=v){e=H[d];f=H[d+1];if(y<=n&&f<=y||n<=y&&y<=f)a=(y-n)/(f-n)*(e-a)+a,B.push(a);a=e;n=f}}D=NaN;O=-Infinity;B.sort(w.numberSafeCompareFunction);a=B[0];d=1;for(f=B.length;d<f;++d)e=B[d],M=Math.abs(e-a),M>O&&(a=(a+e)/2,(0,l.linearRingsContainsXY)(H,N,x,v,a,y)&&(D=a,O=M)),a=e;isNaN(D)&&(D=u[m]);return g?(g.push(D,y,O),g):[D,y,O]}Object.defineProperty(E,
"__esModule",{value:!0});E.getInteriorPointOfArray=k;E.getInteriorPointsOfMultiArray=function(H,N,x,v,u){for(var m=[],g=0,d=x.length;g<d;++g){var f=x[g];m=k(H,N,f,v,u,2*g,m);N=f[f.length-1]}return m};var l=A(144),w=A(70)};
shadow$provide[146]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.forEach=function(k,l,w,H,N){for(var x=[k[l],k[l+1]],v=[],u;l+H<w;l+=H){v[0]=k[l+H];v[1]=k[l+H+1];if(u=N(x,v))return u;x[0]=v[0];x[1]=v[1]}return!1}};
shadow$provide[147]=function(Ja,A,rb,E){function k(v,u,m,g,d){var f=(0,H.extendFlatCoordinates)((0,H.createEmpty)(),v,u,m,g);return(0,H.intersects)(d,f)?(0,H.containsExtent)(d,f)||f[0]>=d[0]&&f[2]<=d[2]||f[1]>=d[1]&&f[3]<=d[3]?!0:(0,N.forEach)(v,u,m,g,function(a,e){return(0,H.intersectsSegment)(d,a,e)}):!1}function l(v,u,m,g,d){return k(v,u,m,g,d)||(0,x.linearRingContainsXY)(v,u,m,g,d[0],d[1])||(0,x.linearRingContainsXY)(v,u,m,g,d[0],d[3])||(0,x.linearRingContainsXY)(v,u,m,g,d[2],d[1])||(0,x.linearRingContainsXY)(v,
u,m,g,d[2],d[3])?!0:!1}function w(v,u,m,g,d){if(!l(v,u,m[0],g,d))return!1;if(1===m.length)return!0;u=1;for(var f=m.length;u<f;++u)if((0,x.linearRingContainsExtent)(v,m[u-1],m[u],g,d)&&!k(v,m[u-1],m[u],g,d))return!1;return!0}Object.defineProperty(E,"__esModule",{value:!0});E.intersectsLineString=k;E.intersectsLineStringArray=function(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){if(k(v,u,m[f],g,d))return!0;u=m[f]}return!1};E.intersectsLinearRing=l;E.intersectsLinearRingArray=w;E.intersectsLinearRingMultiArray=
function(v,u,m,g,d){for(var f=0,a=m.length;f<a;++f){var e=m[f];if(w(v,u,e,g,d))return!0;u=e[e.length-1]}return!1};var H=A(78),N=A(146),x=A(144)};
shadow$provide[148]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.coordinates=function(k,l,w,H){for(;l<w-H;){for(var N=0;N<H;++N){var x=k[l+N];k[l+N]=k[w-H+N];k[w-H+N]=x}l+=H;w-=H}}};
shadow$provide[149]=function(Ja,A,rb,E){function k(N,x,v,u){for(var m=0,g=N[v-u],d=N[v-u+1];x<v;x+=u){var f=N[x],a=N[x+1];m+=(f-g)*(a+d);g=f;d=a}return 0===m?void 0:0<m}function l(N,x,v,u,m){m=void 0!==m?m:!1;for(var g=0,d=v.length;g<d;++g){var f=v[g];x=k(N,x,f,u);if(0===g){if(m&&x||!m&&!x)return!1}else if(m&&!x||!m&&x)return!1;x=f}return!0}function w(N,x,v,u,m){m=void 0!==m?m:!1;for(var g=0,d=v.length;g<d;++g){var f=v[g],a=k(N,x,f,u);(0===g?m&&a||!m&&!a:m&&!a||!m&&a)&&(0,H.coordinates)(N,x,f,u);
x=f}return x}Object.defineProperty(E,"__esModule",{value:!0});E.linearRingIsClockwise=k;E.linearRingsAreOriented=l;E.linearRingssAreOriented=function(N,x,v,u,m){for(var g=0,d=v.length;g<d;++g){var f=v[g];if(!l(N,x,f,u,m))return!1;f.length&&(x=f[f.length-1])}return!0};E.orientLinearRings=w;E.orientLinearRingsArray=function(N,x,v,u,m){for(var g=0,d=v.length;g<d;++g)x=w(N,x,v[g],u,m);return x};var H=A(148)};
shadow$provide[150]=function(Ja,A,rb,E){function k(z){return z&&z.__esModule?z:{"default":z}}function l(z,G,K,R){var T=z.getFlatCoordinates(),ja=z.getStride(),fa=T.length/ja-1;R=R?R:0;for(var ha=0;ha<=fa;++ha){var la=ha*ja,Z=R+2*(0,B.modulo)(ha,fa)*Math.PI/fa;T[la]=G[0]+K*Math.cos(Z);T[la+1]=G[1]+K*Math.sin(Z)}z.changed()}Object.defineProperty(E,"__esModule",{value:!0});E.circular=function(z,G,K,R){K=K?K:32;for(var T=[],ja=0;ja<K;++ja)(0,g.extend)(T,(0,O.offset)(z,G,2*Math.PI*ja/K,R));T.push(T[0],
T[1]);return new F(T,w["default"].XY,[T.length])};E.fromExtent=function(z){var G=z[0],K=z[1],R=z[2];z=z[3];G=[G,K,G,z,R,z,R,K,G,K];return new F(G,w["default"].XY,[G.length])};E.fromCircle=function(z,G,K){var R=G?G:32,T=z.getStride(),ja=z.getLayout();G=z.getCenter();R=T*(R+1);for(var fa=Array(R),ha=0;ha<R;ha+=T){fa[ha]=0;fa[ha+1]=0;for(var la=2;la<T;la++)fa[ha+la]=G[la]}T=new F(fa,ja,[fa.length]);l(T,G,z.getRadius(),K);return T};E.makeRegular=l;E["default"]=void 0;var w=k(A(133)),H=k(A(117)),N=k(A(142)),
x=k(A(143));Ja=k(A(136));var v=A(137),u=A(78),m=A(138),g=A(70),d=A(145),f=A(140),a=A(147),e=A(149),n=A(141),y=A(144),B=A(79),D=A(139),O=A(127),M=function(){var z=function(G,K){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,T){R.__proto__=T}||function(R,T){for(var ja in T)Object.prototype.hasOwnProperty.call(T,ja)&&(R[ja]=T[ja])};return z(G,K)};return function(G,K){function R(){this.constructor=G}z(G,K);G.prototype=null===K?Object.create(K):(R.prototype=K.prototype,new R)}}(),
F=function(z){function G(K,R,T){var ja=z.call(this)||this;ja.ends_=[];ja.flatInteriorPointRevision_=-1;ja.flatInteriorPoint_=null;ja.maxDelta_=-1;ja.maxDeltaRevision_=-1;ja.orientedRevision_=-1;ja.orientedFlatCoordinates_=null;void 0!==R&&T?(ja.setFlatCoordinates(R,K),ja.ends_=T):ja.setCoordinates(K,R);return ja}M(G,z);G.prototype.appendLinearRing=function(K){this.flatCoordinates?(0,g.extend)(this.flatCoordinates,K.getFlatCoordinates()):this.flatCoordinates=K.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);
this.changed()};G.prototype.clone=function(){var K=new G(this.flatCoordinates.slice(),this.layout,this.ends_.slice());K.applyProperties(this);return K};G.prototype.closestPointXY=function(K,R,T,ja){if(ja<(0,u.closestSquaredDistanceXY)(this.getExtent(),K,R))return ja;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,v.assignClosestArrayPoint)(this.flatCoordinates,
0,this.ends_,this.stride,this.maxDelta_,!0,K,R,T,ja)};G.prototype.containsXY=function(K,R){return(0,y.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K,R)};G.prototype.getArea=function(){return(0,n.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};G.prototype.getCoordinates=function(K){if(void 0!==K){var R=this.getOrientedFlatCoordinates().slice();(0,e.orientLinearRings)(R,0,this.ends_,this.stride,K)}else R=this.flatCoordinates;return(0,f.inflateCoordinatesArray)(R,
0,this.ends_,this.stride)};G.prototype.getEnds=function(){return this.ends_};G.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var K=(0,u.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,d.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};G.prototype.getInteriorPoint=function(){return new x["default"](this.getFlatInteriorPoint(),
w["default"].XYM)};G.prototype.getLinearRingCount=function(){return this.ends_.length};G.prototype.getLinearRing=function(K){return 0>K||this.ends_.length<=K?null:new N["default"](this.flatCoordinates.slice(0===K?0:this.ends_[K-1],this.ends_[K]),this.layout)};G.prototype.getLinearRings=function(){for(var K=this.layout,R=this.flatCoordinates,T=this.ends_,ja=[],fa=0,ha=0,la=T.length;ha<la;++ha){var Z=T[ha];fa=new N["default"](R.slice(fa,Z),K);ja.push(fa);fa=Z}return ja};G.prototype.getOrientedFlatCoordinates=
function(){if(this.orientedRevision_!=this.getRevision()){var K=this.flatCoordinates;(0,e.linearRingsAreOriented)(K,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=K:(this.orientedFlatCoordinates_=K.slice(),this.orientedFlatCoordinates_.length=(0,e.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};G.prototype.getSimplifiedGeometryInternal=function(K){var R=[],T=[];R.length=(0,D.quantizeArray)(this.flatCoordinates,
0,this.ends_,this.stride,Math.sqrt(K),R,0,T);return new G(R,w["default"].XY,T)};G.prototype.getType=function(){return H["default"].POLYGON};G.prototype.intersectsExtent=function(K){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,K)};G.prototype.setCoordinates=function(K,R){this.setLayout(R,K,2);this.flatCoordinates||(this.flatCoordinates=[]);K=(0,m.deflateCoordinatesArray)(this.flatCoordinates,0,K,this.stride,this.ends_);this.flatCoordinates.length=
0===K.length?0:K[K.length-1];this.changed()};return G}(Ja["default"]);E["default"]=F};
shadow$provide[151]=function(Ja,A,rb,E){function k(fa){return fa&&fa.__esModule?fa:{"default":fa}}function l(fa,ha){setTimeout(function(){fa(ha)},0)}function w(fa){if(void 0!==fa.extent){var ha=void 0!==fa.smoothExtentConstraint?fa.smoothExtentConstraint:!0;return(0,D.createExtent)(fa.extent,fa.constrainOnlyCenter,ha)}ha=(0,a.createProjection)(fa.projection,"EPSG:3857");return!0!==fa.multiWorld&&ha.isGlobal()?(fa=ha.getExtent().slice(),fa[0]=-Infinity,fa[2]=Infinity,(0,D.createExtent)(fa,!1,!1)):
D.none}function H(fa){var ha=void 0!==fa.minZoom?fa.minZoom:ja,la=void 0!==fa.maxZoom?fa.maxZoom:28,Z=void 0!==fa.zoomFactor?fa.zoomFactor:2;var P=void 0!==fa.multiWorld?fa.multiWorld:!1;var C=void 0!==fa.smoothResolutionConstraint?fa.smoothResolutionConstraint:!0,V=void 0!==fa.showFullExtent?fa.showFullExtent:!1;var ia=(0,a.createProjection)(fa.projection,"EPSG:3857");var aa=ia.getExtent(),ya=fa.constrainOnlyCenter,va=fa.extent;P||va||!ia.isGlobal()||(ya=!1,va=aa);if(void 0!==fa.resolutions)aa=fa.resolutions,
P=aa[ha],ia=void 0!==aa[la]?aa[la]:aa[aa.length-1],fa=fa.constrainResolution?(0,M.createSnapToResolutions)(aa,C,!ya&&va,V):(0,M.createMinMaxResolution)(P,ia,C,!ya&&va,V);else{aa=(aa?Math.max((0,G.getWidth)(aa),(0,G.getHeight)(aa)):360*a.METERS_PER_UNIT[m["default"].DEGREES]/ia.getMetersPerUnit())/f.DEFAULT_TILE_SIZE/Math.pow(2,ja);var Ia=aa/Math.pow(2,28-ja);P=fa.maxResolution;void 0!==P?ha=0:P=aa/Math.pow(Z,ha);ia=fa.minResolution;void 0===ia&&(ia=void 0!==fa.maxZoom?void 0!==fa.maxResolution?P/
Math.pow(Z,la):aa/Math.pow(Z,la):Ia);la=ha+Math.floor(Math.log(P/ia)/Math.log(Z));ia=P/Math.pow(Z,la-ha);fa=fa.constrainResolution?(0,M.createSnapToPower)(Z,P,ia,C,!ya&&va,V):(0,M.createMinMaxResolution)(P,ia,C,!ya&&va,V)}return{constraint:fa,maxResolution:P,minResolution:ia,minZoom:ha,zoomFactor:Z}}function N(fa){return(void 0!==fa.enableRotation?fa.enableRotation:1)?(fa=fa.constrainRotation,void 0===fa||!0===fa?(0,F.createSnapToZero)():!1===fa?F.none:"number"===typeof fa?(0,F.createSnapToN)(fa):
F.none):F.disable}function x(fa){return fa.sourceCenter&&fa.targetCenter&&!(0,n.equals)(fa.sourceCenter,fa.targetCenter)||fa.sourceResolution!==fa.targetResolution||fa.sourceRotation!==fa.targetRotation?!1:!0}function v(fa,ha,la,Z,P){var C=Math.cos(-P);P=Math.sin(-P);var V=fa[0]*C-fa[1]*P;fa=fa[1]*C+fa[0]*P;V+=(ha[0]/2-la[0])*Z;fa+=(la[1]-ha[1]/2)*Z;P=-P;return[V*C-fa*P,fa*C+V*P]}Object.defineProperty(E,"__esModule",{value:!0});E.createCenterConstraint=w;E.createResolutionConstraint=H;E.createRotationConstraint=
N;E.isNoopAnimation=x;E["default"]=void 0;Ja=k(A(89));var u=k(A(117)),m=k(A(118)),g=k(A(119)),d=k(A(120)),f=A(121),a=A(128),e=A(71),n=A(96),y=A(74),B=A(84),D=A(129),O=A(79),M=A(130),F=A(131),z=A(132),G=A(78),K=A(70),R=A(150),T=function(){var fa=function(ha,la){fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,P){Z.__proto__=P}||function(Z,P){for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(Z[C]=P[C])};return fa(ha,la)};return function(ha,la){function Z(){this.constructor=
ha}fa(ha,la);ha.prototype=null===la?Object.create(la):(Z.prototype=la.prototype,new Z)}}(),ja=0;A=function(fa){function ha(la){var Z=fa.call(this)||this;la=(0,B.assign)({},la);Z.hints_=[0,0];Z.animations_=[];Z.projection_=(0,a.createProjection)(la.projection,"EPSG:3857");Z.viewportSize_=[100,100];Z.targetCenter_=null;Z.cancelAnchor_=void 0;la.center&&(la.center=(0,a.fromUserCoordinate)(la.center,Z.projection_));la.extent&&(la.extent=(0,a.fromUserExtent)(la.extent,Z.projection_));Z.applyOptions_(la);
return Z}T(ha,fa);ha.prototype.applyOptions_=function(la){var Z=H(la);this.maxResolution_=Z.maxResolution;this.minResolution_=Z.minResolution;this.zoomFactor_=Z.zoomFactor;this.resolutions_=la.resolutions;this.padding=la.padding;this.minZoom_=Z.minZoom;var P=w(la);Z=Z.constraint;var C=N(la);this.constraints_={center:P,resolution:Z,rotation:C};this.setRotation(void 0!==la.rotation?la.rotation:0);this.setCenterInternal(void 0!==la.center?la.center:null);void 0!==la.resolution?this.setResolution(la.resolution):
void 0!==la.zoom&&this.setZoom(la.zoom);this.setProperties({});this.options_=la};ha.prototype.getUpdatedOptions_=function(la){var Z=(0,B.assign)({},this.options_);void 0!==Z.resolution?Z.resolution=this.getResolution():Z.zoom=this.getZoom();Z.center=this.getCenterInternal();Z.rotation=this.getRotation();return(0,B.assign)({},Z,la)};ha.prototype.animate=function(la){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var Z=Array(arguments.length),P=0;P<Z.length;++P){var C=arguments[P];
C.center&&(C=(0,B.assign)({},C),C.center=(0,a.fromUserCoordinate)(C.center,this.getProjection()));C.anchor&&(C=(0,B.assign)({},C),C.anchor=(0,a.fromUserCoordinate)(C.anchor,this.getProjection()));Z[P]=C}this.animateInternal.apply(this,Z)};ha.prototype.animateInternal=function(la){var Z=arguments.length;if(1<Z&&"function"===typeof arguments[Z-1]){var P=arguments[Z-1];--Z}if(this.isDef()){for(var C=Date.now(),V=this.targetCenter_.slice(),ia=this.targetResolution_,aa=this.targetRotation_,ya=[],va=0;va<
Z;++va){var Ia=arguments[va],bb={start:C,complete:!1,anchor:Ia.anchor,duration:void 0!==Ia.duration?Ia.duration:1E3,easing:Ia.easing||z.inAndOut,callback:P};Ia.center&&(bb.sourceCenter=V,bb.targetCenter=Ia.center.slice(),V=bb.targetCenter);void 0!==Ia.zoom?(bb.sourceResolution=ia,bb.targetResolution=this.getResolutionForZoom(Ia.zoom),ia=bb.targetResolution):Ia.resolution&&(bb.sourceResolution=ia,bb.targetResolution=Ia.resolution,ia=bb.targetResolution);void 0!==Ia.rotation&&(bb.sourceRotation=aa,
Ia=(0,O.modulo)(Ia.rotation-aa+Math.PI,2*Math.PI)-Math.PI,bb.targetRotation=aa+Ia,aa=bb.targetRotation);x(bb)?bb.complete=!0:C+=bb.duration;ya.push(bb)}this.animations_.push(ya);this.setHint(g["default"].ANIMATING,1);this.updateAnimations_()}else Z=arguments[Z-1],Z.center&&this.setCenterInternal(Z.center),void 0!==Z.zoom&&this.setZoom(Z.zoom),void 0!==Z.rotation&&this.setRotation(Z.rotation),P&&l(P,!0)};ha.prototype.getAnimating=function(){return 0<this.hints_[g["default"].ANIMATING]};ha.prototype.getInteracting=
function(){return 0<this.hints_[g["default"].INTERACTING]};ha.prototype.cancelAnimations=function(){this.setHint(g["default"].ANIMATING,-this.hints_[g["default"].ANIMATING]);for(var la,Z=0,P=this.animations_.length;Z<P;++Z){var C=this.animations_[Z];C[0].callback&&l(C[0].callback,!1);if(!la)for(var V=0,ia=C.length;V<ia;++V){var aa=C[V];if(!aa.complete){la=aa.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=la};ha.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&
(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var la=Date.now(),Z=!1,P=this.animations_.length-1;0<=P;--P){for(var C=this.animations_[P],V=!0,ia=0,aa=C.length;ia<aa;++ia){var ya=C[ia];if(!ya.complete){Z=la-ya.start;Z=0<ya.duration?Z/ya.duration:1;1<=Z?(ya.complete=!0,Z=1):V=!1;Z=ya.easing(Z);if(ya.sourceCenter){var va=ya.sourceCenter[0],Ia=ya.sourceCenter[1];this.targetCenter_=[va+Z*(ya.targetCenter[0]-va),Ia+Z*(ya.targetCenter[1]-Ia)]}ya.sourceResolution&&
ya.targetResolution&&(va=1===Z?ya.targetResolution:ya.sourceResolution+Z*(ya.targetResolution-ya.sourceResolution),ya.anchor&&(Ia=this.getViewportSize_(this.getRotation()),Ia=this.constraints_.resolution(va,0,Ia,!0),this.targetCenter_=this.calculateCenterZoom(Ia,ya.anchor)),this.targetResolution_=va,this.applyTargetState_(!0));void 0!==ya.sourceRotation&&void 0!==ya.targetRotation&&(Z=1===Z?(0,O.modulo)(ya.targetRotation+Math.PI,2*Math.PI)-Math.PI:ya.sourceRotation+Z*(ya.targetRotation-ya.sourceRotation),
ya.anchor&&(va=this.constraints_.rotation(Z,!0),this.targetCenter_=this.calculateCenterRotate(va,ya.anchor)),this.targetRotation_=Z);this.applyTargetState_(!0);Z=!0;if(!ya.complete)break}}V&&(this.animations_[P]=null,this.setHint(g["default"].ANIMATING,-1),(C=C[0].callback)&&l(C,!0))}this.animations_=this.animations_.filter(Boolean);Z&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};ha.prototype.calculateCenterRotate=function(la,
Z){var P=this.getCenterInternal();if(void 0!==P){var C=[P[0]-Z[0],P[1]-Z[1]];(0,n.rotate)(C,la-this.getRotation());(0,n.add)(C,Z)}return C};ha.prototype.calculateCenterZoom=function(la,Z){var P,C=this.getCenterInternal(),V=this.getResolution();void 0!==C&&void 0!==V&&(P=[Z[0]-la*(Z[0]-C[0])/V,Z[1]-la*(Z[1]-C[1])/V]);return P};ha.prototype.getViewportSize_=function(la){var Z=this.viewportSize_;if(la){var P=Z[0];Z=Z[1];return[Math.abs(P*Math.cos(la))+Math.abs(Z*Math.sin(la)),Math.abs(P*Math.sin(la))+
Math.abs(Z*Math.cos(la))]}return Z};ha.prototype.setViewportSize=function(la){this.viewportSize_=Array.isArray(la)?la.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};ha.prototype.getCenter=function(){var la=this.getCenterInternal();return la?(0,a.toUserCoordinate)(la,this.getProjection()):la};ha.prototype.getCenterInternal=function(){return this.get(d["default"].CENTER)};ha.prototype.getConstraints=function(){return this.constraints_};ha.prototype.getConstrainResolution=function(){return this.options_.constrainResolution};
ha.prototype.getHints=function(la){return void 0!==la?(la[0]=this.hints_[0],la[1]=this.hints_[1],la):this.hints_.slice()};ha.prototype.calculateExtent=function(la){la=this.calculateExtentInternal(la);return(0,a.toUserExtent)(la,this.getProjection())};ha.prototype.calculateExtentInternal=function(la){la=la||this.getViewportSize_();var Z=this.getCenterInternal();(0,y.assert)(Z,1);var P=this.getResolution();(0,y.assert)(void 0!==P,2);var C=this.getRotation();(0,y.assert)(void 0!==C,3);return(0,G.getForViewAndSize)(Z,
P,C,la)};ha.prototype.getMaxResolution=function(){return this.maxResolution_};ha.prototype.getMinResolution=function(){return this.minResolution_};ha.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};ha.prototype.setMaxZoom=function(la){this.applyOptions_(this.getUpdatedOptions_({maxZoom:la}))};ha.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};ha.prototype.setMinZoom=function(la){this.applyOptions_(this.getUpdatedOptions_({minZoom:la}))};
ha.prototype.setConstrainResolution=function(la){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:la}))};ha.prototype.getProjection=function(){return this.projection_};ha.prototype.getResolution=function(){return this.get(d["default"].RESOLUTION)};ha.prototype.getResolutions=function(){return this.resolutions_};ha.prototype.getResolutionForExtent=function(la,Z){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(la,this.getProjection()),Z)};ha.prototype.getResolutionForExtentInternal=
function(la,Z){var P=Z||this.getViewportSize_();Z=(0,G.getWidth)(la)/P[0];la=(0,G.getHeight)(la)/P[1];return Math.max(Z,la)};ha.prototype.getResolutionForValueFunction=function(la){var Z=la||2,P=this.getConstrainedResolution(this.maxResolution_),C=Math.log(P/this.minResolution_)/Math.log(Z);return function(V){return P/Math.pow(Z,V*C)}};ha.prototype.getRotation=function(){return this.get(d["default"].ROTATION)};ha.prototype.getValueForResolutionFunction=function(la){var Z=Math.log(la||2),P=this.getConstrainedResolution(this.maxResolution_),
C=Math.log(P/this.minResolution_)/Z;return function(V){return Math.log(P/V)/Z/C}};ha.prototype.getViewportSizeMinusPadding_=function(la){la=this.getViewportSize_(la);var Z=this.padding;Z&&(la=[la[0]-Z[1]-Z[3],la[1]-Z[0]-Z[2]]);return la};ha.prototype.getState=function(){var la=this.getProjection(),Z=this.getResolution(),P=this.getRotation(),C=this.getCenterInternal(),V=this.padding;if(V){var ia=this.getViewportSizeMinusPadding_();C=v(C,this.getViewportSize_(),[ia[0]/2+V[3],ia[1]/2+V[0]],Z,P)}return{center:C.slice(0),
projection:void 0!==la?la:null,resolution:Z,rotation:P,zoom:this.getZoom()}};ha.prototype.getZoom=function(){var la,Z=this.getResolution();void 0!==Z&&(la=this.getZoomForResolution(Z));return la};ha.prototype.getZoomForResolution=function(la){var Z=this.minZoom_||0,P;if(this.resolutions_){Z=P=(0,K.linearFindNearest)(this.resolutions_,la,1);var C=this.resolutions_[P];P=P==this.resolutions_.length-1?2:C/this.resolutions_[P+1]}else C=this.maxResolution_,P=this.zoomFactor_;return Z+Math.log(C/la)/Math.log(P)};
ha.prototype.getResolutionForZoom=function(la){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var Z=(0,O.clamp)(Math.floor(la),0,this.resolutions_.length-2);return this.resolutions_[Z]/Math.pow(this.resolutions_[Z]/this.resolutions_[Z+1],(0,O.clamp)(la-Z,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,la-this.minZoom_)};ha.prototype.fit=function(la,Z){(0,y.assert)(Array.isArray(la)||"function"===typeof la.getSimplifiedGeometry,24);if(Array.isArray(la)){(0,y.assert)(!(0,G.isEmpty)(la),
25);var P=(0,a.fromUserExtent)(la,this.getProjection());la=(0,R.fromExtent)(P)}else la.getType()===u["default"].CIRCLE?(P=(0,a.fromUserExtent)(la.getExtent(),this.getProjection()),la=(0,R.fromExtent)(P),la.rotate(this.getRotation(),(0,G.getCenter)(P))):la=(P=(0,a.getUserProjection)())?la.clone().transform(P,this.getProjection()):la;this.fitInternal(la,Z)};ha.prototype.fitInternal=function(la,Z){Z=Z||{};var P=Z.size;P||(P=this.getViewportSizeMinusPadding_());var C=void 0!==Z.padding?Z.padding:[0,0,
0,0],V=void 0!==Z.nearest?Z.nearest:!1;var ia=void 0!==Z.minResolution?Z.minResolution:void 0!==Z.maxZoom?this.getResolutionForZoom(Z.maxZoom):0;var aa=la.getFlatCoordinates(),ya=this.getRotation(),va=Math.cos(-ya);ya=Math.sin(-ya);var Ia=Infinity,bb=Infinity,kb=-Infinity,ua=-Infinity;la=la.getStride();for(var Ta=0,Ya=aa.length;Ta<Ya;Ta+=la){var Da=aa[Ta]*va-aa[Ta+1]*ya,ta=aa[Ta]*ya+aa[Ta+1]*va;Ia=Math.min(Ia,Da);bb=Math.min(bb,ta);kb=Math.max(kb,Da);ua=Math.max(ua,ta)}P=this.getResolutionForExtentInternal([Ia,
bb,kb,ua],[P[0]-C[1]-C[3],P[1]-C[0]-C[2]]);P=isNaN(P)?ia:Math.max(P,ia);P=this.getConstrainedResolution(P,V?0:1);ya=-ya;V=(Ia+kb)/2+(C[1]-C[3])/2*P;C=(bb+ua)/2+(C[0]-C[2])/2*P;va=this.getConstrainedCenter([V*va-C*ya,C*va+V*ya],P);C=Z.callback?Z.callback:e.VOID;void 0!==Z.duration?this.animateInternal({resolution:P,center:va,duration:Z.duration,easing:Z.easing},C):(this.targetResolution_=P,this.targetCenter_=va,this.applyTargetState_(!1,!0),l(C,!0))};ha.prototype.centerOn=function(la,Z,P){this.centerOnInternal((0,
a.fromUserCoordinate)(la,this.getProjection()),Z,P)};ha.prototype.centerOnInternal=function(la,Z,P){this.setCenterInternal(v(la,Z,P,this.getResolution(),this.getRotation()))};ha.prototype.calculateCenterShift=function(la,Z,P,C){var V=this.padding;if(V&&la){var ia=this.getViewportSizeMinusPadding_(-P);Z=v(la,C,[ia[0]/2+V[3],ia[1]/2+V[0]],Z,P);ia=[la[0]-Z[0],la[1]-Z[1]]}return ia};ha.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};ha.prototype.adjustCenter=
function(la){var Z=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([Z[0]+la[0],Z[1]+la[1]])};ha.prototype.adjustCenterInternal=function(la){var Z=this.targetCenter_;this.setCenterInternal([Z[0]+la[0],Z[1]+la[1]])};ha.prototype.adjustResolution=function(la,Z){Z=Z&&(0,a.fromUserCoordinate)(Z,this.getProjection());this.adjustResolutionInternal(la,Z)};ha.prototype.adjustResolutionInternal=function(la,Z){var P=this.getAnimating()||this.getInteracting(),C=this.getViewportSize_(this.getRotation());
P=this.constraints_.resolution(this.targetResolution_*la,0,C,P);Z&&(this.targetCenter_=this.calculateCenterZoom(P,Z));this.targetResolution_*=la;this.applyTargetState_()};ha.prototype.adjustZoom=function(la,Z){this.adjustResolution(Math.pow(this.zoomFactor_,-la),Z)};ha.prototype.adjustRotation=function(la,Z){Z&&(Z=(0,a.fromUserCoordinate)(Z,this.getProjection()));this.adjustRotationInternal(la,Z)};ha.prototype.adjustRotationInternal=function(la,Z){var P=this.getAnimating()||this.getInteracting();
P=this.constraints_.rotation(this.targetRotation_+la,P);Z&&(this.targetCenter_=this.calculateCenterRotate(P,Z));this.targetRotation_+=la;this.applyTargetState_()};ha.prototype.setCenter=function(la){this.setCenterInternal((0,a.fromUserCoordinate)(la,this.getProjection()))};ha.prototype.setCenterInternal=function(la){this.targetCenter_=la;this.applyTargetState_()};ha.prototype.setHint=function(la,Z){this.hints_[la]+=Z;this.changed();return this.hints_[la]};ha.prototype.setResolution=function(la){this.targetResolution_=
la;this.applyTargetState_()};ha.prototype.setRotation=function(la){this.targetRotation_=la;this.applyTargetState_()};ha.prototype.setZoom=function(la){this.setResolution(this.getResolutionForZoom(la))};ha.prototype.applyTargetState_=function(la,Z){var P=this.getAnimating()||this.getInteracting()||Z;Z=this.constraints_.rotation(this.targetRotation_,P);var C=this.getViewportSize_(Z),V=this.constraints_.resolution(this.targetResolution_,0,C,P);P=this.constraints_.center(this.targetCenter_,V,C,P,this.calculateCenterShift(this.targetCenter_,
V,Z,C));this.get(d["default"].ROTATION)!==Z&&this.set(d["default"].ROTATION,Z);this.get(d["default"].RESOLUTION)!==V&&this.set(d["default"].RESOLUTION,V);this.get(d["default"].CENTER)&&(0,n.equals)(this.get(d["default"].CENTER),P)||this.set(d["default"].CENTER,P);this.getAnimating()&&!la&&this.cancelAnimations();this.cancelAnchor_=void 0};ha.prototype.resolveConstraints=function(la,Z,P){la=void 0!==la?la:200;var C=Z||0;Z=this.constraints_.rotation(this.targetRotation_);var V=this.getViewportSize_(Z);
C=this.constraints_.resolution(this.targetResolution_,C,V);V=this.constraints_.center(this.targetCenter_,C,V,!1,this.calculateCenterShift(this.targetCenter_,C,Z,V));0!==la||this.cancelAnchor_?(P=P||(0===la?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===C&&this.getRotation()===Z&&this.getCenterInternal()&&(0,n.equals)(this.getCenterInternal(),V)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:Z,center:V,resolution:C,duration:la,easing:z.easeOut,
anchor:P}))):(this.targetResolution_=C,this.targetRotation_=Z,this.targetCenter_=V,this.applyTargetState_())};ha.prototype.beginInteraction=function(){this.resolveConstraints(0);this.setHint(g["default"].INTERACTING,1)};ha.prototype.endInteraction=function(la,Z,P){P=P&&(0,a.fromUserCoordinate)(P,this.getProjection());this.endInteractionInternal(la,Z,P)};ha.prototype.endInteractionInternal=function(la,Z,P){this.setHint(g["default"].INTERACTING,-1);this.resolveConstraints(la,Z,P)};ha.prototype.getConstrainedCenter=
function(la,Z){var P=this.getViewportSize_(this.getRotation());return this.constraints_.center(la,Z||this.getResolution(),P)};ha.prototype.getConstrainedZoom=function(la,Z){la=this.getResolutionForZoom(la);return this.getZoomForResolution(this.getConstrainedResolution(la,Z))};ha.prototype.getConstrainedResolution=function(la,Z){Z=Z||0;var P=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(la,Z,P)};return ha}(Ja["default"]);E["default"]=A};
shadow$provide[152]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.buffer=function(k,l,w){void 0===w&&(w=[0,0]);w[0]=k[0]+2*l;w[1]=k[1]+2*l;return w};E.hasArea=function(k){return 0<k[0]&&0<k[1]};E.scale=function(k,l,w){void 0===w&&(w=[0,0]);w[0]=k[0]*l+.5|0;w[1]=k[1]*l+.5|0;return w};E.toSize=function(k,l){if(Array.isArray(k))return k;void 0===l?l=[k,k]:(l[0]=k,l[1]=k);return l}};
shadow$provide[153]=function(Ja,A,rb,E){function k(C){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"===typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V};return k(C)}function l(C){return C&&C.__esModule?C:{"default":C}}function w(){if("function"!==typeof WeakMap)return null;var C=new WeakMap;w=function(){return C};return C}function H(C){if(C&&C.__esModule)return C;if(null===C||"object"!==k(C)&&
"function"!==typeof C)return{"default":C};var V=w();if(V&&V.has(C))return V.get(C);var ia={},aa=Object.defineProperty&&Object.getOwnPropertyDescriptor,ya;for(ya in C)if(Object.prototype.hasOwnProperty.call(C,ya)){var va=aa?Object.getOwnPropertyDescriptor(C,ya):null;va&&(va.get||va.set)?Object.defineProperty(ia,ya,va):ia[ya]=C[ya]}ia["default"]=C;V&&V.set(C,ia);return ia}function N(C){var V=null;void 0!==C.keyboardEventTarget&&(V="string"===typeof C.keyboardEventTarget?document.getElementById(C.keyboardEventTarget):
C.keyboardEventTarget);var ia={},aa=C.layers&&"function"===typeof C.layers.getLayers?C.layers:new g["default"]({layers:C.layers});ia[y["default"].LAYERGROUP]=aa;ia[y["default"].TARGET]=C.target;ia[y["default"].VIEW]=void 0!==C.view?C.view:new F["default"];if(void 0!==C.controls)if(Array.isArray(C.controls))var ya=new v["default"](C.controls.slice());else(0,T.assert)("function"===typeof C.controls.getArray,47),ya=C.controls;if(void 0!==C.interactions)if(Array.isArray(C.interactions))var va=new v["default"](C.interactions.slice());
else(0,T.assert)("function"===typeof C.interactions.getArray,48),va=C.interactions;void 0!==C.overlays?Array.isArray(C.overlays)?C=new v["default"](C.overlays.slice()):((0,T.assert)("function"===typeof C.overlays.getArray,49),C=C.overlays):C=new v["default"];return{controls:ya,interactions:va,keyboardEventTarget:V,overlays:C,values:ia}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=H(A(89)),v=l(A(105)),u=l(A(104)),m=l(A(86)),g=l(A(106)),d=l(A(108)),f=l(A(111)),a=l(A(109)),
e=l(A(107)),n=l(A(112)),y=l(A(113)),B=l(A(83)),D=l(A(110)),O=l(A(92)),M=H(A(116)),F=l(A(151)),z=l(A(119)),G=A(100),K=A(71),R=A(75),T=A(74),ja=A(78),fa=A(128),ha=A(152),la=A(87),Z=A(101),P=function(){var C=function(V,ia){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(aa,ya){aa.__proto__=ya}||function(aa,ya){for(var va in ya)Object.prototype.hasOwnProperty.call(ya,va)&&(aa[va]=ya[va])};return C(V,ia)};return function(V,ia){function aa(){this.constructor=V}C(V,ia);V.prototype=null===
ia?Object.create(ia):(aa.prototype=ia.prototype,new aa)}}();Ja=function(C){function V(ia){var aa=C.call(this)||this,ya=N(ia);aa.boundHandleBrowserEvent_=aa.handleBrowserEvent.bind(aa);aa.maxTilesLoading_=void 0!==ia.maxTilesLoading?ia.maxTilesLoading:16;aa.pixelRatio_=void 0!==ia.pixelRatio?ia.pixelRatio:G.DEVICE_PIXEL_RATIO;aa.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(aa);aa.coordinateToPixelTransform_=(0,R.create)();aa.pixelToCoordinateTransform_=
(0,R.create)();aa.frameIndex_=0;aa.frameState_=null;aa.previousExtent_=null;aa.viewPropertyListenerKey_=null;aa.viewChangeListenerKey_=null;aa.layerGroupPropertyListenerKeys_=null;aa.viewport_=document.createElement("div");aa.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");aa.viewport_.style.position="relative";aa.viewport_.style.overflow="hidden";aa.viewport_.style.width="100%";aa.viewport_.style.height="100%";aa.overlayContainer_=document.createElement("div");aa.overlayContainer_.style.position=
"absolute";aa.overlayContainer_.style.zIndex="0";aa.overlayContainer_.style.width="100%";aa.overlayContainer_.style.height="100%";aa.overlayContainer_.style.pointerEvents="none";aa.overlayContainer_.className="ol-overlaycontainer";aa.viewport_.appendChild(aa.overlayContainer_);aa.overlayContainerStopEvent_=document.createElement("div");aa.overlayContainerStopEvent_.style.position="absolute";aa.overlayContainerStopEvent_.style.zIndex="0";aa.overlayContainerStopEvent_.style.width="100%";aa.overlayContainerStopEvent_.style.height=
"100%";aa.overlayContainerStopEvent_.style.pointerEvents="none";aa.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";aa.viewport_.appendChild(aa.overlayContainerStopEvent_);aa.mapBrowserEventHandler_=null;aa.moveTolerance_=ia.moveTolerance;aa.keyboardEventTarget_=ya.keyboardEventTarget;aa.keyHandlerKeys_=null;aa.controls=ya.controls||new v["default"];aa.interactions=ya.interactions||new v["default"];aa.overlays_=ya.overlays;aa.overlayIdIndex_={};aa.renderer_=null;aa.postRenderFunctions_=
[];aa.tileQueue_=new M["default"](aa.getTilePriority.bind(aa),aa.handleTileChange_.bind(aa));aa.addEventListener((0,x.getChangeEventType)(y["default"].LAYERGROUP),aa.handleLayerGroupChanged_);aa.addEventListener((0,x.getChangeEventType)(y["default"].VIEW),aa.handleViewChanged_);aa.addEventListener((0,x.getChangeEventType)(y["default"].SIZE),aa.handleSizeChanged_);aa.addEventListener((0,x.getChangeEventType)(y["default"].TARGET),aa.handleTargetChanged_);aa.setProperties(ya.values);aa.controls.forEach(function(va){va.setMap(this)}.bind(aa));
aa.controls.addEventListener(u["default"].ADD,function(va){va.element.setMap(this)}.bind(aa));aa.controls.addEventListener(u["default"].REMOVE,function(va){va.element.setMap(null)}.bind(aa));aa.interactions.forEach(function(va){va.setMap(this)}.bind(aa));aa.interactions.addEventListener(u["default"].ADD,function(va){va.element.setMap(this)}.bind(aa));aa.interactions.addEventListener(u["default"].REMOVE,function(va){va.element.setMap(null)}.bind(aa));aa.overlays_.forEach(aa.addOverlayInternal_.bind(aa));
aa.overlays_.addEventListener(u["default"].ADD,function(va){this.addOverlayInternal_(va.element)}.bind(aa));aa.overlays_.addEventListener(u["default"].REMOVE,function(va){var Ia=va.element.getId();void 0!==Ia&&delete this.overlayIdIndex_[Ia.toString()];va.element.setMap(null)}.bind(aa));return aa}P(V,C);V.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};V.prototype.addControl=function(ia){this.getControls().push(ia)};V.prototype.addInteraction=function(ia){this.getInteractions().push(ia)};
V.prototype.addLayer=function(ia){this.getLayerGroup().getLayers().push(ia)};V.prototype.addOverlay=function(ia){this.getOverlays().push(ia)};V.prototype.addOverlayInternal_=function(ia){var aa=ia.getId();void 0!==aa&&(this.overlayIdIndex_[aa.toString()]=ia);ia.setMap(this)};V.prototype.disposeInternal=function(){this.setTarget(null);C.prototype.disposeInternal.call(this)};V.prototype.forEachFeatureAtPixel=function(ia,aa,ya){if(this.frameState_)return ia=this.getCoordinateFromPixelInternal(ia),ya=
void 0!==ya?ya:{},this.renderer_.forEachFeatureAtCoordinate(ia,this.frameState_,void 0!==ya.hitTolerance?ya.hitTolerance:0,!1!==ya.checkWrapped,aa,null,void 0!==ya.layerFilter?ya.layerFilter:K.TRUE,null)};V.prototype.getFeaturesAtPixel=function(ia,aa){var ya=[];this.forEachFeatureAtPixel(ia,function(va){ya.push(va)},aa);return ya};V.prototype.forEachLayerAtPixel=function(ia,aa,ya){if(this.frameState_)return ya=ya||{},this.renderer_.forEachLayerAtPixel(ia,this.frameState_,void 0!==ya.hitTolerance?
ya.hitTolerance:0,aa,ya.layerFilter||K.TRUE)};V.prototype.hasFeatureAtPixel=function(ia,aa){if(!this.frameState_)return!1;ia=this.getCoordinateFromPixelInternal(ia);aa=void 0!==aa?aa:{};return this.renderer_.hasFeatureAtCoordinate(ia,this.frameState_,void 0!==aa.hitTolerance?aa.hitTolerance:0,!1!==aa.checkWrapped,void 0!==aa.layerFilter?aa.layerFilter:K.TRUE,null)};V.prototype.getEventCoordinate=function(ia){return this.getCoordinateFromPixel(this.getEventPixel(ia))};V.prototype.getEventCoordinateInternal=
function(ia){return this.getCoordinateFromPixelInternal(this.getEventPixel(ia))};V.prototype.getEventPixel=function(ia){var aa=this.viewport_.getBoundingClientRect();ia="changedTouches"in ia?ia.changedTouches[0]:ia;return[ia.clientX-aa.left,ia.clientY-aa.top]};V.prototype.getTarget=function(){return this.get(y["default"].TARGET)};V.prototype.getTargetElement=function(){var ia=this.getTarget();return void 0!==ia?"string"===typeof ia?document.getElementById(ia):ia:null};V.prototype.getCoordinateFromPixel=
function(ia){return(0,fa.toUserCoordinate)(this.getCoordinateFromPixelInternal(ia),this.getView().getProjection())};V.prototype.getCoordinateFromPixelInternal=function(ia){var aa=this.frameState_;return aa?(0,R.apply)(aa.pixelToCoordinateTransform,ia.slice()):null};V.prototype.getControls=function(){return this.controls};V.prototype.getOverlays=function(){return this.overlays_};V.prototype.getOverlayById=function(ia){ia=this.overlayIdIndex_[ia.toString()];return void 0!==ia?ia:null};V.prototype.getInteractions=
function(){return this.interactions};V.prototype.getLayerGroup=function(){return this.get(y["default"].LAYERGROUP)};V.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};V.prototype.getLoading=function(){for(var ia=this.getLayerGroup().getLayerStatesArray(),aa=0,ya=ia.length;aa<ya;++aa){var va=ia[aa].layer.getSource();if(va&&va.loading)return!0}return!1};V.prototype.getPixelFromCoordinate=function(ia){ia=(0,fa.fromUserCoordinate)(ia,this.getView().getProjection());return this.getPixelFromCoordinateInternal(ia)};
V.prototype.getPixelFromCoordinateInternal=function(ia){var aa=this.frameState_;return aa?(0,R.apply)(aa.coordinateToPixelTransform,ia.slice(0,2)):null};V.prototype.getRenderer=function(){return this.renderer_};V.prototype.getSize=function(){return this.get(y["default"].SIZE)};V.prototype.getView=function(){return this.get(y["default"].VIEW)};V.prototype.getViewport=function(){return this.viewport_};V.prototype.getOverlayContainer=function(){return this.overlayContainer_};V.prototype.getOverlayContainerStopEvent=
function(){return this.overlayContainerStopEvent_};V.prototype.getOwnerDocument=function(){return this.getTargetElement()?this.getTargetElement().ownerDocument:document};V.prototype.getTilePriority=function(ia,aa,ya,va){return(0,M.getTilePriority)(this.frameState_,ia,aa,ya,va)};V.prototype.handleBrowserEvent=function(ia,aa){ia=new d["default"](aa||ia.type,this,ia);this.handleMapBrowserEvent(ia)};V.prototype.handleMapBrowserEvent=function(ia){if(this.frameState_){var aa=ia.originalEvent,ya=aa.type;
if(ya===D["default"].POINTERDOWN||ya===m["default"].WHEEL||ya===m["default"].KEYDOWN){ya=this.getOwnerDocument();var va=this.viewport_.getRootNode?this.viewport_.getRootNode():ya;aa="host"in va?va.elementFromPoint(aa.clientX,aa.clientY):aa.target;if(this.overlayContainerStopEvent_.contains(aa)||!(va===ya?ya.documentElement:va).contains(aa))return}ia.frameState=this.frameState_;if(!1!==this.dispatchEvent(ia))for(aa=this.getInteractions().getArray().slice(),ya=aa.length-1;0<=ya&&(va=aa[ya],va.getMap()!==
this||!va.getActive()||!this.getTargetElement()||va.handleEvent(ia)&&!ia.propagationStopped);ya--);}};V.prototype.handlePostRender=function(){var ia=this.frameState_,aa=this.tileQueue_;if(!aa.isEmpty()){var ya=this.maxTilesLoading_,va=ya;if(ia){var Ia=ia.viewHints;if(Ia[z["default"].ANIMATING]||Ia[z["default"].INTERACTING])ya=(va=!G.IMAGE_DECODE&&8<Date.now()-ia.time)?0:8,va=va?0:2}aa.getTilesLoading()<ya&&(aa.reprioritize(),aa.loadMoreTiles(ya,va))}!ia||!this.hasListener(O["default"].RENDERCOMPLETE)||
ia.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(O["default"].RENDERCOMPLETE,ia);aa=this.postRenderFunctions_;ya=0;for(va=aa.length;ya<va;++ya)aa[ya](this,ia);aa.length=0};V.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};V.prototype.handleTargetChanged_=function(){var ia;this.getTarget()&&(ia=this.getTargetElement());if(this.mapBrowserEventHandler_){for(var aa=
0,ya=this.keyHandlerKeys_.length;aa<ya;++aa)(0,la.unlistenByKey)(this.keyHandlerKeys_[aa]);this.keyHandlerKeys_=null;this.viewport_.removeEventListener(m["default"].CONTEXTMENU,this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(m["default"].WHEEL,this.boundHandleBrowserEvent_);void 0!==this.handleResize_&&(removeEventListener(m["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,Z.removeNode)(this.viewport_)}if(ia){ia.appendChild(this.viewport_);
this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new f["default"](this,this.moveTolerance_);for(var va in a["default"])this.mapBrowserEventHandler_.addEventListener(a["default"][va],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(m["default"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(m["default"].WHEEL,this.boundHandleBrowserEvent_,G.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);ia=this.keyboardEventTarget_?this.keyboardEventTarget_:
ia;this.keyHandlerKeys_=[(0,la.listen)(ia,m["default"].KEYDOWN,this.handleBrowserEvent,this),(0,la.listen)(ia,m["default"].KEYPRESS,this.handleBrowserEvent,this)];this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(m["default"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&
(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};V.prototype.handleTileChange_=function(){this.render()};V.prototype.handleViewPropertyChanged_=function(){this.render()};V.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,la.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,la.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var ia=
this.getView();ia&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,la.listen)(ia,B["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,la.listen)(ia,m["default"].CHANGE,this.handleViewPropertyChanged_,this),ia.resolveConstraints(0));this.render()};V.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(la.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var ia=
this.getLayerGroup();ia&&(this.layerGroupPropertyListenerKeys_=[(0,la.listen)(ia,B["default"].PROPERTYCHANGE,this.render,this),(0,la.listen)(ia,m["default"].CHANGE,this.render,this)]);this.render()};V.prototype.isRendered=function(){return!!this.frameState_};V.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};V.prototype.redrawText=function(){for(var ia=this.getLayerGroup().getLayerStatesArray(),aa=0,ya=ia.length;aa<ya;++aa){var va=
ia[aa].layer;va.hasRenderer()&&va.getRenderer().handleFontsChanged()}};V.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};V.prototype.removeControl=function(ia){return this.getControls().remove(ia)};V.prototype.removeInteraction=function(ia){return this.getInteractions().remove(ia)};V.prototype.removeLayer=function(ia){return this.getLayerGroup().getLayers().remove(ia)};V.prototype.removeOverlay=function(ia){return this.getOverlays().remove(ia)};
V.prototype.renderFrame_=function(ia){var aa=this,ya=this.getSize(),va=this.getView(),Ia=this.frameState_,bb=null;void 0!==ya&&(0,ha.hasArea)(ya)&&va&&va.isDef()&&(bb=va.getHints(this.frameState_?this.frameState_.viewHints:void 0),va=va.getState(),bb={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ja.getForViewAndSize)(va.center,va.resolution,va.rotation,ya),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),
pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:ya,tileQueue:this.tileQueue_,time:ia,usedTiles:{},viewState:va,viewHints:bb,wantedTiles:{}});this.frameState_=bb;this.renderer_.renderFrame(bb);bb&&(bb.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,bb.postRenderFunctions),!Ia||this.previousExtent_&&((0,ja.isEmpty)(this.previousExtent_)||(0,ja.equals)(bb.extent,this.previousExtent_))||(this.dispatchEvent(new e["default"](n["default"].MOVESTART,
this,Ia)),this.previousExtent_=(0,ja.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||bb.viewHints[z["default"].ANIMATING]||bb.viewHints[z["default"].INTERACTING]||(0,ja.equals)(bb.extent,this.previousExtent_)||(this.dispatchEvent(new e["default"](n["default"].MOVEEND,this,bb)),(0,ja.clone)(bb.extent,this.previousExtent_)));this.dispatchEvent(new e["default"](n["default"].POSTRENDER,this,bb));this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){aa.postRenderTimeoutHandle_=
void 0;aa.handlePostRender()},0))};V.prototype.setLayerGroup=function(ia){this.set(y["default"].LAYERGROUP,ia)};V.prototype.setSize=function(ia){this.set(y["default"].SIZE,ia)};V.prototype.setTarget=function(ia){this.set(y["default"].TARGET,ia)};V.prototype.setView=function(ia){this.set(y["default"].VIEW,ia)};V.prototype.updateSize=function(){var ia=this.getTargetElement();if(ia){var aa=getComputedStyle(ia);this.setSize([ia.offsetWidth-parseFloat(aa.borderLeftWidth)-parseFloat(aa.paddingLeft)-parseFloat(aa.paddingRight)-
parseFloat(aa.borderRightWidth),ia.offsetHeight-parseFloat(aa.borderTopWidth)-parseFloat(aa.paddingTop)-parseFloat(aa.paddingBottom)-parseFloat(aa.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()};V.prototype.updateViewportSize_=function(){var ia=this.getView();if(ia){var aa=void 0,ya=getComputedStyle(this.viewport_);ya.width&&ya.height&&(aa=[parseInt(ya.width,10),parseInt(ya.height,10)]);ia.setViewportSize(aa)}};return V}(x["default"]);E["default"]=Ja};
shadow$provide[154]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(89));var l=k(A(112)),w=A(71),H=A(87),N=A(101),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=v.call(this)||this,d=m.element;!d||m.target||d.style.pointerEvents||(d.style.pointerEvents="auto");g.element=d?d:null;g.target_=null;g.map_=null;g.listenerKeys=[];m.render&&(g.render=m.render);m.target&&g.setTarget(m.target);return g}x(u,v);u.prototype.disposeInternal=function(){(0,N.removeNode)(this.element);v.prototype.disposeInternal.call(this)};u.prototype.getMap=function(){return this.map_};u.prototype.setMap=
function(m){this.map_&&(0,N.removeNode)(this.element);for(var g=0,d=this.listenerKeys.length;g<d;++g)(0,H.unlistenByKey)(this.listenerKeys[g]);this.listenerKeys.length=0;if(this.map_=m)(this.target_?this.target_:m.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==w.VOID&&this.listenerKeys.push((0,H.listen)(m,l["default"].POSTRENDER,this.render,this)),m.render()};u.prototype.render=function(m){};u.prototype.setTarget=function(m){this.target_="string"===typeof m?document.getElementById(m):
m};return u}(Ja["default"]);E["default"]=A};
shadow$provide[155]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var l=k(A(86)),w=A(99),H=A(70),N=A(94),x=A(101),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);
m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=g?g:{};g=u.call(this,{element:document.createElement("div"),render:d.render,target:d.target})||this;g.ulElement_=document.createElement("ul");g.collapsed_=void 0!==d.collapsed?d.collapsed:!0;g.userCollapsed_=g.collapsed_;g.overrideCollapsible_=void 0!==d.collapsible;g.collapsible_=void 0!==d.collapsible?d.collapsible:!0;g.collapsible_||(g.collapsed_=!1);var f=void 0!==d.className?d.className:
"ol-attribution",a=void 0!==d.tipLabel?d.tipLabel:"Attributions",e=void 0!==d.expandClassName?d.expandClassName:f+"-expand",n=void 0!==d.collapseLabel?d.collapseLabel:"",y=void 0!==d.collapseClassName?d.collapseClassName:f+"-collpase";"string"===typeof n?(g.collapseLabel_=document.createElement("span"),g.collapseLabel_.textContent=n,g.collapseLabel_.className=y):g.collapseLabel_=n;d=void 0!==d.label?d.label:"i";"string"===typeof d?(g.label_=document.createElement("span"),g.label_.textContent=d,g.label_.className=
e):g.label_=d;d=g.collapsible_&&!g.collapsed_?g.collapseLabel_:g.label_;e=document.createElement("button");e.setAttribute("type","button");e.title=a;e.appendChild(d);e.addEventListener(l["default"].CLICK,g.handleClick_.bind(g),!1);a=g.element;a.className=f+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL+(g.collapsed_&&g.collapsible_?" "+w.CLASS_COLLAPSED:"")+(g.collapsible_?"":" ol-uncollapsible");a.appendChild(g.ulElement_);a.appendChild(e);g.renderedAttributions_=[];g.renderedVisible_=!0;return g}
v(m,u);m.prototype.collectSourceAttributions_=function(g){for(var d={},f=[],a=!0,e=g.layerStatesArray,n=0,y=e.length;n<y;++n){var B=e[n];if((0,N.inView)(B,g.viewState)){var D=B.layer.getSource();if(D&&(B=D.getAttributions())&&(B=B(g)))if(a=a&&!1!==D.getAttributionsCollapsible(),Array.isArray(B)){D=0;for(var O=B.length;D<O;++D)B[D]in d||(f.push(B[D]),d[B[D]]=!0)}else B in d||(f.push(B),d[B]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return f};m.prototype.updateElement_=function(g){if(g){g=
this.collectSourceAttributions_(g);var d=0<g.length;this.renderedVisible_!=d&&(this.element.style.display=d?"":"none",this.renderedVisible_=d);if(!(0,H.equals)(g,this.renderedAttributions_)){(0,x.removeChildren)(this.ulElement_);d=0;for(var f=g.length;d<f;++d){var a=document.createElement("li");a.innerHTML=g[d];this.ulElement_.appendChild(a)}this.renderedAttributions_=g}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};m.prototype.handleClick_=function(g){g.preventDefault();
this.handleToggle_();this.userCollapsed_=this.collapsed_};m.prototype.handleToggle_=function(){this.element.classList.toggle(w.CLASS_COLLAPSED);this.collapsed_?(0,x.replaceNode)(this.collapseLabel_,this.label_):(0,x.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_};m.prototype.getCollapsible=function(){return this.collapsible_};m.prototype.setCollapsible=function(g){this.collapsible_!==g&&(this.collapsible_=g,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&
this.handleToggle_())};m.prototype.setCollapsed=function(g){this.userCollapsed_=g;this.collapsible_&&this.collapsed_!==g&&this.handleToggle_()};m.prototype.getCollapsed=function(){return this.collapsed_};m.prototype.render=function(g){this.updateElement_(g.frameState)};return m}(Ja["default"]);E["default"]=A};
shadow$provide[156]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var l=k(A(86)),w=A(99),H=A(132),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=u?u:{};u=x.call(this,{element:document.createElement("div"),render:m.render,target:m.target})||this;var g=void 0!==m.className?m.className:"ol-rotate",d=void 0!==m.label?m.label:"",f=void 0!==m.compassClassName?m.compassClassName:"ol-compass";u.label_=null;"string"===typeof d?(u.label_=document.createElement("span"),u.label_.className=f,u.label_.textContent=d):(u.label_=d,u.label_.classList.add(f));f=m.tipLabel?
m.tipLabel:"Reset rotation";d=document.createElement("button");d.className=g+"-reset";d.setAttribute("type","button");d.title=f;d.appendChild(u.label_);d.addEventListener(l["default"].CLICK,u.handleClick_.bind(u),!1);f=u.element;f.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;f.appendChild(d);u.callResetNorth_=m.resetNorth?m.resetNorth:void 0;u.duration_=void 0!==m.duration?m.duration:250;u.autoHide_=void 0!==m.autoHide?m.autoHide:!0;u.rotation_=void 0;u.autoHide_&&u.element.classList.add(w.CLASS_HIDDEN);
return u}N(v,x);v.prototype.handleClick_=function(u){u.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};v.prototype.resetNorth_=function(){var u=this.getMap().getView();if(u){var m=u.getRotation();void 0!==m&&(0<this.duration_&&0!==m%(2*Math.PI)?u.animate({rotation:0,duration:this.duration_,easing:H.easeOut}):u.setRotation(0))}};v.prototype.render=function(u){if(u=u.frameState){u=u.viewState.rotation;if(u!=this.rotation_){var m="rotate("+u+"rad)";if(this.autoHide_){var g=
this.element.classList.contains(w.CLASS_HIDDEN);g||0!==u?g&&0!==u&&this.element.classList.remove(w.CLASS_HIDDEN):this.element.classList.add(w.CLASS_HIDDEN)}this.label_.style.transform=m}this.rotation_=u}};return v}(Ja["default"]);E["default"]=A};
shadow$provide[157]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var l=k(A(86)),w=A(99),H=A(132),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=u?u:{};u=x.call(this,{element:document.createElement("div"),target:m.target})||this;var g=void 0!==m.className?m.className:"ol-zoom",d=void 0!==m.delta?m.delta:1,f=void 0!==m.zoomInClassName?m.zoomInClassName:g+"-in",a=void 0!==m.zoomOutClassName?m.zoomOutClassName:g+"-out",e=void 0!==m.zoomInLabel?m.zoomInLabel:"+",n=void 0!==m.zoomOutLabel?m.zoomOutLabel:"",y=void 0!==m.zoomInTipLabel?m.zoomInTipLabel:"Zoom in",
B=void 0!==m.zoomOutTipLabel?m.zoomOutTipLabel:"Zoom out",D=document.createElement("button");D.className=f;D.setAttribute("type","button");D.title=y;D.appendChild("string"===typeof e?document.createTextNode(e):e);D.addEventListener(l["default"].CLICK,u.handleClick_.bind(u,d),!1);f=document.createElement("button");f.className=a;f.setAttribute("type","button");f.title=B;f.appendChild("string"===typeof n?document.createTextNode(n):n);f.addEventListener(l["default"].CLICK,u.handleClick_.bind(u,-d),!1);
d=u.element;d.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;d.appendChild(D);d.appendChild(f);u.duration_=void 0!==m.duration?m.duration:250;return u}N(v,x);v.prototype.handleClick_=function(u,m){m.preventDefault();this.zoomByDelta_(u)};v.prototype.zoomByDelta_=function(u){var m=this.getMap().getView();if(m){var g=m.getZoom();void 0!==g&&(u=m.getConstrainedZoom(g+u),0<this.duration_?(m.getAnimating()&&m.cancelAnimations(),m.animate({zoom:u,duration:this.duration_,easing:H.easeOut})):m.setZoom(u))}};
return v}(Ja["default"]);E["default"]=A};
shadow$provide[158]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(){var d=document.body;return!!(d.webkitRequestFullscreen||d.msRequestFullscreen&&document.msFullscreenEnabled||d.requestFullscreen&&document.fullscreenEnabled)}function w(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function H(d){d.requestFullscreen?d.requestFullscreen():d.msRequestFullscreen?d.msRequestFullscreen():d.webkitRequestFullscreen&&
d.webkitRequestFullscreen()}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var N=k(A(86)),x=A(99),v=A(87),u=A(101),m=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),
g=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];A=function(d){function f(a){var e=a?a:{};a=d.call(this,{element:document.createElement("div"),target:e.target})||this;a.cssClassName_=void 0!==e.className?e.className:"ol-full-screen";a.activeClassName_=void 0!==e.activeClassName?e.activeClassName.split(" "):[a.cssClassName_+"-true"];a.inactiveClassName_=void 0!==e.inactiveClassName?e.inactiveClassName.split(" "):[a.cssClassName_+"-false"];var n=void 0!==e.label?e.label:"";a.labelNode_=
"string"===typeof n?document.createTextNode(n):n;n=void 0!==e.labelActive?e.labelActive:"";a.labelActiveNode_="string"===typeof n?document.createTextNode(n):n;a.button_=document.createElement("button");n=e.tipLabel?e.tipLabel:"Toggle full-screen";a.setClassName_(a.button_,w());a.button_.setAttribute("type","button");a.button_.title=n;a.button_.appendChild(a.labelNode_);a.button_.addEventListener(N["default"].CLICK,a.handleClick_.bind(a),!1);n=a.cssClassName_+" "+x.CLASS_UNSELECTABLE+" "+x.CLASS_CONTROL+
" "+(l()?"":x.CLASS_UNSUPPORTED);var y=a.element;y.className=n;y.appendChild(a.button_);a.keys_=void 0!==e.keys?e.keys:!1;a.source_=e.source;return a}m(f,d);f.prototype.handleClick_=function(a){a.preventDefault();this.handleFullScreen_()};f.prototype.handleFullScreen_=function(){if(l()){var a=this.getMap();a&&(w()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.source_?"string"===
typeof this.source_?document.getElementById(this.source_):this.source_:a.getTargetElement(),this.keys_?a.webkitRequestFullscreen?a.webkitRequestFullscreen():H(a):H(a)))}};f.prototype.handleFullScreenChange_=function(){var a=this.getMap();w()?(this.setClassName_(this.button_,!0),(0,u.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,u.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen"));
a&&a.updateSize()};f.prototype.setClassName_=function(a,e){var n,y,B,D=this.activeClassName_,O=this.inactiveClassName_;e=e?D:O;(n=a.classList).remove.apply(n,D);(y=a.classList).remove.apply(y,O);(B=a.classList).add.apply(B,e)};f.prototype.setMap=function(a){d.prototype.setMap.call(this,a);if(a){a=0;for(var e=g.length;a<e;++a)this.listenerKeys.push((0,v.listen)(document,g[a],this.handleFullScreenChange_,this))}};return f}(Ja["default"]);E["default"]=A};
shadow$provide[159]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var l=k(A(110)),w=A(89),H=A(128),N=A(87),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=m?m:{},d=document.createElement("div");d.className=void 0!==g.className?g.className:"ol-mouse-position";m=v.call(this,{element:d,render:g.render,target:g.target})||this;m.addEventListener((0,w.getChangeEventType)("projection"),m.handleProjectionChanged_);g.coordinateFormat&&m.setCoordinateFormat(g.coordinateFormat);g.projection&&m.setProjection(g.projection);m.undefinedHTML_=void 0!==g.undefinedHTML?g.undefinedHTML:
"\x26#160;";m.renderOnMouseOut_=!!m.undefinedHTML_;m.renderedHTML_=d.innerHTML;m.mapProjection_=null;m.transform_=null;return m}x(u,v);u.prototype.handleProjectionChanged_=function(){this.transform_=null};u.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};u.prototype.getProjection=function(){return this.get("projection")};u.prototype.handleMouseMove=function(m){var g=this.getMap();this.updateHTML_(g.getEventPixel(m))};u.prototype.handleMouseOut=function(m){this.updateHTML_(null)};
u.prototype.setMap=function(m){v.prototype.setMap.call(this,m);m&&(m=m.getViewport(),this.listenerKeys.push((0,N.listen)(m,l["default"].POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,N.listen)(m,l["default"].POINTEROUT,this.handleMouseOut,this)))};u.prototype.setCoordinateFormat=function(m){this.set("coordinateFormat",m)};u.prototype.setProjection=function(m){this.set("projection",(0,H.get)(m))};u.prototype.updateHTML_=function(m){var g=this.undefinedHTML_;
if(m&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,H.getTransformFromProjections)(this.mapProjection_,d):H.identityTransform}if(m=this.getMap().getCoordinateFromPixelInternal(m)){if(g=(0,H.getUserProjection)())this.transform_=(0,H.getTransformFromProjections)(this.mapProjection_,g);this.transform_(m,m);g=(g=this.getCoordinateFormat())?g(m):m.toString()}}this.renderedHTML_&&g===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=g)};u.prototype.render=
function(m){m=m.frameState;m?this.mapProjection_!=m.viewState.projection&&(this.mapProjection_=m.viewState.projection,this.transform_=null):this.mapProjection_=null};return u}(Ja["default"]);E["default"]=A};
shadow$provide[160]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[161]=function(Ja,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function w(f){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return w(f)}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==w(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var B=n?Object.getOwnPropertyDescriptor(f,y):null;B&&(B.get||B.set)?Object.defineProperty(e,y,B):e[y]=f[y]}e["default"]=f;a&&a.set(f,e);return e}(A(89)),N=k(A(112)),x=k(A(160)),v=A(99),u=A(78),m=A(87),g=A(101),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ja=function(f){function a(e){var n=f.call(this)||this;n.options=e;n.id=e.id;n.insertFirst=void 0!==e.insertFirst?e.insertFirst:!0;n.stopEvent=void 0!==e.stopEvent?e.stopEvent:
!0;n.element=document.createElement("div");n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+v.CLASS_SELECTABLE;n.element.style.position="absolute";n.element.style.pointerEvents="auto";var y=e.autoPan;y&&"object"!==w(y)&&(y={animation:e.autoPanAnimation,margin:e.autoPanMargin});n.autoPan=y||!1;n.rendered={transform_:"",visible:!0};n.mapPostrenderListenerKey=null;n.addEventListener((0,H.getChangeEventType)("element"),n.handleElementChanged);n.addEventListener((0,H.getChangeEventType)("map"),
n.handleMapChanged);n.addEventListener((0,H.getChangeEventType)("offset"),n.handleOffsetChanged);n.addEventListener((0,H.getChangeEventType)("position"),n.handlePositionChanged);n.addEventListener((0,H.getChangeEventType)("positioning"),n.handlePositioningChanged);void 0!==e.element&&n.setElement(e.element);n.setOffset(void 0!==e.offset?e.offset:[0,0]);n.setPositioning(void 0!==e.positioning?e.positioning:x["default"].TOP_LEFT);void 0!==e.position&&n.setPosition(e.position);return n}d(a,f);a.prototype.getElement=
function(){return this.get("element")};a.prototype.getId=function(){return this.id};a.prototype.getMap=function(){return this.get("map")};a.prototype.getOffset=function(){return this.get("offset")};a.prototype.getPosition=function(){return this.get("position")};a.prototype.getPositioning=function(){return this.get("positioning")};a.prototype.handleElementChanged=function(){(0,g.removeChildren)(this.element);var e=this.getElement();e&&this.element.appendChild(e)};a.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&
((0,g.removeNode)(this.element),(0,m.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();e&&(this.mapPostrenderListenerKey=(0,m.listen)(e,N["default"].POSTRENDER,this.render,this),this.updatePixelPosition(),e=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer(),this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan())};a.prototype.render=function(){this.updatePixelPosition()};
a.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};a.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};a.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};a.prototype.setElement=function(e){this.set("element",e)};a.prototype.setMap=function(e){this.set("map",e)};a.prototype.setOffset=function(e){this.set("offset",e)};a.prototype.setPosition=function(e){this.set("position",e)};a.prototype.performAutoPan=function(){this.autoPan&&
this.panIntoView(this.autoPan)};a.prototype.panIntoView=function(e){var n=this.getMap();if(n&&n.getTargetElement()&&this.get("position")){var y=this.getRect(n.getTargetElement(),n.getSize()),B=this.getElement(),D=this.getRect(B,[(0,g.outerWidth)(B),(0,g.outerHeight)(B)]);e=e||{};B=void 0===e.margin?20:e.margin;if(!(0,u.containsExtent)(y,D)){var O=D[0]-y[0],M=y[2]-D[2],F=D[1]-y[1];D=y[3]-D[3];y=[0,0];0>O?y[0]=O-B:0>M&&(y[0]=Math.abs(M)+B);0>F?y[1]=F-B:0>D&&(y[1]=Math.abs(D)+B);if(0!==y[0]||0!==y[1])if(B=
n.getView().getCenterInternal(),B=n.getPixelFromCoordinateInternal(B))y=[B[0]+y[0],B[1]+y[1]],e=e.animation||{},n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(y),duration:e.duration,easing:e.easing})}}};a.prototype.getRect=function(e,n){var y=e.getBoundingClientRect();e=y.left+window.pageXOffset;y=y.top+window.pageYOffset;return[e,y,e+n[0],y+n[1]]};a.prototype.setPositioning=function(e){this.set("positioning",e)};a.prototype.setVisible=function(e){this.rendered.visible!==e&&
(this.element.style.display=e?"":"none",this.rendered.visible=e)};a.prototype.updatePixelPosition=function(){var e=this.getMap(),n=this.getPosition();e&&e.isRendered()&&n?(n=e.getPixelFromCoordinate(n),e=e.getSize(),this.updateRenderedPosition(n,e)):this.setVisible(!1)};a.prototype.updateRenderedPosition=function(e,n){n=this.element.style;var y=this.getOffset(),B=this.getPositioning();this.setVisible(!0);var D=Math.round(e[0]+y[0])+"px";e=Math.round(e[1]+y[1])+"px";var O=y="0%";if(B==x["default"].BOTTOM_RIGHT||
B==x["default"].CENTER_RIGHT||B==x["default"].TOP_RIGHT)y="-100%";else if(B==x["default"].BOTTOM_CENTER||B==x["default"].CENTER_CENTER||B==x["default"].TOP_CENTER)y="-50%";if(B==x["default"].BOTTOM_LEFT||B==x["default"].BOTTOM_CENTER||B==x["default"].BOTTOM_RIGHT)O="-100%";else if(B==x["default"].CENTER_LEFT||B==x["default"].CENTER_CENTER||B==x["default"].CENTER_RIGHT)O="-50%";B="translate("+y+", "+O+") translate("+D+", "+e+")";this.rendered.transform_!=B&&(this.rendered.transform_=B,n.transform=
B,n.msTransform=B)};a.prototype.getOptions=function(){return this.options};return a}(H["default"]);E["default"]=Ja};
shadow$provide[162]=function(Ja,A,rb,E){function k(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(103));Ja=k(A(154));var w=k(A(86)),H=k(A(112)),N=k(A(113)),x=k(A(83)),v=k(A(161)),u=k(A(160));rb=k(A(153));var m=k(A(151)),g=k(A(120)),d=A(99),f=A(78),a=A(89),e=A(87),n=A(150),y=A(101),B=function(){var O=function(M,F){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var K in G)Object.prototype.hasOwnProperty.call(G,
K)&&(z[K]=G[K])};return O(M,F)};return function(M,F){function z(){this.constructor=M}O(M,F);M.prototype=null===F?Object.create(F):(z.prototype=F.prototype,new z)}}(),D=function(O){function M(){return null!==O&&O.apply(this,arguments)||this}B(M,O);M.prototype.createRenderer=function(){return new l["default"](this)};return M}(rb["default"]);A=function(O){function M(F){var z=this,G=F?F:{};z=O.call(this,{element:document.createElement("div"),render:G.render,target:G.target})||this;z.boundHandleRotationChanged_=
z.handleRotationChanged_.bind(z);z.collapsed_=void 0!==G.collapsed?G.collapsed:!0;z.collapsible_=void 0!==G.collapsible?G.collapsible:!0;z.collapsible_||(z.collapsed_=!1);z.rotateWithView_=void 0!==G.rotateWithView?G.rotateWithView:!1;z.viewExtent_=void 0;F=void 0!==G.className?G.className:"ol-overviewmap";var K=void 0!==G.tipLabel?G.tipLabel:"Overview map",R=void 0!==G.collapseLabel?G.collapseLabel:"";"string"===typeof R?(z.collapseLabel_=document.createElement("span"),z.collapseLabel_.textContent=
R):z.collapseLabel_=R;R=void 0!==G.label?G.label:"";"string"===typeof R?(z.label_=document.createElement("span"),z.label_.textContent=R):z.label_=R;var T=z.collapsible_&&!z.collapsed_?z.collapseLabel_:z.label_;R=document.createElement("button");R.setAttribute("type","button");R.title=K;R.appendChild(T);R.addEventListener(w["default"].CLICK,z.handleClick_.bind(z),!1);z.ovmapDiv_=document.createElement("div");z.ovmapDiv_.className="ol-overviewmap-map";z.view_=G.view;z.ovmap_=new D({view:G.view});var ja=
z.ovmap_;G.layers&&G.layers.forEach(function(P){ja.addLayer(P)});G=document.createElement("div");G.className="ol-overviewmap-box";G.style.boxSizing="border-box";z.boxOverlay_=new v["default"]({position:[0,0],positioning:u["default"].CENTER_CENTER,element:G});z.ovmap_.addOverlay(z.boxOverlay_);G=z.element;G.className=F+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(z.collapsed_&&z.collapsible_?" "+d.CLASS_COLLAPSED:"")+(z.collapsible_?"":" ol-uncollapsible");G.appendChild(z.ovmapDiv_);G.appendChild(R);
var fa=z,ha=z.boxOverlay_,la=function(P){P=ja.getEventCoordinateInternal({clientX:P.clientX,clientY:P.clientY});ha.setPosition(P)},Z=function V(C){C=ja.getEventCoordinateInternal(C);fa.getMap().getView().setCenterInternal(C);window.removeEventListener("mousemove",la);window.removeEventListener("mouseup",V)};z.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",la);window.addEventListener("mouseup",Z)});return z}B(M,O);M.prototype.setMap=function(F){var z=
this.getMap();F!==z&&(z&&((z=z.getView())&&this.unbindView_(z),this.ovmap_.setTarget(null)),O.prototype.setMap.call(this,F),F&&(this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,e.listen)(F,x["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),F=F.getView()))&&(this.bindView_(F),F.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))};M.prototype.handleMapPropertyChange_=function(F){F.key===N["default"].VIEW&&((F=F.oldValue)&&this.unbindView_(F),F=this.getMap().getView(),
this.bindView_(F))};M.prototype.bindView_=function(F){if(!this.view_){var z=new m["default"]({projection:F.getProjection()});this.ovmap_.setView(z)}F.addEventListener((0,a.getChangeEventType)(g["default"].ROTATION),this.boundHandleRotationChanged_);this.handleRotationChanged_()};M.prototype.unbindView_=function(F){F.removeEventListener((0,a.getChangeEventType)(g["default"].ROTATION),this.boundHandleRotationChanged_)};M.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};
M.prototype.validateExtent_=function(){var F=this.getMap(),z=this.ovmap_;if(F.isRendered()&&z.isRendered()){var G=F.getSize();F=F.getView().calculateExtentInternal(G);if(!this.viewExtent_||!(0,f.equals)(F,this.viewExtent_)){this.viewExtent_=F;var K=z.getSize();G=z.getView().calculateExtentInternal(K);var R=z.getPixelFromCoordinateInternal((0,f.getTopLeft)(F)),T=z.getPixelFromCoordinateInternal((0,f.getBottomRight)(F));z=Math.abs(R[0]-T[0]);R=Math.abs(R[1]-T[1]);T=K[0];K=K[1];z<.1*T||R<.1*K||z>.75*
T||R>.75*K?this.resetExtent_():(0,f.containsExtent)(G,F)||this.recenter_()}}};M.prototype.resetExtent_=function(){var F=this.getMap(),z=this.ovmap_,G=F.getSize();F=F.getView().calculateExtentInternal(G);z=z.getView();G=1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2));(0,f.scaleFromCenter)(F,G);z.fitInternal((0,n.fromExtent)(F))};M.prototype.recenter_=function(){var F=this.getMap(),z=this.ovmap_;F=F.getView();z.getView().setCenterInternal(F.getCenterInternal())};M.prototype.updateBox_=function(){var F=
this.getMap(),z=this.ovmap_;if(F.isRendered()&&z.isRendered()){var G=F.getSize(),K=F.getView(),R=z.getView();z=this.rotateWithView_?0:-K.getRotation();F=this.boxOverlay_;var T=this.boxOverlay_.getElement(),ja=K.getCenterInternal();K=K.getResolution();var fa=R.getResolution();R=G[0]*K/fa;G=G[1]*K/fa;F.setPosition(ja);T&&(T.style.width=R+"px",T.style.height=G+"px",T.style.transform="rotate("+z+"rad)")}};M.prototype.handleClick_=function(F){F.preventDefault();this.handleToggle_()};M.prototype.handleToggle_=
function(){this.element.classList.toggle(d.CLASS_COLLAPSED);this.collapsed_?(0,y.replaceNode)(this.collapseLabel_,this.label_):(0,y.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;var F=this.ovmap_;this.collapsed_||(F.isRendered()?(this.viewExtent_=void 0,F.render()):(F.updateSize(),this.resetExtent_(),(0,e.listenOnce)(F,H["default"].POSTRENDER,function(z){this.updateBox_()},this)))};M.prototype.getCollapsible=function(){return this.collapsible_};M.prototype.setCollapsible=
function(F){this.collapsible_!==F&&(this.collapsible_=F,this.element.classList.toggle("ol-uncollapsible"),!F&&this.collapsed_&&this.handleToggle_())};M.prototype.setCollapsed=function(F){this.collapsible_&&this.collapsed_!==F&&this.handleToggle_()};M.prototype.getCollapsed=function(){return this.collapsed_};M.prototype.getRotateWithView=function(){return this.rotateWithView_};M.prototype.setRotateWithView=function(F){this.rotateWithView_!==F&&(this.rotateWithView_=F,0!==this.getMap().getView().getRotation()&&
(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};M.prototype.getOverviewMap=function(){return this.ovmap_};M.prototype.render=function(F){this.validateExtent_();this.updateBox_()};return M}(Ja["default"]);E["default"]=A};
shadow$provide[163]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Units=void 0;Ja=k(A(154));var l=k(A(118)),w=A(99),H=A(128),N=A(74),x=A(89),v=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),u={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};E.Units=u;var m=[1,2,5],g=25.4/.28;A=function(d){function f(a){var e=a?a:{},n=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";a=d.call(this,{element:document.createElement("div"),render:e.render,target:e.target})||this;a.innerElement_=document.createElement("div");a.innerElement_.className=n+"-inner";a.element.className=
n+" "+w.CLASS_UNSELECTABLE;a.element.appendChild(a.innerElement_);a.viewState_=null;a.minWidth_=void 0!==e.minWidth?e.minWidth:64;a.renderedVisible_=!1;a.renderedWidth_=void 0;a.renderedHTML_="";a.addEventListener((0,x.getChangeEventType)("units"),a.handleUnitsChanged_);a.setUnits(e.units||u.METRIC);a.scaleBar_=e.bar||!1;a.scaleBarSteps_=e.steps||4;a.scaleBarText_=e.text||!1;a.dpi_=e.dpi||void 0;return a}v(f,d);f.prototype.getUnits=function(){return this.get("units")};f.prototype.handleUnitsChanged_=
function(){this.updateElement_()};f.prototype.setUnits=function(a){this.set("units",a)};f.prototype.setDpi=function(a){this.dpi_=a};f.prototype.updateElement_=function(){var a=this.viewState_;if(a){var e=a.center,n=a.projection,y=this.getUnits(),B=y==u.DEGREES?l["default"].DEGREES:l["default"].METERS;a=(0,H.getPointResolution)(n,a.resolution,e,B);e=this.minWidth_*(this.dpi_||g)/g;B=e*a;n="";y==u.DEGREES?(y=H.METERS_PER_UNIT[l["default"].DEGREES],B*=y,B<y/60?(n="",a*=3600):B<y?(n="",a*=60):n=""):
y==u.IMPERIAL?.9144>B?(n="in",a/=.0254):1609.344>B?(n="ft",a/=.3048):(n="mi",a/=1609.344):y==u.NAUTICAL?(a/=1852,n="nm"):y==u.METRIC?.001>B?(n="m",a*=1E6):1>B?(n="mm",a*=1E3):1E3>B?n="m":(n="km",a/=1E3):y==u.US?.9144>B?(n="in",a*=39.37):1609.344>B?(n="ft",a/=.30480061):(n="mi",a/=1609.3472):(0,N.assert)(!1,33);B=3*Math.floor(Math.log(e*a)/Math.log(10));for(var D,O;;){O=Math.floor(B/3);D=m[(B%3+3)%3]*Math.pow(10,O);y=Math.round(D/a);if(isNaN(y)){this.element.style.display="none";this.renderedVisible_=
!1;return}if(y>=e)break;++B}a=this.scaleBar_?this.createScaleBar(y,D,n):D.toFixed(0>O?-O:0)+" "+n;this.renderedHTML_!=a&&(this.renderedHTML_=this.innerElement_.innerHTML=a);this.renderedWidth_!=y&&(this.innerElement_.style.width=y+"px",this.renderedWidth_=y);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};f.prototype.createScaleBar=function(a,e,n){for(var y="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),
B=[],D=a/this.scaleBarSteps_,O="#ffffff",M=0;M<this.scaleBarSteps_;M++)0===M&&B.push(this.createMarker("absolute",M)),B.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+D+"px;background-color: "+O+';"\x3e\x3c/div\x3e'+this.createMarker("relative",M)+(0===M%2||2===this.scaleBarSteps_?this.createStepText(M,a,!1,e,n):"")+"\x3c/div\x3e"),M===this.scaleBarSteps_-1&&B.push(this.createStepText(M+1,a,!0,e,n)),O="#ffffff"===O?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+
(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+a+'px;"\x3e'+y+"\x3c/div\x3e":"")+B.join("")+"\x3c/div\x3e"};f.prototype.createMarker=function(a,e){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+a+";top: "+("absolute"===a?3:-10)+'px;"\x3e\x3c/div\x3e'};f.prototype.createStepText=function(a,e,n,y,B){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===a?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===a?"left":"center")+"; min-width: "+
(0===a?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';"\x3e'+((0===a?0:Math.round(y/this.scaleBarSteps_*a*100)/100)+(0===a?"":" "+B))+"\x3c/div\x3e"};f.prototype.getScaleForResolution=function(){var a=(0,H.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||g,n=this.viewState_.projection.getMetersPerUnit(),y=1E3/25.4;return parseFloat(a.toString())*n*y*e};f.prototype.render=function(a){this.viewState_=(a=a.frameState)?a.viewState:
null;this.updateElement_()};return f}(Ja["default"]);E["default"]=A};
shadow$provide[164]=function(Ja,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var l=k(A(86)),w=k(A(110)),H=A(99),N=A(79),x=A(132),v=A(87),u=A(82),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=f?f:{};f=g.call(this,{element:document.createElement("div"),render:a.render})||this;f.dragListenerKeys_=[];f.currentResolution_=void 0;f.direction_=0;f.heightLimit_=0;f.widthLimit_=0;f.thumbSize_=null;f.sliderInitialized_=!1;f.duration_=void 0!==a.duration?a.duration:200;a=void 0!==a.className?a.className:"ol-zoomslider";var e=document.createElement("button");e.setAttribute("type",
"button");e.className=a+"-thumb "+H.CLASS_UNSELECTABLE;var n=f.element;n.className=a+" "+H.CLASS_UNSELECTABLE+" "+H.CLASS_CONTROL;n.appendChild(e);n.addEventListener(w["default"].POINTERDOWN,f.handleDraggerStart_.bind(f),!1);n.addEventListener(w["default"].POINTERMOVE,f.handleDraggerDrag_.bind(f),!1);n.addEventListener(w["default"].POINTERUP,f.handleDraggerEnd_.bind(f),!1);n.addEventListener(l["default"].CLICK,f.handleContainerClick_.bind(f),!1);e.addEventListener(l["default"].CLICK,u.stopPropagation,
!1);return f}m(d,g);d.prototype.setMap=function(f){g.prototype.setMap.call(this,f);f&&f.render()};d.prototype.initSlider_=function(){var f=this.element,a=f.offsetWidth,e=f.offsetHeight;if(0===a&&0===e)return this.sliderInitialized_=!1;var n=f.firstElementChild,y=getComputedStyle(n);f=n.offsetWidth+parseFloat(y.marginRight)+parseFloat(y.marginLeft);n=n.offsetHeight+parseFloat(y.marginTop)+parseFloat(y.marginBottom);this.thumbSize_=[f,n];a>e?(this.direction_=1,this.widthLimit_=a-f):(this.direction_=
0,this.heightLimit_=e-n);return this.sliderInitialized_=!0};d.prototype.handleContainerClick_=function(f){var a=this.getMap().getView();f=this.getRelativePosition_(f.offsetX-this.thumbSize_[0]/2,f.offsetY-this.thumbSize_[1]/2);f=this.getResolutionForPosition_(f);f=a.getConstrainedZoom(a.getZoomForResolution(f));a.animateInternal({zoom:f,duration:this.duration_,easing:x.easeOut})};d.prototype.handleDraggerStart_=function(f){if(!this.dragging_&&f.target===this.element.firstElementChild){var a=this.element.firstElementChild;
this.getMap().getView().beginInteraction();this.startX_=f.clientX-parseFloat(a.style.left);this.startY_=f.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){f=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var e=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,v.listen)(e,w["default"].POINTERMOVE,f,this),(0,v.listen)(e,w["default"].POINTERUP,a,this))}}};d.prototype.handleDraggerDrag_=function(f){this.dragging_&&(f=this.getRelativePosition_(f.clientX-
this.startX_,f.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(f),this.getMap().getView().setResolution(this.currentResolution_))};d.prototype.handleDraggerEnd_=function(f){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(v.unlistenByKey),this.dragListenerKeys_.length=0)};d.prototype.setThumbPosition_=function(f){f=this.getPositionForResolution_(f);var a=this.element.firstElementChild;
1==this.direction_?a.style.left=this.widthLimit_*f+"px":a.style.top=this.heightLimit_*f+"px"};d.prototype.getRelativePosition_=function(f,a){f=1===this.direction_?f/this.widthLimit_:a/this.heightLimit_;return(0,N.clamp)(f,0,1)};d.prototype.getResolutionForPosition_=function(f){return this.getMap().getView().getResolutionForValueFunction()(1-f)};d.prototype.getPositionForResolution_=function(f){var a=this.getMap().getView().getValueForResolutionFunction();return(0,N.clamp)(1-a(f),0,1)};d.prototype.render=
function(f){f.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=f=f.frameState.viewState.resolution,this.setThumbPosition_(f))};return d}(Ja["default"]);E["default"]=A};
shadow$provide[165]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(154));var l=k(A(86)),w=A(99),H=A(150),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=u?u:{};u=x.call(this,{element:document.createElement("div"),target:m.target})||this;u.extent=m.extent?m.extent:null;var g=void 0!==m.className?m.className:"ol-zoom-extent",d=void 0!==m.label?m.label:"E",f=void 0!==m.tipLabel?m.tipLabel:"Fit to extent";m=document.createElement("button");m.setAttribute("type","button");m.title=f;m.appendChild("string"===typeof d?document.createTextNode(d):d);m.addEventListener(l["default"].CLICK,
u.handleClick_.bind(u),!1);d=u.element;d.className=g+" "+w.CLASS_UNSELECTABLE+" "+w.CLASS_CONTROL;d.appendChild(m);return u}N(v,x);v.prototype.handleClick_=function(u){u.preventDefault();this.handleZoomToExtent()};v.prototype.handleZoomToExtent=function(){var u=this.getMap().getView(),m=this.extent?this.extent:u.getProjection().getExtent();u.fitInternal((0,H.fromExtent)(m))};return v}(Ja["default"]);E["default"]=A};
shadow$provide[166]=function(Ja,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E.defaults=function(a){a=a?a:{};var e=new w["default"];(void 0!==a.zoom?a.zoom:1)&&e.push(new N["default"](a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&e.push(new H["default"](a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&e.push(new l["default"](a.attributionOptions));return e};Object.defineProperty(E,"Attribution",{enumerable:!0,get:function(){return l["default"]}});
Object.defineProperty(E,"Rotate",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"Zoom",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,"Control",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"FullScreen",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"MousePosition",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"OverviewMap",{enumerable:!0,get:function(){return m["default"]}});
Object.defineProperty(E,"ScaleLine",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"ZoomSlider",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(E,"ZoomToExtent",{enumerable:!0,get:function(){return f["default"]}});var l=k(A(155)),w=k(A(105)),H=k(A(156)),N=k(A(157)),x=k(A(154)),v=k(A(158)),u=k(A(159)),m=k(A(162)),g=k(A(163)),d=k(A(164)),f=k(A(165))};
shadow$provide[167]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ACTIVE:"active"}};
shadow$provide[168]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E.pan=function(N,x,v){var u=N.getCenterInternal();u&&N.animateInternal({duration:void 0!==v?v:250,easing:w.linear,center:N.getConstrainedCenter([u[0]+x[0],u[1]+x[1]])})};E.zoomByDelta=function(N,x,v,u){var m=N.getZoom();void 0!==m&&(x=N.getConstrainedZoom(m+x),x=N.getResolutionForZoom(x),N.getAnimating()&&N.cancelAnimations(),N.animate({resolution:x,anchor:v,
duration:void 0!==u?u:250,easing:w.easeOut}))};E["default"]=void 0;Ja=k(A(89));var l=k(A(167)),w=A(132),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=N.call(this)||
this;v&&v.handleEvent&&(u.handleEvent=v.handleEvent);u.map_=null;u.setActive(!0);return u}H(x,N);x.prototype.getActive=function(){return this.get(l["default"].ACTIVE)};x.prototype.getMap=function(){return this.map_};x.prototype.handleEvent=function(v){return!0};x.prototype.setActive=function(v){this.set(l["default"].ACTIVE,v)};x.prototype.setMap=function(v){this.map_=v};return x}(Ja["default"]);E["default"]=A};
shadow$provide[169]=function(Ja,A,rb,E){function k(x){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return k(x)}function l(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;l=function(){return x};return x}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==k(x)&&"function"!==typeof x)return{"default":x};var v=l();if(v&&v.has(x))return v.get(x);var u={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in x)if(Object.prototype.hasOwnProperty.call(x,g)){var d=m?Object.getOwnPropertyDescriptor(x,g):null;d&&(d.get||d.set)?Object.defineProperty(u,g,d):u[g]=x[g]}u["default"]=x;v&&v.set(x,u);return u}(A(168)),H=function(x){return x&&x.__esModule?x:{"default":x}}(A(109)),N=function(){var x=function(v,u){x=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();Ja=function(x){function v(u){var m=x.call(this)||this;u=u?u:{};m.delta_=u.delta?u.delta:1;m.duration_=void 0!==u.duration?u.duration:250;return m}N(v,x);v.prototype.handleEvent=function(u){var m=!1;if(u.type==
H["default"].DBLCLICK){m=u.originalEvent;var g=u.coordinate,d=m.shiftKey?-this.delta_:this.delta_;u=u.map.getView();(0,w.zoomByDelta)(u,d,g,this.duration_);m.preventDefault();m=!0}return!m};return v}(w["default"]);E["default"]=Ja};
shadow$provide[170]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E.centroid=function(N){for(var x=N.length,v=0,u=0,m=0;m<x;m++)v+=N[m].clientX,u+=N[m].clientY;return[v/x,u/x]};E["default"]=void 0;Ja=k(A(168));var l=k(A(109)),w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&
(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,u)||this;u.handleDownEvent&&(v.handleDownEvent=u.handleDownEvent);u.handleDragEvent&&(v.handleDragEvent=u.handleDragEvent);u.handleMoveEvent&&(v.handleMoveEvent=u.handleMoveEvent);u.handleUpEvent&&(v.handleUpEvent=u.handleUpEvent);u.stopDown&&(v.stopDown=u.stopDown);v.handlingDownUpSequence=
!1;v.trackedPointers_={};v.targetPointers=[];return v}H(x,N);x.prototype.getPointerCount=function(){return this.targetPointers.length};x.prototype.handleDownEvent=function(v){return!1};x.prototype.handleDragEvent=function(v){};x.prototype.handleEvent=function(v){if(!v.originalEvent)return!0;var u=!1;this.updateTrackedPointers_(v);this.handlingDownUpSequence?v.type==l["default"].POINTERDRAG?(this.handleDragEvent(v),v.originalEvent.preventDefault()):v.type==l["default"].POINTERUP&&(this.handlingDownUpSequence=
this.handleUpEvent(v)&&0<this.targetPointers.length):v.type==l["default"].POINTERDOWN?(this.handlingDownUpSequence=v=this.handleDownEvent(v),u=this.stopDown(v)):v.type==l["default"].POINTERMOVE&&this.handleMoveEvent(v);return!u};x.prototype.handleMoveEvent=function(v){};x.prototype.handleUpEvent=function(v){return!1};x.prototype.stopDown=function(v){return v};x.prototype.updateTrackedPointers_=function(v){var u=v.type;if(u===l["default"].POINTERDOWN||u===l["default"].POINTERDRAG||u===l["default"].POINTERUP){u=
v.originalEvent;var m=u.pointerId.toString();v.type==l["default"].POINTERUP?delete this.trackedPointers_[m]:v.type==l["default"].POINTERDOWN?this.trackedPointers_[m]=u:m in this.trackedPointers_&&(this.trackedPointers_[m]=u);this.targetPointers=(0,w.getValues)(this.trackedPointers_)}};return x}(Ja["default"]);E["default"]=A};
shadow$provide[171]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.all=function(N){var x=arguments;return function(v){for(var u=!0,m=0,g=x.length;m<g&&(u=u&&x[m](v),u);++m);return u}};E.primaryAction=E.penOnly=E.touchOnly=E.mouseOnly=E.targetNotEditable=E.shiftKeyOnly=E.platformModifierKeyOnly=E.noModifierKeys=E.doubleClick=E.singleClick=E.pointerMove=E.never=E.mouseActionButton=E.click=E.always=E.focusWithTabindex=E.focus=E.altShiftKeysOnly=E.altKeyOnly=void 0;var k=function(N){return N&&
N.__esModule?N:{"default":N}}(A(109));Ja=A(71);var l=A(100),w=A(74);E.altKeyOnly=function(N){N=N.originalEvent;return N.altKey&&!(N.metaKey||N.ctrlKey)&&!N.shiftKey};E.altShiftKeysOnly=function(N){N=N.originalEvent;return N.altKey&&!(N.metaKey||N.ctrlKey)&&N.shiftKey};var H=function(N){return N.target.getTargetElement().contains(document.activeElement)};E.focus=H;E.focusWithTabindex=function(N){return N.map.getTargetElement().hasAttribute("tabindex")?H(N):!0};E.always=Ja.TRUE;E.click=function(N){return N.type==
k["default"].CLICK};E.mouseActionButton=function(N){N=N.originalEvent;return 0==N.button&&!(l.WEBKIT&&l.MAC&&N.ctrlKey)};E.never=Ja.FALSE;E.pointerMove=function(N){return"pointermove"==N.type};E.singleClick=function(N){return N.type==k["default"].SINGLECLICK};E.doubleClick=function(N){return N.type==k["default"].DBLCLICK};E.noModifierKeys=function(N){N=N.originalEvent;return!N.altKey&&!(N.metaKey||N.ctrlKey)&&!N.shiftKey};E.platformModifierKeyOnly=function(N){N=N.originalEvent;return!N.altKey&&(l.MAC?
N.metaKey:N.ctrlKey)&&!N.shiftKey};E.shiftKeyOnly=function(N){N=N.originalEvent;return!N.altKey&&!(N.metaKey||N.ctrlKey)&&N.shiftKey};E.targetNotEditable=function(N){N=N.originalEvent.target.tagName;return"INPUT"!==N&&"SELECT"!==N&&"TEXTAREA"!==N};E.mouseOnly=function(N){N=N.originalEvent;(0,w.assert)(void 0!==N,56);return"mouse"==N.pointerType};E.touchOnly=function(N){N=N.originalEvent;(0,w.assert)(void 0!==N,56);return"touch"===N.pointerType};E.penOnly=function(N){N=N.originalEvent;(0,w.assert)(void 0!==
N,56);return"pen"===N.pointerType};E.primaryAction=function(N){N=N.originalEvent;(0,w.assert)(void 0!==N,56);return N.isPrimary&&0===N.button}};
shadow$provide[172]=function(Ja,A,rb,E){function k(m){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return k(m)}function l(){if("function"!==typeof WeakMap)return null;var m=new WeakMap;l=function(){return m};return m}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(m){if(m&&m.__esModule)return m;if(null===
m||"object"!==k(m)&&"function"!==typeof m)return{"default":m};var g=l();if(g&&g.has(m))return g.get(m);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)){var e=f?Object.getOwnPropertyDescriptor(m,a):null;e&&(e.get||e.set)?Object.defineProperty(d,a,e):d[a]=m[a]}d["default"]=m;g&&g.set(m,d);return d}(A(170)),H=A(71),N=A(171),x=A(132),v=A(96),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ja=function(m){function g(d){var f=m.call(this,{stopDown:H.FALSE})||this;d=d?d:{};f.kinetic_=d.kinetic;f.lastCentroid=null;f.panning_=!1;var a=d.condition?d.condition:(0,N.all)(N.noModifierKeys,N.primaryAction);f.condition_=d.onFocusOnly?
(0,N.all)(N.focusWithTabindex,a):a;f.noKinetic_=!1;return f}u(g,m);g.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var f=this.targetPointers,a=(0,w.centroid)(f);if(f.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){var e=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],n=d.map.getView();(0,v.scale)(e,n.getResolution());(0,v.rotate)(e,n.getRotation());n.adjustCenterInternal(e)}}else this.kinetic_&&
this.kinetic_.begin();this.lastCentroid=a;this.lastPointersCount_=f.length;d.originalEvent.preventDefault()};g.prototype.handleUpEvent=function(d){var f=d.map;d=f.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var a=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),n=d.getCenterInternal();n=f.getPixelFromCoordinateInternal(n);f=f.getCoordinateFromPixelInternal([n[0]-a*Math.cos(e),n[1]-a*Math.sin(e)]);d.animateInternal({center:d.getConstrainedCenter(f),
duration:500,easing:x.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=null;return!0};g.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return g}(w["default"]);E["default"]=Ja};
shadow$provide[173]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(N){return N&&N.__esModule?N:{"default":N}}(A(170));var k=A(71),l=A(171),w=A(131),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,{stopDown:k.FALSE})||this;v.condition_=u.condition?u.condition:l.altShiftKeysOnly;v.lastAngle_=void 0;v.duration_=void 0!==u.duration?u.duration:250;return v}H(x,N);x.prototype.handleDragEvent=function(v){if((0,l.mouseOnly)(v)){var u=v.map,m=u.getView();m.getConstraints().rotation!==w.disable&&(u=u.getSize(),v=v.pixel,v=Math.atan2(u[1]/2-v[1],v[0]-u[0]/2),void 0!==this.lastAngle_&&m.adjustRotationInternal(-(v-
this.lastAngle_)),this.lastAngle_=v)}};x.prototype.handleUpEvent=function(v){if(!(0,l.mouseOnly)(v))return!0;v.map.getView().endInteraction(this.duration_);return!1};x.prototype.handleDownEvent=function(v){return(0,l.mouseOnly)(v)&&(0,l.mouseActionButton)(v)&&this.condition_(v)?(v.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return x}(Ja["default"]);E["default"]=A};
shadow$provide[174]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(69));var l=k(A(150)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){var v=H.call(this)||this;v.geometry_=null;v.element_=document.createElement("div");v.element_.style.position="absolute";v.element_.style.pointerEvents="auto";v.element_.className="ol-box "+x;v.map_=null;v.startPixel_=null;v.endPixel_=null;return v}w(N,H);N.prototype.disposeInternal=function(){this.setMap(null)};N.prototype.render_=function(){var x=this.startPixel_,v=this.endPixel_,u=this.element_.style;u.left=Math.min(x[0],v[0])+"px";
u.top=Math.min(x[1],v[1])+"px";u.width=Math.abs(v[0]-x[0])+"px";u.height=Math.abs(v[1]-x[1])+"px"};N.prototype.setMap=function(x){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var v=this.element_.style;v.left="inherit";v.top="inherit";v.width="inherit";v.height="inherit"}(this.map_=x)&&this.map_.getOverlayContainer().appendChild(this.element_)};N.prototype.setPixels=function(x,v){this.startPixel_=x;this.endPixel_=v;this.createOrUpdateGeometry();this.render_()};N.prototype.createOrUpdateGeometry=
function(){var x=this.startPixel_,v=this.endPixel_;x=[x,[x[0],v[1]],v,[v[0],x[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);x[4]=x[0].slice();this.geometry_?this.geometry_.setCoordinates([x]):this.geometry_=new l["default"]([x])};N.prototype.getGeometry=function(){return this.geometry_};return N}(Ja["default"]);E["default"]=A};
shadow$provide[175]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DragBoxEvent=void 0;Ja=k(A(82));rb=k(A(170));var l=k(A(174)),w=A(171),H=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,
u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}(),N=function(x){function v(u,m,g){u=x.call(this,u)||this;u.coordinate=m;u.mapBrowserEvent=g;return u}H(v,x);return v}(Ja["default"]);E.DragBoxEvent=N;A=function(x){function v(u){var m=x.call(this)||this;u=u?u:{};m.box_=new l["default"](u.className||"ol-dragbox");m.minArea_=void 0!==u.minArea?u.minArea:64;u.onBoxEnd&&(m.onBoxEnd=u.onBoxEnd);m.startPixel_=null;m.condition_=u.condition?u.condition:w.mouseActionButton;m.boxEndCondition_=
u.boxEndCondition?u.boxEndCondition:m.defaultBoxEndCondition;return m}H(v,x);v.prototype.defaultBoxEndCondition=function(u,m,g){u=g[0]-m[0];m=g[1]-m[1];return u*u+m*m>=this.minArea_};v.prototype.getGeometry=function(){return this.box_.getGeometry()};v.prototype.handleDragEvent=function(u){this.box_.setPixels(this.startPixel_,u.pixel);this.dispatchEvent(new N("boxdrag",u.coordinate,u))};v.prototype.handleUpEvent=function(u){this.box_.setMap(null);var m=this.boxEndCondition_(u,this.startPixel_,u.pixel);
if(m)this.onBoxEnd(u);this.dispatchEvent(new N(m?"boxend":"boxcancel",u.coordinate,u));return!1};v.prototype.handleDownEvent=function(u){return this.condition_(u)?(this.startPixel_=u.pixel,this.box_.setMap(u.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new N("boxstart",u.coordinate,u)),!0):!1};v.prototype.onBoxEnd=function(u){};return v}(rb["default"]);E["default"]=A};
shadow$provide[176]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(N){return N&&N.__esModule?N:{"default":N}}(A(175));var k=A(78),l=A(132),w=A(171),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,{condition:u.condition?u.condition:w.shiftKeyOnly,className:u.className||"ol-dragzoom",minArea:u.minArea})||this;v.duration_=void 0!==u.duration?u.duration:200;v.out_=void 0!==u.out?u.out:!1;return v}H(x,N);x.prototype.onBoxEnd=function(v){var u=this.getMap();v=u.getView();var m=u.getSize(),g=this.getGeometry().getExtent();if(this.out_){var d=v.calculateExtentInternal(m);g=(0,k.createOrUpdateFromCoordinates)([u.getPixelFromCoordinateInternal((0,
k.getBottomLeft)(g)),u.getPixelFromCoordinateInternal((0,k.getTopRight)(g))]);g=v.getResolutionForExtentInternal(g,m);(0,k.scaleFromCenter)(d,1/g);g=d}m=v.getConstrainedResolution(v.getResolutionForExtentInternal(g,m));d=v.getConstrainedCenter((0,k.getCenter)(g),m);v.animateInternal({resolution:m,center:d,duration:this.duration_,easing:l.easeOut})};return x}(Ja["default"]);E["default"]=A};
shadow$provide[177]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[178]=function(Ja,A,rb,E){function k(g){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return k(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}function w(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==k(g)&&"function"!==typeof g)return{"default":g};var d=l();if(d&&d.has(g))return d.get(g);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){var n=a?Object.getOwnPropertyDescriptor(g,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=g[e]}f["default"]=g;d&&d.set(g,f);return f}(A(168)),x=w(A(177)),v=A(171),u=A(96),m=function(){var g=function(d,
f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();Ja=function(g){function d(f){var a=g.call(this)||this;f=f||{};a.defaultCondition_=function(e){return(0,v.noModifierKeys)(e)&&(0,v.targetNotEditable)(e)};a.condition_=void 0!==f.condition?
f.condition:a.defaultCondition_;a.duration_=void 0!==f.duration?f.duration:100;a.pixelDelta_=void 0!==f.pixelDelta?f.pixelDelta:128;return a}m(d,g);d.prototype.handleEvent=function(f){var a=!1;if(f.type==H["default"].KEYDOWN){var e=f.originalEvent,n=e.keyCode;if(this.condition_(f)&&(n==x["default"].DOWN||n==x["default"].LEFT||n==x["default"].RIGHT||n==x["default"].UP)){f=f.map.getView();a=f.getResolution()*this.pixelDelta_;var y=0,B=0;n==x["default"].DOWN?B=-a:n==x["default"].LEFT?y=-a:n==x["default"].RIGHT?
y=a:B=a;n=[y,B];(0,u.rotate)(n,f.getRotation());(0,N.pan)(f,n,this.duration_);e.preventDefault();a=!0}}return!a};return d}(N["default"]);E["default"]=Ja};
shadow$provide[179]=function(Ja,A,rb,E){function k(v){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return k(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(v){return v&&v.__esModule?v:{"default":v}}(A(86)),
H=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==k(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(m,d,f):m[d]=v[d]}m["default"]=v;u&&u.set(v,m);return m}(A(168)),N=A(171),x=function(){var v=function(u,m){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Ja=function(v){function u(m){var g=v.call(this)||this;m=m?m:{};g.condition_=m.condition?m.condition:N.targetNotEditable;g.delta_=m.delta?m.delta:1;g.duration_=void 0!==m.duration?m.duration:100;return g}x(u,
v);u.prototype.handleEvent=function(m){var g=!1;if(m.type==w["default"].KEYDOWN||m.type==w["default"].KEYPRESS){var d=m.originalEvent,f=d.charCode;!this.condition_(m)||43!=f&&45!=f||(g=43==f?this.delta_:-this.delta_,m=m.map.getView(),(0,H.zoomByDelta)(m,g,void 0,this.duration_),d.preventDefault(),g=!0)}return!g};return u}(H["default"]);E["default"]=Ja};
shadow$provide[180]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(){function k(l,w,H){this.decay_=l;this.minVelocity_=w;this.delay_=H;this.points_=[];this.initialVelocity_=this.angle_=0}k.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};k.prototype.update=function(l,w){this.points_.push(l,w,Date.now())};k.prototype.end=function(){if(6>this.points_.length)return!1;var l=Date.now()-this.delay_,w=this.points_.length-
3;if(this.points_[w+2]<l)return!1;for(var H=w-3;0<H&&this.points_[H+2]>l;)H-=3;l=this.points_[w+2]-this.points_[H+2];if(l<1E3/60)return!1;var N=this.points_[w]-this.points_[H];w=this.points_[w+1]-this.points_[H+1];this.angle_=Math.atan2(w,N);this.initialVelocity_=Math.sqrt(N*N+w*w)/l;return this.initialVelocity_>this.minVelocity_};k.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};k.prototype.getAngle=function(){return this.angle_};return k}();E["default"]=
Ja};
shadow$provide[181]=function(Ja,A,rb,E){function k(g){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};return k(g)}function l(){if("function"!==typeof WeakMap)return null;var g=new WeakMap;l=function(){return g};return g}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Mode=void 0;var w=function(g){return g&&g.__esModule?g:{"default":g}}(A(86)),
H=function(g){if(g&&g.__esModule)return g;if(null===g||"object"!==k(g)&&"function"!==typeof g)return{"default":g};var d=l();if(d&&d.has(g))return d.get(g);var f={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){var n=a?Object.getOwnPropertyDescriptor(g,e):null;n&&(n.get||n.set)?Object.defineProperty(f,e,n):f[e]=g[e]}f["default"]=g;d&&d.set(g,f);return f}(A(168)),N=A(100),x=A(171),v=A(79),u=function(){var g=function(d,f){g=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),m={TRACKPAD:"trackpad",WHEEL:"wheel"};E.Mode=m;Ja=function(g){function d(f){var a=f?f:{};f=g.call(this,a)||this;f.totalDelta_=0;f.lastDelta_=0;f.maxDelta_=void 0!==a.maxDelta?a.maxDelta:1;f.duration_=void 0!==
a.duration?a.duration:250;f.timeout_=void 0!==a.timeout?a.timeout:80;f.useAnchor_=void 0!==a.useAnchor?a.useAnchor:!0;f.constrainResolution_=void 0!==a.constrainResolution?a.constrainResolution:!1;var e=a.condition?a.condition:x.always;f.condition_=a.onFocusOnly?(0,x.all)(x.focusWithTabindex,e):e;f.lastAnchor_=null;f.startTime_=void 0;f.mode_=void 0;f.trackpadEventGap_=400;f.deltaPerZoom_=300;return f}u(d,g);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,
this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};d.prototype.handleEvent=function(f){if(!this.condition_(f)||f.type!==w["default"].WHEEL)return!0;var a=f.map,e=f.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=f.coordinate);if(f.type==w["default"].WHEEL){var n=e.deltaY;N.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=N.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}if(0===n)return!1;this.lastDelta_=n;f=Date.now();void 0===this.startTime_&&
(this.startTime_=f);if(!this.mode_||f-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(n)?m.TRACKPAD:m.WHEEL;e=a.getView();if(this.mode_===m.TRACKPAD&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=
f,!1;this.totalDelta_+=n;n=Math.max(this.timeout_-(f-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,a),n);return!1};d.prototype.handleWheelZoom_=function(f){f=f.getView();f.getAnimating()&&f.cancelAnimations();var a=-(0,v.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(f.getConstrainResolution()||this.constrainResolution_)a=a?0<a?1:-1:0;(0,H.zoomByDelta)(f,a,this.lastAnchor_,
this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0};d.prototype.setMouseAnchor=function(f){this.useAnchor_=f;f||(this.lastAnchor_=null)};return d}(H["default"]);E["default"]=Ja};
shadow$provide[182]=function(Ja,A,rb,E){function k(v){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return k(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(v){if(v&&v.__esModule)return v;if(null===
v||"object"!==k(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(m,d,f):m[d]=v[d]}m["default"]=v;u&&u.set(v,m);return m}(A(170)),H=A(71),N=A(131),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=
d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();Ja=function(v){function u(m){var g=m?m:{};g.stopDown||(g.stopDown=H.FALSE);m=v.call(this,g)||this;m.anchor_=null;m.lastAngle_=void 0;m.rotating_=!1;m.rotationDelta_=0;m.threshold_=void 0!==g.threshold?g.threshold:.3;m.duration_=void 0!==g.duration?g.duration:250;
return m}x(u,v);u.prototype.handleDragEvent=function(m){var g=0,d=this.targetPointers[0],f=this.targetPointers[1];d=Math.atan2(f.clientY-d.clientY,f.clientX-d.clientX);void 0!==this.lastAngle_&&(g=d-this.lastAngle_,this.rotationDelta_+=g,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;m=m.map;d=m.getView();if(d.getConstraints().rotation!==N.disable){f=m.getViewport().getBoundingClientRect();var a=(0,w.centroid)(this.targetPointers);a[0]-=f.left;
a[1]-=f.top;this.anchor_=m.getCoordinateFromPixelInternal(a);this.rotating_&&(m.render(),d.adjustRotationInternal(g,this.anchor_))}};u.prototype.handleUpEvent=function(m){return 2>this.targetPointers.length?(m.map.getView().endInteraction(this.duration_),!1):!0};u.prototype.handleDownEvent=function(m){return 2<=this.targetPointers.length?(m=m.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||m.getView().beginInteraction(),!0):!1};return u}(w["default"]);
E["default"]=Ja};
shadow$provide[183]=function(Ja,A,rb,E){function k(x){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"===typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};return k(x)}function l(){if("function"!==typeof WeakMap)return null;var x=new WeakMap;l=function(){return x};return x}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(x){if(x&&x.__esModule)return x;if(null===
x||"object"!==k(x)&&"function"!==typeof x)return{"default":x};var v=l();if(v&&v.has(x))return v.get(x);var u={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in x)if(Object.prototype.hasOwnProperty.call(x,g)){var d=m?Object.getOwnPropertyDescriptor(x,g):null;d&&(d.get||d.set)?Object.defineProperty(u,g,d):u[g]=x[g]}u["default"]=x;v&&v.set(x,u);return u}(A(170)),H=A(71),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=
g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();Ja=function(x){function v(u){var m=u?u:{};m.stopDown||(m.stopDown=H.FALSE);u=x.call(this,m)||this;u.anchor_=null;u.duration_=void 0!==m.duration?m.duration:400;u.lastDistance_=void 0;u.lastScaleDelta_=1;return u}N(v,x);v.prototype.handleDragEvent=function(u){var m=
1,g=this.targetPointers[0],d=this.targetPointers[1],f=g.clientX-d.clientX;g=g.clientY-d.clientY;f=Math.sqrt(f*f+g*g);void 0!==this.lastDistance_&&(m=this.lastDistance_/f);this.lastDistance_=f;u=u.map;f=u.getView();1!=m&&(this.lastScaleDelta_=m);g=u.getViewport().getBoundingClientRect();d=(0,w.centroid)(this.targetPointers);d[0]-=g.left;d[1]-=g.top;this.anchor_=u.getCoordinateFromPixelInternal(d);u.render();f.adjustResolutionInternal(m,this.anchor_)};v.prototype.handleUpEvent=function(u){return 2>
this.targetPointers.length?(u.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};v.prototype.handleDownEvent=function(u){return 2<=this.targetPointers.length?(u=u.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||u.getView().beginInteraction(),!0):!1};return v}(w["default"]);E["default"]=Ja};
shadow$provide[184]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[185]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.DragAndDropEvent=void 0;Ja=k(A(82));var l=k(A(86)),w=k(A(184));rb=k(A(168));var H=A(71),N=A(128),x=A(87),v=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=
g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=function(m){function g(d,f,a,e){d=m.call(this,d)||this;d.features=a;d.file=f;d.projection=e;return d}v(g,m);return g}(Ja["default"]);E.DragAndDropEvent=u;A=function(m){function g(d){var f=d?d:{};d=m.call(this,{handleEvent:H.TRUE})||this;d.readAsBuffer_=!1;d.formats_=[];for(var a=f.formatConstructors?f.formatConstructors:[],e=0,n=a.length;e<n;++e){var y=a[e];"function"===typeof y&&(y=new y);d.formats_.push(y);d.readAsBuffer_=
d.readAsBuffer_||y.getType()===w["default"].ARRAY_BUFFER}d.projection_=f.projection?(0,N.get)(f.projection):null;d.dropListenKeys_=null;d.source_=f.source||null;d.target=f.target?f.target:null;return d}v(g,m);g.prototype.handleResult_=function(d,f){f=f.target.result;var a=this.getMap(),e=this.projection_;e||(e=a.getView().getProjection());var n;a=this.formats_;for(var y=0,B=a.length;y<B;++y){var D=a[y],O=f;this.readAsBuffer_&&D.getType()!==w["default"].ARRAY_BUFFER&&(void 0===n&&(n=(new TextDecoder).decode(f)),
O=n);if((D=this.tryReadFeatures_(D,O,{featureProjection:e}))&&0<D.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(D));this.dispatchEvent(new u("addfeatures",d,D,e));break}}};g.prototype.registerListeners_=function(){var d=this.getMap();d&&(d=this.target?this.target:d.getViewport(),this.dropListenKeys_=[(0,x.listen)(d,l["default"].DROP,this.handleDrop,this),(0,x.listen)(d,l["default"].DRAGENTER,this.handleStop,this),(0,x.listen)(d,l["default"].DRAGOVER,this.handleStop,this),(0,
x.listen)(d,l["default"].DROP,this.handleStop,this)])};g.prototype.setActive=function(d){!this.getActive()&&d&&this.registerListeners_();this.getActive()&&!d&&this.unregisterListeners_();m.prototype.setActive.call(this,d)};g.prototype.setMap=function(d){this.unregisterListeners_();m.prototype.setMap.call(this,d);this.getActive()&&this.registerListeners_()};g.prototype.tryReadFeatures_=function(d,f,a){try{return d.readFeatures(f,a)}catch(e){return null}};g.prototype.unregisterListeners_=function(){this.dropListenKeys_&&
(this.dropListenKeys_.forEach(x.unlistenByKey),this.dropListenKeys_=null)};g.prototype.handleDrop=function(d){d=d.dataTransfer.files;for(var f=0,a=d.length;f<a;++f){var e=d.item(f),n=new FileReader;n.addEventListener(l["default"].LOAD,this.handleResult_.bind(this,e));this.readAsBuffer_?n.readAsArrayBuffer(e):n.readAsText(e)}};g.prototype.handleStop=function(d){d.stopPropagation();d.preventDefault();d.dataTransfer.dropEffect="copy"};return g}(rb["default"]);E["default"]=A};
shadow$provide[186]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(w){return w&&w.__esModule?w:{"default":w}}(A(170));var k=A(171),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):
(x.prototype=N.prototype,new x)}}();A=function(w){function H(N){var x=N?N:{};N=w.call(this,x)||this;N.condition_=x.condition?x.condition:k.shiftKeyOnly;N.lastAngle_=void 0;N.lastMagnitude_=void 0;N.lastScaleDelta_=0;N.duration_=void 0!==x.duration?x.duration:400;return N}l(H,w);H.prototype.handleDragEvent=function(N){if((0,k.mouseOnly)(N)){var x=N.map,v=x.getSize(),u=N.pixel;N=u[0]-v[0]/2;u=v[1]/2-u[1];v=Math.atan2(u,N);N=Math.sqrt(N*N+u*u);x=x.getView();void 0!==this.lastAngle_&&x.adjustRotationInternal(this.lastAngle_-
v);this.lastAngle_=v;void 0!==this.lastMagnitude_&&x.adjustResolutionInternal(this.lastMagnitude_/N);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/N);this.lastMagnitude_=N}};H.prototype.handleUpEvent=function(N){if(!(0,k.mouseOnly)(N))return!0;N.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};H.prototype.handleDownEvent=function(N){return(0,k.mouseOnly)(N)&&this.condition_(N)?(N.map.getView().beginInteraction(),this.lastMagnitude_=
this.lastAngle_=void 0,!0):!1};return H}(Ja["default"]);E["default"]=A};
shadow$provide[187]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117));Ja=k(A(136));var w=A(78),H=A(138),N=A(134),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);
u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g,d){var f=v.call(this)||this;void 0!==d&&void 0===g?f.setFlatCoordinates(d,m):f.setCenterAndRadius(m,g?g:0,d);return f}x(u,v);u.prototype.clone=function(){var m=new u(this.flatCoordinates.slice(),void 0,this.layout);m.applyProperties(this);return m};u.prototype.closestPointXY=function(m,g,d,f){var a=this.flatCoordinates;m-=a[0];var e=g-a[1];g=m*m+e*e;if(g<f){0===g?f=0:(f=this.getRadius()/Math.sqrt(g),
d[0]=a[0]+f*m,d[1]=a[1]+f*e,f=2);for(;f<this.stride;++f)d[f]=a[f];d.length=this.stride;return g}return f};u.prototype.containsXY=function(m,g){var d=this.flatCoordinates;m-=d[0];g-=d[1];return m*m+g*g<=this.getRadiusSquared_()};u.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};u.prototype.computeExtent=function(m){var g=this.flatCoordinates,d=g[this.stride]-g[0];return(0,w.createOrUpdate)(g[0]-d,g[1]-d,g[0]+d,g[1]+d,m)};u.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};
u.prototype.getRadiusSquared_=function(){var m=this.flatCoordinates[this.stride]-this.flatCoordinates[0],g=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return m*m+g*g};u.prototype.getType=function(){return l["default"].CIRCLE};u.prototype.intersectsExtent=function(m){var g=this.getExtent();return(0,w.intersects)(m,g)?(g=this.getCenter(),m[0]<=g[0]&&m[2]>=g[0]||m[1]<=g[1]&&m[3]>=g[1]?!0:(0,w.forEachCorner)(m,this.intersectsCoordinate.bind(this))):!1};u.prototype.setCenter=function(m){var g=
this.stride,d=this.flatCoordinates[g]-this.flatCoordinates[0],f=m.slice();f[g]=f[0]+d;for(d=1;d<g;++d)f[g+d]=m[d];this.setFlatCoordinates(this.layout,f);this.changed()};u.prototype.setCenterAndRadius=function(m,g,d){this.setLayout(d,m,0);this.flatCoordinates||(this.flatCoordinates=[]);d=this.flatCoordinates;m=(0,H.deflateCoordinate)(d,0,m,this.stride);d[m++]=d[0]+g;g=1;for(var f=this.stride;g<f;++g)d[m++]=d[g];d.length=m;this.changed()};u.prototype.getCoordinates=function(){return null};u.prototype.setCoordinates=
function(m,g){};u.prototype.setRadius=function(m){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+m;this.changed()};u.prototype.rotate=function(m,g){var d=this.getCenter(),f=this.getStride();this.setCenter((0,N.rotate)(d,0,d.length,f,m,g,d));this.changed()};u.prototype.translate=function(m,g){var d=this.getCenter(),f=this.getStride();this.setCenter((0,N.translate)(d,0,d.length,f,m,g,d));this.changed()};return u}(Ja["default"]);E["default"]=A};
shadow$provide[188]=function(Ja,A,rb,E){function k(m){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};return k(m)}function l(){if("function"!==typeof WeakMap)return null;var m=new WeakMap;l=function(){return m};return m}function w(m){if("function"===typeof m)return m;if(Array.isArray(m))var g=m;else(0,x.assert)("function"===typeof m.getZIndex,
41),g=[m];return function(){return g}}Object.defineProperty(E,"__esModule",{value:!0});E.createStyleFunction=w;E["default"]=void 0;var H=function(m){if(m&&m.__esModule)return m;if(null===m||"object"!==k(m)&&"function"!==typeof m)return{"default":m};var g=l();if(g&&g.has(m))return g.get(m);var d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in m)if(Object.prototype.hasOwnProperty.call(m,a)){var e=f?Object.getOwnPropertyDescriptor(m,a):null;e&&(e.get||e.set)?Object.defineProperty(d,
a,e):d[a]=m[a]}d["default"]=m;g&&g.set(m,d);return d}(A(89)),N=function(m){return m&&m.__esModule?m:{"default":m}}(A(86)),x=A(74),v=A(87),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();Ja=function(m){function g(d){var f=
m.call(this)||this;f.id_=void 0;f.geometryName_="geometry";f.style_=null;f.styleFunction_=void 0;f.geometryChangeKey_=null;f.addEventListener((0,H.getChangeEventType)(f.geometryName_),f.handleGeometryChanged_);d&&("function"===typeof d.getSimplifiedGeometry?f.setGeometry(d):f.setProperties(d));return f}u(g,m);g.prototype.clone=function(){var d=new g(this.hasProperties()?this.getProperties():null);d.setGeometryName(this.getGeometryName());var f=this.getGeometry();f&&d.setGeometry(f.clone());(f=this.getStyle())&&
d.setStyle(f);return d};g.prototype.getGeometry=function(){return this.get(this.geometryName_)};g.prototype.getId=function(){return this.id_};g.prototype.getGeometryName=function(){return this.geometryName_};g.prototype.getStyle=function(){return this.style_};g.prototype.getStyleFunction=function(){return this.styleFunction_};g.prototype.handleGeometryChange_=function(){this.changed()};g.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,v.unlistenByKey)(this.geometryChangeKey_),
this.geometryChangeKey_=null);var d=this.getGeometry();d&&(this.geometryChangeKey_=(0,v.listen)(d,N["default"].CHANGE,this.handleGeometryChange_,this));this.changed()};g.prototype.setGeometry=function(d){this.set(this.geometryName_,d)};g.prototype.setStyle=function(d){this.styleFunction_=(this.style_=d)?w(d):void 0;this.changed()};g.prototype.setId=function(d){this.id_=d;this.changed()};g.prototype.setGeometryName=function(d){this.removeEventListener((0,H.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);
this.geometryName_=d;this.addEventListener((0,H.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_);this.handleGeometryChanged_()};return g}(H["default"]);E["default"]=Ja};
shadow$provide[189]=function(Ja,A,rb,E){function k(H,N,x,v,u,m){if(x==N)return null;if(u<H[N+v-1])return m?(x=H.slice(N,N+v),x[v-1]=u,x):null;if(H[x-1]<u)return m?(x=H.slice(x-v,x),x[v-1]=u,x):null;if(u==H[N+v-1])return H.slice(N,N+v);N/=v;for(x/=v;N<x;)m=N+x>>1,u<H[(m+1)*v-1]?x=m:N=m+1;x=H[N*v-1];if(u==x)return H.slice((N-1)*v,(N-1)*v+v);m=(u-x)/(H[(N+1)*v-1]-x);x=[];for(var g=0;g<v-1;++g)x.push((0,w.lerp)(H[(N-1)*v+g],H[N*v+g],m));x.push(u);return x}Object.defineProperty(E,"__esModule",{value:!0});
E.interpolatePoint=function(H,N,x,v,u,m,g){var d=(x-N)/v;if(1===d)var f=N;else if(2===d){f=N;var a=u}else if(0!==d){var e=H[N],n=H[N+1],y=0;f=[0];for(d=N+v;d<x;d+=v){var B=H[d],D=H[d+1];y+=Math.sqrt((B-e)*(B-e)+(D-n)*(D-n));f.push(y);e=B;n=D}d=u*y;x=(0,l.binarySearch)(f,d);0>x?(a=(d-f[-x-2])/(f[-x-1]-f[-x-2]),f=N+(-x-2)*v):f=N+x*v}N=1<g?g:2;m=m?m:Array(N);for(d=0;d<N;++d)m[d]=void 0===f?NaN:void 0===a?H[f+d]:(0,w.lerp)(H[f+d],H[f+v+d],a);return m};E.lineStringCoordinateAtM=k;E.lineStringsCoordinateAtM=
function(H,N,x,v,u,m,g){if(g)return k(H,N,x[x.length-1],v,u,m);if(u<H[v-1])return m?(H=H.slice(0,v),H[v-1]=u,H):null;if(H[H.length-1]<u)return m?(H=H.slice(H.length-v),H[v-1]=u,H):null;m=0;for(g=x.length;m<g;++m){var d=x[m];if(N!=d){if(u<H[N+v-1])break;else if(u<=H[d-1])return k(H,N,d,v,u,!1);N=d}}return null};var l=A(70),w=A(79)};
shadow$provide[190]=function(Ja,A,rb,E){function k(l,w,H,N){var x=l[w],v=l[w+1],u=0;for(w+=N;w<H;w+=N){var m=l[w],g=l[w+1];u+=Math.sqrt((m-x)*(m-x)+(g-v)*(g-v));x=m;v=g}return u}Object.defineProperty(E,"__esModule",{value:!0});E.lineStringLength=k;E.linearRingLength=function(l,w,H,N){var x=k(l,w,H,N),v=l[H-N]-l[w];l=l[H-N+1]-l[w+1];return x+=Math.sqrt(v*v+l*l)}};
shadow$provide[191]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117));Ja=k(A(136));var H=A(137),N=A(78),x=A(138),v=A(139),u=A(70),m=A(146),g=A(140),d=A(189),f=A(147),a=A(190),e=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,
B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B,D){var O=n.call(this)||this;O.flatMidpoint_=null;O.flatMidpointRevision_=-1;O.maxDelta_=-1;O.maxDeltaRevision_=-1;void 0===D||Array.isArray(B[0])?O.setCoordinates(B,D):O.setFlatCoordinates(D,B);return O}e(y,n);y.prototype.appendCoordinate=function(B){this.flatCoordinates?(0,u.extend)(this.flatCoordinates,B):this.flatCoordinates=B.slice();
this.changed()};y.prototype.clone=function(){var B=new y(this.flatCoordinates.slice(),this.layout);B.applyProperties(this);return B};y.prototype.closestPointXY=function(B,D,O,M){if(M<(0,N.closestSquaredDistanceXY)(this.getExtent(),B,D))return M;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,H.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,H.assignClosestPoint)(this.flatCoordinates,0,
this.flatCoordinates.length,this.stride,this.maxDelta_,!1,B,D,O,M)};y.prototype.forEachSegment=function(B){return(0,m.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B)};y.prototype.getCoordinateAtM=function(B,D){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM)return null;D=void 0!==D?D:!1;return(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,D)};y.prototype.getCoordinates=function(){return(0,g.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};y.prototype.getCoordinateAt=function(B,D){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,D,this.stride)};y.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};y.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=
this.getRevision());return this.flatMidpoint_};y.prototype.getSimplifiedGeometryInternal=function(B){var D=[];D.length=(0,v.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B,D,0);return new y(D,l["default"].XY)};y.prototype.getType=function(){return w["default"].LINE_STRING};y.prototype.intersectsExtent=function(B){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,B)};y.prototype.setCoordinates=function(B,D){this.setLayout(D,
B,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,x.deflateCoordinates)(this.flatCoordinates,0,B,this.stride);this.changed()};return y}(Ja["default"]);E["default"]=A};
shadow$provide[192]=function(Ja,A,rb,E){function k(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117)),H=k(A(191));Ja=k(A(136));var N=A(137),x=A(78),v=A(138),u=A(139),m=A(70),g=A(140),d=A(189),f=A(147),a=function(){var e=function(n,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,D){B.__proto__=D}||function(B,D){for(var O in D)Object.prototype.hasOwnProperty.call(D,O)&&(B[O]=D[O])};return e(n,
y)};return function(n,y){function B(){this.constructor=n}e(n,y);n.prototype=null===y?Object.create(y):(B.prototype=y.prototype,new B)}}();A=function(e){function n(y,B,D){var O=e.call(this)||this;O.ends_=[];O.maxDelta_=-1;O.maxDeltaRevision_=-1;if(Array.isArray(y[0]))O.setCoordinates(y,B);else if(void 0!==B&&D)O.setFlatCoordinates(B,y),O.ends_=D;else{B=O.getLayout();D=[];for(var M=[],F=0,z=y.length;F<z;++F){var G=y[F];0===F&&(B=G.getLayout());(0,m.extend)(D,G.getFlatCoordinates());M.push(D.length)}O.setFlatCoordinates(B,
D);O.ends_=M}return O}a(n,e);n.prototype.appendLineString=function(y){this.flatCoordinates?(0,m.extend)(this.flatCoordinates,y.getFlatCoordinates().slice()):this.flatCoordinates=y.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};n.prototype.clone=function(){var y=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());y.applyProperties(this);return y};n.prototype.closestPointXY=function(y,B,D,O){if(O<(0,x.closestSquaredDistanceXY)(this.getExtent(),
y,B))return O;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,N.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,N.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,y,B,D,O)};n.prototype.getCoordinateAtM=function(y,B,D){if(this.layout!=l["default"].XYM&&this.layout!=l["default"].XYZM||0===this.flatCoordinates.length)return null;B=void 0!==B?B:!1;D=void 0!==D?D:
!1;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,y,B,D)};n.prototype.getCoordinates=function(){return(0,g.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};n.prototype.getEnds=function(){return this.ends_};n.prototype.getLineString=function(y){return 0>y||this.ends_.length<=y?null:new H["default"](this.flatCoordinates.slice(0===y?0:this.ends_[y-1],this.ends_[y]),this.layout)};n.prototype.getLineStrings=function(){for(var y=this.flatCoordinates,
B=this.ends_,D=this.layout,O=[],M=0,F=0,z=B.length;F<z;++F){var G=B[F];M=new H["default"](y.slice(M,G),D);O.push(M);M=G}return O};n.prototype.getFlatMidpoints=function(){for(var y=[],B=this.flatCoordinates,D=0,O=this.ends_,M=this.stride,F=0,z=O.length;F<z;++F){var G=O[F];D=(0,d.interpolatePoint)(B,D,G,M,.5);(0,m.extend)(y,D);D=G}return y};n.prototype.getSimplifiedGeometryInternal=function(y){var B=[],D=[];B.length=(0,u.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,y,B,0,D);return new n(B,
l["default"].XY,D)};n.prototype.getType=function(){return w["default"].MULTI_LINE_STRING};n.prototype.intersectsExtent=function(y){return(0,f.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,y)};n.prototype.setCoordinates=function(y,B){this.setLayout(B,y,2);this.flatCoordinates||(this.flatCoordinates=[]);y=(0,v.deflateCoordinatesArray)(this.flatCoordinates,0,y,this.stride,this.ends_);this.flatCoordinates.length=0===y.length?0:y[y.length-1];this.changed()};return n}(Ja["default"]);
E["default"]=A};
shadow$provide[193]=function(Ja,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117)),w=k(A(143));Ja=k(A(136));var H=A(78),N=A(138),x=A(70),v=A(140),u=A(79),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f,a){var e=g.call(this)||this;a&&!Array.isArray(f[0])?e.setFlatCoordinates(a,f):e.setCoordinates(f,a);return e}m(d,g);d.prototype.appendPoint=function(f){this.flatCoordinates?(0,x.extend)(this.flatCoordinates,f.getFlatCoordinates()):this.flatCoordinates=f.getFlatCoordinates().slice();this.changed()};d.prototype.clone=function(){var f=new d(this.flatCoordinates.slice(),this.layout);f.applyProperties(this);
return f};d.prototype.closestPointXY=function(f,a,e,n){if(n<(0,H.closestSquaredDistanceXY)(this.getExtent(),f,a))return n;for(var y=this.flatCoordinates,B=this.stride,D=0,O=y.length;D<O;D+=B){var M=(0,u.squaredDistance)(f,a,y[D],y[D+1]);if(M<n){n=M;for(M=0;M<B;++M)e[M]=y[D+M];e.length=B}}return n};d.prototype.getCoordinates=function(){return(0,v.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(f){var a=this.flatCoordinates?this.flatCoordinates.length/
this.stride:0;return 0>f||a<=f?null:new w["default"](this.flatCoordinates.slice(f*this.stride,(f+1)*this.stride),this.layout)};d.prototype.getPoints=function(){for(var f=this.flatCoordinates,a=this.layout,e=this.stride,n=[],y=0,B=f.length;y<B;y+=e){var D=new w["default"](f.slice(y,y+e),a);n.push(D)}return n};d.prototype.getType=function(){return l["default"].MULTI_POINT};d.prototype.intersectsExtent=function(f){for(var a=this.flatCoordinates,e=this.stride,n=0,y=a.length;n<y;n+=e){var B=a[n],D=a[n+
1];if((0,H.containsXY)(f,B,D))return!0}return!1};d.prototype.setCoordinates=function(f,a){this.setLayout(a,f,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,N.deflateCoordinates)(this.flatCoordinates,0,f,this.stride);this.changed()};return d}(Ja["default"]);E["default"]=A};
shadow$provide[194]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.linearRingss=function(l,w,H,N){var x=[];(0,k.createEmpty)();for(var v=0,u=H.length;v<u;++v){var m=H[v];w=(0,k.createOrUpdateFromFlatCoordinates)(l,w,m[0],N);x.push((w[0]+w[2])/2,(w[1]+w[3])/2);w=m[m.length-1]}return x};var k=A(78)};
shadow$provide[195]=function(Ja,A,rb,E){function k(O){return O&&O.__esModule?O:{"default":O}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(133)),w=k(A(117)),H=k(A(193)),N=k(A(150));Ja=k(A(136));var x=A(137),v=A(78),u=A(138),m=A(70),g=A(145),d=A(140),f=A(147),a=A(149),e=A(141),n=A(194),y=A(144),B=A(139),D=function(){var O=function(M,F){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,G){z.__proto__=G}||function(z,G){for(var K in G)Object.prototype.hasOwnProperty.call(G,
K)&&(z[K]=G[K])};return O(M,F)};return function(M,F){function z(){this.constructor=M}O(M,F);M.prototype=null===F?Object.create(F):(z.prototype=F.prototype,new z)}}();A=function(O){function M(F,z,G){var K=O.call(this)||this;K.endss_=[];K.flatInteriorPointsRevision_=-1;K.flatInteriorPoints_=null;K.maxDelta_=-1;K.maxDeltaRevision_=-1;K.orientedRevision_=-1;K.orientedFlatCoordinates_=null;if(!G&&!Array.isArray(F[0])){z=K.getLayout();var R=F;F=[];G=[];for(var T=0,ja=R.length;T<ja;++T){var fa=R[T];0===
T&&(z=fa.getLayout());for(var ha=F.length,la=fa.getEnds(),Z=0,P=la.length;Z<P;++Z)la[Z]+=ha;(0,m.extend)(F,fa.getFlatCoordinates());G.push(la)}}void 0!==z&&G?(K.setFlatCoordinates(z,F),K.endss_=G):K.setCoordinates(F,z);return K}D(M,O);M.prototype.appendPolygon=function(F){if(this.flatCoordinates){var z=this.flatCoordinates.length;(0,m.extend)(this.flatCoordinates,F.getFlatCoordinates());F=F.getEnds().slice();for(var G=0,K=F.length;G<K;++G)F[G]+=z}else this.flatCoordinates=F.getFlatCoordinates().slice(),
F=F.getEnds().slice(),this.endss_.push();this.endss_.push(F);this.changed()};M.prototype.clone=function(){for(var F=this.endss_.length,z=Array(F),G=0;G<F;++G)z[G]=this.endss_[G].slice();F=new M(this.flatCoordinates.slice(),this.layout,z);F.applyProperties(this);return F};M.prototype.closestPointXY=function(F,z,G,K){if(K<(0,v.closestSquaredDistanceXY)(this.getExtent(),F,z))return K;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,x.multiArrayMaxSquaredDelta)(this.flatCoordinates,
0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,x.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,F,z,G,K)};M.prototype.containsXY=function(F,z){return(0,y.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,F,z)};M.prototype.getArea=function(){return(0,e.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};M.prototype.getCoordinates=function(F){if(void 0!==
F){var z=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(z,0,this.endss_,this.stride,F)}else z=this.flatCoordinates;return(0,d.inflateMultiCoordinatesArray)(z,0,this.endss_,this.stride)};M.prototype.getEndss=function(){return this.endss_};M.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var F=(0,n.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride,F);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};M.prototype.getInteriorPoints=function(){return new H["default"](this.getFlatInteriorPoints().slice(),l["default"].XYM)};M.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var F=this.flatCoordinates;(0,a.linearRingssAreOriented)(F,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=F:(this.orientedFlatCoordinates_=F.slice(),this.orientedFlatCoordinates_.length=
(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};M.prototype.getSimplifiedGeometryInternal=function(F){var z=[],G=[];z.length=(0,B.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(F),z,0,G);return new M(z,l["default"].XY,G)};M.prototype.getPolygon=function(F){if(0>F||this.endss_.length<=F)return null;if(0===F)var z=0;else z=this.endss_[F-1],z=z[z.length-
1];F=this.endss_[F].slice();var G=F[F.length-1];if(0!==z)for(var K=0,R=F.length;K<R;++K)F[K]-=z;return new N["default"](this.flatCoordinates.slice(z,G),this.layout,F)};M.prototype.getPolygons=function(){for(var F=this.layout,z=this.flatCoordinates,G=this.endss_,K=[],R=0,T=0,ja=G.length;T<ja;++T){var fa=G[T].slice(),ha=fa[fa.length-1];if(0!==R)for(var la=0,Z=fa.length;la<Z;++la)fa[la]-=R;R=new N["default"](z.slice(R,ha),F,fa);K.push(R);R=ha}return K};M.prototype.getType=function(){return w["default"].MULTI_POLYGON};
M.prototype.intersectsExtent=function(F){return(0,f.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,F)};M.prototype.setCoordinates=function(F,z){this.setLayout(z,F,3);this.flatCoordinates||(this.flatCoordinates=[]);F=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,F,this.stride,this.endss_);0===F.length?this.flatCoordinates.length=0:(F=F[F.length-1],this.flatCoordinates.length=0===F.length?0:F[F.length-1]);this.changed()};return M}(Ja["default"]);
E["default"]=A};
shadow$provide[196]=function(Ja,A,rb,E){!function(k,l){"object"==typeof E&&"undefined"!=typeof rb?rb.exports=l():"function"==typeof define&&define.amd?define(l):(k=k||self).RBush=l()}(this,function(){function k(y,B,D,O,M){!function ja(z,G,K,R,T){for(;R>K;){if(600<R-K){var fa=R-K+1,ha=G-K+1,la=Math.log(fa),Z=.5*Math.exp(2*la/3);la=.5*Math.sqrt(la*Z*(fa-Z)/fa)*(0>ha-fa/2?-1:1);ja(z,G,Math.max(K,Math.floor(G-ha*Z/fa+la)),Math.min(R,Math.floor(G+(fa-ha)*Z/fa+la)),T)}fa=z[G];ha=K;Z=R;l(z,K,G);for(0<T(z[R],
fa)&&l(z,K,R);ha<Z;){l(z,ha,Z);ha++;for(Z--;0>T(z[ha],fa);)ha++;for(;0<T(z[Z],fa);)Z--}0===T(z[K],fa)?l(z,K,Z):l(z,++Z,R);Z<=G&&(K=Z+1);G<=Z&&(R=Z-1)}}(y,B,D||0,O||y.length-1,M||w)}function l(y,B,D){var O=y[B];y[B]=y[D];y[D]=O}function w(y,B){return y<B?-1:y>B?1:0}function H(y,B){N(y,0,y.children.length,B,y)}function N(y,B,D,O,M){M||(M=a(null));M.minX=1/0;M.minY=1/0;M.maxX=-1/0;for(M.maxY=-1/0;B<D;B++){var F=y.children[B];x(M,y.leaf?O(F):F)}return M}function x(y,B){return y.minX=Math.min(y.minX,B.minX),
y.minY=Math.min(y.minY,B.minY),y.maxX=Math.max(y.maxX,B.maxX),y.maxY=Math.max(y.maxY,B.maxY),y}function v(y,B){return y.minX-B.minX}function u(y,B){return y.minY-B.minY}function m(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function g(y){return y.maxX-y.minX+(y.maxY-y.minY)}function d(y,B){return y.minX<=B.minX&&y.minY<=B.minY&&B.maxX<=y.maxX&&B.maxY<=y.maxY}function f(y,B){return B.minX<=y.maxX&&B.minY<=y.maxY&&B.maxX>=y.minX&&B.maxY>=y.minY}function a(y){return{children:y,height:1,leaf:!0,minX:1/0,
minY:1/0,maxX:-1/0,maxY:-1/0}}function e(y,B,D,O,M){for(var F=[B,D];F.length;)if(!((D=F.pop())-(B=F.pop())<=O)){var z=B+Math.ceil((D-B)/O/2)*O;k(y,z,B,D,M);F.push(B,z,z,D)}}var n=function(y){void 0===y&&(y=9);this._maxEntries=Math.max(4,y);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(y){var B=this.data,D=[];if(!f(y,B))return D;for(var O=this.toBBox,M=[];B;){for(var F=0;F<B.children.length;F++){var z=
B.children[F],G=B.leaf?O(z):z;f(y,G)&&(B.leaf?D.push(z):d(y,G)?this._all(z,D):M.push(z))}B=M.pop()}return D},n.prototype.collides=function(y){var B=this.data;if(!f(y,B))return!1;for(var D=[];B;){for(var O=0;O<B.children.length;O++){var M=B.children[O],F=B.leaf?this.toBBox(M):M;if(f(y,F)){if(B.leaf||d(y,F))return!0;D.push(M)}}B=D.pop()}return!1},n.prototype.load=function(y){if(!y||!y.length)return this;if(y.length<this._minEntries){for(var B=0;B<y.length;B++)this.insert(y[B]);return this}y=this._build(y.slice(),
0,y.length-1,0);this.data.children.length?this.data.height===y.height?this._splitRoot(this.data,y):(this.data.height<y.height&&(B=this.data,this.data=y,y=B),this._insert(y,this.data.height-y.height-1,!0)):this.data=y;return this},n.prototype.insert=function(y){return y&&this._insert(y,this.data.height-1),this},n.prototype.clear=function(){return this.data=a([]),this},n.prototype.remove=function(y,B){if(!y)return this;for(var D,O,M,F=this.data,z=this.toBBox(y),G=[],K=[];F||G.length;){if(F||(F=G.pop(),
O=G[G.length-1],D=K.pop(),M=!0),F.leaf){a:{var R=y;var T=F.children,ja=B;if(ja){for(var fa=0;fa<T.length;fa++)if(ja(R,T[fa])){R=fa;break a}R=-1}else R=T.indexOf(R)}if(-1!==R)return F.children.splice(R,1),G.push(F),this._condense(G),this}M||F.leaf||!d(F,z)?O?(D++,F=O.children[D],M=!1):F=null:(G.push(F),K.push(D),D=0,O=F,F=F.children[0])}return this},n.prototype.toBBox=function(y){return y},n.prototype.compareMinX=function(y,B){return y.minX-B.minX},n.prototype.compareMinY=function(y,B){return y.minY-
B.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(y){return this.data=y,this},n.prototype._all=function(y,B){for(var D=[];y;)y.leaf?B.push.apply(B,y.children):D.push.apply(D,y.children),y=D.pop();return B},n.prototype._build=function(y,B,D,O){var M,F=D-B+1,z=this._maxEntries;if(F<=z)return H(M=a(y.slice(B,D+1)),this.toBBox),M;O||(O=Math.ceil(Math.log(F)/Math.log(z)),z=Math.ceil(F/Math.pow(z,O-1)));(M=a([])).leaf=!1;M.height=O;F=Math.ceil(F/z);z=F*Math.ceil(Math.sqrt(z));
for(e(y,B,D,z,this.compareMinX);B<=D;B+=z){var G=Math.min(B+z-1,D);e(y,B,G,F,this.compareMinY);for(var K=B;K<=G;K+=F)M.children.push(this._build(y,K,Math.min(K+F-1,G),O-1))}return H(M,this.toBBox),M},n.prototype._chooseSubtree=function(y,B,D,O){for(;O.push(B),!B.leaf&&O.length-1!==D;){for(var M=1/0,F=1/0,z=void 0,G=0;G<B.children.length;G++){var K=B.children[G],R=m(K),T=(ja=y,fa=K,(Math.max(fa.maxX,ja.maxX)-Math.min(fa.minX,ja.minX))*(Math.max(fa.maxY,ja.maxY)-Math.min(fa.minY,ja.minY))-R);T<F?(F=
T,M=R<M?R:M,z=K):T===F&&R<M&&(M=R,z=K)}B=z||B.children[0]}var ja,fa;return B},n.prototype._insert=function(y,B,D){D=D?y:this.toBBox(y);var O=[],M=this._chooseSubtree(D,this.data,B,O);M.children.push(y);for(x(M,D);0<=B&&O[B].children.length>this._maxEntries;)this._split(O,B),B--;this._adjustParentBBoxes(D,O,B)},n.prototype._split=function(y,B){var D=y[B],O=D.children.length,M=this._minEntries;this._chooseSplitAxis(D,M,O);O=this._chooseSplitIndex(D,M,O);O=a(D.children.splice(O,D.children.length-O));
O.height=D.height;O.leaf=D.leaf;H(D,this.toBBox);H(O,this.toBBox);B?y[B-1].children.push(O):this._splitRoot(D,O)},n.prototype._splitRoot=function(y,B){this.data=a([y,B]);this.data.height=y.height+1;this.data.leaf=!1;H(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(y,B,D){for(var O,M,F,z,G,K,R,T=1/0,ja=1/0,fa=B;fa<=D-B;fa++){var ha=N(y,0,fa,this.toBBox),la=N(y,fa,D,this.toBBox),Z=(M=ha,F=la,z=void 0,G=void 0,K=void 0,R=void 0,z=Math.max(M.minX,F.minX),G=Math.max(M.minY,F.minY),K=Math.min(M.maxX,
F.maxX),R=Math.min(M.maxY,F.maxY),Math.max(0,K-z)*Math.max(0,R-G));ha=m(ha)+m(la);Z<T?(T=Z,O=fa,ja=ha<ja?ha:ja):Z===T&&ha<ja&&(ja=ha,O=fa)}return O||D-B},n.prototype._chooseSplitAxis=function(y,B,D){var O=y.leaf?this.compareMinX:v,M=y.leaf?this.compareMinY:u;this._allDistMargin(y,B,D,O)<this._allDistMargin(y,B,D,M)&&y.children.sort(O)},n.prototype._allDistMargin=function(y,B,D,O){y.children.sort(O);O=this.toBBox;for(var M=N(y,0,B,O),F=N(y,D-B,D,O),z=g(M)+g(F),G=B;G<D-B;G++){var K=y.children[G];x(M,
y.leaf?O(K):K);z+=g(M)}for(D=D-B-1;D>=B;D--)M=y.children[D],x(F,y.leaf?O(M):M),z+=g(F);return z},n.prototype._adjustParentBBoxes=function(y,B,D){for(;0<=D;D--)x(B[D],y)},n.prototype._condense=function(y){for(var B=y.length-1,D=void 0;0<=B;B--)0===y[B].children.length?0<B?(D=y[B-1].children).splice(D.indexOf(y[B]),1):this.clear():H(y[B],this.toBBox)},n})};
shadow$provide[197]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[198]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(72),l=A(152);Ja=function(){function w(H){this.opacity_=H.opacity;this.rotateWithView_=H.rotateWithView;this.rotation_=H.rotation;this.scale_=H.scale;this.scaleArray_=(0,l.toSize)(H.scale);this.displacement_=H.displacement}w.prototype.clone=function(){var H=this.getScale();return new w({opacity:this.getOpacity(),scale:Array.isArray(H)?H.slice():H,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};w.prototype.getOpacity=function(){return this.opacity_};w.prototype.getRotateWithView=function(){return this.rotateWithView_};w.prototype.getRotation=function(){return this.rotation_};w.prototype.getScale=function(){return this.scale_};w.prototype.getScaleArray=function(){return this.scaleArray_};w.prototype.getDisplacement=function(){return this.displacement_};w.prototype.getAnchor=function(){return(0,k["abstract"])()};w.prototype.getImage=function(H){return(0,
k["abstract"])()};w.prototype.getHitDetectionImage=function(){return(0,k["abstract"])()};w.prototype.getPixelRatio=function(H){return 1};w.prototype.getImageState=function(){return(0,k["abstract"])()};w.prototype.getImageSize=function(){return(0,k["abstract"])()};w.prototype.getHitDetectionImageSize=function(){return(0,k["abstract"])()};w.prototype.getOrigin=function(){return(0,k["abstract"])()};w.prototype.getSize=function(){return(0,k["abstract"])()};w.prototype.setOpacity=function(H){this.opacity_=
H};w.prototype.setRotateWithView=function(H){this.rotateWithView_=H};w.prototype.setRotation=function(H){this.rotation_=H};w.prototype.setScale=function(H){this.scale_=H;this.scaleArray_=(0,l.toSize)(H)};w.prototype.listenImageChange=function(H){(0,k["abstract"])()};w.prototype.load=function(){(0,k["abstract"])()};w.prototype.unlistenImageChange=function(H){(0,k["abstract"])()};return w}();E["default"]=Ja};
shadow$provide[199]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.asColorLike=function(l){return Array.isArray(l)?(0,k.toString)(l):l};var k=A(80)};
shadow$provide[200]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(197));Ja=k(A(198));var w=A(80),H=A(199),N=A(101),x=A(102),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=
m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=u.call(this,{opacity:1,rotateWithView:void 0!==g.rotateWithView?g.rotateWithView:!1,rotation:void 0!==g.rotation?g.rotation:0,scale:void 0!==g.scale?g.scale:1,displacement:void 0!==g.displacement?g.displacement:[0,0]})||this;d.canvas_={};d.hitDetectionCanvas_=null;d.fill_=void 0!==g.fill?g.fill:null;d.origin_=[0,0];d.points_=g.points;d.radius_=void 0!==g.radius?g.radius:g.radius1;d.radius2_=
g.radius2;d.angle_=void 0!==g.angle?g.angle:0;d.stroke_=void 0!==g.stroke?g.stroke:null;d.anchor_=null;d.size_=null;d.imageSize_=null;d.hitDetectionImageSize_=null;d.render();return d}v(m,u);m.prototype.clone=function(){var g=this.getScale();g=new m({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
scale:Array.isArray(g)?g.slice():g,displacement:this.getDisplacement().slice()});g.setOpacity(this.getOpacity());return g};m.prototype.getAnchor=function(){return this.anchor_};m.prototype.getAngle=function(){return this.angle_};m.prototype.getFill=function(){return this.fill_};m.prototype.getHitDetectionImage=function(){if(!this.hitDetectionCanvas_){var g=this.createRenderOptions();this.createHitDetectionCanvas_(g)}return this.hitDetectionCanvas_};m.prototype.getImage=function(g){if(!this.canvas_[g||
1]){var d=this.createRenderOptions(),f=(0,N.createCanvasContext2D)(d.size*g||1,d.size*g||1);this.draw_(d,f,0,0,g||1);this.canvas_[g||1]=f.canvas}return this.canvas_[g||1]};m.prototype.getPixelRatio=function(g){return g};m.prototype.getImageSize=function(){return this.imageSize_};m.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};m.prototype.getImageState=function(){return l["default"].LOADED};m.prototype.getOrigin=function(){return this.origin_};m.prototype.getPoints=
function(){return this.points_};m.prototype.getRadius=function(){return this.radius_};m.prototype.getRadius2=function(){return this.radius2_};m.prototype.getSize=function(){return this.size_};m.prototype.getStroke=function(){return this.stroke_};m.prototype.listenImageChange=function(g){};m.prototype.load=function(){};m.prototype.unlistenImageChange=function(g){};m.prototype.createRenderOptions=function(){var g=x.defaultLineCap,d=x.defaultLineJoin,f=0,a=null,e=0,n=0;if(this.stroke_){var y=this.stroke_.getColor();
null===y&&(y=x.defaultStrokeStyle);y=(0,H.asColorLike)(y);n=this.stroke_.getWidth();void 0===n&&(n=x.defaultLineWidth);a=this.stroke_.getLineDash();e=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=x.defaultLineJoin);g=this.stroke_.getLineCap();void 0===g&&(g=x.defaultLineCap);f=this.stroke_.getMiterLimit();void 0===f&&(f=x.defaultMiterLimit)}return{strokeStyle:y,strokeWidth:n,size:2*(this.radius_+n)+1,lineCap:g,lineDash:a,lineDashOffset:e,lineJoin:d,miterLimit:f}};m.prototype.render=
function(){var g=this.createRenderOptions(),d=(0,N.createCanvasContext2D)(g.size,g.size);this.draw_(g,d,0,0,1);this.canvas_={};this.canvas_[1]=d.canvas;d=d.canvas.width;var f=this.getDisplacement();this.hitDetectionImageSize_=[g.size,g.size];this.createHitDetectionCanvas_(g);this.anchor_=[d/2-f[0],d/2+f[1]];this.size_=[d,d];this.imageSize_=[d,d]};m.prototype.draw_=function(g,d,f,a,e){d.setTransform(e,0,0,e,0,0);d.translate(f,a);d.beginPath();var n=this.points_;if(Infinity===n)d.arc(g.size/2,g.size/
2,this.radius_,0,2*Math.PI,!0);else{var y=void 0!==this.radius2_?this.radius2_:this.radius_;y!==this.radius_&&(n*=2);for(f=0;f<=n;f++)a=2*f*Math.PI/n-Math.PI/2+this.angle_,e=0===f%2?this.radius_:y,d.lineTo(g.size/2+e*Math.cos(a),g.size/2+e*Math.sin(a))}this.fill_&&(f=this.fill_.getColor(),null===f&&(f=x.defaultFillStyle),d.fillStyle=(0,H.asColorLike)(f),d.fill());this.stroke_&&(d.strokeStyle=g.strokeStyle,d.lineWidth=g.strokeWidth,d.setLineDash&&g.lineDash&&(d.setLineDash(g.lineDash),d.lineDashOffset=
g.lineDashOffset),d.lineCap=g.lineCap,d.lineJoin=g.lineJoin,d.miterLimit=g.miterLimit,d.stroke());d.closePath()};m.prototype.createHitDetectionCanvas_=function(g){this.hitDetectionCanvas_=this.getImage(1);if(this.fill_){var d=this.fill_.getColor(),f=0;"string"===typeof d&&(d=(0,w.asArray)(d));null===d?f=1:Array.isArray(d)&&(f=4===d.length?d[3]:1);0===f&&(d=(0,N.createCanvasContext2D)(g.size,g.size),this.hitDetectionCanvas_=d.canvas,this.drawHitDetectionCanvas_(g,d,0,0))}};m.prototype.drawHitDetectionCanvas_=
function(g,d,f,a){d.translate(f,a);d.beginPath();f=this.points_;if(Infinity===f)d.arc(g.size/2,g.size/2,this.radius_,0,2*Math.PI,!0);else{a=void 0!==this.radius2_?this.radius2_:this.radius_;a!==this.radius_&&(f*=2);var e;for(e=0;e<=f;e++){var n=2*e*Math.PI/f-Math.PI/2+this.angle_;var y=0===e%2?this.radius_:a;d.lineTo(g.size/2+y*Math.cos(n),g.size/2+y*Math.sin(n))}}d.fillStyle=x.defaultFillStyle;d.fill();this.stroke_&&(d.strokeStyle=g.strokeStyle,d.lineWidth=g.strokeWidth,g.lineDash&&(d.setLineDash(g.lineDash),
d.lineDashOffset=g.lineDashOffset),d.stroke());d.closePath()};return m}(Ja["default"]);E["default"]=A};
shadow$provide[201]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(l){return l&&l.__esModule?l:{"default":l}}(A(200));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ja=function(l){function w(H){H=H?H:{};return l.call(this,{points:Infinity,fill:H.fill,radius:H.radius,stroke:H.stroke,scale:void 0!==H.scale?H.scale:1,rotation:void 0!==H.rotation?H.rotation:0,rotateWithView:void 0!==H.rotateWithView?H.rotateWithView:!1,displacement:void 0!==H.displacement?H.displacement:[0,0]})||this}k(w,l);w.prototype.clone=function(){var H=this.getScale();H=new w({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():
void 0,radius:this.getRadius(),scale:Array.isArray(H)?H.slice():H,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});H.setOpacity(this.getOpacity());return H};w.prototype.setRadius=function(H){this.radius_=H;this.render()};return w}(Ja["default"]);E["default"]=Ja};
shadow$provide[202]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(){function k(l){l=l||{};this.color_=void 0!==l.color?l.color:null}k.prototype.clone=function(){var l=this.getColor();return new k({color:Array.isArray(l)?l.slice():l||void 0})};k.prototype.getColor=function(){return this.color_};k.prototype.setColor=function(l){this.color_=l};return k}();E["default"]=Ja};
shadow$provide[203]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(){function k(l){l=l||{};this.color_=void 0!==l.color?l.color:null;this.lineCap_=l.lineCap;this.lineDash_=void 0!==l.lineDash?l.lineDash:null;this.lineDashOffset_=l.lineDashOffset;this.lineJoin_=l.lineJoin;this.miterLimit_=l.miterLimit;this.width_=l.width}k.prototype.clone=function(){var l=this.getColor();return new k({color:Array.isArray(l)?l.slice():l||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};k.prototype.getColor=function(){return this.color_};k.prototype.getLineCap=function(){return this.lineCap_};k.prototype.getLineDash=function(){return this.lineDash_};k.prototype.getLineDashOffset=function(){return this.lineDashOffset_};k.prototype.getLineJoin=function(){return this.lineJoin_};k.prototype.getMiterLimit=
function(){return this.miterLimit_};k.prototype.getWidth=function(){return this.width_};k.prototype.setColor=function(l){this.color_=l};k.prototype.setLineCap=function(l){this.lineCap_=l};k.prototype.setLineDash=function(l){this.lineDash_=l};k.prototype.setLineDashOffset=function(l){this.lineDashOffset_=l};k.prototype.setLineJoin=function(l){this.lineJoin_=l};k.prototype.setMiterLimit=function(l){this.miterLimit_=l};k.prototype.setWidth=function(l){this.width_=l};return k}();E["default"]=Ja};
shadow$provide[204]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(d){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return l(d)}function w(d){return d.getGeometry()}Object.defineProperty(E,"__esModule",{value:!0});E.toFunction=function(d){if("function"!==typeof d){if(Array.isArray(d))var f=d;else(0,u.assert)("function"===
typeof d.getZIndex,41),f=[d];d=function(){return f}}return d};E.createDefaultStyle=function(d,f){g||(d=new N["default"]({color:"rgba(255,255,255,0.4)"}),f=new v["default"]({color:"#3399CC",width:1.25}),g=[new m({image:new H["default"]({fill:d,stroke:f,radius:5}),fill:d,stroke:f})]);return g};E.createEditingStyle=function(){var d={},f=[255,255,255,1],a=[0,153,255,1];d[x["default"].POLYGON]=[new m({fill:new N["default"]({color:[255,255,255,.5]})})];d[x["default"].MULTI_POLYGON]=d[x["default"].POLYGON];
d[x["default"].LINE_STRING]=[new m({stroke:new v["default"]({color:f,width:5})}),new m({stroke:new v["default"]({color:a,width:3})})];d[x["default"].MULTI_LINE_STRING]=d[x["default"].LINE_STRING];d[x["default"].CIRCLE]=d[x["default"].POLYGON].concat(d[x["default"].LINE_STRING]);d[x["default"].POINT]=[new m({image:new H["default"]({radius:6,fill:new N["default"]({color:a}),stroke:new v["default"]({color:f,width:1.5})}),zIndex:Infinity})];d[x["default"].MULTI_POINT]=d[x["default"].POINT];d[x["default"].GEOMETRY_COLLECTION]=
d[x["default"].POLYGON].concat(d[x["default"].LINE_STRING],d[x["default"].POINT]);return d};E["default"]=void 0;var H=k(A(201)),N=k(A(202)),x=k(A(117)),v=k(A(203)),u=A(74),m=function(){function d(f){f=f||{};this.geometry_=null;this.geometryFunction_=w;void 0!==f.geometry&&this.setGeometry(f.geometry);this.fill_=void 0!==f.fill?f.fill:null;this.image_=void 0!==f.image?f.image:null;this.renderer_=void 0!==f.renderer?f.renderer:null;this.stroke_=void 0!==f.stroke?f.stroke:null;this.text_=void 0!==f.text?
f.text:null;this.zIndex_=f.zIndex}d.prototype.clone=function(){var f=this.getGeometry();f&&"object"===l(f)&&(f=f.clone());return new d({geometry:f,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};d.prototype.getRenderer=function(){return this.renderer_};d.prototype.setRenderer=function(f){this.renderer_=f};d.prototype.getGeometry=
function(){return this.geometry_};d.prototype.getGeometryFunction=function(){return this.geometryFunction_};d.prototype.getFill=function(){return this.fill_};d.prototype.setFill=function(f){this.fill_=f};d.prototype.getImage=function(){return this.image_};d.prototype.setImage=function(f){this.image_=f};d.prototype.getStroke=function(){return this.stroke_};d.prototype.setStroke=function(f){this.stroke_=f};d.prototype.getText=function(){return this.text_};d.prototype.setText=function(f){this.text_=
f};d.prototype.getZIndex=function(){return this.zIndex_};d.prototype.setGeometry=function(f){"function"===typeof f?this.geometryFunction_=f:"string"===typeof f?this.geometryFunction_=function(a){return a.get(f)}:f?void 0!==f&&(this.geometryFunction_=function(){return f}):this.geometryFunction_=w;this.geometry_=f};d.prototype.setZIndex=function(f){this.zIndex_=f};return d}(),g=null;E["default"]=m};
shadow$provide[205]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(94));var l=k(A(196)),w=A(84),H=A(204),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){u=u?u:{};var m=(0,w.assign)({},u);delete m.style;delete m.renderBuffer;delete m.updateWhileAnimating;delete m.updateWhileInteracting;m=x.call(this,m)||this;m.declutter_=void 0!==u.declutter?u.declutter:!1;m.renderBuffer_=void 0!==u.renderBuffer?u.renderBuffer:100;m.style_=null;m.styleFunction_=void 0;m.setStyle(u.style);m.updateWhileAnimating_=void 0!==u.updateWhileAnimating?u.updateWhileAnimating:!1;m.updateWhileInteracting_=
void 0!==u.updateWhileInteracting?u.updateWhileInteracting:!1;return m}N(v,x);v.prototype.getDeclutter=function(){return this.declutter_};v.prototype.getFeatures=function(u){return x.prototype.getFeatures.call(this,u)};v.prototype.getRenderBuffer=function(){return this.renderBuffer_};v.prototype.getRenderOrder=function(){return this.get("renderOrder")};v.prototype.getStyle=function(){return this.style_};v.prototype.getStyleFunction=function(){return this.styleFunction_};v.prototype.getUpdateWhileAnimating=
function(){return this.updateWhileAnimating_};v.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};v.prototype.renderDeclutter=function(u){u.declutterTree||(u.declutterTree=new l["default"](9));this.getRenderer().renderDeclutter(u)};v.prototype.setRenderOrder=function(u){this.set("renderOrder",u)};v.prototype.setStyle=function(u){this.style_=void 0!==u?u:H.createDefaultStyle;this.styleFunction_=null===u?void 0:(0,H.toFunction)(this.style_);this.changed()};return v}(Ja["default"]);
E["default"]=A};
shadow$provide[206]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};E.fillInstruction=[Ja.FILL];E.strokeInstruction=[Ja.STROKE];E.beginPathInstruction=[Ja.BEGIN_PATH];E.closePathInstruction=[Ja.CLOSE_PATH];E["default"]=Ja};
shadow$provide[207]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(){function k(){}k.prototype.drawCustom=function(l,w,H){};k.prototype.drawGeometry=function(l){};k.prototype.setStyle=function(l){};k.prototype.drawCircle=function(l,w){};k.prototype.drawFeature=function(l,w){};k.prototype.drawGeometryCollection=function(l,w){};k.prototype.drawLineString=function(l,w){};k.prototype.drawMultiLineString=function(l,w){};k.prototype.drawMultiPoint=function(l,
w){};k.prototype.drawMultiPolygon=function(l,w){};k.prototype.drawPoint=function(l,w){};k.prototype.drawPolygon=function(l,w){};k.prototype.drawText=function(l,w){};k.prototype.setFillStrokeStyle=function(l,w){};k.prototype.setImageStyle=function(l,w){};k.prototype.setTextStyle=function(l,w){};return k}();E["default"]=Ja};
shadow$provide[208]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(206)),w=k(A(117)),H=k(A(77));Ja=k(A(207));var N=A(199),x=A(78),v=A(102),u=A(70),m=A(140),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,y){var B=d.call(this)||this;B.tolerance=a;B.maxExtent=e;B.pixelRatio=y;B.maxLineWidth=0;B.resolution=n;B.beginGeometryInstruction1_=null;B.beginGeometryInstruction2_=null;B.bufferedMaxExtent_=null;B.instructions=[];B.coordinates=[];B.tmpCoordinate_=[];B.hitDetectionInstructions=[];B.state={};return B}g(f,d);f.prototype.applyPixelRatio=function(a){var e=this.pixelRatio;return 1==e?a:a.map(function(n){return n*
e})};f.prototype.appendFlatPointCoordinates=function(a,e){for(var n=this.getBufferedMaxExtent(),y=this.tmpCoordinate_,B=this.coordinates,D=B.length,O=0,M=a.length;O<M;O+=e)y[0]=a[O],y[1]=a[O+1],(0,x.containsCoordinate)(n,y)&&(B[D++]=y[0],B[D++]=y[1]);return D};f.prototype.appendFlatLineCoordinates=function(a,e,n,y,B,D){var O=this.coordinates,M=O.length,F=this.getBufferedMaxExtent();D&&(e+=y);D=a[e];var z=a[e+1],G=this.tmpCoordinate_,K=!0,R;for(R=e+y;R<n;R+=y){G[0]=a[R];G[1]=a[R+1];var T=(0,x.coordinateRelationship)(F,
G);T!==ja?(K&&(O[M++]=D,O[M++]=z,K=!1),O[M++]=G[0],O[M++]=G[1]):T===H["default"].INTERSECTING?(O[M++]=G[0],O[M++]=G[1],K=!1):K=!0;D=G[0];z=G[1];var ja=T}if(B&&K||R===e+y)O[M++]=D,O[M++]=z;return M};f.prototype.drawCustomCoordinates_=function(a,e,n,y,B){for(var D=0,O=n.length;D<O;++D){var M=n[D];e=this.appendFlatLineCoordinates(a,e,M,y,!1,!1);B.push(e);e=M}return e};f.prototype.drawCustom=function(a,e,n){this.beginGeometry(a,e);var y=a.getType(),B=a.getStride(),D=this.coordinates.length,O;if(y==w["default"].MULTI_POLYGON){y=
a.getOrientedFlatCoordinates();var M=[];for(var F=a.getEndss(),z=O=0,G=F.length;z<G;++z){var K=[];O=this.drawCustomCoordinates_(y,O,F[z],B,K);M.push(K)}this.instructions.push([l["default"].CUSTOM,D,M,a,n,m.inflateMultiCoordinatesArray])}else y==w["default"].POLYGON||y==w["default"].MULTI_LINE_STRING?(M=[],y=y==w["default"].POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates(),this.drawCustomCoordinates_(y,0,a.getEnds(),B,M),this.instructions.push([l["default"].CUSTOM,D,M,a,n,m.inflateCoordinatesArray])):
y==w["default"].LINE_STRING||y==w["default"].CIRCLE?(y=a.getFlatCoordinates(),B=this.appendFlatLineCoordinates(y,0,y.length,B,!1,!1),this.instructions.push([l["default"].CUSTOM,D,B,a,n,m.inflateCoordinates])):y==w["default"].MULTI_POINT?(y=a.getFlatCoordinates(),B=this.appendFlatPointCoordinates(y,B),B>D&&this.instructions.push([l["default"].CUSTOM,D,B,a,n,m.inflateCoordinates])):y==w["default"].POINT&&(y=a.getFlatCoordinates(),this.coordinates.push(y[0],y[1]),B=this.coordinates.length,this.instructions.push([l["default"].CUSTOM,
D,B,a,n]));this.endGeometry(e)};f.prototype.beginGeometry=function(a,e){this.beginGeometryInstruction1_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[l["default"].BEGIN_GEOMETRY,e,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};f.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};f.prototype.reverseHitDetectionInstructions=
function(){var a=this.hitDetectionInstructions;a.reverse();var e,n=a.length,y=-1;for(e=0;e<n;++e){var B=a[e];var D=B[0];D==l["default"].END_GEOMETRY?y=e:D==l["default"].BEGIN_GEOMETRY&&(B[2]=e,(0,u.reverseSubArray)(this.hitDetectionInstructions,y,e),y=-1)}};f.prototype.setFillStrokeStyle=function(a,e){var n=this.state;a?(a=a.getColor(),n.fillStyle=(0,N.asColorLike)(a?a:v.defaultFillStyle)):n.fillStyle=void 0;e?(a=e.getColor(),n.strokeStyle=(0,N.asColorLike)(a?a:v.defaultStrokeStyle),a=e.getLineCap(),
n.lineCap=void 0!==a?a:v.defaultLineCap,a=e.getLineDash(),n.lineDash=a?a.slice():v.defaultLineDash,a=e.getLineDashOffset(),n.lineDashOffset=a?a:v.defaultLineDashOffset,a=e.getLineJoin(),n.lineJoin=void 0!==a?a:v.defaultLineJoin,a=e.getWidth(),n.lineWidth=void 0!==a?a:v.defaultLineWidth,e=e.getMiterLimit(),n.miterLimit=void 0!==e?e:v.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,
n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)};f.prototype.createFill=function(a){a=a.fillStyle;var e=[l["default"].SET_FILL_STYLE,a];"string"!==typeof a&&e.push(!0);return e};f.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};f.prototype.createStroke=function(a){return[l["default"].SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),a.lineDashOffset*this.pixelRatio]};
f.prototype.updateFillStyle=function(a,e){var n=a.fillStyle;if("string"!==typeof n||a.currentFillStyle!=n)void 0!==n&&this.instructions.push(e.call(this,a)),a.currentFillStyle=n};f.prototype.updateStrokeStyle=function(a,e){var n=a.strokeStyle,y=a.lineCap,B=a.lineDash,D=a.lineDashOffset,O=a.lineJoin,M=a.lineWidth,F=a.miterLimit;if(a.currentStrokeStyle!=n||a.currentLineCap!=y||B!=a.currentLineDash&&!(0,u.equals)(a.currentLineDash,B)||a.currentLineDashOffset!=D||a.currentLineJoin!=O||a.currentLineWidth!=
M||a.currentMiterLimit!=F)void 0!==n&&e.call(this,a),a.currentStrokeStyle=n,a.currentLineCap=y,a.currentLineDash=B,a.currentLineDashOffset=D,a.currentLineJoin=O,a.currentLineWidth=M,a.currentMiterLimit=F};f.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[l["default"].END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};f.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,x.clone)(this.maxExtent),0<this.maxLineWidth)){var a=this.resolution*(this.maxLineWidth+1)/2;(0,x.buffer)(this.bufferedMaxExtent_,a,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_};return f}(Ja["default"]);E["default"]=A};
shadow$provide[209]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(208));var l=k(A(206)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x,v,u,m){x=H.call(this,x,v,u,m)||this;x.hitDetectionImage_=null;x.image_=null;x.imagePixelRatio_=void 0;x.anchorX_=void 0;x.anchorY_=void 0;x.height_=void 0;x.opacity_=void 0;x.originX_=void 0;x.originY_=void 0;x.rotateWithView_=void 0;x.rotation_=void 0;x.scale_=void 0;x.width_=void 0;x.declutterImageWithText_=void 0;return x}w(N,H);N.prototype.drawPoint=function(x,v){if(this.image_){this.beginGeometry(x,v);var u=x.getFlatCoordinates(),
m=x.getStride();x=this.coordinates.length;u=this.appendFlatPointCoordinates(u,m);this.instructions.push([l["default"].DRAW_IMAGE,x,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,x,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(v)}};N.prototype.drawMultiPoint=function(x,v){if(this.image_){this.beginGeometry(x,v);var u=x.getFlatCoordinates(),m=x.getStride();x=this.coordinates.length;u=this.appendFlatPointCoordinates(u,m);this.instructions.push([l["default"].DRAW_IMAGE,
x,u,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,x,u,this.hitDetectionImage_,this.anchorX_,this.anchorY_,
this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(v)}};N.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return H.prototype.finish.call(this)};N.prototype.setImageStyle=
function(x,v){var u=x.getAnchor(),m=x.getSize(),g=x.getHitDetectionImage(),d=x.getImage(this.pixelRatio),f=x.getOrigin();this.imagePixelRatio_=x.getPixelRatio(this.pixelRatio);this.anchorX_=u[0];this.anchorY_=u[1];this.hitDetectionImage_=g;this.image_=d;this.height_=m[1];this.opacity_=x.getOpacity();this.originX_=f[0];this.originY_=f[1];this.rotateWithView_=x.getRotateWithView();this.rotation_=x.getRotation();this.scale_=x.getScaleArray();this.width_=m[0];this.declutterImageWithText_=v};return N}(Ja["default"]);
E["default"]=A};
shadow$provide[210]=function(Ja,A,rb,E){function k(N){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"===typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};return k(N)}function l(){if("function"!==typeof WeakMap)return null;var N=new WeakMap;l=function(){return N};return N}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(N){return N&&N.__esModule?N:{"default":N}}(A(208));
var w=function(N){if(N&&N.__esModule)return N;if(null===N||"object"!==k(N)&&"function"!==typeof N)return{"default":N};var x=l();if(x&&x.has(N))return x.get(N);var v={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor,m;for(m in N)if(Object.prototype.hasOwnProperty.call(N,m)){var g=u?Object.getOwnPropertyDescriptor(N,m):null;g&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=N[m]}v["default"]=N;x&&x.set(N,v);return v}(A(206)),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v,u,m,g){return N.call(this,v,u,m,g)||this}H(x,N);x.prototype.drawFlatCoordinates_=function(v,u,m,g){var d=this.coordinates.length;v=this.appendFlatLineCoordinates(v,u,m,g,!1,!1);d=[w["default"].MOVE_TO_LINE_TO,
d,v];this.instructions.push(d);this.hitDetectionInstructions.push(d);return m};x.prototype.drawLineString=function(v,u){var m=this.state,g=m.lineWidth;void 0!==m.strokeStyle&&void 0!==g&&(this.updateStrokeStyle(m,this.applyStroke),this.beginGeometry(v,u),this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,m.strokeStyle,m.lineWidth,m.lineCap,m.lineJoin,m.miterLimit,m.lineDash,m.lineDashOffset],w.beginPathInstruction),m=v.getFlatCoordinates(),v=v.getStride(),this.drawFlatCoordinates_(m,
0,m.length,v),this.hitDetectionInstructions.push(w.strokeInstruction),this.endGeometry(u))};x.prototype.drawMultiLineString=function(v,u){var m=this.state,g=m.lineWidth;if(void 0!==m.strokeStyle&&void 0!==g){this.updateStrokeStyle(m,this.applyStroke);this.beginGeometry(v,u);this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,m.strokeStyle,m.lineWidth,m.lineCap,m.lineJoin,m.miterLimit,m.lineDash,m.lineDashOffset],w.beginPathInstruction);m=v.getEnds();g=v.getFlatCoordinates();v=v.getStride();
for(var d=0,f=0,a=m.length;f<a;++f)d=this.drawFlatCoordinates_(g,d,m[f],v);this.hitDetectionInstructions.push(w.strokeInstruction);this.endGeometry(u)}};x.prototype.finish=function(){var v=this.state;void 0!=v.lastStroke&&v.lastStroke!=this.coordinates.length&&this.instructions.push(w.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return N.prototype.finish.call(this)};x.prototype.applyStroke=function(v){void 0!=v.lastStroke&&v.lastStroke!=this.coordinates.length&&(this.instructions.push(w.strokeInstruction),
v.lastStroke=this.coordinates.length);v.lastStroke=0;N.prototype.applyStroke.call(this,v);this.instructions.push(w.beginPathInstruction)};return x}(Ja["default"]);E["default"]=A};
shadow$provide[211]=function(Ja,A,rb,E){function k(v){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"===typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};return k(v)}function l(){if("function"!==typeof WeakMap)return null;var v=new WeakMap;l=function(){return v};return v}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(v){return v&&v.__esModule?v:{"default":v}}(A(208));
var w=function(v){if(v&&v.__esModule)return v;if(null===v||"object"!==k(v)&&"function"!==typeof v)return{"default":v};var u=l();if(u&&u.has(v))return u.get(v);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)){var f=g?Object.getOwnPropertyDescriptor(v,d):null;f&&(f.get||f.set)?Object.defineProperty(m,d,f):m[d]=v[d]}m["default"]=v;u&&u.set(v,m);return m}(A(206)),H=A(102),N=A(139),x=function(){var v=function(u,m){v=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g,d,f){return v.call(this,m,g,d,f)||this}x(u,v);u.prototype.drawFlatCoordinatess_=function(m,g,d,f){var a=this.state,e=void 0!==a.fillStyle;a=void 0!==a.strokeStyle;var n=d.length;
this.instructions.push(w.beginPathInstruction);this.hitDetectionInstructions.push(w.beginPathInstruction);for(var y=0;y<n;++y){var B=d[y],D=this.coordinates.length;g=this.appendFlatLineCoordinates(m,g,B,f,!0,!a);g=[w["default"].MOVE_TO_LINE_TO,D,g];this.instructions.push(g);this.hitDetectionInstructions.push(g);a&&(this.instructions.push(w.closePathInstruction),this.hitDetectionInstructions.push(w.closePathInstruction));g=B}e&&(this.instructions.push(w.fillInstruction),this.hitDetectionInstructions.push(w.fillInstruction));
a&&(this.instructions.push(w.strokeInstruction),this.hitDetectionInstructions.push(w.strokeInstruction));return g};u.prototype.drawCircle=function(m,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(m,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,H.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,
d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);f=m.getFlatCoordinates();m=m.getStride();var a=this.coordinates.length;this.appendFlatLineCoordinates(f,0,f.length,m,!1,!1);f=[w["default"].CIRCLE,a];this.instructions.push(w.beginPathInstruction,f);this.hitDetectionInstructions.push(w.beginPathInstruction,f);void 0!==d.fillStyle&&(this.instructions.push(w.fillInstruction),this.hitDetectionInstructions.push(w.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(w.strokeInstruction),
this.hitDetectionInstructions.push(w.strokeInstruction));this.endGeometry(g)}};u.prototype.drawPolygon=function(m,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f)this.setFillStrokeStyles_(),this.beginGeometry(m,g),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,H.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,
d.lineDashOffset]),d=m.getEnds(),f=m.getOrientedFlatCoordinates(),m=m.getStride(),this.drawFlatCoordinatess_(f,0,d,m),this.endGeometry(g)};u.prototype.drawMultiPolygon=function(m,g){var d=this.state,f=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==f){this.setFillStrokeStyles_();this.beginGeometry(m,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([w["default"].SET_FILL_STYLE,H.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([w["default"].SET_STROKE_STYLE,
d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=m.getEndss();f=m.getOrientedFlatCoordinates();m=m.getStride();for(var a=0,e=0,n=d.length;e<n;++e)a=this.drawFlatCoordinatess_(f,a,d[e],m);this.endGeometry(g)}};u.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var m=this.tolerance;if(0!==m)for(var g=this.coordinates,d=0,f=g.length;d<f;++d)g[d]=(0,N.snap)(g[d],m);return v.prototype.finish.call(this)};u.prototype.setFillStrokeStyles_=
function(){var m=this.state;void 0!==m.fillStyle&&this.updateFillStyle(m,this.createFill);void 0!==m.strokeStyle&&this.updateStrokeStyle(m,this.applyStroke)};return u}(Ja["default"]);E["default"]=A};
shadow$provide[212]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={POINT:"point",LINE:"line"}};
shadow$provide[213]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.matchingChunk=function(k,l,w,H,N){for(var x=w,v=w,u=0,m=0,g=w,d,f,a,e,n,y;w<H;w+=N){var B=l[w],D=l[w+1];void 0!==a&&(a=B-a,e=D-e,f=Math.sqrt(a*a+e*e),void 0!==n&&(m+=d,d=Math.acos((n*a+y*e)/(d*f)),d>k&&(m>u&&(u=m,x=g,v=w),m=0,g=w-N)),d=f,n=a,y=e);a=B;e=D}return m+f>u?[g,w]:[x,v]}};
shadow$provide[214]=function(Ja,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TEXT_ALIGN=void 0;Ja=k(A(208));var l=k(A(206)),w=k(A(117)),H=k(A(212)),N=A(199),x=A(102),v=A(72),u=A(78),m=A(213),g=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};E.TEXT_ALIGN=d;A=function(f){function a(e,n,y,B){e=f.call(this,e,n,y,B)||this;e.labels_=null;e.text_="";e.textOffsetX_=0;e.textOffsetY_=0;e.textRotateWithView_=void 0;e.textRotation_=0;e.textFillState_=null;e.fillStates={};e.textStrokeState_=null;e.strokeStates={};e.textState_=
{};e.textStates={};e.textKey_="";e.fillKey_="";e.strokeKey_="";e.declutterImageWithText_=void 0;return e}g(a,f);a.prototype.finish=function(){var e=f.prototype.finish.call(this);e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e};a.prototype.drawText=function(e,n){var y=this.textFillState_,B=this.textStrokeState_,D=this.textState_;if(""!==this.text_&&D&&(y||B)){var O=this.coordinates;y=O.length;var M=e.getType();B=null;var F=e.getStride();if(D.placement!==
H["default"].LINE||M!=w["default"].LINE_STRING&&M!=w["default"].MULTI_LINE_STRING&&M!=w["default"].POLYGON&&M!=w["default"].MULTI_POLYGON){O=D.overflow?null:[];switch(M){case w["default"].POINT:case w["default"].MULTI_POINT:B=e.getFlatCoordinates();break;case w["default"].LINE_STRING:B=e.getFlatMidpoint();break;case w["default"].CIRCLE:B=e.getCenter();break;case w["default"].MULTI_LINE_STRING:B=e.getFlatMidpoints();F=2;break;case w["default"].POLYGON:B=e.getFlatInteriorPoint();D.overflow||O.push(B[2]/
this.resolution);F=3;break;case w["default"].MULTI_POLYGON:F=e.getFlatInteriorPoints();B=[];M=0;for(R=F.length;M<R;M+=3)D.overflow||O.push(F[M+2]/this.resolution),B.push(F[M],F[M+1]);if(0===B.length)return;F=2}M=this.appendFlatPointCoordinates(B,F);if(M===y)return;this.saveTextStates_();if(D.backgroundFill||D.backgroundStroke)this.setFillStrokeStyle(D.backgroundFill,D.backgroundStroke),D.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),
D.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,n);B=D.padding;if(B!=x.defaultPadding&&(0>D.scale[0]||0>D.scale[1])){B=D.padding[0];F=D.padding[1];var z=D.padding[2];e=D.padding[3];0>D.scale[0]&&(F=-F,e=-e);0>D.scale[1]&&(B=-B,z=-z);B=[B,F,z,e]}var G=this.pixelRatio;this.instructions.push([l["default"].DRAW_IMAGE,y,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,
1],NaN,this.declutterImageWithText_,B==x.defaultPadding?x.defaultPadding:B.map(function(fa){return fa*G}),!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,O]);F=1/G;this.hitDetectionInstructions.push([l["default"].DRAW_IMAGE,y,M,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[F,F],NaN,this.declutterImageWithText_,B,!!D.backgroundFill,!!D.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,
this.textOffsetX_,this.textOffsetY_,O])}else{if(!(0,u.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;z=void 0;B=e.getFlatCoordinates();if(M==w["default"].LINE_STRING)z=[B.length];else if(M==w["default"].MULTI_LINE_STRING)z=e.getEnds();else if(M==w["default"].POLYGON)z=e.getEnds().slice(0,1);else if(M==w["default"].MULTI_POLYGON){var K=e.getEndss();z=[];M=0;for(var R=K.length;M<R;++M)z.push(K[M][0])}this.beginGeometry(e,n);e=D.textAlign;var T=0,ja=void 0;R=0;for(K=z.length;R<K;++R){void 0==
e?(M=(0,m.matchingChunk)(D.maxAngle,B,T,z[R],F),T=M[0],ja=M[1]):ja=z[R];for(M=T;M<ja;M+=F)O.push(B[M],B[M+1]);M=O.length;T=z[R];this.drawChars_(y,M);y=M}}this.endGeometry(n)}};a.prototype.saveTextStates_=function(){var e=this.textStrokeState_,n=this.textState_,y=this.textFillState_,B=this.strokeKey_;e&&(B in this.strokeStates||(this.strokeStates[B]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));
e=this.textKey_;e in this.textStates||(this.textStates[e]={font:n.font,textAlign:n.textAlign||x.defaultTextAlign,textBaseline:n.textBaseline||x.defaultTextBaseline,scale:n.scale});n=this.fillKey_;y&&(n in this.fillStates||(this.fillStates[n]={fillStyle:y.fillStyle}))};a.prototype.drawChars_=function(e,n){var y=this.textStrokeState_,B=this.textState_,D=this.strokeKey_,O=this.textKey_,M=this.fillKey_;this.saveTextStates_();var F=this.pixelRatio,z=d[B.textBaseline],G=this.textOffsetY_*F,K=this.text_;
y=y?y.lineWidth*Math.abs(B.scale[0])/2:0;this.instructions.push([l["default"].DRAW_CHARS,e,n,z,B.overflow,M,B.maxAngle,F,G,D,y*F,K,O,1]);this.hitDetectionInstructions.push([l["default"].DRAW_CHARS,e,n,z,B.overflow,M,B.maxAngle,1,G,D,y,K,O,1/F])};a.prototype.setTextStyle=function(e,n){var y,B;if(e){if(B=e.getFill()){var D=this.textFillState_;D||(this.textFillState_=D={});D.fillStyle=(0,N.asColorLike)(B.getColor()||x.defaultFillStyle)}else this.textFillState_=D=null;if(y=e.getStroke()){B=this.textStrokeState_;
B||(this.textStrokeState_=B={});var O=y.getLineDash(),M=y.getLineDashOffset(),F=y.getWidth(),z=y.getMiterLimit();B.lineCap=y.getLineCap()||x.defaultLineCap;B.lineDash=O?O.slice():x.defaultLineDash;B.lineDashOffset=void 0===M?x.defaultLineDashOffset:M;B.lineJoin=y.getLineJoin()||x.defaultLineJoin;B.lineWidth=void 0===F?x.defaultLineWidth:F;B.miterLimit=void 0===z?x.defaultMiterLimit:z;B.strokeStyle=(0,N.asColorLike)(y.getColor()||x.defaultStrokeStyle)}else this.textStrokeState_=B=null;y=this.textState_;
O=e.getFont()||x.defaultFont;(0,x.registerFont)(O);M=e.getScaleArray();y.overflow=e.getOverflow();y.font=O;y.maxAngle=e.getMaxAngle();y.placement=e.getPlacement();y.textAlign=e.getTextAlign();y.textBaseline=e.getTextBaseline()||x.defaultTextBaseline;y.backgroundFill=e.getBackgroundFill();y.backgroundStroke=e.getBackgroundStroke();y.padding=e.getPadding()||x.defaultPadding;y.scale=void 0===M?[1,1]:M;O=e.getOffsetX();M=e.getOffsetY();F=e.getRotateWithView();z=e.getRotation();this.text_=e.getText()||
"";this.textOffsetX_=void 0===O?0:O;this.textOffsetY_=void 0===M?0:M;this.textRotateWithView_=void 0===F?!1:F;this.textRotation_=void 0===z?0:z;this.strokeKey_=B?("string"==typeof B.strokeStyle?B.strokeStyle:(0,v.getUid)(B.strokeStyle))+B.lineCap+B.lineDashOffset+"|"+B.lineWidth+B.lineJoin+B.miterLimit+"["+B.lineDash.join()+"]":"";this.textKey_=y.font+y.scale+(y.textAlign||"?")+(y.textBaseline||"?");this.fillKey_=D?"string"==typeof D.fillStyle?D.fillStyle:"|"+(0,v.getUid)(D.fillStyle):""}else this.text_=
"";this.declutterImageWithText_=n};return a}(Ja["default"]);E["default"]=A};
shadow$provide[215]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(208));rb=k(A(209));var l=k(A(210)),w=k(A(211));A=k(A(214));var H={Circle:w["default"],Default:Ja["default"],Image:rb["default"],LineString:l["default"],Polygon:w["default"],Text:A["default"]};A=function(){function N(x,v,u,m){this.tolerance_=x;this.maxExtent_=v;this.pixelRatio_=m;this.resolution_=u;this.buildersByZIndex_={}}N.prototype.finish=
function(){var x={},v;for(v in this.buildersByZIndex_){x[v]=x[v]||{};var u=this.buildersByZIndex_[v],m;for(m in u){var g=u[m].finish();x[v][m]=g}}return x};N.prototype.getBuilder=function(x,v){var u=void 0!==x?x.toString():"0";x=this.buildersByZIndex_[u];void 0===x&&(x={},this.buildersByZIndex_[u]=x);u=x[v];void 0===u&&(u=new H[v](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),x[v]=u);return u};return N}();E["default"]=A};
shadow$provide[216]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(86)),w=k(A(197));Ja=k(A(88));var H=k(A(93)),N=A(72),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,
m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=v.call(this)||this;g.boundHandleImageChange_=g.handleImageChange_.bind(g);g.layer_=m;g.declutterExecutorGroup=null;return g}x(u,v);u.prototype.getFeatures=function(m){return(0,N["abstract"])()};u.prototype.prepareFrame=function(m){return(0,N["abstract"])()};u.prototype.renderFrame=function(m,g){return(0,N["abstract"])()};u.prototype.loadedTileCallback=function(m,g,d){m[g]||(m[g]={});m[g][d.tileCoord.toString()]=
d};u.prototype.createLoadedTileFinder=function(m,g,d){return function(f,a){var e=this.loadedTileCallback.bind(this,d,f);return m.forEachLoadedTile(g,f,a,e)}.bind(this)};u.prototype.forEachFeatureAtCoordinate=function(m,g,d,f,a){};u.prototype.getDataAtPixel=function(m,g,d){return(0,N["abstract"])()};u.prototype.getLayer=function(){return this.layer_};u.prototype.handleFontsChanged=function(){};u.prototype.handleImageChange_=function(m){m.target.getState()===w["default"].LOADED&&this.renderIfReadyAndVisible()};
u.prototype.loadImage=function(m){var g=m.getState();g!=w["default"].LOADED&&g!=w["default"].ERROR&&m.addEventListener(l["default"].CHANGE,this.boundHandleImageChange_);g==w["default"].IDLE&&(m.load(),g=m.getState());return g==w["default"].LOADED};u.prototype.renderIfReadyAndVisible=function(){var m=this.getLayer();m.getVisible()&&m.getSourceState()==H["default"].READY&&m.changed()};return u}(Ja["default"]);E["default"]=A};
shadow$provide[217]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(216));var l=k(A(98)),w=k(A(92)),H=A(75),N=A(78),x=A(101),v=A(102),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=
g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(m){function g(d){d=m.call(this,d)||this;d.container=null;d.tempTransform=(0,H.create)();d.pixelTransform=(0,H.create)();d.inversePixelTransform=(0,H.create)();d.context=null;d.containerReused=!1;return d}u(g,m);g.prototype.useContainer=function(d,f,a){a=this.getLayer().getClassName();var e;if(d&&""===d.style.opacity&&d.className===a){var n=d.firstElementChild;n instanceof HTMLCanvasElement&&(e=n.getContext("2d"))}!e||
0!==e.canvas.width&&e.canvas.style.transform!==f?this.containerReused&&(this.context=this.container=null,this.containerReused=!1):(this.container=d,this.context=e,this.containerReused=!0);this.container||(d=document.createElement("div"),d.className=a,f=d.style,f.position="absolute",f.width="100%",f.height="100%",e=(0,x.createCanvasContext2D)(),n=e.canvas,d.appendChild(n),f=n.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=d,this.context=e)};g.prototype.clip=function(d,
f,a){var e=f.pixelRatio,n=f.size[0]*e/2,y=f.size[1]*e/2,B=f.viewState.rotation,D=(0,N.getTopLeft)(a),O=(0,N.getTopRight)(a),M=(0,N.getBottomRight)(a);a=(0,N.getBottomLeft)(a);(0,H.apply)(f.coordinateToPixelTransform,D);(0,H.apply)(f.coordinateToPixelTransform,O);(0,H.apply)(f.coordinateToPixelTransform,M);(0,H.apply)(f.coordinateToPixelTransform,a);d.save();(0,v.rotateAtOffset)(d,-B,n,y);d.beginPath();d.moveTo(D[0]*e,D[1]*e);d.lineTo(O[0]*e,O[1]*e);d.lineTo(M[0]*e,M[1]*e);d.lineTo(a[0]*e,a[1]*e);
d.clip();(0,v.rotateAtOffset)(d,B,n,y)};g.prototype.clipUnrotated=function(d,f,a){var e=(0,N.getTopLeft)(a),n=(0,N.getTopRight)(a),y=(0,N.getBottomRight)(a);a=(0,N.getBottomLeft)(a);(0,H.apply)(f.coordinateToPixelTransform,e);(0,H.apply)(f.coordinateToPixelTransform,n);(0,H.apply)(f.coordinateToPixelTransform,y);(0,H.apply)(f.coordinateToPixelTransform,a);f=this.inversePixelTransform;(0,H.apply)(f,e);(0,H.apply)(f,n);(0,H.apply)(f,y);(0,H.apply)(f,a);d.save();d.beginPath();d.moveTo(Math.round(e[0]),
Math.round(e[1]));d.lineTo(Math.round(n[0]),Math.round(n[1]));d.lineTo(Math.round(y[0]),Math.round(y[1]));d.lineTo(Math.round(a[0]),Math.round(a[1]));d.clip()};g.prototype.dispatchRenderEvent_=function(d,f,a){var e=this.getLayer();e.hasListener(d)&&(d=new l["default"](d,this.inversePixelTransform,a,f),e.dispatchEvent(d))};g.prototype.preRender=function(d,f){this.dispatchRenderEvent_(w["default"].PRERENDER,d,f)};g.prototype.postRender=function(d,f){this.dispatchRenderEvent_(w["default"].POSTRENDER,
d,f)};g.prototype.getRenderTransform=function(d,f,a,e,n,y,B){n/=2;y/=2;f=e/f;e=-f;B=-d[0]+B;d=-d[1];return(0,H.compose)(this.tempTransform,n,y,f,e,-a,B,d)};g.prototype.getDataAtPixel=function(d,f,a){a=(0,H.apply)(this.inversePixelTransform,d.slice());var e=this.context,n=this.getLayer().getExtent();if(n&&(d=(0,H.apply)(f.pixelToCoordinateTransform,d.slice()),!(0,N.containsCoordinate)(n,d)))return null;try{var y=Math.round(a[0]),B=Math.round(a[1]),D=document.createElement("canvas"),O=D.getContext("2d");
D.width=1;D.height=1;O.clearRect(0,0,1,1);O.drawImage(e.canvas,y,B,1,1,0,0,1,1);var M=O.getImageData(0,0,1,1).data}catch(F){return"SecurityError"===F.name?new Uint8Array:M}return 0===M[3]?null:M};return g}(Ja["default"]);E["default"]=A};
shadow$provide[218]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[219]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.drawTextOnPath=function(w,H,N,x,v,u,m,g,d,f,a,e){function n(){D=y;O=B;H+=x;y=w[H];B=w[H+1];F+=M;M=Math.sqrt((y-D)*(y-D)+(B-O)*(B-O))}var y=w[H],B=w[H+1],D=0,O=0,M=0,F=0;do n();while(H<N-x&&F+M<u);for(var z=(u-F)/M,G=(0,k.lerp)(D,y,z),K=(0,k.lerp)(O,B,z),R=H-x,T=F,ja=u+g*d(f,v,a);H<N-x&&F+M<ja;)n();z=(ja-F)/M;var fa=(0,k.lerp)(D,y,z);z=(0,k.lerp)(O,B,z);if(e){var ha=[G,K,fa,z];(0,l.rotate)(ha,0,4,2,e,ha,ha);
e=ha[0]>ha[2]}else e=G>fa;ha=Math.PI;var la=[],Z=R+x===H;H=R;M=0;F=T;y=w[H];B=w[H+1];if(Z)return n(),N=Math.atan2(B-O,y-D),e&&(N+=0<N?-ha:ha),la[0]=[(fa+G)/2,(z+K)/2,(ja-u)/2,N,v],la;G=0;for(K=v.length;G<K;){n();ja=Math.atan2(B-O,y-D);e&&(ja+=0<ja?-ha:ha);if(void 0!==P){var P=ja-P;P+=P>ha?-2*ha:P<-ha?2*ha:0;if(Math.abs(P)>m)return null}P=ja;z=G;for(fa=0;G<K;++G){R=g*d(f,v[e?K-G-1:G],a);if(H+x<N&&F+M<u+fa+R/2)break;fa+=R}G!==z&&(T=e?v.substring(K-z,K-G):v.substring(z,G),z=(u+fa/2-F)/M,R=(0,k.lerp)(D,
y,z),z=(0,k.lerp)(O,B,z),la.push([R,z,fa/2,ja,T]),u+=fa)}return la};var k=A(79),l=A(134)};
shadow$provide[220]=function(Ja,A,rb,E){function k(O){return O[3].declutterBox}function l(O,M){"start"!==M&&"end"!==M||D.test(O)||(M="start"===M?"left":"right");return H.TEXT_ALIGN[M]}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(O){return O&&O.__esModule?O:{"default":O}}(A(206)),H=A(214),N=A(100),x=A(75),v=A(78),u=A(102),m=A(219),g=A(70),d=A(190),f=A(134),a=(0,v.createEmpty)(),e=[],n=[],y=[],B=[],D=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+
String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");Ja=function(){function O(M,F,z,G,K){this.overlaps=z;this.pixelRatio=F;this.resolution=M;this.instructions=G.instructions;this.coordinates=G.coordinates;this.coordinateCache_={};this.renderBuffer_=K;this.renderedTransform_=(0,x.create)();this.hitDetectionInstructions=
G.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=G.fillStates||{};this.strokeStates=G.strokeStates||{};this.textStates=G.textStates||{};this.widths_={};this.labels_={}}O.prototype.createLabel=function(M,F,z,G){var K=M+F+z+G;if(this.labels_[K])return this.labels_[K];var R=G?this.strokeStates[G]:null,T=z?this.fillStates[z]:null,ja=this.textStates[F];F=this.pixelRatio;var fa=[ja.scale[0]*F,ja.scale[1]*F],ha=l(M,ja.textAlign||u.defaultTextAlign);F=G&&R.lineWidth?
R.lineWidth:0;M=M.split("\n");var la=M.length,Z=[],P=(0,u.measureTextWidths)(ja.font,M,Z),C=(0,u.measureTextHeight)(ja.font),V=P+F;P=[];var ia=(V+2)*fa[0],aa=(C*la+F)*fa[1];ia={width:0>ia?Math.floor(ia):Math.ceil(ia),height:0>aa?Math.floor(aa):Math.ceil(aa),contextInstructions:P};1==fa[0]&&1==fa[1]||P.push("scale",fa);P.push("font",ja.font);G&&(P.push("strokeStyle",R.strokeStyle),P.push("lineWidth",F),P.push("lineCap",R.lineCap),P.push("lineJoin",R.lineJoin),P.push("miterLimit",R.miterLimit),(N.WORKER_OFFSCREEN_CANVAS?
OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(P.push("setLineDash",[R.lineDash]),P.push("lineDashOffset",R.lineDashOffset)));z&&P.push("fillStyle",T.fillStyle);P.push("textBaseline","middle");P.push("textAlign","center");R=.5-ha;T=ha*V+R*F;if(G)for(G=0;G<la;++G)P.push("strokeText",[M[G],T+R*Z[G],.5*(F+C)+G*C]);if(z)for(G=0;G<la;++G)P.push("fillText",[M[G],T+R*Z[G],.5*(F+C)+G*C]);return this.labels_[K]=ia};O.prototype.replayTextBackground_=function(M,F,z,G,K,R,
T){M.beginPath();M.moveTo.apply(M,F);M.lineTo.apply(M,z);M.lineTo.apply(M,G);M.lineTo.apply(M,K);M.lineTo.apply(M,F);R&&(this.alignFill_=R[2],this.fill_(M));T&&(this.setStrokeStyle_(M,T),M.stroke())};O.prototype.calculateImageOrLabelDimensions_=function(M,F,z,G,K,R,T,ja,fa,ha,la,Z,P,C,V,ia){T*=Z[0];ja*=Z[1];T=z-T;ja=G-ja;M=K+fa>M?M-fa:K;F=R+ha>F?F-ha:R;R=C[3]+M*Z[0]+C[1];K=C[0]+F*Z[1]+C[2];var aa=T-C[3];C=ja-C[0];if(V||0!==la)e[0]=aa,B[0]=aa,e[1]=C,n[1]=C,n[0]=aa+R,y[0]=n[0],y[1]=C+K,B[1]=y[1];if(0!==
la){var ya=(0,x.compose)((0,x.create)(),z,G,1,1,la,-z,-G);(0,x.apply)(ya,e);(0,x.apply)(ya,n);(0,x.apply)(ya,y);(0,x.apply)(ya,B);(0,v.createOrUpdate)(Math.min(e[0],n[0],y[0],B[0]),Math.min(e[1],n[1],y[1],B[1]),Math.max(e[0],n[0],y[0],B[0]),Math.max(e[1],n[1],y[1],B[1]),a)}else(0,v.createOrUpdate)(Math.min(aa,aa+R),Math.min(C,C+K),Math.max(aa,aa+R),Math.max(C,C+K),a);P&&(T=Math.round(T),ja=Math.round(ja));return{drawImageX:T,drawImageY:ja,drawImageW:M,drawImageH:F,originX:fa,originY:ha,declutterBox:{minX:a[0],
minY:a[1],maxX:a[2],maxY:a[3],value:ia},canvasTransform:ya,scale:Z}};O.prototype.replayImageOrLabel_=function(M,F,z,G,K,R,T){var ja=G.declutterBox,fa=M.canvas,ha=T?T[2]*G.scale[0]/2:0;ja.minX-ha<=fa.width/F&&0<=ja.maxX+ha&&ja.minY-ha<=fa.height/F&&0<=ja.maxY+ha&&((R||T)&&this.replayTextBackground_(M,e,n,y,B,R,T),(0,u.drawImageOrLabel)(M,G.canvasTransform,K,z,G.originX,G.originY,G.drawImageW,G.drawImageH,G.drawImageX,G.drawImageY,G.scale));return!0};O.prototype.fill_=function(M){if(this.alignFill_){var F=
(0,x.apply)(this.renderedTransform_,[0,0]),z=512*this.pixelRatio;M.save();M.translate(F[0]%z,F[1]%z);M.rotate(this.viewRotation_)}M.fill();this.alignFill_&&M.restore()};O.prototype.setStrokeStyle_=function(M,F){M.strokeStyle=F[1];M.lineWidth=F[2];M.lineCap=F[3];M.lineJoin=F[4];M.miterLimit=F[5];M.setLineDash&&(M.lineDashOffset=F[7],M.setLineDash(F[6]))};O.prototype.drawLabelWithPointPlacement_=function(M,F,z,G){var K=this.textStates[F];F=this.createLabel(M,F,G,z);G=this.strokeStates[z];z=this.pixelRatio;
M=l(M,K.textAlign||u.defaultTextAlign);var R=H.TEXT_ALIGN[K.textBaseline||u.defaultTextBaseline];G=G&&G.lineWidth?G.lineWidth:0;return{label:F,anchorX:M*(F.width/z-2*K.scale[0])+2*(.5-M)*G,anchorY:R*F.height/z+2*(.5-R)*G}};O.prototype.execute_=function(M,F,z,G,K,R,T,ja){if(this.pixelCoordinates_&&(0,g.equals)(z,this.renderedTransform_))var fa=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),fa=(0,f.transform2D)(this.coordinates,0,this.coordinates.length,2,z,this.pixelCoordinates_),
(0,x.setFromArray)(this.renderedTransform_,z);var ha=0,la=G.length,Z,P=0,C=0,V=null,ia=null,aa=this.coordinateCache_,ya=this.viewRotation_;z=Math.round(1E12*Math.atan2(-z[1],z[0]))/1E12;for(var va={context:M,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ya},Ia=this.instructions!=G||this.overlaps?0:200,bb,kb;ha<la;){var ua=G[ha];switch(ua[0]){case w["default"].BEGIN_GEOMETRY:bb=ua[1];kb=ua[3];bb.getGeometry()?void 0===T||(0,v.intersects)(T,kb.getExtent())?++ha:ha=ua[2]+1:ha=ua[2];
break;case w["default"].BEGIN_PATH:P>Ia&&(this.fill_(M),P=0);C>Ia&&(M.stroke(),C=0);if(!P&&!C){M.beginPath();var Ta=Z=NaN}++ha;break;case w["default"].CIRCLE:var Ya=ua[1];var Da=fa[Ya];var ta=fa[Ya+1];var U=fa[Ya+2]-Da;Ya=fa[Ya+3]-ta;U=Math.sqrt(U*U+Ya*Ya);M.moveTo(Da+U,ta);M.arc(Da,ta,U,0,2*Math.PI,!0);++ha;break;case w["default"].CLOSE_PATH:M.closePath();++ha;break;case w["default"].CUSTOM:Ya=ua[1];var W=ua[2];Da=ua[4];ta=6==ua.length?ua[5]:void 0;va.geometry=ua[3];va.feature=bb;ha in aa||(aa[ha]=
[]);U=aa[ha];ta?ta(fa,Ya,W,2,U):(U[0]=fa[Ya],U[1]=fa[Ya+1],U.length=2);Da(U,va);++ha;break;case w["default"].DRAW_IMAGE:Ya=ua[1];W=ua[2];Da=ua[3];var ba=ua[4];var ca=ua[5];ta=ua[6];var ra=ua[7],qa=ua[8],Fa=ua[9],na=ua[10],Ra=ua[11],db=ua[12];U=ua[13];var $a=ua[14];!Da&&19<=ua.length&&(ba=ua[18],Da=ua[19],ta=ua[20],U=ua[21],ta=this.drawLabelWithPointPlacement_(ba,Da,ta,U),Da=ta.label,ua[3]=Da,ba=(ta.anchorX-ua[22])*this.pixelRatio,ua[4]=ba,ca=(ta.anchorY-ua[23])*this.pixelRatio,ua[5]=ca,ta=Da.height,
ua[6]=ta,U=Da.width,ua[13]=U);var Ca=void 0;24<ua.length&&(Ca=ua[24]);if(16<ua.length){var Ga=ua[15];var pa=ua[16];var Ha=ua[17]}else Ga=u.defaultPadding,Ha=pa=!1;na&&z?Ra+=ya:na||z||(Ra-=ya);for(na=0;Ya<W;Ya+=2)if(!(Ca&&Ca[na++]<U/this.pixelRatio)){ua=this.calculateImageOrLabelDimensions_(Da.width,Da.height,fa[Ya],fa[Ya+1],U,ta,ba,ca,qa,Fa,Ra,db,K,Ga,pa||Ha,bb);var Ua=[M,F,Da,ua,ra,pa?V:null,Ha?ia:null],jb=void 0,Fb=void 0;if(ja&&$a){if(!$a[Ya]){$a[Ya]=Ua;continue}jb=$a[Ya];delete $a[Ya];Fb=k(jb);
if(ja.collides(Fb))continue}ja&&ja.collides(ua.declutterBox)||(jb&&(ja&&ja.insert(Fb),this.replayImageOrLabel_.apply(this,jb)),ja&&ja.insert(ua.declutterBox),this.replayImageOrLabel_.apply(this,Ua))}++ha;break;case w["default"].DRAW_CHARS:ca=ua[1];Ra=ua[2];Ya=ua[3];$a=ua[4];U=ua[5];db=ua[6];Fa=ua[7];W=ua[8];ta=ua[9];ra=ua[10];ba=ua[11];Da=ua[12];qa=[ua[13],ua[13]];na=this.textStates[Da];ua=na.font;Fa=[na.scale[0]*Fa,na.scale[1]*Fa];ua in this.widths_?na=this.widths_[ua]:(na={},this.widths_[ua]=na);
Ca=(0,d.lineStringLength)(fa,ca,Ra,2);Ga=Math.abs(Fa[0])*(0,u.measureAndCacheTextWidth)(ua,ba,na);if($a||Ga<=Ca)a:if($a=(Ca-Ga)*H.TEXT_ALIGN[this.textStates[Da].textAlign],db=(0,m.drawTextOnPath)(fa,ca,Ra,2,ba,$a,db,Math.abs(Fa[0]),u.measureAndCacheTextWidth,ua,na,z?0:this.viewRotation_),db){Ra=[];if(ta)for($a=0,na=db.length;$a<na;++$a){ua=db[$a];ba=ua[4];Ca=this.createLabel(ba,Da,"",ta);ba=ua[2]+(0>Fa[0]?-ra:ra);ca=Ya*Ca.height+2*(.5-Ya)*ra*Fa[1]/Fa[0]-W;ua=this.calculateImageOrLabelDimensions_(Ca.width,
Ca.height,ua[0],ua[1],Ca.width,Ca.height,ba,ca,0,0,ua[3],qa,!1,u.defaultPadding,!1,bb);if(ja&&ja.collides(ua.declutterBox))break a;Ra.push([M,F,Ca,ua,1,null,null])}if(U)for($a=0,na=db.length;$a<na;++$a){ua=db[$a];ba=ua[4];Ca=this.createLabel(ba,Da,U,"");ba=ua[2];ca=Ya*Ca.height-W;ua=this.calculateImageOrLabelDimensions_(Ca.width,Ca.height,ua[0],ua[1],Ca.width,Ca.height,ba,ca,0,0,ua[3],qa,!1,u.defaultPadding,!1,bb);if(ja&&ja.collides(ua.declutterBox))break a;Ra.push([M,F,Ca,ua,1,null,null])}ja&&ja.load(Ra.map(k));
Da=0;for(ta=Ra.length;Da<ta;++Da)this.replayImageOrLabel_.apply(this,Ra[Da])}++ha;break;case w["default"].END_GEOMETRY:if(void 0!==R&&(bb=ua[1],Da=R(bb,kb)))return Da;++ha;break;case w["default"].FILL:Ia?P++:this.fill_(M);++ha;break;case w["default"].MOVE_TO_LINE_TO:Ya=ua[1];W=ua[2];U=fa[Ya];ba=fa[Ya+1];Da=U+.5|0;ta=ba+.5|0;if(Da!==Z||ta!==Ta)M.moveTo(U,ba),Z=Da,Ta=ta;for(Ya+=2;Ya<W;Ya+=2)if(U=fa[Ya],ba=fa[Ya+1],Da=U+.5|0,ta=ba+.5|0,Ya==W-2||Da!==Z||ta!==Ta)M.lineTo(U,ba),Z=Da,Ta=ta;++ha;break;case w["default"].SET_FILL_STYLE:V=
ua;this.alignFill_=ua[2];P&&(this.fill_(M),P=0,C&&(M.stroke(),C=0));M.fillStyle=ua[1];++ha;break;case w["default"].SET_STROKE_STYLE:ia=ua;C&&(M.stroke(),C=0);this.setStrokeStyle_(M,ua);++ha;break;case w["default"].STROKE:Ia?C++:M.stroke();++ha;break;default:++ha}}P&&this.fill_(M);C&&M.stroke()};O.prototype.execute=function(M,F,z,G,K,R){this.viewRotation_=G;this.execute_(M,F,z,this.instructions,K,void 0,void 0,R)};O.prototype.executeHitDetection=function(M,F,z,G,K){this.viewRotation_=z;return this.execute_(M,
1,F,this.hitDetectionInstructions,!0,G,K)};return O}();E["default"]=Ja};
shadow$provide[221]=function(Ja,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}function l(a){if(void 0!==f[a])return f[a];for(var e=2*a+1,n=a*a,y=Array(n+1),B=0;B<=a;++B)for(var D=0;D<=a;++D){var O=B*B+D*D;if(O>n)break;var M=y[O];M||(M=[],y[O]=M);M.push(4*((a+B)*e+(a+D))+3);0<B&&M.push(4*((a-B)*e+(a+D))+3);0<D&&(M.push(4*((a+B)*e+(a-D))+3),0<B&&M.push(4*((a-B)*e+(a-D))+3))}e=[];B=0;for(n=y.length;B<n;++B)y[B]&&e.push.apply(e,y[B]);return f[a]=e}Object.defineProperty(E,"__esModule",{value:!0});
E.getPixelIndexArray=l;E["default"]=void 0;var w=k(A(218)),H=k(A(220)),N=A(78),x=A(75),v=A(101),u=A(84),m=A(70),g=A(134),d=[w["default"].POLYGON,w["default"].CIRCLE,w["default"].LINE_STRING,w["default"].IMAGE,w["default"].TEXT,w["default"].DEFAULT];Ja=function(){function a(e,n,y,B,D,O){this.maxExtent_=e;this.overlaps_=B;this.pixelRatio_=y;this.resolution_=n;this.renderBuffer_=O;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,x.create)();this.createExecutors_(D)}
a.prototype.clip=function(e,n){n=this.getClipCoords(n);e.beginPath();e.moveTo(n[0],n[1]);e.lineTo(n[2],n[3]);e.lineTo(n[4],n[5]);e.lineTo(n[6],n[7]);e.clip()};a.prototype.createExecutors_=function(e){for(var n in e){var y=this.executorsByZIndex_[n];void 0===y&&(y={},this.executorsByZIndex_[n]=y);var B=e[n],D=[this.renderBuffer_||0,this.renderBuffer_||0],O;for(O in B)y[O]=new H["default"](this.resolution_,this.pixelRatio_,this.overlaps_,B[O],D)}};a.prototype.hasExecutors=function(e){for(var n in this.executorsByZIndex_)for(var y=
this.executorsByZIndex_[n],B=0,D=e.length;B<D;++B)if(e[B]in y)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(e,n,y,B,D,O){function M(la,Z){for(var P=K.getImageData(0,0,F,F).data,C=0,V=T.length;C<V;C++)if(0<P[T[C]]){if(!O||fa!==w["default"].IMAGE&&fa!==w["default"].TEXT||-1!==O.indexOf(la))if(C=(T[C]-3)/4,P=B-C%F,C=B-(C/F|0),la=D(la,Z,P*P+C*C))return la;K.clearRect(0,0,F,F);break}}B=Math.round(B);var F=2*B+1,z=(0,x.compose)(this.hitDetectionTransform_,B+.5,B+.5,1/n,-1/n,-y,-e[0],
-e[1]),G=!this.hitDetectionContext_;G&&(this.hitDetectionContext_=(0,v.createCanvasContext2D)(F,F));var K=this.hitDetectionContext_;K.canvas.width!==F||K.canvas.height!==F?(K.canvas.width=F,K.canvas.height=F):G||K.clearRect(0,0,F,F);if(void 0!==this.renderBuffer_){var R=(0,N.createEmpty)();(0,N.extendCoordinate)(R,e);(0,N.buffer)(R,n*(this.renderBuffer_+B),R)}var T=l(B);e=Object.keys(this.executorsByZIndex_).map(Number);e.sort(m.numberSafeCompareFunction);for(n=e.length-1;0<=n;--n){var ja=this.executorsByZIndex_[e[n].toString()];
for(G=d.length-1;0<=G;--G){var fa=d[G];var ha=ja[fa];if(void 0!==ha&&(ha=ha.executeHitDetection(K,z,y,M,R)))return ha}}};a.prototype.getClipCoords=function(e){var n=this.maxExtent_;if(!n)return null;var y=n[0],B=n[1],D=n[2];n=n[3];y=[y,B,y,n,D,n,D,B];(0,g.transform2D)(y,0,8,2,e,y);return y};a.prototype.isEmpty=function(){return(0,u.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(e,n,y,B,D,O,M){var F=Object.keys(this.executorsByZIndex_).map(Number);F.sort(m.numberSafeCompareFunction);
this.maxExtent_&&(e.save(),this.clip(e,y));O=O?O:d;var z,G;M&&F.reverse();var K=0;for(z=F.length;K<z;++K){var R=this.executorsByZIndex_[F[K].toString()];var T=0;for(G=O.length;T<G;++T){var ja=R[O[T]];void 0!==ja&&ja.execute(e,n,y,B,D,M)}}this.maxExtent_&&e.restore()};return a}();var f={};E["default"]=Ja};
shadow$provide[222]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(117));Ja=k(A(207));var w=A(199),H=A(75),N=A(102),x=A(70),v=A(78),u=A(134),m=A(136),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,y,B,D,O){var M=d.call(this)||this;M.context_=a;M.pixelRatio_=e;M.extent_=n;M.transform_=y;M.viewRotation_=B;M.squaredTolerance_=D;M.userTransform_=O;M.contextFillState_=null;M.contextStrokeState_=null;M.contextTextState_=null;M.fillState_=null;M.strokeState_=null;M.image_=null;M.imageAnchorX_=0;M.imageAnchorY_=0;M.imageHeight_=0;M.imageOpacity_=0;M.imageOriginX_=0;M.imageOriginY_=0;M.imageRotateWithView_=
!1;M.imageRotation_=0;M.imageScale_=[0,0];M.imageWidth_=0;M.text_="";M.textOffsetX_=0;M.textOffsetY_=0;M.textRotateWithView_=!1;M.textRotation_=0;M.textScale_=[0,0];M.textFillState_=null;M.textStrokeState_=null;M.textState_=null;M.pixelCoordinates_=[];M.tmpLocalTransform_=(0,H.create)();return M}g(f,d);f.prototype.drawImages_=function(a,e,n,y){if(this.image_){a=(0,u.transform2D)(a,e,n,2,this.transform_,this.pixelCoordinates_);e=this.context_;n=this.tmpLocalTransform_;y=e.globalAlpha;1!=this.imageOpacity_&&
(e.globalAlpha=y*this.imageOpacity_);var B=this.imageRotation_;this.imageRotateWithView_&&(B+=this.viewRotation_);for(var D=0,O=a.length;D<O;D+=2){var M=a[D]-this.imageAnchorX_,F=a[D+1]-this.imageAnchorY_;0!==B||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(M+=this.imageAnchorX_,F+=this.imageAnchorY_,(0,H.compose)(n,M,F,1,1,B,-M,-F),e.setTransform.apply(e,n),e.translate(M,F),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,
this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,M,F,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=y)}};f.prototype.drawText_=function(a,e,n,y){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);
this.setContextTextState_(this.textState_);a=(0,u.transform2D)(a,e,n,y,this.transform_,this.pixelCoordinates_);var B=this.context_,D=this.textRotation_;for(this.textRotateWithView_&&(D+=this.viewRotation_);e<n;e+=y){var O=a[e]+this.textOffsetX_,M=a[e+1]+this.textOffsetY_;if(0!==D||1!=this.textScale_[0]||1!=this.textScale_[1]){var F=(0,H.compose)(this.tmpLocalTransform_,O,M,1,1,D,-O,-M);B.setTransform.apply(B,F);B.translate(O,M);B.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&
B.strokeText(this.text_,0,0);this.textFillState_&&B.fillText(this.text_,0,0);B.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&B.strokeText(this.text_,O,M),this.textFillState_&&B.fillText(this.text_,O,M)}}};f.prototype.moveToLineTo_=function(a,e,n,y,B){var D=this.context_;a=(0,u.transform2D)(a,e,n,y,this.transform_,this.pixelCoordinates_);D.moveTo(a[0],a[1]);e=a.length;B&&(e-=2);for(y=2;y<e;y+=2)D.lineTo(a[y],a[y+1]);B&&D.closePath();return n};f.prototype.drawRings_=function(a,e,n,y){for(var B=
0,D=n.length;B<D;++B)e=this.moveToLineTo_(a,e,n[B],y,!0);return e};f.prototype.drawCircle=function(a){if((0,v.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,m.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],y=e[3]-e[1];n=Math.sqrt(n*n+y*y);y=this.context_;y.beginPath();y.arc(e[0],e[1],n,0,2*Math.PI);this.fillState_&&
y.fill();this.strokeState_&&y.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};f.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};f.prototype.setTransform=function(a){this.transform_=a};f.prototype.drawGeometry=function(a){switch(a.getType()){case l["default"].POINT:this.drawPoint(a);break;case l["default"].LINE_STRING:this.drawLineString(a);break;case l["default"].POLYGON:this.drawPolygon(a);
break;case l["default"].MULTI_POINT:this.drawMultiPoint(a);break;case l["default"].MULTI_LINE_STRING:this.drawMultiLineString(a);break;case l["default"].MULTI_POLYGON:this.drawMultiPolygon(a);break;case l["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case l["default"].CIRCLE:this.drawCircle(a)}};f.prototype.drawFeature=function(a,e){(a=e.getGeometryFunction()(a))&&(0,v.intersects)(this.extent_,a.getExtent())&&(this.setStyle(e),this.drawGeometry(a))};f.prototype.drawGeometryCollection=
function(a){a=a.getGeometriesArray();for(var e=0,n=a.length;e<n;++e)this.drawGeometry(a[e])};f.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();
a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};f.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getFlatCoordinates();e.beginPath();this.moveToLineTo_(n,0,n.length,a.getStride(),!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getExtent();if((0,v.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;var n=a.getFlatCoordinates(),y=0,B=a.getEnds(),D=a.getStride();e.beginPath();for(var O=0,M=B.length;O<M;++O)y=this.moveToLineTo_(n,y,B[O],D,!1);e.stroke()}""!==this.text_&&(a=
a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};f.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());
this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};f.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,v.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=a.getOrientedFlatCoordinates(),
y=0,B=a.getEndss(),D=a.getStride();e.beginPath();for(var O=0,M=B.length;O<M;++O)y=this.drawRings_(n,y,B[O],D);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};f.prototype.setContextFillState_=function(a){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=a.fillStyle&&(n.fillStyle=a.fillStyle,e.fillStyle=a.fillStyle):(e.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};f.prototype.setContextStrokeState_=
function(a){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=a.lineCap&&(n.lineCap=a.lineCap,e.lineCap=a.lineCap),e.setLineDash&&((0,x.equals)(n.lineDash,a.lineDash)||e.setLineDash(n.lineDash=a.lineDash),n.lineDashOffset!=a.lineDashOffset&&(n.lineDashOffset=a.lineDashOffset,e.lineDashOffset=a.lineDashOffset)),n.lineJoin!=a.lineJoin&&(n.lineJoin=a.lineJoin,e.lineJoin=a.lineJoin),n.lineWidth!=a.lineWidth&&(n.lineWidth=a.lineWidth,e.lineWidth=a.lineWidth),n.miterLimit!=a.miterLimit&&(n.miterLimit=
a.miterLimit,e.miterLimit=a.miterLimit),n.strokeStyle!=a.strokeStyle&&(n.strokeStyle=a.strokeStyle,e.strokeStyle=a.strokeStyle)):(e.lineCap=a.lineCap,e.setLineDash&&(e.setLineDash(a.lineDash),e.lineDashOffset=a.lineDashOffset),e.lineJoin=a.lineJoin,e.lineWidth=a.lineWidth,e.miterLimit=a.miterLimit,e.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};
f.prototype.setContextTextState_=function(a){var e=this.context_,n=this.contextTextState_,y=a.textAlign?a.textAlign:N.defaultTextAlign;n?(n.font!=a.font&&(n.font=a.font,e.font=a.font),n.textAlign!=y&&(n.textAlign=y,e.textAlign=y),n.textBaseline!=a.textBaseline&&(n.textBaseline=a.textBaseline,e.textBaseline=a.textBaseline)):(e.font=a.font,e.textAlign=y,e.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:y,textBaseline:a.textBaseline})};f.prototype.setFillStrokeStyle=function(a,
e){a?(a=a.getColor(),this.fillState_={fillStyle:(0,w.asColorLike)(a?a:N.defaultFillStyle)}):this.fillState_=null;if(e){a=e.getColor();var n=e.getLineCap(),y=e.getLineDash(),B=e.getLineDashOffset(),D=e.getLineJoin(),O=e.getWidth();e=e.getMiterLimit();this.strokeState_={lineCap:void 0!==n?n:N.defaultLineCap,lineDash:y?y:N.defaultLineDash,lineDashOffset:B?B:N.defaultLineDashOffset,lineJoin:void 0!==D?D:N.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==O?O:N.defaultLineWidth),miterLimit:void 0!==
e?e:N.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(a?a:N.defaultStrokeStyle)}}else this.strokeState_=null};f.prototype.setImageStyle=function(a){if(a){var e=a.getSize();if(e){var n=a.getAnchor(),y=a.getImage(1),B=a.getOrigin(),D=a.getScaleArray();this.imageAnchorX_=n[0];this.imageAnchorY_=n[1];this.imageHeight_=e[1];this.image_=y;this.imageOpacity_=a.getOpacity();this.imageOriginX_=B[0];this.imageOriginY_=B[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();
this.imageScale_=[this.pixelRatio_*D[0],this.pixelRatio_*D[1]];this.imageWidth_=e[0]}else this.image_=null}else this.image_=null};f.prototype.setTextStyle=function(a){if(a){var e=a.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,w.asColorLike)(e?e:N.defaultFillStyle)}):this.textFillState_=null;var n=a.getStroke();if(n){e=n.getColor();var y=n.getLineCap(),B=n.getLineDash(),D=n.getLineDashOffset(),O=n.getLineJoin(),M=n.getWidth();n=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==
y?y:N.defaultLineCap,lineDash:B?B:N.defaultLineDash,lineDashOffset:D?D:N.defaultLineDashOffset,lineJoin:void 0!==O?O:N.defaultLineJoin,lineWidth:void 0!==M?M:N.defaultLineWidth,miterLimit:void 0!==n?n:N.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(e?e:N.defaultStrokeStyle)}}else this.textStrokeState_=null;e=a.getFont();y=a.getOffsetX();B=a.getOffsetY();D=a.getRotateWithView();O=a.getRotation();M=a.getScaleArray();n=a.getText();var F=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==
e?e:N.defaultFont,textAlign:void 0!==F?F:N.defaultTextAlign,textBaseline:void 0!==a?a:N.defaultTextBaseline};this.text_=void 0!==n?n:"";this.textOffsetX_=void 0!==y?this.pixelRatio_*y:0;this.textOffsetY_=void 0!==B?this.pixelRatio_*B:0;this.textRotateWithView_=void 0!==D?D:!1;this.textRotation_=void 0!==O?O:0;this.textScale_=[this.pixelRatio_*M[0],this.pixelRatio_*M[1]]}else this.text_=""};return f}(Ja["default"]);E["default"]=A};
shadow$provide[223]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[224]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[225]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(85));var l=k(A(86)),w=A(72),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();A=function(N){function x(v,u,m,g){var d=N.call(this)||this;d.extent=v;d.pixelRatio_=m;d.resolution=u;d.state=g;return d}H(x,N);x.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};x.prototype.getExtent=function(){return this.extent};x.prototype.getImage=function(){return(0,w["abstract"])()};x.prototype.getPixelRatio=function(){return this.pixelRatio_};x.prototype.getResolution=function(){return this.resolution};x.prototype.getState=function(){return this.state};
x.prototype.load=function(){(0,w["abstract"])()};return x}(Ja["default"]);E["default"]=A};
shadow$provide[226]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m,g,d){if(m.src&&N.IMAGE_DECODE){var f=!0;m.decode().then(function(){f&&g()})["catch"](function(e){f&&("EncodingError"===e.name&&"Invalid image type."===e.message?g():d())});return function(){f=!1}}var a=[(0,v.listenOnce)(m,w["default"].LOAD,g),(0,v.listenOnce)(m,w["default"].ERROR,d)];return function(){a.forEach(v.unlistenByKey)}}Object.defineProperty(E,"__esModule",{value:!0});E.listenImage=l;
E["default"]=void 0;var w=k(A(86));Ja=k(A(225));var H=k(A(197)),N=A(100),x=A(78),v=A(87),u=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();A=function(m){function g(d,f,a,e,n,y){d=m.call(this,d,f,a,
H["default"].IDLE)||this;d.src_=e;d.image_=new Image;null!==n&&(d.image_.crossOrigin=n);d.unlisten_=null;d.state=H["default"].IDLE;d.imageLoadFunction_=y;return d}u(g,m);g.prototype.getImage=function(){return this.image_};g.prototype.handleImageError_=function(){this.state=H["default"].ERROR;this.unlistenImage_();this.changed()};g.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,x.getHeight)(this.extent)/this.image_.height);this.state=H["default"].LOADED;this.unlistenImage_();
this.changed()};g.prototype.load=function(){if(this.state==H["default"].IDLE||this.state==H["default"].ERROR)this.state=H["default"].LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=l(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};g.prototype.setImage=function(d){this.image_=d};g.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return g}(Ja["default"]);E["default"]=A};
shadow$provide[227]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E.get=function(d,f,a,e,n,y){var B=x.shared.get(f,e,y);B||(B=new g(d,f,a,e,n,y),x.shared.set(f,e,y,B));return B};E["default"]=void 0;Ja=k(A(85));var l=k(A(86)),w=k(A(197)),H=A(80),N=A(101),x=A(81),v=A(226),u=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,
y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),m=null,g=function(d){function f(a,e,n,y,B,D){var O=d.call(this)||this;O.hitDetectionImage_=null;O.image_=a?a:new Image;null!==y&&(O.image_.crossOrigin=y);O.canvas_={};O.color_=D;O.unlisten_=null;O.imageState_=B;O.size_=n;O.src_=e;return O}u(f,d);f.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===w["default"].LOADED){m||
(m=(0,N.createCanvasContext2D)(1,1));m.drawImage(this.image_,0,0);try{m.getImageData(0,0,1,1),this.tainted_=!1}catch(a){m=null,this.tainted_=!0}}return!0===this.tainted_};f.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l["default"].CHANGE)};f.prototype.handleImageError_=function(){this.imageState_=w["default"].ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.handleImageLoad_=function(){this.imageState_=w["default"].LOADED;this.size_?(this.image_.width=this.size_[0],
this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};f.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};f.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};f.prototype.getImageState=function(){return this.imageState_};f.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],
e=this.size_[1],n=(0,N.createCanvasContext2D)(a,e);n.fillRect(0,0,a,e);this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};f.prototype.getSize=function(){return this.size_};f.prototype.getSrc=function(){return this.src_};f.prototype.load=function(){if(this.imageState_==w["default"].IDLE){this.imageState_=w["default"].LOADING;try{this.image_.src=this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,v.listenImage)(this.image_,this.handleImageLoad_.bind(this),
this.handleImageError_.bind(this))}};f.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]){var e=document.createElement("canvas");this.canvas_[a]=e;e.width=Math.ceil(this.image_.width*a);e.height=Math.ceil(this.image_.height*a);var n=e.getContext("2d");n.scale(a,a);n.drawImage(this.image_,0,0);n.globalCompositeOperation="multiply";if("multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=(0,H.asString)(this.color_),n.fillRect(0,0,e.width,e.height),n.globalCompositeOperation=
"destination-in",n.drawImage(this.image_,0,0);else{a=n.getImageData(0,0,e.width,e.height);e=a.data;for(var y=this.color_[0]/255,B=this.color_[1]/255,D=this.color_[2]/255,O=this.color_[3],M=0,F=e.length;M<F;M+=4)e[M]*=y,e[M+1]*=B,e[M+2]*=D,e[M+3]*=O;n.putImageData(a,0,0)}}};f.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return f}(Ja["default"]);E["default"]=g};
shadow$provide[228]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(86)),w=k(A(223)),H=k(A(224)),N=k(A(197));Ja=k(A(198));var x=A(80),v=A(74),u=A(227),m=A(72),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,
a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=a||{};a=d.call(this,{opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1})||this;a.anchor_=void 0!==e.anchor?e.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==
e.anchorOrigin?e.anchorOrigin:H["default"].TOP_LEFT;a.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:w["default"].FRACTION;a.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:w["default"].FRACTION;a.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var n=void 0!==e.img?e.img:null,y=void 0!==e.imgSize?e.imgSize:null,B=e.src;(0,v.assert)(!(void 0!==B&&n),4);(0,v.assert)(!n||n&&y,5);void 0!==B&&0!==B.length||!n||(B=n.src||(0,m.getUid)(n));(0,v.assert)(void 0!==B&&0<B.length,6);var D=void 0!==
e.src?N["default"].IDLE:N["default"].LOADED;a.color_=void 0!==e.color?(0,x.asArray)(e.color):null;a.iconImage_=(0,u.get)(n,B,y,a.crossOrigin_,D,a.color_);a.offset_=void 0!==e.offset?e.offset:[0,0];a.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:H["default"].TOP_LEFT;a.origin_=null;a.size_=void 0!==e.size?e.size:null;return a}g(f,d);f.prototype.clone=function(){var a=this.getScale();return new f({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,
crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(a)?a.slice():a,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};f.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var a=this.anchor_,e=this.getSize();if(this.anchorXUnits_==
w["default"].FRACTION||this.anchorYUnits_==w["default"].FRACTION){if(!e)return null;a=this.anchor_.slice();this.anchorXUnits_==w["default"].FRACTION&&(a[0]*=e[0]);this.anchorYUnits_==w["default"].FRACTION&&(a[1]*=e[1])}if(this.anchorOrigin_!=H["default"].TOP_LEFT){if(!e)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==H["default"].TOP_RIGHT||this.anchorOrigin_==H["default"].BOTTOM_RIGHT)a[0]=-a[0]+e[0];if(this.anchorOrigin_==H["default"].BOTTOM_LEFT||this.anchorOrigin_==
H["default"].BOTTOM_RIGHT)a[1]=-a[1]+e[1]}return this.normalizedAnchor_=a};f.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};f.prototype.getColor=function(){return this.color_};f.prototype.getImage=function(a){return this.iconImage_.getImage(a)};f.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};f.prototype.getImageSize=function(){return this.iconImage_.getSize()};f.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};f.prototype.getImageState=
function(){return this.iconImage_.getImageState()};f.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};f.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=H["default"].TOP_LEFT){var n=this.getSize(),y=this.iconImage_.getSize();if(!n||!y)return null;a=a.slice();if(this.offsetOrigin_==H["default"].TOP_RIGHT||this.offsetOrigin_==H["default"].BOTTOM_RIGHT)a[0]=y[0]-n[0]-a[0];if(this.offsetOrigin_==
H["default"].BOTTOM_LEFT||this.offsetOrigin_==H["default"].BOTTOM_RIGHT)a[1]=y[1]-n[1]-a[1]}a[0]+=e[0];a[1]+=e[1];return this.origin_=a};f.prototype.getSrc=function(){return this.iconImage_.getSrc()};f.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};f.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(l["default"].CHANGE,a)};f.prototype.load=function(){this.iconImage_.load()};f.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(l["default"].CHANGE,
a)};return f}(Ja["default"]);E["default"]=A};
shadow$provide[229]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(202)),w=k(A(212)),H=A(152);Ja=function(){function N(x){x=x||{};this.font_=x.font;this.rotation_=x.rotation;this.rotateWithView_=x.rotateWithView;this.scale_=x.scale;this.scaleArray_=(0,H.toSize)(void 0!==x.scale?x.scale:1);this.text_=x.text;this.textAlign_=x.textAlign;this.textBaseline_=x.textBaseline;this.fill_=void 0!==x.fill?
x.fill:new l["default"]({color:"#333"});this.maxAngle_=void 0!==x.maxAngle?x.maxAngle:Math.PI/4;this.placement_=void 0!==x.placement?x.placement:w["default"].POINT;this.overflow_=!!x.overflow;this.stroke_=void 0!==x.stroke?x.stroke:null;this.offsetX_=void 0!==x.offsetX?x.offsetX:0;this.offsetY_=void 0!==x.offsetY?x.offsetY:0;this.backgroundFill_=x.backgroundFill?x.backgroundFill:null;this.backgroundStroke_=x.backgroundStroke?x.backgroundStroke:null;this.padding_=void 0===x.padding?null:x.padding}
N.prototype.clone=function(){var x=this.getScale();return new N({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(x)?x.slice():x,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})};N.prototype.getOverflow=function(){return this.overflow_};N.prototype.getFont=function(){return this.font_};N.prototype.getMaxAngle=function(){return this.maxAngle_};N.prototype.getPlacement=function(){return this.placement_};N.prototype.getOffsetX=function(){return this.offsetX_};N.prototype.getOffsetY=function(){return this.offsetY_};
N.prototype.getFill=function(){return this.fill_};N.prototype.getRotateWithView=function(){return this.rotateWithView_};N.prototype.getRotation=function(){return this.rotation_};N.prototype.getScale=function(){return this.scale_};N.prototype.getScaleArray=function(){return this.scaleArray_};N.prototype.getStroke=function(){return this.stroke_};N.prototype.getText=function(){return this.text_};N.prototype.getTextAlign=function(){return this.textAlign_};N.prototype.getTextBaseline=function(){return this.textBaseline_};
N.prototype.getBackgroundFill=function(){return this.backgroundFill_};N.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};N.prototype.getPadding=function(){return this.padding_};N.prototype.setOverflow=function(x){this.overflow_=x};N.prototype.setFont=function(x){this.font_=x};N.prototype.setMaxAngle=function(x){this.maxAngle_=x};N.prototype.setOffsetX=function(x){this.offsetX_=x};N.prototype.setOffsetY=function(x){this.offsetY_=x};N.prototype.setPlacement=function(x){this.placement_=
x};N.prototype.setRotateWithView=function(x){this.rotateWithView_=x};N.prototype.setFill=function(x){this.fill_=x};N.prototype.setRotation=function(x){this.rotation_=x};N.prototype.setScale=function(x){this.scale_=x;this.scaleArray_=(0,H.toSize)(void 0!==x?x:1)};N.prototype.setStroke=function(x){this.stroke_=x};N.prototype.setText=function(x){this.text_=x};N.prototype.setTextAlign=function(x){this.textAlign_=x};N.prototype.setTextBaseline=function(x){this.textBaseline_=x};N.prototype.setBackgroundFill=
function(x){this.backgroundFill_=x};N.prototype.setBackgroundStroke=function(x){this.backgroundStroke_=x};N.prototype.setPadding=function(x){this.padding_=x};return N}();E["default"]=Ja};
shadow$provide[230]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"Circle",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"Fill",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"Icon",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"IconImage",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"RegularShape",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"Stroke",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"Style",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"Text",{enumerable:!0,get:function(){return g["default"]}});var l=k(A(201)),w=k(A(202)),H=k(A(228)),N=k(A(227)),x=k(A(198)),v=k(A(200)),u=k(A(203)),m=k(A(204)),
g=k(A(229))};
shadow$provide[231]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E.createHitDetectionImageData=function(m,g,d,f,a,e,n){var y=m[0]/2;m=m[1]/2;y=(0,x.createCanvasContext2D)(y,m);y.imageSmoothingEnabled=!1;m=y.canvas;n=new l["default"](y,.5,a,null,n);for(var B=d.length,D=Math.floor(16777215/B),O={},M=1;M<=B;++M){var F=d[M-1],z=F.getStyleFunction()||f;if(f){var G=z(F,e);if(G){Array.isArray(G)||(G=[G]);var K="#"+("000000"+(M*
D).toString(16)).slice(-6);z=0;for(var R=G.length;z<R;++z){var T=G[z],ja=T.clone(),fa=ja.getFill();fa&&fa.setColor(K);(fa=ja.getStroke())&&fa.setColor(K);ja.setText(void 0);if(T=T.getImage()){fa=T.getImageSize();if(!fa)continue;var ha=document.createElement("canvas");ha.width=fa[0];ha.height=fa[1];var la=ha.getContext("2d",{alpha:!1});la.fillStyle=K;ha=la.canvas;la.fillRect(0,0,ha.width,ha.height);la=fa?fa[0]:ha.width;var Z=fa?fa[1]:ha.height;(0,x.createCanvasContext2D)(la,Z).drawImage(ha,0,0);ja.setImage(new N.Icon({img:ha,
imgSize:fa,anchor:T.getAnchor(),anchorXUnits:H["default"].PIXELS,anchorYUnits:H["default"].PIXELS,offset:T.getOrigin(),size:T.getSize(),opacity:T.getOpacity(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}fa=Number(ja.getZIndex());T=O[fa];T||(T={},O[fa]=T,T[w["default"].POLYGON]=[],T[w["default"].CIRCLE]=[],T[w["default"].LINE_STRING]=[],T[w["default"].POINT]=[]);(fa=ja.getGeometryFunction()(F))&&(0,v.intersects)(a,fa.getExtent())&&T[fa.getType().replace("Multi",
"")].push(fa,ja)}}}}d=Object.keys(O).map(Number).sort(u.numberSafeCompareFunction);M=0;for(f=d.length;M<f;++M){T=O[d[M]];for(var P in T)for(a=T[P],z=0,R=a.length;z<R;z+=2)for(n.setStyle(a[z+1]),e=0,B=g.length;e<B;++e)n.setTransform(g[e]),n.drawGeometry(a[z])}return y.getImageData(0,0,m.width,m.height)};E.hitDetect=function(m,g,d){var f=[];d&&(m=4*(Math.round(m[0]/2)+Math.round(m[1]/2)*d.width),d=d.data[m+2]+256*(d.data[m+1]+256*d.data[m]),m=Math.floor(16777215/g.length),d&&0===d%m&&f.push(g[d/m-1]));
return f};var l=k(A(222)),w=k(A(117)),H=k(A(223)),N=A(230),x=A(101),v=A(78),u=A(70)};
shadow$provide[232]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m,g,d,f){if(g.getType()==H["default"].GEOMETRY_COLLECTION){g=g.getGeometries();for(var a=0,e=g.length;a<e;++a)l(m,g[a],d,f)}else m.getBuilder(d.getZIndex(),w["default"].DEFAULT).drawCustom(g,f,d.getRenderer())}Object.defineProperty(E,"__esModule",{value:!0});E.defaultOrder=function(m,g){return parseInt((0,x.getUid)(m),10)-parseInt((0,x.getUid)(g),10)};E.getSquaredTolerance=function(m,g){m=v*m/g;
return m*m};E.getTolerance=function(m,g){return v*m/g};E.renderFeature=function(m,g,d,f,a,e,n){var y=!1,B=d.getImage();if(B){var D=B.getImageState();D==N["default"].LOADED||D==N["default"].ERROR?B.unlistenImageChange(a):(D==N["default"].IDLE&&B.load(),B.getImageState(),B.listenImageChange(a),y=!0)}if(a=d.getGeometryFunction()(g))if(f=a.simplifyTransformed(f,e),d.getRenderer())l(m,f,d,g);else(0,u[f.getType()])(m,f,d,g,n);return y};var w=k(A(218)),H=k(A(117)),N=k(A(197)),x=A(72),v=.5,u={Point:function(m,
g,d,f,a){var e=d.getImage(),n=d.getText();if(a){m=a;var y=e&&n&&n.getText()?{}:void 0}if(e){if(e.getImageState()!=N["default"].LOADED)return;a=m.getBuilder(d.getZIndex(),w["default"].IMAGE);a.setImageStyle(e,y);a.drawPoint(g,f)}n&&n.getText()&&(m=m.getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(n,y),m.drawText(g,f))},LineString:function(m,g,d,f,a){var e=d.getStroke();if(e){var n=m.getBuilder(d.getZIndex(),w["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawLineString(g,f)}(e=
d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},Polygon:function(m,g,d,f,a){var e=d.getFill(),n=d.getStroke();if(e||n){var y=m.getBuilder(d.getZIndex(),w["default"].POLYGON);y.setFillStrokeStyle(e,n);y.drawPolygon(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},MultiPoint:function(m,g,d,f,a){var e=d.getImage(),n=d.getText();if(a){m=a;var y=e&&n&&n.getText()?
{}:void 0}if(e){if(e.getImageState()!=N["default"].LOADED)return;var B=m.getBuilder(d.getZIndex(),w["default"].IMAGE);B.setImageStyle(e,y);B.drawMultiPoint(g,f)}n&&n.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(n,y),m.drawText(g,f))},MultiLineString:function(m,g,d,f,a){var e=d.getStroke();if(e){var n=m.getBuilder(d.getZIndex(),w["default"].LINE_STRING);n.setFillStrokeStyle(null,e);n.drawMultiLineString(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),
w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},MultiPolygon:function(m,g,d,f,a){var e=d.getFill(),n=d.getStroke();if(n||e){var y=m.getBuilder(d.getZIndex(),w["default"].POLYGON);y.setFillStrokeStyle(e,n);y.drawMultiPolygon(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))},GeometryCollection:function(m,g,d,f,a){g=g.getGeometriesArray();var e;var n=0;for(e=g.length;n<e;++n)(0,u[g[n].getType()])(m,g[n],d,f,a)},Circle:function(m,
g,d,f,a){var e=d.getFill(),n=d.getStroke();if(e||n){var y=m.getBuilder(d.getZIndex(),w["default"].CIRCLE);y.setFillStrokeStyle(e,n);y.drawCircle(g,f)}(e=d.getText())&&e.getText()&&(m=(a||m).getBuilder(d.getZIndex(),w["default"].TEXT),m.setTextStyle(e),m.drawText(g,f))}}};
shadow$provide[233]=function(Ja,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(215));Ja=k(A(217));var w=k(A(221)),H=k(A(119)),N=A(75),x=A(78),v=A(231),u=A(232),m=A(128),g=A(72),d=A(96),f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,B){for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(y[D]=B[D])};return a(e,n)};return function(e,
n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}();A=function(a){function e(n){n=a.call(this,n)||this;n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n);n.dirty_=!1;n.hitDetectionImageData_=null;n.renderedFeatures_=null;n.renderedRevision_=-1;n.renderedResolution_=NaN;n.renderedExtent_=(0,x.createEmpty)();n.renderedCenter_=null;n.renderedProjection_=null;n.renderedRenderOrder_=null;n.replayGroup_=null;n.replayGroupChanged=
!0;n.declutterExecutorGroup=null;n.clipping=!0;return n}f(e,a);e.prototype.useContainer=function(n,y,B){1>B&&(n=null);a.prototype.useContainer.call(this,n,y,B)};e.prototype.renderWorlds=function(n,y,B){var D=y.extent,O=y.viewState,M=O.center,F=O.resolution,z=O.projection;O=O.rotation;var G=z.getExtent(),K=this.getLayer().getSource(),R=y.pixelRatio,T=y.viewHints;T=!(T[H["default"].ANIMATING]||T[H["default"].INTERACTING]);var ja=this.context,fa=Math.round(y.size[0]*R);y=Math.round(y.size[1]*R);var ha=
K.getWrapX()&&z.canWrapX();z=ha?(0,x.getWidth)(G):null;K=ha?Math.ceil((D[2]-G[2])/z)+1:1;D=ha?Math.floor((D[0]-G[0])/z):0;do G=this.getRenderTransform(M,F,O,R,fa,y,D*z),n.execute(ja,1,G,O,T,void 0,B);while(++D<K)};e.prototype.renderDeclutter=function(n){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,n,n.declutterTree)};e.prototype.renderFrame=function(n,y){var B=n.pixelRatio,D=n.layerStatesArray[n.layerIndex];(0,N.makeScale)(this.pixelTransform,1/B,1/B);(0,N.makeInverse)(this.inversePixelTransform,
this.pixelTransform);var O=(0,N.toString)(this.pixelTransform);this.useContainer(y,O,D.opacity);y=this.context;var M=y.canvas,F=this.replayGroup_,z=this.declutterExecutorGroup;if(!(F&&!F.isEmpty()||z&&!z.isEmpty()))return!this.containerReused&&0<M.width&&(M.width=0),this.container;z=Math.round(n.size[0]*B);B=Math.round(n.size[1]*B);M.width!=z||M.height!=B?(M.width=z,M.height=B,M.style.transform!==O&&(M.style.transform=O)):this.containerReused||y.clearRect(0,0,z,B);this.preRender(y,n);O=n.viewState;
M=O.projection;B=!1;D.extent&&this.clipping&&(M=(0,m.fromUserExtent)(D.extent,M),(B=!(0,x.containsExtent)(M,n.extent)&&(0,x.intersects)(M,n.extent))&&this.clipUnrotated(y,n,M));this.renderWorlds(F,n);B&&y.restore();this.postRender(y,n);n=D.opacity;D=this.container;n!==parseFloat(D.style.opacity)&&(D.style.opacity=1===n?"":String(n));this.renderedRotation_!==O.rotation&&(this.renderedRotation_=O.rotation,this.hitDetectionImageData_=null);return this.container};e.prototype.getFeatures=function(n){return new Promise(function(y){if(!this.hitDetectionImageData_&&
!this.animatingOrInteracting_){var B=[this.context.canvas.width,this.context.canvas.height];(0,N.apply)(this.pixelTransform,B);var D=this.renderedCenter_,O=this.renderedResolution_,M=this.renderedRotation_,F=this.renderedProjection_,z=this.renderedExtent_,G=this.getLayer(),K=[],R=B[0]/2,T=B[1]/2;K.push(this.getRenderTransform(D,O,M,.5,R,T,0).slice());var ja=G.getSource(),fa=F.getExtent();if(ja.getWrapX()&&F.canWrapX()&&!(0,x.containsExtent)(fa,z)){F=z[0];ja=(0,x.getWidth)(fa);for(var ha=0,la;F<fa[0];)--ha,
la=ja*ha,K.push(this.getRenderTransform(D,O,M,.5,R,T,la).slice()),F+=ja;ha=0;for(F=z[2];F>fa[2];)++ha,la=ja*ha,K.push(this.getRenderTransform(D,O,M,.5,R,T,la).slice()),F-=ja}this.hitDetectionImageData_=(0,v.createHitDetectionImageData)(B,K,this.renderedFeatures_,G.getStyleFunction(),z,O,M)}y((0,v.hitDetect)(n,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};e.prototype.forEachFeatureAtCoordinate=function(n,y,B,D,O){var M=this;if(this.replayGroup_){var F=y.viewState.resolution,z=
y.viewState.rotation,G=this.getLayer(),K={},R=function(fa,ha,la){var Z=(0,g.getUid)(fa),P=K[Z];if(!P){if(0===la)return K[Z]=!0,D(fa,G,ha);O.push(K[Z]={feature:fa,layer:G,geometry:ha,distanceSq:la,callback:D})}else if(!0!==P&&la<P.distanceSq){if(0===la)return K[Z]=!0,O.splice(O.lastIndexOf(P),1),D(fa,G,ha);P.geometry=ha;P.distanceSq=la}},T,ja=[this.replayGroup_];this.declutterExecutorGroup&&ja.push(this.declutterExecutorGroup);ja.some(function(fa){return T=fa.forEachFeatureAtCoordinate(n,F,z,B,R,fa===
M.declutterExecutorGroup?y.declutterTree.all().map(function(ha){return ha.value}):null)});return T}};e.prototype.handleFontsChanged=function(){var n=this.getLayer();n.getVisible()&&this.replayGroup_&&n.changed()};e.prototype.handleStyleImageChange_=function(n){this.renderIfReadyAndVisible()};e.prototype.prepareFrame=function(n){var y=this.getLayer(),B=y.getSource();if(!B)return!1;var D=n.viewHints[H["default"].ANIMATING],O=n.viewHints[H["default"].INTERACTING],M=y.getUpdateWhileAnimating(),F=y.getUpdateWhileInteracting();
if(!this.dirty_&&!M&&D||!F&&O)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var z=n.extent,G=n.viewState;D=G.projection;var K=G.resolution;O=n.pixelRatio;M=y.getRevision();var R=y.getRenderBuffer();F=y.getRenderOrder();void 0===F&&(F=u.defaultOrder);G=G.center.slice();z=(0,x.buffer)(z,R*K);R=[z.slice()];var T=D.getExtent();if(B.getWrapX()&&D.canWrapX()&&!(0,x.containsExtent)(T,n.extent)){n=(0,x.getWidth)(T);var ja=Math.max((0,x.getWidth)(z)/2,n);z[0]=T[0]-ja;z[2]=T[2]+ja;
(0,d.wrapX)(G,D);ja=(0,x.wrapX)(R[0],D);ja[0]<T[0]&&ja[2]<T[2]?R.push([ja[0]+n,ja[1],ja[2]+n,ja[3]]):ja[0]>T[0]&&ja[2]>T[2]&&R.push([ja[0]-n,ja[1],ja[2]-n,ja[3]])}if(!this.dirty_&&this.renderedResolution_==K&&this.renderedRevision_==M&&this.renderedRenderOrder_==F&&(0,x.containsExtent)(this.renderedExtent_,z))return this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var fa=new l["default"]((0,u.getTolerance)(K,O),z,K,O),ha;this.getLayer().getDeclutter()&&(ha=new l["default"]((0,u.getTolerance)(K,
O),z,K,O));ja=(0,m.getUserProjection)();if(ja){n=0;for(T=R.length;n<T;++n)B.loadFeatures((0,m.toUserExtent)(R[n],D),K,ja);var la=(0,m.getTransformFromProjections)(ja,D)}else for(n=0,T=R.length;n<T;++n)B.loadFeatures(R[n],K,D);var Z=(0,u.getSquaredTolerance)(K,O);R=function(P){var C,V=P.getStyleFunction()||y.getStyleFunction();V&&(C=V(P,K));C&&(P=this.renderFeature(P,Z,C,fa,la,ha),this.dirty_=this.dirty_||P)}.bind(this);n=(0,m.toUserExtent)(z,D);ja=B.getFeaturesInExtent(n);F&&ja.sort(F);n=0;for(T=
ja.length;n<T;++n)R(ja[n]);this.renderedFeatures_=ja;n=fa.finish();n=new w["default"](z,K,O,B.getOverlaps(),n,y.getRenderBuffer());ha&&(this.declutterExecutorGroup=new w["default"](z,K,O,B.getOverlaps(),ha.finish(),y.getRenderBuffer()));this.renderedResolution_=K;this.renderedRevision_=M;this.renderedRenderOrder_=F;this.renderedExtent_=z;this.renderedCenter_=G;this.renderedProjection_=D;this.replayGroup_=n;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};e.prototype.renderFeature=
function(n,y,B,D,O,M){if(!B)return!1;var F=!1;if(Array.isArray(B))for(var z=0,G=B.length;z<G;++z)F=(0,u.renderFeature)(D,n,B[z],y,this.boundHandleStyleImageChange_,O,M)||F;else F=(0,u.renderFeature)(D,n,B,y,this.boundHandleStyleImageChange_,O,M);return F};return e}(Ja["default"]);E["default"]=A};
shadow$provide[234]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(205));var l=k(A(233)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){return H.call(this,x)||this}w(N,H);N.prototype.createRenderer=function(){return new l["default"](this)};return N}(Ja["default"]);E["default"]=A};
shadow$provide[235]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=function(N){return N&&N.__esModule?N:{"default":N}}(A(196)),l=A(78),w=A(72),H=A(84);Ja=function(){function N(x){this.rbush_=new k["default"](x);this.items_={}}N.prototype.insert=function(x,v){x={minX:x[0],minY:x[1],maxX:x[2],maxY:x[3],value:v};this.rbush_.insert(x);this.items_[(0,w.getUid)(v)]=x};N.prototype.load=function(x,v){for(var u=Array(v.length),m=0,g=v.length;m<g;m++){var d=x[m],
f=v[m];d={minX:d[0],minY:d[1],maxX:d[2],maxY:d[3],value:f};u[m]=d;this.items_[(0,w.getUid)(f)]=d}this.rbush_.load(u)};N.prototype.remove=function(x){x=(0,w.getUid)(x);var v=this.items_[x];delete this.items_[x];return null!==this.rbush_.remove(v)};N.prototype.update=function(x,v){var u=this.items_[(0,w.getUid)(v)];u=[u.minX,u.minY,u.maxX,u.maxY];(0,l.equals)(u,x)||(this.remove(v),this.insert(x,v))};N.prototype.getAll=function(){return this.rbush_.all().map(function(x){return x.value})};N.prototype.getInExtent=
function(x){return this.rbush_.search({minX:x[0],minY:x[1],maxX:x[2],maxY:x[3]}).map(function(v){return v.value})};N.prototype.forEach=function(x){return this.forEach_(this.getAll(),x)};N.prototype.forEachInExtent=function(x,v){return this.forEach_(this.getInExtent(x),v)};N.prototype.forEach_=function(x,v){for(var u,m=0,g=x.length;m<g&&!(u=v(x[m]));m++);return u};N.prototype.isEmpty=function(){return(0,H.isEmpty)(this.items_)};N.prototype.clear=function(){this.rbush_.clear();this.items_={}};N.prototype.getExtent=
function(x){var v=this.rbush_.toJSON();return(0,l.createOrUpdate)(v.minX,v.minY,v.maxX,v.maxY,x)};N.prototype.concat=function(x){this.rbush_.load(x.rbush_.all());for(var v in x.items_)this.items_[v]=x.items_[v]};return N}();E["default"]=Ja};
shadow$provide[236]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}function l(v){return v?Array.isArray(v)?function(u){return v}:"function"===typeof v?v:function(u){return[v]}:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(89));var w=k(A(93)),H=A(72),N=A(128),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,
f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){var g=v.call(this)||this;g.projection_=(0,N.get)(m.projection);g.attributions_=l(m.attributions);g.attributionsCollapsible_=void 0!==m.attributionsCollapsible?m.attributionsCollapsible:!0;g.loading=!1;g.state_=void 0!==m.state?m.state:w["default"].READY;g.wrapX_=void 0!==m.wrapX?m.wrapX:!1;return g}x(u,v);
u.prototype.getAttributions=function(){return this.attributions_};u.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};u.prototype.getProjection=function(){return this.projection_};u.prototype.getResolutions=function(){return(0,H["abstract"])()};u.prototype.getState=function(){return this.state_};u.prototype.getWrapX=function(){return this.wrapX_};u.prototype.getContextOptions=function(){};u.prototype.refresh=function(){this.changed()};u.prototype.setAttributions=
function(m){this.attributions_=l(m);this.changed()};u.prototype.setState=function(m){this.state_=m;this.changed()};return u}(Ja["default"]);E["default"]=A};
shadow$provide[237]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[238]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.all=function(k,l){return[[-Infinity,-Infinity,Infinity,Infinity]]};E.bbox=function(k,l){return[k]};E.tile=function(k){return function(l,w){w=k.getZForResolution(w);l=k.getTileRangeForExtentAndZ(l,w);var H=[];w=[w,0,0];for(w[1]=l.minX;w[1]<=l.maxX;++w[1])for(w[2]=l.minY;w[2]<=l.maxY;++w[2])H.push(k.getTileCoordExtent(w));return H}}};
shadow$provide[239]=function(Ja,A,rb,E){function k(N,x,v,u,m,g,d){var f=new XMLHttpRequest;f.open("GET","function"===typeof N?N(v,u,m):N,!0);x.getType()==l["default"].ARRAY_BUFFER&&(f.responseType="arraybuffer");f.withCredentials=H;f.onload=function(a){if(!f.status||200<=f.status&&300>f.status){a=x.getType();var e=void 0;a==l["default"].JSON||a==l["default"].TEXT?e=f.responseText:a==l["default"].XML?(e=f.responseXML)||(e=(new DOMParser).parseFromString(f.responseText,"application/xml")):a==l["default"].ARRAY_BUFFER&&
(e=f.response);e?g(x.readFeatures(e,{extent:v,featureProjection:m}),x.readProjection(e)):d()}else d()};f.onerror=d;f.send()}Object.defineProperty(E,"__esModule",{value:!0});E.loadFeaturesXhr=k;E.xhr=function(N,x){return function(v,u,m,g,d){var f=this;k(N,x,v,u,m,function(a,e){void 0!==g&&g(a);f.addFeatures(a)},d?d:w.VOID)}};E.setWithCredentials=function(N){H=N};var l=function(N){return N&&N.__esModule?N:{"default":N}}(A(184)),w=A(71),H=!1};
shadow$provide[240]=function(Ja,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.VectorSourceEvent=void 0;var l=k(A(105)),w=k(A(104));Ja=k(A(82));var H=k(A(86)),N=k(A(83)),x=k(A(235));rb=k(A(236));var v=k(A(93)),u=k(A(237)),m=A(71),g=A(238),d=A(74),f=A(78),a=A(70),e=A(72),n=A(84),y=A(87),B=A(239),D=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,
K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}(),O=function(M){function F(z,G,K){z=M.call(this,z)||this;z.feature=G;z.features=K;return z}D(F,M);return F}(Ja["default"]);E.VectorSourceEvent=O;A=function(M){function F(z){var G=z||{};z=M.call(this,{attributions:G.attributions,projection:void 0,state:v["default"].READY,wrapX:void 0!==
G.wrapX?G.wrapX:!0})||this;z.loader_=m.VOID;z.format_=G.format;z.overlaps_=void 0===G.overlaps?!0:G.overlaps;z.url_=G.url;void 0!==G.loader?z.loader_=G.loader:void 0!==z.url_&&((0,d.assert)(z.format_,7),z.loader_=(0,B.xhr)(z.url_,z.format_));z.strategy_=void 0!==G.strategy?G.strategy:g.all;var K=void 0!==G.useSpatialIndex?G.useSpatialIndex:!0;z.featuresRtree_=K?new x["default"]:null;z.loadedExtentsRtree_=new x["default"];z.nullGeometryFeatures_={};z.idIndex_={};z.uidIndex_={};z.featureChangeKeys_=
{};z.featuresCollection_=null;if(Array.isArray(G.features))var R=G.features;else if(G.features){var T=G.features;R=T.getArray()}K||void 0!==T||(T=new l["default"](R));void 0!==R&&z.addFeaturesInternal(R);void 0!==T&&z.bindFeaturesCollection_(T);return z}D(F,M);F.prototype.addFeature=function(z){this.addFeatureInternal(z);this.changed()};F.prototype.addFeatureInternal=function(z){var G=(0,e.getUid)(z);if(this.addToIndex_(G,z)){this.setupChangeEvents_(G,z);var K=z.getGeometry();K?(G=K.getExtent(),this.featuresRtree_&&
this.featuresRtree_.insert(G,z)):this.nullGeometryFeatures_[G]=z;this.dispatchEvent(new O(u["default"].ADDFEATURE,z))}else this.featuresCollection_&&this.featuresCollection_.remove(z)};F.prototype.setupChangeEvents_=function(z,G){this.featureChangeKeys_[z]=[(0,y.listen)(G,H["default"].CHANGE,this.handleFeatureChange_,this),(0,y.listen)(G,N["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]};F.prototype.addToIndex_=function(z,G){var K=!0,R=G.getId();void 0!==R&&(R.toString()in this.idIndex_?
K=!1:this.idIndex_[R.toString()]=G);K&&((0,d.assert)(!(z in this.uidIndex_),30),this.uidIndex_[z]=G);return K};F.prototype.addFeatures=function(z){this.addFeaturesInternal(z);this.changed()};F.prototype.addFeaturesInternal=function(z){for(var G=[],K=[],R=[],T=0,ja=z.length;T<ja;T++){var fa=z[T],ha=(0,e.getUid)(fa);this.addToIndex_(ha,fa)&&K.push(fa)}T=0;for(z=K.length;T<z;T++)fa=K[T],ha=(0,e.getUid)(fa),this.setupChangeEvents_(ha,fa),(ja=fa.getGeometry())?(ha=ja.getExtent(),G.push(ha),R.push(fa)):
this.nullGeometryFeatures_[ha]=fa;this.featuresRtree_&&this.featuresRtree_.load(G,R);T=0;for(G=K.length;T<G;T++)this.dispatchEvent(new O(u["default"].ADDFEATURE,K[T]))};F.prototype.bindFeaturesCollection_=function(z){var G=!1;this.addEventListener(u["default"].ADDFEATURE,function(K){G||(G=!0,z.push(K.feature),G=!1)});this.addEventListener(u["default"].REMOVEFEATURE,function(K){G||(G=!0,z.remove(K.feature),G=!1)});z.addEventListener(w["default"].ADD,function(K){G||(G=!0,this.addFeature(K.element),
G=!1)}.bind(this));z.addEventListener(w["default"].REMOVE,function(K){G||(G=!0,this.removeFeature(K.element),G=!1)}.bind(this));this.featuresCollection_=z};F.prototype.clear=function(z){if(z){for(var G in this.featureChangeKeys_)this.featureChangeKeys_[G].forEach(y.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this));for(var K in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[K])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};z=new O(u["default"].CLEAR);this.dispatchEvent(z);this.changed()};F.prototype.forEachFeature=function(z){if(this.featuresRtree_)return this.featuresRtree_.forEach(z);this.featuresCollection_&&this.featuresCollection_.forEach(z)};F.prototype.forEachFeatureAtCoordinateDirect=function(z,G){return this.forEachFeatureInExtent([z[0],z[1],z[0],z[1]],function(K){if(K.getGeometry().intersectsCoordinate(z))return G(K)})};
F.prototype.forEachFeatureInExtent=function(z,G){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(z,G);this.featuresCollection_&&this.featuresCollection_.forEach(G)};F.prototype.forEachFeatureIntersectingExtent=function(z,G){return this.forEachFeatureInExtent(z,function(K){if(K.getGeometry().intersectsExtent(z)&&(K=G(K)))return K})};F.prototype.getFeaturesCollection=function(){return this.featuresCollection_};F.prototype.getFeatures=function(){if(this.featuresCollection_)var z=this.featuresCollection_.getArray();
else this.featuresRtree_&&(z=this.featuresRtree_.getAll(),(0,n.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(z,(0,n.getValues)(this.nullGeometryFeatures_)));return z};F.prototype.getFeaturesAtCoordinate=function(z){var G=[];this.forEachFeatureAtCoordinateDirect(z,function(K){G.push(K)});return G};F.prototype.getFeaturesInExtent=function(z){return this.featuresRtree_?this.featuresRtree_.getInExtent(z):this.featuresCollection_?this.featuresCollection_.getArray():[]};F.prototype.getClosestFeatureToCoordinate=
function(z,G){var K=z[0],R=z[1],T=null,ja=[NaN,NaN],fa=Infinity,ha=[-Infinity,-Infinity,Infinity,Infinity],la=G?G:m.TRUE;this.featuresRtree_.forEachInExtent(ha,function(Z){if(la(Z)){var P=Z.getGeometry(),C=fa;fa=P.closestPointXY(K,R,ja,fa);fa<C&&(T=Z,Z=Math.sqrt(fa),ha[0]=K-Z,ha[1]=R-Z,ha[2]=K+Z,ha[3]=R+Z)}});return T};F.prototype.getExtent=function(z){return this.featuresRtree_.getExtent(z)};F.prototype.getFeatureById=function(z){z=this.idIndex_[z.toString()];return void 0!==z?z:null};F.prototype.getFeatureByUid=
function(z){z=this.uidIndex_[z];return void 0!==z?z:null};F.prototype.getFormat=function(){return this.format_};F.prototype.getOverlaps=function(){return this.overlaps_};F.prototype.getUrl=function(){return this.url_};F.prototype.handleFeatureChange_=function(z){z=z.target;var G=(0,e.getUid)(z),K=z.getGeometry();K?(K=K.getExtent(),G in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[G],this.featuresRtree_&&this.featuresRtree_.insert(K,z)):this.featuresRtree_&&this.featuresRtree_.update(K,
z)):G in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(z),this.nullGeometryFeatures_[G]=z);K=z.getId();void 0!==K?(G=K.toString(),this.idIndex_[G]!==z&&(this.removeFromIdIndex_(z),this.idIndex_[G]=z)):(this.removeFromIdIndex_(z),this.uidIndex_[G]=z);this.changed();this.dispatchEvent(new O(u["default"].CHANGEFEATURE,z))};F.prototype.hasFeature=function(z){var G=z.getId();return void 0!==G?G in this.idIndex_:(0,e.getUid)(z)in this.uidIndex_};F.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&
(0,n.isEmpty)(this.nullGeometryFeatures_)};F.prototype.loadFeatures=function(z,G,K){var R=this.loadedExtentsRtree_,T=this.strategy_(z,G);this.loading=!1;z=function(la,Z){var P=T[la];R.forEachInExtent(P,function(C){return(0,f.containsExtent)(C.extent,P)})||(ja.dispatchEvent(new O(u["default"].FEATURESLOADSTART)),ja.loader_.call(ja,P,G,K,function(C){this.dispatchEvent(new O(u["default"].FEATURESLOADEND,void 0,C))}.bind(ja),function(){this.dispatchEvent(new O(u["default"].FEATURESLOADERROR))}.bind(ja)),
R.insert(P,{extent:P.slice()}),ja.loading=ja.loader_!==m.VOID)};for(var ja=this,fa=0,ha=T.length;fa<ha;++fa)z(fa,ha)};F.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();M.prototype.refresh.call(this)};F.prototype.removeLoadedExtent=function(z){var G=this.loadedExtentsRtree_,K;G.forEachInExtent(z,function(R){if((0,f.equals)(R.extent,z))return K=R,!0});K&&G.remove(K)};F.prototype.removeFeature=function(z){var G=(0,e.getUid)(z);G in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[G]:
this.featuresRtree_&&this.featuresRtree_.remove(z);this.removeFeatureInternal(z);this.changed()};F.prototype.removeFeatureInternal=function(z){var G=(0,e.getUid)(z);this.featureChangeKeys_[G].forEach(y.unlistenByKey);delete this.featureChangeKeys_[G];var K=z.getId();void 0!==K&&delete this.idIndex_[K.toString()];delete this.uidIndex_[G];this.dispatchEvent(new O(u["default"].REMOVEFEATURE,z))};F.prototype.removeFromIdIndex_=function(z){var G=!1,K;for(K in this.idIndex_)if(this.idIndex_[K]===z){delete this.idIndex_[K];
G=!0;break}return G};F.prototype.setLoader=function(z){this.loader_=z};F.prototype.setUrl=function(z){(0,d.assert)(this.format_,7);this.setLoader((0,B.xhr)(z,this.format_))};return F}(rb["default"]);E["default"]=A};
shadow$provide[241]=function(Ja,A,rb,E){function k(Z){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"===typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};return k(Z)}function l(){if("function"!==typeof WeakMap)return null;var Z=new WeakMap;l=function(){return Z};return Z}function w(Z){return Z&&Z.__esModule?Z:{"default":Z}}function H(){var Z=(0,K.createEditingStyle)();return function(P,C){return Z[P.getGeometry().getType()]}}
function N(Z){if(Z===m["default"].POINT||Z===m["default"].MULTI_POINT)var P=ha.POINT;else Z===m["default"].LINE_STRING||Z===m["default"].MULTI_LINE_STRING?P=ha.LINE_STRING:Z===m["default"].POLYGON||Z===m["default"].MULTI_POLYGON?P=ha.POLYGON:Z===m["default"].CIRCLE&&(P=ha.CIRCLE);return P}Object.defineProperty(E,"__esModule",{value:!0});E.createRegularPolygon=function(Z,P){return function(C,V,ia){var aa=(0,R.fromUserCoordinate)(C[0],ia);C=(0,R.fromUserCoordinate)(C[C.length-1],ia);var ya=Math.sqrt((0,
ja.squaredDistance)(aa,C));V=V?V:(0,D.fromCircle)(new x["default"](aa),Z);var va=P;P||0===P||(va=Math.atan2(C[1]-aa[1],C[0]-aa[0]));(0,D.makeRegular)(V,aa,ya,va);(aa=(0,R.getUserProjection)())&&V.transform(ia,aa);return V}};E.createBox=function(){return function(Z,P,C){Z=(0,G.boundingExtent)([Z[0],Z[Z.length-1]].map(function(V){return(0,R.fromUserCoordinate)(V,C)}));Z=[[(0,G.getBottomLeft)(Z),(0,G.getBottomRight)(Z),(0,G.getTopRight)(Z),(0,G.getTopLeft)(Z),(0,G.getBottomLeft)(Z)]];P?P.setCoordinates(Z):
P=new D["default"](Z);(Z=(0,R.getUserProjection)())&&P.transform(C,Z);return P}};E["default"]=E.DrawEvent=void 0;var x=w(A(187));Ja=w(A(82));var v=w(A(86)),u=w(A(188)),m=w(A(117)),g=w(A(167)),d=w(A(191)),f=w(A(108)),a=w(A(109)),e=w(A(192)),n=w(A(193)),y=w(A(195)),B=w(A(143));rb=w(A(170));var D=function(Z){if(Z&&Z.__esModule)return Z;if(null===Z||"object"!==k(Z)&&"function"!==typeof Z)return{"default":Z};var P=l();if(P&&P.has(Z))return P.get(Z);var C={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor,
ia;for(ia in Z)if(Object.prototype.hasOwnProperty.call(Z,ia)){var aa=V?Object.getOwnPropertyDescriptor(Z,ia):null;aa&&(aa.get||aa.set)?Object.defineProperty(C,ia,aa):C[ia]=Z[ia]}C["default"]=Z;P&&P.set(Z,C);return C}(A(150)),O=w(A(234)),M=w(A(240)),F=A(71),z=A(171),G=A(78),K=A(204),R=A(128),T=A(89),ja=A(96),fa=function(){var Z=function(P,C){Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,ia){V.__proto__=ia}||function(V,ia){for(var aa in ia)Object.prototype.hasOwnProperty.call(ia,
aa)&&(V[aa]=ia[aa])};return Z(P,C)};return function(P,C){function V(){this.constructor=P}Z(P,C);P.prototype=null===C?Object.create(C):(V.prototype=C.prototype,new V)}}(),ha={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},la=function(Z){function P(C,V){C=Z.call(this,C)||this;C.feature=V;return C}fa(P,Z);return P}(Ja["default"]);E.DrawEvent=la;A=function(Z){function P(C){var V=this;C.stopDown||(C.stopDown=F.FALSE);V=Z.call(this,C)||this;V.shouldHandle_=!1;V.downPx_=null;V.freehand_=
!1;V.source_=C.source?C.source:null;V.features_=C.features?C.features:null;V.snapTolerance_=C.snapTolerance?C.snapTolerance:12;V.type_=C.type;V.mode_=N(V.type_);V.stopClick_=!!C.stopClick;V.minPoints_=C.minPoints?C.minPoints:V.mode_===ha.POLYGON?3:2;V.maxPoints_=V.mode_===ha.CIRCLE?2:C.maxPoints?C.maxPoints:Infinity;V.finishCondition_=C.finishCondition?C.finishCondition:F.TRUE;var ia=C.geometryFunction;if(!ia){var aa=V.mode_;if(aa===ha.CIRCLE)ia=function(va,Ia,bb){Ia=Ia?Ia:new x["default"]([NaN,NaN]);
var kb=(0,R.fromUserCoordinate)(va[0],bb);va=(0,ja.squaredDistance)(kb,(0,R.fromUserCoordinate)(va[va.length-1],bb));Ia.setCenterAndRadius(kb,Math.sqrt(va));(va=(0,R.getUserProjection)())&&Ia.transform(bb,va);return Ia};else{var ya;aa===ha.POINT?ya=B["default"]:aa===ha.LINE_STRING?ya=d["default"]:aa===ha.POLYGON&&(ya=D["default"]);ia=function(va,Ia,bb){Ia?aa===ha.POLYGON?va[0].length?Ia.setCoordinates([va[0].concat([va[0][0]])]):Ia.setCoordinates([]):Ia.setCoordinates(va):Ia=new ya(va);return Ia}}}V.geometryFunction_=
ia;V.dragVertexDelay_=void 0!==C.dragVertexDelay?C.dragVertexDelay:500;V.finishCoordinate_=null;V.sketchFeature_=null;V.sketchPoint_=null;V.sketchCoords_=null;V.sketchLine_=null;V.sketchLineCoords_=null;V.squaredClickTolerance_=C.clickTolerance?C.clickTolerance*C.clickTolerance:36;V.overlay_=new O["default"]({source:new M["default"]({useSpatialIndex:!1,wrapX:C.wrapX?C.wrapX:!1}),style:C.style?C.style:H(),updateWhileInteracting:!0});V.geometryName_=C.geometryName;V.condition_=C.condition?C.condition:
z.noModifierKeys;V.freehandCondition_=C.freehand?z.always:C.freehandCondition?C.freehandCondition:z.shiftKeyOnly;V.addEventListener((0,T.getChangeEventType)(g["default"].ACTIVE),V.updateState_);return V}fa(P,Z);P.prototype.setMap=function(C){Z.prototype.setMap.call(this,C);this.updateState_()};P.prototype.getOverlay=function(){return this.overlay_};P.prototype.handleEvent=function(C){C.originalEvent.type===v["default"].CONTEXTMENU&&C.originalEvent.preventDefault();this.freehand_=this.mode_!==ha.POINT&&
this.freehandCondition_(C);var V=C.type===a["default"].POINTERMOVE,ia=!0;!this.freehand_&&this.lastDragTime_&&C.type===a["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=C.pixel,this.shouldHandle_=!this.freehand_,V=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&C.type===a["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(C.coordinate),
ia=!1):this.freehand_&&C.type===a["default"].POINTERDOWN?ia=!1:V&&2>this.getPointerCount()?(ia=C.type===a["default"].POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(C),this.shouldHandle_&&C.originalEvent.preventDefault()):("mouse"===C.originalEvent.pointerType||C.type===a["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(C):C.type===a["default"].DBLCLICK&&(ia=!1);return Z.prototype.handleEvent.call(this,C)&&ia};P.prototype.handleDownEvent=function(C){this.shouldHandle_=
!this.freehand_;if(this.freehand_)return this.downPx_=C.pixel,this.finishCoordinate_||this.startDrawing_(C.coordinate),!0;if(this.condition_(C))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new f["default"](a["default"].POINTERMOVE,C.map,C.originalEvent,!1,C.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=C.pixel,!0;this.lastDragTime_=void 0;return!1};P.prototype.handleUpEvent=function(C){var V=!0;if(0===this.getPointerCount())if(this.downTimeout_&&
(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(C),this.shouldHandle_){switch(!0){case !this.finishCoordinate_:if(this.startDrawing_(C.coordinate),this.mode_!==ha.POINT)break;case this.freehand_||this.atFinish_(C.pixel)&&this.finishCondition_(C):this.finishDrawing();break;case !this.freehand_:this.addToDrawing_(C.coordinate)}V=!1}else this.freehand_&&this.abortDrawing();!V&&this.stopClick_&&C.originalEvent.stopPropagation();return V};P.prototype.handlePointerMove_=
function(C){this.pointerType_=C.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var V=this.downPx_,ia=C.pixel,aa=V[0]-ia[0];V=V[1]-ia[1];aa=aa*aa+V*V;this.shouldHandle_=this.freehand_?aa>this.squaredClickTolerance_:aa<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(C.coordinate):this.createOrUpdateSketchPoint_(C)};P.prototype.atFinish_=function(C){var V=!1;if(this.sketchFeature_){var ia=
!1,aa=[this.finishCoordinate_],ya=this.mode_;ya===ha.POINT?V=!0:ya===ha.CIRCLE?V=2===this.sketchCoords_.length:ya===ha.LINE_STRING?ia=this.sketchCoords_.length>this.minPoints_:ya===ha.POLYGON&&(aa=this.sketchCoords_,ia=aa[0].length>this.minPoints_,aa=[aa[0][0],aa[0][aa[0].length-2]]);if(ia){ia=this.getMap();ya=0;for(var va=aa.length;ya<va;ya++){var Ia=aa[ya],bb=ia.getPixelFromCoordinate(Ia);V=C[0]-bb[0];bb=C[1]-bb[1];if(V=Math.sqrt(V*V+bb*bb)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=
Ia;break}}}}return V};P.prototype.createOrUpdateSketchPoint_=function(C){C=C.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(C):(this.sketchPoint_=new u["default"](new B["default"](C)),this.updateSketchFeatures_())};P.prototype.createOrUpdateCustomSketchLine_=function(C){this.sketchLine_||(this.sketchLine_=new u["default"]);C=C.getLinearRing(0);var V=this.sketchLine_.getGeometry();V?(V.setFlatCoordinates(C.getLayout(),C.getFlatCoordinates()),V.changed()):(V=new d["default"](C.getFlatCoordinates(),
C.getLayout()),this.sketchLine_.setGeometry(V))};P.prototype.startDrawing_=function(C){var V=this.getMap().getView().getProjection();this.finishCoordinate_=C;this.mode_===ha.POINT?this.sketchCoords_=C.slice():this.mode_===ha.POLYGON?(this.sketchCoords_=[[C.slice(),C.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[C.slice(),C.slice()];this.sketchLineCoords_&&(this.sketchLine_=new u["default"](new d["default"](this.sketchLineCoords_)));C=this.geometryFunction_(this.sketchCoords_,
void 0,V);this.sketchFeature_=new u["default"];this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(C);this.updateSketchFeatures_();this.dispatchEvent(new la("drawstart",this.sketchFeature_))};P.prototype.modifyDrawing_=function(C){var V=this.getMap(),ia=this.sketchFeature_.getGeometry(),aa=V.getView().getProjection();if(this.mode_===ha.POINT)var ya=this.sketchCoords_;else this.mode_===ha.POLYGON?(ya=this.sketchCoords_[0],ya=ya[ya.length-1],this.atFinish_(V.getPixelFromCoordinate(C))&&
(C=this.finishCoordinate_.slice())):(ya=this.sketchCoords_,ya=ya[ya.length-1]);ya[0]=C[0];ya[1]=C[1];this.geometryFunction_(this.sketchCoords_,ia,aa);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(C);ia.getType()===m["default"].POLYGON&&this.mode_!==ha.POLYGON?this.createOrUpdateCustomSketchLine_(ia):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};P.prototype.addToDrawing_=function(C){var V=this.sketchFeature_.getGeometry(),
ia=this.getMap().getView().getProjection(),aa;var ya=this.mode_;ya===ha.LINE_STRING||ya===ha.CIRCLE?(this.finishCoordinate_=C.slice(),ya=this.sketchCoords_,ya.length>=this.maxPoints_&&(this.freehand_?ya.pop():aa=!0),ya.push(C.slice()),this.geometryFunction_(ya,V,ia)):ya===ha.POLYGON&&(ya=this.sketchCoords_[0],ya.length>=this.maxPoints_&&(this.freehand_?ya.pop():aa=!0),ya.push(C.slice()),aa&&(this.finishCoordinate_=ya[0]),this.geometryFunction_(this.sketchCoords_,V,ia));this.updateSketchFeatures_();
aa&&this.finishDrawing()};P.prototype.removeLastPoint=function(){if(this.sketchFeature_){var C=this.sketchFeature_.getGeometry(),V=this.getMap().getView().getProjection(),ia=this.mode_;if(ia===ha.LINE_STRING||ia===ha.CIRCLE){var aa=this.sketchCoords_;aa.splice(-2,1);2<=aa.length&&(this.finishCoordinate_=aa[aa.length-2].slice(),ia=this.finishCoordinate_.slice(),aa[aa.length-1]=ia,this.sketchPoint_.setGeometry(new B["default"](ia)));this.geometryFunction_(aa,C,V);C.getType()===m["default"].POLYGON&&
this.sketchLine_&&this.createOrUpdateCustomSketchLine_(C)}else if(ia===ha.POLYGON){aa=this.sketchCoords_[0];aa.splice(-2,1);var ya=this.sketchLine_.getGeometry();2<=aa.length&&(ia=aa[aa.length-2].slice(),aa[aa.length-1]=ia,this.sketchPoint_.setGeometry(new B["default"](ia)));ya.setCoordinates(aa);this.geometryFunction_(this.sketchCoords_,C,V)}1===aa.length&&this.abortDrawing();this.updateSketchFeatures_()}};P.prototype.finishDrawing=function(){var C=this.abortDrawing_();if(C){var V=this.sketchCoords_,
ia=C.getGeometry(),aa=this.getMap().getView().getProjection();this.mode_===ha.LINE_STRING?(V.pop(),this.geometryFunction_(V,ia,aa)):this.mode_===ha.POLYGON&&(V[0].pop(),this.geometryFunction_(V,ia,aa),V=ia.getCoordinates());this.type_===m["default"].MULTI_POINT?C.setGeometry(new n["default"]([V])):this.type_===m["default"].MULTI_LINE_STRING?C.setGeometry(new e["default"]([V])):this.type_===m["default"].MULTI_POLYGON&&C.setGeometry(new y["default"]([V]));this.dispatchEvent(new la("drawend",C));this.features_&&
this.features_.push(C);this.source_&&this.source_.addFeature(C)}};P.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var C=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return C};P.prototype.abortDrawing=function(){var C=this.abortDrawing_();C&&this.dispatchEvent(new la("drawabort",C))};P.prototype.appendCoordinates=function(C){var V=this.mode_,ia=!this.sketchFeature_;ia&&this.startDrawing_(C[0]);if(V===ha.LINE_STRING||
V===ha.CIRCLE)V=this.sketchCoords_;else if(V===ha.POLYGON)V=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;ia&&V.shift();V.pop();for(ia=0;ia<C.length;ia++)this.addToDrawing_(C[ia]);C=C[C.length-1];this.addToDrawing_(C);this.modifyDrawing_(C)};P.prototype.extend=function(C){var V=C.getGeometry();this.sketchFeature_=C;this.sketchCoords_=V.getCoordinates();C=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=C.slice();this.sketchCoords_.push(C.slice());
this.sketchPoint_=new u["default"](new B["default"](C));this.updateSketchFeatures_();this.dispatchEvent(new la("drawstart",this.sketchFeature_))};P.prototype.updateSketchFeatures_=function(){var C=[];this.sketchFeature_&&C.push(this.sketchFeature_);this.sketchLine_&&C.push(this.sketchLine_);this.sketchPoint_&&C.push(this.sketchPoint_);var V=this.overlay_.getSource();V.clear(!0);V.addFeatures(C)};P.prototype.updateState_=function(){var C=this.getMap(),V=this.getActive();C&&V||this.abortDrawing();this.overlay_.setMap(V?
C:null)};return P}(rb["default"]);E["default"]=A};
shadow$provide[242]=function(Ja,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}function l(){var M=(0,n.createEditingStyle)();return function(F,z){return M[v["default"].POLYGON]}}function w(){var M=(0,n.createEditingStyle)();return function(F,z){return M[v["default"].POINT]}}function H(M){return function(F){return(0,a.boundingExtent)([M,F])}}function N(M,F){return M[0]==F[0]?function(z){return(0,a.boundingExtent)([M,[z[0],F[1]]])}:M[1]==F[1]?function(z){return(0,a.boundingExtent)([M,
[F[0],z[1]]])}:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ExtentEvent=void 0;Ja=k(A(82));var x=k(A(188)),v=k(A(117)),u=k(A(109)),m=k(A(143));rb=k(A(170));var g=k(A(234)),d=k(A(240)),f=A(171),a=A(78),e=A(96),n=A(204),y=A(150),B=A(128),D=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=
F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}(),O=function(M){function F(z){var G=M.call(this,"extentchanged")||this;G.extent=z;return G}D(F,M);return F}(Ja["default"]);E.ExtentEvent=O;A=function(M){function F(z){var G=z||{};var K=M.call(this,G)||this;K.condition_=G.condition?G.condition:f.always;K.extent_=null;K.pointerHandler_=null;K.pixelTolerance_=void 0!==G.pixelTolerance?G.pixelTolerance:10;K.snappedToVertex_=!1;K.extentFeature_=null;K.vertexFeature_=null;
z||(z={});K.extentOverlay_=new g["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.boxStyle?z.boxStyle:l(),updateWhileAnimating:!0,updateWhileInteracting:!0});K.vertexOverlay_=new g["default"]({source:new d["default"]({useSpatialIndex:!1,wrapX:!!z.wrapX}),style:z.pointerStyle?z.pointerStyle:w(),updateWhileAnimating:!0,updateWhileInteracting:!0});z.extent&&K.setExtent(z.extent);return K}D(F,M);F.prototype.snapToVertex_=function(z,G){var K=G.getCoordinateFromPixelInternal(z),
R=function(fa,ha){return(0,e.squaredDistanceToSegment)(K,fa)-(0,e.squaredDistanceToSegment)(K,ha)},T=this.getExtentInternal();if(T){T=[[[T[0],T[1]],[T[0],T[3]]],[[T[0],T[3]],[T[2],T[3]]],[[T[2],T[3]],[T[2],T[1]]],[[T[2],T[1]],[T[0],T[1]]]];T.sort(R);R=T[0];T=(0,e.closestOnSegment)(K,R);var ja=G.getPixelFromCoordinateInternal(T);if((0,e.distance)(z,ja)<=this.pixelTolerance_)return z=G.getPixelFromCoordinateInternal(R[0]),G=G.getPixelFromCoordinateInternal(R[1]),z=(0,e.squaredDistance)(ja,z),G=(0,e.squaredDistance)(ja,
G),(this.snappedToVertex_=Math.sqrt(Math.min(z,G))<=this.pixelTolerance_)&&(T=z>G?R[1]:R[0]),T}return null};F.prototype.handlePointerMove_=function(z){var G=z.pixel;z=z.map;var K=this.snapToVertex_(G,z);K||(K=z.getCoordinateFromPixelInternal(G));this.createOrUpdatePointerFeature_(K)};F.prototype.createOrUpdateExtentFeature_=function(z){var G=this.extentFeature_;G?z?G.setGeometry((0,y.fromExtent)(z)):G.setGeometry(void 0):(this.extentFeature_=G=z?new x["default"]((0,y.fromExtent)(z)):new x["default"]({}),
this.extentOverlay_.getSource().addFeature(G));return G};F.prototype.createOrUpdatePointerFeature_=function(z){var G=this.vertexFeature_;G?G.getGeometry().setCoordinates(z):(this.vertexFeature_=G=new x["default"](new m["default"](z)),this.vertexOverlay_.getSource().addFeature(G));return G};F.prototype.handleEvent=function(z){if(!z.originalEvent||!this.condition_(z))return!0;z.type!=u["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(z);M.prototype.handleEvent.call(this,
z);return!1};F.prototype.handleDownEvent=function(z){var G=z.pixel,K=z.map,R=this.getExtentInternal();z=this.snapToVertex_(G,K);var T=function(ja){var fa=null,ha=null;ja[0]==R[0]?fa=R[2]:ja[0]==R[2]&&(fa=R[0]);ja[1]==R[1]?ha=R[3]:ja[1]==R[3]&&(ha=R[1]);return null!==fa&&null!==ha?[fa,ha]:null};z&&R?(G=z[0]==R[0]||z[0]==R[2]?z[0]:null,K=z[1]==R[1]||z[1]==R[3]?z[1]:null,null!==G&&null!==K?this.pointerHandler_=H(T(z)):null!==G?this.pointerHandler_=N(T([G,R[1]]),T([G,R[3]])):null!==K&&(this.pointerHandler_=
N(T([R[0],K]),T([R[2],K])))):(z=K.getCoordinateFromPixelInternal(G),this.setExtent([z[0],z[1],z[0],z[1]]),this.pointerHandler_=H(z));return!0};F.prototype.handleDragEvent=function(z){this.pointerHandler_&&(z=z.coordinate,this.setExtent(this.pointerHandler_(z)),this.createOrUpdatePointerFeature_(z))};F.prototype.handleUpEvent=function(z){this.pointerHandler_=null;(z=this.getExtentInternal())&&0!==(0,a.getArea)(z)||this.setExtent(null);return!1};F.prototype.setMap=function(z){this.extentOverlay_.setMap(z);
this.vertexOverlay_.setMap(z);M.prototype.setMap.call(this,z)};F.prototype.getExtent=function(){return(0,B.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};F.prototype.getExtentInternal=function(){return this.extent_};F.prototype.setExtent=function(z){this.extent_=z?z:null;this.createOrUpdateExtentFeature_(z);this.dispatchEvent(new O(this.extent_))};return F}(rb["default"]);E["default"]=A};
shadow$provide[243]=function(Ja,A,rb,E){function k(la){return la&&la.__esModule?la:{"default":la}}function l(la){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"===typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z};return l(la)}function w(la,Z){return la.index-Z.index}function H(la,Z,P){var C=Z.geometry;if(C.getType()===d["default"].CIRCLE&&1===Z.index)return(Z=(0,K.getUserProjection)())&&(C=C.clone().transform(Z,
P)),P=(0,M.squaredDistance)(C.getCenter(),(0,K.fromUserCoordinate)(la,P)),P=Math.sqrt(P)-C.getRadius(),P*P;la=(0,K.fromUserCoordinate)(la,P);fa[0]=(0,K.fromUserCoordinate)(Z.segment[0],P);fa[1]=(0,K.fromUserCoordinate)(Z.segment[1],P);return(0,M.squaredDistanceToSegment)(la,fa)}function N(la,Z,P){var C=Z.geometry;if(C.getType()===d["default"].CIRCLE&&1===Z.index)return Z=C,(C=(0,K.getUserProjection)())&&(Z=Z.clone().transform(C,P)),(0,K.toUserCoordinate)(Z.getClosestPoint((0,K.fromUserCoordinate)(la,
P)),P);la=(0,K.fromUserCoordinate)(la,P);fa[0]=(0,K.fromUserCoordinate)(Z.segment[0],P);fa[1]=(0,K.fromUserCoordinate)(Z.segment[1],P);return(0,K.toUserCoordinate)((0,M.closestOnSegment)(la,fa),P)}function x(){var la=(0,F.createEditingStyle)();return function(Z,P){return la[d["default"].POINT]}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ModifyEvent=void 0;var v=k(A(105)),u=k(A(104));Ja=k(A(82));var m=k(A(86)),g=k(A(188)),d=k(A(117)),f=k(A(109)),a=k(A(143));rb=k(A(170));var e=
k(A(235)),n=k(A(237)),y=k(A(234)),B=k(A(240)),D=A(171),O=A(78),M=A(96),F=A(204),z=A(70),G=A(150),K=A(128),R=A(72),T=function(){var la=function(Z,P){la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,V){C.__proto__=V}||function(C,V){for(var ia in V)Object.prototype.hasOwnProperty.call(V,ia)&&(C[ia]=V[ia])};return la(Z,P)};return function(Z,P){function C(){this.constructor=Z}la(Z,P);Z.prototype=null===P?Object.create(P):(C.prototype=P.prototype,new C)}}(),ja=[0,0,0,0],fa=[],ha=function(la){function Z(P,
C,V){P=la.call(this,P)||this;P.features=C;P.mapBrowserEvent=V;return P}T(Z,la);return Z}(Ja["default"]);E.ModifyEvent=ha;A=function(la){function Z(P){var C=la.call(this,P)||this;C.boundHandleFeatureChange_=C.handleFeatureChange_.bind(C);C.condition_=P.condition?P.condition:D.primaryAction;C.defaultDeleteCondition_=function(ia){return(0,D.altKeyOnly)(ia)&&(0,D.singleClick)(ia)};C.deleteCondition_=P.deleteCondition?P.deleteCondition:C.defaultDeleteCondition_;C.insertVertexCondition_=P.insertVertexCondition?
P.insertVertexCondition:D.always;C.vertexFeature_=null;C.vertexSegments_=null;C.lastPixel_=[0,0];C.ignoreNextSingleClick_=!1;C.featuresBeingModified_=null;C.rBush_=new e["default"];C.pixelTolerance_=void 0!==P.pixelTolerance?P.pixelTolerance:10;C.snappedToVertex_=!1;C.changingFeature_=!1;C.dragSegments_=[];C.overlay_=new y["default"]({source:new B["default"]({useSpatialIndex:!1,wrapX:!!P.wrapX}),style:P.style?P.style:x(),updateWhileAnimating:!0,updateWhileInteracting:!0});C.SEGMENT_WRITERS_={Point:C.writePointGeometry_.bind(C),
LineString:C.writeLineStringGeometry_.bind(C),LinearRing:C.writeLineStringGeometry_.bind(C),Polygon:C.writePolygonGeometry_.bind(C),MultiPoint:C.writeMultiPointGeometry_.bind(C),MultiLineString:C.writeMultiLineStringGeometry_.bind(C),MultiPolygon:C.writeMultiPolygonGeometry_.bind(C),Circle:C.writeCircleGeometry_.bind(C),GeometryCollection:C.writeGeometryCollectionGeometry_.bind(C)};C.source_=null;C.hitDetection_=null;if(P.features)var V=P.features;else P.source&&(C.source_=P.source,V=new v["default"](C.source_.getFeatures()),
C.source_.addEventListener(n["default"].ADDFEATURE,C.handleSourceAdd_.bind(C)),C.source_.addEventListener(n["default"].REMOVEFEATURE,C.handleSourceRemove_.bind(C)));if(!V)throw Error("The modify interaction requires features, a source or a layer");P.hitDetection&&(C.hitDetection_=P.hitDetection);C.features_=V;C.features_.forEach(C.addFeature_.bind(C));C.features_.addEventListener(u["default"].ADD,C.handleFeatureAdd_.bind(C));C.features_.addEventListener(u["default"].REMOVE,C.handleFeatureRemove_.bind(C));
C.lastPointerEvent_=null;C.delta_=[0,0];return C}T(Z,la);Z.prototype.addFeature_=function(P){var C=P.getGeometry();if(C){var V=this.SEGMENT_WRITERS_[C.getType()];V&&V(P,C)}(C=this.getMap())&&C.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,C);P.addEventListener(m["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.willModifyFeatures_=function(P,C){if(!this.featuresBeingModified_){this.featuresBeingModified_=new v["default"];for(var V=this.featuresBeingModified_.getArray(),
ia=0,aa=C.length;ia<aa;++ia){var ya=C[ia][0].feature;-1===V.indexOf(ya)&&this.featuresBeingModified_.push(ya)}this.dispatchEvent(new ha("modifystart",this.featuresBeingModified_,P))}};Z.prototype.removeFeature_=function(P){this.removeFeatureSegmentData_(P);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);P.removeEventListener(m["default"].CHANGE,this.boundHandleFeatureChange_)};Z.prototype.removeFeatureSegmentData_=
function(P){var C=this.rBush_,V=[];C.forEach(function(va){P===va.feature&&V.push(va)});for(var ia=V.length-1;0<=ia;--ia){for(var aa=V[ia],ya=this.dragSegments_.length-1;0<=ya;--ya)this.dragSegments_[ya][0]===aa&&this.dragSegments_.splice(ya,1);C.remove(aa)}};Z.prototype.setActive=function(P){this.vertexFeature_&&!P&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);la.prototype.setActive.call(this,P)};Z.prototype.setMap=function(P){this.overlay_.setMap(P);la.prototype.setMap.call(this,
P)};Z.prototype.getOverlay=function(){return this.overlay_};Z.prototype.handleSourceAdd_=function(P){P.feature&&this.features_.push(P.feature)};Z.prototype.handleSourceRemove_=function(P){P.feature&&this.features_.remove(P.feature)};Z.prototype.handleFeatureAdd_=function(P){this.addFeature_(P.element)};Z.prototype.handleFeatureChange_=function(P){this.changingFeature_||(P=P.target,this.removeFeature_(P),this.addFeature_(P))};Z.prototype.handleFeatureRemove_=function(P){this.removeFeature_(P.element)};
Z.prototype.writePointGeometry_=function(P,C){var V=C.getCoordinates();P={feature:P,geometry:C,segment:[V,V]};this.rBush_.insert(C.getExtent(),P)};Z.prototype.writeMultiPointGeometry_=function(P,C){for(var V=C.getCoordinates(),ia=0,aa=V.length;ia<aa;++ia){var ya=V[ia];ya={feature:P,geometry:C,depth:[ia],index:ia,segment:[ya,ya]};this.rBush_.insert(C.getExtent(),ya)}};Z.prototype.writeLineStringGeometry_=function(P,C){for(var V=C.getCoordinates(),ia=0,aa=V.length-1;ia<aa;++ia){var ya=V.slice(ia,ia+
2),va={feature:P,geometry:C,index:ia,segment:ya};this.rBush_.insert((0,O.boundingExtent)(ya),va)}};Z.prototype.writeMultiLineStringGeometry_=function(P,C){for(var V=C.getCoordinates(),ia=0,aa=V.length;ia<aa;++ia)for(var ya=V[ia],va=0,Ia=ya.length-1;va<Ia;++va){var bb=ya.slice(va,va+2),kb={feature:P,geometry:C,depth:[ia],index:va,segment:bb};this.rBush_.insert((0,O.boundingExtent)(bb),kb)}};Z.prototype.writePolygonGeometry_=function(P,C){for(var V=C.getCoordinates(),ia=0,aa=V.length;ia<aa;++ia)for(var ya=
V[ia],va=0,Ia=ya.length-1;va<Ia;++va){var bb=ya.slice(va,va+2),kb={feature:P,geometry:C,depth:[ia],index:va,segment:bb};this.rBush_.insert((0,O.boundingExtent)(bb),kb)}};Z.prototype.writeMultiPolygonGeometry_=function(P,C){for(var V=C.getCoordinates(),ia=0,aa=V.length;ia<aa;++ia)for(var ya=V[ia],va=0,Ia=ya.length;va<Ia;++va)for(var bb=ya[va],kb=0,ua=bb.length-1;kb<ua;++kb){var Ta=bb.slice(kb,kb+2),Ya={feature:P,geometry:C,depth:[va,ia],index:kb,segment:Ta};this.rBush_.insert((0,O.boundingExtent)(Ta),
Ya)}};Z.prototype.writeCircleGeometry_=function(P,C){var V=C.getCenter(),ia={feature:P,geometry:C,index:0,segment:[V,V]};P={feature:P,geometry:C,index:1,segment:[V,V]};var aa=[ia,P];ia.featureSegments=aa;P.featureSegments=aa;this.rBush_.insert((0,O.createOrUpdateFromCoordinate)(V),ia);(V=(0,K.getUserProjection)())&&this.getMap()&&(ia=this.getMap().getView().getProjection(),C=C.clone().transform(V,ia),C=(0,G.fromCircle)(C).transform(ia,V));this.rBush_.insert(C.getExtent(),P)};Z.prototype.writeGeometryCollectionGeometry_=
function(P,C){C=C.getGeometriesArray();for(var V=0;V<C.length;++V){var ia=C[V];(0,this.SEGMENT_WRITERS_[ia.getType()])(P,ia)}};Z.prototype.createOrUpdateVertexFeature_=function(P,C,V){var ia=this.vertexFeature_;ia?ia.getGeometry().setCoordinates(P):(this.vertexFeature_=ia=new g["default"](new a["default"](P)),this.overlay_.getSource().addFeature(ia));ia.set("features",C);ia.set("geometries",V);return ia};Z.prototype.handleEvent=function(P){if(!P.originalEvent)return!0;this.lastPointerEvent_=P;var C;
P.map.getView().getInteracting()||P.type!=f["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(P);this.vertexFeature_&&this.deleteCondition_(P)&&(C=P.type==f["default"].SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());P.type==f["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return la.prototype.handleEvent.call(this,P)&&!C};Z.prototype.handleDragEvent=function(P){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(P,this.dragSegments_);for(var C=
[P.coordinate[0]+this.delta_[0],P.coordinate[1]+this.delta_[1]],V=[],ia=[],aa=0,ya=this.dragSegments_.length;aa<ya;++aa){var va=this.dragSegments_[aa],Ia=va[0],bb=Ia.feature;-1===V.indexOf(bb)&&V.push(bb);bb=Ia.geometry;-1===ia.indexOf(bb)&&ia.push(bb);var kb=Ia.depth,ua=void 0,Ta=Ia.segment;for(va=va[1];C.length<bb.getStride();)C.push(Ta[va][C.length]);switch(bb.getType()){case d["default"].POINT:ua=C;Ta[0]=C;Ta[1]=C;break;case d["default"].MULTI_POINT:ua=bb.getCoordinates();ua[Ia.index]=C;Ta[0]=
C;Ta[1]=C;break;case d["default"].LINE_STRING:ua=bb.getCoordinates();ua[Ia.index+va]=C;Ta[va]=C;break;case d["default"].MULTI_LINE_STRING:ua=bb.getCoordinates();ua[kb[0]][Ia.index+va]=C;Ta[va]=C;break;case d["default"].POLYGON:ua=bb.getCoordinates();ua[kb[0]][Ia.index+va]=C;Ta[va]=C;break;case d["default"].MULTI_POLYGON:ua=bb.getCoordinates();ua[kb[1]][kb[0]][Ia.index+va]=C;Ta[va]=C;break;case d["default"].CIRCLE:Ta[0]=C;Ta[1]=C;if(0===Ia.index)this.changingFeature_=!0,bb.setCenter(C);else{this.changingFeature_=
!0;Ia=P.map.getView().getProjection();va=(0,M.distance)((0,K.fromUserCoordinate)(bb.getCenter(),Ia),(0,K.fromUserCoordinate)(C,Ia));if(kb=(0,K.getUserProjection)())Ta=bb.clone().transform(kb,Ia),Ta.setRadius(va),va=Ta.transform(Ia,kb).getRadius();bb.setRadius(va)}this.changingFeature_=!1}ua&&this.setGeometryCoordinates_(bb,ua)}this.createOrUpdateVertexFeature_(C,V,ia)};Z.prototype.handleDownEvent=function(P){if(!this.condition_(P))return!1;var C=P.coordinate;this.handlePointerAtPixel_(P.pixel,P.map,
C);this.dragSegments_.length=0;this.featuresBeingModified_=null;var V=this.vertexFeature_;if(V){var ia=P.map.getView().getProjection(),aa=[];V=V.getGeometry().getCoordinates();var ya=(0,O.boundingExtent)([V]);ya=this.rBush_.getInExtent(ya);var va={};ya.sort(w);for(var Ia=0,bb=ya.length;Ia<bb;++Ia){var kb=ya[Ia],ua=kb.segment,Ta=(0,R.getUid)(kb.geometry),Ya=kb.depth;Ya&&(Ta+="-"+Ya.join("-"));va[Ta]||(va[Ta]=Array(2));if(kb.geometry.getType()===d["default"].CIRCLE&&1===kb.index)ua=N(C,kb,ia),(0,M.equals)(ua,
V)&&!va[Ta][0]&&(this.dragSegments_.push([kb,0]),va[Ta][0]=kb);else if((0,M.equals)(ua[0],V)&&!va[Ta][0])this.dragSegments_.push([kb,0]),va[Ta][0]=kb;else if((0,M.equals)(ua[1],V)&&!va[Ta][1]){if(kb.geometry.getType()!==d["default"].LINE_STRING&&kb.geometry.getType()!==d["default"].MULTI_LINE_STRING||!va[Ta][0]||0!==va[Ta][0].index)this.dragSegments_.push([kb,1]),va[Ta][1]=kb}else(0,R.getUid)(ua)in this.vertexSegments_&&!va[Ta][0]&&!va[Ta][1]&&this.insertVertexCondition_(P)&&aa.push(kb)}aa.length&&
this.willModifyFeatures_(P,[aa]);for(P=aa.length-1;0<=P;--P)this.insertVertex_(aa[P],V)}return!!this.vertexFeature_};Z.prototype.handleUpEvent=function(P){for(var C=this.dragSegments_.length-1;0<=C;--C){var V=this.dragSegments_[C][0],ia=V.geometry;if(ia.getType()===d["default"].CIRCLE){var aa=ia.getCenter(),ya=V.featureSegments[0];V=V.featureSegments[1];ya.segment[0]=aa;ya.segment[1]=aa;V.segment[0]=aa;V.segment[1]=aa;this.rBush_.update((0,O.createOrUpdateFromCoordinate)(aa),ya);if(aa=(0,K.getUserProjection)())ya=
P.map.getView().getProjection(),ia=ia.clone().transform(aa,ya),ia=(0,G.fromCircle)(ia).transform(ya,aa);this.rBush_.update(ia.getExtent(),V)}else this.rBush_.update((0,O.boundingExtent)(V.segment),V)}this.featuresBeingModified_&&(this.dispatchEvent(new ha("modifyend",this.featuresBeingModified_,P)),this.featuresBeingModified_=null);return!1};Z.prototype.handlePointerMove_=function(P){this.lastPixel_=P.pixel;this.handlePointerAtPixel_(P.pixel,P.map,P.coordinate)};Z.prototype.handlePointerAtPixel_=
function(P,C,V){var ia=this,aa=V||C.getCoordinateFromPixel(P),ya=C.getView().getProjection();V=function(Da,ta){return H(aa,Da,ya)-H(aa,ta,ya)};var va;if(this.hitDetection_){var Ia="object"===l(this.hitDetection_)?function(Da){return Da===ia.hitDetection_}:void 0;C.forEachFeatureAtPixel(P,function(Da,ta,U){U=U||Da.getGeometry();U.getType()===d["default"].POINT&&(va=U,ta=U.getCoordinates(),kb=[{feature:Da,geometry:U,segment:[ta,ta]}]);return!0},{layerFilter:Ia})}if(!kb){Ia=(0,K.fromUserExtent)((0,O.createOrUpdateFromCoordinate)(aa,
ja),ya);var bb=C.getView().getResolution()*this.pixelTolerance_;Ia=(0,K.toUserExtent)((0,O.buffer)(Ia,bb,ja),ya);var kb=this.rBush_.getInExtent(Ia)}if(kb&&0<kb.length){Ia=kb.sort(V)[0];V=Ia.segment;bb=N(aa,Ia,ya);var ua=C.getPixelFromCoordinate(bb),Ta=(0,M.distance)(P,ua);if(va||Ta<=this.pixelTolerance_){P={};P[(0,R.getUid)(V)]=!0;this.delta_[0]=bb[0]-aa[0];this.delta_[1]=bb[1]-aa[1];if(Ia.geometry.getType()===d["default"].CIRCLE&&1===Ia.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(bb,
[Ia.feature],[Ia.geometry]);else{Ta=C.getPixelFromCoordinate(V[0]);var Ya=C.getPixelFromCoordinate(V[1]);C=(0,M.squaredDistance)(ua,Ta);ua=(0,M.squaredDistance)(ua,Ya);Ta=Math.sqrt(Math.min(C,ua));(this.snappedToVertex_=Ta<=this.pixelTolerance_)&&(bb=C>ua?V[1]:V[0]);this.createOrUpdateVertexFeature_(bb,[Ia.feature],[Ia.geometry]);C={};C[(0,R.getUid)(Ia.geometry)]=!0;Ia=1;for(bb=kb.length;Ia<bb;++Ia)if(ua=kb[Ia].segment,(0,M.equals)(V[0],ua[0])&&(0,M.equals)(V[1],ua[1])||(0,M.equals)(V[0],ua[1])&&
(0,M.equals)(V[1],ua[0]))Ta=(0,R.getUid)(kb[Ia].geometry),Ta in C||(C[Ta]=!0,P[(0,R.getUid)(ua)]=!0);else break}this.vertexSegments_=P;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};Z.prototype.insertVertex_=function(P,C){for(var V=P.segment,ia=P.feature,aa=P.geometry,ya=P.depth,va=P.index,Ia;C.length<aa.getStride();)C.push(0);switch(aa.getType()){case d["default"].MULTI_LINE_STRING:Ia=aa.getCoordinates();Ia[ya[0]].splice(va+1,
0,C);break;case d["default"].POLYGON:Ia=aa.getCoordinates();Ia[ya[0]].splice(va+1,0,C);break;case d["default"].MULTI_POLYGON:Ia=aa.getCoordinates();Ia[ya[1]][ya[0]].splice(va+1,0,C);break;case d["default"].LINE_STRING:Ia=aa.getCoordinates();Ia.splice(va+1,0,C);break;default:return}this.setGeometryCoordinates_(aa,Ia);Ia=this.rBush_;Ia.remove(P);this.updateSegmentIndices_(aa,va,ya,1);P={segment:[V[0],C],feature:ia,geometry:aa,depth:ya,index:va};Ia.insert((0,O.boundingExtent)(P.segment),P);this.dragSegments_.push([P,
1]);C={segment:[C,V[1]],feature:ia,geometry:aa,depth:ya,index:va+1};Ia.insert((0,O.boundingExtent)(C.segment),C);this.dragSegments_.push([C,0]);this.ignoreNextSingleClick_=!0};Z.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=f["default"].POINTERDRAG){var P=this.lastPointerEvent_;this.willModifyFeatures_(P,this.dragSegments_);var C=this.removeVertex_();this.dispatchEvent(new ha("modifyend",this.featuresBeingModified_,P));this.featuresBeingModified_=null;return C}return!1};
Z.prototype.removeVertex_=function(){var P=this.dragSegments_,C={},V=!1,ia,aa;for(aa=P.length-1;0<=aa;--aa){var ya=P[aa];var va=ya[0];var Ia=(0,R.getUid)(va.feature);va.depth&&(Ia+="-"+va.depth.join("-"));Ia in C||(C[Ia]={});0===ya[1]?(C[Ia].right=va,C[Ia].index=va.index):1==ya[1]&&(C[Ia].left=va,C[Ia].index=va.index+1)}for(Ia in C){var bb=C[Ia].right;var kb=C[Ia].left;aa=C[Ia].index;var ua=aa-1;va=void 0!==kb?kb:bb;0>ua&&(ua=0);ya=va.geometry;var Ta=ia=ya.getCoordinates();V=!1;switch(ya.getType()){case d["default"].MULTI_LINE_STRING:2<
ia[va.depth[0]].length&&(ia[va.depth[0]].splice(aa,1),V=!0);break;case d["default"].LINE_STRING:2<ia.length&&(ia.splice(aa,1),V=!0);break;case d["default"].MULTI_POLYGON:Ta=Ta[va.depth[1]];case d["default"].POLYGON:Ta=Ta[va.depth[0]],4<Ta.length&&(aa==Ta.length-1&&(aa=0),Ta.splice(aa,1),V=!0,0===aa&&(Ta.pop(),Ta.push(Ta[0]),ua=Ta.length-1))}V&&(this.setGeometryCoordinates_(ya,ia),Ta=[],void 0!==kb&&(this.rBush_.remove(kb),Ta.push(kb.segment[0])),void 0!==bb&&(this.rBush_.remove(bb),Ta.push(bb.segment[1])),
void 0!==kb&&void 0!==bb&&(kb={depth:va.depth,feature:va.feature,geometry:va.geometry,index:ua,segment:Ta},this.rBush_.insert((0,O.boundingExtent)(kb.segment),kb)),this.updateSegmentIndices_(ya,aa,va.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),P.length=0)}return V};Z.prototype.setGeometryCoordinates_=function(P,C){this.changingFeature_=!0;P.setCoordinates(C);this.changingFeature_=!1};Z.prototype.updateSegmentIndices_=function(P,
C,V,ia){this.rBush_.forEachInExtent(P.getExtent(),function(aa){aa.geometry===P&&(void 0===V||void 0===aa.depth||(0,z.equals)(aa.depth,V))&&aa.index>C&&(aa.index+=ia)})};return Z}(rb["default"]);E["default"]=A};
shadow$provide[244]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(){var n=(0,u.createEditingStyle)();(0,m.extend)(n[N["default"].POLYGON],n[N["default"].LINE_STRING]);(0,m.extend)(n[N["default"].GEOMETRY_COLLECTION],n[N["default"].LINE_STRING]);return function(y){return y.getGeometry()?n[y.getGeometry().getType()]:null}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.SelectEvent=void 0;var w=k(A(105)),H=k(A(104));Ja=k(A(82));var N=k(A(117));rb=
k(A(168));var x=A(71),v=A(84),u=A(204),m=A(70),g=A(72),d=A(171),f=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}(),a=function(n){function y(B,D,O,M){B=n.call(this,B)||this;B.selected=D;B.deselected=
O;B.mapBrowserEvent=M;return B}f(y,n);return y}(Ja["default"]);E.SelectEvent=a;var e={};A=function(n){function y(B){var D=n.call(this)||this;B=B?B:{};D.boundAddFeature_=D.addFeature_.bind(D);D.boundRemoveFeature_=D.removeFeature_.bind(D);D.condition_=B.condition?B.condition:d.singleClick;D.addCondition_=B.addCondition?B.addCondition:d.never;D.removeCondition_=B.removeCondition?B.removeCondition:d.never;D.toggleCondition_=B.toggleCondition?B.toggleCondition:d.shiftKeyOnly;D.multi_=B.multi?B.multi:
!1;D.filter_=B.filter?B.filter:x.TRUE;D.hitTolerance_=B.hitTolerance?B.hitTolerance:0;D.style_=void 0!==B.style?B.style:l();D.features_=B.features||new w["default"];if(B.layers)if("function"===typeof B.layers)B=B.layers;else{var O=B.layers;B=function(M){return(0,m.includes)(O,M)}}else B=x.TRUE;D.layerFilter_=B;D.featureLayerAssociation_={};return D}f(y,n);y.prototype.addFeatureLayerAssociation_=function(B,D){this.featureLayerAssociation_[(0,g.getUid)(B)]=D};y.prototype.getFeatures=function(){return this.features_};
y.prototype.getHitTolerance=function(){return this.hitTolerance_};y.prototype.getLayer=function(B){return this.featureLayerAssociation_[(0,g.getUid)(B)]};y.prototype.setHitTolerance=function(B){this.hitTolerance_=B};y.prototype.setMap=function(B){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));n.prototype.setMap.call(this,B);B?(this.features_.addEventListener(H["default"].ADD,this.boundAddFeature_),this.features_.addEventListener(H["default"].REMOVE,this.boundRemoveFeature_),
this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(H["default"].ADD,this.boundAddFeature_),this.features_.removeEventListener(H["default"].REMOVE,this.boundRemoveFeature_))};y.prototype.addFeature_=function(B){B=B.element;this.style_&&this.applySelectedStyle_(B)};y.prototype.removeFeature_=function(B){B=B.element;this.style_&&this.restorePreviousStyle_(B)};y.prototype.getStyle=function(){return this.style_};y.prototype.applySelectedStyle_=
function(B){var D=(0,g.getUid)(B);D in e||(e[D]=B.getStyle());B.setStyle(this.style_)};y.prototype.restorePreviousStyle_=function(B){for(var D=this.getMap().getInteractions().getArray(),O=D.length-1;0<=O;--O){var M=D[O];if(M!==this&&M instanceof y&&M.getStyle()&&-1!==M.getFeatures().getArray().lastIndexOf(B)){B.setStyle(M.getStyle());return}}D=(0,g.getUid)(B);B.setStyle(e[D]);delete e[D]};y.prototype.removeFeatureLayerAssociation_=function(B){delete this.featureLayerAssociation_[(0,g.getUid)(B)]};
y.prototype.handleEvent=function(B){if(!this.condition_(B))return!0;var D=this.addCondition_(B),O=this.removeCondition_(B),M=this.toggleCondition_(B),F=!D&&!O&&!M,z=B.map,G=this.getFeatures(),K=[],R=[];if(F){(0,v.clear)(this.featureLayerAssociation_);z.forEachFeatureAtPixel(B.pixel,function(ja,fa){if(this.filter_(ja,fa))return R.push(ja),this.addFeatureLayerAssociation_(ja,fa),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(F=G.getLength()-1;0<=F;--F){z=
G.item(F);var T=R.indexOf(z);-1<T?R.splice(T,1):(G.remove(z),K.push(z))}0!==R.length&&G.extend(R)}else{z.forEachFeatureAtPixel(B.pixel,function(ja,fa){if(this.filter_(ja,fa))return!D&&!M||(0,m.includes)(G.getArray(),ja)?(O||M)&&(0,m.includes)(G.getArray(),ja)&&(K.push(ja),this.removeFeatureLayerAssociation_(ja)):(R.push(ja),this.addFeatureLayerAssociation_(ja,fa)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(F=K.length-1;0<=F;--F)G.remove(K[F]);G.extend(R)}(0<
R.length||0<K.length)&&this.dispatchEvent(new a("select",R,K,B));return!0};return y}(rb["default"]);E["default"]=A};
shadow$provide[245]=function(Ja,A,rb,E){function k(D){return D&&D.__esModule?D:{"default":D}}function l(D){if(D.feature)return D.feature;if(D.element)return D.element}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(104)),H=k(A(86)),N=k(A(117));Ja=k(A(170));var x=k(A(235)),v=k(A(237)),u=A(71),m=A(78),g=A(96),d=A(150),f=A(128),a=A(72),e=A(84),n=A(87),y=function(){var D=function(O,M){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,z){F.__proto__=z}||
function(F,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(F[G]=z[G])};return D(O,M)};return function(O,M){function F(){this.constructor=O}D(O,M);O.prototype=null===M?Object.create(M):(F.prototype=M.prototype,new F)}}(),B=[];A=function(D){function O(M){var F=M?M:{};F.handleDownEvent||(F.handleDownEvent=u.TRUE);F.stopDown||(F.stopDown=u.FALSE);M=D.call(this,F)||this;M.source_=F.source?F.source:null;M.vertex_=void 0!==F.vertex?F.vertex:!0;M.edge_=void 0!==F.edge?F.edge:!0;M.features_=
F.features?F.features:null;M.featuresListenerKeys_=[];M.featureChangeListenerKeys_={};M.indexedFeaturesExtents_={};M.pendingFeatures_={};M.pixelTolerance_=void 0!==F.pixelTolerance?F.pixelTolerance:10;M.rBush_=new x["default"];M.SEGMENT_WRITERS_={Point:M.writePointGeometry_.bind(M),LineString:M.writeLineStringGeometry_.bind(M),LinearRing:M.writeLineStringGeometry_.bind(M),Polygon:M.writePolygonGeometry_.bind(M),MultiPoint:M.writeMultiPointGeometry_.bind(M),MultiLineString:M.writeMultiLineStringGeometry_.bind(M),
MultiPolygon:M.writeMultiPolygonGeometry_.bind(M),GeometryCollection:M.writeGeometryCollectionGeometry_.bind(M),Circle:M.writeCircleGeometry_.bind(M)};return M}y(O,D);O.prototype.addFeature=function(M,F){F=void 0!==F?F:!0;var z=(0,a.getUid)(M),G=M.getGeometry();if(G){var K=this.SEGMENT_WRITERS_[G.getType()];K&&(this.indexedFeaturesExtents_[z]=G.getExtent((0,m.createEmpty)()),K(M,G))}F&&(this.featureChangeListenerKeys_[z]=(0,n.listen)(M,H["default"].CHANGE,this.handleFeatureChange_,this))};O.prototype.forEachFeatureAdd_=
function(M){this.addFeature(M)};O.prototype.forEachFeatureRemove_=function(M){this.removeFeature(M)};O.prototype.getFeatures_=function(){var M;this.features_?M=this.features_:this.source_&&(M=this.source_.getFeatures());return M};O.prototype.handleEvent=function(M){var F=this.snapTo(M.pixel,M.coordinate,M.map);F.snapped&&(M.coordinate=F.vertex.slice(0,2),M.pixel=F.vertexPixel);return D.prototype.handleEvent.call(this,M)};O.prototype.handleFeatureAdd_=function(M){M=l(M);this.addFeature(M)};O.prototype.handleFeatureRemove_=
function(M){M=l(M);this.removeFeature(M)};O.prototype.handleFeatureChange_=function(M){M=M.target;if(this.handlingDownUpSequence){var F=(0,a.getUid)(M);F in this.pendingFeatures_||(this.pendingFeatures_[F]=M)}else this.updateFeature_(M)};O.prototype.handleUpEvent=function(M){M=(0,e.getValues)(this.pendingFeatures_);M.length&&(M.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};O.prototype.removeFeature=function(M,F){F=void 0!==F?F:!0;var z=(0,a.getUid)(M),G=this.indexedFeaturesExtents_[z];
if(G){var K=this.rBush_,R=[];K.forEachInExtent(G,function(T){M===T.feature&&R.push(T)});for(G=R.length-1;0<=G;--G)K.remove(R[G])}F&&((0,n.unlistenByKey)(this.featureChangeListenerKeys_[z]),delete this.featureChangeListenerKeys_[z])};O.prototype.setMap=function(M){var F=this.getMap(),z=this.featuresListenerKeys_,G=this.getFeatures_();F&&(z.forEach(n.unlistenByKey),z.length=0,G.forEach(this.forEachFeatureRemove_.bind(this)));D.prototype.setMap.call(this,M);M&&(this.features_?z.push((0,n.listen)(this.features_,
w["default"].ADD,this.handleFeatureAdd_,this),(0,n.listen)(this.features_,w["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&z.push((0,n.listen)(this.source_,v["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,n.listen)(this.source_,v["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),G.forEach(this.forEachFeatureAdd_.bind(this)))};O.prototype.snapTo=function(M,F,z){var G=z.getCoordinateFromPixel([M[0]-this.pixelTolerance_,M[1]+this.pixelTolerance_]),K=z.getCoordinateFromPixel([M[0]+
this.pixelTolerance_,M[1]-this.pixelTolerance_]);G=(0,m.boundingExtent)([G,K]);var R=this.rBush_.getInExtent(G);this.vertex_&&!this.edge_&&(R=R.filter(function(C){return C.feature.getGeometry().getType()!==N["default"].CIRCLE}));G=!1;var T=K=null;if(0===R.length)return{snapped:G,vertex:K,vertexPixel:T};var ja=z.getView().getProjection();F=(0,f.fromUserCoordinate)(F,ja);for(var fa,ha=Infinity,la=0;la<R.length;++la){var Z=R[la];B[0]=(0,f.fromUserCoordinate)(Z.segment[0],ja);B[1]=(0,f.fromUserCoordinate)(Z.segment[1],
ja);var P=(0,g.squaredDistanceToSegment)(F,B);P<ha&&(fa=Z,ha=P)}R=fa.segment;this.vertex_&&!this.edge_?(fa=z.getPixelFromCoordinate(R[0]),ja=z.getPixelFromCoordinate(R[1]),fa=(0,g.squaredDistance)(M,fa),M=(0,g.squaredDistance)(M,ja),ja=Math.sqrt(Math.min(fa,M)),ja<=this.pixelTolerance_&&(G=!0,K=fa>M?R[1]:R[0],T=z.getPixelFromCoordinate(K))):this.edge_&&((ha=fa.feature.getGeometry().getType()===N["default"].CIRCLE)?(K=fa.feature.getGeometry(),(T=(0,f.getUserProjection)())&&(K=K.clone().transform(T,
ja)),K=(0,f.toUserCoordinate)((0,g.closestOnCircle)(F,K),ja)):(B[0]=(0,f.fromUserCoordinate)(R[0],ja),B[1]=(0,f.fromUserCoordinate)(R[1],ja),K=(0,f.toUserCoordinate)((0,g.closestOnSegment)(F,B),ja)),T=z.getPixelFromCoordinate(K),(0,g.distance)(M,T)<=this.pixelTolerance_&&(G=!0,this.vertex_&&!ha&&(fa=z.getPixelFromCoordinate(R[0]),ja=z.getPixelFromCoordinate(R[1]),fa=(0,g.squaredDistance)(T,fa),M=(0,g.squaredDistance)(T,ja),ja=Math.sqrt(Math.min(fa,M)),ja<=this.pixelTolerance_&&(K=fa>M?R[1]:R[0],T=
z.getPixelFromCoordinate(K)))));G&&(T=[Math.round(T[0]),Math.round(T[1])]);return{snapped:G,vertex:K,vertexPixel:T}};O.prototype.updateFeature_=function(M){this.removeFeature(M,!1);this.addFeature(M,!1)};O.prototype.writeCircleGeometry_=function(M,F){var z=this.getMap().getView().getProjection(),G=F;(F=(0,f.getUserProjection)())&&(G=G.clone().transform(F,z));G=(0,d.fromCircle)(G);F&&G.transform(z,F);z=G.getCoordinates()[0];F=0;for(G=z.length-1;F<G;++F){var K=z.slice(F,F+2),R={feature:M,segment:K};
this.rBush_.insert((0,m.boundingExtent)(K),R)}};O.prototype.writeGeometryCollectionGeometry_=function(M,F){F=F.getGeometriesArray();for(var z=0;z<F.length;++z){var G=this.SEGMENT_WRITERS_[F[z].getType()];G&&G(M,F[z])}};O.prototype.writeLineStringGeometry_=function(M,F){F=F.getCoordinates();for(var z=0,G=F.length-1;z<G;++z){var K=F.slice(z,z+2),R={feature:M,segment:K};this.rBush_.insert((0,m.boundingExtent)(K),R)}};O.prototype.writeMultiLineStringGeometry_=function(M,F){F=F.getCoordinates();for(var z=
0,G=F.length;z<G;++z)for(var K=F[z],R=0,T=K.length-1;R<T;++R){var ja=K.slice(R,R+2),fa={feature:M,segment:ja};this.rBush_.insert((0,m.boundingExtent)(ja),fa)}};O.prototype.writeMultiPointGeometry_=function(M,F){for(var z=F.getCoordinates(),G=0,K=z.length;G<K;++G){var R=z[G];R={feature:M,segment:[R,R]};this.rBush_.insert(F.getExtent(),R)}};O.prototype.writeMultiPolygonGeometry_=function(M,F){F=F.getCoordinates();for(var z=0,G=F.length;z<G;++z)for(var K=F[z],R=0,T=K.length;R<T;++R)for(var ja=K[R],fa=
0,ha=ja.length-1;fa<ha;++fa){var la=ja.slice(fa,fa+2),Z={feature:M,segment:la};this.rBush_.insert((0,m.boundingExtent)(la),Z)}};O.prototype.writePointGeometry_=function(M,F){var z=F.getCoordinates();M={feature:M,segment:[z,z]};this.rBush_.insert(F.getExtent(),M)};O.prototype.writePolygonGeometry_=function(M,F){F=F.getCoordinates();for(var z=0,G=F.length;z<G;++z)for(var K=F[z],R=0,T=K.length-1;R<T;++R){var ja=K.slice(R,R+2),fa={feature:M,segment:ja};this.rBush_.insert((0,m.boundingExtent)(ja),fa)}};
return O}(Ja["default"]);E["default"]=A};
shadow$provide[246]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TranslateEvent=void 0;var l=k(A(105));Ja=k(A(82));var w=k(A(167));rb=k(A(170));var H=A(71),N=A(89),x=A(70),v=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,
d){function f(){this.constructor=g}m(g,d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=function(m){function g(d,f,a,e,n){d=m.call(this,d)||this;d.features=f;d.coordinate=a;d.startCoordinate=e;d.mapBrowserEvent=n;return d}v(g,m);return g}(Ja["default"]);E.TranslateEvent=u;A=function(m){function g(d){var f=this;d=d?d:{};f=m.call(this,d)||this;f.lastCoordinate_=null;f.startCoordinate_=null;f.features_=void 0!==d.features?d.features:null;if(d.layers)if("function"===typeof d.layers)var a=
d.layers;else{var e=d.layers;a=function(n){return(0,x.includes)(e,n)}}else a=H.TRUE;f.layerFilter_=a;f.filter_=d.filter?d.filter:H.TRUE;f.hitTolerance_=d.hitTolerance?d.hitTolerance:0;f.lastFeature_=null;f.addEventListener((0,N.getChangeEventType)(w["default"].ACTIVE),f.handleActiveChanged_);return f}v(g,m);g.prototype.handleDownEvent=function(d){this.lastFeature_=this.featuresAtPixel_(d.pixel,d.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=d.coordinate;
this.handleMoveEvent(d);var f=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new u("translatestart",f,d.coordinate,this.startCoordinate_,d));return!0}return!1};g.prototype.handleUpEvent=function(d){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(d);var f=this.features_||new l["default"]([this.lastFeature_]);this.dispatchEvent(new u("translateend",f,d.coordinate,this.startCoordinate_,d));this.startCoordinate_=null;return!0}return!1};g.prototype.handleDragEvent=
function(d){if(this.lastCoordinate_){var f=d.coordinate,a=f[0]-this.lastCoordinate_[0],e=f[1]-this.lastCoordinate_[1],n=this.features_||new l["default"]([this.lastFeature_]);n.forEach(function(y){var B=y.getGeometry();B.translate(a,e);y.setGeometry(B)});this.lastCoordinate_=f;this.dispatchEvent(new u("translating",n,f,this.startCoordinate_,d))}};g.prototype.handleMoveEvent=function(d){var f=d.map.getViewport();this.featuresAtPixel_(d.pixel,d.map)?(f.classList.remove(this.lastCoordinate_?"ol-grab":
"ol-grabbing"),f.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):f.classList.remove("ol-grab","ol-grabbing")};g.prototype.featuresAtPixel_=function(d,f){return f.forEachFeatureAtPixel(d,function(a,e){if(this.filter_(a,e)&&(!this.features_||(0,x.includes)(this.features_.getArray(),a)))return a}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};g.prototype.getHitTolerance=function(){return this.hitTolerance_};g.prototype.setHitTolerance=function(d){this.hitTolerance_=
d};g.prototype.setMap=function(d){var f=this.getMap();m.prototype.setMap.call(this,d);this.updateState_(f)};g.prototype.handleActiveChanged_=function(){this.updateState_(null)};g.prototype.updateState_=function(d){var f=this.getMap(),a=this.getActive();f&&a||(f=f||d)&&f.getViewport().classList.remove("ol-grab","ol-grabbing")};return g}(rb["default"]);E["default"]=A};
shadow$provide[247]=function(Ja,A,rb,E){function k(K){return K&&K.__esModule?K:{"default":K}}Object.defineProperty(E,"__esModule",{value:!0});E.defaults=function(K){K=K?K:{};var R=new l["default"],T=new m["default"](-.005,.05,100);(void 0!==K.altShiftDragRotate?K.altShiftDragRotate:1)&&R.push(new N["default"]);(void 0!==K.doubleClickZoom?K.doubleClickZoom:1)&&R.push(new w["default"]({delta:K.zoomDelta,duration:K.zoomDuration}));(void 0!==K.dragPan?K.dragPan:1)&&R.push(new H["default"]({onFocusOnly:K.onFocusOnly,
kinetic:T}));(void 0!==K.pinchRotate?K.pinchRotate:1)&&R.push(new d["default"]);(void 0!==K.pinchZoom?K.pinchZoom:1)&&R.push(new f["default"]({duration:K.zoomDuration}));if(void 0!==K.keyboard?K.keyboard:1)R.push(new v["default"]),R.push(new u["default"]({delta:K.zoomDelta,duration:K.zoomDuration}));(void 0!==K.mouseWheelZoom?K.mouseWheelZoom:1)&&R.push(new g["default"]({onFocusOnly:K.onFocusOnly,duration:K.zoomDuration}));(void 0!==K.shiftDragZoom?K.shiftDragZoom:1)&&R.push(new x["default"]({duration:K.zoomDuration}));
return R};Object.defineProperty(E,"DoubleClickZoom",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"DragPan",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"DragRotate",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,"DragZoom",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"KeyboardPan",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"KeyboardZoom",{enumerable:!0,
get:function(){return u["default"]}});Object.defineProperty(E,"MouseWheelZoom",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"PinchRotate",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(E,"PinchZoom",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(E,"DragAndDrop",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(E,"DragBox",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(E,
"DragRotateAndZoom",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Draw",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"Extent",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(E,"Interaction",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(E,"Modify",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,"Pointer",{enumerable:!0,get:function(){return M["default"]}});
Object.defineProperty(E,"Select",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"Snap",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(E,"Translate",{enumerable:!0,get:function(){return G["default"]}});var l=k(A(105)),w=k(A(169)),H=k(A(172)),N=k(A(173)),x=k(A(176)),v=k(A(178)),u=k(A(179)),m=k(A(180)),g=k(A(181)),d=k(A(182)),f=k(A(183)),a=k(A(185)),e=k(A(175)),n=k(A(186)),y=k(A(241)),B=k(A(242)),D=k(A(168)),O=k(A(243)),M=k(A(170)),F=k(A(244)),
z=k(A(245)),G=k(A(246))};
shadow$provide[248]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(103));Ja=k(A(153));var w=A(84),H=A(166),N=A(247),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);
u.prototype=null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m){m=(0,w.assign)({},m);m.controls||(m.controls=(0,H.defaults)());m.interactions||(m.interactions=(0,N.defaults)({onFocusOnly:!0}));return v.call(this,m)||this}x(u,v);u.prototype.createRenderer=function(){return new l["default"](this)};return u}(Ja["default"]);E["default"]=A};
shadow$provide[249]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}function l(u){for(var m=[],g=0,d=u.length;g<d;++g)m.push(u[g].clone());return m}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(86));Ja=k(A(135));var H=k(A(117)),N=A(78),x=A(87),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};
return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=u.call(this)||this;d.geometries_=g?g:null;d.changeEventsKeys_=[];d.listenGeometriesChange_();return d}v(m,u);m.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(x.unlistenByKey);this.changeEventsKeys_.length=0};m.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var g=0,
d=this.geometries_.length;g<d;++g)this.changeEventsKeys_.push((0,x.listen)(this.geometries_[g],w["default"].CHANGE,this.changed,this))};m.prototype.clone=function(){var g=new m(null);g.setGeometries(this.geometries_);g.applyProperties(this);return g};m.prototype.closestPointXY=function(g,d,f,a){if(a<(0,N.closestSquaredDistanceXY)(this.getExtent(),g,d))return a;for(var e=this.geometries_,n=0,y=e.length;n<y;++n)a=e[n].closestPointXY(g,d,f,a);return a};m.prototype.containsXY=function(g,d){for(var f=
this.geometries_,a=0,e=f.length;a<e;++a)if(f[a].containsXY(g,d))return!0;return!1};m.prototype.computeExtent=function(g){(0,N.createOrUpdateEmpty)(g);for(var d=this.geometries_,f=0,a=d.length;f<a;++f)(0,N.extend)(g,d[f].getExtent());return g};m.prototype.getGeometries=function(){return l(this.geometries_)};m.prototype.getGeometriesArray=function(){return this.geometries_};m.prototype.getGeometriesArrayRecursive=function(){for(var g=[],d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].getType()===this.getType()?
g=g.concat(d[f].getGeometriesArrayRecursive()):g.push(d[f]);return g};m.prototype.getSimplifiedGeometry=function(g){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>g||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&g<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var d=[],f=this.geometries_,a=!1,e=0,n=f.length;e<n;++e){var y=f[e],B=y.getSimplifiedGeometry(g);d.push(B);
B!==y&&(a=!0)}if(a)return g=new m(null),g.setGeometriesArray(d),g;this.simplifiedGeometryMaxMinSquaredTolerance=g;return this};m.prototype.getType=function(){return H["default"].GEOMETRY_COLLECTION};m.prototype.intersectsExtent=function(g){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)if(d[f].intersectsExtent(g))return!0;return!1};m.prototype.isEmpty=function(){return 0===this.geometries_.length};m.prototype.rotate=function(g,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].rotate(g,
d);this.changed()};m.prototype.scale=function(g,d,f){f||(f=(0,N.getCenter)(this.getExtent()));for(var a=this.geometries_,e=0,n=a.length;e<n;++e)a[e].scale(g,d,f);this.changed()};m.prototype.setGeometries=function(g){this.setGeometriesArray(l(g))};m.prototype.setGeometriesArray=function(g){this.unlistenGeometriesChange_();this.geometries_=g;this.listenGeometriesChange_();this.changed()};m.prototype.applyTransform=function(g){for(var d=this.geometries_,f=0,a=d.length;f<a;++f)d[f].applyTransform(g);
this.changed()};m.prototype.translate=function(g,d){for(var f=this.geometries_,a=0,e=f.length;a<e;++a)f[a].translate(g,d);this.changed()};m.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();u.prototype.disposeInternal.call(this)};return m}(Ja["default"]);E["default"]=A};
shadow$provide[250]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.transformGeometryWithOptions=function(N,x,v){var u=v?(0,H.get)(v.featureProjection):null,m=v?(0,H.get)(v.dataProjection):null;u=u&&m&&!(0,H.equivalent)(u,m)?(x?N.clone():N).transform(x?u:m,x?m:u):N;if(x&&v&&void 0!==v.decimals){var g=Math.pow(10,v.decimals);u===N&&(u=N.clone());u.applyTransform(function(d){for(var f=0,a=d.length;f<a;++f)d[f]=Math.round(d[f]*g)/g;return d})}return u};E.transformExtentWithOptions=
function(N,x){var v=x?(0,H.get)(x.featureProjection):null;x=x?(0,H.get)(x.dataProjection):null;return v&&x&&!(0,H.equivalent)(v,x)?(0,H.transformExtent)(N,x,v):N};E["default"]=void 0;var k=function(N){return N&&N.__esModule?N:{"default":N}}(A(118)),l=A(72),w=A(84),H=A(128);Ja=function(){function N(){this.defaultFeatureProjection=this.dataProjection=null}N.prototype.getReadOptions=function(x,v){if(v){x=v.dataProjection?(0,H.get)(v.dataProjection):this.readProjection(x);v.extent&&x&&x.getUnits()===
k["default"].TILE_PIXELS&&(x=(0,H.get)(x),x.setWorldExtent(v.extent));var u={dataProjection:x,featureProjection:v.featureProjection}}return this.adaptOptions(u)};N.prototype.adaptOptions=function(x){return(0,w.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},x)};N.prototype.getType=function(){return(0,l["abstract"])()};N.prototype.readFeature=function(x,v){return(0,l["abstract"])()};N.prototype.readFeatures=function(x,v){return(0,l["abstract"])()};N.prototype.readGeometry=
function(x,v){return(0,l["abstract"])()};N.prototype.readProjection=function(x){return(0,l["abstract"])()};N.prototype.writeFeature=function(x,v){return(0,l["abstract"])()};N.prototype.writeFeatures=function(x,v){return(0,l["abstract"])()};N.prototype.writeGeometry=function(x,v){return(0,l["abstract"])()};return N}();E["default"]=Ja};
shadow$provide[251]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}function l(x){return"string"===typeof x?x:""}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(250));var w=k(A(184)),H=A(72),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=
v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(){return x.call(this)||this}N(v,x);v.prototype.getType=function(){return w["default"].TEXT};v.prototype.readFeature=function(u,m){return this.readFeatureFromText(l(u),this.adaptOptions(m))};v.prototype.readFeatureFromText=function(u,m){return(0,H["abstract"])()};v.prototype.readFeatures=function(u,m){return this.readFeaturesFromText(l(u),this.adaptOptions(m))};v.prototype.readFeaturesFromText=
function(u,m){return(0,H["abstract"])()};v.prototype.readGeometry=function(u,m){return this.readGeometryFromText(l(u),this.adaptOptions(m))};v.prototype.readGeometryFromText=function(u,m){return(0,H["abstract"])()};v.prototype.readProjection=function(u){return this.readProjectionFromText(l(u))};v.prototype.readProjectionFromText=function(u){return this.dataProjection};v.prototype.writeFeature=function(u,m){return this.writeFeatureText(u,this.adaptOptions(m))};v.prototype.writeFeatureText=function(u,
m){return(0,H["abstract"])()};v.prototype.writeFeatures=function(u,m){return this.writeFeaturesText(u,this.adaptOptions(m))};v.prototype.writeFeaturesText=function(u,m){return(0,H["abstract"])()};v.prototype.writeGeometry=function(u,m){return this.writeGeometryText(u,this.adaptOptions(m))};v.prototype.writeGeometryText=function(u,m){return(0,H["abstract"])()};return v}(Ja["default"]);E["default"]=A};
shadow$provide[252]=function(Ja,A,rb,E){function k(z){return z&&z.__esModule?z:{"default":z}}function l(z){z=z.getCoordinates();return 0===z.length?"":z.join(" ")}function w(z){z=z.getCoordinates();for(var G=[],K=0,R=z.length;K<R;++K)G.push(z[K].join(" "));return G.join(",")}function H(z){var G=[];z=z.getLinearRings();for(var K=0,R=z.length;K<R;++K)G.push("("+w(z[K])+")");return G.join(",")}function N(z){var G=z.getType(),K=(0,F[G])(z);G=G.toUpperCase();if("function"===typeof z.getFlatCoordinates){z=
z.getLayout();var R="";if(z===u["default"].XYZ||z===u["default"].XYZM)R+="Z";if(z===u["default"].XYM||z===u["default"].XYZM)R+="M";z=R;0<z.length&&(G+=" "+z)}return 0===K.length?G+" EMPTY":G+"("+K+")"}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=k(A(188)),v=k(A(249)),u=k(A(133)),m=k(A(117));Ja=k(A(191));rb=k(A(192));var g=k(A(193)),d=k(A(195)),f=k(A(143)),a=k(A(150)),e=k(A(251)),n=A(250),y=function(){var z=function(G,K){z=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(R,T){R.__proto__=T}||function(R,T){for(var ja in T)Object.prototype.hasOwnProperty.call(T,ja)&&(R[ja]=T[ja])};return z(G,K)};return function(G,K){function R(){this.constructor=G}z(G,K);G.prototype=null===K?Object.create(K):(R.prototype=K.prototype,new R)}}(),B={POINT:f["default"],LINESTRING:Ja["default"],POLYGON:a["default"],MULTIPOINT:g["default"],MULTILINESTRING:rb["default"],MULTIPOLYGON:d["default"]},D;for(D in m["default"])m["default"][D].toUpperCase();var O=function(){function z(G){this.wkt=
G;this.index_=-1}z.prototype.isAlpha_=function(G){return"a"<=G&&"z">=G||"A"<=G&&"Z">=G};z.prototype.isNumeric_=function(G,K){return"0"<=G&&"9">=G||"."==G&&!(void 0!==K&&K)};z.prototype.isWhiteSpace_=function(G){return" "==G||"\t"==G||"\r"==G||"\n"==G};z.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};z.prototype.nextToken=function(){var G=this.nextChar_(),K=this.index_,R=G;if("("==G)G=2;else if(","==G)G=5;else if(")"==G)G=3;else if(this.isNumeric_(G)||"-"==G)G=4,R=this.readNumber_();
else if(this.isAlpha_(G))G=1,R=this.readText_();else{if(this.isWhiteSpace_(G))return this.nextToken();if(""===G)G=6;else throw Error("Unexpected character: "+G);}return{position:K,value:R,type:G}};z.prototype.readNumber_=function(){var G=this.index_,K=!1,R=!1;do{if("."==T)K=!0;else if("e"==T||"E"==T)R=!0;var T=this.nextChar_()}while(this.isNumeric_(T,K)||!R&&("e"==T||"E"==T)||R&&("-"==T||"+"==T));return parseFloat(this.wkt.substring(G,this.index_--))};z.prototype.readText_=function(){var G=this.index_;
do var K=this.nextChar_();while(this.isAlpha_(K));return this.wkt.substring(G,this.index_--).toUpperCase()};return z}(),M=function(){function z(G){this.lexer_=G;this.layout_=u["default"].XY}z.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};z.prototype.isTokenType=function(G){return this.token_.type==G};z.prototype.match=function(G){(G=this.isTokenType(G))&&this.consume_();return G};z.prototype.parse=function(){this.consume_();return this.parseGeometry_()};z.prototype.parseGeometryLayout_=
function(){var G=u["default"].XY,K=this.token_;this.isTokenType(1)&&(K=K.value,"Z"===K?G=u["default"].XYZ:"M"===K?G=u["default"].XYM:"ZM"===K&&(G=u["default"].XYZM),G!==u["default"].XY&&this.consume_());return G};z.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var G=[];do G.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePointText_=function(){if(this.match(2)){var G=
this.parsePoint_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return null;throw Error(this.formatErrorMessage_());};z.prototype.parseLineStringText_=function(){if(this.match(2)){var G=this.parsePointList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePolygonText_=function(){if(this.match(2)){var G=this.parseLineStringTextList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());
};z.prototype.parseMultiPointText_=function(){if(this.match(2)){var G=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var G=this.parseLineStringTextList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var G=
this.parsePolygonTextList_();if(this.match(3))return G}else if(this.isEmptyGeometry_())return[];throw Error(this.formatErrorMessage_());};z.prototype.parsePoint_=function(){for(var G=[],K=this.layout_.length,R=0;R<K;++R){var T=this.token_;if(this.match(4))G.push(T.value);else break}if(G.length==K)return G;throw Error(this.formatErrorMessage_());};z.prototype.parsePointList_=function(){for(var G=[this.parsePoint_()];this.match(5);)G.push(this.parsePoint_());return G};z.prototype.parsePointTextList_=
function(){for(var G=[this.parsePointText_()];this.match(5);)G.push(this.parsePointText_());return G};z.prototype.parseLineStringTextList_=function(){for(var G=[this.parseLineStringText_()];this.match(5);)G.push(this.parseLineStringText_());return G};z.prototype.parsePolygonTextList_=function(){for(var G=[this.parsePolygonText_()];this.match(5);)G.push(this.parsePolygonText_());return G};z.prototype.isEmptyGeometry_=function(){var G=this.isTokenType(1)&&"EMPTY"==this.token_.value;G&&this.consume_();
return G};z.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};z.prototype.parseGeometry_=function(){var G=this.token_;if(this.match(1)){var K=G.value;this.layout_=this.parseGeometryLayout_();if("GEOMETRYCOLLECTION"==K)return G=this.parseGeometryCollectionText_(),new v["default"](G);G=B[K];if(!G)throw Error("Invalid geometry type: "+K);switch(K){case "POINT":K=this.parsePointText_();break;case "LINESTRING":K=
this.parseLineStringText_();break;case "POLYGON":K=this.parsePolygonText_();break;case "MULTIPOINT":K=this.parseMultiPointText_();break;case "MULTILINESTRING":K=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":K=this.parseMultiPolygonText_();break;default:throw Error("Invalid geometry type: "+K);}K||(K=G===B.POINT?[NaN,NaN]:[]);return new G(K,this.layout_)}throw Error(this.formatErrorMessage_());};return z}();A=function(z){function G(K){var R=z.call(this)||this;K=K?K:{};R.splitCollection_=
void 0!==K.splitCollection?K.splitCollection:!1;return R}y(G,z);G.prototype.parse_=function(K){K=new O(K);return(new M(K)).parse()};G.prototype.readFeatureFromText=function(K,R){return(K=this.readGeometryFromText(K,R))?(R=new x["default"],R.setGeometry(K),R):null};G.prototype.readFeaturesFromText=function(K,R){K=this.readGeometryFromText(K,R);K=this.splitCollection_&&K.getType()==m["default"].GEOMETRY_COLLECTION?K.getGeometriesArray():[K];R=[];for(var T=0,ja=K.length;T<ja;++T){var fa=new x["default"];
fa.setGeometry(K[T]);R.push(fa)}return R};G.prototype.readGeometryFromText=function(K,R){return(K=this.parse_(K))?(0,n.transformGeometryWithOptions)(K,!1,R):null};G.prototype.writeFeatureText=function(K,R){return(K=K.getGeometry())?this.writeGeometryText(K,R):""};G.prototype.writeFeaturesText=function(K,R){if(1==K.length)return this.writeFeatureText(K[0],R);for(var T=[],ja=0,fa=K.length;ja<fa;++ja)T.push(K[ja].getGeometry());K=new v["default"](T);return this.writeGeometryText(K,R)};G.prototype.writeGeometryText=
function(K,R){return N((0,n.transformGeometryWithOptions)(K,!0,R))};return G}(e["default"]);var F={Point:l,LineString:w,Polygon:H,MultiPoint:function(z){var G=[];z=z.getPoints();for(var K=0,R=z.length;K<R;++K)G.push("("+l(z[K])+")");return G.join(",")},MultiLineString:function(z){var G=[];z=z.getLineStrings();for(var K=0,R=z.length;K<R;++K)G.push("("+w(z[K])+")");return G.join(",")},MultiPolygon:function(z){var G=[];z=z.getPolygons();for(var K=0,R=z.length;K<R;++K)G.push("("+H(z[K])+")");return G.join(",")},
GeometryCollection:function(z){var G=[];z=z.getGeometries();for(var K=0,R=z.length;K<R;++K)G.push(N(z[K]));return G.join(",")}};E["default"]=A};
shadow$provide[253]=function(Ja,A,rb,E){function k(v){return v&&v.__esModule?v:{"default":v}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(85));var l=k(A(86)),w=k(A(115)),H=A(72),N=A(132),x=function(){var v=function(u,m){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(g[f]=d[f])};return v(u,m)};return function(u,m){function g(){this.constructor=u}v(u,m);u.prototype=
null===m?Object.create(m):(g.prototype=m.prototype,new g)}}();A=function(v){function u(m,g,d){var f=v.call(this)||this;d=d?d:{};f.tileCoord=m;f.state=g;f.interimTile=null;f.hifi=!0;f.key="";f.transition_=void 0===d.transition?250:d.transition;f.transitionStarts_={};return f}x(u,v);u.prototype.changed=function(){this.dispatchEvent(l["default"].CHANGE)};u.prototype.release=function(){};u.prototype.getKey=function(){return this.key+"/"+this.tileCoord};u.prototype.getInterimTile=function(){if(!this.interimTile)return this;
var m=this.interimTile;do{if(m.getState()==w["default"].LOADED)return this.transition_=0,m;m=m.interimTile}while(m);return this};u.prototype.refreshInterimChain=function(){if(this.interimTile){var m=this.interimTile,g=this;do{if(m.getState()==w["default"].LOADED){m.interimTile=null;break}else m.getState()==w["default"].LOADING?g=m:m.getState()==w["default"].IDLE?g.interimTile=m.interimTile:g=m;m=g.interimTile}while(m)}};u.prototype.getTileCoord=function(){return this.tileCoord};u.prototype.getState=
function(){return this.state};u.prototype.setState=function(m){if(this.state!==w["default"].ERROR&&this.state>m)throw Error("Tile load sequence violation");this.state=m;this.changed()};u.prototype.load=function(){(0,H["abstract"])()};u.prototype.getAlpha=function(m,g){if(!this.transition_)return 1;var d=this.transitionStarts_[m];if(!d)d=g,this.transitionStarts_[m]=d;else if(-1===d)return 1;m=g-d+1E3/60;return m>=this.transition_?1:(0,N.easeIn)(m/this.transition_)};u.prototype.inTransition=function(m){return this.transition_?
-1!==this.transitionStarts_[m]:!1};u.prototype.endTransition=function(m){this.transition_&&(this.transitionStarts_[m]=-1)};return u}(Ja["default"]);E["default"]=A};
shadow$provide[254]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(253));var l=k(A(115)),w=A(101),H=A(226),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=
null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u,m,g,d,f,a){u=x.call(this,u,m,a)||this;u.crossOrigin_=d;u.src_=g;u.key=g;u.image_=new Image;null!==d&&(u.image_.crossOrigin=d);u.unlisten_=null;u.tileLoadFunction_=f;return u}N(v,x);v.prototype.getImage=function(){return this.image_};v.prototype.handleImageError_=function(){this.state=l["default"].ERROR;this.unlistenImage_();var u=(0,w.createCanvasContext2D)(1,1);u.fillStyle="rgba(0,0,0,0)";u.fillRect(0,0,1,1);
this.image_=u.canvas;this.changed()};v.prototype.handleImageLoad_=function(){var u=this.image_;this.state=u.naturalWidth&&u.naturalHeight?l["default"].LOADED:l["default"].EMPTY;this.unlistenImage_();this.changed()};v.prototype.load=function(){this.state==l["default"].ERROR&&(this.state=l["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),this.tileLoadFunction_(this,
this.src_),this.unlisten_=(0,H.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};v.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return v}(Ja["default"]);E["default"]=A};
shadow$provide[255]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.ERROR_THRESHOLD=.5;E.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[256]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(78),l=A(128),w=A(79);Ja=function(){function H(N,x,v,u,m,g){this.sourceProj_=N;this.targetProj_=x;var d={},f=(0,l.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(D){var O=D[0]+"/"+D[1];d[O]||(d[O]=f(D));return d[O]};this.maxSourceExtent_=u;this.errorThresholdSquared_=m*m;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!u&&!!this.sourceProj_.getExtent()&&(0,k.getWidth)(u)==(0,k.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,k.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,k.getWidth)(this.targetProj_.getExtent()):null;N=(0,k.getTopLeft)(v);x=(0,k.getTopRight)(v);u=(0,k.getBottomRight)(v);m=(0,k.getBottomLeft)(v);var a=this.transformInv_(N),e=this.transformInv_(x),n=this.transformInv_(u),y=this.transformInv_(m);
v=10+(g?Math.max(0,Math.ceil((0,w.log2)((0,k.getArea)(v)/(g*g*65536)))):0);this.addQuad_(N,x,u,m,a,e,n,y,v);if(this.wrapsXInSource_){var B=Infinity;this.triangles_.forEach(function(D,O,M){B=Math.min(B,D.source[0][0],D.source[1][0],D.source[2][0])});this.triangles_.forEach(function(D){if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-B>this.sourceWorldWidth_/2){var O=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];O[0][0]-B>this.sourceWorldWidth_/
2&&(O[0][0]-=this.sourceWorldWidth_);O[1][0]-B>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_);O[2][0]-B>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);Math.max(O[0][0],O[1][0],O[2][0])-Math.min(O[0][0],O[1][0],O[2][0])<this.sourceWorldWidth_/2&&(D.source=O)}}.bind(this))}d={}}H.prototype.addTriangle_=function(N,x,v,u,m,g){this.triangles_.push({source:[u,m,g],target:[N,x,v]})};H.prototype.addQuad_=function(N,x,v,u,m,g,d,f,a){var e=(0,k.boundingExtent)([m,g,d,f]),n=this.sourceWorldWidth_?
(0,k.getWidth)(e)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,B=this.sourceProj_.canWrapX()&&.5<n&&1>n,D=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var O=(0,k.boundingExtent)([N,x,v,u]);D=.25<(0,k.getWidth)(O)/this.targetWorldWidth_||D}!B&&this.sourceProj_.isGlobal()&&n&&(D=.25<n||D)}if(D||!this.maxSourceExtent_||!(isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(e[3]))||(0,k.intersects)(e,this.maxSourceExtent_)){e=0;if(!(D||isFinite(m[0])&&isFinite(m[1])&&
isFinite(g[0])&&isFinite(g[1])&&isFinite(d[0])&&isFinite(d[1])&&isFinite(f[0])&&isFinite(f[1])))if(0<a)D=!0;else if(e=(isFinite(m[0])&&isFinite(m[1])?0:8)+(isFinite(g[0])&&isFinite(g[1])?0:4)+(isFinite(d[0])&&isFinite(d[1])?0:2)+(isFinite(f[0])&&isFinite(f[1])?0:1),1!=e&&2!=e&&4!=e&&8!=e)return;if(0<a&&(D||(D=this.transformInv_([(N[0]+v[0])/2,(N[1]+v[1])/2]),y=B?((0,w.modulo)(m[0],y)+(0,w.modulo)(d[0],y))/2-(0,w.modulo)(D[0],y):(m[0]+d[0])/2-D[0],D=(m[1]+d[1])/2-D[1],D=y*y+D*D>this.errorThresholdSquared_),
D)){Math.abs(N[0]-v[0])<=Math.abs(N[1]-v[1])?(B=[(x[0]+v[0])/2,(x[1]+v[1])/2],y=this.transformInv_(B),D=[(u[0]+N[0])/2,(u[1]+N[1])/2],e=this.transformInv_(D),this.addQuad_(N,x,B,D,m,g,y,e,a-1),this.addQuad_(D,B,v,u,e,y,d,f,a-1)):(B=[(N[0]+x[0])/2,(N[1]+x[1])/2],y=this.transformInv_(B),D=[(v[0]+u[0])/2,(v[1]+u[1])/2],e=this.transformInv_(D),this.addQuad_(N,B,D,u,m,y,e,f,a-1),this.addQuad_(B,x,v,D,y,g,d,e,a-1));return}if(B){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(e&11)&&this.addTriangle_(N,
v,u,m,d,f);0==(e&14)&&this.addTriangle_(N,v,x,m,d,g);e&&(0==(e&13)&&this.addTriangle_(x,u,N,g,f,m),0==(e&7)&&this.addTriangle_(x,u,v,g,f,d))}};H.prototype.calculateSourceExtent=function(){var N=(0,k.createEmpty)();this.triangles_.forEach(function(x,v,u){x=x.source;(0,k.extendCoordinate)(N,x[0]);(0,k.extendCoordinate)(N,x[1]);(0,k.extendCoordinate)(N,x[2])});return N};H.prototype.getTriangles=function(){return this.triangles_};return H}();E["default"]=Ja};
shadow$provide[257]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.DEFAULT_WMS_VERSION="1.3.0";E.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1}};
shadow$provide[258]=function(Ja,A,rb,E){function k(d,f,a,e,n){d.beginPath();d.moveTo(0,0);d.lineTo(f,a);d.lineTo(e,n);d.closePath();d.save();d.clip();d.fillRect(0,0,Math.max(f,e)+1,Math.max(a,n));d.restore()}function l(d,f){return 2<Math.abs(d[4*f]-210)||2<Math.abs(d[4*f+3]-191.25)}function w(d,f,a,e){var n=(0,u.transform)(a,f,d);a=(0,u.getPointResolution)(f,e,a);f=f.getMetersPerUnit();void 0!==f&&(a*=f);f=d.getMetersPerUnit();void 0!==f&&(a/=f);f=d.getExtent();if(!f||(0,x.containsCoordinate)(f,n))d=
(0,u.getPointResolution)(d,a,n)/a,isFinite(d)&&0<d&&(a/=d);return a}Object.defineProperty(E,"__esModule",{value:!0});E.calculateSourceResolution=w;E.calculateSourceExtentResolution=function(d,f,a,e){var n=(0,x.getCenter)(a),y=w(d,f,n,e);(!isFinite(y)||0>=y)&&(0,x.forEachCorner)(a,function(B){y=w(d,f,B,e);return isFinite(y)&&0<y});return y};E.render=function(d,f,a,e,n,y,B,D,O,M,F,z){function G(ha){return Math.round(ha*a)/a}var K=(0,v.createCanvasContext2D)(Math.round(a*d),Math.round(a*f));(0,N.assign)(K,
z);if(0===O.length)return K.canvas;K.scale(a,a);K.globalCompositeOperation="lighter";var R=(0,x.createEmpty)();O.forEach(function(ha,la,Z){(0,x.extend)(R,ha.extent)});d=(0,x.getWidth)(R);f=(0,x.getHeight)(R);var T=(0,v.createCanvasContext2D)(Math.round(a*d/e),Math.round(a*f/e));(0,N.assign)(T,z);var ja=a/e;O.forEach(function(ha,la,Z){la=ha.extent[0]-R[0];Z=-(ha.extent[3]-R[3]);var P=(0,x.getWidth)(ha.extent),C=(0,x.getHeight)(ha.extent);0<ha.image.width&&0<ha.image.height&&T.drawImage(ha.image,M,
M,ha.image.width-2*M,ha.image.height-2*M,la*ja,Z*ja,P*ja,C*ja)});var fa=(0,x.getTopLeft)(B);D.getTriangles().forEach(function(ha,la,Z){Z=ha.source;var P=ha.target;ha=Z[0][0];la=Z[0][1];var C=Z[1][0],V=Z[1][1],ia=Z[2][0],aa=Z[2][1];Z=G((P[0][0]-fa[0])/y);var ya=G(-(P[0][1]-fa[1])/y),va=G((P[1][0]-fa[0])/y),Ia=G(-(P[1][1]-fa[1])/y),bb=G((P[2][0]-fa[0])/y);P=G(-(P[2][1]-fa[1])/y);C-=ha;V-=la;ia-=ha;aa-=la;C=[[C,V,0,0,va-Z],[ia,aa,0,0,bb-Z],[0,0,C,V,Ia-ya],[0,0,ia,aa,P-ya]];if(C=(0,m.solveLinearSystem)(C)){K.save();
K.beginPath();void 0===g&&(V=document.createElement("canvas").getContext("2d"),V.globalCompositeOperation="lighter",V.fillStyle="rgba(210, 0, 0, 0.75)",k(V,4,5,4,0),k(V,4,5,0,5),V=V.getImageData(0,0,3,3).data,g=l(V,0)||l(V,4)||l(V,8));if(g||z===H.IMAGE_SMOOTHING_DISABLED)for(K.moveTo(va,Ia),V=Z-va,ia=ya-Ia,aa=0;4>aa;aa++)K.lineTo(va+G((aa+1)*V/4),Ia+G(aa*ia/3)),3!=aa&&K.lineTo(va+G((aa+1)*V/4),Ia+G((aa+1)*ia/3));else K.moveTo(va,Ia),K.lineTo(Z,ya);K.lineTo(bb,P);K.clip();K.transform(C[0],C[2],C[1],
C[3],Z,ya);K.translate(R[0]-ha,R[3]-la);K.scale(e/a,-e/a);K.drawImage(T.canvas,0,0);K.restore()}});F&&(K.save(),K.globalCompositeOperation="source-over",K.strokeStyle="black",K.lineWidth=1,D.getTriangles().forEach(function(ha,la,Z){var P=ha.target;ha=(P[0][0]-fa[0])/y;la=-(P[0][1]-fa[1])/y;Z=(P[1][0]-fa[0])/y;var C=-(P[1][1]-fa[1])/y,V=(P[2][0]-fa[0])/y;P=-(P[2][1]-fa[1])/y;K.beginPath();K.moveTo(Z,C);K.lineTo(ha,la);K.lineTo(V,P);K.closePath();K.stroke()}),K.restore());return K.canvas};var H=A(257),
N=A(84),x=A(78),v=A(101),u=A(128),m=A(79),g};
shadow$provide[259]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=A(255),w=k(A(86));Ja=k(A(253));var H=k(A(115)),N=k(A(256)),x=A(258),v=A(79),u=A(78),m=A(87),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a,e,n,y,B,D,O,M,F,z,G,K){var R=d.call(this,B,H["default"].IDLE)||this;R.renderEdges_=void 0!==G?G:!1;R.contextOptions_=K;R.pixelRatio_=O;R.gutter_=M;R.canvas_=null;R.sourceTileGrid_=e;R.targetTileGrid_=y;R.wrappedTileCoord_=D?D:B;R.sourceTiles_=[];R.sourcesListenerKeys_=null;R.sourceZ_=0;D=y.getTileCoordExtent(R.wrappedTileCoord_);M=R.targetTileGrid_.getExtent();B=R.sourceTileGrid_.getExtent();
D=M?(0,u.getIntersection)(D,M):D;if(0===(0,u.getArea)(D))return R.state=H["default"].EMPTY,R;(M=a.getExtent())&&(B=B?(0,u.getIntersection)(B,M):M);y=y.getResolution(R.wrappedTileCoord_[0]);M=(0,x.calculateSourceExtentResolution)(a,n,D,y);if(!isFinite(M)||0>=M)return R.state=H["default"].EMPTY,R;R.triangulation_=new N["default"](a,n,D,B,M*(void 0!==z?z:l.ERROR_THRESHOLD),y);if(0===R.triangulation_.getTriangles().length)return R.state=H["default"].EMPTY,R;R.sourceZ_=e.getZForResolution(M);n=R.triangulation_.calculateSourceExtent();
B&&(a.canWrapX()?(n[1]=(0,v.clamp)(n[1],B[1],B[3]),n[3]=(0,v.clamp)(n[3],B[1],B[3])):n=(0,u.getIntersection)(n,B));if((0,u.getArea)(n)){a=e.getTileRangeForExtentAndZ(n,R.sourceZ_);for(e=a.minX;e<=a.maxX;e++)for(n=a.minY;n<=a.maxY;n++)(z=F(R.sourceZ_,e,n,O))&&R.sourceTiles_.push(z);0===R.sourceTiles_.length&&(R.state=H["default"].EMPTY)}else R.state=H["default"].EMPTY;return R}g(f,d);f.prototype.getImage=function(){return this.canvas_};f.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(O,
M,F){O&&O.getState()==H["default"].LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(O.tileCoord),image:O.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=H["default"].ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),y="number"===typeof n?n:n[0];n="number"===typeof n?n:n[1];e=this.targetTileGrid_.getResolution(e);var B=this.sourceTileGrid_.getResolution(this.sourceZ_),D=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);
this.canvas_=(0,x.render)(y,n,this.pixelRatio_,B,this.sourceTileGrid_.getExtent(),e,D,this.triangulation_,a,this.gutter_,this.renderEdges_,this.contextOptions_);this.state=H["default"].LOADED}this.changed()};f.prototype.load=function(){if(this.state==H["default"].IDLE){this.state=H["default"].LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,n,y){n=e.getState();if(n==H["default"].IDLE||n==H["default"].LOADING){a++;var B=(0,m.listen)(e,w["default"].CHANGE,
function(D){D=e.getState();if(D==H["default"].LOADED||D==H["default"].ERROR||D==H["default"].EMPTY)(0,m.unlistenByKey)(B),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(B)}}.bind(this));this.sourceTiles_.forEach(function(e,n,y){e.getState()==H["default"].IDLE&&e.load()});0===a&&setTimeout(this.reproject_.bind(this),0)}};f.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(m.unlistenByKey);this.sourcesListenerKeys_=null};return f}(Ja["default"]);
E["default"]=A};
shadow$provide[260]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(74);Ja=function(){function l(w){this.highWaterMark=void 0!==w?w:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}l.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};l.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null};l.prototype.containsKey=function(w){return this.entries_.hasOwnProperty(w)};
l.prototype.forEach=function(w){for(var H=this.oldest_;H;)w(H.value_,H.key_,this),H=H.newer};l.prototype.get=function(w,H){w=this.entries_[w];(0,k.assert)(void 0!==w,15);if(w===this.newest_)return w.value_;w===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(w.newer.older=w.older,w.older.newer=w.newer);w.newer=null;w.older=this.newest_;this.newest_=this.newest_.newer=w;return w.value_};l.prototype.remove=function(w){var H=this.entries_[w];(0,k.assert)(void 0!==H,15);if(H===
this.newest_){if(this.newest_=H.older)this.newest_.newer=null}else if(H===this.oldest_){if(this.oldest_=H.newer)this.oldest_.older=null}else H.newer.older=H.older,H.older.newer=H.newer;delete this.entries_[w];--this.count_;return H.value_};l.prototype.getCount=function(){return this.count_};l.prototype.getKeys=function(){var w=Array(this.count_),H=0,N;for(N=this.newest_;N;N=N.older)w[H++]=N.key_;return w};l.prototype.getValues=function(){var w=Array(this.count_),H=0,N;for(N=this.newest_;N;N=N.older)w[H++]=
N.value_;return w};l.prototype.peekLast=function(){return this.oldest_.value_};l.prototype.peekLastKey=function(){return this.oldest_.key_};l.prototype.peekFirstKey=function(){return this.newest_.key_};l.prototype.pop=function(){var w=this.oldest_;delete this.entries_[w.key_];w.newer&&(w.newer.older=null);this.oldest_=w.newer;this.oldest_||(this.newest_=null);--this.count_;return w.value_};l.prototype.replace=function(w,H){this.get(w);this.entries_[w].value_=H};l.prototype.set=function(w,H){(0,k.assert)(!(w in
this.entries_),16);H={key_:w,newer:null,older:this.newest_,value_:H};this.newest_?this.newest_.newer=H:this.oldest_=H;this.newest_=H;this.entries_[w]=H;++this.count_};l.prototype.setSize=function(w){this.highWaterMark=w};return l}();E["default"]=Ja};
shadow$provide[261]=function(Ja,A,rb,E){function k(l,w,H){return l+"/"+w+"/"+H}Object.defineProperty(E,"__esModule",{value:!0});E.createOrUpdate=function(l,w,H,N){return void 0!==N?(N[0]=l,N[1]=w,N[2]=H,N):[l,w,H]};E.getKeyZXY=k;E.getKey=function(l){return k(l[0],l[1],l[2])};E.fromKey=function(l){return l.split("/").map(Number)};E.hash=function(l){return(l[1]<<l[0])+l[2]};E.withinExtentAndZ=function(l,w){var H=l[0],N=l[1];l=l[2];return w.getMinZoom()>H||H>w.getMaxZoom()?!1:(w=w.getFullTileRange(H))?
w.containsXY(N,l):!0}};
shadow$provide[262]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(w){return w&&w.__esModule?w:{"default":w}}(A(260));var k=A(261),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):
(x.prototype=N.prototype,new x)}}();A=function(w){function H(){return null!==w&&w.apply(this,arguments)||this}l(H,w);H.prototype.expireCache=function(N){for(;this.canExpireCache()&&!(this.peekLast().getKey()in N);)this.pop().release()};H.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var N=this.peekFirstKey(),x=(0,k.fromKey)(N)[0];this.forEach(function(v){v.tileCoord[0]!==x&&(this.remove((0,k.getKey)(v.tileCoord)),v.release())}.bind(this))}};return H}(Ja["default"]);E["default"]=
A};
shadow$provide[263]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[264]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createOrUpdate=function(l,w,H,N,x){return void 0!==x?(x.minX=l,x.maxX=w,x.minY=H,x.maxY=N,x):new k(l,w,H,N)};E["default"]=void 0;var k=function(){function l(w,H,N,x){this.minX=w;this.maxX=H;this.minY=N;this.maxY=x}l.prototype.contains=function(w){return this.containsXY(w[1],w[2])};l.prototype.containsTileRange=function(w){return this.minX<=w.minX&&w.maxX<=this.maxX&&this.minY<=w.minY&&w.maxY<=this.maxY};l.prototype.containsXY=
function(w,H){return this.minX<=w&&w<=this.maxX&&this.minY<=H&&H<=this.maxY};l.prototype.equals=function(w){return this.minX==w.minX&&this.minY==w.minY&&this.maxX==w.maxX&&this.maxY==w.maxY};l.prototype.extend=function(w){w.minX<this.minX&&(this.minX=w.minX);w.maxX>this.maxX&&(this.maxX=w.maxX);w.minY<this.minY&&(this.minY=w.minY);w.maxY>this.maxY&&(this.maxY=w.maxY)};l.prototype.getHeight=function(){return this.maxY-this.minY+1};l.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
l.prototype.getWidth=function(){return this.maxX-this.minX+1};l.prototype.intersects=function(w){return this.minX<=w.maxX&&this.maxX>=w.minX&&this.minY<=w.maxY&&this.maxY>=w.minY};return l}();E["default"]=k};
shadow$provide[265]=function(Ja,A,rb,E){function k(f){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return k(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=function(f){if(f&&f.__esModule)return f;if(null===
f||"object"!==k(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var B=n?Object.getOwnPropertyDescriptor(f,y):null;B&&(B.get||B.set)?Object.defineProperty(e,y,B):e[y]=f[y]}e["default"]=f;a&&a.set(f,e);return e}(A(264)),H=A(121),N=A(74),x=A(79),v=A(78),u=A(261),m=A(70),g=A(152),d=[0,0,0];Ja=function(){function f(a){this.minZoom=void 0!==
a.minZoom?a.minZoom:0;this.resolutions_=a.resolutions;(0,N.assert)((0,m.isSorted)(this.resolutions_,function(D,O){return O-D},!0),17);if(!a.origins)for(var e=0,n=this.resolutions_.length-1;e<n;++e)if(!y)var y=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==y){y=void 0;break}this.zoomFactor_=y;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==a.origin?a.origin:null;this.origins_=null;void 0!==a.origins&&(this.origins_=a.origins,(0,N.assert)(this.origins_.length==
this.resolutions_.length,20));var B=a.extent;void 0===B||this.origin_||this.origins_||(this.origin_=(0,v.getTopLeft)(B));(0,N.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;void 0!==a.tileSizes&&(this.tileSizes_=a.tileSizes,(0,N.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==a.tileSize?a.tileSize:this.tileSizes_?null:H.DEFAULT_TILE_SIZE;(0,N.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,
22);this.extent_=void 0!==B?B:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];void 0!==a.sizes?this.fullTileRanges_=a.sizes.map(function(D,O){D=new w["default"](Math.min(0,D[0]),Math.max(D[0]-1,-1),Math.min(0,D[1]),Math.max(D[1]-1,-1));B&&(O=this.getTileRangeForExtentAndZ(B,O),D.minX=Math.max(O.minX,D.minX),D.maxX=Math.min(O.maxX,D.maxX),D.minY=Math.max(O.minY,D.minY),D.maxY=Math.min(O.maxY,D.maxY));return D},this):B&&this.calculateTileRanges_(B)}f.prototype.forEachTileCoord=function(a,e,n){a=
this.getTileRangeForExtentAndZ(a,e);for(var y=a.minX,B=a.maxX;y<=B;++y)for(var D=a.minY,O=a.maxY;D<=O;++D)n([e,y,D])};f.prototype.forEachTileCoordParentTileRange=function(a,e,n,y){var B=null,D=a[0]-1;if(2===this.zoomFactor_){var O=a[1];var M=a[2]}else B=this.getTileCoordExtent(a,y);for(;D>=this.minZoom;){2===this.zoomFactor_?(O=Math.floor(O/2),M=Math.floor(M/2),a=(0,w.createOrUpdate)(O,O,M,M,n)):a=this.getTileRangeForExtentAndZ(B,D,n);if(e(D,a))return!0;--D}return!1};f.prototype.getExtent=function(){return this.extent_};
f.prototype.getMaxZoom=function(){return this.maxZoom};f.prototype.getMinZoom=function(){return this.minZoom};f.prototype.getOrigin=function(a){return this.origin_?this.origin_:this.origins_[a]};f.prototype.getResolution=function(a){return this.resolutions_[a]};f.prototype.getResolutions=function(){return this.resolutions_};f.prototype.getTileCoordChildTileRange=function(a,e,n){if(a[0]<this.maxZoom){if(2===this.zoomFactor_)return n=2*a[1],a=2*a[2],(0,w.createOrUpdate)(n,n+1,a,a+1,e);n=this.getTileCoordExtent(a,
n);return this.getTileRangeForExtentAndZ(n,a[0]+1,e)}return null};f.prototype.getTileRangeExtent=function(a,e,n){var y=this.getOrigin(a),B=this.getResolution(a),D=(0,g.toSize)(this.getTileSize(a),this.tmpSize_);a=y[0]+e.minX*D[0]*B;var O=y[0]+(e.maxX+1)*D[0]*B,M=y[1]+e.minY*D[1]*B;e=y[1]+(e.maxY+1)*D[1]*B;return(0,v.createOrUpdate)(a,M,O,e,n)};f.prototype.getTileRangeForExtentAndZ=function(a,e,n){this.getTileCoordForXYAndZ_(a[0],a[3],e,!1,d);var y=d[1],B=d[2];this.getTileCoordForXYAndZ_(a[2],a[1],
e,!0,d);return(0,w.createOrUpdate)(y,d[1],B,d[2],n)};f.prototype.getTileCoordCenter=function(a){var e=this.getOrigin(a[0]),n=this.getResolution(a[0]),y=(0,g.toSize)(this.getTileSize(a[0]),this.tmpSize_);return[e[0]+(a[1]+.5)*y[0]*n,e[1]-(a[2]+.5)*y[1]*n]};f.prototype.getTileCoordExtent=function(a,e){var n=this.getOrigin(a[0]),y=this.getResolution(a[0]),B=(0,g.toSize)(this.getTileSize(a[0]),this.tmpSize_),D=n[0]+a[1]*B[0]*y;a=n[1]-(a[2]+1)*B[1]*y;n=D+B[0]*y;y=a+B[1]*y;return(0,v.createOrUpdate)(D,
a,n,y,e)};f.prototype.getTileCoordForCoordAndResolution=function(a,e,n){return this.getTileCoordForXYAndResolution_(a[0],a[1],e,!1,n)};f.prototype.getTileCoordForXYAndResolution_=function(a,e,n,y,B){var D=this.getZForResolution(n),O=n/this.getResolution(D),M=this.getOrigin(D),F=(0,g.toSize)(this.getTileSize(D),this.tmpSize_);a=O*Math.floor((a-M[0])/n+(y?.5:0))/F[0];e=O*Math.floor((M[1]-e)/n+(y?.5:0))/F[1];y?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,u.createOrUpdate)(D,
a,e,B)};f.prototype.getTileCoordForXYAndZ_=function(a,e,n,y,B){var D=this.getOrigin(n),O=this.getResolution(n),M=(0,g.toSize)(this.getTileSize(n),this.tmpSize_);a=Math.floor((a-D[0])/O+(y?.5:0))/M[0];e=Math.floor((D[1]-e)/O+(y?.5:0))/M[1];y?(a=Math.ceil(a)-1,e=Math.ceil(e)-1):(a=Math.floor(a),e=Math.floor(e));return(0,u.createOrUpdate)(n,a,e,B)};f.prototype.getTileCoordForCoordAndZ=function(a,e,n){return this.getTileCoordForXYAndZ_(a[0],a[1],e,!1,n)};f.prototype.getTileCoordResolution=function(a){return this.resolutions_[a[0]]};
f.prototype.getTileSize=function(a){return this.tileSize_?this.tileSize_:this.tileSizes_[a]};f.prototype.getFullTileRange=function(a){return this.fullTileRanges_?this.fullTileRanges_[a]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,a):null};f.prototype.getZForResolution=function(a,e){a=(0,m.linearFindNearest)(this.resolutions_,a,e||0);return(0,x.clamp)(a,this.minZoom,this.maxZoom)};f.prototype.calculateTileRanges_=function(a){for(var e=this.resolutions_.length,n=Array(e),y=this.minZoom;y<
e;++y)n[y]=this.getTileRangeForExtentAndZ(a,y);this.fullTileRanges_=n};return f}();E["default"]=Ja};
shadow$provide[266]=function(Ja,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}function l(a,e,n,y){y=void 0!==y?y:x["default"].TOP_LEFT;e=w(a,e,n);return new v["default"]({extent:a,origin:(0,d.getCorner)(a,y),resolutions:e,tileSize:n})}function w(a,e,n,y){e=void 0!==e?e:m.DEFAULT_MAX_ZOOM;var B=(0,d.getHeight)(a);a=(0,d.getWidth)(a);n=(0,f.toSize)(void 0!==n?n:m.DEFAULT_TILE_SIZE);y=0<y?y:Math.max(a/n[0],B/n[1]);e+=1;n=Array(e);for(B=0;B<e;++B)n[B]=y/Math.pow(2,B);return n}function H(a,
e,n,y){a=N(a);return l(a,e,n,y)}function N(a){a=(0,g.get)(a);var e=a.getExtent();e||(a=180*g.METERS_PER_UNIT[u["default"].DEGREES]/a.getMetersPerUnit(),e=(0,d.createOrUpdate)(-a,-a,a,a));return e}Object.defineProperty(E,"__esModule",{value:!0});E.getForProjection=function(a){var e=a.getDefaultTileGrid();e||(e=H(a),a.setDefaultTileGrid(e));return e};E.wrapX=function(a,e,n){var y=e[0],B=a.getTileCoordCenter(e);n=N(n);if((0,d.containsCoordinate)(n,B))return e;e=(0,d.getWidth)(n);B[0]+=e*Math.ceil((n[0]-
B[0])/e);return a.getTileCoordForCoordAndZ(B,y)};E.createForExtent=l;E.createXYZ=function(a){a=a||{};var e=a.extent||(0,g.get)("EPSG:3857").getExtent();a={extent:e,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:w(e,a.maxZoom,a.tileSize,a.maxResolution)};return new v["default"](a)};E.createForProjection=H;E.extentFromProjection=N;var x=k(A(76)),v=k(A(265)),u=k(A(118)),m=A(121),g=A(128),d=A(78),f=A(152)};
shadow$provide[267]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.TileSourceEvent=void 0;Ja=k(A(82));rb=k(A(236));var l=k(A(262)),w=k(A(115)),H=A(72),N=A(74),x=A(128),v=A(261),u=A(266),m=A(152),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,
a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX})||this;e.opaque_=void 0!==a.opaque?a.opaque:!1;e.tilePixelRatio_=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;e.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var n=[256,256],y=a.tileGrid;
y&&(0,m.toSize)(y.getTileSize(y.getMinZoom()),n);e.tileCache=new l["default"](a.cacheSize||0);e.tmpSize=[0,0];e.key_=a.key||"";e.tileOptions={transition:a.transition};e.zDirection=a.zDirection?a.zDirection:0;return e}g(f,d);f.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};f.prototype.expireCache=function(a,e){(a=this.getTileCacheForProjection(a))&&a.expireCache(e)};f.prototype.forEachLoadedTile=function(a,e,n,y){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var B=
!0,D,O,M=n.minX;M<=n.maxX;++M)for(var F=n.minY;F<=n.maxY;++F)D=(0,v.getKeyZXY)(e,M,F),O=!1,a.containsKey(D)&&(D=a.get(D),(O=D.getState()===w["default"].LOADED)&&(O=!1!==y(D))),O||(B=!1);return B};f.prototype.getGutterForProjection=function(a){return 0};f.prototype.getKey=function(){return this.key_};f.prototype.setKey=function(a){this.key_!==a&&(this.key_=a,this.changed())};f.prototype.getOpaque=function(a){return this.opaque_};f.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};
f.prototype.getTile=function(a,e,n,y,B){return(0,H["abstract"])()};f.prototype.getTileGrid=function(){return this.tileGrid};f.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,u.getForProjection)(a)};f.prototype.getTileCacheForProjection=function(a){(0,N.assert)((0,x.equivalent)(this.getProjection(),a),68);return this.tileCache};f.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};f.prototype.getTilePixelSize=function(a,e,n){n=this.getTileGridForProjection(n);
e=this.getTilePixelRatio(e);a=(0,m.toSize)(n.getTileSize(a),this.tmpSize);return 1==e?a:(0,m.scale)(a,e,this.tmpSize)};f.prototype.getTileCoordForTileUrlFunction=function(a,e){e=void 0!==e?e:this.getProjection();var n=this.getTileGridForProjection(e);this.getWrapX()&&e.isGlobal()&&(a=(0,u.wrapX)(n,a,e));return(0,v.withinExtentAndZ)(a,n)?a:null};f.prototype.clear=function(){this.tileCache.clear()};f.prototype.refresh=function(){this.clear();d.prototype.refresh.call(this)};f.prototype.updateCacheSize=
function(a,e){e=this.getTileCacheForProjection(e);a>e.highWaterMark&&(e.highWaterMark=a)};f.prototype.useTile=function(a,e,n,y){};return f}(rb["default"]);Ja=function(d){function f(a,e){a=d.call(this,a)||this;a.tile=e;return a}g(f,d);return f}(Ja["default"]);E.TileSourceEvent=Ja;E["default"]=A};
shadow$provide[268]=function(Ja,A,rb,E){function k(x,v){var u=/\{z\}/g,m=/\{x\}/g,g=/\{y\}/g,d=/\{-y\}/g;return function(f,a,e){if(f)return x.replace(u,f[0].toString()).replace(m,f[1].toString()).replace(g,f[2].toString()).replace(d,function(){var n=v.getFullTileRange(f[0]);(0,w.assert)(n,55);return(n.getHeight()-f[2]-1).toString()})}}function l(x){return 1===x.length?x[0]:function(v,u,m){if(v){var g=(0,N.hash)(v);g=(0,H.modulo)(g,x.length);return x[g](v,u,m)}}}Object.defineProperty(E,"__esModule",
{value:!0});E.createFromTemplate=k;E.createFromTemplates=function(x,v){for(var u=x.length,m=Array(u),g=0;g<u;++g)m[g]=k(x[g],v);return l(m)};E.createFromTileUrlFunctions=l;E.nullTileUrlFunction=function(x,v,u){};E.expandUrl=function(x){var v=[],u=/\{([a-z])-([a-z])\}/.exec(x);if(u){for(var m=u[1].charCodeAt(0),g=u[2].charCodeAt(0);m<=g;++m)v.push(x.replace(u[0],String.fromCharCode(m)));return v}if(u=/\{(\d+)-(\d+)\}/.exec(x)){g=parseInt(u[2],10);for(m=parseInt(u[1],10);m<=g;m++)v.push(x.replace(u[0],
m.toString()));return v}v.push(x);return v};var w=A(74),H=A(79),N=A(261)};
shadow$provide[269]=function(Ja,A,rb,E){function k(d){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return k(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function w(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(263)),N=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!==typeof d)return{"default":d};var f=l();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var y=e?Object.getOwnPropertyDescriptor(d,n):null;y&&(y.get||y.set)?Object.defineProperty(a,n,y):a[n]=d[n]}a["default"]=d;f&&f.set(d,a);return a}(A(267)),x=w(A(115)),v=A(268),u=A(261),m=A(72),g=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ja=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,
tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition,key:a.key,attributionsCollapsible:a.attributionsCollapsible,zDirection:a.zDirection})||this;e.generateTileUrlFunction_=e.tileUrlFunction===f.prototype.tileUrlFunction;e.tileLoadFunction=a.tileLoadFunction;a.tileUrlFunction&&(e.tileUrlFunction=a.tileUrlFunction);e.urls=null;a.urls?e.setUrls(a.urls):a.url&&e.setUrl(a.url);e.tileLoadingKeys_={};return e}g(f,d);f.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};
f.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};f.prototype.getUrls=function(){return this.urls};f.prototype.handleTileChange=function(a){a=a.target;var e=(0,m.getUid)(a),n=a.getState();if(n==x["default"].LOADING){this.tileLoadingKeys_[e]=!0;var y=H["default"].TILELOADSTART}else e in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[e],y=n==x["default"].ERROR?H["default"].TILELOADERROR:
n==x["default"].LOADED?H["default"].TILELOADEND:void 0);void 0!=y&&this.dispatchEvent(new N.TileSourceEvent(y,a))};f.prototype.setTileLoadFunction=function(a){this.tileCache.clear();this.tileLoadFunction=a;this.changed()};f.prototype.setTileUrlFunction=function(a,e){this.tileUrlFunction=a;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof e?this.setKey(e):this.changed()};f.prototype.setUrl=function(a){this.urls=a=(0,v.expandUrl)(a);this.setUrls(a)};f.prototype.setUrls=function(a){this.urls=
a;var e=a.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,v.createFromTemplates)(a,this.tileGrid),e):this.setKey(e)};f.prototype.tileUrlFunction=function(a,e,n){};f.prototype.useTile=function(a,e,n){a=(0,u.getKeyZXY)(a,e,n);this.tileCache.containsKey(a)&&this.tileCache.get(a)};return f}(N["default"]);E["default"]=Ja};
shadow$provide[270]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(n,y){n.getImage().src=y}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(86)),H=k(A(254)),N=k(A(259)),x=k(A(262)),v=k(A(115));Ja=k(A(269));var u=A(255),m=A(257),g=A(128),d=A(261),f=A(266),a=A(72),e=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,
M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B){var D=n.call(this,{attributions:B.attributions,cacheSize:B.cacheSize,opaque:B.opaque,projection:B.projection,state:B.state,tileGrid:B.tileGrid,tileLoadFunction:B.tileLoadFunction?B.tileLoadFunction:l,tilePixelRatio:B.tilePixelRatio,tileUrlFunction:B.tileUrlFunction,url:B.url,urls:B.urls,wrapX:B.wrapX,transition:B.transition,
key:B.key,attributionsCollapsible:B.attributionsCollapsible,zDirection:B.zDirection})||this;D.crossOrigin=void 0!==B.crossOrigin?B.crossOrigin:null;D.tileClass=void 0!==B.tileClass?B.tileClass:H["default"];D.tileCacheForProjection={};D.tileGridForProjection={};D.reprojectionErrorThreshold_=B.reprojectionErrorThreshold;D.contextOptions_=!1===B.imageSmoothing?m.IMAGE_SMOOTHING_DISABLED:void 0;D.renderReprojectionEdges_=!1;return D}e(y,n);y.prototype.canExpireCache=function(){if(!u.ENABLE_RASTER_REPROJECTION)return n.prototype.canExpireCache.call(this);
if(this.tileCache.canExpireCache())return!0;for(var B in this.tileCacheForProjection)if(this.tileCacheForProjection[B].canExpireCache())return!0;return!1};y.prototype.expireCache=function(B,D){if(u.ENABLE_RASTER_REPROJECTION){B=this.getTileCacheForProjection(B);this.tileCache.expireCache(this.tileCache==B?D:{});for(var O in this.tileCacheForProjection){var M=this.tileCacheForProjection[O];M.expireCache(M==B?D:{})}}else n.prototype.expireCache.call(this,B,D)};y.prototype.getContextOptions=function(){return this.contextOptions_};
y.prototype.getGutterForProjection=function(B){return u.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&B&&!(0,g.equivalent)(this.getProjection(),B)?0:this.getGutter()};y.prototype.getGutter=function(){return 0};y.prototype.getKey=function(){return n.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")};y.prototype.getOpaque=function(B){return u.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&B&&!(0,g.equivalent)(this.getProjection(),B)?!1:n.prototype.getOpaque.call(this,
B)};y.prototype.getTileGridForProjection=function(B){if(!u.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileGridForProjection.call(this,B);var D=this.getProjection();return!this.tileGrid||D&&!(0,g.equivalent)(D,B)?(D=(0,a.getUid)(B),D in this.tileGridForProjection||(this.tileGridForProjection[D]=(0,f.getForProjection)(B)),this.tileGridForProjection[D]):this.tileGrid};y.prototype.getTileCacheForProjection=function(B){if(!u.ENABLE_RASTER_REPROJECTION)return n.prototype.getTileCacheForProjection.call(this,
B);var D=this.getProjection();if(!D||(0,g.equivalent)(D,B))return this.tileCache;B=(0,a.getUid)(B);B in this.tileCacheForProjection||(this.tileCacheForProjection[B]=new x["default"](this.tileCache.highWaterMark));return this.tileCacheForProjection[B]};y.prototype.createTile_=function(B,D,O,M,F,z){B=[B,D,O];M=(D=this.getTileCoordForTileUrlFunction(B,F))?this.tileUrlFunction(D,M,F):void 0;M=new this.tileClass(B,void 0!==M?v["default"].IDLE:v["default"].EMPTY,void 0!==M?M:"",this.crossOrigin,this.tileLoadFunction,
this.tileOptions);M.key=z;M.addEventListener(w["default"].CHANGE,this.handleTileChange.bind(this));return M};y.prototype.getTile=function(B,D,O,M,F){var z=this.getProjection();if(u.ENABLE_RASTER_REPROJECTION&&z&&F&&!(0,g.equivalent)(z,F)){var G=this.getTileCacheForProjection(F),K=[B,D,O];B=void 0;D=(0,d.getKey)(K);G.containsKey(D)&&(B=G.get(D));O=this.getKey();if(B&&B.key==O)return B;var R=this.getTileGridForProjection(z),T=this.getTileGridForProjection(F),ja=this.getTileCoordForTileUrlFunction(K,
F);M=new N["default"](z,R,F,T,K,ja,this.getTilePixelRatio(M),this.getGutter(),function(fa,ha,la,Z){return this.getTileInternal(fa,ha,la,Z,z)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);M.key=O;B?(M.interimTile=B,M.refreshInterimChain(),G.replace(D,M)):G.set(D,M);return M}return this.getTileInternal(B,D,O,M,z||F)};y.prototype.getTileInternal=function(B,D,O,M,F){var z=(0,d.getKeyZXY)(B,D,O),G=this.getKey();if(this.tileCache.containsKey(z)){var K=
this.tileCache.get(z);if(K.key!=G){var R=K;K=this.createTile_(B,D,O,M,F,G);R.getState()==v["default"].IDLE?K.interimTile=R.interimTile:K.interimTile=R;K.refreshInterimChain();this.tileCache.replace(z,K)}}else K=this.createTile_(B,D,O,M,F,G),this.tileCache.set(z,K);return K};y.prototype.setRenderReprojectionEdges=function(B){if(u.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=B){this.renderReprojectionEdges_=B;for(var D in this.tileCacheForProjection)this.tileCacheForProjection[D].clear();
this.changed()}};y.prototype.setTileGridForProjection=function(B,D){u.ENABLE_RASTER_REPROJECTION&&(B=(0,g.get)(B))&&(B=(0,a.getUid)(B),B in this.tileGridForProjection||(this.tileGridForProjection[B]=D))};return y}(Ja["default"]);E["default"]=A};
shadow$provide[271]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.jsonp=function(l,w,H,N){function x(){delete window[u];v.parentNode.removeChild(v)}var v=document.createElement("script"),u="olc_"+(0,k.getUid)(w);v.async=!0;v.src=l+(-1==l.indexOf("?")?"?":"\x26")+(N||"callback")+"\x3d"+u;var m=setTimeout(function(){x();H&&H()},1E4);window[u]=function(g){clearTimeout(m);x();w(g)};document.getElementsByTagName("head")[0].appendChild(v)};var k=A(72)};
shadow$provide[272]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(d){var f=d[0],a=Array(f),e=1<<f-1,n;for(n=0;n<f;++n){var y=48;d[1]&e&&(y+=1);d[2]&e&&(y+=2);a[n]=String.fromCharCode(y);e>>=1}return a.join("")}Object.defineProperty(E,"__esModule",{value:!0});E.quadKey=l;E["default"]=void 0;var w=k(A(93));Ja=k(A(270));var H=A(78),N=A(268),x=A(261),v=A(266),u=A(128),m=A(271),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&
function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=void 0!==a.hidpi?a.hidpi:!1;var n=d.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",imageSmoothing:a.imageSmoothing,opaque:!0,projection:(0,u.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,
state:w["default"].LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})||this;n.hidpi_=e;n.culture_=void 0!==a.culture?a.culture:"en-us";n.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;n.apiKey_=a.key;n.imagerySet_=a.imagerySet;a="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+n.apiKey_+"\x26c\x3d"+n.culture_;(0,m.jsonp)(a,n.handleImageryMetadataResponse.bind(n),
void 0,"jsonp");return n}g(f,d);f.prototype.getApiKey=function(){return this.apiKey_};f.prototype.getImagerySet=function(){return this.imagerySet_};f.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(w["default"].ERROR);else{var e=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var n=this.getProjection();
n=(0,v.extentFromProjection)(n);var y=this.hidpi_?2:1;y=e.imageWidth==e.imageHeight?e.imageWidth/y:[e.imageWidth/y,e.imageHeight/y];this.tileGrid=(0,v.createXYZ)({extent:n,minZoom:e.zoomMin,maxZoom:a,tileSize:y});var B=this.culture_,D=this.hidpi_;this.tileUrlFunction=(0,N.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(M){var F=[0,0,0],z=e.imageUrl.replace("{subdomain}",M).replace("{culture}",B);return function(G,K,R){if(G)return(0,x.createOrUpdate)(G[0],G[1],G[2],F),G=z,D&&(G+="\x26dpi\x3dd1\x26device\x3dmobile"),
G.replace("{quadkey}",l(F))}}));if(e.imageryProviders){var O=(0,u.getTransformFromProjections)((0,u.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(M){var F=[],z=M.viewState,G=this.getTileGrid(),K=G.getZForResolution(z.resolution,this.zDirection),R=G.getTileCoordForCoordAndZ(z.center,K)[0];e.imageryProviders.map(function(T){for(var ja=!1,fa=T.coverageAreas,ha=0,la=fa.length;ha<la;++ha){var Z=fa[ha];if(R>=Z.zoomMin&&R<=Z.zoomMax&&(Z=Z.bbox,Z=[Z[1],Z[0],Z[3],Z[2]],Z=(0,H.applyTransform)(Z,
O),(0,H.intersects)(Z,M.extent))){ja=!0;break}}ja&&F.push(T.attribution)});F.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return F}.bind(this))}this.setState(w["default"].READY)}};return f}(Ja["default"]);E["default"]=A};
shadow$provide[273]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(w){return w&&w.__esModule?w:{"default":w}}(A(270));var k=A(266),l=function(){var w=function(H,N){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,v){x.__proto__=v}||function(x,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(x[u]=v[u])};return w(H,N)};return function(H,N){function x(){this.constructor=H}w(H,N);H.prototype=null===N?Object.create(N):
(x.prototype=N.prototype,new x)}}();A=function(w){function H(N){N=N||{};var x=void 0!==N.projection?N.projection:"EPSG:3857",v=void 0!==N.tileGrid?N.tileGrid:(0,k.createXYZ)({extent:(0,k.extentFromProjection)(x),maxResolution:N.maxResolution,maxZoom:N.maxZoom,minZoom:N.minZoom,tileSize:N.tileSize});return w.call(this,{attributions:N.attributions,cacheSize:N.cacheSize,crossOrigin:N.crossOrigin,imageSmoothing:N.imageSmoothing,opaque:N.opaque,projection:x,reprojectionErrorThreshold:N.reprojectionErrorThreshold,
tileGrid:v,tileLoadFunction:N.tileLoadFunction,tilePixelRatio:N.tilePixelRatio,tileUrlFunction:N.tileUrlFunction,url:N.url,urls:N.urls,wrapX:void 0!==N.wrapX?N.wrapX:!0,transition:N.transition,attributionsCollapsible:N.attributionsCollapsible,zDirection:N.zDirection})||this}l(H,w);return H}(Ja["default"]);E["default"]=A};
shadow$provide[274]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(93));Ja=k(A(273));var w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=N.call(this,{attributions:v.attributions,cacheSize:v.cacheSize,crossOrigin:v.crossOrigin,maxZoom:void 0!==v.maxZoom?v.maxZoom:18,minZoom:v.minZoom,projection:v.projection,transition:v.transition,wrapX:v.wrapX})||this;u.account_=v.account;u.mapId_=v.map||"";u.config_=v.config||{};u.templateCache_={};u.initializeMap_();return u}H(x,N);x.prototype.getConfig=function(){return this.config_};x.prototype.updateConfig=
function(v){(0,w.assign)(this.config_,v);this.initializeMap_()};x.prototype.setConfig=function(v){this.config_=v||{};this.initializeMap_()};x.prototype.initializeMap_=function(){var v=JSON.stringify(this.config_);if(this.templateCache_[v])this.applyTemplate_(this.templateCache_[v]);else{var u="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(u+="/named/"+this.mapId_);var m=new XMLHttpRequest;m.addEventListener("load",this.handleInitResponse_.bind(this,v));m.addEventListener("error",this.handleInitError_.bind(this));
m.open("POST",u);m.setRequestHeader("Content-type","application/json");m.send(JSON.stringify(this.config_))}};x.prototype.handleInitResponse_=function(v,u){u=u.target;if(!u.status||200<=u.status&&300>u.status){var m=void 0;try{m=JSON.parse(u.responseText)}catch(g){this.setState(l["default"].ERROR);return}this.applyTemplate_(m);this.templateCache_[v]=m;this.setState(l["default"].READY)}else this.setState(l["default"].ERROR)};x.prototype.handleInitError_=function(v){this.setState(l["default"].ERROR)};
x.prototype.applyTemplate_=function(v){this.setUrl("https://"+v.cdn_url.https+"/"+this.account_+"/api/v1/map/"+v.layergroupid+"/{z}/{x}/{y}.png")};return x}(Ja["default"]);E["default"]=A};
shadow$provide[275]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(86)),w=k(A(188)),H=k(A(117)),N=k(A(143));Ja=k(A(240));var x=A(96),v=A(74),u=A(78),m=A(72),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=
f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=d.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;e.resolution=void 0;e.distance=void 0!==a.distance?a.distance:20;e.features=[];e.geometryFunction=a.geometryFunction||function(n){n=n.getGeometry();(0,v.assert)(n.getType()==H["default"].POINT,10);return n};e.boundRefresh_=e.refresh.bind(e);e.setSource(a.source||null);return e}g(f,d);f.prototype.clear=function(a){this.features.length=
0;d.prototype.clear.call(this,a)};f.prototype.getDistance=function(){return this.distance};f.prototype.getSource=function(){return this.source};f.prototype.loadFeatures=function(a,e,n){this.source.loadFeatures(a,e,n);e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))};f.prototype.setDistance=function(a){this.distance=a;this.refresh()};f.prototype.setSource=function(a){this.source&&this.source.removeEventListener(l["default"].CHANGE,this.boundRefresh_);
(this.source=a)&&a.addEventListener(l["default"].CHANGE,this.boundRefresh_);this.refresh()};f.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features)};f.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,u.createEmpty)(),e=this.distance*this.resolution,n=this.source.getFeatures(),y={},B=0,D=n.length;B<D;B++){var O=n[B];(0,m.getUid)(O)in y||!(O=this.geometryFunction(O))||(O=O.getCoordinates(),(0,u.createOrUpdateFromCoordinate)(O,a),(0,
u.buffer)(a,e,a),O=this.source.getFeaturesInExtent(a),O=O.filter(function(M){M=(0,m.getUid)(M);return M in y?!1:y[M]=!0}),this.features.push(this.createCluster(O)))}};f.prototype.createCluster=function(a){for(var e=[0,0],n=a.length-1;0<=n;--n){var y=this.geometryFunction(a[n]);y?(0,x.add)(e,y.getCoordinates()):a.splice(n,1)}(0,x.scale)(e,1/a.length);e=new w["default"](new N["default"](e));e.set("features",a);return e};return f}(Ja["default"]);E["default"]=A};
shadow$provide[276]=function(Ja,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CustomTile=void 0;var l=A(121);Ja=k(A(254));var w=k(A(265));rb=k(A(270));var H=k(A(115)),N=A(74),x=A(101),v=A(268),u=A(78),m=A(152),g=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,
e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d=function(f){function a(e,n,y,B,D,O,M){n=f.call(this,n,y,B,D,O,M)||this;n.zoomifyImage_=null;n.tileSize_=e;return n}g(a,f);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=f.prototype.getImage.call(this);if(this.state==H["default"].LOADED){var n=this.tileSize_;if(e.width==n[0]&&e.height==n[1])return this.zoomifyImage_=e;n=(0,
x.createCanvasContext2D)(n[0],n[1]);n.drawImage(e,0,0);return this.zoomifyImage_=n.canvas}return e};return a}(Ja["default"]);E.CustomTile=d;A=function(f){function a(e){var n=this,y=e.size;n=e.tilePixelRatio||1;var B=y[0],D=y[1],O=[],M=e.tileSize||l.DEFAULT_TILE_SIZE;y=M*n;switch(void 0!==e.tierSizeCalculation?e.tierSizeCalculation:"default"){case "default":for(;B>y||D>y;)O.push([Math.ceil(B/y),Math.ceil(D/y)]),y+=y;break;case "truncated":for(var F=B,z=D;F>y||z>y;)O.push([Math.ceil(F/y),Math.ceil(z/
y)]),F>>=1,z>>=1;break;default:(0,N.assert)(!1,53)}O.push([1,1]);O.reverse();y=[n];var G=[0];F=1;for(z=O.length;F<z;F++)y.push(n<<F),G.push(O[F-1][0]*O[F-1][1]+G[F-1]);y.reverse();B=new w["default"]({tileSize:M,extent:e.extent||[0,-D,B,0],resolutions:y});(D=e.url)&&-1==D.indexOf("{TileGroup}")&&-1==D.indexOf("{tileIndex}")&&(D+="{TileGroup}/{z}-{x}-{y}.jpg");D=(0,v.expandUrl)(D);var K=M*n;D=(0,v.createFromTileUrlFunctions)(D.map(function(R){return function(T,ja,fa){if(T){ja=T[0];fa=T[1];T=T[2];var ha=
fa+T*O[ja][0],la={z:ja,x:fa,y:T,tileIndex:ha,TileGroup:"TileGroup"+((ha+G[ja])/K|0)};return R.replace(/\{(\w+?)\}/g,function(Z,P){return la[P]})}}}));F=d.bind(null,(0,m.toSize)(M*n));n=f.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,tilePixelRatio:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:F,tileGrid:B,tileUrlFunction:D,transition:e.transition})||this;n.zDirection=e.zDirection;
e=B.getTileCoordForCoordAndResolution((0,u.getCenter)(B.getExtent()),y[y.length-1]);e=D(e,1,null);y=new Image;y.addEventListener("error",function(){K=M;this.changed()}.bind(n));y.src=e;return n}g(a,f);return a}(rb["default"]);E["default"]=A};
shadow$provide[277]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.Versions=void 0;var k=A(74),l=function(){for(var m=0,g=0,d=arguments.length;g<d;g++)m+=arguments[g].length;m=Array(m);var f=0;for(g=0;g<d;g++)for(var a=arguments[g],e=0,n=a.length;e<n;e++,f++)m[f]=a[e];return m},w={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};E.Versions=w;var H={};H[w.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};H[w.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};H[w.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};H.none={none:{supports:[],formats:[],qualities:[]}};var N=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
x=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,v=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,u={};u[w.VERSION1]=function(m){var g=m.getComplianceLevelSupportedFeatures();void 0===g&&(g=H[w.VERSION1].level0);return{url:void 0===m.imageInfo["@id"]?void 0:m.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:g.supports,formats:l(g.formats,[void 0===m.imageInfo.formats?[]:m.imageInfo.formats]),qualities:l(g.qualities,[void 0===m.imageInfo.qualities?
[]:m.imageInfo.qualities]),resolutions:m.imageInfo.scale_factors,tileSize:void 0!==m.imageInfo.tile_width?void 0!==m.imageInfo.tile_height?[m.imageInfo.tile_width,m.imageInfo.tile_height]:[m.imageInfo.tile_width,m.imageInfo.tile_width]:void 0!=m.imageInfo.tile_height?[m.imageInfo.tile_height,m.imageInfo.tile_height]:void 0}};u[w.VERSION2]=function(m){var g=m.getComplianceLevelSupportedFeatures(),d=Array.isArray(m.imageInfo.profile)&&1<m.imageInfo.profile.length,f=d&&m.imageInfo.profile[1].supports?
m.imageInfo.profile[1].supports:[],a=d&&m.imageInfo.profile[1].formats?m.imageInfo.profile[1].formats:[];d=d&&m.imageInfo.profile[1].qualities?m.imageInfo.profile[1].qualities:[];return{url:m.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===m.imageInfo.sizes?void 0:m.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===m.imageInfo.tiles?void 0:[m.imageInfo.tiles.map(function(e){return e.width})[0],m.imageInfo.tiles.map(function(e){return void 0===e.height?
e.width:e.height})[0]],resolutions:void 0===m.imageInfo.tiles?void 0:m.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:l(g.supports,f),formats:l(g.formats,a),qualities:l(g.qualities,d)}};u[w.VERSION3]=function(m){var g=m.getComplianceLevelSupportedFeatures(),d=void 0===m.imageInfo.extraFormats?g.formats:l(g.formats,m.imageInfo.extraFormats),f=void 0!==m.imageInfo.preferredFormats&&Array.isArray(m.imageInfo.preferredFormats)&&0<m.imageInfo.preferredFormats.length?m.imageInfo.preferredFormats.filter(function(a){return["jpg",
"png","gif"].includes(a)}).reduce(function(a,e){return void 0===a&&d.includes(e)?e:a},void 0):void 0;return{url:m.imageInfo.id,sizes:void 0===m.imageInfo.sizes?void 0:m.imageInfo.sizes.map(function(a){return[a.width,a.height]}),tileSize:void 0===m.imageInfo.tiles?void 0:[m.imageInfo.tiles.map(function(a){return a.width})[0],m.imageInfo.tiles.map(function(a){return a.height})[0]],resolutions:void 0===m.imageInfo.tiles?void 0:m.imageInfo.tiles.map(function(a){return a.scaleFactors})[0],supports:void 0===
m.imageInfo.extraFeatures?g.supports:l(g.supports,m.imageInfo.extraFeatures),formats:d,qualities:void 0===m.imageInfo.extraQualities?g.qualities:l(g.qualities,m.imageInfo.extraQualities),preferredFormat:f}};Ja=function(){function m(g){this.setImageInfo(g)}m.prototype.setImageInfo=function(g){this.imageInfo="string"==typeof g?JSON.parse(g):g};m.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var g=this.imageInfo["@context"]||"ol-no-context";"string"==typeof g&&(g=[g]);for(var d=
0;d<g.length;d++)switch(g[d]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return w.VERSION1;case "http://iiif.io/api/image/2/context.json":return w.VERSION2;case "http://iiif.io/api/image/3/context.json":return w.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(w.VERSION1)&&this.imageInfo.identifier)return w.VERSION1}(0,k.assert)(!1,61)}};m.prototype.getComplianceLevelEntryFromProfile=function(g){if(void 0!==
this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===g&&(g=this.getImageApiVersion()),g){case w.VERSION1:if(N.test(this.imageInfo.profile))return this.imageInfo.profile;break;case w.VERSION3:if(v.test(this.imageInfo.profile))return this.imageInfo.profile;break;case w.VERSION2:if("string"===typeof this.imageInfo.profile&&x.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&
x.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};m.prototype.getComplianceLevelFromProfile=function(g){g=this.getComplianceLevelEntryFromProfile(g);if(void 0!==g)return g=g.match(/level[0-2](?:\.json)?$/g),Array.isArray(g)?g[0].replace(".json",""):void 0};m.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var g=this.getImageApiVersion(),d=this.getComplianceLevelFromProfile(g);return void 0===d?H.none.none:H[g][d]}};m.prototype.getTileSourceOptions=
function(g){g=g||{};var d=this.getImageApiVersion();if(void 0!==d){var f=void 0===d?void 0:u[d](this);if(void 0!==f)return{url:f.url,version:d,size:[this.imageInfo.width,this.imageInfo.height],sizes:f.sizes,format:void 0!==g.format&&f.formats.includes(g.format)?g.format:void 0!==f.preferredFormat?f.preferredFormat:"jpg",supports:f.supports,quality:g.quality&&f.qualities.includes(g.quality)?g.quality:f.qualities.includes("native")?"native":"default",resolutions:Array.isArray(f.resolutions)?f.resolutions.sort(function(a,
e){return e-a}):void 0,tileSize:f.tileSize}}};return m}();E["default"]=Ja};
shadow$provide[278]=function(Ja,A,rb,E){function k(d){return d&&d.__esModule?d:{"default":d}}function l(d){return d.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var w=k(A(265));Ja=k(A(270));var H=A(276),N=A(121),x=A(277),v=A(74),u=A(78),m=A(152),g=function(){var d=function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,
y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();A=function(d){function f(a){var e=this;a=a||{};var n=a.url||"";n+=n.lastIndexOf("/")===n.length-1||""===n?"":"/";var y=a.version||x.Versions.VERSION2,B=a.sizes||[];e=a.size;(0,v.assert)(void 0!=e&&Array.isArray(e)&&2==e.length&&!isNaN(e[0])&&0<e[0]&&!isNaN(e[1])&&0<e[1],60);var D=e[0],O=e[1];e=a.tileSize;var M=a.tilePixelRatio||1,F=a.format||
"jpg",z=a.quality||(a.version==x.Versions.VERSION1?"native":"default"),G=a.resolutions||[],K=a.supports||[],R=a.extent||[0,-O,D,0],T=void 0!=B&&Array.isArray(B)&&0<B.length,ja=void 0!==e&&("number"===typeof e&&Number.isInteger(e)&&0<e||Array.isArray(e)&&0<e.length),fa=void 0!=K&&Array.isArray(K)&&(K.includes("regionByPx")||K.includes("regionByPct"))&&(K.includes("sizeByWh")||K.includes("sizeByH")||K.includes("sizeByW")||K.includes("sizeByPct")),ha,la;G.sort(function(ia,aa){return aa-ia});if(ja||fa){if(void 0!=
e)if("number"===typeof e&&Number.isInteger(e)&&0<e)var Z=ha=e;else if(Array.isArray(e)&&0<e.length){if(1==e.length||void 0==e[1]&&Number.isInteger(e[0]))ha=e[0],Z=e[0];2==e.length&&(Number.isInteger(e[0])&&Number.isInteger(e[1])?(ha=e[0],Z=e[1]):void 0==e[0]&&Number.isInteger(e[1])&&(ha=e[1],Z=e[1]))}if(void 0===ha||void 0===Z)Z=ha=N.DEFAULT_TILE_SIZE;if(0==G.length)for(var P=la=Math.max(Math.ceil(Math.log(D/ha)/Math.LN2),Math.ceil(Math.log(O/Z)/Math.LN2));0<=P;P--)G.push(Math.pow(2,P));else P=Math.max.apply(Math,
G),la=Math.round(Math.log(P)/Math.LN2)}else if(ha=D,Z=O,G=[],T){B.sort(function(ia,aa){return ia[0]-aa[0]});la=-1;var C=[];for(P=0;P<B.length;P++){var V=D/B[P][0];0<G.length&&G[G.length-1]==V?C.push(P):(G.push(V),la++)}if(0<C.length)for(P=0;P<C.length;P++)B.splice(C[P]-P,1)}else G.push(1),B.push([D,O]),la=0;R=new w["default"]({tileSize:[ha,Z],extent:R,origin:(0,u.getTopLeft)(R),resolutions:G});e=H.CustomTile.bind(null,(0,m.toSize)(e||256).map(function(ia){return ia*M}));e=d.call(this,{attributions:a.attributions,
attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,imageSmoothing:a.imageSmoothing,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:a.state,tileClass:e,tileGrid:R,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:function(ia,aa,ya){var va;aa=ia[0];if(!(aa>la)){ya=ia[1];var Ia=ia[2];ia=G[aa];if(!(void 0===ya||void 0===Ia||void 0===ia||0>ya||Math.ceil(D/ia/ha)<=ya||0>Ia||Math.ceil(O/ia/Z)<=Ia)){if(fa||ja){var bb=ya*ha*
ia,kb=Ia*Z*ia,ua=ha*ia;Ia=Z*ia;aa=ha;ya=Z;bb+ua>D&&(ua=D-bb);kb+Ia>O&&(Ia=O-kb);bb+ha*ia>D&&(aa=Math.floor((D-bb+ia-1)/ia));kb+Z*ia>O&&(ya=Math.floor((O-kb+ia-1)/ia));if(0==bb&&ua==D&&0==kb&&Ia==O)var Ta="full";else!fa||K.includes("regionByPx")?Ta=bb+","+kb+","+ua+","+Ia:K.includes("regionByPct")&&(Ta=l(bb/D*100),bb=l(kb/O*100),ua=l(ua/D*100),Ia=l(Ia/O*100),Ta="pct:"+Ta+","+bb+","+ua+","+Ia);y!=x.Versions.VERSION3||fa&&!K.includes("sizeByWh")?!fa||K.includes("sizeByW")?va=aa+",":K.includes("sizeByH")?
va=","+ya:K.includes("sizeByWh")?va=aa+","+ya:K.includes("sizeByPct")&&(va="pct:"+l(100/ia)):va=aa+","+ya}else Ta="full",T?(va=B[aa][0],ia=B[aa][1],va=y==x.Versions.VERSION3?va==D&&ia==O?"max":va+","+ia:va==D?"full":va+","):va=y==x.Versions.VERSION3?"max":"full";return n+Ta+"/"+va+"/0/"+z+"."+F}}},transition:a.transition})||this;e.zDirection=a.zDirection;return e}g(f,d);return f}(Ja["default"]);E["default"]=A};
shadow$provide[279]=function(Ja,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=A(255),w=k(A(86));Ja=k(A(225));var H=k(A(197)),N=k(A(256)),x=A(258),v=A(78),u=A(87),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f,a,e,n,y,B,D){var O,M=f.getExtent(),F=(O=a.getExtent())?(0,v.getIntersection)(e,O):e;O=(0,v.getCenter)(F);O=(0,x.calculateSourceResolution)(f,a,O,n);f=new N["default"](f,a,F,M,O*l.ERROR_THRESHOLD,n);F=f.calculateSourceExtent();O=(y=B(F,O,y))?H["default"].IDLE:H["default"].EMPTY;B=y?y.getPixelRatio():1;O=g.call(this,e,n,B,O)||this;O.targetProj_=a;O.maxSourceExtent_=M;O.triangulation_=f;O.targetResolution_=
n;O.targetExtent_=e;O.sourceImage_=y;O.sourcePixelRatio_=B;O.contextOptions_=D;O.canvas_=null;O.sourceListenerKey_=null;return O}m(d,g);d.prototype.disposeInternal=function(){this.state==H["default"].LOADING&&this.unlistenSource_();g.prototype.disposeInternal.call(this)};d.prototype.getImage=function(){return this.canvas_};d.prototype.getProjection=function(){return this.targetProj_};d.prototype.reproject_=function(){var f=this.sourceImage_.getState();if(f==H["default"].LOADED){var a=(0,v.getWidth)(this.targetExtent_)/
this.targetResolution_,e=(0,v.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,x.render)(a,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=f;this.changed()};d.prototype.load=function(){if(this.state==H["default"].IDLE){this.state=H["default"].LOADING;this.changed();var f=
this.sourceImage_.getState();f==H["default"].LOADED||f==H["default"].ERROR?this.reproject_():(this.sourceListenerKey_=(0,u.listen)(this.sourceImage_,w["default"].CHANGE,function(a){a=this.sourceImage_.getState();if(a==H["default"].LOADED||a==H["default"].ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};d.prototype.unlistenSource_=function(){(0,u.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null};return d}(Ja["default"]);E["default"]=A};
shadow$provide[280]=function(Ja,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E.defaultImageLoadFunction=function(a,e){a.getImage().src=e};E["default"]=E.ImageSourceEvent=E.ImageSourceEventType=void 0;Ja=k(A(82));var l=k(A(197)),w=k(A(279));rb=k(A(236));var H=A(255),N=A(257),x=A(72),v=A(78),u=A(128),m=A(70),g=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,
B){for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(y[D]=B[D])};return a(e,n)};return function(e,n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};E.ImageSourceEventType=d;var f=function(a){function e(n,y){n=a.call(this,n)||this;n.image=y;return n}g(e,a);return e}(Ja["default"]);E.ImageSourceEvent=f;A=function(a){function e(n){var y=
a.call(this,{attributions:n.attributions,projection:n.projection,state:n.state})||this;y.resolutions_=void 0!==n.resolutions?n.resolutions:null;y.reprojectedImage_=null;y.reprojectedRevision_=0;y.contextOptions_=!1===n.imageSmoothing?N.IMAGE_SMOOTHING_DISABLED:void 0;return y}g(e,a);e.prototype.getResolutions=function(){return this.resolutions_};e.prototype.getContextOptions=function(){return this.contextOptions_};e.prototype.findNearestResolution=function(n){this.resolutions_&&(n=(0,m.linearFindNearest)(this.resolutions_,
n,0),n=this.resolutions_[n]);return n};e.prototype.getImage=function(n,y,B,D){var O=this.getProjection();if(H.ENABLE_RASTER_REPROJECTION&&O&&D&&!(0,u.equivalent)(O,D)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,u.equivalent)(this.reprojectedImage_.getProjection(),D)&&this.reprojectedImage_.getResolution()==y&&(0,v.equals)(this.reprojectedImage_.getExtent(),n))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=
new w["default"](O,D,n,y,B,function(M,F,z){return this.getImageInternal(M,F,z,O)}.bind(this),this.contextOptions_);this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}O&&(D=O);return this.getImageInternal(n,y,B,D)};e.prototype.getImageInternal=function(n,y,B,D){return(0,x["abstract"])()};e.prototype.handleImageChange=function(n){n=n.target;switch(n.getState()){case l["default"].LOADING:this.loading=!0;this.dispatchEvent(new f(d.IMAGELOADSTART,n));break;case l["default"].LOADED:this.loading=
!1;this.dispatchEvent(new f(d.IMAGELOADEND,n));break;case l["default"].ERROR:this.loading=!1,this.dispatchEvent(new f(d.IMAGELOADERROR,n))}};return e}(rb["default"]);E["default"]=A};
shadow$provide[281]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.appendParams=function(k,l){var w=[];Object.keys(l).forEach(function(N){null!==l[N]&&void 0!==l[N]&&w.push(N+"\x3d"+encodeURIComponent(l[N]))});var H=w.join("\x26");k=k.replace(/[?&]$/,"");k=-1===k.indexOf("?")?k+"?":k+"\x26";return k+H}};
shadow$provide[282]=function(Ja,A,rb,E){function k(f){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return k(f)}function l(){if("function"!==typeof WeakMap)return null;var f=new WeakMap;l=function(){return f};return f}function w(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(f){if(f&&f.__esModule)return f;if(null===f||"object"!==k(f)&&"function"!==typeof f)return{"default":f};var a=l();if(a&&a.has(f))return a.get(f);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,y;for(y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var B=n?Object.getOwnPropertyDescriptor(f,y):null;B&&(B.get||B.set)?Object.defineProperty(e,y,B):e[y]=f[y]}e["default"]=f;a&&a.set(f,e);return e}(A(280)),x=w(A(226)),v=A(281),u=A(74),m=A(84),g=A(78),d=function(){var f=
function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Ja=function(f){function a(e){var n=e?e:{};e=f.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:n.projection,resolutions:n.resolutions})||
this;e.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;e.hidpi_=void 0!==n.hidpi?n.hidpi:!0;e.url_=n.url;e.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:N.defaultImageLoadFunction;e.params_=n.params||{};e.image_=null;e.imageSize_=[0,0];e.renderedRevision_=0;e.ratio_=void 0!==n.ratio?n.ratio:1.5;return e}d(a,f);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(e,n,y,B){if(void 0===this.url_)return null;n=this.findNearestResolution(n);
y=this.hidpi_?y:1;var D=this.image_;if(D&&this.renderedRevision_==this.getRevision()&&D.getResolution()==n&&D.getPixelRatio()==y&&(0,g.containsExtent)(D.getExtent(),e))return D;D={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,m.assign)(D,this.params_);e=e.slice();var O=(e[0]+e[2])/2,M=(e[1]+e[3])/2;if(1!=this.ratio_){var F=this.ratio_*(0,g.getWidth)(e)/2,z=this.ratio_*(0,g.getHeight)(e)/2;e[0]=O-F;e[1]=M-z;e[2]=O+F;e[3]=M+z}F=n/y;z=Math.ceil((0,g.getWidth)(e)/F);var G=Math.ceil((0,g.getHeight)(e)/F);
e[0]=O-F*z/2;e[2]=O+F*z/2;e[1]=M-F*G/2;e[3]=M+F*G/2;this.imageSize_[0]=z;this.imageSize_[1]=G;B=this.getRequestUrl_(e,this.imageSize_,y,B,D);this.image_=new x["default"](e,n,y,B,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(H["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.getRequestUrl_=function(e,n,y,B,D){B=B.getCode().split(":").pop();
D.SIZE=n[0]+","+n[1];D.BBOX=e.join(",");D.BBOXSR=B;D.IMAGESR=B;D.DPI=Math.round(90*y);e=this.url_;n=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");n==e&&(0,u.assert)(!1,50);return(0,v.appendParams)(n,D)};a.prototype.getUrl=function(){return this.url_};a.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};a.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())};a.prototype.updateParams=
function(e){(0,m.assign)(this.params_,e);this.image_=null;this.changed()};return a}(N["default"]);E["default"]=Ja};
shadow$provide[283]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(225));var l=k(A(197)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x,v,u,m,g){x=H.call(this,x,v,u,void 0!==g?l["default"].IDLE:l["default"].LOADED)||this;x.loader_=void 0!==g?g:null;x.canvas_=m;x.error_=null;return x}w(N,H);N.prototype.getError=function(){return this.error_};N.prototype.handleLoad_=function(x){x?(this.error_=x,this.state=l["default"].ERROR):this.state=l["default"].LOADED;this.changed()};N.prototype.load=function(){this.state==l["default"].IDLE&&(this.state=l["default"].LOADING,this.changed(),
this.loader_(this.handleLoad_.bind(this)))};N.prototype.getImage=function(){return this.canvas_};return N}(Ja["default"]);E["default"]=A};
shadow$provide[284]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(283));Ja=k(A(280));var w=A(78),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===
v?Object.create(v):(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){var u=v?v:{};v=N.call(this,{attributions:u.attributions,imageSmoothing:u.imageSmoothing,projection:u.projection,resolutions:u.resolutions,state:u.state})||this;v.canvasFunction_=u.canvasFunction;v.canvas_=null;v.renderedRevision_=0;v.ratio_=void 0!==u.ratio?u.ratio:1.5;return v}H(x,N);x.prototype.getImageInternal=function(v,u,m,g){u=this.findNearestResolution(u);var d=this.canvas_;if(d&&this.renderedRevision_==this.getRevision()&&
d.getResolution()==u&&d.getPixelRatio()==m&&(0,w.containsExtent)(d.getExtent(),v))return d;v=v.slice();(0,w.scaleFromCenter)(v,this.ratio_);var f=(0,w.getWidth)(v)/u,a=(0,w.getHeight)(v)/u;(g=this.canvasFunction_.call(this,v,u,m,[f*m,a*m],g))&&(d=new l["default"](v,u,m,g));this.canvas_=d;this.renderedRevision_=this.getRevision();return d};return x}(Ja["default"]);E["default"]=A};
shadow$provide[285]=function(Ja,A,rb,E){function k(d){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return k(d)}function l(){if("function"!==typeof WeakMap)return null;var d=new WeakMap;l=function(){return d};return d}function w(d){return d&&d.__esModule?d:{"default":d}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(d){if(d&&d.__esModule)return d;if(null===d||"object"!==k(d)&&"function"!==typeof d)return{"default":d};var f=l();if(f&&f.has(d))return f.get(d);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in d)if(Object.prototype.hasOwnProperty.call(d,n)){var y=e?Object.getOwnPropertyDescriptor(d,n):null;y&&(y.get||y.set)?Object.defineProperty(a,n,y):a[n]=d[n]}a["default"]=d;f&&f.set(d,a);return a}(A(280)),x=w(A(226)),v=A(281),u=A(84),m=A(78),g=function(){var d=
function(f,a){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])};return d(f,a)};return function(f,a){function e(){this.constructor=f}d(f,a);f.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();Ja=function(d){function f(a){var e=d.call(this,{imageSmoothing:a.imageSmoothing,projection:a.projection,resolutions:a.resolutions})||this;e.crossOrigin_=void 0!==a.crossOrigin?
a.crossOrigin:null;e.displayDpi_=void 0!==a.displayDpi?a.displayDpi:96;e.params_=a.params||{};e.url_=a.url;e.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:N.defaultImageLoadFunction;e.hidpi_=void 0!==a.hidpi?a.hidpi:!0;e.metersPerUnit_=void 0!==a.metersPerUnit?a.metersPerUnit:1;e.ratio_=void 0!==a.ratio?a.ratio:1;e.useOverlay_=void 0!==a.useOverlay?a.useOverlay:!1;e.image_=null;e.renderedRevision_=0;return e}g(f,d);f.prototype.getParams=function(){return this.params_};f.prototype.getImageInternal=
function(a,e,n,y){e=this.findNearestResolution(e);n=this.hidpi_?n:1;var B=this.image_;if(B&&this.renderedRevision_==this.getRevision()&&B.getResolution()==e&&B.getPixelRatio()==n&&(0,m.containsExtent)(B.getExtent(),a))return B;1!=this.ratio_&&(a=a.slice(),(0,m.scaleFromCenter)(a,this.ratio_));B=(0,m.getWidth)(a)/e;var D=(0,m.getHeight)(a)/e;B=[B*n,D*n];void 0!==this.url_?(y=this.getUrl(this.url_,this.params_,a,B,y),B=new x["default"](a,e,n,y,this.crossOrigin_,this.imageLoadFunction_),B.addEventListener(H["default"].CHANGE,
this.handleImageChange.bind(this))):B=null;this.image_=B;this.renderedRevision_=this.getRevision();return B};f.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};f.prototype.updateParams=function(a){(0,u.assign)(this.params_,a);this.changed()};f.prototype.getUrl=function(a,e,n,y,B){B=this.metersPerUnit_;var D=this.displayDpi_,O=(0,m.getWidth)(n),M=(0,m.getHeight)(n),F=y[0],z=y[1];D=.0254/D;B=z*O>F*M?O*B/(F*D):M*B/(z*D);n=(0,m.getCenter)(n);y={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":
"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(y[0]),SETDISPLAYHEIGHT:Math.round(y[1]),SETVIEWSCALE:B,SETVIEWCENTERX:n[0],SETVIEWCENTERY:n[1]};(0,u.assign)(y,e);return(0,v.appendParams)(a,y)};f.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};return f}(N["default"]);E["default"]=Ja};
shadow$provide[286]=function(Ja,A,rb,E){function k(a){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};return k(a)}function l(){if("function"!==typeof WeakMap)return null;var a=new WeakMap;l=function(){return a};return a}function w(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(86)),N=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!==k(a)&&"function"!==typeof a)return{"default":a};var e=l();if(e&&e.has(a))return e.get(a);var n={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor,B;for(B in a)if(Object.prototype.hasOwnProperty.call(a,B)){var D=y?Object.getOwnPropertyDescriptor(a,B):null;D&&(D.get||D.set)?Object.defineProperty(n,B,D):n[B]=a[B]}n["default"]=a;e&&e.set(a,n);return n}(A(280)),x=w(A(197)),v=w(A(226)),u=A(84),m=A(101),g=A(78),d=A(128),
f=function(){var a=function(e,n){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,B){y.__proto__=B}||function(y,B){for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&(y[D]=B[D])};return a(e,n)};return function(e,n){function y(){this.constructor=e}a(e,n);e.prototype=null===n?Object.create(n):(y.prototype=n.prototype,new y)}}();Ja=function(a){function e(n){var y=void 0!==n.crossOrigin?n.crossOrigin:null,B=void 0!==n.imageLoadFunction?n.imageLoadFunction:N.defaultImageLoadFunction;
var D=a.call(this,{attributions:n.attributions,imageSmoothing:n.imageSmoothing,projection:(0,d.get)(n.projection)})||this;D.url_=n.url;D.imageExtent_=n.imageExtent;D.image_=new v["default"](D.imageExtent_,void 0,1,D.url_,y,B);D.imageSize_=n.imageSize?n.imageSize:null;D.image_.addEventListener(H["default"].CHANGE,D.handleImageChange.bind(D));return D}f(e,a);e.prototype.getImageExtent=function(){return this.imageExtent_};e.prototype.getImageInternal=function(n,y,B,D){return(0,g.intersects)(n,this.image_.getExtent())?
this.image_:null};e.prototype.getUrl=function(){return this.url_};e.prototype.handleImageChange=function(n){if(this.image_.getState()==x["default"].LOADED){var y=this.image_.getExtent(),B=this.image_.getImage();if(this.imageSize_){var D=this.imageSize_[0];var O=this.imageSize_[1]}else D=B.width,O=B.height;var M=(0,g.getHeight)(y)/O;y=Math.ceil((0,g.getWidth)(y)/M);y!=D&&(y=(0,m.createCanvasContext2D)(y,O),(0,u.assign)(y,this.getContextOptions()),M=y.canvas,y.drawImage(B,0,0,D,O,0,0,M.width,M.height),
this.image_.setImage(M))}a.prototype.handleImageChange.call(this,n)};return e}(N["default"]);E["default"]=Ja};
shadow$provide[287]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[288]=function(Ja,A,rb,E){function k(D){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"===typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O};return k(D)}function l(){if("function"!==typeof WeakMap)return null;var D=new WeakMap;l=function(){return D};return D}function w(D){return D&&D.__esModule?D:{"default":D}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=A(257),N=w(A(86)),x=function(D){if(D&&D.__esModule)return D;if(null===D||"object"!==k(D)&&"function"!==typeof D)return{"default":D};var O=l();if(O&&O.has(D))return O.get(D);var M={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor,z;for(z in D)if(Object.prototype.hasOwnProperty.call(D,z)){var G=F?Object.getOwnPropertyDescriptor(D,z):null;G&&(G.get||G.set)?Object.defineProperty(M,z,G):M[z]=D[z]}M["default"]=D;O&&O.set(D,M);return M}(A(280)),v=w(A(226)),u=w(A(287)),m=A(281),g=A(74),d=
A(84),f=A(258),a=A(95),e=A(78),n=A(128),y=function(){var D=function(O,M){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,z){F.__proto__=z}||function(F,z){for(var G in z)Object.prototype.hasOwnProperty.call(z,G)&&(F[G]=z[G])};return D(O,M)};return function(O,M){function F(){this.constructor=O}D(O,M);O.prototype=null===M?Object.create(M):(F.prototype=M.prototype,new F)}}(),B=[101,101];Ja=function(D){function O(M){var F=M?M:{};M=D.call(this,{attributions:F.attributions,imageSmoothing:F.imageSmoothing,
projection:F.projection,resolutions:F.resolutions})||this;M.crossOrigin_=void 0!==F.crossOrigin?F.crossOrigin:null;M.url_=F.url;M.imageLoadFunction_=void 0!==F.imageLoadFunction?F.imageLoadFunction:x.defaultImageLoadFunction;M.params_=F.params||{};M.v13_=!0;M.updateV13_();M.serverType_=F.serverType;M.hidpi_=void 0!==F.hidpi?F.hidpi:!0;M.image_=null;M.imageSize_=[0,0];M.renderedRevision_=0;M.ratio_=void 0!==F.ratio?F.ratio:1.5;return M}y(O,D);O.prototype.getFeatureInfoUrl=function(M,F,z,G){if(void 0!==
this.url_){z=(0,n.get)(z);var K=this.getProjection();K&&K!==z&&(F=(0,f.calculateSourceResolution)(K,z,M,F),M=(0,n.transform)(M,z,K));var R=(0,e.getForViewAndSize)(M,F,0,B),T={SERVICE:"WMS",VERSION:H.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,d.assign)(T,this.params_,G);G=Math.floor((R[3]-M[1])/F);T[this.v13_?"I":"X"]=Math.floor((M[0]-R[0])/F);T[this.v13_?"J":"Y"]=G;return this.getRequestUrl_(R,B,1,K||z,T)}};O.prototype.getLegendUrl=
function(M,F){if(void 0!==this.url_){var z={SERVICE:"WMS",VERSION:H.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===F||void 0===F.LAYER){var G=this.params_.LAYERS;if(Array.isArray(G)&&1!==G.length)return;z.LAYER=G}void 0!==M&&(G=this.getProjection()?this.getProjection().getMetersPerUnit():1,z.SCALE=M*G/2.8E-4);(0,d.assign)(z,F);return(0,m.appendParams)(this.url_,z)}};O.prototype.getParams=function(){return this.params_};O.prototype.getImageInternal=function(M,F,z,G){if(void 0===
this.url_)return null;F=this.findNearestResolution(F);1==z||this.hidpi_&&void 0!==this.serverType_||(z=1);var K=F/z,R=(0,e.getCenter)(M),T=Math.ceil((0,e.getWidth)(M)/K),ja=Math.ceil((0,e.getHeight)(M)/K);T=(0,e.getForViewAndSize)(R,K,0,[T,ja]);ja=Math.ceil(this.ratio_*(0,e.getWidth)(M)/K);M=Math.ceil(this.ratio_*(0,e.getHeight)(M)/K);R=(0,e.getForViewAndSize)(R,K,0,[ja,M]);if((M=this.image_)&&this.renderedRevision_==this.getRevision()&&M.getResolution()==F&&M.getPixelRatio()==z&&(0,e.containsExtent)(M.getExtent(),
T))return M;T={SERVICE:"WMS",VERSION:H.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,d.assign)(T,this.params_);this.imageSize_[0]=Math.round((0,e.getWidth)(R)/K);this.imageSize_[1]=Math.round((0,e.getHeight)(R)/K);G=this.getRequestUrl_(R,this.imageSize_,z,G,T);this.image_=new v["default"](R,F,z,G,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(N["default"].CHANGE,this.handleImageChange.bind(this));return this.image_};
O.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};O.prototype.getRequestUrl_=function(M,F,z,G,K){(0,g.assert)(void 0!==this.url_,9);K[this.v13_?"CRS":"SRS"]=G.getCode();"STYLES"in this.params_||(K.STYLES="");if(1!=z)switch(this.serverType_){case u["default"].GEOSERVER:z=90*z+.5|0;K.FORMAT_OPTIONS="FORMAT_OPTIONS"in K?K.FORMAT_OPTIONS+(";dpi:"+z):"dpi:"+z;break;case u["default"].MAPSERVER:K.MAP_RESOLUTION=90*z;break;case u["default"].CARMENTA_SERVER:case u["default"].QGIS:K.DPI=
90*z;break;default:(0,g.assert)(!1,8)}K.WIDTH=F[0];K.HEIGHT=F[1];F=G.getAxisOrientation();M=this.v13_&&"ne"==F.substr(0,2)?[M[1],M[0],M[3],M[2]]:M;K.BBOX=M.join(",");return(0,m.appendParams)(this.url_,K)};O.prototype.getUrl=function(){return this.url_};O.prototype.setImageLoadFunction=function(M){this.image_=null;this.imageLoadFunction_=M;this.changed()};O.prototype.setUrl=function(M){M!=this.url_&&(this.url_=M,this.image_=null,this.changed())};O.prototype.updateParams=function(M){(0,d.assign)(this.params_,
M);this.updateV13_();this.image_=null;this.changed()};O.prototype.updateV13_=function(){var M=this.params_.VERSION||H.DEFAULT_WMS_VERSION;this.v13_=0<=(0,a.compareVersions)(M,"1.3")};return O}(x["default"]);E["default"]=Ja};
shadow$provide[289]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.ATTRIBUTION=void 0;Ja=function(l){return l&&l.__esModule?l:{"default":l}}(A(273));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):
(N.prototype=H.prototype,new N)}}();E.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';Ja=function(l){function w(H){H=H||{};return l.call(this,{attributions:void 0!==H.attributions?H.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],attributionsCollapsible:!1,cacheSize:H.cacheSize,crossOrigin:void 0!==H.crossOrigin?
H.crossOrigin:"anonymous",imageSmoothing:H.imageSmoothing,maxZoom:void 0!==H.maxZoom?H.maxZoom:19,opaque:void 0!==H.opaque?H.opaque:!0,reprojectionErrorThreshold:H.reprojectionErrorThreshold,tileLoadFunction:H.tileLoadFunction,transition:H.transition,url:void 0!==H.url?H.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:H.wrapX})||this}k(w,l);return w}(Ja["default"]);E["default"]=Ja};
shadow$provide[290]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(l){return l&&l.__esModule?l:{"default":l}}(A(94));var k=function(){var l=function(w,H){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,x){N.__proto__=x}||function(N,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(N[v]=x[v])};return l(w,H)};return function(w,H){function N(){this.constructor=w}l(w,H);w.prototype=null===H?Object.create(H):(N.prototype=
H.prototype,new N)}}();Ja=function(l){function w(H){return l.call(this,H?H:{})||this}k(w,l);return w}(Ja["default"]);E["default"]=Ja};
shadow$provide[291]=function(Ja,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(217));var l=k(A(119)),w=A(255),H=A(84),N=A(75),x=A(78),v=A(102),u=A(128),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){f=g.call(this,f)||this;f.image_=null;return f}m(d,g);d.prototype.getImage=function(){return this.image_?this.image_.getImage():null};d.prototype.prepareFrame=function(f){var a=f.layerStatesArray[f.layerIndex],e=f.pixelRatio,n=f.viewState,y=n.resolution,B=this.getLayer().getSource(),D=f.viewHints;f=f.extent;void 0!==a.extent&&(f=(0,x.getIntersection)(f,(0,u.fromUserExtent)(a.extent,n.projection)));
D[l["default"].ANIMATING]||D[l["default"].INTERACTING]||(0,x.isEmpty)(f)||(B?(a=n.projection,w.ENABLE_RASTER_REPROJECTION||(n=B.getProjection())&&(a=n),(e=B.getImage(f,y,e,a))&&this.loadImage(e)&&(this.image_=e)):this.image_=null);return!!this.image_};d.prototype.renderFrame=function(f,a){var e=this.image_,n=e.getExtent(),y=e.getResolution(),B=e.getPixelRatio(),D=f.layerStatesArray[f.layerIndex],O=f.pixelRatio,M=f.viewState,F=M.center,z=f.size,G=O*y/(M.resolution*B),K=Math.round(z[0]*O),R=Math.round(z[1]*
O);if(z=M.rotation){var T=Math.round(Math.sqrt(K*K+R*R));R=K=T}(0,N.compose)(this.pixelTransform,f.size[0]/2,f.size[1]/2,1/O,1/O,z,-K/2,-R/2);(0,N.makeInverse)(this.inversePixelTransform,this.pixelTransform);z=(0,v.createTransformString)(this.pixelTransform);this.useContainer(a,z,D.opacity);a=this.context;T=a.canvas;T.width!=K||T.height!=R?(T.width=K,T.height=R):this.containerReused||a.clearRect(0,0,K,R);var ja=!1;D.extent&&(M=(0,u.fromUserExtent)(D.extent,M.projection),(ja=!(0,x.containsExtent)(M,
f.extent)&&(0,x.intersects)(M,f.extent))&&this.clipUnrotated(a,f,M));e=e.getImage();n=(0,N.compose)(this.tempTransform,K/2,R/2,G,G,0,B*(n[0]-F[0])/y,B*(F[1]-n[3])/y);this.renderedResolution=y*O/B;y=n[4];B=n[5];O=e.width*n[0];n=e.height*n[3];(0,H.assign)(a,this.getLayer().getSource().getContextOptions());this.preRender(a,f);.5<=O&&.5<=n&&(D=D.opacity,F=void 0,1!==D&&(F=this.context.globalAlpha,this.context.globalAlpha=D),this.context.drawImage(e,0,0,+e.width,+e.height,Math.round(y),Math.round(B),Math.round(O),
Math.round(n)),1!==D&&(this.context.globalAlpha=F));this.postRender(a,f);ja&&a.restore();z!==T.style.transform&&(T.style.transform=z);return this.container};return d}(Ja["default"]);E["default"]=A};
shadow$provide[292]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(290));var l=k(A(291)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){return H.call(this,x)||this}w(N,H);N.prototype.createRenderer=function(){return new l["default"](this)};return N}(Ja["default"]);E["default"]=A};
shadow$provide[293]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[294]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(94));var l=k(A(293)),w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){v=v?v:{};var u=(0,w.assign)({},v);delete u.preload;delete u.useInterimTilesOnError;u=N.call(this,u)||this;u.setPreload(void 0!==v.preload?v.preload:0);u.setUseInterimTilesOnError(void 0!==v.useInterimTilesOnError?v.useInterimTilesOnError:!0);return u}H(x,N);x.prototype.getPreload=function(){return this.get(l["default"].PRELOAD)};x.prototype.setPreload=function(v){this.set(l["default"].PRELOAD,v)};x.prototype.getUseInterimTilesOnError=
function(){return this.get(l["default"].USE_INTERIM_TILES_ON_ERROR)};x.prototype.setUseInterimTilesOnError=function(v){this.set(l["default"].USE_INTERIM_TILES_ON_ERROR,v)};return x}(Ja["default"]);E["default"]=A};
shadow$provide[295]=function(Ja,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(217));var l=k(A(264)),w=k(A(115)),H=A(75),N=A(84),x=A(78),v=A(102),u=A(128),m=A(72),g=A(70),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,e){function n(){this.constructor=
a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){e=f.call(this,e)||this;e.extentChanged=!0;e.renderedExtent_=null;e.renderedProjection=null;e.renderedTiles=[];e.newTiles_=!1;e.tmpExtent=(0,x.createEmpty)();e.tmpTileRange_=new l["default"](0,0,0,0);return e}d(a,f);a.prototype.isDrawableTile=function(e){var n=this.getLayer();e=e.getState();n=n.getUseInterimTilesOnError();return e==w["default"].LOADED||e==w["default"].EMPTY||e==w["default"].ERROR&&
!n};a.prototype.getTile=function(e,n,y,B){var D=B.pixelRatio,O=B.viewState.projection;B=this.getLayer();e=B.getSource().getTile(e,n,y,D,O);e.getState()==w["default"].ERROR&&(B.getUseInterimTilesOnError()?0<B.getPreload()&&(this.newTiles_=!0):e.setState(w["default"].LOADED));this.isDrawableTile(e)||(e=e.getInterimTile());return e};a.prototype.loadedTileCallback=function(e,n,y){return this.isDrawableTile(y)?f.prototype.loadedTileCallback.call(this,e,n,y):!1};a.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()};
a.prototype.renderFrame=function(e,n){var y=e.layerStatesArray[e.layerIndex],B=e.viewState,D=B.projection,O=B.resolution,M=B.center,F=B.rotation;B=e.pixelRatio;var z=this.getLayer(),G=z.getSource(),K=G.getRevision(),R=G.getTileGridForProjection(D),T=R.getZForResolution(O,G.zDirection),ja=R.getResolution(T),fa=e.extent,ha=y.extent&&(0,u.fromUserExtent)(y.extent,D);ha&&(fa=(0,x.getIntersection)(fa,(0,u.fromUserExtent)(y.extent,D)));var la=G.getTilePixelRatio(B),Z=Math.round(e.size[0]*la),P=Math.round(e.size[1]*
la);if(F){var C=Math.round(Math.sqrt(Z*Z+P*P));P=Z=C}C=ja*Z/2/la;var V=ja*P/2/la;M=[M[0]-C,M[1]-V,M[0]+C,M[1]+V];var ia=R.getTileRangeForExtentAndZ(fa,T);C={};C[T]={};var aa=this.createLoadedTileFinder(G,D,C),ya=this.tmpExtent,va=this.tmpTileRange_;this.newTiles_=!1;for(var Ia=ia.minX;Ia<=ia.maxX;++Ia)for(var bb=ia.minY;bb<=ia.maxY;++bb){V=this.getTile(T,Ia,bb,e);if(this.isDrawableTile(V)){var kb=(0,m.getUid)(this);if(V.getState()==w["default"].LOADED){C[T][V.tileCoord.toString()]=V;var ua=V.inTransition(kb);
this.newTiles_||!ua&&-1!==this.renderedTiles.indexOf(V)||(this.newTiles_=!0)}if(1===V.getAlpha(kb,e.time))continue}ua=R.getTileCoordChildTileRange(V.tileCoord,va,ya);kb=!1;ua&&(kb=aa(T+1,ua));kb||R.forEachTileCoordParentTileRange(V.tileCoord,aa,va,ya)}O=ja/O;(0,H.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/la,1/la,F,-Z/2,-P/2);F=(0,v.createTransformString)(this.pixelTransform);this.useContainer(n,F,y.opacity);n=this.context;ia=n.canvas;(0,H.makeInverse)(this.inversePixelTransform,this.pixelTransform);
(0,H.compose)(this.tempTransform,Z/2,P/2,O,O,0,-Z/2,-P/2);ia.width!=Z||ia.height!=P?(ia.width=Z,ia.height=P):this.containerReused||n.clearRect(0,0,Z,P);ha&&this.clipUnrotated(n,e,ha);(0,N.assign)(n,G.getContextOptions());this.preRender(n,e);this.renderedTiles.length=0;ha=Object.keys(C).map(Number);ha.sort(g.numberSafeCompareFunction);if(1!==y.opacity||this.containerReused&&!G.getOpaque(e.viewState.projection)){var Ta=[];var Ya=[]}else ha=ha.reverse();for(Z=ha.length-1;0<=Z;--Z){P=ha[Z];V=G.getTilePixelSize(P,
B,D);Ia=R.getResolution(P)/ja;aa=V[0]*Ia*O;ya=V[1]*Ia*O;va=R.getTileCoordForCoordAndZ((0,x.getTopLeft)(M),P);V=R.getTileCoordExtent(va);kb=(0,H.apply)(this.tempTransform,[la*(V[0]-M[0])/ja,la*(M[3]-V[3])/ja]);var Da=la*G.getGutterForProjection(D),ta=C[P],U;for(U in ta){V=ta[U];bb=V.tileCoord;Ia=kb[0]-(va[1]-bb[1])*aa;ua=Math.round(Ia+aa);bb=kb[1]-(va[2]-bb[2])*ya;var W=Math.round(bb+ya);Ia=Math.round(Ia);bb=Math.round(bb);var ba=ua-Ia,ca=W-bb,ra=T===P;ua=ra&&1!==V.getAlpha((0,m.getUid)(this),e.time);
if(!ua)if(Ta){n.save();W=[Ia,bb,Ia+ba,bb,Ia+ba,bb+ca,Ia,bb+ca];for(var qa=0,Fa=Ta.length;qa<Fa;++qa)if(T!==P&&P<Ya[qa]){var na=Ta[qa];n.beginPath();n.moveTo(W[0],W[1]);n.lineTo(W[2],W[3]);n.lineTo(W[4],W[5]);n.lineTo(W[6],W[7]);n.moveTo(na[6],na[7]);n.lineTo(na[4],na[5]);n.lineTo(na[2],na[3]);n.lineTo(na[0],na[1]);n.clip()}Ta.push(W);Ya.push(P)}else n.clearRect(Ia,bb,ba,ca);this.drawTileImage(V,e,Ia,bb,ba,ca,Da,ra,y.opacity);Ta&&!ua&&n.restore();this.renderedTiles.push(V);this.updateUsedTiles(e.usedTiles,
G,V)}}this.renderedRevision=K;this.renderedResolution=ja;this.extentChanged=!this.renderedExtent_||!(0,x.equals)(this.renderedExtent_,M);this.renderedExtent_=M;this.renderedPixelRatio=B;this.renderedProjection=D;this.manageTilePyramid(e,G,R,B,D,fa,T,z.getPreload());this.scheduleExpireCache(e,G);this.postRender(n,e);y.extent&&n.restore();F!==ia.style.transform&&(ia.style.transform=F);return this.container};a.prototype.drawTileImage=function(e,n,y,B,D,O,M,F,z){var G=this.getTileImage(e);if(G){var K=
(0,m.getUid)(this),R=F?e.getAlpha(K,n.time):1;z*=R;var T=z!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=z);this.context.drawImage(G,M,M,G.width-2*M,G.height-2*M,y,B,D,O);T&&this.context.restore();1!==R?n.animate=!0:F&&e.endTransition(K)}};a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};a.prototype.getTileImage=function(e){return e.getImage()};a.prototype.scheduleExpireCache=function(e,n){n.canExpireCache()&&(n=function(y,B,D){B=(0,m.getUid)(y);
B in D.usedTiles&&y.expireCache(D.viewState.projection,D.usedTiles[B])}.bind(null,n),e.postRenderFunctions.push(n))};a.prototype.updateUsedTiles=function(e,n,y){n=(0,m.getUid)(n);n in e||(e[n]={});e[n][y.getKey()]=!0};a.prototype.manageTilePyramid=function(e,n,y,B,D,O,M,F,z){var G=(0,m.getUid)(n);G in e.wantedTiles||(e.wantedTiles[G]={});var K=e.wantedTiles[G];e=e.tileQueue;var R=0,T,ja,fa;for(fa=y.getMinZoom();fa<=M;++fa){var ha=y.getTileRangeForExtentAndZ(O,fa,ha);var la=y.getResolution(fa);for(T=
ha.minX;T<=ha.maxX;++T)for(ja=ha.minY;ja<=ha.maxY;++ja)if(M-fa<=F){++R;var Z=n.getTile(fa,T,ja,B,D);Z.getState()==w["default"].IDLE&&(K[Z.getKey()]=!0,e.isKeyQueued(Z.getKey())||e.enqueue([Z,G,y.getTileCoordCenter(Z.tileCoord),la]));void 0!==z&&z(Z)}else n.useTile(fa,T,ja,D)}n.updateCacheSize(R,D)};return a}(Ja["default"]);E["default"]=A};
shadow$provide[296]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(294));var l=k(A(295)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x){return H.call(this,x)||this}w(N,H);N.prototype.createRenderer=function(){return new l["default"](this)};return N}(Ja["default"]);E["default"]=A};
shadow$provide[297]=function(Ja,A,rb,E){function k(fa){return fa&&fa.__esModule?fa:{"default":fa}}function l(fa,ha,la){if(G)return new ImageData(fa,ha,la);ha=K.createImageData(ha,la);ha.data.set(fa);return ha}function w(fa){var ha=!0;try{new ImageData(10,10)}catch(la){ha=!1}return function(la){var Z=la.buffers,P=la.meta,C=la.width,V=la.height,ia=Z.length,aa=Z[0].byteLength;if(la.imageOps){aa=Array(ia);for(la=0;la<ia;++la){var ya=la;var va=new Uint8ClampedArray(Z[la]);var Ia=C,bb=V;va=ha?new ImageData(va,
Ia,bb):{data:va,width:Ia,height:bb};aa[ya]=va}C=fa(aa,P).data}else{C=new Uint8ClampedArray(aa);V=Array(ia);ya=Array(ia);for(la=0;la<ia;++la)V[la]=new Uint8ClampedArray(Z[la]),ya[la]=[0,0,0,0];for(Z=0;Z<aa;Z+=4){for(la=0;la<ia;++la)va=V[la],ya[la][0]=va[Z],ya[la][1]=va[Z+1],ya[la][2]=va[Z+2],ya[la][3]=va[Z+3];la=fa(ya,P);C[Z]=la[0];C[Z+1]=la[1];C[Z+2]=la[2];C[Z+3]=la[3]}}return C.buffer}}function H(fa,ha){var la=Object.keys(fa.lib||{}).map(function(Z){return"var "+Z+" \x3d "+fa.lib[Z].toString()+";"}).concat(["var __minion__ \x3d ("+
w.toString()+")(",fa.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);la=new Blob(la,{type:"text/javascript"});la=URL.createObjectURL(la);la=new Worker(la);la.addEventListener("message",ha);return la}function N(fa,ha){var la=w(fa.operation),Z=!1;return{postMessage:function(P){setTimeout(function(){Z||ha({data:{buffer:la(P),meta:P.meta}})},0)},terminate:function(){Z=
!0}}}function x(fa,ha){var la=fa.getRenderer();if(!la)throw Error("Unsupported layer type: "+fa);if(!la.prepareFrame(ha))return null;fa=ha.size[0];var Z=ha.size[1];if(0===fa||0===Z)return null;ha=la.renderFrame(ha,null);if(ha)var P=ha.firstElementChild;if(!(P instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+P);if(P.width===fa&&P.height===Z)return P.getContext("2d").getImageData(0,0,fa,Z);ja?(ha=ja.canvas,ha.width!==fa||ha.height!==Z?ja=(0,O.createCanvasContext2D)(fa,Z):ja.clearRect(0,
0,fa,Z)):ja=(0,O.createCanvasContext2D)(fa,Z);ja.drawImage(P,0,0,fa,Z);return ja.getImageData(0,0,fa,Z)}function v(fa){return fa.map(function(ha){return ha.getLayerState()})}function u(fa){for(var ha=fa.length,la=Array(ha),Z=0;Z<ha;++Z){var P=Z,C=void 0,V=fa[Z];V instanceof a["default"]?V instanceof B["default"]?C=new n["default"]({source:V}):V instanceof f["default"]&&(C=new d["default"]({source:V})):C=V;la[P]=C}return la}Object.defineProperty(E,"__esModule",{value:!0});E.newImageData=l;E["default"]=
E.RasterSourceEvent=E.Processor=void 0;Ja=k(A(69));rb=k(A(82));var m=k(A(86)),g=k(A(283)),d=k(A(292)),f=k(A(280)),a=k(A(236)),e=k(A(93)),n=k(A(296)),y=k(A(116)),B=k(A(267)),D=A(84),O=A(101),M=A(75),F=A(78),z=function(){var fa=function(ha,la){fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,P){Z.__proto__=P}||function(Z,P){for(var C in P)Object.prototype.hasOwnProperty.call(P,C)&&(Z[C]=P[C])};return fa(ha,la)};return function(ha,la){function Z(){this.constructor=ha}fa(ha,la);ha.prototype=
null===la?Object.create(la):(Z.prototype=la.prototype,new Z)}}(),G=!0;try{new ImageData(10,10)}catch(fa){G=!1}var K=document.createElement("canvas").getContext("2d"),R=function(fa){function ha(la){var Z=fa.call(this)||this;Z._imageOps=!!la.imageOps;var P=0===la.threads?0:Z._imageOps?1:la.threads||1;var C=[];if(P)for(var V=0;V<P;++V)C[V]=H(la,Z._onWorkerMessage.bind(Z,V));else C[0]=N(la,Z._onWorkerMessage.bind(Z,0));Z._workers=C;Z._queue=[];Z._maxQueueLength=la.queue||Infinity;Z._running=0;Z._dataLookup=
{};Z._job=null;return Z}z(ha,fa);ha.prototype.process=function(la,Z,P){this._enqueue({inputs:la,meta:Z,callback:P});this._dispatch()};ha.prototype._enqueue=function(la){for(this._queue.push(la);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};ha.prototype._dispatch=function(){if(0===this._running&&0<this._queue.length){var la=this._queue.shift();this._job=la;var Z=la.inputs[0].width,P=la.inputs[0].height,C=la.inputs.map(function(kb){return kb.data.buffer}),V=this._workers.length;
this._running=V;if(1===V)this._workers[0].postMessage({buffers:C,meta:la.meta,imageOps:this._imageOps,width:Z,height:P},C);else for(var ia=4*Math.ceil(la.inputs[0].data.length/4/V),aa=0;aa<V;++aa){for(var ya=aa*ia,va=[],Ia=0,bb=C.length;Ia<bb;++Ia)va.push(C[Ia].slice(ya,ya+ia));this._workers[aa].postMessage({buffers:va,meta:la.meta,imageOps:this._imageOps,width:Z,height:P},va)}}};ha.prototype._onWorkerMessage=function(la,Z){this.disposed||(this._dataLookup[la]=Z.data,--this._running,0===this._running&&
this._resolveJob())};ha.prototype._resolveJob=function(){var la=this._job,Z=this._workers.length;if(1===Z){var P=new Uint8ClampedArray(this._dataLookup[0].buffer);var C=this._dataLookup[0].meta}else{var V=la.inputs[0].data.length;P=new Uint8ClampedArray(V);C=Array(V);V=4*Math.ceil(V/4/Z);for(var ia=0;ia<Z;++ia){var aa=ia*V;P.set(new Uint8ClampedArray(this._dataLookup[ia].buffer),aa);C[ia]=this._dataLookup[ia].meta}}this._job=null;this._dataLookup={};la.callback(null,l(P,la.inputs[0].width,la.inputs[0].height),
C);this._dispatch()};ha.prototype.disposeInternal=function(){for(var la=0;la<this._workers.length;++la)this._workers[la].terminate();this._workers.length=0};return ha}(Ja["default"]);E.Processor=R;var T=function(fa){function ha(la,Z,P){la=fa.call(this,la)||this;la.extent=Z.extent;la.resolution=Z.viewState.resolution/Z.pixelRatio;la.data=P;return la}z(ha,fa);return ha}(rb["default"]);E.RasterSourceEvent=T;A=function(fa){function ha(la){var Z=fa.call(this,{projection:null})||this;Z.processor_=null;
Z.operationType_=void 0!==la.operationType?la.operationType:"pixel";Z.threads_=void 0!==la.threads?la.threads:1;Z.layers_=u(la.sources);for(var P=Z.changed.bind(Z),C=0,V=Z.layers_.length;C<V;++C)Z.layers_[C].addEventListener(m["default"].CHANGE,P);Z.tileQueue_=new y["default"](function(){return 1},Z.changed.bind(Z));Z.renderedImageCanvas_=null;Z.frameState_={animate:!1,coordinateToPixelTransform:(0,M.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:v(Z.layers_),pixelRatio:1,
pixelToCoordinateTransform:(0,M.create)(),postRenderFunctions:[],size:[0,0],tileQueue:Z.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};Z.setAttributions(function(ia){for(var aa=[],ya=0,va=la.sources.length;ya<va;++ya){var Ia=la.sources[ya];Ia=(Ia instanceof a["default"]?Ia:Ia.getSource()).getAttributions();"function"===typeof Ia&&(Ia=Ia(ia),aa.push.apply(aa,Ia))}return 0!==aa.length?aa:null});void 0!==la.operation&&Z.setOperation(la.operation,la.lib);return Z}
z(ha,fa);ha.prototype.setOperation=function(la,Z){this.processor_&&this.processor_.dispose();this.processor_=new R({operation:la,imageOps:"image"===this.operationType_,queue:1,lib:Z,threads:this.threads_});this.changed()};ha.prototype.updateFrameState_=function(la,Z,P){var C=(0,D.assign)({},this.frameState_);C.viewState=(0,D.assign)({},C.viewState);var V=(0,F.getCenter)(la);C.extent=la.slice();C.size[0]=Math.round((0,F.getWidth)(la)/Z);C.size[1]=Math.round((0,F.getHeight)(la)/Z);C.time=Infinity;la=
C.viewState;la.center=V;la.projection=P;la.resolution=Z;return C};ha.prototype.allSourcesReady_=function(){for(var la=!0,Z,P=0,C=this.layers_.length;P<C;++P)if(Z=this.layers_[P].getSource(),Z.getState()!==e["default"].READY){la=!1;break}return la};ha.prototype.getImage=function(la,Z,P,C){if(!this.allSourcesReady_())return null;this.requestedFrameState_=P=this.updateFrameState_(la,Z,C);if(this.renderedImageCanvas_){C=this.renderedImageCanvas_.getResolution();var V=this.renderedImageCanvas_.getExtent();
Z===C&&(0,F.equals)(la,V)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();P.tileQueue.loadMoreTiles(16,16);P.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};ha.prototype.processSources_=function(){for(var la=this.requestedFrameState_,Z=this.layers_.length,P=Array(Z),C=0;C<Z;++C){la.layerIndex=C;var V=x(this.layers_[C],la);if(V)P[C]=V;else return}Z={};this.dispatchEvent(new T("beforeoperations",
la,Z));this.processor_.process(P,Z,this.onWorkerComplete_.bind(this,la))};ha.prototype.onWorkerComplete_=function(la,Z,P,C){if(!Z&&P){Z=la.extent;var V=la.viewState.resolution;if(V===this.requestedFrameState_.viewState.resolution&&(0,F.equals)(Z,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ia=this.renderedImageCanvas_.getImage().getContext("2d");else{ia=Math.round((0,F.getWidth)(Z)/V);var aa=Math.round((0,F.getHeight)(Z)/V);ia=(0,O.createCanvasContext2D)(ia,aa);this.renderedImageCanvas_=
new g["default"](Z,V,1,ia.canvas)}ia.putImageData(P,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new T("afteroperations",la,C))}}};ha.prototype.getImageInternal=function(){return null};ha.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();fa.prototype.disposeInternal.call(this)};return ha}(f["default"]);var ja=null;E["default"]=A};
shadow$provide[298]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(N){return N&&N.__esModule?N:{"default":N}}(A(273));A=A(289);var k=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}(),l=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',A.ATTRIBUTION],w={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",
opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},H={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};A=function(N){function x(v){var u=v.layer.indexOf("-");u=-1==u?v.layer:v.layer.slice(0,u);u=H[u];var m=w[v.layer];return N.call(this,{attributions:l,cacheSize:v.cacheSize,crossOrigin:"anonymous",
imageSmoothing:v.imageSmoothing,maxZoom:void 0!=v.maxZoom?v.maxZoom:u.maxZoom,minZoom:void 0!=v.minZoom?v.minZoom:u.minZoom,opaque:m.opaque,reprojectionErrorThreshold:v.reprojectionErrorThreshold,tileLoadFunction:v.tileLoadFunction,transition:v.transition,url:void 0!==v.url?v.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+v.layer+"/{z}/{x}/{y}."+m.extension,wrapX:v.wrapX})||this}k(x,N);return x}(Ja["default"]);E["default"]=A};
shadow$provide[299]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(u){return u&&u.__esModule?u:{"default":u}}(A(270));var k=A(281),l=A(84),w=A(78),H=A(79),N=A(152),x=A(261),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=m}u(m,
g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){var d=g?g:{};g=u.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,imageSmoothing:d.imageSmoothing,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition})||this;g.params_=d.params||{};g.hidpi_=void 0!==
d.hidpi?d.hidpi:!0;g.tmpExtent_=(0,w.createEmpty)();g.setKey(g.getKeyForParams_());return g}v(m,u);m.prototype.getKeyForParams_=function(){var g=0,d=[],f;for(f in this.params_)d[g++]=f+"-"+this.params_[f];return d.join("/")};m.prototype.getParams=function(){return this.params_};m.prototype.getRequestUrl_=function(g,d,f,a,e,n){var y=this.urls;if(y)return e=e.getCode().split(":").pop(),n.SIZE=d[0]+","+d[1],n.BBOX=f.join(","),n.BBOXSR=e,n.IMAGESR=e,n.DPI=Math.round(n.DPI?n.DPI*a:90*a),1==y.length?y=
y[0]:(g=(0,H.modulo)((0,x.hash)(g),y.length),y=y[g]),y=y.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,k.appendParams)(y,n)};m.prototype.getTilePixelRatio=function(g){return this.hidpi_?g:1};m.prototype.updateParams=function(g){(0,l.assign)(this.params_,g);this.setKey(this.getKeyForParams_())};m.prototype.tileUrlFunction=function(g,d,f){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(f));if(!(a.getResolutions().length<=g[0])){1==d||
this.hidpi_||(d=1);var e=a.getTileCoordExtent(g,this.tmpExtent_);a=(0,N.toSize)(a.getTileSize(g[0]),this.tmpSize);1!=d&&(a=(0,N.scale)(a,d,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,l.assign)(n,this.params_);return this.getRequestUrl_(g,a,e,d,f,n)}};return m}(Ja["default"]);E["default"]=A};
shadow$provide[300]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(253));var l=k(A(115));rb=k(A(273));var w=A(101),H=A(261),N=A(152),x=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=
m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}(),v=function(u){function m(g,d,f){g=u.call(this,g,l["default"].LOADED)||this;g.tileSize_=d;g.text_=f;g.canvas_=null;return g}x(m,u);m.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var g=this.tileSize_,d=(0,w.createCanvasContext2D)(g[0],g[1]);d.strokeStyle="grey";d.strokeRect(.5,.5,g[0]+.5,g[1]+.5);d.fillStyle="grey";d.strokeStyle="white";d.textAlign="center";d.textBaseline="middle";d.font="24px sans-serif";
d.lineWidth=4;d.strokeText(this.text_,g[0]/2,g[1]/2,g[0]);d.fillText(this.text_,g[0]/2,g[1]/2,g[0]);return this.canvas_=d.canvas};m.prototype.load=function(){};return m}(Ja["default"]);A=function(u){function m(g){g=g||{};return u.call(this,{opaque:!1,projection:g.projection,tileGrid:g.tileGrid,wrapX:void 0!==g.wrapX?g.wrapX:!0,zDirection:g.zDirection})||this}x(m,u);m.prototype.getTile=function(g,d,f){var a=(0,H.getKeyZXY)(g,d,f);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var e=
(0,N.toSize)(this.tileGrid.getTileSize(g));g=[g,d,f];d=this.getTileCoordForTileUrlFunction(g);e=new v(g,e,d?"z:"+d[0]+" x:"+d[1]+" y:"+d[2]:"none");this.tileCache.set(a,e);return e};return m}(rb["default"]);E["default"]=A};
shadow$provide[301]=function(Ja,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(93));Ja=k(A(270));var w=A(78),H=A(74),N=A(268),x=A(266),v=A(128),u=A(271),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=
d}g(d,f);d.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=g.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:(0,v.get)("EPSG:3857"),reprojectionErrorThreshold:f.reprojectionErrorThreshold,state:l["default"].LOADING,tileLoadFunction:f.tileLoadFunction,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition})||this;a.tileJSON_=null;a.tileSize_=f.tileSize;if(f.url)if(f.jsonp)(0,
u.jsonp)(f.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var e=new XMLHttpRequest;e.addEventListener("load",a.onXHRLoad_.bind(a));e.addEventListener("error",a.onXHRError_.bind(a));e.open("GET",f.url);e.send()}else f.tileJSON?a.handleTileJSONResponse(f.tileJSON):(0,H.assert)(!1,51);return a}m(d,g);d.prototype.onXHRLoad_=function(f){f=f.target;if(!f.status||200<=f.status&&300>f.status){var a=void 0;try{a=JSON.parse(f.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};
d.prototype.onXHRError_=function(f){this.handleTileJSONError()};d.prototype.getTileJSON=function(){return this.tileJSON_};d.prototype.handleTileJSONResponse=function(f){var a=(0,v.get)("EPSG:4326"),e=this.getProjection();if(void 0!==f.bounds){var n=(0,v.getTransformFromProjections)(a,e);n=(0,w.applyTransform)(f.bounds,n)}var y=f.minzoom||0,B=f.maxzoom||22;this.tileGrid=e=(0,x.createXYZ)({extent:(0,x.extentFromProjection)(e),maxZoom:B,minZoom:y,tileSize:this.tileSize_});this.tileUrlFunction=(0,N.createFromTemplates)(f.tiles,
e);if(void 0!==f.attribution&&!this.getAttributions()){var D=void 0!==n?n:a.getExtent();this.setAttributions(function(O){return(0,w.intersects)(D,O.extent)?[f.attribution]:null})}this.tileJSON_=f;this.setState(l["default"].READY)};d.prototype.handleTileJSONError=function(){this.setState(l["default"].ERROR)};return d}(Ja["default"]);E["default"]=A};
shadow$provide[302]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=A(257);Ja=k(A(270));var w=k(A(287)),H=A(281),N=A(74),x=A(84),v=A(78),u=A(152),m=A(258),g=A(95),d=A(128),f=A(79),a=A(261),e=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,
B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B){var D=B?B:{},O=D.params||{};B=n.call(this,{attributions:D.attributions,cacheSize:D.cacheSize,crossOrigin:D.crossOrigin,imageSmoothing:D.imageSmoothing,opaque:!("TRANSPARENT"in O?O.TRANSPARENT:1),projection:D.projection,reprojectionErrorThreshold:D.reprojectionErrorThreshold,tileClass:D.tileClass,tileGrid:D.tileGrid,tileLoadFunction:D.tileLoadFunction,
url:D.url,urls:D.urls,wrapX:void 0!==D.wrapX?D.wrapX:!0,transition:D.transition})||this;B.gutter_=void 0!==D.gutter?D.gutter:0;B.params_=O;B.v13_=!0;B.serverType_=D.serverType;B.hidpi_=void 0!==D.hidpi?D.hidpi:!0;B.tmpExtent_=(0,v.createEmpty)();B.updateV13_();B.setKey(B.getKeyForParams_());return B}e(y,n);y.prototype.getFeatureInfoUrl=function(B,D,O,M){O=(0,d.get)(O);var F=this.getProjection(),z=this.getTileGrid();z||(z=this.getTileGridForProjection(O));D=z.getZForResolution(D,this.zDirection);D=
z.getTileCoordForCoordAndZ(B,D);if(!(z.getResolutions().length<=D[0])){var G=z.getResolution(D[0]),K=z.getTileCoordExtent(D,this.tmpExtent_);z=(0,u.toSize)(z.getTileSize(D[0]),this.tmpSize);var R=this.gutter_;0!==R&&(z=(0,u.buffer)(z,R,this.tmpSize),K=(0,v.buffer)(K,G*R,K));F&&F!==O&&(G=(0,m.calculateSourceResolution)(F,O,B,G),K=(0,d.transformExtent)(K,O,F),B=(0,d.transform)(B,O,F));R={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};
(0,x.assign)(R,this.params_,M);M=Math.floor((K[3]-B[1])/G);R[this.v13_?"I":"X"]=Math.floor((B[0]-K[0])/G);R[this.v13_?"J":"Y"]=M;return this.getRequestUrl_(D,z,K,1,F||O,R)}};y.prototype.getLegendUrl=function(B,D){if(void 0!==this.urls[0]){var O={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===D||void 0===D.LAYER){var M=this.params_.LAYERS;if(Array.isArray(M)&&1!==M.length)return;O.LAYER=M}void 0!==B&&(M=this.getProjection()?this.getProjection().getMetersPerUnit():
1,O.SCALE=B*M/2.8E-4);(0,x.assign)(O,D);return(0,H.appendParams)(this.urls[0],O)}};y.prototype.getGutter=function(){return this.gutter_};y.prototype.getParams=function(){return this.params_};y.prototype.getRequestUrl_=function(B,D,O,M,F,z){var G=this.urls;if(G){z.WIDTH=D[0];z.HEIGHT=D[1];z[this.v13_?"CRS":"SRS"]=F.getCode();"STYLES"in this.params_||(z.STYLES="");if(1!=M)switch(this.serverType_){case w["default"].GEOSERVER:D=90*M+.5|0;z.FORMAT_OPTIONS="FORMAT_OPTIONS"in z?z.FORMAT_OPTIONS+(";dpi:"+
D):"dpi:"+D;break;case w["default"].MAPSERVER:z.MAP_RESOLUTION=90*M;break;case w["default"].CARMENTA_SERVER:case w["default"].QGIS:z.DPI=90*M;break;default:(0,N.assert)(!1,52)}F=F.getAxisOrientation();this.v13_&&"ne"==F.substr(0,2)&&(F=O[0],O[0]=O[1],O[1]=F,F=O[2],O[2]=O[3],O[3]=F);z.BBOX=O.join(",");1==G.length?G=G[0]:(B=(0,f.modulo)((0,a.hash)(B),G.length),G=G[B]);return(0,H.appendParams)(G,z)}};y.prototype.getTilePixelRatio=function(B){return this.hidpi_&&void 0!==this.serverType_?B:1};y.prototype.getKeyForParams_=
function(){var B=0,D=[],O;for(O in this.params_)D[B++]=O+"-"+this.params_[O];return D.join("/")};y.prototype.updateParams=function(B){(0,x.assign)(this.params_,B);this.updateV13_();this.setKey(this.getKeyForParams_())};y.prototype.updateV13_=function(){var B=this.params_.VERSION||l.DEFAULT_WMS_VERSION;this.v13_=0<=(0,g.compareVersions)(B,"1.3")};y.prototype.tileUrlFunction=function(B,D,O){var M=this.getTileGrid();M||(M=this.getTileGridForProjection(O));if(!(M.getResolutions().length<=B[0])){1==D||
this.hidpi_&&void 0!==this.serverType_||(D=1);var F=M.getResolution(B[0]),z=M.getTileCoordExtent(B,this.tmpExtent_);M=(0,u.toSize)(M.getTileSize(B[0]),this.tmpSize);var G=this.gutter_;0!==G&&(M=(0,u.buffer)(M,G,this.tmpSize),z=(0,v.buffer)(z,F*G,z));1!=D&&(M=(0,u.scale)(M,D,this.tmpSize));F={SERVICE:"WMS",VERSION:l.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,x.assign)(F,this.params_);return this.getRequestUrl_(B,M,z,D,O,F)}};return y}(Ja["default"]);E["default"]=A};
shadow$provide[303]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=E.CustomTile=void 0;var l=k(A(86)),w=k(A(93));Ja=k(A(253));rb=k(A(267));var H=k(A(115)),N=A(78),x=A(74),v=A(268),u=A(266),m=A(261),g=A(128),d=A(87),f=A(271),a=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&
(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}(),e=function(n){function y(B,D,O,M,F,z){B=n.call(this,B,D)||this;B.src_=O;B.extent_=M;B.preemptive_=F;B.grid_=null;B.keys_=null;B.data_=null;B.jsonp_=z;return B}a(y,n);y.prototype.getImage=function(){return null};y.prototype.getData=function(B){if(!this.grid_||!this.keys_)return null;var D=this.grid_[Math.floor((1-(B[1]-this.extent_[1])/(this.extent_[3]-
this.extent_[1]))*this.grid_.length)];if("string"!==typeof D)return null;B=D.charCodeAt(Math.floor((B[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*D.length));93<=B&&B--;35<=B&&B--;B-=32;D=null;B in this.keys_&&(B=this.keys_[B],D=this.data_&&B in this.data_?this.data_[B]:B);return D};y.prototype.forDataAtCoordinate=function(B,D,O){this.state==H["default"].EMPTY&&!0===O?(this.state=H["default"].IDLE,(0,d.listenOnce)(this,l["default"].CHANGE,function(M){D(this.getData(B))},this),this.loadInternal_()):
!0===O?setTimeout(function(){D(this.getData(B))}.bind(this),0):D(this.getData(B))};y.prototype.getKey=function(){return this.src_};y.prototype.handleError_=function(){this.state=H["default"].ERROR;this.changed()};y.prototype.handleLoad_=function(B){this.grid_=B.grid;this.keys_=B.keys;this.data_=B.data;this.state=H["default"].LOADED;this.changed()};y.prototype.loadInternal_=function(){if(this.state==H["default"].IDLE)if(this.state=H["default"].LOADING,this.jsonp_)(0,f.jsonp)(this.src_,this.handleLoad_.bind(this),
this.handleError_.bind(this));else{var B=new XMLHttpRequest;B.addEventListener("load",this.onXHRLoad_.bind(this));B.addEventListener("error",this.onXHRError_.bind(this));B.open("GET",this.src_);B.send()}};y.prototype.onXHRLoad_=function(B){B=B.target;if(!B.status||200<=B.status&&300>B.status){var D=void 0;try{D=JSON.parse(B.responseText)}catch(O){this.handleError_();return}this.handleLoad_(D)}else this.handleError_()};y.prototype.onXHRError_=function(B){this.handleError_()};y.prototype.load=function(){this.preemptive_?
this.loadInternal_():this.setState(H["default"].EMPTY)};return y}(Ja["default"]);E.CustomTile=e;A=function(n){function y(B){var D=n.call(this,{projection:(0,g.get)("EPSG:3857"),state:w["default"].LOADING})||this;D.preemptive_=void 0!==B.preemptive?B.preemptive:!0;D.tileUrlFunction_=v.nullTileUrlFunction;D.template_=void 0;D.jsonp_=B.jsonp||!1;if(B.url)if(D.jsonp_)(0,f.jsonp)(B.url,D.handleTileJSONResponse.bind(D),D.handleTileJSONError.bind(D));else{var O=new XMLHttpRequest;O.addEventListener("load",
D.onXHRLoad_.bind(D));O.addEventListener("error",D.onXHRError_.bind(D));O.open("GET",B.url);O.send()}else B.tileJSON?D.handleTileJSONResponse(B.tileJSON):(0,x.assert)(!1,51);return D}a(y,n);y.prototype.onXHRLoad_=function(B){B=B.target;if(!B.status||200<=B.status&&300>B.status){var D=void 0;try{D=JSON.parse(B.responseText)}catch(O){this.handleTileJSONError();return}this.handleTileJSONResponse(D)}else this.handleTileJSONError()};y.prototype.onXHRError_=function(B){this.handleTileJSONError()};y.prototype.getTemplate=
function(){return this.template_};y.prototype.forDataAtCoordinateAndResolution=function(B,D,O,M){this.tileGrid?(D=this.tileGrid.getZForResolution(D,this.zDirection),D=this.tileGrid.getTileCoordForCoordAndZ(B,D),this.getTile(D[0],D[1],D[2],1,this.getProjection()).forDataAtCoordinate(B,O,M)):!0===M?setTimeout(function(){O(null)},0):O(null)};y.prototype.handleTileJSONError=function(){this.setState(w["default"].ERROR)};y.prototype.handleTileJSONResponse=function(B){var D=(0,g.get)("EPSG:4326"),O=this.getProjection();
if(void 0!==B.bounds){var M=(0,g.getTransformFromProjections)(D,O);M=(0,N.applyTransform)(B.bounds,M)}var F=B.minzoom||0,z=B.maxzoom||22;this.tileGrid=O=(0,u.createXYZ)({extent:(0,u.extentFromProjection)(O),maxZoom:z,minZoom:F});this.template_=B.template;if(F=B.grids){this.tileUrlFunction_=(0,v.createFromTemplates)(F,O);if(void 0!==B.attribution){var G=void 0!==M?M:D.getExtent();this.setAttributions(function(K){return(0,N.intersects)(G,K.extent)?[B.attribution]:null})}this.setState(w["default"].READY)}else this.setState(w["default"].ERROR)};
y.prototype.getTile=function(B,D,O,M,F){var z=(0,m.getKeyZXY)(B,D,O);if(this.tileCache.containsKey(z))return this.tileCache.get(z);B=[B,D,O];D=this.getTileCoordForTileUrlFunction(B,F);M=this.tileUrlFunction_(D,M,F);M=new e(B,void 0!==M?H["default"].IDLE:H["default"].EMPTY,void 0!==M?M:"",this.tileGrid.getTileCoordExtent(B),this.preemptive_,this.jsonp_);this.tileCache.set(z,M);return M};y.prototype.useTile=function(B,D,O){B=(0,m.getKeyZXY)(B,D,O);this.tileCache.containsKey(B)&&this.tileCache.get(B)};
return y}(rb["default"]);E["default"]=A};
shadow$provide[304]=function(Ja,A,rb,E){function k(H){return H&&H.__esModule?H:{"default":H}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(253));var l=k(A(115)),w=function(){var H=function(N,x){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(v[m]=u[m])};return H(N,x)};return function(N,x){function v(){this.constructor=N}H(N,x);N.prototype=null===x?Object.create(x):
(v.prototype=x.prototype,new v)}}();A=function(H){function N(x,v,u,m,g,d){x=H.call(this,x,v,d)||this;x.extent=null;x.format_=m;x.features_=null;x.projection=null;x.tileLoadFunction_=g;x.url_=u;x.key=u;return x}w(N,H);N.prototype.getFormat=function(){return this.format_};N.prototype.getFeatures=function(){return this.features_};N.prototype.load=function(){this.state==l["default"].IDLE&&(this.setState(l["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,
this.resolution,this.projection))};N.prototype.onLoad=function(x,v){this.setFeatures(x)};N.prototype.onError=function(){this.setState(l["default"].ERROR)};N.prototype.setFeatures=function(x){this.features_=x;this.setState(l["default"].LOADED)};N.prototype.setLoader=function(x){this.loader_=x};return N}(Ja["default"]);E["default"]=A};
shadow$provide[305]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(N){return N&&N.__esModule?N:{"default":N}}(A(253));var k=A(101),l=A(72),w=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}(),H=[];A=function(N){function x(v,u,m,g){v=N.call(this,v,u,{transition:0})||this;v.context_={};v.executorGroups={};v.declutterExecutorGroups={};v.loadingSourceTiles=0;v.errorSourceTileKeys={};v.hitDetectionImageData={};v.replayState_={};v.sourceTiles=null;v.getSourceTiles=g.bind(void 0,v);v.sourceZ=-1;v.hifi=!1;v.wrappedTileCoord=m;return v}w(x,N);x.prototype.getContext=function(v){v=(0,l.getUid)(v);v in this.context_||(this.context_[v]=(0,k.createCanvasContext2D)(1,
1,H));return this.context_[v]};x.prototype.hasContext=function(v){return(0,l.getUid)(v)in this.context_};x.prototype.getImage=function(v){return this.hasContext(v)?this.getContext(v).canvas:null};x.prototype.getReplayState=function(v){v=(0,l.getUid)(v);v in this.replayState_||(this.replayState_[v]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1});return this.replayState_[v]};x.prototype.load=
function(){this.getSourceTiles()};x.prototype.release=function(){for(var v in this.context_)H.push(this.context_[v].canvas),delete this.context_[v];N.prototype.release.call(this)};return x}(Ja["default"]);E["default"]=A};
shadow$provide[306]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(n,y){n.setLoader(function(B,D,O){(0,f.loadFeaturesXhr)(y,n.getFormat(),B,D,O,n.onLoad.bind(n),n.onError.bind(n))})}Object.defineProperty(E,"__esModule",{value:!0});E.defaultLoadFunction=l;E["default"]=void 0;var w=k(A(86)),H=k(A(304)),N=k(A(262)),x=k(A(115));Ja=k(A(269));var v=k(A(305)),u=A(78),m=A(266),g=A(70),d=A(261),f=A(239),a=A(152),e=function(){var n=function(y,B){n=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}();A=function(n){function y(B){var D=B.projection||"EPSG:3857";var O=B.extent||(0,m.extentFromProjection)(D);O=B.tileGrid||(0,m.createXYZ)({extent:O,maxResolution:B.maxResolution,maxZoom:void 0!==B.maxZoom?B.maxZoom:
22,minZoom:B.minZoom,tileSize:B.tileSize||512});D=n.call(this,{attributions:B.attributions,attributionsCollapsible:B.attributionsCollapsible,cacheSize:B.cacheSize,opaque:!1,projection:D,state:B.state,tileGrid:O,tileLoadFunction:B.tileLoadFunction?B.tileLoadFunction:l,tileUrlFunction:B.tileUrlFunction,url:B.url,urls:B.urls,wrapX:void 0===B.wrapX?!0:B.wrapX,transition:B.transition,zDirection:void 0===B.zDirection?1:B.zDirection})||this;D.format_=B.format?B.format:null;D.loadingTiles_={};D.sourceTileCache=
new N["default"](D.tileCache.highWaterMark);D.overlaps_=void 0==B.overlaps?!0:B.overlaps;D.tileClass=B.tileClass?B.tileClass:H["default"];D.tileGrids_={};return D}e(y,n);y.prototype.getFeaturesInExtent=function(B){var D=[],O=this.tileCache;if(0===O.getCount())return D;var M=(0,d.fromKey)(O.peekFirstKey())[0],F=this.tileGrid;O.forEach(function(z){if(z.tileCoord[0]===M&&z.getState()===x["default"].LOADED){z=z.getSourceTiles();for(var G=0,K=z.length;G<K;++G){var R=z[G],T=R.tileCoord;if((0,u.intersects)(B,
F.getTileCoordExtent(T))&&(R=R.getFeatures())){T=0;for(var ja=R.length;T<ja;++T){var fa=R[T],ha=fa.getGeometry();(0,u.intersects)(B,ha.getExtent())&&D.push(fa)}}}}});return D};y.prototype.getOverlaps=function(){return this.overlaps_};y.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};y.prototype.expireCache=function(B,D){n.prototype.expireCache.call(this,B,D);this.sourceTileCache.expireCache({})};y.prototype.getSourceTiles=function(B,D,O){var M=O.wrappedTileCoord,F=
this.getTileGridForProjection(D),z=F.getTileCoordExtent(M);M=F.getResolution(M[0]);(0,u.buffer)(z,-M,z);var G=this.tileGrid;(F=G.getExtent())&&(0,u.getIntersection)(z,F,z);var K=G.getZForResolution(M,1);M=G.getMinZoom();F=O.sourceTiles;if(F&&0<F.length&&F[0].tileCoord[0]===K){var R=F;var T=!0;var ja=K}else{R=[];ja=K+1;do--ja,T=!0,G.forEachTileCoord(z,ja,function(fa){var ha=this.tileUrlFunction(fa,B,D);if(void 0!==ha)if(this.sourceTileCache.containsKey(ha)){var la=this.sourceTileCache.get(ha);fa=la.getState();
if(fa===x["default"].LOADED||fa===x["default"].ERROR||fa===x["default"].EMPTY){R.push(la);return}}else ja===K&&(la=new this.tileClass(fa,x["default"].IDLE,ha,this.format_,this.tileLoadFunction),la.extent=G.getTileCoordExtent(fa),la.projection=D,la.resolution=G.getResolution(fa[0]),this.sourceTileCache.set(ha,la),la.addEventListener(w["default"].CHANGE,this.handleTileChange.bind(this)),la.load());T=T&&la&&la.getState()===x["default"].LOADED;la&&la.getState()!==x["default"].EMPTY&&O.getState()===x["default"].IDLE&&
(O.loadingSourceTiles++,la.addEventListener(w["default"].CHANGE,function P(){var C=la.getState(),V=la.getKey();if(C===x["default"].LOADED||C===x["default"].ERROR)C===x["default"].LOADED?(la.removeEventListener(w["default"].CHANGE,P),O.loadingSourceTiles--,delete O.errorSourceTileKeys[V]):C===x["default"].ERROR&&(O.errorSourceTileKeys[V]=!0),C=Object.keys(O.errorSourceTileKeys).length,0===O.loadingSourceTiles-C&&(O.hifi=0===C,O.sourceZ=K,O.setState(x["default"].LOADED))}))}.bind(this)),T||(R.length=
0);while(!T&&ja>M)}O.getState()===x["default"].IDLE&&O.setState(x["default"].LOADING);T&&(O.hifi=K===ja,O.sourceZ=ja,O.getState()<x["default"].LOADED?O.setState(x["default"].LOADED):F&&(0,g.equals)(R,F)||(O.sourceTiles=R));return R};y.prototype.getTile=function(B,D,O,M,F){var z=(0,d.getKeyZXY)(B,D,O),G=this.getKey();if(this.tileCache.containsKey(z)){var K=this.tileCache.get(z);if(K.key===G)return K}D=[B,D,O];O=this.getTileCoordForTileUrlFunction(D,F);var R=this.getTileGrid().getExtent(),T=this.getTileGridForProjection(F);
if(O&&R){var ja=T.getTileCoordExtent(O);(0,u.buffer)(ja,-T.getResolution(B),ja);(0,u.intersects)(R,ja)||(O=null)}var fa=!0;null!==O&&(R=this.tileGrid,B=T.getResolution(B),ja=R.getZForResolution(B,1),T=T.getTileCoordExtent(O),(0,u.buffer)(T,-B,T),R.forEachTileCoord(T,ja,function(ha){fa=fa&&!this.tileUrlFunction(ha,M,F)}.bind(this)));D=new v["default"](D,fa?x["default"].EMPTY:x["default"].IDLE,O,this.getSourceTiles.bind(this,M,F));D.key=G;K?(D.interimTile=K,D.refreshInterimChain(),this.tileCache.replace(z,
D)):this.tileCache.set(z,D);return D};y.prototype.getTileGridForProjection=function(B){var D=B.getCode(),O=this.tileGrids_[D];O||(O=this.tileGrid,O=(0,m.createForProjection)(B,void 0,O?O.getTileSize(O.getMinZoom()):void 0),this.tileGrids_[D]=O);return O};y.prototype.getTilePixelRatio=function(B){return B};y.prototype.getTilePixelSize=function(B,D,O){O=this.getTileGridForProjection(O);B=(0,a.toSize)(O.getTileSize(B),this.tmpSize);return[Math.round(B[0]*D),Math.round(B[1]*D)]};y.prototype.updateCacheSize=
function(B,D){n.prototype.updateCacheSize.call(this,2*B,D)};return y}(Ja["default"]);E["default"]=A};
shadow$provide[307]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={KVP:"KVP",REST:"REST"}};
shadow$provide[308]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.createFromCapabilitiesMatrixSet=function(N,x,v){var u=[],m=[],g=[],d=[],f=[],a=void 0!==v?v:[];v=N.SupportedCRS;v=(0,l.get)(v);var e=v.getMetersPerUnit(),n="ne"==v.getAxisOrientation().substr(0,2);N.TileMatrix.sort(function(y,B){return B.ScaleDenominator-y.ScaleDenominator});N.TileMatrix.forEach(function(y){if(0<a.length?(0,k.find)(a,function(M){return y.Identifier==M.TileMatrix?!0:-1===y.Identifier.indexOf(":")?
N.Identifier+":"+y.Identifier===M.TileMatrix:!1}):1){m.push(y.Identifier);var B=2.8E-4*y.ScaleDenominator/e,D=y.TileWidth,O=y.TileHeight;n?g.push([y.TopLeftCorner[1],y.TopLeftCorner[0]]):g.push(y.TopLeftCorner);u.push(B);d.push(D==O?D:[D,O]);f.push([y.MatrixWidth,y.MatrixHeight])}});return new H({extent:x,origins:g,resolutions:u,matrixIds:m,tileSizes:d,sizes:f})};E["default"]=void 0;Ja=function(N){return N&&N.__esModule?N:{"default":N}}(A(265));var k=A(70),l=A(128),w=function(){var N=function(x,v){N=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}}(),H=function(N){function x(v){var u=N.call(this,{extent:v.extent,origin:v.origin,origins:v.origins,resolutions:v.resolutions,tileSize:v.tileSize,tileSizes:v.tileSizes,sizes:v.sizes})||
this;u.matrixIds_=v.matrixIds;return u}w(x,N);x.prototype.getMatrixId=function(v){return this.matrixIds_[v]};x.prototype.getMatrixIds=function(){return this.matrixIds_};return x}(Ja["default"]);E["default"]=H};
shadow$provide[309]=function(Ja,A,rb,E){function k(g){return g&&g.__esModule?g:{"default":g}}Object.defineProperty(E,"__esModule",{value:!0});E.optionsFromCapabilities=function(g,d){var f=g.Contents.Layer;f=(0,u.find)(f,function(ja,fa,ha){return ja.Identifier==d.layer});if(null===f)return null;var a=g.Contents.TileMatrixSet;var e=1<f.TileMatrixSetLink.length?"projection"in d?(0,u.findIndex)(f.TileMatrixSetLink,function(ja,fa,ha){fa=(0,u.find)(a,function(Z){return Z.Identifier==ja.TileMatrixSet}).SupportedCRS;
ha=(0,v.get)(fa);var la=(0,v.get)(d.projection);return ha&&la?(0,v.equivalent)(ha,la):fa==d.projection}):(0,u.findIndex)(f.TileMatrixSetLink,function(ja,fa,ha){return ja.TileMatrixSet==d.matrixSet}):0;0>e&&(e=0);var n=f.TileMatrixSetLink[e].TileMatrixSet,y=f.TileMatrixSetLink[e].TileMatrixSetLimits,B=f.Format[0];"format"in d&&(B=d.format);e=(0,u.findIndex)(f.Style,function(ja,fa,ha){return"style"in d?ja.Title==d.style:ja.isDefault});0>e&&(e=0);e=f.Style[e].Identifier;var D={};"Dimension"in f&&f.Dimension.forEach(function(ja,
fa,ha){fa=ja.Identifier;ha=ja.Default;void 0===ha&&(ha=ja.Value[0]);D[fa]=ha});var O=g.Contents.TileMatrixSet,M=(0,u.find)(O,function(ja,fa,ha){return ja.Identifier==n}),F;(O=M.SupportedCRS)&&(F=(0,v.get)(O));"projection"in d&&(O=(0,v.get)(d.projection),!O||F&&!(0,v.equivalent)(O,F)||(F=O));var z="ne"==F.getAxisOrientation().substr(0,2);O=M.TileMatrix[0];var G={MinTileCol:0,MinTileRow:0,MaxTileCol:O.MatrixWidth-1,MaxTileRow:O.MatrixHeight-1};if(y){G=y[y.length-1];var K=(0,u.find)(M.TileMatrix,function(ja){return ja.Identifier===
G.TileMatrix||M.Identifier+":"+ja.Identifier===G.TileMatrix});K&&(O=K)}K=2.8E-4*O.ScaleDenominator/F.getMetersPerUnit();z=z?[O.TopLeftCorner[1],O.TopLeftCorner[0]]:O.TopLeftCorner;var R=O.TileWidth*K;O=O.TileHeight*K;O=[z[0]+R*G.MinTileCol,z[1]-O*(1+G.MaxTileRow),z[0]+R*(1+G.MaxTileCol),z[1]-O*G.MinTileRow];null===F.getExtent()&&F.setExtent(O);y=(0,N.createFromCapabilitiesMatrixSet)(M,O,y);var T=[];O=d.requestEncoding;O=void 0!==O?O:"";if("OperationsMetadata"in g&&"GetTile"in g.OperationsMetadata)for(g=
g.OperationsMetadata.GetTile.DCP.HTTP.Get,K=0,z=g.length;K<z;++K)if(g[K].Constraint)if(R=(0,u.find)(g[K].Constraint,function(ja){return"GetEncoding"==ja.name}).AllowedValues.Value,""===O&&(O=R[0]),O===l["default"].KVP)(0,u.includes)(R,l["default"].KVP)&&T.push(g[K].href);else break;else g[K].href&&(O=l["default"].KVP,T.push(g[K].href));0===T.length&&(O=l["default"].REST,f.ResourceURL.forEach(function(ja){"tile"===ja.resourceType&&(B=ja.format,T.push(ja.template))}));return{urls:T,layer:d.layer,matrixSet:n,
format:B,projection:F,requestEncoding:O,tileGrid:y,style:e,dimensions:D,wrapX:!1,crossOrigin:d.crossOrigin}};E["default"]=void 0;Ja=k(A(270));var l=k(A(307)),w=A(281),H=A(84),N=A(308),x=A(268),v=A(128),u=A(70),m=function(){var g=function(d,f){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])};return g(d,f)};return function(d,f){function a(){this.constructor=d}g(d,f);d.prototype=
null===f?Object.create(f):(a.prototype=f.prototype,new a)}}();A=function(g){function d(f){var a=void 0!==f.requestEncoding?f.requestEncoding:l["default"].KVP;var e=f.tileGrid;var n=f.urls;void 0===n&&void 0!==f.url&&(n=(0,x.expandUrl)(f.url));e=g.call(this,{attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,imageSmoothing:f.imageSmoothing,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:f.tileClass,tileGrid:e,tileLoadFunction:f.tileLoadFunction,
tilePixelRatio:f.tilePixelRatio,urls:n,wrapX:void 0!==f.wrapX?f.wrapX:!1,transition:f.transition})||this;e.version_=void 0!==f.version?f.version:"1.0.0";e.format_=void 0!==f.format?f.format:"image/jpeg";e.dimensions_=void 0!==f.dimensions?f.dimensions:{};e.layer_=f.layer;e.matrixSet_=f.matrixSet;e.style_=f.style;e.requestEncoding_=a;e.setKey(e.getKeyForDimensions_());n&&0<n.length&&(e.tileUrlFunction=(0,x.createFromTileUrlFunctions)(n.map(e.createFromWMTSTemplate.bind(e))));return e}m(d,g);d.prototype.setUrls=
function(f){this.urls=f;var a=f.join("\n");this.setTileUrlFunction((0,x.createFromTileUrlFunctions)(f.map(this.createFromWMTSTemplate.bind(this))),a)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};
d.prototype.getVersion=function(){return this.version_};d.prototype.getKeyForDimensions_=function(){var f=0,a=[],e;for(e in this.dimensions_)a[f++]=e+"-"+this.dimensions_[e];return a.join("/")};d.prototype.updateDimensions=function(f){(0,H.assign)(this.dimensions_,f);this.setKey(this.getKeyForDimensions_())};d.prototype.createFromWMTSTemplate=function(f){var a=this.requestEncoding_,e={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};a==l["default"].KVP&&(0,H.assign)(e,{Service:"WMTS",
Request:"GetTile",Version:this.version_,Format:this.format_});f=a==l["default"].KVP?(0,w.appendParams)(f,e):f.replace(/\{(\w+?)\}/g,function(B,D){return D.toLowerCase()in e?e[D.toLowerCase()]:B});var n=this.tileGrid,y=this.dimensions_;return function(B,D,O){if(B){var M={TileMatrix:n.getMatrixId(B[0]),TileCol:B[1],TileRow:B[2]};(0,H.assign)(M,y);B=f;return B=a==l["default"].KVP?(0,w.appendParams)(B,M):B.replace(/\{(\w+?)\}/g,function(F,z){return M[z]})}}};return d}(Ja["default"]);E["default"]=A};
shadow$provide[310]=function(Ja,A,rb,E){function k(ha){return ha&&ha.__esModule?ha:{"default":ha}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"BingMaps",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"CartoDB",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"Cluster",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"IIIF",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,
"Image",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"ImageArcGISRest",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"ImageCanvas",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"ImageMapGuide",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"ImageStatic",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"ImageWMS",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(E,"OSM",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(E,"Raster",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(E,"Source",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(E,"Stamen",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(E,"Tile",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(E,"TileArcGISRest",{enumerable:!0,get:function(){return B["default"]}});
Object.defineProperty(E,"TileDebug",{enumerable:!0,get:function(){return D["default"]}});Object.defineProperty(E,"TileImage",{enumerable:!0,get:function(){return O["default"]}});Object.defineProperty(E,"TileJSON",{enumerable:!0,get:function(){return M["default"]}});Object.defineProperty(E,"TileWMS",{enumerable:!0,get:function(){return F["default"]}});Object.defineProperty(E,"UrlTile",{enumerable:!0,get:function(){return z["default"]}});Object.defineProperty(E,"UTFGrid",{enumerable:!0,get:function(){return G["default"]}});
Object.defineProperty(E,"Vector",{enumerable:!0,get:function(){return K["default"]}});Object.defineProperty(E,"VectorTile",{enumerable:!0,get:function(){return R["default"]}});Object.defineProperty(E,"WMTS",{enumerable:!0,get:function(){return T["default"]}});Object.defineProperty(E,"XYZ",{enumerable:!0,get:function(){return ja["default"]}});Object.defineProperty(E,"Zoomify",{enumerable:!0,get:function(){return fa["default"]}});var l=k(A(272)),w=k(A(274)),H=k(A(275)),N=k(A(278)),x=k(A(280)),v=k(A(282)),
u=k(A(284)),m=k(A(285)),g=k(A(286)),d=k(A(288)),f=k(A(289)),a=k(A(297)),e=k(A(236)),n=k(A(298)),y=k(A(267)),B=k(A(299)),D=k(A(300)),O=k(A(270)),M=k(A(301)),F=k(A(302)),z=k(A(269)),G=k(A(303)),K=k(A(240)),R=k(A(306)),T=k(A(309)),ja=k(A(273)),fa=k(A(276))};
shadow$provide[311]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.toContext=function(x,v){var u=x.canvas,m=v?v:{};v=m.pixelRatio||l.DEVICE_PIXEL_RATIO;if(m=m.size)u.width=m[0]*v,u.height=m[1]*v,u.style.width=m[0]+"px",u.style.height=m[1]+"px";u=[0,0,u.width,u.height];m=(0,w.scale)((0,w.create)(),v,v);return new k["default"](x,v,u,m,0)};E.getVectorContext=function(x){var v=x.frameState,u=(0,w.multiply)(x.inversePixelTransform.slice(),v.coordinateToPixelTransform),m=(0,H.getSquaredTolerance)(v.viewState.resolution,
v.pixelRatio),g,d=(0,N.getUserProjection)();d&&(g=(0,N.getTransformFromProjections)(d,v.viewState.projection));return new k["default"](x.context,v.pixelRatio,v.extent,u,v.viewState.rotation,m,g)};E.getRenderPixel=function(x,v){v=v.slice(0);(0,w.apply)(x.inversePixelTransform.slice(),v);return v};var k=function(x){return x&&x.__esModule?x:{"default":x}}(A(222)),l=A(100),w=A(75),H=A(232),N=A(128)};
shadow$provide[312]=function(Ja,A,rb,E){function k(H,N,x){for(var v=[],u=H(0),m=H(1),g=N(u),d=N(m),f=[m,u],a=[d,g],e=[1,0],n={},y=1E5,B,D,O,M,F;0<--y&&0<e.length;)O=e.pop(),u=f.pop(),g=a.pop(),m=O.toString(),m in n||(v.push(g[0],g[1]),n[m]=!0),M=e.pop(),m=f.pop(),d=a.pop(),F=(O+M)/2,B=H(F),D=N(B),(0,w.squaredSegmentDistance)(D[0],D[1],g[0],g[1],d[0],d[1])<x?(v.push(d[0],d[1]),m=M.toString(),n[m]=!0):(e.push(M,F,F,O),a.push(d,D,D,g),f.push(m,B,B,u));return v}Object.defineProperty(E,"__esModule",{value:!0});
E.greatCircleArc=function(H,N,x,v,u,m){var g=(0,l.get)("EPSG:4326"),d=Math.cos((0,w.toRadians)(N)),f=Math.sin((0,w.toRadians)(N)),a=Math.cos((0,w.toRadians)(v)),e=Math.sin((0,w.toRadians)(v)),n=Math.cos((0,w.toRadians)(x-H)),y=Math.sin((0,w.toRadians)(x-H)),B=f*e+d*a*n;return k(function(D){if(1<=B)return[x,v];var O=D*Math.acos(B);D=Math.cos(O);var M=Math.sin(O),F=Math.atan2(y*a,d*e-f*a*n);O=Math.asin(f*D+d*M*Math.cos(F));D=(0,w.toRadians)(H)+Math.atan2(Math.sin(F)*M*d,D-f*Math.sin(O));return[(0,w.toDegrees)(D),
(0,w.toDegrees)(O)]},(0,l.getTransform)(g,u),m)};E.meridian=function(H,N,x,v,u){var m=(0,l.get)("EPSG:4326");return k(function(g){return[H,N+(x-N)*g]},(0,l.getTransform)(m,v),u)};E.parallel=function(H,N,x,v,u){var m=(0,l.get)("EPSG:4326");return k(function(g){return[N+(x-N)*g,H]},(0,l.getTransform)(m,v),u)};var l=A(128),w=A(79)};
shadow$provide[313]=function(Ja,A,rb,E){function k(G){return G&&G.__esModule?G:{"default":G}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(105)),w=k(A(92)),H=k(A(188)),N=k(A(202)),x=k(A(133)),v=k(A(191)),u=k(A(143)),m=k(A(203)),g=k(A(204)),d=k(A(229));Ja=k(A(234));var f=k(A(240)),a=A(78),e=A(84),n=A(79),y=A(96),B=A(128),D=A(311),O=A(312),M=function(){var G=function(K,R){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,ja){T.__proto__=ja}||function(T,
ja){for(var fa in ja)Object.prototype.hasOwnProperty.call(ja,fa)&&(T[fa]=ja[fa])};return G(K,R)};return function(K,R){function T(){this.constructor=K}G(K,R);K.prototype=null===R?Object.create(R):(T.prototype=R.prototype,new T)}}(),F=new m["default"]({color:"rgba(0,0,0,0.2)"}),z=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];A=function(G){function K(R){var T=this;R=R?R:{};T=(0,e.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},R);delete T.maxLines;delete T.strokeStyle;
delete T.targetSize;delete T.showLabels;delete T.lonLabelFormatter;delete T.latLabelFormatter;delete T.lonLabelPosition;delete T.latLabelPosition;delete T.lonLabelStyle;delete T.latLabelStyle;delete T.intervals;T=G.call(this,T)||this;T.projection_=null;T.maxLat_=Infinity;T.maxLon_=Infinity;T.minLat_=-Infinity;T.minLon_=-Infinity;T.maxX_=Infinity;T.maxY_=Infinity;T.minX_=-Infinity;T.minY_=-Infinity;T.targetSize_=void 0!==R.targetSize?R.targetSize:100;T.maxLines_=void 0!==R.maxLines?R.maxLines:100;
T.meridians_=[];T.parallels_=[];T.strokeStyle_=void 0!==R.strokeStyle?R.strokeStyle:F;T.fromLonLatTransform_=void 0;T.toLonLatTransform_=void 0;T.projectionCenterLonLat_=null;T.bottomLeft_=null;T.bottomRight_=null;T.topLeft_=null;T.topRight_=null;T.meridiansLabels_=null;T.parallelsLabels_=null;R.showLabels&&(T.lonLabelFormatter_=void 0==R.lonLabelFormatter?y.degreesToStringHDMS.bind(T,"EW"):R.lonLabelFormatter,T.latLabelFormatter_=void 0==R.latLabelFormatter?y.degreesToStringHDMS.bind(T,"NS"):R.latLabelFormatter,
T.lonLabelPosition_=void 0==R.lonLabelPosition?0:R.lonLabelPosition,T.latLabelPosition_=void 0==R.latLabelPosition?1:R.latLabelPosition,T.lonLabelStyleBase_=new g["default"]({text:void 0!==R.lonLabelStyle?R.lonLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new N["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})})}),T.lonLabelStyle_=function(ja){ja=ja.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ja);
return this.lonLabelStyleBase_}.bind(T),T.latLabelStyleBase_=new g["default"]({text:void 0!==R.latLabelStyle?R.latLabelStyle.clone():new d["default"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new N["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})})}),T.latLabelStyle_=function(ja){ja=ja.get("graticule_label");this.latLabelStyleBase_.getText().setText(ja);return this.latLabelStyleBase_}.bind(T),T.meridiansLabels_=[],T.parallelsLabels_=[],
T.addEventListener(w["default"].POSTRENDER,T.drawLabels_.bind(T)));T.intervals_=void 0!==R.intervals?R.intervals:z;T.setSource(new f["default"]({loader:T.loaderFunction.bind(T),strategy:T.strategyFunction.bind(T),features:new l["default"],overlaps:!1,useSpatialIndex:!1,wrapX:R.wrapX}));T.featurePool_=[];T.lineStyle_=new g["default"]({stroke:T.strokeStyle_});T.loadedExtent_=null;T.renderedExtent_=null;T.setRenderOrder(null);return T}M(K,G);K.prototype.strategyFunction=function(R,T){R=R.slice();this.projection_&&
this.getSource().getWrapX()&&(0,a.wrapX)(R,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,R,T)?R=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[R]};K.prototype.loaderFunction=function(R,T,ja){this.loadedExtent_=R;var fa=this.getSource(),ha=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];R=(0,a.getIntersection)(ha,R);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,R))if(this.renderedExtent_=R,!(0,
a.isEmpty)(R)){ha=(0,a.getCenter)(R);var la=T*T/4;this.projection_&&(0,B.equivalent)(this.projection_,ja)||this.updateProjectionInfo_(ja);this.createGraticule_(R,ha,T,la);ja=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ja+=this.meridians_.length);for(this.parallelsLabels_&&(ja+=this.parallels_.length);ja>this.featurePool_.length;)T=new H["default"],this.featurePool_.push(T);fa=fa.getFeaturesCollection();fa.clear();R=ja=0;for(ha=this.meridians_.length;R<ha;++R)T=this.featurePool_[ja++],
T.setGeometry(this.meridians_[R]),T.setStyle(this.lineStyle_),fa.push(T);R=0;for(ha=this.parallels_.length;R<ha;++R)T=this.featurePool_[ja++],T.setGeometry(this.parallels_[R]),T.setStyle(this.lineStyle_),fa.push(T)}};K.prototype.addMeridian_=function(R,T,ja,fa,ha,la){T=this.getMeridian_(R,T,ja,fa,la);(0,a.intersects)(T.getExtent(),ha)&&(this.meridiansLabels_&&(R=this.lonLabelFormatter_(R),la in this.meridiansLabels_?this.meridiansLabels_[la].text=R:this.meridiansLabels_[la]={geom:new u["default"]([]),
text:R}),this.meridians_[la++]=T);return la};K.prototype.addParallel_=function(R,T,ja,fa,ha,la){T=this.getParallel_(R,T,ja,fa,la);(0,a.intersects)(T.getExtent(),ha)&&(this.parallelsLabels_&&(R=this.latLabelFormatter_(R),la in this.parallelsLabels_?this.parallelsLabels_[la].text=R:this.parallelsLabels_[la]={geom:new u["default"]([]),text:R}),this.parallels_[la++]=T);return la};K.prototype.drawLabels_=function(R){var T=R.frameState.viewState.rotation,ja=R.frameState.extent,fa=(0,a.getCenter)(ja),ha=
ja;if(T){var la=(0,a.getWidth)(ja),Z=(0,a.getHeight)(ja),P=Math.abs(Math.cos(T)),C=Math.abs(Math.sin(T));ha=(C*Z-P*la)/(C*C-P*P);la=(C*la-P*Z)/(C*C-P*P);ha=[fa[0]-ha/2,fa[1]-la/2,fa[0]+ha/2,fa[1]+la/2]}Z=la=0;P=.5>this.latLabelPosition_;var V=this.projection_.getExtent();C=(0,a.getWidth)(V);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(V,ja)&&(la=Math.floor((ja[0]-V[0])/C),Z=Math.ceil((ja[2]-V[2])/C),P=P!==Math.abs(T)>Math.PI/2);R=(0,D.getVectorContext)(R);for(V=
la;V<=Z;++V){var ia=this.meridians_.length+this.parallels_.length,aa;if(this.meridiansLabels_){var ya=0;for(aa=this.meridiansLabels_.length;ya<aa;++ya){var va=this.meridians_[ya];if(T||0!==V){va=va.clone();va.translate(V*C,0);va.rotate(-T,fa);var Ia=this.getMeridianPoint_(va,ha,ya);Ia.rotate(T,fa)}else Ia=this.getMeridianPoint_(va,ja,ya);va=this.featurePool_[ia++];va.setGeometry(Ia);va.set("graticule_label",this.meridiansLabels_[ya].text);R.drawFeature(va,this.lonLabelStyle_(va))}}if(this.parallelsLabels_&&
(V===la&&P||V===Z&&!P))for(ya=0,aa=this.parallels_.length;ya<aa;++ya)va=this.parallels_[ya],T||0!==V?(va=va.clone(),va.translate(V*C,0),va.rotate(-T,fa),Ia=this.getParallelPoint_(va,ha,ya),Ia.rotate(T,fa)):Ia=this.getParallelPoint_(va,ja,ya),va=this.featurePool_[ia++],va.setGeometry(Ia),va.set("graticule_label",this.parallelsLabels_[ya].text),R.drawFeature(va,this.latLabelStyle_(va))}};K.prototype.createGraticule_=function(R,T,ja,fa){ja=this.getInterval_(ja);if(-1==ja)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var ha=!1,la=this.projection_.getExtent(),Z=(0,a.getWidth)(la);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(la,R)&&((0,a.getWidth)(R)>=Z?(R[0]=la[0],R[2]=la[2]):ha=!0);T=[(0,n.clamp)(T[0],this.minX_,this.maxX_),(0,n.clamp)(T[1],this.minY_,this.maxY_)];la=this.toLonLatTransform_(T);isNaN(la[1])&&(la[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?
this.maxLat_:this.minLat_);T=(0,n.clamp)(la[0],this.minLon_,this.maxLon_);la=(0,n.clamp)(la[1],this.minLat_,this.maxLat_);Z=this.maxLines_;var P=R;ha||(P=[(0,n.clamp)(R[0],this.minX_,this.maxX_),(0,n.clamp)(R[1],this.minY_,this.maxY_),(0,n.clamp)(R[2],this.minX_,this.maxX_),(0,n.clamp)(R[3],this.minY_,this.maxY_)]);var C=(0,a.applyTransform)(P,this.toLonLatTransform_,void 0,8),V=C[3],ia=C[2],aa=C[1];C=C[0];ha||((0,a.containsCoordinate)(P,this.bottomLeft_)&&(C=this.minLon_,aa=this.minLat_),(0,a.containsCoordinate)(P,
this.bottomRight_)&&(ia=this.maxLon_,aa=this.minLat_),(0,a.containsCoordinate)(P,this.topLeft_)&&(C=this.minLon_,V=this.maxLat_),(0,a.containsCoordinate)(P,this.topRight_)&&(ia=this.maxLon_,V=this.maxLat_),V=(0,n.clamp)(V,la,this.maxLat_),ia=(0,n.clamp)(ia,T,this.maxLon_),aa=(0,n.clamp)(aa,this.minLat_,la),C=(0,n.clamp)(C,this.minLon_,T));T=Math.floor(T/ja)*ja;var ya=(0,n.clamp)(T,this.minLon_,this.maxLon_);var va=this.addMeridian_(ya,aa,V,fa,R,0);P=0;if(ha)for(;(ya-=ja)>=C&&P++<Z;)va=this.addMeridian_(ya,
aa,V,fa,R,va);else for(;ya!=this.minLon_&&P++<Z;)ya=Math.max(ya-ja,this.minLon_),va=this.addMeridian_(ya,aa,V,fa,R,va);ya=(0,n.clamp)(T,this.minLon_,this.maxLon_);P=0;if(ha)for(;(ya+=ja)<=ia&&P++<Z;)va=this.addMeridian_(ya,aa,V,fa,R,va);else for(;ya!=this.maxLon_&&P++<Z;)ya=Math.min(ya+ja,this.maxLon_),va=this.addMeridian_(ya,aa,V,fa,R,va);this.meridians_.length=va;this.meridiansLabels_&&(this.meridiansLabels_.length=va);la=Math.floor(la/ja)*ja;ha=(0,n.clamp)(la,this.minLat_,this.maxLat_);va=this.addParallel_(ha,
C,ia,fa,R,0);for(P=0;ha!=this.minLat_&&P++<Z;)ha=Math.max(ha-ja,this.minLat_),va=this.addParallel_(ha,C,ia,fa,R,va);ha=(0,n.clamp)(la,this.minLat_,this.maxLat_);for(P=0;ha!=this.maxLat_&&P++<Z;)ha=Math.min(ha+ja,this.maxLat_),va=this.addParallel_(ha,C,ia,fa,R,va);this.parallels_.length=va;this.parallelsLabels_&&(this.parallelsLabels_.length=va)}};K.prototype.getInterval_=function(R){var T=this.projectionCenterLonLat_[0],ja=this.projectionCenterLonLat_[1],fa=-1;R=Math.pow(this.targetSize_*R,2);for(var ha=
[],la=[],Z=0,P=this.intervals_.length;Z<P;++Z){var C=(0,n.clamp)(this.intervals_[Z]/2,0,90),V=(0,n.clamp)(ja,-90+C,90-C);ha[0]=T-C;ha[1]=V-C;la[0]=T+C;la[1]=V+C;this.fromLonLatTransform_(ha,ha);this.fromLonLatTransform_(la,la);if(Math.pow(la[0]-ha[0],2)+Math.pow(la[1]-ha[1],2)<=R)break;fa=this.intervals_[Z]}return fa};K.prototype.getMeridian_=function(R,T,ja,fa,ha){R=(0,O.meridian)(R,T,ja,this.projection_,fa);(T=this.meridians_[ha])?(T.setFlatCoordinates(x["default"].XY,R),T.changed()):(T=new v["default"](R,
x["default"].XY),this.meridians_[ha]=T);return T};K.prototype.getMeridianPoint_=function(R,T,ja){R=R.getFlatCoordinates();var fa=1,ha=R.length-1;R[fa]>R[ha]&&(fa=ha,ha=1);var la=Math.max(T[1],R[fa]),Z=Math.min(T[3],R[ha]);T=(0,n.clamp)(T[1]+Math.abs(T[1]-T[3])*this.lonLabelPosition_,la,Z);ja=this.meridiansLabels_[ja].geom;ja.setCoordinates([R[fa-1]+(R[ha-1]-R[fa-1])*(T-R[fa])/(R[ha]-R[fa]),T]);return ja};K.prototype.getMeridians=function(){return this.meridians_};K.prototype.getParallel_=function(R,
T,ja,fa,ha){R=(0,O.parallel)(R,T,ja,this.projection_,fa);(ha=this.parallels_[ha])?(ha.setFlatCoordinates(x["default"].XY,R),ha.changed()):ha=new v["default"](R,x["default"].XY);return ha};K.prototype.getParallelPoint_=function(R,T,ja){R=R.getFlatCoordinates();var fa=0,ha=R.length-2;R[fa]>R[ha]&&(fa=ha,ha=0);var la=Math.max(T[0],R[fa]),Z=Math.min(T[2],R[ha]);T=(0,n.clamp)(T[0]+Math.abs(T[0]-T[2])*this.latLabelPosition_,la,Z);ja=this.parallelsLabels_[ja].geom;ja.setCoordinates([T,R[fa+1]+(R[ha+1]-R[fa+
1])*(T-R[fa])/(R[ha]-R[fa])]);return ja};K.prototype.getParallels=function(){return this.parallels_};K.prototype.updateProjectionInfo_=function(R){var T=(0,B.get)("EPSG:4326"),ja=R.getWorldExtent();this.maxLat_=ja[3];this.maxLon_=ja[2];this.minLat_=ja[1];this.minLon_=ja[0];var fa=(0,B.getTransform)(R,T);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=fa;else{var ha=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(la,Z,P){P=P||2;la=fa(la,Z,P);Z=0;for(var C=la.length;Z<
C;Z+=P)la[Z]<ha&&(la[Z]+=360);return la}}this.fromLonLatTransform_=(0,B.getTransform)(T,R);T=(0,a.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=T[0];this.maxX_=T[2];this.minY_=T[1];this.maxY_=T[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,
this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(R.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=R};return K}(Ja["default"]);E["default"]=A};
shadow$provide[314]=function(Ja,A,rb,E){function k(H,N){for(var x=l.length,v=0;v<x;++v)try{var u=H.getContext(l[v],N);if(u)return u}catch(m){}return null}Object.defineProperty(E,"__esModule",{value:!0});E.getContext=k;E.getSupportedExtensions=function(){if(!w){var H=document.createElement("canvas");(H=k(H))&&(w=H.getSupportedExtensions())}return w};E.FLOAT=E.UNSIGNED_INT=E.UNSIGNED_SHORT=E.UNSIGNED_BYTE=E.DYNAMIC_DRAW=E.STATIC_DRAW=E.STREAM_DRAW=E.ELEMENT_ARRAY_BUFFER=E.ARRAY_BUFFER=void 0;E.ARRAY_BUFFER=
34962;E.ELEMENT_ARRAY_BUFFER=34963;E.STREAM_DRAW=35040;E.STATIC_DRAW=35044;E.DYNAMIC_DRAW=35048;E.UNSIGNED_BYTE=5121;E.UNSIGNED_SHORT=5123;E.UNSIGNED_INT=5125;E.FLOAT=5126;var l=["experimental-webgl","webgl","webkit-3d","moz-webgl"],w};
shadow$provide[315]=function(Ja,A,rb,E){function k(N){switch(N){case l.ARRAY_BUFFER:return Float32Array;case l.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(E,"__esModule",{value:!0});E.getArrayClassForType=k;E["default"]=E.BufferUsage=void 0;var l=A(314),w=A(74),H={STATIC_DRAW:l.STATIC_DRAW,STREAM_DRAW:l.STREAM_DRAW,DYNAMIC_DRAW:l.DYNAMIC_DRAW};E.BufferUsage=H;Ja=function(){function N(x,v){this.array=null;this.type=x;(0,w.assert)(x===l.ARRAY_BUFFER||x===
l.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==v?v:H.STATIC_DRAW}N.prototype.ofSize=function(x){this.array=new (k(this.type))(x)};N.prototype.fromArray=function(x){this.array=k(this.type).from(x)};N.prototype.fromArrayBuffer=function(x){this.array=new (k(this.type))(x)};N.prototype.getType=function(){return this.type};N.prototype.getArray=function(){return this.array};N.prototype.getUsage=function(){return this.usage};N.prototype.getSize=function(){return this.array?this.array.length:0};return N}();
E["default"]=Ja};
shadow$provide[316]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[317]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=function(){function k(l){var w=this.gl_=l.webGlContext;this.scaleRatio_=l.scaleRatio||1;this.renderTargetTexture_=w.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=w.createFramebuffer();var H=w.createShader(w.VERTEX_SHADER);w.shaderSource(H,l.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
w.compileShader(H);var N=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(N,l.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord);\n  }\n");w.compileShader(N);this.renderTargetProgram_=w.createProgram();w.attachShader(this.renderTargetProgram_,H);w.attachShader(this.renderTargetProgram_,N);w.linkProgram(this.renderTargetProgram_);this.renderTargetVerticesBuffer_=
w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);w.bufferData(w.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),w.STATIC_DRAW);this.renderTargetAttribLocation_=w.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=w.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetTextureLocation_=w.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];l.uniforms&&Object.keys(l.uniforms).forEach(function(x){this.uniforms_.push({value:l.uniforms[x],
location:w.getUniformLocation(this.renderTargetProgram_,x)})}.bind(this))}k.prototype.getGL=function(){return this.gl_};k.prototype.init=function(l){l=this.getGL();var w=[l.drawingBufferWidth*this.scaleRatio_,l.drawingBufferHeight*this.scaleRatio_];l.bindFramebuffer(l.FRAMEBUFFER,this.getFrameBuffer());l.viewport(0,0,w[0],w[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==w[0]||this.renderTargetTextureSize_[1]!==w[1]){this.renderTargetTextureSize_=w;var H=l.RGBA,N=l.RGBA,
x=l.UNSIGNED_BYTE;l.bindTexture(l.TEXTURE_2D,this.renderTargetTexture_);l.texImage2D(l.TEXTURE_2D,0,H,w[0],w[1],0,N,x,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this.renderTargetTexture_,0)}};k.prototype.apply=function(l,w){var H=this.getGL(),N=l.size;H.bindFramebuffer(H.FRAMEBUFFER,
w?w.getFrameBuffer():null);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,this.renderTargetTexture_);H.clearColor(0,0,0,0);H.clear(H.COLOR_BUFFER_BIT);H.enable(H.BLEND);H.blendFunc(H.ONE,H.ONE_MINUS_SRC_ALPHA);H.viewport(0,0,H.drawingBufferWidth,H.drawingBufferHeight);H.bindBuffer(H.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);H.useProgram(this.renderTargetProgram_);H.enableVertexAttribArray(this.renderTargetAttribLocation_);H.vertexAttribPointer(this.renderTargetAttribLocation_,2,H.FLOAT,
!1,0,0);H.uniform2f(this.renderTargetUniformLocation_,N[0],N[1]);H.uniform1i(this.renderTargetTextureLocation_,0);this.applyUniforms(l);H.drawArrays(H.TRIANGLES,0,6)};k.prototype.getFrameBuffer=function(){return this.frameBuffer_};k.prototype.applyUniforms=function(l){var w=this.getGL(),H,N=1;this.uniforms_.forEach(function(x){H="function"===typeof x.value?x.value(l):x.value;if(H instanceof HTMLCanvasElement||H instanceof ImageData)x.texture||(x.texture=w.createTexture()),w.activeTexture(w["TEXTURE"+
N]),w.bindTexture(w.TEXTURE_2D,x.texture),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),H instanceof ImageData?w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,H.width,H.height,0,w.UNSIGNED_BYTE,new Uint8Array(H.data)):w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,H),w.uniform1i(x.location,N++);else if(Array.isArray(H))switch(H.length){case 2:w.uniform2f(x.location,
H[0],H[1]);break;case 3:w.uniform3f(x.location,H[0],H[1],H[2]);break;case 4:w.uniform4f(x.location,H[0],H[1],H[2],H[3])}else"number"===typeof H&&w.uniform1f(x.location,H)})};return k}();E["default"]=Ja};
shadow$provide[318]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};E.fromTransform=function(k,l){k[0]=l[0];k[1]=l[1];k[4]=l[2];k[5]=l[3];k[12]=l[4];k[13]=l[5];return k}};
shadow$provide[319]=function(Ja,A,rb,E){function k(y){return y&&y.__esModule?y:{"default":y}}function l(y){for(var B=0,D=0;D<y.length;D++){var O=y[D];B+=O.size*w(O.type)}return B}function w(y){switch(y){case n.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case n.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case n.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(E,"__esModule",{value:!0});E.computeAttributesStride=l;E["default"]=
E.AttributeType=E.DefaultUniform=E.ShaderType=void 0;var H=k(A(316));Ja=k(A(69));var N=k(A(317)),x=A(314),v=A(74),u=A(84),m=A(75),g=A(318),d=A(72),f=A(70),a=function(){var y=function(B,D){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,M){O.__proto__=M}||function(O,M){for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&(O[F]=M[F])};return y(B,D)};return function(B,D){function O(){this.constructor=B}y(B,D);B.prototype=null===D?Object.create(D):(O.prototype=D.prototype,new O)}}();
E.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var e={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"};E.DefaultUniform=e;var n={UNSIGNED_BYTE:x.UNSIGNED_BYTE,UNSIGNED_SHORT:x.UNSIGNED_SHORT,UNSIGNED_INT:x.UNSIGNED_INT,FLOAT:x.FLOAT};E.AttributeType=n;A=function(y){function B(D){var O=y.call(this)||this;D=D||{};O.boundHandleWebGLContextLost_=O.handleWebGLContextLost.bind(O);
O.boundHandleWebGLContextRestored_=O.handleWebGLContextRestored.bind(O);O.canvas_=document.createElement("canvas");O.canvas_.style.position="absolute";O.canvas_.style.left="0";O.gl_=(0,x.getContext)(O.canvas_);var M=O.getGL();O.bufferCache_={};O.currentProgram_=null;(0,v.assert)((0,f.includes)((0,x.getSupportedExtensions)(),"OES_element_index_uint"),63);M.getExtension("OES_element_index_uint");O.canvas_.addEventListener(H["default"].LOST,O.boundHandleWebGLContextLost_);O.canvas_.addEventListener(H["default"].RESTORED,
O.boundHandleWebGLContextRestored_);O.offsetRotateMatrix_=(0,m.create)();O.offsetScaleMatrix_=(0,m.create)();O.tmpMat4_=(0,g.create)();O.uniformLocations_={};O.attribLocations_={};O.uniforms_=[];if(D.uniforms)for(var F in D.uniforms)O.uniforms_.push({name:F,value:D.uniforms[F]});O.postProcessPasses_=D.postProcesses?D.postProcesses.map(function(z){return new N["default"]({webGlContext:M,scaleRatio:z.scaleRatio,vertexShader:z.vertexShader,fragmentShader:z.fragmentShader,uniforms:z.uniforms})}):[new N["default"]({webGlContext:M})];
O.shaderCompileErrors_=null;O.startTime_=Date.now();return O}a(B,y);B.prototype.bindBuffer=function(D){var O=this.getGL(),M=(0,d.getUid)(D),F=this.bufferCache_[M];F||(F=O.createBuffer(),F={buffer:D,webGlBuffer:F},this.bufferCache_[M]=F);O.bindBuffer(D.getType(),F.webGlBuffer)};B.prototype.flushBufferData=function(D){var O=this.getGL();this.bindBuffer(D);O.bufferData(D.getType(),D.getArray(),D.getUsage())};B.prototype.deleteBuffer=function(D){var O=this.getGL();D=(0,d.getUid)(D);var M=this.bufferCache_[D];
O.isContextLost()||O.deleteBuffer(M.buffer);delete this.bufferCache_[D]};B.prototype.disposeInternal=function(){this.canvas_.removeEventListener(H["default"].LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(H["default"].RESTORED,this.boundHandleWebGLContextRestored_)};B.prototype.prepareDraw=function(D){var O=this.getGL(),M=this.getCanvas(),F=D.size,z=D.pixelRatio;M.width=F[0]*z;M.height=F[1]*z;M.style.width=F[0]+"px";M.style.height=F[1]+"px";O.useProgram(this.currentProgram_);
for(M=this.postProcessPasses_.length-1;0<=M;M--)this.postProcessPasses_[M].init(D);O.bindTexture(O.TEXTURE_2D,null);O.clearColor(0,0,0,0);O.clear(O.COLOR_BUFFER_BIT);O.enable(O.BLEND);O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA);O.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};B.prototype.prepareDrawToRenderTarget=function(D,O,M){var F=this.getGL(),z=O.getSize();F.bindFramebuffer(F.FRAMEBUFFER,O.getFramebuffer());F.viewport(0,0,z[0],z[1]);F.bindTexture(F.TEXTURE_2D,O.getTexture());
F.clearColor(0,0,0,0);F.clear(F.COLOR_BUFFER_BIT);F.enable(F.BLEND);F.blendFunc(F.ONE,M?F.ZERO:F.ONE_MINUS_SRC_ALPHA);F.useProgram(this.currentProgram_);this.applyFrameState(D);this.applyUniforms(D)};B.prototype.drawElements=function(D,O){var M=this.getGL();M.drawElements(M.TRIANGLES,O-D,M.UNSIGNED_INT,4*D)};B.prototype.finalizeDraw=function(D){for(var O=0;O<this.postProcessPasses_.length;O++)this.postProcessPasses_[O].apply(D,this.postProcessPasses_[O+1]||null)};B.prototype.getCanvas=function(){return this.canvas_};
B.prototype.getGL=function(){return this.gl_};B.prototype.applyFrameState=function(D){var O=D.size,M=D.viewState.rotation,F=(0,m.reset)(this.offsetScaleMatrix_);(0,m.scale)(F,2/O[0],2/O[1]);O=(0,m.reset)(this.offsetRotateMatrix_);0!==M&&(0,m.rotate)(O,-M);this.setUniformMatrixValue(e.OFFSET_SCALE_MATRIX,(0,g.fromTransform)(this.tmpMat4_,F));this.setUniformMatrixValue(e.OFFSET_ROTATION_MATRIX,(0,g.fromTransform)(this.tmpMat4_,O));this.setUniformFloatValue(e.TIME,.001*(Date.now()-this.startTime_));
this.setUniformFloatValue(e.ZOOM,D.viewState.zoom);this.setUniformFloatValue(e.RESOLUTION,D.viewState.resolution)};B.prototype.applyUniforms=function(D){var O=this.getGL(),M,F=0;this.uniforms_.forEach(function(z){M="function"===typeof z.value?z.value(D):z.value;if(M instanceof HTMLCanvasElement||M instanceof HTMLImageElement||M instanceof ImageData)z.texture||(z.prevValue=void 0,z.texture=O.createTexture()),O.activeTexture(O["TEXTURE"+F]),O.bindTexture(O.TEXTURE_2D,z.texture),O.texParameteri(O.TEXTURE_2D,
O.TEXTURE_MIN_FILTER,O.LINEAR),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),M instanceof HTMLImageElement&&!M.complete||z.prevValue===M||(z.prevValue=M,O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,M)),O.uniform1i(this.getUniformLocation(z.name),F++);else if(Array.isArray(M)&&6===M.length)this.setUniformMatrixValue(z.name,(0,g.fromTransform)(this.tmpMat4_,M));else if(Array.isArray(M)&&4>=M.length)switch(M.length){case 2:O.uniform2f(this.getUniformLocation(z.name),
M[0],M[1]);break;case 3:O.uniform3f(this.getUniformLocation(z.name),M[0],M[1],M[2]);break;case 4:O.uniform4f(this.getUniformLocation(z.name),M[0],M[1],M[2],M[3])}else"number"===typeof M&&O.uniform1f(this.getUniformLocation(z.name),M)}.bind(this))};B.prototype.useProgram=function(D){if(D==this.currentProgram_)return!1;this.getGL().useProgram(D);this.currentProgram_=D;this.uniformLocations_={};this.attribLocations_={};return!0};B.prototype.compileShader=function(D,O){var M=this.getGL();O=M.createShader(O);
M.shaderSource(O,D);M.compileShader(O);return O};B.prototype.getProgram=function(D,O){var M=this.getGL();D=this.compileShader(D,M.FRAGMENT_SHADER);O=this.compileShader(O,M.VERTEX_SHADER);this.shaderCompileErrors_=null;M.getShaderInfoLog(D)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+M.getShaderInfoLog(D));M.getShaderInfoLog(O)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+("Vertex shader compilation failed:\n"+M.getShaderInfoLog(O)));var F=M.createProgram();M.attachShader(F,
D);M.attachShader(F,O);M.linkProgram(F);return F};B.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_};B.prototype.getUniformLocation=function(D){void 0===this.uniformLocations_[D]&&(this.uniformLocations_[D]=this.getGL().getUniformLocation(this.currentProgram_,D));return this.uniformLocations_[D]};B.prototype.getAttributeLocation=function(D){void 0===this.attribLocations_[D]&&(this.attribLocations_[D]=this.getGL().getAttribLocation(this.currentProgram_,D));return this.attribLocations_[D]};
B.prototype.makeProjectionTransform=function(D,O){var M=D.size,F=D.viewState.rotation,z=D.viewState.resolution;D=D.viewState.center;(0,m.reset)(O);(0,m.compose)(O,0,0,2/(z*M[0]),2/(z*M[1]),-F,-D[0],-D[1]);return O};B.prototype.setUniformFloatValue=function(D,O){this.getGL().uniform1f(this.getUniformLocation(D),O)};B.prototype.setUniformMatrixValue=function(D,O){this.getGL().uniformMatrix4fv(this.getUniformLocation(D),!1,O)};B.prototype.enableAttributeArray_=function(D,O,M,F,z){D=this.getAttributeLocation(D);
0>D||(this.getGL().enableVertexAttribArray(D),this.getGL().vertexAttribPointer(D,O,M,!1,F,z))};B.prototype.enableAttributes=function(D){for(var O=l(D),M=0,F=0;F<D.length;F++){var z=D[F];this.enableAttributeArray_(z.name,z.size,z.type||x.FLOAT,O,M);M+=z.size*w(z.type)}};B.prototype.handleWebGLContextLost=function(){(0,u.clear)(this.bufferCache_);this.currentProgram_=null};B.prototype.handleWebGLContextRestored=function(){};B.prototype.createTexture=function(D,O,M){var F=this.getGL();M=M||F.createTexture();
var z=F.RGBA,G=F.RGBA,K=F.UNSIGNED_BYTE;F.bindTexture(F.TEXTURE_2D,M);O?F.texImage2D(F.TEXTURE_2D,0,z,G,K,O):F.texImage2D(F.TEXTURE_2D,0,z,D[0],D[1],0,G,K,null);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.LINEAR);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE);F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE);return M};return B}(Ja["default"]);E["default"]=A};
shadow$provide[320]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}function l(m,g,d,f,a){m[g+0]=d;m[g+1]=f;m[g+2]=a}Object.defineProperty(E,"__esModule",{value:!0});E.writePointFeatureToBuffers=function(m,g,d,f,a,e){var n=3+a,y=m[g+0],B=m[g+1],D=v;D.length=a;for(a=0;a<D.length;a++)D[a]=m[g+2+a];m=e?e.vertexPosition:0;e=e?e.indexPosition:0;g=m/n;l(d,m,y,B,0);D.length&&d.set(D,m+3);m+=n;l(d,m,y,B,1);D.length&&d.set(D,m+3);m+=n;l(d,m,y,B,2);D.length&&d.set(D,m+3);m+=n;l(d,m,
y,B,3);D.length&&d.set(D,m+3);f[e++]=g;f[e++]=g+1;f[e++]=g+3;f[e++]=g+1;f[e++]=g+2;f[e++]=g+3;u.vertexPosition=m+n;u.indexPosition=e;return u};E.getBlankImageData=function(){var m=document.createElement("canvas").getContext("2d").createImageData(1,1);m.data[0]=255;m.data[1]=255;m.data[2]=255;m.data[3]=255;return m};E.colorEncodeId=function(m,g){g=g||[];g[0]=Math.floor(m/256/256/256)/255;g[1]=Math.floor(m/256/256)%256/255;g[2]=Math.floor(m/256)%256/255;g[3]=m%256/255;return g};E.colorDecodeId=function(m){var g=
0+Math.round(4278190080*m[0]);g+=Math.round(16711680*m[1]);g+=Math.round(65280*m[2]);return g+=Math.round(255*m[3])};E["default"]=E.WebGLWorkerMessageType=void 0;Ja=k(A(216));var w=k(A(98)),H=k(A(92)),N=k(A(319)),x=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,d);g.prototype=
null===d?Object.create(d):(f.prototype=d.prototype,new f)}}();E.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};A=function(m){function g(d,f){d=m.call(this,d)||this;f=f||{};d.helper=new N["default"]({postProcesses:f.postProcesses,uniforms:f.uniforms});void 0!==f.className&&(d.helper.getCanvas().className=f.className);return d}x(g,m);g.prototype.disposeInternal=function(){this.helper.dispose();m.prototype.disposeInternal.call(this)};g.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()};
g.prototype.dispatchRenderEvent_=function(d,f){var a=this.getLayer();a.hasListener(d)&&(d=new w["default"](d,null,f,null),a.dispatchEvent(d))};g.prototype.preRender=function(d){this.dispatchRenderEvent_(H["default"].PRERENDER,d)};g.prototype.postRender=function(d){this.dispatchRenderEvent_(H["default"].POSTRENDER,d)};return g}(Ja["default"]);var v=[],u={vertexPosition:0,indexPosition:0};E["default"]=A};
shadow$provide[321]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=A(70),l=new Uint8Array(4);Ja=function(){function w(H,N){this.helper_=H;H=H.getGL();this.texture_=H.createTexture();this.framebuffer_=H.createFramebuffer();this.size_=N||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}w.prototype.setSize=function(H){(0,k.equals)(H,this.size_)||(this.size_[0]=H[0],this.size_[1]=H[1],this.updateSize_())};w.prototype.getSize=
function(){return this.size_};w.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};w.prototype.readAll=function(){if(this.dataCacheDirty_){var H=this.size_,N=this.helper_.getGL();N.bindFramebuffer(N.FRAMEBUFFER,this.framebuffer_);N.readPixels(0,0,H[0],H[1],N.RGBA,N.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};w.prototype.readPixel=function(H,N){if(0>H||0>N||H>this.size_[0]||N>=this.size_[1])return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l;this.readAll();H=Math.floor(H)+(this.size_[1]-
Math.floor(N)-1)*this.size_[0];l[0]=this.data_[4*H];l[1]=this.data_[4*H+1];l[2]=this.data_[4*H+2];l[3]=this.data_[4*H+3];return l};w.prototype.getTexture=function(){return this.texture_};w.prototype.getFramebuffer=function(){return this.framebuffer_};w.prototype.updateSize_=function(){var H=this.size_,N=this.helper_.getGL();this.texture_=this.helper_.createTexture(H,null,this.texture_);N.bindFramebuffer(N.FRAMEBUFFER,this.framebuffer_);N.viewport(0,0,H[0],H[1]);N.framebufferTexture2D(N.FRAMEBUFFER,
N.COLOR_ATTACHMENT0,N.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(H[0]*H[1]*4)};return w}();E["default"]=Ja};
shadow$provide[322]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.create=function(){return new Worker(k)};Ja=new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,u){var a\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3du?u.vertexPosition:0,h\x3du?u.indexPosition:0,d\x3db/a;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3da,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3da,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o\x3dr.customAttributesCount,s\x3d2+o,u\x3dnew Float32Array(r.renderInstructions),a\x3du.length/s,l\x3d4*a*(o+3),v\x3dnew Uint32Array(6*a),c\x3dnew Float32Array(l),g\x3dnull,b\x3d0;b\x3cu.length;b+\x3ds)g\x3di(u,b,c,v,o,g);var h\x3de({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],
{type:"application/javascript"});var k=URL.createObjectURL(Ja)};
shadow$provide[323]=function(Ja,A,rb,E){function k(M){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"===typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F};return k(M)}function l(){if("function"!==typeof WeakMap)return null;var M=new WeakMap;l=function(){return M};return M}function w(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;
var H=w(A(205)),N=w(A(117)),x=w(A(237)),v=w(A(119)),u=w(A(315)),m=function(M){if(M&&M.__esModule)return M;if(null===M||"object"!==k(M)&&"function"!==typeof M)return{"default":M};var F=l();if(F&&F.has(M))return F.get(M);var z={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor,K;for(K in M)if(Object.prototype.hasOwnProperty.call(M,K)){var R=G?Object.getOwnPropertyDescriptor(M,K):null;R&&(R.get||R.set)?Object.defineProperty(z,K,R):z[K]=M[K]}z["default"]=M;F&&F.set(M,z);return z}(A(320)),g=w(A(321)),
d=A(314),f=A(319),a=A(75),e=A(74),n=A(78),y=A(322),B=A(72),D=A(87),O=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}();Ja=function(M){function F(z,G){var K=this;K=G.uniforms||{};var R=(0,a.create)();
K[f.DefaultUniform.PROJECTION_MATRIX]=R;K=M.call(this,z,{className:G.className,uniforms:K,postProcesses:G.postProcesses})||this;K.sourceRevision_=-1;K.verticesBuffer_=new u["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);K.hitVerticesBuffer_=new u["default"](d.ARRAY_BUFFER,d.DYNAMIC_DRAW);K.indicesBuffer_=new u["default"](d.ELEMENT_ARRAY_BUFFER,d.DYNAMIC_DRAW);K.program_=K.helper.getProgram(G.fragmentShader,G.vertexShader);K.hitDetectionEnabled_=G.hitFragmentShader&&G.hitVertexShader?!0:!1;K.hitProgram_=
K.hitDetectionEnabled_&&K.helper.getProgram(G.hitFragmentShader,G.hitVertexShader);z=G.attributes?G.attributes.map(function(T){return{name:"a_"+T.name,size:1,type:f.AttributeType.FLOAT}}):[];K.attributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT}].concat(z);K.hitDetectionAttributes=[{name:"a_position",size:2,type:f.AttributeType.FLOAT},{name:"a_index",size:1,type:f.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:f.AttributeType.FLOAT},
{name:"a_featureUid",size:1,type:f.AttributeType.FLOAT}].concat(z);K.customAttributes=G.attributes?G.attributes:[];K.previousExtent_=(0,n.createEmpty)();K.currentTransform_=R;K.renderTransform_=(0,a.create)();K.invertRenderTransform_=(0,a.create)();K.renderInstructions_=new Float32Array(0);K.hitRenderInstructions_=new Float32Array(0);K.hitRenderTarget_=K.hitDetectionEnabled_&&new g["default"](K.helper);K.worker_=(0,y.create)();K.worker_.addEventListener("message",function(T){var ja=T.data;if(ja.type===
m.WebGLWorkerMessageType.GENERATE_BUFFERS){var fa=ja.projectionTransform;ja.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(ja.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(ja.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(ja.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=fa;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);
ja.hitDetection?this.hitRenderInstructions_=new Float32Array(T.data.renderInstructions):this.renderInstructions_=new Float32Array(T.data.renderInstructions);this.getLayer().changed()}}.bind(K));K.featureCache_={};K.featureCount_=0;G=K.getLayer().getSource();K.sourceListenKeys_=[(0,D.listen)(G,x["default"].ADDFEATURE,K.handleSourceFeatureAdded_,K),(0,D.listen)(G,x["default"].CHANGEFEATURE,K.handleSourceFeatureChanged_,K),(0,D.listen)(G,x["default"].REMOVEFEATURE,K.handleSourceFeatureDelete_,K),(0,
D.listen)(G,x["default"].CLEAR,K.handleSourceFeatureClear_,K)];G.forEachFeature(function(T){this.featureCache_[(0,B.getUid)(T)]={feature:T,properties:T.getProperties(),geometry:T.getGeometry()};this.featureCount_++}.bind(K));return K}O(F,M);F.prototype.handleSourceFeatureAdded_=function(z){z=z.feature;this.featureCache_[(0,B.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()};this.featureCount_++};F.prototype.handleSourceFeatureChanged_=function(z){z=z.feature;this.featureCache_[(0,
B.getUid)(z)]={feature:z,properties:z.getProperties(),geometry:z.getGeometry()}};F.prototype.handleSourceFeatureDelete_=function(z){z=z.feature;delete this.featureCache_[(0,B.getUid)(z)];this.featureCount_--};F.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};F.prototype.renderFrame=function(z){this.preRender(z);var G=this.indicesBuffer_.getSize();this.helper.drawElements(0,G);this.helper.finalizeDraw(z);G=this.helper.getCanvas();var K=z.layerStatesArray[z.layerIndex].opacity;
K!==parseFloat(G.style.opacity)&&(G.style.opacity=String(K));this.hitDetectionEnabled_&&(this.renderHitDetection(z),this.hitRenderTarget_.clearCachedData());this.postRender(z);return G};F.prototype.prepareFrame=function(z){var G=this.getLayer(),K=G.getSource(),R=z.viewState,T=!z.viewHints[v["default"].ANIMATING]&&!z.viewHints[v["default"].INTERACTING],ja=!(0,n.equals)(this.previousExtent_,z.extent),fa=this.sourceRevision_<K.getRevision();fa&&(this.sourceRevision_=K.getRevision());T&&(ja||fa)&&(T=
R.projection,R=R.resolution,G=G instanceof H["default"]?G.getRenderBuffer():0,G=(0,n.buffer)(z.extent,G*R),K.loadFeatures(G,R,T),this.rebuildBuffers_(z),this.previousExtent_=z.extent.slice());this.helper.makeProjectionTransform(z,this.currentTransform_);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(z);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);
return!0};F.prototype.rebuildBuffers_=function(z){var G=(0,a.create)();this.helper.makeProjectionTransform(z,G);z=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===z||(this.renderInstructions_=new Float32Array(z));this.hitDetectionEnabled_&&(z=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===z||(this.hitRenderInstructions_=new Float32Array(z)));var K,R=[],T=[],ja=0,fa=
0;for(la in this.featureCache_)if(z=this.featureCache_[la],(K=z.geometry)&&K.getType()===N["default"].POINT){R[0]=K.getFlatCoordinates()[0];R[1]=K.getFlatCoordinates()[1];(0,a.apply)(G,R);K=(0,m.colorEncodeId)(fa+6,T);this.renderInstructions_[ja++]=R[0];this.renderInstructions_[ja++]=R[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[fa++]=R[0],this.hitRenderInstructions_[fa++]=R[1],this.hitRenderInstructions_[fa++]=K[0],this.hitRenderInstructions_[fa++]=K[1],this.hitRenderInstructions_[fa++]=
K[2],this.hitRenderInstructions_[fa++]=K[3],this.hitRenderInstructions_[fa++]=Number(la));for(var ha=0;ha<this.customAttributes.length;ha++)K=this.customAttributes[ha].callback(z.feature,z.properties),this.renderInstructions_[ja++]=K,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[fa++]=K)}var la={type:m.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};la.projectionTransform=G;this.worker_.postMessage(la,
[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(la={type:m.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},la.projectionTransform=G,la.hitDetection=!0,this.worker_.postMessage(la,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};F.prototype.forEachFeatureAtCoordinate=function(z,G,K,R,T){(0,e.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&
(z=(0,a.apply)(G.coordinateToPixelTransform,z.slice()),z=this.hitRenderTarget_.readPixel(z[0]/2,z[1]/2),z=[z[0]/255,z[1]/255,z[2]/255,z[3]/255],z=(0,m.colorDecodeId)(z),z=Math.floor(this.hitRenderInstructions_[z]).toString(),z=this.getLayer().getSource().getFeatureByUid(z)))return R(z,this.getLayer(),null)};F.prototype.renderHitDetection=function(z){this.hitVerticesBuffer_.getSize()&&(this.hitRenderTarget_.setSize([Math.floor(z.size[0]/2),Math.floor(z.size[1]/2)]),this.helper.useProgram(this.hitProgram_),
this.helper.prepareDrawToRenderTarget(z,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),z=this.indicesBuffer_.getSize(),this.helper.drawElements(0,z))};F.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(z){(0,D.unlistenByKey)(z)});this.sourceListenKeys_=null;M.prototype.disposeInternal.call(this)};return F}(m["default"]);
E["default"]=Ja};
shadow$provide[324]=function(Ja,A,rb,E){function k(m){return m&&m.__esModule?m:{"default":m}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(234));var l=k(A(323)),w=A(84),H=A(79),N=A(101),x=A(89),v=function(){var m=function(g,d){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(f[e]=a[e])};return m(g,d)};return function(g,d){function f(){this.constructor=g}m(g,
d);g.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),u=["#00f","#0ff","#0f0","#ff0","#f00"];A=function(m){function g(d){var f=this;d=d?d:{};f=(0,w.assign)({},d);delete f.gradient;delete f.radius;delete f.blur;delete f.weight;f=m.call(this,f)||this;f.gradient_=null;f.addEventListener((0,x.getChangeEventType)("gradient"),f.handleGradientChanged_);f.setGradient(d.gradient?d.gradient:u);f.setBlur(void 0!==d.blur?d.blur:15);f.setRadius(void 0!==d.radius?d.radius:8);var a=d.weight?
d.weight:"weight";f.weightFunction_="string"===typeof a?function(e){return e.get(a)}:a;f.setRenderOrder(null);return f}v(g,m);g.prototype.getBlur=function(){return this.get("blur")};g.prototype.getGradient=function(){return this.get("gradient")};g.prototype.getRadius=function(){return this.get("radius")};g.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),f=(0,N.createCanvasContext2D)(1,256),a=f.createLinearGradient(0,0,1,256),e=1/(d.length-1),n=0,y=d.length;n<y;++n)a.addColorStop(n*
e,d[n]);f.fillStyle=a;f.fillRect(0,0,1,256);this.gradient_=f.canvas};g.prototype.setBlur=function(d){this.set("blur",d)};g.prototype.setGradient=function(d){this.set("gradient",d)};g.prototype.setRadius=function(d){this.set("radius",d)};g.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,H.clamp)(d,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})};g.prototype.renderDeclutter=function(){};return g}(Ja["default"]);E["default"]=A};
shadow$provide[325]=function(Ja,A,rb,E){function k(F){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(F)?F:new Uint8Array(F||0);this.type=this.pos=0;this.length=this.buf.length}function l(F,z,G){var K=G.buf;var R=K[G.pos++];var T=(R&112)>>4;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<3;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<10;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<17;if(128>R)return H(F,T,z);R=K[G.pos++];T|=(R&127)<<24;if(128>R)return H(F,T,z);R=K[G.pos++];if(128>R)return H(F,
T|(R&1)<<31,z);throw Error("Expected varint not more than 10 bytes");}function w(F){return F.type===k.Bytes?F.readVarint()+F.pos:F.pos+1}function H(F,z,G){return G?4294967296*z+(F>>>0):4294967296*(z>>>0)+(F>>>0)}function N(F,z,G){z=16383>=z?1:2097151>=z?2:268435455>=z?3:Math.floor(Math.log(z)/(7*Math.LN2));G.realloc(z);for(var K=G.pos-1;K>=F;K--)G.buf[K+z]=G.buf[K]}function x(F,z){for(var G=0;G<F.length;G++)z.writeVarint(F[G])}function v(F,z){for(var G=0;G<F.length;G++)z.writeSVarint(F[G])}function u(F,
z){for(var G=0;G<F.length;G++)z.writeFloat(F[G])}function m(F,z){for(var G=0;G<F.length;G++)z.writeDouble(F[G])}function g(F,z){for(var G=0;G<F.length;G++)z.writeBoolean(F[G])}function d(F,z){for(var G=0;G<F.length;G++)z.writeFixed32(F[G])}function f(F,z){for(var G=0;G<F.length;G++)z.writeSFixed32(F[G])}function a(F,z){for(var G=0;G<F.length;G++)z.writeFixed64(F[G])}function e(F,z){for(var G=0;G<F.length;G++)z.writeSFixed64(F[G])}function n(F,z){return(F[z]|F[z+1]<<8|F[z+2]<<16)+16777216*F[z+3]}function y(F,
z,G){F[G]=z;F[G+1]=z>>>8;F[G+2]=z>>>16;F[G+3]=z>>>24}function B(F,z){return(F[z]|F[z+1]<<8|F[z+2]<<16)+(F[z+3]<<24)}rb.exports=k;var D=A(22);k.Varint=0;k.Fixed64=1;k.Bytes=2;k.Fixed32=5;var O=1/4294967296,M="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");k.prototype={destroy:function(){this.buf=null},readFields:function(F,z,G){for(G=G||this.length;this.pos<G;){var K=this.readVarint(),R=K>>3,T=this.pos;this.type=K&7;F(R,z,this);this.pos===T&&this.skip(K)}return z},readMessage:function(F,
z){return this.readFields(F,z,this.readVarint()+this.pos)},readFixed32:function(){var F=n(this.buf,this.pos);this.pos+=4;return F},readSFixed32:function(){var F=B(this.buf,this.pos);this.pos+=4;return F},readFixed64:function(){var F=n(this.buf,this.pos)+4294967296*n(this.buf,this.pos+4);this.pos+=8;return F},readSFixed64:function(){var F=n(this.buf,this.pos)+4294967296*B(this.buf,this.pos+4);this.pos+=8;return F},readFloat:function(){var F=D.read(this.buf,this.pos,!0,23,4);this.pos+=4;return F},readDouble:function(){var F=
D.read(this.buf,this.pos,!0,52,8);this.pos+=8;return F},readVarint:function(F){var z=this.buf;var G=z[this.pos++];var K=G&127;if(128>G)return K;G=z[this.pos++];K|=(G&127)<<7;if(128>G)return K;G=z[this.pos++];K|=(G&127)<<14;if(128>G)return K;G=z[this.pos++];K|=(G&127)<<21;if(128>G)return K;G=z[this.pos];return l(K|(G&15)<<28,F,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var F=this.readVarint();return 1===F%2?(F+1)/-2:F/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var F=this.readVarint()+this.pos,z=this.pos;this.pos=F;if(12<=F-z&&M)return M.decode(this.buf.subarray(z,F));for(var G=this.buf,K="";z<F;){var R=G[z],T=null,ja=239<R?4:223<R?3:191<R?2:1;if(z+ja>F)break;if(1===ja)128>R&&(T=R);else if(2===ja){var fa=G[z+1];128===(fa&192)&&(T=(R&31)<<6|fa&63,127>=T&&(T=null))}else if(3===ja){fa=G[z+1];var ha=G[z+2];128===(fa&192)&&128===(ha&192)&&(T=(R&15)<<12|(fa&63)<<6|ha&63,2047>=T||55296<=T&&57343>=T)&&(T=null)}else if(4===ja){fa=G[z+1];ha=
G[z+2];var la=G[z+3];128===(fa&192)&&128===(ha&192)&&128===(la&192)&&(T=(R&15)<<18|(fa&63)<<12|(ha&63)<<6|la&63,65535>=T||1114112<=T)&&(T=null)}null===T?(T=65533,ja=1):65535<T&&(T-=65536,K+=String.fromCharCode(T>>>10&1023|55296),T=56320|T&1023);K+=String.fromCharCode(T);z+=ja}return K},readBytes:function(){var F=this.readVarint()+this.pos,z=this.buf.subarray(this.pos,F);this.pos=F;return z},readPackedVarint:function(F,z){if(this.type!==k.Bytes)return F.push(this.readVarint(z));var G=w(this);for(F=
F||[];this.pos<G;)F.push(this.readVarint(z));return F},readPackedSVarint:function(F){if(this.type!==k.Bytes)return F.push(this.readSVarint());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readSVarint());return F},readPackedBoolean:function(F){if(this.type!==k.Bytes)return F.push(this.readBoolean());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readBoolean());return F},readPackedFloat:function(F){if(this.type!==k.Bytes)return F.push(this.readFloat());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readFloat());
return F},readPackedDouble:function(F){if(this.type!==k.Bytes)return F.push(this.readDouble());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readDouble());return F},readPackedFixed32:function(F){if(this.type!==k.Bytes)return F.push(this.readFixed32());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readFixed32());return F},readPackedSFixed32:function(F){if(this.type!==k.Bytes)return F.push(this.readSFixed32());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readSFixed32());return F},readPackedFixed64:function(F){if(this.type!==
k.Bytes)return F.push(this.readFixed64());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readFixed64());return F},readPackedSFixed64:function(F){if(this.type!==k.Bytes)return F.push(this.readSFixed64());var z=w(this);for(F=F||[];this.pos<z;)F.push(this.readSFixed64());return F},skip:function(F){F&=7;if(F===k.Varint)for(;127<this.buf[this.pos++];);else if(F===k.Bytes)this.pos=this.readVarint()+this.pos;else if(F===k.Fixed32)this.pos+=4;else if(F===k.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
F);},writeTag:function(F,z){this.writeVarint(F<<3|z)},realloc:function(F){for(var z=this.length||16;z<this.pos+F;)z*=2;z!==this.length&&(F=new Uint8Array(z),F.set(this.buf),this.buf=F,this.length=z)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(F){this.realloc(4);y(this.buf,F,this.pos);this.pos+=4},writeSFixed32:function(F){this.realloc(4);y(this.buf,F,this.pos);this.pos+=4},writeFixed64:function(F){this.realloc(8);y(this.buf,F&-1,
this.pos);y(this.buf,Math.floor(F*O),this.pos+4);this.pos+=8},writeSFixed64:function(F){this.realloc(8);y(this.buf,F&-1,this.pos);y(this.buf,Math.floor(F*O),this.pos+4);this.pos+=8},writeVarint:function(F){F=+F||0;if(268435455<F||0>F){if(0<=F){var z=F%4294967296|0;var G=F/4294967296|0}else z=~(-F%4294967296),G=~(-F/4294967296),z^4294967295?z=z+1|0:(z=0,G=G+1|0);if(1.8446744073709552E19<=F||-1.8446744073709552E19>F)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);F=z;this.buf[this.pos++]=
F&127|128;F>>>=7;this.buf[this.pos++]=F&127|128;F>>>=7;this.buf[this.pos++]=F&127|128;F>>>=7;this.buf[this.pos++]=F&127|128;this.buf[this.pos]=F>>>7&127;this.buf[this.pos++]|=(G&7)<<4|((G>>>=3)?128:0);G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127|((G>>>=7)?128:0),G&&(this.buf[this.pos++]=G&127)))))}else this.realloc(4),this.buf[this.pos++]=F&127|(127<F?128:0),127>=F||(this.buf[this.pos++]=
(F>>>=7)&127|(127<F?128:0),127>=F||(this.buf[this.pos++]=(F>>>=7)&127|(127<F?128:0),127>=F||(this.buf[this.pos++]=F>>>7&127)))},writeSVarint:function(F){this.writeVarint(0>F?2*-F-1:2*F)},writeBoolean:function(F){this.writeVarint(!!F)},writeString:function(F){F=String(F);this.realloc(4*F.length);this.pos++;for(var z=this.pos,G=this.buf,K=this.pos,R=0,T,ja;R<F.length;R++){T=F.charCodeAt(R);if(55295<T&&57344>T)if(ja)if(56320>T){G[K++]=239;G[K++]=191;G[K++]=189;ja=T;continue}else T=ja-55296<<10|T-56320|
65536,ja=null;else{56319<T||R+1===F.length?(G[K++]=239,G[K++]=191,G[K++]=189):ja=T;continue}else ja&&(G[K++]=239,G[K++]=191,G[K++]=189,ja=null);128>T?G[K++]=T:(2048>T?G[K++]=T>>6|192:(65536>T?G[K++]=T>>12|224:(G[K++]=T>>18|240,G[K++]=T>>12&63|128),G[K++]=T>>6&63|128),G[K++]=T&63|128)}this.pos=K;G=this.pos-z;128<=G&&N(z,G,this);this.pos=z-1;this.writeVarint(G);this.pos+=G},writeFloat:function(F){this.realloc(4);D.write(this.buf,F,this.pos,!0,23,4);this.pos+=4},writeDouble:function(F){this.realloc(8);
D.write(this.buf,F,this.pos,!0,52,8);this.pos+=8},writeBytes:function(F){var z=F.length;this.writeVarint(z);this.realloc(z);for(var G=0;G<z;G++)this.buf[this.pos++]=F[G]},writeRawMessage:function(F,z){this.pos++;var G=this.pos;F(z,this);F=this.pos-G;128<=F&&N(G,F,this);this.pos=G-1;this.writeVarint(F);this.pos+=F},writeMessage:function(F,z,G){this.writeTag(F,k.Bytes);this.writeRawMessage(z,G)},writePackedVarint:function(F,z){z.length&&this.writeMessage(F,x,z)},writePackedSVarint:function(F,z){z.length&&
this.writeMessage(F,v,z)},writePackedBoolean:function(F,z){z.length&&this.writeMessage(F,g,z)},writePackedFloat:function(F,z){z.length&&this.writeMessage(F,u,z)},writePackedDouble:function(F,z){z.length&&this.writeMessage(F,m,z)},writePackedFixed32:function(F,z){z.length&&this.writeMessage(F,d,z)},writePackedSFixed32:function(F,z){z.length&&this.writeMessage(F,f,z)},writePackedFixed64:function(F,z){z.length&&this.writeMessage(F,a,z)},writePackedSFixed64:function(F,z){z.length&&this.writeMessage(F,
e,z)},writeBytesField:function(F,z){this.writeTag(F,k.Bytes);this.writeBytes(z)},writeFixed32Field:function(F,z){this.writeTag(F,k.Fixed32);this.writeFixed32(z)},writeSFixed32Field:function(F,z){this.writeTag(F,k.Fixed32);this.writeSFixed32(z)},writeFixed64Field:function(F,z){this.writeTag(F,k.Fixed64);this.writeFixed64(z)},writeSFixed64Field:function(F,z){this.writeTag(F,k.Fixed64);this.writeSFixed64(z)},writeVarintField:function(F,z){this.writeTag(F,k.Varint);this.writeVarint(z)},writeSVarintField:function(F,
z){this.writeTag(F,k.Varint);this.writeSVarint(z)},writeStringField:function(F,z){this.writeTag(F,k.Bytes);this.writeString(z)},writeFloatField:function(F,z){this.writeTag(F,k.Fixed32);this.writeFloat(z)},writeDoubleField:function(F,z){this.writeTag(F,k.Fixed64);this.writeDouble(z)},writeBooleanField:function(F,z){this.writeVarintField(F,!!z)}}};
shadow$provide[326]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var k=function(d){return d&&d.__esModule?d:{"default":d}}(A(117)),l=A(75),w=A(78),H=A(70),N=A(145),x=A(128),v=A(189),u=A(194),m=A(134),g=(0,l.create)();Ja=function(){function d(f,a,e,n,y){this.id_=y;this.type_=f;this.flatCoordinates_=a;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=e;this.properties_=n}d.prototype.get=function(f){return this.properties_[f]};d.prototype.getExtent=
function(){this.extent_||(this.extent_=this.type_===k["default"].POINT?(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,w.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_};d.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var f=(0,w.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,N.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,f,0)}return this.flatInteriorPoints_};d.prototype.getFlatInteriorPoints=
function(){if(!this.flatInteriorPoints_){var f=(0,u.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,N.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,f)}return this.flatInteriorPoints_};d.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,v.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};d.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=
[];for(var f=this.flatCoordinates_,a=0,e=this.ends_,n=0,y=e.length;n<y;++n){var B=e[n];a=(0,v.interpolatePoint)(f,a,B,2,.5);(0,H.extend)(this.flatMidpoints_,a);a=B}}return this.flatMidpoints_};d.prototype.getId=function(){return this.id_};d.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};d.prototype.getGeometry=function(){return this};d.prototype.getSimplifiedGeometry=function(f){return this};d.prototype.simplifyTransformed=function(f,a){return this};d.prototype.getProperties=
function(){return this.properties_};d.prototype.getStride=function(){return 2};d.prototype.getStyleFunction=function(){};d.prototype.getType=function(){return this.type_};d.prototype.transform=function(f){f=(0,x.get)(f);var a=f.getExtent();f=f.getWorldExtent();a&&f&&(a=(0,w.getHeight)(f)/(0,w.getHeight)(a),(0,l.compose)(g,f[0],f[3],a,-a,0,0,0),(0,m.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g,this.flatCoordinates_))};d.prototype.getEnds=function(){return this.ends_};return d}();
Ja.prototype.getEndss=Ja.prototype.getEnds;Ja.prototype.getFlatCoordinates=Ja.prototype.getOrientedFlatCoordinates;E["default"]=Ja};
shadow$provide[327]=function(Ja,A,rb,E){function k(R){k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"===typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T};return k(R)}function l(R){return R&&R.__esModule?R:{"default":R}}function w(){if("function"!==typeof WeakMap)return null;var R=new WeakMap;w=function(){return R};return R}function H(R,T,ja){if(3===R){R={keys:[],values:[],features:[]};var fa=
ja.readVarint()+ja.pos;ja.readFields(N,R,fa);R.length=R.features.length;R.length&&(T[R.name]=R)}}function N(R,T,ja){if(15===R)T.version=ja.readVarint();else if(1===R)T.name=ja.readString();else if(5===R)T.extent=ja.readVarint();else if(2===R)T.features.push(ja.pos);else if(3===R)T.keys.push(ja.readString());else if(4===R){R=null;for(var fa=ja.readVarint()+ja.pos;ja.pos<fa;)R=ja.readVarint()>>3,R=1===R?ja.readString():2===R?ja.readFloat():3===R?ja.readDouble():4===R?ja.readVarint64():5===R?ja.readVarint():
6===R?ja.readSVarint():7===R?ja.readBoolean():null;T.values.push(R)}}function x(R,T,ja){if(1==R)T.id=ja.readVarint();else if(2==R)for(R=ja.readVarint()+ja.pos;ja.pos<R;){var fa=T.layer.keys[ja.readVarint()],ha=T.layer.values[ja.readVarint()];T.properties[fa]=ha}else 3==R?T.type=ja.readVarint():4==R&&(T.geometry=ja.pos)}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var v=function(R){if(R&&R.__esModule)return R;if(null===R||"object"!==k(R)&&"function"!==typeof R)return{"default":R};
var T=w();if(T&&T.has(R))return T.get(R);var ja={},fa=Object.defineProperty&&Object.getOwnPropertyDescriptor,ha;for(ha in R)if(Object.prototype.hasOwnProperty.call(R,ha)){var la=fa?Object.getOwnPropertyDescriptor(R,ha):null;la&&(la.get||la.set)?Object.defineProperty(ja,ha,la):ja[ha]=R[ha]}ja["default"]=R;T&&T.set(R,ja);return ja}(A(250)),u=l(A(184)),m=l(A(133)),g=l(A(117)),d=l(A(191)),f=l(A(192)),a=l(A(193)),e=l(A(195)),n=l(A(325)),y=l(A(143)),B=l(A(150)),D=l(A(122)),O=l(A(326)),M=l(A(118)),F=A(74),
z=A(128),G=A(149),K=function(){var R=function(T,ja){R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fa,ha){fa.__proto__=ha}||function(fa,ha){for(var la in ha)Object.prototype.hasOwnProperty.call(ha,la)&&(fa[la]=ha[la])};return R(T,ja)};return function(T,ja){function fa(){this.constructor=T}R(T,ja);T.prototype=null===ja?Object.create(ja):(fa.prototype=ja.prototype,new fa)}}();Ja=function(R){function T(ja){var fa=R.call(this)||this;ja=ja?ja:{};fa.dataProjection=new D["default"]({code:"",
units:M["default"].TILE_PIXELS});fa.featureClass_=ja.featureClass?ja.featureClass:O["default"];fa.geometryName_=ja.geometryName;fa.layerName_=ja.layerName?ja.layerName:"layer";fa.layers_=ja.layers?ja.layers:null;fa.idProperty_=ja.idProperty;return fa}K(T,R);T.prototype.readRawGeometry_=function(ja,fa,ha,la){ja.pos=fa.geometry;fa=ja.readVarint()+ja.pos;for(var Z=1,P=0,C=0,V=0,ia=0,aa=0;ja.pos<fa;)P||(P=ja.readVarint(),Z=P&7,P>>=3),P--,1===Z||2===Z?(C+=ja.readSVarint(),V+=ja.readSVarint(),1===Z&&ia>
aa&&(la.push(ia),aa=ia),ha.push(C,V),ia+=2):7===Z?ia>aa&&(ha.push(ha[aa],ha[aa+1]),ia+=2):(0,F.assert)(!1,59);ia>aa&&la.push(ia)};T.prototype.createFeature_=function(ja,fa,ha){var la=fa.type;if(0===la)return null;var Z=fa.properties;if(this.idProperty_){var P=Z[this.idProperty_];delete Z[this.idProperty_]}else P=fa.id;Z[this.layerName_]=fa.layer.name;var C=[];var V=[];this.readRawGeometry_(ja,fa,C,V);ja=V.length;if(1===la)var ia=1===ja?g["default"].POINT:g["default"].MULTI_POINT;else 2===la?ia=1===
ja?g["default"].LINE_STRING:g["default"].MULTI_LINE_STRING:3===la&&(ia=g["default"].POLYGON);la=ia;if(this.featureClass_===O["default"])C=new this.featureClass_(la,C,V,Z,P),C.transform(ha.dataProjection);else{if(la==g["default"].POLYGON){la=[];fa=ja=ia=0;for(var aa=V.length;fa<aa;++fa){var ya=V[fa];if((0,G.linearRingIsClockwise)(C,ia,ya,2)){if(0===la.length)continue;la[la.length-1].push(V[ja])}else la.push(V.slice(ja,fa+1));ja=fa+1;ia=ya}V=1<la.length?new e["default"](C,m["default"].XY,la):new B["default"](C,
m["default"].XY,V)}else V=la===g["default"].POINT?new y["default"](C,m["default"].XY):la===g["default"].LINE_STRING?new d["default"](C,m["default"].XY):la===g["default"].POLYGON?new B["default"](C,m["default"].XY,V):la===g["default"].MULTI_POINT?new a["default"](C,m["default"].XY):la===g["default"].MULTI_LINE_STRING?new f["default"](C,m["default"].XY,V):null;C=new this.featureClass_;this.geometryName_&&C.setGeometryName(this.geometryName_);ha=(0,v.transformGeometryWithOptions)(V,!1,ha);C.setGeometry(ha);
C.setId(P);C.setProperties(Z,!0)}return C};T.prototype.getType=function(){return u["default"].ARRAY_BUFFER};T.prototype.readFeatures=function(ja,fa){var ha=this.layers_;fa=this.adaptOptions(fa);var la=(0,z.get)(fa.dataProjection);la.setWorldExtent(fa.extent);fa.dataProjection=la;ja=new n["default"](ja);var Z=ja.readFields(H,{}),P=[],C;for(C in Z)if(!ha||-1!=ha.indexOf(C)){var V=Z[C];la.setExtent(V?[0,0,V.extent,V.extent]:null);for(var ia=0,aa=V.length;ia<aa;++ia){var ya=ja,va=V;ya.pos=va.features[ia];
var Ia=ya.readVarint()+ya.pos;va={layer:va,type:0,properties:{}};ya.readFields(x,va,Ia);P.push(this.createFeature_(ja,va,fa))}}return P};T.prototype.readProjection=function(ja){return this.dataProjection};T.prototype.setLayers=function(ja){this.layers_=ja};return T}(v["default"]);E["default"]=Ja};
shadow$provide[328]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;E["default"]={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[329]=function(Ja,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var l=k(A(215)),w=k(A(221));Ja=k(A(295));var H=k(A(86));rb=k(A(218));var N=k(A(115)),x=k(A(328)),v=k(A(119)),u=A(75),m=A(78),g=A(84),d=A(231),f=A(232),a=A(72),e=A(87),n=A(152),y=A(96),B=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,
R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}(),D={image:[rb["default"].POLYGON,rb["default"].CIRCLE,rb["default"].LINE_STRING,rb["default"].IMAGE,rb["default"].TEXT],hybrid:[rb["default"].POLYGON,rb["default"].LINE_STRING],vector:[]},O={image:[rb["default"].DEFAULT],hybrid:[rb["default"].IMAGE,rb["default"].TEXT,rb["default"].DEFAULT],vector:[rb["default"].POLYGON,rb["default"].CIRCLE,
rb["default"].LINE_STRING,rb["default"].IMAGE,rb["default"].TEXT,rb["default"].DEFAULT]};A=function(M){function F(z){z=M.call(this,z)||this;z.boundHandleStyleImageChange_=z.handleStyleImageChange_.bind(z);z.dirty_=!1;z.renderedPixelToCoordinateTransform_=null;z.renderTileImageQueue_={};z.tileListenerKeys_={};z.tmpTransform_=(0,u.create)();return z}B(F,M);F.prototype.prepareTile=function(z,G,K,R){var T=(0,a.getUid)(z),ja=z.getState();(ja===N["default"].LOADED&&z.hifi||ja===N["default"].ERROR)&&T in
this.tileListenerKeys_&&((0,e.unlistenByKey)(this.tileListenerKeys_[T]),delete this.tileListenerKeys_[T]);if(ja===N["default"].LOADED||ja===N["default"].ERROR)if(this.updateExecutorGroup_(z,G,K),this.tileImageNeedsRender_(z,G,K)){var fa=!0;R&&(this.renderTileImageQueue_[T]=z)}return fa};F.prototype.getTile=function(z,G,K,R){var T=R.pixelRatio,ja=R.viewState,fa=ja.resolution;ja=ja.projection;var ha=this.getLayer(),la=ha.getSource().getTile(z,G,K,T,ja);if(la.getState()<N["default"].LOADED)la.wantedResolution=
fa,fa=(0,a.getUid)(la),fa in this.tileListenerKeys_||(T=(0,e.listen)(la,H["default"].CHANGE,this.prepareTile.bind(this,la,T,ja,!0)),this.tileListenerKeys_[fa]=T);else{var Z=R.viewHints;(Z[v["default"].ANIMATING]||Z[v["default"].INTERACTING])&&la.wantedResolution||(la.wantedResolution=fa);this.prepareTile(la,T,ja,!1)&&ha.getRenderMode()!==x["default"].VECTOR&&this.renderTileImage_(la,R)}return M.prototype.getTile.call(this,z,G,K,R)};F.prototype.isDrawableTile=function(z){var G=this.getLayer();return M.prototype.isDrawableTile.call(this,
z)&&(G.getRenderMode()===x["default"].VECTOR?(0,a.getUid)(G)in z.executorGroups:z.hasContext(G))};F.prototype.getTileImage=function(z){return z.getImage(this.getLayer())};F.prototype.prepareFrame=function(z){var G=this.getLayer().getRevision();this.renderedLayerRevision_!=G&&(this.renderedTiles.length=0);this.renderedLayerRevision_=G;return M.prototype.prepareFrame.call(this,z)};F.prototype.updateExecutorGroup_=function(z,G,K){var R=this.getLayer(),T=R.getRevision(),ja=R.getRenderOrder()||null,fa=
z.wantedResolution,ha=z.getReplayState(R);if(ha.dirty||ha.renderedResolution!==fa||ha.renderedRevision!=T||ha.renderedRenderOrder!=ja||ha.renderedZ!==z.sourceZ){var la=R.getSource(),Z=R.getDeclutter(),P=la.getTileGrid(),C=la.getTileGridForProjection(K).getTileCoordExtent(z.wrappedTileCoord),V=la.getSourceTiles(G,K,z),ia=(0,a.getUid)(R);delete z.hitDetectionImageData[ia];z.executorGroups[ia]=[];Z&&(z.declutterExecutorGroups[ia]=[]);K=function(Ia,bb){var kb=V[Ia];if(kb.getState()!=N["default"].LOADED)return"continue";
bb=P.getTileCoordExtent(kb.tileCoord);Ia=(0,m.getIntersection)(C,bb);bb=(0,m.equals)(bb,Ia)?null:(0,m.buffer)(Ia,R.getRenderBuffer()*fa,aa.tmpExtent);ha.dirty=!1;var ua=new l["default"](0,Ia,fa,G),Ta=Z?new l["default"](0,Ia,fa,G):void 0,Ya=(0,f.getSquaredTolerance)(fa,G),Da=function(ba){var ca,ra=ba.getStyleFunction()||R.getStyleFunction();ra&&(ca=ra(ba,fa));ca&&(ba=this.renderFeature(ba,Ya,ca,ua,Ta),this.dirty_=this.dirty_||ba,ha.dirty=ha.dirty||ba)};kb=kb.getFeatures();ja&&ja!==ha.renderedRenderOrder&&
kb.sort(ja);for(var ta=0,U=kb.length;ta<U;++ta){var W=kb[ta];bb&&!(0,m.intersects)(bb,W.getGeometry().getExtent())||Da.call(aa,W)}bb=ua.finish();Ia=R.getRenderMode()!==x["default"].VECTOR&&Z&&1===V.length?null:Ia;bb=new w["default"](Ia,fa,G,la.getOverlaps(),bb,R.getRenderBuffer());z.executorGroups[ia].push(bb);Ta&&(Ia=new w["default"](Ia,fa,G,la.getOverlaps(),Ta.finish(),R.getRenderBuffer()),z.declutterExecutorGroups[ia].push(Ia))};for(var aa=this,ya=0,va=V.length;ya<va;++ya)K(ya,va);ha.renderedRevision=
T;ha.renderedZ=z.sourceZ;ha.renderedRenderOrder=ja;ha.renderedResolution=fa}};F.prototype.forEachFeatureAtCoordinate=function(z,G,K,R,T){var ja=G.viewState.resolution,fa=G.viewState.rotation;K=void 0==K?0:K;var ha=this.getLayer(),la=ha.getSource().getTileGridForProjection(G.viewState.projection),Z=(0,m.boundingExtent)([z]);(0,m.buffer)(Z,ja*K,Z);for(var P={},C=function(Ia,bb,kb){var ua=Ia.getId();void 0===ua&&(ua=(0,a.getUid)(Ia));var Ta=P[ua];if(!Ta){if(0===kb)return P[ua]=!0,R(Ia,ha,bb);T.push(P[ua]=
{feature:Ia,layer:ha,geometry:bb,distanceSq:kb,callback:R})}else if(!0!==Ta&&kb<Ta.distanceSq){if(0===kb)return P[ua]=!0,T.splice(T.lastIndexOf(Ta),1),R(Ia,ha,bb);Ta.geometry=bb;Ta.distanceSq=kb}},V=this.renderedTiles,ia,aa=function(Ia,bb){Ia=V[Ia];bb=la.getTileCoordExtent(Ia.wrappedTileCoord);if(!(0,m.intersects)(bb,Z))return"continue";bb=(0,a.getUid)(ha);var kb=[Ia.executorGroups[bb]],ua=Ia.declutterExecutorGroups[bb];ua&&kb.push(ua);kb.some(function(Ta){for(var Ya=Ta===ua?G.declutterTree.all().map(function(U){return U.value}):
null,Da=0,ta=Ta.length;Da<ta;++Da)if(ia=Ta[Da].forEachFeatureAtCoordinate(z,ja,fa,K,C,Ya))return!0})},ya=0,va=V.length;!ia&&ya<va;++ya)aa(ya,va);return ia};F.prototype.getFeatures=function(z){return new Promise(function(G,K){K=this.getLayer();for(var R=(0,a.getUid)(K),T=K.getSource(),ja=this.renderedProjection,fa=ja.getExtent(),ha=this.renderedResolution,la=T.getTileGridForProjection(ja),Z=(0,u.apply)(this.renderedPixelToCoordinateTransform_,z.slice()),P=la.getTileCoordForCoordAndResolution(Z,ha),
C,V=0,ia=this.renderedTiles.length;V<ia;++V)if(P.toString()===this.renderedTiles[V].tileCoord.toString()){C=this.renderedTiles[V];if(C.getState()===N["default"].LOADED&&C.hifi){P=la.getTileCoordExtent(C.tileCoord);T.getWrapX()&&ja.canWrapX()&&!(0,m.containsExtent)(fa,P)&&(0,y.wrapX)(Z,ja);break}C=void 0}!C||0<C.loadingSourceTiles?G([]):(T=la.getTileCoordExtent(C.wrappedTileCoord),T=(0,m.getTopLeft)(T),Z=[(Z[0]-T[0])/ha,(T[1]-Z[1])/ha],T=C.getSourceTiles().reduce(function(aa,ya){return aa.concat(ya.getFeatures())},
[]),ja=C.hitDetectionImageData[R],ja||this.animatingOrInteracting_||(ja=(0,n.toSize)(la.getTileSize(la.getZForResolution(ha))),P=[ja[0]/2,ja[1]/2],fa=this.renderedRotation_,ha=[this.getRenderTransform(la.getTileCoordCenter(C.wrappedTileCoord),ha,0,.5,P[0],P[1],0)],ja=(0,d.createHitDetectionImageData)(ja,ha,T,K.getStyleFunction(),la.getTileCoordExtent(C.wrappedTileCoord),C.getReplayState(K).renderedResolution,fa),C.hitDetectionImageData[R]=ja),G((0,d.hitDetect)(Z,T,ja)))}.bind(this))};F.prototype.handleFontsChanged=
function(){(0,g.clear)(this.renderTileImageQueue_);var z=this.getLayer();z.getVisible()&&void 0!==this.renderedLayerRevision_&&z.changed()};F.prototype.handleStyleImageChange_=function(z){this.renderIfReadyAndVisible()};F.prototype.renderDeclutter=function(z){var G=z.viewHints;G=!(G[v["default"].ANIMATING]||G[v["default"].INTERACTING]);for(var K=this.renderedTiles,R=0,T=K.length;R<T;++R){var ja=K[R],fa=ja.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(fa)for(var ha=fa.length-1;0<=ha;--ha)fa[ha].execute(this.context,
1,this.getTileRenderTransform(ja,z),z.viewState.rotation,G,void 0,z.declutterTree)}};F.prototype.getTileRenderTransform=function(z,G){var K=G.pixelRatio,R=G.viewState,T=R.center,ja=R.resolution;R=R.rotation;var fa=G.size,ha=Math.round(fa[0]*K);fa=Math.round(fa[1]*K);G=this.getLayer().getSource().getTileGridForProjection(G.viewState.projection);var la=z.tileCoord;z=G.getTileCoordExtent(z.wrappedTileCoord);z=G.getTileCoordExtent(la,this.tmpExtent)[0]-z[0];return(0,u.multiply)((0,u.scale)(this.inversePixelTransform.slice(),
1/K,1/K),this.getRenderTransform(T,ja,R,K,ha,fa,z))};F.prototype.renderFrame=function(z,G){var K=z.viewHints;K=!(K[v["default"].ANIMATING]||K[v["default"].INTERACTING]);this.renderQueuedTileImages_(K,z);M.prototype.renderFrame.call(this,z,G);this.renderedPixelToCoordinateTransform_=z.pixelToCoordinateTransform.slice();this.renderedRotation_=z.viewState.rotation;G=this.getLayer();var R=G.getRenderMode();if(R===x["default"].IMAGE)return this.container;var T=G.getSource();T=z.usedTiles[(0,a.getUid)(T)];
for(var ja in this.renderTileImageQueue_)T&&ja in T||delete this.renderTileImageQueue_[ja];ja=this.context;R=O[R];T=z.viewState.rotation;for(var fa=this.renderedTiles,ha=[],la=[],Z=fa.length-1;0<=Z;--Z)for(var P=fa[Z],C=this.getTileRenderTransform(P,z),V=P.executorGroups[(0,a.getUid)(G)],ia=!1,aa=0,ya=V.length;aa<ya;++aa){var va=V[aa];if(va.hasExecutors(R)){var Ia=P.tileCoord[0],bb=void 0;if(!ia&&(bb=va.getClipCoords(C))){ja.save();for(var kb=0,ua=ha.length;kb<ua;++kb){var Ta=ha[kb];Ia<la[kb]&&(ja.beginPath(),
ja.moveTo(bb[0],bb[1]),ja.lineTo(bb[2],bb[3]),ja.lineTo(bb[4],bb[5]),ja.lineTo(bb[6],bb[7]),ja.moveTo(Ta[6],Ta[7]),ja.lineTo(Ta[4],Ta[5]),ja.lineTo(Ta[2],Ta[3]),ja.lineTo(Ta[0],Ta[1]),ja.clip())}}va.execute(ja,1,C,T,K,R);!ia&&bb&&(ja.restore(),ha.push(bb),la.push(Ia),ia=!0)}}return this.container};F.prototype.renderQueuedTileImages_=function(z,G){for(var K in this.renderTileImageQueue_){if(!z&&8<Date.now()-G.time){G.animate=!0;break}var R=this.renderTileImageQueue_[K];delete this.renderTileImageQueue_[K];
this.renderTileImage_(R,G)}};F.prototype.renderFeature=function(z,G,K,R,T){if(!K)return!1;var ja=!1;if(Array.isArray(K))for(var fa=0,ha=K.length;fa<ha;++fa)ja=(0,f.renderFeature)(R,z,K[fa],G,this.boundHandleStyleImageChange_,void 0,T)||ja;else ja=(0,f.renderFeature)(R,z,K,G,this.boundHandleStyleImageChange_,void 0,T);return ja};F.prototype.tileImageNeedsRender_=function(z,G,K){K=this.getLayer();G=z.getReplayState(K);K=K.getRevision();var R=z.sourceZ;return G.renderedTileResolution!==z.wantedResolution||
G.renderedTileRevision!==K||G.renderedTileZ!==R};F.prototype.renderTileImage_=function(z,G){var K=this.getLayer(),R=z.getReplayState(K),T=K.getRevision(),ja=z.executorGroups[(0,a.getUid)(K)];R.renderedTileRevision=T;R.renderedTileZ=z.sourceZ;T=z.wrappedTileCoord;var fa=T[0],ha=K.getSource(),la=G.pixelRatio,Z=G.viewState.projection,P=ha.getTileGridForProjection(Z),C=P.getResolution(z.tileCoord[0]);C*=G.pixelRatio/z.wantedResolution;var V=P.getResolution(fa);G=z.getContext(K);la=Math.round(Math.max(la,
C/la));fa=ha.getTilePixelSize(fa,la,Z);G.canvas.width=fa[0];G.canvas.height=fa[1];la/=C;1!==la&&(fa=(0,u.reset)(this.tmpTransform_),(0,u.scale)(fa,la,la),G.setTransform.apply(G,fa));T=P.getTileCoordExtent(T,this.tmpExtent);C/=V;P=(0,u.reset)(this.tmpTransform_);(0,u.scale)(P,C,-C);(0,u.translate)(P,-T[0],-T[3]);T=0;for(C=ja.length;T<C;++T)ja[T].execute(G,la,P,0,!0,D[K.getRenderMode()]);R.renderedTileResolution=z.wantedResolution};return F}(Ja["default"]);E["default"]=A};
shadow$provide[330]=function(Ja,A,rb,E){function k(u){return u&&u.__esModule?u:{"default":u}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(205));var l=k(A(329)),w=k(A(293)),H=k(A(328)),N=A(74),x=A(84),v=function(){var u=function(m,g){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var a in f)Object.prototype.hasOwnProperty.call(f,a)&&(d[a]=f[a])};return u(m,g)};return function(m,g){function d(){this.constructor=
m}u(m,g);m.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();A=function(u){function m(g){g=g?g:{};var d=(0,x.assign)({},g);delete d.preload;delete d.useInterimTilesOnError;d=u.call(this,d)||this;var f=g.renderMode||H["default"].HYBRID;(0,N.assert)(void 0==f||f==H["default"].IMAGE||f==H["default"].HYBRID||f==H["default"].VECTOR,28);d.renderMode_=f;d.setPreload(g.preload?g.preload:0);d.setUseInterimTilesOnError(void 0!==g.useInterimTilesOnError?g.useInterimTilesOnError:!0);return d}
v(m,u);m.prototype.createRenderer=function(){return new l["default"](this)};m.prototype.getFeatures=function(g){return u.prototype.getFeatures.call(this,g)};m.prototype.getRenderMode=function(){return this.renderMode_};m.prototype.getPreload=function(){return this.get(w["default"].PRELOAD)};m.prototype.getUseInterimTilesOnError=function(){return this.get(w["default"].USE_INTERIM_TILES_ON_ERROR)};m.prototype.setPreload=function(g){this.set(w["default"].PRELOAD,g)};m.prototype.setUseInterimTilesOnError=
function(g){this.set(w["default"].USE_INTERIM_TILES_ON_ERROR,g)};return m}(Ja["default"]);E["default"]=A};
shadow$provide[331]=function(Ja,A,rb,E){var k={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},l=/(italic|oblique)$/i,w={};rb.exports=function(H,N,x){var v=w[H];if(!v){Array.isArray(H)||(H=[H]);v=400;for(var u="normal",m=[],g=0,d=H.length;g<
d;++g){var f=H[g].split(" "),a=f[f.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(u=a,f.pop(),a=f[f.length-1].toLowerCase()):l.test(a)&&(a=a.replace(l,""),u=f[f.length-1].replace(a,""));for(var e in k)if(a==e||a==e.replace("-","")||a==e.replace("-"," ")){v=k[e];f.pop();break}"number"==typeof a&&(v=a);f=f.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==f.indexOf(" ")&&(f='"'+f+'"');m.push(f)}v=w[H]=[u,v,m]}return v[0]+" "+v[1]+" "+N+"px"+(x?"/"+x:"")+" "+v[2]}};
shadow$provide[332]=function(Ja,A,rb,E){var k=A(24).Buffer;(function(l,w){"object"===typeof E&&"undefined"!==typeof rb?w(E):"function"===typeof define&&define.amd?define(["exports"],w):(l=l||self,w(l.mapboxGlStyleSpecification={}))})(this,function(l){function w(r,Q){const ma={};for(const Ma in Q)void 0!==r[Ma]&&(ma[Ma]=r[Ma]);for(const Ma in r)void 0===ma[Ma]&&(ma[Ma]=r[Ma]);return ma}function H(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs");}function N(r,
Q){return Q={exports:{}},r(Q,Q.exports),Q.exports}function x(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function v(r,Q,ma){if(r&&ue.isObject(r)&&r instanceof x)return r;var Ma=new x;Ma.parse(r,Q,ma);return Ma}function u(r){for(var Q=0;Q<Gc.layout.length;Q++)for(const ma in Gc[Gc.layout[Q]])if(ma===r)return Gc[Gc.layout[Q]][ma];for(Q=0;Q<Gc.paint.length;Q++)for(const ma in Gc[Gc.paint[Q]])if(ma===
r)return Gc[Gc.paint[Q]][ma];return null}function m(r,Q){for(const ma in r.sources)Q(r.sources[ma])}function g(r,Q){for(const ma of r.layers)Q(ma)}function d(r,Q,ma){function Ma(gb,lb){const sb=gb[lb];sb&&Object.keys(sb).forEach(Rb=>{ma({path:[gb.id,lb,Rb],key:Rb,value:sb[Rb],reference:u(Rb),set(ec){sb[Rb]=ec}})})}g(r,gb=>{Q.paint&&Ma(gb,"paint");Q.layout&&Ma(gb,"layout")})}function f(r,Q){for(const ma in r)0===ma.indexOf("layout")&&Q(r[ma],ma)}function a(r,Q){for(const ma in r)0===ma.indexOf("paint")&&
Q(r[ma],ma)}function e(r,Q){return"string"===typeof Q&&"@"===Q[0]?e(r,r.constants[Q]):Q}function n(r,Q,ma){r[ma]=r[Q];delete r[Q]}function y(r){function Q(gb){const lb=Mc.parse(gb),sb=lb.pathname.split("/");if("mapbox:"!==lb.protocol)return gb;if("fontstack"===lb.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===lb.hostname)return`mapbox://fonts/${sb[2]}/{fontstack}/{range}.pbf`}function ma(gb){function lb(sb){return sb.split(",").map(Rb=>Rb.trim())}if(Array.isArray(gb))return gb;
if("string"===typeof gb)return lb(gb);if("object"===typeof gb)return gb.stops.forEach(sb=>{sb[1]=lb(sb[1])}),gb;throw Error("unexpected font value");}r.version=8;m(r,gb=>{"video"===gb.type&&void 0!==gb.url&&n(gb,"url","urls");"video"===gb.type&&gb.coordinates.forEach(lb=>lb.reverse())});g(r,gb=>{f(gb,lb=>{void 0!==lb["symbol-min-distance"]&&n(lb,"symbol-min-distance","symbol-spacing")});a(gb,lb=>{void 0!==lb["background-image"]&&n(lb,"background-image","background-pattern");void 0!==lb["line-image"]&&
n(lb,"line-image","line-pattern");void 0!==lb["fill-image"]&&n(lb,"fill-image","fill-pattern")})});d(r,{paint:!0,layout:!0},gb=>{const lb=e(r,gb.value);Array.isArray(lb.stops)&&lb.stops.forEach(sb=>{sb[1]=e(r,sb[1])});gb.set(lb)});delete r.constants;g(r,gb=>{f(gb,lb=>{delete lb["text-max-size"];delete lb["icon-max-size"]});a(gb,lb=>{lb["text-size"]&&(gb.layout||(gb.layout={}),gb.layout["text-size"]=lb["text-size"],delete lb["text-size"]);lb["icon-size"]&&(gb.layout||(gb.layout={}),gb.layout["icon-size"]=
lb["icon-size"],delete lb["icon-size"])})});r.glyphs&&(r.glyphs=Q(r.glyphs));g(r,gb=>{f(gb,lb=>{lb["text-font"]&&(lb["text-font"]=ma(lb["text-font"]))})});var Ma=0;for(let gb=r.layers.length-1;0<=gb;gb--)if("symbol"!==r.layers[gb].type){Ma=gb+1;break}Ma=r.layers.splice(Ma);Ma.reverse();r.layers=r.layers.concat(Ma);return r}function B(r,...Q){for(const ma of Q)for(const Ma in ma)r[Ma]=ma[Ma];return r}function D(r,Q){return{kind:"array",itemType:r,N:Q}}function O(r){if("array"===r.kind){const Q=O(r.itemType);
return"number"===typeof r.N?`array<${Q}, ${r.N}>`:"value"===r.itemType.kind?"array":`array<${Q}>`}return r.kind}function M(r,Q){if("error"===Q.kind)return null;if("array"===r.kind){if("array"===Q.kind&&(0===Q.N&&"value"===Q.itemType.kind||!M(r.itemType,Q.itemType))&&("number"!==typeof r.N||r.N===Q.N))return null}else{if(r.kind===Q.kind)return null;if("value"===r.kind)for(const ma of Zf)if(!M(ma,Q))return null}return`Expected ${O(r)} but found ${O(Q)} instead.`}function F(r,Q){return Q.some(ma=>ma.kind===
r.kind)}function z(r,Q){return Q.some(ma=>"null"===ma?null===r:"array"===ma?Array.isArray(r):"object"===ma?r&&!Array.isArray(r)&&"object"===typeof r:ma===typeof r)}function G(r,Q,ma,Ma){return"number"===typeof r&&0<=r&&255>=r&&"number"===typeof Q&&0<=Q&&255>=Q&&"number"===typeof ma&&0<=ma&&255>=ma?"undefined"===typeof Ma||"number"===typeof Ma&&0<=Ma&&1>=Ma?null:`Invalid rgba value [${[r,Q,ma,Ma].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===typeof Ma?[r,Q,ma,Ma]:[r,
Q,ma]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function K(r){if(null===r||"string"===typeof r||"boolean"===typeof r||"number"===typeof r||r instanceof Pe||r instanceof nf||r instanceof Pa||r instanceof vb)return!0;if(Array.isArray(r)){for(const Q of r)if(!K(Q))return!1;return!0}if("object"===typeof r){for(const Q in r)if(!K(r[Q]))return!1;return!0}return!1}function R(r){if(null===r)return Id;if("string"===typeof r)return Qd;if("boolean"===typeof r)return ie;if("number"===typeof r)return jd;
if(r instanceof Pe)return Gf;if(r instanceof nf)return We;if(r instanceof Pa)return uf;if(r instanceof vb)return mf;if(Array.isArray(r)){const Q=r.length;let ma;for(const Ma of r)if(r=R(Ma),ma){if(ma!==r){ma=kd;break}}else ma=r;return D(ma||kd,Q)}return tf}function T(r){const Q=typeof r;return null===r?"":"string"===Q||"number"===Q||"boolean"===Q?String(r):r instanceof Pe||r instanceof Pa||r instanceof vb?r.toString():JSON.stringify(r)}function ja(r,Q){r[0]=Math.min(r[0],Q[0]);r[1]=Math.min(r[1],
Q[1]);r[2]=Math.max(r[2],Q[0]);r[3]=Math.max(r[3],Q[1])}function fa(r,Q){return r[0]<=Q[0]||r[2]>=Q[2]||r[1]<=Q[1]||r[3]>=Q[3]?!1:!0}function ha(r,Q){let ma=!1;for(let sb=0,Rb=Q.length;sb<Rb;sb++){const ec=Q[sb];for(let Vb=0,Qc=ec.length;Vb<Qc-1;Vb++){{var Ma=ec[Vb],gb=ec[Vb+1];var lb=r[0]-Ma[0];Ma=r[1]-Ma[1];const dd=r[0]-gb[0];gb=r[1]-gb[1];lb=0===lb*gb-dd*Ma&&0>=lb*dd&&0>=Ma*gb}if(lb)return!1;lb=ec[Vb];gb=ec[Vb+1];lb[1]>r[1]!==gb[1]>r[1]&&r[0]<(gb[0]-lb[0])*(r[1]-lb[1])/(gb[1]-lb[1])+lb[0]&&(ma=
!ma)}}return ma}function la(r,Q,ma,Ma){const gb=Ma[0]-ma[0];Ma=Ma[1]-ma[1];r=(r[0]-ma[0])*Ma-gb*(r[1]-ma[1]);Q=(Q[0]-ma[0])*Ma-gb*(Q[1]-ma[1]);return 0<r&&0>Q||0>r&&0<Q?!0:!1}function Z(r,Q){for(var ma=0;ma<r.length;++ma)if(!ha(r[ma],Q))return!1;for(ma=0;ma<r.length-1;++ma){a:{var Ma=r[ma];var gb=r[ma+1],lb=Q;for(const dd of lb)for(let zd=0;zd<dd.length-1;++zd){lb=Ma;var sb=gb,Rb=dd[zd],ec=dd[zd+1],Vb=[ec[0]-Rb[0],ec[1]-Rb[1]],Qc=[sb[0]-lb[0],sb[1]-lb[1]];if(0===Vb[0]*Qc[1]-Vb[1]*Qc[0]?0:la(lb,sb,
Rb,ec)&&la(Rb,ec,lb,sb)){Ma=!0;break a}}Ma=!1}if(Ma)return!1}return!0}function P(r,Q,ma){const Ma=[];for(let lb=0;lb<r.length;lb++){const sb=[];for(let Rb=0;Rb<r[lb].length;Rb++){{var gb=r[lb][Rb];const ec=Math.pow(2,ma.z);gb=[Math.round((180+gb[0])/360*ec*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+gb[1]*Math.PI/360)))/360*ec*8192)]}ja(Q,gb);sb.push(gb)}Ma.push(sb)}return Ma}function C(r,Q,ma){const Ma=[];for(let gb=0;gb<r.length;gb++){const lb=P(r[gb],Q,ma);Ma.push(lb)}return Ma}
function V(r,Q,ma,Ma){if(r[0]<ma[0]||r[0]>ma[2]){const gb=.5*Ma;let lb=r[0]-ma[0]>gb?-Ma:ma[0]-r[0]>gb?Ma:0;0===lb&&(lb=r[0]-ma[2]>gb?-Ma:ma[2]-r[0]>gb?Ma:0);r[0]+=lb}ja(Q,r)}function ia(r,Q,ma,Ma){const gb=8192*Math.pow(2,Ma.z);Ma=[8192*Ma.x,8192*Ma.y];const lb=[];for(const sb of r)for(const Rb of sb)r=[Rb.x+Ma[0],Rb.y+Ma[1]],V(r,Q,ma,gb),lb.push(r);return lb}function aa(r,Q,ma,Ma){const gb=8192*Math.pow(2,Ma.z);Ma=[8192*Ma.x,8192*Ma.y];const lb=[];for(const sb of r){r=[];for(const Rb of sb){const ec=
[Rb.x+Ma[0],Rb.y+Ma[1]];ja(Q,ec);r.push(ec)}lb.push(r)}if(Q[2]-Q[0]<=gb/2){Q[0]=Q[1]=Infinity;Q[2]=Q[3]=-Infinity;for(const sb of lb)for(const Rb of sb)V(Rb,Q,ma,gb)}return lb}function ya(r,Q){var ma=[Infinity,Infinity,-Infinity,-Infinity],Ma=[Infinity,Infinity,-Infinity,-Infinity];const gb=r.canonicalID();if("Polygon"===Q.type){const lb=P(Q.coordinates,Ma,gb),sb=ia(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const Rb of sb)if(!ha(Rb,lb))return!1}if("MultiPolygon"===Q.type){Q=C(Q.coordinates,
Ma,gb);r=ia(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const lb of r){a:{ma=lb;Ma=Q;for(r=0;r<Ma.length;r++)if(ha(ma,Ma[r])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function va(r,Q){var ma=[Infinity,Infinity,-Infinity,-Infinity],Ma=[Infinity,Infinity,-Infinity,-Infinity];const gb=r.canonicalID();if("Polygon"===Q.type){const lb=P(Q.coordinates,Ma,gb),sb=aa(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const Rb of sb)if(!Z(Rb,lb))return!1}if("MultiPolygon"===Q.type){Q=C(Q.coordinates,
Ma,gb);r=aa(r.geometry(),ma,Ma,gb);if(!fa(ma,Ma))return!1;for(const lb of r){a:{ma=lb;Ma=Q;for(r=0;r<Ma.length;r++)if(Z(ma,Ma[r])){ma=!0;break a}ma=!1}if(!ma)return!1}}return!0}function Ia(r){if(r instanceof Gd&&("get"===r.name&&1===r.args.length||"feature-state"===r.name||"has"===r.name&&1===r.args.length||"properties"===r.name||"geometry-type"===r.name||"id"===r.name||/^filter-/.test(r.name))||r instanceof $d)return!1;let Q=!0;r.eachChild(ma=>{Q&&!Ia(ma)&&(Q=!1)});return Q}function bb(r){if(r instanceof
Gd&&"feature-state"===r.name)return!1;let Q=!0;r.eachChild(ma=>{Q&&!bb(ma)&&(Q=!1)});return Q}function kb(r,Q){if(r instanceof Gd&&0<=Q.indexOf(r.name))return!1;let ma=!0;r.eachChild(Ma=>{ma&&!kb(Ma,Q)&&(ma=!1)});return ma}function ua(r){if(r instanceof Ie)return ua(r.boundExpression);if(r instanceof Gd&&"error"===r.name||r instanceof Le||r instanceof $d)return!1;const Q=r instanceof Kd||r instanceof oc;let ma=!0;r.eachChild(Ma=>{ma=Q?ma&&ua(Ma):ma&&Ma instanceof Wb});return ma?Ia(r)&&kb(r,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script".split(" ")):
!1}function Ta(r,Q){const ma=r.length-1;let Ma=0,gb=ma,lb,sb,Rb;for(;Ma<=gb;)if(lb=Math.floor((Ma+gb)/2),sb=r[lb],Rb=r[lb+1],sb<=Q){if(lb===ma||Q<Rb)return lb;Ma=lb+1}else if(sb>Q)gb=lb-1;else throw new Tb("Input is not a number.");return 0}function Ya(r,Q,ma,Ma){this.cx=3*r;this.bx=3*(ma-r)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*Q;this.by=3*(Ma-Q)-this.cy;this.ay=1-this.cy-this.by;this.p1x=r;this.p1y=Ma;this.p2x=ma;this.p2y=Ma}function Da(r,Q,ma){return r*(1-ma)+Q*ma}function ta(r){return r>
Bg?Math.pow(r,1/3):r/Cf+ne}function U(r){return r>sf?r*r*r:Cf*(r-ne)}function W(r){return 255*(.0031308>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function ba(r){r/=255;return.04045>=r?r/12.92:Math.pow((r+.055)/1.055,2.4)}function ca(r){var Q=ba(r.r);const ma=ba(r.g),Ma=ba(r.b),gb=ta((.4124564*Q+.3575761*ma+.1804375*Ma)/.95047),lb=ta(.2126729*Q+.7151522*ma+.072175*Ma);Q=ta((.0193339*Q+.119192*ma+.9503041*Ma)/1.08883);return{l:116*lb-16,a:500*(gb-lb),b:200*(lb-Q),alpha:r.a}}function ra(r){let Q=(r.l+
16)/116,ma=isNaN(r.a)?Q:Q+r.a/500,Ma=isNaN(r.b)?Q:Q-r.b/200;Q=1*U(Q);ma=.95047*U(ma);Ma=1.08883*U(Ma);return new Pe(W(3.2404542*ma-1.5371385*Q-.4985314*Ma),W(-.969266*ma+1.8760108*Q+.041556*Ma),W(.0556434*ma-.2040259*Q+1.0572252*Ma),r.alpha)}function qa(r,Q,ma,Ma){Ma-=ma;r-=ma;return 0===Ma?0:1===Q?r/Ma:(Math.pow(Q,r)-1)/(Math.pow(Q,Ma)-1)}function Fa(r,Q){return"\x3d\x3d"===r||"!\x3d"===r?"boolean"===Q.kind||"string"===Q.kind||"number"===Q.kind||"null"===Q.kind||"value"===Q.kind:"string"===Q.kind||
"number"===Q.kind||"value"===Q.kind}function na(r,Q,ma,Ma){return 0===Ma.compare(Q,ma)}function Ra(r,Q,ma){const Ma="\x3d\x3d"!==r&&"!\x3d"!==r;return class gb{constructor(lb,sb,Rb){this.type=ie;this.lhs=lb;this.rhs=sb;this.collator=Rb;this.hasUntypedArgument="value"===lb.type.kind||"value"===sb.type.kind}static parse(lb,sb){if(3!==lb.length&&4!==lb.length)return sb.error("Expected two or three arguments.");var Rb=lb[0];let ec=sb.parse(lb[1],1,kd);if(!ec)return null;if(!Fa(Rb,ec.type))return sb.concat(1).error(`"${Rb}" comparisons are not supported for type '${O(ec.type)}'.`);
let Vb=sb.parse(lb[2],2,kd);if(!Vb)return null;if(!Fa(Rb,Vb.type))return sb.concat(2).error(`"${Rb}" comparisons are not supported for type '${O(Vb.type)}'.`);if(ec.type.kind!==Vb.type.kind&&"value"!==ec.type.kind&&"value"!==Vb.type.kind)return sb.error(`Cannot compare types '${O(ec.type)}' and '${O(Vb.type)}'.`);Ma&&("value"===ec.type.kind&&"value"!==Vb.type.kind?ec=new oc(Vb.type,[ec]):"value"!==ec.type.kind&&"value"===Vb.type.kind&&(Vb=new oc(ec.type,[Vb])));Rb=null;if(4===lb.length){if("string"!==
ec.type.kind&&"string"!==Vb.type.kind&&"value"!==ec.type.kind&&"value"!==Vb.type.kind)return sb.error("Cannot use collator to compare non-string types.");Rb=sb.parse(lb[3],3,We);if(!Rb)return null}return new gb(ec,Vb,Rb)}evaluate(lb){const sb=this.lhs.evaluate(lb),Rb=this.rhs.evaluate(lb);if(Ma&&this.hasUntypedArgument){var ec=R(sb),Vb=R(Rb);if(ec.kind!==Vb.kind||"string"!==ec.kind&&"number"!==ec.kind)throw new Tb(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${ec.kind}, ${Vb.kind}) instead.`);
}return this.collator&&!Ma&&this.hasUntypedArgument&&(ec=R(sb),Vb=R(Rb),"string"!==ec.kind||"string"!==Vb.kind)?Q(lb,sb,Rb):this.collator?ma(lb,sb,Rb,this.collator.evaluate(lb)):Q(lb,sb,Rb)}eachChild(lb){lb(this.lhs);lb(this.rhs);this.collator&&lb(this.collator)}outputDefined(){return!0}serialize(){const lb=[r];this.eachChild(sb=>{lb.push(sb.serialize())});return lb}}}function db(r,[Q,ma,Ma,gb]){Q=Q.evaluate(r);ma=ma.evaluate(r);Ma=Ma.evaluate(r);r=gb?gb.evaluate(r):1;if(gb=G(Q,ma,Ma,r))throw new Tb(gb);
return new Pe(Q/255*r,ma/255*r,Ma/255*r,r)}function $a(r,Q){r=Q[r];return"undefined"===typeof r?null:r}function Ca(r){return{result:"success",value:r}}function Ga(r){return{result:"error",value:r}}function pa(r){return"data-driven"===r["property-type"]||"cross-faded-data-driven"===r["property-type"]}function Ha(r){return!!r.expression&&-1<r.expression.parameters.indexOf("zoom")}function Ua(r){return!!r.expression&&r.expression.interpolated}function jb(r){return r instanceof Number?"number":r instanceof
String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":null===r?"null":typeof r}function Fb(r){return"object"===typeof r&&null!==r&&!Array.isArray(r)}function Xb(r){return r}function nc(r,Q){var ma="color"===Q.type,Ma=r.stops&&"object"===typeof r.stops[0][0],gb=Ma||void 0!==r.property;gb=Ma||!gb;var lb=r.type||(Ua(Q)?"exponential":"interval");ma&&(r=B({},r),r.stops&&(r.stops=r.stops.map(dd=>[dd[0],Pe.parse(dd[1])])),r.default=r.default?Pe.parse(r.default):Pe.parse(Q.default));if(r.colorSpace&&
"rgb"!==r.colorSpace&&!Na[r.colorSpace])throw Error(`Unknown color space: ${r.colorSpace}`);let sb,Rb,ec;if("exponential"===lb)sb=mb;else if("interval"===lb)sb=Hc;else if("categorical"===lb){sb=pc;Rb=Object.create(null);for(var Vb of r.stops)Rb[Vb[0]]=Vb[1];ec=typeof r.stops[0][0]}else if("identity"===lb)sb=hc;else throw Error(`Unknown function type "${lb}"`);if(Ma){ma={};Ma=[];for(Vb=0;Vb<r.stops.length;Vb++)gb=r.stops[Vb],lb=gb[0].zoom,void 0===ma[lb]&&(ma[lb]={zoom:lb,type:r.type,property:r.property,
default:r.default,stops:[]},Ma.push(lb)),ma[lb].stops.push([gb[0].value,gb[1]]);const dd=[];for(var Qc of Ma)dd.push([ma[Qc].zoom,nc(ma[Qc],Q)]);Qc={name:"linear"};return{kind:"composite",interpolationType:Qc,interpolationFactor:Sa.interpolationFactor.bind(void 0,Qc),zoomStops:dd.map(zd=>zd[0]),evaluate({zoom:zd},rd){return mb({stops:dd,base:r.base},Q,zd).evaluate(zd,rd)}}}return gb?(Qc="exponential"===lb?{name:"exponential",base:void 0!==r.base?r.base:1}:null,{kind:"camera",interpolationType:Qc,
interpolationFactor:Sa.interpolationFactor.bind(void 0,Qc),zoomStops:r.stops.map(dd=>dd[0]),evaluate:({zoom:dd})=>sb(r,Q,dd,Rb,ec)}):{kind:"source",evaluate(dd,zd){dd=zd&&zd.properties?zd.properties[r.property]:void 0;return void 0===dd?md(r.default,Q.default):sb(r,Q,dd,Rb,ec)}}}function md(r,Q,ma){if(void 0!==r)return r;if(void 0!==Q)return Q;if(void 0!==ma)return ma}function pc(r,Q,ma,Ma,gb){return md(typeof ma===gb?Ma[ma]:void 0,r.default,Q.default)}function Hc(r,Q,ma){if("number"!==jb(ma))return md(r.default,
Q.default);Q=r.stops.length;if(1===Q||ma<=r.stops[0][0])return r.stops[0][1];if(ma>=r.stops[Q-1][0])return r.stops[Q-1][1];ma=Ta(r.stops.map(Ma=>Ma[0]),ma);return r.stops[ma][1]}function mb(r,Q,ma){const Ma=void 0!==r.base?r.base:1;if("number"!==jb(ma))return md(r.default,Q.default);var gb=r.stops.length;if(1===gb||ma<=r.stops[0][0])return r.stops[0][1];if(ma>=r.stops[gb-1][0])return r.stops[gb-1][1];gb=Ta(r.stops.map(Vb=>Vb[0]),ma);const lb=jc(ma,Ma,r.stops[gb][0],r.stops[gb+1][0]),sb=r.stops[gb][1],
Rb=r.stops[gb+1][1];let ec=Uf[Q.type]||Xb;if(r.colorSpace&&"rgb"!==r.colorSpace){const Vb=Na[r.colorSpace];ec=(Qc,dd)=>Vb.reverse(Vb.interpolate(Vb.forward(Qc),Vb.forward(dd),lb))}return"function"===typeof sb.evaluate?{evaluate(...Vb){const Qc=sb.evaluate.apply(void 0,Vb);Vb=Rb.evaluate.apply(void 0,Vb);if(void 0!==Qc&&void 0!==Vb)return ec(Qc,Vb,lb)}}:ec(sb,Rb,lb)}function hc(r,Q,ma){"color"===Q.type?ma=Pe.parse(ma):"formatted"===Q.type?ma=Pa.fromString(ma.toString()):"resolvedImage"===Q.type?ma=
vb.fromString(ma.toString()):jb(ma)===Q.type||"enum"===Q.type&&Q.values[ma]||(ma=void 0);return md(ma,r.default,Q.default)}function jc(r,Q,ma,Ma){Ma-=ma;r-=ma;return 0===Ma?0:1===Q?r/Ma:(Math.pow(Q,r)-1)/(Math.pow(Q,Ma)-1)}function rc(r){return Array.isArray(r)&&0<r.length&&"string"===typeof r[0]&&r[0]in qc}function Pc(r,Q){if(Q){var ma={color:Gf,string:Qd,number:jd,enum:Qd,boolean:ie,formatted:uf,resolvedImage:mf};ma="array"===Q.type?D(ma[Q.value]||kd,Q.length):ma[Q.type]}else ma=void 0;ma=new Ce(qc,
[],ma);return(r=ma.parse(r,void 0,void 0,void 0,Q&&"string"===Q.type?{typeAnnotation:"coerce"}:void 0))?Ca(new Ec(r,Q)):Ga(ma.errors)}function sc(r,Q){r=Pc(r,Q);if("error"===r.result)return r;var ma=r.value.expression;const Ma=Ia(ma);if(!Ma&&!pa(Q))return Ga([new Nd("","data expressions not supported")]);const gb=kb(ma,["zoom"]);if(!gb&&!Ha(Q))return Ga([new Nd("","zoom expressions not supported")]);if((ma=Uc(ma))||gb){if(ma instanceof Nd)return Ga([ma]);if(ma instanceof Sa&&!Ua(Q))return Ga([new Nd("",
'"interpolate" expressions cannot be used with this property')])}else return Ga([new Nd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!ma)return Ca(Ma?new ed("constant",r.value):new ed("source",r.value));Q=ma instanceof Sa?ma.interpolation:void 0;return Ca(Ma?new Zc("camera",r.value,ma.labels,Q):new Zc("composite",r.value,ma.labels,Q))}function Uc(r){let Q=null;if(r instanceof hb)Q=Uc(r.result);else if(r instanceof fb)for(const ma of r.args){if(Q=
Uc(ma))break}else(r instanceof Qe||r instanceof Sa)&&r.input instanceof Gd&&"zoom"===r.input.name&&(Q=r);if(Q instanceof Nd)return Q;r.eachChild(ma=>{ma=Uc(ma);ma instanceof Nd?Q=ma:!Q&&ma?Q=new Nd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):Q&&ma&&Q!==ma&&(Q=new Nd("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return Q}function Sc(r){return"object"===typeof r?["literal",r]:r}function Lc(r,
Q){let ma=r.stops;if(!ma)return Fd(r,Q);const Ma=ma&&"object"===typeof ma[0][0],gb=Ma||void 0!==r.property,lb=Ma||!gb;ma=ma.map(sb=>!gb&&Q.tokens&&"string"===typeof sb[1]?[sb[0],Vc(sb[1])]:[sb[0],Sc(sb[1])]);return Ma?wd(r,Q,ma):lb?Pb(r,Q,ma):Wd(r,Q,ma)}function Fd(r,Q){const ma=["get",r.property];if(void 0===r.default)return"string"===Q.type?["string",ma]:ma;if("enum"===Q.type)return["match",ma,Object.keys(Q.values),ma,r.default];r=["color"===Q.type?"to-color":Q.type,ma,Sc(r.default)];"array"===
Q.type&&r.splice(1,0,Q.value,Q.length||null);return r}function ge(r){switch(r.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function wd(r,Q,ma){const Ma={},gb={};var lb=[];for(let ec=0;ec<ma.length;ec++){const Vb=ma[ec],Qc=Vb[0].zoom;void 0===Ma[Qc]&&(Ma[Qc]={zoom:Qc,type:r.type,property:r.property,default:r.default},gb[Qc]=[],lb.push(Qc));gb[Qc].push([Vb[0].value,Vb[1]])}if("exponential"===zc({},Q)){var sb=[ge(r),["linear"],["zoom"]];
for(var Rb of lb)lb=Wd(Ma[Rb],Q,gb[Rb]),Eb(sb,Rb,lb,!1);return sb}Rb=["step",["zoom"]];for(sb of lb)lb=Wd(Ma[sb],Q,gb[sb]),Eb(Rb,sb,lb,!0);gc(Rb);return Rb}function vd(r,Q){r=r.default;var ma=Q.default;r=Sc(void 0!==r?r:void 0!==ma?ma:void 0);return void 0===r&&"resolvedImage"===Q.type?"":r}function Wd(r,Q,ma){const Ma=zc(r,Q);var gb=["get",r.property];if("categorical"===Ma&&"boolean"===typeof ma[0][0]){var lb=["case"];for(const sb of ma)lb.push(["\x3d\x3d",gb,sb[0]],sb[1]);lb.push(vd(r,Q));return lb}if("categorical"===
Ma){gb=["match",gb];for(const sb of ma)Eb(gb,sb[0],sb[1],!1);gb.push(vd(r,Q));return gb}if("interval"===Ma){Q=["step",["number",gb]];for(const sb of ma)Eb(Q,sb[0],sb[1],!0);gc(Q);return void 0===r.default?Q:["case",["\x3d\x3d",["typeof",gb],"number"],Q,Sc(r.default)]}if("exponential"===Ma){Q=void 0!==r.base?r.base:1;Q=[ge(r),1===Q?["linear"]:["exponential",Q],["number",gb]];for(lb of ma)Eb(Q,lb[0],lb[1],!1);return void 0===r.default?Q:["case",["\x3d\x3d",["typeof",gb],"number"],Q,Sc(r.default)]}throw Error(`Unknown property function type ${Ma}`);
}function Pb(r,Q,ma,Ma=["zoom"]){var gb=zc(r,Q);Q=!1;if("interval"===gb)r=["step",Ma],Q=!0;else if("exponential"===gb)gb=void 0!==r.base?r.base:1,r=[ge(r),1===gb?["linear"]:["exponential",gb],Ma];else throw Error(`Unknown zoom function type "${gb}"`);for(const lb of ma)Eb(r,lb[0],lb[1],Q);gc(r);return r}function gc(r){"step"===r[0]&&3===r.length&&(r.push(0),r.push(r[3]))}function Eb(r,Q,ma,Ma){3<r.length&&Q===r[r.length-2]||(Ma&&2===r.length||r.push(Q),r.push(ma))}function zc(r,Q){return r.type?r.type:
Q.expression.interpolated?"exponential":"interval"}function Vc(r){const Q=["concat"],ma=/{([^{}]+)}/g;let Ma=0;for(let gb=ma.exec(r);null!==gb;gb=ma.exec(r)){const lb=r.slice(Ma,ma.lastIndex-gb[0].length);Ma=ma.lastIndex;0<lb.length&&Q.push(lb);Q.push(["get",gb[1]])}if(1===Q.length)return r;if(Ma<r.length)Q.push(r.slice(Ma));else if(2===Q.length)return["to-string",Q[1]];return Q}function Ed(r){if(!0===r||!1===r)return!0;if(!Array.isArray(r)||0===r.length)return!1;switch(r[0]){case "has":return 2<=
r.length&&"$id"!==r[1]&&"$type"!==r[1];case "in":return 3<=r.length&&("string"!==typeof r[1]||Array.isArray(r[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==r.length||Array.isArray(r[1])||Array.isArray(r[2]);case "any":case "all":for(const Q of r.slice(1))if(!Ed(Q)&&"boolean"!==typeof Q)return!1;return!0;default:return!0}}function Vd(r,Q){return r<Q?-1:r>Q?1:0}function Ka(r){if(!Array.isArray(r))return!1;
if("within"===r[0])return!0;for(let Q=1;Q<r.length;Q++)if(Ka(r[Q]))return!0;return!1}function eb(r){if(!r)return!0;const Q=r[0];return 1>=r.length?"any"!==Q:"\x3d\x3d"===Q?wb(r[1],r[2],"\x3d\x3d"):"!\x3d"===Q?Lb(wb(r[1],r[2],"\x3d\x3d")):"\x3c"===Q||"\x3e"===Q||"\x3c\x3d"===Q||"\x3e\x3d"===Q?wb(r[1],r[2],Q):"any"===Q?["any"].concat(r.slice(1).map(eb)):"all"===Q?["all"].concat(r.slice(1).map(eb)):"none"===Q?["all"].concat(r.slice(1).map(eb).map(Lb)):"in"===Q?Hb(r[1],r.slice(2)):"!in"===Q?Lb(Hb(r[1],
r.slice(2))):"has"===Q?ac(r[1]):"!has"===Q?Lb(ac(r[1])):"within"===Q?r:!0}function wb(r,Q,ma){switch(r){case "$type":return[`filter-type-${ma}`,Q];case "$id":return[`filter-id-${ma}`,Q];default:return[`filter-${ma}`,r,Q]}}function Hb(r,Q){if(0===Q.length)return!1;switch(r){case "$type":return["filter-type-in",["literal",Q]];case "$id":return["filter-id-in",["literal",Q]];default:return 200<Q.length&&!Q.some(ma=>typeof ma!==typeof Q[0])?["filter-in-large",r,["literal",Q.sort(Vd)]]:["filter-in-small",
r,["literal",Q]]}}function ac(r){switch(r){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",r]}}function Lb(r){return["!",r]}function Ac(r){return tc(r,{})}function tc(r,Q){if(Ed(r))return r;if(!r)return!0;const ma=r[0];if(1>=r.length)return"any"!==ma;if("\x3d\x3d"===ma||"!\x3d"===ma||"\x3c"===ma||"\x3e"===ma||"\x3c\x3d"===ma||"\x3e\x3d"===ma){const [,Ma,gb]=r;r=pb(Ma,gb,ma,Q)}else{if("any"===ma)return r=r.slice(1).map(Ma=>{var gb={};Ma=tc(Ma,gb);{const lb=[];for(const sb in gb)lb.push(["\x3d\x3d",
["typeof","$id"===sb?["id"]:["get",sb]],gb[sb]]);gb=0===lb.length?!0:1===lb.length?lb[0]:["all"].concat(lb)}return!0===gb?Ma:["case",gb,Ma,!1]}),["any"].concat(r);if("all"===ma)return r=r.slice(1).map(Ma=>tc(Ma,Q)),1<r.length?["all"].concat(r):[].concat(...r);if("none"===ma)return["!",tc(["any"].concat(r.slice(1)),{})];r="in"===ma?Bb(r[1],r.slice(2)):"!in"===ma?Bb(r[1],r.slice(2),!0):"has"===ma?Ub(r[1]):"!has"===ma?["!",Ub(r[1])]:!0}return r}function pb(r,Q,ma,Ma){let gb;if("$type"===r)return[ma,
["geometry-type"],Q];gb="$id"===r?["id"]:["get",r];Ma&&null!==Q&&(Ma[r]=typeof Q);return"\x3d\x3d"===ma&&"$id"!==r&&null===Q?["all",["has",r],["\x3d\x3d",gb,null]]:"!\x3d"===ma&&"$id"!==r&&null===Q?["any",["!",["has",r]],["!\x3d",gb,null]]:[ma,gb,Q]}function Bb(r,Q,ma=!1){if(0===Q.length)return ma;let Ma;Ma="$type"===r?["geometry-type"]:"$id"===r?["id"]:["get",r];r=!0;const gb=typeof Q[0];for(var lb of Q)if(typeof lb!==gb){r=!1;break}return!r||"string"!==gb&&"number"!==gb?[ma?"all":"any"].concat(Q.map(sb=>
[ma?"!\x3d":"\x3d\x3d",Ma,sb])):(lb=Q.sort().filter((sb,Rb)=>0===Rb||Q[Rb-1]!==sb),["match",Ma,lb,!ma,ma])}function Ub(r){return"$type"===r?!0:"$id"===r?["!\x3d",["id"],null]:["has",r]}function mc(r){const Q=[];g(r,ma=>{ma.filter&&(ma.filter=Ac(ma.filter))});d(r,{paint:!0,layout:!0},({path:ma,value:Ma,reference:gb,set:lb})=>{rc(Ma)||("object"!==typeof Ma||Array.isArray(Ma)?gb.tokens&&"string"===typeof Ma&&lb(Vc(Ma)):(lb(Lc(Ma,gb)),Q.push(ma.join("."))))});return r}function Bc(r,Q){const ma={};for(const Ma in r)"ref"!==
Ma&&(ma[Ma]=r[Ma]);pd.forEach(Ma=>{Ma in Q&&(ma[Ma]=Q[Ma])});return ma}function Cc(r,Q){if(Array.isArray(r)){if(!Array.isArray(Q)||r.length!==Q.length)return!1;for(var ma=0;ma<r.length;ma++)if(!Cc(r[ma],Q[ma]))return!1;return!0}if("object"===typeof r&&null!==r&&null!==Q){if("object"!==typeof Q||Object.keys(r).length!==Object.keys(Q).length)return!1;for(ma in r)if(!Cc(r[ma],Q[ma]))return!1;return!0}return r===Q}function Xc(r,Q,ma,Ma){r=r||{};Q=Q||{};let gb;for(gb in r)if(r.hasOwnProperty(gb)&&!Q.hasOwnProperty(gb)){var lb=
gb,sb=Ma;ma.push({command:Ad.removeSource,args:[lb]});sb[lb]=!0}for(gb in Q)if(Q.hasOwnProperty(gb))if(!r.hasOwnProperty(gb))ma.push({command:Ad.addSource,args:[gb,Q[gb]]});else if(!Cc(r[gb],Q[gb])){if(lb="geojson"===r[gb].type&&"geojson"===Q[gb].type)a:{var Rb=void 0;lb=r;sb=Q;var ec=gb;for(Rb in lb[ec])if(lb[ec].hasOwnProperty(Rb)&&"data"!==Rb&&!Cc(lb[ec][Rb],sb[ec][Rb])){lb=!1;break a}for(Rb in sb[ec])if(sb[ec].hasOwnProperty(Rb)&&"data"!==Rb&&!Cc(lb[ec][Rb],sb[ec][Rb])){lb=!1;break a}lb=!0}if(lb)ma.push({command:Ad.setGeoJSONSourceData,
args:[gb,Q[gb].data]});else{lb=gb;sb=Q;ec=ma;Rb=lb;var Vb=Ma;ec.push({command:Ad.removeSource,args:[Rb]});Vb[Rb]=!0;ec.push({command:Ad.addSource,args:[lb,sb[lb]]})}}}function Qb(r,Q,ma,Ma,gb,lb){r=r||{};Q=Q||{};let sb;for(sb in r)r.hasOwnProperty(sb)&&(Cc(r[sb],Q[sb])||ma.push({command:lb,args:[Ma,sb,Q[sb],gb]}));for(sb in Q)Q.hasOwnProperty(sb)&&!r.hasOwnProperty(sb)&&(Cc(r[sb],Q[sb])||ma.push({command:lb,args:[Ma,sb,Q[sb],gb]}))}function Ic(r){return r.id}function Dc(r,Q){r[Q.id]=Q;return r}function uc(r,
Q,ma){r=r||[];Q=Q||[];var Ma=r.map(Ic);const gb=Q.map(Ic);r=r.reduce(Dc,{});Q=Q.reduce(Dc,{});const lb=Ma.slice(),sb=Object.create(null);let Rb;var ec;let Vb,Qc,dd;for(ec=Rb=0;Rb<Ma.length;Rb++)Vb=Ma[Rb],Q.hasOwnProperty(Vb)?ec++:(ma.push({command:Ad.removeLayer,args:[Vb]}),lb.splice(lb.indexOf(Vb,ec),1));for(ec=Rb=0;Rb<gb.length;Rb++)Vb=gb[gb.length-1-Rb],lb[lb.length-1-Rb]!==Vb&&(r.hasOwnProperty(Vb)?(ma.push({command:Ad.removeLayer,args:[Vb]}),lb.splice(lb.lastIndexOf(Vb,lb.length-ec),1)):ec++,
Qc=lb[lb.length-Rb],ma.push({command:Ad.addLayer,args:[Q[Vb],Qc]}),lb.splice(lb.length-Rb,0,Vb),sb[Vb]=!0);for(Rb=0;Rb<gb.length;Rb++)if(Vb=gb[Rb],ec=r[Vb],Ma=Q[Vb],!sb[Vb]&&!Cc(ec,Ma))if(Cc(ec.source,Ma.source)&&Cc(ec["source-layer"],Ma["source-layer"])&&Cc(ec.type,Ma.type)){Qb(ec.layout,Ma.layout,ma,Vb,null,Ad.setLayoutProperty);Qb(ec.paint,Ma.paint,ma,Vb,null,Ad.setPaintProperty);Cc(ec.filter,Ma.filter)||ma.push({command:Ad.setFilter,args:[Vb,Ma.filter]});Cc(ec.minzoom,Ma.minzoom)&&Cc(ec.maxzoom,
Ma.maxzoom)||ma.push({command:Ad.setLayerZoomRange,args:[Vb,Ma.minzoom,Ma.maxzoom]});for(dd in ec)ec.hasOwnProperty(dd)&&"layout"!==dd&&"paint"!==dd&&"filter"!==dd&&"metadata"!==dd&&"minzoom"!==dd&&"maxzoom"!==dd&&(0===dd.indexOf("paint.")?Qb(ec[dd],Ma[dd],ma,Vb,dd.slice(6),Ad.setPaintProperty):Cc(ec[dd],Ma[dd])||ma.push({command:Ad.setLayerProperty,args:[Vb,dd,Ma[dd]]}));for(dd in Ma)Ma.hasOwnProperty(dd)&&!ec.hasOwnProperty(dd)&&"layout"!==dd&&"paint"!==dd&&"filter"!==dd&&"metadata"!==dd&&"minzoom"!==
dd&&"maxzoom"!==dd&&(0===dd.indexOf("paint.")?Qb(ec[dd],Ma[dd],ma,Vb,dd.slice(6),Ad.setPaintProperty):Cc(ec[dd],Ma[dd])||ma.push({command:Ad.setLayerProperty,args:[Vb,dd,Ma[dd]]}))}else ma.push({command:Ad.removeLayer,args:[Vb]}),Qc=lb[lb.lastIndexOf(Vb)+1],ma.push({command:Ad.addLayer,args:[Ma,Qc]})}function Tc(r){const Q=r.key;return(r=r.value)?[new id(Q,r,"constants have been deprecated as of v8")]:[]}function ad(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():
r}function ld(r){if(Array.isArray(r))return r.map(ld);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const Q={};for(const ma in r)Q[ma]=ld(r[ma]);return Q}return ad(r)}function Cd(r){const Q=r.key,ma=r.value,Ma=r.valueSpec||{},gb=r.objectElementValidators||{},lb=r.style;r=r.styleSpec;let sb=[];var Rb=jb(ma);if("object"!==Rb)return[new id(Q,ma,`object expected, ${Rb} found`)];for(const Vb in ma){var ec=Vb.split(".")[0];Rb=Ma[ec]||Ma["*"];if(gb[ec])ec=gb[ec];
else if(Ma[ec])ec=te;else if(gb["*"])ec=gb["*"];else if(Ma["*"])ec=te;else{sb.push(new id(Q,ma[Vb],`unknown property "${Vb}"`));continue}sb=sb.concat(ec({key:(Q?`${Q}.`:Q)+Vb,value:ma[Vb],valueSpec:Rb,style:lb,styleSpec:r,object:ma,objectKey:Vb},ma))}for(const Vb in Ma)gb[Vb]||Ma[Vb].required&&void 0===Ma[Vb]["default"]&&void 0===ma[Vb]&&sb.push(new id(Q,ma,`missing required property "${Vb}"`));return sb}function Dd(r){const Q=r.value;var ma=r.valueSpec;const Ma=r.style,gb=r.styleSpec,lb=r.key;r=
r.arrayElementValidator||te;if("array"!==jb(Q))return[new id(lb,Q,`array expected, ${jb(Q)} found`)];if(ma.length&&Q.length!==ma.length)return[new id(lb,Q,`array length ${ma.length} expected, length ${Q.length} found`)];if(ma["min-length"]&&Q.length<ma["min-length"])return[new id(lb,Q,`array length at least ${ma["min-length"]} expected, length ${Q.length} found`)];let sb={type:ma.value,values:ma.values};7>gb.$version&&(sb.function=ma.function);"object"===jb(ma.value)&&(sb=ma.value);ma=[];for(let Rb=
0;Rb<Q.length;Rb++)ma=ma.concat(r({array:Q,arrayIndex:Rb,value:Q[Rb],valueSpec:sb,style:Ma,styleSpec:gb,key:`${lb}[${Rb}]`}));return ma}function Ud(r){const Q=r.key,ma=r.value;r=r.valueSpec;let Ma=jb(ma);"number"===Ma&&ma!==ma&&(Ma="NaN");return"number"!==Ma?[new id(Q,ma,`number expected, ${Ma} found`)]:"minimum"in r&&ma<r.minimum?[new id(Q,ma,`${ma} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&ma>r.maximum?[new id(Q,ma,`${ma} is greater than the maximum value ${r.maximum}`)]:[]}
function ae(r){function Q(rd){let bd=[];const Jc=rd.value,ud=rd.key;if("array"!==jb(Jc))return[new id(ud,Jc,`array expected, ${jb(Jc)} found`)];if(2!==Jc.length)return[new id(ud,Jc,`array length 2 expected, length ${Jc.length} found`)];if(dd){if("object"!==jb(Jc[0]))return[new id(ud,Jc,`object expected, ${jb(Jc[0])} found`)];if(void 0===Jc[0].zoom)return[new id(ud,Jc,"object stop key must have zoom")];if(void 0===Jc[0].value)return[new id(ud,Jc,"object stop key must have value")];if(ec&&ec>ad(Jc[0].zoom))return[new id(ud,
Jc[0].zoom,"stop zoom values must appear in ascending order")];ad(Jc[0].zoom)!==ec&&(ec=ad(Jc[0].zoom),Rb=void 0,sb={});bd=bd.concat(Cd({key:`${ud}[0]`,value:Jc[0],valueSpec:{zoom:{}},style:rd.style,styleSpec:rd.styleSpec,objectElementValidators:{zoom:Ud,value:ma}}))}else bd=bd.concat(ma({key:`${ud}[0]`,value:Jc[0],valueSpec:{},style:rd.style,styleSpec:rd.styleSpec},Jc));return rc(ld(Jc[1]))?bd.concat([new id(`${ud}[1]`,Jc[1],"expressions are not allowed in function stops.")]):bd.concat(te({key:`${ud}[1]`,
value:Jc[1],valueSpec:Ma,style:rd.style,styleSpec:rd.styleSpec}))}function ma(rd,bd){var Jc=jb(rd.value);const ud=ad(rd.value);bd=null!==rd.value?rd.value:bd;if(!lb)lb=Jc;else if(Jc!==lb)return[new id(rd.key,bd,`${Jc} stop domain type must match previous stop domain type ${lb}`)];if("number"!==Jc&&"string"!==Jc&&"boolean"!==Jc)return[new id(rd.key,bd,"stop domain value must be a number, string, or boolean")];if("number"!==Jc&&"categorical"!==gb)return Jc=`number expected, ${Jc} found`,pa(Ma)&&void 0===
gb&&(Jc+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new id(rd.key,bd,Jc)];if("categorical"===gb&&"number"===Jc&&(!isFinite(ud)||Math.floor(ud)!==ud))return[new id(rd.key,bd,`integer expected, found ${ud}`)];if("categorical"!==gb&&"number"===Jc&&void 0!==Rb&&ud<Rb)return[new id(rd.key,bd,"stop domain values must appear in ascending order")];Rb=ud;if("categorical"===gb&&ud in sb)return[new id(rd.key,bd,"stop domain values must be unique")];sb[ud]=!0;return[]}
const Ma=r.valueSpec,gb=ad(r.value.type);let lb,sb={},Rb,ec;const Vb="categorical"!==gb&&void 0===r.value.property,Qc=!Vb,dd="array"===jb(r.value.stops)&&"array"===jb(r.value.stops[0])&&"object"===jb(r.value.stops[0][0]),zd=Cd({key:r.key,value:r.value,valueSpec:r.styleSpec.function,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function(rd){if("identity"===gb)return[new id(rd.key,rd.value,'identity function may not have a "stops" property')];let bd=[];const Jc=rd.value;bd=bd.concat(Dd({key:rd.key,
value:Jc,valueSpec:rd.valueSpec,style:rd.style,styleSpec:rd.styleSpec,arrayElementValidator:Q}));"array"===jb(Jc)&&0===Jc.length&&bd.push(new id(rd.key,Jc,"array must have at least one stop"));return bd},default:function(rd){return te({key:rd.key,value:rd.value,valueSpec:Ma,style:rd.style,styleSpec:rd.styleSpec})}}});"identity"===gb&&Vb&&zd.push(new id(r.key,r.value,'missing required property "property"'));"identity"===gb||r.value.stops||zd.push(new id(r.key,r.value,'missing required property "stops"'));
"exponential"===gb&&r.valueSpec.expression&&!Ua(r.valueSpec)&&zd.push(new id(r.key,r.value,"exponential functions not supported"));8<=r.styleSpec.$version&&(Qc&&!pa(r.valueSpec)?zd.push(new id(r.key,r.value,"property functions not supported")):Vb&&!Ha(r.valueSpec)&&zd.push(new id(r.key,r.value,"zoom functions not supported")));"categorical"!==gb&&!dd||void 0!==r.value.property||zd.push(new id(r.key,r.value,'"property" property is required'));return zd}function oe(r){var Q=("property"===r.expressionContext?
sc:Pc)(ld(r.value),r.valueSpec);if("error"===Q.result)return Q.value.map(ma=>new id(`${r.key}${ma.key}`,r.value,ma.message));Q=Q.value.expression||Q.value._styleExpression.expression;if("property"===r.expressionContext&&"text-font"===r.propertyKey&&!Q.outputDefined())return[new id(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===r.expressionContext&&"layout"===r.propertyType&&!bb(Q))return[new id(r.key,
r.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===r.expressionContext&&!bb(Q))return[new id(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&0===r.expressionContext.indexOf("cluster")){if(!kb(Q,["zoom","feature-state"]))return[new id(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===r.expressionContext&&!Ia(Q))return[new id(r.key,
r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function De(r){const Q=r.key,ma=r.value;r=r.valueSpec;const Ma=[];Array.isArray(r.values)?-1===r.values.indexOf(ad(ma))&&Ma.push(new id(Q,ma,`expected one of [${r.values.join(", ")}], ${JSON.stringify(ma)} found`)):-1===Object.keys(r.values).indexOf(ad(ma))&&Ma.push(new id(Q,ma,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(ma)} found`));return Ma}function fe(r){return Ed(ld(r.value))?
oe(B({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ef(r)}function ef(r){const Q=r.value,ma=r.key;if("array"!==jb(Q))return[new id(ma,Q,`array expected, ${jb(Q)} found`)];var Ma=r.styleSpec;let gb,lb=[];if(1>Q.length)return[new id(ma,Q,"filter array must have at least 1 element")];lb=lb.concat(De({key:`${ma}[0]`,value:Q[0],valueSpec:Ma.filter_operator,style:r.style,styleSpec:r.styleSpec}));switch(ad(Q[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=Q.length&&"$type"===
ad(Q[1])&&lb.push(new id(ma,Q,`"$type" cannot be use with operator "${Q[0]}"`));case "\x3d\x3d":case "!\x3d":3!==Q.length&&lb.push(new id(ma,Q,`filter array for operator "${Q[0]}" must have 3 elements`));case "in":case "!in":2<=Q.length&&(gb=jb(Q[1]),"string"!==gb&&lb.push(new id(`${ma}[1]`,Q[1],`string expected, ${gb} found`)));for(let sb=2;sb<Q.length;sb++)gb=jb(Q[sb]),"$type"===ad(Q[1])?lb=lb.concat(De({key:`${ma}[${sb}]`,value:Q[sb],valueSpec:Ma.geometry_type,style:r.style,styleSpec:r.styleSpec})):
"string"!==gb&&"number"!==gb&&"boolean"!==gb&&lb.push(new id(`${ma}[${sb}]`,Q[sb],`string, number, or boolean expected, ${gb} found`));break;case "any":case "all":case "none":for(Ma=1;Ma<Q.length;Ma++)lb=lb.concat(ef({key:`${ma}[${Ma}]`,value:Q[Ma],style:r.style,styleSpec:r.styleSpec}));break;case "has":case "!has":gb=jb(Q[1]);2!==Q.length?lb.push(new id(ma,Q,`filter array for "${Q[0]}" operator must have 2 elements`)):"string"!==gb&&lb.push(new id(`${ma}[1]`,Q[1],`string expected, ${gb} found`));
break;case "within":gb=jb(Q[1]),2!==Q.length?lb.push(new id(ma,Q,`filter array for "${Q[0]}" operator must have 2 elements`)):"object"!==gb&&lb.push(new id(`${ma}[1]`,Q[1],`object expected, ${gb} found`))}return lb}function Ze(r,Q){const ma=r.key,Ma=r.style,gb=r.styleSpec,lb=r.value,sb=r.objectKey;var Rb=gb[`${Q}_${r.layerType}`];if(!Rb)return[];const ec=sb.match(/^(.*)-transition$/);if("paint"===Q&&ec&&Rb[ec[1]]&&Rb[ec[1]].transition)return te({key:ma,value:lb,valueSpec:gb.transition,style:Ma,styleSpec:gb});
Rb=r.valueSpec||Rb[sb];if(!Rb)return[new id(ma,lb,`unknown property "${sb}"`)];var Vb;if("string"===jb(lb)&&pa(Rb)&&!Rb.tokens&&(Vb=/^{([^}]+)}$/.exec(lb)))return[new id(ma,lb,`"${sb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Vb[1])} }\`.`)];Vb=[];"symbol"===r.layerType&&("text-field"===sb&&Ma&&!Ma.glyphs&&Vb.push(new id(ma,lb,'use of "text-field" requires a style "glyphs" property')),"text-font"===sb&&
Fb(ld(lb))&&"identity"===ad(lb.type)&&Vb.push(new id(ma,lb,'"text-font" does not support identity functions')));return Vb.concat(te({key:r.key,value:lb,valueSpec:Rb,style:Ma,styleSpec:gb,expressionContext:"property",propertyType:Q,propertyKey:sb}))}function df(r){return Ze(r,"paint")}function Zd(r){return Ze(r,"layout")}function he(r){let Q=[];const ma=r.value,Ma=r.key;var gb=r.style;const lb=r.styleSpec;ma.type||ma.ref||Q.push(new id(Ma,ma,'either "type" or "ref" is required'));let sb=ad(ma.type);
const Rb=ad(ma.ref);if(ma.id){var ec=ad(ma.id);for(let Vb=0;Vb<r.arrayIndex;Vb++){const Qc=gb.layers[Vb];ad(Qc.id)===ec&&Q.push(new id(Ma,ma.id,`duplicate layer id "${ma.id}", previously used at line ${Qc.id.__line__}`))}}if("ref"in ma){["type","source","source-layer","filter","layout"].forEach(Qc=>{Qc in ma&&Q.push(new id(Ma,ma[Qc],`"${Qc}" is prohibited for ref layers`))});let Vb;gb.layers.forEach(Qc=>{ad(Qc.id)===Rb&&(Vb=Qc)});Vb?Vb.ref?Q.push(new id(Ma,ma.ref,"ref cannot reference another ref layer")):
sb=ad(Vb.type):Q.push(new id(Ma,ma.ref,`ref layer "${Rb}" not found`))}else"background"!==sb&&"sky"!==sb&&(ma.source?(ec=(gb=gb.sources&&gb.sources[ma.source])&&ad(gb.type),gb?"vector"===ec&&"raster"===sb?Q.push(new id(Ma,ma.source,`layer "${ma.id}" requires a raster source`)):"raster"===ec&&"raster"!==sb?Q.push(new id(Ma,ma.source,`layer "${ma.id}" requires a vector source`)):"vector"!==ec||ma["source-layer"]?"raster-dem"===ec&&"hillshade"!==sb?Q.push(new id(Ma,ma.source,"raster-dem source can only be used with layer type 'hillshade'.")):
"line"!==sb||!ma.paint||!ma.paint["line-gradient"]||"geojson"===ec&&gb.lineMetrics||Q.push(new id(Ma,ma,`layer "${ma.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):Q.push(new id(Ma,ma,`layer "${ma.id}" must specify a "source-layer"`)):Q.push(new id(Ma,ma.source,`source "${ma.source}" not found`))):Q.push(new id(Ma,ma,'missing required property "source"')));return Q=Q.concat(Cd({key:Ma,value:ma,valueSpec:lb.layer,style:r.style,styleSpec:r.styleSpec,
objectElementValidators:{["*"](){return[]},type(){return te({key:`${Ma}.type`,value:ma.type,valueSpec:lb.layer.type,style:r.style,styleSpec:r.styleSpec,object:ma,objectKey:"type"})},filter:fe,layout(Vb){return Cd({layer:ma,key:Vb.key,value:Vb.value,style:Vb.style,styleSpec:Vb.styleSpec,objectElementValidators:{["*"](Qc){return Zd(B({layerType:sb},Qc))}}})},paint(Vb){return Cd({layer:ma,key:Vb.key,value:Vb.value,style:Vb.style,styleSpec:Vb.styleSpec,objectElementValidators:{["*"](Qc){return df(B({layerType:sb},
Qc))}}})}}}))}function zf(r){const Q=r.value;r=r.key;const ma=jb(Q);return"string"!==ma?[new id(r,Q,`string expected, ${ma} found`)]:[]}function Ue(r){const Q=r.value,ma=r.key;var Ma=r.styleSpec;const gb=r.style;if(!Q.type)return[new id(ma,Q,'"type" is required')];const lb=ad(Q.type);switch(lb){case "vector":case "raster":case "raster-dem":return r=Cd({key:ma,value:Q,valueSpec:Ma[`source_${lb.replace("-","_")}`],style:r.style,styleSpec:Ma,objectElementValidators:Wa});case "geojson":r=Cd({key:ma,value:Q,
valueSpec:Ma.source_geojson,style:gb,styleSpec:Ma,objectElementValidators:Wa});if(Q.cluster)for(const sb in Q.clusterProperties){const [Rb,ec]=Q.clusterProperties[sb];Ma="string"===typeof Rb?[Rb,["accumulated"],["get",sb]]:Rb;r.push(...oe({key:`${ma}.${sb}.map`,value:ec,expressionContext:"cluster-map"}));r.push(...oe({key:`${ma}.${sb}.reduce`,value:Ma,expressionContext:"cluster-reduce"}))}return r;case "video":return Cd({key:ma,value:Q,valueSpec:Ma.source_video,style:gb,styleSpec:Ma});case "image":return Cd({key:ma,
value:Q,valueSpec:Ma.source_image,style:gb,styleSpec:Ma});case "canvas":return[new id(ma,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return De({key:`${ma}.type`,value:Q.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:gb,styleSpec:Ma})}}function Nf(r){const Q=r.value,ma=r.styleSpec,Ma=ma.light;r=r.style;let gb=[];var lb=jb(Q);if(void 0===Q)return gb;if("object"!==lb)return gb=gb.concat([new id("light",
Q,`object expected, ${lb} found`)]);for(const sb in Q)gb=(lb=sb.match(/^(.*)-transition$/))&&Ma[lb[1]]&&Ma[lb[1]].transition?gb.concat(te({key:sb,value:Q[sb],valueSpec:ma.transition,style:r,styleSpec:ma})):Ma[sb]?gb.concat(te({key:sb,value:Q[sb],valueSpec:Ma[sb],style:r,styleSpec:ma})):gb.concat([new id(sb,Q[sb],`unknown property "${sb}"`)]);return gb}function me(r){const Q=r.value,ma=r.key;var Ma=r.style;const gb=r.styleSpec,lb=gb.terrain;r=[];var sb=jb(Q);if(void 0===Q)return r;if("object"!==sb)return r=
r.concat([new id("terrain",Q,`object expected, ${sb} found`)]);for(var Rb in Q)r=(sb=Rb.match(/^(.*)-transition$/))&&lb[sb[1]]&&lb[sb[1]].transition?r.concat(te({key:Rb,value:Q[Rb],valueSpec:gb.transition,style:Ma,styleSpec:gb})):lb[Rb]?r.concat(te({key:Rb,value:Q[Rb],valueSpec:lb[Rb],style:Ma,styleSpec:gb})):r.concat([new id(Rb,Q[Rb],`unknown property "${Rb}"`)]);Q.source?(Rb=(Ma=Ma.sources&&Ma.sources[Q.source])&&ad(Ma.type),Ma?"raster-dem"!==Rb&&r.push(new id(ma,Q.source,`terrain cannot be used with a source of type ${Rb}, it only be used with a "raster-dem" source type`)):
r.push(new id(ma,Q.source,`source "${Q.source}" not found`))):r.push(new id(ma,Q,'terrain is missing required property "source"'));return r}function te(r){const Q=r.value,ma=r.valueSpec,Ma=r.styleSpec;return ma.expression&&Fb(ad(Q))?ae(r):ma.expression&&rc(ld(Q))?oe(r):ma.type&&ob[ma.type]?ob[ma.type](r):Cd(B({},r,{valueSpec:ma.type?Ma[ma.type]:ma}))}function kf(r){const Q=r.value,ma=r.key;r=zf(r);if(r.length)return r;-1===Q.indexOf("{fontstack}")&&r.push(new id(ma,Q,'"glyphs" url must include a "{fontstack}" token'));
-1===Q.indexOf("{range}")&&r.push(new id(ma,Q,'"glyphs" url must include a "{range}" token'));return r}function we(r,Q=Gc){let ma=[];ma=ma.concat(te({key:"",value:r,valueSpec:Q.$root,styleSpec:Q,style:r,objectElementValidators:{glyphs:kf,["*"](){return[]}}}));r.constants&&(ma=ma.concat(Tc({key:"constants",value:r.constants,style:r,styleSpec:Q})));return Od(ma)}function Od(r){return[].concat(r).sort((Q,ma)=>Q.line-ma.line)}function Xd(r){return function(...Q){return Od(r.apply(this,Q))}}function Be(r){if(r instanceof
String||"string"===typeof r||r instanceof k)try{return zb.parse(r.toString())}catch(Q){throw new af(Q);}return r}function jf(r,Q=Gc){try{r=Be(r)}catch(ma){return[ma]}return we(r,Q)}function Ge(r,Q){return r&&"string"===jb(r)?!!r.match(Q):!0}function Td(r,Q,ma){const Ma=new Set(Q),gb=[];Object.keys(r).forEach(lb=>{Ma.has(lb)||gb.push(new id(ma?`${ma}.${lb}`:null,r[lb],`Unsupported property "${lb}"`))});return gb}function Ye(r){const Q=[];let ma=0;Object.keys(r).forEach((Ma,gb)=>{{var lb=r[Ma];const sb=
[];sb.push(...Td(lb,["type","url","tileSize"],"source"));Ge(lb.url,/^mapbox:\/\/([^/]*)$/)||sb.push(new id(`sources[${gb}]`,lb.url,"Source url must be a valid Mapbox tileset url"));gb=sb}gb.length||(lb=ma,Ma=r[Ma],Ma=Ma.url?Ma.url.split(",").length:0,ma=lb+Ma);Q.push(...gb)});15<ma&&Q.push(new id("sources",null,"Styles must contain 15 or fewer sources"));return Q}function Xf(r,Q){const ma=[];Q=Td(r,[...Q,"owner","id","cacheControl","draft","created","modified","visibility"]);ma.push(...Q);(8<r.version||
8>r.version)&&ma.push(new id("version",r.version,"Style version must be 8"));Ge(r.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||ma.push(new id("glyphs",r.glyphs,"Styles must reference glyphs hosted by Mapbox"));Ge(r.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||ma.push(new id("sprite",r.sprite,"Styles must reference sprites hosted by Mapbox"));Ge(r.visibility,/^(public|private)$/)||ma.push(new id("visibility",r.visibility,"Style visibility must be public or private"));
return ma}var Gc={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},
source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",
length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},
volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},
tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",
"default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},
tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},
source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},
layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},
"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},
"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},
square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},
round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",
ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,
doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",
android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},
layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},"default":"point",
doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},
left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},
"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",
expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.",
"sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},
"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,
parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",
requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",
"default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},
lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},
"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n - a single literal value; or\n - an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Gets the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",
example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},
transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.","sdk-support":{"basic functionality":{js:"2.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},
{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-blur":{type:"number","default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",
"default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},
"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},
"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",
doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,
overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",
ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.",
"sdk-support":{"basic functionality":{js:"2.0.0"}},requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},
"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0"},
"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",
doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number",
"default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",
doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},
"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},xe=/("(?:[^\\"]|\\.)*")|[:,]/g,le=function(r,Q){Q=Q||{};var ma=JSON.stringify([1],void 0,void 0===Q.indent?2:Q.indent).slice(2,-3);var Ma=""===ma?Infinity:void 0===Q.maxLength?
80:Q.maxLength;var gb=Q.replacer;return function Vb(sb,Rb,ec){sb&&"function"===typeof sb.toJSON&&(sb=sb.toJSON());var Qc=JSON.stringify(sb,gb);if(void 0===Qc)return Qc;ec=Ma-Rb.length-ec;if(Qc.length<=ec){var dd=Qc.replace(xe,function(ye,re){return re||ye+" "});if(dd.length<=ec)return dd}null!=gb&&(sb=JSON.parse(Qc),gb=void 0);if("object"===typeof sb&&null!==sb){var zd=Rb+ma;var rd=[];var bd=0;if(Array.isArray(sb)){var Jc="[";dd="]";for(ec=sb.length;bd<ec;bd++)rd.push(Vb(sb[bd],zd,bd===ec-1?0:1)||
"null")}else{Jc="{";dd="}";var ud=Object.keys(sb);for(ec=ud.length;bd<ec;bd++){var ee=ud[bd];var Sd=JSON.stringify(ee)+": ";ee=Vb(sb[ee],zd,Sd.length+(bd===ec-1?0:1));void 0!==ee&&rd.push(Sd+ee)}}if(0<rd.length)return[Jc,ma+rd.join(",\n"+zd),dd].join("\n"+Rb)}return Qc}(r,"",0)},kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof Ja?Ja:"undefined"!==typeof self?self:{},Fe=N(function(r,Q){(function(ma){function Ma(ke){throw RangeError(Sd[ke]);}function gb(ke,
pe){for(var Re=ke.length,xd=[];Re--;)xd[Re]=pe(ke[Re]);return xd}function lb(ke,pe){var Re=ke.split("@"),xd="";1<Re.length&&(xd=Re[0]+"@",ke=Re[1]);ke=ke.replace(ee,".");ke=ke.split(".");pe=gb(ke,pe).join(".");return xd+pe}function sb(ke){for(var pe=[],Re=0,xd=ke.length,Oe,dg;Re<xd;)Oe=ke.charCodeAt(Re++),55296<=Oe&&56319>=Oe&&Re<xd?(dg=ke.charCodeAt(Re++),56320==(dg&64512)?pe.push(((Oe&1023)<<10)+(dg&1023)+65536):(pe.push(Oe),Re--)):pe.push(Oe);return pe}function Rb(ke){return gb(ke,function(pe){var Re=
"";65535<pe&&(pe-=65536,Re+=re(pe>>>10&1023|55296),pe=56320|pe&1023);return Re+=re(pe)}).join("")}function ec(ke,pe){return ke+22+75*(26>ke)-((0!=pe)<<5)}function Vb(ke,pe,Re){var xd=0;ke=Re?ye(ke/700):ke>>1;for(ke+=ye(ke/pe);455<ke;xd+=36)ke=ye(ke/35);return ye(xd+36*ke/(ke+38))}function Qc(ke){var pe=[],Re=ke.length,xd=0,Oe=128,dg=72,Xe,$f;var vf=ke.lastIndexOf("-");0>vf&&(vf=0);for(Xe=0;Xe<vf;++Xe)128<=ke.charCodeAt(Xe)&&Ma("not-basic"),pe.push(ke.charCodeAt(Xe));for(vf=0<vf?vf+1:0;vf<Re;){Xe=
xd;var Df=1;for($f=36;;$f+=36){vf>=Re&&Ma("invalid-input");var Qf=ke.charCodeAt(vf++);Qf=10>Qf-48?Qf-22:26>Qf-65?Qf-65:26>Qf-97?Qf-97:36;(36<=Qf||Qf>ye((2147483647-xd)/Df))&&Ma("overflow");xd+=Qf*Df;var Vf=$f<=dg?1:$f>=dg+26?26:$f-dg;if(Qf<Vf)break;Qf=36-Vf;Df>ye(2147483647/Qf)&&Ma("overflow");Df*=Qf}Df=pe.length+1;dg=Vb(xd-Xe,Df,0==Xe);ye(xd/Df)>2147483647-Oe&&Ma("overflow");Oe+=ye(xd/Df);xd%=Df;pe.splice(xd++,0,Oe)}return Rb(pe)}function dd(ke){var pe,Re,xd,Oe=[];ke=sb(ke);var dg=ke.length;var Xe=
128;var $f=0;var vf=72;for(xd=0;xd<dg;++xd){var Df=ke[xd];128>Df&&Oe.push(re(Df))}for((pe=Re=Oe.length)&&Oe.push("-");pe<dg;){var Qf=2147483647;for(xd=0;xd<dg;++xd)Df=ke[xd],Df>=Xe&&Df<Qf&&(Qf=Df);var Vf=pe+1;Qf-Xe>ye((2147483647-$f)/Vf)&&Ma("overflow");$f+=(Qf-Xe)*Vf;Xe=Qf;for(xd=0;xd<dg;++xd)if(Df=ke[xd],Df<Xe&&2147483647<++$f&&Ma("overflow"),Df==Xe){var Xg=$f;for(Qf=36;;Qf+=36){Df=Qf<=vf?1:Qf>=vf+26?26:Qf-vf;if(Xg<Df)break;var Bh=Xg-Df;Xg=36-Df;Oe.push(re(ec(Df+Bh%Xg,0)));Xg=ye(Bh/Xg)}Oe.push(re(ec(Xg,
0)));vf=Vb($f,Vf,pe==Re);$f=0;++pe}++$f;++Xe}return Oe.join("")}var zd=Q&&!Q.nodeType&&Q,rd=r&&!r.nodeType&&r,bd="object"==typeof kc&&kc;if(bd.global===bd||bd.window===bd||bd.self===bd)ma=bd;var Jc=/^xn--/,ud=/[^\x20-\x7E]/,ee=/[\x2E\u3002\uFF0E\uFF61]/g,Sd={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},ye=Math.floor,re=String.fromCharCode,Pf;bd={version:"1.3.2",ucs2:{decode:sb,encode:Rb},
decode:Qc,encode:dd,toASCII:function(ke){return lb(ke,function(pe){return ud.test(pe)?"xn--"+dd(pe):pe})},toUnicode:function(ke){return lb(ke,function(pe){return Jc.test(pe)?Qc(pe.slice(4).toLowerCase()):pe})}};if(zd&&rd)if(r.exports==zd)rd.exports=bd;else for(Pf in bd)bd.hasOwnProperty(Pf)&&(zd[Pf]=bd[Pf]);else ma.punycode=bd})(kc)}),ue={isString:function(r){return"string"===typeof r},isObject:function(r){return"object"===typeof r&&null!==r},isNull:function(r){return null===r},isNullOrUndefined:function(r){return null==
r}},lf=function(r,Q,ma,Ma){ma=ma||"\x3d";var gb={};if("string"!==typeof r||0===r.length)return gb;var lb=/\+/g;r=r.split(Q||"\x26");Q=1E3;Ma&&"number"===typeof Ma.maxKeys&&(Q=Ma.maxKeys);Ma=r.length;0<Q&&Ma>Q&&(Ma=Q);for(Q=0;Q<Ma;++Q){var sb=r[Q].replace(lb,"%20"),Rb=sb.indexOf(ma);if(0<=Rb){var ec=sb.substr(0,Rb);sb=sb.substr(Rb+1)}else ec=sb,sb="";ec=decodeURIComponent(ec);sb=decodeURIComponent(sb);Object.prototype.hasOwnProperty.call(gb,ec)?Array.isArray(gb[ec])?gb[ec].push(sb):gb[ec]=[gb[ec],
sb]:gb[ec]=sb}return gb},Yf=function(r){switch(typeof r){case "string":return r;case "boolean":return r?"true":"false";case "number":return isFinite(r)?r:"";default:return""}},If=function(r,Q,ma,Ma){Q=Q||"\x26";ma=ma||"\x3d";null===r&&(r=void 0);return"object"===typeof r?Object.keys(r).map(function(gb){var lb=encodeURIComponent(Yf(gb))+ma;return Array.isArray(r[gb])?r[gb].map(function(sb){return lb+encodeURIComponent(Yf(sb))}).join(Q):lb+encodeURIComponent(Yf(r[gb]))}).join(Q):Ma?encodeURIComponent(Yf(Ma))+
ma+encodeURIComponent(Yf(r)):""},Sf=N(function(r,Q){Q.decode=Q.parse=lf;Q.encode=Q.stringify=If}),Bf=/^([a-z0-9.+-]+:)/i,qe=/:[0-9]*$/,yc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wa="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Ea=["'"].concat(wa),Za=["%","/","?",";","#"].concat(Ea),Cb=["/","?","#"],ub=/^[+a-z0-9A-Z_-]{0,63}$/,Yb=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$b={javascript:!0,"javascript:":!0},Oc={javascript:!0,"javascript:":!0},gd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,
"ftp:":!0,"gopher:":!0,"file:":!0};x.prototype.parse=function(r,Q,ma){if(!ue.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var Ma=r.indexOf("?");Ma=-1!==Ma&&Ma<r.indexOf("#")?"?":"#";r=r.split(Ma);r[0]=r[0].replace(/\\/g,"/");r=r.join(Ma);Ma=r.trim();if(!ma&&1===r.split("#").length&&(r=yc.exec(Ma)))return this.href=this.path=Ma,this.pathname=r[1],r[2]?(this.search=r[2],this.query=Q?Sf.parse(this.search.substr(1)):this.search.substr(1)):Q&&(this.search="",this.query=
{}),this;if(r=Bf.exec(Ma)){r=r[0];var gb=r.toLowerCase();this.protocol=gb;Ma=Ma.substr(r.length)}if(ma||r||Ma.match(/^\/\/[^@\/]+@[^@\/]+/)){var lb="//"===Ma.substr(0,2);!lb||r&&Oc[r]||(Ma=Ma.substr(2),this.slashes=!0)}if(!Oc[r]&&(lb||r&&!gd[r])){lb=-1;for(ma=0;ma<Cb.length;ma++)r=Ma.indexOf(Cb[ma]),-1!==r&&(-1===lb||r<lb)&&(lb=r);lb=-1===lb?Ma.lastIndexOf("@"):Ma.lastIndexOf("@",lb);-1!==lb&&(ma=Ma.slice(0,lb),Ma=Ma.slice(lb+1),this.auth=decodeURIComponent(ma));lb=-1;for(ma=0;ma<Za.length;ma++)r=
Ma.indexOf(Za[ma]),-1!==r&&(-1===lb||r<lb)&&(lb=r);-1===lb&&(lb=Ma.length);this.host=Ma.slice(0,lb);Ma=Ma.slice(lb);this.parseHost();this.hostname=this.hostname||"";lb="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!lb){var sb=this.hostname.split(/\./);ma=0;for(r=sb.length;ma<r;ma++){var Rb=sb[ma];if(Rb&&!Rb.match(ub)){for(var ec="",Vb=0,Qc=Rb.length;Vb<Qc;Vb++)ec=127<Rb.charCodeAt(Vb)?ec+"x":ec+Rb[Vb];if(!ec.match(ub)){r=sb.slice(0,ma);ma=sb.slice(ma+1);if(Rb=Rb.match(Yb))r.push(Rb[1]),
ma.unshift(Rb[2]);ma.length&&(Ma="/"+ma.join(".")+Ma);this.hostname=r.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();lb||(this.hostname=Fe.toASCII(this.hostname));ma=this.port?":"+this.port:"";this.host=(this.hostname||"")+ma;this.href+=this.host;lb&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Ma[0]&&(Ma="/"+Ma))}if(!$b[gb])for(ma=0,r=Ea.length;ma<r;ma++)lb=Ea[ma],-1!==Ma.indexOf(lb)&&(Rb=encodeURIComponent(lb),Rb===lb&&(Rb=escape(lb)),
Ma=Ma.split(lb).join(Rb));ma=Ma.indexOf("#");-1!==ma&&(this.hash=Ma.substr(ma),Ma=Ma.slice(0,ma));ma=Ma.indexOf("?");-1!==ma?(this.search=Ma.substr(ma),this.query=Ma.substr(ma+1),Q&&(this.query=Sf.parse(this.query)),Ma=Ma.slice(0,ma)):Q&&(this.search="",this.query={});Ma&&(this.pathname=Ma);gd[gb]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)ma=this.pathname||"",this.path=ma+(this.search||"");this.href=this.format();return this};x.prototype.format=function(){var r=
this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var Q=this.protocol||"",ma=this.pathname||"",Ma=this.hash||"",gb=!1,lb="";this.host?gb=r+this.host:this.hostname&&(gb=r+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(gb+=":"+this.port));this.query&&ue.isObject(this.query)&&Object.keys(this.query).length&&(lb=Sf.stringify(this.query));r=this.search||lb&&"?"+lb||"";Q&&":"!==Q.substr(-1)&&(Q+=":");this.slashes||(!Q||gd[Q])&&!1!==gb?(gb="//"+
(gb||""),ma&&"/"!==ma.charAt(0)&&(ma="/"+ma)):gb||(gb="");Ma&&"#"!==Ma.charAt(0)&&(Ma="#"+Ma);r&&"?"!==r.charAt(0)&&(r="?"+r);ma=ma.replace(/[?#]/g,function(sb){return encodeURIComponent(sb)});r=r.replace("#","%23");return Q+gb+ma+r+Ma};x.prototype.resolve=function(r){return this.resolveObject(v(r,!1,!0)).format()};x.prototype.resolveObject=function(r){if(ue.isString(r)){var Q=new x;Q.parse(r,!1,!0);r=Q}Q=new x;for(var ma=Object.keys(this),Ma=0;Ma<ma.length;Ma++){var gb=ma[Ma];Q[gb]=this[gb]}Q.hash=
r.hash;if(""===r.href)return Q.href=Q.format(),Q;if(r.slashes&&!r.protocol){ma=Object.keys(r);for(Ma=0;Ma<ma.length;Ma++)gb=ma[Ma],"protocol"!==gb&&(Q[gb]=r[gb]);gd[Q.protocol]&&Q.hostname&&!Q.pathname&&(Q.path=Q.pathname="/");Q.href=Q.format();return Q}if(r.protocol&&r.protocol!==Q.protocol){if(!gd[r.protocol]){ma=Object.keys(r);for(Ma=0;Ma<ma.length;Ma++)gb=ma[Ma],Q[gb]=r[gb];Q.href=Q.format();return Q}Q.protocol=r.protocol;if(r.host||Oc[r.protocol])Q.pathname=r.pathname;else{for(var lb=(r.pathname||
"").split("/");lb.length&&!(r.host=lb.shift()););r.host||(r.host="");r.hostname||(r.hostname="");""!==lb[0]&&lb.unshift("");2>lb.length&&lb.unshift("");Q.pathname=lb.join("/")}Q.search=r.search;Q.query=r.query;Q.host=r.host||"";Q.auth=r.auth;Q.hostname=r.hostname||r.host;Q.port=r.port;if(Q.pathname||Q.search)Q.path=(Q.pathname||"")+(Q.search||"");Q.slashes=Q.slashes||r.slashes;Q.href=Q.format();return Q}ma=Q.pathname&&"/"===Q.pathname.charAt(0);var sb=r.host||r.pathname&&"/"===r.pathname.charAt(0),
Rb=ma=sb||ma||Q.host&&r.pathname;Ma=Q.pathname&&Q.pathname.split("/")||[];lb=r.pathname&&r.pathname.split("/")||[];if(gb=Q.protocol&&!gd[Q.protocol])Q.hostname="",Q.port=null,Q.host&&(""===Ma[0]?Ma[0]=Q.host:Ma.unshift(Q.host)),Q.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(""===lb[0]?lb[0]=r.host:lb.unshift(r.host)),r.host=null),ma=ma&&(""===lb[0]||""===Ma[0]);if(sb)Q.host=r.host||""===r.host?r.host:Q.host,Q.hostname=r.hostname||""===r.hostname?r.hostname:Q.hostname,Q.search=r.search,
Q.query=r.query,Ma=lb;else if(lb.length)Ma||(Ma=[]),Ma.pop(),Ma=Ma.concat(lb),Q.search=r.search,Q.query=r.query;else if(!ue.isNullOrUndefined(r.search))return gb&&(Q.hostname=Q.host=Ma.shift(),gb=Q.host&&0<Q.host.indexOf("@")?Q.host.split("@"):!1)&&(Q.auth=gb.shift(),Q.host=Q.hostname=gb.shift()),Q.search=r.search,Q.query=r.query,ue.isNull(Q.pathname)&&ue.isNull(Q.search)||(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:"")),Q.href=Q.format(),Q;if(!Ma.length)return Q.pathname=null,Q.path=Q.search?
"/"+Q.search:null,Q.href=Q.format(),Q;sb=Ma.slice(-1)[0];lb=(Q.host||r.host||1<Ma.length)&&("."===sb||".."===sb)||""===sb;for(var ec=0,Vb=Ma.length;0<=Vb;Vb--)sb=Ma[Vb],"."===sb?Ma.splice(Vb,1):".."===sb?(Ma.splice(Vb,1),ec++):ec&&(Ma.splice(Vb,1),ec--);if(!ma&&!Rb)for(;ec--;ec)Ma.unshift("..");!ma||""===Ma[0]||Ma[0]&&"/"===Ma[0].charAt(0)||Ma.unshift("");lb&&"/"!==Ma.join("/").substr(-1)&&Ma.push("");Rb=""===Ma[0]||Ma[0]&&"/"===Ma[0].charAt(0);gb&&(Q.hostname=Q.host=Rb?"":Ma.length?Ma.shift():"",
gb=Q.host&&0<Q.host.indexOf("@")?Q.host.split("@"):!1)&&(Q.auth=gb.shift(),Q.host=Q.hostname=gb.shift());(ma=ma||Q.host&&Ma.length)&&!Rb&&Ma.unshift("");Ma.length?Q.pathname=Ma.join("/"):(Q.pathname=null,Q.path=null);ue.isNull(Q.pathname)&&ue.isNull(Q.search)||(Q.path=(Q.pathname?Q.pathname:"")+(Q.search?Q.search:""));Q.auth=r.auth||Q.auth;Q.slashes=Q.slashes||r.slashes;Q.href=Q.format();return Q};x.prototype.parseHost=function(){var r=this.host,Q=qe.exec(r);Q&&(Q=Q[0],":"!==Q&&(this.port=Q.substr(1)),
r=r.substr(0,r.length-Q.length));r&&(this.hostname=r)};var Mc={parse:v,resolve:function(r,Q){return v(r,!1,!0).resolve(Q)},resolveObject:function(r,Q){return r?v(r,!1,!0).resolveObject(Q):Q},format:function(r){ue.isString(r)&&(r=v(r));return r instanceof x?r.format():x.prototype.format.call(r)},Url:x};class Nd extends Error{constructor(r,Q){super(Q);this.message=Q;this.key=r}}class od{constructor(r,Q=[]){this.parent=r;this.bindings={};for(const [ma,Ma]of Q)this.bindings[ma]=Ma}concat(r){return new od(this,
r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw Error(`${r} not found in scope.`);}has(r){return this.bindings[r]?!0:this.parent?this.parent.has(r):!1}}const Id={kind:"null"},jd={kind:"number"},Qd={kind:"string"},ie={kind:"boolean"},Gf={kind:"color"},tf={kind:"object"},kd={kind:"value"},We={kind:"collator"},uf={kind:"formatted"},mf={kind:"resolvedImage"},Zf=[Id,jd,Qd,ie,Gf,uf,tf,D(kd),mf];var yf=N(function(r,Q){function ma(Vb){Vb=Math.round(Vb);
return 0>Vb?0:255<Vb?255:Vb}function Ma(Vb){return 0>Vb?0:1<Vb?1:Vb}function gb(Vb){return"%"===Vb[Vb.length-1]?ma(parseFloat(Vb)/100*255):ma(parseInt(Vb))}function lb(Vb){return"%"===Vb[Vb.length-1]?Ma(parseFloat(Vb)/100):Ma(parseFloat(Vb))}function sb(Vb,Qc,dd){0>dd?dd+=1:1<dd&&--dd;return 1>6*dd?Vb+(Qc-Vb)*dd*6:1>2*dd?Qc:2>3*dd?Vb+(Qc-Vb)*(2/3-dd)*6:Vb}function Rb(Vb){Vb=Vb.replace(/ /g,"").toLowerCase();if(Vb in ec)return ec[Vb].slice();if("#"===Vb[0])return 4===Vb.length?(Vb=parseInt(Vb.substr(1),
16),0<=Vb&&4095>=Vb?[(Vb&3840)>>4|(Vb&3840)>>8,Vb&240|(Vb&240)>>4,Vb&15|(Vb&15)<<4,1]:null):7===Vb.length?(Vb=parseInt(Vb.substr(1),16),0<=Vb&&16777215>=Vb?[(Vb&16711680)>>16,(Vb&65280)>>8,Vb&255,1]:null):null;var Qc=Vb.indexOf("("),dd=Vb.indexOf(")");if(-1!==Qc&&dd+1===Vb.length){var zd=Vb.substr(0,Qc);Qc=Vb.substr(Qc+1,dd-(Qc+1)).split(",");Vb=1;switch(zd){case "rgba":if(4!==Qc.length)break;Vb=lb(Qc.pop());case "rgb":if(3!==Qc.length)break;return[gb(Qc[0]),gb(Qc[1]),gb(Qc[2]),Vb];case "hsla":if(4!==
Qc.length)break;Vb=lb(Qc.pop());case "hsl":if(3===Qc.length)return zd=(parseFloat(Qc[0])%360+360)%360/360,dd=lb(Qc[1]),Qc=lb(Qc[2]),dd=.5>=Qc?Qc*(dd+1):Qc+dd-Qc*dd,Qc=2*Qc-dd,[ma(255*sb(Qc,dd,zd+1/3)),ma(255*sb(Qc,dd,zd)),ma(255*sb(Qc,dd,zd-1/3)),Vb]}}return null}var ec={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,
205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,
107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,
220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,
250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,
85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,
170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,
192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{Q.parseCSSColor=Rb}catch(Vb){}}).parseCSSColor;class Pe{constructor(r,
Q,ma,Ma=1){this.r=r;this.g=Q;this.b=ma;this.a=Ma}static parse(r){if(r){if(r instanceof Pe)return r;if("string"===typeof r&&(r=yf(r)))return new Pe(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3])}}toString(){const [r,Q,ma,Ma]=this.toArray();return`rgba(${Math.round(r)},${Math.round(Q)},${Math.round(ma)},${Ma})`}toArray(){const {r,g:Q,b:ma,a:Ma}=this;return 0===Ma?[0,0,0,0]:[255*r/Ma,255*Q/Ma,255*ma/Ma,Ma]}}Pe.black=new Pe(0,0,0,1);Pe.white=new Pe(1,1,1,1);Pe.transparent=new Pe(0,0,0,0);Pe.red=new Pe(1,
0,0,1);Pe.blue=new Pe(0,0,1,1);class nf{constructor(r,Q,ma){this.sensitivity=r?Q?"variant":"case":Q?"accent":"base";this.locale=ma;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,Q){return this.collator.compare(r,Q)}resolvedLocale(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale}}class Aa{constructor(r,Q,ma,Ma,gb){this.text=r;this.image=Q;this.scale=ma;this.fontStack=Ma;this.textColor=gb}}class Pa{constructor(r){this.sections=
r}static fromString(r){return new Pa([new Aa(r,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(r=>0!==r.text.length||r.image&&0!==r.image.name.length)}static factory(r){return r instanceof Pa?r:Pa.fromString(r)}toString(){return 0===this.sections.length?"":this.sections.map(r=>r.text).join("")}serialize(){const r=["format"];for(const Q of this.sections){if(Q.image){r.push(["image",Q.image.name]);continue}r.push(Q.text);const ma={};Q.fontStack&&(ma["text-font"]=
["literal",Q.fontStack.split(",")]);Q.scale&&(ma["font-scale"]=Q.scale);Q.textColor&&(ma["text-color"]=["rgba"].concat(Q.textColor.toArray()));r.push(ma)}return r}}class vb{constructor(r){this.name=r.name;this.available=r.available}toString(){return this.name}static fromString(r){return r?new vb({name:r,available:!1}):null}serialize(){return["image",this.name]}}class Wb{constructor(r,Q){this.type=r;this.value=Q}static parse(r,Q){if(2!==r.length)return Q.error(`'literal' expression requires exactly one argument, but found ${r.length-
1} instead.`);if(!K(r[1]))return Q.error("invalid value");r=r[1];let ma=R(r);Q=Q.expectedType;"array"!==ma.kind||0!==ma.N||!Q||"array"!==Q.kind||"number"===typeof Q.N&&0!==Q.N||(ma=Q);return new Wb(ma,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Pe?["rgba"].concat(this.value.toArray()):this.value instanceof Pa?this.value.serialize():this.value}}class Tb{constructor(r){this.name=
"ExpressionEvaluationError";this.message=r}toJSON(){return this.message}}const ic={string:Qd,number:jd,boolean:ie,object:tf};class oc{constructor(r,Q){this.type=r;this.args=Q}static parse(r,Q){if(2>r.length)return Q.error("Expected at least one argument.");let ma=1;var Ma=r[0];if("array"===Ma){if(2<r.length){Ma=r[1];if("string"!==typeof Ma||!(Ma in ic)||"object"===Ma)return Q.error('The item type argument of "array" must be one of string, number, boolean',1);Ma=ic[Ma];ma++}else Ma=kd;if(3<r.length){if(null!==
r[2]&&("number"!==typeof r[2]||0>r[2]||r[2]!==Math.floor(r[2])))return Q.error('The length argument to "array" must be a positive integer literal',2);var gb=r[2];ma++}gb=D(Ma,gb)}else gb=ic[Ma];for(Ma=[];ma<r.length;ma++){const lb=Q.parse(r[ma],ma,kd);if(!lb)return null;Ma.push(lb)}return new oc(gb,Ma)}evaluate(r){for(let Q=0;Q<this.args.length;Q++){const ma=this.args[Q].evaluate(r);if(!M(this.type,R(ma)))return ma;if(Q===this.args.length-1)throw new Tb(`Expected value to be of type ${O(this.type)}, but found ${O(R(ma))} instead.`);
}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){var r=this.type;const Q=[r.kind];if("array"===r.kind){const ma=r.itemType;if("string"===ma.kind||"number"===ma.kind||"boolean"===ma.kind)Q.push(ma.kind),r=r.N,("number"===typeof r||1<this.args.length)&&Q.push(r)}return Q.concat(this.args.map(ma=>ma.serialize()))}}class fd{constructor(r){this.type=uf;this.sections=r}static parse(r,Q){if(2>r.length)return Q.error("Expected at least one argument.");
var ma=r[1];if(!Array.isArray(ma)&&"object"===typeof ma)return Q.error("First argument must be an image or text section.");ma=[];var Ma=!1;for(let sb=1;sb<=r.length-1;++sb){var gb=r[sb];if(Ma&&"object"===typeof gb&&!Array.isArray(gb)){Ma=!1;var lb=null;if(gb["font-scale"]&&(lb=Q.parse(gb["font-scale"],1,jd),!lb))return null;let Rb=null;if(gb["text-font"]&&(Rb=Q.parse(gb["text-font"],1,D(Qd)),!Rb))return null;let ec=null;if(gb["text-color"]&&(ec=Q.parse(gb["text-color"],1,Gf),!ec))return null;gb=ma[ma.length-
1];gb.scale=lb;gb.font=Rb;gb.textColor=ec}else{lb=Q.parse(r[sb],1,kd);if(!lb)return null;Ma=lb.type.kind;if("string"!==Ma&&"value"!==Ma&&"null"!==Ma&&"resolvedImage"!==Ma)return Q.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ma=!0;ma.push({content:lb,scale:null,font:null,textColor:null})}}return new fd(ma)}evaluate(r){return new Pa(this.sections.map(Q=>{const ma=Q.content.evaluate(r);return R(ma)===mf?new Aa("",ma,null,null,null):new Aa(T(ma),null,Q.scale?Q.scale.evaluate(r):
null,Q.font?Q.font.evaluate(r).join(","):null,Q.textColor?Q.textColor.evaluate(r):null)}))}eachChild(r){for(const Q of this.sections)r(Q.content),Q.scale&&r(Q.scale),Q.font&&r(Q.font),Q.textColor&&r(Q.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const Q of this.sections){r.push(Q.content.serialize());const ma={};Q.scale&&(ma["font-scale"]=Q.scale.serialize());Q.font&&(ma["text-font"]=Q.font.serialize());Q.textColor&&(ma["text-color"]=Q.textColor.serialize());r.push(ma)}return r}}
class Wc{constructor(r){this.type=mf;this.input=r}static parse(r,Q){return 2!==r.length?Q.error("Expected two arguments."):(r=Q.parse(r[1],1,Qd))?new Wc(r):Q.error("No image name provided.")}evaluate(r){const Q=this.input.evaluate(r),ma=vb.fromString(Q);ma&&r.availableImages&&(ma.available=-1<r.availableImages.indexOf(Q));return ma}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const nd={"to-boolean":ie,"to-color":Gf,"to-number":jd,"to-string":Qd};
class Kd{constructor(r,Q){this.type=r;this.args=Q}static parse(r,Q){if(2>r.length)return Q.error("Expected at least one argument.");var ma=r[0];if(("to-boolean"===ma||"to-string"===ma)&&2!==r.length)return Q.error("Expected one argument.");ma=nd[ma];const Ma=[];for(let gb=1;gb<r.length;gb++){const lb=Q.parse(r[gb],gb,kd);if(!lb)return null;Ma.push(lb)}return new Kd(ma,Ma)}evaluate(r){if("boolean"===this.type.kind)return!!this.args[0].evaluate(r);if("color"===this.type.kind){for(const gb of this.args){var Q=
gb.evaluate(r);var ma=null;if(Q instanceof Pe)return Q;if("string"===typeof Q){var Ma=r.parseColor(Q);if(Ma)return Ma}else if(Array.isArray(Q)&&(ma=3>Q.length||4<Q.length?`Invalid rbga value ${JSON.stringify(Q)}: expected an array containing either three or four numeric values.`:G(Q[0],Q[1],Q[2],Q[3]),!ma))return new Pe(Q[0]/255,Q[1]/255,Q[2]/255,Q[3])}throw new Tb(ma||`Could not parse color from value '${"string"===typeof Q?Q:String(JSON.stringify(Q))}'`);}if("number"===this.type.kind){Q=null;for(Ma of this.args){Q=
Ma.evaluate(r);if(null===Q)return 0;ma=Number(Q);if(!isNaN(ma))return ma}throw new Tb(`Could not convert ${JSON.stringify(Q)} to number.`);}return"formatted"===this.type.kind?Pa.fromString(T(this.args[0].evaluate(r))):"resolvedImage"===this.type.kind?vb.fromString(T(this.args[0].evaluate(r))):T(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new fd([{content:this.args[0],scale:null,
font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Wc(this.args[0])).serialize();const r=[`to-${this.type.kind}`];this.eachChild(Q=>{r.push(Q.serialize())});return r}}const de=["Unknown","Point","LineString","Polygon"];class je{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?
"number"===typeof this.feature.type?de[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let Q=this._parseColorCache[r];Q||(Q=this._parseColorCache[r]=Pe.parse(r));return Q}}class Gd{constructor(r,Q,ma,Ma){this.name=r;this.type=Q;this._evaluate=ma;this.args=Ma}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(r=>
r.serialize()))}static parse(r,Q){var ma=r[0],Ma=Gd.definitions[ma];if(!Ma)return Q.error(`Unknown expression "${ma}". If you wanted a literal array, use ["literal", [...]].`,0);var gb=Array.isArray(Ma)?Ma[0]:Ma.type;Ma=Array.isArray(Ma)?[[Ma[1],Ma[2]]]:Ma.overloads;var lb=Ma.filter(([Qc])=>!Array.isArray(Qc)||Qc.length===r.length-1);let sb=null;for(const [Qc,dd]of lb){sb=new Ce(Q.registry,Q.path,null,Q.scope);const zd=[];var Rb=!1;for(var ec=1;ec<r.length;ec++){var Vb=r[ec];const rd=Array.isArray(Qc)?
Qc[ec-1]:Qc.type;Vb=sb.parse(Vb,1+zd.length,rd);if(!Vb){Rb=!0;break}zd.push(Vb)}if(!Rb)if(Array.isArray(Qc)&&Qc.length!==zd.length)sb.error(`Expected ${Qc.length} arguments, but found ${zd.length} instead.`);else{for(Rb=0;Rb<zd.length;Rb++)ec=Array.isArray(Qc)?Qc[Rb]:Qc.type,Vb=zd[Rb],sb.concat(Rb+1).checkSubtype(ec,Vb.type);if(0===sb.errors.length)return new Gd(ma,gb,dd,zd)}}if(1===lb.length)Q.errors.push(...sb.errors);else{ma=(lb.length?lb:Ma).map(([Qc])=>{Qc=Array.isArray(Qc)?`(${Qc.map(O).join(", ")})`:
`(${O(Qc.type)}...)`;return Qc}).join(" | ");gb=[];for(Ma=1;Ma<r.length;Ma++){lb=Q.parse(r[Ma],1+gb.length);if(!lb)return null;gb.push(O(lb.type))}Q.error(`Expected arguments of type ${ma}, but found (${gb.join(", ")}) instead.`)}return null}static register(r,Q){Gd.definitions=Q;for(const ma in Q)r[ma]=Gd}}class Le{constructor(r,Q,ma){this.type=We;this.locale=ma;this.caseSensitive=r;this.diacriticSensitive=Q}static parse(r,Q){if(2!==r.length)return Q.error("Expected one argument.");r=r[1];if("object"!==
typeof r||Array.isArray(r))return Q.error("Collator options argument must be an object.");const ma=Q.parse(void 0===r["case-sensitive"]?!1:r["case-sensitive"],1,ie);if(!ma)return null;const Ma=Q.parse(void 0===r["diacritic-sensitive"]?!1:r["diacritic-sensitive"],1,ie);if(!Ma)return null;let gb=null;return r.locale&&(gb=Q.parse(r.locale,1,Qd),!gb)?null:new Le(ma,Ma,gb)}evaluate(r){return new nf(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive);
r(this.diacriticSensitive);this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};r["case-sensitive"]=this.caseSensitive.serialize();r["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(r.locale=this.locale.serialize());return["collator",r]}}class $d{constructor(r,Q){this.type=ie;this.geojson=r;this.geometries=Q}static parse(r,Q){if(2!==r.length)return Q.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(K(r[1]))if(r=
r[1],"FeatureCollection"===r.type)for(var ma=0;ma<r.features.length;++ma){const Ma=r.features[ma].geometry.type;if("Polygon"===Ma||"MultiPolygon"===Ma)return new $d(r,r.features[ma].geometry)}else if("Feature"===r.type){if(ma=r.geometry.type,"Polygon"===ma||"MultiPolygon"===ma)return new $d(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new $d(r,r);return Q.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(null!=
r.geometry()&&null!=r.canonicalID()){if("Point"===r.geometryType())return ya(r,this.geometries);if("LineString"===r.geometryType())return va(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class Ie{constructor(r,Q){this.type=Q.type;this.name=r;this.boundExpression=Q}static parse(r,Q){if(2!==r.length||"string"!==typeof r[1])return Q.error("'var' expression requires exactly one string literal argument.");r=r[1];return Q.scope.has(r)?new Ie(r,
Q.scope.get(r)):Q.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Ce{constructor(r,Q=[],ma,Ma=new od,gb=[]){this.registry=r;this.path=Q;this.key=Q.map(lb=>`[${lb}]`).join("");this.scope=Ma;this.errors=gb;this.expectedType=ma}parse(r,Q,ma,Ma,gb={}){return Q?this.concat(Q,ma,Ma)._parse(r,gb):this._parse(r,
gb)}_parse(r,Q){function ma(lb,sb,Rb){return"assert"===Rb?new oc(sb,[lb]):"coerce"===Rb?new Kd(sb,[lb]):lb}if(null===r||"string"===typeof r||"boolean"===typeof r||"number"===typeof r)r=["literal",r];if(Array.isArray(r)){if(0===r.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Ma=r[0];if("string"!==typeof Ma)return this.error(`Expression name must be a string, but found ${typeof Ma} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var gb=this.registry[Ma];if(gb){r=gb.parse(r,this);if(!r)return null;if(this.expectedType)if(Ma=this.expectedType,gb=r.type,("string"===Ma.kind||"number"===Ma.kind||"boolean"===Ma.kind||"object"===Ma.kind||"array"===Ma.kind)&&"value"===gb.kind)r=ma(r,Ma,Q.typeAnnotation||"assert");else if(!("color"!==Ma.kind&&"formatted"!==Ma.kind&&"resolvedImage"!==Ma.kind||"value"!==gb.kind&&"string"!==gb.kind))r=ma(r,Ma,Q.typeAnnotation||"coerce");else if(this.checkSubtype(Ma,gb))return null;if(!(r instanceof
Wb)&&"resolvedImage"!==r.type.kind&&ua(r)){Q=new je;try{r=new Wb(r.type,r.evaluate(Q))}catch(lb){return this.error(lb.message),null}}return r}return this.error(`Unknown expression "${Ma}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof r?this.error("'undefined' value invalid. Use null instead."):"object"===typeof r?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof r} instead.`)}concat(r,Q,ma){r=
"number"===typeof r?this.path.concat(r):this.path;ma=ma?this.scope.concat(ma):this.scope;return new Ce(this.registry,r,Q||null,ma,this.errors)}error(r,...Q){Q=`${this.key}${Q.map(ma=>`[${ma}]`).join("")}`;this.errors.push(new Nd(Q,r))}checkSubtype(r,Q){(r=M(r,Q))&&this.error(r);return r}}class Qe{constructor(r,Q,ma){this.type=r;this.input=Q;this.labels=[];this.outputs=[];for(const [Ma,gb]of ma)this.labels.push(Ma),this.outputs.push(gb)}static parse(r,Q){if(4>r.length-1)return Q.error(`Expected at least 4 arguments, but found only ${r.length-
1}.`);if(0!==(r.length-1)%2)return Q.error("Expected an even number of arguments.");const ma=Q.parse(r[1],1,jd);if(!ma)return null;const Ma=[];let gb=null;Q.expectedType&&"value"!==Q.expectedType.kind&&(gb=Q.expectedType);for(let sb=1;sb<r.length;sb+=2){const Rb=1===sb?-Infinity:r[sb];var lb=r[sb+1];const ec=sb,Vb=sb+1;if("number"!==typeof Rb)return Q.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ec);
if(Ma.length&&Ma[Ma.length-1][0]>=Rb)return Q.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ec);lb=Q.parse(lb,Vb,gb);if(!lb)return null;gb=gb||lb.type;Ma.push([Rb,lb])}return new Qe(gb,ma,Ma)}evaluate(r){var Q=this.labels;const ma=this.outputs;if(1===Q.length)return ma[0].evaluate(r);const Ma=this.input.evaluate(r);if(Ma<=Q[0])return ma[0].evaluate(r);const gb=Q.length;if(Ma>=Q[gb-1])return ma[gb-1].evaluate(r);Q=Ta(Q,Ma);return ma[Q].evaluate(r)}eachChild(r){r(this.input);
for(const Q of this.outputs)r(Q)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){const r=["step",this.input.serialize()];for(let Q=0;Q<this.labels.length;Q++)0<Q&&r.push(this.labels[Q]),r.push(this.outputs[Q].serialize());return r}}Ya.prototype.sampleCurveX=function(r){return((this.ax*r+this.bx)*r+this.cx)*r};Ya.prototype.sampleCurveY=function(r){return((this.ay*r+this.by)*r+this.cy)*r};Ya.prototype.sampleCurveDerivativeX=function(r){return(3*this.ax*r+2*this.bx)*r+this.cx};
Ya.prototype.solveCurveX=function(r,Q){"undefined"===typeof Q&&(Q=1E-6);var ma;var Ma=r;for(ma=0;8>ma;ma++){var gb=this.sampleCurveX(Ma)-r;if(Math.abs(gb)<Q)return Ma;var lb=this.sampleCurveDerivativeX(Ma);if(1E-6>Math.abs(lb))break;Ma-=gb/lb}ma=0;lb=1;Ma=r;if(Ma<ma)return ma;if(Ma>lb)return lb;for(;ma<lb;){gb=this.sampleCurveX(Ma);if(Math.abs(gb-r)<Q)break;r>gb?ma=Ma:lb=Ma;Ma=.5*(lb-ma)+ma}return Ma};Ya.prototype.solve=function(r,Q){return this.sampleCurveY(this.solveCurveX(r,Q))};var Uf=Object.freeze({__proto__:null,
number:Da,color:function(r,Q,ma){return new Pe(Da(r.r,Q.r,ma),Da(r.g,Q.g,ma),Da(r.b,Q.b,ma),Da(r.a,Q.a,ma))},array:function(r,Q,ma){return r.map((Ma,gb)=>Da(Ma,Q[gb],ma))}});const ne=4/29,sf=6/29,Cf=3*sf*sf,Bg=sf*sf*sf,Lf=Math.PI/180,jg=180/Math.PI,xa={forward:ca,reverse:ra,interpolate:function(r,Q,ma){return{l:Da(r.l,Q.l,ma),a:Da(r.a,Q.a,ma),b:Da(r.b,Q.b,ma),alpha:Da(r.alpha,Q.alpha,ma)}}},za={forward:function(r){const {l:Q,a:ma,b:Ma}=ca(r),gb=Math.atan2(Ma,ma)*jg;return{h:0>gb?gb+360:gb,c:Math.sqrt(ma*
ma+Ma*Ma),l:Q,alpha:r.a}},reverse:function(r){const Q=r.h*Lf,ma=r.c;return ra({l:r.l,a:Math.cos(Q)*ma,b:Math.sin(Q)*ma,alpha:r.alpha})},interpolate:function(r,Q,ma){{var Ma=r.h;const gb=Q.h-Ma;Ma+=ma*(180<gb||-180>gb?gb-360*Math.round(gb/360):gb)}return{h:Ma,c:Da(r.c,Q.c,ma),l:Da(r.l,Q.l,ma),alpha:Da(r.alpha,Q.alpha,ma)}}};var Na=Object.freeze({__proto__:null,lab:xa,hcl:za});class Sa{constructor(r,Q,ma,Ma,gb){this.type=r;this.operator=Q;this.interpolation=ma;this.input=Ma;this.labels=[];this.outputs=
[];for(const [lb,sb]of gb)this.labels.push(lb),this.outputs.push(sb)}static interpolationFactor(r,Q,ma,Ma){let gb=0;"exponential"===r.name?gb=qa(Q,r.base,ma,Ma):"linear"===r.name?gb=qa(Q,1,ma,Ma):"cubic-bezier"===r.name&&(r=r.controlPoints,gb=(new Ya(r[0],r[1],r[2],r[3])).solve(qa(Q,1,ma,Ma)));return gb}static parse(r,Q){let [ma,Ma,gb,...lb]=r;if(!Array.isArray(Ma)||0===Ma.length)return Q.error("Expected an interpolation type expression.",1);if("linear"===Ma[0])Ma={name:"linear"};else if("exponential"===
Ma[0]){var sb=Ma[1];if("number"!==typeof sb)return Q.error("Exponential interpolation requires a numeric base.",1,1);Ma={name:"exponential",base:sb}}else if("cubic-bezier"===Ma[0]){sb=Ma.slice(1);if(4!==sb.length||sb.some(ec=>"number"!==typeof ec||0>ec||1<ec))return Q.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Ma={name:"cubic-bezier",controlPoints:sb}}else return Q.error(`Unknown interpolation type ${String(Ma[0])}`,1,0);if(4>r.length-1)return Q.error(`Expected at least 4 arguments, but found only ${r.length-
1}.`);if(0!==(r.length-1)%2)return Q.error("Expected an even number of arguments.");gb=Q.parse(gb,2,jd);if(!gb)return null;r=[];sb=null;"interpolate-hcl"===ma||"interpolate-lab"===ma?sb=Gf:Q.expectedType&&"value"!==Q.expectedType.kind&&(sb=Q.expectedType);for(let ec=0;ec<lb.length;ec+=2){const Vb=lb[ec];var Rb=lb[ec+1];const Qc=ec+3,dd=ec+4;if("number"!==typeof Vb)return Q.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Qc);if(r.length&&r[r.length-1][0]>=Vb)return Q.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Qc);Rb=Q.parse(Rb,dd,sb);if(!Rb)return null;sb=sb||Rb.type;r.push([Vb,Rb])}return"number"===sb.kind||"color"===sb.kind||"array"===sb.kind&&"number"===sb.itemType.kind&&"number"===typeof sb.N?new Sa(sb,ma,Ma,gb,r):Q.error(`Type ${O(sb)} is not interpolatable.`)}evaluate(r){var Q=this.labels;const ma=this.outputs;if(1===Q.length)return ma[0].evaluate(r);
var Ma=this.input.evaluate(r);if(Ma<=Q[0])return ma[0].evaluate(r);var gb=Q.length;if(Ma>=Q[gb-1])return ma[gb-1].evaluate(r);gb=Ta(Q,Ma);Q=Sa.interpolationFactor(this.interpolation,Ma,Q[gb],Q[gb+1]);Ma=ma[gb].evaluate(r);r=ma[gb+1].evaluate(r);return"interpolate"===this.operator?Uf[this.type.kind.toLowerCase()](Ma,r,Q):"interpolate-hcl"===this.operator?za.reverse(za.interpolate(za.forward(Ma),za.forward(r),Q)):xa.reverse(xa.interpolate(xa.forward(Ma),xa.forward(r),Q))}eachChild(r){r(this.input);
for(const Q of this.outputs)r(Q)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){var r="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);r=[this.operator,r,this.input.serialize()];for(let Q=0;Q<this.labels.length;Q++)r.push(this.labels[Q],this.outputs[Q].serialize());return r}}class fb{constructor(r,
Q){this.type=r;this.args=Q}static parse(r,Q){if(2>r.length)return Q.error("Expectected at least one argument.");let ma=null;const Ma=Q.expectedType;Ma&&"value"!==Ma.kind&&(ma=Ma);const gb=[];for(const lb of r.slice(1)){r=Q.parse(lb,1+gb.length,ma,void 0,{typeAnnotation:"omit"});if(!r)return null;ma=ma||r.type;gb.push(r)}return Ma&&gb.some(lb=>M(Ma,lb.type))?new fb(kd,gb):new fb(ma,gb)}evaluate(r){let Q=null,ma=0,Ma;for(const gb of this.args)if(ma++,(Q=gb.evaluate(r))&&Q instanceof vb&&!Q.available&&
(Ma||(Ma=Q.name),Q=null,ma===this.args.length&&(Q=Ma)),null!==Q)break;return Q}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=["coalesce"];this.eachChild(Q=>{r.push(Q.serialize())});return r}}class hb{constructor(r,Q){this.type=Q.type;this.bindings=[].concat(r);this.result=Q}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const Q of this.bindings)r(Q[1]);r(this.result)}static parse(r,Q){if(4>r.length)return Q.error(`Expected at least 3 arguments, but found ${r.length-
1} instead.`);const ma=[];for(let Ma=1;Ma<r.length-1;Ma+=2){const gb=r[Ma];if("string"!==typeof gb)return Q.error(`Expected string, but found ${typeof gb} instead.`,Ma);if(/[^a-zA-Z0-9_]/.test(gb))return Q.error("Variable names must contain only alphanumeric characters or '_'.",Ma);const lb=Q.parse(r[Ma+1],Ma+1);if(!lb)return null;ma.push([gb,lb])}return(r=Q.parse(r[r.length-1],r.length-1,Q.expectedType,ma))?new hb(ma,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=
["let"];for(const [Q,ma]of this.bindings)r.push(Q,ma.serialize());r.push(this.result.serialize());return r}}class qb{constructor(r,Q,ma){this.type=r;this.index=Q;this.input=ma}static parse(r,Q){if(3!==r.length)return Q.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const ma=Q.parse(r[1],1,jd);r=Q.parse(r[2],2,D(Q.expectedType||kd));return ma&&r?new qb(r.type.itemType,ma,r):null}evaluate(r){const Q=this.index.evaluate(r);r=this.input.evaluate(r);if(0>Q)throw new Tb(`Array index out of bounds: ${Q} < 0.`);
if(Q>=r.length)throw new Tb(`Array index out of bounds: ${Q} > ${r.length-1}.`);if(Q!==Math.floor(Q))throw new Tb(`Array index must be an integer, but found ${Q} instead.`);return r[Q]}eachChild(r){r(this.index);r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Db{constructor(r,Q){this.type=ie;this.needle=r;this.haystack=Q}static parse(r,Q){if(3!==r.length)return Q.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const ma=
Q.parse(r[1],1,kd);r=Q.parse(r[2],2,kd);return ma&&r?F(ma.type,[ie,Qd,jd,Id,kd])?new Db(ma,r):Q.error(`Expected first argument to be of type boolean, string, number or null, but found ${O(ma.type)} instead`):null}evaluate(r){const Q=this.needle.evaluate(r);r=this.haystack.evaluate(r);if(!r)return!1;if(!z(Q,["boolean","string","number","null"]))throw new Tb(`Expected first argument to be of type boolean, string, number or null, but found ${O(R(Q))} instead.`);if(!z(r,["string","array"]))throw new Tb(`Expected second argument to be of type array or string, but found ${O(R(r))} instead.`);
return 0<=r.indexOf(Q)}eachChild(r){r(this.needle);r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Ab{constructor(r,Q,ma){this.type=jd;this.needle=r;this.haystack=Q;this.fromIndex=ma}static parse(r,Q){if(2>=r.length||5<=r.length)return Q.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const ma=Q.parse(r[1],1,kd),Ma=Q.parse(r[2],2,kd);return ma&&Ma?F(ma.type,[ie,Qd,jd,Id,kd])?4===r.length?(r=Q.parse(r[3],
3,jd))?new Ab(ma,Ma,r):null:new Ab(ma,Ma):Q.error(`Expected first argument to be of type boolean, string, number or null, but found ${O(ma.type)} instead`):null}evaluate(r){const Q=this.needle.evaluate(r),ma=this.haystack.evaluate(r);if(!z(Q,["boolean","string","number","null"]))throw new Tb(`Expected first argument to be of type boolean, string, number or null, but found ${O(R(Q))} instead.`);if(!z(ma,["string","array"]))throw new Tb(`Expected second argument to be of type array or string, but found ${O(R(ma))} instead.`);
return this.fromIndex?(r=this.fromIndex.evaluate(r),ma.indexOf(Q,r)):ma.indexOf(Q)}eachChild(r){r(this.needle);r(this.haystack);this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Kb{constructor(r,Q,ma,Ma,gb,lb){this.inputType=r;this.type=Q;this.input=
ma;this.cases=Ma;this.outputs=gb;this.otherwise=lb}static parse(r,Q){if(5>r.length)return Q.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(1!==r.length%2)return Q.error("Expected an even number of arguments.");let ma,Ma;Q.expectedType&&"value"!==Q.expectedType.kind&&(Ma=Q.expectedType);const gb={},lb=[];for(var sb=2;sb<r.length-1;sb+=2){var Rb=r[sb];const ec=r[sb+1];Array.isArray(Rb)||(Rb=[Rb]);const Vb=Q.concat(sb);if(0===Rb.length)return Vb.error("Expected at least one branch label.");
for(const Qc of Rb){if("number"!==typeof Qc&&"string"!==typeof Qc)return Vb.error("Branch labels must be numbers or strings.");if("number"===typeof Qc&&Math.abs(Qc)>Number.MAX_SAFE_INTEGER)return Vb.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Qc&&Math.floor(Qc)!==Qc)return Vb.error("Numeric branch labels must be integer values.");if(!ma)ma=R(Qc);else if(Vb.checkSubtype(ma,R(Qc)))return null;if("undefined"!==typeof gb[String(Qc)])return Vb.error("Branch labels must be unique.");
gb[String(Qc)]=lb.length}Rb=Q.parse(ec,sb,Ma);if(!Rb)return null;Ma=Ma||Rb.type;lb.push(Rb)}sb=Q.parse(r[1],1,kd);if(!sb)return null;r=Q.parse(r[r.length-1],r.length-1,Ma);return!r||"value"!==sb.type.kind&&Q.concat(1).checkSubtype(ma,sb.type)?null:new Kb(ma,Ma,sb,gb,lb,r)}evaluate(r){const Q=this.input.evaluate(r);return(R(Q)===this.inputType&&this.outputs[this.cases[Q]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input);this.outputs.forEach(r);r(this.otherwise)}outputDefined(){return this.outputs.every(r=>
r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()];var Q=Object.keys(this.cases).sort();const ma=[];var Ma={};for(const gb of Q)Q=Ma[this.cases[gb]],void 0===Q?(Ma[this.cases[gb]]=ma.length,ma.push([this.cases[gb],[gb]])):ma[Q][1].push(gb);Ma=gb=>"number"===this.inputType.kind?Number(gb):gb;for(const [gb,lb]of ma)1===lb.length?r.push(Ma(lb[0])):r.push(lb.map(Ma)),r.push(this.outputs[gb].serialize());r.push(this.otherwise.serialize());return r}}
class Jb{constructor(r,Q,ma){this.type=r;this.branches=Q;this.otherwise=ma}static parse(r,Q){if(4>r.length)return Q.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(0!==r.length%2)return Q.error("Expected an odd number of arguments.");let ma;Q.expectedType&&"value"!==Q.expectedType.kind&&(ma=Q.expectedType);const Ma=[];for(let gb=1;gb<r.length-1;gb+=2){const lb=Q.parse(r[gb],gb,ie);if(!lb)return null;const sb=Q.parse(r[gb+1],gb+1,ma);if(!sb)return null;Ma.push([lb,sb]);ma=
ma||sb.type}return(r=Q.parse(r[r.length-1],r.length-1,ma))?new Jb(ma,Ma,r):null}evaluate(r){for(const [Q,ma]of this.branches)if(Q.evaluate(r))return ma.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const [Q,ma]of this.branches)r(Q),r(ma);r(this.otherwise)}outputDefined(){return this.branches.every(([,r])=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["case"];this.eachChild(Q=>{r.push(Q.serialize())});return r}}class cc{constructor(r,Q,ma,Ma){this.type=r;
this.input=Q;this.beginIndex=ma;this.endIndex=Ma}static parse(r,Q){if(2>=r.length||5<=r.length)return Q.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const ma=Q.parse(r[1],1,kd),Ma=Q.parse(r[2],2,jd);return ma&&Ma?F(ma.type,[D(kd),Qd,kd])?4===r.length?(r=Q.parse(r[3],3,jd))?new cc(ma.type,ma,Ma,r):null:new cc(ma.type,ma,Ma):Q.error(`Expected first argument to be of type array or string, but found ${O(ma.type)} instead`):null}evaluate(r){const Q=this.input.evaluate(r),ma=this.beginIndex.evaluate(r);
if(!z(Q,["string","array"]))throw new Tb(`Expected first argument to be of type array or string, but found ${O(R(Q))} instead.`);return this.endIndex?(r=this.endIndex.evaluate(r),Q.slice(ma,r)):Q.slice(ma)}eachChild(r){r(this.input);r(this.beginIndex);this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const xc=Ra("\x3d\x3d",function(r,Q,ma){return Q===ma},na),Y=Ra("!\x3d",function(r,Q,ma){return Q!==ma},function(r,Q,ma,Ma){return!na(r,Q,ma,Ma)}),oa=Ra("\x3c",function(r,Q,ma){return Q<ma},function(r,Q,ma,Ma){return 0>Ma.compare(Q,ma)}),Oa=Ra("\x3e",function(r,Q,ma){return Q>ma},function(r,Q,ma,Ma){return 0<Ma.compare(Q,ma)}),Va=Ra("\x3c\x3d",function(r,Q,ma){return Q<=ma},function(r,Q,ma,Ma){return 0>=Ma.compare(Q,ma)}),xb=Ra("\x3e\x3d",function(r,Q,ma){return Q>=ma},
function(r,Q,ma,Ma){return 0<=Ma.compare(Q,ma)});class Sb{constructor(r,Q,ma,Ma,gb){this.type=Qd;this.number=r;this.locale=Q;this.currency=ma;this.minFractionDigits=Ma;this.maxFractionDigits=gb}static parse(r,Q){if(3!==r.length)return Q.error("Expected two arguments.");const ma=Q.parse(r[1],1,jd);if(!ma)return null;r=r[2];if("object"!==typeof r||Array.isArray(r))return Q.error("NumberFormat options argument must be an object.");let Ma=null;if(r.locale&&(Ma=Q.parse(r.locale,1,Qd),!Ma))return null;
let gb=null;if(r.currency&&(gb=Q.parse(r.currency,1,Qd),!gb))return null;let lb=null;if(r["min-fraction-digits"]&&(lb=Q.parse(r["min-fraction-digits"],1,jd),!lb))return null;let sb=null;return r["max-fraction-digits"]&&(sb=Q.parse(r["max-fraction-digits"],1,jd),!sb)?null:new Sb(ma,Ma,gb,lb,sb)}evaluate(r){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0})).format(this.number.evaluate(r))}eachChild(r){r(this.number);this.locale&&r(this.locale);this.currency&&r(this.currency);this.minFractionDigits&&r(this.minFractionDigits);this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};this.locale&&(r.locale=this.locale.serialize());this.currency&&(r.currency=this.currency.serialize());
this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),r]}}class Zb{constructor(r){this.type=jd;this.input=r}static parse(r,Q){return 2!==r.length?Q.error(`Expected 1 argument, but found ${r.length-1} instead.`):(r=Q.parse(r[1],1))?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?Q.error(`Expected argument of type string or array, but found ${O(r.type)} instead.`):
new Zb(r):null}evaluate(r){r=this.input.evaluate(r);if("string"===typeof r||Array.isArray(r))return r.length;throw new Tb(`Expected value to be of type string or array, but found ${O(R(r))} instead.`);}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];this.eachChild(Q=>{r.push(Q.serialize())});return r}}const qc={"\x3d\x3d":xc,"!\x3d":Y,"\x3e":Oa,"\x3c":oa,"\x3e\x3d":xb,"\x3c\x3d":Va,array:oc,at:qb,"boolean":oc,"case":Jb,coalesce:fb,collator:Le,format:fd,image:Wc,
"in":Db,"index-of":Ab,interpolate:Sa,"interpolate-hcl":Sa,"interpolate-lab":Sa,length:Zb,let:hb,literal:Wb,match:Kb,number:oc,"number-format":Sb,object:oc,slice:cc,step:Qe,string:oc,"to-boolean":Kd,"to-color":Kd,"to-number":Kd,"to-string":Kd,"var":Ie,within:$d};Gd.register(qc,{error:[{kind:"error"},[Qd],(r,[Q])=>{throw new Tb(Q.evaluate(r));}],"typeof":[Qd,[kd],(r,[Q])=>O(R(Q.evaluate(r)))],"to-rgba":[D(jd,4),[Gf],(r,[Q])=>Q.evaluate(r).toArray()],rgb:[Gf,[jd,jd,jd],db],rgba:[Gf,[jd,jd,jd,jd],db],
has:{type:ie,overloads:[[[Qd],(r,[Q])=>{Q=Q.evaluate(r);r=r.properties();return Q in r}],[[Qd,tf],(r,[Q,ma])=>{Q=Q.evaluate(r);r=ma.evaluate(r);return Q in r}]]},get:{type:kd,overloads:[[[Qd],(r,[Q])=>$a(Q.evaluate(r),r.properties())],[[Qd,tf],(r,[Q,ma])=>$a(Q.evaluate(r),ma.evaluate(r))]]},"feature-state":[kd,[Qd],(r,[Q])=>$a(Q.evaluate(r),r.featureState||{})],properties:[tf,[],r=>r.properties()],"geometry-type":[Qd,[],r=>r.geometryType()],id:[kd,[],r=>r.id()],zoom:[jd,[],r=>r.globals.zoom],"heatmap-density":[jd,
[],r=>r.globals.heatmapDensity||0],"line-progress":[jd,[],r=>r.globals.lineProgress||0],"sky-radial-progress":[jd,[],r=>r.globals.skyRadialProgress||0],accumulated:[kd,[],r=>void 0===r.globals.accumulated?null:r.globals.accumulated],"+":[jd,{type:jd},(r,Q)=>{let ma=0;for(const Ma of Q)ma+=Ma.evaluate(r);return ma}],"*":[jd,{type:jd},(r,Q)=>{let ma=1;for(const Ma of Q)ma*=Ma.evaluate(r);return ma}],"-":{type:jd,overloads:[[[jd,jd],(r,[Q,ma])=>Q.evaluate(r)-ma.evaluate(r)],[[jd],(r,[Q])=>-Q.evaluate(r)]]},
"/":[jd,[jd,jd],(r,[Q,ma])=>Q.evaluate(r)/ma.evaluate(r)],"%":[jd,[jd,jd],(r,[Q,ma])=>Q.evaluate(r)%ma.evaluate(r)],ln2:[jd,[],()=>Math.LN2],pi:[jd,[],()=>Math.PI],e:[jd,[],()=>Math.E],"^":[jd,[jd,jd],(r,[Q,ma])=>Math.pow(Q.evaluate(r),ma.evaluate(r))],sqrt:[jd,[jd],(r,[Q])=>Math.sqrt(Q.evaluate(r))],log10:[jd,[jd],(r,[Q])=>Math.log(Q.evaluate(r))/Math.LN10],ln:[jd,[jd],(r,[Q])=>Math.log(Q.evaluate(r))],log2:[jd,[jd],(r,[Q])=>Math.log(Q.evaluate(r))/Math.LN2],sin:[jd,[jd],(r,[Q])=>Math.sin(Q.evaluate(r))],
cos:[jd,[jd],(r,[Q])=>Math.cos(Q.evaluate(r))],tan:[jd,[jd],(r,[Q])=>Math.tan(Q.evaluate(r))],asin:[jd,[jd],(r,[Q])=>Math.asin(Q.evaluate(r))],acos:[jd,[jd],(r,[Q])=>Math.acos(Q.evaluate(r))],atan:[jd,[jd],(r,[Q])=>Math.atan(Q.evaluate(r))],min:[jd,{type:jd},(r,Q)=>Math.min(...Q.map(ma=>ma.evaluate(r)))],max:[jd,{type:jd},(r,Q)=>Math.max(...Q.map(ma=>ma.evaluate(r)))],abs:[jd,[jd],(r,[Q])=>Math.abs(Q.evaluate(r))],round:[jd,[jd],(r,[Q])=>{r=Q.evaluate(r);return 0>r?-Math.round(-r):Math.round(r)}],
floor:[jd,[jd],(r,[Q])=>Math.floor(Q.evaluate(r))],ceil:[jd,[jd],(r,[Q])=>Math.ceil(Q.evaluate(r))],"filter-\x3d\x3d":[ie,[Qd,kd],(r,[Q,ma])=>r.properties()[Q.value]===ma.value],"filter-id-\x3d\x3d":[ie,[kd],(r,[Q])=>r.id()===Q.value],"filter-type-\x3d\x3d":[ie,[Qd],(r,[Q])=>r.geometryType()===Q.value],"filter-\x3c":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===typeof ma&&r<ma}],"filter-id-\x3c":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r<
Q}],"filter-\x3e":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===typeof ma&&r>ma}],"filter-id-\x3e":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r>Q}],"filter-\x3c\x3d":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===typeof ma&&r<=ma}],"filter-id-\x3c\x3d":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r<=Q}],"filter-\x3e\x3d":[ie,[Qd,kd],(r,[Q,ma])=>{r=r.properties()[Q.value];ma=ma.value;return typeof r===
typeof ma&&r>=ma}],"filter-id-\x3e\x3d":[ie,[kd],(r,[Q])=>{r=r.id();Q=Q.value;return typeof r===typeof Q&&r>=Q}],"filter-has":[ie,[kd],(r,[Q])=>Q.value in r.properties()],"filter-has-id":[ie,[],r=>null!==r.id()&&void 0!==r.id()],"filter-type-in":[ie,[D(Qd)],(r,[Q])=>0<=Q.value.indexOf(r.geometryType())],"filter-id-in":[ie,[D(kd)],(r,[Q])=>0<=Q.value.indexOf(r.id())],"filter-in-small":[ie,[Qd,D(kd)],(r,[Q,ma])=>0<=ma.value.indexOf(r.properties()[Q.value])],"filter-in-large":[ie,[Qd,D(kd)],(r,[Q,ma])=>
{a:{r=r.properties()[Q.value];Q=ma.value;var Ma=0;for(ma=ma.value.length-1;Ma<=ma;){const gb=Ma+ma>>1;if(Q[gb]===r){ma=!0;break a}Q[gb]>r?ma=gb-1:Ma=gb+1}ma=!1}return ma}],all:{type:ie,overloads:[[[ie,ie],(r,[Q,ma])=>Q.evaluate(r)&&ma.evaluate(r)],[{type:ie},(r,Q)=>{for(const ma of Q)if(!ma.evaluate(r))return!1;return!0}]]},any:{type:ie,overloads:[[[ie,ie],(r,[Q,ma])=>Q.evaluate(r)||ma.evaluate(r)],[{type:ie},(r,Q)=>{for(const ma of Q)if(ma.evaluate(r))return!0;return!1}]]},"!":[ie,[ie],(r,[Q])=>
!Q.evaluate(r)],"is-supported-script":[ie,[Qd],(r,[Q])=>{const ma=r.globals&&r.globals.isSupportedScript;return ma?ma(Q.evaluate(r)):!0}],upcase:[Qd,[Qd],(r,[Q])=>Q.evaluate(r).toUpperCase()],downcase:[Qd,[Qd],(r,[Q])=>Q.evaluate(r).toLowerCase()],concat:[Qd,{type:kd},(r,Q)=>Q.map(ma=>T(ma.evaluate(r))).join("")],"resolved-locale":[Qd,[We],(r,[Q])=>Q.evaluate(r).resolvedLocale()]});class Ec{constructor(r,Q){this.expression=r;this._warningHistory={};this._evaluator=new je;this._defaultValue=Q?"color"===
Q.type&&Fb(Q.default)?new Pe(0,0,0,0):"color"===Q.type?Pe.parse(Q.default)||null:void 0===Q.default?null:Q.default:null;this._enumValues=Q&&"enum"===Q.type?Q.values:null}evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb){this._evaluator.globals=r;this._evaluator.feature=Q;this._evaluator.featureState=ma;this._evaluator.canonical=Ma;this._evaluator.availableImages=gb||null;this._evaluator.formattedSection=lb;return this.expression.evaluate(this._evaluator)}evaluate(r,Q,ma,Ma,gb,lb){this._evaluator.globals=
r;this._evaluator.feature=Q||null;this._evaluator.featureState=ma||null;this._evaluator.canonical=Ma;this._evaluator.availableImages=gb||null;this._evaluator.formattedSection=lb||null;try{const sb=this.expression.evaluate(this._evaluator);if(null===sb||void 0===sb||"number"===typeof sb&&sb!==sb)return this._defaultValue;if(this._enumValues&&!(sb in this._enumValues))throw new Tb(`Expected value to be one of ${Object.keys(this._enumValues).map(Rb=>JSON.stringify(Rb)).join(", ")}, but found ${JSON.stringify(sb)} instead.`);
return sb}catch(sb){return this._warningHistory[sb.message]||(this._warningHistory[sb.message]=!0,"undefined"!==typeof console&&console.warn(sb.message)),this._defaultValue}}}class ed{constructor(r,Q){this.kind=r;this._styleExpression=Q;this.isStateDependent="constant"!==r&&!bb(Q.expression)}evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb)}evaluate(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluate(r,Q,ma,Ma,gb,lb)}}class Zc{constructor(r,
Q,ma,Ma){this.kind=r;this.zoomStops=ma;this._styleExpression=Q;this.isStateDependent="camera"!==r&&!bb(Q.expression);this.interpolationType=Ma}evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluateWithoutErrorHandling(r,Q,ma,Ma,gb,lb)}evaluate(r,Q,ma,Ma,gb,lb){return this._styleExpression.evaluate(r,Q,ma,Ma,gb,lb)}interpolationFactor(r,Q,ma){return this.interpolationType?Sa.interpolationFactor(this.interpolationType,r,Q,ma):0}}class Pd{constructor(r,Q){this._parameters=
r;this._specification=Q;B(this,nc(this._parameters,this._specification))}static deserialize(r){return new Pd(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}const be={type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};var pd="type source source-layer minzoom maxzoom filter layout".split(" ");const Ad={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",
setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain"};class id{constructor(r,Q,ma,Ma){this.message=
(r?`${r}: `:"")+ma;Ma&&(this.identifier=Ma);null!==Q&&void 0!==Q&&Q.__line__&&(this.line=Q.__line__)}}class af{constructor(r){this.error=r;this.message=r.message;this.line=(r=r.message.match(/line (\d+)/))?parseInt(r[1],10):0}}const Wa={promoteId:function({key:r,value:Q}){if("string"===jb(Q))return zf({key:r,value:Q});{const ma=[];for(const Ma in Q)ma.push(...zf({key:`${r}.${Ma}`,value:Q[Ma]}));return ma}}},ob={["*"](){return[]},array:Dd,"boolean":function(r){const Q=r.value;r=r.key;const ma=jb(Q);
return"boolean"!==ma?[new id(r,Q,`boolean expected, ${ma} found`)]:[]},number:Ud,color:function(r){const Q=r.key;r=r.value;const ma=jb(r);return"string"!==ma?[new id(Q,r,`color expected, ${ma} found`)]:null===yf(r)?[new id(Q,r,`color expected, "${r}" found`)]:[]},constants:Tc,"enum":De,filter:fe,"function":ae,layer:he,object:Cd,source:Ue,light:Nf,terrain:me,string:zf,formatted:function(r){return 0===zf(r).length?[]:oe(r)},resolvedImage:function(r){return 0===zf(r).length?[]:oe(r)}};we.source=Xd(Ue);
we.light=Xd(Nf);we.terrain=Xd(me);we.layer=Xd(he);we.filter=Xd(fe);we.paintProperty=Xd(df);we.layoutProperty=Xd(Zd);var zb=N(function(r,Q){var ma=function(){function Ma(){this.yy={}}var gb=function(Jc,ud,ee,Sd){ee=ee||{};for(Sd=Jc.length;Sd--;ee[Jc[Sd]]=ud);return ee},lb=[1,12],sb=[1,13],Rb=[1,9],ec=[1,10],Vb=[1,11],Qc=[1,14],dd=[1,15],zd=[14,18,22,24],rd=[18,22],bd=[22,24];gb={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,
TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Jc,ud,
ee,Sd,ye,re,Pf){ud=re.length-1;switch(ye){case 1:this.$=new String(Jc.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(Jc);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;
case 6:return this.$=re[ud-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=re[ud-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[re[ud-2],re[ud]];break;case 16:this.$={};this.$[re[ud][0]]=re[ud][1];break;case 17:this.$=re[ud-2];re[ud-2][re[ud][0]]=re[ud][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});
break;case 20:this.$=[re[ud]];break;case 21:this.$=re[ud-2],re[ud-2].push(re[ud])}},table:[{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,12:1,13:2,15:7,16:8,17:Qc,23:dd},{1:[3]},{14:[1,16]},gb(zd,[2,7]),gb(zd,[2,8]),gb(zd,[2,9]),gb(zd,[2,10]),gb(zd,[2,11]),gb(zd,[2,12]),gb(zd,[2,3]),gb(zd,[2,4]),gb(zd,[2,5]),gb([14,18,21,22,24],[2,1]),gb(zd,[2,2]),{3:20,4:lb,18:[1,17],19:18,20:19},{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,13:23,15:7,16:8,17:Qc,23:dd,24:[1,21],25:22},{1:[2,6]},gb(zd,[2,13]),{18:[1,
24],22:[1,25]},gb(rd,[2,16]),{21:[1,26]},gb(zd,[2,18]),{22:[1,28],24:[1,27]},gb(bd,[2,20]),gb(zd,[2,14]),{3:20,4:lb,20:29},{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,13:30,15:7,16:8,17:Qc,23:dd},gb(zd,[2,19]),{3:5,4:lb,5:6,6:sb,7:3,8:Rb,9:4,10:ec,11:Vb,13:31,15:7,16:8,17:Qc,23:dd},gb(rd,[2,17]),gb(rd,[2,15]),gb(bd,[2,21])],defaultActions:{16:[2,6]},parseError:function(Jc,ud){if(ud.recoverable)this.trace(Jc);else throw Error(Jc);},parse:function(Jc){var ud=[0],ee=[null],Sd=[],ye=this.table,re="",
Pf=0,ke=0,pe=Sd.slice.call(arguments,1),Re=Object.create(this.lexer),xd={};for(Oe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Oe)&&(xd[Oe]=this.yy[Oe]);Re.setInput(Jc,xd);xd.lexer=Re;xd.parser=this;"undefined"==typeof Re.yylloc&&(Re.yylloc={});var Oe=Re.yylloc;Sd.push(Oe);var dg=Re.options&&Re.options.ranges;this.parseError="function"===typeof xd.parseError?xd.parseError:Object.getPrototypeOf(this).parseError;for(var Xe,$f,vf,Df={},Qf,Vf;;){$f=ud[ud.length-1];if(this.defaultActions[$f])vf=
this.defaultActions[$f];else{if(null===Xe||"undefined"==typeof Xe)Xe=Re.lex()||1,"number"!==typeof Xe&&(Xe=this.symbols_[Xe]||Xe);vf=ye[$f]&&ye[$f][Xe]}if("undefined"===typeof vf||!vf.length||!vf[0]){Vf=[];for(Qf in ye[$f])this.terminals_[Qf]&&2<Qf&&Vf.push("'"+this.terminals_[Qf]+"'");var Xg=Re.showPosition?"Parse error on line "+(Pf+1)+":\n"+Re.showPosition()+"\nExpecting "+Vf.join(", ")+", got '"+(this.terminals_[Xe]||Xe)+"'":"Parse error on line "+(Pf+1)+": Unexpected "+(1==Xe?"end of input":
"'"+(this.terminals_[Xe]||Xe)+"'");this.parseError(Xg,{text:Re.match,token:this.terminals_[Xe]||Xe,line:Re.yylineno,loc:Oe,expected:Vf})}if(vf[0]instanceof Array&&1<vf.length)throw Error("Parse Error: multiple actions possible at state: "+$f+", token: "+Xe);switch(vf[0]){case 1:ud.push(Xe);ee.push(Re.yytext);Sd.push(Re.yylloc);ud.push(vf[1]);Xe=null;ke=Re.yyleng;re=Re.yytext;Pf=Re.yylineno;Oe=Re.yylloc;break;case 2:Vf=this.productions_[vf[1]][1];Df.$=ee[ee.length-Vf];Df._$={first_line:Sd[Sd.length-
(Vf||1)].first_line,last_line:Sd[Sd.length-1].last_line,first_column:Sd[Sd.length-(Vf||1)].first_column,last_column:Sd[Sd.length-1].last_column};dg&&(Df._$.range=[Sd[Sd.length-(Vf||1)].range[0],Sd[Sd.length-1].range[1]]);$f=this.performAction.apply(Df,[re,ke,Pf,xd,vf[1],ee,Sd].concat(pe));if("undefined"!==typeof $f)return $f;Vf&&(ud=ud.slice(0,-2*Vf),ee=ee.slice(0,-1*Vf),Sd=Sd.slice(0,-1*Vf));ud.push(this.productions_[vf[1]][0]);ee.push(Df.$);Sd.push(Df._$);vf=ye[ud[ud.length-2]][ud[ud.length-1]];
ud.push(vf);break;case 3:return!0}}}};lb=function(){return{EOF:1,parseError:function(Jc,ud){if(this.yy.parser)this.yy.parser.parseError(Jc,ud);else throw Error(Jc);},setInput:function(Jc,ud){this.yy=ud||this.yy||{};this._input=Jc;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},
input:function(){var Jc=this._input[0];this.yytext+=Jc;this.yyleng++;this.offset++;this.match+=Jc;this.matched+=Jc;Jc.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return Jc},unput:function(Jc){var ud=Jc.length,ee=Jc.split(/(?:\r\n?|\n)/g);this._input=Jc+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-ud);this.offset-=ud;Jc=this.match.split(/(?:\r\n?|\n)/g);this.match=
this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);ee.length-1&&(this.yylineno-=ee.length-1);var Sd=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ee?(ee.length===Jc.length?this.yylloc.first_column:0)+Jc[Jc.length-ee.length].length-ee[0].length:this.yylloc.first_column-ud};this.options.ranges&&(this.yylloc.range=[Sd[0],Sd[0]+this.yyleng-ud]);this.yyleng=this.yytext.length;
return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Jc){this.unput(this.match.slice(Jc))},pastInput:function(){var Jc=this.matched.substr(0,
this.matched.length-this.match.length);return(20<Jc.length?"...":"")+Jc.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Jc=this.match;20>Jc.length&&(Jc+=this._input.substr(0,20-Jc.length));return(Jc.substr(0,20)+(20<Jc.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Jc=this.pastInput(),ud=Array(Jc.length+1).join("-");return Jc+this.upcomingInput()+"\n"+ud+"^"},test_match:function(Jc,ud){var ee;if(this.options.backtrack_lexer){var Sd={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,
last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};this.options.ranges&&(Sd.yylloc.range=this.yylloc.range.slice(0))}if(ee=Jc[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=ee.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+
1,first_column:this.yylloc.last_column,last_column:ee?ee[ee.length-1].length-ee[ee.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Jc[0].length};this.yytext+=Jc[0];this.match+=Jc[0];this.matches=Jc;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Jc[0].length);this.matched+=Jc[0];Jc=this.performAction.call(this,this.yy,this,ud,this.conditionStack[this.conditionStack.length-
1]);this.done&&this._input&&(this.done=!1);if(Jc)return Jc;if(this._backtrack)for(var ye in Sd)this[ye]=Sd[ye];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Jc;this._more||(this.match=this.yytext="");for(var ud=this._currentRules(),ee=0;ee<ud.length;ee++)if((Jc=this._input.match(this.rules[ud[ee]]))&&(!Sd||Jc[0].length>Sd[0].length)){var Sd=Jc;var ye=ee;if(this.options.backtrack_lexer){Sd=this.test_match(Jc,ud[ee]);if(!1!==Sd)return Sd;if(this._backtrack)Sd=
!1;else return!1}else if(!this.options.flex)break}return Sd?(Sd=this.test_match(Sd,ud[ye]),!1!==Sd?Sd:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Jc=this.next();return Jc?Jc:this.lex()},begin:function(Jc){this.conditionStack.push(Jc)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&
this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Jc){Jc=this.conditionStack.length-1-Math.abs(Jc||0);return 0<=Jc?this.conditionStack[Jc]:"INITIAL"},pushState:function(Jc){this.begin(Jc)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Jc,ud,ee,Sd){switch(ee){case 1:return 6;case 2:return ud.yytext=ud.yytext.substr(1,ud.yyleng-2),
4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,
2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();gb.lexer=lb;Ma.prototype=gb;gb.Parser=Ma;return new Ma}();"undefined"!==typeof H&&(Q.parser=ma,Q.Parser=ma.Parser,Q.parse=function(){return ma.parse.apply(ma,arguments)})});const Mb={StyleExpression:Ec,isExpression:rc,isExpressionFilter:Ed,createExpression:Pc,createPropertyExpression:sc,normalizePropertyExpression:function(r,Q){if(Fb(r))return new Pd(r,Q);if(rc(r)){r=sc(r,Q);if("error"===r.result)throw Error(r.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));
return r.value}{let ma=r;"string"===typeof r&&"color"===Q.type&&(ma=Pe.parse(r));return{kind:"constant",evaluate:()=>ma}}},ZoomConstantExpression:ed,ZoomDependentExpression:Zc,StylePropertyFunction:Pd},bc={convertFunction:Lc,createFunction:nc,isFunction:Fb},Kc={eachSource:m,eachLayer:g,eachProperty:d};jf.parsed=jf;jf.latest=jf;l.Color=Pe;l.ParsingError=af;l.ValidationError=id;l.composite=function(r){const Q=[],ma=[],Ma=[];for(const sb in r.sources){var gb=r.sources[sb];"vector"===gb.type&&(gb=/^mapbox:\/\/(.*)/.exec(gb.url))&&
(Q.push(sb),ma.push(gb[1]))}if(2>Q.length)return r;Q.forEach(sb=>{delete r.sources[sb]});const lb=ma.join(",");r.sources[lb]={type:"vector",url:`mapbox://${lb}`};r.layers.forEach(sb=>{if(0<=Q.indexOf(sb.source)&&(sb.source=lb,"source-layer"in sb)){if(0<=Ma.indexOf(sb["source-layer"]))throw Error("Conflicting source layer names");Ma.push(sb["source-layer"])}});return r};l.convertFilter=Ac;l.derefLayers=function(r){r=r.slice();const Q=Object.create(null);for(var ma=0;ma<r.length;ma++)Q[r[ma].id]=r[ma];
for(ma=0;ma<r.length;ma++)"ref"in r[ma]&&(r[ma]=Bc(r[ma],Q[r[ma].ref]));return r};l.diff=function(r,Q){if(!r)return[{command:Ad.setStyle,args:[Q]}];let ma=[];try{if(!Cc(r.version,Q.version))return[{command:Ad.setStyle,args:[Q]}];Cc(r.center,Q.center)||ma.push({command:Ad.setCenter,args:[Q.center]});Cc(r.zoom,Q.zoom)||ma.push({command:Ad.setZoom,args:[Q.zoom]});Cc(r.bearing,Q.bearing)||ma.push({command:Ad.setBearing,args:[Q.bearing]});Cc(r.pitch,Q.pitch)||ma.push({command:Ad.setPitch,args:[Q.pitch]});
Cc(r.sprite,Q.sprite)||ma.push({command:Ad.setSprite,args:[Q.sprite]});Cc(r.glyphs,Q.glyphs)||ma.push({command:Ad.setGlyphs,args:[Q.glyphs]});Cc(r.transition,Q.transition)||ma.push({command:Ad.setTransition,args:[Q.transition]});Cc(r.light,Q.light)||ma.push({command:Ad.setLight,args:[Q.light]});const Ma={},gb=[];Xc(r.sources,Q.sources,gb,Ma);const lb=[];r.layers&&r.layers.forEach(Rb=>{Ma[Rb.source]?ma.push({command:Ad.removeLayer,args:[Rb.id]}):lb.push(Rb)});let sb=r.terrain;sb&&Ma[sb.source]&&(ma.push({command:Ad.setTerrain,
args:[void 0]}),sb=void 0);ma=ma.concat(gb);Cc(sb,Q.terrain)||ma.push({command:Ad.setTerrain,args:[Q.terrain]});uc(lb,Q.layers,ma)}catch(Ma){console.warn("Unable to compute style diff:",Ma),ma=[{command:Ad.setStyle,args:[Q]}]}return ma};l.expression=Mb;l.featureFilter=function(r){if(null===r||void 0===r)return{filter:()=>!0,needGeometry:!1};Ed(r)||(r=eb(r));const Q=Pc(r,be);if("error"===Q.result)throw Error(Q.value.map(ma=>`${ma.key}: ${ma.message}`).join(", "));return{filter:(ma,Ma,gb)=>Q.value.evaluate(ma,
Ma,{},gb),needGeometry:Ka(r)}};l.format=function(r,Q=2){r=w(r,Gc.$root);r.layers&&(r.layers=r.layers.map(ma=>w(ma,Gc.layer)));return le(r,{indent:Q})};l.function=bc;l.latest=Gc;l.migrate=function(r){let Q=!1;7===r.version&&(r=y(r),Q=!0);8===r.version&&(mc(r),Q=!0);if(!Q)throw Error("cannot migrate from",r.version);return r};l.v8=Gc;l.validate=jf;l.validateMapboxApiSupported=function(r){try{r=Be(r)}catch(ma){return[ma]}let Q=we(r,Gc).concat(Xf(r,Object.keys(Gc.$root)));r.sources&&(Q=Q.concat(Ye(r.sources)));
return Q};l.visit=Kc;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[333]=function(Ja,A,rb,E){function k(g,d){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(g,d);var f=document.createElement("canvas");f.width=g;f.height=d;return f}function l(g,d){if(.05<=d){var f="";g=g.split("\n");d=v.slice(0,Math.round(d/.1));for(var a=0,e=g.length;a<e;++a)0<a&&(f+="\n"),f+=g[a].split("").join(d);return f}return g}function w(){u||(u=k(1,1).getContext("2d"));return u}function H(g,
d){return w().measureText(g).width+(g.length-1)*d}function N(g,d,f,a){if(-1!==g.indexOf("\n")){var e=g.split("\n");g=[];for(var n=0,y=e.length;n<y;++n)g.push(N(e[n],d,f,a));return g.join("\n")}e=f+","+d+","+g+","+a;n=m[e];if(!n){var B=g.split(" ");if(1<B.length){g=w();g.font=d;d=g.measureText("M").width*f;f="";g=[];n=0;for(y=B.length;n<y;++n){var D=B[n],O=f+(f?" ":"")+D;H(O,a)<=d?f=O:(f&&g.push(f),f=D)}f&&g.push(f);n=0;for(y=g.length;n<y&&1<y;++n)B=g[n],H(B,a)<.35*d&&(f=0<n?H(g[n-1],a):Infinity,D=
n<y-1?H(g[n+1],a):Infinity,g.splice(n,1),--y,f<D?(g[n-1]+=" "+B,--n):g[n]=B+" "+g[n]);n=0;for(y=g.length-1;n<y;++n)f=g[n],B=g[n+1],H(f,a)>.7*d&&H(B,a)<.6*d&&(f=f.split(" "),D=f.pop(),H(D,a)<.2*d&&(g[n]=f.join(" "),g[n+1]=D+" "+B),--y);n=g.join("\n")}else n=g;n=l(n,a);m[e]=n}return n}Object.defineProperty(E,"__esModule",{value:!0});E.deg2rad=function(g){return g*Math.PI/180};E.createCanvas=k;E.getZoomForResolution=function(g,d){for(var f=0,a=d.length;f<a;++f)if(d[f]<g&&f+1<a)return f+Math.log(d[f]/
g)/Math.log(d[f]/d[f+1]);return a-1};E.applyLetterSpacing=l;E.wrapText=N;E.defaultResolutions=E.assign=void 0;Ja=A(87);rb=function(g){return g&&g.__esModule?g:{"default":g}}(A(86));A=A(102);E.assign="function"===typeof Object.assign?Object.assign:function(g,d){if(void 0===g||null===g)throw new TypeError("Cannot convert undefined or null to object");for(var f=Object(g),a=1,e=arguments.length;a<e;++a){var n=arguments[a];if(void 0!==n&&null!==n)for(var y in n)n.hasOwnProperty(y)&&(f[y]=n[y])}return f};
var x=function(){for(var g=[],d=78271.51696402048;24>=g.length;d/=2)g.push(d);return g}();E.defaultResolutions=x;var v=Array(256).join(""),u,m={};A.labelCache&&(0,Ja.listen)(A.labelCache,rb["default"].CLEAR,function(){m={}})};
shadow$provide[334]=function(Ja,A,rb,E){function k(Z){return Z&&Z.__esModule?Z:{"default":Z}}function l(Z,P,C,V,ia){var aa=Z.id;R[aa]||(R[aa]={});aa=R[aa];if(!aa[C]){var ya=(Z[P]||G)[C];Z=a.latest[P+"_"+Z.type][C];void 0===ya&&(ya=Z["default"]);P=D(ya);!P&&y(ya)&&(ya=B(ya,Z),P=!0);P?(Z=z(ya,Z),aa[C]=Z.evaluate.bind(Z)):("color"==Z.type&&(ya=a.Color.parse(ya)),aa[C]=function(){return ya})}K.zoom=V;return aa[C](K,ia)}function w(Z,P,C,V){Z in fa||(fa[Z]=(0,a.featureFilter)(P).filter);K.zoom=V;return fa[Z](K,
C)}function H(Z,P){if(Z){if(0===Z.a||0===P)return;var C=Z.a;return"rgba("+Math.round(255*Z.r/C)+","+Math.round(255*Z.g/C)+","+Math.round(255*Z.b/C)+","+C*(void 0===P?1:P)+")"}return Z}function N(Z,P){var C;do(C=Z.match(ha))&&(Z=C[1]+(P[C[2]]||"")+C[3]);while(C);return Z}Object.defineProperty(E,"__esModule",{value:!0});E._getValue=E.getValue=l;E.recordStyleLayer=function(Z){la=Z};E["default"]=function(Z,P,C,V,ia,aa,ya){void 0===V&&(V=n.defaultResolutions);"string"==typeof P&&(P=JSON.parse(P));if(8!=
P.version)throw Error("glStyle version 8 required.");var va,Ia;if(aa)if("undefined"!==typeof Image){var bb=new Image;bb.crossOrigin="anonymous";bb.onload=function(){va=bb;Ia=[bb.width,bb.height];Z.changed();bb.onload=null};bb.src=aa}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var kb=self;kb.postMessage({action:"loadImage",src:aa});kb.addEventListener("message",function(db){"imageLoaded"===db.data.action&&db.data.src===aa&&(va=db.data.image,Ia=[va.width,va.height])})}var ua=
(0,a.derefLayers)(P.layers),Ta={};kb=[];for(var Ya,Da=0,ta=ua.length;Da<ta;++Da){var U=ua[Da],W=U.id;if("string"==typeof C&&U.source==C||-1!==C.indexOf(W)){var ba=U["source-layer"];if(!Ya){Ya=U.source;var ca=P.sources[Ya];if(!ca)throw Error('Source "'+Ya+'" is not defined');ca=ca.type;if("vector"!==ca&&"geojson"!==ca)throw Error('Source "'+Ya+'" is not of type "vector" or "geojson", but "'+ca+'"');}(ca=Ta[ba])||(ca=Ta[ba]=[]);ca.push({layer:U,index:Da});kb.push(W)}delete R[W];delete fa[W]}var ra=
new u["default"],qa=new v["default"],Fa={},na={},Ra=[];P=function(db,$a){var Ca=db.getProperties(),Ga=Ta[Ca.layer];if(Ga){var pa=V.indexOf($a);-1==pa&&(pa=(0,n.getZoomForResolution)($a,V));var Ha=M[db.getGeometry().getType()],Ua={properties:Ca,type:Ha},jb=-1,Fb,Xb=function(pc,Hc){var mb=Ga[pc];pc=mb.layer;Hc=pc.id;var hc=pc.layout||G,jc=pc.paint||G;if("none"===hc.visibility||"minzoom"in pc&&pa<pc.minzoom||"maxzoom"in pc&&pa>=pc.maxzoom)return"continue";var rc=pc.filter;if(!rc||w(Hc,rc,Ua,pa)){Fb=
pc;var Pc=void 0,sc=rc=void 0,Uc=sc=void 0;Hc=void 0;mb=mb.index;if(3==Ha&&("fill"==pc.type||"fill-extrusion"==pc.type))if(rc=l(pc,"paint",pc.type+"-opacity",pa,Ua),pc.type+"-pattern"in jc){if(sc=l(pc,"paint",pc.type+"-pattern",pa,Ua))if(Pc="string"===typeof sc?N(sc,Ca):sc.toString(),va&&ia&&ia[Pc]){++jb;Hc=Ra[jb];if(!Hc||!Hc.getFill()||Hc.getStroke()||Hc.getText())Hc=Ra[jb]=new x["default"]({fill:new v["default"]});sc=Hc.getFill();Hc.setZIndex(mb);var Sc=Pc+"."+rc;Uc=na[Sc];if(!Uc){var Lc=ia[Pc],
Fd=(0,n.createCanvas)(Lc.width,Lc.height),ge=Fd.getContext("2d");ge.globalAlpha=rc;ge.drawImage(va,Lc.x,Lc.y,Lc.width,Lc.height,0,0,Lc.width,Lc.height);Uc=ge.createPattern(Fd,"repeat");na[Sc]=Uc}sc.setColor(Uc)}}else if(Pc=H(l(pc,"paint",pc.type+"-color",pa,Ua),rc))pc.type+"-outline-color"in jc&&(Uc=H(l(pc,"paint",pc.type+"-outline-color",pa,Ua),rc)),Uc||(Uc=Pc),++jb,(Hc=Ra[jb])&&Hc.getFill()&&Hc.getStroke()&&!Hc.getText()||(Hc=Ra[jb]=new x["default"]({fill:new v["default"],stroke:new u["default"]})),
sc=Hc.getFill(),sc.setColor(Pc),sc=Hc.getStroke(),sc.setColor(Uc),sc.setWidth(1),Hc.setZIndex(mb);if(1!=Ha&&"line"==pc.type){Pc=!("line-pattern"in jc)&&"line-color"in jc?H(l(pc,"paint","line-color",pa,Ua),l(pc,"paint","line-opacity",pa,Ua)):void 0;var wd=l(pc,"paint","line-width",pa,Ua);if(Pc&&0<wd){++jb;Hc=Ra[jb];if(!Hc||!Hc.getStroke()||Hc.getFill()||Hc.getText())Hc=Ra[jb]=new x["default"]({stroke:new u["default"]});sc=Hc.getStroke();sc.setLineCap(l(pc,"layout","line-cap",pa,Ua));sc.setLineJoin(l(pc,
"layout","line-join",pa,Ua));sc.setMiterLimit(l(pc,"layout","line-miter-limit",pa,Ua));sc.setColor(Pc);sc.setWidth(wd);sc.setLineDash(jc["line-dasharray"]?l(pc,"paint","line-dasharray",pa,Ua).map(function(ac){return ac*wd}):null);Hc.setZIndex(mb)}}Pc=!1;sc=null;var vd=0;Uc=Lc=ge=void 0;if((1==Ha||2==Ha)&&"icon-image"in hc){var Wd=l(pc,"layout","icon-image",pa,Ua);if(Wd&&(ge="string"===typeof Wd?N(Wd,Ca):Wd.toString(),Wd=void 0,va&&ia&&ia[ge])){Fd=l(pc,"layout","icon-rotation-alignment",pa,Ua);if(2==
Ha){var Pb=db.getGeometry();if(Pb.getFlatMidpoint||Pb.getFlatMidpoints)if(Sc=Pb.getExtent(),150<Math.sqrt(Math.max(Math.pow((Sc[2]-Sc[0])/$a,2),Math.pow((Sc[3]-Sc[1])/$a,2)))){Sc="MultiLineString"===Pb.getType()?Pb.getFlatMidpoints():Pb.getFlatMidpoint();ja||(T=[NaN,NaN],ja=new f["default"]("Point",T,[],{},null));Wd=ja;T[0]=Sc[0];T[1]=Sc[1];var gc=l(pc,"layout","symbol-placement",pa,Ua);if("line"===gc&&"map"===Fd){gc=Pb.getStride();Pb=Pb.getFlatCoordinates();for(var Eb=0,zc=Pb.length-gc;Eb<zc;Eb+=
gc){var Vc=Pb[Eb],Ed=Pb[Eb+1],Vd=Pb[Eb+gc],Ka=Pb[Eb+gc+1],eb=Math.min(Ed,Ka),wb=Math.max(Vc,Vd),Hb=Math.max(Ed,Ka);if(Sc[0]>=Math.min(Vc,Vd)&&Sc[0]<=wb&&Sc[1]>=eb&&Sc[1]<=Hb){vd=Math.atan2(Ed-Ka,Vd-Vc);break}}}}}if(2!==Ha||Wd){gc=l(pc,"layout","icon-size",pa,Ua);Pb=void 0!==jc["icon-color"]?l(pc,"paint","icon-color",pa,Ua):null;if(!Pb||0!==Pb.a)if(Sc=ge+"."+gc,null!==Pb&&(Sc+="."+Pb),Lc=Fa[Sc],!Lc)if(Lc=ia[ge],null!==Pb){Fd=(0,n.createCanvas)(Lc.width,Lc.height);ge=Fd.getContext("2d");ge.drawImage(va,
Lc.x,Lc.y,Lc.width,Lc.height,0,0,Lc.width,Lc.height);Eb=ge.getImageData(0,0,Fd.width,Fd.height);zc=0;for(Vc=Eb.data.length;zc<Vc;zc+=4)Ed=Pb.a,0!==Ed&&(Eb.data[zc]=255*Pb.r/Ed,Eb.data[zc+1]=255*Pb.g/Ed,Eb.data[zc+2]=255*Pb.b/Ed),Eb.data[zc+3]=Ed;ge.putImageData(Eb,0,0);Lc=Fa[Sc]=new m["default"]({img:Fd,imgSize:[Fd.width,Fd.height],scale:gc/Lc.pixelRatio})}else Lc=Fa[Sc]=new m["default"]({img:va,imgSize:Ia,size:[Lc.width,Lc.height],offset:[Lc.x,Lc.y],rotateWithView:"map"===Fd,scale:gc/Lc.pixelRatio});
if(Lc){++jb;Hc=Ra[jb];if(!Hc||!Hc.getImage()||Hc.getFill()||Hc.getStroke())Hc=Ra[jb]=new x["default"];Hc.setGeometry(Wd);Lc.setRotation(vd+(0,n.deg2rad)(l(pc,"layout","icon-rotate",pa,Ua)));Lc.setOpacity(l(pc,"paint","icon-opacity",pa,Ua));Lc.setAnchor(F[l(pc,"layout","icon-anchor",pa,Ua)]);Hc.setImage(Lc);sc=Hc.getText();Hc.setText(void 0);Hc.setZIndex(mb);Pc=!0;Uc=!1}}else Uc=!0}}if(1==Ha&&"circle-radius"in jc){++jb;Hc=Ra[jb];if(!Hc||!Hc.getImage()||Hc.getFill()||Hc.getStroke())Hc=Ra[jb]=new x["default"];
sc=l(pc,"paint","circle-radius",pa,Ua);Pc=H(l(pc,"paint","circle-stroke-color",pa,Ua),l(pc,"paint","circle-stroke-opacity",pa,Ua));jc=H(l(pc,"paint","circle-color",pa,Ua),l(pc,"paint","circle-opacity",pa,Ua));vd=l(pc,"paint","circle-stroke-width",pa,Ua);Wd=sc+"."+Pc+"."+jc+"."+vd;(Lc=Fa[Wd])||(Lc=Fa[Wd]=new d["default"]({radius:sc,stroke:Pc&&0<vd?new u["default"]({width:vd,color:Pc}):void 0,fill:jc?new v["default"]({color:jc}):void 0}));Hc.setImage(Lc);sc=Hc.getText();Hc.setText(void 0);Hc.setGeometry(void 0);
Hc.setZIndex(mb);Pc=!0}vd=void 0;"text-field"in hc&&(rc=l(pc,"layout","text-field",pa,Ua).toString(),vd=N(rc,Ca).trim(),rc=l(pc,"paint","text-opacity",pa,Ua));if(vd&&rc&&!Uc){if(!Pc){++jb;Hc=Ra[jb];if(!Hc||!Hc.getText()||Hc.getFill()||Hc.getStroke())Hc=Ra[jb]=new x["default"];Hc.setImage(void 0);Hc.setGeometry(void 0)}Hc.getText()||Hc.setText(sc||new g["default"]({padding:[2,2,2,2]}));sc=Hc.getText();jc=Math.round(l(pc,"layout","text-size",pa,Ua));Wd=l(pc,"layout","text-font",pa,Ua);Uc=l(pc,"layout",
"text-line-height",pa,Ua);Wd=(0,e["default"])(ya?ya(Wd):Wd,jc,Uc);hc=hc["text-transform"];"uppercase"==hc?vd=vd.toUpperCase():"lowercase"==hc&&(vd=vd.toLowerCase());hc=l(pc,"layout","text-max-width",pa,Ua);Lc=l(pc,"layout","text-letter-spacing",pa,Ua);Sc=2==Ha?(0,n.applyLetterSpacing)(vd,Lc):(0,n.wrapText)(vd,Wd,hc,Lc);sc.setText(Sc);sc.setFont(Wd);sc.setRotation((0,n.deg2rad)(l(pc,"layout","text-rotate",pa,Ua)));Wd=l(pc,"layout","text-anchor",pa,Ua);gc=Pc||1==Ha?"point":l(pc,"layout","symbol-placement",
pa,Ua);sc.setPlacement(gc);hc=l(pc,"paint","text-halo-width",pa,Ua);Pc=l(pc,"layout","text-offset",pa,Ua);Lc=l(pc,"paint","text-translate",pa,Ua);ge=Fd=0;"point"==gc?(vd="center",-1!==Wd.indexOf("left")?(vd="left",ge=hc):-1!==Wd.indexOf("right")&&(vd="right",ge=-hc),sc.setTextAlign(vd),vd=l(pc,"layout","text-rotation-alignment",pa,Ua),sc.setRotateWithView("map"==vd)):(sc.setMaxAngle((0,n.deg2rad)(l(pc,"layout","text-max-angle",pa,Ua))*vd.length/Sc.length),sc.setTextAlign(),sc.setRotateWithView(!1));
vd="middle";0==Wd.indexOf("bottom")?(vd="bottom",Fd=-hc-.5*(Uc-1)*jc):0==Wd.indexOf("top")&&(vd="top",Fd=hc+.5*(Uc-1)*jc);sc.setTextBaseline(vd);sc.setOffsetX(Pc[0]*jc+ge+Lc[0]);sc.setOffsetY(Pc[1]*jc+Fd+Lc[1]);qa.setColor(H(l(pc,"paint","text-color",pa,Ua),rc));sc.setFill(qa);(rc=H(l(pc,"paint","text-halo-color",pa,Ua),rc))?(ra.setColor(rc),hc*=2,rc=.5*jc,ra.setWidth(hc<=rc?hc:rc),sc.setStroke(ra)):sc.setStroke(void 0);pc=l(pc,"layout","text-padding",pa,Ua);rc=sc.getPadding();pc!==rc[0]&&(rc[0]=
rc[1]=rc[2]=rc[3]=pc);Hc.setZIndex(mb)}}},nc=0,md=Ga.length;for(;nc<md;++nc)Xb(nc,md);if(-1<jb)return Ra.length=jb+1,la&&("function"===typeof db.set?db.set("mapbox-layer",Fb):db.getProperties()["mapbox-layer"]=Fb),Ra}};Z.setStyle(P);Z.set("mapbox-source",Ya);Z.set("mapbox-layers",kb);return P};E._colorWithOpacity=H;E._evaluateFilter=w;E._fromTemplate=N;E._functionCache=E._filterCache=void 0;var x=k(A(204)),v=k(A(202)),u=k(A(203)),m=k(A(228)),g=k(A(229)),d=k(A(201)),f=k(A(326)),a=A(332),e=k(A(331)),
n=A(333),y=a["function"].isFunction,B=a["function"].convertFunction,D=a.expression.isExpression,O=a.expression.createPropertyExpression,M={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},F={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},z=function(Z,P){Z=O(Z,P);if("error"===Z.result)throw Error(Z.value.map(function(C){return C.key+": "+C.message}).join(", "));return Z.value},
G={},K={zoom:0},R={};E._functionCache=R;var T,ja,fa={};E._filterCache=fa;var ha=/^([^]*)\{(.*)\}([^]*)$/,la=!1};
shadow$provide[335]=function(Ja,A,rb,E){(function(){rb.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return k},getLink:function(l){return"https://fonts.google.com/specimen/"+l.replace(/( )/g,"+")},normalizeName:function(l){return l}};var k="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[336]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}function l(x){return"string"===typeof x?(x=JSON.parse(x))?x:null:null!==x?x:null}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(250));var w=k(A(184)),H=A(72),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,
u){function m(){this.constructor=v}x(v,u);v.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(){return x.call(this)||this}N(v,x);v.prototype.getType=function(){return w["default"].JSON};v.prototype.readFeature=function(u,m){return this.readFeatureFromObject(l(u),this.getReadOptions(u,m))};v.prototype.readFeatures=function(u,m){return this.readFeaturesFromObject(l(u),this.getReadOptions(u,m))};v.prototype.readFeatureFromObject=function(u,m){return(0,H["abstract"])()};
v.prototype.readFeaturesFromObject=function(u,m){return(0,H["abstract"])()};v.prototype.readGeometry=function(u,m){return this.readGeometryFromObject(l(u),this.getReadOptions(u,m))};v.prototype.readGeometryFromObject=function(u,m){return(0,H["abstract"])()};v.prototype.readProjection=function(u){return this.readProjectionFromObject(l(u))};v.prototype.readProjectionFromObject=function(u){return(0,H["abstract"])()};v.prototype.writeFeature=function(u,m){return JSON.stringify(this.writeFeatureObject(u,
m))};v.prototype.writeFeatureObject=function(u,m){return(0,H["abstract"])()};v.prototype.writeFeatures=function(u,m){return JSON.stringify(this.writeFeaturesObject(u,m))};v.prototype.writeFeaturesObject=function(u,m){return(0,H["abstract"])()};v.prototype.writeGeometry=function(u,m){return JSON.stringify(this.writeGeometryObject(u,m))};v.prototype.writeGeometryObject=function(u,m){return(0,H["abstract"])()};return v}(Ja["default"]);E["default"]=A};
shadow$provide[337]=function(Ja,A,rb,E){function k(M){return M&&M.__esModule?M:{"default":M}}function l(M,F){if(!M)return null;switch(M.type){case u["default"].POINT:M=new a["default"](M.coordinates);break;case u["default"].LINE_STRING:M=new m["default"](M.coordinates);break;case u["default"].POLYGON:M=new e["default"](M.coordinates);break;case u["default"].MULTI_POINT:M=new d["default"](M.coordinates);break;case u["default"].MULTI_LINE_STRING:M=new g["default"](M.coordinates);break;case u["default"].MULTI_POLYGON:M=
new f["default"](M.coordinates);break;case u["default"].GEOMETRY_COLLECTION:M=w(M);break;default:throw Error("Unsupported GeoJSON type: "+M.type);}return(0,D.transformGeometryWithOptions)(M,!1,F)}function w(M,F){M=M.geometries.map(function(z){return l(z,F)});return new v["default"](M)}function H(M,F){M=(0,D.transformGeometryWithOptions)(M,!0,F);var z=M.getType();switch(z){case u["default"].POINT:M={type:"Point",coordinates:M.getCoordinates()};break;case u["default"].LINE_STRING:M={type:"LineString",
coordinates:M.getCoordinates()};break;case u["default"].POLYGON:if(F)var G=F.rightHanded;M={type:"Polygon",coordinates:M.getCoordinates(G)};break;case u["default"].MULTI_POINT:M={type:"MultiPoint",coordinates:M.getCoordinates()};break;case u["default"].MULTI_LINE_STRING:M={type:"MultiLineString",coordinates:M.getCoordinates()};break;case u["default"].MULTI_POLYGON:if(F)var K=F.rightHanded;M={type:"MultiPolygon",coordinates:M.getCoordinates(K)};break;case u["default"].GEOMETRY_COLLECTION:M=N(M,F);
break;case u["default"].CIRCLE:M={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+z);}return M}function N(M,F){return{type:"GeometryCollection",geometries:M.getGeometriesArray().map(function(z){var G=(0,y.assign)({},F);delete G.featureProjection;return H(z,G)})}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;var x=k(A(188)),v=k(A(249)),u=k(A(117));Ja=k(A(336));var m=k(A(191)),g=k(A(192)),d=k(A(193)),f=k(A(195)),a=k(A(143)),e=k(A(150)),
n=A(74),y=A(84),B=A(128),D=A(250),O=function(){var M=function(F,z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,K){G.__proto__=K}||function(G,K){for(var R in K)Object.prototype.hasOwnProperty.call(K,R)&&(G[R]=K[R])};return M(F,z)};return function(F,z){function G(){this.constructor=F}M(F,z);F.prototype=null===z?Object.create(z):(G.prototype=z.prototype,new G)}}();A=function(M){function F(z){var G=z?z:{};z=M.call(this)||this;z.dataProjection=(0,B.get)(G.dataProjection?G.dataProjection:
"EPSG:4326");G.featureProjection&&(z.defaultFeatureProjection=(0,B.get)(G.featureProjection));z.geometryName_=G.geometryName;z.extractGeometryName_=G.extractGeometryName;return z}O(F,M);F.prototype.readFeatureFromObject=function(z,G){z="Feature"===z.type?z:{type:"Feature",geometry:z,properties:null};G=l(z.geometry,G);var K=new x["default"];this.geometryName_?K.setGeometryName(this.geometryName_):this.extractGeometryName_&&K.setGeometryName(z.geometry_name);K.setGeometry(G);"id"in z&&K.setId(z.id);
z.properties&&K.setProperties(z.properties,!0);return K};F.prototype.readFeaturesFromObject=function(z,G){if("FeatureCollection"===z.type){var K=[];z=z.features;for(var R=0,T=z.length;R<T;++R)K.push(this.readFeatureFromObject(z[R],G))}else K=[this.readFeatureFromObject(z,G)];return K};F.prototype.readGeometryFromObject=function(z,G){return l(z,G)};F.prototype.readProjectionFromObject=function(z){z=z.crs;var G;z?"name"==z.type?G=(0,B.get)(z.properties.name):"EPSG"===z.type?G=(0,B.get)("EPSG:"+z.properties.code):
(0,n.assert)(!1,36):G=this.dataProjection;return G};F.prototype.writeFeatureObject=function(z,G){G=this.adaptOptions(G);var K={type:"Feature",geometry:null,properties:null},R=z.getId();void 0!==R&&(K.id=R);if(!z.hasProperties())return K;R=z.getProperties();var T=z.getGeometry();T&&(K.geometry=H(T,G),delete R[z.getGeometryName()]);(0,y.isEmpty)(R)||(K.properties=R);return K};F.prototype.writeFeaturesObject=function(z,G){G=this.adaptOptions(G);for(var K=[],R=0,T=z.length;R<T;++R)K.push(this.writeFeatureObject(z[R],
G));return{type:"FeatureCollection",features:K}};F.prototype.writeGeometryObject=function(z,G){return H(z,this.adaptOptions(G))};return F}(Ja["default"]);E["default"]=A};
shadow$provide[338]=function(Ja,A,rb,E){function k(){if("function"!==typeof WeakMap)return null;var Da=new WeakMap;k=function(){return Da};return Da}function l(Da){return Da&&Da.__esModule?Da:{"default":Da}}function w(Da){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(ta){return typeof ta}:function(ta){return ta&&"function"===typeof Symbol&&ta.constructor===Symbol&&ta!==Symbol.prototype?"symbol":typeof ta};return w(Da)}function H(Da){if(!Ia){Ia={};for(var ta=document.styleSheets,
U=0,W=ta.length;U<W;++U){var ba=ta[U];try{var ca=ba.rules||ba.cssRules;if(ca){ba=0;for(var ra=ca.length;ba<ra;++ba){var qa=ca[ba];if(5==qa.type){var Fa=qa.cssText.match(ya);Ia[Fa[1].replace(va,"")]=!0}}}}catch(na){}}}return Da in Ia}function N(Da){var ta=Da.toString();if(ta in bb)return Da;for(var U=Da.map(function(qa){qa=(0,O["default"])(qa,1).split(" ");return[qa.slice(3).join(" ").replace(/"/g,""),qa[1]+qa[0]]}),W=0,ba=U.length;W<ba;++W){var ca=U[W],ra=ca[0];H(ra)||-1===kb.indexOf(ra)||(ca="https://fonts.googleapis.com/css?family\x3d"+
ra.replace(/ /g,"+")+":"+ca[1],document.querySelector('link[href\x3d"'+ca+'"]')||(ra=document.createElement("link"),ra.href=ca,ra.rel="stylesheet",document.head.appendChild(ra)))}bb[ta]=!0;return Da}function x(Da,ta){ta&&0===Da.indexOf(".")&&(Da=ta+Da);return Da}function v(Da,ta,U){Da=x(Da,ta);return(ta=Da.match(ua))?ta[1]+U+(2<ta.length?ta[2]:""):Da+U}function u(Da,ta,U,W,ba){return new Promise(function(ca,ra){function qa(){Ra||ta.sprite&&!Fa?Ra?(Da.setStyle(Ra),ca()):ra(Error("Something went wrong trying to apply style.")):
(Ra=(0,M["default"])(Da,ta,U,ba,Fa,na,N),Da.getStyle()?ca():ra(Error("Nothing to show for source ["+U+"]")))}"object"!=w(ta)&&(ta=JSON.parse(ta));if(8!=ta.version)return ra(Error("glStyle version 8 required."));if(!(Da instanceof ha["default"]||Da instanceof la["default"]))return ra(Error("Can only apply to VectorLayer or VectorTileLayer"));var Fa,na,Ra;if(ta.sprite){var db=1.5<=window.devicePixelRatio?.5:1;var $a=.5==db?"@2x":"",Ca=v(ta.sprite,W,$a+".json");fetch(Ca,{credentials:"same-origin"}).then(function(Ga){if(Ga.ok||
""===$a)return Ga;Ca=v(ta.sprite,W,".json");return fetch(Ca,{credentials:"same-origin"})}).then(function(Ga){if(Ga.ok)return Ga.json();ra(Error("Problem fetching sprite from "+Ca+": "+Ga.statusText))}).then(function(Ga){if(void 0===Ga)return ra(Error("No sprites found."));Fa=Ga;na=v(ta.sprite,W,$a+".png");qa()})["catch"](function(Ga){ra(Error("Sprites cannot be loaded: "+Ca+": "+Ga.message))})}else qa()})}function m(Da,ta){function U(){var ba=Da.getTargetElement();if(ba){var ca=ta.layout||{},ra=ta.paint||
{};W.paint=ra;W.id="olms-bg-"+ra["background-opacity"]+ra["background-color"];var qa=Da.getView().getZoom();if(void 0!==ra["background-color"]){var Fa=(0,M.getValue)(W,"paint","background-color",qa,Ta);ba.style.background=V.Color.parse(Fa).toString()}void 0!==ra["background-opacity"]&&(ba.style.opacity=(0,M.getValue)(W,"paint","background-opacity",qa,Ta));"none"==ca.visibility&&(ba.style.backgroundColor="",ba.style.opacity="")}}var W={type:ta.type};Da.getTargetElement()&&U();Da.on(["change:resolution",
"change:target"],U)}function g(Da,ta){var U;Da.some(function(W){if(W.id==ta)return U=W.source,!0});return U}function d(Da){var ta=Da.bounds;if(ta)return Da=(0,F.fromLonLat)([ta[0],ta[1]]),ta=(0,F.fromLonLat)([ta[2],ta[3]]),[Da[0],Da[1],ta[0],ta[1]]}function f(Da,ta,U){Da=(0,ia.assign)({},Da);var W=new la["default"]({declutter:!0,visible:!1});ta=JSON.stringify(Da);var ba=aa[ta];ba||(ba=aa[ta]=new Z["default"]({url:Da.tiles?void 0:U,tileJSON:Da.tiles?Da:void 0}));var ca=ba.on("change",function(){var ra=
ba.getState();if("ready"===ra){var qa=ba.getTileJSON();ra=Array.isArray(qa.tiles)?qa.tiles:[qa.tiles];if(U)for(var Fa=0,na=ra.length;Fa<na;++Fa){var Ra=ra[Fa];0!=Ra.indexOf("http")&&(ra[Fa]=U.replace(/\/?$/,"/")+Ra.replace(/^\//,""))}Fa=ba.getTileGrid();na=d(qa);Ra=qa.minzoom||0;qa=qa.maxzoom||22;var db=ba.get("ol-source");void 0===db&&(db=new C["default"]({attributions:ba.getAttributions(),format:new T["default"],tileGrid:new G["default"]({origin:Fa.getOrigin(0),extent:na||Fa.getExtent(),minZoom:Ra,
resolutions:ia.defaultResolutions.slice(0,qa+1),tileSize:512}),urls:ra}),ba.set("ol-source",db));(0,ja.unByKey)(ca);W.setSource(db)}else"error"===ra&&(ba.set("ol-source",null),(0,ja.unByKey)(ca),W.setSource(void 0))});"ready"===ba.getState()&&ba.changed();return W}function a(Da,ta){var U=new fa["default"],W=new Z["default"]({transition:0,url:Da.tiles?void 0:ta,tileJSON:Da.tiles?Da:void 0,crossOrigin:"anonymous"}),ba=W.on("change",function(){var ca=W.getState();if("ready"===ca){(0,ja.unByKey)(ba);
var ra=W.getTileJSON();ca=d(ra);var qa=W.getTileGrid(),Fa=Da.tileSize||ra.tileSize||512,na=ra.minzoom||0;ra=ra.maxzoom||22;W.tileGrid=new G["default"]({origin:qa.getOrigin(0),extent:ca||qa.getExtent(),minZoom:na,resolutions:(0,z.createXYZ)({maxZoom:ra,tileSize:Fa}).getResolutions(),tileSize:Fa});U.setSource(W)}else"error"===ca&&((0,ja.unByKey)(ba),U.setSource(void 0))});W.setTileLoadFunction(function(ca,ra){if(-1!=ra.indexOf("{bbox-epsg-3857}")){var qa=W.getTileGrid().getTileCoordExtent(ca.getTileCoord());
ra=ra.replace("{bbox-epsg-3857}",qa.toString())}ca.getImage().src=ra});return U}function e(Da,ta){var U=Da.data,W,ba;"string"==typeof U?ba=x(U,ta):W=Ya.readFeatures(U,{featureProjection:"EPSG:3857"});return new ha["default"]({source:new P["default"]({attributions:Da.attribution,features:W,format:Ya,url:ba}),visible:!1})}function n(Da,ta,U){U=U.getZoom();Da=(0,M.getValue)(Da,"paint","raster-opacity",U,Ta);ta.setOpacity(Da)}function y(Da,ta,U,W,ba,ca){void 0===ca&&(ca="");var ra=[],qa=ta.getView();
qa.isDef()||qa.getRotation()||qa.getResolutions()||(qa=new R["default"]({maxResolution:ia.defaultResolutions[0]}),ta.setView(qa));"center"in Da&&!qa.getCenter()&&qa.setCenter((0,F.fromLonLat)(Da.center));"zoom"in Da&&void 0===qa.getZoom()&&qa.setResolution(ia.defaultResolutions[0]/Math.pow(2,Da.zoom));qa.getCenter()&&void 0!==qa.getZoom()||qa.fit(qa.getProjection().getExtent(),{nearest:!0,size:ta.getSize()});Da.sprite&&(0==Da.sprite.indexOf("mapbox://")?Da.sprite=U+"/sprite"+ca:0!=Da.sprite.indexOf("http")&&
(Da.sprite=(W?W+ba:"")+Da.sprite+ca));var Fa=Da.layers,na=[],Ra,db,$a,Ca,Ga,pa;U=function(Fb,Xb){Ra=Fa[Fb];Fb=Ra.type;if("heatmap"!=Fb&&"hillshade"!=Fb)if("background"==Fb)m(ta,Ra);else{Ca=Ra.source||g(Fa,Ra.ref);if(Ca!=$a){na.length&&(ra.push(D(Ga,na,Da,ba,ta)),na=[]);db=Da.sources[Ca];if(pa=db.url)if(pa=x(pa,ba),0==pa.indexOf("mapbox://")){var nc=pa.replace("mapbox://","");db.tiles=["a","b","c","d"].map(function(md){return"https://"+md+".tiles.mapbox.com/v4/"+nc+"/{z}/{x}/{y}."+("vector"==db.type?
"vector.pbf":"png")+ca})}else 0===pa.indexOf("/")&&0===W.indexOf("http")&&(pa=W+pa);"vector"==db.type?Ga=f(db,ca,pa):"raster"==db.type?(Ga=a(db,pa),Ga.setVisible(Ra.layout?"none"!==Ra.layout.visibility:!0),qa.on("change:resolution",n.bind(Ha,Ra,Ga,qa)),n(Ra,Ga,qa)):"geojson"==db.type&&(Ga=e(db,ba));$a=Ca;Ga&&Ga.set("mapbox-source",$a)}na.push(Ra.id)}};for(var Ha=this,Ua=0,jb=Fa.length;Ua<jb;++Ua)U(Ua,jb);ra.push(D(Ga,na,Da,ba,ta));ta.set("mapbox-style",Da);return Promise.all(ra)}function B(Da,ta){var U,
W,ba,ca;var ra=U=W=ba="";if("string"===typeof Da||Da instanceof HTMLElement)Da=new K["default"]({target:Da});if("string"===typeof ta){if(ca=ta.match(ua))U=ca[1],ra=2<ca.length?ca[2]:"";ca=new Promise(function(qa,Fa){fetch(ta,{credentials:"same-origin"}).then(function(na){return na.json()}).then(function(na){var Ra=document.createElement("A");Ra.href=ta;var db=Ra.href;ba=Ra.pathname.split("/").slice(0,-1).join("/")+"/";W=db.substr(0,db.indexOf(ba));y(na,Da,U,W,ba,ra).then(function(){qa(Da)})["catch"](Fa)})["catch"](function(na){Fa(Error("Could not load "+
ta+": "+na.message))})})}else ca=new Promise(function(qa,Fa){y(ta,Da).then(function(){qa(Da)})["catch"](Fa)});return ca}function D(Da,ta,U,W,ba){for(var ca=24,ra=0,qa=U.layers,Fa=0,na=qa.length;Fa<na;++Fa){var Ra=qa[Fa];-1!==ta.indexOf(Ra.id)&&(ca=Math.min("minzoom"in Ra?Ra.minzoom:0,ca),ra=Math.max("maxzoom"in Ra?Ra.maxzoom:24,ra))}return new Promise(function(db,$a){var Ca=function(){var Ga=Da.getSource();if(Ga&&"error"!==Ga.getState()){if("function"===typeof Ga.getTileGrid){var pa=Ga.getTileGrid();
if(pa){var Ha=pa.getMinZoom();(0<ca||0<Ha)&&Da.setMaxResolution(Math.min(ia.defaultResolutions[ca],pa.getResolution(Ha))+1E-9);24>ra&&Da.setMinResolution(ia.defaultResolutions[ra]+1E-9)}}Ga instanceof P["default"]||Ga instanceof C["default"]?u(Da,U,ta,W).then(function(){Da.setVisible(!0);db()},function(Ua){$a(Ua)}):db()}else $a(Error("Error accessing data for source "+Da.get("mapbox-source")))};Da.set("mapbox-layers",ta);-1===ba.getLayers().getArray().indexOf(Da)&&ba.addLayer(Da);if(Da.getSource())Ca();
else Da.once("change:source",Ca)})}Object.defineProperty(E,"__esModule",{value:!0});E.applyStyle=u;E.applyBackground=function(Da,ta){ta.layers.some(function(U){if("background"==U.type)return m(Da,U),!0})};E["default"]=B;E.apply=function(Da,ta){if("string"===typeof Da||Da instanceof HTMLElement)Da=new K["default"]({target:Da});setTimeout(function(){B(Da,ta)},0);return Da};E.getLayer=function(Da,ta){Da=Da.getLayers().getArray();for(var U=0,W=Da.length;U<W;++U){var ba=Da[U].get("mapbox-layers");if(ba&&
-1!==ba.indexOf(ta))return Da[U]}};E.getLayers=function(Da,ta){var U=[];Da=Da.getLayers().getArray();for(var W=0,ba=Da.length;W<ba;++W)Da[W].get("mapbox-source")===ta&&U.push(Da[W]);return U};E.getSource=function(Da,ta){Da=Da.getLayers().getArray();for(var U=0,W=Da.length;U<W;++U){var ba=Da[U].getSource();if(Da[U].get("mapbox-source")===ta)return ba}};E._finalizeLayer=D;E._getFonts=N;var O=l(A(331)),M=function(Da){if(Da&&Da.__esModule)return Da;if(null===Da||"object"!==w(Da)&&"function"!==typeof Da)return{"default":Da};
var ta=k();if(ta&&ta.has(Da))return ta.get(Da);var U={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor,ba;for(ba in Da)if(Object.prototype.hasOwnProperty.call(Da,ba)){var ca=W?Object.getOwnPropertyDescriptor(Da,ba):null;ca&&(ca.get||ca.set)?Object.defineProperty(U,ba,ca):U[ba]=Da[ba]}U["default"]=Da;ta&&ta.set(Da,U);return U}(A(334));Ja=l(A(335));var F=A(128),z=A(266),G=l(A(265)),K=l(A(248)),R=l(A(151));rb=l(A(337));var T=l(A(327)),ja=A(88),fa=l(A(296)),ha=l(A(234)),la=l(A(330)),Z=l(A(301)),
P=l(A(240)),C=l(A(306)),V=A(332),ia=A(333),aa={},ya=/font-family: ?([^;]*);/,va=/("|')/g,Ia,bb={},kb=Ja["default"].getNames(),ua=/^(.*)(\?.*)$/,Ta={},Ya=new rb["default"]};
shadow$provide[339]=function(Ja,A,rb,E){function k(n){return n&&n.__esModule?n:{"default":n}}function l(n){return 0!==n.indexOf("mapbox://")?"":n.slice(9)}function w(n,y){var B=l(n);if(!B)return n;if(0!==B.indexOf("sprites/"))throw Error("unexpected sprites url: "+n);n=B.slice(8);return a+"/styles/v1/"+n+"/sprite?access_token\x3d"+y}function H(n,y){var B=l(n);if(!B)return n;if(0!==B.indexOf("fonts/"))throw Error("unexpected fonts url: "+n);n=B.slice(6);return a+"/fonts/v1/"+n+"/0-255.pbf?access_token\x3d"+
y}function N(n,y){var B=l(n);if(!B)return n;if(0!==B.indexOf("styles/"))throw Error("unexpected style url: "+n);n=B.slice(7);return a+"/styles/v1/"+n+"?\x26access_token\x3d"+y}function x(n,y){var B=l(n);return B?"https://{a-d}.tiles.mapbox.com/v4/"+B+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+y:n}Object.defineProperty(E,"__esModule",{value:!0});E.getMapboxPath=l;E.normalizeSpriteUrl=w;E.normalizeGlyphsUrl=H;E.normalizeStyleUrl=N;E.normalizeSourceUrl=x;E["default"]=void 0;Ja=k(A(82));var v=k(A(86)),
u=k(A(327)),m=k(A(93));rb=k(A(330));var g=k(A(306)),d=A(338),f=function(){var n=function(y,B){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,O){D.__proto__=O}||function(D,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(D[M]=O[M])};return n(y,B)};return function(y,B){function D(){this.constructor=y}n(y,B);y.prototype=null===B?Object.create(B):(D.prototype=B.prototype,new D)}}(),a="https://api.mapbox.com",e=function(n){function y(B){var D=n.call(this,v["default"].ERROR)||
this;D.error=B;return D}f(y,n);return y}(Ja["default"]);A=function(n){function y(B){var D="declutter"in B?B.declutter:!0;var O=new g["default"]({state:m["default"].LOADING,format:new u["default"]});D=n.call(this,{source:O,declutter:D,className:B.className,opacity:B.opacity,visible:B.visible,zIndex:B.zIndex,minResolution:B.minResolution,maxResolution:B.maxResolution,minZoom:B.minZoom,maxZoom:B.maxZoom,renderOrder:B.renderOrder,renderBuffer:B.renderBuffer,renderMode:B.renderMode,map:B.map,updateWhileAnimating:B.updateWhileAnimating,
updateWhileInteracting:B.updateWhileInteracting,preload:B.preload,useInterimTilesOnError:B.useInterimTilesOnError})||this;D.sourceId=B.source;D.layers=B.layers;D.accessToken=B.accessToken;D.fetchStyle(B.styleUrl);return D}f(y,n);y.prototype.fetchStyle=function(B){var D=this;B=N(B,this.accessToken);fetch(B).then(function(O){if(!O.ok)throw Error("unexpected response when fetching style: "+O.status);return O.json()}).then(function(O){D.onStyleLoad(O)})["catch"](function(O){D.handleError(O)})};y.prototype.onStyleLoad=
function(B){var D=this,O;if(this.layers){var M={};for(O=0;O<B.layers.length;++O){var F=B.layers[O];F.source&&(M[F.id]=F.source)}F=void 0;for(O=0;O<this.layers.length;++O){var z=M[this.layers[O]];if(!z){this.handleError(Error("could not find source for "+this.layers[O]));return}if(!F)F=z;else if(F!==z){this.handleError(Error("layers can only use a single source, found "+F+" and "+z));return}}O=F;M=this.layers}else M=O=this.sourceId;M||(M=O=Object.keys(B.sources)[0]);B.sprite&&(B.sprite=w(B.sprite,
this.accessToken));B.glyphs&&(B.glyphs=H(B.glyphs,this.accessToken));O=B.sources[O];if("vector"!==O.type)this.handleError(Error("only works for vector sources, found "+O.type));else{var G=this.getSource();G.setUrl(x(O.url,this.accessToken));(0,d.applyStyle)(this,B,M).then(function(){G.setState(m["default"].READY)})["catch"](function(K){D.handleError(K)})}};y.prototype.handleError=function(B){this.dispatchEvent(new e(B));this.getSource().setState(m["default"].ERROR)};return y}(rb["default"]);E["default"]=
A};
shadow$provide[340]=function(Ja,A,rb,E){function k(f){return f&&f.__esModule?f:{"default":f}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(291));var l=k(A(233)),w=k(A(86)),H=k(A(283)),N=k(A(197)),x=k(A(196)),v=k(A(119)),u=A(75),m=A(84),g=A(78),d=function(){var f=function(a,e){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var B in y)Object.prototype.hasOwnProperty.call(y,B)&&(n[B]=y[B])};return f(a,e)};return function(a,
e){function n(){this.constructor=a}f(a,e);a.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();A=function(f){function a(e){var n=f.call(this,e)||this;n.vectorRenderer_=new l["default"](e);n.layerImageRatio_=e.getImageRatio();n.coordinateToVectorPixelTransform_=(0,u.create)();n.renderedPixelToCoordinateTransform_=null;return n}d(a,f);a.prototype.disposeInternal=function(){this.vectorRenderer_.dispose();f.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(e){return this.vectorRenderer_?
(e=(0,u.apply)(this.coordinateToVectorPixelTransform_,(0,u.apply)(this.renderedPixelToCoordinateTransform_,e.slice())),this.vectorRenderer_.getFeatures(e)):new Promise(function(n,y){n([])})};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(e){var n=e.pixelRatio,y=e.viewState,B=y.resolution,D=e.viewHints,O=this.vectorRenderer_,M=e.extent;1!==this.layerImageRatio_&&(M=M.slice(0),(0,g.scaleFromCenter)(M,this.layerImageRatio_));var F=
(0,g.getWidth)(M)/B,z=(0,g.getHeight)(M)/B;if(!D[v["default"].ANIMATING]&&!D[v["default"].INTERACTING]&&!(0,g.isEmpty)(M)){O.useContainer(null,null,1);D=O.context;var G=(0,m.assign)({},e,{declutterTree:new x["default"](9),extent:M,size:[F,z],viewState:(0,m.assign)({},e.viewState,{rotation:0})}),K=new H["default"](M,B,n,D.canvas,function(R){O.prepareFrame(G)&&O.replayGroupChanged&&(O.clipping=!1,O.renderFrame(G,null),O.renderDeclutter(G),R())});K.addEventListener(w["default"].CHANGE,function(){if(K.getState()===
N["default"].LOADED){this.image_=K;var R=K.getResolution(),T=K.getPixelRatio();this.renderedResolution=R=R*n/T;this.coordinateToVectorPixelTransform_=(0,u.compose)(this.coordinateToVectorPixelTransform_,F/2,z/2,1/R,-1/R,0,-y.center[0],-y.center[1])}}.bind(this));K.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice());return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=
function(e,n,y,B,D){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,y,B,D):f.prototype.forEachFeatureAtCoordinate.call(this,e,n,y,B,D)};return a}(Ja["default"]);E["default"]=A};
shadow$provide[341]=function(Ja,A,rb,E){function k(N){return N&&N.__esModule?N:{"default":N}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(205));var l=k(A(340)),w=A(84),H=function(){var N=function(x,v){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(u[g]=m[g])};return N(x,v)};return function(x,v){function u(){this.constructor=x}N(x,v);x.prototype=null===v?Object.create(v):
(u.prototype=v.prototype,new u)}}();A=function(N){function x(v){v=v?v:{};var u=(0,w.assign)({},v);delete u.imageRatio;u=N.call(this,u)||this;u.imageRatio_=void 0!==v.imageRatio?v.imageRatio:1;return u}H(x,N);x.prototype.getImageRatio=function(){return this.imageRatio_};x.prototype.createRenderer=function(){return new l["default"](this)};return x}(Ja["default"]);E["default"]=A};
shadow$provide[342]=function(Ja,A,rb,E){function k(z){if("number"===typeof z)return M.NUMBER;if("boolean"===typeof z)return M.BOOLEAN;if("string"===typeof z)return(0,O.isStringColor)(z)?M.COLOR|M.STRING:M.STRING;if(!Array.isArray(z))throw Error("Unhandled value type: "+JSON.stringify(z));if(z.every(function(K){return"number"===typeof K}))return 3===z.length||4===z.length?M.COLOR|M.NUMBER_ARRAY:M.NUMBER_ARRAY;if("string"!==typeof z[0])throw Error("Expected an expression operator but received: "+JSON.stringify(z));
var G=F[z[0]];if(void 0===G)throw Error("Unrecognized expression operator: "+JSON.stringify(z));return G.getReturnType(z.slice(1))}function l(z){return 0===Math.log2(z)%1}function w(z){z=z.toString();return-1===z.indexOf(".")?z+".0":z}function H(z){if(2>z.length||4<z.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec"+z.length+"("+z.map(w).join(", ")+")"}function N(z){z=(0,O.asArray)(z).slice();4>z.length&&z.push(1);return H(z.map(function(G,K){return 3>
K?G/255:G}))}function x(z,G){void 0===z.stringLiteralsMap[G]&&(z.stringLiteralsMap[G]=Object.keys(z.stringLiteralsMap).length);return z.stringLiteralsMap[G]}function v(z,G){return w(x(z,G))}function u(z,G,K){if(Array.isArray(G)&&"string"===typeof G[0]){var R=F[G[0]];if(void 0===R)throw Error("Unrecognized expression operator: "+JSON.stringify(G));return R.toGlsl(z,G.slice(1),K)}R=k(G);if(0<(R&M.NUMBER))return w(G);if(0<(R&M.BOOLEAN))return G.toString();if(0<(R&M.STRING)&&(void 0===K||K==M.STRING))return v(z,
G.toString());if(0<(R&M.COLOR)&&(void 0===K||K==M.COLOR))return N(G);if(0<(R&M.NUMBER_ARRAY))return H(G)}function m(z){for(var G=0;G<z.length;G++){var K=z[G];if(!(k(K)&M.NUMBER))throw Error("A numeric value was expected, got "+JSON.stringify(K)+" instead");}}function g(z){if(!(k(z)&M.STRING))throw Error("A string value was expected, got "+JSON.stringify(z)+" instead");}function d(z){if(!(k(z)&M.BOOLEAN))throw Error("A boolean value was expected, got "+JSON.stringify(z)+" instead");}function f(z,G){if(z.length!==
G)throw Error("Exactly "+G+" arguments were expected, got "+z.length+" instead");}function a(z,G){if(z.length<G)throw Error("At least "+G+" arguments were expected, got "+z.length+" instead");}function e(z,G){if(z.length>G)throw Error("At most "+G+" arguments were expected, got "+z.length+" instead");}function n(z){if(0!==z.length%2)throw Error("An even amount of arguments was expected, got "+z+" instead");}function y(z,G){if(!l(G))throw Error("Could not infer only one type from the following expression: "+
JSON.stringify(z));}function B(z){return{getReturnType:function(G){return M.BOOLEAN},toGlsl:function(G,K){f(K,2);for(var R=M.ANY,T=0;T<K.length;T++)R&=k(K[T]);if(0===R)throw Error("All arguments should be of compatible type, got "+JSON.stringify(K)+" instead");return"("+u(G,K[0],R)+" "+z+" "+u(G,K[1],R)+")"}}}function D(z){return{getReturnType:function(G){return M.BOOLEAN},toGlsl:function(G,K){a(K,2);for(var R=0;R<K.length;R++)d(K[R]);R="";R=K.map(function(T){return u(G,T)}).join(" "+z+" ");return"("+
R+")"}}}Object.defineProperty(E,"__esModule",{value:!0});E.getValueType=k;E.isTypeUnique=l;E.numberToGlsl=w;E.arrayToGlsl=H;E.colorToGlsl=N;E.getStringNumberEquivalent=x;E.stringToGlsl=v;E.expressionToGlsl=u;E.Operators=E.ValueTypes=void 0;var O=A(80),M={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};E.ValueTypes=M;var F={};E.Operators=F;F.get={getReturnType:function(z){return M.ANY},toGlsl:function(z,G){f(G,1);g(G[0]);G=G[0].toString();-1===z.attributes.indexOf(G)&&z.attributes.push(G);
return(z.inFragmentShader?"v_":"a_")+G}};F["var"]={getReturnType:function(z){return M.ANY},toGlsl:function(z,G){f(G,1);g(G[0]);G=G[0].toString();-1===z.variables.indexOf(G)&&z.variables.push(G);return"u_"+G}};F.time={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,0);return"u_time"}};F.zoom={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,0);return"u_zoom"}};F.resolution={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,0);return"u_resolution"}};
F["*"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" * "+u(z,G[1])+")"}};F["/"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" / "+u(z,G[1])+")"}};F["+"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" + "+u(z,G[1])+")"}};F["-"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" - "+u(z,G[1])+")"}};
F.clamp={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,3);m(G);var K=u(z,G[1]),R=u(z,G[2]);return"clamp("+u(z,G[0])+", "+K+", "+R+")"}};F["%"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"mod("+u(z,G[0])+", "+u(z,G[1])+")"}};F["^"]={getReturnType:function(z){return M.NUMBER},toGlsl:function(z,G){f(G,2);m(G);return"pow("+u(z,G[0])+", "+u(z,G[1])+")"}};F["\x3e"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);
return"("+u(z,G[0])+" \x3e "+u(z,G[1])+")"}};F["\x3e\x3d"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" \x3e\x3d "+u(z,G[1])+")"}};F["\x3c"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" \x3c "+u(z,G[1])+")"}};F["\x3c\x3d"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,2);m(G);return"("+u(z,G[0])+" \x3c\x3d "+u(z,G[1])+")"}};F["\x3d\x3d"]=B("\x3d\x3d");F["!\x3d"]=B("!\x3d");
F["!"]={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,1);d(G[0]);return"(!"+u(z,G[0])+")"}};F.all=D("\x26\x26");F.any=D("||");F.between={getReturnType:function(z){return M.BOOLEAN},toGlsl:function(z,G){f(G,3);m(G);var K=u(z,G[1]),R=u(z,G[2]);z=u(z,G[0]);return"("+z+" \x3e\x3d "+K+" \x26\x26 "+z+" \x3c\x3d "+R+")"}};F.array={getReturnType:function(z){return M.NUMBER_ARRAY},toGlsl:function(z,G){a(G,2);e(G,4);m(G);var K=G.map(function(R){return u(z,R,M.NUMBER)});return"vec"+G.length+
"("+K.join(", ")+")"}};F.color={getReturnType:function(z){return M.COLOR},toGlsl:function(z,G){a(G,3);e(G,4);m(G);3===G.length&&G.push(1);var K=G.map(function(R,T){return u(z,R,M.NUMBER)+(3>T?" / 255.0":"")});return"vec"+G.length+"("+K.join(", ")+")"}};F.interpolate={getReturnType:function(z){for(var G=M.COLOR|M.NUMBER,K=3;K<z.length;K+=2)G&=k(z[K]);return G},toGlsl:function(z,G,K){n(G);a(G,6);var R=G[0];switch(R[0]){case "linear":var T=1;break;case "exponential":T=R[1];break;default:T=null}if(!T)throw Error('Invalid interpolation type for "interpolate" operator, received: '+
JSON.stringify(R));K=void 0!==K?K:M.ANY;K&=F.interpolate.getReturnType(G);y(G,K);R=u(z,G[1]);for(var ja=null,fa=2;fa<G.length-2;fa+=2){var ha=u(z,G[fa]),la=u(z,G[fa+1],K),Z=u(z,G[fa+2]),P=u(z,G[fa+3],K);ja="mix("+(ja||la)+", "+P+", pow(clamp(("+R+" - "+ha+") / ("+Z+" - "+ha+"), 0.0, 1.0), "+w(T)+"))"}return ja}};F.match={getReturnType:function(z){for(var G=M.ANY,K=2;K<z.length;K+=2)G&=k(z[K]);return G&=k(z[z.length-1])},toGlsl:function(z,G,K){n(G);a(G,4);K=void 0!==K?K:M.ANY;K&=F.match.getReturnType(G);
y(G,K);for(var R=u(z,G[0]),T=u(z,G[G.length-1],K),ja=null,fa=G.length-3;1<=fa;fa-=2){var ha=u(z,G[fa]),la=u(z,G[fa+1],K);ja="("+R+" \x3d\x3d "+ha+" ? "+la+" : "+(ja||T)+")"}return ja}};F["case"]={getReturnType:function(z){for(var G=M.ANY,K=1;K<z.length;K+=2)G&=k(z[K]);return G&=k(z[z.length-1])},toGlsl:function(z,G,K){if(0===G.length%2)throw Error("An odd amount of arguments was expected, got "+G+" instead");a(G,3);K=void 0!==K?K:M.ANY;K&=F["case"].getReturnType(G);y(G,K);for(var R=0;R<G.length-1;R+=
2)d(G[R]);var T=u(z,G[G.length-1],K),ja=null;for(R=G.length-3;0<=R;R-=2){var fa=u(z,G[R]),ha=u(z,G[R+1],K);ja="("+fa+" ? "+ha+" : "+(ja||T)+")"}return ja}}};
shadow$provide[343]=function(Ja,A,rb,E){Object.defineProperty(E,"__esModule",{value:!0});E.parseLiteralStyle=function(w){var H=w.symbol,N=void 0!==H.size?H.size:1,x=H.color||"white",v=H.textureCoord||[0,0,1,1],u=H.offset||[0,0],m=void 0!==H.opacity?H.opacity:1,g=void 0!==H.rotation?H.rotation:0,d={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{}},f=(0,k.expressionToGlsl)(d,N,k.ValueTypes.NUMBER_ARRAY|k.ValueTypes.NUMBER);u=(0,k.expressionToGlsl)(d,u,k.ValueTypes.NUMBER_ARRAY);v=
(0,k.expressionToGlsl)(d,v,k.ValueTypes.NUMBER_ARRAY);var a=(0,k.expressionToGlsl)(d,g,k.ValueTypes.NUMBER);g={inFragmentShader:!0,variables:d.variables,attributes:[],stringLiteralsMap:d.stringLiteralsMap};x=(0,k.expressionToGlsl)(g,x,k.ValueTypes.COLOR);m=(0,k.expressionToGlsl)(g,m,k.ValueTypes.NUMBER);var e="1.0";N="vec2("+(0,k.expressionToGlsl)(g,N,k.ValueTypes.NUMBER_ARRAY|k.ValueTypes.NUMBER)+").x";switch(H.symbolType){case "square":break;case "image":break;case "circle":e="(1.0-smoothstep(1.-4./"+
N+",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))";break;case "triangle":e="(1.0-smoothstep(.5-3./"+N+",.5,cos(floor(.5+(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))/2.094395102)*2.094395102-(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y)))*length((v_quadCoord*2.-1.))))";break;default:throw Error("Unexpected symbol type: "+H.symbolType);}var n=(new l).setSizeExpression("vec2("+f+")").setRotationExpression(a).setSymbolOffsetExpression(u).setTextureCoordinateExpression(v).setSymbolRotateWithView(!!H.rotateWithView).setColorExpression("vec4("+
x+".rgb, "+x+".a * "+m+" * "+e+")");w.filter&&(f=(0,k.expressionToGlsl)(g,w.filter,k.ValueTypes.BOOLEAN),n.setFragmentDiscardExpression("!"+f));var y={};g.variables.forEach(function(B){n.addUniform("float u_"+B);y["u_"+B]=function(){if(!w.variables||void 0===w.variables[B])throw Error("The following variable is missing from the style: "+B);var D=w.variables[B];"string"===typeof D&&(D=(0,k.getStringNumberEquivalent)(d,D));return void 0!==D?D:-9999999}});"image"===H.symbolType&&H.src&&(f=new Image,
f.src=H.src,n.addUniform("sampler2D u_texture").setColorExpression(n.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),y.u_texture=f);g.attributes.forEach(function(B){-1===d.attributes.indexOf(B)&&d.attributes.push(B);n.addVarying("v_"+B,"float","a_"+B)});d.attributes.forEach(function(B){n.addAttribute("float a_"+B)});return{builder:n,attributes:d.attributes.map(function(B){return{name:B,callback:function(D,O){D=O[B];"string"===typeof D&&(D=(0,k.getStringNumberEquivalent)(d,D));return void 0!==
D?D:-9999999}}}),uniforms:y}};E.ShaderBuilder=void 0;var k=A(342),l=function(){function w(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}w.prototype.addUniform=function(H){this.uniforms.push(H);return this};w.prototype.addAttribute=function(H){this.attributes.push(H);
return this};w.prototype.addVarying=function(H,N,x){this.varyings.push({name:H,type:N,expression:x});return this};w.prototype.setSizeExpression=function(H){this.sizeExpression=H;return this};w.prototype.setRotationExpression=function(H){this.rotationExpression=H;return this};w.prototype.setSymbolOffsetExpression=function(H){this.offsetExpression=H;return this};w.prototype.setColorExpression=function(H){this.colorExpression=H;return this};w.prototype.setTextureCoordinateExpression=function(H){this.texCoordExpression=
H;return this};w.prototype.setFragmentDiscardExpression=function(H){this.discardExpression=H;return this};w.prototype.setSymbolRotateWithView=function(H){this.rotateWithView=H;return this};w.prototype.getSizeExpression=function(){return this.sizeExpression};w.prototype.getOffsetExpression=function(){return this.offsetExpression};w.prototype.getColorExpression=function(){return this.colorExpression};w.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};w.prototype.getFragmentDiscardExpression=
function(){return this.discardExpression};w.prototype.getSymbolVertexShader=function(H){var N=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",x=this.attributes,v=this.varyings;H&&(x=x.concat("vec4 a_hitColor"),v=v.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+
this.uniforms.map(function(u){return"uniform "+u+";"}).join("\n")+"\nattribute vec2 a_position;\nattribute float a_index;\n"+x.map(function(u){return"attribute "+u+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+v.map(function(u){return"varying "+u.type+" "+u.name+";"}).join("\n")+"\nvoid main(void) {\n  mat4 offsetMatrix \x3d "+N+";\n  vec2 halfSize \x3d "+this.sizeExpression+" * 0.5;\n  vec2 offset \x3d "+this.offsetExpression+";\n  float angle \x3d "+this.rotationExpression+
";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d "+
this.texCoordExpression+";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n"+v.map(function(u){return"  "+u.name+" \x3d "+u.expression+";"}).join("\n")+"\n}"};w.prototype.getSymbolFragmentShader=
function(H){var N=H?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",x=this.varyings;H&&(x=x.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n"+this.uniforms.map(function(v){return"uniform "+v+";"}).join("\n")+"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n"+x.map(function(v){return"varying "+v.type+" "+v.name+";"}).join("\n")+"\nvoid main(void) {\n  if ("+
this.discardExpression+") { discard; }\n  gl_FragColor \x3d "+this.colorExpression+";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n"+N+"\n}"};return w}();E.ShaderBuilder=l};
shadow$provide[344]=function(Ja,A,rb,E){function k(x){return x&&x.__esModule?x:{"default":x}}Object.defineProperty(E,"__esModule",{value:!0});E["default"]=void 0;Ja=k(A(94));var l=k(A(323)),w=A(84),H=A(343),N=function(){var x=function(v,u){x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(m[d]=g[d])};return x(v,u)};return function(v,u){function m(){this.constructor=v}x(v,u);v.prototype=null===
u?Object.create(u):(m.prototype=u.prototype,new m)}}();A=function(x){function v(u){var m=(0,w.assign)({},u);m=x.call(this,m)||this;m.parseResult_=(0,H.parseLiteralStyle)(u.style);m.hitDetectionDisabled_=!!u.disableHitDetection;return m}N(v,x);v.prototype.createRenderer=function(){return new l["default"](this,{className:this.getClassName(),vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&
this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};v.prototype.disposeInternal=function(){this.getRenderer().disposeInternal();x.prototype.disposeInternal.call(this)};return v}(Ja["default"]);E["default"]=A};
shadow$provide[345]=function(Ja,A,rb,E){function k(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"Graticule",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(E,"Group",{enumerable:!0,get:function(){return w["default"]}});Object.defineProperty(E,"Heatmap",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(E,"Image",{enumerable:!0,get:function(){return N["default"]}});Object.defineProperty(E,
"Layer",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(E,"MapboxVector",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(E,"Tile",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(E,"Vector",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(E,"VectorImage",{enumerable:!0,get:function(){return g["default"]}});Object.defineProperty(E,"VectorTile",{enumerable:!0,get:function(){return d["default"]}});
Object.defineProperty(E,"WebGLPoints",{enumerable:!0,get:function(){return f["default"]}});var l=k(A(313)),w=k(A(106)),H=k(A(324)),N=k(A(292)),x=k(A(94)),v=k(A(339)),u=k(A(296)),m=k(A(234)),g=k(A(341)),d=k(A(330)),f=k(A(344))};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",da="clojure.string",fa="datascript.db",ha="datascript.pull-api",ia="taoensso.sente",g,ja=ja||{},la=this||self;function Ga(a,b){a=a.split(".");var c=la;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function ma(){}
function na(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function oa(a){return"array"==na(a)}function qa(a){var b=na(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ra(a){return"function"==na(a)}function sa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ta(a){return a[wa]||(a[wa]=++za)}var wa="closure_uid_"+(1E9*Math.random()>>>0),za=0;function Aa(a,b,c){return a.call.apply(a.bind,arguments)}
function Da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Ea(a,b,c){Ea=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Aa:Da;return Ea.apply(null,arguments)}var Fa=Date.now||function(){return+new Date};
function Ha(a,b){function c(){}c.prototype=b.prototype;a.jd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ia(a){Ia[" "](a);return a}Ia[" "]=ma;function Ja(a,b){var c=Ka;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ma=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Na=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Pa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Qa=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ra(a){a:{var b=Sa;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Ua(a){if(!oa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Va(a,b){b=Ma(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Wa(a){return Array.prototype.concat.apply([],arguments)}function Xa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Za(a,b){a.sort(b||$a)}function ab(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||$a;Za(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function $a(a,b){return a>b?1:a<b?-1:0}function bb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function cb(a){this.Ii=a}cb.prototype.toString=function(){return this.Ii};var db=new cb("IFRAME"),eb=new cb("SCRIPT");function fb(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function gb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function hb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ib(a,b,c){return null!==a&&b in a?a[b]:c}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function lb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<kb.length;f++)c=kb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function mb(a,b){this.Hi=a===nb&&b||"";this.ih=ob}var ob={},nb={},pb=new mb(nb,"");function qb(){}qb.prototype.fd=function(){return this};(new qb).fd("");function rb(a,b){this.zi=a===sb&&b||"";this.jh=tb}var tb={},sb={};function ub(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function vb(a){return/^[\s\xa0]*$/.test(a)}var wb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function xb(a){return-1!=zb.toLowerCase().indexOf(a.toLowerCase())}function Ab(a,b){return a<b?-1:a>b?1:0};function Bb(){}Bb.prototype.fd=function(){return this};(new Bb).fd("");function Cb(){}Cb.prototype.fd=function(){return this};(new Cb).fd("");var zb;a:{var La=la.navigator;if(La){var jb=La.userAgent;if(jb){zb=jb;break a}}zb=""}function Fb(a){return-1!=zb.indexOf(a)};function Gb(){this.Tg="";this.hh=Hb}function Ib(){var a=Jb;if(a instanceof Gb&&a.constructor===Gb&&a.hh===Hb)return a.Tg;na(a);return"type_error:SafeHtml"}var Hb={};Gb.prototype.fd=function(a){this.Tg=a;return this};(new Gb).fd("\x3c!DOCTYPE html\x3e");var Jb=(new Gb).fd("");(new Gb).fd("\x3cbr\x3e");function Kb(a){var b=new rb(sb,pb instanceof mb&&pb.constructor===mb&&pb.ih===ob?pb.Hi:"type_error:Const");b instanceof rb&&b.constructor===rb&&b.jh===tb?b=b.zi:(na(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Lb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function hc(a,b){a=String(a);var c=a.indexOf(".");-1==c&&(c=a.length);return Mb("0",Math.max(0,b-c))+a};function Ob(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(qa(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Pb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("string"===typeof a)return a.split("");if(qa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return gb(a)}
function Qb(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if(qa(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return hb(a)}}function Rb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(qa(a)||"string"===typeof a)Oa(a,b,c);else for(var d=Qb(a),e=Pb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function Sb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(qa(a)||"string"===typeof a)return Qa(a,b,void 0);for(var c=Qb(a),d=Pb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Tb(a,b){this.map_={};this.keys_=[];this.version_=this.count_=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=Tb.prototype;g.getCount=function(){return this.count_};g.getValues=function(){Ub(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){Ub(this);return this.keys_.concat()};
g.containsKey=function(a){return Vb(this.map_,a)};g.ke=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(Vb(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.count_!=a.getCount())return!1;b=b||Wb;Ub(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Wb(a,b){return a===b}g.isEmpty=function(){return 0==this.count_};
g.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};g.remove=function(a){return Vb(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&Ub(this),!0):!1};
function Ub(a){if(a.count_!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];Vb(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.count_!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],Vb(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}g.get=function(a,b){return Vb(this.map_,a)?this.map_[a]:b};g.set=function(a,b){Vb(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};
g.addAll=function(a){if(a instanceof Tb)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new Tb(this)};g.transpose=function(){for(var a=new Tb,b=0;b<this.keys_.length;b++){var c=this.keys_[b];a.set(this.map_[c],c)}return a};function Vb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Xb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function $b(a,b){this.count_=this.jb=null;this.tc=a||null;this.Lh=!!b}function ac(a){a.jb||(a.jb=new Tb,a.count_=0,a.tc&&Zb(a.tc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=$b.prototype;g.getCount=function(){ac(this);return this.count_};g.add=function(a,b){ac(this);this.tc=null;a=cc(this,a);var c=this.jb.get(a);c||this.jb.set(a,c=[]);c.push(b);this.count_+=1;return this};
g.remove=function(a){ac(this);a=cc(this,a);return this.jb.containsKey(a)?(this.tc=null,this.count_-=this.jb.get(a).length,this.jb.remove(a)):!1};g.clear=function(){this.jb=this.tc=null;this.count_=0};g.isEmpty=function(){ac(this);return 0==this.count_};g.containsKey=function(a){ac(this);a=cc(this,a);return this.jb.containsKey(a)};g.ke=function(a){var b=this.getValues();return 0<=Ma(b,a)};g.forEach=function(a,b){ac(this);this.jb.forEach(function(c,d){Oa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){ac(this);for(var a=this.jb.getValues(),b=this.jb.getKeys(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.getValues=function(a){ac(this);var b=[];if("string"===typeof a)this.containsKey(a)&&(b=Wa(b,this.jb.get(cc(this,a))));else{a=this.jb.getValues();for(var c=0;c<a.length;c++)b=Wa(b,a[c])}return b};
g.set=function(a,b){ac(this);this.tc=null;a=cc(this,a);this.containsKey(a)&&(this.count_-=this.jb.get(a).length);this.jb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.tc)return this.tc;if(!this.jb)return"";for(var a=[],b=this.jb.getKeys(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.getValues(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.tc=a.join("\x26")};g.clone=function(){var a=new $b;a.tc=this.tc;this.jb&&(a.jb=this.jb.clone(),a.count_=this.count_);return a};function cc(a,b){b=String(b);a.Lh&&(b=b.toLowerCase());return b}
g.extend=function(a){for(var b=0;b<arguments.length;b++)Rb(arguments[b],function(c,d){this.add(d,c)},this)};function dc(a,b){null!=a&&this.append.apply(this,arguments)}g=dc.prototype;g.nd="";g.set=function(a){this.nd=""+a};g.append=function(a,b,c){this.nd+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.nd+=arguments[d];return this};g.clear=function(){this.nd=""};g.getLength=function(){return this.nd.length};g.toString=function(){return this.nd};var ec={},gc={},Tc,l={},ic=null,jc=null,kc=!0,lc=!0,mc=null,nc=null;function oc(){return new q(null,5,[pc,!0,qc,lc,rc,!1,sc,!1,tc,mc],null)}function uc(){kc=!1;jc=function(){return console.log.apply(console,Xa(arguments))}}function r(a){return null!=a&&!1!==a}function vc(a){return null==a}function wc(a){return a instanceof Array}function xc(a){return"number"===typeof a}function yc(a){return null==a?!0:!1===a?!0:!1}function zc(a){return null!=a}
function Ac(a,b){return a[na(null==b?null:b)]?!0:a._?!0:!1}function Bc(a){return null==a?null:a.constructor}function Cc(a,b){var c=Bc(b);c=r(r(c)?c.rb:c)?c.kb:na(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Dc(a){var b=a.kb;return r(b)?b:t.B(a)}
var Ec="undefined"!==typeof Symbol&&"function"===na(Symbol)?Symbol.iterator:"@@iterator",Fc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Gc=null;
function Hc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ic(a){function b(d,e){d.push(e);return d}var c=[];return v.C?v.C(b,c,a):v.call(null,b,c,a)}function Jc(a){return"symbol"===na(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Kc(){}function Lc(){}function Mc(){}
function Nc(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Nc[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ICounted.-count",a);}return a}function Oc(){}function Pc(a){if(null!=a&&null!=a.Ja)a=a.Ja(a);else{var b=Pc[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IEmptyableCollection.-empty",a);}return a}function Qc(){}
function Rc(a,b){if(null!=a&&null!=a.la)a=a.la(a,b);else{var c=Rc[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Rc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ICollection.-conj",a);}return a}function Sc(){}
var bd=function(){function a(d,e,f){var h=x[na(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Cc("IIndexed.-nth",d);}function b(d,e){var f=x[na(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.j(arguments[0],arguments[1]);case 3:return x.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};x.j=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):bd(a,b)};x.C=function(a,b,c){return null!=a&&null!=a.Ra?a.Ra(a,b,c):bd(a,b,c)};x.T=3;function Uc(){}
function Vc(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=Vc[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Vc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ISeq.-first",a);}return a}function Wc(a){if(null!=a&&null!=a.ab)a=a.ab(a);else{var b=Wc[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Wc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ISeq.-rest",a);}return a}function Xc(){}
function Yc(a){if(null!=a&&null!=a.Ma)a=a.Ma(a);else{var b=Yc[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INext.-next",a);}return a}function $c(){}
var ud=function(){function a(d,e,f){var h=ad[na(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=ad._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Cc("ILookup.-lookup",d);}function b(d,e){var f=ad[na(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=ad._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),ad=function ad(a){switch(arguments.length){case 2:return ad.j(arguments[0],arguments[1]);case 3:return ad.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ad.j=function(a,b){return null!=a&&null!=a.ma?a.ma(a,b):ud(a,b)};ad.C=function(a,b,c){return null!=a&&null!=a.R?a.R(a,b,c):ud(a,b,c)};ad.T=3;
function cd(a,b,c){if(null!=a&&null!=a.da)a=a.da(a,b,c);else{var d=cd[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=cd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IAssociative.-assoc",a);}return a}function dd(a,b){if(null!=a&&null!=a.Yc)a=a.Yc(a,b);else{var c=dd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IFind.-find",a);}return a}function ed(){}
function fd(a,b){if(null!=a&&null!=a.wa)a=a.wa(a,b);else{var c=fd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=fd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IMap.-dissoc",a);}return a}function gd(a){if(null!=a&&null!=a.rf)a=a.key;else{var b=gd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=gd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IMapEntry.-key",a);}return a}
function hd(a){if(null!=a&&null!=a.sf)a=a.val;else{var b=hd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=hd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IMapEntry.-val",a);}return a}function id(){}function jd(a,b){if(null!=a&&null!=a.vf)a=a.vf(a,b);else{var c=jd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISet.-disjoin",a);}return a}
function kd(a){if(null!=a&&null!=a.Zc)a=a.Zc(a);else{var b=kd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=kd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IStack.-peek",a);}return a}function ld(a){if(null!=a&&null!=a.$c)a=a.$c(a);else{var b=ld[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ld._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IStack.-pop",a);}return a}function md(){}
function nd(a,b,c){if(null!=a&&null!=a.Cc)a=a.Cc(a,b,c);else{var d=nd[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IVector.-assoc-n",a);}return a}function od(){}function y(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=y[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=y._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDeref.-deref",a);}return a}function pd(){}
function qd(a){if(null!=a&&null!=a.ea)a=a.ea(a);else{var b=qd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=qd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IMeta.-meta",a);}return a}function rd(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=rd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWithMeta.-with-meta",a);}return a}function sd(){}
var fe=function(){function a(d,e,f){var h=td[na(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=td._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw Cc("IReduce.-reduce",d);}function b(d,e){var f=td[na(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=td._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.j=b;c.C=a;return c}(),td=function td(a){switch(arguments.length){case 2:return td.j(arguments[0],arguments[1]);case 3:return td.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};td.j=function(a,b){return null!=a&&null!=a.Sa?a.Sa(a,b):fe(a,b)};td.C=function(a,b,c){return null!=a&&null!=a.Ta?a.Ta(a,b,c):fe(a,b,c)};td.T=3;function vd(){}
function wd(a,b,c){if(null!=a&&null!=a.va)a=a.va(a,b,c);else{var d=wd[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=wd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IKVReduce.-kv-reduce",a);}return a}function xd(a,b){if(null!=a&&null!=a.ca)a=a.ca(a,b);else{var c=xd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEquiv.-equiv",a);}return a}
function yd(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=yd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=yd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IHash.-hash",a);}return a}function zd(){}function Ad(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Ad[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Ad._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ISeqable.-seq",a);}return a}function Bd(){}function Cd(){}function Gd(){}
function Hd(){}function Id(a){if(null!=a&&null!=a.pc)a=a.pc(a);else{var b=Id[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Id._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IReversible.-rseq",a);}return a}function Jd(a,b){if(null!=a&&null!=a.qd)a=a.qd(a,b);else{var c=Jd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Jd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWriter.-write",a);}return a}
function Kd(a){if(null!=a&&null!=a.Nc)a=a.Nc(a);else{var b=Kd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Kd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IWriter.-flush",a);}return a}function Ld(){}function Md(a,b,c){if(null!=a&&null!=a.ga)a=a.ga(a,b,c);else{var d=Md[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Md._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IPrintWithWriter.-pr-writer",a);}return a}function Nd(){}
function Od(a){if(null!=a&&null!=a.Je)a=a.Je(a);else{var b=Od[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Od._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IPending.-realized?",a);}return a}function Pd(a,b,c){if(null!=a&&null!=a.Ke)a.Ke(a,b,c);else{var d=Pd[na(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Pd._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IWatchable.-add-watch",a);}}
function Qd(a,b){if(null!=a&&null!=a.Le)a.Le(a,b);else{var c=Qd[na(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Qd._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IWatchable.-remove-watch",a);}}function Rd(a){if(null!=a&&null!=a.od)a=a.od(a);else{var b=Rd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Rd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IEditableCollection.-as-transient",a);}return a}
function Sd(a,b){if(null!=a&&null!=a.pd)a=a.pd(a,b);else{var c=Sd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientCollection.-conj!",a);}return a}function Td(a){if(null!=a&&null!=a.zd)a=a.zd(a);else{var b=Td[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Td._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("ITransientCollection.-persistent!",a);}return a}
function Ud(a,b,c){if(null!=a&&null!=a.Md)a=a.Md(a,b,c);else{var d=Ud[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Ud._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("ITransientAssociative.-assoc!",a);}return a}function Wd(a,b){if(null!=a&&null!=a.Af)a=a.Af(a,b);else{var c=Wd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Wd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITransientMap.-dissoc!",a);}return a}
function Xd(){}function Yd(a,b){if(null!=a&&null!=a.Mc)a=a.Mc(a,b);else{var c=Yd[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Yd._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IComparable.-compare",a);}return a}function Zd(a){if(null!=a&&null!=a.Yd)a=a.Yd(a);else{var b=Zd[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Zd._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChunk.-drop-first",a);}return a}
function $d(a){if(null!=a&&null!=a.$d)a=a.$d(a);else{var b=$d[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=$d._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-first",a);}return a}function ae(a){if(null!=a&&null!=a.yd)a=a.yd(a);else{var b=ae[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ae._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChunkedSeq.-chunked-rest",a);}return a}
function be(a){if(null!=a&&null!=a.ce)a=a.ce(a);else{var b=be[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=be._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INamed.-name",a);}return a}function ce(a){if(null!=a&&null!=a.de)a=a.de(a);else{var b=ce[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ce._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INamed.-namespace",a);}return a}
function de(a,b){if(null!=a&&null!=a.Bc)a=a.Bc(a,b);else{var c=de[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=de._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IReset.-reset!",a);}return a}
var Hh=function(){function a(f,h,k,m,n){var p=ee[na(null==f?null:f)];if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);p=ee._;if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);throw Cc("ISwap.-swap!",f);}function b(f,h,k,m){var n=ee[na(null==f?null:f)];if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);n=ee._;if(null!=n)return n.P?n.P(f,h,k,m):n.call(null,f,h,k,m);throw Cc("ISwap.-swap!",f);}function c(f,h,k){var m=ee[na(null==f?null:f)];if(null!=m)return m.C?m.C(f,h,
k):m.call(null,f,h,k);m=ee._;if(null!=m)return m.C?m.C(f,h,k):m.call(null,f,h,k);throw Cc("ISwap.-swap!",f);}function d(f,h){var k=ee[na(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=ee._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw Cc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.j=d;e.C=c;e.P=b;e.ka=a;return e}(),ee=function ee(a){switch(arguments.length){case 2:return ee.j(arguments[0],arguments[1]);case 3:return ee.C(arguments[0],arguments[1],arguments[2]);case 4:return ee.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ee.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ee.j=function(a,b){return null!=a&&null!=a.wf?a.wf(a,b):Hh(a,b)};
ee.C=function(a,b,c){return null!=a&&null!=a.xf?a.xf(a,b,c):Hh(a,b,c)};ee.P=function(a,b,c,d){return null!=a&&null!=a.yf?a.yf(a,b,c,d):Hh(a,b,c,d)};ee.ka=function(a,b,c,d,e){return null!=a&&null!=a.zf?a.zf(a,b,c,d,e):Hh(a,b,c,d,e)};ee.T=5;function ge(a,b){if(null!=a&&null!=a.Dc)a.Dc(a,b);else{var c=ge[na(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=ge._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IVolatile.-vreset!",a);}}function he(){}
function ie(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=ie[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ie._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IIterable.-iterator",a);}return a}function je(a){this.Gi=a;this.J=1073741824;this.Y=0}je.prototype.qd=function(a,b){return this.Gi.append(b)};je.prototype.Nc=function(){return null};function ke(a){var b=new dc,c=new je(b);a.ga(null,c,oc());c.Nc(null);return t.B(b)}
var le="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function me(a){a=le(a|0,-862048943);return le(a<<15|a>>>-15,461845907)}function ne(a,b){a=(a|0)^(b|0);return le(a<<13|a>>>-13,5)+-430675100|0}function oe(a,b){a=(a|0)^b;a=le(a^a>>>16,-2048144789);a=le(a^a>>>13,-1028477387);return a^a>>>16}var pe={},qe=0;
function re(a){255<qe&&(pe={},qe=0);if(null==a)return 0;var b=pe[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=le(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;pe[a]=b;qe+=1;a=b}return a}
function se(a){if(null!=a&&(a.J&4194304||l===a.rh))return a.ia(null)^0;if("number"===typeof a){if(r(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=re(a),a=0===a?a:oe(ne(0,me(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yd(a)^0,a}function te(a){return a instanceof A}
function ue(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=ne(d,me(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=oe(1===(b.length&1)?c^me(b.charCodeAt(b.length-1)):c,le(2,b.length));a=re(a.Mb);return b^a+2654435769+(b<<6)+(b>>2)}function ve(a,b){if(a.Vc===b.Vc)return 0;if(r(yc(a.Mb)?b.Mb:!1))return-1;if(r(a.Mb)){if(yc(b.Mb))return 1;var c=$a(a.Mb,b.Mb);return 0===c?$a(a.name,b.name):c}return $a(a.name,b.name)}
function A(a,b,c,d,e){this.Mb=a;this.name=b;this.Vc=c;this._hash=d;this.mc=e;this.J=2154168321;this.Y=4096}g=A.prototype;g.toString=function(){return this.Vc};g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return b instanceof A?this.Vc===b.Vc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return B.j?B.j(a,this):B.call(null,a,this)};g.j=function(a,b){return B.C?B.C(a,this,b):B.call(null,a,this,b)};g.ea=function(){return this.mc};g.fa=function(a,b){return new A(this.Mb,this.name,this.Vc,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=ue(this)};g.ce=function(){return this.name};g.de=function(){return this.Mb};g.ga=function(a,b){return Jd(b,this.Vc)};
var we=function we(a){switch(arguments.length){case 1:return we.B(arguments[0]);case 2:return we.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};we.B=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?we.j(null,a):we.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof xe)return a.Id;if(a instanceof C)a=a.na;else throw Error("no conversion to symbol");}};
we.j=function(a,b){var c=null!=a?[t.B(a),"/",t.B(b)].join(""):b;return new A(a,b,c,null,null)};we.T=2;function xe(a,b,c){this.val=a;this.Id=b;this.mc=c;this.J=6717441;this.Y=0}g=xe.prototype;g.toString=function(){return["#'",t.B(this.Id)].join("")};g.fb=function(){return this.val.O?this.val.O():this.val.call(null)};g.ea=function(){return this.mc};g.fa=function(a,b){return new xe(this.val,this.Id,b)};g.ca=function(a,b){return b instanceof xe?(a=this.Id,b=b.Id,D.j?D.j(a,b):D.call(null,a,b)):!1};
g.ia=function(){return ue(this.Id)};g.sg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Cb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Eb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Gb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.O=function(){var a=this.val.O?this.val.O():this.val.call(null);return a.O?a.O():a.call(null)};g.B=function(a){var b=this.val.O?this.val.O():this.val.call(null);return b.B?b.B(a):b.call(null,a)};
g.j=function(a,b){var c=this.val.O?this.val.O():this.val.call(null);return c.j?c.j(a,b):c.call(null,a,b)};g.C=function(a,b,c){var d=this.val.O?this.val.O():this.val.call(null);return d.C?d.C(a,b,c):d.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.val.O?this.val.O():this.val.call(null);return e.P?e.P(a,b,c,d):e.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){var f=this.val.O?this.val.O():this.val.call(null);return f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Qa=function(a,b,c,d,e,f){var h=this.val.O?this.val.O():this.val.call(null);return h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Hb=function(a,b,c,d,e,f,h){var k=this.val.O?this.val.O():this.val.call(null);return k.Hb?k.Hb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){var m=this.val.O?this.val.O():this.val.call(null);return m.qb?m.qb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Ib=function(a,b,c,d,e,f,h,k,m){var n=this.val.O?this.val.O():this.val.call(null);return n.Ib?n.Ib(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.wb=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.O?this.val.O():this.val.call(null);return p.wb?p.wb(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.xb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.O?this.val.O():this.val.call(null);return u.xb?u.xb(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.yb=function(a,b,c,d,e,f,h,k,m,n,p,u){var w=this.val.O?this.val.O():this.val.call(null);return w.yb?w.yb(a,b,c,d,e,f,h,k,m,n,p,u):w.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u,w){var z=this.val.O?this.val.O():this.val.call(null);return z.zb?z.zb(a,b,c,d,e,f,h,k,m,n,p,u,w):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z){var F=this.val.O?this.val.O():this.val.call(null);return F.Ab?F.Ab(a,b,c,d,e,f,h,k,m,n,p,u,w,z):F.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F){var H=this.val.O?this.val.O():this.val.call(null);return H.Bb?H.Bb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F):H.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H){var G=this.val.O?this.val.O():this.val.call(null);return G.Cb?G.Cb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H)};g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G){var N=this.val.O?this.val.O():this.val.call(null);return N.Db?N.Db(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N){var O=this.val.O?this.val.O():this.val.call(null);return O.Eb?O.Eb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N)};g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O){var U=this.val.O?this.val.O():this.val.call(null);return U.Fb?U.Fb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U){var ea=this.val.O?this.val.O():this.val.call(null);return ea.Gb?ea.Gb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U)};g.ae=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea){var va=this.val.O?this.val.O():this.val.call(null);return Ae.qf?Ae.qf(va,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea):Ae.call(null,va,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea)};
function Be(a){return null!=a?a.Y&131072||l===a.Oi?!0:a.Y?!1:Ac(he,a):Ac(he,a)}function E(a){if(null==a)return null;if(null!=a&&(a.J&8388608||l===a.uf))return a.ha(null);if(wc(a)||"string"===typeof a)return 0===a.length?null:new I(a,0,null);if(null!=a&&null!=a[Ec])return a=ib(a,Ec).call(a),Ce.B?Ce.B(a):Ce.call(null,a);if(Ac(zd,a))return Ad(a);throw Error([t.B(a)," is not ISeqable"].join(""));}
function J(a){if(null==a)return null;if(null!=a&&(a.J&64||l===a.ua))return a.Ua(null);a=E(a);return null==a?null:Vc(a)}function De(a){return null!=a?null!=a&&(a.J&64||l===a.ua)?a.ab(null):(a=E(a))?a.ab(null):Ee:Ee}function K(a){return null==a?null:null!=a&&(a.J&128||l===a.ee)?a.Ma(null):E(De(a))}
var D=function D(a){switch(arguments.length){case 1:return D.B(arguments[0]);case 2:return D.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return D.F(arguments[0],arguments[1],c)}};D.B=function(){return!0};D.j=function(a,b){return null==a?null==b:a===b||xd(a,b)};D.F=function(a,b,c){for(;;)if(D.j(a,b))if(K(c))a=b,b=J(c),c=K(c);else return D.j(b,J(c));else return!1};
D.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};D.T=2;function Fe(a){this.s=a}Fe.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ge(a){return new Fe(E(a))}function He(a,b){this.value=a;this.iter=b;this.jf=null;this.J=8388672;this.Y=0}He.prototype.ha=function(){return this};He.prototype.Ua=function(){return this.value};
He.prototype.ab=function(){null==this.jf&&(this.jf=Ce.B?Ce.B(this.iter):Ce.call(null,this.iter));return this.jf};function Ce(a){var b=a.next();return r(b.done)?null:new He(b.value,a)}function Ie(a){var b=0,c=1;for(a=E(a);;)if(null!=a)b+=1,c=le(31,c)+se(J(a))|0,a=K(a);else return oe(ne(0,me(c)),b)}var Je=oe(ne(0,me(1)),0);function Ke(a){var b=0,c=0;for(a=E(a);;)if(null!=a)b+=1,c=c+se(J(a))|0,a=K(a);else return oe(ne(0,me(c)),b)}var Le=oe(ne(0,me(0)),0);Mc["null"]=!0;Nc["null"]=function(){return 0};
Date.prototype.ca=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Xc=l;Date.prototype.Mc=function(a,b){if(b instanceof Date)return $a(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};xd.number=function(a,b){return a===b};Kc["function"]=!0;pd["function"]=!0;qd["function"]=function(){return null};yd._=function(a){return ta(a)};function Me(a){return a+1}function Ne(a){this.val=a;this.J=32768;this.Y=0}
Ne.prototype.fb=function(){return this.val};function Oe(a){return new Ne(a)}function Pe(a){return a instanceof Ne}function Qe(a){return Pe(a)?Re.B?Re.B(a):Re.call(null,a):a}function Re(a){return y(a)}function Se(a,b){var c=a.ja(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.xa(null,0),e=1;;)if(e<c){var f=a.xa(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Pe(d))return y(d);e+=1}else return d}
function Te(a,b,c){var d=a.ja(null),e=c;for(c=0;;)if(c<d){var f=a.xa(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Pe(e))return y(e);c+=1}else return e}function Ue(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Pe(d))return y(d);e+=1}else return d}function Ve(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Pe(e))return y(e);c+=1}else return e}
function We(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Pe(c))return y(c);d+=1}else return c}function Xe(a){return null!=a?a.J&2||l===a.tg?!0:a.J?!1:Ac(Mc,a):Ac(Mc,a)}function Ye(a){return null!=a?a.J&16||l===a.xg?!0:a.J?!1:Ac(Sc,a):Ac(Sc,a)}function Ze(a,b,c){var d=M.B?M.B(a):M.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.j($e?$e(a,c):af.call(null,a,c),b))return c;c+=1}else return-1}
function bf(a,b,c){var d=M.B?M.B(a):M.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.j($e?$e(a,c):af.call(null,a,c),b))return c;--c}else return-1}function cf(a,b){this.K=a;this.i=b}cf.prototype.Ya=function(){return this.i<this.K.length};cf.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function I(a,b,c){this.K=a;this.i=b;this.meta=c;this.J=166592766;this.Y=139264}g=I.prototype;g.toString=function(){return ke(this)};
g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M.B?M.B(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.xa=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.Ra=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.oa=function(){return new cf(this.K,this.i)};g.ea=function(){return this.meta};g.Ma=function(){return this.i+1<this.K.length?new I(this.K,this.i+1,null):null};g.ja=function(){var a=this.K.length-this.i;return 0>a?0:a};g.pc=function(){var a=this.ja(null);return 0<a?new df(this,a-1,null):null};g.ia=function(){return Ie(this)};g.ca=function(a,b){return ef.j?ef.j(this,b):ef.call(null,this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return We(this.K,b,this.K[this.i],this.i+1)};
g.Ta=function(a,b,c){return We(this.K,b,c,this.i)};g.Ua=function(){return this.K[this.i]};g.ab=function(){return this.i+1<this.K.length?new I(this.K,this.i+1,null):Ee};g.ha=function(){return this.i<this.K.length?this:null};g.fa=function(a,b){return b===this.meta?this:new I(this.K,this.i,b)};g.la=function(a,b){return ff.j?ff.j(b,this):ff.call(null,b,this)};I.prototype[Ec]=function(){return Ge(this)};function P(a){return 0<a.length?new I(a,0,null):null}
function df(a,b,c){this.ci=a;this.i=b;this.meta=c;this.J=32374990;this.Y=8192}g=df.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M.B?M.B(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 0<this.i?new df(this.ci,this.i-1,null):null};g.ja=function(){return this.i+1};g.ia=function(){return Ie(this)};
g.ca=function(a,b){return ef.j?ef.j(this,b):ef.call(null,this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf?gf(b,this):hf.call(null,b,this)};g.Ta=function(a,b,c){return jf?jf(b,c,this):hf.call(null,b,c,this)};g.Ua=function(){return x(this.ci,this.i)};g.ab=function(){return 0<this.i?new df(this.ci,this.i-1,null):Ee};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new df(this.ci,this.i,b)};g.la=function(a,b){return ff.j?ff.j(b,this):ff.call(null,b,this)};
df.prototype[Ec]=function(){return Ge(this)};function kf(a){return J(K(a))}function lf(a){return J(J(a))}function mf(a){for(;;){var b=K(a);if(null!=b)a=b;else return J(a)}}xd._=function(a,b){return a===b};
var nf=function nf(a){switch(arguments.length){case 0:return nf.O();case 1:return nf.B(arguments[0]);case 2:return nf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return nf.F(arguments[0],arguments[1],c)}};nf.O=function(){return of};nf.B=function(a){return a};nf.j=function(a,b){return null!=a?Rc(a,b):new pf(null,b,null,1,null)};
nf.F=function(a,b,c){for(;;)if(r(c))a=nf.j(a,b),b=J(c),c=K(c);else return nf.j(a,b)};nf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};nf.T=2;function qf(a){return null==a?null:null!=a&&(a.J&4||l===a.wg)?a.Ja(null):(null!=a?a.J&4||l===a.wg||(a.J?0:Ac(Oc,a)):Ac(Oc,a))?Pc(a):null}
function M(a){if(null!=a)if(null!=a&&(a.J&2||l===a.tg))a=a.ja(null);else if(wc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.J&8388608||l===a.uf))a:{a=E(a);for(var b=0;;){if(Xe(a)){a=b+Nc(a);break a}a=K(a);b+=1}}else a=Nc(a);else a=0;return a}function rf(a,b,c){for(;;){if(null==a)return c;if(0===b)return E(a)?J(a):c;if(Ye(a))return x(a,b,c);if(E(a))a=K(a),--b;else return c}}
function af(a){switch(arguments.length){case 2:return $e(arguments[0],arguments[1]);case 3:return Q(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function $e(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.J&16||l===a.xg))return a.xa(null,b);if(wc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.J&64||l===a.ua)||null!=a&&(a.J&16777216||l===a.yg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(E(a)){a=J(a);break a}throw Error("Index out of bounds");}if(Ye(a)){a=x(a,b);break a}if(E(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(Ac(Sc,a))return x(a,b);throw Error(["nth not supported on this type ",t.B(Dc(Bc(a)))].join(""));}
function Q(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.J&16||l===a.xg))return a.Ra(null,b,c);if(wc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.J&64||l===a.ua)||null!=a&&(a.J&16777216||l===a.yg))return 0>b?c:rf(a,b,c);if(Ac(Sc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.B(Dc(Bc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.j(arguments[0],arguments[1]);case 3:return B.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};B.j=function(a,b){return null==a?null:null!=a&&(a.J&256||l===a.sh)?a.ma(null,b):wc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Ac($c,a)?ad(a,b):null};
B.C=function(a,b,c){return null!=a?null!=a&&(a.J&256||l===a.sh)?a.R(null,b,c):wc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Ac($c,a)?ad(a,b,c):c:c};B.T=3;var R=function R(a){switch(arguments.length){case 3:return R.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return R.F(arguments[0],arguments[1],arguments[2],c)}};
R.C=function(a,b,c){return null!=a&&(a.J&512||l===a.Ji)?a.da(null,b,c):null!=a?cd(a,b,c):sf([b,c])};R.F=function(a,b,c,d){for(;;)if(a=R.C(a,b,c),r(d))b=J(d),c=kf(d),d=K(K(d));else return a};R.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};R.T=3;
var S=function S(a){switch(arguments.length){case 1:return S.B(arguments[0]);case 2:return S.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return S.F(arguments[0],arguments[1],c)}};S.B=function(a){return a};S.j=function(a,b){return null==a?null:fd(a,b)};S.F=function(a,b,c){for(;;){if(null==a)return null;a=S.j(a,b);if(r(c))b=J(c),c=K(c);else return a}};
S.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};S.T=2;function tf(a){var b=ra(a);return b?b:null!=a?l===a.sg?!0:a.rd?!1:Ac(Kc,a):Ac(Kc,a)}function uf(a,b){this.pa=a;this.meta=b;this.J=393217;this.Y=0}g=uf.prototype;g.ea=function(){return this.meta};g.fa=function(a,b){return new uf(this.pa,b)};g.sg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Cb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Eb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Gb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.O=function(){return this.pa.O?this.pa.O():this.pa.call(null)};g.B=function(a){return this.pa.B?this.pa.B(a):this.pa.call(null,a)};g.j=function(a,b){return this.pa.j?this.pa.j(a,b):this.pa.call(null,a,b)};g.C=function(a,b,c){return this.pa.C?this.pa.C(a,b,c):this.pa.call(null,a,b,c)};
g.P=function(a,b,c,d){return this.pa.P?this.pa.P(a,b,c,d):this.pa.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){return this.pa.ka?this.pa.ka(a,b,c,d,e):this.pa.call(null,a,b,c,d,e)};g.Qa=function(a,b,c,d,e,f){return this.pa.Qa?this.pa.Qa(a,b,c,d,e,f):this.pa.call(null,a,b,c,d,e,f)};g.Hb=function(a,b,c,d,e,f,h){return this.pa.Hb?this.pa.Hb(a,b,c,d,e,f,h):this.pa.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){return this.pa.qb?this.pa.qb(a,b,c,d,e,f,h,k):this.pa.call(null,a,b,c,d,e,f,h,k)};
g.Ib=function(a,b,c,d,e,f,h,k,m){return this.pa.Ib?this.pa.Ib(a,b,c,d,e,f,h,k,m):this.pa.call(null,a,b,c,d,e,f,h,k,m)};g.wb=function(a,b,c,d,e,f,h,k,m,n){return this.pa.wb?this.pa.wb(a,b,c,d,e,f,h,k,m,n):this.pa.call(null,a,b,c,d,e,f,h,k,m,n)};g.xb=function(a,b,c,d,e,f,h,k,m,n,p){return this.pa.xb?this.pa.xb(a,b,c,d,e,f,h,k,m,n,p):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.yb=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.pa.yb?this.pa.yb(a,b,c,d,e,f,h,k,m,n,p,u):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u,w){return this.pa.zb?this.pa.zb(a,b,c,d,e,f,h,k,m,n,p,u,w):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z){return this.pa.Ab?this.pa.Ab(a,b,c,d,e,f,h,k,m,n,p,u,w,z):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F){return this.pa.Bb?this.pa.Bb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H){return this.pa.Cb?this.pa.Cb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H)};g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G){return this.pa.Db?this.pa.Db(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N){return this.pa.Eb?this.pa.Eb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N)};g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O){return this.pa.Fb?this.pa.Fb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U){return this.pa.Gb?this.pa.Gb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U)};g.ae=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea){return Ae.qf?Ae.qf(this.pa,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea):Ae.call(null,this.pa,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea)};function vf(a,b){return ra(a)?new uf(a,b):null==a?null:rd(a,b)}
function wf(a){return null!=a&&(null!=a?a.J&131072||l===a.be||(a.J?0:Ac(pd,a)):Ac(pd,a))?qd(a):null}var xf=function xf(a){switch(arguments.length){case 1:return xf.B(arguments[0]);case 2:return xf.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return xf.F(arguments[0],arguments[1],c)}};xf.B=function(a){return a};xf.j=function(a,b){return null==a?null:jd(a,b)};
xf.F=function(a,b,c){for(;;){if(null==a)return null;a=xf.j(a,b);if(r(c))b=J(c),c=K(c);else return a}};xf.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};xf.T=2;function yf(a){return null==a||yc(E(a))}function zf(a){return null==a?!1:null!=a?a.J&8||l===a.Li?!0:a.J?!1:Ac(Qc,a):Ac(Qc,a)}function Af(a){return null==a?!1:null!=a?a.J&4096||l===a.Vi?!0:a.J?!1:Ac(id,a):Ac(id,a)}function Bf(a){return null!=a?a.J&16777216||l===a.yg?!0:a.J?!1:Ac(Bd,a):Ac(Bd,a)}
function Cf(a){return null==a?!1:null!=a?a.J&1024||l===a.Ri?!0:a.J?!1:Ac(ed,a):Ac(ed,a)}function Df(a){return null!=a?a.J&67108864||l===a.Ui?!0:a.J?!1:Ac(Gd,a):Ac(Gd,a)}function Ff(a){return null!=a?a.J&16384||l===a.Wi?!0:a.J?!1:Ac(md,a):Ac(md,a)}function Gf(a){return null!=a?a.Y&512||l===a.Ki?!0:!1:!1}function Hf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var If={};function Jf(a){return null==a?!1:null!=a?a.J&64||l===a.ua?!0:a.J?!1:Ac(Uc,a):Ac(Uc,a)}
function Kf(a){return null==a?!1:!1===a?!1:!0}function Lf(a){var b=tf(a);return b?b:null!=a?a.J&1||l===a.Ni?!0:a.J?!1:Ac(Lc,a):Ac(Lc,a)}function Mf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Nf(a,b){return B.C(a,b,If)===If?!1:!0}
var Of=function Of(a){switch(arguments.length){case 1:return Of.B(arguments[0]);case 2:return Of.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Of.F(arguments[0],arguments[1],c)}};Of.B=function(){return!0};Of.j=function(a,b){return!D.j(a,b)};Of.F=function(a,b,c){if(D.j(a,b))return!1;a=Pf([a,b]);for(b=c;;){var d=J(b);c=K(b);if(r(b)){if(Nf(a,d))return!1;a=nf.j(a,d);b=c}else return!0}};
Of.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Of.T=2;function Qf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return $a(a,b);throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));}if(null!=a?a.Y&2048||l===a.Xc||(a.Y?0:Ac(Xd,a)):Ac(Xd,a))return Yd(a,b);if("string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b))throw Error(["Cannot compare ",t.B(a)," to ",t.B(b)].join(""));return $a(a,b)}
function Rf(a,b){var c=M(a),d=M(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Qf($e(a,d),$e(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Sf(a){return D.j(a,Qf)?Qf:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Tf(a,b){return E(b)?(b=Uf.B?Uf.B(b):Uf.call(null,b),ab(b,Sf(a)),E(b)):Ee}
function Vf(a){var b=Wf;return Tf(function(c,d){c=b.B?b.B(c):b.call(null,c);d=b.B?b.B(d):b.call(null,d);var e=Sf(Qf);return e.j?e.j(c,d):e.call(null,c,d)},a)}function hf(a){switch(arguments.length){case 2:return gf(arguments[0],arguments[1]);case 3:return jf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function gf(a,b){var c=E(b);return c?(b=J(c),c=K(c),v.C?v.C(a,b,c):v.call(null,a,b,c)):a.O?a.O():a.call(null)}
function jf(a,b,c){for(c=E(c);;)if(c){var d=J(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Pe(b))return y(b);c=K(c)}else return b}function Xf(a){a=Uf.B?Uf.B(a):Uf.call(null,a);bb(a);return Yf.B?Yf.B(a):Yf.call(null,a)}function Zf(a,b){a=ie(a);if(r(a.Ya()))for(var c=a.next();;)if(a.Ya()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Pe(c))return y(c)}else return c;else return b.O?b.O():b.call(null)}
function $f(a,b,c){for(a=ie(a);;)if(a.Ya()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Pe(c))return y(c)}else return c}var v=function v(a){switch(arguments.length){case 2:return v.j(arguments[0],arguments[1]);case 3:return v.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};v.j=function(a,b){return null!=b&&(b.J&524288||l===b.th)?b.Sa(null,a):wc(b)?Ue(b,a):"string"===typeof b?Ue(b,a):Ac(sd,b)?td(b,a):Be(b)?Zf(b,a):gf(a,b)};
v.C=function(a,b,c){return null!=c&&(c.J&524288||l===c.th)?c.Ta(null,a,b):wc(c)?Ve(c,a,b):"string"===typeof c?Ve(c,a,b):Ac(sd,c)?td(c,a,b):Be(c)?$f(c,a,b):jf(a,b,c)};v.T=3;function ag(a,b,c){return null!=c?wd(c,a,b):b}function bg(a){return a}
function cg(a,b){return function(){function c(h,k){return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function fg(a,b,c){return gg(a,b,b.O?b.O():b.call(null),c)}
function gg(a,b,c,d){a=a.B?a.B(b):a.call(null,b);c=v.C(a,c,d);return a.B?a.B(c):a.call(null,c)}var hg=function hg(a){switch(arguments.length){case 0:return hg.O();case 1:return hg.B(arguments[0]);case 2:return hg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return hg.F(arguments[0],arguments[1],c)}};hg.O=function(){return 0};hg.B=function(a){return a};hg.j=function(a,b){return a+b};
hg.F=function(a,b,c){return v.C(hg,a+b,c)};hg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};hg.T=2;var ig=function ig(a){switch(arguments.length){case 1:return ig.B(arguments[0]);case 2:return ig.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return ig.F(arguments[0],arguments[1],c)}};ig.B=function(a){return-a};ig.j=function(a,b){return a-b};
ig.F=function(a,b,c){return v.C(ig,a-b,c)};ig.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ig.T=2;var jg=function jg(a){switch(arguments.length){case 0:return jg.O();case 1:return jg.B(arguments[0]);case 2:return jg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return jg.F(arguments[0],arguments[1],c)}};jg.O=function(){return 1};jg.B=function(a){return a};
jg.j=function(a,b){return a*b};jg.F=function(a,b,c){return v.C(jg,a*b,c)};jg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};jg.T=2;var kg=function kg(a){switch(arguments.length){case 1:return kg.B(arguments[0]);case 2:return kg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return kg.F(arguments[0],arguments[1],c)}};kg.B=function(a){return 1/a};kg.j=function(a,b){return a/b};
kg.F=function(a,b,c){return v.C(kg,a/b,c)};kg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};kg.T=2;var lg=function lg(a){switch(arguments.length){case 1:return lg.B(arguments[0]);case 2:return lg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return lg.F(arguments[0],arguments[1],c)}};lg.B=function(){return!0};lg.j=function(a,b){return a<b};
lg.F=function(a,b,c){for(;;)if(a<b)if(K(c))a=b,b=J(c),c=K(c);else return b<J(c);else return!1};lg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lg.T=2;var mg=function mg(a){switch(arguments.length){case 1:return mg.B(arguments[0]);case 2:return mg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return mg.F(arguments[0],arguments[1],c)}};mg.B=function(){return!0};
mg.j=function(a,b){return a<=b};mg.F=function(a,b,c){for(;;)if(a<=b)if(K(c))a=b,b=J(c),c=K(c);else return b<=J(c);else return!1};mg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};mg.T=2;var ng=function ng(a){switch(arguments.length){case 1:return ng.B(arguments[0]);case 2:return ng.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return ng.F(arguments[0],arguments[1],c)}};ng.B=function(){return!0};
ng.j=function(a,b){return a>b};ng.F=function(a,b,c){for(;;)if(a>b)if(K(c))a=b,b=J(c),c=K(c);else return b>J(c);else return!1};ng.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};ng.T=2;var og=function og(a){switch(arguments.length){case 1:return og.B(arguments[0]);case 2:return og.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return og.F(arguments[0],arguments[1],c)}};og.B=function(){return!0};
og.j=function(a,b){return a>=b};og.F=function(a,b,c){for(;;)if(a>=b)if(K(c))a=b,b=J(c),c=K(c);else return b>=J(c);else return!1};og.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};og.T=2;var pg=function pg(a){switch(arguments.length){case 1:return pg.B(arguments[0]);case 2:return pg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return pg.F(arguments[0],arguments[1],c)}};pg.B=function(a){return a};
pg.j=function(a,b){return a>b?a:b};pg.F=function(a,b,c){return v.C(pg,a>b?a:b,c)};pg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};pg.T=2;var qg=function qg(a){switch(arguments.length){case 1:return qg.B(arguments[0]);case 2:return qg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return qg.F(arguments[0],arguments[1],c)}};qg.B=function(a){return a};
qg.j=function(a,b){return a<b?a:b};qg.F=function(a,b,c){return v.C(qg,a<b?a:b,c)};qg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};qg.T=2;function rg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function sg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function tg(a,b){return(a%b+b)%b}function ug(a,b){return sg((a-a%b)/b)}function vg(a,b){return a-b*ug(a,b)}
function wg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var xg=function xg(a){switch(arguments.length){case 1:return xg.B(arguments[0]);case 2:return xg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return xg.F(arguments[0],arguments[1],c)}};xg.B=function(){return!0};xg.j=function(a,b){return xd(a,b)};
xg.F=function(a,b,c){for(;;)if(a===b)if(K(c))a=b,b=J(c),c=K(c);else return b===J(c);else return!1};xg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};xg.T=2;var t=function t(a){switch(arguments.length){case 0:return t.O();case 1:return t.B(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(1),0,null);return t.F(arguments[0],c)}};t.O=function(){return""};t.B=function(a){return null==a?"":[a].join("")};
t.F=function(a,b){for(a=new dc(t.B(a));;)if(r(b))a=a.append(t.B(J(b))),b=K(b);else return a.toString()};t.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};t.T=1;var yg=function yg(a){switch(arguments.length){case 2:return yg.j(arguments[0],arguments[1]);case 3:return yg.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};yg.j=function(a,b){return a.substring(b)};yg.C=function(a,b,c){return a.substring(b,c)};yg.T=3;
function ef(a,b){if(Bf(b))if(Xe(a)&&Xe(b)&&M(a)!==M(b))a=!1;else a:for(a=E(a),b=E(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.j(J(a),J(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return Kf(a)}function pf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.I=e;this.J=65937646;this.Y=8192}g=pf.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 1===this.count?null:this.rest};g.ja=function(){return this.count};g.Zc=function(){return this.first};g.$c=function(){return this.ab(null)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return rd(Ee,this.meta)};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return this.first};g.ab=function(){return 1===this.count?Ee:this.rest};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new pf(b,this.first,this.rest,this.count,this.I)};g.la=function(a,b){return new pf(this.meta,b,this,this.count+1,null)};
function zg(a){return null!=a?a.J&33554432||l===a.Qi?!0:a.J?!1:Ac(Cd,a):Ac(Cd,a)}pf.prototype[Ec]=function(){return Ge(this)};function Ag(a){this.meta=a;this.J=65937614;this.Y=8192}g=Ag.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null};g.ja=function(){return 0};g.Zc=function(){return null};g.$c=function(){throw Error("Can't pop empty list");};g.ia=function(){return Je};
g.ca=function(a,b){return zg(b)||Bf(b)?null==E(b):!1};g.Ja=function(){return this};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return null};g.ab=function(){return Ee};g.ha=function(){return null};g.fa=function(a,b){return b===this.meta?this:new Ag(b)};g.la=function(a,b){return new pf(this.meta,b,null,1,null)};var Ee=new Ag(null);Ag.prototype[Ec]=function(){return Ge(this)};
function Bg(a){return(null!=a?a.J&134217728||l===a.uh||(a.J?0:Ac(Hd,a)):Ac(Hd,a))?(a=Id(a))?a:Ee:v.C(nf,Ee,a)}var Cg=function Cg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Cg.F(c)};Cg.F=function(a){if(a instanceof I&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Vc(a)),a=Yc(a);else break a;a=b.length;for(var c=Ee;;)if(0<a){var d=a-1;c=Rc(c,b[a-1]);a=d}else return c};Cg.T=0;Cg.ba=function(a){return this.F(E(a))};
function Dg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.I=d;this.J=65929452;this.Y=8192}g=Dg.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null==this.rest?null:E(this.rest)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};
g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return this.first};g.ab=function(){return null==this.rest?Ee:this.rest};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Dg(b,this.first,this.rest,this.I)};g.la=function(a,b){return new Dg(null,b,this,null)};Dg.prototype[Ec]=function(){return Ge(this)};
function ff(a,b){return null==b?new pf(null,a,null,1,null):null!=b&&(b.J&64||l===b.ua)?new Dg(null,a,b,null):new Dg(null,a,E(b),null)}function Eg(a,b){if(a.na===b.na)return 0;if(r(yc(a.Mb)?b.Mb:!1))return-1;if(r(a.Mb)){if(yc(b.Mb))return 1;var c=$a(a.Mb,b.Mb);return 0===c?$a(a.name,b.name):c}return $a(a.name,b.name)}function C(a,b,c,d){this.Mb=a;this.name=b;this.na=c;this._hash=d;this.J=2153775105;this.Y=4096}g=C.prototype;g.toString=function(){return[":",t.B(this.na)].join("")};
g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return b instanceof C?this.na===b.na:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return B.j(a,this)};g.j=function(a,b){return B.C(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=ue(this)+2654435769|0};g.ce=function(){return this.name};g.de=function(){return this.Mb};g.ga=function(a,b){return Jd(b,[":",t.B(this.na)].join(""))};function T(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.na===b.na:!1}function Fg(a){if(null!=a&&(a.Y&4096||l===a.tf))return a.de(null);throw Error(["Doesn't support namespace: ",t.B(a)].join(""));}function Gg(a){return a instanceof C||a instanceof A}
var Hg=function Hg(a){switch(arguments.length){case 1:return Hg.B(arguments[0]);case 2:return Hg.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Hg.B=function(a){if(a instanceof C)return a;if(a instanceof A)return new C(Fg(a),Ig.B?Ig.B(a):Ig.call(null,a),a.Vc,null);if(D.j("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
Hg.j=function(a,b){a=a instanceof C?Ig.B?Ig.B(a):Ig.call(null,a):a instanceof A?Ig.B?Ig.B(a):Ig.call(null,a):a;b=b instanceof C?Ig.B?Ig.B(b):Ig.call(null,b):b instanceof A?Ig.B?Ig.B(b):Ig.call(null,b):b;return new C(a,b,[r(a)?[t.B(a),"/"].join(""):null,t.B(b)].join(""),null)};Hg.T=2;function Jg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.I=d;this.J=32374988;this.Y=1}g=Jg.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
function Kg(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){this.ha(null);return null==this.s?null:K(this.s)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};
g.Ja=function(){return rd(Ee,this.meta)};g.Je=function(){return yc(this.fn)};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){this.ha(null);return null==this.s?null:J(this.s)};g.ab=function(){this.ha(null);return null!=this.s?De(this.s):Ee};g.ha=function(){Kg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Jg)a=Kg(a);else return this.s=a,E(this.s)};
g.fa=function(a,b){var c=this;return b===this.meta?c:new Jg(b,function(){return c.ha(null)},null,this.I)};g.la=function(a,b){return ff(b,this)};Jg.prototype[Ec]=function(){return Ge(this)};function Lg(a){this.buf=a;this.end=0;this.J=2;this.Y=0}Lg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};Lg.prototype.Vb=function(){var a=new Mg(this.buf,0,this.end);this.buf=null;return a};Lg.prototype.ja=function(){return this.end};function Ng(a){return new Lg(Array(a))}
function Mg(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.Y=0}g=Mg.prototype;g.ja=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.Yd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Mg(this.K,this.off+1,this.end)};g.Sa=function(a,b){return We(this.K,b,this.K[this.off],this.off+1)};g.Ta=function(a,b,c){return We(this.K,b,c,this.off)};
function Og(a,b,c,d){this.Vb=a;this.more=b;this.meta=c;this.I=d;this.J=31850732;this.Y=1536}g=Og.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return 1<Nc(this.Vb)?new Og(Zd(this.Vb),this.more,null,null):null==this.more?null:Ad(this.more)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Ua=function(){return x(this.Vb,0)};g.ab=function(){return 1<Nc(this.Vb)?new Og(Zd(this.Vb),this.more,null,null):null==this.more?Ee:this.more};g.ha=function(){return this};g.$d=function(){return this.Vb};g.yd=function(){return null==this.more?Ee:this.more};g.fa=function(a,b){return b===this.meta?this:new Og(this.Vb,this.more,b,this.I)};g.la=function(a,b){return ff(b,this)};g.Zd=function(){return null==this.more?null:this.more};
Og.prototype[Ec]=function(){return Ge(this)};function Pg(a,b){return 0===Nc(a)?b:new Og(a,b,null,null)}function Qg(a,b){a.add(b)}function Rg(a){return a.Vb()}function Uf(a){var b=[];for(a=E(a);;)if(null!=a)b.push(J(a)),a=K(a);else return b}function Sg(a,b){if(Xe(b))return M(b);var c=0;for(b=E(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var Tg=function Tg(a){if(null==a)return null;var c=K(a);return null==c?E(J(a)):ff(J(a),Tg.B?Tg.B(c):Tg.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.O();case 1:return V.B(arguments[0]);case 2:return V.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return V.F(arguments[0],arguments[1],c)}};V.O=function(){return new Jg(null,function(){return null},null,null)};
V.B=function(a){return new Jg(null,function(){return a},null,null)};V.j=function(a,b){return new Jg(null,function(){var c=E(a);return c?Gf(c)?Pg($d(c),V.j(ae(c),b)):ff(J(c),V.j(De(c),b)):b},null,null)};V.F=function(a,b,c){return function h(e,f){return new Jg(null,function(){var k=E(e);return k?Gf(k)?Pg($d(k),h(ae(k),f)):ff(J(k),h(De(k),f)):r(f)?h(J(f),K(f)):null},null,null)}(V.j(a,b),c)};V.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};V.T=2;
function Ug(a,b,c){return ff(a,ff(b,c))}function Vg(a){return Rd(a)}function Xg(a){return Td(a)}var Yg=function Yg(a){switch(arguments.length){case 0:return Yg.O();case 1:return Yg.B(arguments[0]);case 2:return Yg.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Yg.F(arguments[0],arguments[1],c)}};Yg.O=function(){return Rd(of)};Yg.B=function(a){return a};Yg.j=function(a,b){return Sd(a,b)};
Yg.F=function(a,b,c){for(;;)if(a=Sd(a,b),r(c))b=J(c),c=K(c);else return a};Yg.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Yg.T=2;var Zg=function Zg(a){switch(arguments.length){case 3:return Zg.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return Zg.F(arguments[0],arguments[1],arguments[2],c)}};Zg.C=function(a,b,c){return Ud(a,b,c)};
Zg.F=function(a,b,c,d){for(;;)if(a=Ud(a,b,c),r(d))b=J(d),c=kf(d),d=K(K(d));else return a};Zg.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};Zg.T=3;
function $g(a,b,c){var d=E(c);if(0===b)return a.O?a.O():a.call(null);c=Vc(d);var e=Wc(d);if(1===b)return a.B?a.B(c):a.call(null,c);d=Vc(e);var f=Wc(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=Vc(f);var h=Wc(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=Vc(h);var k=Wc(h);if(4===b)return a.P?a.P(c,d,e,f):a.call(null,c,d,e,f);h=Vc(k);var m=Wc(k);if(5===b)return a.ka?a.ka(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Vc(m);var n=Wc(m);if(6===b)return a.Qa?a.Qa(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Vc(n);var p=Wc(n);if(7===b)return a.Hb?a.Hb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Vc(p);var u=Wc(p);if(8===b)return a.qb?a.qb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=Vc(u);var w=Wc(u);if(9===b)return a.Ib?a.Ib(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=Vc(w);var z=Wc(w);if(10===b)return a.wb?a.wb(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);w=Vc(z);var F=Wc(z);if(11===b)return a.xb?a.xb(c,d,e,f,h,k,m,n,p,u,w):a.call(null,c,d,e,f,h,k,m,n,p,u,w);z=Vc(F);var H=Wc(F);
if(12===b)return a.yb?a.yb(c,d,e,f,h,k,m,n,p,u,w,z):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z);F=Vc(H);var G=Wc(H);if(13===b)return a.zb?a.zb(c,d,e,f,h,k,m,n,p,u,w,z,F):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F);H=Vc(G);var N=Wc(G);if(14===b)return a.Ab?a.Ab(c,d,e,f,h,k,m,n,p,u,w,z,F,H):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H);G=Vc(N);var O=Wc(N);if(15===b)return a.Bb?a.Bb(c,d,e,f,h,k,m,n,p,u,w,z,F,H,G):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G);N=Vc(O);var U=Wc(O);if(16===b)return a.Cb?a.Cb(c,d,e,f,h,k,m,
n,p,u,w,z,F,H,G,N):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N);O=Vc(U);var ea=Wc(U);if(17===b)return a.Db?a.Db(c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O);U=Vc(ea);var va=Wc(ea);if(18===b)return a.Eb?a.Eb(c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U);ea=Vc(va);va=Wc(va);if(19===b)return a.Fb?a.Fb(c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea);var xa=Vc(va);Wc(va);if(20===b)return a.Gb?
a.Gb(c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea,xa):a.call(null,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea,xa);throw Error("Only up to 20 arguments supported on functions");}function ah(a){return null!=a&&(a.J&128||l===a.ee)?a.Ma(null):E(De(a))}function bh(a,b,c){return null==c?a.B?a.B(b):a.call(a,b):ch(a,b,Vc(c),ah(c))}function ch(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):dh(a,b,c,Vc(d),ah(d))}function dh(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):eh(a,b,c,d,Vc(e),ah(e))}
function eh(a,b,c,d,e,f){if(null==f)return a.P?a.P(b,c,d,e):a.call(a,b,c,d,e);var h=Vc(f),k=K(f);if(null==k)return a.ka?a.ka(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Vc(k);var m=K(k);if(null==m)return a.Qa?a.Qa(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Vc(m);var n=K(m);if(null==n)return a.Hb?a.Hb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Vc(n);var p=K(n);if(null==p)return a.qb?a.qb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Vc(p);var u=K(p);if(null==u)return a.Ib?a.Ib(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=Vc(u);var w=K(u);if(null==w)return a.wb?a.wb(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=Vc(w);var z=K(w);if(null==z)return a.xb?a.xb(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);w=Vc(z);var F=K(z);if(null==F)return a.yb?a.yb(b,c,d,e,h,f,k,m,n,p,u,w):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w);z=Vc(F);var H=K(F);if(null==H)return a.zb?a.zb(b,c,d,e,h,f,k,m,n,p,u,w,z):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w,z);F=Vc(H);var G=K(H);if(null==G)return a.Ab?a.Ab(b,c,d,e,h,f,k,m,n,p,u,w,z,F):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,w,z,F);H=Vc(G);var N=K(G);if(null==N)return a.Bb?a.Bb(b,c,d,e,h,f,k,m,n,p,u,w,z,F,H):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w,z,F,H);G=Vc(N);var O=K(N);if(null==O)return a.Cb?a.Cb(b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G);N=Vc(O);var U=K(O);if(null==U)return a.Db?a.Db(b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N);O=Vc(U);var ea=K(U);if(null==ea)return a.Eb?a.Eb(b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N,O):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,w,z,F,H,G,N,O);U=Vc(ea);var va=K(ea);if(null==va)return a.Fb?a.Fb(b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N,O,U):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N,O,U);ea=Vc(va);va=K(va);if(null==va)return a.Gb?a.Gb(b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N,O,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N,O,U,ea);b=[b,c,d,e,h,f,k,m,n,p,u,w,z,F,H,G,N,O,U,ea];for(c=va;;)if(c)b.push(Vc(c)),c=K(c);else break;return a.apply(a,b)}
function Ae(a){switch(arguments.length){case 2:return gh(arguments[0],arguments[1]);case 3:return hh(arguments[0],arguments[1],arguments[2]);case 4:return ih(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return jh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new I(b.slice(5),0,null);return kh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function gh(a,b){if(a.ba){var c=a.T,d=Sg(c+1,b);return d<=c?$g(a,d,b):a.ba(b)}b=E(b);return null==b?a.O?a.O():a.call(a):bh(a,Vc(b),ah(b))}function hh(a,b,c){if(a.ba){b=ff(b,c);var d=a.T;c=Sg(d,c)+1;return c<=d?$g(a,c,b):a.ba(b)}return bh(a,b,E(c))}function ih(a,b,c,d){return a.ba?(b=Ug(b,c,d),c=a.T,d=2+Sg(c-1,d),d<=c?$g(a,d,b):a.ba(b)):ch(a,b,c,E(d))}function jh(a,b,c,d,e){return a.ba?(b=ff(b,ff(c,ff(d,e))),c=a.T,e=3+Sg(c-2,e),e<=c?$g(a,e,b):a.ba(b)):dh(a,b,c,d,E(e))}
function kh(a,b,c,d,e,f){return a.ba?(f=Tg(f),b=ff(b,ff(c,ff(d,ff(e,f)))),c=a.T,f=4+Sg(c-3,f),f<=c?$g(a,f,b):a.ba(b)):eh(a,b,c,d,e,Tg(f))}var lh=function lh(a){switch(arguments.length){case 1:return lh.B(arguments[0]);case 2:return lh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return lh.F(arguments[0],arguments[1],c)}};lh.B=function(){return!1};lh.j=function(a,b){return!D.j(a,b)};
lh.F=function(a,b,c){return yc(ih(D,a,b,c))};lh.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};lh.T=2;function mh(a){return E(a)?a:null}
function nh(){if("undefined"===typeof ec||"undefined"===typeof gc||"undefined"===typeof Tc)Tc=function(a){this.mj=a;this.J=393216;this.Y=0},Tc.prototype.fa=function(a,b){return new Tc(b)},Tc.prototype.ea=function(){return this.mj},Tc.prototype.Ya=function(){return!1},Tc.prototype.next=function(){return Error("No such element")},Tc.prototype.remove=function(){return Error("Unsupported operation")},Tc.rb=!0,Tc.kb="cljs.core/t_cljs$core19798",Tc.ub=function(a){return Jd(a,"cljs.core/t_cljs$core19798")};
return new Tc(W)}var oh={},ph={};function qh(a){this.Vd=oh;this._next=a}qh.prototype.Ya=function(){this.Vd===oh?(this.Vd=ph,this._next=E(this._next)):this.Vd===this._next&&(this._next=K(this.Vd));return null!=this._next};qh.prototype.next=function(){if(this.Ya())return this.Vd=this._next,J(this._next);throw Error("No such element");};qh.prototype.remove=function(){return Error("Unsupported operation")};
function rh(a,b){for(;;){if(null==E(b))return!0;var c=J(b);c=a.B?a.B(c):a.call(null,c);if(r(c))b=K(b);else return!1}}function sh(a,b){for(;;)if(b=E(b)){var c=J(b);c=a.B?a.B(c):a.call(null,c);if(r(c))return c;b=K(b)}else return null}function th(a){if(Mf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.B(a)].join(""));}
function uh(a){return function(){function b(h,k){return yc(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return yc(a.B?a.B(h):a.call(null,h))}function d(){return yc(a.O?a.O():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var w=Array(arguments.length-2);u<w.length;)w[u]=arguments[u+2],++u;u=new I(w,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return yc(ih(a,m,n,p))}h.T=2;h.ba=function(m){var n=J(m);m=K(m);var p=J(m);m=De(m);return k(n,p,m)};
h.F=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new I(p,0,null)}return f.F(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.T=2;e.ba=f.ba;e.O=d;e.B=c;e.j=b;e.F=f.F;return e}()}
function vh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.T=0;b.ba=function(c){E(c);return a};b.F=function(){return a};return b}()}
var wh=function wh(a){switch(arguments.length){case 0:return wh.O();case 1:return wh.B(arguments[0]);case 2:return wh.j(arguments[0],arguments[1]);case 3:return wh.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return wh.F(arguments[0],arguments[1],arguments[2],c)}};wh.O=function(){return bg};wh.B=function(a){return a};
wh.j=function(a,b){return function(){function c(m,n,p){m=b.C?b.C(m,n,p):b.call(null,m,n,p);return a.B?a.B(m):a.call(null,m)}function d(m,n){m=b.j?b.j(m,n):b.call(null,m,n);return a.B?a.B(m):a.call(null,m)}function e(m){m=b.B?b.B(m):b.call(null,m);return a.B?a.B(m):a.call(null,m)}function f(){var m=b.O?b.O():b.call(null);return a.B?a.B(m):a.call(null,m)}var h=null,k=function(){function m(p,u,w,z){var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+
3],++F;F=new I(H,0,null)}return n.call(this,p,u,w,F)}function n(p,u,w,z){p=jh(b,p,u,w,z);return a.B?a.B(p):a.call(null,p)}m.T=3;m.ba=function(p){var u=J(p);p=K(p);var w=J(p);p=K(p);var z=J(p);p=De(p);return n(u,w,z,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var w=null;if(3<arguments.length){w=0;for(var z=Array(arguments.length-3);w<z.length;)z[w]=
arguments[w+3],++w;w=new I(z,0,null)}return k.F(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);};h.T=3;h.ba=k.ba;h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
wh.C=function(a,b,c){return function(){function d(n,p,u){n=c.C?c.C(n,p,u):c.call(null,n,p,u);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function e(n,p){n=c.j?c.j(n,p):c.call(null,n,p);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function f(n){n=c.B?c.B(n):c.call(null,n);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}function h(){var n=c.O?c.O():c.call(null);n=b.B?b.B(n):b.call(null,n);return a.B?a.B(n):a.call(null,n)}var k=null,m=function(){function n(u,
w,z,F){var H=null;if(3<arguments.length){H=0;for(var G=Array(arguments.length-3);H<G.length;)G[H]=arguments[H+3],++H;H=new I(G,0,null)}return p.call(this,u,w,z,H)}function p(u,w,z,F){u=jh(c,u,w,z,F);u=b.B?b.B(u):b.call(null,u);return a.B?a.B(u):a.call(null,u)}n.T=3;n.ba=function(u){var w=J(u);u=K(u);var z=J(u);u=K(u);var F=J(u);u=De(u);return p(w,z,F,u)};n.F=p;return n}();k=function(n,p,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.F(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);};k.T=3;k.ba=m.ba;k.O=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
wh.F=function(a,b,c,d){var e=Bg(ff(a,ff(b,ff(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k=gh(J(e),k);for(var m=K(e);;)if(m){var n=J(m);k=n.B?n.B(k):n.call(null,k);m=K(m)}else return k}f.T=0;f.ba=function(k){k=E(k);return h(k)};f.F=h;return f}()};wh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};
wh.T=3;var xh=function xh(a){switch(arguments.length){case 1:return xh.B(arguments[0]);case 2:return xh.j(arguments[0],arguments[1]);case 3:return xh.C(arguments[0],arguments[1],arguments[2]);case 4:return xh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return xh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};xh.B=function(a){return a};
xh.j=function(a,b){return function(){function c(m,n,p){return a.P?a.P(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.C?a.C(b,m,n):a.call(null,b,m,n)}function e(m){return a.j?a.j(b,m):a.call(null,b,m)}function f(){return a.B?a.B(b):a.call(null,b)}var h=null,k=function(){function m(p,u,w,z){var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new I(H,0,null)}return n.call(this,p,u,w,F)}function n(p,u,w,z){return kh(a,b,p,u,w,P([z]))}
m.T=3;m.ba=function(p){var u=J(p);p=K(p);var w=J(p);p=K(p);var z=J(p);p=De(p);return n(u,w,z,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var w=null;if(3<arguments.length){w=0;for(var z=Array(arguments.length-3);w<z.length;)z[w]=arguments[w+3],++w;w=new I(z,0,null)}return k.F(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);};h.T=3;h.ba=k.ba;
h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()};
xh.C=function(a,b,c){return function(){function d(n,p,u){return a.ka?a.ka(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.P?a.P(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.C?a.C(b,c,n):a.call(null,b,c,n)}function h(){return a.j?a.j(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,w,z,F){var H=null;if(3<arguments.length){H=0;for(var G=Array(arguments.length-3);H<G.length;)G[H]=arguments[H+3],++H;H=new I(G,0,null)}return p.call(this,u,w,z,H)}function p(u,w,z,F){return kh(a,
b,c,u,w,P([z,F]))}n.T=3;n.ba=function(u){var w=J(u);u=K(u);var z=J(u);u=K(u);var F=J(u);u=De(u);return p(w,z,F,u)};n.F=p;return n}();k=function(n,p,u,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.F(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);
};k.T=3;k.ba=m.ba;k.O=h;k.B=f;k.j=e;k.C=d;k.F=m.F;return k}()};
xh.P=function(a,b,c,d){return function(){function e(p,u,w){return a.Qa?a.Qa(b,c,d,p,u,w):a.call(null,b,c,d,p,u,w)}function f(p,u){return a.ka?a.ka(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.P?a.P(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.C?a.C(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(w,z,F,H){var G=null;if(3<arguments.length){G=0;for(var N=Array(arguments.length-3);G<N.length;)N[G]=arguments[G+3],++G;G=new I(N,0,null)}return u.call(this,w,z,F,G)}function u(w,
z,F,H){return kh(a,b,c,d,w,P([z,F,H]))}p.T=3;p.ba=function(w){var z=J(w);w=K(w);var F=J(w);w=K(w);var H=J(w);w=De(w);return u(z,F,H,w)};p.F=u;return p}();m=function(p,u,w,z){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,w);default:var F=null;if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new I(H,0,null)}return n.F(p,u,w,F)}throw Error("Invalid arity: "+
arguments.length);};m.T=3;m.ba=n.ba;m.O=k;m.B=h;m.j=f;m.C=e;m.F=n.F;return m}()};xh.F=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){return jh(a,b,c,d,V.j(e,k))}f.T=0;f.ba=function(k){k=E(k);return h(k)};f.F=h;return f}()};xh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};
xh.T=4;
function yh(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.C?a.C(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.j?a.j(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.B?a.B(k):a.call(null,k)}var f=null,h=function(){function k(n,p,u,w){var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,w){return jh(a,null==n?b:n,p,u,w)}k.T=3;k.ba=function(n){var p=
J(n);n=K(n);var u=J(n);n=K(n);var w=J(n);n=De(n);return m(p,u,w,n)};k.F=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new I(w,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.T=3;f.ba=h.ba;f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
function Ah(a,b){return new Jg(null,function(){var c=E(b);if(c){if(Gf(c)){for(var d=$d(c),e=M(d),f=Ng(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.B?a.B(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Pg(Rg(f),Ah(a,ae(c)))}e=function(){var m=J(c);return a.B?a.B(m):a.call(null,m)}();return null==e?Ah(a,De(c)):ff(e,Ah(a,De(c)))}return null},null,null)}function Bh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.tb=null;this.Y=16386;this.J=6455296}g=Bh.prototype;
g.equiv=function(a){return this.ca(null,a)};g.ca=function(a,b){return this===b};g.fb=function(){return this.state};g.ea=function(){return this.meta};g.Bf=function(a,b){for(var c=E(this.tb),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f),k=Q(h,0,null);h=Q(h,1,null);h.P?h.P(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=E(c))Gf(c)?(d=$d(c),c=ae(c),k=d,e=M(d),d=k):(d=J(c),k=Q(d,0,null),h=Q(d,1,null),h.P?h.P(k,this,a,b):h.call(null,k,this,a,b),c=K(c),d=null,e=0),f=0;else break};
g.Ke=function(a,b,c){this.tb=R.C(this.tb,b,c);return this};g.Le=function(a,b){return this.tb=S.j(this.tb,b)};g.ia=function(){return ta(this)};function Ch(a){return new Bh(a,null,null)}function Dh(a,b){if(a instanceof Bh){var c=a.validator;if(null!=c&&!r(c.B?c.B(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.tb&&a.Bf(c,b);return b}return de(a,b)}
var Eh=function Eh(a){switch(arguments.length){case 2:return Eh.j(arguments[0],arguments[1]);case 3:return Eh.C(arguments[0],arguments[1],arguments[2]);case 4:return Eh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return Eh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Eh.j=function(a,b){if(a instanceof Bh){var c=a.state;b=b.B?b.B(c):b.call(null,c);a=Dh(a,b)}else a=ee(a,b);return a};Eh.C=function(a,b,c){if(a instanceof Bh){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=Dh(a,b)}else a=ee(a,b,c);return a};Eh.P=function(a,b,c,d){if(a instanceof Bh){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=Dh(a,b)}else a=ee(a,b,c,d);return a};Eh.F=function(a,b,c,d,e){return a instanceof Bh?Dh(a,jh(b,a.state,c,d,e)):ee(a,b,c,d,e)};
Eh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Eh.T=4;function Fh(a){return D.j(a.fb(null),!1)?(Dh(a,!0),!0):!1}function Gh(a){this.state=a;this.J=32768;this.Y=0}Gh.prototype.Dc=function(a,b){return this.state=b};Gh.prototype.fb=function(){return this.state};
function Ih(){var a=Jh,b=Kh;return function(){function c(k,m,n){var p=a.B?a.B(k):a.call(null,k);if(r(p))return p;p=a.B?a.B(m):a.call(null,m);if(r(p))return p;p=a.B?a.B(n):a.call(null,n);if(r(p))return p;k=b.B?b.B(k):b.call(null,k);if(r(k))return k;m=b.B?b.B(m):b.call(null,m);return r(m)?m:b.B?b.B(n):b.call(null,n)}function d(k,m){var n=a.B?a.B(k):a.call(null,k);if(r(n))return n;n=a.B?a.B(m):a.call(null,m);if(r(n))return n;k=b.B?b.B(k):b.call(null,k);return r(k)?k:b.B?b.B(m):b.call(null,m)}function e(k){var m=
a.B?a.B(k):a.call(null,k);return r(m)?m:b.B?b.B(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,w){var z=null;if(3<arguments.length){z=0;for(var F=Array(arguments.length-3);z<F.length;)F[z]=arguments[z+3],++z;z=new I(F,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,w){n=f.C(n,p,u);return r(n)?n:sh(function(z){var F=a.B?a.B(z):a.call(null,z);return r(F)?F:b.B?b.B(z):b.call(null,z)},w)}k.T=3;k.ba=function(n){var p=J(n);n=K(n);var u=J(n);n=K(n);var w=J(n);n=De(n);return m(p,u,w,n)};
k.F=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var w=Array(arguments.length-3);u<w.length;)w[u]=arguments[u+3],++u;u=new I(w,0,null)}return h.F(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.T=3;f.ba=h.ba;f.O=function(){return null};f.B=e;f.j=d;f.C=c;f.F=h.F;return f}()}
var Lh=function Lh(a){switch(arguments.length){case 1:return Lh.B(arguments[0]);case 2:return Lh.j(arguments[0],arguments[1]);case 3:return Lh.C(arguments[0],arguments[1],arguments[2]);case 4:return Lh.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return Lh.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Lh.B=function(a){return function(b){return function(){function c(k,m){m=a.B?a.B(m):a.call(null,m);return b.j?b.j(k,m):b.call(null,k,m)}function d(k){return b.B?b.B(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(n,p,u){var w=null;if(2<arguments.length){w=0;for(var z=Array(arguments.length-2);w<z.length;)z[w]=arguments[w+2],++w;w=new I(z,0,null)}return m.call(this,n,p,w)}function m(n,p,u){p=hh(a,p,u);return b.j?b.j(n,p):b.call(null,n,p)}k.T=2;k.ba=function(n){var p=
J(n);n=K(n);var u=J(n);n=De(n);return m(p,u,n)};k.F=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new I(u,0,null)}return h.F(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.T=2;f.ba=h.ba;f.O=e;f.B=d;f.j=c;f.F=h.F;return f}()}};
Lh.j=function(a,b){return new Jg(null,function(){var c=E(b);if(c){if(Gf(c)){for(var d=$d(c),e=M(d),f=Ng(e),h=0;;)if(h<e)Qg(f,function(){var k=x(d,h);return a.B?a.B(k):a.call(null,k)}()),h+=1;else break;return Pg(Rg(f),Lh.j(a,ae(c)))}return ff(function(){var k=J(c);return a.B?a.B(k):a.call(null,k)}(),Lh.j(a,De(c)))}return null},null,null)};
Lh.C=function(a,b,c){return new Jg(null,function(){var d=E(b),e=E(c);if(d&&e){var f=J(d);var h=J(e);f=a.j?a.j(f,h):a.call(null,f,h);d=ff(f,Lh.C(a,De(d),De(e)))}else d=null;return d},null,null)};Lh.P=function(a,b,c,d){return new Jg(null,function(){var e=E(b),f=E(c),h=E(d);if(e&&f&&h){var k=J(e);var m=J(f),n=J(h);k=a.C?a.C(k,m,n):a.call(null,k,m,n);e=ff(k,Lh.P(a,De(e),De(f),De(h)))}else e=null;return e},null,null)};
Lh.F=function(a,b,c,d,e){return Lh.j(function(f){return gh(a,f)},function k(h){return new Jg(null,function(){var m=Lh.j(E,h);return rh(bg,m)?ff(Lh.j(J,m),k(Lh.j(De,m))):null},null,null)}(nf.F(e,d,P([c,b]))))};Lh.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};Lh.T=4;
var Mh=function Mh(a){switch(arguments.length){case 1:return Mh.B(arguments[0]);case 2:return Mh.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};
Mh.B=function(a){return function(b){var c=new Gh(a);return function(){function d(k,m){var n=y(c),p=c.Dc(null,c.fb(null)-1);k=0<n?b.j?b.j(k,m):b.call(null,k,m):k;return 0<p?k:Pe(k)?k:Oe(k)}function e(k){return b.B?b.B(k):b.call(null,k)}function f(){return b.O?b.O():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.O=f;h.B=e;h.j=d;return h}()}};
Mh.j=function(a,b){return new Jg(null,function(){if(0<a){var c=E(b);return c?ff(J(c),Mh.j(a-1,De(c))):null}return null},null,null)};Mh.T=2;function Nh(a,b){return new Jg(null,function(){a:for(var c=a,d=b;;)if(d=E(d),0<c&&d)--c,d=De(d);else break a;return d},null,null)}function Oh(a,b){return Lh.C(function(c){return c},b,Nh(a,b))}
function Ph(a,b){return new Jg(null,function(){a:for(var c=a,d=b;;){d=E(d);var e;if(e=d)e=J(d),e=c.B?c.B(e):c.call(null,e);if(r(e))d=De(d);else break a}return d},null,null)}function Qh(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.I=null;this.J=32374988;this.Y=1}g=Qh.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){return null==this.next?1<this.count?this.next=new Qh(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Je=function(){return!1};g.Sa=function(a,b){if(-1===this.count)for(var c=b.j?b.j(this.val,this.val):b.call(null,this.val,this.val);;){if(Pe(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Pe(c))return y(c);a+=1}else return c};
g.Ta=function(a,b,c){if(-1===this.count)for(c=b.j?b.j(c,this.val):b.call(null,c,this.val);;){if(Pe(c))return y(c);c=b.j?b.j(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.j?b.j(c,this.val):b.call(null,c,this.val);if(Pe(c))return y(c);a+=1}else return c};g.Ua=function(){return this.val};g.ab=function(){return null==this.next?1<this.count?this.next=new Qh(null,this.count-1,this.val,null):-1===this.count?this:Ee:this.next};g.ha=function(){return this};
g.fa=function(a,b){return b===this.meta?this:new Qh(b,this.count,this.val,this.next)};g.la=function(a,b){return ff(b,this)};function Rh(a){return new Qh(null,-1,a,null)}function Sh(a,b){return 0<a?new Qh(null,a,b,null):Ee}function Th(a){return new Jg(null,function(){return ff(a.O?a.O():a.call(null),Th(a))},null,null)}function Uh(a,b){return Mh.j(a,Th(b))}
var Vh=function Vh(a){switch(arguments.length){case 0:return Vh.O();case 1:return Vh.B(arguments[0]);case 2:return Vh.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return Vh.F(arguments[0],arguments[1],c)}};Vh.O=function(){return Ee};Vh.B=function(a){return new Jg(null,function(){return a},null,null)};
Vh.j=function(a,b){return new Jg(null,function(){var c=E(a),d=E(b);return c&&d?ff(J(c),ff(J(d),Vh.j(De(c),De(d)))):null},null,null)};Vh.F=function(a,b,c){return new Jg(null,function(){var d=Lh.j(E,nf.F(c,b,P([a])));return rh(bg,d)?V.j(Lh.j(J,d),gh(Vh,Lh.j(De,d))):null},null,null)};Vh.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};Vh.T=2;
function Wh(){return function(a){var b=new Gh(!1);return function(){function c(h,k){if(r(y(b)))return h=a.j?a.j(h," "):a.call(null,h," "),Pe(h)?h:a.j?a.j(h,k):a.call(null,h,k);ge(b,!0);return a.j?a.j(h,k):a.call(null,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};
f.O=e;f.B=d;f.j=c;return f}()}}function Xh(a,b){return gh(V,hh(Lh,a,b))}
function Yh(a){return function(b){return function(){function c(h,k){return r(a.B?a.B(k):a.call(null,k))?b.j?b.j(h,k):b.call(null,h,k):h}function d(h){return b.B?b.B(h):b.call(null,h)}function e(){return b.O?b.O():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}
function Zh(a,b){return new Jg(null,function(){var c=E(b);if(c){if(Gf(c)){for(var d=$d(c),e=M(d),f=Ng(e),h=0;;)if(h<e){var k=x(d,h);k=a.B?a.B(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Pg(Rg(f),Zh(a,ae(c)))}d=J(c);c=De(c);return r(a.B?a.B(d):a.call(null,d))?ff(d,Zh(a,c)):Zh(a,c)}return null},null,null)}function $h(a,b){return Zh(uh(a),b)}
var ai=function ai(a){switch(arguments.length){case 0:return ai.O();case 1:return ai.B(arguments[0]);case 2:return ai.j(arguments[0],arguments[1]);case 3:return ai.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};ai.O=function(){return of};ai.B=function(a){return a};ai.j=function(a,b){return null!=a?null!=a&&(a.Y&4||l===a.vg)?rd(Td(v.C(Sd,Rd(a),b)),wf(a)):v.C(Rc,a,b):v.C(nf,a,b)};
ai.C=function(a,b,c){return null!=a&&(a.Y&4||l===a.vg)?rd(Td(gg(b,Yg,Rd(a),c)),wf(a)):gg(b,nf,a,c)};ai.T=3;
var bi=function bi(a){switch(arguments.length){case 2:return bi.j(arguments[0],arguments[1]);case 3:return bi.C(arguments[0],arguments[1],arguments[2]);case 4:return bi.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(4),0,null);return bi.F(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
bi.j=function(a,b){return Td(v.C(function(c,d){return Yg.j(c,a.B?a.B(d):a.call(null,d))},Rd(of),b))};bi.C=function(a,b,c){return ai.j(of,Lh.C(a,b,c))};bi.P=function(a,b,c,d){return ai.j(of,Lh.P(a,b,c,d))};bi.F=function(a,b,c,d,e){return ai.j(of,kh(Lh,a,b,c,d,P([e])))};bi.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);e=K(e);return this.F(b,a,c,d,e)};bi.T=4;function ci(a,b){return Td(v.C(function(c,d){return r(a.B?a.B(d):a.call(null,d))?Yg.j(c,d):c},Rd(of),b))}
function di(a,b,c){return new Jg(null,function(){var d=E(c);if(d){var e=Mh.j(a,d);return a===M(e)?ff(e,di(a,b,Nh(b,d))):null}return null},null,null)}function ei(a,b){return v.C(B,a,b)}function fi(a,b,c){var d=If;for(b=E(b);;)if(null!=b){a=B.C(a,J(b),d);if(d===a)return c;b=K(b)}else return a}
var gi=function gi(a,b,c){b=E(b);var e=J(b),f=K(b);return f?R.C(a,e,function(){var h=B.j(a,e);return gi.C?gi.C(h,f,c):gi.call(null,h,f,c)}()):R.C(a,e,c)},hi=function hi(a){switch(arguments.length){case 3:return hi.C(arguments[0],arguments[1],arguments[2]);case 4:return hi.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return hi.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return hi.Qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);
default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(6),0,null);return hi.F(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};hi.C=function(a,b,c){b=E(b);var d=J(b);return(b=K(b))?R.C(a,d,hi.C(B.j(a,d),b,c)):R.C(a,d,function(){var e=B.j(a,d);return c.B?c.B(e):c.call(null,e)}())};
hi.P=function(a,b,c,d){b=E(b);var e=J(b);return(b=K(b))?R.C(a,e,hi.P(B.j(a,e),b,c,d)):R.C(a,e,function(){var f=B.j(a,e);return c.j?c.j(f,d):c.call(null,f,d)}())};hi.ka=function(a,b,c,d,e){b=E(b);var f=J(b);return(b=K(b))?R.C(a,f,hi.ka(B.j(a,f),b,c,d,e)):R.C(a,f,function(){var h=B.j(a,f);return c.C?c.C(h,d,e):c.call(null,h,d,e)}())};
hi.Qa=function(a,b,c,d,e,f){b=E(b);var h=J(b);return(b=K(b))?R.C(a,h,hi.Qa(B.j(a,h),b,c,d,e,f)):R.C(a,h,function(){var k=B.j(a,h);return c.P?c.P(k,d,e,f):c.call(null,k,d,e,f)}())};hi.F=function(a,b,c,d,e,f,h){var k=E(b);b=J(k);return(k=K(k))?R.C(a,b,kh(hi,B.j(a,b),k,c,d,P([e,f,h]))):R.C(a,b,kh(c,B.j(a,b),d,e,f,P([h])))};hi.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.F(b,a,c,d,e,f,h)};hi.T=6;
var ii=function ii(a){switch(arguments.length){case 3:return ii.C(arguments[0],arguments[1],arguments[2]);case 4:return ii.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ii.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ii.Qa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(6),0,null);return ii.F(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ii.C=function(a,b,c){return R.C(a,b,function(){var d=B.j(a,b);return c.B?c.B(d):c.call(null,d)}())};ii.P=function(a,b,c,d){return R.C(a,b,function(){var e=B.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};ii.ka=function(a,b,c,d,e){return R.C(a,b,function(){var f=B.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};ii.Qa=function(a,b,c,d,e,f){return R.C(a,b,function(){var h=B.j(a,b);return c.P?c.P(h,d,e,f):c.call(null,h,d,e,f)}())};
ii.F=function(a,b,c,d,e,f,h){return R.C(a,b,kh(c,B.j(a,b),d,e,f,P([h])))};ii.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);var e=K(d);d=J(e);var f=K(e);e=J(f);var h=K(f);f=J(h);h=K(h);return this.F(b,a,c,d,e,f,h)};ii.T=6;function ji(a,b){this.La=a;this.K=b}function ki(a){return new ji(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function li(a){return new ji(a.La,Hc(a.K))}function mi(a){a=a.aa;return 32>a?0:a-1>>>5<<5}function ni(a,b,c){for(;;){if(0===b)return c;var d=ki(a);d.K[0]=c;c=d;b-=5}}var oi=function oi(a,b,c,d){var f=li(c),h=a.aa-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=oi.P?oi.P(a,b,c,d):oi.call(null,a,b,c,d)):a=ni(null,b-5,d),f.K[h]=a);return f};function pi(a,b){throw Error(["No item ",t.B(a)," in vector of length ",t.B(b)].join(""));}
function qi(a,b){if(b>=mi(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function ri(a,b){return 0<=b&&b<a.aa?qi(a,b):pi(b,a.aa)}
var si=function si(a,b,c,d,e){var h=li(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=si.ka?si.ka(a,b,c,d,e):si.call(null,a,b,c,d,e);h.K[k]=a}return h},ti=function ti(a,b,c){var e=a.aa-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=ti.C?ti.C(a,b,f):ti.call(null,a,b,f);if(null==a&&0===e)return null;c=li(c);c.K[e]=a;return c}if(0===e)return null;c=li(c);c.K[e]=null;return c};function ui(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
ui.prototype.Ya=function(){return this.i<this.end};ui.prototype.next=function(){32===this.i-this.base&&(this.K=qi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function vi(a,b,c){return new ui(b,b-b%32,b<M(a)?qi(a,b):null,a,b,c)}function wi(a,b,c,d){return c<d?xi(a,b,$e(a,c),c+1,d):b.O?b.O():b.call(null)}
function xi(a,b,c,d,e){var f=c;c=d;for(d=qi(a,d);;)if(c<e){var h=c&31;d=0===h?qi(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Pe(f))return y(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.aa=b;this.shift=c;this.root=d;this.tail=e;this.I=f;this.J=167666463;this.Y=139268}g=X.prototype;g.Yc=function(a,b){return 0<=b&&b<this.aa?new Y(b,qi(this,b)[b&31]):null};g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.aa){var e=qi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Pe(d)){e=d;break a}f+=1}else{e=d;break a}if(Pe(e))return y(e);a+=c;d=e}else return d};g.pf=l;g.xa=function(a,b){return ri(this,b)[b&31]};g.Ra=function(a,b,c){return 0<=b&&b<this.aa?qi(this,b)[b&31]:c};
g.Cc=function(a,b,c){if(0<=b&&b<this.aa)return mi(this)<=b?(a=Hc(this.tail),a[b&31]=c,new X(this.meta,this.aa,this.shift,this.root,a,null)):new X(this.meta,this.aa,this.shift,si(this,this.shift,this.root,b,c),this.tail,null);if(b===this.aa)return this.la(null,c);throw Error(["Index ",t.B(b)," out of bounds  [0,",t.B(this.aa),"]"].join(""));};g.oa=function(){return vi(this,0,this.aa)};g.ea=function(){return this.meta};g.ja=function(){return this.aa};
g.Zc=function(){return 0<this.aa?this.xa(null,this.aa-1):null};g.$c=function(){if(0===this.aa)throw Error("Can't pop empty vector");if(1===this.aa)return rd(of,this.meta);if(1<this.aa-mi(this))return new X(this.meta,this.aa-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=qi(this,this.aa-2),b=ti(this,this.shift,this.root);b=null==b?Z:b;var c=this.aa-1;return 5<this.shift&&null==b.K[1]?new X(this.meta,c,this.shift-5,b.K[0],a,null):new X(this.meta,c,this.shift,b,a,null)};
g.pc=function(){return 0<this.aa?new df(this,this.aa-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){if(b instanceof X)if(this.aa===M(b))for(a=this.oa(null),b=b.oa(null);;)if(a.Ya()){var c=a.next(),d=b.next();if(!D.j(c,d))return!1}else return!0;else return!1;else return ef(this,b)};g.od=function(){return new yi(this.aa,this.shift,zi.B?zi.B(this.root):zi.call(null,this.root),Ai.B?Ai.B(this.tail):Ai.call(null,this.tail))};
g.Ja=function(){return rd(of,this.meta)};g.Sa=function(a,b){return wi(this,b,0,this.aa)};g.Ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.aa){var e=qi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Pe(d)){e=d;break a}f+=1}else{e=d;break a}if(Pe(e))return y(e);a+=c;d=e}else return d};g.da=function(a,b,c){if("number"===typeof b)return this.Cc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ha=function(){if(0===this.aa)return null;if(32>=this.aa)return new I(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return Bi?Bi(this,a,0,0):Ci.call(null,this,a,0,0)};g.fa=function(a,b){return b===this.meta?this:new X(b,this.aa,this.shift,this.root,this.tail,this.I)};
g.la=function(a,b){if(32>this.aa-mi(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.aa+1,this.shift,this.root,c,null)}a=(c=this.aa>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=ki(null),c.K[0]=this.root,d=ni(null,this.shift,new ji(null,this.tail)),c.K[1]=d):c=oi(this,this.shift,this.root,new ji(null,this.tail));return new X(this.meta,this.aa+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};
var Z=new ji(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),of=new X(null,0,5,Z,[],Je);function Di(a,b){var c=a.length;a=b?a:Hc(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).od(null);;)if(b<c)d=b+1,e=Yg.j(e,a[b]),b=d;else return Td(e)}X.prototype[Ec]=function(){return Ge(this)};
function Yf(a){return r(Ei.B?Ei.B(a):Ei.call(null,a))?new X(null,2,5,Z,[Fi.B?Fi.B(a):Fi.call(null,a),Gi.B?Gi.B(a):Gi.call(null,a)],null):Ff(a)?vf(a,null):wc(a)?Di(a,!0):Td(v.C(Sd,Rd(of),a))}var Hi=function Hi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return Hi.F(c)};Hi.F=function(a){return a instanceof I&&0===a.i?Di(a.K,!wc(a.K)):Yf(a)};Hi.T=0;Hi.ba=function(a){return this.F(E(a))};
function Ii(a,b,c,d,e){this.hc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.I=null;this.J=32375020;this.Y=1536}g=Ii.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){if(this.off+1<this.node.length){var a=this.hc;var b=this.node,c=this.i,d=this.off+1;a=Bi?Bi(a,b,c,d):Ci.call(null,a,b,c,d);return null==a?null:a}return this.Zd()};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return wi(this.hc,b,this.i+this.off,M(this.hc))};g.Ta=function(a,b,c){return xi(this.hc,b,c,this.i+this.off,M(this.hc))};g.Ua=function(){return this.node[this.off]};g.ab=function(){if(this.off+1<this.node.length){var a=this.hc;var b=this.node,c=this.i,d=this.off+1;a=Bi?Bi(a,b,c,d):Ci.call(null,a,b,c,d);return null==a?Ee:a}return this.yd(null)};g.ha=function(){return this};
g.$d=function(){var a=this.node;return new Mg(a,this.off,a.length)};g.yd=function(){var a=this.i+this.node.length;if(a<Nc(this.hc)){var b=this.hc,c=qi(this.hc,a);return Bi?Bi(b,c,a,0):Ci.call(null,b,c,a,0)}return Ee};g.fa=function(a,b){return b===this.meta?this:Ji?Ji(this.hc,this.node,this.i,this.off,b):Ci.call(null,this.hc,this.node,this.i,this.off,b)};g.la=function(a,b){return ff(b,this)};
g.Zd=function(){var a=this.i+this.node.length;if(a<Nc(this.hc)){var b=this.hc,c=qi(this.hc,a);return Bi?Bi(b,c,a,0):Ci.call(null,b,c,a,0)}return null};Ii.prototype[Ec]=function(){return Ge(this)};
function Ci(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ii(b,ri(b,c),c,d,null);case 4:return Bi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ji(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Bi(a,b,c,d){return new Ii(a,b,c,d,null)}function Ji(a,b,c,d,e){return new Ii(a,b,c,d,e)}
function Ki(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.I=e;this.J=167666463;this.Y=139264}g=Ki.prototype;g.Yc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,ad(this.v,a)):null};g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.va=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Pe(c))return y(c);d+=1;a+=1}else return c};g.xa=function(a,b){return 0>b||this.end<=this.start+b?pi(b,this.end-this.start):x(this.v,this.start+b)};g.Ra=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Cc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.B(b)," out of bounds [0,",t.B(this.ja(null)),"]"].join(""));b=this.meta;c=R.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Li.ka?Li.ka(b,c,d,a,null):Li.call(null,b,c,d,a,null)};g.oa=function(){return null!=this.v&&l===this.v.pf?vi(this.v,this.start,this.end):new qh(this)};g.ea=function(){return this.meta};g.ja=function(){return this.end-this.start};
g.Zc=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.$c=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Li.ka?Li.ka(a,b,c,d,null):Li.call(null,a,b,c,d,null)};g.pc=function(){return this.start!==this.end?new df(this,this.end-this.start-1,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return rd(of,this.meta)};
g.Sa=function(a,b){return null!=this.v&&l===this.v.pf?wi(this.v,b,this.start,this.end):Se(this,b)};g.Ta=function(a,b,c){return null!=this.v&&l===this.v.pf?xi(this.v,b,c,this.start,this.end):Te(this,b,c)};g.da=function(a,b,c){if("number"===typeof b)return this.Cc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ha=function(){var a=this;return function d(c){return c===a.end?null:ff(x(a.v,c),new Jg(null,function(){return d(c+1)},null,null))}(a.start)};
g.fa=function(a,b){return b===this.meta?this:Li.ka?Li.ka(b,this.v,this.start,this.end,this.I):Li.call(null,b,this.v,this.start,this.end,this.I)};g.la=function(a,b){a=this.meta;b=nd(this.v,this.end,b);var c=this.start,d=this.end+1;return Li.ka?Li.ka(a,b,c,d,null):Li.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Ki.prototype[Ec]=function(){return Ge(this)};function Li(a,b,c,d,e){for(;;)if(b instanceof Ki)c=b.start+c,d=b.start+d,b=b.v;else{if(!Ff(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>M(b))throw Error("Index out of bounds");return new Ki(a,b,c,d,e)}}function Mi(a,b,c){return Li(null,a,b|0,c|0,null)}
function Ni(a,b){return a===b.La?b:new ji(a,Hc(b.K))}function zi(a){return new ji({},Hc(a.K))}function Ai(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Hf(a,0,b,0,a.length);return b}var Oi=function Oi(a,b,c,d){c=Ni(a.root.La,c);var f=a.aa-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Oi.P?Oi.P(a,b,h,d):Oi.call(null,a,b,h,d)):a=ni(a.root.La,b-5,d)}c.K[f]=a;return c};
function yi(a,b,c,d){this.aa=a;this.shift=b;this.root=c;this.tail=d;this.Y=88;this.J=275}g=yi.prototype;
g.pd=function(a,b){if(this.root.La){if(32>this.aa-mi(this))this.tail[this.aa&31]=b;else{a=new ji(this.root.La,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.aa>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ni(this.root.La,this.shift,a),this.root=new ji(this.root.La,b),this.shift=c):this.root=Oi(this,this.shift,this.root,a)}this.aa+=1;return this}throw Error("conj! after persistent!");};g.zd=function(){if(this.root.La){this.root.La=null;var a=this.aa-mi(this),b=Array(a);Hf(this.tail,0,b,0,a);return new X(null,this.aa,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Md=function(a,b,c){if("number"===typeof b)return Pi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Pi(a,b,c){if(a.root.La){if(0<=b&&b<a.aa){if(mi(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ni(a.root.La,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.aa)return a.pd(null,c);throw Error(["Index ",t.B(b)," out of bounds for TransientVector of length",t.B(a.aa)].join(""));}throw Error("assoc! after persistent!");}g.ja=function(){if(this.root.La)return this.aa;throw Error("count after persistent!");};
g.xa=function(a,b){if(this.root.La)return ri(this,b)[b&31];throw Error("nth after persistent!");};g.Ra=function(a,b,c){return 0<=b&&b<this.aa?this.xa(null,b):c};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.root.La)return"number"===typeof b?this.Ra(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function Qi(a,b){this.Od=a;this.ye=b}Qi.prototype.Ya=function(){var a=null!=this.Od&&E(this.Od);return a?a:null!=this.ye?this.ye.Ya():!1};
Qi.prototype.next=function(){if(null!=this.Od){var a=J(this.Od);this.Od=K(this.Od);return a}if(null!=this.ye&&this.ye.Ya())return this.ye.next();throw Error("No such element");};Qi.prototype.remove=function(){return Error("Unsupported operation")};function Ri(a,b,c,d){this.meta=a;this.Sb=b;this.fc=c;this.I=d;this.J=31850700;this.Y=0}g=Ri.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=K(this.Sb);return a?new Ri(this.meta,a,this.fc,null):null!=this.fc?new Ri(this.meta,this.fc,null,null):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return rd(Ee,this.meta)};g.Ua=function(){return J(this.Sb)};g.ab=function(){var a=K(this.Sb);return a?new Ri(this.meta,a,this.fc,null):null==this.fc?this.Ja(null):new Ri(this.meta,this.fc,null,null)};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Ri(b,this.Sb,this.fc,this.I)};g.la=function(a,b){return ff(b,this)};Ri.prototype[Ec]=function(){return Ge(this)};
function Si(a,b,c,d,e){this.meta=a;this.count=b;this.Sb=c;this.fc=d;this.I=e;this.Y=139264;this.J=31858766}g=Si.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,this.count.B?this.count.B(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.oa=function(){return new Qi(this.Sb,ie(this.fc))};g.ea=function(){return this.meta};g.ja=function(){return this.count};g.Zc=function(){return J(this.Sb)};
g.$c=function(){if(r(this.Sb)){var a=K(this.Sb);return a?new Si(this.meta,this.count-1,a,this.fc,null):new Si(this.meta,this.count-1,E(this.fc),of,null)}return this};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return rd(Ti,this.meta)};g.Ua=function(){return J(this.Sb)};g.ab=function(){return De(E(this))};g.ha=function(){var a=E(this.fc),b=this.Sb;return r(r(b)?b:a)?new Ri(null,this.Sb,E(a),null):null};
g.fa=function(a,b){return b===this.meta?this:new Si(b,this.count,this.Sb,this.fc,this.I)};g.la=function(a,b){r(this.Sb)?(a=this.fc,b=new Si(this.meta,this.count+1,this.Sb,nf.j(r(a)?a:of,b),null)):b=new Si(this.meta,this.count+1,nf.j(this.Sb,b),of,null);return b};var Ti=new Si(null,0,null,of,Je);Si.prototype[Ec]=function(){return Ge(this)};function Ui(){this.J=2097152;this.Y=0}Ui.prototype.equiv=function(a){return this.ca(null,a)};Ui.prototype.ca=function(){return!1};var Vi=new Ui;
function Wi(a,b){return Kf(Cf(b)&&!Df(b)?M(a)===M(b)?(null!=a?a.J&1048576||l===a.Pi||(a.J?0:Ac(vd,a)):Ac(vd,a))?ag(function(c,d,e){return D.j(B.C(b,d,Vi),e)?!0:Oe(!1)},!0,a):rh(function(c){return D.j(B.C(b,J(c),Vi),kf(c))},a):null:null)}function Xi(a,b,c,d){this.i=0;this.Ci=a;this.og=b;this.fields=c;this.Hg=d}Xi.prototype.Ya=function(){var a=this.i<this.og;return a?a:this.Hg.Ya()};Xi.prototype.next=function(){if(this.i<this.og){var a=$e(this.fields,this.i);this.i+=1;return new Y(a,ad(this.Ci,a))}return this.Hg.next()};
Xi.prototype.remove=function(){return Error("Unsupported operation")};function Yi(a){this.s=a}Yi.prototype.next=function(){if(null!=this.s){var a=J(this.s),b=Q(a,0,null);a=Q(a,1,null);this.s=K(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Zi(a){this.s=a}Zi.prototype.next=function(){if(null!=this.s){var a=J(this.s);this.s=K(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function $i(a,b){if(b instanceof C)a:{var c=a.length;b=b.na;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].na){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.Vc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].Vc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.j(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b){this.key=a;this.val=b;this.I=null;this.J=166619935;this.Y=0}g=Y.prototype;g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Cc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Cc(null,b,c)};g.ea=function(){return null};g.ja=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};g.pc=function(){return new I([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Se(this,b)};g.Ta=function(a,b,c){return Te(this,b,c)};g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new I([this.key,this.val],0,null)};g.fa=function(a,b){return vf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};function Ei(a){return null!=a?a.J&2048||l===a.Si?!0:!1:!1}function aj(a,b,c){this.K=a;this.i=b;this.mc=c;this.J=32374990;this.Y=0}g=aj.prototype;
g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.mc};g.Ma=function(){return this.i<this.K.length-2?new aj(this.K,this.i+2,null):null};g.ja=function(){return(this.K.length-this.i)/2};g.ia=function(){return Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return new Y(this.K[this.i],this.K[this.i+1])};g.ab=function(){return this.i<this.K.length-2?new aj(this.K,this.i+2,null):Ee};g.ha=function(){return this};g.fa=function(a,b){return b===this.mc?this:new aj(this.K,this.i,b)};g.la=function(a,b){return ff(b,this)};aj.prototype[Ec]=function(){return Ge(this)};
function bj(a,b){this.K=a;this.i=0;this.aa=b}bj.prototype.Ya=function(){return this.i<this.aa};bj.prototype.next=function(){var a=new Y(this.K[this.i],this.K[this.i+1]);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.aa=b;this.K=c;this.I=d;this.J=16647951;this.Y=139268}g=q.prototype;g.Yc=function(a,b){a=$i(this.K,b);return-1===a?null:new Y(this.K[a],this.K[a+1])};g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.keys=function(){return Ge(cj.B?cj.B(this):cj.call(null,this))};g.entries=function(){return new Yi(E(E(this)))};g.values=function(){return Ge(dj.B?dj.B(this):dj.call(null,this))};g.has=function(a){return Nf(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Gf(b)?(c=$d(b),b=ae(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=$i(this.K,b);return-1===a?c:this.K[a+1]};
g.va=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Pe(c))return y(c);d+=2}else return c};g.oa=function(){return new bj(this.K,2*this.aa)};g.ea=function(){return this.meta};g.ja=function(){return this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};
g.ca=function(a,b){if(Cf(b)&&!Df(b))if(a=this.K.length,this.aa===b.ja(null))for(var c=0;;)if(c<a){var d=b.R(null,this.K[c],If);if(d!==If)if(D.j(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.od=function(){return new ej(this.K.length,Hc(this.K))};g.Ja=function(){return rd(W,this.meta)};g.Sa=function(a,b){return Zf(this,b)};g.Ta=function(a,b,c){return $f(this,b,c)};
g.wa=function(a,b){if(0<=$i(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Ja(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.aa-1,c,null);D.j(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.da=function(a,b,c){a=$i(this.K,b);if(-1===a){if(this.aa<fj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.aa+1,e,null)}return rd(cd(ai.j(gj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=Hc(this.K);b[a+1]=c;return new q(this.meta,this.aa,b,null)};g.ha=function(){var a=this.K;return 0<=a.length-2?new aj(a,0,null):null};g.fa=function(a,b){return b===this.meta?this:new q(b,this.aa,this.K,this.I)};
g.la=function(a,b){if(Ff(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=J(b);if(Ff(c))a=cd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var W=new q(null,0,[],Le),fj=8;function sf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=$i(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new q(null,b.length/2,b,null)}q.prototype[Ec]=function(){return Ge(this)};function ej(a,b){this.Bd={};this.Ic=a;this.K=b;this.J=259;this.Y=56}g=ej.prototype;
g.ja=function(){if(this.Bd)return ug(this.Ic,2);throw Error("count after persistent!");};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){if(this.Bd)return a=$i(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.pd=function(a,b){if(this.Bd){if(Ei(b))return this.Md(null,Fi.B?Fi.B(b):Fi.call(null,b),Gi.B?Gi.B(b):Gi.call(null,b));if(Ff(b))return this.Md(null,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));a=E(b);for(b=this;;){var c=J(a);if(r(c))a=K(a),b=Ud(b,Fi.B?Fi.B(c):Fi.call(null,c),Gi.B?Gi.B(c):Gi.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.zd=function(){if(this.Bd)return this.Bd=!1,new q(null,ug(this.Ic,2),this.K,null);throw Error("persistent! called twice");};
g.Md=function(a,b,c){if(this.Bd){a=$i(this.K,b);if(-1===a)return this.Ic+2<=2*fj?(this.Ic+=2,this.K.push(b),this.K.push(c),this):Zg.C(hj.j?hj.j(this.Ic,this.K):hj.call(null,this.Ic,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.Af=function(a,b){if(this.Bd)return a=$i(this.K,b),0<=a&&(this.K[a]=this.K[this.Ic-2],this.K[a+1]=this.K[this.Ic-1],a=this.K,a.pop(),a.pop(),this.Ic-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.R(null,a,null)};g.j=function(a,b){return this.R(null,a,b)};function hj(a,b){for(var c=Rd(gj),d=0;;)if(d<a)c=Zg.C(c,b[d],b[d+1]),d+=2;else return c}function ij(){this.val=!1}
function jj(a,b){return a===b?!0:T(a,b)?!0:D.j(a,b)}function kj(a,b,c){a=Hc(a);a[b]=c;return a}function lj(a,b){var c=Array(a.length-2);Hf(a,0,c,0,2*b);Hf(a,2*(b+1),c,2*b,c.length-2*b);return c}function mj(a,b,c,d){a=a.dd(b);a.K[c]=d;return a}function nj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Gd(b,f):f;if(Pe(c))return c;e+=2;f=c}else return f}function oj(a){this.K=a;this.i=0;this.Jc=this.we=null}
oj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.we=new Y(b,c):null!=c?(b=ie(c),b=b.Ya()?this.Jc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};oj.prototype.Ya=function(){var a=null!=this.we;return a?a:(a=null!=this.Jc)?a:this.advance()};
oj.prototype.next=function(){if(null!=this.we){var a=this.we;this.we=null;return a}if(null!=this.Jc)return a=this.Jc.next(),this.Jc.Ya()||(this.Jc=null),a;if(this.advance())return this.next();throw Error("No such element");};oj.prototype.remove=function(){return Error("Unsupported operation")};function pj(a,b,c){this.La=a;this.bitmap=b;this.K=c;this.Y=131072;this.J=0}g=pj.prototype;
g.dd=function(a){if(a===this.La)return this;var b=wg(this.bitmap),c=Array(0>b?4:2*(b+1));Hf(this.K,0,c,0,2*b);return new pj(a,this.bitmap,c)};g.ue=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=wg(this.bitmap&f-1),k=this.K[2*h],m=this.K[2*h+1];return null==k?(b=m.ue(a,b+5,c,d,e),b===m?this:null!=b?mj(this,a,2*h+1,b):this.bitmap===f?null:qj(this,a,f,h)):jj(d,k)?(e.val=!0,qj(this,a,f,h)):this};
function qj(a,b,c,d){if(a.bitmap===c)return null;a=a.dd(b);b=a.K;var e=b.length;a.bitmap^=c;Hf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.se=function(){return rj?rj(this.K):sj.call(null,this.K)};g.Gd=function(a,b){return nj(this.K,a,b)};g.Fd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=wg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Fd(a+5,b,c,d):jj(c,e)?f:d};
g.Hc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=wg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=wg(this.bitmap);if(2*m<this.K.length){a=this.dd(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=tj.Hc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?tj.Hc(a,b+5,se(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new uj(a,m+1,k)}b=Array(2*(m+4));Hf(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Hf(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.dd(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Hc(a,b+5,c,d,e,f),m===h?this:mj(this,a,2*k+1,m);if(jj(d,m))return e===h?this:mj(this,a,2*k+1,e);f.val=!0;f=b+5;d=vj?vj(a,f,m,h,c,d,e):wj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.dd(a);a.K[e]=null;a.K[k]=d;return a};
g.Gc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=wg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=wg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=tj.Gc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?tj.Gc(a+5,se(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new uj(null,k+1,h)}a=Array(2*
(k+1));Hf(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Hf(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new pj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Gc(a+5,b,c,d,e),k===f?this:new pj(null,this.bitmap,kj(this.K,2*h+1,k));if(jj(c,m))return d===f?this:new pj(null,this.bitmap,kj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=Aj?Aj(a,m,f,b,c,d):wj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Hc(k);d[c]=null;d[h]=a;return new pj(null,e,d)};
g.qe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=wg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.qe(a+5,b,c,d):jj(c,e)?new Y(e,f):d};
g.te=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=wg(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.te(a+5,b,c),a===h?this:null!=a?new pj(null,this.bitmap,kj(this.K,2*e+1,a)):this.bitmap===d?null:new pj(null,this.bitmap^d,lj(this.K,e))):jj(c,f)?new pj(null,this.bitmap^d,lj(this.K,e)):this};g.oa=function(){return new oj(this.K)};var tj=new pj(null,0,[]);
function Bj(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.aa-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new pj(b,k,a)}function Cj(a){this.K=a;this.i=0;this.Jc=null}Cj.prototype.Ya=function(){for(var a=this.K.length;;){if(null!=this.Jc&&this.Jc.Ya())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Jc=ie(b))}else return!1}};Cj.prototype.next=function(){if(this.Ya())return this.Jc.next();throw Error("No such element");};
Cj.prototype.remove=function(){return Error("Unsupported operation")};function uj(a,b,c){this.La=a;this.aa=b;this.K=c;this.Y=131072;this.J=0}g=uj.prototype;g.dd=function(a){return a===this.La?this:new uj(a,this.aa,Hc(this.K))};g.ue=function(a,b,c,d,e){var f=c>>>b&31,h=this.K[f];if(null==h)return this;b=h.ue(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.aa)return Bj(this,a,f);a=mj(this,a,f,b);--a.aa;return a}return mj(this,a,f,b)};g.se=function(){return Dj?Dj(this.K):Ej.call(null,this.K)};
g.Gd=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Gd(a,b);if(Pe(b))return b;d+=1}else d+=1}else return b};g.Fd=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Fd(a+5,b,c,d):d};g.Hc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=mj(this,a,h,tj.Hc(a,b+5,c,d,e,f)),a.aa+=1,a;b=k.Hc(a,b+5,c,d,e,f);return b===k?this:mj(this,a,h,b)};
g.Gc=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new uj(null,this.aa+1,kj(this.K,f,tj.Gc(a+5,b,c,d,e)));a=h.Gc(a+5,b,c,d,e);return a===h?this:new uj(null,this.aa,kj(this.K,f,a))};g.qe=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.qe(a+5,b,c,d):d};g.te=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.te(a+5,b,c),a===e?this:null==a?8>=this.aa?Bj(this,null,d):new uj(null,this.aa-1,kj(this.K,d,a)):new uj(null,this.aa,kj(this.K,d,a))):this};g.oa=function(){return new Cj(this.K)};
function Fj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(jj(c,a[d]))return d;d+=2}else return-1}function Gj(a,b,c,d){this.La=a;this.ad=b;this.aa=c;this.K=d;this.Y=131072;this.J=0}g=Gj.prototype;g.dd=function(a){if(a===this.La)return this;var b=Array(2*(this.aa+1));Hf(this.K,0,b,0,2*this.aa);return new Gj(a,this.ad,this.aa,b)};
g.ue=function(a,b,c,d,e){b=Fj(this.K,this.aa,d);if(-1===b)return this;e.val=!0;if(1===this.aa)return null;a=this.dd(a);e=a.K;e[b]=e[2*this.aa-2];e[b+1]=e[2*this.aa-1];e[2*this.aa-1]=null;e[2*this.aa-2]=null;--a.aa;return a};g.se=function(){return rj?rj(this.K):sj.call(null,this.K)};g.Gd=function(a,b){return nj(this.K,a,b)};g.Fd=function(a,b,c,d){a=Fj(this.K,this.aa,c);return 0>a?d:jj(c,this.K[a])?this.K[a+1]:d};
g.Hc=function(a,b,c,d,e,f){if(c===this.ad){b=Fj(this.K,this.aa,d);if(-1===b){if(this.K.length>2*this.aa)return b=2*this.aa,c=2*this.aa+1,a=this.dd(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.aa+=1,a;c=this.K.length;b=Array(c+2);Hf(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.aa+1;a===this.La?(this.K=b,this.aa=d,a=this):a=new Gj(this.La,this.ad,d,b);return a}return this.K[b+1]===e?this:mj(this,a,b+1,e)}return(new pj(a,1<<(this.ad>>>b&31),[null,this,null,null])).Hc(a,b,c,d,e,f)};
g.Gc=function(a,b,c,d,e){return b===this.ad?(a=Fj(this.K,this.aa,c),-1===a?(a=2*this.aa,b=Array(a+2),Hf(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Gj(null,this.ad,this.aa+1,b)):D.j(this.K[a+1],d)?this:new Gj(null,this.ad,this.aa,kj(this.K,a+1,d))):(new pj(null,1<<(this.ad>>>a&31),[null,this])).Gc(a,b,c,d,e)};g.qe=function(a,b,c,d){a=Fj(this.K,this.aa,c);return 0>a?d:jj(c,this.K[a])?new Y(this.K[a],this.K[a+1]):d};
g.te=function(a,b,c){a=Fj(this.K,this.aa,c);return-1===a?this:1===this.aa?null:new Gj(null,this.ad,this.aa-1,lj(this.K,ug(a,2)))};g.oa=function(){return new oj(this.K)};function wj(a){switch(arguments.length){case 6:return Aj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return vj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function Aj(a,b,c,d,e,f){var h=se(b);if(h===d)return new Gj(null,h,2,[b,c,e,f]);var k=new ij;return tj.Gc(a,h,b,c,k).Gc(a,d,e,f,k)}function vj(a,b,c,d,e,f,h){var k=se(c);if(k===e)return new Gj(null,k,2,[c,d,f,h]);var m=new ij;return tj.Hc(a,b,k,c,d,m).Hc(a,b,e,f,h,m)}function Hj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.Y=0}g=Hj.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ij?Ij(a,b,null):sj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.s);return Ij?Ij(a,b,c):sj.call(null,a,b,c)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1]):J(this.s)};
g.ab=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ij?Ij(c,d,null):sj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.s);return Ij?Ij(c,d,e):sj.call(null,c,d,e)}();return null!=b?b:Ee};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Hj(b,this.nodes,this.i,this.s,this.I)};g.la=function(a,b){return ff(b,this)};Hj.prototype[Ec]=function(){return Ge(this)};
function sj(a){switch(arguments.length){case 1:return rj(arguments[0]);case 3:return Ij(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function rj(a){return Ij(a,0,null)}function Ij(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Hj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.se(),r(d)))return new Hj(null,a,b+2,d,null);b+=2}else return null;else return new Hj(null,a,b,c,null)}
function Jj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.I=e;this.J=32374988;this.Y=0}g=Jj.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=this.nodes,b=this.i,c=K(this.s);return Kj?Kj(a,b,c):Ej.call(null,a,b,c)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return J(this.s)};g.ab=function(){var a=this.nodes;var b=this.i,c=K(this.s);a=Kj?Kj(a,b,c):Ej.call(null,a,b,c);return null!=a?a:Ee};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Jj(b,this.nodes,this.i,this.s,this.I)};g.la=function(a,b){return ff(b,this)};Jj.prototype[Ec]=function(){return Ge(this)};
function Ej(a){switch(arguments.length){case 1:return Dj(arguments[0]);case 3:return Kj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function Dj(a){return Kj(a,0,null)}function Kj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.se(),r(d)))return new Jj(null,a,b+1,d,null);b+=1}else return null;else return new Jj(null,a,b,c,null)}function Lj(a,b){this.ob=a;this.ah=b;this.seen=!1}
Lj.prototype.Ya=function(){return!this.seen||this.ah.Ya()};Lj.prototype.next=function(){if(this.seen)return this.ah.next();this.seen=!0;return new Y(null,this.ob)};Lj.prototype.remove=function(){return Error("Unsupported operation")};function Mj(a,b,c,d,e,f){this.meta=a;this.aa=b;this.root=c;this.nb=d;this.ob=e;this.I=f;this.J=16123663;this.Y=139268}g=Mj.prototype;g.Yc=function(a,b){return null==b?this.nb?new Y(null,this.ob):null:null==this.root?null:this.root.qe(0,se(b),b,null)};g.toString=function(){return ke(this)};
g.equiv=function(a){return this.ca(null,a)};g.keys=function(){return Ge(cj.B?cj.B(this):cj.call(null,this))};g.entries=function(){return new Yi(E(E(this)))};g.values=function(){return Ge(dj.B?dj.B(this):dj.call(null,this))};g.has=function(a){return Nf(this,a)};g.get=function(a,b){return this.R(null,a,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Gf(b)?(c=$d(b),b=ae(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return null==b?this.nb?this.ob:c:null==this.root?c:this.root.Fd(0,se(b),b,c)};
g.va=function(a,b,c){a=this.nb?b.C?b.C(c,null,this.ob):b.call(null,c,null,this.ob):c;return Pe(a)?y(a):null!=this.root?Qe(this.root.Gd(b,a)):a};g.oa=function(){var a=this.root?ie(this.root):nh();return this.nb?new Lj(this.ob,a):a};g.ea=function(){return this.meta};g.ja=function(){return this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.ca=function(a,b){return Wi(this,b)};g.od=function(){return new Nj(this.root,this.aa,this.nb,this.ob)};g.Ja=function(){return rd(gj,this.meta)};
g.wa=function(a,b){if(null==b)return this.nb?new Mj(this.meta,this.aa-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.te(0,se(b),b);return a===this.root?this:new Mj(this.meta,this.aa-1,a,this.nb,this.ob,null)};
g.da=function(a,b,c){if(null==b)return this.nb&&c===this.ob?this:new Mj(this.meta,this.nb?this.aa:this.aa+1,this.root,!0,c,null);a=new ij;b=(null==this.root?tj:this.root).Gc(0,se(b),b,c,a);return b===this.root?this:new Mj(this.meta,a.val?this.aa+1:this.aa,b,this.nb,this.ob,null)};g.ha=function(){if(0<this.aa){var a=null!=this.root?this.root.se():null;return this.nb?ff(new Y(null,this.ob),a):a}return null};g.fa=function(a,b){return b===this.meta?this:new Mj(b,this.aa,this.root,this.nb,this.ob,this.I)};
g.la=function(a,b){if(Ff(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=J(b);if(Ff(c))a=cd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var gj=new Mj(null,0,null,!1,null,Le);function Oj(a,b){for(var c=a.length,d=0,e=Rd(gj);;)if(d<c){var f=d+1;e=Ud(e,a[d],b[d]);d=f}else return Td(e)}Mj.prototype[Ec]=function(){return Ge(this)};function Nj(a,b,c,d){this.La={};this.root=a;this.count=b;this.nb=c;this.ob=d;this.J=259;this.Y=56}
function Pj(a,b,c){if(a.La){if(null==b)a.ob!==c&&(a.ob=c),a.nb||(a.count+=1,a.nb=!0);else{var d=new ij;b=(null==a.root?tj:a.root).Hc(a.La,0,se(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Nj.prototype;g.ja=function(){if(this.La)return this.count;throw Error("count after persistent!");};g.ma=function(a,b){return null==b?this.nb?this.ob:null:null==this.root?null:this.root.Fd(0,se(b),b)};
g.R=function(a,b,c){return null==b?this.nb?this.ob:c:null==this.root?c:this.root.Fd(0,se(b),b,c)};g.pd=function(a,b){a:if(this.La)if(Ei(b))a=Pj(this,Fi.B?Fi.B(b):Fi.call(null,b),Gi.B?Gi.B(b):Gi.call(null,b));else if(Ff(b))a=Pj(this,b.B?b.B(0):b.call(null,0),b.B?b.B(1):b.call(null,1));else for(a=E(b),b=this;;){var c=J(a);if(r(c))a=K(a),b=Pj(b,Fi.B?Fi.B(c):Fi.call(null,c),Gi.B?Gi.B(c):Gi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.zd=function(){if(this.La){this.La=null;var a=new Mj(null,this.count,this.root,this.nb,this.ob,null)}else throw Error("persistent! called twice");return a};g.Md=function(a,b,c){return Pj(this,b,c)};g.Af=function(a,b){if(this.La)null==b?this.nb&&(this.nb=!1,this.ob=null,--this.count):null!=this.root&&(a=new ij,b=this.root.ue(this.La,0,se(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};function Qj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=nf.j(d,a),a=b;else return d}
function Rj(a,b,c,d,e){this.meta=a;this.stack=b;this.xd=c;this.aa=d;this.I=e;this.J=32374990;this.Y=0}g=Rj.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.meta};g.Ma=function(){var a=J(this.stack);a=Qj(this.xd?a.right:a.left,K(this.stack),this.xd);return null==a?null:new Rj(null,a,this.xd,this.aa-1,null)};
g.ja=function(){return 0>this.aa?M(K(this))+1:this.aa};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){var a=this.stack;return null==a?null:kd(a)};g.ab=function(){var a=J(this.stack);a=Qj(this.xd?a.right:a.left,K(this.stack),this.xd);return null!=a?new Rj(null,a,this.xd,this.aa-1,null):Ee};g.ha=function(){return this};
g.fa=function(a,b){return b===this.meta?this:new Rj(b,this.stack,this.xd,this.aa,this.I)};g.la=function(a,b){return ff(b,this)};Rj.prototype[Ec]=function(){return Ge(this)};function Sj(a,b,c){return new Rj(null,Qj(a,null,b),b,c,null)}
function Tj(a,b,c,d){return c instanceof Uj?c.left instanceof Uj?new Uj(c.key,c.val,c.left.Wc(),new Vj(a,b,c.right,d)):c.right instanceof Uj?new Uj(c.right.key,c.right.val,new Vj(c.key,c.val,c.left,c.right.left),new Vj(a,b,c.right.right,d)):new Vj(a,b,c,d):new Vj(a,b,c,d)}
function Wj(a,b,c,d){return d instanceof Uj?d.right instanceof Uj?new Uj(d.key,d.val,new Vj(a,b,c,d.left),d.right.Wc()):d.left instanceof Uj?new Uj(d.left.key,d.left.val,new Vj(a,b,c,d.left.left),new Vj(d.key,d.val,d.left.right,d.right)):new Vj(a,b,c,d):new Vj(a,b,c,d)}
function Xj(a,b,c,d){if(c instanceof Uj)return new Uj(a,b,c.Wc(),d);if(d instanceof Vj)return Wj(a,b,c,d.xe());if(d instanceof Uj&&d.left instanceof Vj)return new Uj(d.left.key,d.left.val,new Vj(a,b,c,d.left.left),Wj(d.key,d.val,d.left.right,d.right.xe()));throw Error("red-black tree invariant violation");}
function Yj(a,b,c,d){if(d instanceof Uj)return new Uj(a,b,c,d.Wc());if(c instanceof Vj)return Tj(a,b,c.xe(),d);if(c instanceof Uj&&c.right instanceof Vj)return new Uj(c.right.key,c.right.val,Tj(c.key,c.val,c.left.xe(),c.right.left),new Vj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Zj=function Zj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Zj.C?Zj.C(k,b,c):Zj.call(null,k,b,c)}():c;if(Pe(e))return e;var f=function(){var k=a.key,m=a.val;return b.C?b.C(e,k,m):b.call(null,e,k,m)}();if(Pe(f))return f;if(null!=a.right){var h=a.right;return Zj.C?Zj.C(h,b,f):Zj.call(null,h,b,f)}return f};function Vj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.Y=0}g=Vj.prototype;
g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();g.kg=function(a){return a.ng(this)};g.xe=function(){return new Uj(this.key,this.val,this.left,this.right)};g.Wc=function(){return this};g.jg=function(a){return a.mg(this)};g.replace=function(a,b,c,d){return new Vj(a,b,c,d)};
g.mg=function(a){return new Vj(a.key,a.val,this,a.right)};g.ng=function(a){return new Vj(a.key,a.val,a.left,this)};g.Gd=function(a,b){return Zj(this,a,b)};g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Cc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Cc(null,b,c)};
g.ea=function(){return null};g.ja=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};g.pc=function(){return new I([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Se(this,b)};g.Ta=function(a,b,c){return Te(this,b,c)};
g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new I([this.key,this.val],0,null)};g.fa=function(a,b){return rd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Vj.prototype[Ec]=function(){return Ge(this)};function Uj(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.I=null;this.J=166619935;this.Y=0}g=Uj.prototype;g.Yc=function(a,b){switch(b){case 0:return new Y(0,this.key);case 1:return new Y(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();g.kg=function(a){return new Uj(this.key,this.val,this.left,a)};g.xe=function(){throw Error("red-black tree invariant violation");};g.Wc=function(){return new Vj(this.key,this.val,this.left,this.right)};
g.jg=function(a){return new Uj(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new Uj(a,b,c,d)};g.mg=function(a){return this.left instanceof Uj?new Uj(this.key,this.val,this.left.Wc(),new Vj(a.key,a.val,this.right,a.right)):this.right instanceof Uj?new Uj(this.right.key,this.right.val,new Vj(this.key,this.val,this.left,this.right.left),new Vj(a.key,a.val,this.right.right,a.right)):new Vj(a.key,a.val,this,a.right)};
g.ng=function(a){return this.right instanceof Uj?new Uj(this.key,this.val,new Vj(a.key,a.val,a.left,this.left),this.right.Wc()):this.left instanceof Uj?new Uj(this.left.key,this.left.val,new Vj(a.key,a.val,a.left,this.left.left),new Vj(this.key,this.val,this.left.right,this.right)):new Vj(a.key,a.val,a.left,this)};g.Gd=function(a,b){return Zj(this,a,b)};g.ma=function(a,b){return this.Ra(null,b,null)};g.R=function(a,b,c){return this.Ra(null,b,c)};
g.xa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Cc=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Cc(null,b,c)};g.ea=function(){return null};g.ja=function(){return 2};g.rf=function(){return this.key};g.sf=function(){return this.val};g.Zc=function(){return this.val};g.$c=function(){return new X(null,1,5,Z,[this.key],null)};
g.pc=function(){return new I([this.val,this.key],0,null)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return Se(this,b)};g.Ta=function(a,b,c){return Te(this,b,c)};g.da=function(a,b,c){return R.C(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ha=function(){return new I([this.key,this.val],0,null)};g.fa=function(a,b){return rd(new X(null,2,5,Z,[this.key,this.val],null),b)};
g.la=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.xa(null,a)};g.j=function(a,b){return this.Ra(null,a,b)};Uj.prototype[Ec]=function(){return Ge(this)};
var ak=function ak(a,b,c,d,e){if(null==b)return new Uj(c,d,null,null);var h=function(){var k=b.key;return a.j?a.j(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return ak.ka?ak.ka(a,k,c,d,e):ak.call(null,a,k,c,d,e)}(),null!=h?b.jg(h):null;h=function(){var k=b.right;return ak.ka?ak.ka(a,k,c,d,e):ak.call(null,a,k,c,d,e)}();return null!=h?b.kg(h):null},bk=function bk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Uj){if(b instanceof Uj){var d=
function(){var e=a.right,f=b.left;return bk.j?bk.j(e,f):bk.call(null,e,f)}();return d instanceof Uj?new Uj(d.key,d.val,new Uj(a.key,a.val,a.left,d.left),new Uj(b.key,b.val,d.right,b.right)):new Uj(a.key,a.val,a.left,new Uj(b.key,b.val,d,b.right))}return new Uj(a.key,a.val,a.left,function(){var e=a.right;return bk.j?bk.j(e,b):bk.call(null,e,b)}())}if(b instanceof Uj)return new Uj(b.key,b.val,function(){var e=b.left;return bk.j?bk.j(a,e):bk.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return bk.j?bk.j(e,f):bk.call(null,e,f)}();return d instanceof Uj?new Uj(d.key,d.val,new Vj(a.key,a.val,a.left,d.left),new Vj(b.key,b.val,d.right,b.right)):Xj(a.key,a.val,a.left,new Vj(b.key,b.val,d,b.right))},ck=function ck(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.j?a.j(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,bk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return ck.P?ck.P(a,h,c,d):ck.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof Vj?Xj(b.key,b.val,
f,b.right):new Uj(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return ck.P?ck.P(a,h,c,d):ck.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Vj?Yj(b.key,b.val,b.left,f):new Uj(b.key,b.val,b.left,f):null}return null},dk=function dk(a,b,c,d){var f=b.key,h=a.j?a.j(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return dk.P?dk.P(a,k,c,d):dk.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return dk.P?dk.P(a,k,c,d):dk.call(null,a,k,c,d)}())};function ek(a,b,c,d,e){this.qc=a;this.tree=b;this.aa=c;this.meta=d;this.I=e;this.J=418776847;this.Y=8192}g=ek.prototype;g.Yc=function(a,b){return fk(this,b)};
g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Gf(b)?(c=$d(b),b=ae(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.R(null,a,b)};g.entries=function(){return new Yi(E(E(this)))};g.toString=function(){return ke(this)};g.keys=function(){return Ge(cj.B?cj.B(this):cj.call(null,this))};
g.values=function(){return Ge(dj.B?dj.B(this):dj.call(null,this))};g.equiv=function(a){return this.ca(null,a)};function fk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.qc.j?a.qc.j(b,d):a.qc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Nf(this,a)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=fk(this,b);return null!=a?a.val:c};g.va=function(a,b,c){return null!=this.tree?Qe(Zj(this.tree,b,c)):c};g.ea=function(){return this.meta};
g.ja=function(){return this.aa};g.pc=function(){return 0<this.aa?Sj(this.tree,!1,this.aa):null};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.ca=function(a,b){return Wi(this,b)};g.Ja=function(){return new ek(this.qc,null,0,this.meta,0)};g.wa=function(a,b){a=[null];b=ck(this.qc,this.tree,b,a);return null==b?null==$e(a,0)?this:new ek(this.qc,null,0,this.meta,null):new ek(this.qc,b.Wc(),this.aa-1,this.meta,null)};
g.da=function(a,b,c){a=[null];var d=ak(this.qc,this.tree,b,c,a);return null==d?(a=$e(a,0),D.j(c,a.val)?this:new ek(this.qc,dk(this.qc,this.tree,b,c),this.aa,this.meta,null)):new ek(this.qc,d.Wc(),this.aa+1,this.meta,null)};g.ha=function(){return 0<this.aa?Sj(this.tree,!0,this.aa):null};g.fa=function(a,b){return b===this.meta?this:new ek(this.qc,this.tree,this.aa,b,this.I)};
g.la=function(a,b){if(Ff(b))return this.da(null,x(b,0),x(b,1));a=this;for(b=E(b);;){if(null==b)return a;var c=J(b);if(Ff(c))a=cd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};
g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var gk=new ek(Qf,null,0,null,Le);ek.prototype[Ec]=function(){return Ge(this)};var hk=function hk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return hk.F(c)};hk.F=function(a){a=E(a);for(var b=Rd(gj);;)if(a){var c=K(K(a));b=Zg.C(b,J(a),kf(a));a=c}else return Td(b)};hk.T=0;hk.ba=function(a){return this.F(E(a))};
var ik=function ik(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return ik.F(c)};ik.F=function(a){a=a instanceof I&&0===a.i?a.K:Ic(a);return sf(a)};ik.T=0;ik.ba=function(a){return this.F(E(a))};function jk(a,b){this.Ha=a;this.mc=b;this.J=32374988;this.Y=0}g=jk.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.mc};g.Ma=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:Ac(Xc,this.Ha)):Ac(Xc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null==a?null:new jk(a,null)};g.ia=function(){return Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return this.Ha.Ua(null).key};g.ab=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:Ac(Xc,this.Ha)):Ac(Xc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null!=a?new jk(a,null):Ee};g.ha=function(){return this};g.fa=function(a,b){return b===this.mc?this:new jk(this.Ha,b)};g.la=function(a,b){return ff(b,this)};
jk.prototype[Ec]=function(){return Ge(this)};function cj(a){return(a=E(a))?new jk(a,null):null}function Fi(a){return gd(a)}function kk(a,b){this.Ha=a;this.mc=b;this.J=32374988;this.Y=0}g=kk.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();g.ea=function(){return this.mc};g.Ma=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:Ac(Xc,this.Ha)):Ac(Xc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null==a?null:new kk(a,null)};g.ia=function(){return Ie(this)};
g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return gf(b,this)};g.Ta=function(a,b,c){return jf(b,c,this)};g.Ua=function(){return this.Ha.Ua(null).val};g.ab=function(){var a=(null!=this.Ha?this.Ha.J&128||l===this.Ha.ee||(this.Ha.J?0:Ac(Xc,this.Ha)):Ac(Xc,this.Ha))?this.Ha.Ma(null):K(this.Ha);return null!=a?new kk(a,null):Ee};g.ha=function(){return this};g.fa=function(a,b){return b===this.mc?this:new kk(this.Ha,b)};g.la=function(a,b){return ff(b,this)};
kk.prototype[Ec]=function(){return Ge(this)};function dj(a){return(a=E(a))?new kk(a,null):null}function Gi(a){return hd(a)}var lk=function lk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return lk.F(c)};lk.F=function(a){return r(sh(bg,a))?v.j(function(b,c){return nf.j(r(b)?b:W,c)},a):null};lk.T=0;lk.ba=function(a){return this.F(E(a))};
var mk=function mk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return mk.F(arguments[0],c)};mk.F=function(a,b){if(r(sh(bg,b))){var c=function(d,e){var f=gd(e),h=hd(e);return Nf(d,f)?R.C(d,f,function(){var k=B.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):R.C(d,f,h)};return v.j(function(d,e){return v.C(c,r(d)?d:W,E(e))},b)}return null};mk.T=1;mk.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function nk(a,b){var c=W;for(b=E(b);;)if(b){var d=J(b),e=B.C(a,d,ok);c=lh.j(e,ok)?R.C(c,d,e):c;b=K(b)}else return rd(c,wf(a))}function pk(a){this.iter=a}pk.prototype.Ya=function(){return this.iter.Ya()};pk.prototype.next=function(){if(this.iter.Ya())return this.iter.next().key;throw Error("No such element");};pk.prototype.remove=function(){return Error("Unsupported operation")};function qk(a,b,c){this.meta=a;this.ed=b;this.I=c;this.J=15077647;this.Y=139268}g=qk.prototype;g.toString=function(){return ke(this)};
g.equiv=function(a){return this.ca(null,a)};g.keys=function(){return Ge(E(this))};g.entries=function(){return new Zi(E(E(this)))};g.values=function(){return Ge(E(this))};g.has=function(a){return Nf(this,a)};g.forEach=function(a){for(var b=E(this),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null);f=Q(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=E(b))Gf(b)?(c=$d(b),b=ae(b),h=c,d=M(c),c=h):(c=J(b),h=Q(c,0,null),f=Q(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){a=dd(this.ed,b);return r(a)?gd(a):c};g.oa=function(){return new pk(ie(this.ed))};g.ea=function(){return this.meta};g.ja=function(){return Nc(this.ed)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ke(this)};g.ca=function(a,b){if(Af(b))if(M(this)===M(b))try{return ag(function(c,d){return(c=Nf(b,d))?c:Oe(!1)},!0,this.ed)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.od=function(){return new rk(Rd(this.ed))};
g.Ja=function(){return rd(sk,this.meta)};g.vf=function(a,b){return new qk(this.meta,fd(this.ed,b),null)};g.ha=function(){return cj(this.ed)};g.fa=function(a,b){return b===this.meta?this:new qk(b,this.ed,this.I)};g.la=function(a,b){return new qk(this.meta,R.C(this.ed,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};var sk=new qk(null,W,Le);function Pf(a){for(var b=a.length,c=Rd(sk),d=0;;)if(d<b)Sd(c,a[d]),d+=1;else break;return Td(c)}qk.prototype[Ec]=function(){return Ge(this)};function rk(a){this.Jd=a;this.Y=136;this.J=259}g=rk.prototype;g.pd=function(a,b){this.Jd=Zg.C(this.Jd,b,null);return this};g.zd=function(){return new qk(null,Td(this.Jd),null)};
g.ja=function(){return M(this.Jd)};g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return ad(this.Jd,b,If)===If?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return ad(this.Jd,a,If)===If?null:a};
g.j=function(a,b){return ad(this.Jd,a,If)===If?b:a};function tk(a){if(Af(a))return vf(a,null);a=E(a);if(null==a)return sk;if(a instanceof I&&0===a.i)return Pf(a.K);for(var b=Rd(sk);;)if(null!=a){var c=K(a);b=Sd(b,Vc(a));a=c}else return Td(b)}function uk(a){return function e(c,d){return new Jg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=Q(k,0,null);if(k=E(k))if(Nf(f,h))h=De(k);else{f=ff(h,e(De(k),nf.j(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,sk)}
function vk(a){for(var b=of;;)if(K(a))b=nf.j(b,J(a)),a=K(a);else return E(b)}function Ig(a){if(null!=a&&(a.Y&4096||l===a.tf))return a.ce(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.B(a)].join(""));}function wk(a,b){var c=Rd(W);a=E(a);for(b=E(b);;)if(a&&b)c=Zg.C(c,J(a),J(b)),a=K(a),b=K(b);else return Td(c)}
var xk=function xk(a){switch(arguments.length){case 2:return xk.j(arguments[0],arguments[1]);case 3:return xk.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return xk.F(arguments[0],arguments[1],arguments[2],c)}};xk.j=function(a,b){return b};xk.C=function(a,b,c){return(a.B?a.B(b):a.call(null,b))>(a.B?a.B(c):a.call(null,c))?b:c};
xk.F=function(a,b,c,d){return v.C(function(e,f){return xk.C(a,e,f)},xk.C(a,b,c),d)};xk.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};xk.T=3;function yk(){this.K=[]}g=yk.prototype;g.add=function(a){return this.K.push(a)};g.size=function(){return this.K.length};g.clear=function(){return this.K=[]};g.isEmpty=function(){return 0===this.K.length};g.toArray=function(){return this.K};
function zk(){return function(a){var b=new yk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Yf(b.toArray()),b.clear(),a.j?a.j(h,k):a.call(null,h,k)):h}function d(h){if(!r(b.isEmpty())){var k=Yf(b.toArray());b.clear();h=Qe(a.j?a.j(h,k):a.call(null,h,k))}return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}}function Ak(a,b){return new Jg(null,function(){var c=E(b);if(c){var d=J(c);d=a.B?a.B(d):a.call(null,d);c=r(d)?ff(J(c),Ak(a,De(c))):null}else c=null;return c},null,null)}function Bk(a,b,c){this.start=a;this.step=b;this.count=c;this.J=82;this.Y=0}g=Bk.prototype;g.ja=function(){return this.count};g.Ua=function(){return this.start};g.xa=function(a,b){return this.start+b*this.step};
g.Ra=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.Yd=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Bk(this.start+this.step,this.step,this.count-1)};function Ck(a,b,c){this.i=a;this.end=b;this.step=c}Ck.prototype.Ya=function(){return 0<this.step?this.i<this.end:this.i>this.end};Ck.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Dk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.Vb=e;this.Ie=f;this.I=h;this.J=32375006;this.Y=140800}g=Dk.prototype;g.toString=function(){return ke(this)};g.equiv=function(a){return this.ca(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Ze(this,b,0);case 2:return Ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.B=function(b){return Ze(this,b,0)};a.j=function(b,c){return Ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return bf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return bf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return bf(this,c,d)};return b}();function Ek(a){if(null==a.Vb){var b=a.ja(null);32<b?(a.Ie=new Dk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Vb=new Bk(a.start,a.step,32)):a.Vb=new Bk(a.start,a.step,b)}}
g.xa=function(a,b){if(0<=b&&b<this.ja(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0<=b&&b<this.ja(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.oa=function(){return new Ck(this.start,this.end,this.step)};g.ea=function(){return this.meta};
g.Ma=function(){return 0<this.step?this.start+this.step<this.end?new Dk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Dk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ja=function(){return Math.ceil((this.end-this.start)/this.step)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=Ie(this)};g.ca=function(a,b){return ef(this,b)};g.Ja=function(){return Ee};g.Sa=function(a,b){return Se(this,b)};
g.Ta=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.j?b.j(c,a):b.call(null,c,a);if(Pe(c))return y(c);a+=this.step}else return c};g.Ua=function(){return this.start};g.ab=function(){var a=this.Ma(null);return null==a?Ee:a};g.ha=function(){return this};g.$d=function(){Ek(this);return this.Vb};g.yd=function(){Ek(this);return null==this.Ie?Ee:this.Ie};g.fa=function(a,b){return b===this.meta?this:new Dk(b,this.start,this.end,this.step,this.Vb,this.Ie,this.I)};
g.la=function(a,b){return ff(b,this)};g.Zd=function(){return E(this.yd(null))};Dk.prototype[Ec]=function(){return Ge(this)};var Fk=function Fk(a){switch(arguments.length){case 0:return Fk.O();case 1:return Fk.B(arguments[0]);case 2:return Fk.j(arguments[0],arguments[1]);case 3:return Fk.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Fk.O=function(){return Fk.C(0,Number.MAX_VALUE,1)};Fk.B=function(a){return Fk.C(0,a,1)};
Fk.j=function(a,b){return Fk.C(a,b,1)};Fk.C=function(a,b,c){return 0<c?b<=a?Ee:new Dk(null,a,b,c,null,null,null):0>c?b>=a?Ee:new Dk(null,a,b,c,null,null,null):b===a?Ee:Rh(a)};Fk.T=3;function Gk(a,b){return new Jg(null,function(){var c=E(b);return c?ff(J(c),Gk(a,Nh(a,c))):null},null,null)}function Hk(a,b){return new X(null,2,5,Z,[Ak(a,b),Ph(a,b)],null)}
function Ik(a,b){return new Jg(null,function(){var c=E(b);if(c){var d=J(c),e=a.B?a.B(d):a.call(null,d),f=ff(d,Ak(function(h){return D.j(e,a.B?a.B(h):a.call(null,h))},K(c)));return ff(f,Ik(a,new Jg(null,function(){return Nh(M(f),c)},null,null)))}return null},null,null)}function Jk(a){return Td(v.C(function(b,c){return Zg.C(b,c,B.C(b,c,0)+1)},Rd(W),a))}
function Kk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.C?a.C(m,n,p):a.call(null,m,n,p),b.C?b.C(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.j?a.j(m,n):a.call(null,m,n),b.j?b.j(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.B?a.B(m):a.call(null,m),b.B?b.B(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.O?a.O():a.call(null),b.O?b.O():b.call(null)],null)}var h=null,k=function(){function m(p,u,w,z){var F=null;
if(3<arguments.length){F=0;for(var H=Array(arguments.length-3);F<H.length;)H[F]=arguments[F+3],++F;F=new I(H,0,null)}return n.call(this,p,u,w,F)}function n(p,u,w,z){return new X(null,2,5,Z,[jh(a,p,u,w,z),jh(b,p,u,w,z)],null)}m.T=3;m.ba=function(p){var u=J(p);p=K(p);var w=J(p);p=K(p);var z=J(p);p=De(p);return n(u,w,z,p)};m.F=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,
p);default:var w=null;if(3<arguments.length){w=0;for(var z=Array(arguments.length-3);w<z.length;)z[w]=arguments[w+3],++w;w=new I(z,0,null)}return k.F(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);};h.T=3;h.ba=k.ba;h.O=f;h.B=e;h.j=d;h.C=c;h.F=k.F;return h}()}function Lk(a){a:for(var b=a;;)if(b=E(b))b=K(b);else break a;return a}
function Mk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.j(a[0],b)?1===a.length?a[0]:Yf(a):null;throw new TypeError("re-matches must match against a string.");}function Nk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Yf(a);throw new TypeError("re-find must match against a string.");}
var Ok=function Ok(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Yf(d);return ff(f,new Jg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=yg.j(b,h),Ok.j?Ok.j(a,h):Ok.call(null,a,h)):null},null,null))};function Qk(a,b){if("string"===typeof b)return Ok(a,b);throw new TypeError("re-seq must match against a string.");}
function Rk(a){if(a instanceof RegExp)return a;var b=Nk(/^\(\?([idmsux]*)\)/,a),c=Q(b,0,null);b=Q(b,1,null);a=yg.j(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")}
function Sk(a,b,c,d,e,f,h){var k=nc;nc=null==nc?null:nc-1;try{if(null!=nc&&0>nc)return Jd(a,"#");Jd(a,c);if(0===tc.B(f))E(h)&&Jd(a,function(){var z=Tk.B(f);return r(z)?z:"..."}());else{if(E(h)){var m=J(h);b.C?b.C(m,a,f):b.call(null,m,a,f)}for(var n=K(h),p=tc.B(f)-1;;)if(!n||null!=p&&0===p){E(n)&&0===p&&(Jd(a,d),Jd(a,function(){var z=Tk.B(f);return r(z)?z:"..."}()));break}else{Jd(a,d);var u=J(n);c=a;h=f;b.C?b.C(u,c,h):b.call(null,u,c,h);var w=K(n);c=p-1;n=w;p=c}}return Jd(a,e)}finally{nc=k}}
function Uk(a,b){b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Jd(a,f);e+=1}else if(b=E(b))c=b,Gf(c)?(b=$d(c),d=ae(c),c=b,f=M(b),b=d,d=f):(f=J(c),Jd(a,f),b=K(c),c=null,d=0),e=0;else return null}function Vk(a){if(null==jc)throw Error("No *print-fn* fn set for evaluation environment");jc.call(null,a);return null}var Wk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Xk(a){return['"',t.B(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Wk[b]})),'"'].join("")}function Yk(a,b){return Kf(B.j(a,rc))?null!=b&&(b.J&131072||l===b.be)?null!=wf(b):!1:!1}
function Zk(a,b,c){if(null==a)return Jd(b,"nil");if(Yk(c,a)){Jd(b,"^");var d=wf(a);$k.C?$k.C(d,b,c):$k.call(null,d,b,c);Jd(b," ")}if(a.rb)return a.ub(b);if(null!=a?a.J&2147483648||l===a.Ia||(a.J?0:Ac(Ld,a)):Ac(Ld,a))return Md(a,b,c);if(!0===a||!1===a)return Jd(b,t.B(a));if("number"===typeof a)return Jd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.B(a));if(null!=a&&a.constructor===Object)return Jd(b,"#js "),d=Lh.j(function(f){return new Y(null!=Mk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?Hg.B(f):f,a[f])},hb(a)),al.P?al.P(d,$k,b,c):al.call(null,d,$k,b,c);if(wc(a))return Sk(b,$k,"#js ["," ","]",c,a);if("string"==typeof a)return r(qc.B(c))?Jd(b,Xk(a)):Jd(b,a);if(ra(a)){var e=a.name;c=r(function(){var f=null==e;return f?f:vb(e)}())?"Function":e;return Uk(b,P(["#object[",c,r(!1)?[' "',t.B(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.B(f);;)if(f.length<h)f=["0",f].join("");else return f},Uk(b,P(['#inst "',t.B(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Uk(b,P(['#"',a.source,'"']));if(Jc(a))return Uk(b,P(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.kb}()))return Uk(b,P(["#object[",a.constructor.kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=r(function(){var f=
null==e;return f?f:vb(e)}())?"Object":e;return null==a.constructor?Uk(b,P(["#object[",c,"]"])):Uk(b,P(["#object[",c," ",t.B(a),"]"]))}function $k(a,b,c){var d=bl.B(c);return r(d)?(c=R.C(c,cl,Zk),d.C?d.C(a,b,c):d.call(null,a,b,c)):Zk(a,b,c)}
function dl(a,b){var c=new dc,d=new je(c);a:{$k(J(a),d,b);a=E(K(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);Jd(d," ");$k(k,d,b);h+=1}else if(a=E(a))e=a,Gf(e)?(a=$d(e),f=ae(e),e=a,k=M(a),a=f,f=k):(k=J(e),Jd(d," "),$k(k,d,b),a=K(e),e=null,f=0),h=0;else break a}d.Nc(null);return c}function el(a,b){return yf(a)?"":t.B(dl(a,b))}function fl(a,b){if(yf(a))return"\n";a=dl(a,b);a.append("\n");return t.B(a)}function kl(){var a=oc();Vk("\n");return B.j(a,pc),null}
var gl=function gl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return gl.F(c)};gl.F=function(a){return el(a,oc())};gl.T=0;gl.ba=function(a){return this.F(E(a))};var hl=function hl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return hl.F(c)};hl.F=function(a){return fl(a,oc())};hl.T=0;hl.ba=function(a){return this.F(E(a))};
var il=function il(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return il.F(c)};il.F=function(a){return el(a,R.C(oc(),qc,!1))};il.T=0;il.ba=function(a){return this.F(E(a))};var jl=function jl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return jl.F(c)};jl.F=function(a){return fl(a,R.C(oc(),qc,!1))};jl.T=0;jl.ba=function(a){return this.F(E(a))};
function ll(a){return a instanceof A?we.j(null,Ig(a)):Hg.j(null,Ig(a))}function ml(a){if(r(!1)){var b=E(a),c=E(b),d=J(c);K(c);Q(d,0,null);Q(d,1,null);c=qf(a);for(a=null;;){d=a;b=E(b);a=J(b);var e=K(b),f=a;a=Q(f,0,null);b=Q(f,1,null);if(r(f))if(a instanceof C||a instanceof A)if(r(d))if(D.j(d,Fg(a)))c=R.C(c,ll(a),b),a=d,b=e;else return null;else if(d=Fg(a),r(d))c=R.C(c,ll(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function nl(a,b,c,d,e){return Sk(d,function(f,h,k){var m=gd(f);c.C?c.C(m,h,k):c.call(null,m,h,k);Jd(h," ");f=hd(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[t.B(a),"{"].join(""),", ","}",e,E(b))}function al(a,b,c,d){var e=Cf(a)?ml(a):null,f=Q(e,0,null);e=Q(e,1,null);return r(f)?nl(["#:",t.B(f)].join(""),e,b,c,d):nl(null,a,b,c,d)}Gh.prototype.Ia=l;Gh.prototype.ga=function(a,b,c){Jd(b,"#object[cljs.core.Volatile ");$k(new q(null,1,[ol,this.state],null),b,c);return Jd(b,"]")};xe.prototype.Ia=l;
xe.prototype.ga=function(a,b,c){Jd(b,"#'");return $k(this.Id,b,c)};I.prototype.Ia=l;I.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Jg.prototype.Ia=l;Jg.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Y.prototype.Ia=l;Y.prototype.ga=function(a,b,c){return Sk(b,$k,"["," ","]",c,this)};Rj.prototype.Ia=l;Rj.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Hj.prototype.Ia=l;Hj.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};
Vj.prototype.Ia=l;Vj.prototype.ga=function(a,b,c){return Sk(b,$k,"["," ","]",c,this)};aj.prototype.Ia=l;aj.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};He.prototype.Ia=l;He.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Ii.prototype.Ia=l;Ii.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Dg.prototype.Ia=l;Dg.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};df.prototype.Ia=l;
df.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Mj.prototype.Ia=l;Mj.prototype.ga=function(a,b,c){return al(this,$k,b,c)};Jj.prototype.Ia=l;Jj.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Ki.prototype.Ia=l;Ki.prototype.ga=function(a,b,c){return Sk(b,$k,"["," ","]",c,this)};ek.prototype.Ia=l;ek.prototype.ga=function(a,b,c){return al(this,$k,b,c)};qk.prototype.Ia=l;qk.prototype.ga=function(a,b,c){return Sk(b,$k,"#{"," ","}",c,this)};Og.prototype.Ia=l;
Og.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Bh.prototype.Ia=l;Bh.prototype.ga=function(a,b,c){Jd(b,"#object[cljs.core.Atom ");$k(new q(null,1,[ol,this.state],null),b,c);return Jd(b,"]")};kk.prototype.Ia=l;kk.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Uj.prototype.Ia=l;Uj.prototype.ga=function(a,b,c){return Sk(b,$k,"["," ","]",c,this)};Qh.prototype.Ia=l;Qh.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};X.prototype.Ia=l;
X.prototype.ga=function(a,b,c){return Sk(b,$k,"["," ","]",c,this)};Ri.prototype.Ia=l;Ri.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};Ag.prototype.Ia=l;Ag.prototype.ga=function(a,b){return Jd(b,"()")};Si.prototype.Ia=l;Si.prototype.ga=function(a,b,c){return Sk(b,$k,"#queue ["," ","]",c,E(this))};q.prototype.Ia=l;q.prototype.ga=function(a,b,c){return al(this,$k,b,c)};Dk.prototype.Ia=l;Dk.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};jk.prototype.Ia=l;
jk.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};pf.prototype.Ia=l;pf.prototype.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,this)};A.prototype.Xc=l;A.prototype.Mc=function(a,b){if(b instanceof A)return ve(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};C.prototype.Xc=l;C.prototype.Mc=function(a,b){if(b instanceof C)return Eg(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Ki.prototype.Xc=l;
Ki.prototype.Mc=function(a,b){if(Ff(b))return Rf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};X.prototype.Xc=l;X.prototype.Mc=function(a,b){if(Ff(b))return Rf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Y.prototype.Xc=l;Y.prototype.Mc=function(a,b){if(Ff(b))return Rf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Vj.prototype.Xc=l;
Vj.prototype.Mc=function(a,b){if(Ff(b))return Rf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};Uj.prototype.Xc=l;Uj.prototype.Mc=function(a,b){if(Ff(b))return Rf(this,b);throw Error(["Cannot compare ",t.B(this)," to ",t.B(b)].join(""));};function pl(a,b){Pd(a,ql,b)}var rl=null;function sl(a){null==rl&&(rl=Ch(0));return we.B([t.B(a),t.B(Eh.j(rl,Me))].join(""))}function tl(a){this.f=a;this.value=null;this.J=2147516416;this.Y=1}
tl.prototype.fb=function(){r(this.f)&&(this.value=this.f.O?this.f.O():this.f.call(null),this.f=null);return this.value};tl.prototype.Je=function(){return yc(this.f)};tl.prototype.ga=function(a,b,c){Jd(b,"#object[cljs.core.Delay ");$k(new q(null,2,[ul,null==this.f?vl:wl,ol,this.value],null),b,c);return Jd(b,"]")};function xl(a){return a instanceof tl?y(a):a}function yl(a){return function(b,c){b=a.j?a.j(b,c):a.call(null,b,c);return Pe(b)?Oe(b):b}}
function zl(a){var b=yl(a);return function(){function c(h,k){return v.C(b,h,k)}function d(h){return a.B?a.B(h):a.call(null,h)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.B=d;f.j=c;return f}()}function Al(){}
function Bl(a){if(null!=a&&null!=a.qh)a=a.qh(a);else{var b=Bl[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=Bl._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IEncodeJS.-clj-\x3ejs",a);}return a}function Cl(a,b){return(null!=a?l===a.ph||(a.rd?0:Ac(Al,a)):Ac(Al,a))?Bl(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof A?b.B?b.B(a):b.call(null,a):gl.F(P([a]))}
var Dl=function Dl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return Dl.F(arguments[0],c)};
Dl.F=function(a,b){b=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;var c=B.C(b,El,Ig),d=function h(f){if(null==f)return null;if(null!=f?l===f.ph||(f.rd?0:Ac(Al,f)):Ac(Al,f))return Bl(f);if(f instanceof C)return c.B?c.B(f):c.call(null,f);if(f instanceof A)return t.B(f);if(Cf(f)){var k={};f=E(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.xa(null,p),w=Q(u,0,null);u=Q(u,1,null);w=Cl(w,d);u=h(u);k[w]=u;p+=1}else if(f=E(f))Gf(f)?(n=$d(f),f=ae(f),m=n,n=M(n)):(n=J(f),m=Q(n,0,null),n=Q(n,1,null),m=Cl(m,d),n=h(n),k[m]=
n,f=K(f),m=null,n=0),p=0;else break;return k}if(zf(f)){k=[];f=E(Lh.j(h,f));m=null;for(p=n=0;;)if(p<n)w=m.xa(null,p),k.push(w),p+=1;else if(f=E(f))m=f,Gf(m)?(f=$d(m),p=ae(m),m=f,n=M(f),f=p):(f=J(m),k.push(f),f=K(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};Dl.T=1;Dl.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};function Fl(){}
function Gl(a,b){if(null!=a&&null!=a.oh)a=a.oh(a,b);else{var c=Gl[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Gl._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Hl(a){var b=P([Il,!1]),c=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;c=B.j(c,Il);var d=r(c)?Hg:t;return function h(f){return(null!=f?l===f.Mi||(f.rd?0:Ac(Fl,f)):Ac(Fl,f))?Gl(f,gh(ik,b)):Jf(f)?Lk(Lh.j(h,f)):Ei(f)?new Y(h(gd(f)),h(hd(f))):zf(f)?ai.C(qf(f),Lh.B(h),f):wc(f)?Td(v.C(function(k,m){return Yg.j(k,h(m))},Rd(of),f)):Bc(f)===Object?Td(v.C(function(k,m){return Zg.C(k,d.B?d.B(m):d.call(null,m),h(ib(f,m)))},Rd(W),hb(f))):f}(a)}
function Jl(a){var b=Ch(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new I(h,0,null)}return d.call(this,f)}function d(e){var f=B.C(y(b),e,If);return f===If?(f=gh(a,e),Eh.P(b,R,e,f),f):f}c.T=0;c.ba=function(e){e=E(e);return d(e)};c.F=d;return c}()}
var Kl=function Kl(a){switch(arguments.length){case 0:return Kl.O();case 1:return Kl.B(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};Kl.O=function(){return Kl.B(1)};Kl.B=function(a){return Math.random()*a};Kl.T=1;function Ll(a){return Math.floor(Math.random()*a)}function Ml(a,b){return Td(v.C(function(c,d){var e=a.B?a.B(d):a.call(null,d);return Zg.C(c,e,nf.j(B.C(c,e,of),d))},Rd(W),b))}var Nl=null;
function Ol(){null==Nl&&(Nl=Ch(new q(null,3,[Pl,W,Ql,W,Rl,W],null)));return Nl}function Sl(a,b,c){var d=D.j(b,c);if(d)return d;d=Rl.B(a);d=d.B?d.B(b):d.call(null,b);if(d=Nf(d,c))return d;if(Ff(c))if(Ff(b))if(M(c)===M(b)){d=!0;for(var e=0;;)if(d&&e!==M(c))d=Sl(a,b.B?b.B(e):b.call(null,e),c.B?c.B(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Tl(a){var b=y(Ol());return mh(B.j(Pl.B(b),a))}
function Ul(a,b,c,d){Eh.j(a,function(){return y(b)});Eh.j(c,function(){return y(d)})}
var Vl=function Vl(a,b,c){var e=function(){var f=y(c);return f.B?f.B(a):f.call(null,a)}();e=r(r(e)?e.B?e.B(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=Tl(b);;)if(0<M(f)){var h=J(f);Vl.C?Vl.C(a,h,c):Vl.call(null,a,h,c);f=De(f)}else return null}();if(r(e))return e;e=function(){for(var f=Tl(a);;)if(0<M(f)){var h=J(f);Vl.C?Vl.C(h,b,c):Vl.call(null,h,b,c);f=De(f)}else return null}();return r(e)?e:!1};function Wl(a,b,c,d){c=Vl(a,b,c);return r(c)?c:Sl(d,a,b)}
var Xl=function Xl(a,b,c,d,e,f,h,k){var n=v.C(function(u,w){var z=Q(w,0,null);Q(w,1,null);if(Sl(y(c),b,z)){u=null==u||Wl(z,J(u),e,y(c))?w:u;if(!Wl(J(u),z,e,y(c)))throw Error(["Multiple methods in multimethod '",t.B(a),"' match dispatch value: ",t.B(b)," -\x3e ",t.B(z)," and ",t.B(J(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),p=function(){if(null==n){var u=y(d);u=u.B?u.B(k):u.call(null,k)}else u=!1;return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(p)){if(D.j(y(h),y(c)))return Eh.P(f,
R,b,kf(p)),kf(p);Ul(f,d,h,c);return Xl.qb?Xl.qb(a,b,c,d,e,f,h,k):Xl.call(null,a,b,c,d,e,f,h,k)}return null};function Yl(a,b,c){if(null!=a&&null!=a.gb)a.gb(a,b,c);else{var d=Yl[na(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Yl._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IMultiFn.-add-method",a);}}function Zl(a,b){throw Error(["No method in multimethod '",t.B(a),"' for dispatch value: ",t.B(b)].join(""));}
function $l(a,b,c,d,e,f,h){var k=am;this.name=a;this.qa=b;this.Gh=k;this.hierarchy=c;this.bf=d;this.yi=e;this.af=f;this.Fe=h;this.J=4194305;this.Y=4352}g=$l.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.qb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ib(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Cb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Eb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Gb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.O=function(){var a=this.qa.O?this.qa.O():this.qa.call(null),b=bm(this,a);r(b)||Zl(this.name,a);return b.O?b.O():b.call(null)};g.B=function(a){var b=this.qa.B?this.qa.B(a):this.qa.call(null,a),c=bm(this,b);r(c)||Zl(this.name,b);return c.B?c.B(a):c.call(null,a)};
g.j=function(a,b){var c=this.qa.j?this.qa.j(a,b):this.qa.call(null,a,b),d=bm(this,c);r(d)||Zl(this.name,c);return d.j?d.j(a,b):d.call(null,a,b)};g.C=function(a,b,c){var d=this.qa.C?this.qa.C(a,b,c):this.qa.call(null,a,b,c),e=bm(this,d);r(e)||Zl(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};g.P=function(a,b,c,d){var e=this.qa.P?this.qa.P(a,b,c,d):this.qa.call(null,a,b,c,d),f=bm(this,e);r(f)||Zl(this.name,e);return f.P?f.P(a,b,c,d):f.call(null,a,b,c,d)};
g.ka=function(a,b,c,d,e){var f=this.qa.ka?this.qa.ka(a,b,c,d,e):this.qa.call(null,a,b,c,d,e),h=bm(this,f);r(h)||Zl(this.name,f);return h.ka?h.ka(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Qa=function(a,b,c,d,e,f){var h=this.qa.Qa?this.qa.Qa(a,b,c,d,e,f):this.qa.call(null,a,b,c,d,e,f),k=bm(this,h);r(k)||Zl(this.name,h);return k.Qa?k.Qa(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Hb=function(a,b,c,d,e,f,h){var k=this.qa.Hb?this.qa.Hb(a,b,c,d,e,f,h):this.qa.call(null,a,b,c,d,e,f,h),m=bm(this,k);r(m)||Zl(this.name,k);return m.Hb?m.Hb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.qb=function(a,b,c,d,e,f,h,k){var m=this.qa.qb?this.qa.qb(a,b,c,d,e,f,h,k):this.qa.call(null,a,b,c,d,e,f,h,k),n=bm(this,m);r(n)||Zl(this.name,m);return n.qb?n.qb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Ib=function(a,b,c,d,e,f,h,k,m){var n=this.qa.Ib?this.qa.Ib(a,b,c,d,e,f,h,k,m):this.qa.call(null,a,b,c,d,e,f,h,k,m),p=bm(this,n);r(p)||Zl(this.name,n);return p.Ib?p.Ib(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.wb=function(a,b,c,d,e,f,h,k,m,n){var p=this.qa.wb?this.qa.wb(a,b,c,d,e,f,h,k,m,n):this.qa.call(null,a,b,c,d,e,f,h,k,m,n),u=bm(this,p);r(u)||Zl(this.name,p);return u.wb?u.wb(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.xb=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.qa.xb?this.qa.xb(a,b,c,d,e,f,h,k,m,n,p):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p),w=bm(this,u);r(w)||Zl(this.name,u);return w.xb?w.xb(a,b,c,d,e,f,h,k,m,n,p):w.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.yb=function(a,b,c,d,e,f,h,k,m,n,p,u){var w=this.qa.yb?this.qa.yb(a,b,c,d,e,f,h,k,m,n,p,u):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u),z=bm(this,w);r(z)||Zl(this.name,w);return z.yb?z.yb(a,b,c,d,e,f,h,k,m,n,p,u):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.zb=function(a,b,c,d,e,f,h,k,m,n,p,u,w){var z=this.qa.zb?this.qa.zb(a,b,c,d,e,f,h,k,m,n,p,u,w):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w),F=bm(this,z);r(F)||Zl(this.name,z);return F.zb?F.zb(a,b,c,d,e,f,h,k,m,n,p,u,w):F.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z){var F=this.qa.Ab?this.qa.Ab(a,b,c,d,e,f,h,k,m,n,p,u,w,z):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z),H=bm(this,F);r(H)||Zl(this.name,F);return H.Ab?H.Ab(a,b,c,d,e,f,h,k,m,n,p,u,w,z):H.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F){var H=this.qa.Bb?this.qa.Bb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F),G=bm(this,H);r(G)||Zl(this.name,H);return G.Bb?G.Bb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F):G.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H){var G=this.qa.Cb?this.qa.Cb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H),N=bm(this,G);r(N)||Zl(this.name,G);return N.Cb?N.Cb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H):N.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G){var N=this.qa.Db?this.qa.Db(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G),O=bm(this,N);r(O)||Zl(this.name,N);return O.Db?O.Db(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N){var O=this.qa.Eb?this.qa.Eb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N),U=bm(this,O);r(U)||Zl(this.name,O);return U.Eb?U.Eb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N):U.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O){var U=this.qa.Fb?this.qa.Fb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O),ea=bm(this,U);r(ea)||Zl(this.name,U);return ea.Fb?ea.Fb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U){var ea=this.qa.Gb?this.qa.Gb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U):this.qa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U),va=bm(this,ea);r(va)||Zl(this.name,ea);return va.Gb?va.Gb(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U):va.call(null,a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U)};
g.ae=function(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea){var va=kh(this.qa,a,b,c,d,P([e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea])),xa=bm(this,va);r(xa)||Zl(this.name,va);return kh(xa,a,b,c,d,P([e,f,h,k,m,n,p,u,w,z,F,H,G,N,O,U,ea]))};g.gb=function(a,b,c){Eh.P(this.bf,R,b,c);Ul(this.af,this.bf,this.Fe,this.hierarchy);return this};
function bm(a,b){D.j(y(a.Fe),y(a.hierarchy))||Ul(a.af,a.bf,a.Fe,a.hierarchy);var c=y(a.af);c=c.B?c.B(b):c.call(null,b);return r(c)?c:Xl(a.name,b,a.hierarchy,a.bf,a.yi,a.af,a.Fe,a.Gh)}g.ce=function(){return be(this.name)};g.de=function(){return ce(this.name)};g.ia=function(){return ta(this)};function cm(a){this.Kd=a;this.I=null;this.J=2153775104;this.Y=2048}g=cm.prototype;g.toString=function(){return this.Kd};g.equiv=function(a){return this.ca(null,a)};
g.ca=function(a,b){return b instanceof cm&&this.Kd===b.Kd};g.ga=function(a,b){return Jd(b,['#uuid "',t.B(this.Kd),'"'].join(""))};g.ia=function(){null==this.I&&(this.I=se(this.Kd));return this.I};g.Mc=function(a,b){return $a(this.Kd,b.Kd)};
function dm(){function a(){return Ll(16).toString(16)}var b=(8|3&Ll(16)).toString(16);return new cm([t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("").toLowerCase())}
function em(a,b,c){var d=Error(a);this.message=a;this.data=b;this.rg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}em.prototype.__proto__=Error.prototype;em.prototype.Ia=l;
em.prototype.ga=function(a,b,c){Jd(b,"#error {:message ");$k(this.message,b,c);r(this.data)&&(Jd(b,", :data "),$k(this.data,b,c));r(this.rg)&&(Jd(b,", :cause "),$k(this.rg,b,c));return Jd(b,"}")};em.prototype.toString=function(){return ke(this)};function fm(a,b){return new em(a,b,null)}
function gm(){r(Gc)||(Gc=function(){for(var a=Tf(function(e,f){return f.length-e.length},hb(Fc)),b="";;)if(E(a)){var c=K(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.B(J(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Gc}
function hm(a){var b=t.B(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(gm(),"g");b=r(ub(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=Q(f,0,null),d=[d,t.B(b.substring(e,c.lastIndex-f.length)),t.B("$"===f?"/":ib(Fc,f))].join(""),e=c.lastIndex;else{c=[d,t.B(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?we:t;return a.B?a.B(c):a.call(null,c)}"undefined"!==typeof console&&uc();uc();var im=new C(null,"ns","ns",441598760),jm=new C(null,"expected","expected",1583670997),km=new C(null,"components","components",-1073188942),lm=new C(null,"div.flex-1","div.flex-1",2004402050),mm=new C(null,"data-error","data-error",-1058016301),Bm=new C("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),nm=new C(null,"apparent-success","apparent-success",242592222),om=new A(null,aa,aa,770546058,null),pm=new C("chsk","error","chsk/error",-984175439),sm=new C(null,
"p2","p2",905500641),tm=new A(null,"defrecord*","defrecord*",-1936366207,null),um=new C(null,"p1","p1",-936759954),vm=new C(null,"level","level",1290497552),wm=new C("db","current-tx","db/current-tx",1600722132),xm=new C(null,"type-tag","type-tag",-1873863267),ym=new C(null,"?err_","?err_",789480858),zm=new C(null,"ms","ms",-1152709733),Am=new C(null,"middleware-fn","middleware-fn",-61585752),Cm=new C(null,"readers","readers",-2118263030),Dm=new C(null,"line","line",212345235),Em=new A(null,"!\x3d",
"!\x3d",-201205829,null),Fm=new C("db","unique","db/unique",329396388),Gm=new C("db","isComponent","db/isComponent",423352398),Hm=new C(fa,"flush-tuples","datascript.db/flush-tuples",-797350002),Im=new C("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Jm=new A(null,"ns*","ns*",1840949383,null),Km=new C(null,"lp-timeout","lp-timeout",1149461302),Lm=new C(null,"div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer","div.text-gray-600.rounded.bg-gray-200.hover:bg-gray-300.h-5.w-5.flex.items-center.justify-center.mb-1.cursor-pointer",
-1098663220),Mm=new C(null,"start-block-t","start-block-t",-373430594),Nm=new C(null,"limit","limit",-1355822363),Om=new C(null,"on-dispose","on-dispose",2105306360),Pm=new C(null,"per-line-prefix","per-line-prefix",846941813),Qm=new C(null,"form-str","form-str",871608859),Rm=new C("db.type","tuple","db.type/tuple",938234914),Sm=new C("lookup-ref","unique","lookup-ref/unique",-960647710),Tm=new C(fa,"value-tempids","datascript.db/value-tempids",244806162),Um=new A(da,"ends-with?","clojure.string/ends-with?",
-745964149,null),Vm=new C(null,"headers","headers",-835030129),Wm=new C(null,"string","string",-1989541586),Xm=new C(null,"avet","avet",1383857032),Ym=new C(null,"data","data",-232669377),Zm=new C(null,"factor","factor",-2103172748),$m=new A(null,"identity","identity",-1007039734,null),an=new A(null,"max","max",1701898075,null),cn=new C(null,"end-line","end-line",1837326455),dn=new A(null,"fn*","fn*",-752876845,null),en=new C(null,"ks","ks",1900203942),fn=new C(ca,"amp","cljs.spec.alpha/amp",831147508),
gn=new C("transact","syntax","transact/syntax",-299207078),hn=new C(null,"abort","abort",521193198),jn=new C(null,"allow","allow",-1857325745),kn=new C(null,"source","source",-433931539),ln=new C(null,"done-nl","done-nl",-381024340),mn=new C(null,"private","private",-558947994),nn=new C(null,"bindings","bindings",1271397192),on=new C(ca,"alt","cljs.spec.alpha/alt",523685437),pn=new C(null,"?status","?status",938730360),qn=new A(aa,"fn","cljs.core/fn",-1065745098,null),rn=new A(null,"median","median",
-2084869638,null),ul=new C(null,"status","status",-1997798413),sn=new C(null,"version","version",425292698),tn=new C(null,"circle","circle",1903212362),Ql=new C(null,"descendants","descendants",1824886031),vn=new C(null,"report","report",1394055010),wn=new C(null,"strs","strs",1175537277),xn=new C(null,"start","start",-355208981),yn=new C(null,"days","days",-1394072564),zn=new C(null,"ns-whitelist","ns-whitelist",-1717299774),An=new A(null,"identical?","identical?",-745864205,null),Cn=new A(null,
"complement","complement",-913606051,null),Dn=new A(aa,"deref","cljs.core/deref",1901963335,null),En=new C("transact","cas","transact/cas",816687170),Fn=new C(null,"on-click","on-click",1632826543),Gn=new C(null,"recur","recur",-437573268),Hn=new C(ca,"nil","cljs.spec.alpha/nil",1733813950),In=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Jn=new C("db.fn","cas","db.fn/cas",-379352172),Kn=new C(null,"deny-spec","deny-spec",-1074984268),Ln=new C(null,"port","port",1534937262),Mn=new C("chsk",
"timeout","chsk/timeout",-319776489),Nn=new C(null,"*?data*","*?data*",1047537922),Pn=new C(null,"http","http",382524695),Qn=new C(null,"mandatory","mandatory",542802336),Rn=new A(null,"resolve-datom","resolve-datom",-294110827,null),Sn=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Tn=new C(null,"udt","udt",2011712751),Un=new C(null,"length","length",588987862),Vn=new C(null,"end-column","end-column",1425389514),Wn=new C(null,"appender-id","appender-id",-1917983538),Xn=new A(null,"with-open",
"with-open",172119667,null),Yn=new C(null,"timeout-ms","timeout-ms",754221406),Zn=new C(null,"getInitialState","getInitialState",1541760916),$n=new C(null,"ps","ps",292358046),ql=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),ao=new C(null,"opts","opts",155075701),bo=new A(null,"list","list",-1889078086,null),co=new C(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),eo=new C(null,"not-delivered","not-delivered",1599158697),fo=new A(null,"if-not","if-not",
-265415609,null),go=new C(null,"blacklist","blacklist",1248093170),ho=new C(ha,"expand-rev","datascript.pull-api/expand-rev",2143627459),io=new C(null,"state","state",-1988618099),jo=new C(null,"base-args","base-args",-1268706822),ko=new C(null,"db-before","db-before",-553691536),lo=new A(null,"\x3d\x3d","\x3d\x3d",-234118149,null),mo=new A(aa,"unquote","cljs.core/unquote",1013085760,null),no=new C(null,"return-map","return-map",1620104901),ok=new C(aa,"not-found","cljs.core/not-found",-1572889185),
oo=new C(null,"eids","eids",1546550700),po=new C(null,"no-cache","no-cache",1588056370),qo=new A(null,"compare","compare",1109853757,null),ro=new C(null,"vargs_","vargs_",552132148),so=new C(null,"server","server",1499190120),to=new C(null,"expand-rev","expand-rev",1249112650),uo=new C(null,"def","def",-1043430536),vo=new A(null,"dotimes","dotimes",-818708397,null),wo=new C(null,"raw-console?","raw-console?",-2061489061),xo=new C(null,"conform-keys","conform-keys",-1800041814),yo=new C("widget.type",
"vega-lite","widget.type/vega-lite",1594251738),zo=new C(null,"exception","exception",-335277064),Bo=new C(null,"op","op",-1882987955),Co=new A(null,"finally","finally",-1065347064,null),Do=new A(null,"str","str",-1564826950,null),Eo=new A(null,"/","/",-1371932971,null),Fo=new A(null,"stddev","stddev",775056588,null),bn=new A(null,"p1__24401#","p1__24401#",739893573,null),Go=new C(null,"buffering","buffering",-876713613),Ho=new A(aa,"string?","cljs.core/string?",-2072921719,null),Io=new C("ajax",
"bad-response-type","ajax/bad-response-type",789441015),Oo=new C("db","tupleAttrs","db/tupleAttrs",250080092),Po=new C(null,"clean?","clean?",-1675631009),Qo=new C(null,"tx-meta","tx-meta",1159283194),Ro=new C(null,"prefix-clauses","prefix-clauses",1294180028),So=new C(null,"illegal-argument","illegal-argument",-1845493170),Uo=new C(null,"opt-un","opt-un",883442496),Vo=new C(null,"first-open?","first-open?",396686530),Wo=new C("chsk","ws-ping","chsk/ws-ping",191675304),Xo=new C(null,"rule","rule",
729973257),Yo=new C("debug","timeout","debug/timeout",309499949),Zo=new C("schema","validation","schema/validation",1178447161),$o=new C(null,"right-margin","right-margin",-810413306),ap=new C(null,"wildcard?","wildcard?",-686044101),bp=new A(null,"pos?","pos?",-244377722,null),cp=new C("query","inputs","query/inputs",1042810394),dp=new C(null,"wrong-id-type","wrong-id-type",-1213601689),ep=new C(null,"exponentchar","exponentchar",1986664222),fp=new C(null,"attribute","attribute",-2074029119),gp=
new A(null,"default","default",-347290801,null),hp=new A(da,"includes?","clojure.string/includes?",-1842146260,null),ip=new C(null,"tx","tx",466630418),jp=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),kp=new A(null,"locking","locking",1542862874,null),lp=new C(null,"uid","uid",-1447769400),mp=new C(null,"directive","directive",793559132),np=new C(null,"function-components","function-components",1492814963),op=new A(null,"subs","subs",1453849536,null),pp=new C(null,"seq",
"seq",-1817803783),qp=new C(null,"qname","qname",-1983612179),rp=new C(null,"where","where",-2044795965),sp=new A(null,"pr-str","pr-str",-2066912145,null),tp=new C(null,"set","set",304602554),up=new C(null,"flush?","flush?",-108887231),vp=new A(null,"or-join","or-join",591375469,null),wp=new C(null,"handshake?","handshake?",-423743093),xp=new C(ca,"name","cljs.spec.alpha/name",205233570),yp=new A(null,"sum","sum",1777518341,null),zp=new A(null,"some?","some?",234752293,null),Ap=new A(null,"min","min",
2085523049,null),Bp=new C(null,"div.flex-1.bg-white.px-3.py-1.font-thin","div.flex-1.bg-white.px-3.py-1.font-thin",1633962198),Cp=new C(null,"handshake","handshake",68079331),Dp=new C(null,"error","error",-978969032),Ep=new C(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Fp=new C(null,"base","base",185279322),Gp=new C(null,"actual","actual",107306363),Hp=new C(null,"event","event",301435442),Jp=new C(null,"noop","noop",-673731258),Kp=new C(null,"trailing-white-space","trailing-white-space",
1496006996),Db=new C(null,"div","div",1057191632),Lp=new A(null,"letfn*","letfn*",-110097810,null),Mp=new C(null,"handshake-data","handshake-data",-278378864),Np=new C(null,"prefix","prefix",-265908465),un=new C("geoplot.style","fill","geoplot.style/fill",-660763808),Op=new C("parser","binding","parser/binding",-346395752),Pp=new A(null,"$","$",-1580747756,null),Qp=new C("query","binding","query/binding",698240489),Rp=new C(null,"right-params","right-params",-1790676237),Sp=new C(null,"start-pos",
"start-pos",668789086),El=new C(null,"keyword-fn","keyword-fn",-64566675),Tp=new C(null,"first","first",-644103046),Bn=new C(null,"span.text-lg.text-gray-700.py-6.px-1","span.text-lg.text-gray-700.py-6.px-1",404603069),Up=new A(null,"let*","let*",1920721458,null),Xp=new C(null,"pathname","pathname",-1420497528),Yp=new A(null,"limit","limit",284709164,null),Zp=new C("widget","children","widget/children",485181574),$p=new C("db.fn","retractEntity","db.fn/retractEntity",-1423535441),aq=new C(null,"component-will-unmount",
"component-will-unmount",-2058314698),bq=new A(null,"re-seq","re-seq",-2105554076,null),cq=new A(null,"when-first","when-first",821699168,null),dq=new C(null,"ns-blacklist","ns-blacklist",1957763142),eq=new C(null,"?err","?err",549653299),fq=new C(null,"depth","depth",1768663640),gq=new C(null,"multi?","multi?",-749311069),hq=new C(null,"onmessage-fn","onmessage-fn",1633804172),iq=new C(null,"?error","?error",1070752222),jq=new C(null,"href","href",-793805698),kq=new A(null,"recur","recur",1202958259,
null),lq=new C("widget.type","markdown","widget.type/markdown",177221797),mq=new A(null,"variance","variance",-1522424942,null),nq=new C(null,"type","type",1174270348),oq=new C(null,"none","none",1333468478),pq=new A(null,"_","_",-1201019570,null),qq=new C(null,"style","style",-496642736),rq=new C(null,"impl_","impl_",1218818179),sq=new C("parser","rule-var","parser/rule-var",-1584354459),tq=new C(null,"callback","callback",-705136228),wq=new C(null,"reader-error","reader-error",1610253121),xq=new A(null,
"v","v",1661996586,null),yq=new C(ca,"op","cljs.spec.alpha/op",-1269055252),zq=new A(null,"m","m",-1021758608,null),Aq=new A(null,"k","k",-505765866,null),Bq=new C(null,"ws","ws",86841443),Cq=new C(null,"span","span",1394872991),Dq=new C("widget","code","widget/code",-845791534),Eq=new C(null,"async?","async?",1523057758),Fq=new C("entity-id","missing","entity-id/missing",1234588374),Gq=new A(null,"count","count",-514511684,null),Hq=new C(null,"no-stacktrace?","no-stacktrace?",1701072694),Iq=new C(null,
"code","code",1586293142),Jq=new C(null,"keys","keys",1068423698),Kq=new C(null,"qfind","qfind",1529332972),Lq=new C(null,"intra-block-nl","intra-block-nl",1808826875),Mq=new C("parser","rule-vars","parser/rule-vars",-1493174969),Nq=new C(null,"gen-max","gen-max",-793680445),rc=new C(null,"meta","meta",1499536964),Oq=new A(null,"not-join","not-join",-645515756,null),Pq=new C(null,"deny","deny",1589338523),Rq=new C("widget.type","html","widget.type/html",-2034153477),Sq=new C(null,"subpattern","subpattern",
45002743),Tq=new C(null,"datoms","datoms",-290874434),Uq=new C(null,"search","search",1564939822),On=new C("geoplot.feature","style","geoplot.feature/style",-895485302),Vq=new C(null,"div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500","div.flex.flex-col.p-1.mb-6.border-l-2.border-transparent.hover:border-blue-500",2054366269),Wq=new C("literate","widget","literate/widget",-1743430817),Xq=new C(null,"right","right",-452581833),Yq=new A(null,"println-str","println-str",
-2049216703,null),Zq=new C(null,"host","host",-1558485167),$q=new C(null,"err","err",-2089457205),ar=new A(null,"when","when",1064114221,null),ir=new A(ca,"coll-of","cljs.spec.alpha/coll-of",1019430407,null),kr=new A(aa,"set?","cljs.core/set?",-1176684971,null),lr=new C(null,"logical-blocks","logical-blocks",-1466339776),mr=new C(null,"\x3cserver","\x3cserver",-2135373537),nr=new A(null,"quot","quot",-1125214196,null),or=new C(null,"colinc","colinc",-584873385),pr=new C(null,"auto","auto",-566279492),
qr=new C(null,"find","find",496279456),rr=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),sr=new C(null,"fatal","fatal",1874419888),tr=new C(null,"logical-block","logical-block",-581022564),ur=new C(null,"rate-limit","rate-limit",1748082022),vr=new A(null,"nil?","nil?",1612038930,null),wr=new C(null,"namespaced-keyword","namespaced-keyword",131372895),xr=new C(null,"your-version","your-version",-351781765),yr=new A(null,"or","or",1876275696,null),zr=new C(null,"col","col",-1959363084),Ar=new C("db",
"fn","db/fn",-1175261470),Br=new C(null,"?ns-str","?ns-str",2012733966),Cr=new C("widget.geoplot","height","widget.geoplot/height",774138358),Dr=new C("entity-id","syntax","entity-id/syntax",1921317045),Er=new C(null,"current","current",-1088038603),Fr=new C(null,"writing","writing",-1486865108),Gr=new C(null,"ch-recv","ch-recv",-990916861),Hr=new C(null,"start-col","start-col",668080143),Ir=new C(null,"into","into",-150836029),Jr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),
Kr=new A(null,"set!","set!",250714521,null),Lr=new C(null,"uri-str","uri-str",304128675),Mr=new C(null,"parent","parent",-878878779),Nr=new C(null,"instance-handle_","instance-handle_",-1923384457),Ao=new C("widget.geoplot","style","widget.geoplot/style",1499653960),Or=new C(null,"new","new",-2085437848),Pr=new C("query","where","query/where",-1935159429),Qr=new C("db","retract","db/retract",-1549825231),Rr=new C(null,"free","free",801364328),Sr=new A(null,"missing?","missing?",-1710383910,null),
Tr=new C(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Ur=new A(aa,"map?","cljs.core/map?",-1390345523,null),Vr=new C(null,"seen","seen",-518999789),Wr=new C(null,"instant","instant",655498374),Xr=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Yr=new A(null,"\x26","\x26",-2144855648,null),Zr=new C(null,"ex-kind","ex-kind",1581199296),$r=new C(null,"internal","internal",-854870097),as=new C(null,"reagentRender","reagentRender",-358306383),bs=new C(null,"right-bracket","right-bracket",
951856080),cs=new C(null,"last-ws-error","last-ws-error",-820288502),ds=new C(null,"req-id","req-id",-471642231),es=new C(null,"schema","schema",-1582001791),fs=new C(null,"tx-data","tx-data",934159761),gs=new C(null,"amp","amp",271690571),hs=new C("db.unique","value","db.unique/value",276903088),is=new C(null,"csrf-token","csrf-token",-1872302856),To=new C("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),js=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),ls=new C("chsk","state","chsk/state",
-1991397620),ms=new A(null,"-Inf","-Inf",-2123243689,null),Wf=new C("db","id","db/id",-1388397098),Ip=new C(null,"iso8601","iso8601",609352650),ns=new C(null,"vars","vars",-2046957217),os=new C(null,"any","any",1705907423),ps=new C(null,"client-uuid","client-uuid",-1717531965),rs=new A(null,"name","name",-810760592,null),ss=new C(null,"operation","operation",-1267664310),am=new C(null,"default","default",-1987822328),us=new C(null,"secs","secs",1532330091),vs=new A("clojure.core","deref","clojure.core/deref",
188719157,null),ws=new C(null,"padchar","padchar",2018584530),xs=new C(null,"unexpected","unexpected",-1137752424),ys=new C(null,"elidable?","elidable?",248362249),zs=new C(null,"cache?","cache?",-1601953949),tc=new C(null,"print-length","print-length",1931866356),As=new C(null,"nil","nil",99600501),Bs=new A(null,"odd?","odd?",-1458588199,null),Cs=new C(null,"*","*",-1294732318),Ds=new C(null,"json","json",1279968570),Es=new C(null,"allow-spec","allow-spec",448749872),Fs=new C("db","retractEntity",
"db/retractEntity",-1452737935),Gs=new C(null,"no-op","no-op",-93046065),Hs=new A(null,"zero?","zero?",325758897,null),Is=new C(null,"buffer-block","buffer-block",-10937307),Js=new C(null,"reader-exception","reader-exception",-1938323098),Ks=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),Ls=new C(null,"recursion","recursion",-749738765),Ms=new A(null,"-","-",-471816912,null),Ns=new C(null,"req-un","req-un",1074571008),Os=new A(null,"keyword","keyword",-1843046022,null),Ps=new C(null,
"forms","forms",2045992350),Qs=new C("db","attrTuples","db/attrTuples",860541631),Rs=new C(null,"cur","cur",1153190599),Ts=new C(null,"branches","branches",-1240337268),Us=new A(null,"def","def",597100991,null),Vs=new A(null,"dec","dec",-766002333,null),Ws=new C(fa,"internal","datascript.db/internal",-249301114),Xs=new A(null,"rand","rand",-1745930995,null),Vp=new C(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),Il=new C(null,"keywordize-keys","keywordize-keys",1310784252),
Zs=new C("widget","type","widget/type",-1894308144),$s=new C(null,"pos","pos",-864607220),at=new C(ca,"v","cljs.spec.alpha/v",552625740),bt=new C(null,"on-write","on-write",31519475),ct=new C("transact","upsert","transact/upsert",412688078),dt=new C(ca,"k","cljs.spec.alpha/k",-1602615178),et=new C(null,"kvps","kvps",65308317),gt=new C(null,"output-fn","output-fn",1600951539),ht=new A(null,"set","set",1945134081,null),it=new C(null,"commainterval","commainterval",-1980061083),kt=new C("db.fn","retractAttribute",
"db.fn/retractAttribute",937402164),lt=new C(null,"elements","elements",657646735),mt=new C(null,"send-buffers","send-buffers",-1788003787),nt=new C(null,"total","total",1916810418),ot=new C(null,"separator","separator",-1628749125),pt=new A("datascript","Datom","datascript/Datom",-901340080,null),qt=new A(null,"defonce","defonce",-1681484013,null),rt=new C(null,"?content","?content",1697782054),st=new C(null,"div.w-full","div.w-full",-1626749092),tt=new A(null,"%","%",-950237169,null),ut=new C(null,
"form","form",-1624062471),vt=new C(null,"pretty-writer","pretty-writer",-1222834267),wt=new A(null,"..","..",-300507420,null),xt=new C(fa,"tx-redundant","datascript.db/tx-redundant",-1117921977),yt=new C(null,"length-computable?","length-computable?",1915473276),zt=new A(null,"not\x3d","not\x3d",1466536204,null),At=new C(null,"validator","validator",-1966190681),Bt=new C(null,"pretty","pretty",-1916372486),Ct=new C(null,"unnamespaced-id","unnamespaced-id",1976189772),Dt=new C(null,"buffer-level",
"buffer-level",928864731),Et=new A(null,"range","range",-1014743483,null),Wp=new C("widget.geoplot","features","widget.geoplot/features",-1949420440),Ft=new A(da,"blank?","clojure.string/blank?",1772874244,null),Gt=new C("rl","all","rl/all",892118056),Ht=new C(null,"ever-opened?","ever-opened?",1128459732),It=new C(null,"fragment","fragment",826775688),wl=new C(null,"pending","pending",-220036727),Jt=new C(ca,"invalid","cljs.spec.alpha/invalid",-1220295119),Kt=new C(ca,"pcat","cljs.spec.alpha/pcat",
26406623),Eb=new C("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),qc=new C(null,"readably","readably",1129599760),Lt=new C(null,"contextTypes","contextTypes",-2023853910),Mt=new C(null,"chsk","chsk",-863703081),Nt=new C(null,"file","file",-1269645878),Ot=new C(null,"error-handler","error-handler",-484945776),Pt=new C(null,"rschema","rschema",-1196134054),Qt=new C(null,"progress-fn","progress-fn",-1146547855),Rt=new C(null,"fill","fill",883462889),St=new C(null,"i.zmdi.zmdi-close",
"i.zmdi.zmdi-close",1663309273),Ut=new C(null,"client-id","client-id",-464622140),Vt=new C(null,"attrs","attrs",-2090668713),Wt=new C(ha,"recursion","datascript.pull-api/recursion",-1897884534),Xt=new C(null,"months","months",-45571637),Yt=new C(null,"radix","radix",857016463),Zt=new C(null,"send-fn","send-fn",351002041),$t=new C("parser","with","parser/with",-386255821),au=new C(null,"text","text",-1790561697),bu=new C(null,"distinct","distinct",-1788879121),cu=new C(null,"ns-str","ns-str",-2062616499),
du=new A(null,"uuid","uuid",-504564192,null),eu=new C(null,"udt-last-comms_","udt-last-comms_",-145799639),fu=new C(null,"entity-id","entity-id",1485898093),gu=new C(null,"wildcard","wildcard",-622473020),hu=new A(null,"queue","queue",-1198599890,null),iu=new C(null,"block","block",664686210),ju=new C(null,"else","else",-1508377146),ku=new C(null,"variable","variable",-281346492),lu=new A(null,"case*","case*",-1938255072,null),mu=new C(null,"params","params",710516235),Rl=new C(null,"ancestors","ancestors",
-776045424),nu=new C(null,"tuples","tuples",-676032639),qu=new C(null,"listeners","listeners",394544445),su=new C(null,"retry-count_","retry-count_",20238093),tu=new C("db","cardinality","db/cardinality",-104975659),uu=new A(null,"struct-map","struct-map",-1387540878,null),vu=new C(null,"hostname","hostname",2105669933),wu=new C(null,"rest","rest",-1241696419),xu=new C(null,"min-remaining","min-remaining",962687677),yu=new C(null,"?data","?data",-9471433),zu=new C(null,"offset","offset",296498311),
Au=new C(null,"var","var",-769682797),Bu=new C(null,"commachar","commachar",652859327),Cu=new C(null,"error-level?","error-level?",778415885),Eu=new C(null,"ring-req","ring-req",-747861961),Fu=new C(null,"loaded","loaded",-1246482293),Gu=new A(null,"re-find","re-find",1143444147,null),ol=new C(null,"val","val",128701612),Hu=new A(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Iu=new A(null,"-\x3e","-\x3e",-2139605430,null),Ju=new C(null,"db-after","db-after",-571884666),Ku=new C(null,"render","render",
-1408033454),Lu=new C(null,"entity","entity",-450970276),Mu=new C(null,"timeout","timeout",-318625318),Nu=new C(null,"arglists","arglists",1661989754),Pu=new A(null,"js*","js*",-1134233646,null),Qu=new C(null,"end-pos","end-pos",-1643883926),Ru=new C(null,"auto-run","auto-run",1958400437),Su=new C(null,"min-version","min-version",-1697197126),Tu=new C(null,"pred-forms","pred-forms",172611832),Uu=new C(null,"hours","hours",58380855),Vu=new C(null,"trace-evs?","trace-evs?",1502453512),Wu=new A(null,
"catch","catch",-1616370245,null),Xu=new A(null,"tuple","tuple",1167864243,null),vq=new A(null,"p1__24402#","p1__24402#",282836121,null),Yu=new A(null,"count-distinct","count-distinct",-1566572514,null),Zu=new C(null,"get","get",1683182755),$u=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),av=new C(null,"kind","kind",-717265803),bv=new C(null,"method","method",55703592),cv=new C(null,"val-type","val-type",-279850094),dv=new A(null,"defn","defn",-126010802,null),ev=new C(null,"specs",
"specs",1426570741),fv=new A(null,"struct","struct",325972931,null),gv=new C("db.fn","call","db.fn/call",-151594418),hv=new C("widget.type","code","widget.type/code",-673996494),iv=new C(null,"gfn","gfn",791517474),jv=new C(null,"years","years",-1298579689),kv=new C(null,"namespaced-map","namespaced-map",1235665380),lv=new A(null,"prn-str","prn-str",-145225943,null),mv=new C(ca,"accept","cljs.spec.alpha/accept",370988198),nv=new A(null,"...","...",-1926939749,null),ov=new C(null,"constructor","constructor",
-1953928811),pv=new C(null,"childContextTypes","childContextTypes",578717991),qv=new C(null,"onerror-fn","onerror-fn",1069372505),rv=new C(null,"xhr","xhr",-177710851),sv=new C(null,"eavt","eavt",-666437073),tv=new C(null,"mins","mins",467369676),uv=new C(null,"tag","tag",-1290361223),vv=new C(null,"hostname_","hostname_",-2091647379),wv=new C(null,"linear","linear",872268697),xv=new A(null,"new","new",-444906321,null),yv=new C("db","cas","db/cas",-451542322),zv=new C(null,"other","other",995793544),
Av=new A(null,"\x3e","\x3e",1085014381,null),Cv=new C(null,"?msg-fmt","?msg-fmt",-852453891),Dv=new C(null,"sections","sections",-886710106),Ev=new C(null,"lines","lines",-700165781),Fv=new A(null,"do","do",1686842252,null),Gv=new C(null,"colon","colon",-965200945),Hv=new C("literate","widgets","literate/widgets",1235755088),Qq=new C(null,"color","color",1011675173),Iv=new C(null,"edn","edn",1317840885),Jv=new C(null,"keys-pred","keys-pred",858984739),Lv=new C(null,"?line","?line",-631853385),Mv=
new C(null,"test","test",577538877),Nv=new A(null,"\x3d","\x3d",-1501502141,null),Ov=new C(null,"minpad","minpad",323570901),Pv=new A("datascript","DB","datascript/DB",-487332776,null),bl=new C(null,"alt-impl","alt-impl",670969595),Qv=new A(null,"not-empty","not-empty",2029453590,null),Rv=new C(null,"conflict","conflict",1978796605),Sv=new C(null,"datom","datom",-371556090),Tv=new A(ca,"keys","cljs.spec.alpha/keys",1109346032,null),Uv=new C(null,"given","given",716253602),Wv=new A(null,"db","db",
-1661185010,null),Xv=new A(null,"with-local-vars","with-local-vars",837642072,null),ks=new C(null,"println","println",1920840330),Zv=new A(null,"aggregate","aggregate",-1142967327,null),$v=new C(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),aw=new A(null,"and","and",668631710,null),bw=new A(null,"try","try",-1273693247,null),cw=new C(null,"location","location",1815599388),dw=new C(null,"xml","xml",-1170142052),ew=new A(null,"throw","throw",595905694,null),Nb=new C(null,"div.flex.flex-col.flex-1.space-y-2",
"div.flex.flex-col.flex-1.space-y-2",1209242693),gw=new A(null,"array-map","array-map",1555038968,null),hw=new C(null,"font-family","font-family",-667419874),iw=new C(null,"?reply-fn","?reply-fn",-1479510592),jw=new A(null,"let","let",358118826,null),pc=new C(null,"flush-on-newline","flush-on-newline",-151457939),kw=new A(null,"print-str","print-str",-699700354,null),lw=new C(null,"opt-specs","opt-specs",-384905450),mw=new A(null,"meta","meta",-1154898805,null),nw=new C(null,"wrong-length","wrong-length",
1367572281),ow=new C(null,"rules","rules",1198912366),pw=new C(null,"rels","rels",1770187185),qw=new C(null,"pred-exprs","pred-exprs",1792271395),qs=new C(null,"timestamp-opts","timestamp-opts",-1359534807),rw=new A(null,"if","if",1181717262,null),sw=new A(null,"get-some","get-some",409442058,null),uw=new C(null,"binding","binding",539932593),vw=new C(null,"character","character",380652989),ww=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),xw=new C(null,"eid","eid",559519930),yw=new C(null,"wrap-recv-evs?",
"wrap-recv-evs?",-1996694153),zw=new C(null,"reagent-render","reagent-render",-985383853),Aw=new A(null,"hash-map","hash-map",-439030950,null),Bw=new A(null,"loop*","loop*",615029416,null),Cw=new C(null,"min-count","min-count",1594709013),Dw=new C(null,"last","last",1105735132),Ew=new A(null,"quote","quote",1377916282,null),Fw=new A(aa,"vector?","cljs.core/vector?",-1550392028,null),Gw=new A(aa,"lift-ns","cljs.core/lift-ns",463499081,null),Hw=new C(null,"k","k",-2146297393),zh=new C(null,"div.flex.flex-1.space-x-2",
"div.flex.flex-1.space-x-2",-1554471704),Iw=new C(null,"hierarchy","hierarchy",-1053470341),Jw=new C(null,"qreturn-map","qreturn-map",1841215994),Kw=new C(null,"e","e",1381269198),Lw=new C(null,"f","f",-1597136552),Mw=new C(null,"trace","trace",-1082747415),Nw=new C(null,"d","d",1972142424),Ow=new C(null,"a","a",-2123407586),Pw=new C("rl","reset","rl/reset",-800926172),Qw=new A(null,"pull","pull",779986722,null),Rw=new C(null,"ajax-cb","ajax-cb",-807060321),Sw=new A(da,"starts-with?","clojure.string/starts-with?",
656256322,null),Tw=new C(null,"w","w",354169001),Uw=new A(null,"fn","fn",465265323,null),Vw=new C(null,"v","v",21465059),ts=new C("geoplot.style","stroke","geoplot.style/stroke",-1145366218),Ww=new C(null,"last-close","last-close",-2054255782),Xw=new C(null,"strable","strable",1877668047),Yw=new C(null,"p","p",151049309),Zw=new C(null,"componentWillUnmount","componentWillUnmount",1573788814),$w=new C(null,"n","n",562130025),ax=new C(null,"contextType","contextType",1033066077),bx=new C(null,"func",
"func",-238706040),cx=new C(null,"symbol","symbol",-1038572696),dx=new C(null,"got","got",-1674745710),ex=new A(aa,"contains?","cljs.core/contains?",-976526835,null),fx=new C(null,"indent-t","indent-t",528318969),gx=new A(null,"lift-ns","lift-ns",602311926,null),hx=new C(null,"middleware","middleware",1462115504),ix=new C(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),jx=new C(null,"ref","ref",1289896967),kx=new C(null,"value","value",305978217),lx=new C(null,"ws-chsk-opts",
"ws-chsk-opts",-1990170104),cl=new C(null,"fallback-impl","fallback-impl",-1501286995),mx=new C(null,"sources","sources",-321166424),nx=new C(null,"display-name","display-name",694513143),ox=new C(null,"enabled?","enabled?",-1376075057),px=new A(null,"ns","ns",2082130287,null),qx=new C(null,"req","req",-326448303),rx=new C(null,"height","height",1025178622),sx=new C(null,"ret","ret",-468222814),tx=new C("parser","rule","parser/rule",-464044566),ux=new C(null,"done","done",-889844188),vx=new C(null,
"chs","chs",376886120),wx=new C(null,"both","both",-393648840),Ss=new C(null,"ns-filter","ns-filter",108598448),xx=new C(null,"debug","debug",-1608172596),yx=new C(null,"vector","vector",1902966158),zx=new C(null,"req-specs","req-specs",553962313),Ax=new C(null,"end","end",-268185958),Bx=new C(null,"wrong-type","wrong-type",929556915),Cx=new C(null,"connected-uids","connected-uids",1454332231),Dx=new A(null,"distinct","distinct",-148347594,null),Ex=new A(null,"get-else","get-else",1312024065,null),
Fx=new C(null,"className","className",-1983287057),Gx=new C(null,"buffer-blob","buffer-blob",-1830112173),Hx=new C(null,"allows-separator","allows-separator",-818967742),Ix=new C(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),Jx=new A("clojure.core","unquote","clojure.core/unquote",843087510,null),Kx=new C(null,"appenders","appenders",1245583998),Lx=new C(null,"colon-up-arrow","colon-up-arrow",244853007),Mx=new A(null,"*","*",345799209,null),Nx=new C("rl","peek","rl/peek",-291391771),
Ox=new C(null,"flags","flags",1775418075),Px=new C(null,"eof","eof",-489063237),Qx=new A(null,"-differ?","-differ?",1465687357,null),Rx=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),Sx=new A(null,"js","js",-886355190,null),Tx=new C(null,"relative-to","relative-to",-470100051),Ux=new A(null,"doseq","doseq",221164135,null),Vx=new C("widget","parent","widget/parent",-1665940103),Wx=new A(null,"avg","avg",1837937727,null),Xx=new A(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),Yx=
new A(null,"not","not",1044554643,null),Zx=new A(aa,"list?","cljs.core/list?",-684796618,null),Ys=new C("geoplot","color","geoplot/color",831577171),$x=new C(null,"max-eid","max-eid",2134868075),ay=new C(null,"expand-kvps","expand-kvps",44141154),by=new C(null,"unknown","unknown",-935977881),Tk=new C(null,"more-marker","more-marker",-14717935),cy=new C(null,"index-access","index-access",-1548960265),ft=new C(null,"stroke","stroke",1741823555),dy=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),
ey=new C("parser","where","parser/where",-966053850),fy=new C(null,"aevt","aevt",-585148059),hy=new C(null,"used-args","used-args",23596256),iy=new C(null,"nl-t","nl-t",-1608382114),jy=new C(null,"symbols","symbols",1211743),ky=new A(null,"var","var",870848730,null),ly=new C(null,"qualifier","qualifier",125841738),my=new C(null,"attr","attr",-604132353),ny=new C(null,"doc","doc",1913296891),oy=new C("chsk","bad-package","chsk/bad-package",501893679),py=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),
vl=new C(null,"ready","ready",1086465795),qy=new A(null,"neg?","neg?",-1902175577,null),ry=new C(null,"div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200","div.rounded-full.h-8.w-8.flex.items-center.justify-center.text-2xl.hover:bg-green-200",-1396684735),sy=new C(null,"hash_","hash_",-827203612),ty=new C(null,"http-error","http-error",-1040049553),uy=new C("db.cardinality","one","db.cardinality/one",1428352190),vy=new A(null,"untuple","untuple",-606149900,null),
wy=new C("parser","query","parser/query",1877320671),xy=new C(null,"displayName","displayName",-809144601),yy=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),zy=new C(null,"added","added",2057651688),Ay=new C(null,"?file","?file",1533429675),By=new A(null,"mod","mod",1510044207,null),Cy=new C(null,"i.zmdi.zmdi-bug.text-green-500","i.zmdi.zmdi-bug.text-green-500",-1589227883),Dy=new C(null,"qin","qin",1372651151),Ey=new A(null,"cond","cond",1606708055,null),Fy=new A(null,"\x3c","\x3c",993667236,null),
Gy=new C(null,"map","map",1371690461),Hy=new C(null,"open?","open?",1238443125),Iy=new C(null,"element","element",1974019749),Jy=new C(null,"char-format","char-format",-1016499218),Ky=new A(null,"type","type",-1480165421,null),Ly=new C(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),My=new C("parser","pull","parser/pull",-2147427204),Ny=new C(null,"mode","mode",654403691),Oy=new C(null,"max-columns","max-columns",1742323262),Qy=new C(null,"max","max",61366548),Ry=new C(null,
"pending-guards","pending-guards",-1255527308),Sy=new C(null,"last-ws-close","last-ws-close",-798104932),Ty=new A(null,"when-let","when-let",-1383043480,null),Uy=new C("db","index","db/index",-1531680669),Vy=new C(null,"url","url",276297046),Wy=new C(null,"rattr","rattr",-1122345563),Xy=new C(null,"qwhere","qwhere",-1645067378),Yy=new C(null,"count","count",2139924085),Zy=new C(null,"clauses","clauses",1454841241),$y=new A(null,"empty?","empty?",76408555,null),az=new A(null,"re-matches","re-matches",
-1865705768,null),cz=new C(null,"ever-opened?_","ever-opened?_",1641338913),dz=new C(null,"miser-width","miser-width",-1310049437),ez=new C(null,"expand","expand",595248157),fz=new A(null,"binding","binding",-2114503176,null),gz=new A(null,"ground","ground",-1460862835,null),hz=new C(null,"state_","state_",957667102),oz=new C(null,"index","index",-1531685915),jt=new C("widget.html","src","widget.html/src",1397441752),pz=new C(null,"class","class",-2030961996),qz=new C(null,"packer","packer",66077544),
rz=new C("db.unique","identity","db.unique/identity",1675950722),sz=new C(null,"success?","success?",-122854052),tz=new C(fa,"queued-tuples","datascript.db/queued-tuples",-762852029),uz=new A(null,".",".",1975675962,null),vz=new C(null,"at","at",1476951349),wz=new C("transact","unique","transact/unique",-940992320),Tt=new C(null,"span.text-lg.text-gray-400","span.text-lg.text-gray-400",-512663112),xz=new C(null,"splice","splice",449588165),yz=new C(null,"dispatch","dispatch",1319337009),zz=new A(null,
"inst","inst",-2008473268,null),Az=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),Bz=new A(null,"sample","sample",1719555128,null),Cz=new C("widget","markdown","widget/markdown",-145862203),Dz=new C(null,"__html","__html",674048345),Ez=new C(null,"max-tx","max-tx",1119558339),Fz=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),Gz=new C("widget.geoplot","center","widget.geoplot/center",-530369016),Hz=new C(null,"as","as",1148689641),Iz=new C(null,"?meta","?meta",-793560773),
Jz=new C(null,"name","name",1843675177),Kz=new C(null,"syms","syms",-1575891762),Lz=new C(null,"vargs","vargs",-966597273),Mz=new C("chsk","bad-event","chsk/bad-event",-565206930),Nz=new C(null,"div.fixed.bottom-0.right-0.mr-4.mb-4","div.fixed.bottom-0.right-0.mr-4.mb-4",211353752),Oz=new C("db.type","ref","db.type/ref",-1728373079),Pz=new C(null,"queue","queue",1455835879),Qz=new C(null,"stacktrace-fonts","stacktrace-fonts",830799382),Rz=new C(null,"warn","warn",-436710552),Sz=new A(null,"loop",
"loop",1244978678,null),Tz=new C("parser","find","parser/find",-801023103),Uz=new C(null,"appender","appender",1267426510),Vz=new C(null,"selector","selector",762528866),Xz=new C(null,"parameter-from-args","parameter-from-args",-758446196),Yz=new C(null,"miser","miser",-556060186),$z=new C(null,"ajax","ajax",814345549),aA=new C(null,"on-set","on-set",-140953470),bA=new A(null,"inc","inc",324505433,null),cA=new C(null,"rule-vars","rule-vars",1665972520),dA=new C(null,"backoff-ms-fn","backoff-ms-fn",
772895955),eA=new C(null,"context","context",-830191113),fA=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),gA=new C(null,"colnum","colnum",2023796854),hA=new C(null,"raw-resp","raw-resp",-1924342506),iA=new C(null,"section","section",-300141526),jA=new C(null,"bracket-info","bracket-info",-1600092774),kA=new A(null,"even?","even?",-1827825394,null),lA=new A(null,"Inf","Inf",647172781,null),mA=new A(aa,"map","cljs.core/map",-338988913,null),sc=new C(null,"dup","dup",556298533),oA=new C(null,"prefix-context",
"prefix-context",-1269613591),pA=new C(null,"init-db","init-db",1595181278),rA=new C(null,"timestamp_","timestamp_",-954533417),sA=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),tA=new C(null,"socket_","socket_",-361048908),uA=new C(ca,"rep","cljs.spec.alpha/rep",1483217317),vA=new C(null,"fn","fn",-1175266204),wA=new C(null,"args","args",1315556576),xA=new C(null,"suffix","suffix",367373057),yA=new C(null,"old","old",-1825222690),zA=new C(null,"div.flex.flex-1.overflow-x-auto","div.flex.flex-1.overflow-x-auto",
2231265),AA=new C(null,"qwith","qwith",-45809392),BA=new A(null,"defn-","defn-",1097765044,null),CA=new C(null,"pattern","pattern",242135423),DA=new C(null,"div.p-2","div.p-2",-325121057),EA=new C(null,"required","required",1807647006),FA=new C(null,"priority","priority",1431093715),GA=new C(null,"buffer","buffer",617295198),HA=new C(null,"inherit","inherit",-1840815422),IA=new C(null,"component-did-update","component-did-update",-1468549173),JA=new C(null,"msg_","msg_",-1925147E3),KA=new C(null,
"opt-keys","opt-keys",1262688261),LA=new A(null,"when-not","when-not",-1223136340,null),MA=new C(null,"ev","ev",-406827324),NA=new C(null,"console","console",1228072057),OA=new C("parser","in","parser/in",1617442048),PA=new C(null,"hash","hash",-13781596),QA=new A(null,"namespace","namespace",1263021155,null),Du=new C(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",-1334433298),RA=new C(null,"?content-type","?content-type",-2129759049),
SA=new C(null,"post","post",269697687),TA=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),UA=new C(null,"arg3","arg3",-1486822496),VA=new C(null,"min-level","min-level",1634684919),WA=new C(null,"arg1","arg1",951899358),XA=new C("db","valueType","db/valueType",1827971944),YA=new C(null,"arg2","arg2",1729550917),ZA=new C(null,"list","list",765357683),$A=new C("db","ident","db/ident",-737096),aB=new C(null,"dt","dt",-368444759),bB=new C(null,"min","min",444991522),cB=new C("literate",
"!transact","literate/!transact",758397308),dB=new A(null,"re-pattern","re-pattern",1047705161,null),Ou=new C("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),eB=new C(null,"column","column",2078222095),fB=new C(null,"key","key",-1516042587),gB=new A(null,"rand-int","rand-int",-495012157,null),hB=new C("chsk","recv","chsk/recv",561097091),iB=new C(null,"up-arrow","up-arrow",1705310333),jB=new A(null,"contains?","contains?",-1676812576,null),kB=new A(null,"true?",
"true?",-1600332395,null),lB=new C(null,"?ratio","?ratio",-1275760831),mB=new A(null,"+","+",-740910886,null),nB=new C(null,"generator-fn","generator-fn",811851656),oB=new C(null,"req-keys","req-keys",514319221),pB=new C(null,"logical-block-callback","logical-block-callback",1612691194),qB=new C(null,"resp-type","resp-type",1050675962),Bv=new C(null,"spying?","spying?",1753444487),rB=new C("db.cardinality","many","db.cardinality/many",772806234),sB=new C(null,"weeks","weeks",1844596125),tB=new C(null,
"overflowchar","overflowchar",-1620088106),uB=new C(null,"with","with",-1536296876),vB=new C(null,"cb","cb",589947841),wB=new C("swap","dissoc","swap/dissoc",-605373782),xB=new C(null,"ppstr","ppstr",1557495252),Pl=new C(null,"parents","parents",-2027538891),yB=new C("chsk","handshake","chsk/handshake",64910686),zB=new C(null,"with-credentials?","with-credentials?",-1773202222),AB=new C(null,"mincol","mincol",1230695445),BB=new C(null,"protocol","protocol",652470118),CB=new C(null,"curr-xhr_","curr-xhr_",
-1318773696),DB=new A(null,"if-let","if-let",1803593690,null),EB=new C(null,"*assert*","*assert*",-160895053),FB=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),GB=new A(null,"condp","condp",1054325175,null),HB=new A(null,"rem","rem",664046770,null),IB=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),JB=new C(null,"deref","deref",-145586795),KB=new C(null,"in","in",-1531184865),LB=new C(ca,"unknown","cljs.spec.alpha/unknown",651034818),MB=new C(null,"max-iterations",
"max-iterations",2021275563),NB=new C(null,"output_","output_",-36797880),OB=new C(null,"opt","opt",-794706369),PB=new C(null,"reason","reason",-2070751759),QB=new C(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),RB=new C(null,"assertion","assertion",-1645134882),SB=new C(null,"config","config",994861415),TB=new C(null,"id","id",-1388402092),UB=new A(null,"?e","?e",-1194391683,null),VB=new C(null,"onclose-fn","onclose-fn",-1388163785),WB=new C(null,"stream","stream",1534941648),
XB=new C(null,"results","results",-1134170113),YB=new A(null,"false?","false?",-1522377573,null),ZB=new C("widget","uuid","widget/uuid",-585315811),$B=new A(null,"deftype*","deftype*",962659890,null),aC=new C(null,"rep+","rep+",-281382396),bC=new C(null,"ajax-opts","ajax-opts",-518239109),cC=new A(null,"NaN","NaN",666918153,null),dC=new C(null,"indent","indent",-148200125),eC=new C("chsk","closed","chsk/closed",-922855264),fC=new C(null,"msecs","msecs",1711980553),gC=new A(null,"defmacro","defmacro",
2054157304,null),hC=new C("db","add","db/add",235286841),iC=new A(null,"vector","vector",-751469611,null),jC=new C(null,"recv-buf-or-n","recv-buf-or-n",1363950355),kC=new C(null,"porrl","porrl",-1693905102),lC=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),mC=new C(null,"else-params","else-params",-832171646),nC=new C(null,"keyword","keyword",811389747),oC=new C(null,"whitelist","whitelist",-979294437),pC=new C(null,"end-block-t","end-block-t",1544648735),qC=new C(null,"tempids","tempids",
1767509089),rC=new C(null,"errors","errors",-908790718),sC=new C(null,"max-count","max-count",1539185305);function tC(a,b,c){if(zg(c)){var d=gh(Cg,Lh.j(a,c));return b.B?b.B(d):b.call(null,d)}return Ei(c)?(d=new Y(function(){var e=gd(c);return a.B?a.B(e):a.call(null,e)}(),function(){var e=hd(c);return a.B?a.B(e):a.call(null,e)}()),b.B?b.B(d):b.call(null,d)):Jf(c)?(d=Lk(Lh.j(a,c)),b.B?b.B(d):b.call(null,d)):Df(c)?(d=v.C(function(e,f){return nf.j(e,a.B?a.B(f):a.call(null,f))},c,c),b.B?b.B(d):b.call(null,d)):zf(c)?(d=ai.j(qf(c),Lh.j(a,c)),b.B?b.B(d):b.call(null,d)):b.B?b.B(c):b.call(null,c)}
var uC=function uC(a,b){return tC(xh.j(uC,a),a,b)};var vC={};function wC(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.$i)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function xC(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=Oh(2,d);if(D.j(M(d),1))return d=J(d),a.B?a.B(d):a.call(null,d);d=Yf(d);return a.B?a.B(d):a.call(null,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}()}
function yC(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?wC(a,b,c):wC(a,b,xC(c));throw["Invalid match arg: ",t.B(b)].join("");}function AC(a,b){var c=new dc;for(b=E(b);;)if(null!=b)c.append(t.B(J(b))),b=K(b),null!=b&&c.append(a);else return c.toString()}
function CC(a,b){if(0>=b||b>=2+M(a))return nf.j(Yf(ff("",Lh.j(t,E(a)))),"");if(r(xg.j?xg.j(1,b):xg.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(xg.j?xg.j(2,b):xg.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return nf.j(Yf(ff("",Mi(Yf(Lh.j(t,E(a))),0,b))),yg.j(a,b))}function DC(a,b){return EC(a,b,0)}
function EC(a,b,c){if("/(?:)/"===t.B(b))b=CC(a,c);else if(1>c)b=Yf(t.B(a).split(b));else a:for(var d=c,e=of;;){if(1===d){b=nf.j(e,a);break a}var f=Nk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+M(f));--d;e=nf.j(e,a.substring(0,h));a=f}else{b=nf.j(e,a);break a}}if(0===c&&1<M(b))a:for(c=b;;)if(""===(null==c?null:kd(c)))c=null==c?null:ld(c);else break a;else c=b;return c}function FC(a){return vb(null==a?"":String(a))};var GC={},Kv,Vv,Yv,fw;function LC(a,b){if(null!=a&&null!=a.he)a=a.he(a,b);else{var c=LC[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=LC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.conform*",a);}return a}function MC(a,b){if(null!=a&&null!=a.ie)a=a.ie(a,b);else{var c=MC[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=MC._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Spec.with-gen*",a);}return a}var NC=Ch(W);
function OC(a){if(Gg(a)){var b=y(NC);a=B.j(b,a);if(Gg(a))a:for(;;)if(Gg(a))a=B.j(b,a);else{b=a;break a}else b=a;return b}return a}function PC(a){if(Gg(a)){var b=OC(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.B(a)].join(""));}return a}function QC(a){return null!=a&&l===a.Oe?a:null}function RC(a){var b=yq.B(a);return r(b)?a:b}function SC(a,b){return Gg(a)?a:r(RC(a))?R.C(a,xp,b):null!=a&&(a.J&131072||l===a.be)?vf(a,R.C(wf(a),xp,b)):null}
function TC(a){return Gg(a)?a:r(RC(a))?xp.B(a):null!=a&&(a.J&131072||l===a.be)?xp.B(wf(a)):null}function UC(a){var b=function(){var c=Gg(a)?OC(a):!1;if(r(c))return c;c=QC(a);if(r(c))return c;c=RC(a);return r(c)?c:null}();return r(RC(b))?SC(VC(b,null),TC(b)):b}function WC(a){var b=UC(a);if(r(b))return b;if(Gg(a))throw Error(["Unable to resolve spec: ",t.B(a)].join(""));return null}
function XC(a){if(FC(a))return null;a=Lh.j(hm,DC(a,"$"));if(2<=M(a)&&rh(function(c){return!FC(c)},a)){var b=Kk(vk,mf)(a);a=Q(b,0,null);b=Q(b,1,null);return we.B([AC(".",a),"/",t.B(b)].join(""))}return null}
var tw=function(){function a(d,e){var f=YC[na(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=YC._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw Cc("Specize.specize*",d);}function b(d){var e=YC[na(null==d?null:d)];if(null!=e)return e.B?e.B(d):e.call(null,d);e=YC._;if(null!=e)return e.B?e.B(d):e.call(null,d);throw Cc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.j=a;return c}(),YC=function YC(a){switch(arguments.length){case 1:return YC.B(arguments[0]);case 2:return YC.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};YC.B=function(a){return null!=a&&null!=a.sd?a.sd(a):tw(a)};YC.j=function(a,b){return null!=a&&null!=a.td?a.td(a,b):tw(a,b)};YC.T=2;C.prototype.sd=function(){return YC(PC(this))};C.prototype.td=function(){return YC(PC(this))};A.prototype.sd=function(){return YC(PC(this))};
A.prototype.td=function(){return YC(PC(this))};qk.prototype.sd=function(){return $C(this,this,null,null,null)};qk.prototype.td=function(a,b){return $C(b,this,null,null,null)};
YC._=function(){function a(c){var d=tf(c)?XC(c.name):!1;return r(d)?$C(d,c,null,null,null):$C(LB,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return $C(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.B=a;b.j=function(c,d){return $C(d,c,null,null,null)};return b}();
var aD=function aD(a){switch(arguments.length){case 1:return aD.B(arguments[0]);case 2:return aD.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};aD.B=function(a){var b=QC(a);return r(b)?b:YC(a)};aD.j=function(a,b){var c=QC(a);return r(c)?c:YC(a,b)};aD.T=2;function bD(a,b){a=OC(a);return r(RC(a))?R.C(a,yy,b):MC(aD.B(a),b)}
function cD(a,b,c){if(null==c)Eh.C(NC,S,a);else{var d=QC(c);r(d)||(d=RC(c),d=r(d)?d:B.j(y(NC),c));b=r(d)?c:$C(b,c,null,null,null);Eh.P(NC,R,a,SC(b,a))}}function dD(a,b,c){if(r(a)){var d=WC(a);if(r(d))return LC(aD.B(d),b);if(Lf(a))return r(null)?a.B?a.B(b):a.call(null,b):r(a.B?a.B(b):a.call(null,b))?b:Jt;throw Error([gl.F(P([c]))," is not a fn, expected predicate fn"].join(""));}return b}function eD(a,b){a=aD.B(a);return!T(Jt,LC(a,b))}
function $C(a,b,c,d,e){if(r(QC(b)))return r(c)?bD(b,c):b;if(r(RC(b)))return VC(b,c);if(Gg(b))return a=WC(b),r(c)?bD(a,c):a;if("undefined"===typeof ec||"undefined"===typeof vC||"undefined"===typeof GC||"undefined"===typeof Vv)Vv=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Dd=k;this.Hf=m;this.fh=n;this.qj=p;this.J=393216;this.Y=0},Vv.prototype.fa=function(f,h){return new Vv(this.form,this.pred,this.Dd,this.Hf,this.fh,h)},Vv.prototype.ea=function(){return this.qj},Vv.prototype.sd=function(){return this},
Vv.prototype.td=function(){return this},Vv.prototype.Oe=l,Vv.prototype.he=function(f,h){f=this.pred.B?this.pred.B(h):this.pred.call(null,h);return r(this.Hf)?f:r(f)?h:Jt},Vv.prototype.ie=function(f,h){return $C(this.form,this.pred,h,this.Hf,this.fh)},Vv.rb=!0,Vv.kb="cljs.spec.alpha/t_cljs$spec$alpha22966",Vv.ub=function(f){return Jd(f,"cljs.spec.alpha/t_cljs$spec$alpha22966")};return new Vv(a,b,c,d,e,W)}
function fD(a,b,c){var d=E(b);J(d);K(d);d=E(c);J(d);K(d);for(d=c;;){c=a;b=E(b);a=J(b);b=K(b);var e=E(d);d=J(e);e=K(e);var f=d;d=e;if(r(a)){c=dD(a,c,f);if(T(Jt,c))return Jt;a=c}else return c}}var gD=new q(null,4,[Fw,of,kr,sk,Zx,Ee,Ur,W],null);
function hD(a,b,c,d){function e(xa,ya,Ta,ka){return nf.j(xa,ka)}var f=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c,h=B.j(f,sC),k=B.j(f,In),m=B.C(f,Nq,20),n=B.j(f,js),p=B.j(f,xo),u=B.j(f,Az),w=B.j(f,bu),z=B.j(f,ww),F=B.j(f,Yy),H=B.j(f,Cw),G=B.j(f,av),N=B.j(f,lC),O=B.j(f,Ir),U=r(O)?qf(O):B.j(gD,k),ea=new tl(function(){return aD.B(b)}),va=function(){return r(z)?z:function(xa){return xa}}();if("undefined"===typeof ec||"undefined"===typeof vC||"undefined"===typeof GC||"undefined"===typeof Yv)Yv=function(xa,
ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb,fc,Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze,Fd,uq){this.form=xa;this.Sh=ya;this.nh=Ta;this.Dd=ka;this.Jh=pa;this.Ej=Ca;this.pred=ua;this.Re=Ba;this.Ch=Ya;this.Oh=bc;this.lh=yb;this.He=fc;this.Hh=Yb;this.distinct=Vd;this.lj=dg;this.spec=Ef;this.Nh=Wg;this.Ih=Zc;this.count=Dd;this.ki=ye;this.Yb=eg;this.kind=Ed;this.Bg=ze;this.Bh=Fd;this.sj=uq;this.J=393216;this.Y=0},Yv.prototype.fa=function(xa,ya){return new Yv(this.form,this.Sh,this.nh,this.Dd,this.Jh,this.Ej,this.pred,this.Re,
this.Ch,this.Oh,this.lh,this.He,this.Hh,this.distinct,this.lj,this.spec,this.Nh,this.Ih,this.count,this.ki,this.Yb,this.kind,this.Bg,this.Bh,ya)},Yv.prototype.ea=function(){return this.sj},Yv.prototype.sd=function(){return this},Yv.prototype.td=function(){return this},Yv.prototype.Oe=l,Yv.prototype.he=function(xa,ya){xa=y(this.spec);if(yc(this.Re.B?this.Re.B(ya):this.Re.call(null,ya)))return Jt;if(r(this.Bg)){var Ta=this.He.B?this.He.B(ya):this.He.call(null,ya),ka=Q(Ta,0,null),pa=Q(Ta,1,null);Ta=
Q(Ta,2,null);var Ca=ka.B?ka.B(ya):ka.call(null,ya);ka=0;var ua=E(ya);ya=E(ua);J(ya);K(ya);for(ya=Ca;;){var Ba=ua;Ca=E(Ba);ua=J(Ca);Ca=K(Ca);if(Ba){Ba=LC(xa,ua);if(T(Jt,Ba))return Jt;ya=pa.P?pa.P(ya,ka,ua,Ba):pa.call(null,ya,ka,ua,Ba);ka+=1;ua=Ca}else return Ta.B?Ta.B(ya):Ta.call(null,ya)}}else if(Ye(ya))for(pa=sg(M(ya)/101),pa=1>pa?1:pa,ka=0;;){if(ka>=M(ya))return ya;if(eD(xa,$e(ya,ka)))ka+=pa;else return Jt}else for(ka=0,pa=E(ya),Ta=E(pa),J(Ta),K(Ta);;){ua=E(pa);Ta=J(ua);Ca=K(ua);ua=Ta;Ba=pa;if(null==
Ba||D.j(ka,101))return ya;if(eD(xa,ua))pa=Ca,ka+=1;else return Jt}},Yv.prototype.ie=function(xa,ya){return hD(this.form,this.pred,this.Yb,ya)},Yv.rb=!0,Yv.kb="cljs.spec.alpha/t_cljs$spec$alpha23630",Yv.ub=function(xa){return Jd(xa,"cljs.spec.alpha/t_cljs$spec$alpha23630")};return new Yv(a,h,function(xa){return eD(y(ea),xa)},d,m,c,b,n,p,k,e,function(xa){return Ff(xa)&&(yc(O)||Ff(O))?new X(null,3,5,Z,[bg,function(ya,Ta,ka,pa){return ka===pa?ya:R.C(ya,Ta,pa)},bg],null):r(Cf(xa)?function(){var ya=r(G)?
yc(O):G;return r(ya)?ya:Cf(O)}():!1)?new X(null,3,5,Z,[r(p)?qf:bg,function(ya,Ta,ka,pa){return ka===pa&&yc(p)?ya:R.C(ya,$e(r(p)?pa:ka,0),$e(pa,1))},bg],null):zg(O)||Jf(O)||yc(O)&&(zg(xa)||Jf(xa))?new X(null,3,5,Z,[qf,e,Bg],null):new X(null,3,5,Z,[function(ya){return qf(r(O)?O:ya)},e,bg],null)},u,w,f,ea,va,U,F,H,f,G,N,O,W)}function iD(a){return new q(null,2,[yq,mv,sx,a],null)}function jD(a){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;a=B.j(a,yq);return D.j(mv,a)}
var kD=function kD(a){var c=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,d=B.j(c,$n);a=E(d);var e=J(a);a=K(a);var f=B.j(c,en),h=E(f),k=J(h);h=K(h);var m=B.j(c,Ps),n=E(m);J(n);n=K(n);var p=B.j(c,sx);c=B.j(c,aC);return rh(bg,d)?jD(e)?(d=sx.B(e),d=nf.j(p,r(f)?sf([k,d]):d),a?(a=new q(null,4,[$n,a,en,h,Ps,n,sx,d],null),kD.B?kD.B(a):kD.call(null,a)):iD(d)):new q(null,6,[yq,Kt,$n,d,sx,p,en,f,Ps,m,aC,c],null):null};
function lD(a,b,c,d,e){return r(a)?(d=new q(null,5,[yq,uA,sm,b,xz,d,Ps,e,TB,dm()],null),jD(a)?R.F(d,um,b,P([sx,nf.j(c,sx.B(a))])):R.F(d,um,a,P([sx,c]))):null}
function mD(a,b,c,d){return r(r(b)?b:c)?(a=Zh(function(e){e=J(e);return d.B?d.B(e):d.call(null,e)},Lh.P(Hi,a,function(){var e=E(b);return e?e:Rh(null)}(),function(){var e=E(c);return e?e:Rh(null)}())),new X(null,3,5,Z,[E(Lh.j(J,a)),r(b)?E(Lh.j(kf,a)):null,r(c)?E(Lh.j(function(e){return $e(e,2)},a)):null],null)):new X(null,3,5,Z,[E(Zh(d,a)),b,c],null)}
function nD(a,b,c){var d=mD(a,b,c,bg);c=Q(d,0,null);b=E(c);a=J(b);var e=K(b),f=Q(d,1,null);b=Q(f,0,null);d=Q(d,2,null);return r(c)?(c=new q(null,4,[yq,on,$n,c,en,f,Ps,d],null),null==e?r(b)&&(jD(a)?(a=sx.B(a),a=iD(new Y(b,a))):a=c):a=c,a):null}function oD(a,b){return r(r(a)?b:a)?nD(P([a,b]),null,null):r(a)?a:b}
var pD=function pD(a){a=PC(a);var c=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,d=B.j(c,yq),e=B.j(c,$n);a=B.j(c,um);var f=B.j(c,sm);c=B.j(c,Ps);if(D.j(mv,d))return!0;if(D.j(null,d))return null;if(D.j(fn,d))return d=pD.B?pD.B(a):pD.call(null,a),r(d)?(a=fD(qD(a),e,K(c)),!T(Jt,a)):d;if(D.j(uA,d))return(e=a===f)?e:pD.B?pD.B(a):pD.call(null,a);if(D.j(Kt,d))return rh(pD,e);if(D.j(on,d))return sh(pD,e);throw Error(["No matching clause: ",t.B(d)].join(""));},qD=function qD(a){a=PC(a);var c=null!=a&&(a.J&64||l===
a.ua)?gh(hk,a):a;a=B.j(c,$n);var d=E(a),e=J(d);K(d);var f=B.j(c,en),h=Q(f,0,null),k=B.j(c,yq);d=B.j(c,um);var m=B.j(c,sx);c=B.j(c,Ps);if(D.j(mv,k))return m;if(D.j(null,k))return null;if(D.j(fn,k))return e=qD.B?qD.B(d):qD.call(null,d),(f=D.j(e,Hn))?d=f:(d=yq.B(PC(d)),f=new qk(null,new q(null,2,[uA,null,Kt,null],null),null),d=f.B?f.B(d):f.call(null,d),d=r(d)?yf(e):d,d=r(d)?d:null),r(d)?Hn:fD(e,a,c);if(D.j(uA,k))return rD(d,m,h);if(D.j(Kt,k))return rD(e,m,h);if(D.j(on,k))return c=mD(a,f,c,pD),a=Q(c,
0,null),a=Q(a,0,null),c=Q(c,1,null),c=Q(c,0,null),a=null==a?Hn:qD.B?qD.B(a):qD.call(null,a),r(c)?new Y(c,a):a;throw Error(["No matching clause: ",t.B(k)].join(""));};
function rD(a,b,c){a=PC(a);var d=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,e=B.j(d,yq);B.j(d,$n);a=B.j(d,xz);if(D.j(null,e))return b;if(D.j(on,e)||D.j(mv,e)||D.j(fn,e))return a=qD(d),D.j(a,Hn)?b:nf.j(b,r(c)?sf([c,a]):a);if(D.j(uA,e)||D.j(Kt,e))return d=qD(d),yf(d)||(c=r(c)?sf([c,d]):d,a=r(a)?ai:nf,b=a.j?a.j(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.B(e)].join(""));}
var sD=function sD(a,b){a=PC(a);var d=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,e=B.j(d,Ps),f=B.j(d,sm);a=B.j(d,$n);var h=E(a),k=J(h),m=K(h),n=B.j(d,sx);h=B.j(d,yq);var p=B.j(d,xz),u=B.j(d,en),w=E(u),z=J(w),F=K(w);w=B.j(d,gs);var H=B.j(d,um);if(r(d)){if(D.j(mv,h))return null;if(D.j(null,h))return a=dD(d,b,d),T(Jt,a)?null:iD(a);if(D.j(fn,h))return d=sD.j?sD.j(H,b):sD.call(null,H,b),r(d)?D.j(mv,yq.B(d))?(a=fD(qD(d),a,K(e)),T(Jt,a)?null:iD(a)):new q(null,5,[yq,fn,um,d,gs,w,$n,a,Ps,e],null):null;if(D.j(Kt,
h))return oD(kD(new q(null,4,[$n,ff(sD.j?sD.j(k,b):sD.call(null,k,b),m),en,u,Ps,e,sx,n],null)),r(pD(k))?function(){var G=kD(new q(null,4,[$n,m,en,F,Ps,K(e),sx,rD(k,n,z)],null));return sD.j?sD.j(G,b):sD.call(null,G,b)}():null);if(D.j(on,h))return nD(Lh.j(function(G){return sD.j?sD.j(G,b):sD.call(null,G,b)},a),u,e);if(D.j(uA,h))return oD(lD(sD.j?sD.j(H,b):sD.call(null,H,b),f,n,p,e),r(pD(H))?function(){var G=lD(f,f,rD(H,n,null),p,e);return sD.j?sD.j(G,b):sD.call(null,G,b)}():null);throw Error(["No matching clause: ",
t.B(h)].join(""));}return null};function tD(a,b){for(;;){var c=E(b),d=J(c);c=K(c);if(yf(b))return r(pD(a))?(a=qD(a),D.j(a,Hn)?null:a):Jt;a=sD(a,d);if(r(a))b=c;else return Jt}}
var VC=function VC(a,b){if("undefined"===typeof ec||"undefined"===typeof vC||"undefined"===typeof GC||"undefined"===typeof fw)fw=function(d,e,f){this.re=d;this.Dd=e;this.wj=f;this.J=393216;this.Y=0},fw.prototype.fa=function(d,e){return new fw(this.re,this.Dd,e)},fw.prototype.ea=function(){return this.wj},fw.prototype.sd=function(){return this},fw.prototype.td=function(){return this},fw.prototype.Oe=l,fw.prototype.he=function(d,e){return null==e||Bf(e)?tD(this.re,E(e)):Jt},fw.prototype.ie=function(d,
e){return VC.j?VC.j(this.re,e):VC.call(null,this.re,e)},fw.rb=!0,fw.kb="cljs.spec.alpha/t_cljs$spec$alpha24271",fw.ub=function(d){return Jd(d,"cljs.spec.alpha/t_cljs$spec$alpha24271")};return new fw(a,b,W)};
cD($u,Cg(Xx,Cg(dn,new X(null,1,5,Z,[bn],null),Cg(Hu,Cg(mA,dt,bn),Cg(mA,at,bn))),Cg(dn,new X(null,1,5,Z,[vq],null),Cg(mA,Cg(qn,new X(null,1,5,Z,[new X(null,2,5,Z,[Aq,xq],null)],null),new q(null,2,[dt,Aq,at,xq],null)),vq))),$C(Cg(Xx,Cg(qn,new X(null,1,5,Z,[tt],null),Cg(Hu,Cg(mA,dt,tt),Cg(mA,at,tt))),Cg(qn,new X(null,1,5,Z,[tt],null),Cg(mA,Cg(qn,new X(null,1,5,Z,[new X(null,2,5,Z,[Aq,xq],null)],null),new q(null,2,[dt,Aq,at,xq],null)),tt))),function(a){return wk(Lh.j(dt,a),Lh.j(at,a))},null,!0,function(a){return Lh.j(function(b){var c=
Q(b,0,null);b=Q(b,1,null);return new q(null,2,[dt,c,at,b],null)},a)}));var uD={},gy,Py,bz,iz,Wz,Zz,BD=function BD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return BD.F(c)};BD.F=function(a){return Jd(ic,gh(il,a))};BD.T=0;BD.ba=function(a){return this.F(E(a))};var CD=function CD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return CD.F(c)};CD.F=function(a){return Jd(ic,gh(gl,a))};CD.T=0;CD.ba=function(a){return this.F(E(a))};
function DD(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;gh(CD,b);Jd(ic,"\n")}function ED(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function FD(a,b,c){var d=c;for(c=of;;){if(yf(d))return new X(null,2,5,Z,[c,b],null);var e=J(d);d=K(d);e=gh(a,new X(null,2,5,Z,[e,b],null));b=Q(e,0,null);e=Q(e,1,null);c=nf.j(c,b);b=e}}function GD(a,b){var c=b;for(b=of;;){var d=gh(a,new X(null,1,5,Z,[c],null));c=Q(d,0,null);d=Q(d,1,null);if(yc(c))return new X(null,2,5,Z,[b,d],null);b=nf.j(b,c);c=d}}
function HD(a){return new X(null,2,5,Z,[ai.j(W,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(Gf(e)){var f=$d(e),h=M(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);var u=Q(n,0,null);Q(n,1,null);k.add(new X(null,2,5,Z,[p,u],null));m+=1}else{f=!0;break a}return f?Pg(Rg(k),d(ae(e))):Pg(Rg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);h=Q(f,0,null);Q(f,1,null);return ff(new X(null,2,5,Z,[k,h],null),d(De(e)))}return null}},null,null)}(a)}()),
ai.j(W,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(Gf(e)){var f=$d(e),h=M(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);Q(n,0,null);n=Q(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?Pg(Rg(k),d(ae(e))):Pg(Rg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);Q(f,0,null);f=Q(f,1,null);return ff(new X(null,2,5,Z,[k,f],null),d(De(e)))}return null}},null,null)}(a)}())],null)}
function ID(a,b){return ai.j(W,function(){return function e(d){return new Jg(null,function(){for(;;){var f=E(d);if(f){if(Gf(f)){var h=$d(f),k=M(h),m=Ng(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=Q(p,0,null);p=Q(p,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?Pg(Rg(m),e(ae(f))):Pg(Rg(m),null)}h=J(f);m=Q(h,0,null);h=Q(h,1,null);return ff(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(De(f)))}return null}},null,null)}(a)}())}
function JD(){var a=ic;if(null!=a&&null!=a.Ef)a.Ef(a);else{var b=JD[na(null==a?null:a)];if(null!=b)b.B?b.B(a):b.call(null,a);else if(b=JD._,null!=b)b.B?b.B(a):b.call(null,a);else throw Cc("IPrettyFlush.-ppflush",a);}}function KD(a,b){a=y(y(a));return b.B?b.B(a):b.call(null,a)}function LD(a,b,c){Eh.P(y(a),R,b,c)}function MD(a,b){D.j(b,"\n")?(LD(a,Rs,0),LD(a,Dm,KD(a,Dm)+1)):LD(a,Rs,KD(a,Rs)+1);return Jd(KD(a,Fp),b)}
function ND(a,b){var c=Ch(new q(null,4,[Qy,b,Rs,0,Dm,0,Fp,a],null));if("undefined"===typeof ec||"undefined"===typeof uD||"undefined"===typeof gy)gy=function(d,e,f,h){this.Wa=d;this.Qf=e;this.fields=f;this.nj=h;this.J=1074167808;this.Y=0},gy.prototype.fa=function(d,e){return new gy(this.Wa,this.Qf,this.fields,e)},gy.prototype.ea=function(){return this.nj},gy.prototype.fb=function(){return this.fields},gy.prototype.Nc=function(){return Kd(this.Wa)},gy.prototype.qd=function(d,e){d=Bc(e);if(r(D.j?D.j(String,
d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?LD(this,Rs,KD(this,Rs)+M(e)):(LD(this,Rs,M(e)-d-1),LD(this,Dm,KD(this,Dm)+M(Zh(function(f){return D.j(f,"\n")},e)))),Jd(KD(this,Fp),e);if(r(D.j?D.j(Number,d):D.call(null,Number,d)))return MD(this,e);throw Error(["No matching clause: ",t.B(d)].join(""));},gy.rb=!0,gy.kb="cljs.pprint/t_cljs$pprint21168",gy.ub=function(d){return Jd(d,"cljs.pprint/t_cljs$pprint21168")};return new gy(a,b,c,W)}
function OD(a,b,c,d,e,f,h,k,m,n,p,u,w){this.parent=a;this.Ob=b;this.vb=c;this.indent=d;this.Jb=e;this.Kb=f;this.prefix=h;this.Nb=k;this.suffix=m;this.Lb=n;this.G=p;this.D=u;this.I=w;this.J=2230716170;this.Y=139264}g=OD.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "parent":return this.parent;case "section":return this.Ob;case "start-col":return this.vb;case "indent":return this.indent;case "done-nl":return this.Jb;case "intra-block-nl":return this.Kb;case "prefix":return this.prefix;case "per-line-prefix":return this.Nb;case "suffix":return this.suffix;case "logical-block-callback":return this.Lb;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.j(new X(null,10,5,Z,[new X(null,2,5,Z,[Mr,this.parent],null),new X(null,2,5,Z,[iA,this.Ob],null),new X(null,2,5,Z,[Hr,this.vb],null),new X(null,2,5,Z,[dC,this.indent],null),new X(null,2,5,Z,[ln,this.Jb],null),new X(null,2,5,Z,[Lq,this.Kb],null),new X(null,2,5,Z,[Np,this.prefix],null),new X(null,2,5,Z,[Pm,this.Nb],null),new X(null,2,5,Z,[xA,this.suffix],null),new X(null,2,5,Z,[pB,
this.Lb],null)],null),this.D))};g.oa=function(){return new Xi(this,10,new X(null,10,5,Z,[Mr,iA,Hr,dC,ln,Lq,Np,Pm,xA,pB],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 10+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1977012399^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.parent,b.parent)&&D.j(this.Ob,b.Ob)&&D.j(this.vb,b.vb)&&D.j(this.indent,b.indent)&&D.j(this.Jb,b.Jb)&&D.j(this.Kb,b.Kb)&&D.j(this.prefix,b.prefix)&&D.j(this.Nb,b.Nb)&&D.j(this.suffix,b.suffix)&&D.j(this.Lb,b.Lb)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,10,[xA,null,dC,null,Mr,null,iA,null,ln,null,Hr,null,Np,null,Pm,null,pB,null,Lq,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Mr,b):T.call(null,Mr,b))?new OD(c,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(iA,b):T.call(null,iA,b))?new OD(this.parent,c,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(Hr,b):T.call(null,Hr,b))?new OD(this.parent,this.Ob,c,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(dC,b):T.call(null,
dC,b))?new OD(this.parent,this.Ob,this.vb,c,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(ln,b):T.call(null,ln,b))?new OD(this.parent,this.Ob,this.vb,this.indent,c,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(Lq,b):T.call(null,Lq,b))?new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,c,this.prefix,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(Np,b):T.call(null,Np,b))?new OD(this.parent,this.Ob,this.vb,this.indent,
this.Jb,this.Kb,c,this.Nb,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(Pm,b):T.call(null,Pm,b))?new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,c,this.suffix,this.Lb,this.G,this.D,null):r(T.j?T.j(xA,b):T.call(null,xA,b))?new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,c,this.Lb,this.G,this.D,null):r(T.j?T.j(pB,b):T.call(null,pB,b))?new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,c,this.G,
this.D,null):new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,10,5,Z,[new Y(Mr,this.parent),new Y(iA,this.Ob),new Y(Hr,this.vb),new Y(dC,this.indent),new Y(ln,this.Jb),new Y(Lq,this.Kb),new Y(Np,this.prefix),new Y(Pm,this.Nb),new Y(xA,this.suffix),new Y(pB,this.Lb)],null),this.D))};
g.fa=function(a,b){return new OD(this.parent,this.Ob,this.vb,this.indent,this.Jb,this.Kb,this.prefix,this.Nb,this.suffix,this.Lb,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function PD(a,b){for(b=Mr.B(b);;){if(null==b)return!1;if(a===b)return!0;b=Mr.B(b)}}function QD(a,b,c,d,e,f,h,k){this.ta=a;this.data=b;this.wc=c;this.sa=d;this.ra=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.Y=139264}g=QD.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.ta;case "data":return this.data;case "trailing-white-space":return this.wc;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[xm,this.ta],null),new X(null,2,5,Z,[Ym,this.data],null),new X(null,2,5,Z,[Kp,this.wc],null),new X(null,2,5,Z,[Sp,this.sa],null),new X(null,2,5,Z,[Qu,this.ra],null)],null),this.D))};g.oa=function(){return new Xi(this,5,new X(null,5,5,Z,[xm,Ym,Kp,Sp,Qu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1809113693^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.data,b.data)&&D.j(this.wc,b.wc)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,5,[Qu,null,Kp,null,xm,null,Sp,null,Ym,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new QD(this.ta,this.data,this.wc,this.sa,this.ra,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(xm,b):T.call(null,xm,b))?new QD(c,this.data,this.wc,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Ym,b):T.call(null,Ym,b))?new QD(this.ta,c,this.wc,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Kp,b):T.call(null,Kp,b))?new QD(this.ta,this.data,c,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Sp,b):T.call(null,Sp,b))?new QD(this.ta,this.data,this.wc,c,this.ra,this.G,this.D,null):r(T.j?T.j(Qu,b):T.call(null,Qu,b))?new QD(this.ta,this.data,this.wc,this.sa,c,this.G,
this.D,null):new QD(this.ta,this.data,this.wc,this.sa,this.ra,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,5,5,Z,[new Y(xm,this.ta),new Y(Ym,this.data),new Y(Kp,this.wc),new Y(Sp,this.sa),new Y(Qu,this.ra)],null),this.D))};g.fa=function(a,b){return new QD(this.ta,this.data,this.wc,this.sa,this.ra,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function RD(a,b,c,d,e,f,h,k){this.ta=a;this.type=b;this.ya=c;this.sa=d;this.ra=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.Y=139264}g=RD.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.ta;case "type":return this.type;case "logical-block":return this.ya;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[xm,this.ta],null),new X(null,2,5,Z,[nq,this.type],null),new X(null,2,5,Z,[tr,this.ya],null),new X(null,2,5,Z,[Sp,this.sa],null),new X(null,2,5,Z,[Qu,this.ra],null)],null),this.D))};
g.oa=function(){return new Xi(this,5,new X(null,5,5,Z,[xm,nq,tr,Sp,Qu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1640656800^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.type,b.type)&&D.j(this.ya,b.ya)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,5,[Qu,null,nq,null,tr,null,xm,null,Sp,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new RD(this.ta,this.type,this.ya,this.sa,this.ra,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(xm,b):T.call(null,xm,b))?new RD(c,this.type,this.ya,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(nq,b):T.call(null,nq,b))?new RD(this.ta,c,this.ya,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(tr,b):T.call(null,tr,b))?new RD(this.ta,this.type,c,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Sp,b):T.call(null,Sp,b))?new RD(this.ta,this.type,this.ya,c,this.ra,this.G,this.D,null):r(T.j?T.j(Qu,b):T.call(null,Qu,b))?new RD(this.ta,this.type,this.ya,this.sa,c,this.G,
this.D,null):new RD(this.ta,this.type,this.ya,this.sa,this.ra,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,5,5,Z,[new Y(xm,this.ta),new Y(nq,this.type),new Y(tr,this.ya),new Y(Sp,this.sa),new Y(Qu,this.ra)],null),this.D))};g.fa=function(a,b){return new RD(this.ta,this.type,this.ya,this.sa,this.ra,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function SD(a,b,c,d,e,f,h){this.ta=a;this.ya=b;this.sa=c;this.ra=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.Y=139264}g=SD.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.ta;case "logical-block":return this.ya;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[xm,this.ta],null),new X(null,2,5,Z,[tr,this.ya],null),new X(null,2,5,Z,[Sp,this.sa],null),new X(null,2,5,Z,[Qu,this.ra],null)],null),this.D))};
g.oa=function(){return new Xi(this,4,new X(null,4,5,Z,[xm,tr,Sp,Qu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-414877272^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.ya,b.ya)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,4,[Qu,null,tr,null,xm,null,Sp,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new SD(this.ta,this.ya,this.sa,this.ra,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(xm,b):T.call(null,xm,b))?new SD(c,this.ya,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(tr,b):T.call(null,tr,b))?new SD(this.ta,c,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Sp,b):T.call(null,Sp,b))?new SD(this.ta,this.ya,c,this.ra,this.G,this.D,null):r(T.j?T.j(Qu,b):T.call(null,Qu,b))?new SD(this.ta,this.ya,this.sa,c,this.G,this.D,null):new SD(this.ta,this.ya,this.sa,this.ra,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,4,5,Z,[new Y(xm,this.ta),new Y(tr,this.ya),new Y(Sp,this.sa),new Y(Qu,this.ra)],null),this.D))};g.fa=function(a,b){return new SD(this.ta,this.ya,this.sa,this.ra,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function TD(a,b,c,d,e,f,h){this.ta=a;this.ya=b;this.sa=c;this.ra=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.Y=139264}g=TD.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.ta;case "logical-block":return this.ya;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[xm,this.ta],null),new X(null,2,5,Z,[tr,this.ya],null),new X(null,2,5,Z,[Sp,this.sa],null),new X(null,2,5,Z,[Qu,this.ra],null)],null),this.D))};g.oa=function(){return new Xi(this,4,new X(null,4,5,Z,[xm,tr,Sp,Qu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1365867980^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.ya,b.ya)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,4,[Qu,null,tr,null,xm,null,Sp,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new TD(this.ta,this.ya,this.sa,this.ra,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(xm,b):T.call(null,xm,b))?new TD(c,this.ya,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(tr,b):T.call(null,tr,b))?new TD(this.ta,c,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Sp,b):T.call(null,Sp,b))?new TD(this.ta,this.ya,c,this.ra,this.G,this.D,null):r(T.j?T.j(Qu,b):T.call(null,Qu,b))?new TD(this.ta,this.ya,this.sa,c,this.G,this.D,null):new TD(this.ta,this.ya,this.sa,this.ra,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,4,5,Z,[new Y(xm,this.ta),new Y(tr,this.ya),new Y(Sp,this.sa),new Y(Qu,this.ra)],null),this.D))};g.fa=function(a,b){return new TD(this.ta,this.ya,this.sa,this.ra,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function UD(a,b,c,d,e,f,h,k,m){this.ta=a;this.ya=b;this.kc=c;this.offset=d;this.sa=e;this.ra=f;this.G=h;this.D=k;this.I=m;this.J=2230716170;this.Y=139264}g=UD.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type-tag":return this.ta;case "logical-block":return this.ya;case "relative-to":return this.kc;case "offset":return this.offset;case "start-pos":return this.sa;case "end-pos":return this.ra;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.j(new X(null,6,5,Z,[new X(null,2,5,Z,[xm,this.ta],null),new X(null,2,5,Z,[tr,this.ya],null),new X(null,2,5,Z,[Tx,this.kc],null),new X(null,2,5,Z,[zu,this.offset],null),new X(null,2,5,Z,[Sp,this.sa],null),new X(null,2,5,Z,[Qu,this.ra],null)],null),this.D))};g.oa=function(){return new Xi(this,6,new X(null,6,5,Z,[xm,tr,Tx,zu,Sp,Qu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};
g.ja=function(){return 6+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1602780238^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ta,b.ta)&&D.j(this.ya,b.ya)&&D.j(this.kc,b.kc)&&D.j(this.offset,b.offset)&&D.j(this.sa,b.sa)&&D.j(this.ra,b.ra)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,6,[zu,null,Qu,null,Tx,null,tr,null,xm,null,Sp,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new UD(this.ta,this.ya,this.kc,this.offset,this.sa,this.ra,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(xm,b):T.call(null,xm,b))?new UD(c,this.ya,this.kc,this.offset,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(tr,b):T.call(null,tr,b))?new UD(this.ta,c,this.kc,this.offset,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Tx,b):T.call(null,Tx,b))?new UD(this.ta,this.ya,c,this.offset,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(zu,b):T.call(null,zu,b))?new UD(this.ta,this.ya,this.kc,c,this.sa,this.ra,this.G,this.D,null):r(T.j?T.j(Sp,b):T.call(null,Sp,b))?new UD(this.ta,
this.ya,this.kc,this.offset,c,this.ra,this.G,this.D,null):r(T.j?T.j(Qu,b):T.call(null,Qu,b))?new UD(this.ta,this.ya,this.kc,this.offset,this.sa,c,this.G,this.D,null):new UD(this.ta,this.ya,this.kc,this.offset,this.sa,this.ra,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,6,5,Z,[new Y(xm,this.ta),new Y(tr,this.ya),new Y(Tx,this.kc),new Y(zu,this.offset),new Y(Sp,this.sa),new Y(Qu,this.ra)],null),this.D))};
g.fa=function(a,b){return new UD(this.ta,this.ya,this.kc,this.offset,this.sa,this.ra,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};var VD=function(){var a=Ch(W),b=Ch(W),c=Ch(W),d=Ch(W),e=B.C(W,Iw,Ol.O?Ol.O():Ol.call(null));return new $l(we.j(ba,"write-token"),function(f,h){return xm.B(h)},e,a,b,c,d)}();
VD.gb(null,Mm,function(a,b){var c=pB.B(y(y(a)));r(c)&&(c.B?c.B(xn):c.call(null,xn));b=tr.B(b);c=Np.B(b);r(c)&&Jd(Fp.B(y(y(a))),c);a=KD(Fp.B(y(y(a))),Rs);Dh(Hr.B(b),a);return Dh(dC.B(b),a)});VD.gb(null,pC,function(a,b){var c=pB.B(y(y(a)));r(c)&&(c.B?c.B(Ax):c.call(null,Ax));b=xA.B(tr.B(b));return r(b)?Jd(Fp.B(y(y(a))),b):null});
VD.gb(null,fx,function(a,b){var c=tr.B(b),d=dC.B(c),e=zu.B(b);b=Tx.B(b);if(r(D.j?D.j(iu,b):D.call(null,iu,b)))a=y(Hr.B(c));else if(r(D.j?D.j(Er,b):D.call(null,Er,b)))a=KD(Fp.B(y(y(a))),Rs);else throw Error(["No matching clause: ",t.B(b)].join(""));return Dh(d,e+a)});VD.gb(null,Gx,function(a,b){return Jd(Fp.B(y(y(a))),Ym.B(b))});
VD.gb(null,iy,function(a,b){var c=(c=D.j(nq.B(b),Qn))?c:D.j(nq.B(b),Rt)?!1:y(ln.B(tr.B(b)));r(c)?WD.j?WD.j(a,b):WD.call(null,a,b):(b=Kp.B(y(y(a))),r(b)&&Jd(Fp.B(y(y(a))),b));return Eh.P(y(a),R,Kp,null)});
function XD(a,b,c){b=E(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);if(!D.j(xm.B(h),iy)){var k=Kp.B(y(y(a)));r(k)&&Jd(Fp.B(y(y(a))),k)}VD.j(a,h);Eh.P(y(a),R,Kp,Kp.B(h));h=Kp.B(y(y(a)));r(r(c)?h:c)&&(Jd(Fp.B(y(y(a))),h),Eh.P(y(a),R,Kp,null));f+=1}else if(b=E(b))Gf(b)?(d=$d(b),b=ae(b),h=d,e=M(d),d=h):(h=J(b),D.j(xm.B(h),iy)||(d=Kp.B(y(y(a))),r(d)&&Jd(Fp.B(y(y(a))),d)),VD.j(a,h),Eh.P(y(a),R,Kp,Kp.B(h)),h=Kp.B(y(y(a))),r(r(c)?h:c)&&(Jd(Fp.B(y(y(a))),h),Eh.P(y(a),R,Kp,null)),b=K(b),d=null,e=
0),f=0;else break}function YD(a,b){var c=KD(Fp.B(y(y(a))),Qy),d;(d=null==c)||(a=KD(Fp.B(y(y(a))),Rs),b=(b=E(b))?Qu.B(mf(b))-Sp.B(J(b)):0,d=a+b<c);return d}function ZD(a,b,c){b=y(ln.B(b));return r(b)?b:!YD(a,c)}function $D(a,b,c){var d=dz.B(y(y(a))),e=KD(Fp.B(y(y(a))),Qy);return r(d)?r(e)?y(Hr.B(b))>=e-d?ZD(a,b,c):!1:e:d}var aE=function(){var a=Ch(W),b=Ch(W),c=Ch(W),d=Ch(W),e=B.C(W,Iw,Ol.O?Ol.O():Ol.call(null));return new $l(we.j(ba,"emit-nl?"),function(f){return nq.B(f)},e,a,b,c,d)}();
aE.gb(null,wv,function(a,b,c){a=tr.B(a);return ZD(b,a,c)});aE.gb(null,Yz,function(a,b,c){a=tr.B(a);return $D(b,a,c)});aE.gb(null,Rt,function(a,b,c,d){a=tr.B(a);var e=y(Lq.B(a));return r(e)?e:(d=!YD(b,d))?d:$D(b,a,c)});aE.gb(null,Qn,function(){return!0});function bE(a){var b=J(a),c=tr.B(b);b=E(Ak(function(d){return!(D.j(xm.B(d),iy)&&PD(tr.B(d),c))},K(a)));return new X(null,2,5,Z,[b,E(Nh(M(b)+1,a))],null)}
function cE(a){var b=J(a),c=tr.B(b);return E(Ak(function(d){var e=tr.B(d);return!(D.j(xm.B(d),iy)&&(D.j(e,c)||PD(e,c)))},K(a)))}function WD(a,b){Jd(Fp.B(y(y(a))),"\n");Eh.P(y(a),R,Kp,null);b=tr.B(b);var c=Pm.B(b);r(c)&&Jd(Fp.B(y(y(a))),c);c=gh(t,Sh(y(dC.B(b))-M(c)," "));Jd(Fp.B(y(y(a))),c);a:for(Dh(Lq.B(b),!0),Dh(ln.B(b),!0),a=Mr.B(b);;)if(r(a))Dh(ln.B(a),!0),Dh(Lq.B(a),!0),a=Mr.B(a);else break a;return null}
function dE(a){var b=E(Ak(function(c){return!D.j(xm.B(c),iy)},a));return new X(null,2,5,Z,[b,E(Nh(M(b),a))],null)}var eE=function eE(a,b){var d=dE(b);b=Q(d,0,null);var e=Q(d,1,null);r(b)&&XD(a,b,!1);if(r(e)){d=bE(e);b=Q(d,0,null);d=Q(d,1,null);var f=J(e),h=aE.P(f,a,b,cE(e));r(h)&&(WD(a,f),e=K(e));YD(a,e)?a=e:(e=eE.j?eE.j(a,b):eE.call(null,a,b),D.j(e,b)?(XD(a,b,!1),a=d):a=ai.j(of,V.j(e,d)));return a}return null};
function fE(a){for(var b=GA.B(y(y(a)));;){Eh.P(y(a),R,GA,ai.j(of,b));if(YD(a,b))return null;var c=eE(a,b);if(b!==c)b=c;else return null}}function gE(a,b){Eh.P(y(a),R,GA,nf.j(GA.B(y(y(a))),b));return YD(a,GA.B(y(y(a))))?null:fE(a)}function hE(a){var b=Kp.B(y(y(a)));return r(b)?(Jd(Fp.B(y(y(a))),b),Eh.P(y(a),R,Kp,null)):null}
function iE(a,b){var c=EC(b,"\n",-1);if(D.j(M(c),1))return b;b=Pm.B(J(lr.B(y(y(a)))));var d=J(c);if(D.j(Go,Ny.B(y(y(a))))){var e=$s.B(y(y(a))),f=e+M(d);Eh.P(y(a),R,$s,f);gE(a,new QD(Gx,d,null,e,f,null,null,null));fE(a);d=GA.B(y(y(a)));r(d)&&(XD(a,d,!0),Eh.P(y(a),R,GA,of))}else hE(a),Jd(Fp.B(y(y(a))),d);Jd(Fp.B(y(y(a))),"\n");d=E(K(vk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.xa(null,h);Jd(Fp.B(y(y(a))),k);Jd(Fp.B(y(y(a))),"\n");r(b)&&Jd(Fp.B(y(y(a))),b);h+=1}else if(d=E(d))e=d,Gf(e)?(d=$d(e),h=
ae(e),e=d,f=M(d),d=h):(d=J(e),Jd(Fp.B(y(y(a))),d),Jd(Fp.B(y(y(a))),"\n"),r(b)&&Jd(Fp.B(y(y(a))),b),d=K(e),e=null,f=0),h=0;else break;Eh.P(y(a),R,Go,Fr);return mf(c)}
function jE(a){var b=kE,c=lE,d=new OD(null,null,Ch(0),Ch(0),Ch(!1),Ch(!1),null,null,null,null,null,null,null),e=Ch(Oj([lr,dz,Is,vt,Dv,Ny,$s,Kp,Fp,Dt,GA],[d,c,d,!0,null,Fr,0,null,ND(a,b),1,of]));if("undefined"===typeof ec||"undefined"===typeof uD||"undefined"===typeof Py)Py=function(f,h,k,m,n,p){this.Wa=f;this.Qf=h;this.li=k;this.Ph=m;this.fields=n;this.oj=p;this.J=1074167808;this.Y=0},Py.prototype.fa=function(f,h){return new Py(this.Wa,this.Qf,this.li,this.Ph,this.fields,h)},Py.prototype.ea=function(){return this.oj},
Py.prototype.fb=function(){return this.fields},Py.prototype.qd=function(f,h){f=Bc(h);if(r(D.j?D.j(String,f):D.call(null,String,f))){var k=iE(this,h);h=k.replace(/\s+$/,"");f=yg.j(k,h.length);var m=Ny.B(y(y(this)));if(D.j(m,Fr))return hE(this),Jd(Fp.B(y(y(this))),h),Eh.P(y(this),R,Kp,f);m=$s.B(y(y(this)));k=m+M(k);Eh.P(y(this),R,$s,k);return gE(this,new QD(Gx,h,f,m,k,null,null,null))}if(r(D.j?D.j(Number,f):D.call(null,Number,f)))return D.j(Ny.B(y(y(this))),Fr)?(hE(this),h=Jd(Fp.B(y(y(this))),h)):D.j(h,
"\n")?h=iE(this,"\n"):(f=$s.B(y(y(this))),k=f+1,Eh.P(y(this),R,$s,k),h=rg(h),h=gE(this,new QD(Gx,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.B(f)].join(""));},Py.prototype.Nc=function(){this.Ef(null);return Kd(Fp.B(y(y(this))))},Py.prototype.Ef=function(){return D.j(Ny.B(y(y(this))),Go)?(XD(this,GA.B(y(y(this))),!0),Eh.P(y(this),R,GA,of)):hE(this)},Py.rb=!0,Py.kb="cljs.pprint/t_cljs$pprint21753",Py.ub=function(f){return Jd(f,"cljs.pprint/t_cljs$pprint21753")};return new Py(a,
b,c,d,e,W)}function mE(a,b){var c=ic;b=new OD(lr.B(y(y(c))),null,Ch(0),Ch(0),Ch(!1),Ch(!1),a,null,b,null,null,null,null);Eh.P(y(c),R,lr,b);if(D.j(Ny.B(y(y(c))),Fr)){hE(c);var d=pB.B(y(y(c)));r(d)&&(d.B?d.B(xn):d.call(null,xn));r(a)&&Jd(Fp.B(y(y(c))),a);c=KD(Fp.B(y(y(c))),Rs);Dh(b.vb,c);Dh(b.indent,c)}else d=$s.B(y(y(c))),a=d+(r(a)?M(a):0),Eh.P(y(c),R,$s,a),gE(c,new SD(Mm,b,d,a,null,null,null))}
function nE(){var a=ic,b=lr.B(y(y(a))),c=xA.B(b);if(D.j(Ny.B(y(y(a))),Fr)){hE(a);r(c)&&Jd(Fp.B(y(y(a))),c);var d=pB.B(y(y(a)));r(d)&&(d.B?d.B(Ax):d.call(null,Ax))}else d=$s.B(y(y(a))),c=d+(r(c)?M(c):0),Eh.P(y(a),R,$s,c),gE(a,new TD(pC,b,d,c,null,null,null));Eh.P(y(a),R,lr,Mr.B(b))}var oE=!0,pE=null,kE=72,lE=40,qE=null,rE=null,sE=null,tE=null,uE=10,vE=0,wE=null;function xE(a){return(null!=a?a.J&32768||l===a.ug||(a.J?0:Ac(od,a)):Ac(od,a))?vt.B(y(y(a))):!1}
function yE(a){var b=wE;r(b)&&(b=mc,b=r(b)?wE>=mc:b);yc(oE)?CD.call(null,a):r(b)?Jd(ic,"..."):(r(wE)&&(wE+=1),pE.call(null,a));return b}var zE=function zE(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return zE.F(arguments[0],c)};
zE.F=function(a,b){var c=lk.F(P([new q(null,1,[WB,!0],null),gh(hk,b)]));b=uE;var d=rE,e=mc,f=nc,h=qE,k=lE,m=pE,n=oE,p=tE,u=lc,w=kE,z=sE,F=Fp.j(c,uE),H=tn.j(c,rE),G=Un.j(c,mc),N=vm.j(c,nc),O=Ev.j(c,qE),U=dz.j(c,lE),ea=yz.j(c,pE),va=Bt.j(c,oE),xa=Yt.j(c,tE),ya=qc.j(c,lc),Ta=$o.j(c,kE),ka=Jr.j(c,sE);uE=F;rE=H;mc=G;nc=N;qE=O;lE=U;pE=ea;oE=va;tE=xa;lc=ya;kE=Ta;sE=ka;try{var pa=new dc,Ca=Nf(c,WB)?WB.B(c):!0,ua=!0===Ca||null==Ca?new je(pa):Ca;if(r(oE)){var Ba=yc(xE(ua));c=ic;ic=Ba?jE(ua):ua;try{yE(a),JD()}finally{ic=
c}}else{Ba=ic;ic=ua;try{CD.call(null,a)}finally{ic=Ba}}!0===Ca&&Vk(t.B(pa));return null==Ca?t.B(pa):null}finally{sE=z,kE=w,lc=u,tE=p,oE=n,pE=m,lE=k,qE=h,nc=f,mc=e,rE=d,uE=b}};zE.T=1;zE.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function AE(){var a=new X(null,6,5,Z,[qr,new X(null,2,5,Z,[Cg(Qw,UB,new X(null,1,5,Z,[Cs],null)),nv],null),KB,Pp,rp,new X(null,2,5,Z,[UB,ZB],null)],null);var b=y(BE);a=CE.j?CE.j(a,b):CE.call(null,a,b);b=new dc;var c=ic;ic=new je(b);try{var d=ic,e=yc(xE(d)),f=ic;ic=e?jE(d):d;try{e=oE;oE=!0;try{yE(a)}finally{oE=e}D.j(0,KD(ic,Rs))||Jd(ic,"\n");JD()}finally{ic=f}Vk(t.B(b))}finally{ic=c}}
function DE(a,b){if(yc(b.B?b.B(a):b.call(null,a)))throw Error(["Bad argument: ",t.B(a),". It must be one of ",t.B(b)].join(""));}function EE(){var a=nc;return r(a)?vE>=nc:a}function FE(a){DE(a,new qk(null,new q(null,4,[Qn,null,Yz,null,Rt,null,wv,null],null),null));var b=ic;Eh.P(y(b),R,Ny,Go);var c=$s.B(y(y(b))),d=lr.B(y(y(b)));gE(b,new RD(iy,a,d,c,c,null,null,null))}
function GE(a,b){DE(a,new qk(null,new q(null,2,[iu,null,Er,null],null),null));var c=ic,d=lr.B(y(y(c)));if(D.j(Ny.B(y(y(c))),Fr)){hE(c);var e=dC.B(d);if(r(D.j?D.j(iu,a):D.call(null,iu,a)))a=y(Hr.B(d));else if(r(D.j?D.j(Er,a):D.call(null,Er,a)))a=KD(Fp.B(y(y(c))),Rs);else throw Error(["No matching clause: ",t.B(a)].join(""));Dh(e,b+a)}else e=$s.B(y(y(c))),gE(c,new UD(fx,d,a,b,e,e,null,null,null))}
function HE(a,b,c){b="string"===typeof b?IE(b):b;c=JE(c);a:{var d=new dc,e=yc(a)||!0===a?new je(d):a,f=KE(b)&&yc(xE(e))?r(xE(e))?e:jE(e):e,h=ic;ic=f;try{try{LE(b,c)}finally{e!==f&&Kd(f)}var k=yc(a)?t.B(d):!0===a?Vk(t.B(d)):null;break a}finally{ic=h}k=void 0}return k}var ME=null;function NE(a,b){a=[t.B(a),"\n",t.B(ME),"\n",t.B(gh(t,Sh(b," "))),"^\n"].join("");throw Error(a);}function OE(a,b,c,d,e,f){this.Uc=a;this.rest=b;this.pos=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=OE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "seq":return this.Uc;case "rest":return this.rest;case "pos":return this.pos;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[pp,this.Uc],null),new X(null,2,5,Z,[wu,this.rest],null),new X(null,2,5,Z,[$s,this.pos],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[pp,wu,$s],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-402038447^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Uc,b.Uc)&&D.j(this.rest,b.rest)&&D.j(this.pos,b.pos)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[$s,null,pp,null,wu,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new OE(this.Uc,this.rest,this.pos,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(pp,b):T.call(null,pp,b))?new OE(c,this.rest,this.pos,this.G,this.D,null):r(T.j?T.j(wu,b):T.call(null,wu,b))?new OE(this.Uc,c,this.pos,this.G,this.D,null):r(T.j?T.j($s,b):T.call(null,$s,b))?new OE(this.Uc,this.rest,c,this.G,this.D,null):new OE(this.Uc,this.rest,this.pos,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(pp,this.Uc),new Y(wu,this.rest),new Y($s,this.pos)],null),this.D))};
g.fa=function(a,b){return new OE(this.Uc,this.rest,this.pos,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function JE(a){a=E(a);return new OE(a,a,0,null,null,null)}function PE(a){var b=wu.B(a);if(r(b))return new X(null,2,5,Z,[J(b),new OE(pp.B(a),K(b),$s.B(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function QE(a){var b=PE(a);a=Q(b,0,null);b=Q(b,1,null);a="string"===typeof a?IE(a):a;return new X(null,2,5,Z,[a,b],null)}function RE(a,b){return b>=$s.B(a)?(b=$s.B(a)-b,SE.j?SE.j(a,b):SE.call(null,a,b)):new OE(pp.B(a),Nh(b,pp.B(a)),b,null,null,null)}function SE(a,b){var c=$s.B(a)+b;return 0>b?RE(a,c):new OE(pp.B(a),Nh(b,wu.B(a)),c,null,null,null)}function TE(a,b,c,d,e,f,h){this.Fc=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.Y=139264}g=TE.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "func":return this.Fc;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[bx,this.Fc],null),new X(null,2,5,Z,[uo,this.def],null),new X(null,2,5,Z,[mu,this.params],null),new X(null,2,5,Z,[zu,this.offset],null)],null),this.D))};g.oa=function(){return new Xi(this,4,new X(null,4,5,Z,[bx,uo,mu,zu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-829256337^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Fc,b.Fc)&&D.j(this.def,b.def)&&D.j(this.params,b.params)&&D.j(this.offset,b.offset)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,4,[zu,null,bx,null,mu,null,uo,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new TE(this.Fc,this.def,this.params,this.offset,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(bx,b):T.call(null,bx,b))?new TE(c,this.def,this.params,this.offset,this.G,this.D,null):r(T.j?T.j(uo,b):T.call(null,uo,b))?new TE(this.Fc,c,this.params,this.offset,this.G,this.D,null):r(T.j?T.j(mu,b):T.call(null,mu,b))?new TE(this.Fc,this.def,c,this.offset,this.G,this.D,null):r(T.j?T.j(zu,b):T.call(null,zu,b))?new TE(this.Fc,this.def,this.params,c,this.G,this.D,null):new TE(this.Fc,this.def,this.params,this.offset,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,4,5,Z,[new Y(bx,this.Fc),new Y(uo,this.def),new Y(mu,this.params),new Y(zu,this.offset)],null),this.D))};g.fa=function(a,b){return new TE(this.Fc,this.def,this.params,this.offset,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function UE(a,b){var c=Q(a,0,null);a=Q(a,1,null);var d=Q(a,0,null);a=Q(a,1,null);d=Nf(new qk(null,new q(null,2,[Gv,null,vz,null],null),null),c)?new X(null,2,5,Z,[d,b],null):D.j(d,Xz)?PE(b):D.j(d,Ks)?new X(null,2,5,Z,[M(wu.B(b)),b],null):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function VE(a,b){b=FD(UE,b,a);a=Q(b,0,null);b=Q(b,1,null);return new X(null,2,5,Z,[ai.j(W,a),b],null)}
var WE=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);function XE(a){return Mf(a)?D.j(uE,10)?[t.B(a),r(tE)?".":null].join(""):[t.B(r(tE)?function(){var b=B.j(WE,uE);return r(b)?b:["#",t.B(uE),"r"].join("")}():null),t.B(YE(uE,a))].join(""):null}
function ZE(a,b,c){c=PE(c);var d=Q(c,0,null);c=Q(c,1,null);var e=XE(d);a=r(e)?e:a.B?a.B(d):a.call(null,d);d=a.length;e=d+Ov.B(b);e=e>=AB.B(b)?e:e+(ug(AB.B(b)-e-1,or.B(b))+1)*or.B(b);d=gh(t,Sh(e-d,ws.B(b)));r(vz.B(b))?BD.F(P([[t.B(d),t.B(a)].join("")])):BD.F(P([[t.B(a),t.B(d)].join("")]));return c}function $E(a,b){return Bg(J(GD(function(c){return 0<c?new X(null,2,5,Z,[vg(c,a),ug(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}
function YE(a,b){return 0===b?"0":gh(t,Lh.j(function(c){return 10>c?rg(ED("0")+c):rg(ED("a")+(c-10))},$E(a,b)))}function aF(a,b){return Bg(J(GD(function(c){return new X(null,2,5,Z,[E(Bg(Mh.j(a,c))),E(Nh(a,c))],null)},Bg(b))))}
function bF(a,b,c){c=PE(c);var d=Q(c,0,null);c=Q(c,1,null);if(Mf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.j(d,Math.floor(d))){var e=0>d,f=YE(a,e?-d:d);a=r(Gv.B(b))?function(){var h=Lh.j(function(m){return gh(t,m)},aF(it.B(b),f)),k=Sh(M(h),Bu.B(b));return gh(t,K(Vh.j(k,h)))}():f;a=e?["-",t.B(a)].join(""):r(vz.B(b))?["+",t.B(a)].join(""):a;a=a.length<AB.B(b)?[t.B(gh(t,Sh(AB.B(b)-a.length,ws.B(b)))),t.B(a)].join(""):a;BD.F(P([a]))}else ZE(il,new q(null,5,[AB,
AB.B(b),or,1,Ov,0,ws,ws.B(b),vz,!0],null),JE(new X(null,1,5,Z,[d],null)));return c}
var cF=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),dF=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),eF=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),fF=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),gF=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function hF(a){var b=ug(a,100),c=vg(a,100);return[0<b?[t.B($e(cF,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?$e(cF,c):function(){var d=ug(c,10),e=vg(c,10);return[t.B(0<d?$e(eF,d):null),0<d&&0<e?"-":null,t.B(0<e?$e(cF,e):null)].join("")}():null)].join("")}
function iF(a,b){var c=M(a),d=of;--c;var e=J(a);for(a=K(a);;){if(null==a)return[t.B(gh(t,Nh(1,Vh.j(Rh(", "),d)))),yf(e)||yf(d)?null:", ",t.B(e),!yf(e)&&0<c+b?[" ",t.B($e(gF,c+b))].join(""):null].join("");d=yf(e)?d:nf.j(d,[t.B(e)," ",t.B($e(gF,c+b))].join(""));--c;e=J(a);a=K(a)}}
function jF(a){var b=ug(a,100),c=vg(a,100);return[0<b?[t.B($e(cF,b))," hundred"].join(""):null,0<b&&0<c?" ":null,t.B(0<c?20>c?$e(dF,c):function(){var d=ug(c,10),e=vg(c,10);return 0<d&&!(0<e)?$e(fF,d):[t.B(0<d?$e(eF,d):null),0<d&&0<e?"-":null,t.B(0<e?$e(dF,e):null)].join("")}():0<b?"th":null)].join("")}
var kF=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),lF=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function mF(a,b){b=PE(b);var c=Q(b,0,null);b=Q(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=$E(10,c);c=of;for(var e=M(d)-1;;)if(yf(d)){BD.F(P([gh(t,c)]));break}else{var f=J(d);c=D.j(0,f)?c:nf.j(c,$e($e(a,e),f-1));--e;d=K(d)}}else bF(10,new q(null,5,[AB,0,ws," ",Bu,",",it,3,Gv,!0],null),JE(new X(null,1,5,Z,[c],null)));return b}var nF=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function oF(a,b){a=PE(b);b=Q(a,0,null);a=Q(a,1,null);var c=ED(b);b=c&127;c&=128;var d=B.j(nF,b);0<c&&BD.F(P(["Meta-"]));BD.F(P([r(d)?d:32>b?["Control-",t.B(rg(b+64))].join(""):D.j(b,127)?"Control-?":rg(b)]));return a}
function pF(a,b){var c=PE(b);b=Q(c,0,null);c=Q(c,1,null);a=Jy.B(a);if(r(D.j?D.j("o",a):D.call(null,"o",a)))HE(!0,"\\o~3, '0o",P([ED(b)]));else if(r(D.j?D.j("u",a):D.call(null,"u",a)))HE(!0,"\\u~4, '0x",P([ED(b)]));else if(r(D.j?D.j(null,a):D.call(null,null,a)))Jd(ic,r(D.j?D.j("\b",b):D.call(null,"\b",b))?"\\backspace":r(D.j?D.j(" ",b):D.call(null," ",b))?"\\space":r(D.j?D.j("\t",b):D.call(null,"\t",b))?"\\tab":r(D.j?D.j("\n",b):D.call(null,"\n",b))?"\\newline":r(D.j?D.j("\f",b):D.call(null,"\f",b))?
"\\formfeed":r(D.j?D.j("\r",b):D.call(null,"\r",b))?"\\return":r(D.j?D.j('"',b):D.call(null,'"',b))?'\\"':r(D.j?D.j("\\",b):D.call(null,"\\",b))?"\\\\":["\\",t.B(b)].join(""));else throw Error(["No matching clause: ",t.B(a)].join(""));return c}function qF(a,b){b=PE(b);a=Q(b,0,null);b=Q(b,1,null);BD.F(P([a]));return b}function rF(a){a=J(a);return D.j(iB,a)||D.j(Lx,a)}
function sF(a,b,c){return kf(FD(function(d,e){if(rF(e))return new X(null,2,5,Z,[null,e],null);e=VE(mu.B(d),e);var f=Q(e,0,null);e=Q(e,1,null);var h=HD(f);f=Q(h,0,null);h=Q(h,1,null);f=R.C(f,jo,c);return new X(null,2,5,Z,[null,gh(bx.B(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function tF(a){a=t.B(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.B(a.length-1)],null):new X(null,2,5,Z,[[yg.C(a,0,c),yg.j(a,c+1)].join(""),t.B(c-1)],null):0>c?new X(null,2,5,Z,[yg.C(a,0,b),yg.j(a,b+1)],null):new X(null,2,5,Z,[[yg.C(a,0,1),yg.C(a,2,b)].join(""),yg.j(a,b+1)],null);b=Q(a,0,null);a=Q(a,1,null);a:if(c=M(b),0<c&&D.j($e(b,M(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.j($e(b,c),"0"))--c;else{b=yg.C(b,0,c+1);break a}}a:{c=b;var d=M(c);if(0<d&&
D.j($e(c,0),"0"))for(var e=0;;){if(D.j(e,d)||!D.j($e(c,e),"0")){c=yg.j(c,e);break a}e+=1}}b=M(b)-M(c);a=0<M(a)&&D.j($e(a,0),"+")?yg.j(a,1):a;return yf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function uF(a,b,c,d){if(r(r(c)?c:d)){var e=M(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.j(c,0)?new X(null,4,5,Z,[["0",t.B(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=Q(f,0,null);e=Q(f,1,null);d=Q(f,2,null);f=Q(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=$e(c,d);a=yg.C(c,0,d);if(ED(b)>=ED("5")){a:for(b=M(a)-1,c=b|0;;){if(0>c){b=hh(t,"1",Sh(b+1,"0"));break a}if(D.j("9",a.charAt(c)))--c;else{b=ih(t,yg.C(a,0,c),rg(ED(a.charAt(c))+
1),Sh(b-c,"0"));break a}}a=M(b)>a.length;return new X(null,3,5,Z,[a?yg.C(b,0,M(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function vF(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.B(gh(t,Sh(-b-1,"0"))),t.B(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=Q(d,0,null);var e=Q(d,1,null);d=M(a);c=r(c)?e+c+1:e+1;c=d<c?[t.B(a),t.B(gh(t,Sh(c-d,"0")))].join(""):a;0>b?b=[".",t.B(c)].join(""):(b+=1,b=[yg.C(c,0,b),".",yg.j(c,b)].join(""));return b}
function wF(a,b){return 0>b?[".",t.B(a)].join(""):[yg.C(a,0,b),".",yg.j(a,b)].join("")}
function xF(a,b){var c=Tw.B(a),d=Nw.B(a);b=PE(b);var e=Q(b,0,null);b=Q(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=Q(f,0,null);f=Q(f,1,null);f=tF(f);var k=Q(f,0,null),m=Q(f,1,null)+Hw.B(a);f=vz.B(a);e=r(f)?f:0>e;f=yc(d)&&M(k)-1<=m;var n=uF(k,m,d,r(c)?c-(r(e)?1:0):null);k=Q(n,0,null);m=Q(n,1,null);n=Q(n,2,null);k=vF(k,r(n)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&D.j(k.charAt(0),"0")&&D.j(k.charAt(1),".")&&k.length>c-(r(e)?1:0):d:c)?yg.j(k,1):k;m=D.j(J(d),".");r(c)?(k=
d.length,k=r(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,r(k>c?tB.B(a):!1)?BD.F(P([gh(t,Sh(c,tB.B(a)))])):BD.F(P([[t.B(gh(t,Sh(c-k,ws.B(a)))),t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):BD.F(P([[t.B(r(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function yF(a,b){b=PE(b);var c=Q(b,0,null);b=Q(b,1,null);var d=tF(0>c?-c:c);Q(d,0,null);for(Q(d,1,null);;){var e=Q(d,0,null),f=Q(d,1,null),h=Tw.B(a),k=Nw.B(a),m=Kw.B(a),n=Hw.B(a),p=function(){var G=ep.B(a);return r(G)?G:"E"}();d=function(){var G=vz.B(a);return r(G)?G:0>c}();var u=0>=n,w=f-(n-1),z=t.B(Math.abs(w));p=[t.B(p),0>w?"-":"+",t.B(r(m)?gh(t,Sh(m-z.length,"0")):null),z].join("");var F=p.length;w=M(e);e=[t.B(gh(t,Sh(-n,"0"))),t.B(e),t.B(r(k)?gh(t,Sh(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=r(h)?h-F:null;e=uF(e,0,D.j(n,0)?k-1:0<n?k:0>n?k-1:null,r(w)?w-(r(d)?1:0):null);w=Q(e,0,null);Q(e,1,null);z=Q(e,2,null);e=wF(w,n);k=D.j(n,M(w))&&null==k;if(yc(z)){if(r(h)){f=e.length+F;f=r(d)?f+1:f;var H=(u=u&&!D.j(f,h))?f+1:f;f=k&&H<h;r(function(){var G=H>h;G||(G=m,G=r(G)?F-2>m:G);return r(G)?tB.B(a):G}())?BD.F(P([gh(t,Sh(h,tB.B(a)))])):BD.F(P([[t.B(gh(t,Sh(h-H-(f?1:0),ws.B(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else BD.F(P([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[w,f+1],null)}return b}function zF(a,b,c){var d=PE(b),e=Q(d,0,null);Q(d,1,null);d=tF(0>e?-e:e);var f=Q(d,0,null);d=Q(d,1,null);var h=Tw.B(a),k=Nw.B(a),m=Kw.B(a);d=D.j(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=M(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=xF(new q(null,6,[Tw,h,Nw,d,Hw,0,tB,tB.B(a),ws,ws.B(a),vz,vz.B(a)],null),b,c),BD.F(P([gh(t,Sh(e," "))])),a):yF(a,b,c)}
function AF(a,b){b=PE(b);var c=Q(b,0,null);b=Q(b,1,null);var d=tF(Math.abs(c)),e=Q(d,0,null),f=Q(d,1,null),h=Nw.B(a),k=$w.B(a);d=Tw.B(a);var m=function(){var p=vz.B(a);return r(p)?p:0>c}(),n=uF(e,f,h,null);e=Q(n,0,null);f=Q(n,1,null);n=Q(n,2,null);h=vF(e,r(n)?f+1:f,h);k=[t.B(gh(t,Sh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);BD.F(P([[r(function(){var p=Gv.B(a);return r(p)?m:p}())?0>c?"-":"+":null,t.B(gh(t,Sh(d-h,ws.B(a)))),r(yc(Gv.B(a))?m:!1)?0>c?"-":"+":null,k].join("")]));return b}
function BF(a,b){var c=Vz.B(a);c=r(c)?new X(null,2,5,Z,[c,b],null):PE(b);b=Q(c,0,null);c=Q(c,1,null);var d=Zy.B(a);b=0>b||b>=M(d)?J(ju.B(a)):$e(d,b);return r(b)?sF(b,c,jo.B(a)):c}function CF(a,b){var c=PE(b);b=Q(c,0,null);c=Q(c,1,null);var d=Zy.B(a);b=r(b)?kf(d):J(d);return r(b)?sF(b,c,jo.B(a)):c}function DF(a,b){var c=PE(b),d=Q(c,0,null);c=Q(c,1,null);var e=Zy.B(a);e=r(d)?J(e):null;return r(d)?r(e)?sF(e,b,jo.B(a)):b:c}
function EF(a,b){var c=MB.B(a),d=J(Zy.B(a));d=yf(d)?QE(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=PE(d);var e=Q(d,0,null);d=Q(d,1,null);var f=0;e=JE(e);for(var h=-1;;){if(yc(c)&&D.j($s.B(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=yf(wu.B(e))&&(yc(Gv.B(Rp.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=sF(b,e,jo.B(a));if(D.j(iB,J(h)))return d;f+=1;var k=$s.B(e);e=h;h=k}}
function FF(a,b){var c=MB.B(a),d=J(Zy.B(a));d=yf(d)?QE(b):new X(null,2,5,Z,[d,b],null);b=Q(d,0,null);d=Q(d,1,null);d=PE(d);var e=Q(d,0,null);d=Q(d,1,null);for(var f=0;;){var h=yf(e)&&(yc(Gv.B(Rp.B(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=sF(b,JE(J(e)),JE(K(e)));if(D.j(Lx,J(h)))return d;f+=1;e=K(e)}}
function GF(a,b){var c=MB.B(a),d=J(Zy.B(a)),e=yf(d)?QE(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;e=Q(e,1,null);for(var f=-1;;){if(yc(c)&&D.j($s.B(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=yf(wu.B(e))&&(yc(Gv.B(Rp.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=sF(b,e,jo.B(a));if(D.j(iB,J(f)))return kf(f);d+=1;var h=$s.B(e);e=f;f=h}}
function HF(a,b){var c=MB.B(a),d=J(Zy.B(a)),e=yf(d)?QE(b):new X(null,2,5,Z,[d,b],null);b=Q(e,0,null);d=0;for(e=Q(e,1,null);;){var f=yf(wu.B(e))&&(yc(Gv.B(Rp.B(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=wu.B(e);f=r(f)?new X(null,2,5,Z,[J(f),new OE(pp.B(e),K(f),$s.B(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=Q(f,0,null);f=Q(f,1,null);e=sF(b,JE(e),f);if(D.j(Lx,J(e)))return f;e=f;d+=1}}
function IF(a,b){if(r(Gv.B(Rp.B(a)))){var c=Zy.B(a),d=M(c),e=1<d?Wm.B(mu.B(J(J(c)))):r(Gv.B(a))?"(":null,f=$e(c,1<d?1:0);c=2<d?Wm.B(mu.B(J($e(c,2)))):r(Gv.B(a))?")":null;d=PE(b);b=Q(d,0,null);d=Q(d,1,null);if(r(EE()))Jd(ic,"#");else{var h=vE,k=wE;vE+=1;wE=0;try{mE(e,c),sF(f,JE(b),jo.B(a)),nE()}finally{wE=k,vE=h}}a=d}else a=JF(a,b);return a}
function KF(a,b,c){for(var d=of;;){if(yf(a))return new X(null,2,5,Z,[d,b],null);var e=J(a);a:{var f=new dc,h=ic;ic=new je(f);try{var k=new X(null,2,5,Z,[sF(e,b,c),t.B(f)],null);break a}finally{ic=h}k=void 0}b=Q(k,0,null);e=Q(k,1,null);if(D.j(iB,J(b)))return new X(null,2,5,Z,[d,kf(b)],null);a=K(a);d=nf.j(d,e)}}
function JF(a,b){var c=function(){var O=ju.B(a);return r(O)?KF(O,b,jo.B(a)):null}(),d=Q(c,0,null);d=Q(d,0,null);c=Q(c,1,null);var e=r(c)?c:b;c=function(){var O=mC.B(a);return r(O)?VE(O,e):null}();var f=Q(c,0,null);c=Q(c,1,null);var h=r(c)?c:e;c=function(){var O=J(xu.B(f));return r(O)?O:0}();var k=function(){var O=J(Oy.B(f));return r(O)?O:KD(ic,Qy)}(),m=Zy.B(a);h=KF(m,h,jo.B(a));var n=Q(h,0,null);h=Q(h,1,null);var p=function(){var O=M(n)-1+(r(Gv.B(a))?1:0)+(r(vz.B(a))?1:0);return 1>O?1:O}();m=v.j(hg,
Lh.j(M,n));var u=AB.B(a),w=Ov.B(a),z=or.B(a),F=m+p*w;u=F<=u?u:u+z*(1+ug(F-u-1,z));var H=u-m;m=function(){var O=ug(H,p);return w>O?w:O}();z=H-m*p;m=gh(t,Sh(m,ws.B(a)));r(r(d)?KD(Fp.B(y(y(ic))),Rs)+c+u>k:d)&&BD.F(P([d]));c=z;for(var G=n,N=function(){var O=Gv.B(a);return r(O)?O:D.j(M(G),1)&&yc(vz.B(a))}();;)if(E(G))BD.F(P([[t.B(yc(N)?J(G):null),t.B(r(function(){var O=N;return r(O)?O:(O=K(G))?O:vz.B(a)}())?m:null),t.B(0<c?ws.B(a):null)].join("")])),--c,G=d=r(N)?G:K(G),N=!1;else break;return h}
function LF(a){if("undefined"===typeof ec||"undefined"===typeof uD||"undefined"===typeof bz)bz=function(b,c){this.Wa=b;this.rj=c;this.J=1074135040;this.Y=0},bz.prototype.fa=function(b,c){return new bz(this.Wa,c)},bz.prototype.ea=function(){return this.rj},bz.prototype.Nc=function(){return Kd(this.Wa)},bz.prototype.qd=function(b,c){b=Bc(c);if(r(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.Wa,c.toLowerCase());if(r(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.Wa,rg(c).toLowerCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},bz.rb=!0,bz.kb="cljs.pprint/t_cljs$pprint23627",bz.ub=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23627")};return new bz(a,W)}
function MF(a){if("undefined"===typeof ec||"undefined"===typeof uD||"undefined"===typeof iz)iz=function(b,c){this.Wa=b;this.tj=c;this.J=1074135040;this.Y=0},iz.prototype.fa=function(b,c){return new iz(this.Wa,c)},iz.prototype.ea=function(){return this.tj},iz.prototype.Nc=function(){return Kd(this.Wa)},iz.prototype.qd=function(b,c){b=Bc(c);if(r(D.j?D.j(String,b):D.call(null,String,b)))return Jd(this.Wa,c.toUpperCase());if(r(D.j?D.j(Number,b):D.call(null,Number,b)))return Jd(this.Wa,rg(c).toUpperCase());
throw Error(["No matching clause: ",t.B(b)].join(""));},iz.rb=!0,iz.kb="cljs.pprint/t_cljs$pprint23659",iz.ub=function(b){return Jd(b,"cljs.pprint/t_cljs$pprint23659")};return new iz(a,W)}
function NF(a,b){var c=J(a);a=r(r(b)?r(c)?Lb(c):c:b)?[c.toUpperCase(),yg.j(a,1)].join(""):a;return gh(t,J(GD(function(d){if(yf(d))return new X(null,2,5,Z,[null,null],null);var e=/\W\w/g.exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[yg.C(d,0,e),$e(d,e).toUpperCase()].join(""),yg.j(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function OF(a){var b=Ch(!0);if("undefined"===typeof ec||"undefined"===typeof uD||"undefined"===typeof Wz)Wz=function(c,d,e){this.Wa=c;this.ve=d;this.uj=e;this.J=1074135040;this.Y=0},Wz.prototype.fa=function(c,d){return new Wz(this.Wa,this.ve,d)},Wz.prototype.ea=function(){return this.uj},Wz.prototype.Nc=function(){return Kd(this.Wa)},Wz.prototype.qd=function(c,d){c=Bc(d);if(r(D.j?D.j(String,c):D.call(null,String,c)))return Jd(this.Wa,NF(d.toLowerCase(),y(this.ve))),0<d.length?Dh(this.ve,vb($e(d,M(d)-
1))):null;if(r(D.j?D.j(Number,c):D.call(null,Number,c)))return d=rg(d),c=r(y(this.ve))?d.toUpperCase():d,Jd(this.Wa,c),Dh(this.ve,vb(d));throw Error(["No matching clause: ",t.B(c)].join(""));},Wz.rb=!0,Wz.kb="cljs.pprint/t_cljs$pprint23707",Wz.ub=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23707")};return new Wz(a,b,W)}
function PF(a){var b=Ch(!1);if("undefined"===typeof ec||"undefined"===typeof uD||"undefined"===typeof Zz)Zz=function(c,d,e){this.Wa=c;this.Wd=d;this.vj=e;this.J=1074135040;this.Y=0},Zz.prototype.fa=function(c,d){return new Zz(this.Wa,this.Wd,d)},Zz.prototype.ea=function(){return this.vj},Zz.prototype.Nc=function(){return Kd(this.Wa)},Zz.prototype.qd=function(c,d){c=Bc(d);if(r(D.j?D.j(String,c):D.call(null,String,c)))return d=d.toLowerCase(),yc(y(this.Wd))?(c=/\S/g.exec(d),c=r(c)?c.index:c,r(c)?(Jd(this.Wa,
[yg.C(d,0,c),$e(d,c).toUpperCase(),yg.j(d,c+1).toLowerCase()].join("")),Dh(this.Wd,!0)):Jd(this.Wa,d)):Jd(this.Wa,d.toLowerCase());if(r(D.j?D.j(Number,c):D.call(null,Number,c)))return d=rg(d),r(yc(y(this.Wd))?Lb(d):!1)?(Dh(this.Wd,!0),Jd(this.Wa,d.toUpperCase())):Jd(this.Wa,d.toLowerCase());throw Error(["No matching clause: ",t.B(c)].join(""));},Zz.rb=!0,Zz.kb="cljs.pprint/t_cljs$pprint23739",Zz.ub=function(c){return Jd(c,"cljs.pprint/t_cljs$pprint23739")};return new Zz(a,b,W)}
function QF(a,b){var c=r(Gv.B(a))?Er:iu;GE(c,$w.B(a));return b}function RF(a,b){a=r(Gv.B(a))?r(vz.B(a))?Qn:Rt:r(vz.B(a))?Yz:wv;FE(a);return b}
var SF=Oj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[mp,"A",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),or,new X(null,2,5,Z,[1,Number],null),Ov,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,b){return ZE(il,a,b)}}],null),new q(null,5,[mp,"S",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),or,new X(null,2,5,Z,[1,Number],
null),Ov,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,b){return ZE(gl,a,b)}}],null),new q(null,5,[mp,"D",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null),Bu,new X(null,2,5,Z,[",",String],null),it,new X(null,2,5,Z,[3,Number],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,
b){return bF(10,a,b)}}],null),new q(null,5,[mp,"B",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null),Bu,new X(null,2,5,Z,[",",String],null),it,new X(null,2,5,Z,[3,Number],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,b){return bF(2,a,b)}}],null),new q(null,5,[mp,"O",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null),Bu,new X(null,2,5,Z,[",",String],
null),it,new X(null,2,5,Z,[3,Number],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,b){return bF(8,a,b)}}],null),new q(null,5,[mp,"X",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null),Bu,new X(null,2,5,Z,[",",String],null),it,new X(null,2,5,Z,[3,Number],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,b){return bF(16,a,b)}}],
null),new q(null,5,[mp,"R",mu,new q(null,5,[Fp,new X(null,2,5,Z,[null,Number],null),AB,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null),Bu,new X(null,2,5,Z,[",",String],null),it,new X(null,2,5,Z,[3,Number],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(a){return r(J(Fp.B(a)))?function(b,c){return bF(Fp.B(b),b,c)}:r(function(){var b=vz.B(a);return r(b)?Gv.B(a):b}())?function(b,c){return mF(kF,c)}:r(vz.B(a))?function(b,c){return mF(lF,
c)}:r(Gv.B(a))?function(b,c){b=PE(c);c=Q(b,0,null);b=Q(b,1,null);if(D.j(0,c))BD.F(P(["zeroth"]));else{var d=$E(1E3,0>c?-c:c);if(M(d)<=M(gF)){var e=Lh.j(hF,Oh(1,d));e=iF(e,1);d=jF(mf(d));BD.F(P([[0>c?"minus ":null,yf(e)||yf(d)?yf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else bF(10,new q(null,5,[AB,0,ws," ",Bu,",",it,3,Gv,!0],null),JE(new X(null,1,5,Z,[c],null))),d=vg(c,100),c=11<d||19>d,d=vg(d,10),BD.F(P([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=PE(c);
b=Q(c,0,null);c=Q(c,1,null);if(D.j(0,b))BD.F(P(["zero"]));else{var d=$E(1E3,0>b?-b:b);M(d)<=M(gF)?(d=Lh.j(hF,d),d=iF(d,0),BD.F(P([[0>b?"minus ":null,d].join("")]))):bF(10,new q(null,5,[AB,0,ws," ",Bu,",",it,3,Gv,!0],null),JE(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[mp,"P",mu,W,Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return function(a,b){b=r(Gv.B(a))?SE(b,-1):b;a=r(vz.B(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],
null);var c=PE(b);b=Q(c,0,null);c=Q(c,1,null);BD.F(P([D.j(b,1)?J(a):kf(a)]));return c}}],null),new q(null,5,[mp,"C",mu,new q(null,1,[Jy,new X(null,2,5,Z,[null,String],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(a){return r(Gv.B(a))?oF:r(vz.B(a))?pF:qF}],null),new q(null,5,[mp,"F",mu,new q(null,5,[Tw,new X(null,2,5,Z,[null,Number],null),Nw,new X(null,2,5,Z,[null,Number],null),Hw,new X(null,2,5,Z,[0,Number],null),tB,new X(null,2,5,Z,[null,String],
null),ws,new X(null,2,5,Z,[" ",String],null)],null),Ox,new qk(null,new q(null,1,[vz,null],null),null),jA,W,nB,function(){return xF}],null),new q(null,5,[mp,"E",mu,new q(null,7,[Tw,new X(null,2,5,Z,[null,Number],null),Nw,new X(null,2,5,Z,[null,Number],null),Kw,new X(null,2,5,Z,[null,Number],null),Hw,new X(null,2,5,Z,[1,Number],null),tB,new X(null,2,5,Z,[null,String],null),ws,new X(null,2,5,Z,[" ",String],null),ep,new X(null,2,5,Z,[null,String],null)],null),Ox,new qk(null,new q(null,1,[vz,null],null),
null),jA,W,nB,function(){return yF}],null),new q(null,5,[mp,"G",mu,new q(null,7,[Tw,new X(null,2,5,Z,[null,Number],null),Nw,new X(null,2,5,Z,[null,Number],null),Kw,new X(null,2,5,Z,[null,Number],null),Hw,new X(null,2,5,Z,[1,Number],null),tB,new X(null,2,5,Z,[null,String],null),ws,new X(null,2,5,Z,[" ",String],null),ep,new X(null,2,5,Z,[null,String],null)],null),Ox,new qk(null,new q(null,1,[vz,null],null),null),jA,W,nB,function(){return zF}],null),new q(null,5,[mp,"$",mu,new q(null,4,[Nw,new X(null,
2,5,Z,[2,Number],null),$w,new X(null,2,5,Z,[1,Number],null),Tw,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null)],null),Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return AF}],null),new q(null,5,[mp,"%",mu,new q(null,1,[Yy,new X(null,2,5,Z,[1,Number],null)],null),Ox,sk,jA,W,nB,function(){return function(a,b){a=Yy.B(a);for(var c=0;;)if(c<a)DD(),c+=1;else break;return b}}],null),new q(null,5,[mp,"\x26",mu,new q(null,1,[Yy,new X(null,2,
5,Z,[1,Number],null)],null),Ox,new qk(null,new q(null,1,[Bt,null],null),null),jA,W,nB,function(){return function(a,b){a=Yy.B(a);0<a&&((null!=ic?ic.J&32768||l===ic.ug||(ic.J?0:Ac(od,ic)):Ac(od,ic))?D.j(0,KD(Fp.B(y(y(ic))),Rs))||DD():DD());--a;for(var c=0;;)if(c<a)DD(),c+=1;else break;return b}}],null),new q(null,5,[mp,"|",mu,new q(null,1,[Yy,new X(null,2,5,Z,[1,Number],null)],null),Ox,sk,jA,W,nB,function(){return function(a,b){a=Yy.B(a);for(var c=0;;)if(c<a)BD.F(P(["\f"])),c+=1;else break;return b}}],
null),new q(null,5,[mp,"~",mu,new q(null,1,[$w,new X(null,2,5,Z,[1,Number],null)],null),Ox,sk,jA,W,nB,function(){return function(a,b){a=$w.B(a);BD.F(P([gh(t,Sh(a,"~"))]));return b}}],null),new q(null,5,[mp,"\n",mu,W,Ox,new qk(null,new q(null,2,[Gv,null,vz,null],null),null),jA,W,nB,function(){return function(a,b){r(vz.B(a))&&DD();return b}}],null),new q(null,5,[mp,"T",mu,new q(null,2,[gA,new X(null,2,5,Z,[1,Number],null),or,new X(null,2,5,Z,[1,Number],null)],null),Ox,new qk(null,new q(null,2,[vz,null,
Bt,null],null),null),jA,W,nB,function(a){return r(vz.B(a))?function(b,c){var d=gA.B(b);b=or.B(b);var e=d+KD(Fp.B(y(y(ic))),Rs);e=0<b?vg(e,b):0;d+=D.j(0,e)?0:b-e;BD.F(P([gh(t,Sh(d," "))]));return c}:function(b,c){var d=gA.B(b);b=or.B(b);var e=KD(Fp.B(y(y(ic))),Rs);d=e<d?d-e:D.j(b,0)?0:b-vg(e-d,b);BD.F(P([gh(t,Sh(d," "))]));return c}}],null),new q(null,5,[mp,"*",mu,new q(null,1,[$w,new X(null,2,5,Z,[1,Number],null)],null),Ox,new qk(null,new q(null,2,[Gv,null,vz,null],null),null),jA,W,nB,function(){return function(a,
b){var c=$w.B(a);return r(vz.B(a))?RE(b,c):SE(b,r(Gv.B(a))?-c:c)}}],null),new q(null,5,[mp,"?",mu,W,Ox,new qk(null,new q(null,1,[vz,null],null),null),jA,W,nB,function(a){return r(vz.B(a))?function(b,c){var d=QE(c);c=Q(d,0,null);d=Q(d,1,null);return sF(c,d,jo.B(b))}:function(b,c){var d=QE(c);c=Q(d,0,null);d=Q(d,1,null);var e=PE(d);d=Q(e,0,null);e=Q(e,1,null);d=JE(d);sF(c,d,jo.B(b));return e}}],null),new q(null,5,[mp,"(",mu,W,Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,new q(null,
3,[Xq,")",Hx,null,ju,null],null),nB,function(a){var b=r(function(){var c=vz.B(a);return r(c)?Gv.B(a):c}())?MF:r(Gv.B(a))?OF:r(vz.B(a))?PF:LF;return function(c,d){a:{var e=J(Zy.B(c)),f=ic;ic=b.B?b.B(ic):b.call(null,ic);try{var h=sF(e,d,jo.B(c));break a}finally{ic=f}h=void 0}return h}}],null),new q(null,5,[mp,")",mu,W,Ox,sk,jA,W,nB,function(){return null}],null),new q(null,5,[mp,"[",mu,new q(null,1,[Vz,new X(null,2,5,Z,[null,Number],null)],null),Ox,new qk(null,new q(null,2,[Gv,null,vz,null],null),null),
jA,new q(null,3,[Xq,"]",Hx,!0,ju,Dw],null),nB,function(a){return r(Gv.B(a))?CF:r(vz.B(a))?DF:BF}],null),new q(null,5,[mp,";",mu,new q(null,2,[xu,new X(null,2,5,Z,[null,Number],null),Oy,new X(null,2,5,Z,[null,Number],null)],null),Ox,new qk(null,new q(null,1,[Gv,null],null),null),jA,new q(null,1,[ot,!0],null),nB,function(){return null}],null),new q(null,5,[mp,"]",mu,W,Ox,sk,jA,W,nB,function(){return null}],null),new q(null,5,[mp,"{",mu,new q(null,1,[MB,new X(null,2,5,Z,[null,Number],null)],null),Ox,
new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,new q(null,2,[Xq,"}",Hx,!1],null),nB,function(a){var b=vz.B(a);b=r(b)?Gv.B(a):b;return r(b)?HF:r(Gv.B(a))?FF:r(vz.B(a))?GF:EF}],null),new q(null,5,[mp,"}",mu,W,Ox,new qk(null,new q(null,1,[Gv,null],null),null),jA,W,nB,function(){return null}],null),new q(null,5,[mp,"\x3c",mu,new q(null,4,[AB,new X(null,2,5,Z,[0,Number],null),or,new X(null,2,5,Z,[1,Number],null),Ov,new X(null,2,5,Z,[0,Number],null),ws,new X(null,2,5,Z,[" ",String],null)],
null),Ox,new qk(null,new q(null,4,[Gv,null,vz,null,wx,null,Bt,null],null),null),jA,new q(null,3,[Xq,"\x3e",Hx,!0,ju,Tp],null),nB,function(){return IF}],null),new q(null,5,[mp,"\x3e",mu,W,Ox,new qk(null,new q(null,1,[Gv,null],null),null),jA,W,nB,function(){return null}],null),new q(null,5,[mp,"^",mu,new q(null,3,[WA,new X(null,2,5,Z,[null,Number],null),YA,new X(null,2,5,Z,[null,Number],null),UA,new X(null,2,5,Z,[null,Number],null)],null),Ox,new qk(null,new q(null,1,[Gv,null],null),null),jA,W,nB,function(){return function(a,
b){var c=WA.B(a),d=YA.B(a),e=UA.B(a),f=r(Gv.B(a))?Lx:iB;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?D.j(c,d)?new X(null,2,5,Z,[f,b],null):b:r(c)?D.j(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(Gv.B(a))?yf(wu.B(jo.B(a))):yf(wu.B(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[mp,"W",mu,W,Ox,new qk(null,new q(null,4,[Gv,null,vz,null,wx,null,Bt,null],null),null),jA,W,nB,function(a){if(r(function(){var c=vz.B(a);return r(c)?c:Gv.B(a)}())){var b=V.j(r(vz.B(a))?
new X(null,4,5,Z,[vm,null,Un,null],null):of,r(Gv.B(a))?new X(null,2,5,Z,[Bt,!0],null):of);return function(c,d){d=PE(d);c=Q(d,0,null);d=Q(d,1,null);return r(hh(zE,c,b))?new X(null,2,5,Z,[iB,d],null):d}}return function(c,d){d=PE(d);c=Q(d,0,null);d=Q(d,1,null);return r(yE(c))?new X(null,2,5,Z,[iB,d],null):d}}],null),new q(null,5,[mp,"_",mu,W,Ox,new qk(null,new q(null,3,[Gv,null,vz,null,wx,null],null),null),jA,W,nB,function(){return RF}],null),new q(null,5,[mp,"I",mu,new q(null,1,[$w,new X(null,2,5,Z,
[0,Number],null)],null),Ox,new qk(null,new q(null,1,[Gv,null],null),null),jA,W,nB,function(){return QF}],null)]),TF=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,UF=new qk(null,new q(null,2,[Ks,null,Xz,null],null),null);
function VF(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);a=new RegExp(TF.source,"g");var e=a.exec(b);return r(e)?(d=J(e),b=yg.j(b,a.lastIndex),a=c+a.lastIndex,D.j(",",$e(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[yg.j(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?NE("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function WF(a){var b=Q(a,0,null);a=Q(a,1,null);return new X(null,2,5,Z,[D.j(b.length,0)?null:D.j(b.length,1)&&Nf(new qk(null,new q(null,2,["V",null,"v",null],null),null),$e(b,0))?Xz:D.j(b.length,1)&&D.j("#",$e(b,0))?Ks:D.j(b.length,2)&&D.j("'",$e(b,0))?$e(b,1):parseInt(b,10),a],null)}var XF=new q(null,2,[":",Gv,"@",vz],null);
function YF(a,b){return GD(function(c){var d=Q(c,0,null),e=Q(c,1,null);c=Q(c,2,null);if(yf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=B.j(XF,J(d));return r(f)?Nf(c,f)?NE(['Flag "',t.B(J(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[yg.j(d,1),e+1,R.C(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function ZF(a,b){var c=Ox.B(a);r(yc(vz.B(c))?vz.B(b):!1)&&NE(['"@" is an illegal flag for format directive "',t.B(mp.B(a)),'"'].join(""),$e(vz.B(b),1));r(yc(Gv.B(c))?Gv.B(b):!1)&&NE(['":" is an illegal flag for format directive "',t.B(mp.B(a)),'"'].join(""),$e(Gv.B(b),1));r(yc(wx.B(c))?function(){var d=vz.B(b);return r(d)?Gv.B(b):d}():!1)&&NE(['Cannot combine "@" and ":" flags for format directive "',t.B(mp.B(a)),'"'].join(""),function(){var d=$e(Gv.B(b),1),e=$e(vz.B(b),1);return d<e?d:e}())}
function $F(a,b,c,d){ZF(a,c);M(b)>M(mu.B(a))&&NE(HE(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',P([mp.B(a),M(b),M(mu.B(a))])),kf(J(b)));Lk(Lh.C(function(e,f){var h=J(e);return null==h||Nf(UF,h)||D.j(kf(kf(f)),Bc(h))?null:NE(["Parameter ",Ig(J(f)),' has bad type in directive "',t.B(mp.B(a)),'": ',t.B(Bc(h))].join(""),kf(e))},b,mu.B(a)));return lk.F(P([ai.j(W,Bg(function(){return function h(f){return new Jg(null,function(){for(;;){var k=
E(f);if(k){if(Gf(k)){var m=$d(k),n=M(m),p=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u),z=Q(w,0,null);w=Q(w,1,null);w=Q(w,0,null);p.add(new X(null,2,5,Z,[z,new X(null,2,5,Z,[w,d],null)],null));u+=1}else{m=!0;break a}return m?Pg(Rg(p),h(ae(k))):Pg(Rg(p),null)}m=J(k);p=Q(m,0,null);m=Q(m,1,null);m=Q(m,0,null);return ff(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(De(k)))}return null}},null,null)}(mu.B(a))}())),v.C(function(e,f){return hh(R,e,f)},W,Zh(function(e){return J($e(e,1))},wk(cj(mu.B(a)),
b))),c]))}
function aG(a,b){b=GD(VF,new X(null,3,5,Z,[a,b,!1],null));a=Q(b,0,null);var c=Q(b,1,null);b=Q(c,0,null);c=Q(c,1,null);b=YF(b,c);Q(b,0,null);b=Q(b,1,null);var d=Q(b,0,null),e=Q(b,1,null);b=Q(b,2,null);c=J(d);var f=B.j(SF,c.toUpperCase()),h=r(f)?$F(f,Lh.j(WF,a),b,e):null;yc(c)&&NE("Format string ended in the middle of a directive",e);yc(f)&&NE(['Directive "',t.B(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new TE(function(){var k=nB.B(f);return k.j?k.j(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=yg.j(d,1),m=e+1;if(D.j("\n",mp.B(f))&&yc(Gv.B(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=zf(n)?tk(n):Pf([n]);for(var p=0;;){var u;(u=D.j(p,M(k)))||(u=$e(k,p),u=n.B?n.B(u):n.call(null,u),u=yc(u));if(u){n=p;break a}p+=1}}else n=0;k=yg.j(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function bG(a,b){return new TE(function(c,d){BD.F(P([a]));return d},null,new q(null,1,[Wm,a],null),b,null,null,null)}
function cG(a,b){var c=dG(jA.B(uo.B(a)),zu.B(a),b);b=Q(c,0,null);c=Q(c,1,null);return new X(null,2,5,Z,[new TE(bx.B(a),uo.B(a),lk.F(P([mu.B(a),ID(b,zu.B(a))])),zu.B(a),null,null,null),c],null)}
function eG(a,b,c){return GD(function(d){if(yf(d))return NE("No closing bracket found.",b);var e=J(d);d=K(d);if(r(Xq.B(jA.B(uo.B(e)))))e=cG(e,d);else if(D.j(Xq.B(a),mp.B(uo.B(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[bs,mu.B(e),null,d],null)],null);else{var f=ot.B(jA.B(uo.B(e)));f=r(f)?Gv.B(mu.B(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[ju,null,mu.B(e),d],null)],null):r(ot.B(jA.B(uo.B(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[ot,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function dG(a,b,c){return kf(GD(function(d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);var h=eG(a,b,d);d=Q(h,0,null);var k=Q(h,1,null);h=Q(k,0,null);var m=Q(k,1,null),n=Q(k,2,null);k=Q(k,3,null);return D.j(h,bs)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[mk.F(V,P([e,sf([r(f)?ju:Zy,new X(null,1,5,Z,[d],null),Rp,m])])),k],null)],null):D.j(h,ju)?r(ju.B(e))?NE('Two else clauses ("~:;") inside bracket construction.',b):yc(ju.B(a))?NE('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.j(Tp,ju.B(a))&&E(Zy.B(e))?NE('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.j(Tp,ju.B(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[mk.F(V,P([e,new q(null,2,[ju,new X(null,1,5,Z,[d],null),mC,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[mk.F(V,P([e,new q(null,1,[Zy,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):D.j(h,ot)?r(f)?NE('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):yc(Hx.B(a))?
NE('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[mk.F(V,P([e,new q(null,1,[Zy,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[Zy,of],null),!1,c],null)))}function fG(a){return J(GD(function(b){var c=J(b);b=K(b);var d=jA.B(uo.B(c));return r(Xq.B(d))?cG(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function IE(a){var b=ME;ME=a;try{return fG(J(GD(function(c){var d=Q(c,0,null);c=Q(c,1,null);if(yf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[bG(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?aG(yg.j(d,1),c+1):new X(null,2,5,Z,[bG(yg.C(d,0,e),c),new X(null,2,5,Z,[yg.j(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{ME=b}}
var KE=function KE(a){for(;;){if(yf(a))return!1;var c=Bt.B(Ox.B(uo.B(J(a))));r(c)||(c=sh(KE,J(Zy.B(mu.B(J(a))))),c=r(c)?c:sh(KE,J(ju.B(mu.B(J(a))))));if(r(c))return!0;a=K(a)}};function LE(a,b){FD(function(c,d){if(rF(d))return new X(null,2,5,Z,[null,d],null);d=VE(mu.B(c),d);var e=Q(d,0,null);d=Q(d,1,null);var f=HD(e);e=Q(f,0,null);f=Q(f,1,null);e=R.C(e,jo,d);return new X(null,2,5,Z,[null,gh(bx.B(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var gG=Jl(IE),hG=new q(null,6,[Ew,"'",ky,"#'",vs,"@",Jx,"~",Dn,"@",mo,"~"],null);function iG(a){var b=J(a);b=hG.B?hG.B(b):hG.call(null,b);return r(r(b)?D.j(2,M(a)):b)?(Jd(ic,b),yE(kf(a)),!0):null}function jG(a){if(r(EE()))Jd(ic,"#");else{var b=vE,c=wE;vE+=1;wE=0;try{mE("[","]");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(yE(J(e)),K(e))){Jd(ic," ");FE(wv);a=d+1;var f=K(e);d=a;e=f;continue}}else Jd(ic,"...");break}nE()}finally{wE=c,vE=b}}return null}
(function(){var a=gG("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=JE(d);return LE(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}()})();
function kG(a){var b=Df(a)?null:function(){var m=new xe(function(){return ml},Gw,Oj([mn,im,Jz,Nt,Vn,eB,Dm,cn,Nu,ny,Mv],[!0,om,gx,"cljs/core.cljs",15,1,10307,10307,Cg(new X(null,1,5,Z,[zq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(ml)?ml.Xi:null]));return m.B?m.B(a):m.call(null,a)}(),c=Q(b,0,null);b=Q(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.B(c),"{"].join(""):"{";if(r(EE()))Jd(ic,"#");else{c=vE;b=wE;vE+=1;wE=0;try{mE(e,"}");e=0;for(var f=E(d);;){if(yc(mc)||e<mc){if(f){if(r(EE()))Jd(ic,
"#");else{d=vE;var h=wE;vE+=1;wE=0;try{mE(null,null),yE(lf(f)),Jd(ic," "),FE(wv),wE=0,yE(J(K(J(f)))),nE()}finally{wE=h,vE=d}}if(K(f)){Jd(ic,", ");FE(wv);d=e+1;var k=K(f);e=d;f=k;continue}}}else Jd(ic,"...");break}nE()}finally{wE=b,vE=c}}return null}function lG(a){return Jd(ic,gl.F(P([a])))}
var mG=function(){var a=gG("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=JE(d);return LE(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}()}(),nG=new q(null,2,["core$future_call","Future","core$promise","Promise"],null);
function oG(a){var b=Nk(/^[^$]+\$[^$]+/,a);b=r(b)?nG.B?nG.B(b):nG.call(null,b):null;return r(b)?b:a}var pG=function(){var a=gG("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=JE(d);return LE(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}()}();
function qG(a){return a instanceof Si?Pz:(null!=a?a.J&32768||l===a.ug||(a.J?0:Ac(od,a)):Ac(od,a))?JB:a instanceof A?cx:Jf(a)?ZA:Cf(a)?Gy:Ff(a)?yx:Af(a)?tp:null==a?null:am}var rG,nA=Ch(W),qA=Ch(W),zC=Ch(W),BC=Ch(W),HC=B.C(W,Iw,Ol.O?Ol.O():Ol.call(null));rG=new $l(we.j(ba,"simple-dispatch"),qG,HC,nA,qA,zC,BC);
Yl(rG,ZA,function(a){if(yc(iG(a)))if(r(EE()))Jd(ic,"#");else{var b=vE,c=wE;vE+=1;wE=0;try{mE("(",")");for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(yE(J(e)),K(e))){Jd(ic," ");FE(wv);a=d+1;var f=K(e);d=a;e=f;continue}}else Jd(ic,"...");break}nE()}finally{wE=c,vE=b}}return null});Yl(rG,yx,jG);Yl(rG,Gy,kG);Yl(rG,tp,mG);Yl(rG,null,function(){return Jd(ic,gl.F(P([null])))});Yl(rG,am,lG);pE=rG;function xG(a){return Ff(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function yG(a){if(Bf(a)){var b=xG(a),c=Q(b,0,null),d=Q(b,1,null),e=E(a),f=J(e),h=K(e);if(r(EE()))Jd(ic,"#");else{var k=vE,m=wE,n=vE+1;vE=n;wE=0;try{mE(c,d);(function(){var xa=gG("~w~:i");return function(){function ya(ka){var pa=null;if(0<arguments.length){pa=0;for(var Ca=Array(arguments.length-0);pa<Ca.length;)Ca[pa]=arguments[pa+0],++pa;pa=new I(Ca,0,null)}return Ta.call(this,pa)}function Ta(ka){ka=JE(ka);return LE(xa,ka)}ya.T=0;ya.ba=function(ka){ka=E(ka);return Ta(ka)};ya.F=Ta;return ya}()})()(f);
for(var p=h;;)if(E(p)){(function(){var xa=gG(" ");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=JE(ua);return LE(ka,ua)}pa.T=0;pa.ba=function(ua){ua=E(ua);return Ca(ua)};pa.F=Ca;return pa}()}(p," ",xa,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=J(p);if(Bf(u)){var w=xG(u),z=Q(w,0,null),F=Q(w,1,null);if(r(EE()))Jd(ic,
"#");else{var H=vE,G=wE,N=vE+1;vE=N;wE=0;try{mE(z,F);if(D.j(M(u),3)&&kf(u)instanceof C){var O=u,U=Q(O,0,null),ea=Q(O,1,null),va=Q(O,2,null);(function(){var xa=gG("~w ~w ");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=JE(ua);return LE(ka,ua)}pa.T=0;pa.ba=function(ua){ua=E(ua);return Ca(ua)};pa.F=Ca;return pa}()}(p,
"~w ~w ",xa,O,U,ea,va,H,G,N,0,w,z,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);Bf(va)?function(){var xa=Ff(va)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",ya="string"===typeof xa?gG(xa):xa;return function(Ta,ka,pa){return function(){function Ca(Ba){var Ya=null;if(0<arguments.length){Ya=0;for(var bc=Array(arguments.length-0);Ya<bc.length;)bc[Ya]=arguments[Ya+0],++Ya;Ya=new I(bc,0,null)}return ua.call(this,Ya)}function ua(Ba){Ba=JE(Ba);return LE(pa,Ba)}Ca.T=0;Ca.ba=function(Ba){Ba=
E(Ba);return ua(Ba)};Ca.F=ua;return Ca}()}(p,xa,ya,O,U,ea,va,H,G,N,0,w,z,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(va):yE(va)}else gh(function(){var xa=gG("~w ~:i~@{~w~^ ~:_~}");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=JE(ua);return LE(ka,ua)}pa.T=0;pa.ba=function(ua){ua=E(ua);return Ca(ua)};pa.F=Ca;return pa}()}(p,
"~w ~:i~@{~w~^ ~:_~}",xa,H,G,N,0,w,z,F,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);nE()}finally{wE=G,vE=H}}K(p)&&function(){var xa=gG("~_");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=JE(ua);return LE(ka,ua)}pa.T=0;pa.ba=function(ua){ua=E(ua);return Ca(ua)};pa.F=Ca;return pa}()}(p,"~_",xa,w,z,F,u,k,m,n,0,b,c,d,
a,e,f,h,f,h)}()()}else yE(u),K(p)&&function(){var xa=gG("~:_");return function(ya,Ta,ka){return function(){function pa(ua){var Ba=null;if(0<arguments.length){Ba=0;for(var Ya=Array(arguments.length-0);Ba<Ya.length;)Ya[Ba]=arguments[Ba+0],++Ba;Ba=new I(Ya,0,null)}return Ca.call(this,Ba)}function Ca(ua){ua=JE(ua);return LE(ka,ua)}pa.T=0;pa.ba=function(ua){ua=E(ua);return Ca(ua)};pa.F=Ca;return pa}()}(p,"~:_",xa,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=K(p)}else break;nE()}finally{wE=m,vE=k}}}else yE(a)}
var zG=function(){var a=gG("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=JE(d);return LE(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}()}();
function AG(a,b){E(a)&&(r(b)?function(){var c=gG(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){f=JE(f);return LE(c,f)}d.T=0;d.ba=function(f){f=E(f);return e(f)};d.F=e;return d}()}()():function(){var c=gG(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){f=JE(f);return LE(c,f)}d.T=0;d.ba=function(f){f=E(f);return e(f)};d.F=e;return d}()}()(),function(){var c=gG("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new I(k,0,null)}return e.call(this,h)}function e(f){f=JE(f);return LE(c,f)}d.T=0;d.ba=function(f){f=E(f);return e(f)};d.F=e;return d}()}()(a))}
function BG(a){E(a)&&function(){var b=gG(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new I(h,0,null)}return d.call(this,f)}function d(e){e=JE(e);return LE(b,e)}c.T=0;c.ba=function(e){e=E(e);return d(e)};c.F=d;return c}()}()(a)}
function CG(a){if(K(a)){var b=E(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);var e=Cf(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);d=Q(e,0,null);e=Q(e,1,null);if(r(EE()))Jd(ic,"#");else{var f=vE,h=wE;vE+=1;wE=0;try{mE("(",")"),function(){var k=gG("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-
0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(p){p=JE(p);return LE(k,p)}m.T=0;m.ba=function(p){p=E(p);return n(p)};m.F=n;return m}()}()(a,b),r(c)&&function(){var k=gG(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(p){p=JE(p);return LE(k,p)}m.T=0;m.ba=function(p){p=E(p);return n(p)};m.F=n;return m}()}()(c),
r(d)&&function(){var k=gG(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(p){p=JE(p);return LE(k,p)}m.T=0;m.ba=function(p){p=E(p);return n(p)};m.F=n;return m}()}()(d),Ff(J(e))?AG(e,r(c)?c:d):BG(e),nE()}finally{wE=h,vE=f}}return null}return DG(a)}
function EG(a){if(r(EE()))Jd(ic,"#");else{var b=vE,c=wE;vE+=1;wE=0;try{mE("[","]");for(var d=0;;){if(yc(mc)||d<mc){if(E(a)){if(r(EE()))Jd(ic,"#");else{var e=vE,f=wE;vE+=1;wE=0;try{mE(null,null),yE(J(a)),K(a)&&(Jd(ic," "),FE(Yz),yE(kf(a))),nE()}finally{wE=f,vE=e}}if(K(De(a))){Jd(ic," ");FE(wv);e=d+1;var h=K(De(a));d=e;a=h;continue}}}else Jd(ic,"...");break}nE()}finally{wE=c,vE=b}}}
function FG(a){var b=J(a);if(r(EE()))Jd(ic,"#");else{var c=vE,d=wE;vE+=1;wE=0;try{mE("(",")"),K(a)&&Ff(kf(a))?(function(){var e=gG("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k=JE(k);return LE(e,k)}f.T=0;f.ba=function(k){k=E(k);return h(k)};f.F=h;return f}()}()(b),EG(kf(a)),function(){var e=gG(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new I(n,0,null)}return h.call(this,m)}function h(k){k=JE(k);return LE(e,k)}f.T=0;f.ba=function(k){k=E(k);return h(k)};f.F=h;return f}()}()(K(De(a)))):DG(a),nE()}finally{wE=d,vE=c}}return null}
var GG=function(){var a=gG("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){d=JE(d);return LE(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}()}(),HG=W;
function DG(a){if(r(EE()))Jd(ic,"#");else{var b=vE,c=wE;vE+=1;wE=0;try{mE("(",")");GE(iu,1);for(var d=0,e=E(a);;){if(yc(mc)||d<mc){if(e&&(yE(J(e)),K(e))){Jd(ic," ");FE(wv);a=d+1;var f=K(e);d=a;e=f;continue}}else Jd(ic,"...");break}nE()}finally{wE=c,vE=b}}return null}
var IG=function(a){return ai.j(W,Xh(bg,P([function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(Gf(e)){var f=$d(e),h=M(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[we.B(Ig(J(n))),kf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Pg(Rg(k),d(ae(e))):Pg(Rg(k),null)}k=J(e);return ff(new X(null,2,5,Z,[k,new X(null,2,5,Z,[we.B(Ig(J(k))),kf(k)],null)],null),d(De(e)))}return null}},null,null)}(a)}()])))}(function(a){return ai.j(W,
Lh.j(function(b){var c=Q(b,0,null),d=Q(b,1,null);var e=Fg(c);e=r(e)?e:Nf(new qk(null,new q(null,24,[Yr,"null",lu,"null",tm,"null",bw,"null",Jm,"null",Co,"null",Bw,"null",Fv,"null",Lp,"null",rw,"null",xv,"null",px,"null",$B,"null",Up,"null",Pu,"null",dn,"null",kq,"null",Kr,"null",uz,"null",ky,"null",Ew,"null",Wu,"null",ew,"null",Us,"null"],null),null),c);return yc(e)?new X(null,2,5,Z,[we.j("clojure.core",Ig(c)),d],null):b},a))}(Oj([uz,dn,cq,rw,GB,wt,gC,dv,Sz,fv,Ux,fo,LA,Us,ar,Xn,Xv,qt,Ty,px,vo,Ey,
jw,Uw,BA,kp,Iu,DB,fz,uu],[zG,function(a){var b=kf(a),c=J(De(De(a)));if(Ff(b)){a=HG;HG=D.j(1,M(b))?sf([J(b),"%"]):ai.j(W,Lh.C(function(d,e){return new X(null,2,5,Z,[d,["%",t.B(e)].join("")],null)},b,Fk.j(1,M(b)+1)));try{return function(){var d=gG("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new I(m,0,null)}return f.call(this,k)}function f(h){h=JE(h);return LE(d,h)}e.T=
0;e.ba=function(h){h=E(h);return f(h)};e.F=f;return e}()}()(c)}finally{HG=a}}else return DG(a)},FG,GG,function(a){if(3<M(a)){if(r(EE()))Jd(ic,"#");else{var b=vE,c=wE;vE+=1;wE=0;try{mE("(",")");GE(iu,1);gh(function(){var k=gG("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var w=Array(arguments.length-0);u<w.length;)w[u]=arguments[u+0],++u;u=new I(w,0,null)}return n.call(this,u)}function n(p){p=JE(p);return LE(k,p)}m.T=0;m.ba=function(p){p=E(p);return n(p)};
m.F=n;return m}()}(),a);for(var d=0,e=E(Nh(3,a));;){if(yc(mc)||d<mc){if(e){if(r(EE()))Jd(ic,"#");else{a=vE;var f=wE;vE+=1;wE=0;try{mE(null,null),yE(J(e)),K(e)&&(Jd(ic," "),FE(Yz),yE(kf(e))),nE()}finally{wE=f,vE=a}}if(K(De(e))){Jd(ic," ");FE(wv);a=d+1;var h=K(De(e));d=a;e=h;continue}}}else Jd(ic,"...");break}nE()}finally{wE=c,vE=b}}return null}return DG(a)},zG,CG,CG,FG,zG,FG,GG,GG,zG,GG,FG,FG,zG,FG,function(a){if(K(a)){var b=E(a);a=J(b);var c=K(b);b=J(c);c=K(c);var d="string"===typeof J(c)?new X(null,
2,5,Z,[J(c),K(c)],null):new X(null,2,5,Z,[null,c],null);c=Q(d,0,null);d=Q(d,1,null);d=Cf(J(d))?new X(null,2,5,Z,[J(d),K(d)],null):new X(null,2,5,Z,[null,d],null);var e=Q(d,0,null),f=Q(d,1,null);if(r(EE()))Jd(ic,"#");else{d=vE;var h=wE;vE+=1;wE=0;try{mE("(",")");(function(){var m=gG("~w ~1I~@_~w");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return p.call(this,w)}function p(u){u=JE(u);
return LE(m,u)}n.T=0;n.ba=function(u){u=E(u);return p(u)};n.F=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:E(f))&&function(){var m=gG("~@:_");return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return p.call(this,w)}function p(u){u=JE(u);return LE(m,u)}n.T=0;n.ba=function(u){u=E(u);return p(u)};n.F=p;return n}()}()();r(c)&&HE(!0,'"~a"~:[~;~:@_~]',P([c,r(e)?e:E(f)]));r(e)&&function(){var m=gG("~w~:[~;~:@_~]");
return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return p.call(this,w)}function p(u){u=JE(u);return LE(m,u)}n.T=0;n.ba=function(u){u=E(u);return p(u)};n.F=p;return n}()}()(e,E(f));for(a=f;;){yG(J(a));var k=K(a);if(k)b=k,FE(wv),a=b;else break}nE()}finally{wE=h,vE=d}}return null}return yE(a)},FG,function(a){if(r(EE()))Jd(ic,"#");else{var b=vE,c=wE;vE+=1;wE=0;try{mE("(",")");GE(iu,1);yE(J(a));
if(K(a)){Jd(ic," ");FE(wv);for(var d=0,e=K(a);;){if(yc(mc)||d<mc){if(e){if(r(EE()))Jd(ic,"#");else{a=vE;var f=wE;vE+=1;wE=0;try{mE(null,null),yE(J(e)),K(e)&&(Jd(ic," "),FE(Yz),yE(kf(e))),nE()}finally{wE=f,vE=a}}if(K(De(e))){Jd(ic," ");FE(wv);a=d+1;var h=K(De(e));d=a;e=h;continue}}}else Jd(ic,"...");break}}nE()}finally{wE=c,vE=b}}return null},FG,CG,CG,zG,zG,FG,FG,zG]))),JG,IC=Ch(W),JC=Ch(W),KC=Ch(W),ZC=Ch(W),vD=B.C(W,Iw,Ol.O?Ol.O():Ol.call(null));JG=new $l(we.j(ba,"code-dispatch"),qG,vD,IC,JC,KC,ZC);
Yl(JG,ZA,function(a){if(yc(iG(a))){var b=IG.call(null,J(a));return r(b)?b.B?b.B(a):b.call(null,a):DG(a)}return null});Yl(JG,cx,function(a){var b=a.B?a.B(HG):a.call(null,HG);return r(b)?BD.F(P([b])):r(sE)?BD.F(P([Ig(a)])):CD.call(null,a)});Yl(JG,yx,jG);Yl(JG,Gy,kG);Yl(JG,tp,mG);Yl(JG,Pz,pG);
Yl(JG,JB,function(a){var b=["#\x3c",t.B(oG(Bc(a).name)),"@",t.B(ta(a)),": "].join("");if(r(EE()))Jd(ic,"#");else{var c=vE,d=wE;vE+=1;wE=0;try{mE(b,"\x3e"),GE(iu,-(b.length-2)),FE(wv),yE((null!=a?a.Y&1||l===a.Ti||(a.Y?0:Ac(Nd,a)):Ac(Nd,a))&&!Od(a)?eo:y(a)),nE()}finally{wE=d,vE=c}}return null});Yl(JG,null,CD);Yl(JG,am,lG);pE=rG;var PG=/[\s]/;function QG(a){return null==a?null:","===a?!0:PG.test(a)}function RG(a){return null==a?null:!/[^0-9]/.test(a)}
function SG(a,b){return function e(d){return new Jg(null,function(){for(;;){var f=E(d);if(f){if(Gf(f)){var h=$d(f),k=M(h),m=Ng(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),w=m;if(u instanceof A||u instanceof C){var z=Kk(Fg,Ig)(u),F=Q(z,0,null);z=Q(z,1,null);var H=u instanceof A?we:Hg;u=null==F?H.j?H.j(a,z):H.call(null,a,z):D.j("_",F)?H.B?H.B(z):H.call(null,z):u}w.add(u);p+=1}else return!0}()?Pg(Rg(m),e(ae(f))):Pg(Rg(m),null)}var n=J(f);return ff(n instanceof A||n instanceof C?function(){var p=
Kk(Fg,Ig)(n),u=Q(p,0,null);p=Q(p,1,null);var w=n instanceof A?we:Hg;return null==u?w.j?w.j(a,p):w.call(null,a,p):D.j("_",u)?w.B?w.B(p):w.call(null,p):n}():n,e(De(f)))}return null}},null,null)}(b)}function TG(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function UG(a){if(null!=a&&null!=a.Ad)a=a.Ad(a);else{var b=UG[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=UG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Reader.read-char",a);}return a}function VG(a){if(null!=a&&null!=a.je)a=a.je(a);else{var b=VG[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=VG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Reader.peek-char",a);}return a}
function WG(a,b){if(null!=a&&null!=a.zg)a.zg(a,b);else{var c=WG[na(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=WG._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPushbackReader.unread",a);}}function XG(a){if(null!=a&&null!=a.xh)a=a.xh(a);else{var b=XG[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=XG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IndexingReader.get-line-number",a);}return a}
function YG(a){if(null!=a&&null!=a.vh)a=a.vh(a);else{var b=YG[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=YG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IndexingReader.get-column-number",a);}return a}function ZG(a){if(null!=a&&null!=a.wh)a=a.wh(a);else{var b=ZG[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ZG._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IndexingReader.get-file-name",a);}return a}
function $G(a,b){this.s=a;this.bh=b;this.Sd=0}$G.prototype.Ad=function(){if(this.bh>this.Sd){var a=this.s.charAt(this.Sd);this.Sd+=1;return a}return null};$G.prototype.je=function(){return this.bh>this.Sd?this.s.charAt(this.Sd):null};function aH(a,b){this.Vg=a;this.buf=b;this.Ac=this.lf=1}aH.prototype.Ad=function(){var a=this.Ac<this.lf?this.buf[this.Ac]:this.Vg.Ad(null);this.Ac<this.lf&&(this.Ac+=1);return null==a?null:rg(a)};
aH.prototype.je=function(){var a=this.Ac<this.lf?this.buf[this.Ac]:this.Vg.je(null);return null==a?null:rg(a)};aH.prototype.zg=function(a,b){if(r(b)){if(0===this.Ac)throw Error("Pushback buffer is full");--this.Ac;return this.buf[this.Ac]=b}return null};function bH(a){return null!=a?l===a.Yi?!0:!1:!1};function cH(a,b,c,d){var e=M(b);a=r(a)?0:10<e?10:e;b=Lh.j(xh.j(dH,!0),Mh.j(a,b));b=gh(t,Nh(1,Vh.j(Rh(" "),b)));e=a<e?"...":null;return[t.B(c),t.B(b),e,t.B(d)].join("")}var dH,wD=Ch(W),xD=Ch(W),yD=Ch(W),zD=Ch(W),AD=B.C(W,Iw,Ol.O?Ol.O():Ol.call(null));
dH=new $l(we.j("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?As:"string"===typeof b?Wm:b instanceof C?Xw:"number"===typeof b?Xw:b instanceof A?Xw:Ff(b)?yx:zg(b)?ZA:Cf(b)?Gy:Af(b)?tp:D.j(b,!0)?Xw:D.j(b,!1)?Xw:Bc(b)},AD,wD,xD,yD,zD);dH.gb(null,Wm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.B(b.substring(0,a<d?a:d)),c].join("")});dH.gb(null,Xw,function(a,b){return t.B(b)});dH.gb(null,I,function(){return"\x3cindexed seq\x3e"});
dH.gb(null,aj,function(){return"\x3cmap seq\x3e"});dH.gb(null,Hj,function(){return"\x3cmap seq\x3e"});dH.gb(null,Dg,function(){return"\x3ccons\x3e"});dH.gb(null,Jg,function(){return"\x3clazy seq\x3e"});dH.gb(null,As,function(){return"nil"});dH.gb(null,ZA,function(a,b){return cH(a,b,"(",")")});dH.gb(null,Gy,function(a,b){var c=M(b),d=r(a)?0:c;b=gh(V,Mh.j(d,b));return cH(a,b,"{",c>d?"...}":"}")});dH.gb(null,tp,function(a,b){return cH(a,b,"#{","}")});dH.gb(null,yx,function(a,b){return cH(a,b,"[","]")});
dH.gb(null,am,function(a,b){return gl.F(P([Bc(b)]))});function jH(a,b,c){b=new q(null,2,[nq,Js,Zr,b],null);a=bH(a)?R.F(b,Nt,ZG(a),P([Dm,XG(a),zr,YG(a)])):b;var d=Nt.B(a);b=Dm.B(a);var e=zr.B(a);d=r(d)?[t.B(d)," "].join(""):null;b=r(b)?["[line ",t.B(b),", col ",t.B(e),"]"].join(""):null;c=jh(t,d,b,r(r(d)?d:b)?" ":null,c);throw fm(c,a);}function kH(a,b){return jH(a,wq,P([gh(t,b)]))}function lH(a,b){return jH(a,So,P([gh(t,b)]))}function mH(a,b){return jH(a,Px,P([gh(t,b)]))}
function nH(a,b,c,d){kH(a,P(["The map literal starting with ",dH.j(!1,J(d)),r(b)?[" on line ",t.B(b)," column ",t.B(c)].join(""):null," contains ",M(d)," form(s). Map literals must contain an even number of forms."]))}function oH(a,b,c){return kH(a,P(["Invalid ",Ig(b),": ",c,"."]))}function pH(a,b,c){return kH(a,P(["Invalid character: ",c," found while reading ",Ig(b),"."]))}
function qH(a,b){a:{var c=Wm instanceof C?Wm.na:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.B(c)].join(""));}}return mH(a,P(["Unexpected EOF reading ",Ig(Wm)," starting ",hh(t,c,b),"."]))}function rH(a,b){return lH(a,P(["Invalid digit ",b," in unicode character."]))}function sH(a){return kH(a,P(["Octal escape sequence must be in range [0, 377]."]))}
function tH(a,b){b=function(c){return function f(e){return new Jg(null,function(){for(var h=e;;)if(h=E(h)){if(Gf(h)){var k=$d(h),m=M(k),n=Ng(m);a:for(var p=0;;)if(p<m){var u=x(k,p),w=Q(u,0,null);1<Q(u,1,null)&&n.add(w);p+=1}else{k=!0;break a}return k?Pg(Rg(n),f(ae(h))):Pg(Rg(n),null)}n=J(h);k=Q(n,0,null);if(1<Q(n,1,null))return ff(k,f(De(h)));h=De(h)}else return null},null,null)}(Jk(c))}(b);return jh(t,a,1<M(b)?"s":null,": ",Nh(1,Vh.j(Rh(", "),b)))}
function uH(a,b,c){b=Ig(b);kH(a,P([tH([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function vH(a){for(var b=a.Ad(null);;)if(QG.B?QG.B(b):QG.call(null,b))b=a.Ad(null);else return b}var wH=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,xH=/([-+]?[0-9]+)\/([0-9]+)/,yH=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function zH(a,b){a=Nk(a,b);return Q(a,0,null)===b}
function AH(a){if(zH(wH,a)){var b=Yf(Nk(wH,a));if(null!=(b.B?b.B(2):b.call(null,2)))a=0;else{a="-"===(b.B?b.B(1):b.call(null,1));b=null!=(b.B?b.B(3):b.call(null,3))?new X(null,2,5,Z,[b.B?b.B(3):b.call(null,3),10],null):null!=(b.B?b.B(4):b.call(null,4))?new X(null,2,5,Z,[b.B?b.B(4):b.call(null,4),16],null):null!=(b.B?b.B(5):b.call(null,5))?new X(null,2,5,Z,[b.B?b.B(5):b.call(null,5),8],null):null!=(b.B?b.B(7):b.call(null,7))?new X(null,2,5,Z,[b.B?b.B(7):b.call(null,7),parseInt(b.B?b.B(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.B?b.B(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.B?b.B(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else zH(yH,a)?(b=Yf(Nk(yH,a)),a=null!=(b.B?b.B(4):b.call(null,4))?parseFloat(b.B?b.B(1):b.call(null,1)):parseFloat(a)):zH(xH,a)?(b=Yf(Nk(xH,a)),a=b.B?b.B(1):b.call(null,1),b=b.B?b.B(2):b.call(null,2),a=r(Nk(/^\+/,a))?yg.j(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function BH(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?yg.C(a,0,b):null;if(null!=c){b+=1;if(b===M(a))return null;a=yg.j(a,b);return RG($e(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var CH=function CH(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new I(c.slice(1),0,null):null;return CH.F(arguments[0],c)};CH.F=function(a){for(;;){var b=a.Ad(null);if("\n"===b||"\n"===b||null==b)break}return a};CH.T=1;CH.ba=function(a){var b=J(a);a=K(a);return this.F(b,a)};
function DH(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new I(f,0,null)}return b.call(this,c,e)}function b(c){return kH(c,P(["Unreadable form"]))}a.T=1;a.ba=function(c){var d=J(c);c=De(c);return b(d,c)};a.F=b;return a}()};new dc;function EH(a){return"#"!==a?"'"!==a?":"!==a?FH.B?FH.B(a):FH.call(null,a):!1:!1:!1}function GH(a){return"@"===a||"`"===a||"~"===a}function HH(a,b,c,d){if(yc(c))return mH(a,P(["Unexpected EOF while reading start of ",Ig(b),"."]));if(r(r(d)?GH(c):d))return pH(a,b,c);d=new dc;for(WG(a,c);;){if(QG(c)||EH(c)||null==c)return t.B(d);if(GH(c))return pH(a,b,c);d.append(UG(a));c=VG(a)}}
function IH(a,b,c){b=UG(a);if(r(b)){var d=OH.B?OH.B(b):OH.call(null,b);if(r(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);WG(a,b);return PH.C?PH.C(a,b,c):PH.call(null,a,b,c)}return mH(a,P(["Unexpected EOF while reading dispatch character."]))}function QH(a,b){return kH(a,P(["Unmatched delimiter ",b,"."]))}
function RH(a,b,c){b=1+b;if(M(a)!==b)throw lH(null,P(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=TG($e(a,d),c);if(-1===f)return c=$e(a,d),lH(null,P(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function SH(a,b,c,d,e){for(var f=1,h=TG(b,c);;){if(-1===h)return rH(a,b);if(f!==d){var k=VG(a);var m=QG(k);m||(m=FH.B?FH.B(k):FH.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?lH(a,P(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=TG(k,c);UG(a);if(-1===m)return rH(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function TH(a){var b=UG(a);if(null!=b){b=EH(b)||GH(b)||QG(b)?t.B(b):HH(a,vw,b,!1);var c=b.length;if(1===c)return $e(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=RH(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=kH(a,P(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return kH(a,P(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=RH(b,c,8);return 255<(b|0)?sH(a):b}return kH(a,P(["Unsupported character: ",b,"."]))}return mH(a,P(["Unexpected EOF while reading character."]))}function UH(a){return bH(a)?new X(null,2,5,Z,[XG(a),(YG(a)|0)-1|0],null):null}
function VH(a,b,c,d){var e=UH(c),f=Q(e,0,null);e=Q(e,1,null);b=null==b?null:rg(b);for(var h=Rd(of);;){var k=vH(c);if(!r(k)){var m=a,n=f,p=e,u=M(h);mH(c,P(["Unexpected EOF while reading ",r(u)?["item ",t.B(u)," of "].join(""):null,Ig(m),r(n)?[", starting at line ",t.B(n)," and column ",t.B(p)].join(""):null,"."]))}if(D.j(b,null==k?null:rg(k)))return Td(h);m=FH.B?FH.B(k):FH.call(null,k);r(m)?(k=m.C?m.C(c,k,d):m.call(null,c,k,d),h=k!==c?Yg.j(h,k):h):(WG(c,k),k=WH?WH(c,!0,null,d):XH.call(null,c,!0,null,
d),h=k!==c?Yg.j(h,k):h)}}function YH(a,b,c){a=VH(ZA,")",a,c);return yf(a)?Ee:gh(Cg,a)}function ZH(a,b,c){return VH(yx,"]",a,c)}function $H(a,b,c){var d=UH(a);b=Q(d,0,null);d=Q(d,1,null);c=VH(Gy,"}",a,c);var e=M(c),f=Gk(2,c),h=tk(f);!th(e)&&nH(a,b,d,c);D.j(M(h),M(f))||uH(a,Gy,f);if(e<=2*fj)a=Uf(c),a=new q(null,a.length/2,a,null);else a:for(a=Uf(c),b=a.length,d=0,e=Rd(gj);;)if(d<b)c=d+2,e=Ud(e,a[d],a[d+1]),d=c;else{a=Td(e);break a}return a}
function aI(a,b){for(var c=function(){var h=new dc;h.append(b);return h}(),d=UG(a);;){if(r(function(){var h=QG(d);if(h)return h;h=FH.B?FH.B(d):FH.call(null,d);return r(h)?h:null==d}())){var e=t.B(c);WG(a,d);var f=AH(e);return r(f)?f:kH(a,P(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=UG(a);c=e;d=f}}
function bI(a){var b=UG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=UG(a),-1===parseInt(b|0,16)?kH(a,P(["Invalid unicode escape: \\u",b,"."])):SH(a,b,16,4,!0);default:return RG(b)?(b=SH(a,b,8,3,!1),255<(b|0)?sH(a):b):kH(a,P(["Unsupported escape character: \\",b,"."]))}}
function cI(a){for(var b=new dc,c=UG(a);;){var d=c;if(D.j(null,d))return qH(a,P(['"',b]));if(D.j("\\",d)){d=function(){var f=b;f.append(bI(a));return f}();var e=UG(a);b=d;c=e}else{if(D.j('"',d))return t.B(b);d=function(){var f=b;f.append(c);return f}();e=UG(a);b=d;c=e}}}
function dI(a,b){b=HH(a,cx,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Eo;default:var c=BH(b);c=r(c)?we.j(c.B?c.B(0):c.call(null,0),c.B?c.B(1):c.call(null,1)):null;return r(c)?c:oH(a,cx,b)}else return null}
function eI(a){var b=UG(a);if(QG(b))return kH(a,P(["A single colon is not a valid keyword."]));b=HH(a,nC,b,!0);var c=BH(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.B?c.B(0):c.call(null,0);c=c.B?c.B(1):c.call(null,1);return":"===$e(b,0)?oH(a,nC,b):Hg.j(d,c)}return oH(a,nC,b)}
function fI(a,b,c){b=WH?WH(a,!0,null,c):XH.call(null,a,!0,null,c);b=b instanceof C?sf([b,!0]):b instanceof A?new q(null,1,[uv,b],null):"string"===typeof b?new q(null,1,[uv,b],null):b;Cf(b)||kH(a,P(["Metadata cannot be ",dH.j(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=WH?WH(a,!0,null,c):XH.call(null,a,!0,null,c);return null!=c&&(c.J&131072||l===c.be)?vf(c,lk.F(P([wf(c),b]))):kH(a,P(["Metadata can not be applied to ",dH.j(!1,c),". ","Metadata can only be applied to IMetas."]))}
function gI(a,b,c){b=VH(tp,"}",a,c);c=tk(b);D.j(M(b),M(c))||uH(a,tp,b);return c}function hI(a){WH?WH(a,!0,null,!0):XH.call(null,a,!0,null,!0);return a}
function iI(a,b,c){b=UG(a);b=HH(a,kv,b,!0);var d=null==b?null:BH(b);if(null==d)var e=null;else e=Q(d,0,null),d=Q(d,1,null),e=r(e)?null:d;return r(e)?"{"===vH(a)?(c=VH(kv,"}",a,c),!th(M(c))&&nH(a,null,null,c),b=SG(t.B(e),Gk(2,c)),c=Gk(2,De(c)),D.j(M(tk(b)),M(b))||uH(a,kv,b),wk(b,c)):kH(a,P(["Namespaced map with namespace ",b," does not specify a map."])):kH(a,P(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function jI(a,b,c){b=WH?WH(a,!0,null,c):XH.call(null,a,!0,null,c);return D.j(cC,b)?Number.NaN:D.j(ms,b)?Number.NEGATIVE_INFINITY:D.j(lA,b)?Number.POSITIVE_INFINITY:kH(a,P([["Invalid token: ##",t.B(b)].join("")]))}function FH(a){switch(a){case '"':return cI;case ":":return eI;case ";":return CH;case "^":return fI;case "(":return YH;case ")":return QH;case "[":return ZH;case "]":return QH;case "{":return $H;case "}":return QH;case "\\":return TH;case "#":return IH;default:return null}}
function OH(a){switch(a){case "^":return fI;case "{":return gI;case "\x3c":return DH();case "!":return CH;case "_":return hI;case ":":return iI;case "#":return jI;default:return null}}
function PH(a,b,c){b=WH?WH(a,!0,null,c):XH.call(null,a,!0,null,c);var d=WH?WH(a,!0,null,c):XH.call(null,a,!0,null,c);b instanceof A||kH(a,P(["Invalid reader tag: ",dH.j(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.j(Cm.B(c),b);e=r(e)?e:W.B?W.B(b):W.call(null,b);if(r(e))return e.B?e.B(d):e.call(null,d);c=am.B(c);return r(c)?c.j?c.j(b,d):c.call(null,b,d):kH(a,P(["No reader function for tag ",dH.j(!1,b),"."]))}
function XH(a){switch(arguments.length){case 1:return kI(W,arguments[0]);case 2:return kI(arguments[0],arguments[1]);case 4:return WH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function kI(a,b){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;var c=B.j(a,Px),d=!Nf(a,Px);return WH(b,d,c,a)}
function WH(a,b,c,d){try{for(;;){var e=UG(a);if(!QG(e)){if(null==e){if(r(b)){b=a;var f=r(null)?mH(b,P(["EOF while reading, starting at line ",null,"."])):mH(b,P(["EOF while reading."]))}else f=c;return f}if(RG(e)||("+"===e||"-"===e)&&RG(a.je(null)))return aI(a,e);var h=FH(e);if(r(h)){var k=h.C?h.C(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return dI(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof em){b=f instanceof em?f.data:null;if(D.j(Js,nq.B(b)))throw f;a=lk.F(P([new q(null,1,
[nq,Js],null),b,bH(a)?new q(null,3,[Dm,XG(a),eB,YG(a),Nt,ZG(a)],null):null]));throw new em(f.message,a,f);}a=lk.F(P([new q(null,1,[nq,Js],null),bH(a)?new q(null,3,[Dm,XG(a),eB,YG(a),Nt,ZG(a)],null):null]));throw new em(f.message,a,f);}throw m;}}function lI(a,b){if(r(r(b)?lh.j(b,""):b)){b=new $G(b,M(b));a:{var c=Array(1);if(Jf(null))for(var d=0,e=E(null);;)if(e&&1>d)c[d]=J(e),d+=1,e=K(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=kI(a,new aH(b,c))}else a=null;return a};var mI=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.j(r(d)?b:a,c)}}(),nI=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function oI(a){a=parseInt(a,10);return yc(isNaN(a))?a:null}
function pI(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.B(d)," Failed:  ",t.B(a),"\x3c\x3d",t.B(b),"\x3c\x3d",t.B(c)].join(""));return b}
function qI(a){var b=Mk(nI,a);Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null),m=Q(b,7,null),n=Q(b,8,null),p=Q(b,9,null),u=Q(b,10,null);if(yc(b))throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));a=oI(c);b=function(){var G=oI(d);return r(G)?G:1}();c=function(){var G=oI(e);return r(G)?G:1}();var w=function(){var G=oI(f);return r(G)?G:0}(),z=function(){var G=oI(h);return r(G)?G:0}(),F=function(){var G=oI(k);return r(G)?G:0}(),H=function(){a:if(D.j(3,
M(m)))var G=m;else if(3<M(m))G=yg.C(m,0,3);else for(G=new dc(m);;)if(3>G.getLength())G=G.append("0");else{G=G.toString();break a}G=oI(G);return r(G)?G:0}();n=(D.j(n,"-")?-1:1)*(60*function(){var G=oI(p);return r(G)?G:0}()+function(){var G=oI(u);return r(G)?G:0}());return new X(null,8,5,Z,[a,pI(1,b,12,"timestamp month field must be in range 1..12"),pI(1,c,mI(b,0===tg(a,4)&&(0!==tg(a,100)||0===tg(a,400))),"timestamp day field must be in range 1..last day in month"),pI(0,w,23,"timestamp hour field must be in range 0..23"),
pI(0,z,59,"timestamp minute field must be in range 0..59"),pI(0,F,D.j(z,59)?60:59,"timestamp second field must be in range 0..60"),pI(0,H,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var rI=Ch(null),sI=Ch(lk.F(P([new q(null,4,[zz,function(a){if("string"===typeof a){var b=qI(a);if(r(b)){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null),h=Q(b,5,null),k=Q(b,6,null);b=Q(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.B(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},du,function(a){if("string"===typeof a)return new cm(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},hu,function(a){if(Ff(a))return ai.j(Ti,a);throw Error("Queue literal expects a vector for its elements.");},Sx,function(a){if(Ff(a)){var b=[];a=E(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);b.push(f);e+=1}else if(a=E(a))c=a,Gf(c)?(a=$d(c),e=ae(c),c=a,d=M(a),a=e):(a=J(c),b.push(a),a=K(c),c=null,d=0),e=0;else break;return b}if(Cf(a)){b={};a=E(a);c=null;for(e=d=0;;)if(e<d){var h=c.xa(null,e);f=Q(h,0,null);h=Q(h,1,null);f=Ig(f);b[f]=h;e+=1}else if(a=E(a))Gf(a)?(d=$d(a),a=ae(a),c=d,d=M(d)):
(d=J(a),c=Q(d,0,null),d=Q(d,1,null),c=Ig(c),b[c]=d,a=K(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function tI(a,b){var c=hh(xk,a,b);return ff(c,$h(function(d){return c===d},b))}function uI(a,b){return M(a)<M(b)?v.C(nf,b,a):v.C(nf,a,b)}var vI=function vI(a){switch(arguments.length){case 1:return vI.B(arguments[0]);case 2:return vI.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return vI.F(arguments[0],arguments[1],c)}};vI.B=function(a){return a};
vI.j=function(a,b){for(;;)if(M(b)<M(a)){var c=a;a=b;b=c}else return v.C(function(d,e){return function(f,h){return Nf(e,h)?f:xf.j(f,h)}}(a,b),a,a)};vI.F=function(a,b,c){a=tI(function(d){return-M(d)},nf.F(c,b,P([a])));return v.C(vI,J(a),De(a))};vI.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};vI.T=2;
var wI=function wI(a){switch(arguments.length){case 1:return wI.B(arguments[0]);case 2:return wI.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return wI.F(arguments[0],arguments[1],c)}};wI.B=function(a){return a};wI.j=function(a,b){return M(a)<M(b)?v.C(function(c,d){return Nf(b,d)?xf.j(c,d):c},a,a):v.C(xf,a,b)};wI.F=function(a,b,c){return v.C(wI,a,nf.j(c,b))};
wI.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};wI.T=2;function yI(a,b){return M(a)<=M(b)&&rh(function(c){return Nf(b,c)},a)}function zI(a,b){return M(a)>=M(b)&&rh(function(c){return Nf(a,c)},b)};function AI(a){return v.C(function(b,c){b.push(c);return b},[],a)}function BI(a){return a instanceof Array};var CI=J(Zh(function(a){return 0!=(32&1<<a)},Fk.C(31,-1,-1)))+1,DI=(1<<CI)-1;function EI(a,b,c,d){for(var e=0,f=sg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.j?a.j(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function FI(a,b,c,d){for(var e=0,f=sg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.j?a.j(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function GI(a,b,c){var d=b.length,e=EI(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.j?a.j(b,c):a.call(null,b,c));return d?e:-1}
function HI(a,b,c){var d=b.length;a=EI(a,b,d-1,c);return a===d?-1:a}function II(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function JI(a,b,c,d){return II(a,0,a.length,b,c,d)}
function KI(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function LI(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.j?a.j(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function MI(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function NI(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function OI(a){if(null!=a&&null!=a.Tf)a=a.Tf(a);else{var b=OI[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=OI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INode.node-lim-key",a);}return a}function PI(a){if(null!=a&&null!=a.Ng)a=a.keys.length;else{var b=PI[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=PI._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("INode.node-len",a);}return a}
function QI(a,b){if(null!=a&&null!=a.Vf)a=a.Vf(a,b);else{var c=QI[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=QI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge",a);}return a}function RI(a,b){if(null!=a&&null!=a.Wf)a=a.Wf(a,b);else{var c=RI[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=RI._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("INode.node-merge-n-split",a);}return a}
function SI(a,b,c){if(null!=a&&null!=a.Uf)a=a.Uf(a,b,c);else{var d=SI[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=SI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-lookup",a);}return a}function TI(a,b,c){if(null!=a&&null!=a.Rf)a=a.Rf(a,b,c);else{var d=TI[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=TI._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("INode.node-conj",a);}return a}
function UI(a,b,c,d,e,f){if(null!=a&&null!=a.Sf)a=a.Sf(a,b,c,d,e,f);else{var h=UI[na(null==a?null:a)];if(null!=h)a=h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=UI._,null!=h)a=h.Qa?h.Qa(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Cc("INode.node-disj",a);}return a}
function VI(a,b,c,d){if(r(b))return[a];if(16<PI(a))return NI(c,a,d);if(r(r(c)?16>=PI(c):c))return MI(QI(c,a),d);if(r(r(d)?16>=PI(d):d))return MI(c,QI(a,d));if(r(r(c)?null==d||PI(c)<PI(d):c))return a=RI(c,a),NI(a[0],a[1],d);a=RI(a,d);return NI(c,a[0],a[1])}function WI(a,b){this.keys=a;this.hb=b}g=WI.prototype;g.Tf=function(){var a=this.keys;return a[a.length-1]};g.Ng=function(){return this.keys.length};g.Vf=function(a,b){return new WI(this.keys.concat(b.keys),this.hb.concat(b.hb))};
g.Wf=function(a,b){a=KI(this.keys,b.keys);b=KI(this.hb,b.hb);return MI(new WI(a[0],b[0]),new WI(a[1],b[1]))};g.Uf=function(a,b,c){a=HI(b,this.keys,c);return-1===a?null:SI(this.hb[a],b,c)};g.Rf=function(a,b,c){a=EI(b,this.keys,this.keys.length-2,c);c=TI(this.hb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(OI);b=LI(b,d,a,e,f,f.length)?d:JI(d,a,e,f);a=JI(this.hb,a,a+1,c);if(32>=a.length)return[new WI(b,a)];c=a.length>>>1;return[new WI(b.slice(0,c),a.slice(0,c)),new WI(b.slice(c),a.slice(c))]}return null};
g.Sf=function(a,b,c,d,e,f){var h=HI(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.hb[h-1]:null;var k=h+1<this.hb.length?this.hb[h+1]:null;c=UI(this.hb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(OI);b=LI(b,k,a,h,m,m.length)?k:JI(k,a,h,m);c=JI(this.hb,a,h,c);return VI(new WI(b,c),d,e,f)}return null};function XI(a){this.keys=a}g=XI.prototype;g.Tf=function(){var a=this.keys;return a[a.length-1]};g.Ng=function(){return this.keys.length};g.Vf=function(a,b){return new XI(this.keys.concat(b.keys))};
g.Wf=function(a,b){a=KI(this.keys,b.keys);return MI(new XI(a[0]),new XI(a[1]))};g.Uf=function(a,b,c){a=GI(b,this.keys,c);return-1===a?null:this.keys[a]};g.Rf=function(a,b,c){a=EI(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.j?b.j(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new XI(this.keys.slice(0,b)),new XI(II(this.keys,b,d,a,a,[c]))]:[new XI(II(this.keys,0,b,a,a,[c])),new XI(this.keys.slice(b,d))]):[new XI(JI(this.keys,a,a,[c]))]};
g.Sf=function(a,b,c,d,e,f){a=GI(b,this.keys,c);if(-1===a)return null;a=JI(this.keys,a,a+1,[]);return VI(new XI(a),d,e,f)};function YI(a,b,c,d,e,f){this.root=a;this.shift=b;this.aa=c;this.ic=d;this.meta=e;this._hash=f;this.J=2297303311;this.Y=8332}g=YI.prototype;g.toString=function(){return ke(this)};g.ma=function(a,b){return SI(this.root,this.ic,b)};g.R=function(a,b,c){a=SI(this.root,this.ic,b);return r(a)?a:c};g.ga=function(a,b,c){return Sk(b,$k,"#{"," ","}",c,E(this))};g.ea=function(){return this.meta};
g.ja=function(){return this.aa};g.pc=function(){return Id(ZI.B?ZI.B(this):ZI.call(null,this))};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Ke(this)};g.ca=function(a,b){var c=this;return Af(b)&&this.aa===M(b)&&rh(function(d){return Nf(c,d)},b)};g.od=function(){return this};g.Ja=function(){return new YI(new XI([]),0,0,this.ic,this.meta,null)};g.vf=function(a,b){return $I.C?$I.C(this,b,this.ic):$I.call(null,this,b,this.ic)};
g.Sa=function(a,b){a=ZI.B?ZI.B(this):ZI.call(null,this);return r(a)?td(a,b):b.O?b.O():b.call(null)};g.Ta=function(a,b,c){a=ZI.B?ZI.B(this):ZI.call(null,this);return r(a)?td(a,b,c):c};g.pd=function(a,b){return aJ.C?aJ.C(this,b,this.ic):aJ.call(null,this,b,this.ic)};g.zd=function(){return this};g.ha=function(){return ZI.B?ZI.B(this):ZI.call(null,this)};g.fa=function(a,b){return new YI(this.root,this.shift,this.aa,this.ic,b,this._hash)};
g.la=function(a,b){return aJ.C?aJ.C(this,b,this.ic):aJ.call(null,this,b,this.ic)};g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return this.ma(null,a)};g.j=function(a,b){return this.R(null,a,b)};
function bJ(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.hb[DI&b>>>c],c-=CI;else return a.keys}function cJ(a,b,c,d){return new YI(b,c,d,a.ic,a.meta,null)}var dJ=function dJ(a,b,c){var e=DI&b>>>c;if(0<c){var f=a.hb[e],h=c-CI;b=dJ.C?dJ.C(f,b,h):dJ.call(null,f,b,h);return-1===b?e+1<a.hb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function eJ(a,b){return dJ(a.root,b,a.shift)}
function fJ(a,b){for(var c=0;;)if(0<b)c|=a.hb.length-1<<b,b-=CI,a=a.hb,a=a[a.length-1];else return c|a.keys.length-1<<0}var gJ=function gJ(a,b,c){var e=DI&b>>>c;if(0<c){var f=c-CI,h=a.hb[e];b=gJ.C?gJ.C(h,b,f):gJ.call(null,h,b,f);return-1===b?0<=e-1?(--e,fJ(a.hb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function hJ(a,b){return gJ(a.root,b,a.shift)}function ZI(a){if(0<PI(a.root)){var b=fJ(a.root,a.shift)+1;return iJ.C?iJ.C(a,0,b):iJ.call(null,a,0,b)}return null}
function jJ(a,b,c){this.K=a;this.off=b;this.end=c;this.J=524306;this.Y=0}g=jJ.prototype;g.ja=function(){return this.end-this.off};g.xa=function(a,b){return this.K[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.Yd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Mg(this.K,this.off+1,this.end)};g.Sa=function(a,b){return this.off===this.end?b.O?b.O():b.call(null):td(this.Yd(null),b,this.K[this.off])};
g.Ta=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.j?b.j(c,d):b.call(null,c,d);if(Pe(c))return y(c);a+=1}else return c};function kJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2309488832;this.Y=1536}g=kJ.prototype;g.toString=function(){return ke(this)};g.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,E(this))};
g.Ma=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new kJ(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=eJ(this.set,this.left);return lh.j(-1,a)&&a<this.right?this.$e(a,this.right):null}return null};g.pc=function(){if(r(this.keys)){var a=this.set,b=hJ(this.set,this.left),c=hJ(this.set,this.right);return lJ.C?lJ.C(a,b,c):lJ.call(null,a,b,c)}return null};g.ca=function(a,b){return ef(this,b)};
g.Sa=function(a,b){if(null==this.keys)return b.O?b.O():b.call(null);a=this.Ua(null);var c=this.Ma(null);return null==c?a:td(c,b,a)};g.Ta=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.j?b.j(c,f):b.call(null,c,f);if(Pe(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=eJ(this.set,a),-1!==a&&a<this.right)d=bJ(this.set,a),e=DI&a>>>0;else return c}};g.Ua=function(){return r(this.keys)?this.keys[this.idx]:null};
g.ab=function(){var a=this.Ma(null);return r(a)?a:Ee};g.ha=function(){return r(this.keys)?this:null};g.$d=function(){var a=D.j(this.left|DI,this.right|DI)?this.right&DI:this.keys.length;return new jJ(this.keys,this.idx,a)};g.yd=function(){var a=this.Zd();return r(a)?a:Ee};g.$e=function(a,b){return new kJ(this.set,a,b,bJ(this.set,a),DI&a>>>0)};g.Zd=function(){var a=eJ(this.set,this.left+(this.keys.length-this.idx-1));return lh.j(-1,a)&&a<this.right?this.$e(a,this.right):null};
function iJ(a,b,c){return new kJ(a,b,c,bJ(a,b),DI&b>>>0)}function mJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.J=2308964544;this.Y=0}g=mJ.prototype;g.toString=function(){return ke(this)};g.ga=function(a,b,c){return Sk(b,$k,"("," ",")",c,E(this))};
g.Ma=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new mJ(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=hJ(this.set,this.right);return lh.j(-1,a)&&a>this.left?this.$e(this.left,a):null}return null};g.pc=function(){if(r(this.keys)){var a=-1===this.left?0:eJ(this.set,this.left),b=eJ(this.set,this.right);return iJ(this.set,a,-1===b?this.right+1:b)}return null};g.ca=function(a,b){return ef(this,b)};
g.Ua=function(){return r(this.keys)?this.keys[this.idx]:null};g.ab=function(){var a=this.Ma(null);return r(a)?a:Ee};g.ha=function(){return r(this.keys)?this:null};g.$e=function(a,b){return new mJ(this.set,a,b,bJ(this.set,b),DI&b>>>0)};function lJ(a,b,c){return new mJ(a,b,c,bJ(a,c),DI&c>>>0)}
function nJ(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=PI(e);if(0===h){var m=e.keys;m=EI(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=EI(d,m,k-2,b);f|=m<<h;h-=CI;e=e.hb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=PI(e);if(0===h){k=e.keys;m=FI(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=FI(d,k,m-2,c);f|=m<<h;h-=CI;e=e.hb[m]}return c>b?new kJ(a,b,c,bJ(a,b),DI&b>>>0):null}
function oJ(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.B?a.B(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function pJ(a){var b=a.length,c=Rd(of);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Yg.j(c,a.slice(d));break}else 40<=e?(Yg.j(c,a.slice(d,d+24)),d+=24):(e>>>=1,Yg.j(c,a.slice(d,d+e)),d+=e)}return Uf(Td(c))}function aJ(a,b,c){b=TI(a.root,c,b);return null==b?a:1===b.length?cJ(a,b[0],a.shift,a.aa+1):cJ(a,new WI(b.map(OI),b),a.shift+CI,a.aa+1)}
function $I(a,b,c){b=UI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof WI&&1===b.hb.length?cJ(a,b.hb[0],a.shift-CI,a.aa-1):cJ(a,b,a.shift,a.aa-1)}function qJ(a,b,c){return nJ(a,b,c,a.ic)}function rJ(a){var b=sJ.P(536870911,null,null,2147483647),c=sJ.P(0,null,null,536870912);a=nJ(a,c,b,a.ic);return null==a?null:Id(a)}
function tJ(a,b){for(var c=oJ(function(h){return new XI(h)},pJ(b)),d=c,e=0;;){var f=M(d);switch(f){case 0:return new YI(new XI([]),0,0,a,null,null);case 1:return new YI(J(d),e,b.length,a,null,null);default:d=oJ(function(){return function(h){return new WI(h.map(OI),h)}}(d,e,f,c),pJ(d)),e+=CI}}}function uJ(a){return new YI(new XI([]),0,0,a,null,null)};var vJ=Error;function wJ(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.J&8388608||l===a.uf?!0:a.J?!1:Ac(zd,a):Ac(zd,a))?b:wc(a)||"string"===typeof a),b=b||BI(a);return b}var xJ=yh(nf,of),yJ=yh(nf,sk);function zJ(a,b,c){return J(v.C(function(d,e){var f=Q(d,0,null);d=Q(d,1,null);e=a.C?a.C(f,e,d):a.call(null,f,e,d);return Pe(e)?Oe(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function AJ(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function BJ(a){if(null!=a&&null!=a.Ka)a=a.Ka(a);else{var b=BJ[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=BJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDatom.datom-tx",a);}return a}function CJ(a){if(null!=a&&null!=a.$b)a=a.$b(a);else{var b=CJ[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=CJ._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDatom.datom-added",a);}return a}
function DJ(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.ff=d;this._hash=e;this.J=2162164496;this.Y=0}g=DJ.prototype;g.Ka=function(){return 0<this.ff?this.ff:-this.ff};g.$b=function(){return 0<this.ff};g.ia=function(){return 0===this._hash?this._hash=EJ.B?EJ.B(this):EJ.call(null,this):this._hash};g.ca=function(a,b){return b instanceof DJ?FJ.j?FJ.j(this,b):FJ.call(null,this,b):!1};g.ha=function(){return GJ.B?GJ.B(this):GJ.call(null,this)};
g.ma=function(a,b){return HJ.C?HJ.C(this,b,null):HJ.call(null,this,b,null)};g.R=function(a,b,c){return HJ.C?HJ.C(this,b,c):HJ.call(null,this,b,c)};g.xa=function(a,b){return IJ?IJ(this,b):JJ.call(null,this,b)};g.Ra=function(a,b,c){return KJ?KJ(this,b,c):JJ.call(null,this,b,c)};g.da=function(a,b,c){return LJ.C?LJ.C(this,b,c):LJ.call(null,this,b,c)};g.ga=function(a,b,c){return Sk(b,$k,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ka(null),this.$b(null)],null))};
Ga("datascript.db.Datom",DJ);var sJ=function sJ(a){switch(arguments.length){case 3:return sJ.C(arguments[0],arguments[1],arguments[2]);case 4:return sJ.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return sJ.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};sJ.C=function(a,b,c){return new DJ(a,b,c,536870912,0)};sJ.P=function(a,b,c,d){return new DJ(a,b,c,d,0)};
sJ.ka=function(a,b,c,d,e){return new DJ(a,b,c,r(e)?d:-d,0)};sJ.T=5;function MJ(a){return a instanceof DJ}function EJ(a){return AJ(AJ(se(a.e),se(a.a)),se(a.v))}function FJ(a,b){return a.e===b.e&&D.j(a.a,b.a)&&D.j(a.v,b.v)}function GJ(a){return new pf(null,a.e,new pf(null,a.a,new pf(null,a.v,new pf(null,a.Ka(null),new pf(null,a.$b(null),null,1,null),2,null),3,null),4,null),5,null)}
function HJ(a,b,c){return D.j(Vw,b)?a.v:D.j("e",b)?a.e:D.j(zy,b)?a.$b(null):D.j("v",b)?a.v:D.j(Kw,b)?a.e:D.j("a",b)?a.a:D.j(ip,b)?a.Ka(null):D.j("added",b)?a.$b(null):D.j("tx",b)?a.Ka(null):D.j(Ow,b)?a.a:c}function JJ(a){switch(arguments.length){case 2:return IJ(arguments[0],arguments[1]);case 3:return KJ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}
function IJ(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ka(null);case 4:return a.$b(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.B(b)].join(""));}}function KJ(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ka(null);case 4:return a.$b(null);default:return c}}
function LJ(a,b,c){switch(b instanceof C?b.na:null){case "e":return sJ.ka(c,a.a,a.v,a.Ka(null),a.$b(null));case "a":return sJ.ka(a.e,c,a.v,a.Ka(null),a.$b(null));case "v":return sJ.ka(a.e,a.a,c,a.Ka(null),a.$b(null));case "tx":return sJ.ka(a.e,a.a,a.v,c,a.$b(null));case "added":return sJ.ka(a.e,a.a,a.v,a.Ka(null),c);default:throw new vJ(["invalid key for #datascript/Datom: ",t.B(b)].join(""));}}function NJ(a,b){return null==a?0:null==b?0:Qf(a,b)}
function OJ(a,b){return D.j(a,b)?0:(null!=a?a.Y&2048||l===a.Xc||(a.Y?0:Ac(Xd,a)):Ac(Xd,a))?Yd(a,b):"string"!==typeof a&&!wc(a)&&!0!==a&&!1!==a||Bc(a)!==Bc(b)?se(a)-se(b):$a(a,b)}function PJ(a,b){return null==a?0:null==b?0:OJ(a,b)}function QJ(a,b){var c=a.e-b.e;return 0===c?(c=NJ(a.a,b.a),0===c?(c=PJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function RJ(a,b){var c=NJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=PJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}
function SJ(a,b){var c=NJ(a.a,b.a);return 0===c?(c=PJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function TJ(a,b){return a instanceof C?Yd(a,b):$a(a,b)}function UJ(a,b){var c=a.e-b.e;return 0===c?(c=TJ(a.a,b.a),0===c?(c=OJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function VJ(a,b){var c=TJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=OJ(a.v,b.v),0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}
function WJ(a,b){var c=TJ(a.a,b.a);return 0===c?(c=OJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ka(null)-b.Ka(null),0===a?0:a):c):c):c}function XJ(){}function YJ(a,b){if(null!=a&&null!=a.Fg)a=a.Fg(a,b);else{var c=YJ[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=YJ._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ISearch.-search",a);}return a}function ZJ(a,b){return J(YJ(a,b))}
function $J(a,b,c){if(null!=a&&null!=a.Eg)a=a.Eg(a,b,c);else{var d=$J[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=$J._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IIndexAccess.-datoms",a);}return a}function aK(){}function bK(a){if(null!=a&&null!=a.Eh)a=a.sb;else{var b=bK[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=bK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDB.-schema",a);}return a}
function cK(a,b){if(null!=a&&null!=a.Dg)a=a.Dg(a,b);else{var c=cK[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=cK._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IDB.-attrs-by",a);}return a}function dK(a,b,c,d,e,f,h,k,m,n,p){this.sb=a;this.mb=b;this.Pb=c;this.Qb=d;this.Wb=e;this.Xb=f;this.Ub=h;this.hash=k;this.G=m;this.D=n;this.I=p;this.J=2230716170;this.Y=139264}g=dK.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "schema":return this.sb;case "eavt":return this.mb;case "aevt":return this.Pb;case "avet":return this.Qb;case "max-eid":return this.Wb;case "max-tx":return this.Xb;case "rschema":return this.Ub;case "hash":return this.hash;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.j(new X(null,8,5,Z,[new X(null,2,5,Z,[es,this.sb],null),new X(null,2,5,Z,[sv,this.mb],null),new X(null,2,5,Z,[fy,this.Pb],null),new X(null,2,5,Z,[Xm,this.Qb],null),new X(null,2,5,Z,[$x,this.Wb],null),new X(null,2,5,Z,[Ez,this.Xb],null),new X(null,2,5,Z,[Pt,this.Ub],null),new X(null,2,5,Z,[PA,this.hash],null)],null),this.D))};
g.oa=function(){return new Xi(this,8,new X(null,8,5,Z,[es,sv,fy,Xm,$x,Ez,Pt,PA],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 8+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1515640948^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sb,b.sb)&&D.j(this.mb,b.mb)&&D.j(this.Pb,b.Pb)&&D.j(this.Qb,b.Qb)&&D.j(this.Wb,b.Wb)&&D.j(this.Xb,b.Xb)&&D.j(this.Ub,b.Ub)&&D.j(this.hash,b.hash)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,8,[es,null,Ez,null,PA,null,fy,null,Xm,null,$x,null,sv,null,Pt,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new dK(this.sb,this.mb,this.Pb,this.Qb,this.Wb,this.Xb,this.Ub,this.hash,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(es,b):T.call(null,es,b))?new dK(c,this.mb,this.Pb,this.Qb,this.Wb,this.Xb,this.Ub,this.hash,this.G,this.D,null):r(T.j?T.j(sv,b):T.call(null,sv,b))?new dK(this.sb,c,this.Pb,this.Qb,this.Wb,this.Xb,this.Ub,this.hash,this.G,this.D,null):r(T.j?T.j(fy,b):T.call(null,fy,b))?new dK(this.sb,this.mb,c,this.Qb,this.Wb,this.Xb,this.Ub,this.hash,this.G,this.D,null):r(T.j?T.j(Xm,b):T.call(null,Xm,b))?new dK(this.sb,this.mb,this.Pb,c,this.Wb,this.Xb,this.Ub,this.hash,this.G,
this.D,null):r(T.j?T.j($x,b):T.call(null,$x,b))?new dK(this.sb,this.mb,this.Pb,this.Qb,c,this.Xb,this.Ub,this.hash,this.G,this.D,null):r(T.j?T.j(Ez,b):T.call(null,Ez,b))?new dK(this.sb,this.mb,this.Pb,this.Qb,this.Wb,c,this.Ub,this.hash,this.G,this.D,null):r(T.j?T.j(Pt,b):T.call(null,Pt,b))?new dK(this.sb,this.mb,this.Pb,this.Qb,this.Wb,this.Xb,c,this.hash,this.G,this.D,null):r(T.j?T.j(PA,b):T.call(null,PA,b))?new dK(this.sb,this.mb,this.Pb,this.Qb,this.Wb,this.Xb,this.Ub,c,this.G,this.D,null):new dK(this.sb,
this.mb,this.Pb,this.Qb,this.Wb,this.Xb,this.Ub,this.hash,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,8,5,Z,[new Y(es,this.sb),new Y(sv,this.mb),new Y(fy,this.Pb),new Y(Xm,this.Qb),new Y($x,this.Wb),new Y(Ez,this.Xb),new Y(Pt,this.Ub),new Y(PA,this.hash)],null),this.D))};g.fa=function(a,b){return new dK(this.sb,this.mb,this.Pb,this.Qb,this.Wb,this.Xb,this.Ub,this.hash,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function eK(a){var b=S.F(a,es,P([sv,fy,Xm,$x,Ez,Pt,PA]));b=Df(a)?ai.j(W,b):b;return new dK(es.B(a),sv.B(a),fy.B(a),Xm.B(a),$x.B(a),Ez.B(a),Pt.B(a),PA.B(a),null,mh(b),null)}g.Ia=l;g.ga=function(a,b,c){return fK.C?fK.C(this,b,c):fK.call(null,this,b,c)};g.tg=l;g.ja=function(){return M(this.mb)};g.uh=l;g.pc=function(){return Id(this.mb)};g.rh=l;g.ia=function(){return gK.B?gK.B(this):gK.call(null,this)};g.ca=function(a,b){return hK.j?hK.j(this,b):hK.call(null,this,b)};g.vg=l;
g.od=function(){return ii.C(ii.C(ii.C(this,sv,Vg),fy,Vg),Xm,Vg)};g.wg=l;g.Ja=function(){var a=this.sb;a=iK?iK(a):jK.call(null,a);return vf(a,wf(this))};g.pd=function(){throw fm("datascript.DB/conj! is not supported",W);};g.zd=function(){return ii.C(ii.C(ii.C(this,sv,Xg),fy,Xg),Xm,Xg)};g.uf=l;g.ha=function(){return Ad(this.mb)};
g.Eg=function(a,b,c){if(D.j(b,Xm)&&(a=J(c),null!=a&&!r(kK.j?kK.j(this,a):kK.call(null,this,a))))throw fm(["Attribute ",gl.F(P([a]))," should be marked as :db/index true"].join(""),new q(null,3,[Dp,cy,oz,Xm,km,c],null));return qJ(B.j(this,b),lK.ka?lK.ka(this,b,c,0,536870912):lK.call(null,this,b,c,0,536870912),lK.ka?lK.ka(this,b,c,2147483647,2147483647):lK.call(null,this,b,c,2147483647,2147483647))};g.Cg=l;g.Eh=function(){return this.sb};g.Dg=function(a,b){a=this.Ub;return a.B?a.B(b):a.call(null,b)};
g.Fh=l;
g.Fg=function(a,b){a=Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null);b=this.mb;var f=this.Pb,h=this.Qb;Nf(cK(this,rB),c);return r(a)?r(c)?null!=d?r(e)?qJ(b,sJ.P(a,c,d,e),sJ.P(a,c,d,e)):qJ(b,sJ.P(a,c,d,536870912),sJ.P(a,c,d,2147483647)):r(e)?Zh(function(k){return D.j(e,k.Ka(null))},qJ(b,sJ.P(a,c,null,536870912),sJ.P(a,c,null,2147483647))):qJ(b,sJ.P(a,c,null,536870912),sJ.P(a,c,null,2147483647)):null!=d?r(e)?Zh(function(k){return D.j(d,k.v)&&D.j(e,k.Ka(null))},qJ(b,sJ.P(a,null,null,536870912),
sJ.P(a,null,null,2147483647))):Zh(function(k){return D.j(d,k.v)},qJ(b,sJ.P(a,null,null,536870912),sJ.P(a,null,null,2147483647))):r(e)?Zh(function(k){return D.j(e,k.Ka(null))},qJ(b,sJ.P(a,null,null,536870912),sJ.P(a,null,null,2147483647))):qJ(b,sJ.P(a,null,null,536870912),sJ.P(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(kK.j?kK.j(this,c):kK.call(null,this,c))?Zh(function(k){return D.j(e,k.Ka(null))},qJ(h,sJ.P(0,c,d,536870912),sJ.P(2147483647,c,d,2147483647))):Zh(function(k){return D.j(d,k.v)&&D.j(e,
k.Ka(null))},qJ(f,sJ.P(0,c,null,536870912),sJ.P(2147483647,c,null,2147483647))):r(kK.j?kK.j(this,c):kK.call(null,this,c))?qJ(h,sJ.P(0,c,d,536870912),sJ.P(2147483647,c,d,2147483647)):Zh(function(k){return D.j(d,k.v)},qJ(f,sJ.P(0,c,null,536870912),sJ.P(2147483647,c,null,2147483647))):r(e)?Zh(function(k){return D.j(e,k.Ka(null))},qJ(f,sJ.P(0,c,null,536870912),sJ.P(2147483647,c,null,2147483647))):qJ(f,sJ.P(0,c,null,536870912),sJ.P(2147483647,c,null,2147483647)):null!=d?r(e)?Zh(function(k){return D.j(d,
k.v)&&D.j(e,k.Ka(null))},b):Zh(function(k){return D.j(d,k.v)},b):r(e)?Zh(function(k){return D.j(e,k.Ka(null))},b):b};
function mK(a,b){switch(b instanceof C?b.na:null){case "db.unique/identity":return new X(null,3,5,Z,[Fm,rz,Uy],null);case "db.unique/value":return new X(null,3,5,Z,[Fm,hs,Uy],null);case "db.cardinality/many":return new X(null,1,5,Z,[rB],null);case "db.type/ref":return new X(null,2,5,Z,[Oz,Uy],null);default:return D.j(Gm,a)&&!0===b?new X(null,1,5,Z,[Gm],null):D.j(Uy,a)&&!0===b?new X(null,1,5,Z,[Uy],null):D.j(Oo,a)?new X(null,2,5,Z,[Rm,Uy],null):of}}
function nK(a,b){return v.C(function(c,d){return zJ(function(e,f,h){return ii.ka(e,f,R,d,h)},c,Oo.B(d.B?d.B(a):d.call(null,a)))},W,Rm.B(b))}function oK(a){var b=ag(function(c,d,e){return ag(function(f,h,k){return v.C(function(m,n){return ii.P(m,n,yJ,d)},f,mK(h,k))},c,e)},W,a);return R.C(b,Qs,nK(a,b))}function pK(a,b,c,d){if(null!=c&&!Nf(d,c))throw fm(["Bad attribute specification for ",gl.F(P([sf([a,sf([b,c])])])),", expected one of ",t.B(d)].join(""),new q(null,4,[Dp,Zo,fp,a,fB,b,kx,c],null));}
function qK(a){for(var b=E(a),c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e),h=Q(f,0,null),k=Q(f,1,null),m=Gm.j(k,!1);pK(h,Gm,Gm.B(k),new qk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var G=m;return r(G)?lh.j(XA.B(k),Oz):G}()))throw fm(["Bad attribute specification for ",gl.F(P([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[Dp,Zo,fp,h,fB,Gm],null));pK(h,Fm,Fm.B(k),new qk(null,new q(null,2,[rz,null,hs,null],null),null));pK(h,
XA,XA.B(k),new qk(null,new q(null,1,[Oz,null],null),null));pK(h,tu,tu.B(k),new qk(null,new q(null,2,[rB,null,uy,null],null),null));if(Nf(k,Oo)){f=new q(null,3,[Dp,Zo,fp,h,fB,Oo],null);if(D.j(rB,tu.B(k)))throw fm([gl.F(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Oo.B(k);if(!Bf(n))throw fm([gl.F(P([h]))," :db/tupleAttrs must be a sequential collection, got: ",gl.F(P([n]))].join(""),f);if(yf(n))throw fm([gl.F(P([h]))," :db/tupleAttrs cant be empty"].join(""),f);n=E(n);
for(var p=null,u=0,w=0;;)if(w<u){var z=p.xa(null,w),F=R.C(f,kx,z);if(Nf(B.j(a,z),Oo))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",gl.F(P([z]))].join(""),F);if(D.j(rB,tu.B(B.j(a,z))))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",gl.F(P([z]))].join(""),F);w+=1}else if(n=E(n)){if(Gf(n))u=$d(n),n=ae(n),p=u,u=M(u);else{p=J(n);u=R.C(f,kx,p);if(Nf(B.j(a,p),Oo))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
gl.F(P([p]))].join(""),u);if(D.j(rB,tu.B(B.j(a,p))))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",gl.F(P([p]))].join(""),u);n=K(n);p=null;u=0}w=0}else break}e+=1}else if(h=E(b)){b=h;if(Gf(b))c=$d(b),b=ae(b),h=c,d=M(c),c=h;else{c=J(b);h=Q(c,0,null);k=Q(c,1,null);var H=Gm.j(k,!1);pK(h,Gm,Gm.B(k),new qk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var G=H;return r(G)?lh.j(XA.B(k),Oz):G}()))throw fm(["Bad attribute specification for ",gl.F(P([h])),
": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[Dp,Zo,fp,h,fB,Gm],null));pK(h,Fm,Fm.B(k),new qk(null,new q(null,2,[rz,null,hs,null],null),null));pK(h,XA,XA.B(k),new qk(null,new q(null,1,[Oz,null],null),null));pK(h,tu,tu.B(k),new qk(null,new q(null,2,[rB,null,uy,null],null),null));if(Nf(k,Oo)){c=new q(null,3,[Dp,Zo,fp,h,fB,Oo],null);if(D.j(rB,tu.B(k)))throw fm([gl.F(P([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Oo.B(k);if(!Bf(d))throw fm([gl.F(P([h])),
" :db/tupleAttrs must be a sequential collection, got: ",gl.F(P([d]))].join(""),c);if(yf(d))throw fm([gl.F(P([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=E(d);e=null;for(n=f=0;;)if(n<f){p=e.xa(null,n);u=R.C(c,kx,p);if(Nf(B.j(a,p),Oo))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",gl.F(P([p]))].join(""),u);if(D.j(rB,tu.B(B.j(a,p))))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",gl.F(P([p]))].join(""),u);n+=1}else if(d=
E(d)){if(Gf(d))f=$d(d),d=ae(d),e=f,f=M(f);else{e=J(d);f=R.C(c,kx,e);if(Nf(B.j(a,e),Oo))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",gl.F(P([e]))].join(""),f);if(D.j(rB,tu.B(B.j(a,e))))throw fm([gl.F(P([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",gl.F(P([e]))].join(""),f);d=K(d);e=null;f=0}n=0}else break}b=K(b);c=null;d=0}e=0}else break}
function jK(a){switch(arguments.length){case 0:return iK(null);case 1:return iK(arguments[0]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function iK(a){qK(a);return eK(new q(null,8,[es,a,Pt,oK(lk.F(P([new q(null,1,[$A,new q(null,1,[Fm,rz],null)],null),a]))),sv,uJ(QJ),fy,uJ(RJ),Xm,uJ(SJ),$x,0,Ez,536870912,PA,Ch(0)],null))}function rK(a){a=Kw.B(J(rJ(a)));return r(a)?a:0}
function sK(a,b){var c=J(Ph(MJ,a));if(null!=c)throw fm(["init-db expects list of Datoms, got ",gl.F(P([Bc(c)]))].join(""),new q(null,1,[Dp,pA],null));qK(b);c=oK(lk.F(P([new q(null,1,[$A,new q(null,1,[Fm,rz],null)],null),b])));var d=Uy.B(c),e=BI(a)?a:AI(a);e.sort(UJ);var f=tJ(QJ,e);e.sort(VJ);e=tJ(RJ,e);a=Uf(Zh(function(m){return Nf(d,m.a)},a));a.sort(WJ);a=tJ(SJ,a);var h=rK(f),k=gg(Lh.B(function(m){return m.Ka(null)}),pg,536870912,f);return eK(new q(null,8,[es,b,Pt,c,sv,f,fy,e,Xm,a,$x,h,Ez,k,PA,Ch(0)],
null))}function gK(a){var b=y(a.hash);return 0===b?Dh(a.hash,AJ(se(a.sb),se(a.mb))):b}function hK(a,b){var c;if(c=(b instanceof dK||!1)&&D.j(bK(a),bK(b)))a:for(a=$J(a,sv,of),c=$J(b,sv,of),b=E(a),a=E(c);;){if(null==b){c=null==a;break a}if(D.j(J(b),J(a)))b=K(b),a=K(a);else{c=!1;break a}}return c}
function fK(a,b,c){Jd(b,"#datascript/DB {");Jd(b,":schema ");$k(bK(a),b,c);Jd(b,", :datoms ");Sk(b,function(d,e,f){return Sk(e,$k,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,BJ(d)],null))},"["," ","]",c,$J(a,sv,of));return Jd(b,"}")}
function tK(a,b,c,d,e,f,h){if(r(c)){var k=new pf(null,Rn,new pf(null,Wv,new pf(null,b,new pf(null,c,new pf(null,d,new pf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);uK.j?uK.j(c,k):uK.call(null,c,k)}return sJ.P(function(){var m=vK.j?vK.j(a,b):vK.call(null,a,b);return r(m)?m:f}(),c,r(null!=d?wK.j?wK.j(a,c):wK.call(null,a,c):!1)?xK.j?xK.j(a,d):xK.call(null,a,d):d,function(){var m=vK.j?vK.j(a,e):vK.call(null,a,e);return r(m)?m:h}())}
function lK(a,b,c,d,e){var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);b=b instanceof C?b.na:null;switch(b){case "eavt":return tK(a,f,h,k,c,d,e);case "aevt":return tK(a,h,f,k,c,d,e);case "avet":return tK(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.B(b)].join(""));}}function yK(a,b,c,d,e,f,h,k){this.sc=a;this.rc=b;this.xc=c;this.vc=d;this.yc=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.Y=139264}g=yK.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "db-before":return this.sc;case "db-after":return this.rc;case "tx-data":return this.xc;case "tempids":return this.vc;case "tx-meta":return this.yc;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[ko,this.sc],null),new X(null,2,5,Z,[Ju,this.rc],null),new X(null,2,5,Z,[fs,this.xc],null),new X(null,2,5,Z,[qC,this.vc],null),new X(null,2,5,Z,[Qo,this.yc],null)],null),this.D))};g.oa=function(){return new Xi(this,5,new X(null,5,5,Z,[ko,Ju,fs,qC,Qo],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2022644885^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.sc,b.sc)&&D.j(this.rc,b.rc)&&D.j(this.xc,b.xc)&&D.j(this.vc,b.vc)&&D.j(this.yc,b.yc)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,5,[qC,null,Ju,null,ko,null,fs,null,Qo,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new yK(this.sc,this.rc,this.xc,this.vc,this.yc,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ko,b):T.call(null,ko,b))?new yK(c,this.rc,this.xc,this.vc,this.yc,this.G,this.D,null):r(T.j?T.j(Ju,b):T.call(null,Ju,b))?new yK(this.sc,c,this.xc,this.vc,this.yc,this.G,this.D,null):r(T.j?T.j(fs,b):T.call(null,fs,b))?new yK(this.sc,this.rc,c,this.vc,this.yc,this.G,this.D,null):r(T.j?T.j(qC,b):T.call(null,qC,b))?new yK(this.sc,this.rc,this.xc,c,this.yc,this.G,this.D,null):r(T.j?T.j(Qo,b):T.call(null,Qo,b))?new yK(this.sc,this.rc,this.xc,this.vc,c,this.G,this.D,
null):new yK(this.sc,this.rc,this.xc,this.vc,this.yc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,5,5,Z,[new Y(ko,this.sc),new Y(Ju,this.rc),new Y(fs,this.xc),new Y(qC,this.vc),new Y(Qo,this.yc)],null),this.D))};g.fa=function(a,b){return new yK(this.sc,this.rc,this.xc,this.vc,this.yc,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function zK(a,b,c){return Nf(cK(a,c),b)}function wK(a,b){return zK(a,b,Oz)}
function kK(a,b){return zK(a,b,Uy)}
function AK(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw fm(["Highest supported entity id is ",gl.F(P([2147483647])),", got ",gl.F(P([b]))].join(""),new q(null,2,[Dp,fu,kx,b],null));return b}if(Bf(b)){var c=b,d=Q(c,0,null);c=Q(c,1,null);if(lh.j(M(b),2))throw fm(["Lookup ref should contain 2 elements: ",gl.F(P([b]))].join(""),new q(null,2,[Dp,Fz,fu,b],null));if(zK(a,d,Fm))return null==c?null:Kw.B(J($J(a,Xm,b)));throw fm(["Lookup ref attribute should be marked as :db/unique: ",gl.F(P([b]))].join(""),
new q(null,2,[Dp,Sm,fu,b],null));}if(wc(b))b=P(b);else{if(b instanceof C)return Kw.B(J($J(a,Xm,new X(null,2,5,Z,[$A,b],null))));throw fm(["Expected number or lookup ref for entity id, got ",gl.F(P([b]))].join(""),new q(null,2,[Dp,Dr,fu,b],null));}}}function xK(a,b){a=AK(a,b);if(r(a))return a;throw fm(["Nothing found for entity id ",gl.F(P([b]))].join(""),new q(null,2,[Dp,Fq,fu,b],null));}function vK(a,b){return r(b)?xK(a,b):null}
function uK(a,b){if(a instanceof C||"string"===typeof a)return null;throw fm(["Bad entity attribute ",gl.F(P([a]))," at ",gl.F(P([b])),", expected keyword or string"].join(""),new q(null,3,[Dp,gn,fp,a,eA,b],null));}function BK(a,b){if(null==a)throw fm(["Cannot store nil as a value at ",gl.F(P([b]))].join(""),new q(null,3,[Dp,gn,kx,a,eA,b],null));return null}function CK(a){return ei(a,new X(null,2,5,Z,[ko,Ez],null))+1}
function DK(a){return D.j(a,wm)||D.j(a,":db/current-tx")||D.j(a,"datomic.tx")||D.j(a,"datascript.tx")}function EK(a){return"number"===typeof a&&0>a||"string"===typeof a}function FK(a,b){return b>$x.B(a)&&536870912>b?R.C(a,$x,b):a}function GK(a,b,c){var d=DK(b)?ii.ka(a,qC,R,b,c):a;d=EK(b)?ii.ka(d,qC,R,b,c):d;if(b=!EK(b))a=Ju.B(a),b=c>$x.B(a)&&536870912>c;a=b?ii.ka(d,qC,R,c,c):d;return ii.P(a,Ju,FK,c)}
function HK(a,b){var c=b.$b(null);c=r(c)?zK(a,b.a,Fm):c;if(r(c)&&(c=mh($J(a,Xm,new X(null,2,5,Z,[b.a,b.v],null))),null!=c))throw fm(["Cannot add ",gl.F(P([b]))," because of unique constraint: ",gl.F(P([c]))].join(""),new q(null,3,[Dp,wz,fp,b.a,Sv,b],null));c=kK(a,b.a);if(r(b.$b(null)))return a=ii.ka(a,sv,aJ,b,UJ),a=ii.ka(a,fy,aJ,b,VJ),c=c?ii.ka(a,Xm,aJ,b,WJ):a,b=FK(c,b.e),R.C(b,PA,Ch(0));b=ZJ(a,new X(null,3,5,Z,[b.e,b.a,b.v],null));if(null==b)return a;a=ii.ka(a,sv,$I,b,UJ);a=ii.ka(a,fy,$I,b,VJ);b=
c?ii.ka(a,Xm,$I,b,WJ):a;return R.C(b,PA,Ch(0))}function IK(a,b,c,d,e){return ag(function(f,h,k){var m=B.j(f,h);r(m)||(m=Vw.B(J($J(c,sv,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Yf(Sh(M(Oo.B(B.j(bK(c),h))),null)));k=R.C(m,k,e);return R.C(f,h,k)},a,b)}function JK(a,b){var c=Ju.B(a),d=Ow.B(b);a=ii.P(R.C(a,Ju,HK(c,b)),fs,nf,b);if(zK(c,d,Qs)){var e=Kw.B(b);b=r(CJ(b))?Vw.B(b):null;var f=B.j(tz.B(a),e);f=r(f)?f:W;d=B.j(cK(c,Qs),d);c=IK(f,d,c,e,b);return ii.ka(a,tz,R,e,c)}return a}
function KK(a){if(a instanceof C)return D.j("_",$e(Ig(a),0));if("string"===typeof a)return Kf(Mk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw fm(["Bad attribute type: ",gl.F(P([a])),", expected keyword or string"].join(""),new q(null,2,[Dp,gn,fp,a],null));}
function LK(a){if(a instanceof C)return KK(a)?Hg.j(Fg(a),yg.j(Ig(a),1)):Hg.j(Fg(a),["_",Ig(a)].join(""));if("string"===typeof a){var b=Mk(/(?:([^\/]+)\/)?([^\/]+)/,a);Q(b,0,null);a=Q(b,1,null);b=Q(b,2,null);return D.j("_",$e(b,0))?r(a)?[t.B(a),"/",yg.j(b,1)].join(""):yg.j(b,1):r(a)?[t.B(a),"/_",t.B(b)].join(""):["_",t.B(b)].join("")}throw fm(["Bad attribute type: ",gl.F(P([a])),", expected keyword or string"].join(""),new q(null,2,[Dp,gn,fp,a],null));}
function MK(a,b){function c(f,h){return v.C(function(k,m){var n=d(f,m);return null==n?ii.P(k,0,nf,m):ii.ka(k,1,R,m,n)},new X(null,2,5,Z,[of,W],null),h)}function d(f,h){return Kw.B(J($J(a,Xm,new X(null,2,5,Z,[f,h],null))))}var e=mh(cK(a,rz));return null==e?new X(null,2,5,Z,[b,null],null):ag(function(f,h,k){var m=Q(f,0,null);f=Q(f,1,null);if(Nf(e,h)){if(zK(a,h,rB)&&(BI(k)||zf(k)&&!Cf(k))){var n=c(h,k);k=Q(n,0,null);n=Q(n,1,null);return new X(null,2,5,Z,[yf(k)?m:R.C(m,h,k),yf(n)?f:R.C(f,h,n)],null)}n=
d(h,k);return null==n?new X(null,2,5,Z,[R.C(m,h,k),f],null):new X(null,2,5,Z,[m,R.C(f,h,sf([k,n]))],null)}return new X(null,2,5,Z,[R.C(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function NK(a,b){var c=ag(function(h,k,m){return ag(function(n,p,u){return R.C(n,u,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=M(c)){b=J(c);a=Q(b,0,null);var d=Q(b,1,null);b=Q(d,0,null);d=Q(d,1,null);var e=kf(c);c=Q(e,0,null);var f=Q(e,1,null);e=Q(f,0,null);f=Q(f,1,null);throw fm(["Conflicting upserts: ",gl.F(P([new X(null,2,5,Z,[b,d],null)]))," resolves to ",gl.F(P([a])),", but ",gl.F(P([new X(null,2,5,Z,[e,f],null)]))," resolves to ",gl.F(P([c]))].join(""),new q(null,3,[Dp,ct,RB,new X(null,
3,5,Z,[a,b,d],null),Rv,new X(null,3,5,Z,[c,e,f],null)],null));}d=J(c);b=Q(d,0,null);c=Q(d,1,null);d=Q(c,0,null);c=Q(c,1,null);a=Wf.B(a);if(null!=b&&null!=a&&!EK(a)&&lh.j(b,a))throw fm(["Conflicting upsert: ",gl.F(P([new X(null,2,5,Z,[d,c],null)]))," resolves to ",gl.F(P([b])),", but entity already has :db/id ",gl.F(P([a]))].join(""),new q(null,3,[Dp,ct,RB,new X(null,3,5,Z,[b,d,c],null),Rv,new q(null,1,[Wf,a],null)],null));return b}
function OK(a,b,c){return KK(b)||zK(a,b,rB)?BI(c)||zf(c)&&!Cf(c)?D.j(M(c),2)&&zK(a,J(c),rz)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function PK(a,b){var c=Wf.B(b);return function f(e){return new Jg(null,function(){for(var h=e;;){var k=E(h);if(k){var m=k,n=J(m),p=Q(n,0,null),u=Q(n,1,null);if(lh.j(p,Wf)){var w=uK(p,sf([Wf,c,p,u])),z=KK(p),F=z?LK(p):p;if(z&&!wK(a,F))throw fm(["Bad attribute ",gl.F(P([p])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new q(null,3,[Dp,gn,fp,p,eA,sf([Wf,c,p,u])],null));if(k=E(function(H,G,N,O,U,ea,va,xa,ya,Ta,ka){return function ua(Ca){return new Jg(null,function(Ba,
Ya,bc,yb,fc,Yb,Vd,dg,Ef,Wg,Zc){return function(){for(;;){var Dd=E(Ca);if(Dd){if(Gf(Dd)){var ye=$d(Dd),eg=M(ye),Ed=Ng(eg);a:for(var ze=0;;)if(ze<eg){var Fd=x(ye,ze);Fd=wK(a,yb)&&Cf(Fd)?R.C(Fd,LK(Vd),Zc):bc?new X(null,4,5,Z,[hC,Fd,yb,Zc],null):new X(null,4,5,Z,[hC,Zc,yb,Fd],null);Ed.add(Fd);ze+=1}else{ye=!0;break a}return ye?Pg(Rg(Ed),ua(ae(Dd))):Pg(Rg(Ed),null)}Ed=J(Dd);return ff(wK(a,yb)&&Cf(Ed)?R.C(Ed,LK(Vd),Zc):bc?new X(null,4,5,Z,[hC,Ed,yb,Zc],null):new X(null,4,5,Z,[hC,Zc,yb,Ed],null),ua(De(Dd)))}return null}}}(H,
G,N,O,U,ea,va,xa,ya,Ta,ka),null,null)}}(h,w,z,F,null,n,p,u,m,k,c)(OK(a,p,u))))return V.j(k,f(De(h)))}h=De(h)}else return null}},null,null)}(b)}function QK(a,b){Q(b,0,null);var c=Q(b,1,null),d=Q(b,2,null),e=Q(b,3,null),f=Q(b,4,null);uK(d,b);BK(e,b);b=r(f)?f:CK(a);f=Ju.B(a);c=xK(f,c);e=wK(f,d)?xK(f,e):e;var h=sJ.P(c,d,e,b);f=zK(f,d,rB)?ZJ(f,new X(null,3,5,Z,[c,d,e],null)):ZJ(f,new X(null,2,5,Z,[c,d],null));return null==f?JK(a,h):D.j(f.v,e)?ii.P(a,xt,xJ,h):JK(JK(a,sJ.ka(c,d,f.v,b,!1)),h)}
function RK(a,b){var c=CK(a);return JK(a,sJ.ka(b.e,b.a,b.v,c,!1))}function SK(a,b){return ai.C(sk,wh.j(Yh(function(c){return zK(a,c.a,Gm)}),Lh.B(function(c){return new X(null,2,5,Z,[$p,c.v],null)})),b)}function TK(a,b,c,d,e){if(Nf(qC.B(a),d))throw fm(["Conflicting upsert: ",gl.F(P([d]))," resolves both to ",gl.F(P([e]))," and ",gl.F(P([ei(a,new X(null,2,5,Z,[qC,d],null))]))].join(""),new q(null,1,[Dp,ct],null));b=R.C(qC.B(b),d,e);a=R.C(a,qC,b);return UK.j?UK.j(a,c):UK.call(null,a,c)}
var VK=new qk(null,new q(null,8,[gv,null,yv,null,$p,null,Fs,null,Qr,null,kt,null,Jn,null,hC,null],null),null);function WK(a){var b=Ju.B(a);bK(b);cK(b,Qs);return ag(function(c,d,e){return ag(function(f,h,k){k=rh(vc,k)?null:k;var m=Vw.B(J($J(b,sv,new X(null,2,5,Z,[d,h],null))));return D.j(k,m)?f:null==k?nf.j(f,vf(new X(null,4,5,Z,[Qr,d,h,m],null),new q(null,1,[Ws,!0],null))):nf.j(f,vf(new X(null,4,5,Z,[hC,d,h,k],null),new q(null,1,[Ws,!0],null)))},c,e)},of,tz.B(a))}
function XK(a){var b=Tm.B(a);b=v.C(function(c,d){return r(CJ(d))?S.j(c,Kw.B(d)):c},b,V.j(fs.B(a),xt.B(a)));if(yf(b))return S.F(a,Tm,P([xt]));throw fm(["Tempids used only as value in transaction: ",gl.F(P([Tf(Qf,dj(b))]))].join(""),new q(null,2,[Dp,gn,qC,b],null));}
function UK(a,b){if(null!=b&&!Bf(b))throw fm(["Bad transaction data ",gl.F(P([b])),", expected sequential collection"].join(""),new q(null,2,[Dp,gn,fs,b],null));for(var c=!yf(cK(Ju.B(a),Rm)),d=c?Vh.j(b,Rh(Hm)):b,e=a,f=d;;){if(yf(f))return ii.ka(ii.ka(XK(e),qC,R,wm,CK(e)),Ju,ii,Ez,Me);var h=f,k=E(h),m=J(k),n=K(k),p=m,u=n;if(null==p)f=u;else if(D.j(Hm,p))if(Nf(e,tz)){var w=S.j(e,tz);u=V.j(WK(e),u);e=w;f=u}else f=u;else{var z=Ju.B(e),F=qC.B(e);if(Cf(p)){var H=Wf.B(p);if(DK(H))w=CK(e),e=GK(e,H,w),f=u=
ff(R.C(p,Wf,w),u);else if(Bf(H))w=xK(z,H),f=u=ff(R.C(p,Wf,w),u);else{var G=MK(z,p);w=Q(G,0,null);G=Q(G,1,null);var N=NK(w,G);if(null!=N){if(EK(H)&&Nf(F,H)&&lh.j(N,B.j(F,H)))return TK(a,e,b,H,N);e=GK(e,H,N);f=u=V.j(PK(z,R.C(w,Wf,N)),u)}else if("number"===typeof H||null==H||"string"===typeof H)w=null==H?$x.B(z)+1:EK(H)?function(){var Yb=B.j(F,H);return r(Yb)?Yb:$x.B(z)+1}():H,p=R.C(p,Wf,w),e=GK(e,H,w),f=u=V.j(PK(z,p),u);else throw fm(["Expected number, string or lookup ref for :db/id, got ",gl.F(P([H]))].join(""),
new q(null,2,[Dp,Dr,Lu,p],null));}}else if(Bf(p)){var O=p;G=Q(O,0,null);var U=Q(O,1,null);w=Q(O,2,null);var ea=Q(O,3,null);if(D.j(G,gv)){w=E(p);p=J(w);w=K(w);var va=p;p=J(w);w=K(w);f=u=V.j(hh(p,z,w),u)}else if(G instanceof C&&yc(VK.B?VK.B(G):VK.call(null,G))){va=AK(z,G);if(null==va)throw fm(["Cant find entity for transaction fn ",gl.F(P([G]))].join(""),new q(null,3,[Dp,gn,ss,gv,fs,p],null));U=Vw.B(ZJ(z,new X(null,2,5,Z,[va,Ar],null)));w=K(p);if(tf(U))f=u=V.j(hh(U,z,w),u);else throw fm(["Entity ",
gl.F(P([G]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[Dp,gn,ss,gv,fs,p],null));}else{if(EK(U)&&lh.j(G,hC))throw fm(["Can't use tempid in '",gl.F(P([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[Dp,gn,Bo,p],null));if(D.j(G,Jn)||D.j(G,yv)){var xa=p;va=Q(xa,0,null);var ya=Q(xa,1,null),Ta=Q(xa,2,null),ka=Q(xa,3,null),pa=Q(xa,4,null),Ca=xK(z,ya),ua=uK(Ta,p),Ba=wK(z,Ta)?xK(z,ka):ka,Ya=wK(z,Ta)?xK(z,pa):pa,bc=BK(Ya,p),yb=Yf(YJ(z,new X(null,2,5,Z,
[Ca,Ta],null)));if(zK(z,Ta,rB))if(r(sh(function(Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze){return function(Fd){return D.j(Fd.v,ze)}}(e,f,xa,va,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb,O,G,U,w,ea,z,F,h,k,m,n,p,u,a,c,d),yb)))e=QK(e,new X(null,4,5,Z,[hC,Ca,Ta,Ya],null)),f=u;else throw fm([":db.fn/cas failed on datom [",gl.F(P([Ca]))," ",gl.F(P([Ta]))," ",gl.F(P([Lh.j(Vw,yb)])),"], expected ",gl.F(P([Ba]))].join(""),new q(null,4,[Dp,En,yA,yb,jm,Ba,Or,Ya],null));else if(G=Vw.B(J(yb)),D.j(G,Ba))e=QK(e,new X(null,4,5,Z,[hC,
Ca,Ta,Ya],null)),f=u;else throw fm([":db.fn/cas failed on datom [",gl.F(P([Ca]))," ",gl.F(P([Ta]))," ",gl.F(P([G])),"], expected ",gl.F(P([Ba]))].join(""),new q(null,4,[Dp,En,yA,J(yb),jm,Ba,Or,Ya],null));}else if(DK(U))p=GK(e,U,CK(e)),u=ff(new X(null,4,5,Z,[G,CK(e),w,ea],null),u),e=p,f=u;else if(wK(z,w)&&DK(ea))p=GK(e,ea,CK(e)),u=ff(new X(null,4,5,Z,[G,U,w,CK(e)],null),u),e=p,f=u;else if(wK(z,w)&&EK(ea))va=B.j(F,ea),null==va?(p=$x.B(z)+1,e=ii.ka(GK(e,ea,p),Tm,R,p,ea),f=u=f):(p=va,e=ii.ka(e,Tm,R,p,
ea),f=u=ff(new X(null,4,5,Z,[G,U,w,p],null),u));else if(EK(U)){N=zK(z,w,rz)?Kw.B(J($J(z,Xm,new X(null,2,5,Z,[w,ea],null)))):null;var fc=B.j(F,U);if(r(function(){var Yb=N;return r(Yb)?(Yb=fc,r(Yb)?lh.j(N,fc):Yb):Yb}()))return TK(a,e,b,U,N);p=function(){var Yb=N;if(r(Yb))return Yb;Yb=fc;return r(Yb)?Yb:$x.B(z)+1}();e=GK(e,U,p);f=u=ff(new X(null,4,5,Z,[G,p,w,ea],null),u)}else{if(yc(Ws.B(wf(p)))&&zK(z,w,Rm))throw fm(["Cant modify tuple attrs directly: ",gl.F(P([p]))].join(""),new q(null,2,[Dp,gn,fs,
p],null));if(D.j(G,hC))e=QK(e,p),f=u;else if(D.j(G,Qr)&&null!=ea)va=AK(z,U),null==va?f=u:(ya=va,G=wK(z,w)?xK(z,ea):ea,uK(w,p),BK(G,p),w=ZJ(z,new X(null,3,5,Z,[ya,w,G],null)),null==w?f=u:(e=RK(e,w),f=u));else if(D.j(G,kt)||D.j(G,Qr))va=AK(z,U),null==va?f=u:(ya=va,va=uK(w,p),yb=Yf(YJ(z,new X(null,2,5,Z,[ya,w],null))),e=v.C(RK,e,yb),f=u=V.j(SK(z,yb),u));else if(D.j(G,$p)||D.j(G,Fs))va=AK(z,U),null==va?f=u:(ya=va,yb=Yf(YJ(z,new X(null,1,5,Z,[ya],null))),w=Yf(Xh(function(Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,
ze){return function(Fd){return YJ(ze,new X(null,3,5,Z,[null,Fd,Ef],null))}}(e,f,yb,ya,va,O,G,U,w,ea,z,F,h,k,m,n,p,u,a,c,d),P([cK(z,Oz)]))),e=v.C(RK,e,V.j(yb,w)),f=u=V.j(SK(z,yb),u));else throw fm(["Unknown operation at ",gl.F(P([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new q(null,3,[Dp,gn,ss,G,fs,p],null));}}}else if(MJ(p))G=p,U=Q(G,0,null),w=Q(G,1,null),ea=Q(G,2,null),p=Q(G,3,null),G=Q(G,4,null),r(G)?(e=QK(e,new X(null,5,5,Z,[hC,U,w,ea,p],null)),f=u):f=u=ff(new X(null,4,5,Z,[Qr,U,w,ea],null),u);else throw fm(["Bad entity type at ",gl.F(P([p])),", expected map or vector"].join(""),new q(null,2,[Dp,gn,fs,p],null));}}};function YK(a,b,c,d,e){this.ld=a;this.pb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=YK.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "wildcard?":return this.ld;case "attrs":return this.pb;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ap,this.ld],null),new X(null,2,5,Z,[Vt,this.pb],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[ap,Vt],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=90253489^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ld,b.ld)&&D.j(this.pb,b.pb)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[Vt,null,ap,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new YK(this.ld,this.pb,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ap,b):T.call(null,ap,b))?new YK(c,this.pb,this.G,this.D,null):r(T.j?T.j(Vt,b):T.call(null,Vt,b))?new YK(this.ld,c,this.G,this.D,null):new YK(this.ld,this.pb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(ap,this.ld),new Y(Vt,this.pb)],null),this.D))};g.fa=function(a,b){return new YK(this.ld,this.pb,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function ZK(a){if(null!=a&&null!=a.bd)a=a.bd(a);else{var b=ZK[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ZK._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IPullSpecComponent.-as-spec",a);}return a}function $K(a,b,c,d){this.attr=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=$K.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[my,this.attr],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[my],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-838771693^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[this.attr,new q(null,1,[my,this.attr],null)],null)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[my,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new $K(this.attr,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(my,b):T.call(null,my,b))?new $K(c,this.G,this.D,null):new $K(this.attr,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(my,this.attr)],null),this.D))};g.fa=function(a,b){return new $K(this.attr,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function aL(a,b,c,d,e){this.attr=a;this.Sc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=aL.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "rattr":return this.Sc;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[my,this.attr],null),new X(null,2,5,Z,[Wy,this.Sc],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[my,Wy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=158820207^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Sc,b.Sc)&&D.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[this.Sc,new q(null,1,[my,this.attr],null)],null)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[Wy,null,my,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new aL(this.attr,this.Sc,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(my,b):T.call(null,my,b))?new aL(c,this.Sc,this.G,this.D,null):r(T.j?T.j(Wy,b):T.call(null,Wy,b))?new aL(this.attr,c,this.G,this.D,null):new aL(this.attr,this.Sc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(my,this.attr),new Y(Wy,this.Sc)],null),this.D))};g.fa=function(a,b){return new aL(this.attr,this.Sc,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function bL(a,b,c,d,e){this.attr=a;this.limit=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=bL.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[my,this.attr],null),new X(null,2,5,Z,[Nm,this.limit],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[my,Nm],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=2109320956^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.limit,b.limit)&&D.j(this.D,b.D)};g.bd=function(){return gi(ZK(this.attr),new X(null,2,5,Z,[1,Nm],null),this.limit)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[Nm,null,my,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new bL(this.attr,this.limit,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(my,b):T.call(null,my,b))?new bL(c,this.limit,this.G,this.D,null):r(T.j?T.j(Nm,b):T.call(null,Nm,b))?new bL(this.attr,c,this.G,this.D,null):new bL(this.attr,this.limit,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(my,this.attr),new Y(Nm,this.limit)],null),this.D))};g.fa=function(a,b){return new bL(this.attr,this.limit,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function cL(a,b,c,d,e){this.attr=a;this.value=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=cL.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "value":return this.value;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[my,this.attr],null),new X(null,2,5,Z,[kx,this.value],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[my,kx],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1499761615^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.value,b.value)&&D.j(this.D,b.D)};g.bd=function(){return gi(ZK(this.attr),new X(null,2,5,Z,[1,am],null),this.value)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[kx,null,my,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new cL(this.attr,this.value,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(my,b):T.call(null,my,b))?new cL(c,this.value,this.G,this.D,null):r(T.j?T.j(kx,b):T.call(null,kx,b))?new cL(this.attr,c,this.G,this.D,null):new cL(this.attr,this.value,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(my,this.attr),new Y(kx,this.value)],null),this.D))};g.fa=function(a,b){return new cL(this.attr,this.value,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function dL(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.Y=139264}g=dL.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,V.j(of,this.D))};
g.oa=function(){return new Xi(this,0,of,r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-163917799^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(sk,b)?S.j(rd(ai.j(W,this),this.G),b):new dL(this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new dL(this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(of,this.D))};
g.fa=function(a,b){return new dL(b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function eL(a,b,c,d){this.limit=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=eL.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "limit":return this.limit;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Nm,this.limit],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[Nm],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1552688154^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.limit,b.limit)&&D.j(this.D,b.D)};g.bd=function(){return new X(null,2,5,Z,[Ls,this.limit],null)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[Nm,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new eL(this.limit,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Nm,b):T.call(null,Nm,b))?new eL(c,this.G,this.D,null):new eL(this.limit,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(Nm,this.limit)],null),this.D))};g.fa=function(a,b){return new eL(this.limit,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function fL(a,b,c,d,e){this.attr=a;this.Rc=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=fL.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "porrl":return this.Rc;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[my,this.attr],null),new X(null,2,5,Z,[kC,this.Rc],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[my,kC],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=152088668^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Rc,b.Rc)&&D.j(this.D,b.D)};g.bd=function(){return ii.P(ZK(this.attr),1,nf,ZK(this.Rc))};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[kC,null,my,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new fL(this.attr,this.Rc,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(my,b):T.call(null,my,b))?new fL(c,this.Rc,this.G,this.D,null):r(T.j?T.j(kC,b):T.call(null,kC,b))?new fL(this.attr,c,this.G,this.D,null):new fL(this.attr,this.Rc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(my,this.attr),new Y(kC,this.Rc)],null),this.D))};g.fa=function(a,b){return new fL(this.attr,this.Rc,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function gL(a,b,c,d,e){this.attr=a;this.Yb=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=gL.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attr":return this.attr;case "opts":return this.Yb;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[my,this.attr],null),new X(null,2,5,Z,[ao,this.Yb],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[my,ao],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-429987476^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.attr,b.attr)&&D.j(this.Yb,b.Yb)&&D.j(this.D,b.D)};g.bd=function(){return ii.P(ZK(this.attr),1,lk,this.Yb)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[ao,null,my,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new gL(this.attr,this.Yb,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(my,b):T.call(null,my,b))?new gL(c,this.Yb,this.G,this.D,null):r(T.j?T.j(ao,b):T.call(null,ao,b))?new gL(this.attr,c,this.G,this.D,null):new gL(this.attr,this.Yb,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(my,this.attr),new Y(ao,this.Yb)],null),this.D))};g.fa=function(a,b){return new gL(this.attr,this.Yb,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function hL(a,b){return b instanceof dL?R.C(a,ap,!0):ii.P(a,Vt,Yg,ZK(b))}function iL(a,b,c,d){this.hd=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=iL.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "specs":return this.hd;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[ev,this.hd],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[ev],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-795554044^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.hd,b.hd)&&D.j(this.D,b.D)};g.bd=function(){var a=new YK(!1,Rd(W),null,null,null);a=v.C(hL,a,this.hd);return new X(null,2,5,Z,[Sq,ii.C(a,Vt,Xg)],null)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[ev,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new iL(this.hd,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ev,b):T.call(null,ev,b))?new iL(c,this.G,this.D,null):new iL(this.hd,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(ev,this.hd)],null),this.D))};g.fa=function(a,b){return new iL(this.hd,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};var jL=new qk(null,new q(null,3,[Cs,null,"*",null,Mx,null],null),null);
function kL(a){return a instanceof C||"string"===typeof a?KK(a)?new aL(LK(a),a,null,null,null):new $K(a,null,null,null):null}var lL=new qk(null,new q(null,2,["...",null,nv,null],null),null);function mL(a){return Bf(a)&&D.j(3,M(a))}var nL=new qk(null,new q(null,3,[Yp,null,Nm,null,"limit",null],null),null);
function oL(a){var b=Q(a,0,null),c=Q(a,1,null),d=Q(a,2,null);if(r(nL.B?nL.B(b):nL.call(null,b))){b=null==d||"number"===typeof d&&0<d?kL(c):!1;if(r(b))return new bL(b,d,null,null,null);throw fm('Expected ["limit" attr-name (positive-number | nil)]',new q(null,2,[Dp,My,It,a],null));}return null}var pL=new qk(null,new q(null,3,[gp,null,am,null,"default",null],null),null);
function qL(a){if(Bf(a)){a=E(a);var b=J(a);a=K(a);b=kL(b);if(null==b)a=null;else{var c;if(c=th(M(a)))c=rh(new qk(null,new q(null,3,[Nm,null,am,null,Hz,null],null),null),Lh.j(J,di(2,2,a)));a=c?new gL(b,gh(ik,a),null,null,null):null}return a}return null}
function rL(a){var b=Q(a,0,null),c=Q(a,1,null);a=function(){var e=kL(b);if(r(e))return e;e=qL(b);return r(e)?e:mL(b)?oL(b):null}();if(r(a)){var d=function(){var e=r(lL.B?lL.B(c):lL.call(null,c))?new eL(null,null,null,null):"number"===typeof c&&0<c?new eL(c,null,null,null):null;return r(e)?e:sL.B?sL.B(c):sL.call(null,c)}();if(r(d))return new fL(a,d,null,null,null);throw fm("Expected (pattern | recursion-limit)",new q(null,2,[Dp,My,It,new X(null,2,5,Z,[b,c],null)],null));}throw fm("Expected (attr-name | limit-expr)",
new q(null,2,[Dp,My,It,new X(null,2,5,Z,[b,c],null)],null));}
function tL(a){var b=kL(a);if(r(b))return b;b=r(jL.B?jL.B(a):jL.call(null,a))?new dL(null,null,null):null;if(r(b))return b;b=Cf(a)?rL(J(a)):null;if(r(b))return b;b=qL(a);if(r(b))return b;if(mL(a)){if(b=oL(a),!r(b))b:{var c=Q(a,0,null),d=Q(a,1,null);b=Q(a,2,null);if(r(pL.B?pL.B(c):pL.call(null,c))){c=kL(d);if(r(c)){b=new cL(c,b,null,null,null);break b}throw fm('Expected ["default" attr-name any-value]',new q(null,2,[Dp,My,It,a],null));}b=null}}else b=null;if(r(b))return b;throw fm("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new q(null,2,[Dp,My,It,a],null));}function uL(a){return Cf(a)?Gy:r(jL.B?jL.B(a):jL.call(null,a))?gu:zv}function vL(a){return ai.C(of,Lh.B(function(b){return nf.j(W,b)}),a)}function wL(a){a=Ml(uL,a);var b=r(mh(B.j(a,gu)))?new X(null,1,5,Z,[Mx],null):of;return ai.C(ai.j(b,B.j(a,zv)),wh.j(Lh.B(vL),zl),B.j(a,Gy))}function sL(a){return Bf(a)?new iL(ai.C(of,Lh.B(tL),wL(a)),null,null,null):null}
function xL(a){var b=null==a?null:sL(a);b=null==b?null:kf(ZK(b));if(r(b))return b;throw fm("Cannot parse pull pattern, expected: [attr-spec+]",new q(null,2,[Dp,My,It,a],null));};function yL(a,b){return v.C(Yg,a,b)}function zL(a,b,c){return Oj([gq,oo,io,Ls,ev,ap,et,CA,XB],[c,b,CA,new q(null,2,[fq,W,Vr,sk],null),E(Vt.B(a)),ap.B(a),Rd(W),a,Rd(of)])}function AL(a,b,c,d){return R.C(zL(a,b,c),my,d)}function BL(a,b,c){var d=CA.B(a);return R.F(a,oo,b,P([ev,E(Vt.B(d)),ap,ap.B(d),et,Rd(W),XB,function(){var e=XB.B(a);return E(c)?Yg.j(e,c):e}()]))}
function CL(a,b,c){var d=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,e=B.j(d,fq);d=B.j(d,Vr);return R.F(a,fq,ii.C(e,b,yh(Me,0)),P([Vr,nf.j(d,c)]))}function DL(a,b,c){return Nf(fi(a,new X(null,2,5,Z,[Ls,Vr],null),sk),c)?nf.j(b,ii.P(a,XB,Yg,new q(null,1,[Wf,c],null))):null}function EL(a,b){b=et.B(b);b=null==b?null:Td(b);return null==b?null:B.j(b,a)}function FL(a,b){var c=my.B(a);c=CL(Ls.B(a),c,b);return R.C(AL(CA.B(a),new X(null,1,5,Z,[b],null),!1,Wt),Ls,c)}
function GL(a){a=E(a);var b=J(a);a=K(a);var c=E(oo.B(b));if(c){b=BL(b,De(c),EL(Wt,b));c=J(c);var d=DL(b,a,c);return r(d)?d:nf.F(a,b,P([FL(b,c)]))}c=EL(Wt,b);d=XB.B(b);c=E(c)?Yg.j(d,c):d;return nf.j(a,R.F(b,io,ux,P([XB,c])))}function HL(a,b,c,d,e){var f=null!=d&&(d.J&64||l===d.ua)?gh(hk,d):d,h=B.j(f,Ls);f=B.j(f,CA);var k=B.C(B.j(h,fq),a,0);return D.j(Ls.B(B.j(Vt.B(f),a)),k)?nf.j(e,d):GL(nf.F(e,d,P([new q(null,7,[io,Ls,CA,f,my,a,gq,b,oo,c,Ls,h,XB,Rd(of)],null)])))}var sG=new YK(!0,W,null,null,null);
function JL(a,b,c,d,e){a=CL(Ls.B(a),c,b);return R.C(AL(sG,e,d,c),Ls,a)}
function KL(a,b,c,d,e,f,h,k){var m=E(k);k=J(m);m=K(m);var n=B.C(h,Nm,1E3),p=function(){var G=Hz.B(h);return r(G)?G:b}(),u=mh(r(n)?ai.C(of,Mh.B(n),f):f);if(r(u)){var w=wK(a,c);f=w&&zK(a,c,Gm);a=r(e)?zK(a,c,rB):!f;var z=r(e)?function(G){return G.v}:function(G){return G.e};if(Nf(h,Sq))return nf.F(m,k,P([AL(Sq.B(h),bi.j(z,u),a,p)]));if(Nf(h,Ls))return HL(p,a,bi.j(z,u),k,m);if(r(f?e:!1))return nf.F(m,k,P([JL(k,d,p,a,bi.j(z,u))]));var F=function(){return w?wh.j(function(G){return Oj([Wf],[G])},z):z}(),
H=!a;return nf.j(m,ii.ka(k,et,Zg,p,function(){var G=ai.C(of,Lh.B(F),u);return H?J(G):G}()))}return nf.j(m,Nf(h,am)?ii.ka(k,et,Zg,p,am.B(h)):k)}var LL=Yh(function(a){var b=Q(a,0,null);a=Q(a,1,null);return lh.j(b,my.B(a))});function ML(a,b,c){return AL(R.F(CA.B(a),Vt,c,P([ap,!1])),new X(null,1,5,Z,[b],null),!1,ho)}function NL(a,b){return nf.j(De(a),ii.P(J(a),et,yL,Td(b)))}function OL(a){var b=E(a);a=J(b);b=K(b);var c=ay.B(a);a=EL(ho,a);return NL(b,yL(c,r(a)?a:W))}
function PL(a,b){var c=E(b);b=J(c);c=K(c);var d=E(Tq.B(b));if(d){var e=J(d);d=Q(e,0,null);e=Q(e,1,null);var f=B.C(ei(b,new X(null,2,5,Z,[CA,Vt],null)),d,W);return KL(a,d,d,xw.B(b),!0,e,f,nf.j(c,ii.C(b,Tq,De)))}a=mh(ai.C(W,LL,ei(b,new X(null,2,5,Z,[CA,Vt],null))));return r(a)?(b=R.F(b,io,to,P([ay,et.B(b),et,Rd(W)])),nf.F(c,b,P([ML(b,xw.B(b),a)]))):NL(c,et.B(b))}
function QL(a,b,c,d,e){var f=Ml(function(m){return m.a},$J(a,sv,new X(null,1,5,Z,[d],null))),h=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b,k=B.j(h,my);h=B.j(h,Ls);k=null!=k?CL(h,k,d):h;return PL(a,nf.F(c,b,P([new q(null,6,[io,ez,et,Rd(new q(null,1,[Wf,d],null)),xw,d,CA,e,Tq,E(f),Ls,k],null)])))}
function RL(a,b){for(;;){var c=E(b);b=J(c);var d=K(c);c=b;if(b=E(oo.B(c))){if(r(ap.B(c))){b=R.F(c,ev,of,P([xw,J(b),ap,!1]));c=d;var e=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;d=B.j(e,xw);e=B.j(e,CA);var f=DL(b,c,d);return r(f)?f:QL(a,b,c,d,e)}if(e=E(ev.B(c))){f=e;e=J(f);CA.B(c);c=nf.j(d,R.C(c,ev,De(f)));b=J(b);d=Q(e,0,null);e=Q(e,1,null);if(D.j(Wf,d))a=r(mh($J(a,sv,new X(null,1,5,Z,[b],null))))?nf.j(De(c),ii.ka(J(c),et,Zg,Wf,b)):c;else{f=my.B(e);var h=D.j(d,f),k=h?$J(a,sv,new X(null,2,5,Z,[b,f],null)):
$J(a,Xm,new X(null,2,5,Z,[f,b],null));a=KL(a,d,f,b,h,k,e,c)}return a}b=nf.j(d,BL(c,De(b),mh(Td(et.B(c)))))}else return nf.j(d,R.C(c,io,ux))}}
function SL(a,b){for(;;){var c=io.B(J(b));c=c instanceof C?c.na:null;switch(c){case "expand":c=a;b=PL(a,b);a=c;continue;case "expand-rev":b=OL(b);continue;case "pattern":c=a;b=RL(a,b);a=c;continue;case "recursion":b=GL(b);continue;case "done":c=E(b);b=J(c);c=K(c);var d=b,e=c,f=function(){var h=Td(XB.B(d));return yc(gq.B(d))?J(h):h}();if(E(e)){b=nf.j(De(e),function(){var h=J(e);return r(f)?ii.ka(h,et,Zg,my.B(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",t.B(c)].join(""));
}}}function TL(a,b,c){c=ai.C(of,Lh.B(function(d){return xK(a,d)}),c);return SL(a,new pf(null,zL(b,c,!1),null,1,null))};function UL(a,b,c,d,e){this.Pd=a;this.Kg=b;this.Mg=c;this.Jg=d;this.limit=e;this.J=2147484416;this.Y=0}UL.prototype.da=function(a,b,c){return VL.C?VL.C(this,b,c):VL.call(null,this,b,c)};UL.prototype.ma=function(a,b){return ad(this.Pd,b,null)};UL.prototype.R=function(a,b,c){return ad(this.Pd,b,c)};UL.prototype.ga=function(a,b,c){return Md(this.Pd,b,c)};function WL(a,b,c,d,e){return new UL(a,b,c,d,e)}
function VL(a,b,c){var d=a.Pd,e=a.Kg,f=a.Mg,h=a.Jg;a=a.limit;var k=f.j?f.j(b,null):f.call(null,b,null);if(r(k))return WL(d,R.C(S.j(e,k),h,b),R.C(f,b,h),h+1,a);b=WL(R.C(d,b,c),R.C(e,h,b),R.C(f,b,h),h+1,a);return XL.B?XL.B(b):XL.call(null,b)}function XL(a){if(M(a.Pd)>a.limit){var b=a.Pd,c=a.Kg,d=a.Mg,e=a.Jg;a=a.limit;var f=J(c),h=Q(f,0,null);f=Q(f,1,null);return WL(S.j(b,f),S.j(c,h),S.j(d,f),e,a)}return a};function YL(a,b){b="number"===typeof b||Bf(b)||b instanceof C?AK(a,b):null;if(r(b)){var c=new Gh(!1),d=new Gh(W);return ZL.P?ZL.P(a,b,c,d):ZL.call(null,a,b,c,d)}return null}function $L(a,b,c){return zK(a,b,rB)?wK(a,b)?v.C(function(d,e){return nf.j(d,YL(a,Vw.B(e)))},sk,c):v.C(function(d,e){return nf.j(d,Vw.B(e))},sk,c):wK(a,b)?YL(a,Vw.B(J(c))):Vw.B(J(c))}
function aM(a,b,c,d){b=mh(YJ(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?zK(a,c,Gm)?YL(a,Kw.B(J(b))):v.C(function(e,f){return nf.j(e,YL(a,Kw.B(f)))},sk,b):d}function bM(a){return r(a)?Uf(a):null}
function cM(a){dM.B?dM.B(a):dM.call(null,a);return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(Gf(e)){var f=$d(e),h=M(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=Q(n,0,null);n=Q(n,1,null);p=zK(a.db,p,rB)?new X(null,2,5,Z,[p,bM(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?Pg(Rg(k),d(ae(e))):Pg(Rg(k),null)}f=J(e);k=Q(f,0,null);f=Q(f,1,null);return ff(zK(a.db,k,rB)?new X(null,2,5,Z,[k,bM(f)],null):new X(null,2,5,Z,[k,f],null),d(De(e)))}return null}},
null,null)}(y(a.cache))}function eM(a,b,c,d){this.db=a;this.Oc=b;this.eg=c;this.cache=d;this.J=2162164483;this.Y=0}g=eM.prototype;g.entry_set=function(){return Uf(Lh.j(Uf,cM(this)))};
g.forEach=function(){function a(d,e){for(var f=E(cM(this)),h=null,k=0,m=0;;)if(m<k){var n=h.xa(null,m),p=Q(n,0,null);n=Q(n,1,null);d.call(e,n,p,this);m+=1}else if(f=E(f))Gf(f)?(h=$d(f),f=ae(f),p=h,k=M(h),h=p):(h=J(f),p=Q(h,0,null),n=Q(h,1,null),d.call(e,n,p,this),f=K(f),h=null,k=0),m=0;else return null}function b(d){for(var e=E(cM(this)),f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=Q(m,0,null);m=Q(m,1,null);d.C?d.C(m,n,this):d.call(null,m,n,this);k+=1}else if(e=E(e))Gf(e)?(f=$d(e),e=ae(e),n=f,h=
M(f),f=n):(f=J(e),n=Q(f,0,null),m=Q(f,1,null),d.C?d.C(m,n,this):d.call(null,m,n,this),e=K(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.j=a;return c}();g.get=function(a){if(D.j(a,":db/id"))return this.Oc;if(KK(a))return bM(aM(this.db,this.Oc,LK(a),null));var b=fM?fM(this,a):gM.call(null,this,a);return zK(this.db,a,rB)?bM(b):b};g.key_set=function(){return Uf(cj(this))};
g.entries=function(){return new Yi(E(cM(this)))};g.value_set=function(){return Uf(Lh.j(kf,cM(this)))};g.toString=function(){return ke(this)};g.keys=function(){return Ge(cj(this))};g.values=function(){return Ge(Lh.j(kf,cM(this)))};g.equiv=function(a){return hM.j?hM.j(this,a):hM.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ma=function(a,b){return iM?iM(this,b,null):gM.call(null,this,b,null)};g.R=function(a,b,c){return iM?iM(this,b,c):gM.call(null,this,b,c)};
g.ga=function(a,b,c){return Md(R.C(y(this.cache),Wf,this.Oc),b,c)};g.ja=function(){dM.B?dM.B(this):dM.call(null,this);return M(y(this.cache))};g.ia=function(){return se(this.Oc)};g.ca=function(a,b){return hM.j?hM.j(this,b):hM.call(null,this,b)};g.ha=function(){dM.B?dM.B(this):dM.call(null,this);return E(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.B(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Hc(b)))};g.B=function(a){return fM?fM(this,a):gM.call(null,this,a)};g.j=function(a,b){return iM?iM(this,a,b):gM.call(null,this,a,b)};function ZL(a,b,c,d){return new eM(a,b,c,d)}
function hM(a,b){return b instanceof eM&&D.j(a.Oc,b.Oc)}function gM(a){switch(arguments.length){case 2:return fM(arguments[0],arguments[1]);case 3:return iM(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function fM(a,b){return iM(a,b,null)}
function iM(a,b,c){if(D.j(b,Wf))return a.Oc;if(KK(b))return aM(a.db,a.Oc,LK(b),c);var d=y(a.cache);d=d.B?d.B(b):d.call(null,b);if(null==d){if(r(y(a.eg)))return c;d=mh(YJ(a.db,new X(null,2,5,Z,[a.Oc,b],null)));if(null==d)return c;c=$L(a.db,b,d);b=R.C(y(a.cache),b,c);ge(a.cache,b);return c}return d}function jM(a,b){return ag(function(c,d,e){return R.C(c,d,zK(a,d,Gm)?zK(a,d,rB)?tk(Lh.j(dM,e)):dM.B?dM.B(e):dM.call(null,e):e)},W,b)}
function kM(a,b){return v.C(function(c,d){var e=Ow.B(J(d));return R.C(c,e,$L(a,e,d))},W,Ik(Ow,b))}function dM(a){if(!r(y(a.eg))){var b=mh(YJ(a.db,new X(null,1,5,Z,[a.Oc],null)));r(b)&&(b=jM(a.db,kM(a.db,b)),ge(a.cache,b),ge(a.eg,!0))}return a}Ga("datascript.impl.entity.Entity",eM);function lM(){}function mM(a,b,c){if(null!=a&&null!=a.Oa)a=a.Oa(a,b,c);else{var d=mM[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=mM._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("ITraversable.-collect",a);}return a}
function nM(a,b){if(null!=a&&null!=a.Pa)a=a.Pa(a,b);else{var c=nM[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=nM._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ITraversable.-collect-vars",a);}return a}function oM(a,b){return Bf(a)&&D.j(M(a),b)}function pM(a,b){return Bf(b)?v.C(function(c,d){d=a.B?a.B(d):a.call(null,d);return r(d)?nf.j(c,d):Oe(null)},of,b):null}function qM(a,b){return rM(a,b,of)}
function rM(a,b,c){return r(a.B?a.B(b):a.call(null,b))?nf.j(c,b):(null!=b?l===b.Na||(b.rd?0:Ac(lM,b)):Ac(lM,b))?mM(b,a,c):wJ(b)?v.C(function(d,e){return rM(a,e,d)},c,b):c}function sM(a){var b=yf(a);return b?b:gh(Of,a)}function tM(a,b){return vf(a,new q(null,1,[kn,b],null))}function uM(a){var b=kn.B(wf(a));return r(b)?b:a}function vM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.Y=139264}g=vM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){return B.C(this.D,b,c)};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.j(of,this.D))};g.oa=function(){return new Xi(this,0,of,r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-528488587^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(sk,b)?S.j(rd(ai.j(W,this),this.G),b):new vM(this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new vM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(of,this.D))};g.fa=function(a,b){return new vM(b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};function wM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=wM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[cx,this.symbol],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[cx],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=736891289^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[cx,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new wM(this.symbol,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(cx,b):T.call(null,cx,b))?new wM(c,this.G,this.D,null):new wM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(cx,this.symbol)],null),this.D))};
g.fa=function(a,b){return new wM(this.symbol,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.symbol,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.symbol):xM.call(null,b,this.symbol)};function yM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=yM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[cx,this.symbol],null)],null),this.D))};
g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[cx],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1648766309^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[cx,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new yM(this.symbol,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(cx,b):T.call(null,cx,b))?new yM(c,this.G,this.D,null):new yM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(cx,this.symbol)],null),this.D))};g.fa=function(a,b){return new yM(this.symbol,b,this.D,this.I)};
g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.symbol,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.symbol):xM.call(null,b,this.symbol)};function zM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.Y=139264}g=zM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.j(of,this.D))};g.oa=function(){return new Xi(this,0,of,r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-350962559^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(sk,b)?S.j(rd(ai.j(W,this),this.G),b):new zM(this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new zM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(of,this.D))};g.fa=function(a,b){return new zM(b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};
function AM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.Y=139264}g=AM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.j(of,this.D))};
g.oa=function(){return new Xi(this,0,of,r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1504050517^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(sk,b)?S.j(rd(ai.j(W,this),this.G),b):new AM(this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new AM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(of,this.D))};
g.fa=function(a,b){return new AM(b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};function BM(a,b,c,d){this.value=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=BM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "value":return this.value;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[kx,this.value],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[kx],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-812884714^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.value,b.value)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[kx,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new BM(this.value,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(kx,b):T.call(null,kx,b))?new BM(c,this.G,this.D,null):new BM(this.value,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(kx,this.value)],null),this.D))};g.fa=function(a,b){return new BM(this.value,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.value,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.value):xM.call(null,b,this.value)};function CM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=CM.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "symbol":return this.symbol;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[cx,this.symbol],null)],null),this.D))};
g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[cx],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1509921913^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.symbol,b.symbol)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[cx,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new CM(this.symbol,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(cx,b):T.call(null,cx,b))?new CM(c,this.G,this.D,null):new CM(this.symbol,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(cx,this.symbol)],null),this.D))};g.fa=function(a,b){return new CM(this.symbol,b,this.D,this.I)};
g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.symbol,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.symbol):xM.call(null,b,this.symbol)};function DM(a){return a instanceof A&&D.j(J(Ig(a)),"?")?new wM(a,null,null,null):null}function EM(a){var b=DM(a);if(r(b))return b;throw fm(["Cannot parse var, expected symbol starting with ?, got: ",gl.F(P([a]))].join(""),new q(null,2,[Dp,sq,ut,a],null));}
function FM(a){return a instanceof A&&D.j(J(Ig(a)),"$")?new yM(a,null,null,null):null}function GM(a){return a instanceof A?null:new BM(a,null,null,null)}function HM(a){return a instanceof A&&yc(DM(a))&&yc(FM(a))&&yc(D.j(tt,a)?new AM(null,null,null):null)&&yc(D.j(pq,a)?new vM(null,null,null):null)?new CM(a,null,null,null):null}function IM(a){return r(HM(a))?new wM(a,null,null,null):null}function JM(a){var b=DM(a);if(r(b))return b;b=GM(a);return r(b)?b:FM(a)}
function KM(a,b,c,d,e){this.required=a;this.Ec=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=KM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "required":return this.required;case "free":return this.Ec;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[EA,this.required],null),new X(null,2,5,Z,[Rr,this.Ec],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[EA,Rr],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=892963297^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.required,b.required)&&D.j(this.Ec,b.Ec)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[Rr,null,EA,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new KM(this.required,this.Ec,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(EA,b):T.call(null,EA,b))?new KM(c,this.Ec,this.G,this.D,null):r(T.j?T.j(Rr,b):T.call(null,Rr,b))?new KM(this.required,c,this.G,this.D,null):new KM(this.required,this.Ec,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(EA,this.required),new Y(Rr,this.Ec)],null),this.D))};g.fa=function(a,b){return new KM(this.required,this.Ec,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return rM(b,this.Ec,rM(b,this.required,c))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.required):xM.call(null,b,this.required);b=this.Ec;return xM.j?xM.j(a,b):xM.call(null,a,b)};
function LM(a){if(Bf(a)){var b=Bf(J(a))?new X(null,2,5,Z,[J(a),K(a)],null):new X(null,2,5,Z,[null,a],null),c=Q(b,0,null);b=Q(b,1,null);c=pM(EM,c);b=pM(EM,b);if(yf(c)&&yf(b))throw fm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[Dp,Mq,ut,a],null));if(!r(sM(V.j(c,b))))throw fm("Rule variables should be distinct",new q(null,2,[Dp,Mq,ut,a],null));return new KM(c,b,null,null,null)}throw fm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[Dp,Mq,ut,a],null));}function MM(a){return V.B(r(EA.B(a))?function(){bi.j(cx,EA.B(a));return bi.j(cx,Rr.B(a))}():null)}function NM(a){return new X(null,2,5,Z,[M(EA.B(a)),M(Rr.B(a))],null)}function OM(a,b,c){this.G=a;this.D=b;this.I=c;this.J=2230716170;this.Y=139264}g=OM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){return B.C(this.D,b,c)};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.j(of,this.D))};g.oa=function(){return new Xi(this,0,of,r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 0+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-890522983^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(sk,b)?S.j(rd(ai.j(W,this),this.G),b):new OM(this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return new OM(this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(of,this.D))};g.fa=function(a,b){return new OM(b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return c};g.Pa=function(a,b){return b};
function PM(a,b,c,d){this.Va=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=PM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "variable":return this.Va;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[ku,this.Va],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[ku],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1522792445^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Va,b.Va)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[ku,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new PM(this.Va,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(ku,b):T.call(null,ku,b))?new PM(c,this.G,this.D,null):new PM(this.Va,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(ku,this.Va)],null),this.D))};
g.fa=function(a,b){return new PM(this.Va,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.Va,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.Va):xM.call(null,b,this.Va)};function QM(a,b,c,d){this.bindings=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=QM.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "bindings":return this.bindings;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[nn,this.bindings],null)],null),this.D))};
g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[nn],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1637239347^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.bindings,b.bindings)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[nn,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new QM(this.bindings,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(nn,b):T.call(null,nn,b))?new QM(c,this.G,this.D,null):new QM(this.bindings,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(nn,this.bindings)],null),this.D))};g.fa=function(a,b){return new QM(this.bindings,b,this.D,this.I)};
g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.bindings,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.bindings):xM.call(null,b,this.bindings)};function RM(a,b,c,d){this.binding=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=RM.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "binding":return this.binding;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[uw,this.binding],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[uw],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1930368089^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.binding,b.binding)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[uw,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new RM(this.binding,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(uw,b):T.call(null,uw,b))?new RM(c,this.G,this.D,null):new RM(this.binding,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(uw,this.binding)],null),this.D))};g.fa=function(a,b){return new RM(this.binding,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.binding,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.binding):xM.call(null,b,this.binding)};function SM(a){return D.j(pq,a)?tM(new OM(null,null,null),a):null}
function TM(a){var b=SM(a);return r(b)?b:UM.B?UM.B(a):UM.call(null,a)}function VM(a){var b=pM(TM,a);if(r(b)){if(yf(b))throw fm("Tuple binding cannot be empty",new q(null,2,[Dp,Op,ut,a],null));return tM(new QM(b,null,null,null),a)}return null}
function UM(a){a:{if(oM(a,2)&&D.j(kf(a),nv)){var b=J(a);b=UM.B?UM.B(b):UM.call(null,b);if(r(b)){b=tM(new RM(b,null,null,null),a);break a}throw fm("Cannot parse collection binding",new q(null,2,[Dp,Op,ut,a],null));}b=null}if(r(b))return b;b=oM(a,1)&&Bf(J(a))?tM(new RM(VM(J(a)),null,null,null),a):null;if(r(b))return b;b=VM(a);if(r(b))return b;b=SM(a);if(r(b))return b;b=DM(a);b=r(b)?tM(new PM(b,null,null,null),a):null;if(r(b))return b;throw fm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[Dp,Op,ut,a],null));}function WM(a){if(null!=a&&null!=a.Se)a=a.Se(a);else{var b=WM[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=WM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IFindVars.-find-vars",a);}return a}wM.prototype.Se=function(){return new X(null,1,5,Z,[this.symbol],null)};function XM(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=XM.prototype;g.Se=function(){return WM(mf(this.args))};
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[vA,this.fn],null),new X(null,2,5,Z,[wA,this.args],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[vA,wA],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-91097383^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[wA,null,vA,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new XM(this.fn,this.args,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(vA,b):T.call(null,vA,b))?new XM(c,this.args,this.G,this.D,null):r(T.j?T.j(wA,b):T.call(null,wA,b))?new XM(this.fn,c,this.G,this.D,null):new XM(this.fn,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(vA,this.fn),new Y(wA,this.args)],null),this.D))};g.fa=function(a,b){return new XM(this.fn,this.args,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return rM(b,this.args,rM(b,this.fn,c))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.fn):xM.call(null,b,this.fn);b=this.args;return xM.j?xM.j(a,b):xM.call(null,a,b)};function YM(a,b,c,d,e,f){this.source=a;this.Va=b;this.pattern=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=YM.prototype;g.Se=function(){return WM(this.Va)};g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "variable":return this.Va;case "pattern":return this.pattern;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[kn,this.source],null),new X(null,2,5,Z,[ku,this.Va],null),new X(null,2,5,Z,[CA,this.pattern],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[kn,ku,CA],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2108867663^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.Va,b.Va)&&D.j(this.pattern,b.pattern)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[ku,null,kn,null,CA,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new YM(this.source,this.Va,this.pattern,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(kn,b):T.call(null,kn,b))?new YM(c,this.Va,this.pattern,this.G,this.D,null):r(T.j?T.j(ku,b):T.call(null,ku,b))?new YM(this.source,c,this.pattern,this.G,this.D,null):r(T.j?T.j(CA,b):T.call(null,CA,b))?new YM(this.source,this.Va,c,this.G,this.D,null):new YM(this.source,this.Va,this.pattern,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(kn,this.source),new Y(ku,this.Va),new Y(CA,this.pattern)],null),this.D))};
g.fa=function(a,b){return new YM(this.source,this.Va,this.pattern,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.pattern,rM(b,this.Va,rM(b,this.source,c)))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.source):xM.call(null,b,this.source);b=this.Va;a=xM.j?xM.j(a,b):xM.call(null,a,b);b=this.pattern;return xM.j?xM.j(a,b):xM.call(null,a,b)};
function ZM(a){if(null!=a&&null!=a.le)a=a.le(a);else{var b=ZM[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=ZM._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IFindElements.find-elements",a);}return a}function $M(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=$M.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "elements":return this.elements;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[lt,this.elements],null)],null),this.D))};
g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[lt],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=744809563^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[lt,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new $M(this.elements,this.G,mh(S.j(this.D,b)),null)};g.le=function(){return this.elements};g.da=function(a,b,c){return r(T.j?T.j(lt,b):T.call(null,lt,b))?new $M(c,this.G,this.D,null):new $M(this.elements,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(lt,this.elements)],null),this.D))};g.fa=function(a,b){return new $M(this.elements,b,this.D,this.I)};
g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.elements,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.elements):xM.call(null,b,this.elements)};function aN(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=aN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "element":return this.element;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Iy,this.element],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[Iy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=124241361^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[Iy,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new aN(this.element,this.G,mh(S.j(this.D,b)),null)};g.le=function(){return new X(null,1,5,Z,[this.element],null)};
g.da=function(a,b,c){return r(T.j?T.j(Iy,b):T.call(null,Iy,b))?new aN(c,this.G,this.D,null):new aN(this.element,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(Iy,this.element)],null),this.D))};g.fa=function(a,b){return new aN(this.element,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.element,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.element):xM.call(null,b,this.element)};
function bN(a,b,c,d){this.element=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=bN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "element":return this.element;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Iy,this.element],null)],null),this.D))};g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[Iy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-661542332^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.element,b.element)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[Iy,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new bN(this.element,this.G,mh(S.j(this.D,b)),null)};g.le=function(){return new X(null,1,5,Z,[this.element],null)};g.da=function(a,b,c){return r(T.j?T.j(Iy,b):T.call(null,Iy,b))?new bN(c,this.G,this.D,null):new bN(this.element,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(Iy,this.element)],null),this.D))};g.fa=function(a,b){return new bN(this.element,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.element,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.element):xM.call(null,b,this.element)};function cN(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}g=cN.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "elements":return this.elements;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[lt,this.elements],null)],null),this.D))};
g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[lt],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=681530371^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.elements,b.elements)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[lt,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new cN(this.elements,this.G,mh(S.j(this.D,b)),null)};g.le=function(){return this.elements};g.da=function(a,b,c){return r(T.j?T.j(lt,b):T.call(null,lt,b))?new cN(c,this.G,this.D,null):new cN(this.elements,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(lt,this.elements)],null),this.D))};g.fa=function(a,b){return new cN(this.elements,b,this.D,this.I)};
g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.elements,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.elements):xM.call(null,b,this.elements)};function dN(a){return a instanceof XM}function eN(a){return a instanceof YM}
function fN(a){var b=DM(a);if(r(b))return b;a:{if(Bf(a)&&D.j(J(a),Qw)){if(3<=M(a)&&4>=M(a)){var c=(b=D.j(M(a),4))?$e(a,1):Pp;b=b?K(K(a)):K(a);var d=Q(b,0,null);b=Q(b,1,null);c=FM(c);d=DM(d);var e=DM(b);r(e)?b=e:(e=IM(b),b=r(e)?e:GM(b));if(r(r(c)?r(d)?b:d:c)){b=new YM(c,d,b,null,null,null);break a}}throw fm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[Dp,Tz,It,a],null));}b=null}if(r(b))return b;a:{if(Bf(a)&&D.j(J(a),Zv)){if(3<=
M(a)&&(b=E(a),J(b),c=K(b),b=J(c),c=K(c),b=DM(b),c=pM(JM,c),r(r(b)?c:b))){b=new XM(b,c,null,null,null);break a}throw fm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[Dp,Tz,It,a],null));}b=null}r(b)?a=b:Bf(a)&&2<=M(a)?(b=E(a),a=J(b),b=K(b),a=HM(a),b=pM(JM,b),a=r(r(a)?b:a)?new XM(a,b,null,null,null):null):a=null;return a}
function gN(a){var b=pM(fN,a);b=null==b?null:new $M(b,null,null,null);if(r(b))return b;a:{if(Bf(a)&&D.j(M(a),1)&&(b=J(a),Bf(b)&&D.j(M(b),2)&&D.j(kf(b),nv))){b=fN(J(b));b=null==b?null:new aN(b,null,null,null);break a}b=null}if(r(b))return b;Bf(a)&&D.j(M(a),2)&&D.j(kf(a),uz)?(b=fN(J(a)),b=null==b?null:new bN(b,null,null,null)):b=null;if(r(b))return b;Bf(a)&&D.j(M(a),1)?(b=J(a),b=pM(fN,b),b=null==b?null:new cN(b,null,null,null)):b=null;if(r(b))return b;throw fm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[Dp,Tz,It,a],null));}function hN(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=hN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[nq,this.type],null),new X(null,2,5,Z,[jy,this.symbols],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[nq,jy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-2025547471^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.type,b.type)&&D.j(this.symbols,b.symbols)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[nq,null,jy,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new hN(this.type,this.symbols,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(nq,b):T.call(null,nq,b))?new hN(c,this.symbols,this.G,this.D,null):r(T.j?T.j(jy,b):T.call(null,jy,b))?new hN(this.type,c,this.G,this.D,null):new hN(this.type,this.symbols,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(nq,this.type),new Y(jy,this.symbols)],null),this.D))};g.fa=function(a,b){return new hN(this.type,this.symbols,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return rM(b,this.symbols,rM(b,this.type,c))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.type):xM.call(null,b,this.type);b=this.symbols;return xM.j?xM.j(a,b):xM.call(null,a,b)};function iN(a,b){if(!yf(b)&&rh(te,b))switch(a instanceof C?a.na:null){case "keys":return new hN(a,bi.j(Hg,b),null,null,null);case "syms":return new hN(a,Yf(b),null,null,null);case "strs":return new hN(a,bi.j(t,b),null,null,null);default:return null}else return null}
function jN(a){var b=FM(a);r(b)||(b=D.j(tt,a)?new AM(null,null,null):null,b=r(b)?b:IM(a));return r(b)?tM(new PM(b,null,null,null),a):UM(a)}function kN(a){var b=pM(jN,a);if(r(b))return b;throw fm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[Dp,OA,ut,a],null));}function lN(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=lN.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[kn,this.source],null),new X(null,2,5,Z,[CA,this.pattern],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[kn,CA],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=575220587^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.pattern,b.pattern)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[kn,null,CA,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new lN(this.source,this.pattern,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(kn,b):T.call(null,kn,b))?new lN(c,this.pattern,this.G,this.D,null):r(T.j?T.j(CA,b):T.call(null,CA,b))?new lN(this.source,c,this.G,this.D,null):new lN(this.source,this.pattern,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(kn,this.source),new Y(CA,this.pattern)],null),this.D))};g.fa=function(a,b){return new lN(this.source,this.pattern,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return rM(b,this.pattern,rM(b,this.source,c))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.source):xM.call(null,b,this.source);b=this.pattern;return xM.j?xM.j(a,b):xM.call(null,a,b)};function mN(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=mN.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "fn":return this.fn;case "args":return this.args;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[vA,this.fn],null),new X(null,2,5,Z,[wA,this.args],null)],null),this.D))};
g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[vA,wA],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1523376880^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[wA,null,vA,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new mN(this.fn,this.args,this.G,mh(S.j(this.D,b)),null)};g.da=function(a,b,c){return r(T.j?T.j(vA,b):T.call(null,vA,b))?new mN(c,this.args,this.G,this.D,null):r(T.j?T.j(wA,b):T.call(null,wA,b))?new mN(this.fn,c,this.G,this.D,null):new mN(this.fn,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(vA,this.fn),new Y(wA,this.args)],null),this.D))};
g.fa=function(a,b){return new mN(this.fn,this.args,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.args,rM(b,this.fn,c))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.fn):xM.call(null,b,this.fn);b=this.args;return xM.j?xM.j(a,b):xM.call(null,a,b)};function nN(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=nN.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[vA,this.fn],null),new X(null,2,5,Z,[wA,this.args],null),new X(null,2,5,Z,[uw,this.binding],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[vA,wA,uw],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=589494199^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.fn,b.fn)&&D.j(this.args,b.args)&&D.j(this.binding,b.binding)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[wA,null,vA,null,uw,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new nN(this.fn,this.args,this.binding,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(vA,b):T.call(null,vA,b))?new nN(c,this.args,this.binding,this.G,this.D,null):r(T.j?T.j(wA,b):T.call(null,wA,b))?new nN(this.fn,c,this.binding,this.G,this.D,null):r(T.j?T.j(uw,b):T.call(null,uw,b))?new nN(this.fn,this.args,c,this.G,this.D,null):new nN(this.fn,this.args,this.binding,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(vA,this.fn),new Y(wA,this.args),new Y(uw,this.binding)],null),this.D))};
g.fa=function(a,b){return new nN(this.fn,this.args,this.binding,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.binding,rM(b,this.args,rM(b,this.fn,c)))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.fn):xM.call(null,b,this.fn);b=this.args;a=xM.j?xM.j(a,b):xM.call(null,a,b);b=this.binding;return xM.j?xM.j(a,b):xM.call(null,a,b)};
function oN(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=oN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[kn,this.source],null),new X(null,2,5,Z,[Jz,this.name],null),new X(null,2,5,Z,[wA,this.args],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[kn,Jz,wA],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-444662011^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.name,b.name)&&D.j(this.args,b.args)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[wA,null,Jz,null,kn,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new oN(this.source,this.name,this.args,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(kn,b):T.call(null,kn,b))?new oN(c,this.name,this.args,this.G,this.D,null):r(T.j?T.j(Jz,b):T.call(null,Jz,b))?new oN(this.source,c,this.args,this.G,this.D,null):r(T.j?T.j(wA,b):T.call(null,wA,b))?new oN(this.source,this.name,c,this.G,this.D,null):new oN(this.source,this.name,this.args,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(kn,this.source),new Y(Jz,this.name),new Y(wA,this.args)],null),this.D))};
g.fa=function(a,b){return new oN(this.source,this.name,this.args,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.args,rM(b,this.name,rM(b,this.source,c)))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.source):xM.call(null,b,this.source);b=this.name;a=xM.j?xM.j(a,b):xM.call(null,a,b);b=this.args;return xM.j?xM.j(a,b):xM.call(null,a,b)};
function pN(a,b,c,d,e,f){this.source=a;this.cb=b;this.za=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=pN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "vars":return this.cb;case "clauses":return this.za;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[kn,this.source],null),new X(null,2,5,Z,[ns,this.cb],null),new X(null,2,5,Z,[Zy,this.za],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[kn,ns,Zy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1394671061^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.cb,b.cb)&&D.j(this.za,b.za)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[kn,null,Zy,null,ns,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new pN(this.source,this.cb,this.za,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(kn,b):T.call(null,kn,b))?new pN(c,this.cb,this.za,this.G,this.D,null):r(T.j?T.j(ns,b):T.call(null,ns,b))?new pN(this.source,c,this.za,this.G,this.D,null):r(T.j?T.j(Zy,b):T.call(null,Zy,b))?new pN(this.source,this.cb,c,this.G,this.D,null):new pN(this.source,this.cb,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(kn,this.source),new Y(ns,this.cb),new Y(Zy,this.za)],null),this.D))};
g.fa=function(a,b){return new pN(this.source,this.cb,this.za,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.za,rM(b,this.cb,rM(b,this.source,c)))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.source):xM.call(null,b,this.source);b=this.cb;a=xM.j?xM.j(a,b):xM.call(null,a,b);b=this.za;return xM.j?xM.j(a,b):xM.call(null,a,b)};
function qN(a,b,c,d,e,f){this.source=a;this.lc=b;this.za=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=qN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "source":return this.source;case "rule-vars":return this.lc;case "clauses":return this.za;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[kn,this.source],null),new X(null,2,5,Z,[cA,this.lc],null),new X(null,2,5,Z,[Zy,this.za],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[kn,cA,Zy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1461934571^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.source,b.source)&&D.j(this.lc,b.lc)&&D.j(this.za,b.za)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[cA,null,kn,null,Zy,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new qN(this.source,this.lc,this.za,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(kn,b):T.call(null,kn,b))?new qN(c,this.lc,this.za,this.G,this.D,null):r(T.j?T.j(cA,b):T.call(null,cA,b))?new qN(this.source,c,this.za,this.G,this.D,null):r(T.j?T.j(Zy,b):T.call(null,Zy,b))?new qN(this.source,this.lc,c,this.G,this.D,null):new qN(this.source,this.lc,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(kn,this.source),new Y(cA,this.lc),new Y(Zy,this.za)],null),this.D))};
g.fa=function(a,b){return new qN(this.source,this.lc,this.za,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.za,rM(b,this.lc,rM(b,this.source,c)))};g.Pa=function(a,b){a=xM.j?xM.j(b,this.source):xM.call(null,b,this.source);b=this.lc;a=xM.j?xM.j(a,b):xM.call(null,a,b);b=this.za;return xM.j?xM.j(a,b):xM.call(null,a,b)};function rN(a,b,c,d){this.za=a;this.G=b;this.D=c;this.I=d;this.J=2230716170;this.Y=139264}
g=rN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "clauses":return this.za;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.j(new X(null,1,5,Z,[new X(null,2,5,Z,[Zy,this.za],null)],null),this.D))};
g.oa=function(){return new Xi(this,1,new X(null,1,5,Z,[Zy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 1+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-131856804^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.za,b.za)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,1,[Zy,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new rN(this.za,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Zy,b):T.call(null,Zy,b))?new rN(c,this.G,this.D,null):new rN(this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,1,5,Z,[new Y(Zy,this.za)],null),this.D))};g.fa=function(a,b){return new rN(this.za,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;g.Oa=function(a,b,c){return rM(b,this.za,c)};g.Pa=function(a,b){return xM.j?xM.j(b,this.za):xM.call(null,b,this.za)};
function sN(a){var b=D.j(pq,a)?new vM(null,null,null):null;if(r(b))return b;b=DM(a);return r(b)?b:GM(a)}function tN(a){if(Bf(a)){var b=FM(J(a));return r(b)?new X(null,2,5,Z,[b,K(a)],null):new X(null,2,5,Z,[new zM(null,null,null),a],null)}return null}function uN(a){if(Bf(a)){var b=E(a);a=J(b);b=K(b);b=null==b?of:b;var c=HM(a);a=r(c)?c:DM(a);b=pM(JM,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var xM=function xM(a,b){return b instanceof wM?nf.j(a,b):b instanceof pN?ai.j(a,b.cb):b instanceof qN?(b=b.lc,xM.j?xM.j(a,b):xM.call(null,a,b)):(null!=b?l===b.Na||(b.rd?0:Ac(lM,b)):Ac(lM,b))?nM(b,a):Bf(b)?v.C(xM,a,b):a};function vN(a,b,c){if(yf(a)&&yf(b))throw fm("Join variables should not be empty",new q(null,2,[Dp,ey,ut,c],null));}function wN(a,b){vN(null,ns.B(a),b);return a}
function xN(a,b){var c=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;c=B.j(c,cA);var d=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c;c=B.j(d,EA);d=B.j(d,Rr);vN(c,d,b);return a}function Jh(a){if(Bf(a)&&D.j(aw,J(a))){var b=K(a);b=yN.B?yN.B(b):yN.call(null,b);if(r(mh(b)))return new rN(b,null,null,null);throw fm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[Dp,ey,ut,a],null));}return null}
function Kh(a){a:{var b=tN(a);if(r(b)){var c=Q(b,0,null);b=Q(b,1,null);var d=E(b);b=J(d);d=K(d);if(D.j(Yx,b)){b=yN.B?yN.B(d):yN.call(null,d);if(r(b)){c=wN(tM(new pN(c,Yf(uk(xM(of,b))),b,null,null,null),a),a);break a}throw fm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[Dp,ey,ut,a],null));}}c=null}if(r(c))return c;a:{b=tN(a);if(r(b)){c=Q(b,0,null);b=Q(b,1,null);d=E(b);b=J(d);var e=K(d);d=J(e);e=K(e);if(D.j(Oq,b)){b=pM(DM,d);d=yN.B?yN.B(e):yN.call(null,e);if(r(r(b)?
d:b)){c=wN(tM(new pN(c,b,d,null,null,null),a),a);break a}throw fm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[Dp,ey,ut,a],null));}}c=null}if(r(c))return c;a:{b=tN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=E(b),b=J(d),d=K(d),D.j(yr,b))){b=pM(Ih(),d);if(r(b)){c=xN(tM(new qN(c,new KM(null,Yf(uk(xM(of,b))),null,null,null),b,null,null,null),a),a);break a}throw fm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[Dp,ey,
ut,a],null));}c=null}if(r(c))return c;a:{b=tN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),d=E(b),b=J(d),e=K(d),d=J(e),e=K(e),D.j(vp,b))){b=LM(d);d=pM(Ih(),e);if(r(r(b)?d:b)){c=xN(tM(new qN(c,b,d,null,null,null),a),a);break a}throw fm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[Dp,ey,ut,a],null));}c=null}if(r(c))return c;a:{if(oM(a,1)&&(b=uN(J(a)),r(b))){c=Q(b,0,null);b=Q(b,1,null);c=tM(new mN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(oM(a,2)&&(b=Q(a,0,null),c=Q(a,1,null),d=uN(b),r(d))){b=Q(d,0,null);d=Q(d,1,null);c=UM(c);c=r(c)?tM(new nN(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=tN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=E(b),d=J(b),b=K(b),d=HM(d),e=pM(sN,b),r(d))){if(yf(b))throw fm("rule-expr requires at least one argument",new q(null,2,[Dp,ey,ut,a],null));if(null==e)throw fm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[Dp,ey,ut,a],null));c=new oN(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=tN(a);if(r(b)&&(c=Q(b,0,null),b=Q(b,1,null),b=pM(sN,b),r(b))){if(yf(b))throw fm("Pattern could not be empty",new q(null,2,[Dp,ey,ut,a],null));c=tM(new lN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw fm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[Dp,ey,ut,a],null));}function yN(a){return pM(Kh,a)}
function zN(a){var b=yN(a);if(r(b))return b;throw fm("Cannot parse :where clause, expected [clause+]",new q(null,2,[Dp,ey,ut,a],null));}function AN(a,b,c,d,e){this.cb=a;this.za=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=AN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "vars":return this.cb;case "clauses":return this.za;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[ns,this.cb],null),new X(null,2,5,Z,[Zy,this.za],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[ns,Zy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1024755006^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.cb,b.cb)&&D.j(this.za,b.za)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[Zy,null,ns,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new AN(this.cb,this.za,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(ns,b):T.call(null,ns,b))?new AN(c,this.za,this.G,this.D,null):r(T.j?T.j(Zy,b):T.call(null,Zy,b))?new AN(this.cb,c,this.G,this.D,null):new AN(this.cb,this.za,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(ns,this.cb),new Y(Zy,this.za)],null),this.D))};g.fa=function(a,b){return new AN(this.cb,this.za,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return rM(b,this.za,rM(b,this.cb,c))};g.Pa=function(a,b){return xM(xM(b,this.cb),this.za)};function BN(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=BN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "name":return this.name;case "branches":return this.branches;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[Jz,this.name],null),new X(null,2,5,Z,[Ts,this.branches],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[Jz,Ts],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-900273052^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.name,b.name)&&D.j(this.branches,b.branches)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[Jz,null,Ts,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new BN(this.name,this.branches,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Jz,b):T.call(null,Jz,b))?new BN(c,this.branches,this.G,this.D,null):r(T.j?T.j(Ts,b):T.call(null,Ts,b))?new BN(this.name,c,this.G,this.D,null):new BN(this.name,this.branches,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(Jz,this.name),new Y(Ts,this.branches)],null),this.D))};g.fa=function(a,b){return new BN(this.name,this.branches,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.Na=l;g.Oa=function(a,b,c){return rM(b,this.branches,rM(b,this.name,c))};g.Pa=function(a,b){return xM(xM(b,this.name),this.branches)};
function CN(a){if(Bf(a)){var b=E(a),c=J(b),d=K(b);if(Bf(c)){b=E(c);var e=J(b);c=K(b);b=function(){var h=HM(e);if(r(h))return h;throw fm("Cannot parse rule name, expected plain-symbol",new q(null,2,[Dp,tx,ut,a],null));}();c=LM(c);var f=function(){var h=mh(yN(d));if(r(h))return h;throw fm("Rule branch should have clauses",new q(null,2,[Dp,tx,ut,a],null));}();return new q(null,3,[Jz,b,ns,c,Zy,f],null)}throw fm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",gl.F(P([c]))].join(""),new q(null,
2,[Dp,tx,ut,a],null));}throw fm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[Dp,tx,ut,a],null));}
function DN(a,b){var c=ns.B(J(b)),d=NM(c);b=E(K(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.xa(null,h);k=ns.B(k);if(lh.j(d,NM(k)))throw fm(["Arity mismatch for rule '",gl.F(P([cx.B(a)])),"': ",gl.F(P([MM(c)]))," vs. ",gl.F(P([MM(k)]))].join(""),new q(null,2,[Dp,tx,Xo,a],null));h+=1}else if(b=E(b)){if(Gf(b))f=$d(b),b=ae(b),e=f,f=M(f);else{k=J(b);e=ns.B(k);if(lh.j(d,NM(e)))throw fm(["Arity mismatch for rule '",gl.F(P([cx.B(a)])),"': ",gl.F(P([MM(c)]))," vs. ",gl.F(P([MM(e)]))].join(""),new q(null,
2,[Dp,tx,Xo,a],null));b=K(b);e=null;f=0}h=0}else break}
function EN(a){Yf(function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(Gf(f)){var h=$d(f),k=M(h),m=Ng(k);return function(){for(var w=0;;)if(w<k){var z=x(h,w),F=Q(z,0,null),H=Q(z,1,null);z=bi.j(function(){return function(G){return new AN(ns.B(G),Zy.B(G),null,null,null)}}(w,z,F,H,h,k,m,f,e),H);H=m;DN(F,z);H.add(new BN(F,z,null,null,null));w+=1}else return!0}()?Pg(Rg(m),d(ae(f))):Pg(Rg(m),null)}var n=J(f),p=Q(n,0,null),u=Q(n,1,null);n=bi.j(function(){return function(w){return new AN(ns.B(w),
Zy.B(w),null,null,null)}}(n,p,u,f,e),u);DN(p,n);return ff(new BN(p,n,null,null,null),d(De(f)))}return null}},null,null)}(Ml(Jz,pM(CN,a)))}())}function FN(a,b,c,d,e,f,h,k){this.ac=a;this.ec=b;this.cc=c;this.bc=d;this.dc=e;this.G=f;this.D=h;this.I=k;this.J=2230716170;this.Y=139264}g=FN.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "qfind":return this.ac;case "qwith":return this.ec;case "qreturn-map":return this.cc;case "qin":return this.bc;case "qwhere":return this.dc;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.j(new X(null,5,5,Z,[new X(null,2,5,Z,[Kq,this.ac],null),new X(null,2,5,Z,[AA,this.ec],null),new X(null,2,5,Z,[Jw,this.cc],null),new X(null,2,5,Z,[Dy,this.bc],null),new X(null,2,5,Z,[Xy,this.dc],null)],null),this.D))};g.oa=function(){return new Xi(this,5,new X(null,5,5,Z,[Kq,AA,Jw,Dy,Xy],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 5+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=181307977^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.ac,b.ac)&&D.j(this.ec,b.ec)&&D.j(this.cc,b.cc)&&D.j(this.bc,b.bc)&&D.j(this.dc,b.dc)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,5,[Kq,null,Xy,null,Dy,null,AA,null,Jw,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new FN(this.ac,this.ec,this.cc,this.bc,this.dc,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Kq,b):T.call(null,Kq,b))?new FN(c,this.ec,this.cc,this.bc,this.dc,this.G,this.D,null):r(T.j?T.j(AA,b):T.call(null,AA,b))?new FN(this.ac,c,this.cc,this.bc,this.dc,this.G,this.D,null):r(T.j?T.j(Jw,b):T.call(null,Jw,b))?new FN(this.ac,this.ec,c,this.bc,this.dc,this.G,this.D,null):r(T.j?T.j(Dy,b):T.call(null,Dy,b))?new FN(this.ac,this.ec,this.cc,c,this.dc,this.G,this.D,null):r(T.j?T.j(Xy,b):T.call(null,Xy,b))?new FN(this.ac,this.ec,this.cc,this.bc,c,this.G,this.D,
null):new FN(this.ac,this.ec,this.cc,this.bc,this.dc,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,5,5,Z,[new Y(Kq,this.ac),new Y(AA,this.ec),new Y(Jw,this.cc),new Y(Dy,this.bc),new Y(Xy,this.dc)],null),this.D))};g.fa=function(a,b){return new FN(this.ac,this.ec,this.cc,this.bc,this.dc,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.Na=l;
g.Oa=function(a,b,c){return rM(b,this.dc,rM(b,this.bc,rM(b,this.cc,rM(b,this.ec,rM(b,this.ac,c)))))};g.Pa=function(a,b){return xM(xM(xM(xM(xM(b,this.ac),this.ec),this.cc),this.bc),this.dc)};function GN(a){var b=S.F(a,Kq,P([AA,Jw,Dy,Xy]));b=Df(a)?ai.j(W,b):b;return new FN(Kq.B(a),AA.B(a),Jw.B(a),Dy.B(a),Xy.B(a),null,mh(b),null)}function HN(a){for(var b=W,c=null;;){var d=J(a);if(r(d))d instanceof C?(c=d,a=K(a)):(b=hi.P(b,new X(null,1,5,Z,[c],null),yh(nf,of),d),a=K(a));else return b}}
function IN(a){var b=kn.B(a);return a instanceof lN?b:null!=b?b instanceof zM?null:b:null}
function JN(a,b,c){var d=tk(xM(of,Kq.B(a))),e=tk(AA.B(a)),f=tk(xM(of,Dy.B(a))),h=tk(xM(of,Xy.B(a)));f=wI.j(uI(d,e),uI(h,f));d=vI.j(d,e);if(!yf(f))throw fm(["Query for unknown vars: ",gl.F(P([bi.j(cx,f)]))].join(""),new q(null,3,[Dp,wy,ns,f,ut,b],null));if(!yf(d))throw fm([":find and :with should not use same variables: ",gl.F(P([bi.j(cx,d)]))].join(""),new q(null,3,[Dp,wy,ns,d,ut,b],null));d=Jw.B(a);if(null!=d){if(Kq.B(a)instanceof bN)throw fm([gl.F(P([nq.B(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[Dp,wy,ut,b],null));if(Kq.B(a)instanceof aN)throw fm([gl.F(P([nq.B(d)]))," does not work with collection :find"].join(""),new q(null,2,[Dp,wy,ut,b],null));}d=jy.B(Jw.B(a));if(null!=d&&(e=ZM(Kq.B(a)),!D.j(M(d),M(e))))throw fm(["Count of ",gl.F(P([nq.B(Jw.B(a))]))," must match count of :find"].join(""),new q(null,4,[Dp,wy,no,ff(nq.B(Jw.B(a)),d),qr,e,ut,b],null));if(1<M(Zh(zc,new X(null,3,5,Z,[Jq.B(c),Kz.B(c),wn.B(c)],null))))throw fm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[Dp,wy,ut,b],null));var k=xM(of,Dy.B(a)),m=qM(function(p){return p instanceof yM},Dy.B(a)),n=qM(function(p){return p instanceof AM},Dy.B(a));if(!r(function(){var p=sM(k);return r(p)?(p=sM(m),r(p)?sM(n):p):p}()))throw fm("Vars used in :in should be distinct",new q(null,2,[Dp,wy,ut,b],null));c=xM(of,AA.B(a));if(!r(sM(c)))throw fm("Vars used in :with should be distinct",new q(null,2,[Dp,wy,ut,b],null));c=rM(function(p){return p instanceof yM},Dy.B(a),sk);d=rM(function(p){return p instanceof yM},Xy.B(a),
sk);c=wI.j(d,c);if(!yf(c))throw fm(["Where uses unknown source vars: ",gl.F(P([bi.j(cx,c)]))].join(""),new q(null,3,[Dp,wy,ns,c,ut,b],null));c=qM(function(p){return p instanceof oN},Xy.B(a));a=qM(function(p){return p instanceof AM},Dy.B(a));if(!yf(c)&&yf(a))throw fm("Missing rules var '%' in :in",new q(null,2,[Dp,wy,ut,b],null));}
function KN(a){if(Cf(a))var b=a;else if(Bf(a))b=HN(a);else throw fm("Query should be a vector or a map",new q(null,2,[Dp,wy,ut,a],null));var c=b,d=zN(rp.j(c,of));b=GN(new q(null,5,[Kq,gN(qr.B(c)),AA,function(){var e=uB.B(c);if(r(e)){var f=pM(DM,e);if(r(f))e=f;else throw fm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[Dp,$t,ut,e],null));}else e=null;return e}(),Jw,function(){var e=iN(Jq,Jq.B(c));if(r(e))return e;e=iN(Kz,Kz.B(c));return r(e)?e:iN(wn,wn.B(c))}(),Dy,kN(function(){var e=
KB.B(c);return r(e)?e:yf(qM(IN,d))?of:new X(null,1,5,Z,[Pp],null)}()),Xy,d],null));JN(b,a,c);return b};function LN(a,b,c,d,e,f){this.Tc=a;this.sources=b;this.rules=c;this.G=d;this.D=e;this.I=f;this.J=2230716170;this.Y=139264}g=LN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "rels":return this.Tc;case "sources":return this.sources;case "rules":return this.rules;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.j(new X(null,3,5,Z,[new X(null,2,5,Z,[pw,this.Tc],null),new X(null,2,5,Z,[mx,this.sources],null),new X(null,2,5,Z,[ow,this.rules],null)],null),this.D))};g.oa=function(){return new Xi(this,3,new X(null,3,5,Z,[pw,mx,ow],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 3+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1014232958^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Tc,b.Tc)&&D.j(this.sources,b.sources)&&D.j(this.rules,b.rules)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,3,[mx,null,ow,null,pw,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new LN(this.Tc,this.sources,this.rules,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(pw,b):T.call(null,pw,b))?new LN(c,this.sources,this.rules,this.G,this.D,null):r(T.j?T.j(mx,b):T.call(null,mx,b))?new LN(this.Tc,c,this.rules,this.G,this.D,null):r(T.j?T.j(ow,b):T.call(null,ow,b))?new LN(this.Tc,this.sources,c,this.G,this.D,null):new LN(this.Tc,this.sources,this.rules,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,3,5,Z,[new Y(pw,this.Tc),new Y(mx,this.sources),new Y(ow,this.rules)],null),this.D))};
g.fa=function(a,b){return new LN(this.Tc,this.sources,this.rules,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};function MN(a,b,c,d,e){this.pb=a;this.kd=b;this.G=c;this.D=d;this.I=e;this.J=2230716170;this.Y=139264}g=MN.prototype;g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "attrs":return this.pb;case "tuples":return this.kd;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.j(new X(null,2,5,Z,[new X(null,2,5,Z,[Vt,this.pb],null),new X(null,2,5,Z,[nu,this.kd],null)],null),this.D))};g.oa=function(){return new Xi(this,2,new X(null,2,5,Z,[Vt,nu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};
g.ja=function(){return 2+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1107093117^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.pb,b.pb)&&D.j(this.kd,b.kd)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,2,[nu,null,Vt,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new MN(this.pb,this.kd,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Vt,b):T.call(null,Vt,b))?new MN(c,this.kd,this.G,this.D,null):r(T.j?T.j(nu,b):T.call(null,nu,b))?new MN(this.pb,c,this.G,this.D,null):new MN(this.pb,this.kd,this.G,R.C(this.D,b,c),null)};g.ha=function(){return E(V.j(new X(null,2,5,Z,[new Y(Vt,this.pb),new Y(nu,this.kd)],null),this.D))};g.fa=function(a,b){return new MN(this.pb,this.kd,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
function NN(a,b){return vI.j(tk(cj(a)),tk(cj(b)))}function ON(a,b){return D.j(M(a),M(b))&&rh(function(c){return Nf(b,c)},cj(a))&&rh(function(c){return Nf(b,c)},cj(a))}
var PN=function PN(a,b){return D.j(pq,a)?!0:D.j(new X(null,1,5,Z,[Mx],null),a)?Bf(b):a instanceof A?D.j(b,a):Bf(a)?D.j(mf(a),Mx)?Bf(b)&&rh(function(d){var e=Q(d,0,null);d=Q(d,1,null);return PN.j?PN.j(e,d):PN.call(null,e,d)},Lh.C(Hi,vk(a),b)):Bf(b)&&D.j(M(b),M(a))&&rh(function(d){var e=Q(d,0,null);d=Q(d,1,null);return PN.j?PN.j(e,d):PN.call(null,e,d)},Lh.C(Hi,a,b)):a.B?a.B(b):a.call(null,b)};function QN(a){return a instanceof A&&D.j("$",J(Ig(a)))}
function RN(a){return a instanceof A&&D.j("?",J(Ig(a)))}function SN(a){return a instanceof C||"string"===typeof a}function TN(a){return PN(new X(null,2,5,Z,[SN,pq],null),a)}function UN(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var VN=function VN(a,b){var d=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,e=B.j(d,Vt);d=B.j(d,nu);var f=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b,h=B.j(f,Vt);f=B.j(f,nu);if(D.j(e,h))return new MN(e,ai.j(Yf(d),f),null,null,null);if(ON(e,h)){if(rh(xc,dj(e))){var k=Yf(function(){return function w(u){return new Jg(null,function(){for(;;){var z=E(u);if(z){if(Gf(z)){var F=$d(z),H=M(F),G=Ng(H);a:for(var N=0;;)if(N<H){var O=x(F,N),U=Q(O,0,null);O=Q(O,1,null);U=new X(null,2,5,Z,[O,e.B?e.B(U):e.call(null,U)],null);
G.add(U);N+=1}else{F=!0;break a}return F?Pg(Rg(G),w(ae(z))):Pg(Rg(G),null)}F=J(z);G=Q(F,0,null);F=Q(F,1,null);return ff(new X(null,2,5,Z,[F,e.B?e.B(G):e.call(null,G)],null),w(De(z)))}return null}},null,null)}(h)}()),m=v.j(pg,dj(e))+1;b=Td(v.C(function(p,u){for(var w=Array(m),z=E(k),F=null,H=0,G=0;;)if(G<H){var N=F.xa(null,G),O=Q(N,0,null);N=Q(N,1,null);w[N]=u[O];G+=1}else if(z=E(z))Gf(z)?(H=$d(z),z=ae(z),F=H,H=M(H)):(H=J(z),F=Q(H,0,null),H=Q(H,1,null),w[H]=u[F],z=K(z),F=null,H=0),G=0;else break;return Yg.j(p,
w)},Rd(Yf(d)),f));return new MN(e,b,null,null,null)}var n=wk(cj(lk.F(P([e,h]))),Fk.O());d=function(){var p=new MN(n,of,null,null,null);return VN.j?VN.j(p,a):VN.call(null,p,a)}();return VN.j?VN.j(d,b):VN.call(null,d,b)}throw fm(["Cant sum relations with different attrs: ",gl.F(P([e]))," and ",gl.F(P([h]))].join(""),new q(null,1,[Dp,Pr],null));},WN=function WN(a){switch(arguments.length){case 0:return WN.O();case 2:return WN.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));
}};WN.O=function(){return new MN(W,new X(null,1,5,Z,[[]],null),null,null,null)};WN.j=function(a,b){var c=cj(Vt.B(a)),d=cj(Vt.B(b)),e=Uf(Lh.j(Vt.B(a),c)),f=Uf(Lh.j(Vt.B(b),d));return new MN(wk(V.j(c,d),Fk.O()),Td(v.C(function(h,k){return v.C(function(m,n){return Yg.j(m,UN(k,e,n,f))},h,nu.B(b))},Rd(of),nu.B(a))),null,null,null)};WN.T=2;var XN=function XN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return XN.F(c)};
XN.F=function(a){var b=M(a);return lh.j(Mh.j(b/2,a),Nh(b/2,a))};XN.T=0;XN.ba=function(a){return this.F(E(a))};var YN=function YN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new I(c.slice(2),0,null):null;return YN.F(arguments[0],arguments[1],c)};YN.F=function(a,b,c){return v.C(function(d,e){d=J(YJ(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Oe(new X(null,2,5,Z,[Ow.B(d),Vw.B(d)],null))},null,c)};YN.T=2;
YN.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};var ZN=function ZN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return ZN.F(c)};ZN.F=function(a){return v.C(function(b,c){return r(c)?c:Oe(c)},!0,a)};ZN.T=0;ZN.ba=function(a){return this.F(E(a))};var $N=function $N(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return $N.F(c)};
$N.F=function(a){return v.C(function(b,c){return r(c)?Oe(c):c},null,a)};$N.T=0;$N.ba=function(a){return this.F(E(a))};
var aO=Oj([kB,aw,Bs,Ex,rr,kw,Av,Gq,sw,vr,vy,bA,Eo,nr,YB,Yx,$m,Qx,Xu,bq,Xr,Sw,Nv,Ap,mB,rs,Sr,gz,gB,Cn,lo,Aw,qo,Et,an,$y,Mx,sp,Yq,mw,Hs,Em,lv,Vs,dB,iC,zt,Do,Fy,QA,Os,Ms,zp,bp,Xs,az,bo,jB,Um,op,By,hp,gw,HB,kA,Ky,qy,Ft,Qv,yr,An,ht,Gu],[function(a){return!0===a},ZN,function(a){return!th(a)},function(a,b,c,d){if(null==d)throw fm("get-else: nil default value is not supported",new q(null,1,[Dp,Pr],null));a=J(YJ(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:Vw.B(a)},og,il,ng,M,YN,vc,bg,Me,kg,ug,function(a){return!1===
a},yc,bg,XN,Hi,Qk,mg,function(a,b){return 0==a.lastIndexOf(b,0)},D,qg,hg,Ig,function(a,b,c){return null==B.j(YL(a,b),c)},bg,Ll,uh,xg,hk,Qf,Fk,pg,yf,jg,gl,jl,wf,function(a){return 0===a},lh,hl,function(a){return a-1},Rk,Hi,lh,t,lg,Fg,Hg,ig,zc,function(a){return 0<a},Kl,Mk,Cg,Nf,function(a,b){return ub(a,b)},yg,tg,function(a,b){return-1!=a.indexOf(b)},ik,vg,th,Bc,function(a){return 0>a},FC,mh,$N,function(a,b){return a===b},tk,Nk]),bO=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Jg(null,
function(){for(;;){var m=E(h);if(m){if(Gf(m)){var n=$d(m),p=M(n),u=Ng(p);a:for(var w=0;;)if(w<p){var z=x(n,w)-e;u.add(z*z);w+=1}else{n=!0;break a}return n?Pg(Rg(u),k(ae(m))):Pg(Rg(u),null)}u=J(m)-e;return ff(u*u,k(De(m)))}return null}},null,null)}(d)}())/M(d)}function b(d){return c(d)/M(d)}function c(d){return v.C(hg,0,d)}return Oj([mq,Gq,rn,yp,Ap,an,Yu,Dx,Wx,Fo,Xs,Bz],[a,M,function(d){var e=Tf(Qf,d);d=M(d);var f=d>>1,h=$e(e,f);return th(d)?(h+$e(e,f-1))/2:h},c,function(){function d(h,k){return Yf(v.C(function(m,
n){return M(m)<h?Tf(Qf,nf.j(m,n)):0>Qf(n,mf(m))?Tf(Qf,nf.j(vk(m),n)):m},of,k))}function e(h){return v.C(function(k,m){return 0>Qf(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(){function d(h,k){return Yf(v.C(function(m,n){return M(m)<h?Tf(Qf,nf.j(m,n)):0<Qf(n,J(m))?Tf(Qf,nf.j(K(m),n)):m},of,k))}function e(h){return v.C(function(k,
m){return 0<Qf(m,k)?m:k},J(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}(),function(d){return M(uk(d))},tk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return Yf(Uh(f,function(){return $e(h,Ll(M(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return $e(f,Ll(M(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.B=function(f){return $e(f,Ll(M(f)))};e.j=d;return e}(),function(d,e){return Yf(Mh.j(d,Xf(e)))}])}();function cO(a){a="string"===typeof a?lI(new q(null,3,[Cm,y(sI),am,y(rI),Px,null],null),a):a;EN(a);return Ml(lf,a)}function dO(a){a=Lh.j(cx,Yf(uk(xM(of,a))));return new MN(wk(a,Fk.O()),of,null,null,null)}
function eO(a,b){if(null!=a&&null!=a.me)a=a.me(a,b);else{var c=eO[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IBinding.in-\x3erel",a);}return a}OM.prototype.me=function(){return WN.O()};PM.prototype.me=function(a,b){return new MN(sf([ei(this,new X(null,2,5,Z,[ku,cx],null)),0]),new X(null,1,5,Z,[Ic(new X(null,1,5,Z,[b],null))],null),null,null,null)};
RM.prototype.me=function(a,b){var c=this;if(wJ(b))return yf(b)?dO(c):v.j(VN,Lh.j(function(d){return eO(c.binding,d)},b));throw fm(["Cannot bind value ",gl.F(P([b]))," to collection ",gl.F(P([uM(c)]))].join(""),new q(null,3,[Dp,Qp,kx,b,uw,uM(c)],null));};
QM.prototype.me=function(a,b){if(wJ(b)){if(M(b)<M(this.bindings))throw fm(["Not enough elements in a collection ",gl.F(P([b]))," to bind tuple ",gl.F(P([uM(this)]))].join(""),new q(null,3,[Dp,Qp,kx,b,uw,uM(this)],null));return v.j(WN,Lh.C(function(c,d){return eO(c,d)},this.bindings,b))}throw fm(["Cannot bind value ",gl.F(P([b]))," to tuple ",gl.F(P([uM(this)]))].join(""),new q(null,3,[Dp,Qp,kx,b,uw,uM(this)],null));};
function fO(a,b){var c=Q(b,0,null);b=Q(b,1,null);return c instanceof PM&&c.Va instanceof yM?ii.ka(a,mx,R,ei(c,new X(null,2,5,Z,[ku,cx],null)),b):c instanceof PM&&c.Va instanceof AM?R.C(a,ow,cO(b)):ii.P(a,pw,nf,eO(c,b))}
function gO(a,b,c){var d=M(b),e=M(c);if(d<e)throw fm(["Extra inputs passed, expected: ",gl.F(P([bi.j(function(f){return kn.B(wf(f))},b)])),", got: ",gl.F(P([e]))].join(""),new q(null,3,[Dp,cp,jm,b,dx,c],null));if(d>e)throw fm(["Too few inputs passed, expected: ",gl.F(P([bi.j(function(f){return kn.B(wf(f))},b)])),", got: ",gl.F(P([e]))].join(""),new q(null,3,[Dp,cp,jm,b,dx,c],null));return v.C(fO,a,wk(b,c))}var hO=null,iO=null;
function jO(a,b){var c=a.B?a.B(b):a.call(null,b);return Nf(hO,b)?function(d){d=d[c];return"number"===typeof d?d:Bf(d)?AK(iO,d):BI(d)?AK(iO,d):d}:function(d){return d[c]}}function kO(a){if(1===M(a))return J(a);var b=Uf(a);return function(c){return E(b.map(function(d){return d.B?d.B(c):d.call(null,c)}))}}function lO(a,b){for(var c=Rd(W);;){var d=J(b);if(null==d)return Td(c);var e=a.B?a.B(d):a.call(null,d);b=K(b);c=Zg.C(c,e,nf.j(B.C(c,e,Ee),d))}}
function mO(a,b){var c=nu.B(a),d=nu.B(b),e=Vt.B(a),f=Vt.B(b);a=Yf(NN(Vt.B(a),Vt.B(b)));var h=Lh.j(function(w){return jO(e,w)},a),k=Lh.j(function(w){return jO(f,w)},a);a=cj(e);b=Yf(wI.j(tk(cj(f)),tk(cj(e))));var m=Uf(Lh.j(e,a)),n=Uf(Lh.j(f,b));h=kO(h);var p=lO(h,c),u=kO(k);c=Td(v.C(function(w,z){var F=u.B?u.B(z):u.call(null,z);F=B.j(p,F);return null==F?w:v.C(function(H,G){return Yg.j(H,UN(G,m,z,n))},w,F)},Rd(of),d));return new MN(wk(V.j(a,b),Fk.O()),c,null,null,null)}
function nO(a,b){var c=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,d=B.j(c,Vt);c=B.j(c,nu);b=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;var e=B.j(b,Vt);b=B.j(b,nu);var f=NN(d,e),h=Lh.j(function(n){return jO(e,n)},f);h=kO(h);var k=lO(h,b);b=Lh.j(function(n){return jO(d,n)},f);var m=kO(b);return R.C(a,nu,ci(function(n){n=m.B?m.B(n):m.call(null,n);return null==(k.B?k.B(n):k.call(null,n))},c))}
function oO(a,b){var c=bi.j(function(d){return d instanceof A?null:d},b);a=YJ(a,c);b=ai.j(W,Zh(function(d){var e=Q(d,0,null);Q(d,1,null);return RN(e)},Lh.C(Hi,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new MN(b,a,null,null,null)}
function pO(a,b){a=Zh(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=J(d);var h=J(e);if(h instanceof A||D.j(f,h))d=K(d),e=K(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=ai.j(W,Zh(function(d){var e=Q(d,0,null);Q(d,1,null);return RN(e)},Lh.C(Hi,b,Fk.O())));return new MN(c,bi.j(Uf,a),null,null,null)}function qO(a,b){return(null!=a?l===a.Fh||(a.rd?0:Ac(XJ,a)):Ac(XJ,a))?oO(a,b):pO(a,b)}
function rO(a,b){for(var c=of;;){var d=J(a);if(null==d)return nf.j(c,b);r(mh(NN(Vt.B(b),Vt.B(d))))?(a=K(a),b=mO(d,b)):(a=K(a),c=nf.j(c,d))}}function sO(a,b){return sh(function(c){return Nf(Vt.B(c),b)?c:null},pw.B(a))}function tO(a,b){var c=sO(a,b);if(null==c)return null;a=J(nu.B(c));null==a?b=null:(c=Vt.B(c),b=c.B?c.B(b):c.call(null,b),b=a[b]);return b}function uO(a,b){return sh(function(c){return Nf(Vt.B(a),c)},b)}
function vO(a,b){var c=Zh(function(e){return uO(e,b)},pw.B(a)),d=v.j(WN,c);return new X(null,2,5,Z,[ii.C(a,pw,function(e){return $h(tk(c),e)}),d],null)}
function wO(a,b,c,d){a=mx.B(a);b=Vt.B(b);for(var e=M(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=$e(d,k);if(m instanceof A){var n=B.j(a,m);null==n?h[k]=B.j(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Hi?function(p){for(var u=f.slice(0),w=0;;)if(w<e){var z=h[w];null!=z&&(u[w]=p[z]);w+=1}else break;return gh(c,u)}:function(p){for(var u=0;;)if(u<e){var w=h[u];null!=w&&(f[u]=p[w]);u+=1}else break;return gh(c,f)}}
function xO(a,b){var c=Q(b,0,null);c=E(c);var d=J(c),e=K(c),f=function(){var m=B.j(aO,d);if(r(m))return m;m=tO(a,d);if(r(m))return m;if(r(null))return null;if(null==sO(a,d))throw fm(["Unknown predicate '",gl.F(P([d]))," in ",gl.F(P([b]))].join(""),new q(null,3,[Dp,Pr,ut,b,Au,d],null));return null}();c=vO(a,Zh(te,e));var h=Q(c,0,null),k=Q(c,1,null);c=r(f)?function(){var m=wO(h,k,f,e);return ii.C(k,nu,function(n){return Zh(m,n)})}():R.C(k,nu,of);return ii.P(h,pw,nf,c)}
function yO(a,b){var c=Q(b,0,null);c=E(c);var d=J(c),e=K(c);c=Q(b,1,null);var f=UM(c),h=function(){var n=B.j(aO,d);if(r(n))return n;n=tO(a,d);if(r(n))return n;if(r(null))return null;if(null==sO(a,d))throw fm(["Unknown function '",gl.F(P([d]))," in ",gl.F(P([b]))].join(""),new q(null,3,[Dp,Pr,ut,b,Au,d],null));return null}();c=vO(a,Zh(te,e));var k=Q(c,0,null),m=Q(c,1,null);c=r(h)?function(){var n=wO(k,m,h,e),p=function(){return function z(w){return new Jg(null,function(){for(var F=w;;)if(F=E(F)){if(Gf(F)){var H=
$d(F),G=M(H),N=Ng(G);a:for(var O=0;;)if(O<G){var U=x(H,O),ea=n(U);null!=ea&&(U=WN.j(new MN(Vt.B(m),new X(null,1,5,Z,[U],null),null,null,null),eO(f,ea)),N.add(U));O+=1}else{H=!0;break a}return H?Pg(Rg(N),z(ae(F))):Pg(Rg(N),null)}N=J(F);H=n(N);if(null!=H)return ff(WN.j(new MN(Vt.B(m),new X(null,1,5,Z,[N],null),null,null,null),eO(f,H)),z(De(F)));F=De(F)}else return null},null,null)}(nu.B(m))}();return yf(p)?WN.j(m,dO(f)):v.j(VN,p)}():WN.j(R.C(m,nu,of),dO(f));return ii.P(k,pw,rO,c)}
function zO(a,b){if(Bf(b)){var c=QN(J(b))?kf(b):J(b);if(c instanceof A){if(RN(c)||Nf(new qk(null,new q(null,6,[aw,null,Yx,null,Oq,null,vp,null,yr,null,pq,null],null),null),c))return!1;if(Nf(ow.B(a),c))return!0;throw fm(["Unknown rule '",gl.F(P([c]))," in ",gl.F(P([b]))].join(""),new q(null,2,[Dp,Pr,ut,b],null));}}return!1}var AO=Ch(0);
function BO(a,b){var c=E(a),d=J(c),e=K(c),f=Eh.j(AO,Me),h=B.j(ow.B(b),d);return function n(m){return new Jg(null,function(){for(;;){var p=E(m);if(p){var u=p;if(Gf(u)){var w=$d(u),z=M(w),F=Ng(z);return function(){for(var ua=0;;)if(ua<z){var Ba=x(w,ua),Ya=Ba,bc=E(Ya),yb=J(bc),fc=K(bc),Yb=yb,Vd=E(Yb),dg=J(Vd),Ef=K(Vd),Wg=dg,Zc=Ef,Dd=fc,ye=wk(Zc,e);Qg(F,uC(function(eg,Ed,ze,Fd,uq,br,Jo,cr,xj,Ko,jz,dr,Lo,kz,er,fr,yj,gr,hr,Mo,ou,qm,zj,Pk,pu,rm){return function(fh){if(RN(fh)){var lz=Lo.B?Lo.B(fh):Lo.call(null,
fh);return null==lz?we.B([Ig(fh),"__auto__",t.B(rm)].join("")):lz}return fh}}(ua,Ya,bc,yb,fc,Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,Ba,w,z,F,u,p,a,c,d,e,d,e,f,h),Dd));ua+=1}else return!0}()?Pg(Rg(F),n(ae(u))):Pg(Rg(F),null)}var H=J(u),G=H,N=E(G),O=J(N),U=K(N),ea=O,va=E(ea),xa=J(va),ya=K(va),Ta=xa,ka=ya,pa=U,Ca=wk(ka,e);return ff(uC(function(ua,Ba,Ya,bc,yb,fc,Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze,Fd,uq,br,Jo,cr){return function(xj){if(RN(xj)){var Ko=Zc.B?Zc.B(xj):Zc.call(null,xj);return null==Ko?we.B([Ig(xj),"__auto__",
t.B(cr)].join("")):Ko}return xj}}(G,N,O,U,ea,va,xa,ya,Ta,ka,pa,Ca,H,u,p,a,c,d,e,d,e,f,h),pa),n(De(u)))}return null}},null,null)}(h)}function CO(a,b){a=$h(function(c){var d=Q(c,0,null);c=Q(c,1,null);return D.j(d,c)},Lh.C(Hi,a,b));return new X(null,2,5,Z,[Lh.j(J,a),Lh.j(kf,a)],null)}
function DO(a,b){a=E(a);var c=J(a),d=K(a);return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(Gf(k)){var m=$d(k),n=M(m),p=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u),z=CO(d,w);w=Q(z,0,null);z=Q(z,1,null);w=new X(null,1,5,Z,[V.F(new X(null,1,5,Z,[Qx],null),w,P([z]))],null);p.add(w);u+=1}else{m=!0;break a}return m?Pg(Rg(p),h(ae(k))):Pg(Rg(p),null)}p=J(k);m=CO(d,p);p=Q(m,0,null);m=Q(m,1,null);return ff(new X(null,1,5,Z,[V.F(new X(null,1,5,Z,[Qx],null),p,P([m]))],null),h(De(k)))}return null}},
null,null)}(B.j(b,c))}function EO(a){var b=Ch(of);uC(function(c){r(RN.B?RN.B(c):RN.call(null,c))&&Eh.C(b,nf,c);return c},a);return y(b)}function FO(a,b){function c(e){e=Q(e,0,null);e=E(e);J(e);e=K(e);return rh(d,e)}var d=tk(EO(a));return new X(null,2,5,Z,[Zh(c,b),$h(c,b)],null)}
function GO(a,b){function c(fc){return sh(function(Yb){return yf(nu.B(Yb))},pw.B(fc))}function d(fc,Yb){return v.C(HO,fc,Yb)}for(var e=Zh(RN,b),f=wk(e,Fk.O()),h=new pf(null,new q(null,5,[Ro,of,oA,a,Zy,new X(null,1,5,Z,[b],null),hy,W,Ry,W],null),null,1,null),k=new MN(f,of,null,null,null);;){var m=J(h);if(null==m)return k;var n=m,p=Hk(function(){return function(fc){return!zO(a,fc)}}(h,k,n,m,e,f,d,c),Zy.B(n)),u=Q(p,0,null),w=Q(p,1,null),z=E(w),F=J(z),H=K(z),G=F,N=H;if(null==G){b=d(oA.B(n),u);b=IO?IO(b,
e):JO.call(null,b,e);var O=new MN(f,b,null,null,null);b=K(h);O=VN(k,O);h=b;k=O}else{var U=G,ea=E(U),va=J(ea),xa=K(ea),ya=va,Ta=xa,ka=DO(G,hy.B(n)),pa=FO(V.j(Ro.B(n),u),V.j(ka,Ry.B(n))),Ca=Q(pa,0,null),ua=Q(pa,1,null);if(r(sh(function(){return function(fc){return D.j(fc,new X(null,1,5,Z,[Cg(Qx)],null))}}(h,k,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,p,u,w,z,F,H,G,N,n,m,e,f,d,c),Ca)))b=K(h),O=k,h=b,k=O;else{var Ba=V.j(u,Ca),Ya=d(oA.B(n),Ba);if(r(c(Ya)))b=K(h),O=k,h=b,k=O;else{var bc=R.C(hy.B(n),ya,nf.j(B.C(hy.B(n),
ya,of),Ta)),yb=BO(G,a);b=V.j(function(){return function(fc,Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze,Fd,uq,br,Jo,cr,xj,Ko,jz,dr,Lo,kz,er,fr,yj,gr,hr,Mo,ou){return function Pk(zj){return new Jg(null,function(pu,rm,fh,lz,JH,KH,KX,LX,MX,NX,OX,PX,QX,RX,SX,LH,TX,UX,VX,WX,XX,YX,ZX,MH){return function(){for(;;){var No=E(zj);if(No){if(Gf(No)){var ru=$d(No),NH=M(ru),jr=Ng(NH);a:for(var mz=0;;)if(mz<NH){var nz=x(ru,mz);nz=new q(null,5,[Ro,JH,oA,KH,Zy,ai.C(of,zl,P([nz,MH])),hy,fh,Ry,LH],null);jr.add(nz);mz+=1}else{ru=
!0;break a}return ru?Pg(Rg(jr),Pk(ae(No))):Pg(Rg(jr),null)}jr=J(No);return ff(new q(null,5,[Ro,JH,oA,KH,Zy,ai.C(of,zl,P([jr,MH])),hy,fh,Ry,LH],null),Pk(De(No)))}return null}}}(fc,Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze,Fd,uq,br,Jo,cr,xj,Ko,jz,dr,Lo,kz,er,fr,yj,gr,hr,Mo,ou),null,null)}}(h,k,bc,yb,Ba,Ya,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,p,u,w,z,F,H,G,N,n,m,e,f,d,c)(yb)}(),K(h));O=k;h=b;k=O}}}}}
function KO(a,b){if(null!=a?l===a.Cg||(a.rd?0:Ac(aK,a)):Ac(aK,a)){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null),f=Q(b,3,null);return Mi(new X(null,4,5,Z,[r(function(){var h=TN(c);return r(h)?h:SN(c)}())?xK(a,c):c,d,r(function(){if(r(e)){if(SN(d)&&wK(a,d)){var h=TN(e);return r(h)?h:SN(e)}return!1}return e}())?xK(a,e):e,r(TN(f))?xK(a,f):f],null),0,M(b))}return b}
function LO(a,b){var c=Q(b,0,null),d=Q(b,1,null),e=Q(b,2,null);b=Q(b,3,null);c=RN(c)?nf.j(sk,c):sk;c=RN(b)?nf.j(c,b):c;return RN(e)&&!RN(d)&&wK(a,d)?nf.j(c,e):c}function MO(a,b){return R.C(a,pw,Ah(function(c){var d=mh(nk(Vt.B(c),b));return null==d?null:R.C(c,Vt,d)},pw.B(a)))}function NO(a){return ai.j(sk,Xh(function(b){return cj(Vt.B(b))},P([pw.B(a)])))}
function OO(a,b,c){if(yI(b,a))return null;a=wI.j(tk(b),a);throw fm(["Insufficient bindings: ",gl.F(P([a]))," not bound in ",gl.F(P([c]))].join(""),new q(null,3,[Dp,Pr,ut,c,ns,a],null));}function PO(a,b,c){b=bi.j(function(d){return wI.j(tk(EO(d)),a)},b);if(r(gh(D,b)))return null;throw fm(["All clauses in 'or' must use same set of free vars, had ",gl.F(P([b]))," in ",gl.F(P([c]))].join(""),new q(null,3,[Dp,Pr,ut,c,ns,b],null));}
function QO(a,b,c){for(var d=tk($h(a,b)),e=E(c),f=null,h=0,k=0;;)if(k<h){c=f.xa(null,k);var m=mh(wI.j(d,tk(EO(c))));if(null!=m)throw e=m,Vk(el(P([c,a,b,d]),oc())),r(kc)&&kl(),fm(["All clauses in 'or' must use same set of free vars, had ",gl.F(P([e]))," not bound in ",gl.F(P([c]))].join(""),new q(null,3,[Dp,Pr,ut,c,ns,e],null));k+=1}else if(c=E(e)){e=c;if(Gf(e))f=$d(e),e=ae(e),c=f,h=M(f),f=c;else{c=J(e);f=mh(wI.j(d,tk(EO(c))));if(null!=f)throw e=f,Vk(el(P([c,a,b,d]),oc())),r(kc)&&kl(),fm(["All clauses in 'or' must use same set of free vars, had ",
gl.F(P([e]))," not bound in ",gl.F(P([c]))].join(""),new q(null,3,[Dp,Pr,ut,c,ns,e],null));e=K(e);f=null;h=0}k=0}else return null}var HO=function HO(a){switch(arguments.length){case 2:return HO.j(arguments[0],arguments[1]);case 3:return HO.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};HO.j=function(a,b){return HO.C(a,b,b)};
HO.C=function(a,b,c){for(;;){var d=PN,e=b;if(r(function(){var O=new X(null,1,5,Z,[new X(null,2,5,Z,[te,Mx],null)],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return OO(NO(a),Zh(RN,K(J(b))),b),xO(a,b);if(r(function(){var O=new X(null,2,5,Z,[new X(null,2,5,Z,[te,Mx],null),pq],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return OO(NO(a),Zh(RN,K(J(b))),b),yO(a,b);if(r(function(){var O=new X(null,2,5,Z,[QN,Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var f=E(b);c=J(f);f=K(f);var h=
iO;iO=B.j(mx.B(a),c);try{return HO.C(a,f,b)}finally{iO=h}}else{if(r(function(){var O=new X(null,2,5,Z,[yr,Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){var k=b,m=E(k),n=J(m),p=K(m);f=n;h=p;var u=PO(NO(a),h,b),w=Lh.j(function(O){return function(U){return RO.j?RO.j(O,U):RO.call(null,O,U)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=Lh.j(function(){return function(O){return v.j(mO,pw.B(O))}}(a,b,c,k,m,n,p,f,h,u,w,d,e),w);return R.C(J(w),pw,new X(null,1,5,Z,[v.j(VN,b)],null))}if(r(function(){var O=new X(null,
3,5,Z,[vp,new X(null,2,5,Z,[new X(null,1,5,Z,[Mx],null),Mx],null),Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){h=E(b);f=J(h);h=K(h);k=J(h);f=K(h);k=E(k);h=J(k);k=K(k);u=h;h=f;f=NO(a);OO(f,u,c);QO(f,k,h);c=Ug(vp,V.j(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var O=new X(null,3,5,Z,[vp,new X(null,1,5,Z,[Mx],null),Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){n=b;p=E(n);var z=J(p),F=K(p);f=z;var H=J(F),G=K(F);k=H;h=G;var N=tk(k);u=QO(NO(a),N,h);m=MO(a,N);w=Lh.j(function(O,
U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb){return function(fc){return MO(RO.j?RO.j(yb,fc):RO.call(null,yb,fc),Ya)}}(a,b,c,n,p,z,F,f,H,G,k,h,N,u,m,d,e),h);b=Lh.j(function(){return function(O){return v.j(mO,pw.B(O))}}(a,b,c,n,p,z,F,f,H,G,k,h,N,u,m,w,d,e),w);b=v.j(VN,b);return ii.P(a,pw,rO,b)}if(r(function(){var O=new X(null,2,5,Z,[aw,Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return c=E(b),b=J(c),c=K(c),f=b,b=c,v.C(RO,a,b);if(r(function(){var O=new X(null,2,5,Z,[Yx,Mx],null),U=e;return d.j?
d.j(O,U):d.call(null,O,U)}())){f=E(b);b=J(f);h=K(f);f=b;b=h;f=NO(a);h=tk(EO(b));if(yf(vI.j(f,h)))throw fm(["Insufficient bindings: none of ",gl.F(P([h]))," is bound in ",gl.F(P([c]))].join(""),new q(null,2,[Dp,Pr,ut,c],null));u=null;a=R.C(a,pw,new X(null,1,5,Z,[v.j(mO,pw.B(a))],null));b=v.C(RO,a,b);b=nO(J(pw.B(a)),v.j(mO,pw.B(b)));return R.C(a,pw,new X(null,1,5,Z,[b],null))}if(r(function(){var O=new X(null,3,5,Z,[Oq,new X(null,1,5,Z,[Mx],null),Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}()))return b=
E(b),f=J(b),b=K(b),f=J(b),b=K(b),k=f,f=NO(a),u=OO(f,k,c),a=R.C(a,pw,new X(null,1,5,Z,[v.j(mO,pw.B(a))],null)),m=MO(a,k),b=MO(v.C(RO,m,b),k),b=nO(J(pw.B(a)),v.j(mO,pw.B(b))),R.C(a,pw,new X(null,1,5,Z,[b],null));if(r(function(){var O=new X(null,1,5,Z,[Mx],null),U=e;return d.j?d.j(O,U):d.call(null,O,U)}())){c=iO;b=KO(c,b);f=qO(c,b);h=hO;hO=(null!=c?l===c.Cg||(c.rd?0:Ac(aK,c)):Ac(aK,c))?LO(c,b):hO;try{return ii.P(a,pw,rO,f)}finally{hO=h}}else throw Error(["No matching clause: ",t.B(e)].join(""));}}break}};
HO.T=3;var RO=function RO(a,b){if(zO(a,b))if(QN(J(b))){var d=iO;iO=B.j(mx.B(a),J(b));try{var e=K(b);return RO.j?RO.j(a,e):RO.call(null,a,e)}finally{iO=d}}else return ii.P(a,pw,rO,GO(a,b));else return HO.j(a,b)};function SO(a,b){var c=iO;iO=B.j(mx.B(a),Pp);try{return v.C(RO,a,b)}finally{iO=c}}
function JO(a){switch(arguments.length){case 2:return IO(arguments[0],arguments[1]);case 3:return TO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function IO(a,b){a=pw.B(a);return TO(new X(null,1,5,Z,[Array(M(b))],null),a,b)}
function TO(a,b,c){for(;;){var d=J(b);if(null==d)return a;var e=d,f=nk(Vt.B(e),c);if(yf(f)){var h=a,k=K(b),m=c;a=h;b=k;c=m}else{var n=Uf(Lh.j(function(u,w,z,F){return function(H){return B.j(F,H)}}(a,b,c,f,e,d),c)),p=M(c);h=function(){return function(u,w,z,F,H,G,N,O){return function va(ea){return new Jg(null,function(xa,ya,Ta,ka,pa,Ca,ua,Ba){return function(){for(var Ya=ea;;){var bc=E(Ya);if(bc){var yb=bc,fc=J(yb);if(bc=E(function(Yb,Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze,Fd){return function Jo(br){return new Jg(null,
function(cr,xj,Ko,jz,dr,Lo,kz,er,fr){return function(){for(;;){var yj=E(br);if(yj){if(Gf(yj)){var gr=$d(yj),hr=M(gr),Mo=Ng(hr);return function(){for(var qm=0;;)if(qm<hr){for(var zj=x(gr,qm),Pk=Mo,pu=Hc(dr),rm=0;;)if(rm<fr){var fh=er[rm];null!=fh&&(pu[rm]=zj[fh]);rm+=1}else break;Pk.add(pu);qm+=1}else return!0}()?Pg(Rg(Mo),Jo(ae(yj))):Pg(Rg(Mo),null)}var ou=J(yj);return ff(function(){for(var qm=Hc(dr),zj=0;;)if(zj<fr){var Pk=er[zj];null!=Pk&&(qm[zj]=ou[Pk]);zj+=1}else break;return qm}(),Jo(De(yj)))}return null}}}(Yb,
Vd,dg,Ef,Wg,Zc,Dd,ye,eg,Ed,ze,Fd),null,null)}}(Ya,xa,ya,Ta,fc,yb,bc,ka,pa,Ca,ua,Ba)(nu.B(ua))))return V.j(bc,va(De(Ya)));Ya=De(Ya)}else return null}}}(u,w,z,F,H,G,N,O),null,null)}}(a,b,c,n,p,f,e,d)(a)}();k=K(b);m=c;a=h;b=k;c=m}}}function UO(a,b){return tk(Lh.j(Yf,IO(a,b)))}
function VO(a,b){if(null!=a&&null!=a.ne)a=a.ne(a,b);else{var c=VO[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=VO._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IContextResolve.-context-resolve",a);}return a}wM.prototype.ne=function(a,b){return tO(b,this.symbol)};yM.prototype.ne=function(a,b){return ei(b,new X(null,2,5,Z,[mx,this.symbol],null))};CM.prototype.ne=function(){var a=B.j(bO,this.symbol);return r(a)?a:null};BM.prototype.ne=function(){return this.value};
function WO(a,b,c){return bi.P(function(d,e,f){if(dN(d)){e=VO(vA.B(d),b);d=Lh.j(function(k){return VO(k,b)},vk(wA.B(d)));var h=Lh.j(function(k){return $e(k,f)},c);return gh(e,V.j(d,new X(null,1,5,Z,[h],null)))}return e},a,J(c),Fk.O())}function XO(a){var b=uh(dN);return $h(vc,Lh.C(function(c,d){return r(b.B?b.B(c):b.call(null,c))?d:null},a,Fk.O()))}
function YO(a,b,c){var d=XO(a);return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(Gf(k)){var m=$d(k),n=M(m),p=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u);Q(w,0,null);w=Q(w,1,null);w=WO(a,b,w);p.add(w);u+=1}else{m=!0;break a}return m?Pg(Rg(p),h(ae(k))):Pg(Rg(p),null)}p=J(k);Q(p,0,null);p=Q(p,1,null);return ff(WO(a,b,p),h(De(k)))}return null}},null,null)}(Ml(function(f){return Lh.j(function(h){return $e(f,h)},d)},c))}
function ZO(a,b){return v.C(function(c,d){return nf.j(c,a.B?a.B(d):a.call(null,d))},qf(b),b)}function $O(a,b){var c=jy.B(a),d=Fk.j(0,M(c));return ZO(function(e){return v.C(function(f,h){return R.C(f,$e(c,h),$e(e,h))},W,d)},b)}function aP(a,b,c){if(null!=a&&null!=a.oe)a=a.oe(a,b,c);else{var d=aP[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=aP._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IPostProcess.-post-process",a);}return a}
$M.prototype.oe=function(a,b,c){return null==b?c:$O(b,c)};aN.prototype.oe=function(a,b,c){return ai.C(of,Lh.B(J),c)};bN.prototype.oe=function(a,b,c){return lf(c)};cN.prototype.oe=function(a,b,c){return null!=b?J($O(b,new X(null,1,5,Z,[J(c)],null))):J(c)};
function bP(a,b,c){var d=function(){return function h(f){return new Jg(null,function(){for(;;){var k=E(f);if(k){if(Gf(k)){var m=$d(k),n=M(m),p=Ng(n);a:for(var u=0;;)if(u<n){var w=x(m,u);w=eN(w)?new X(null,2,5,Z,[VO(kn.B(w),b),xL(VO(CA.B(w),b))],null):null;p.add(w);u+=1}else{m=!0;break a}return m?Pg(Rg(p),h(ae(k))):Pg(Rg(p),null)}p=J(k);return ff(eN(p)?new X(null,2,5,Z,[VO(kn.B(p),b),xL(VO(CA.B(p),b))],null):null,h(De(k)))}return null}},null,null)}(a)}();return function h(f){return new Jg(null,function(){for(;;){var k=
E(f);if(k){var m=k;if(Gf(m)){var n=$d(m),p=M(n),u=Ng(p);return function(){for(var z=0;;)if(z<p){var F=x(n,z);Qg(u,bi.C(function(){return function(H,G){if(r(H)){var N=Q(H,0,null);H=Q(H,1,null);return TL(N,H,new X(null,1,5,Z,[G],null))}return G}}(z,F,n,p,u,m,k,d),d,F));z+=1}else return!0}()?Pg(Rg(u),h(ae(m))):Pg(Rg(u),null)}var w=J(m);return ff(bi.C(function(){return function(z,F){if(r(z)){var H=Q(z,0,null);z=Q(z,1,null);return TL(H,z,new X(null,1,5,Z,[F],null))}return F}}(w,m,k,d),d,w),h(De(m)))}return null}},
null,null)}(c)}var cP=new Gh(WL(W,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;a:for(b=E(b),d=gk;;)if(b)c=K(K(b)),d=R.C(d,J(b),kf(b)),b=c;else break a;return d}(),W,0,100));function dP(a){var b=B.C(y(cP),a,null);return null==b?(b=KN(a),cP.Dc(null,R.C(cP.fb(null),a,b)),b):b}
function CE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new I(b.slice(1),0,null):null;return eP(arguments[0],b)}function eP(a,b){var c=dP(a),d=Kq.B(c),e=ZM(d),f=Xh(WM,P([ZM(d)])),h=M(e),k=AA.B(c);f=V.j(f,Lh.j(cx,k));a=Bf(a)?HN(a):a;k=rp.B(a);b=gO(new LN(of,W,W,null,null,null),Dy.B(c),b);f=UO(SO(b,k),f);f=r(uB.B(a))?bi.j(function(m){return Yf(Mi(m,0,h))},f):f;f=r(sh(dN,e))?YO(e,b,f):f;e=r(sh(eN,e))?bP(e,b,f):f;return aP(d,Jw.B(c),e)};function fP(a,b){var c=Ch(null);Eh.j(a,function(d){var e=UK;d=new q(null,5,[ko,d,Ju,d,fs,of,qC,W,Qo,null],null);var f=S.F(d,ko,P([Ju,fs,qC,Qo]));f=Df(d)?ai.j(W,f):f;d=new yK(ko.B(d),Ju.B(d),fs.B(d),qC.B(d),Qo.B(d),null,mh(f),null);e=e(d,b);Dh(c,e);return Ju.B(e)});return y(c)}
function gP(a){var b=BE;a=fP(b,a);b=qu.B(wf(b));b=null==b?null:y(b);b=E(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Q(f,0,null);f=Q(f,1,null);f.B?f.B(a):f.call(null,a);e+=1}else if(b=E(b))Gf(b)?(d=$d(b),b=ae(b),c=d,d=M(d)):(c=J(b),Q(c,0,null),c=Q(c,1,null),c.B?c.B(a):c.call(null,a),b=K(b),c=null,d=0),e=0;else break;return a}function hP(a){var b=BE,c=Kl.O();Eh.P(qu.B(wf(b)),R,c,a)}
for(var tG=E(new q(null,2,[pt,function(a){return gh(sJ,a)},Pv,function(a){var b=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;a=B.j(b,es);b=B.j(b,Tq);return sK(Lh.j(function(c){var d=Q(c,0,null),e=Q(c,1,null),f=Q(c,2,null);c=Q(c,3,null);return sJ.P(d,e,f,c)},b),a)}],null)),uG=null,vG=0,MG=0;;)if(MG<vG){var NG=uG.xa(null,MG),OG=Q(NG,0,null),eH=Q(NG,1,null),fH=OG,gH=eH;B.j(y(sI),fH);Eh.P(sI,R,fH,gH);MG+=1}else{var hH=E(tG);if(hH){var iH=hH;if(Gf(iH)){var xI=$d(iH),IL=ae(iH),iP=xI,jP=M(xI);tG=IL;uG=iP;vG=jP}else{var kP=
J(iH),lP=Q(kP,0,null),mP=Q(kP,1,null),nP=lP,oP=mP;B.j(y(sI),nP);Eh.P(sI,R,nP,oP);tG=K(iH);uG=null;vG=0}MG=0}else break};var BE,pP=new q(null,3,[ZB,new q(null,1,[Fm,rz],null),Vx,new q(null,2,[XA,Oz,tu,uy],null),Zp,new q(null,2,[XA,Oz,tu,rB],null)],null),qP=iK?iK(pP):jK.call(null,pP),rP=P([rc,new q(null,1,[qu,Ch(W)],null)]),sP=null!=rP&&(rP.J&64||l===rP.ua)?gh(hk,rP):rP,tP=B.j(sP,rc),uP=B.j(sP,At);BE=new Bh(qP,tP,uP);function IP(a){return gP(new X(null,1,5,Z,[new X(null,2,5,Z,[$p,a],null)],null))};cD(ZB,Ho,function(a){return"string"==typeof a});cD(Zs,new qk(null,new q(null,4,[lq,"null",hv,"null",yo,"null",Rq,"null"],null),null),new qk(null,new q(null,4,[lq,null,hv,null,yo,null,Rq,null],null),null));
cD(Wq,Cg(Tv,qx,new X(null,2,5,Z,[ZB,Zs],null)),function JP(a){var c=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,d=B.j(c,OB),e=B.j(c,Ns),f=B.j(c,Uo),h=B.j(c,iv),k=B.j(c,qw),m=B.j(c,Jv),n=B.j(c,KA),p=B.j(c,zx),u=B.j(c,qx),w=B.j(c,oB),z=B.j(c,lw),F=B.j(c,Tu),H=wk(V.j(w,n),V.j(p,z)),G=dm();if("undefined"===typeof ec||"undefined"===typeof vC||"undefined"===typeof GC||"undefined"===typeof Kv)Kv=function(N,O,U,ea,va,xa,ya,Ta,ka,pa,Ca,ua,Ba,Ya,bc,yb,fc,Yb,Vd){this.Xe=N;this.oi=O;this.Fi=U;this.ti=ea;this.Dd=va;
this.wi=xa;this.Ye=ya;this.lg=Ta;this.ri=ka;this.Dj=pa;this.Ei=Ca;this.req=ua;this.id=Ba;this.Di=Ya;this.si=bc;this.kj=yb;this.Mh=fc;this.xi=Yb;this.pj=Vd;this.J=393216;this.Y=0},Kv.prototype.fa=function(N,O){return new Kv(this.Xe,this.oi,this.Fi,this.ti,this.Dd,this.wi,this.Ye,this.lg,this.ri,this.Dj,this.Ei,this.req,this.id,this.Di,this.si,this.kj,this.Mh,this.xi,O)},Kv.prototype.ea=function(){return this.pj},Kv.prototype.sd=function(){return this},Kv.prototype.td=function(){return this},Kv.prototype.Oe=
l,Kv.prototype.he=function(N,O){if(r(this.Ye.B?this.Ye.B(O):this.Ye.call(null,O))){N=y(NC);var U=E(O),ea=J(U);K(U);Q(ea,0,null);Q(ea,1,null);for(ea=U=O;;){O=U;var va=ea;ea=E(va);U=J(ea);var xa=K(ea);ea=U;U=Q(ea,0,null);ea=Q(ea,1,null);if(r(va))if(va=this.Xe.B?this.Xe.B(U):this.Xe.call(null,U),va=B.j(N,va),r(va)){var ya=ea;va=LC(aD.B(va),ya);if(T(Jt,va))return Jt;O=va===ea?O:R.C(O,U,va);ea=xa;U=O}else ea=xa,U=O;else return O}}else return Jt},Kv.prototype.ie=function(N,O){N=R.C(this.lg,iv,O);return JP.B?
JP.B(N):JP.call(null,N)},Kv.rb=!0,Kv.kb="cljs.spec.alpha/t_cljs$spec$alpha22801",Kv.ub=function(N){return Jd(N,"cljs.spec.alpha/t_cljs$spec$alpha22801")};return new Kv(function(N){var O=H.B?H.B(N):H.call(null,N);return r(O)?O:N},d,e,f,h,k,m,c,n,a,p,u,G,w,z,c,H,F,W)}(Oj([Ns,Uo,iv,qw,Jv,KA,zx,qx,oB,lw,Tu,OB],[null,null,null,new X(null,3,5,Z,[function(a){return Cf(a)},function(a){return Nf(a,ZB)},function(a){return Nf(a,Zs)}],null),function(a){return Cf(a)&&Nf(a,ZB)&&Nf(a,Zs)},of,new X(null,2,5,Z,[ZB,
Zs],null),new X(null,2,5,Z,[ZB,Zs],null),new X(null,2,5,Z,[ZB,Zs],null),of,new X(null,3,5,Z,[Cg(qn,new X(null,1,5,Z,[tt],null),Cg(Ur,tt)),Cg(qn,new X(null,1,5,Z,[tt],null),Cg(ex,tt,ZB)),Cg(qn,new X(null,1,5,Z,[tt],null),Cg(ex,tt,Zs))],null),null])));cD(Hv,Cg(ir,Wq),hD(Wq,Wq,new q(null,4,[In,null,js,function(a){return zf(a)},lC,!0,Az,Cg(ir,Wq)],null),null));var KP={},vP,wP,xP,OP={};function PP(a,b){if(null!=a&&null!=a.Df)a=a.Df(a,b);else{var c=PP[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=PP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("ReadPort.take!",a);}return a}function QP(a,b,c){if(null!=a&&null!=a.Ne)a=a.Ne(a,b,c);else{var d=QP[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=QP._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("WritePort.put!",a);}return a}
function RP(a){if(null!=a&&null!=a.fe)a=a.fe(a);else{var b=RP[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=RP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Channel.close!",a);}return a}function SP(a){if(null!=a&&null!=a.Zb)a=a.Zb(a);else{var b=SP[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=SP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Handler.active?",a);}return a}
function TP(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=TP[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=TP._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Handler.commit",a);}return a}function UP(a,b){if(null!=a&&null!=a.Cf)a=a.Cf(a,b);else{var c=UP[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=UP._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Buffer.add!*",a);}return a}
var VP=function VP(a){switch(arguments.length){case 1:return VP.B(arguments[0]);case 2:return VP.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};VP.B=function(a){return a};VP.j=function(a,b){return UP(a,b)};VP.T=2;function WP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function XP(a){this.length=this.tail=this.head=0;this.K=a}g=XP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.K[this.tail];this.K[this.tail]=null;this.tail=(this.tail+1)%this.K.length;--this.length;return a};g.unshift=function(a){this.K[this.head]=a;this.head=(this.head+1)%this.K.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.K.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.K.length);return this.tail<this.head?(WP(this.K,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.K=a):this.tail>this.head?(WP(this.K,this.tail,a,0,this.K.length-this.tail),WP(this.K,0,a,this.K.length-this.tail,this.head),this.tail=0,this.head=this.length,this.K=a):this.tail===this.head?(this.head=this.tail=0,this.K=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.B?a.B(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function YP(a){return new XP(Array(a))}function ZP(a,b){this.buf=a;this.n=b;this.J=2;this.Y=0}ZP.prototype.Me=function(){return this.buf.length>=this.n};ZP.prototype.Cf=function(a,b){this.buf.unbounded_unshift(b);return this};ZP.prototype.ja=function(){return this.buf.length};function $P(a,b){this.buf=a;this.n=b;this.J=2;this.Y=0}$P.prototype.Me=function(){return!1};
$P.prototype.Cf=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};$P.prototype.ja=function(){return this.buf.length};function aQ(a){return new $P(YP(a),a)};function bQ(){return Fb("iPhone")&&!Fb("iPod")&&!Fb("iPad")};var cQ=Fb("Opera"),dQ=Fb("Trident")||Fb("MSIE"),eQ=Fb("Edge"),fQ=Fb("Gecko")&&!(xb("WebKit")&&!Fb("Edge"))&&!(Fb("Trident")||Fb("MSIE"))&&!Fb("Edge"),gQ=xb("WebKit")&&!Fb("Edge");gQ&&Fb("Mobile");Fb("Macintosh");Fb("Windows");Fb("Linux")||Fb("CrOS");var yP=la.navigator||null;yP&&(yP.appVersion||"").indexOf("X11");Fb("Android");bQ();Fb("iPad");Fb("iPod");bQ()||Fb("iPad")||Fb("iPod");xb("KaiOS");xb("GAFP");function iQ(){var a=la.document;return a?a.documentMode:void 0}var jQ;
a:{var zP="",AP=function(){var a=zb;if(fQ)return/rv:([^\);]+)(\)|;)/.exec(a);if(eQ)return/Edge\/([\d\.]+)/.exec(a);if(dQ)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(gQ)return/WebKit\/(\S+)/.exec(a);if(cQ)return/(?:Version)[ \/]?(\S+)/.exec(a)}();AP&&(zP=AP?AP[1]:"");if(dQ){var BP=iQ();if(null!=BP&&BP>parseFloat(zP)){jQ=String(BP);break a}}jQ=zP}var Ka={};
function nQ(a){return Ja(a,function(){{var b=0;const e=wb(String(jQ)).split("."),f=wb(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Ab(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Ab(0==c[2].length,0==d[2].length)||Ab(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var wG;
wG=la.document&&dQ?iQ():void 0;try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){}!fQ&&!dQ||dQ&&9<=Number(wG)||fQ&&nQ("1.9.1");dQ&&nQ("9");function pQ(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var qQ;
function rQ(){var a=la.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Fb("Presto")&&(a=function(){var e=pQ(db);e.style.display="none";Kb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Ib());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Ea(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Fb("Trident")&&!Fb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.Xd;c.Xd=null;e()}};return function(e){d.next={Xd:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in pQ(eb)?function(e){var f=pQ(eb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){la.setTimeout(e,0)}};var sQ=YP(32),tQ=!1,uQ=!1;function vQ(){tQ=!0;uQ=!1;for(var a=0;;){var b=sQ.pop();if(null!=b&&(b.O?b.O():b.call(null),1024>a)){a+=1;continue}break}tQ=!1;return 0<sQ.length?wQ.O?wQ.O():wQ.call(null):null}function wQ(){if(uQ&&tQ)return null;uQ=!0;!ra(la.setImmediate)||la.Window&&la.Window.prototype&&!Fb("Edge")&&la.Window.prototype.setImmediate==la.setImmediate?(qQ||(qQ=rQ()),qQ(vQ)):la.setImmediate(vQ)}function xQ(a){sQ.unbounded_unshift(a);wQ()}function yQ(a,b){setTimeout(a,b)};var zQ={},CP;
function BQ(a){if("undefined"===typeof ec||"undefined"===typeof gc||"undefined"===typeof KP||"undefined"===typeof OP||"undefined"===typeof zQ||"undefined"===typeof CP)CP=function(b,c){this.val=b;this.xj=c;this.J=425984;this.Y=0},CP.prototype.fa=function(b,c){return new CP(this.val,c)},CP.prototype.ea=function(){return this.xj},CP.prototype.fb=function(){return this.val},CP.rb=!0,CP.kb="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25221",CP.ub=function(b){return Jd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25221")};return new CP(a,
W)}function CQ(a,b){this.handler=a;this.val=b}function DQ(a){return SP(a.handler)}function EQ(a,b,c,d,e,f,h){this.Td=a;this.Ue=b;this.gd=c;this.Te=d;this.buf=e;this.closed=f;this.nc=h}function FQ(a){for(;;){var b=a.gd.pop();if(null!=b){var c=b.handler,d=b.val;if(c.Zb(null)){var e=c.Rb(null);xQ(function(f){return function(){return f.B?f.B(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.gd.cleanup(vh(!1));a.fe(null)}
EQ.prototype.Ne=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.Zb(null))return BQ(!f);if(r(function(){var u=d.buf;return r(u)?yc(d.buf.Me()):u}())){c.Rb(null);var h=Pe(d.nc.j?d.nc.j(d.buf,b):d.nc.call(null,d.buf,b));c=function(){for(var u=of;;)if(0<d.Td.length&&0<M(d.buf)){var w=d.Td.pop();if(w.Zb(null)){var z=w.Rb(null),F=d.buf.buf.pop();u=nf.j(u,function(H,G,N){return function(){return G.B?G.B(N):G.call(null,N)}}(u,z,F,w,h,f,e))}}else return u}();h&&FQ(e);if(E(c)){c=E(c);a=null;for(var k=
0,m=0;;)if(m<k){var n=a.xa(null,m);xQ(n);m+=1}else if(c=E(c))a=c,Gf(a)?(c=$d(a),m=ae(a),a=c,k=M(c),c=m):(c=J(a),xQ(c),c=K(a),a=null,k=0),m=0;else break}return BQ(!0)}a=function(){for(;;){var u=d.Td.pop();if(r(u)){if(r(u.Zb(null)))return u}else return null}}();if(r(a)){var p=a.Rb(null);c.Rb(null);xQ(function(){return p.B?p.B(b):p.call(null,b)});return BQ(!0)}64<d.Te?(d.Te=0,d.gd.cleanup(DQ)):d.Te+=1;r(c.ge())&&d.gd.unbounded_unshift(new CQ(c,b));return null};
EQ.prototype.Df=function(a,b){var c=this;if(b.Zb(null)){if(null!=c.buf&&0<M(c.buf)){a=b.Rb(null);if(r(a)){var d=c.buf.buf.pop(),e=yc(c.buf.Me())&&0<c.gd.length?function(){for(var H=of;;){var G=c.gd.pop(),N=G.handler;G=G.val;N=N.Zb(null)?N.Rb(null):!1;H=r(N)?nf.j(H,N):H;G=r(N)?Pe(c.nc.j?c.nc.j(c.buf,G):c.nc.call(null,c.buf,G)):null;if(!(yc(G)&&yc(c.buf.Me())&&0<c.gd.length))return new X(null,2,5,Z,[G,H],null)}}():null,f=Q(e,0,null),h=Q(e,1,null);r(f)&&FQ(this);for(var k=E(h),m=null,n=0,p=0;;)if(p<
n){var u=m.xa(null,p);xQ(function(H,G,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,p,u,d,e,f,h,a,a,this));p+=1}else{var w=E(k);if(w){u=w;if(Gf(u))k=$d(u),p=ae(u),m=k,n=M(k),k=p;else{var z=J(u);xQ(function(H,G,N,O,U){return function(){return U.B?U.B(!0):U.call(null,!0)}}(k,m,n,p,z,u,w,d,e,f,h,a,a,this));k=K(u);m=null;n=0}p=0}else break}return BQ(d)}return null}a=function(){for(;;){var H=c.gd.pop();if(r(H)){if(SP(H.handler))return H}else return null}}();if(r(a)){var F=TP(a.handler);
b.Rb(null);xQ(function(){return F.B?F.B(!0):F.call(null,!0)});return BQ(a.val)}if(r(c.closed))return r(c.buf)&&(c.nc.B?c.nc.B(c.buf):c.nc.call(null,c.buf)),r(function(){var H=b.Zb(null);return r(H)?b.Rb(null):H}())?(a=function(){var H=c.buf;return r(H)?0<M(c.buf):H}(),d=r(a)?c.buf.buf.pop():null,BQ(d)):null;64<c.Ue?(c.Ue=0,c.Td.cleanup(SP)):c.Ue+=1;r(b.ge())&&c.Td.unbounded_unshift(b)}return null};
EQ.prototype.fe=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var e=a.buf;return r(e)?0===a.gd.length:e}())&&(a.nc.B?a.nc.B(a.buf):a.nc.call(null,a.buf));;){var b=a.Td.pop();if(null!=b){if(b.Zb(null)){var c=b.Rb(null),d=r(function(){var e=a.buf;return r(e)?0<M(a.buf):e}())?a.buf.buf.pop():null;xQ(function(e,f){return function(){return e.B?e.B(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function GQ(a){console.log(a);return null}
function HQ(a,b){var c=r(null)?null:GQ;b=c.B?c.B(b):c.call(null,b);return null==b?a:VP.j(a,b)}
function IQ(a,b){return new EQ(YP(32),0,YP(32),0,a,!1,function(){var c=r(b)?b.B?b.B(VP):b.call(null,VP):VP;return function(){function d(h,k){try{return c.j?c.j(h,k):c.call(null,h,k)}catch(m){return HQ(h,m)}}function e(h){try{return c.B?c.B(h):c.call(null,h)}catch(k){return HQ(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.B=e;f.j=d;return f}()}())};function JQ(a,b,c){this.key=a;this.val=b;this.forward=c;this.J=2155872256;this.Y=0}JQ.prototype.ha=function(){return new pf(null,this.key,new pf(null,this.val,null,1,null),2,null)};JQ.prototype.ga=function(a,b,c){return Sk(b,$k,"["," ","]",c,this)};function KQ(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new JQ(a,b,c)}
function LQ(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function MQ(){this.header=KQ(null,null,0);this.level=0;this.J=2155872256;this.Y=0}g=MQ.prototype;
g.put=function(a,b){var c=Array(15),d=LQ(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=KQ(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=LQ(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.j(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.ha=function(){return function c(b){return new Jg(null,function(){return null==b?null:ff(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"{",", ","}",c,this)};var NQ=new MQ;function OQ(a){var b=(new Date).valueOf()+a,c=NQ.ceilingEntry(b);c=r(r(c)?c.key<b+10:c)?c.val:null;if(r(c))return c;var d=IQ(null,null);NQ.put(b,d);yQ(function(){NQ.remove(b);return RP(d)},a);return d};var PQ={},DP;
function RQ(a){if("undefined"===typeof ec||"undefined"===typeof gc||"undefined"===typeof KP||"undefined"===typeof OP||"undefined"===typeof PQ||"undefined"===typeof DP)DP=function(b,c){this.f=b;this.yj=c;this.J=393216;this.Y=0},DP.prototype.fa=function(b,c){return new DP(this.f,c)},DP.prototype.ea=function(){return this.yj},DP.prototype.Zb=function(){return!0},DP.prototype.ge=function(){return!0},DP.prototype.Rb=function(){return this.f},DP.rb=!0,DP.kb="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29952",DP.ub=
function(b){return Jd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29952")};return new DP(a,W)}function SQ(a){try{var b=a[0];return b.B?b.B(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].fe(null),b;throw c;}}function TQ(a,b,c){c=c.Df(null,RQ(function(d){a[2]=d;a[1]=b;return SQ(a)}));return r(c)?(a[2]=y(c),a[1]=b,Gn):null}function UQ(a,b,c){b=b.Ne(null,c,RQ(function(d){a[2]=d;a[1]=11;return SQ(a)}));return r(b)?(a[2]=y(b),a[1]=11,Gn):null}
function VQ(a,b){a=a[6];null!=b&&a.Ne(null,b,RQ(function(){return null}));a.fe(null);return a};function WQ(a,b){return XQ(a,b)}function XQ(a,b){a=D.j(a,0)?null:a;return IQ("number"===typeof a?new ZP(YP(a),a):a,b)}
var YQ=function(a){if("undefined"===typeof ec||"undefined"===typeof gc||"undefined"===typeof KP||"undefined"===typeof vP)vP=function(b,c,d){this.f=b;this.pg=c;this.zj=d;this.J=393216;this.Y=0},vP.prototype.fa=function(b,c){return new vP(this.f,this.pg,c)},vP.prototype.ea=function(){return this.zj},vP.prototype.Zb=function(){return!0},vP.prototype.ge=function(){return this.pg},vP.prototype.Rb=function(){return this.f},vP.rb=!0,vP.kb="cljs.core.async/t_cljs$core$async32548",vP.ub=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async32548")};return new vP(a,!0,W)}(function(){return null});function ZQ(a,b){a=QP(a,b,YQ);return r(a)?y(a):!0}function $Q(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;bb(b);return b}
function aR(){var a=Ch(!0);if("undefined"===typeof ec||"undefined"===typeof gc||"undefined"===typeof KP||"undefined"===typeof wP)wP=function(b,c){this.Cd=b;this.Aj=c;this.J=393216;this.Y=0},wP.prototype.fa=function(b,c){return new wP(this.Cd,c)},wP.prototype.ea=function(){return this.Aj},wP.prototype.Zb=function(){return y(this.Cd)},wP.prototype.ge=function(){return!0},wP.prototype.Rb=function(){Dh(this.Cd,null);return!0},wP.rb=!0,wP.kb="cljs.core.async/t_cljs$core$async32615",wP.ub=function(b){return Jd(b,
"cljs.core.async/t_cljs$core$async32615")};return new wP(a,W)}
function bR(a,b){if("undefined"===typeof ec||"undefined"===typeof gc||"undefined"===typeof KP||"undefined"===typeof xP)xP=function(c,d,e){this.Cd=c;this.Xd=d;this.Bj=e;this.J=393216;this.Y=0},xP.prototype.fa=function(c,d){return new xP(this.Cd,this.Xd,d)},xP.prototype.ea=function(){return this.Bj},xP.prototype.Zb=function(){return SP(this.Cd)},xP.prototype.ge=function(){return!0},xP.prototype.Rb=function(){TP(this.Cd);return this.Xd},xP.rb=!0,xP.kb="cljs.core.async/t_cljs$core$async32619",xP.ub=function(c){return Jd(c,
"cljs.core.async/t_cljs$core$async32619")};return new xP(a,b,W)}
function cR(a,b,c){var d=aR(),e=M(b),f=$Q(e),h=FA.B(c),k=function(){for(var m=0;;)if(m<e){var n=r(h)?m:f[m],p=$e(b,n),u=Ff(p)?p.B?p.B(0):p.call(null,0):null,w=r(u)?function(){var z=p.B?p.B(1):p.call(null,1);return QP(u,z,bR(d,function(F,H,G,N,O){return function(U){U=new X(null,2,5,Z,[U,O],null);return a.B?a.B(U):a.call(null,U)}}(m,z,n,p,u,d,e,f,h)))}():PP(p,bR(d,function(z,F,H){return function(G){G=new X(null,2,5,Z,[G,H],null);return a.B?a.B(G):a.call(null,G)}}(m,n,p,u,d,e,f,h)));if(r(w))return BQ(new X(null,
2,5,Z,[y(w),function(){var z=u;return r(z)?z:p}()],null));m+=1}else return null}();return r(k)?k:Nf(c,am)?(k=function(){var m=d.Zb(null);return r(m)?d.Rb(null):m}(),r(k)?BQ(new X(null,2,5,Z,[am.B(c),am],null)):null):null}
function dR(a,b){var c=XQ(1,null);xQ(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,Gn):1===k?(h[2]=null,h[1]=2,Gn):4===k?(k=h[2],h[7]=k,h[1]=r(null==k)?5:6,Gn):13===k?(h[2]=null,h[1]=14,Gn):6===k?(k=h[7],UQ(h,b,k)):3===k?VQ(h,h[2]):12===k?(h[2]=null,h[1]=2,Gn):2===k?TQ(h,4,a):11===k?(h[1]=r(h[2])?12:13,Gn):9===k?(h[2]=null,h[1]=10,Gn):5===k?(h[1]=r(!0)?8:9,Gn):14===k||10===k?(h[2]=h[2],h[1]=7,Gn):8===k?(k=RP(b),h[2]=k,h[1]=10,Gn):null}return function(){function h(n){for(;;){a:try{for(;;){var p=
f(n);if(!T(p,Gn)){var u=p;break a}}}catch(w){u=w;n[2]=u;if(E(n[4]))n[1]=J(n[4]);else throw u;u=Gn}if(!T(u,Gn))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.O=k;m.B=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return SQ(e)})}
function eR(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new I(b.slice(3),0,null):null;return fR(arguments[0],arguments[1],arguments[2],b)}function fR(a,b,c,d){d=null!=d&&(d.J&64||l===d.ua)?gh(hk,d):d;a[1]=b;b=cR(function(e){a[2]=e;return SQ(a)},c,d);return r(b)?(a[2]=y(b),Gn):null}
function gR(a,b){var c=XQ(b,null),d=XQ(1,null);xQ(function(){var e=function(){function h(k){var m=k[1];if(7===m){var n=k[7];m=k[2];n=Q(m,0,null);var p=Q(m,1,null);k[9]=p;k[7]=n;k[8]=m;k[1]=r(null==n)?8:9;return Gn}return 1===m?(m=Yf(a),k[10]=m,k[2]=null,k[1]=2,Gn):4===m?(m=k[10],eR(k,7,m)):6===m?(k[2]=k[2],k[1]=3,Gn):3===m?VQ(k,k[2]):2===m?(m=k[10],m=0<M(m),k[1]=r(m)?4:5,Gn):11===m?(m=k[10],n=k[2],k[10]=m,k[11]=n,k[2]=null,k[1]=2,Gn):9===m?(n=k[7],UQ(k,c,n)):5===m?(m=RP(c),k[2]=m,k[1]=6,Gn):10===
m?(k[2]=k[2],k[1]=6,Gn):8===m?(p=k[9],m=k[10],n=k[7],m=ci(function(){var u=p;return function(w){return lh.j(u,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,Gn):null}return function(){function k(p){for(;;){a:try{for(;;){var u=h(p);if(!T(u,Gn)){var w=u;break a}}}catch(z){w=z;p[2]=w;if(E(p[4]))p[1]=J(p[4]);else throw w;w=Gn}if(!T(w,Gn))return w}}function m(){var p=[null,null,null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.O=m;n.B=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return SQ(f)});return c};function hR(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return hR.cd[n].apply(null,arguments)})}hR.cd={};
hR.cd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Mb(" ",Number(c)-a.length):Mb(" ",Number(c)-a.length)+a};
hR.cd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Mb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Mb(b,a)+d);return d};hR.cd.d=function(a,b,c,d,e,f,h,k){return hR.cd.f(parseInt(a,10),b,c,d,0,f,h,k)};
hR.cd.i=hR.cd.d;hR.cd.u=hR.cd.d;var iR=!dQ||9<=Number(wG),jR=dQ&&!nQ("9");!gQ||nQ("528");fQ&&nQ("1.9b")||dQ&&nQ("8")||cQ&&nQ("9.5")||gQ&&nQ("528");fQ&&!nQ("8")||dQ&&nQ("9");var kR=function(){if(!la.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{la.addEventListener("test",ma,b),la.removeEventListener("test",ma,b)}catch(c){}return a}();function lR(){0!=mR&&(nR[ta(this)]=this);this.Nd=this.Nd;this.Rd=this.Rd}var mR=0,nR={};lR.prototype.Nd=!1;lR.prototype.dispose=function(){if(!this.Nd&&(this.Nd=!0,this.disposeInternal(),0!=mR)){var a=ta(this);if(0!=mR&&this.Rd&&0<this.Rd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete nR[a]}};lR.prototype.disposeInternal=function(){if(this.Rd)for(;this.Rd.length;)this.Rd.shift()()};function oR(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Hd=!1;this.$g=!0}oR.prototype.stopPropagation=function(){this.Hd=!0};oR.prototype.preventDefault=function(){this.defaultPrevented=!0;this.$g=!1};function pR(a,b){oR.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.pe=null;a&&this.init(a,b)}Ha(pR,oR);var qR={2:"touch",3:"pen",4:"mouse"};
pR.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(fQ){a:{try{Ia(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=gQ||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=gQ||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:qR[a.pointerType]||"";this.state=a.state;this.pe=a;a.defaultPrevented&&this.preventDefault()};pR.prototype.stopPropagation=function(){pR.jd.stopPropagation.call(this);this.pe.stopPropagation?this.pe.stopPropagation():this.pe.cancelBubble=!0};
pR.prototype.preventDefault=function(){pR.jd.preventDefault.call(this);var a=this.pe;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,jR)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var rR="closure_listenable_"+(1E6*Math.random()|0),sR=0;function tR(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++sR;this.removed=this.Ge=!1}function uR(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function vR(a){this.src=a;this.listeners={};this.Ae=0}g=vR.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Ae++);var h=wR(a,b,d,e);-1<h?(b=a[h],c||(b.Ge=!1)):(b=new tR(b,this.src,f,!!d,e),b.Ge=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=wR(e,b,c,d);return-1<b?(uR(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Ae--),!0):!1};
function xR(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=Va(a.listeners[c],b);d&&(uR(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Ae--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,uR(d[e]);delete this.listeners[c];this.Ae--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.Kf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=wR(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return fb(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function wR(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var yR="closure_lm_"+(1E6*Math.random()|0),zR={},AR=0;function BR(a,b,c,d,e){if(d&&d.once)return CR(a,b,c,d,e);if(oa(b)){for(var f=0;f<b.length;f++)BR(a,b[f],c,d,e);return null}c=DR(c);return a&&a[rR]?a.listen(b,c,sa(d)?!!d.capture:!!d,e):ER(a,b,c,!1,d,e)}
function ER(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=sa(e)?!!e.capture:!!e,k=FR(a);k||(a[yR]=k=new vR(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=GR();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)kR||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(HR(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");AR++;return c}
function GR(){var a=IR,b=iR?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function CR(a,b,c,d,e){if(oa(b)){for(var f=0;f<b.length;f++)CR(a,b[f],c,d,e);return null}c=DR(c);return a&&a[rR]?a.listenOnce(b,c,sa(d)?!!d.capture:!!d,e):ER(a,b,c,!0,d,e)}
function JR(a,b,c,d,e){if(oa(b))for(var f=0;f<b.length;f++)JR(a,b[f],c,d,e);else d=sa(d)?!!d.capture:!!d,c=DR(c),a&&a[rR]?a.Pc.remove(String(b),c,d,e):a&&(a=FR(a))&&(b=a.Kf(b,c,d,e))&&KR(b)}
function KR(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[rR])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(HR(c),d):b.addListener&&b.removeListener&&b.removeListener(d);AR--;(c=FR(b))?(xR(c,a),0==c.Ae&&(c.src=null,b[yR]=null)):uR(a)}}}function HR(a){return a in zR?zR[a]:zR[a]="on"+a}
function LR(a,b,c,d){var e=!0;if(a=FR(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=MR(f,d),e=e&&!1!==f)}return e}function MR(a,b){var c=a.listener,d=a.handler||a.src;a.Ge&&KR(a);return c.call(d,b)}
function IR(a,b){if(a.removed)return!0;if(!iR){if(!b)a:{b=["window","event"];for(var c=la,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new pR(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Hd&&0<=e;e--){b.currentTarget=d[e];var f=LR(d[e],a,!0,b);c=c&&f}for(e=0;!b.Hd&&e<d.length;e++)b.currentTarget=
d[e],f=LR(d[e],a,!1,b),c=c&&f}return c}return MR(a,new pR(b,this))}function FR(a){a=a[yR];return a instanceof vR?a:null}var NR="__closure_events_fn_"+(1E9*Math.random()>>>0);function DR(a){if(ra(a))return a;a[NR]||(a[NR]=function(b){return a.handleEvent(b)});return a[NR]};function OR(){lR.call(this);this.Pc=new vR(this);this.kh=this;this.$f=null}Ha(OR,lR);OR.prototype[rR]=!0;g=OR.prototype;g.addEventListener=function(a,b,c,d){BR(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){JR(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.$f;if(c)for(b=[];c;c=c.$f)b.push(c);c=this.kh;var d=a.type||a;if("string"===typeof a)a=new oR(a,c);else if(a instanceof oR)a.target=a.target||c;else{var e=a;a=new oR(d,c);lb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Hd&&0<=f;f--){var h=a.currentTarget=b[f];e=PR(h,d,!0,a)&&e}a.Hd||(h=a.currentTarget=c,e=PR(h,d,!0,a)&&e,a.Hd||(e=PR(h,d,!1,a)&&e));if(b)for(f=0;!a.Hd&&f<b.length;f++)h=a.currentTarget=b[f],e=PR(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){OR.jd.disposeInternal.call(this);this.removeAllListeners();this.$f=null};g.listen=function(a,b,c,d){return this.Pc.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.Pc.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return xR(this.Pc,a)};g.removeAllListeners=function(a){return this.Pc?this.Pc.removeAll(a):0};
function PR(a,b,c,d){b=a.Pc.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.Ge&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.$g}g.getListeners=function(a,b){return this.Pc.getListeners(String(a),b)};g.Kf=function(a,b,c,d){return this.Pc.Kf(String(a),b,c,d)};g.hasListener=function(a,b){return this.Pc.hasListener(void 0!==a?String(a):void 0,b)};function QR(a,b,c){if(ra(a))c&&(a=Ea(a,c));else if(a&&"function"==typeof a.handleEvent)a=Ea(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:la.setTimeout(a,b||0)};function RR(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function SR(){}SR.prototype.qg=null;SR.prototype.getOptions=function(){var a;(a=this.qg)||(a={},TR(this)&&(a[0]=!0,a[1]=!0),a=this.qg=a);return a};var UR;function VR(){}Ha(VR,SR);function WR(a){return(a=TR(a))?new ActiveXObject(a):new XMLHttpRequest}function TR(a){if(!a.Lg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Lg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Lg}UR=new VR;function YR(a){OR.call(this);this.headers=new Tb;this.hf=a||null;this.md=!1;this.gf=this.Fa=null;this.Pf="";this.Qd=0;this.Ed=this.Mf=this.We=this.Jf=!1;this.ef=0;this.timeoutId_=null;this.Zg=ZR;this.gg=this.Ug=this.Be=!1}Ha(YR,OR);var ZR="",$R=/^https?$/i,aS=["POST","PUT"];g=YR.prototype;g.setWithCredentials=function(a){this.Be=a};
g.send=function(a,b,c,d){if(this.Fa)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Pf+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Pf=a;this.Qd=0;this.Jf=!1;this.md=!0;this.Fa=this.hf?WR(this.hf):WR(UR);this.gf=this.hf?this.hf.getOptions():UR.getOptions();this.Fa.onreadystatechange=Ea(this.Rg,this);this.Ug&&"onprogress"in this.Fa&&(this.Fa.onprogress=Ea(function(f){this.Qg(f,!0)},this),this.Fa.upload&&(this.Fa.upload.onprogress=Ea(this.Qg,this)));try{this.Mf=!0,
this.Fa.open(b,String(a),!0),this.Mf=!1}catch(f){this.error_(5,f);return}a=c||"";var e=this.headers.clone();d&&Rb(d,function(f,h){e.set(h,f)});d=Ra(e.getKeys());c=la.FormData&&a instanceof la.FormData;!(0<=Ma(aS,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Fa.setRequestHeader(h,f)},this);this.Zg&&(this.Fa.responseType=this.Zg);"withCredentials"in this.Fa&&this.Fa.withCredentials!==this.Be&&(this.Fa.withCredentials=this.Be);try{bS(this),
0<this.ef&&((this.gg=cS(this.Fa))?(this.Fa.timeout=this.ef,this.Fa.ontimeout=Ea(this.timeout_,this)):this.timeoutId_=QR(this.timeout_,this.ef,this)),this.We=!0,this.Fa.send(a),this.We=!1}catch(f){this.error_(5,f)}};function cS(a){return dQ&&nQ(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Sa(a){return"content-type"==a.toLowerCase()}g.timeout_=function(){"undefined"!=typeof ja&&this.Fa&&(this.Qd=8,this.dispatchEvent("timeout"),this.abort(8))};
g.error_=function(a){this.md=!1;this.Fa&&(this.Ed=!0,this.Fa.abort(),this.Ed=!1);this.Qd=a;dS(this);eS(this)};function dS(a){a.Jf||(a.Jf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Fa&&this.md&&(this.md=!1,this.Ed=!0,this.Fa.abort(),this.Ed=!1,this.Qd=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),eS(this))};g.disposeInternal=function(){this.Fa&&(this.md&&(this.md=!1,this.Ed=!0,this.Fa.abort(),this.Ed=!1),eS(this,!0));YR.jd.disposeInternal.call(this)};
g.Rg=function(){this.Nd||(this.Mf||this.We||this.Ed?fS(this):this.mi())};g.mi=function(){fS(this)};function fS(a){if(a.md&&"undefined"!=typeof ja&&(!a.gf[1]||4!=gS(a)||2!=hS(a)))if(a.We&&4==gS(a))QR(a.Rg,0,a);else if(a.dispatchEvent("readystatechange"),4==gS(a)){a.md=!1;try{iS(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Qd=6,dS(a))}finally{eS(a)}}}g.Qg=function(a,b){this.dispatchEvent(jS(a,"progress"));this.dispatchEvent(jS(a,b?"downloadprogress":"uploadprogress"))};
function jS(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function eS(a,b){if(a.Fa){bS(a);var c=a.Fa,d=a.gf[0]?ma:null;a.Fa=null;a.gf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function bS(a){a.Fa&&a.gg&&(a.Fa.ontimeout=null);a.timeoutId_&&(la.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function iS(a){var b=hS(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Pf).match(Xb)[1]||null,!a&&la.self&&la.self.location&&(a=la.self.location.protocol,a=a.substr(0,a.length-1)),b=!$R.test(a?a.toLowerCase():"");c=b}return c}function gS(a){return a.Fa?a.Fa.readyState:0}function hS(a){try{return 2<gS(a)?a.Fa.status:-1}catch(b){return-1}}
function kS(a){try{return a.Fa?a.Fa.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Fa&&4==gS(this))return a=this.Fa.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Fa&&4==gS(this)?this.Fa.getAllResponseHeaders()||"":""};function lS(){this.uc=[];this.Lc=[]}function mS(a){0==a.uc.length&&(a.uc=a.Lc,a.uc.reverse(),a.Lc=[])}g=lS.prototype;g.enqueue=function(a){this.Lc.push(a)};g.dequeue=function(){mS(this);return this.uc.pop()};g.peek=function(){mS(this);var a=this.uc;return a[a.length-1]};g.getCount=function(){return this.uc.length+this.Lc.length};g.isEmpty=function(){return 0==this.uc.length&&0==this.Lc.length};g.clear=function(){this.uc=[];this.Lc=[]};
g.contains=function(a){return 0<=Ma(this.uc,a)||0<=Ma(this.Lc,a)};g.remove=function(a){var b=this.uc;var c=Na(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Va(this.Lc,a)};g.getValues=function(){for(var a=[],b=this.uc.length-1;0<=b;--b)a.push(this.uc[b]);var c=this.Lc.length;for(b=0;b<c;++b)a.push(this.Lc[b]);return a};function nS(a){this.map_=new Tb;a&&this.addAll(a)}function oS(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ta(a):b.substr(0,1)+a}g=nS.prototype;g.getCount=function(){return this.map_.getCount()};g.add=function(a){this.map_.set(oS(a),a)};g.addAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.map_.remove(oS(a))};g.clear=function(){this.map_.clear()};
g.isEmpty=function(){return this.map_.isEmpty()};g.contains=function(a){return this.map_.containsKey(oS(a))};g.intersection=function(a){var b=new nS;a=Pb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.getValues=function(){return this.map_.getValues()};g.clone=function(){return new nS(this)};g.equals=function(a){return this.getCount()==Ob(a)&&pS(this,a)};
function pS(a,b){var c=Ob(b);if(a.getCount()>c)return!1;!(b instanceof nS)&&5<c&&(b=new nS(b));return Sb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.ke&&"function"==typeof e.ke)d=e.ke(d);else if(qa(e)||"string"===typeof e)d=0<=Ma(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function qS(a,b){lR.call(this);this.Og=a||0;this.Ze=b||10;if(this.Og>this.Ze)throw Error(rS);this.Qc=new lS;this.vd=new nS;this.delay=0;this.Of=null;this.Ce()}Ha(qS,lR);var rS="[goog.structs.Pool] Min can not be greater than max";g=qS.prototype;g.Ve=function(){var a=Fa();if(!(null!=this.Of&&a-this.Of<this.delay)){for(var b;0<this.Qc.getCount()&&(b=this.Qc.dequeue(),!this.Zf(b));)this.Ce();!b&&this.getCount()<this.Ze&&(b=this.If());b&&(this.Of=a,this.vd.add(b));return b}};
function sS(a,b){return a.vd.remove(b)?(a.kf(b),!0):!1}g.kf=function(a){this.vd.remove(a);this.Zf(a)&&this.getCount()<this.Ze?this.Qc.enqueue(a):tS(a)};g.Ce=function(){for(var a=this.Qc;this.getCount()<this.Og;)a.enqueue(this.If());for(;this.getCount()>this.Ze&&0<this.Qc.getCount();)tS(a.dequeue())};g.If=function(){return{}};function tS(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.Zf=function(a){return"function"==typeof a.mh?a.mh():!0};
g.contains=function(a){return this.Qc.contains(a)||this.vd.contains(a)};g.getCount=function(){return this.Qc.getCount()+this.vd.getCount()};g.isEmpty=function(){return this.Qc.isEmpty()&&this.vd.isEmpty()};g.disposeInternal=function(){qS.jd.disposeInternal.call(this);if(0<this.vd.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.vd;for(var a=this.Qc;!a.isEmpty();)tS(a.dequeue());delete this.Qc};function uS(a,b){this.key_=a;this.value_=b}uS.prototype.getKey=function(){return this.key_};uS.prototype.getValue=function(){return this.value_};uS.prototype.clone=function(){return new uS(this.key_,this.value_)};function vS(a){this.jc=[];if(a)a:{if(a instanceof vS){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.jc,d=0;d<b.length;d++)c.push(new uS(b[d],a[d]));break a}}else b=hb(a),a=gb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=vS.prototype;g.insert=function(a,b){var c=this.jc;c.push(new uS(a,b));a=c.length-1;b=this.jc;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.jc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ua(a);else{a[0]=a.pop();a=0;b=this.jc;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.jc;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.jc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.jc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.ke=function(a){return Pa(this.jc,function(b){return b.getValue()==a})};g.containsKey=function(a){return Pa(this.jc,function(b){return b.getKey()==a})};g.clone=function(){return new vS(this)};g.getCount=function(){return this.jc.length};
g.isEmpty=function(){return 0==this.jc.length};g.clear=function(){Ua(this.jc)};function wS(){vS.call(this)}Ha(wS,vS);wS.prototype.enqueue=function(a,b){this.insert(a,b)};wS.prototype.dequeue=function(){return this.remove()};function xS(a,b){this.Gg=void 0;this.cg=new wS;qS.call(this,a,b)}Ha(xS,qS);g=xS.prototype;g.Ve=function(){var a=xS.jd.Ve.call(this);a&&this.delay&&(this.Gg=la.setTimeout(Ea(this.Lf,this),this.delay));return a};g.Lf=function(){for(var a=this.cg;0<a.getCount();){var b=this.Ve();if(b)a.dequeue().apply(this,[b]);else break}};g.kf=function(a){xS.jd.kf.call(this,a);this.Lf()};g.Ce=function(){xS.jd.Ce.call(this);this.Lf()};
g.disposeInternal=function(){xS.jd.disposeInternal.call(this);la.clearTimeout(this.Gg);this.cg.clear();this.cg=null};function yS(a,b,c,d){this.Kh=a;this.Be=!!d;xS.call(this,b,c)}Ha(yS,xS);yS.prototype.If=function(){var a=new YR,b=this.Kh;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.Be&&a.setWithCredentials(!0);return a};yS.prototype.Zf=function(a){return!a.Nd&&!a.Fa};function zS(a){a=y(a);throw fm(y(JA.B(a)),S.j(a,JA));}var AS={};
function BS(a,b,c,d){if(r(zS)){var e=new tl(function(){var f=new Date,h=r(a)?a:"?",k=t.B(b),m=null==c?"\x3ctruss/nil\x3e":gl.F(P([c])),n=AS===d?null:d,p=new tl(function(){var w=r(n)?t.B(n):null;var z=["Invariant violation in `",t.B(ia),":",t.B(h),"`. Test form `",t.B(k),"` failed against input val `",t.B(m),"`."].join("");return yc(n)?z:[z," An error was thrown while evaluating test form: [",w,"]."].join("")}),u=function(){if(r(null))try{return null.O?null.O():null.call(null)}catch(w){if(w instanceof
Error)return new q(null,1,[mm,w],null);throw w;}else return null}();return Oj([Nn,JA,ys,aB,ol,cu,cv,eq,EB,yu,Lv,Qm],[null,p,null,f,c,ia,Bc(c),n,!0,u,a,k])});return zS.B?zS.B(e):zS.call(null,e)}return null};var CS=new X(null,3,5,Z,[3,10,1],null);function DS(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.C(null,Cm,jp),c=B.C(null,am,jp);r(T.j?T.j(b,jp):T.call(null,b,jp))&&(b=y(sI),b=ES.j?ES.j(we,b):ES.call(null,we,b));c=r(T.j?T.j(c,jp):T.call(null,c,jp))?y(rI):c;c=R.F(null,Cm,b,P([am,c]));return lI(c,a)}throw fm("`read-edn` attempt against non-nil, non-string arg",new q(null,2,[Uv,a,nq,Bc(a)],null));}var EP=new tl(function(){return EQ});
function FP(a){var b=y(EP);return a instanceof b}function FS(a){if(null!=a&&(a.Y&4096||l===a.tf)){var b=Ig(a);a=Fg(a);return r(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function GS(a){return"string"===typeof a?D.j(a,"")?null:a:null}function HS(a){return"number"===typeof a?sg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}
function IS(a){var b=FS(a);if(!r(b))throw fm(["`as-",Ig(qp),"` failed against: `",gl.F(P([a])),"`"].join(""),new q(null,2,[Uv,a,nq,Bc(a)],null));return b}function JS(a,b,c){return gg(zk(),cg(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return a.C?a.C(d,f,e):a.call(null,d,f,e)},bg),b,c)}function KS(a,b){return v.C(function(c,d){c=a.B?a.B(d):a.call(null,d);return r(c)?Oe(c):null},null,b)}
var MS=function MS(a){switch(arguments.length){case 1:return MS.B(arguments[0]);case 2:return MS.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};MS.B=function(a){return MS.j(a,null)};MS.j=function(a,b){var c=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b,d=B.j(c,bB);b=B.j(c,Qy);c=B.C(c,Zm,1E3);a=Math.pow(2,36<a?36:a);a=sg(.5*(a+Kl.B(a))*c);d=sg(r(d)?a<d?d:a:a);return sg(r(b)?d>b?b:d:d)};MS.T=2;D.j("default","nodejs");
var NS="undefined"!==typeof window?window:null;function OS(a){a=EC(t.B(a),/-/,2);var b=Q(a,0,null);a=Q(a,1,null);b=Qk(/\d+/,b);b=r(b)?bi.j(HS,b):null;return new q(null,2,[sn,b,ly,r(a)?a.toLowerCase():null],null)}
function PS(a){var b=Q(CS,0,null),c=Q(CS,1,null),d=Q(CS,2,null),e=Ff(a)?a:sn.B(OS(a));a=Q(e,0,null);var f=Q(e,1,null);e=Q(e,2,null);e=bi.j(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=Q(e,0,null);f=Q(e,1,null);e=Q(e,2,null);if(!(b>a||D.j(b,a)&&(c>f||D.j(c,f)&&d>=e)))throw fm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[Su,AC(".",new X(null,3,5,Z,[a,f,e],null)),xr,AC(".",new X(null,3,5,Z,[b,
c,d],null))],null));}function QS(a,b){return ib(a,Ig(b),null)}function RS(a,b){return null==b?null==a?W:a:R.C(a,"x-requested-with",b)}var SS=function SS(a){switch(arguments.length){case 3:return SS.C(arguments[0],arguments[1],arguments[2]);case 2:return SS.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(3),0,null);return SS.F(arguments[0],arguments[1],arguments[2],c)}};
SS.C=function(a,b,c){return Nf(a,b)?a:R.C(a,b,c)};SS.F=function(a,b,c,d){return JS(SS,SS.C(a,b,c),d)};SS.ba=function(a){var b=J(a),c=K(a);a=J(c);var d=K(c);c=J(d);d=K(d);return this.F(b,a,c,d)};SS.j=function(a,b){return ag(function(c,d,e){return Nf(c,d)?c:R.C(c,d,e)},null==a?W:a,b)};SS.T=3;
var TS=function TS(a){switch(arguments.length){case 2:return TS.j(arguments[0],arguments[1]);case 3:return TS.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};TS.j=function(a,b){b=0>b?0:b;var c=M(a);return b>=c?of:Mi(a,b,c)};TS.C=function(a,b,c){b=0>b?0:b;var d=sg(M(a));c=c>d?d:c;return b>=c?of:Mi(a,b,c)};TS.T=3;
var US=function US(a){switch(arguments.length){case 2:return US.j(arguments[0],arguments[1]);case 3:return US.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};US.j=function(a,b){var c=M(a);return 0>b?(b+=c,Mi(a,0>b?0:b,c)):b>=c?of:Mi(a,b,c)};US.C=function(a,b,c){if(0>=c)return of;var d=sg(M(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Mi(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?of:Mi(a,b,d)};US.T=3;
function GP(a){return 1<M(a)?Mi(a,1,M(a)):of}function VS(a,b){for(var c=of;;){var d=E(b);b=J(d);if(d=K(d))c=nf.j(c,b),b=d;else return a.j?a.j(c,b):a.call(null,c,b)}}xh.j(v,V);function ES(a,b){b=ag(function(c,d,e){return Zg.C(c,a.B?a.B(d):a.call(null,d),e)},Vg.B?Vg.B(W):Vg.call(null,W),b);return Xg.B?Xg.B(b):Xg.call(null,b)}function WS(a,b){b=tk(cj(b));a=Af(a)?a:tk(a);return zI(b,a)}
function XS(a,b,c,d){var e=E(b);if(e){b=$e(b,0);if(e=K(e))return R.C(a,b,XS(B.j(a,b),e,c,d));if(r(T.j?T.j(d,wB):T.call(null,d,wB)))return S.j(a,b);c=B.C(a,b,c);d=d.B?d.B(c):d.call(null,c);return r(T.j?T.j(d,wB):T.call(null,d,wB))?S.j(a,b):R.C(a,b,d)}return d.B?d.B(a):d.call(null,a)}function YS(a,b,c){return XS(a,b,null,function(d){return S.j(d,c)})}var HP={};
function $S(a,b){return v.C(function(c,d){return null==d?c:ag(function m(f,h,k){var n=B.C(f,h,HP);if(n===HP)return R.C(f,h,k);if(r(T.j?T.j(k,wB):T.call(null,k,wB)))return S.j(f,h);if(r(r(!1)?Cf(k)&&Cf(n):!1))return R.C(f,h,ag(m,n,k));k=a.j?a.j(n,k):a.call(null,n,k);return r(T.j?T.j(k,wB):T.call(null,k,wB))?S.j(f,h):R.C(f,h,k)},r(c)?c:W,d)},null,b)}function aT(a){return $S(function(b,c){return c},a)}function bT(a,b){this.Yf=a;this.dg=b}
function cT(a,b,c){for(;;){var d=y(b);c=c.B?c.B(d):c.call(null,d);var e=c instanceof bT,f=e?c.Yf:c;Dh(b,f);return e?c.dg:a.j?a.j(d,f):a.call(null,d,f)}}
function dT(a,b,c,d){if(r(T.j?T.j(d,wB):T.call(null,d,wB)))for(;;){var e=y(b);d=S.j(e,c);Dh(b,d);b=B.C(e,c,null);c=wB;return a.j?a.j(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.C(e,c,null),h=d.B?d.B(f):d.call(null,f),k=h instanceof bT,m=k?h.Yf:h;d=r(T.j?T.j(m,wB):T.call(null,m,wB))?S.j(e,c):R.C(e,c,m);Dh(b,d);return k?h.dg:a.j?a.j(f,m):a.call(null,f,m)}}
function eT(a,b,c){var d=LP,e=E(b);if(e)if(K(e))if(r(T.j?T.j(c,wB):T.call(null,c,wB)))for(;;){var f=y(a);e=VS(function(n){return function(p,u){return YS(n,p,u)}}(f,e,e),b);Dh(a,e);a=fi(f,b,null);b=wB;return d.j?d.j(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=fi(f,b,null);c=c.B?c.B(h):c.call(null,h);var k=c instanceof bT,m=k?c.Yf:c;e=r(T.j?T.j(m,wB):T.call(null,m,wB))?VS(function(n){return function(p,u){return YS(n,p,u)}}(f,h,c,k,m,e,e),b):gi(f,b,m);Dh(a,e);return k?c.dg:d.j?d.j(h,m):d.call(null,
h,m)}else return dT(d,a,$e(b,0),c);else return cT(d,a,c)}function LP(a,b){return b}function gT(a,b){return cT(LP,a,b)}function hT(a,b,c){return eT(a,b,c)}function MP(a){return a}
function jT(a,b,c){a:{var d=E(b);if(d)if(K(d))for(;;){d=y(a);var e=gi(d,b,c);Dh(a,e);a=fi(d,b,null);MP.j?MP.j(a,c):MP.call(null,a,c);break a}else b:for(b=$e(b,0);;){d=y(a);e=R.C(d,b,c);Dh(a,e);a=B.C(d,b,null);MP.j?MP.j(a,c):MP.call(null,a,c);break b}else b:for(;;){b=y(a);Dh(a,c);MP.j?MP.j(b,c):MP.call(null,b,c);break b}}}function kT(){return(new Date).getTime()}
(function(){var a=QS(NS,"performance");if(r(a)){var b=function(){var c=QS(a,"now");if(r(c))return c;c=QS(a,"mozNow");if(r(c))return c;c=QS(a,"msNow");if(r(c))return c;c=QS(a,"oNow");return r(c)?c:QS(a,"webkitNow")}();return r(b)?function(){return 1E6*sg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();function mT(a,b){this.n=a;this.Xf=b}function nT(a,b){this.n=a;this.fg=b}function oT(a,b,c){this.m=a;this.gh=b;this.ig=c}
function pT(a){if(Cf(a))return ag(function(c,d,e){var f=Q(e,0,null);e=Q(e,1,null);return R.C(c,d,new mT(f,e))},W,a);if(Ff(a)){var b=new Gh(-1);return v.C(function(c,d){var e=Q(d,0,null),f=Q(d,1,null);d=Q(d,2,null);return R.C(c,r(d)?d:b.Dc(null,b.fb(null)+1),new mT(e,f))},W,a)}throw fm("No matching `encore/cond!` clause",W);}
function qT(a){function b(f,h){var k=(new Date).getTime();yc(h)&&6.25E-5>=Math.random()&&(Dh(c,null),Eh.j(d,function(u){return Td(ag(function(w,z,F){F=ag(function(H,G,N){var O=B.j(e,G);return r(O)?k>=N.fg+O.Xf?S.j(H,G):H:S.j(H,G)},F,F);return yf(F)?Wd(w,z):Zg.C(w,z,F)},Rd(r(u)?u:W),u))}));for(;;){var m=y(d),n=B.j(m,f),p=null==n?null:ag(function(u,w,z,F,H,G){return function(N,O,U){var ea=B.j(G,O);if(r(ea)){if(U.n<ea.n)return N;U=U.fg+ea.Xf-z;return 0>=U?N:null==N?new oT(sf([O,U]),O,U):U>N.ig?new oT(R.C(N.m,
O,U),O,U):new oT(R.C(N.m,O,U),N.gh,N.ig)}return N}}(m,n,k,c,d,e),null,n);if(r(r(h)?h:p))return h=p,r(h)?(f=h,new X(null,3,5,Z,[f.gh,f.ig,f.m],null)):null;h=y(c);r(h)||(n=ag(function(u,w,z,F,H){return function(G,N,O){return R.C(G,N,function(){var U=B.j(z,N);if(r(U)){var ea=U.fg;return H>=ea+O.Xf?new nT(1,H):new nT(U.n+1,ea)}return new nT(1,H)}())}}(h,m,n,p,k,c,d,e),n,e),Dh(d,R.C(m,f,n)));return null}}if(yf(a))return new X(null,2,5,Z,[null,vh(null)],null);var c=Ch(null),d=Ch(null),e=pT(a);return new X(null,
2,5,Z,[d,function(){function f(n,p){if(r(T.j?T.j(n,Pw):T.call(null,n,Pw)))return r(T.j?T.j(p,Gt):T.call(null,p,Gt))?Dh(d,null):Eh.C(d,S,p),null;if(r(T.j?T.j(n,Nx):T.call(null,n,Nx)))return b(p,!0);throw fm("Unrecognized rate limiter command",new q(null,2,[Uv,n,ds,p],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,p){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,p)}throw Error("Invalid arity: "+
arguments.length);};m.O=k;m.B=h;m.j=f;return m}()],null)}
var rT=function(){function a(d){return new dc(d)}function b(){return new dc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.O=b;c.B=a;return c}(),sT=function(){function a(e,f){e=e instanceof dc?e:rT.B(t.B(e));f=t.B(f);return e.append(f)}function b(e){return e instanceof dc?e:rT.B(t.B(e))}function c(){return rT.O()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.O=c;d.B=b;d.j=a;return d}();function tT(a,b){if(r(r(" ")?lh.j(" ",""):" ")){var c=Wh(),d=cg(sT,t);return r(a)?fg(wh.j(a,c),d,b):fg(c,d,b)}return r(a)?fg(a,cg(sT,t),b):t.B(v.j(sT,b))}
var uT=function uT(a){switch(arguments.length){case 2:return uT.j(arguments[0],arguments[1]);case 3:return uT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};uT.j=function(a,b){return a.substring(b)};uT.C=function(a,b,c){return b>=c?"":a.substring(b,c)};uT.T=3;
var vT=function vT(a){switch(arguments.length){case 2:return vT.j(arguments[0],arguments[1]);case 3:return vT.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};vT.j=function(a,b){return GS(a.substr(b))};vT.C=function(a,b,c){return GS(a.substr(b,c))};vT.T=3;function wT(a){return void 0===a||null==a?"nil":a}
function xT(a){if(FC("/"))return t.B(v.C(sT,"",a));var b=new Gh(!1),c=new Gh(!0);return t.B(v.C(function(d,e){e=t.B(e);var f=D.j(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?lh.j(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);ge(b,k);r(n)&&ge(c,f);if(r(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||r(r(n)?n:f)||d.append("/");return d.append(e)},rT.O(),a))}
function yT(){function a(){return Ll(16).toString(16)}var b=(8|3&Ll(16)).toString(16);return[t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),"-4",t.B(a()),t.B(a()),t.B(a()),"-",t.B(b),t.B(a()),t.B(a()),t.B(a()),"-",t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a()),t.B(a())].join("")}bi.j(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var zT=function zT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new I(c.slice(0),0,null):null;return zT.F(c)};zT.F=function(a){var b=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;a=B.j(b,zm);var c=B.j(b,sB),d=B.j(b,fC),e=B.j(b,Xt),f=B.j(b,us),h=B.j(b,tv),k=B.j(b,yn),m=B.j(b,Uu);b=B.j(b,jv);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};
zT.T=0;zT.ba=function(a){return this.F(E(a))};wh.j(function(a){return ug(sg(a),1E3)},zT);var AT=new tl(function(){return new yS});function BT(){var a=y(AT).Ve();return void 0===a?null:a}
var CT="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},DT="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},ET=function(){function a(c,d){if(r(CT(d)))return new X(null,2,5,Z,[c,d],null);if(r("undefined"!==typeof FormData?KS(DT,dj(d)):!1)){var e=new FormData;d=E(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.xa(null,k),n=Q(m,0,null);m=Q(m,1,null);e.append(Ig(n),m);k+=1}else if(d=E(d))Gf(d)?(h=$d(d),d=ae(d),f=h,h=M(h)):
(h=J(d),f=Q(h,0,null),h=Q(h,1,null),e.append(Ig(f),h),d=K(d),f=null,h=0),k=0;else break;return new X(null,2,5,Z,[c,e],null)}return new X(null,2,5,Z,[c,b(d)],null)}var b=function(){function c(f,h){h=e.B(h);f=FC(h)?f:[t.B(f),"?",t.B(h)].join("");return new X(null,2,5,Z,[f,null],null)}function d(f){if(E(f)){var h=Dl(f);f=Qb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new $b(null,void 0);h=Pb(h);for(var m=0;m<f.length;m++){var n=f[m],p=h[m];if(oa(p)){var u=k;u.remove(n);0<p.length&&
(u.tc=null,u.jb.set(cc(u,n),Xa(p)),u.count_+=p.length)}else k.add(n,p)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.B=d;e.j=c;return e}();return function(c,d,e){d=d instanceof C?d.na:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.B(d)].join(""));}}}();
function FT(a,b,c){var d=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b,e=B.C(d,bv,Zu);b=B.j(d,mu);var f=B.j(d,Vm),h=B.C(d,Yn,1E4),k=B.C(d,qB,pr),m=B.j(d,zB),n=BT();if(r(n))try{var p=function(){var N=Mu.B(d);return r(N)?N:h}(),u=function(){var N=e instanceof C?e.na:null;switch(N){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.B(N)].join(""));}}(),w=ET(a,e,b),z=Q(w,0,null),F=Q(w,1,null),H=function(){var N=ES(function(O){return Ig(O).toLowerCase()},
f);N=RS(N,B.C(N,"x-requested-with","XMLHTTPRequest"));return Dl(N)}(),G=function(){var N=Qt.B(d);return r(N)?(n.Ug=!0,BR(n,"progress",function(O){var U=O.lengthComputable,ea=O.loaded,va=O.total,xa=r(r(U)?lh.j(va,0):U)?ea/va:null;O=new q(null,5,[lB,xa,yt,U,Fu,ea,nt,va,MA,O],null);return N.B?N.B(O):N.call(null,O)})):null}();CR(n,"ready",function(){return sS(y(AT),n)});CR(n,"complete",function(N){var O=iS(n),U=hS(n),ea=lh.j(U,-1)?function(){var ya=n.getResponseHeader("content-type"),Ta=function(){if(lh.j(k,
pr))var ka=k;else null==ya?ka=au:(ka=t.B(ya).toLowerCase(),ka=lh.j(-1,ka.indexOf("/edn"))?Iv:lh.j(-1,ka.indexOf("/json"))?Ds:lh.j(-1,ka.indexOf("/xml"))?dw:au);try{var pa=ka instanceof C?ka.na:null;switch(pa){case "edn":return DS(kS(n));case "json":if(n.Fa){b:{var Ca=n.Fa.responseText;if(la.JSON)try{var ua=la.JSON.parse(Ca);break b}catch(bc){}ua=RR(Ca)}var Ba=ua}else Ba=void 0;return Ba;case "xml":try{var Ya=n.Fa?n.Fa.responseXML:null}catch(bc){Ya=null}return Ya;case "text":return kS(n);default:throw Error(["No matching clause: ",
t.B(pa)].join(""));}}catch(bc){return new q(null,2,[Io,ka,sA,kS(n)],null)}}();return new X(null,3,5,Z,[U,ya,Ta],null)}():null,va=Q(ea,0,null),xa=Q(ea,1,null);ea=Q(ea,2,null);r(G)&&KR(G);N=new q(null,7,[hA,N,rv,n,sz,O,pn,va,RA,xa,rt,ea,iq,r(O)?null:r(va)?va:B.C(sf([0,null,5,zo,6,ty,7,hn,8,Mu]),n.Qd,by)],null);return c.B?c.B(N):c.call(null,N)});n.ef=Math.max(0,r(p)?p:0);r(m)&&n.setWithCredentials(!0);n.send(z,u,F,H);return n}catch(N){return a=N,sS(y(AT),n),a=new q(null,1,[iq,a],null),c.B?c.B(a):c.call(null,
a),null}else return a=new q(null,1,[iq,Ep],null),c.B?c.B(a):c.call(null,a),null}function GT(a){return r(a)?yC(encodeURIComponent(t.B(a),a),"*","%2A"):null}function HT(a,b){Q(b,0,null);return r(a)?decodeURIComponent(t.B(a)):null}
function IT(a){function b(c,d){return[GT(IS(c)),"\x3d",GT(function(){var e=FS(d);return r(e)?e:t.B(d)}())].join("")}return yf(a)?"":AC("\x26",function(){return function e(d){return new Jg(null,function(){for(var f=d;;)if(f=E(f)){if(Gf(f)){var h=$d(f),k=M(h),m=Ng(k);return function(){for(var w=0;;)if(w<k){var z=x(h,w),F=Q(z,0,null),H=Q(z,1,null);null!=H&&Qg(m,Bf(H)?AC("\x26",bi.j(xh.j(b,F),function(){var G=E(H);return G?G:new X(null,1,5,Z,[""],null)}())):b(F,H));w+=1}else return!0}()?Pg(Rg(m),e(ae(f))):
Pg(Rg(m),null)}var n=J(f),p=Q(n,0,null),u=Q(n,1,null);if(null!=u)return ff(Bf(u)?AC("\x26",bi.j(xh.j(b,p),function(){var w=E(u);return w?w:new X(null,1,5,Z,[""],null)}())):b(p,u),e(De(f)));f=De(f)}else return null},null,null)}(a)}())}function JT(a,b,c){return R.C(a,b,function(){var d=B.j(a,b);return r(d)?Ff(d)?nf.j(d,c):new X(null,2,5,Z,[d,c],null):c}())}
function KT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new I(b.slice(1),0,null):null;return LT(arguments[0],b)}function LT(a,b){var c=Q(b,0,null),d=Q(b,1,null);if(FC(a)||!lh.j(-1,a.indexOf("\x3d")))return W;a=0===a.indexOf("?")?yg.j(a,1):a;a=v.C(function(e,f){var h=EC(f,/=/,2);return r(h)?(f=Q(h,0,null),h=Q(h,1,null),JT(e,HT(f,P([d])),HT(h,P([d])))):e},W,DC(a,/&/));return r(c)?ES(Hg,a):a}
function MT(a,b){var c=EC(t.B(a),/\?/,2);a=Q(c,0,null);c=Q(c,1,null);b=aT(P([r(c)?ES(Hg,KT(c)):null,ES(Hg,b)]));b=IT(b);b="string"===typeof b?FC(b)?null:b:null;return r(b)?[t.B(a),"?",b].join(""):a}function NP(){return!0}function hQ(){return!1}function kQ(a){return lh.j(-1,a.indexOf("*"))?Rk(yC(yC(["^",t.B(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function lQ(a,b){for(;;){if(r(function(){var n=new qk(null,new q(null,2,["*",null,os,null],null),null);return n.B?n.B(a):n.call(null,a)}()))return NP;if(r(function(){var n=Pf([of,sk,oq]);return n.B?n.B(a):n.call(null,a)}()))return hQ;if(a instanceof RegExp)return function(n){return function(p){return Nk(n,p)}}(a,b,NP,hQ,kQ);if("string"===typeof a){var c=kQ(a);if(r(c)){var d=b;a=c;b=d}else return function(n){return function(p){return D.j(p,n)}}(a,b,c,NP,hQ,kQ)}else if(Ff(a)||Af(a)){if(r(function(){var n=
tk(a);return n.B?n.B("*"):n.call(null,"*")}()))return NP;if(D.j(M(a),1))c=J(a),d=b,a=c,b=d;else{var e=v.C(function(n,p,u,w,z){return function(F,H){var G=Q(F,0,null);F=Q(F,1,null);var N=H instanceof RegExp?H:z(H);return r(N)?new X(null,2,5,Z,[G,nf.j(F,N)],null):new X(null,2,5,Z,[nf.j(G,H),F],null)}}(a,b,NP,hQ,kQ),new X(null,2,5,Z,[sk,of],null),a),f=Q(e,0,null),h=Q(e,1,null),k=mh(f),m=function(){var n=mh(h);return r(n)?(n=function(p,u,w,z,F,H,G,N,O,U,ea){return function(va){return KS(function(){return function(xa){return Nk(xa,
va)}}(p,u,w,z,F,H,G,N,O,U,ea),w)}}(a,b,n,n,e,f,h,k,NP,hQ,kQ),r(b)?Jl(n):n):null}();if(r(function(){var n=k;return r(n)?m:n}()))return function(n,p,u,w,z,F,H){return function(G){var N=F.B?F.B(G):F.call(null,G);return r(N)?N:H.B?H.B(G):H.call(null,G)}}(a,b,e,f,h,k,m,NP,hQ,kQ);if(r(k))return k;if(r(m))return m;throw fm("No matching `encore/cond!` clause",W);}}else throw fm("Unexpected compile spec type",new q(null,2,[Uv,a,nq,Bc(a)],null));}}
function RT(a){for(;;){if(Cf(a)){var b=B.j(a,zs),c=function(){var h=B.j(a,jn);return r(h)?h:B.j(a,oC)}(),d=function(){var h=B.j(a,Pq);return r(h)?h:B.j(a,go)}(),e=function(){var h=c;return r(h)?lQ(h,b):null}(),f=function(){var h=d;return r(h)?lQ(h,b):null}();if(D.j(f,NP)||D.j(e,hQ))return hQ;if(r(function(){var h=e;return r(h)?f:h}()))return function(h,k,m,n,p,u){return function(w){w=t.B(w);return r(p.B?p.B(w):p.call(null,w))?r(u.B?u.B(w):u.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,NP,hQ,kQ,lQ);if(r(e))return D.j(e,
NP)?NP:function(h,k,m,n,p){return function(u){u=t.B(u);u=p.B?p.B(u):p.call(null,u);return r(u)?!0:!1}}(a,b,c,d,e,f,NP,hQ,kQ,lQ);if(r(f))return D.j(f,hQ)?NP:function(h,k,m,n,p,u){return function(w){w=t.B(w);w=u.B?u.B(w):u.call(null,w);return r(w)?!0:!1}}(a,b,c,d,e,f,NP,hQ,kQ,lQ);throw fm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new q(null,2,[Es,c,Kn,d],null));}a=new q(null,2,[jn,a,Pq,null],null)}}wh.j(mh,TS);wh.j(mh,US);wh.j(GS,uT);wh.j(GS,vT);var mQ={hi:["BC","AD"],gi:["Before Christ","Anno Domini"],ji:"JFMAMJJASOND".split(""),dj:"JFMAMJJASOND".split(""),ii:"January February March April May June July August September October November December".split(" "),cj:"January February March April May June July August September October November December".split(" "),vi:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),fj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ij:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
hj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),bj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),gj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Fj:"SMTWTFS".split(""),ej:"SMTWTFS".split(""),aj:["Q1","Q2","Q3","Q4"],ui:["1st quarter","2nd quarter","3rd quarter","4th quarter"],di:["AM","PM"],Xh:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],ai:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],ei:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Yh:6,Hj:[5,6],Zh:5},oQ=mQ;
oQ=mQ;function AQ(a,b,c,d,e){a=new Date(a,b,c);e=e||0;return a.valueOf()+864E5*(((void 0!==d?d:3)-e+7)%7-((a.getDay()+6)%7-e+7)%7)};function QQ(){}
function LS(a){if("number"==typeof a){var b=new QQ;b.bi=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",hc(c,2));c=d.join("")}b.Vh=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=ZS(a);b.Wh=[c,c];b.Rh={Gj:a,$h:a};b.Uh=[];return b}b=new QQ;b.Vh=a.id;b.bi=-a.std_offset;b.Wh=a.names;b.Rh=a.names_ext;b.Uh=a.transitions;return b}
function ZS(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(hc(Math.floor(a/60)%100,2),":",hc(a%60,2));return b.join("")}function fT(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;for(var c=0;c<a.Uh.length&&b>=a.Uh[c];)c+=2;return 0==c?0:a.Uh[c-1]}QQ.prototype.getOffset=function(a){return this.bi-fT(this,a)};function iT(a){this.Th=[];this.Qh=oQ;"number"==typeof a?lT(this,a):NT(this,a)}var OT=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/];function PT(a){return a.getHours?a.getHours():0}
function NT(a,b){for(QT&&(b=b.replace(/\u200f/g,""));b;){for(var c=b,d=0;d<OT.length;++d){var e=b.match(OT[d]);if(e){var f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));a.Th.push({text:f,type:d});break}}if(c===b)throw Error("Malformed pattern part: "+b);}}
iT.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(var f=0;f<this.Th.length;++f){var h=this.Th[f].text;1==this.Th[f].type?c.push(ST(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function lT(a,b){if(4>b)var c=a.Qh.Xh[b];else if(8>b)c=a.Qh.ai[b-4];else if(12>b)c=a.Qh.ei[b-8],c=c.replace("{1}",a.Qh.Xh[b-8]),c=c.replace("{0}",a.Qh.ai[b-8]);else{lT(a,10);return}NT(a,c)}function TT(a,b){b=String(b);a=a.Qh||oQ;if(void 0!==a.jj){for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.jj+e-48):b.charAt(d))}b=c.join("")}return b}var QT=!1;
function $T(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function ST(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.Qh.gi[c]:a.Qh.hi[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),TT(a,hc(c,h));case "Y":return c=(new Date(AQ(d.getFullYear(),d.getMonth(),d.getDate(),a.Qh.Zh,a.Qh.Yh))).getFullYear(),0>c&&(c=-c),2==h&&(c%=100),TT(a,hc(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.Qh.ji[c];break a;case 4:h=a.Qh.ii[c];break a;case 3:h=a.Qh.vi[c];break a;default:h=TT(a,hc(c+1,h))}return h;
case "k":return $T(e),TT(a,hc(PT(e)||24,h));case "S":return TT(a,(e.getMilliseconds()/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?hc(0,h-3):""));case "E":return c=d.getDay(),4<=h?a.Qh.ij[c]:a.Qh.bj[c];case "a":return $T(e),h=PT(e),a.Qh.di[12<=h&&24>h?1:0];case "h":return $T(e),TT(a,hc(PT(e)%12||12,h));case "K":return $T(e),TT(a,hc(PT(e)%12,h));case "H":return $T(e),TT(a,hc(PT(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.Qh.ej[c];break a;case 4:h=a.Qh.hj[c];break a;case 3:h=a.Qh.gj[c];break a;
default:h=TT(a,hc(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.Qh.dj[c];break a;case 4:h=a.Qh.cj[c];break a;case 3:h=a.Qh.fj[c];break a;default:h=TT(a,hc(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.Qh.aj[c]:a.Qh.ui[c];case "d":return TT(a,hc(d.getDate(),h));case "m":return $T(e),TT(a,hc(e.getMinutes(),h));case "s":return $T(e),TT(a,hc(e.getSeconds(),h));case "v":return h=f||LS(c.getTimezoneOffset()),h.Vh;case "V":return a=f||LS(c.getTimezoneOffset()),2>=h?
h=a.Vh:(h=a,h=0<fT(h,c)?void 0!==h.Rh.fi?h.Rh.fi:h.Rh.DST_GENERIC_LOCATION:void 0!==h.Rh.$h?h.Rh.$h:h.Rh.STD_GENERIC_LOCATION),h;case "w":return c=AQ(e.getFullYear(),e.getMonth(),e.getDate(),a.Qh.Zh,a.Qh.Yh),TT(a,hc(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||LS(c.getTimezoneOffset()),4>h?a.Wh[0<fT(a,c)?2:0]:a.Wh[0<fT(a,c)?3:1];case "Z":return b=f||LS(c.getTimezoneOffset()),4>h?(h=-b.getOffset(c),a=[0>h?"-":"+"],h=Math.abs(h),
a.push(hc(Math.floor(h/60)%100,2),hc(h%60,2)),h=a.join("")):h=TT(a,ZS(b.getOffset(c))),h;default:return""}};function aU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;return dU(b)}function dU(a){Q(a,0,null);return new q(null,6,[ox,!0,Eq,!1,VA,null,ur,null,gt,HA,vA,function(b){b=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;b=B.j(b,NB);b=P([xl(b)]);var c=R.C(oc(),qc,!1);Vk(el(b,c));return r(kc)?kl():null}],null)}
function UT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new I(b.slice(0),0,null):null;return VT(b)}
function VT(a){Q(a,0,null);return new q(null,6,[ox,!0,Eq,!1,VA,null,ur,null,gt,HA,vA,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof C?c.na:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.B(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(vm.B(c));if(r(d)){if(r(function(){var h=B.j(c,wo);return r(h)?h:ei(c,new X(null,2,5,Z,[Iz,wo],null))}())){var e=function(){var h=R.F(c,JA,"",P([eq,null])),k=gt.B(c);return k.B?k.B(h):k.call(null,h)}(),f=function(){var h=Lz.B(c),k=eq.B(c);return r(k)?ff(e,ff(k,h)):ff(e,h)}();return d.apply(console,Ic(f))}return d.call(console,xl(NB.B(c)))}return null}}()],null)};Ff(CS)?PS(new X(null,3,5,Z,[2,126,2],null)):PS(2.126);var eU=new q(null,1,[CA,Ip],null),WT=function WT(a){switch(arguments.length){case 1:return WT.B(arguments[0]);case 2:return WT.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};WT.B=function(a){return WT.j(null,a)};
WT.j=function(a,b){var c=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,d=B.j(c,Hq);B.j(c,Qz);var e=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;b=B.j(e,vm);c=B.j(e,eq);var f=B.j(e,JA),h=B.j(e,Br),k=B.j(e,Ay);B.j(e,vv);var m=B.j(e,rA);e=B.j(e,Lv);m=xl(m);return[r(m)?[t.B(m)," "].join(""):null,Ig(b).toUpperCase()," [",t.B(r(h)?h:r(k)?k:"?"),":",t.B(r(e)?e:"?"),"] - ",t.B(xl(f)),r(d)?null:r(c)?["\n",t.B(XT?XT(c,a):YT.call(null,c,a))].join(""):null].join("")};WT.T=2;
var ZT=new q(null,6,[VA,xx,Ss,new qk(null,new q(null,1,["*",null],null),null),hx,of,qs,eU,gt,WT,Kx,"undefined"!==typeof window?new q(null,1,[NA,UT.B?UT.B(W):UT.call(null,W)],null):new q(null,1,[ks,aU.B?aU.B(W):aU.call(null,W)],null)],null);function fU(a){switch(a instanceof C?a.na:null){case "trace":return 0;case "debug":return 1;case "info":return 2;case "warn":return 3;case "error":return 4;case "fatal":return 5;case "report":return 6;default:return null}}
function bU(a){if(r(fU(a)))return a;throw fm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[Uv,a,nq,Bc(a)],null));}function iU(a){var b=fU(a);if(r(b))return b;throw fm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[Uv,a,nq,Bc(a)],null));}function cU(a,b){return(iU.B?iU.B(a):iU.call(null,a))>=(iU.B?iU.B(b):iU.call(null,b))}
var kU=Jl(function(a){return RT(a)}),$U=Jl(function(a,b){a=kU(a);return a.B?a.B(b):a.call(null,b)});function aV(a,b){a=r(tf.B?tf.B(a):tf.call(null,a))?a.B?a.B(b):a.call(null,b):$U(a,b);return r(a)?!0:!1}var bV=Jl(function(a,b){return KS(function(c){var d=Q(c,0,null);c=Q(c,1,null);return r($U(d,b))?bU(c):null},a)});function cV(a,b,c){b=Ff(b)?bV(b,c):b;a=r(b)?b:a;return bU.B?bU.B(a):bU.call(null,a)}
function dV(a){if(r(a)){var b=Pf([of,sk]);b=b.B?b.B(a):b.call(null,a);a=r(b)?null:a}else a=null;return a}function eV(a,b){a=dV(a);b=dV(b);return r(r(a)?a:b)?new q(null,2,[jn,a,Pq,b],null):null}
function fV(a,b,c){var d=r(c)?c:ZT;c=function(){var e=B.j(d,VA);e=r(e)?e:B.j(d,vm);return cV.C?cV.C(a,e,ia):cV.call(null,a,e,ia)}();return r(cU.j?cU.j(b,c):cU.call(null,b,c))?(b=function(){var e=B.j(d,Ss);if(r(e))return e;e=B.j(d,zn);var f=B.j(d,dq);return eV.j?eV.j(e,f):eV.call(null,e,f)}(),r(b)?r(aV.j?aV.j(b,ia):aV.call(null,b,ia))?!0:!1:!0):!1}function gU(a){return tT(Lh.B(function(b){b=wT(b);return Df(b)?gl.F(P([b])):b}),a)}var hU=Jl(function(a,b){a=qT(b);Q(a,0,null);return Q(a,1,null)});
function jU(a){var b=T.j?T.j(pr,pr):T.call(null,pr,pr),c=T.j?T.j(Lw,Lw):T.call(null,Lw,Lw),d=Q(a,0,null);if(r(r(b)?d instanceof Error:b)){b=d;d=null;var e=GP(a);a=r(c)?Q(e,0,null):null;c=r(c)?GP(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}d=r(Cf(d)?rc.B(wf(d)):!1)?d:null;e=$q.B(d);b=r(e)?e:r(b)?null:pr;d=S.j(d,$q);e=r(d)?GP(a):a;a=r(c)?Q(e,0,null):null;c=r(c)?GP(e):e;return new X(null,4,5,Z,[b,d,a,c],null)}
function gV(a,b,c,d){if(fV(vn,a,ZT)){var e=new Date;c=y(c);c=jU(c);var f=Q(c,0,null),h=Q(c,1,null),k=Q(c,2,null);c=Q(c,3,null);e=nf.j(r(null)?null:W,Oj([Wr,Bv,SB,Lz,Ay,Cu,Br,vm,eq,eA,Lv,ym,Iz,Cv],[e,null,ZT,c,null,function(){var z=new qk(null,new q(null,2,[sr,null,Dp,null],null),null);return z.B?z.B(a):z.call(null,a)}(),ia,a,f,null,b,new tl(function(){return f}),h,k]));e=v.C(function(z,F){z=F.B?F.B(z):F.call(null,z);return null==z?Oe(null):z},e,hx.B(ZT));if(r(e)){c=null!=e&&(e.J&64||l===e.ua)?gh(hk,
e):e;var m=B.j(c,Lz);e=R.C(e,ro,new tl(function(){return m}));var n=SS.F(e,JA,new tl(function(){if(D.j(null,Lw))return"";if(D.j(Yw,Lw))return gU(m);if(D.j(Lw,Lw)){if("string"!==typeof k)throw fm("Timbre format-style logging call without a format pattern (string)",new q(null,2,[vm,a,cw,[t.B(r(ia)?ia:r(null)?null:"?"),":",t.B(r(b)?b:"?")].join("")],null));var z=r(k)?k:"",F=bi.j(wT,m);return hh(hR,z,F)}throw Error(["No matching clause: ",t.B(Lw)].join(""));}),P([sy,new tl(function(){return se(new X(null,
3,5,Z,[d,k,B.C(h,PA,m)],null))})])),p=Jl(B.C(ZT,gt,WT)),u=nf.j(eU,B.j(ZT,qs)),w=Jl(function(z){return new tl(function(){var F=B.j(n,Wr),H=null!=z&&(z.J&64||l===z.ua)?gh(hk,z):z;H=B.j(H,CA);return r(T.j?T.j(H,Ip):T.call(null,H,Ip))?(new Date(F)).toISOString():(new iT(H)).format(F)})});ag(function(z,F,H){if(r(function(){var va=ox.B(H);return r(va)?fV(Mw,a,H):va}())){var G=ur.B(H);if(function(){var va=yf(G);if(va)return va;va=hU(F,G);var xa=xl(sy.B(n));va=va.B?va.B(xa):va.call(null,xa);return yc(va)}()){var N=
null!=H&&(H.J&64||l===H.ua)?gh(hk,H):H;z=B.j(N,vA);B.j(N,Eq);var O=function(){var va=gt.B(H);var xa=(xa=null==va)?xa:T.j?T.j(va,HA):T.call(null,va,HA);return r(xa)?p:va}(),U=function(){var va=qs.B(H);var xa=(xa=null==va)?xa:T.j?T.j(va,HA):T.call(null,va,HA);return r(xa)?w(u):w(nf.j(u,va))}(),ea=nf.j(n,new q(null,5,[Wn,F,Uz,H,gt,O,NB,new tl(function(){var va=R.C(n,rA,U);return O.B?O.B(va):O.call(null,va)}),rA,U],null));N=function(){var va=Am.B(H);return r(va)?va.B?va.B(ea):va.call(null,ea):ea}();return r(N)?
z.B?z.B(N):z.call(null,N):null}}return null},null,Kx.B(ZT))}}return null}function YT(a){switch(arguments.length){case 1:return XT(arguments[0],null);case 2:return XT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}}function XT(a){var b=a.stack;return r(b)?b:t.B(a)};function lU(a,b){if(null!=a&&null!=a.dh)a=a.dh(a,b);else{var c=lU[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=lU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.pack",a);}return a}function mU(a,b){if(null!=a&&null!=a.eh)a=a.eh(a,b);else{var c=mU[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=mU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IPacker.unpack",a);}return a};Ff(CS)?PS(new X(null,3,5,Z,[2,105,0],null)):PS(2.105);var nU=D.j("default","nodejs"),oU=Ch(!1);function pU(a,b){return new q(null,2,[jm,a,Gp,new q(null,2,[nq,Bc(b),kx,b],null)],null)}
function qU(a){if(Ff(a)){var b=M(a);var c=new qk(null,new q(null,2,[1,null,2,null],null),null);b=c.B?c.B(b):c.call(null,b);if(yc(b))return new q(null,1,[nw,pU(new qk(null,new q(null,2,[1,null,2,null],null),null),a)],null);b=Q(a,0,null);Q(a,1,null);return b instanceof C?yc(Fg(b))?new q(null,1,[Ct,pU(wr,b)],null):null:new q(null,1,[dp,pU(nC,b)],null)}return new q(null,1,[Bx,pU(yx,a)],null)}function rU(a){var b=qU(a);if(r(b))throw fm("Invalid event",new q(null,2,[Uv,a,rC,b],null));}
function sU(a,b){var c=0===b.indexOf("+"),d=yg.j(b,1),e=function(){try{return mU(a,d)}catch(m){var k=m;gV(xx,215,new tl(function(){return new X(null,3,5,Z,["Bad package: %s (%s)",d,k],null)}),56851104);return new X(null,2,5,Z,[oy,d],null)}}();c=c?e:new X(null,2,5,Z,[e,null],null);var f=Q(c,0,null);c=Q(c,1,null);var h=D.j(0,c)?Rw:c;gV(Mw,221,new tl(function(){return new X(null,3,5,Z,["Unpacking: %s -\x3e %s",b,new X(null,2,5,Z,[f,h],null)],null)}),-2045670264);return new X(null,2,5,Z,[f,h],null)}
function tU(a,b,c){c=D.j(c,Rw)?0:c;var d=r(c)?new X(null,2,5,Z,[b,c],null):new X(null,1,5,Z,[b],null),e=["+",t.B(lU(a,d))].join("");gV(Mw,237,new tl(function(){return new X(null,3,5,Z,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-1329686292);return e}function uU(){}uU.prototype.dh=function(a,b){a:{a=nc;var c=mc;mc=nc=null;try{var d=gl.F(P([b]));break a}finally{mc=c,nc=a}d=void 0}return d};uU.prototype.eh=function(a,b){return DS(b)};var vU=new uU;function wU(a){return D.j(a,Iv)?vU:a}
function xU(a){if(null!=a&&null!=a.Ud)a=a.Ud(a);else{var b=xU[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=xU._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IChSocket.-chsk-connect!",a);}return a}function yU(a,b){if(null!=a&&null!=a.df)a=a.df(a,b);else{var c=yU[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=yU._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("IChSocket.-chsk-disconnect!",a);}return a}
function zU(a,b,c){if(null!=a&&null!=a.ze)a=a.ze(a,b,c);else{var d=zU[na(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=zU._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw Cc("IChSocket.-chsk-send!",a);}return a}
var AU=function AU(a){switch(arguments.length){case 2:return AU.j(arguments[0],arguments[1]);case 4:return AU.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return AU.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.B(arguments.length)].join(""));}};AU.j=function(a,b){return AU.C(a,b,W)};AU.P=function(a,b,c,d){return AU.C(a,b,new q(null,2,[Yn,c,vB,d],null))};
AU.C=function(a,b,c){gV(Mw,886,new tl(function(){return new X(null,3,5,Z,["Chsk send: (%s) %s",R.C(c,vB,Kf(vB.B(c))),b],null)}),987791291);return zU(a,b,c)};AU.T=4;function BU(a){gV(Rz,890,new tl(function(){return new X(null,1,5,Z,["Chsk send against closed chsk."],null)}),-1410643341);r(a)&&(a.B?a.B(eC):a.call(null,eC));return!1}function CU(a,b){return r(b)?hT(a,new X(null,1,5,Z,[b],null),function(c){return new bT(wB,c)}):null}
function DU(a,b){var c=gT(hz.B(a),function(e){var f=b.B?b.B(e):b.call(null,e);f=r(Vo.B(e))?R.C(f,Vo,!1):f;f=r(Hy.B(f))?S.j(f,$v):f;return new bT(f,new X(null,2,5,Z,[e,f],null))}),d=Q(c,0,null);c=Q(c,1,null);return lh.j(d,c)?(d=new X(null,2,5,Z,[d,c],null),ZQ(ei(a,new X(null,2,5,Z,[vx,io],null)),new X(null,2,5,Z,[ls,d],null)),d):null}function EU(a,b){var c=Hy.B(a);c=r(c)?c:lh.j(b,xs);return r(c)?R.F(S.j(a,$v),Hy,!1,P([Ww,new q(null,2,[Tn,kT(),PB,b],null)])):a}
function FU(a,b){if(null==a||Lf(a))return a;rU(b);var c=Q(b,0,null);Q(b,1,null);return function(d){return ZQ(a,new X(null,2,5,Z,[Hg.B([IS(c),".cb"].join("")),d],null))}}
function GU(a,b){gV(Mw,964,new tl(function(){return new X(null,2,5,Z,["receive-buffered-evs!: %s",b],null)}),508884266);for(var c=E(b),d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);rU(h);Q(h,0,null);ZQ(mr.B(a),h);f+=1}else if(c=E(c))d=c,Gf(d)?(c=$d(d),e=ae(d),d=c,h=M(c),c=e,e=h):(h=J(d),rU(h),Q(h,0,null),ZQ(mr.B(a),h),c=K(d),d=null,e=0),f=0;else return null}function HU(a){return Ff(a)?(a=Q(a,0,null),D.j(a,yB)):!1}
function IU(a,b,c){gV(Mw,979,new tl(function(){return new X(null,3,5,Z,["receive-handshake! (%s): %s",a,c],null)}),945460880);Q(c,0,null);var d=Q(c,1,null),e=Q(d,0,null);Q(d,1,null);var f=Q(d,2,null),h=null!=b&&(b.J&64||l===b.ua)?gh(hk,b):b;d=B.j(h,vx);h=B.j(h,cz);h=Fh(h);var k=new q(null,6,[nq,a,Hy,!0,Ht,!0,lp,e,Mp,f,Vo,h],null);e=new X(null,2,5,Z,[yB,new X(null,4,5,Z,[e,null,f,h],null)],null);rU(e);DU(b,function(m){return lk.F(P([m,k]))});ZQ($r.B(d),e)}
var JU=function(){var a="undefined"!==typeof require?require:vh(Gs);return new tl(function(){if(nU&&"undefined"!==typeof require)try{var b=[t.B("web"),"socket"].join("");return a.B?a.B(b):a.call(null,b)}catch(c){return null}else return null})}();
function KU(a){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;B.j(a,qv);B.j(a,hq);B.j(a,VB);B.j(a,Lr);B.j(a,Vm);var b=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;a=B.j(b,qv);var c=B.j(b,hq),d=B.j(b,VB),e=B.j(b,Lr);B.j(b,Vm);b=QS(la,"WebSocket");r(b)||(b=QS(la,"MozWebSocket"),b=r(b)?b:QS(y(JU),"w3cwebsocket"));r(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function LU(a,b,c,d,e,f,h,k,m,n,p,u,w,z,F,H,G,N){this.Ea=a;this.Da=b;this.params=c;this.headers=d;this.Ca=e;this.url=f;this.ib=h;this.state_=k;this.Aa=m;this.bb=n;this.Ga=p;this.Ba=u;this.Xa=w;this.Za=z;this.$a=F;this.G=H;this.D=G;this.I=N;this.J=2230716170;this.Y=139264}g=LU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "client-id":return this.Ea;case "chs":return this.Da;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ca;case "url":return this.url;case "ws-kalive-ms":return this.ib;case "state_":return this.state_;case "instance-handle_":return this.Aa;case "retry-count_":return this.bb;case "ever-opened?_":return this.Ga;case "backoff-ms-fn":return this.Ba;case "cbs-waiting_":return this.Xa;case "socket_":return this.Za;
case "udt-last-comms_":return this.$a;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,V.j(new X(null,15,5,Z,[new X(null,2,5,Z,[Ut,this.Ea],null),new X(null,2,5,Z,[vx,this.Da],null),new X(null,2,5,Z,[mu,this.params],null),new X(null,2,5,Z,[Vm,this.headers],null),new X(null,2,5,Z,[qz,this.Ca],null),new X(null,2,5,Z,[Vy,this.url],null),new X(null,2,5,Z,[Rx,this.ib],null),new X(null,2,5,Z,[hz,this.state_],null),new X(null,2,5,Z,[Nr,this.Aa],null),new X(null,2,5,Z,[su,this.bb],
null),new X(null,2,5,Z,[cz,this.Ga],null),new X(null,2,5,Z,[dA,this.Ba],null),new X(null,2,5,Z,[py,this.Xa],null),new X(null,2,5,Z,[tA,this.Za],null),new X(null,2,5,Z,[eu,this.$a],null)],null),this.D))};g.oa=function(){return new Xi(this,15,new X(null,15,5,Z,[Ut,vx,mu,Vm,qz,Vy,Rx,hz,Nr,su,cz,dA,py,tA,eu],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 15+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=1998688700^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ea,b.Ea)&&D.j(this.Da,b.Da)&&D.j(this.params,b.params)&&D.j(this.headers,b.headers)&&D.j(this.Ca,b.Ca)&&D.j(this.url,b.url)&&D.j(this.ib,b.ib)&&D.j(this.state_,b.state_)&&D.j(this.Aa,b.Aa)&&D.j(this.bb,b.bb)&&D.j(this.Ga,b.Ga)&&D.j(this.Ba,b.Ba)&&D.j(this.Xa,b.Xa)&&D.j(this.Za,b.Za)&&D.j(this.$a,b.$a)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,15,[Rx,null,cz,null,Ut,null,qz,null,vx,null,eu,null,mu,null,su,null,Vm,null,dA,null,tA,null,Vy,null,Nr,null,py,null,hz,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ut,b):T.call(null,Ut,b))?new LU(c,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(vx,b):T.call(null,vx,b))?new LU(this.Ea,c,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(mu,b):T.call(null,mu,b))?new LU(this.Ea,this.Da,c,this.headers,this.Ca,this.url,this.ib,
this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(Vm,b):T.call(null,Vm,b))?new LU(this.Ea,this.Da,this.params,c,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(qz,b):T.call(null,qz,b))?new LU(this.Ea,this.Da,this.params,this.headers,c,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(Vy,b):T.call(null,Vy,b))?new LU(this.Ea,
this.Da,this.params,this.headers,this.Ca,c,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(Rx,b):T.call(null,Rx,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,c,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(hz,b):T.call(null,hz,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,c,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,
this.D,null):r(T.j?T.j(Nr,b):T.call(null,Nr,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,c,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(su,b):T.call(null,su,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,c,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(cz,b):T.call(null,cz,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,
this.state_,this.Aa,this.bb,c,this.Ba,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(dA,b):T.call(null,dA,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,c,this.Xa,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(py,b):T.call(null,py,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,c,this.Za,this.$a,this.G,this.D,null):r(T.j?T.j(tA,b):T.call(null,tA,b))?new LU(this.Ea,
this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,c,this.$a,this.G,this.D,null):r(T.j?T.j(eu,b):T.call(null,eu,b))?new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,c,this.G,this.D,null):new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,15,5,Z,[new Y(Ut,this.Ea),new Y(vx,this.Da),new Y(mu,this.params),new Y(Vm,this.headers),new Y(qz,this.Ca),new Y(Vy,this.url),new Y(Rx,this.ib),new Y(hz,this.state_),new Y(Nr,this.Aa),new Y(su,this.bb),new Y(cz,this.Ga),new Y(dA,this.Ba),new Y(py,this.Xa),new Y(tA,this.Za),new Y(eu,this.$a)],null),this.D))};
g.fa=function(a,b){return new LU(this.Ea,this.Da,this.params,this.headers,this.Ca,this.url,this.ib,this.state_,this.Aa,this.bb,this.Ga,this.Ba,this.Xa,this.Za,this.$a,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.df=function(a,b){Dh(this.Aa,null);DU(this,function(c){return EU(c,b)});a=y(this.Za);return r(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.ze=function(a,b,c){var d=this;a=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c;var e=B.j(a,Yn);c=B.j(a,vB);B.j(a,up);rU(b);var f=FU(c,b);if(yc(Hy.B(y(d.state_))))return BU(f);var h=r(f)?vT.C(yT(),0,6):null;b=tU(d.Ca,b,h);if(r(h)&&(jT(d.Xa,new X(null,1,5,Z,[h],null),f),r(e))){var k=XQ(1,null);xQ(function(){var n=function(){function u(w){var z=w[1];if(1===z)return z=OQ(e),TQ(w,2,z);if(2===z){z=w[2];var F=CU(d.Xa,h);w[7]=F;w[8]=z;w[1]=r(F)?3:4;return Gn}return 3===z?(z=w[7],z=z.B?z.B(Mn):z.call(null,Mn),w[2]=
z,w[1]=5,Gn):4===z?(w[2]=null,w[1]=5,Gn):5===z?VQ(w,w[2]):null}return function(){function w(H){for(;;){a:try{for(;;){var G=u(H);if(!T(G,Gn)){var N=G;break a}}}catch(O){N=O;H[2]=N;if(E(H[4]))H[1]=J(H[4]);else throw N;N=Gn}if(!T(N,Gn))return N}}function z(){var H=[null,null,null,null,null,null,null,null,null];H[0]=F;H[1]=1;return H}var F=null;F=function(H){switch(arguments.length){case 0:return z.call(this);case 1:return w.call(this,H)}throw Error("Invalid arity: "+arguments.length);};F.O=z;F.B=w;return F}()}(),
p=function(){var u=n();u[6]=k;return u}();return SQ(p)})}try{return y(d.Za).send(b),Dh(d.$a,kT()),nm}catch(n){var m=n;gV(Dp,1137,new tl(function(){return new X(null,2,5,Z,[m,"Chsk send error"],null)}),2073416392);r(h)&&(b=function(){var p=CU(d.Xa,h);return r(p)?p:f}(),b.B?b.B(pm):b.call(null,pm));return!1}};
g.Ud=function(){function a(){return D.j(y(b.Aa),d)}var b=this,c=this,d=Dh(b.Aa,yT()),e=b.ib;if(r(e)){var f=XQ(1,null);xQ(function(){var h=function(){function m(n){var p=n[1];if(7===p)return n[2]=n[2],n[1]=3,Gn;if(1===p)return n[2]=null,n[1]=2,Gn;if(4===p){p=n[2];var u=a();n[7]=p;n[1]=u?5:6;return Gn}return 6===p?(n[2]=null,n[1]=7,Gn):3===p?VQ(n,n[2]):2===p?(p=y(b.$a),u=OQ(e),n[8]=p,TQ(n,4,u)):9===p?(n[2]=null,n[1]=10,Gn):5===p?(p=n[8],u=y(b.$a),p=D.j(p,u),n[1]=p?8:9,Gn):10===p?(n[9]=n[2],n[2]=null,
n[1]=2,Gn):8===p?(p=new X(null,1,5,Z,[Wo],null),u=Oj([up],[!0]),p=c.ze(null,p,u),n[2]=p,n[1]=10,Gn):null}return function(){function n(w){for(;;){a:try{for(;;){var z=m(w);if(!T(z,Gn)){var F=z;break a}}}catch(H){F=H;w[2]=F;if(E(w[4]))w[1]=J(w[4]);else throw F;F=Gn}if(!T(F,Gn))return F}}function p(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=u;w[1]=1;return w}var u=null;u=function(w){switch(arguments.length){case 0:return p.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};u.O=p;u.B=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return SQ(k)})}Dh(b.bb,0);(function k(){if(a()){var m=function(){if(a()){var F=Eh.j(b.bb,Me),H=b.Ba.B?b.Ba.B(F):b.Ba.call(null,F),G=kT()+H;gV(Rz,1156,new tl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",F,H],null)}),316709556);la.setTimeout(k,H);return DU(c,function(N){return R.C(N,$v,G)})}return null},n=function(F){gV(Dp,1169,new tl(function(){var H=Z;try{var G=
Hl(F)}catch(N){G=F}return new X(null,2,5,H,["WebSocket error: %s",G],null)}),-923308070);return DU(c,function(H){return R.C(H,cs,new q(null,2,[Tn,kT(),MA,F],null))})},p=function(F){F=QS(F,"data");F=sU(b.Ca,F);var H=Q(F,0,null);F=Q(F,1,null);Dh(b.$a,kT());if(HU(H)){IU(Bq,c,H);Dh(b.bb,0);var G=Cp}else G=null;if(r(G))return G;D.j(H,Wo)?(ZQ(mr.B(b.Da),new X(null,1,5,Z,[Wo],null)),G=Jp):G=null;return r(G)?G:r(F)?(F=CU(b.Xa,F),r(F)?F.B?F.B(H):F.call(null,H):gV(Rz,1213,new tl(function(){return new X(null,
2,5,Z,["Cb reply w/o local cb-fn: %s",H],null)}),-1783345028)):GU(b.Da,H)},u=function(F){var H=new q(null,5,[Tn,kT(),MA,F,Po,QS(F,"wasClean"),Iq,QS(F,"code"),PB,QS(F,"reason")],null);if(r(Po.B(H)))return gV(xx,1239,new tl(function(){return new X(null,1,5,Z,["Clean WebSocket close, will not attempt reconnect"],null)}),1441658931),DU(c,function(G){return R.C(G,Sy,H)});DU(c,function(G){return R.C(EU(G,xs),Sy,H)});return m()},w=function(){try{return KU(new q(null,5,[qv,n,hq,p,VB,u,Vm,b.headers,Lr,MT(b.url,
lk.F(P([b.params,new q(null,2,[Ut,b.Ea,is,is.B(y(b.state_))],null)])))],null))}catch(H){var F=H;gV(Dp,1262,new tl(function(){return new X(null,2,5,Z,[F,"WebSocket error"],null)}),-596891700);return null}}();if(yc(w))return m();var z=y(b.Za);r(z)&&z.close();return Dh(b.Za,w)}return null})();return c};
function MU(a,b){a=lk.F(P([new q(null,7,[hz,Ch(new q(null,4,[nq,Bq,Hy,!1,Ht,!1,is,b],null)),Nr,Ch(null),su,Ch(0),cz,Ch(!1),py,Ch(W),tA,Ch(null),eu,Ch(null)],null),a]));b=S.F(a,Ut,P([vx,mu,Vm,qz,Vy,Rx,hz,Nr,su,cz,dA,py,tA,eu]));b=Df(a)?ai.j(W,b):b;return new LU(Ut.B(a),vx.B(a),mu.B(a),Vm.B(a),qz.B(a),Vy.B(a),Rx.B(a),hz.B(a),Nr.B(a),su.B(a),cz.B(a),dA.B(a),py.B(a),tA.B(a),eu.B(a),null,mh(b),null)}var NU=zT.F(P([us,60]));
function OU(a,b,c,d,e,f,h,k,m,n,p,u,w,z){this.Ea=a;this.Da=b;this.params=c;this.Ca=d;this.url=e;this.state_=f;this.Aa=h;this.Ga=k;this.Ba=m;this.eb=n;this.lb=p;this.G=u;this.D=w;this.I=z;this.J=2230716170;this.Y=139264}g=OU.prototype;g.ma=function(a,b){return this.R(null,b,null)};
g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "client-id":return this.Ea;case "chs":return this.Da;case "params":return this.params;case "packer":return this.Ca;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Aa;case "ever-opened?_":return this.Ga;case "backoff-ms-fn":return this.Ba;case "ajax-opts":return this.eb;case "curr-xhr_":return this.lb;default:return B.C(this.D,b,c)}};
g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,V.j(new X(null,11,5,Z,[new X(null,2,5,Z,[Ut,this.Ea],null),new X(null,2,5,Z,[vx,this.Da],null),new X(null,2,5,Z,[mu,this.params],null),new X(null,2,5,Z,[qz,this.Ca],null),new X(null,2,5,Z,[Vy,this.url],null),new X(null,2,5,Z,[hz,this.state_],null),new X(null,2,5,Z,[Nr,this.Aa],null),new X(null,2,5,Z,[cz,this.Ga],null),new X(null,2,5,Z,[dA,this.Ba],null),new X(null,2,5,Z,[bC,this.eb],
null),new X(null,2,5,Z,[CB,this.lb],null)],null),this.D))};g.oa=function(){return new Xi(this,11,new X(null,11,5,Z,[Ut,vx,mu,qz,Vy,hz,Nr,cz,dA,bC,CB],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 11+M(this.D)};g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-266770752^Ke(this)};
g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.Ea,b.Ea)&&D.j(this.Da,b.Da)&&D.j(this.params,b.params)&&D.j(this.Ca,b.Ca)&&D.j(this.url,b.url)&&D.j(this.state_,b.state_)&&D.j(this.Aa,b.Aa)&&D.j(this.Ga,b.Ga)&&D.j(this.Ba,b.Ba)&&D.j(this.eb,b.eb)&&D.j(this.lb,b.lb)&&D.j(this.D,b.D)};
g.wa=function(a,b){return Nf(new qk(null,new q(null,11,[CB,null,cz,null,Ut,null,qz,null,vx,null,mu,null,dA,null,Vy,null,Nr,null,bC,null,hz,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(Ut,b):T.call(null,Ut,b))?new OU(c,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(vx,b):T.call(null,vx,b))?new OU(this.Ea,c,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(mu,b):T.call(null,mu,b))?new OU(this.Ea,this.Da,c,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(qz,b):T.call(null,
qz,b))?new OU(this.Ea,this.Da,this.params,c,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(Vy,b):T.call(null,Vy,b))?new OU(this.Ea,this.Da,this.params,this.Ca,c,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(hz,b):T.call(null,hz,b))?new OU(this.Ea,this.Da,this.params,this.Ca,this.url,c,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(Nr,b):T.call(null,Nr,b))?new OU(this.Ea,this.Da,this.params,this.Ca,
this.url,this.state_,c,this.Ga,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(cz,b):T.call(null,cz,b))?new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,c,this.Ba,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(dA,b):T.call(null,dA,b))?new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,c,this.eb,this.lb,this.G,this.D,null):r(T.j?T.j(bC,b):T.call(null,bC,b))?new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,
c,this.lb,this.G,this.D,null):r(T.j?T.j(CB,b):T.call(null,CB,b))?new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,c,this.G,this.D,null):new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,11,5,Z,[new Y(Ut,this.Ea),new Y(vx,this.Da),new Y(mu,this.params),new Y(qz,this.Ca),new Y(Vy,this.url),new Y(hz,this.state_),new Y(Nr,this.Aa),new Y(cz,this.Ga),new Y(dA,this.Ba),new Y(bC,this.eb),new Y(CB,this.lb)],null),this.D))};g.fa=function(a,b){return new OU(this.Ea,this.Da,this.params,this.Ca,this.url,this.state_,this.Aa,this.Ga,this.Ba,this.eb,this.lb,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};
g.df=function(a,b){Dh(this.Aa,null);DU(this,function(c){return EU(c,b)});a=y(this.lb);return r(a)?a.abort():null};
g.ze=function(a,b,c){function d(n){var p=null!=n&&(n.J&64||l===n.ua)?gh(hk,n):n;n=B.j(p,iq);p=B.j(p,rt);if(r(n)){if(D.j(n,Mu))return r(k)?k.B?k.B(Mn):k.call(null,Mn):null;DU(f,function(w){return EU(w,xs)});return r(k)?k.B?k.B(pm):k.call(null,pm):null}n=sU(e.Ca,p);var u=Q(n,0,null);Q(n,1,null);r(k)?k.B?k.B(u):k.call(null,u):lh.j(u,FB)&&gV(Rz,1386,new tl(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",u],null)}),1010487645);return DU(f,function(w){return R.C(w,Hy,!0)})}var e=this,
f=this;a=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c;var h=B.j(a,Yn);c=B.j(a,vB);B.j(a,up);rU(b);var k=FU(c,b);if(yc(Hy.B(y(e.state_))))return BU(k);var m=is.B(y(e.state_));a=e.url;c=lk.F(P([e.eb,new q(null,5,[bv,SA,Yn,function(){if(r(h))return h;var n=Yn.B(e.eb);return r(n)?n:NU}(),qB,au,Vm,lk.F(P([Vm.B(e.eb),new q(null,1,[dy,m],null)])),mu,function(){var n=tU(e.Ca,b,r(k)?Rw:null);return lk.F(P([e.params,new q(null,4,[Tn,kT(),is,m,Ut,e.Ea,xB,n],null)]))}()],null)]));FT.C?FT.C(a,c,d):FT.call(null,a,c,
d);return nm};
g.Ud=function(){var a=this,b=this,c=Dh(a.Aa,yT());(function f(e){gV(Mw,1396,new tl(function(){return new X(null,1,5,Z,["async-poll-for-update!"],null)}),36916842);if(D.j(y(a.Aa),c)){var h=function(){if(D.j(y(a.Aa),c)){var k=e+1,m=a.Ba.B?a.Ba.B(k):a.Ba.call(null,k),n=kT()+m;gV(Rz,1404,new tl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),-144313160);la.setTimeout(function(){return f(k)},m);return DU(b,function(p){return R.C(p,$v,n)})}return null};
return Dh(a.lb,function(){function k(p){var u=null!=p&&(p.J&64||l===p.ua)?gh(hk,p):p;p=B.j(u,iq);u=B.j(u,rt);if(r(p)){if(D.j(p,Mu))return f(0);DU(b,function(w){return EU(w,xs)});return h()}p=sU(a.Ca,u);p=Q(p,0,null);(u=HU(p))&&IU($z,b,p);DU(b,function(w){return R.C(w,Hy,!0)});f(0);if(u)return null;D.j(p,Mn)?(r(y(oU))&&GU(a.Da,new X(null,1,5,Z,[new X(null,1,5,Z,[Yo],null)],null)),u=Jp):u=null;return r(u)?u:GU(a.Da,p)}var m=a.url,n=lk.F(P([a.eb,new q(null,5,[bv,Zu,Yn,function(){var p=Yn.B(a.eb);return r(p)?
p:NU}(),qB,au,mu,lk.F(P([a.params,new q(null,2,[Tn,kT(),Ut,a.Ea],null),r(Hy.B(y(a.state_)))?null:new q(null,1,[wp,!0],null)])),Vm,lk.F(P([Vm.B(a.eb),new q(null,1,[dy,is.B(y(a.state_))],null)]))],null)]));return FT.C?FT.C(m,n,k):FT.call(null,m,n,k)}())}return null})(0);return b};
function PU(a,b){a=lk.F(P([new q(null,4,[hz,Ch(new q(null,4,[nq,$z,Hy,!1,Ht,!1,is,b],null)),Nr,Ch(null),cz,Ch(!1),CB,Ch(null)],null),a]));b=S.F(a,Ut,P([vx,mu,qz,Vy,hz,Nr,cz,dA,bC,CB]));b=Df(a)?ai.j(W,b):b;return new OU(Ut.B(a),vx.B(a),mu.B(a),qz.B(a),Vy.B(a),hz.B(a),Nr.B(a),cz.B(a),dA.B(a),bC.B(a),CB.B(a),null,mh(b),null)}function QU(a,b,c,d,e,f,h){this.zc=a;this.oc=b;this.state_=c;this.Tb=d;this.G=e;this.D=f;this.I=h;this.J=2230716170;this.Y=139264}g=QU.prototype;
g.ma=function(a,b){return this.R(null,b,null)};g.R=function(a,b,c){switch(b instanceof C?b.na:null){case "ws-chsk-opts":return this.zc;case "ajax-chsk-opts":return this.oc;case "state_":return this.state_;case "impl_":return this.Tb;default:return B.C(this.D,b,c)}};g.va=function(a,b,c){return v.C(function(d,e){var f=Q(e,0,null);e=Q(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
g.ga=function(a,b,c){return Sk(b,function(d){return Sk(b,$k,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,V.j(new X(null,4,5,Z,[new X(null,2,5,Z,[lx,this.zc],null),new X(null,2,5,Z,[Sn,this.oc],null),new X(null,2,5,Z,[hz,this.state_],null),new X(null,2,5,Z,[rq,this.Tb],null)],null),this.D))};g.oa=function(){return new Xi(this,4,new X(null,4,5,Z,[lx,Sn,hz,rq],null),r(this.D)?ie(this.D):nh())};g.ea=function(){return this.G};g.ja=function(){return 4+M(this.D)};
g.ia=function(){var a=this.I;return null!=a?a:this.I=a=-1193508708^Ke(this)};g.ca=function(a,b){return null!=b&&this.constructor===b.constructor&&D.j(this.zc,b.zc)&&D.j(this.oc,b.oc)&&D.j(this.state_,b.state_)&&D.j(this.Tb,b.Tb)&&D.j(this.D,b.D)};g.wa=function(a,b){return Nf(new qk(null,new q(null,4,[rq,null,lx,null,hz,null,Sn,null],null),null),b)?S.j(rd(ai.j(W,this),this.G),b):new QU(this.zc,this.oc,this.state_,this.Tb,this.G,mh(S.j(this.D,b)),null)};
g.da=function(a,b,c){return r(T.j?T.j(lx,b):T.call(null,lx,b))?new QU(c,this.oc,this.state_,this.Tb,this.G,this.D,null):r(T.j?T.j(Sn,b):T.call(null,Sn,b))?new QU(this.zc,c,this.state_,this.Tb,this.G,this.D,null):r(T.j?T.j(hz,b):T.call(null,hz,b))?new QU(this.zc,this.oc,c,this.Tb,this.G,this.D,null):r(T.j?T.j(rq,b):T.call(null,rq,b))?new QU(this.zc,this.oc,this.state_,c,this.G,this.D,null):new QU(this.zc,this.oc,this.state_,this.Tb,this.G,R.C(this.D,b,c),null)};
g.ha=function(){return E(V.j(new X(null,4,5,Z,[new Y(lx,this.zc),new Y(Sn,this.oc),new Y(hz,this.state_),new Y(rq,this.Tb)],null),this.D))};g.fa=function(a,b){return new QU(this.zc,this.oc,this.state_,this.Tb,b,this.D,this.I)};g.la=function(a,b){return Ff(b)?this.da(null,x(b,0),x(b,1)):v.C(Rc,this,b)};g.df=function(a,b){a=y(this.Tb);return r(a)?yU(a,b):null};g.ze=function(a,b,c){a=y(this.Tb);if(r(a))return zU(a,b,c);c=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c;c=B.j(c,vB);b=FU(c,b);return BU(b)};
g.Ud=function(){function a(){var f=Ch(!1);pl(c.state_,function(h,k,m,n){h=y(c.Tb);if(r(h)&&(k=cz.B(h),r(k))){if(r(y(k)))return null;if(r(cs.B(n))&&Fh(f))return gV(Rz,1537,new tl(function(){return new X(null,1,5,Z,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1905172485),yU(h,co),Dh(c.Tb,b())}return null});return MU(e,is.B(y(c.state_))).Ud(null)}function b(){Qd(c.state_,ql);return PU(d,is.B(y(c.state_))).Ud(null)}var c=this,d=R.C(c.oc,hz,c.state_),e=R.C(c.zc,hz,c.state_);Dh(c.Tb,function(){var f=
a();return r(f)?f:b()}());return this};
function RU(a,b,c,d){var e=function(){switch(a instanceof C?a.na:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.na:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.B(e)].join(""));}default:throw Error(["No matching clause: ",t.B(h)].join(""));}}();return[t.B(f),"//",xT(P([b,c]))].join("")}
function SU(a,b,c){function d(n){return n.O?n.O():n.call(null)}var e=yc(so);c=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c;var f=B.j(c,Vu),h=B.j(c,Ot);B.j(c,TA);var k=XQ(null,null),m=XQ(1,null);xQ(function(){var n=function(){function u(w){var z=w[1];if(7===z)return w[2]=w[2],w[1]=3,Gn;if(1===z)return w[2]=null,w[1]=2,Gn;if(4===z){z=w[9];z=w[2];var F=Q(z,0,null),H=Q(z,1,null),G=D.j(H,k)||null==F;w[7]=z;w[8]=H;w[9]=F;w[10]=G;w[1]=r(G)?5:6;return Gn}if(15===z)return z=w[9],w[2]=z,w[1]=16,Gn;if(13===z)return w[2]=
w[2],w[1]=10,Gn;if(6===z)return z=w[9],w[1]=yc(null==z)?8:9,Gn;if(3===z)return VQ(w,w[2]);if(12===z)return w[2]=!1,w[1]=13,Gn;if(2===z)return eR(w,4,new X(null,2,5,Z,[a,k],null));if(11===z)return w[2]=!0,w[1]=13,Gn;if(9===z)return w[2]=!1,w[1]=10,Gn;if(5===z)return w[2]=null,w[1]=7,Gn;if(14===z)return z=w[9],z=gh(hk,z),w[2]=z,w[1]=16,Gn;if(16===z){z=w[9];var N=w[2],O=B.j(N,Hp);z=d(function(){return function(){try{r(f)&&gV(Mw,1736,new tl(function(){return new X(null,2,5,Z,["Pre-handler event: %s",
O],null)}),1789512212);var U=r(e)?function(){try{if(Cf(N)&&WS(new qk(null,new q(null,11,[iw,null,Gr,null,Ut,null,Cx,null,lp,null,Hp,null,TB,null,mt,null,Eu,null,yu,null,Zt,null],null),null),N)){var xa=null!=N&&(N.J&64||l===N.ua)?gh(hk,N):N,ya=B.j(xa,Gr),Ta=B.j(xa,Zt),ka=B.j(xa,Cx),pa=B.j(xa,mt),Ca=B.j(xa,Eu),ua=B.j(xa,Ut),Ba=B.j(xa,Hp),Ya=B.j(xa,iw);var bc=FP(ya)&&Lf(Ta)&&ka instanceof Bh&&pa instanceof Bh&&Cf(Ca)&&"string"===typeof ua&&!FC(ua)&&null==qU(Ba)&&(null==Ya||Lf(Ya))}else bc=!1;var yb=
bc?null:AS}catch(fc){if(fc instanceof Error)yb=fc;else throw fc;}return null==yb?N:BS(1739,"(server-event-msg? event-msg)",N,yb)}():function(){try{if(Cf(N)&&WS(new qk(null,new q(null,6,[Gr,null,io,null,Hp,null,TB,null,yu,null,Zt,null],null),null),N)){var xa=null!=N&&(N.J&64||l===N.ua)?gh(hk,N):N,ya=B.j(xa,Gr),Ta=B.j(xa,Zt),ka=B.j(xa,io),pa=B.j(xa,Hp);var Ca=FP(ya)&&Lf(Ta)&&ka instanceof Bh&&null==qU(pa)}else Ca=!1;var ua=Ca?null:AS}catch(Ba){if(Ba instanceof Error)ua=Ba;else throw Ba;}return null==
ua?N:BS(1740,"(client-event-msg? event-msg)",N,ua)}();return b.B?b.B(U):b.call(null,U)}catch(xa){var ea=xa;try{return r(h)?h.j?h.j(ea,N):h.call(null,ea,N):gV(Dp,1745,new tl(function(){return new X(null,3,5,Z,[ea,"Chsk router `event-msg-handler` error: %s",O],null)}),-1830371870)}catch(ya){var va=ya;return gV(Dp,1746,new tl(function(){return new X(null,3,5,Z,[va,"Chsk router `error-handler` error: %s",O],null)}),-756787606)}}}}());w[11]=z;w[2]=null;w[1]=2;return Gn}return 10===z?(w[1]=r(w[2])?14:15,
Gn):8===z?(z=w[9],F=l===z.ua,w[1]=r(z.J&64||F)?11:12,Gn):null}return function(){function w(H){for(;;){a:try{for(;;){var G=u(H);if(!T(G,Gn)){var N=G;break a}}}catch(O){N=O;H[2]=N;if(E(H[4]))H[1]=J(H[4]);else throw N;N=Gn}if(!T(N,Gn))return N}}function z(){var H=[null,null,null,null,null,null,null,null,null,null,null,null];H[0]=F;H[1]=1;return H}var F=null;F=function(H){switch(arguments.length){case 0:return z.call(this);case 1:return w.call(this,H)}throw Error("Invalid arity: "+arguments.length);};
F.O=z;F.B=w;return F}()}(),p=function(){var u=n();u[6]=m;return u}();return SQ(p)});return function(){return RP(k)}}function TU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new I(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=Q(d,0,null);d=null!=d&&(d.J&64||l===d.ua)?gh(hk,d):d;B.j(d,Vu);B.j(d,Ot);return SU(b,c,d)};var UU={},VU={},WU=[];function XU(a,b){var c=VU[a];if(void 0!==c)return c;try{WU.push(a);var d=UU[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};UU[a]=d}if(e){delete shadow$provide[a];try{e.call(d,la,XU,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{WU.pop()}return d.exports}XU.cache={};XU.resolve=function(a){return a};
function KG(a){return XU(a,{})};var YU=KG(3);var ZU=KG(12);var BV={};var CV={},DV="undefined"!==typeof window&&null!=window.document,EV=new qk(null,new q(null,2,["aria",null,"data",null],null),null);function FV(a){return 2>M(a)?a.toUpperCase():[yg.C(a,0,1).toUpperCase(),yg.j(a,1)].join("")}function GV(a){if("string"===typeof a)return a;a=Ig(a);var b=DC(a,/-/),c=E(b);b=J(c);c=K(c);return r(EV.B?EV.B(b):EV.call(null,b))?a:hh(t,b,Lh.j(FV,c))}
function HV(a){var b=function(){if(tf(a)){var c=a.displayName;r(c)||(c=a.name,c="string"===typeof c&&E(c)?c:null)}else c=!1;if(r(c))return c;c=null!=a&&(a.Y&4096||l===a.tf)?Ig(a):!1;if(r(c))return c;c=wf(a);return Cf(c)?Jz.B(c):null}();return r(b)?yC(t.B(b),"$","."):null}function IV(a){return a instanceof C||a instanceof A}
var JV=function JV(a){switch(arguments.length){case 0:return JV.O();case 1:return JV.B(arguments[0]);case 2:return JV.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new I(c.slice(2),0,null);return JV.F(arguments[0],arguments[1],c)}};JV.O=function(){return null};JV.B=function(a){return zf(a)?(a=Ah(function(b){return r(b)?IV(b)?Ig(b):b:null},a),E(a)?AC(" ",a):null):IV(a)?Ig(a):a};
JV.j=function(a,b){return r(a)?r(b)?[t.B(JV.B(a))," ",t.B(JV.B(b))].join(""):JV.B(a):JV.B(b)};JV.F=function(a,b,c){return v.C(JV,JV.j(a,b),c)};JV.ba=function(a){var b=J(a),c=K(a);a=J(c);c=K(c);return this.F(b,a,c)};JV.T=2;var KV=!1;function LV(a){if(Cf(a))try{var b=B.j(a,fB)}catch(c){b=null}else b=null;return b}
function MV(a){var b=fB.B(wf(a));if(r(b))return b;b=LV(Q(a,1,null));if(r(b))return b;b=Q(a,0,null);switch(b instanceof C?b.na:null){case "\x3e":case "f\x3e":return LV(Q(a,2,null));case "r\x3e":return a=Q(a,2,null),null==a?null:a.key;default:return null}};var NV=0;function OV(a){return setTimeout(a,16)}var PV=DV?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:OV}().bind(a)}():OV;function QV(a,b){return a.Gf-b.Gf}function RV(){return null}function SV(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function TV(a,b,c){b.push(c);return a.schedule()}function UV(){this.cf=!1}g=UV.prototype;g.flush_after_render=function(){var a=this.De;if(null==a)return null;this.De=null;return SV(a)};g.queue_render=function(a){null==this.Qe&&(this.Qe=[]);return TV(this,this.Qe,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.cf)return null;this.cf=!0;return PV.B?PV.B(a):PV.call(null,a)};g.flush_before_flush=function(){var a=this.Ee;if(null==a)return null;this.Ee=null;return SV(a)};
g.flush_queues=function(){this.flush_before_flush();RV();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.cf=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Ee&&(this.Ee=[]);return TV(this,this.Ee,a)};g.add_after_render=function(a){null==this.De&&(this.De=[]);return TV(this,this.De,a)};
g.flush_render=function(){var a=this.Qe;if(null==a)return null;this.Qe=null;a:{a.sort(QV);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var VV=new UV;function WV(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return VV.queue_render(a)};function XV(a){if(null!=a&&null!=a.Ai)a=a.id;else{var b=XV[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=XV._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("Compiler.get-id",a);}return a}function YV(a,b){if(null!=a&&null!=a.Wg)a=a.Wg(a,b);else{var c=YV[na(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=YV._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw Cc("Compiler.as-element",a);}return a}
function ZV(a,b,c,d,e){if(null!=a&&null!=a.Xg)a=a.Xg(a,b,c,d,e);else{var f=ZV[na(null==a?null:a)];if(null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=ZV._,null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Cc("Compiler.make-element",a);}return a};var $V;function aW(a,b){b.mf=null;a:{var c=$V;$V=b;try{var d=a.O?a.O():a.call(null);break a}finally{$V=c}d=void 0}a=b.mf;b.ud=!1;a:{c=b.Ld;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function bW(a){var b=$V;if(null!=b){var c=b.mf;null==c?b.mf=[a]:c.push(a)}}function cW(a,b,c){a.tb=R.C(a.tb,b,c);return a.hg=null}
function dW(a,b){a.tb=S.j(a.tb,b);return a.hg=null}function eW(a,b,c){var d=a.hg;d=null==d?a.hg=ag(function(m,n,p){m.push(n);m.push(p);return m},[],a.tb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.P?k.P(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fW(a,b,c,d){Jd(a,["#object[reagent.ratom.",t.B(c)," "].join(""));a:{c=$V;$V=null;try{var e=d;break a}finally{$V=c}e=void 0}$k(e,a,b);return Jd(a,"]")}var gW=null;
function hW(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.tb=d;this.J=2154201088;this.Y=114690}g=hW.prototype;g.ga=function(a,b,c){return fW(b,c,"RAtom",new q(null,1,[ol,this.fb(null)],null))};g.ea=function(){return this.meta};g.ia=function(){return ta(this)};g.ca=function(a,b){return this===b};g.Bc=function(a,b){a=this.state;this.state=b;null!=this.tb&&eW(this,a,b);return b};g.wf=function(a,b){return this.Bc(null,b.B?b.B(this.state):b.call(null,this.state))};
g.xf=function(a,b,c){return this.Bc(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.yf=function(a,b,c,d){return this.Bc(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.zf=function(a,b,c,d,e){return this.Bc(null,jh(b,this.state,c,d,e))};g.Bf=function(a,b){eW(this,a,b)};g.Ke=function(a,b,c){return cW(this,b,c)};g.Le=function(a,b){return dW(this,b)};g.fa=function(a,b){return new hW(this.state,b,this.validator,this.tb)};g.fb=function(){bW(this);return this.state};
function jW(a){if(null!=a&&null!=a.ag)a=a.ag(a);else{var b=jW[na(null==a?null:a)];if(null!=b)a=b.B?b.B(a):b.call(null,a);else if(b=jW._,null!=b)a=b.B?b.B(a):b.call(null,a);else throw Cc("IDisposable.dispose!",a);}return a}function kW(a,b,c,d){return a._handle_change(b,c,d)}function lW(a){this.f=a;this.state=null;this.ud=!0;this.Pg=!1;this.nf=this.Kc=this.tb=this.Ld=null;this.J=2153807872;this.Y=114690}g=lW.prototype;g._peek_at=function(){var a=$V;$V=null;try{return this.fb(null)}finally{$V=a}};
g._handle_change=function(a,b,c){return b===c||this.ud?null:null==this.Kc?(this.ud=!0,null==gW&&(gW=[],!1===VV.cf&&VV.schedule()),gW.push(this)):!0===this.Kc?this._run(!1):this.Kc.B?this.Kc.B(this):this.Kc.call(null,this)};
g._update_watching=function(a){var b=tk(a),c=tk(this.Ld);this.Ld=a;a=E(wI.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.xa(null,f);Pd(h,this,kW);f+=1}else if(a=E(a))d=a,Gf(d)?(a=$d(d),f=ae(d),d=a,e=M(a),a=f):(a=J(d),Pd(a,this,kW),a=K(d),d=null,e=0),f=0;else break;b=E(wI.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.xa(null,e),Qd(a,this),e+=1;else if(b=E(b))c=b,Gf(c)?(b=$d(c),d=ae(c),c=b,a=M(b),b=d,d=a):(a=J(c),Qd(a,this),b=K(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.ud&&null!=this.Ld?this._run(!0):null};g._try_capture=function(a){try{return this.nf=null,aW(a,this)}catch(b){return this.nf=this.state=a=b,this.ud=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):aW(this.f,this);this.Pg||(this.state=a,null==this.tb||D.j(b,a)||eW(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;a=B.j(b,Ru);var c=B.j(b,aA),d=B.j(b,Om);b=B.j(b,po);null!=a&&(this.Kc=a);null!=c&&(this.ni=c);null!=d&&(this.Sg=d);return null!=b?this.Pg=b:null};g.ga=function(a,b,c){return fW(b,c,"Reaction",new q(null,1,[ol,this.fb(null)],null))};g.ia=function(){return ta(this)};g.ca=function(a,b){return this===b};
g.ag=function(){var a=this.state,b=this.Ld;this.Kc=this.state=this.Ld=null;this.ud=!0;b=E(tk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.xa(null,e);Qd(f,this);e+=1}else if(b=E(b))c=b,Gf(c)?(b=$d(c),e=ae(c),c=b,d=M(b),b=e):(b=J(c),Qd(b,this),b=K(c),c=null,d=0),e=0;else break;null!=this.Sg&&this.Sg(a);a=this.Zi;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.B?d.B(this):d.call(null,this),c+=1;else return null};g.Bc=function(a,b){a=this.state;this.state=b;this.ni(a,b);eW(this,a,b);return b};
g.wf=function(a,b){var c=this;return c.Bc(null,function(){var d=c._peek_at();return b.B?b.B(d):b.call(null,d)}())};g.xf=function(a,b,c){var d=this;return d.Bc(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.yf=function(a,b,c,d){var e=this;return e.Bc(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.zf=function(a,b,c,d,e){return this.Bc(null,jh(b,this._peek_at(),c,d,e))};g.Bf=function(a,b){eW(this,a,b)};
g.Ke=function(a,b,c){return cW(this,b,c)};g.Le=function(a,b){a=yf(this.tb);dW(this,b);return!a&&yf(this.tb)&&null==this.Kc?this.ag(null):null};g.fb=function(){var a=this.nf;if(null!=a)throw a;(a=null==$V)&&(mW.O?mW.O():mW.call(null));a&&null==this.Kc?this.ud&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.tb||D.j(a,this.state)||eW(this,a,this.state)):(bW(this),this.ud&&this._run(!1));return this.state};
function mW(){for(;;){var a=gW;if(null==a)return null;gW=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}RV=mW;function nW(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new I(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.J&64||l===c.ua)?gh(hk,c):c;c=B.j(e,Ru);d=B.j(e,aA);e=B.j(e,Om);b=new lW(b);b._set_opts(new q(null,3,[Ru,c,aA,d,Om,e],null));return b}var oW=nW(null);
function pW(a,b){var c=qW,d=oW,e=aW(a,d);null!=d.Ld&&(oW=nW(null),d._set_opts(c),d.f=a,d.Kc=function(){return WV.B?WV.B(b):WV.call(null,b)},b.cljsRatom=d);return e};var rW;function sW(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=hb(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=R.C(f,Hg.B(k),ib(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function tW(a){var b;if(b=tf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.wd);return b}
function uW(a,b){for(;;){var c=a.wd,d=!0===a.yh?c.call(a,a):function(){var e=sW(a,a.props);switch(M(e)){case 1:return c.call(a);case 2:return c.call(a,$e(e,1));case 3:return c.call(a,$e(e,1),$e(e,2));case 4:return c.call(a,$e(e,1),$e(e,2),$e(e,3));case 5:return c.call(a,$e(e,1),$e(e,2),$e(e,3),$e(e,4));default:return c.apply(a,Ic(e).slice(1))}}();if(Ff(d))return YV(b,d);if(Lf(d))d=tW(d)?function(e,f,h,k,m){return function(){function n(u){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-
0);w<z.length;)z[w]=arguments[w+0],++w;w=new I(z,0,null)}return p.call(this,w)}function p(u){return YV(f,hh(Hi,m,u))}n.T=0;n.ba=function(u){u=E(u);return p(u)};n.F=p;return n}()}(a,b,c,null,d):d,a.wd=d;else return d}}var qW=new q(null,1,[po,!0],null);
function vW(a,b){switch(a instanceof C?a.na:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=Q(e,1,null),e=Cf(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Ah;d=null!=d?d:c.Ah=new hW(null,null,null,null);return Dh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,sW(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,sW(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,sW(this,c))};case "shouldComponentUpdate":return function(c){var d=KV;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return lh.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,sW(this,this.props),sW(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,sW(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,sW(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,sW(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ib(this,"cljsRatom");null!=c&&jW(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function wW(a,b){a=vW(a,b);return r(a)?a:b}var xW=new q(null,2,[QB,null,Zw,null],null),yW=function(a){var b=Ch(W);return function(c){var d=B.j(y(b),c);if(null!=d)return d;d=a.B?a.B(c):a.call(null,c);Eh.P(b,R,c,d);return d}}(function(a){if("string"===typeof a)return a;a=Ig(a);a=yC(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=DC(a,/-/);var b=E(a);a=J(b);b=K(b);return hh(t,a,Lh.j(FV,b))});
function zW(a){return ag(function(b,c,d){return R.C(b,Hg.B(yW(c)),d)},W,a)}
function AW(a,b){var c=function(){var h=as.B(a);return r(h)?h:Ku.B(a)}(),d=null==as.B(a),e=function(){var h=xy.B(a);if(r(h))return h;h=HV(c);return r(h)?h:t.B(sl("reagent"))}(),f=ag(function(h,k,m){return R.C(h,k,wW(k,m))},W,a);return R.F(f,xy,e,P([Tr,d,as,c,Ku,function(){var h=this,k=ib(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?pW(function(){a:{var m=rW;rW=h;try{var n=uW(h,b);break a}finally{rW=m}n=void 0}return n},h):k._run(!1)}]))}
function BW(a){return ag(function(b,c,d){c=Ig(c);b[c]=d;return b},{},a)}function CW(a,b){return AW(lk.F(P([xW,zW(a)])),b)}var DW=new X(null,5,5,Z,[pv,Lt,ax,ix,Ly],null);
function EW(a,b){function c(k,m,n){YU.Component.call(this,k,m,n);r(h)&&(h.j?h.j(this,k):h.call(null,this,k));r(f)&&(this.state=f.B?f.B(this):f.call(null,this));this.Gf=NV+=1;return this}a=CW(a,b);b=BW(kh(S,a,xy,Zn,ov,P([Ku,as,DW])));var d=BW(nk(a,DW)),e=xy.B(a),f=Zn.B(a),h=ov.B(a);lb(c.prototype,YU.Component.prototype,b);r(Ku.B(a))&&(c.prototype.render=Ku.B(a));r(as.B(a))&&(c.prototype.wd=as.B(a));r(Tr.B(a))&&(c.prototype.yh=Tr.B(a));lb(c,YU.Component,d);r(e)&&(c.displayName=e,c.kb=e,c.ub=function(k){return Jd(k,
e)});c.rb=!0;return c.prototype.constructor=c}function FW(a,b,c){a=XV(a);return b[a]=c}
function GW(a,b){for(;;){var c=b.wd,d=b.argv,e=gh(c,d);if(Ff(e))return YV(a,e);if(Lf(e))c=tW(e)?function(f,h,k,m,n,p){return function(){function u(z){var F=null;if(0<arguments.length){F=0;for(var H=Array(arguments.length-0);F<H.length;)H[F]=arguments[F+0],++F;F=new I(H,0,null)}return w.call(this,F)}function w(z){return YV(f,hh(Hi,p,z))}u.T=0;u.ba=function(z){z=E(z);return w(z)};u.F=w;return u}()}(a,b,c,null,d,e):e,b.wd=c;else return e}}
function HW(a,b){var c=b.argv,d=b.wd;b=YU.useState(0);Q(b,0,null);var e=Q(b,1,null),f=YU.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.B?e.B(Me):e.call(null,Me)}};k.Gf=NV+=1;k.constructor=d;k.wd=d;return f.current=k}();var h=f.current;b=ib(h,"cljsRatom");YU.useEffect(function(){return function(){var k=ib(h,"cljsRatom");return null==k?null:jW(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?pW(function(){a:{var k=rW;rW=h;try{var m=GW(a,h);break a}finally{rW=k}m=void 0}return m},
h):b._run(!1)}function IW(a,b){a=a.argv;b=b.argv;if(!1===KV)try{return D.j(a,b)}catch(c){return!1}else return!1}function JW(a,b){function c(e){return HW(a,e)}var d=ib(b,XV(a));if(r(d))return d;c.displayName=HV(b);d=YU.memo(c,IW);FW(a,b,d);return d};var KW=new qk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function LW(a,b,c,d){var e=W;e=null!=e&&(e.J&64||l===e.ua)?gh(hk,e):e;e=B.j(e,bt);if(a===document.activeElement&&Nf(KW,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(lh.j(f,c))return VV.add_after_render(function(){return MW.B?MW.B(d):MW.call(null,d)});c=M(f)-a.selectionStart;c=M(b)-c;d.Pe=b;a.value=b;tf(e)&&(e.B?e.B(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Pe=b;a.value=b;return tf(e)?e.B?e.B(b):e.call(null,b):null}
function MW(a){if(r(a.Ff)){a.Ag=!1;var b=a.zh,c=a.Pe,d=a.Nf;return lh.j(b,c)?LW(d,b,c,a):null}return null}function NW(a,b,c){a.Pe=c.target.value;r(a.Ag)||(a.Ag=!0,VV.add_after_render(function(){return MW(a)}));return b.B?b.B(c):b.call(null,c)}
function OW(a){var b=rW;if(r(null!=a?function(){var f=a.hasOwnProperty("onChange");return r(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.Ff)||(b.Ff=!0,b.Pe=c);r(b.Yg)||(b.Yg=tf(e)?function(f){b.Nf=f;return e.B?e.B(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.Nf=f;return e.current=f}:function(f){return b.Nf=f});b.zh=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return NW(b,d,f)};a.ref=b.Yg}}
var PW=new q(null,4,[nx,"ReagentInput",IA,MW,aq,function(a){return a.Ff=null},zw,function(a,b,c,d,e){OW(c);return ZV(e,a,b,c,d)}],null);var QW={},hV,SW=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,TW={"class":"className","for":"htmlFor",charset:"charSet"};function UW(a,b){return a.hasOwnProperty(b)?ib(a,b):null}function VW(a,b,c){if(IV(b)){var d=UW(TW,Ig(b));null==d?(d=GV(b),b=Ig(b),b=TW[b]=d):b=d}c=WW.B?WW.B(c):WW.call(null,c);a[b]=c;return a}
function WW(a){return"object"!==na(a)?a:IV(a)?Ig(a):Cf(a)?ag(VW,{},a):zf(a)?Dl(a):Lf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return gh(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}():Dl(a)}var XW={};function YW(a,b,c){if(IV(b)){var d=UW(XW,Ig(b));null==d?(d=GV(b),b=Ig(b),b=XW[b]=d):b=d}c=WW(c);a[b]=c;return a}
function ZW(a){return"object"!==na(a)?a:IV(a)?Ig(a):Cf(a)?ag(YW,{},a):zf(a)?Dl(a):Lf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new I(f,0,null)}return c.call(this,e)}function c(d){return gh(a,d)}b.T=0;b.ba=function(d){d=E(d);return c(d)};b.F=c;return b}():Dl(a)}
function $W(a,b){var c=b.id;b=b.className;c=null!=c&&null==TB.B(a)?R.C(a,TB,c):a;return r(b)?R.C(c,pz,JV.j(b,function(){var d=pz.B(a);return r(d)?d:Fx.B(a)}())):c}function aX(a,b,c,d,e){switch(M(b)-e){case 0:return YU.createElement(c,d);case 1:return YU.createElement(c,d,YV(a,Q(b,e,null)));default:return YU.createElement.apply(null,ag(function(f,h,k){h>=e&&f.push(YV(a,k));return f},[c,d],b))}}function bX(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Dh=d}
function cX(a,b,c){var d=ib(a,XV(c));null==d?tW(a)?a=FW(c,a,a):(d=wf(a),d=R.C(d,zw,a),d=EW(d,c),a=FW(c,a,d)):a=d;c={};c.argv=b;b=MV(b);null!=b&&(c.key=b);return YU.createElement(a,c)}function dX(a,b,c,d){var e={};e.wd=a;e.argv=Mi(b,c,M(b));b=MV(b);null!=b&&(e.key=b);return YU.createElement(JW(d,a),e)}function eX(a,b,c){var d;if(d=tf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?cX(a,b,c):dX(a,b,1,c)}var fX={};
function gX(a,b,c,d){var e=a.tag,f=Q(b,c,null),h=null==f||Cf(f),k=function(){var n=h?f:null;var p=pz.B(n);n=$W(r(p)?R.C(n,pz,JV.B(p)):n,a);n=r(a.Dh)?ZW(n):WW(n);return r(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m)return m=function(){var n=d.Bi;if(r(n))return n;n=EW(PW,d);return d.Bi=n}(),YV(d,vf(new X(null,6,5,Z,[m,b,e,k,c,d],null),wf(b)));m=LV(wf(b));null!=m&&(k.key=m);return ZV(d,b,e,k,c)}
function hX(a,b){return Ic(Lh.j(function(c){return YV(b,c)},a))}
function iX(a,b,c){null==b&&console.error("vec-to-elem",gl.F(P([a])));var d=Q(a,0,null);switch(d instanceof C?d.na:null){case "\x3e":return c=Q(a,1,null),gX(new bX(c,null,null,null),a,2,b);case "r\x3e":c=Q(a,1,null);d=Q(a,2,null);d=r(d)?d:{};var e=LV(wf(a));null!=e&&(d.key=e);return ZV(b,a,c,d,3);case "f\x3e":return dX(Q(a,1,null),a,2,b);case "\x3c\x3e":return d=Q(a,1,null),c=null==d||Cf(d),d=WW(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=MV(a),null!=e&&(d.key=e),ZV(b,a,YU.Fragment,d,c);default:if(IV(d)||
"string"===typeof d)a:for(;;)switch(c=Q(a,0,null),c=Ig(c),d=c.indexOf("\x3e"),d){case -1:d=UW(fX,c);if(null==d){var f=K(Mk(SW,Ig(c)));d=Q(f,0,null);e=Q(f,1,null);f=Q(f,2,null);f=null==f?null:yC(f,/\./," ");var h=lh.j(-1,d.indexOf("-"));d=new bX(d,e,f,h);c=fX[c]=d}else c=d;a=gX(c,a,1,b);break a;case 0:a=null;break a;default:a=vf(new X(null,2,5,Z,[yg.C(c,0,d),R.C(vf(a,null),0,yg.j(c,d+1))],null),wf(a))}else a=c.C?c.C(d,a,b):c.call(null,d,a,b);return a}}
var jX=function(a){var b=sl("G__"),c=r(np.B(a))?eX:cX;if("undefined"===typeof BV||"undefined"===typeof CV||"undefined"===typeof QW||"undefined"===typeof hV)hV=function(d,e,f,h){this.Yb=d;this.id=e;this.Ig=f;this.Cj=h;this.J=393216;this.Y=0},hV.prototype.fa=function(d,e){return new hV(this.Yb,this.id,this.Ig,e)},hV.prototype.ea=function(){return this.Cj},hV.prototype.Ai=function(){return this.id},hV.prototype.Wg=function(d,e){d=this.Ig;return"object"!==na(e)?e:Ff(e)?iX(e,this,d):Jf(e)?hX(e,this):IV(e)?
Ig(e):(null!=e?e.J&2147483648||l===e.Ia||(e.J?0:Ac(Ld,e)):Ac(Ld,e))?gl.F(P([e])):e},hV.prototype.Xg=function(d,e,f,h,k){return aX(this,e,f,h,k)},hV.rb=!0,hV.kb="reagent.impl.template/t_reagent$impl$template34884",hV.ub=function(d){return Jd(d,"reagent.impl.template/t_reagent$impl$template34884")};return new hV(a,b,c,W)}(W);var kX=Ch(W);function lX(a,b,c){var d=KV;KV=!0;try{return ZU.render(a.O?a.O():a.call(null),b,function(){var e=KV;KV=!1;try{return Eh.P(kX,R,b,a),VV.flush_after_render(),null!=c?c.O?c.O():c.call(null):null}finally{KV=e}})}finally{KV=d}}function mX(a){var b=document.getElementById("app");mW();var c=tf(jX)?new X(null,2,5,Z,[jX,jX],null):new X(null,2,5,Z,[jX,tq.B(jX)],null),d=Q(c,0,null);c=Q(c,1,null);return lX(function(){return YV(d,tf(a)?a.O?a.O():a.call(null):a)},b,c)};var nX=KG(13);var oX=KG(66);var pX=KG(67);KG(68);var iV=KG(80);var LG=KG(128);var qX=KG(151);var module$node_modules$ol$style=KG(230);var module$node_modules$ol$Map=KG(248);var rX=KG(252);var sX=KG(310);var tX=KG(345);var jV=function(a,b,c){var d=Q(c,0,null),e=null!=d&&(d.J&64||l===d.ua)?gh(hk,d):d,f=B.j(e,bC),h=B.C(e,Rx,zT.F(P([us,20]))),k=B.C(e,Ut,function(){var ka=ps.B(e);return r(ka)?ka:yT()}()),m=B.j(e,BB),n=B.C(e,qz,Iv),p=B.j(e,mu),u=B.C(e,nq,pr),w=B.j(e,Ln),z=B.j(e,Vm),F=B.j(e,Zq);d=B.C(e,jC,aQ(2048));var H=B.C(e,dA,MS),G=B.C(e,yw,!0);null!=Q(c,1,null)&&gV(Rz,1603,new tl(function(){return new X(null,1,5,Z,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),1317299314);Nf(e,
Km)&&gV(Rz,1604,new tl(function(){return new X(null,1,5,Z,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-2027500543);("string"!==typeof b||FC(b))&&gV(Rz,1607,new tl(function(){return new X(null,1,5,Z,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),1463828284);var N=wU(n);n=function(){if(r(NS)){var ka=NS.location;var pa=r(ka)?new q(null,7,[jq,ka.href,BB,ka.protocol,vu,ka.hostname,Zq,ka.host,Xp,ka.pathname,
Uq,ka.search,PA,ka.hash],null):null}else pa=null;ka=r(a)?a:Xp.B(pa);var Ca=fA.B(e);if(r(Ca))return new X(null,2,5,Z,[Ca.C?Ca.C(ka,pa,Bq):Ca.call(null,ka,pa,Bq),Ca.C?Ca.C(ka,pa,$z):Ca.call(null,ka,pa,$z)],null);r(m)?Ca=m:(Ca=BB.B(pa),Ca=r(Ca)?Ca:Pn);pa=r(F)?r(w)?[t.B(F),":",t.B(w)].join(""):F:r(w)?[t.B(vu.B(pa)),":",t.B(w)].join(""):Zq.B(pa);return new X(null,2,5,Z,[RU(Ca,pa,ka,Bq),RU(Ca,pa,ka,$z)],null)}();c=Q(n,0,null);var O=Q(n,1,null);n=new q(null,3,[$r,XQ(aQ(128),null),io,XQ(aQ(10),null),mr,function(){var ka=
aQ(512);return r(G)?WQ(ka,Lh.B(function(pa){return new X(null,2,5,Z,[hB,pa],null)})):XQ(ka,null)}()],null);h=new q(null,6,[Ut,k,vx,n,mu,p,Vm,z,qz,N,Rx,h],null);var U=lk.F(P([h,new q(null,2,[Vy,c,dA,H],null)])),ea=lk.F(P([h,new q(null,3,[Vy,O,bC,f,dA,H],null)])),va=new q(null,2,[lx,U,Sn,ea],null);f=xU(function(){var ka=u instanceof C?u.na:null;switch(ka){case "ws":return MU(U,b);case "ajax":return PU(ea,b);case "auto":ka=lk.F(P([new q(null,2,[hz,Ch(new q(null,4,[nq,pr,Hy,!1,Ht,!1,is,b],null)),rq,Ch(null)],
null),va]));var pa=S.F(ka,lx,P([Sn,hz,rq]));pa=Df(ka)?ai.j(W,pa):pa;return new QU(lx.B(ka),Sn.B(ka),hz.B(ka),rq.B(ka),null,mh(pa),null);default:throw Error(["No matching clause: ",t.B(ka)].join(""));}}());if(r(f)){var xa=hz.B(f),ya=$r.B(n),Ta=xh.j(AU,f);d=gR(new X(null,3,5,Z,[$r.B(n),io.B(n),mr.B(n)],null),d);H=WQ(1,Lh.B(function(ka){var pa=qU(ka);ka=r(pa)?new X(null,2,5,Z,[Mz,ka],null):ka;pa=Q(ka,0,null);var Ca=Q(ka,1,null);return new q(null,6,[Gr,ya,Zt,Ta,io,xa,Hp,ka,TB,pa,yu,Ca],null)}));dR(d,
H);return new q(null,4,[Mt,f,Gr,H,Zt,Ta,io,hz.B(f)],null)}return gV(Rz,1709,new tl(function(){return new X(null,1,5,Z,["Failed to create channel socket"],null)}),1875638200)}("/chsk",null,P([new q(null,1,[nq,pr],null)])),kV=null!=jV&&(jV.J&64||l===jV.ua)?gh(hk,jV):jV;B.j(kV,Mt);var lV=B.j(kV,Gr);B.j(kV,Zt);B.j(kV,io);var xX=Ch(function(){return null});
function yX(a){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;var b=B.j(a,Dq);return new X(null,2,5,Z,[st,new q(null,1,[jx,function(c){return r(c)?pX(c,{value:b,mode:"clojure",lineNumbers:!1}):null}],null)],null)}function zX(a){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;var b=B.j(a,IB);return new X(null,2,5,Z,[Db,new q(null,1,[jx,function(c){return r(c)?oX(c,Dl(b)):null}],null)],null)}function AX(a){return new X(null,2,5,Z,[Bp,new q(null,1,[Ix,new q(null,1,[Dz,nX(Cz.B(a))],null)],null)],null)}
function BX(a){return new X(null,2,5,Z,[lm,new q(null,1,[Ix,new q(null,1,[Dz,jt.B(a)],null)],null)],null)}
function mV(a){var b=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;a=B.j(b,To);var c=B.j(b,Ou),d=B.j(b,Bm),e=B.j(b,On);return r(a)?(b=lk.F(P([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new rX.default).readFeature(a,Dl(b)),r(e)&&a.setStyle(new module$node_modules$ol$style.Style(Dl(lk.F(P([W,function(){var f=ei(e,new X(null,2,5,Z,[un,Ys],null));return r(f)?new q(null,1,[Rt,new module$node_modules$ol$style.Fill({color:iV.asString(f)})],null):
null}(),function(){var f=ei(e,new X(null,2,5,Z,[ts,Ys],null));return r(f)?new q(null,1,[ft,new module$node_modules$ol$style.Stroke({color:iV.asString(f)})],null):null}()]))))),a):null}
function CX(a){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;var b=B.j(a,Cr),c=B.j(a,Ao),d=B.j(a,Gz),e=B.j(a,Eb),f=B.j(a,Im),h=B.j(a,Wp);return new X(null,2,5,Z,[st,new q(null,2,[qq,new q(null,1,[rx,r(b)?b:"500px"],null),jx,function(k){if(r(k)){var m=null==d?null:Dl(d),n=r(e)?function(){var w=null==m?null:LG.fromLonLat(m);console.log(["Center projection: ",AC(" ",d)," (WGS84) to ",t.B(w)," (EPSG:3857)"].join(""));return w}():m;n=r(n)?n:[0,0];var p=r(c)?new module$node_modules$ol$style.Style(Dl(lk.F(P([W,
function(){var w=ei(c,new X(null,2,5,Z,[Rt,Qq],null));return r(w)?new q(null,1,[Rt,new module$node_modules$ol$style.Fill({color:iV.asString(w)})],null):null}(),function(){var w=ei(c,new X(null,2,5,Z,[ft,Qq],null));return r(w)?new q(null,1,[ft,new module$node_modules$ol$style.Stroke({color:iV.asString(w)})],null):null}()])))):null,u=new sX.Vector(Dl(new q(null,1,["features",bi.j(mV,h)],null)));p=new tX.Vector(Dl(lk.F(P([new q(null,1,[kn,u],null),r(p)?new q(null,1,[qq,p],null):null]))));return new module$node_modules$ol$Map.default({target:k,
layers:[new tX.Tile({source:new sX.OSM}),p],view:new qX.default({center:n,zoom:r(f)?f:4})})}return null}],null)],null)}
function EX(a){return new X(null,2,5,Z,[zh,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(Gf(e)){var f=$d(e),h=M(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[lm,new q(null,1,[fB,ZB.B(n)],null),new X(null,2,5,Z,[DX,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Pg(Rg(k),d(ae(e))):Pg(Rg(k),null)}k=J(e);return ff(new X(null,3,5,Z,[lm,new q(null,1,[fB,ZB.B(k)],null),new X(null,2,5,Z,[DX,k],null)],null),d(De(e)))}return null}},
null,null)}(Zp.B(a))}()],null)}
function FX(a){return new X(null,2,5,Z,[Nb,function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){if(Gf(e)){var f=$d(e),h=M(f),k=Ng(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[lm,new q(null,1,[fB,ZB.B(n)],null),new X(null,2,5,Z,[DX,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Pg(Rg(k),d(ae(e))):Pg(Rg(k),null)}k=J(e);return ff(new X(null,3,5,Z,[lm,new q(null,1,[fB,ZB.B(k)],null),new X(null,2,5,Z,[DX,k],null)],null),d(De(e)))}return null}},
null,null)}(Zp.B(a))}()],null)}
function DX(a){var b=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a,c=B.j(b,ZB),d=B.j(b,Zs);b=function(){switch(d instanceof C?d.na:null){case "widget.type/html":return BX;case "widget.type/row":return EX;case "widget.type/column":return FX;case "widget.type/vega-lite":return zX;case "widget.type/code":return yX;case "widget.type/markdown":return AX;case "widget.type/geoplot":return CX;default:return new X(null,2,5,Z,[DA,new X(null,3,5,Z,[Cq,"Unknown Widget type ",new X(null,2,5,Z,[Iq,t.B(d)],null)],null)],
null)}}();console.log("Render",Ig(d));return vf(new X(null,2,5,Z,[b,a],null),new q(null,1,[fB,c],null))}
function GX(a){return new X(null,4,5,Z,[Vp,new X(null,3,5,Z,[Bn,new q(null,1,[qq,new q(null,1,[hw,"Cinzel"],null)],null),"Literate"],null),E(a)?function(){return function d(c){return new Jg(null,function(){for(;;){var e=E(c);if(e){var f=e;if(Gf(f)){var h=$d(f),k=M(h),m=Ng(k);return function(){for(var z=0;;)if(z<k){var F=x(h,z),H=null!=F&&(F.J&64||l===F.ua)?gh(hk,F):F,G=H,N=B.j(H,Wf);Qg(m,new X(null,4,5,Z,[Vq,new q(null,1,[fB,N],null),new X(null,3,5,Z,[Lm,new q(null,1,[Fn,function(O,U,ea,va,xa){return function(){return IP(xa)}}(z,
F,H,G,N,h,k,m,f,e)],null),new X(null,1,5,Z,[St],null)],null),new X(null,2,5,Z,[zA,DX(G)],null)],null));z+=1}else return!0}()?Pg(Rg(m),d(ae(f))):Pg(Rg(m),null)}var n=J(f),p=null!=n&&(n.J&64||l===n.ua)?gh(hk,n):n,u=p,w=B.j(p,Wf);return ff(new X(null,4,5,Z,[Vq,new q(null,1,[fB,w],null),new X(null,3,5,Z,[Lm,new q(null,1,[Fn,function(z,F,H,G){return function(){return IP(G)}}(n,p,u,w,f,e)],null),new X(null,1,5,Z,[St],null)],null),new X(null,2,5,Z,[zA,DX(u)],null)],null),d(De(f)))}return null}},null,null)}(a)}():
new X(null,2,5,Z,[Du,new X(null,3,5,Z,[Tt,new q(null,1,[qq,new q(null,1,[hw,"Cinzel"],null)],null),"Widgets shall be displayed here."],null)],null),new X(null,2,5,Z,[Nz,new X(null,3,5,Z,[ry,new q(null,1,[Fn,function(){return gP(new X(null,1,5,Z,[new q(null,3,[ZB,t.B(dm()),Zs,hv,Dq,function(){var b=new dc,c=kc,d=jc;kc=!0;jc=function(e){return b.append(e)};try{AE()}finally{jc=d,kc=c}return t.B(b)}()],null)],null))}],null),new X(null,1,5,Z,[Cy],null)],null)],null)],null)}
function HX(a){a=null!=a&&(a.J&64||l===a.ua)?gh(hk,a):a;var b=B.j(a,yu),c=Q(b,0,null);b=Q(b,1,null);console.group("Sente");console.log(nk(a,new X(null,2,5,Z,[TB,yu],null)));console.groupEnd();return D.j(cB,c)?gP(b):null}
function IX(){var a=new X(null,7,5,Z,[qr,new X(null,2,5,Z,[Cg(Qw,UB,new X(null,2,5,Z,[Cs,new q(null,1,[Zp,new X(null,1,5,Z,[Mx],null)],null)],null)),nv],null),KB,Pp,rp,new X(null,2,5,Z,[UB,ZB],null),new X(null,1,5,Z,[Cg(Sr,Pp,UB,Vx)],null)],null);var b=y(BE);a=CE.j?CE.j(a,b):CE.call(null,a,b);a=Vf(a);return mX(new X(null,2,5,Z,[GX,a],null))}function JX(){console.log("Welcome to Literate");Dh(xX,TU(lV,HX));hP(function(){console.log("Will re-render...");return IX()});return IX()}
Ga("literate.app.init",JX);try{JX()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);